# StackOverflow 问答 10881000-10881999

# ubuntu - 未找到 lgfortran

> ID：10881002
> 
> 赞同：10
> 
> 时间：2012-06-04T12:06:18.200
> 
> 标签：ubuntu, makefile, linker, fortran, gfortran

我正在使用 Ubuntu 10.04 并尝试编译一些使用 gfortran 的代码。在某些时候 Makefiles 会：

```
-L. -lgfortran 
```

我得到了错误

```
/usr/bin/ld: cannot find -lgfortran 
```

虽然它已安装：

```
ldconfig -p  |  grep   fortran
    libgfortran.so.3 (libc6,x86-64) => /usr/lib/libgfortran.so.3 
```

我该如何解决？

PS：Makefile：

```
## FLAGS

CC:= gcc
C++:= g++
CFLAGS:= -c -O -Dintel -g 
FC:= gfortran
FFLAGS:= -c -O -cpp -g
LD:= g++
LDFLAGS:= -O

WETTER_CGAL_FLAGS:=  -g

#WETTER-Data
WETTER_cgal: weather.cpp surface_alg.h $(WETTER_CGAL_OBJECTS) WATT_interface.h data.cpp
    $(C++) $(WETTER_CGAL_FLAGS) -c weather.cpp -frounding-math
    $(C++) -c data.cpp -frounding-math 
    $(LD) $(WETTER_CGAL_OBJECTS) weather.o data.o -o WETTER_cgal -L. -lgfortran -lgmp -lCGAL -frounding-math -fp-model 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-04T16:21:42.060

您的版本是否与您的`gfortran`版本不同`g++`？或者它可能安装在不同的位置？

`-lname`选项（在本例中`name`为）指示链接器搜索在库搜索路径中`gfortran`调用的库文件。`libname.a`如果找到并且该`-[B]static`选项未强制执行静态链接，则链接器将再次搜索`libname.so`并链接它（如果找到）。如果`libname.a`未找到，尽管存在`libname.so`.

您的安装中应该有一个`libgfortran.a`地方。`gfortran`搜索它`find`并提供路径到`g++`with `-L/path/to/compiler/libs`。如果与您的路径`g++`相同的版本将已经存在于库搜索路径中（因为 C/C++ 和 Fortran 静态库都位于同一位置）。如果两个编译器的版本不同，它就不会出现。`gfortran``libgfortran.a`

例如，在基于 64 位 RedHat 的系统`libgfortran.a`上`/usr/lib/gcc/x86_64-redhat-linux/<GCC version>/`，共享`libgfortran.so.*`位于`/usr/lib64`.

另一种解决方案是替换`-lgfortran`为`/usr/lib/libgfortran.so.3`.

该`-L.`选项与 相关而`-lCGAL`不是`-lgfortran`。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-05T15:08:55.810

我今天在编译 ATLAS 时遇到了同样的问题，并且能够使用从`libgfortran.so.3`to的符号链接修复它`libgfortran.so`。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-06-20T20:29:22.240

只要确保你：

```
gcc --version 
```

和

```
gfortan --version 
```

是一样的。

```
/usr/bin/ 
```

包含不同的版本。

例如：如果`gcc--version returns 4.7.3`和`gfortran --version 4.8`，一个简单的技巧可能是执行以下操作。

```
sudo cp /usr/bin/gcc-4.8 /usr/bin/gcc 
```

它应该工作。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2017-02-09T07:03:31.567

我遇到了同样的问题并尝试了以下命令。使用以下方法解决了问题：

`sudo ln -s /usr/lib/x86_64-linux-gnu/libgfortran.so.3 /usr/lib/libgfortran.so`

# xna - 如何在 Visual Studio 2012 上安装 XNA 游戏工作室？

> ID：10881005
> 
> 赞同：196
> 
> 时间：2012-06-04T12:07:00.963
> 
> 标签：xna, visual-studio-2012

是否可以使用 Visual Studio 2012 创建 XNA 游戏？

* * *

## 回答 #1

> 赞同：192
> 
> 时间：2012-06-04T12:07:01.260

是的，稍微调整一下就可以了。不幸的是，您仍然必须安装 VS 2010。

1.  首先，安装 XNA Game Studio 4.0。最简单的方法是安装包含所需所有内容的[Windows Phone SDK 7.1 。](http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&id=27570)

2.  通过以“管理员身份”打开命令提示符并执行以下命令，将 XNA 游戏扩展从 VS 10 复制到 VS 11（如果不是具有默认路径的 x64 计算机，可能会有所不同）：

    `xcopy /e "C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE\Extensions\Microsoft\XNA Game Studio 4.0" "C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE\Extensions\Microsoft\XNA Game Studio 4.0"`

3.  以管理员身份运行记事本，然后`extension.vsixmanifest`在刚刚创建的目标目录中打开。

4.  升级支持的产品版本以匹配新版本（或复制整个`VisualStudio`元素并更改`Version`属性，正如@brainslugs83 在评论中所说）：

    ```
    <SupportedProducts>
      <VisualStudio Version="11.0">
        <Edition>VSTS</Edition>
        <Edition>VSTD</Edition>
        <Edition>Pro</Edition>
        <Edition>VCSExpress</Edition>
        <Edition>VPDExpress</Edition>
      </VisualStudio>
    </SupportedProducts> 
    ```

5.  不要忘记清除/删除 %localappdata%\Microsoft\VisualStudio\12.0\Extensions 中的缓存。

6.  您可能必须运行该命令来告诉 Visual Studio 有可用的新扩展。如果您看到“拒绝访问”消息，请尝试以管理员身份启动控制台。

    ```
    "C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE\devenv.exe" /setup 
    ```

这已针对 Windows 游戏进行了测试，但未针对 WP7 或 Xbox 游戏进行测试。

**[编辑]**根据[Jowsty](https://stackoverflow.com/users/1231925/jwosty)，这也适用于 Xbox 360 游戏。

**[为 Visual Studio 2013 和 Windows 8.1 编辑]**有关在 Windows 8.1 上安装 Windows Phone SDK 7.1 的文档，请参见[此处](http://blogs.msdn.com/b/astebner/archive/2012/02/29/10274694.aspx)。在所有这些步骤中使用 VS 版本号 12.0 代替 11.0，它们仍然可以正常工作。

* * *

## 回答 #2

> 赞同：65
> 
> 时间：2014-01-23T18:37:13.563

在 codeplex 上发布了适用于 Visual Studio 2012/2013 的新 XNA 扩展。您可以从以下网址下载：[https ://msxna.codeplex.com/releases](https://msxna.codeplex.com/releases)

* * *

## 回答 #3

> 赞同：38
> 
> 时间：2012-06-07T18:58:41.590

我发现了另一个问题，由于某种原因，如果扩展缓存在本地 AppData 文件夹中，XNA 扩展永远不会被加载。

您需要从文件夹`extensionSdks.en-US.cache`中删除文件。下次启动时会重建这些文件`extensions.en-US.cache``%LocalAppData%\Microsoft\VisualStudio\11.0\Extensions`

如果您需要访问 Visual Studio 启动日志来调试正在发生的事情，请`devenv.exe /log`从`C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE`目录运行命令（假设您在 64 位计算机上）。生成的日志文件位于此处：

`%AppData%\Microsoft\VisualStudio\11.0\ActivityLog.xml`

* * *

## 回答 #4

> 赞同：31
> 
> 时间：2012-12-02T13:53:38.337

对于如何专门为 Express 版本进行此设置似乎有些混乱。使用 VS Express 2012 的 Windows 桌面 (WD) 版本，我按照[Steve B](https://stackoverflow.com/a/10881007/1428461)和[Rick Martin 的](https://stackoverflow.com/a/10938148/1428461)回答中的说明进行了以下修改。

*   在第 2 步中，不是复制到`"C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE\Extensions\Microsoft\XNA Game Studio 4.0"`，而是复制到`"C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE\WDExpressExtensions\Microsoft\XNA Game Studio 4.0"`
*   在第 4 步中，在进行更改后还添加该行`<Edition>WDExpress</Edition>`（您应该能够看到它的意义所在）
*   在第 5 步中，替换`devenv.exe`为`WDExpress.exe`
*   在 Rick Martin 的步骤中，替换`"%LocalAppData%\Microsoft\VisualStudio\11.0\Extensions"`为`"%LocalAppData%\Microsoft\WDExpress\11.0\Extensions"`

从那以后我没有做很多工作，但我确实设法创建了一个新的游戏项目，到目前为止看起来还不错。

# algorithm - 如何在图中找到精确长度的路径

> ID：10881014
> 
> 赞同：2
> 
> 时间：2012-06-04T12:07:41.637
> 
> 标签：algorithm, graph-algorithm, path-finding

我想在无向图中找到固定长度的路径（在运行程序时给出）。我正在使用我的图的邻接矩阵。
我尝试使用一些算法，如 DFS 或 A*，但它们只返回最短路径。

无法再次访问节点。

所以假设我的图有 9 个节点，最短路径是由 4 个节点构建的。
我想要有一个额外的变量来“告诉”算法我想要找到有 7 个节点的路径（例如），它将返回包含在我的预期路径 {1,2,4,5,6, 7,8}。
当然，如果没有我想要的路径解决方案，它不会返回任何内容（或者它会返回接近我的期望的路径，比如说 19 而不是 20）。

有人告诉我关于回溯的 DFS，但我对此一无所知。
有人可以解释如何使用带有回溯的 DFS 或推荐一些其他算法来解决这个问题吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-04T15:14:31.257

回溯确实似乎是一个合理的解决方案。这个想法是递归地找到所需长度的路径。

伪代码：

```
DFS(depth,v,path):
  if (depth == 0 && v is target): //stop clause for successful branch
       print path
       return
  if (depth == 0): //stop clause for non successful branch
       return
  for each vertex u such that (v,u) is an edge:
       path.append(v) //add the current vertex to the path
       DFS(depth-1,u,path) //recursively check all paths for of shorter depth
       path.removeLast() // clean up environment 
```

上述算法将生成所需深度的*所有*路径。
调用`DFS(depth,source,[])`（其中`[]`是一个空列表）。

笔记：

*   该算法将生成可能并不简单的路径。如果您只需要简单的路径 - 您还需要维护`visited`集合，并在将每个顶点附加到找到的路径时添加它，并在将其从路径中删除时将其删除。
*   如果您只想找到一个这样的路径 - 您应该从函数返回值（如果找到这样的路径，则返回 true），并在返回值为 true 时打破循环（并返回 true）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T15:29:15.417

如上所述的问题是NP完全的。给定一个有效的算法来解决您的问题，您可以轻松解决[哈密顿循环问题。](http://en.wikipedia.org/wiki/Hamiltonian_path)

因此，不存在多项式时间解（除非 P=NP）。对于详尽的搜索、指数时间解决方案，请查看@amit 的答案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T12:19:02.033

尝试找到最长的路径，然后将其切割成所需的长度。最长的路径也称为图的直径。通过对每个顶点运行 DFS 可以找到最长的路径。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-10T17:21:22.923

假设您可以在图中找到长度为 d 的路径，那么您可以运行此算法 |V| 次并找到最长的 NP 完全路径。所以你可以尝试以下方法 -

1）近似算法 2）蛮力方法（更适合编程）。使用 GPU 加速您的代码。

此外，您可能会感兴趣 -

DAG 存在线性时间算法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-05T13:47:08.057

一个 dfs 应该就足够了：

```
void dfs(int start, int hops)
{
  if(hops == k && start == t)
    {
      path++;
      return;
    }
  else if(hops >= k)
    return;
  for(int w = 1; w <= n; w++)
    if(routes[start][w])
      dfs(w, hops + 1);
} 
```

这里，k 是路径的长度，routes[][] 是图的邻接矩阵。path 是一个全局变量。这可以考虑循环 - 它考虑了给定长度的所有路径。从主，调用

```
path = 0;
dfs(source, k);
cout<<path; 
```

请注意，节点数比跳数多一。另请注意，如果路径的长度很大，则此功能会快速叠加。没有双关语的意思。

# java - 专注于第二个文本字段 Wicket

> ID：10881020
> 
> 赞同：1
> 
> 时间：2012-06-04T12:07:55.450
> 
> 标签：java, wicket, form-submit

我有 2 组搜索文本字段：

当我尝试使用返回键（Enter）提交时，第一个文本字段工作正常。但是，当输入第二个文本字段并按下返回键时，会执行第一个文本字段。

我尝试将焦点设置到第二个文本字段，如下所示：

```
 secondTextField = new TextField("secondTextField", new Model()){
        @Override
        protected void onComponentTag(ComponentTag tag)
        {
                super.onComponentTag(tag);

                tag.put("onclick", "getelementbyid('"+secondTextField.getMarkupId()+"').focus()");

        } 
    };

    form.add(secondTextField); 
```

但这行不通。有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T14:26:21.827

除非另有定义，否则几乎每个浏览器都会通过 enter 键上的第一个可用按钮提交当前表单。因此，如果您想使用另一个按钮，则必须使用 JavaScript 装饰您的 TextField 以捕获 Enter 键，使用适当的按钮提交表单并（这很重要）返回 false。

您可以通过将两个 TextField 分成单独的表单（如果可能的话）来解决此问题，但这只是一个猜测，因为我目前无法尝试。

如果将以下代码添加到 TextField 中，则会阻止 Enter 键触发表单提交。您必须调整它以通过特定按钮提交。

```
/**
 * Behavior that traps the enter key press
 *
 * @author ivaynberg
 */
public class EnterKeyTrap extends Behavior implements IHeaderContributor {

    private static final long serialVersionUID = -410239548482332706L;

    @Override
    public void onComponentTag(Component component, ComponentTag tag) {
        tag.put("onkeydown", "return ekt(event)!=13");
    }

    public void renderHead(IHeaderResponse response) {
        response.renderJavaScript("function ekt(e){if(typeof(e.keyCode)==\"undefined\"){return e.which;}else{return e.keyCode;}}", "EnterKeyTrap");
    }

} 
```

# jquery - webmatrix上的jquery加载和ajax

> ID：10881022
> 
> 赞同：0
> 
> 时间：2012-06-04T12:08:05.683
> 
> 标签：jquery, webmatrix

这对我的 webmatrix 布局是一个巨大的挑战。我有一个站点布局`_sitelayout.cshtml`、一个 renderbody 页面`profilepage.cshtml`和一个独立页面`ajaxload.cshtml`。使用`Assets.GetScripts()`来自 profilepage.cshtml 的站点布局的脚本库进行更新。每次我使用`$.load()`... 调用 ajaxload.cshtml 时，成功加载后我都无法与母页和 profilepage.cshtml 上的任何 javascript/plugin 文件进行交互。`$.getScript()`我必须使用或手动附加它来调用 javascript 插件，使用`<script src=""></script>`前再次调用 javascript 文件。

**个人资料页.cshtml**

```
@{
Layout = "~/Layout/_sitelayout.cshtml";
Assets.Script("~/scripts/autocomplete.js");
....
....
} 
```

这很难解释……希望你能理解

# c# - 如何访问 XML 的某些部分？

> ID：10881033
> 
> 赞同：1
> 
> 时间：2012-06-04T12:08:51.910
> 
> 标签：c#, xml, .net-2.0

再会！

如何访问这部分 XML 并打印元素名称？请参考下图。

![在此处输入图像描述](../Images/d10c8be9ab785cac96c2012490fc792e.png)

我现在无法使用以下代码取得进展：

```
 XmlDataDocument xmldoc = new XmlDataDocument();         
                XmlNode xmlnode;
                FileStream fs = new FileStream(@"D:\Files\20120604\Data_120604-062516_003.xml", FileMode.Open, FileAccess.Read);
                xmldoc.Load(fs);

//MessageBox.Show("YUMDMMATMAS05"); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:16:41.943

如果您想要的行为是获取根节点，那么您可以使用`xmldoc.DocumentElement`.

您可以使用 Name 属性获取任何 XMLElement 的名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:28:58.670

使用[正则表达式](http://msdn.microsoft.com/en-us/library/system.text.regularexpressions.regex.aspx)

```
Pattern = @"\?>\s*?<(?<Name>.*?)>.*?</(1)>" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T12:37:17.347

如果您不需要文档的其余部分，则不要使用`XmlDataDocument`(obsolete btw) or将整个内容读入内存`XmlDocument`，而是使用`XmlReader`insted （`XmlTextReader`也有点过时）：

```
using(var reader = XmlReader.Create(new FileStream(@"D:\Files\20120604\Data_120604-062516_003.xml", FileMode.Open, FileAccess.Read), new XmlReaderSettings { CloseInput = true, DtdProcessing = DtdProcessing.Ignore, IgnoreComments = true, IgnoreProcessingInstructions = true, IgnoreWhitespace = true }))
            {
                XmlNodeType nt;
                do
                {
                    nt = reader.MoveToContent();
                    if(nt == XmlNodeType.Element) {
                        MessageBox.Show(nt.Name);
                        break;
                    }
                }
                while(nt != XmlNodeType.None)
            } 
```

# php - 如果最大时间戳大于其他最大时间戳

> ID：10881038
> 
> 赞同：0
> 
> 时间：2012-06-04T12:09:03.040
> 
> 标签：php, mysql, if-statement

我仍在努力制作一个包含六个链接的菜单，这些链接的图像根据是否添加了新记录而有所不同。我制作了一个表格，记录了用户的点击次数以及相应的 link_url 和时间戳。然后，我想比较 matningar 中包含用户名和 matningstyp 的最新记录中的时间戳。

```
$query="SELECT max(click_timestamp) AS maxts FROM clicks WHERE username='$session->username' AND link_url='http://xxx/admin/amfmci.php'";
$result=mysql_query($query) or die(mysql_error());
$line = mysql_fetch_assoc($result);

$query1="SELECT max(datum) AS maxts FROM matningar WHERE kontakt='$session->username' AND matningstyp='bbb'";
$result1=mysql_query($query1) or die(mysql_error());
$line1 = mysql_fetch_assoc($result1);

$senasteclick = $line['maxts'];
$senastematning = $line1['maxts'];

if ('$senasteclick' > '$senastematning'){
echo "<a href=\"http://xxx/admin/amf.php\"><img src=\"http://xxx/admin/images/emoikon3.png\" alt=\"Digg\" width=\"64\" height=\"63\"     border=\"0\"/></a>";  }
else {
echo "fail";
} 
```

这不像我想要的那样工作。如果我将 if 语句更改为小于，则图像会更改。

如果我更改记录本身的日期，它不会更改图像......所以代码不是我想要的:(

有人有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:25:27.220

```
$query="
    SELECT max(c.click_timestamp) > max(m.datum) AS senas
    FROM clicks c
    inner join matningar m on c.username = m.kontakt
    WHERE 
        c.link_url='http://xxx/admin/amfmci.php'
        and
        m.matningstyp = 'bbb'
        and
        c.username = {$session->username}
";
$result=mysql_query($query) or die(mysql_error());
$line = mysql_fetch_assoc($result);
$senas = $line['senas'];
if ($senas){
echo "<a href=\"http://xxx/admin/amf.php\"><img src=\"http://xxx/admin/images/emoikon3.png\" alt=\"Digg\" width=\"64\" height=\"63\"     border=\"0\"/></a>";  }
else {
echo "fail";
} 
```

# java - api.stackexchange 上的 API Apache 的 Java Http 请求

> ID：10881047
> 
> 赞同：0
> 
> 时间：2012-06-04T12:09:47.937
> 
> 标签：java, apache, httprequest, stackexchange

我正在尝试使用 api.stackexchange 上的 Apache Api（httpcomponents）在 Java 中执行 http 请求。但是这个请求返回文本而不是 html。

这是我的代码：

```
public class HttpRequestBrute {

    public static void main(String[] args) throws Exception {

        URIBuilder builder = new URIBuilder();
        builder.setScheme("http").setHost("api.stackexchange.com").setPath("/2.0/search")
            .setParameter("site", "stackoverflow")
            .setParameter("intitle" ,"workaround")
            .setParameter("tagged","javascript");
        URI uri = builder.build();

         HttpClient httpclient = new DefaultHttpClient();
         try {
             HttpGet httpget1 = new HttpGet(uri);

             System.out.println("executing request " + httpget1.getURI());
             // Create a response handler
             ResponseHandler<String> responseHandler = new BasicResponseHandler();
             String responseBody = httpclient.execute(httpget1, responseHandler);
             System.out.println("----------------------------------------");
             System.out.println(responseBody);
             System.out.println("----------------------------------------");

         } finally {
             httpclient.getConnectionManager().shutdown();
         }
    }
} 
```

第 1 行第 19 列的返回 json 值似乎有错误。

线程“main”com.google.gson.JsonSyntaxException 中的异常：java.lang.IllegalStateException：应为 BEGIN_OBJECT，但在第 1 行第 19 列为 STRING

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T12:28:18.847

您得到的响应（点击[http://api.stackexchange.com/2.0/search?site=stackoverflow&intitle=workaround&tagged=javascript](http://api.stackexchange.com/2.0/search?site=stackoverflow&intitle=workaround&tagged=javascript)后）

它不是一个简单的文本。它是一个[JSON](http://www.json.org/)响应。您将需要像[google-gjson](http://code.google.com/p/google-gson/)这样的 Java JSON 解析器来解析它。

# iphone - 翻转视图导致后退按钮出现在导航栏上

> ID：10881048
> 
> 赞同：0
> 
> 时间：2012-06-04T12:09:48.233
> 
> 标签：iphone, ios, uinavigationbar

我已通过以下方法将导航栏的后退按钮明确设置为隐藏 -

```
[[self navigationItem] setHidesBackButton:YES] 
```

当我从一个视图（它是可翻转的，它是一个地图视图）进入这个视图时，这很好用。如果我在不翻转前一个视图（地图视图）的情况下进入视图，则不会出现后退按钮。但是，如果我在翻转地图视图后进入此视图，则会出现一个后退按钮。而且这个按钮在点击它时根本不起作用。

我已经尝试过`setLeftBarItem:nil`方法，但即使那样它也会出现（并且不起作用）！

任何人都可以解决这个非常奇怪的问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T12:22:38.033

你需要这个

```
 self.navigationItem.hidesBackButton = TRUE; 
```

或者

```
[self.navigationItem setHidesBackButton: YES animated: YES]; 
```

# c# - 如何翻译将边界转换到新位置

> ID：10881055
> 
> 赞同：0
> 
> 时间：2012-06-04T12:10:14.053
> 
> 标签：c#, wpf

我有 5 个图像和一个边框，当用户单击图像时，我希望边框滑过，直到它直接位于被单击的图像上方。
我很难弄清楚这个转换的东西。我擅长 C#，但对 wpf 很陌生。我很确定 translatetransform 是我需要的，但我不知道如何实现它。有人可以给我看，或者给我指出一个关于这个主题的好教程。

```
var RT=new TranslateTransform(90,0);
SelectBorder.RenderTransform = RT;
SelectBorder.BeginAnimation(...//I don't know what a dependency object is 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T12:18:29.063

我建议阅读[文档](http://msdn.microsoft.com/en-us/library/ms590761.aspx)，它有一个如何使用该方法的完整示例。（你也可以在变换而不是边框​​上开始动画）

# ios - 使用 Cordova 1.7 和 iOS 5.1.1 重新启动应用程序时清除 localStorage

> ID：10881059
> 
> 赞同：1
> 
> 时间：2012-06-04T12:10:38.203
> 
> 标签：ios, cordova, local-storage

根据我的广泛阅读，Apple 制定的 iOS 5.1 localStorage/WebSQL 行为更改已完全融入 Cordova 1.6.0。但是，在 Cordova 1.7.0 和 iOS 5.1.1 上的（新）应用程序上运行时，我仍然看到丑陋、不正确的行为。

我使用 window.localStorage 来存储和检索数据。例如 window.localStorage.getItem("activeFormId") window.localStorage.setItem("activeFormId", formId); 这些在基于 Cordova 的应用程序的同一会话中完美运行。如果我使用主 iOS 按钮使应用程序后台运行，然后恢复，那通常也可以。

但是，当我终止应用程序（双击、长按、点击红色圆圈）并重新启动时，所有 localStorage 数据都丢失了。我也用 jsconsole.com 验证了这一点。

我需要采取其他步骤来确保持久性错误修复工作正常吗？任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T13:50:58.450

尝试使用 1.7 - 我遇到了类似的问题，一旦我升级到 1.7，一切都像以前一样工作。

尝试使用 localStorage 与 window.localStorage 语法。

还将您尝试调用的内容设置为全局变量...

```
var globalVar;

function onDeviceReady(){
  globalVar = localStorage.getItem('something');
} 
```

# java - java.sql.SQLException: [Microsoft][ODBC Driver Manager] 指定的 DSN 包含驱动程序和应用程序之间的体系结构不匹配

> ID：10881060
> 
> 赞同：-1
> 
> 时间：2012-06-04T12:10:42.470
> 
> 标签：java

由于我已经在 Windows 7 64 位上安装了 MS Office 2007，并且我还安装了 jdk 32 和 64 位，但是当我尝试连接到 MS Access 并且我已经创建了系统 DSN 时，代码会抛出上述异常

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-29T13:16:23.827

Java code is not bit specific and as "duffymo" says there is no ODBC bridge in Java. The ODBC bridge you are using is calling the MS ODBC driver manager with the same bit size as the ODBC bridge. The error is comming back because the ODBC driver the driver manager is trying to open is of a different size.

To resolve this you simply need to make sure the the ODBC Bridge is of the same bit size as the MS Access ODBC driver is on your machine.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:14:34.497

Java 64 位代码库中没有 ODBC 桥驱动程序 DLL，所以这可能就是问题所在。您要么必须购买可以连接到 Access 或切换数据库的 JDBC 驱动程序。Derby 与 JDK 6 及更高版本捆绑在一起。也许这将满足您的需求。

# php - File_get_contents 和 fwrite 与 word 文档（图像不保存）

> ID：10881062
> 
> 赞同：0
> 
> 时间：2012-06-04T12:10:49.193
> 
> 标签：php, image, file-get-contents

我正在用 PHP 编写一个脚本，该脚本使用 file_get_contents 获取一个 xml 文档，我用 str_replace 替换了一些字符，然后我用 fwrite 在 Word 文档中写入了这个文件。

例子：

```
$myContent = file_get_contents("../ressources/fichiers/modeles_conventions/modele_convention.xml");

$lettre = str_replace("@NOMENT@",utf8_encode($data['nomentreprise']),$lettre);

$newFileHandler = fopen("../ressources/fichiers/conventions/lettre_convention_1.doc","a");
fwrite($newFileHandler,$lettre);
fclose($newFileHandler); 
```

在 localhost 它正在工作，但在服务器上问题是：

我的 xml 文件包含图像，但我的最终 .doc 文档没有检索这些图像。

我不明白为什么我的图像没有被检索到。

* * *

好吧，我没有找到解决问题的方法。

我得到了我的 xml 文件（实际上是一个带有 .xml 扩展名的 .doc 文件）

```
 $myContent = file_get_contents("../ressources/fichiers/modeles_conventions/modele_convention.xml"); 
```

我换了一些东西

```
 $myContent = str_replace("@NOM_ENTREPRISE@",stripslashes($data['nomentreprise']),$myContent);
    $myContent = str_replace("@STATUT_ENTREPRISE@",stripslashes($data['juridique']),$myContent); 
```

我保存我的文档

```
 //On génère la convention
    $newFileHandler = fopen("../ressources/fichiers/conventions/convention_".$data2['nomeleve']."_".$data2['prenomeleve']."_".$data3['idstage'].".doc","ab");
    fwrite($newFileHandler,$myContent);
    fclose($newFileHandler); 
```

xml 文档包含图像，在 localhost 它检索图像但不在服务器上。

xml代码示例：

```
<w:r>
 <w:rPr>
  <w:rFonts w:ascii="Arial" w:h-ansi="Arial" w:cs="Arial"/>
   <wx:font wx:val="Arial"/>
    </w:rPr>
     <w:pict>
      <v:shape id="_x0000_i1028" type="#_x0000_t75" style="width:48.75pt;height:24pt">
       <v:imagedata src="wordml://06000003.emz" o:title=""/>
      </v:shape>
     </w:pict>
</w:r>
</w:p> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:52:09.180

使用 HTML 创建 Word 文件是一种让 Word 认为它是 Word 文档的方法。将其命名为 .doc 会创建一个默认在 Word 中打开的文件。但是，它不是真正的 Word 文档，您是在伪造它。它之所以有效，是因为 Word 还支持打开 HTML。其他客户端可能不支持 HTML 或不完全支持所有 HTML。例如，图像标签不适用于 Mac 上的 TextMate，尽管粗体标签可以正常工作。

在您的 XML 中，您必须使用绝对路径（即 Internet 上的路径或本地文件系统路径）引用图像。例如，`<img src="image.png">`将不起作用，因为 Word 文件不知道如何找到它。但是，您可以使用`<img src="http://yoursite.com/image.png">`. 我相信您也可以参考您的本地文件系统，例如`file:`“协议”。这仅在文件存在于打开文件的文件系统上时才有效。

如果这不能解决您的问题，您可能应该在此处发布您的 XML 文件。

* * *

但是，如果您是为客户端或外部系统（除了您自己）创建它，我建议使用类似的东西：

**COM 对象**
这仅在 Word 实际安装在运行 Web 应用程序的系统上时有效。

```
<?php 
$word = new COM("word.application") or die ("Can't create Word file"); 
$word->visible = 1; 
$word->Documents->Add(); 
$word->Selection->TypeText("this is some sample text in the document"); 
$word->Documents[1]->SaveAs("sampleword.doc"); 
$word->Quit(); 
$word->Release(); 
$word = null; 
?> 
```

（[来源](http://www.ozzu.com/programming-forum/php-create-word-document-t65376.html)）

**Office Open XML 或其他格式**
Word 使用 的[新 XML 格式](http://en.wikipedia.org/wiki/Office_Open_XML)是开源的，可以更轻松地进行修改。我不知道确切的细节，但它基本上是一些 XML 文件压缩成一个 zip 文件并给出扩展名 .docx。

如果可能，您也可以使用 OpenOffice 的 ODT 格式。最新的 Word 版本也可以读取此文件，并且格式是开源的。使用 PHP 创建 PDF 文件也比创建 Word 文件更可行。

**phpLiveDocs**
[phpLiveDocs](http://www.phplivedocx.org/)是 PHP 的扩展，可用于创建 Word 文件。

# playframework - 如何将变量传递给扩展的视图，而不是显式调用？

> ID：10881068
> 
> 赞同：0
> 
> 时间：2012-06-04T12:11:09.363
> 
> 标签：playframework

创建新应用时，两个视图分别是 main.html 和 index.html。main 从未显式呈现，它被扩展为

`#{extends 'main.html' /}`

当变量仅从另一个视图 (index.html) 扩展时，如何将变量传递给视图 (main.html)？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T12:29:40.107

如果它被传递给 render 方法，它将正常可用。整个视图（包括扩展和包含）由 Groovy 模板引擎呈现。

但是，在`main.html`通常在每个视图上扩展的情况下，最好的选择是始终`renderArgs`使用注释将其添加到地图中`@Before`，如下所示。这确保它始终可用，并且您不会重复自己 (DRY)。

```
@Before
private void setup() {
    renderArgs.put("somekey", "somevalue");
} 
```

这样，您无需在每次渲染调用时将 somekey 传递给渲染方法。

然后，在您的 中`main.html`，您可以`somekey`简单地使用 的标准方法进行访问`$somekey`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T12:31:01.507

Codemwnci 给出了如何从控制器内部将变量传递给布局模板的解决方案。以下是如何将变量从普通视图传递到布局视图：

在您的 index.html 中，您可以执行以下操作：

```
#{set title:'My title'/} 
```

在您的 main.html 中，您可以“获取”在 index.html 中设置的变量：

```
<h1>#{get 'title'/}</h1> 
```

如果您使用的是[Rythm](http://www.playframework.org/modules/rythm)或[Japid](http://www.playframework.org/modules/japid)`extends`模板引擎，那么您可以在语句中直接将变量传递给 main.html

在 Rythm 模板引擎中，假设您的 main.html 是：

```
@args String title
...
<h1>@title</h1>
... 
```

您可以使用以下语句扩展 index.html 中的主模板：

```
@extends(main, "my title") 
```

# c# - C# 传递参数（值或引用）？

> ID：10881072
> 
> 赞同：1
> 
> 时间：2012-06-04T12:11:25.213
> 
> 标签：c#, oop, methods, pass-by-reference, pass-by-value

有人告诉我，当您将对象传递给方法时，它是“按值”传递的。我做了一个小测试来检查它：

```
Point p = new Point(1, 1);
Circle c = new Circle(p);
p.x = 999;
Console.WriteLine(c.p.x); 
```

上面的代码打印“999”，但我认为对象被复制到
我被告知的方法，如果你不使用“ref”（或“out”），该方法将获取
对象的值。

有人可以告诉我吗？
谢谢，
插座

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T12:14:45.537

假设`Point`被声明为类，而不是`p`自身被复制，*引用*被`p`复制。所以它仍然是按值传递。您传递引用的值。

当说`Point p = new Point(1, 1);`（如果 point 是引用类型）时，人们可能会认为它是一个包含 a 的变量`Point`，但实际上它是一个包含对 a 的引用的变量，该引用`Point`存储在其他地方。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T12:13:55.687

C# 是按值传递的——参考值在正常情况下传递，也就是说。（这意味着它是对同一对象的新引用）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T12:14:00.760

`Point`是结构，所以按值传递。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-04T12:18:01.123

在 .NET 中，有两类类型，*引用类型*和*值类型*。

结构是*值类型*，类是*引用类型*。

一般的不同是*引用类型*存在于堆上，而*值类型*存在于内联，也就是说，无论它是你的变量或字段被定义的地方。

*包含值类型*的变量包含整个*值类型*值。对于结构，这意味着变量包含整个结构及其所有字段。

*包含引用类型*的变量包含一个指针，或对内存中实际值所在的其他位置的*引用。*

这有一个好处，首先是：

*   *值类型*总是包含一个值
*   *引用类型*可以包含一个*null*引用，这意味着它们现在根本不引用任何东西

在内部，*引用类型*被实现为指针，并且知道并知道变量赋值是如何工作的，还有其他行为模式：

*   *将值类型*变量的内容复制到另一个变量中，将整个内容复制到新变量中，使两者不同。换句话说，在复制之后，对一个的更改不会影响另一个
*   *将引用类型*变量的内容复制到另一个变量中，复制引用，这意味着您现在有两个对相同的引用在*其他地方*存储实际数据。换句话说，在复制之后，更改一个引用中的数据似乎也会影响另一个引用，但这只是因为您实际上只是在两个地方查看相同的数据

当您声明变量或字段时，这两种类型的区别如下：

*   变量：*值类型*存在于堆栈中，*引用类型*存在于堆栈中，作为指向实际内存所在的堆内存中某处的指针
*   class/struct-field：*值类型*存在于类中，*引用类型*存在于类中，作为指向实际内存所在的堆内存中某处的指针。

* * *

请参阅[MSDN](http://msdn.microsoft.com/en-us/library/0f66670z%28v=vs.71%29.aspx)，本[教程](http://www.albahari.com/valuevsreftypes.aspx)类似于您的圆/点/轴示例。

# jquery - jQuery UI Accordion - 动画不起作用

> ID：10881079
> 
> 赞同：1
> 
> 时间：2012-06-04T12:12:02.057
> 
> 标签：jquery, html, accordion

提前感谢您的帮助。

我正在使用 jQuery UI 手风琴，我希望有一个动画，但由于某种原因它不起作用。知道为什么吗？手风琴 div 只是出现和消失。这是我的代码：

```
 <!-- creates  accordion where records can be entered -->
                    <script type="text/javascript">

        $(document).ready(function(){

            $( "#tracking-record-menu" ).accordion({
                collapsible: true,
                    header: '.record-item',
                active: false,
                animated: 'slide'
            });

                            });

                    </script>    

          <!--######### contains tracking record buttons ######## -->
               <div id="tracking-record-container"> 
          <ul id="tracking-record-menu">

<li class="record-section"><span class="record-section-text">Body Metrics</span></li>

<li class="record-item"><div class="record-item-div"><span class="record-text">Distance</span></div></li>

                     <div class="tooltip-record">
                     <form id="distance_graphtracker" method="post" action="">
                     <label for="distance-log-id">Distance</label>
         <input type="text" name="distance_log" id="distance-log-id" />
                     <button type="submit" name="submit_distance" >Record</button>
                     </form>
                     </div>

<li class="record-item"><div class="record-item-div"><span class="record-text">Time</span></div></li>

                     <div class="tooltip-record">
                     <form id="time_graphtracker" method="post" action="">
                     <label for="time-log-id">Time</label>
          <input type="text" name="time_log" id="time-log-id" />
                     <button type="submit" name="submit_time" >Record</button>
                     </form>
                     </div>

</ul>
</div> 
```

PS 我已经包含了 UI 效果核心。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-15T15:04:46.077

如果您使用以下 CSS，您的动画可能会被破坏：

```
.accordion_item_content { height: auto !important; } 
```

因为在这种情况下，该元素无法设置动画（您覆盖所有更改）。在这种情况下，您应该在手风琴中使用选项 autoHeight: true。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T13:18:08.880

我用你的代码做了一个小提琴，但幻灯片效果看起来是正确的：http: [//jsfiddle.net/Xzjum/](http://jsfiddle.net/Xzjum/)

你能包括你的CSS，也许有什么影响幻灯片动画？

# android - 如果项目视图中有 Button，则 onItemClick 不起作用

> ID：10881080
> 
> 赞同：1
> 
> 时间：2012-06-04T12:12:03.607
> 
> 标签：android, android-listview, android-button

这是我的一个项目`ListView`：

![在此处输入图像描述](../Images/6e0cf14469cba9c79cd2bf21c78c88ca.png)

星星是一个`Button`。我`OnClickListener`在. `getView()`_ `Adapter`但我现在面临一个问题 -`onItemClick`添加`Button`. 我想要一个`Button`监听它的点击和视图的其余部分来响应 fire `onItemClick`。有解决办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:16:30.007

我不确定，但 Button 在列表项中不起作用，所以请使用 ImageView 而不是 Button。您还可以在 getView() 方法中设置与 Button 相同的 ImageView 上的 onClick

```
ImageView.setOnClickListener().....etc 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:23:39.827

使按钮不可聚焦（但仍可点击）：

```
android:focusable="false"
android:focusableInTouchMode="false" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T12:52:57.810

如果您在Adapter中放入`onClickListener()`一个项目，则在该 Activity 中不起作用。为此，您可以戴上星形按钮并将所有其他项目放入布局中并放入该布局中。`getView()``onItemClickListener()``onClickListener()``onClickListener()``getView()`

# sql-server-2008 - SQL Server 2008 中的 REPLACE 语句中的 CASE 语句？

> ID：10881082
> 
> 赞同：0
> 
> 时间：2012-06-04T12:12:07.663
> 
> 标签：sql-server-2008, sql-server-2005, replace, case

我有 3 个变量，它们在不为 NULL 时`@path`是有条件的，即 `@serverName,@analysisDB,@cubeName`。因此，我`CASE`在上面的语句中使用了一个`SELECT`语句。同样， for`@path`不是 NULL`@cubename`也需要有条件的 for `LVL5.L5_CubeName`（参见`REPLACE`语句），但它在`REPLACE`语句内部并且`CASE`块变得太复杂了。如果我想做类似的事情，我该怎么写

```
CASE WHEN @path!='' THEN @cubeName ELSE LVL5.L5_CubeName in the REPLACE statement
SELECT LVL5.L5_Id,        
         CASE WHEN @path!='' THEN @serverName ELSE LVL5.L5_ServerName END [AnalysisServer],        
         CASE WHEN @path!='' THEN @analysisDB ELSE LVL5.L5_AnalysisDatabase END [AnalysisDatabase],        
         REPLACE(REPLACE(REPLACE(LVL5.L5_MDXQuery,'@@Level1',ISNULL(@lvl1DataVal,'')),    
         '@@Level2',ISNULL(@lvl2DataVal,'')),'@@CubeName',ISNULL(@cubeName,'')) [MDXQuery],         
         LVL5.L5_ReplaceMDX [ReplaceMDX],      
         LVL5.L5_RefreshDate [RefreshDate],      
         LVL5.L5_ReportAttribute [ReportAttribute],      
         LVL5.L5_ReportTitle [ReportTitle]           
  FROM   Report_SR_Level5 [LVL5]                  
  WHERE L4_ID = @L4_ID ORDER BY LVL5.L5_DisplayOrder 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T12:24:31.207

像这样的东西：

```
CASE WHEN @path is not null or @path != '' 
THEN REPLACE(REPLACE(REPLACE(LVL5.L5_MDXQuery,'@@Level1',
ISNULL(@lvl1DataVal,'')),'@@Level2',ISNULL(@lvl2DataVal,'')),'@@CubeName',
ISNULL(@cubeName,'')) [MDXQuery]
ELSE Somethingelse END cubedata 
```

# c - Linux Pthread 参数

> ID：10881085
> 
> 赞同：4
> 
> 时间：2012-06-04T12:13:00.933
> 
> 标签：c, linux, pthreads, posix

这是我的代码。这很简单。

```
#include <stdio.h>
#include <stdlib.h>
#include <pthread.h>

void *func(void *arg)
{
    printf("ID=%d\n", *(int*)arg);
    pthread_exit(NULL);
}

int main()
{
    pthread_t pt[4];
    int i;

    for (i = 0; i < 4; i++)
    {
        int temp = i;
        pthread_create(&pt[i], NULL, func, (void*)&temp);
    }
    sleep(1);
    return 0;
} 
```

我编译它：

`gcc p_test.c -lpthread`

我跑了。它打印了`2 2 3 3`。我又跑了一遍。它打印了`2 3 3 2`。

我的问题是：

为什么要打印两次`2`？`3`

为什么它没有打印`1 3 2 0`或任何其他结果？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-04T12:19:17.673

这里的主要问题是您正在获取局部变量的地址`temp`，然后在变量范围之外使用该指针 - 一旦您退出循环的一次迭代，您的指针`temp`就会变得无效并且您不能取消引用它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-04T12:21:15.060

您将指向临时变量的指针传递给线程创建函数，并且该临时变量在循环块的末尾超出范围。在我看来，编译器正在重用临时地址，因此当线程执行时，它们会看到相同的地址位置。

如果你这样做：

```
int *temp = malloc(sizeof(int));
*temp = i;
pthread_create(&pt[i], NULL, func, (void*)temp); 
```

相反，您应该会看到预期的结果。

在这种情况下，线程函数需要在`int`打印后释放它以避免内存泄漏。

此外，最好对`pthread_join()`您正在等待的线程进行练习，而不仅仅是`sleep()`ing。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-02T09:56:51.323

```
#include <stdio.h>
#include <stdlib.h>
#include <pthread.h>

void *func(void* arg)
{
printf("ID=%d\n", (int)arg);
pthread_exit(NULL);
return 0;
}

int main()
{
pthread_t pt[4];
int i;

for (i =0 ; i < 4; i++)
{

    pthread_create(&pt[i], NULL, func, (void*)i);
    pthread_join(pt[i],NULL);
}

return 0; 
```

}

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-04T12:28:04.083

因为它打印 temp，所以所有线程共享内存（TheJuice 解释了为什么 temp 是“共享”的），所以所有线程都“共享” temp 。使用[互斥锁](https://en.wikipedia.org/wiki/Mutual_exclusion)或将 temp 设为私有变量。 [线程中的私有变量](https://stackoverflow.com/q/9221939/1419494)

或者你可以像这样使用[phtread_join](http://pubs.opengroup.org/onlinepubs/7908799/xsh/pthread_join.html)：

```
int main()
{
    pthread_t pt[4];
    int i;

    for (i =0 ; i < 4; i++)
    {

      pthread_create(&pt[i], NULL, func, (void*)&i);
      pthread_join(pt[i],NULL);

    }

    //sleep(1);
    return 0;
} 
```

# php - 链接到同一个 Facebook 应用程序时似乎丢失了 user_id

> ID：10881087
> 
> 赞同：1
> 
> 时间：2012-06-04T12:13:16.273
> 
> 标签：php, facebook, graph

我在 Facebook 中有这个测试应用程序作为 iFrame：

```
<?
require_once('src/facebook.php');

$config = array(
  'appId' => '123',
  'secret' => '123456',
  'fileUpload' => true,
);

$facebook = new Facebook($config);
$user_id = $facebook->getUser();
echo "[" . $user_id . "]<br>";
?>
<!doctype html>
<html xmlns:fb="http://www.facebook.com/2008/fbml">
  <head></head>
  <body>
  <br>
  <form action="" method="post"><input name="input" type="submit" value="Submit test"></form><br> 
  <a href="?hallo=1">Link test</a>
  </body>
</html> 
```

我使用 FaceBook PHP SDK 版本 3.1.1-25

我在 IE 9 中看到的内容：我访问了这个应用程序，它在括号中显示了我的用户 ID。但是当我按下提交按钮或单击链接时，我重新进入应用程序并且用户 ID 为 0。

只有在 Chrome 中它似乎工作正常，它一直显示我的用户 ID，就像我期望的那样。

我做错了什么，否则，我如何制作多页面应用程序并在下一页使用用户 ID？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T14:23:30.597

一种方法是您可以将用户存储在`SESSION`. 其他方式，您可以`FACEBOOK`在要使用 facebook 对象的页面中将类对象声明为全局对象，您可以调用“ `$facebook->getUser()`”。

```
global $facebook;
$user = $facebook->getUser();
echo $user; 
```

# c# - 组合一个多项目构建脚本

> ID：10881089
> 
> 赞同：0
> 
> 时间：2012-06-04T12:13:29.420
> 
> 标签：c#, visual-studio-2010, msbuild, nant

我是构建脚本的新手，需要一些帮助来为多项目解决方案编写脚本。我目前只有一个项目，但我需要包括其他项目，包括我的测试项目，这样我才能以正确的顺序成功构建它们。

1）如何在脚本中指定编译顺序？2）您如何将项目按顺序组合在一起以进行构建？3) 在为生产进行构建时，您是构建解决方案文件还是只构建单个项目？4) 构建脚本真的有必要吗（尤其是当您使用像 Visual Studio 这样的工具并且没有外部资源时）？

```
<?xml version="1.0"?>
<project name="Access Report Build Script" default="build" basedir=".">
    <description>Project Build File.</description>
    <property name="debug" value="true" overwrite="false" />
    <property name="fileName" value="BReportSuite" overwrite="false" />
    <property name="Main" value="BReportMain" overwrite="false" />
    <property name="ReportDisplay" value="BReportDisplay" overwrite="false" />
    <property name="ReportRecord" value="BReportRecord" overwrite="false" />
    <property name="ReportAccount" value="BReportAccount" overwrite="false" />

    <target name="clean" description="clean up generated files">
        <delete file="${fileName}.exe" failonerror="false" />
        <delete file="${fileName}.pdb" failonerror="false" />
    </target>

    <target name="build" description="compile source">
        <echo message="${fileName}"  />
        <csc target="exe" output="${fileName}.exe" debug="${debug}">
            <sources>
                <include name="${fileName}.cs" />
                <include name="${ReportDisplay}.cs" />
                <include name="${ReportRecord}.cs" />
                <include name="${ReportAccount}.cs" />
            </sources>
        </csc>
    </target>
    </project> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T12:24:24.950

当您想要自动化事情时，构建脚本会派上用场。

例如，如果您想使用 Continues Integration，您希望每次有人签入新代码时都构建您的代码。这不能通过启动 Visual Studio 并手动执行构建来完成。同样对于部署场景，必须有一个自动化脚本。您不希望部署过程中的手动步骤会被遗忘。

最简单的方法就是使用一个解决方案文件来指定要构建的项目。如果您使用必要的项目和参考配置它并指定要部署的配置（例如发布或暂存），您可以在 Visual Studio 中配置很多设置。

# java - 如何修复这个 antlr 语法，多个节点

> ID：10881091
> 
> 赞同：-1
> 
> 时间：2012-06-04T12:13:36.040
> 
> 标签：java, parsing, antlr, grammar

所有，这里是语法：

**columnName (',' columnName)* -> ^(SM_TOK columnName)**

我希望“ **A，B** ”的输出具有多个**SM_TOK**节点，例如：**(SM_TOK A) (SM_TOK B)**

但是，目前，我只有：**（SM_TOK A）**

似乎“B”将被忽略。

谁能帮我解决这个语法？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:19:01.333

您的左侧指定了一项或多项`columnName`，但右侧仅提及一项。尝试添加一个`+`，像这样：

```
columnName (',' columnName)* -> ^((SM_TOK columnName)+) 
```

# android - android ArrayAdapter.setNotifyOnChange(false) 不阻止listView刷新

> ID：10881093
> 
> 赞同：1
> 
> 时间：2012-06-04T12:13:45.673
> 
> 标签：android, android-arrayadapter

我有一个带有数组适配器的列表视图。当我完全填写我的项目数组时，我想刷新适配器，并且仅在此时。我知道 notifyDataSetChanged() 将在 add、addAll、remove、insert 或 clear 等方法之后自动调用，但我认为我的情况可能存在错误。这是一个应该可以工作的简单代码片段。我的意思是在这种情况下，适配器不应该通知它的 ListView 并且不应该显示内容（但内容会显示在我的设备上）。

```
ArrayList<MenuFragmentItem> menu = buildMenu();
MenuAdapter mAdapter = new MenuAdapter(getActivity().getApplicationContext(), 0, MenuFragment.this);
mListView.setAdapter(mAdapter);
mAdapter.setNotifyOnChange(false);
mAdapter.clear();
mAdapter.addAll(menu);
//      mAdapter.notifyDataSetChanged(); SAME RESULT IF I REMOVE THIS LINE, CONTENT IS DISPLAYED 
```

对这个问题有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T08:23:26.073

如果您查看`ListView`源代码，您会看到`setAdapter`sets`mDataChanged`和 calls `requestLayout`，它们将安排布局。在该布局发生之前，您的适配器不会被读回，这将在您的`clear`代码`addAll`执行之后。

[http://gitorious.org/android-eeepc/base/blobs/3661101005c6527dfd384d0c88c4a3b68ee208af/core/java/android/widget/ListView.java](http://gitorious.org/android-eeepc/base/blobs/3661101005c6527dfd384d0c88c4a3b68ee208af/core/java/android/widget/ListView.java)

还有其他几种方法`mDataChanged`可以设置为 true 和一个新的`requestLayout`调用，例如检查、聚焦或选择一个项目。调用`notifyDataSetChanged`只是使这立即发生：

[http://gitorious.org/android-eeepc/base/blobs/3661101005c6527dfd384d0c88c4a3b68ee208af/core/java/android/widget/AdapterView.java#line772](http://gitorious.org/android-eeepc/base/blobs/3661101005c6527dfd384d0c88c4a3b68ee208af/core/java/android/widget/AdapterView.java#line772)

```
 public void onChanged() {
        mDataChanged = true;
        ...
        requestLayout();
    } 
```

# google-maps-api-3 - 谷歌地图 API v3 端口

> ID：10881105
> 
> 赞同：1
> 
> 时间：2012-06-04T12:14:50.627
> 
> 标签：google-maps-api-3

我正在尝试将我的 google api v2 移植到 v3，但它不起作用....我收到“未定义折线”错误...：/旧的折线是 GPolyline，新的折线是新的 google.maps.Polyline

[https://developers.google.com/maps/documentation/javascript/overlays?hl=de-DE#Polylines](https://developers.google.com/maps/documentation/javascript/overlays?hl=de-DE#Polylines)

```
var map = "";
var mapConfig = "";
var mapElements = "";
var curActiveMenuButton = "";
var clickHandlerElementCount = "";

//window.onload = function() {
//window.addEvent('domready', function() {
//document.addEvent('domready', function() {
//alert("The DOM is ready.");
//initializeMap();
//});

/* 
 * function initializeMap()
 * 
 * Initalisierung der Google-Map.
 */
function initializeMap(){

        // Karte ins DOM einhängen
        map = new google.maps.Map($('map_canvas'), myOptions);

        //place the map on the canvas
        //map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

        var latlng = new google.maps.LatLng(51.05758110879136, 10.451431274414062);

        // default zoomlevel and center point
        var myOptions = {
            zoom: 12,
            center: latlng,
            mapTypeId: google.maps.MapTypeId.ROADMAP, 
            navigationControl: true, 
            mapTypeControl: true, 
            scaleControl: true,
        };

        // default zoomlevel and center point
        var encodedPolyline = new google.maps.Polyline();

        // find bounding polyline and recalculate map center
        for (var i = 0; i < mapElements.length; i++) {
            if (mapElements[i]['titel'] == "nationalparkhainich") {
                    encodedPolyline = Polyline.fromEncoded({
                    points: mapElements[i]['pol'],
                    levels: mapElements[i]['lev']
                });
                mapCenter = encodedPolyline.getBounds().getCenter();
                i = mapElements.length;
            }
        }

        // Kartenmenue initialisieren
        //initializeMapMenue();

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:32:14.440

`Polyline`确实没有定义。你在这里使用它：

`encodedPolyline = Polyline.fromEncoded({`

版本 3 不包括`fromEncoded()`- 看来您需要使用该`geometry`库（需要单独显式加载）和

```
encodedPolyline.setPath(
    google.maps.geometry.encoding.decodePath(mapElements[i]['pol'])
    ); 
```

[为清楚起见，在此处拆分为单独的行]

# c# - 我们可以将目录或哈希表对象作为命令行参数传递给 VBscript 吗？

> ID：10881106
> 
> 赞同：0
> 
> 时间：2012-06-04T12:14:57.880
> 
> 标签：c#, .net, vbscript

我想将目录或哈希表对象作为命令行参数传递给 vbscript。我正在使用方法在 c# 应用程序中执行 VBscript。通过`Process.Start()`使用 `Process.StartInfo.Arguments`我们可以将参数传递给脚本，但这仅需要字符串输入。有人知道如何传递字符串以外的数据吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T14:02:35.123

Vbscript 没有散列，唯一接近的是字典对象，但不一样。由于您不知道要执行哪些脚本，因此您必须断言最小公分母，即字符串类型。因此，让您的所有脚本将字符串中的参数传递给您的 C 函数，并在此函数中将参数解析为正确的类型以在 Process.Start 中使用它

# javascript - 用于 HTML / CSS / Java Script 的 IDE，带 Live View 端口

> ID：10881107
> 
> 赞同：14
> 
> 时间：2012-06-04T12:14:58.417
> 
> 标签：javascript, html, css, ide

我一直在四处寻找。这可能比任何事情都更细微。当我做 jQuery 或其他 UI 工作时，我喜欢立即看到我的更改。Adobe Dreamweavers 实时取景端口做到了这一点，虽然不是特别好，但确实做到了。Kompozer 有一个视口，但它不是实时的，也没有 JS 或动作。有没有人知道除了 DW 之外有这个功能的 IDE 吗？Linux 是首选，但想知道任何事情。

作为一个兴趣点，我最近发现了 Wakanda [http://wakanda.org](http://wakanda.org)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-09-19T18:30:42.647

我知道这篇文章已经有一年多了，但我想如果你有兴趣我会把它扔掉。Adobe 现在正在开发一种可能适合您的产品的产品。如果您有创意云，则可以预览该程序。它在创意云中被称为 Edge Code，但它也被开发为独立的、开源的、独立于平台的代码编辑器。我不知道为什么，但在创意云之外，它被称为括号。它不会在程序本身中进行实时查看，但它会自动在 Chrome 中打开文档，并在您进行更改时进行更新。真正有趣的是程序本身是用 html、css 和 JS 编写的，因此应该很容易根据自己的喜好进行定制。它目前处于测试阶段，可以在以下位置下载

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T06:58:28.060

它可能不是您正在寻找的东西（不支持 javascript），但 dabblet 是一个很棒的工具，用于编写 html+css 并在浏览器中实时观看预览。

[dabblet 实时编辑器](http://dabblet.com/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-11T15:01:01.987

我最近被 Sublime Text 2 深深吸引。在尝试了许多 IDE 之后，它是最让我印象深刻的一个。

我正在观看 Paul Irish 关于 2013 年 Web 开发工作流程的教程（视频仅部分相关），他在其中描述了一个插件，他使用该插件可以避免按 F5 来刷新浏览器。相反，每次他保存文件时都会更新它。

Sublime Text 2 越来越受欢迎，我的理解是它可以在 Linux 中很好地工作。该插件名为 LiveReload（10 美元）。

这将需要研究，但可能非常值得。[关联](http://tarantsov.com/blog/2012/02/sublime-text-workflow-that-beats-coda-and-espresso/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-10-17T01:13:05.010

我创建了自己的[开源](https://github.com/mikethedj4/kodeWeave)编码游乐场，名为[kodeWeave （它以](https://mikethedj4.github.io/kodeWeave/)[Github Gist](https://gist.github.com/)的形式保存和检索您的编织）。它适用于 Windows、Linux、Mac OS X、Android 和 Online（我也计划为 iOS 和 Windows Phone 发布它）。

[![在此处输入图像描述](../Images/8af38197aa04ed97e586df5d866d9cb8.png)](https://i.stack.imgur.com/Eon5s.png) [![在此处输入图像描述](../Images/35ae51b57e35dc94fa0774628c5ba844.png)](https://i.stack.imgur.com/4h0fI.png)

其他一些可以试用的好编码游乐场是[CodePen](http://codepen.io/)、[CSSDeck](http://cssdeck.com/)、[Plunker](http://plnkr.co/)、[JSBin](http://jsbin.com/)、[jsFiddle](http://jsfiddle.net/)、[Liveweave](http://liveweave.com/)。

还有一个由[Adob](https://github.com/adobe/brackets) ​​e创建的开源项目[Brackets （它基本上是](http://brackets.io/)[Edge Code](http://www.adobe.com/products/edge-code.html)的开源版本）。[Brackets](http://brackets.io/)的好处是它在你的设备上本地运行它自己的服务器，所以如果你使用像[JSZip](https://stuk.github.io/jszip/)这样的库，它可以立即工作。此外，每当您在[Brackets](http://brackets.io/)中保存对文件所做的更改时，您的应用程序将在 Chrome 的调试器中重新加载（从[Brackets](http://brackets.io/)启动）因此调试非常快速和容易，更不用说有很多插件可以提高生产力。真是太厉害了！

[![括号应用程序](../Images/375fd6216c5f161344f2d555cd76880a.png)](https://i.stack.imgur.com/QWbly.png)

还有[Cloud9IDE](https://c9.io/)。

[![在此处输入图像描述](../Images/cc0ec77edf5d57491b6f6be50c8f8ced.png)](https://i.stack.imgur.com/m6DlP.png)

我相信您已经知道这一点，但 Chrome 开发人员工具也具有此功能。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-05T12:09:46.043

[Stylizer](http://www.stylizerapp.com/)是一个不错的 CSS 实时版应用程序。

# php - ajax 的双重请求 mysql/php

> ID：10881116
> 
> 赞同：-1
> 
> 时间：2012-06-04T12:15:41.360
> 
> 标签：php, mysql, ajax, getjson, explode

1：我知道我的数据库很乱，但我没有访问权限。我知道他们是蹩脚的。

2：有我的数据库和我的 2 个表：http://www.freeimagehosting.net/iu741

3：我得到了 3 个动态列表，前 2 个还可以，但我的第三个有问题。

4：我的爆炸在这个领域（22312,123,2145,1233）做得很好，然后我把这些结果通过json_encode发送到我的JS，我的JS将这些resylts发送到我的选择/选项。我的结果是：http://www.freeimagehosting.net/gltie

5：所以我想保留此列表功能，将数字放入值中，但将旅馆的名称放入选项中（可见）。

* * *

我的代码JS：

```
$(function(){
        $('#destination').change(function(){
            $.getJSON('/dev/select2.php', {'destination': $(this).val()}, function(data) {
                var items = '';
                $.each(data, function(key, val) {
                   items += '<option value="' + val + '">' + val + '</option>';
                });
                $('#hotel').html(items);
            });
        });
    }); 
```

我的代码 php：

```
$requete = "SELECT DISTINCT deHotels FROM sirev_Dests WHERE deDestName = '". $_GET['destination'] ."' ORDER BY deDestName";
    $connect = mysql_connect("&&&&&&","&&&&&&","&&&&&&");

    mysql_select_db("&&&&&&", $connect);

    $res = mysql_query($requete) or die(mysql_error());

    if ($res) {
        $row = mysql_fetch_assoc($res);
        $items = explode(',', $row['deHotels']);        
/*
    $newrequete = "SELECT hoName FROM sirev_Hotels WHERE hoCode = $items ";
    $donewrequete = mysql_query($newrequete) or die(mysql_error());
*/      
        die(json_encode($items));
    } 
```

所以实际上，我很难在我的 JS 中发送好结果。我可以发送值和选项中的数字，但我不知道如何构建二维表并将其发送到我的 json 编码......我暂时将我的第二个请求放在评论中。

有人能帮我吗？我希望我足够清楚......顺便说一下我的英语，我来自魁北克市。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:51:00.523

1.  **您的代码容易受到 SQL 注入的攻击。** 您*确实*应该使用[准备好的语句](https://stackoverflow.com/a/60496/623041)，将变量作为参数传递给其中，这些参数不会针对 SQL 进行评估。如果您不知道我在说什么，或者如何解决它，请阅读[Bobby Tables](https://stackoverflow.com/questions/332365/xkcd-sql-injection-please-explain)的故事。

2.  请停止使用古老的 MySQL 扩展编写新代码：它不再维护，社区已开始[弃用过程](http://news.php.net/php.internals/53799)。相反，您应该使用改进的[MySQLi](http://php.net/mysqli)扩展或[PDO](http://php.net/pdo)抽象层。

3.  了解[SQL 连接](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)。

4.  您*真的*应该努力将您的架构更改为：

    *   酒店表中的目的地外键（如果酒店与不超过一个目的地相关联）；或者

        ```
        ALTER TABLE sirev_Hotels
         ADD COLUMN hoDestination INT,
         ADD FOREIGN KEY hoDestination REFERENCES sirev_Dests (deDestCode) 
        ```

    *   目的地-酒店关系表（如果酒店可以与多个目的地相关联）。

        ```
        CREATE TABLE sirev_DestinationHotels (
          dehoDestination INT,
          dehoHotel INT,
          FOREIGN KEY dehoDestination REFERENCES sirev_Dests  (deDestCode),
          FOREIGN KEY dehoHotel       REFERENCES sirev_Hotels (hoCode)
        ) 
        ```

5.  如果这不可能，您可以使用 MySQL 的[`FIND_IN_SET()`](http://dev.mysql.com/doc/en/string-functions.html#function_find-in-set)函数作为连接标准：

    ```
    SELECT hoCode, hoName
    FROM   sirev_Hotels
      JOIN sirev_Dests ON FIND_IN_SET(sirev_Hotels.hoCode, sirev_Dests.deHotels)
    WHERE  sirev_Dests.deDestName = ? 
    ```

6.  加入表格并获得所需目的地的所有酒店的`hoCode`和`hoName`之后，您可以循环输出结果集`<option value="$hoCode">$hoName</option>`，[`htmlentities()`](http://php.net/manual/en/function.htmlentities.php)并酌情应用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:50:48.760

$values = 数组（）；While($row = mysqli_fetch_array($result)) { $values[] = array($row,$secondValue); }

伪代码。您需要填补空白，但希望这会有所帮助

# javascript - 如何在开始时禁用 HTML 中的链接并在之后启用它？

> ID：10881119
> 
> 赞同：2
> 
> 时间：2012-06-04T12:15:56.303
> 
> 标签：javascript, html

我有一个 HTML 网页。左侧栏有导航链接。

逻辑是，在一开始，大多数链接（`<a>`标签）都应该被禁用。

只有在用户完成网页内的一些操作后，这些链接才会被启用。

那么我该如何实现呢？我怎样才能`<a>s`先禁用，然后再重新启用它们？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:17:52.503

禁用该功能，用一些无操作替换 href`href="javascript:;"`并稍后添加真实的东西。

或者添加一个抑制默认事件的处理程序（使用`return false;`或 jQuerys `.preventDefault()`）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:19:40.593

尝试使用 jquery`.preventDefault()`

链接 - [http://api.jquery.com/event.preventDefault/](http://api.jquery.com/event.preventDefault/)

但是你必须在 if 条件下使用它

```
if maxwords
   preventDefault
else
   return true 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T12:38:17.523

为什么你不在服务器端这样做。例如，在 ASP 中，您可以 `anchotTagId.Enabled = false;`在 PageLoad 上设置，在用户完成您需要的操作后，您可以说`anchorTagId.Enabled = true;`

# c++ - OpenGL窗口切断模型视图

> ID：10881121
> 
> 赞同：0
> 
> 时间：2012-06-04T12:15:57.373
> 
> 标签：c++, qt, opengl, glulookat

我正在使用 Qt 和 OpenGL（更具体地说，QGLWidget）用 C++ 编写台球游戏。我对 OpenGL 有一定了解，但不是太专业。

我所做的：创建一个 Qt 应用程序窗口，其中包含 Qt 小部件（按钮，...）和一个 QGLWidget（我自己的实现）。

问题：我可以在这个窗口中画一个球并旋转它，等等，但是视图的纵横比不正确+我似乎无法使用整个空间。

![错误的纵横比](../Images/cefdf2aee4686c6d16f2fd9486f3fddd.png) 白色矩形是比赛场地（尺寸：1.4 x 2.7 浮点坐标）

我可以转换模型，但它似乎被切断了： ![模型截断](../Images/130940a324d8376ac782d196d04003e0.png)

一旦我转换视图（检查下面的功能），我的模型的一部分似乎被切断了。

这是矩形（球在这些坐标内正确绘制）：

```
glBegin(GL_LINE_LOOP);
    glColor3f(255.0, 255.0, 255.0);
    glVertex3f(0.0, 0.0, 0.0);
    glVertex3f(1.4, 0.0, 0.0);

    glVertex3f(1.4, 0.0, 0.0);
    glVertex3f(1.4, 2.7, 0.0);

    glVertex3f(1.4, 2.7, 0.0);
    glVertex3f(0.0, 2.7, 0.0);

    glVertex3f(0.0, 2.7, 0.0);
    glVertex3f(0.0, 0.0, 0.0);
glEnd(); 
```

OpenGL调整大小功能：

```
void GLWidget::resizeGL( int width, int height )
{
    int side = qMin( width, height );
    glViewport( (width - side) / 2, (height - side) / 2, side, side );
    glMatrixMode( GL_PROJECTION );
    glLoadIdentity();
    glOrtho( -0.05, +1.45, -0.05, +2.75, 0.0, 50.0 );
    //glFrustum( -0.05, +1.45, 0.0, 0.0, 0.0, 50.0 );
    glMatrixMode( GL_MODELVIEW );
    glLoadIdentity();                                                     
} 
```

最后，与视图相关的渲染函数的一部分：

```
 gluLookAt(0.0, 0.0, 1.0, 0.0, -0.70, 0.0, 0.0, 1.0, 0.0 ); // This is the cut of part
 //gluLookAt(0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0 ); // Normal but weird rectangle
 glScalef( 1.0, 1.0, 1.0); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:31:31.173

你的问题出在这里：

```
glMatrixMode( GL_PROJECTION );
glLoadIdentity();
glOrtho( -0.05, +1.45, -0.05, +2.75, 0.0, 50.0 ); 
```

投影的左/右或上/下限制应与视口的方面相匹配。这些硬编码值不会适应窗口几何形状的变化。

还要确保近平面和远平面不切入可见场景范围。

# cocoa - 主线程 Runloop 在打开 nsmenu 时被阻塞

> ID：10881122
> 
> 赞同：3
> 
> 时间：2012-06-04T12:16:04.767
> 
> 标签：cocoa, nsnotificationcenter, nsmenu, nsrunloop, nsstatusitem

我有一个 UI 元素包含一个`NSStatusItem`和一个菜单的应用程序。在我的应用程序中，我使用`NSTask`异步执行一些操作，并使用使用 获得的输出 `NSFileHandleReadCompletionNotification`来更新菜单。但是现在每当我单击并打开菜单时，主运行循环都会进入 `NSEventTrackingRunLoopMode`并且通知发布失败。所以基本上在我的菜单打开的情况下，主线程上不会发生任何操作。[现在我在这篇](https://stackoverflow.com/questions/2808016/how-does-apple-update-the-airport-menu-while-it-is-open-how-to-change-nsmenu-w)文章中发现了一个类似的问题，但那里接受的解决方案似乎没有帮助。我知道对于`NSNotificationCenter`，`NSRunloopDefaultMode`不能被阻止。有没有办法改变这种行为？？？有人可以帮忙吗？？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T14:48:26.333

我猜是你有一个`NSFileHandle`代表`NSTask`'s 的`stdout`，你已经要求它了[`-readInBackgroundAndNotify`](http://developer.apple.com/library/ios/DOCUMENTATION/Cocoa/Reference/Foundation/Classes/NSFileHandle_Class/Reference/Reference.html#//apple_ref/doc/uid/20000304-readInBackgroundAndNotify)。

正如您所发现的那样，问题在于它仅在运行循环处于默认模式时发出通知。如果 runloop 进入另一种模式（例如打开菜单时），那么您的通知将在主 runloop 上排队并等待直到 runloop 重新进入默认模式。

您想要使用的是[`-readInBackgroundAndNotifyForModes:`](http://developer.apple.com/library/ios/DOCUMENTATION/Cocoa/Reference/Foundation/Classes/NSFileHandle_Class/Reference/Reference.html#//apple_ref/doc/uid/20000304-readInBackgroundAndNotifyForModes_)方法，您将向该方法传递一个包含`NSDefaultRunLoopMode`和的数组`NSEventTrackingRunLoopMode`。这将向 runloop 表明，当 runloop 处于默认模式或事件跟踪模式时，您希望收到任何可用数据的通知。

# jquery - 如何使用 jQuery 选择嵌套的单选按钮？

> ID：10881130
> 
> 赞同：0
> 
> 时间：2012-06-04T12:16:37.833
> 
> 标签：jquery

我有以下代码：

```
<form class="form-inline" id="myform0">    
    <fieldset>                  
        <label class="radio"><input type="radio" name="optionsRadios" id="optionHere2" value="2">Yes</label>
        <label class="radio"><input type="radio" name="optionsRadios" id="optionHere1" value="1">No</label>            
        <label class="radio"><input type="radio" name="optionsRadios" id="optionHere3" value="3">Not decided</label>                        
    </fieldset>                 
</form>
<form class="form-inline" id="myform1">    
    <fieldset>                  
        <label class="radio"><input type="radio" name="optionsRadios" id="optionHere2" value="2">Yes</label>
        <label class="radio"><input type="radio" name="optionsRadios" id="optionHere1" value="1">No</label>            
        <label class="radio"><input type="radio" name="optionsRadios" id="optionHere3" value="3">Not decided</label>                        
    </fieldset>                 
</form> 
```

我想要做的是能够以编程方式在每个组中选择一个单选按钮。到目前为止我尝试的一切都没有奏效。想法？

编辑：

这会选择所有这些： $("input[name=optionsRadios][value=1]").attr('checked', 'checked');

我只是想选择一个特定的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T12:18:47.370

要检查每个第一个单选按钮，请使用以下代码：

```
$("form").each(function() {
    $(this).find(":radio:first").prop("checked", true);
}); 
```

或更短：

```
$("form").find(":radio:first").prop("checked", true);​​​​​​​​​​​​​​​​ 
```

还要检查您是否有具有相同 ID 的元素（例如`optionHere1`、`optionHere2`等）。

**ID应该是唯一的！**

**演示：http:** [//jsfiddle.net/mAeTa/](http://jsfiddle.net/mAeTa/)

* * *

**更新。**这也可以正常工作：

```
$("form").find(":radio[name='optionsRadios'][value='1']").prop("checked", true);​ 
```

**演示：http:** [//jsfiddle.net/mAeTa/1/](http://jsfiddle.net/mAeTa/1/)

# javascript - 从 jQuery 对象本身调用自定义 jQuery 插件

> ID：10881134
> 
> 赞同：0
> 
> 时间：2012-06-04T12:16:48.203
> 
> 标签：javascript, jquery, jquery-plugins

我无法从 jQuery 对象本身调用 jQuery 插件。所以`$(selector).myPlugin()`我不想打电话，`$.myPlugin`而是打电话。出于某种原因，它告诉我该函数未定义。

这是我的代码：

```
(function ($) {

    var _current = null;

    var methods = {
        init: function (options) {
            _current = $('.rfgQuestionsWrapper').filter(function () {
                return $(this).css('display') != 'none';
            }).first();
            console.log(_current);
            $('.gaugeTitle').click(function (e) {
                var rfgCode = $(this).parent().find('.gaugeWrapper').attr('id');
                console.log(rfgCode);
                showByCode(rfgCode);
                return false;
            });
        },
        showByCode: function (rfgCode) {
            var target = $.utilities.filterById('.rfgQuestionsWrapper', rfgCode);
            console.log(target);
            _current.hide();
            target.show();
        }
    };

    $.fn.navigationManager = function (method) {
        if (methods[method]) {
            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));
        } else if (typeof method === 'object' || !method) {
            return methods.init.apply(this, arguments);
        } else {
            $.error('Method ' + method + ' does not exist on jQuery.tooltip');
        }
    };

})(jQuery); 
```

我一定是做错了什么，因为这是我第一次以这种方式调用插件......有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:47:45.977

看看那个问题：[在 jQuery 中，$.myFunction 和 $.fn.myFunction 有什么区别？](https://stackoverflow.com/questions/2398007/in-jquery-what-is-the-difference-between-myfunction-and-fn-myfunction)

基本上代替`$.fn.navigationManager = function(){}`你写`$.navigationManager = function(){}`.

# pdfbox - Pdfbox如何从pdf中提取字体类型和样式

> ID：10881136
> 
> 赞同：2
> 
> 时间：2012-06-04T12:17:06.180
> 
> 标签：pdfbox

如何使用pdfbox从pdf中检索字体类型样式属性

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-10-03T15:15:30.423

如果要获取pdf文档中单个字符的字体，可以调用`textPosition.getFont().getFontDescriptor().getFontName()`，其中textPosition是TextPosition类的一个实例。

PDF 文档的所有字符都与 TextPosition 对象相关。

`processTextPosition(TextPosition t)`您可以通过重写PDFTextStripper 的方法或使用 PDFTextStripper的方法来获取 PDF 文档的 TextPosition 对象`getCharactersByArticle()`。

即后者 - 像这样扩展 PDFStripper 类：

```
public class MyPDFTextStripper extends PDFTextStripper {

    public MyPDFTextStripper() throws IOException {
        super();
    }

    public Vector<List<TextPosition>> myGetCharactersByArticle() {
        return getCharactersByArticle();
    }
} 
```

...获取单页使用的 TextPositions 列表：

```
MyPDFTextStripper stripper = new MyPDFTextStripper();
PDDocument doc = PDDocument.load(new File(filename));
stripper.setStartPage(pageNr+1);
stripper.setEndPage(pageNr+1);
stripper.getText(doc);
Vector<List<TextPosition>> list = stripper.myGetCharactersByArticle(); 
```

...最后要获取单个字符的字体，只需键入：

```
textPosition.getFont().getFontDescriptor().getFontName() 
```

# php - 如何在照片上传时指定专辑名称 + 描述，而不是基于 APP 名称？（脸书时间线）

> ID：10881137
> 
> 赞同：0
> 
> 时间：2012-06-04T12:17:19.743
> 
> 标签：php, facebook, api, facebook-graph-api

我在这里为我的 Facebook 应用程序使用这个脚本。
它会在用户的 Facebook 个人资料上上传一张照片，并为该照片创建一个新相册。

该脚本返回“ ***[APP NAME]* Photos** ”作为相册名称/标题（不带引号）。
- ***[APP NAME]***是我的 Facebook APP 的名称 -

基本上，我不想要那个专辑标题。我想在脚本上指定专辑标题。
**我想要的是：**

*   **...能够从脚本中指定要创建的专辑名称/标题。**
*   **如果可能，请指定专辑描述。**

这是脚本 -

```
 $root_url = "http://www.WEBSITE.COM/";
    $facebook = new Facebook($config);
    $user_id = $facebook->getUser();

      // Get image from URL
      $img = $_GET['i'];
      // Change location depending on which type of cover
      if($get_set != 1) {
      $photo = './PATH/'.$img.''; // Path to the photo on the local filesystem
      } else {
      $photo = './PATH/'.$img.'';
      }
      $message = 'THIS IS THE PHOTO CAPTION';

        if($user_id) {

          // We have a user ID, so probably a logged in user.
          // If not, we'll get an exception, which we handle below.
          try {

            // Upload to a user's profile. The photo will be in the
            // first album in the profile. You can also upload to
            // a specific album by using /ALBUM_ID as the path 
            $ret_obj = $facebook->api('/me/photos', 'POST', array(
                                             'source' => '@' . $photo,
                                             'message' => $message,
                                             )
                                          );
          //  echo '<pre>Photo ID: ' . $ret_obj['id'] . '</pre>';
          print "<script>window.location = '".$root_url."index.php?cover=uploaded'</script>";

          } catch(FacebookApiException $e) {
            // If the user is logged out, you can have a 
            // user ID even though the access token is invalid.
            // In this case, we'll get an exception, so we'll
            // just ask the user to login again here.
            $login_url = $facebook->getLoginUrl( array(
                           'scope' => 'photo_upload'
                           )); 
            echo '<script> window.location = "' . $login_url . '"; </script>';
            error_log($e->getType());
            error_log($e->getMessage());
          }   

          echo '<br /><a href="' . $facebook->getLogoutUrl() . '">logout</a>';
        } else {

          // No user, print a link for the user to login
          // To upload a photo to a user's wall, we need photo_upload  permission
          // We'll use the current URL as the redirect_uri, so we don't
          // need to specify it here.
          $login_url = $facebook->getLoginUrl( array( 'scope' => 'photo_upload') );
            echo '<script> window.location = "' . $login_url . '"; </script>';
            //echo 'Please <a href="' . $login_url . '">login</a> to continue.';

        } 
```

**[在这里](http://developers.facebook.com/blog/post/498/)**看到这个，我相信这是可能的。

```
 $album_name = 'YOUR_ALBUM_NAME';
   $album_description = 'YOUR_ALBUM_DESCRIPTION'; 
```

我只是不知道如何在那里工作......
期待解决方案。谢谢你的时间！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:42:53.803

[正如它在Photo 对象](http://developers.facebook.com/docs/reference/api/photo/)的文档中所说：

> 您可以通过向 Graph API 连接发出带有照片内容和可选描述的 HTTP POST 请求来上传照片：
> 
> *   [https://graph.facebook.com/USER_ID/photos](https://graph.facebook.com/USER_ID/photos) - 照片将发布到为您的应用创建的相册中。如果您的应用尚不存在，我们会自动为您的应用创建相册。以这种方式上传的所有照片都将添加到同一个相册中。
>     
>     
> *   [https://graph.facebook.com/ALBUM_ID/photos](https://graph.facebook.com/ALBUM_ID/photos) - 照片将发布到特定的现有相册，由 ALBUM_ID 表示。常规相册的大小限制为 200 张照片。默认应用程序相册的大小限制为 1000 张照片。

您当前正在使用第一个选项，使用第二个选项需要您拥有一个专辑 ID，您首先需要创建它：

> 您可以通过向具有 publish_stream 权限和以下参数的 PROFILE_ID/albums 发出 HTTP POST 请求来为用户创建专辑
> （[用户对象的专辑连接](http://developers.facebook.com/docs/reference/api/user/#albums)）

问题是当应用程序需要再次上传到相册时，您必须保存此相册 ID 以供用户使用。

# javascript - jQuery绑定功能不起作用

> ID：10881140
> 
> 赞同：0
> 
> 时间：2012-06-04T12:17:47.200
> 
> 标签：javascript, jquery

我似乎对 jQuery`bind()`和`unbind()`函数有疑问。他们似乎根本没有被处决。这是我到目前为止的代码：

```
$(function() {
    var init = function() {
        $.get('test.php', function(j) {
            if(j.r && j.r == 'error') {
                console.log("1");
                $('#far').bind('click', function() {
                    console.log("2"); return false;
                });
            } else {
                //getData();
            }
        })
    }();

    var getData = function() {
        $('#far').unbind('click', false);
    };

    $('#far').click(function() { ... });
}); 
```

控制台只显示我`1`，没有错误。我不知道我做错了什么，因为没有错误并且 jQuery 文档和 StackOverflow 给了我相同的答案。我正在使用 jQuery 1.4.4

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:26:08.253

`getData()`通过在 $.get() 函数末尾调用您的函数，您将在绑定事件后立即解除绑定。尝试注释掉函数`getData()`中的调用`$.get()`，看看是否有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:22:16.023

正如我所见，您在创建事件之前绑定了事件，因此请`live`改用。

# json - node.js 休息 json

> ID：10881141
> 
> 赞同：0
> 
> 时间：2012-06-04T12:17:49.687
> 
> 标签：json, node.js, faye

我们将一大块 json 发送到 node/faye 并且遇到了嵌套数组的一些问题。这是json：

```
{
    "event_189420": {
        "num_horses": 11,
        "sport_name": "horse",
        "conditions": "",
        "ort": 13,
        "result_4": [],
        "sis": "",
        "fixed_odds": false,
        "event_class": "Attele - Course G (trot)",
        "event_desc": "Prix de L'U.N.A.T.",
        "non_runners": "",
        "event_id": 189420,
        "tek": "",
        "distance": "2650m",
        "good_result_count": 0,
        "result_prices": {},
        "result_1": [],
        "ticker": "",
        "prize": "6000 EUR",
        "result_2": [],
        "race_name": "Bordeaux Le Bouscat",
        "big_screen": true,
        "horses": [
            [
                "Qu'Il Vive del Sol",
                false,
                "",
                "999",
                "",
                "",
                "",
                "",
                false,
                "",
                false,
                false,
                "OK"
            ],
            [
                "Rocky du Bordage",
                false,
                "",
                "999",
                "",
                "",
                "",
                "",
                false,
                "",
                false,
                false,
                "OK"
            ],
            [
                "Reve",
                false,
                "",
                "999",
                "",
                "",
                "",
                "",
                false,
                "",
                false,
                false,
                "OK"
            ],
            [
                "Rafale des Racques",
                false,
                "",
                "999",
                "",
                "",
                "",
                "",
                false,
                "",
                false,
                false,
                "OK"
            ],
            [
                "Releve du Liard",
                false,
                "",
                "999",
                "",
                "",
                "",
                "",
                false,
                "",
                false,
                false,
                "OK"
            ],
            [
                "Nichtstarter",
                false,
                "****",
                "****",
                "",
                "",
                "",
                "",
                true,
                "",
                false,
                false,
                "OK"
            ],
            [
                "Rire Eclatant",
                false,
                "",
                "999",
                "",
                "",
                "",
                "",
                false,
                "",
                false,
                false,
                "OK"
            ],
            [
                "Quinquin",
                false,
                "",
                "999",
                "",
                "",
                "",
                "",
                false,
                "",
                false,
                false,
                "OK"
            ],
            [
                "Pacific d'Yvel",
                false,
                "",
                "999",
                "",
                "",
                "",
                "",
                false,
                "",
                false,
                false,
                "OK"
            ],
            [
                "Romain de Godisson",
                false,
                "",
                "999",
                "",
                "",
                "",
                "",
                false,
                "",
                false,
                false,
                "OK"
            ],
            [
                "Rhapsodie Models",
                false,
                "",
                "999",
                "",
                "",
                "",
                "",
                false,
                "",
                false,
                false,
                "OK"
            ]
        ],
        "starting_time": "16:10",
        "result_3": [],
        "race_status": "open",
        "small_screen": true,
        "pmsg": "",
        "race_num": 8
    }
} 
```

如您所见，有很多“空”元素（仅`""`）。对于'顶级'对象这很好，我们得到'key'：''。但是，对于子数组（在本例中为“马”），`""`元素被简单地删除。

这一定是在客户端发生的——我们在服务器端看到的一切看起来都不错。即使使用从文件中提取的静态 json 在客户端上也表现出相同的行为。

我们做错了什么还是节点/faye的问题？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-06-06T12:05:57.047

如果需要在数组中创建占位符，请使用 NULL 而不是空字符串。

# mdx - 如何检索 OLAP 多维数据集的结构

> ID：10881147
> 
> 赞同：1
> 
> 时间：2012-06-04T12:18:03.930
> 
> 标签：mdx, olap

我可以访问 OLAP 目录，但我不熟悉 MDX。我正在寻找 SQL 的 MDX 等效项：

```
SHOW DATABASES; 
SHOW TABLES; 
```

我正在查看[MDX 语言参考](http://msdn.microsoft.com/en-us/library/ms145595)，但我找不到获取模式、多维数据集元数据的方法。感谢您的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T12:33:39.597

您可以使用 $SYSTEM 数据库来查询您的对象。

用于`SELECT * FROM $SYSTEM.DISCOVER_SCHEMA_ROWSETS`获取您可以查询的内容的列表。在您的情况下，它很可能是`DBSCHEMA_CATALOG`,`DBSCHEMA_TABLES`和`MDSCHEMA_CUBES`。

这是非常粗略的信息，最终使用 Preet 建议的东西可能是有利的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T12:29:52.890

有答案[List dimension members with MDX query](https://stackoverflow.com/questions/6266850/list-dimension-members-with-mdx-query)显示如何列出维度。

这个[开源项目 (TSSASM)](http://tssasm.codeplex.com/)展示了如何从 TSQL 数据库查询访问多维数据集结构。

但是我认为您可能需要 XMLA 命令来查看您需要什么。

# python - 配置 eclipse 以在类、函数和模块上插入 pydoc 兼容的注释

> ID：10881148
> 
> 赞同：1
> 
> 时间：2012-06-04T12:18:19.273
> 
> 标签：python, eclipse

有没有办法配置 eclipse 以便插入 PyDoc 兼容的注释。目前`Ctrl`+`4`或`Ctrl`+`3`设置为在 eclipse 中对 python 文件添加注释，但它们与 PyDoc 不兼容。我正在寻找一个允许在创建新函数、类和模块时插入注释/字符串的函数（最好是键绑定）。（对不起一个行人的问题，我是 eclipse 的新手）。

# php - PHP 方法链

> ID：10881150
> 
> 赞同：0
> 
> 时间：2012-06-04T12:18:29.697
> 
> 标签：php, oop, chaining

谁能解释我为什么这段代码不起作用（内容`$this->_string`）是空的？

```
<?php
class WordProcessor
{
    public $_string = '';

    public function __constructor($text)
    {
        $this->_string = $text;
    }

    public function toLowerCase()
    {
        $this->_string = strtolower($this->_string);
        return $this;
    }

    public function trimString()
    {
                echo $this->_string;
        $this->_string = trim($this->_string);
        return $this;
    }

    public function capitalizeFirstLetter()
    {
        $this->_string = trim($this->_string);
        return $this;
    }

    public function printResult()
    {
        echo $this->_string;
    }
}

$data = new WordProcessor("here Are some words!  ");
$data->trimString()->toLowerCase()->capitalizeFirstLetter()->printResult(); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T12:20:41.003

使用`construct`而不是`constructor`？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:22:34.230

它的

```
public function __construct($text) 
```

不是`__constructor(..)`

# bash - 从 Bash 中的目录读取文件名

> ID：10881157
> 
> 赞同：5
> 
> 时间：2012-06-04T12:18:59.750
> 
> 标签：bash

我需要编写一个脚本，从目录中读取所有文件名，然后根据文件名，例如，如果它包含 R1 或 R2，它将连接所有包含的文件名，例如名称中的 R1。

谁能给我一些提示如何做到这一点？

我唯一能做的是：

```
#!/bin/bash

FILES="path to the files"

for f in $FILES
do
  cat $f
done 
```

这只告诉我变量 FILE 是一个目录而不是它拥有的文件。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-04T12:20:02.160

要进行解决问题的最小更改：

```
dir="path to the files"
for f in "$dir"/*; do
  cat "$f"
done 
```

要完成您所描述的理想最终目标：

```
shopt -s nullglob
dir="path to the files"
substrings=( R1 R2 )
for substring in "${substrings[@]}"; do
  cat /dev/null "$dir"/*"$substring"* >"${substring}.out"
done 
```

请注意，`cat`可以在一次调用中获取多个文件——事实上，如果你不这样做，你通常根本不需要使用 cat。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-03T00:02:26.883

简单的破解：

> ls -al *R1* | awk '{print $9}' >输出文件名R1
> 
> ls -al *R2* | awk '{print $9}' >输出文件名R2

# drupal-7 - Drupal 7 打印节点类型

> ID：10881158
> 
> 赞同：0
> 
> 时间：2012-06-04T12:19:01.047
> 
> 标签：drupal-7, drupal-theming

我正在尝试在 tpl 中打印节点类型，但看不到我使用的代码是：type != 'commissions'): ?>

有任何想法吗？

干杯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:25:46.773

tpl 文件中有一个完整的节点对象。也许你可以：

```
$node->type; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T09:24:16.097

`Try this $node= node_load($nid); // $nid = your node ID $type=$node->type; then check ($type!='commissions')`

# regex - Bash 脚本：将父目录附加到文件名

> ID：10881165
> 
> 赞同：1
> 
> 时间：2012-06-04T12:19:22.657
> 
> 标签：regex, linux, bash, sed

如何将文件名的父目录普遍附加到文件名本身，例如

```
/home/username/Mirrors/earth.com/tree/apples/filename2.html
/home/username/Mirrors/earth.com/grass/flower/leave/filename1.html 
```

以后应该是这样命名的文件：

```
earth.com/tree/apples/filename2.html
earth.com/earth/grass/flower/leave/filename1.html 
```

理想情况下，它们都位于一个文件夹中。这可以用 bash 脚本和 sed 来完成吗？

我为什么要这样做：我正在使用 httrack 镜像一个巨大的网站，而 httrack 在其相对目录结构中保存了一个文件，我无法让 httrack get 将文件保存为完整的 URL。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:32:03.253

由于您使用的是固定字段，因此您可以使用大量工具。

```
$ sed 's#/home/username/Mirrors##' file
/earth.com/tree/apples/filename2.html
/earth.com/grass/flower/leave/filename1.html

$ cut -c24- file
earth.com/tree/apples/filename2.html
earth.com/grass/flower/leave/filename1.html 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T12:36:24.640

好吧，您还没有定义要附加多少父目录。将其作为运行时参数，您可以使用以下 awk 命令：

```
echo /home/username/Mirrors/earth.com/tree/apples/filename2.html | 
awk  -F '/' -v D=3 '{for (i=D;i>=0;i--) {printf("%s", $(NF-i)); if (i>0) printf("/")}
 print "";}' 
```

**输出**

```
earth.com/tree/apples/filename2.html 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T12:31:46.453

你的意思是

```
sed 's|^/home/username/Mirrors/||' 
```

?

```
for f in /home/username/Mirrors/earth.com/*; do 
  mv $f `echo "$f" | sed 's|^/home/username/Mirrors/|/new/path/|'`;
done 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-04T12:40:37.100

好吧，您可以使用`sed`，但`httrack`有能力，例如：

```
httrack http://earth.com/tree/apples/filename2.html -O /tmp/ -N100 
```

根据文档：`-N100` *站点结构，没有 www.domain.xxx/*。

还有一点：

**详细信息：选项 N**

*   `N0`站点结构（默认）
*   `N1`web/ 中的 HTML，web/images/ 中的图像/其他文件
*   `N2`网页/HTML 中的 HTML，网页/图像中的图像/其他
*   `N3`web/ 中的 HTML，web/ 中的图像/其他
*   `N4`web/ 中的 HTML，web/xxx 中的 images/other，其中 xxx 是文件扩展名（例如，所有 gif 都将放在 web/gif 上）
*   `N5`web/xxx 中的图像/other 和 web/HTML 中的 HTML
*   `N99`web/ 中的所有文件，名称随机（小工具！）
*   `N100`站点结构，没有 www.domain.xxx/
*   `N101`与 N1 相同，只是将“web”替换为站点名称
*   `N102`与 N2 相同，只是将“web”替换为站点名称
*   `N103`与 N3 相同，只是将“web”替换为站点名称
*   `N104`与 N4 相同，只是将“web”替换为站点名称
*   `N105`与 N5 相同，只是将“web”替换为站点名称
*   `N199`与 N99 相同，只是将“web”替换为站点名称
*   `N1001`与 N1 相同，但没有“web”目录
*   `N1002`与 N2 相同，但没有“web”目录
*   `N1003`与 N3 相同，但没有“web”目录（为 g 选项设置的选项）
*   `N1004`与 N4 相同，但没有“web”目录
*   `N1005`与 N5 相同，但没有“web”目录
*   `N1099`与 N99 相同，但没有“web”目录

# python - 轴 xyz 的范围相同

> ID：10881166
> 
> 赞同：2
> 
> 时间：2012-06-04T12:19:23.670
> 
> 标签：python, plot, axes

我有一个包含值的数组，`(0.7, 0.4, 0.1)`我想用这段代码绘制相应的椭球：

```
from mpl_toolkits.mplot3d import Axes3D
import matplotlib.pyplot as plt
import numpy as np

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

u = np.linspace(0, 2 * np.pi, 100)
v = np.linspace(0, np.pi, 100)

x = 0.7 * np.outer(np.cos(u), np.sin(v))
y = 0.4 * np.outer(np.sin(u), np.sin(v))
z = 0.1 * np.outer(np.ones(np.size(u)), np.cos(v))
ax.plot_surface(x, y, z,  rstride=4, cstride=4, color='b')

plt.show() 
```

当我绘制该图时，它看起来比预期的椭圆体更像一个球体。我想问题是为轴设置“正确”范围。

我该如何解决这个“问题”？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:22:38.767

`ax.set_xlim()`您可以使用,`ax.set_ylim()`和`ax.set_zlim()`方法设置适当的范围。

```
from mpl_toolkits.mplot3d import Axes3D
import matplotlib.pyplot as plt
import numpy as np

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

u = np.linspace(0, 2 * np.pi, 100)
v = np.linspace(0, np.pi, 100)

x = 0.7 * np.outer(np.cos(u), np.sin(v))
y = 0.4 * np.outer(np.sin(u), np.sin(v))
z = 0.1 * np.outer(np.ones(np.size(u)), np.cos(v))
ax.plot_surface(x, y, z,  rstride=4, cstride=4, color='b')
ax.set_xlim([-0.5, 0.5])
ax.set_ylim([-0.5, 0.5])
ax.set_zlim([-0.5, 0.5])

plt.show() 
```

# javascript - 悬停时立即显示新项目的所有列表项弹出框-Javascript

> ID：10881168
> 
> 赞同：0
> 
> 时间：2012-06-04T12:19:33.173
> 
> 标签：javascript, jquery, html

因此，我的页面上有一个来自 SQL Server 数据库的项目分类列表。我还在新项目旁边加了星号以引起用户注意。当用户将鼠标悬停在每个新项目上时，我的代码应该有望显示每个新项目的弹出框。我的问题是，无论我将鼠标悬停在什么新项目/明星上，它们都会同时出现。我尝试对每个项目使用 for 循环，并在不同的尝试中为每个项目提供`<li>`一个唯一的类或 id。这是通过 Db 循环并显示“新”的代码的一部分

```
<li>
    <?php 
        if(strtotime($itemDetails['posted']) > (strtotime('-30 days'))){
            echo '<i class="icon-star" data-content="This item is new on Corkboard. Check it out!" data-original-title="New Item"></i>';}
            echo '<a href="newGenView.php?id='.$itemid.'">'.$itemDetails['name'].' - '.$itemDetails['description'].'</a>';
    ?>
</li>
<?php
    }//foreach
    echo '</ul>';
    }//foreach
?> 
```

这是实例化弹出框的代码。

```
<script type="text/javascript">
$(document).ready(function() {
    $('.icon-star').popover(options);
});
</script>
<script>
    $("i").hover(function () {
    $('.icon-star').popover('show');
    });
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T14:41:42.397

在不知道“popover”函数属于哪个库的情况下，我会说您需要稍微更改一下您的javascript。$("i").hover(...) 代码将使您的弹出窗口发生在所有“i”元素上。

尝试类似：

```
<script type="text/javascript">
    $(document).ready(function() {
        $('.icon-star').popover('show');
    });
</script> 
```

# php - joomla k2 - 需要在 k2 额外字段中上传 pdf 文件

> ID：10881172
> 
> 赞同：0
> 
> 时间：2012-06-04T12:19:51.433
> 
> 标签：php, joomla

joomla k2 - 需要在 k2 额外字段中上传 pdf - 任何解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T11:06:24.513

考虑在媒体管理器中为此创建一个目录，并将指向 PDF 的链接存储在 K2 额外字段中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-10-22T13:11:20.660

使用附件选项卡。

# ruby - 格鲁夫工作不顺利。该怎么办？

> ID：10881173
> 
> 赞同：2
> 
> 时间：2012-06-04T12:19:55.443
> 
> 标签：ruby, charts, imagemagick, rmagick, gruff

我正面临 Gruff 和 Rails 的问题。[该网站](http://nubyonrails.com/pages/gruff)上的示例失败：

```
ZeroDivisionError: divided by 0
from /home/prikha/.rvm/gems/ruby-1.9.3-p194@rubymine/gems/gruff-0.3.6/lib/gruff/base.rb:1066:in `label'
from /home/prikha/.rvm/gems/ruby-1.9.3-p194@rubymine/gems/gruff-0.3.6/lib/gruff/base.rb:590:in `setup_graph_measurements'
from /home/prikha/.rvm/gems/ruby-1.9.3-p194@rubymine/gems/gruff-0.3.6/lib/gruff/base.rb:532:in `setup_drawing'
from /home/prikha/.rvm/gems/ruby-1.9.3-p194@rubymine/gems/gruff-0.3.6/lib/gruff/base.rb:508:in `draw'
from /home/prikha/.rvm/gems/ruby-1.9.3-p194@rubymine/gems/gruff-0.3.6/lib/gruff/line.rb:53:in `draw'
from /home/prikha/.rvm/gems/ruby-1.9.3-p194@rubymine/gems/gruff-0.3.6/lib/gruff/base.rb:487:in `write'
from (irb):8
from /home/prikha/.rvm/rubies/ruby-1.9.3-p194/bin/irb:16:in `<main>' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T11:14:56.387

我有同样的问题。我解决的方法如下： ZeroDivisionError 出现在 gruff/base.rb 的 1066 行让我们仔细看看这个文件

```
label = if (@spread.to_f % @marker_count.to_f == 0) || !@y_axis_increment.nil? 
```

因此，ZeroDivisionError 是由 @marker_count 属性等于零的事实引起的。我知道，这不是最好的解决方案，但我 `@marker_count = <non-zero value>`在绘制图表之前添加了一个明确的分配。因此，现在来自站点的示例如下所示：

```
#!/usr/bin/ruby
require 'rubygems'
require 'gruff'

g = Gruff::Line.new
g.title = "My Graph" 

g.data("Apples", [1, 2, 3, 4, 4, 3])
g.data("Oranges", [4, 8, 7, 9, 8, 9])
g.data("Watermelon", [2, 3, 1, 5, 6, 8])
g.data("Peaches", [9, 9, 10, 8, 7, 9])
g.marker_count = 4 #explicitly assign value to @marker_count
g.labels = {0 => '2003', 2 => '2004', 4 => '2005'}

g.write('my_fruity_graph.png') 
```

这对我来说可以。我知道这不是问题的一般解决方案，但是这个 hack 可以帮助你处理那个库，直到开发人员修复这个错误。

**ADD**
@market_count 是垂直轴上的标记数。因此，您可以使用此属性来美化您的图表。

# iphone - 我尝试发推文时应用程序崩溃

> ID：10881177
> 
> 赞同：1
> 
> 时间：2012-06-04T12:20:02.247
> 
> 标签：iphone, ios

我正在使用`SA_OAuthTwitterController`api 来集成 twitter。当我尝试使用发布推文时

```
[_engine sendUpdate:tweetTextField.text] 
```

我的应用程序崩溃。我收到错误消息：

> 已验证 (null)。

崩溃后我的堆栈也向我显示：**OAMutableURL 请求 URL 编码字符串**。什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T17:04:17.657

从给定的有限信息来看，似乎没有用户经过身份验证。您可以使用不同的 _engine 实例对用户进行身份验证，这会导致崩溃。

如果使用特殊字符，在您的 URL 中使用此代码后，您的 URL 可能未在此处用字符串编码，下面的某些字符编码代码定义在下面的链接中...

[http://www.w3schools.com/tags/ref_urlencode.asp](http://www.w3schools.com/tags/ref_urlencode.asp)

并且对于编码 NSURL 只需使用下面的代码...

```
NSString* escapedUrlString =
   [unescapedString stringByAddingPercentEscapesUsingEncoding:
                        NSASCIIStringEncoding]; 
```

希望，这对你有帮助...... :)

# php - PHP先3然后再中断并继续？

> ID：10881178
> 
> 赞同：0
> 
> 时间：2012-06-04T12:20:08.190
> 
> 标签：php, arrays, loops

我正在尝试使用数组和循环对所有内容进行排序
让我们说这是一个数组，

```
$arr = array('One','Two','Three','Four','Five','Six'); 
```

我想选择其中的前三个用作
$arr[0]、$arr[1] 和 $arr[2]
这最终得到一个、两个、三个
我想在下一个 3 中使用相同的 ..
一些东西打破它并再次使用相同的 0 1 2 索引以返回第二个 3
这是一个解释更多的例子，

```
$arr = array('One','Two','Three','Four','Five','Six');

  echo $arr[0].$arr[1].$arr[2]; // OneTwoThree
        break; // < ??
  echo $arr[0].$arr[1].$arr[2]; // FourFiveSix 
```

另外，我想将它与 foreach 循环一起使用

```
$arr = array('One','Two','Three','Four','Five','Six');
  foreach($arr as $num){
  echo $num; // OneTwoThree
   if($something == 3){ // < ??
        break; // < ??
    }
  echo $num;   // FourFiveSix
   } 
```

我想要做的是使用数组的每三个数组稍后使用它们

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T12:23:15.433

使用[array_chunk](http://php.net/array_chunk)并循环结果：

```
foreach(array_chunk($arr, 3) as $a) {
  echo $a[0], $a[1], $a[2];
} 
```

这里添加了换行符：

```
foreach(array_chunk($arr, 3) as $a) {
  echo $a[0], $a[1], $a[2], "<br>\n";
} 
```

**注意：**最后一个元素可能少于三个元素！一个可能的解决方法是使用[implode](http://php.net/implode)连接元素：

```
foreach(array_chunk($arr, 3) as $a) {
  echo implode('', $a), "<br>\n";
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T12:26:54.960

编辑：`array_chunk()`更明智...清晨

```
<?php
$arr = array('One','Two','Three','Four','Five','Six');

for($i = 0, $i < count($arr); ++$i)
{
    if( ! ($i + 1) % 3)
    {
        continue;
    }

    echo $arr[$i - 2] . $arr[$i - 1] . $arr[$i]
} 
```

# xml - XPath 查找具有特定子节点的所有元素

> ID：10881179
> 
> 赞同：56
> 
> 时间：2012-06-04T12:20:12.067
> 
> 标签：xml, xpath

您能帮我找到下面示例中所有具有子元素 c 的元素 b 吗？

```
<a>
    <b name = "b1"></b>
    <b name = "b2"><c/></b>
    <b name = "b3"></b>
</a> 
```

xpath 查询必须返回 b2 元素

第二个问题是我想结合 2 个条件：我想获取具有 name = "b2" 并且具有元素 c 的元素 但是这种语法似乎不起作用： //b[@name='b2' and c]

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2012-06-04T12:42:24.497

**当 XML 文档的结构已知时，最好避免使用`//`XPath 伪操作符**，因为使用它会导致效率低下（遍历整个文档树）。

因此，我为提供的 XML 文档推荐了这个 XPath 表达式：

```
/*/b[c] 
```

这将选择`b`作为 XML 文档顶部元素的子元素并且具有名为 的子元素的任何元素`c`。

**更新**： OP 几分钟前问了第二个问题：

> 第二个问题是我想结合 2 个条件：我想获取具有 name = "b2" 并且具有元素 c 的元素但是这种语法似乎不起作用：`//b[@name='b2' and c]`

**提供的 XPath 表达式*确实*选择了想要的元素。**

**这是基于 XSLT 的验证**：

```
<xsl:stylesheet version="1.0"
 xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:template match="/*">
     <xsl:copy-of select="//b[@name='b2' and c]"/>
 </xsl:template>
</xsl:stylesheet> 
```

**当此转换应用于提供的 XML 文档时：**

```
<a>
    <b name = "b1"></b>
    <b name = "b2"><c/></b>
    <b name = "b3"></b>
</a> 
```

**计算 XPath 表达式并将正确选择的元素复制到输出：**

```
<b name="b2">
   <c/>
</b> 
```

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2012-06-04T12:30:02.047

它应该像这样简单

```
//b[c] 
```

即找到一个`b`有`c`孩子的地方。

# iphone - 从路径中获取 iOS 应用程序的名称

> ID：10881183
> 
> 赞同：0
> 
> 时间：2012-06-04T12:20:48.243
> 
> 标签：iphone, ios, jailbreak

我正在为越狱的 iOS 设备开发一个应用程序，它收集有关已安装应用程序的统计信息（理想情况下是有关 App Store 和 Cydia 应用程序的统计信息）。给定应用程序的路径，是否有一种简单可靠的方法来获取应用程序的名称（就像它出现在跳板中一样）？还是有更好的方法，根本不使用路径（即信息是否集中在某处）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T13:36:22.037

这是一个指向 StackOverflow 的链接，它显示了如何获取捆绑信息 plist 值（在本例中为版本）。 [我的 iphone 应用程序如何检测自己的版本号？](https://stackoverflow.com/questions/458632/how-can-my-iphone-app-detect-its-own-version-number)

我相信您正在寻找的属性是 CFBundleDisplayName。

这是您可以获得的苹果属性列表。 [http://developer.apple.com/library/mac/#documentation/CoreFoundation/Conceptual/CFBundles/BundleTypes/BundleTypes.html#//apple_ref/doc/uid/10000123i-CH101-SW1](http://developer.apple.com/library/mac/#documentation/CoreFoundation/Conceptual/CFBundles/BundleTypes/BundleTypes.html#//apple_ref/doc/uid/10000123i-CH101-SW1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:22:05.800

每个应用程序都有一个包含其名称和图标的信息列表。只需查看 .app 包的内部。

# matrix - 如何展平 - 忽略方向余弦矩阵中的轴？

> ID：10881184
> 
> 赞同：1
> 
> 时间：2012-06-04T12:20:59.640
> 
> 标签：matrix, rotation, orientation, gyroscope, rotational-matrices

为什么你好。我有一个 3D 模型，其沿其 3 轴的起始角度是已知的。使用此模式将这些角度转换为方向余弦矩阵（[信息可在此处找到](http://www.control.aau.dk/~jan/undervisning/MechanicsI/ST8/ST8-MM2/ST8-MM1-view1.pdf)）：

![DCM](../Images/8b3faf3560ed6d0985ba5c38a8d92313.png)

随着时间的推移获得新的角度值，对应于模型方向的更新。为了考虑到这些新值，我以这种方式更新 DCM：

```
newDCM = oldDCM * newanglesDCM 
```

**我想要什么以及如何做：**现在是棘手的部分。我实际上只想要旋转矩阵的 Y 分量。为了在我的模型上应用运动，我需要将它展平，这样运动矢量就不会在空中或在地面上。为此，我只需从旋转矩阵中拉回 3 个角度并创建一个角度为 [0 Y 0] 的新角度。

**我遇到的问题：**当对模型应用旋转时，DCM 会更新。当检测到运动时，我将运动向量 [0 Yvalue 0] 乘以已展平的 DCM（根据前面的解释）。当瞬时旋转在 X 和 Z 分量中具有空值或接近空值时，结果非常好。但是一旦模型处于 X 和 Z 具有显着值的情况下，模型运动的“方向”就会出错。如果我应用旋转使其返回“只有 Y”的情况，它会再次开始变好。

**可能出了什么问题：**要么我的方向余弦矩阵是错误的，要么我用来展平矩阵的技术完全是愚蠢的。

感谢您的帮助，如果您能帮我解决这个问题，我将不胜感激！格雷格。

**编辑：根据要求的示例**

我的模型有 3 轴 X、Y 和 Z。这定义了模型静止时的 XYZ 约定。在起点 t0，我知道角度 dAx、dAy 和 dAz，它们允许我将模型从其原始配置旋转到它在 t0 处的配置。如果这让您感到困扰，假设模型在 t0 时处于静止状态，这没关系。

我创建 DCM 就像在图像中解释的那样（如果它从静止开始，让它成为一个单位矩阵）。

不时地对模型​​应用旋转。这些旋转也由 dAx、dAy 和 dAz 组成。因此，我通过将旧矩阵乘以新生成的矩阵来更新旋转矩阵 (DCM)：newDCM = oldDCM * newanglesDCM。现在假设我希望模型在网格上从一个点移动到另一个点。例如，将网格想象成一条街道。无论模型是面向天空、侧面还是前面，我都希望运动是相同的：在路边，而不是在空中升起或潜入地面。如果我保持旋转矩阵原样，应用 [0 Y 0] 旋转将使它转到我不希望它去的地方。因此，我尝试通过展平 DCM 来找到我原来的旧 XZ 框架。然后我仍然有 Y 分量，所以我知道模型在街上的哪个位置移动。

想象一个角色，他的头是模特，走在外面。如果他看着建筑物的窗户并走路，他不会在空中走到窗户 - 他会走到建筑物的脚下。这正是我想做的：D

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T14:46:31.153

What you have to do is equate the elements two rotation matrices

```
E_1 = Rx(dθx)Ry(dθy)Rz(dθz) 
```

and

```
E_2 = Rx(dφx)Rz(dφz)Ry(dφy) 
```

in an element by element basis. Find two elemetns that contain only `sin(dφy)` and `cos(dφy)` and divide them to get `tan(dφy)=...` in terms of `dθx`, `dθy` and `dθz`.

I tried to do this with the DCM given but I cannot replicate the sequence of rotations to get what you have. My `E_1` above is similar but some signs are different. In my example that I did I got the following expressions

```
dφy=atan( tan(dθy)/cos(dθz) )
dφz=atan( (cos(dθy)*sin(dθz))/(cos(dθy)*cos(dθz)*cos(dφy)+sin(dθy)*sin(dφy)) )
dφx=atan( (cos(dθx)*sin(dθy)*sin(dθz)+sin(dθx)*cos(dθz))/(cos(dθx)*cos(dθz)- ... 
```

You have to work out your own relationships based on the sequences you use.

Note: that once `dφy` is known the above `E_1 = E_2` equality becomes

```
Rx(dφx)Rz(dφz) = Rx(dθx)Ry(dθy)Rz(dθz)Ry(-dφy) 
```

which is solved for `dφz` and then you have

```
Rx(dφx) = Rx(dθx)Ry(dθy)Rz(dθz)Ry(-dφy)Rz(-dφz) 
```

for `dφx`.

# php - 喜欢评论/图片/故事所需的权限

> ID：10881186
> 
> 赞同：2
> 
> 时间：2012-06-04T12:21:08.073
> 
> 标签：php, facebook, graph

我想做以下事情（如果可能的话）。

*   喜欢评论
*   像一张图片

我有的：

权限：

**发布流、用户喜欢、离线访问**

当我尝试喜欢一个故事时：

```
{
    "error": {
      "message": "(#200) Permissions error",
      "type": "OAuthException",
      "code": 200
   }
} 
```

我已经尝试使用我允许自己使用的另一个应用程序的令牌，并且它可以工作，但是从中获得正确的权限并不容易。

所以; 我**需要**哪些**权限**才能**点赞评论/img**？（如果可能，该权限的正确名称）

 ****谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T14:38:22.443

Double check your permissions & code. You only need the `publish_stream` permission:
[**Comments**](https://developers.facebook.com/docs/reference/api/Comment/#likes)

> You can like a `comment` by issuing an HTTP POST request to `COMMENT_ID/likes` with the `publish_stream` permission. No parameters necessary.

[**Status**](https://developers.facebook.com/docs/reference/api/status/#likes)

> You can write to the `STATUS_MESSAGE_ID/likes` connection to like the status message by issuing an HTTP POST request with the `publish_stream` permission. No parameters necessary.

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-04T13:03:30.757

AFAIK 你根本不能通过应用程序/图形 API 发布喜欢。****

# javascript - 使用 async/ajax 时保持不变的粘性页脚？

> ID：10881191
> 
> 赞同：2
> 
> 时间：2012-06-04T12:21:20.927
> 
> 标签：javascript, jquery, html, css

我需要有一个固定的页脚，所以如果页面只有几行，页脚将在底部，或者如果页面很大，那么页脚将在页面内容之后。

我在那里尝试过的所有示例都失败了，因为我需要使用 ajax (async) 填充 som 元素，然后页脚就会被弄乱。

任何固定的页脚都可以坚如磐石？

：） 谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:34:41.583

我会和船长一起去，但是`min-height:`对于容器并在那里放百分比呢？
通常它会解决这两个问题——内容很少和内容很多的时候。

您还可以发布一些代码吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T17:27:56.247

我不确定我是否完全理解您在寻找什么，但是这样的事情呢？

```
#footer {
   position:fixed;
   left:0px;
   bottom:0px;
   height:30px;
   width:100%;
   background:#999;
} 
```

## [演示](http://jsfiddle.net/VZM8j)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-04T12:38:41.683

这非常有效，只需按照[此处](http://www.cssstickyfooter.com/using-sticky-footer-code.html)提供的说明进行操作。

# c++ - 在 c++ 中使用带有 xerces 库的 sax 从 xml 中删除特定元素

> ID：10881196
> 
> 赞同：1
> 
> 时间：2012-06-04T12:21:37.877
> 
> 标签：c++, xml, sax, xerces

我的问题是我想使用 sax 和 C++ 语言中的 Xerces API 删除 lastfiles 及其所有子元素？

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE config>
<config datecreated="20011210">
  <user>
    John Smith
  </user>
  <login>jsmith</login>
  <password>topsecret</password>
  <lastfiles>
    <lastfile timestamp="20011210T1002">accounts.txt</lastfile>
    <lastfile timestamp="20011190T1132">/home/jsmith/docs/letter.doc</lastfile>
  </lastfiles>
</config> 
```

# android - mGWT 状态管理

> ID：10881198
> 
> 赞同：0
> 
> 时间：2012-06-04T12:21:55.397
> 
> 标签：android, gwt

在模拟器中测试mgwt应用程序时，如果我们突然停止并回到模拟器中的主页并再次启动应用程序，它将直接加载我们工作的最后一个页面。为什么它没有将其重置到第一页？在模块功能的 GWT 中，我总是加载默认位置。我需要明确去删除数据，然后启动应用程序才能继续。如何以编程方式克服这个问题？我们有什么参考吗？我没有使用 gwt-phonegap，它只是带有 GWTp 框架应用程序的 mgwt。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-21T15:46:54.417

我认为您的应用程序没有停止。我认为它正在后台运行。如果你把它放回前面，它会再次显示相同的屏幕。

# jquery - 动态生成表单并通过jquery提交

> ID：10881199
> 
> 赞同：1
> 
> 时间：2012-06-04T12:22:02.293
> 
> 标签：jquery

我正在搜索谷歌只是为了有办法通过 jquery 生成和提交表单，我找到了代码片段，但我不清楚。

```
function submitValues(url, params) {
var form = [ '<form method="POST" action="', url, '">' ];

for(var key in params) 
    form.push('<input type="hidden" name="', key, '" value="', params[key], '"/>');

form.push('</form>');

jQuery(form.join('')).appendTo('body')[0].submit();
} 
```

为什么 [] 这第三个括号像

```
var form = [ '<form method="POST" action="', url, '">' ]; 
```

**jQuery(form.join('')).appendTo('body')[0].submit();**行的含义是什么？ 为什么**使用 form.join('')**以及为什么要像**appendTo('body')[0]**这样写为什么**[0]**

请详细指导我了解上述粗体语法。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:36:59.717

按问题顺序：

1.  括号`[]`定义一个数组。因此，在第二行中，它定义了包含三个项目的数组：

    ```
    var form = [ "first item", "second item", "third item", ... etc ]; 
    ```

2.  `form.join('')`将数组的所有元素`form`与空字符串的分隔符连接起来，因此`form`成为一个字符串，其中包含来自数组的连接子字符串。

3.  `jQuery(form.join(''))`将您的字符串转换为 DOM 元素`appendTo("body")`并将这些元素 ( `<form><input> ... </form>`) 添加到`body`.

4.  使用`[0]`你得到你的`form`, 但不是作为 jQuery 对象而是作为 DOM 元素。本机`form`元素具有使用`submit`调用的方法`.submit()`。

对于原生 JavaScript 方法和函数的任何疑问，您可以阅读[**MDN**](https://developer.mozilla.org/en/JavaScript/Guide)。jQuery 文档在[**api.jquery.com**](http://api.jquery.com/)上提供。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T12:38:14.047

1.  [] 括号表示 form 是一个数组。

2.  [Array.join](http://w3schools.com/jsref/jsref_join.asp)方法将数组中的所有字符串连接成一个大字符串。在您的代码中，这将成为表单 html 标记。

3.  [appendTo('body')](http://api.jquery.com/appendTo/)方法，将 form-html 附加到文档的正文中，并返回 jquery 选择器。

4.  因为 jQuery 选择器可以指向多个元素（它是一个数组），所以您需要指定它是您要提交的第一个元素。因此[0]。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T12:43:59.957

以下是您的一些疑问的解释。

1.  通过将像它这样的方形元素包装`[ '<form method="POST" action="', url, '">' ]`成一个数组。

2.  `form.join('')`这将加入使用该`.push()`方法创建的表单数组。

3.  当我们为 jQuery 选择器使用 [0] 时，它成为 jQuery 对象的一个​​节点。在哪里我们可以使用正常的javascript操作。

4.  `.appendTo('body')`这会将内容附加到 body 元素。

# ruby-on-rails - rails - 使用迭代打印文本

> ID：10881206
> 
> 赞同：0
> 
> 时间：2012-06-04T12:22:34.147
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我正在尝试在我的页面中打印一个不可更新的值。到目前为止它显示

```
<%= f.fields_for :ingredients do |builder| %>
 <fieldset>
    <%= builder.text_area :name %>
 </fieldset>
<% end %> 
```

哪个有效，我需要它来显示不可更新的纯文本。所以我试着做

选项1

```
<%= f.fields_for :ingredients do |builder| %>
 <fieldset>
    <%= builder.label :name, "Ingredients" %>
 </fieldset>
<% end %> 
```

但没有成功。这确实有效：选项2

```
<% @recipe.ingredients.each do |ingredient| %>
   <td><%= ingredient.name %></td>
<% end %> 
```

选项 1 和 2 之间的主要区别是什么？我更喜欢将选项 1 与`<li>`标签一起使用。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:03:47.720

标签用于为字段创建标签，而不是显示其值。选项 2 正是您将如何显示名称字段的内容。选项 1 格式的样式是显示文字“成分”而不是“名称”。通常，后面会跟着`<%= builder.text_area :name %>`.

另一个可能的不一致之处：@recipe.ingredients 是一个数组，因此没有名为 ingredients.name 的字段。作为测试，尝试成分[0].name。

因此，在选项 1 中，尝试：

```
<% ingredient = @recipe.ingredients[0] %>
<%= f.fields_for :ingredient do |builder| %>
 <fieldset>
    <%= builder.label :name, "Ingredients" %>
 </fieldset>
<% end %> 
```

如果打印标签“成分”，那么您可以打印成分列表：

```
<td>Ingredients:</td>
<% @recipe.ingredients.each do |ingredient| %>
   <td><%= ingredient.name %></td>
<% end %> 
```

# html - 仅在缺少位置时隐藏表格列

> ID：10881208
> 
> 赞同：0
> 
> 时间：2012-06-04T12:22:34.570
> 
> 标签：html, css

我有一个包含 2 列的 HTML 表格。我想把它们都显示完整，第二个右对齐。现在我`width: 100%;`在第一列中使用它。但是现在第二列总是被单词包裹着。

我希望第二列位于右侧，但仅在没有足够空间显示两列已满时才进行包装。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:43:29.697

如果您在这种情况下真的在考虑移动或较小的屏幕，您应该考虑使用媒体查询。在这种情况下，当屏幕低于某个宽度时，您可以为右列指定更宽的宽度。

[http://www.css3.info/preview/media-queries/](http://www.css3.info/preview/media-queries/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:34:08.427

将以下 CSS 样式添加到右侧的单元格中：

```
td {white-space: nowrap;} 
```

这将防止单元格内的文本换行，如您的示例所示。

# windows - regsvr32 DllRegisterServer 失败

> ID：10881211
> 
> 赞同：0
> 
> 时间：2012-06-04T12:22:45.930
> 
> 标签：windows, activex, registration

我的 ActiveX 控件之一无法注册。组件编译，但是当我尝试运行时

```
regsvr32 C:\...\component.ocx 
```

我得到一个错误窗口：

> RegSvr32“C:...\component.ocx 中的 DllRegisterServer 失败。返回代码为：0xe0434352”。

操作系统是 WinXP，我以管理员身份登录。

我尝试使用 Visual Studio 10 调试器运行该组件，但没有到达断点。

Dependency walker 显示 IESHIMS.DLL、WER.DLL 和 MPR.DLL 的警告。

任何想法，这里发生了什么？

谢谢，米查

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T13:59:51.243

原来设置 /GF 解决了这个问题（Project->Properties->C/C++->Code Generation->Enable String Pooling）。

我怀疑该组件使用了太多符号（> 64k）。这就是我从运行 Regasm.exe 得到的错误消息中发现的（参见上面的评论）。使用似乎已解决的字符串池。

我不必更改为使用 Regasm.exe，我仍然使用 regsvr32.exe 注册组件。

# java - 将方法移动到另一个类的 Java 效率

> ID：10881212
> 
> 赞同：6
> 
> 时间：2012-06-04T12:23:00.920
> 
> 标签：java

我目前正在处理一个相当庞大的项目，其中包含多个超过 20,000 行的类。这是因为将所有生成的 UI 摆动代码与所有功能代码混合在一起是一个聪明的主意。我想知道是否会在内存或运行时间方面产生任何额外成本，将大多数非 UI 相关功能移动到单独的类中。举个例子，这与我正在构建的内容类似。

```
public class Class1{
    private Class1Util c1u;
    List<String> infoItems;
    ...
    public void Class1(){
        c1u = new Class1Util(this);
    }
    public void btnAction(ActionListener al){
        ...
        c1u.loadInfoFromDatabase();
    }
}

public class Class1Util{
    private Class1 c;

    public void Class1Util(Class1 c){
        this.c = c;
    }
    public void loadInfoFromDatabase(){
        c.infoItems.add("blah");
    }
} 
```

最后，我还想移动一些像 infoItems 这样的字段，这将导致反向关系，Class1 访问 c1u.infoItems。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-04T12:25:29.890

不，关注点分离是一种很好的面向对象设计实践。它不会在性能方面花费您任何有意义的成本，并且会在维护、可扩展性等方面为您带来很多好处。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T12:27:40.113

您可能会因为额外的取消引用级别而对性能造成很小的影响，但它在 UI 代码中并不明显，并且您将获得如此多的额外清晰度作为回报，您不会后悔。

最终，您可能希望将状态保持外部化到第三类，然后从您的手写代码和生成的代码中使用该状态，或者使用[代沟模式](http://www.research.ibm.com/designpatterns/pubs/gg.html)来管理由于需要与生成的代码集成而引入的复杂性。

# mysql - magento mysql主/从复制-未使用从属

> ID：10881213
> 
> 赞同：1
> 
> 时间：2012-06-04T12:23:01.733
> 
> 标签：mysql, magento, replication

我设置了一个 MySQL 从站并将必要的代码添加到 /app/etc/local.xml：

```
<default_read>
<connection>
<host><![CDATA[host]]></host>
<username><![CDATA[useronslave]]></username>
<password><![CDATA[secret]]></password>
<dbname><![CDATA[dbname]]></dbname>
<active>1</active>
</connection>
</default_read> 
```

问题是，似乎从机从未用于请求（使用 mysql 监控）

拍

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T14:05:20.867

我想你可以试试这个设置

您必须使用从数据库进行读取（选择查询）操作和主数据库进行写入（插入和更新查询）。在magento的以下配置文件中进行更改：app/etc/local.xml

```
<default_setup>                
    <connection>               
        <host><![CDATA[Master-host]]></host>
        <username><![CDATA[user]]></username>
        <password><![CDATA[pass]]></password>
        <dbname><![CDATA[magentodb]]></dbname>
        <active>1</active>     
    </connection>              
</default_setup>               
<default_read>                 
    <connection>               
        <use/>                 
        <host><![CDATA[Slave-host]]></host>
        <username><![CDATA[user]]></username>
        <password><![CDATA[pass]]></password>
        <dbname><![CDATA[magento]]></dbname>
        <type>pdo_mysql</type> 
        <model>mysql4</model>  
        <initStatements>SET NAMES utf8</initStatements>
        <active>1</active>     
    </connection>              
</default_read> 
```

在此设置之前，您必须配置您的 mysql 主服务器和从服务器。主服务器配置编辑 /etc/my.cnf

在文件中添加以下内容：

```
[mysqld]                       
server-id       = 1            
log_bin         = /var/log/mysql/mysql-bin.log
expire_logs_days    = 10       
max_binlog_size     = 100M     
binlog_do_db        = magento_demo
binlog_ignore_db    = mysql    
then restart your mysql server.
Configuration for slave server 
edit /etc/my.cnf 
```

在文件中添加以下内容：

```
[mysqld]                       
server-id=2                    
log-bin=mysql-bin              
master-host=192.168.1.2        
master-user=username           
master-password=111111         
master-port=3306               
replicate-do-db=magento_demo   
replicate-ignore-db=mysql      
master-connect-retry=60 
```

然后重启你的mysql服务器。让我知道杰罗。

# asp.net-mvc-3 - 在 MVC 3 中访问 Web api 控制器中的 POST 参数时出现问题

> ID：10881218
> 
> 赞同：0
> 
> 时间：2012-06-04T12:23:39.110
> 
> 标签：asp.net-mvc-3

我正在使用以下 url 访问控制器：

```
"http://localhost/api/controller/1/2" 
```

在控制器中，我有以下方法：

```
[HttpPost]
public void PostMethod2(string a,string b)

[HttpPost]    
public void PostMethod() 
```

控制器实际上是在命中，`PostMethod()`但我不知道如何读取参数值 1 和 2。

还有其他更好的调用方式吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:31:27.710

您可以在 Global.asax.cs 中为此方法添加自定义路由

```
routes.MapRoute("PostMethod2",
                "api/mycontroller/{a}/{b}",
                new { contorller = "mycontroller", action="PostMethod2"}
            ); 
```

或者，如果您使用的是 ASP.NET MVC Web Api，您可以将您的路由挂接到 App_Start 文件夹中的 RouteConfig.cs 中，如下所示：

```
routes.MapHttpRoute(
                name: "PostMethod2",
                routeTemplate: "api/mycontroller/{a}/{b}",
            ); 
```

# c# - 从 C# 源代码发出 IL OpCodes

> ID：10881225
> 
> 赞同：2
> 
> 时间：2012-06-04T12:24:16.073
> 
> 标签：c#, .net, il, dynamic-method

如何解析 C# 源代码以生成可在 DynamicMethod 中使用的 IL 操作码？

我想动态执行代码而不生成不必要的程序集。像这样的东西：

```
var body = "return \"sample\";";
var dm = new DynamicMethod("method_" + Guid.NewGuid().ToString("N"), typeof(string), null);
var parser = new SomeKindOfCSharpParser();
parser.Emit(body, m.GetILGenerator()); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:33:05.960

没有办法实现它。

你有几种方法来实现它：

1.  您可以使用 C# 编译器，但它会将外部 cs 文件编译成单独的程序集。
2.  您可以使用 CodeDOM 构建和编译代码树
3.  您可以构建表达式树并编译它
4.  您可以一个接一个地生成代码 IL 指令

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T12:36:01.770

[罗斯林](http://blogs.msdn.com/b/visualstudio/archive/2011/10/19/introducing-the-microsoft-roslyn-ctp.aspx)应该和这个差不多……

# android - 使用向上按钮时不会调用 onRestoreInstanceState

> ID：10881227
> 
> 赞同：1
> 
> 时间：2012-06-04T12:24:18.657
> 
> 标签：android, android-activity

我对 Android 开发和 StackOverflow 都还很陌生，我希望我没有问一个以前被问过但我找不到任何东西的愚蠢问题。

我正在制作一个应用程序，该应用程序在连接到蓝牙设备时启动（最初未绑定）服务，并且只有在我告诉它断开连接或断开连接时才应该停止。服务启动后，主要活动绑定到它，并且在调用 onDestroy() 时将解除绑定。当调用 onStart 并且 mIsBound 为真时，它也会重新绑定。mIsBound 布尔值与 onRestoreInstanceState() 一起存储。

*mIsConnected 可能是一个比 mIsBound 更好的名字，但你明白了

当我正常重新打开应用程序时，从多任务菜单或通过服务图标 mIsBound 仍然设置为正确的值。屏幕方向不是问题，当打开辅助活动并通过后退按钮返回主要活动时，一切仍然顺利。但是，当我在辅助活动中使用向上按钮时，mIsBound 值会丢失，并且不会调用 onRestoreInstanceState()。

我需要这个来确定服务是否已经在运行，因为如果它不是并且我调用 bindService() 它将在不需要它的情况下启动，并且当它自行停止但仍被绑定时我会得到错误。

服务：

```
public class BluetoothService extends Service {

@Override
public IBinder onBind(Intent intent) {
    return mBinder;

}

public class LocalBinder extends Binder {
    BluetoothService getService() {
        return BluetoothService.this;
    }
}

private void connectionLost() {
Log.e(TAG, "connection lost");
disconnect();
}

public synchronized void disconnect() {
    Log.d(TAG, "disconnect");
    stopSelf();
}

private void showNotification(String s) {

    // Set the icon, scrolling text and timestamp
    Notification notification = new Notification(R.drawable.ic_launcher, s,
            System.currentTimeMillis());

    // The PendingIntent to launch our activity if the user selects this notification
    PendingIntent contentIntent = PendingIntent.getActivity(this, 0,
            new Intent(this, LedAndIrControlActivity.class), 0);

    // Set the info for the views that show in the notification panel.
    notification.setLatestEventInfo(this, s, s, contentIntent);

    // Send the notification.
    startForeground(NOTIFICATION, notification);
} 
```

主要活动：

```
public class MainActivity extends Activity {   

private static boolean mIsBound = false;
private BluetoothService Com;

@Override
public void onStart() {
    super.onStart();
    if(mIsBound){
        doBindService();
 }

@Override
public void onSaveInstanceState(Bundle outState) {
    super.onSaveInstanceState(outState);
    Log.i(TAG, "onSaveInstanceState");
    outState.putBoolean("mIsBound", mIsBound);
}

public void onRestoreInstanceState(Bundle savedInstanceState) {
    super.onRestoreInstanceState(savedInstanceState);          
    Log.i(TAG, "onRestoreInstanceState");
    mIsBound = savedInstanceState.getBoolean("mIsBound");
    if(mIsBound){
        doBindService();
    }
}

protected void onDestroy() {
    super.onDestroy();
    Log.i(TAG, "onDestroy");
    doUnbindService();
}

public boolean onOptionsItemSelected(MenuItem item) {
    Intent serverIntent = null;
    switch (item.getItemId()) {
    case android.R.id.home:
        return true;
    case R.id.item1:
         // Launch the DeviceListActivity to see devices and do scan
         serverIntent = new Intent(this, DeviceListActivity.class);
         startActivityForResult(serverIntent, REQUEST_CONNECT_DEVICE);
         startService(new Intent(this, BluetoothService.class));
         doBindService();
         return true;
     case R.id.item2:
         // Disconnect device
        Com.disconnect();
        doUnbindService();
         return true;
     case R.id.item3:
          serverIntent = new Intent(this, SecondaryActivity.class);
          //serverIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
          startActivity(serverIntent);
        return true;    
    default:
        return super.onOptionsItemSelected(item);
     }      
 } 

 void doBindService() {
     Log.d(TAG, "doBindService");
     // Establish a connection with the service.  We use an explicit
     // class name because we want a specific service implementation that
     // we know will be running in our own process (and thus won't be
     // supporting component replacement by other applications).
     bindService(new Intent(getBaseContext(), //Binding.this
             BluetoothService.class), mConnection, Context.BIND_AUTO_CREATE);
     mIsBound = true;
 }

 void doUnbindService() {
     if (mIsBound) {
         Log.d(TAG, "doUnbindService");
         // Detach our existing connection.
         unbindService(mConnection);
         mIsBound = false;
     }
     Com = null;
 }

 private ServiceConnection mConnection = new ServiceConnection() {

     public void onServiceConnected(ComponentName className, IBinder service) {
         // This is called when the connection with the service has been
         // established, giving us the service object we can use to
         // interact with the service.  Because we have bound to a explicit
         // service that we know is running in our own process, we can
         // cast its IBinder to a concrete class and directly access it.
         Com = ((BluetoothService.LocalBinder)service).getService();
         invalidateOptionsMenu();
         Log.i(TAG, "Service connected");

         // Tell the user about this for our demo.
         Toast.makeText(getBaseContext(), "local_service_connected",//Binding.this
                 Toast.LENGTH_SHORT).show();
     }

     public void onServiceDisconnected(ComponentName className) {
         // This is called when the connection with the service has been
         // unexpectedly disconnected -- that is, its process crashed.
         // Because it is running in our same process, we should never
         // see this happen.
         Com = null;
         Toast.makeText(getBaseContext(), "local service_disconected",//Binding.this
                 Toast.LENGTH_SHORT).show();
     }
 }; 
```

次要活动：

```
public class SecondaryActivity extends Activity {      

@Override
public boolean onOptionsItemSelected(MenuItem item) {
    Intent serverIntent = null;
    switch (item.getItemId()) {
    case android.R.id.home:
        // app icon in action bar clicked; go home
        serverIntent = new Intent(this, MainActivity.class);
        serverIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
        startActivity(serverIntent);
        return true;
    default:
        return super.onOptionsItemSelected(item);
    }   
} 
```

我的问题是如何确保始终恢复 mIsBound 值？我发现使用 SharedPreferences 是一种选择，但这似乎不是正确的方法。

任何其他关于如何绑定到服务的建议，如果它已经在运行，也很感激！

谢谢！

更新：

我想到了另一种解决问题的方法，那就是简单地检查服务是否已经在运行，然后（重新）绑定（如果为真）。这里解释了这样做的方式： [如何检查服务是否在 Android 上运行？](https://stackoverflow.com/questions/600207/android-check-if-a-service-is-running)

我仍然不相信这是正确或最好的方法，但它现在可以。如果您对此发表评论，我们将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-28T15:55:51.597

我对您的帖子主题有同样的问题（*当使用向上按钮时 onRestoreInstanceState 未被调用*），尽管原因与您在正文中描述的原因不同。由于我还没有找到任何其他帖子来回答它，我将在这里发布我对这个特定问题的解决方案。

**问：使用向上按钮时 onRestoreInstanceState 没有被调用**

**答：**按下操作栏上的主页（向上导航）按钮确实与按下后退按钮的行为不同。前者不会调用`onRestoreInstanceState()`父 Activity 的 ，就像按下后退按钮一样。

如果您想完成与后退按钮相同的行为，您可以通过覆盖`onNavigateUp()`子活动中的方法并从中调用`onBackPressed()`来实现。

在子活动中：

```
@Override
public boolean onNavigateUp() {
    onBackPressed();
    return true;
} 
```

我不确定返回值，`true`似乎工作正常并满足文档：*“如果向上导航成功完成并且此活动完成，则为 true，否则为 false”*。

# android - 安卓画图。2 帆布？

> ID：10881228
> 
> 赞同：0
> 
> 时间：2012-06-04T12:24:22.200
> 
> 标签：android, paint, android-canvas

我让我的用户在上面绘制几何图形。所以我存储了每个几何图形（即线、三角形、四边形等）所需的所有数据（即坐标）。现在，我在它上面实现了一个油漆/画笔，我不关心输入的所有点。我的问题是我需要调用 canvas.drawColor(Color.WHITE); 每次用户修改几何图形时，也会清除现在已经消失且我无法访问的油漆。

有什么方法可以将两者实际分离到两个画布中并稍后将其组合？我的意思是，颜料直接在一个画布上绘制，而几何图形在另一个画布上并结合起来。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T12:49:45.267

您可以将视图的背景色设置为白色。

```
mView.setBackgroundColor(Color.WHITE); 
```

这样你就不需要使用

```
canvas.drawColor(Color.WHITE); 
```

查看 Android SDK 中包含的 API 演示中的 TouchPaint.java，了解如何做您想做的事情的示例。

# ruby-on-rails-3 - git://github.com/ryanb/nested_form.git （在主人）没有签出。请运行 `bundle install` (Bundler::GitError)

> ID：10881232
> 
> 赞同：2
> 
> 时间：2012-06-04T12:24:34.483
> 
> 标签：ruby-on-rails-3, apache, deployment, nested-forms, production

我已经将我的应用程序部署在带有乘客和 apache 的 linux 服务器上，我已经成功完成捆绑安装运行`git://github.com/ryanb/nested_form.git (at master) is not checked out. Please run bundle install (Bundler::GitError)`，但在我尝试运行我的应用程序时仍然出现 () 错误

仅供参考，我正在使用 rails 3.2.3 和 ruby​​ 1.9.3

这在我的开发机器上运行良好

任何的想法 ？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T17:19:43.807

我目前已经通过在下面运行解决了这个问题

`bundle pack`
`bundle install --path vendor/cache`

这解决了我的问题，但它将整个宝石存储在供应商目录中

但是，如果有人有更好的解决方案，请告诉我

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-10T21:43:17.593

我遇到了同样的问题，我总是将我的 gem 安装为系统范围的 gem（包括来自 github 的那些）。

```
$ sudo bundle install 
```

当我运行rails时，我得到了同样的错误：

```
$ rails s
http://github.com/Sija/garb.git (at master) is not checked out. Please run `bundle install` 
```

所以当我跑的时候：

```
$ bundle install 
```

这会在本地安装来自 github 的 gem，但否则会使用所有其他系统范围的 gem。

然后，当我再次运行 rails 时，它起作用了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T13:37:40.833

您是否以 root 身份运行 bundle install ？如果是，请尝试在不使用“sudo”的情况下运行 bundle install，无论如何这似乎是一个权限问题（正如 Google 建议的那样 [google => (at master) is not check out. Please run bundle install (Bundler::GitError)]) [1](http://www.ruby-forum.com/topic/213962)

# php - PHP：如何解码 eval()？

> ID：10881236
> 
> 赞同：0
> 
> 时间：2012-06-04T12:25:01.493
> 
> 标签：php, wordpress, eval, decode, spam

我今天才注意到我的 wordpress 博客中有很多垃圾邮件链接。我刚刚找到一个文件，其中包含

```
<?php eval (chr(101).chr(114)... 
```

它的字符串非常长。有人可以告诉我如何解码它以查看它的作用吗？这样我就可以尝试删除垃圾邮件链接？谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-04T12:27:38.677

只需替换`eval`并`echo`查看生成的输出

```
<?php echo (chr(101).chr(114)... 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-04T12:30:08.787

如果您通过浏览器执行它，最好使用 htmlspecialchars，而不是执行 (eval)：

```
<?php echo htmlspecialchars(chr(101)... 
```

尽管您可能看不到任何可以理解的内容，因为它可能以多种方式编码。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-04T12:27:44.473

只需替换`eval`为`echo`：

```
<?php echo (chr(101).chr(114)... 
```

除此之外，您很可能需要重新安装您网站空间上的所有内容，因为您显然已被黑客入侵。确保您使用最新版本的 Wordpress 和您正在运行的所有其他软件，以防止再次发生这种情况。

# jquery - jquery - 向列表添加值 - 在客户端呈现

> ID：10881240
> 
> 赞同：-2
> 
> 时间：2012-06-04T12:25:20.917
> 
> 标签：jquery, ruby-on-rails, ruby-on-rails-3

使用rails，我创建了一个显示列表和一个带有“添加”按钮/链接的文本字段。我希望能够将在文本字段中输入的值添加到列表中 - 在客户端。
我该怎么做？

或者如果我你可以引导我到一个链接以供进一步阅读

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:32:44.377

你可以使用`jQuery appendTo` 你可以写这样的东西。[http://api.jquery.com/appendTo/](http://api.jquery.com/appendTo/)

```
val = $('#textbox').val();
$('<li>'+val+'</li>').appendTo('#your_ul_list'); 
```

你可以玩这个。

# openjpa - org.apache.openjpa.persistence.PersistenceException：无效的流标头

> ID：10881241
> 
> 赞同：1
> 
> 时间：2012-06-04T12:25:25.363
> 
> 标签：openjpa

嗨，我正在使用 OpenJPA 2.2.0 版。我有两个项目，其中一个我有中间层和数据层代码的代码。从这个项目中，我创建了一个 jar 文件，并将其添加到 Web 项目中。在中间层项目中，我在创建 jar 之前对代码进行了构建时间增强。

当我将 jar 添加到我的 Web 应用程序并执行它时，我得到了

```
<openjpa-2.2.0-r422266:1244990 nonfatal general error> org.apache.openjpa.persistence.PersistenceException: invalid stream header: 31303031
FailedObject: SELECT * FROM lbs.company_user comUs WHERE comUs.user_id = ? [java.lang.String]
at org.apache.openjpa.util.Serialization.deserialize(Serialization.java:88)
at org.apache.openjpa.jdbc.sql.DBDictionary.getBlobObject(DBDictionary.java:651)
at org.apache.openjpa.jdbc.sql.MySQLDictionary.getBlobObject(MySQLDictionary.java:346)
at org.apache.openjpa.jdbc.sql.ResultSetResult.getObjectInternal(ResultSetResult.java:402)
at org.apache.openjpa.jdbc.sql.AbstractResult.getObject(AbstractResult.java:696)
at org.apache.openjpa.jdbc.meta.strats.HandlerStrategies.loadDataStore(HandlerStrategies.java:222)
at org.apache.openjpa.jdbc.meta.strats.HandlerFieldStrategy.load(HandlerFieldStrategy.java:187)
at org.apache.openjpa.jdbc.meta.FieldMapping.load(FieldMapping.java:928)
at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:1094)
at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:1038)
at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initializeState(JDBCStoreManager.java:409)
at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initialize(JDBCStoreManager.java:304)
at org.apache.openjpa.kernel.DelegatingStoreManager.initialize(DelegatingStoreManager.java:112)
at org.apache.openjpa.kernel.ROPStoreManager.initialize(ROPStoreManager.java:57)
at org.apache.openjpa.kernel.BrokerImpl.initialize(BrokerImpl.java:1036)
at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:994)
at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:916)
at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:1012)
at org.apache.openjpa.jdbc.kernel.GenericResultObjectProvider.getResultObject(GenericResultObjectProvider.java:93)
at org.apache.openjpa.lib.rop.EagerResultList.<init>(EagerResultList.java:36)
at org.apache.openjpa.kernel.QueryImpl.toResult(QueryImpl.java:1251)
at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:1007)
at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:863)
at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:794)
at org.apache.openjpa.kernel.DelegatingQuery.execute(DelegatingQuery.java:542)
at org.apache.openjpa.persistence.QueryImpl.execute(QueryImpl.java:286)
at org.apache.openjpa.persistence.QueryImpl.getResultList(QueryImpl.java:302)
at org.apache.openjpa.persistence.QueryImpl.getSingleResult(QueryImpl.java:330)
at test.geofence.dal.impl.UserDAOImpl.findByKey(UserDAOImpl.java:58)
at test.geofence.servlets.Authentication.login(Authentication.java:199)
at test.geofence.servlets.Authentication.processRequest(Authentication.java:112)
at test.geofence.servlets.Authentication.doGet(Authentication.java:285)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)
at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)
at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)
at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)
at java.lang.Thread.run(Unknown Source)
Caused by: java.io.StreamCorruptedException: invalid stream header: 31303031
at java.io.ObjectInputStream.readStreamHeader(Unknown Source)
at java.io.ObjectInputStream.<init>(Unknown Source)
at org.apache.openjpa.util.Serialization$ClassResolvingObjectInputStream.<init>(Serialization.java:127)
at org.apache.openjpa.util.Serialization$PersistentObjectInputStream.<init>(Serialization.java:161)
at org.apache.openjpa.util.Serialization.deserialize(Serialization.java:86)
... 45 more 
```

有人能告诉我为什么我会收到这个错误和可能的解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T21:21:54.250

我认为，发生此错误是因为 ObjectInputStream 尝试打开已读取的流。

我建议您检查 MySQL 中的“max_packet_size”属性。（参见：[http](http://dev.mysql.com/doc/refman//5.5/en/packet-too-large.html) ://dev.mysql.com/doc/refman//5.5/en/packet-too-large.html ）数据包大小必须大于您从“company_user”中检索的最大 BLOB 字段桌子。

# android - Android page curl by harism ，从左到右卷曲页面

> ID：10881244
> 
> 赞同：1
> 
> 时间：2012-06-04T12:25:33.927
> 
> 标签：android, page-curl

我需要编辑 harism 的关于[页面卷曲](https://github.com/harism/android_page_curl)的项目，以使页面从左到右而不是从右到左。

我应该从哪里开始？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T04:14:25.300

你的要求和我一样，我已经从 harism 修改了[Curl Page](https://github.com/harism/android_page_curl)以适应它。感谢harism，我希望harism可以制作官方补丁。 [当查看模式设置为 SHOW_ONE_PAGE 时，从左到右卷曲页面：](http://dream-fighter.blogspot.com/2012/10/curl-page-harism-modify-left-to-right.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T12:39:14.177

你不能将当前索引设置为最后一个位置并滑回第一个位置吗？

```
mPageProvider= new PageProvider();
mCurlView = (CurlView) findViewById(R.id.curl);
mCurlView.setPageProvider(mPageProvider);
mCurlView.setSizeChangedObserver(new SizeChangedObserver());
mCurlView.setCurrentIndex(index);
mCurlView.setBackgroundColor(0xFF202830);

mCurlView.setCurrentIndex(mPageProvider.mBitmapIds.length); 
```

# django - 在 Django 外部调用函数时，Django 数据库配置不正确

> ID：10881249
> 
> 赞同：0
> 
> 时间：2012-06-04T12:26:10.903
> 
> 标签：django, django-settings, mailman

我正在尝试调用一个 python 函数，该函数从 GNU mailman 对我的 django 数据库进行一些查询。

当邮递员尝试传递消息时，它会导入我的 python 脚本。它稍后会在我的脚本中调用一个函数来修改消息对象。我得到的错误是：

```
ImproperlyConfigured: settings.DATABASES is improperly configured. Please supply the ENGINE value. Check settings documentation \
for more details. 
```

这是我在文件顶部配置设置的方式：

```
from django.core.management import setup_environ
from mysite import settings
setup_environ(settings) 
```

当我运行 python manage.py syncdb 时，它似乎可以很好地创建数据库。这是我的数据库配置：

```
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',  # Add 'postgresql_psycopg2', 'mysql', 'sqlite3' or 'oracle'.   
        'NAME': 'django_db',                      # Or path to database file if using sqlite3\.            
        'USER': 'root',                      # Not used with sqlite3\.                                         
        'PASSWORD': 'root',                  # Not used with sqlite3\.                                         
        'HOST': '',                      # Set to empty string for localhost. Not used with sqlite3\.          
        'PORT': '',                      # Set to empty string for default. Not used with sqlite3\.            
    }
} 
```

此外，我已经注释掉了我的整个函数，现在它看起来像：

```
def f():
    return 
```

所以我认为这与函数调用无关。

此外，我已经在 python 控制台中测试了 setup_environ 行，一切都按预期工作。

此外，当我重新启动 GNU mailman 时，我相信它必须加载所有脚本，这意味着它必须导入我的文件。这意味着当我重新启动 mailman 时，这些“setup_environ”行会运行。很好——我没有错误。

只有当 GNU mailman 尝试传递消息时，我才会遇到问题。

所以我很困惑。我*确实*将 mailman restart 命令作为 sudo 运行，并带有额外的 PYTHONPATH 和 DJANGO_SETTINGS_MODULE 环境变量，但是我已经手动将相关部分添加到我的 sys.path 和 os.environ dict，这也不能解决问题。此外，该错误并不表明它是路径问题或无法找到设置模块。

完整的堆栈跟踪是：

```
Jun 04 12:06:11 2012 (5249) Uncaught runner exception: settings.DATABASES is improperly configured. Please supply the ENGINE val\
ue. Check settings documentation for more details.
Jun 04 12:06:11 2012 (5249) Traceback (most recent call last):
  File "/var/lib/mailman/Mailman/Queue/Runner.py", line 100, in _oneloop
    msg, msgdata = self._switchboard.dequeue(filebase)
  File "/var/lib/mailman/Mailman/Queue/Switchboard.py", line 173, in dequeue
    redirect_list(msg, data)
  File "/home/ubuntu/djcode/mysite/mysite/apps/mailman/redirect.py", line 32, in redirect_list

  File "/home/ubuntu/djcode/mysite/mysite/apps/mailman/redirect.py", line 45, in _get_real_listname
    from mysite.apps.common.models import CustomUser
  File "/home/ubuntu/djcode/mysite/mysite/apps/common/custom_user_manager.py", line 54, in get
    email_object = Email.objects.get(email=kwargs['email'])
  File "/usr/local/lib/python2.6/dist-packages/django/db/models/manager.py", line 131, in get
    return self.get_query_set().get(*args, **kwargs)
  File "/usr/local/lib/python2.6/dist-packages/django/db/models/query.py", line 361, in get
    num = len(clone)
  File "/usr/local/lib/python2.6/dist-packages/django/db/models/query.py", line 85, in __len__
    self._result_cache = list(self.iterator())
  File "/usr/local/lib/python2.6/dist-packages/django/db/models/query.py", line 291, in iterator
    for row in compiler.results_iter():
  File "/usr/local/lib/python2.6/dist-packages/django/db/models/sql/compiler.py", line 763, in results_iter
    for rows in self.execute_sql(MULTI):
  File "/usr/local/lib/python2.6/dist-packages/django/db/models/sql/compiler.py", line 808, in execute_sql
    sql, params = self.as_sql()
  File "/usr/local/lib/python2.6/dist-packages/django/db/models/sql/compiler.py", line 71, in as_sql
    out_cols = self.get_columns(with_col_aliases)
  File "/usr/local/lib/python2.6/dist-packages/django/db/models/sql/compiler.py", line 218, in get_columns
    col_aliases)
  File "/usr/local/lib/python2.6/dist-packages/django/db/models/sql/compiler.py", line 306, in get_default_columns
    r = '%s.%s' % (qn(alias), qn2(field.column))
  File "/usr/local/lib/python2.6/dist-packages/django/db/models/sql/compiler.py", line 49, in quote_name_unless_alias
    r = self.connection.ops.quote_name(name)
  File "/usr/local/lib/python2.6/dist-packages/django/db/backends/dummy/base.py", line 15, in complain
    raise ImproperlyConfigured("settings.DATABASES is improperly configured. "
ImproperlyConfigured: settings.DATABASES is improperly configured. Please supply the ENGINE value. Check settings documentation \
for more details. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:49:49.683

似乎您没有在 setting.py 文件的 DATABASES 字典中指定任何内容。指定以下内容以成功连接到数据库（根据*docs*），

1)**引擎**——“django.db.backends.postgresql_psycopg2”、“django.db.backends.mysql”、“django.db.backends.sqlite3”或“django.db.backends.oracle”。其他后端也可用。

2) **NAME** -- 数据库的名称。如果您使用 SQLite，数据库将是您计算机上的一个文件；在这种情况下，NAME 应该是该文件的完整绝对路径，包括文件名。如果该文件不存在，则在您第一次同步数据库时会自动创建（见下文）。

3) **USER** -- 您的数据库用户名（不用于 SQLite）。

4) **PASSWORD** -- 您的数据库密码（不用于 SQLite）。

5) HOST——你的数据库所在的主机。如果您的数据库服务器位于同一台物理机器上（不用于 SQLite），则将此保留为空字符串。

(或) 点击[这里](https://docs.djangoproject.com/en/1.4/intro/tutorial01/#database-setup)

# c# - 用户控制按钮未从 Web 表单页面触发

> ID：10881250
> 
> 赞同：0
> 
> 时间：2012-06-04T12:26:25.067
> 
> 标签：c#, asp.net, .net, user-controls, updatepanel

我为访问者创建了一个用户控件来订阅时事通讯。

UserControl 带有更新面板并被添加到主母版页。

控件的问题是订阅按钮由于某种原因没有触发

用户控件标记：

```
<asp:UpdatePanel ID="UpdatePanel1" runat="server">
    <ContentTemplate>    
    <table cellpadding="0" cellspacing="0" class="PrayerTimeWrapper">
        <tr>
            <td align="center">
                <table cellpadding="0" cellspacing="0" class="PrayerTimeInnerWrapper" border="0">
                    <tr>
                        <td valign="top">
                            <div class="dHeading"><asp:Label ID="lblTitle" runat="server" Text="JOIN US"></asp:Label></div>
                            <div class="dName">
                                <asp:TextBox ID="txtName" CssClass="txtSubscribe" runat="server" Text="NAME" onfocus="if(this.value=='NAME')this.value='';" onblur="if(this.value=='')this.value='NAME';"></asp:TextBox>
                            </div>
                            <div class="dEmail">
                                <asp:TextBox ID="txtEmail" CssClass="txtSubscribe" runat="server" Text="YOUR EMAIL" onfocus="if(this.value=='YOUR EMAIL')this.value='';" onblur="if(this.value=='')this.value='YOUR EMAIL';"></asp:TextBox>
                                <asp:RequiredFieldValidator ID="rfvEmailSub"  runat="server" ErrorMessage="*" 
                                    ControlToValidate="txtEmail" ValidationGroup="SubEmail" ></asp:RequiredFieldValidator>
                                <asp:RegularExpressionValidator ID="revEmailSub" runat="server" 
                                    ErrorMessage="*" ControlToValidate="txtEmail" ValidationExpression="\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*" 
                                    ValidationGroup="SubEmail" ></asp:RegularExpressionValidator>
                            </div>
                            <div class="dSubmit">
                                <asp:Button ID="btnSubscribe" CssClass="btnSubscribe" runat="server" Text="Subscribe" onclick="btnSubscribe_Click" />
                            </div>   
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>    
    </ContentTemplate>
</asp:UpdatePanel> 
```

用户控制代码隐藏：

```
protected void btnSubscribe_Click(object sender, EventArgs e)
{
    Response.Write("Test");
} 
```

使用母版页的页面的标记：

```
<%@ Page Title="" Language="C#" MasterPageFile="~/Site.master" AutoEventWireup="true" CodeFile="PrayerTiming.aspx.cs" Inherits="PrayerTiming" %>
<%@ Register Src="~/en/UserControls/ucSubscribe.ascx" TagName="Subscribe"  TagPrefix="uc"%>

<asp:Content ID="Content1" ContentPlaceHolderID="HeadContent" Runat="Server">
</asp:Content>

<asp:Content ID="Content2" ContentPlaceHolderID="MainContent" Runat="Server">
    <asp:ScriptManager ID="ScriptManager1" runat="server" EnablePartialRendering="true" />    
    <div align="center" id="table"></div>    
    <uc:Subscribe id="ucSB" runat="server" UpdateMode="Conditional" />    
</asp:Content> 
```

我在某处做错了什么，但我不确定是什么。我会很感激这方面的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:09:18.110

使用`Resonse.Write`期间`asynch resquest`可以更改用于正确更新更新面板中的控件的数据。

所以不要`Response.Write("Test")`使用`Label.Text = "Test"`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T12:31:00.547

也为 btnSubscribe 按钮设置 ValidationGroup

```
<asp:Button ID="btnSubscribe" 
      CssClass="btnSubscribe" runat="server" 
      Text="Subscribe" 
      onclick="btnSubscribe_Click" 
       ValidationGroup="SubEmail" /> 
```

**更新**

从我在评论和其他答案中看到的情况来看，按钮没有将内容发布到服务器的唯一原因是它没有订阅该验证组。ValidationGroup 用于分隔页面中的某些视图（控件组），以便它们使用自己的验证。例如，忘记密码部分和登录部分将有两个不同的验证组，因此当单击某个按钮时，仅验证其部分。

*我做了这个更新，因为我真的认为接受的答案更像是一个调试建议而不是一个实际的答案。未来的 SO 读者可能会跳到使用此指南而不是看到问题。*

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T12:33:28.573

尝试使用... `UpdatePanel`_`form``runat="server"`

# sql - 带有 SQL 方言的 ebean in play 2 框架

> ID：10881255
> 
> 赞同：0
> 
> 时间：2012-06-04T12:26:48.130
> 
> 标签：sql, playframework-2.0, teradata, ebean, dialect

我正在尝试使用 ebean ORM 层在 Teradata 13.10 和 play 2 框架之间建立友谊。我的应用确实尝试查询数据库：

```
 select t0.workflow_id c0, t0.CHNL_TYPE_CD c1, t0.WORKFLOW_NAME c2, t0.INFO_SYSTEM_TYPE_CD c3, t0.FOLDER_NAME c4 from ETL_WORKFLOW t0 order by name limit 11 
```

**问题是...... Teradata 确实对LIMIT**一无所知是否有可能找到实现/覆盖某些东西并使底层 ORM 与 Teradata 一起工作？

UPD：似乎我必须对这些类做一些事情： [http](http://www.avaje.org/static/javadoc/pub/index.html) ://www.avaje.org/static/javadoc/pub/index.html 我正在寻找示例：1.为 ebean 设置正确的 SQL 方言或制作它在 SQL ANSI 模式下工作。2\. 重写 ebean 的类并编写自己的 LIMIT 功能实现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T13:15:00.893

Teradata 支持语句中的`TOP n`运算符和`SAMPLE`子句`SELECT`。作为 ANSI SQL 2008 标准的扩展，与您正在寻找`TOP n`的运算符最接近。`LIMIT n`

`TOP n`在您的语句中的所有其他条款`SELECT`都得到满足后处理。它是使用`QUALIFY ROW_NUMBER()`或`QUALIFY RANK()`窗口聚合来完成相同任务的功能替代，在最坏的情况下提供窗口聚合函数的等效性能。

`SAMPLE`通过允许您在单个结果中返回多个样本集，为您提供了一些额外的灵活性。它也可用于结果集中的简单随机样本。鉴于`SAMPLE`您可以使用的选项，最好参考 Teradata 的 SQL 数据操作语言手册了解所有详细信息。Teradata 手册可从[此处](http://www.info.teradata.com/Datawarehouse/eBrowseBy.cfm?page=TeradataDatabase)下载。只需选择您希望下载手册的 Teradata 版本即可。

**编辑：** 将[RawSQL](http://www.avaje.org/ebean/introquery_rawsql.html)功能与 Ebean 一起使用，您可以在 SQL 中显式使用`SAMPLE`or`TOP n`运算符，并且不允许 Ebean 自动添加表达式，例如 LIMIT OFFSET 子句。您是否尝试过这种方法？

# java - Java中的形状组合？

> ID：10881259
> 
> 赞同：1
> 
> 时间：2012-06-04T12:27:19.280
> 
> 标签：java, graphics, awt, shape, vector-graphics

java`Shape`接口契约和库例程是否允许将多个形状组合成一个对象扩展`Shape`接口？

例如，我可以定义`Flower`由几个椭圆组成花瓣和核心的类吗？

还是`Shape`假设只有一个连续的轮廓？如果是这样，那么Java中是否有任何用于保存多个形状的类，可能是一些用于矢量图形的类？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T02:24:04.480

这是我的尝试——使用固定在花形中心的旋转变换。

![在此处输入图像描述](../Images/9b0b39523b1491a2e437670d4a6841a7.png)

```
import java.awt.*;
import java.awt.geom.*;
import java.awt.image.BufferedImage;
import javax.swing.*;

public class DaisyDisplay {

    DaisyDisplay() {
        BufferedImage daisy = new BufferedImage(
                200,200,BufferedImage.TYPE_INT_RGB);
        Graphics2D g = daisy.createGraphics();
        g.setColor(Color.GREEN.darker());
        g.fillRect(0, 0, 200, 200);
        Daisy daisyPainter = new Daisy();
        daisyPainter.paint(g);
        g.dispose();

        JOptionPane.showMessageDialog(null, new JLabel(new ImageIcon(daisy)));
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                new DaisyDisplay();
            }
        });
    }
}

class Daisy {

    public void paint(Graphics2D g) {
        Area daisyArea = getDaisyShape();
        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, 
                RenderingHints.VALUE_ANTIALIAS_ON);

        paintDaisyPart(g,daisyArea);
        g.setTransform(AffineTransform.getRotateInstance(
                Math.PI*1/8,
                100,100));
        paintDaisyPart(g,daisyArea);
        g.setTransform(AffineTransform.getRotateInstance(
                Math.PI*3/8,
                100,100);
        paintDaisyPart(g,daisyArea);
        g.setTransform(AffineTransform.getRotateInstance(
                Math.PI*2/8,
                100,100));
        paintDaisyPart(g,daisyArea);
    }

    public void paintDaisyPart(Graphics2D g, Area daisyArea) {
        g.setClip(daisyArea);

        g.setColor(Color.YELLOW);
        g.fillRect(0, 0, 200, 200);

        g.setColor(Color.YELLOW.darker());
        g.setClip(null);
        g.setStroke(new BasicStroke(3));
        g.draw(daisyArea);
    }

    public Area getDaisyShape() {
        Ellipse2D.Double core = new Ellipse2D.Double(70,70,60,60);

        Area area = new Area(core);
        int size = 200;
        int pad = 10;
        int petalWidth = 50;
        int petalLength = 75;

        // left petal
        area.add(new Area(new Ellipse2D.Double(
                pad,(size-petalWidth)/2,petalLength,petalWidth)));
        // right petal
        area.add(new Area(new Ellipse2D.Double(
                (size-petalLength-pad),(size-petalWidth)/2,petalLength,petalWidth)));
        // top petal
        area.add(new Area(new Ellipse2D.Double(
                (size-petalWidth)/2,pad,petalWidth,petalLength)));
        // bottom petal
        area.add(new Area(new Ellipse2D.Double(
                (size-petalWidth)/2,(size-petalLength-pad),petalWidth,petalLength)));

        return area;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T12:30:49.340

要像您描述的那样在 Java 中操作形状，您需要使用[`Area`](http://docs.oracle.com/javase/6/docs/api/java/awt/geom/Area.html)具有这些操作的类。只需将 a 转换`Shape`为`Area`with `new Area(Shape)`。

# iphone - 关于 MpMoviePlayerViewController

> ID：10881268
> 
> 赞同：2
> 
> 时间：2012-06-04T12:27:57.287
> 
> 标签：iphone, ios, ipad, ios5, mpmovieplayercontroller

大家好 古德晚会

我已经查看了我必须播放视频的视图，视频正在完美播放，但很少有视频没有出现在视图上，当时我在控制台中收到警告，例如

警告：在正常情况下，_fillInQueueWithExtraSpace:ignoreExistingItems: 不应重新输入。

有人可以帮我解决这个问题吗

谢谢大家

我有 2 个 UIView 显示在同一个视图上，在一个视图中，当我开始绘制时，movieplayer 在 bottomProgressView 中启动，在 viewdidload 的 viewcontroller 中，代码是这样的

```
 - (void)viewDidLoad
{
    [super viewDidLoad];
NSString *url = [[NSBundle mainBundle] pathForResource:@"progres" ofType:@"mp4"];
    timeCompletedCnlr = [[MPMoviePlayerController alloc] initWithContentURL:[NSURL fileURLWithPath:url]] ;
    [timeCompletedCnlr.view setFrame:CGRectMake(0,468, 600, 50)]; 
    [timeCompletedCnlr setControlStyle:MPMovieControlStyleNone];
    [bottomProgressView addSubview:timeCompletedCnlr.view];
} 
```

当我触摸要绘制的视图时，将调用以下方法。

```
 - (void)removeGivenWord
{
    [bottomToolBar removeFromSuperview];
    [self.view addSubview:bottomProgressView];

    [timeCompletedCnlr play];
    [[NSNotificationCenter defaultCenter] addObserver:self 
                                             selector:@selector(helpVideoFinished:)
                                                 name:MPMoviePlayerPlaybackDidFinishNotification     
                                               object:timeCompletedCnlr];

    UIButton *doneBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    doneBtn.frame = CGRectMake(601, 940, 167, 43);
    [doneBtn setBackgroundImage:[UIImage imageNamed:@"done.png"] forState:UIControlStateNormal];
    [doneBtn addTarget:self action:@selector(doneButtonClicked) forControlEvents:UIControlEventTouchUpInside];
    [self.view addSubview:doneBtn]; 
```

}

放置视频的视图也包含完成按钮。

```
 - (void)doneButtonClicked {       
[timeCompletedCnlr stop];       
[[NSNotificationCenter defaultCenter] addObserver:self 
                                         selector:@selector(helpVideoFinished:)
                                             name:MPMoviePlayerPlaybackDidFinishNotification  
                                           object:timeCompletedCnlr]; 
```

}

```
 - (void) helpVideoFinished:(NSNotification*) aNotification {     
MPMoviePlayerController *player1 = [aNotification object];     
[[NSNotificationCenter defaultCenter]removeObserver:self 
                                               name:MPMoviePlayerPlaybackDidFinishNotification
                                             object:player1];     
[smoothLineView completed5Sec];     
NSLog(@"5sec called");     
NSError *error = [[aNotification userInfo] objectForKey:@"error"];     
if (error) {
    NSLog(@"Did finish with error: %@", error);
} 
```

}

我的问题是视频有时会出现有时不出现，

# zend-framework - 使用标准路由器的多条路由（Zend 框架）

> ID：10881275
> 
> 赞同：0
> 
> 时间：2012-06-04T12:28:13.647
> 
> 标签：zend-framework, rewrite, router

我正在尝试在zend中设置到同一个控制器的多条路由，如下所示：

```
URL                                            | Controller::Action
=================================================================================
http://mysite/tasks/:level/                    | Objectives::Objectives
http://mysite/tasks/:level/:objective/         | Objectives::tasks
http://mysite/tasks/:level/:objective/:taskID/ | Objectives::view 
```

我尝试了以下方法：

```
<?php
$router->addRoute('objectives', new Zend_Controller_Router_Route(
    'task/:level/:objective/:taskID/',
    array(
        'controller' => 'objectives',
        'action'     => 'view'
    )
));
$router->addRoute('objectives', new Zend_Controller_Router_Route(
    'task/:level/:objective/',
    array(
        'controller' => 'objectives',
        'action'     => 'tasks'
    )
));
$router->addRoute('objectives', new Zend_Controller_Router_Route(
    'task/:level/',
    array(
        'controller' => 'objectives',
        'action'     => 'tasks'
    )
));
?> 
```

然而，最后一条规则似乎覆盖了路由器中以前的规则。我一遍又一遍地阅读了路由器的 Zend 文档，我觉得我只是错过了一些东西——我应该使用不同的路由器类吗？

任何帮助深表感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T12:31:53.190

正如怀疑我正在覆盖以前的规则。addRoute() 的第一个参数是路由的名称，而不是我想的要路由到的控制器。给每条路线一个唯一的名字解决了这个问题。

# uiview - 如何使用代码在 ViewController 中加载视图？

> ID：10881279
> 
> 赞同：1
> 
> 时间：2012-06-04T12:28:38.200
> 
> 标签：uiview, uiviewcontroller, initialization

我想测试更改 label.text 的 ViewController 的功能。起初我试过这个：

```
ViewController* controller = [[ViewControlleralloc] initWithNibName:@"ViewController_iPhone"bundle:nil];
[controller pressed];
NSLog(@"%@",controller.label.text); 
```

按下的功能如下：

```
-(void)pressed{
self.label.text = @"hello";
} 
```

但是，结果为 NULL。后来我改变了代码如下：

```
AppDelegate *delegate = [[UIApplicationsharedApplication] delegate];
ViewController* controller = [[ViewControlleralloc] initWithNibName:@"ViewController_iPhone"bundle:nil];
delegate.window.rootViewController = controller;
[controller pressed];
NSLog(@"%@",controller.label.text); 
```

我认为这段代码

```
delegate.window.rootViewController = controller; 
```

可以加载控制器的视图，以便更改标签的文本。但我不知道为什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:38:48.400

你是对的。

直到需要时才会加载视图。简单地创建视图控制器不会触发视图加载，但分配窗口的根视图控制器需要设置它以进行显示，因此实例化和链接所有 nib 对象。

对视图的任何引用也会导致它加载，甚​​至像：

```
ViewController* controller = [[ViewControlleralloc] initWithNibName:@"ViewController_iPhone"bundle:nil];
NSLog(@"%@", controller.view); 
```

# c# - 如何为我的应用程序创建协议

> ID：10881290
> 
> 赞同：0
> 
> 时间：2012-06-04T12:29:52.937
> 
> 标签：c#, protocols

> **可能重复：**
> [如何创建自己的 URL 协议？（例如所以：//…）](https://stackoverflow.com/questions/389204/how-do-i-create-my-own-url-protocol-e-g-so)

有什么方法可以为我的应用程序创建一个协议，以便可以从浏览器（如 Skype 、 utorrent和chrome）`myapp://`打开我的应用程序？`skype://``magnet://``chrome://`

我也可以创建一个运行命令，以便用户可以直接通过`start > run > myapplication.exe`

我将在 C# 中创建我的应用程序，我认为这将帮助我的用户轻松打开应用程序有什么办法吗？

在这里，我`myapp://`以我创建的协议和`myapplication.exe`程序名称为例。

# php - 使用 JQuery ajax.Post() 更新数据库

> ID：10881293
> 
> 赞同：2
> 
> 时间：2012-06-04T12:30:09.440
> 
> 标签：php, jquery, mysql, security

帮助！我正在编写一些代码来更新 mySQL 数据库，使用类似于以下代码：-

```
$.post('http://myURL.com/vote.php?personID=' + personID + '&eventID=123'); 
```

vote.php 代码获取查询字符串值并将记录插入到数据库中，其中包含这些值。

这种代码运行良好，但我意识到问题是人们可以输入如下内容：

> [http://myURL.com/vote.php?personID=5&eventID=123](http://myURL.com/vote.php?personID=5&eventID=123)

进入他们的地址栏并基本上向应用程序发送垃圾邮件......

有没有一种简单的方法可以确保不会发生这种情况？我对这些技术相当陌生，所以不知道一切是如何工作或组合在一起的，但我学得很快，所以任何指针都会非常有用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T12:41:21.020

对进入数据库的数据使用 GET 参数不是一个好主意。通常，您希望使用 URL 中不可见的 POST 参数。所以而不是：

```
$.post('http://myURL.com/vote.php?personID=' + personID + '&eventID=123'); 
```

你会这样做：

```
$.post('http://myURL.com/vote.php', { "personID" : personID, "eventID" : 123 }); 
```

在您的 PHP 脚本中，您将使用`$_POST`这样的数组访问您的数据：

```
$personID = $_POST['personID'];
$eventID = $_POST['eventID']; 
```

[但是，不要忘记在保存到数据库之前正确过滤输入，以防止像SQL 注入](http://en.wikipedia.org/wiki/SQL_injection)这样的坏事。

这不是灵丹妙药：垃圾邮件仍然是可能的，因为任何 HTTP 客户端都可以向您的站点发送 post 请求。您可以查看的另一件事是[安全令牌](http://elbertf.com/2009/11/safer-web-forms-with-security-tokens/)，以使其更不容易受到垃圾邮件的攻击。或者实施一个限制请求/分钟/用户数量的系统......但我离原来的问题太远了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:34:00.533

$.post 的正确语法是

`$.post(url,data_to_send,callback_function)`

通过使用这种方法，您的用户将永远无法损坏您的网站。使用类似

```
$.post('http://myURL.com/vote.php',{"personID":personID,"eventID":123); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T13:07:48.307

无论您使用的是 POST 还是 GET，您始终可以考虑使用[`hash_hmac`](http://www.php.net/hash_hmac). 这可以防止人们通过添加其他人无法猜测的签名来更改其值而不被发现。

这也使 CSRF 更加困难，尽管由于固定技术并非不可能。这只是另一种可以使“提琴手”更加困难的技术。

以下函数将盐和签名添加到给定的人员 id 以形成安全字符串。

```
define('MY_SECRET', 'an unguessable piece of random text');

function getSecurePersonId($personId)
{
    $rnd = uniqid("$personId-", true);
    $sig = hash_hmac('sha1', $rnd, MY_SECRET);

    return "$rnd-$sig";
} 
```

您可以将 的输出传递`getSecuredPersonId()`给 JavaScript，以在`$.post()`or中作为数据传递`$.get()`；顺便说一句，建议张贴。

提交表单后，您的个人 ID 最终会出现在请求方法中`$_GET['personID']`或`$_POST['personID']`取决于请求方法。要验证给定值，请通过以下函数运行它：

```
function validateSecurePersonId($securePersonId)
{
    if (3 != count($parts = explode('-', $securePersonId))) {
        return false;
    }
    // reconstruct the signed part
    $rnd = "{$parts[0]}-{$parts[1]}";
    // calculate signature
    $sig = hash_hmac('sha1', $rnd, MY_SECRET);

    // and verify against given signature
    return $sig === $parts[2] ? $parts[0] : false;
} 
```

如果该值已正确签名，它将返回您开始使用的原始人员 ID。如果失败，它将返回`false`。

小测试：

```
$securePersonId = getSecurePersonId(123);
var_dump($securePersonId);

if (false === validateSecurePersonId($securePersonId)) {
    // someone messed with the data
} else {
    // all okay
} 
```

# hibernate - JPA - 如何仅删除 OneToMany 中的关系？

> ID：10881294
> 
> 赞同：0
> 
> 时间：2012-06-04T12:30:10.930
> 
> 标签：hibernate, jpa, one-to-many, relationship

好吧，我遇到了麻烦，我找不到任何关于它的问题。我有一个与另一个实体具有 OneToMany 关系的实体。我尝试从一个人的列表中删除“另一个”。之后，我尝试合并那个。但它只是行不通。我不想从数据库中删除“另一个”，我只想从一个列表中删除它。

这是我的代码：

```
public class ParametrosVingentes implements Serializable {

    // ...
    @OneToMany(targetEntity=AgendamentoImportacaoZeus.class, cascade={CascadeType.REFRESH, CascadeType.MERGE})
    @JoinTable(
            name="ImportacaoZeusVingentes",
            joinColumns = @JoinColumn(name="parametros_vingentes_fk"),
            inverseJoinColumns = @JoinColumn(name="agendamento_fk")
    )
    private List<AgendamentoImportacaoZeus> agendamentosImportacaoZeus;

    // ...

} 
```

AgendamentoImportacaoZeus 是“另一个”实体。

```
@Entity
@NamedQueries(value = {
    @NamedQuery(name = "AgendamentoImportacaoZeus.listarPorDataCriacao", query = "SELECT a FROM AgendamentoImportacaoZeus a ORDER BY a.dataCriacao DESC"),
    @NamedQuery(name="AgendamentoImportacaoZeus.getPorData", query="SELECT a FROM AgendamentoImportacaoZeus a WHERE a.agendamento = :data"),
    @NamedQuery(name="AgendamentoImportacaoZeus.vingentes", query="SELECT ag FROM ParametrosVingentes p JOIN p.agendamentosImportacaoZeus ag WHERE p.id = :id")
})
@SequenceGenerator(name = "SEQ", sequenceName = "SEQ_AG_IMP_ZEUS")
public class AgendamentoImportacaoZeus implements Serializable, Agendamento {

    private static final long serialVersionUID = 1L;
    @Id
    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator="SEQ")
    private Long id;
    @Temporal(javax.persistence.TemporalType.TIMESTAMP)
    private Date dataCriacao;
    @Temporal(javax.persistence.TemporalType.TIMESTAMP)
    private Date agendamento;

    // ... 
```

合并实体的代码：

```
ParametrosVingentes parametrosVingentes = parametrosVingentesDao.buscar(ParametrosVingentes.ID);
List<? extends Agendamento> agendamentosVingentes;
// ...
agendamentosVingentes = parametrosVingentes.getAgendamentosImportacaoZeus();
// ...
for(int i=0; i<agendamentosVingentes.size(); i++){
    if(agendamentosVingentes.get(i).getAgendamento().compareTo(dataAgendamentoDesmarcar) == 0){
        agendamentosVingentes.remove(i);
        break;
    }
}
// ...
entityManager.merge(parametrosVingentes); 
```

从集合中删除实体并合并它应该删除关系，还是不应该？

我调试了代码，合并后，我有没有我删除的元素的 AgendamentoImportacaoZeus 列表。但是当我从数据库中获取 ParametrosVingentes 时，它又出现了。

entityManager 由 Spring 控制。该方法是事务性的。然后我认为它正在正常冲洗。

感谢关注。

更新：

我查看了[这篇文章](https://stackoverflow.com/questions/10634755/one-to-many-relationship-update-removed-children-with-jpa-2-0/)并尝试更改我的映射。现在我有以下内容：

```
@Entity
public class ParametrosVingentes implements Serializable {

    // ...
    @OneToMany(mappedBy="parametrosVingentes", cascade={CascadeType.ALL})
    private List<AgendamentoImportacaoZeus> agendamentosImportacaoZeus;
    // ...
}

@Entity
@NamedQueries(value = {
    @NamedQuery(name = "AgendamentoImportacaoZeus.listarPorDataCriacao", query = "SELECT a FROM AgendamentoImportacaoZeus a ORDER BY a.dataCriacao DESC"),
    @NamedQuery(name="AgendamentoImportacaoZeus.getPorData", query="SELECT a FROM AgendamentoImportacaoZeus a WHERE a.agendamento = :data"),
    @NamedQuery(name="AgendamentoImportacaoZeus.vingentes", query="SELECT ag FROM ParametrosVingentes p JOIN p.agendamentosImportacaoZeus ag WHERE p.id = :id")
})
@SequenceGenerator(name = "SEQ", sequenceName = "SEQ_AG_IMP_ZEUS")
public class AgendamentoImportacaoZeus implements Serializable, Agendamento {

    // ...
    private ParametrosVingentes parametrosVingentes;
    // ...

} 
```

我正在尝试这个：

```
Agendamento agendamento = null;
for(int i=0; i<agendamentosVingentes.size(); i++){
    if(agendamentosVingentes.get(i).getAgendamento().compareTo(dataAgendamentoDesmarcar) == 0){
        agendamento = agendamentosVingentes.remove(i);
        agendamento.setParametrosVingentes(null);
        break;
    }
}
entityManager.merge(parametrosVingentes);
entityManager.merge(agendamento); 
```

有人知道为什么不更新吗？

# javascript - 如何从上次运行 javascript 函数时获取信息

> ID：10881297
> 
> 赞同：0
> 
> 时间：2012-06-04T12:30:29.247
> 
> 标签：javascript, jquery, time

我正在构建一个 PhoneGap Mobile 应用程序，我`getJSON`每三分钟从服务器获取一次数据。因为它将是一个移动应用程序，所以连接不会一直得到保证，所以我想告诉用户该`getJSON`功能最后一次成功是什么时候，我该如何实现呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:40:22.167

一种方法是每次方法在成功回调中成功时打印到屏幕上`getJSON`，可能是这样的：

```
$.getJSON('some/url',function(data){
    $('#span').text('The server was successfully queried last at ' + new Date());
}); 
```

另一种方法是将当前时间保存在成功块中，然后如果`getJSON`调用中有错误，则提醒用户上次`getJSON`成功的时间是先前存储的值。像这样的东西：

```
var last;
$.getJSON('some/url',function(data){
   last = new Date();
}).error(function(){
   $('#span').text('The server was last successfully queried last at ' + last);
}); 
```

这应该让您大致了解解决此问题的两种方法。

**更新** 四处搜索，我发现[了这篇](http://zeroedandnoughted.com/defensive-ajax-and-ajax-retries-in-jquery/)关于防御性 AJAX 调用的文章，您也可以尝试。

# java - Swing with Spring 使用注解 besa 映射

> ID：10881299
> 
> 赞同：0
> 
> 时间：2012-06-04T12:30:37.257
> 
> 标签：java, spring, swing, spring-mvc

我将使用 Swing、Spring 框架和 Hibernate 开发桌面应用程序。我想通过使用注释来映射 POJO。我开发了一个代码但我不知道哪里出了问题......这是我的应用程序的快照。

POJO：

```
@Table(name = "emp_master", schema = "test")
public class EmpMaster extends Model {
    private Integer empId;
    private String empName;
    private Double salary;
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "emp_id", unique = true, nullable = false, precision = 131089, scale = 0)
    public Integer getEmpId() {
        return empId;
    }
    public void setEmpId(Integer empId) {
        this.empId = empId;
    } 
```

我的主要 GUI 类：

```
 public static void main(String args[]) {       
        String[] contextPaths = new String[]{"ApplicationContext.xml"};
        new ClassPathXmlApplicationContext(contextPaths); 
```

此类包含通过单击我要保存记录的按钮的按钮。按钮的 actionListener 下的代码：

```
private IEmpMasterService empMasterService;
//getter setter for empMasterService//

private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {         
        String name = jTextField1.getText();
        String salary = jTextField2.getText();
        EmpMaster empMaster = new EmpMaster();
        empMaster.setEmpName(name);
        empMaster.setSalary(Double.parseDouble(salary));  
 //at this line I get error NullPointerException     
        InternalResultsResponse<EmpMaster> response = getEmpMasterService().maintainEmpMaster(empMaster);         
    } 
```

`IEmpMasterService`是一个包含 id、name、salary 的接口。
在 Pojo-def.xml 中：

```
 <context:annotation-config />
    <context:component-scan base-package="org" /> 
<import resource="datasource.xml" />
       <bean id="mainFrame" class="org.UI.EmpManager">
        <property name="title"> <value>Spring Example</value></property>            
    </bean>     
    <bean id="empManager" class="org.UI.EmpManager">
        <property name="empMasterService" ref="empMasterServiceImpl"></property>
    </bean> 
    <bean id="empMasterServiceImpl" class="org.service.EmpMasterService">
        <property name="empMasterDAO" ref="empMasterDAOTarget"></property>
    </bean> 
    <bean id="empMasterDAOTarget" class="org.DAO.EmpMasterDAO">
        <property name="hibernateTemplate" ref="matrixHibernateTemplate"/>
    </bean> 
```

我已经正确创建了所有服务类和 dao 类，我还配置了 datasource.xml 并且在单独的项目中工作，但是我在主 GUI 类中遇到错误`getEmpMasterService()`：`NullPointerException`。
我认为将接口映射到实现者类有问题，谁能告诉我我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:41:09.560

我认为您从中提供的信息，原因之一可能是，在 EmpMasterService 的 Pojo-def.xml 文件中，Id 是“ **empMasterServiceImpl** ”，但在保存记录代码 EmpMasterService 服务中，对象名称为“ **empMasterService** ”。因此无法设置 EmpMasterService 的对象。

# assembly - 从标准输入将数字读入寄存器？加载 scanf 结果

> ID：10881303
> 
> 赞同：3
> 
> 时间：2012-06-04T12:30:58.300
> 
> 标签：assembly, x86, att

我目前正忙于组装并遇到以下问题：

我正在尝试获取已输入 eax 寄存器的数字。首先我提出一个要求输入的字符串，然后有人必须输入一个数字。

我使用了以下代码，但我并不理解它的每一点。请注意代码中的注释。

我知道这个数字现在绝对没有任何反应，除了它已被移入 eax。我想知道的是为什么我必须使用 leal：它为什么以及它的作用是什么？为什么我需要将 eax 推回堆栈？

```
.text
string1: .asciz "Please enter a number\n"
input: .asciz "%d" 

.global main
main:
       # Editor's note: this code is broken / unsafe; missing push %ebp here
  movl %esp, %ebp

  push $string1          # prompt string
  call printf            #print the string
           # no add $4, %esp here: 4 bytes still allocated on the stack

  leal -4(%ebp), %eax   # ????
  pushl %eax            # the thing you pushed in eax is now pushed on the stack?
  pushl $input          #the number 

  call scanf      

  popl %eax
  popl %eax       # the number that has been entered is now in eax

  call end

end:
  push $0
  call exit 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:47:12.083

您正在调用函数，因此您在堆栈上将参数传递给它们。一个整数在 中返回给您`eax`，其余的是通过输入-输出指针参数再次在堆栈上。查看[**x86 调用约定**](http://en.wikipedia.org/wiki/X86_calling_conventions)。

### 编辑0：

该`leal`指令将一些临时变量的*有效地址*（即`scanf`放置整数值的位置）存储到`eax`中，然后将其传递到`scanf`堆栈中。看看这里：[LEA 指令的目的是什么？](https://stackoverflow.com/questions/1658294/x86-asm-whats-the-purpose-of-the-lea-instruction)

# sql - 数据库设计可变数量的字段

> ID：10881306
> 
> 赞同：1
> 
> 时间：2012-06-04T12:31:17.117
> 
> 标签：sql, database-design

我正在为客户建立一个网站，但我偶然发现了一个问题，我需要一些建议。

对于每个项目，他们希望能够设置可变数量的图像和（有时）一些相应的文本。

我正在考虑将所有信息存储在一个字段中，而不是将 field_1 设置为 field_99 以防万一他们需要 99 个字段。

```
// database column

'../fotos/foto1.png',
'hier komt tekst',
'../fotos/foto2.png',
'', (empty text)
'../fotos/foto3.png' 
```

这个解决方案有一些缺点，必须有更好的方式来实现这一点。

这样做的首选方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T12:33:44.760

用所有可能的 foto 值创建另一个表（例如 FOTO_CODES）并为它们生成 id。

创建另一个子表，它将具有来自 FOTO_CODES 表和 FOTO 数据（图像）的主表记录 ID 和 ID。

这称为标准化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T16:24:13.697

您描述的解决方案违反了[原子性](http://en.wikipedia.org/wiki/1NF#Atomicity)原则，因此违反了 1NF。您将无法维护和查询这种格式的数据。

这是一个经典的一对多关系，可以通过两种方式建模：

1）识别关系：

![在此处输入图像描述](../Images/f53fdda929244eec4ee5d5d9534cfc67.png)

2) 非识别关系：

![在此处输入图像描述](../Images/c50871d36c8ff7633b61ad87bf0b1e77.png)

两者各有利弊，StackOverflow 已经有很多关于这个话题的讨论。

# c# - 使用多字段过滤概念化高级 linq 查询

> ID：10881308
> 
> 赞同：2
> 
> 时间：2012-06-04T12:31:18.130
> 
> 标签：c#, asp.net-mvc-3, linq, entity-framework

我一直在网上搜索，到目前为止我发现的每个示例都使用相同类型的查询来执行搜索。我发现这是搜索的 hello world 版本。我发现有一些使用 if 语句在几个查询之间进行选择，但仍然缺乏任何真正的能力。

```
(from c in context.table
where c.contains(searchField)).toList()); 
```

搜索非常简单，以至于我无法想出如何为下面的屏幕截图开发搜索查询。复选框组应该创建`OR/IN`子句，几乎所有其他内容都是`AND`

例如，用户检查`Sarasota`，`Venice`输入 1990 年建成的年份并选择卧室 1+ 并输入销售日期范围`from`1/1/2000 并将`to`字段留空。

在普通的旧 SQL 中，这将是。 `where city = 'sarasota' or city = 'Venice' AND yearbuilt = 1990 AND bedrooms >= 1 AND fromSaleDate >= 1/1/2000 AND toSaleDate = 12/31/9999`

如果我使用的是老派 sql 字符串和 ASP 经典，我会使用硬编码子句和少量`ifs`and`for`语句的组合来自己动态构建查询字符串。

我正在设想某种以某种方式传递值的 searchViewModel（尚未编写）。所以我不能包含该 ViewModel 的代码示例。真正的踢球者是“属性特征”部分。这将是可用属性特性的动态列表，因此不能将其作为查询的一部分进行硬编码。

我认为这可能是相关的，但我不确定。[使用 LINQ 过滤列表](https://stackoverflow.com/questions/5090568/filtering-a-list-using-linq)

请帮助我朝着正确的方向迈出一步。谢谢

![在此处输入图像描述](../Images/44938945ba47def99bf451d2b9d66419.png)

## 更新

这是在 Profiler 中执行的查询。我对其进行了调整以声明变量，以便我可以交互地运行它，但查询本身没有改变

```
declare @p__linq__0 as datetime
declare @p__linq__1 as datetime

set @p__linq__0='1989-01-01 00:00:00'
set @p__linq__1='1990-01-01 00:00:00'
SELECT TOP (10) 
[Project3].[STRAP] AS [STRAP], 
[Project3].[SITUS] AS [SITUS], 
[Project3].[MAILING_ADDRESS] AS [MAILING_ADDRESS], 
[Project3].[PROPERTY_USE] AS [PROPERTY_USE], 
[Project3].[SUBDIVISION] AS [SUBDIVISION], 
[Project3].[DSCR] AS [DSCR], 
[Project3].[LAND_AREA] AS [LAND_AREA], 
[Project3].[INCORPORATION] AS [INCORPORATION], 
[Project3].[SEC_TWP_RGE] AS [SEC_TWP_RGE], 
[Project3].[CENSUS] AS [CENSUS]
FROM ( SELECT [Project3].[STRAP] AS [STRAP], [Project3].[SITUS] AS [SITUS], [Project3].[MAILING_ADDRESS] AS [MAILING_ADDRESS], [Project3].[PROPERTY_USE] AS [PROPERTY_USE], [Project3].[SUBDIVISION] AS [SUBDIVISION], [Project3].[DSCR] AS [DSCR], [Project3].[LAND_AREA] AS [LAND_AREA], [Project3].[INCORPORATION] AS [INCORPORATION], [Project3].[SEC_TWP_RGE] AS [SEC_TWP_RGE], [Project3].[CENSUS] AS [CENSUS], row_number() OVER (ORDER BY [Project3].[STRAP] ASC) AS [row_number]
    FROM ( SELECT 
        [Distinct2].[STRAP] AS [STRAP], 
        [Distinct2].[SITUS] AS [SITUS], 
        [Distinct2].[MAILING_ADDRESS] AS [MAILING_ADDRESS], 
        [Distinct2].[PROPERTY_USE] AS [PROPERTY_USE], 
        [Distinct2].[SUBDIVISION] AS [SUBDIVISION], 
        [Distinct2].[DSCR] AS [DSCR], 
        [Distinct2].[LAND_AREA] AS [LAND_AREA], 
        [Distinct2].[INCORPORATION] AS [INCORPORATION], 
        [Distinct2].[SEC_TWP_RGE] AS [SEC_TWP_RGE], 
        [Distinct2].[CENSUS] AS [CENSUS]
        FROM ( SELECT DISTINCT 
            [Distinct1].[STRAP] AS [STRAP], 
            [Distinct1].[SITUS] AS [SITUS], 
            [Distinct1].[MAILING_ADDRESS] AS [MAILING_ADDRESS], 
            [Distinct1].[PROPERTY_USE] AS [PROPERTY_USE], 
            [Distinct1].[SUBDIVISION] AS [SUBDIVISION], 
            [Distinct1].[DSCR] AS [DSCR], 
            [Distinct1].[LAND_AREA] AS [LAND_AREA], 
            [Distinct1].[INCORPORATION] AS [INCORPORATION], 
            [Distinct1].[SEC_TWP_RGE] AS [SEC_TWP_RGE], 
            [Distinct1].[CENSUS] AS [CENSUS]
            FROM   (SELECT DISTINCT 
                [Extent1].[STRAP] AS [STRAP], 
                [Extent1].[SITUS] AS [SITUS], 
                [Extent1].[MAILING_ADDRESS] AS [MAILING_ADDRESS], 
                [Extent1].[PROPERTY_USE] AS [PROPERTY_USE], 
                [Extent1].[SUBDIVISION] AS [SUBDIVISION], 
                [Extent1].[DSCR] AS [DSCR], 
                [Extent1].[LAND_AREA] AS [LAND_AREA], 
                [Extent1].[INCORPORATION] AS [INCORPORATION], 
                [Extent1].[SEC_TWP_RGE] AS [SEC_TWP_RGE], 
                [Extent1].[CENSUS] AS [CENSUS]
                FROM  [dbo].[Properties] AS [Extent1]
                INNER JOIN [dbo].[Transfers] AS [Extent2] ON [Extent1].[STRAP] = [Extent2].[STRAP]
                WHERE  CAST( [Extent2].[TRANS_DATE] AS datetime2) >= @p__linq__0 ) AS [Distinct1]
            INNER JOIN [dbo].[Transfers] AS [Extent3] ON [Distinct1].[STRAP] = [Extent3].[STRAP]
            WHERE  CAST( [Extent3].[TRANS_DATE] AS datetime2) <= @p__linq__1
        )  AS [Distinct2]
    )  AS [Project3]
)  AS [Project3]
WHERE [Project3].[row_number] > 0 
```

## 更新

```
 if (Model == null)
            {
                Model = new SearchViewModel();
            }

            TryUpdateModel(Model);

            Model.Locations = _service.GetLocations().Select(x => new SelectListItem { Text = x.Value, Value = x.Key }).ToList();

            var results = _service.GetProperties();

            if (Model.SelectedLocation != null)
                results = (from r in results
                           where r.SITUS.ToLower().Contains(Model.SelectedLocation.ToLower())
                           select r);

            if (Model.ParcelID != null)
                results = (from r in results
                           where r.STRAP.StartsWith(Model.ParcelID.Replace("-", "")) || r.STRAP.Equals(Model.ParcelID.Replace("-", ""))
                           select r);

            if (Model.SqftFrom != null)
                results = (from r in results
                           from b in r.Buildings
                           where b.GROSS_AREA >= Model.SqftFrom
                           select r).Distinct();

            if (Model.SqftTo != null)
                results = (from r in results
                           from b in r.Buildings
                           where b.GROSS_AREA <= Model.SqftTo
                           select r).Distinct();

            if (Model.Bedrooms != null)
                results = (from r in results
                           from b in r.Buildings
                           from s in b.StructuralElements
                           where s.VALUE == Model.Bedrooms && s.DSCR.ToLower() == "bedrooms"
                           select r).Distinct();

            if (Model.Bathrooms != null)
                results = (from r in results
                           from b in r.Buildings
                           from s in b.StructuralElements
                           where s.VALUE == Model.Bathrooms && s.CATEGORY == "BT"
                           select r).Distinct();

            if (Model.SaleAmountFrom != null)
                results = (from r in results
                           from t in r.Transfers
                           where t.AMOUNT >= Model.SaleAmountFrom
                           select r).Distinct();

            if (Model.SaleAmountTo != null)
                results = (from r in results
                           from t in r.Transfers
                           where t.AMOUNT <= Model.SaleAmountTo 
                           select r).Distinct();

            if (Model.SalesFrom != null)
                results = (from r in results
                           from t in r.Transfers
                           where t.TRANS_DATE >= Model.SalesFrom
                           select r).Distinct();

            if (Model.SalesTo != null)
                results = (from r in results
                           from t in r.Transfers
                           where t.TRANS_DATE <= Model.SalesTo
                           select r).Distinct();

            //if (Model.SalesTo != null)
            //    results = (from r in results
            //               from t in r.Transfers
            //               where t.TRANS_DATE <= Model.SalesTo
            //               select r).Distinct();

                results = results.OrderBy(x => x.STRAP);

                Model.SearchResults = results.ToPagedList(page ??1 , size ?? 10);

            if (Model.SearchResults.Count() == 1)
            {
                var strap = Model.SearchResults.FirstOrDefault().STRAP;

                return RedirectToRoute("Details", new { id = strap });
            }
            else
            {
                return View(Model);
            } 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-04T12:38:26.440

LINQ 源 ( `IQueryable<T>`) 是*可组合*的，因此您可以：

```
IQueryable<Parcel> query = ctx.Parcels;
if(location != null)
    query = query.Where(x => x.Location == location);
if(tennisCourt)
    query = query.Where(x => x.HasTennisCourt);
if(minSaleDate != null)
    query = query.Where(x => x.SaleDate >= minSaleDate.Value);
if(maxSaleDate != null)
    query = query.Where(x => x.SaleDate <= maxSaleDate.Value); 
```

最后你可以这样做*：*

```
// first 50, plus a final one to display "more..." link
var page = query.Take(51).ToList(); 
```

或者：

```
int count = query.Count(); 
```

诀窍是：它只执行完全组合的查询 - 即任何枚举查询（`foreach`,`ToList`等）或聚合查询（`Count`,`Sum`等）

# ios - 需要环境设置的应用程序的应用商店审批流程

> ID：10881309
> 
> 赞同：0
> 
> 时间：2012-06-04T12:31:21.563
> 
> 标签：ios, app-store, appstore-approval

我正在向 App Store 提交一个应用程序，该应用程序与购买该应用程序的每个客户已安装的服务器组件进行交互。

向 Apple 发送服务器组件和设置说明是否合适？或者我们应该给 Apple 一个指向我们托管的测试服务器的测试帐户。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T15:06:54.497

正确的解决方案是为 Apple 设置一个测试帐户。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:51:05.623

**您应该始终支持您的应用程序所做的一切**，以便 Apple 可以对其进行全面测试。您还应该保持简单和简短：通常只是凭据，以便他们可以登录，如果您认为有必要，可能还有一些说明。这假设应该为他们准备好一个完整的测试环境。

# list - Xquery 中的列表

> ID：10881312
> 
> 赞同：1
> 
> 时间：2012-06-04T12:31:35.547
> 
> 标签：list, xquery

让我们考虑一个例子，a = 'red table jet blue ghost hin'。现在我想要 i 作为 b = ['red', 'table', 'jet', 'blue', 'ghost', 'hind']。在 python 中我们可以使用列表理解，但是在 Xquery 中是否有类似“列表理解”的方法？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-04T12:49:28.613

XQuery 基于包含序列的XDM **[*（*](http://www.w3.org/TR/xpath-datamodel/#sequences)** **[XPath 数据模型）](http://www.w3.org/TR/xpath-datamodel/)**。**[](http://www.w3.org/TR/xpath-datamodel/#sequences)**

 **序列*类似于平面列表（不可能有序列序列）。

**这是一个例子**：

```
declare variable $a as xs:string := "red table jet blue ghost hind";  

declare variable $b as xs:string* := tokenize($a, ' '); 
```

**您可以验证它`$b`是否是所需字符串的序列**：

```
declare variable $a as xs:string := "red table jet blue ghost hind";  

declare variable $b as xs:string* := tokenize($a, ' ');

for $s in $b
  return
    concat('"', $s, '"') 
```

**运行上述 XQUery 代码时，会产生所需的正确结果**：

```
"red" "table" "jet" "blue" "ghost" "hind" 
```*

# git - 在推送的代码中编辑提交消息

> ID：10881314
> 
> 赞同：2
> 
> 时间：2012-06-04T12:31:43.857
> 
> 标签：git, commit

我不小心将我的源代码提交到带有不完整提交消息的 git 存储库并推送了代码。现在我想编辑我推送的提交消息。我知道我们可以在推送之前编辑提交消息。但我也推送了代码。有什么办法可以编辑消息？？？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T13:50:44.530

请参阅[在 Git 中编辑已推送的不正确提交消息](https://stackoverflow.com/questions/10153760/how-do-i-edit-an-incorrect-push-message-in-git)。

`git commit --amend`将允许您编辑提交消息，`git push --force`并将重写您的远程存储库。正如其他人所指出的，如果您有下游的任何人（即如果其他人从您的遥控器中拉出） ，那么重写您的遥控器是一个*糟糕的主意。*

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-04T12:36:36.120

一般来说，您不应该这样做，除非它是在目标存储库和同行开发人员使用的所有存储库中更正引用的选项。如果是这样，您可以在自己的存储库中更改提交，推送新提交，重置目标存储库中的分支以指向新提交并要求其他所有人重新设置基准。

# objective-c - 如何将 NSArray 中的对象与两个不同 NSArray 中的两个不同对象进行比较？

> ID：10881316
> 
> 赞同：0
> 
> 时间：2012-06-04T12:31:47.777
> 
> 标签：objective-c, nsarray

我正在尝试将 NSArray 中的对象与两个不同 NSArray 中的两个对象进行比较，并且我想存储该对象的第一次出现并丢弃下一个。

例如：-

我有一个 Array1，其中包含（20.12、20.15、21.4、22.6、23.0、24.2、28.7、30.5、30.9、32.6、33.7）之类的对象。现在我有另一个 Array2 包含像 (20.00, 22.0, 28.0, 30.0, 33.0) 这样的对象和另一个 Array3 包含像 (21.0, 24.0, 29.0, 32.0, 34.0) 这样的对象

现在我想存储介于（20.00 - 21.0、22.0 - 24.0、28.0 - 29.0、30.0 - 32.0、33.0 - 34.0）之间的第一个对象。我试图通过使用来实现这一点

```
if (clickTimeInterval >= [[Array2 objectAtIndex:i] doubleValue] && clickTimeInterval <= [[Array3 objectAtIndex:i] doubleValue]) { 
```

我的 clickTimeInterval 是存储在我的 Array1 中的时间间隔。我能够获取这些值，但我只想存储首先出现的值并存储到 Array4 中。它看起来像 Array4 = (20.12, 22.6, 24.2, 28.7, 30.5, 33.7)。谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:57:48.390

这取决于您想要的优化程度。这是一个为每个范围重新采样“Array1”的版本。如果您有大量对象要过滤（并且它们已排序），您可以存储最后找到的位置，以便更快地进行后续搜索。

```
- (NSArray *)bucketTest {
    NSMutableArray *result = [NSMutableArray array];

    NSArray *samples = [NSArray arrayWithObjects:[NSNumber numberWithDouble:1.1], [NSNumber numberWithDouble:1.5], [NSNumber numberWithDouble:2.2], nil];
    NSArray *lows = [NSArray arrayWithObjects:[NSNumber numberWithDouble:1.0], [NSNumber numberWithDouble:2.0], nil];
    NSArray *highs = [NSArray arrayWithObjects:[NSNumber numberWithDouble:2.0], [NSNumber numberWithDouble:3.0], nil];
    for (int bucket = 0; bucket < [lows count]; bucket++) {
        double low = [[lows objectAtIndex:bucket] doubleValue];
        double high = [[highs objectAtIndex:bucket] doubleValue];
        for (NSNumber *sample in samples) {
            if (([sample doubleValue] >= low) && ([sample doubleValue] < high)) {
                [result addObject:sample];
                break;
            }
        }
    }
    return result;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T13:15:50.707

提高第一个答案的效率。在这里，我假设所有数组都已排序

再制作一个我们将在每次迭代中更改的数组

```
NSArray *array5 = [array1 copy];

NSMutableArray *array4 = [NSMutableArray array];
for (int i=0; i < array2.count; i++) {
    NSNumber *bottom = [array2 objectAtIndex:i];
    NSNumber *top = [array3 objectAtIndex:i];
    NSPredicate *greaterThanPredicate = [NSPredicate predicateWithFormat:
                                         @"SELF > %@", bottom];
    NSMutableArray *arrayWithBiggerObjects = [NSMutableArray arrayWithArray:[array5 filteredArrayUsingPredicate:greaterThanPredicate]];

    if (arrayWithBiggerObjects.count) {
        NSNumber *lowestObject = [arrayWithBiggerObjects objectAtIndex:0];
        if ([lowestObject compare:top] == NSOrderedDescending) {
            [array4 addObject:lowestObject];
            [arrayWithBiggerObjects removeObject:lowestObject];
            array5 = arrayWithBiggerObjects;
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T12:49:28.923

假如说

1.  所有数组都按升序排列
2.  array2.count == array3.count
3.  array2 的第 n 个对象小于 array3 的第 n 个对象

您可以执行以下操作

```
NSMutableArray *array4 = [NSMutableArray array];
for (int i=0; i < array2.count; i++) {
   NSNumber *bottom = [array2 objectAtIndex:i];
   NSNumber *top = [array3 objectAtIndex:i];
   NSPredicate *betweenPredicate = [NSPredicate predicateWithFormat:
      @"SELF > %@ && SELF < %@", bottom, top]; 
   NSArray *inRange = [array1 filteredArrayUsingPredicate:betweenPredicate];
   if (inRange.count) {
      [array4 addObject:[inRange objectAtIndex:0]];
   }
   else {
      [array4 addObject:[NSNull null]]; // or don't add anything
   }
} 
```

# loops - 如何在mel中创建可中断循环

> ID：10881320
> 
> 赞同：1
> 
> 时间：2012-06-04T12:31:56.797
> 
> 标签：loops, mel

有没有办法制作可以在 MEL（Maya 嵌入式语言）中中断或取消的循环？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-10T16:57:02.503

您应该使用进度条。直接来自手册的示例：

```
{
    global string $gMainProgressBar;  // This is defined on maya startup

    progressBar -edit
        -beginProgress
        -isInterruptable true
        -status "Example Calculation ..."
        -maxValue 5000
        $gMainProgressBar;

    int $i;
    for($i=0; $i < 5000; $i++) {
        if(`progressBar -query -isCancelled $gMainProgressBar`)
            break;

        progressBar -edit
            -step 1 $gMainProgressBar; 
    }

    progressBar -edit
        -endProgress
        $gMainProgressBar;
} 
```

Maya 现在显示进度并允许您使用*esc*打断。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T17:42:56.543

你可以使用`break`指令。例如：

```
string $joints[] = {"joint1","joint2","joint3","joint4","joint5","joint6"};
for ($i = 0; $i < size($joints); $i++) {
    if ($i > 3){
        break;
    }
    print $joints[$i];
} 
```

将只打印前 4 个元素：joint1joint2joint3join4

# python - 输出/打印一个“可读”的字典

> ID：10881326
> 
> 赞同：4
> 
> 时间：2012-06-04T12:32:13.893
> 
> 标签：python, django, dictionary, formatting

我正在准备一个 api，并使用*docstrings*作为文档。api 服务选择相关的 ApiClass 方法并加入每个文档字符串以创建文档。这样，程序开发人员和 api 用户都可以访问相同的文档。

我的班级结构是这样的：

```
API_STATUS = {
    1: 'some status',
    2: 'some other status message'
}

class MyApi:
    def __init__(self):
        blah blah blah

    def ApiService1(self, some_param):
        """ 
        here is the documentation
            * some thing
            * some other thing
        keep on explanation
        """
        do some job 

    def  ApiService2(self, some_param):
        """"
        Another doc...
        """
        do some other job 
```

我`HttpResponse`用来返回最终的文档字符串。因此，当我请求服务文档时，输出非常可读

> ApiService1
> 
> ```
>  here is the documentation
>         * some thing
>         * some other thing
>     keep on explanation 
> ```
> 
> ApiService2
> 
> ```
>  Another doc... 
> ```

到目前为止一切都很好，但是有一些变量，如`API_STATUS`字典和一些列表，我希望将它们添加到文档中。但是当我将它们解析为字符串或调用`repr`函数时，所有格式都消失了

> {1: '一些状态' 2: '一些其他状态信息', 3: '.....', 4: '........', ....}

这使得它不可读（因为 dict 有大约 50 个元素。）。

我不想写成文档字符串（因为在未来的更新中，相关的字典可能会更新，而字典字符串可能会被遗忘）

`HttpResponse`有没有办法在不删除样式缩进 的情况下将我的字典添加到我的响应文档字符串中（在将其返回为 之前）？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-04T12:47:40.820

使用 pprint：

```
>>> API_STATUS = {1: 'some status', 2: 'some other status message'}
>>> import pprint
>>> pprint.pprint(API_STATUS, width=1)
{1: 'some status',
 2: 'some other status message'} 
```

# php - Mysql php获取与用户相关的对话中的最后一条消息

> ID：10881329
> 
> 赞同：2
> 
> 时间：2012-06-04T12:32:20.553
> 
> 标签：php, mysql, sql, messaging

我正在开发一个 mysql/php 私人消息系统，但我在使用 MYSQL 代码时遇到了问题。我想在用户之间的对话中发送/接收最后一条消息。喜欢这个 Facebook 页面[https://www.facebook.com/messages/](https://www.facebook.com/messages/)。（用语言来解释这件事并不容易。）

我的消息的 mysql 表是这样的：

```
`id`            -> unique ID, autoincremented
`message_from`  -> sender user ID 
`message_to`    -> receiver user ID 
`message`       -> message
`date_created`  
`ip`            
`status`        -> read or not read 
```

我脑子里不清楚该怎么做，所以我没有要显示的初始脚本。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:44:50.633

这将为您提供每次聊天的最新消息。每个聊天都由 message_from 和 message_to ID 标识。

```
SELECT
*
FROM messages m1
WHERE date_created = (SELECT MAX(m2.date_created) FROM messages m2 WHERE m1.message_from = m2.message_from AND m1.message_to = m2.message_to) 
```

如果您想进行特定的聊天，只需添加一个

```
AND message_from = $yourUserId
AND message_to = $yourOtherUserId 
```

抱歉，如果这不是您要找的内容，我不会点击 Facebook 链接。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-19T06:18:10.100

```
SELECT f . * FROM ( SELECT * FROM message a WHERE ( LEAST( a.message_from, a.message_to ) , GREATEST( a.message_from, a.message_to ) , a.sent) IN (SELECT LEAST( b.message_from, b.message_to ) AS x, GREATEST( b.message_from, b.message_to ) AS y, MAX( b.date_created ) AS msg_time FROM message b GROUP BY x, y))f WHERE ".$mainUser." IN (f.message_from, f.message_to )ORDER BY f.date_created DESC limit $pageLimit,".$per_page 
```

*只需复制此查询并在 phpmyadmin 中查看*

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T12:46:58.370

首先，您构建查询以获取所有对话和最后发送消息的日期；对话被定义为发送者和接收者的唯一组合。

```
SELECT message_from, message_to, MAX(date_created) AS max_date
FROM messages
WHERE message_from = :user OR message_to = :user
GROUP BY message_from, message_to 
```

这`:user`只是当前登录用户的占位符。

要从对话中的最后一条消息中获取实际数据，您必须将结果与原始表连接起来：

```
SELECT message, date_created, status
FROM messages
JOIN (
    SELECT message_from, message_to, MAX(date_created) AS max_date
    FROM messages m
    WHERE message_from = :user OR message_to = :user
    GROUP BY message_from, message_to
) AS lm ON m.date_created=lm.max_date AND m.message_from=lm.message_from AND m.message_to=lm.message_to 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-04T12:38:03.857

也许是这样的：

```
SELECT
    *
FROM
    tblMessage
    JOIN(
            SELECT
                MAX(date_created) AS maxCreated,
                message_from
            FROM
                tblMessage
            GROUP BY
                message_from
        ) AS Latest
    ON tblMessage.date_created=Latest.maxCreated
    AND tblMessage.message_from=Latest.message_from 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-01-24T05:15:13.477

你可以用这个

```
$recup_messages = mysqli_query($connection, SELECT * FROM messages WHERE 

(message_from = $yourUserId  AND message_to = $yourOtherUserId) OR (message_from = $yourUserId  AND message_to = $yourOtherUserId ) ") or die(mysqli_error($connection));

while($affichage = mysqli_fetch_assoc($recup_messages))
{
$message_from = $affichage['message_from'];

$message = $affichage['message'];

echo "From : $message_from <br> $message <br><br>";

} 
```

这将像 facebook 一样一个接一个地显示您的消息。现在您必须按照您想要的方式对其进行样式设置，并添加有关日期和其他内容的信息

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-06-27T13:58:22.590

这对我有用

```
 SELECT t1.*
        FROM messages AS t1
        INNER JOIN
        (
            SELECT
                LEAST(sender_id, receiver_id) AS sender_id,
                GREATEST(sender_id, receiver_id) AS receiver_id,
                MAX(id) AS max_id
            FROM messages
            GROUP BY
                LEAST(sender_id, receiver_id),
                GREATEST(sender_id, receiver_id)
        ) AS t2
            ON LEAST(t1.sender_id, t1.receiver_id) = t2.sender_id AND
               GREATEST(t1.sender_id, t1.receiver_id) = t2.receiver_id AND
               t1.id = t2.max_id
            WHERE t1.sender_id = :id OR t1.receiver_id = :id 
```

其中 :id 已绑定。

从这里引用 [https://laracasts.com/discuss/channels/laravel/get-the-latest-message-of-chat-model-with-mysql-just-cannot-get-the-idea-how-to-do -这个](https://laracasts.com/discuss/channels/laravel/get-the-latest-message-of-chat-model-with-mysql-just-cannot-get-the-idea-how-to-do-this)

# ruby-on-rails-3 - Rails 3.2、activeresource 和证书认证

> ID：10881331
> 
> 赞同：3
> 
> 时间：2012-06-04T12:32:27.070
> 
> 标签：ruby-on-rails-3, authentication, ssl, ruby-on-rails-3.2, activeresource

我写信是想提供一个通过证书身份验证使用活动资源的示例。

[http://apidock.com/rails/ActiveResource/Base](http://apidock.com/rails/ActiveResource/Base)上的文档没有提供示例。

我有两个需要通信的 Rails 应用程序：APP1 (https://app1.mauroapplications.com)、APP2 (https://app2.mauroapplications.com)

我为每个应用程序（RSA）生成了公钥/私钥。APP2 拥有 APP1 (app1.pem) 的公钥，反之亦然。

在我的开发环境中，我有一个 SSL 的自签名证书。

如何在 APP2 中配置扩展 ActiveResource 的模型？

提前谢谢了，

毛罗

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-30T08:08:22.747

以下代码有效：

```
class Person < ActiveResource::Base
  self.site = 'https://api.people.com:3000/'
  self.ssl_options = {
    cert: OpenSSL::X509::Certificate.new(File.open('cert.pem')),
    key: OpenSSL::PKey::RSA.new(File.open('key.pem')),
    ca_file: 'ca.cert.pem',
    verify_mode: OpenSSL::SSL::VERIFY_PEER
  }
end 
```

`cert.pem`您的客户端证书、`key.pem`客户端的私钥和`ca.cert.pem`CA 证书（用于验证服务器证书）在哪里。

# monitoring - SSL/TLS 连接监控/分析

> ID：10881333
> 
> 赞同：0
> 
> 时间：2012-06-04T12:32:27.290
> 
> 标签：monitoring, analysis, ssl

我想向客户端显示我的客户端/服务器应用程序正在使用具有相互身份验证的安全连接。

我的服务器应用程序使用 C# 实现，客户端使用 C 和 OpenSSL。他们可以互相交谈并且工作正常。我正在尝试使用以下两种解决方案进行此演示，但我对结果不满意。

1.  使用**[SSLDump](http://www.rtfm.com/ssldump/ "SSL转储")**监控连接：

    > 下面列出了输出，似乎没有什么问题，但不确定。请帮我解决一下这个。

2.  使用**Wireshark**和**[Unsniff](http://www.unleashnetworks.com/products/unsniff.html)**监控连接，

    > 一个网络分析工具，可以给我一些高层次的分析结果，对我的演示很有帮助。但是当我使用这两个工具查看连接时，它们都显示协议是 TCP，我希望它们显示连接的协议是 SSL/TLS。

有任何想法吗？

> **SSLDump 的输出**：
> fan@ubuntu:~/Desktop$ sudo ssldump -i eth0 端口 9527 和主机 fan
> 新 TCP 连接 #1: 192.168.181.144(60992) <-> fan.local(9527)
> 1 1 0.0044 (0.0044) C >S Handshake
>       ClientHello
>         3.1 版
>         密码套件
>         未知值 0xc014
>         未知值 0xc00a
>         TLS_DHE_RSA_WITH_AES_256_CBC_SHA
>         TLS_DHE_DSS_WITH_AES_256_CBC_SHA
>         未知值 0x88
>         未知值 0x87
>         未知值 0xc00f         未知
>         值 0xc005         TLS_CBC_WITH_AES_SHA846
> 
>         Unknown value 0xc012
>         Unknown value 0xc008
>         TLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA
>         TLS_DHE_DSS_WITH_3DES_EDE_CBC_SHA
>         Unknown value 0xc00d
>         Unknown value 0xc003
>         TLS_RSA_WITH_3DES_EDE_CBC_SHA
>         Unknown value 0xc013
>         Unknown value 0xc009
>         TLS_DHE_RSA_WITH_AES_128_CBC_SHA
>         TLS_DHE_DSS_WITH_AES_128_CBC_SHA
>         Unknown value 0x9a
>         Unknown value 0x99
>         Unknown value 0x45
>         Unknown value 0x44 Unknown
>         value 0xc00e
>         Unknown value 0xc004
>         TLS_RSA_WITH_AES_128_CBC_SHA
>         Unknown value 0x96
>         Unknown value 0x41
>         Unknown value 0xc011
>         Unknown value 0xc007
>         Unknown value 0xc00c
>         Unknown value 0xc002
>         TLS_RSA_WITH_RC4_128_SHA
>         TLS_RSA_WITH_RC4_128_MD5
>         TLS_DHE_RSA_WITH_DES_CBC_SHA
>         TLS_DHE_DSS_WITH_DES_CBC_SHA
>         TLS_RSA_WITH_DES_CBC_SHA
>         TLS_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA
>         TLS_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA
>         TLS_RSA_EXPORT_WITH_DES40_CBC_SHA
>         TLS_RSA_EXPORT_WITH_RC2_CBC_40_MD5
>         TLS_RSA_EXPORT_WITH_RC4_40_MD5
>         未知值 0xff
>         压缩方法
>                 未知值
>                   NULL
> 1 2 0.2572 (0.2528) S>C Handshake
>       ServerHello
>         版本 3.1
>         session_id[32]=
>           5e 08 00 00 82 35 0d a1 2a 91 c2 ac cb 62 1e f5
>           d0 88 3a d64 a3 11 be 56 ef c4 fe 73 b7
>         cipherSuite TLS_RSA_WITH_RC4_128_MD5
>         compressionMethod NULL
>       Certificate
>       CertificateRequest
>         certificate_types rsa_sign
>         certificate_types dss_sign
>         certificate_authority
>           30 4f 31 15 30 13 06 0a 09 92 26 89 93 f2 2c 64
>           01 19 16 05 6c 6f 63 61 6c 31 19 30 17 06 0a 09
>           92 26 89 93 f2 2c 64 01 19 16 09 4f 62 6a 65 63
>           74 69 76 61 31 1B 30 19 06 06 03 55 04 04 03 13 12 4F           62
>           6A 65 63 74 69 74 69 76 61 2D 42 42 4A 50 44 44 44 43 2D 43 43 43
>           41
>         证书
> 31
>           14 30 12 06 03 55 04 0a 13 0b 41 64 64 54 72 75
>           73 74 20 41 42 31 26 30 24 06 03 55 04 0b 13 1d
>           41 64 64 54 72 75 73 74 20 45 78 74 65 72 72 6E 61 61
>           6C 20 54 54 50 20 4E 65 74 77 6F 72 6B 31B 31 2 31 22 30
>           20 06 03 55 04 03 55 04 03 13 19 41 64 64 64 64 64 54 54 54 54 72 74 20 45 74 20 45 45 74 20 45 45 74
>           20 45 78 74 65 72 6E 61 6C 20 43 41 20 52 6F 6F 6F
>           74
>         证书
>           _Athority 30 81 C1 31 0B 30 09 09 06 03 55 04 04 04 04 06 13 02 55 53
>           31 17 31 17 31 17 31 17 31 15 06 03 55 04 04 04 04 04 04 04 0A 13 0A 13
>           0E 6e 2c 20 49 6e 63 2e 31 3c 30 3a 06 03 55
>           04 0b 13 33 43 6c 61 73 73 20 31 20 50 75 62 6c
>           69 63 20 50 72 69 6d 61 72 79 20 43 65 72 74 69
>           66 69 63 61 74 69 6f 6e 20 41 75 74 68 6f 72 69
>           74 79 20 2D 20 47 32 31 3A 30 38 06 03 55 04 04 0B
>           13 31 28 63 29 20 31 39 39 39 38 20 56 65 72 69 53
>           69 53 69 69 67 67 6E 2C 20 49 6E 63 2E 63 2E 20 2E 20 2D 20 2D 20 46 6F 72 20
>           61 72 61 75 75 74 68 6F 72 69 7A 65 64 20 75 73 65 20 6F
>           6E 6C 79 31 1F 30 1D 06 06 03 55 04 0B 13 16 56 56 65
>           72 69 53 69 53 69 69 67 6E 20 54 72 72 75 75 73 74 20 4E 65 74 20 4E 65 74
>           72 6F 72 6F 72 6F 72 6F 72 6F 72 6F 72 6F 72 6F 72 6F 72 6F 72 6F 72 6B
>         certificate_authority
>         ...
>         certificate_authority
>           30 52 31 0b 30 09 06 03 55 04 06 13 02 55 53 31
>           0b 30 09 06 03 55 04 08 13 02 43 41 31 12 30 10
>           06 03 55 04 1 07 13 6 f 2 6c 74 6f
>           31 10 30 0e 06 03 55 04 0a 13 07 42 6f 78 2e 6e
>           65 74 31 10 30 0e 06 03 55 04 03 13 07 62 6f 78
>           2e 6e 65 74
>         certificate_authority
>           30 16 31 14 30 12 06 03 55 04 03 13 0b 58 59 5a
>           20 43 6f 6d 70 61 6e 79
>       ServerHelloDone
> 1 3 0.3889 (0.1316) C>S 握手
>       证书
> 1 4 0.3889 (0.0000) C>S 握手
>       ClientKeyExchange
> 1 5 0.3889 (0.0000) C>S 握手
>       证书验证
>         签名[256]=
>           02 fb a2 32 cd 1f 43 6e e7 1c b6 d8 8e a0 cc 49
>           6e 04 17 fa 8d 86 b0 a5 98 23 b0 19 ec f2 a5 8d
>           65 2d 31 81 73 96 43 89 19 81 ea 60 c8 12 4a 86           99
>           a5 b1 7b b5 29 ee 57 46 39 32 b4 f4 df 49 e
> c8 a2 e1 12 98 21 fa 75 87 9a 84 17 82 ba
>           72 a1 60 0a 44 3b 72 97 88 0c 44 0b 7c 14 f5 01
>           1b 47 90 fb c0 0e dc ae 91 c3 a4 38 c9 b7 c5 37
>           52 e1 fb d5 87 35 df a3 cb 28 ab 73 f6 c3
>           b5 11 48 fc db 9b 84 a2 35 b7 c8 42 df b0 7a 20
>           b3 20 52 f0 6c 29 ae 96 4c 32 2e ba afe 2e ad
>           2d ee 2e ed da 49 f7 55 38 29 7e 90 62 a7 03 4f
>           cd 76 14 36 b2 e0 a6 73 f2 7c c3 04 7f c1 a7 ca
>           db 5b 97 84 a7 df c3 e6 a5 15 0b f1 d6 bf e0 8b
>           7c 62 55 c9 2b 24 2d ac 8c 7b c8 72 70 9c ef 77
>           c4 5b d5 32 a8 30 6f e7 43 46 f9 47 05 c6 b9 4a
>           98 6b f4 b6 bd 82 14 ec 65 99 42 f0 a0 9b 18
> 1 6 0.3889 (0.0000) C>S ChangeCipherSpec
> 1 7 0.3889 (0.0000) C>S Handshake
> 1 8 0.5480 (0.1591) S>C ChangeCipherSpec
> 1 9 0.5480 S>C 握手
> 1 10 0.5502 (0.0022) C>S application_data
> 1 11 0.5513 (0.0011) C>S application_data
> 1 12 0.5517 (0.0004) C>S application_data
> 1 13 0.5521 (0.0004) C>S application_data
> 1 14 0.6444 (0.09) S>C application_data
> 1 15 9.8598 (9.2153) C>S application_data
> 1 16 10.2293 (0.3694) C>S application_data
> 1 12.3329 (2.1035) C>S TCP FIN
> 1 12.3401 (0.0072) S>C TCP FIN

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:36:23.343

这看起来像是与客户端和服务器证书交换的正常 SSL/TLS 协商。但是至少客户端和服务器看起来像是在运行 TLS 1.0。根据您的安全要求，使用 TLS 1.2 和更安全的分组密码可能会很好。

# asp.net - asp.net将参数传递给listview中的js函数

> ID：10881335
> 
> 赞同：0
> 
> 时间：2012-06-04T12:32:35.393
> 
> 标签：asp.net

我想在我的列表视图中将参数传递给我的 js 函数。我用一个参数做到了这一点。像那样 ：

```
 <asp:Button ID="btnRezAktar" runat="server" Text="Aktar" OnClientClick='<%# "SubmitPage(" + Eval("o_no") +" );"%>' />

 <script language="javascript">
        function SubmitPage(o_no) {
            window.opener.document.getElementById('txtRoomNo').value = o_no.toString();
            this.close();
        }
    </script> 
```

但我想传递两个参数，它不起作用：

```
<asp:Button ID="btnRezAktar" runat="server" Text="Aktar" OnClientClick='<%# "SubmitPage(" + Eval("o_no") + "," + Eval("k_ad") + " );"%>' />

 <script language="javascript">
        function SubmitPage(o_no, k_ad) {
            window.opener.document.getElementById('txtRoomNo').value = o_no.toString();
             window.opener.document.getElementById('txtNameSurname').value = k_ad.toString();
       this.close();
        }
    </script> 
```

那有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T14:26:55.730

```
OnClientClick='<%# Eval("o_no", "SubmitPage(\"{0}\", ") + Eval("k_ad", "\"{0}\")") %>' 
```

# inno-setup - 带参数的图标

> ID：10881336
> 
> 赞同：2
> 
> 时间：2012-06-04T12:32:35.780
> 
> 标签：inno-setup

我正在创建一个设置并遇到了问题。

为了完成安装，我需要运行我的程序，因为需要在安装的应用程序运行之前执行一些复杂的操作（从旧程序导入数据库、创建新数据库、选择数据库等），所以我通过 [RUN] 部分进行操作

```
[RUN]
Filename: "{app}\Config.exe"; Parameters: "{code:RunAscParams}"; Flags: waituntilterminated 32bit; Description: "Runing config" 
```

`Config.exe`创建带有一些值的 XML 文件。

由于我的应用程序可以与多个运行的数据库一起使用，我需要传递 XML 来指定要运行的配置

```
[Icons]
Name: "{group}\My APP"; Filename: "{app}\MyApp.exe"; Parameters:"<DBNAME>.xml" 
```

由于`DBNAME.xml`不是固定名称。XML 文件的名称是通过创建的`Config.exe`，取决于创建的数据库名称。

问题是我无法为该部分设置参数，`[Icon]`因为该部分位于部分`[Icons]`之前`[Run]`。

问题是在运行时可以添加图标吗？

# scala - Scala，Currying 多参数组方法，包括隐式参数？

> ID：10881340
> 
> 赞同：7
> 
> 时间：2012-06-04T12:32:48.590
> 
> 标签：scala, currying

在发现[柯里化多参数组方法是可能的](https://stackoverflow.com/q/10880982/595223)之后，我试图获得一个需要隐式参数的部分应用函数。

似乎不可能这样做。如果不是，你能解释一下为什么吗？

```
scala> def sum(a: Int)(implicit b: Int): Int = { a+b }
sum: (a: Int)(implicit b: Int)Int

scala> sum(3)(4)
res12: Int = 7

scala> val partFunc2 = sum _
<console>:8: error: could not find implicit value for parameter b: Int
       val partFunc2 = sum _
                       ^ 
```

我使用一个单例对象来创建这个部分应用的函数，并且我想在定义了隐式 int 的范围内使用它。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-04T13:29:18.803

那是因为您在范围内没有隐式 Int 。看：

```
scala> def foo(x: Int)(implicit y: Int) = x + y
foo: (x: Int)(implicit y: Int)Int

scala> foo _
<console>:9: error: could not find implicit value for parameter y: Int
              foo _
              ^

scala> implicit val b = 2
b: Int = 2

scala> foo _
res1: Int => Int = <function1> 
```

编译器将隐式替换为实际值。如果您对方法进行 curry，结果是一个函数，并且函数不能有隐式参数，因此编译器必须在您对方法进行 curry 时插入该值。

编辑：

对于您的用例，为什么不尝试以下方法：

```
object Foo {
  def partialSum(implicit x: Int) = sum(3)(x)
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-19T06:27:31.507

```
scala> object MySingleton {
 |   def sum(a: Int)(implicit b: Int): Int = { a+b }
 |  
 |
 |   def caller(a: Int) =  {
 |     implicit val b = 3; // This allows you to define the partial below
 |     def pf = sum _      // and call sum()() without repeating the arg list. 
 |     pf.apply(a)
 |   }
 | } 
defined module MySingleton

scala> MySingleton.caller(10)
res10: Int = 13 
```

# macos - 返回键在 minibuffer 内的 viper 模式下不起作用

> ID：10881346
> 
> 赞同：0
> 
> 时间：2012-06-04T12:33:41.437
> 
> 标签：macos, emacs, viper-mode, viper, emacs24

我的 MacBook 有两个回车键。

1.  一是退货
2.  其他是放置在右侧命令键旁边的输入键。

我最近开始使用 Emacs24。我注意到，每当我处于 viper 模式并发出任何命令时，例如

```
M-x toggle-viper-mode 
```

返回键不起作用。相反，我得到一个错误。

```
Wrong type argument: characterp, return 
```

我必须使用`fn`+`return`或`Ctrl`+`m`或`enter`.

如果我禁用 viper 模式，则`return`不会出现任何错误。

我尝试使用[Gnu Emacs 邮件列表存档](http://lists.gnu.org/archive/html/help-gnu-emacs/2003-01/msg00546.html)中的解决方案，但它不起作用。

```
(define-key function-key-map [return] [?\C-m]) 
```

我该如何修复它，以便返回键也可以与 viper 模式下的命令一起使用？

**更新**

未加载 viper 模式时返回键的 Ch k 的结果。

```
<return> runs the command autopair-newline, which is an interactive Lisp function in `autopair.el'.
It is bound to RET, <return>. 
```

未加载 viper 模式时输入键的 Ch k 的结果。

```
RET (translated from <kp-enter>) runs the command autopair-newline, which is an interactive Lisp function in `autopair.el'.
It is bound to RET, <return> 
```

加载 viper 模式时返回键的 Ch k 的结果。

```
<return> runs the command autopair-newline, which is an interactive Lisp function in `autopair.el'.
It is bound to RET, <return>. 
```

加载 viper 模式时输入键的 Ch k 的结果。

```
RET (translated from <kp-enter>) runs the command autopair-newline, which is an interactive Lisp function in `autopair.el'.
It is bound to RET, <return>. 
```

问题是当加载 viper 模式时，返回键在 minibuffer 中不起作用，尽管映射与您在上面看到的相似。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T12:54:35.980

因此，似乎`autopair-newline`在 viper 模式下无法正常工作。该函数的来源表示对“RET”键盘绑定进行了一些特殊处理。

# php - 使用 PHP 和 javascript 进行 HTML 表单验证的简单方法

> ID：10881347
> 
> 赞同：4
> 
> 时间：2012-06-04T12:33:41.803
> 
> 标签：php, javascript, ajax, validation

我正在开发一个 PHP 应用程序。它包含在 html 表单中。
我的问题是如何以一种简单的方式实现表单验证，而不需要在服务器（使用 PHP）和浏览器（使用 Javascript）上复制验证代码。
我设计了一种使用 ajax 的方法。当输入失去焦点（onblur 事件）时，它会使用它包含的数据对服务器进行 ajax 调用。如果值无效或为空字符串，则响应将是错误消息。但是代码在服务器和浏览器上都非常臃肿，并且可能非常错误。你能指出我正确的方向吗？输入验证总是那么复杂还是我应该使用不同的方法？非常感谢那些花时间阅读我的帖子的人，并感谢那些回答的人。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T16:26:27.400

我强烈推荐你**[Bassistance jQuery Validation 插件](http://bassistance.de/jquery-plugins/jquery-plugin-validation/)**。

**始终**与此一起实施强大的服务器端验证。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T16:29:23.990

我只是将数据发布到通过 ajax 验证所有内容的 php 中。然后我在一个 json 字符串中返回错误，每个错误都有失败的输入的名称和一个错误字符串。使用 jQuery，我循环遍历 json 对象，并将输入读取并列出错误字符串。您可以让表单提交给这个脚本，这样如果关闭了 javascript，表单就会被检查相同的 php 脚本。

```
function submitForm() {
$.ajax({
  type: 'post',
  url: 'cgi-bin/s_contact.php',
  data: $("#contact").serialize(),
  dataType: 'json',
  success: function(data) {
      if(data.answer == 'true') {
        $("#showErrors").removeClass("progressbar");
         $("#showErrors").html('<h2>Message Has Been Sent!</h2>');
         setTimeout(function() {
             window.location = $("#zsite").val(); 
         },2000);
      }
      else {
          se = $("#showErrors");
          se.removeClass("progressbar");
          se.html('');
          se.append('<ul id="showeror"></ul>');
          $.each(data,function(index,val) {
            $('input[name='+index+']').css('background-color','#ff9');
            $('#showeror').append('<li>'+val+'</li>');
          });
      }
  },
  error: function(msg) {
        alert('Error: '+msg.error); 
  }
}); 
```

}

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T12:46:02.763

您总是需要服务器端验证。但是，您可以通过依赖第三方库在客户端让您的生活更轻松。

进行基本验证的最简单方法是使用 HTML5。这包括必填字段、数字范围和正则表达式检查等内容。不需要第三方库，不支持 HTML5 的浏览器只会忽略验证。这没问题，因为输入将在服务器上进行验证。

另一种方法是使用[jQuery 验证扩展](http://bassistance.de/jquery-plugins/jquery-plugin-validation/)。使用这个库，您只需在表单字段中输出一些类。

如果您正在使用[Zend_Form](http://framework.zend.com/manual/en/zend.form.html)库来生成表单并进行验证，您可能已经看过这篇文章：[http ://codeutopia.net/blog/2008/04/04/client-side-validation-with-zend_form/](http://codeutopia.net/blog/2008/04/04/client-side-validation-with-zend_form/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-04T23:34:01.853

如果您使用一个好的 javascript 验证插件，您会发现它们非常适合您的服务器端验证。我可能需要进一步解释这一点，所以请耐心等待。我会参考[http://rickharrison.github.com/validate.js/](http://rickharrison.github.com/validate.js/)来帮助我，但还有很多其他的。

就个人而言，我使用 Symfony 表单框架进行验证，但您可以使用其他框架或自行尝试。重要的是，您只需**定义一组验证规则，**这些规则又可用于驱动客户端验证。

这样您就不会在两个单独的验证过程之间出现任何不一致，从而确保您的应用程序是 DRY。此外，您的客户端验证可以与页面一起加载，因为这些规则已在您的服务器端代码中预定义，您不需要所有这些 ajax 请求。

如果您不熟悉任何 PHP 表单框架或我定义您的验证规则的意思，我可以让事情变得更清楚一些。

下面的数组可用于在服务器端循环两个 $_POST 字段，电子邮件和号码。这些信息也可以很容易地传递给客户端验证器（例如 json_encode($validators)）。您可能需要稍微修改一下，这取决于客户端期望其规则的格式。但更重要的是，您的验证逻辑存储在一个地方。

```
$validators = array(
   'email' => array(
       'rules' => array(
           'blank' => false,
           'invalid' => '/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i',
       ),
       'messages' => array(
           'blank' => 'Missing email',
           'invalid' => 'Invalid email',
       ),
    ),
    'number' => array(
       'rules' => array(
           'blank' => false,
           'invalid' => '/\d/',
       ),
       'messages' => array(
           'blank' => 'Missing number',
           'invalid' => 'Not a number'
       ),
     ...... 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-04T12:39:34.040

输入验证非常复杂。您需要确保输入对您的数据类型完全有效。这通常包括每个项目的自定义验证。客户端和服务器端验证都没有替代品。

客户端验证提供了一个简洁的 ui。用户输入的每一件事都可以并且应该在客户端进行验证，这样就不必向服务器发出请求（减少延迟）。这并不意味着它可以替代服务器端验证，因为任何人都可以看到通过诸如 firebug 之类的工具发出的请求并将他们想要的任何数据提交到您的服务器。

在服务器端，您必须确保数据属于预期类型，否则您可能会面临 sql 注入或许多其他恶意攻击。

这实际上是一个很好的理由来查看许多 php mvc 框架中的任何一个。大多数包含表单助手，这将显着减少您为验证而编写的代码。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-04T12:42:23.313

始终使用服务器端脚本来检查输入，因为如果您为此使用客户端（javascript），那么任何人都可以通过使用各种技术（如禁用 javascript 等）来愚弄您。

# c# - 使用 MessageFilter 在控件上捕获 Click 事件

> ID：10881350
> 
> 赞同：1
> 
> 时间：2012-06-04T12:33:47.323
> 
> 标签：c#, .net, events

我试图用 和 来捕捉我的应用程序控件上的点击`IMessageFilter`事件`PreFilterMessage`。但我只实现了捕捉鼠标点击，而不是来自控件的事件。

在我的应用程序中，我需要来自控件的消息来记录控件的名称和类型。

我使用以下代码来捕获鼠标事件`if (m.Msg >= 513 && m.Msg <= 515)`：

```
public class TestMessageFilter : IMessageFilter
{
    public bool PreFilterMessage(ref Message m)
    {
        // Filter click events with a message number ?
        if (m.Msg == ?)
        {
            // Log stuff
        }
        return false;
    }
} 
```

有没有办法使用 IMessageFilter 或其他过滤器捕获 Click 事件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T15:11:14.510

不（一句话）。MessageFilter 就是它在锡上所说的，它过滤系统窗口消息。它与托管代码无关，它正在侦听 Windows 消息并过滤它们。

但是，一旦被捕获，您就可以对消息做出反应并做任何您喜欢的事情 - 即调用您想要的托管代码、跟踪键或鼠标位置等。在您的情况下，您需要找到鼠标位置并检查点击是否结束一个控件，然后手动调用点击事件。

# perl - 如何在 Windows 中杀死进程树

> ID：10881353
> 
> 赞同：10
> 
> 时间：2012-06-04T12:33:52.687
> 
> 标签：perl, winapi, process, kill

嗨，我有这个进程树：

![在此处输入图像描述](../Images/381290b572234f2c9688026fd81d8c85.png)

上面的屏幕截图显示了一个进程树。在我的 Perl 脚本中，我知道 dscli 的 PID。我编写了以下代码来杀死单个 PID：

```
use Win32::Process;
use strict;
use warnings;

if(defined($ARGV[0])){
    my $pid = "$ARGV[0]";
    my $exitcode = 0;
    Win32::Process::KillProcess($pid, $exitcode);
}else{
    print "No argument provided :(\n";
} 
```

问题是在我的脚本中我不知道 java 进程的 PID。我必须得到 dscli 的子 PID，它是 java 进程。如果我使用上面的代码杀死了 dscli 的 PID，那么孩子（java）不会因此而死。

所以我的问题是，如何使用 perl 杀死作为 dscli 子级的 java 进程？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-04T15:27:57.140

您可以使用 Windows 命令`TASKKILL /T`终止进程及其子进程。

```
$pid = ...;
system("TASKKILL /F /T /PID $pid"); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-04T15:27:29.740

可以使用[PERL 中的 WMI](http://talhatariq.wordpress.com/2006/06/20/a-perl-script-to-list-process-info-through-wmi-local-remote/)。WMI 能够[找到给定父进程的所有子进程的 PID](http://www.codequake.com/post/2010/09/11/How-to-get-a-list-of-child-processes-using-WMI-and-C.aspx)。注意查询`"select * from win32_process where ParentProcessId={0}"`。如果您有子 PID 列表，则可以调用`Win32::Process::KillProcess`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T20:53:32.543

我还建议使用 WMI，但您可能只想从 Perl 调用 VBScript。这是我用来通过命令行杀死的脚本，它可以帮助您根据启动时命令行中的其他内容来缩小特定的 java 进程：

```
If WScript.Arguments.Count = 1 Then
strProcess = WScript.Arguments.Item(0)
On Error Resume Next
strComputer = "."
Set objWMIService = GetObject("winmgmts:" _
    & "{impersonationLevel=impersonate}!\\" & strComputer & "\root\cimv2")
Set objShell = CreateObject("WScript.Shell")
Set colProcessList = objWMIService.ExecQuery _
    ("Select * from Win32_Process")

If colProcessList.Count > 0 Then
    For Each objItem in colProcessList
        If InStr(objItem.CommandLine, strProcess) Then
            If (InStr(objItem.CommandLine, "cscript")) Then
            Else
                WScript.StdOut.Write objItem.Name + " "
                objItem.Terminate()
            End If
        End If
    Next
Else
    WScript.StdOut.Write "No instances found running"
End If
Else
WScript.StdOut.Write "Bad Arguments"
End If 
```

像这样运行它：

CScript whatEverYouNameIt.vbs "somethingInCommandLineLikeAClassName"

# html - 如何在 Windows 8 Metro App 中处理 HTML 内容

> ID：10881357
> 
> 赞同：12
> 
> 时间：2012-06-04T12:34:14.663
> 
> 标签：html, windows-8, microsoft-metro

我正在设计一个 Windows 8 阅读器应用程序，我必须使用一个控件来显示 HTML 内容，这些内容是从一些网站提要中获取的。因为那些 HTML 内容可能包含图像或其他格式的文本，现在我使用 Richtextblock 来显示 HTML 内容，但是解析 HTML 内容需要花费大量时间。

所以我想知道是否有任何控件可以处理除了 WebView 之外的 HTML 内容。

谢谢。

更新：我不能使用 WebView 的原因是我需要实现分页，如下图：

![在此处输入图像描述](../Images/6c6ceef333bf34a7e72ba97a0b70b43e.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T18:18:56.540

As JP Alioto mentioned you should use the [WebView](http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.webview) control.

You can use the [NavigateToString](http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.webview.navigatetostring) method to load the HTML. Or use [Navigate](http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.webview.navigate) to request a URI.

There are issues however with using the WebView control, specifically it is rendered differently and is not a standard control, this means things like your app bar or settings pane will not render on top of the WebView, there is a workaround by using the [WebViewBrush](http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.webviewbrush) to "paint" the WebView to standard control such as a rectangle when needed.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-24T14:14:52.830

您还可以对要显示的网页进行屏幕截图。但是要对网页进行截图也不是一件容易的事，但我提供了一些特殊的网站来制作它，这些网站是为了截取其他网站而创建的。然后，您可以下载此站点返回的图像并在您的 Windows 8 应用程序中打开并显示它。我向您展示了一些示例，我是如何做到的：

```
 StorageFolder screens = await Windows.ApplicationModel.Package.Current.InstalledLocation.CreateFolderAsync(@"Screens\" + folderName, CreationCollisionOption.GenerateUniqueName);
 var downloader = new BackgroundDownloader();
 IStorageFile file = await screens.CreateFileAsync(fname, CreationCollisionOption.GenerateUniqueName);
 string my_uri = "http://api.snapito.com/web/e3c351d5994134eb1aea855ce78e296c3292d48a/lc/" + url + "?type=jpeg";
 DownloadOperation download = downloader.CreateDownload(new System.Uri(my_uri), file);
 await download.StartAsync(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-28T11:19:21.430

我认为只有两种选择，但都不是很好：

*   使用 WebView 并使用 CSS 和其他技术转换您的 HTML 以使其看起来原生。使用`ScriptNotify`and`NavigationStarting`和其他事件导航到另一个页面。在 W8.1 中，WebView 要好得多（例如，被视为常规控件而不是浮动在所有其他控件之上，...）

*   解析您的 HTML 并生成原生元素。我开始了这样的实现并创建了一个 XAML 控件来显示带有本机控件的 HTML（请参阅[https://mytoolkit.codeplex.com/wikipage?title=HtmlTextBlock](https://mytoolkit.codeplex.com/wikipage?title=HtmlTextBlock)）。但是，如果您有复杂的 HTML（例如 iframe 等），这可能不起作用，并且您别无选择，只能使用 WebView 控件。

# .net - WPF TabControl中的滚动内容溢出

> ID：10881361
> 
> 赞同：3
> 
> 时间：2012-06-04T12:34:40.640
> 
> 标签：.net, wpf, wpf-controls

我有一个`TabControl`显示`UserControl`s 的 WPF。有些`UserControl`s 比 the 大`TabControl`并且被剪裁了，所以我修改了它的模板，将 a 包裹`ContentPresenter`在 a`ScrollViewer`中`HorizontalScrollBarVisibility`并`VerticalScrollBarVisibility`设置为`"Auto"`。

这个解决方案的问题是，现在`UserControl`托管的相对大小的 s`TabControl`比他们应该的宽了数千像素，因为`ScrollViewer`它不限制它们的大小。

如何在 WPF 中实现内容溢出滚动`TabControl`而不使其相对大小的内容不成比例地增长？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T10:31:10.000

我最终使用了这篇博文中描述的解决方案：

[什么时候滚动？ScrollViewer 内无限大小的 UI 元素的问题](http://noamlewis.wordpress.com/2012/01/23/when-to-scroll-the-problem-of-infinite-sized-ui-elements-inside-a-scrollviewer/)

总结一下基本思路：

> 所以，解决方案似乎很简单：我们可以告诉 ScrollViewer 具有双重行为：
> 
> *   如果可用屏幕尺寸小于某个最小值，则允许滚动，并将内容可用的尺寸设置为该最小尺寸。
>     
>     
> *   如果可用屏幕尺寸大于最小值，则表现得像一个常规容器，只为其子容器提供它在屏幕上的空间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T14:11:27.957

你必须固定高度或宽度

或者

尝试将您的内容控件放入 ScrollViewer

# java - 在 WEKA 中为 HierarchicalClustering 类设置 LinkType

> ID：10881364
> 
> 赞同：0
> 
> 时间：2012-06-04T12:34:45.413
> 
> 标签：java, machine-learning, data-mining, weka

我在 WEKA 中遇到了 HierarchicalClusterer 类的以下文档：

```
public void setLinkType(SelectedTag newLinkType) 
```

如何将此分层集群器类中的集群的衬里类型设置为 COMPLETE？SelectedTag 类根本没有这个值。

谢谢阿布舍克 S

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T11:22:05.533

该类`SelectedTag`对任何特定算法没有任何价值。

这些`Tag`值在算法中定义。你必须*选择*它们。

# java - EJB3 无状态会话 Bean 是否允许继承？

> ID：10881365
> 
> 赞同：3
> 
> 时间：2012-06-04T12:34:51.513
> 
> 标签：java, java-ee-6, cdi, ejb-3.1, openejb

假设我有一个无状态 bean：

```
@Stateless(name = "fooBean")
@LocalBean
public class Foo {
...
} 
```

我想创建一个用于测试的模拟（使用 CDI）

```
@Alternative @Specializes
public class FooMock extends Foo {
...
} 
```

我在 中注册了模拟`beans.xml`，当我使用 OpenEJB 运行它时，出现以下异常：

```
...
Caused by: javax.naming.NameAlreadyBoundException:
openejb/Deployment/fooBean/com.company.Foo!LocalBeanHome 
```

在我看来，容器创建了一个接口，`Foo`因为`@LocalBean`它现在`FooMock`也由 实现。OpenEJB 尝试将两个具有相同名称且生成的接口相同的类绑定，这是不可能的。

当然，如果我在课堂上发表评论`@Stateless`，效果很好。`@LocalBean``Foo`

有什么想法或建议来解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-07T13:25:32.747

而是做类似的事情：

```
@Local
public interface Foo {
...
}

@Stateless
public class FooBean implements Foo {
...
} 
```

然后做你的模拟。

```
@Alternative
@Specializes
public class FooMock implements Foo {
...
} 
```

但是，我建议您看一下[Arquillian](http://www.jboss.org/arquillian.html)，它将使您的测试变得更加容易，而无需 @Alternative 和特殊的 beans.xml 条目进行测试。

# hibernate - 使用来自 @Embedded Hibernate 对象的字段来指定 id

> ID：10881367
> 
> 赞同：1
> 
> 时间：2012-06-04T12:35:03.207
> 
> 标签：hibernate

我正在尝试确定是否有一种方法可以使用 ID 中嵌入对象的字段。

这是我所拥有的课程的简化版本。

```
@Embeddable
class Entry {
    private String a;
    private String b;
    private String c;

    private Entry() {...}

    // getters and setters

    // public static factory to generate instance of Entry
}

@Entity
@Table(name = "Entry_X")
class EntryX {

    // I want EntryX to use fields 'a' and 'b' on Entry for its ID

    @Embedded private Entry entry;

    public EntryX() {...}
}

@Entity
@Table(name = "Entry_Y")
class EntryY {

    // I want EntryY to use fields 'a', 'b', and 'c' on Entry for its ID

    @Embedded private Entry entry;

    public EntryY() {...}
} 
```

我无法修改“Entry”类，因为它是作为外部进程的一部分生成的。对生成器的任何更改请求都至少需要 1 次迭代才能实现，所以我必须使用我目前拥有的东西。

编辑：我在上面说了一个小谎言。我可以对 Entry 进行一些小改动。我可以通过生成器向类及其方法添加注释。我不能做诸如更改条目字段和成员的访问类型之类的事情。

Entry 的构造函数目前是私有的，所以我不能使用 @MappedSuperclass 和扩展方法。

似乎@Embeddable 方法几乎可以让我到达那里，但我就是找不到正确构造 EntryX 和 EntryY 的 id 的方法

任何帮助将不胜感激

# c# - 如何在 C# 中更改语音合成器的性别和年龄？

> ID：10881370
> 
> 赞同：23
> 
> 时间：2012-06-04T12:35:24.593
> 
> 标签：c#, speech, synthesizer

我想`System.Speech`在 c# 中更改声音的性别和年龄。例如，一个10岁的女孩，但找不到任何简单的例子来帮助我调整参数。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-06-04T12:50:14.477

[`GetInstalledVoices`](http://msdn.microsoft.com/en-us/library/system.speech.synthesis.speechsynthesizer.getinstalledvoices.aspx)首先，通过枚举类的方法检查你安装了哪些声音[`SpeechSynthesizer`](http://msdn.microsoft.com/en-us/library/ms596245)，然后使用[`SelectVoiceByHints`](http://msdn.microsoft.com/en-us/library/ms586877)选择其中一个：

```
using (SpeechSynthesizer synthesizer = new SpeechSynthesizer())
{
    // show installed voices
    foreach (var v in synthesizer.GetInstalledVoices().Select(v => v.VoiceInfo))
    {
        Console.WriteLine("Name:{0}, Gender:{1}, Age:{2}",
          v.Description, v.Gender, v.Age);
    }

    // select male senior (if it exists)
    synthesizer.SelectVoiceByHints(VoiceGender.Male, VoiceAge.Senior);

    // select audio device
    synthesizer.SetOutputToDefaultAudioDevice();

    // build and speak a prompt
    PromptBuilder builder = new PromptBuilder();
    builder.AppendText("Found this on Stack Overflow.");
    synthesizer.Speak(builder);
} 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-06-04T12:38:36.627

[http://msdn.microsoft.com/en-us/library/system.speech.synthesis.voiceage.aspx](http://msdn.microsoft.com/en-us/library/system.speech.synthesis.voiceage.aspx) [http://msdn.microsoft.com/en-us/library/system.speech.synthesis.voicegender.aspx](http://msdn.microsoft.com/en-us/library/system.speech.synthesis.voicegender.aspx)

你看过这个吗？

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-03-16T10:12:25.153

首先，您需要使用添加参考来初始化参考语音。

然后为发言开始创建一个事件处理程序，然后您可以编辑该处理程序中的参数。

在处理程序中，您可以使用

```
synthesizer.SelectVoiceByHints(VoiceGender.Male , VoiceAge.Adult); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-02-17T15:15:41.247

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;
using System.Speech.Synthesis; // first import this package

    namespace textToSpeech
    {
        public partial class home : Form
        {
            public string s = "pran"; // storing string (pran) to s

            private void home_Load(object sender, EventArgs e)
                {
                    speech(s); // calling the function with a string argument
                }

            private void speech(string args) // defining the function which will accept a string parameter
                {
                    SpeechSynthesizer synthesizer = new SpeechSynthesizer();
                    synthesizer.SelectVoiceByHints(VoiceGender.Male , VoiceAge.Adult); // to change VoiceGender and VoiceAge check out those links below
                    synthesizer.Volume = 100;  // (0 - 100)
                    synthesizer.Rate = 0;     // (-10 - 10)
                    // Synchronous
                    synthesizer.Speak("Now I'm speaking, no other function'll work");
                    // Asynchronous
                    synthesizer.SpeakAsync("Welcome" + args); // here args = pran
                }       
         }
    } 
```

*   使用“SpeakAsync”会是更好的选择，因为当“Speak”函数正在执行/运行时，其他任何函数都不会工作，直到它完成它的工作（个人推荐）

[改变 VoiceGender](https://msdn.microsoft.com/en-us/library/system.speech.synthesis.voicegender.aspx)
[改变 VoiceAge](https://msdn.microsoft.com/en-us/library/system.speech.synthesis.voiceage.aspx)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-10-26T21:32:33.067

这些年龄和性别实际上是没有用的。如果您的 windows 中安装了许多声音，那么您可以通过这些参数调用特定的声音。否则，简直就是假的！

# android - android将图像切成10等份

> ID：10881373
> 
> 赞同：0
> 
> 时间：2012-06-04T12:35:39.930
> 
> 标签：android, bitmap

我有图像，我想将其垂直切成 10 块等高，因此 hdpi 切片尺寸为 800*48（横向应用程序）。我有以下代码不起作用

```
public void convertBitmapinSlices(){
        Bitmap tempBitmap;
        try{
            Paint paint = new Paint();
            paint.setFilterBitmap(true);     
            tempBitmap = BitmapFactory.decodeResource(getResources(), R.drawable.img1); 
            int targetWidth  = (int) Methods.dpToPx(tempBitmap.getWidth(), this);
            Log.v("TARGET_WIDTH", Integer.toString(targetWidth));            
            int targetHeight = (int) (Methods.dpToPx(tempBitmap.getHeight(), this)/10);
            Log.v("TARGET_HEIGHT", Integer.toString(targetHeight));
            Bitmap targetBitmap = Bitmap.createBitmap(targetWidth, targetHeight,Bitmap.Config.ARGB_8888);
            RectF rectf = new RectF(0, 0, targetWidth, targetHeight);
            Canvas canvas = new Canvas(targetBitmap);
            Path path = new Path();
            path.addRect(rectf, Path.Direction.CW);
            canvas.clipPath(path);
            int starty=0;
            lLforGardenImages.removeAllViews();
           for(int i=1; i<=10;i++){
               Log.v("SRC-Height", Integer.toString(targetHeight*i));
               Log.v("START-Y", Integer.toString(starty));
                canvas.drawBitmap(tempBitmap, new Rect(0, starty, tempBitmap.getWidth(), (tempBitmap.getHeight()/10)+starty),
                                new Rect(0, 0, targetWidth,targetHeight), paint);
               // Matrix matrix = new Matrix();
               // matrix.postScale(1f, 1f);
                Bitmap resizedBitmap = Bitmap.createBitmap(targetBitmap, 0, 0, targetWidth, targetHeight, null, true);
                Log.v("Width after Resizing ", resizedBitmap.getWidth()+"");
                Log.v("Height  after Resizing ", resizedBitmap.getHeight()+""); 
                BitmapDrawable bd = new BitmapDrawable(resizedBitmap);
                ImageView iv = new ImageView(this);
                iv.setAdjustViewBounds(true);
                iv.setBackgroundDrawable(bd);
                lLforGardenImages.addView(iv, llayoutParams);
                if((i % 2) == 0){
                    iv.startAnimation(sliderAnimation(-1.0f,0.0f,0.0f,0.0f,1000));
                }else{
                    iv.startAnimation(sliderAnimation(1.0f,0.0f,0.0f,0.0f,1000));
                }
                starty= starty+targetHeight;
             }

        }
        catch(Exception e){
            System.out.println("Error1 : " + e.getMessage() + e.toString());
      }
} 
```

知道我做错了什么吗？

输出是切片不正确并且内容似乎具有较小的高度但切片的高度是正确的，即 48 并且宽度也是正确的。因此，上述代码的唯一问题是即使切片高度正确，内容高度似乎也不正确。

# java - 无法在应用于 AJAX 的多个类上设置 CSS

> ID：10881374
> 
> 赞同：0
> 
> 时间：2012-06-04T12:35:42.393
> 
> 标签：java, css, ajax, jsf, richfaces

我正在使用richfaces 来获得一些快速的AJAX 小部件，但我在设置CSS 参数时遇到了麻烦。

![HTML 代码](../Images/5b9c53abf6b678b3dd7c4bcc8e292873.png)

如您所见，生成的代码具有以下类名：“rf-ds rpds”。然而，将样式应用于“.rf-ds”或“.rpds”并没有做任何事情。

```
.rpds{
    width:100%; 
} 
```

知道为什么吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:40:28.093

您的样式很可能在其他地方被覆盖，您可以通过放置来检查它`!important`：

```
.rpds{
    width:100% !important; 
} 
```

你需要弄清楚是什么覆盖了它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T13:14:26.947

显然，您不能在 Richfaces 的数据滚动条上应用 CSS。

这样做的好方法是根据您的数据滚动器或相反的方式重新渲染您的数据表。

JSF 2.0 代码：

```
 <h:form id="productSearchForm" >
        <rich:dataTable id="listeProduits" rows="3" value="#{rpb.myDataList}" var="liste"  reRender="scroller" >
            <f:facet name="header">
                <rich:columnGroup >
                    <h:column><h:outputText value="Gamme" /></h:column>
                    <h:column><h:outputText value="Famille" /></h:column>
                    <h:column><h:outputText value="Produit" /></h:column>
                </rich:columnGroup>
            </f:facet>
                <h:column><h:outputText value="#{liste.gamme}" /></h:column>
                <h:column><h:outputText value="#{liste.famille}" /></h:column>
                <h:column><h:outputText value="#{liste.nom}" /></h:column>
            <f:facet name="footer">
                <rich:dataScroller id="scroller" for="listeProduits" maxPages="10" />
            </f:facet>
        </rich:dataTable>
    </h:form> 
```

在这种情况下，数据表被重新渲染（重绘）到数据滚动器大小。

# asp.net-mvc-3 - MVC3 上 App_Start 的用途（使用 Ninject.MVC3 创建）

> ID：10881375
> 
> 赞同：3
> 
> 时间：2012-06-04T12:35:43.697
> 
> 标签：asp.net-mvc-3

根据下面的 Ninject MVC3 指令，App_Start 文件夹通过 Nuget 包创建： [https ://github.com/ninject/ninject.web.mvc/wiki/Setting-up-an-MVC3-application](https://github.com/ninject/ninject.web.mvc/wiki/Setting-up-an-MVC3-application)

App_Start 下的文件什么时候执行？因为我在 Global.asax 上没有看到任何调用 App_Start 文件夹下的类的内容。

此外，将文件保存在此目录下而不是 global.asax 是否有优势？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T18:39:33.583

我不具体了解 Ninject，但 *App_Start* 背后的一般想法是能够安装/卸载使用 Application_Start 代码的 nuget 包，而无需接触 Global.asax.cs。

在我看来，它应该被命名为 *App_Events*。如果包为 Application_BeginRequest、_EndRequest、_Error 等添加代码，则 *App_Start* 没有意义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T12:39:13.063

出色地。没什么:) 这只是惯例。

有趣的部分`WebActivator.PreApplicationStartMethod`在代码文件中。它告诉 ASP.NET 运行指定的方法。

# mysql - 使用带有大量记录的 where 子句“1 = 1”的 dbquery 时的 MYSQL 性能影响

> ID：10881383
> 
> 赞同：-2
> 
> 时间：2012-06-04T12:36:26.620
> 
> 标签：mysql, performance, where-clause, where

我正在为一项 mysql db 查询性能改进任务工作，我遇到了一个“where 子句为 1=1”的查询。

我的问题是，以下两个数据库查询的执行时间在性能方面有什么不同

1.  `Select * from Table1 where 1=1`

2.  `Select * from Table1`

> 记录数：一个客户的表 1 为 159954
> 
> 第二个客户的 table1 的记录数：2452798。

在某些情况下，该表与另一个具有相同 where 子句的表连接`1=1`。

mysql查询编译器可以在执行时优化这个查询吗？

MySQL 服务器 5.1 版本

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:40:35.440

两者都相同，因为两者都会获取所有记录，因此没有那么大的区别。这里`1 = 1`永远是真的。

```
1)Select * from Table1 where 1=1  

2)Select * from Table1 
```

请参阅同一主题的其他帖子

[WHERE 1 在 MySQL 查询中的重要性](https://stackoverflow.com/questions/1983655/importance-of-where-1-in-mysql-queries)

[“其中 1=1”语句](https://stackoverflow.com/questions/8149142/where-1-1-statement)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T12:41:41.713

这两个查询返回相同的行集，并且它们将具有相同的运行时间。

经常使用的原因`1=1`是为了简化生成计算机生成`where`从句的过程；所有非玩具 RDBMS 引擎的优化器都会忽略此条件，因为`true`. 在 Stack Overflow 上搜索有关如何`1=1`帮助生成查询的说明。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-10T02:05:36.390

对于那些从事计算机体系结构的人，我想我们都会同意，如果将 WHERE 1 = 1 更改为 WHERE true，则计算量会减少。较少涉及寄存器，编译器无需将 1 = 1 标记为更小的计算。

因此，在您构建查询的情况下，为简单起见，您需要具备第一个条件，查询可能如下所示：

SELECT * FROM `user`WHERE true AND UserID = 1

真的，我们在这里谈论非常非常小的计算。不太可能仅通过发布此堆栈溢出问题来为您节省所需的计算量。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-04T12:40:07.343

在您的查询之前加上解释或打开查询分析器，您会发现。我想 1=1 将是一个非常小的开销，几乎不引人注意。

# java - 像 Class 这样的标头，用于在 Java 中定义常量

> ID：10881385
> 
> 赞同：-1
> 
> 时间：2012-06-04T12:36:27.893
> 
> 标签：java

> **可能重复：**
> [如何在 Java 中定义一个常量类？](https://stackoverflow.com/questions/479565/how-do-you-define-a-class-of-constants-in-java)

我想在我的包中定义一个类，只包含像 C 中定义的常量值。我是一名学习 Java 的 C 程序员，所以也许这就是为什么我仍然想要一些像类这样的标题:)

为此，这是我的课程：

```
package com.myclasses
public class defines{

public static byte final ID_1= 0x01;
public static final ID_2= 0x02;

public static String company_name="XYZ";

} 
```

然后在同一个包中的另一个类的某个地方，我使用这些定义如下：

```
byte idval = defines.ID_1;

... and so on. 
```

我的问题是对于这样一个“标题”类，定义它的最佳方式是什么？

它只有静态变量，所以我应该定义类也是静态的吗？

那么访问修饰符呢？由于它在其中定义，我认为它可以“公开”。

请指教。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T12:43:57.567

别

几乎没有任何常数本身具有价值。它们只有在上下文中才有意义。该上下文是一个真实的类，即具有实例（至少一个）的类。声明该类中的常量。

至于修饰符：尽可能缩小范围：如果仅在声明它们的类内部使用，则为私有，如果使用该类的任何人也需要常量，则为公共。

如果您在一个类中声明多个相同类型的常量，请考虑枚举是否更有意义。

是的，常量应该是静态的。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-04T12:42:59.037

这种模式被称为“常量类”模式（我认为）。

使用它的一种方法是使其成为一个`interface`和`implement`它，然后您将获得“免费”的参考：

```
public interface Defines {
    static byte final ID_1= 0x01;
    static final ID_2= 0x02;
    // etc
}

public class MyClass implements Defines {
    byte idval = ID_1; // Note: No need to refer to the class "Defines" here
} 
```

但大多数人认为这是一种反模式，因为它不是真正的接口（它没有方法）。尽管如此，它还是很酷的，并且可能是您轻松进入 Java 的好方法。

“标准”方法是定义一个“实用程序类”，它只有静态字段和方法，给它一个私有构造函数来强调你不应该创建其中之一。这就是你所做的——继续做。

如果您有一些常量是“同一事物”的不同值，例如指南针上的方向等，强烈考虑使用`enum`. 你应该阅读它们。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T12:48:25.560

使用最终类

```
eg : public final class defines {

         // private constructor     
         private defines() {
         }
     } 
```

常量应定义为

```
public static final <type> constantName = <value>; 
```

在这种情况下不建议使用枚举，因为当我们有常量之间存在某种关系时，应该使用枚举。

拥有这样的实用程序类是我们在项目中用来定义需要跨项目访问的常量的方法。

如果您只需要某个类中的常量，那么在类本身中定义它们将是最好的解决方案。例如：

```
private static final <type> constantName = <value>; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-04T12:43:07.260

只需使用 Java 中的接口来定义所有常量..

```
public interface Const {

String GOVERNMENT = "Government";

String PUBLIC = "Public";

...

} 
```

你也可以使用类。

# reporting-services - 如何将多个值传递给向下钻取报告？

> ID：10881387
> 
> 赞同：0
> 
> 时间：2012-06-04T12:36:38.537
> 
> 标签：reporting-services, ssrs-2008

我正在使用 sql 2008。我在报告中有一个矩阵。数据如下

```
                数学 英语 科学   
性别 5 3 4
 男 1 2 2
 女 4 1 2

```

计数显示通过各个科目的学生人数。数据按性别分组当用户点击计数时，它将被重定向到子报告。现在我想将学生 ID 传递给子报告以仅显示该学生。我尝试过加入、拆分，但这些函数只能与参数一起使用。不是字段。基本上我想将逗号分隔的学生 ID 字符串传递给子报告。

我在谷歌上搜索过，但没有找到任何解决方案。所以等待解决。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T22:53:02.003

我最近通过在 tablix 控件中设置单击操作来完成此操作。本质上，我去了*Text Box Properties*我去了*Action*然后将操作设置为*Go to URL*。然后，我为以下内容添加了一个表达式（您可以根据目标报告名称和参数对其进行修改）：

```
=IIf(
    Parameters!p_hide_links.Value="y", 
    Nothing, 
    "javascript: void( window.open('http://' + window.location.host + '/ReportServer/Pages/ReportViewer.aspx?/Property+Management/" & replace(Parameters!i_this_report.Value, " ", "+") & 
    "&p_from_date=" & Parameters!p_from_date.Value &
    "&p_to_date=" & Parameters!p_to_date.Value &
    "&p_lease_exec=" & Fields!submitted_by.Value &
    "&p_building_state=" & Parameters!p_building_state.Value &
    "&p_division_id=" & Parameters!p_division_id.Value &
    "&p_building_id=" & Parameters!p_building_id.Value &
    "&p_view_type=d" &
    "') );"
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T05:57:50.280

这可能是您正在寻找的答案：

右键单击任何文本框选择 TextBox Properties 并按照下面的 jpg 进行操作。

![在此处输入图像描述](../Images/87bc54d028f2a3061ff58ef25ce0911f.png)

现在从下拉列表中选择详细报告[如果不存在则创建新报告]

传递您想要的任何参数，这将类似于此子报表的输入参数，并使用您可以在报表视图上显示的任何详细信息数据集。

如果您在这方面遇到任何问题，请告诉我。

# facebook - 查找公共事件的 FQL 查询

> ID：10881388
> 
> 赞同：2
> 
> 时间：2012-06-04T12:36:40.507
> 
> 标签：facebook, location, facebook-fql, latitude-longitude, facebook-events

我想执行 FQL 查询以检索特定区域中的所有公共事件（使用经度、纬度和最大距离或简单的位置名称）。你知道这是否可能吗？

显然，有人能够以某种方式做到这一点：[http ://elmcity.info/fb_events?location=tokyo](http://elmcity.info/fb_events?location=tokyo)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-05T15:39:59.853

确实可以使用基于位置的“搜索”接收事件为此，您需要要搜索的位置的经度和纬度坐标以及具有 user_events 权限的 access_token（我认为您也可以使用公共搜索）

这是一个 FQL 示例，您如何获取某个位置附近的所有事件。（从您和您的朋友活动中搜索）：

```
$lat = "40";
$long = "30";

// using offset gives us a "square" on the map from where to search the events
$offset = 0.4;

$events = 'SELECT pic_big, name, venue, location, start_time, eid FROM event WHERE eid IN (SELECT eid FROM event_member WHERE uid IN (SELECT uid2 FROM friend WHERE uid1 = me()) AND start_time > '. $created_time .' OR uid = me()) AND start_time > '. $created_time .' AND venue.longitude < \''. ($long+$offset) .'\' AND venue.latitude < \''. ($lat+$offset) .'\' AND venue.longitude > \''. ($long-$offset) .'\' AND venue.latitude > \''. ($lat-$offset) .'\' ORDER BY start_time ASC '. $limit; 
```

诀窍本身在于场地.经度和场地.纬度的使用。要从城市获取事件，只需获取城市坐标并根据需要调整偏移量。如果您不知道如何使用 FQL，请查看[Facebook PHP SDK](http://developers.facebook.com/docs/reference/php/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T14:01:22.627

我现在正在努力解决同样的问题。看起来不可能。我看到了几个问题：

*   ~~位置字段在`page`or`place`表中不可搜索，~~
*   事件位置的填充方式不一致：有关[示例，请参阅此页面的事件](https://developers.facebook.com/tools/explorer?method=GET&path=fql%3Fq%3DSELECT%20eid%2C%20location%2C%20venue%20%20FROM%20event%20WHERE%20eid%20IN%20%28%20SELECT%20eid%20FROM%20event_member%20WHERE%20uid%20%3D%20213367312037345%20%29%20ORDER%20BY%20end_time%20asc)。（我个人填充了其中的大部分。这些是 FB 更改，而不是用户错误。），
*   FQL 没有`AS`根据计算结果查询的语句，并且
*   Facebook 将查询返回的项目数量限制为相当低的值。

引用的站点似乎做的是查询`event.description`输入字符串的存在。查询“宜家”，你会得到很多结果。绝对不是地理搜索。（顺便说一句，该网站的源代码在[GitHub 上](https://github.com/judell/elmcity)）。

**编辑：**

好吧，我错了。Facebook 确实公开了一种搜索方法，但仅在[Graph API](https://developers.facebook.com/docs/reference/api/#searching)中。使用[批处理请求](https://developers.facebook.com/docs/reference/api/batch/)功能，您可以执行一系列请求：

*   查找`place`已知纬度/经度距离（以米为单位）内的所有条目。图 api 接受`q=*`搜索字符串以返回所有地点。
*   查询`event`以查找上面返回的地点的所有事件。

我要玩这个。随着我更好地充实这段代码，我将再次更新这篇文章。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-07-24T12:31:02.890

试试这个对我有用的代码返回即将到来的公共活动的所有详细信息，其中包含可以是您的位置的特定关键字

```
SELECT eid,name,description,venue,creator,location,ticket_uri,start_time, eid,host,not_replied_count,pic_square,pic_big,unsure_count,attending_count,declined_count,all_members_count FROM event WHERE start_time > now() AND CONTAINS("your location name") AND privacy='open' 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-06T13:17:50.497

我相信在[http://elmcity.info/fb_events?location=tokyo](http://elmcity.info/fb_events?location=tokyo)他们并没有真正在东京搜索事件，他们只是执行这样的查询

[https://graph.facebook.com/search?type=event&q=tokyo](https://graph.facebook.com/search?type=event&q=tokyo)

（需要访问令牌，请参阅[https://developers.facebook.com/tools/explorer?method=GET&path=search%3Ftype%3Devent%26q%3Dhaifa](https://developers.facebook.com/tools/explorer?method=GET&path=search%3Ftype%3Devent%26q%3Dhaifa)）

请注意，此网址也适用 [http://elmcity.info/fb_events?location=sport](http://elmcity.info/fb_events?location=sport)

我也在寻找一种使用 fql 检索公共事件的方法，但到目前为止我还没有找到。

# r - R中矩阵的秩

> ID：10881392
> 
> 赞同：24
> 
> 时间：2012-06-04T12:37:01.097
> 
> 标签：r, matrix, rank

我想测试矩阵的等级，是否有人可以为此推荐 R 中的包/函数？

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2016-05-17T14:24:41.083

You can try the function `qr` ("qr", because it performs a [QR decomposition](https://en.wikipedia.org/wiki/QR_decomposition)):

```
#define a matrix for this example
M <- matrix(data = rnorm(12), ncol = 3)

#run the function qr() 
qr(M)$rank

#Alternative: load the Matrix package...
require(Matrix)

#...and run the function rankMatrix()
rankMatrix(M)[1] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-04T12:40:50.957

[http://cran.r-project.org/web/packages/Matrix/Matrix.pdf](http://cran.r-project.org/web/packages/Matrix/Matrix.pdf)，第 101 页

[http://cran.r-project.org/web/packages/matrixcalc/matrixcalc.pdf](http://cran.r-project.org/web/packages/matrixcalc/matrixcalc.pdf)，第 12 页

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-08-07T07:03:55.207

您可以使用图书馆 pracma：实用数值数学（提供大量来自数值分析和线性代数、数值优化、微分方程、时间序列的函数，以及一些众所周知的特殊数学函数。）。

在 R 控制台中使用以下命令安装它： install.packages("pracma", repos="http://R-Forge.R-project.org") 然后您可以使用该库： library(pracma) Rank(你的矩阵对象）

# c++ - 使用鼠标从视频上的矩形设置 ROI

> ID：10881397
> 
> 赞同：6
> 
> 时间：2012-06-04T12:37:15.560
> 
> 标签：c++, c, image-processing, opencv, computer-vision

我有视频，当程序运行时，视频的第一帧被作为图像，用户可以在图像上绘制一个矩形，绘制矩形后，用户必须右键单击图像以确认矩形。当鼠标右键单击图像消失时，视频开始播放，上面绘制的矩形。

我能够完美地绘制矩形，但我不能将该矩形设置为 ROI。

我想要做的是将该矩形设置为感兴趣区域 (ROI) 以对该 ROI 进行一些图像处理。我无法将绘制的矩形设置为 ROI。

我在 Visual Studio 2010 中使用 OpenCV。稍后我将尝试将此程序集成到 QT creator 中。

任何帮助，将不胜感激。

提前致谢。

我的完整代码如下：

```
#include <stdlib.h>
#include <stdio.h>
#include <math.h>
#include <string.h>
#include<opencv2\opencv.hpp>
#include <opencv2\highgui\highgui.hpp>
#include <opencv/highgui.h>
#include <opencv/cxcore.h>
#include <opencv\cvaux.h>

using namespace cv;
using namespace std;
void my_mouse_callback( int event, int x, int y, int flags, void* param );
bool destroy=false;
CvRect box;
IplImage* image;
IplImage* frame2;
bool drawing_box = false;

void draw_box( IplImage* img, CvRect rect)
{
cvRectangle( img, cvPoint(box.x, box.y), cvPoint(box.x+box.width,box.y+box.height),
            cvScalar(0,0,255) ,2);

CvRect rect2=cvRect(box.x,box.y,box.width,box.height);
//cvSetImageROI(image, rect2);   //here I wanted to set the drawn rect as ROI
}

// Implement mouse callback
void my_mouse_callback( int event, int x, int y, int flags, void* param ){
IplImage* image = (IplImage*) param;

switch( event ){
    case CV_EVENT_MOUSEMOVE: 
        if( drawing_box )
        {
            box.width = x-box.x;
            box.height = y-box.y;
        }
        break;

    case CV_EVENT_LBUTTONDOWN:
        drawing_box = true;
        box = cvRect( x, y, 0, 0 );
        break;

    case CV_EVENT_LBUTTONUP:
        drawing_box = false;
        if( box.width < 0 )
        {
            box.x += box.width;
            box.width *= -1;
        }
        if( box.height < 0 )
        {
            box.y += box.height;
            box.height *= -1;
        }
        draw_box( image, box);
        break;
    case CV_EVENT_RBUTTONUP:
        destroy=true;
   }
}

int main()
{
    const char* name = "Box Example";
    cvNamedWindow( name );

   box = cvRect(0,0,1,1);

   CvCapture* capture = cvCreateFileCapture( "C:\\video.mp4" );
   image = cvQueryFrame( capture );

  IplImage* temp = cvCloneImage( image );
 // Set up the callback
  cvSetMouseCallback( name, my_mouse_callback, (void*) image);

//IplImage *img2 = cvCreateImage(cvGetSize(temp),temp->depth,temp->nChannels);

//cvNot(temp,temp);
   /* copy subimage */
   //cvCopy(temp, temp, NULL);

  // Main loop
   while( 1 )
{
    if(destroy) {cvDestroyWindow(name); break;}
    cvCopyImage( image, temp );
    if( drawing_box ) 
        draw_box( temp, box );
    cvMoveWindow(name, 200, 100);
    cvShowImage( name, temp );

    if( cvWaitKey( 15 )==27 ) 
        break;
 }

 //cvReleaseImage( &image );
  cvReleaseImage( &temp );
 cvDestroyWindow( name );

 cvNamedWindow( "Example2", CV_WINDOW_AUTOSIZE );
  cvMoveWindow("Example2", 150, 150);

  while(1) 
    {
frame2 = cvQueryFrame( capture );
draw_box(frame2,box);
    if( !frame2 ) break;
        cvShowImage( "Example2", frame2 );
        char c = cvWaitKey(33);
    if( c == 27 ) break;
   }
cvReleaseCapture( &capture );
cvDestroyWindow( "Example2" );
   return 0;
} 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-06-04T14:45:34.687

你快到了。但是有一个问题：`case CV_EVENT_RBUTTONUP`需要`break`，我还要添加一个案例`break`。`default`

以下代码设置 ROI，对其执行简单的灰度处理，然后将处理后的 ROI 复制回原始图像。

出于测试目的，我更改了您的代码以使用我的相机而不是加载文件。

**输出**：

![在此处输入图像描述](../Images/3892c0454d488ddc352c4df38c68191d.png)

**代码**：

```
#include <stdlib.h>
#include <stdio.h>
#include <math.h>
#include <string.h>

#include <cv.h>
#include <highgui.h>

using namespace cv;
using namespace std;

void my_mouse_callback( int event, int x, int y, int flags, void* param );

bool destroy=false;
CvRect box;
bool drawing_box = false;

void draw_box(IplImage* img, CvRect rect)
{
  cvRectangle(img, cvPoint(box.x, box.y), cvPoint(box.x+box.width,box.y+box.height),
              cvScalar(0,0,255) ,2);

  CvRect rect2=cvRect(box.x,box.y,box.width,box.height);
  //cvSetImageROI(image, rect2);   //here I wanted to set the drawn rect as ROI
}

// Implement mouse callback
void my_mouse_callback( int event, int x, int y, int flags, void* param )
{
  IplImage* frame = (IplImage*) param;

  switch( event )
  {
      case CV_EVENT_MOUSEMOVE: 
      {
          if( drawing_box )
          {
              box.width = x-box.x;
              box.height = y-box.y;
          }
      }
      break;

      case CV_EVENT_LBUTTONDOWN:
      {
          drawing_box = true;
          box = cvRect( x, y, 0, 0 );
      }
      break;

      case CV_EVENT_LBUTTONUP:
      {
          drawing_box = false;
          if( box.width < 0 )
          {
              box.x += box.width;
              box.width *= -1;
          }

          if( box.height < 0 )
          {
              box.y += box.height;
              box.height *= -1;
          }

          draw_box(frame, box);
      }
      break;

      case CV_EVENT_RBUTTONUP:
      {
          destroy=true;
      }
      break;

      default:
      break;
   }
}

int main()
{
  const char* name = "Box Example";
  cvNamedWindow( name );
  box = cvRect(0,0,1,1);

  CvCapture* capture = cvCaptureFromCAM(0); 
  if (!capture)
  {
    printf("!!! Failed cvCaptureFromCAM\n");
    return 1;
  }

  IplImage* image = cvQueryFrame(capture);
  if (!image)
  {
    printf("!!! Failed cvQueryFrame #1\n");
    return 2;
  }

  IplImage* temp = cvCloneImage(image);

  // Set up the callback
  cvSetMouseCallback(name, my_mouse_callback, (void*) image);

  // Main loop
  while( 1 )
  {
    if (destroy) 
    {
      cvDestroyWindow(name); break;
    }
    cvCopyImage(image, temp);

    if (drawing_box) 
        draw_box(temp, box);

    cvMoveWindow(name, 200, 100);
    cvShowImage(name, temp);

    if (cvWaitKey(15) == 27) 
        break;
  }

  cvReleaseImage(&temp);
  cvDestroyWindow(name);

  cvNamedWindow("Example2", CV_WINDOW_AUTOSIZE);
  cvMoveWindow("Example2", 150, 150);

  // Retrieve a single frame from the device  and set the ROI
  IplImage* vid_frame = cvQueryFrame(capture);
  if (!vid_frame)
  {
    printf("!!! Failed cvQueryFrame #2\n");
    return 2;
  }

  cvSetImageROI(vid_frame, box);

  // Allocate space for a single-channel ROI (to store grayscale frames)
  IplImage* gray_roi = cvCreateImage(cvSize(box.width, box.height), IPL_DEPTH_8U, 1);
  IplImage* rgb_roi = cvCreateImage(cvSize(box.width, box.height), IPL_DEPTH_8U, 3);

  while(1) 
  {
    if (!vid_frame)
    {
        vid_frame = cvQueryFrame(capture);
        if (!vid_frame)
        {
            printf("!!! Failed cvQueryFrame #3\n");
            break;
        }
    }

    draw_box(vid_frame,  box);

    // Set ROI and perform some processing (in this case, converting the ROI to grayscale)
    cvSetImageROI(vid_frame, box);
    cvCvtColor(vid_frame, gray_roi, CV_BGR2GRAY);
        //cvShowImage("Example2", gray_roi);

    /* At this point gray_roi has the size of thei ROI and contains the processed image.
     * For fun, we copy the processed image back to the original image and display it on the screen!
     */
    cvCvtColor(gray_roi, rgb_roi, CV_GRAY2BGR);

    // As the ROI is still set, cvCopy is affected by it
    cvCopy(rgb_roi, vid_frame, NULL);

    // Now reset the ROI so cvShowImage displays the full image
    cvResetImageROI(vid_frame);
    cvShowImage("Example2", vid_frame);

    char c = cvWaitKey(33);
    if( c == 27 ) break;

    vid_frame = NULL;
  }
  cvSaveImage("processed.jpg", vid_frame);

  cvReleaseImage(&gray_roi);
  cvReleaseImage(&rgb_roi);
  cvReleaseCapture( &capture );
  cvDestroyWindow( "Example2" );

  return 0;
} 
```

# javascript - 得到错误 401 未经授权无法在 twitter 中验证 oauth 签名和令牌

> ID：10881399
> 
> 赞同：0
> 
> 时间：2012-06-04T12:37:22.000
> 
> 标签：javascript, twitter

我收到错误“无法验证 oauth 签名和令牌 401 未经授权”。这是我的代码

```
<html>
    <body>
        <script type="text/javascript" src="jsOauth-1.3.1.js"></script>

        <script type="text/javascript">
            var options={
                consumerKey: 'key',
                consumerSecret: 'secret',
                callbackUrl: 'url',
            };

            oauth=OAuth(options);
            oauth.get("https://api.twitter.com/oauth/request_token",function(data){
                requestparams=data.text;
                console.log(options);
                alert(data.text);
                window.open("https://api.twitter.com/oauth/authorize?"+data);
                },
                function(data){alert("UnAuthorized...:("+data.text);}
            );
        </script>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T13:25:55.030

您必须从 twitter 获取 consumerKey 和 consumerSecret。

为此，请访问此 URL：[https](https://dev.twitter.com/apps/new) ://dev.twitter.com/apps/new并使用您的 Twitter 帐户登录（如有必要）。

然后填写申请详情表格。单击“创建您的 Twitter 应用程序”按钮后，您将获得需要用于 consumerKey 和 consumerSecret 的值。

# jquery - 使用不同的代码块多次调用 jQuery 事件以执行

> ID：10881403
> 
> 赞同：0
> 
> 时间：2012-06-04T12:37:45.920
> 
> 标签：jquery

这是一种特殊的情况。我有一个锚标签，点击锚标签，一个来自 jquery 插件的函数就会执行。但在某些页面上，我想在单击锚标记时执行另一个 javascript 函数。这意味着，我的 jQuery 插件为锚标记定义了一个默认单击事件，我将在我的页面上为调用不同函数的同一个锚标记实现另一个单击事件。截至目前，只有一个点击事件正在触发替换另一个。我想出了一个解决方案，将 click() 用于插件，mouseUp() 用于在某些页面上调用函数。

但基本上我想了解是否有一种方法可以将逻辑组合到 jquery 甚至在不同的地方并期望它执行所有这些？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:54:42.083

有几种方法可以实现这一点，但总的来说，我建议您将锚点包装在具有某种 id 或类的父元素中。然后使用它来确定调用什么。例如：

JS：

```
function doThis(event) {

}

function doThat(event) {
  doThis(event);
  // more code for doThat...
}

$('.home #nav a').click(doThis);

$('.content #nav a').click(doThat); 
```

主页的 HTML：

```
<body class="home"><div id="nav"><a href="#">nav 1</a><a href="#">nav 2</a></div></body> 
```

其他页面的 HTML：

```
<body class="content"><div id="nav"><a href="#">nav 1</a><a href="#">nav 2</a></div></body> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T14:07:57.903

您可以使用 jQuery[命名空间事件](http://docs.jquery.com/Namespaced_Events)

# php - 注意：未定义的属性：第 X 行的 class_post.php 中的 stdClass::$dis_comment

> ID：10881406
> 
> 赞同：0
> 
> 时间：2012-06-04T12:37:53.533
> 
> 标签：php, stdclass

我在 class_post.php 中编写以下代码：

```
$this->post_message = stripslashes($obj->message);
$this->post_date        = intval($obj->date);
$this->comments_disabled = intval($obj->dis_comment);
$this->post_mentioned   = array();
$this->post_attached    = array();
$this->post_posttags    = array();
$this->post_comments    = array();
$this->post_commentsnum = 0;
$this->post_commentsnum = 0; 
```

和 class_post.php 中的这个函数：

```
 public function disable_comment($num)
    {

        if( $this->error ) {
            return FALSE;
        }
        if( $this->is_system_post ) {
            return FALSE;
        }

        if( ! $this->user->is_logged ) {
            return FALSE;
        }
                    if( $this->user->id != $this->post_user->id && $this->user->info->is_network_admin != 1) {
            return FALSE;
        }
                    $n = intval($num);
        $this->db2->query('UPDATE posts SET dis_comment="'.$n.'" WHERE id="'.$this->post_id.'" LIMIT 1');

        return TRUE;
    } 
```

当我进入评论页面时，我看到了这个错误：

> 注意：未定义的属性：第 154 行 \classes\class_post.php 中的 stdClass::$dis_comment

### 154 = $this->comments_disabled = intval($obj->dis_comment);

如果可以，请你帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T12:54:30.553

您还没有提供 $obj 实际在此处的详细信息，但看起来问题只是您 $obj 没有定义该属性。

# c++ - C++中的静态计数器

> ID：10881410
> 
> 赞同：13
> 
> 时间：2012-06-04T12:38:01.217
> 
> 标签：c++, class, static, counter

我正在尝试创建一个`Data`类，其对象每个都拥有一个唯一的 ID。

我希望第一个对象的 ID 为 1，第二个为 2，等等。我必须使用 a `static int`，但*所有*对象都具有相同的 ID，而不是 1、2、3 ...

这是`Data`课程：

```
class Data
{
private:
   static int ID;
public:
   Data(){
   ID++;
   }
}; 
```

我该怎么做才能使第一个 ID 为 1，第二个 ID 为 2，等等。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-06-04T12:41:25.323

这个：

```
class Data
{
private:
   static int ID;
   const int currentID;
public:
   Data() : currentID(ID++){
   }
}; 
```

除了静态计数器之外，您还需要一个实例绑定成员。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-06-04T12:39:58.240

如果 ID 是静态的，那么它将对所有类实例具有相同的值。

如果您希望每个实例具有连续的 id 值，那么您可以将静态属性与类变量结合起来，如下所示：

```
class Data
{
private:
   static int ID;
   int thisId;
public:
   Data(){
   thisId = ++ID;
   }
};

int Data::ID = 0; 
```

如果应用程序将是多线程的，那么您必须将其与 pthread 互斥锁之类的东西同步。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-03-05T14:38:54.720

允许在函数中初始化静态变量，因此解决方案可以是这样的

```
 class Data
 {
    private:
    static int ID ()
    {
       static int ID = 0;
       return ID ++;
    }
    int myId;

    public:
    Data(): myId (ID ())
    {      
    }
 }; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-04T12:41:34.013

每个实例都`Data`需要自己的非静态成员变量来存储其 ID。变量可`static`用于存储上次使用的 ID，该 ID 将在 的构造函数中递增`Data`。

[考虑使用boost 的 uuid](http://www.boost.org/doc/libs/1_49_0/libs/uuid/uuid.html)来代替`static`不是线程安全的计数器：

```
#include <boost/lexical_cast.hpp>
#include <boost/uuid/uuid.hpp>
#include <boost/uuid/uuid_generators.hpp>
#include <boost/uuid/uuid_io.hpp>

using boost::lexical_cast;
using boost::uuids::uuid;
using boost::uuids::random_generator;

std::string id_ = lexical_cast<std::string>((random_generator())()); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-04T13:29:56.777

这里的实例（非静态）ID 在哪里？您需要像这样声明一个新的实例 ID 字段

```
int m_ID; 
```

然后在你的构造函数中做

```
Data(){m_ID = ::InterlockedIncrement(&ID);} 
```

以[互锁](http://msdn.microsoft.com/en-us/library/ms683614%28VS.85%29.aspx#)或其他线程安全的方式

# android - 从另一个 Android 应用程序加载本机共享库

> ID：10881411
> 
> 赞同：7
> 
> 时间：2012-06-04T12:38:03.483
> 
> 标签：android, android-ndk

我需要分发一个应用程序（播放器），它依赖于为给定 ARM 版本和扩展（Tegra、Neon）构建的本机库。这个原生库非常大，所以我不能在一个通用包中分发它的所有版本。所以我决定将应用程序拆分为一个小的通用 .apk 和更专业的 .apks——没有任何活动的插件。

如何从主宿主应用程序访问插件应用程序中的专用本机共享库？是否可以简单地使用

```
System.loadLibrary("path_to_library"); 
```

如果是这样，我怎样才能获得该库的路径？

如果无法解决这个问题，如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T15:45:17.687

`System.loadLibrary()`获取一个库名称并以某种方式将其映射到完整路径。

foo => libfoo.so

系统通常会检查 apk 本身，然后通常`/system/lib/`

如果您有完整路径，请使用`System.load()`

在任何情况下，除非它在 ​​apk 或所有系统库中，否则管理库的位置将是一件麻烦事。

我只是用 apk 打包特定的库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-05-09T10:54:26.343

八年后，TS 的主要问题得到了解决：有些拆分可以为每个 ABI 生成更小的 APK，有些应用程序包可以更轻松地打包，有些扩展甚至可以延迟本地库的下载，直到它该应用确实需要...</p>

尽管如此，相同的技术`System.load("/data/data/{app-package}/lib/lib{library-name}.so")`仍然有效，并且在某些情况下可能有用。

# ruby-on-rails - 未初始化的常量 ActiveResource::ResourceNotFound

> ID：10881415
> 
> 赞同：1
> 
> 时间：2012-06-04T12:38:15.990
> 
> 标签：ruby-on-rails

我正在使用带有 ActiveResource 的 Rails 3.2.3。我在生产中有一个问题说：

```
ActiveResource::ResourceNotFound: Failed. Response code = 404\. Response message = Not Found. 
```

所以我试着像对待它一样对待它`ActiveRecord::RecordNotFound`：

```
class ApplicationController < ActionController::Base
  protect_from_forgery

  rescue_from ActiveRecord::RecordNotFound do |e|
    render_404
  end

  rescue_from ActiveResource::ResourceNotFound do |e|
    render_404
  end

  def render_404
    respond_to do |type|
      type.html { render template: 'shared/404_not_found', layout: 'application', status: '404 Not Found' }
      type.all  { render nothing: true, status: '404 Not Found' }
    end
  end
end 
```

但是现在，当我部署时，我收到一条错误消息，告诉我：

```
/apps/com.example/shared/bundle/ruby/1.9.1/gems/activeadmin-0.4.3/lib/active_admin/namespace.rb:191:in `eval': uninitialized constant ActiveResource::ResourceNotFound (NameError) 
```

我真的不明白。我尝试了 a`if defined?(ActiveResource::ResourceNotFound)`但后来又回到了以前的行为。

知道如何处理这个问题吗？

谢谢 ！

**编辑：**目前我使用了以下代码，但我对此并不满意。

```
rescue_from Exception do |e|
  e.is_a?(ActiveResource::ResourceNotFound) ? render_404 : raise
end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-15T17:48:42.203

嘿，忽略我的评论我想出了一个解决方案：

```
rescue_from "ActiveResource::ResourceNotFound" do |e|
  render_404
end 
```

将异常放在引号中，这样它就不会在启动时尝试评估它（我假设 ActiveResource 尚未加载）

# php - AddressVerify API — 无权进行此 API 调用

> ID：10881416
> 
> 赞同：0
> 
> 时间：2012-06-04T12:38:16.243
> 
> 标签：php, paypal

我在沙盒模式下调用了 PayPal 的 AddressVerify API，但它返回错误，

```
[L_ERRORCODE0] => 10002
[L_SHORTMESSAGE0] => Authentication/Authorization Failed
[L_LONGMESSAGE0] => You do not have permissions to make this API call
[L_SEVERITYCODE0] => Error 
```

我的地址验证代码是，

```
function verify_address($PayPalConfig, $email, $street, $zipcode) {

    $PayPal = new PayPal($PayPalConfig);

    $AVFields = array(
        'EMAIL' => $email,
        'STREET' => $street,
        'ZIP' => $zipcode,
    );

    $PayPalRequestData = array(
        'AVFields' => $AVFields,            
    );

    $PayPalResult = $PayPal->AddressVerify($PayPalRequestData);
    return $PayPalResult;

} 
```

我想知道是否有任何设置可以启用此 API 调用或任何其他可以成功调用此 api 的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-26T13:01:38.120

沙盒通常不启用地址验证。因此，您需要打开支持请求或拨打电话以启用该功能。

# javascript - 将图像服务器端转换为 CanvasPixelArray

> ID：10881420
> 
> 赞同：-1
> 
> 时间：2012-06-04T12:38:23.920
> 
> 标签：javascript, html, canvas

**编辑**

所以看起来我必须以某种方式将图像转换为

[https://developer.mozilla.org/en/DOM/CanvasPixelArray](https://developer.mozilla.org/en/DOM/CanvasPixelArray) 服务器端

**我目前的尝试是 ***

从服务器传递一个base64编码的图像......然后将其转换为二进制文件`atob()`

但后来我被卡住了，试图把它画到画布上，而不必做类似的事情

```
var i = new Image();
i.onload = function(){.....}
i.src = "base64 string" 
```

**所以一个更一般的陈述**

我试图通过任何方式绕过创建图像对象来显示新图像

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:22:57.017

如果您的目标是避免使用 javascript 并简单地将图像嵌入到您的页面中，您可以简单地做

```
<img src="data:image/png;base64,UhhIaminbase64..."> 
```

如果你的base64是在ajax中动态获取的，那么使用解码库的方法就是用你制作的代码创建一个Image对象。

另一种解决方案是直接发送二进制数组中的 RGB 值（如果使用 json，则为 base64 编码）并在此数组上迭代客户端以更改画布的 imageData。这似乎很容易，但效率有点低，因为您没有 PNG 或 JPEG 的压缩。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:51:13.243

使用 html5，您可以这样做：

```
<script>
window.onload = function()
{
var img = new Image();
img.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAQx0lEQVRogbWZeZBldXXHP+fc+5bu6Z6F2ZkBZkH2xSWiwOBWhkAwYoAoSRUYQ4VQYNSkrFQllZRLWSkrJCVixKSwXChTCoqaYELGwmWiIooyQqFkyMg2A8zAbN3T/V6/9+7vfPPH777X0yxaMcmdufV+/bv3/u45v/M953zPucavcDRXbGTNBe9hyWkXUpQNGoXRbBQUzkQKO0loQ2G2HAMkSykOiXjSsZ9B7J/rB/1BRTKn9/TP2Lftk0z95Gu/iijY/+Tm8WNeynF/cDPtVZsoBx3ajSBVuqBXcXlnoN+YaBdr1i5rctR4k7GW0SiNwUB0+4mDswOePtTlwOHe1Fhp29pNu7Vd+m3dStUcLdLcLHvvvJ4D3/30/4MCXrDxmi8wefJraAxmGC9pdQbx/kOdeNep6yfGX75pCaeuWwSGnj5Y6cDswDu9iF5KNMy83bJYNtZg7bKWj7fQQ7s7tv3Rg/x45wHaDb9l+eLmX3R71ZOz0aLqd9j1yd+n+/iP/28UWHT8uRx39S00TEw2xOwgfXC2G3/1hjNWcf4Zy3lif4/tj83w0NNdDndFWRQUbmAgBVIQKUiRSFWiWRonrh3nFZuWcMqxi7hnxyG+es8TGLplxeLmNdPdqjvXWMzU9z7Hnq/85f9OgeWvv5o1b34f7WqKdukv3X1g7s7XnLp6zVvOWqPv75jSN3663zt9RatZUHrhhRdhhWPmDgqlIBFOihCBFJ5SipQSvUFyN8V5J67wC39ttb7z4D770vcfrdYuaV1eFnb7gV5Bb+9OHv/Yxb+aAmsufj/Lzn0Hi22GXop3zfX00T99y0nsOdSLW+9+kipBq1V64UWAUxTuZh5mBmYOhCSUwkWEFKNxSgGEp0gx6Fc+iBRvevk6tpy6yv/m9geY6fQ/uWpZ6w/3TgdzzzzCro9f8j9TYNm5b2f1xe9jic1yqDP42KolY+/844tO4ua7HmHnng6LWg2KssBwrACzAjMny17kVQPCAlMNpZRI5DEpEIHq3yoSc70BS8cavPfS0/nq3Y/ww4f3fmfj6snXPDVVMbfvUXb//aUvqEDx3In2cS9n3RU3sTgOc7DT/8TGVZPXXvmG4/ngrQ/GodmBjbXKwE3IhFstqsmy+AGICMMIgVAyicj/MVCARMiwiCDMQlEWrl6/sn//8RNxyZZNWraoveHe/3r6jUcva326U0zSOuZMZh/4t1+uwIb3fp2x6NCv0p+tXjb+5287b1N84Nb7rSwKNcrCDMlkmBuGmYEMQ8gMiYA8HVJkK0uSFETUY4QIU5hM5MdDmGNeoG33P8nrzjjalixqHvvAI3vPXL24cWt/8QYGU3sY7Nnx4gqsfcfNjC1ZTbvBuVWKz191/kl86LbtNtYoKUahxQ2XkXec/CsTjmEWyCyihqeMLK6FMCPl+Yj6WVkgFDKZTAQWZo2G23d/+iS/9aqNTM32T9431Tnc9ur7/pLXM/2dT2ej14cPB821JzG++RwmGlHu3jdz57VvOo3rb78/2g0PPO9nhAjLISWkkBKSQmLopIEiAtHpDWJqthczc30UEVKEBErD+/OzJmGmsIgwGZjCQjE51uTGr9wXbznneHXmqr9rlr65TD1W/u5HFlhgpMCqS/6aZjrM/unOTW/dsnnytm07CQk3xxTkLRSm4ZkyyOtYP3RIhdh7YIpz1w340PmTXHqSs3f/QQghJWQJmVCIWhNCQZgRwznL64+1Cm786o/0R795Jk88M3X7ZAvam8/GF69eCKHGutNYct5VtK2/Abjl9I0r+dYDu2k3ywwVQXbYeciQPRlDRihvHth0t2fvPmeSD196gp2+ftLeeMpyTl5V2BfvO2jtRokCE8kiwEh5bYUhDAQhy9AChHX7lbWbBePtxppDhzsPKtJDLFrB3I5vz1tgydlvpxldpmf6H77wrI3c9h87otUsatikiNolF0Im1ZAgBIESERGznbm4asvRgCIiO8NFZ6yKQdXLMCMiEmGkHIsk5tcTMoUijaDVKjzu2v4oW05Zz77p7vWLymDslDcuhND4ya/FVY3j8bbZuUr9qsIJTAkTz4FMon7pPHyGEFJQuvHEgR4MYxSwZyr/ne9NKAtfrzNcbwinRJgWwKnZcO7d8VScsO6ojVWKLRaJsdMuyAq0jn0ZRGKu17/m1Seu45vbH7PS3SVQ4DJ5LbDXSrgUrhRe495TChegFL54vOlXfHYHD+857Gbmew51+e1PPOiT4y3PQuImPAue8nuUPM8HVl83S1jITfKGGdt3PuUnHruc6dm5dzasov2SLQCUzfVn4iR6g+r33EVnrh/NZoMIuVktGTh4gLlIoTBwQ5hLHpIhZfrgBr3U8i0feSiICuG+dFE7GkVWEFMkiawEUQsflq3jo2gluYxQEgJ3I2Y6fetXg7cussbl5fozsmCNtSdBGjRQvGKmM8BMbll4zPDIiyJF3rWEC1xZAJSSi9oaKVwKx0RheCV3L7JeUnhNH/K4XjMEltf2keCSSxBKHiaPnER85+79tn7lUhsMBq8oxpZijRZeLllLVfXP2rD2KB56/Bkcm3dQpRqOCSlCKfOEvEsRNYSCFJHI41SlSFWff7nmxDjwt6+Ou955Mg1LUVUpUu3ESqkOCDXJy++r54hQisjhOkwKM1FA7H52KpYvHqNK6bWKATaxCi8mV5Kq9NLC4PBcLwdJCSWhVDttoo7z1fPjfgKRIAVJwXR3wA2/s5lXblgCEqevn+Rz7ziR6U6vdvSUI2eCUMKODAQazoFp6OjzQcNNdHs9qirONAXlyk2UQYKwzd1eL5PISO5FAZZA5qQCeSBwZAi5ogDP6SDJsscDJLyfEq/eMJn9po5CLztmwocRjDCXVWSeh2M5QEiJGPmGhkL7KOKZXIhOt48Um02BeUGpEIZWduYGOePiESnhVjhOQEIyF0UAriDkkbN0mMstlGqcu0KCRmme84Bwd09R5yVFXegAWaAgyWWqIYszgi8+hHL2QwKJ3qDyKtLqhkAEpQlkLJ4bDOZNZkWGhQwosskzwUduSIZCyB0SJK9wHCVlCM4zlHzUVYdy+kVSJmQSCWEps3PlFy2AzRBSKGEG0505gEa2JpShhJsPZmZ7FEWR4z2JoMDBITJhCHOy8K6RIglwJ4nkYJITwxrJ3H1ULzmImlK7WZCSYcYQfa4EsgR1BBruvI0SXpal108QQUoBJsqsXJrGi1ogi7zr4aI2fQ0VZC5y3EdGCrlD4IKEBxFhZa34PIREVksp5XVSIDMnKWRypNDQJ0TIEiG5zbNWH9EOcJNmshWN0rLD7M7RYVgeRA0bgyiQ5x3JlxLJHU9GdisgKYusGJU2Rx6OEQZJWVfJMiTJ0S47ci5zaufO6B1FogyrqKNTmHabBOaUUfWxorFDtVNkcxuiQIHjUb/QPMJwVza3GyQjebgjSNlJFUNNF0LIagjlyGNDwfMWJLkssm9INS0R2JByDClIrUSwwxzSgV14tf9RhP0gXxwyREZJapRshq2RRIgU83/X9+S2SYSr9oJ5NooRgUJRJ7sUwejZRF6PYfTJiZSUryei3vlcT2U5fyiM6BzCq/27kNlOie6IYaaoGWN9pkQtYO4qKCetXPRmhxqyUUMv2OvIUebIBBgkUm055rsUdULLc4kgYSmIBJbqpAp3qarQzLN4/8n7oSiISP9qCiIlF0NegtfcJxOtmn3muTTiPxCeCFKES/J5CPkwnjrIawv4iFcJV96AF+FKmZkGCSNc4CHtMnxvtf+xvHD1xP1Y0cTgU3mnh5VeNnHK1s/1bn5ZPJf/KEWOLIqQReQ0MA8hywVlSPl5FsKPefoTiBSRUg2VI2pppVAkZOlTMqd6Ynsdf3szpH2PIezOkKZN4aHIZhvCJkXdlEoLGlIjkzOsh2tHfO5hGSJRw6/edViwRg1VMeJKNoRwtoZlX9DHrTnG3E+3Dk0L3QfvhKKJiQ+FEpbCg8AUnkuCmk6n+jfTZ2do/jRPj8ULQ0iohiCudARciJwfhBsQKdyU3680pO0JKZmUviz82XRwNzq8d16B3k/+GQpHxPVKcXjkwDVcYhSFgJQiqe6s5F2MNBzX7RPLPZ8RhARRF4mjNY+IcgshNILNEfNDR5feY8023R/80xE5pj7m7vsyKttIunph8shwstrceWfCRtBJudeZqCNTqujHQhgVQNUfUDsxSikz37pnaqrHR6w5gg7DcfqoYbuiO0P18+89X4Hu3Z+twx1fkNI3a3MvCKHBSBkNsTv8Z9kCMJjjh08e5sii/oFnu6RuF6u/FQzXs/kNeY5PpVEtUvOhZyP0HrUn6X77pgWbs4A2znztA3h7CRIXoDSdFI7wlOHk9Y4MMeyRAqsxmzu38mYa+FWfuZeHD/XdzHzXzIBL//Eeb8fAkebDaM4DTq7y/Ln+oJEPCJnOs7JJ2vUTqsfvfW58WHiMveHdlJvORoO5l4AedndJZu4K5C5XODU5qolappSevwmYUOCdshmNyUX0Z2Z9bNCP0kSYuUEQAWYeEWFmHuQWIxEeZmE55brl3vUlZvYVrGT2M2/PHvWLFACYuPxj2KKlMKjOBt0t98x73ZFEDi5iGHDkwofGzD11qKsqM0PmYIENqbZF7sBbkHmG8jisbiuKiMDMrgZuVmuS7hf/BE099TxZX/QLzcQVN0PRglSdJtd9QMPl4ArJ8dzscMiVkmoL1FzayR4BgRt1JWP1fBbOIYIwj9zczRYKkQs4uxxxq40vpfeNj5B+fvcLyvkLv5H5pR/F2pMUxAozthVwihvCPYssr8vOeQhlC2RBLb8hC4rV6hFhgWFOxpBbKLCwlMyCmJZ4XcB2WZP41o3w9PYXlXHB94GVK1eyYsUKTj31VI5eu4ZfX5848YTNjBd0GsZNSVFO9XitITOTCbBQXWOSP9Qgq3Pp/DhySZd1kFlEfX+YApLCehXWLOO2dRN+1rGL/alXHt3ibP9PzlztLFu+krVr1zI+Po6Z0el0Flrgsssu44orroBsX1JKuDuDQR9LuVZ+piOenhGPz8Sae3YP/uHnB+LisnDKEhVG7SCjLw/ZGsOxDdGEW1hgQQivAqpKrJywe845unHdKSv9vqNaxuoJY7w0EgV4QVmWI98rioJms8nWrVu54YYbsgJbt27lmWeewczKiFgEjLn74ogYAybdfQmKoiy8NHRUu6B4bCo23bGzevN3dw82zw0o3bHCLTx3HRcqAJFqdlvlxG5mplcdXe6+cHNj68tW+4/mKtqBzaXQvpAqM08RMQUcdvduREwDXXefjYhq+fLlXHvttVmBO+64g6mpqUngMuB8YC2wHBg74rT6bAFFYUSzoDLEjoPRvG9PlA8fGLB7Wra/UzMyYxT1JtrGMUuME5YWOn1lGWeu9l5hpn6iqOZr2QT06qcEdOuzAxwEngK+DnxpYmLi8HXXXUcJueqPiIa7r4uI44A1tQWaQNPdi4hQ/es1HEjyliSOm3SOX1rglBSee15zFcwOYKwBY+WwQDEGSZaCopdsPCJwd4aFm7s3IqIFVO5uETEO9N19EBGLgaGMjSHrLQFarRZmdgC4Efg8sAxYAUzUv2M1FI6qr40OiWYlrQhsLDN3cidCEQ2HKtyn5rKE7uYRCsDcbQA8C8yxMDsdBvYBg/ravtoCB+r7nwWmG40GZVlmCF100UVceeWVDAYDfslR8PxPs0NYlb/s4eccQ7jEC8ynX/Rgo9Fg27Zt3HTTTfw3QU9CopWc95cAAAAASUVORK5CYII=";
document.body.appendChild(img);
};
</script> 
```

这是一个工作示例：http: [//jsfiddle.net/4ZaUu/3/](http://jsfiddle.net/4ZaUu/3/)

# matlab - 您将如何在 matlab/octave 中对这个嵌套循环进行矢量化？

> ID：10881427
> 
> 赞同：1
> 
> 时间：2012-06-04T12:38:49.013
> 
> 标签：matlab, octave, vectorization

我坚持在 MATLAB/Octave 中对这个棘手的循环进行矢量化：

```
[nr, nc] = size(R);
P = rand(nr, K);
Q = rand(K, nc);

for i = 1:nr
   for j = 1:nc
      if R(i,j) > 0
          eij = R(i,j) - P(i,:)*Q(:,j);
          for k = 1:K
          P(i,k) = P(i,k) + alpha * (2 * eij * Q(k,j) - beta * P(i,k));
          Q(k,j) = Q(k,j) + alpha * (2 * eij * P(i,k) - beta * Q(k,j));
          end
      end
   end
end 
```

该代码尝试将 R 分解为 P 和 Q，并使用更新规则逼近最近的 P 和 Q。例如，设 R = [3 4 0 1 1; 0 1 0 4 4；5 4 3 1 0；0 0 5 4 3；5 3 0 2 1]，K=2，α=0.01，β=0.015。在我的真实案例中，我将使用一个巨大的稀疏矩阵 R（这就是我需要向量化的原因），而 K 仍然很小（小于 10）。整个脚本的目标是根据非零元素为 R 中的每 0 个元素生成一个预测值。我从[这里](http://www.albertauyeung.com/mf.php)得到了这段代码，最初是用 Python 编写的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-05T17:27:41.307

由于操作`P`和`Q`本质上是串行的（迭代更新），我认为你不能做得更好。您可以`if`在循环中保存：

```
[nr, nc] - size(R);
P = rand(nr, K);
Q = rand(K, nc);

[nzi nzj] = find( R > 0 );
for ii=1:numel(nzi)
    i = nzi(ii);
    j = nzj(ii);
    eij = R(i,j) - P(i,:)*Q(:,j);
    P(i,:) = P(i,:) + alpha * (2 * eij * Q(:,j)' - beta * P(i,:));
    Q(:,j) = Q(:,j) + alpha * (2 * eij * P(i,:)' - beta * Q(:,j));
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T15:06:11.947

这看起来像是并非所有代码都可以矢量化的情况之一。不过，你可以让它比现在好一点。

```
[nr, nc] = size(R);
P = rand(nr, K);
Q = rand(K, nc);

for i = 1:nr
   for j = 1:nc
      if R(i,j) > 0
          eij = R(i,j) - P(i,:)*Q(:,j);
          P(i,:) = P(i,:) + alpha * (2 * eij * Q(:,j)' - beta * P(i,:));
          Q(:,j) = Q(:,j) + alpha * (2 * eij * P(i,:)' - beta * Q(:,j));
      end
   end
end 
```

# javascript - 如何在 jQuery 中解析 JSON 多维数组？

> ID：10881429
> 
> 赞同：2
> 
> 时间：2012-06-04T12:38:52.220
> 
> 标签：javascript, jquery, json, parsing

这是我需要解析的 JSON：

```
{"opcode":"groupdetails",
 "status":"success",
 "data":[{"Group ID":5,"Group Name":"data structure","Group Subject":"computer science","Role Type":"Teacher"},{"Group ID":4,"Group Name":"information technology","Group Subject":"computer science","Role Type":"Student"},{"Group ID":6,"Group Name":"data mining","Group Subject":"computer science","Role Type":"Parent"},{"Group ID":7,"Group Name":"dccn","Group Subject":"computer science","Role Type":"Teacher"}]} 
```

我已经尝试并实现了[这里](https://stackoverflow.com/questions/2487841/jquery-parse-json-multidimensional-array)提供的解决方案，这是在解决方案中定义的 JS 的实现，**它只解析 JSON 数组**

```
for (var i = 0; i < data.data.length; i++) 
 {
    var object = data.data[i];
     for (property in object) 
     {
        var value = object[property];
        alert(property + "=" + value);
     }
 } 
```

外部 JSON**数据**是从服务器返回的，是的，我尝试使用以下代码进行解析，但没有结果：

```
for (var i = 0; i < data.length; i++) 
{
 var object = data[i];
 for (property in object) 
 {
    var value = object[property];
    alert(property + "=" + value);
 }
} 
```

如何使用单一方法解析整个 JSON，而不是单独解析 JSON 数组？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T12:44:44.310

试试这个：

```
for(var key in data) {
    if(typeof data[key] === "object") {
        for(var i = 0; i < data[key].length; i++) {
            for(var property in data[key][i]) {
                 alert(property + " = " + data[key][i][property]);
            }
        }
    } else if(typeof data[key] === "string") {
        alert(key + " = " + data[key]);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T12:46:47.743

如果您的数据是 JSON 字符串，则需要先将其解码为对象。使用`JSON.parse`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-01T20:53:58.587

我能够访问我的多级数组上的每个值：

```
{"dirArray":[{"Dir":{"name":"hr12325","dir_description":"B2B NFIB Field","id":"249"}},{"Dir":{"name":"klk","dir_description":"B2B NFIB klk","id":"251"}}]} 
```

使用

```
data.dirArray[0].Dir.name
data.dirArray[0].Dir.dir_description 
```

如此[处](http://www.json.org/js.html)所述。

# iphone - iphone - Calendar.app-like UITableView 分页

> ID：10881431
> 
> 赞同：0
> 
> 时间：2012-06-04T12:39:00.077
> 
> 标签：iphone, objective-c, xcode, cocoa-touch

我正在开发一个在表格视图中显示事件列表的应用程序。用户应该能够在不同的星期之间切换，这意味着表格视图应该重新加载数据。我想让切换看起来不错:-)

我喜欢它是如何在日概览模式下实现 Calendar.app 的：您可以在不同的日子之间滑动和切换。我怎样才能做出类似的东西？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T12:40:40.667

试试这个……它非常易于使用，并且可以根据您的使用灵活地进行编辑。

[克拉祖卡 / 卡尔](https://github.com/klazuka/Kal)

# asp.net - 有没有办法通过按钮发送参数？

> ID：10881439
> 
> 赞同：0
> 
> 时间：2012-06-04T12:39:49.077
> 
> 标签：asp.net, asp.net-mvc

我有一个链接女巫我想你变成一个按钮，链接通过一个参数，看起来如下：

```
@Html.ActionLink("View", "Print", new { id = item.SalesContractId }) 
```

**我现在想用这个参数{ id = item.SalesContractId }**的按钮替换它

 **我的按钮如下所示：

```
<input type="button" value="Print" id="btnFromIndexPrint" /> 
```

有人可以告诉我我该怎么做吗？

**这是我的页面的外观，因此您可以看到我想要实现的目标：**

```
@model IEnumerable<Contract.Models.tbSalesContract>

<!DOCTYPE html>

<html>
<head>
    <title>Index</title>
</head>
<body>
    <p>
        @Html.ActionLink("Create New", "Edit")
    </p>
    <table>
        <tr>            
            <th>
                Company
            </th>
            <th>
                Trading As
            </th> 
            <th>
                Created
            </th>           
            <th>
                Updated
            </th>
            <th></th>
        </tr>

    @foreach (var item in Model) {
        <tr>                     
            <td>
                @Html.DisplayFor(modelItem => item.CompanyName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TradingAs)
            </td> 
            <td>
                @Html.DisplayFor(modelItem => item.C_date)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.C_updateDate)
            </td>
            <td>
               @* @Html.ActionLink("View", "Edit", new { id = item.SalesContractId }) *@
                <input type="button" value="View" id="btnFromIndexView" />

            <td>
            @* Add Button to print only if contract state is finalized *@
            @if (item.IsFinal) 
            {
                @Html.ActionLink("Print", "Print", new { id = item.SalesContractId })
                <input type="button" value="Print" id="btnFromIndexPrint" />

            }
            </td>
            </td>
        </tr>
    }

    </table>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:45:47.107

如果您查看 ActionLink 生成的源代码，您会发现这只是一个常规超链接。id 参数附加到您的 URL。

所以，用按钮替换你的超链接就不一样了。

在 ASP.NET MVC 中，数据可以通过多种方式发送到您的服务器。您的 ActionLink 使用的是将您的数据附加到 URL。路由机制会将这些映射到您的 Action 方法上的特定属性。

另一种发送数据的方法是使用 HTML 表单。表单可以有一个提交按钮，然后将表单数据发送到您的服务器。

为您的操作方法搜索可能的值时，ASP.NET MVC 将检查以下来源：

1.  之前绑定的动作参数，当动作是子动作时
2.  表单域 (Request.Form)
3.  JSON 请求正文 (Request.InputStream) 中的属性值，但仅当请求是 AJAX 请求时
4.  路线数据 (RouteData.Values)
5.  查询字符串参数 (Request.QueryString)
6.  发布的文件 (Request.Files)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T13:53:01.883

为什么要使用按钮而不是链接？如果您担心外观，那么您可以应用一些 CSS 并使链接看起来像按钮。

超链接（<a>）是为在网页之间形成连接而创建的。我建议您在您的情况下使用超链接而不是按钮。如果您想使用 javascript 执行一些客户端操作，按钮（除了提交）是很好的。

如果您仍然想使用按钮，那么您必须依靠一些 javascript 来调用控制器操作。**

# c# - 使用 Web 浏览器控件下载图像

> ID：10881442
> 
> 赞同：0
> 
> 时间：2012-06-04T12:40:04.187
> 
> 标签：c#, windows-phone-7

在我的 Windows Phone 7 网络浏览器应用程序中，我只能看到图像，但我想从网页下载图像（使用上下文菜单）并将其保存到媒体库。我的网络浏览器控件被命名为**browsers**。谁能帮我？在此先感谢您的帮助？以下代码中有错误 - 在**"uri"**和**"e"**中。

```
private void MenuItem_Click(object sender, RoutedEventArgs e)
    {
        HttpWebRequest WebRequest = HttpWebRequest.CreateHttp(uri);>>>Error in "uri"
        WebRequest.BeginGetResponse((asyncCallback) =>
        {
            try
            {
                MediaLibrary library = new MediaLibrary();
                library.SavePicture(imageName, WebRequest.EndGetResponse(asyncCallback).GetResponseStream());
            }
            catch (Exception e)>>>>>Error in "e"
            {}
        }, WebRequest); 
    }

public string imageName { get; set; } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T09:01:12.993

```
HttpWebRequest WebRequest = HttpWebRequest.CreateHttp(uri);
WebRequest.BeginGetResponse((asyncCallback) =>
{
    try
    {            
        MediaLibrary library = new MediaLibrary();
        library.SavePicture(imageName, WebRequest.EndGetResponse(asyncCallback).GetResponseStream());
    }
    catch (Exception e) { }
}, WebRequest); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T05:43:17.843

Tab 并按住浏览器控件中的图像...您是否获得用于保存图像的上下文菜单？

# html - 如何在选项 HTML 标记中标记所选选项？

> ID：10881448
> 
> 赞同：15
> 
> 时间：2012-06-04T12:40:11.447
> 
> 标签：html, css, drop-down-menu

我在我的网站上使用普通选择和多选框。我应该使用`<option selected="selected">`还是仅`<option selected>`用于选定的项目？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2016-05-30T19:29:32.647

**HTML5 规范**：

[https://www.w3.org/TR/html5/forms.html#attr-option-selected](https://www.w3.org/TR/html5/forms.html#attr-option-selected)

> 选定的属性是一个布尔属性。

[http://www.w3.org/TR/html5/infrastructure.html#boolean-attributes](http://www.w3.org/TR/html5/infrastructure.html#boolean-attributes)：

> 元素上存在布尔属性表示真值，不存在该属性表示假值。
> 
> 如果存在该属性，则其值必须是空字符串或与属性的规范名称匹配的不区分大小写的 ASCII 值，并且没有前导或尾随空格。

**结论**：

以下是**有效的、等价的和真实的**：

```
<option selected />
<option selected="" />
<option selected="selected" />
<option selected="SeLeCtEd" /> 
```

以下是**无效**的：

```
<option selected="0" />
<option selected="1" />
<option selected="false" />
<option selected="true" /> 
```

缺少该属性是**false**的唯一有效语法：

```
<option /> 
```

**推荐**

如果您关心编写有效的 XHTML，请使用`selected="selected"`, 因为`<option selected>`是无效的 XHTML（但有效的 HTML），而其他替代方案的可读性较差。否则，只需使用它，`<option selected>`因为它更短。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-09-29T21:23:38.187

将选择根据 W3C 的正确方法 =“已选择”，如此处所述 [http://www.w3.org/TR/html-markup/option.html#option](http://www.w3.org/TR/html-markup/option.html#option)

昆汀：不重复，因为这个问题与选择有关，同时您的回答与复选框有关

（相同的答案，不同的顺序以避免那些无法阅读完整帖子的人的“不是答案，这是评论”评论

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-04-27T19:29:12.920

如果您想在选择中设置超过 1 个选项，不要忘记添加到选择属性多个并添加到选择 [] 的名称，否则它不起作用。

```
<select name="mega_select[]" multiple>
  <option value="some" selected="selected">some</option>
  <option value="value" selected="selected">value</option>
  <option value="non">non</option>
</select>
```

# hadoop - 如何在 HDFS hadoop 中从 blockName 中查找文件

> ID：10881449
> 
> 赞同：10
> 
> 时间：2012-06-04T12:40:13.000
> 
> 标签：hadoop, hdfs

给定块名称/ID，在 HDFS 中查找与块关联的文件的最简单方法是什么

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2017-03-06T21:38:48.073

不确定何时引入，但您可以这样做

```
hdfs fsck -blockId <block_id>

hdfs fsck -blockId blk_1100790203
Connecting to namenode 
FSCK started by hdfs 

Block Id: blk_1100790203
Block belongs to: /tmp/1447685899336.txt 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-06-05T01:22:47.557

漫长而痛苦的方式，假设您对所有文件具有读取权限（并为目录执行）：

```
hadoop fsck / -files -blocks | grep blk_520275863902385418_1002 -B 20 
```

然后从您的块匹配扫描备份到以前的文件名：

```
/hadoop/mapred/system/jobtracker.info 4 bytes, 1 block(s):  OK
0\. blk_520275863902385418_1002 len=4 repl=1 
```

在这种情况下 blk_5202... 是`/hadoop/mapred/system/jobtracker.info`文件的一部分

以编程方式，这些不是名称节点的接口，允许您按块 ID 进行搜索，但您可以查看辅助名称节点的源并查看它如何合并编辑 - 然后对辅助名称节点的保存输出进行试验名称节点（而不是冒险处理实时名称节点文件）。

祝你好运！

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2021-09-22T12:55:11.980

选项 1：`.meta`如果将 blockId 与 generationStamp 一起使用，则需要后缀

```
$ hdfs fsck -blockId blk_1073823706_82968.meta 
```

选项 2：使用不带 generationStamp 的 blockId

```
$ hdfs fsck -blockId blk_1073823706 
```

# iphone - 接收内存泄漏

> ID：10881455
> 
> 赞同：1
> 
> 时间：2012-06-04T12:40:26.463
> 
> 标签：iphone

我是 iPhone 开发的新手。我在视图中显示了很多图像。我还放置了名为 LOAD MORE 的按钮以获取更多图像。我还在 LOAD MORE 事件中下载图像。这是我的代码：`

```
-(void)btnLoadMorePressed
{
     [appdelegate showLoader:MBProgressHUDModeIndeterminate];

    RequestResponseManager *requestManager=[RequestResponseManager sharedInstance];
    [requestManager setRequestPropery:self ExtraInfo:nil];

    Album *album=[appdelegate.CurrentUser.albumListarray objectAtIndex:indexNum-1];

    NSArray *obj_keys = [NSArray arrayWithObjects:@"UserId",@"AlbumId",@"SessionId",@"PageNo",@"ModMethod", nil];
    NSArray *objects = [NSArray arrayWithObjects:appdelegate.CurrentUser.userId,album.AlbumId,appdelegate.sessionId,[NSString stringWithFormat:@"%d",currentPage],@"getPhotoListByAlbumId",nil];
    NSDictionary *jsonDictionary = [NSDictionary dictionaryWithObjects:objects forKeys:obj_keys];
    NSString *jsonString = [jsonDictionary JSONRepresentation];
    NSString *requestString=[NSString stringWithFormat:@"data=%@",jsonString]; 

    currentRequest=JGetAlbumPhotoList;
    [requestManager sendPostHttpRequest:GET_USER_ALBUM_PHOTO_URL RequestType:JGetAlbumPhotoList PostContent:requestString];
} 
```

但是当我试图获取更多图像时，它会给我内存警告，然后突然崩溃。请帮助我。谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T12:49:31.083

在 dealloc 方法中释放您创建的所有对象并将所有对象设置为 null。

例如：

```
- (void)dealloc {

     [super dealloc];

    [image1 release];
    image1=nil;

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T13:08:18.063

你确定你不只是加载太多到内存中吗？这些图像有多大？这听起来不像是泄漏，更像是加载太多。

# f# - 统一任务 和 F# MailboxProcessor 异常处理

> ID：10881464
> 
> 赞同：5
> 
> 时间：2012-06-04T12:41:03.127
> 
> 标签：f#, mailboxprocessor

使用Task<T>时，在Task.Wait()期间抛出任务执行过程中的异常；使用 F# 的 MailBoxProcessor 时，异常被吞没，需要根据[这个问题](https://stackoverflow.com/questions/10805035/mailboxprocessor-and-exceptions)明确处理。

这种差异使得很难通过任务将 F# 代理公开给 C# 代码。例如，这个代理：

```
type internal IncrementMessage = 
    Increment of int * AsyncReplyChannel<int>

type IncrementAgent() =
    let counter = Agent.Start(fun agent -> 
        let rec loop() = async { let! Increment(msg, replyChannel) = agent.Receive()
                                match msg with 
                                | int.MaxValue -> return! failwith "Boom!"
                                | _ as i -> replyChannel.Reply (i + 1)
                                            return! loop() }

        loop())

    member x.PostAndAsyncReply i =
        Async.StartAsTask (counter.PostAndAsyncReply (fun channel -> Increment(i, channel))) 
```

可以从 C# 调用，但异常不会返回到 C#：

```
[Test]
public void ExceptionHandling()
{
    //
    // TPL exception behaviour
    //
    var task = Task.Factory.StartNew<int>(() => { throw new Exception("Boom!"); });

    try
    {
        task.Wait();
    }
    catch(AggregateException e)
    {
        // Exception available here
        Console.WriteLine("Task failed with {0}", e.InnerException.Message);
    }

    //
    // F# MailboxProcessor exception behaviour
    //
    var incAgent = new IncrementAgent();
    task = incAgent.PostAndAsyncReply(int.MaxValue);

    try
    {
        task.Wait(); // deadlock here
    }
    catch (AggregateException e)
    {
        Console.WriteLine("Agent failed with {0}", e.InnerException.Message);
    }
} 
```

C# 代码没有得到异常，而是挂在 task.Wait() 处。有没有办法让 F# 代理表现得像一个任务？如果没有，似乎将 F# 代理暴露给其他 .NET 代码的用途有限。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T16:55:47.350

处理它的一种方法是让代理返回带有错误情况的 DU。然后，您可以从代理外部引发异常。

```
type internal IncrementResponse =
    | Response of int
    | Error of exn

type internal IncrementMessage = 
    | Increment of int * AsyncReplyChannel<IncrementResponse>

type IncrementAgent() =
    let counter = Agent.Start(fun agent -> 
        let rec loop() = 
          async { 
            let! Increment(msg, replyChannel) = agent.Receive()
            match msg with 
            | int.MaxValue -> replyChannel.Reply (Error (Failure "Boom!"))
            | _ as i -> replyChannel.Reply (Response(i + 1))
            return! loop() 
          }
        loop())

    member x.PostAndAsyncReply i =
        Async.StartAsTask (
          async {
            let! res = counter.PostAndAsyncReply (fun channel -> Increment(i, channel))
            match res with
            | Response i -> return i
            | Error e -> return (raise e)
          }
        ) 
```

# member - 使用 IE 浏览器打开文档链接时出现“未找到成员”javascript 错误

> ID：10881468
> 
> 赞同：0
> 
> 时间：2012-06-04T12:41:10.830
> 
> 标签：member

在我的 HTML 页面中，有两个文档链接。

如下所示：

**链接 1**

**链接 2**

当我单击链接“链接 1”时，它会在新窗口中打开文档，现在我将其最小化，然后再次单击“链接 2”而不关闭前一个窗口。它会给我 IE 6/7/8 浏览器中的“找不到成员”javascript 错误

在我对这个问题进行了研究之后，我得到了解决方案，请在下面查看

//下面的代码是在解决方案之前：

```
var viewerURL = "URl";
win = window.open(viewerURL, 'subWindow', 'directories=no, status=no');
win.focus(); 
```

//应用解决方案后代码如下

```
var progressMsgURL = "url";
win = window.open(viewerURL, 'subWindow', 'directories=no, status=no');
if(win==null || win.closed)
{
 win.focus();
} 
```

现在上面的代码在 IE 6/7/8 中没有给我任何 java 脚本错误。

但现在它会停止所有浏览器中窗口的焦点。这意味着当我在一个窗口中打开一个 Link 1 文档然后最小化它然后再次打开 Link 2 文档时，它会打开它，但新打开的窗口是令人耳目一新，但它将保持在最小化模式，用户对此没有任何了解。

我想要预期的解决方案是：在 IE 6/7/8 浏览器以及 win.focus() 中没有给我“找不到成员”javascript 错误；也适用于所有浏览器。

请帮我解决这个问题。

在此先感谢 Yatin Baraiya

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T00:30:25.363

如果您需要最后点击的 URL 窗口获得焦点，那么您的代码应该是

```
var progressMsgURL = "url";
win = window.open(viewerURL, 'subWindow', 'directories=no, status=no');
if(win!=null)
{
 win.focus();
} 
```

# javascript - 可以使用 javascript 更改图像调色板吗？

> ID：10881470
> 
> 赞同：4
> 
> 时间：2012-06-04T12:41:15.893
> 
> 标签：javascript, image-processing

我已经在这里看到了一些关于此的问题，但没有一个能提供好的答案。

我需要的是一个 javascript（或者可能是某种使用 PHP/Apache 的插件），它可以在图像中找到颜色并将它们替换为自定义调色板中最接近的颜色，在我的例子中是[NES 调色板](http://en.wikipedia.org/wiki/List_of_video_game_console_palettes#NES)。如何才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T14:19:15.060

是的，可以通过以下步骤使用 javascript 来完成：

1.  将图像加载到画布中
2.  获取图像数据（每个像素的 rgba 值数组）
3.  循环遍历数组并将 rgba 值转换为十六进制值
4.  将生成的颜色转换为调色板中最接近的颜色
5.  将新颜色转换回 rgba 值
6.  将新的 imagedata 数组恢复到画布

# php - 为什么上传路径无效？（代码点火器）

> ID：10881476
> 
> 赞同：0
> 
> 时间：2012-06-04T12:41:26.163
> 
> 标签：php, codeigniter, file-upload

我有一个带有“do_upload”方法的控制器，它应该将图像上传到/img，但我收到以下错误：

```
http://localhost/img/ 
```

上传路径似乎无效。

这是上传类的方法。

```
public function do_upload(){

        $config['upload_path']= "http://localhost/img/";
        $config['allowed_types']= 'gif|jpg|png';
        $config['max_size']='100';
        $config['max_width']='1024';
        $config['max_height']='768';

        $this->load->library('upload',$config);

        if(!$this->upload->do_upload()){
            $errors=array('errors'=>$this->upload->display_errors());
            echo $config['upload_path'];
            $this->load->view('error',$errors);
        }

        else{

            $data=array('upload_data'=> $this->upload->data());

            $this->load->view('admin/admin');
        }
    } 
```

文件权限设置为以下（测试此工作！）：

drwxrwxrwx

但是，如果我将浏览器指向`http://localhost/img/`我可以查看目录的内容，所以我认为这不是权限问题。有什么我做错了吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T12:57:01.387

正如lanzz所说，尝试

```
$config['upload_path']= APPPATH; 
```

或者

```
$config['upload_path']= APPPATH.'img/'; 
```

文件管理和浏览器地址很少相同，而且从不与 localhost 相同。

**编辑：**请参阅[我的其他答案](https://stackoverflow.com/questions/15242972/codeigniter-how-to-get-realitive-absolute-path-dynamically-just-outside-of-appli/15243162#15243162)以了解可能的路径。在大多数情况下，您可能想要使用`FCPATH`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-04T12:45:48.387

您不能上传到 URL。`$config['upload_path']`必须是服务器上文件系统位置的路径。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-17T08:29:33.667

我面临同样的问题几个小时。

问题在于 config.xml 中给出的文件路径。我手动将其更改为绝对路径。我在 WAMP 工作。我的项目目录是'rmp'当我使用配置文件路径时，

```
 $_SERVER['DOCUMENT_ROOT'].'rmp/uploads/'; 
```

一切正常。不知道具体是什么问题。但这解决了我的解决方案。干杯！！！:)

**解决方案 2：** 我做了一些工作，发现 CI 默认以项目文件夹为目标。因此，如果您将 img 作为上传文件夹名称，请确保它位于与应用程序、系统平行的 codeigniter 的根目录中。

像， `ROOT/yourcodeigniterproject/img`

在这种情况下，只需提供`'img/'`您的上传路径。工作正常。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-19T19:21:29.500

老问题，但没有人指出 img 文件夹需要在 htaccess 文件中列出。根据它的外观（.htaccess 代码），如果您使用 CI 提供的用户指南 URL 页面，则在 robots.txt 之后添加管道设计器和 img，如：

```
RewriteEngine on
RewriteCond $1 !^(index\.php|images|robots\.txt|img)
RewriteRule ^(.*)$ /index.php/$1 [L] 
```

# wpf - 选择要复制的文本框的文本

> ID：10881484
> 
> 赞同：0
> 
> 时间：2012-06-04T12:41:52.773
> 
> 标签：wpf, uibutton, copy-paste

这是应该发生的步骤

1.  新的 UC 加载并在我的 exe 中生成证书

2.  该证书的地址显示在文本框中（如下所述）

    所有这些步骤都在 UC 加载时发生。

3.  我需要一个复制该文本框路径的复制按钮。

我正在使用下面的代码，但由于 UC 加载复制按钮被禁用。为什么？

```
<TextBox Grid.Column="1"  HorizontalAlignment="Stretch" Name="label1" VerticalAlignment="Stretch" Foreground="#FFF20C0C" IsManipulationEnabled="False" IsTabStop="False" IsUndoEnabled="False" BorderThickness="0" Background="{StaticResource {x:Static SystemColors.ControlBrushKey}}" TextWrapping="Wrap" IsReadOnly="True">

<Button Grid.Row="2" Height="Auto" Width="Auto
            " Command="Copy" Content="Copy certificate address" HorizontalAlignment="Left" VerticalAlignment="Center" CommandTarget="{Binding ElementName=label1}"/> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T15:30:39.923

我假设您正在尝试使用[ApplicationCommands.Copy](http://msdn.microsoft.com/en-us/library/system.windows.input.applicationcommands.copy.aspx)。如果是这样，那么如果按钮位于 a`ToolBar`或之外，则复制按钮将始终显示为灰色`Menu`。默认情况下，应用程序命令将`FocusScope`在用于 a`ToolBar`或时接收`Menu`；否则，`FocusScope`将需要手动设置。

与其深入细节，请参阅 SO 问题：[Copy Property to Clipboard](https://stackoverflow.com/a/2564519/9664)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T14:55:26.500

处理按钮的单击事件并在那里制作副本。它应该是这样的：

```
ButtonClickHandler(object sender, EventArgs e) 
{
   Clipboard.SetText(label1.Text);
} 
```

Clipboard.SetText() 应该将 label1 的文本复制到 Windows 剪贴板。

# rest - Neo4j - 如何通过 REST 获取当前版本

> ID：10881485
> 
> 赞同：11
> 
> 时间：2012-06-04T12:41:54.000
> 
> 标签：rest, neo4j

如何通过 REST 获取当前正在运行的 neo4j-server 版本（或一般服务器信息）？是否有任何“/status” URI 或类似的东西？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2016-12-28T13:33:14.563

试试这个，获取[http://localhost:7474/db/manage/server/version](http://localhost:7474/db/manage/server/version) 这会给你一个像 { "edition" : "community", "version" : "2.3.3" } 这样的 json 响应

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-04T19:53:49.970

向服务器数据根发出 GET 请求将返回以下信息：

```
GET http://localhost:7474/db/data/ 
```

该调用将返回一个 JSON 对象。服务器版本在键“neo4j_version”中。这[在此处记录](https://neo4j.com/docs/rest-docs/current/#rest-api-service-root)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-01-27T09:32:39.643

根据[REST API 文档页面](https://neo4j.com/docs/rest-docs/current/)，引用：

> 本手册中描述的 API 已被弃用，并将在 Neo4j 4.0 中删除。应该使用密码和程序，或者通过 HTTP API，或者通过使用官方驱动程序的 Bolt。

自版本 4+ 起，http://localhost:7474/db/manage/server/version 和 http://localhost:7474/db/data/ 端点都不再有效。假设对 db 的身份验证是`--env NEO4J_AUTH=username/password`（只是`docker run`选项的示例），推荐的方法是使用 HTTP API，如下所示：

```
POST http://localhost:7474/db/data/transaction/commit
Accept: application/json;charset=UTF-8
Content-Type: application/json
Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ=

{
  "statements": [
    {
      "statement": "CALL dbms.components()"
    }
  ]
} 
```

回应是：

```
http://localhost:7474/db/data/transaction/commit

HTTP/1.1 200 OK
Date: Thu, 27 Jan 2022 09:20:13 GMT
Access-Control-Allow-Origin: *
Content-Type: application/json;charset=utf-8
Content-Length: 147

{
  "results": [
    {
      "columns": [
        "name",
        "versions",
        "edition"
      ],
      "data": [
        {
          "row": [
            "Neo4j Kernel",
            [
              "4.2.3"
            ],
            "community"
          ],
          "meta": [
            null,
            null,
            null
          ]
        }
      ]
    }
  ],
  "errors": []
} 
```

# parsing - 规范互斥数据结构

> ID：10881486
> 
> 赞同：1
> 
> 时间：2012-06-04T12:41:54.020
> 
> 标签：parsing, data-structures

注意：这与互斥的并发问题无关，但我想不出更好的方式来描述这个问题。

我有一个问题，我想让用户选择一些标志，但有些标志是互斥的。我想使用数据结构来描述哪些标志是互斥的，但我所想到的一切都很笨拙。

基本上，我希望能够指定如何使用标志，如下所示：

[-fa | -e | -d ] [ -c ] [ -g | -H ]

这在语义上应该意味着，我可以有 -fa、-e、-d 中的任何一个，但不能有两个或更多（但是，f 可以与 a 一起使用，您不需要同时使用两者）。我可以有或没有-c，我可以有-g或-h，但不能同时有。

这是我的“最佳”解决方案。

Map[Flag, MutexGroup] (及其逆, Map[MutexGroup, List[Flag]]) Map[MutexGroup, List[MutexGroup]]

我的例子会是什么样子

映射（“f”-> 1、“a”-> 1、“e”-> 2、“d”-> 3、“c”-> 4、“g”-> 5、“h”-> 6 ) Map(1 -> List(2, 3), 2 -> List(1, 3), 3 -> List(1, 2), 4 -> List.empty, 5 -> List(6), 6 - > 列表(5))

为简洁起见，我没有包含 Map[MutexGroup, List[Flag]]。

这个解决方案让我一想到必须使用它就感到不寒而栗。有处理这种事情的规范方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T13:44:10.197

您正在描述一种语法。

表示语法的最佳方式是*抽象语法树*。树是代表（互斥）选择的规范结构。

您可以通过多种方式表示语法树，但一种很好的方法是使用[代数数据类型](https://stackoverflow.com/questions/16770/haskells-algebraic-data-types)，因为它们静态地保证只能构造格式良好的表达式。标志本身形成一个集合，因此使用`Set`数据类型来强制执行 no-duplicates 属性也很好。

```
-- can have any one of -fa, -e, -d, but not two or more
-- (however, f can be used with a, and you don't need to use both).
-- I can either have a -c or not, and I can have either -g or -h, but not both.
--

-- zero or more flags
type Flags = Set Flag

-- Flags come in three groups
data Flag
        = F1 FAED
        | F2 C
        | F3 GH
    -- equality up to the first constructor. 

-- one of: -f or -a; -e; -d
data FAED
        = FA FA 
        | E
        | D

-- a type for: -f ; -a ; -f -a
data FA = F
        | A
        | FA

-- the -c flag
data C  = C

-- either -g or -h
data GH = G
        | H 
```

还有其他方法可以对您的语言进行编码，但这足以让您开始使用语法树表示语言的路径。

# java - 线程转储和信号以获取带有行号的死锁

> ID：10881492
> 
> 赞同：0
> 
> 时间：2012-06-04T12:42:08.100
> 
> 标签：java, android

我想获得一个线程转储，比如我的 Android 进程上的“kill -3”，所以我可以看到死锁。但是，从 adb shell 中，我得到“不允许操作”，因为我的测试手机没有植根。

DDMS 线程监视器中是否可见死锁？但是，那里没有行号。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T14:58:13.417

[这里](http://quequero.org/Debugging_Deadlocks_on_Android)这篇文章解释了如何在android中调试线程死锁。还添加一些自记录可能有助于解决死锁。另外，如果您的应用程序正在执行一些网络/磁盘操作，您可能想在 android 上阅读`StrictMode`。

[http://developer.android.com/reference/android/os/StrictMode.html](http://developer.android.com/reference/android/os/StrictMode.html)

# java - 如何获取当前正在单击其单元格的表格？

> ID：10881496
> 
> 赞同：0
> 
> 时间：2012-06-04T12:42:32.477
> 
> 标签：java, swing, jtable

我在面板中有两张桌子。当我单击某个单元格上的第一个表时，它的行被选中。当我单击某个单元格上的第二个表时，它的行也被选中。

现在，我将如何知道最后点击的是哪个表。我在两张桌子上都试过了`isRowSelected`，都回来了，所以我找不到最后点击的桌子？

有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:47:40.827

你必须阅读如何

*   [表](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#selection)

*   [列表选择监听器](http://docs.oracle.com/javase/tutorial/uiswing/events/listselectionlistener.html)

作品，

你必须理解这两个概念，简单的例子[在这里](https://stackoverflow.com/questions/7262099/jtable-change-cell-background-at-mouse-click-after-release-change-background-b/7262163#7262163)，另一个[在这里](https://stackoverflow.com/a/6901508/714968)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T13:43:21.990

另一种方法是检查事件的来源：

```
new ListSelectionListener() {

    @Override
    public void valueChanged(ListSelectionEvent e) {
        if (e.getSource()==table1.getSelectionModel()) {
             // Event comes from table1
        } else if (e.getSource()==table2.getSelectionModel()) {
             // Event comes from table2
        }
    }
} 
```

当然，只有单个表使用选择模型时，这是正确的（如果您没有设置自己的ListSelectionModel，则是这种情况）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T12:48:17.310

我不知道这是否必须从 MouseListener 或 ListSelectionListener 确定，但最简单的解决方案是相似的：为每个表使用不同的侦听器：

```
table1.addXxxListener(new XxxListener() {
    // here, you know it's table 1
}

table2.addXxxListener(new XxxListener() {
    // here, you know it's table 2
} 
```

# iphone - iPhone 检查定位服务

> ID：10881498
> 
> 赞同：0
> 
> 时间：2012-06-04T12:42:35.263
> 
> 标签：iphone, gps, location

我有一个带有位置服务的应用程序。如果我在首选项中禁用位置服务，我会使用此方法检查此状态：`[CLLocationManager locationServicesEnabled]` 此方法返回是否所有位置服务都已启用或禁用。但问题是我不知道如何检查我的应用程序的位置服务状态。我的意思是状态何时启用和禁用所有位置服务只是我的应用程序？我怎样才能检查这个？`[CLLocationManager locationServicesEnabled]`不在这里工作...非常感谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:48:22.487

返回应用程序使用位置服务的授权状态。

```
+ (CLAuthorizationStatus)authorizationStatus 
```

返回值

指示应用程序是否有权使用位置服务的值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T13:14:32.807

我在我的代码中使用它，它工作正常

```
if ([CLLocationManager authorizationStatus] == kCLAuthorizationStatusAuthorized ) 
{
    //do something
}
else 
{
    //display an alert for example
} 
```

# animation - 3D Max 从动画帧生成对象，将帧复制到视口

> ID：10881499
> 
> 赞同：0
> 
> 时间：2012-06-04T12:42:40.983
> 
> 标签：animation, 3dsmax, autodesk

是否可以将所有动画帧复制到视口中的单独对象中？

我已经在使用路径变形和阵列工具，但它们不能（据我所知）为材质设置动画。另外，他们的输出不能用曲线编辑器编辑？？

示例：我有一个旋转框沿路径移动的 30 帧动画。相反，我想在视口中有 30 个框。每一个，都是其各自关键帧的副本。

有点像从移动物体创建轨迹的经典视频技术。我知道它可以在 After Effects 中完成，但我想在场景中从我自己的自定义动画帧中制作实际的 3d 模型，而不是路径变形和阵列的结果。然后我可以将它们作为静止图像处理。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T06:54:30.093

选择对象并使用此 maxscript 代码：

```
for i = 1 to 30 do at time i snapshot $ 
```

它将在每一帧创建网格的折叠副本。

# android - 列表视图无法正常工作

> ID：10881500
> 
> 赞同：0
> 
> 时间：2012-06-04T12:42:42.360
> 
> 标签：android

我的应用程序中有一个列表视图。它工作正常，但是当元素
数量增加然后向下滚动并选择任何视图时，它会显示强制关闭。
为什么这样？代码段如下：

```
 lv1 = (ListView) findViewById(R.id.listView);
     lv1.setAdapter(new ArrayAdapter<String>(this,R.layout.list_item,surveyName));
    // lv1 = getListView();
     lv1.setOnItemClickListener(new OnItemClickListener() {
           public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
             long arg3) {
              ListView lv = (ListView) arg0;
              TextView tv = (TextView) lv.getChildAt(arg2);
              String s = tv.getText().toString();
              for(int i=0;i<ss;i++){
                    if(surveyName[i].equals(s)){
                        id=surveyId[i];
                    }
                }
                Intent j=new Intent(SurveyTool.this,Survey.class);
                Bundle d=new Bundle();
                d.putString("surveyId", id);
                d.putString("userId", userId);
                j.putExtras(d);
                startActivity(j);

           }  }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:49:38.743

```
lv1.setAdapter(new ArrayAdapter<String>(this,R.layout.list_item,surveyName)); 
```

替换为这一行

```
mAdapter = new ArrayAdapter<String>(this,android.R.layout.simple_list_item_1,surveyName); 
```

跳它运作良好...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:49:47.450

可能是您尝试获取不存在的元素，请查看此...

[Android：从 ListView 访问子视图](https://stackoverflow.com/questions/257514/android-access-child-views-from-a-listview)

# windows - Cabal 配置在配置测试时失败 (Windows)

> ID：10881504
> 
> 赞同：0
> 
> 时间：2012-06-04T12:42:57.803
> 
> 标签：windows, testing, haskell, cabal, yesod

我是 Haskell 的新手，并尝试使用 cabal 在 Windows 机器上安装 Yesod。

当我尝试执行`yesod devel`构建失败时，我必须先运行配置。

然后，当我运行 a`cabal configure`它失败并显示以下消息：

```
Resolving dependencies...
Configuring test-0.0.0...
cabal: Test sharing name of exe found. Consider this a bug. 
```

我正在使用最新的 Haskell 平台（2012.2.0.0）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:23:10.070

显然 cabal 中有一个错误，您不能拥有与常规可执行文件同名的测试可执行文件。由于测试可执行文件名为`test`，并且常规可执行文件与您的项目具有相同的名称，因此看起来它`test`不再是 Yesod 项目的有效名称。如果您将其命名为其他名称，它应该可以工作。

您能否在 Github 上提交错误报告，以便我们阻止人们使用该名称`test`？

# wcf - 从 wcf 服务调用第三方 Web 服务

> ID：10881510
> 
> 赞同：0
> 
> 时间：2012-06-04T12:43:18.357
> 
> 标签：wcf, web-services

我必须从我的 WCF 服务库中调用第三方 Web 服务。当我从测试应用程序调用第三方 Web 服务时，没有问题，但是当我从我的 WCF 服务调用时，出现错误：

> 接收对 xxx.svc/ws 的 HTTP 响应时出错。这可能是...

我已经添加了第三方网络服务`Add Service Reference`。该 Web 服务的绑定会自动生成为：

```
<wsHttpBinding>
   <binding name="WSHttpBinding_xxxService" closeTimeout="00:01:00"
            openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
            bypassProxyOnLocal="false" transactionFlow="false" 
            hostNameComparisonMode="StrongWildcard"
            maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
            messageEncoding="Text" textEncoding="utf-8" useDefaultWebProxy="true"
            allowCookies="false">
       <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
                     maxBytesPerRead="4096" maxNameTableCharCount="16384" />
       <reliableSession ordered="true" inactivityTimeout="00:10:00" enabled="false" />
       <security mode="None">
          <transport clientCredentialType="Windows" proxyCredentialType="None" realm="" />
          <message clientCredentialType="Windows" negotiateServiceCredential="true" />
       </security>
   </binding>
</wsHttpBinding> 
```

我的 WCF 服务的绑定不同：

```
<basicHttpBinding>
    <binding name="basicHttpBinding" closeTimeout="00:01:00" openTimeout="00:01:00"
             receiveTimeout="00:10:00" sendTimeout="00:01:00" allowCookies="false"
             bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard"
             maxBufferSize="65536" maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
             messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
             useDefaultWebProxy="true">
        <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
                      maxBytesPerRead="4096" maxNameTableCharCount="16384" />
        <security mode="None">
            <transport clientCredentialType="None" proxyCredentialType="None" realm="" />
            <message clientCredentialType="UserName" algorithmSuite="Default" />
        </security>
    </binding>
</basicHttpBinding> 
```

我的 WCF 服务的绑定在测试`app.config`文件中自动生成，但第三方服务的绑定仅在 WCF appl 配置中生成。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T11:44:10.943

我找到了解决方案。问题是 Web 应用程序没有使用 Web 配置文件中配置的 Web 服务配置。它总是通过代理直接调用。因此，我从代码中调用了 Web 服务，并以编程方式为 Web 服务输入了与 Web 配置中相同的设置，并添加了可以通过我的网络的代理地址。

# api - Instagram API：如何获取所有用户媒体？

> ID：10881511
> 
> 赞同：67
> 
> 时间：2012-06-04T12:43:23.227
> 
> 标签：api, instagram

一般来说，我需要获取所有用户媒体。

用户拥有超过 250 张照片。

我愿意`/users/1/media/recent/?access_token=...&count=250`

但它只返回 20 张照片。

也许 instagram 有获取媒体的限制。如果是，则响应有一个分页来解决它。但是只有最大的身份证照片。那么如何知道第一张（最少）身份证照片对其进行分页呢？

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2012-12-05T16:42:05.923

没错，Instagram API 每次调用只会返回 20 张图片。所以你必须使用分页功能。

如果您尝试使用 API 控制台。您需要首先允许 API 控制台通过您的 Instagram 登录进行身份验证。为此，您需要在 Authentication 下拉菜单下选择 OAUTH2。

验证后，使用左侧菜单选择 users/{user-id}/media/recent 端点。因此，为了 {user-id} 的这篇文章，您可以将其替换为 self. 然后，这将使用您的帐户检索信息。

至少这是为此端点执行 GET 所需的内容。发送后，您会收到一些 json 返回给您。在所有服务器信息之后的返回信息的最顶部，您将看到带有 next_url 和 next_max_id 的分页部分。

next_max_id 是您将用作查询参数的内容。请记住，max_id 是第一次返回的 20 个图像中最旧的图像的 ID。这将用于返回比此图像更早的图像。

如果您不想使用，则不必使用 max_id。实际上，您只需获取要从中查询更多图像的图像的 id。

所以从返回的数据中，将 max_id 复制到参数 max_id 中。请求 URL 应该类似于[https://api.instagram.com/v1/users/self/media/recent?max_id=XXXXXXXXXXX](https://api.instagram.com/v1/users/self/media/recent?max_id=XXXXXXXXXXX)其中 XXXXXXXXXXX 是 max_id。再次点击发送，您应该会收到接下来的 20 张照片。

从那里您还将收到更新的 max_id。然后，您可以再次使用它来获取下一组 20 张照片，直到最终浏览完所有用户的照片。

我在我正在处理的项目中所做的是加载从最近的初始媒体请求返回的前 20 张照片。然后，我为图像分配一个 data-id（-id 实际上可以是你想要的任何东西）。然后在照片集的底部添加了一个加载更多按钮。

单击按钮时，我使用 jQuery 获取最后一张图片及其 data-id 属性，并使用该属性通过 ajax 创建 get 调用，并将结果附加到页面上已有照片的末尾。您可以将其替换为具有无限滚动效果的按钮，而不是按钮。

希望有帮助。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2013-01-29T15:20:20.453

我已经通过将可选参数计数设置为 -1 解决了这个问题。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-06-05T06:38:18.003

这是[Instagram Developer Console](https://www.instagram.com/developer/)中的一个问题。`max_id`并且`min_id`在那里不起作用。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-12-03T22:01:22.293

有关. [_](http://instagram.com/developer/endpoints/) _ `pagination`您需要随后逐步浏览结果页面，每次都使用结果在对象`next_url`中指定的请求下一部分。`pagination`

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2017-09-03T07:11:15.510

2016 年 6 月，Instagram 将其 API 的大部分功能仅提供给已通过审核流程的应用程序使用。但是，它们仍然通过 Web 界面提供 JSON 数据，您可以将参数添加`__a=1`到 URL 以仅包含 JSON 数据。

```
max=
while :;do
  c=$(curl -s "https://www.instagram.com/username/?__a=1&max_id=$max")
  jq -r '.user.media.nodes[]?|.display_src'<<<"$c"
  max=$(jq -r .user.media.page_info.end_cursor<<<"$c")
  jq -e .user.media.page_info.has_next_page<<<"$c">/dev/null||break
done 
```

编辑：正如 alnorth29 的评论中所述，该`max_id`参数现在被忽略。Instagram 还更改了响应的格式，您需要执行额外的请求才能获取新式帖子中图像的全尺寸 URL，每个帖子有多个图像。您现在可以执行以下操作以在结果的第一页上列出图像的全尺寸 URL：

```
c=$(curl -s "https://www.instagram.com/username/?__a=1")
jq -r '.graphql.user.edge_owner_to_timeline_media.edges[]?|.node|select(.__typename!="GraphSidecar").display_url'<<<"$c"
jq -r '.graphql.user.edge_owner_to_timeline_media.edges[]?|.node|select(.__typename=="GraphSidecar")|.shortcode'<<<"$c"|while read l;do
  curl -s "https://www.instagram.com/p/$l?__a=1"|jq -r '.graphql.shortcode_media|.edge_sidecar_to_children.edges[]?.node|.display_url'
done 
```

为了列出用户在 Safari 最前面的选项卡中打开其个人资料的每个帖子的简码列表，我使用如下脚本：

```
sjs(){ osascript -e'{on run{a}','tell app"safari"to do javascript a in document 1',end} -- "$1";}

while :;do
  sjs 'o="";a=document.querySelectorAll(".v1Nh3 a");for(i=0;e=a[i];i++){o+=e.href+"\n"};o'>>/tmp/a
  sjs 'window.scrollBy(0,window.innerHeight)'
  sleep 1
done 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2013-11-22T18:36:34.107

我要做的是（在 Javascript 中）使用递归函数遍历所有页面。这很危险，因为 instagram 用户可能有数千张图片来自其中（所以你必须控制它）我使用这个代码：（我认为计数参数，没有多大作用）

```
 instagramLoadDashboard = function(hash)
    {
        code = hash.split('=')[1];

        $('#instagram-pictures .images-list .container').html('').addClass('loading');

        ts = Math.round((new Date()).getTime() / 1000);
        url = 'https://api.instagram.com/v1/users/self/media/recent?count=200&min_timestamp=0&max_timestamp='+ts+'&access_token='+code;

        instagramLoadMediaPage(url, function(){

            galleryHTML = instagramLoadGallery(instagramData);
            //console.log(galleryHTML);
            $('#instagram-pictures .images-list .container').html(galleryHTML).removeClass('loading');
            initImages('#instagram-pictures');

            IGStatus = 'loaded';

        });

    };

    instagramLoadMediaPage = function (url, callback)
    {
        $.ajax({
                url : url,
                dataType : 'jsonp',
                cache : false,
                success:  function(response){

                                        console.log(response);

                                        if(response.code == '400')
                                        {
                                            alert(response.error_message);
                                            return false;
                                        }

                                        if(response.pagination.next_url !== undefined) {
                                            instagramData = instagramData.concat(response.data);
                                            return instagramLoadMediaPage(response.pagination.next_url,callback);
                                        }

                                        instagramData = instagramData.concat(response.data);
                                        callback.apply();
                                    }
        });
    };

    instagramLoadGallery = function(images)
    {
        galleryHTML ='<ul>';

        for(var i=0;i<images.length;i++)
        {
            galleryHTML += '<li><img src="'+images[i].images.thumbnail.url+'" width="120" id="instagram-'+images[i].id+' data-type="instagram" data-source="'+images[i].images.standard_resolution.url+'" class="image"/></li>';

        }

        galleryHTML +='</ul>';

        return galleryHTML;
    }; 
```

有一些与打印图片库有关的东西。

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2015-02-27T03:21:56.217

使用最佳递归函数获取用户的所有帖子。

```
<?php
    set_time_limit(0);
    function getPost($url,$i) 
    {
        static $posts=array();  
        $json=file_get_contents($url);
        $data = json_decode($json);
        $ins_links=array();
        $page=$data->pagination;
        $pagearray=json_decode(json_encode($page),true);
        $pagecount=count($pagearray);

        foreach( $data->data as $user_data )
        {
            $posts[$i++]=$user_data->link;
        }

        if($pagecount>0)
            return getPost($page->next_url,$i);
        else
            return $posts;
    }
    $posts=getPost("https://api.instagram.com/v1/users/CLIENT-ACCOUNT-NUMBER/media/recent?client_id=CLIENT-ID&count=33",0);

    print_r($posts);

?> 
```

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2015-08-10T18:13:20.393

您可以对 Instagram PHP API 进行用户分页：[https ://github.com/cosenary/Instagram-PHP-API/wiki/Using-Pagination](https://github.com/cosenary/Instagram-PHP-API/wiki/Using-Pagination)

像这样的东西：

```
 $Instagram = new MetzWeb\Instagram\Instagram(array(
        "apiKey"      => IG_APP_KEY,
        "apiSecret"   => IG_APP_SECRET,
        "apiCallback" => IG_APP_CALLBACK
    ));
    $Instagram->setSignedHeader(true);

    $pictures = $Instagram->getUserMedia(123);
    do {

        foreach ($pictures->data as $picture_data):

            echo '<img src="'.$picture_data->images->low_resolution->url.'">';

        endforeach;

    } while ($pictures = $instagram->pagination($pictures)); 
```

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2015-03-18T22:54:53.523

使用该`next_url`对象获取接下来的 20 张图像。

在 JSON 响应中有一个`pagination`数组：

```
 "pagination":{
      "next_max_tag_id":"1411892342253728",
      "deprecation_warning":"next_max_id and min_id are deprecated for this endpoint; use min_tag_id and max_tag_id instead",
      "next_max_id":"1411892342253728",
      "next_min_id":"1414849145899763",
      "min_tag_id":"1414849145899763",
      "next_url":"https:\/\/api.instagram.com\/v1\/tags\/lemonbarclub\/media\/recent?client_id=xxxxxxxxxxxxxxxxxx\u0026max_tag_id=1411892342253728"
 } 
```

这是有关特定 API 调用的信息，该对象`next_url`显示获取接下来 20 张图片的 URL，因此只需获取该 URL 并为接下来的 20 张图片调用它。

有关 Instagram API 的更多信息，请查看这篇博文：[使用 Instagram 的 API 变得友好](https://medium.com/@KevinMcAlear/getting-friendly-with-instagrams-api-abe3b929bc52)

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2017-09-06T12:39:50.817

Instagram 开发者控制台已经为它提供了解决方案。[https://www.instagram.com/developer/endpoints/](https://www.instagram.com/developer/endpoints/)

要在 PHP 中使用它，这里是代码片段，

```
/**
**
** Add this code snippet after your first curl call
** assume the response of the first call is stored in $userdata
** $access_token have your access token
*/

$maximumNumberOfPost = 33; // it can be 20, depends on your instagram application
$no_of_images = 50 // Enter the number of images you want

if ($no_of_images > $maximumNumberOfPost) {

    $ImageArray = [];
    $next_url = $userdata->pagination->next_url;
    while ($no_of_images > $maximumNumberOfPost) {
           $originalNumbersOfImage = $no_of_images;
           $no_of_images = $no_of_images - $maximumNumberOfPost;
           $next_url = str_replace("count=" . $originalNumbersOfImage, "count=" . $no_of_images, $next_url);
           $chRepeat = curl_init();
           curl_setopt_array($chRepeat, [
                             CURLOPT_URL => $next_url,
                             CURLOPT_HTTPHEADER => [
                                    "Authorization: Bearer $access_token"
                              ],
                              CURLOPT_RETURNTRANSFER => true
                            ]);
            $userRepeatdata = curl_exec($chRepeat);
            curl_close($chRepeat);
            if ($userRepeatdata) {
                      $userRepeatdata = json_decode($userRepeatdata);
                      $next_url = $userRepeatdata->pagination->next_url;
                     if (isset($userRepeatdata->data) && $userRepeatdata->data) {
                          $ImageArray = $userRepeatdata->data;
                   }
           }
    }

} 
```

# python - 堆叠子图的对齐

> ID：10881520
> 
> 赞同：5
> 
> 时间：2012-06-04T12:44:06.407
> 
> 标签：python, numpy, matplotlib

编辑：

我找到了一个答案（见下文）如何在其子图中对齐图像：

```
for ax in axes:
    ax.set_anchor('W') 
```

编辑结束

我有一些我用 imshow 绘制的数据。它在 x 方向上很长，因此我通过在垂直堆叠的子图中绘制数据切片将其分成多条线。我对结果感到满意，但对于我希望与其他子图左对齐的最后一个子图（不如其他子图那么宽）。

下面的代码使用 Python 2.7.1 和 matplotlib 1.2.x 进行了测试。

```
#! /usr/bin/env python

import matplotlib.pyplot as plt
import numpy as np

x_slice = [0,3]
y_slices = [[0,10],[10,20],[20,30],[30,35]]
d = np.arange(35*3).reshape((35,3)).T
vmin = d.min()
vmax = d.max()
fig, axes = plt.subplots(len(y_slices), 1)

for i, s in enumerate(y_slices):
    axes[i].imshow( 
        d[ x_slice[0]:x_slice[1], s[0]:s[1] ], 
        vmin=vmin, vmax=vmax,
        aspect='equal',
        interpolation='none'
    )

plt.show() 
```

结果是

![垂直堆叠的子图，最后居中](../Images/5a2a2c6a3e4b37ef648ca6fc4b259dff.png)

根据Zhenya 的提示，我使用了axis.get/set_position。我尝试将宽度减半，但我不明白它的效果

```
for ax in axes:
    print ax.get_position()

p3 = axes[3].get_position().get_points()
x0, y0 = p3[0]
x1, y1 = p3[1]
# [left, bottom, width, height]
axes[3].set_position([x0, y0, (x1-x0)/2, y1-y0]) 
```

![在此处输入图像描述](../Images/bc923477f309d95578c6eaa7558df8e8.png)

`get_position`给了我每个子图的 bbox：

```
for ax in axes:
    print ax.get_position()

Bbox(array([[ 0.125     ,  0.72608696],
            [ 0.9       ,  0.9       ]]))
Bbox(array([[ 0.125     ,  0.5173913 ],
            [ 0.9       ,  0.69130435]]))
Bbox(array([[ 0.125     ,  0.30869565],
            [ 0.9       ,  0.4826087 ]]))
Bbox(array([[ 0.125     ,  0.1       ],
            [ 0.9       ,  0.27391304]])) 
```

所以所有子图都具有完全相同的水平范围（0.125 到 0.9）。从较窄的第 4 个子图来看，子图中的图像以某种方式居中。

让我们看一下 AxesImage 对象：

```
for ax in axes:
    print ax.images[0]

AxesImage(80,348.522;496x83.4783)
AxesImage(80,248.348;496x83.4783)
AxesImage(80,148.174;496x83.4783)
AxesImage(80,48;496x83.4783) 
```

同样，第四张图像的水平范围也相同。

接下来尝试 AxesImage.get_extent()：

```
for ax in axes:
    print ax.images[0].get_extent()

# [left, right, bottom, top]
(-0.5, 9.5, 2.5, -0.5)
(-0.5, 9.5, 2.5, -0.5)
(-0.5, 9.5, 2.5, -0.5)
(-0.5, 4.5, 2.5, -0.5) 
```

有区别（右），但左值对所有人都是一样的，那么为什么第四个居中呢？

编辑：他们都居中...

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-05T08:30:10.213

Axis.set_anchor 工作至今（我只是希望我现在不必手动调整太多）：

```
for ax in axes:
    ax.set_anchor('W') 
```

![在此处输入图像描述](../Images/e1db37987d27a58960a985b8daebde35.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-04T13:07:30.897

您可以手动控制子图的位置，如下所示：

```
for ax in axes:
  print ax.get_position() 
```

和

```
ax[3].set_position([0.1,0.2,0.3,0.4]) 
```

或者，您可能想看看[GridSpec](http://matplotlib.sourceforge.net/users/gridspec.html)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2019-07-11T13:49:02.617

我经常发现`ax.set_position`很难精确。我更喜欢用它`plt.subplots_adjust(wspace=0.005) # adjust the width between the subplots`来调整两个水平子图之间的距离。

您也可以调整垂直距离。

# named-entity-recognition - 使用斯坦福 NER 在多个文件上标记 NE

> ID：10881527
> 
> 赞同：1
> 
> 时间：2012-06-04T12:44:50.013
> 
> 标签：named-entity-recognition

我想使用斯坦福 NER 在多个文件中标记名称实体。在文档中，据说我们可以使用`-testFiles`带有逗号分隔的测试文件列表的选项，但在我的情况下它不起作用，例如：

```
java -cp stanford-ner.jar edu.stanford.nlp.ie.crf.CRFClassifier
     -loadClassifier ner-model.ser.gz -testFiles Test_file1.tsv,Test_file2.tsv 
```

但是当我们只输入一个文件时它可以工作。

系统是否也对所有多个文件进行内联评估（FOR P、R）？我只是想知道在多个文件的情况下它是如何工作的。

提前致谢。

哈达卡

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2019-11-06T09:45:10.650

您必须使用 prop.txt 文件才能使用多个 tsv 文件。检查此链接

[https://nlp.stanford.edu/software/crf-faq.html#mfiles](https://nlp.stanford.edu/software/crf-faq.html#mfiles)

以下是NER FAQ页面的片段

> 如何从多个文件中训练一个模型？
> 
> 不要设置 trainFile 属性或标志，而是设置 trainFileList 属性或标志。使用逗号分隔的文件列表。

# actionscript-3 - 如何计算字符串中的数字

> ID：10881529
> 
> 赞同：0
> 
> 时间：2012-06-04T12:44:54.950
> 
> 标签：actionscript-3

我有一个包含如下数字的字符串：2243。我需要做的是得到这些数字的总和。因此，使用该示例，字符串中的数字将转换为整数，我可以这样做：2+2+4+3 = 11。

很长一段时间没有编码，我发现自己对这个（可能）非常简单的任务有点难过。

非常感谢所有帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T13:00:14.353

你可以这样做：

```
var number:String = "2243";   // Represents your original string number
var result:int = 0;

for (var i:int = 0; i < number.length; i++) {
   result += parseInt(number.charAt(i), 10);
}

// result var will now contain your sum 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T13:02:26.000

你确定所有的个人数字都不会超过9吗？

```
private var number:String = "2243";
private var result:int = 0;

public function method1(event):void{
    for each (var num:String in number.split("")){
         result += parseInt(num);
    }
}

public function method2(event):void{
    for (var i:int = 0; i < number.length; i++){
        result += parseInt(number.charAt(i),10);
    }
} 
```

# android - 实现具有多列的列表视图

> ID：10881533
> 
> 赞同：0
> 
> 时间：2012-06-04T12:45:11.100
> 
> 标签：android, iphone, listview, jquery-mobile, cordova

我在 jQuery mobile 和 Phone Gap 中实现了一个 iPhone 应用程序

使用列表视图，我们可以实现普通表视图、嵌套表视图。

```
<ul data-role="listview" data-inset="true" class="ui-listview">
                        <li data-role="list-divider">Location</li> <!-- Section Header -------->

                        <li>Primary</a></li>
                        <li>Primary </li>
                        <li>Secondary</a></li>
                        <li>Secondary</li>

                    </ul> 
```

但所有这些只有一列，多行。

现在我需要创建一个包含多列的表（列表视图）。

![在此处输入图像描述](../Images/5c15262cdca77ac9f78a1b471f257b3e.png)

如何创建具有多列的列表视图？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T12:59:30.637

试试这个，我希望它会工作......

```
<ul>
<li> <!--first item -->
<table>
    <tr>
        <td>Heading1</td>
        <td>Meaning1</td>
    </tr>
    <tr>
        <td>Heading2</td>
        <td>Meaning2</td>
    </tr>
    <tr>
        <td>Heading3</td>
        <td>Meaning3</td>
    </tr>
</table>
</li>
<li> <!-- second item -->
<table>
    <tr>
        <td>Heading1</td>
        <td>Meaning1</td>
    </tr>
    <tr>
        <td>Heading2</td>
        <td>Meaning2</td>
    </tr>
    <tr>
        <td>Heading3</td>
        <td>Meaning3</td>
    </tr>
</table>
</li>
</ul> 
```

有一个[链接](http://the-jquerymobile-tutorial.org/jquery-mobile-tutorial-CH05.php)包含很好的信息

# css - 带 CSS 的梯形跨度

> ID：10881535
> 
> 赞同：4
> 
> 时间：2012-06-04T12:45:16.363
> 
> 标签：css, html

有什么办法可以画一个梯形跨度的东西，里面有文字吗？角落是否是圆形的并不重要，事实上，如果是的话，我会更喜欢它。[我知道如何用border-radius制作一个椭圆/圆形](http://jsfiddle.net/NaAYe/)，但我被困在梯形上。请帮忙！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T13:02:24.057

我使用纯 css`pseudo-elements`和`skew`支持 css 属性`border-radius`：[dabblet.com 上的演示](http://dabblet.com/gist/2868194)
[http://img135.imageshack.us/img135/9683/eeedea21cb3bc438fb33c80c.png](http://img135.imageshack.us/img135/9683/eedea21cb3bc438fb33c80c.png)

**html:** `<span>Trapezium</span>` **css:**

```
span {
    display: block;
    z-index: 1;
    position: relative;

    /* custom sizes */
    width: 200px;
    height: 50px;
}

span:before,
span:after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    bottom: 0;
    z-index: -1;
}

span:before {
    transform: skew(25deg);
    left: 25px;
}

span:after {
    transform: skew(-25deg);
    right: 25px;
    left: auto;
} 
```

### **UPD：** [没有演示`pseudo-elements`](http://dabblet.com/gist/2894280)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:48:28.260

使用这个 CSS 代码

```
span {display:block;
    border-bottom: 100px solid red;
    border-left: 50px solid transparent;
    border-right: 50px solid transparent;
    height: 0;
    width: 100px;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T12:56:25.527

我做过一次，觉得是这样的：

[http://jsbin.com/ebejip/](http://jsbin.com/ebejip/)

# android - 如何在 android 中安全（间接）查询 postgresql 数据库？

> ID：10881538
> 
> 赞同：3
> 
> 时间：2012-06-04T12:45:18.840
> 
> 标签：android, json, postgresql, soap

我必须采用的当前解决方案使用 JDBC 并将数据库的用户/密码存储在 android 应用程序中。就我而言，这不是一个好的解决方案。我想在中间的网络服务器上实现一个映射层。

对此是否有任何最佳实践或推荐策略？我应该使用 SOAP 或 JSON 还是完全不同的东西（因为它们在 Java 中实现得很好和/或易于使用）？是否有任何用于 postgresql <-> SOAP/JSON/PHP 中的任何映射工具，或者我需要自己编写这些脚本？

任何指针将不胜感激。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-05T02:11:19.757

## 快速版本：

使用在您控制的公共主机（可能但不一定是数据库主机）上运行的 Web 服务中间层。公开公共 Web 服务方法来完成您想要允许的有限工作，仅此而已。

## 相关问题：

*   [驱动 JDBC PostgreSQL 与 Android](https://stackoverflow.com/questions/10435609/driver-jdbc-postgresql-with-android)
*   [如何在 Android 中通过 JDBC 连接到 PostgreSQL 服务器？](https://stackoverflow.com/questions/5001066/how-to-connect-to-a-postgresql-server-via-jdbc-in-android)

## 实施选项

就我个人而言，我会使用像[Apache Tomcat](http://tomcat.apache.org)或[JBoss AS 7](http://www.jboss.org/as7)这样的 Java 应用程序服务器，并且我会使用[JAX-RS](http://en.wikipedia.org/wiki/Java_API_for_RESTful_Web_Services)编写我的 Web 服务方法来为我的应用程序生成一个很好的 REST 风格的 API。这就是我所熟悉的并且效果很好，但是您有很多选择，包括以下实现：

*   使用 HTTP 请求并生成 JSON 或 XML 回复的类 REST API（Java 的 JAX-RS impls Jersey 和 RESTEasy，各种其他语言工具）。

*   带有 WSDL 的 SOAP，经典的“Web 服务”层。在 Java 中使用 JAX-WS 以及其他选项完成。大多数语言都有用于 SOAP+WSDL 的工具，但使用起来有点糟糕，尤其是在手机等间歇性连接的设备上。

*   XML-RPC 如果你喜欢痛苦

[JBoss AS 7 快速入门](https://docs.jboss.org/author/display/AS71/Contributing+a+Quickstart)列表中有一些 JAX-RS[快速入门；](https://github.com/jbossas/quickstart/)只需搜索“JAX-RS”。“[厨房水槽](https://docs.jboss.org/author/display/AS71/Getting+Started+Developing+Applications+Guide#GettingStartedDevelopingApplicationsGuide-CDIJSFEJBJTABeanValidationJAXRSArquillian:Kitchensinkquickstart)”快速入门很有用，但如果您不熟悉 JBoss AS 7 和 Jave EE 6 的基础知识，可能并不理想。对于 JAX-RS 细节，您最好使用类似的 Jersey 或 RESTEasy[教程](http://www.vogella.com/articles/REST/article.html)或者[这个](http://www.vogella.com/articles/REST/article.html)。

## 重要注意事项

如果可能，请使用 HTTPs，如果不公开访问，请使用合适的 HTTP 身份验证方案，例如 HTTP Basic auth over HTTPs。任何体面的 Web 服务实现都将提供身份验证选项或支持其运行平台的身份验证选项。避免在 Web 服务层实现自己的身份验证和用户管理的诱惑，你*会*搞砸的；在已经编写和测试的 HTTP 层使用身份验证。这可能需要使用类似 Apache 的东西`mod_auth_pgsql`, JBoss AS 7 的 JDBC 安全领域等。我考虑不做正确的每用户 HTTP 身份验证的唯一情况是出于安全原因我不需要分隔我的用户，我只关心它是我的应用程序访问服务器，即如果我的安全要求很弱。在这种情况下，我会为整个应用程序使用固定的用户名/密码，如果 Android 支持它们，可能还会使用 X.509 客户端证书。

请记住，无论您如何保护事物，所有凭据要么为用户所知，要么可以从 .apk 中轻松提取，因此您仍然必须假设任何人都可以访问您的 Web 服务方法，而不仅仅是您的应用程序。相应地编写它们。

不要*只是*通过 Web 服务调用从您的应用程序向服务器发送 SQL 并将结果作为 JSON 返回。这是非常不安全的，而且丑陋和笨重。为您希望应用程序能够执行的每个单独任务编写一个 Web 服务方法，并将 SQL 保留在服务器中。请记住使用参数化查询并注意其他 SQL 注入风险。这些 Web 服务方法可以使用一个或多个查询来生成单个回复 - 例如，您可能会收集“客户”记录以及所有相关的“地址”和“联系人”记录，然后将结果以漂亮的 JSON 对象返回到 Android 设备可以消耗，节省大量缓慢且不可靠的网络往返。

无论您使用什么，请确保在后台工作线程中进行 Web 服务调用，而不是阻塞用户界面。为超时和错误以及重试的需要做好准备。通过模拟间歇性连接丢失、高延迟和高丢包率来测试您的应用，并确保它仍然可用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T12:53:57.940

是否有最佳做法：

取决于个人。都有自己的长处和短处。我更喜欢，而且我认为很多人但不是所有人都会同意 JSON，因为它在 Android 中非常容易使用。它也是轻量级的，非常容易在 php 中使用。Php 具有将数组/对象转换为 json 并返回的方法。

确实不建议将您的 postgres 数据保存在 android 设备上。

我的策略通常是：

PHP 服务器端带有一个 POSTGRESQL 数据库，使用 PDO 在我的模型和数据库之间进行通信。

如果您不熟悉 PDO（php 数据对象），我建议您自己熟悉它。

[php.net PDO](http://nl.php.net/manual/en/book.pdo.php)

Android 作为客户端，使用 JSON 作为传输数据的方法。

有很多例子可以帮助你。

Android 有标准库来处理 json 解析。

有关示例，请参见此答案：

[例子](https://stackoverflow.com/questions/10878936/best-methods-to-consume-web-service-from-android/10879086#10879086)

# html - 添加顶部下拉菜单时，右标题链接不可点击

> ID：10881539
> 
> 赞同：0
> 
> 时间：2012-06-04T12:45:18.883
> 
> 标签：html, css, wordpress, drop-down-menu, hyperlink

我的网站使用wordpress。我有一个正确的标题，如下所示[http://www.gigster.me](http://www.gigster.me)和一个顶部居中的下拉菜单作为 buddypress 链接的插件。这使得右上角的链接不可点击。我尝试更改中心选项卡的 z-index 属性，但它仍然无法正常工作。下拉菜单导致实际选项卡/菜单右侧和左侧的可用区域可见但不可用。

我不是编码员，所以我感谢像我这样的业余爱好者的任何帮助。

谢谢你

齐亚德

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T18:22:07.553

A few options:

1.  Set the login section to `display: relative;` and that would push the rest of the page down.
2.  Decrease it's z-index and when it loads, set `display: none;` for `.header_right`
3.  Decrease the login screen's z-index, but increase it when it's dropped down.

# jquery - javascript / jquery中固定数字的正则表达式

> ID：10881540
> 
> 赞同：0
> 
> 时间：2012-06-04T12:45:24.907
> 
> 标签：jquery, asp.net, regex

我想验证文本字段以供用户仅输入数字，如.. 它应该从“ARRN”和最多 5 个数字字段开始。所以数字可以是.. ARRN1 或 ARRN12 或 ARRN123 但不是 ARRN123456，因为只允许 5 个数字。

我可以在 javascript 中使用正则表达式进行验证吗？

我尝试使用正则表达式 ['ARRN'@[5]] 但不确定正则表达式语法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:47:55.720

你可以使用这样的表达式：

```
^ARRN\d{1,5}$ 
```

这适用于 JS 和 .NET。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T12:51:24.727

您可以使用以下代码来检查该模式。它将检查`onblur`输入事件中的模式。

```
$('input').on('blur',function(){
   var val = $(this).val();

   if(/^ARRN\d{1,5}$/.test(val))
      alert('Val is Ok');
   else
   {
     //$(this).val('');
     alert('Val is not correct.');  
   }       
});​ 
```

[工作小提琴](http://jsfiddle.net/joycse06/3MtDa/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T12:54:23.703

试试这个

```
/^[a-zA-Z][a-zA-Z0-9]+{5,9}$/ 
```

{5,9} 表示最小 ARRN + 1 num 到最大 ARRN + 5 nums

# mysql - MySQL如何返回连接的用户名和姓氏

> ID：10881544
> 
> 赞同：-2
> 
> 时间：2012-06-04T12:45:48.857
> 
> 标签：mysql, sql

我需要我的 MySQL 查询返回“**值**”和“**标签**”字段名称。

我想直接从查询中将“ **value** ”作为用户的 id，将“ **label** ”作为“ *name lastname ”或“*name_first_letter lastname*”。*

假设我有一张这样的桌子：

*   **身份证姓名姓氏**
*   1 约翰·约翰逊
*   2 彼得·佩特森
*   3 杰夫·杰斐逊

我通过一个简单的查询将 ID 作为“值”：`SELECT id as value`. 我还想将“J. Johhanson”或“P. Petterson”作为“*标签*”。

**更新**

抱歉打扰了。我试过**CONCAT**，**CONCAT_WS**。最初不成功，但现在设法轻松获得结果。在我的情况下，这个查询按我的需要工作：

```
SELECT CONCAT_WS(' ', name, lastname ) FROM users
WHERE name LIKE  "%Peter%" 
```

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:48:52.567

```
SELECT id                                    AS value, 
       Concat(LEFT(name, 1), '. ', lastname) AS label 
FROM   table; 
```

# javascript - 使用javascript在crm 2011中基于安全角色隐藏站点地图中的链接

> ID：10881545
> 
> 赞同：3
> 
> 时间：2012-06-04T12:45:50.870
> 
> 标签：javascript, dynamics-crm, dynamics-crm-2011, sitemap, security-roles

有什么方法可以使用 javascript 在 CRM 2011 中隐藏站点地图中的链接？该链接不是实体的链接。它基本上是一个注入链接，可在仪表板中打开一个自定义 HTML 页面。有什么方法可以连接一个javascript函数，以便通过调用该javascript函数使链接可见/隐藏？

如果这是不可能的，是否有可能解决这个问题？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T14:23:32.740

您*可以*`SubArea`使用该`Privilege`元素来限制用户对 a 的访问。如果用户没有正确的权限，`SubArea`则不会显示，尽管这显然不是您在加载时以编程方式触发的东西。

```
<SubArea Id="search" Icon="" Url="http://www.dropbox.com">
  <Titles>
    <Title LCID="1033" Title="Dropbox Search" />
  </Titles>
  <Descriptions>
    <Description LCID="1033" Description="Dropbox searching." />
  </Descriptions>
  <Privilege Entity="product" Privilege="Create" />
</SubArea> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T14:29:08.917

[站点地图 XML 文档](https://stackoverflow.com/questions/9788825/crm-2011-remove-unwanted-menu-entry)没有任何内容可以禁用基于 javascript 的链接。

我在[这里问了一个类似的问题](https://stackoverflow.com/questions/9788825/crm-2011-remove-unwanted-menu-entry)，但结论不太理想。站点地图已被锁定。

如果彼得指出的特权解决方案与您的情况不兼容，我想您的 HTML Web 资源将不得不处理页面的 onload 事件中的阻塞。

# scala - 传递选择的选定值以形成动作

> ID：10881547
> 
> 赞同：3
> 
> 时间：2012-06-04T12:45:56.843
> 
> 标签：scala, playframework-2.0

我有一个菜单，我想根据系统中当前选择的帐户有所不同。

我有一个页面，允许用户从 html 选择中选择一个帐户。当用户从帐户选择页面提交表单时，我想调用控制器上的菜单方法，传入所选值，以便我的 url 看起来正确。

这是页面中允许用户选择帐户的现有模板：

```
@helper.form(action = routes.Accounts.menu {
    <table>
        <tr>
            <td><select id="accountNames">
                @accountNames.map { name =>
                    <option value="@name">@name</option>
                }
            </select></td>
        </tr>
        <tr>
            <td>
                <p>
                    <input type="submit" value="Choose">
                </p>
            </td>
        </tr>
    </table>
} 
```

从我的路线文件中：

```
GET /account/:accountName/menu controllers.Accounts.menu(accountName: String) 
```

如何从我的选择 (id="accountNames") 中引用选定的值并将其传递到我的表单操作中？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T13:07:38.893

实际上，我认为您这样做是错误的。

如果表单的操作必须改变使用您的“选择”，则必须使用 JS 来完成。因此，当提交表单（事件`submit`）时，您必须更新 url。

这可以很容易地使用`javascriptRoutes`.

所以你必须做几件事：

1/创建javascriptRouter（假设你添加它`Application.scala`）

```
def javascriptRoutes = Action {
  Ok(
    Routes.javascriptRouter("playRoutes")(
      //accounts
      controllers.routes.javascript.Accounts.menu
    )
  ).as("text/javascript")
 } 
```

2/ 在你的`routes`文件中定义它

```
# Javascript routing
GET     /assets/javascripts/routes      controllers.Application.javascriptRoutes 
```

3/ 在您的视图中添加相关的 javascript 文件导入，让我们说`main.scala.html`

```
<script type="text/javascript" src="@routes.Application.javascriptRoutes"></script> 
```

4/`submit`在执行默认行为之前向表单添加一个处理程序

```
$("form").submit(function () {
    //this computes the correct URL giving a parameter which is the value of the selected option
    var newURl = playRoutes.controllers.Accounts.menu($("#accountNames").val()).url
    $(this).attr("action", newUrl); 
}) 
```

注意我们是如何`playRoutes`在控制器 (1) 和 JS 调用 (4) 中使用的。

# c# - 为什么我在 C# 项目中看不到一些 C++ DLL（支持 CLR）？

> ID：10881559
> 
> 赞同：0
> 
> 时间：2012-06-04T12:46:53.653
> 
> 标签：c#, c++-cli

我编写了简单的 C++ Dll ( win32 ) 并将属性更改为“公共语言运行时支持 (/clr)” -

我创建了新的 Simple winform 项目（C# 4.0）并创建了对 C++ 项目（C++ DLL）的引用。

现在我在 C# 项目中看不到 C++ dll - 我无法使用它，我不知道为什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T13:07:37.953

您在 C++ dll 中创建的类型仍然是原生的。您需要将它们显式声明为托管类型。例如：

```
ref class SomeType { } 
```

声明一个托管类（注意`ref`关键字）。不过，这并不是那么容易。您的本机代码不会神奇地转换为托管代码（一些基本数据类型，例如`int`是，但不是类似的东西`std::string`）。如果您真的想充分利用 C++/CLI 进行互操作，您应该花时间了解语法差异。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T13:09:01.557

例如，如果您有这个非托管函数：

```
bool fooFunction(int firstParameter, int secondParameter); 
```

如果要使其对托管代码可见，则必须将其包装（首先，简单，步骤）到托管类中：

```
public ref class MyClass abstract sealed
{
public:
    static bool Foo(int firstParameter, int secondParameter)
    {
        return fooFunction(firstParameter, secondParameter);
    }
}; 
```

这是一个简单的考试，如果您必须与复杂类型互操作，您可能需要将它们全部包装起来。例如，如果您必须与接受字符串的函数进行互操作，则必须对其进行管理。通常我使用这样的类：

```
ref class UnmanagedString sealed
{
public:
    UnmanagedString(String^ content) : _content(content)
    { 
        _unicodePtr = _ansiPtr = IntPtr::Zero; 
    }

    ~UnmanagedString()
    { 
        Free(); 
    }

    operator LPWSTR()
    { 
        if (_content == nullptr)
            return NULL;

        Free();

        _unicodePtr = Marshal::StringToHGlobalUni(_content);
        return reinterpret_cast<LPWSTR>(_unicodePtr.ToPointer());
    }

    operator LPCSTR()
    { 
        if (_content == nullptr)
            return NULL;

        Free();

        _ansiPtr = Marshal::StringToHGlobalAnsi(_content);
        return reinterpret_cast<LPCSTR>(_ansiPtr.ToPointer());
    }

    virtual System::String^ ToString() override
    {
        return _content;
    }

    virtual int GetHashCode() override
    {
        return _content->GetHashCode();
    }

    virtual bool Equals(Object^ obj) override
    {
        return _content->Equals(obj);
    }

private:
    IntPtr _unicodePtr, _ansiPtr;
    String^ _content;

    void Free()
    {
        if (_unicodePtr != IntPtr::Zero)
        {
            Marshal::FreeHGlobal(_unicodePtr);
            _unicodePtr = IntPtr::Zero;
        }

        if (_ansiPtr != ntPtr::Zero)
        {
            Marshal::FreeHGlobal(_ansiPtr);
            _ansiPtr = IntPtr::Zero;
        }
    }
}; 
```

使用此类，您可以使用 void 调用类似的`foo(LPCSTR pszText)`函数`foo(UnamangedString(myManagedString))`。更复杂的是您必须执行的调用以及您必须编写更多代码才能在它们之间进行互操作。

注意：简单地将 1:1 托管接口暴露给非托管函数会使您的 C# 代码更难阅读，我建议您编写一个真正的 OO 接口来隐藏底层实现。

# c# - WCF/实体框架更新

> ID：10881562
> 
> 赞同：1
> 
> 时间：2012-06-04T12:46:56.217
> 
> 标签：c#, .net, wcf, entity-framework, caching

我目前正在构建一个 N 层应用程序，其中我有一个 WCF 服务（不是数据/RIA 服务）托管在我的 IIS 服务器上的一个 Web 项目上，以及一个带有指向此 WCF 服务的服务引用的 Windows Phone 客户端。

我的 WCF 服务通过实体框架访问数据库。

这是我的问题：当我从客户端以外的任何地方更新我的数据库时，在任何客户端都看不到更新。当我从特定客户端更新我的数据库时，修改只能由他看到。

但一段时间后，所有客户端都可以访问更新的数据。

我相信这可能是由我的 WCF 数据的 IIS 缓存或 LINQ 级别的缓存引起的，但即使在禁用我的 IIS 缓存后问题仍然存在。

关于如何解决这个问题的任何想法？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T13:39:10.633

所以把它变成一个正式的答案：

框架将尝试缓存值（不是 IIS）。因此，请确保您没有将工作单元扩展到事务范围之外（即，将它用于相同的方法和检索方法）。此外，尝试重新建立存储/检索调用之间的上下文，这应该删除框架内可能发生的任何现有缓存。IE

```
[OperationContract]
public void Save(MyObject entity)
{
  using (MyEntities db = new MyEntities())
  {
    db.MyObjects.Add(entity);
    db.SaveChanges();
  }
}

[OperationContract]
public MyObject Single(Int32 id)
{
  using (MyEntities db = new MyEntities())
  {
    return db.MyObjects.Single(x => x.Id == id);
  }
} 
```

相对于：

```
[ServiceContract]
class MyService
{
  private MyEntities db = new MyEntities();

  [OperationContract]
  public void Save(MyObject entity)
  {
    this.db.MyObjects.Add(entity);
    this.db.SaveChanges();
  }

  [OperationContract]
  public MyObjectFind(Int32 id)
  {
    return this.db.MyObjects.Single(x => x.Id == id);
  }
} 
```

# apache - osx Lion Web 服务器 403 禁止错误

> ID：10881570
> 
> 赞同：1
> 
> 时间：2012-06-04T12:47:28.503
> 
> 标签：apache, configuration, osx-lion

我需要使用 osx Lion 中的集成网络服务器，但我遇到了一个非常奇怪的错误。

对于某些文件，并且只有其中一些文件，它会返回错误 403 Forbidden “您无权访问此服务器上的 /~mattiazeni/atc.mp3。”

我不明白为什么它只给我一些文件而不是所有文件都给我这个错误！例如现在它给了我一些图片.jpg和一些.mp3的错误，但我可以访问其他.jpg和.mp3，所以问题不在于扩展类型。

我尝试像这样设置配置文件，但错误仍然存​​在。

```
<Directory "/Users/user/Sites/">
Options Indexes MultiViews
AllowOverride All
Order allow,deny
Allow from all
</Directory> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T12:51:37.443

大概[文件权限](http://www.dartmouth.edu/~rc/help/faq/permissions.html)设置为不允许网络服务器读取某些文件。

`chmod`授予用户 Apache 的文件作为读取它们的权限运行。

# internet-explorer - 在 Internet Explorer 中注入 HTML 的工具栏按钮

> ID：10881573
> 
> 赞同：1
> 
> 时间：2012-06-04T12:47:42.077
> 
> 标签：internet-explorer, plugins, com-interop

我正在为 Internet Explorer 构建浏览器扩展。目标是让用户能够单击工具栏按钮并在用户目前可能正在访问的任何站点上注入 html。

我的班级正在实现 IOleCommandTarget 和 IObjectWithSite 并且我设法通过向注册表添加一些信息来显示工具栏按钮，但是我无法访问 html 文档以便我可以操作它。一些调试表明，我首先在 IObjectWithSite.SetSite 方法中结束，然后在 IOleCommandTarget.Exec 方法中结束。如果我将解决方案实现为 BHO，我可以在 SetSite 方法中订阅 webbrowser 事件，但是当我尝试在 Exec 方法中执行相同操作时，转换为 WebBrowser 失败。我如何构建这个非常小而简单的扩展？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:13:12.467

工具栏.h

```
CComQIPtr<IWebBrowser2, &IID_IWebBrowser2> m_spWebBrowser2; 
```

工具栏.cpp

```
STDMETHODIMP Toolbar::SetSite(IUnknown *pUnkSite)
{
    HRESULT hr;
    CComQIPtr<IServiceProvider> sp = pUnkSite;
    if(!m_spWebBrowser2 && sp)
    {
        //BHO immediately eotjiman ToolBar does not get it to the Obtained through QueryService.
        sp->QueryService(IID_IWebBrowserApp, IID_IWebBrowser2, (void**)&m_spWebBrowser2);
    }
    else
    {
        m_spWebBrowser2.Release();
        return E_POINTER;
    }

    .
    .
    .
} 
```

我希望它有帮助:)

# javascript - 重点（）; 不能在 Mozilla 中工作，但在 IE 和 chrome 中很好

> ID：10881579
> 
> 赞同：0
> 
> 时间：2012-06-04T12:47:56.157
> 
> 标签：javascript, asp.net, cross-browser

```
 function validateForm()
    {
       var ddlTitle = document.getElementById('<%=ddlTitle.ClientID %>');
        if (ddlTitle.value.replace(/^\s+|\s+$/, '').length < 1)
                    {
                        alert("Title should not be blank.");
                        ddlTitle.focus();//not working in mozilla but fine in IE and chrome
                        return false;
                    }

    }
<asp:DropDownList ID="ddlTitle" runat="server" CssClass="csstextbox">
                    <asp:ListItem Value="">[Select]</asp:ListItem>
                    <asp:ListItem>Dr.</asp:ListItem>
                    <asp:ListItem>Dr.(Mrs.)</asp:ListItem>
                </asp:DropDownList>
    <asp:Button ID="btn" runat="server" CssClass="cssbutton" Text="Save" Width="60px"
                        OnClientClick="return validateForm();"  /> 
```

这是 HTML 源代码

```
ddlTitle = document.getElementById('contentPlaceHolderMain_ddlTitle');
function validateForm()
        {
            if (ddlTitle.value.replace(/^\s+|\s+$/, '').length < 1)
            {
                alert("Title should not be blank.");
                ddlTitle.focus();
                return false;
            }
         } 
```

**问题仅适用于下拉列表适用于文本框**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:02:27.420

Focus() 必须设置焦点尝试使用键盘键向上/向下箭头并检查。

# cakephp - 如何在 cake php 中给 select 标签一个属性？

> ID：10881586
> 
> 赞同：1
> 
> 时间：2012-06-04T12:48:27.310
> 
> 标签：cakephp, cakephp-1.3

如何在 cake php 中给 select 标签一个属性？

```
$options = array('0' => 'News', '1' => 'Movies');
    echo $this->Form->select('selectValue', $options, 0, array('id' => 'select') ) 
```

这样我就可以为`data-url`每个选项赋予一个属性

```
<select id="select" name="data[Video][gender]" >
  <option value="0" data-url = "/news" >News</option>
  <option value="1" data-url = "/movies" >Movies</option>
</select> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T17:16:55.787

你不能 :P 或者至少没有简单的方法可以做到这一点......

您需要扩展 FormHelper 并覆盖该`select()`方法。

就像是：

```
class MyFormHelper extends FormHelper{
    public function select($fieldName, $options = array(), $attributes = array()) {
        //something like the original method but this time the $options 
        //is more than a simple key=>value array, so you'll need
        //to change the code to include the data-url
    }
} 
```

然后使用 MyFormHelper 调用您的助手，例如

```
//In the view
$options = array(
                 array('data-url'=>'/news','text'=>'News'),
                 array('data-url'=>'/movies','text'=>'Movies'),
);

$this->MyForm->select('field',array('options'=>$options)) 
```

这是主要思想。希望这可以帮助

# iphone - xmpp 服务器和名册问题

> ID：10881589
> 
> 赞同：0
> 
> 时间：2012-06-04T12:48:46.293
> 
> 标签：iphone, xmpp, ejabberd

我正在使用 XMPP 服务器开发 jabber 聊天应用程序。我想交 2 个用户朋友，所以我必须使用 mysql 查询添加名册。我已经在两个表中输入。(1) ofRoster (2)ofRosterGroups。我在两个表中都输入了条目，但它不起作用。

有什么我想念的地方吗？我可以使用管理面板执行此操作，但我不想这样做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T19:48:36.020

我认为您正在使用 openfire（SQL 中的那些表看起来像 openfire 设置）。如果是这样，您必须编辑的表是“ofGroupUser”。要将用户添加到组中，您需要在该表中执行 sql 插入，其中组名是您要将用户添加到的组，用户名是您要添加到组中的用户，管理员是该组的标志用户的权限（只使用 0）。插入示例如下所示：

INSERT INTO ofGroupUser VALUES("组名", "用户", 管理员);

但是，正如上面帖子中提到的，这不是一个好的方法，因为它不会立即影响服务器。您必须重新启动服务器才能进行这些更改，因为 openfire（或您使用的任何服务器）可能只在启动时读取数据库。一旦缓存了所有内容，它将根据请求编辑数据库（例如通过管理控制台添加用户或组），但不会从中读取，并且在服务器重新启动之前不会看到您的添加。

基本上，进行手动 sql 插入将产生所需的结果，并且，如果您只是测试某些功能，只要重新启动服务器就可以正常工作。如果您使用的是 openfire 并且需要以除 web ui 之外的某种方式进行组管理工作，我会考虑使用不同的服务器。据我所知，openfire 在 web ui 之外的管理方面并不是很好。 [这](http://xmpp.org/xmpp-software/servers/)是许多开源 xmpp 服务器的列表。我推荐[ejabberd](http://www.process-one.net/en/ejabberd/)（如上所述）它有一个非常好的控制工具，叫做ejabberdctl，有一个可用的扩展模块叫做mod_ctlextra（[这里是它的手册页，它列出了命令](http://manpages.ubuntu.com/manpages/intrepid/man8/ejabberdctl.8.html)) 这将允许你做我认为你想要的。然后您不必担心 sql 和重新启动，只需使用他们的工具就可以了。

此外，在旁注中，ejabberd 非常高效，因为用于编写它的语言的性质： [Erlang](http://en.wikipedia.org/wiki/Erlang_%28programming_language%29)。好东西。

希望有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T17:13:23.940

大概您正在使用带有 ejabberd 的 odbc 模块。sql 模式虽然定义了两个表`rostergroups`，`rosterusers`而不是您在问题中提到的表。在任何情况下，您都不应该**直接**更新表，ejabberd 会保持内部状态并且不会收到您的更改通知。

要走的路是让用户根据[rfc](http://xmpp.org/rfcs/rfc3921.html)发送相互订阅并接受它们。[名册项目交换](http://xmpp.org/extensions/xep-0144.html)也可能有用。

# ruby - 为什么 Sinatra 请求需要 EM 线程？

> ID：10881594
> 
> 赞同：1
> 
> 时间：2012-06-04T12:48:54.323
> 
> 标签：ruby, sinatra, eventmachine

Sinatra 应用程序接收对长时间运行任务的请求并 EM.defer 他们，在 EM 的 20 个线程的内部池中启动它们。当运行的 EM.defer 超过 20 个时，它们由 EM.defer 存储在 EM 的线程队列中。

然而，在有可用的 EM 线程处理它们之前，Sinatra 似乎不会为任何请求提供服务。我的问题是，Sinatra 不是假设使用主线程的反应器来服务所有请求吗？为什么我在发出新请求时会看到线程队列上的添加？

重现步骤：

```
Access /track/
Launch 30 /sleep/ reqs to fill the threadqueue
Access /ping/ and notice the add in the threadqueue as well as the delay 
```

重现它的代码：

```
require 'sinatra'
#monkeypatch EM so we can access threadpools
module EventMachine 
  def self.queuedDefers 
    @threadqueue==nil ? 0: @threadqueue.size 
  end
  def self.availThreads 
    @threadqueue==nil ? 0: @threadqueue.num_waiting
  end
  def self.busyThreads 
    @threadqueue==nil ? 0: @threadpool_size - @threadqueue.num_waiting
  end   
end 
get '/track/?' do
  EM.add_periodic_timer(1) do 
    p "Busy: " + EventMachine.busyThreads.to_s + "/" +EventMachine.threadpool_size.to_s + ", Available: " + EventMachine.availThreads.to_s + "/" +EventMachine.threadpool_size.to_s + ", Queued: " + EventMachine.queuedDefers.to_s 
  end 
end

get '/sleep/?' do
  EM.defer(Proc.new {sleep 20}, Proc.new {body "DONE"})
end

get '/ping/?' do
  body "pong"
end 
```

我在 Rack/Thin（没有 Sinatra）上尝试了同样的事情并且按预期工作，所以我猜是 Sinatra 造成的。

```
Ruby version: 1.9.3.p125
EventMachine: 1.0.0.beta.4.1
Sinatra: 1.3.2
OS: Windows 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-05T09:46:15.393

好的，所以 Sinatra 似乎默认以线程模式启动 Thin 导致上述行为。你可以加

```
set :threaded, false 
```

在您的 Sinatra 配置部分中，这将防止 Reactor 在单独的线程上延迟请求，并在负载下阻塞。

[来源1](https://github.com/sinatra/sinatra/blob/master/lib/sinatra/base.rb#L1638)

[来源2](https://github.com/macournoyer/thin/blob/master/lib/thin/connection.rb#L48-51)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T14:18:43.390

除非我对您的问题有误解，否则这就是 EventMachine 的工作原理。如果您查看[EM.defer 的文档](https://github.com/eventmachine/eventmachine/blob/master/lib/eventmachine.rb#L972)，它们会声明：

> 不要编写将永远阻塞的延迟操作。如果是这样，当前的实现将不会检测到问题，并且线程将永远不会返回到池中。EventMachine 会限制其池中的线程数，因此如果您这样做的次数足够多，您后续的延迟操作将没有机会运行。

基本上，线程的数量是有限的，如果你用完它们，任何挂起的操作都会阻塞，直到线程可用。

如果您只需要更多线程，则可能会`threadpool_size`遇到问题，尽管最终这不是一个长期的解决方案。

[Sinatra 是多线程的吗？](https://stackoverflow.com/questions/6278817/is-sinatra-multi-threaded)这是关于 Sinatra 和线程的一个非常好的问题。简而言之，Sinatra 很棒，但如果你需要像样的线程，你可能需要寻找其他地方。

# php - php adodb MSSQL 连接

> ID：10881599
> 
> 赞同：2
> 
> 时间：2012-06-04T12:49:05.820
> 
> 标签：php, sql-server, adodb-php

我有一个 linux 服务器，我正在尝试使用 php adodb 连接到 MSSQL 服务器。

```
include('adodb5/adodb.inc.php'); 

$conn =& ADONewConnection('odbc_mssql');
$dsn = "Driver={SQL Server};Server=MSSERVER;Database=Northwind;";
$conn->Connect($dsn,'sa','password')or die("Unable to connect to server"); 
```

我已经通过 yum 等安装了 mssql，并且我知道服务器可以连接到它，因为我尝试了以下操作：

```
$db = @mssql_connect("MSSERVER","sa","password") or die("Unable to connect to server");
mssql_select_db("Northwind");

// Do a simple query, select the version of 
// MSSQL and print it.
$version = mssql_query('SELECT @@VERSION');
$row = mssql_fetch_array($version);

echo $row[0];

// Clean up
mssql_free_result($version); 
```

任何关于我的 adodb 无法连接的想法，或任何关于我如何连接的示例都将不胜感激。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T12:12:09.627

我通过查看这个论坛解决了这个问题：http: [//ourdatasolution.com/support/discussions.html ?topic=4200.0](http://ourdatasolution.com/support/discussions.html?topic=4200.0)

正确的代码是：

```
<?php
include("adodb5/adodb.inc.php"); 
//create an instance of the  ADO connection object
$conn =&ADONewConnection ('mssql');
//define connection string, specify database driver
$conn->Connect('xxx.xxx.x.xxx:1400', 'user', 'password', 'DbName');
//declare the SQL statement that will query the database
$query = "select * from table";
$rs = $conn->execute($query);
//execute the SQL statement and return records
$arr = $rs->GetArray();
print_r($arr);
?> 
```

希望对其他人有所帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-10-21T09:13:16.830

使用 php 5.3 以上的`php_mssql`modul 不再支持 windows。

一种解决方案是从[http://www.microsoft.com/en-us/download/details.aspx?id=20098](http://www.microsoft.com/en-us/download/details.aspx?id=20098)下载 MicroSoft PHP 驱动程序。

此安装程序会将 modul dll 文件提取到您的 php 扩展目录。

在你的 php ini 中包含正确的版本（例如，对于 php 5.3 ThreadSafe）：

```
extension=php_sqlsrv_53_ts.dll 
```

在此之后您可以再次使用 adboDb，但您必须使用`mssqlnative`adodbtype。与 ip 和 port 的连接对我不起作用，但`ipaddress\\SERVERNAME`有效（参见示例代码）

```
<?php include("adodb5/adodb.inc.php");  
//create an instance of the  ADO connection object
$conn =&ADONewConnection ('mssqlnative'); 
//define connection string, specify database driver 

// $conn->Connect('xxx.xxx.x.xxx:1400', 'user', 'password', 'DbName'); 
$conn->Connect('xxx.xxx.x.xxx\\SERVERNAME', 'user', 'password', 'DbName'); 

//declare the SQL statement that will query the database 
$query = "select * from table"; 
$rs = $conn->execute($query); 
//execute the SQL statement and return records 
$arr = $rs->GetArray(); 
print_r($arr); ?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-06-24T07:56:43.273

对于 PHP 7.4，您可以在此处下载驱动程序：

[https://docs.microsoft.com/en-us/sql/connect/php/download-drivers-php-sql-server?view=sql-server-ver15](https://docs.microsoft.com/en-us/sql/connect/php/download-drivers-php-sql-server?view=sql-server-ver15)

将文件复制到 php 安装的 ext 目录。然后在 php.ini 文件中添加扩展名，如下所示：

```
extension=php_pdo_sqlsrv_74_ts_x64
extension=php_sqlsrv_74_ts_x64 
```

该扩展还需要安装 SQL Server 的 ODBC 驱动程序： [https ://docs.microsoft.com/en-us/sql/connect/odbc/download-odbc-driver-for-sql-server?view=sql-服务器-ver15](https://docs.microsoft.com/en-us/sql/connect/odbc/download-odbc-driver-for-sql-server?view=sql-server-ver15)

# c# - 获取 AppDomain.CurrentDomain 中所有用户创建的类

> ID：10881601
> 
> 赞同：6
> 
> 时间：2012-06-04T12:49:07.917
> 
> 标签：c#, reflection, .net-assembly

我想遍历我在项目中添加的所有类

```
Assembly[] foo = AppDomain.CurrentDomain.GetAssemblies();

foreach(Assembly a in foo)
{                
    foreach(Type t in a.GetTypes())
    {

    }
} 
```

这是我尝试过的，但我想排除 .net 提供的程序集，例如“mscorlib”

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-04T13:03:23.573

如果您的所有程序集都有一个共同的前缀（如果您有或多或少的唯一前缀），一种常见的解决方案是按名称过滤程序集。

```
var foo = AppDomain.CurrentDomain.GetAssemblies()
                                 .Where(a=>a.FullName.StartsWith("MyProject.")); 
```

如果您只对某些特定类型感兴趣，请考虑为您的类使用[属性](http://msdn.microsoft.com/en-en/library/z0w1kczw.aspx)，甚至在程序集级别添加一个。

**例子：**

创建一个属性：

```
[AttributeUsage(AttributeTargets.Assembly)]
public class MyAssemblyAttribute : Attribute { } 
```

将以下内容添加到您的 AssemblyInfo.cs：

```
[assembly: MyAssemblyAttribute()] 
```

并过滤您正在查看的程序集：

```
var foo = AppDomain.CurrentDomain
                   .GetAssemblies()
                   .Where(a => a.GetCustomAttributes(typeof(MyAssemblyAttribute), false).Any()); 
```

你也会发现[这个问题](https://stackoverflow.com/questions/3174921/how-do-i-determine-if-system-type-is-a-custome-type-or-a-framework-type)很有趣。在[一个答案](https://stackoverflow.com/a/3176592/142637)中，建议检查每个程序集的完全限定名称，但这非常乏味，例如：

```
//add more .Net BCL names as necessary
var systemNames = new HashSet<string>
{
    "mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089",
    "System.Core, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"
    ...
};

var isSystemType = systemNames.Contains(objToTest.GetType().Assembly.FullName); 
```

标记您的程序集（按名称或属性）总是比尝试识别哪些是 .Net 框架的一部分更容易。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-08-11T17:53:12.073

在我的一个项目中，我需要一个用作业务对象的类列表。这些类始终是用户创建的类型，但可以在引用的程序集中。它们不实现特定的接口，不从特定的基类派生，也没有独特的属性。

这是我用来过滤有用类型的代码：

```
return
    type.IsClass && // I need classes
    !type.IsAbstract && // Must be able to instantiate the class
    !type.IsNestedPrivate && // Nested private types are not accessible
    !type.Assembly.GlobalAssemblyCache && // Excludes most of BCL and third-party classes
    type.Namespace != null && // Yes, it can be null!
    !type.Namespace.StartsWith("System.") && // EF, for instance, is not in the GAC
    !type.Namespace.StartsWith("DevExpress.") && // Exclude third party lib
    !type.Namespace.StartsWith("CySoft.Wff") && // Exclude my own lib
    !type.Namespace.EndsWith(".Migrations") && // Exclude EF migrations stuff
    !type.Namespace.EndsWith(".My") && // Excludes types from VB My.something
    !typeof(Control).IsAssignableFrom(type) && // Excludes Forms and user controls
    type.GetCustomAttribute<CompilerGeneratedAttribute>() == null && // Excl. compiler gen.
    !typeof(IControllerBase).IsAssignableFrom(type); // Specific to my project 
```

由于我的用户类型不在 GAC中，因此`!type.Assembly.GlobalAssemblyCache`在排除大多数 BCL（框架库）类型和一些第三方内容方面做得很好。

这不是无懈可击的，但我的情况很好。您很可能需要根据需要对其进行调整。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T13:00:41.703

检查 Type in inner loop 的以下属性。

```
t.GetType().Namespace == "System"
t.GetType().Namespace.StartsWith("System")
t.GetType().Module.ScopeName == "CommonLanguageRuntimeLibrary" 
```

# python - Django 通用视图 - 将数据发送到项目模板

> ID：10881603
> 
> 赞同：-2
> 
> 时间：2012-06-04T12:49:18.827
> 
> 标签：python, django, django-generic-views

我尝试从我的应用程序发送带有通用视图的数据

```
urlpatterns = patterns('',
    (r'*', ListView.as_view(
        queryset=Post.objects.all().order_by("-created")[:2],
    template_name="/mysite/templates/index.html"
    )),
) 
```

但是，无法通过 ic/p 此查询发送数据并返回结果。少了什么东西？

在 mysite/templates/index.html

```
 {% for post in object_list %}
     {{ post.title }}
    {% endfor %} 
```

什么都不打印

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T13:35:19.210

你没有提供足够的信息。`r'*'`不是一个有效的正则表达式——`*`需要一些东西来处理——如果你试图在 URLconf 中使用它，Django 会报告。您需要展示如何在主 urls.py 中包含该 url。

# jquery - 使用jQuery从某个div中的所有标签中删除类

> ID：10881604
> 
> 赞同：0
> 
> 时间：2012-06-04T12:49:19.430
> 
> 标签：jquery, accordion, classname

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:53:31.477

这不应该：

```
$(".accordion dt a").removeClass("expanded"); 
```

是这样的：

```
$(this).parents('.accordion').find('dt a').removeClass("expanded"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T13:58:36.927

```
var selector = '.accordion dt a';
$(selector ).each(function()
{
        $(this).removeClass("expanded");
}); 
```

# android - 更改列表视图选定的行颜色

> ID：10881608
> 
> 赞同：-2
> 
> 时间：2012-06-04T12:49:35.773
> 
> 标签：android, android-layout

嘿，伙计们，我在过去 4 天里一直在为这个问题而苦苦挣扎，但没有给出完整的解决方案，所以最后我完成了这个问题，并想与你分享代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:37:03.157

你在寻找这样的东西吗？

```
LinearLayout newRow = new LinearLayout(getBaseContext());
newRow.setOrientation(LinearLayout.HORIZONTAL);
if(i % 2 != 0) {
    newRow.setBackgroundColor(res.getColor(/* your color here: e.g., R.color.rowcols*/));
} 
```

在增量器所在的循环中使用它`i`，您可以将添加的每一行更改为不同的颜色。我使用了LinearLayouts并向它们添加了一些东西（然后将LinearLayouts添加到可滚动的父LinearLayout中），但是对于ListViews应该可以完成类似的方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-07T05:54:22.107

我就是这样解决这个问题的

## *****这就是我的 Activity 看起来的样子--> *** ********

 **```
public class MessageActivity extends Activity implements Observer,
        OnClickListener, OnItemClickListener,
        {

   //My adapter where my selected position will be hold

    private MySimpleAdapter adapter;
ListView listViewMsgs = null;

protected Context activity;

protected int position = 0;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.message);

} 
```

//从服务器获取数据后初始化你的游标适配器。

```
public void update(Observable arg0, Object arg1) {

        String[] from = new String[] { "sender_number", "display_name",
                "access_number", "timestamp", "message_type" };
        int[] to = new int[] { R.id.photomsg, R.id.display_name,
                R.id.access_number, R.id.timestamp1, R.id.message_type };
        adapter = new MySimpleAdapter(this, this.model,
                R.layout.messagelist, mymsglist, from, to);
        listViewMsgs = (ListView) findViewById(R.id.listViewMsgs);
        listViewMsgs.setAdapter(adapter);
        listViewMsgs.setOnItemClickListener((OnItemClickListener) this);
        listViewMsgs.setDescendantFocusability(ListView.FOCUS_BLOCK_DESCENDANTS);

} 
```

//您自己的适配器，我们将在其中设置选定的位置和所有。

```
public class MySimpleAdapter extends SimpleAdapter {

    public MySimpleAdapter(Context context, MessageModel model, int layout,
            ArrayList<HashMap<String, String>> mymsglist, String[] from,
            int[] to) {
        super(context, mymsglist, layout, from, to);
        this.context = context;
        this.mymsglist = mymsglist;
        this.model = model;
    }
        **//Add this code inside your own CursorAdapter.....
         //set the selected position of the row over here.

    private int selectedPos = 0;//-1    // init value for not-selected
    public void setSelectedPosition(int pos){
        selectedPos = pos;
        // inform the view of this change
        notifyDataSetChanged();
    }
    public int getSelectedPosition(){
        return selectedPos;
    }
    public void setSelected(int position) {
        selectedPosition = position;
    }**

        //One thing which most of the android developer i think dont know is when getView is called 
        //when you are making a ListView.....the answer is it will get called to draw each row of the ListView.

        public View getView(int position, View convertView, ViewGroup parent) {

          //The get view is called everytime a row is drawn and that is how the color of each row is drawn.

        if(selectedPos == position){
            row.setBackgroundColor(Color.LTGRAY);
        }else{
            row.setBackgroundColor(Color.WHITE);
        }

    }
        return row;
    }

}

public void onItemClick(AdapterView<?> parent, View view, int position,
        long id) {
    //on selection of a row basically we are setting the position now when getView will draw this this
        //this row it will change the selected row color.
    adapter.setSelectedPosition(position);

    MessageActivity.this.position = position;

} 
```**

# python - Python将ndarrays转换为图形

> ID：10881612
> 
> 赞同：3
> 
> 时间：2012-06-04T12:49:41.210
> 
> 标签：python, graph, numpy

所以我目前正在研究这个 Python 程序，它基本上通过某种算法计算给定无向图中节点的位移。我的输出由一个 numpy ndarray 形式的邻接矩阵和另一个保存每个节点的坐标（2D）的 numpy ndarray 组成。

我一直在研究绘制结果图的方法，偶然发现了 igraph 和 NetworkX。我还没有使用它们，但我知道它们可以将邻接矩阵转换为图形，在这种情况下我不会使用我的坐标。所以我想知道，如何将两者用于图形的图形表示？

我可以想象我必须使用这两个数组来创建不同类型的对象，它本身可以由 NetworkX/igraph 转换。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-04T13:47:02.267

# 网络解决方案：

nx.function : 接受位置的可选第二个参数[`draw`：](http://networkx.lanl.gov/reference/generated/networkx.drawing.nx_pylab.draw.html#networkx.drawing.nx_pylab.draw)

```
import numpy as np
import networkx as nx
import pylab as plt

A = np.array([[0,0,1,0],[1,0,0,0],[1,0,0,1],[1,0,0,0]])
G = nx.DiGraph(A)

pos = [[0,0], [0,1], [1,0], [1,1]]
nx.draw(G,pos)
plt.show() 
```

![在此处输入图像描述](../Images/89cabfb25ba608a0ffade72b4568d957.png)

# php - 将base64编码的图像保存到PHP中的文件中

> ID：10881615
> 
> 赞同：2
> 
> 时间：2012-06-04T12:49:46.303
> 
> 标签：php, jquery

我有以下代码：

```
<?php
header('Content-Type: image/png');
$data = "iVBORw0KGgoAAAANSUhEUgAAAuAAAAI8CAYAAACwIh5dAAAgAElkZJgRCXxOAuIPzzTlg......";       
define('UPLOAD_DIR', '/home/Desktop/image.png');
$img = $data;
$img = str_replace('data:image/png;base64,', '', $img);
$img = str_replace(' ', '+', $img);
$data = base64_decode($img);
$file = UPLOAD_DIR . uniqid() . '.png';
$success = file_put_contents($file, $data);
print $success ? $file : 'Unable to save the file.';
?> 
```

这里`$data`包含 base-64 编码的图像字符串。我想将图像保存到文件中。我之前的代码也经历了谷歌的很多教程，但它不起作用。

谁能帮助我哪里出错了。

提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-04T13:04:33.897

```
define('UPLOAD_DIR', '/home/xpointers/Desktop/'); 
```

记住！您的 apache 网络服务器将以自己的用户权限运行（例如 www-data）。请注意，您的 apache 用户或运行 apache 的组可以访问您想要的目录。要测试你可以 chmod 777 到这个目录，看看会发生什么。

在用户目录中写入并不总是一个好主意。如果可能，请使用所需用户可以访问的中立目录。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-04T12:59:35.113

我相信这条线：

```
define('UPLOAD_DIR', '/home/Desktop/image.png'); 
```

应该：

```
define('UPLOAD_DIR', '/home/Desktop/'); 
```

* * *

## 回答 #3

> 赞同：-9
> 
> 时间：2012-06-05T05:12:09.223

首先指定正确的路径，如：

```
define('UPLOAD_DIR', '/home/Desktop/'); 
```

检查您提供的路径是否设置了读/写权限后。

# android - Android push c2dm 无法使用 200 ok 响应

> ID：10881619
> 
> 赞同：2
> 
> 时间：2012-06-04T12:49:58.917
> 
> 标签：android, push, response, android-c2dm

我一直在尝试从我的 java EE Web 应用程序向我的 Android 手机发送推送消息。

我已经关注并阅读了很多教程（比如这个[http://www.vogella.com/articles/AndroidCloudToDeviceMessaging/article.html](http://www.vogella.com/articles/AndroidCloudToDeviceMessaging/article.html)）

我在我的 Android 手机上成功获取了我的 registration_id。然后我发送了一个 POST 请求，女巫给我发送了一个“200 ok”响应！

但是我的广播接收器什么也得不到...

“200 OK”响应意味着消息已发送？我能做些什么 ？

多谢你们 ;）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T15:16:09.110

这里有几件事要检查。

1.  您是否在清单中声明了您的消息接收者？这是应用程序接收消息时的单独接收器。确保包名称也与您的匹配。它也应该看起来相似：

    ```
     <receiver
        android:name=".C2DMMessageReceiver"
        android:permission="com.google.android.c2dm.permission.SEND" >
        <intent-filter>
            <action android:name="com.google.android.c2dm.intent.RECEIVE" >
            </action>

            <category android:name="jakebuller.liveapp" />
        </intent-filter>
    </receiver> 
    ```

2.  您需要确保创建了另一个类，其名称与清单中声明的​​接收者的名称匹配，如上所示。这个类很像注册接收器。

几天前我遇到了同样的问题，结果证明接收方没有在清单中正确声明，所以一定要三重检查。希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-20T01:56:56.843

关于这个问题的一点反馈：这是我本地网络的问题......所有端口都已关闭。

它尝试了3G，它的工作原理......

# javascript - 内联 JS (OnMouseOver) - 重复某些事情直到 MouseOut 发生

> ID：10881628
> 
> 赞同：1
> 
> 时间：2012-06-04T12:51:03.567
> 
> 标签：javascript, jquery

考虑到我仅限于运行内联代码（没有外部 js 文件或标签），有没有办法每 10 毫秒运行一次给定函数？

我只能使用：

```
<div onmouseover="functions here" onmouseout="functions here"> 
```

更具体地说，我想使用 marginLeft 每 10 毫秒将另一个元素向左移动 50 像素，但我无法运行如上所述的外部函数或 js 库。

我正在考虑可能将它全部合并到带有 setInterval(function, 10) 的 onmouseover 中，但是当鼠标移出发生时，我看不到停止这种情况的方法。

我知道我可以使用 .on 之类的 jQuery 事件处理程序，但这里不是一个选项，因为它们必须从外部加载（而不是内联）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T12:55:37.487

设置一个全局变量：

```
<div onmouseover="if (!window.intervalId)
                  window.intervalId=setInterval(function() {/*your code*/}, 10);"
          onmouseout="clearInterval(window.intervalId); window.intervalId=null;"> 
```

# php - PHP - 调用具有多个变量的函数

> ID：10881630
> 
> 赞同：1
> 
> 时间：2012-06-04T12:51:06.000
> 
> 标签：php, function

这似乎是我知道的一个基本问题，但我一直无法找到答案。

让我们假设一个基本功能：

```
function basicFunction ( $var1, $var2 = 1, $var3 = 2, $var4 = 5 )
{
// Do some stuff
// Return
} 
```

现在假设我想使用以下变量调用该函数：

```
$var1 = 0

$var2 = 1

$var3 = 2

$var4 = 3 
```

我可以做这个：

```
$someResult = basicFunction( 0, 1, 2, 3 ); 
```

`$var2`并且`$var3`已经设置好了，那么我将如何调用该函数而不必重复`$var2`and的值`$var3`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T13:03:26.227

PHP 不支持重载。因此，如果您不将它们移动到参数列表的最右侧，则不能以任何方式跳过它们。

一种常见的解决方案是设置与预期不同类型的默认值（即 NULL）。然后在函数中设置实际的默认值。这种方法不是很干净，需要一些额外的代码行，但如果情况需要，你可以这样做：

```
function basicFunction($var1, $var2 = NULL, $var3 = NULL, $var4 = NULL) {
    if ($var2 === NULL) {
        $var2 = 1;
    }

    // ... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T16:39:22.727

现在可以使用 PHP 8，有关详细信息，请参阅此答案[https://stackoverflow.com/a/64997399/519333](https://stackoverflow.com/a/64997399/519333)

* * *

老答案：

```
function my_function(
    $id,
    $start = 0,
    $limit = 10,
    $filter = false,
    $include_duplicates => false,
    $optimize_fetch => false,
    $cache = false
) {
    if (is_array($id)) extract($id, EXTR_IF_EXISTS);

    /* ... */
} 
```

进而

```
my_function(array('id' => 1, 'cache' => true)); 
```

资料来源： http: [//www.marco.org/2008/11/11/faking-named-parameters-in-php](http://www.marco.org/2008/11/11/faking-named-parameters-in-php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T12:59:35.527

不幸的是，我不认为 php 那样工作。
如果您要更改`$var4`，则必须包含它们`$var2`，`$var3`因为它们`$var4`位于函数声明之前。

您可以使用默认值将数组传递给函数，并且只更改`$var4`值，或者按照 nickb 的建议更改顺序。

[http://www.php.net/manual/en/functions.arguments.php#functions.arguments.default](http://www.php.net/manual/en/functions.arguments.php#functions.arguments.default)

[有什么方法可以在 PHP 中指定可选参数值？](https://stackoverflow.com/questions/690599/any-way-to-specify-optional-parameter-values-in-php)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-04T13:01:34.260

您需要将`$var2`和`$var3`放在参数列表的末尾

```
function basicFunction ( $var1, $var4 = 5, $var2 = 1, $var3 = 2) 
```

现在您可以致电：

```
basicFunction( 0, 3); 
```

否则，您将必须指定所有参数。调用函数时，必须从左到右指定所有参数。唯一可以省略参数的情况是：

1.  如果要省略的参数具有默认值。
2.  当前参数右侧的所有参数都具有默认值。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-04T13:05:08.893

您是否想过以某种方式将变量作为数组传递？在这种情况下，您只包含需要更新的变量

```
function basicFunction ( $arrayvar ){
    $arrayvar['var1']... 
```

更新：您也可以使用与[此处的第一个功能](http://net.tutsplus.com/tutorials/php/9-useful-php-functions-and-features-you-need-to-know/)`func_get_args()`类似的 -function

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-04T13:53:45.070

我刚刚编写了这个函数，它允许您通过关联数组调用函数。虽然我只在标量类型上测试过它，但它应该适用于接受`ints`, `floats`,`strings`和`booleans`. 我写得很快，它肯定可以通过多种方式改进：

```
function call_user_func_assoc($function, $array){
    $matches = array();
    $result = array();
    $length = preg_match_all('/Parameter #(\d+) \[ <(required|optional)> \$(\w+)(?: = (.*))? ]/', new ReflectionFunction($function), $matches);

    for($i = 0; $i < $length; $i++){
        if(isset($array[$matches[3][$i]]))
            $result[$i] = $array[$matches[3][$i]];
        else if($matches[2][$i] == 'optional')
            $result[$i] = eval('return ' . $matches[4][$i] . ';');
        else
            throw new ErrorException('Missing required parameter: $' . $matches[3][$i]);         
    }

    call_user_func_array($function, $result);
} 
```

你可以像这样使用它：

```
function basicFunction($var1, $var2 = "default string", $var3 = 2, $var4 = 5){
    var_dump(func_get_args());
}

call_user_func_assoc('basicFunction', array('var1' => "Bob", 'var4' => 30)); 
```

哪个输出：

```
array(4) {
  [0]=>
  string(3) "Bob"
  [1]=>
  string(14) "default string"
  [2]=>
  int(2)
  [3]=>
  int(30)
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-06-20T00:43:39.447

更纯代码 4 你（工作 100%，php>5.3），使用类和函数。

```
 function call_user_func_assoc($function, $array){
    if ((is_string($function)) && (count(explode('::',$function))>1))
        $function = explode('::',$function);

    $func = ((is_array($function)) || (count($function)>1)) ? new ReflectionMethod($function[0], $function[1]) : new ReflectionFunction($function);

    foreach($func->getParameters() as $key => $param) {
        if (isset($array[$key]))
            $result[$key] = $array[$key];
        elseif(isset($array[$param->name]))
            $result[$key] = $array[$param->name];
        else
            $result[$key] = $param->getDefaultValue();
    }
    return call_user_func_array($function, $result);
} 
```

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2012-06-04T12:57:56.057

跳过值试试这样

```
 $someResult = basicFunction( 0, 0, 0, 3 ); 
```

或者，如果您设置了值，那么

```
 // passing values stored in var2,var3

       $var1 = 1;
       $var2 = 2;

    $someResult = basicFunction( 0, $var1, $var2, 3 ); 
```

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2012-06-04T13:03:13.697

正如我在上面的评论中提到的，您应该始终将可选变量保留在右端，因为 php 参数从左到右进行评估。但是，对于这种情况，您可以采取一些技巧来消除重复值，如下所示：

```
$var2 = 1, $var3 = 2, $var4 = 5;
function basicFunction($var1, $var2 = null, $var3 = null, $var4 = null) {
    if($var2 === null)
        $var2 = $GLOBALS["var2"];
    if($var3 === null)
        $var3 = $GLOBALS["var3"];
    if($var4 === null)
        $var4 = $GLOBALS["var4"];
} 
```

但是，您最好通过巧妙地重新定位参数来解决这种情况。

# ios - 在运行时以编程方式在 iPhone 的核心数据模型中创建实体

> ID：10881634
> 
> 赞同：0
> 
> 时间：2012-06-04T12:51:18.050
> 
> 标签：ios, core-data, entities

我想在 iPhone 应用程序中以编程方式在运行时创建核心数据模型中的实体。我不知道如何在运行时创建自定义实体。请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T14:29:34.820

Apple 文档中有许多这样做的大量示例。请在 Xcode 中搜索“核心数据”。示例代码：iPhoneCoreDataRecipes、CoreDataBooks、ThreadedCoreData

# ios - Expand and Shrink UIScrollView with animation

> ID：10881643
> 
> 赞同：1
> 
> 时间：2012-06-04T12:51:38.057
> 
> 标签：ios, uitableview, uiscrollview, core-animation, accordion

I am having a `UITableView` inside a scrollview. So I am trying to do a accordion like component using `UITableView`. So I need to expand the `UITableView` to add more cell. In that case I have to increase the height of `UIScrollView` with a animation so that it matches the table animation.

```
- (NSIndexPath *)tableView:(UITableView *)tableView willSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    NSInteger row = [indexPath row];
    BOOL preventReopen = NO;

    if (row == expandedRowIndex + 1 && expandedRowIndex != -1)
        return nil;

    [tableView beginUpdates];
    if (expandedRowIndex != -1)
    {
        familyTableView.frame = CGRectMake(familyTableView.frame.origin.x, familyTableView.frame.origin.y, familyTableView.frame.size.width, 3*50+22);

        toolsTableView.frame = CGRectMake(toolsTableView.frame.origin.x, familyTableView.frame.origin.y + familyTableView.frame.size.height + 20, toolsTableView.frame.size.width, 4*50+22);

        myAccountTableView.frame = CGRectMake(myAccountTableView.frame.origin.x, toolsTableView.frame.origin.y + toolsTableView.frame.size.height + 20, myAccountTableView.frame.size.width, 2*50+22);

        settingsScrollView.contentSize = CGSizeMake(320, familyTableView.frame.size.height + toolsTableView.frame.size.height+ myAccountTableView.frame.size.height + 380);
        settingsScrollView.contentInset = UIEdgeInsetsMake(0, 0, familyTableView.frame.size.height + toolsTableView.frame.size.height+ myAccountTableView.frame.size.height + 380, 0);

        NSInteger rowToRemove = expandedRowIndex + 1;

        preventReopen = row == expandedRowIndex;
        if (row > expandedRowIndex)
            row--;
        expandedRowIndex = -1;
        [tableView deleteRowsAtIndexPaths:[NSArray arrayWithObject:[NSIndexPath indexPathForRow:rowToRemove inSection:0]] withRowAnimation:UITableViewRowAnimationTop];
    }else {
        familyTableView.frame = CGRectMake(familyTableView.frame.origin.x, familyTableView.frame.origin.y, familyTableView.frame.size.width, (3*50+22) + 100);

        toolsTableView.frame = CGRectMake(toolsTableView.frame.origin.x, familyTableView.frame.origin.y + familyTableView.frame.size.height + 20, toolsTableView.frame.size.width, 4*50+22);

        myAccountTableView.frame = CGRectMake(myAccountTableView.frame.origin.x, toolsTableView.frame.origin.y + toolsTableView.frame.size.height + 20, myAccountTableView.frame.size.width, 2*50+22);

        settingsScrollView.contentSize = CGSizeMake(320, familyTableView.frame.size.height + toolsTableView.frame.size.height+ myAccountTableView.frame.size.height + 380);
        settingsScrollView.contentInset = UIEdgeInsetsMake(0, 0, familyTableView.frame.size.height + toolsTableView.frame.size.height+ myAccountTableView.frame.size.height + 380, 0);
    }
    NSInteger rowToAdd = -1;
    if (!preventReopen)
    {
        rowToAdd = row + 1;
        expandedRowIndex = row;
        [tableView insertRowsAtIndexPaths:[NSArray arrayWithObject:[NSIndexPath indexPathForRow:rowToAdd inSection:0]] withRowAnimation:UITableViewRowAnimationTop];

    }
    [tableView endUpdates];

    return nil;
} 
```

I am not good at animation. Any help is greatly appreciated. What I need is when we do `[tableView beginUpdates]` we have to start animating the resize effect to UIScrollView and it should end when `[tableView endUpdates]` executes. So the Accordion executes flawlessly. Thanks in advance for any help..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:47:26.093

Since you are changing a *view* property (the frame of the scroll view) I would recommend that you use a UIView animation to animate the frame. You may need to tweak the timing slightly to make it look perfect but I believe that the animation is both EaseInEaseOut and takes 0.4 seconds. You would to the animation like this:

```
[UIView animateWithDuration:0.4 animations:^{
    // Change all your animatable properties like your frames here...
    yourScrollView.frame = theNewScrollViewFrame;
}]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-08T10:36:37.477

I finally fixed it by following code

```
// Start the animation before the begin update and commit it after the end update.        
[UIView beginAnimations:nil context:NULL];
        [UIView setAnimationDuration:0.3];

        [tableView beginUpdates];
<My code which I given in the question>
       [tableView endUpdates];
        [UIView commitAnimations]; 
```

Hope it helps some one in future..

# mysql - SQL多表选择查询

> ID：10881645
> 
> 赞同：0
> 
> 时间：2012-06-04T12:51:44.697
> 
> 标签：mysql, select

[http://i.stack.imgur.com/mbUTI.jpg](http://i.stack.imgur.com/mbUTI.jpg)

我想在一个查询中进行多项选择，其中一个表包含来自多个表的数据。我有四个表将其组合成一个输出。这是我的桌子的图像。

我想全选，不希望其他表中的其他数据只是带有所有其他表名称的主表

已尝试关注但它不起作用。

```
 select * from project_content 
    left Join project_master on project_master.id =  project_content.p_id
    left Join project_content_menu on project_content_menu.type_id =  project_content.p_c_id 
    left Join project_menu_master on project_menu_master.id =  project_content.m_id 

    select * from project_content 
    left Join project_master on project_master.id =  project_content.p_id
    left Join project_content_menu on project_content_menu.type_id =  project_content.p_c_id 
    left Join project_menu_master on project_menu_master.id =  project_content.m_id 

    select distinct(*) from project_content 
    left OUTER Join   project_master on project_master.id =  project_content.p_id
    left OUTER Join   project_content_menu on project_content_menu.type_id =  project_content.p_c_id 
    left OUTER Join  project_menu_master on project_menu_master.id =  project_content.m_id 

    select * from project_content ,project_master,project_content_menu,project_menu_master
    where project_master.id =  project_content.p_id and project_content_menu.type_id =  project_content.p_c_id and project_menu_master.id =  project_content.m_id 

    select pc.id as id , pm.name as pname , pmm.name as menuname , pcm.name as contentname , pc.name as name
    from 
    project_content as pc,
    project_master as pm,
    project_content_menu as pcm,
    project_menu_master as pmm
    where 
    pm.id = pc.p_id 
    and 
    pcm.type_id = pc.m_id
    and 
    pmm.id = pc.p_c_id 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T12:56:32.797

我不是 SQL 专家，但您可以尝试使用`UNION`运算符。像这样：

```
select names
from table1
where lastname like k%
UNION
select names
from table2
where lastname like k% 
```

这将结合 table1 和 table2 的结果，并在结果中显示 UNIQUE NAMES，其中姓氏以 k 开头。所以，如果有 JOHN KRAMER 和 JOHN KUTCHER，那么只有 JOHN 会显示一次。
如果您也想要重复条目，请使用`UNION ALL`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:59:01.150

我不确定，我是否很好地理解了您的问题，但是如果您需要将所有记录添加在一起，您应该使用：**[UNION ALL](http://dev.mysql.com/doc/refman/5.0/en/union.html)**

像：

```
select name from project_content

UNION ALL

select name from project_master 

UNION ALL

select name from project_master 

UNION ALL

select name from project_menu_master 
```

请确保您在每个选择中具有相同类型的相同数量的列

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T13:08:47.877

如果我没有正确地理解你，你想要只来自主表的数据，但使用名称而不是来自其他表的外键？如果是这样，那么：

```
SELECT pc.id, pm.name, pcm.name, pmm.name, pc.name, pc.desc, pc.thumb, pc.src, pc.status
FROM project_content AS pc
LEFT JOIN project_master AS pm ON pm.id =  pc.p_id
LEFT JOIN project_content_menu AS pcm ON pcm.type_id = pc.p_c_id 
LEFT JOIN project_menu_master AS pmm ON pmm.id = pc.m_id 
```

# properties - 保存 .ui 时，QLineEdit/QLabel 不会保持启用状态

> ID：10881646
> 
> 赞同：1
> 
> 时间：2012-06-04T12:51:48.400
> 
> 标签：properties, qt-creator, qwidget

我在 Qt Creator 中构建了一个 .ui 文件，其中包括一些不同的堆叠容器：一个工具箱，其中包含 QWidgets 和 QLabels、QLineEdits 等在各种选项卡中。一些小部件在开始时被禁用，应该只启用打开一些其他操作。为了能够通过简单地调用 widget.setEnabled(True) 来做到这一点，小部件上的所有项目，现在应该显示为启用，必须在 QT Creator 中启用，对吗？

我的问题是，QWidget 上的一些项目没有保持启用状态。我可以检查它们的“启用”属性复选框，但是一旦我导航到工具箱中的不同选项卡然后返回到我的 QWidget，这两个项目就会再次被禁用。当我保存文件时，它也不会将它们的状态保存为启用。保持启用状态的项目与未启用的项目的区别在于，对于那些没有保持启用状态的项目，在属性编辑器中，“启用”和“光标”属性显示为粗体，而其他属性则没有. 所有其他属性似乎都相似，并且所有项目都是同一个 QWidget 的子项。

我尝试用同一选项卡上另一个类似项目的复制版本替换它们，但这无济于事。

# javascript - jsp在两个页面之间传递变量

> ID：10881650
> 
> 赞同：0
> 
> 时间：2012-06-04T12:52:20.273
> 
> 标签：javascript, html, jsp

在我的主 jsp 页面中，我有类似的东西

```
<%@ include file="../customParametersHorizontal.jsp" %>

<tr>
<td align="center" class="ReportParamsGenerateButtonCell">
<html:submit onclick="if(preGenerateCriteria()){return true;} else {return false;}">Generate</html:submit>
</td>
</tr> 
```

在 customParametersHorizo​​ntal.jsp 中，还有另一个包含 dateSelection1.jsp，它验证表单上设置的日期和时间。

```
 <script>
function validateHHMM(inputField, message) {
    var isValid = /^(0?[1-9]|1[012])(:[0-5]\d) [APap][mM]$/.test(inputField);

    if (isValid) {

    }else {
        alert("Time must be entered in the format HH:MM AM/PM");

    }

    return isValid;
}
</script> 
```

因此，在 dateSelection1.jsp 中，我尝试使用以下命令禁用主 jsp 中的按钮：

```
 document.form1.ReportParamsGenerateButtonCell.disabled= true; 
```

但是，我收到一个错误，说对象为空或未定义。

无论如何，我可以设置一个var，以便它可以被主窗体破解并相应地禁用按钮？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T14:09:53.700

`document.form1.ReportParamsGenerateButtonCell`将返回 null 或错误，除非您将元素的 name 属性设置为`form1`并`ReportParamsGenerateButtonCell`像下面的示例一样：

```
<form name="form1">
    <input type="submit" name="ReportParamsGenerateButton" value="Generate" />
</form> 
```

这样你就可以`document.form1.ReportParamsGenerateButton.disabled = true`毫无问题地做。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T14:24:56.277

这是一种方法，保留`<html:submit>`标签，并且不引入 jQuery：首先，添加 styleId 属性，以便您的按钮具有可以抓取的 HTML ID：

```
<html:submit styleId="my_submit" onclick="if(preGenerateCriteria()){return true;} else {return false;}">Generate</html:submit> 
```

接下来，使用 ID 获取 DOM 的元素并禁用它：

```
var elt = document.getElementById("my_submit");
elt.disabled = true; 
```

**更新**

如果我正确理解了原始问题，main.jsp 包括 customParametersHorizo​​ntal.jsp，其中包括 dateSelection1.jsp。所以这三个脚本只渲染一个 HTML 页面，因此是一个文档对象。

我只`<form>`在 HTML 页面上看到一个的（部分）代码。即使您确实有多个表单，.getElementById() 也适用于所有表单中的所有 DOM 元素，而不是`document.form1`访问元素的样式。

确保您在适当的位置调用 validateHHMM() 来启用/禁用您的提交按钮，并确保一旦用户更正他的输入以使其有效，该按钮就会重新启用。

# php - PHP/MYSQL 防止sql注入攻击功能

> ID：10881651
> 
> 赞同：-3
> 
> 时间：2012-06-04T12:52:42.900
> 
> 标签：php, mysql, sql, function, sql-injection

我想升级并使之更系统化，我的保护免受 sql 注入攻击。我收集了三个主要方法是 pdo、prepared statements 和 mysql_escape_string，pdo 被认为是最好的，但如果你很细致，mysql_escape_string 被认为是足够的。我认为我还没有准备好使用 PDO 或准备好的语句，因为我有很多涉及多个表的复杂查询，所以这将是一项艰巨的任务。但我想更加程序化地使用 mysql_escape_string。

我没有转义用户提交的每个单独变量，而是考虑使用可能需要一些修改来处理标点符号的标准函数转义 SQL 命令这是一种合理的方法还是转义整个查询会产生问题 - 我确实使用撇号、反引号和 %，例如。似乎每个 sql 语句的标准函数会比变量方法更系统和标准。那么问题是可能需要进行哪些修改来处理标点符号？另外，当我收集到 mysql_escape_string 不是 100% 完成时，是否还有其他内容应该进入函数，例如 htmlspecialchars 和 strip_tags？

这里是基本功能。

```
function safe($sql) {
$safesql = mysql_real_escape_string($sql);
return $safesql;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T12:56:11.217

> 我认为我还没有准备好使用 PDO 或准备好的语句，因为我有很多涉及多个表的复杂查询，所以这将是一项艰巨的任务。

巨大的？也许。不过值得努力。

> 转义整个查询会产生问题

是的。您的函数将无法知道一段 SQL 是注入攻击还是您想要的。

您必须在将文本插入*SQL的位置对**文本*进行转义。您不能在 SQL 中插入文本，然后找出哪一位是 SQL，哪一位是文本。

 *> 是否还有其他内容应该进入该函数，例如 htmlspecialchars 和 strip_tags

`strip_tags`丢弃数据。我不会用它。

两者都`strip_tags`提供`htmlspecialchars`保护，防止将不安全的数据插入 HTML 文档。在将数据插入 HTML 文档之前使用它们，而不是在将数据插入 SQL 之前使用它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T13:17:00.173

就个人而言，我认为您可以放心地假设自己保护您的“复杂查询”比仅使用 PDO、ActiveRecord 等要复杂得多且耗时得多。此外，您将使您的代码更加与数据库无关。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T12:57:29.100

使其适用于整个查询的唯一方法是编写自己的 SQL 解析器，即使那样，您也必须尝试神奇地*查看* 查询的哪些部分是 SQL 注入。这是不可能的，所以不，您不能一次对整个查询执行此操作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-04T12:58:50.860

只是为了澄清一下，您不应该`mysql_real_escape_string`在整个查询中使用，而应该只使用您用于构建查询的字符串值。

例子：

```
"Select Id from table where username ='".mysql_real_escape_string($username)."' limit 1"; 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-06-04T13:01:19.043

我个人喜欢 phpBB 的人写的 db-class。它非常出色、快速且非常安全。*

# asp.net - ASP.Net MVC3：仅在一个视图中隐藏 _Layout 文件中的项目

> ID：10881653
> 
> 赞同：0
> 
> 时间：2012-06-04T12:52:53.970
> 
> 标签：asp.net, .net, asp.net-mvc-3

在我的布局文件中，我正在显示一些文本，并且我只想在一个视图中隐藏这些文本。如何判断当前从视图内部加载的视图？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T13:07:23.130

一种简单的方法是添加一些条件逻辑以在您的 _Layout 中呈现，只要未设置 viewbag 位。如果您不想渲染，只需在控制器操作中定义 viewbag 变量，布局就不会渲染它。

有更优雅的解决方案涉及属性，但这应该可以帮助您。

不要忘记布局不应该知道你正在渲染的具体视图是什么，这是一个令人担忧的问题。Viewbag 通过提供通信并允许将这两个部分解耦来提供帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T13:02:20.110

您可以将 Id 设置为该文本容器，并且在该特定视图中，您可以通过 jquery 隐藏该 Id
在该视图中编写此代码，您可以在其中隐藏文本

> $(function() { $("#id").hide(); }

# node.js - Express/Connect 中间件如何工作？

> ID：10881656
> 
> 赞同：2
> 
> 时间：2012-06-04T12:53:11.473
> 
> 标签：node.js, express

我正在学习 Node.js，并且我已经阅读了一些教程，例如用于学习核心功能的 The Node Beginner Book。但是我读的例子越多，我开始收集的疑问就越多。

在从教程获得的进一步示例中，我们可以看到对于 key 的 CRUD“读取”请求`/documents/titles.json`，我们返回一个值：

```
app.get('/documents/titles.json', loadUser, function(req, res) {
  Document.find({ user_id: req.currentUser.id },[], { sort: ['title', 'descending'] },
  function(err, documents) {
     res.send(documents.map(function(d) {
        return { title: d.title, id: d._id };
     }));
  });
}); 
```

在此示例中，该函数`loaduser()`用于身份验证目的：

```
function loadUser(req, res, next) {
   if (req.session.user_id) {
      User.findById(req.session.user_id, function(err, user) {
         if (user) {
            req.currentUser = user;
            next();
         } else {
            res.redirect('/sessions/new');
         }
      });
   }
} 
```

我不明白的是：

1.  我想 node.js 在开始执行 app.get 之前，它会转到 loaduser 函数。`loadUser()`函数有三个参数：req、res、next，但至少我看不到你是如何从`app.get()`“req”参数传递到`loadUser()`. 它从哪里来？
2.  在`loadUser()`函数内部，当你执行时`next()`，它意味着函数`app.get()`“可以继续它的过程，但是这个req.currentUser = user，和函数上使用的req是一样的`app.get()`吗？
3.  在`loadUser()`函数内部，当你执行`res.redirect()`代码时，会自动中断`app.get()`函数上的过程，对吧？看起来它不会返回到`Document.find()`.

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-04T13:22:06.740

您提出的问题是关于[Express](http://expressjs.com/)框架内部的具体问题：

1.  当您调用 app.get(route, loadUser, final) 时，Express 将使用 loadUser 和 final 函数函数创建一个堆栈（数组），并且它会知道当您调用 next 时，它应该使用相同的 req 在堆栈中执行以下函数和 res 参数。

2.  当您调用 next 时，它只会传递给中间件堆栈中的下一个函数。

3.  由于您调用 res.redirect 并且不调用 return，因此它不会传递给堆栈中的下一个函数（带有 Document.find 的那个）。

资源：

[http://howtonode.org/getting-started-with-express](http://howtonode.org/getting-started-with-express)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-06T19:33:40.760

我认为为了对此感到满意，您需要熟悉中间件的概念以及它在连接框架中的使用方式。

我发现很少有文章可以很好地解释这个主题。看看那里：

[http://howtonode.org/connect-it](http://howtonode.org/connect-it) 和这里[http://stephensugden.com/middleware_guide/](http://stephensugden.com/middleware_guide/)

主要思想是您有一组层，每次新请求到达时，它都会经过每个级别，并且在每个级别上您都可以决定如何处理。您可以在某个级别停止，做某事并返回响应，或者您可以将其传递到下一层

# wordpress - Wordpress 从下拉列表中忽略页面模板

> ID：10881661
> 
> 赞同：0
> 
> 时间：2012-06-04T12:53:34.907
> 
> 标签：wordpress, templates, custom-pages

我正在为看起来很简单的页面模板而苦苦挣扎。我已经阅读了很多关于此的帖子，人们似乎忘记将评论放在页面顶部，并且无法将其显示在页面的下拉菜单中。我**可以**做到这一点，我的问题是下一阶段。

我写了最基本的模板（custom-page.php）：

```
<?php
/*
Template Name: Test template
*/
?>

<?php get_header(); ?>

<h1>Teams!</h1>

<?php get_footer(); ?> 
```

它显示出来，我可以在新页面侧边栏上选择它。但是，当我访问该新页面时，它似乎使用内容模板包含默认存档页面。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T16:46:26.183

如果您将以下内容放在页脚中，您应该能够了解有关如何选择模板的更多信息（并且确切地知道可能会发生什么）。

```
<?php global $template;
echo(basename($template)); ?> 
```

然后在页脚中查找模板名称。有可能（就像@adomnom 说的那样）你有一个蛞蝓冲突。还有一些其他奇怪的场景可能是由插件、自定义函数或其他因素引起的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T13:11:07.137

从事物的声音来看，它可能与另一个模板发生冲突。

例如，如果您的页面具有 slug 'category' 并设置为使用自定义模板 'custom-template.php'，它将与 category.php 冲突（并被其覆盖），这是显示帖子的默认模板对于特定类别。

我建议更换 slug 看看是否是问题所在。

# iphone - 在 iPhone 中更改日期格式

> ID：10881663
> 
> 赞同：4
> 
> 时间：2012-06-04T12:53:48.843
> 
> 标签：iphone, ios, nsdateformatter

我从过去两个小时开始就在尝试这个，最后把它留给你们了：P

我需要将此**字符串** `Mon, 14 May 2012, 12:00:55 +0200` 转换为**日期** `dd/mm/yyyy hh:ss`格式..

对实现目标的任何帮助都将不胜感激。

**我试过的**

我曾尝试使用 NSDateFormatter，但无法确定上述日期的确切格式。这`[dateFormatter setDateFormat:@"EEEddMM,yyyy HH:mm:ss"];`就是我尝试过的方式以及许多其他格式

例如：

```
 NSString *finalDate = @"Tue, 29 May 2012, 14:24:56 +0200";
 NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
 [dateFormatter setDateFormat:@"EEEddMM,yyyy HH:mm:ss"];
  NSDate *date = [dateFormatter dateFromString:finalDate]; 
```

这里的日期总是为零

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T13:11:52.913

日期格式最重要的部分经常被遗忘，告诉`NSDateFormatter`输入语言：

```
NSDateFormatter *dateFormatter = [NSDateFormatter new];
[dateFormatter  setDateFormat:@"EEE, dd MMMM yyyy, HH:mm:ss Z"];
dateFormatter.locale = [[NSLocale alloc] initWithLocaleIdentifier:@"EN"];
NSDate *date = [dateFormatter dateFromString:@"Mon, 14 May 2012, 12:00:55 +0200"];
NSLog(@"date: %@", date); 
```

我检查了输出：`date: 2012-05-14 10:00:55 +0000`

请注意，`HH`日期格式化程序中的`24hr`.

现在我建议不要使用固定输出方案，而是使用以下之一`NSDateFormatterStyle`：

```
[dateFormatter setDateStyle:NSDateFormatterShortStyle];
[dateFormatter setTimeStyle:NSDateFormatterShortStyle];

NSString *dateString = [dateFormatter stringFromDate:date];

NSLog(@"date: %@", dateString); 
```

在美式英语中将输出：`5/14/12 12:00 PM`

* * *

`ARC`如果您不使用`ARC`add `autorelease`to the`NSLocale`并在完成后释放，则此代码有效`NSDateFormatter`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:58:00.323

```
NSDateFormatter *inputFormatter = [[NSDateFormatter alloc] init];
[inputFormatter setDateFormat:@"dd/mm/yyyy hh:ss"];
NSString *formatterDate = [inputFormatter stringFromDate:inDate];
[inputFormatter release]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T13:00:09.020

获取有关所有日期格式的信息我的博客链接是[http://parasjoshi3.blogspot.in/2012/01/date-formate-info-for-iphone-sdk.html](http://parasjoshi3.blogspot.in/2012/01/date-formate-info-for-iphone-sdk.html)

还有小功能如下......

```
-(NSString *) dateInFormat:(NSString*) stringFormat {
 char buffer[80];
 const char *format = [stringFormat UTF8String];
 time_t rawtime;
 struct tm * timeinfo;
 time(&rawtime);
 timeinfo = localtime(&rawtime);
 strftime(buffer, 80, format, timeinfo);
 return [NSString  stringWithCString:buffer encoding:NSUTF8StringEncoding];
} 
```

////////像.......

```
NSString *mydate =  [self dateInFormat:@"%Y%m%d-%H%M%S"]; 
```

希望，这对你有帮助....

# android - 定位网络服务

> ID：10881664
> 
> 赞同：0
> 
> 时间：2012-06-04T12:53:57.920
> 
> 标签：android

我正在开发一个应用程序来显示网络提供商的所有详细信息，但是我遇到了错误，任何人都可以帮我清除它吗？

logcat 文件：

```
D/AndroidRuntime(308): Shutting down VMW/dalvikvm(308):threadid=1: thread exiting with  
uncaughtexception(group=0x4001d800)
E/AndroidRuntime(308): FATAL EXCEPTION: main
E/AndroidRuntime(308): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.LocationTest/com.LocationTest.LocationTestActivity}: 
java.lang.NullPointerException
E/AndroidRuntime(308):at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2585)
E/AndroidRuntime(308):at 
android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
E/AndroidRuntime(308):at 
android.app.ActivityThread.access$2300(ActivityThread.java:125)
E/AndroidRuntime(308):at 
android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
E/AndroidRuntime(308):at 
android.os.Handler.dispatchMessage(Handler.java:99)
E/AndroidRuntime(308):at android.os.Looper.loop(Looper.java:123)
E/AndroidRuntime(308)at android.app.ActivityThread.main(ActivityThread.java:4627)
E/AndroidRuntime(308):at java.lang.reflect.Method.invokeNative(Native Method)
E/AndroidRuntime(308):at java.lang.reflect.Method.invoke(Method.java:521)
E/AndroidRuntime(308):at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
E/AndroidRuntime(308):at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
E/AndroidRuntime(308):at dalvik.system.NativeStart.main(Native 
Method)
E/AndroidRuntime(308): Caused by: java.lang.NullPointerException
E/AndroidRuntime(308):at android.app.Activity.findViewById(Activity.java:1637)
E/AndroidRuntime(308):at com.LocationTest.LocationTestActivity.
<init>(LocationTestActivity.java:18)
E/AndroidRuntime(308):at java.lang.Class.newInstanceImpl(Native Method)
E/AndroidRuntime(308):at java.lang.Class.newInstance(Class.java:1429)
E/AndroidRuntime(308):at android.app.Instrumentation.newActivity(Instrumentation.java:1021)
E/AndroidRuntime(308):at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2577)
E/AndroidRuntime(308):  ... 11 more
I/Process(308): Sending signal. PID: 308 SIG: 9 
```

代码：

```
public class LocationTestActivity extends Activity implements LocationListener {
/** Called when the activity is first created. */
 LocationManager locman;
 String best; Location loc; TextView t=(TextView)findViewById(R.id.text);
 private static final String[] A = { "invalid" , "n/a" , "fine" , "coarse" };
 private static final String[] P = { "invalid" , "n/a" , "low" , "medium" ,
 "high" };
 private static final String[] S = { "out of service" ,
 "temporarily unavailable" , "available" };
 @Override
 public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
   locman =(LocationManager)getSystemService(LOCATION_SERVICE);

    log("location Providers");
    dumpproviders();
    Criteria criteria=new Criteria();
    best=locman.getBestProvider(criteria,true);
    log("BestProviders"+best);
    log("Starting with last known location");
    loc=locman.getLastKnownLocation(best);
    dumpLocation(loc); 

}
protected void OnResume()
{
   super.onPause();
locman.requestLocationUpdates(best, 15000,1,this);
}
 protected void Onpause()
 {
    super.onPause();
    locman.removeUpdates(this);
 }

private void dumpproviders() {
    // TODO Auto-generated method stub
    List<String> providers=locman.getAllProviders();
    for(String provider:providers){
        dumpProvider(provider);
    }
}

private void dumpProvider(String providers) {
    // TODO Auto-generated method stub
    LocationProvider info=locman.getProvider(providers);
    StringBuilder buil=new StringBuilder();
    buil.append("LocationProvier[")
    .append("name=")
    .append(info.getName())
    .append("provider state")
    .append(locman.isProviderEnabled(providers))
    .append(",getAccuracy=" )
    .append(A[info.getAccuracy() + 1])
    .append(",getPowerRequirement=" )
    .append(P[info.getPowerRequirement() + 1])
    .append(",hasMonetaryCost=" )
    .append(info.hasMonetaryCost())
    .append(",requiresCell=" )
    .append(info.requiresCell())
    .append(",requiresNetwork=" )
    .append(info.requiresNetwork())
    .append(",requiresSatellite=" )
    .append(info.requiresSatellite())
    .append(",supportsAltitude=" )
    .append(info.supportsAltitude())
    .append(",supportsBearing=" )
    .append(info.supportsBearing())
    .append(",supportsSpeed=" )
    .append(info.supportsSpeed())
    .append("]" );
    log(buil.toString());
}
private void log(String string) {
    // TODO Auto-generated method stub
    t.append(string+"\n");
}
@Override
public void onLocationChanged(Location arg0) {
    // TODO Auto-generated method stub
    dumpLocation(loc);
}
private void dumpLocation(Location loc) {
    // TODO Auto-generated method stub
    if (loc == null)
        log("\nLocation[unknown]" );
        else
        log("\n" + loc.toString());
}
@Override
public void onProviderDisabled(String arg0) {
    // TODO Auto-generated method stub
    log("\nProvider disabled: " + arg0);
}
@Override
public void onProviderEnabled(String arg0) {
    // TODO Auto-generated method stub
    log("\nProvider enabled: " + arg0);
}
@Override
public void onStatusChanged(String provider, int status, Bundle extras) {
    // TODO Auto-generated method stub
    log("\nProvider status changed: " + provider + ", status="
            + S[status] + ", extras=" + extras);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:05:21.930

您不能在类范围内拥有以下代码行。

```
TextView t=(TextView)findViewById(R.id.text); 
```

findViewByID 方法仅在特定 View 已显示在屏幕上时才返回有效的 View 对象，否则它将返回 NULL。

在您的情况下，您甚至在 TextView 可见之前就尝试访问它，因此您得到 NullPointerException （检查日志中引发的第二个异常）

```
E/AndroidRuntime(308): Caused by: java.lang.NullPointerException
E/AndroidRuntime(308):at android.app.Activity.findViewById(Activity.java:1637)
E/AndroidRuntime(308):at com.LocationTest.LocationTestActivity. (LocationTestActivity.java:18)
E/AndroidRuntime(308):at java.lang.Class.newInstanceImpl(Native Method)
E/AndroidRuntime(308):at java.lang.Class.newInstance(Class.java:1429)
E/AndroidRuntime(308):at android.app.Instrumentation.newActivity(Instrumentation.java:1021)
E/AndroidRuntime(308):at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2577)
E/AndroidRuntime(308): ... 11 more I/Process(308): Sending signal. PID: 308 SIG: 9 
```

在“setContentView(R.layout.main);”之后添加上述行 在 onCreate() 方法中它应该可以工作，例如...

```
setContentView(R.layout.main);
t = (TextView) findViewByID(R.id.text); 
```

仔细阅读错误日志，您将获得调试所需的所有信息。

# windows - 在 Windows 中绘制 2D 图形，可从 excel 调用非托管代码

> ID：10881667
> 
> 赞同：1
> 
> 时间：2012-06-04T12:54:04.643
> 
> 标签：windows, winapi, directx, gdi+, gdi

我希望能够将节点列表输入到 Excel 电子表格中，并弹出一个带有这些节点图形的可缩放窗口。要求是：图表要非常大（通常有 40 多个节点，200 多个边）。以最少的依赖项分发的项目。在最低权限环境中运行的项目。渲染图形的缩放和缩放为“平滑”。针对win7/vista sp2。

我知道如何构建图形的布局，但我不确定呈现它的最佳方式。我需要渲染归结为三次样条和矩形列表的内容。

出于性能原因，我倾向于使用 vb6/userform 使用 excel 形状或绘图。

我目前的计划是将渲染代码构建成一个 dll（用 C 或 C++ 编码），它与电子表格一起提供并且简单地位于同一个文件夹中，调用 dll 并编组数据是没有问题的。

我不确定的一点是在 dll 中使用来呈现图形的最佳技术。我看到的选项是：1\. GDI 2\. GDI+ 3\. Direct2d 4\. Direct3d

我的理解是，在最新版本的 Windows 中，GDI 和 GDI plus 没有加速并且相对缓慢。Direct2d 似乎是不必要的复杂。Direct3d 原则上似乎比 direct2d 更容易，但在最新版本中文本/字体处理很差。

人们会推荐哪个选项 1 到 4 最适合要求，我是否还缺少其他选项。考虑到图表的大小和缩放要求，将多少权重放在性能背后是合理的，这应该是一个多大的因素？

# for-loop - Zsh：for循环使awk模式失败

> ID：10881668
> 
> 赞同：0
> 
> 时间：2012-06-04T12:54:17.353
> 
> 标签：for-loop, zsh

我正在编写一些脚本来管理服务器上具有特定配额的用户。

因此，要对组 quota10 中的所有用户应用 10GB 的配额，我使用“setquota -p”，但我有几个组。

所以我制作了一个脚本来管理所有组的所有用户。

```
#!/bin/zsh
groups=(1002 1007)
for gid in $groups
    echo $gid
    echo $(awk -F: '$4 == gid {print $1}' gid=$gid /etc/passwd) 
```

但是当我执行它时，只有最后一个组给我这个组中的用户。

### /etc/passwd

```
kimino:x:1010:1002::/home/kimino:/bin/bash
kiminoo:x:1011:1007::/home/kiminoo:/bin/bash 
```

### /etc/组

```
quota10:x:1002:
quota20:x:1007: 
```

### 我的脚本的输出

```
# ./apply_quota_on_users.zsh
1002
1007
kiminoo 
```

你有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T12:58:43.873

您必须将函数包装在一个块中：

```
for gid in $groups
do
    echo $gid
    echo $(awk -F: '$4 == gid {print $1}' gid=$gid /etc/passwd)
done 
```

# ios - ipad屏幕右半边的模态视图？

> ID：10881670
> 
> 赞同：1
> 
> 时间：2012-06-04T12:54:17.763
> 
> 标签：ios, cocoa-touch, ipad, ios5, uiviewcontroller

我需要使用以下参数修改视图的模式表示：

1 - 模态视图仅填充 ipad 屏幕的右半部分。
2 - 动画从屏幕的左半部分运行。

我在 iosframeworks.com、cocoacontrols.com、big nerd rach 的书籍、ios 食谱、ios 突破极限、stackoverflow 和谷歌中进行了搜索。有可能这样做吗？
感谢你的协助

为了测试，经过两天的搜索答案，我创建了以下代码，我正在执行以下代码，因为根视图控制器CMMainView，视图控制器CMVistaModal是空的，它没有任何覆盖的方法，也没有xib，也没有其他变量，设备系列是 iPad

```
-(IBAction)accion:(id)sender
{

CMVistaModal *modal = [[CMVistaModal alloc] init];

[modal setModalPresentationStyle:UIModalPresentationFormSheet];

[self presentViewController:modal animated:NO completion:nil];
[modal.view.superview setAutoresizingMask:UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight];
[modal.view.superview setFrame:CGRectMake(800, 120, 200, 500)];
[UIView animateWithDuration:1 animations:^{
    modal.view.superview.transform = CGAffineTransformMakeTranslation(-200, 0);
}];
} 
```

我如何执行相同的操作但覆盖 CMVistaModal 中的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:04:33.833

绝对地。只需创建一个新视图并将其添加到您现有的视图中并将其设置为动画即可。您可以在其后面显示另一个视图，以阻止对其他视图的任何触摸。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T13:10:01.477

世事皆可能。这仅取决于您希望投入多少工作。

所以标准`UIModalPresentationFormSheet`或`UIModalPresentationPageSheet`免费提供。但是你想要的不是标准的，所以你必须自己烤。

我在这里要做的是创建一个“假”模式。

和

```
XYViewController -> Container View

Container View -> Semi Opaque blocker
               -> Half Screen Content 
```

拦截器覆盖整个屏幕并立即进入并阻止与 UI 其余部分的交互

然后使用标准帧动画从左侧对“半屏内容”进行动画处理。你如何选择关闭这个假模态取决于你，但如果它从左边进来，也许它应该离开左边。

# c++ - 使用 Boost.Geometry 偏移多边形？

> ID：10881675
> 
> 赞同：1
> 
> 时间：2012-06-04T12:54:40.967
> 
> 标签：c++, boost, boost-geometry

[Boost Polygon 库指出](http://www.boost.org/doc/libs/1_49_0/libs/polygon/doc/index.htm)可以偏移多边形（对称）。但我在 API 中没有找到任何方法或如何做到这一点的示例。任何人都可以确认 Boost 几何可以做到这一点吗？我也发现了这个问题：

[https://stackoverflow.com/questions/7668331/outline-of-a-polygon-in-boost](https://stackoverflow.com/questions/7668331/outline-of-a-polygon-in-boost) 这似乎在问类似的问题。请记住，像[Polygon Clipper](http://www.angusj.com/delphi/clipper.php)这样的库可以做得很好，但我对 Boost 的兴趣在于它速度快并且支持浮点数。感谢帮助。

更新：我说的是 Boost 几何和多边形库，因为我不确定哪个包含或缺少此功能。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-29T15:22:44.123

根据 boost doc： [Boost buffer algorithm](http://www.boost.org/doc/libs/1_49_0/libs/geometry/doc/html/geometry/reference/algorithms/buffer/buffer.html) 这目前不适用于一般多边形：“当前的实现只放大一个盒子，OGC 没有定义。下一个版本的库将包含更完整的实现”

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-05T08:10:25.343

相关函数 是`resize`及其变体`bloat`和`shrink`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-05T13:50:57.550

使用 boost 几何，你想要的函数被调用`buffer`。从文档：

> 缓冲
> 
> 计算几何的缓冲区。
> 
> 描述
> 
> 自由函数缓冲区计算几何的缓冲区（多边形是距几何指定最大距离内的空间点集集合）。

[http://www.boost.org/doc/libs/1_49_0/libs/geometry/doc/html/geometry/reference/algorithms.html](http://www.boost.org/doc/libs/1_49_0/libs/geometry/doc/html/geometry/reference/algorithms.html)

# jquery - 如何在具有多个实例的下拉列表中选择特定选项？

> ID：10881676
> 
> 赞同：0
> 
> 时间：2012-06-04T12:54:41.897
> 
> 标签：jquery, jquery-selectors

这是我要实现的基本示例：

```
<select name="userId" id="userId">
<option value="1">Charles</option>
<option value="2">Mike</option>
<option value="3">Jeff</option>
<option value="4">Kevin</option>
</select>

<select name="userId" id="userId">
<option value="1">Charles</option>
<option value="2">Mike</option>
<option value="3">Jeff</option>
<option value="4">Kevin</option>
</select>

<select name="userId" id="userId">
<option value="1">Charles</option>
<option value="2">Mike</option>
<option value="3">Jeff</option>
<option value="4">Kevin</option>
</select> 
```

例如，我想选择第二个“userId”下拉列表的第三个选项（Jeff）。我知道如何为唯一的下拉列表执行此操作，但我无法让它与具有相同 ID 的多个下拉列表一起使用。

我以为我可以使用以下行来做到这一点：

```
$("input[id=userId]").eq(1).val("3"); 
```

..但它不起作用。

任何想法？

非常感谢

查尔斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:00:33.083

你不能。DOM 元素的 id 应该是全局唯一的。具有相同`id="userId"`位 3 次是损坏的 HTML。相反，使用：

```
<select name="userId" class="userId">
...
</select> 
```

然后你可以这样做：

```
$('select.userId').<whatever jquery you want>; 
```

你会准备好的。

# html - HTML：在图像中播放视频

> ID：10881678
> 
> 赞同：9
> 
> 时间：2012-06-04T12:54:43.537
> 
> 标签：html, image, video

我正在尝试在电视的 PNG 图像中播放视频，以便电视充当视频的框架。

我尝试了类似的方法，但它只是将电视图像向上推并在下面播放视频。

```
<img class="tv" src="images/tv.png" alt="Tv">
  <video width="320" height="240">
    <source src="video/video.mp4" type="video/mp4" />
  </video>
</img> 
```

你能帮我找到进去的路吗？因为我确信有一个简单的解决方案，但我真的不知道去哪里找。太感谢了 ！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-04T13:07:52.383

首先，你不能使用`<img>`这种方式，因为它是一个不能包含其他元素的元素。

您所要做的就是将您的图像作为背景`div`，然后以正确的位置显示视频：

```
<div id="tv_container">
    <video width="320" height="240">
        <source src="video/video.mp4" type="video/mp4" />
    </video>
</div>

<style>
#tv_container {
    background: url('images/tv.png') no-repeat top left transparent;
    width: 400px; /* Adjust TV image width */
    height: 300px; /* Adjust TV image height */
    position: relative;
}
#tv_container video {
    position: absolute;
    top: 30px; /* Adjust top position */
    left: 40px; /* Adjust left position */
}
</style> 
```

或者代替`position: relative;`and`position: absolute;`你可以使用`margin: 30px 0px 0px 40px;`for `#tv_container video`（但是`position`当你想在`#tv_container`.

我假设电视图像大于`video`，但您必须调整一些东西才能正确显示它。

* * *

受 Guilherme J Santos 回答的启发，我建议您使用电视图像作为图层`video`，因为这样您可以使用电视屏幕的图像，而不必是严格的矩形。当然，部分视频将被裁剪，但它看起来像电视屏幕。

```
<div id="tv_container">
    <video width="320" height="240">
        <source src="video/video.mp4" type="video/mp4" />
    </video>
</div>

<style>
#tv_container {
    width: 400px; /* Adjust TV image width */
    height: 300px; /* Adjust TV image height */
    position: relative;
}
#tv_container:after {
    content: '';
    display: block;
    background: url('images/tv.png') no-repeat top left transparent;
    width: 100%;
    height: 100%;
    left: 0px;
    top: 0px;
    position: absolute;
    z-index: 10;
}
#tv_container video {
    position: absolute;
    top: 30px; /* Adjust top position */
    left: 40px; /* Adjust left position */
    z-index: 5;
}
</style> 
```

确保`z-index`层（在这种情况下是`#tv_container:after`伪元素）大于`video`'s `z-index`。~~还有一件事：您`video`将无法点击（因为它在图层下方）~~根据@brichins 的[评论](https://stackoverflow.com/questions/10881678/html-play-a-video-inside-an-image/10881895?noredirect=1#comment62355048_10881895)，还可以在图层下方制作可点击视频（谢谢！）。

**当然电视的屏幕部分必须是透明的！**

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-04T12:56:46.433

您可以将图像设置为比视频稍大的 div 的背景。将视频置于 div 的中心，您将出现用图像框住视频。

```
<div id="video_container">
    <video width="320" height="240">
        <source src="video/video.mp4" type="video/mp4" />
    </video>
</div> 
```

CSS：

```
#video_container { 
    background-image: url('images/tv.png'); 
    height: 300px;
    width: 400px;
}
video {
    text-align: center;
    /* or
    padding: 30px 40px;
    */
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-04T13:06:16.437

试试这样的[http://jsfiddle.net/CNj3A/338/](http://jsfiddle.net/CNj3A/338/)

它包含在带有背景图像的 div 中。我还设置了填充属性，因此即使在 div tvBorder 内有一些其他元素，背景上的电视图像的边框也会显示出来。

在里面插入你想要的任何元素。可以是 a `<video>`, other `<div>`, an `<image>`etc.

```
 <div id="tvBorder" style="background-image: url('https://mockuphone.com/static/images/devices/samsung-galaxys4-black-portrait.png'); background-repeat:no-repeat; width:625px; height:532px; padding-left:250px; padding-top:150px;">
        <video controls autoplay height="450" width="250" style="object-fit: fill">
            <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4" />
        </video>
    </div> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-05-23T14:14:31.843

Bootstrap 在图像中嵌入视频：

HTML 代码：

```
/* Example 1 */
<div class="container">
    <div class="row">
        <div class="col-sm-12">
        <div class="laptop-wrapper">
            <iframe width="560" height="315" src="//www.youtube.com/embed/f890SC1schE" frameborder="0" allowfullscreen></iframe>
        </div>
        </div>
    </div>
</div>

/* Example 2 */
<div class="container">
<div class="container">
    <div class="row">
        <div class="col-sm-12">
        <div class="desktop-wrapper">
            <iframe width="560" height="315" src="//www.youtube.com/embed/f890SC1schE" frameborder="0" allowfullscreen></iframe>
        </div>
        </div>
    </div>
</div>

 /* Example 3 */
<div class="container">
<div class="container">
    <div class="row">
        <div class="col-sm-12" style="background-image: url(' http://img01.deviantart.net/05b6/i/2011/030/8/5/apple_led_cinema_screen_by_fisshy94-d38e3o5.png'); background-repeat:no-repeat; width:900px; height:758px; padding:80px;text-align:center;">
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-sm-12">
            <div class="header-unit">
            <div id="video-container">
                <video autoplay loop class="fillWidth">
                <source src="http://yourwebsite.com/your-video-file.mp4" type="video/mp4"/>
                <source src="http://yourwebsite.com/your-video-file.ogg" type="video/ogg"/>
                <source src="http://yourwebsite.com/your-video-file.webm" type="video/webm"/>
                Your browser does not support the video tag. I suggest you upgrade your browser.
                </video>
            </div>
            </div>
        </div>
    </div>
</div> 
```

CSS：

```
/* 1st example */

div.laptop-wrapper {
    position: relative;
    padding-top: 25px;
    padding-bottom: 67.5%;
    height: 0;
}
div.laptop-wrapper iframe {
    box-sizing: border-box;
    background: url(https://i.stack.imgur.com/zZNgk.png) center center no-repeat;
    background-size: contain;
    padding: 11.9% 15.5% 14.8%;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

/* 2nd example :  BACKGROUND IMAGE */
div.desktop-wrapper {
    position: relative;
    padding-top: 25px;
    padding-bottom: 67.5%;
    height: 0;
}
div.desktop-wrapper iframe {
    box-sizing: border-box;
    background: url(http://img01.deviantart.net/05b6/i/2011/030/8/5/apple_led_cinema_screen_by_fisshy94-d38e3o5.png) center center no-repeat;
    background-size: contain;
    padding: 3.4% 10.8% 18.6%;/* 11.9% 15.5% 14.8% */
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

/* 3rd example :  BACKGROUND IMAGE */
.header-unit {
    height: 150px;
    border: 2px solid #000;
    border-right:none;
    border-left: none;
    position: relative;
    padding: 20px;
}
#video-container {
    position: absolute;
}
#video-container {
    top:0%;
    left:0%;
    height:100%;
    width:100%;
    overflow: hidden;
}
video {
    position:absolute;
    z-index:0;
}
video.fillWidth {
    width: 100%;
} 
```

# c - Debian Squeeze/Wheezy 中缺少 XCB 标头

> ID：10881682
> 
> 赞同：1
> 
> 时间：2012-06-04T12:55:17.143
> 
> 标签：c, debian, header-files, xcb

[文档](http://xcb.freedesktop.org/manual/xinput_8h-source.html)讨论了一个名为该文件的文件，该文件`input.h`似乎没有出现在任何包中，至少根据：

```
apt-file search /usr/include/xcb/xinput.h 
```

我需要它，因为我试图使用该功能[`xcb_input_open_device`](http://xcb.freedesktop.org/manual/group__XCB__Input__API.html#gd627b945aee22b9a4977855083e43fa3)。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T15:20:15.997

XInput Extension 似乎默认被禁用，因为它还不够稳定；因此没有打包在 Debian 中。

在`configure`脚本中：

```
--enable-xinput         Build XCB XInput Extension (default: "no") 
```

# tcp - Indy TCP - 循环读取数据

> ID：10881685
> 
> 赞同：3
> 
> 时间：2012-06-04T12:55:29.460
> 
> 标签：tcp, tcpclient, indy, indy-9

TCP 服务器每 8ms 连续发送数据帧。我想编写一个能够接收这些数据帧的客户端。Indy 9 中是否有任何程序可以知道缓冲区中是否有可用数据？

我当前的程序如下（我正在使用线程）：

```
procedure TThreadRead.Execute;
var
  buffer: array [0..755] of byte;
  //s1: string;
  //i: integer;
begin
  IdTCPClient1.RecvBufferSize:= 756;
  IdTCPClient1.Connect;
  while Terminated = false do
  begin
    if IdTCPClient1.InputBuffer.Size = 0 then
       IdTCPClient1.ReadFromStack(True,0,False);
    while IdTCPClient1.InputBuffer.Size > 0 do
    begin
       ReadBuffer(buffer, FClient.InputBuffer.Size);
       //s1:= '';
       //For i:=0 To Length(buffer)-1 Do
       //  s1:=s1+IntToHex(Ord(buffer[i]),2); //Read values-->global var
       //Form1.Memo1.Text:=s1;
    end;
  end;
end; 
```

有没有更有效的连续读取 TCP 数据的解决方案（如 UDP 中的 onread 事件）？

提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-05T01:12:51.477

`TIdTCPClient`不是异步组件。它不会告诉您数据何时到达。您需要使用 Timer 或 Thread 定期轮询套接字以获取新数据（`TIdUDPServer`使用内部线程触发其`OnUDPRead`事件），例如：

```
procedure TForm1.Button1Click(Sender: TObject);
begin
  IdTCPClient1.Connect;
  Timer1.Enabled := True;
end;

procedure TForm1.Button2Click(Sender: TObject);
begin
  Timer1.Enabled := False;
  IdTCPClient1.Disconnect;
end;

procedure TForm1.Timer1Timer(Sender: TObject);
var
  s1: string;
begin
  s1 := IdTCPClient1.CurrentReadBuffer;
  ...
end; 
```

话虽如此，`CurrentReadBuffer()`通常不是使用的最佳选择。通常你会做更多这样的事情：

```
procedure TForm1.Timer1Timer(Sender: TObject);
begin
  Timer1.Enabled := False;

  IdTCPClient1.ReadFromStack(True, 0, False);

  while IdTCPClient1.InputBuffer.Size > 0 do
  begin
    // read one complete frame and process as needed ...
  end;

  Timer1.Enabled := True;
end; 
```

**更新：**给出有关框架结构和切换到线程的新信息，您应该这样做：

```
procedure TThreadRead.Execute;
var
  buffer: array of Byte;
  numbytes: Integer;
begin
  SetLength(buffer, 0);
  IdTCPClient1.Connect;
  try
    while not Terminated do
    begin
      numbytes := StrToInt('$' + IdTCPClient1.ReadString(8)) - 8;
      if numbytes <> Length(buffer) then
        SetLength(buffer, numbytes);
      if numbytes > 0 then
        IdTCPClient1.ReadBuffer(buffer[0], numbytes);
      // process buffer up to numbytes as needed...
    end;
  finally
    IdTCPClient1.Disconnect;
  end;
end; 
```

# android - 我自己在 Android 中的秒表

> ID：10881686
> 
> 赞同：1
> 
> 时间：2012-06-04T12:55:32.970
> 
> 标签：android

我正在开发一个简单的秒表问题是当用户按下主页按钮时线程女巫计算时间冻结我如何避免使线程在后台运行？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T12:59:46.767

一个更简单的解决方案是使用 system.currentTimeMillis 记录秒表的开始时间。当您的活动 onResume 或 onStart() 被调用时，更新手表以显示从您保存的时间开始经过的时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T12:57:53.223

做一个服务。看这里：http: [//developer.android.com/guide/topics/fundamentals/services.html](http://developer.android.com/guide/topics/fundamentals/services.html)

# firefox - css - Firefox 上的 div 位置不正确

> ID：10881690
> 
> 赞同：1
> 
> 时间：2012-06-04T12:55:54.607
> 
> 标签：firefox, css, css-transforms

我正在制作一张带有 css 动画的卡片，在 Chrome/Safari 上效果很好，但在 Firefox 上，其中一个 div 已经脱离了它的位置。在 Chrome/Safari 和 Firefox 上打开[这个小提琴](http://jsfiddle.net/jmorais/p5XCD/)，看看发生了什么。有人知道对此的修复/解决方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T13:33:19.740

我设法通过添加让 Firefox 玩得更好

```
.perspective {
    ...
    position: relative;
} 
```

这似乎指定了左侧绝对定位的对象。Webkit 和 Firefox 之间的默认值必须不同。

不幸的是，它现在看起来有时间问题，但至少你更近了一步！

效果还是很酷的XD！

# mercurial - Mercurial 提交和合并

> ID：10881691
> 
> 赞同：2
> 
> 时间：2012-06-04T12:55:56.073
> 
> 标签：mercurial, mercurial-commit

使用 Mercurial，我经常看到需要逐步提交推送的情况，但如果另一个人在此过程中提交，那么我就会遇到问题。

示例：假设 HG 存储库有四个文件 a.txt、b.txt、c.txt、d.txt，我们有两个用户 Mickey 和 Goofy：

```
Mickey does:  $ echo "change1" >> a.txt
Mickey does:  $ echo "change2" >> b.txt
Mickey does:  $ echo "change3" >> c.txt
Mickey does:  $ hg commit -m "I am good" a.txt
Goofy does:   $ hg pull -u; echo "change4" >> d.txt; hg commit -m "The Donald change" 
```

Mickey 准备好提交和推送，但必须合并：Mickey 会：$ hg pull -u

现在 Mickey 有两个变化 - 在 b.txt 和 c.txt 中。让我们假设他在 c.txt 中的更改很复杂，现在不能发布。米奇如何在不提交 c.txt 的情况下提交并推送他在 a.txt 和 b.txt 中的更改？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:59:26.003

只需发出您有兴趣提交的文件名：

```
hg commit a.txt b.txt -m'partial commit' 
```

然后像往常一样推。

编辑：我可以尝试将本地更改保存为补丁，恢复并拉取远程更改，然后应用补丁：

```
hg diff > local.patch
hg revert
hg pull -u
patch -p1 < local.patch 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T22:04:38.043

您的问题对我来说并不完全清楚，如果我错了，请纠正我。

Mickey 在他的 repo 中是这样的（`A`- Mickey 的变更集已`a`更改，`D`- Goofy 的变更集已`d`更改， - Mickey的`w`工作副本已更改）：`b``c`

```
-- o --- A --- w
    \
     D 
```

现在米奇有很多选择。`b`准备好被释放，所以他立即提交：

```
$ hg ci b.txt -m "Finished working on b.txt"

-- o --- A --- B --- w
    \
     D 
```

现在`c`工作副本中只剩下更改。米奇做了一个中间提交：

```
$ hg ci -m "working on c"

-- o --- A --- B --- C' --- w
    \
     D 
```

工作副本是干净的。为了确保`C'`不包含在合并中，Mickey 更新到之前的变更集，然后合并：

```
$ hg up B
$ hg merge D
$ hg ci -m "Merged with Goofy"

-- o --- A --- B --- C
    \           \
     D --------- M --- w 
```

现在 Mickey 可以继续工作`C`，并在准备好时修改提交：

```
$ hg up C
$ echo "final change" >> c.txt
$ hg ci --amend -m "Finished working on c.txt" 
```

从这里开始，Mickey 可以合并或变基（顺便说一下，与 Goofy 合并也可以是变基）。

# html - 如何在 HTML 中使用 Touch 旋转图像

> ID：10881697
> 
> 赞同：1
> 
> 时间：2012-06-04T12:56:12.957
> 
> 标签：html, image-rotation

有谁知道如何在 HTML、CSS 或 JavaScript 中使用 Touch 旋转图像。为了便于理解，我附上了图片。请帮助我。非常感谢任何建议。

[http://i.stack.imgur.com/YE7WP.png](http://i.stack.imgur.com/YE7WP.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T12:58:17.033

CSS3：

```
-ms-transform:rotate(30deg); /* IE 9 */
-moz-transform:rotate(30deg); /* Firefox */
-webkit-transform:rotate(30deg); /* Safari and Chrome */
-o-transform:rotate(30deg); /* Opera */ 
```

您可以查看 w3school，并小心，因为并非所有浏览器都支持旋转。

[http://www.w3schools.com/css3/css3_2dtransforms.asp](http://www.w3schools.com/css3/css3_2dtransforms.asp)

编辑：

您链接的那个图像没有被旋转，他只是改变了一个图像位置：

看看这个教程，

[http://kyleschaeffer.com/best-practices/pure-css-image-hover/](http://kyleschaeffer.com/best-practices/pure-css-image-hover/)

# android - 从对话框 Android 返回 int

> ID：10881698
> 
> 赞同：0
> 
> 时间：2012-06-04T12:56:13.133
> 
> 标签：android, dialog, return

我有下一个代码，我试图根据用户选择在此方法中返回“玩家”的值。问题我可以用对话框的 onClick 方法做到这一点，知道吗？

```
 public int dialogoInicial(){
    int players = 1;
    final String[] playersArray = {"1","2","3","4","5","6"};
    AlertDialog.Builder dialog = new AlertDialog.Builder(this);
    dialog.setTitle("Nº "+getString(R.string.players)+":");
    dialog.setSingleChoiceItems(playersArray, -1, new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int player) {
            players = Integer.parseInt(playersArray[player]);
        }
    });
    dialog.show();

    return players;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:14:44.870

这里的问题是`return players`在显示对话框时将执行。简单的解决方案是使`players`变量成为类级别的变量，而不是函数的局部变量。你也可以让你的函数返回`void`，因为它不能返回任何东西。Android 对话框是`Asynchronous`.

# python - 在 python 中使用 Bonjour 协议搜索特殊服务

> ID：10881699
> 
> 赞同：0
> 
> 时间：2012-06-04T12:56:19.187
> 
> 标签：python, bonjour

如何指定浏览以这种格式发布的服务：“_namemaster-master._tcp”。我正在使用 Python。

# android - 我想在android中制作一个微调器，使其充当下拉菜单而不是弹出

> ID：10881701
> 
> 赞同：2
> 
> 时间：2012-06-04T12:56:24.030
> 
> 标签：android, android-layout, android-spinner

![图片](../Images/28da8a38616ec5589c9da33fb6c73305.png)

在那个图像中..显示设置的按钮就像一个下拉的微调器......所以我想制作这样一个下拉的微调器..

提前致谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T18:54:11.530

我猜您的示例没有作为 Spinner 实现，因为只有 2 个项目您不会从使用 Spinner 而不是仅仅制作自己的“下拉”布局并简单地使其在新闻中可见的按钮。

如果您在下拉列表中想要的东西相对较少，我建议您只走这条路线并远离 Spinner 进行这条路线。

如果您有一长串数据可供用户选择，并且您希望将其放入下拉列表（类似于组合框等），您可能可以通过覆盖 Spinner 来更改 onDraw( ) 用于在其父视图中与视图内联显示，而不是弹出。虽然老实说，我认为股票微调器会提供比这更好的用户体验。

# .htaccess - 将 www 添加到 htaccess 以获取与上下文相关的 url

> ID：10881703
> 
> 赞同：0
> 
> 时间：2012-06-04T12:56:28.523
> 
> 标签：.htaccess, variables

我知道他的

```
RewriteEngine On
RewriteCond %{HTTP_HOST} ^yourdomain\.net$
RewriteRule (.*) http://www.yourdomain.net/$1 [R=301,L] 
```

但是，我事先不知道域名是什么（可能是大约 30 个域名之一）。是否可以使 yourdomain.com 变量匹配所有 30 个可能的域？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:00:12.093

您真的不需要匹配这 30 个域：

```
RewriteEngine On
RewriteCond %{HTTP_HOST} !^www\. [NC]
RewriteRule (.*) http://www.%{HTTP_HOST}/$1 [R=301,L] 
```

# python - 从多维数组中选择一个数组

> ID：10881705
> 
> 赞同：1
> 
> 时间：2012-06-04T12:56:38.960
> 
> 标签：python, list

`a`在以下数组中，我想在已知 id 时从数组中选择一个子数组

```
a=[['id123','ddf',1],['id456','ddf',1],['id789','ddf',1]] 
```

我知道 id 即 id456，基于此我如何在不使用任何循环的情况下`['id456','ddf',1]`从中选择值。`a`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:58:33.827

```
>>> a = [['id123','ddf',1],['id456','ddf',1],['id789','ddf',1]]
>>> next(x for x in a if x[0] == 'id456')
['id456', 'ddf', 1] 
```

但是，我建议改用字典。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T12:57:57.393

我认为这应该工作......

```
filter(lambda x:x[0]=='id456',a)[0] 
```

但是在这种情况下，字典不是更好的数据结构吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T13:39:32.533

你可以用它`numpy.where()`来做到这一点：

```
a = numpy.array(a)

row = numpy.where(a == 'id456')[0]

sub_array = a[row,:] 
```

这将检查具有所需 id 的元素并返回它们的索引。如示例所示，您可以使用这些索引从原始数组中获取切片。

此代码仅在给定 ID 有单行时才有效，但可以对其进行调整。

希望这可以帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-04T13:21:46.623

字典结构会更好。

```
b = {'id123': ['ddf', 1], 'id456': ['dff', 1], 'id789': ['ddf', 1]}
print b['id123'] 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-04T13:26:22.360

如果列表已排序，则可以使用该`bisect`模块：

```
>>> i = bisect.bisect_left(a, ['id456'])
>>> if i < len(a) and a[i][0]=='id456':
...     print a[i]
...
['id456', 'ddf', 1] 
```

# internet-explorer - InputDate 弹出窗口不起作用 IE 9

> ID：10881708
> 
> 赞同：2
> 
> 时间：2012-06-04T12:56:56.370
> 
> 标签：internet-explorer, jsf, trinidad

我在使用`<tr:inputDate>`Internet Explorer 9 时遇到问题。用于选择未显示日期的日历。使用 Chrome/Firefox 和以前版本的 IE 和 IE 兼容模式可以正常工作。我禁用了弹出窗口阻止程序，但仍然无法正常工作。有什么建议吗？

我正在与：

*   MyFaces v2.1.1
*   特立尼达 v2.0.0

谢谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T13:47:29.753

要么您使用了错误的[doctype](http://hsivonen.iki.fi/doctype/)，要么是由`<tr:inputDate>`. 由于我从未使用过特立尼达，因此我无法确认其中任何一个可能的原因。

在您向特立尼达人[报告](https://issues.apache.org/jira/browse/TRINIDAD)此问题后，同时您最好的办法是通过将以下元标记添加到 HTML 头部来强制 IE9 以 IE8 兼容模式呈现：

```
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T12:52:26.833

最后，我通过在 PhaseListener 的实现中添加以下代码来解决它：

```
@Override
public void beforePhase(PhaseEvent event){
FacesContext context = event.getFacesContext();
final HttpServletResponse response = (HttpServletResponse);
context.getExternalContext().getResponse();
response.addHeader("X-UA-Compatible", "IE=EmulateIE8");
} 
```

我在[这里](https://stackoverflow.com/questions/6860779/how-to-make-a-meta-tag-the-first-one-in-the-head-section)得到了解决方案。

# c# - 在一种方法中锁定某个对象是否也使其在另一种方法中锁定？

> ID：10881709
> 
> 赞同：3
> 
> 时间：2012-06-04T12:56:59.917
> 
> 标签：c#, multithreading, locking

当某些线程锁定并`myList`在`SomeMethodA`执行内部块`lock`时，其他线程是否可以执行或者它会因为'myList'被锁定而`myList.Add(1)`等待？`SomeMethodB``SomeMethodA`

```
class A
{
    private List<int> myList;

    public void SomeMethodA()
    {
       lock(myList)
       {
          //...
       }
    }

    public void SomeMethodB()
    {
       myList.Add(1);
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-04T13:00:02.757

**编辑**明确回答：*不*，您需要在`SomeMethodB`. 编译器不会自动为你加锁

*   为什么你必须明确锁定否则？
*   事情会非常缓慢。仅仅禁止多线程比总是锁定每个对象访问要好得多¹

推荐的成语是这样的：

```
class A
{
    private List<int> myList;
    private readonly object _lockObject = new Object();

    public void SomeMethodA()
    {
       lock(_lockObject)
       {
          //...
       }
    }

    public void SomeMethodB()
    {
       lock(_lockObject)
       {
           myList.Add(1);
       }
    }
} 
```

小心暴露像这样的细粒度锁定（只要锁定下不会发生阻塞操作，您通常希望进行粗粒度锁定）。

**注意**C# 中的锁是可重入的，因此 `SomeMethodB`从锁中调用`SomeMethodA`不会死锁

**使用私有锁`object`实例**更新背后的基本原理：****

 **> 通常，避免锁定公共类型或超出代码控制范围的实例。常见的构造 lock (this)、lock (typeof (MyType)) 和 lock ("myLock") 违反了此准则：
> 
> *   `lock (this)`如果实例可以公开访问，则存在问题。
> *   `lock (typeof (MyType))`如果`MyType`可以公开访问是一个问题。
> *   `lock("myLock")`这是一个问题，因为进程中使用相同字符串的任何其他代码都将共享相同的锁。
> 
> 最佳实践是定义一个私有对象来锁定，或者一个私有静态对象变量来保护所有实例共有的数据。

请参阅：http: [//msdn.microsoft.com/en-us/library/c5kehkcz.aspx](http://msdn.microsoft.com/en-us/library/c5kehkcz.aspx)

* * *

¹（除了该方法的其他问题，例如空值、引用更新、死锁等）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T13:07:44.757

锁定一个对象会在您的应用程序中全局锁定它。您甚至可以观察其他类中的锁（如果您锁定了公共对象）。

但是，在您的示例代码中，`myList.Add(1)`不会等待锁，因为您没有将它包装在一个**块**`lock`中。

当我们说“锁定一个对象”或“获取一个对象锁定”时，这是一种用词不当，因为语句实际上与阻止访问该对象`lock`没有**任何关系。**相反，它通过将该对象用作“密钥”来防止多个线程进入锁定*的代码块——并且一次只有一个线程可以拥有密钥。*所以当你“锁定”一个对象时，所有线程仍然可以自由使用该对象，但一次只有一个线程可以使用该对象进入一个`lock`块。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T13:20:19.020

**答案是否定的**。一旦一个线程获得了某个对象的锁（在您的情况下`myList`），没有其他线程可以访问该对象的锁，Thread1 将阻塞所有其他线程，直到 Thread1 释放锁，`myList`但条件是如果其他线程也在尝试锁。

在您的示例中，如果 Thread1 正在执行`SomeMethodA()`（具有 的锁`myList`）并且 Thread2 正在执行`SomeMethodB()`（它没有请求锁），**则不会有任何问题，它们也不会相互阻塞**。

请考虑以下示例以获得更多说明。

```
class A
{
    private List<int> myList;

    public void SomeMethodA()
    {
       lock (myList)
       {
           //...
       }
    }

    public void SomeMethodB()
    {
        myList.Add(1);
    }

    public void SomeMethodC()
    {
        lock (myList)
        {
            myList.Add(2);
        }
    }
} 
```

Thread1 正在尝试访问`SomeMethodA()`

Thread2 正在尝试访问`SomeMethodB()`

Thread3 正在尝试访问`SomeMethodC()`

Thread1 和 Thread2 将在不相互阻塞的情况下执行，但 Thread3 将被`myList`锁定，因为这已被 Thread1 获取。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-04T13:04:38.097

如果你不把锁放在里面`SomeMethodB`，所有线程都可以访问它，即使你有一个线程在`SomeMethodA`' 锁内执行。为了防止线程运行`SomeMethodB`，您需要像 sehe 那样实现您的方法。**

# unit-testing - 我无法在 Visual Studio 2012 RC 中创建或打开单元测试项目

> ID：10881715
> 
> 赞同：5
> 
> 时间：2012-06-04T12:57:32.710
> 
> 标签：unit-testing, visual-studio-2012

在 Visual Studio 2012 RC 中打开或创建单元测试项目时，我总是遇到错误。我在哪里可以找到有关如何解决此问题的答案。我尝试了多次修复安装。我已经尝试卸载并重新安装。除了少数随产品 (NuGet) 附带的扩展外，我已经删除了所有扩展。欢迎任何帮助修复此错误或找出我可以在哪里获得帮助。

```
The 'Microsoft.VisualStudio.TestTools.Tips.TuipPackage.TuipPackage, Microsoft.VisualStudio.QualityTools.Tips.TuipPackage, Version=11.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a' package did not load correctly.

The problem may have been caused by a configuration change or by the installation of another extension. You can get more information by examining the file 'C:\Users\Me\AppData\Roaming\Microsoft\VisualStudio\11.0\ActivityLog.xml'. 
```

我相信这是该文件中的相关部分：

```
Entering function CVsPackageInfo::HrInstantiatePackage {52CBD135-1F97-2580-011F-C7CD052E44DE}

Begin package loadBegin package load {52CBD135-1F97-2580-011F-C7CD052E44DE}

ERROR SetSite failed for packageSetSite failed for package {52CBD135-1F97-2580-011F-C7CD052E44DE} 80070057 - E_INVALIDARG

ERROR End package loadEnd package load {52CBD135-1F97-2580-011F-C7CD052E44DE} 80070057 - E_INVALIDARG

Entering function CVsPackageInfo::HrInstantiatePackage {52CBD135-1F97-2580-011F-C7CD052E44DE}

Begin package loadBegin package load {52CBD135-1F97-2580-011F-C7CD052E44DE}

ERROR SetSite failed for packageSetSite failed for package {52CBD135-1F97-2580-011F-C7CD052E44DE} 80070057 - E_INVALIDARG

ERROR End package loadEnd package load {52CBD135-1F97-2580-011F-C7CD052E44DE} 80070057 - E_INVALIDARG 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T16:17:18.707

我停止收到错误消息的方法是删除 .sln 文件中与此类似的以下部分：

```
ProjectSection(SolutionItems) = preProject
    SomeName.vsmdi = SomeName.vsmdi
    Local.testsettings = Local.testsettings
    TraceAndTestImpact.testsettings = TraceAndTestImpact.testsettings
EndProjectSection 
```

和这个：

```
GlobalSection(TestCaseManagementSettings) = postSolution
    CategoryFile = SomeName.vsmdi
EndGlobalSection 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T18:23:58.453

遇到同样的问题，我从 2010 年到 2012 年删除了有关 Visual Studio 的所有内容，重新启动并重新安装了 2012 RC，并检查了所有选择。它现在有效。

# java - JSF selectOneMenu：两个下拉菜单的验证

> ID：10881717
> 
> 赞同：2
> 
> 时间：2012-06-04T12:57:43.350
> 
> 标签：java, jsf, selectonemenu

在我的 .jsp 中，我有两个 selectOneMenu 项目，它们为我提供了开始/结束年份。现在，如果选择的开始年份大于结束年份，我想显示一条错误消息。我该如何解决这个问题？

```
<h:selectOneMenu id="minYear" value="#{statistics.minYear}" style="width: 75px">
    <f:selectItems value="#{statistics.yearValues}" />
</h:selectOneMenu>

<h:selectOneMenu id="maxYear" value="#{statistics.maxYear}" style="width: 75px">
    <f:selectItems  value="#{statistics.yearValues}"/>
</h:selectOneMenu> 
```

在我的支持 bean 中，如果范围有效与否，我有一个返回 true/false 的方法。

```
public boolean isYearValid() {
    return (getMaxYear() >= getMinYear());
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T13:09:45.717

JSF 中的普通验证只能验证单个元素，因此您需要绕过此限制。至少有两种方法可以使用 JSF 进行跨字段验证。

1.  您可以将验证器应用于最后一个元素（或最后一个隐藏元素）定义自定义验证器/方法，查找元素并进行验证。

2.  像这样注册一个监听器`PostValidateEvent`：`<f:event type="postValidate" listener="#{myValidationBean.validateDates}"/>`。其余过程与 1 中的完全相同。

验证方法中的元素查找：

```
UIComponent source = event.getComponent();
UIInput minInput = (UIInput) source.findComponent("minYear");
UIInput maxInput = (UIInput) source.findComponent("maxYear"); 
```

访问元素的值：

```
int minYear = ((Integer)minInput.getLocalValue()).intValue();
int maxYear = ((Integer)maxInput.getLocalValue()).intValue(); 
```

编辑：糟糕，忘记了验证消息部分。

```
String valMsg = "maxYear cannot be less than minYear";
FacesContext.getCurrentInstance().addMessage(source.getClientId(), new FacesMessage(valMsg, valMsg)); 
```

EDIT2：如果您使用事件侦听器进行验证并且验证失败，最好立即进入响应呈现阶段以避免在模型上设置无效数据。为此，请`context.renderResponse();`在发送错误消息后调用。

EDIT3：虽然 JSF2 已经引入了系统事件，但第一种方法在 JSF 1.x 中应该是可行的。当您获取上下文和由 JSF 传递给您的验证方法的组件时，查找和消息分派的细节略有不同。

```
public void validateMulti(FacesContext context, UIComponent component, Object value){
  ...
  UIInput minInput = (UIInput) component.findComponent("minYear");
  ...
  context.addMessage("minYear", new FacesMessage(valMsg, valMsg));
  ... 
```

# javascript - 将字符串转换为日期对象并在js中进行比较

> ID：10881718
> 
> 赞同：0
> 
> 时间：2012-06-04T12:57:43.750
> 
> 标签：javascript, asp.net

如何比较这种格式的两个日期

```
 var CurrDate = new Date().format("MM/dd/yyyy");
     if (Date.parse("05-Jun-2012")>Date.parse(CurrDate))
        {
         alert("Please enter future date!");
         return false;
        } 
```

请帮助验证日期。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:02:07.227

```
function customParse(str) {
  var months = ['Jan','Feb','Mar','Apr','May','Jun',
                'Jul','Aug','Sep','Oct','Nov','Dec'],
      n = months.length, re = /(\d{2})-([a-z]{3})-(\d{4})/i, matches;

  while(n--) { months[months[n]]=n; } // map month names to their index :)

  matches = str.match(re); // extract date parts from string

  return new Date(matches[3], months[matches[2]], matches[1]);
}

customParse("18-Aug-2010");
// "Wed Aug 18 2010 00:00:00"

customParse("19-Aug-2010") > customParse("18-Aug-2010"); 
```

# javascript - 无法弄清楚如何修复单词替换javascript

> ID：10881720
> 
> 赞同：0
> 
> 时间：2012-06-04T12:57:49.263
> 
> 标签：javascript

我想使用以下脚本更改页面上的一些单词。我不知道如何解决它......有人可以帮忙吗？

[http://jsfiddle.net/cip691/yUMS7/](http://jsfiddle.net/cip691/yUMS7/)

```
var dict = {
    "not": " NOT ",
    "is not": " IS NOT ",
    "like": " likeeee ",
    "Like": "lllike",
    "job": "JOB"
},
    terms = [],
    term;
for (term in dict) { terms.push(term);
var search = new RegExp('\\b(' + terms.join('|') + ')\\b', 'g');
                };
// now for every text node:
textNode.data = textNode.data.replace(search, function(full, match) {
    return dict[match] || match;
});​ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T13:04:16.640

你应该定义`textNode`

就像在这个例子中

[链接示例](http://help.dottoro.com/ljkuedch.php)

```
<head>
    <script type="text/javascript">
        function GetTextNode () {
            var textContainer = document.getElementById ("textContainer");
            var textNode = textContainer.firstChild;
            alert (textNode.data);
        }
    </script> 
</head>
<body>
    <div id="textContainer">This is a simple text in the container.</div>
    <button onclick="GetTextNode ()">Get the contents of the container</button>
</body> 
```

# android - 如何在 Android 中启动相机

> ID：10881722
> 
> 赞同：0
> 
> 时间：2012-06-04T12:57:52.813
> 
> 标签：android, android-camera, android-source

我正在了解 Android 源代码中可用的 Android Camera 的代码流。谁能告诉我当我们从家庭活动打开相机时，相机活动中的哪个方法负责调用相机硬件？

我检查了 Camera.java（当用户从​​家里启动相机时调用的第一个活动）但没有找到任何合适的路径。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T13:01:16.767

创建一个启动相机应用程序的意图：

```
private static final int CAMERA_PIC_REQUEST = 9999; // this can be anything
Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE); 
startActivityForResult(cameraIntent, CAMERA_PIC_REQUEST); 
```

处理从相机得到的结果：

```
protected void onActivityResult(int requestCode, int resultCode, Intent data) {  
    if (requestCode == CAMERA_PIC_REQUEST) {  
        Bitmap thumbnail = (Bitmap) data.getExtras().get("data"); // this is the picture taken  
    }  
} 
```

要在您的应用程序中使用相机，您还需要申请特殊许可。把它放到你的清单文件中：

```
<uses-feature android:name="android.hardware.camera"></uses-feature> 
```

# python - /myapp/ 处的数据库错误

> ID：10881729
> 
> 赞同：2
> 
> 时间：2012-06-04T12:58:03.453
> 
> 标签：python, django, postgresql, psycopg2

我只是在我的模型中包含一个选择字段

```
quote_template = models.CharField(_('Template'), choices=TEMPLATE, max_length=20) 
```

现在这个错误来了

```
DatabaseError at /quote/
current transaction is aborted, commands ignored until end of transaction block 
```

任何的想法？？？如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T13:08:24.070

向模型中添加字段不会神奇地更新现有的数据库模式——你要么必须通过或者使用像 South 这样的模式迁移工具来完成它。

# jquery - Ajax Live Search 一次多响应

> ID：10881735
> 
> 赞同：0
> 
> 时间：2012-06-04T12:58:29.653
> 
> 标签：jquery, ajax, request, response, livesearch

根据这个问题，我们使用 deboucing 进行实时搜索，例如 facebook

[Facebook 风格的 AJAX 搜索](https://stackoverflow.com/questions/1568312/facebook-style-ajax-search)

但这是我的情况，当我将超时设置为 300 毫秒时，首先我输入查询 A 并等待 300 毫秒然后触发 ajax 请求，但是当等待服务器响应查询 A 时，我执行另一个查询 B，并在 300 毫秒后，查询A的响应终于出现了，然后查询B的响应也立即出现了，所以你看到2个结果闪烁，如何防止这种情况？（取消第一个请求还是什么？）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T14:03:07.720

根据您返回的结果数量，我看到 2 个可能的操作：

*   不要发出新请求，而是等待旧请求完成并使用新搜索值过滤它
*   取消第一个请求并开始另一个请求。

第一种方法仅在第一个请求返回的项目多于显示的项目时才能正常工作。

# php - jquery ajax 将多维数组发布到 php

> ID：10881741
> 
> 赞同：0
> 
> 时间：2012-06-04T12:58:55.877
> 
> 标签：php, jquery, ajax

我有一个下载为 csv 按钮，用于将结果导出为 csv。到目前为止，我一直在使用服务器端代码。我正在将选定的 DropDowns Ids 发送到 csvdownload.php 页面，该页面正在将结果写入 excel。

但是现在，我想要一个使用复选框选择搜索结果的实用程序，然后将所选结果写入 csv。

我打算在数组中获取表数据，然后使用 ajax 将其发布到 php，然后它将完成其余的事情。但这怎么可能将多行数据发布到 php.ini 呢？**我有以下代码用于获取正在提醒数据但不知道如何将其作为数组传递给 php 的表数据**

```
 $('#tblSearchResults tr').filter(':has(:checkbox:checked)').each(function() {
     $tr = $(this);
       //alert($tr.find("td").eq(4).html());

        var risk_cat = $tr.find("td").eq(1).html();
        var risk_type = $tr.find("td").eq(2).html();
        var risk_desc = $tr.find("td").eq(3).html();
        var treat_desc = $tr.find("td").eq(4).html();
        var treat_cat = $tr.find("td").eq(5).html();

        selectedData.push({"risk_cat": risk_cat, "risk_type": risk_type, "risk_desc": risk_desc, "treat_desc": treat_desc, "treat_cat": treat_cat}); 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:02:25.147

我认为您需要使用`JSON.stringify(selectedData)`才能在服务器端使用它。

jQuery：

```
var obj = { 'risk_cat': risk_cat, 'risk_type': risk_type };
selectedData.push(obj);

$.post('serive.php', { DTO: JSON.stringify(selectedData) }, 
function(data){ /* handle response,  */ }); 
```

* * *

服务.php：

```
header('Content-type: application/json');
header('Cache-Control: no-cache, must-revalidate');

$foo = json_decode($_POST['DTO']);

$arr = array('a' => 1, 'b' => 2, 'c' => 3, 'd' => 4, 'e' => 5); //example data

echo json_encode($arr); 
```

这应该让你开始。在您的 ajax 响应中，`alert(data.a)`将警告“1”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T13:03:53.943

您应该使用 jQuery 序列化 ( [http://api.jquery.com/serialize/](http://api.jquery.com/serialize/) )

`<form>`在您的页面中创建一个包含`<input>`要传递给服务器的值的字段。

然后，您将使用 jQuery 调用您的服务器：

```
$.ajax({
  type: 'POST',
  url: url,
  data: yourForm.serialize(),
  success: success,
  dataType: dataType
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T13:05:38.613

查看 Jquery 表单。您可以将表格包装在一个表单元素中，然后它会使用 Ajax 将其序列化。[http://jquery.malsup.com/form/](http://jquery.malsup.com/form/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-04T13:07:40.650

也许你可以试试这个：

```
$.ajax({
  type: 'POST',
  url: yourscript.php,
  data: JSON.stringify(selectedData),
  success: function(..){

  },
  contentType: "application/json"
}); 
```

在您的 PHP 文件中，从标准输入读取 JSON 字符串，并用于`json_decode`解码 JSON。

```
$requestObject = json_decode(file_get_contents('php://input')); 
```

# ruby - 当主机文件重定向本地主机时，Watir-WebDriver 将不起作用

> ID：10881745
> 
> 赞同：0
> 
> 时间：2012-06-04T12:59:04.713
> 
> 标签：ruby, testing, watir, watir-webdriver

您好，我正在使用 Windows 7，我希望将 watir-webdriver 与 ruby​​ 1.9.2 一起使用。请告诉我为什么我得到这个：

```
C:\>irb

irb(main):001:0> require "watir-webdriver"

=> true

irb(main):002:0> browser = Watir::Browser.new :ff

Errno::EADDRNOTAVAIL: ??dany adres jest nieprawid?owy w tym kontek?cie. - bind(2
)
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/selenium-webdriver-2.22.0/lib/s
elenium/webdriver/firefox/socket_lock.rb:45:in `initialize'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/selenium-webdriver-2.22.0/lib/s
elenium/webdriver/firefox/socket_lock.rb:45:in `new'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/selenium-webdriver-2.22.0/lib/s
elenium/webdriver/firefox/socket_lock.rb:45:in `can_lock?'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/selenium-webdriver-2.22.0/lib/s
elenium/webdriver/firefox/socket_lock.rb:31:in `lock'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/selenium-webdriver-2.22.0/lib/s
elenium/webdriver/firefox/socket_lock.rb:17:in `locked'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/selenium-webdriver-2.22.0/lib/s
elenium/webdriver/firefox/launcher.rb:32:in `launch'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/selenium-webdriver-2.22.0/lib/s
elenium/webdriver/firefox/bridge.rb:19:in `initialize'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/selenium-webdriver-2.22.0/lib/s
elenium/webdriver/common/driver.rb:31:in `new'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/selenium-webdriver-2.22.0/lib/s
elenium/webdriver/common/driver.rb:31:in `for'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/selenium-webdriver-2.22.0/lib/s
elenium/webdriver.rb:65:in `for'
        from C:/Ruby193/lib/ruby/gems/1.9.1/gems/watir-webdriver-0.6.1/lib/watir
-webdriver/browser.rb:35:in `initialize'
        from (irb):2:in `new'
        from (irb):2
        from C:/Ruby193/bin/irb:12:in `<main>'
irb(main):003:0> 
```

非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T04:39:03.640

您很可能有一个将 localhost 重定向到其他内容的 hosts 条目。

删除该条目，事情应该可以正常工作。

# gnuplot - 如何在 GNUplot 中绘制特定行

> ID：10881747
> 
> 赞同：12
> 
> 时间：2012-06-04T12:59:11.057
> 
> 标签：gnuplot

我有一个包含 1000000 个条目的两列文件，即 1000000 行，但是我不想绘制所有数据，我只想每 100 行绘制一次点？如何在gnuplot中做到这一点？另外，是否可以指定一些特定的行在 gnuplot 中绘制？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-06-04T13:23:12.387

您在这里至少有两个选择。首先，查看文档`help datafile every`

```
plot 'datafile' every 100 using 1:2 
```

另一种选择是将伪列 0 ( `help datafile using pseudo`) 与三元运算符 ( `help ternary`) 结合使用，并且 gnuplot 会默默地忽略未定义的数字来过滤行：

```
plot 'datafile' u ( ((int($0)%100)==0)? $1 : 1/0 ):2 
```

如果你使用宏，你可以让它更容易理解：

```
set macro
line_number='int($0)'
plot 'datafile' u ( ( ( @line_number % 100 ) == 0 ) ? $1 : 1/0 ) : 2 
```

请注意，我只包括第二个，因为您可以（原则上）使用它从数据文件中选择非常奇怪的行号（例如 1,100,1000,10000），您不能使用每一个 - 例如

```
plot 'datafile' u ( ((@line_number == 1 || @line_number == 100 || @line_number == 1000 ) $1:1/0)):2 
```

[另请参阅此问题](https://stackoverflow.com/questions/9536582/gnuplot-plotting-data-from-a-file-up-to-some-row)的答案

# php - Zend - 更改部署的图像 URL 路径

> ID：10881750
> 
> 赞同：2
> 
> 时间：2012-06-04T12:59:15.457
> 
> 标签：php, zend-framework, amazon-s3, zend-config

标题可能会令人困惑，因为我不确定自己如何解释这一点。我确信它是一个非常简单的解决方案。

我正在将我所有的静态图像、css、js 移动到 S3 - 所以现在可以通过

例如：

```
http://files.xyz.com/images/logo.gif
http://files.xyz.com/images/submit_button.gif
http://files.xyz.com/style/style.css
http://files.xyz.com/js/jquery.js

```

files.xyz.com 是指向 files.xyz.com.s3.amazonaws.com 的 CNAME

现在在我的 Zend 布局和视图中 - 我正在使用完整的 URL egs 访问这些

`<img src="http://files.xyz.com/images/logo.gif"/>`

我担心的是当我在 localhost 上进行测试时 - 我不希望从 S3 中获取数据，而是从我的本地硬盘中获取数据

所以我想做这样的事情。在我的 application.ini - 我应该能够指定

```
resources.frontController.imageUrl = http://localhost

```

当我部署时 - 只需将其更改为

```
resources.frontController.imageUrl = http://files.xyz.com

```

```
并在视图中访问它
<img src="<?php echo $this->imageUrl;?>/images/logo.gif"/>

```

处理此问题的最佳方法是什么谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T14:06:04.863

创建视图助手

```
public function imageUrl()
    {
        $config = Zend_Registry::get('config');
        if($config->s3->enabled){
            return $config->s3->rootPath; 
        }else{
            return $this->view->baseUrl(); 
        }
    } 
```

在应用程序.ini

```
s3.enabled        = 1
s3.rootPath       = https://xxxxx.s3.amazonaws.com 
```

你可以这样打电话

```
<img src="<?php echo $this->imageUrl();?>/images/logo.gif"/> 
```

因此，您可以轻松启用/禁用 s3。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T15:20:40.740

假设您在文件中设置`APPLICATION_ENV`和使用特定于环境的部分`application/configs/application.ini`，那么您的想法和视图助手的想法似乎是要走的路。

在`application/configs/application.ini`：

```
[production]

cdn.baseUrl = "http://files.zyz.com"

[development]

cdn.baseUrl = "http://mylocalvirtualhost/assets/img" 
```

然后是一个视图助手：

```
class My_View_Helper_CdnBaseUrl extends Zend_View_Helper_Abstract
{
    protected static $defaultBase = '';

    protected $base;

    public function cdnBaseUrl($file = '')
    {
        return rtrim($this->getBase(), '/') . '/' . ltrim($file, '/');
    }

    public static function setDefaultBase($base)
    {
        self::$defaultBase = $base;
    }

    protected function getBase()
    {
        if (null === $this->base){
            $this->base = self::$defaultBase;
        }
        return $this->base;
    }
} 
```

在`application/Bootstrap.php`：

```
protected function _initCdn()
{
    $options = $this->getOptions();
    My_View_Helper_CdnBaseUrl::setDefaultBase($options['cdn']['baseUrl']);
} 
```

视图脚本中的 Thenm 用法如下：

```
<img src="<?= $this->cdnBaseUrl('root/relative/path/to/img.jpg') ?>" alt="Some image"> 
```

当然，您将需要添加`autloadernamespaces`和 view-helper 前缀路径以匹配您自己的命名空间等。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T13:17:34.543

试试[baseUrl 视图助手](http://framework.zend.com/manual/en/zend.view.helpers.html#zend.view.helpers.initial.baseurl)。在 application.ini 中指定 URL，如下所示：

```
[production]
resources.frontController.baseUrl = "http://files.xyz.com" 
```

那么在你看来：

```
<img src="<?php echo $this->baseUrl('images/someimage.jpg'); ?>"> 
```

# android - 带有 SQLite 数据的对话框列表

> ID：10881751
> 
> 赞同：0
> 
> 时间：2012-06-04T12:59:17.127
> 
> 标签：android, sqlite, list, dialog

我有一个代码，它显示了我的 SQLite 数据库中的项目列表。

通过单击按钮，此列表将在另一个屏幕中打开。但我有一些问题，所以我需要在同一个屏幕上显示这个列表，我无法打开另一个屏幕，所以我想使用一个对话框，其中包含我的数据库中的项目。我试图修改我的代码，但没有得到任何好的结果。

这是我的代码：

```
 public List<String> populateList() {

    List<String> uGraduateNamesList = new ArrayList<String>();

    AndroidOpenDbHelper openHelperClass = new AndroidOpenDbHelper(this);

    SQLiteDatabase sqliteDatabase = openHelperClass.getReadableDatabase();

    Cursor cursor = sqliteDatabase.query("RelPregRespPred", null, null,
            null, null, null, null);

    startManagingCursor(cursor);

    while (cursor.moveToNext()) {

        String descripcionrespuesta = cursor.getString(cursor
                .getColumnIndex(AndroidOpenDbHelper.rdescripcionrespuesta));

        UndergraduateDetailsPojo ugPojoClass = new UndergraduateDetailsPojo();

        ugPojoClass.setrDescripcionRespuesta(descripcionrespuesta);

        pojoArrayList.add(ugPojoClass);

        uGraduateNamesList.add(descripcionrespuesta);
    }

    sqliteDatabase.close();

    return uGraduateNamesList;
}

@Override
protected void onResume() {
    super.onResume();
    listaTodo.setAdapter(uGraduateListAdapter);
}

public void onItemClick(AdapterView<?> arg0, View arg1, int arg2, long arg3) {

    Intent seleccionRespuesta = new Intent(this,
            DescripcionPregResp.class);

    UndergraduateDetailsPojo clickedObject = pojoArrayList.get(arg2);

    startActivity(seleccionRespuesta);
} 
```

那么，我必须修改什么才能在对话框中显示数据库中的项目？

谢谢。

# c++ - Windows 启动时挂在 CreateService 上

> ID：10881757
> 
> 赞同：2
> 
> 时间：2012-06-04T12:59:32.543
> 
> 标签：c++, service

我将我的程序注册为 Windows 服务。当我重新启动 Windows 时，该服务将永远 START_PENDING。跟踪后，我发现它挂在 CreateService 函数上。

```
hService=CreateService( hSCManager,
                            pszDriverName,
                            pszDriverName,
                            SERVICE_ALL_ACCESS,
                            SERVICE_KERNEL_DRIVER,
                            SERVICE_DEMAND_START,
                            SERVICE_ERROR_NORMAL,
                            pszDriverPath,
                            NULL,
                            NULL,
                            NULL,
                            NULL,
                            NULL); 
```

我可以通过在重新启动之前创建服务来解决问题，但我想知道发生了什么挂起。有人有什么主意吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:37:54.220

如果我没记错的话，服务只能创建一次。您不必再次调用 CreateService 函数！而且我不建议在 Windows 启动过程中创建它。

正如您在以下 MSDN 示例中所见，您必须使用“安装”命令行参数启动给定的示例软件来创建服务。在任何其他情况下，该服务都被视为已安装。

注意示例中使用 StartServiceCtrlDispatcher 函数来启动服务主函数（在本例中为 SvcMain）。

[http://msdn.microsoft.com/en-us/library/windows/desktop/bb540476(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/bb540476(v=vs.85).aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T16:04:52.490

具有服务的应用程序通常具有注册和安装其服务的安装程序。当您安装应用程序时，所有服务都已创建并注册，并且在引导系统时无需再次安装它们。Windows 在启动服务时将此函数作为常规函数执行。

您上面提到的功能用于在应创建新服务时在安装程序中安装服务。

# c# - 在 Windows 手机中将数据从页面传递到页面？

> ID：10881763
> 
> 赞同：0
> 
> 时间：2012-06-04T12:59:45.900
> 
> 标签：c#, windows-phone-7, xaml

我想将数据从 page1 传递到 page2。我们可以通过 Windows Phone 中的代码来实现这一点...

有没有办法在 0% c# 代码和 100% xaml 代码中实现这一点.. 有人指导我吗？.. 这真的很有帮助......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:05:48.043

您可以通过使用超链接按钮来实现此目的

```
<HyperlinkButton NavigateUri="/Page2.xaml?data=somedata" Content="click" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T17:02:36.540

如果您将状态保存在设备本身（在数据库或序列化文件中），则可以执行此操作。然后你只需将它保存在页面更改并在页面打开时打开它。

# javascript - 正则表达式西班牙语和阿拉伯语单词

> ID：10881765
> 
> 赞同：3
> 
> 时间：2012-06-04T12:59:47.040
> 
> 标签：javascript, regex, unicode

如何编写匹配所有有效西班牙语和阿拉伯语单词的正则表达式。
我知道在英语中是`a-zA-z`，在希伯来语中是`א-ת`，在俄语中是`А-Яа-яёЁ`。
我使用 Javascript。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-04T14:46:26.613

The range `a-zA-Z` for English words is unacceptably simple and naïve. It leaves out all manner of letters with accents and other special marks that are used in loan words, etc. For instance, it won't match the word "naïve", from my first sentence. Use the `\p{Latin}` script, instead.

The range `א-ת` for Hebrew words is also wrong. It leaves out Hebrew presentation forms, cantillation marks, Yiddish digraphs, and more. Use the `\p{Hebrew}` script, instead.

The range `А-Яа-яёЁ` for Russian is again incomplete and wrong. Use the `\p{Cyrillic}` script, instead.

The Spanish alphabet uses the same 26 letters as English, plus ñÑ. But again, don't hardcode these into a range. Many Spanish words use accented vowels. Use the `\p{Latin}` script to match Spanish words. Regexes won't help you distinguish Spanish from English.

For Arabic, use the `\p{Arabic}` script.

## JavaScript, regex, and Unicode

You said you're using JavaScript. Unfortunately, JavaScript has very little support for Unicode built-in. In JavaScript, you need to use the [XRegExp library](http://xregexp.com/) and its [Unicode addon](http://xregexp.com/plugins/). That will allow you to use all of the Unicode scripts I mentioned above in your regular expressions.

## Scripts vs blocks

Always favor Unicode scripts over Unicode blocks. Blocks match up poorly with the code points in a particular script. Blocks very often leave out many important code points that fall outside of their incomplete range, and include many code points that have not been assigned any character. Scripts include all relevant code points, and no more.

# wix - 使用 wix 为 jre 创建一个 msi，即在我的包中安装 jre 文件？

> ID：10881767
> 
> 赞同：0
> 
> 时间：2012-06-04T12:59:54.113
> 
> 标签：wix, windows-installer, installscript-msi

我有 mypackage.msi 使用的 jre 文件。我想创建 jre.msi，它是 mypackage.msi 调用的另一个 msi。mypackage.msi 是使用 wix 文件创建的。所以请在这方面帮助我......我需要上面提到的 wix 脚本......我的包也使用安装脚本，但文件是由 wix 调用的......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T20:07:49.757

您将无法从 mypackage.msi 中调用 jre.msi，因为您一次只能运行一个 msi 事务。要么将 jre 文件放在 mypackage.msi 中，要么创建一个烧录引导程序以将 msi 链接在一起。检查安装 wix 时包含的 wix chm。

# dns - JBOSS 7 使用 Java Service Wrapper 将域作为服务启动

> ID：10881770
> 
> 赞同：0
> 
> 时间：2012-06-04T13:00:05.463
> 
> 标签：dns, installation, jboss7.x

有没有人设法使用 Java Service Wrapper 将 JBOSS 7 域设置作为服务运行？非常感谢您对我们的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T06:47:58.813

是的，请试试这个：

```
#encoding=UTF-8

set.JBOSS_HOME=E:\jboss-as-7.1.0.Final       (<---insert your JBOSS-HOME path here, if it's not already globally defined)
set.JAVA_HOME=C:\Program Files\Java\jdk1.6.0_26 (<---insert your JAVA-HOME path here,  if it's not already globally defined)

#  Specify a specific java binary:
wrapper.java.command=%JAVA_HOME%/bin/java

wrapper.java.mainclass=org.tanukisoftware.wrapper.WrapperSimpleApp

#classpath (all classes will be dynamically loaded, so except the Wrapper's library and JBoss' initialization class no other libraries needed. 
wrapper.java.classpath.1=%JBOSS_HOME%/jboss-modules.jar
wrapper.java.classpath.2=%JBOSS_HOME%/lib/wrapper.jar

# Java Library Path (location of Wrapper.DLL or libwrapper.so)
wrapper.java.library.path.1=%JBOSS_HOME%/lib

# Java Bits.  On applicable platforms, tells the JVM to run in 32 or 64-bit mode.
wrapper.java.additional.auto_bits=TRUE

# Java Additional Parameters
wrapper.java.additional.1=-XX:+TieredCompilation
wrapper.java.additional.2=-Dorg.jboss.resolver.warning=true
wrapper.java.additional.3=-Dsun.rmi.dgc.client.gcInterval=3600000
wrapper.java.additional.4=-Dsun.rmi.dgc.server.gcInterval=3600000
wrapper.java.additional.5=-Djboss.modules.system.pkgs=org.jboss.byteman
wrapper.java.additional.6=-Dorg.tanukisoftware.wrapper.WrapperManager.mbean=false
wrapper.java.additional.7=-Dlogging.configuration=file:"%JBOSS_HOME%/domain/configuration/logging.properties"
wrapper.java.additional.7.stripquotes=TRUE
wrapper.java.additional.8=-XX:MaxPermSize=256M
wrapper.java.additional.9=-Djava.net.preferIPv4Stack=true
wrapper.java.additional.10=-Djboss.domain.default.config=domain.xml
wrapper.java.additional.11=-Djboss.host.default.config=host.xml
wrapper.java.additional.12=-server
wrapper.java.additional.13=-Dorg.jboss.boot.log.file="%JBOSS_HOME%/domain/log/process-controller.log"
wrapper.java.additional.13.stripquotes=TRUE

# Initial Java Heap Size (in MB)
wrapper.java.initmemory=64

# Maximum Java Heap Size (in MB)
wrapper.java.maxmemory=512

# Application parameters.  Add parameters as needed starting from 1
wrapper.app.parameter.1=org.jboss.modules.Main
wrapper.app.parameter.2=-mp
wrapper.app.parameter.3="%JBOSS_HOME%/modules"
wrapper.app.parameter.3.stripquotes=TRUE
wrapper.app.parameter.4=org.jboss.as.process-controller
wrapper.app.parameter.5=-jboss-home
wrapper.app.parameter.6="%JBOSS_HOME%"
wrapper.app.parameter.3.stripquotes=TRUE
wrapper.app.parameter.7=-jvm
wrapper.app.parameter.8="%JAVA_HOME%/bin/java"
wrapper.app.parameter.8.stripquotes=TRUE
wrapper.app.parameter.9=--
wrapper.app.parameter.10=-Dorg.jboss.boot.log.file="%JBOSS_HOME%/domain/log/host-controller.log"
wrapper.app.parameter.10.stripquotes=TRUE
wrapper.app.parameter.11=-Dlogging.configuration=file:"%JBOSS_HOME%/domain/configuration/logging.properties"
wrapper.app.parameter.11.stripquotes=TRUE
wrapper.app.parameter.12=-Xms64M
wrapper.app.parameter.13=-Xmx512M
wrapper.app.parameter.14=-XX:MaxPermSize=256M
wrapper.app.parameter.15=-Dsun.rmi.dgc.client.gcInterval=3600000
wrapper.app.parameter.16=-Dsun.rmi.dgc.server.gcInterval=3600000
wrapper.app.parameter.17=-Djava.net.preferIPv4Stack=true
wrapper.app.parameter.18=-Dorg.jboss.resolver.warning=true
wrapper.app.parameter.19=-Djboss.modules.system.pkgs=org.jboss.byteman
wrapper.app.parameter.20=-Djboss.domain.default.config=domain.xml
wrapper.app.parameter.21=-Djboss.host.default.config=host.xml
wrapper.app.parameter.22=-server
wrapper.app.parameter.23=--
wrapper.app.parameter.24=-default-jvm
wrapper.app.parameter.25="%JAVA_HOME%/bin/java"
wrapper.app.parameter.25.stripquotes=TRUE

#********************************************************************
# Wrapper Logging Properties
#********************************************************************
# Format of output for the console.  (See docs for formats)
wrapper.console.format=PM

# Log Level for console output.  (See docs for log levels)
wrapper.console.loglevel=INFO

# Log file to use for wrapper output logging.
wrapper.logfile=../logs/wrapper.log

# Format of output for the log file.  (See docs for formats)
wrapper.logfile.format=LPTM

# Log Level for log file output.  (See docs for log levels)
wrapper.logfile.loglevel=INFO

#********************************************************************
# Wrapper General Properties
#********************************************************************
# Allow for the use of non-contiguous numbered properties
wrapper.ignore_sequence_gaps=TRUE

# Do not start if the pid file already exists.
wrapper.pidfile.strict=TRUE

# Title to use when running as a console
wrapper.console.title=Test Wrapper Sample Application

#********************************************************************
# Wrapper Windows NT/2000/XP Service Properties
#********************************************************************
# WARNING - Do not modify any of these properties when an application
#  using this configuration file has been installed as a service.
#  Please uninstall the service before modifying this section.  The
#  service can then be reinstalled.

# Name of the service
wrapper.name=jboss7domain

# Display name of the service
wrapper.displayname=JBoss AS 7.1.0 Domain

# Description of the service
wrapper.description=JBoss AS 7.1.0 Domain

# Service dependencies.  Add dependencies as needed starting from 1
wrapper.ntservice.dependency.1=

# Mode in which the service is installed.  AUTO_START, DELAY_START or DEMAND_START
wrapper.ntservice.starttype=AUTO_START

# Allow the service to interact with the desktop.
wrapper.ntservice.interactive=false 
```

请让我知道这对您来说是如何工作的，如果您在使用 Java Service Wrapper 时有任何其他问题，请告诉我。

干杯，

# php - Codeigniter MY_Model 类

> ID：10881776
> 
> 赞同：4
> 
> 时间：2012-06-04T13:00:18.857
> 
> 标签：php, oop, codeigniter, model

我正在尝试编写自己的 MY_Model 基类，但遇到了一个奇怪的问题：

**/core/MY_Model.php**

```
 function __construct() {
        if ( !empty($this->table)) {
            // query db, etc.
        }
        else {
            // even though that I set $this->table value 
            // in the child class, I always ended up here
            // it's always empty!!!!
            log_message('error', 'some error message');
        }
        // ...
    }
} 
```

**/models/test_model.php**

```
 function __construct() {
        parent::__construct();
    }

    // ...

} 
```

即使我在子类中设置了 $this->table 值，我总是在 MY_Model 类中发现 $table 值是空的，它总是空的！！！！请问有什么提示吗？！

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-04T16:18:41.800

除非你需要特定/特殊的东西——你应该只使用 Jamie Rumbelows “MY_Model”——它可能比你（或我）写的任何东西都要好——并让你专注于编写其他代码。无需重新发明轮子。

你可以在[这里从 GitHub获取代码](https://github.com/jamierumbelow/codeigniter-base-model)

[这是一个很棒的教程](http://www.codebyjeff.com/blog/2012/01/using-jamie-rumbelows-my_model)，向您展示如何在您的应用程序中使用 MY_Model。

老实说 - 试一试 - 你不会后悔的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-09T16:28:23.583

在您的模型构造函数中，执行以下操作：

```
class Test_model extends MY_Model{
   public function __construct()
   {
       parent::__construct();
       $this->table = 'test_model';
    }
    //...
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-26T07:33:35.027

您不应该尝试覆盖子类中的 $table 变量。你正在做的是：

*   CI_MODEL 包含：
    *   受保护的 $table，属于自己的范围。
*   MY_Model 包含：
    *   受保护的 $table，属于自己的范围。这会覆盖继承的变量 $table。

当您在子类中覆盖它时，它不会冒泡到父类，因为 $table 将仅成为子类的一部分。

您需要做的是删除子中 $table 变量的声明：

```
/models/test_model.php
<?php
class Test_model extends MY_Model {
    function __construct() {
        parent::__construct();
        $this->table = 'test_models';
    }

    // ...

} 
```

# ms-access - 查询中的日期参数

> ID：10881781
> 
> 赞同：2
> 
> 时间：2012-06-04T13:00:47.177
> 
> 标签：ms-access

我有一个输入数据的表格。排序顺序、开始日期和结束日期。

输入数据后，将生成报告。但我得到了错误。

错误：“Microsoft Access 数据库引擎无法将 '[Forms]![AuditPTETotals]![startDate]' 识别为有效的字段名称或表达式。

这是我的交叉表 (AuditPTETotals_CrosstabDateRange) 查询，它使用另一个查询 (AuditPTETotalsDateRange) 检索到的数据

```
TRANSFORM Sum(AuditPTETotalsDateRange.PTEtotal) AS SumOfPTEtotal
SELECT AuditPTETotalsDateRange.companyName, AuditPTETotalsDateRange.regNum,    Sum(AuditPTETotalsDateRange.PTEtotal) AS [Total Of PTEtotal]
FROM AuditPTETotalsDateRange
GROUP BY AuditPTETotalsDateRange.companyName, AuditPTETotalsDateRange.regNum
PIVOT AuditPTETotalsDateRange.description; 
```

这是 AuditPTETotalsDateRange

```
 SELECT CUSTOMER.regNum, CUSTOMER.companyName, ScrapTireType.description, ScrapTireType.PTEamount, ScrapCollectionTireType.amount, ScrapCollection.PTEtotal, ScrapCollection.Date
FROM (ScrapCollection INNER JOIN CUSTOMER ON ScrapCollection.regNum = CUSTOMER.regNum) INNER JOIN (ScrapTireType INNER JOIN ScrapCollectionTireType ON (ScrapTireType.scrapTireTypeID = ScrapCollectionTireType.scrapTireTypeID) AND (ScrapTireType.scrapTireTypeID = ScrapCollectionTireType.scrapTireTypeID)) ON ScrapCollection.scrapCollectionID = ScrapCollectionTireType.scrapCollectionID
WHERE (((ScrapCollection.Date) Between [Forms]![AuditPTETotals]![startDate] And [Forms]![AuditPTETotals]![endDate])); 
```

我以类似的方式使用这种方法来引用查询中的表单字段，但是这一次，我不确定我做错了什么。请帮忙。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-07T00:12:15.193

我找到了解决办法！我在控件上使用了日期/时间格式。我认为它弄乱了我的参数的实际格式。相反，我使用了一个常规文本框并为其设置了一个输入掩码。有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T13:29:45.520

在您正在使用的表单上创建一个按钮，并将以下内容添加到其 Click 事件中。确保将**MyReportName**更改为实际的报告名称。 **MyReportName**在下面的代码中出现了两次。

```
On Error Resume Next
DoCmd.Close acReport, "MyReportName"
DoCmd.DeleteObject acQuery, "AuditPTETotalsDateRange"
On Error GoTo Err_cmd_Click

Dim strSQL, strSQL1 As String
Dim qdef As DAO.QueryDef

strSQL = "SELECT CUSTOMER.regNum, CUSTOMER.companyName, ScrapTireType.description, ScrapTireType.PTEamount, ScrapCollectionTireType.amount, ScrapCollection.PTEtotal, ScrapCollection.Date " & _
         "FROM (ScrapCollection INNER JOIN CUSTOMER ON ScrapCollection.regNum = CUSTOMER.regNum) INNER JOIN (ScrapTireType INNER JOIN ScrapCollectionTireType ON (ScrapTireType.scrapTireTypeID = ScrapCollectionTireType.scrapTireTypeID) AND (ScrapTireType.scrapTireTypeID = ScrapCollectionTireType.scrapTireTypeID)) ON ScrapCollection.scrapCollectionID = ScrapCollectionTireType.scrapCollectionID " & _
         "WHERE (((ScrapCollection.Date) Between #" & [Forms]![AuditPTETotals]![startDate] & "# And #" & [Forms]![AuditPTETotals]![endDate] & "#))"

strSQL1 = "TRANSFORM Sum(AuditPTETotalsDateRange.PTEtotal) AS SumOfPTEtotal " & _
          "SELECT AuditPTETotalsDateRange.companyName, AuditPTETotalsDateRange.regNum, Sum(AuditPTETotalsDateRange.PTEtotal) AS [Total Of PTEtotal] " & _
          "FROM AuditPTETotalsDateRange " & _
          "GROUP BY AuditPTETotalsDateRange.companyName, AuditPTETotalsDateRange.regNum " & _
          "PIVOT AuditPTETotalsDateRange.description"

Set qdef = CurrentDb.CreateQueryDef("AuditPTETotalsDateRange", strSQL)
Set qdef = CurrentDb.CreateQueryDef("AuditPTETotals_CrosstabDateRange", strSQL1)
DoCmd.OpenReport "MyReportName", acViewPreview

Exit_cmd_Click:
    Exit Sub
Err_cmd_Click:
    MsgBox Err.Description
    Resume Exit_cmd_Click 
```

然后在关闭事件的表单上添加以下内容：

```
On Error Resume Next
DoCmd.DeleteObject acQuery, "AuditPTETotalsDateRange" 
```

然后发生的情况是，如果单击该按钮，AuditPTETTotalsDateRange 将被删除然后重新创建。此外，如果您关闭表单，则会删除 AuditPTETotalsDateRange 查询。这没关系，因为只有在表单打开时才需要查询。将报告的记录源设置为 AuditPTETotals_CrosstabDateRange。

您必须参考**Microsoft DAO xx 对象库**集才能使上述代码正常工作。您可能已经拥有参考集。xx 代表版本。任何版本都应该工作。

**编辑**

您可能希望在进行所有这些更改之前复制原始报告，以防它不适合您。尝试从报表上的字段中删除数据源，使其不受约束。然后将以下代码添加到打开事件的报告中：

```
Dim rs As DAO.Recordset
Set rs = CurrentDb.OpenRecordset("AuditPTETotals_CrosstabDateRange", dbOpenDynaset)

On Error Resume Next
[txtdata1].ControlSource = rs.Fields(4).Name
[txtData2].ControlSource = rs.Fields(5).Name
[txtData3].ControlSource = rs.Fields(6).Name
//And etc for as many fields as you have on report 
```

您还可以以类似的方式在页眉上分配列标题。他们需要从标签更改为未绑定的文本框才能正常工作。将以下代码添加到页眉 On Format 事件中：

```
Dim rs As DAO.Recordset
Set rs = CurrentDb.OpenRecordset("AuditPTETotals_CrosstabDateRange", dbOpenDynaset)

On Error Resume Next
[txtColHeading1].value = rs.Fields(4).Name
[txtColHeading2].value = rs.Fields(5).Name
[txtColHeading3].value = rs.Fields(6).Name
//And etc for as many fields as you have on report 
```

这将允许您在不知道您将拥有哪些列的情况下运行您的报告。确保您命名控件以匹配代码中此处的名称，反之亦然。

# c# - 如何在 iTextSharp 中使用 PdfWriter 而不是 PdfCopy 复制表单字段

> ID：10881782
> 
> 赞同：3
> 
> 时间：2012-06-04T13:00:47.297
> 
> 标签：c#, .net, pdf, itextsharp, itext

我想合并两个 PDF 文件（仅限选定的页面）并向它们添加自定义页眉和页脚。

因此，我不使用`PdfCopy`它只是简单地复制页面而不更改它。我使用`PdfWriter`.

问题是我不知道如何复制 AcroFields、Acroforms、注释和除`PdfWriter`.

你知道怎么做吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T22:58:37.273

你想使用类的`GetImportedPage`方法`PdfWriter`。这会将所有内容复制到`PdfImportedPage`您可以使用的文件中。

```
PdfReader pdfReader = new PdfReader(originalFile);
PdfImportedPage importedPage = pdfWriter.GetImportedPage(pdfReader, pageNumber); 
```

例如，您可以将前面的代码放在`OnOpenDocument`a 的事件中`PdfPageEventHelper`，然后在`OnEndPage`事件中您可以使用 的`DirectContentUnder`对象`PdfWriter`将整个页面放在当前页面的下方。

```
pdfWriter.DirectContentUnder.AddTemplate(importedPage, 0, 0); 
```

# asp.net-mvc - 在 MVC 控制器中获取新插入的 ID 到 jQuery

> ID：10881784
> 
> 赞同：1
> 
> 时间：2012-06-04T13:00:57.000
> 
> 标签：asp.net-mvc, jquery, asp.net-ajax, partial-views

我通常在控制器内更新实体，如下所示：-

```
[HttpPost]
public ActionResult Create(Project project)
{
  //var model = new CompositeImageModel(0);
  if (ModelState.IsValid)
  {
    //var model = new CompositeImageModel(project.ProjectID);
    db.Projects.Add(project);
    db.SaveChanges();
    ViewBag.ProjectID = project.ProjectID;

    return RedirectToAction("Index");
  }

  return View();
} 
```

我希望在我的 Jquery AJAX 代码中获取这个新的 ID“ViewBag.ProjectID”：-

```
onSaveBegin: function () {
  //CODE FOR SAVE BEGIN    
  $('#imageList').fadeIn('slow');
  $("#imageList").click(function () { $("#imageList").load("/File/ImageUpload/222"); }); 

}, 
```

而不是硬编码的“222”。

我怎么才能得到它？

感谢您的帮助和时间

****** *** ** *** *******更新****** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ***** 所以我更新了我的 Jquery 如下：-**

 **```
<script type="text/javascript">
$(document).ready(function () {

    var imageList = $('#imageList'),
        submitButt = $('#submitButt');

    //hide the imageList initially
    imageList.hide(); //hide all but the first paragraph

    });

    var Project = {
        save: function () {
            var projectForm = $("#projectForm");
            if (projectForm.valid()) {
                projectForm.submit();
            }
            else {
                Project.onInvalidForm();
            }
        },
        onInvalidForm: function () {
            //CODE FOR INVALID FORM 
        },
        onSaveBegin: function () {
            //CODE FOR SAVE BEGIN    
            $('#imageList').fadeIn('slow');
        },
        onSaveSuccess: function () {
            //CODE FOR SAVE SUCCESS    
        },
        onSaveFailure: function () {
            //CODE FOR SAVE FAILURE    
            alert(ViewBag.ProjectID);
        },
        onSaveComplete: function () {
            //CODE FOR SAVE COMPLETE    
            //var hfProjectId = $("#hfProjectId").val();
            //$("#imageList").click(function () { $("#imageList").load("/File/ImageUpload/" + hfProjectId); });
            $("#imageList").click(function () { $("#imageList").load("/File/ImageUpload/"+@(ViewBag.ProjectID) ); }); 
        }
    }; 
```

我已将代码移至 onSaveComplete，因为那时我应该拥有 ProjectID，但仍然无法获得它。但是，这两个选项都不起作用。

****** *** ** *** *******更新 2******* *** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ** *********

 ****```
@model MvcCommons.Models.Project

@{
ViewBag.Title = "Create"; 
```

}

```
<h2>Create</h2>

@{    
Layout = "~/Views/Shared/_Layout.cshtml";    
Html.EnableClientValidation();    
Html.EnableUnobtrusiveJavaScript(); 
```

}

```
<script type="text/javascript" src="@Url.Content("~/Scripts/jquery.validate.min.js")"></script> 
```

```
<script type="text/javascript">
        $(document).ready(function () {

    var imageList = $('#imageList'),
        submitButt = $('#submitButt');

        //hide the imageList initially
    imageList.hide(); //hide all but the first paragraph

    });

    var Project = {
        save: function () {
            var projectForm = $("#projectForm");
            if (projectForm.valid()) {
                projectForm.submit();
            }
            else {
                Project.onInvalidForm();
            }
        },
        onInvalidForm: function () {
            //CODE FOR INVALID FORM 
        },
        onSaveBegin: function () {
            //CODE FOR SAVE BEGIN    
            $('#imageList').fadeIn('slow');
        },
        onSaveSuccess: function () {
            //CODE FOR SAVE SUCCESS    
        },
        onSaveFailure: function () {
            //CODE FOR SAVE FAILURE    
            alert(ViewBag.ProjectID);
        },
        onSaveComplete: function () {
            //CODE FOR SAVE COMPLETE    
            //var hfProjectId = $("#hfProjectId").val();
            //$("#imageList").click(function () { $("#imageList").load("/File/ImageUpload/" + hfProjectId); });

            $("#imageList").click(function () { $("#imageList").load("/File/ImageUpload/"+@(ViewBag.ProjectID) ); }); 
        }
    }; 
```

@{ var projectID = int.Parse(ViewBag.ProjectID);
}

@using (Ajax.BeginForm(
"/Create",
new { },
new AjaxOptions
{
InsertionMode = InsertionMode.Replace,
UpdateTargetId = "projectFormContainer",
OnComplete = "Project.onSaveComplete",
OnFailure = "Project.onSaveFailure", OnSuccess = " Project.onSaveSuccess", OnBegin = "Project.onSaveBegin"
},
new { id = "projectForm", name = "projectForm" }))
{

```
 @Html.Hidden("hfProjectId", ViewBag.ProjectID)

        <div class="editor-label">          
            @Html.LabelFor(m => m.ProjectTitle)       
         </div>       
         <div class="editor-field">          
            @Html.TextBoxFor(m => m.ProjectTitle)          
            @Html.ValidationMessageFor(m => m.ProjectTitle)       
         </div>       
         <div class="editor-label">          
            @Html.LabelFor(m => m.ProjectText)       
         </div>       
         <div class="editor-field">          
            @Html.TextBoxFor(m => m.ProjectText)          
            @Html.ValidationMessageFor(m => m.ProjectText)       
         </div>       
         <p>       
            <input type="submit" value="Submit" onclick="Project.save();" />       
         </p>    
      </div>    
}

<div id='imageList'>
    <h2>Upload Image(s)</h2>
    @{ 
        Html.RenderPartial("~/Views/File/ImageUpload.cshtml", new MvcCommons.ViewModels.ImageModel((int)ViewBag.ProjectID));
     }
</div> 
```

@Html.ActionLink("返回列表", "索引")

使用最新更改更新代码

****** *** ** *** ** *** *****更新****** ** *** ** *** ** *** ** *** ** *** ** *** ** *** *******

 **模式更新：- 现在将 @Html.Hidden 更改为：-

```
 @if(Model != null)
        {
             @Html.Hidden("hfProjectId", Model.ProjectID)
        } 
```

Javascript 还是一样的 :=

```
 onSaveComplete: function () {
            //CODE FOR SAVE COMPLETE    
            var hfProjectId = $("#hfProjectId").val();
            alert(hfProjectId);
            $("#imageList").click(function () { $("#imageList").load("/File/ImageUpload/" + hfProjectId); });
            //$("#imageList").click(function () { $("#imageList").load("/File/ImageUpload/"+@(ViewBag.ProjectID) ); }); 
        } 
```

更改 var projectID

```
@{
if (Model != null)  
{
    var projectID = Model.ProjectID;
} 
```

}

在控制器中，返回一个带有模型的“视图”

```
 [HttpPost]
    public ActionResult Create(Project project)
    {
        if (ModelState.IsValid)
        {
            db.Projects.Add(project);
            db.SaveChanges();
            ViewBag.ProjectID = project.ProjectID;
            //return RedirectToAction("Index");
            return View("Create", project);
        }

        return View();
    } 
```

不过还是没有运气！

****** *** ** *** ** *** ***最终更新***** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ***** 我决定创建一个项目视图模型和尝试通过它传递变量，因为 ViewBag 在我的情况下不起作用。所以我将控制器中的 HttpPost Create 函数更改为如下所示：-**

 **```
 [HttpPost]
    public ActionResult Create(Project project)
    {
        ProjectModel viewModel = new ProjectModel();

        if (ModelState.IsValid)
        {
            db.Projects.Add(project);
            db.SaveChanges();
            viewModel.Project = project;
            return View("Index", viewModel);
        }

        return View();
    } 
```

但是这仍然没有刷新 ProjectID，所以我决定暂时放弃它并尝试提出更好的设计。但是，如果您看到我做错了，请对此发表评论。

这是我的最终创建视图：-

```
@model MvcCommons.ViewModels.ProjectModel
@{
var projectID = Model.Project.ProjectID; 
```

}

@{ ViewBag.Title = "创建"; }

## 创造

```
@{    
Layout = "~/Views/Shared/_Layout.cshtml";    
Html.EnableClientValidation();    
Html.EnableUnobtrusiveJavaScript(); 
```

}

`

` $(document).ready(function () {

```
 var imageList = $('#imageList'),
        submitButt = $('#submitButt');

    //hide the imageList initially
    imageList.hide(); //hide all but the first paragraph

    });

    var Project = {
        save: function () {
            var projectForm = $("#projectForm");
            if (projectForm.valid()) {
                projectForm.submit();
            }
            else {
                Project.onInvalidForm();
            }
        },
        onInvalidForm: function () {
            //CODE FOR INVALID FORM 
        },
        onSaveBegin: function () {
            //CODE FOR SAVE BEGIN    
            alert('onSaveBegin ' + @(projectID));
            $('#imageList').fadeIn('slow');
        },
        onSaveSuccess: function () {
            //CODE FOR SAVE SUCCESS    
            //alert('onSaveSuccess')
        },
        onSaveFailure: function () {
            //CODE FOR SAVE FAILURE    
            //alert('onSaveFailure ' + @(projectID));
        },
        onSaveComplete: function () {
            //CODE FOR SAVE COMPLETE    
            //alert('onSaveComplete ' + @(projectID))
            //$("#imageList").click(function () { $("#imageList").load("/File/ImageUpload/"+@(projectID)); });
            $("#imageList").click(function () { $("#imageList").load("/File/ImageUpload/" + hfProjectId); });
        }
    }; 
```

```
@using (Ajax.BeginForm(    
"/Create",    
new { },    
new AjaxOptions    
{       
    InsertionMode = InsertionMode.Replace,       
    UpdateTargetId = "projectFormContainer",       
    OnComplete = "Project.onSaveComplete",       
    OnFailure = "Project.onSaveFailure",
    OnSuccess = "Project.onSaveSuccess",
    OnBegin = "Project.onSaveBegin"    
},    
new { id = "projectForm", name = "projectForm" }))    
{    
    <div>       

        @*@Html.Hidden("hfProjectId", projectID)*@ 
        @Html.Hidden("hfProjectId", Model.Project.ProjectID) 

        <div class="editor-label">          
            @Html.LabelFor(m => m.Project.ProjectTitle)       
         </div>       
         <div class="editor-field">          
            @Html.TextBoxFor(m => m.Project.ProjectTitle)          
            @Html.ValidationMessageFor(m => m.Project.ProjectTitle)       
         </div>       
         <div class="editor-label">          
            @Html.LabelFor(m => m.Project.ProjectText)       
         </div>       
         <div class="editor-field">          
            @Html.TextBoxFor(m => m.Project.ProjectText)          
            @Html.ValidationMessageFor(m => m.Project.ProjectText)       
         </div>       
         <p> 
```

@* *@

}

```
<div id='imageList'>
    <h2>Upload Image(s)</h2>
    @{ 
        //Html.RenderPartial("~/Views/File/ImageUpload.cshtml", new MvcCommons.ViewModels.ImageModel((int)ViewBag.ProjectID));
        Html.RenderPartial("~/Views/File/ImageUpload.cshtml", new MvcCommons.ViewModels.ImageModel(projectID));
     }
</div> 
```

@Html.ActionLink("返回列表", "索引")

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:02:50.197

**简单的方法**（不太确定）

```
$("#imageList").click(function () { $("#imageList").load("/File/ImageUpload/"+@(ViewBag.ProjectID) ); }); 
```

**正常方式**

1-在您的视图中放置一个 HiddenField

2-从中获取值`ViewBag.ProjectID` 并将其分配给此隐藏字段

3- 用 jQuery 阅读它，然后在任何你想要的地方使用它。

应立即将示例添加到此答案中。

**例子：**

**更新**

```
//  Get the projectID value
    var projectID = int.parse(ViewBag.ProjectID);

// add a hiddenfield and set it's value to the projectID
@Html.Hidden("hfProjectId", projectID)

// inside your jQuery code, get the hiddenField value
var hfProjectId = $("#hfProjectId").val();

// use this value inside your code
$("#imageList").click(function () { $("#imageList").load("/File/ImageUpload/"+hfProjectId ); }); 
```**********

# haskell - 也许单子用法示例

> ID：10881785
> 
> 赞同：4
> 
> 时间：2012-06-04T13:01:00.203
> 
> 标签：haskell, monads

我正在尝试学习 Haskell，但我在使用 monad 时遇到了问题。

我导入了模块`Data.Maybe`。

但我不知道如何使用`>>=`运算符。

鉴于`(>>=) :: Monad m => m a -> (a -> m b) -> m b`我无法理解如何定义函数`(a -> m b)`。

有人可以提供一些教学示例吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-04T13:29:24.970

Maybe monad 的一个相当常见的例子是除法。在某些方面，Maybe monad 表示一个计算要么给出结果 ( `Just`)，要么失败 ( `Nothing`)，除法就是这样：除非你除以 0，否则它是有效的，在这种情况下它是失败的。

代码总是有用的：

```
divide :: (Fractional a) => a -> a -> Maybe a
divide a 0 = Nothing
divide a b = Just $ a / b 
```

使用此功能的一些示例：

```
> divide 1 2
Just 0.5
> divide 20 3
Just 6.666666666666667
> divide 1 0 -- Oops
Nothing 
```

因为 Maybe 是一个 monad，我们可以使用这个`divide`函数进行计算并自动传播任何错误。例如以下`1/x + 1`安全计算

```
recipPlusOne :: (Fractional a) => a -> Maybe a
recipPlusOne x = divide 1 x >>= return . (+1)

-- equivalently,
recipPlusOne' x = fmap (+1) $ divide 1 x 
```

（注意`return . (+1)`函数是怎样的`a -> m b`，因为它接受一个数字，加一个 ( `(+1)`)，然后将它包装在 Maybe monad ( `return`) 中。）

错误通过传播，

```
> recipPlusOne 1
Just 2.0
> recipPlusOne 0.1
Just 11.0
> recipPlusOne 0 -- Oops, divide by 0
Nothing 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-04T13:06:00.447

对于`Maybe`monad 绑定函数 ( `>>=`) 看起来像这样：

```
(>>=) :: Maybe a -> (a -> Maybe b) -> Maybe b 
```

所以，让我们定义一些`Maybe a`值：

```
> let a = Just 1
a :: Maybe Integer 
```

和`:: a -> Maybe b`功能：

```
> let f = \x -> Just (x+1)
f :: Integer -> Maybe Integer 
```

现在我们可以使用类似中缀运算符的绑定：

```
> a >>= f
Just 2
it :: Maybe Integer 
```

* * *

真正功能的另一个例子`a -> Maybe b`可能是：

```
let h :: Integer -> Maybe String; h = return . show . (+1)
h :: Integer -> Maybe String 
```

所以`h`递增整数，将其转换为字符串并`Maybe`使用函数生成一个值`return`。

```
> a >>= h
Just "2" 
```

# java - 如何在 App Engine 生产环境中调试执行暂停？

> ID：10881786
> 
> 赞同：4
> 
> 时间：2012-06-04T13:01:00.783
> 
> 标签：java, google-app-engine, appstats

在查看我的 Google App Engine/Java 应用程序的 Appstats 图表时，我有时会看到 RPC 之间似乎无法解释的时间间隔。在随附的屏幕截图中，从 for 循环对 MemcacheService.get 的两次调用之间有将近 2 秒的间隔。当我在本地运行代码时，不会出现此行为。当我的代码在 App Engine 云中运行时，如何调查此类异常的原因？

显然SO不会让我发布图片，所以这里有一个图表链接：http: [//i.imgur.com/bbCXr.jpg](http://i.imgur.com/bbCXr.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-07T04:49:33.600

虽然 2 秒是一个异常长的时间，但像这样无法解释的间隔通常归结为以下两个原因之一：应用程序代码或调度。

由于听起来您在这两个调用之间不太可能进行 2 秒的处理工作，因此最可能的答案是调度：您的应用程序用完了它的时间片，并且操作系统安排其他任务运行一段时间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T16:25:27.547

记住 App Engine 是共享主机。虽然它似乎不是超卖的共享 VPS 托管，但您仍然在运行其他站点的机器上。如果其他站点代码占用了某些资源，则可能会影响您的应用程序性能。我也不完全了解 App Engine 对哪些资源敏感，像 @Nick-Johnson 这样的人会更能告诉你这些。App Engine 的工作方式确实可以防止大多数常见问题。当我查看该图时，它在我看来就像另一个应用程序已经抓住了机器的差距。

# c# - 在 Visual Studio 2010 中显示不必要的用法

> ID：10881798
> 
> 赞同：1
> 
> 时间：2012-06-04T13:01:46.407
> 
> 标签：c#, visual-studio-2010, using

我使用 Visual Studio 2010 在 C# 中编程。是否可以让它告诉我哪些 usings 没有在代码中使用？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-04T13:04:49.377

这必须对您有所帮助...在vs上单击鼠标右键![在此处输入图像描述](../Images/3123e0b5ce4bddaf3b6eb5e456852dbf.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-04T13:05:03.990

```
Right Click -> Organize Usings -> Remove Unused Usings 
```

# ruby-on-rails - Rails 3.1 数据库应该是 Mongo::DB，而不是字符串。(Mongoid::Errors::InvalidDatabase)

> ID：10881803
> 
> 赞同：0
> 
> 时间：2012-06-04T13:02:10.603
> 
> 标签：ruby-on-rails, ruby-on-rails-3.1, mongoid, passenger

我得到这个**乘客**错误。

完整的错误页面：[https ://dl.dropbox.com/u/1725428/stackoverflow/Mongoid-Errors-InvalidDatabase.html](https://dl.dropbox.com/u/1725428/stackoverflow/Mongoid-Errors-InvalidDatabase.html)

我的设置是：
- Mac OSX Lion
- rvm ruby​​ v1.9.3p194
- 乘客
- mongodb 本地服务器
- rails 3.1.1
- mongoid 2.4.10

这个设置运行良好，直到我尝试将 Gemfile 中的 Rails 版本从 3.1.1 更改为 3.2。然后它与*“数据库应该是 Mongo::DB，而不是字符串。（Mongoid::Errors::InvalidDatabase）”分手了*

尝试使用以前的 rails 3.1.1.，但错误仍然存​​在。
试图重新安装 rvm 和所有的 gem。但这仍然会发生。
尝试使用最新的 mongoid 而不是以前的工作 2.4.5，但无济于事。
数据库服务器正在运行。

关于可能导致这种情况的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T15:42:45.627

好的，所以这是 mongoid gem 中的错误，我直接从 github 使用了当前的 3.0rc，它正在工作。
[https://github.com/mongoid/mongoid.git](https://github.com/mongoid/mongoid.git)

# c# - Winforms - 要在文本框中显示的文本的下划线部分

> ID：10881806
> 
> 赞同：4
> 
> 时间：2012-06-04T13:02:20.713
> 
> 标签：c#, winforms

我有一行要显示的文本，我想做的只是在显示中文本的标题部分加下划线。请问我该怎么做？

消息：这是客户名称的消息。

其中“消息：”有下划线。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T13:12:46.837

改用[RichTextBox](http://msdn.microsoft.com/en-us/library/3tdc88y7.aspx)！

```
 this.myRichTextBox.SelectionStart = 0;
    this.myRichTextBox.SelectionLength = this.contactsTextBox.Text.Length-1;
    myRichTextBox.SelectionFont = new Font(myRichTextBox.SelectionFont, FontStyle.Underline);
    this.myRichTextBox.SelectionLength = 0; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-04T13:12:12.260

您可以使用 RichTextBox 控件执行该下划线

```
 int start = rtbTextBox.Text.IndexOf("Message:", StringComparison.CurrentCultureIgnoreCase);
  if(start > 0)
  {
       rtbTextBox.SelectionStart = start;         
       rtbTextBox.SelectionLength = "Message:".Length-1;         
       rtbTextBox.SelectionFont = new Font(rtbTextBox.SelectionFont, FontStyle.Underline);
       rtbTextBox.SelectionLength = 0; 
  } 
```

此示例直接使用您在问题中提供的文本。如果将此代码封装在私有方法中并传入标题文本会更好。

例如：

```
private void UnderlineHeading(string heading)
{
    int start = rtbTextBox.Text.IndexOf(heading, StringComparison.CurrentCultureIgnoreCase);
    if(start > 0)
    {
         rtbTextBox.SelectionStart = start;         
         rtbTextBox.SelectionLength = heading.Length-1;         
         rtbTextBox.SelectionFont = new Font(rtbTextBox.SelectionFont, FontStyle.Underline);
         rtbTextBox.SelectionLength = 0; 
    }
} 
```

并从您的表格中调用：`UnderlineHeading("Message:");`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-04T13:26:53.607

如果要使用富文本框显示文本，可以执行以下操作：

```
richTextBox1.SelectionFont = new Font("Times New Roman", 10, FontStyle.Underline);
richTextBox1.SelectedText = "Message:";
richTextBox1.SelectionFont = new Font("Times New Roman", 10, FontStyle.Regular);
richTextBox1.SelectedText = " This is a message for Name of Client."; 
```

或者，如果消息是动态的并且标题和文本总是用冒号分隔，您可以执行以下操作：

```
string message = "Message: This is a message for Name of Client";
string[] parts = message.Split(':');
richTextBox1.SelectionFont = new Font("Times New Roman", 10, FontStyle.Underline);
richTextBox1.SelectedText = parts[0] + ":";
richTextBox1.SelectionFont = new Font("Times New Roman", 10, FontStyle.Regular);
richTextBox1.SelectedText = parts[1]; 
```

或者，如果您想在标签中动态显示文本，您可以执行以下操作：

```
string message = "Message: This is a message for Name of Client";
string[] parts = message.Split(':');

Label heading = new Label();
heading.Text = parts[0] + ":";
heading.Font= new Font("Times New Roman", 10, FontStyle.Underline);
heading.AutoSize = true;
flowLayoutPanel1.Controls.Add(heading);

Label message = new Label();
message.Text = parts[1];
message.Font = new Font("Times New Roman", 10, FontStyle.Regular);
message.AutoSize = true;
flowLayoutPanel1.Controls.Add(message); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T16:55:11.533

只是一个想法，您可以使用蒙版文本框或使用带有下划线的richtextbox 创建自定义控件，并在客户端应用程序中使用它。我听说有可能使用 GDI+ api 创建带下划线的文本框，但不确定。

谢谢马赫什科特卡

# zend-form - Zend 验证消息

> ID：10881810
> 
> 赞同：0
> 
> 时间：2012-06-04T13:02:26.990
> 
> 标签：zend-form

考虑表格的以下部分

```
 $name = new Zend_Form_Element_Text('name');
    $name->setLabel('name: ')
                             ->setRequired(true)
                             ->addValidator($empty)
                             ->addValidator($alpha)
             ->setDecorators($newdecorators);
    $this->addElement($name); 
```

我将 $empty 和 $alpha 定义为：

```
 $empty = new Zend_Validate_NotEmpty();
        $empty->setMessage('some text',  Zend_Validate_NotEmpty::IS_EMPTY);

        $alpha = new Zend_Validate_Alpha();
        $alpha->setMessage('some text',Zend_Validate_Alpha::NOT_ALPHA); 
```

现在我的问题：

使用此代码，当输入为空时，我会收到双重验证消息。首先是自定义消息，然后：'' 是一个空字符串当我删除 setRequired 时，空验证器不会运行。为什么是这样？我不想使用 setRequired，因为如果我为 setRequired 添加 errorMessage，$alpha 错误消息将被覆盖。

谢谢，J

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T21:08:46.690

发生这种情况是因为默认行为是检查分配给元素的所有验证器，即使之前的验证之一失败。

幸运的是，很容易防止这种情况发生：在该`addValidator`方法中，您可以传递第二个参数`$breakChainOnFailure`，如果设置为 ，则在失败时停止进一步验证`true`。

因此，在您给出的示例中，您只需将第二个参数设置为 true：

```
$name = new Zend_Form_Element_Text('name');
$name->setLabel('name: ')
                         ->setRequired(true)
                         ->addValidator($empty, true)
                         ->addValidator($alpha, true)
         ->setDecorators($newdecorators);
$this->addElement($name); 
```

如果您输入空字符串，则只会显示一条错误消息。

有关更多信息，请参阅 Zend Framework 文档[验证器链](http://framework.zend.com/manual/1.11/en/zend.validate.validator_chains.html)。

# php - PHP 计算数字数组中出现的次数

> ID：10881812
> 
> 赞同：-3
> 
> 时间：2012-06-04T13:02:32.010
> 
> 标签：php, arrays

我有一个 PHP 数组，我使用 Zend_Debug 将它转储到下面：

```
 $ids = array(13) {
  [0] => string(1) "7"
  [1] => string(1) "8"
  [2] => string(1) "2"
  [3] => string(1) "7"
  [4] => string(1) "8"
  [5] => string(1) "4"
  [6] => string(1) "7"
  [7] => string(1) "3"
  [8] => string(1) "7"
  [9] => string(1) "8"
  [10] => string(1) "3"
  [11] => string(1) "7"
  [12] => string(1) "4"
} 
```

我试图获取每个数字在数组中出现的次数并将其输出到数组中。

我尝试过使用`array_count_values($ids)`，但它按出现次数最多的顺序输出，但我无法获得数字出现的总次数。它给了我以下输出：

```
 array(5) {
  [7] => int(5)
  [8] => int(3)
  [2] => int(1)
  [4] => int(2)
  [3] => int(2)
} 
```

我可以从上面的数组中看到 7 出现了 5 次，但是当我循环遍历数组时我可以访问它！

有什么想法吗？

干杯

J。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T13:05:52.010

您可以像这样访问所需的数据：

```
$ids = array( ...);

$array = array_count_values( $ids);
foreach( $array as $number => $times_number_occurred) {
    echo $number . ' occurred ' . $times_number_occurred . ' times!';
} 
```

**输出：**

```
7 occurred 5 times!
8 occurred 3 times!
2 occurred 1 times!
4 occurred 2 times!
3 occurred 2 times! 
```

[演示](http://codepad.viper-7.com/1G8rVR)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T13:05:58.613

使用`foreach`构造循环遍历结果数组：

```
$res = array_count_values($ids);

foreach( $res as $value => $count ) {
  // your code here
  echo "The value ".$value." appeared ".$count." times in the array";
} 
```

# c# - 如何将音频与视频结合起来？

> ID：10881813
> 
> 赞同：7
> 
> 时间：2012-06-04T13:02:39.067
> 
> 标签：c#, audio, video, webcam, aforge

我正在从网络摄像头捕捉图像并使用这些图像制作视频。我正在通过[AForge](http://code.google.com/p/aforge/)完成这一切。不幸的是[AForge](http://code.google.com/p/aforge/)不支持音频。将音频与视频集成的最佳方式是什么。我正在创建 WMV 格式的视频。

我有两种方法。我可以使用麦克风录制音频。

1）我可以单独创建一个视频，然后以某种方式将捕获的音频与之集成。

2）我可以在从图像创建视频的同时集成音频。

问题是我不知道如何实现这些选项中的任何一个。

有任何想法吗？还是有更好的方法来实现它？

# objective-c - UISegmented 控制动画/翻译

> ID：10881817
> 
> 赞同：1
> 
> 时间：2012-06-04T13:03:07.863
> 
> 标签：objective-c, ios, ios5, uisegmentedcontrol, uianimation

我试图在按下索引 0 时垂直翻译分段控件，以便 UITextView 可以出现在它的位置。我有 UITextView 工作的动画。

我试图从另一个stackoverflow线程实现以下[代码](https://stackoverflow.com/questions/5613306/translating-a-uibutton)。将 btnMyButton 替换为 mySegControl。

```
btnMyButton.frame = CGRectMake(oldx,oldy,width,height);
[UIView beginAnimations:nil context:NULL];
[UIView setAnimationTransition:UIViewAnimationTransitionNone forView:btnMyButton];
[UIView setAnimationDuration:0.3];  
btnMyButton.frame = CGRectMake(newx, newy, width, height);
[UIView commitAnimations]; 
```

更改时，[UIView setAnimationTransition:UIViewAnimationTransitionNone forView:presentingComplaintSegCtrl];

给出以下警告：“语义问题类方法 '+setAnimationTransition:forView:' 未找到（返回类型默认为 'id'）”

有没有更好的方法来解决这个问题？

注意：我在 XIB 中创建分段控件。

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:21:44.183

正如警告所说，UIView 中不存在方法“+setAnimationTransition:forView:”。您正在寻找的方法是“ [+setAnimationTransition:forView:cache:](http://developer.apple.com/library/ios/DOCUMENTATION/UIKit/Reference/UIView_Class/UIView/UIView.html#//apple_ref/occ/clm/UIView/setAnimationTransition%3aforView%3acache%3a) ”。但是，在文档中有一条注释说：

> 在 iOS 4.0 及更高版本中不鼓励使用此方法。您应该使用[transitionWithView:duration:options:animations:completion:](http://developer.apple.com/library/ios/DOCUMENTATION/UIKit/Reference/UIView_Class/UIView/UIView.html#//apple_ref/occ/clm/UIView/transitionWithView%3aduration%3aoptions%3aanimations%3acompletion%3a)方法来执行转换。

如果您不需要支持 iOS 3.x，我建议您按照 Apple 所说的去做，并为您的动画使用方法 'transitionWithView:duration:options:animations:completion:' :)

**[编辑]**

嘿@Ríomhaire，再次阅读您的问题...对于您的示例，最好只使用 UIView 中的[animateWithDuration:animations:](http://developer.apple.com/library/ios/documentation/uikit/reference/uiview_class/uiview/uiview.html#//apple_ref/occ/clm/UIView/animateWithDuration%3aanimations%3a)方法。为要在块内设置动画的更改编写代码，并将其作为参数传递给此方法。如果您需要，这里有一些关于块的文档：http: [//developer.apple.com/library/ios/#featuredarticles/Short_Practical_Guide_Blocks/_index.html](http://developer.apple.com/library/ios/#featuredarticles/Short_Practical_Guide_Blocks/_index.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T13:24:55.163

你正在寻找`+setAnimationTransition:forView:cache:`

从 UIView 的参考资料：

> 缓存如果是，视图的前后图像将被渲染一次并用于创建动画中的帧。缓存可以提高性能，但如果将此参数设置为 YES，则在转换期间不得更新视图或其子视图。更新视图及其子视图可能会干扰缓存行为，并导致在动画期间不正确地呈现视图内容（或在错误的位置）。您必须等到转换结束才能更新视图。如果否，则必须为过渡动画的每一帧更新视图及其内容，这可能会显着影响帧速率。

所以添加`cache:YES`或`cache:NO`

或者，正如我打字时提到的那样，使用`transitionWithView:...`

# android - Phonegap 视频插件？

> ID：10881824
> 
> 赞同：2
> 
> 时间：2012-06-04T13:03:31.157
> 
> 标签：android, plugins, cordova, phonegap-plugins, android-video-player

从以下链接[Phonegap Video plugin](https://github.com/phonegap/phonegap-plugins/tree/master/Android/VideoPlayer)创建视频插件时，一切正常且执行良好。但是在这里，特定的视频正在保存到我们的内部存储和播放中。但我想要的是直接播放该视频而不保存到内部或外部存储中。我试过了，但在模拟器中出现错误，**抱歉，无法播放此视频**。我不知道我在哪里做错了。谁能帮我解决这个问题。

等待您的回复并提前感谢....

代码：

```
//in button onclick="show()" method i am passing the particular url....

     function show()
    {

  window.plugins.videoPlayer.play("file:///android_asset/www/BigBuckBunny.mp4");
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T13:51:31.923

好的，所以 VideoPlayer 可以播放 3 种不同类型的视频：

1) SD 卡

```
file:///sdcard/BigBuckBunny.mp4 
```

它将直接从 SD 卡播放。Android 上的 SD 卡以特权完全打开，因此任何应用程序都可以访问该文件。

2) 资产

```
file:///android_asset/www/BigBuckBunny.mp4 
```

唯一可以访问资产的应用程序是您自己的。因此，为了让我们通过 Intent 启动的 VideoPlayer 应用程序能够访问视频，只需将其复制到 sd 卡上的临时位置。

3) HTTP

```
http://www.bigbuckbunny.com/BigBuckBunny.mp4 
```

视频播放器只会流式传输此视频。

# jquery - jQuery 使用选择器选择下一个元素

> ID：10881828
> 
> 赞同：0
> 
> 时间：2012-06-04T13:03:54.800
> 
> 标签：jquery, tooltip

我知道我们可以使用 .next() 来查找给定元素的下一个元素。但是，我的情况迫使我使用 SELECTOR。

我正在使用[jQuery 工具](http://jquerytools.org/)来构建表格的一些[工具提示](http://jquerytools.org/demos/tooltip/index.html)，每个“td”都有两个元素：链接和工具提示 div。我的目标是在鼠标悬停在链接上时显示工具提示。根据 HTML，它位于链接之后，因此我需要选择“下一个元素”。HTML 看起来像：

```
<tr>
  <td><a href="#" id="td1">Title</a>
  <div class="tooltip">
    <h1>Tooltip Title</h1>
    <p>A detailed descritpion</p>
  </div>
  </td> 
</tr>
<tr>
  <td><a href="#" id="td2">Title</a>
  <div class="tooltip">
    <h1>Tooltip Title</h1>
    <p>A detailed descritpion</p>
  </div>
  </td> 
</tr>
<!-- more rows --> 
```

不幸的是，我不能在这里使用 .next() ，因为 tooltip() 函数只接受选择器字符串作为参数：

```
$("#mytable img").tooltip({
    tip: '.tooltip',   // <-- This must be a string, so no next()
    position: 'center right',
    offset: [0, 15],
    delay: 0
}); 
```

有什么方法可以实现这一点，还是我必须重构我的 HTML？非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T13:11:43.093

你可以试试这个

```
$("#mytable img").tooltip({
    tip: '#mytable img your_html_element',   // <-- This must be a string, so no next()
    position: 'center right',
    offset: [0, 15],
    delay: 0
}); 
```

这里`your_html_element`可能是您的 div 或 span 或任何 html 元素标记。您可以给出该标签的名称。这与您使用 img 标签的方式相同。

# java - 为什么我的 TestNG 数据提供者网站被阻止？

> ID：10881830
> 
> 赞同：0
> 
> 时间：2012-06-04T13:04:01.510
> 
> 标签：java, testng, selenium-grid, testng-dataprovider

我正在使用 TestNG、Selenium Grid 并使用`@dataprovider`注释从 Excel 工作表中读取我的测试用例值。我正在测试两个网站，它们使用相同的字段名称等提供相同的产品，但只是使用不同的品牌名称。

站点 A 处理过程没有任何问题，而站点 B 似乎知道在其上运行了一个自动化脚本并重定向到阻止我完成测试用例的联系屏幕。当我手动登录时，我可以毫无问题地继续。

我的问题是，是否有工具可以防止使用带有`@dataprovider`注释的数据注入，如果是这样，有什么办法可以绕过它们吗？

# jquery - 通过jQuery悬停淡入淡出效果

> ID：10881833
> 
> 赞同：0
> 
> 时间：2012-06-04T13:04:08.407
> 
> 标签：jquery, css, fade

我有这门课：

```
#right_menu a {
  color: #002C6A;
  display: block;
  font-family: 'DINPro-Bold';
  font-size: 15px;
  height: 20px;
  padding: 15px 0 15px 95px;
  width: 205px;
} 
```

而这个悬停CSS：

```
#right_menu a:hover {
    color: #FFF;
    font-size: 15px;
    font-family: 'DINPro-Bold';
    background-color:#002C6A;
} 
```

它正在工作。但我想在悬停时通过 jQuery 获得淡入淡出效果。我能怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T13:19:36.193

您可能在 head 部分中缺少 JS 文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T14:21:27.210

您可以尝试使用 css3 转换而不是 jquery 吗？

要做到这一点，你必须把它放在你的 CSS 中：

```
#right_menu a {  
    transition: color 2s;  
    -moz-transition: color 2s; /* Firefox 4 */  
    -webkit-transition: color 2s; /* Safari and Chrome */  
    -o-transition: color 2s; /* Opera */  
} 
```

'2s' 是过渡使用的时间，在本例中为 2 秒
，'color' 是应该褪色的，这是字体颜色

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T13:54:45.133

使用这个 JS 文件 jquery-ui-1.8.11.min.js 它可以帮助你。

# asp.net-mvc-3 - 在 MVC3 中为多项目区域配置虚拟目录

> ID：10881836
> 
> 赞同：0
> 
> 时间：2012-06-04T13:04:15.460
> 
> 标签：asp.net-mvc-3, iis-express

我正在使用此答案中描述的技术：[https](https://stackoverflow.com/a/7167198/22399) : //stackoverflow.com/a/7167198/22399 在 MVC3 中设置多项目区域。不过，我的问题似乎在于配置 IIS Express，而不是技术本身。

我在步骤 7 中做错了（使用 IIS Express。）我不断收到错误消息，说它找不到视图（我的测试区域称为“示例”）这是错误：

```
The view 'Index' or its master was not found or no view engine supports the searched locations. The following locations were searched:

~/Areas/Sample/Views/Index/Index.aspx<br />
~/Areas/Sample/Views/Index/Index.ascx<br />
~/Areas/Sample/Views/Shared/Index.aspx<br />
~/Areas/Sample/Views/Shared/Index.ascx<br />
~/Views/Index/Index.aspx<br />
~/Views/Index/Index.ascx<br />
~/Views/Shared/Index.aspx<br />
~/Views/Shared/Index.ascx<br />
~/Areas/Sample/Views/Index/Index.cshtml<br />
~/Areas/Sample/Views/Index/Index.vbhtml<br />
~/Areas/Sample/Views/Shared/Index.cshtml<br />
~/Areas/Sample/Views/Shared/Index.vbhtml<br />
~/Views/Index/Index.cshtml<br />
~/Views/Index/Index.vbhtml<br />
~/Views/Shared/Index.cshtml<br />
~/Views/Shared/Index.vbhtml 
```

我的 IIS Express applicationhost.config 是这样设置的：

```
 <site name="Vo.MainSite" id="5">
        <application path="/" applicationPool="Clr4IntegratedAppPool">
            <virtualDirectory path="/" physicalPath="D:\{LONG PATH}\MainSite\MainSite\MainSite" />
        </application>
        <application path="/Areas/Sample" applicationPool="Clr4IntegratedAppPool">
            <virtualDirectory path="/" physicalPath="D:\{LONG PATH}\Modules\SampleModule\SampleModule.Web" />
        </application>
        <bindings>
            <binding protocol="http" bindingInformation="*:47001:localhost" />
        </bindings>
    </site> 
```

从我搜索的所有内容来看，它应该是正确的。我有复制 DLL 的后期构建过程就好了。我可以在 SampleController 中放置一个断点，然后断点就会被命中。一切看起来都很好，除了找到风景。有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T13:17:24.810

确保您的视图被标记为嵌入式资源。

# javascript - Javascript - 函数参数

> ID：10881842
> 
> 赞同：4
> 
> 时间：2012-06-04T13:04:50.107
> 
> 标签：javascript, d3.js

我正在学习 Javascript，对以下用法有点困惑。这些问题可能比 d3 更具体。

[http://mbostock.github.com/d3/ex/sunburst.html](http://mbostock.github.com/d3/ex/sunburst.html)

```
var arc = d3.svg.arc()
.startAngle(function(d) { return d.x; })
.endAngle(function(d) { return d.x + d.dx; })
.innerRadius(function(d) { return Math.sqrt(d.y); })
.outerRadius(function(d) { return Math.sqrt(d.y + d.dy); }); 
```

所以，

1.  startAngle、endAngle 等将函数作为参数。将参数作为函数而不仅仅是数字的理由是什么？
2.  在完整的代码中，没有定义“d”。我在几乎所有的 d3 程序中都看到了它。“d”是干什么用的？它是如何设置的或在哪里通过的？

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T13:15:11.587

*对于你的第一个问题：*

该`d3.svg.arc`对象用于在饼图中创建切片。这些切片中的每一个都需要不同的开始和结束角度才能正确显示。

在`d3.js`您不传递每个切片的两个角度，而是提供一个函数，该函数接受一个参数`d`，该参数是该切片的相应数据元素并返回角度。此处设置的其他参数也是如此。

另一个优点是，一个数据可以包含多个属性，您可以决定哪个属性在可视化中占哪个部分。

*你的第二个问题*

当使用一个函数作为另一个函数的参数时，通常使用给定形式的函数表达式。在`d3.js`大多数用作参数的函数中，它们本身会传入一个或两个参数（大多数情况下是需要转换的数据部分）。在您的函数表达式中，您需要（或至少应该）命名这些参数以解决它们。示例中的大部分时间`d`都用作保存特定数据项的参数的参数名。

它不需要在其他地方定义，因为它只是一个普通的函数参数。如果你愿意，你可以用以下方式重写它：

```
function startAngleParam( d ) {
 return d.x;
}

var arc = d3.svg.arc()
.startAngle( startAngleParam )
... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T13:07:38.440

`d`非常清楚地作为参数传递给匿名函数。大概这些函数*可以*将数字作为参数，或者一个用于更复杂操作的函数（有点像如何`String.replace()`获取替换字符串，或者通过它运行结果数组并返回替换值的函数）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T13:11:47.540

1：这是一个回调函数。当您将其作为参数发送时，该函数不会被调用，而是会保留该函数并可以稍后调用，并且可以在需要时一遍又一遍地调用它。

2：参数`d`只是一个发送到回调函数的值，函数使用它来产生结果。标识符名称`d`仅在回调函数中定义，每当使用该函数时，该值都会像往常一样发送到函数中。

发送到回调函数的值是一个包含圆弧坐标的对象。当圆弧坐标发生变化时，会调用回调函数来计算绘制圆弧所需的其他值。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-22T15:10:23.930

我还不能发表评论，但想补充一下 Sirko 的出色回答。他指出：

在 d3.js 中，您不会为每个切片传入两个角度，而是提供一个函数，该函数接受一个参数`d`，该参数是该切片的相应数据元素并返回角度。

我要补充一点，您可能还会遇到表单的回调`function(d, i) { ... }`。当您看到这一点时，`d`指的是元素的数据并`i`指代其索引 - 按照惯例使用单字母缩写，但您可以随意调用参数。

当您遍历数据时，访问这两个项目会很有帮助。例如，在本教程中，数据和索引都用于构建条形图： http: [//mbostock.github.com/d3/tutorial/bar-1.html](http://mbostock.github.com/d3/tutorial/bar-1.html)

# javascript - jQuery查找焦点输入的索引

> ID：10881844
> 
> 赞同：1
> 
> 时间：2012-06-04T13:04:50.453
> 
> 标签：javascript, jquery

如何找到焦点输入字段的索引？现在我有这个代码：

```
var forma = $('form#mali_oglas'),
    pomoc = $('div[role=pomoc]'),    
    input = forma.find('input[type!=hidden], textarea');

    index = input.focus().index();
    console.log(index); 
```

我得到的只是表单中输入元素的数量（目前为 15 个）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T13:09:54.187

利用[`:focus selector`](http://api.jquery.com/focus-selector/)

```
index = input.index(input.filter(':focus')) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T13:13:27.157

[http://jsfiddle.net/iambriansreed/QyUHv/](http://jsfiddle.net/iambriansreed/QyUHv/)

jQuery

```
var f = $('form');
f.click(function(){    
    $('#index').val($(':input:focus',f).index());    
});​ 
```

HTML

```
<form>    
<input value="hello"/><br/>
<textarea></textarea><br/>
<input/><br/>
<input/><br/>
<select><option>Option</option></select><br/>
<input/><br/>
</form><br/><br/>
Field Index with focus:
<input id="index"/> 
```

​</p>

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T13:07:10.653

使用`:focus`选择器：

```
index = forma.find(":focus").index(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-04T13:07:32.473

[`$.focus()`](http://api.jquery.com/focus/) *给*选定的元素焦点。相反，您想要*选择*焦点元素。幸运的是，jQuery 为您提供了[`:focus`](http://api.jquery.com/focus-selector/).

```
var input = forma.find('input:focus, textarea:focus');
var index = input.index();
console.log(index); 
```

注意：我删除了`[type!=hidden]`选择器，因为隐藏的输入字段永远无法获得焦点。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-04T13:07:34.953

您应该能够使用伪类来查找具有焦点的元素。

```
input = forma.find('input:focus, textarea:focus'); 
```

[http://www.w3schools.com/cssref/sel_focus.asp](http://www.w3schools.com/cssref/sel_focus.asp)

未测试

# python - 解析多行字符串直到具有特定字符的第一行

> ID：10881852
> 
> 赞同：0
> 
> 时间：2012-06-04T13:05:44.337
> 
> 标签：python, string-parsing

我想从多行字符串中解析出所有行，直到包含某个字符的第一行——在这种情况下是一个左括号。

```
s = """Here are the lines 
of text that i want.
The first line with <tags> and everything
after should be stripped."""

s1 = s[:s.find('<')]
s2 = s1[:s.rfind('\n')]

print s2 
```

**结果：**

> 这是
> 我想要的文本行。
> 第一行与

**我在找什么：**

> 这是
> 我想要的文本行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T13:09:52.970

改变

```
s2 = s1[:s.rfind('\n')]  #This picks up the newline after "everything" 
```

到

```
s2 = s1[:s1.rfind('\n')] 
```

它会起作用。虽然可能有更好的方法来做到这一点......

# javascript - 自定义对象内的范围问题

> ID：10881854
> 
> 赞同：0
> 
> 时间：2012-06-04T13:05:47.253
> 
> 标签：javascript, jquery, object, scope

我想我有一个范围可见性问题，我无法准确弄清楚：当我记录变量时，`displayatonce`我得到了正确的结果，但是当我尝试使用按钮时，我什么也得不到。我也尝试过记录`this.navbuttons`，但我得到的只是一个空集......我真的不明白这段代码有什么问题。

```
<!-- html code -->
<div id="nav">
<a href="#" data-dir="prev">Previous</a>
<a href="#" data-dir="next">Next</a>
</div>

/* Js Script with jQuery */
(function() {

var NewsNavigator = {

    init: function(config) {
        this.navbuttons = config.navbuttons;
        this.displayatonce = config.displayatonce;
        this.counter = 0;
        this.showNews();
        this.enableNav();

    },

    showNews: function() {
        console.log(this.displayatonce);
    },

    enableNav: function() {
                    console.log(this.navbuttons);
        this.navbuttons.on('click', function() {
            console.log("clicked");
        });
    }

};

NewsNavigator.init({
    displayatonce: 3,
    navbuttons: $('div#nav').find('a')
});
})(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T13:17:21.283

发生这种情况是因为当您使用`(function())();`which 立即执行该函数时，它可能在[`dom is ready`](http://api.jquery.com/ready/)

在下面的演示中一切正常

[演示](http://jsfiddle.net/joycse06/nCLR5/)

把你所有的代码放在里面`document ready`，或者至少调用`initialize`里面的方法，`doc ready block`比如

```
 $(function(){
    NewsNavigator.init({
        displayatonce: 3,
        navbuttons: $('div#nav').find('a')
    });
}); 
```

阅读更多关于`Javascript self executing Anonymous function`这里

[Javascript自执行函数“不是函数”](https://stackoverflow.com/questions/6090912/javascript-self-executing-function)

或者

[http://markdalgleish.com/2011/03/self-executing-anonymous-functions/](http://markdalgleish.com/2011/03/self-executing-anonymous-functions/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T13:20:49.493

您使用 jQuery 太早了，特别是在 DOM 准备好被搜索之前。

这里是小提琴演示这个： http: [//jsfiddle.net/w7KaY/](http://jsfiddle.net/w7KaY/)（JavaScript被放置在`<head>`，所以init（）很早就被调用）而在这里（[http://jsfiddle.net/w7KaY/1/](http://jsfiddle.net/w7KaY/1/)），调用to init() 被封装在 jQuery 的 DOM 就绪事件的事件处理程序中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T13:17:36.313

确保 html 元素存在于 DOM 中。`bind`除了您必须使用绑定到事件的方法这一事实之外，我没有看到脚本有任何问题。

```
this.navbuttons.bind('click', function() {
   console.log("clicked");
}); 
```

# android - 如何适合所有正常屏幕尺寸的 Android“布局正常”xml 设计？从屏幕尺寸 3.2 英寸到 4.7 英寸

> ID：10881858
> 
> 赞同：0
> 
> 时间：2012-06-04T13:05:56.423
> 
> 标签：android, xml, layout, size, screen

我对 android 2.2 中的正常布局感到非常困惑，因为我试图让我的 UI 设计适合在运行时采用正常布局但我失败的屏幕，`galaxy sII (4.3) and HTC Sensation (4) and Galaxy gio (3.2)`这些都是正常布局。那么有人知道如何为所有人设计适合他们的设计吗？

提前感谢您的帮助和感谢

# iphone - IOS后台工作

> ID：10881859
> 
> 赞同：4
> 
> 时间：2012-06-04T13:05:57.667
> 
> 标签：iphone, ios, multithreading, background-process, background-thread

我有一个 iPhone 应用程序，例如用于 iPhone 的 facebook。我的应用程序必须连接我的服务器并定期每两个小时读取一次所有消息。我有一个线程来读取所有消息，但是当应用程序终止时，线程无法工作。线程能否独立于主委托运行，或者我如何找到解决此问题的方法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-04T13:08:30.073

你不能让你的应用在后台做事。有一个 API 可以完成上传照片之类的任务，但即使这样也会在大约 10 分钟后被杀死。

但[Apple 推送通知服务](https://developer.apple.com/library/ios/#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Introduction/Introduction.html#//apple_ref/doc/uid/TP40008194)似乎是解决您的问题的最合适的解决方案。您的服务器会通知设备发生了新的事情，并在用户打开应用程序时获取实际消息。

**编辑：**从 iOS 7 开始，Apple 实现了一项功能，您可以在其中安排正在运行的任务以在后台获取数据。这些任务不能保证在任何特定时间运行。请参阅[iOS 7 的发行说明](https://developer.apple.com/library/ios/releasenotes/General/WhatsNewIniOS/Articles/iOS7.html)和下面的链接方法：

> 通过联系服务器定期更新其内容的应用程序可以向系统注册并定期启动以在后台检索该内容。要注册，请在应用的 Info.plist 文件中包含 UIBackgroundModes 键和获取值。然后，当您的应用程序启动时，调用[setMinimumBackgroundFetchInterval:](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIApplication_Class/Reference/Reference.html#//apple_ref/occ/instm/UIApplication/setMinimumBackgroundFetchInterval%3a) 方法来确定它接收更新消息的频率。最后，您还必须 在您的应用委托中实现[application:performFetchWithCompletionHandler:方法。](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIApplicationDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intfm/UIApplicationDelegate/application%3aperformFetchWithCompletionHandler%3a)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T15:01:14.267

没有解决办法。

Apple 不允许应用程序在后台运行，除非它们属于特定类型，例如位置、音频或 voip 或报摊（如果使用 shouldBeginBackgroundTaskWithExpirationHandler，您的应用程序可以在处于活动状态后继续运行大约 10 分钟）。

没有解决方法，许多其他人都想知道如何做和自己一样的事情，但没有合法的方法。您的应用无法安排任何类型的定期回拨活动。

一旦应用程序进入挂起或终止状态，它可以运行的唯一方法是让用户显式地启动它，或者响应本地通知或远程推送通知。

# hadoop - pig 0.9.0 与 cdh3u1 的互操作性？

> ID：10881866
> 
> 赞同：0
> 
> 时间：2012-06-04T13:06:13.053
> 
> 标签：hadoop, apache-pig, cloudera

较软的 cdh3 客户端版本[可与 apache hadoop server 0.20.xx 互操作？](https://stackoverflow.com/q/10871442/574187)

我们有一个运行一系列 pig 脚本的 java 应用程序（它在其中注入了一些变量，但通常它只是用于运行它们的驱动程序/客户端）。我们需要 pig 0.9.0 的宏特性，但 cdh 是 pig 0.8.1 自带的。以下是个好主意吗？

我们尝试与：

```
 <dependency>
        <groupId>org.apache.hadoop</groupId>
        <artifactId>hadoop-core</artifactId>
        <version>0.20.2-cdh3u1</version>
    </dependency> 
```

和

```
 <dependency>
        <groupId>org.apache.pig</groupId>
        <artifactId>pig</artifactId>
        <version>0.9.0</version>
    </dependency> 
```

代替

```
 <dependency>
        <groupId>org.apache.pig</groupId>
        <artifactId>pig</artifactId>
        <version>0.8.1-cdh3u1</version>
    </dependency> 
```

# jquery - 让我的 jQuery Ajax 脚本使用 CORS

> ID：10881868
> 
> 赞同：2
> 
> 时间：2012-06-04T13:06:18.097
> 
> 标签：jquery, xmlhttprequest, blackberry-webworks, cors

我构建了一个应用程序，它通过 AJAX 从外部网站读取数据。它工作正常，但我在另一个[问题](https://stackoverflow.com/a/10881561/773263)中发现，如果我想用 Webworks 或 Phonegap 为 BlackBerry 7 打包它，我可能需要使用名为[CORS](http://www.w3.org/TR/cors/)的东西。

除了使用“CORS”之外，我如何转换我的以下脚本来做同样的事情？

```
 <script type="text/javascript">
        $("#page_all").live('pagebeforecreate', function() {
        $.get('http://mysite.com/mobile/data/data_all.php',function(data){
            $('.content').empty();
            $(data).find('market').each(function(){
                var $market = $(this);
                var html = '<div class="data">';                      
                html += '<div data-role="collapsible" data-collapsed="true" data-theme="b"><h3>' + $market.attr('date') + '</h3>';
                html += '</div>';
                $('#result').append(html).trigger( "create" );
                $('#result .loading').remove();
            });                        
        });
        });
    </script> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T13:12:19.333

您可能正在从其他域名访问域（ontariosheep.org），这会将跨域带入投票。

CORS 只是解决此问题的一种方法，它必须是您的服务器，`data_all.php`需要将主机设置为在响应标头中也具有以下属性：

```
Access-Control-Allow-Origin: * 
```

或者，您可以使用另一种称为[JSONP](http://en.wikipedia.org/wiki/JSONP)的常用方法。

使用 JSONP 方法，您的调用应如下所示：

```
var url = "http://ontariosheep.org/mobile/data/data_all.php";
$.get(url + "?callback=?", function(data) {
    // your method body     
}); 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-06-11T15:52:51.353

您可以在 jquery 中专门打开 CORS

```
$.support.cors = true; 
```

此外，请确保正确配置您的小部件配置（config.xml）并添加

```
<access uri="*" /> 
```

或者至少

```
<access uri="ontariosheep.com" /> 
```

# joomla - 管理员中带有示例表单的 Joomla 自定义组件

> ID：10881872
> 
> 赞同：-1
> 
> 时间：2012-06-04T13:06:41.397
> 
> 标签：joomla, components, administrator

我需要管理员中的示例表单，其中包含添加、编辑、删除选项来管理我的网络应用程序中的“成功故事”。

我搜索了要安装的示例组件。

如果我明白了，我也会根据我的应用程序和表格更改表格。

请通过提供适合我要求的链接资源来帮助我。很抱歉问这个问题，我是 joomla 的新手。

在此先感谢，苏尼尔。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T14:02:53.470

看看 Joomla 组件创建器：[http ://www.notwebdesign.com/joomla-component-creator/](http://www.notwebdesign.com/joomla-component-creator/)

# php - JQuery 的 PHP json_encode 错误消息

> ID：10881873
> 
> 赞同：1
> 
> 时间：2012-06-04T13:06:52.753
> 
> 标签：php, json

我的 PHP 类中有以下方法来处理消息并将其发送回 JQuery。如果只有一条消息要发回，它可以正常工作，但如果有多个消息，它会将它们作为单独的 json 对象发回。消息发送正常，但 JQuery 给了我一个错误。消息如下所示：

```
{"error":true,"msg":"Message 1 here..."}{"error":true,"msg":"Message 2 here"} 
```

我的 PHP 方法如下所示：

```
private function responseMessage($bool, $msg) {
    $return['error'] = $bool;
    $return['msg'] = $msg;
    if (isset($_POST['plAjax']) && $_POST['plAjax'] == true) {
        echo json_encode($return);
    }
    ...
} 
```

我不知道如何更改这一点，因此将多个错误消息放入单个 json 编码消息中，但如果它只是单个消息也可以工作。

你能帮我吗？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T13:10:13.923

看起来您需要附加到一个数组上，然后在添加所有消息后，输出 JSON。目前，您的函数在任何时候都会输出 JSON：

```
// Array property to hold all messages
private $messages = array();

// Call $this->addMessage() to add a new messages
private function addMessage($bool, $msg) {
   // Append a new message onto the array
   $this->messages[] = array(
     'error' => $bool,
     'msg' => $msg
   );
}
// Finally, output the responseMessage() to dump out the complete JSON.
private function responseMessage() {
    if (isset($_POST['plAjax']) && $_POST['plAjax'] == true) {
        echo json_encode($this->messages);
    }
    ...
} 
```

输出 JSON 将是一个对象数组，类似于：

```
 [{"error":true,"msg":"Message 1 here..."},{"error":true,"msg":"Message 2 here"}] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T13:09:16.393

您可以将错误作为数组发送。

```
$errors = Array();
// some code
$errors[] = ...; // create an error instead of directly outputting it
// more code
echo json_encode($errors); 
```

这将导致类似：

```
[{"error":true,"msg":"Message 1 here..."},{"error":true,"msg":"Message 2 here"}] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T13:10:56.737

听起来像是设计问题。你需要建立一个像 $response = array(); 这样的对象。然后每次需要添加错误时，只需附加它。$response[] = $errorData; 然后当你完成 json_encode($response);

# python - Paramiko 更改远程机器的 IP

> ID：10881878
> 
> 赞同：1
> 
> 时间：2012-06-04T13:07:23.330
> 
> 标签：python, paramiko

我必须更改运行 Gentoo 的远程机器的 IP。为此，我使用了一个看起来像的代码

```
try:
    guest.connect("10.22.254.200", username='root',password='root')
    except SSHException as detail:
        session.flash = detail.message
    else:
        sftp = guest.open_sftp()
        sftp.put('./scripts/change-ip', '/root/change-ip')
        sftp.close()
        guest.exec_command('chmod +x /root/change-ip')
        time.sleep(5)
        try:
            stdin,stdout,stderr = guest.exec_command('/root/change-ip 10.22.254.200 &') 
```

我的 change-ip 脚本看起来像

```
set -x
cp /etc/conf.d/net  /etc/conf.d/net.bak
sed "s/10.22.254.200/$1/g" /etc/conf.d/net.bak > /etc/conf.d/net
/etc/init.d/net.eth0 restart 
```

我能够直接 ssh 并成功执行脚本更改 ip，但由于某种原因无法在代码中执行此操作。

任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T13:32:31.773

通过网络重启网络是一件危险的事情。这里发生的情况是，在命令中停止网络接口后，`/etc/init.d/net.eth0 restart`脚本会收到一个`HANGUP`表明连接已关闭的信号，并在启动网络接口之前停止。

为避免此问题，您可以使用`nohup`“运行不受挂断影响的命令”。

# actionscript-3 - 包内的文件

> ID：10881879
> 
> 赞同：0
> 
> 时间：2012-06-04T13:07:26.223
> 
> 标签：actionscript-3

我想使用 as3`File()`方法将 xml 导入文件。

该文件在我的项目包中`resources/xml/baseXml.xml`

现在 File() 方法有几个属性，例如：

```
applicationDirectory, applicationStorageDirectory, desktopDirectory, documentsDirectory 
```

但他们都没有为我指明正确的方向。那么我该怎么做呢？获取包内的xml文件？

我试图嵌入文件然后我有一个`Class`而不是一个`File`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:56:25.117

你需要使用 File() 吗？如果您只使用 httpService 获取 xml 文件会怎样？

尝试：

```
<s:HTTPService url="resources/xml/baseXml.xml" result="yourResultHandlerToParseTheXML(event)"/> 
```

或者你可以这样做：

```
<fx:XML source="resources/xml/baseXml.xml"/> 
```

并从中解析。

（两者都将位于您的标签内。

除非您需要仅 ActionScript 的解决方案，在这种情况下，以下应该可以工作：

```
var myXML:XML = new XML();
myXML.ignoreWhite = true;
myXML.load("resources/xml/baseXml.xml"); 
```

# javascript - 在 javascript 中使用 c# 代码

> ID：10881883
> 
> 赞同：1
> 
> 时间：2012-06-04T13:07:32.697
> 
> 标签：javascript, jquery, asp.net-mvc-3, c#-4.0

我正在尝试`C# in javascript`像我们在 using 中使用它一样使用`MVC Razor View`它`@ sign`，

比如假设 an`array name list`被传递给了，`View`所以我们可以`View`像这样访问它：

**看法**

```
 Length of array :  <input type="text"  value="@Model.list.Length" />

                  Or we can iterate list array also like:

         @for(int i=0; i< Model.list.Length; i++)
         {
             console.log(Model.list[i]);
         } 
```

但我的问题是我们如何在 javascript 代码中迭代或使用这个数组，类似于：

**JS**

```
 for(var i=0; i<@Model.list.Length; i++)
      {
        $("body").append("<h1></h1>").html(@Model.list[i]);
      } 
```

谢谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:23:14.720

正如我在评论中发布的那样，这有点棘手。但是，您可以尝试使用您的 c# 构造一个 javascript 对象。

像这样的东西（我不知道这到底是如何工作的......）：

```
var array = [
   @for(var i = 0; i < Model.list.Length-1; i++){  @Model.list[i] , }
   @Model.list[length]
] 
```

这应该导致：

```
var array = [
         val1,
         val2,
         val3,
         valn
] 
```

现在您有了一个 js var `array`，您可以在整个文档中使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T13:17:30.503

你不能完全那样做。您可以做的是使用 C# 为每一行生成 javascript 代码，如下所示：

```
//...javascript code...

@for(var i = 0; i < Model.list.Length; i++)
{
    $("body").append("<h1></h1>").html('@(Model.list[i])');
}

//...more javascript code... 
```

这应该像这样输出：

```
//...javascript code...

$("body").append("<h1></h1>").html(listitem0);
$("body").append("<h1></h1>").html(listitem1);
$("body").append("<h1></h1>").html(listitem2);
//etc.

//...more javascript code... 
```

# python - Python：使用列表进行范围操作

> ID：10881888
> 
> 赞同：-9
> 
> 时间：2012-06-04T13:07:39.923
> 
> 标签：python, list, range

我有这样的元素列表：`[1/1/9-1/1/13, 1/1/20-1/1/22]`

我想打印 9 到 13、20 到 22 之间的数字

```
Result= [1/1/10, 1/1/11, 1/1/12, 1/1/21 ] 
```

range() 方法可以做到这一点，但如何捕捉它们呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:41:07.900

```
>>>test = ['1/1/9-1/1/13', '1/1/20-1/1/22']
>>>test = [tuple(x.split('-')) for x in test]
>>>print test
[('1/1/9', '1/1/13'), ('1/1/20', '1/1/22')]
>>>result = [x[:x.rfind('/')+1]+str(t) for x,y in test for t in range(int(x.split('/')[-1])+1, int(y.split('/')[-1]))]
>>>print result
['1/1/10', '1/1/11', '1/1/12', '1/1/21'] 
```

我想这就是你想要的。

# c# - 用于可选周围标签的优雅 MVC 代码

> ID：10881893
> 
> 赞同：2
> 
> 时间：2012-06-04T13:07:50.920
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3, razor

完成以下任务的更优雅的代码是什么：

```
foreach(var filter in Model.Filters)
{
  if(filter.Selected)
  {
    <div class="crumb crumb_selected" id="@filter.ID">
      @* much more html can be here *@
      @filter.Title
      <span class="counter">
        (@filter.Count)
      </span>
    </div>
  } else {
    <div class="crumb" id="@filter.ID">
      <a href="@Model.ClickUrl(Model.SelectedFilters, filter)">
      @* much more html can be here but similar code as above *@
        @filter.Title
        <span class="counter">
          (@filter.Count)
        </span>
      </a>
    </div>
  }
} 
```

*   div / span 的重复 html 代码似乎是错误的代码
*   css-class规范也应该在优雅的版本中解决

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T18:23:19.943

```
foreach(var filter in Model.Filters) 
{ 

    <div class="crumb @(filter.Selected? "crumb_selected":string.empty)" id="@filter.ID"> 
      @(filter.Selected? "<a href="@Model.ClickUrl(Model.SelectedFilters, filter)">" : string.empty)
      @filter.Title 
      <span class="counter"> 
        (@filter.Count) 
      </span> 
    </div> 
  }    
} 
```

本质上，这只是测试 filter.Selected 并且是您已经拥有的更简洁的形式。我没有测试语法，只是把它写下来，如果它没有编译，请原谅我。我不确定这是否更优雅，因为我不知道您对优雅的定义是什么。我以为你的意思是你更干。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T13:45:54.370

```
@helper MyHelper(SomeDataType filter)
{
  @* much more html can be here *@
  @filter.Title
  <span class="counter">
    (@filter.Count)
  </span>
}

foreach(var filter in Model.Filters)
{
  if (filter.Selected)
  {
    <div class="crumb crumb_selected" id="@filter.ID">
      @MyHelper(filter)
    </div>
  } else {
    <div class="crumb" id="@filter.ID">
      <a href="@Model.ClickUrl(Model.SelectedFilters, filter)">
        @MyHelper(filter)
      </a>
    </div>
  }
} 
```

# asp.net - 当页面下拉列表选择索引更改时保存当前页面的gridview

> ID：10881896
> 
> 赞同：0
> 
> 时间：2012-06-04T13:08:05.123
> 
> 标签：asp.net

我正在使用多页网格视图来显示一堆数据。这是gridview的代码。

```
<asp:GridView ID="unverifiedlist" runat="server" AutoGenerateColumns="false" AllowSorting="true" AllowPaging="true"  OnRowDataBound="unverifiedlist_RowDataBound" style="font-size:12px" >
                        <Columns><asp:BoundField HeaderText="Surname" DataField="Surname" ReadOnly="true"/></Columns>
                        <Columns><asp:BoundField HeaderText="Firstname" DataField="Givenname" ReadOnly="true"/></Columns>
                       ......
                        <Columns><asp:TemplateField HeaderText="Options" >
                                    <ItemTemplate>
                                        <asp:DropDownList ID="options" runat="server" AutoPostBack="true" OnSelectedIndexChanged="options_SelectedIndexChanged">
                                            <asp:ListItem></asp:ListItem>
                                            <asp:ListItem Value="1">Verified</asp:ListItem>
                                            <asp:ListItem Value="2">Rejected</asp:ListItem>
                                        </asp:DropDownList>
                                    </ItemTemplate>
                                 </asp:TemplateField>
                                 <asp:TemplateField HeaderText ="Reason">
                                    <ItemTemplate>
                                        <asp:TextBox ID="reason" runat="server" OnTextChanged ="reason_TextChanged"></asp:TextBox>
                                    </ItemTemplate>
                                 </asp:TemplateField>
                        </Columns>
                        <PagerSettings Visible="false"/>            
            </asp:GridView>

<asp:DropDownList ID="PageSelect" AutoPostBack="true" runat="server" OnSelectedIndexChanged="PageSelect_SelectedIndexChanged"></asp:DropDownList> 
```

有一个名为“选项”的列，其中包含一个下拉列表，每次更改所选索引以保存编辑的行时，它都会回发。我试图避免这种频繁的回发。所以我想如果我可以在用户转到下一页之前保存整个页面。问题是“PageSelect”下拉列表的回发会先触发页面重新加载，然后是onselectedindexchanged事件，此时gridview已经翻到了下一页。那么有人可以给我一些建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T13:19:14.993

您可以将网格视图的 EnableSortingAndPagingCallBacks 属性设置为 true ，但如果您在网格视图中使用模板字段，这将不起作用，为了维护页面的状态，您必须在会话和页面加载时保留当前页面的值你可以检查会话..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T19:18:23.973

我最后使用了gridview 本身的分页导航控件而不是我的下拉列表。然后我可以使用 pageindexchanging 事件将当前页面保存到会话中，然后再转到下一页

# javascript - 是否可以在不运行浏览器的情况下在 Visual Studio 中调试 JavaScript 代码？

> ID：10881898
> 
> 赞同：2
> 
> 时间：2012-06-04T13:08:14.720
> 
> 标签：javascript, visual-studio

Visual Studio，至少在 v2012 中，应该对 JavaScript 提供一流的支持。但是，我还没有找到任何“JavaScript 项目类型”，JS 甚至没有在“文件”>“新建项目”对话框等中列为顶级语言。

JavaScript 是，或者至少开始不仅仅是一种用于 Web 应用程序的脚本语言，所以我想知道**Visual Studio 是否有一种方法/插件/扩展，可以让我输入一些 JavaScript 并执行它作为一种语言结构**（例如，在节点控制台上），而不是作为某些 ASP.NET Web 应用程序的一部分。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T22:17:13.173

VS2012 确实支持 JavaScript，但不是“纯 JS 项目”意义上的。

如果您在 Win8 Release Preview 上运行 VS2012 RC，您应该会看到使用 JavaScript 实现的 Windows 8 Metro 风格应用程序的项目类型。这些类型的项目无法在 Win7 及以下版本上创建（因为它们只能在 Win8 上运行）。

如果您在 Web 应用程序项目、ASP.NET 项目等中使用 JS，您将看到用于 JavaScript 编辑和调试的所有新的丰富功能。

# racket - 从球拍的当前目录加载模块

> ID：10881907
> 
> 赞同：5
> 
> 时间：2012-06-04T13:08:57.947
> 
> 标签：racket

我当前的工作目录中有一个文件`euler.rkt`。如何将其作为模块加载？

```
-> (require euler)
; readline-input:20:9: euler: standard-module-name-resolver: collection not
;   found: "euler" in any of: (#<path:/home/ben/.racket/5.2.1/collects>
;   #<path:/home/ben/racket/collects>) in: euler [,bt for context]
-> 
```

我应该将我的目录添加到收藏中吗？如果是这样，正确的方法是什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-04T13:17:39.037

试试这个：

```
(require "euler.rkt") 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-04T14:36:53.187

正如@soegaard 所提到的，除了仅使用路径之外，您还可以使用它[`raco link`](http://docs.racket-lang.org/raco/link.html?q=link)来为您的文件设置一个集合。

# ruby-on-rails - Carrierwave 上传到 ftp

> ID：10881909
> 
> 赞同：0
> 
> 时间：2012-06-04T13:09:02.027
> 
> 标签：ruby-on-rails, ftp, carrierwave

我一直在寻找允许我将存储类型设置为 :ftp 的 gem。

你通常如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-20T12:39:45.020

这可能有点晚了，但是，试试这个宝石：

[https://github.com/luan/carrierwave-ftp](https://github.com/luan/carrierwave-ftp)

# windows-phone-7 - 使用 Skydrive API 创建文件夹

> ID：10881921
> 
> 赞同：1
> 
> 时间：2012-06-04T13:09:28.627
> 
> 标签：windows-phone-7, onedrive

在 Windows Phone 7(.5) 应用程序中，我正在使用 Skydrive 并希望创建一个文件夹。

我如何（或在哪里可以找到 API）创建文件夹？到目前为止，我只找到了扫描和下载文件的示例。

我正在使用 LiveConnectClient。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-04T13:28:54.530

创建文件夹的直接链接（以多种语言提供示例，查找 [C# for Windows Phone 应用程序]：http: [//msdn.microsoft.com/en-us/library/live/hh826531#creating_folders](http://msdn.microsoft.com/en-us/library/live/hh826531#creating_folders)

SkyDrive API：http: [//msdn.microsoft.com/en-us/library/live/hh826521](http://msdn.microsoft.com/en-us/library/live/hh826521)

# php - 用于破折号的 PHP preg_replace 正则表达式

> ID：10881922
> 
> 赞同：6
> 
> 时间：2012-06-04T13:09:38.407
> 
> 标签：php, preg-replace

我正在尝试替换字符串中不是字母、数字或破折号“-”的任何内容。

如何修改此行以包含破折号？

```
$link = preg_replace('/[^a-z0-9]/', "", strtolower($_POST['link_name'])); 
```

我只是把它插进去吗？

```
$link = preg_replace('/[^a-z0-9-]/', "", strtolower($_POST['link_name'])); 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-04T13:12:36.130

您必须转义`-`，因为它是正则表达式的特殊字符：

```
$link = preg_replace('/[^a-z0-9\-]/', '', strtolower($_POST['link_name'])); 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-06-04T13:10:28.873

只需添加`-`到类的末尾 ( `[^a-z0-9-]`)。

`-`在课程结束时没有特殊含义。或者，用反斜杠转义它。

# sharepoint - 从 CEWP 按钮触发工作流

> ID：10881924
> 
> 赞同：0
> 
> 时间：2012-06-04T13:09:45.980
> 
> 标签：sharepoint, sharepoint-2010

我已经创建了一个站点工作流，现在我需要在单击内容编辑器 Web 部件 (CEWP) 中的按钮时手动触发它。如何从 CEWP 触发它？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T23:36:47.163

您不能使用 2010 客户端对象模型直接从 Javascript（在 CEWP 内部）启动工作流。但是您始终可以调用 Web 服务：

[https://www.nothingbutsharepoint.com/sites/eusp/Pages/4-clicks-or-1-using-jquery-to-start-a-sharepoint-workflow.aspx](https://www.nothingbutsharepoint.com/sites/eusp/Pages/4-clicks-or-1-using-jquery-to-start-a-sharepoint-workflow.aspx)

或使用 spservices

[http://spservices.codeplex.com/wikipage?title=StartWorkflow&referringTitle=Workflow](http://spservices.codeplex.com/wikipage?title=StartWorkflow&referringTitle=Workflow)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-07T13:39:21.130

我没有找到从 CEWP（使用 javascript）触发站点工作流的简单方法，所以我制作了一个自定义列表，以便在单击 CEWP 按钮时使用所需参数进行更新（[http://ishaalan.wordpress.com/2010/05/23/添加项目到共享点列表使用javascript/](http://ishaalan.wordpress.com/2010/05/23/adding-an-item-to-a-sharepoint-list-using-javascript/)）。并使列表工作流与该列表相关联，以便在添加新项目时触发。它解决了我的问题。感谢@dotsa 的回复。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-02-12T15:49:27.767

这可能会有所帮助：

[http://techtrainingnotes.blogspot.ch/2015/10/sharepoint-launch-site-workflow-from.html](http://techtrainingnotes.blogspot.ch/2015/10/sharepoint-launch-site-workflow-from.html)

它解释了如何将工作流附加到任何按钮。

# c - 如何打印来自另一个进程的信息？

> ID：10881930
> 
> 赞同：0
> 
> 时间：2012-06-04T13:10:02.940
> 
> 标签：c

我有一个流程`A`，我用`CreateProcess()`创建流程`B`。在`A`我使用`ReadProcessMemory()`and`WriteProcessMemory()`来读取/写入`B`.

现在我想在`B`through中打印一些东西`A`，我应该翻译`printf()`成 X86 并使用`WriteProcessMemory()`to write into `B`，还是有其他方法可以做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T13:17:10.923

我不知道 Windows 编程，但我在 MSDN 上看到`WriteProcessMemory()`将缓冲区复制到另一个进程。鉴于此，您只需将数据写入该缓冲区并在另一端读取它。

如果您需要格式化读写，您可以使用[`sprintf`](http://msdn.microsoft.com/en-us/library/ybk95axf%28v=vs.71%29.aspx)（或更好，`snprintf`）和[`sscanf`](http://msdn.microsoft.com/en-us/library/zkx076cy.aspx)写入缓冲区并从中读取。

# php - 查询系统适用于多个版本的结构？

> ID：10881931
> 
> 赞同：0
> 
> 时间：2012-06-04T13:10:04.803
> 
> 标签：php, api, versioning

我正在开发一个`SOAP` `API`in `PHP`. 这`API`应该能够处理多个接口版本。为此，我正在对数据结构进行版本控制，例如：

*   结构V1用户
*   结构V1组

……过了一段时间……

*   StructV2User
*   结构V2组

新数据结构不会覆盖旧数据结构。多个`API`接口版本应该同时工作。

在`API`接口的第一个版本中，操作如下所示：

```
User userGet(int id) 
```

它返回一个具有以下结构的对象：

```
User {
    int id;
    string username;
    int created;
    int updated;
} 
```

假设一段时间后，从结构中删除了一些属性并添加了其他属性（在此示例中操作签名没有改变）：

```
User {
    int id;
    string username;
    int updated;
    bool admin;
} 
```

因此，如果数据库更改并且该字段`created`不再存在，它应该是`null`。老客户应该检查空值。

**笔记：**

*   会有多个版本`API` `interface`
*   数据库随时间变化
*   每个版本都有自己的`URL`、自己的`WSDL`和自己的`proxy class`

**如何创建一个适用于多个版本结构的查询系统？**

**有什么已知的方法吗？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T13:10:04.973

*我的第一种方法是传递`callback`为每一行调用的函数并根据需要转换数据：*

这是入口点：

```
function userGet($id){
    return UserModel::getUserById($id, 'myCallback'); /* Query system */
} 
```

...在回调中：

```
function myCallback($dbRow){
    $row = new StructV1User;
    $row->id = (int) $dbRow['id'];
    $row->username = (string) $dbRow['username'];
    $row->created = (int) $dbRow['created'];
    $row->updated = (int) $dbRow['updated'];
    return $row;
} 
```

...对于 API 的第二个版本：

```
function userGet($id){
    return UserModel::getUserById($id, 'my2ndCallback'); /* Query system */
} 
```

...在回调中：

```
function my2ndCallback($dbRow){
    $row = new StructV2User;
    $row->id = (int) $dbRow['id'];
    $row->username = (string) $dbRow['username'];
    $row->updated = (int) $dbRow['updated'];
    $row->admin = (boolean) $dbRow['admin'];
    return $row;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T13:16:24.957

因为它是一个肥皂 Api，你不能在更新结构时给他们一个全新的 URL 吗？

# c# - 如何完全信任未签名的程序集？

> ID：10881936
> 
> 赞同：1
> 
> 时间：2012-06-04T13:10:34.487
> 
> 标签：c#, .net, security, .net-assembly, full-trust

我有一个程序集，在我自己的电脑上工作得很好，但是当我尝试在虚拟机上引用它时，我收到以下错误：

```
System.IO.FileNotFoundException: Could not load file or assembly 'X.dll' or one of its ependencies. The specified module could not be found.
File name: 'X.dll'
   at System.Reflection.RuntimeAssembly._nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, RuntimeAssembly locationHint, StackCrawlMark&stackMark, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks)
   at System.Reflection.RuntimeAssembly.nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, RuntimeAssembly locationHint, StackCrawlMark& stackMark, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks)
   at System.Reflection.RuntimeAssembly.InternalLoadAssemblyName(AssemblyName assemblyRef, Evidence assemblySecurity, StackCrawlMark& stackMark, Boolean forIntrospection, Boolean suppressSecurityChecks)
   at System.Reflection.RuntimeAssembly.InternalLoadFrom(String assemblyFile, Evidence securityEvidence, Byte[] hashValue, AssemblyHashAlgorithm hashAlgorithm,Boolean forIntrospection, Boolean suppressSecurityChecks, StackCrawlMark& stackMark)
   at System.Reflection.Assembly.LoadFrom(String assemblyFile)
   at kernelLoader.Program.Main(String[] args) 
```

我绝对确定该文件位于指定的位置，并且代码在我自己的机器上运行良好（它已被开发）。它与所有引用的程序集一起为 x86 平台编译。

我认为，该错误可能是由于程序集未被完全信任引起的。

我不能强唱程序集，因为它引用了几个程序集，这些程序集没有被唱过，而且我没有代码或修改的权利。

我怀疑有一种很好的方法可以让我运行它的机器上信任一个程序集。

如何将程序集标记为受信任，以便可以加载和执行它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T18:28:17.930

该异常通常是由缺少 dll 引起的。可以使用的一件事是 ProcMon。当丢失的 dll 被加载并出现错误时，文件名应该显示在 ProcMon.xml 中。

# sed - 如何在 awk 中模拟 `uniq -d`？

> ID：10881942
> 
> 赞同：3
> 
> 时间：2012-06-04T13:11:10.310
> 
> 标签：sed, awk, uniq

我有一个没有的busybox系统，`uniq`我想生成一个唯一的重复行列表。

一个普通的`uniq`模拟`awk`将是：

```
sort <filename> | awk '!($0 in a){a[$0]; print}' 
```

我如何使用`awk`（或`sed`就此而言，不是`perl`）来完成：

```
sort <filename> | uniq -d 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-04T13:36:50.377

在busybox 系统上，您可能需要保存字节。;-)

```
awk ++a[\$0]==2 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-04T13:14:31.533

可以这样做（不需要排序）：

```
awk '{++a[$0]; if(a[$0] == 2) print}' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T15:33:54.610

这可能对您有用：

```
# make some test data
seq 25 >/tmp/a
seq 3 3 25 >>/tmp/a
seq 5 5 25 >>/tmp/a
# run old command
sort -n /tmp/a | uniq -d
3
5
6
9
10
12
15
18
20
21
24
25
# run sed command 
sort -n /tmp/a | 
sed ':a;$bb;N;/^\([^\n]*\)\(\n\1\)*$/ba;:b;/^\([^\n]*\)\(\n\1\)*/{s//\1/;P};D' 
3
5
6
9
10
12
15
18
20
21
24
25 
```

# c# - 绑定文本框有光标的按钮内容

> ID：10881943
> 
> 赞同：0
> 
> 时间：2012-06-04T13:11:15.427
> 
> 标签：c#, wpf

我试图创建屏幕键盘。

![在此处输入图像描述](../Images/5068ce2f51f08bb9d7c26e87525b4646.png)

在这里我想绑定按钮内容，哪个文本框有光标。

```
public partial class current_cursor : Window
{
    public current_cursor()
    {
        this.InitializeComponent();     

    }

    private void btn_a_Click(object sender, RoutedEventArgs e)
    {
        txt_diplay_1.Text += btn_a.Content;
    }

} 
```

使用上面的代码，我只能在第一个文本框中绑定按钮内容。

但我无法在另一个文本框中绑定值。

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:27:35.060

这是 WPF 中的实现：

```
<TextBox Height="23" Margin="30,28,128,0" Name="textBox1" VerticalAlignment="Top" GotFocus="textBox1_GotFocus" />
<TextBox Height="23" Margin="58,86,100,0" Name="textBox2" VerticalAlignment="Top"  GotFocus="textBox2_GotFocus"/> 
```

**后端：**

```
 Control ctrl = null;
    private void button1_Click(object sender, RoutedEventArgs e)
    {
        if (ctrl != null)
        {
            TextBox tb = ctrl as TextBox;
            tb.Text += Convert.ToString(button1.Content);
        }
    }

    private void textBox2_GotFocus(object sender, RoutedEventArgs e)
    {
        ctrl = (Control)sender;
    }

    private void textBox1_GotFocus(object sender, RoutedEventArgs e)
    {
        ctrl = (Control)sender;
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T13:14:18.717

编写一个具有两个文本框作为参数的多值转换器，convert 方法返回活动文本框的值（具有焦点）

使用您刚刚编写的多值转换器绑定按钮内容。

# xpath - XPath 获取“可能存在”标签内的文本

> ID：10881944
> 
> 赞同：2
> 
> 时间：2012-06-04T13:11:23.290
> 
> 标签：xpath

我有一个 HTML，其中包含一些标签，如下所示：

```
<div id="SNT">text1</div>
<div id="SNT">text2</div>
<div id="SNT"><span style='color: #EFFFFF'>text3</span></div>
<div id="SNT"><span style='color: #EFFFFF'>text4</span></div> 
```

如何使用 XPath 获取所有标签中**包含**`text`的所有 s ？`<div>`

IE：

```
text1  
text2  
text3  
text4 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T13:15:59.410

**使用**：

```
//div[@id='SNT']//text() 
```

`div`这将选择作为 XML 文档中任何元素的后代的任何文本节点，该节点`id`具有字符串值为 string 的属性`"SNT"`。

如果要从此选择中排除纯空格文本节点，请使用：

```
//div[@id='SNT']//text()[normalize-space()] 
```

这类似于第一个 XPath 表达式，但现在每个选定的文本节点都必须满足一个附加谓词——即**[`normalize-space()`](http://www.w3.org/TR/1999/REC-xpath-19991116/#function-normalize-space)**函数在其字符串内容上的值是一个非空字符串。

`normalize-space()`仅当函数的参数是空字符串本身或由纯空格字符（空格、NL、CR 和 Tab）组成的字符串时，该函数的值才是空字符串。

# php - 循环并重新混合 $var

> ID：10881947
> 
> 赞同：1
> 
> 时间：2012-06-04T13:11:43.720
> 
> 标签：php, loops, foreach

我需要遍历所有 $usd、$aud 等并获取所有可能的货币汇率，例如`$usd:$aud $aud:$usd`，`$usd:$nzd - $nzd:$usd`

这是我正在使用的代码

```
<?php

$usd = 'USD'; # USA Dollar
$nzd = 'NZD'; #New Zealand Dollar 
$kwd = 'JPD'; #Japanese Dollar 
$gbp = 'GBP'; #UK Pound
$aud = 'AUD';

$url = 'http://finance.yahoo.com/d/quotes.csv?f=l1d1t1&s='.$gbp.$aud.'=X';
$handle = fopen($url, 'r');

if ($handle) {
    $result = fgetcsv($handle);
    fclose($handle);

}

echo '1 '.$aud.' is worth '.$result[0].' '.$usd.' Based on data on '.$result[1].' '.$result[2];

?> 
```

我需要做的是确保它考虑到所有不同的费率可以组合在一起的方式。

我的第一个想法是一段时间或一个循环，但我不确定。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T13:15:38.937

```
$currencies = array($used, $nzd, $kwd, $gbp, $aud);
foreach ($currencies as $from)
 foreach ($currencies as $to)
     if ($from != $to)
        // query api for conversion $from to $to 
```

# excel - 如何从命令行启动 Excel 宏（没有 Worksheet_Open 事件）？

> ID：10881951
> 
> 赞同：10
> 
> 时间：2012-06-04T13:11:54.337
> 
> 标签：excel, vba, cmd

是否可以从命令行启动 Excel 宏？

我不想使用该`Worksheet_Open`事件而只是打开 Excel 文件。

我需要启动 Excel 工作簿中存在的特定宏。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-04T14:02:37.797

使用 Windows PowerShell，它具有出色的 COM 互操作支持。

我的工作簿 c:\TestBeep.xlsm 带有一个名为“Test”的宏。这是我的成绩单：

```
PS C:\> $app = New-Object -comobject Excel.Application
PS C:\> $wb = $app.Workbooks.Open("c:\TestBeep.xlsm")
PS C:\> $wb.Name
TestBeep.xlsm
PS C:\> $app.Run("Test")
PS C:\> $app.Quit() 
```

您可以选择添加`$app.Visible = $True`以使窗口可见。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-06-05T08:45:46.700

我终于创建了一个 VB 脚本并从命令行启动它：

```
Option Explicit

    LaunchMacro

    Sub LaunchMacro() 
      Dim xl
      Dim xlBook      
      Dim sCurPath

      sCurPath = CreateObject("Scripting.FileSystemObject").GetAbsolutePathName(".")
      Set xl = CreateObject("Excel.application")
      Set xlBook = xl.Workbooks.Open(sCurPath & "\MyWorkBook.xlsm", 0, True)        
      xl.Application.Visible = True
      xl.Application.run "MyWorkBook.xlsm!MyModule.MyMacro"
      xl.DisplayAlerts = False      
      xlBook.saved = True
      xl.activewindow.close
      xl.Quit

      Set xlBook = Nothing
      Set xl = Nothing

    End Sub 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T19:23:43.337

[AutoIt](http://www.autoitscript.com/site)还提供强大的 COM 支持，并具有许多内置的 Excel 控制功能。您可以将脚本编译为 .EXE，然后从命令行运行它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-12-09T20:55:03.920

如果您希望使用 C# 编写代码，请使用此模板

```
void Main()
{
    var oExcelApp = (Microsoft.Office.Interop.Excel.Application)System.Runtime.InteropServices.Marshal.GetActiveObject("Excel.Application");
    try{
        //oExcelApp.Visible = true;
        var WB = oExcelApp.ActiveWorkbook;
        var WS = (Worksheet)WB.ActiveSheet;
        ((string)((Range)WS.Cells[1,1]).Value).Dump("Cell Value");
        oExcelApp.Run("test").Dump("macro");
    }
    finally{
        if(oExcelApp != null)
            System.Runtime.InteropServices.Marshal.ReleaseComObject(oExcelApp);
        oExcelApp = null;
   }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-09-13T00:52:34.863

谢谢！Mehdi 你的回答也对我有用，只需稍作调整。该行 `xl.Application.Visible = True`正在打开一个僵尸/幻像 EXCEL.EXE 进程使用内存（通过 Windows 任务管理器找到它）。改为使用`xl.Application.Visible = False`似乎可以消除僵尸。

# c# - C# - 什么是适用于 GetDevice 方法的选择源对话框？

> ID：10881954
> 
> 赞同：1
> 
> 时间：2012-06-04T13:12:08.477
> 
> 标签：c#, select, device, twain

我正在尝试使用如下描述的方法：

> ```
> public Device GetDevice(string productName) 
> ```
> 
> `productName`是出现在“选择源”对话框中的设备名称。

所指的“*选择源”对话框是什么？*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T13:36:32.200

正如此[链接](http://www.atalasoft.com/docs/dotimage/docs/Getting_Started_with_DotISIS.html)所提到的（查找“*显示“选择源”对话框*“标题），这是一个允许用户选择 ISIS 设备的对话框。它是DotImage 框架的[一部分](https://www.atalasoft.com/docs/dotimage/docs/Atalasoft.DotTwain~Atalasoft.Twain.Acquisition~ShowSelectSource.html)`ShowSelectSource`，使用如下方式调用和使用：

```
IsisDevice dev = null;
if (this.acquisition.ShowSelectSource(this)) dev = this.acquisition.Devices.Default; 
```

我猜这与`FolderBrowserDialog`. 用户选择他选择的设备，然后您可以使用他的选择来检索设备本身`GetDevice`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T13:36:05.547

我不得不使用谷歌找出你正在使用哪个库。

无论如何：打开 atalasoft[文档](https://www.atalasoft.com/docs/dotimage/docs/)，在那里，单击搜索，然后搜索“选择 AND 源 AND 对话框”。单击第二个点击“2：DotTwain 入门”并阅读“显示“选择源”对话框”

# android - Android 以固定时间间隔同步数据

> ID：10881969
> 
> 赞同：0
> 
> 时间：2012-06-04T13:13:02.480
> 
> 标签：android

我们如何在固定的时间间隔内同步android应用程序后台的数据。

# c# - Crystal Reports 数据不在同一行上，它是跳过行

> ID：10881976
> 
> 赞同：0
> 
> 时间：2012-06-04T13:13:53.813
> 
> 标签：c#, visual-studio, crystal-reports

我在主报告的页眉部分有如下水晶子报告：

分报告1：

```
Report Header    Label    Purchase      sales
Details Section  Field    purchase      sales 
```

显示结果为：

```
Purchase               sales

PURCHASE ACCOUNT                                   
                       SALES ACCOUNT 
```

上面的结果不在同一行它是跳过同一行的**销售字段**我希望它在与下面的同一行中。

```
Purchase                 sales
PURCHASE ACCOUNT         SALES ACCOUNT 
```

它有什么问题？为什么数据不在同一行中显示以及如何做到这一点？

不是我有销售金额和采购金额的运行总计字段。

# git - git push --force 默认

> ID：10881978
> 
> 赞同：3
> 
> 时间：2012-06-04T13:13:58.063
> 
> 标签：git

当我执行 a`git push`时，git 会在必要时自动执行强制更新，就好像我已经指定了`--force`选项一样。我很久以前就配置了这个。我不再想要这种行为，也找不到影响这种行为的配置变量。`.gitconfig`我在or`.git/config`文件中找不到任何相关内容。

编辑：添加了我当前的配置文件：

我的 .gitconfig：

```
[user]
    name = xxxx xxxx
    email = xxxx
[core]
    excludesfile = /Users/xxxx/.gitignore_global
[difftool "sourcetree"]
    cmd = opendiff \"$LOCAL\" \"$REMOTE\"
    path = 
[mergetool "sourcetree"]
    cmd = /Applications/SourceTree.app/Contents/Resources/opendiff-w.sh \"$LOCAL\" \"$REMOTE\" -ancestor \"$BASE\" -merge \"$MERGED\"
    trustExitCode = true 
```

本地仓库配置：

```
[core]
    repositoryformatversion = 0
    filemode = true
    bare = false
    logallrefupdates = true
    ignorecase = true
[remote "origin"]
    url = ssh://xxxx@xxxx.com/var/git/tw
    fetch = +refs/heads/*:refs/remotes/origin/*
    push = +refs/heads/*:refs/heads/*
[remote "AudioCopy"]
    url = /Users/xxxx/Src/AudioCopy/myacp
    fetch = +refs/heads/*:refs/remotes/AudioCopy/*
[submodule "Sources/iPhoneInterface/SoundCloud/CocoaSoundCloudAPI"]
    url = git://github.com/soundcloud/CocoaSoundCloudAPI.git
[submodule "Sources/iPhoneInterface/SoundCloud/CocoaSoundCloudUI"]
    url = git://github.com/soundcloud/CocoaSoundCloudUI.git
[submodule "Sources/iPhoneInterface/SoundCloud/JSONKit"]
    url = git://github.com/nxtbgthng/JSONKit.git
[submodule "Sources/iPhoneInterface/SoundCloud/OAuth2Client"]
    url = git://github.com/nxtbgthng/OAuth2Client.git
[submodule "Sources/iPhoneInterface/SoundCloud/OHAttributedLabel"]
    url = git://github.com/nxtbgthng/OHAttributedLabel.git
[branch "linux"]
    remote = origin
    merge = refs/heads/linux 
```

远程仓库配置：

```
[core]
    repositoryformatversion = 0
    filemode = true
    bare = true 
```

样品运行：

```
~/Src/tw % git push
Counting objects: 7, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 394 bytes, done.
Total 3 (delta 2), reused 0 (delta 0)
To ssh://xxxx@xxxx.com/var/git/tw
   26636fd..4247b2e  guile20 -> guile20
 + e80b72f...3578ee1 linux -> linux (forced update)
~/Src/tw % 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T13:31:14.733

从您的`[remote "origin"]`配置条目看来，您已经设置了镜像推送。如果这不是你想要的，我会完全摆脱这条线。如果您对镜像样式推送感到满意但不想强制（这对我来说没有多大意义），您希望从本地存储库配置部分`+`的推送行中删除前缀。`[remote "origin"]`

或者：

```
git config --unset remote.origin.push 
```

或者：

```
git config remote.origin.push 'refs/heads/*:refs/heads/*' 
```

取决于您做出的选择。

# javascript - 循环数组并与正则表达式进行比较

> ID：10881979
> 
> 赞同：1
> 
> 时间：2012-06-04T13:14:07.900
> 
> 标签：javascript, prototypejs

所以，我承认我有点 JS 菜鸟，但据我所知，这应该有效，但事实并非如此。

背景：

我有一个带有 3 个列表框的表单。列表框命名为 app1、db1 和 db2。我使用 javascript 来允许用户添加额外的列表框，增加每个额外选择框的名称标签。

当我添加其他应用程序命名框时，每个附加字段的值都会正确递增。如果我尝试添加名为 selects 的附加 db，它无法通过数组识别第一个循环中的第二个标签。这导致我最终得到 2 个名为 db2 的元素。在每个后续标签上，它都被正确识别并正确递增。

这是 db1 标记的 HTML：

```
<select name="db1">
  *options*
</select> 
```

和 db2：

```
<select name="db2">
  *options*
</select> 
```

标签是相同的。这是我用来计算序列中下一个数字的函数（注意：标签是 app 或 db，标签是 DOM 中所有选择标签名称的数组，如果我检查标签，它会给我`['app1', 'db1', 'db2', '']`）：

```
function return_select_name(tag, tags) {
  matches = new Array();
  var re = new RegExp(tag + "\\d+", "g");
  for (var i = 0; i < tags.length; i++) {
    var found = re.exec(tags[i]);
    if (found != null) {
      matches.push(found[0]);
    }
  }
  matches = matches.sort();
  index = parseInt(/\d+/.exec(matches.last())) + 1;
  index = tag + index;
  return index;
} 
```

如果我添加一个应用程序标签，它将返回“app2”。如果我搜索一个 db 标签，它会在第一次返回“db2”，第二次返回 db3，等等。

所以基本上，我确定我在这里做错了什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T13:23:58.877

我会通过为 db 保留一个计数器和一个用于应用程序生成名称的计数器来处理它。

```
var appCounter = 1;//set this manually or initialize to 0 and
var dbCounter = 2;//use your create function to add your elements on pageload 
```

然后，当您创建下一个标签时，只需增加您的计数器并将其用作您名字的后缀：

```
var newAppElement = document.createElement('select');
newAppElement.name = 'app' + (++appCounter);
..

//  --OR for the db element--

var newDbElement = document.createElement('select');
newDbElement.name = 'db' + (++dbCounter );
.. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T13:40:24.430

您遇到的问题是正则表达式对象是有状态的。您可以通过将正则表达式创建放入循环中来修复您的程序。

```
function return_select_name(tag, tags) {
  matches = new Array();
  // <-- regex was here
  for (var i = 0; i < tags.length; i++) {
    var re = new RegExp(tag + "\\d+", "g"); //<--- now is here
    var found = re.exec(tags[i]);
    if (found != null) {
      matches.push(found[0]);
    }
  }
  matches = matches.sort();
  index = parseInt(/\d+/.exec(matches[matches.length-1])) + 1; //<--- I dont think matches.last is portable, btw
  index = tag + index;
  return index;
} 
```

无论如何，如果我自己这样做，我可能更愿意避免复杂的文本匹配，而只是将下一个标签索引存储在变量或哈希映射中。

* * *

另一个建议：如果你在你的正则表达式中加上括号：

```
// /tag(\d+)/
var re = new RegExp(tag + "(\\d+)", "g"); 
```

然后，您可以使用`found[1]`直接获取您的号码，之后无需额外步骤。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T13:58:17.307

我知道这已经得到了回答，但我把它放在一起作为概念证明。

[http://jsfiddle.net/zero21xxx/LzyTf/](http://jsfiddle.net/zero21xxx/LzyTf/)

它是一个对象，因此您可以在不同的场景中重用它。显然有一些方法可以改进它，但我认为它很酷，所以我想我会分享。

`console.debug`唯一适用于 Chrome 和 FF 的。

# javascript - 在 MiniPhotoshop 项目中一起使用 BackboneJS 和 JQuery 插件架构

> ID：10881980
> 
> 赞同：0
> 
> 时间：2012-06-04T13:14:14.200
> 
> 标签：javascript, jquery, jquery-ui, backbone.js

我对 BackboneJS 比较陌生。对于迄今为止使用纯 JSON 的人来说，这是令人兴奋的事情。:) 我习惯于设计 JQuery 小部件和插件来封装逻辑/表示。Backbone 的 MV* 方法似乎更加灵活。

我正在为工作重新设计一个“迷你Photoshop”项目。一个 javascript/html 页面，您可以在其中添加标签、图像、按钮等元素，更改它们的属性，拖放它们并更改它们的 z-index 等。

我采用了一种方法，即拥有一个代表绘图的元素的 Backbone 集合。我想使用一个 jquery 插件来在我想要的每个页面中创建这个工作区。

所以我可以做类似的事情：

```
$('.wrapper').miniPhotoshop({
  elements:elements, // BB collection
  painter:painter    // an object that knows how to draw 
```

});

画家与插件分离，因此我可以轻松更改绘制集合的方式。

所以这里的对象是：

*   miniPhotoshop - 一个获取 BB 集合的 jquery 插件
*   画家 - 由知道如何绘制元素的方法组成的对象。
*   propertyBox - 一个 jquery 小部件，当单击元素时显示其属性。

我的问题是这个 jquery-backbone 沙拉有什么意义吗？

抱歉，如果这是一个开放式问题，只是希望有人以前尝试过类似的事情并能够指出我正确的方向。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T13:19:21.217

我不关心其他人，但我不会将 jQuery 用于您的应用程序的结构。我认为 Backbone 非常适合构建代码，而 jQuery 非常适合玩 dom。

我的方法是使用 Backbone 视图来控制您的 App 和 jQuery 的流程来玩/操作 Backbone 视图中的 dom。

# java - 通过 Java 的 SFTP 连接要求奇怪的身份验证

> ID：10881981
> 
> 赞同：47
> 
> 时间：2012-06-04T13:14:14.680
> 
> 标签：java, sftp, kerberos, jsch

所以我正在写一个小程序，需要通过SFTP连接到远程服务器，拉下一个文件，然后处理这个文件。我在这里通过一些答案遇到了 JSch，它看起来非常适合这项任务。到目前为止，易于使用并且我已经让它工作了，我想修复一件小事。我正在使用以下代码连接并拉下文件：

```
 JSch jsch = new JSch();
    Session session = null;
    try {
        session = jsch.getSession("username", "127.0.0.1", 22);
        session.setConfig("StrictHostKeyChecking", "no");
        session.setPassword("password");
        session.connect();

        Channel channel = session.openChannel("sftp");
        channel.connect();
        ChannelSftp sftpChannel = (ChannelSftp) channel;
        sftpChannel.cd(REMOTE_FTP_DIR);
        sftpChannel.lcd(INCOMING_DIR);
        sftpChannel.get(TMP_FILE, TMP_FILE);
        sftpChannel.exit();
        session.disconnect();
    } catch (JSchException e) {
        e.printStackTrace();
    } catch (SftpException e) {
        e.printStackTrace();
    } 
```

所以这行得通，我得到了文件。我在 linux 服务器上运行此代码，当我运行代码时，JSch 会询问我的 Kerberos 用户名和密码。看起来像：

Kerberos 用户名 [乔治]：

乔治的 Kerberos 密码：

我对这两个问题都按了 Enter 键，然后程序似乎继续运行，没有任何问题。但是，我需要通过 cron 任务自动执行此代码，因此我不想让它暂停程序来问我这两个问题。有什么我没有提供的，所以它不会问这个吗？我需要做些什么来阻止它问？希望有人有一些想法。谢谢。

* * *

## 回答 #1

> 赞同：85
> 
> 时间：2012-06-04T17:24:31.270

以为我会在这里发布答案，因为以防其他人最终遇到类似问题。原来我错过了一段让一切变得不同的代码。我只需要添加

```
session.setConfig("PreferredAuthentications", 
                  "publickey,keyboard-interactive,password"); 
```

前

```
session.connect(); 
```

现在一切正常。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2017-04-20T07:31:02.530

*虽然自我接受的答案中的解决方案是正确的，但它缺乏任何解释。*

问题是 OP 将 Kerberos/GSSAPI 身份验证设置为首选（JSch 默认值）。然而 OP 似乎并没有真正使用/想要它，因为 OP 声称没有为 Kerberos 提示指定任何用户名或密码。

*当 Kerberos 安装在客户端 PC 上或服务器开始支持 Kerberos 时，此问题可能会自发出现。*

解决方案是从 JSch 中的首选身份验证方法列表中删除 Kerberos/GSSAPI ( `gssapi-with-mic`)：

```
session.setConfig(
    "PreferredAuthentications", "publickey,keyboard-interactive,password"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-09-25T16:09:26.960

所有答案都是正确的，我将在此处添加尝试与 SFTP 服务器集成时 Spring Integration 可以完成的方式。

因此，如果您使用的是 SFTP Spring Integration，并且 Kerberos 的奇怪用户和密码会以与 OP 要求相同的方式进行提示。

然后修改您的 Spring 配置（我使用的是 Java Spring Integration 配置，如果您使用的是 XML 配置，您可以尝试自己翻译它 - 我真的不喜欢 XML 配置：P）：

因此，在您用作 SessionFactory 的 bean 中，您需要在配置中添加此更改：

```
@Bean
public SessionFactory<LsEntry> sftpSessionFactory() {
    DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);
    factory.setHost("hostname");
    factory.setPort(22);
    factory.setUser("username");
    factory.setPassword("superstrongpassword");
    factory.setAllowUnknownKeys(true);
    factory.setSessionConfig(buildSessionProperties());
    return new CachingSessionFactory<>(factory);
}

/**
 * Build JSch property PreferredAuthentications without "gssapi-with-mic"
 * This way it won't prompt for Kerberos authentication every time it tries to connect
 * to the SFTP.
 */
private Properties buildSessionProperties() {
    Properties sessionProperties = new Properties();
    sessionProperties.setProperty("PreferredAuthentications", "publickey,keyboard-interactive,password");
    return sessionProperties;
} 
```

# sql - 如果不存在，则获取每个日期的值，然后取上一个上次更新的值

> ID：10881982
> 
> 赞同：1
> 
> 时间：2012-06-04T13:14:15.193
> 
> 标签：sql, database, relational

我有一个表，其中有列 EmployeeID、AccountID、更新日期。每行都有帐户数据，如果它在日期发生变化。如果没有变化，那么在该日期没有该 AccountID 的记录。例子

```
EmployeeID  AccountID      UpdatedDate
1775    1   2010-12-04 00:00:00.000
1775    1   2010-08-13 23:59:59.000
1775    1   2010-08-13 00:00:00.000
1775    2   2010-12-04 00:00:00.000
1775    3   2010-12-04 00:00:00.000
1775    4   2010-12-04 00:00:00.000
1775    5   2010-12-04 00:00:00.000
1775    6   2010-12-04 00:00:00.000
1775    7   2010-12-04 00:00:00.000
1775    7   2010-06-29 23:59:59.000 
```

我必须每天为每个人获取每个帐户的价值。如果当天没有值，则应根据最大更新日期值取前一天的最后更新值。并显示结果

```
EmployeeID,Date, Values of each account.
1775;20120307;45;0;0;0;0;0;0;0;0;0;0;504;0;0;25.0;0.0;0.0;0.0;0.0;0.0;0.0;100;;;;; 
```

谁能帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T13:17:15.720

您可以创建一个日期表并对其进行左连接，或者按照此处所述动态创建日期：[从日期范围生成天数](https://stackoverflow.com/questions/2157282/generate-days-from-date-range/2157776#2157776)

# android - 在ImageView android中缩放图像的一部分

> ID：10881989
> 
> 赞同：1
> 
> 时间：2012-06-04T13:14:33.757
> 
> 标签：android, android-imageview

我需要缩放 imageView 的一部分（比如从 x 到 y），而不是整个图像。setscaleType() 函数恰好适用于整个图像而不是特定部分。请让我知道是否有办法在android中做到这一点。

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T13:16:51.447

您可以通过两种方式实现它。

1.  创建图像的单独部分（photoshop）
2.  创建新的位图（矩形）并将其绘制在新的 Canvas 上并使用它。

我更喜欢你选择 2 选项。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T21:36:01.713

看一眼

> public static Bitmap [createBitmap](http://developer.android.com/reference/android/graphics/Bitmap.html#createBitmap%28android.graphics.Bitmap,%20int,%20int,%20int,%20int,%20android.graphics.Matrix,%20boolean%29)（位图源，int x，int y，int width，int height，Matrix m，布尔过滤器）

自：API 级别 1

从源位图的子集中返回一个不可变的位图，由可选矩阵转换。它以与原始位图相同的密度进行初始化。

**参数**

```
 source  The bitmap we are subsetting
    x   The x coordinate of the first pixel in source
    y   The y coordinate of the first pixel in source
    width   The number of pixels in each row
    height  The number of rows
    m   Optional matrix to be applied to the pixels
    filter  true if the source should be filtered. Only applies if the matrix contains more than just translation. 
```

**退货**

```
A bitmap that represents the specified subset of source 
```

* * *

您还可以[裁剪 image-in-android 的特定部分，](http://www.coderzheaven.com/2011/03/15/crop-an-image-in-android/)然后使用 createBitmap 格式化新裁剪的图像。

* * *

## 使用 createBitmap 的示例：

```
public class bitmaptest extends Activity {
    @Override
    public void onCreate(Bundle icicle) {
        super.onCreate(icicle);
        LinearLayout linLayout = new LinearLayout(this);

        // load the origial BitMap (500 x 500 px)
        Bitmap bitmapOrg = BitmapFactory.decodeResource(getResources(),
               R.drawable.ic_launcher);

        int width = bitmapOrg.getWidth();
        int height = bitmapOrg.getHeight();
        int newWidth = 200;
        int newHeight = 200;

        // calculate the scale - in this case = 0.4f
        float scaleWidth = ((float) newWidth) / width;
        float scaleHeight = ((float) newHeight) / height;

        // createa matrix for the manipulation
        Matrix matrix = new Matrix();
        // resize the bit map
        matrix.postScale(scaleWidth, scaleHeight);
        // rotate the Bitmap
        matrix.postRotate(45);

        // recreate the new Bitmap
        Bitmap resizedBitmap = Bitmap.createBitmap(bitmapOrg, 0, 0,
                          width, height, matrix, true);

        // make a Drawable from Bitmap to allow to set the BitMap
        // to the ImageView, ImageButton or what ever
        BitmapDrawable bmd = new BitmapDrawable(resizedBitmap);

        ImageView imageView = new ImageView(this);

        // set the Drawable on the ImageView
        imageView.setImageDrawable(bmd);

        // center the Image
        imageView.setScaleType(ScaleType.CENTER);

        // add ImageView to the Layout
        linLayout.addView(imageView,
                new LinearLayout.LayoutParams(
                      LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT
                )
        );

        // set LinearLayout as ContentView
        setContentView(linLayout);
    }
} 
```

# mysql - MySQL中带有Order By子句的Rank函数

> ID：10881990
> 
> 赞同：9
> 
> 时间：2012-06-04T13:14:36.657
> 
> 标签：mysql, oracle, window-functions, rank

这个（Oracle）SQL怎么可能：

```
select a.*, rank() over (partition by a.field1 order by a.field2 desc) field_rank
from table_a a
order by a.field1, a.field2 
```

被翻译成MySQL？

[这个问题](https://stackoverflow.com/questions/3333665/mysql-rank-function)似乎很相似，但在基本查询的末尾没有 Order By。另外，按分区字段排序是否重要？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-04T13:48:20.833

根据您提供的链接，它应该如下所示：

```
SELECT    a.*,
( 
            CASE a.field1 
            WHEN @curType 
            THEN @curRow := @curRow + 1 
            ELSE @curRow := 1 AND @curType := a.field1 END
          ) + 1 AS rank
FROM      table_a a,
          (SELECT @curRow := 0, @curType := '') r
ORDER BY  a.field1, a.field2 desc; 
```

根据您提供的链接中的示例，这里有 2 个小提琴，一个用于 oracle，一个用于 mySql：

1.  [甲骨文](http://sqlfiddle.com/#!4/26e10/3)
2.  [mysql](http://sqlfiddle.com/#!2/26e10/9)

# c# - 将多行与 SQL Server 2008 中的一行进行比较

> ID：10881995
> 
> 赞同：1
> 
> 时间：2012-06-04T13:15:02.010
> 
> 标签：c#, asp.net, sql-server-2008

我有一个 asp.net C# 项目，用于研究案例“大学网站”

我有一个名为的表`Agenda`，它包含 9 列

```
[AgendaId]   uniqueidentifier
[MatirelId]
[InstructorId]
[ClassId]
[AddedDate]
[Semester]
[StartTime]
[EndTime]
[DaySchedule] 
```

它显示了可用的材料，哪个讲师，在哪几天，什么时候开始和结束，在哪个班级，在同一学期。

我需要什么：当我添加新行时，我应该检查它是否与现有行重叠。如果它有重叠，给我一个错误。

PS：instructorId、MatirelId 和 ClassId 是其他表的外键。

更喜欢在 SQL Server 2008 的存储过程中创建它。

亲切和最诚挚的问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T13:27:50.647

假设**所有**列都必须匹配重复 - 那么你会使用这样的东西：

```
CREATE PROCEDURE dbo.InsertNewRow 
    @AgendaId      uniqueidentifier.,
    @MatirelId     int,   -- you did not mention what *types* those columns have - adapt as needed!
    @InstructorId  int,
    @ClassId       int,
    @AddedDate     datetime,
    @Semester      int
    @StartTime     time(7),
    @EndTime       time(7),
    @DaySchedule   int
AS BEGIN
   IF EXISTS (SELECT * FROM dbo.Agenda 
              WHERE MatirelId = @MatirelId
                AND InstructorId = @InstructorId
                AND ClassId = @ClassId
                AND Semester = @Semester
                AND StartTime = @StartTime
                AND EndTime = @EndTime
                AND DaySchedule = @DaySchedule)
        RAISERROR .......
        RETURN

   INSERT INTO dbo.Agenda(AgendaId, MatirelId, InstructorId, ClassId, 
                          AddedDate, Semester, StartTime, EndTime, DaySchedule)
   VALUES(@AgendaId, @MatirelId, @InstructorId, @ClassId, 
          @AddedDate, @Semester, @StartTime, @EndTime, @DaySchedule)
END 
```

阅读[优秀的 MSDN 文档](http://msdn.microsoft.com/en-us/library/ms178592.aspx)，了解如何准确调用`RAISERROR`以从存储过程中引发错误！

# python - “x in []”与“x in {}”的搜索时间

> ID：10881997
> 
> 赞同：1
> 
> 时间：2012-06-04T13:15:22.233
> 
> 标签：python, search, optimization, python-2.2

我遇到了一个问题，我必须通过代理日志来查看用户是否访问过网站列表。

我编写了一个小脚本来读取所有代理日志，将访问的主机与列表进行匹配：

```
for proxyfile in proxyfiles:
    for line in proxyfile.readlines():
        if line[4] in hosts_list:
            print line 
```

hosts_file 很大，我们正在谈论约 10000 个主机，我注意到搜索花费的时间比预期的要长。

我写了一个小测试：

```
import random, time
test_list = [x for x in range(10000)]
test_dict = dict(zip(test_list, [True for x in range(10000)]))

def test(test_obj):
 s_time = time.time()
 for i in range(10000):
  random.randint(0,10000) in test_obj
 d_time = time.time() - s_time
 return d_time

print "list:", test(test_list)
print "dict:",test(test_dict) 
```

结果如下：

```
list: 5.58524107933
dict: 0.195574045181 
```

所以，对于我的问题。是否可以以更方便的方式执行此搜索？创建列表的字典似乎是一种 hack，因为我想搜索它们的键而不是它包含的值。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-04T13:20:27.693

*“因为我想搜索它们的键而不是它包含的值”* =>然后只需使用`set`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-04T13:42:32.743

我同意你应该为这样的事情使用字典，设置在更新的 python 上，如果你的应用程序可能的话，考虑移动到比 2.2 更新的 python。

但是，如果您的列表是按排序顺序排列的，您可以使用 bisect 模块快速搜索列表以查找元素。没有字典那么快，但非常接近。

```
import random, time
import bisect

class BisectContainsList(list):
    def __contains__(self, elem):
        i = bisect.bisect_left(self, elem)
        if i != len(self) and self[i] == elem:
            return True
        return False

test_list = [x for x in range(10000)]
test_dict = dict(zip(test_list, [True for x in range(10000)]))
test_blist = BisectContainsList(test_list)

def test(test_obj):
 s_time = time.time()
 for i in range(10000):
  random.randint(0,10000) in test_obj
 d_time = time.time() - s_time
 return d_time

print "list:", test(test_list)
print "dict:", test(test_dict)
print "blist", test(test_blist) 
```

对于（在 2.7 上测试）：

```
list: 1.19566082954
dict: 0.0248260498047
blist 0.0598628520966 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-04T13:47:02.537

如果您的列表已排序，您可以使用`bisect`带有此辅助功能的模块：

```
def sorted_list_contains(alist, item):
    i = bisect.bisect_left(alist, item)
    return i != len(alist) and alist[i] == item 
```

**编辑：**`bisect`当我发布这个时，我没有看到马特安德森的答案。我将把它作为替代实现。

# java - java中的等效方法（numpy.random.normal（mean，var））

> ID：10881998
> 
> 赞同：2
> 
> 时间：2012-06-04T13:15:24.770
> 
> 标签：java, normal-distribution

java中是否有任何方法等效于`numpy.random.normal(mean,variance)`.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-04T13:30:55.183

您可以使用`java.util.Random`该类：

```
Random r = new Random();
double randomValue = mean + r.nextGaussian()*std_dev; 
```

注意，如果需要多个随机值，可以`r`多次使用。您还可以为构造函数提供特定的种子`Random r = new Random(1234);`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-04T13:31:56.137

我猜您想从高斯分布中获取随机样本。

您可以为此使用 java.util.Random 类：

```
private double getGaussian(double mean, double variance){
      return mean + new Random().nextGaussian() * variance;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T13:32:52.250

试试[这个](http://mallet.cs.umass.edu/api/cc/mallet/util/Randoms.html#nextGaussian%28double,%20double%29)[`Random.getGaussian()`](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Random.html#nextGaussian%28%29) _

# android - 我如何检测到有代码运行的 VOIP 呼叫？

> ID：10881999
> 
> 赞同：2
> 
> 时间：2012-06-04T13:15:37.350
> 
> 标签：android, voip, microphone

嗨，我有一个应用程序在后台服务中使用 WiFi 传输大量数据，我想要的是当有 VOIP 呼叫时我想停止此服务。

我如何检测何时有 VOIP 呼叫？我曾认为我可以查看外部麦克风是否正在使用并且没有 GSM 通话，但我不知道如何检测外部麦克风是否正在使用中。我所发现的只是如何像这样使用麦克风，`myAudioRecord.startRecording();`我想检测它是否已经在使用。有人可以帮我吗？如果有任何更好的想法来检测 VOIP 呼叫，我将不胜感激。提前致谢