# StackOverflow 问答 11095000-11095999

# javascript - 与在异步回调链中使用 try catch 块相比，返回异常有什么优势？

> ID：11095003
> 
> 赞同：3
> 
> 时间：2012-06-19T05:39:57.940
> 
> 标签：javascript, error-handling, try-catch, twisted, deferred

在查看了[Twisted 的`Deferred`类](http://twistedmatrix.com/documents/current/core/howto/defer.html "扭曲的文档：延迟参考")和[HeavyLifters Deferred Library](https://github.com/heavylifters/deferred-js "举重者/延迟-js")之后，我注意到如果先前的结果值是`Failure`该类的实例，则会触发 errbacks。这让我开始思考：是否有任何特殊原因返回一个特殊对象来表示错误，而不是仅仅抛出一个错误。

根据我的推断，我觉得最好抛出错误，因为：

1.  可以抛出任何值。
2.  如果抛出的值没有被捕获，它会向上传播调用堆栈。
3.  不需要特殊`Failure`或`Error`课程。
4.  它使回调看起来更像同步代码。
5.  可以在调用堆栈的任何级别处理异常。

我注意到的一些缺点是：

1.  尝试代码块并捕获错误可能会导致代码性能下降。
2.  如果未捕获到异常，则它会停止执行回调链的其余部分。
3.  与使用 try catch 块相反，异步编程是必不可少的。

我正在尝试权衡可能性并找出哪种报告错误的方法更适合这种情况。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T12:46:30.873

Twisted 中的`Failure`类有许多方便的方法，使其有用，独立于`Deferred`运行错误处理回调的功能。浏览 API 文档，您会发现有用的方法，例如格式化回溯和检查异常类型。 `Failure`也是一个方便的地方，可以放置一些非常严重的黑客，以便与生成器很好地集成，`twisted.internet.defer.inlineCallbacks`并为 Cython 生成特殊的支持代码，这些代码会产生微妙的不同异常。

`Failure`也是将回溯状态与异常保持在一起的好地方。Python异常通常不携带堆栈信息，所以如果你只有一个异常，你是找不到它在哪里引发的。每当您想要处理`except`捕获它的块之外的异常时，这可能是一个主要缺点。

最后，能够返回 a`Failure`启用了这个简单、常用的模式：

```
def handleOneErrorCase(reason):
    if not thisCaseApplies(reason):
        return reason

    handleThisCase(reason)

someDeferred.addErrback(handleOneErrorCase) 
```

这经常出现在`Deferred`-using 代码中。它很方便，恰好在 CPython 上性能更高一些，并且还具有`reason`保留原始堆栈信息的优点（如果错误处理程序重新引发异常，则该*位置*的堆栈将替换原始堆栈，掩盖异常的原始原因）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T05:49:52.973

错误通常在异步环境中通过回调返回，因为无法在异步函数之外捕获错误。例如，如果您尝试在 javascript 中：

```
try {
    setTimeout(function() { throw new Error(); }, 0);
} catch (e) {
    console.log('Caught it.');
} 
```

然后异常将不会被捕获。这与异步函数被重新注册，然后由不同堆栈中的事件循环调用的事实有关，因此异常不会在原始堆栈中冒泡。

# html - 使用 CSS 居中浮动、无宽度的 div

> ID：11095004
> 
> 赞同：2
> 
> 时间：2012-06-19T05:39:59.370
> 
> 标签：html, css

[您可以在http://jsfiddle.net/vW45s/](http://jsfiddle.net/vW45s/)看到我的目标。具有两行文本的中心 div，以及与中心 div 底部的文本相邻的左右文本。

我希望文本以页面为中心（主要的“hello world”或第二行）。现在我正在使用带有指定`width`and的外部 div `margin: auto`。如果宽度过大，文字不会显得居中；如果内部文本的宽度太小，则会堆叠 div：http: [//jsfiddle.net/vW45s/1/](http://jsfiddle.net/vW45s/1/)。

有没有更好的方法将这三个浮动 div 居中，同时仍然让左右文本与中心 div 的第二行对齐？

任何提示将不胜感激。CSS 不是我的强项，但我正在学习。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T19:37:00.753

浮动和居中不能很好地混合。为了能够居中，浏览器必须能够确定元素的宽度。要确定它的宽度，它需要知道其他 float 的宽度`div`。它们的宽度取决于要居中的元素的宽度。

您有以下选择：

1.  尝试在不指定大小的情况下使其工作。这可能是可能的。准备好花一两天时间让它在 Firefox 和 Chrome 上运行，然后用一周时间在 IE 中修复它。;)

2.  `div`为所有三个s分配一个宽度

3.  使用绝对定位而不是浮动。将中心列设为 100% 宽，然后将侧列移动到它前面（一个左边用`left: 0`，另一个右边用`right: 0`；两者都需要一个确定的宽度）。这一直有效，直到您开始过多地调整浏览器窗口的大小（并且侧栏开始与中心重叠）。

4.  使用`table`or`display: table-cell`因为表格单元格知道它们的兄弟姐妹的宽度而不会浮动。这意味着您可以为两侧列分配宽度，然后让内列增长。

PS：是的，我知道桌子不好的神话。这个神话是一个粗略的简化。`div`如果您可以使用两个s 和一些智能 CSS获得相同的结果，那么嵌套 500 个表来获得您想要的设计是很糟糕的。但这并不意味着您根本不能使用表格。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T19:07:30.673

您是否尝试过将 div 添加`width: 33%`到左侧、右侧和中心 div 中`text-align: center`？

# iphone - NSManagedObject 类对象可以用作模型吗？

> ID：11095005
> 
> 赞同：4
> 
> 时间：2012-06-19T05:40:00.507
> 
> 标签：iphone, objective-c, ios, core-data

在选择是直接使用 NSManagedObjet 类对象作为模型还是为模型创建单独的类并创建数据映射器以将数据从这些模型类映射到 NSManagedObject 类对象时，我有点困惑。使用 Core Data 对象作为模型有什么害处吗？两种方法的优缺点是什么？

提前致谢，

问候，

tek3

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T06:19:29.583

我读了你的问题，我认为你不是在问是直接使用 NSManagedObject 还是子类化 NSManagedObject，而是你是否应该将你的模型作为单独的类，通过你自己编写的显式方法使用 Core Data。

Core Data 旨在充当应用程序的模型层。我没有看到拥有自己的模型类、为它们编写接口并在幕后在核心数据中实现它有任何真正的好处，除非你真的需要在某个时候完全放弃核心数据的自由。

我建议您将模型类创建为 NSManagedObject 的子类。您可以自由地以任何您认为必要的方式扩展它们，超出核心数据为您提供的功能，但同时您的模型类将充分受益于核心数据框架：故障、缓存、数据完整性保证、级联删除等。 ..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:03:42.347

如果您只使用`NSManagedObject`，在引用属性和关系时，您将无法享受方便的“dot.notation”。

此外，您将必须检索所有值`valueForKey`并将其设置为`setValueForKey`后跟字符串。这可能非常容易出错和繁琐，并且生成的代码几乎不像点符号那样可读。

最后，在您的对象类中，您可以实现各种附加功能。否则你会把这段代码放在哪里？记住有助于生成独立和可重用代码的*封装原则。*

# imagemagick - 使用 ImageMagick 命令行在现有图像之上添加图像

> ID：11095007
> 
> 赞同：10
> 
> 时间：2012-06-19T05:40:18.930
> 
> 标签：imagemagick

我想使用 imagemagick 命令行向现有图像添加一系列图像。

*   我有这张图片：[http](http://tinypic.com/r/313386r/6) ://tinypic.com/r/313386r/6和
*   我想将此添加到此：[http ://tinypic.com/r/k0jbqs/6](http://tinypic.com/r/k0jbqs/6)
*   或多或少地获得这种效果：[http](http://tinypic.com/r/wtja74/6) ://tinypic.com/r/wtja74/6 。

如您所见，这不仅仅是添加图像。我找到了[http://www.imagemagick.org/Usage/compose/](http://www.imagemagick.org/Usage/compose/)在那里我可以看到一些例子，但我需要的是填充每个“块”。

我有每个块开始和结束的确切位置，我也有一个缩放参数来缩小它。

我想我可以用

```
composite -geometry +31+105  toadd.gif source.gif  newfile.jpg 
```

但这只是添加了一张图片，我需要按比例缩小它。

我想知道我是否可以创建某种矩形并用我的图像填充它们。

知道如何解决吗？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-06-19T15:58:15.270

转换会更好，因为您可以继续添加具有合成或图层的图像。

这是一个非常粗略的例子，我可能会从一段较长的墙开始，这样你可以在调整大小时裁剪它。仍然需要相当多的用户输入来修复位置，因为我认为您并不总是在相同长度的情况下拥有相同数量的墙壁。我会编写一些代码来将详细信息输入到表单中，因为这比每次更改代码更容易。

```
convert k0jbqs.jpg \
   ( 313386r.png -thumbnail x25 ) -gravity west   -geometry  +0+30 -composite \
   ( 313386r.png -thumbnail x25 ) -gravity center -geometry +80+30 -composite \
   ( 313386r.png -thumbnail x25 ) -gravity east   -geometry  +0+30 -composite \
   output.png 
```

您需要换行，我刚刚添加了这些以使代码可读。

注意：缩略图调整砖图像的大小；你可以忘记重力，只使用 -geometry ，数字是左上角的位置， -composite 将新图像放在前一个图像上。

# javascript - 如何增加书的大小——翻页

> ID：11095010
> 
> 赞同：0
> 
> 时间：2012-06-19T05:40:59.093
> 
> 标签：javascript, jquery, css, flip

我的电子书有问题（[MOLESKINE NOTEBOOK WITH JQUERY BOOKLET](http://tympanus.net/codrops/2010/12/14/moleskine-notebook/)），您可以在下面的[演示](http://www.centerwow.com/fiverr/MoleskineNotebook1/)中看到它在一些变化后的样子：我想控制参数以增加书的大小。并且看书是[这样](http://www.centerwow.com/stackoverflow/MoleskineNotebook1/images/BrideAfter.jpg)的： 取而代之的是：[这个](http://www.centerwow.com/stackoverflow/MoleskineNotebook1/images/BrideBefore.jpg) 我玩的参数宽度和高度需要另一个参数，宽度和高度不够。因为它不能按比例增加书只部分破坏了书的形式谢谢大家的任何提示或方向更接近解决。

# windows - 在 Windows azure 中托管我的应用程序是否正确？

> ID：11095012
> 
> 赞同：2
> 
> 时间：2012-06-19T05:41:35.737
> 
> 标签：windows, azure

朋友们。我是 Windows azure 概念的新手。只是我想知道我们是否可以使用 sql server 2008 托管我在 Visual Studio 2010 中开发的 asp.net 应用程序，还是我需要在 Windows azure 环境中开发我的应用程序？

ii)。他们是否同时提供托管和存储？

如果是这样，作为初学者实施它的步骤是什么？

请任何人提出一个明确的想法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T05:47:59.473

这是一个非常笼统的问题。开始之前，我强烈建议您下载[Windows Azure 培训工具包](http://www.microsoft.com/en-us/download/details.aspx?id=8396)，它将指导您了解所有基础知识和高级主题。

您绝对可以在 Windows Azure 中运行 asp.net 应用程序和 SQL Server 应用程序。您需要考虑诸如无状态、扩展和其他可能与本地解决方案不同的事情。您应该会看到培训工具包中讨论的这些主题。

上周，引入了[Windows Azure 网站](https://www.windowsazure.com/en-us/home/scenarios/web-sites/)- 这是一种将 asp.net 站点部署到 Windows Azure 的极其简单的方法。

至于“在 Windows Azure 中托管我的应用程序是否正确”——这种类型的问题不适合这里，因为它只会为辩论敞开大门。

# php - PHP AJAX 没有响应

> ID：11095013
> 
> 赞同：0
> 
> 时间：2012-06-19T05:41:46.420
> 
> 标签：php, ajax, no-response

我正在使用 PHP 和 AJAX 在页面中发布帖子。下面是页面的javascript代码。

```
function Post(posted_by, posted_to)
    {
        document.getElementById('post_textarea').disabled='disabled';
        document.getElementById('post_button').style.display='none';
        document.getElementById('loader').style.display='inline';

        if (window.XMLHttpRequest)
        {// code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttpPost=new XMLHttpRequest();
        }
        else
        {// code for IE6, IE5
            xmlhttpPost=new ActiveXObject("Microsoft.XMLHTTP");
        }

        var post=document.getElementById("post_textarea").value;
        var params="type=post&posted_by=" + posted_by + "&posted_to=" + posted_to + "&post=" + post //Parameters for post method..

        xmlhttpPost.open("POST","test.php",true);

        //Send headers; data sent as if it has been posted from form
        xmlhttpPost.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xmlhttpPost.setRequestHeader("Content-length", params.length);
        xmlhttpPost.setRequestHeader("Connection", "close");

        xmlhttpPost.onreadystatechange=function()
        {   
            //I can reach here...

            if (xmlhttpPost.readyState==4 && xmlhttpPost.status==200)
            {
                //BUT I CAN'T REACH HERE.. GETTING NO RESPONSE
                document.getElementById('posts').innerHTML = xmlhttpPost.responseText + document.getElementById('posts').innerHTML;
                document.getElementById("post_textarea").value=""; //Clear textbox
                hidePostBox();
            }
        }

        xmlhttpPost.send(params); //Send POST DATA to the server.. 
    } 
```

在 PHP 文件中，我已经回显了一行文本来测试它是否有效。

但我没有得到那行文字作为回复。完全没有反应。

我在另一个网站上使用了相同的 javascript 代码，它正在工作。而且这里的相同代码不起作用。

可能有什么故障？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T16:03:47.203

好的。我从未使用过错误控制台。我今天第一次使用它。并发现问题是它没有获取 PHP 文件，因为我使用了 HTACCESS URL 重写并且它搞砸了

# javascript - 为什么我的 JS 循环会覆盖对象中以前的条目？

> ID：11095018
> 
> 赞同：1
> 
> 时间：2012-06-19T05:42:23.207
> 
> 标签：javascript, node.js, object, loops

所以我有一个对象，我在 nodejs 中使用。它看起来像这样：

```
for(var i = 0; i < x.length; i++) {
            var sUser = x[i];
            mUsers[sUser.userid] = CreateUser(sUser);
            ++mUsers.length;
        } 
```

所以我从外部来源提取信息，它分解为一个充满以下实例的数组：

```
[{ name: 'Michael Lovesllamas Lankford',
 created: 1338420951.11,
 laptop: 'pc',
 laptop_version: null,
 userid: '4fc6aed7eb35c14ad6000057',
 acl: 0,
 fans: 1,
 points: 5,
 avatarid: 34 }] 
```

等等。

以便信息在上述函数中作为 x 传递。

```
global.mUsers = {length:0}

global.UserBase = {
    userid: -1,
    name: "noidea",
    isSuperUser: false,
    isDJ: false,
    laptop: "pc" };

process.on("registered", OnRegistered);

global.OnRegistered = function(a) {
        //misc code here
        RegisterUsers(a.users);
        //misc code here
}

global.CreateUser = function(a) {
    var b = UserBase;
    b.userid = a.userid;
    b.name = a.name;
    b.laptop = a.laptop;
    if (a.acl > 0) b.isSuperUser = true;
    return b;
};

global.RegisterUsers = function(x) {
        for(var i = 0; i < x.length; i++) {
            var sUser = x[i];
            mUsers[sUser.userid] = sUser;
            ++mUsers.length;
        } 
```

}

现在，我已将其记录在循环中，并且 mUsers[sUser.userid] 确实 = sUser。但是当我在循环之后立即 console.log(mUsers) 时，我得到了这个：

```
{ 
 userid1: { userid: userid3, name: name3, item: item3 },
 userid2: { userid: userid3, name: name3, item: item3 },
 userid3: { userid: userid3, name: name3, item: item3 }
} 
```

而且我不知道为什么它会被覆盖。有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:50:47.637

主要问题是您在调用 CreateUser 时不断引用同一个对象，因此它只是更新并返回一个在所有调用中都保留的引用，这就是为什么当您打印它时，它只是打印最后一次更新。您需要创建对象的副本。

```
global.CreateUser = function(a) {
    var b = Object.create(UserBase); // this will create a copy of it.
    b.userid = a.userid;
    b.name = a.name;
    b.laptop = a.laptop;
    if (a.acl > 0) b.isSuperUser = true;
    return b;
}; 
```

现在 CreateUser 实际上是在创建一个副本，当您浏览属性时，默认属性可能不会立即出现，但仍然存在，它们只是被移动到`__proto__`您仍然可以调用它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T05:53:35.037

试试下面它对我有用

```
var obj = {
            userid1: { userid: "userid1", name: "name3", item: "item3" },
            userid2: { userid: "userid2", name: "name3", item: "item3" },
            userid3: { userid: "userid3", name: "name3", item: "item3" }
        };

var muser = {};

for (var key in obj) {
    muser[key] = obj[key];
} 
```

# iphone - 模拟器中的应用程序崩溃

> ID：11095020
> 
> 赞同：0
> 
> 时间：2012-06-19T05:42:31.147
> 
> 标签：iphone, debugging

我是 iPhone SDK 的新手。我也激活了僵尸和守卫 Malloc。当我玩我的应用程序 10 或 15 分钟时，它会崩溃。

现在，当我的应用程序崩溃时，控制台给了我一些有用的输出，但我无法理解它想说什么。所以请帮助我。

这是控制台的输出：

> GuardMalloc[GNG-4042]：VM 分配 400000 字节失败 GuardMalloc[GNG-4042]：显式陷入调试器！！！

现在我该怎么办？请帮我。感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T05:54:33.950

尝试使用 Xcode 的 Instruments 工具分析您的代码，以检测和修复内存泄漏。这是使用此工具的一个很好的教程：[http ://www.raywenderlich.com/2696/how-to-debug-memory-leaks-with-xcode-and-instruments-tutorial](http://www.raywenderlich.com/2696/how-to-debug-memory-leaks-with-xcode-and-instruments-tutorial)

# android - 安卓媒体记录器

> ID：11095022
> 
> 赞同：-1
> 
> 时间：2012-06-19T05:42:39.470
> 
> 标签：android, android-mediarecorder

我从[这里得到 Mediarecorder 的示例源代码](http://www.devdaily.com/java/jwarehouse/android/media/java/android/media/MediaRecorder.java.shtml)

但它不运行。调试时显示强制关闭。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:34:49.497

```
@Override
protected void onCreate(Bundle savedInstanceState)
{
super.onCreate(savedInstanceState);
setContentView(R.layout.main);
Button startBtn = (Button) findViewById(R.id.bgnBtn);
Button endBtn = (Button) findViewById(R.id.stpBtn);
Button playRecordingBtn = (Button) findViewById(R.id.playRecordingBtn);
Button stpPlayingRecordingBtn = (Button) findViewById(R.id.stpPlayingRecordingBtn);
startBtn.setOnClickListener(new OnClickListener()
{
    @Override
    public void onClick(View view) 
    {
        try 
        {
            beginRecording();
        } 
        catch (Exception e)
        {
            e.printStackTrace();
        }
    }
});

endBtn.setOnClickListener(new OnClickListener() 
{
    @Override
    public void onClick(View view) 
    {
        try 
        {
            stopRecording();
        } 
        catch (Exception e) 
        {
            e.printStackTrace();
        }
       }
   });

playRecordingBtn.setOnClickListener(new OnClickListener() 
{
    @Override
    public void onClick(View view) 
    {
        try 
        {
            playRecording();
        } 
        catch (Exception e) 
        {
            e.printStackTrace();
        }
    }
});

stpPlayingRecordingBtn.setOnClickListener(new OnClickListener() 
{
@Override
    public void onClick(View view) 
    {
        try 
        {
            stopPlayingRecording();
        } 
        catch (Exception e) 
        {
            e.printStackTrace();
        }
        }
 });
   }

private void beginRecording() throws Exception 
{
    killMediaRecorder();
    recorder = new MediaRecorder();
    recorder.setAudioSource(MediaRecorder.AudioSource.MIC);
    recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);
    recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);
    if (file == null) 
    {
        File rootDir = Environment.getExternalStorageDirectory();
        file = File.createTempFile(PREFIX, EXTENSION, rootDir);
    }
    recorder.setOutputFile(file.getAbsolutePath());
    recorder.prepare();
    recorder.start();
    isRecording = true;
}

private void stopRecording() throws Exception 
{
    if (recorder != null)
    {
        isRecording = false;
        recordAmplitude.cancel(true);
        recorder.stop();
    }
}

private void killMediaRecorder()
{
    if (recorder != null) 
    {
        recorder.release();
    }
}

private void killMediaPlayer() 
{
    if (mediaPlayer != null) 
    {
        try 
        {
            mediaPlayer.release();
        } 
        catch (Exception e) 
        {
            e.printStackTrace();
        }
    }
}

private void playRecording() throws Exception 
{
    killMediaPlayer();
    mediaPlayer = new MediaPlayer();
    // from sdcard
    if (file.exists()) 
    {   
        mediaPlayer.setDataSource(file.getAbsolutePath());
    }
    mediaPlayer.prepare();
    mediaPlayer.start();
}

private void stopPlayingRecording() throws Exception 
{
    if(mediaPlayer!=null)
    {
        mediaPlayer.stop();
    }
}

@Override
protected void onDestroy() 
{
    super.onDestroy();
    killMediaRecorder();
    killMediaPlayer();
}
} 
```

# mysql - 在mysql中选择两个用户通信之间的最新消息

> ID：11095024
> 
> 赞同：5
> 
> 时间：2012-06-19T05:42:52.143
> 
> 标签：mysql

我有一个简单的表来维护用户之间的消息。表结构看起来像

```
 sender    receiver   message   sendtime
      1          2          m1      2012-01-01 12:12:12  
      2          1          m2      2012-01-01 12:50:20
      1          2          m3      2012-01-01 12:55:55
      1          3          m4      2012-01-02 05:05:05
      1          4          m5      2012-01-05 05:20:20
      4          1          m6      2012-01-06 06:05:00
      4          1          m7      2012-01-07 11:11:11
      2          4          m8      2012-01-08 05:01:01 
```

现在，对于 ID 为 1 的用户，我需要这样的结果

```
 sender     receiver   message   sendtime
     1           2          m3      2012-01-01 12:55:55
     1           3          m4      2012-01-02 05:05:05
     4           1          m7      2012-01-07 11:11:11 
```

那就是我需要特定用户的最新消息，无论他是发送者还是接收者。

虽然看起来很容易，但我找不到编写单个 mysql 查询的方法。

另外，如果对于这种解决方案，我的桌子设计很差，我想提出建议。

注意：我想我应该提到的一件事是，例如用户 1 和用户 2 之间有多次通信。无论用户 1 是发送者还是接收者，我都需要他们两个之间的最新通信，只有最近的。

大多数用户都建议查询，这将带来一条记录，发送者 1，接收者 2，然后发送者 2，接收者 1。我不需要这两条记录，因为这是同一用户 1 和用户 2 之间的通信。我需要一个与其他每个用户一起指定的用户的最新一个。

谢谢，

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-19T06:38:54.087

```
SELECT data.* FROM 
(SELECT MAX(sendtime) AS sendtime 
         FROM data 
         WHERE 1 IN (sender,receiver)
         GROUP BY IF (1 = sender,receiver,sender)) AS latest
LEFT JOIN data ON latest.sendtime = data.sendtime AND 1 IN (data.sender, data.receiver)
GROUP BY IF (1 = data.sender,data.receiver,data.sender) 
```

我建议在您的表中使用唯一的序列 id 以避免外部`GROUP BY`. 如果您有递增的唯一性`message_id`（即较大`message_id`对应于 later `sendtime`），则查询会简单得多：

```
SELECT data.* FROM 
(SELECT MAX(message_id) AS message_id 
         FROM data 
         WHERE 1 IN (sender,receiver)
         GROUP BY IF (1 = sender,receiver,sender)) AS latest
LEFT JOIN data USING(message_id) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T05:51:47.010

尝试将消息作为主键并将发送者和接收者放在 2 个单独的表中以获取相同的消息，如下所示：

```
Table 1: {message, sender, sendtime}
Table 2: {message, receiver, sendtime} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T06:12:29.337

试试这个：

```
SELECT  Distinct (*)
FROM    tableName   m
WHERE   date =
    (
    SELECT  MAX (date)
    FROM    tableName

    ) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-01-03T19:49:43.157

对我来说，使用基于发送者和接收者的自己的 ID 感觉更简单。没有`JOIN`，只`GROUP BY`需要一个：

```
SELECT sender, receiver, message, MAX(time)
FROM (
  SELECT *,
    CASE WHEN sender < receiver 
              THEN CONCAT(sender,'&', receiver)
              ELSE CONCAT(receiver,'&', sender) END AS fromto
  FROM data) AS a
GROUP BY fromto 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-07-04T11:56:43.043

我花了 30 分钟来找到这个问题的解决方案，因为我有同样的问题 **，简单点**

```
SELECT DISTINCT sent_by FROM messages WHERE sent_to = 1 UNION SELECT DISTINCT sent_to FROM messages WHERE sent_by = 1 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-06-19T05:47:50.537

这会解决的

```
$query = "SELECT * FROM tableName WHERE `sender`='$userNumber' OR `receiver`='$userNumber' ORDER BY `sendtime` DESC LIMIT 0,1"; 
```

# ios - Phonegap - iphone中的白名单拒绝

> ID：11095025
> 
> 赞同：0
> 
> 时间：2012-06-19T05:42:56.793
> 
> 标签：ios, objective-c, cordova

我搜索并发现在cordova.plist中我们需要在外部主机中添加一行（包含url）。

我这样做了，但找不到任何工作。

我试过代码

```
 <key>ExternalHosts</key>
    <array>
        <string>localhost</string>
        <string>https://www.google.com</string>
    </array> 
```

但它不值得！

该怎么办 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T10:52:08.757

去掉https，把域名留在白名单里

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T05:50:01.467

困难的部分已经完成。现在就像制作一个简单的 HTML/css/js Web 应用程序一样——只需将所有代码放入您在入门教程中创建的 index.html 中。

示例：[API 参考](http://docs.phonegap.com/en/1.8.1/)

github 上的[iOS Phonegap 插件](https://github.com/phonegap/phonegap-plugins/tree/master/iOS)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T05:27:37.030

我希望您无法访问您的本地主机，因此请使用您的 IP 地址和可访问端口更改您的本地主机。

或者，如果您愿意，可以将其更改为“*”，以便它可以访问所有外部 url。

```
<key>ExternalHosts</key>
    <array>
        <string>*</string>
    </array> 
```

# php - iOS批量推送通知的一些问题

> ID：11095028
> 
> 赞同：1
> 
> 时间：2012-06-19T05:43:14.087
> 
> 标签：php, ios, push

我需要向数千台设备发送相同的推送通知。我可以从 DB 获取令牌。

这是 PHP Web 服务代码的示例。

```
public function send($tokens) {
    if (is_array($tokens) && count($tokens) > 0) {
        $body = array('aps' => array('alert' => $content, 'badge' => 0, 'sound' => 'received5.caf'));
        $ctx = stream_context_create();
        stream_context_set_option($ctx, 'ssl', 'local_cert', 'ck5.pem');
        $fp = stream_socket_client('ssl://gateway.push.apple.com:2195', $err, $errstr, 60, STREAM_CLIENT_CONNECT, $ctx);
        if (!$fp) {
            print "Failed to connect $token $err $errstrn";
            return;
        }
        print "Connection OK/n";
        $payload = json_encode($body);
        foreach($tokens as $token) {
            $msg = chr(0) . pack("n",32) . pack('H*', str_replace(' ', '', $token)) . pack("n",strlen($payload)) . $payload;
            print "sending message :" . $payload . "/n";
            fwrite($fp, $msg);
        }
        fclose($fp);
    }
} 
```

所以，首先我连接到 APNs 调用：

```
$fp = stream_socket_client('ssl://gateway.push.apple.com:2195', $err, $errstr, 60, STREAM_CLIENT_CONNECT, $ctx); 
```

然后我将消息打包在一个 foreach 循环中，发送通知。

最后，关闭通知。

```
fclose($fp); 
```

但它只是不起作用，我在哪里做错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T20:20:48.017

试一试...根据 API 文档，我添加了一个额外的 chr(0)。第一个 chr(0) 是命令。接下来的 2 个字节是令牌 0x0020 的长度。

```
$msg = chr(0) . chr(0) . pack("n",32) . pack('H*', str_replace(' ', '', $token)) . pack("n",strlen($payload)) . $payload; 
```

# ssl - 具有本地开发域的 SelfSSL7 自定义 CN

> ID：11095035
> 
> 赞同：0
> 
> 时间：2012-06-19T05:43:45.047
> 
> 标签：ssl, iis-7.5, ssl-certificate, self-signed

我的本地开发机器上有我的站点 mydomain.local，它使用本地主机文件条目指向 127.0.0.1。该目录是我的工作 git 副本，它就像一个魅力。它总是指向我检查过的任何东西。

我想设置 SSL，但在我去其他地方实现它之前，当然需要在本地和我的代码进行测试。这是我的 Win7 Ultimate 机器，这个开发环境使用成熟的 IIS 7.5，而不是任何内置的 IIS express 或 localhost:port# 自动配置。

通过多次实验，我使用[SelfSSL7](http://blogs.iis.net/thomad/archive/2010/04/16/setting-up-ssl-made-easy.aspx)来更好地控制和设置自签名 SSL 证书。它有很多选项，而且似乎运行良好。

根据[有限的文档](http://blogs.iis.net/thomad/archive/2010/04/16/setting-up-ssl-made-easy.aspx)，我使用以下命令生成我的 SelfSSL 证书：

```
SelfSSL7 /Q /T /I "mydomain.local" /S "MyDomain IIS Name" /N cn=pc_name;cn=localhost;cn=mydomain.local 
```

它确实使用正确的域正确绑定到我的 IIS 设置。但是当我尝试启动站点时，我收到了这个错误：

```
The process cannot access the file because it is being used by another process. (Exception 0x80070020) 
```

我[查找了这些错误](http://support.microsoft.com/kb/890015)，并被指示检查哪些服务在端口 443 上侦听 SSL。这是我的输出（其中端口==443）的输出片段`netstat -ano`（我已经修剪了所有其他内容）

```
Proto  Local Address          Foreign Address        State           PID
TCP    0.0.0.0:443            0.0.0.0:0              LISTENING       5800
TCP    [::]:443               [::]:0                 LISTENING       5800 
```

问题是文档很糟糕（惊喜），我不知道从哪里开始。他们指定的注册表路径实际上并没有在我的机器上退出（Regedit 中没有 ListenOnlyList 文件夹）。此外，我有 0 个其他 IIS 站点设置，并且绝对没有设置超过 443 的 SSL。

摘要：可以生成 SSL 证书，看起来不错，但是一旦绑定到位，我就无法在 IIS 中启动该站点。同样，SSL 看起来是正确的——也许更多的是关于端口 443 和“套接字池”（？？？）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-24T15:08:48.873

我遇到了同样的问题，在我的情况下，我只是停止了 iss 服务器，关闭了 skype，然后重新启动了服务器和 skype，它工作正常，似乎 skype 正在使用端口 443。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:01:47.080

看起来您已经有一个程序正在侦听端口 443。使用任务管理器或进程资源管理器检查正在运行的进程 ID 为 5800 的程序，然后将其终止。

# android - 如何为微调器使用数组而不是游标

> ID：11095040
> 
> 赞同：0
> 
> 时间：2012-06-19T05:44:19.087
> 
> 标签：android

我目前正在使用 simpleCursorAdaptor 和游标来加载带有数据的微调器，但是我更愿意将游标转换为简单的数组并改用它（因为列表很短且是静态的）。

最简单的方法是什么？

我目前的代码是：

```
 private void loadEmployeeList(){
    LoginDataHandler dataHandler = new LoginDataHandler(getContentResolver());
    Cursor data = dataHandler.activeEmployeeList();
    if (null!=data){

        SimpleCursorAdapter adapter = new SimpleCursorAdapter(this, 
                android.R.layout.simple_spinner_item, 
                data, 
                new String[]{MyobiliseData.Columns_employees.NAME},
                new int[] { android.R.id.text1 }
                );

        // Attach the data to the spinner using an adaptor
        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        spinner.setAdapter(adapter);

    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T05:47:55.090

```
ArrayList<String> mArrayList = new ArrayList<String>();
for(data.moveToFirst(); !data.isAfterLast(); data.moveToNext()) {
    mArrayList.add(data.getString(data.getColumnIndex(MyobiliseData.Columns_employees.NAME)));
} 
```

现在你可以继续，因为你有一个光标数据的数组 mArrayList，

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T05:57:22.277

如果它很短且是静态的，您可能会考虑将其作为数组放入您的 strings.xml 并以这种方式访问​​它，而不是从数据库读取和转换为数组时产生更大的开销。

数据.xml

```
<resources>
    <string-array name="States">
        <item>AL</item>
        <item>AK</item>
        <item>AR</item>
    </string-array>
</resources> 
```

然后将其用于您的微调器：

```
ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(
    getActivity(), R.array.States, android.R.layout.simple_spinner_item);
adapter.setDropDownViewResource(R.layout.listlayout_black);
final Spinner states = (Spinner) v.findViewById(R.id.mbr_state_spinner);
states.setAdapter(adapter); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T05:45:58.080

然后，您必须编写一个用于[迭代 cursor 和 fetch data](https://stackoverflow.com/questions/4920528/iterate-through-rows-from-sqlite-query)的逻辑。使用从光标处获得的这些数据创建数组。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T05:48:58.070

干得好

```
ArrayList<String> list = new ArrayList<String>();
Cursor data = dataHandler.activeEmployeeList();

if (data.moveToFirst()) 
{
    do {
        list.add(data.getString(data.getColumnIndex(MyobiliseData.Columns_employees.NAME)));
       } while (data.moveToNext());
} 
```

# jquery-ui - JQuery UI：更改事件处理程序内的滑块最大值

> ID：11095043
> 
> 赞同：0
> 
> 时间：2012-06-19T05:44:35.497
> 
> 标签：jquery-ui, events, slider

我有点卡住了：

`change:`当我在一个事件中时（例如），我想更改 JQueryUI 滑块的“最大”选项。

当我在活动中时，如何调用“max”选项？

**编辑：**我的代码如下所示：

```
$('#slider0').slider({
        value: 100,
        min: 0,
        max: 500,
        range: "min",
        step: 50,
        stop: function( event, ui ) {
            var amt_val = (THIS IS THE CURRENT VALUE OF THE SLIDER)
            if(amt_val === 400) {
                $('#slider0').slider("option", "max", 10);
            }
        }
}); 
```

但是，每当我将滑块设置为 400 时，句柄和值都会变为 0，并且句柄会冻结。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T05:47:57.060

您可以更改选项，例如

```
$( ".selector" ).slider( "option", "max", 7 ); 
```

检查[jQuery UI Slider的文档页面的选项选项卡](http://jqueryui.com/demos/slider/#option-max)

**演示：http:** [//jsfiddle.net/joycse06/WKyYv/](http://jsfiddle.net/joycse06/WKyYv/)

# java - Netty Channel.write 线程安全吗？

> ID：11095044
> 
> 赞同：7
> 
> 时间：2012-06-19T05:44:45.750
> 
> 标签：java, thread-safety, netty, channel

我有一个 Netty 应用程序，我希望有多个线程写入一个通道。我只是想知道 Channel.write 是否是线程安全的？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2015-12-17T09:01:42.277

从代码中可以看出，`ChannelOutboundBuffer.addMessage()`方法本身不是线程安全的。但是，写入通道是“线程安全的”，因为 netty 在单个 I/O 线程中执行写入任务/方法。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-19T09:25:48.640

它是线程安全的，因此您无需担心。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-31T06:00:17.683

不，它是线程不安全的，因为在其管道的 HeadContext 中`Channel.write`调用，并且绝对是线程不安全的。看看这段代码：`ChannelOutboundBuffer.addMessage``ChannelOutboundBuffer.addMessage`

```
 public void addMessage(Object msg, int size, ChannelPromise promise) {
     Entry entry = Entry.newInstance(msg, size, total(msg), promise);
     if (tailEntry == null) {
         flushedEntry = null;
         tailEntry = entry;
     } else {
         Entry tail = tailEntry;
         tail.next = entry;
         tailEntry = entry;
     }
     if (unflushedEntry == null) {
         unflushedEntry = entry;
     }

     // increment pending bytes after adding message to the unflushed arrays.
     // See https://github.com/netty/netty/issues/1619
     incrementPendingOutboundBytes(size, false);
 } 
```

# jquery - 未捕获的类型错误：无法调用未定义的方法“getTitleId”

> ID：11095048
> 
> 赞同：1
> 
> 时间：2012-06-19T05:44:54.847
> 
> 标签：jquery, jquery-ui, wordpress

我的 wordpress 网站上的 simple-press 插件一直有问题。simple-press 的开发人员告诉我，这与从 google cdn 中提取 jquery 的网站有关。所以我们基本上注释掉了所有这些

 `````
wp_deregister_script('jquery');
wp_deregister_script('jquery-ui'); 
```

//commented them out in addition to the

```
wp_register_script('jquery'……
wp_register_script('jquery-ui….. 
```

// and instead just have

```
wp_enqueue_script('jquery');
wp_enqueue_script('jquery-ui-core');
wp_enqueue_script('jquery-ui-widget'); 
````  `我对我网站上的所有文件都做了这个，但我仍然收到以下错误

 ``Uncaught TypeError: Cannot call method 'getTitleId' of undefined jquery.ui.dialog.min.js:5

a.widget._create jquery.ui.dialog.min.js:5

a.Widget._createWidget jquery.ui.widget.min.js:5

a.widget.a.(anonymous function).(anonymous function) jquery.ui.widget.min.js:5

a.widget.bridge.a.fn.(anonymous function) jquery.ui.widget.min.js:5

e.extend.each jquery.js:2

e.fn.e.each jquery.js:2

a.widget.bridge.a.fn.(anonymous function) jquery.ui.widget.min.js:5` 

`spjPopupImage sp-forum.js:1 onclick /filamchw/message-discussion-board/news-announcements/another-topic-with-an-image/:389` 帮助任何人？？:( 我使用称呼作为我的 wordpress 主题（去主题森林查看示例）。

谢谢，格雷吉```

# csv - 从 iSeries SAV 文件中提取 CSV

> ID：11095049
> 
> 赞同：1
> 
> 时间：2012-06-19T05:44:58.607
> 
> 标签：csv, ibm-midrange

我收到了一个已从 iSeries 转换/压缩/压缩为 SAV 文件的 CSV。有没有办法使用任何实用程序从 SAV 文件中提取 CSV 文件，或者我需要 iSeries 设置来执行此操作吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-19T06:26:59.297

A`SAVF`是一种专有的、相对未记录的 IBM 文件格式。到目前为止，最简单的解决方案是使用本机实用程序来提取它。

许多中端商店没有意识到系统中集成了 ZIP 实用程序。Java[`jar`](http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/topic/rzahz/rzahzjar.htm)实用程序可以创建和提取标准 ZIP 文件。

将一个物理文件（表）以 ASCII CSV 格式复制到 IFS（流文件系统）并压缩它并不需要太多努力：

```
CPYTOIMPF FROMFILE(LIB/FILE) TOSTMF('path/file.csv') STMFCODPAG(*STDASCII) RCDDLM(*CRLF)
QSH CMD('jar cvfM path/file.zip -C path file.csv') 
```

# visual-studio-2010 - 如何在 EF Power tools beta 2 中更改生成的文件名

> ID：11095050
> 
> 赞同：2
> 
> 时间：2012-06-19T05:45:30.453
> 
> 标签：visual-studio-2010, t4

如何更改由 EF Power tools beta 2 生成的文件名。我对 EF.Utility.CS.ttinculde、Context.tt、Entity.tt 和 Mapping.tt 文件进行了一些更改，以匹配我想要的命名约定。例如，如果我的表名是“project_site”，那么生成的类型将是“ProjectSite”。

我遇到的问题是文件名仍然是 project_site.cs，但我希望它是 ProjectSite.cs。我怎样才能做到这一点？

# iphone - 数据库不刷新

> ID：11095053
> 
> 赞同：1
> 
> 时间：2012-06-19T05:45:50.147
> 
> 标签：iphone, ios, ipad

我将一个 SQLite 数据库连接到我的 ipad 应用程序。其中 db 有两个表，1 个表填充数据，其他表保存应用程序中给出的数据。但问题是我的数据库没有刷新和保存数据..例如：如果我向表中添加新名称，它不会自动填充，只有当我再次添加不同名称的 db 文件时才会填充它没有保存我要保存的数据。

请给我您宝贵的建议

请找到我的代码供您参考：

```
#import <UIKit/UIKit.h>
#import "PersonDatabase.h"
#import "sqlite3.h"
#import <sqlite3.h>

@interface ViewController : UIViewController<UITextViewDelegate>{
    PersonDatabase *perDas;
    NSString * nameString;
    NSString * statusString;
      sqlite3 *database;
    NSString * empString;
}
@property (retain, nonatomic) IBOutlet UITableView *tableView;
@property (strong, nonatomic) IBOutlet UIButton *signIn;
@property (strong, nonatomic) IBOutlet UIButton *signOut;
@property (strong, nonatomic) IBOutlet UILabel *nameLabel;
@property (strong, nonatomic) IBOutlet NSString * nameString;
@property (strong, nonatomic) IBOutlet NSString * statusString;

-(IBAction)signin:(id)sender;
-(IBAction)signout:(id)sender;
@end

#import "ViewController.h"
#import "PersonInfo.h"
#import "PersonDatabase.h"

@implementation ViewController
@synthesize tableView;
@synthesize signIn;
@synthesize signOut;
@synthesize nameLabel;
@synthesize  nameString,statusString;;

- (void)viewDidLoad
{
    [super viewDidLoad];
    if (perDas == nil) {
        perDas = [[PersonDatabase alloc] init];
    }

    [tableView setDataSource:perDas];
    [tableView setDelegate:perDas];
    perDas.view = perDas.tableView;
}

-(IBAction)signin:(id)sender{
    NSLog(@"%@",perDas.string1);
    nameString=[[NSString alloc]initWithString:perDas.string1];
     statusString=[[NSString alloc]initWithFormat:@"IN"];
    {
        NSLog(@"passed");
        sqlite3_stmt    *statement;

        const char *dbpath = [perDas.databasePath UTF8String];

        if (sqlite3_open(dbpath, &database) == SQLITE_OK)
        {
            NSLog(@"pass");
            NSString *insertSQL = [NSString stringWithFormat: @"INSERT INTO status (names, staus, signin, singnout) VALUES (\"%@\", \"%@\", datetime(), \"%@\")", nameString, statusString,empString];
            NSLog(@"%@",insertSQL);
            const char *insert_stmt = [insertSQL UTF8String];

            int results= sqlite3_prepare_v2(database, insert_stmt, -1, &statement, NULL);
                NSLog(@"%i", results);
            if(sqlite3_step(statement) == SQLITE_DONE){
                NSLog(@"done");
            }else {
                printf( "could not prepare statemnt: %s\n", sqlite3_errmsg(database) );
            }
            sqlite3_finalize(statement);
            sqlite3_close(database);

    }
    }}
-(IBAction)signout:(id)sender{
 NSLog(@"%@",perDas.string1);}
- (void)viewDidUnload
{
    [self setTableView:nil];
    [self setSignIn:nil];
    [self setSignOut:nil];
    [self setNameLabel:nil];
    [super viewDidUnload];
    // Release any retained subviews of the main view.
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return YES;
}

@end

#import <Foundation/Foundation.h>

@interface PersonInfo : NSObject{
    int unique;
    NSString * nam;
}
@property(nonatomic, assign)int unique;
@property(nonatomic, copy)NSString * nam;
-(id) initWithUniqueId:(int)uniqueId name:(NSString *)name;
@end

#import "PersonInfo.h"

@implementation PersonInfo
@synthesize unique,nam;

-(id) initWithUniqueId:(int)uniqueId name:(NSString *)name{
    self=[super init];
    if (self) {
        self.unique=uniqueId;
        self.nam=name;

    }
    return self;
}

@end

#import <UIKit/UIKit.h>
#import "sqlite3.h"
#import <sqlite3.h>
#import "PersonInfo.h"

@interface PersonDatabase : UITableViewController<UITableViewDataSource>{
    NSString *databaseName;
    NSString * databasePath;
    NSMutableArray *tableOne;
    NSString * string1;
    NSString * dateString;
    NSString * timeString;
     sqlite3 *database;
    NSString * empString;

}
@property(nonatomic, retain)  NSMutableArray  *tableOne;
@property(nonatomic, retain)  NSString * string1;
@property(nonatomic, retain)  NSString *  databasePath;

-(void)checkAndCreateDatabase;
-(void)readDataFromDatabase;

@end

#import "PersonDatabase.h"
#import "PersonInfo.h"
#import "ViewController.h"

@implementation PersonDatabase
@synthesize tableOne, string1,databasePath;

#pragma mark - View lifecycle
- (void)viewDidLoad
{

    databaseName=@"log.sqlite3";

    NSArray *documentPaths= NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString * documentDir = [documentPaths objectAtIndex:0];
    databasePath=[documentDir stringByAppendingPathComponent:databaseName];
    [self checkAndCreateDatabase];
    [self readDataFromDatabase];
    [super viewDidLoad];
    NSLog(@"a");
    // Do any additional setup after loading the view, typically from a nib.
}

#pragma mark - TableView Data Source methods
-(NSInteger) numberOfSectionsInTableView:(UITableView *)tableView{
    return 1;
}
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{
    return [tableOne count]; }

// Row display. Implementers should *always* try to reuse cells by setting each cell's reuseIdentifier and querying for available reusable cells with dequeueReusableCellWithIdentifier:
// Cell gets various attributes set automatically based on table (separators) and data source (accessory views, editing controls)

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{
    UITableViewCell *cell= nil;
    cell = [tableView dequeueReusableCellWithIdentifier:@"mycell"];
    if (cell == nil) {
        cell=[[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"mycell"];}

    PersonInfo * temp =(PersonInfo *)[self.tableOne objectAtIndex:indexPath.row];
    cell.textLabel.text=temp.nam;

    return cell;
}
-(void) tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    [tableView deselectRowAtIndexPath:indexPath animated:YES];
    UITableViewCell *cell = [tableView cellForRowAtIndexPath:indexPath];
    string1 = cell.textLabel.text;
    NSLog(@"%@",string1);
}
-(void)checkAndCreateDatabase{
    BOOL success;
    NSFileManager *fileManager=[NSFileManager defaultManager];
    success=[fileManager fileExistsAtPath:databasePath];
    if(success)
        return;

    NSString *databasePathFromApp = [[[NSBundle mainBundle]resourcePath] stringByAppendingPathComponent:databaseName];
    [fileManager copyItemAtPath:databasePathFromApp toPath:databasePath error:nil];
}
-(void)readDataFromDatabase{
    tableOne=[[NSMutableArray alloc]init];
    if(sqlite3_open([databasePath UTF8String], &database)== SQLITE_OK){
        const char *sqlStatement = "SELECT * FROM names";
        sqlite3_stmt *compiledStatement;
        if(sqlite3_prepare_v2(database, sqlStatement, -1, &compiledStatement, NULL)==SQLITE_OK){
            while (sqlite3_step(compiledStatement)==SQLITE_ROW) {
                int uniqueId = sqlite3_column_int(compiledStatement, 0);
                char *nameChars=(char *)sqlite3_column_text(compiledStatement,1);
                NSString *name=[[NSString alloc]initWithUTF8String:nameChars];
                PersonInfo *info=[[PersonInfo alloc]initWithUniqueId:uniqueId name:name];
                [tableOne addObject:info];
            }            
        }
        sqlite3_finalize(compiledStatement);
    }
    sqlite3_close(database);
}
@end 
```

提前致谢！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T05:56:25.137

以下是我的数据库函数，它们运行良好，试试这个..

```
-(void)dbconnect{

    self.dbName=@"MyDb.sqlite";
    NSArray *documentPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDir = [documentPaths objectAtIndex:0];
    self.dbPath=[documentsDir stringByAppendingPathComponent:self.dbName];
    NSLog(@"DBPATH%@",self.dbPath);
    [self checkAndCreateDatabase];
}
-(void)checkAndCreateDatabase{
    BOOL success;
    //check file exists in document directory
    NSFileManager *fileManager=[NSFileManager defaultManager];
    success=[fileManager fileExistsAtPath:self.dbPath];

    //if file exists in document directory then return

    if(success)
        return;

    //if file do not exists copy it in documents directory

    NSString *databasePathFromApp = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:dbName];

    [fileManager copyItemAtPath:databasePathFromApp toPath:self.dbPath error:nil];
    [fileManager release];

}
-(sqlite3_stmt*) PrepareStatement:(const char *)sql{
    // Setup the database object
    sqlite3 *database;
    // Init the animals Array

    // Open the database from the users filessytem
    if(sqlite3_open([self.dbPath UTF8String], &database) == SQLITE_OK) {
        // Setup the SQL Statement and compile it for faster access
        const char *sqlStatement = sql;
        sqlite3_stmt *compiledStatement;

        if(sqlite3_prepare_v2(database, sqlStatement,-1, &compiledStatement, NULL) == SQLITE_OK) {
            //NSLog(@"COMPILED STATEMENT: %@",compiledStatement);
            return compiledStatement;

        }
    }
    return nil;
}
- (void) showException :(NSException *)e {
    UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"Trade Voice" message:[NSString stringWithFormat:@"Error - %@",e.name] delegate:self cancelButtonTitle:@"Ok" otherButtonTitles:nil];
    [alertView show];
    [alertView release];
}
/*DB CONN End*/
-(BOOL) sleepDatabase:(sqlite3 *)dbase {
    if (sqlite3_open([self.dbPath UTF8String], &dbase) == SQLITE_BUSY || sqlite3_open([self.dbPath UTF8String], &dbase) == SQLITE_LOCKED) {
        NSLog(@"Database in sleep");
        return YES;
    } else {
        return NO;
    }
} 
```

//////保存更新删除的代码

```
-(void)insertMaterialDetail:(Material *)objMaterial{
    sqlite3 *database;
    if(sqlite3_open([self.dbPath UTF8String], &database) == SQLITE_OK) {
        const char* sql = "INSERT INTO Material (name,amt) VALUES (?,?)";
        sqlite3_stmt *statement;
        statement = [self PrepareStatement:sql];

        int a1=sqlite3_bind_text(statement, 1, [objMaterial.name UTF8String], -1, SQLITE_TRANSIENT);
        int a2 = sqlite3_bind_double(statement, 2, objMaterial.amt);

        //NSLog(@"query %s",sql);
        if (statement)
        {
            if (a1 != SQLITE_OK || a2 != SQLITE_OK )
            {
                sqlite3_finalize(statement);
                return;
            }

            sqlite3_step(statement);
        }
        sqlite3_finalize(statement);
    }
}
-(int)updateMaterial:(Material *)objMaterial{

    @try {

        if(sqlite3_open([dbPath UTF8String], &delDatabase) == SQLITE_OK) {

            sqlite3_stmt* statement = nil;
            const char* sql = "update Material set name = ?, amt = ? where material_id = ?";

            statement = [self PrepareStatement:sql]; 

            int a1 = sqlite3_bind_text(statement, 1, [objMaterial.name UTF8String], -1, SQLITE_TRANSIENT);
            int a2 = sqlite3_bind_double(statement,2, objMaterial.amt);
            int a3 = sqlite3_bind_int(statement, 3, objMaterial.material_id);

            if (statement)
            {

                if (a1 != SQLITE_OK || a2 != SQLITE_OK || a3 != SQLITE_OK) 
                {
                    sqlite3_finalize(statement);
                    return 0;
                }

                sqlite3_step(statement);
            }
            sqlite3_finalize(statement);
        }
    }
    @catch (NSException * e) {
        [self showException:e];
    }
    @finally {
        sqlite3_close(delDatabase);
        return 1;
    }

}

-(void)deleteMaterial:(int)Materialid{
    sqlite3 *database;
    if(sqlite3_open([self.dbPath UTF8String], &database) == SQLITE_OK) {
        sqlite3_stmt *deleteStmt;
        const char *sql = "Delete from Material where material_id = ?";
        if(sqlite3_prepare_v2(database, sql, -1, &deleteStmt, NULL) != SQLITE_OK)
            NSAssert1(0, @"Error while creating delete statement. '%s'", sqlite3_errmsg(database));

        //When binding parameters, index starts from 1 and not zero.
        sqlite3_bind_int(deleteStmt, 1, Materialid);

        if (SQLITE_DONE != sqlite3_step(deleteStmt))
        {
            NSAssert1(0, @"Error while deleting. '%s'", sqlite3_errmsg(database));
        }
        sqlite3_reset(deleteStmt);
    }

} 
```

# java - 如何输出带 20 位小数的 Double？

> ID：11095057
> 
> 赞同：0
> 
> 时间：2012-06-19T05:46:17.353
> 
> 标签：java, double, wrapper

大家好，

```
Double d = 1.000000000000000000000000000000001;
        System.out.println(d); 
```

上面的代码打印 1.0 但我希望 d 存储整个值。期望的输出是 1.0000000000000000000000000000000001

我关心的是如何将此值存储为双倍？有没有办法增加双精度可以存储的小数？请指导我

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-19T05:47:27.717

您需要使用[BigDecimal](http://docs.oracle.com/javase/1.5.0/docs/api/java/math/BigDecimal.html)。

例子：

```
BigDecimal test = new BigDecimal("1.000000000000000000000000000000001");
System.out.println(test); 
```

不能用 a 表示的原因`double`是它`double`有 64 位。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:41:33.770

[http://en.wikipedia.org/wiki/Double-precision_floating-point_format](http://en.wikipedia.org/wiki/Double-precision_floating-point_format)

根据上面的链接 double 总共有 53 个小数位 64，其中可以存储 16 个小数位

# javascript - jQuery - 如何循环删除仅某些子节点？

> ID：11095060
> 
> 赞同：0
> 
> 时间：2012-06-19T05:46:48.423
> 
> 标签：javascript, jquery, html, parsing

说我有这样的事情：

```
<p>
 <br><br>
 <img id='unique'>
 <br>
</p> 
```

我希望 jQuery 循环遍历 p 标签并删除所有换行符标签。请记住，我必须通过首先找到图像元素来找到 p 元素，这是唯一具有唯一标识符的元素。

我尝试了一些循环并查看了文档，但似乎没有做对。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T05:55:08.100

```
$("#unique").parent().find("br").remove(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-19T05:54:24.120

这是你要找的吗？

```
 $("#unique").parent('p').find('br').remove(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-19T05:57:36.240

您可以使用以下命令选择 #unique 和最接近（） p 标签

```
$('#unique').closest('p')) 
```

或者，

```
$('#unique').parent() 
```

然后选择 br，你可以链接上面的任何一个：

```
$('#unique').parent().find('br') 
```

对于删除，完整的代码是：

```
$('#unique').parent().find('br').remove() 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-19T05:58:18.470

试试这个

```
$("p").each(function(){
     $(this).find("br").remove();
}); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-19T05:59:26.163

在这里查看[http://jsfiddle.net/arvind07/EqVf5/](http://jsfiddle.net/arvind07/EqVf5/)

```
if ($('p').has('#unique')) {
    $('p').find('br').remove();
}​ 
```

# java - RMI 中的 java.lang.ClassNotFoundException，没有禁用安全管理器 RMI 类加载器

> ID：11095061
> 
> 赞同：1
> 
> 时间：2012-06-19T05:46:53.860
> 
> 标签：java, rmi, distributed-computing

我在下面创建了 bat 文件来运行我的 RMI 服务器

```
@echo Off

set classpath=C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\RMI_Server\bin\;
set classpath=C:\policy.all;
set classpath=C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\RMI_Server\log4j-1.2.12.jar;
set classpath=C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\RMI_Server\log4j-1.2.15.jar;
set classpath=C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\RMI_Server\log4j.jar;
set classpath=C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\RMI_Server\log4jProperties.jar;
set classpath=C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\RMI_Server\bcprov-jdk15-144.jar\bcprov-jdk15-144.jar;
set classpath=C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\RMI_Server\sevenzipjbinding.zip;
set classpath=C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\RMI_Server\sevenzipjbinding-AllPlatforms.zip;
set classpath=C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\RMI_Server\apache-log4j-1.2.17\log4j-1.2.17.jar;

set classpath=%classpath%;.

java -Djava.security.manager -Djava.security.policy=C:\policy.all

java -Xms512m -Xmx1024m ExecutorServer -Djava.rmi.server.codebase=file:C:/Program Files/Apache Software Foundation/Tomcat 6.0/webapps/RMI_Server/bin/ -Djava.security.policy=C:\policy.all

pause 
```

我能够运行我的 RMI 服务器，但是当 RMI 尝试连接到 RMI 服务器时，我得到以下异常

```
Execption in RMI...java.rmi.UnmarshalException: error unmarshalling return; nest
ed exception is:
        java.lang.ClassNotFoundException: ExecutorInterface (no security manager
: RMI class loader disabled)
java.rmi.UnmarshalException: error unmarshalling return; nested exception is:
        java.lang.ClassNotFoundException: ExecutorInterface (no security manager
: RMI class loader disabled)
        at sun.rmi.registry.RegistryImpl_Stub.lookup(Unknown Source)
        at java.rmi.Naming.lookup(Unknown Source)
        at com.mindcraft.queryExecutor.actionclass.acInsertExecutorDetails.rmiCl
ientCall(acInsertExecutorDetails.java:272)
        at com.mindcraft.queryExecutor.actionclass.acInsertExecutorDetails.execu
te(acInsertExecutorDetails.java:218) 
```

我在运行时提供了策略文件和代码库。我没有得到我在这里缺少的东西。如何在 rmiregistry 的路径中添加 lcass？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:54:04.990

1.  将 CLASSPATH 设置为 10 个连续值不起作用。它只取最后一个值。你需要设置它=%classpath%;。您还需要引用所有名称中带有空格的目录。
2.  将 policy.all 放在 CLASSPATH 上是没有意义的。
3.  `java.lang.ClassNotFoundException: ExecutorInterface`确切地说出了什么问题。该类不存在于客户端。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-01-19T10:21:02.963

简单的解决方案是在您的客户端项目类路径中添加 ExecutorInterface.class 或其相关 jar。

# asp.net-mvc - 获取操作后更改 URL

> ID：11095062
> 
> 赞同：1
> 
> 时间：2012-06-19T05:46:58.727
> 
> 标签：asp.net-mvc, asp.net-mvc-3, url

我有一个索引操作：

```
[HttpGet]
public ActionResult Index (bool Myparam, ...)
{

  if(Myparam)
  {
     ...
  }

  return View(model);
} 
```

我**`Myparam`**用来设置模型的一些值，但我希望用户看不到**`Myparam`**. 在某些页面中，我知道返回索引页面后`RedirectToAction`的路由值的 URL 是：`Myparam=true`

```
http://mysitemainurl.com/Collection/Index?Page=2&Myparam = true&RowCount=5 
```

我需要显示的 URL 将是：

```
http://mysitemainurl.com/Collection/Index?Page=2&RowCount=5 
```

我更喜欢在 Controller 中处理它，如果在 View 中不可能，如果不可能，那么在客户端处理它的简单方法？有人对此有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T05:52:16.900

您可以使用 POST 请求而不是 GET。如果这是真的不应该看到的敏感信息（即使是确定的用户），那么这些信息与客户端无关。它应该安全地保存在服务器上。

# javascript - 在 javascript/jquery 中停止函数执行

> ID：11095064
> 
> 赞同：2
> 
> 时间：2012-06-19T05:47:03.570
> 
> 标签：javascript, jquery, function, callback, setinterval

是否可以在单击按钮或任何其他事件时停止在 javascript 中执行函数？以下是我的困境

```
function drop() {

    setTimeout(function () {    //  call a 250ms setTimeout when the loop is called
       setMarkers(map, locationArray, locationNameArray, iterator);
       iterator++;
       if (iterator < locationArray.length) {      //  if the counter < 10, loop!
         drop();             
       }
     }, 250);
} 
```

此功能以 250 毫秒的间隔在我的画布上放置 Google 地图图钉。现在，如果用户想要导航到上一个屏幕（远离地图页面），单击后退按钮我想停止执行此 drop() 函数，重置计数器（迭代器）并返回。

知道我怎么能做到这一点，或者它甚至可能吗？谢谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-19T05:49:41.410

最简单的方法是在其中抛​​出一个“全局”范围的变量，并在每次迭代时检查它。

```
var cancel = false;
function drop() {
    setTimeout(function () {    //  call a 250ms setTimeout when the loop is called
       setMarkers(map, locationArray, locationNameArray, iterator);
       iterator++;
       if (iterator < locationArray.length && cancel === false) {      //  if the counter < 10, loop!
         drop();             
       }
     }, 250);
} 
```

然后在事件处理程序中更新相同的变量：

```
$("#mybutton").click(function() {
    cancel = true;
}); 
```

# c++ - 了解 C++ 模板类

> ID：11095065
> 
> 赞同：0
> 
> 时间：2012-06-19T05:47:06.473
> 
> 标签：c++, arrays, templates

我被分配了一个 C++ 任务，我试图在实际编码过程之前理解材料。我被要求模拟一个可以销售产品、接收订单、管理库存等的“商店”。我还需要实现一个数据库来记录每笔销售。**我必须**用一个实际上是动态数组的模板类来实现它。**我必须实现**的实际策略是两个数组（一个是另一个数组的两倍），当较小的数组已满 - 较大的半满时，我删除较小的数组并创建一个新数组 - 两倍大另一个数组等等。

我的问题：这里有模板的真正原因吗？还是只是为了练习？我看不出我会在哪里使用模板作为通用表单？

也许有人知道带有解释和/或示例的良好相关链接。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T05:53:29.787

我想您需要存储一系列产品、订单等。在这种情况下，您可以使用您的通用数组类并创建不同的模板实例化，例如`Array<Product>`and `Array<Order>`。通过这种方式，您可以重用数组代码，而不是为每个数组编写不同的数组类。

# magento - magento 如何知道哪个商店使用？

> ID：11095066
> 
> 赞同：3
> 
> 时间：2012-06-19T05:47:06.873
> 
> 标签：magento

Magento 何时决定使用哪个商店视图，何时设置当前区域设置？

我想知道我应该在哪里进入文件以知道哪个商店视图将在前端使用？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-14T05:18:31.470

谢谢大家，

我想分享我的发现：

1.  Index.php 调用`Mage::run()`
2.  它调用 app/mage.php :: run()
3.  运行函数具有 `self::$_app->run(...)`最终调用`Mage_Core_Model_App::run()`函数的代码行
4.  `Mage_Core_Model_App::run()`包括`$this->_initCurrentStore($scopeCode, $scopeType);`
5.  `_initCurrentStore()`:: 使用方法将所有网站、组和商店加载到网站、组和商店对象中`_initStores()`。此功能检查站点是网站还是商店组或商店，如果是其中之一，则在那里设置当前商店。如果范围是基础，那么它会通过`$this->_checkCookieStore()`
6.  `$this->_checkCookieStore()`:: 这从 cookie 中获取存储类型`$this->getCookie()->get(Mage_Core_Model_Store::COOKIE_NAME);`，在那里它检查它是否是网站、组或存储，并`$this->_currentStore = $store;` 根据 cookie 返回的值设置当前存储。
7.  `Mage_Core_Model_App::_checkGetStore()`，这将使用 xpath_of_store_url 检查当前存储，更新 cookie

当前语言环境是在`Mage_Core_Model_App::init()`调用时设置的，init() 函数有`$this->_initEnvironment();`一个语言环境设置

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-05-19T10:42:52.940

如果设置了“将商店代码添加到网址”设置，则 Magento 还会根据 url 中存在的商店代码检测商店。例如 domain.com/en/ 它在 Mage_Core_Controller_Request_Http::setPathInfo() 中实现

因此，按照优先级（最低获胜）的顺序，Magento 使用以下数据来检测商店：

1.  检查 url 是否包含商店代码 -> 使用它
2.  检查是否设置了带有商店的 cookie
3.  使用 $_SERVER['MAGE_RUN_CODE'] 和 $_SERVER['MAGE_RUN_TYPE']
4.  从默认商店组获取默认商店，从默认网站获取默认商店组

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-10-10T17:26:05.387

我也在为 magento 认证考试而学习，但我不能 100% 确定该地区的反应。我在网上的搜索表明，被广泛接受的答案是：

当前语言环境是在调用 Mage_Core_Model_App::init() 时设置的，init() 函数具有 $this->_initEnvironment(); 有一个语言环境设置

好像有人这么说，每个人都在复制，但我不确定它是否正确。看到语言环境是在 Mage_Core_Model_Locale::__construct() 中决定的，但是在 $this->_initEnvironment() 中没有调用这个构造，因为在这个方法中 Mage_Core_Model_Locale 仅用作静态类。所以这不应该让构造运行：

```
protected function _initEnvironment()
{
    $this->setErrorHandler(self::DEFAULT_ERROR_HANDLER);
    date_default_timezone_set(Mage_Core_Model_Locale::DEFAULT_TIMEZONE);
    return $this;
} 
```

似乎此函数仅使用 Mage_Core_Model_Locale 中的常量来设置时区。时区与语言环境不同。

然而，在 Mage_Core_Model_App 中，函数 getLocale() 确实正确地实例化了语言环境，这应该让构造函数运行，因此 Mage_Core_Model_Locale::setLocale 运行。

Mage_Core_Model_App

```
public function getLocale()
{
    if (!$this->_locale) {
        $this->_locale = Mage::getSingleton('core/locale');
    }
    return $this->_locale;
} 
```

Mage_Core_Model_Locale

```
public function __construct($locale = null)
{
    $this->setLocale($locale);
}

public function setLocale($locale = null)
{
    if (($locale !== null) && is_string($locale)) {
        $this->_localeCode = $locale;
    } else {
        $this->_localeCode = $this->getDefaultLocale();
    }
    Mage::dispatchEvent('core_locale_set_locale', array('locale'=>$this));
    return $this;
} 
```

编辑：

当我这样做时，我决定继续前进并验证我是否正确。为此，我添加了

```
mageDebugBacktrace(); die(); 
```

到 Mage Core Locale 模型的 setLocale() 方法。此方法是 Locale 模型在其 _localeCode 属性上设置值的时候。换句话说，这是设置语言环境的时间。回溯将向我们展示导致它的方法调用链。

结果是这样的：

```
[1] /var/www/magento/htdocs/app/code/core/Mage/Core/Model/Locale.php:94
[2] /var/www/magento/htdocs/app/code/core/Mage/Core/Model/Config.php:1348
[3] /var/www/magento/htdocs/app/Mage.php:463
[4] /var/www/magento/htdocs/app/Mage.php:477
[5] /var/www/magento/htdocs/app/code/core/Mage/Core/Model/App.php:1018
[6] /var/www/magento/htdocs/app/code/core/Mage/Core/Model/Translate.php:347
[7] /var/www/magento/htdocs/app/code/core/Mage/Core/Model/Translate.php:179
[8] /var/www/magento/htdocs/app/code/core/Mage/Core/Model/Translate.php:119
[9] /var/www/magento/htdocs/app/code/core/Mage/Core/Model/App/Area.php:146
[10] /var/www/magento/htdocs/app/code/core/Mage/Core/Model/App/Area.php:121
[11] /var/www/magento/htdocs/app/code/core/Mage/Core/Model/App/Area.php:93
[12] /var/www/magento/htdocs/app/code/core/Mage/Core/Model/App.php:774
[13] /var/www/magento/htdocs/app/code/core/Mage/Core/Controller/Varien/Action.php:512
[14] /var/www/magento/htdocs/app/code/core/Mage/Core/Controller/Front/Action.php:64
[15] /var/www/magento/htdocs/app/code/core/Mage/Core/Controller/Varien/Action.php:407
[16] /var/www/magento/htdocs/app/code/core/Mage/Core/Controller/Varien/Router/Standard.php:250
[17] /var/www/magento/htdocs/app/code/core/Mage/Core/Controller/Varien/Front.php:172
[18] /var/www/magento/htdocs/app/code/core/Mage/Core/Model/App.php:354
[19] /var/www/magento/htdocs/app/Mage.php:684
[20] /var/www/magento/htdocs/index.php:87 
```

你可以看到第 18 行 App 模型第 354 行是这样的代码：

```
$this->getFrontController()->dispatch(); 
```

这是在 App 模型的 run() 方法中。整个方法如下所示：

```
public function run($params)
    {
        $options = isset($params['options']) ? $params['options'] : array();
        $this->baseInit($options);
        Mage::register('application_params', $params);

        if ($this->_cache->processRequest()) {
            $this->getResponse()->sendResponse();
        } else {
            $this->_initModules();
            $this->loadAreaPart(Mage_Core_Model_App_Area::AREA_GLOBAL, Mage_Core_Model_App_Area::PART_EVENTS);

            if ($this->_config->isLocalConfigLoaded()) {
                $scopeCode = isset($params['scope_code']) ? $params['scope_code'] : '';
                $scopeType = isset($params['scope_type']) ? $params['scope_type'] : 'store';
                $this->_initCurrentStore($scopeCode, $scopeType);
                $this->_initRequest();
                Mage_Core_Model_Resource_Setup::applyAllDataUpdates();
            }

            $this->getFrontController()->dispatch();
        }
        return $this;
    } 
```

因此，在 baseInit() 开头调用的 _initEnvironment() 中设置语言环境的整个想法是不正确的。也许有人感到困惑，不知道“默认时区”和“语言环境”之间的区别，但它绝对不是一回事！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T10:58:15.360

要获取当前商店的详细信息，请使用以下代码。

```
$store = Mage::app()->getStore();
$name = $store->getName(); 
```

# javascript - 使用 Facebook Javascript API 查询关于发表评论

> ID：11095073
> 
> 赞同：1
> 
> 时间：2012-06-19T05:47:50.450
> 
> 标签：javascript, facebook, api

根据 Facebook Javascript API 文档，我需要一个 APP Id 才能在 facebook 墙上发表评论。但是当我登录我的 Facebook 帐户时，它总是显示“所有广告系列”页面，我无法访问“应用程序”部分来创建新应用程序并获取可在 JavaScript API 中使用的应用程序 ID。你能建议如何我可以在我的帐户中创建一个 APP Id 并使用 Facebook Javascript API 从外部网页在我的 Facebook 墙上发表评论吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T11:23:20.640

> 我无法访问“应用程序”部分来创建新应用程序

“不能”究竟是什么意思？

您的帐户是否已通过 Facebook*验证*（通过手机短信、信用卡信息）？这是成为 FB 平台开发者的基本要求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T05:56:51.623

为此，您可以在 Facebook 上的[开发人员](http://developers.facebook.com)部分查看/创建应用程序。听起来您想查看“为网站构建”。当您制作了一个应用程序后，它将出现在[应用程序](https://developers.facebook.com/apps)部分，您可以在其中找到您的应用程序 ID 和应用程序密钥，以及管理/编辑应用程序。

# django - 如何从管理命令写入特定的日志文件？

> ID：11095079
> 
> 赞同：0
> 
> 时间：2012-06-19T05:48:06.467
> 
> 标签：django, logging

我有一个 Django 1.3 应用程序。我有几个管理命令。我希望每个命令都写入不同的日志文件，而不是在 settings.py 中定义的默认文件名。我每天将这些命令作为 cron 的一部分运行。我们当前的日志文件看起来像这里给出的示例[https://docs.djangoproject.com/en/dev/topics/logging/](https://docs.djangoproject.com/en/dev/topics/logging/)。而且，我们使用

```
logger = logging.getLogger(__name__) 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:45:09.967

您需要通过为每个包添加一个记录器和一个处理程序来做到这一点：

```
'handlers': {
    'my_command_handler': {
        'level': 'DEBUG',
        'class': 'logging.FileHandler',
        'filename': '/path/to/my_command_log',
     },
     ...
},
'loggers': {
     'my_pkg.management.commands.my_command': {
         'level': 'DEBUG',
         'handlers': ['my_command_handler'],
     },
     ...
 } 
```

`'propagate': False`如果您不希望消息到达其他记录器，您可能还需要考虑添加到命令记录器。

# performance - 在 MATLAB 中更快地替代 find()

> ID：11095082
> 
> 赞同：1
> 
> 时间：2012-06-19T05:48:32.300
> 
> 标签：performance, matlab, optimization

我正在尝试编写执行以下操作的（高效的）MATLAB 代码：

我有大约 100,000 个二维数据点，并且我有成对的间隔。第一个间隔不变（在本例中为 0 和 1 之间），第二个间隔不断变化。
我想获取具有以下内容的实例/数据点：

1) 第一个区间 (0,1) 内的 x 坐标值
2) 第二个区间内的 y 坐标值（变化区间）

```
% firstCol is a ~100,000 rows, one column array; x-coordinate
% secondCol is also a ~100,000 rows, one column array; y-coordinate

% boundaries of my first interval
%
maxOfMyFirstInterval = 1;
minOfMyFirstInterval = 0;

% allIntervalsMax is a ~10,000 rows, one column, of maximum values
% allIntervalsMin is a ~10,000 rows, one column, of minimum values
% 
% The above two columns contain the changing pairs, so the first pair would be
% (allIntervalsMin(1), allIntervalsMax(1))
%

% pre-allocate array that will hold number of data-points that satisfy 
% my condition
%
numberOfInstances = zeros(length(allIntervalsMax),1);

tic

% This will get the instances that satisfy my first condition,
% x-coordinate between 0 and 1
%
a_first = find((firstCol <= maxOfMyFirstInterval) & ...
    (firstCol >= minOfMyFirstInterval));

% Loop through the list of second intervals
%
for jx = 1:length(allIntervalsMax)

    a_second = find((secondCol <= allIntervalsMax(jx)) & ...
        (secondCol >= allIntervalsMin(jx)));

    a_both = intersect(a_first, a_second);

    numberOfInstances(jx) = length(a_both);
end

toc 
```

这样做所需的时间约为 29 秒，我想知道是否有更快的方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T07:07:53.267

如果您不费心查找和相交，您可能会加快速度。所以

```
a_first = (firstCol <= maxOfMyFirstInterval) & ...
    (firstCol >= minOfMyFirstInterval);

% Loop through the list of second intervals
%
for jx = 1:length(allIntervalsMax)

    a_second = (secondCol <= allIntervalsMax(jx)) & ...
        (secondCol >= allIntervalsMin(jx));

    a_both = a_first & a_second;

    numberOfInstances(jx) = sum(a_both);
end 
```

# asp.net - asp.net：为什么当我查看自己的网站时，在我的 Temp Internet File 文件夹中找不到图片？

> ID：11095093
> 
> 赞同：0
> 
> 时间：2012-06-19T05:49:17.700
> 
> 标签：asp.net

我有一个显示大量照片的网站，使用 asp.net 和 sql server 构建，照片存储在服务器的文件夹中，并且指向照片的指针存储在 sql server 中。我使用 iis7 在我的 Windows 计算机上托管了该网站，当我从同一台计算机查看该网站时，我在 Temp Internet Files 文件夹中找不到任何照片。不确定是否要使用另一台计算机，因为该网站尚未在线。那么这里发生了什么？我做错了什么还是 IE 没有从 localhost 将图片下载到临时文件夹中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:12:44.150

当我想显示存储在服务器上的另一个文件夹中的图像时，我会这样做。我很新，所以我正在做的可能不是最有效或最好的方法，但它确实有效，并且可能让您了解如何更改代码以获得所需的结果。

1) 在 appSettings 下将服务器上的路径添加到 web.config。

```
<configuration>

  <appSettings>
    <add key="ClientContactBusinessCardImagePath" value="C:\Content\BusinessCards\" />
    <add key="SupportLogPDFPath" value="C:\Content\SupportLogPDFs\" />
    <add key="NewsAttachmentPath" value="C:\Content\NewsAttachments\" />
  </appSettings>
  <system.web>
     //etc.
  </system.web>
</configuration> 
```

2）这是我从存储在服务器上的文件夹中显示名片的方法，但不是项目的一部分：

```
private void showBusinessCard(int setwidth)
{
    float fileWidth;
    float fileHeight;
    float sizeratio;
    float calculatedheight;
    int roundedheight;
    try
    {
        FileStream fstream = new FileStream(WebConfigurationManager.AppSettings["ClientContactBusinessCardImagePath"] + BusinessCardLabel.Text, FileMode.Open, FileAccess.Read, FileShare.Read);
        System.Drawing.Image image = System.Drawing.Image.FromStream(fstream);
        fstream.Dispose();
        fileWidth = image.Width;
        fileHeight = image.Height;
        sizeratio = fileHeight / fileWidth;

        calculatedheight = setwidth * sizeratio;
        roundedheight = Convert.ToInt32(calculatedheight);

        imgbusinesscard.Width = setwidth;
        imgbusinesscard.Height = roundedheight;

        imgbusinesscard.ImageUrl = "ImageHandler.ashx?img=" + BusinessCardLabel.Text;
        hlbusinesscard.NavigateUrl = "ImageHandler.ashx?img=" + BusinessCardLabel.Text;
    }
    catch
    {
        imgbusinesscard.ImageUrl = "~/images/editcontact/businesscard-noimage.png";
        imgbusinesscard.Width = 240;
        imgbusinesscard.Height = 180;
    } 
```

3) 中间调用的 ImageHandler 如下所示：

```
public void ProcessRequest(HttpContext context)
{
    try
    {
        string imageFileName = context.Request.QueryString["img"];

        System.Drawing.Image objImage = System.Drawing.Bitmap.FromFile(Path.Combine(WebConfigurationManager.AppSettings["ClientContactBusinessCardImagePath"], imageFileName));

        if (imageFileName != null)
        {
            MemoryStream objMemoryStream = new MemoryStream();
            objImage.Save(objMemoryStream, System.Drawing.Imaging.ImageFormat.Jpeg);
            byte[] imageContent = new byte[objMemoryStream.Length];
            objMemoryStream.Position = 0;
            objMemoryStream.Read(imageContent, 0, (int)objMemoryStream.Length);
            objMemoryStream.Dispose();
            objImage.Dispose();
            context.Response.ContentType = "image/jpeg";
            context.Response.BinaryWrite(imageContent);
        }
    }
    catch { }
} 
```

# java - 我在 tomcat 中收到“Java HotSpot(TM) 64 位服务器 VM 警告：异常 java.lang.OutOfMemoryError 发生调度信号 SIGTERM 到处理程序”错误

> ID：11095094
> 
> 赞同：9
> 
> 时间：2012-06-19T05:49:22.107
> 
> 标签：java, tomcat7, out-of-memory, jvm-crash

我在 VPS 上有 tomcat web 应用程序，tomcat 有时（大约每月一次）在 catalina.out 中崩溃并出现以下错误：

> Java HotSpot(TM) 64 位服务器 VM 警告：向处理程序发送信号 SIGTERM 时发生异常 java.lang.OutOfMemoryError - 可能需要强制终止 VM。

以下是有关我的配置的一些详细信息：

*   VPS：debian-5.0-x86_64

*   内存：2.5GB，

*   虚拟处理器：8

*   硬盘：60gb 硬盘 - 70% 免费

*   雄猫 7.0

*   java-版本：

    ```
    java version "1.6.0_18"
    OpenJDK Runtime Environment (IcedTea6 1.8.13) (6b18-1.8.13-0+squeeze1)
    OpenJDK 64-Bit Server VM (build 14.0-b16, mixed mode) 
    ```

*   Java 参数：-Xms512m -Xmx1024m

我在那台服务器上也有 Apache-PHP。

我正在使用 Munin 监控服务器负载，它显示内存和 CPU 使用率始终保持稳定，并且在崩溃之前没有任何增加。

我还通过 java.lang.Runtime 类记录 java 内存使用情况，它表明 jvm 始终使用 max200Mb 内存，并且在崩溃前没有增加。崩溃前的最后一个日志是 40 秒前，当时使用的内存是：152Mb。

我的网络应用还运行 6-7 个线程，从不同的公共 API 收集数据。这些线程在 tomcat 启动时启动，并且它们始终以周期性睡眠运行。

你能告诉我为什么会崩溃吗？我怎样才能找到原因？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-02-12T10:03:04.970

让我们取消选择：

> 向处理程序发送信号 SIGTERM 时发生异常 java.lang.OutOfMemoryError - VM 可能需要强制终止。

首先，它看起来像是向 JVM（Tomcat）进程发送了一个 SIGTERM 信号。它必须是 JVM 外部的东西。JVM 不会向自身发送信号¹。

所以你需要弄清楚是什么做的。我猜第一个猜测是OOM杀手……但OOM杀手使用SIGKILL而不是SIGTERM。JVM 永远不会看到 SIGKILL 的到来！

（您可以通过查看“/var/log/messages”...或系统记录内核消息的任何位置来确认它不是 OOM 杀手。请参阅[如何配置 Linux 内存不足杀手](http://%20http://www.oracle.com/technetwork/articles/servers-storage-dev/oom-killer-1911807.html)）

如果不是OOM杀手，那么有几种方法可以找到信号的来源：

*   [使用 strace、auditd 或 systemtap 在 Linux 上查找信号源](https://www.ibm.com/developerworks/community/blogs/aimsupport/entry/Finding_the_source_of_signals_on_Linux_with_strace_auditd_or_Systemtap?lang=en)

一旦你有了信号的来源，你就会知道它为什么被发送的线索。

* * *

另一个值得注意的事情是`OutOfMemoryError`在处理 SIGTERM 时发生。这强烈暗示（对我而言）根本原因是某些东西检测到 Tomcat 使用了太多内存，并已向其发送了一个 SIGTERM 以使其（干净地）消失。我推测接下来发生的事情是 JVM 向操作系统请求更多内存（以处理 SIGTERM）并且操作系统说“不”，然后 JVM 抛出一个`OutOfMemoryError`. 不幸的是，JVM 现在处于无法完全退出或恢复的状态。因此它说“可能需要强制终止虚拟机”。

* * *

无论如何。在我看来，这像是一个常见 Java 问题的不寻常表现。您的 Tomcat 中运行的 Web 应用程序中很可能存在泄漏内存的错误。如果是这种情况，唯一真正的解决方案是找到并修复错误。（增加堆大小......如果可能的话......只会解决问题。它可能会减少崩溃之间的间隔，但不太可能阻止它们。）

假设您准备好咬紧牙关：

*   [如何查找 Java 内存泄漏](https://stackoverflow.com/questions/40119/how-to-find-a-java-memory-leak)

* * *

^(1 - 除非在本机代码中做一些疯狂的事情......)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T12:00:41.510

*   从 shell运行`top`，查看 Linux 声称 Java 进程占用了多少内存。

*   检查机器中的整体内存使用情况。可能是其他进程正在消耗所有内存，从而迫使 Linux 杀死 JVM：Mysql 或 Postgress 等数据库可能是一个嫌疑犯。

*   检查`/var/log/messages`崩溃前后的时间段是否有异常事件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-08-07T10:52:51.187

您可以编辑 service.bat 或 service.sh 文件（在 deistribution 的 bin 文件夹中找到）并输入以下两个 jvm 参数

```
XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=<PATH_TO_WRITE_DUMP> 
```

PATH_TO_WRITE_DUMP 应该具有必要的权限，一旦您获得了在 OutOfMemory 问题的情况下将生成的堆转储文件，请手动或通过一些第三方工具对其进行分析。您可以在 jvisualvm 中加载此文件并进行一些分析，或者您可以使用 eclipse 的 Memory-Analyzer-Plugin ，它非常有用，并给出了一些潜在的内存泄漏嫌疑人和支配树（即哪个对象控制了堆）这可能是一个很好的开始观点。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-09-09T16:13:47.537

增加你的tomcat java启动内存，比如：set JAVA_OPTS=-server -Xms256m -Xmx512m

# java - jProfiler JVM 无法启动

> ID：11095095
> 
> 赞同：2
> 
> 时间：2012-06-19T05:49:25.783
> 
> 标签：java, jprofiler

我是 jProfiler 的新手。我是**`jprofiler_windows_5_1_4_with_jre.exe`**在我的 Windows 系统上安装的。安装后，我尝试在我的系统上运行 jProfiler，它显示错误消息，例如

**`The JVM could not be started. The main method may have thrown an exception`**

我安装**`IBM Java1.5`**在本地 Windows 系统上。**JAVA_HOME**已配置并且 Java 已正确安装。

任何人请指导我如何在 Windows 系统上安装**JProfiler 。**是否需要`environment variables`在我的本地系统上添加任何内容来运行 JProfiler？

谢谢，乔恩

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T18:33:11.537

不要将 JProfiler 5 用于任何事情。这是一个非常旧的版本。JProfiler 7.1（当前版本可以分析 Java 1.4 或更高版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-16T14:19:26.143

那是因为内存块的问题（有关详细信息，请参阅下面的参考资料）。如果程序有新版本，请使用更新的程序，但有时程序没有新版本，您必须本质上使用它。如果任何程序（不仅仅是 JProfiler）出现这个问题，请执行以下步骤：

1.  在程序文件夹下搜索 .vmoptions。
2.  用文本编辑器打开它。
3.  减小 -Xmx 尺寸（尝试降序，例如：512m、256m、128m、64m）直到找到合适的尺寸。对于每个尺寸尝试启动程序。

[Jetbrains 的解决方案](https://devnet.jetbrains.com/docs/DOC-1185)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T19:02:52.560

使用最新的 JProfiler 版本，可[在此处获得](http://www.ej-technologies.com/download/jprofiler/files.html)

请在[此处](http://www.ej-technologies.com/download/jprofiler/files.html#installationNotes)查看安装说明。

希望这可以帮助。

# java - Java如何将一个句子分成几部分？

> ID：11095096
> 
> 赞同：3
> 
> 时间：2012-06-19T05:49:36.527
> 
> 标签：java, string, sentence

我怎样才能把一个句子分成`"He and his brother playing football."`几个部分，如`"He and"`，、和。是否可以通过使用Java来做到这一点？`"and his"``"his brother"``"brother playing"``"playing football"`

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-19T05:53:36.447

假设“单词”总是由一个空格分隔。采用`String.split()`

```
String[] words = "He and his brother playing football.".split("\\s+");
for (int i = 0, l = words.length; i + 1 < l; i++)
        System.out.println(words[i] + " " + words[i + 1]); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-19T06:04:55.643

您可以使用**BreakIterator 类**及其**静态方法 getSentenceInstance() 来完成。** 它`Returns a new BreakIterator instance for sentence breaks for the default locale`。

`You can also use getWordInstance(), getLineInstance().. to break words, line...etc`

例如：

```
BreakIterator boundary = BreakIterator.getSentenceInstance();

boundary.setText("Your_Sentence");

int start = boundary.first();

int end = boundary.next(); 
```

`Iterate over it... to get the Sentences....`

有关更多详细信息，请查看此链接：

[http://docs.oracle.com/javase/6/docs/api/java/text/BreakIterator.html](http://docs.oracle.com/javase/6/docs/api/java/text/BreakIterator.html)

**编辑答案**：`This is a working code`

```
String sent = "My name is vivek. I work in TaxSmart";
        BreakIterator bi = BreakIterator.getSentenceInstance();
        bi.setText(sent);
        int index = 0;
        while (bi.next() != BreakIterator.DONE) {
        String sentence = sent.substring(index, bi.current());
        System.out.println("Sentence: " + sentence);
        index = bi.current();
        } 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-19T05:56:02.580

```
String str="He and his brother playing football";

    String [] strArray=str.split(" ");
    for(int i=0;i<strArray.length-1 ;i++)
    {
        System.out.println(strArray[i]+" "+strArray[i+1]);
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T06:01:29.630

使用 StringTokenizer 以空格或其他字符分隔。

```
import java.util.StringTokenizer;

public class Test {

         private static String[] tokenize(String str) {
            StringTokenizer tokenizer = new StringTokenizer(str);
        String[] arr = new String[tokenizer.countTokens()];
        int i = 0;
        while (tokenizer.hasMoreTokens()) {
        arr[i++] = tokenizer.nextToken();
        }
        return arr;
     }

    public static void main(String[] args) {
        String[] strs = tokenize("Sandy sells seashells by the sea shore.");
        for (String s : strs)
            System.out.println(s);
    }
} 
```

应该打印出来：

沙

卖

贝壳

经过

这

海

支撑。

可能是也可能不是你所追求的。

# grails - 为什么 Grails 服务类是单例的？

> ID：11095097
> 
> 赞同：11
> 
> 时间：2012-06-19T05:49:40.727
> 
> 标签：grails

我开始知道 Grails 服务类是单例类型的。出于什么原因，服务类被定义为单例？

提前致谢。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-06-19T06:20:26.193

Grails 服务可以[与不同的范围](http://grails.org/doc/latest/guide/services.html#scopedServices)一起使用，而*不仅仅是* `singleton`，通过在类中添加类似这样的内容：

```
static scope = "flow" 
```

从手册：

*   `prototype`- 每次注入另一个类时都会创建一个新服务
*   `request`- 每个请求都会创建一个新服务
*   `flash`- 仅为当前和下一个请求创建新服务
*   `flow`- 在网络流中，服务将存在于流的范围内
*   `conversation`- 在网络流中，服务将存在于对话范围内。即根流及其子流
*   `session`- 为用户会话的范围创建服务
*   `singleton`（默认）- 只存在一个服务实例

选择默认值的主要原因`singleton`是为了获得更好的性能，既可以减少内存使用量（只有一个实例存在），也可以减少处理时间，因为您消除了创建新对象的开销。

# android - 如果应用程序在后台运行并且用户关闭设备并再次打开设备，应用程序会做什么？

> ID：11095101
> 
> 赞同：1
> 
> 时间：2012-06-19T05:49:54.670
> 
> 标签：android, android-intent

实际上，我正在开发一个实时聊天应用程序，它工作正常。这个应用程序是基于选项卡的应用程序。我正在为这个应用程序使用 C2DM 和 TabHost。我遇到了一个问题。

1.当应用程序在后台运行并且用户关闭设备时（我认为在这种情况下应用程序将被杀死）。当用户再次打开设备并单击应用程序图标时，应用程序正在崩溃。

2.当应用程序在后台运行并且用户关闭设备时（我认为在这种情况下应用程序将被杀死）。当用户再次打开设备并且如果收到任何 c2dm 通知然后单击通知图标应用程序正在崩溃。

3.当我打开设备并单击应用程序启动器图标并在此显示异常时看到的问题是我的应用程序的 logcat [http://paste.org/50682](http://paste.org/50682)

这是 tabHOst 类

[http://paste.org/50683](http://paste.org/50683)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:21:43.710

存储数据`Preferences`以存储值并尝试。所以下次检查值是否是那个文件。

如果是，则应用程序运行良好，如果不是，则从 Basic 启动应用程序。

# android - 如何在 Play 商店中为我的应用设置允许自动更新功能

> ID：11095103
> 
> 赞同：5
> 
> 时间：2012-06-19T05:50:14.980
> 
> 标签：android, android-manifest, google-play, auto-update

我观察到 Play 商店中的一些应用程序在安装时显示允许自动更新选项和复选框，有些不为什么？清单文件中是否有为此添加任何设置或权限，或者这可用于预加载的应用程序或具有供应商/制造商证书的应用程序？作为普通开发人员，我必须做些什么才能在 Play 商店中为我的应用程序获得允许自动更新功能。下面的图片也显示了我所指的内容。任何建议，请提前致谢。

![在此处输入图像描述](../Images/937348dfbcdd41e42fb5efb3d235d277.png)

[编辑] 仅供参考

作为普通开发人员，我们无法实现此功能。原因是 android.permission.INSTALL_PACKAGES 只是被 Android 系统忽略，除非您的应用使用制造商证书签名。如果您的应用程序通过了制造商证书的认证，那么您的应用程序将被视为固件的一部分，并且可以静默安装任何软件包。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T00:35:58.007

我在 Google Play 上发布了一个应用程序，它有“允许自动更新”复选框。

我没有做任何特别的事情来使它可用。如果您有一个在 Google Play 上发布但没有此复选框的应用程序示例，请告诉我，因为我还没有看到这样的应用程序。

# image-processing - 如何使用 OpenCV（模板匹配）检测和匹配标记

> ID：11095113
> 
> 赞同：4
> 
> 时间：2012-06-19T05:51:00.880
> 
> 标签：image-processing, opencv, object-detection

我正在使用在特定区域保存标记的图像。我尝试使用模板匹配来做到这一点，这是在 opencv 中定义为 cvMatchTemplate 的方法。

我正在使用网络摄像头来检测它们，目前程序正在检测标记，因为我提供了与模板相同的标记。

但是我找不到一种方法来检查它是最佳匹配还是稍微匹配。因为在 cvMatchTemplate 中，它不仅检测最佳匹配，还不断检测稍微匹配的区域。

谁能告诉我一种方法来做到这一点。或者如果我的问题有其他方法，请告诉我！

这是我的图像卡的链接 [http://imageshack.us/photo/my-images/266/piggycard.jpg/](http://imageshack.us/photo/my-images/266/piggycard.jpg/) （我想检测并检查它是否经过加工）

这是代码

// template_mching_test_2.cpp : 定义控制台应用程序的入口点。//

```
#include "stdafx.h"
#include "cv.h"
#include "highgui.h"

int main()
{   
IplImage* imgOriginal = cvLoadImage("D:\\4Yr\\Research\\SRS\\Animations\\Piggycard.jpg", 0);
IplImage* imgTemplate = cvLoadImage("D:\\4Yr\\Research\\MakingOf\\Sample Imageas\\PiggyMarkerStart.jpg", 0);

CvCapture *cap = cvCaptureFromCAM(0);

if(!cap)
return -1;

cvNamedWindow("result");

IplImage* imgOriginal;
IplImage* imgOriginal2;
IplImage* imgResult;

while(true)
{
imgOriginal = cvQueryFrame(cap);//cvCreateImage(cvSize(imgOriginal->width-imgTemplate->width+1, imgOriginal->height-imgTemplate->height+1), IPL_DEPTH_32F, 1);
imgOriginal2 = cvCreateImage(cvSize(imgOriginal->width,imgOriginal->height),imgOriginal->depth,1);
imgResult = cvCreateImage(cvSize(imgOriginal->width-imgTemplate->width + 1,imgOriginal->height-imgTemplate->height+1),IPL_DEPTH_32F,1);

cvZero(imgResult);
cvZero(imgOriginal2);

cvCvtColor(imgOriginal,imgOriginal2,CV_BGR2GRAY);
cvMatchTemplate(imgOriginal2, imgTemplate, imgResult,CV_TM_CCORR_NORMED);

double min_val=0, max_val=0;
CvPoint min_loc, max_loc;
cvMinMaxLoc(imgResult, &min_val, &max_val, &min_loc, &max_loc);

cvRectangle(imgOriginal, max_loc, cvPoint(max_loc.x+imgTemplate->width,  max_loc.y+imgTemplate->height), cvScalar(0), 1);
printf("%f \n", max_val);

cvShowImage("result", imgOriginal);

cvWaitKey(10);

cvReleaseImage(&imgOriginal2);
cvReleaseImage(&imgResult);
}

cvDestroyAllWindows();
cvReleaseCapture(&cap);

return 0;

} 
```

作为模板，我提供了从原始图像中裁剪的相同标记。从 minMaxLoc 我取最大值来检查最佳匹配。但是当图像标记在某个位置时，它会一直给我相同的值，并且当图像标记不在框架中并且在先前与标记匹配的位置略微匹配时。minMaxloc 是否给我们的坐标（位置）标记或匹配百分比。或者有没有其他方法。谢谢您的考虑。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T14:08:23.623

有一个[关于模板匹配主题的 OpenCV 教程](http://opencv.itseez.com/doc/tutorials/imgproc/histograms/template_matching/template_matching.html)。

使用[matchTemplate](http://opencv.itseez.com/modules/imgproc/doc/object_detection.html?highlight=matchtemplate#matchtemplate)是一个好的开始，它将为您提供包含与您的匹配指标相关的数字的图像（该指标有一系列选择，其中一些提供较高的数字以获得更好的匹配，一些较低）。

为了随后挑选出最佳匹配，您还需要使用函数[minMaxLoc](http://opencv.itseez.com/modules/core/doc/operations_on_arrays.html?highlight=minmaxloc#minmaxloc)可以从该矩阵中找到最小值和最大值。

# mysql - mysql gem 出错

> ID：11095116
> 
> 赞同：1
> 
> 时间：2012-06-19T05:51:08.713
> 
> 标签：mysql, ruby-on-rails, ruby, gem

我正在尝试在我的服务器中启动一个 rails 应用程序。但我收到了这个错误。

```
uninitialized constant MysqlCompat::MysqlRes 
```

rails 版本是 2.3.14 和 ruby​​ 1.8

有人知道如何让这个工作吗？

# drupal-7 - Drupal 7 - 将侧栏上的二级菜单添加到特定部分

> ID：11095117
> 
> 赞同：1
> 
> 时间：2012-06-19T05:51:15.797
> 
> 标签：drupal-7

我想**将侧栏上的**二级菜单添加到菜单中的特定内容。

我会有顶级菜单，**Home**，**About Us**，**Resources**。让二级菜单仅出现在**资源**部分而不出现在任何其他部分中的最佳做法是什么？

我可以在菜单级别进行自定义，例如仅针对*资源*下的页面吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:50:59.847

[超级鱼菜单](http://drupal.org/project/superfish)

这将对您有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:56:18.147

有许多相同的贡献模块。尝试：

[http://drupal.org/project/nice_menus](http://drupal.org/project/nice_menus)

[http://drupal.org/project/jquerymenu](http://drupal.org/project/jquerymenu)

[http://drupal.org/project/superfish](http://drupal.org/project/superfish)

或者您可以在此处查看不同 drupal 下拉菜单的比较：

[http://drupal.org/node/990154](http://drupal.org/node/990154)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-19T14:10:14.513

fotuzlab 提到的模块可能会对您有所帮助，或者您的主题可能已经实现了某些级别的下拉菜单/可扩展菜单。但是对于其中一些模块/主题可能需要您`Show as expanded`在菜单链接设置中为**Resources**选中复选框并**取消选中其他菜单链接** 。

![在此处输入图像描述](../Images/4cdabf107a39087e8ee66c25818e03b1.png)

只是为了添加另一个可能的模块，您可以查看[Menu Blocks](http://drupal.org/project/menu_block)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-05-23T03:39:46.677

菜单块模块将允许您选择源菜单、菜单级别，例如第二级，并将其显示为页面上任何位置的块：[https ://www.drupal.org/project/menu_block](https://www.drupal.org/project/menu_block)

# r - 网格：如何正确旋转 y 轴标签？

> ID：11095121
> 
> 赞同：1
> 
> 时间：2012-06-19T05:51:42.050
> 
> 标签：r

如何`grid.yaxis()`在以下网格图中正确旋转 y 轴的标签（使用 创建）？注释掉的想法可以在 Paul Murrell 的书中找到，但由于某种原因它失败了。一个有效的版本`grid.edit("yaxis1", edits=gEdit("labels", rot=90))`如下所示，但是标签不再正确地居中于刻度线......

```
require(grid)

X <- matrix(rexp(2000), ncol=2)

grid.newpage()
pushViewport(plotViewport(c(4,4,4,4)))
pushViewport(dataViewport(X[,1], X[,2]))
grid.points(X[,1], X[,2], pch=1)
grid.rect()
grid.xaxis()
grid.yaxis(name="yaxis1")
grid.edit("yaxis1", edits=gEdit("labels", rot=90))
#grid.edit("yaxis1::labels", rot=90) # => fails with "Error in editDLfromGPat(hgPath, specs, strict, grep, global, redraw) : 'gPath' (yaxis1::labels) not found"
upViewport() 
```

# android - 如何让我的 Android 应用出现在另一个特定应用的共享列表中

> ID：11095122
> 
> 赞同：37
> 
> 时间：2012-06-19T05:51:46.697
> 
> 标签：android, android-intent, filter, share

```
<action android:name="android.intent.action.SEND" />     
<category android:name="android.intent.category.DEFAULT" />
<data android:mimeType="text/plain" /> 
```

这是在我的清单文件中

这将使我的应用程序出现在所有应用程序的共享列表中，但我希望我的应用程序出现在另一个特定应用程序的共享列表中，并且我不拥有其他应用程序

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2018-12-23T10:28:56.023

在从应用程序外部共享内容时首先要打开的活动中添加此代码，在 onCreate() 中调用此方法

```
private void onSharedIntent() {
    Intent receiverdIntent = getIntent();
    String receivedAction = receiverdIntent.getAction();
    String receivedType = receiverdIntent.getType();

    if (receivedAction.equals(Intent.ACTION_SEND)) {

        // check mime type 
        if (receivedType.startsWith("text/")) {

            String receivedText = receiverdIntent
                    .getStringExtra(Intent.EXTRA_TEXT);
            if (receivedText != null) {
                //do your stuff
            }
        }

        else if (receivedType.startsWith("image/")) {

            Uri receiveUri = (Uri) receiverdIntent
                    .getParcelableExtra(Intent.EXTRA_STREAM);

            if (receiveUri != null) {
                //do your stuff
                fileUri = receiveUri;// save to your own Uri object

                Log.e(TAG,receiveUri.toString());
            }
        }

    } else if (receivedAction.equals(Intent.ACTION_MAIN)) {

        Log.e(TAG, "onSharedIntent: nothing shared" );
    }
} 
```

在清单中添加这个，

```
 <activity
            android:name="your-package-name.YourActivity">
            <intent-filter>
                <action android:name="android.intent.action.SEND" /> 

                <category android:name="android.intent.category.DEFAULT" />      
                <data android:mimeType="image/*" />
                <data android:mimeType="text/*" />
            </intent-filter>
        </activity> 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-06-19T18:10:03.447

为此，您需要知道应用程序正在创建的 Intent 并创建一个 IntentFilter，它将您的应用程序添加到特定列表中。

[](http://developer.android.com/guide/components/intents-filters.html#Receiving)*在[*Intent 和 Filters 上接收隐式 Intent*](http://developer.android.com/guide/components/intents-filters.html#Receiving)[（Android 开发人员）](http://developer.android.com/guide/topics/intents/intents-filters.html)*

 *该应用程序可能使用您可以挂钩的特定操作名称。

```
<intent-filter . . . >
    <action android:name="com.example.project.SHOW_CURRENT" />
    <action android:name="com.example.project.SHOW_RECENT" />
    <action android:name="com.example.project.SHOW_PENDING" />
    . . .
</intent-filter> 
```

或者它可能正在寻找接受某种类型文件的应用程序。

```
<intent-filter . . . >
    <data android:mimeType="video/mpeg" android:scheme="http" . . . /> 
    <data android:mimeType="audio/mpeg" android:scheme="http" . . . />
    . . .
</intent-filter> 
```

应用程序的名称及其共享的内容将帮助我给出更具体的回应。

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2019-03-07T06:26:22.203

[![在此处输入图像描述](../Images/c5a69c969f9909c272211ec6d350cfab.png)](https://i.stack.imgur.com/YK3L4.png)**- 在特定活动中将以下代码添加到您的项目 AndroidManifest.xml 文件中。**

```
 <activity
                android:name=".MainActivity"
                android:theme="@style/Theme.AppCompat.Light.NoActionBar">
            <intent-filter>
                <action android:name="android.intent.action.SEND" />
                <category android:name="android.intent.category.DEFAULT" />
                <data android:mimeType="text/plain" />
            </intent-filter>
     </activity> 
```

**- 将以下代码行添加到您的项目特定活动中。**

```
 Intent intent = getIntent();
    String action = intent.getAction();
    String type = intent.getType();
    if ("android.intent.action.SEND".equals(action) && type != null && "text/plain".equals(type)) {
                Log.println(Log.ASSERT,"shareablTextExtra",intent.getStringExtra("android.intent.extra.TEXT"));
            } 
```

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2014-03-23T13:01:31.343

将此添加到您的 mainefist 文件中

```
<activity android:name=".ShareActivity">
<intent-filter
    android:label="Share with my app">
    <action android:name="android.intent.action.SEND" />
    <category android:name="android.intent.category.DEFAULT" />
</intent-filter> 
```

[这个链接可以帮助你](http://sudarmuthu.com/blog/sharing-content-in-android-using-action_send-intent/)

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2016-08-06T01:47:54.000

这对我来说非常适合获取所有网页，[我的应用程序](https://play.google.com/store/apps/details?id=com.specificapps.mp3_website_scanner_alarm)可以扫描网页上的 mp3 文件并从中设置警报。当您共享网页时，它会打开我的新 url 活动：

以下是此代码的结果： [![在此处输入图像描述](../Images/c7753b5152a1a1684c82ecd332c66cbc.png)](https://i.stack.imgur.com/xcv6z.png)

```
 <activity
        android:name=".NewUrl"
        android:label="@string/title_activity_new_url"
        android:windowSoftInputMode="stateUnchanged">
        <intent-filter>
            <action android:name="android.intent.action.SEND"/>
            <category android:name="android.intent.category.DEFAULT"/>
            <data android:mimeType="text/*"/>
        </intent-filter>
    </activity> 
```

然后要在应用程序中接收链接，我从本教程中获得了一些信息：http: [//code.tutsplus.com/tutorials/android-sdk-receiving-data-from-the-send-intent--mobile-14878](http://code.tutsplus.com/tutorials/android-sdk-receiving-data-from-the-send-intent--mobile-14878)

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2020-10-09T06:47:18.087

> 我想在上述答案中添加一些内容。请记住，如果您在一个活动中使用多个类别，您应该放置另一个意图过滤器以防止覆盖。

例如，以下内容将阻止您的应用程序显示在设备的应用程序列表中，因为它不会将其检测为启动器活动。

### 不要这样做

```
 <application
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/AppTheme">

        <activity android:name=".MainActivity">

            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />

                <!-- DO NOT DO THIS-->

                <action android:name="android.intent.action.SEND" />
                <category android:name="android.intent.category.DEFAULT" />
                <data android:mimeType="*/*" />
            </intent-filter>

        </activity>
    </application> 
```

### 而是执行以下操作

```
 <application
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/AppTheme">

        <activity android:name=".MainActivity">

            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>

            <!-- USE SEPERATE INTENT FILTER -->

            <intent-filter>
                <action android:name="android.intent.action.SEND" />
                <category android:name="android.intent.category.DEFAULT" />
                <data android:mimeType="*/*" />
            </intent-filter>

        </activity>
    </application> 
```

**注意：根据您的使用更改 mimeType。**

> 结论：如果您在意图过滤器中使用多个类别，请分别使用它们。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-06-19T17:43:32.880

我会检查是否有您想要使用的此应用程序的任何 API。

如果是这样，您可以通过了解

*   过滤器的更具体的隐式操作*   或者可能添加除 DEFAULT 以外的类别

如果你能找到类似的东西，它就不太可能被其他应用程序看到。*

# javascript - 如何做出要求数据的提示？

> ID：11095125
> 
> 赞同：0
> 
> 时间：2012-06-19T05:51:49.940
> 
> 标签：javascript, lua

Lua中是否有询问用户数据的提示功能？

例如，我知道 Java Script 有 prompt() 但 Lua 有吗？例如。

```
 name = Prompt("What is your Name?","Default Data to be inserted")
    print(name) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T09:26:33.960

如果您只是使用命令行界面，则可以使用：

```
function prompt(question,def)
   io.write(question,'\n','[',def or '',']:')
   return io.read('*l'):match'^%s*(%S.*)%s*' or def
end

prompt("Enter your name.","John Doe")
prompt("Enter your name.") -- works without default too. 
```

虽然它不可编辑，但它会打印默认值，只是在那里通知如果没有输入任何内容，它将被用作默认值。如果需要，您可以编辑其布局方式。

它读取一行作为输入，如果有一个非空格字符，它将返回输入的任何内容，去掉任何前导和尾随空格。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:03:54.243

我想你正在寻找类似的东西

[http://www.gammon.com.au/scripts/doc.php?lua=utils.inputbox](http://www.gammon.com.au/scripts/doc.php?lua=utils.inputbox)

# javascript - 访问表单内的 DIV？

> ID：11095134
> 
> 赞同：0
> 
> 时间：2012-06-19T05:52:58.417
> 
> 标签：javascript, html, html-parsing, dom

我正在尝试使用 id "codeDef" 访问 DIV

```
document.getElementById['codeDef'] 
```

但它返回“未定义”。我在这里做错了什么？

这是 HTML 片段：

```
<div class="section">
<div class="box">
<form method="post" name="exam-company-input-form" action="./">
<table>
<tbody><tr>
<td style="width:150px;padding-left:20px">
Exam Code
</td>
<td style="width:150px;padding-left:20px"><input type="text" maxlength="10" style="width:100%" value="" name="code" onkeyup="javascript:checkExamCode();"></td><td><div id="codeDef">code def</div></td>
</tr>
<tr>

<td style="width:150px;padding-left:20px">
Orca Code
</td>
<td style="width:150px;padding-left:20px"><input type="text" maxlength="10" style="width:100%" value="" name="srycd" onkeyup="javascript:checkOrcaCode();"></td><td id="orcaDef">orca def</td>
</tr>

<tr>
<td style="text-align:center" colspan="3">
<button style="opacity: 1; margin-right: 15px;" onclick="javascript:ResetForm('exam-company-input-form');" class="blue" type="button"><span>リセット</span>
</button><button style="opacity: 1;" onclick="javascript:SubmitForm('exam-company-input-form');" class="blue" type="button"><span>登&amp;#12288;録&lt;/span>
</button></td></tr>
</tbody></table>
<input type="hidden" value="master_exam-company-input-do" name="pid">
</form>
</div>
</div> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-19T05:54:56.990

`document.getElementById("idName")`

使用括号

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-19T05:57:11.250

应该是`document.getElementById('codeDef')`。

如果使用`[]`，则表示要获取`codeDef`Function的属性`document.getElementId`，显然没有该属性，所以会得到`undefined`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-19T05:54:54.843

这是一个功能，试试

```
document.getElementById('codeDef') 
```

代替

```
document.getElementById['codeDef'] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-19T06:02:39.253

它应该是

```
 document.getElementById('codeDef'); 
```

# objective-c - Xcode：如何使用 GameCenter 以赢家和输家结束 2 人回合制多人比赛？

> ID：11095136
> 
> 赞同：0
> 
> 时间：2012-06-19T05:53:02.043
> 
> 标签：objective-c, xcode, gamekit

我很难找到有关此的任何信息，并且我遇到的所有代码示例都是基于所有玩家都以平局结束的比赛。在我的 2 人回合制游戏中，我希望能够以赢家和输家结束比赛。使用下面的代码，我编写的比赛总是以两个玩家的相同结果结束，如果赢了，那么玩家 1 和 2 都赢了，如果输了，玩家 1 和 2 都松了……有什么帮助吗？谢谢你。

```
 if (gameOver == true) {
    if (GameWinner == 0) {
        GKTurnBasedParticipant *player0 = [currentMatch.participants objectAtIndex:0];
        player0.matchOutcome = GKTurnBasedMatchOutcomeWon;
        GKTurnBasedParticipant *player1 = [currentMatch.participants objectAtIndex:1];
        player1.matchOutcome = GKTurnBasedMatchOutcomeLost;

        [currentMatch endMatchInTurnWithMatchData:data completionHandler:^(NSError *error) {
            if (error) {
                NSLog(@"%@", error);
            }
        }];  
        testlabel.text = @"Player 1 Wins!";
    } else if (GameWinner == 1) {
        GKTurnBasedParticipant *player0 = [currentMatch.participants objectAtIndex:0];
        player0.matchOutcome = GKTurnBasedMatchOutcomeLost;
        GKTurnBasedParticipant *player1 = [currentMatch.participants objectAtIndex:1];
        player1.matchOutcome = GKTurnBasedMatchOutcomeWon;

        [currentMatch endMatchInTurnWithMatchData:data completionHandler:^(NSError *error) {
            if (error) {
                NSLog(@"%@", error);
            }
        }];
        testlabel.text = @"Player 2 Wins!";
    } else if (GameWinner == 2) {
        for (GKTurnBasedParticipant *part in currentMatch.participants) {
            part.matchOutcome = GKTurnBasedMatchOutcomeTied;
        }
        [currentMatch endMatchInTurnWithMatchData:data completionHandler:^(NSError *error) {
            if (error) {
                NSLog(@"%@", error);
            }
        }];
        testlabel.text = @"Tie Game!";
    } else {
        testlabel.text = @"Your turn is over.";
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:02:20.437

这听起来类似于[这个](https://stackoverflow.com/questions/10521778/game-center-outcome-posting)SO Question，试试：

```
GKTurnBasedParticipant *curr = currentMatch.currentParticipant;
    NSUInteger currentIndex = [currentMatch.participants indexOfObject:currentMatch.currentParticipant];
    NSUInteger nextIndex = (currentIndex + 1) % [currentMatch.participants count];
    GKTurnBasedParticipant *next = [currentMatch.participants objectAtIndex:nextIndex];

    if (currScore < otherScore)
    {
        // Curr player lost
        curr.matchOutcome = GKTurnBasedMatchOutcomeLost;
        next.matchOutcome = GKTurnBasedMatchOutcomeWon;
    }
    else if (currScore == otherScore)
    {
        // Tied
        curr.matchOutcome = GKTurnBasedMatchOutcomeTied;
        next.matchOutcome = GKTurnBasedMatchOutcomeTied;
    }
    else 
    {
        // Won
        curr.matchOutcome = GKTurnBasedMatchOutcomeWon;
        next.matchOutcome = GKTurnBasedMatchOutcomeLost;
    } 
```

# jquery - 如何仅从给定的 HTML 中获取文本并使用 Jquery 替换？

> ID：11095140
> 
> 赞同：0
> 
> 时间：2012-06-19T05:53:36.043
> 
> 标签：jquery, html, regex, string, autocomplete

我需要 jquery 的帮助。提前致谢。

我正在使用jquery的自动完成功能。有一个突出显示的选项。就像：-

```
highlight: function(match, keywords) {
            return match.replace(new RegExp("("+keywords+")", "gi"),'<b>$1</b>');
        } 
```

它工作正常..但我得到了 HTML 表单的结果。就像：-

```
<div id='22048,63' style='width:200px;text-align:left;'><div class='floatleft' style='width:165px'>(LAS) Las Vegas McCarran International Airport, Las Vegas, Nevada</div><div class='floatright' style='width:20px;padding-right:15px;'><img src='images/plane.gif' width='14' height='16' /></div></div> 
```

这就是为什么如果我在文本框中输入“las”而不是从 HTML 中替换类属性并且我的设计已经混搭了。因为“las”关键字出现在“Class”中。所以它正在取代这个。

我只想替换我在 HTML 中得到的文本。

比告诉我在 jquery 中有任何选项，所以我可以做到这一点..

感谢和问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T05:55:58.380

您可以使用`.text()`函数来获取没有 HTML 标签的文本。例子：

```
function removeAllHtmlInsideDiv() {
    $(".example_1").html( $(".example_1").text() );
};
removeAllHtmlInsideDiv(); 
```

在您的情况下，它可以用作：

```
highlight: function(match, keywords) {
    return (match.replace(new RegExp("("+keywords+")", "gi"),'<b>$1</b>')).text();
} 
```

**从字符串中剥离 HTML 标签：**

```
function stripHTML(html)
{
    // var html = "<p>Some HTML</p>";
    var div = document.createElement("div");
    div.innerHTML = html;
    var text = div.textContent || div.innerText || "";
    return text;
} 
```

所以在你的情况下，你需要这样说：

```
stripHTML(highlight); 
```

希望能帮助到你！:)

# java - JButton setIcon 更新错误

> ID：11095142
> 
> 赞同：0
> 
> 时间：2012-06-19T05:53:44.640
> 
> 标签：java, swing, netbeans, jbutton, imageicon

目前我正在使用基于更改按钮图像的netbeans制作一个java程序....

实际上，我的要求是在单击另一个按钮时更改按钮的图像图标（说 A）.....

我提出了以下程序........

```
 // Following function is included inside the button's (Here A) ActionListener........
       public void change_image()
       {
             if(sex==0)
             {
                   ic=new ImageIcon("E:\\java_images\\female_profile.jpg");
                   sex=1;
             }
             else if(sex==1)
             {
                   ic = new ImageIcon("E:\\java_images\\male_profile.png");
                   sex=0;
             }

              // To resize the image into the size of the button... 
               labelicon.setImage(ic.getImage().getScaledInstance(image_btn.getWidth(),image_btn.getHeight(), Image.SCALE_DEFAULT));

             img_btn.setIcon(labelicon);

         } 
```

我包含的变量是

```
 private int sex;    // 0  - female, 1 - male

           private ImageIcon ic,labelicon;  // variables meant for storing ImageIcons.....
           private JButton img_btn;  // the button at which the image is to  be displayed.... 
```

现在我观察到的奇怪行为是......

***仅当我单击最小化按钮时，图像才会在按钮单击时显示。即，当我单击按钮 A 时，ActionListener 中指定的代码将被执行。但是，只有当我最小化窗口并再次使其出现在屏幕上时，图像更改的效果才会出现。***谁能告诉我为什么会发生这种情况，我该如何解决这个问题？

我想要的只是在单击 A 按钮的那一刻更改图像.....嗯..我没有包含用于创建按钮的代码，因为它们很容易由 netbeans swing GUI builder 完成......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T06:18:19.243

1.  一次加载`Icon`/`ImageIcon`作为局部变量，没有理由重新加载图像`ActionListener`

2.  API 中的描述`Image#ScaledInstance`是非常异步的

3.  否则你必须打电话

.

```
labelicon.getImage().flush();
img_btn.setIcon(labelicon); 
```

编辑

@akp 写道，但是..您将如何调整图标图像的大小..？？

![在此处输入图像描述](../Images/ec0eaa4fa512463666157449fa724653.png)![在此处输入图像描述](../Images/eaa66f84c5d6530fd767566c8415dc5a.png)![在此处输入图像描述](../Images/b42f4092e22455f4589865052c3586ee.png)

有两种或三种其他方法可以放置 Icon /ImageIcon 并且可以与它的父级一起调整大小，JLabel 可能是最简单的方法

```
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.image.BufferedImage;
import java.io.IOException;
import java.util.Random;
import javax.swing.*;

public class JButtonAndIcon {

    private static JLabel label = new JLabel();
    private static Random random = new Random();
    private static ImageIcon image1; // returns null don't worry about 
    private static ImageIcon image2; // returns null don't worry about 
    private static Timer backTtimer;
    private static int HEIGHT = 300, WEIGHT = 200;

    public static void main(String[] args) throws IOException {
        label.setPreferredSize(new Dimension(HEIGHT, WEIGHT));
        final JButton button = new JButton("Push");
        button.setBorderPainted(false);
        button.setBorder(null);
        button.setFocusable(false);
        button.setMargin(new Insets(0, 0, 0, 0));
        button.setContentAreaFilled(false);
        button.setLayout(new BorderLayout());
        button.add(label);
        button.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                if (button.getIcon() == image1) {
                    label.setIcon(image2);
                } else {
                    label.setIcon(image1);
                }
            }
        });
        JFrame frame = new JFrame("Test");
        frame.add(button);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.pack();
        startBackground();
        frame.setVisible(true);
    }

    private static void startBackground() {
        backTtimer = new javax.swing.Timer(750, updateBackground());
        backTtimer.start();
        backTtimer.setRepeats(true);
    }

    private static Action updateBackground() {
        return new AbstractAction("Background action") {

            private static final long serialVersionUID = 1L;

            @Override
            public void actionPerformed(ActionEvent e) {
                label.setIcon(new ImageIcon(getImage()));
            }
        };
    }

    public static BufferedImage getImage() {
        int w = label.getWidth();
        int h = label.getHeight();
        GradientPaint gp = new GradientPaint(0f, 0f, new Color(
                127 + random.nextInt(128),
                127 + random.nextInt(128),
                127 + random.nextInt(128)),
                w, w,
                new Color(random.nextInt(128), random.nextInt(128), random.nextInt(128)));
        BufferedImage bi = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);
        Graphics2D g2d = bi.createGraphics();
        g2d.setPaint(gp);
        g2d.fillRect(0, 0, w, h);
        g2d.setColor(Color.BLACK);
        return bi;
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-19T06:20:46.773

这里的问题是您正在更新`Icon`. 该`setIcon`方法会认为它与按钮已有的图标相同。我建议您使用**两个不同的`Icon`对象**来更新图标。这将解决问题。

* * *

## 示例（带有两个不同的图标）：

```
public static void main(String[] args) throws IOException {

    final ImageIcon redIcon = createImageIcon(10, 10, Color.RED);
    final ImageIcon blueIcon = createImageIcon(10, 10, Color.BLUE);

    final JButton button = new JButton("Push", blueIcon);
    button.addActionListener(new ActionListener() {
        @Override
        public void actionPerformed(ActionEvent e) {
            if (button.getIcon() == redIcon)
                button.setIcon(blueIcon);
            else
                button.setIcon(redIcon);
        }
    });

    JFrame frame = new JFrame("Test");
    frame.add(button);
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    frame.pack();
    frame.setVisible(true);
}

private static ImageIcon createImageIcon(int w, int h, Color color) {
    Image image = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);
    Graphics g = image.getGraphics(); 
    g.setColor(color); 
    g.fillRect(0, 0, w, h); 
    g.dispose();
    return new ImageIcon(image);
} 
```

* * *

## 背景：

查看 的来源`AbstractButton.setIcon`，您可以看到如果引用“未更新”，它将不知道更新：

```
 .....
    if (defaultIcon != oldValue) {
        if (defaultIcon == null || oldValue == null ||
            defaultIcon.getIconWidth() != oldValue.getIconWidth() ||
            defaultIcon.getIconHeight() != oldValue.getIconHeight()) {
            revalidate();
        } 
        repaint();
    } 
```

* * *

*请注意@HarryJoy，即使您不知道为什么，您实际上也有道理... :) 抱歉！再次+1！*

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-19T06:05:30.753

//调用`img_btn.revalidate()`和`img_btn.repaint()`

更正， setIcon 应该已经这样做了。我个人使用hacky方式`img_btn.setText("<HTML><BODY><IMG SRC=\"/path/to/img.jpg\"/></BODY</HTML>");`。

# eclipse - eclipse项目中junit和source的两个单独的JRE

> ID：11095146
> 
> 赞同：3
> 
> 时间：2012-06-19T05:54:14.617
> 
> 标签：eclipse, ant, junit, java

下面是我的项目结构。

```
-project
   -sources
       -my.package
             -MyClass.java
   -test
       -my.package
             -MyClassTest.java 
```

我想为我的源代码使用低于 1.5 的 JDK 版本。

我的junit测试类需要最新的JDK。

是否有可能为同一个项目使用两个不同的 JDK。

```
当前解决方案：我可以为项目配置最新的 JDK，并且可以使用不同的目标进行编译，一个用于源，一个用于测试。javac-目标。
```

这是正确的做法吗？或请提出任何正确的解决方案。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T09:28:47.997

在 Ant 构建中，您可以为不同的源文件夹自由指定不同的 JDK 和编译器设置。

但是对于 Eclipse 编译，我认为您将被限制为每个项目使用一个 JDK 和编译器设置。我认为您不能在 Eclipse 项目中为每个文件夹指定单独的编译器。

选项：

*   将这些文件夹视为单独的 Eclipse 项目。或者，

*   为这两个文件夹实现 Ant 构建，但 Eclipse 只为其中一个构建。例如，您的 junit 类将仅由 Ant 构建。

# mfc - MFC 中 MDI 应用程序中的“无法创建空文档”错误

> ID：11095152
> 
> 赞同：1
> 
> 时间：2012-06-19T05:54:34.950
> 
> 标签：mfc, cricheditctrl

我正在使用 Visual Studio 2010 Ultimate。我创建了一个新的 MDI 应用程序，其中包含选项卡式文档、启用文档/视图架构、项目样式 MFC 标准和 MFC 应用程序向导中的所有其他默认选项。我的应用程序的视图派生自 CFormView。我使用资源编辑器在视图中添加了一个 CRichEditCtrl。当我运行此应用程序时，我收到一条错误消息，显示消息框“无法创建空文档”。但是，对于所有其他控件，一切都运行良好。请帮忙！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T15:51:48.807

在 .h 文件中添加此代码：
`DECLARE_DYNCREATE(YourClassName)`

并在 .cpp 文件中添加此代码：
`IMPLEMENT_DYNCREATE(YourClassName)`
替换它们是否存在。`DECLARE_DYNAMIC``IMPLEMENT_DYNAMIC`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T23:31:51.667

确保初始化富编辑库。

插入 AfxInitRichEdit 或 AfxInitRichEdit2（如果使用 Rich 编辑控件 2.0 版）调用。两者都为您加载适当版本的 RICHED20.DLL (ver2.0) 或 RICHED32.DLL。

进行此调用的最佳位置是 App 的 InitInstance。

# jms - 我们可以在发布/订阅消息中使用请求/回复模型吗？

> ID：11095155
> 
> 赞同：6
> 
> 时间：2012-06-19T05:54:43.050
> 
> 标签：jms, publish-subscribe

O'Reilly Media 的“Java 消息服务”一书说：

> 在点对点消息传递中使用请求/回复模型。

我们可以在发布/订阅消息中使用消息选择器，因此编写请求/回复模型就像在回复主题上编写一个简单的选择器一样简单：

1.  `UUID`发布者发布具有某些独特属性的消息（例如`correlationID`）
2.  订阅者对消息的响应`UUID`与`correlationID`
3.  发布者（也是回复主题的订阅者）选择已发送的消息`UUID`。

这是错误的模式吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:13:47.517

请求/回复消息模式通常用于调用由服务提供商托管的服务。根据服务请求，提供者将回复适当的响应。所以是一对一的。这里请求者和响应者彼此认识。

在发布/订阅的情况下，发布者和订阅者彼此不认识。一个主题可能有多个发布者发布，并且可能有数千个订阅者在收听该主题。因此，在收到发布后，如果订阅者使用主题回复请求，则该发布可能会发送给多个订阅者。这样的事情可能会淹没网络。

在我看来，请求/回复模型必须用于 P2P 消息传递，而不是 Pub/Sub。

# android - 如何使用 HTML 和 JAVASCRIPT 在 android 中获取发送电子邮件功能？

> ID：11095157
> 
> 赞同：0
> 
> 时间：2012-06-19T05:54:46.133
> 
> 标签：android, email, cordova

我有一个名为“发送电子邮件”的按钮，当我单击该按钮时，它应该打开一个页面来撰写邮件。我想使用 html 和 js 来获取它。任何人都可以帮我获取此功能。一些好的链接和例子真的很有帮助。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:13:05.967

phonegap 中没有内置功能来发送电子邮件。但是您可以通过 Phonegap Web Intent 自定义您的 phonegap 插件来做到这一点。阅读本[教程](http://smus.com/android-phonegap-plugins/)

# unix - Unix Grep 的更快替代方案

> ID：11095160
> 
> 赞同：4
> 
> 时间：2012-06-19T05:55:00.350
> 
> 标签：unix, grep

我正在尝试执行以下操作

```
$ grep ">" file.fasta > output.txt 
```

但是当输入的 fasta 文件很大时需要很长时间。

输入文件如下所示：

```
>seq1
ATCGGTTA
>seq2
ATGGGGGG 
```

有更快的选择吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-19T09:39:26.087

手工制作的状态机。如果您只希望在行首接受“>”，则需要多一个状态。如果您还需要识别“\r”，则需要更多的状态。

```
#include <stdio.h>

int main(void)
{
int state,ch;

for(state=0; (ch=getc(stdin)) != EOF;   ) {
        switch(state) {
        case 0: /* start */
                if (ch == '>') state = 1;
                else break;
        case 1: /* echo */
                fputc(ch,stdout);
                if (ch == '\n') state = 0;
                break;
                }
        }
if (state==1) fputc('\n',stdout);
return 0;
} 
```

如果您想要*真正的*速度，您可以将 fgetc() 和 fputc() 替换为它们的宏等价物 getc() 和 putc()。（但我认为像这样的琐碎程序无论如何都会受到 I/O 限制）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-19T09:12:17.723

对所有这些使用 time 命令

```
$> time grep ">" file.fasta > output.txt

$> time egrep ">" file.fasta > output.txt

$> time awk  '/^>/{print $0}' file.fasta > output.txt -- If ">' is first letter 
```

如果您看到输出..它们几乎相同。

在我看来，如果数据是**列格式**的，那么使用**awk**进行搜索。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-19T23:31:47.220

对于大文件，使用[GNU parallel](http://www.gnu.org/software/parallel/)`grep`可以实现最快的速度。可以在[此处](http://www.gnu.org/software/parallel/man.html#example__parallel_grep)找到使用and的示例。`parallel``grep`

出于您的目的，您可能想尝试：

```
cat file.fasta | parallel -j 4 --pipe --block 10M grep "^\>" > output.txt 
```

以上将使用四个核心，并将 10 MB 块解析为`grep`. 块大小是可选的，但我发现在我的系统上使用 10 MB 块大小要快得多。YRMV。

高温高压

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-09-18T14:52:46.697

Ack 是 grep 在代码中查找字符串/正则表达式的一个很好的替代方法：

[http://beyondgrep.com/](http://beyondgrep.com/)

# windows - 如何在 Windows 上复制 iTunes 风格的窗口？

> ID：11095164
> 
> 赞同：1
> 
> 时间：2012-06-19T05:55:28.760
> 
> 标签：windows, itunes, rounded-corners, realstudio

谁能提供一些关于如何在 Windows 中“复制”iTunes 样式窗口的见解？具体来说，我正在寻找以下功能：

1) 圆形窗口 2) 顶部和底部工具栏 3) 圆形文本字段

我目前正在尝试使用 Real Studio 进行一些跨平台开发，虽然我发现了在 OS X 中执行圆角窗口的机制（声明对 HIWindowSetContentBorderThickness 或 SetContentBorderThickness 的方法调用），但我在 MSDN 中找不到如何在 Windows 中做类似的事情。显然，Apple 在实际为 Windows 编写 iTunes 时做到了这一点。也许他们从头开始编写自定义控件。

旁注：我发现这篇几年前的文章简要讨论了它（http://discuss.joelonsoftware.com/default.asp?joel.3.454369.12），但这几乎是我能找到的所有内容。

即使我不能完全复制它，Windows 库可能包含我需要“手动”完成的功能的某个方向也会很好。任何进一步的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-27T05:59:23.800

有一个第三方控件可以做你想做的事。它适用于 Mac 和 Windows。

[http://www.madebyfiga.com/fgsourcelist/](http://www.madebyfiga.com/fgsourcelist/)

效果很好。

某人

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-28T21:12:44.893

没有用于制作 Apple 风格的圆角的 API，但有用于创建所需形状的窗口（包括框架窗口和控件）的较低级别的 API。

我不使用 RealStudio，但我相信它允许您访问 .NET 和本机 Win32 API，因此：

如果您使用的是 .NET Windows.Forms，请阅读[Visual Studio .NET 中的 Shaped Windows Forms and Controls](http://msdn.microsoft.com/en-us/library/aa289517%28v=vs.71%29.aspx)。它是为 VB7 编写的，但应该很容易翻译成您喜欢的语言。

如果您使用的是原始 Win32 API，至少有两种方法可以做到这一点。最简单但最有限的方法是调用[SetWindowRgn](http://msdn.microsoft.com/en-us/library/windows/desktop/dd145102%28v=vs.85%29.aspx) API，它将窗口的形状设置为您可以创建为 HRGN 的任何形状。但这可能不会适合你。你不想要锯齿状的边缘；你想要平滑的曲线，带有 alpha 混合的边框，也许还有阴影。（至少 Apple 是这样做的。）[分层的 Windows](http://msdn.microsoft.com/en-us/library/ms997507.aspx) API 就是这样做的方法。它允许任意形状（如果您使用 UpdateLayeredWindow，甚至可以即时更改——尽管您不需要该功能来模拟 iTunes）、alpha 透明度和复杂的命中测试。由于原始文章非常过时，并且没有涵盖所有功能，另请参阅[分层 Windows](http://msdn.microsoft.com/en-us/library/windows/desktop/ms632599%28v=vs.85%29.aspx#layered)对于当前文档，其中包含指向参考的链接。

# android - android浏览器输入比例问题

> ID：11095165
> 
> 赞同：3
> 
> 时间：2012-06-19T05:55:32.450
> 
> 标签：android, scale

我正在开发一个移动网络应用程序。我遇到了这个问题：当我将任何输入文本字段集中在页面上时，页面会缩放（缩放），而且仅在 android 浏览器中。在*元*标记中设置**user-scalable=no**并没有解决问题。

 *有任何想法吗？

谢谢

这是我的视图：

```
<meta id="viewport" name="viewport" content="width=device-width,user-scalable=no,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,target-densitydpi=device-dpi" /> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T13:18:27.967

Try this , it works fine for me in galaxy pop

```
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:03:44.647

在你的java代码中试试这个，

```
webView.getSettings().setSupportZoom(true); 
webView.getSettings().setDefaultZoom(WebSettings.ZoomDensity.FAR); 
```

试试这个，让我知道会发生什么..*

# java - 从 UI 更改 2 行后，属性文件中的数据正在更改

> ID：11095166
> 
> 赞同：0
> 
> 时间：2012-06-19T05:55:37.193
> 
> 标签：java, file, spring-mvc, properties

我正在从 UI 更改属性文件中的 2 个字段，我认为一切正常，但现在我遇到问题，当我更改 2 个字段并单击提交时，整个文件混乱，顶部缺少一些行。这是我实际的 userdata.properties 文件。

```
!**
! * Sahi - Web Automation and Test Tool
! * 
! * Copyright  2006  V Narayan Raman
! *
! * Licensed under the Apache License, Version 2.0 (the "License");
! * you may not use this file except in compliance with the License.
! * You may obtain a copy of the License at
! *
! *    http://www.apache.org/licenses/LICENSE-2.0
! *
! * Unless required by applicable law or agreed to in writing, software
! * distributed under the License is distributed on an "AS IS" BASIS,
! * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
! * See the License for the specific language governing permissions and
! * limitations under the License.
! **
# dirs. Relative paths are relative to userdata dir. Separate directories with semi-colon
scripts.dir=scripts;
# default log directory.
logs.dir=logs
# Directory where auto generated ssl cerificates are stored
certs.dir=certs

# Use external proxy server for http
ext.http.proxy.enable=true
ext.http.proxy.host=192.168.10.63
ext.http.proxy.port=8063
ext.http.proxy.auth.enable=false
ext.http.proxy.auth.name=kamlesh
ext.http.proxy.auth.password=password

# Use external proxy server for https
ext.https.proxy.enable=true
ext.https.proxy.host=
ext.https.proxy.port=
ext.https.proxy.auth.enable=false
ext.https.proxy.auth.name=kamlesh
ext.https.proxy.auth.password=password

# There is only one bypass list for both secure and insecure.
ext.http.both.proxy.bypass_hosts=localhost|127.0.0.1|*.internaldomain.com 
```

但是在更改代理=192.168.10.73 和端口=8073 之后，这些值正在更改，但文件看起来像这样

```
#hostchanged
#Tue Jun 19 10:53:00 IST 2012
ext.https.proxy.auth.password=password
ext.http.proxy.host=192.168.10.73
ext.https.proxy.auth.name=kamlesh
ext.http.proxy.auth.password=password
ext.http.proxy.port=8073
ext.http.proxy.enable=true
certs.dir=certs
ext.http.proxy.auth.enable=false
ext.https.proxy.host=
ext.http.proxy.auth.name=kamlesh
scripts.dir=scripts;
logs.dir=logs
ext.https.proxy.auth.enable=false
ext.https.proxy.port=
ext.https.proxy.enable=true
ext.http.both.proxy.bypass_hosts=localhost|127.0.0.1|*.internaldomain.com 
```

这是我用于此功能的控制器类，我无法找到我的错误，请帮助我纠正这个问题。

```
@Controller
public class MobeeProxyChangeController {

    private @Value("${filePath}")String fileDir;

    @RequestMapping("/proxy")
    public String ProxySettings(Model model) throws Exception {

        File f = new File(fileDir);

        Properties properties = new Properties();

        try {
            properties.load(new FileInputStream(f));

            String getHost = properties.getProperty("ext.http.proxy.host");
            String getPort = properties.getProperty("ext.http.proxy.port");

            model.addAttribute("proxyHost", getHost.trim());
            model.addAttribute("proxyPort", getPort.trim());
        } catch (Exception e) {
            e.printStackTrace();
        }

        return "proxyFile";

    }

    @RequestMapping("/saveProxy")
    public String SaveProxy(Model model, HttpServletRequest request,
            HttpServletResponse response) throws Exception {

        File f = new File(fileDir);
        Properties properties = new Properties();

        properties.load(new FileInputStream(f));
        OutputStream outFile = new FileOutputStream(f);

        System.out.println("output file-------------:"+outFile);

        try {
            String httpHost = request.getParameter("proxyHost");
            String httpPort = request.getParameter("proxyPort");

            if (properties.get("ext.http.proxy.host") != null
                    && properties.get("ext.http.proxy.port") != null) {

                properties.setProperty("ext.http.proxy.host", httpHost.trim());
                properties.setProperty("ext.http.proxy.port", httpPort.trim());
                properties.store(outFile, "hostchanged");

            }
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            outFile.close();
        }

        return "redirect:/mainPage";

    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T05:58:09.940

当您使用 Java 属性时，它将跳过代码的注释部分。因此，当您将其写回时，注释部分会丢失。

Java 属性旨在仅从属性文件中提取键值对。所有评论仅供人类阅读。

所以你的代码中的属性对象没有关于注释代码的任何信息。因此，当您执行 properties.store() 时，它只保存键值对而不是以前的注释。

我不建议以编程方式更改属性文件的内容。但如果你这样做，你可以使用 FileWriter 并像普通文本文件一样写入文件。[您可以在此处](http://www.javapractices.com/topic/TopicAction.do?Id=42)查看示例。

# windows-phone-7 - 单击wp7中的按钮时如何显示项目列表？

> ID：11095173
> 
> 赞同：0
> 
> 时间：2012-06-19T05:56:09.610
> 
> 标签：windows-phone-7, windows-phone-7.1

我在页面中放置了一个按钮。当单击该按钮时，需要在组合框中仅显示 1 到 30 个数字作为该页面中的弹出窗口。请告诉我如何实现这一点？

编辑：

![看图片](../Images/bb7483fdf12ac564ffc3886add501ef2.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:12:45.437

你可以使用 WP7 的[ListPicker](http://www.windowsphonegeek.com/articles/listpicker-for-wp7-in-depth)而不是 WP7 的 ComboBox。

要在弹出窗口中显示 ListPicker，请将 ListPicker 放在[MessagePrompt](http://www.windowsphonegeek.com/articles/Coding4Fun-WP7-Message-Prompt-in-depth)中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:18:31.030

我已经用设计编辑了答案，将图像添加为项目中的本地内容

```
 <Grid x:Name="ContentPanel" Grid.Row="1" Margin="12,0,12,0">
        <Button Content="Button" Height="82" HorizontalAlignment="Left" Margin="44,59,0,0" Name="button1" VerticalAlignment="Top" Width="376" Click="button1_Click" />
        <ListBox ItemsSource="{Binding item}" Width="376" Name="lst" Margin="56,128,48,76" Background="White">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border BorderThickness="1" DataContext="{Binding}"  BorderBrush="Black">
                        <StackPanel Width="376" Orientation="Vertical" Height="Auto">
                            <Image Margin="200,20,-75,5"  Height="50" Width="50" Source="{Binding img}"></Image>
                            <TextBlock Margin="-200,-15,90,3"  Height="50" Width="50" Name="text" Text="{Binding text}" Foreground="Black"></TextBlock>
                        </StackPanel>
                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </Grid>
</Grid>

 lst.visibility = visibility.collapsed;

private void button1_Click(object sender, RoutedEventArgs e)
    {

        lst.visibility = visibility.visible;
        List<Itemss> data = new List<Itemss>();
        for (int i = 0; i < 30; i++)
        {
        Itemss item = new Itemss();

            item.text = i.ToString();

            item.img = "/images.jpg";

            data.Add(item);

        }

        lst.ItemsSource = data;
       }

    public class Itemss
    {
        public string text { get; set; }
        public string img { get; set; }
    }

} 
```

# html - 为什么有些网页的打印效果比其他网页好？

> ID：11095177
> 
> 赞同：-4
> 
> 时间：2012-06-19T05:56:37.753
> 
> 标签：html, css

当我打印网页时，比如说 github，通常都是在 wordpress 中完成的。所有格式都消失了。而其他页面，例如[http://webnoir.org/tutorials/forms](http://webnoir.org/tutorials/forms)保留了它们的格式。另外，我注意到有时黑色背景的页面打印白色背景，而其他时候我最终浪费了一半的打印机碳粉。有没有办法使用css进行设置？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T05:59:11.530

您可以像这样为打印添加条件样式：

```
<link rel="stylesheet" type="text/css" media="print" href="print.css" /> 
```

打印页面的样式有其自身的复杂性，因此值得阅读这篇[ALA 文章](http://www.alistapart.com/articles/goingtoprint/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:03:38.187

打印样式表

[改善打印样式表的 10 个技巧](http://www.webdesignerdepot.com/2010/01/10-tips-for-better-print-style-sheets/)

“如果你忘记了，这里是设置打印样式表的方法：

```
<link rel="stylesheet" href="print.css" type="text/css" media="print" /> 
```

该`media="print"`属性确保用户看不到 print.css 文件中定义的任何样式。但是需要注意：如果您的主样式表没有媒体属性，则打印样式表将继承其样式..."

# javascript - 在 angular.js 上使用 HTML5 pushstate

> ID：11095179
> 
> 赞同：84
> 
> 时间：2012-06-19T05:56:45.980
> 
> 标签：javascript, angularjs

我正在尝试实现 html5 的 pushstate，而不是 Angularjs 使用的 # 导航。我曾尝试在谷歌上搜索答案，还尝试了 angular irc 聊天室，但还没有运气。

这是我的`controllers.js`：

```
function PhoneListCtrl($scope, $http) {
    $http.get('phones/phones.json').success(function(data) {
        $scope.phones = data;
    });
}

function PhoneDetailCtrl($scope, $routeParams) {
  $scope.phoneId = $routeParams.phoneId;
}

function greetCntr($scope, $window) {
    $scope.greet = function() {
    $("#modal").slideDown();
    }
} 
```

应用程序.js

```
angular.module('phoneapp', []).
    config(['$routeProvider', function($routeProvider){
        $routeProvider.
            when('/phones', {
                templateUrl: 'partials/phone-list.html',
                controller: PhoneListCtrl
            }).
            when('/phones/:phoneId', {
                templateUrl: 'partials/phone-detail.html',
                controller: PhoneDetailCtrl
            }).
            otherwise({
                redirectTo: '/phones'
            });
    }]) 
```

* * *

## 回答 #1

> 赞同：129
> 
> 时间：2012-06-19T11:58:52.500

将 $locationProvider 注入到您的配置中，然后设置`$locationProvider.html5Mode(true)`.

[http://docs.angularjs.org/api/ng.$locationProvider](http://docs.angularjs.org/api/ng.$locationProvider)

简单的例子：

JS：

```
myApp.config(function($routeProvider, $locationProvider) {
  $locationProvider.html5Mode(true);
  $routeProvider
    .when('/page1', { template: 'page1.html', controller: 'Page1Ctrl' })
    .when('/page2', { template: 'page2.html', controller: 'Page2Ctrl' })
}); 
```

HTML：

```
<a href="/page1">Page 1</a> | <a href="/page2">Page 2</a> 
```

# c# - 如何用 SignalR 代替传统的 Ajax 轮询？

> ID：11095180
> 
> 赞同：1
> 
> 时间：2012-06-19T05:56:46.153
> 
> 标签：c#, asp.net, signalr

**我想用 SignalR 做什么：**

1- 在页面加载时从会话 UserID 设置隐藏字段，并将此 ID 发送回服务器的 SignalR Hub 以启动给定用户的轮询线程。

2-当用户离开网站时终止线程。

现在，我每 30 秒向每个用户发送一次 AJAX 请求以检查新的用户消息。我只想用 SignalR 替换它。当通过在页面加载时设置隐藏字段然后通过ajax请求设置会话变量来创建用户会话时，我可以在HUB中创建用户级线程，因此不会一次又一次地为同一用户创建新线程，例如**页面刷新**。该线程会在（15 秒）后定期检查新到达的消息。主要问题是如何在会话结束时终止为特定用户创建的线程。这是使用 SignalR 的正确方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:52:46.030

这听起来不像是好的设计——轮询从来都不是好的，无论如何都不是针对这类问题的。如果您可以立即传递消息会更好。您是否使用多个网络服务器？如果没有，则在应用程序内本地传递消息。如果您使用多个网络服务器，请考虑使用 RabbitMQ、Redis 或类似的东西在服务器之间发送消息。

# iphone - 如何保存缩放的uiimage

> ID：11095183
> 
> 赞同：1
> 
> 时间：2012-06-19T05:56:58.630
> 
> 标签：iphone, uiimageview, scale

[屏幕图片链接](http://i.stack.imgur.com/iibUG.png)，[savePic图片链接](http://i.stack.imgur.com/UQDsB.jpg)，你可以找到screenImg和savePic的区别。我将 backgroundImageView 设置为一个非常小的 png。我想将背景图像视图保存为图片。在iPhone模拟器屏幕中，图像边缘正常，但savePic边缘不清晰。任何人都可以告诉我如何保存高清图片。

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    //_backImgView 320*480
    self.backImgView.image = [UIImage imageNamed:@"Purple.png"];

    [self performSelector:@selector(savePic) withObject:nil afterDelay:0.1];
}

- (void)savePic
{
    BOOL isDir;
    NSString *dirPath = [NSHomeDirectory() stringByAppendingPathComponent:@"/Documents/Pic"]; 
    NSFileManager *fm = [NSFileManager defaultManager];
    if(![fm fileExistsAtPath:dirPath isDirectory:&isDir]){
        BOOL bo = [fm createDirectoryAtPath:dirPath withIntermediateDirectories:YES attributes:nil error:nil];
        if(!bo){
            NSLog(@"-->Create CardSlide Dir Fail!!!");
            return;
        }
    }

    UIGraphicsBeginImageContext(_backImgView.bounds.size);
    //UIGraphicsBeginImageContextWithOptions(_backImgView.bounds.size, _backImgView.opaque, 2.0);
    CGContextSetAllowsAntialiasing(UIGraphicsGetCurrentContext(), YES);
    [_backImgView drawRect:_backImgView.bounds];
    //[_backImgView.layer renderInContext:UIGraphicsGetCurrentContext()];

    UIImage *bgImg = UIGraphicsGetImageFromCurrentImageContext();  
    UIGraphicsEndImageContext();

    NSString *path = [NSString stringWithFormat:@"save_%@.jpg", @"demo"];
    NSString *jpgPath = [dirPath stringByAppendingPathComponent:path]; 
    BOOL isSucc = [UIImageJPEGRepresentation(bgImg, 1.0) writeToFile:jpgPath atomically:YES];
    NSLog(@"%@ write photo %@!", jpgPath, isSucc?@"SUCC":@"FAIL");
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:12:33.143

使用小图像，不可能以正确的方式将其缩放到更大的图像，您将始终通过模糊、嘈杂的图像但是如果您的图像可以具有可拉伸的重复部分，您可以在不创建新图像的情况下拉伸图像的内部. UIImage 中有两个 API 调用：（
`– resizableImageWithCapInsets:`仅 ios5）
`– stretchableImageWithLeftCapWidth:topCapHeight:`（在 iOS 5.0 中已弃用）
如果您找到正确的插图，您可以避免创建新图像，基本上是用于在消息应用程序中创建气泡的相同系统。气球真的很小，但它有一个可拉伸的区域，可以保持纵横比。
由于图像非常简单，您也可以考虑使用 Quartz 函数创建矩形路径来绘制它，路径“几乎”与 res 无关，只需将它们缩放到正确的大小。

# c++ - 多重定义符号上的链接器错误何时会出现？

> ID：11095187
> 
> 赞同：3
> 
> 时间：2012-06-19T05:57:12.057
> 
> 标签：c++, visual-studio-2010

当我有以下代码`A.cpp` **并且** `B.cpp`没有生成警告或错误，但是`Initializer::Initializer()`in`B.cpp`被调用两次而 in`A.cpp`没有被调用时。

```
static int x = 0;

struct Initializer
{
    Initializer()
    {
        x = 10;
    }
};

static Initializer init; 
```

由于这违反了一个定义规则并导致未定义的行为，我认为这是完全正常的。但是，当我将构造函数定义移到一个或两个文件中的类声明之外时，如下所示：

```
static int x = 0;

struct Initializer
{
    Initializer();
};

Initializer::Initializer()
{
    x = 10;
}

static Initializer init; 
```

链接器突然变得足够聪明，可以出错并说`one or more multiply defined symbols found`. 这里发生了什么变化，为什么这很重要？我原以为链接器应该*始终*能够检测到 ODR 损坏 - 什么情况下它不能检测到？

如果我错了，有人纠正我，但我的理论是，当你有模板化代码（定义总是在标题中）时，你最终会在许多编译单元中得到重复的定义。它们碰巧都是相同的，因此链接器是否只选择一个并孤立其他无关紧要，但不会出错，有多个定义或模板不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:02:00.607

您的第二个示例具有明显且易于诊断的违反单一定义规则的情况。它对具有外部链接的非内联函数有两个定义。这对于链接器来说很容易诊断，因为从它所链接的目标文件中包含的函数的名称中可以明显看出违规。

您的第一个示例以更微妙的方式打破了单一定义规则。因为在类体中定义的函数是隐式声明`inline`的，所以您必须检查函数体以确定是否违反了*一个定义规则。*

仅出于这个原因，我对您的实施未能发现违规行为并不感到惊讶（我不是第一次这样做）。显然，编译器在孤立地查看一个源文件时不可能发现违规，但可能是检测违规和链接时间的信息实际上并不存在于传递给链接器的目标文件中。这肯定超出了我期望链接器找到的范围。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-19T07:00:36.380

当多个翻译单元对于具有外部链接的项目具有相同的名称签名时，会发生多重定义符号错误，除非它们是内联函数或方法。

内联函数通常在编译时不受 ODR 影响。如果是这样，方法的内联实现将到处中断。但是，ODR 是在链接期间追溯应用的，因为选择了一个内联函数。因此，具有相同签名的内联函数应该具有相同的行为。您的内联构造函数违反了该期望。

相反，如果您在头文件中声明了一个模板，如下所示：

```
#ifndef I_HH
#define I_HH
tempalte <typename T>
struct Initializer {
    Initializer () { x = 10; }
};
#endif 
```

并使用它来包含在`A.cpp`and`B.cpp`中，并且在每个中都创建了一个静态实例：

```
static int x;
#include "i.hh"
static Initializer<int> init; 
```

我相信编译器应该抱怨一个格式不正确的模板（g++ 无论如何都会这样做），这与检测违反 ODR 一样好（构造函数在不同的上下文中会表现不同）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T06:06:07.063

如果您在类定义中有函数的实现，则该函数是内联的，不需要链接。所以没有错误。必须有一个定义，但没关系它包含在不同的 cpp 文件中。例如，您在头文件中定义了一个类，但将头文件包含在不同的 cpp 文件中。

# wpf - 在 WPF MVVM 中动态添加控件

> ID：11095189
> 
> 赞同：21
> 
> 时间：2012-06-19T05:57:27.960
> 
> 标签：wpf, mvvm-light

我正在开发一个动态搜索视图，其中单击一个按钮应添加一个包含 3 个组合框和 2 个文本框的新行。

我该怎么做呢？

* * *

## 回答 #1

> 赞同：63
> 
> 时间：2012-06-19T06:23:37.990

如果您真的想做 mvvm ，请尝试忘记“如何添加控件”。您不必这样做，只需考虑您的视图模型 - WPF 为您创建控制 :)

在您的情况下，假设我们有一个 SearchViewModel 和一个 SearchEntryViewmodel。

```
public class SearchEntryViewmodel
{
    //Properties for Binding to Combobox and Textbox goes here
}

public class SearchViewModel 
{
    public ObservableCollection<SearchEntryViewmodel> MySearchItems {get;set;}
    public ICommand AddSearchItem {get;}
} 
```

到目前为止，您不必考虑用户控件/视图。在您的中`SearchView`，您创建一个`ItemsControl`并将其绑定`ItemsSource`到`MySearchItems`.

```
<ItemsControl ItemsSource="{Binding MySearchItems}"/> 
```

你现在看到你`SearchEntryViewmodels`在`ItemsControl(just the ToString() atm)`.

为了满足您使用 3Comboboxes 等显示每个 SearchEntryViewmodel 的要求，您只需在资源中定义一个 DataTemplate

```
<DataTemplate DataType="{x:Type local:SearchEntryViewmodel}">
    <StackPanel Orientation="Horizontal">
        <Combobox ItemsSource="{Binding MyPropertyInSearchEntryViewmodel}"/>
        <!-- the other controls with bindings -->
    </StackPanel>
</DataTemplate> 
```

就是这样 :) 而且您永远不必考虑“如何动态添加控件？”。您只需将新的添加`SearchEntryViewmodel`到您的收藏中。

这种方法称为**Viewmodel First**，我认为这是执行 MVVM 的最简单方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:05:56.230

一种选择是您可以通过创建新实例在后端创建文本框和组合框。但更好的选择是您可以创建一个用户控件，其中包含您要添加的所有 texbox 和组合框以及您想要的格式。在按下按钮时创建后，您可以创建此用户控件的实例，并使用控件的**SetValue**属性将其设置在网格或任何其他控件中。

如果您不熟悉 WPF 和 MVVM，请阅读此博客以了解这一点。

[https://radhikakhacharia.wordpress.com/2012/06/01/wpf-tutorial-3/](https://radhikakhacharia.wordpress.com/2012/06/01/wpf-tutorial-3/)

[https://radhikakhacharia.wordpress.com/2012/02/13/model-view-viewmodel/](https://radhikakhacharia.wordpress.com/2012/02/13/model-view-viewmodel/)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-19T06:02:37.080

如果您是 MVVM 和 WPF 的新手，Jason Dollinger 提供了一个非常精彩的视频教程，介绍如何构建 C# / WPF / MVVM 应用程序，可[在 lab49 上找到](http://blog.lab49.com/archives/2650)。他在这段精彩视频中开发的所有源代码也可以[在 lab49 上找到。](http://blog.lab49.com/archives/2689)

看完之后，你肯定不会有任何问题来开发你的搜索视图。

# bioinformatics - 链式特定礼帽/袖扣

> ID：11095201
> 
> 赞同：0
> 
> 时间：2012-06-19T05:58:37.817
> 
> 标签：bioinformatics

我有一个要组装的链特异性 RNA-seq 库（Illumina）。我想使用 TopHat/Cufflinks。从 TopHat 的手册中，它说，

“--library-type TopHat 会将读取视为链特异性。每个读取对齐都有一个 XS 属性标签。考虑在下面提供库类型选项以选择正确的 RNA-seq 协议。”

这是否意味着 TopHat 仅支持特定于链的协议？我使用选项“--library-type fr-unstred”来运行，这是否意味着它以特定于链的方式运行？我用谷歌搜索并询问了开发人员，但没有得到答案...

我得到了一些结果：

![在此处输入图像描述](../Images/b04bcdcb6084cf80d6e385859c1c3783.png)

这里的 contig 由两组 reads 组装而成，左侧是反向 reads，而右侧是正向 reads。（为了可视化，我有反向补充正确的伴侣）

但是一些重叠群纯粹是由反向或正向读取组装而成的。如果它是链特异性的，一个基因应该产生相同方向的读数。它不应该像上图那样报告结果，对吗？或者是否有可能一个基因被片段化，然后独立测序，所以碰巧左边部分产生反向读取，而右边部分产生正向读取？据我了解，链特异性通过 3'/5' 连接保持，因此应该以基因为单位。

这里有什么问题？还是我错误地理解了“特定于链”的概念？任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-23T19:23:11.140

Tophat/Cufflinks 不用于组装，它们用于与已组装的基因组或转录组对齐。你把你的阅读与什么对齐？此外，如果您有特定于链的数据，则不应选择非链库类型。您应该根据您的文库制备方法选择合适的一种。如果您选择非链库类型，XS 标签只会放置在拆分读取上。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-06T14:22:40.670

如果你想对你的转录组进行*从头*组装，你应该看看组装器（而不是映射器），比如

*   三位一体
*   SoapDeNovo
*   绿洲……

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-10T18:51:59.803

Tophat 可以处理滞留库和非滞留库。在您的快照中，中心区域确实具有 + 和 - 链读取。两端的偏差可能是您的文库制备或分析方法的某些特征。这个基因的方向是什么？它看起来有点偏向左侧。如果左侧对应于 3' 末端，那么您的文库制备很可能具有 3' 偏向特征（例如 dT-primed 逆转录） 您对 RNA 进行片段化的方式也可能对您的读数分布产生影响。我想我们需要更多信息才能找到真相。但我们也应该记住，礼帽/袖扣也可能有错误。

# c++ - 为升压信号指定备用默认值2

> ID：11095204
> 
> 赞同：1
> 
> 时间：2012-06-19T05:58:52.093
> 
> 标签：c++, templates, boost, boost-signals2, boost-parameter

Boost 的 signals2 库定义了一种很好的方式来传递一些扩展功能的备用参数（通过它的参数库）。当这些备用参数之一在我的代码中相当普遍时，我想制作一个帮助程序来进一步简化使用；例如，要指定备用互斥锁类型，我可以这样做：

```
namespace bs2 = boost::signals2;
template<typename Signature>
struct my_signal
{
    typedef typename bs2::signal_type<Signature,
        bs2::keywords::mutex_type<my_mutex> >::type type;
};

my_signal<void ()>::type some_signal; 
```

不幸的是，这样做我也“失去”了为其他信号参数（例如组合器类型）指定替代值的能力，而没有回到冗长的语法或定义额外的元函数，例如 my_signal_with_combiner 或其他东西（这看起来很愚蠢） . 我不认为我可以使用默认模板参数值来做到这一点，因为 Combiner 的默认值需要拆分 Signature 才能获得返回类型。（当然，理想情况下，我想要适用于任何其他参数的东西，而不仅仅是组合器。）

所以，“真正的”问题是：是否有一种（简单的）方法来定义类似 signal_type 的东西，它的行为与其相同，但其中一个参数具有不同的默认值？（理想情况下，如果 Boost.Signals2 将来添加更多参数，则不需要更改。）

（另外，请不要使用 C++11。仍在使用较旧的编译器。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:50:13.150

我已经制定了以下内容，这似乎可以解决问题。不过，仍然对改进的答案感兴趣：

```
namespace bs2 = boost::signals2;

template <
    typename Signature,
    typename A1 = boost::parameter::void_,
    typename A2 = boost::parameter::void_,
    typename A3 = boost::parameter::void_,
    typename A4 = boost::parameter::void_,
    typename A5 = boost::parameter::void_,
    typename A6 = boost::parameter::void_
  >
struct my_signal_type : public bs2::signal_type<Signature, A1, A2, A3, A4, A5, A6>
{
    typedef typename boost::parameter::value_type<args, bs2::keywords::tag::mutex_type, my_mutex>::type mutex_type;

    typedef bs2::signal<
        signature_type,
        combiner_type,
        group_type,
        group_compare_type,
        slot_function_type,
        extended_slot_function_type,
        mutex_type
    > type;
};

template <
    typename Signature,
    typename A1 = boost::parameter::void_,
    typename A2 = boost::parameter::void_,
    typename A3 = boost::parameter::void_,
    typename A4 = boost::parameter::void_,
    typename A5 = boost::parameter::void_,
    typename A6 = boost::parameter::void_
  >
class MyEvent : public my_signal_type<Signature, A1, A2, A3, A4, A5, A6>::type
{
public:
    typedef typename my_signal_type<Signature, A1, A2, A3, A4, A5, A6>::type base_type;

    explicit MyEvent(const typename base_type::combiner_type& combiner = combiner_type())
        : base_type(combiner)
    {
    }
}; 
```

让我有点困惑的一件事是，为什么在构造函数中使用“combiner_type”需要在类型声明中明确定义范围——然后它不需要默认参数。（在此处删除“typename”或“base_type::”会触发标准的“default-int”错误（这意味着“这看起来不像我知道的类型”）。这很奇怪，因为它是在基类中定义的.我猜这是一些奇怪的模板部分实例化的东西。

# java - 有时无法访问 Web 服务

> ID：11095205
> 
> 赞同：0
> 
> 时间：2012-06-19T05:59:02.700
> 
> 标签：java, web-services

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:09:42.693

在您的情况下，任何主机名`int.yumzing.com`都映射到机器上的某个位置到 IP。例如，当您有一个经常更改的动态 IP 时，这很有用，因为它允许客户端和服务器之间的透明通信。否则，每次 IP 地址更改时都应让所有客户端知道。

当有人试图通过其域名访问服务器时，会启动级联 DNS 调用以查找目标计算机的 IP 并建立连接。由于某些与互联网相关的原因，很可能是在您这边，解决过程失败并且您收到上述错误。

有关 DNS 的更多信息，请查看[http://en.wikipedia.org/wiki/Domain_Name_System](http://en.wikipedia.org/wiki/Domain_Name_System)

# testing - 如何在安装升级软件之前拍摄注册表项/文件夹的快照？

> ID：11095210
> 
> 赞同：2
> 
> 时间：2012-06-19T05:59:21.187
> 
> 标签：testing, powershell, installation, registry, windows-installer

我正在我的系统中安装产品的重大升级。

为此将更新文件夹和注册表项。

我想在安装更新之前/之后拍摄文件夹结构和注册表的快照，以便我可以轻松地比较它们。

是否有任何工具或简单的 powershell 模块可用于执行此操作？

我希望测试人员在进行安装测试时会这样做。如果您遵循了任何好的方法，请更新我们。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-19T07:46:59.437

我在注册表比较之前/之后遇到的最好的工具之一叫做 RegShot：

[http://portableapps.com/apps/utilities/regshot_portable](http://portableapps.com/apps/utilities/regshot_portable)

1.8.3 版本支持 64 位注册表：

[http://sourceforge.net/projects/regshot/](http://sourceforge.net/projects/regshot/)

还有一个工具叫做 ZSoft Uninstaller：

[http://portableapps.com/apps/utilities/zsoft_uninstaller_portable](http://portableapps.com/apps/utilities/zsoft_uninstaller_portable)

这是针对软件安装分析量身定制的。

这两者都可以在比较之前/之后执行注册表和文件系统。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-19T06:09:32.137

好吧，实际上，我认为您必须限制要“监视”的路径。您可以非常轻松地使用 PowerShell 提供程序进行注册表。例如：

```
Get-ChildItem -Path HKCU:\SOFTWARE -recurse | Out-File HKCU_Software.reg 
```

更多信息[在这里](http://technet.microsoft.com/en-us/library/dd315270.aspx)。然后，您可以使用[DiffMerge](http://www.sourcegear.com/diffmerge/)之类的工具制作差异（之前，之后） 。目录的原则相同。

然而，再一次，除了肤浅的检查之外，我认为这种方法并不现实。

不知道你的上下文，但微软的[攻击面分析器](http://www.microsoft.com/en-us/download/details.aspx?id=24487)可能有用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-06-02T14:01:30.573

我推荐NirSoft 的[RegistryChangesView](https://www.nirsoft.net/utils/registry_changes_view.html)。

当您在问题中提到 PowerShell 模块时，它可能对您特别好，并且 RegistryChangesView 记录了命令行选项。RegistryChangesView 还支持将比较结果导出为 .reg、HTML 或 CSV 文件等。

我还在寻找可以直接以PowerShell命令的形式输出差异的工具；在那之前，我可以导出到 .reg 文件，然后通过 .reg-to-PowerShell-commands 转换器运行它。

其他选项包括经典的[Regshot](https://sourceforge.net/projects/regshot/)，它也被分叉为[Regshot Advanced](https://github.com/skydive241/Regshot-Advanced)。但是，就我个人而言，我选择 RegistryChangesView，因为我认为它有更好的文档/命令行选项。

# ruby-on-rails - How to use Rhodes without Rhosync or RhoConnect?

> ID：11095213
> 
> 赞同：1
> 
> 时间：2012-06-19T05:59:54.057
> 
> 标签：ruby-on-rails, ruby, jquery-mobile, rhodes

I know we can sync data using rhodes without Rhosync or Rhoconnect by using direct web service, but I'm here little bit confuse where to place that code for webservice call and how do we initialize it. Can anyone help me with small example?

Thanks in Advance.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-24T10:59:32.973

我明白了，它对我有用。

```
class ProductController < Rho::RhoController
  include BrowserHelper

    # GET /product
  def index
    response =  Rho::AsyncHttp.get(:url => "example.com/products.json",
     :headers => {"Content-Type" => "application/json"})
     @result = response["body"] 

    render :back => '/app'
  end

    # GET /product/{1}
  def show
    id =@params['id']
    response =  Rho::AsyncHttp.get(:url => "example.com/products/"+ id +".json",
    :headers => {"Content-Type" => "application/json"})

    @result = response["body"]
  end

   # GET /product/new
  def new
    @product = product.new

    render :action => :new, :back => url_for(:action => :index)
  end

    # GET /product/{1}/edit
  def edit
    id =@params['product_id'].to_s
    response =  Rho::AsyncHttp.get(:url => "example.com/products/#{id}.json",
    :headers => {"Content-Type" => "application/json"})

    @result = response["body"]
  end

    # POST /product/create
  def create
    name = @params['product']['name']
    price = @params['product']['price']
    body = '{"product" : {"name" : "'+ name +'","price" :"'+ price +'"  } }'

    @result =  Rho::AsyncHttp.post(:url => "example.com/products.json",
    :body => body, :http_command => "POST", :headers => {"Content-Type" => "application/json"})  

    redirect :action => :index
  end

    # POST /product/{1}/update
  def update

    name=@params['product']['name']
    price=@params['product']['price']

    body = '{"product" : {"name" : "' + name + '","price" :"' + price + '"  } }'
    id = @params["product_id"].to_s

    response =  Rho::AsyncHttp.post(:url => "example.com/products/#{id}.json",
    :body => body, :http_command => "PUT",:headers => {"Content-Type" => "application/json"})

    redirect :action => :index
  end

    # POST /product/{1}/delete
  def delete
    id = @params["product_id"].to_s
    response =  Rho::AsyncHttp.post(:url => "example.com/products/#{id}.json",
    :http_command => "DELETE", 
    :headers => {"Content-Type" => "application/json"})  

    redirect :action => :index  
  end
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T16:49:28.087

接下来是最简单的 http 服务器请求形式：

```
Rho::AsyncHttp.get(
  :url => "http://www.example.com",
  :callback => (url_for :action => :httpget_callback)
) 
```

其中`httpget_callback`是控制器回调方法的名称。

[在官方 Rhodes 文档](http://docs.rhomobile.com/rhodes/connect-to-web-services)中查看更多详细信息。

# javascript - Ext JS Search possibility in MultiSelect ComboBox

> ID：11095217
> 
> 赞同：0
> 
> 时间：2012-06-19T06:00:09.313
> 
> 标签：javascript, extjs, extjs3

I want to know that how in ExtJS MultiSelect ComboBox i can search for a value. Like if i have entered 's' then a list of items starting with a must be displayed and the item selector should select if it matches with 's'.

This is the code i tried.....

```
 cbCfg = {
      name  : property.columnname,  
      hideOnSelect  : false,  
      triggerAction : 'all',  
      mode      : 'local',  
      width     : comboFieldSize,  
      store     : new Ext.data.SimpleStore({  
          id            : 0,  
          fields        : ['strValue','strText'],  
          data          : data  
      }),  
      listWidth     : 400,  
      valueField        : 'strValue',  
      displayField  : 'strText'  
    };  
    field       = new form.MultiCombo(cbCfg); 
```

thnkz in advance,

just:-)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T11:33:19.700

我假设`MultiSelect ComboBox`扩展了`Ext.form.ComboBox`.

您可以尝试使用`triggerAction : 'query'`，这是默认设置 - 它应该过滤掉不匹配的条目。尽管这对用户来说可能有点违反直觉。

另一种可能的方法是添加`typeAhead : true`属性 - 应该根据用户输入的文本触发建议建议。

# php - 使用php单击按钮从文件夹中删除文件

> ID：11095219
> 
> 赞同：-1
> 
> 时间：2012-06-19T06:00:37.707
> 
> 标签：php

当我们在下面运行代码时，它不起作用。取消链接功能显示文件名但不从文件夹中删除该文件

```
<?php
         $files = scandir("db-backup", 1);
         $path = "settings/db-backup/";
         echo '<table>';
         foreach ($files as $key => $value) 
         {
             if($value!='..' && $value!='.')
             {
                 $r =$path.$value;
            echo '<td>'.$value.'</td><td><input type="image" src="../../involve/images/icons/trash.png" value="Delete" onClick= "unlink('.$value.')"></td></tr>';
             }

         }
         echo '</table>';
        ?> 
```

onclick 按钮它调用取消链接功能它显示取消链接（文件名）但不从文件夹中删除文件

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:09:01.900

您只能在服务器端删除 php 中的文件。您尝试删除的方式将永远行不通。

创建一个 php 文件，就像`Deletefile.php`在其中写入删除逻辑一样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:11:36.843

您将`unlink`URL 作为 GET 变量调用，但您并没有告诉 PHP 对它执行任何操作，如下所示：

```
unlink("filename.extension"); 
```

# python - 如何读取hadoop作业中的其他文件？

> ID：11095220
> 
> 赞同：0
> 
> 时间：2012-06-19T06:00:48.470
> 
> 标签：python, hadoop

我需要读入一个字典文件来过滤 中指定的内容`hdfs_input`，并且我已经使用命令将它上传到集群`put`，但我不知道如何在我的程序中访问它。

我尝试像普通文件一样使用集群上的路径访问它，但它给出了错误信息：IOError：`[Errno 2] No such file or directory`

此外，有没有办法为所有运行该作业的机器只保留一份字典？

那么除了`input`hadoop作业中指定的文件之外，访问文件的正确方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T09:20:42.010

通过在 conf 文件中添加`-file`选项或选项所需的文件解决了问题。`file=`

# apache - RewriteRule 到 PHP PATH_INFO 并隐藏目标 php 脚本

> ID：11095221
> 
> 赞同：1
> 
> 时间：2012-06-19T06:00:53.353
> 
> 标签：apache, mod-rewrite, pathinfo

我正在尝试使用 Apache mod_rewrite 来实现以下目标：

在文档根目录中，我有这些文件（例如）：

```
.htaccess
index.php
dlscript.php 
```

我想`/downloads/this_is_path_info`重写为`/dlscript.php/this_is_path_info`，所以：

```
RewriteRule ^downloads$ downloads/ [R=301,L]
RewriteRule ^downloads/(.*) dlscript.php/$1 [NE,L] 
```

以上就是这样做的。

然而，我希望对文件的请求`/dlscript.php`返回一个 HTTP 404 代码，所以我尝试：

```
RewriteRule ^dlscript.php - [R=404,L] 
```

但这也是 404 `/downloads/`。我试过添加`RewriteCond %{REQUEST_URI} /dlscript.php`，但似乎 mod_rewrite 用重写的替换了 %{REQUEST_URI} 。

我怎么能阻止直接访问`dlscript.php`但启用其他重写？

**编辑：**

感谢 Jon Lin，我提出了这个想法：

```
RewriteCond %{REQUEST_URI} ^/dlscript.php
RewriteCond %{THE_REQUEST} ^(GET|POST|HEAD|TRACE)\ /dlscript.php
RewriteRule .* - [R=404,L] 
```

这奏效了。第一条规则是防止 ErrorDocument 出现问题。

但我想知道这是否应该被视为“黑客”？还有其他合适的方法吗？假设我也想要`ErrorDocument /error.php`并`/error.php`返回 404，其他方法而不是在 php 脚本本身中处理它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:45:38.720

试试这个：

```
RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /dlscript.php
RewriteRule . - [R=404,L] 
```

匹配`%{THE_REQUEST}`可确保您不匹配内部重写的 URI。

# android - Android imageview更改色调以模拟按钮单击

> ID：11095222
> 
> 赞同：40
> 
> 时间：2012-06-19T06:01:02.003
> 
> 标签：android, android-imageview, android-ui

我有一个图像视图，我在其上设置了从 url 获取的位图。在 imageview 上，我设置了一个打开对话框的 onClickListener。

当按下图像视图时，我想以某种方式改变色调（使其更暗）以提供一种按钮点击的感觉。

你有什么建议？

* * *

## 回答 #1

> 赞同：102
> 
> 时间：2013-09-10T16:58:20.947

happydude 的回答是处理这个问题的最优雅的方式，但不幸的是（正如评论中指出的那样）ImageView 的源代码只接受一个整数（纯色）。[问题 18220](https://code.google.com/p/android/issues/detail?can=2&start=0&num=100&q=&colspec=ID%20Type%20Status%20Owner%20Summary%20Stars&groupby=&sort=&id=18220)已经存在了几年来解决这个问题，我在那里发布了一个解决方法，我将在这里总结：

扩展 ImageView 并使用基于新状态设置色调的代码包装 drawableStateChanged()：

**TintableImageView.java**

```
package com.example.widgets;

import android.content.Context;
import android.content.res.ColorStateList;
import android.content.res.TypedArray;
import android.util.AttributeSet;
import android.support.v7.widget.AppCompatImageView;

import com.example.R;

public class TintableImageView extends AppCompatImageView {

    private ColorStateList tint;

    public TintableImageView(Context context) {
        super(context);
    }

    public TintableImageView(Context context, AttributeSet attrs) {
        super(context, attrs);
        init(context, attrs, 0);
    }

    public TintableImageView(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
        init(context, attrs, defStyle);
    }

    private void init(Context context, AttributeSet attrs, int defStyle) {
        TypedArray a = context.obtainStyledAttributes(attrs, R.styleable.TintableImageView, defStyle, 0);
        tint = a.getColorStateList(R.styleable.TintableImageView_tintColorStateList);
        a.recycle();
    }

    @Override
    protected void drawableStateChanged() {
        super.drawableStateChanged();
        if (tint != null && tint.isStateful())
            updateTintColor();
    }    

    private void updateTintColor() {
        int color = tint.getColorForState(getDrawableState(), 0);
        setColorFilter(color);
    }

} 
```

定义一个自定义属性：

**attrs.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<resources>

    <declare-styleable name="TintableImageView">
        <attr name="tintColorStateList" format="reference|color" />
    </declare-styleable>

</resources> 
```

将小部件和自定义属性与您的本地命名空间一起使用，而不是 Android 的：

**example_layout.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal">

    <com.example.widgets.TintableImageView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:src="@drawable/example"
        android:clickable="true"
        app:tintColorStateList="@color/color_selector"/>

</LinearLayout> 
```

然后，您可以使用 happydude 建议的颜色选择器：

**color_selector.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:state_pressed="true" android:color="@color/pressed_color"/>
    <item android:color="#00000000"/>
</selector> 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-19T06:27:21.530

一种方法是使用 a`ColorFilter`和 a的组合，`ColorStateList`其中包含按下按钮时的色调颜色。res/color 目录中的 xml`ColorStateList`如下所示：

button_pressed.xml

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">

    <item android:state_pressed="true" android:color="@color/pressed_color"/>
    <item android:color="#00000000"/>

</selector> 
```

`@color/pressed_color`你的色调在哪里（应该是部分透明的）。然后在您的`ImageView`子类中，您通过覆盖来应用颜色`drawableStateChanged()`。

```
@Override
protected void drawableStateChanged() {
    super.drawableStateChanged();

    ColorStateList list = getResources().getColorStateList(R.color.button_pressed);
    int color = list.getColorForState(getDrawableState(), Color.TRANSPARENT);
    setColorFilter(color);
    invalidate();
} 
```

每当按钮的状态发生变化时，都会调用此代码并根据需要自动设置色调。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T18:19:44.680

对我来说，一个简单的解决方案是有效的，在*onClick事件中使用**setAlpha(180)*使图像变暗，给用户一个反馈它被点击或触摸。

 *```
final ImageView myImage = (ImageView) findViewById(R.id.ivDocument);
myImage.setImage...(... your image ...); // load your ImageView
myImage.setClickable(true);
myImage.setFocusable(true);
myImage.setOnClickListener(new OnClickListener() {
    @Override
    public void onClick(View v) {
        myImage.setAlpha(180);
        doWhateverYouWantHere(v);
    }
}); 
```

关于您的 XML 布局，没什么特别的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T06:05:10.403

我必须对其进行测试，但是您应该能够将具有该行为的 xml 设置为 ImageView 可绘制对象，然后将您的位图设置为 ImageView 背景。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2017-02-04T17:44:24.520

此代码段对我有用：

```
porterDuffColorFilter = newPorterDuffColorFilter(getResources().getColor(R.color.cardview_dark_background),PorterDuff.Mode.MULTIPLY);

imgView.getDrawable().setColorFilter(porterDuffColorFilter);
imgView.setBackgroundColor(Color.TRANSPARENT); 
```*

# android - Android - 确定按下触摸按钮的难度

> ID：11095223
> 
> 赞同：0
> 
> 时间：2012-06-19T06:01:16.900
> 
> 标签：android, button

有没有办法确定在触摸屏上按下按钮的力度？也许使用加速度计细节。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:04:45.910

[您可以通过MotionEvent.getPressure()](http://developer.android.com/reference/android/view/MotionEvent.html#getPressure%28int%29)获得压力

*注意：压力即手指触摸覆盖了多少像素。*

**随着数字像素覆盖的越多，您触摸的越难。**

# c# - 从 Excel 读取一系列数据

> ID：11095225
> 
> 赞同：1
> 
> 时间：2012-06-19T06:01:21.793
> 
> 标签：c#, excel

我对`C#`用于读取 Excel 数据非常陌生。我正在使用 Microsoft.ACE.OLEDB.12.0 读取 Excel 工作表数据。但我的问题是工作表从单元格开始`B4`（而不是通常`A1`），因此我在读取数据时遇到了困难。以下是我的方法：

```
 public static DataSet GetExcelFileData(String fileNameWPath, String sheetName, String rangeName, String fieldList, String whereClause)
    {
        DataSet xlsDS = new DataSet();
        String xlsFields = String.Empty;
        String xlsWhereClause = String.Empty;
        String xlsSqlString = String.Empty;
        String xlsTempPath = @"C:\temp\";
        //Copy File to temp folder locations....
        String xlsTempName = Path.GetFileNameWithoutExtension(fileNameWPath);
        xlsTempName = xlsTempName.Replace(".", String.Empty).Replace(" ", "_").Replace("-", "_").Replace("&", String.Empty).Replace("~", String.Empty) + ".xls";
        //Check if sqlFields and Where Clause is Empty....
        if (String.IsNullOrEmpty(fieldList))
            xlsFields = "*";
        else
            xlsFields = fieldList;

        if (!String.IsNullOrEmpty(whereClause))
            xlsWhereClause = whereClause;

        //String oleDBConnString = String.Format("Provider=Microsoft.Jet.OLEDB.4.0;Data Source ={0};Extended Properties=\"Excel 8.0; IMEX=1\"", xlsTempPath + Path.GetFileName(xlsTempName));
        String oleDBConnString = String.Format("Provider=Microsoft.ACE.OLEDB.12.0;Data Source={0};Extended Properties=\"Excel 12.0;HDR=NO;IMEX=0\"", xlsTempPath + Path.GetFileName(xlsTempName));

        OleDbConnection xlsConnect = null;
        try
        {
            File.Copy(fileNameWPath, xlsTempPath + Path.GetFileName(xlsTempName), true);
            xlsConnect = new OleDbConnection(oleDBConnString);
            OpenConnection(xlsConnect);

            //Get Worksheet information 
            DataTable dbSchema = xlsConnect.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null);
            if (dbSchema == null || dbSchema.Rows.Count < 1)
            {
                throw new Exception(String.Format("Failed to get worksheet information for {0}", fileNameWPath));
            }

            DataRow[] sheets = dbSchema.Select(String.Format("TABLE_NAME LIKE '*{0}*'", sheetName.Replace("*", String.Empty)));

            if (sheets.Length < 1)
            {
                throw new Exception(String.Format("Could not find worksheet {0} in {1}", sheetName, fileNameWPath));
            }
            else
            {
                string realSheetName = sheets[0]["TABLE_NAME"].ToString();

                //Build Sql String
                xlsSqlString = String.Format("Select {0} FROM [{1}${2}] {3}", xlsFields, sheetName, rangeName, xlsWhereClause);
                //xlsSqlString = String.Format("Select {0} FROM [{1}${2}] {3}", xlsFields, sheetName, "", xlsWhereClause);
                OleDbCommand cmd = new OleDbCommand(xlsSqlString, xlsConnect);
                OleDbDataAdapter adapter = new OleDbDataAdapter(xlsSqlString, xlsConnect);
                adapter.SelectCommand = cmd;
                adapter.Fill(xlsDS);
                return xlsDS;

            }

        }
        catch (FormatException ex)
        {
            throw ex;
        }
        catch (Exception ex2)
        {
            if (ex2.Message.ToLower().Equals("no value given for one or more required parameters."))
            {
                throw new Exception(String.Format("Error in Reading File: {0}. \n Please Check if file contains fields you request Field List: {1}", fileNameWPath, xlsFields));
            }
            throw new Exception(String.Format("Error in Reading File: {0}\n Error Message: {1}", fileNameWPath, ex2.Message + ex2.StackTrace));
        }
        finally
        {
            CloseConnection(xlsConnect);
            File.Delete(xlsTempPath + Path.GetFileName(xlsTempName));
        }
    } 
```

此外，我尝试使用旧版本的 Jet Engine：Microsoft.Jet.OLEDB.4.0，它工作正常。但是由于我们已经迁移到 64 位服务器，我们必须使用最新的 OleDb 12.0 引擎。每次我指定一个范围（“B4：IV65536”）并尝试读取数据时，都会出现以下异常：

“Microsoft Office Access 数据库引擎找不到对象 'Report1$B4:IV65536'。请确保该对象存在并且您正确拼写了它的名称和路径名。”

另外，请注意，我尝试了许多 HDR、IMEX 的排列组合（分别将它们设置为 Yes/No 和 0/1，但这没有帮助）。

请建议我一个解决方法。

谢谢， 阿比纳夫

# jquery - 如何获取除最后一个和倒数第二个子元素之外的元素的内容（内部 html）？

> ID：11095228
> 
> 赞同：0
> 
> 时间：2012-06-19T06:01:44.787
> 
> 标签：jquery

所以我有这样的事情：

`<span class="a"> Contents <span class="b">Herp</span><br></span>`

...其中**“内容”可能从*string*到*单个图像*到*多个 linebreaks***不等。我需要将“内容”定义为变量而不获取 b.span 和 br。

你怎么做呢？非常感谢您！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:13:32.170

用于[`.contents()`](http://api.jquery.com/contents/)获取所有内容，然后应用该[`.slice()`方法](http://api.jquery.com/slice/)切掉最后两个：

```
$("span.a").contents().slice(0,-2) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:03:52.290

```
alert($('span.a').text()); //will alert 'Contents' 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-19T06:19:31.300

```
var clone = $('span.a').clone();
$('span.b', clone).remove();
var text = clone.text();
console.log(text); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T06:09:33.907

如果您想要除最后 2 项之外的所有内容，请尝试：

```
var $content= $(".a").contents();

var htmlnodes = $content.filter(function(ndx) {
  return (ndx < $content.length -2);
});

    console.log(htmlnodes);​ 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-19T06:15:36.590

您可以将元素 A 粘贴在变量中。

```
var $a = $('.a').children().remove();
alert($('.a').html().append($a));​​ 
```

在这个例子中，我们没有硬编码应该删除或切片或其他任何元素的数量。它稍微优雅一些​​。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-19T06:20:25.980

```
var c = $('.b').nextAll('br').remove().end().parent().find('.b').remove().end().html();
alert(c) 
```

看[这里](http://jsfiddle.net/arvind07/XrbXJ/)

# android-layout - 如何使用相同的版本制作我的应用程序的 10 英寸平板电脑版本？

> ID：11095231
> 
> 赞同：0
> 
> 时间：2012-06-19T06:01:52.353
> 
> 标签：android-layout, android

我开发了一个 Android 应用程序并在 Market 上发布了它。现在我想为 10 英寸平板电脑制作同样的应用程序。问题是当我为 10 英寸平板电脑运行构建时，它运行良好，但会引发一些涉及显示文本和布局高度的 UI 问题。文字标题在手机版本中看起来不错，但在平板电脑版本中非常小。

如何以编程方式确定 APK 是在手机、10 英寸平板电脑还是 7 英寸平板电脑上运行？以及如何根据屏幕尺寸维护文本大小和视图大小？我不想为每个分辨率（如（大，xlarge））制作单独的 XML 文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:08:39.517

正如您所提到的，您不想创建新的 xml 文件，所以我认为您应该以编程方式检查设备，即您可以使用我认为 WindowManager 来检查设备宽度。然后根据它设置您的字体和布局参数。但我建议您使用 xml 方法，它使您的工作变得轻松。

希望这对您有所帮助，如果需要更多帮助，请随时询问..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:23:35.527

如果只是更改一些文本大小和尺寸，则执行此操作的标准方法是使用参考尺寸或样式资源的单一布局。例如，您的布局可以有一个`TextView`其文本大小声明为：

```
android:textSize="@dimen/descriptive_text_size_label" 
```

另一个视图的高度可以声明为：

```
android:layout_height="@dimen/descriptive_layout_height_label" 
```

另一个视图可以有几个属性组合在一起的样式：

```
style="@style/descriptive_style_label" 
```

然后，在`res/values-MODIFIER`目录中，您有，例如`styles.xml`：

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
  <style name="descriptive_style_label">
    <item name="android:layout_width">fill_parent</item>
    <item name="android:layout_height">6dp</item>
  </style>

  <dimen name="descriptive_layout_height_label">120dp</dimen>
  <dimen name="descriptive_text_size_label">16dp</dimen>
</resources> 
```

所以你会有平板电脑的值`res/values-xlarge`和默认值`res/values`。

如果您需要对布局进行更大幅度的更改，您可以使用单独的布局，但使用`<include>`.

# selenium-ide - 如何从 selenium ide 的自动完成字段中选择一个选项

> ID：11095234
> 
> 赞同：1
> 
> 时间：2012-06-19T06:02:17.057
> 
> 标签：selenium-ide

我正在测试一种发布提要的形式。用户可以通知一些现有用户。当我在字段中输入任何数据或字符时，它的 id 会发生变化。

例如。如果在初始阶段 verifyValue id=token-input-auto_complete 在字段 ani 中输入数据 verifyValue id=token-input-auto_complete ani

在字段中输入数据后，它仅显示字段中的字符，但不显示任何下拉选项

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T11:18:37.347

你的意思是 jQuery 自动完成？或其他类型的自动完成（如果有，请命名）

这就是我在 selenium 中选择 jQuery 自动完成列表值的方式：（注意这是在代码中输入的，而不是记录的代码）。这有点棘手，你必须让它触发自动完成，然后你必须突出显示值，然后你必须选择它。

```
string locator = "id=token-input-auto_complete";
string value = "CATS";
selenium.Focus(locator);
selenium.Type(locator, value);
selenium.KeyDown(locator, "\\40");
Thread.Sleep(50);
selenium.KeyDown(locator, "\\40");
Thread.Sleep(50);
selenium.KeyDown(locator, "\\13");
Thread.Sleep(50); 
```

# maven - 声纳无法使用 javax.persistence.NonUniqueResultException 构建 Jenkins 构建项目

> ID：11095236
> 
> 赞同：0
> 
> 时间：2012-06-19T06:02:18.640
> 
> 标签：maven, jenkins, sonarqube

我有一个项目已添加到我的 Jenkins 服务器中。该项目包括一个父子 maven pom 文件。我为父 pom 文件和子 pom 文件添加了构建，并且在短时间内一切正常，但随后子构建停止工作。

每当孩子进行声纳分析时，我都会遇到这样的异常：

```
Caused by: javax.persistence.NonUniqueResultException: Expected single result, but got : [Snapshot[resourceId=1148,createdAt=2011-04-29 23:08:23.0,version=01.01.01.1054-SNAPSHOT,last=true,status=P,scope=PRJ,path=,depth=0,qualifier=TRK,rootId=<null>,parentId=<null>,rootProjectId=1148,period1Mode=previous_analysis,period2Mode=days,period3Mode=days,period4Mode=<null>,period5Mode=<null>,period1Param=2011-04-19,period2Param=5,period3Param=30,period4Param=<null>,period5Param=<null>,period1Date=2011-04-19 05:06:16.0,period2Date=2011-04-24 23:08:23.0,period3Date=2011-03-30 23:08:23.0,period4Date=<null>,period5Date=<null>,id=486870], Snapshot[resourceId=1148,createdAt=2011-05-04 09:52:04.0,version=01.01.01.1054-SNAPSHOT,last=true,status=P,scope=PRJ,path=495746.,depth=1,qualifier=BRC,rootId=495746,parentId=495746,rootProjectId=1149,period1Mode=previous_analysis,period2Mode=days,period3Mode=days,period4Mode=<null>,period5Mode=<null>,period1Param=2011-04-29,period2Param=5,period3Param=30,period4Param=<null>,period5Param=<null>,period1Date=2011-04-29 23:08:23.0,period2Date=2011-04-29 09:52:04.0,period3Date=2011-04-04 09:52:04.0,period4Date=<null>,period5Date=<null>,id=495748]] 
```

我尝试删除并重新创建项目无济于事。有什么解决办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:02:19.483

这是 Sonar 版本 < 2.8 中的错误。您可以在此处查看错误报告：[Sonar-2329](http://jira.codehaus.org/browse/SONAR-2329)。本质上，当声纳同时分析父构建和子构建时，就会出现问题。要解决它，您应该做两件事：

1) 从 Jenkins 中删除父版本或子版本。应该只有一个项目可以在 Jenkins 上构建。

2) 您需要清理由并发分析导致的数据库损坏。您可以通过在声纳数据库上运行以下 SQL 命令来执行此操作：

```
update snapshots old_snap, snapshots new_snap set old_snap.islast=0 where old_snap.islast=1 and new_snap.created_at > old_snap.created_at and new_snap.project_id = old_snap.project_id and new_snap.islast=1 
```

有关更多详细信息，请参阅错误报告以及其他 SQL 方言的 SQL 命令。上面的查询适用于 MySQL。

# debugging - 用windbg改变内存进程？

> ID：11095242
> 
> 赞同：1
> 
> 时间：2012-06-19T06:02:39.180
> 
> 标签：debugging, architecture, process, binary, windbg

我想知道是否可以使用windbg在内存进程中注入二进制文件？将 windbg 挂接到进程上以潜在地替换原始二进制文件的指令或添加其他二进制指令以由进程运行？（以及注入 dll？）可以编写脚本吗？

基本上我想知道使用windbg可以对一个进程做多少以及可以修改多少进程。（我可以在技术上使用 windbg 将整个二进制文件及其 dll 映射到现有进程中吗？）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:12:47.493

使用 windbg 挂接进程，您可以修改该进程拥有的几乎所有内存，例如指令、堆栈、堆内存等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-21T21:23:04.040

你可能甚至不需要 WinDbg 来做这个。您可以执行以下操作：

*   调用`OpenProcess`以获取目标进程的句柄
*   使用在目标进程中分配一些内存`VirtualAlloc`
*   将代码写入内存`WriteProcessMemory`
*   调用`CreateRemoteThread`执行代码

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T06:58:50.667

我没有尝试过，但理论上这是可能的（至少是你所要求的一些）。

您可以存储当前指令，通过调用重写它们`LoadLibrary`并将您的 DLL 名称存储在堆栈中。加载 DLL 后，您需要恢复重写的指令并执行它们（或者您可以通过手动执行这些指令的操作在 windbg 中模拟它们）。

你也可以为windbg编写扩展来做复杂的事情。

# php - Codeigniter 视图不会加载

> ID：11095246
> 
> 赞同：0
> 
> 时间：2012-06-19T06:03:16.380
> 
> 标签：php, codeigniter

我的控制器中有这个：

```
class UpdateStats extends CI_Controller{
   public function __construct() {
       parent::__construct();

   }
   function index(){
     $this->load->view('update_stats/index');
    }
} 
```

我的视图（索引）位于视图文件夹中的 update_stats 文件夹中

当我点击我创建的链接时：

```
 <li id='proxy'><a href="<?php echo base_url();?>index.php/update_stats/">Master Update</a></li> 
```

或以另一种形式：

```
 <li id='proxy'><a href="http://localhost/scanner/index.php/update_stats/">Master Update</a></li> 
```

这是我得到的错误：

> 404页面不存在

未找到您所请求的页面。

**更新** 我的文件名是：updatestats ..我的类名 UpdateStats 我尝试输入`http://localhost/scanner/index.php/updatestats` ..我得到 404 错误

文件名：`updatestats.php`

班级名称：`Updatestats.php`

网址目标：`http://localhost/scanner/index.php/updatestats/`

班级：

```
 class Updatestats extends CI_Controller{
   public function __construct() {
       parent::__construct();

   }
   function index(){
       $this->load->view('templates/header', $data);
            $this->load->view('update_stats/index');
        $this->load->view('templates/footer', $data);

    }
}
enter code here 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:31:10.737

你的路径是错误的。它应该是

```
<?php echo base_url();?>index.php/updatestats 
```

也不是视图未加载问题，它甚至找不到控制器

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:18:07.817

您的控制器名称`UpdateStats`在您的类声明中

```
class UpdateStats extends CI_Controller{ 
```

你正在使用 as`/update_stats/`

因此，使两者相似，它可能会解决您的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T06:17:01.443

您的控制器名称是`UpdateStats`，但在您正在调用的 url 中`update_stats`。更改`update_stats`并`UpdateStats`查看会发生什么。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T08:03:10.707

不确定，但可能是一些配置问题，所以我建议您使用 site_url 而不是 base_url 因为 site_url 根据您的站点配置创建 url，在您的情况下，它将是：

```
<li id='proxy'><a href="<?php echo site_url('updatestats');?>">Master Update</a></li> 
```

# python - 安装python模块openFlashChart

> ID：11095247
> 
> 赞同：0
> 
> 时间：2012-06-19T06:03:17.120
> 
> 标签：python, open-flash-chart, openflashchart2

如何安装python模块openFlashChart？我真的很难安装它。如果您之前已安装它，请发布如何。

错误是未找到模块 openFlashChart。我实际上找不到要安装的模块。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:56:02.360

如果我错了，请纠正我，但 flash 图表是 flash 而不是 python。没有专门用于闪存图表的 python 模块。事实上，flash chart 需要一些来自服务器的数据，这些数据可以在 python 中实现。

# android - 活动恢复时相机预览屏幕黑屏

> ID：11095254
> 
> 赞同：4
> 
> 时间：2012-06-19T06:03:46.957
> 
> 标签：android, nullpointerexception, android-camera

我一直在尝试让我的应用程序上的相机部分工作大约一周，在最终修复了一个错误之后，它创建了一个新的。

当我恢复活动时，预览不起作用，录制功能也不起作用。通过查看 Logcat，我发现我的`Camera`对象等于 null，我找不到重新创建它的方法。

我的创作

```
mCamera = getCameraInstance();    
// Create preview view and set it as the content of our activity.    
mPreview = new CameraPreview(this, mCamera);    
preview = (FrameLayout) findViewById(R.id.previewer);   
preview.addView(mPreview); 
```

获取相机实例方法

```
private Camera getCameraInstance() { 

        Camera c = null;     
        try {     
            //c = Camera.open(); // attempt to get a Camera instance    
             c = this.open(); // attempt to get a Camera instance    
        } catch (Exception e) {     
            // Camera is not available (in use or does not exist)    
        }     
        Log.i("TEST getCameraInstance", "" + c);     
        return c; // returns null if camera is unavailable          
} 
```

我的暂停

```
protected void onPause() {

        super.onPause();      
        try {     
            // release the camera immediately on pause event     
            // releaseCamera();    
            mCamera.stopPreview();      
            mCamera.setPreviewCallback(null);    
            mCamera.release();     
            mCamera = null;     
        } catch (Exception e) {       
            e.printStackTrace();    
        }    
} 
```

我的简历

```
protected void onResume() {

        super.onResume();       
        try {       
            mCamera = Camera.open();      
            mCamera = getCameraInstance();     
            Log.i("TEST onresume", "onResume Runing");      
            Log.i("TEST onresume", "camera "  + mCamera);       
            mCamera.setPreviewCallback(null);      
            Log.i("TEST onresume", "camera "  + mCamera);      
            //mCamera = getCameraInstance();      
            Log.i("TEST onresume", "camera "  + mCamera);    
            // mCamera.setPreviewCallback(null);     
            mPreview = new CameraPreview(MainRecordScreen.this, mCamera);// set preview      
            Log.i("TEST onresume", "camera "  + mCamera);                                                                               
            preview.addView(mPreview);     
            Log.i("TEST onresume", "camera "  + mCamera);    
            mCamera.startPreview();              
        } catch (Exception e) {      
            Log.d(TAG, "Error starting camera preview: " + e.getMessage());    
        }      
        Log.i("TEST onresume", "camera "  + mCamera);    
} 
```

我的日志猫

```
06-19 06:38:40.223: E/AndroidRuntime(16702): FATAL EXCEPTION: main
06-19 06:38:40.223: E/AndroidRuntime(16702): java.lang.NullPointerException
06-19 06:38:40.223: E/AndroidRuntime(16702):    at com.plcd.test.MainRecordScreen.prepareVideoRecorder(MainRecordScreen.java:198)
06-19 06:38:40.223: E/AndroidRuntime(16702):    at com.plcd.test.MainRecordScreen.access$7(MainRecordScreen.java:193)
06-19 06:38:40.223: E/AndroidRuntime(16702):    at com.plcd.test.MainRecordScreen$3.onClick(MainRecordScreen.java:115)
06-19 06:38:40.223: E/AndroidRuntime(16702):    at android.view.View.performClick(View.java:3511)
06-19 06:38:40.223: E/AndroidRuntime(16702):    at android.view.View$PerformClick.run(View.java:14105)
06-19 06:38:40.223: E/AndroidRuntime(16702):    at android.os.Handler.handleCallback(Handler.java:605)
06-19 06:38:40.223: E/AndroidRuntime(16702):    at android.os.Handler.dispatchMessage(Handler.java:92)
06-19 06:38:40.223: E/AndroidRuntime(16702):    at android.os.Looper.loop(Looper.java:137)
06-19 06:38:40.223: E/AndroidRuntime(16702):    at android.app.ActivityThread.main(ActivityThread.java:4424)
06-19 06:38:40.223: E/AndroidRuntime(16702):    at java.lang.reflect.Method.invokeNative(Native Method)
06-19 06:38:40.223: E/AndroidRuntime(16702):    at java.lang.reflect.Method.invoke(Method.java:511)
06-19 06:38:40.223: E/AndroidRuntime(16702):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
06-19 06:38:40.223: E/AndroidRuntime(16702):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
06-19 06:38:40.223: E/AndroidRuntime(16702):    at dalvik.system.NativeStart.main(Native Method) 
```

`mCamera``getCameraInstance()`如果有帮助，则从该方法返回 null 。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T06:12:48.747

在您的`onResume()`中，您正在调用：

```
mCamera = Camera.open();
mCamera = getCameraInstance(); 
```

这里发生了什么，您正在通过此语句获取相机实例，`Camera.open()`并且在此语句之后，您再次尝试通过调用`getCameraInstance();`which 来获取相机实例，这将返回`null`因为您的活动已经获得了实例，因此 mCamera 实例正在获取`null`.

如果这不能解决您的问题，请告诉我，我会寻找其他解决方案。

# ruby-on-rails - 将rails中的字段链接到数据库查询

> ID：11095256
> 
> 赞同：0
> 
> 时间：2012-06-19T06:03:49.100
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1

我有我的 Rails 应用程序，里面装满了产品，设置了一个非常基本的搜索控制器和索引，基本上搜索数据库并呈现结果。用户可以搜索的一种方式是按类别。因此，例如，用户将输入一个类别，例如：12345，并且将返回与该类别匹配的每个产品。

如何在产品索引中设置指向该类别的链接，单击该链接将执行类别搜索并返回所有共享单击类别的产品？例如，我们有类别为 4567 的产品 A。我是 4567，作为控制器搜索操作的链接，该操作搜索并返回与 4567 匹配的所有产品，我需要为每个产品（约 60k）执行此操作。抱歉，如果不清楚，请询问是否有任何需要澄清的地方。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:29:42.387

假设您的 SearchController 是这样的：

```
def search
  category_id = params[category_id]
  @products = Product.where(:category_id => category_id)
end 
```

在您的产品索引视图中，您可以执行以下操作：

```
link_to product.category.name, search_url(:category_id => product.category_id) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:28:34.030

单击类别链接时是否需要保留其他搜索参数？还是只显示给定类别中的所有产品？

在第二种情况下，您可以使用类似

```
<%= link_to product.category.name, products_path(:category => product.category.id) => 
```

# assembly - 开始查看较低级别的东西，可能只是我不明白的错误。缓冲区溢出教程：无效的注册表“esp”？

> ID：11095262
> 
> 赞同：2
> 
> 时间：2012-06-19T06:04:00.793
> 
> 标签：assembly, gdb

我偶然发现了一个简单的缓冲区溢出（嘿，你知道什么？）教程，并认为我可以尝试一下。视频长约20分钟，但非常有趣，如果您不熟悉这些内容，我建议您观看。这是网址：

[http://www.securitytube.net/video/1752](http://www.securitytube.net/video/1752)

我的问题出现在 14:17 左右，此时他输入了一个命令来查找堆栈指针，但我输入了相同的命令，使用几乎相同的代码（不同的内存位置）并得到这个：

```
(gdb) i r esp
 Invalid register `esp' 
```

我真的不知道为什么会这样，我还不知道它是如何工作的。我覆盖了堆栈指针还是什么？我实际上是通过 Windows 7 上的 Virtual Box 运行 linux，最新版本的 Backtrack linux。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:30:02.510

您需要在寄存器前加上“$”，即

```
i r $esp 
```

由于您使用的是 64 位 gdb，因此寄存器名称为`$rsp`.

# wcf - 我应该使用 httphandlers 还是 web 服务？

> ID：11095265
> 
> 赞同：1
> 
> 时间：2012-06-19T06:04:32.003
> 
> 标签：wcf, httphandler

我有一个简单的场景，我只想向用户输出 json。现在我应该使用一个简单的 httphandler，从 jquery 调用它并获取 json 还是创建一个 WCf 服务？

我想使用 WCf 服务，但没有看到任何优势，也许有人可以指出其中一些和场景。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:31:06.397

任何事情都足够了。您的想法是正确的方向，为什么要创建 wcf 服务并增加过载（维护、部署等）。

如果您使用的是 Ajax，请查看[PageMethods](http://encosia.com/using-jquery-to-directly-call-aspnet-ajax-page-methods/)，它甚至可以让您免于创建单独的 HTTPHandler 并且您可以直接在 javascript 中调用方法后面的代码。

我假设您使用的是 asp.net。

# jquery - jQuery UI - 在选项卡中提交表单

> ID：11095269
> 
> 赞同：1
> 
> 时间：2012-06-19T06:05:07.680
> 
> 标签：jquery, forms, jquery-ui

我想提交一个驻留在 jQuery UI 选项卡内的表单 - 我希望操作页面在选项卡中呈现...我能够在选项卡内“拦截”“a”标签以将这些链接调用到选项卡中（感谢这里的帮助...）

使用这个

```
$('#tabs-community').on('click', '.ui-tabs-panel a', function(){
    var $panel=$(this).closest('.ui-tabs-panel');
    $panel.load(this.href);
    return false;
}); 
```

我认为提交事件有类似的东西......我试过这个

```
$('#formID').on('submit', function(e){
    e.preventDefault();
    var formSrc = $(this).attr('action');
    var formMethod = $(this).attr('method');
    var formData = $(this).serialize();
    $.ajax({
      url: formSrc,
      type: formMethod,
      data: formData,
      success: function(data){
        //work with returned data from requested file
        alert(data);
      }
    });
  }); 
```

（取自[在 jquery 选项卡中提交的表单](https://stackoverflow.com/questions/10151082/form-submitting-in-jquery-tab)- 但这不是我想要的）

并且它“工作”了它应该做的事情 - 但它会进行 AJAX 调用，并在警报中返回操作页面......不是我想要的。

更不用说它看起来好像 jQuery 正在剥离提交按钮变量......例如，我检查一个或另一个提交按钮的存在 - HTML 规范说如果单击提交按钮 - 它作为一个值传递，但是我的萤火虫控制台显示了 ajax 表单提交 - 'POST' 显示按钮变量的 NO SIGN（这是一个附带问题，如果我可以让表单“正常”提交到选项卡中，我认为它会消失）.. 。 有什么建议么？

希望这是有道理的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-02T16:23:52.257

我在 jqueryui 选项卡上使用，需要为要在当前页面上提交的所有表单制作一个简单的代码。

这是我基于您的代码的工作代码：

```
 $('form').submit(function(e) {
            e.preventDefault();

            var currentTab = tabs.tabs('option', 'selected'),
                tabId = $("li.ui-tabs-active").attr("id"),
                formSrc = $(this).attr('action'),
                formMethod = $(this).attr('method'),
                formData = $(this).serialize();

            $('#tabs-'+tabId).html("Loading...");

            $.ajax({
                url: formSrc,
                type: formMethod,
                data: formData,
                success: function(data){
                    $('#tabs-'+tabId).html(data);
                }
            });
        }); 
```

*我当前的 jqueryui 版本是 1.10.2 和 jquery 1.9.1。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:46:18.327

显而易见的想法是将您的结果放入`<iframe>`. 您可以像这样提交表单：

```
var $form = $('form#foobar');
//replace form by iframe
$form.hide();
$form.parent().append('<iframe id="submit-target" name="submit-target"></iframe>');
//submit form to new iframe (set target to name attribute of iframe)
$form.attr('target', 'submit-target');
$form.submit(); 
```

[在另一个问题的答案](https://stackoverflow.com/a/168488/334761)`iframe`中详细解释了向 an 提交表单。

# c# - 为什么这个加密的信息被破坏了？

> ID：11095272
> 
> 赞同：1
> 
> 时间：2012-06-19T06:05:22.883
> 
> 标签：c#, .net, wcf, encryption

我在安全网站上问了[这个](https://security.stackexchange.com/q/16182/10351)问题，那里的人建议我应该把它贴在这里。

一些背景。我们有在专有操作系统上运行 c 的专有设备和在 Windows 操作系统上运行 ac# dll 的其他设备。两者都通过 TCP 连接联系我们的服务器，因为我们的服务器两种类型的请求是相同的。TCP 服务器通过 http 绑定将部分请求传输到自承载的 WCF 服务。请求被加密，如链接所示（就像 C# dll 加密它们一样）。

我正在尝试切断 TCP 服务器并将请求直接发送到 WCF 服务。

我的问题是 WCF 服务似乎接收到错误的请求字符串，并且无法解密它。

似乎服务器端接收字符串中还有额外的 \t \n 。除此之外，它看起来一样。

这是服务器端的解密代码：

```
 byte[] byteChiperText = Encoding.Default.GetBytes(input);

            if (k.Length != 16)
            {
                throw new Exception("Wrong key size exception");
            }
            TripleDESCryptoServiceProvider des = new TripleDESCryptoServiceProvider();

            des.Mode = CipherMode.ECB;
            des.Padding = PaddingMode.Zeros;
            des.Key = k;
            ICryptoTransform ic = des.CreateDecryptor();
            MemoryStream ms = new MemoryStream(byteChiperText);
            CryptoStream cStream = new CryptoStream(ms,
                 ic,
                 CryptoStreamMode.Read);
            StreamReader sReader = new StreamReader(cStream);
            byte[] data = new byte[byteChiperText.Length];
            int len = sReader.BaseStream.Read(data, 0, data.Length);
            output = Encoding.Default.GetString(data, 0, len);

            cStream.Close(); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-19T06:08:07.487

好吧，这看起来很糟糕：

```
byte[] byteChiperText = Encoding.Default.GetBytes(input); 
```

您将加密数据视为使用平台默认编码的文本编码。这是丢失数据的好方法。加密数据*不是*文本。它是任意二进制数据，应该这样对待。

相反，您应该使用 base64 将加密数据编码为文本 ( `Convert.ToBase64String`)，然后`Convert.FromBase64String`稍后将其反转 ( ) 以返回原始密码文本。当然，这是假设您需要以文本形式开始。如果你一开始就可以通过它`byte[]`，那就更好了。

另请注意，您获取文本的方法有些奇怪 - 您正在创建一个`StreamReader`, 然后仅使用基本流。最好使用：

```
// You should be using "using" statements for all your streams, by the way...
using (TextReader reader = new StreamReader(cStream))
{
    output = reader.ReadToEnd();
} 
```

请注意，这将使用 UTF-8 而不是平台默认编码 - 但这是一件*好事*，只要您在加密代码中进行相应的更改。使用平台默认编码几乎总是一个错误——它可能不支持所有的 Unicode，而且它因机器而异。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-19T06:10:28.857

问题可能出在[Encoding.Default](http://msdn.microsoft.com/en-us/library/system.text.encoding.default.aspx)中，因为：

> 不同的计算机可以使用不同的编码作为默认值。

您应该使用给定的标准编码（UTF-8、UTF-16、..）。

# php - 抓取另一个 div 中的 div 的内容

> ID：11095277
> 
> 赞同：-1
> 
> 时间：2012-06-19T06:05:43.063
> 
> 标签：php

我正在做一个应用程序，我想抓取 div 的内容，它在 div 里面。在我的应用程序中，我想抓取里面的内容。ul`<li></li>,`类`<ul class="snippet-list"></ul>`在里面`<div data-analyticsid="related"></div>`。有没有像 preg_match 这样的正则表达式来抓取数据。

提前致谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:42:35.400

试试这个 ：

```
<script type="text/javascript">

$(document).ready(function() {

   $("ul.snippet-list li").each(function() {
       var html = jQuery(this).html();
   });

});

</script> 
```

# php - Android MySQL 数据库连接

> ID：11095278
> 
> 赞同：0
> 
> 时间：2012-06-19T06:05:43.283
> 
> 标签：php, android, mysql, json

到目前为止，我已经完成了以下书面工作..我想使用 JSOn 从数据库中检索值并打印.....但是我遇到了一些错误，我什至在下面提交了..等待您的帮助...

```
package com.yipl.Googlemaps;

import android.app.Activity;
import android.os.Bundle;

import java.io.BufferedReader;
import java.io.InputStream;
import java.io.InputStreamReader;
//import java.util.ArrayList;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
//import org.apache.http.NameValuePair;
import org.apache.http.client.HttpClient;
//import org.apache.http.client.entity.UrlEncodedFormEntity;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.impl.client.DefaultHttpClient;
//import org.apache.http.message.BasicNameValuePair;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import android.util.Log;

public class GoogleMapsActivity extends Activity 
{
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) 
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        String result = "";
        InputStream is = null;

        try{
                HttpClient httpclient = new DefaultHttpClient();
                HttpPost httppost = new HttpPost("http://10.0.2.2/example/request.php");
        //        httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
                HttpResponse response = httpclient.execute(httppost);
                HttpEntity entity = response.getEntity();
                is = entity.getContent();
        }catch(Exception e){
                Log.e("log_tag", "Error in http connection "+e.toString());
        }
        //convert response to string
        try{
                BufferedReader reader = new BufferedReader(new InputStreamReader(is,"iso-8859-1"),8);

                StringBuilder sb = new StringBuilder();
                String line = null;
                while ((line = reader.readLine()) != null) {
                        sb.append(line + "\n");
                }
                is.close();

                result=sb.toString();
        }catch(Exception e){
                Log.e("log_tag", "Error converting result "+e.toString());
        }

        //parse JSON data
        try{
                JSONArray jArray = new JSONArray(result);
                for(int i=0;i<jArray.length();i++){
                        JSONObject json_data = jArray.getJSONObject(i);
                        Log.i("log_tag","id: "+json_data.getInt("id")+
                                ", name: "+json_data.getString("name")+
                                ", CHD: "+json_data.getString("CHD")+
                                ", VDCs: "+json_data.getString("vdcs")+
                                ", Children Vaccinated: "+json_data.getString("Vchildren")+
                                ", Total: "+json_data.getString("total")+
                                ", Latitude: "+json_data.getDouble("lat")+
                                ", Longitude: "+json_data.getDouble("lng")
                        );
                }

        }catch(JSONException e){
                Log.e("log_tag", "Error parsing data "+e.toString());
        }

    }
} 
```

服务代码......

```
 <?php
    mysql_connect("localhost","root","");
    mysql_select_db("niporg");

    $q=mysql_query("select n.id, n.name, i.CHD, i.vdcs, i.Vchildren, i.total, l.lat, l.lng from info as i, nip_db as n, location as l where n.id=i.id and i.id = l.id");

    while($e=mysql_fetch_array($q))
    {
        $output[]=$e;

    }

    print(json_encode($output));

    mysql_close();
    ?> 
```

但是我收到错误..如下..

```
> 06-19 15:45:00.595: I/jdwp(267): received file descriptor 10 from ADB
> 06-19 15:45:00.635: D/ddm-heap(267): Got feature list request 06-19
> 15:45:00.815: D/AndroidRuntime(267): Shutting down VM 06-19
> 15:45:00.815: W/dalvikvm(267): threadid=3: thread exiting with
> uncaught exception (group=0x4001aa28) 06-19 15:45:00.815:
> E/AndroidRuntime(267): Uncaught handler: thread main exiting due to
> uncaught exception 06-19 15:45:00.835: E/AndroidRuntime(267):
> java.lang.RuntimeException: Unable to start activity
> ComponentInfo{com.yipl.Googlemaps/com.yipl.Googlemaps.GoogleMapsActivity}:
> android.view.InflateException: Binary XML file line #7: Error
> inflating class java.lang.reflect.Constructor 06-19 15:45:00.835:
> E/AndroidRuntime(267):    at
> android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2401)
> 06-19 15:45:00.835: E/AndroidRuntime(267):    at
> android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2417)
> 06-19 15:45:00.835: E/AndroidRuntime(267):    at
> android.app.ActivityThread.access$2100(ActivityThread.java:116) 06-19
> 15:45:00.835: E/AndroidRuntime(267):  at
> android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)
> 06-19 15:45:00.835: E/AndroidRuntime(267):    at
> android.os.Handler.dispatchMessage(Handler.java:99) 06-19
> 15:45:00.835: E/AndroidRuntime(267):  at
> android.os.Looper.loop(Looper.java:123) 06-19 15:45:00.835:
> E/AndroidRuntime(267):    at
> android.app.ActivityThread.main(ActivityThread.java:4203) 06-19
> 15:45:00.835: E/AndroidRuntime(267):  at
> java.lang.reflect.Method.invokeNative(Native Method) 06-19
> 15:45:00.835: E/AndroidRuntime(267):  at
> java.lang.reflect.Method.invoke(Method.java:521) 06-19 15:45:00.835:
> E/AndroidRuntime(267):    at
> com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:791)
> 06-19 15:45:00.835: E/AndroidRuntime(267):    at
> com.android.internal.os.ZygoteInit.main(ZygoteInit.java:549) 06-19
> 15:45:00.835: E/AndroidRuntime(267):  at
> dalvik.system.NativeStart.main(Native Method) 06-19 15:45:00.835:
> E/AndroidRuntime(267): Caused by: android.view.InflateException:
> Binary XML file line #7: Error inflating class
> java.lang.reflect.Constructor 06-19 15:45:00.835:
> E/AndroidRuntime(267):    at
> android.view.LayoutInflater.createView(LayoutInflater.java:512) 06-19
> 15:45:00.835: E/AndroidRuntime(267):  at
> android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:564)
> 06-19 15:45:00.835: E/AndroidRuntime(267):    at
> android.view.LayoutInflater.rInflate(LayoutInflater.java:617) 06-19
> 15:45:00.835: E/AndroidRuntime(267):  at
> android.view.LayoutInflater.inflate(LayoutInflater.java:407) 06-19
> 15:45:00.835: E/AndroidRuntime(267):  at
> android.view.LayoutInflater.inflate(LayoutInflater.java:320) 06-19
> 15:45:00.835: E/AndroidRuntime(267):  at
> android.view.LayoutInflater.inflate(LayoutInflater.java:276) 06-19
> 15:45:00.835: E/AndroidRuntime(267):  at
> com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:313)
> 06-19 15:45:00.835: E/AndroidRuntime(267):    at
> android.app.Activity.setContentView(Activity.java:1620) 06-19
> 15:45:00.835: E/AndroidRuntime(267):  at
> com.yipl.Googlemaps.GoogleMapsActivity.onCreate(GoogleMapsActivity.java:35)
> 06-19 15:45:00.835: E/AndroidRuntime(267):    at
> android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1123)
> 06-19 15:45:00.835: E/AndroidRuntime(267):    at
> android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2364)
> 06-19 15:45:00.835: E/AndroidRuntime(267):    ... 11 more 06-19
> 15:45:00.835: E/AndroidRuntime(267): Caused by:
> java.lang.reflect.InvocationTargetException 06-19 15:45:00.835:
> E/AndroidRuntime(267):    at
> com.google.android.maps.MapView.<init>(MapView.java:237) 06-19
> 15:45:00.835: E/AndroidRuntime(267):  at
> java.lang.reflect.Constructor.constructNative(Native Method) 06-19
> 15:45:00.835: E/AndroidRuntime(267):  at
> java.lang.reflect.Constructor.newInstance(Constructor.java:446) 06-19
> 15:45:00.835: E/AndroidRuntime(267):  at
> android.view.LayoutInflater.createView(LayoutInflater.java:499) 06-19
> 15:45:00.835: E/AndroidRuntime(267):  ... 21 more 06-19 15:45:00.835:
> E/AndroidRuntime(267): Caused by: java.lang.IllegalArgumentException:
> MapViews can only be created inside instances of MapActivity. 06-19
> 15:45:00.835: E/AndroidRuntime(267):  at
> com.google.android.maps.MapView.<init>(MapView.java:281) 06-19
> 15:45:00.835: E/AndroidRuntime(267):  at
> com.google.android.maps.MapView.<init>(MapView.java:254) 06-19
> 15:45:00.835: E/AndroidRuntime(267):  ... 25 more 06-19 15:45:00.855:
> I/dalvikvm(267): threadid=7: reacting to signal 3 06-19 15:45:00.855:
> E/dalvikvm(267): Unable to open stack trace file
> '/data/anr/traces.txt': Permission denied 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:18:38.757

为此，您需要使用 JSON。下面是使用 JSON 从 MySQL 数据库中检索值的代码

```
public JSONObject getJSONFromUrl(String url, List<NameValuePair> params) {

    // Making HTTP request
    try {
        // defaultHttpClient
        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(url);
        httpPost.setEntity(new UrlEncodedFormEntity(params));

        HttpResponse httpResponse = httpClient.execute(httpPost);
        HttpEntity httpEntity = httpResponse.getEntity();
        is = httpEntity.getContent();

    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }

    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        json = sb.toString();
        Log.e("JSON", json);
    } catch (Exception e) {
        Log.e("Buffer Error", "Error converting result " + e.toString());
    }

    // try parse the string to a JSON object
    try {
        jObj = new JSONObject(json);
    } catch (JSONException e) {
        Log.e("JSON Parser", "Error parsing data " + e.toString());
    }

    // return JSON String
    return jObj;

} 
```

URL 将是您将在其中编写查询并发回结果的 Web 服务文件的地址。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T09:25:51.413

首先你需要这样的网络服务文件

```
 <?php
$con = mysql_connect("localhost","stool","");
if (!$con)
 {
 die('Could not connect: ' . mysql_error());
 }

mysql_select_db("stool", $con);

$sql=mysql_query("select * from surveys");

 while($row=mysql_fetch_assoc($sql)) $output[]=$row;

 print(json_encode($output));

 mysql_close();

?> 
```

您可以根据您的要求进行更改。最后的 json_encode 会将所有表格信息发送到显示单元。然后你需要使用我最初提供给你的代码在你的安卓应用程序中调用这个服务文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T11:14:07.837

我也在我的应用程序中使用 JSON。这是我的代码如何从数据库中检索值

```
try{
        HttpClient httpclient = new DefaultHttpClient();
        HttpPost httppost = new HttpPost(surveyURL);
        httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
        HttpResponse response = httpclient.execute(httppost);
        HttpEntity entity = response.getEntity();
        is = entity.getContent();

    }catch(Exception e){
        Log.e("log_tag", "Error in http connection"+e.toString());
    }
    //convert response to string
    try{
        BufferedReader reader = new BufferedReader(new InputStreamReader(is,"iso-8859-1"),8);
        sb = new StringBuilder();
        sb.append(reader.readLine() + "\n");

        String line="0";
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        result=sb.toString();
    }catch(Exception e){
        Log.e("log_tag", "Error converting result "+e.toString());
    }
    try{
        jArray = new JSONArray(result);
        JSONObject json_data=null;
        json_data = jArray.getJSONObject(0);
        quest_id=json_data.getString("question_id");
        question=json_data.getString("question");
        option1=json_data.getString("op");
        quesNo=json_data.getString("question_no");
        help=json_data.getString("Help");
        mandatory=json_data.getString("mandatory");
        others=json_data.getString("others");
        condition=json_data.getString("condition1");
        total++;    
    }
    catch(JSONException e1)
    {
        Toast.makeText(getBaseContext(), "No Data Found" ,Toast.LENGTH_LONG).show();
    } catch (ParseException e1) 
    {
        e1.printStackTrace();
    } 
```

# windows - whois 命令无法识别

> ID：11095281
> 
> 赞同：0
> 
> 时间：2012-06-19T06:05:56.640
> 
> 标签：windows, networking, network-protocols, whois, nmap

我已经下载了nmap。据我所知，它支持“whois”工具。当我尝试输入以下内容时：whois yahoo.com（例如）。我收到以下错误：“whois”未被识别为内部或外部命令、可运行程序或批处理文件。谁能告诉我我错过了什么？我需要安装 nmap 本身以外的东西吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T11:39:32.970

[Nmap 可以使用whois 脚本](http://nmap.org/nsedoc/scripts/whois-ip.html)使用 whois 协议执行查询，如下所示：

```
nmap --script whois -sn yahoo.com 
```

请注意，在 Nmap 6.45（修订版 31527）中，whois 脚本已重命名为 whois-ip，并添加了[whois-domain](http://nmap.org/nsedoc/scripts/whois-domain.html)。所以你可以这样做：

```
nmap --script whois-ip,whois-domain -sn yahoo.com 
```

或者简单地说：

```
nmap --script whois* -sn yahoo.com 
```

除了`--script`参数之外，`-sn`参数告诉 Nmap 不要执行端口扫描（因为这可能不是您想要的）。

根据您的错误描述，听起来您在 Windows 上。Microsoft 有一个`whois`实用程序作为 SysInternals 套件的一部分提供。你可以在[这里](http://technet.microsoft.com/en-us/sysinternals/bb897435.aspx)得到它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:08:40.567

对我来说，这个工具不是`nmap`

```
blender ~ $ pacman -Qo `which whois`
/usr/bin/whois is owned by whois 5.0.16-1 
```

事实上，`nmap`它提供的不仅仅是`nmap`一些它自己的二进制文件：

```
blender ~ $ pacman -Ql nmap | grep "bin"
nmap /usr/bin/
nmap /usr/bin/ncat
nmap /usr/bin/ndiff
nmap /usr/bin/nmap
nmap /usr/bin/nmapfe
nmap /usr/bin/nping
nmap /usr/bin/xnmap
nmap /usr/bin/zenmap 
```

检查您的发行版是否有`whois`软件包。

# c# - 如何在asp.net中插入日历控件

> ID：11095289
> 
> 赞同：1
> 
> 时间：2012-06-19T06:07:36.360
> 
> 标签：c#, asp.net

我有一个面板。在该面板中，有一个文本框用于某些输入，另一个文本框用于从日历控件中获取日期。我已将日历控件放在第二个文本框（即 txtDate）下方，但我不希望它在页面加载时显示，而是我想要一个日历的小图像，然后单击该图像会弹出一个日历并所选日期必须由 txtdate 文本框捕获。

请帮助我处理 .aspx 和 .cs 文件。我正在使用带有 C# 的 asp.net。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T06:12:41.913

使用 AJAX 日历扩展器。这是示例标记代码：

```
 <asp:CalendarExtender ID="ControlIDHere" runat="server" Enabled="True"
                        TargetControlID="TextBoxIDHere" PopupButtonID="CalenderImageIDHere" Format="MM/dd/yyyy">
                    </asp:CalendarExtender> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:13:56.053

最好[在这里解释一个基于 ASP.NET 的日历控制解决方案](http://www.codeproject.com/Articles/9057/An-ASP-NET-implementation-of-a-Pop-Up-Calendar)

但我建议您继续使用基于 Ajax 的解决方案 [Ajax Calender](http://www.asp.net/ajaxlibrary/act_Calendar_Simple.ashx)

[AJax 工具包中的日历控件](http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/Calendar/Calendar.aspx)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2018-12-24T11:28:04.487

您可以在项目中使用 Jquery 库。下面是示例

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <link rel="stylesheet" 
href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js">        
    </script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js">    
    </script>
    <script >
        $(document).ready( function() {
                $("[id=^datepicker]").datepicker();
            } );
        </script>
    </head>
    <body>
    <form id="form1" runat="server">
    <p>Date: <asp:TextBox   id="datepicker" runat="server">
    </p>

    </form>

    </body>
</html> 
```

# c++ - 在 EOF 之后重用 std::cin

> ID：11095291
> 
> 赞同：2
> 
> 时间：2012-06-19T06:07:42.830
> 
> 标签：c++

下面的代码用于将一组单词存储在 a 中`std::vector`，并通过将用户给出的特定单词与存储在向量中的所有单词进行比较来计算用户给出的特定单词在向量中出现的次数。

在下面的程序中，控制台不会提示我输入第二个`std::cin >>`。

```
#include <iostream>
#include <ios>
#include <iomanip>
#include <vector>
#include <algorithm>
using namespace std;

int main(int argc, const char * argv[])
{
   cout<<"enter your words followed ny EOF"<<endl;
   vector<string> words;
   string x;
   typedef vector<string>::size_type vec_size;
   vec_size size;
   while (cin>>x) 
   {
     words.push_back(x);
   }
   size=words.size();
   cin.clear();

   //now compare
   cout<<"enter your word:"<<endl;
   string my_word;
   int count=0;

   cin>>my_word;              //didn't get any prompt in the console for this 'cin' 
   for (vec_size i=0; i<size; ++i) 
   {
      my_word==words[i]?(++count):(count=count);
   }
   cout<<"Your word appeared "<<count<<" times"<<endl;
   return 0;

} 
```

我得到的最终输出是“你的词出现了 0 次”。代码有什么问题。任何帮助都会很棒。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T06:16:16.950

程序读取单词列表直到文件结束。因此，在终端上，您可以输入 EOF 字符（`Ctrl-D`在 Linux 上，`Ctrl-Z` `Return`在 Windows 上），但接下来呢？

我认为重置流后，终端将继续读取。但是如果程序从磁盘文件、管道等中获取输入，就没有希望了。文件结束是永远的。

取而代之的是，使用某种哨兵，或在其前面加上一个计数。这样，第一个循环可以运行到列表的逻辑末尾。然后它可以读取用于摘要逻辑的单词。

```
while (cin>>x  &&  x != '*')   // The word "*" ends the list of words
   {
     words.push_back(x);
   }
   size=words.size();

   //now compare
   cout<<"enter your word:"<<endl; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-19T06:12:15.757

```
while (cin>>x) 
{
    words.push_back(x);
} 
```

在这里，您正在阅读直到失败。因此，当此循环结束时，cin 处于错误状态。您需要清除错误状态：

```
cin.clear(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-19T06:13:42.767

[http://www.cplusplus.com/forum/articles/6046/](http://www.cplusplus.com/forum/articles/6046/)

将此作为示例和可能的问题阅读！

# qt - 如何指定 QUdpSocket 使用的网络接口？

> ID：11095292
> 
> 赞同：0
> 
> 时间：2012-06-19T06:08:02.683
> 
> 标签：qt, sockets, udp, broadcast, qudpsocket

我有一个[`QUdpSocket`](http://qt-project.org/doc/qt-4.8/qudpsocket.html)用于发送广播数据包的应用程序。发送数据包的机器有几个网络接口。

不幸的是，我无法弄清楚如何`QUdpSocket`使用正确的网络接口。是否有一个选项可以让我准确指定用于发送数据包的接口？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-10-18T20:57:30.603

您实际上是在绑定函数的第一个参数地址中选择要监听的网络。例如，如果您选择`QHostAddress::AnyIPv4`它意味着无论从哪个接口（最好说是哪个 IP 地址）接收到数据包，程序都应该捕获它。否则，您可以输入应将数据包发送到的 IP 地址（或广播地址）。

为了调试和验证它，您可以使用`netstat`列出开放端口，如下所述： [https ://superuser.com/questions/529830/get-a-list-of-open-ports-in-linux](https://superuser.com/questions/529830/get-a-list-of-open-ports-in-linux)

在 netstat 命令的结果中，`Local Address`是您要查找的内容，指定正在侦听的地址。

注意：本地地址中 localhost 的地址（例如：0.0.0.0 或 127.0.0.1）表示任何本地地址都可以接受。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T08:08:21.327

每个子网都有自己的广播地址。因此，我认为您可以“直接”将广播数据包发送到 10.255.255.255 或 192.168.255.255 等地址。

# python - 在 python 中使用带有 selenium webdriver 的默认 firefox 配置文件

> ID：11095294
> 
> 赞同：7
> 
> 时间：2012-06-19T06:08:15.380
> 
> 标签：python, selenium, webdriver

我知道以前有人问过类似的问题，但我已经尝试了很多次，但它仍然对我不起作用。

我在 Firefox 中只有一个默认配置文件（称为 c1r3g2wi.default），没有其他配置文件。当我使用 selenium webdriver 启动它时，我希望我的 Firefox 浏览器以这个配置文件开始。我如何在 Python 中做到这一点？

我这样做了：

```
fp = webdriver.FirefoxProfile('C:\Users\admin\AppData\Roaming\Mozilla\Firefox\Profiles\c1r3g2wi.default')
browser = webdriver.Firefox(fp) 
```

但我得到一个错误：

```
WindowsError: [Error 123] The filename, directory name, or volume label syntax is incorrect: 
'C:\\Users\x07dmin\\AppData\\Roaming\\Mozilla\\Firefox\\Profiles\\c1r3g2wi.default/*.*' 
```

非常感谢您的帮助或正确方向的指示。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-19T06:27:29.597

好的，我只是通过将文件路径中的所有斜杠从“\”更改为“/”来解决这个问题。从来不知道这会有所作为。

```
C:/Users/admin/AppData/Roaming/Mozilla/Firefox/Profiles/c1r3g2wi.default 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-12-16T08:27:35.317

此外，您可以在路径中使用双反斜杠：

```
fp = webdriver.FirefoxProfile('C:\\Users\\admin\\AppData\\Roaming\\Mozilla\\Firefox\\Profiles\\c1r3g2wi.default')
browser = webdriver.Firefox(fp) 
```

# django - Django 组和权限。扩展组以拥有 FK？

> ID：11095296
> 
> 赞同：6
> 
> 时间：2012-06-19T06:08:28.887
> 
> 标签：django, rbac, django-permissions

我正在开发一种产品，该产品允许不同的学校在线管理他们的内容。

其中一部分涉及设置我自己编写的基于角色的访问控制逻辑。本质上，每所学校都有自己的一组角色，这些角色拥有自己的一组权限。该软件的用户在任何给定时间都可能属于具有不同角色的多所学校。

由于各种原因，我想放弃这个，而是使用 Django 的组和权限以及像[django-guardian](https://github.com/lukaszb/django-guardian)这样的库。我面临的问题是我应该如何扩展 Groups 模型，以便我可以为每个新学校包含一个外键，并且仍然能够使用 Django 中的辅助方法以及 django-guardian 等库。

我想出的一种可能的方法是简单地根据事件名称创建组，例如“学校 1 - 管理员”、“学校 1 - 教师”、“学校 2 - 管理员”、“学校 2 - 教师”，并根据这个代替。我不应该这样做有充分的理由吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-04T08:44:37.577

经过仔细检查，django-guardian 能够解决我的需求。我在这里写了我的完整实现：[​​http://pragmaticstartup.wordpress.com/2012/06/26/django-guardian-a-full-access-control-logic-acl-example/](http://pragmaticstartup.wordpress.com/2012/06/26/django-guardian-a-full-access-control-logic-acl-example/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T12:32:54.697

为什么不混合两种方法呢？Django 模型允许[继承](https://docs.djangoproject.com/en/dev/topics/db/models/#model-inheritance)。首先定义`Role`模型，包含允许的角色和学校模型。

然后，您可以从`django.contrib.auth.Group`GroupRole 继承一个新模型。Django 将为您的模型创建一个新的数据库表，该表仅包含最初不在组中的属性，并带有外键到具有约束的适当组。更好的是，您将获得与原始组模型的自动反向关系，因此您可以编写如下内容：

```
class GroupRole(Group):
    role = models.ForeignKey(Role)
    school = models.ForeignKey(School)
    ...

g = Group.objects.get(id=1)
# you can access standard group items here g.<attribute> or g.grouprole.<attribute>
# you can access GroupRole attributes by doing g.grouprole.<some_attribute>

GroupRole.objects.filter(role__type='admin', school__location__state='NY') 
```

有趣的是，这种关系是反射性的，所以如果不是太有用的话，这样的事情是有效的：

```
g.grouprole.grouprole.grouprole.grouprole.role 
```

如果您获得一个没有与之关联的 grouprole 代理的基本组实例，那么您将抛出异常：

```
g = Group.objects.create(name='myplaingroup')
try:
    print g.grouprole
except GroupRole.DoesNotExist:
    print 'This is a normal group' 
```

或者，您可以覆盖此行为以返回 None 而不是引发异常，甚至提供默认的 GroupRole。

# android - 长按列表视图android后显示一个对话框

> ID：11095298
> 
> 赞同：2
> 
> 时间：2012-06-19T06:08:39.640
> 
> 标签：android, listview, dialog, onlongclicklistener

在我的应用程序中，我将从游标中获取数据并将其放入 ListActivity。

如果长时间单击列表项，它应该显示一个对话框。

**现在我将向您展示一些代码：**

```
final ListView selectRoom = (ListView) findViewById(android.R.id.list);
        selectRoom.setOnItemLongClickListener(new OnItemLongClickListener() {

            public boolean onItemLongClick(AdapterView<?> adapter, View view,
                    int position, long id) {

                Cursor unitCursor = (Cursor) getListView().getItemAtPosition(
                        position);
                int rid = unitCursor.getInt(0);
                DBAccessor dba = new DBAccessor(getApplicationContext());
                dba.alterUnitName(rid);
                callAdapter();
                final Dialog d = new Dialog(getApplicationContext());
                d.setContentView(R.layout.settings);
                d.setTitle("My Dialog");
                d.show();

                return true; 
```

这是带有列表的 XML 文件...

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <Spinner
        android:id="@+id/spinnerRooms"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" >
    </Spinner>

    <ListView
        android:id="@android:id/android:list"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" 
        android:layout_below="@id/spinnerRooms">
    </ListView>

</RelativeLayout> 
```

带有光标列的 XML 文件是...

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal" >

    <TextView
        android:id="@+id/unitId"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" 
        android:visibility="invisible"/>

    <TextView
        android:id="@+id/unitName"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />

    <TextView
        android:id="@+id/unitRoomId"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" 
        android:visibility="invisible"/>

</LinearLayout> 
```

感谢您的一些回答，祝您有美好的一天。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:12:00.267

使用 setOnItemLongClickListener 如下..

```
 selectRoom.setOnItemLongClickListener(new OnItemLongClickListener(){
        @Override
        public boolean onItemLongClick(AdapterView<?> arg0, View arg1,
                int position, long arg3) {
            // TODO Auto-generated method stub
            Dialog();
  or 
final MyDialog rDialog=new MyDialog(this,this);
            return false;
        }

    } );

public void Dialog()    {

        AlertDialog.Builder dialogAlert = new AlertDialog.Builder(getApplicationContext());
        dialogAlert.setTitle("Demo ?");

        dialogAlert.show();
}

 //Another way

 public class MyDialog extends Dialog {

Activity act;
public ReminderSettingDialog(Context context,Activity act) {
    super(context);
    this.act=act;
    // TODO Auto-generated constructor stub
}

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    setContentView(R.layout.settings);

} 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:12:35.950

试试这个代码：

```
selectRoom.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {
        @Override
        public boolean onItemLongClick(AdapterView<?> av, View v, int pos, long id) {
            return onLongListItemClick(v,pos,id);
        }
        protected boolean onLongListItemClick(View v, final int pos, long id) {
            /////Display Dialog Here.......................

                    return true;

    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-10-19T16:18:02.233

对话框应该像这样使用 dialg builder 构建：

```
AlertDialog alertDialog = new AlertDialog.Builder(view.getContext()).create();
alertDialog.setTitle("Reset...");
alertDialog.setMessage("Are you sure?");
alertDialog.setButton("OK", new DialogInterface.OnClickListener() {
   public void onClick(DialogInterface dialog, int which) {
      // here you can add functions
   }
});
alertDialog.setIcon(R.drawable.icon);
alertDialog.show(); 
```

希望能帮助到你 ：）

# ruby-on-rails - 带有 Rails 的咖啡脚本

> ID：11095300
> 
> 赞同：1
> 
> 时间：2012-06-19T06:08:47.670
> 
> 标签：ruby-on-rails, coffeescript

我刚开始学习Rails，是否也需要学习CoffeeScript？它在哪里变得有用？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-19T06:27:38.200

你不需要知道 coffeescript 来学习 rails。虽然 Coffeescript 是 rails 3.1 的默认设置，但您可以将其更改为使用纯 JavaScript。为此：

1.  在 Gemfile 中注释掉 gem "coffee-script"
2.  为您的 javascript 文件使用 .js 而不是 .js.coffee

# javascript - 在 freemarker 模板页面中包含 js（javascript 页面）

> ID：11095308
> 
> 赞同：1
> 
> 时间：2012-06-19T06:09:46.110
> 
> 标签：javascript, jquery, freemarker

我正在研究将前端作为 FreeMarker 模板的 RIOT CMS。尝试将 trial.js 包含到 .ftl 页面之一中，但此更改并未反映在项目的前端页面中。如果你们中的任何人以前尝试过这个，请更正它？这就是我使用的方式===>

```
<@template.extend> 
  <@template.block name="trial"><#include "/trial.js"> </@template.trial>    
</@template.extend> 
```

//trial.js 需要包含在我的 .ftl 页面中

我以前一直在使用 jsp，免费标记对我来说是全新的。作为初学者，我正在尝试将我的 jsp 页面更改为空闲标记（.ftl）页面。我的目标是在 .ftl 中包含 js 和 css，就像我们在 JSP 中所做的那样。

# c++ - OpenMP set_num_threads() 不工作

> ID：11095309
> 
> 赞同：37
> 
> 时间：2012-06-19T06:09:46.110
> 
> 标签：c++, multithreading, numbers, set, openmp

我正在使用 C++ 中的 OpenMP 编写一个并行程序。

我想使用 来控制程序中的线程数`omp_set_num_threads()`，但它不起作用。

```
#include <iostream>
#include <omp.h>
#include "mpi.h"

using namespace std;

int myrank;
int groupsize;
double sum;
double t1,t2;
int n = 10000000;

int main(int argc, char *argv[])
{
    MPI_Init( &argc, &argv);
    MPI_Comm_rank( MPI_COMM_WORLD, &myrank );
    MPI_Comm_size(MPI_COMM_WORLD,&groupsize);

    omp_set_num_threads(4);

    sum = 0;
    #pragma omp for  reduction(+:sum)
    for (int i = 0; i < n; i++)
        sum+= i/(n/10);

    cout<<"sum="<<sum<<endl;
    cout<<"threads="<<omp_get_num_threads()<<endl;

    MPI_Finalize();
    return 0;
} 
```

程序输出：

```
sum = 4.5e+007
threads=1 
```

如何控制线程数？

* * *

## 回答 #1

> 赞同：99
> 
> 时间：2012-06-19T07:58:03.660

除了`omp_get_num_threads()`在您的情况下在并行区域之外调用之外，调用`omp_set_num_threads()`仍然不能保证 OpenMP 运行时将使用指定数量的线程。`omp_set_num_threads()`用于覆盖环境变量的值`OMP_NUM_THREADS`，它们都控制OpenMP 将为所有并行区域（在 的情况下）或任何后续并行区域（在调用之后）生成的线程组大小的*上限*. 如果运行时系统认为它更合适，有一种叫做动态团队的东西仍然可以选择较少数量的线程。您可以通过调用或将环境变量设置为来禁用动态团队。`OMP_NUM_THREADS``omp_set_num_threads()``omp_set_dynamic(0)``OMP_DYNAMIC``false`

要强制执行给定数量的线程，您应该禁用动态团队并使用以下任一方式指定所需的线程数`omp_set_num_threads()`：

```
omp_set_dynamic(0);     // Explicitly disable dynamic teams
omp_set_num_threads(4); // Use 4 threads for all consecutive parallel regions
#pragma omp parallel ...
{
    ... 4 threads used here ...
} 
```

或使用`num_threads`OpenMP 子句：

```
omp_set_dynamic(0);     // Explicitly disable dynamic teams
// Spawn 4 threads for this parallel region only
#pragma omp parallel ... num_threads(4)
{
    ... 4 threads used here ...
} 
```

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2012-06-19T06:18:04.233

该`omp_get_num_threads()`函数返回*当前在执行调用它的并行区域的团队中*的线程数。您在并行区域之外调用它，这就是它返回的原因`1`。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2015-06-14T00:46:31.917

根据[omp_get_num_threads 的 GCC 手册](https://gcc.gnu.org/onlinedocs/libgomp/omp_005fget_005fnum_005fthreads.html)：

> 在程序的顺序部分中 omp_get_num_threads 返回 1

所以这：

```
cout<<"sum="<<sum<<endl;
cout<<"threads="<<omp_get_num_threads()<<endl; 
```

应该改为：

```
#pragma omp parallel
{
    cout<<"sum="<<sum<<endl;
    cout<<"threads="<<omp_get_num_threads()<<endl;
} 
```

我使用的代码也遵循 Hristo 关于禁用动态团队的建议。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-01-02T17:08:10.027

我面临同样的问题。下面给出解决方案

右键单击 Source Program > Properties > Configuration Properties > C/C++ > Language > 现在将 Open MP support flag 更改为 Yes...。

你会得到想要的结果。

# c# - kangamodeling 和显示图表失败

> ID：11095310
> 
> 赞同：0
> 
> 时间：2012-06-19T06:09:47.577
> 
> 标签：c#, javascript, jquery, asp.net

`您知道为什么我使用的以下代码片段不会在浏览器上生成预期的图形吗？

我已经添加了指向最新 jquery 和 kangamodeling 的 js 脚本的脚本标签。

[http://jsfiddle.net/y94Qy/](http://jsfiddle.net/y94Qy/)

感谢您的任何指示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T18:31:03.750

到目前为止，我发现它似乎在 IE 中不起作用。至少对我来说使用 IE9 - 模拟 IE7 和 IE8。

但是，对于 Jsfiddle，脚本需要如下所示：http: [//jsfiddle.net/anAgent/6BcQR/](http://jsfiddle.net/anAgent/6BcQR/)

只需将包含脚本放入 HTML 框中。

# pseudocode - 无法实现伪代码

> ID：11095311
> 
> 赞同：0
> 
> 时间：2012-06-19T06:09:48.447
> 
> 标签：pseudocode

我遇到了一个我无法实现的伪代码，因为我无法理解它：

```
i, c := 0,0;
do i ≠ n →
    if v = b[i]           → c, i := c + 2, i + 1
       c = i               → c, i, v := c + 2, i + 1, b[i]
       c ≠ i ^ v ≠ b[i]    → i := i + 1
    fi
od 
```

我认为 tis 伪代码是关于找到在 b[] 中出现超过*n / 2 次的值 v。*

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T08:29:31.800

中的三个条件`if`是可选的，它们应该被翻译成一个`if-else if-else`链。类似赋值语句`c,i,v := c+2, i+1, b[i]`是多重赋值，据我所知就像 Python 多重赋值一样，所以`i`in`b[i]`指的是`i`. 这会产生

```
// n and v are initialised to something sensible, hopefully
i = 0;
c = 0;
while(i != n) {
    if (b[i] == v) {
        c = c + 2;
        i = i + 1;
    } else if (c == i) {
        c = c + 2;
        v = b[i];  // conjecture that the b[i] on the RHS refers to the old i
        i = i + 1;
    } else {
        i = i + 1;
    }
} 
```

由于`i`在每个分支中都递增，我们可以将其取出，并得到

```
for(i = 0, c = 0; i != n; ++i) {
    if (b[i] == v) {
        c += 2;
    } else if (c == i) {
        c += 2;
        v = b[i];
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:02:27.537

哇，这不是我期望看到的。它看起来像 Dijkstra 的 do-od 表示法（不确定什么是好的参考，也许是这个：[http](http://www.cs.grinnell.edu/~stone/courses/compilers/introduction-to-Dijkstra.pdf) ://www.cs.grinnell.edu/~stone/courses/compilers/introduction-to-Dijkstra.pdf ）。

大致来说，这是一系列保护检查。如果某些条件成立，则执行暗示。至于以 do-od 表示法实现某些东西，我不太确定。类似于以下内容：

```
i = c = 0;
while (i != n) {
    if (v == b[i]) {
        c = c+2, i = i+1;
        if (c == i) c = c+2, i = i + 1, v = b[i];
        if (c != i || v != b[i]) i = i + 1
    }
} 
```

不知道这些中间变量是什么，而且我一直将 do-od 程序概念化为更接近硬件的东西（所有东西都在并行运行和测试）。祝你好运

# c# - 无效的回发或回调参数。仅在图像按钮的情况下获取

> ID：11095312
> 
> 赞同：4
> 
> 时间：2012-06-19T06:10:01.010
> 
> 标签：c#, asp.net, repeater, eventvalidation

我收到以下错误：

> *无效的回发或回调参数。`<pages enableEventValidation="true"/>`使用配置或页面启用事件验证`<%@ Page EnableEventValidation="true" %>`。出于安全目的，此功能验证回发或回调事件的参数是否源自最初呈现它们的服务器控件。如果数据有效且符合预期，请使用 ClientScriptManager.RegisterForEventValidation 方法注册回发或回调数据以进行验证。*

我有一个`ImageButton`这样的`Repeater`：

```
<asp:ImageButton ID="btn_CreatePdf" ImageUrl="~/images/download.png" 
                 ToolTip="Create Transmittal for this Contact" 
                 CommandName="CreatePdf"   
                 CommandArgument='<%#Eval("contactid")%>' runat="server" /> 
```

当我点击这个`ImageButton`时，它会导致该错误。

但是当我尝试`LinkButton`代替时`ImageButton`，它工作正常。我试过以下`LinkButton`：

```
<asp:LinkButton ID="btn_CreatePdf" Text="Download" CommandName="CreatePdf" 
                CommandArgument='<%#Eval("contactid")%>' runat="server" >    
</asp:LinkButton> 
```

请给我一个解决方案，为什么我只在`ImageButton`.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-19T06:20:13.457

在您的 IsPostBack 页面加载检查中

```
protected void Page_Load(object sender, EventArgs e)
{
    if (!Page.IsPostBack)
    {
        //your code here
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-19T06:19:00.577

使用：`if(!Page.IsPostBack)`（C#）。

还要看看[这个答案](https://stackoverflow.com/a/229041/202609)和其他关于同一个问题的答案

# wordpress - Wordpress：仅显示导航级别的方式？

> ID：11095313
> 
> 赞同：0
> 
> 时间：2012-06-19T06:10:11.117
> 
> 标签：wordpress

当我在第三级时，wordpress 有没有办法只显示第四个导航级别？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T09:07:12.517

尝试这个：

```
<?php
  if($post->post_parent) {
  $children = wp_list_pages("title_li=&child_of=".$post->post_parent."&echo=0");
  $titlenamer = get_the_title($post->post_parent);
  }

  else {
  $children = wp_list_pages("title_li=&child_of=".$post->ID."&echo=0");
  $titlenamer = get_the_title($post->ID);
  }
  if ($children) { ?>

  <h2> <?php echo $titlenamer; ?> </h2>
  <ul>
  <?php echo $children; ?>
  </ul>

<?php } ?> 
```

此代码将显示当前页面的所有子页面。因此，当您处于 3 级时，如果存在，它将显示 4 级子页面。

[**请参阅此 Codex 部分**](http://codex.wordpress.org/Function_Reference/wp_list_pages#List_Sub-Pages)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T11:17:42.203

你可以试试这个功能：

```
function getPages($pid=0) {
    global $wpdb;
    $pages = $wpdb->get_results($sql = "
        SELECT *
        FROM $wpdb->posts
        WHERE
            post_type = 'page' &&
            post_status = 'publish' &&
            post_parent = $pid
        ORDER BY menu_order
    ");
    return $pages;
} 
```

$pid 在您的情况下是父 id 第三导航级别页面 id。

# templates - TYPO3 模板库

> ID：11095315
> 
> 赞同：0
> 
> 时间：2012-06-19T06:10:27.270
> 
> 标签：templates, typo3

我正在寻找 TYPO3 模板库。他们不需要自由。我正在寻找真正的 Typo3 模板，准备好导入到 vanilla Typo3 安装中，而不仅仅是 HTML 甚至 PSD 模板。

我问的原因是我们有许多预算非常紧张的客户。我们想给他们一些可供选择的模板。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:33:11.110

制作一个简单的 Typo3 模板并不难，但我认为您的意思是更好的浏览器兼容性支持。我个人对 YAML 有很好的经验。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T21:02:28.223

我不知道那里有类似的东西，但它只是针对内容网站，还是您正在寻找功能更多的网站？

任何模板都可以适应 TYPO3，您可以在这里查看[http://webdevelopers.thedemo.ca/](http://webdevelopers.thedemo.ca/)在大约一个小时的时间里，我们从[http://www.oswd.org/](http://www.oswd.org/)抓取了一个模板并将其变成了一个TYPO3 网站。它粗糙而凌乱，但显示了这个想法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T07:12:38.080

有*这样的*项目，但我认为它们中的大多数现在刚刚完成。TYPO3 没有默认的数据/内容结构，因此很难构建有用的集合，因为每个实现都可能非常个性化。

对于您自己的低预算制作，我建议使用示例数据和某种预配置的扩展创建一些非常典型的*原始实现，即。*

*   CMS+ 新闻 + 联系表 + 图库，
*   CMS + 新闻 + 常见问题...
*   ETC...

然后，您还可`TypoScript`以为每个场景准备通用元素，最后只需使用任何 HTML 模板并以最少的修改映射您准备好的 TS。

使用`TemplaVoila`您不需要更改 HTML 模板中的任何单个字符，并且不超过 2 次早上的咖啡（映射简单模板时）。

# javascript - 如何修复 IE 9 中的文档模式重启

> ID：11095319
> 
> 赞同：26
> 
> 时间：2012-06-19T06:10:48.673
> 
> 标签：javascript, asp.net, internet-explorer-9, doctype

我在 IE9 中打开我的网站时遇到问题。当我尝试打开我的网站时，我在开发工具中收到此错误：

```
HTML1113: Document mode restart from Quirks to IE9 Standards 
```

我用谷歌搜索并找到了一个建议使用这个的答案：

```
<meta http-equiv="X-UA-Compatible" content="IE=edge" /> 
```

或者

```
<meta http-equiv="X-UA-Compatible" content="IE=IE9" /> 
```

...但是这些不起作用，这次我收到以下消息：

```
HTML1115: X-UA-Compatible META tag ('IE=Edge') ignored because document mode is already finalized. 
```

我的问题是什么？我阅读了几篇文章，例如Microsoft[的 IE 为站点开发人员提供的兼容性功能，并使用](http://blogs.msdn.com/b/ie/archive/2010/06/16/ie-s-compatibility-features-for-site-developers.aspx?Redirected=true)[确定 IE9 的文档模式](http://ieblog.members.winisp.net/misc/How%20IE9%20Determines%20Document%20Mode.svg)流程图来跟踪我的站点，并在这些站点上使用与**!doctype**相关的所有建议，但没有人能解决我的问题，并且我的 IE 引擎在页面后重置打开。

我在 Windows Server 2008 上使用 ASP.NET 4 开发我的网站。如何解决这个问题？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-06-19T07:20:48.043

一种应该始终有效的解决方案是将您`X-UA-Compatible`的 HTTP 标头放入其中。此外，您`<!DOCTYPE>`应该在 HTML 文档的顶部指定（这`<!DOCTYPE html>`是最简单的）。

如果您将`X-UA-Compatible`声明放在`meta`标签内，您可能会遇到以下问题：

1.  [`X-UA-Compatible`除非它出现在您页面的前 4k 中，否则将被忽略。](http://blogs.msdn.com/b/ieinternals/archive/2011/07/18/optimal-html-head-ordering-to-avoid-parser-restarts-redownloads-and-improve-performance.aspx)如果你把它放在你的`head`部分底部（或在`body`）的某个地方，把它移到顶部。最好的地方是在编码和语言声明之后。
2.  `X-UA-Compatible`如果放在 IE 条件注释中，则会被忽略。例如：

    ```
    <!--[if IE]>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <![endif]--> 
    ```

    在这种情况下，您应该删除条件注释。

3.  此外，您不应该在`doctype`声明之前有任何文本。[例如，如果那里有任何 HTML 注释，IE 将切换到 quirks 模式。](http://msdn.microsoft.com/en-us/library/community/history/cc288325%28v=vs.85%29.aspx?id=26)

4.  最后，检查您是否从 Intranet 上查看此站点。默认情况下，为 Intranet 站点启用兼容性视图。

我建议`X-UA-Compatible`为您的页面设置标题，然后查看您的网站是否仍在切换到怪癖模式。在这种情况下，您应该检查您的标记并尝试修复任何[HTML 验证器错误](http://validator.w3.org/nu/)，直到它返回标准模式。

# android - SoftKeyboard 没有调整我的屏幕，试过 windowSoftinputmode adjustPan & adjustResize

> ID：11095322
> 
> 赞同：0
> 
> 时间：2012-06-19T06:10:59.693
> 
> 标签：android, scrollview, android-softkeyboard

正如标题所说的那样，但是当我尝试将我的布局放在一个 `ScrollView`中时，它会起作用，但问题是我有一个`Tablelayout`也有一个`ScrollView`，这意味着垂直滚动视图中的垂直滚动。

通过将我的父 LinearLayout 放在 a`Scrollview`中，我的`TableLayout's`ScrollView 就不起作用了。

我该如何解决。

```
<ScrollView>// Added to adjust my screen on softKeyboard
   <LinearLayout>

      <TableLayout>
      </TableLayout>

      <Scrolliew> // Is not working because of Parent ScrollView

          <TableLayout>
          </TableLayout>

      </ScrollView>

   </LinearLayout>

</ScrollView> 
```

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:36:49.780

您不能有两个 ScrollView，它是父级和子级。android如何知道被触摸的是哪个滚动视图？

# mysql - 对索引字段进行排序是否有任何优势

> ID：11095323
> 
> 赞同：1
> 
> 时间：2012-06-19T06:11:09.723
> 
> 标签：mysql, sql, indexing

我想对某个字段执行排序操作。在该字段上建立索引是否有利。例如：

```
SELECT * FROM `users` WHERE `age`=33 ORDER BY `name` 
```

在这个查询中，我知道有一个关于年龄的索引是有帮助的，但是如果我维护一个名字的索引会更好。通过索引它是否会提高性能。并且`ORDER BY`其他查询也经常需要该操作。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-19T06:13:41.523

单独的索引`name`不太可能对这个查询有很大帮助，但索引`(age, name)`会。

虽然它并不完全准确，但将索引视为按索引中的键排序的行列表（例如，`age`首先排序，然后排序`name`）通常是有益的。对于您的示例查询，所有带有 的行`age=33`自然会来自按名称排序的复合索引，从而使您无需进行单独的排序。有一个单独的索引`name`不会有同样的帮助。

# java - Google Multimap 中的泛型

> ID：11095324
> 
> 赞同：4
> 
> 时间：2012-06-19T06:11:12.233
> 
> 标签：java, guava

[MultiMap](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Multimap.html)不是完全通用的，你有理由吗？

```
containsEntry(Object key, Object value)
containsKey(Object key)
remove(Object key, Object value)
removeAll(Object key) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-19T09:34:56.770

看看[这个答案](https://stackoverflow.com/questions/857420/what-are-the-reasons-why-map-getobject-key-is-not-fully-generic)，这对于 Guava 的 Multimap 也是如此。此外，您可能需要阅读[Kevin Bourrillion 的博客文章](http://smallwig.blogspot.com/2007/12/why-does-setcontains-take-object-not-e.html)（他是 Guava 首席开发人员）解释相同的问题（注意`add`使用泛型类型`E`）：

> 真正的区别在于 add() 在使用错误类型调用时会对集合造成“损坏”，而 contains() 和 remove() 则不能。
> 
> 统一地，Java 集合框架（以及 Google 集合库）的方法从不限制其参数的类型，除非有必要防止集合被破坏。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:18:27.093

[我猜是因为他们想要一个与原始java.util.Map](http://docs.oracle.com/javase/6/docs/api/java/util/Map.html)接口类似的接口

# visual-studio-2010 - SSL/TLS 连接错误

> ID：11095326
> 
> 赞同：1
> 
> 时间：2012-06-19T06:11:18.543
> 
> 标签：visual-studio-2010

我在 Visual Studio 2010 中安装包时遇到问题。当我运行包管理器控制台时，它显示以下错误：

```
PM> Install-Package wpf.themes
Install-Package : The underlying connection was closed: Could not establish trust relationship for the SSL/TLS secure channel.
At line:1 char:16
+ Install-Package <<<<  wpf.themes
    + CategoryInfo          : NotSpecified: (:) [Install-Package], WebException
    + FullyQualifiedErrorId : NuGetCmdletUnhandledException,NuGet.PowerShell.Commands.InstallPackageCommand 
```

我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T22:58:12.170

我可以查看软件包，但在尝试安装时出现信任错误。

发现 Nuget 包源 url (nuget.org/api/v2/) 通过[https://go.microsoft.com](https://go.microsoft.com)路由。请参阅 nuget.codeplex.com/workitem/1623。

该站点的证书路径以 Baltimore Cyber​​Trust Root 开头。该证书未被承认。一旦我将它添加到我的受信任的根证书颁发机构，那么安装工作正常。在此处获取证书：www.cybertrust.ne.jp/SureServer/file/root_ca/BCTRoot.txt

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-26T08:06:58.210

阅读这篇[文章](http://forum.avast.com/index.php?topic=89943.30.)，这可能会对您有所帮助。因此可能有助于祝你好运！

尝试按照以下步骤操作：

*   下载 Equifax Secure Certificate Authority 证书 ( [http://www.geotrust.com/resources/root-certificates/](http://www.geotrust.com/resources/root-certificates/) ) 并将其安装到您的系统中。

*   将 imap.gmail.com 添加到仅 SSL 服务器列表中。

*   在您的邮件客户端中禁用 SSL。

# ruby-on-rails-3.1 - 如何在 Rails 3 中模拟/存根配置初始值设定项哈希

> ID：11095327
> 
> 赞同：3
> 
> 时间：2012-06-19T06:11:23.833
> 
> 标签：ruby-on-rails-3.1, rspec2

环境：`Rails 3.1.1 and Rspec 2.10.1` 我正在通过外部 YAML 文件加载我的所有应用程序配置。我的初始化程序`(config/initializers/load_config.rb)`看起来像这样

```
AppConfig = YAML.load_file("#{RAILS_ROOT}/config/config.yml")[RAILS_ENV] 
```

我的 YAML 文件位于 config/config.yml 下

```
development:
 client_system: SWN
 b2c_agent_number: '10500'
 advocacy_agent_number: 16202
 motorcycle_agent_number: '10400'
 tso_agent_number: '39160'
 feesecure_eligible_months_for_monthly_payments: 1..12

test:
 client_system: SWN
 b2c_agent_number: '10500'
 advocacy_agent_number: 16202
 motorcycle_agent_number: '10400'
 tso_agent_number: '39160'
 feesecure_eligible_months_for_monthly_payments: 1..11 
```

我访问这些值，例如`AppConfig['feesecure_eligible_months_for_monthly_payments']`

在我的一项测试中，我需要`AppConfig['feesecure_eligible_months_for_monthly_payments']`返回一个不同的值，但不知道如何实现这一点。我尝试了以下方法但没有运气

```
describe 'monthly_option_available?' do
 before :each do
  @policy = FeeSecure::Policy.new
  @settlement_breakdown = SettlementBreakdown.new
  @policy.stub(:settlement_breakdown).and_return(@settlement_breakdown)
  @date = Date.today
  Date.should_receive(:today).and_return(@date)
  @config = mock(AppConfig)
  AppConfig.stub(:feesecure_eligible_months_for_monthly_payments).and_return('1..7')
 end
 .....
 end 
```

在我各自的班级中，我正在做这样的事情

```
class Policy        
 def eligible_month?
  eval(AppConfig['feesecure_eligible_months_for_monthly_payments']).include?(Date.today.month)
 end
....
end 
```

有人可以指出我正确的方向吗！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-19T07:13:02.583

调用时调用`AppConfig['foo']`的方法是`[]`方法，它接受一个参数（要检索的键）

因此，您可以在测试中做的是

```
AppConfig.stub(:[]).and_return('1..11') 
```

您可以使用`with`根据参数的值设置不同的期望，即

```
AppConfig.stub(:[]).with('foo').and_return('1..11')
AppConfig.stub(:[]).with('bar').and_return(3) 
```

您无需设置模拟 AppConfig 对象 - 您可以将存根直接粘贴在“真实”对象上。

# c# - 在 TFS 中的解决方案之间共享代码

> ID：11095329
> 
> 赞同：3
> 
> 时间：2012-06-19T06:11:54.980
> 
> 标签：c#, tfs, branch, code-sharing

我有几个不同的应用程序需要在它们之间共享代码以减少维护。我试图阅读很多关于 stackoverflow 和一般网络的内容，这是一个相当普遍的问题；我还没有找到我喜欢的答案。

我们的 TFS 分支结构是这样的。我们有三个分支开发，主要和生产。在 Development 分支上，所有活跃的开发都完成了，当我们完成新功能的开发时，我们将它与 Main 合并，然后再到生产中。生产分支始终是在服务器上运行的代码。如果我们检测到必须在下一次迭代之前修复的错误。更改主要完成，并在我们部署时与生产合并。需要共享代码的应用程序不共享公共分支层次结构或公共迭代计划。事实上，其中一个应用程序每年只进行一次 1 个月的迭代。（我知道这与传统的做法略有不同。

在我的研究中，我发现了一些不同的解决方案，但我都遇到了问题。

二进制文件共享：我发现的一种常见方法是将编译后的二进制文件分支到开发分支下的文件夹中。我的问题是，如果我们在哪里检测必须快速修复的共享代码中的错误，那么有问题的代码就会被编译。如果我们在哪里修复错误，我们将对共享代码库进行所有更改。

项目共享：我的主要问题是如何以可接受的方式完成。我最初的想法是当新的迭代开始时，将主分支的更改与共享代码合并以更新它。将主分支与开发分支合并，以使用错误修复导致的更改来更新开发分支。并将共享代码的新更新版本分支到开发分支中。但据我了解，这不受 TFS 支持，因为我会创建嵌套分支。

我的问题是：如何在解决方案之间共享一些常见项目，同时保持它们隔离，并能够修复主分支上的错误，而不必担心常见项目已更改并因此引入新错误。但仍然能够修复公共项目中的错误并将这些修复合并回共享的公共项目中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T08:38:28.363

我所做的是您所谓的“二进制共享”的一个版本。如果您可以将共享代码视为第 3 方项目，那么您可以应用与运行良好的第 3 方项目相同的开发规则。这意味着您应该专门对共享代码进行版本控制（使用[semVer](http://semver.org/)或类似的东西）并尽可能保持向后兼容性。

是的，你是对的，这意味着如果你在共享代码中发现了一个错误，你需要发布另一个版本，然后重新编译依赖这个代码的项目。

但是，这也意味着如果依赖共享代码的两个项目中只有一个需要修复错误，则只有该项目需要采用新版本。

另一个好处是，*何时*进行更新取决于项目。因此，您可以更有信心地管理错误修复过程。

所以，要明确一点，我的建议是为共享代码创建一个新的 TFS 项目，将你对第 3 方项目（它自己的构建、NuGet 等）表现出的所有爱都给予它，然后进行构建程序集放入想要使用它的项目的库文件夹中。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-24T11:19:17.117

感谢大家的帮助，因为你们中的一些人为我的最终解决方案做出了贡献，我选择在这里发布我最终所做的事情。

我最终做的是二进制共享和代码共享

对于经常更新且迭代速度相对较快的项目，我参考了我需要的共享项目并创建了项目指南，以确保代码在特定时间内向后兼容。

对于更新频率较低的项目，我在编译后的二进制文件中进行了分支。我还创建了共享项目的版本，并创建了指导方针，以确保任何向后兼容性冲突的代码都会导致版本号的主要组成部分增加。

# mongodb - 寻找 1 x 100 万个交叉点的最佳解决方案？Redis、Mongo、其他

> ID：11095331
> 
> 赞同：27
> 
> 时间：2012-06-19T06:11:56.220
> 
> 标签：mongodb, redis, bigdata, nosql

大家好，提前感谢。我是 NoSQL 游戏的新手，但我目前的工作地点要求我对一些大数据进行设置比较。

我们的系统有客户标签集和目标标签集。标签是一个 8 位数字。
一个客户标签集可能有多达 300 个标签，但平均有 100 个标签
目标标签集可能有多达 300 个标签，但平均有 40 个标签。

预先计算不是一种选择，因为我们正在为 10 亿用户的潜在客户群进行拍摄。

（这些标签是分层的，所以有一个标签意味着你也有它的父标签和祖先标签。暂时把这些信息放在一边。）

当客户访问我们的网站时，我们需要尽快将他们的标签集与一百万个目标标签集相交。客户集必须包含要匹配的目标集的所有元素。

我一直在探索我的选择，Redis 中的设置交叉点似乎是理想的。然而，我在互联网上的拖钓并没有透露需要多少内存才能容纳一百万个标签集。我意识到交叉口会快如闪电，但这是 Redis 的可行解决方案吗？

我意识到这是蛮力和低效的。我还想用这个问题来获得有关过去处理此类问题的方法的建议。如前所述，标签存储在树中。我也开始将 Mongodb 视为一种可能的解决方案。

再次感谢

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-06-19T20:10:02.873

这是一个有趣的问题，我认为 Redis 可以在这里提供帮助。

Redis 可以使用优化的“intset”格式存储整数集。有关更多信息，请参阅[http://redis.io/topics/memory-optimization](http://redis.io/topics/memory-optimization)。

我相信这里正确的数据结构是目标标签集的集合，加上将标签映射到目标标签集的反向索引。

存储两个目标标签集：

```
 0 -> [ 1 2 3 4 5 6 7 8 ]
 1 -> [ 6 7 8 9 10 ] 
```

我会使用：

```
 # Targeted tag sets
 sadd tgt:0 1 2 3 4 5 6 7 8
 sadd tgt:1 2 6 7 8 9 10
 # Reverse index
 sadd tag:0 0
 sadd tag:1 0
 sadd tag:2 0 1
 sadd tag:3 0
 sadd tag:4 0
 sadd tag:5 0
 sadd tag:6 0 1
 sadd tag:7 0 1
 sadd tag:8 0 1
 sadd tag:9 1
 sadd tag:10 1 
```

当从系统中添加/删除目标标签集时，这个反向索引很容易维护。

全局内存消耗取决于多个目标标签集共有的标签数量。在 Redis 中存储伪数据并模拟内存消耗非常容易。我使用[简单的 node.js 脚本](https://gist.github.com/2956241)完成了它。

对于 100 万个目标标签集（标签为 8 位数字，每组 40 个标签），当目标标签集共享的标签很少（反向索引中超过 32M 条目）时，内存消耗接近**4 GB** ，当标签被大量共享时，大约**500 MB**（反向索引中只有 100K 条目）。

使用这种数据结构，查找包含给定客户的所有标签的目标标签集非常有效。

```
1- Get customer tag set (suppose it is 1 2 3 4)
2- SINTER tag:1 tag:2 tag:3 tag:4
   => result is a list of targeted tag sets having all the tags of the customer 
```

交集操作是高效的，因为 Redis 足够聪明，可以按基数对集合进行排序，并从具有最低基数的集合开始。

现在我知道您需要实现相反的操作（即找到目标标签集，其所有标签都包含在客户标签集中）。反向索引仍然可以提供帮助。

这是一个丑陋的伪代码示例：

```
1- Get customer tag set (suppose it is 1 2 3 4)
2- SUNIONSTORE tmp tag:1 tag:2 tag:3 tag:4
   => result is a list of targeted tag sets having at least one tag in common with the customer
3- For t in tmp (iterating on the selected targeted tag sets)
      n = SCARD tgt:t (cardinality of the targeted tag sets)
      intersect = SINTER customer tgt:t
      if n == len(intersect), this targeted tag set matches 
```

因此，您无需针对 1M 目标标签集测试客户标签集。您可以依靠反向索引将搜索范围限制在可接受的范围内。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-29T15:34:53.387

这可能会有所帮助：

案例研究：在非常大的集合上使用 Redis 相交（120M+ 和 120M+）

[http://redis4you.com/articles.php?id=016&name=Case+Study%3A+Using+Redis+intersect+on+very+large+sets](http://redis4you.com/articles.php?id=016&name=Case+Study%3A+Using+Redis+intersect+on+very+large+sets)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-02-20T20:50:08.990

提供的答案最初对我有帮助。然而，随着我们客户群的增长，我偶然发现了一种很棒的技术，它涉及使用 redis 字符串位和位运算符来非常快速地对数亿用户执行分析。

看看这篇文章。Redis 的创建者 Antirez 也经常引用这一点。

[http://blog.getspool.com/2011/11/29/fast-easy-realtime-metrics-using-redis-bitmaps/](http://blog.getspool.com/2011/11/29/fast-easy-realtime-metrics-using-redis-bitmaps/)

# actionscript-3 - as3 位图重复-X 和重复-Y

> ID：11095333
> 
> 赞同：0
> 
> 时间：2012-06-19T06:12:06.047
> 
> 标签：actionscript-3

关于位图重复 x 和 y 的快速问题，我尝试了以下方法，但它不起作用

```
mySprite.graphics.beginBitmapFill(myFill);
mySprite.graphics.drawRect(-5, -5, 10, 10);
mySprite.graphics.endFill(); 
```

是不是因为你需要一个矩阵

```
public function beginBitmapFill(bitmap:BitmapData, matrix:Matrix = null, repeat:Boolean = true, smooth:Boolean = false):void 
```

干杯比尔

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:24:12.717

```
function drawBackground():void {
    var clip:MovieClip = new GradientMovieClip();
    var bd:BitmapData = new BitmapData(clip.width, clip.height, true, 0xFFFFFF); // set the color to 0xFFFFFF if you use transparent png file for the pattern
    bd.draw(clip);
    _background.graphics.clear();
    _background.graphics.beginBitmapFill(bd);
    _background.graphics.drawRect(0, 0, widthOfTheScreen, heightOfTheScreen);
    _background.graphics.endFill();
} 
```

问题解决了

# iphone - 将基于视图的应用程序转换为基于导航的应用程序

> ID：11095334
> 
> 赞同：0
> 
> 时间：2012-06-19T06:12:06.813
> 
> 标签：iphone, ipad, view, uinavigationcontroller, uinavigationbar

我是 iPhone 开发的新手。

我创建了简单`ViewBased`的应用程序，其中有 2 个页面`Licpage`，并且`PlanPage` 我已将其设置`LicPage`为我的 RootViewController `didFinishLaunchingWithOptions`，

现在，当我单击按钮时，`LicPage`我将导航到，`PlanPage`但在我的导航栏中，我`PlanPage` 无法看到带有后退按钮的 NavigationBar。

**注意：**我无法使用后退按钮手动拖动 NavigationBar。因为当我添加第 3 页时，它也会导航到第 2 页（`PlanPage`）。当我单击后退按钮时，它将带我进入第一页（`LicPage`）而不是第三页。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:15:07.783

尝试这个：

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions 
{ 
   self.window = [[[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]] autorelease]; 

self.viewController = [[[LicAppViewController alloc] initWithNibName:@"LicAppViewController" bundle:nil] autorelease]; 

UINavigationController *navigationController=[[UINavigationController alloc] initWithRootViewController:self.viewController];
 [self.window addSubview:navigationController.view];
 [self.window makeKeyAndVisible];
  return YES; 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:18:08.320

您需要在 appDelegate 类中制作 NavigationController（删除 viewController rootViewController）。

并在 .h 中使用它

```
@property (nonatomic, retain) UINavigationController *navigationController; 
```

米

```
@synthesize navigationController 
```

并制作 LicPage (objLicPage) 的对象并设置为导航控制器的 rootviewcontroller

```
self.navigationController.rootViewController = objLicPage;

[self.window addSubView:navigationController.view];

[self.window makeKeyAndVisible]; 
```

# sharepoint - SharePoint SPWeb.GetFile 方法，使用服务器 url 而根本不使用它

> ID：11095339
> 
> 赞同：0
> 
> 时间：2012-06-19T06:12:28.903
> 
> 标签：sharepoint

我注意到，当我们使用**SPWeb.GetFile**方法时，我们可以传递整个 URL 或仅传递 url 的一部分。

假设我的文件存在于 servername/sites/SiteA/DocumentLibrary/Folder/file.txt 中。（我省略了http）

站点 A = 服务器名称/站点/站点 A

```
 using (SPWeb oWebsiteFrom = new SPSite(SiteA).OpenWeb())
   {          
          SPFile oSrcSPFile = oWebsiteFrom.GetFile(ServerURL + "/" + DocLibrary+ "/" + Folder + "/" + fileName);
   } 
```

这个在GetFile中不用ServerURL也可以使用。

```
 using (SPWeb oWebsiteFrom = new SPSite(SiteA).OpenWeb())
   {          
          SPFile oSrcSPFile = oWebsiteFrom.GetFile(DocLibrary+ "/" + Folder + "/" + fileName);
   } 
```

在 GetFile 方法中使用 serverURL 和不使用 serverURL 有什么区别？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T08:55:32.123

基本上是一样的。

许多使用 Url 作为参数的 SharePoint 方法（不是全部）将调用名为“GetWebRelativeUrlFromUrl”的内部方法来处理 Url

以下是调用 SPWeb.GetFile 时调用的方法的代码

如您所见，字符串将解析为 UriScheme 对象，如果您的字符串是 ServerRelative uriScheme，该方法会将其“转换”为绝对 url。

```
internal SPFile GetFile(string strUrl, byte iLevel)
{
    string webRelativeUrlFromUrl = this.GetWebRelativeUrlFromUrl(strUrl);
    if (webRelativeUrlFromUrl.Length == 0)
    {
        throw new ArgumentException();
    }
    return new SPFile(this, webRelativeUrlFromUrl, iLevel);
}

internal string GetWebRelativeUrlFromUrl(string strUrl)
{
    return this.GetWebRelativeUrlFromUrl(strUrl, true, true);
}

internal string GetWebRelativeUrlFromUrl(string strUrl, bool includeQueryString, bool canonicalizeUrl)
{
    string str;
    char[] chrArray;
    if (strUrl == null)
    {
        throw new ArgumentNullException();
    }
    if (strUrl.Length == 0)
    {
        return strUrl;
    }
    if (canonicalizeUrl || !includeQueryString)
    {
        strUrl = Utility.CanonicalizeFullOrRelativeUrl(strUrl, includeQueryString, out flag);
        canonicalizeUrl = 0;
        includeQueryString = 1;
    }
    UriScheme uriScheme = SPWeb.GetUriScheme(strUrl);
    if (uriScheme == UriScheme.ServerRelative)
    {
        string serverRelativeUrl = this.ServerRelativeUrl;
        if (!SPUtility.StsStartsWith(strUrl, serverRelativeUrl))
        {
            throw new ArgumentException();
        }
        str = strUrl.Substring(serverRelativeUrl.Length);
        if (str.Length > 0)
        {
            if (str.get_Chars(0) == 47)
            {
                return str.Substring(1);
            }
            if (uriScheme == UriScheme.Http || uriScheme == UriScheme.Https)
            {
                if (uriScheme == UriScheme.Http && strUrl.Contains(":80/"))
                {
                    strUrl = strUrl.Remove(strUrl.IndexOf(":80/"), ":80/".Length - 1);
                }
                bool flag2 = false;
                if (!SPUtility.StsStartsWith(strUrl, this.Url))
                {
                    using (SPSite sPSite = new SPSite(strUrl))
                    {
                        if (sPSite.ID != this.Site.ID)
                        {
                            throw new ArgumentException();
                        }
                        UriBuilder uriBuilder = new UriBuilder(new Uri(strUrl));
                        uriBuilder.Scheme = sPSite.Protocol.TrimEnd(new char[] { 58 });
                        uriBuilder.Host = sPSite.HostName;
                        uriBuilder.Port = sPSite.Port;
                        strUrl = uriBuilder.Uri.ToString();
                    }
                    flag2 = SPUtility.StsStartsWith(strUrl, this.Url);
                }
                else
                {
                    flag2 = true;
                }
                if (flag2)
                {
                    str = strUrl.Substring(this.Url.Length);
                    if (str.Length > 0)
                    {
                        if (str.get_Chars(0) == 47)
                        {
                            return str.Substring(1);
                        }
                        throw new ArgumentException();
                        if (!strUrl.StartsWith("_"))
                        {
                            bool flag3 = true;
                            try
                            {
                                if (false || -1 == strUrl.IndexOf(58) || null != new Uri(strUrl))
                                {
                                    flag3 = false;
                                }
                            }
                            catch
                            {
                            }
                            if (!flag3)
                            {
                                throw new ArgumentException();
                            }
                        }
                        str = strUrl;
                    }
                }
            }
        }
    }
    return str;
} 
```

# ios - 为 PlotSymbol 添加标题

> ID：11095351
> 
> 赞同：1
> 
> 时间：2012-06-19T06:13:00.833
> 
> 标签：ios, core-plot

![在此处输入图像描述](../Images/aa012681a94af9bd8a09487d55e1dd4b.png)

是否可以设置标题而不是 A `CPTPlotSymbol`？我想显示坐标而不是符号。这是屏幕截图。我想要一个标签，屏幕截图中有一个圆形符号图。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T00:10:59.283

将 设置为`plotSymbol`从`nil`图中删除符号。您想使用数据标签来标记点。如果您只想显示 y 坐标，请设置 a`labelTextStyle`和`labelFormatter`. 该图将使用给定的样式和数字格式自动创建和显示标签。

如果您需要更复杂的标签（例如，同时显示 x 和 y 坐标），您可以制作自定义标签。实现`-dataLabelForPlot:recordIndex:`数据源方法。这个方法可以返回 any `CPTLayer`，所以你有很大的灵活性。对于简单的文本标签，使用标签文本创建一个字符串并将其显示在`CPTTextLayer`. 该图将为您定位标签，并​​在其移动时使其与数据点对齐。

# sql - 在 SQL Server 2008 中使用 BCP 导出存储过程结果

> ID：11095355
> 
> 赞同：1
> 
> 时间：2012-06-19T06:13:13.890
> 
> 标签：sql, bcp, xp-cmdshell

嘿嘿，

我正在尝试使用 BCP 使用此查询将 SP 结果导出到文本文件：

```
EXEC xp_cmdshell 'bcp "exec asmary..usp_Contract_SelectByEmpId -1,1" queryout "C:\test.txt" -w -C OEM -t$ -T -r ~ -S heba\HEBADREAMNET ' 
```

此查询的输出告诉此错误：

> 错误 = [Microsoft][SQL Server Native Client 10.0][SQL Server]关键字“where”附近的语法不正确。

甚至认为我确定存储过程“usp_Contract_SelectByEmpId”工作正常。

以前有人遇到过这种错误吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T03:28:49.233

1.  正如 Lynn 建议的那样，检查您的存储过程。看起来问题就在其中。

2.  确保任何普通的 SELECT 都能正常工作（例如，C: 驱动器是数据库服务器的本地驱动器，不一定是您自己的本地驱动器）。

3.  如果前两项工作正常，则添加 SET FMTONLY OFF，如下所示：

EXEC xp_cmdshell 'bcp "set fmtonly off exec asmary..usp_Contract_SelectByEmpId -1,1" queryout "C:\test.txt" -w -C OEM -t$ -T -r ~ -S heba\HEBADREAMNET'

我不得不承认，当我在我的计算机上尝试类似的操作时，它因“功能序列错误”而失败，我发现它与 2011 年修复的 SQL Server 2008 错误有关。

另请注意，即使没有 SET FMTONLY OFF，一切都适用于 BCP 库（odbcbcp.dll/odbcbcp.lib）。因此，如果您编写自己的包装器可执行文件（例如，在 C 或 C++ 中），您可以获得更通用的 ODBC 范围的 bcp 解决方案。

我还在[http://msdn.microsoft.com/en-us/library/ms162802.aspx找到了以下内容](http://msdn.microsoft.com/en-us/library/ms162802.aspx)

只要存储过程中引用的所有表在执行 bcp 语句之前都存在，查询就可以引用存储过程。例如，如果存储过程生成一个临时表，则 bcp 语句将失败，因为该临时表仅在运行时可用，而在语句执行时不可用。在这种情况下，考虑将存储过程的结果插入到表中，然后使用 bcp 将数据从表中复制到数据文件中。

另请参阅我稍后的单独回复 - 我认为将存储过程用于 BCP/queryout 的整个概念是错误的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T22:31:46.360

尝试这个。

```
DECLARE @strbcpcmd NVARCHAR(max)
SET @strbcpcmd = 'bcp  "EXEC asmary..usp_Contract_SelectByEmpId -1,1" queryout "C:\test.txt" -w -C OEM -t"$" -T -S'+@@servername    
EXEC master..xp_cmdshell @strbcpcmd 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T04:18:37.443

很抱歉用多个答案淹没了您的问题，但我想知道与普通 SELECT 相比，使用存储过程（在性能方面）要重多少。我得到了一个非常重要的信息

[http://social.msdn.microsoft.com/Forums/en-US/transactsql/thread/b8340289-7d7e-4a8d-b570-bec7a0d73ead/](http://social.msdn.microsoft.com/Forums/en-US/transactsql/thread/b8340289-7d7e-4a8d-b570-bec7a0d73ead/)

这迫使我创建另一个（单独的）答案。我所指的帖子使整个概念无效。

简而言之：存储过程可能会被调用几 (3) 次，以便找出结果集的结构，然后是实际数据。

因此（特别是如果从 SQL Server 连接而不是客户端调用），我认为拥有一个将返回 SELECT 语句的存储过程或函数更有意义。然后，您可以使用另一个通用存储过程或函数来创建和执行嵌入该语句的完整 BCP 命令。我很确定在这种情况下 BCP 可能会使用更好的执行计划。不幸的是，由于我在上一篇文章中提到的 SQL Server 2008 R2 中的 BCP 错误，我无法在实践中验证这一点。

注意 请小心创建动态查询并转义所有显式文字字符串（即重复所有单引号两次）以避免臭名昭著的 SQL 注入。不幸的是，还有另一个陷阱：您应该确保没有两次或多次转义查询。

# probability - Weka下朴素贝叶斯分类器的概率计算

> ID：11095357
> 
> 赞同：2
> 
> 时间：2012-06-19T06:13:21.193
> 
> 标签：probability, weka, bayesian, document-classification

我想了解朴素贝叶斯分类器如何与文本分类一起工作，特别是概率的计算如何？

> ```
>  Class 
> ```
> 
> 属性 event1 event2
> 
> # (0.4) (0.6)

2006 年平均 1 0 标准。开发。0.1667 0.1667 权重总和 1 2 精度 1 1

在我的数据中，我有两个“event2”类的实例和一个“event1”类的实例。所以通常类概率应该如下： P(event1)=1/3=0.33 and P(event2)=2/3=0.66 但是使用朴素贝叶斯：P(event1)=0.3 and P(event2)=0.6

我还想知道它如何计算属性“2006”的概率

有什么帮助吗？

# html - HTML5 视频 - 在 IE 中加载它静音？

> ID：11095359
> 
> 赞同：1
> 
> 时间：2012-06-19T06:13:32.797
> 
> 标签：html, internet-explorer, video, mp4, mute

我有一个使用 Video for Everyong 解决方案实现的 video5

[http://qa.crfhealth.com](http://qa.crfhealth.com)

我已经设置了视频标签属性 muted="muted" 和属性 'mute':true 的闪光灯

IE 正在播放 mp4 文件，但会在播放音频时加载它。

任何人都知道我可以如何将其静音为 IE9？

谢谢！

这是代码：

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-05-14T21:23:24.813

从提出这个问题的日期来看，也许您已经弄清楚了这一点，但是对于可能遇到此问题的人来说，原因是 IE9（和更早版本）不支持元素/标签的`muted`属性。`video`奇怪的是，该`muted`属性可通过 JavaScript 获得。因此，通过 MSDN 的文档挖掘，我发现了 3 个选项来静音/禁用视频的音频。

## 选项 1：设置`muted`为`true`

将`muted`属性设置为true，应该这样做。

```
var video = document.getElementById("your-video-id");
video.muted= true; 
```

## 选项 2：设置`volume`为`0.0`

将音量设置为 0.0 即可。

```
var video = document.getElementById("your-video-id");
video.volume = 0.0; 
```

**注意：**如果您将音量值设置为`0`，它将不起作用（在我的测试中没有）。它必须有小数点。

您可以在 MSDN 上使用 JavaScript[查看](http://msdn.microsoft.com/en-us/library/hh924823%28v=vs.85%29.aspx)更多属性（但它没有说明 IE9 支持什么或不支持什么）。

## 选项 3：禁用音轨

选项 1 和 2 应该足够了，所以我没有测试这条路，但是如果你需要这样做，试试这个：

```
/*Note: Only for ilustration purposes.
This code example was not tested, optimized or anything at all.*/

var video = document.getElementById("your-video-id");
var oAudioTracks = video.audioTracks; //returns a list of AudioTrack objects.

for (var i = 0; i < oAudioTracks.length; i++) {  // Step through audio track list
    var audioTrack = oAudioTracks[i]; //  Get tracks
    audioTrack.enabled = false; // disable the track
} 
```

参考：[MSDN 上的 AudioTrack 对象，MSDN](http://msdn.microsoft.com/en-us/library/hh772479%28v=vs.85%29.aspx)上的[Enabled 属性](http://msdn.microsoft.com/en-us/library/hh772492%28v=vs.85%29.aspx)

* * *

所以，这些是我到目前为止找到的选项。我希望这会有所帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-19T18:59:51.520

您的代码在您的帖子中不可见。您是否尝试过使用 JavaScript 将播放器的音量设置为 0？

```
var videoElement = document.createElement('video');

videoElement.volume = 0; 
```

# google-apps-script - 保存 Google Apps 脚本需要很长时间

> ID：11095360
> 
> 赞同：-1
> 
> 时间：2012-06-19T06:13:35.767
> 
> 标签：google-apps-script

从 2012 年 6 月 17 日左右开始，在谷歌应用程序电子表格中保存脚本变得非常缓慢 - 过去需要 5 秒或更短的时间，现在保存我的脚本大约需要 2 分钟。

那是怎么回事？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:42:04.190

我认为您应该将其发布在[问题跟踪器](http://code.google.com/p/google-apps-script-issues/issues/list)上，因为它不是 GA 脚本问题。（顺便说一句，我没有注意到“保存”有任何问题）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-31T15:56:53.883

请参阅问题跟踪器中的[缺陷 1723](http://code.google.com/p/google-apps-script-issues/issues/detail?id=1723)。我的代码也有同样的问题，需要 500 万来保存大约 16 个脚本，平均为 16,000 行代码。

似乎编辑器或我们保存代码时的任何处理程序都不喜欢长而不间断的代码行。我在编辑器的一行中有表示范围数组的长行，其中一行中有超过 4,600 个字符。我将线条切成更小的块，确保我没有任何长的代码行或间距。

我的代码立即在 30 秒内保存，而不是 500 万。

所以我坚信这是谷歌在编辑器或代码处理保存时遇到的错误。

# c# - 如何使用 DDD / CQRS 编写功能

> ID：11095361
> 
> 赞同：6
> 
> 时间：2012-06-19T06:13:35.967
> 
> 标签：c#, .net, design-patterns, domain-driven-design, cqrs

我有一个如下所列的银行账户域。可以有 SavingsAccount、LoanAccount、FixedAccount 等。一个用户可以有多个帐户。我需要添加一个新功能——获取用户的所有帐户。函数应该写在哪里以及如何写？

如果解决方案遵循 SOLID 原则（开闭原则，...）和 DDD，那就太好了。

欢迎任何可以使代码更好的重构。

注意：AccountManipulator 将由网站客户端通过 Web 服务使用。

```
namespace BankAccountBL
{
public class AccountManipulator
{
    //Whether it should beprivate or public?
    private IAccount acc;

    public AccountManipulator(int accountNumber)
    {
        acc = AccountFactory.GetAccount(accountNumber);
    }

    public void FreezeAccount()
    {
        acc.Freeze();
    }

}

public interface IAccount
{
    void Freeze();
}

public class AccountFactory
{
    public static IAccount GetAccount(int accountNumber)
    {
        return new SavingsAccount(accountNumber);
    }
}

public class SavingsAccount : IAccount
{
    public SavingsAccount(int accountNumber)
    {

    }

    public void Freeze()
    {

    }
}
} 
```

阅读：

1.  [何时使用 CQRS 设计模式？](https://stackoverflow.com/questions/8820748/when-to-use-the-cqrs-design-pattern)

2.  [在域驱动设计中，将调用其他对象的存储库放在域对象中会违反 DDD 吗？](https://stackoverflow.com/questions/596285/in-domain-driven-design-would-it-be-a-violation-of-ddd-to-put-calls-to-other-ob?lq=1)

3.  [重构访问遗留系统中的存储库的域逻辑](https://stackoverflow.com/questions/1264944/refactoring-domain-logic-that-accesses-repositories-in-a-legacy-system?lq=1)

4.  [以下哪些示例代表了 DDD 的正确使用？](https://stackoverflow.com/questions/4146410/which-of-these-examples-represent-correct-use-of-ddd?lq=1)

5.  [良好的领域驱动设计示例](https://stackoverflow.com/questions/540130/good-domain-driven-design-samples)

6.  [为每个对象创建通用存储库与特定存储库的优势？](https://stackoverflow.com/questions/1230571/advantage-of-creating-a-generic-repository-vs-specific-repository-for-each-obje?lq=1)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-19T06:35:09.780

如果您`AccountManipulator`是域的外观，我不会将帐号放入构造函数中。我会这样重构它：

```
public class AccountManipulator
{
    private  AccountFactory _factory;
    private UserRepository _users;

    public AccountManipulator(AccountFactory factory, UserRepository users)
    {
       _factory = factory;
       _users = users;
    }

    public void FreezeAccount(int accountNumber)
    {
       var acc = _factory.GetAccount(accountNumber);
       acc.Freeze();
    }

    public IEnumerable<IAccount> GetAccountsOf(User user) {
       return _users.GetAccountIds(user).Select(_factory.GetAccount);
    }
}

public interface UserRepository {
    IEnumerable<int> GetAccountIds(User user);
} 
```

为了说明您的域是否为 SOLID，您应该按照以下原则对其进行分析：

*   单一职责：每个对象都有自己的职责（并且只有那个职责）：
    *   AccountFactory：创建 IAccounts
    *   SavingsAccount：读取/写入（数据库？Web 服务？）的 IAccount 的实现
    *   AccountManipulator：提供一组最小且简单的操作来处理域对象。
*   打开/关闭：您的课程是否对扩展开放而对更改关闭？
    *   AccountFactory：嗯，没有。如果您编写 IAccount 的新实现，为了使用它，您必须**更改**AccountFactory。解决方案：抽象工厂
    *   储蓄账户？这取决于它是否会使用外部依赖项。需要更多代码才能说。
    *   AccountManipulator：是的。如果您需要对域对象进行其他操作，您可以直接使用其他服务而无需更改 AccountManipulator。或者你可以继承它
*   Liskov 替换：你能用另一个实现替换任何类吗？需要更多代码才能说。您现在没有其他 IAccount 或 IAccountFactory 实现
*   依赖倒置：
    *   AccountManipulator 应该依赖于抽象：AccountFactory 和 UserRepository 应该是接口。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-19T09:00:32.280

首先，要真正回答您的问题，重要的是要知道**为什么**需要获取所有用户帐户？你是：

1.  获取要在屏幕上显示的帐户列表，以便用户然后对单个帐户执行命令/交易？
2.  对所有用户帐户执行单个命令/事务 - 例如“冻结所有用户帐户”？

我问的原因是因为如果是后者，您只需要考虑 DDD 方面。如果这种“功能”的原因是前者（在阅读了您的问题后，我怀疑它是） - 我**真的**建议只创建一个薄查询服务层来获取屏幕所需的用户帐户数据。您不需要为此添加 DDD 的“限制”；不涉及交易或模型状态更改。提供此功能根本不需要涉及**域模型**。只需定义一些简单的 POCO DTO 并使用 Entity Framework 获取数据并将其传递回 UI。

这就是[CQRS](http://martinfowler.com/bliki/CQRS.html)的意义所在；您不需要存储库、工厂或聚合来为 UI 提供一个可供用户选择的帐户列表 - 您会过度复杂化并为自己做**更多**的工作。

如果存在*需要*对**所有用户帐户进行单次交易**的情况，那么我会执行以下操作：

```
public class AccountService : IAccountService
{
    private IAccountRepository _accountRespository;

    public void FreezeAllAccountsForUser(Guid userId)
    {
        IEnumerable<IAccount> accounts = _accountRespository.GetAccountsByUserId(userId);

        using (IUnitOfWork unitOfWork = UnitOfWorkFactory.Create())
        {
            foreach (IAccount account in _accounts)
            {
                account.Freeze();
                _accountRespository.Save(account);
            }
        }
    }
} 
```

其中 AccountService 是一个网络服务，即应用层。

总之，我的建议是：只在需要**事务的****命令**上下文中考虑 DDD 。用于获取数据列表；创建一个UI 可以使用的**简单**查询服务。

 ****PS我注意到您的问题和一些答案中滥用了工厂模式。工厂的设计目的是在给定特定数据的情况下提供对象的 CREATION 策略。不应该有调用数据库的“GetAccount(accountId)”方法；存储库调用数据库，然后将数据传递给工厂以创建对象。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-19T06:30:58.647

首先，为什么需要 AccountManipulator？它完全没有任何作用，但会使代码更加复杂。

至于获取用户的所有帐户，放置此方法最合乎逻辑的位置是在用户类中。您可以将帐户工厂传递给该方法，进一步的实现可能取决于您存储帐户的方式。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T08:09:47.707

我将重命名“AccountFactory”`AccountRepository`并在其中添加一个额外的方法，`GetAccountsForUser( int userId )`该方法检索特定用户的所有帐户。

如果`AccountManipulator`是一个网络服务，那么这个类将使用`AccountRepository`，像这样：

```
public class AccountManipulator
{

   public void FreezeAccount( int accountNr )
   {
        var repository = new AccountRepository();
        var account = repository.GetAccount(accountNr);
        account.Freeze();
        repository.Save(account);        
   }

   public ICollection<Account> GetAccountsForUser( int userId )
   {
        var repository = new AccountRepository();
        return repository.GetAccountsForUser (userId);
   }

} 
```****

# android - 如何在 android/eclipse 上的 tabhost 中显示 web 服务的结果值

> ID：11095362
> 
> 赞同：0
> 
> 时间：2012-06-19T06:13:36.983
> 
> 标签：android, eclipse, web-services, android-tabhost

我想使用 web 服务并在 android 的 tabhost 中显示该答案。如何做到这一点？

任何人都可以帮助我。我已经做了一些资料。

感谢你！..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:33:30.967

您可以使用 JSON 对象从 Web 服务中检索值，然后可以在选项卡中使用它们。

# python - 在 python django 中使用 IN 子句和游标执行

> ID：11095367
> 
> 赞同：1
> 
> 时间：2012-06-19T06:13:42.563
> 
> 标签：python, django, in-clause

我有一个名为“ `critical_severity_list`”的列表，如下所示：`[30, 40]`

我想执行一个带有 IN 子句的选择，如下所示：

```
cursor = connection.cursor()

que = 'select * from tm_txn_age_severity_config where txn_state_id = %s and txn_type_id = %s and txn_age_severity_id in ( %s)'

in_ids = ', '.join(map(lambda x: '%s', critical_severity_list))

que = que % ('%s', in_ids)

bind_var_list = [] 

bind_var_list.append(rec[1])

bind_var_list.append(rec[2])

bind_var_list.extend(critical_severity_list)

cursor.execute(que, bind_var_list)

result = cursor.fetchall() 
```

我收到此错误：格式字符串的参数不足

有人可以帮我解决....？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:28:27.820

我希望这是你想要的：

```
critical_severity_list=[30,40]
temp=['%s']+critical_severity_list
que = 'select * from tm_txn_age_severity_config where txn_state_id = %s and txn_type_id = %s and txn_age_severity_id in ( %s)'
que = que % tuple(i for i in temp)
print(que) 
```

**输出：**

```
select * from tm_txn_age_severity_config where txn_state_id = %s and txn_type_id = 30 and txn_age_severity_id in ( 40) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:26:55.383

错误发生在这里：

```
que = 'select * from tm_txn_age_severity_config where txn_state_id = %s and txn_type_id = %s and txn_age_severity_id in ( %s)'
in_ids = ', '.join(map(lambda x: '%s', critical_severity_list))
que = que % ('%s', in_ids) 
```

您正在`que`使用多个参数进行格式化，但您没有提供足够的参数。其中`que`出现了 3 次，`%s`但是当您使用`%`运算符格式化字符串时，您只提供了两个参数。

例如：

```
>>> "%s %s" % "a"
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: not enough arguments for format string 
```

（提供了一个参数，预计两个）

# algorithm - 递归代码的空间复杂度

> ID：11095374
> 
> 赞同：1
> 
> 时间：2012-06-19T06:14:18.087
> 
> 标签：algorithm, recursion, analysis

考虑以下 Java 方法：

```
 public static void f(int n) {
    if (n<=1) { 
       System.out.print(n) ; 
       return; 
   }else {
       f(n/2) ;
       System.out.print(n);
       f(n/2);
    }
 } // end of method 
```

问题 3\. 让 S(n) 表示 f(n) 的空间复杂度。以下哪项陈述是正确的？

*   答：S(n) = (2n)
*   B: S(n) = (n)
*   C: S(n) = (log n) <- 正确答案，有人知道为什么吗？
*   D：以上都不是

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-19T06:19:34.063

每当函数以递归方式调用自身时，所有局部变量都保留在堆栈上，并将一组新的变量压入堆栈以进行新调用。这意味着您关心最多有多少调用，换句话说，递归的最大深度是多少。

很明显它是 log n，因为连续的参数是 n, n/2, n/4, ..., 1。有一个恒定数量的局部变量，即 1（堆栈上需要空间）因此整体空间复杂度为 O(log n)。

# dll - OpenCV：链接错误，无法解析外部符号 _cvResize 和 _cvCvtColor

> ID：11095375
> 
> 赞同：0
> 
> 时间：2012-06-19T06:14:19.007
> 
> 标签：dll, opencv, linker, unresolved-external

链接错误的原因很清楚，我的链接过程中缺少一些库。不幸的是，OpenCV 2.4.1 似乎改变了它的内部结构，所以我使用 Google/Stackoverflow 搜索功能找到的解决方案只建议我链接不再存在的库（cv.lib 或 cxcore.lib）。

我可以通过使用 opencv_core241.lib 和 opencv_highgui241.lib 来解决我的一些链接问题，但是 _cvResize 和 _cvCvtColor 位于哪里？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T06:54:07.380

正如吉他流所述，与 opencv_imgproc241.lib 链接是必要的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-22T18:30:11.257

通过添加以下库解决了 Mmy 问题：
1- libopencv_highgui.2.4.7.dylib
2- libopencv_core.2.4.7.dylib
3- libopencv_imgproc.2.4.7.dylib

问候。

# php - 编辑 PHP 表单

> ID：11095376
> 
> 赞同：-4
> 
> 时间：2012-06-19T06:14:28.460
> 
> 标签：php, mysql

> **可能重复：**
> [警告：mysql_fetch_array() 期望参数 1 是资源，布尔值在](https://stackoverflow.com/questions/5473981/warning-mysql-fetch-array-expects-parameter-1-to-be-resource-boolean-given-i)

显示错误：

> `Warning: mysql_fetch_array() expects parameter 1 to be resource, boolean given in C:\wamp\www\task2\ajax\editfrom.php on line 6`

代码是，

```
<?php
    $sql = ('select * from task_table where id='.$_POST['id']);

        $row = mysql_fetch_array(mysql_query($sql));
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:17:07.480

您不需要`()`for 字符串`$sql`。

如果`id`是数字类型，那么你应该这样做：

```
$sql = 'select * from task_table where id='.(int)$_POST['id']; 
```

或者如果`id`是字符串类型，那么你应该这样做：

```
$sql = "select * from task_table where id='" . mysql_real_escape_string($_POST['id']) . "'"; 
```

最后，您需要进行错误检查。

```
$ret = mysql_query($sql);
if (!$ret) {
  die mysql_error();
}
$row = mysql_fetch_array($ret); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:31:29.487

尝试执行此代码，您将看到所有错误：

```
<?php
    mysql_connect('localhost', 'mysql_user', 'mysql_password') or die ("Couldn't connect to database.");
    mysql_select_db('my_database');
    $query = sprintf("SELECT * FROM `task_table` WHERE id='%s'",
    mysql_real_escape_string($_POST['id']));
    $result = mysql_query($query);
    var_dump($result);
    while ($row = mysql_fetch_array($result, MYSQL_NUM)) {
        sprintf("c1: %s  c2: %s", $row[0], $row[1]);
    }
?> 
```

请注意，在您的示例中，您没有过滤 POST 数据，这是一个漏洞。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T06:19:10.677

你必须打开mysql连接[http://de.php.net/mysql_connect](http://de.php.net/mysql_connect)

```
mysql_connect('localhost', 'mysql_user', 'mysql_password'); 
```

# php - mssql php 无法选择字段类型 nvarchar(MAX)

> ID：11095379
> 
> 赞同：0
> 
> 时间：2012-06-19T06:14:44.950
> 
> 标签：php, sql-server, sql-server-2012

我使用此代码从 sql server 2012 db 中选择密码字段，并且不返回任何数据我尝试更改字段类型并且它确实有效我无法更改主服务器中的字段类型，我需要工作照原样

知道如何解决它吗？

```
<?php
$objConnect = mssql_connect("localhost:1434\MSSQLSERVER","fdi","fdifdi");

if($objConnect)  
{  
echo "Database Connected.<br />";  
mssql_select_db('Intranett', $objConnect);
$query = mssql_query('SELECT  [pass] FROM [Intranett].[dbo].[v24Brukere]');

// Check if there were any records
if (!mssql_num_rows($query)) {
    echo 'No records found';
} else {
    // Print a nice list of users in the format of:
    // * name (username)

    echo '<ul>';

    while ($row = mssql_fetch_object($query)) {
        echo '<li>' . $row->pass .' </li>';
    }

    echo '</ul>';
}

}  
else  
{  
echo "Database Connect Failed.<br />";  
echo mssql_get_last_message();
}  

mssql_close($objConnect);  
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:44:33.163

据我所知，`NVARCHAR`旧的和过时的 mssql 驱动程序不支持。您应该改用[Microsoft 的 SQL Server Driver for PHP](http://www.microsoft.com/en-us/download/details.aspx?id=20098)。

# google-maps - 我怎么知道 google api 可用？

> ID：11095380
> 
> 赞同：0
> 
> 时间：2012-06-19T06:14:47.700
> 
> 标签：google-maps, recaptcha

我有一个使用 Google Map API v2 和 google ReCAPTCHA 的网站。我怎么知道那些 api 在线。我的意思是说 google api 网站没有关闭。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:40:29.077

就谷歌地图而言，这是 2006 年的情况：

[http://groups.google.com/group/google-maps-api/browse_thread/thread/5d36a96bf74af924](http://groups.google.com/group/google-maps-api/browse_thread/thread/5d36a96bf74af924)

设置将被 API 覆盖的测试对象（如果可用）。

```
<script type='text/javascript'>
var google;
function isFunction(a) { return typeof a == "Function" }
function isObject(a) { return (a && typeof a == "Object") || isFunction(a) }
</script>
<script src="http://maps.google.com/maps?file..."></script> 
```

然后将您的地图脚本包装在测试中：

```
<script>
if (isObject(google)) { ... }
</script> 
```

所有 Google API 都使用`google`命名空间，因此这应该适用于所有方面。但是你可以`google`用一个典型的基础对象来测试一个特定的API（例如`GMap2`），如原始论坛帖子所示。

请注意，还有其他陷阱，例如 tileservers 关闭，或者用户自己阻止来自 Google 的图像，这无济于事。原来的讨论值得一读。

# iphone - UITableViewCell 显示双嵌入 UITextfields

> ID：11095382
> 
> 赞同：0
> 
> 时间：2012-06-19T06:15:06.607
> 
> 标签：iphone, uitableview

我有一个带有常规 UITableViewCell 的 UITableView，但我不使用任何 UITableViewCell 的标签。我只是使用单元格嵌入标签和 UITextField 来输入一些数据。问题是当您向上或向下滚动并且 UITableviewCell 重新绘制自身时，它会在旧的 UITextFieldView 上绘制重叠的 UITextFieldView 并且您会看到双打！我在想，也许因为我确实将这些 UITextFields 放入字典中，它可能会使用强指针保存文本字段，并尝试制作另一个并重叠。有人有什么建议吗？

这是我的代码：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
static NSString *CellIdentifier = @"ProductCell";
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

NSDictionary *product = [self.products objectAtIndex:indexPath.row];
NSDictionary *orderpoint = [self.orderpoints objectAtIndex:indexPath.row];

cell.textLabel.text = @""; //black out text

CGFloat calculatedHeight = [self tableView:tableView heightForRowAtIndexPath:indexPath];
UILabel *productLabel = [[UILabel alloc] initWithFrame:CGRectMake(0.0, 0.0, cell.bounds.size.width - 50.0, calculatedHeight)];

productLabel.text = [[NSString alloc] initWithFormat:@"%@. %@",
                       [orderpoint objectForKey:@"sequence_nr"], [product objectForKey:@"name"]];
//word wrapping
productLabel.lineBreakMode = UILineBreakModeWordWrap;
productLabel.numberOfLines = 0; //infinite number of lines
productLabel.font = [UIFont fontWithName:@"Helvetica" size:14.0];

[cell.contentView addSubview:productLabel];

 //create the cell's textfield
UITextField *cellTextField = [[UITextField alloc] initWithFrame:CGRectMake(cell.bounds.size.width - 50, cell.bounds.size.height - 30, 50, calculatedHeight - 20)];
cellTextField.adjustsFontSizeToFitWidth = YES;
cellTextField.textColor = [UIColor blackColor];
cellTextField.keyboardType = UIKeyboardTypeNumberPad; // will only need to end a count
cellTextField.returnKeyType = UIReturnKeyDone; // TODO make it go to the next items key, or make it exit out
cellTextField.backgroundColor = [UIColor whiteColor];
cellTextField.textAlignment = UITextAlignmentLeft; //align to the right
//cellTextField.delegate = self; //will need to set delegate, maybe
cellTextField.clearButtonMode = UITextFieldViewModeNever;
cellTextField.enabled = YES;
cellTextField.borderStyle = UITextBorderStyleRoundedRect; //add bezel rounded look to textfield
cellTextField.delegate = self;

[cell.contentView addSubview: cellTextField]; //add the textfield to the cell
// save to dictionary, using a dictionary because not certain if this is created in order to use an Array
[self.textFieldDict setObject:cellTextField forKey:[[NSNumber alloc] initWithInteger:indexPath.row]];

return cell;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:23:19.990

你还没有初始化你的细胞。试试这个：

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
    {
    static NSString *CellIdentifier = @"ProductCell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

//It will check whether cell in there or not, then deque the cell...
    if (cell == nil) {
            cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];
        }

    NSDictionary *product = [self.products objectAtIndex:indexPath.row];
    NSDictionary *orderpoint = [self.orderpoints objectAtIndex:indexPath.row];

    cell.textLabel.text = @""; //black out text

    CGFloat calculatedHeight = [self tableView:tableView heightForRowAtIndexPath:indexPath];
    UILabel *productLabel = [[UILabel alloc] initWithFrame:CGRectMake(0.0, 0.0, cell.bounds.size.width - 50.0, calculatedHeight)];

    productLabel.text = [[NSString alloc] initWithFormat:@"%@. %@",
                           [orderpoint objectForKey:@"sequence_nr"], [product objectForKey:@"name"]];
    //word wrapping
    productLabel.lineBreakMode = UILineBreakModeWordWrap;
    productLabel.numberOfLines = 0; //infinite number of lines
    productLabel.font = [UIFont fontWithName:@"Helvetica" size:14.0];

    [cell.contentView addSubview:productLabel];

     //create the cell's textfield
    UITextField *cellTextField = [[UITextField alloc] initWithFrame:CGRectMake(cell.bounds.size.width - 50, cell.bounds.size.height - 30, 50, calculatedHeight - 20)];
    cellTextField.adjustsFontSizeToFitWidth = YES;
    cellTextField.textColor = [UIColor blackColor];
    cellTextField.keyboardType = UIKeyboardTypeNumberPad; // will only need to end a count
    cellTextField.returnKeyType = UIReturnKeyDone; // TODO make it go to the next items key, or make it exit out
    cellTextField.backgroundColor = [UIColor whiteColor];
    cellTextField.textAlignment = UITextAlignmentLeft; //align to the right
    //cellTextField.delegate = self; //will need to set delegate, maybe
    cellTextField.clearButtonMode = UITextFieldViewModeNever;
    cellTextField.enabled = YES;
    cellTextField.borderStyle = UITextBorderStyleRoundedRect; //add bezel rounded look to textfield
    cellTextField.delegate = self;

    [cell.contentView addSubview: cellTextField]; //add the textfield to the cell

    return cell;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:25:21.720

您忘记了这样的条件：

```
if (cell == nil) {
        cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefaultreuseIdentifier:CellIdentifier];
         } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T06:39:50.557

以此作为参考：[将子视图添加到 UITableViewCell](https://stackoverflow.com/questions/7173432/add-subviews-to-uitableviewcell)

我只是先检查一下这个视图是否是之前添加的，如果是，则不要再次添加它。它与单元格为零无关。除非我错过了什么？我所知道的是，现在这似乎工作正常。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
static NSString *CellIdentifier = @"ProductCell";
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

NSDictionary *product = [self.products objectAtIndex:indexPath.row];
NSDictionary *orderpoint = [self.orderpoints objectAtIndex:indexPath.row];

cell.textLabel.text = @""; //black out text

CGFloat calculatedHeight = [self tableView:tableView heightForRowAtIndexPath:indexPath];
UILabel *productLabel = [[UILabel alloc] initWithFrame:CGRectMake(0.0, 0.0, cell.bounds.size.width - 50.0, calculatedHeight)];

productLabel.text = [[NSString alloc] initWithFormat:@"%@. %@",
                       [orderpoint objectForKey:@"sequence_nr"], [product objectForKey:@"name"]];
//word wrapping
productLabel.lineBreakMode = UILineBreakModeWordWrap;
productLabel.numberOfLines = 0; //infinite number of lines
productLabel.font = [UIFont fontWithName:@"Helvetica" size:14.0];

[cell.contentView addSubview:productLabel];

if (![cell viewWithTag:1])
{
    //create the cell's textfield
    UITextField *cellTextField = [[UITextField alloc] initWithFrame:CGRectMake(cell.bounds.size.width - 50, cell.bounds.size.height - 30, 50, calculatedHeight - 20)];
    cellTextField.adjustsFontSizeToFitWidth = YES;
    cellTextField.textColor = [UIColor blackColor];
    cellTextField.keyboardType = UIKeyboardTypeNumberPad; // will only need to end a count
    cellTextField.returnKeyType = UIReturnKeyDone; // TODO make it go to the next items key, or make it exit out
    cellTextField.backgroundColor = [UIColor whiteColor];
    cellTextField.textAlignment = UITextAlignmentLeft; //align to the right
    cellTextField.delegate = self; //will need to set delegate, maybe
    cellTextField.clearButtonMode = UITextFieldViewModeNever;
    cellTextField.enabled = YES;
    cellTextField.borderStyle = UITextBorderStyleRoundedRect; //add bezel rounded look to textfield
    cellTextField.delegate = self;

    cellTextField.tag = 1; //set tag to 1

    [cell.contentView addSubview: cellTextField]; //add the textfield to the cell
    // save to dictionary, using a dictionary because not certain if this is created in order to use an Array
    [self.textFieldDict setObject:cellTextField forKey:[[NSNumber alloc] initWithInteger:indexPath.row]];
}

return cell; 
```

}

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T06:24:50.673

要么不使用可重用性并始终每次都分配单元格，要么

出队后进行检查（像这样）

```
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

if(cell==nil)
{
  // make text field and label an add tag
}

//and outside this by using tag fetch the labels and textField and clear the textFields. 
```

# javascript - 一些脚本错误，无法找到解决方案

> ID：11095384
> 
> 赞同：0
> 
> 时间：2012-06-19T06:15:25.063
> 
> 标签：javascript, jquery, asp.net-ajax

我将数据绑定到下拉列表，但是当我单击按钮时，我想要所选项目的值，但我无法获取。而且它也会刷新。

```
<script type="text/javascript">
    $(document).ready(function () {
     $.ajax({
      type: "POST",
      async: false,
      contentType: "application/json; charset=utf-8",
      data: "{}",
      url: "Drpodownlistbindingjquery.aspx/getdata",
      dataType: "json",
      success: ajaxSucceess,
      error: ajaxError
     });
     function ajaxSucceess(response){

      $.each(response.d, function (key, value) {
       $("#ddlCategory").append($("<option></option>").val(value.Sname).html(value.Sno));
      });

     }
     function ajaxError(response){
      alert(response.status + ' ' + response.statusText);

     }       

    });
    </script> 
```

而且，我的第二个问题是

```
<script type="text/javascript">

$(document).ready(function() {
   $("#btnsubmit").click(function(){     

       $.ajax({  

           type: "get",

           url: "loginform.aspx/getdataval",
           data:'{"uname":"'+$("#TextBox1").val()+'","passwod":"'+$("#TextBox2").val()+'"}',
           contentType: "application/json;charset=utf-8",   
           dataType: "json",         
           sucess:function(data){
           var Emp=data.d;
           alert('welcome');
           $("#output").append('<p>'+Emp.Sname+ ' ' + Emp.Sno+'</p>');
            //here i want to give redirect link
            },
            error: function(e) {
                 alert(e);
             }

   });
   });
   });
   </script> 
```

我比较用户名和密码，但它给出错误。这里有什么问题吗？
**Drpodownlistbindingjquery.aspx 肯定不是拼写错误**。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:19:34.997

第二个问题很简单：

```
sucess:function(data){
    var Emp=data.d; 
```

`sucess`应该是`success`。

正如[@nbrooks](https://stackoverflow.com/questions/11095384/some-script-error-not-able-to-find-solution/11095422#comment14529540_11095384)指出的那样：

```
url: "Drpodownlistbindingjquery.aspx/getdata" 
```

`Drpodown` *应该*是`Dropdown`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:23:29.067

试试这个：

```
data:{"uname":$("#TextBox1").val(),"password":$("#TextBox2").val()}, 
```

# c# - Asp.Net：更改网格视图中列的值

> ID：11095387
> 
> 赞同：0
> 
> 时间：2012-06-19T06:15:45.140
> 
> 标签：c#, asp.net, sql

我在 asp.net 中有一个从表填充的网格（实际上是一个连接），

有一个`column`名为**EMPLOYEENAME**（显示员工姓名）和另一列名为**EMPLOYEEID**（显示员工 ID），

这两列是相关的，即员工“汤姆”总是有员工 ID 说“21”

目前我正在使用下拉列表编辑**员工姓名列，**

我需要一个代码来自动更改适合编辑的员工姓名的员工 ID

即，如果我选择员工姓名为“TOM”，则相应的员工会自动更改为“21”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:15:32.337

As you are changing employee name using drop down list. So you can do this by setting autopostback=true for that drop down list and make event onSelectedIndexChanged.

On code page write code to fetch the employee id of the selected index of drop down and update it in your grid

On aspx page:

```
 AutoPastBack="true" OnSelectedIndexChanged="grid_selectedIndexchanged" 
```

On code behind page:

```
protected void grid_selectedIndexchanged(object sender, EventArgs e) 
```

{ /*Code to fetch data from Database for selected Employee */

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:19:39.593

您可以将 EMPLOYEEID 设置为 ListItem 的值。这样，当您选择一个项目时，您将拥有所选项目的员工姓名和员工 ID。

可以通过这样的数据绑定来实现：

```
ddlEmpNames.DataSource = employees;
ddlEmpNames.DataTextField = "EMPLOYEENAME";
ddlEmpNames.DataValueField = "EMPLOYEEID";
ddlEmpNames.DataBind(); 
```

这可能会为您节省另一个数据库调用，以便从名称中查找员工 ID。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T07:10:24.697

查看 MSDN@ [Gridview 示例代码](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.selectedindexchanged%28v=vs.110%29.aspx?ppud=4)中的此链接。

查看/研究 C# 中的 Gridview SelectedIndexChanged 事件以及 XML/html 文件中的 GridView 属性。

# exception - 如何在 Windows 7 Home Premium 中设置 ISAPI/CGI 选项？

> ID：11095397
> 
> 赞同：1
> 
> 时间：2012-06-19T06:17:33.770
> 
> 标签：exception, iis, iis-7, cgi, isapi

本文介绍如何更正将 ASP.NET 应用程序切换到 .NET 4.0 时经常出现的异常。但是，在使用 Windows 7 Home Premium 时，我在 IIS 中没有此选项。这是否意味着该选项根本不存在，或者它只是不可见？如果它在 GUI 中不存在，这是在 Windows 注册表中的某个地方设置的吗？我希望能够在不升级 Windows 的情况下更正此异常。这甚至可能吗？

问题：

[在 iis 7.0 上运行 .net framework 4.0 网站时出现问题](https://stackoverflow.com/questions/7578134/problem-in-running-net-framework-4-0-website-on-iis-7-0)

修复（参见 Windows 7）：

[http://www.iis.net/ConfigReference/system.webServer/security/isapiCgiRestriction](http://www.iis.net/ConfigReference/system.webServer/security/isapiCgiRestriction)

...查看此屏幕截图（在修复页面中）

[http://i1.iis.net/resources/images/configreference/isapiCgiRestriction_howto_63.png?cdn_id=20120424-001](http://i1.iis.net/resources/images/configreference/isapiCgiRestriction_howto_63.png?cdn_id=20120424-001)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-01T02:25:46.407

必须单击树层次结构中的服务器名称，而不是站点名称。然后出现了这个选项。

# php - 加密为短字符串

> ID：11095405
> 
> 赞同：0
> 
> 时间：2012-06-19T06:18:23.813
> 
> 标签：php, encryption

什么加密方案返回一个短字符串？我想要一个少于 32 个字符的小结果。我还希望能够将其**解密**回原始明文。目的是电子邮件验证，代码通过电子邮件发送。收到代码后，用户登录网站并输入代码（或单击链接）。

编辑：解密很重要，因为在验证后我需要关联两个不相关的记录

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:20:31.567

类似的验证系统使用随机生成的字符串（在创建帐户时存储在数据库中），而不是加密数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:21:02.130

需要解密回来吗！您可以生成不重复的随机字符串并将该代码分配给该用户。然后搜索代码并从数据库中获取用户。您可以添加附加功能来存储它的创建时间并在 24 小时内过期

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T06:21:55.433

如果您不需要安全性，单向哈希函数就足够了。CRC32 是一个不错的选择。您可以发送一条消息，然后等待用户输入相同的响应。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T11:03:37.373

您在谈论加密，但显然需要散列函数。然后，您可以将哈希与数据库中您想要的任何数据模型（在这种情况下您想要“加密”的任何数据模型）相关联。散列就像键值存储的键一样使用，可以是完全随机的。加密字符串的最终大小始终与原始字符串的大小直接相关。否则，您可能会混淆哈希和加密。

所以一个简单的用例：

*   用户注册到网站。
*   注册控制器在“pending_users”表中创建一条新记录，该表只有 2 列：user_id 和 random_key。
*   并且电子邮件被发送给用户，其中包含 random_key 的值，该值作为指向 verify.php?key=$random_key 的链接公开

当用户执行verification.php 控制器时，控制器会检查pending_users 表中是否存在$random_key。如果找到，它会删除记录并更改用户表中的标志（例如，active_account = true）。如果未找到，则将错误发送回用户。

希望这会有所帮助，干杯

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-19T11:03:44.333

你所要求的是不可能的。这是编写 pkzip 和 rar 等程序的公司愿意为之而牺牲的圣杯。想象一下，任何文件（少量数据）都可以压缩成 32 个字节。;)

不管怎样，你想做的事情以前已经做过了。通过在数据库中存储带有电子邮件的 uuid。quid 将邮寄给用户，他们可以在您的表单中输入。那么就只是简单的查询数据库找到对应的记录。

# python - 字符串中的Python最短唯一ID

> ID：11095408
> 
> 赞同：8
> 
> 时间：2012-06-19T06:18:30.453
> 
> 标签：python, md5, hashlib

我有超过 1 亿个唯一字符串（MySQL 数据库中的 VARCHAR(100) UNIQUE）。现在我使用下面的代码从它们创建唯一的哈希（VARCHAR（32）UNIQUE），以减少 InnoDB 表的索引大小（varchar（100）上的唯一索引大约是 varchar（32）字段的 3 倍）。

```
id = hashlib.md5(str).hexdigest() 
```

有没有其他方法可以从这些字符串创建更短的 id 并做出合理的唯一性保证？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-19T07:03:25.257

您可以将其保存为整数：

```
id_ = int(hashlib.md5(your_str).hexdigest(), 16) 
```

或作为二进制字符串：

```
id_ = hashlib.md5(your_str).digest() 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-19T06:23:52.553

一种粗略的方法是，您可以执行 md5，然后从中选择前 16 个字符，而不是全部 32 个字符。碰撞仍然不会那么高，并且您将获得合理的唯一性保证。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-19T06:32:15.680

最简单的解决方案是将十六进制数据（您的摘要以 16 为基数）转换为其他内容，例如。以 64 为基数。

如果您同意某种程度的较高风险，您可以只使用摘要的前十位数字（十六进制）。它会给你`16**10`（超过`10**12`）可能性而不是`16**32`（超过`10**38`），但它仍然是巨大的并且是常用的技术（Git 和 Github 通常使用 7 位数字来识别提交，公平的）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T06:33:13.807

由于散列和压缩非常相似，一个明显的解决方案是使用压缩算法来压缩您的密钥。这也将保留密钥的唯一性。

# ruby-on-rails - 在 Dreamhost 共享主机上安装 Redmine 2.0.2 版

> ID：11095412
> 
> 赞同：1
> 
> 时间：2012-06-19T06:18:57.253
> 
> 标签：ruby-on-rails, ruby, redmine, dreamhost

我尝试尽可能多地遵循[Dreamhost 文档](http://wiki.dreamhost.com/Redmine)（用于 Redmine 1.x，最后一次编辑大约是一年前）和[redmine 安装文档](http://www.redmine.org/projects/redmine/wiki/RedmineInstall)。

我正在尝试安装我使用的 2.0.2 版本

```
hg clone --updaterev 2.0-stable https://bitbucket.org/redmine/redmine-all 
```

我使用[rvm](https://rvm.io/)获取 Ruby 1.9.3 的本地版本，以便安装适当的依赖项。在我必须在浏览器中加载它的最后一步之前，它似乎进展顺利。我从乘客那里收到一条错误消息，指出应用程序无法启动。上面写着：

> 应用程序在启动期间退出（即在评估 config/environment.rb 期间）。错误消息可能已写入 Web 服务器的日志文件。请检查 Web 服务器的日志文件（即不是 (Rails) 应用程序的日志文件）以找出应用程序退出的原因。如果这没有帮助，请使用下面的回溯来调试问题。

我在日志中找不到任何有用的东西（甚至找不到出错的地方——也许我找错地方了？`/home/username/logs/my.site.com/http`）

回溯看起来像是一个依赖错误，但看起来很一般。

我用来安装正确 gem 的命令是：（我使用的是 mysql）

```
$ bundle install --without development test postgresql sqlite rmagick 
```

在我的 web 目录中运行`bundle show`给了我这个：

```
~/my.site.com$ bundle show
Gems included by the bundle:
  * actionmailer (3.2.5)
  * actionpack (3.2.5)
  * activemodel (3.2.5)
  * activerecord (3.2.5)
  * activeresource (3.2.5)
  * activesupport (3.2.5)
  * arel (3.0.2)
  * builder (3.0.0)
  * bundler (1.1.4)
  * coderay (1.0.6)
  * erubis (2.7.0)
  * hike (1.2.1)
  * i18n (0.6.0)
  * journey (1.0.4)
  * json (1.7.3)
  * mail (2.4.4)
  * mime-types (1.18)
  * multi_json (1.3.6)
  * mysql2 (0.3.11)
  * net-ldap (0.3.1)
  * polyglot (0.3.3)
  * prototype-rails (3.2.1)
  * rack (1.4.1)
  * rack-cache (1.2)
  * rack-openid (1.3.1)
  * rack-ssl (1.3.2)
  * rack-test (0.6.1)
  * rails (3.2.5)
  * railties (3.2.5)
  * rake (0.9.2.2)
  * rdoc (3.12)
  * ruby-openid (2.1.8)
  * sprockets (2.1.3)
  * thor (0.15.2)
  * tilt (1.3.3)
  * treetop (1.4.10)
  * tzinfo (0.3.33) 
```

这是我的可执行版本：

```
$ ruby -v
ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-linux]
$ rails -v
Rails 3.2.5
$ bundle -v
Bundler version 1.1.4
$ gem -v
1.8.24 
```

任何帮助，将不胜感激。

编辑：这是回溯。

```
#   File    Line    Location
0   /usr/lib/ruby/gems/1.8/gems/bundler-1.0.7/lib/bundler/setup.rb  10  in `exit'
1   /usr/lib/ruby/gems/1.8/gems/bundler-1.0.7/lib/bundler/setup.rb  10  
2   /usr/lib/ruby/1.8/rubygems/custom_require.rb    36  in `gem_original_require'
3   /usr/lib/ruby/1.8/rubygems/custom_require.rb    36  in `require'
4   /home/username/site.com/config/boot.rb  6   
5   /usr/lib/ruby/1.8/rubygems/custom_require.rb    31  in `gem_original_require'
6   /usr/lib/ruby/1.8/rubygems/custom_require.rb    31  in `require'
7   /home/username/site.com/config/application.rb   1   
8   /usr/lib/ruby/1.8/rubygems/custom_require.rb    31  in `gem_original_require'
9   /usr/lib/ruby/1.8/rubygems/custom_require.rb    31  in `require'
10  /home/username/site.com/config/environment.rb   2   
11  /usr/lib/ruby/1.8/rubygems/custom_require.rb    31  in `gem_original_require'
12  /usr/lib/ruby/1.8/rubygems/custom_require.rb    31  in `require'
13  config.ru   3   
14  /usr/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/builder.rb  46  in `instance_eval'
15  /usr/lib/ruby/gems/1.8/gems/rack-1.2.1/lib/rack/builder.rb  46  in `initialize'
16  config.ru   1   in `new'
17  config.ru 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T17:07:34.330

尝试使用系统的 ruby​​ 1.8 而不是使用 rvm 和 ruby​​ 1.9。

不要在 Dreamhost 上使用乘客。Dreamhost 的乘客是旧版本（v2.2.9），只会加载旧版本的机架，并且会随机擦除环境变量，导致您的站点偶尔无法加载。

请改用 FCGI。将`fcgi`gem 添加到您的 Gemfile

```
gem "fcgi" 
```

在以下位置创建`dispatch.fcgi`文件`~/foo.yourdomain.com/public/dispatch.fcgi`：

```
#!/usr/bin/env ruby

# Set necessary environment variables
ENV['HOME'] ||= `echo ~`.strip
ENV['GEM_HOME'] = File.expand_path('~/.gems')
ENV['GEM_PATH'] = File.expand_path('~/.gems') + ":" + '/usr/lib/ruby/gems/1.8'

#require File.dirname(__FILE__) + '/../config/boot'
#require File.dirname(__FILE__) + '/../config/environment'
require '/home/user/programs/redmine-2.0.3/config/boot'
require '/home/user/programs/redmine-2.0.3/config/environment'

class Rack::PathInfoRewriter
  def initialize(app)
    @app = app
  end

  def call(env)
    env.delete('SCRIPT_NAME')
    parts = env['REQUEST_URI'].split('?')
    env['PATH_INFO'] = parts[0]
    env['QUERY_STRING'] = parts[1].to_s
    @app.call(env)
  end
end

Rack::Handler::FastCGI.run Rack::PathInfoRewriter.new(RedmineApp::Application) 
```

要重新启动您的应用程序，您必须手动终止该`dispatch.fcgi`进程，否则您的更改将不起作用

```
pkill dispatch.fcgi 
```

# java - PrimeFaces p:selectOneListbox 可用的事件

> ID：11095416
> 
> 赞同：2
> 
> 时间：2012-06-19T06:19:18.367
> 
> 标签：java, events, jsf, primefaces

在哪里可以找到适用于 PrimeFaces 3.2 的事件？我在取消选择时遇到问题。在 unselect 事件之后，该值未设置为 null。它仍然是旧值。

我尝试使用`<p:ajax event="rowUnselect" listener="#{bean.onRowUnselect}" />`bean 和内部的 unselect 处理程序没有成功，声明如下：`public void onRowUnselect(UnselectEvent event) {`。

# gcc - 如何卸载 gcc-code-assist？

> ID：11095420
> 
> 赞同：1
> 
> 时间：2012-06-19T06:19:31.673
> 
> 标签：gcc, emacs, autocomplete

[我从这里](http://cx4a.org/software/gccsense/#Downloads)下载 gcc-code-assist ，然后执行“make”和“sudo make install”。在我配置好我的 emacs 之后，我发现它并不能帮助我完成我所期望的大型项目。
我想卸载它，但是，“make uninstall”报告“此树不支持卸载目标”。如果我想卸载它，我该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T00:27:43.813

您可以从您的设置中删除`.emacs`并继续使用 gcc-sense/gcc-code-assist 作为编译器。如果出于某种原因需要卸载它，您可能必须手动删除文件。

# c# - 在装有 .NET 3.5 的机器上使用 .NET 4.0 DLL？

> ID：11095423
> 
> 赞同：1
> 
> 时间：2012-06-19T06:19:38.477
> 
> 标签：c#, .net

我正在测试一个程序（类库）。类库 (dll) 正在各种系统上进行测试：.NET Frameworks 3.0、3.5 和 4.0。是否可以在 .NET 3.0 和 3.5 上测试它而无需升级 .NET 版本？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-19T06:22:29.197

不，你不能这样做，但反过来，你可以在 .Net framework 4.0 上测试 3.5 dll。使用 .NET 4.0 编译的程序集只能由 CLR 4.0 加载

# visual-studio-2010 - 如何使用VS2010在Windows上静态编译SDL游戏

> ID：11095424
> 
> 赞同：1
> 
> 时间：2012-06-19T06:19:40.567
> 
> 标签：visual-studio-2010, compiler-errors, sdl, static-linking

[我从http://www.libsdl.org/](http://www.libsdl.org/)下载了最新的 SDL HG并使用 VS2010 编译它们。一切正常，但动态链接不方便。我将项目属性（在 SDL HG 中）更改为静态编译，但现在在项目（使用这些库）中有很多错误链接器“未解析的外部符号”。如何正确编译库？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T14:16:08.570

如果您想在 VS2010 中静态编译 SDL，您必须将配置类型从*dll*更改为*lib*，并在“Librarian”（用于*lib*配置）中设置所有依赖项，就像在“Linker”（用于*dll*配置）中一样。例如来自我的 SDL_VS2010.vcxproj

```
<Lib>
  <AdditionalDependencies>winmm.lib;imm32.lib;version.lib;%(AdditionalDependencies)</AdditionalDependencies>
</Lib>
<Lib>
  <AdditionalLibraryDirectories>$(DXSDK_DIR)\lib\x86</AdditionalLibraryDirectories>
</Lib>
<Lib>
  <IgnoreAllDefaultLibraries>true</IgnoreAllDefaultLibraries>
  <SubSystem>Windows</SubSystem>
  <TargetMachine>MachineX86</TargetMachine>
</Lib>
<ProjectReference>
  <LinkLibraryDependencies>false</LinkLibraryDependencies>
</ProjectReference> 
```

# css - 如何在存在内联和内部的情况下调用外部 CSS？

> ID：11095429
> 
> 赞同：4
> 
> 时间：2012-06-19T06:20:21.420
> 
> 标签：css, html

如果在我的网页中，我为 div 定义了所有三个 css

1.  排队
2.  内部的
3.  外部的

我知道浏览器首先寻找 1) 内联然后寻找 2) 内部和最后，它寻找外部 css。

但我只想调用外部css，怎么做？？我可以通过`!important`还是有其他方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T06:29:34.280

内部样式表和外部样式表没有区别。应用哪些样式取决于：

1.  特异性
2.  申报单

内联样式是最具体的，然后是标识规则 (#)，然后是类规则 (.)，然后是元素规则。

对于具有相同特性的两个规则，例如`div .main`和`span.title`，这两个规则都适用，但是当它们指定相同的属性时，最后声明的一个将接管。

绕过优先级的唯一方法是使用`!important`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-19T06:37:54.100

最好的办法是将所有内容放入外部 css 文件中。如果您必须具有内联样式，请确保您只有那些尚未在外部样式表中定义的样式。即不要复制/覆盖样式。例如，如果您的 css 文件中有以下内容：

```
div { padding: 5px; } 
```

然后没有以下内联样式。

```
<div style="padding-right:2px;" /> 
```

把它放到css文件中

```
div { padding: 5px 2px 5px 5px; } 
```

就像您说的那样，`!important`如果您**必须**为一个页面覆盖不适用于您网站中其他页面的样式，则可以使用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-19T06:24:14.967

> 1）内联然后 2）内部和最后，它寻找外部 css。

`<style>`不会。包含的CSS 和 包含的CSS 在优先级上没有区别`<link>`。

> 但我只想调用外部css，怎么做？？

您不能导致通过属性`<style>`包含的 CSS 或通过`style`属性包含的 CSS 被忽略。

> 我可以通过 !important 还是有其他方法？

您可以适用`!important`于每条规则，然后希望没有任何规则包含`<style>`或`style`也包含`!important`……但那样就是疯狂。

# python - 从 python 中成功的正则表达式匹配构建字典

> ID：11095430
> 
> 赞同：7
> 
> 时间：2012-06-19T06:20:23.203
> 
> 标签：python, regex, iterable, dictionary-comprehension

我对 Python 很陌生，我正在尝试解析文件。文件中只有某些行包含感兴趣的数据，我想最终得到一个从文件中有效匹配行解析的内容的字典。

下面的代码有效，但它有点难看，我正在尝试学习它应该如何完成，也许是理解，或者使用多行正则表达式。我正在使用 Python 3.2。

```
file_data = open('x:\\path\\to\\file','r').readlines()
my_list = []
for line in file_data:
    # discard lines which don't match at all
    if re.search(pattern, line):
        # icky, repeating search!!
        one_tuple = re.search(pattern, line).group(3,2)
        my_list.append(one_tuple)
my_dict = dict(my_list) 
```

你能建议一个更好的实现吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-19T08:25:34.220

感谢您的回复。把它们放在一起后，我得到了

```
file_data = open('x:\\path\\to\\file','r').read()
my_list = re.findall(pattern, file_data, re.MULTILINE)
my_dict = {c:b for a,b,c in my_list} 
```

但我认为如果没有帮助，我今天不可能到达那里。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-19T06:26:37.247

这是对您的代码的一些快速优化：

```
my_dict = dict()

with open(r'x:\path\to\file', 'r') as data:
    for line in data:
        match = re.search(pattern, line)
        if match:
            one_tuple = match.group(3, 2)
            my_dict[one_tuple[0]] = one_tuple[1] 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-19T07:48:34.057

本着[EAFP](http://docs.python.org/glossary.html#term-eafp)的精神，我建议

```
with open(r'x:\path\to\file', 'r') as data:
    for line in data:
        try:
            m = re.search(pattern, line)
            my_dict[m.group(2)] = m.group(3)
        except AttributeError:
            pass 
```

另一种方法是继续使用列表，但重新设计模式，使其仅包含两个组`(key, value)`。然后你可以简单地做：

```
 matches = [re.findall(pattern, line) for line in data]
  mydict = dict(x[0] for x in matches if x) 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-07-16T10:24:41.083

```
matchRes = pattern.match(line)
if matchRes:
    my_dict = matchRes.groupdict() 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-19T07:05:12.023

我不确定我是否会推荐它，但这是一种您可以尝试使用理解的方法（为简单起见，我用字符串替换了文件）

```
>>> import re
>>> data = """1foo bar
... 2bing baz
... 3spam eggs
... nomatch
... """
>>> pattern = r"(.)(\w+)\s(\w+)"
>>> {x[0]: x[1] for x in (m.group(3, 2) for m in (re.search(pattern, line) for line in data.splitlines()) if m)}
{'baz': 'bing', 'eggs': 'spam', 'bar': 'foo'} 
```

# iphone - 在 UITableView 中搜索后突出显示搜索文本

> ID：11095431
> 
> 赞同：5
> 
> 时间：2012-06-19T06:20:24.210
> 
> 标签：iphone, ios, xcode

嗨，谁能帮我在搜索后如何突出显示文本，我想从 sqlite 数据库中搜索数据并将其显示在 UITableView 中，那么如何仅在搜索结果中突出显示搜索关键字？请帮忙？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:09:14.883

我会这样做：创建一个自定义单元格，并在该单元格中创建一个视图，以包含文本。您将需要使用核心文本才能从字符串中更改背景/文本颜色的部分。搜索后，在 drawRect 方法中更改文本的颜色/背景颜色。

有关核心文本的更多信息，请参阅[此内容。](http://www.raywenderlich.com/4147/how-to-create-a-simple-magazine-app-with-core-text)

# gnuplot - gnuplot：值格式规范和缩放

> ID：11095435
> 
> 赞同：1
> 
> 时间：2012-06-19T06:20:35.137
> 
> 标签：gnuplot

我正在尝试使用 gnuplot 绘制图表。我的输入文件是格式

```
0.000000    0
0.068719    1
0.070836    1
0.071406    1
0.073363    291
0.073396    1705
0.073424    3119
0.073436    4533
0.073449    5947
0.073525    7361
0.073590    8775
0.144201    10189
0.144233    11603
0.144259    13017
0.144271    14431
0.144296    15845
0.144308    17259
0.144358    18673
0.148081    20087
0.148196    21501
0.148300    22915
0.148348    24329 
```

gnuplot 的配置文件如下所示。

```
set terminal png
set size 1.0, 1.0

set xlabel "timestamps"
#set format x "%.3g"
#set xrange [0:100]
#set xtics 1
#set autoscale x
set ylabel "highest seq number"
#set format y "%.3g"
#set ytics 1
#set yrange [0:100]
#set autoscale y
set title "seq no over time"
set key reverse Left outside
set grid

set pointsize 2.5
set style data linespoints 
```

我绘制了图表。应该绘制序列号的图表的 y 轴绘制以下值。

> > 0,5e+07,1e+08 , 1.5e+08 ,2e+08

1.  为什么以这种格式表示值。我找不到任何简单小数的格式说明符。我假设应该有小数的格式说明符。我找不到它。
2.  `set size 1.0, 1.0` 给我一个带边界的完整图，但一个图`set size 1.5, 1.5` 给我一个截断图。我想要一个缩放的非截断图。我应该怎么办？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-19T07:34:18.470

要将格式设置为十进制，您可以尝试：

```
gnuplot> set format x "%8.6f" 
```

`%g`您使用的符号是指数符号的较短。检查[设置格式的文档](http://gnuplot.sourceforge.net/docs_4.2/node184.html)。

为了更改输出画布大小，您应该尝试以下操作：

```
set terminal png size 960,720
set size 1.0, 1.0 
```

其中 960,720 是 640,480 的 1.5 倍（默认画布大小）。

# php - 在 Magento 设置脚本中创建属性集

> ID：11095436
> 
> 赞同：5
> 
> 时间：2012-06-19T06:20:37.050
> 
> 标签：php, magento, attributes, entity-attribute-value

创建属性并将它们分配给现有属性集是一个已解决的问题，但我们遇到了一个问题，尝试创建属性集并使用默认属性和特定属性填充它失败了。这是正在使用的代码：

```
$setup->addAttributeSet('catalog_product', 'women_sizing_denim');

$oAttributeSetModel = Mage::getModel("eav/entity_attribute_set")
        ->load($setup->getAttributeSetId('catalog_product', 'women_sizing_denim'))
        ->initFromSkeleton($setup->getAttributeSetId('catalog_product', 'default'))
        ->save(); 
```

我可以通过调试验证该`initfromSkeleton`方法确实从广告中的默认属性集加载属性，但是在 之后`save()`，新集为空。

向集合中添加新属性是可能的，因此它确实存在并且被正确创建，但缺少默认属性使其无法使用，因为 SKU、价格、名称等都是必需的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-19T09:40:07.540

我记得基于默认属性集创建属性集的问题是，您需要保存属性集*两次*，一次在调用之前，一次在调用`initSkeleton()`之后。

具体原因我不记得了，时间太久了。无论如何，这对我有用：

```
// Mage_Eav_Model_Entity_Setup
$oEntitySetup = $this;
$oEntitySetup->startSetup();

$sNewSetName = 'myset';
$iCatalogProductEntityTypeId = (int) $oEntitySetup->getEntityTypeId('catalog_product');

$oAttributeset = Mage::getModel('eav/entity_attribute_set')
    ->setEntityTypeId($iCatalogProductEntityTypeId)
    ->setAttributeSetName($sNewSetName);

if ($oAttributeset->validate()) {
    $oAttributeset
        ->save()
        ->initFromSkeleton($iCatalogProductEntityTypeId)
        ->save();
}
else {
    die('Attributeset with name ' . $sNewSetName . ' already exists.');
}

$oEntitySetup->endSetup(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-25T13:19:12.290

我使用了 Jürgen Thelen 的答案，它很有效。

但是我发现新的属性集没有默认选项和选项组，例如一般和发票等。

因此，为了解决这个问题，在 initFromSkeleton() 中包含 $installer->getAttributeSetId('catalog_product', 'default')

```
if($attributeSet->validate()) {
$attributeSet
    ->save()
    ->initFromSkeleton($installer->getAttributeSetId('catalog_product', 'default'))
    ->save();
} else {
die('Attributeset with name ' . $setName . ' already exists.');
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-12T13:02:41.947

请注意安装类需要扩展

```
Mage_Catalog_Model_Resource_Eav_Mysql4_Setup 
```

以便

```
$oEntitySetup->getEntityTypeId('catalog_product'); 
```

可以调用。

# linux - 如何在多用户环境中为 Eclipse 设置全局首选项？

> ID：11095438
> 
> 赞同：0
> 
> 时间：2012-06-19T06:20:55.387
> 
> 标签：linux, eclipse, configuration

我们将使用 eclipse（Helios 或 Indigo）作为多用户环境进行开发。为此，我们正在努力配置 eclipse。我们已经安装了插件 Rational Clearcase MVFS Support 和 Rational Clearcase SCM Adapter。

*用户必须通过首选项为每个工作区*启用一次 Rational Clearcase MVFS 支持选项和 Clearcase SCM 适配器自动连接选项。

所以我的要求是，有没有办法在全局范围内只设置一次这些首选项（或选项），以便每个人在创建工作空间时自动获取这些设置？

如果不是这样，还有其他方法可以满足我的要求吗？

感谢您的回答。提前致谢 ！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T11:55:52.237

查看[工作区技工](http://code.google.com/a/eclipselabs.org/p/workspacemechanic/)。它说您可以使用它来“在整个公司、本地团队甚至您自己的许多工作空间中创建一致的环境”

# flash - 导出/测试电影问题

> ID：11095441
> 
> 赞同：1
> 
> 时间：2012-06-19T06:21:22.573
> 
> 标签：flash, air, export, flash-cs5.5

我正在为智能手机开发一款 AIR 游戏，几天后我遇到了以下问题：

当我按 ctrl + return 来测试我的电影时，它不会打开并且会无休止地导出（进度条打开并增加到 100%，并且此状态持续数小时）。Flash 不会为我创建 swf 文件。当我点击发布时，我的闪存完全崩溃了。

我没有收到任何错误消息。

到目前为止我测试的内容：

*   激活/停用电影压缩
*   激活/停用 xmp 元数据
*   更改了渲染模式（无、直接、gpu）
*   激活/停用 jpeg 去块化
*   删除了 app.xml 文件
*   增加发布缓存大小

导出/发布工作的唯一方法是从库中删除元素。但我需要元素。到目前为止，我得到了 701 个元素，我还需要更多。

也许有人可以帮助我。

**编辑：**这是 AIR 3.2

**编辑2：**

*   更改了保存位置
*   更改了发布设置中的播放器（AIR for Android、AIR 2.6、AIR for iOS、Flash Player 10.2）
*   将所有文件移动到不同/新文件夹

**EDIT3：** 我认为这是位图的问题。每次我重新启动 fla 文件时，其他图像预览都无法显示，当我尝试将图像重新加载到库中时，flash 崩溃。

我再次保存了我的图像并再次导入它们，同样的问题。有时会显示预览，有时不显示。

当我查看我的位图并且有所有可用的预览时，当 RAM 使用率为 1.3 GB 时，闪存会停止导出

**和 EDIT4 :D**

现在我再次删除了一些位图，它现在启动了 ADL。但是我的位图有什么问题？在 Photoshop 中，我点击“保存为网络”，而我的其他图像没有损坏，但只有那些“集合”（每次 5 级和 6 级）。它们保存为 jpg、RGB

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T07:55:36.933

似乎 Flash 讨厌库中的很多元素（或巨大的文件大小）。

从我的库中删除一些图像并使用代码在游戏中编辑/转换/更改它们后，问题就解决了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T08:14:28.450

看起来这与 AIR 无关，因为您仍处于 CS5 编译过程中。我记得我遇到过类似的情况（虽然没有你严重），是我使用的字体造成的，当我尝试编译时，编译器尝试将我在那些库元素中使用的所有字体打包到 SWF 文件中，这当然会耗费时间和空间，所以在这种情况下，我的解决方案是简单地光栅化我使用特殊字体的所有字符。

不确定这是否适合您。但如果您在矢量资源中使用字体，请尝试将它们栅格化。这可能会有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-13T02:31:57.817

我遇到了这个问题并发现它崩溃了，因为有一个只有 1 帧的补间，但有一个缓入或缓出附加到它。如果我通过并删除所有只有 1 帧的补间，一切都很好！

从您的库中删除项目可能只是因为其中一个项目是具有单帧补间问题的电影。

# database - 在 Cassandra 中存储 XML HTML Word

> ID：11095442
> 
> 赞同：1
> 
> 时间：2012-06-19T06:21:32.747
> 
> 标签：database, cassandra, cql

我想将不同的内容存储到 Cassandra 数据库中。示例：我会使用一个 RSS 提要，然后将其存储在数据库中。同样，我想将 HTML 和 Word 文档存储到 Cassandra 数据库中。我还搜索并找到了如何将图像内容存储到 Cassandra 数据库中。我正在使用 Java 和 Thrift。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T12:45:12.130

如果您使用 Java，则应该使用[Hector](https://github.com/rantav/hector)客户端而不是原始 Thrift。就存储文档而言，您有很多选择。RSS 提要和 HTML 文档可以简单地存储为 UTF8 文本（新的 Word docx 格式也可以），而旧的二进制 Word 文档可以存储为字节。

# c# - 如何强制 XML 反序列化为同名的派生类型？

> ID：11095443
> 
> 赞同：3
> 
> 时间：2012-06-19T06:21:36.650
> 
> 标签：c#, serialization, xml-serialization, deserialization

我在无法修改的库中提供了类型，例如：

```
namespace BaseNamespace
{
    public class A
    {
        public string Foo { get; set; }
    }
} 
```

我还有一个名为 SomeOtherNamespace.A" 的类，它派生自 BaseNamespace.A，如下所示：

```
namespace SomeOtherNamespace
{
    public class A : BaseNamespace.A
    {
        public string DoSomething() {}
    }
} 
```

从 Web 服务中，我收到一个 XML 有效负载。

我想反序列化 XML，以便最终得到 SomeOtherNamespace.A 对象。但是，当我运行以下代码时

```
string xml = "<A Foo=\"test\"></A>";

XmlSerializer serializer = new XmlSerializer(typeof(A));

StringReader reader = new StringReader(xml);

A obj = serializer.Deserialize(reader) as A; 
```

我收到一个错误：

> 类型“BaseNamespace.A”和“SomeOtherNamespace.A”都使用命名空间“”中的 XML 类型名称“A”。使用 XML 属性为类型指定唯一的 XML 名称和/或命名空间。

**问题**：如果不修改 BaseNamespace.A 类，如何强制反序列化为派生类型 SomeOtherNamespace.A？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:41:41.697

重命名`SomeOtherNamespace.A`为

```
namespace SomeOtherNamespace
{
    public class AAA : BaseNamespace.A
    {
        public string DoSomething() {}
    } 
```

}

并将序列化程序创建为

```
XmlRootAttribute root = new XmlRootAttribute("A");
XmlSerializer serializer = new XmlSerializer(typeof(AAA),root); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:36:14.473

如果在 Xml 中为 SomeOtherNamespace.A 使用不同的名称是可以接受的，则可以只使用 XmlTypeAttribute 为 A 提供不同的 Xml 类型。

```
namespace SomeOtherNamespace {
    [XmlType("NotA")]
    public class A
    {
        public string Foo { get; set; }
    }
} 
```

更重要的是，您可能需要考虑派生类的名称与基类不同的设计。

# php - 从异常中返回

> ID：11095449
> 
> 赞同：0
> 
> 时间：2012-06-19T06:22:17.340
> 
> 标签：php, exception, exception-handling

不过，这可能听起来像是一个科幻请求——有没有办法返回到从`try {}`块内抛出异常的块的开头`catch() {}`？

这是一个例子：

```
try
{
    // make OAuth request
}
catch(OAuthException $e)
{
    // if(){}
    // If tells me that the Exception was thrown because the access token is expired
    // I have alternative access token (that's always up to date, but there is a catch why I void using it)
    // I set it as a new access token and want to repeat the try {} block
} 
```

显然`goto`可以做到，不过，我正在寻找是否有更复杂的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:24:57.030

一个`while`循环。

```
do {
  $ok = false;
  try {
    // something
    $ok = true;
  } catch (...) {
    // something
  }
} while (!$ok); 
```

AksharRoop 和 Broncha 的解决方案也很好，特别是如果您的备份计划数量有限（即针对您描述的特定场景）。使用`while`更一般。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-19T06:25:05.170

将您的 try 块移动到单独的函数中，以便您可以使用新令牌再次调用它。

```
try
{
    MakeAuthRequest(token);
}
catch(OAuthException $e)
{
    if (failedDueToToken)
    {
        MakeAuthRequest(newToken);
    }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-19T06:25:25.467

您可以将代码包装在一个函数中，并从 catch 部分调用相同的函数

```
function remotePost($accessToken){

  try{

  }catch(OAuthException $e){
  //the one used is not alternative token and if there is an alternative access token
    return remotePost($alternativeAccessToken);
  }
} 
```

# encoding - 谜语，类似于 uuencode 但也不是 base64

> ID：11095456
> 
> 赞同：0
> 
> 时间：2012-06-19T06:23:01.680
> 
> 标签：encoding, decoding

我必须找出[http://imagebin.org/216644](http://imagebin.org/216644)图像被编码的以下编码

```
Encoded http://imagebin.org/216644 image

UjBsR09EbGhDZ0FQQUljQUFBQUFBSHNzRFpRQUFLY3Z
BUDhBQU41NlNmL3NVTzIzblBmMzl3QUFBQUFBQUFBQU
FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQ
... 
```

我所知道的是： - 编码用于通过互联网传输附件 - 它不是 base64 或 uuencode（但也有相似之处，它也产生 'FBQ' 系列）

找出编码方法的最佳做法是什么？是否有任何内置编码器/解码器的免费软件可以使用它？

提前谢谢。

CS。

**更新**

由于编码部分必须以编码**的 'GIF89a'**开头，这里是**'UjBsR09** ......而且由于编码的 gif 在互联网上很常见，这就是为什么我试图用谷歌找到 **'UjBsR09' 的**原因，它找到了一个文档，其中**base64Binary**编码部分以它开头。

但

每个 base64 编码器都将 'GIF89a' 转换为 ' **R0lGODlh** ' 而不是**'UjBsR09'**我无法找出背景。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:52:27.143

我找到了线索，这不是关于图像被文本拍摄的神秘编码，这就是为什么在base64之前我必须将它转换为ascii。（因为gif是二进制的）所以插入

```
encodeddata=base64(image);
push2Net(encodeddata); 
```

必须使用

```
encodeddata=base64(bta(image)) 
push2Net(encodeddata); 
```

Javascript 中的 bta 实现例如 window.bta(data)

# spring-mvc - JSR-303 验证在 spring mvc 3.x 中不起作用

> ID：11095461
> 
> 赞同：0
> 
> 时间：2012-06-19T06:23:39.350
> 
> 标签：spring-mvc

```
validation-api-1.0.0.GA.jar 和 hibernate-validator-4.1.0.Final.jar 在类路径中。

mvc:annotation-driven 在 -servlet.xml 文件中。

```

`@RequestMapping(value = "/addEmployee", method = RequestMethod.POST) public ModelAndView addEmployee(@Valid EmployeeDTO employeeDTO, BindingResult result) {`

 ````
 System.out.println("addEmployee employeeDTO! "+ employeeDTO);
       System.out.println("result.getErrorCount()  "+result.getErrorCount()); 
```` 

`}`

`public class EmployeeDTO {`

 ````
private int employeeId;
public int getEmployeeId() {
    return employeeId;
}

public void setEmployeeId(int employeeId) {
    this.employeeId = employeeId;
}

@NotNull
private String firstName;
@NotNull 
private String lastName;
private Date hireDate;

} 
````  ````
 in the console

 addEmployee employeeDTO! EmployeeDTO [employeeId=0, firstName=, lastName=, deptName=null, deptId=0, email=, salary=0, jobId=AD_VP, hireDate=null]
result.getErrorCount()  0 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:28:09.943

根据您引用的控制台消息，DTO 似乎并非无效。和字段似乎设置为空字符串，`firstName`而不是；因此，验证没有理由拒绝您的 bean。`lastName``""``null`

如果您希望将空输入字段绑定为 null（并被验证拒绝），您可以在活页夹中注册一个[StringTrimmerEditor](http://static.springsource.org/spring/docs/current/javadoc-api/org/springframework/beans/propertyeditors/StringTrimmerEditor.html)。`

# android - Android StartActivity 运行但没有任何反应

> ID：11095466
> 
> 赞同：0
> 
> 时间：2012-06-19T06:23:56.800
> 
> 标签：android

我正在创建一个作为售票系统的应用程序。在结帐页面（PaymentScreen 活动）上执行检查以确保客户已登录其帐户，如果未登录，则在继续结帐之前将其重定向到登录。

当我检查客户是否已登录时，代码正确验证客户未登录，然后执行该 if 函数（我可以从 LogCat 看出），但该活动从未启动并且代码继续执行.

任何帮助将不胜感激 - 我似乎无法弄清楚这一点。

PaymentScreen.java：

```
public class PaymentScreen extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {   
    super.onCreate(savedInstanceState);
    setContentView(R.layout.paymentscreen);

    if(Singleton.getInstance().selected_city == null) {
        PaymentScreen.this.startActivity(new Intent().setClass(PaymentScreen.this, CityList.class));
    }
    if(Singleton.getInstance().selected_venue == null) {
        PaymentScreen.this.startActivity(new Intent().setClass(PaymentScreen.this, VenueList.class));
    }
    if(Singleton.getInstance().selected_event == null) {
        PaymentScreen.this.startActivity(new Intent().setClass(PaymentScreen.this, EventList.class));
    }
    if(Singleton.getInstance().customer == null) {
        PaymentScreen.this.startActivity(new Intent().setClass(PaymentScreen.this, LoginScreen.class).putExtra("sendToActivity", "PaymentScreen"));
        Log.d("LineBouncer", "in if statement and (customer == null) is true");
    }
    if(Singleton.getInstance().customer == null) {
        Log.d("LineBouncer", "customer is null");
    }
    new GetPrepurchaseId().execute();
}
} 
```

日志猫：

```
06-19 02:10:22.972: D/LineBouncer(3102): in if statement and (customer == null) is true
06-19 02:10:22.972: D/LineBouncer(3102): customer is null 
```

AndroidManifest.xml：

```
 <activity android:name=".CityList" android:label="@string/app_name"></activity>
    <activity android:name=".LoginScreen" android:label="@string/app_name"></activity> 
    <activity android:name=".CreateAccount" android:label="@string/app_name"></activity> 
    <activity android:name=".VenueList" android:label="@string/app_name"></activity> 
    <activity android:name=".EventList" android:label="@string/app_name"></activity>
    <activity android:name=".EventDetails" android:label="@string/app_name"></activity>
    <activity android:name=".PaymentScreen" android:label="@string/app_name"></activity>
    <activity android:name=".OrderHistory" android:label="@string/app_name"></activity>
    <activity android:name=".PassView" android:label="@string/app_name"></activity> 
```

从 LogCat 中可以清楚地看出，该程序识别出客户为空并运行 StartActivity 代码，但随后继续运行并且从未真正启动该活动。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:41:53.100

开始活动的正确方法如下：

```
Intent intent = new Intent(PaymentScreen.this, EventList.class);
startActivity(intent); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:43:32.630

尝试这个

```
startActivity(new Intent(PaymentScreen.this, LoginScreen.class).putExtra("sendToActivity", "PaymentScreen")); 
```

安装的

```
PaymentScreen.this.startActivity(new Intent().setClass(PaymentScreen.this, LoginScreen.class).putExtra("sendToActivity", "PaymentScreen")); 
```

你可以这样做

```
Intent in;
if(Singleton.getInstance().selected_city == null) {
        in=new Intent(PaymentScreen.this, CityList.class);
        startActivity(in);
    }
    if(Singleton.getInstance().selected_venue == null) {
        in=new Intent(PaymentScreen.this, VenueList.class);
        startActivity(in);

    }
    if(Singleton.getInstance().selected_event == null) {
        in=new Intent(PaymentScreen.this, EventList.class);
        startActivity(in);
    }
    if(Singleton.getInstance().customer == null) {
        in=new Intent(PaymentScreen.this, LoginScreen.class);
        in.putExtra("sendToActivity", "PaymentScreen");
        startActivity(in);
        Log.d("LineBouncer", "in if statement and (customer == null) is true");
    }
    if(Singleton.getInstance().customer == null) {
        Log.d("LineBouncer", "customer is null");
    }
    new GetPrepurchaseId().execute(); 
```

如果你没有提到这个

```
<activity android:name=".CityList" android:label="@string/app_name"></activity> 
```

在您的清单中然后声明它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T06:27:02.017

代替`PaymentScreen.this.startActivity(new Intent().setClass(PaymentScreen.this, CityList.class));`

尝试：

```
PaymentScreen.this.startActivity(new Intent(PaymentScreen.this, CityList.class)); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-01-13T05:49:03.837

确保你已经在 minifest 中定义了它。

最好打电话

```
 context.startActivity()
```

内测

# objective-c - ARC会级联释放内存吗？

> ID：11095467
> 
> 赞同：0
> 
> 时间：2012-06-19T06:24:06.960
> 
> 标签：objective-c, automatic-ref-counting

假设有一个对象 A

A 对 B 有强引用

B 强烈引用 C

现在，假设最后一个对 A 的引用被删除了。假设 A 在堆栈中并且函数结束。

所以A没了。

在它即将死去的情况下，A 是否通知 B 它已经消失了？B和C也会消失吗？

```
-(void) foo
{
A * a= [[A alloc]init];
A.b = [[B alloc]init];
A.b.c = [[C alloc]init];
//end of function what happen here? Will a, A.b and A.b.c gone too? How exactly that work?
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T06:35:24.090

A 在堆中（指针在栈中）。而且...是的..如果没有对对象的强引用，它会立即被释放。

ARC 不是垃圾收集器。它只是一个编译时特性。它会自动向对象添加保留、释放和自动释放语句。所以..在ARC模式下，你的dealloc方法会自动调用B上的release。B的dealloc方法调用C上的release。

顺便说一句：您可以实现一个 dealloc 方法。您不能在其中调用 release .. 所以您可以关闭套接字或释放资源....

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:27:12.187

您的类在解除分配时需要释放它们的引用。

我不认为 ARC 在这里改变任何东西（除了自动插入发布调用）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-19T06:34:57.813

使用 ARC 并将这些引用标记为强可确保编译器在 dealloc 方法中合成对这些对象的释放调用。

所以，是的，假设没有其他对对象 B 和 C 的引用，它们作为 A 垂死呼吸的一部分被释放:)

# bash - Unix shell 之间的可移植性——我是否正确地考虑了这个问题？

> ID：11095473
> 
> 赞同：2
> 
> 时间：2012-06-19T06:24:30.113
> 
> 标签：bash, shell, cross-platform, portability, sh

每当我编写 shell 脚本（主要是软件开发实用程序或构建工具）时，我通常会尽量避免使用 bash，而是使用普通的旧 sh 来实现可移植性。但是最近我遇到了越来越多的问题，其中有用的功能不可用，或者使用 sh 的系统之间的行为实际上不太一致，而不是使用 bash，因为 sh 被别名为不同的外壳......

据我了解，sh 是最古老的 Unix shell，精心编写的 sh 脚本理论上应该可以在几乎所有系统上运行......但似乎每个主要 shell 也有大约 9000 种不同的变体。使用 bash 作为脚本解释器不会有效地限制脚本的可移植性吗？当然，在 OS X 或几乎任何 Linux 上都没有问题，但是 BSD 呢？Solaris、AIX、HP-UX？如果你真的想在所有东西上运行，你会怎么做？

我知道 bash 几乎可以安装在任何操作系统上，但它真的是所有相关现代系统的一等公民吗？它是预装的吗？我只是不确定是否最好避免或接受 bash 以获得最一致和便携的整体体验。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:32:41.767

> 如果你真的想在所有东西上运行，你会怎么做？

您遵循（以及您正在调用的工具）的[POSIX 标准，`sh`](http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html)并希望目标操作系统也这样做。任何称为“UNIX”的现代产品都必须遵循这个标准，并且习惯上（尽管不是普遍的）标准外壳将被称为`/bin/sh`. BSD 和 Linux 发行版也倾向于针对 POSIX 兼容性。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-19T06:39:01.433

> 使用 bash 作为脚本解释器不会有效地限制脚本的可移植性吗？

是的，但这取决于您提到的目标受众。如果它是一个简短的脚本，那么值得在`dash`（Ubuntu 和 Debian 的默认 shell）下测试 POSIX 兼容性。

每当我开始考虑我的 shell 脚本中的可移植性问题时，我都会切换到另一种语言。Perl 广泛可用，通常是脚本的不错选择，但如果您的工具要被 Python、Ruby、$lang 开发人员使用，请充分利用 $lang。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T07:42:42.697

bash 本身只是一个普通的 C 程序，不需要特殊权限即可运行，可以放在任何位置。您可以轻松地从源代码构建它。基本上，如果您需要并且不需要系统管理员来安装它，您可以运行 bash。

只要它在您的路径中，您始终可以使用该行编写脚本。

```
#!/usr/bin/env bash 
```

# c - 为什么我必须使用 close() 来关闭文件？

> ID：11095474
> 
> 赞同：8
> 
> 时间：2012-06-19T06:24:39.753
> 
> 标签：c, operating-system

我正在学习一些文件功能，因此有疑问。

我很好奇为什么需要调用`close()`来关闭文件？如果我在读/写文件后没有调用`close()`，可能会发生什么事情？如果我确实打电话`close()`，我还能使用文件描述符吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-19T06:27:51.420

*   如果文件后面有任何类型的缓冲，并且您没有调用 close，那么您可能会丢失数据。

*   如果操作系统的资源有限（例如打开文件的数量），那么不关闭文件就是在浪费系统资源。

*   关闭文件后使用描述符充其量是毫无意义的，最坏的情况是大量错误（有点像在释放内存后使用内存）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-19T06:31:37.493

close() 函数关闭程序与句柄标识的打开文件之间的连接。任何未写入的系统缓冲区都会刷新到磁盘，并**释放文件使用的系统资源**

粗体部分是关闭文件的主要原因

关闭文件会产生以下后果：

1）文件描述符被释放。
2) 文件上进程拥有的任何记录锁都被解锁。
3) 当与管道或 FIFO 关联的所有文件描述符都已关闭时，任何未读数据都将被丢弃。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-19T06:26:46.613

如果您不关闭为读取而打开的文件，则可能会阻止并发写入。如果您不关闭为写入而打开的文件 - 您可能会丢失 OS 在缓冲区中保存的最后写入数据。

并且永远不要使用已关闭文件的描述符。这没有任何意义。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T06:27:51.770

当您使用 write() 系统调用写入文件时，它不会立即写入文件。因此，在您的操作之后，您必须调用 close() 以便将缓冲区刷新到文件并保持更改。调用 close() 后，不能使用文件描述符。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-19T06:29:26.840

关闭文件：完成文件后，必须使用函数 fclose() 将其关闭。

```
fclose(ifp);
fclose(ofp); 
```

关闭文件非常重要，尤其是输出文件。原因是输出经常被缓冲。这意味着当你告诉 C 写出一些东西时，例如，

```
fprintf(ofp, "Whatever!\n"); 
```

它不需要立即写入磁盘，但可能最终会在内存中的**缓冲区中。**此输出缓冲区将临时保存文本：

样本输出缓冲区：

```
----------------------------------------------
| a | b  | c | W | h | a | t | e | v | e | r |
----------------------------------------------
| ! | \n |   |   |   |   |   |   |   |   |   |
----------------------------------------------
|   |    |   |   |   |   |   |   |   |   |   |
----------------------------------------------
|   |    |   |   |   |   |   |   |   |   |   |
----------------------------------------------
... 
```

（尽管有这张图，缓冲区实际上只是一维的。）

当缓冲区填满时（或文件关闭时），数据最终写入磁盘。

**参考**：[http ://www.cs.bu.edu/teaching/c/file-io/intro/](http://www.cs.bu.edu/teaching/c/file-io/intro/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-19T07:32:37.453

*   当您写入文件时，您首先写入缓冲区，一些函数调用刷新并将数据写入文件，但其他人只是写入缓冲区。当缓冲区已满时，它会刷新到文件，而不需要直接调用刷新。如果你想确定的话，你也可以随时冲洗。
*   关闭文件描述符后，您将无法再使用它。

# html - 如何在纯css中的div之前制作三角形？

> ID：11095477
> 
> 赞同：4
> 
> 时间：2012-06-19T06:24:53.310
> 
> 标签：html, css, shape, css-shapes

你好朋友我已经尝试了很多次但我没有成功比请帮助我

我想要这样的下面的图像

![在此处输入图像描述](../Images/259486596b38ed6090603c6a2f03e685.png)

现在我已经创建了这个但没有创建这个 div 的右角现在任何人请帮助我

我的代码是

**CSS**

```
.dashbord a {
    display:block;
    line-height:28px;
    padding-left:8px;
    font-family: 'LatoRegular';
    font-size:14px;
    color:#58544e;
    max-width:300px;
    text-shadow:1px 0 0 rgba(241,236,231,1);
}
.dashbord .active{
    background: #b43720; /* Old browsers */
    /* IE9 SVG, needs conditional override of 'filter' to 'none' */
    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMTAwJSIgeDI9IjEwMCUiIHkyPSIwJSI+CiAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjYjQzNzIwIiBzdG9wLW9wYWNpdHk9IjEiLz4KICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2U5NDU0MSIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiBmaWxsPSJ1cmwoI2dyYWQtdWNnZy1nZW5lcmF0ZWQpIiAvPgo8L3N2Zz4=);
    background: -moz-linear-gradient(90deg,  #b43720 0%, #e94541 100%); /* FF3.6+ */
    background: -webkit-gradient(linear, left bottom, right top, color-stop(0%,#b43720), color-stop(100%,#e94541)); /* Chrome,Safari4+ */
    background: -webkit-linear-gradient(90deg,  #b43720 0%,#e94541 100%); /* Chrome10+,Safari5.1+ */
    background: -o-linear-gradient(90deg,  #b43720 0%,#e94541 100%); /* Opera 11.10+ */
    background: -ms-linear-gradient(90deg,  #b43720 0%,#e94541 100%); /* IE10+ */
    background: linear-gradient(90deg,  #b43720 0%,#e94541 100%); /* W3C */
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#b43720', endColorstr='#e94541',GradientType=1 ); /* IE6-8 fallback on horizontal gradient */
    box-shadow:1px 0 0 0 rgba(230,227,223,1), 0px -3px 0 0 rgba(153,40,19,1) inset;
    text-shadow:1px 0 0 rgba(153,40,19,1);
    color:#fff;
    border-radius:5px 0 0 5px;
    line-height:30px;
    position:relative;
    margin-left:-4px;
}
.dashbord .active:after{
    content:'';
    position:absolute;
    right:-9px;
    top:0;
    bottom:0;
    border-bottom: 15px solid transparent;
    border-left: 9px solid #b43720;
    border-top: 15px solid transparent;
} 
```

**HTML**

```
<div class="dashbord">
 <a href="#" class="active">Co-Workers</a>
</div> 
```

Jsfiddle 链接在这里[http://jsfiddle.net/TBB9S/](http://jsfiddle.net/TBB9S/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-19T06:50:37.183

像这样写：

```
.dashbord .active:after{
    content:'';
    position:absolute;
    right:-11px;
    top:3px;
    z-index:-1;
    width:22px;
    height:22px;
    background:green;
    -moz-transform:rotate(45deg);
    -webkit-transform:rotate(45deg);
    transform:rotate(45deg);
    box-shadow:-3px 0 0 0 rgba(153,40,19,1) inset;
    background: -moz-linear-gradient(left top, #e94541 0%,#b43720 100%);
    background: -webkit-linear-gradient(left top, #e94541 0%,#b43720 100%);
    background: linear-gradient(left top, #e94541 0%,#b43720 100%);
} 
```

检查这个[http://jsfiddle.net/TBB9S/2/](http://jsfiddle.net/TBB9S/2/)

# android - 主要数据才来？

> ID：11095481
> 
> 赞同：0
> 
> 时间：2012-06-19T06:25:14.337
> 
> 标签：android

我正在尝试访问联系人的详细信息，但我只获得主要详细信息，我使用的是 Ecliar 平台，这意味着，

现在我使用此代码获取所有联系人的**姓名、号码**和**电子邮件ID。但如果一个联系人有 2 个号码和 2 个电子邮件 ID，我只得到主****号码和电子邮件 ID**

我正在使用 ListView 中的显示，例如

1.姓名1，号码1，电子邮件ID 1。

2.Name 1, Number2, email Id 2\. 第一人称，依此类推

3.Name 2, number 1, email Id 1 for second person 依此类推。将继续这样。

但我只得到特定联系人的 number1 和电子邮件 ID 1。没有得到该联系人的号码 2 和电子邮件 id2。

我编辑了循环逻辑，但出现了其他一些错误。如何解决这个问题呢 ？

**代码**

```
public class Details extends Activity {

ListView lvItem;
private Button btnAdd;
String emailAddress = "" ; 
String  displayName  = "" ;
String phoneNumber  = "" ; 
ArrayList<String> contactlist=new ArrayList<String>();
ArrayAdapter<String> itemAdapter;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
   lvItem = (ListView)this.findViewById(R.id.listview);  
   btnAdd = (Button)this.findViewById(R.id.btn);
   itemAdapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1,contactlist);
   lvItem.setAdapter(itemAdapter);
   btnAdd.setOnClickListener(new View.OnClickListener() {
       public void onClick(View v) {
          readContacts();

       }
   }); 
}

 private void readContacts()
{
    ContentResolver cr =getContentResolver();
    Cursor cursor = cr.query(ContactsContract.Contacts.CONTENT_URI, null, null, null, null);
    while (cursor.moveToNext()) 
    {
        displayName  = "" ;
           ArrayList<String> phoneNumber  = new ArrayList<String>();
           ArrayList<String> emailAddress  = new ArrayList<String>();

        displayName = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));       
        String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));

        Cursor emails = cr.query(Email.CONTENT_URI,null,Email.CONTACT_ID + " = " + id, null, null);
        while (emails.moveToNext()) 
        { 
            emailAddress.add(emails.getString(emails.getColumnIndex(Email.DATA)));
            break;
        }
        emails.close(); 
        if(Integer.parseInt(cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER))) > 0)
        {
            Cursor pCur = cr.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,null,ContactsContract.CommonDataKinds.Phone.CONTACT_ID +" = ?",new String[]{id}, null);
            while (pCur.moveToNext()) 
            {
                 phoneNumber.add(pCur.getString(pCur.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)));
              break;  
            }  
            pCur.close();  
        }   

int phoneNumberCount = phoneNumber.size();
int emailCount = emailAddress.size();

// Add arraylist data to contactlist..

if(phoneNumberCount > emailCount) {

    for (int i=0; i<=phoneNumberCount; i++)
      {
        if(emailCount>i)
          {
           contactlist.add(displayName + " , " + phoneNumber.get(i) + " , " + emailAddress.get(i)+"\n");  
           }
        else
        {
          contactlist.add(displayName + " , " + phoneNumber.get(i)+"\n");
        }
       }
    }
    else 
       {
        for (int i=0; i<=emailCount; i++)
         {
        if(phoneNumberCount>i)
          {
            contactlist.add(displayName+", "+phoneNumber.get(i)+", "+ emailAddress.get(i)+"\n");
          }
        else
        {
            contactlist.add(displayName+","+ emailAddress.get(i)+"\n");
        } 
      }
    }     
    }
    Collections.sort(contactlist);
    itemAdapter.notifyDataSetChanged();
    cursor.close(); 

 }
  } 
```

任何解决方案？

**日志猫**

```
06-19 11:28:08.058: W/KeyCharacterMap(265): No keyboard for id 0
06-19 11:28:08.068: W/KeyCharacterMap(265): Using default keymap:     /system/usr/keychars/qwerty.kcm.bin
06-19 11:28:33.187: D/dalvikvm(265): GREF has increased to 201
06-19 11:33:32.118: W/KeyCharacterMap(307): No keyboard for id 0
06-19 11:33:32.118: W/KeyCharacterMap(307): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
06-19 14:16:35.488: D/AndroidRuntime(385): Shutting down VM
06-19 14:16:35.498: W/dalvikvm(385): threadid=3: thread exiting with uncaught exception (group=0x4001b188)
06-19 14:16:35.498: E/AndroidRuntime(385): Uncaught handler: thread main exiting due to uncaught exception
06-19 14:16:35.507: E/AndroidRuntime(385): java.lang.IndexOutOfBoundsException: Invalid location 1, size is 1
06-19 14:16:35.507: E/AndroidRuntime(385):  at java.util.ArrayList.get(ArrayList.java:341)
06-19 14:16:35.507: E/AndroidRuntime(385):  at com.abhi.Trial3.readContacts(Trial3.java:100)
06-19 14:16:35.507: E/AndroidRuntime(385):  at com.abhi.Trial3.access$0(Trial3.java:44)
06-19 14:16:35.507: E/AndroidRuntime(385):  at com.abhi.Trial3$1.onClick(Trial3.java:38)
06-19 14:16:35.507: E/AndroidRuntime(385):  at android.view.View.performClick(View.java:2364)
06-19 14:16:35.507: E/AndroidRuntime(385):  at android.view.View.onTouchEvent(View.java:4179)
06-19 14:16:35.507: E/AndroidRuntime(385):  at android.widget.TextView.onTouchEvent(TextView.java:6541) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:08:52.470

试试这个代码，替换`readContacts()`你的方法，让我知道发生了什么..

```
private void readContacts()
{
    ContentResolver cr =getContentResolver();
    Cursor cursor = cr.query(ContactsContract.Contacts.CONTENT_URI, null, null, null, null);
    while (cursor.moveToNext()) 
    {
        displayName  = "" ;
        ArrayList<String> phoneNumber  = new ArrayList<String>();
        ArrayList<String> emailAddress  = new ArrayList<String>();

        displayName = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));       
        String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));

        Cursor emails = cr.query(Email.CONTENT_URI,null,Email.CONTACT_ID + " = " + id, null, null);
        while (emails.moveToNext()) 
        { 
            emailAddress.add(emails.getString(emails.getColumnIndex(Email.DATA)));
            break;
        }
        emails.close(); 
        if(Integer.parseInt(cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER))) > 0)
        {
            Cursor pCur = cr.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,null,ContactsContract.CommonDataKinds.Phone.CONTACT_ID +" = ?",new String[]{id}, null);
            while (pCur.moveToNext()) 
            {
                 phoneNumber.add(pCur.getString(pCur.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)));
              break;  
            } 
            pCur.close();  
        }   

int phoneNumberCount = phoneNumber.size();
int emailCount = emailAddress.size();

// Add arraylist data to contactlist..

if(phoneNumberCount > emailCount) {

    for (int i=0; i<phoneNumberCount; i++)
      {
        if(emailCount>i)
          {
           contactlist.add(displayName + " , " + phoneNumber.get(i) + " , " + emailAddress.get(i)+"\n");    
           }
        else
        {
          contactlist.add(displayName + " , " + phoneNumber.get(i)+"\n");
        }
       }
    }
    else
       {
        for (int i=0; i<emailCount; i++)
         {
        if(phoneNumberCount>i)
          {
            contactlist.add(displayName+", "+phoneNumber.get(i)+", "+ emailAddress.get(i)+"\n");
          }
        else
        {
            contactlist.add(displayName+","+ emailAddress.get(i)+"\n");
        }
      }
    }     
    }
    Collections.sort(contactlist);
    itemAdapter.notifyDataSetChanged();
    cursor.close(); 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:43:18.203

删除所有 while 循环中的中断。

```
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

import android.app.Activity;
import android.content.ContentResolver;
import android.database.Cursor;
import android.os.Bundle;
import android.provider.ContactsContract;
import android.provider.ContactsContract.CommonDataKinds.Email;
import android.view.View;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.ListView;

public class StackOverFlowGetContactsActivity extends Activity {

    ListView lvItem;
    private Button btnAdd;
    String displayName="", emailAddress="", phoneNumber="";
    ArrayList<String> contactlist=new ArrayList<String>();
    ArrayAdapter<String> itemAdapter;
    ArrayList<String> emailarray=new ArrayList<String>();
    ArrayList<String> phonearray=new ArrayList<String>();

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
       lvItem = (ListView)this.findViewById(R.id.listView_items);  
       btnAdd = (Button)this.findViewById(R.id.btnAddItem);
       itemAdapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1,contactlist);
       lvItem.setAdapter(itemAdapter);
       btnAdd.setOnClickListener(new View.OnClickListener() {
           public void onClick(View v) {
               readContacts();
           }
       });
    }

    private void readContacts()
    {
        ContentResolver cr =getContentResolver();
        Cursor cursor = cr.query(ContactsContract.Contacts.CONTENT_URI, null, null, null, null);
        while (cursor.moveToNext()) 
        {
            displayName="";emailAddress=""; phoneNumber="";phonearray.clear(); emailarray.clear();
            displayName = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));       
            String id = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));
            Cursor emails = cr.query(Email.CONTENT_URI,null,Email.CONTACT_ID + " = " + id, null, null);
            while (emails.moveToNext()) 
            { 
                emailarray.add(emails.getString(emails.getColumnIndex(Email.DATA)));
               // break;
            }
            emails.close();
            if(Integer.parseInt(cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER))) > 0)
            {
                Cursor pCur = cr.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,null,ContactsContract.CommonDataKinds.Phone.CONTACT_ID +" = ?",new String[]{id}, null);
                while (pCur.moveToNext()) 
                {
                    phonearray.add(pCur.getString(pCur.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)));
                   // break;
                }
                pCur.close();
            }

            if(phonearray.size()>0)
            {
                for(int i=0; i<phonearray.size();i++)
                {
                    if(emailarray.size()>0)
                    {
                        for(int j=0; j<emailarray.size();j++)
                        {
                            emailAddress=emailarray.get(j);
                            phoneNumber=phonearray.get(i);
                            contactlist.add(displayName+","+phoneNumber+","+ emailAddress);
                        }
                    }
                    else
                    {
                        phoneNumber=phonearray.get(i);
                        contactlist.add(displayName+","+phoneNumber+","+ emailAddress);                 
                    }
                }
            }
            else
            {
                contactlist.add(displayName+","+phoneNumber+","+ emailAddress); 
            }

        }
        cursor.close(); 
        sortList(contactlist);
        itemAdapter.notifyDataSetChanged();
    }

    private static void sortList(List<String> aItems){
        Collections.sort(aItems, String.CASE_INSENSITIVE_ORDER);
      }
} 
```

# javascript - “Javascript：好的部分”中的闭包示例

> ID：11095493
> 
> 赞同：1
> 
> 时间：2012-06-19T06:25:50.287
> 
> 标签：javascript

我正在阅读“Javascript：The Good Parts”一书中的闭包。

以下是使用闭包的示例：

```
var add_the_handlers = function (nodes) {
var i;
   for (i = 0; i < nodes.length; i += 1) {
      nodes[i].onclick = function (i) {
         return function (e) {
            alert(i + ":" + e);
         };
      }(i);
   }
}; 
```

是正确的例子吗？还是会有很多正确的例子？

```
var add_the_handlers = function (nodes) {
var i;
   for (i = 0; i < nodes.length; i += 1) {
      nodes[i].onclick = function (idx) {
         return function (e) {
            alert(idx + ":" + e);
         };
      }(i);
   }
}; 
```

外部函数中的变量 i 和内部函数中的变量 i "nodes[i].onclick = function (i)" - 这是两个不同的变量。第三个函数从第二个函数访问变量，而不是从最外面。
我对么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:28:34.027

是的，示例正确。您作为函数参数看到的`i`变量优先于外部`i`变量，因为它是在本地范围内声明的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-19T06:28:49.800

这两个例子是相同的。闭包的全部意义在于将外部范围的变量 (i) 变成内部范围的变量（i/idx/foo，随你选择）。闭包创建变量的“副本”，以便在进行回调时，它具有正确的值。

```
// outer-scoped i changes on each iteration
var i;

for (i = 0; i < nodes.length; i += 1) {
   nodes[i].onclick = function (i) {

      // here i now refers to a different variable; while the outer i keeps iterating,  
      //this i is preserved at its current value.
      return function (e) {
         alert(i + ":" + e);
      };
   }(i);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T06:28:46.977

从 javascript 的角度来看 - 这两个是相同的。因此，这是品味的问题。如果内部有更多闭包，那么最好使用不同的名称。但是这里的例子很简单——没有必要这样做。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T06:30:22.480

不，您发布的两个示例完全相同。唯一的区别只是函数的参数名称，但这没关系，你可以使用任何东西。

# java - 在 iframe 中发布服务器响应

> ID：11095497
> 
> 赞同：0
> 
> 时间：2012-06-19T06:26:24.793
> 
> 标签：java, javascript, jquery, jsp, iframe

我的意图是在 Iframe 中发布响应，比如说我将从我的服务器发回一个脚本，该脚本应该调用在我的表单中定义的预定义 java-script 方法。

我不知道该怎么做，即使做了一些事情，我也无法找到任何解决方案。我不能使用 Ajax，因为它会为我创建同源策略错误。这是我到目前为止所做的

```
<form:form action="${request.contextPath}/springSecurity/login" method="post" commandName="loginForm" target="ajax_login_pannel_IFrame"> 
```

这是相应的IFrame

```
<iframe width="0" frameborder="0" scrolling="no" name="ajax_login_pannel_IFrame" ></iframe> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T07:18:34.800

这应该做 - [http://jsfiddle.net/Wspbr/1/](http://jsfiddle.net/Wspbr/1/)

```
document.getElementsByTagName('iframe')[0].contentWindow.document.write('response goes here');​ 
```

**编辑：**

```
$.ajax({
    url: 'yourScript.jsp',
    success: function(data) {
        $('iframe')[0].contentWindow.document.write(data);​
    }
}); 
```

# installation - 仅限 iphone 4 和 iphone 4S 安装 iOS 应用程序（Retina 显示屏）

> ID：11095499
> 
> 赞同：0
> 
> 时间：2012-06-19T06:26:38.957
> 
> 标签：installation, iphone-4, uidevice

我正在开发 iOS 应用程序。我希望这个应用程序只能安装在具有 Retina 显示屏的 iPhone 4 和 4S 上（由于应用程序的要求）。

我的计划是在 info.plist 中添加 UIRequiredDeviceCapabilities 并将前置摄像头设置为所需的功能。所以通过这种方式，我的应用程序将只能在 iphone 4 和 4S 上运行。但我的应用程序不使用前置摄像头。

所以我的问题是

1) 是否可以限制应用程序仅安装在 iPhone 4 和 4S 上？2) APPLE 是否允许我的应用程序在 Apple Store 中，因为我的应用程序不使用前置摄像头并且我仍然在 UIRequiredDeviceCapabilities 中提到它？

任何形式的帮助表示赞赏。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:47:00.627

不是 App Store 开发人员，在越狱方面进行修补，但我想说只是在描述中放一个重要的通知。iPad 2 的前置摄像头没有视网膜显示屏。

# curl - 卷曲：如何创建带有 url 参数的 xml 文件

> ID：11095500
> 
> 赞同：1
> 
> 时间：2012-06-19T06:26:41.813
> 
> 标签：curl

我有以下网址。

`curl -v -X POST -d "FROM_AGENT=true&LOGIN_ID=test&PASSWORD=passwd" https://accounts.test.com/login`

我想使用上面的命令隐藏参数下面。

`FROM_AGENT=true&LOGIN_ID=test&PASSWORD=passwd`

我如何创建 xml 文件（使用此参数`FROM_AGENT`，，，`LOGIN_ID`）`PASSWORD`

我浏览并获取以下命令以获取 curl 的 xml 输入。但我不知道如何创建 xml 文件

`curl -v -X POST -d @test.xml https://accounts.test.com/login`

# java - java中使用nio的非阻塞客户端服务器聊天应用程序

> ID：11095507
> 
> 赞同：2
> 
> 时间：2012-06-19T06:27:19.470
> 
> 标签：java, multithreading, networking

我使用 nio 通道构建了一个简单的聊天应用程序。我对网络和线程非常陌生。此应用程序用于与服务器通信（服务器/客户端聊天应用程序）。

我的问题是服务器不支持多个客户端。我该如何解决这个问题？我的代码中有什么错误？

```
public class Clientcore extends Thread
{

    SelectionKey selkey=null;
    Selector sckt_manager=null;
    public void coreClient()
    {
       System.out.println("please enter the text");
       BufferedReader stdin=new BufferedReader(new InputStreamReader(System.in));
       SocketChannel sc = null;
        try
        { sc = SocketChannel.open();
            sc.configureBlocking(false);       
            sc.connect(new InetSocketAddress(8888));  
            int i=0;
           while (!sc.finishConnect())
            {   
            } 
            for(int ii=0;ii>-22;ii++)
            {
                System.out.println("Enter the text");
                String HELLO_REQUEST =stdin.readLine().toString();
                if(HELLO_REQUEST.equalsIgnoreCase("end"))
                {
                    break;
                }
                System.out.println("Sending a request to HelloServer");    
                ByteBuffer buffer = ByteBuffer.wrap(HELLO_REQUEST.getBytes());    
                sc.write(buffer); 
            }   
        } 
        catch (IOException e) 
        {          
            e.printStackTrace();    
        }
        finally
        {       
            if (sc != null)
            {            
                try 
                {             
                    sc.close();            
                }
                catch (Exception e)
                {           
                    e.printStackTrace();       
                }       
            } 
            }   }

     public void run()
     {
      try
      {
        coreClient();
      }
      catch(Exception ej)
      {
         ej.printStackTrace();
      }}}

public class ServerCore extends Thread
{

    SelectionKey selkey=null;
    Selector sckt_manager=null;
      public void run()
     {
        try
        {
            coreServer();
        }
        catch(Exception ej)
        {
            ej.printStackTrace();
        }
     }

    private void coreServer() 
    {
        try
        {
            ServerSocketChannel ssc = ServerSocketChannel.open();
              try
                 {   
                    ssc.socket().bind(new InetSocketAddress(8888));   

                     while (true)
                     { 

                         sckt_manager=SelectorProvider.provider().openSelector();
                         ssc.configureBlocking(false);   
                         SocketChannel sc = ssc.accept();
                         register_server(ssc,SelectionKey.OP_ACCEPT);
                        if (sc == null) 
                         {   
                        } 
                         else
                            { 

                                System.out.println("Received an incoming connection from " + sc.socket().getRemoteSocketAddress()); 
                                printRequest(sc); 
                                System.err.println("testing 1");
                                String HELLO_REPLY = "Sample Display";
                                ByteBuffer buffer = ByteBuffer.wrap(HELLO_REPLY.getBytes());
                                System.err.println("testing 2");
                                sc.write(buffer); 
                                System.err.println("testing 3");
                                sc.close();
                            }}}
              catch (IOException e)
              { 
                   e.printStackTrace(); 
              }
               finally
              { 
                   if (ssc != null) 
                   { 
                    try 
                    { 
                            ssc.close(); 
                    }
                    catch (IOException e) 
                    { 
                            e.printStackTrace(); 
                    }
                   }
               }
        }
        catch(Exception E)
        {
            System.out.println("Ex in servCORE   "+E);
        }    
    }

    private static void printRequest(SocketChannel sc) throws IOException
          {

                ReadableByteChannel rbc = Channels.newChannel(sc.socket().getInputStream()); 
                 WritableByteChannel wbc = Channels.newChannel(System.out); 
                 ByteBuffer b = ByteBuffer.allocate(1024); // read 1024 bytes  
                 while (rbc.read(b) != -1) 
                 {
                    b.flip();
                    while (b.hasRemaining())
                    { 
                         wbc.write(b);
                         System.out.println();
                    }
                    b.clear();
                 }
          }
     public void register_server(ServerSocketChannel ssc,int selectionkey_ops)throws Exception
      {
        ssc.register(sckt_manager,selectionkey_ops);
       }}

public class HelloClient
{

  public void coreClientChat() 
    {
        Clientcore t=new Clientcore();
        new Thread(t).start();
    }

    public static void main(String[] args)throws Exception
    {     
       HelloClient cl= new HelloClient();
       cl.coreClientChat();
    }}
public class HelloServer
    {

          public void coreServerChat()
          {
              ServerCore t=new ServerCore();
              new Thread(t).start();
          }

          public static void main(String[] args)
          {    
             HelloServer st= new HelloServer();
             st.coreServerChat();

          }} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-21T03:35:14.737

初学者的理想场所 [Hello NIO Server](http://www.java2s.com/Tutorial/Java/0320__Network/NewIOHelloServer.htm)

# android - ExpandableList：保持列表展开 onContentChanged()

> ID：11095512
> 
> 赞同：0
> 
> 时间：2012-06-19T06:27:42.433
> 
> 标签：android, expandablelistview, expandablelistadapter

我使用`onContentChanged()`in an`ExpandableList`来更新`View`. 无论如何，我可以保持`GroupViews`用户已经扩展以保持扩展？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:14:44.800

这是我的做法：

*   在`onGroupExpand()`和`onGroupCollapse()`我跟踪哪些组被扩展。

*   当内容发生变化时，我会遍历组并分别调用`collapseGroup()`和`expandGroup()`。

*   请注意，这`expandGroup()`将导致`onGroupExpand()`并被`collapseGroup()` `onGroupCollapse()`调用。您可能需要一些标志机制来区分用户发起的和内容更改发起的展开/折叠事件。

# ios - Core Data - 如何检查用户是否存在于数据库中？

> ID：11095528
> 
> 赞同：2
> 
> 时间：2012-06-19T06:29:22.983
> 
> 标签：ios, xcode, core-data

因此，我正在尝试为我的应用程序创建一个简单的（如果存在）登录过程，但下面的代码块出现错误。

```
 NSManagedObject *context = _managedObjectContext;

NSFetchRequest *request= [[NSFetchRequest alloc] init];
NSEntityDescription *entity = [NSEntityDescription entityForName:@"Account"   inManagedObjectContext:context];
NSPredicate *predicate =[NSPredicate predicateWithFormat:@"username==%@",self.textFieldUsername.text];
[request setEntity:entity];
[request setPredicate:predicate];

NSError *error = nil;

// Below line is giving me error

NSArray *array = [managedObjectContext executeFetchRequest:request error:&error];
if (array != nil) {
    NSUInteger count = [array count]; // may be 0 if the object has been deleted.
    NSLog(@"Username may exist, %@",count);
}

else {
    NSLog(@"Username does not exist.");
} 
```

`

上面的代码现在在用户单击登录按钮时运行。

Xcode 给我一个错误： *“NSManagedObject”没有可见的@interface 声明选择器“executeFetchRequest:error”。*

当我阅读上述声明时，它对我来说似乎是*希腊语*。我正在处理的文件的名称是*ViewControllerWelcome.m*，可以在以下[链接](http://pastie.org/4112771)中完整查看。如果重要的话，我正在使用库存样板核心数据代码。

奖励：当我在这里（SO）发布时，如何获得 Objective-c 代码突出显示？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T06:34:11.170

改变：

```
NSManagedObject *context = _managedObjectContext; 
```

到

```
NSManagedObjectContext *context = _managedObjectContext; 
```

和

```
NSArray *array = [managedObjectContext executeFetchRequest:request error:&error]; 
```

应该

```
NSArray *array = [context executeFetchRequest:request error:&error]; 
```

PS如果您希望用户名搜索不区分大小写，请使用“username ==[c] %@”作为谓词...

# php - PHP分页在有限数量的记录上，但不是全部

> ID：11095529
> 
> 赞同：0
> 
> 时间：2012-06-19T06:29:24.030
> 
> 标签：php, mysql

我只需要从表中选择 20 条记录，然后添加分页以每页显示 5 条记录。我知道在分页中使用了 LIMIT，但首先我需要获取 20 条记录，然后将分页添加到这 20 条记录中

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:33:19.670

您可以一次选择20条记录，然后使用[array_slice](http://jp.php.net/manual/en/function.array-slice.php)进行分页。

***编辑：*** 为什么有 2 个限制？限制应该是：

```
1st page: LIMIT 0, 5
2nd page: LIMIT 5, 5
3rd page: LIMIT 10, 5
4th page: LIMIT 15, 5 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:40:37.220

我会给你一个关于如何去做的基本想法。

1）找出你的表中有很多行（简单 -

```
SELECT COUNT(*) 
In your case it is 20. 
```

2) 根据每页要显示的行数，找出要显示的页面数。

```
 intPages = ceil(intTotalRecords / 8 ) 
```

所以所有的浮点数都将被 ceil()ed 表示如果这个除法产生值 9.5，那么 10 将被视为页数。

3) 找出您所在的当前页面。4）找出要发送到您的查询的限制和偏移量（取决于页码）。以下几行内容。

```
intLimit = 8;
intOffset = (intCurrentPage - 1) * intRowsPerPage; 
```

5) 拉出当前页面的行
6) 显示信息。（分页链接也通过循环它们）

您需要检查上一页/下一页是否超过 1 或您拥有的最大页数并`intCurrentPage`相应地设置值。

**更新**：从您的表中获取最后 20 个记录块。

```
SELECT <column_names> FROM <table_name>
<optional_where_clause_goes_here>
ORDER BY <primary_autoincrement_id_field> DESC
LIMIT 20; 
```

或者

```
SELECT <column_names> FROM <table_name>
WHERE <certain_conditions_here> 
and <primary_autoincrement_id_field> >= (select max(<primary_autoincrement_id_field>) from <table_name>) - 20 
```

我发布的上述每个查询都有一个依赖项，该字段`<primary_autoincrement_id_field>`应该是 auto_increment。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T06:33:57.303

使用两个查询。一个获取记录的总数（它将只返回一行，包含计数）。之后使用 LIMIT 选择分页。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T06:45:54.163

首先从您的表中获取总数并调用此函数 pagination 它将返回一个数组

```
 $array = pagination(200000); 
```

你可以像这样写查询

```
 $query = "SELECT * FROM your_table ".$array['querylimit']; 
```

您也可以使用其他数组 indexex 进行分页。

```
function pagination($totalRows, $perPage = 20){
        $page = (isset($_POST['pagination']['page'])) ? intval($_POST['pagination']['page']) : 0;

        $perPage = intval($perPage);

        if($perPage == 0){
            $perPage = 20;
        }

        if(intval($page) < 0){
            $page = 1;
        }

        if (ceil($totalRows / $perPage) < intval($page)){
            $page = ceil($totalRows / $perPage);
        }

        if (!$page){
            $page = 1;
        }
        $prev = $page - 1;
        $next = $page + 1;

        if(intval($prev) < 0){
            $prev = 1;
        }

        $min = (($page - 1) * $perPage);

        if(ceil($totalRows / $perPage) < $next){
            $next = 0;
        }

        $end = $min+$perPage;
        if($end > $totalRows){
            $end = $totalRows;
        }
        $start = $min+1;
        $return['showing'] = "$start-$end of $totalRows";
        $return['querylimit'] = " LIMIT $min, $perPage";
        $return['next'] = $next;
        $return['prev'] = $prev;
        return $return;
    } 
```

# objective-c - 如何让iphone静音

> ID：11095531
> 
> 赞同：0
> 
> 时间：2012-06-19T06:29:33.323
> 
> 标签：objective-c

我想知道我们如何以编程方式调整 iPhone 的音量。我正在开发一个应用程序，在该应用程序中我需要以编程方式调整 iphone 的音量

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:38:56.737

如果不越狱您的设备，您将无法从沙盒应用程序中调整系统音量。您可以控制的唯一音量（从系统音量栏）是在您的应用程序内播放媒体时。

## 越狱解决方案

```
// System Volume
AVSystemController *avsc = SharedAVSystemController;
[avsc setVolumeTo:sliderValue forCategory:@"UserInterfaceSoundEffects"];

// Ringtone Volume
AVSystemController *avsc = SharedAVSystemController;
[avsc setVolumeTo:sliderValue forCategory:@"Ringtone"]; 
```

## 用法

```
-(void)systemVolumeChange:(id)sender
{
    UISlider *slider = (UISlider *)sender;
    float sliderValue = (float)slider.value;

    AVSystemController *avsc = SharedAVSystemController;
    [avsc setVolumeTo:sliderValue forCategory:@"UserInterfaceSoundEffects"];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:39:11.290

到目前为止，还没有办法以编程方式使 iPhone 静音。iPhone 只能使用上方的音量控制来静音。

# python - Python：删除字符串中每个单词的第一个字符

> ID：11095542
> 
> 赞同：2
> 
> 时间：2012-06-19T06:30:32.590
> 
> 标签：python, python-2.7

我试图弄清楚如何删除字符串中单词的第一个字符。

我的程序读入一个字符串。

假设输入是：

> 这是演示

我的意图是删除字符串中每个单词的第一个字符，即 `tid`留下`his s emo`.

我试过了

1.  使用 a`for loop`并遍历字符串
2.  使用检查字符串中的**空格**`isspace() function.`
3.  存储空格后遇到的字母的索引，`i = char + 1,` 其中 char 是空格的索引。
4.  然后，尝试使用删除空白空间`str_replaced = str[i:].`

但它删除了除最后一个之外的整个字符串。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-19T18:01:29.763

列表推导是你的朋友。这是最基本的版本，只有一行

```
str = "this is demo";
print " ".join([x[1:] for x in str.split(" ")]);

output:   
his s emo 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-19T06:39:48.423

如果输入字符串不仅可以包含空格，还可以包含换行符或制表符，我会使用[regex](http://docs.python.org/library/re.html)。

```
In [1]: inp = '''Suppose we have a
   ...: multiline input...'''

In [2]: import re

In [3]: print re.sub(r'(?<=\b)\w', '', inp)
uppose e ave 
ultiline nput... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T17:53:03.547

尝试（python 3.2）

```
import os

s = '''this is a test of the... What? What is going on now?
You guys are cu-rayzy!
Morons!'''

new_lines = []
lines=s.strip().split("\n")
for line in lines:
    new_words = []
    for word in line.strip().split(" "):
        new_words.append(word[1:])
    new_lines.append(' '.join(new_words))
new_statement = "\n".join(new_lines)

print (s)

print (new_statement) 
```

这会处理新行，但不保留空格，并从每行的开头和结尾去除空格。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-11T05:20:28.990

您可以简单地使用 python 理解

```
str = 'this is demo'
mstr = ' '.join([s[1:] for s in str.split(' ')]) 
```

那么`mstr`变量将包含这些值`'his s emo'`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-09-24T19:11:30.160

这个方法有点长，但是很容易理解。flag 变量存储字符是否为空格。如果是，则必须删除下一个字母

```
s = "alpha beta charlie"
t = ""
flag = 0
for x in range(1,len(s)):
    if(flag==0):
         t+=s[x]
    else:
        flag = 0
    if(s[x]==" "):
        flag = 1
print(t)

output
lpha eta harlie 
```

# javascript - 从链接中删除灯箱行为

> ID：11095543
> 
> 赞同：2
> 
> 时间：2012-06-19T06:30:39.333
> 
> 标签：javascript, jquery, lightbox

我有一个图片库页面，其中每个图片都可以用多个标签“标记”。每个标签按钮都显示在标签栏上。默认情况下会显示所有图像，但是当单击单个标签按钮时，只会显示带有该标签的图像。

我正在使用 jQuery lightBox 插件来显示更大版本的图像，我想在灯箱中查看所有选定的图像（通过单击上一个/下一个链接）。

```
$(document).ready
(
    function()
    {
        // this works ok
        $('#gallery div a').lightBox();
    }
); 
```

在我过滤图像之前，一切都很好。默认情况下，所有图像都在灯箱中可用（我希望灯箱只有那些过滤后的图像）。

我什至尝试在过滤事件上这样做：

```
$('#gallery div.' + tag + ' a').lightBox(); 
```

其中“tag”是一个字符串，仅包含活动标签，通过该标签过滤图库中的图像。这有点阴暗，因为灯箱仅正确显示过滤后的图像，但它有一些奇怪的行为：

*   为下一张图片调整框的大小时，动画有点混乱
*   图像计数器显示第一个状态结果（例如 25 个中的 7 个），然后显示过滤后的结果（例如 9 个中的 7 个）

我的实际问题是：

*   一旦在链接上设置了灯箱行为，有没有办法删除它？
*   是否有灯箱的替代品，只是为了能够轻松“拔掉”它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T12:55:42.643

这将禁用灯箱行为（因为它似乎只是一个单击事件处理程序）：

```
$('#gallery div a').unbind('click'); 
```

然后，以下工作就像一个魅力：

```
$('#gallery div.' + tag + ' a').lightBox(); 
```

# php - 为什么我的上传表单不能使用 php 上传超过 2.1mb 的文件？

> ID：11095544
> 
> 赞同：0
> 
> 时间：2012-06-19T06:30:40.397
> 
> 标签：php, forms, upload

我正在使用一个运行良好的上传脚本：

```
ini_set('memory_limit', '256M');

function uploadImage($files_name, $files_tmp_name, $files_error, $files_type, $uploaded_photos_array, $image_type, $replace_position='69') { //Checks if the file uploaded correctly, saves the folder name to the DB, and calls the resizeAndPlaceFile 3 times     
    global $address;

    //If the directory doesn't exist, create it
    if (!is_dir('../images/uploads/temp/'.$address)) {
        mkdir('../images/uploads/temp/'.$address);
    }

    $myFile_original = $files_name; //Store the filename into a variable

    //Change the filename so it is unique and doesn't contain any spaces and is all lowercase
    $myFile = str_replace(' ', '_', $myFile_original); //change all spaces to underscores within a file name
    $myFile = strtolower($myFile); //Make all characters lowercase
    //$anyNum = rand(20,500789000); //Generate a random number between 20 and 500789000  
    //$newFileName = $anyNum.'_'.$myFile; //Combine the random number with the filename to create a unique filename
    $newFileName = $myFile;

    $info = pathinfo($newFileName); //Finds the extension of the filename
    $directory_name =  basename($newFileName,'.'.$info['extension']); //Removes the extension from the filename to use as the name of the directory

    $folder = '../images/uploads/temp/'.$address.'/'.$directory_name.'/'; //Folder to upload to

    //If the directory doesn't exist, create it
    if (!is_dir($folder)) {
        mkdir($folder);
    }

    //===Check if the File already exists======== 
    if (file_exists($folder.'large.jpg')) {
        echo $myFile_original." already exists.";
    } //******If file already exists in your Folder, It will return zero and Will not take any action===

    else { //======Otherwise File will be stored in your given directory and Will store its name in Database===

        //copy($_FILES['fileField']['tmp_name'],$folder.$newFileName); //===Copy File Into your given Directory,copy(Source,Destination)

        // Check if file was uploaded ok
        if(!is_uploaded_file($files_tmp_name) || $files_error !== UPLOAD_ERR_OK) {
            exit('There was a problem uploading the file. Please try again.');
        } else {
            /*
            $sql = 'INSERT into tblfileupload SET
                                file_name = "'.$folder.'"'; 
                        $result = $conn->query($sql) or die($conn->error);

                        if($result > 0) { //====$res will be greater than 0 only when File is uploaded Successfully====:)
                            echo 'You have Successfully Uploaded File';
                        }
            */

            if(!function_exists('resizeAndPlaceFile')){
                function resizeAndPlaceFile($image_size, $files_tmp_name, $files_type, $folder) { //Resizes the uploaded file into different sizes

                    //echo '<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />The resizeAndPlaceFile function is being called!';

                    // Create image from file
                    switch(strtolower($files_type)) {
                        case 'image/jpeg':
                            $image = imagecreatefromjpeg($files_tmp_name);
                            break;
                        case 'image/png':
                            $image = imagecreatefrompng($files_tmp_name);
                            break;
                        case 'image/gif':
                            $image = imagecreatefromgif($files_tmp_name);
                            break;
                        default:
                            exit('Unsupported type: '.$files_type);
                    }

                    // Get current dimensions
                    $old_width  = imagesx($image);
                    $old_height = imagesy($image);

                    // Target dimensions for large version
                    switch($image_size) {
                        case 'large':
                            $max_width = '600'; //Large Photo (Listing Page)
                            break;
                        case 'medium':
                            $max_width = '157'; //Medium Photo (Dashboard)
                            break;
                        case 'thumbnail':
                            $max_width = '79'; //Small Photo (Listing Page - Thumbnail)
                            break;
                    }

                    if($max_width > $old_width) {
                        $max_width = $old_width;
                    }

                    $max_height = ($old_height/$old_width)* $max_width;

                    // Get current dimensions
                    $old_width  = imagesx($image);
                    $old_height = imagesy($image);

                    // Calculate the scaling we need to do to fit the image inside our frame
                    $scale = min($max_width/$old_width, $max_height/$old_height);

                    // Get the new dimensions
                    $new_width  = ceil($scale*$old_width);
                    $new_height = ceil($scale*$old_height);

                    // Create new empty image
                    $new = imagecreatetruecolor($new_width, $new_height);

                    // Resize old image into new
                    imagecopyresampled($new, $image, 0, 0, 0, 0, $new_width, $new_height, $old_width, $old_height);

                    //Output the image to a file
                    imagejpeg($new, $folder.$image_size.'.jpg',100);

                    // Destroy resources
                    imagedestroy($image);
                    imagedestroy($new);

                } //end function resizeAndPlaceFile
            } //end if !function_exists['resizeAndPlaceFile']
            resizeAndPlaceFile('large',$files_tmp_name, $files_type, $folder); //Large Photo (List Page)
            resizeAndPlaceFile('medium',$files_tmp_name, $files_type, $folder); //Medium Photo (Dashboard)
            resizeAndPlaceFile('thumbnail',$files_tmp_name, $files_type, $folder); //Small Photo (List Page - Thumbnail)

            if($image_type == 'replace') { //If this is being run for a replace, then replace one of the values instead of adding it to the end of the array
                $uploaded_photos_array[$replace_position] = $folder; //This replaces the value of the old image with the new image
            } else if($image_type == 'initial') { //otherwise, add it to the end of the array
                array_push($uploaded_photos_array,$folder);
            }

            return $uploaded_photos_array;
        } //end else         
    } //end else
} //end function uploadImage 
```

当我尝试上传任何超过 2.1mb 的文件时，它不会上传文件，也不会显示任何错误，所以我不知道为什么它不起作用。为什么我的上传表单不能使用 php 上传超过 2.1mb 的文件？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T06:33:53.370

检查并更改以下 php.ini 说明：

```
memory_limit = 32M
upload_max_filesize = 10M
post_max_size = 20M 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:32:50.500

在您的 php.ini 中更新这些参数

```
upload_max_filesize
post_max_size 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T06:42:44.660

您无法从 php 脚本更改最大文件上传大小。您应该将 php.ini 文件更改为 upload_max_filesize = 30M post_max_size = 30M

一些主机不允许更改 php.ini（在共享主机的情况下），因为您应该使用 .htaccess 并使用以下 php_value upload_max_filesize 30M

# javascript - javascript类型错误

> ID：11095545
> 
> 赞同：-1
> 
> 时间：2012-06-19T06:30:46.367
> 
> 标签：javascript, asp.net

我使用以下 javascript 我在
**var cbPOC = row.cells(row.cells.length - 2).getElementsByTagName('input')[0];** .error is **TypeError: Property 'cells' of object # is not a function**

```
function sss(tableName)
{
var table = getServerObject(tableName);
var cell,row; 
for (var i = 2; i < table.rows.length - 1; i++)
{
    row = table.rows[i];

    var cbPOC = row.cells(row.cells.length - 2).getElementsByTagName('input')[0];
    if (cbPOC.checked) continue;
    {
     //Something
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:35:13.683

`row.cells(row.cells.length - 2)`应该`row.cells[row.cells.length - 2]`

尝试。

# objective-c - ipad 录屏

> ID：11095553
> 
> 赞同：3
> 
> 时间：2012-06-19T06:31:19.877
> 
> 标签：objective-c, ipad, ios5, avassetwriter

我面临着过去两周的问题。实际上我正在开发一个 iPad 应用程序。我想在其中进行注释并对该注释进行屏幕录制。注释部分工作正常，但是当我开始录制时它会出现问题。问题是它失去了平滑度并在屏幕录制过程中出现滞后。对于屏幕录制，我使用的是 AVAsset Writer。代码对于注释和屏幕录制都很好......但我不知道问题出在哪里？

**我的屏幕截图大小是 (1050,650)**

我应该使用 Grand Central Dispatch 来解决这个问题吗？？？谁能帮我解决我的问题.....

请帮助我....

**我的代码**

```
// For Annotation

        - (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event 
   {
       mouseSwiped = NO;
    UITouch *touch = [touches anyObject];

    if ([touch tapCount] == 2) 
    {
        drawImage.image = nil;  //Double click to undo drawing.
        return;
    }

    lastPoint = [touch locationInView:self.view];
    lastPoint.y -= 20;

    }
    - (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event 
    {

    mouseSwiped = YES;
    UITouch *touch = [touches anyObject];
    CGPoint currentPoint = [touch locationInView:self.view];
    currentPoint.y -= 20;
//    UIGraphicsBeginImageContext(canvasView.frame.size);
UIGraphicsBeginImageContext(drawImage.frame.size);
    [drawImage.image drawInRect:CGRectMake(0, 0, drawImage.frame.size.width,drawImage.frame.size.height)];
    CGContextSetLineCap(UIGraphicsGetCurrentContext(), kCGLineCapRound);
    CGContextSetLineWidth(UIGraphicsGetCurrentContext(), 10.0);
    CGContextSetRGBStrokeColor(UIGraphicsGetCurrentContext(), 1.0, 0.0, 0.0, 1.0);
    CGContextBeginPath(UIGraphicsGetCurrentContext());
    CGContextMoveToPoint(UIGraphicsGetCurrentContext(), lastPoint.x, lastPoint.y);
    CGContextAddLineToPoint(UIGraphicsGetCurrentContext(), currentPoint.x, currentPoint.y);
    CGContextStrokePath(UIGraphicsGetCurrentContext());
    drawImage.image = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();

    lastPoint = currentPoint;

    }
    - (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event 
    {

    UITouch *touch = [touches anyObject];
    if ([touch tapCount] == 2) 
    {
        drawImage.image = nil;
        return;
    }

    if(!mouseSwiped) 
    {
        UIGraphicsBeginImageContext(drawImage.frame.size);
        [drawImage.image drawInRect:CGRectMake(0, 0, drawImage.frame.size.width,drawImage.frame.size.height)];
        CGContextSetLineCap(UIGraphicsGetCurrentContext(), kCGLineCapRound);
        CGContextSetLineWidth(UIGraphicsGetCurrentContext(), 5.0);
        CGContextSetRGBStrokeColor(UIGraphicsGetCurrentContext(), 1.0, 0.0, 0.0, 1.0);
        CGContextMoveToPoint(UIGraphicsGetCurrentContext(), lastPoint.x, lastPoint.y);
        CGContextAddLineToPoint(UIGraphicsGetCurrentContext(), lastPoint.x, lastPoint.y);
        CGContextStrokePath(UIGraphicsGetCurrentContext());
        CGContextFlush(UIGraphicsGetCurrentContext());
        drawImage.image = UIGraphicsGetImageFromCurrentImageContext();
        UIGraphicsEndImageContext();
    }

   }

    //For Screen Recording

    #define FRAME_WIDTH 1024            
    #define FRAME_HEIGHT 650
    #define TIME_SCALE 600

    - (UIImage*)screenshot
   {

    UIGraphicsBeginImageContext(drawImage.frame.size);
[self.view.layer renderInContext:UIGraphicsGetCurrentContext()];
UIImage *viewImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();
    return viewImage;
   }

    -(NSURL*) pathToDocumentsDirectory {

NSString* outputPath = [[NSString alloc] initWithFormat:@"%@/%@", [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0], @"output.mov"];
outputURL = [[NSURL alloc] initFileURLWithPath:outputPath];
NSFileManager* fileManager = [NSFileManager defaultManager];
if ([fileManager fileExistsAtPath:outputPath]) {
    NSError* error;
    if ([fileManager removeItemAtPath:outputPath error:&error] == NO) {
        NSLog(@"Could not delete old recording file at path:  %@", outputPath);
    }
}

[outputPath release];
return [outputURL autorelease];

   }

   -(void) writeSample: (NSTimer*) _timer 
   {

   if (assetWriterInput.readyForMoreMediaData) {
    // CMSampleBufferRef sample = nil;

    CVReturn cvErr = kCVReturnSuccess;

    // get screenshot image!
    CGImageRef image = (CGImageRef) [[self screenshot] CGImage];
    NSLog (@"made screenshot");

    // prepare the pixel buffer
    CVPixelBufferRef pixelBuffer = NULL;
    CFDataRef imageData= CGDataProviderCopyData(CGImageGetDataProvider(image));
    NSLog (@"copied image data");
    cvErr = CVPixelBufferCreateWithBytes(kCFAllocatorDefault,
                                         FRAME_WIDTH,
                                         FRAME_HEIGHT,
                                         kCVPixelFormatType_32BGRA,
                                         (void*)CFDataGetBytePtr(imageData),
                                         CGImageGetBytesPerRow(image),
                                         NULL,
                                         NULL,
                                         NULL,
                                         &pixelBuffer);
    NSLog (@"CVPixelBufferCreateWithBytes returned %d", cvErr);

    // calculate the time
    CFAbsoluteTime thisFrameWallClockTime = CFAbsoluteTimeGetCurrent();
    CFTimeInterval elapsedTime = thisFrameWallClockTime - firstFrameWallClockTime;
    NSLog (@"elapsedTime: %f", elapsedTime);
    CMTime presentationTime =  CMTimeMake (elapsedTime * TIME_SCALE, TIME_SCALE);

    // write the sample
    BOOL appended = [assetWriterPixelBufferAdaptor appendPixelBuffer:pixelBuffer withPresentationTime:presentationTime];

    if (appended) {
        NSLog (@"appended sample at time %lf", CMTimeGetSeconds(presentationTime));
    } else {
        NSLog (@"failed to append");
        [self stopRecording];

    }
}

   }

    -(void) startRecording {

movieURL = [self pathToDocumentsDirectory];
NSLog(@"path=%@",movieURL);
movieError = nil;
[assetWriter release];

assetWriter = [[AVAssetWriter alloc] initWithURL:movieURL 
                                        fileType: AVFileTypeQuickTimeMovie 
                                           error: &movieError];

[self writer];

// start writing samples to it

NSDate* start = [NSDate date];
frameRate=40.0f;                                                                                                                                                         
float processingSeconds = [[NSDate date] timeIntervalSinceDate:start];
delayRemaining = (1.0 / self.frameRate) - processingSeconds;
[assetWriterTimer release];

assetWriterTimer = [NSTimer scheduledTimerWithTimeInterval:delayRemaining > 0.0 ? delayRemaining : 0.01
                                                    target:self
                                                  selector:@selector (writeSample:)
                                                  userInfo:nil
                                                   repeats:YES] ;

    }

   -(void)writer
   {

NSDictionary *assetWriterInputSettings = [NSDictionary dictionaryWithObjectsAndKeys:
                                          AVVideoCodecH264, AVVideoCodecKey,
                                          [NSNumber numberWithInt:FRAME_WIDTH], AVVideoWidthKey,
                                          [NSNumber numberWithInt:FRAME_HEIGHT], AVVideoHeightKey,
                                          nil];

assetWriterInput = [AVAssetWriterInput assetWriterInputWithMediaType: AVMediaTypeVideo
                                                      outputSettings:assetWriterInputSettings];
assetWriterInput.expectsMediaDataInRealTime = YES;
[assetWriter addInput:assetWriterInput];

[assetWriterPixelBufferAdaptor release];
assetWriterPixelBufferAdaptor = [[AVAssetWriterInputPixelBufferAdaptor  alloc]
                                 initWithAssetWriterInput:assetWriterInput
                                 sourcePixelBufferAttributes:nil];
[assetWriter startWriting];

firstFrameWallClockTime = CFAbsoluteTimeGetCurrent();
[assetWriter startSessionAtSourceTime: CMTimeMake(0, TIME_SCALE)];

   }

   -(void) stopRecording {

[assetWriterTimer invalidate];
assetWriterTimer = nil;

[assetWriter finishWriting];
NSLog (@"finished writing");

   } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T17:46:26.693

最简单的方法是尝试降低帧速率。

# javascript - javascript号码验证功能

> ID：11095554
> 
> 赞同：0
> 
> 时间：2012-06-19T06:31:21.170
> 
> 标签：javascript, jquery, validation

我需要一个能够检查**数字**和**-**的javascript函数。

示例：1,2,3,4,5,6,7,8,9,0 将返回 true 并且 - 也将返回 true。

除此之外，所有返回 false 包括按回车键。

我有这样的功能：

```
function IsNumeric(sText){
    var filter = /^[0-9-+]+$/;
    if (filter.test(sText)) {
        return true;
    }else {
        return false;
    }
} 
```

我这样称呼它：

```
if(!IsNumeric(value)) {
  alert("Number and - only please");
} 
```

由于某种原因它不起作用，有什么方法可以在不使用正则表达式的情况下进行验证？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:39:00.497

**编辑：**好的，根据您的评论更新，匹配一个单独的减号*或*任何没有减号的数字组合的表达式：

```
function IsNumeric(sText){
   return /^(-|\d+)$/.test(sText);
} 
```

如果您只想要正数并且不想允许前导零，请使用此正则表达式：

```
/^(-|[1-9]\d*)$/ 
```

关于您的问题“任何方法可以在不使用正则表达式的情况下进行验证？”，是的，通过 JS 提供的各种字符串和数字操作函数，有无数种方法可以实现这一点。但是正则表达式是最简单的。

`true`如果提供的值包含数字和加号或减号的任意组合，您的函数将返回，包括诸如 in 之类的重复`"---+++123"`。请注意，`+`正则表达式末尾的意思是匹配前面的字符 1 次或多次。

~~您可能想要的是一个正则表达式，它允许在开头使用单个加号或减号，后跟任意数字组合：~~

 ~~```
function IsNumeric(sText){
   return /^[-+]?\d+$/.test(sText);
} 
```~~ 

`?`表示匹配前面的字符 0 或 1 次。您可以简化`[0-9]`为`\d`. 请注意，您不需要该`if`语句：只需`.test()`直接返回结果即可。

这将接受“-123”、“123”、“+123”，但不接受“--123”。如果您不想在开头允许加号，请将正则表达式更改为`/^-?\d+$/`.

> *“示例：1,2,3,4,5,6,7,8,9,0 将返回 true，并且 - 也将返回 true。”*

你的例子似乎是说只有一个数字或一个减号被认为是有效的 - 如果是这样，那么试试这个：

```
function IsNumeric(sText){
   return /^[\d-]$/.test(sText);
} 
```

 ~~* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:46:00.230

怎么样

```
function IsNumeric(s) {
    return /^(+|-|)\d*$/.test(s);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-19T07:03:22.107

Hiphen(-) 具有特殊含义，因此在字符集中使用转义字符。

试试这个：

```
 var filter = /^[0-9\-]+$/; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T06:34:56.307

可以很简单......试试这个：

```
function IsNumeric(str) {
    return str.length == 1 && (parseInt(str) < 10 || str == "-");
} 
```~~

# perl - 如何比较perl中的字符串？

> ID：11095556
> 
> 赞同：1
> 
> 时间：2012-06-19T06:31:37.447
> 
> 标签：perl, selenium-rc

```
use strict;
use warnings;
use Time::HiRes qw(sleep);
use Test::WWW::Selenium;
use Test::More "no_plan";
use Test::Exception;
use Text::Table; 
our ($a,$critical);

print "Enter text:";
$a = <>;
print "Enter critical value:";
$critical = <>;
print $a;
print $critical;
|
|
|
|
|
$sel->click_ok("//div[\@class='x-combo-list-inner']/div[8]");
my $v7 = $sel->get_text("//div[\@class='x-combo-list-inner']/div[8]");
print($v7 . "\n");
print($critical . "\n");
if ($critical eq $v7)
{
perform operations
}
else
{
don't perform operation
} 
```

我从 cmd i 输入的关键`'Last 45 Days'` 值和从 div[8] 检索到的值以及上述代码中存储在 v7 中的值也是相同的`('Last 45 Days')`。但是当它遇到 if 循环时，它不执行操作。还有其他方法可以比较这些字符串吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:35:20.060

您可能在 $critical 上附加了一个换行符。尝试使用 chomp($critical); 删除它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T08:28:47.463

正如 Kludas 所说，您很可能在`$critical`. 您当然没有显示删除它的代码，并且返回的字符串`get_text`不太可能以换行符结尾。

我建议您使用[`Data::Dump`](https://metacpan.org/module/Data%3a%3aDump)（注意*NOT* `Data::Dumper`）来显示您的字符串。安装模块后，只需

```
use Data::Dump;

dd $critical;
dd $v7; 
```

并且任何不可打印的内容都将显示为适当的可见转义码。

# c# - 需要一些建议来尝试模拟 .NET WebClient 或等效项

> ID：11095557
> 
> 赞同：21
> 
> 时间：2012-06-19T06:31:37.347
> 
> 标签：c#, .net, mocking, moq, webclient

我有一些下载一些 RSS 提要的代码。

我一直在使用`WebClient`或`Argotic.Syndication.RssFeed`图书馆。

**但这些不是可嘲笑的:(**

我绝对不想每次运行单元测试时都点击真正的 RSS 提要。

有人对我能做什么有任何建议吗？

我需要创建一个邪恶的包装器吗？如果是这样..对此有何建议？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-06-19T06:37:41.870

> 有人对我能做什么有任何建议吗？

抽象接口背后的实际 HTTP 调用。然后使用 WebClient 编写此接口的实现。现在让您的主类将此接口作为依赖项。您现在可以在单元测试中模拟此接口并配置您的依赖注入框架在运行时注入正确的实现。

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-06-19T06:38:01.463

我会为每个外部依赖项创建一个包装器（如果可行的话）。因此，与文件系统/Web 服务/数据库的每次交互都应仅通过接口完成，这将产生更多可测试的代码。

当然，另一种解决方案是（一如既往）[Typemock Isolator](http://www.typemock.com/isolator-product-page)。

# objective-c - 我的 UITableView 总是回到顶部

> ID：11095559
> 
> 赞同：2
> 
> 时间：2012-06-19T06:31:45.727
> 
> 标签：objective-c, ios, uitableview, uiscrollview, scroll

当我让 UITableView 向下滚动并释放它时，它会自动返回到第一个单元格。我应该怎么办 ？我只以编程方式创建它：

```
table = [[UITableView alloc] initWithFrame:CGRectMake(0, 0, 320, 900) style:UITableViewStylePlain];
[table setScrollEnabled:YES];
[table setScrollsToTop:NO];
[table setContentSize:CGSizeMake(320, 900)]; 
```

请帮忙 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:59:06.813

删除代码行

```
[table setContentSize:CGSizeMake(320, 900)]; 
```

从您的代码中，它正在发生。谢谢你。

# csv - 自动从网站下载 csv 文件并添加到数据库

> ID：11095566
> 
> 赞同：0
> 
> 时间：2012-06-19T06:32:22.423
> 
> 标签：csv

我想编写一个程序，自动下载网页上的所有 csv 文件，然后将这些 csv 文件中的数据输入 SQL Server。我已经编写了宏来将数据从 csv 输入到 SQL 服务器。我只是想让你们帮助我每天自动从网站下载文件。它类似于网络抓取吗？我是网络编程新手。所以请指导我通过哪些语言来做到这一点

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:43:24.833

使用 PowerShell 非常简单：

```
$web = New-Object System.Net.WebClient
$web.Downloadstring("http://<your url here>") | out-file $env:tmp\MyFile.csv 
```

然后使用

> 导入-CSV

和[SQLServer PowerShell 提供程序](http://msdn.microsoft.com/en-us/library/cc281947.aspx)将您的数据注入 SQLServer。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:37:00.407

我像往常一样推荐[Python](http://python.org/)。

在弄清楚如何使用它之后，以下是我将使用的模块：

*   [`csv`](http://docs.python.org/library/csv.html)- 用于解析 CSV 文件。
*   [`urllib2`](http://docs.python.org/library/urllib2.html)- 用于下载文件。
*   [SQLAlchemy](http://www.sqlalchemy.org/)用于数据库操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-01-11T06:51:53.047

我还推荐使用 PowerShell 的方式来完成这项工作。

1.  像@David Brabant 说的那样，通过 WebClient 从 Web 下载数据
2.  然后使用 Import-Csv 逐行获取数据`Import-Csv -Path file.csv`
3.  最后，利用脚本中的 SQL Server PowerShell 模块将数据上传到 SQL Server`Invoke-Sqlcmd -Query '<sql statements>'`

这里有一个完整的示例脚本供您下载和学习。[如何使用 SQL Server PowerShell 模块从 CSV 文件导入数据](https://gallery.technet.microsoft.com/How-to-use-SQL-Server-0e32b08d)

# ubuntu - 使用 unix 命令重命名图像的名称

> ID：11095573
> 
> 赞同：0
> 
> 时间：2012-06-19T06:33:04.463
> 
> 标签：ubuntu, command-line

我有很多图像（.png）文件。现在我想重命名图像。图像名称是这样的

```
finalnfootok1.png
finalnodiabooks15.png
finalnpluggd17.png 
```

现在我想从快速中删除字母“finaln”和最后一个图像中的数字。我如何使用 ubuntu 命令重命名图像名称。

有没有办法在 ubuntu 的命令行中使用正则表达式重命名图像。我尝试使用重命名命令，但我不擅长使用 for 循环以及如何从图像中剪切字母。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:43:33.723

一次性，您可以使用“sed”去除文件名：

```
for f in finaln*
do
    mv $f `echo $f | sed -e 's/finaln//g' -e 's/[0-9]*.png/.png/g'`
done 
```

反引号 (`) 执行附带的命令 `echo filename | sed...` 第一个 sed 表达式替换`finaln`为空。第二个 sed 表达式将“.png”之前的数字替换为空。您可能可以将它们组合成一个 sed，但作为 2 个表达式更容易理解。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:49:50.807

```
ls | grep finaln | awk '{print $1,$1}' | sed s/finaln// | awk '{print $2,$1}' | xargs -n 2 mv 
```

# android - 更改搜索栏上的媒体播放器音量

> ID：11095576
> 
> 赞同：0
> 
> 时间：2012-06-19T06:33:12.610
> 
> 标签：android, media-player, volume, seekbar

我正在开发一个游戏应用程序。但是音量控制有问题。我想使用 seekBar 更改媒体播放器音量，而不是系统媒体音量。是否有任何通过 seekBar 更改媒体播放器音量的解决方案。

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-19T06:52:16.617

首先，从 AudioManager 获取参考；

```
AudioManager audioMan = (AudioManager) getSystemService(Context.AUDIO_SERVICE); 
```

要提高音量：

```
 audioMan.adjustStreamVolume(AudioManager.STREAM_MUSIC, AudioManager.ADJUST_RAISE, AudioManager.FLAG_VIBRATE | AudioManager.FLAG_PLAY_SOUND | AudioManager.FLAG_SHOW_UI); 
```

降低音量：

```
audioMan.adjustStreamVolume(AudioManager.STREAM_MUSIC, AudioManager.ADJUST_LOWER, AudioManager.FLAG_VIBRATE | AudioManager.FLAG_PLAY_SOUND | AudioManager.FLAG_SHOW_UI); 
```

要获得最大音量：

```
int maxVolume = audioMan.getStreamMaxVolume(AudioManager.STREAM_MUSIC); 
```

获取当前音量：

```
int currVolume = audioMan.getStreamVolume(AudioManager.STREAM_MUSIC); 
```

您可以删除我包含的任何标志

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-14T21:21:51.693

可能是这个帮助...

```
protected static void setVolume(int volume) {
        currentVolume = volume;
        {
            if (volume == 1) {
                volume = 2;
            }
            try {
                float vol = ((float) volume / CONSTANT.SYSTEM_MAX_VOLUME);
                mediaPlayer.setVolume(vol, vol);
            } catch (Exception e) {
                e.printStackTrace();
            }
        }

    } 
```

# php - 在数组中找到相同的值组合并添加数量

> ID：11095578
> 
> 赞同：0
> 
> 时间：2012-06-19T06:33:16.207
> 
> 标签：php, arrays, search

我有以下数组：

```
 [2865] => Array
        (
            [product] => 17
            [quantity] => 5
            [option_24] => 51
            [option_28] => 63
            [option_25] => 53
        )

    [2866] => Array
        (
            [product] => 17
            [quantity] => 5
            [option_24] => 51
            [option_28] => 63
            [option_25] => 53
        )

    [2867] => Array
        (
            [product] => 20
            [quantity] => 1
            [option_29] => 65
            [option_30] => 67
            [option_31] => 71
        ) 
```

现在我想添加那些数组具有相同值的数量。对于 eg- 数组`2866`和`2867`具有相同 options_ 值的数组`(51,63,53)`。所以我想添加这个数组的数量。

即`5 + 1 =6`。

# objective-c - 检测滑动比 UISwipeGestureRecognizer 更快？

> ID：11095579
> 
> 赞同：0
> 
> 时间：2012-06-19T06:33:19.173
> 
> 标签：objective-c

我想知道如何比这更快地检测到“滑动”？一旦用户将手指向左移动，我想调用一个方法。**让我们称之为“小”滑动手势。**

这将是正常/长滑动......</p>

```
UISwipeGestureRecognizer *recognizer = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(handleSwipeFrom:)];
recognizer.direction = UISwipeGestureRecognizerDirectionLeft;
[scrollView addGestureRecognizer:recognizer];
[recognizer release];
[scrollView delaysContentTouches]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T19:54:50.510

现在我建立这个：

```
#import "UICustomScrollView.h"

@implementation UICustomScrollView

- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        // do stuff
    }
    return self;
}

// Listen for "fast" swipe
- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {

    UITouch *touch = [touches anyObject];
    CGPoint location = [touch locationInView:self];
    CGPoint prevLocation = [touch previousLocationInView:self];

    if (location.y - prevLocation.y > 0) {
        [[NSNotificationCenter defaultCenter] postNotificationName:@"fastSwipe" object:self];
    }    

    [super touchesMoved:touches withEvent:event];
}

@end 
```

# iphone - 防止 UITableView 调用 numberOfRowsAtIndexPath

> ID：11095583
> 
> 赞同：-2
> 
> 时间：2012-06-19T06:33:36.957
> 
> 标签：iphone, objective-c, ios, ipad

在我的`UITableViewCell`子类中，我有一个`UITableView`，问题是每当我滚动表格视图时，UITableView、numberOfRowsAtIndexPath、cellForRowAtIndexPath 都会一直被调用。除了在滚动时隐藏它之外，如何防止这种情况发生？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:41:44.817

您的 -numberOfRowsAtIndexPath: 不应被调用超过一次或两次。滚动时不应调用它。

另一方面， -cellForRowAtIndexPath: 会在您滚动时经常被调用。每次出现新单元格之前都会调用它。这只是正常行为，如果可以的话，您不会想阻止它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:43:46.460

在 uitableview 委托方法中总是调用。

如果您不想要意味着您无法将数据加载到表格单元格中。

否则，您可以在 inexpath 函数中检查行号和单元格中的行

如果 tableview 不滚动意味着返回计数；并设置单元格内容

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T06:40:06.257

每当您滚动表格时，它都会重新加载其单元格。为了向这些单元格提供数据，它将调用数据源方法。你无法阻止它。首先尝试了解 UITableView 的基本概念。

# shell - Dropbox 和 inotifywait

> ID：11095585
> 
> 赞同：0
> 
> 时间：2012-06-19T06:33:47.190
> 
> 标签：shell, dropbox, inotify

我有以下脚本：

```
#!/bin/sh
while inotifywait -e modify -e create -e delete /home/me/Dropbox/text; do
    touch testscriptworked
done 
```

随着脚本的运行，当我对 Dropbox 中的实际文本目录进行更改时，inotifywait 会选择它。但是，如果我在 iPad 上使用链接到该 Dropbox 文件夹的文本编辑器，inotifywait 永远不会选择它。

我对此很陌生，所以任何事情都会有所帮助。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-14T01:27:46.570

这是因为我看过很多移动应用程序，只是随机观看 inotifywait 冗长的内容，而不是在创建某些内容时触发创建事件。

您要观看的事件是 ATTRIB。

# iphone - UITableView 不会重新加载

> ID：11095587
> 
> 赞同：1
> 
> 时间：2012-06-19T06:33:55.177
> 
> 标签：iphone, objective-c, uitableview

我在更新`UITableView`. 我调用`reloadData`它的方法，但`cellForRowAtIndexPath`没有被调用。代码：

```
//.h
@interface MasterViewController : UIViewController<ELCTextFieldDelegate, UITableViewDelegate, UITableViewDataSource> {
  //some variables
}
@property (nonatomic, retain) IBOutlet UITableView *theTableView;
//other properties

//.m
- (void)viewDidLoad {
  //some code
  [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillShow:) name:UIKeyboardWillShowNotification object:nil];
  [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillHide:) name:UIKeyboardWillHideNotification object:nil];
}

- (void)keyboardWillHide:(NSNotification *)notification {
  self.theTableView.frame = CGRectMake(0, 0, 320, 480 - 64);
  [self.theTableView reloadData];
} 
```

我在 xib 中连接了`theTableView`with ，我还设置了它的和to 。`UITableView``delegate``dataSource``File's Owner`

我使用`ELCTextFieldCell`which 为我提供了`UITableViewCell`a`UILabel`和 a `UITextField`。我在单元格中插入了一些值，当键盘隐藏 tableView 应该重新加载它的数据以在其中一个单元格中显示正确的结果。我做了一些调试和计算工作，但该单元格没有刷新（正如我提到的，该`cellForRowAtIndexPath`方法不会在`[self.theTableView reloadData]`.

谢谢你。

任何帮助，将不胜感激

**编辑**

为此找到了一个“丑陋”的解决方案。而不是打电话

```
[self.theTableView reloadData]; 
```

我打了电话

```
[self.theTableView reloadRowsAtIndexPaths:[NSArray arrayWithObject:[NSIndexPath indexPathForRow:7 inSection:0]] withRowAnimation:UITableViewRowAnimationNone]; 
```

它丑陋且硬编码，如果我添加更多单元格或删除一些单元格，以后可能会导致问题，但它可以工作。

仍在寻找可以使用`reloadData`方法的解决方案

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-19T07:43:37.747

`reloadData`**仅**重新显示可见行（为了提高效率）。您之前设置了表格视图的框架这一事实`reloadData`让我认为表格视图由于某种原因看不到特定单元格当时可见，因此它不会要求新的单元格（这解释了滚动后的原因向下/向上它会正确刷新）。尝试轮询您的 tableview 以查看在调用`reloadData`( `[theTableView visibleCells];`) 之前作为可见单元格报告的内容。我希望这将帮助您跟踪问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T07:30:55.540

仅当您在表中有一些更改时才会重新加载表.....

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T06:51:21.923

检查是否`tableView`不为零...如果是则分配内存

什么在返回

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView 
```

和

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section 
```

两者都返回非零值而不是应该调用

# javascript - 使用 Javascript 按住 Alt 键单击元素

> ID：11095592
> 
> 赞同：2
> 
> 时间：2012-06-19T06:34:18.250
> 
> 标签：javascript, click, alt

我知道有办法检测 alt-click，但我很好奇 - 是否可以 alt-click 元素？

您可以调用 click 事件调用的函数，但假设我们正在处理一些系统，该系统动态生成函数并将其在呈现时放置在页面中（或其他一些疯狂的解释）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T07:24:54.670

这可以在 vanilla JS 中使用[`initMouseEvent`](https://developer.mozilla.org/en/Document_Object_Model_%28DOM%29/event.initMouseEvent)：

```
event.initMouseEvent(type, canBubble, cancelable, view, 
                     detail, screenX, screenY, clientX, clientY, 
                     ctrlKey, altKey, shiftKey, metaKey, 
                     button, relatedTarget); 
```

如您所见，参数 10 到 13 将修饰键应用于以编程方式触发的鼠标事件。上面链接的 MDN 页面有一个关于如何`initMouseEvent`实际使用的小例子：

```
function simulateClick() {
    // create a new mouse event
    var evt = document.createEvent("MouseEvents");

    // initialize all the parameters of the event
    evt.initMouseEvent("click", true, true, window,
      0, 0, 0, 0, 0,
      false, false, false, false,  // ctrl, alt, shift, meta
      0, null);

    var cb = document.getElementById("checkbox");

    // actually fire the event on the `cb` element
    var canceled = !cb.dispatchEvent(evt);

    // if the event was cancelled...
    if(canceled) {
        //...
    }
} 
```

请注意，较旧的 IE 版本仅支持`initEvent`，这似乎不允许修饰键选项。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:47:02.987

您可以手动触发事件。对于您的情况-您可以尝试触发一个`keydown`事件和一个`click`事件。

这是使用 jQuery 触发事件的方法：

```
var e = jQuery.Event("keydown");
e.which = 9; // # Some key code value - in your case tab
$("input").trigger(e); 
```

这是触发点击的方式：

```
$("#target").click(); 
```

**JsFiddle**：http: [//jsfiddle.net/sagivo/Bdtpj/](http://jsfiddle.net/sagivo/Bdtpj/)

# jquery - 我可以在我的 joomla 网站中嵌入一个砌体 jquery 模板吗？

> ID：11095593
> 
> 赞同：0
> 
> 时间：2012-06-19T06:34:26.347
> 
> 标签：jquery, joomla, jquery-masonry

我想在我的网站上使用 Masonry 创建一个视频库，但我遇到了困难。

我正在使用 Joomla 作为我的 CMS，并且已经有一个来自火箭主题的模板，但是在我的一个页面上，我想要一个视频列表（我会更新）供人们观看。我想让它在视觉上吸引人，砖石引起了我的注意，但我不明白如何让它运行起来。

如果可以的话，Jquery 如何与 Joomla 一起工作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T06:45:29.777

masonry 插件允许您在容器内定义带有图像的网格。然后它使用 kd-tree 算法以最有效的方式对图像进行排序。该算法众所周知，例如图形磁盘空间使用情况，其中最大的文件在屏幕上获得最大的矩形。kd-tree 也可以很好地添加一些空间信息。因此，如果您可以包含 masonry js 库并从数据库中动态选择视频并将其以 css 布局包装到 joomla 模板中，我看不出有任何问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-21T21:16:44.043

至于如何将 jquery 和 masonry 导入 Joomla 2.5，我只是这样做了，所以也许这个叙述会有所帮助。请原谅它是第一人称。几周前我加载了 jquery，并在各个站点上使用它。但我需要在其中一个上使用砌体程序。我尝试了desandro masonry、freetile 和isotope，以及其他一些。虽然 jQuery 对我来说在 Joomla 中运行良好，但没有任何砌体例程可以正常工作，零成功。所以我制作了一个原始的 html 模板，加载了以上所有内容，发现它们在那里工作得很好，令我惊讶的是。受到鼓励，我回到 Joomla，安装了“jQuery Easy”插件并启用了它。它加载了所需的 jQuery，它确实处理了与命名空间的奇怪冲突，并防止重复实例。但是，我应该警告你，使用 jQuery Easy，此时不会加载 jQueryUI。对于当前版本的 1.9.2，您必须在插件设置中将“2”放入 subversion。我认为你不需要将这个用于砌体，但我还是把它放进去了，因为我还有其他的例程。虽然 desandro masonry 和 isotope 在我的测试中都在 Joomla 中为我工作，但我决定 Isotope 对我的目的来说是最可行的，所以我朝那个方向走。因此，我下载了该库并将其放入我的 Web 根目录的 /js 中。然后我将这些行插入到标题内的默认模板中：虽然 desandro masonry 和 isotope 在我的测试中都在 Joomla 中为我工作，但我决定 Isotope 对我的目的来说是最可行的，所以我朝那个方向走。因此，我下载了该库并将其放入我的 Web 根目录的 /js 中。然后我将这些行插入到标题内的默认模板中：虽然 desandro masonry 和 isotope 在我的测试中都在 Joomla 中为我工作，但我决定 Isotope 对我的目的来说是最可行的，所以我朝那个方向走。因此，我下载了该库并将其放入我的 Web 根目录的 /js 中。然后我将这些行插入到标题内的默认模板中：
< script type="text/javascript" src="/js/jquery.isotope.js" ></script >
（当你这样做时，请查看页面源代码，单击 jQuery、JQueryUI 和 Isotope 链接以确保它们实际存在，如图所示。）
然后我将'Flexi Custom Code'模块安装到Joomla中并输入了我记得的这样的代码：
< script>jQuery('#container').isotope();</script>
我的图像列表只是一篇文章中 < div id="container"> 包含的一些 div。我使用“loadposition”将 Flexi 模块加载到文章中。您可以将 Isotope 加载到文章或模块中，这没有区别。从那以后，我使我的初始化程序变得更加复杂，它仍然有效。对您来说，有很多关于 jsfiddle 的示例可供使用，但请务必将所有 '$(' 更改为 'jQuery(' 否则这些例程会在 Joomla 中引起非常奇怪的冲突。我不像其他真正令人惊叹的人那样技术Stackoverflow，但我真诚地希望这个故事对您有所帮助，并为您节省冒险花费我的所有时间，并希望有人会添加进一步的解释。

# appharbor - 部署包含外部项目的解决方案

> ID：11095596
> 
> 赞同：1
> 
> 时间：2012-06-19T06:34:47.130
> 
> 标签：appharbor

我的项目引用了来自另一个解决方案的一堆项目（这个解决方案也链接到自己的 Git 存储库），但是为了方便（能够从一个解决方案调试和修改它们）我将这些项目包含到我的 web 项目解决方案中我想部署在 AppHarbor 上。也许可以说这些是我的解决方案的子模块。但现在我想不出在 AppHarbor 上部署解决方案的正确方法。更结构化的描述：--解决方案

------部署项目

------[SolutionFolderForExternalProjects]

---------Proj1ReferencedFromDeployedProject

----------Proj2ReferencedFromDeployedProject

解决方案 - 链接到 repo1 Proj1 和 Proj2 - 也属于链接到 repo2 的外部解决方案，仍然明确添加到 repo1 - git add SolutionFolderForExternalProjects/

我应该如何处理这种部署？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T15:45:51.127

AppHarbor 确实需要为我们成功构建您的项目而推送的所有依赖项。通常，将一个解决方案引用项目放在本地驱动器上的某个其他随机位置并签入不同的存储库可能不是最佳模型。如果其他人必须签出并构建您的代码，这也必然会导致问题。

您应该考虑将两种解决方案结构组合到一个存储库中（您仍然可以拥有多个解决方案文件，请参阅[AppHarbor 解决方案文件约定](http://support.appharbor.com/kb/getting-started/build-process-and-solution-file-convention)）。或者，将各自的依赖项打包为 NuGet 包，并使用 NuGet 将它们包含在您的项目中。

# c# - 在 c# 中为 Windows 窗体创建 GUI 窗口，如向导窗口

> ID：11095600
> 
> 赞同：1
> 
> 时间：2012-06-19T06:35:05.350
> 
> 标签：c#, winforms, user-interface

我喜欢为我的程序创建类似于向导的 GUI。我不知道怎么解释。但是用户只需单击“下一步”进行下一个过程，并在最后一个过程中以“完成”按钮结束。我如何在 Windows Form C# 中创建它？

例如： ![在此处输入图像描述](../Images/99306adbc9e54a7f30d2b004db895672.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T06:51:53.403

您只需将一堆面板堆叠在一起，然后将每个步骤的内容放在单独的面板中。然后，当用户单击 Next 或 Prev 时，您可以通过相应地设置面板的 .Visible 属性来显示/隐藏不同的步骤。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:52:11.093

对于每个向导页面，您可以创建一个用户控件，例如 page1、page2 等。然后您可以将它们添加到集合中：

```
List<Page> allPages= new List<Page>();
foreach( var page in allPages)
    page.hide(); 
```

当您单击“下一步”时，您会增加计数器：

```
void onNextClicked(...)
{
    current++;
    allPages[current].Show();
} 
```

这就对了。当然，上面是伪代码。干杯!

# javascript - Object.create() 没有完全创建；

> ID：11095605
> 
> 赞同：1
> 
> 时间：2012-06-19T06:35:21.153
> 
> 标签：javascript, node.js, object

这是代码：

```
//Note: x actually isn't defined, I'm pulling it from an external source

var x = [{ name: 'Michael Lovesllamas Lankford',
 created: 1338420951.11,
 laptop: 'pc',
 laptop_version: null,
 userid: '4fc6aed7eb35c14ad6000057',
 acl: 0,
 fans: 1,
 points: 5,
 avatarid: 34 }]

global.UserBase = {
 userid: -1,
 name: "noidea",
 isSuperUser: false,
 isDJ: false,
 laptop: "pc",
 afkWarned: false,
 afkTime: Date.now(),
 droppedTime: null,
 droppedRoom: null,
 songCount: 0,
 mWaitingSongLimit: 0,
 totalSongCount: 0,
 totalHeartCount: 0,
 totalHeartsGiven: 0,
 customGreeting: null,
 bootAfterSong: false,
 joinedTime: Date.now(),
 whiteList: false,
 allowedToReserveSpot: true
};

global.mUsers = {length:0};

global.Register = function(a) {
 for(var i = 0; i < a.length; i++) {
  var sUser = a[i];
  mUsers[sUser.userid] = CreateUser(sUser);
  mUsers.length++;
 }
};

global.CreateUser = function(a) {
 var b = Object.create(UserBase);
 b.userid = a.userid;
 b.name = a.name;
 b.laptop = a.laptop;
 if (a.acl > 0) b.isSuperUser = true;
 return b;
};

Register(x); 
```

现在，问题。而不是 mUsers[sUser.userid] 变成这样：

```
'4fc6aed7eb35c14ad6000057': {
 userid: "4fc6aed7eb35c14ad6000057",
 name: "noidea",
 isSuperUser: false,
 isDJ: false,
 laptop: "pc",
 afkWarned: false,
 afkTime: Date.now(),
 droppedTime: null,
 droppedRoom: null,
 songCount: 0,
 mWaitingSongLimit: 0,
 totalSongCount: 0,
 totalHeartCount: 0,
 totalHeartsGiven: 0,
 customGreeting: null,
 bootAfterSong: false,
 joinedTime: Date.now(),
 whiteList: false,
 allowedToReserveSpot: true
} 
```

它变成了这样：

```
'4fc6aed7eb35c14ad6000057': { 
 userid: '4fc6aed7eb35c14ad6000057',
 name: 'Michael Lovesllamas Lankford',
 laptop: 'pc' 
} 
```

任何想法为什么 UserBase 中的其余值没有被添加到对象中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:37:54.333

`UserBase`在对象上`global`，您需要调用对象。`Register``global`

```
global.CreateUser = function(a) {
 var b = Object.create(this.UserBase);
 b.userid = a.userid;
 b.name = a.name;
 b.laptop = a.laptop;
 if (a.acl > 0) b.isSuperUser = true;
 return b;
};

global.Register(x); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:42:22.553

发生这种情况是因为您只是在初始化用户 ID、名称和笔记本电脑的值。查看您的代码：

```
b.userid = a.userid;
b.name = a.name;  
b.laptop = a.laptop; 
```

要获得所需的结果，您需要调用 Global.Register(x) 而不是 Register(x)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T07:00:26.943

[`Object.create`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/create)创建一个新对象并将其设置`prototype`为您传入的对象。

您的对象*正在*初始化，但您只是在新对象实例上明确设置了一些属性。原型对象 ( `UserBase`) 中的属性都是可访问的，但对象的直接`console.log`属性不会打印它们。

例如，在运行您的代码后，执行以下操作：

```
for(var p in mUsers['4fc6aed7eb35c14ad6000057']) {
  console.log(p, mUsers['4fc6aed7eb35c14ad6000057'][p]);
} 
```

打印出来：

```
userid 4fc6aed7eb35c14ad6000057
name Michael Lovesllamas Lankford
laptop pc
isSuperUser false
isDJ false
afkWarned false
afkTime 1340089066700
droppedTime null
droppedRoom null
songCount 0
mWaitingSongLimit 0
totalSongCount 0
totalHeartCount 0
totalHeartsGiven 0
customGreeting null
bootAfterSong false
joinedTime 1340089066700
whiteList false
allowedToReserveSpot true 
```

# c++ - 如何获取安装在 Windows 7 中的主题列表（主题名称）？

> ID：11095611
> 
> 赞同：0
> 
> 时间：2012-06-19T06:36:37.703
> 
> 标签：c++, windows, winapi, visual-c++, mfc

我想在 MFC 中编写一个应用程序，它给我一个安装在 Windows 7 中的主题列表。

哪个库或 dll 提供主题，以便我可以在我的应用程序中使用它来使用我的应用程序更改主题，或者我可以有代码片段吗？

问候，梅胡尔。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T22:00:46.853

枚举 %WinDir%\Resources\Themes 和 %AppData%\Microsoft\Windows\Themes 下的文件。

.theme 文件的格式记录在[http://msdn.microsoft.com/en-us/library/windows/desktop/bb773190(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/bb773190(v=vs.85).aspx)

# python - 错误：命令“llvm-gcc-4.2”失败，退出状态为 1

> ID：11095616
> 
> 赞同：2
> 
> 时间：2012-06-19T06:36:55.537
> 
> 标签：python, osx-lion

我从 10.6 升级到 Mac OS X 10.7。
然后 Mercurial 不再工作，当我重新安装 Mercurial 时，错误消息跳出如下：

```
$ sudo pip install -U Mercurial 
```

**下面的第一个错误行：**

```
In file included from /System/Library/Frameworks/ApplicationServices.framework/Headers/ApplicationServices.h:20,
                 from mercurial/osutil.c:523:
/System/Library/Frameworks/CoreServices.framework/Headers/CoreServices.h:21:19: error: AE/AE.h: No such file or directory
/System/Library/Frameworks/CoreServices.framework/Headers/CoreServices.h:25:35: error: CarbonCore/CarbonCore.h: No such file or directory
/System/Library/Frameworks/CoreServices.framework/Headers/CoreServices.h:29:35: error: OSServices/OSServices.h: No such file or directory
/System/Library/Frameworks/CoreServices.framework/Headers/CoreServices.h:33:43: error: CoreFoundation/CoreFoundation.h: No such file or directory
/System/Library/Frameworks/CoreServices.framework/Headers/CoreServices.h:37:33: error: CFNetwork/CFNetwork.h: No such file or directory
/System/Library/Frameworks/CoreServices.framework/Headers/CoreServices.h:41:43: error: LaunchServices/LaunchServices.h: No such file or directory
In file included from /System/Library/Frameworks/CoreServices.framework/Frameworks/SearchKit.framework/Headers/SearchKit.h:30,
                 from /System/Library/Frameworks/CoreServices.framework/Headers/CoreServices.h:45,
                 from /System/Library/Frameworks/ApplicationServices.framework/Headers/ApplicationServices.h:20,
                 from mercurial/osutil.c:523:
/System/Library/Frameworks/CoreServices.framework/Frameworks/SearchKit.framework/Headers/SKDocument.h:20:35: error: CoreFoundation/CFBase.h: No such file or directory 
```

**这里有数千行错误遗漏...**

```
/System/Library/Frameworks/ApplicationServices.framework/Frameworks/ATS.framework/Headers/ATSTypes.h:242: error: declaration for parameter ‘FMFontDirectoryFilter’ but no such parameter

mercurial/osutil.c:580: error: expected ‘{’ at end of input

error: command 'llvm-gcc-4.2' failed with exit status 1

----------------------------------------
Command /usr/bin/python -c "import setuptools;__file__='/Users/patto/dev/django/hg_fuwo/build/Mercurial/build/Mercurial/setup.py';exec(compile(open(__file__).read().replace('\r\n', '\n'), __file__, 'exec'))" install --single-version-externally-managed --record /tmp/pip-ZYZ6B4-record/install-record.txt failed with error code 1 in /Users/patto/dev/django/hg_fuwo/build/Mercurial/build/Mercurial
Storing complete log in /Users/patto/Library/Logs/pip.log
patto@mac:Mercurial > hg summary
Traceback (most recent call last):
  File "/usr/local/bin/hg", line 4, in <module>
    import pkg_resources
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/pkg_resources.py", line 2603, in <module>
    working_set.require(__requires__)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/pkg_resources.py", line 666, in require
    needed = self.resolve(parse_requirements(requirements))
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/pkg_resources.py", line 565, in resolve
    raise DistributionNotFound(req)  # XXX put more info here
pkg_resources.DistributionNotFound: mercurial==1.9 
```

我搜索了几个解决方案，但没有一个有效：

*   使用 python setup.py install 。不行！
*   安装[Kenneth Reitz 的漂亮软件包](https://github.com/kennethreitz/osx-gcc-installer)。不行！

还有更多的解决方案吗？

# php - 如何在会话中保存值？

> ID：11095625
> 
> 赞同：1
> 
> 时间：2012-06-19T06:37:38.280
> 
> 标签：php, cakephp

我正在使用 cakephp。最近我在会话中保存数据时遇到了问题。我创建了登录页面，它将向控制器/操作发送值。它会像这样接收。

```
function ajaxCall() {
            $this->autoRender = false;
            $this->layout = 'ajax';
            $arrData = $this->params['url'];

            if(!empty($arrData)){
                if($arrData['submit']=='Y'){
                    $userObj = new Api(); // create an instance of the user class
                    $userInfo = $userObj->login($arrData['email'],$arrData['password']); // call the api login user methods
                    $xml = simplexml_load_string($userInfo);
                    $userId = $xml->message->id;
                    if($userId != "0" && $userId != ""){
                        $this->setCurrentUserId($userId);
                        echo "success";
                    }
                    else{
                        echo "no"; 

                    }
                }  
            }
        }

public function setCurrentUserId($userId)
        {

            //Is session alive 
            //if not then redirect to session time out page
            //session_start();
            //session_register("");
            if($userId == 419 || $userId == 423){
                $userId1 = $this->Session->write('userId', $userId);
                }else{
                $userId1 = $this->Session->write('userId', $userId);
            }

            return $userId1;
        } 
```

我的控制器还包含这些行以包括帮助程序、组件

```
 public $components = array('Session');
    public $helpers = array('Html','Session'); 
```

在 core.php 文件中，我将会话设置为-

```
Configure::write('Session', array(
    'defaults' => 'php', 'ini' => array('session.auto_start' => 1)
)); 
```

请帮助我，因为我无法在会话中保存 userId

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T08:59:25.540

在互联网上，您可以找到 CakePHP 食谱来创建具有身份验证和授权的简单应用程序：[book.cakephp.org](http://book.cakephp.org/2.0/en/tutorials-and-examples/blog-auth-example/auth.html)

在这里，您可以找到非常简单的示例，说明如何使用 CakePHP 的内置 Auth 对象通过登录操作创建用户控制器、用户模型和登录视图等 - 无需编写整个登录逻辑 - Auth 对象将为您完成大部分工作。

希望你会喜欢它！

# css - css 调整 div 容器的大小以适应小窗口

> ID：11095628
> 
> 赞同：0
> 
> 时间：2012-06-19T06:37:45.240
> 
> 标签：css, resize, height, carousel

我的问题是容器不会调整大小以适应较小的屏幕或窗口大小缩小时。我尝试了百分比方法，将高度/宽度设置为 100% 甚至 50%，容器消失了。在这上面花了几个星期之后，我完全没有地方。还需要支持 IE6，这让我很感动。

```
.ca-container{
 position:relative;
 margin:-45px auto 20px auto;
 width:990px;
 height:500px; 
}

.ca-wrapper{
 width:100%;
 height:100%;
 position:relative; 
}

.ca-more{
 position: absolute;
 bottom: 10px;
 right:0px;
 padding:4px 15px;
 font-weight:bold;
 background: #000;
 text-align:center;
 color: white;
 font-family: "Georgia","Times New Roman",serif;
 text-shadow:1px 1px 1px #897c63;    
}

.ca-item{
position:relative;
float:left;
width:330px;    
height:100%;
text-align:center; 
}

.ca-item-main{

 padding:20px;
 position:absolute;
 top:5px;
 left:5px;
 right:5px;
 bottom:5px;
 background:#fff;
 overflow:hidden;
 -moz-box-shadow:1px 1px 2px rgba(0,0,0,0.2);
 -webkit-box-shadow:1px 1px 2px rgba(0,0,0,0.2);
 box-shadow:1px 1px 2px rgba(0,0,0,0.2);
} 
```

这是我的网页的 html。我截断了它只是为了显示第一项的结构（我已经删除了我的内容）

```
 <div class="container">                
            <div></div>
            <div id="ca-container" class="ca-container">
                <div class="ca-wrapper">
                    <div class="ca-item ca-item-1">
                        <div class="ca-item-main">
                            <div class="ca-icon"></div>
                            <h3></h3>
                            <h4></h4>
                            <a href="#" class="ca-more">Read...</a>
                        </div>
                        <div class="ca-content-wrapper">
                            <div class="ca-content">
                                <h6></h6>
                                <a href="#" class="ca-close">close</a>
                                <div class="ca-content-text">
                                    <p>xxxxxxxx </p>

                                </div>
                            </div>
                        </div>
                    </div> 
```

原始插件是循环内容轮播：[http ://tympanus.net/codrops/2011/08/16/circular-content-carousel/](http://tympanus.net/codrops/2011/08/16/circular-content-carousel/)

我已经意识到原来的插件不会那样做。如果我的代码太乱，请查看插件并使用演示源解决问题。

任何帮助将不胜感激 - 谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:48:54.183

你看过媒体查询吗？[http://www.w3.org/TR/css3-mediaqueries/](http://www.w3.org/TR/css3-mediaqueries/)

您可以为不同尺寸的屏幕设置不同的 css - 目前互联网上有很多关于它们的信息。

# iphone - 制作 NSMutableAttributedString 的深层副本时出现问题

> ID：11095635
> 
> 赞同：0
> 
> 时间：2012-06-19T06:38:03.007
> 
> 标签：iphone, objective-c, ios, cocoa-touch, core-text

我正在尝试使用另一个被`NSMutableAttributedString`调用来制作被调用的深层副本。两者的属性都设置为，我按如下方式创建备份：`text``NSMutableAttributedString``textBackup``@property (nonatomic, retain)`

```
NSMutableAttributedString *textBackupTemp = [self.text mutableCopy];
self.textBackup = textBackupTemp;
[textBackupTemp release]; 
```

然后稍后，当出现某种情况时，我需要恢复副本：

```
NSMutableAttributedString *textTemp = [self.textBackup mutableCopy];
self.text = textTemp;
[textTemp release]; 
```

这似乎工作正常，但是下次我访问`text`如下：

```
[self.text.string characterAtIndex: self.cursor.position-1] 
```

我收到以下错误：

```
*** Terminating app due to uncaught exception 'NSRangeException', reason: '-[__NSCFString characterAtIndex:]: Range or index out of bounds' 
```

字符串大小已更改为 1 而不是应有的 43。这里可能发生了什么......

编辑：更新了问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:26:04.047

这只是我的一个愚蠢的错误，我已经`@property(nonatomic, assign)`为我的`textBackup`实例变量添加了。我将其更改为`retain`，现在一切正常。

# actionscript-3 - 为什么 CLICK 事件不起作用？

> ID：11095636
> 
> 赞同：0
> 
> 时间：2012-06-19T06:38:03.647
> 
> 标签：actionscript-3, flash

```
var url:String;
var link:String;
var w:Number;
var h:Number;

url = loaderInfo.parameters.swfurl;
link = loaderInfo.parameters.link;

var request:URLRequest = new URLRequest(url);
var loader:Loader = new Loader();

loader.load(request);
addChild(loader);

loader.addEventListener(MouseEvent.CLICK, onClick);

function onClick(e:MouseEvent){
        trace('clicked');
} 
```

这个脚本向我展示了外部 swf 文件。但是 MouseEvent.CLICK 不起作用。为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T07:45:19.387

您究竟作为外部资源加载了什么。如果它是 SWF，那么那里有什么东西。此外，我建议在加载 swf 后附加侦听器。即在 Event.COMPLETE 处理程序中。这是文档中的代码：

```
package {
import flash.display.Loader;
import flash.display.Sprite;
import flash.events.*;
import flash.net.URLRequest;

public class LoaderExample extends Sprite {
    private var url:String = "Image.gif";

    public function LoaderExample() {
        var loader:Loader = new Loader();
        configureListeners(loader.contentLoaderInfo);
        loader.addEventListener(MouseEvent.CLICK, clickHandler);

        var request:URLRequest = new URLRequest(url);
        loader.load(request);

        addChild(loader);
    }

    private function configureListeners(dispatcher:IEventDispatcher):void {
        dispatcher.addEventListener(Event.COMPLETE, completeHandler);
        dispatcher.addEventListener(HTTPStatusEvent.HTTP_STATUS, httpStatusHandler);
        dispatcher.addEventListener(Event.INIT, initHandler);
        dispatcher.addEventListener(IOErrorEvent.IO_ERROR, ioErrorHandler);
        dispatcher.addEventListener(Event.OPEN, openHandler);
        dispatcher.addEventListener(ProgressEvent.PROGRESS, progressHandler);
        dispatcher.addEventListener(Event.UNLOAD, unLoadHandler);
    }

    private function completeHandler(event:Event):void {
        trace("completeHandler: " + event);
    }

    private function httpStatusHandler(event:HTTPStatusEvent):void {
        trace("httpStatusHandler: " + event);
    }

    private function initHandler(event:Event):void {
        trace("initHandler: " + event);
    }

    private function ioErrorHandler(event:IOErrorEvent):void {
        trace("ioErrorHandler: " + event);
    }

    private function openHandler(event:Event):void {
        trace("openHandler: " + event);
    }

    private function progressHandler(event:ProgressEvent):void {
        trace("progressHandler: bytesLoaded=" + event.bytesLoaded + " bytesTotal=" + event.bytesTotal);
    }

    private function unLoadHandler(event:Event):void {
        trace("unLoadHandler: " + event);
    }

    private function clickHandler(event:MouseEvent):void {
        trace("clickHandler: " + event);
        var loader:Loader = Loader(event.target);
        loader.unload();
    }
} 
```

}

所以尝试在 completeHandler 方法中附加监听器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T14:20:03.750

如果您在屏幕上看到内容，则问题可能与单击事件处理有关：

点击事件的目标可能是显示列表中低于加载程序的内容（例如加载程序内容或其中的子项 - 也就是说，您没有单击加载程序，而是单击了其中的 MovieClip）。您可以根据自己的要求尝试几种不同的方法：

1.  使用 useCapture=true 收听（这将记录对加载电影中任何内容的任何点击）：

    ```
    loader.addEventListener(MouseEvent.CLICK, onClick, true); 
    ```

2.  在加载器上禁用 mouseChildren。这将意味着点击事件将在加载器处停止，并且不会在加载器的子项中注册：

    ```
    loader.mouseChildren = false;
    loader.addEventListener(MouseEvent.CLICK, onClick); 
    ```

    *   请注意，这可能会导致希望加载的 swf 中的单击事件（如按钮）的内容不起作用。但是如果加载器内容不打算是交互式的，这应该没问题。

# java - Hibernate继承查询

> ID：11095637
> 
> 赞同：1
> 
> 时间：2012-06-19T06:38:21.480
> 
> 标签：java, hibernate

我有 4 个实体：

`User`, `Teacher`, `Student`,`Course`

和4张桌子：

> t_user、t_teacher_course、t_student_course、t_course

`Teacher`并`Student`扩展`User`（带有描述符）并`@ManyToMany`与`Course`（`User`不具有） `Teacher`存储在中的关系`t_teacher_course`和`Student`存储在中的关系有关系`t_student_course`。

现在我想在一个查询中选择所有有课程的用户（如果他们存在） `select u from User u left join fetch u.courses c`（*注意用户没有课程*）这个选择生成了这样的东西：

```
select
    ...
from
    T_USER user0_ 
left outer join
    T_TEACHER_COURSE course1_ 
        on user0_.USERID_=courses1_.TEACHER_ 
left outer join
    T_COURSE course2_ 
        on courses1_.LANE_=course2_.COURSENAME_ 
where
    user0_.GROUP_=? 
```

如您所见，Hibernate 没有加入**t_student_course**表

我正在使用休眠 4.1Final

问题：Hibernate 是否支持这样的查询

a）如果支持，那么为什么它没有为`Student`实体获取课程？

b) 如果不支持，我该如何选择所有使用 JPQL 的课程的用户？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T07:37:49.030

由于`u.courses`可能是`student.courses`or `teacher.courses`，Hibernate 通过在其元数据中选择与该名称的第一个（或最后一个）关联来解决歧义。

`courses`如果两个子类中的集合名称不同，它可能会起作用。例如，您可以定义`Student.attendedCourses`和`Teacher.teachedCourses`。

否则，您必须发出两个查询（一个给教师，一个给学生），然后加入结果列表。或者您必须在 User 实体中提取关联。

# iphone - iPhone 计算摇动次数

> ID：11095638
> 
> 赞同：0
> 
> 时间：2012-06-19T06:38:39.113
> 
> 标签：iphone, ios

我们想计算用户完成的摇动次数。

我们尝试了motionBegan、motionEnded，但没有用。

因为它们仅在用户开始摇动或结束摇动时才会被触发，但我想连续计数摇动。

可能是这样的，当用户将 iPhone 向左移动和向右移动时，我将其视为一次摇动。

任何帮助，将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:05:02.747

您可以使用`UIAccelerometer`来实现您想要的。

您使用 motionBegin 检测开始：

```
- (void)motionBegan:(UIEventSubtype)motion withEvent:(UIEvent *)event {
  UIAccelerometer* acc = [UIAccelorometer sharedAccelerometer];
  acc.delegate = self;
  acc.updateInterval = /* whatever you feel like OK */ 0.1;
}

- (void)motionEnded:(UIEventSubtype)motion withEvent:(UIEvent *)event {
  UIAccelerometer* acc = [UIAccelorometer sharedAccelerometer];
  acc.delegate = nil;
} 
```

在委托方法中：

```
- (void)accelerometer:(UIAccelerometer *)accelerometer didAccelerate:(UIAcceleration *)acceleration {
  //
  // You detect a full shake
  //
} 
```

**在实现这个之前，你应该知道 UIAccelerometer 在 iOS5 中已经被弃用了**。这意味着您将不得不改用 Apple 推荐的内容。我还没有关于这个话题的更新。这是有关它的文档：[链接](http://developer.apple.com/library/ios/#documentation/CoreMotion/Reference/CMMotionManager_Class/Reference/Reference.html)。

# ios - 使用 AVPlayer 将实时流的音轨静音

> ID：11095644
> 
> 赞同：4
> 
> 时间：2012-06-19T06:39:08.303
> 
> 标签：ios, audio, avplayer, mute

我正在使用 AVPlayer 播放直播流（m3U8 文件）。它使用 AVPlayer 可以完美播放，但我无法将其静音。

我正在使用以下代码使音频静音。

```
NSMutableArray *allAudioParams = [NSMutableArray array];
for (AVPlayerItemTrack *track in _player.currentItem.tracks)
{
    if ([track.assetTrack.mediaType isEqual:AVMediaTypeAudio])
    {
        AVMutableAudioMixInputParameters *audioInputParams =    [AVMutableAudioMixInputParameters audioMixInputParameters];
        [audioInputParams setVolume:0.0 atTime:kCMTimeZero];
        [audioInputParams setTrackID:[track.assetTrack trackID]];
        [allAudioParams addObject:audioInputParams];
    }
}

AVMutableAudioMix *audioZeroMix = [AVMutableAudioMix audioMix];
[audioZeroMix setInputParameters:allAudioParams];
[[_player currentItem] setAudioMix:audioZeroMix]; 
```

使用相同的代码，我可以静音本地视频文件以及我在相同 AVPlayer 代码中播放的渐进式视频 url。

（可能是用于直播视频，AVPlayer 实例中可用的曲目可以将音量设置为零，但下一个缓冲曲目是新鲜的音量，我是对的还是其他原因？）

任何人都对这个问题有任何想法。对此的任何帮助都是非常可观的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-20T22:38:33.400

你的假设是正确的。您不能静音正在播放 HTTP 实时流的播放器。我已经为此提交了雷达。

在我的应用程序中，我们控制流，因此我们生成了一个没有音频的流，以及一个具有音频的相同流，并在两者之间切换以打开和关闭声音。这是你能做的最好的。

AVAudioMix 解决方案不适用于直播。我试过了。查看底部的注释，说明它仅适用于基于文件的资产：http: [//developer.apple.com/library/ios/#qa/qa1716/_index.html](http://developer.apple.com/library/ios/#qa/qa1716/_index.html)

看起来 Mac 开发人员在他们的 AVPlayer 上获得了静音属性，但 iOS 还没有。

现在，如果可以的话，您将不得不解决您的流中的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T12:57:42.533

作为一种解决方法，您可以使用`MPVolumeView`该类来调整任何视频的音量。这将允许用户根据需要将视频静音。但是如果不使用未记录的 API，您不太可能无法自定义此滑块的外观。

```
MPVolumeView *volumeView = [[[MPVolumeView alloc] initWithFrame: CGRectMake(10, 37, 260, 20)] autorelease];

UIAlertView *volumeAlert = [[UIAlertView alloc] initWithTitle:@"Volume" message:@"" delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];

[volumeView sizeToFit];
[volumeAlert addSubview:volumeView];
[volumeAlert show];
[volumeAlert release]; 
```

# rubymotion - 如何通过选择器/动作传递参数？

> ID：11095648
> 
> 赞同：4
> 
> 时间：2012-06-19T06:39:44.727
> 
> 标签：rubymotion

有没有办法通过 addTarget 调用传递参数，因为它调用另一个函数？

我也尝试过 sender 方法 - 但这似乎也坏了。在不创建全局变量的情况下传递参数的正确方法是什么？

```
@my_button = UIButton.buttonWithType(UIButtonTypeRoundedRect)
@my_button.frame = [[110,180],[100,37]]
@my_button.setTitle("Press Me", forState:UIControlStateNormal)
@my_button.setTitle("Impressive!", forState:UIControlStateHighlighted)

# events
newtext = "hello world"
@my_button.addTarget(self, action:'buttonIsPressed(newtext)', forControlEvents:UIControlEventTouchDown)
view.addSubview(@my_button)

def buttonIsPressed (passText)

   message = "Button was pressed down - " + passText.to_s
   NSLog(message)

end 
```

更新：

好的，这是一个具有有效实例变量的方法。

```
@my_button = UIButton.buttonWithType(UIButtonTypeRoundedRect)
@my_button.frame = [[110,180],[100,37]]
@my_button.setTitle("Press Me", forState:UIControlStateNormal)
@my_button.setTitle("Impressive!", forState:UIControlStateHighlighted)

# events
@newtext = "hello world"
@my_button.addTarget(self, action:'buttonIsPressed', forControlEvents:UIControlEventTouchDown)
view.addSubview(@my_button)

def buttonIsPressed     
   message = "Button was pressed down - " + @newtext
   NSLog(message)
end 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-13T21:06:29.437

将“参数”附加到 ruby​​motion`UIButton`调用的最简单方法是使用标签。

首先设置一个带有`tag`属性的按钮。此标记是您​​要传递给目标函数的参数。

```
@button = UIButton.buttonWithType(UIButtonTypeRoundedRect)
@button.setTitle "MyButton", forState:UIControlStateNormal
@button.frame =[[0,0],[100,50]]
@button.tag = 1
@button.addTarget(self, action: "buttonClicked:",  forControlEvents:UIControlEventTouchUpInside) 
```

现在创建一个接受`sender`作为参数的方法：

```
def buttonClicked(sender)
    mytag = sender.tag

   #Do Magical Stuff Here
end 
```

预警：据我所知，标签属性只接受整数值。您可以通过将逻辑放入目标函数中来解决此问题，如下所示：

```
def buttonClicked(sender)
    mytag = sender.tag

    if mytag == 1
      string = "Foo"

    else
      string = "Bar"
    end

end 
```

最初，我尝试设置`action: :buttonClicked`有效但不允许使用该`sender`方法的操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T11:06:22.190

是的，您通常在 Controller 类中创建实例变量，然后从任何方法调用它们的方法。

根据[文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIButton_Class/UIButton/UIButton.html)using`setTitle`是设置`UIButton`实例标题的一般方法。所以你做对了。

# c++ - 一次初始化所有结构变量

> ID：11095650
> 
> 赞同：1
> 
> 时间：2012-06-19T06:39:47.453
> 
> 标签：c++

```
struct LoadsForAPDLScript
{
    double JntLCLoad;
    double JntPPLoad;
    double JntLimManLoad;
    double JntLimShockLoad;
    double JntOthLimTenLoad;
    double JntOthLimManLoad;
    double JntBPLoad;
    double JntUltManLoad;
    double JntUltShockLoad;
    double JntOthUltTenLoad;
    double JntOthUltManLoad;
}; 
```

有没有办法在一行中初始化上面提到的所有结构变量，而不是一一初始化？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T08:40:04.327

如果是 C++，空的构造函数会自动将所有简单数值类型的成员变量初始化为零。

```
struct LoadsForAPDLScript {
    ...
    LoadsForAPDLScript() {}
}; 
```

考虑到 C 兼容性，我不太确定隐式默认构造函数是否也会这样做。也许有人手头有 C++ 标准（或熟记于心），那么请扩展这个答案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T07:42:46.783

使用`memset`：

```
LoadsForADPLScript instance;
memset(&instance, 0, sizeof(LoadsForADPScript)); 
```

# c++ - 在 C++ 中将十六进制值打印到控制台

> ID：11095653
> 
> 赞同：6
> 
> 时间：2012-06-19T06:39:58.827
> 
> 标签：c++

```
#include <iostream>
#include <iomanip>

using namespace std;

int main()
{
    char array[10];

    for(int i = 0; i<10;i++)
    {
        array[i] = 'a' + i;
    }

    char* test = array;

    printf("%x\n", test);
    cout << hex << test << endl;

} 
```

输出是：

```
bffff94e
abcdefghijN??? 
```

为什么不打印相同的东西？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-19T06:43:13.950

```
cout << hex << test << endl; 
```

它打印字符串，而不是地址。这是因为有一个作为参数的重载，`operator<<`并且`char const*`此重载将参数视为字符串。

如果要打印地址，请将参数转换为，`void*`以便调用*其他*重载`operator<<`来打印地址。

```
cout << hex << static_cast<void*>(test) << endl; 
```

将以十六进制格式打印地址。

请注意，`hex`此处不需要流操纵器，因为地址将以十六进制格式打印。所以

```
cout << static_cast<void*>(test) << endl; 
```

足够的。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-19T07:47:00.603

因为您的程序具有未定义的行为。因为你要求它打印不同的东西。

您的调用`printf`是非法的，并且会导致未定义的行为（并且是一个很好的例子，说明了为什么您永远不应该使用`printf`）。您的格式说明符说`unsigned int`从参数列表中提取一个，并以十六进制输出。传递它除了 an 之外的任何东西`unsigned int`都是未定义的行为。碰巧的是，考虑到 varargs 通常实现的方式，如果你在一台 `unsigned`s 和指针大小相同的机器上，你可能会输出指针的值，把它的位当作一个`unsigned`. 然而，其他行为当然是可能的。（如果我没记错的话，g++ 会警告这个结构；在某些平台上，它也可能会崩溃。）

在 的情况下`std::cout`，您将通过`char*`. 根据定义， the`char*`被视为 '\0' 字符串，*而不是*指针（当然也不是`unsigned int`）。再一次，你有未定义的行为，因为你`char*`没有指向一个 '\0' 终止的字符串；你永远不会在最后放一个 '\0' 。（这可能解释了`"N???"` 您在输出末尾看到的情况。但同样，未定义的行为是未定义的。代码很容易崩溃。）

最后，您同时使用`printf`and `std::cout`; 除非您对两者之间的流进行刷新，否则不会真正指定结果。（实际上，如果您要输出到交互式设备，则应在输出`'\n'`字符时进行刷新。但是，如果将输出重定向到文件，则可能会得到不同的结果。）

不清楚你想要什么。如果要输出 的地址 `array`，则为：

```
printf( "%p\n", test );
std::cout << static_cast<void*>( test ) << std::endl; 
```

如果要输出生成的字符串，请在其末尾附加一个 '\0' （不会溢出缓冲区），然后：

```
printf( "%s\n", test );
std::cout << test << std::endl; 
```

我不确定您要制作什么“十六进制”；没有字符串的十六进制表示，指针的表示是实现定义的，不需要考虑 iostream 中的任何格式参数。（通常，在大多数现代机器上，它将是十六进制的。但我已经研究过不止一些它是八进制的，并且至少有一个它不仅仅是一个数字，不管基数如何。）如果你想要一个十六进制转储`array`，你必须循环，将每个值输出为`unsigned`十六进制：

```
for ( int i = 0; i < 10; ++ i ) {
    printf( "%x", static_cast<unsigned char>( test[i] ) );
}
printf( "\n" );
std::cout.setf( std::ios_base::hex, std::ios::basefield );
for ( int i = 0; i < 10; ++ i ) {
    std::cout << static_cast<unsigned>( static_cast<unsigned char>( test[i] ) );
}
std::cout.setf( std::ios_base::dec, std::ios::basefield );
std::cout << std::endl; 
```

最后：关于演员表：plain`char`可以是有符号的也可以是无符号的；如果它是有符号的，将其转换为 an`int`或 an `unsigned`，可能会产生一个负值 ( `int`) 或一个非常大的正值 ( `unsigned`)。因此，第一次转换为 `unsigned char`，这保证了范围内的结果`[0, UINT_MAX]`。其次，当然，我们必须将其转换`unsigned char`为`unsigned`：

*   在 的情况下`printf`，因为否则我们会有未定义的行为，但是转换是隐式的，因为将 an`unsigned char`作为可变参数传递会自动将其提升为`unsigned`; 和

*   在这种情况下`std::cout`，因为规则是任何字符类型都作为字符而不是数值输出（并且由于该类型在函数重载决议中使用，并且没有传递给 vararg 或 an `unsigned`，所以没有隐式转换）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-19T07:03:55.523

`test`它本身是一个指针，即它存储一个地址。您的`printf`语句打印该地址的十六进制值。

然后该`cout <<`语句打印整个字符串，因为`std::hex`操纵器不会影响字符串的打印方式。它只影响整数的打印方式。

你能做的是

1.  循环遍历数组的字符
2.  将每个转换为整数并使用`std::hex`操纵器打印

看起来像这样：

```
for (int i = 0 ; i < 10 ; ++i)
  std::cout << std::hex << static_cast<int>(array[i]) << '\n'; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T07:05:18.657

`cout << HEX <<`
不能用于 char* 来打印十六进制字符字符串，但您可以将其用于 int 、double、float 等。

而且，当你第二次打印时，为什么字符串有一些乱码是因为你没有给字符串一个 '\n' ，这意味着字符串的结尾

# excel-2007 - 在excel中动态选择行/列

> ID：11095654
> 
> 赞同：0
> 
> 时间：2012-06-19T06:40:06.333
> 
> 标签：excel-2007, rows

我正在尝试使用 vba 选择行/列。我想通过文本框传递行号`Rows("2:5").Select` 这里 2 和 5 应作为变量传递..一旦传递，应选择行并将其复制到同一张表中的指定位置。我是 excel 和使用宏学习的新手。可能有人请提出一条出路。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:48:24.390

这是用于复制的脚本....（您可以将行号作为参数传递并将它们作为字符串连接）

```
Rows("1:13").Select
Selection.Copy 
```

假设您要粘贴到其他工作表

```
Sheets("Sheet2sa").Select
ActiveCell.Select
Selection.Insert Shift = xlDown 
```

# c++ - 将存储在结构中的值打印到 Qt 表中？

> ID：11095657
> 
> 赞同：-2
> 
> 时间：2012-06-19T06:40:22.697
> 
> 标签：c++, qt

我有这样的结构或链表：

```
typedef struct Node
{
    int k;
    char *mesage;
    struct Node *next;
} node; 
```

我想输入 的值`k`，打印它，然后将打开一个窗口屏幕，以 Qt 库创建的表格的形式显示所有输入值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:13:59.667

您需要重新实现[QAbstractTableModel](http://qt-project.org/doc/qt-4.8/qabstracttablemodel.html)然后使用[QTableWidget](http://qt-project.org/doc/qt-4.8/qtablewidget.html)来访问它。

编辑：我刚刚注意到您的模型看起来基于树而不是基于表，因此您应该真正使用[QAbstractItemModel](http://qt-project.org/doc/qt-4.8/QAbstractItemModel.html)和[QTreeView](http://qt-project.org/doc/qt-4.8/qtreeview.html)。如果您的数据确实是一棵树，那么这不会太痛苦，因为您可以使用大多数方法的默认实现。当您试图使非树数据看起来像一棵树时，它会变得很烦人。最好在开始之前通读Qt 中的模型/视图编程[文档](http://qt-project.org/doc/qt-4.8/model-view-programming.html)。

最好的代码示例是 Qt Creator 附带的示例（例如，[这个](http://qt-project.org/doc/qt-5.0/itemviews-simpletreemodel.html)）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:20:38.197

```
Node node;

node.k = 5;

QStandardItemModel* model = new QStandardItemModel(this);

QStandardItem* item = new QStandardItem();
item->setData(node.k, Qt::DisplayRole);

model->appendRow(item);

QTableView* table = new QTableView(this);
table->setModel(model); 
```

# android - 在 Android ICS virtualbox 问题上更改分辨率（屏幕尺寸）

> ID：11095663
> 
> 赞同：0
> 
> 时间：2012-06-19T06:40:53.397
> 
> 标签：android, linux, android-emulator, virtualbox

我已经为 virtualBox 构建了 android ICS(4.0.3)。它在默认分辨率 800x600 下运行良好。但是，当我将 virtualbox 分辨率更改为非默认分辨率时，例如 1280x800。然后我收到错误“不幸的是，系统 UI 已停止”。系统挂在那里。此外，当分辨率更改时，我什至无法连接到此设备以查看日志。

你能给我一些帮助吗？谢谢。

顺便说一句，[Buildroid](http://www.buildroid.org/blog/?p=107)建议我更改分辨率的方式----

首先在 .vbox 配置文件中添加“自定义视频模式”：在已经存在的“ExtraDataItem”条目之后添加行 <ExtraDataItem name=”CustomVideoMode1″ value=”1280x800x16″/>。修改 linux 内核选项，将现有的 vga=xxx 替换为 vga=ask 然后，选择预期的分辨率。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T09:34:56.157

也许您可以在这篇 wiki 文章中找到解决方案：[Android Emulation](http://ubuntuguide.org/wiki/Android_emulation)。

# android - Gps 不适用于 Android 2.3.3

> ID：11095664
> 
> 赞同：3
> 
> 时间：2012-06-19T06:41:03.070
> 
> 标签：android, android-4.0-ice-cream-sandwich, android-location, android-2.3-gingerbread

我下载了一个应用程序，它给出了用户的纬度和经度，并从 GPS 获取信息。下面的代码在那里，它在 Android 4.0.3 上运行良好，但在 Android 2.3.3 上它不起作用。我在模拟器和设备上都试过了。在 Android 4.0.3 设备和模拟器上，完美运行，但在 Android 2.3.3 设备和模拟器上不起作用。这是我从网上下载的项目链接。 [http://www.javacodegeeks.com/2010/09/android-location-based-services.html](http://www.javacodegeeks.com/2010/09/android-location-based-services.html)

感谢您的帮助。

```
package com.javacodegeeks.android.lbs;

import android.app.Activity;
import android.content.Context;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.Toast;

public class LbsGeocodingActivity extends Activity {

    private static final long MINIMUM_DISTANCE_CHANGE_FOR_UPDATES = 1; // in Meters
    private static final long MINIMUM_TIME_BETWEEN_UPDATES = 1000; // in Milliseconds

    protected LocationManager locationManager;

    protected Button retrieveLocationButton;

    @Override
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        retrieveLocationButton = (Button) findViewById(R.id.retrieve_location_button);

        locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);

        locationManager.requestLocationUpdates(
                LocationManager.GPS_PROVIDER, 
                MINIMUM_TIME_BETWEEN_UPDATES, 
                MINIMUM_DISTANCE_CHANGE_FOR_UPDATES,
                new MyLocationListener()
        );

        retrieveLocationButton.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {
                showCurrentLocation();
            }
        });        

    }    

    protected void showCurrentLocation() {

        Location location = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);

        if (location != null) {
            String message = String.format(
                    "Current Location \n Longitude: %1$s \n Latitude: %2$s",
                    location.getLongitude(), location.getLatitude()
            );
            Toast.makeText(LbsGeocodingActivity.this, message,
                    Toast.LENGTH_LONG).show();
        }

    }   

    private class MyLocationListener implements LocationListener {

        public void onLocationChanged(Location location) {
            String message = String.format(
                    "New Location \n Longitude: %1$s \n Latitude: %2$s",
                    location.getLongitude(), location.getLatitude()
            );
            Toast.makeText(LbsGeocodingActivity.this, message, Toast.LENGTH_LONG).show();
        }

        public void onStatusChanged(String s, int i, Bundle b) {
            Toast.makeText(LbsGeocodingActivity.this, "Provider status changed",
                    Toast.LENGTH_LONG).show();
        }

        public void onProviderDisabled(String s) {
            Toast.makeText(LbsGeocodingActivity.this,
                    "Provider disabled by the user. GPS turned off",
                    Toast.LENGTH_LONG).show();
        }

        public void onProviderEnabled(String s) {
            Toast.makeText(LbsGeocodingActivity.this,
                    "Provider enabled by the user. GPS turned on",
                    Toast.LENGTH_LONG).show();
        }

    }

} 
```

这是将坐标发送到我的 2.3.3 模拟器后的 logcat

```
06-19 10:04:27.614: I/ActivityManager(60): Displayed com.javacodegeeks.android.lbs/.LbsGeocodingActivity: +1s18ms
06-19 10:04:56.424: I/DEBUG(30): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
06-19 10:04:56.424: I/DEBUG(30): Build fingerprint: 'generic/sdk/generic:2.3.3/GRI34/101070:eng/test-keys'
06-19 10:04:56.434: I/DEBUG(30): pid: 60, tid: 161  >>> system_server <<<
06-19 10:04:56.434: I/DEBUG(30): signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 00000000
06-19 10:04:56.434: I/DEBUG(30):  r0 00000000  r1 40643f90  r2 41adff0c  r3 4689fc74
06-19 10:04:56.434: I/DEBUG(30):  r4 00000138  r5 00000000  r6 40643f90  r7 41adff0c
06-19 10:04:56.434: I/DEBUG(30):  r8 80701321  r9 80702240  10 00100000  fp 00000001
06-19 10:04:56.434: I/DEBUG(30):  ip ae20e7ec  sp 4689fc60  lr ae20acd7  pc ae207dfe  cpsr 00000030
06-19 10:04:56.694: I/DEBUG(30):          #00  pc 00007dfe  /system/lib/libandroid_servers.so
06-19 10:04:56.694: I/DEBUG(30):          #01  pc 0000acd2  /system/lib/libandroid_servers.so
06-19 10:04:56.704: I/DEBUG(30):          #02  pc 000012ca  /system/lib/hw/gps.goldfish.so
06-19 10:04:56.704: I/DEBUG(30):          #03  pc 000014ae  /system/lib/hw/gps.goldfish.so
06-19 10:04:56.714: I/DEBUG(30):          #04  pc 00011a7c  /system/lib/libc.so
06-19 10:04:56.714: I/DEBUG(30):          #05  pc 00011640  /system/lib/libc.so
06-19 10:04:56.714: I/DEBUG(30): code around pc:
06-19 10:04:56.714: I/DEBUG(30): ae207ddc ab04b082 9301cb04 6f646804 b00247a0 
06-19 10:04:56.724: I/DEBUG(30): ae207dec bc08bc10 4718b002 b510b40c ab04b082 
06-19 10:04:56.734: I/DEBUG(30): ae207dfc 6804cb04 34f89301 47a06824 bc10b002 
06-19 10:04:56.734: I/DEBUG(30): ae207e0c b002bc08 46c04718 b510b40c ab04b082 
06-19 10:04:56.734: I/DEBUG(30): ae207e1c 9301cb04 34986804 47a06824 bc10b002 
06-19 10:04:56.734: I/DEBUG(30): code around lr:
06-19 10:04:56.744: I/DEBUG(30): ae20acb4 91099008 f7fb6aa0 900aeab6 1c3a910b 
06-19 10:04:56.744: I/DEBUG(30): ae20acc4 6b646b23 930c1c28 1c31940d f7fd9b0f 
06-19 10:04:56.744: I/DEBUG(30): ae20acd4 4906f88f 44791c28 f7ff3150 b011fe1d 
06-19 10:04:56.754: I/DEBUG(30): ae20ace4 46c0bdf0 000043cc 00004148 00000786 
06-19 10:04:56.754: I/DEBUG(30): ae20acf4 f7fbb510 bd10ec24 4802b510 f7fb4478 
06-19 10:04:56.754: I/DEBUG(30): stack:
06-19 10:04:56.754: I/DEBUG(30):     4689fc20  b295e9e2  
06-19 10:04:56.754: I/DEBUG(30):     4689fc24  4092dccc  
06-19 10:04:56.764: I/DEBUG(30):     4689fc28  00000009  
06-19 10:04:56.764: I/DEBUG(30):     4689fc2c  00000000  
06-19 10:04:56.764: I/DEBUG(30):     4689fc30  0000ab90  [heap]
06-19 10:04:56.764: I/DEBUG(30):     4689fc34  80048c1b  /system/lib/libdvm.so
06-19 10:04:56.764: I/DEBUG(30):     4689fc38  0000ab90  [heap]
06-19 10:04:56.764: I/DEBUG(30):     4689fc3c  4689fc6c  
06-19 10:04:56.774: I/DEBUG(30):     4689fc40  00010004  [heap]
06-19 10:04:56.774: I/DEBUG(30):     4689fc44  80037667  /system/lib/libdvm.so
06-19 10:04:56.774: I/DEBUG(30):     4689fc48  00000000  
06-19 10:04:56.774: I/DEBUG(30):     4689fc4c  afd0dcc4  /system/lib/libc.so
06-19 10:04:56.774: I/DEBUG(30):     4689fc50  afb18a0c  /system/lib/libm.so
06-19 10:04:56.774: I/DEBUG(30):     4689fc54  4689fe00  
06-19 10:04:56.774: I/DEBUG(30):     4689fc58  df002777  
06-19 10:04:56.774: I/DEBUG(30):     4689fc5c  e3a070ad  
06-19 10:04:56.774: I/DEBUG(30): #00 4689fc60  00000045  
06-19 10:04:56.785: I/DEBUG(30):     4689fc64  ad331275  /system/lib/libandroid_runtime.so
06-19 10:04:56.785: I/DEBUG(30):     4689fc68  00000138  
06-19 10:04:56.785: I/DEBUG(30):     4689fc6c  ae20acd7  /system/lib/libandroid_servers.so
06-19 10:04:56.785: I/DEBUG(30):     4689fc70  41adff0c  /dev/ashmem/dalvik-LinearAlloc (deleted)
06-19 10:04:56.785: I/DEBUG(30):     4689fc74  00000001  
06-19 10:04:56.785: I/DEBUG(30): #01 4689fc78  6bea7b7c  
06-19 10:04:56.785: I/DEBUG(30):     4689fc7c  40283d70  /dev/ashmem/dalvik-heap (deleted)
06-19 10:04:56.794: I/DEBUG(30):     4689fc80  6bea7b7c  
06-19 10:04:56.794: I/DEBUG(30):     4689fc84  40283d70  /dev/ashmem/dalvik-heap (deleted)
06-19 10:04:56.794: I/DEBUG(30):     4689fc88  00000000  
06-19 10:04:56.794: I/DEBUG(30):     4689fc8c  00000000  
06-19 10:04:56.794: I/DEBUG(30):     4689fc90  00000000  
06-19 10:04:56.794: I/DEBUG(30):     4689fc94  00000000  
06-19 10:04:56.794: I/DEBUG(30):     4689fc98  00000000  
06-19 10:04:56.794: I/DEBUG(30):     4689fc9c  00000000  
06-19 10:04:56.794: I/DEBUG(30):     4689fca0  00000000  
06-19 10:04:56.794: I/DEBUG(30):     4689fca4  00000000  
06-19 10:04:56.804: I/DEBUG(30):     4689fca8  00c05100  
06-19 10:04:56.804: I/DEBUG(30):     4689fcac  00000138  
06-19 10:04:56.804: I/DEBUG(30):     4689fcb0  4689fe56  
06-19 10:04:56.804: I/DEBUG(30):     4689fcb4  00000001  
06-19 10:04:56.804: I/DEBUG(30):     4689fcb8  0000000a  
06-19 10:04:56.804: I/DEBUG(30):     4689fcbc  4689fde8  
06-19 10:04:56.804: I/DEBUG(30):     4689fcc0  00000000  
06-19 10:04:56.804: I/DEBUG(30):     4689fcc4  807018d5  /system/lib/hw/gps.goldfish.so
06-19 10:04:56.804: I/DEBUG(30):     4689fcc8  00000045  
06-19 10:04:56.804: I/DEBUG(30):     4689fccc  807012cd  /system/lib/hw/gps.goldfish.so
06-19 10:05:10.654: D/Zygote(32): Process 60 terminated by signal (11)
06-19 10:05:10.654: I/Zygote(32): Exit zygote because system server (60) has terminated
06-19 10:05:10.674: I/ActivityThread(233): Removing dead content provider: settings
06-19 10:05:10.674: I/ActivityThread(169): Removing dead content provider: settings
06-19 10:05:10.684: I/ServiceManager(27): service 'SurfaceFlinger' died
06-19 10:05:10.684: I/ServiceManager(27): service 'batteryinfo' died
06-19 10:05:10.684: I/ServiceManager(27): service 'usagestats' died
06-19 10:05:10.684: I/ServiceManager(27): service 'sensorservice' died
06-19 10:05:10.684: I/ServiceManager(27): service 'entropy' died
06-19 10:05:10.684: I/ServiceManager(27): service 'power' died
06-19 10:05:10.684: I/ServiceManager(27): service 'telephony.registry' died
06-19 10:05:10.684: I/ServiceManager(27): service 'account' died
06-19 10:05:10.684: I/ServiceManager(27): service 'content' died
06-19 10:05:10.684: I/ServiceManager(27): service 'package' died
06-19 10:05:10.684: I/ServiceManager(27): service 'activity' died
06-19 10:05:10.684: I/ServiceManager(27): service 'meminfo' died
06-19 10:05:10.684: I/ServiceManager(27): service 'cpuinfo' died
06-19 10:05:10.684: I/ServiceManager(27): service 'permission' died
06-19 10:05:10.684: I/ServiceManager(27): service 'hardware' died
06-19 10:05:10.684: I/ServiceManager(27): service 'battery' died
06-19 10:05:10.684: I/ServiceManager(27): service 'vibrator' died
06-19 10:05:10.684: I/ServiceManager(27): service 'alarm' died
06-19 10:05:10.684: I/ServiceManager(27): service 'window' died
06-19 10:05:10.684: I/ServiceManager(27): service 'statusbar' died
06-19 10:05:10.684: I/ServiceManager(27): service 'clipboard' died
06-19 10:05:10.684: I/ServiceManager(27): service 'device_policy' died
06-19 10:05:10.684: I/ServiceManager(27): service 'network_management' died
06-19 10:05:10.684: I/ServiceManager(27): service 'input_method' died
06-19 10:05:10.684: I/ServiceManager(27): service 'netstat' died
06-19 10:05:10.684: I/ServiceManager(27): service 'wifi' died
06-19 10:05:10.684: I/ServiceManager(27): service 'connectivity' died
06-19 10:05:10.684: I/ServiceManager(27): service 'throttle' died
06-19 10:05:10.684: I/ServiceManager(27): service 'accessibility' died
06-19 10:05:10.694: I/ServiceManager(27): service 'mount' died
06-19 10:05:10.694: I/ActivityThread(364): Removing dead content provider: settings
06-19 10:05:10.694: I/ActivityThread(131): Removing dead content provider: settings
06-19 10:05:10.704: I/ActivityThread(121): Removing dead content provider: settings
06-19 10:05:10.704: I/ActivityThread(126): Removing dead content provider: settings
06-19 10:05:10.724: I/ServiceManager(27): service 'notification' died
06-19 10:05:10.724: I/ServiceManager(27): service 'devicestoragemonitor' died
06-19 10:05:10.724: I/ServiceManager(27): service 'search' died
06-19 10:05:10.724: I/ServiceManager(27): service 'dropbox' died
06-19 10:05:10.724: I/ServiceManager(27): service 'wallpaper' died
06-19 10:05:10.724: I/ServiceManager(27): service 'location' died
06-19 10:05:10.724: I/ServiceManager(27): service 'uimode' died
06-19 10:05:10.724: I/ServiceManager(27): service 'audio' died
06-19 10:05:10.724: I/ServiceManager(27): service 'backup' died
06-19 10:05:10.724: I/ServiceManager(27): service 'appwidget' died
06-19 10:05:10.724: I/ServiceManager(27): service 'diskstats' died
06-19 10:05:10.734: E/installd(34): eof
06-19 10:05:10.734: E/installd(34): failed to read size
06-19 10:05:10.734: I/installd(34): closing connection
06-19 10:05:10.734: D/qemud(37): fdhandler_event: disconnect on fd 11
06-19 10:05:10.754: E/InputQueue-JNI(131): channel '4066e8c8 StatusBar (client)' ~ Publisher closed input channel or an error occurred.  events=0x8
06-19 10:05:10.754: E/InputQueue-JNI(131): channel '4063ba90 TrackingView (client)' ~ Publisher closed input channel or an error occurred.  events=0x8
06-19 10:05:10.834: I/ServiceManager(27): service 'isms' died
06-19 10:05:10.834: I/ServiceManager(27): service 'simphonebook' died
06-19 10:05:10.834: I/ServiceManager(27): service 'iphonesubinfo' died
06-19 10:05:10.834: I/ServiceManager(27): service 'phone' died
06-19 10:05:10.855: I/ServiceManager(27): service 'media.audio_flinger' died
06-19 10:05:10.855: I/ServiceManager(27): service 'media.audio_policy' died
06-19 10:05:10.855: I/ServiceManager(27): service 'media.player' died
06-19 10:05:10.855: I/ServiceManager(27): service 'media.camera' died
06-19 10:05:11.044: I/Netd(376): Netd 1.0 starting
06-19 10:05:11.894: D/AndroidRuntime(377): >>>>>> AndroidRuntime START com.android.internal.os.ZygoteInit <<<<<<
06-19 10:05:11.894: D/AndroidRuntime(377): CheckJNI is ON
06-19 10:05:12.274: I/(375): ServiceManager: 0xad50
06-19 10:05:12.274: D/AudioHardwareInterface(375): setMode(NORMAL)
06-19 10:05:12.285: I/CameraService(375): CameraService started (pid=375)
06-19 10:05:12.324: I/AudioFlinger(375): AudioFlinger's thread 0xc658 ready to run
06-19 10:05:12.964: I/SamplingProfilerIntegration(377): Profiler is disabled.
06-19 10:05:13.024: I/Zygote(377): Preloading classes... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:12:32.700

我认为您没有将以下权限添加到您的`Manifest.xml`：

```
<manifest ... >
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    ...
</manifest> 
```

您需要它才能访问用户位置。

# netbeans - 在 Netbeans SMSLIB 中发送和接收 SMS

> ID：11095665
> 
> 赞同：0
> 
> 时间：2012-06-19T06:41:06.103
> 
> 标签：netbeans, smslib

我正在做一个项目，在这个项目中，我通过 SMSLIB 发送短信并在计算机中接收它们，其中移动设备通过蓝牙连接到我的计算机。我必须获取连接到我的计算机的手机的手机号码，但我无法找到它的功能。请帮助我。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T10:55:34.710

这是一个迟到的回应，你可能已经有了答案，但事实是你做不到。你必须知道你的调制解调器（或手机）正在使用的 SIM 卡的号码。

我通常将网关 ID 设置为电话号码。这有助于调试等，尤其是在您有多个调制解调器的情况下。

# php - 当用户使用 jquery 和 php 滚动到底部时从数据库加载新内容？

> ID：11095666
> 
> 赞同：0
> 
> 时间：2012-06-19T06:41:11.843
> 
> 标签：php, jquery

当用户滚动到页面底部时，我正在尝试将新内容从数据库加载到我的页面。这将如何实现？我已经将 jquery 的 ajax 和 php 结合起来，但我不知道。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:53:15.337

我猜不需要任何插件。为此的 jQuery 代码

```
$(window).scroll(function () { 
   if ($(window).scrollTop() >= $(document).height() - $(window).height() - 10) {
      //Add jQuery ajax code here to fetch data from server/database and append more elements etc
   }
}); 
```

# c# - 'CheckBox' 是 'System.Web.UI.WebControls.CheckBox' 和 'System.Windows.Forms.CheckBox' 之间的模糊引用

> ID：11095668
> 
> 赞同：1
> 
> 时间：2012-06-19T06:41:41.650
> 
> 标签：c#, namespaces

我正在使用`ToolTip`来自命名空间的类编辑我的 Web 应用程序`System.Windows.Forms`；我的代码中有几个复选框，因此它显示此错误：

> `System.Web.UI.WebControls.CheckBox`'CheckBox' 是和 之间的模棱两可的引用 `System.Windows.Forms.CheckBox1`

我应该怎么做才能在我的 Web 应用程序中运行此工具提示

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:49:46.987

问题是，你已经在 -部分引用`System.Web.UI.WebControls`了。如果您需要两者，则可以通过以下方式显式使用复选框：`System.Windows.Forms``using``System.Web.UI.WebControls`

```
using CheckBox = System.Web.UI.WebControls.CheckBox 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:48:41.190

只需根据需要使用复选框的完整路径/名称即可。例如，如果您想要 WinForms 中的复选框，您可以在代码中编写 System.Web.UI.WebControls.Checkbox 而不仅仅是 Checkbox。

还要检查您为什么在 Web 应用程序中使用 System.Windows.Forms 命名空间。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-19T07:02:00.073

删除 using of`System.Windows.Forms`并使用 ToolTip，就`System.Windows.Forms.ToolTip`好像它是您从那里唯一需要的一样。

# iphone - 带有自定义 UI 的 iSpeech SDK

> ID：11095672
> 
> 赞同：1
> 
> 时间：2012-06-19T06:41:49.590
> 
> 标签：iphone, ios, ios5, ispeech

我正在尝试将 iSpeech SDK ( [https://www.ispeech.org/developers/iphone](https://www.ispeech.org/developers/iphone) ) 用于我的 iPhone 应用程序进行语音识别。SDK工作正常。但我需要提供自己的 UI，我会根据他们的品牌指南显示他们的品牌。（[https://www.ispeech.org/downloads/iSpeech%20Standard%20Usage%20Guidelines.pdf](https://www.ispeech.org/downloads/iSpeech%20Standard%20Usage%20Guidelines.pdf)）

我正在使用 ISSpeechRecognition 类的 - (BOOL)listen:(NSError **)err 方法。所有现有的 UI 都来自 SDK。我需要改变它。

以上要求可以吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-29T07:42:09.347

如果您需要上述要求，那么您可以联系 iSpeech.org，他们会给您一个新的 SDK，您可以自定义这些默认行为。在那里你可以隐藏那些 iSpeech 特定的对话框等。

重要提示：他们会向您询问有关您的申请的问题。如果您的应用程序是免费的，那么他们将免费分发新的 SDK。否则我不确定。就我而言，他们免费分发了 SDK。

# php - 使用分隔符将数组拆分为块

> ID：11095682
> 
> 赞同：2
> 
> 时间：2012-06-19T06:42:41.680
> 
> 标签：php

希望每个人都做得很好...

我正在寻找类似于`array_chunk()`但使用空值作为分隔符的东西？

我有 -

```
Array
(
    [0] => /some/path:
    [1] => file.csv
    [2] => file.dat
    [3] => 
    [4] => /some/other/path:
    [5] => file.csv
    [6] => file.csv.gz
    [7] => file.dat
    [8] => 
    [9] => /some/other/other/path:
    [10] => file.csv
    [11] => file.dat
) 
```

并希望实现——

```
Array
(
    [0] => Array
        (
            [0] => /some/path:
            [1] => file.csv
            [2] => file.dat
        )

    [1] => Array
        (
            [0] => /some/other/path:
            [1] => file.csv
            [2] => file.csv.gz
            [3] => file.dat
        )

    [2] => Array
        (
            [0] => /some/other/other/path:
            [1] => file.csv
            [2] => file.dat
        )
) 
```

现在我不能每 3 个分块，因为您可以看到某些位置将有超过 1 个文件。

我可以通过循环和计数器来实现，但我认为会有更清洁的方法？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T06:49:24.390

我能想到的最好方法是这个循环，我认为它很干净：

```
/**
 * @param array  $inputArr  The array you wish to split.
 * @param string $splitStr  The string you wish to split by.
 *
 * @return array
 */
function split_arrays($inputArr, $splitStr) {
    $outputArr = array();
    $i         = 0;
    foreach ($inputArr as $data) {
        if ($data == $splitStr) {
            $i++;
            continue;
        }
        $outputArr[$i][] = $data;
    }
    return $outputArr;
} 
```

我想到的另一种方式也使用循环，但不那么干净。它搜索下一个拆分字符串的索引并断开该块。

```
/**
 * @param array  $inputArr  The array you wish to split.
 * @param string $splitStr  The string you wish to split by.
 *
 * @return array
 */
function split_arrays2($inputArr,$splitStr) {
    $outputArr = array(); $i=0;
    while(count($inputArr)) {
        $index = array_search($splitStr,$inputArr)
        if($index === false) $index = count($inputArr);
        $outputArr[$i++] = array_slice($inputArr,0,$index);
        $inputArr = array_slice($inputArr,$index+1);
    }
    return $outputArr;
} 
```

当且仅当您使用一个字符串作为拆分字符串，该字符串永远不会出现在其他字符串的中间（空格可能会或可能不会出现这种情况），那么我同意其他内爆和爆炸的简单得多。在你的情况下：

```
/**
 * @param array  $inputArr  The array you wish to split.
 * @param string $splitStr  The string you wish to split by.
 *
 * @return array
 */
function split_arrays3($inputArr,$splitStr) {
    $outputArr = array(); $i=0;
    $str = implode("|",$inputArr);
    $arr = explode("|$splitStr|");
    foreach($arr as $i=>$string)
        $outputArr[$i] = explode("|",$string);
    return $outputArr;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T07:14:08.840

```
$res = array();
foreach(explode("\n\n", implode("\n", $arr)) as $k => $v) {
  $res[$k] = explode("\n", $v);
} 
```

`$res`将包含您想要的数组。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T06:54:29.313

你有两个字符肯定不会出现在数组字符串中吗？如果是这样，假设它们是`#`并且`;`

我们将使用`implode`和的组合`explode`

然后：

```
$arrstring = implode(';',$old_array);   // Split via ; spearators
$arrstring = str_replace(';;','#',$arrstring); // If two ;; then mark end of array as #
$new_pre_array = explode('#',$arrstring); // Outer array

// Inner array
foreach($new_pre_array as $key => $entry) {
 $temp_sub_array = explode(';',$entry);
 $new_pre_array[$key] = $temp_sub_array;
}

return $new_pre_array; 
```

参考： http: [//php.net/manual/en/function.explode.php](http://php.net/manual/en/function.explode.php) http://php.net/manual/en/function.implode.php

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T06:57:32.820

```
$chunked = chunkArray($your_array);

function chunkArray($array){
    $return = array();
    $index = 0;
    foreach($array as $ar){
        if($ar == "" or $ar == null){
            $index++;
        }
        else{
            $return[$index][] = $ar;
        }
    }
    return $return;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-19T16:17:06.837

我选择首先定位`$array`必须拆分数组的位置：

```
$splitAt = array_keys($array, '', TRUE); 
```

这其实是最神奇的。然后该`array_splice`函数可用于从输入数组中获取块，只是一个临时变量，我将其命名为`$last`：

```
$last = 0; 
```

用于跟踪，因为长度不是位置。然后将这些`$splitAt`用于插入

```
$result = array(); 
```

`$result`大批：

```
foreach($splitAt as $pos) {
    $result[] = array_splice($array, 0, $pos - $last);
    unset($array[0]);
    $last += $pos + 1;
} 
```

然后将数组中剩余的块添加为最后一个元素：

```
$result[] = $array; 
```

就是这样。完整的示例（[演示](http://codepad.org/GOv6BaK4)）：

```
/**
 * explode array by delimiter
 *
 * @param mixed $delimiter
 * @param array $array
 * @return array
 */
function array_explode($delimiter, array $array)
{
    $splitAt = array_keys($array, $delimiter, TRUE);
    $last = 0;
    $result = array();
    foreach ($splitAt as $pos) {
        $result[] = array_splice($array, 0, $pos - $last);
        $array && unset($array[0]);
        $last += $pos + 1;
    }
    $result[] = $array;
    return $result;
}

# Usage:

var_dump(array_explode('', $array)); 
```

我命名该函数`array_explode`是因为它`explode`在字符串上工作，但在数组上工作。

我看到的第二个选项（可能更可取）是遍历数组并根据它的值处理它：添加到当前元素或将当前元素添加到它：

```
/**
 * explode array by delimiter
 *
 * @param mixed $delimiter
 * @param array $array
 * @return array
 */
function array_explode($delimiter, array $array)
{
    $result[] = &$current;
    foreach($array as $value) {
        if ($value === $delimiter) {
            unset($current);
            $result[] = &$current;
            continue;
        }
        $current[] = $value;
    }
    return $result;
} 
```

# c# - 如何编写 C# 查询来检查 XML 的属性

> ID：11095688
> 
> 赞同：-3
> 
> 时间：2012-06-19T06:43:11.540
> 
> 标签：c#, xml

/*如何编写 C# 查询来检查下面列出的 XML 的属性以及 XML“Icolumn”元素中的字符串“RIA:RIB:RIC:RID:RIE:RIF##0-15”。实际上，我需要阅读带有 RI 和第 0-15 列的字母 A、B、C、D、E、F。*/

```
<?xml version="1.0" encoding="utf-8" ?>
<!--.......... Downlink DL ....................................-->
<Panel>
<DL IRows = "1" >
<DL Columns="1">
<Icolumn> RIA:RIB:RIC:RID:RIE:RIF##0-15 </Icolumn>
</DL>
</DL>

<DL IRows = "1" >
<DL Columns="2">
<Icolumn> RIA:RIB:RIC:RID:RIE:RIF##0-15 </Icolumn>
</DL>
</DL>

<DL IRows = "1" >
<DL Columns="3">
<Icolumn> RIA:RIB:RIC:RID:RIE:RIF##0-15 </Icolumn>
</DL></DL>

<DL IRows = "1" >
<DL Columns="4">
<Icolumn> RIA:RIB:RIC:RID:RIE:RIF##0-15 </Icolumn>
</DL>
</DL> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:23:58.447

您可以使用此查询来获取节点的属性和`DL`节点的值`Icolumn`。

```
var doc = XElement.Load(@"path to your xml");
var result = doc.Nodes()
    .Cast<XElement>()
    .Select(n=>
    {
        var columnsDlElement = n.FirstNode as XElement;
        var iColumnElement = columnsDlElement.FirstNode as XElement;
        return new
        {
            Rows = Convert.ToInt32(n.Attribute("IRows").Value),
            Columns = Convert.ToInt32(columnsDlElement.Attribute("Columns").Value),
            IColumn = iColumnElement.Value
         };
     }); 
```

但是，我并没有完全理解你想对`Icolumn`元素的值做什么，所以我不能在这里提供任何代码。

# version-control - 自动化 bzr diff 和 bzr pull

> ID：11095701
> 
> 赞同：0
> 
> 时间：2012-06-19T06:44:00.713
> 
> 标签：version-control, automation, bazaar

为了使版本控制系统（服务器）分支中的任何更改自动化集市版本控制系统，它将自动拉到语言环境节点，以获得在版本控制系统（服务器）和本地节点上创建的分支之间的差异

```
bzr diff 
```

然后使用拉取代码

```
bzr pull 
```

但这使得**每天的工作**开始**如何自动化这个**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T12:15:37.177

您可以使用操作系统的机制来安排任务。在 Ubuntu/Linux 中，您可以添加一个 crontab 脚本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T08:55:54.603

也许您想以集中式的方式使用 Bazaar。在 Bazaar 中，您可以“绑定”到远程分支，这意味着您在本地分支中的提交也将应用于远程分支。

```
bzr bind URL 
```

`bzr branch`...其中 URL 是您或`bzr pull`来自的分支。

这样你就可以跳过日常`bzr push`。

如果您从多台计算机上使用远程存储库，您仍然需要在开始任何工作之前更新本地分支。（好吧，您并不是真的“必须”这样做，但如果您更喜欢没有意外分歧分支的简单工作流程，那么您想要这样做。）您可以使用`bzr up`or更新绑定的分支`bzr pull`。

# iphone - 在 UILabels 中显示 Game Center 高分

> ID：11095702
> 
> 赞同：0
> 
> 时间：2012-06-19T06:44:13.347
> 
> 标签：iphone, ios, xcode, game-center

我正在制作一个最多 2 名玩家的回合制 iPhone 游戏，在我的游戏中，您可以获得一个分数，该分数将被放入游戏中心排行榜。下次您开始游戏时，您的最高分将被检索，您可以将其提高，因为该应用程序依赖于之前的高分。我找到了一些代码来获取经过身份验证的玩家得分但我也想显示你正在玩的对手的得分，我想知道如何？

这是我为经过身份验证的玩家（您自己）找到的代码

```
 if([GKLocalPlayer localPlayer].authenticated) {
NSArray *arr = [[NSArray alloc] initWithObjects:[GKLocalPlayer localPlayer].playerID, nil];
GKLeaderboard *board = [[GKLeaderboard alloc] initWithPlayerIDs:arr];
if(board != nil) {
    board.timeScope = GKLeaderboardTimeScopeAllTime;
    board.range = NSMakeRange(1, 1);
    board.category = @"MY_LEADERBOARD";
    [board loadScoresWithCompletionHandler: ^(NSArray *scores, NSError *error) {
        if (error != nil) {
            // handle the error.
            NSLog(@"Error retrieving score.", nil);
        }
        if (scores != nil) {
            NSLog(@"My Score: %i", ((GKScore*)[scores objectAtIndex:0]).value);
        }
    }];
}
[board release];
[arr release];
} 
```

有没有办法修改它，所以它会显示我想要的？另外我在显示 NSLog(@"My Score: %i", ((GKScore*)[scores objectAtIndex:0]).value); 时遇到问题 在 UILabel :S

希望有人可以帮助我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-09T12:34:26.657

NSLog(@"我的分数：%lld", ((GKScore*)[scores objectAtIndex:0]).value);

分数值是 64 位整数，而不是整数

intValue longValue longLongValue <<==

# objective-c - 在 writeImageToSavedPhotosAlbum:metadata 期间遇到错误

> ID：11095703
> 
> 赞同：0
> 
> 时间：2012-06-19T06:44:14.113
> 
> 标签：objective-c, ios, metadata, alassetslibrary, nsnumberformatter

我遇到了一个我似乎无法弄清楚的奇怪行为。

我正在尝试使用以下方法用图像编写我自己的元数据：

```
[assetslibrary writeImageToSavedPhotosAlbum:imageA metadata:metadataAsMutable completionBlock:^(NSURL* assetURL1, NSError* error)... 
```

如果 metadataAsMutable 包含以下内容：

```
"{GPS}" =     {
    ImgDirection = "318.012299";
    Latitude = "1.373863";
    Longitude = "103.868583";
}; 
```

正确地，我会假设元数据是正确编写的。

但是，当我在保存图像后执行 NSLog 时，我注意到反映的信息与我之前定义的不同。

```
"{GPS}" =     {
    ImgDirection = "318.0123";
    Latitude = "1.373833333333333";
    Longitude = "103.8685";
}; 
```

有谁知道是什么导致了这种行为？我尝试使用 NSNumberFormatter 但它似乎没有帮助。我正在尝试精确到小数点后 6 位。

非常感谢任何建议/帮助。

# php - 如何保存自定义消息？

> ID：11095705
> 
> 赞同：0
> 
> 时间：2012-06-19T06:44:28.740
> 
> 标签：php, wordpress

我正在开发一个简单的插件来检查是否设置了**操作**（GET）参数，如果有这个参数，插件执行很少的操作。

现在，我正在寻找一种方法来保存此操作的结果。结果是一条简单的文本消息，描述了插件所做的操作。

我想创建一个全局变量（在插件的功能之外）并将消息保存在那里。

在我需要显示该消息的页面中，我可以创建并调用一个钩子-> 调用一个函数-> 打印此全局变量的值。

你怎么看？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:19:44.633

使用诸如 <example.php?module=X&action=Y¶meter=Z > 之类的 URL，这样的东西应该可以工作。

```
<?php
  function actionIsSet(){
    return (isset($_GET["action"]) ? true : false);
  }
  if (actionIsSet()){
    // Do stuff
  }
?> 
```

如果您需要 的值`action`，

```
 function actionIsSet(){
    return (isset($_GET["action"]) ? $_GET["action"] : false);
  }
  if (actionIsSet()){
    var action = actionIsSet();
    echo action; // here outputs "Y"
    // Do stuff
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:09:38.330

我想使用全局变量是一种不好的做法 =) 你为什么不返回函数的值？Hook 会调用这个函数并打印返回值

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T08:08:28.133

获取传递给脚本的所有参数

```
$parameters='';
foreach($_GET as $param){
 $parameteters .= $param."\n"; 
} 
```

稍后显示的换行符，可以使用nl2br在html中显示或在pre标签内写入参数值

```
if(isset($_GET['x'])){
$output_string .= "variable x was define with value ".$_GET['x'];
} 
```

继续检查一切

```
if(){}elseif(){}elseif(){} 
```

例子 ..

```
if(isset($_GET["module"])){
 // checking for module parameters
}elseif(isset($_GET["theme"])){
 // checking for theme parameters
}elseif(isset($_GET["pagebehavior"])){
 // checking for page behavior
}elseif(isset($_GET["cat"])){
 // checking for cat parameters
} 
```

这完全取决于您传递的参数以及您如何构建 ex。模块参数您要处理的内容等等..不要忘记`var_dump($_GET);`实际查看传递给脚本的参数，并将`echo $string`字符串使用或存储到 $_SESSION var 或存储到数据库中.. 使输出可用于大家，我建议存储到数据库，然后从表中获取并处理数据

# javascript - 这个递归函数是如何工作的？

> ID：11095708
> 
> 赞同：1
> 
> 时间：2012-06-19T06:44:33.487
> 
> 标签：javascript, recursion

我看不到这个递归函数是如何工作的：

```
function f(n) { g(n-1) }

function g(n) {
   alert("before: " + n);

   if(n > 0) f(n);

   alert("after: " + n);
}

f(2)​;​ 
```

我试图理解这段代码的工作原理，我看到了“1 之前”、“0 之前”和“0 之后”是如何执行的，但是......“1 之后”是如何产生的？

我看到它是这样执行的...... f(2) 调用 g 减去 1，所以 'n' 变为 1。 Alert("before: " + n) 被执行，1 大于 0，所以它会调用自己并减去 1 .alert("before:" + n) 再次执行，0不大于0所以会执行Alert("after:" + n) 函数结束？...

**编辑：**感谢@FlorianMargaine 和@Cyrille 帮助我理解这背后的逻辑。=)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T06:49:28.203

`after 1`源于在 Javascript 中，**参数是按值而不是按引用传递的**。所以在第一次迭代中，调用`if(n > 0) f(n);`which 调用`g(n-1)`不会递减`n`。它的值在`if(n > 0) f(n)`返回时保留，并保持其值 1。

这是一个调用图：

```
f(2) calls f(n) with n=2
├─ calls g(n-1), which is g(2-1) = g(1)
│   ├─ g(1) alerts "before: 1"
│   ├─ g(1), n > 0 ==> call f(1)
│   │   ├─ f(1) calls f(n) with n=1, but it's not the same "n"
│   │   │  as we're in another call (see the call tree?)
│   │   │   ├─ calls g(n-1), which is g(1-1) = g(0)
│   │   │   │   ├─ g(0) alerts "before: 0"
│   │   │   │   ├─ n == 0 ==> don't call f(n)
│   │   │   │   └─ g(0) alerts "after: 0"
│   │   └─ and that's all for f(1)
│   └─ g(1) alerts "after: 1"
└─ and that's all 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T06:48:18.447

查看调用顺序：

```
Calls f() with parameter 2
f() calls g() with parameter 2-1 -> 1
g() alerts "before: 1"
since n > 0, g() calls f() with parameter 1 -- and blocks further execution of current g() with parameter 1 - in other words, it goes down in "funception"
f() calls g() with parameter 1-1 -> 0
g() alerts "before: 0"
since n === 0, it skips the if
g() alerts "after: 0"
finally, the blocked execution can resume because the inner function has finished executing, so it alerts "after: 1" 
```

它并不是真正的“阻塞”，它只是在执行当前函数的其余部分之前执行内部函数。

为了清楚地理解逻辑，只需尝试通过“说出来”来遵循它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T06:50:02.513

现在更有意义？n ≤ 0 是基本情况。

```
function g(n) {
   alert("before: " + n);

   if(n > 0) g(n - 1);

   alert("after: " + n);
}

g(2)​;​ 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T07:05:45.350

每个函数调用最终都会返回。代码递归调用`f()`/ ，但在某些时候达到 0 并且没有在语句中调用，因此它会发出警报并开始返回调用链，最终到达第一个堆栈帧，其中is 。`g()``n``f()``if``after: 0``n``1`

# macos - 如何增加 textField acc 的高度。到输入的文本

> ID：11095713
> 
> 赞同：1
> 
> 时间：2012-06-19T06:45:27.357
> 
> 标签：macos, cocoa, nstextfield

我正在使用一个文本字段，当用户输入文本时，几句话后文本从头开始隐藏。所以有没有办法根据输入的文本增加文本字段的高度。现在看起来像这样。。 ![现在看起来像这样](../Images/641bff47d7c2f8f80c6cd8c29ff8083b.png)

请让我知道应该做些什么来解决这个问题。

# iphone - 如何根据经纬度获取地址？

> ID：11095720
> 
> 赞同：-1
> 
> 时间：2012-06-19T06:46:08.587
> 
> 标签：iphone, json

我在 iphone 中得到纬度和经度。但我想根据该纬度和经度查找地址。我用过ios5。请给我源代码以查找地址。我使用了这个代码 .m 文件

```
MKReverseGeocoder *geocoder = [[MKReverseGeocoder alloc] initWithCoordinate:Coordinate2D];

[geocoder setDelegate:self];

[geocoder start]; // put in vievdidload

-(void)reverseGeocoder:(MKReverseGeocoder *)geocoder didFindPlacemark:(MKPlacemark *)placemark
{    
    NSLog(@"The geocoder has returned: %@", [placemark country]);
}

-(void)reverseGeocoder:(MKReverseGeocoder *)geocoder didFailWithError:(NSError *)error
{
    NSLog(@"Error");
} 
```

但它给出了消息错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:53:51.967

一种方法是使用 google api 获取位置名称并解析 xml。希望对你有帮助

```
//Place below parser code where you are reading latlng and place your latlng in the url

NSXMLParser *parser = [[NSXMLParser alloc]initWithContentsOfURL:[NSURL URLWithString:@"http://maps.googleapis.com/maps/api/geocode/xml?latlng=40.714224,-73.961452&sensor=false"]];
[parser setDelegate:self];
[parser parse];

// Below are the delegates which will get you the exact address easyly

-(void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict
{    
  if([elementName isEqualToString:@"formatted_address"]){
    got = YES; //got is a BOOL
  }
}

-(void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string
{
  if(got){
    NSLog(@"the address is = %@",string);
  }
}

-(void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName{

}

//what we are doing is using xmlparser to parse the data which we get through the google map api copy above link and use in browser you will see the xml data brought 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T09:16:27.847

如果您使用的是 iOS5，那么这里是代码：-

```
CLGeocoder *geocoder = [[CLGeocoder alloc]init];
CLLocation *location = [[CLLocation alloc]initWithLatitude:10.0 longitude:10.0];
[geocoder reverseGeocodeLocation:location completionHandler:^(NSArray *placemarks, NSError *error) {
  if(!error){
       CLPlacemark *placemark = [placemarks objectAtIndex:0];
       MKPlacemark *placemark1 = [[MKPlacemark alloc]initWithPlacemark:placemark];
       [self.mapView addAnnotation:placemark1];   //mapView is object of MKMapView
     }
}]; 
```

# sql - 在 SQLite 数据库中定位顺序 id 块

> ID：11095722
> 
> 赞同：0
> 
> 时间：2012-06-19T06:46:18.027
> 
> 标签：sql, sqlite

我有一个包含数字列表的 SQLite 表。如下所示：

```
1
2
3
8
9
11
12
13
14
15
18
19 
```

我需要将它们变成具有顺序 ID 的块。例如，

```
1-3 
8-9 
11-15 
18-19 
```

这可能只使用SQL，还是我需要循环并比较以前的和当前的......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T08:48:45.047

我找到了使用临时表的解决方案。

首先，我们必须确定起点和终点：

[http://sqlfiddle.com/#!5/fdc26/13](http://sqlfiddle.com/#!5/fdc26/13)

```
SELECT
  a.x AS ax,
  CASE WHEN p.x IS NULL THEN 1
       WHEN n.x IS NULL THEN 2
       ELSE                  0
  END AS begin_or_end
FROM       num AS a
LEFT  JOIN num AS n ON a.x + 1 = n.x /* n: next */
LEFT  JOIN num AS p ON a.x - 1 = p.x /* p: prev */
WHERE p.x IS NULL
   OR n.x IS NULL
ORDER BY a.x ASC; 
```

或者，您可以将其拆分为两个查询：

```
SELECT a.x AS begin_point
FROM       num AS a
LEFT  JOIN num AS p ON a.x - 1 = p.x /* p: prev */
WHERE p.x IS NULL
ORDER BY a.x ASC;

SELECT a.x AS end_point
FROM       num AS a
LEFT  JOIN num AS n ON a.x + 1 = n.x /* n: next */
WHERE n.x IS NULL
ORDER BY a.x ASC; 
```

我选择了第一个选项来创建`lohi`在我的示例中调用的临时表。我使用每个表都有一个自动的事实`rowid`（有关更多详细信息，请参见[http://www.sqlite.org/lang_createtable.html/ROWIDs](http://www.sqlite.org/lang_createtable.html)和 INTEGER PRIMARY KEY）

最终查询：

[http://sqlfiddle.com/#!5/21770/1](http://sqlfiddle.com/#!5/21770/1)

```
SELECT lo.ax, hi.ax
FROM       lohi AS lo
INNER JOIN lohi AS hi ON lo.rowid+1 = hi.rowid
WHERE lo.rowid % 2; 
```

# asp.net - Lucene 出现次数

> ID：11095724
> 
> 赞同：0
> 
> 时间：2012-06-19T06:46:42.787
> 
> 标签：asp.net, lucene, lucene.net

我在我的 Web 应用程序中使用 Lucene.net。一切正常，但现在我必须在 hits 数组的每个文档中显示我的“搜索字符串”的出现次数。我怎样才能做到这一点？我使用通常的 BooleanQuery。

那是我的搜索：

```
BooleanQuery bq = new BooleanQuery();
bq.Add(QueryParser.Parse(Lquery, "", CurIndexDescritor.GetLangAnalizer()), false,false);
            BooleanQuery.SetMaxClauseCount(int.MaxValue);

IndexSearcher searcher = new IndexSearcher(indexPath);
            Hits hits = (filter != null) ? searcher.Search(bq, filter) :         searcher.Search(bq);

 for (int i = 0; i < hits.Length(); i++)
        {
            Document doc = hits.Doc(i);
            SearchResultItem MyDb = new SearchResultItem();
            MyDb.key = doc.Get(KeyField);
            MyDb.score = hits.Score(i);
            result.Add(MyDb);
        } 
```

我在哪里可以获得出现次数？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T00:30:58.813

如果您不想返回分数并且不想使用分数对结果进行排序，您可能会构建一个自定义`Similarity`实现。

我**快速**测试了以下代码，它似乎与 TermQueries 和 PhraseQueries 一起工作得很好，但我没有测试更多的查询类型。一次`PhraseQuery`命中计为一次出现。

```
public class OccurenceSimilarity : DefaultSimilarity
{
    public override float Tf(float freq)
    {
        return freq;
    }
    public override float Idf(int docFreq, int numDocs)
    {
        return 1;
    }
    public override float Coord(int overlap, int maxOverlap)
    {
        return 1;
    }
    public override float QueryNorm(float sumOfSquaredWeights)
    {
        return 1;
    }
    public override Explanation.IDFExplanation idfExplain(System.Collections.ICollection terms, Searcher searcher)
    {
        return CACHED_IDF_EXPLAIN;
    }
    public override Explanation.IDFExplanation IdfExplain(Term term, Searcher searcher)
    {
        return CACHED_IDF_EXPLAIN;
    }
    public override float SloppyFreq(int distance)
    {
        return 1;
    }
    private static Explanation.IDFExplanation CACHED_IDF_EXPLAIN = new ExplainIt();
    private class ExplainIt : Explanation.IDFExplanation
    {

        public override string Explain()
        {
            return "1";
        }

        public override float GetIdf()
        {
            return 1.0f;
        }
    }
} 
```

要使用它：

```
Similarity.SetDefault(new OccurenceSimilarity()); 
```

# php - 通过 API (PHP) 上传和下载功能

> ID：11095725
> 
> 赞同：0
> 
> 时间：2012-06-19T06:46:44.767
> 
> 标签：php, api, upload, download

我想开发一个具有上传和下载功能的简单网站。从我已经在互联网上阅读的内容来看，让用户向/从您的服务器上传/下载文件似乎真的很危险（我知道上传到非公共文件夹，但仍然如此）。有没有为此目的提供 API 的网站，或者有什么方法可以确保上传到您服务器的文件不会在某一天被炸毁？！？

注意：我正在使用 PHP 编程。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:57:53.123

只要您确保它们是不可执行的并且不会阻塞您的存储或带宽，您就可以了。

您也许可以在您的网站上使用[Dropbox API](https://www.dropbox.com/developers)，但我认为在解决一些旧问题的同时带来新问题的方法过于复杂。

# sql - Postgres plpgsql 存储函数中的文本相等（包括空值）

> ID：11095727
> 
> 赞同：4
> 
> 时间：2012-06-19T06:46:47.293
> 
> 标签：sql, postgresql, null, equals, plpgsql

我有一个存储函数，它应该比较三个文本值是否相等。其中一些文本值可能为空，如果是，则比较应返回假值。

```
CREATE OR REPLACE FUNCTION "subject_check_if_subjectName_exists"(name1IN text, name2IN text, name3IN text, name4IN text)
returns boolean as
$$
declare
    results boolean;
    subjectList record;
begin
    results = false;
    for subjectList in select name1, name2, name3, name4 from subject loop
    if (name1In = subjectList.name1) and (name2In = subjectList.name2) and (name3In = subjectList.name3) and (name4In = subjectList.name4)
      then
        results = true;
        EXIT; -- exit out of loop
    end if;
    end loop;
    return results;
end;
$$ language 'plpgsql'; 
```

name4IN 和 subjectList.name4 都为 null，并且所有其他值都相等，该函数不返回真值 - 它应该返回。即使它们为空（null = null 应该返回 true），我如何比较这些文本值？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-19T07:12:45.290

我想你想使用[`is not distinct from`](http://www.postgresql.org/docs/current/interactive/functions-comparison.html)：

> 对于非空输入，`IS DISTINCT FROM`与运算符相同`<>`。但是，如果两个输入都为 null，则返回 false，如果只有一个输入为 null，则返回 true。类似地，对于非空输入，它`IS NOT DISTINCT FROM`与 相同，但是当两个输入都为空时它返回真，当只有一个输入为空时它返回假。`=`

从本质上讲，`A is not distinct from B`就像`A = B`但它将 NULL 视为“相等”（即，它的行为就像大多数 SQL 新手认为`=`应该的那样）。例如，考虑这样一个简单的函数：

```
create function f(text,text) returns text as $$
begin
    if $1 is distinct from $2 then
        return '!=';
    end if;
    return '==';
end $$
language plpgsql; 
```

这会给你这样的结果：

```
=> select f(null, null) as "1"
          f(null, '') as "2",
          f('', '') as "3",
          f('pancakes','pancakes') as "4",
          f('pancakes', null) as "5",
          f('pancakes', 'house') as "6";
 1  | 2  | 3  | 4  | 5  | 6  
----+----+----+----+----+----
 == | != | == | == | != | != 
```

因此，您正在寻找这样的东西：

```
if (name1In is not distinct from subjectList.name1) and ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T06:55:35.560

使用合并：

```
if (coalesce(name1In, '') = coalesce(subjectList.name1, '') .... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T07:24:44.170

本质上，这就是我想要做的。我认为必须有一种更快的方法来比较包括空值在内的值。这就是我想要它做的事情：

```
-- Function to check subject names (name1,2,3 and 4) already exists
CREATE OR REPLACE FUNCTION "subject_check_if_subjectName_exists"(name1IN text, name2IN text, name3IN text, name4IN text)
returns boolean as
$$
declare
    results boolean;
    subjectList record;
begin
    results = false;
    for subjectList in select name1, name2, name3, name4 from subject loop
    if ((subjectList.name4 is null) and (name4IN is null)) then
        if ((subjectList.name3 is null) and (name3IN is null)) then
        if ((subjectList.name2 is null) and (name2IN is null)) then
          if (name1IN = subjectList.name1) then
            results = true;
            EXIT;
          end if;
        else
          if ((name1IN = subjectList.name1) and (name2IN = subjectList.name2)) then
            results = true;
            EXIT;
          end if;
        end if;
        else
          if ((name1IN = subjectList.name1) and (name2IN = subjectList.name2) and (name3IN = subjectList.name3)) then
        results = true;
        EXIT;
          end if;
        end if;
    else
      if ((name1IN = subjectList.name1) and (name2IN = subjectList.name2) and (name3IN = subjectList.name3) and (name4IN = subjectList.name4)) then
        results = true;
        EXIT;
          end if;
    end if;
    end loop;
    return results;
end;
$$ language 'plpgsql'; 
```

将尝试与现在不同。

感谢您的帮助。非常感激！

# linux - 在java 5中设置文件权限

> ID：11095728
> 
> 赞同：1
> 
> 时间：2012-06-19T06:46:50.937
> 
> 标签：linux, jsp, file-permissions, java-5

我正在使用以下代码上传图片。问题是上传图片后我无法更改文件权限。我的文件权限默认设置为`rw-r--r--`( `0644`)。是否可以更改文件权限或将其设置为`0777`默认值？它在我的本地系统中运行良好。但无法更改我的 linux 服务器中的权限。

```
 <%
    try

    {

        int filesize=0;
        String fieldname="",fieldvalue="",filename="",content="",bookid="",bkdescription="";        

        try {
            List<FileItem> items = new ServletFileUpload(new DiskFileItemFactory()).parseRequest(request);
            for (FileItem item : items) {
                if (item.isFormField()) {
                    fieldname = item.getFieldName();
                    fieldvalue = item.getString();                 
                    if(fieldname.equals("homeid")){
                        bookid=fieldvalue;
                    }

                    if(fieldname.equals("bkdescription")){
                        bkdescription=fieldvalue;
                    }             

                } else {
                    try{
                    fieldname = item.getFieldName();
                    filename = FilenameUtils.getName(item.getName());
                    InputStream filecontent = item.getInputStream();
                    filesize=(int)item.getSize();
                    filename="literal_"+bookid+".jpg";
                    if(filesize>0){                     
                    byte[] b=new byte[filesize];                  
                    int c=0;                                   

                    File f=new File(getServletConfig().getServletContext().getRealPath("/")+"/imagesX");
    String filePah=getServletConfig().getServletContext().getRealPath("/")+"/imagesX";

                    if(f.isDirectory())
                    {
                        String fl[]=f.list();
                        for(int i=0;i<fl.length;i++)

                            {

              File fd=new File(getServletConfig().getServletContext().getRealPath("/")+"/imagesX/"+fl[i]);
                             if(fd.getName().equals(filename))
                             fd.delete();

                        }

                    }

                    if(!f.exists())
    {
            new File(filePah).mkdir();      
f.mkdir()
    }                

   java.io.FileOutputStream fout=new java.io.FileOutputStream(getServletConfig().getServletContext().getRealPath("/")+"/imagesX/"+filename);    

                    while((c = filecontent.read(b)) != -1 )
                    {
                        fout.write(b, 0, c);

                    }

                    fout.close();
                    filecontent.close();
                    }

                    }catch (Exception e) {
                System.out.println("Exception in creation of file      :"+e);

                    }

                }

            }

        } catch (FileUploadException e) {
            throw new ServletException("Cannot parse multipart request.", e);
        }

    }

    catch(Exception exp)

    {
        out.println(exp);
    }

    %> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:18:44.580

您不能从 Java 代码内部更改文件权限。

您系统的默认 umask 设置为`0644`用于新文件。更改默认 umask 不是一个好主意。

您需要做的是将目录的权限设置为`0777`，然后将目录的权限重新定义`ACL`为递归，因此在其中创建的所有新文件都将继承相同的权限。

这是一个显示如何进行的链接 - [https://superuser.com/questions/151911/how-to-make-new-file-permission-inherit-from-the-parent-directory](https://superuser.com/questions/151911/how-to-make-new-file-permission-inherit-from-the-parent-directory)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-16T18:51:13.467

另一种解决方案是使用系统命令 chmod 从外部更改权限。

例子：

```
public static void runCmd (String[] cmd) {

    try {
        Process p = Runtime.getRuntime().exec(cmd);
        BufferedReader r = new BufferedReader(
            new InputStreamReader (
                p.getInputStream()
            )
        );
    } catch(Exception e) {
    }
}

    runCmd(new String[] {
        "/bin/chmod",
        "755",
        "/path/to/your/script"
    }); 
```

PS您是否还尝试从Oracle数据库中的存储过程调用Java？

# scala - 在 Scala^Z3 中设置逻辑/选项

> ID：11095732
> 
> 赞同：3
> 
> 时间：2012-06-19T06:47:08.203
> 
> 标签：scala, z3

我不知道如何在 Scala^Z3 中设置逻辑和相应的选项。猜猜它真的很简单，但我找不到它..所以我真的很感激那里的一些帮助；）

问候，弗洛里安

ps.：Scala 3.2 和 Z3 4.0 一起工作得很好:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-14T10:29:43.287

如果你还在寻找...

有两种设置选项的方法：

1.  在构造实例时传递参数`Z3Config`，例如`new Z3Config("MODEL" -> true)`.
2.  调用`.setParamValue`一个`Z3Config`实例，例如`myConf.setParamValue("MODEL", true)`.

现在回答有关如何设置*逻辑*的特定问题，不幸的是 Z3 的 API 不支持该问题。您可以查看 Leo[对 C# 的类似问题](https://stackoverflow.com/questions/7344639/set-logic-in-z3-net-api)的回答。

请注意，严格来说，您在使用 API 时并不真正需要该选项：所有理论都可以使用，Z3 会神奇地找出要做什么。

# cocoa - 排序 NSTableView

> ID：11095737
> 
> 赞同：9
> 
> 时间：2012-06-19T06:47:34.460
> 
> 标签：cocoa, sorting, nstableview

我在 NSTableView 中有两个列作为名称和工资，具有 5-10 个值。单击两个列的标题后，我想对这些列进行排序。互联网上有很多数据，但我无法使用这些数据。请帮助我在可可中做到这一点。

在此先感谢并感谢任何帮助。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-29T08:35:14.593

每个表列都有一个方法`setSortDescriptorPrototype` 排序描述符是告诉数组如何对自身进行排序（升序、降序、忽略大小写等）的方法。遍历您希望可排序的每一列，并在每一列上调用此方法，然后传递所需的排序描述符（在我的情况下，我将使用列标识符）

```
for (NSTableColumn *tableColumn in tableView.tableColumns ) {

    NSSortDescriptor *sortDescriptor = [NSSortDescriptor sortDescriptorWithKey:tableColumn.identifier ascending:YES selector:@selector(compare:)];
    [tableColumn setSortDescriptorPrototype:sortDescriptor];
} 
```

写完这段初始化代码后，`NSTableViewDataSource`有一个方法`- (void)tableView:(NSTableView *)aTableView sortDescriptorsDidChange:(NSArray *)oldDescriptors`会在排序描述符发生变化时通知你，在数据源中实现这个方法并向数据数组发送消息以对其进行排序

```
- (void)tableView:(NSTableView *)aTableView sortDescriptorsDidChange:(NSArray *)oldDescriptors
{
    self.data = [self.data sortedArrayUsingDescriptors:sortDescriptors];
    [aTableView reloadData];
} 
```

每次单击列标题时都会触发此方法，并`NSTableColumn`显示一个漂亮的小三角形来显示排序顺序。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-06-05T12:41:55.317

我在寻找实现类似功能的最简单方法时偶然发现了这个问题。虽然最初的问题很老，但我希望有人觉得我的回答有用！请注意，我使用的是 Xcode 5.1.1

好的，为此，您需要：

1.  选择要在表中排序的实际列。
2.  在属性检查器中，您需要填写两个字段：排序键和选择器。
3.  在排序键字段中，您需要输入标识符的值。您的标识符的值位于您的身份检查器中。
4.  在 Selector 字段中，您需要根据列中的对象类型输入合适的选择器方法。默认方法是；相比：

> 基于 Mac 的 Table View Programming Guide。compare: 方法适用于 NSString、NSDate 和 NSNumber 对象。如果您的表列仅包含字符串，您可能需要考虑使用 caseInsensitiveCompare: 方法，如果区分大小写不重要。但是，请考虑将这些方法签名替换为localizedCompare: 或localizedCaseInsensitiveCompare: 方法以考虑用户的语言要求。

最后，您需要在 Table View Controller 中声明 tableView:sortDescriptorsDidChange: 方法，格式如下所示：

```
-(void)tableView:(NSTableView *)mtableView sortDescriptorsDidChange:(NSArray *)oldDescriptors
{
    [listArray sortUsingDescriptors: [mtableView sortDescriptors]];
    [tableView reloadData];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-08-28T08:46:27.253

Just had lately the same issue to get tableView sorted. My approach :

*   bind your sortDescriptors to tableview's **arrayController**
*   bind **tableview's** sortDescriptors to Arraycontroller's sort descriptor
*   perform the settings in attribute inspector (see Tosin's answer above)

Worked perfect for me. No need to set prototypes for columns or something else.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-01-16T14:49:03.190

非常感谢，这对我的问题很有用。我的代码是这样的

首先，在XIB界面中设置唯一值，比如name...

```
- (void)viewDidLoad {
    [super viewDidLoad];
        self.itemTableView.dataSource = self;
        self.itemTableView.delegate = self;
        self.itemTableView.selectionHighlightStyle = NSTableViewSelectionHighlightStyleRegular;
        self.itemTableView.usesAlternatingRowBackgroundColors = YES;

        for (NSTableColumn *tableColumn in self.itemTableView.tableColumns ) {
            NSSortDescriptor *sortDescriptor = [NSSortDescriptor sortDescriptorWithKey:tableColumn.identifier ascending:NO selector:@selector(compare:)];
        [tableColumn setSortDescriptorPrototype:sortDescriptor];
        }
}

-(void)tableView:(NSTableView *)tableView sortDescriptorsDidChange:(NSArray<NSSortDescriptor *> *)oldDescriptors{
    NSLog(@"sortDescriptorsDidChange：%@",oldDescriptors);

    [self.itemArr sortUsingDescriptors:[tableView sortDescriptors]];

    [self.itemTableView reloadData];
} 
```

# primefaces - 如何使用 Primefaces 从 p:commandButton 的 oncomplete 打开覆盖菜单？

> ID：11095738
> 
> 赞同：0
> 
> 时间：2012-06-19T06:47:35.073
> 
> 标签：primefaces

我正在使用 Primefaces 3.3.1 并且有疑问。

我在 p:dataTable 的 p:column 中有 p:commandButton。当使用如下所示的 xhtml 单击按钮时，我可以显示覆盖菜单。

```
 <p:commandButton id="btnID" icon="ui-icon-circle-triangle-s" style="height: 16px;">
        <f:setPropertyActionListener value="#{searchItem}" target="#{bean.selectedSearchItem}" />
    </p:commandButton>
    <p:slideMenu overlay="true" trigger="btnID" my="left top" at="left bottom"
            model="#{bean.menuModel}"/> 
```

在这种情况下， bean.menuModel 可以立即返回菜单数据。但是我还有另一种情况，需要进行预处理才能准备好菜单数据。所以我也有这个。

```
 <p:commandButton ajax="true" id="historyButton" action="#{bean.getHistory()}"
        icon="ui-icon-note" style="height: 16px;"
        onstart="workingDialog.show();"
        oncomplete="workingDialog.hide(); historyMenu.show();"> 
        <f:setPropertyActionListener value="#{searchItem}" target="#{bean.selectedSearchItem}" />
    </p:commandButton>
    <p:menu overlay="true" widgetVar="historyMenu" my="left top" at="left bottom"
            model="#{searchBean.menuModel}"/> 
```

我的意思是，当单击按钮时，它调用 bean.getHistory() 开始加载该行的菜单数据，并显示带有圆圈图标的模式对话框。加载完成后，对话框将消失并显示覆盖菜单。我不能做的是这个场景的最后一部分。上面的代码触发异常。

```
java.lang.NullPointerException
    javax.faces.component.UIComponentBase.findComponent(UIComponentBase.java:561)
    org.primefaces.component.menu.BaseMenuRenderer.encodeOverlayConfig(BaseMenuRenderer.java:138)
    org.primefaces.component.menu.MenuRenderer.encodeScript(MenuRenderer.java:45)
    org.primefaces.component.menu.BaseMenuRenderer.encodeEnd(BaseMenuRenderer.java:39)
    javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:875)
    javax.faces.component.UIComponent.encodeAll(UIComponent.java:1763)
    javax.faces.component.UIComponent.encodeAll(UIComponent.java:1759) 
```

下面显示的代码工作正常，没有与菜单相关的代码。

```
 <p:commandButton ajax="true" id="historyButton" action="#{searchBean.getHistory()}"
        icon="ui-icon-note" style="height: 16px;"
        onstart="workingDialog.show();"
        oncomplete="workingDialog.hide();"> 
        <f:setPropertyActionListener value="#{searchItem}" target="#{bean.selectedSearchItem}" />
    </p:commandButton> 
```

我想这对专家来说是个简单的问题。如何从 oncomplete 打开覆盖菜单？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-21T04:20:07.683

我找不到这个问题的解决方案，但我得出的结论是，我想要做的对于我正在处理的环境来说不是一个好主意。

首先，我注意到菜单在填充数据表行时从 bean 获取数据，而不是在显示菜单时。并且菜单没有延迟加载机制。所以按钮单击 - >从服务器获取菜单数据 - >打开菜单无法按我的预期完成（至少在我看来）。

其次，我注意到将菜单放在 DataTable 中（在我的情况下位于 TabView 下）会导致非常奇怪的问题。当我更新 DataTable 时，一些 ajax 相关功能停止工作。我无法解释这个问题让你理解或相信，但我正在开发的应用程序有这个问题。

所以，我放弃了在我的应用程序中将菜单放在 DataTable 中。感谢您的关注。

我接受这个答案不是为了降低我已经很低的接受率。

# c++ - 绘制一种喷嘴（线）的算法，鼠标确定谁的方向？

> ID：11095741
> 
> 赞同：0
> 
> 时间：2012-06-19T06:47:57.623
> 
> 标签：c++

我正在使用旧的 Turbo C++ 并且是初学者。这是我正在计划的一个正在进行的项目的代码。

圆圈使用 WSAD 键移动但问题是我希望该圆圈的喷嘴（从中心开始的一条线）跟随鼠标的移动，但我无法计算出限制该喷嘴长度的数学部分，说30像素。这条线继续接触指针的位置。

我尝试使用距离公式和直线方程来得到一个同时具有斜率和直线长度的表达式。但这里的问题是分母中有一个平方根，我认为这是导致问题的原因

这里大部分代码对于下面的问题是不必要的，请忽略

这是相关代码

```
 originx=getmaxx()/2;
   originy=getmaxy()/2;

   while(doga==0)      //main game loop
     {      if(kbhit())
    op=getch();
        if(limiter>10)             //limiter is used to restrict the motion of the  circle for a limited                                 //  time
   { op=0;limiter=0;}         // otherwise the cirlce moves in that direction unless another                                      //key is pressed

       //movement of the circle
    if(op==72)
      { originy--;  limiter++;}
    if(op==80)
          {originy++;  limiter++;}
    if(op==75)
     { originx--;  limiter++ ;}
    if(op==77)
     { originx++;  limiter++;    }

    circle(originx,originy,5);

      mouseposi(x,y,cl);
   printf(" %d  %d",x,y);
   printf("\b\b\b\b\b\b\b\b");

     m=sloper(originx,originy,x,y);

     line(originx,originy,80/sqrt(1+m*m),m*80/sqrt(1+m*m)); //THIS LINE IS WHERE THE PROBLEM IS

      delay(30);
      cleardevice();
      if(op==49)          //for exiting
        doga=2;
    }

   } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T07:42:10.210

让`(x,y)`成为您所追求的点，`(ox, oy)`成为您的起点，`(mx, my)`成为鼠标的位置。

从原点到鼠标的向量是`(dx, dy) = (mx - ox, my - oy)`。

鼠标与原点之间的距离与该向量的范数相同：

```
distance = sqrt(dx * dx + dy * dy); 
```

对向量进行归一化（缩放）以获得长度为 1（“单位长度”）的新向量，我们得到

```
nx = dx / distance;
ny = dy / distance; 
```

最后我们可以按所需的长度缩放这些坐标（记得加回原点）

```
x = ox + length * nx;
y = oy + length * ny; 
```

# database-design - 如何为应用程序的多个实例分离用户设置 (ERD)

> ID：11095743
> 
> 赞同：0
> 
> 时间：2012-06-19T06:48:09.033
> 
> 标签：database-design, erd

我们开发了一个基于每个实例配置运行多个实例的系统。

在配置中，您可以定义实例应使用哪种**设计，哪些****组**应有权访问系统等。

实例（我们称它们为*站点*）由 URL 区分

例如

*   abc.company.org (A)
*   cde.company.org (B)
*   fgh.company.org (C)

我检查用户正在访问的当前 URL，并知道我应该为实例使用哪个配置（设计、组）。

用户可以访问多个实例。这由用户关联的组检查，并通过检查其中一个组是否有权访问此实例（*站点*）。

这是已经设计好的。

但是现在我`user_setting`也应该可以根据实例（*站点*）进行更改

站点 A 的用户与站点 B 的同一用户具有不同的国家、组织、头衔等（不幸的是，情况就是这样，即使看起来不合逻辑）。

因此，我创建了一个名为的表，该表`user_settings`存储所有这些信息并具有指向`site`. 但是这个表会随着时间的推移水平增长，因为我不知道上面提到的列是否是我在这个表中唯一需要的列。最终，我们必须添加 100 个属性才能在每个站点的基础上进行更改。

有没有更好的方法来设计这个？

如果我进一步规范这个设计，我不确定是否会遇到问题。例如创建一个表（图像中的绿色）。

请参阅图像以获得更好的可视化：

![在此处输入图像描述](../Images/4a214b96ec4f60d404040a11821772d5.png)

有人有这方面的经验吗？建议非常受欢迎...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T12:50:41.557

您正在考虑的表（图中的绿色）使用一种称为**实体属性值**(EAV) 的方法。 *EAV 通常被认为是一种反模式。*

您可以使用 Google 找到许多关于 EAV 弊端的咆哮。我个人认为 EAV 有一个地方，用户设置可能就是其中之一。

但是，在下定决心之前，您应该阅读 EAV 的缺点。

在我看来，拥有一个非常宽的设置表不会那么糟糕，特别是如果大多数用户都为大多数设置设置了值。

# wpf - 当内容大于容器时自动收缩内容的 WPF 控件

> ID：11095744
> 
> 赞同：0
> 
> 时间：2012-06-19T06:48:13.313
> 
> 标签：wpf, controls

早上好，

我在 WPF 窗口的代码中创建了许多用户控件。

是否有一个容器控件可以添加用户控件，它会自动将内容缩小到容器的大小。

我不希望内容增长到最大可用大小，只能统一收缩。

我在水平布局模式下尝试了 stackpanel 控件，虽然这似乎是要走的路，但它似乎只会溢出或剪辑孩子（即滚动条或页面外的隐藏内容）。

我需要的是让所有内容都可见，但一旦达到最大尺寸就会调整大小。

提前致谢。

担。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T19:41:35.260

克莱门斯在评论中提供了答案，但我不能接受评论作为答案，所以在这里发布。

答案是创建一个 ViewBox，然后在 viewbox 中放置一个容器（包含所有控件）。

这现在完全按照需要缩小和增长，并且不会剪辑。

谢谢

担。

# ios - 如何平移 UIView 的内部图表

> ID：11095746
> 
> 赞同：0
> 
> 时间：2012-06-19T06:48:19.373
> 
> 标签：ios, uiview, touch, uipangesturerecognizer

实际上，我在 UIView 的子类 MyView 中绘制了三角形、矩形、五边形等图表。当我触摸 MyView 上的任何点（无论该点是否在图表内）时，MyView 都会移动。我想触摸图表的内部点，然后必须移动它。我在 MyView 上使用平移手势识别器。请给我建议。

我的代码是：

在`ViewController.m`,

```
- (void)viewDidLoad
{
    MyView *myView = [[MyView  alloc] initWithFrame:CGRectMake(0, 100, 200, 100)];
    [self.view addSubview:myView];
    [super viewDidLoad];
    UIPinchGestureRecognizer *pinchGesture = [[UIPinchGestureRecognizer alloc] initWithTarget:self action:@selector(scalePiece:)];
    [pinchGesture setDelegate:self];
    [myView addGestureRecognizer:pinchGesture];
    [pinchGesture release];
}

- (void)scalePiece:(UIPinchGestureRecognizer *)gestureRecognizer
{

    if ([gestureRecognizer state] == UIGestureRecognizerStateBegan || [gestureRecognizer state] == UIGestureRecognizerStateChanged) {
        [gestureRecognizer view].transform = CGAffineTransformScale([[gestureRecognizer view] transform], [gestureRecognizer scale], [gestureRecognizer scale]);
        [gestureRecognizer setScale:1];
    }
} 
```

在`MyView.m`,

```
- (void)drawRect:(CGRect)rect
{
    // Drawing code
    context =UIGraphicsGetCurrentContext();
    CGContextSetRGBStrokeColor(context, 1.0, 1.0, 1.0, 1.0);
    // And draw with a blue fill color
    CGContextSetRGBFillColor(context, 0.0, 1.0, 0.0, 1.0);
    // Draw them with a 2.0 stroke width so they are a bit more visible.
    CGContextSetLineWidth(context, 2.0);

    CGContextMoveToPoint(context, 50.0, 10.0);  
    CGContextAddLineToPoint(context, 5.0, 70.0);  
    CGContextAddLineToPoint(context, 150.0, 55.0); 
    CGContextDrawPath(context, kCGPathFillStroke);
    CGContextClosePath(context);
    CGContextStrokePath(context);

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T14:17:36.503

那么，您这里有执行捏合手势的代码，并且您还想执行平移手势？如果是这样，我建议您在 viewDidLoad 中创建平移手势：

```
UIPanGestureRecognizer *panGesture = [[UIPanGestureRecognizer alloc] initWithTarget:self action:@selector(movePiece:)];
[myView addGestureRecognizer:panGesture];
[panGesture release]; 
```

然后将 ivar 添加到您的 MyView 类：

```
CGPoint _originalCenter; 
```

最后，拥有移动视图的方法：

```
- (void)movePiece:(UIPanGestureRecognizer *)gestureRecognizer
{
    if ([gestureRecognizer state] == UIGestureRecognizerStateBegan)
    {
        _originalCenter = [gestureRecognizer view].center;
    }
    else if ([gestureRecognizer state] == UIGestureRecognizerStateChanged) 
    {
        CGPoint translation = [gestureRecognizer translationInView:self.view];

        [gestureRecognizer view].center = CGPointMake(_originalCenter.x + translation.x, _originalCenter.y + translation.y);
    }
} 
```

顺便说一句，关于您的代码的一些观察：

1.  您正在设置捏合手势的委托，但这不是必需的。这是通过`initWithTarget`方法完成的。

2.  在您的`drawRect`方法中，我认为您想在调用`CGContextClosePath`之前先调用`CGContextDrawPath`。

无论如何，我希望我通过向您展示如何使用平移手势来移动子视图的示例来回答这个问题。（您说“我正在使用平移手势……”但我假设您的意思是“我想使用平移手势……”。）如果我误解了您的问题，请澄清并重新表述问题，我们可以再提出一个问题破解它。

# jquery - DIV 数组中的水平滚动

> ID：11095747
> 
> 赞同：0
> 
> 时间：2012-06-19T06:48:21.863
> 
> 标签：jquery

我试图做一个水平滚动，当在整个容器的任何地方时，它可以转到最近的 div，让我解释一下，寻呼机是固定的，可以处理进入下一个或上一个部分，从一开始任何滚动器都可以做到这一点但在我的情况下，水平滚动条将处于活动状态，因此任何人都可以四处移动。我想要做的是寻呼机“知道”，通过制作一组 div，查看用户的部分（通常是最接近中心的部分）以及如果单击上一个或下一个，它会转到上一个或下一个div（有可能吗？）。

我希望我能解释我的想法。

我会很感激任何帮助

提前致谢

这是 jsFiddle：http: [//jsfiddle.net/viciosogb/pqEfj/](http://jsfiddle.net/viciosogb/pqEfj/)

我正在使用 Jquery 1.7.1 和 scrollTo

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T08:38:55.273

在周围使用 Wrapper `div.section`：

```
.wrap {
    width: 90%;
    overflow: hidden;
} 
```

所以它应该看起来像：

```
<div class="wrap">
    <div id="seccion" class="section">
    ...
    </div>
</div> 
```

希望这可以帮助！：） 一切顺利！:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T08:34:46.713

这可以工作：

```
$('a').click(function(e) {  
    e.preventDefault();

    var prev = $(this).not('.next').attr('href');

    if($(this).attr('class') == 'next'){ 

    $(this).parent().animate({"margin-left":"-="+$(this).parent().outerWidth()+"px"},800);
    }else{
    $(prev).animate({"margin-left":"+="+$(prev).outerWidth()+"px"},800);
    }                
}); 
```

# extjs4.1 - 我可以使用 getState() 来获取网格列标题名称（可见名称）吗？

> ID：11095753
> 
> 赞同：-3
> 
> 时间：2012-06-19T06:48:38.057
> 
> 标签：extjs4.1

我可以使用 getState() 来获取网格列标题名称（可见名称）吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T16:26:27.810

不。但是这个非常复杂的函数会将它们作为数组返回给你：

```
function getGridClipboardText(grid){
        var columns = grid.columns,
            headerData = [],
            subHeaderData = [],
            dataIndex = [],
            du = Sms.dataUtilities,
            columnCount = columns.length,
            startIndex = 0,
            headerText,
            subColumnCount,
            visibleSubColumns,
            columnCollection,
            i, j, col, subCol;

        // If grid has a row expander plugin, skip the first column
        if(grid.expanderDataIndex){
            startIndex = 1;
        }

        // Collect the header titles
        for(i = startIndex; i < columnCount; i++){
            col = columns[i];
            if(!col.hidden){
                headerText = du.getInnerHtml(col.text);

                // Flatten the data index references to a single array
                if(col.dataIndex){
                    dataIndex.push({
                        dataIndex: col.dataIndex,
                        clipboard: col.clipboard
                    });
                }

                // If the column has sub-columns, handle them
                // IMPORTANT: This function only supports two levels of headers.
                // When upgrading to fully-nested headers, use a recursive algorithm.
                if(col.items && col.xtype !== "actioncolumn"){
                    if(Ext.isArray(col.items)){
                        columnCollection = new Ext.util.MixedCollection(false);
                        columnCollection.addAll(col.items);
                    }
                    else{
                        columnCollection = col.items;
                    }

                    subColumnCount = columnCollection.getCount();
                    visibleSubColumns = 0;
                    for(j = 0; j < subColumnCount; j++){
                        subCol = columnCollection.getAt(j);
                        if(!subCol.hidden){
                            visibleSubColumns++;
                            subHeaderData.push(du.getInnerHtml(subCol.text));

                            if(subCol.dataIndex){
                                dataIndex.push({
                                    dataIndex: subCol.dataIndex,
                                    clipboard: col.clipboard
                                });
                            }
                        }
                    }

                    // If there are no sub-columns, but there could be, create a spacer
                    // in the array to keep everything lined up
                    if(subColumnCount === 0){
                        subHeaderData.push("");
                    }

                    // Pad the main header with extra tabs to account for the sub-columns
                    for(j = 0; j < visibleSubColumns - 1; j++){
                        headerText += "\t";
                    }
                }

                headerData.push(headerText);
            }
        }

        return headerData;
    } 
```

# python - 读取（小端）十六进制对，表示python中的一个字节

> ID：11095755
> 
> 赞同：2
> 
> 时间：2012-06-19T06:48:45.360
> 
> 标签：python

在 python 中通过“little endian”方式读取我的 hexstring = '40040000' 的正确方法是什么。我期待的结果是 440 小时。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T00:01:53.987

不确定您希望结果采用什么格式。您可以使用[`struct`](http://docs.python.org/library/struct.html#struct-alignment)and[`binascii`](http://docs.python.org/library/binascii.html)一起将其转换为 int。

```
>>> struct.unpack('<L', binascii.unhexlify('40040000'))
(1088,) 
```

与 440h 相同：

```
>>> hex(struct.unpack('<L', binascii.unhexlify('40040000'))[0])
'0x440' 
```

# android - Android Eclipse插件错误？

> ID：11095756
> 
> 赞同：0
> 
> 时间：2012-06-19T06:48:48.670
> 
> 标签：android

当我将 android 插入 Eclipse 时出现错误。

我下载了windows安装程序，当我尝试运行它显示的安装程序时

**错误：找不到“C:\windows\system32\java.exe”的java版本系统找不到指定的文件。**

我该怎么办这个错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:17:12.083

First check whether you have already installed Java in your machine. You can download latest version from [link](http://www.oracle.com/technetwork/java/javase/downloads/java-se-jdk-7-download-432154.html).

Please check [this](http://developer.android.com/sdk/installing.html) for requirements to develop Andriod app.

Otherwise,it probably because of wrong configurations.

[This](https://stackoverflow.com/questions/10339679/android-installation-issues) will also help you too.

Good Luck !

# java-me - Lwuit vs j2me-polish？LWUIT 相对于 J2ME-Polish 的优势是什么？

> ID：11095758
> 
> 赞同：4
> 
> 时间：2012-06-19T06:48:58.900
> 
> 标签：java-me, lwuit, mobile-application, j2mepolish

现在，我们计划使用 j2me 开发一个移动应用程序。

对于 UI，我们选择**LWUIT、J2me-polish**等框架。

最后我们决定使用**LWUIT 或 J2me-polish。**

我的选择是**LWUIT**，我的同事选择是**J2ME-Polish**

我们想从他们中选择任何人。**所以请给出你对LWUIT,J2ME-Polish**的想法，

**LWUIT**的优势。

****LWUIT**如何优于**J2ME-Polish**等。**

 **我的意见是**J2ME 和 LWUIT**都是**sun (Oracle) 的**产品。所以两者都非常匹配。如果我们对 j2me 和 lwuit 的集成有任何问题，则意味着我们从 oracle 论坛/站点等获得的想法。

J2me 抛光是足够的产品。所以我认为 J2me 有一些限制、缺点等。

我不知道我的上述观点是否正确。也请提及您对上述几点的看法

欢迎大家提出自己的想法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-23T07:35:11.610

阿卜杜拉的两个链接都有些过时了。实际上，LWUIT 和 AFAIK J2ME 波兰语都是有效的死胡同技术（免责声明我是 LWUIT 的创始人之一）。

两者都采用完全不同的方法：LWUIT 尝试统一所有设备，而波兰语使用宏来解决差异。

由于 Chen 和我自己都离开了 Sun/Oracle 并且不再维护 LWUIT，它可能不会看到重大进展或支持。我们现在正在开发具有 LWUIT 根源但更进一步的[Codename One 。](http://www.codenameone.com/)但是，如果您的唯一目标是较旧的 J2ME 设备/网络，这可能不是您的最佳方向。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-19T06:59:42.777

LWUIT 和 j2me 润色都提供了曾经在 j2me 中错过的良好 GUI 工具。两者都支持 500 多种不同的手机型号，因为它将在实际市场中面临。我的意见是使用 LWUIT，sun 对 LWUIT 给予了更多的支持。J2ME Polish 覆盖市场上大部分手机的机会较小。你也可以看看[这个](http://www.developer.nokia.com/Community/Discussion/showthread.php?147024-J2ME-Polish-or-LWUIT-or-what-for-commercial-J2ME-software)和[这个](https://forums.oracle.com/forums/thread.jspa?messageID=7106023)线程。他们有一些关于 LWUIT 与 J2ME 波兰语的讨论。**

# python - itertools.product() 返回值

> ID：11095759
> 
> 赞同：8
> 
> 时间：2012-06-19T06:49:11.277
> 
> 标签：python, list, tuples

当我尝试运行以下代码时

```
product([1,2,3],['a','b']) 
```

它返回以下类型的对象：

```
<itertools.product object at 0x01E76D78> 
```

然后我尝试调用 list() 并得到以下信息：

```
[(1, 'a'), (1, 'b'), (2, 'a'), (2, 'b'), (3, 'a'), (3, 'b')] 
```

有没有办法将它变成列表列表，而不是元组？像这样：

```
[[1, 'a'], [1, 'b'], [2, 'a'], [2, 'b'], [3, 'a'], [3, 'b']] 
```

提前致谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-19T06:59:24.840

```
list(map(list, product([1, 2, 3], ['a', 'b']))) 
```

`list()`Python 2 不需要最外层，尽管它适用于 Python 3。这是因为在 Python 3 中 a`map object`由 . 返回`map()`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-19T06:51:31.353

它返回一个元组的迭代器。如果你想要一个列表列表，你可以这样做：

```
[list(a) for a in product([1,2,3],['a','b'])] 
```

但是，在许多情况下，只使用迭代器会更好。你可以这样做：

```
for item in product([1,2,3],['a','b']):
    # do what you want with the item 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-19T06:51:25.637

您可以执行以下操作，但这毫无意义。由于值不会更改，因此元组比列表更适合于此。它还可以节省内存。

```
>>> from itertools import product
>>> [list(x) for x in product([1,2,3],['a','b'])]
[[1, 'a'], [1, 'b'], [2, 'a'], [2, 'b'], [3, 'a'], [3, 'b']] 
```

# html - 在将鼠标悬停在链接上时，我想更改 div 和链接的背景颜色

> ID：11095761
> 
> 赞同：2
> 
> 时间：2012-06-19T06:49:20.573
> 
> 标签：html, css

我有一个 div

```
<div id="box">
content content
content content <a href="#">content</a>content
</div> 
```

在将鼠标悬停在链接上时，我想更改链接的颜色以及 div 的背景颜色。只使用css，是否可以只使用css？请帮我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-19T07:45:13.490

`parent`目标元素没有 CSS 选择器。但是可以通过一些技巧达到想要的效果。像这样写：

```
#box a:hover:after{
    content:'';
    position:absolute;
    top:0;
    left:0;
    right:0;
    bottom:0;
    background:red;
    z-index:-1;
} 
```

检查这个[http://jsfiddle.net/V4qDm/3/](http://jsfiddle.net/V4qDm/3/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-19T06:56:03.500

这是工作小提琴：

[http://jsfiddle.net/V4qDm/2/](http://jsfiddle.net/V4qDm/2/)

**添加这个 CSS**

```
#box.hover{background:#cb2326;}
#box a{display:inline-block;}
#box a:hover{color:#fff;} 
```

**添加这个jQuery：**

```
​$('a').hover(function(){
    $(this).parent().toggleClass('hover');
});​​​ 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-19T06:56:52.797

您可以`:hover`在 div 上使用，除 IE6 之外的所有浏览器都支持它，目前用户很少*：

```
div#box:hover {
background-color: #whatever;
} 
```

**编辑：**当然我完全误解了这个问题。道歉！正如其他人指出的那样，子元素不可能改变其父元素在 CSS 中的外观（嗯，至少在 CSS4 之前）。如果父母可以作为触发器，那么上面的工作是可以接受的，你当然可以同时改变链接的外观：

```
div#box:hover a {
color: #somecolour;
} 
```

*) 0.66% 根据[statcounter.com](http://www.statcounter.com)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-19T06:51:19.090

您可以使用更改链接颜色

```
 a:hover{color:#ccc;} 
```

但是您不能使用 css3 或 css 2 从子元素访问父元素。

它已在 css4 中提供，带有 $sign

```
$div>a:hover{background:#ccc;} 
```

但目前没有浏览器支持它

您必须查看 javascript 才能更改父背景。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-19T06:56:50.833

您应该考虑使用 javascript，它可以完成简单的任务，因为这正是它们的本质；简单的！

在标题中添加以下内容：

```
<script type="text/javascript">
    function changeDivAndLink(linkid, divid){
        document.getElementById(linkid).setColor(...);
        document.getElementById(divid).setBackground(...);
    }
</script> 
```

然后，您需要对代码做的就是添加 onmouseover：

```
<div id="box">
    content content
    content content <a href="#">content</a>content
</div> 
```

我知道您实际上想在不使用脚本的情况下做到这一点，但是如今 javascript 得到如此广泛的支持，以至于不支持它的浏览器的百分比可以忽略不计。

希望这对一些人有所帮助。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-19T06:59:23.630

要使整个 div 充当链接，请将锚标记设置为：`display: block;` 然后将锚标记的高度设置为 100%。将 div 标签高度设置为固定大小。

例子：

```
 <html>
<head>
        <title>sample link</title>

        <style type="text/css">
        .container {
                border: 1px solid #C9F;
                width: 50%;
                height: 20px;
        }

        .container a {
                display: block;
                background: #FC6;
                height: 100%;
                text-align: center;
        }

        .container a:hover {
                background: #996699;
                color:#FFF;
        }

        </style>

</head>
<body>

        <div class="container">
                <a href="http://www.stackoverflow.com">Stack Overflow</a>
        </div>

</body>
 </html> 
```

# wpf - 如何在我的自定义控件位于用户控件内的 MainWindow.xaml 中公开自定义控件事件和属性？

> ID：11095767
> 
> 赞同：1
> 
> 时间：2012-06-19T06:49:30.723
> 
> 标签：wpf, events, properties, user-controls, custom-controls

我陷入了这样一种情况，即我的自定义控件具有一个`Text`属性和一个使用方法中的按钮注册的事件处理程序`OnApplyTemplate`。

但是，当我将此自定义控件放在用户控件中，然后在我试图访问自定义控件`Text`依赖属性但无法访问的窗口中使用此用户控件时。还尝试从自定义控件内部的按钮触发单击事件，但是当我单击该按钮时，该事件不会触发。什么都没发生。

如果有人发现了类似的问题并已解决并知道任何解决方案。

如何访问在内部使用的用户控件内部的自定义控件的依赖属性`Mainwindow.xaml`？我想访问内部自定义控件的属性和事件`Mainwindow.xaml`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:11:32.117

要获取用户控件内部的自定义控件的属性，该控件`Mainwindow.xaml`在这种情况下类型为`string`(for `Text`) 的 make 属性中使用，并在用户控件中应用您的新属性到您的自定义控件中的这个属性。

要处理事件，您可以在自定义控件中创建自己的事件处理程序，如下所示

`public event MyEventHandler;`

你也需要委托

`public delegate void MyEventHandler(object sender, ChoosenIdsEventArgs e);`

然后在自定义控件中单击按钮写入事件

```
 protected void btn_Click(object sender, EventArgs e)
  {
   if(MyEventHandler != null)//check if u have this handler invoke on parent (user control in this case)
   {
       MyEventHandler(sender,e);
   }
  } 
```

你可以在你的用户控件上做同样的事情。

希望这有帮助:)

# ocaml - 如何从 ocaml 中读取文件？

> ID：11095770
> 
> 赞同：2
> 
> 时间：2012-06-19T06:49:41.333
> 
> 标签：ocaml

我有以下格式的输入文件：

```
q0;q1
a;b
(q0,x);(q1;x) 
```

我想要三个列表如下：

```
a = ["q0";"q1"];
b = ["a";"b"];
c = [("q0","x");("q1","y")]; 
```

这是我的代码：

```
let buf = Queue.create ();;

let catfile filename =
let rec print_all_lines in_chan =
    Queue.add (input_line in_chan) buf;
    print_all_lines in_chan
in
let in_file = open_in filename in
try
    print_all_lines in_file
with End_of_file -> close_in in_file;;

catfile "test.txt";;

let rec pvt_rec_split skipf rv str c i limit =
if (List.length rv < (limit - 1)) && (i < String.length str) then (
    if String.contains_from str i c then
        let o = String.index_from str i c in
        pvt_rec_split skipf
            (rv @ [ String.sub str i (o - i)])
            str c
            (skipf str c o)
            limit;
    else
        rv @ [ String.sub str i ((String.length str) - i) ]
) else (
    if i < String.length str then
        rv @ [ String.sub str i ((String.length str) - i) ]
    else
        rv
);;

let split s c limit =
let rec pvt_skip_char s c i =
    if (i >= String.length s ) then (
        String.length s
    ) else (
        if ((String.get s i) == c) then (
            pvt_skip_char s c (i +1)
        ) else (
            i
        )
    )
in
pvt_rec_split pvt_skip_char [] s c 0 limit ;;

let a = split (Queue.take buf) ';' 100;;

let b = split (Queue.take buf) ';' 100;;

let c = split (Queue.take buf) ';' 100;; 
```

基本上 split 函数用分隔符分割字符串并返回一个列表。

因此，我能够正确生成列表 a 和 b。

但在列表 c 的情况下，我得到一个类型字符串列表。实际上我想要一个类型为（'string*'string）的列表。

我怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T07:49:55.143

文件内容（注意括号内的逗号分隔）

```
q0;q1
a;b
(q0,x);(q1,x) 
```

Ocaml代码

```
let split_str separator s =
  let list = ref [] in
  let start = ref 0 in
  let () = try
    while true do
      let index = String.index_from s !start separator in
      list := (String.sub s !start (index - !start)) :: !list;
      start := index + 1
    done
  with Not_found -> list := (String.sub s !start ((String.length s) - !start)) :: !list
  in List.rev !list;;

let maybe_input_line stdin =
  try Some (input_line stdin) with
    End_of_file -> None;;

let input_lines stdin =
  let rec input lines =
    match maybe_input_line stdin with
      Some line -> input (line :: lines)
    | None -> List.rev lines
  in
  input [];;

let rec parse_list_line delim line =
  if (String.length line) > 0 then
    let parts = split_str delim line in
    parse_tokens parts
  else
    []

and parse_tokens tokens =
  let rec inner_parse_tokens buffer = function
      [] -> List.rev buffer
    | h :: t ->
        let parsed = parse_line h in
        inner_parse_tokens (parsed :: buffer) t
  in
  inner_parse_tokens [] tokens

and parse_line str =
  if (String.length str) > 1 then
    if str.[0] = '(' && str.[(String.length str) - 1] = ')' then
      let substr = String.sub str 1 ((String.length str) - 2) in
      split_str ',' substr
    else
      str :: []
  else
    str :: []

and parse_lines lines =
  let rec inner_parse chunks = function
      [] -> List.rev chunks
    | head :: rest ->
        let parsed = parse_list_line ';' head in
        inner_parse (parsed :: chunks) rest
  in
  inner_parse [] lines;;

let file_channel = open_in("read_file2");;
let all_lines = input_lines file_channel;;
let chunks = parse_lines all_lines;;
let () = close_in file_channel;; 
```

和输出

```
# val file_channel : in_channel = <abstr>
# val all_lines : string list = ["q0;q1"; "a;b"; "(q0,x);(q1,x)"]
# val chunks : string list list list =
  [[["q0"]; ["q1"]]; [["a"]; ["b"]]; [["q0"; "x"]; ["q1"; "x"]]] 
```

请注意，在最后的输出中，我们必须对单个字符串项使用列表，以便从 ocaml 函数返回相同的类型。如果你愿意，你可以写一些类似于matlab的*squeeze*函数来更改`[["q0"]; ["q1"]]`为`["q0"; "q1"]`

# c# - 在设置文件 C# 中存储枚举位掩码

> ID：11095776
> 
> 赞同：0
> 
> 时间：2012-06-19T06:50:05.023
> 
> 标签：c#, visual-studio-2010, settings

我有一个应用程序支持几种不同的可视项目组合。每个视图都可以通过单击其相应的树节点来打开和关闭。问题是我不想将每个单独的 node.checked 布尔值存储在我的 .settings 文件中的单独布尔值中。

所以我目前正在尝试使用位掩码，但是我不知道如何将该类型添加到设置文件编辑器的可选类型中。

我应该怎么做才能使其成为可选择的保存类型？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T08:39:27.857

枚举类型是幕后的 Int32 - 实际上枚举类型的变量可以分配任何整数值，即使这些值不在原始枚举中。如果您在设置中使用了整数类型，则可以将其转换为您定义的枚举类型以使用它。没有检查整数值是否由枚举定义。

请小心在设置文件中为此使用位掩码，因为可能很难计算出设置的值。例如，如果您希望第 1 位和第 3 位设置为 true，则必须放入设置文件中的值将是“5”，因为这是将第一个和第三个位设置为 1 的整数。

在代码中，您可以使用位移运算符`<<`来更轻松地读取值，或者在 .NET 4 及更高版本中使用`Enum.HasFlag`( [http://msdn.microsoft.com/en-us/library/system.enum.hasflag.aspx )。](http://msdn.microsoft.com/en-us/library/system.enum.hasflag.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T07:37:30.373

如果您希望您的自定义类型*可*在 winforms 设置中设置，您必须定义一个[TypeConverter](http://msdn.microsoft.com/en-us/library/system.componentmodel.typeconverter%28v=vs.100%29.aspx)以从字符串转换回字符串。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-19T07:00:41.093

您可以只使用`Int32`类型。位掩码是整数（4 字节）或其他指定整数类型（例如`Int16`）中的非零位集合

# asp.net - 一行或多行包含违反 SQL 脚本中的非空、唯一或外键约束的值

> ID：11095783
> 
> 赞同：0
> 
> 时间：2012-06-19T06:50:45.557
> 
> 标签：asp.net, sql-server

在这方面需要帮助。

我只是想知道为什么会发生这个错误。下面是相关的脚本。

```
 SELECT loc.ID
    ,loc.LocCode
    ,loc.LocName
    ,st.StateName
    ,reg.RegionName
    ,ctry.CountryName
    ,ISNULL(CONVERT(DATE, loc.UpdatedDate), CONVERT(DATE,loc.CreatedDate)) AS [ModifiedDate]
    ,stf.Name AS [ModifiedBy]
FROM Spkr_Country AS ctry WITH (NOLOCK)
INNER JOIN Spkr_Location AS loc WITH (NOLOCK) ON ctry.ID = loc.CountryID
INNER JOIN Spkr_State AS st WITH (NOLOCK) ON loc.StateID = st.ID
INNER JOIN Spkr_Region AS reg WITH (NOLOCK) ON loc.RegionID = reg.ID
INNER JOIN Staff AS stf ON ISNULL(loc.UpdatedBy, loc.CreatedBy) = stf.StaffId
WHERE (loc.IsActive = 1)
    AND (
        (@LocCode = '')
        OR (
            @LocCode <> ''
            AND loc.LocCode LIKE @LocCode + '%'
            )
        )
    AND (
        (@RegionID < 1)
        OR (
            @RegionID > 0
            AND loc.RegionID = @RegionID
            )
        )
    AND (
        (@StateID < 1)
        OR (
            @StateID > 0
            AND loc.StateID = @StateID
            )
        )
    AND (
        (@CountryID < 1)
        OR (
            @CountryID > 0
            AND loc.CountryID = @CountryID
            )
        ) 
```

错误可能发生在这里`INNER JOIN Staff AS stf ON ISNULL(loc.UpdatedBy, loc.CreatedBy) = stf.StaffId`我想要的要求是如果`loc.UpdatedBy`为null，它将使用该`loc.CreatedBy`列。但是，当我使用它时，它会产生提到的错误。

在数据库中，`loc.CreatedBy`不为空，而 可以`loc.UpdatedBy`为空。

我通过运行脚本检查了它，但它工作正常。

我该怎么办？我的代码有什么问题？请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T09:13:55.823

我将内部连接条件更改为这行代码。 `INNER JOIN Staff AS stf ON COALESCE(loc.UpdatedBy, loc.Createdby) = stf.StaffId`

但是，我仍然不知道为什么它不起作用？在这种情况下使用`COALESCE()`and有什么区别？`ISNULL()`

# database - 针对 Neo4j 图数据库的关系样式查询

> ID：11095785
> 
> 赞同：3
> 
> 时间：2012-06-19T06:50:54.630
> 
> 标签：database, neo4j

我是 neo4j 数据库的新手。我一直在寻找基于图形的数据库，发现 neo4j 很有趣。我想知道是否可以以关系数据库样式查询 neo4j 数据库。让我用一个例子来解释我自己：

我有一个班级所有学生的图形数据库。节点包含学生信息，关系是“友谊”。每个节点都有学生姓名、班级和 cgpa 等属性。现在我想获取 cgpa > 4 的所有学生的列表。是否可以在 neo4j 中的单个查询中执行此操作？还是我需要找到所有节点然后操作它们？

如果有人能指出一些用于 Neo4j 查询的好资源，那也将非常有帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T07:12:53.010

我一直使用[Neo4j 文档](http://docs.neo4j.org/)。如果您使用的是 Spring Data Neo4j，免费书籍[Good Relationships](http://static.springsource.org/spring-data/data-graph/snapshot-site/reference/pdf/spring-data-neo4j-reference.pdf)也可能会有所帮助。

有一种称为[Cypher](http://docs.neo4j.org/chunked/stable/cypher-query-lang.html)的查询语言。文档中甚至有一些示例可能非常适合您的案例[[1]](http://docs.neo4j.org/chunked/stable/query-where.html)：

```
start n=(2, 1) where n.age < 30 return n 
```

这个从 id 为 2 和 1 的给定节点开始，如果它们的年龄属性低于 30，则返回它们。`start n=(*)`将为每个节点执行此操作。您应该阅读整个规范。

根据您所做的以及您希望如何查找特定节点，您可以使用[indices](http://docs.neo4j.org/chunked/stable/indexing.html)。

但是，您不应该像使用关系数据库那样使用图形数据库。对于您描述的场景，它可能没问题，但是尝试以一种您以后可以在遍历时使用它们的方式设计关系。它要快得多。

# jquery - Jquery DIV 在动画中没有正确滑动

> ID：11095786
> 
> 赞同：2
> 
> 时间：2012-06-19T06:50:57.557
> 
> 标签：jquery, css, html, jquery-animate

我正在这个网站上工作，我希望当用户单击导航项时，div 会向右滑出并显示该部分的内容，并且当用户单击下一个导航项时，当前 div 会向后滑动进入左侧，下一个 div 将滑出到右侧。我在这里有这种工作：http: [//fire4hirecatering.com/workingsite/](http://fire4hirecatering.com/workingsite/)

但是，如果您在单击每个导航项然后返回到页面后注意到它会在动画发生之前显示该 div 的内容。

我是 JQuery 的新手，所以我确定这不是完美的，但它是：

```
function navAbout() {
if($('#main_content').hasClass("redLeft")) {
    //Current Div Content Slideout
    $('.selected').animate({
        width: '0px'
        }, 1200, 'swing').hide(1200);
    $('#aboutSlide').delay(1200).show().animate({
        width: '550px'
        }, 1200, 'swing' );
    $('#aboutContent').delay(2400).fadeIn(600);
        $("#aboutSlide").addClass("selected").not("#aboutSlide").removeClass("selected");

     /*Below three lines were the only way to get the class "selected" removed, the code above wasn't working*/
    $('#menuSlide').removeClass("selected");
    $('#mediaSlide').removeClass("selected");
    $('#contactSlide').removeClass("selected");
    $('html').css("background-image", "url(img/bg_about.jpg)")
}

else {
    //animate the redBG to the left when user clicks nav
    $('#main_contentBG').animate({
        left: '40px'
        }, 1200, 'swing' );
    $('#main_content').addClass('redLeft');
    //About Div Content Slideout
    $('#aboutSlide').delay(1200).show().animate({
        width: '550px'
        }, 1200, 'swing' );
    $('#aboutSlide').addClass('selected');
    $('#aboutContent').delay(2100).fadeIn(600);
    //change background image
    $('html').css("background-image", "url(img/bg_about.jpg)")
}
} 
```

您可以在上面的链接中查看整个站点的源代码。JQuery 在 scripts.js 文件中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:04:22.287

我注意到当 div 向后滑动时，内容仍然可见，直到它到达左侧并隐藏。在 css 中，您可以添加隐藏在每个容器 div 中的溢出。我认为您也可以在 js 中执行此操作，方法是在幻灯片完成后显示内容。

```
#aboutSlide{
  ...
  overflow: hidden;
}
#menuSlide{
  ...
  overflow: hidden;
}
#mediaSlide{
  ...
  overflow: hidden;
}
#mediaSlide{
  ...
  overflow: hidden;
} 
```

# c# - 如何将对象绑定到树视图？

> ID：11095789
> 
> 赞同：0
> 
> 时间：2012-06-19T06:51:00.030
> 
> 标签：c#, silverlight, data-binding, mvvm, treeview

我正在尝试将一个对象（从数据库中获取）绑定到树视图控件。

我的对象结构是这样的：

```
public class Post
{
    [DataMember]
    public string Name { set; get; }

    [DataMember]
    public List<Post> SubPosts { get; set; }
} 
```

我定义了一个从 db 获取数据并将其放入我的类的属性中的方法：

我的财产 ：

```
private Post _posts;
public Post Posts
{
    set
    {
        _posts = value;
        InvokePropertyChanged("Posts");
    }
    get { return _posts; }
} 
```

然后

```
Posts = _orgChartModel.GetOrgChartByParentId(1); 
```

现在，我想将“帖子”属性绑定到树视图。

XAML 代码：

```
<sdk:TreeView ItemsSource="{Binding Posts}">
<sdk:TreeView.ItemTemplate>
    <sdk:HierarchicalDataTemplate ItemsSource="{Binding Path=SubPosts}" >
        <StackPanel >
            <Image Width="48" Height="48" 
                Source="/CalendarClass;component/Assets/person.png" />
            <TextBlock TextAlignment="Center" VerticalAlignment="Center" 
                Text="{Binding Path=Name}" />
        </StackPanel>
    </sdk:HierarchicalDataTemplate>
</sdk:TreeView.ItemTemplate> 
```

我的代码不起作用，怎么了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T08:43:38.097

TreeView 的 ItemSource 属性需要 IEnumerable 类型。您绑定到单个帖子，这就是它不起作用的原因。将您的 Posts 绑定属性更改为帖子的集合：

```
private ObservableCollection<Post> _posts;
public ObservableCollection<Post> Posts
{
    set
    {
        _posts = value;
        InvokePropertyChanged("Posts");
    }
    get { return _posts; }
} 
```

然后初始化您的绑定属性，以防万一视图没有发现帖子已更改，请再次绑定您的树视图：

```
 Posts = new ObservableCollection<Post>();
  var post = _orgChartModel.GetOrgChartByParentId(1);
  Posts.Add(post);
  treeView.ItemsSource = Posts; //or whatever the name of your TreeView control is. 
```

# php - 为 MySQL 数据库中的条目设置“标签”系统

> ID：11095790
> 
> 赞同：0
> 
> 时间：2012-06-19T06:51:04.093
> 
> 标签：php, mysql

我有以下 PHP 表单用于在 MySQL 数据库中创建条目：

```
<?php
    function renderForm($articletitle, $articleorganization, $articledate, $articleurl, $articletags )
    {
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    . . .
    </head>

    <body>
        <div class="container">
            <div class="header">
            . . .
            </div>
            <div class="sidebar1">
            . . .
            </div>
            <div class="content">
                <div id="stylized" class="myform">
                    <form id="form" name="form" action="" method="post">
                        <h1>Create a new entry in the database</h1>
                        <table width="100%" border="0" cellpadding="6">
                            <tr>
                                <td colspan="2"><legend>Article details</legend></td>
                            </tr>
                            <tr>
                                <td width="20%" align="right"><span class="field">Article Title:</span></td>
                                <td width="80%" align="left"><span class="field">
                                    <input name="articletitle" type="text" value="<?php echo $articletitle; ?>" size="50"/>
                                </span></td>
                            </tr>
                            <tr>
                                <td align="right"><span class="field">Article Author:</span></td>
                                <td align="left"><span class="field">
                                    <input name="articleorganization" type="text" value="<?php echo $articleorganization; ?>" size="50"/>
                                </span></td>
                            </tr>
                            <tr>
                                <td align="right"><span class="field">Access Date:</span></td>
                                <td align="left"><span class="field">
                                    <input name="articledate" type="text" value="MM/DD/YYYY" size="50"/>
                                </span></td>
                            </tr>
                            <tr>
                                <td align="right"><span class="field">Article URL:</span></td>
                                <td align="left"><span class="field">
                                <input name="articleurl" type="text" value="<?php echo $articleurl; ?>" size="50"/>
                                </span></td>
                            </tr>
                            <tr>
                                <td align="right"><span class="field">Article Tags:</span></td>
                                <td align="left"><span class="field">
                                    <input type="checkbox" name="articletags[]" value="geology" id="articletags_0" />
                                    <input type="checkbox" name="articletags[]" value="astronomy" id="articletags_1" />
                                </span></td>
                            </tr>
                        </table>
                        <footer><input type="submit" name="submit" value="Add this Article"></footer>
                    </form>
                </div>
            <div class="footer">
            . . .
            </div>
    </body>
</html>
<?php
    }
    include('settings.php');

    if (count($articletags) > 0)
    {
        $articletags_string = implode(",", $articletags);
    }

    if ($_SERVER['REQUEST_METHOD'] == 'POST')
    {
        $articletitle = mysql_real_escape_string(htmlspecialchars($_POST['articletitle']));
        $articleorganization = mysql_real_escape_string(htmlspecialchars($_POST['articleorganization']));
        $articledate = mysql_real_escape_string(htmlspecialchars($_POST['articledate']));
        $articleurl = mysql_real_escape_string(htmlspecialchars($_POST['articleurl']));
        $articletags = implode(',', $_POST['articletags']);

        if ($articletitle == '' || $articleorganization == '')
        {
            $error = 'ERROR: Please fill in all required fields!';
            renderForm($articletitle, $articleorganization);
        }
        else
        {
            mysql_query("INSERT INTO articles SET articletitle='$articletitle', articleorganization='$articleorganization', articledate='$articledate', articleurl='$articleurl' ");
            mysql_query("INSERT INTO articles_tags SET articletags='$articletags' ")

            or die(mysql_error());

            header("Location:addsuccess.php");
        }
    }
    else
    {
        renderForm('','','','','');
    }
?> 
```

目前，表单将向数据库中的两个表提交正确的信息，`articles`和`articles_tags`，但我不知道如何建立关系。

最终结果是单独表单上的复选框将是可编辑的（也就是说，如果我在输入页面上选中一个框，然后转到编辑页面，则该框已经被选中，然后可以取消选中，并且条目可以更新）。

不过，现在，我正试图使该关系出现在第二个表中。表的布局是：

`articles`：

编号 | 文章标题 | 文章组织 | 文章日期 | 文章网址

`articles_tags`：

编号 | article_id | tag_id | 文章标签

我**想**我需要以某种方式获取**文章**ID 和**标签**ID 并将它们插入到第二个表中（？）。

这需要第三张桌子吗？

我什至在正确的轨道上吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:14:55.427

## 内联标签存储

根据标签的大小，您可以将它们存储在`article_tags`表格中：

```
article_id | tag_contents 
```

*添加`UNIQUE(article_id, tag_contents)`以避免在每篇文章中存储重复的标签*

**重要的**

这种方法有一个缺点；标签没有相互连接，因此如果对标签进行了更改，则必须更新整个`article_tags`表。此外，如果标签比 4 个字节长得多，则最好使用下一个解决方案。

## 外部标签存储

创建另一个表`tags`：

```
id | tag_contents 
```

*添加`UNIQUE(tag_contents)`以避免存储重复的标签*

修改`article_tags：

```
article_id | tag_id 
```

*添加`UNIQUE(article_id, tag_id)`以避免在每篇文章中存储重复的标签*

# c# - 添加dll引用后出现未知错误提示

> ID：11095796
> 
> 赞同：0
> 
> 时间：2012-06-19T06:51:24.097
> 
> 标签：c#, winforms, .net-2.0

我试图添加对我的应用程序的引用。

![在此处输入图像描述](../Images/4701e9885ae9b9c03a6dbdb5ebadf2e6.png)

然后在我重建解决方案并即将查看表单设计器后，总是弹出以下错误：

![在此处输入图像描述](../Images/fcb16670c2af0a1ce417be0933441505.png)

我试图再次删除引用，但表单设计器似乎无法正常工作。某些控件未正确显示。我该如何解决这个问题？

![在此处输入图像描述](../Images/c2f8e37bf05f95392bd89041dfa7bcdc.png)

******顺便说一句，当我切换到我的 IDE 的表单设计器视图时，这个错误提示**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:16:13.103

I just Cleaned, and Rebuilded the solution. Now it's working : )

# java - 使用列表填充 JTable

> ID：11095802
> 
> 赞同：10
> 
> 时间：2012-06-19T06:51:58.233
> 
> 标签：java, swing, list, jtable

我将如何使用具有对象类型的列表中的值填充 JTable。我的代码如下所示：

```
String[] columnNames = {"CLASS CODE",
        "TIME",
        "DAY",
        "ROOM",
        "PROFESSOR"};

    List<org.mine.ScheduleAttr> schedule = getStudSched(studNo);
    DefaultTableModel model = new DefaultTableModel();
    table.setModel(model);

    model.setColumnIdentifiers(columnNames); 
```

我已经有了列，列表将来自计划变量？考虑到这些列，我怎么能把它放在我的桌子上？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-19T07:13:01.227

看看[DefaultTableModel](http://docs.oracle.com/javase/1.4.2/docs/api/javax/swing/table/DefaultTableModel.html)。您可以遍历您的 List 并为每一行创建 Object 数组。

```
for (ScheduleAttr s : schedule) {
  Object[] o = new Object[5];
  o[0] = s.getX();
  o[1] = s.getY();
  o[2] = s.getZ();
  o[3] = s.getA();
  o[4] = s.getB();
  model.addRow(o);
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-19T07:04:37.037

你可以使用类似的东西（只是改变`columns`and `values`）：

```
import java.awt.BorderLayout;
import java.util.ArrayList;
import java.util.List;

import javax.swing.JFrame;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableModel;

public class TestJFrame extends JFrame {
    private static final long serialVersionUID = 1L;

    public static void main(String[] args) {
        TestJFrame testJFrame = new TestJFrame();

        List<String> columns = new ArrayList<String>();
        List<String[]> values = new ArrayList<String[]>();

        columns.add("col1");
        columns.add("col2");
        columns.add("col3");

        for (int i = 0; i < 100; i++) {
            values.add(new String[] {"val"+i+" col1","val"+i+" col2","val"+i+" col3"});
        }

        TableModel tableModel = new DefaultTableModel(values.toArray(new Object[][] {}), columns.toArray());
        JTable table = new JTable(tableModel);
        testJFrame.setLayout(new BorderLayout());
        testJFrame.add(new JScrollPane(table), BorderLayout.CENTER);

        testJFrame.add(table.getTableHeader(), BorderLayout.NORTH);

        testJFrame.setVisible(true);
        testJFrame.setSize(200,200);
    }

} 
```

`columns`不需要看起来像，`columns.toArray()`因为您已经有一个对象数组，所以只需使用它。最后，为了使用您的列，指令如下所示： `TableModel tableModel = new DefaultTableModel(values.toArray(new Object[][] {}), columnNames);`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-31T06:57:56.017

试试这个

首先做一个迭代器

```
Iterator itr = StringList.iterator();

 while(itr.hasNext()) {
                 Object element = itr.next();
                     int y=0;
                     for (y=0; y <=16 ; y++){
                    table_4.setValueAt(element, y, 0); 
```

table_4 是您的表名，然后设置要插入字符串的行和列

# iframe - 登录页面在 CRM 4.0 的 iFrame 中不起作用

> ID：11095803
> 
> 赞同：0
> 
> 时间：2012-06-19T06:52:06.800
> 
> 标签：iframe, login, dynamics-crm-4

所以我在其中一个选项卡中有一个带有 iFrame 的实体表单。iFrame 的 URL 中有一个登录页面链接，该链接使用 URL 中提供的用户名；有点像[http://www.mywebsitepage/login?username=blahblah](http://www.mywebsitepage/login?username=blahblah)。当我打开表单时，登录页面显示在 iFrame 中，并且用户名已经键入。我输入密码并按 Enter 并返回相同的登录页面。好像没有进入成功登录页面；而它在普通浏览器上工作正常。我试过检查“传递记录对象类型代码和唯一标识符作为参数”，但它似乎也不起作用。

请协助。我正在使用 CRM 4.0。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T09:16:31.557

好的，解决方案是将 iFrame 中的网站添加到 Internet Explorer 中的“受信任的站点”中。

# php - Cake bake 2.1.3 appmodel not found

> ID：11095805
> 
> 赞同：1
> 
> 时间：2012-06-19T06:52:11.427
> 
> 标签：php, cakephp, cakephp-2.1

当我尝试用控制台烘焙时..

```
cake bake model 
```

选择哪个表名和设置后..我收到了这个错误

```
Baking model class for Shop...
Creating file c:\xampp\htdocs\cakephp\app\Console\Model\Shop.php
Wrote `c:\xampp\htdocs\cakephp\app\Console\Model\Shop.php`
Fatal error: Class 'AppModel' not found in C:\xampp\htdocs\cakephp\lib\Cake\Model\CakeSchema.php on line 308 
```

蛋糕PHP版本2.1.3

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T13:32:30.690

如果您已迁移，您的 app/Model 目录中是否有 AppModel.php 的副本。同样适用于 AppHelper 和 AppController

见[http://book.cakephp.org/2.0/en/appendices/2-1-migration-guide.html](http://book.cakephp.org/2.0/en/appendices/2-1-migration-guide.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T13:42:22.233

检查 app/Model 文件夹中是否真的有文件 AppModel.php（我不小心删除了它们）。然后从一个新的 cakephp-Version 复制这个文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T08:02:19.683

好的解决它..我的坏..

我所做的是。直接`cake bake`从目录 c:/location/apps/console执行

因此给了我错误..

解决方案

需要添加window环境变量`PATH`值`c:/location/apps/console`

使用命令提示符浏览到 c:/location/apps

然后`cake bake`从这里执行

# c# - 当前上下文中不存在页面控件

> ID：11095806
> 
> 赞同：0
> 
> 时间：2012-06-19T06:52:12.913
> 
> 标签：c#, asp.net

在我的设计部分，我添加了所有标签和下拉列表，但在 register.aspx.cs 中，它显示这些控件在当前上下文中不存在。

```
 using System;    
    using System.Collections;    
    using System.Configuration;    
    using System.Data;    
    using System.Linq;    
    using System.Web;    
    using System.Web.Security;    
    using System.Web.UI;    
    using System.Web.UI.HtmlControls;    
    using System.Web.UI.WebControls;    
    using System.Web.UI.WebControls.WebParts;     
    using System.Xml.Linq;    
    using System.Data.SqlClient;  
    using System.IO;

    public partial class register : System.Web.UI.Page    
    {    
    SqlConnection con = new SqlConnection("server = .\\SQLEXPRESS;AttachDbFileName    =|DataDirectory|\\Database123.mdf;trusted_connection = true;USER Instance =yes");    
    protected void Page_Load(object sender, EventArgs e)
    {

    }

    protected void Button2_Click(object sender, EventArgs e)
    {

        try
        {

            if (CheckBox1.Checked == true)
            {
                String f;
                f = Path.GetFileName(FileUpload1.FileName);
                con.Open();
                if (f != "")
                {

                    FileUpload1.SaveAs(Server.MapPath("~") + "/images/" + f);
                    Label2.Text = "~" + "/images/" + f;

                    SqlCommand cmd1 = new SqlCommand("insert into register values('" + TextBox1.Text + "','" + TextBox8.Text + "','" + TextBox2.Text + "','" + TextBox3.Text + "','" + RadioButtonList1.SelectedValue + "','" + TextBox4.Text + "','" + DropDownList3.SelectedItem + "','" + DropDownList2.SelectedItem + "','" + TextBox7.Text + "','" + TextBox10.Text + "','" + RadioButtonList2.SelectedValue + "','" + TextBox12.Text + "','" + Label2.Text + "','" + DropDownList1.Text + "','" + TextBox14.Text + "')", con);
                    cmd1.ExecuteNonQuery();
                    TextBox1.Text = " ";
                    TextBox8.Text = " ";
                    TextBox2.Text = " ";
                    TextBox3.Text = " ";
                    TextBox4.Text = " ";
                    // TextBox15.Text = " ";
                    // TextBox16.Text = " ";
                    TextBox7.Text = " ";
                    TextBox10.Text = " ";
                    TextBox12.Text = " ";
                    TextBox14.Text = " ";

                    Label1.Visible = true;
                    Label1.Text = "submitted successfully";
                }

                else
                {

                    SqlCommand cmd1 = new SqlCommand("insert into register(user_id,password,fname,lname,user_type,address,city,state,pin,contact_no,gender,email,seq_que,seq_ans) values('" + TextBox1.Text + "','" + TextBox8.Text + "','" + TextBox2.Text + "','" + TextBox3.Text + "','" + RadioButtonList1.SelectedValue + "','" + TextBox4.Text + "','" + DropDownList3.SelectedItem + "','" + DropDownList2.SelectedItem + "','" + TextBox7.Text + "','" + TextBox10.Text + "','" + RadioButtonList2.SelectedValue + "','" + TextBox12.Text + "','" + DropDownList1.Text + "','" + TextBox14.Text + "')", con);
                    cmd1.ExecuteNonQuery();
                    TextBox1.Text = " ";
                    TextBox8.Text = " ";
                    TextBox2.Text = " ";
                    TextBox3.Text = " ";
                    TextBox4.Text = " ";
                    // TextBox15.Text = " ";
                    //TextBox16.Text = " ";
                    TextBox7.Text = " ";
                    TextBox10.Text = " ";
                    TextBox12.Text = " ";
                    TextBox14.Text = " ";

                    Label1.Visible = true;
                    Label1.Text = "submitted successfully";
                }
                con.Close();

            }
            else
            {
                Label1.Visible = true;
                Label1.Text = " terms & condition must checked";
            }
        }
        catch (Exception e1)
        {
            Response.Write("<script language='javascript'>alert(\"Invalid Data Entry\")</script>");
        }

        }
    protected void  DropDownList2_SelectedIndexChanged(object sender, EventArgs e)
    {

    if (DropDownList2.SelectedIndex == 1)
        {
            DropDownList3.Items.Clear();
            DropDownList3.Items.Add("jaipur");
            DropDownList3.Items.Add("udaipur");
            DropDownList3.Items.Add("ajmer");
            DropDownList3.Items.Add("bharatpur");
            DropDownList3.Items.Add("tonk");
        }
        else if (DropDownList2.SelectedIndex == 2)
        {
            DropDownList3.Items.Clear();
            DropDownList3.Items.Add("amravati");
            DropDownList3.Items.Add("mumbai");

        }
    }

    protected void DropDownList3_SelectedIndexChanged(object sender, EventArgs e)
    {

    }

    protected void CheckBox1_CheckedChanged(object sender, EventArgs e)
    {

    }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:00:57.453

检查 Aphelion 的答案中提到的 aspx 页面上的 Inherits 属性，并确保正确关闭 aspx 页面上的标签

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-14T11:47:02.507

如果您从不同版本的 vs 复制元素并将其粘贴到您的应用程序中，您可能会遇到此问题。只需删除这些元素并使用 vs 中的工具箱将它们添加回来。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T06:57:25.103

确保您的 Aspx 页面正确设置了`CodeFile`和`Inherits`属性。

ASP:

```
<%@ Page Language="C#" AutoEventWireup="true"  CodeFile="Register.aspx.cs" Inherits="register" %> 
```

代码隐藏：

```
public partial class register : System.Web.UI.Page {} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T07:14:14.163

如果您在页面指令中正确指定了代码隐藏文件，并且仍然遇到相同的问题，则可能是您的页面设计器 ( `register.aspx.designer.cs`) 搞砸了。您可以删除并重新创建它。

1）首先删除`register.aspx.designer.cs`

2）然后右键单击解决方案资源管理器中的 Web 项目并选择选项`Convert to Web Application`（这将重新创建 desginer.cs；现在它应该可以正常工作了）

# testing - Metro应用程序和桌面应用程序之间的进程间通信

> ID：11095814
> 
> 赞同：0
> 
> 时间：2012-06-19T06:53:16.683
> 
> 标签：testing, microsoft-metro

我们有一个已经开发并准备好部署的 Metro 应用程序。但我们对迄今为止所做的测试仍然不满意。我们的目标是在应用程序代码中编写一些内联测试代码，旨在暴露应用程序中的某些关键事件，（通过生成一些测试代码可以等待的事件）并等待测试代码生成的事件。这种方式我们可以生成更多场景。

例如，如果有四个组件作为后台线程 A、B、C 和 D 运行并且我们希望 A 执行然后发出信号以测试代码一个事件并等待（仅在 UI 线程继续运行时在后台线程上）。然后，测试代码会模拟一些用户操作并向应用程序发出信号，应用程序在该应用程序上继续执行操作 B 和 C，然后当测试代码再次在 UI 上运行一些测试用例时再次等待，而后台线程仍处于挂起状态。

所以这样我们就实现了一个场景BackgroundThread A-> User event x-> Background Thread B -> Background Thread C -> user event y -> Background thread D

我们希望找到更多由于后台线程而可能出现的同步问题。这种方法背后的驱动力是我们无法控制线程何时脱离上下文。因此我们希望模拟这种场景来检查争用区域。我已经尝试了所有基本的 IPC 机制，但显然由于 Metro 应用程序沙盒，它们在 Metro 应用程序和桌面应用程序之间不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T13:23:27.273

我也在寻找一个好的解决方案。直到现在我找到了两个，但都不是我要找的那种。也许对你没问题：

*   在您的测试机器上，您可以[禁用网络隔离](http://msdn.microsoft.com/en-us/library/windows/apps/hh780593.aspx)并与运行您的应用程序的机器使用网络通信。
*   或者您使用输入`StorageFile`并`KnownFolders.DocumentsLibrary`写入/查找“我的文档”中的文件。

# javascript - 使用 jQuery/javascript 的对象位置动画

> ID：11095820
> 
> 赞同：0
> 
> 时间：2012-06-19T06:54:27.227
> 
> 标签：javascript, jquery

我想知道是否有一种方法可以为 div（箭头的图像）设置动画，使其出现在页面中间，然后指向我想要的任何对象（朝它旋转）并朝它移动。有点显示某物的位置。

jQuery 能够制作这样的动画还是我应该研究其他库？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:00:26.943

如何居中：[使用 jQuery 将 DIV 在屏幕上居中](https://stackoverflow.com/questions/210717/using-jquery-to-center-a-div-on-the-screen)

如何旋转：[在 jQuery 中旋转一个 Div 元素](https://stackoverflow.com/questions/382591/rotating-a-div-element-in-jquery)

因为它只是一个简单的形状，所以我推荐 raphaeljs。这适用于大多数浏览器（甚至 IE 6）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:00:35.487

是的 jquery 能够提供这种类型的动画，你可以用`.animate()`jquery 的方法制作动画。[http://docs.jquery.com/Effects/animate](http://docs.jquery.com/Effects/animate)

将**箭头**应该移动的代码（它的目标位置）放在该`.animate`方法中。例如。`.animate`在方法中使用它

```
$('#arrow').css({
 '-moz-transform':'rotate(80deg)',
 '-webkit-transform':'rotate(80deg)',
 '-o-transform':'rotate(80deg)',
 '-ms-transform':'rotate(80deg)'
}); 
```

有可用于旋转的示例，

[现场旋转和其他 css 演示精彩 http://css3please.com/](http://css3please.com/)

[http://www.zachstronaut.com/posts/2009/02/17/animate-css-transforms-firefox-webkit.html](http://www.zachstronaut.com/posts/2009/02/17/animate-css-transforms-firefox-webkit.html)

# php - 使用 Twitter OAuth (PHP) 登录 Twitter 的问题

> ID：11095823
> 
> 赞同：0
> 
> 时间：2012-06-19T06:54:36.667
> 
> 标签：php, api, twitter, oauth

好吧，我正在尝试使用 Twitter API 做一个非常简单的登录脚本。我所需要的只是用户通过 Twitter 登录网站的简单方法。我的主页上有一个按钮，上面写着“登录或注册 Twitter”，如果他们当前没有登录。如果他们已经登录，我希望它显示他们的用户名和他们的头像。所以这就是我到目前为止所拥有的，但它不起作用。

在主页（index.php）上，我有以下内容：

```
 <?php
      require_once 'lib/twitteroauth/OAuth.php';
      require_once 'lib/twitteroauth/twitteroauth.php';
      require_once 'config/config.php';
      session_start();
 ?> 
```

config.php 包含以下代码（显然替换了消费者密钥和消费者秘密）：

```
 <?php
      $consumer_key = 'consumer key';
      $consumer_secret = 'consumer secret';
 ?> 
```

然后在页面下方，我还有以下内容，根据登录状态显示登录/注册消息或用户名/头像。

```
 <?php
      if (!empty($_SESSION['request_token']) && !empty($_SESSION['request_token_secret'])) {
           $twitterOAuth = new TwitterOAuth($consumer_key, $consumer_secret, $_SESSION['request_token'], $_SESSION['request_token_secret']);
           $user = $twitterOAuth->get('account/verify_credentials');

           echo "Welcome ".$user->screen_name;
           echo "<img src='".$user->profile_image_url."'/>";
      } else {
           echo "<a href='twitter_login.php'>Sign In / Register With Twitter</a>";
           echo "<img src='images/twitter-banner.png'/>";
      }
 ?> 
```

这就是 index.php 页面。如您所见，如果他们没有登录，并且他们单击“登录”链接，它将带他们到另一个页面，即 twitter_login.php。该文件的内容如下：

```
 <?php
      require_once 'lib/twitteroauth/OAuth.php';
      require_once 'lib/twitteroauth/twitteroauth.php';
      require_once 'config/config.php';

      session_start();

      $twitterOAuth = new TwitterOAuth($consumer_key, $consumer_secret);

      $requestToken = $twitterOAuth->getRequestToken();

      $_SESSION['request_token'] = $requestToken['oauth_token'];
      $_SESSION['request_token_secret'] = $requestToken['oauth_token_secret'];

      header ('Location: '.$twitterOAuth->getAuthorizeURL($requestToken));
 ?> 
```

此页面将自动将用户重定向到 Twitter 授权 URL。twitter 中设置的回调 URL 是“authenticate.php”。该文件的内容是：

```
 <?php
      require_once 'lib/twitteroauth/OAuth.php';
      require_once 'lib/twitteroauth/twitteroauth.php';
      require_once 'config/config.php';

      session_start();

      if ($_SESSION['request_token'] == $_GET['oauth_token']) {
           $twitterOAuth = new TwitterOAuth($consumer_key, $consumer_secret, $_SESSION['request_token'], $_SESSION['request_token_secret']);

           $accessToken = $twitterOAuth->getAccessToken();

           if (isset($accessToken['user_id']) && is_numeric($accessToken['user_id'])) {
                $_SESSION['request_token'] = $accessToken['oauth_token'];
                $_SESSION['request_token_secret'] = $accessToken['oauth_token_secret'];
                header('Location: index.php');
           } else {
                echo "Something went wrong.";
           }
      } else {
           echo "OAuth Tokens Do Not Match.";
      }
 ?> 
```

成功登录后，用户应该被重定向回 index.php，然后主页应该显示他们的用户名/头像。在我自己的测试中，我发现当我在 Firefox 中尝试它时它工作正常，但是当我在任何其他浏览器（Safari/Chrome）中尝试它时，它似乎卡在了 twitter 授权上。知道我做错了什么，或者我可以做些什么来改进/修复这个脚本？我在我的智慧尽头试图弄清楚这一点。

先感谢您！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:01:09.510

我认为您的回调网址正在中断。您可以使用任何类型的工具或浏览器调试器对其进行检查，以了解正在验证的 url 发生了什么。

# sharepoint - SharePoint - 如何使用 在列表定义中

> ID：11095827
> 
> 赞同：2
> 
> 时间：2012-06-19T06:55:17.540
> 
> 标签：sharepoint, splist, list-definition

我正在创建一个列表视图 - 以 XML 编程方式。标题字段仅包含年份（列表是某种年度报告）。[当我了解到在 CAML 中过滤它并不容易时`<Where>`](https://stackoverflow.com/questions/11085557/using-part-of-date-in-caml-query)，我希望能够只显示 3 个最高年份的项目。

**`<RowLimit>`****我可以在我的 ListDefinition`<View>`部分****使用**, 或类似的东西吗？再加上`<OrderBy>`，这可以解决问题。

```
<Query>
 <OrderBy>
  <FieldRef Name='Title' Ascending='False' />
 </OrderBy>
<Query> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-19T08:37:19.347

视图模式应如下所示，您可以更改里面的 3，Paged="FALSE" 表示“行限制是绝对的，没有查看更多项目的链接”

参考： http: [//msdn.microsoft.com/en-us/library/dd588460 (v=office.11​​).aspx](http://msdn.microsoft.com/en-us/library/dd588460(v=office.11).aspx)

```
<RowLimit Paged="FALSE">3</RowLimit>

<View BaseViewID="0" Type="HTML" MobileView="TRUE" TabularView="FALSE">
    <Toolbar Type="Standard" />
    <XslLink Default="TRUE">main.xsl</XslLink>
    <RowLimit Paged="TRUE">3</RowLimit>
    <ViewFields>
      <FieldRef Name="LinkTitleNoMenu"></FieldRef>
    </ViewFields>
    <Query>
      <OrderBy>
        <FieldRef  Name="Title" Ascending="False"></FieldRef>
      </OrderBy>
    </Query>
  </View> 
```

# java - MongoDB写入问题

> ID：11095829
> 
> 赞同：-4
> 
> 时间：2012-06-19T06:55:27.643
> 
> 标签：java, mongodb

我是 mongodb 的新手，我遇到了写问题。实际上，我可以有大约 2000 个用户连接到服务器，每个用户都在 mongodb 中编写他们的东西。每次写之前和之后，我都尝试睡眠大约 20 秒。但即使这样也行不通，因为我可以让许多线程在同一个实例中做同样的事情。那是不可控的。可以为每个用户创建另一个 Mongo 实例（即每个用户将与同一数据库上的同一主机建立新连接）吗？或者可能有其他什么可以解决这个问题？请帮忙..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T07:23:15.950

尝试编写时是否遇到特定错误？休眠几秒钟只会推迟相同的问题（并且可能会通过人为地增加应用程序的延迟而导致更多问题）。另外，你只是在做插入..还是更新/更新？有问题的写入的简短示例代码会有所帮助。

建议的调查方法将根据您的资源瓶颈所在的位置而有所不同：http: [//highscalability.com/blog/2011/9/13/must-see-5-steps-to-scaling-mongodb-or-any-db- in-8-minutes.html](http://highscalability.com/blog/2011/9/13/must-see-5-steps-to-scaling-mongodb-or-any-db-in-8-minutes.html)

# sapb1 - 将单列细分为多列

> ID：11095832
> 
> 赞同：3
> 
> 时间：2012-06-19T06:55:36.317
> 
> 标签：sapb1

您好，我想知道的是可以在**SAP B1**
的网格或矩阵中将单个列细分为多个子列。我使用的是 8.82 版。我需要这个要求来显示目的。示例格式为 月（主列）LOP 天数 总天数 临时休假（子列）

# c# - 如何创建日志文件并将数据记录到最大 2mb 级别以使用 c# 生成新文件

> ID：11095837
> 
> 赞同：1
> 
> 时间：2012-06-19T06:56:05.903
> 
> 标签：c#

尝试在我的窗口服务应用程序中创建日志文件，以记录信息，错误也是如此，因此每个文件必须在完成后不久将数据记录到最大 2 mb 它应该在同一路径中创建新的日志文件，通过写一个附加时间戳的文件名并开始登录到新文件，任何人都可以提出相同的建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:58:47.087

我建议使用任何现有的日志框架，如[NLOG](http://nlog.codeplex.com/)进行日志记录，而不是推出你自己的，它具有你提到的所有功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:07:57.083

使用[log4net ，您可以使用](http://logging.apache.org/log4net/)[滚动文件 appender](http://logging.apache.org/log4net/release/config-examples.html)来实现这一点。

您可以通过配置文件（app.config 或 web.config）对其进行配置，如下所示：

```
<appender name="RollingFileAppender" type="log4net.Appender.RollingFileAppender">
    <file value="log.txt" />
    <appendToFile value="true" />
    <rollingStyle value="Size" />
    <maxSizeRollBackups value="10" />
    <maximumFileSize value="2MB" />
    <staticLogFileName value="true" />
    <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date [%thread] %-5level %logger [%property{NDC}] - %message%newline" />
    </layout>
</appender> 
```

# perl - 使用 Perl 编程附加 MS Word DOC 文件

> ID：11095839
> 
> 赞同：2
> 
> 时间：2012-06-19T06:56:14.303
> 
> 标签：perl, ms-word

我对 MS Word 有疑问。我有两个 MS Word DOC 文件（包含徽标、表格、文本）。我想用 Perl 脚本以相同的文件格式附加另一端。我用谷歌搜索了很多网站，但都失败了。你有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:21:30.210

我认为，您可以尝试使用`Win32::Clipboard`Perl 模块来解决您的任务。这是一个很好的起点。您可以在此处找到其他信息：[http](http://www.perl.com/pub/2005/05/26/word_control.html) ://www.perl.com/pub/2005/05/26/word_control.html 。

另一个对您有用的模块是`Win32::OLE`. 使用小例子：http: [//www.adp-gmbh.ch/perl/word.html](http://www.adp-gmbh.ch/perl/word.html)

# android - 我从存储卡安装我的应用程序。它取代了我的另一个应用程序

> ID：11095842
> 
> 赞同：0
> 
> 时间：2012-06-19T06:56:28.407
> 
> 标签：android

我已经为 Android 开发了两个应用程序。我通过 USB 将它们复制到我的 LG P500 的存储卡中。我用`AppsInstaller`它。第一个应用程序安装没问题。我看到它的图标并且可以运行它。

第二个应用程序的安装取代了第一个应用程序。我在 Android 中看不到我的第二个应用程序的图标。我只看到第一个应用程序的图标。但触摸它会运行第二个应用程序。

第一个应用程序在适当的项目文件夹中有图标

```
res/drawable-hdpi/icon.png
res/drawable-ldpi/icon.png
res/drawable-mdpi/icon.png 
```

我`myApp2.png`用于第二个项目文件夹中的图标。

然而 2-nd 取代了 1-st 应用程序。我的项目有什么问题？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:00:09.363

这是因为两个应用程序的*包名称*相同，所以只需更改包名称。

# java - 借助小程序在网页中运行正常的 Jar 文件

> ID：11095846
> 
> 赞同：3
> 
> 时间：2012-06-19T06:57:04.350
> 
> 标签：java, html, deployment, jar, applet

我有一个用 Java 创建的 Jar 文件，其中包含外部库和类文件（使其更复杂）。我们的任务是以某种方式在网络上运行这个程序。

Applet 用于在 HTML 上运行 Java，但我的问题是我的 jar 不是 Applet Jar，所以我不能在 applet 标记中包含 jar，所以我应该将所有 java 代码重写为 applet，还是有任何简单的方法来转换我的jar 到 applet jar 并包含在 HTML 中？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T07:10:28.140

启动基于框架的应用程序。来自使用[Java Web Start](https://stackoverflow.com/tags/java-web-start/info)的链接。

* * *

> 不，它不是基于帧的，它实际上是通过串行端口连接的打印机应用程序，所以现在我试图从头开始在小程序中重写

为了让它在客户端工作（对客户端来说很容易），需要一个嵌入式（或自由浮动）小程序或使用 JWS 启动的自由浮动框架。任你选。请注意，除非代码经过数字签名（由您）并受信任（由最终用户），否则它将无法打印。

有一项服务可用于允许沙盒应用程序。使用 JWS 部署进行打印，但它不会像访问串行端口那样具体，并且需要更改代码。

* * *

当您提到“转换”并认为您的意思是它基于自由浮动框架时，我有点困惑。现在你解释它不是一个小程序或框架让我更清楚。

> ..我应该把我所有的java代码重写为applet吗？

不，当然不是。`archive`您只需使用该属性将该 Jar 添加到小程序的运行时类路径，然后从一个非常简单的小程序的`init()`or （根据需要）方法调用它。`start()`

但我仍然建议使用 JWS 来实现自由浮动框架，而不是使用小程序。两者的代码都很简单，但小程序部署要困难得多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:01:59.127

`<applet code="MainClass.class" archive="Applett.jar" width=550 height=400></applet>` 看看这里[http://www.htmlcodetutorial.com/applets/applets.html](http://www.htmlcodetutorial.com/applets/applets.html)

# wpf - 如何创建按项目属性排序的 ObservableCollection 并在项目属性更改时发出 CollectionChanged

> ID：11095848
> 
> 赞同：0
> 
> 时间：2012-06-19T06:57:15.667
> 
> 标签：wpf, observablecollection, collectionview

我有一个控件列表，其中每个控件都有 ZIndex 属性：

```
class WizardControl : INotifyPropertyChanged
{
    public int ZIndex { get; set; /* set emits PropertyChanged event */}
}

class WizardStep
{
    ObservableCollection<WizardControl> Controls { get; set; }
}

class Wizard
{
    ObservableCollection<WizardStep> Steps { get; set; }
} 
```

我还有一个`TreeView`using `HierarchicalDataTemplate`，其中每个`WizardStep`都有一个树节点，所有节点都`WizardControl`作为树叶。

现在我想按控件的 ZIndex 对控件进行排序。我找到了一个使用自定义`Converter`（http://stackoverflow.com/a/5730402/69868）的解决方案，只要 ZIndex 没有改变，它就可以正常工作。

当 ZIndex 更改时，排序后的 CollectionView 不会发出 CollectionChanged 事件，并且 GUI 不会选择顺序更改。

我的问题：如何创建一个排序集合，当由于排序值的变化而重新排序项目时，该集合将发出正确的事件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T13:33:50.740

`ObservableCollection`仅`PropertyChange`在集合更改时发出通知，而不是在集合内的对象发生更改时发出通知。

如果你想要那种行为，你必须自己添加它。通常我会在`CollectionChanged`事件中添加它。

```
public MyViewModel()
{
    MyCollection.CollectionChanged += MyCollection_CollectionChanged;
}

void MyCollection_CollectionChanged(object sender, CollectionChangedEventArgs e)
{
    if (e.NewItems != null)
        foreach(MyItem item in e.NewItems)
            item.PropertyChanged += MyItem_PropertyChanged;

    if (e.OldItems != null)
        foreach(MyItem item in e.OldItems)
            item.PropertyChanged -= MyItem_PropertyChanged;
}

void MyItem_PropertyChanged(object sender, PropertyChangedEventArgs e)
{
    if (e.PropertyName == "Some Property")
    {
        // Do work
        RaisePropertyChanged("MyCollection");
    }
} 
```

由于您在集合上使用转换器，因此只需为集合引发 PropertyChanged 事件即可重新运行转换器

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:36:17.223

为此，您必须使用`CollectionView`包裹在您的`ObservableCollection`with周围`CollectionView.SortDescriptions.Add(new SortDescription(ZIndex))`。

这样，每当`ZIndex`可观察集合中的任何项目发生变化时，它都会自动在 GUI 上获取正确的排序位置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T07:59:43.780

我想您可以自己在集合中实现 INotifyCollectionChanged 接口，该集合可以侦听 WizardControl 的属性更改事件参数，让您完全控制事情的完成方式。我已经包含了一个如何完成的小样本。

WizardControl.cs

```
 public class WizardControl : INotifyPropertyChanged
    {
        public event PropertyChangedEventHandler PropertyChanged;

        int zIndex;
        PropertyChangedEventArgs zIndexArgs = new PropertyChangedEventArgs("ZIndex");

        public int ZIndex
        {
            get { return zIndex; }
            set
            {
                if (zIndex != value)
                {
                    zIndex = value;
                    PropertyChangedEventHandler temp = PropertyChanged;
                    if (temp != null)
                        temp(this, zIndexArgs);
                }
            }
        }

        public override string ToString()
        {
            return zIndex.ToString();      

        }
} 
```

WizardCollection.cs

```
public class WizardCollection : INotifyCollectionChanged, IEnumerable<WizardControl>
{
    public event NotifyCollectionChangedEventHandler CollectionChanged;
    NotifyCollectionChangedEventArgs collectionChangedMoveArgs = new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Reset);

    List<WizardControl> items = new List<WizardControl>();

    public WizardControl this[int index]
    {
        get { return items[index]; }
    }

    public void Add(WizardControl item)
    {
        if (items == null) items = new List<WizardControl>();
        items.Add(item);
        item.PropertyChanged += new PropertyChangedEventHandler(item_PropertyChanged);
        NotifyCollectionChangedEventHandler temp = CollectionChanged;
        if (temp != null)
            temp(this, new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Add, item));
    }

    public void Remove(WizardControl item)
    {
        item.PropertyChanged -= new PropertyChangedEventHandler(item_PropertyChanged);
        NotifyCollectionChangedEventHandler temp = CollectionChanged;
        if (temp != null)
            temp(this, new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Remove, item));
    }

    void item_PropertyChanged(object sender, PropertyChangedEventArgs e)
    {
        if (e.PropertyName == "ZIndex")
        {
            items = items.OrderBy(x => x.ZIndex).ToList();
            NotifyCollectionChangedEventHandler temp = CollectionChanged;
            if (temp != null)
                temp(this, collectionChangedMoveArgs);
        }
    }

    public IEnumerator<WizardControl> GetEnumerator()
    {
        return items.GetEnumerator();
    }

    System.Collections.IEnumerator System.Collections.IEnumerable.GetEnumerator()
    {
        return items.GetEnumerator();
    }
} 
```

# iphone - 使用第三个库代码时 ARC 是如何工作的？

> ID：11095855
> 
> 赞同：1
> 
> 时间：2012-06-19T06:57:29.533
> 
> 标签：iphone, objective-c, automatic-ref-counting

我正在阅读与 ARC 相关的文章。以下是该部分：

> ARC 还利用了 Objective-C 语言命名约定并推断返回对象的所有权。在 Objective-C 中，一种使用以下任一前缀进行统计的方法
> 
> 1.  分配，
> 2.  复制，
> 3.  可变复制
> 4.  和新的
> 
> 被认为正在将返回对象的所有权转移给调用者。这意味着，在您的应用程序中，当您创建一个方法时，ARC 会自动从您的方法名称中推断是返回一个自动释放的对象还是一个 +1 的保留对象。但是，有一个小警告。假设您有一个以“copy”开头的方法，如
> 
> -(NSString*) 复制权字符串；
> 
> ARC 假设它会将返回的字符串的所有权转移给调用者并自动插入一个释放。如果被调用方法和调用方法都是使用 ARC 编译的，那么一切正常。
> 
> 但是，如果您的“copyRightString”方法位于未使用 ARC 编译的第三方库中，您将过度释放返回的字符串。这是因为，在调用代码上，ARC 编译器插入了一个释放来平衡由“复制”方法增加的保留计数。
> 
> 相反，如果第三方库是使用 ARC 编译的，而您的方法不是，则会出现内存泄漏。

现在我有两个问题： 1.为什么“copyRightString”方法在非ARC编译的第三方库中时对象会过度释放？由于方法名称以copy开头，所以该方法不会释放对象，因为它是调用方法来释放对象的责任，因为方法的名称以复制开头，所以 ARC 将负责。

2.为什么第三方库是用ARC编译的，而我们的方法不是，为什么会有内存泄漏？由于方法名以copy开头，所以ARC不会释放它，它是调用方法释放它的责任。在我们的代码我们将发布它，因为方法名称以复制开头。

我希望我清楚！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T14:01:08.040

在此示例中，`-copyRightString`选择方法名称以显示某个问题。方法签名表明该方法返回一个包含版权信息的字符串，因此程序员会期望它返回一个自动发布的值。但意外地方法名称以 开头`copy`，因此 ARC 期望它返回一个保留值。方法实现可能如下所示：

```
- (NSString *)copyRightString
{
   return [NSString stringWithFormat:@"Copyright %d %@", 
                                     self.copyRightYear,
                                     self.companyName];
} 
```

如果您在没有 ARC 的第三方库中编译此方法，该方法将返回一个自动释放的值。如果您现在从 ARC 代码中使用它，ARC 会看到名称以 开头`copy`，因此它希望此方法返回一个保留的（不是​​自动释放的）值。因此，它会过于频繁地释放返回值一次。这就是过度释放的部分。

另一方面，如果您使用 ARC 编译此方法，ARC 会看到名称以 开头`copy`，因此它将确保该方法返回一个保留值。然而，从非 ARC 使用此方法的程序员可能期望该方法返回一个自动释放的值（因为方法签名表明它返回一个包含版权信息的字符串）。所以他们不会在他们的代码中释放对象，从而导致内存泄漏。

# c# - 如何解决 wcf 通信异常中的“不安全或安全错误”？

> ID：11095858
> 
> 赞同：0
> 
> 时间：2012-06-19T06:57:39.550
> 
> 标签：c#, wcf, web-services, windows-services, security

我尝试在 Windows 服务任何机器上的 wcf 服务上使用远程 dll。但是 wcf 服务返回给我这个错误：

**CommunicationException：从另一方接收到不安全或不正确安全的故障。有关故障代码和详细信息，请参阅内部 FaultException。**

我的 wcf 服务运行良好。我还调用我的 wcf 服务调用 PROCESS.dll。我正在动态调用 wcf 服务：

```
 public static ApplicationHostServiceClient CreateApplicationHostService()
        {
            try
            {
                int maxDifference = 300;
                WSHttpBinding binding = new WSHttpBinding();
                binding.MaxReceivedMessageSize = int.MaxValue;
                binding.MaxBufferPoolSize = int.MaxValue;
                binding.ReaderQuotas.MaxArrayLength = int.MaxValue;
                CustomBinding myCustomBinding = new CustomBinding(binding); //CreateMultiFactorAuthenticationBinding(binding);

                // Set the maxClockSkew
                var security = myCustomBinding.Elements.Find();
                security.LocalClientSettings.MaxClockSkew = TimeSpan.FromMinutes(maxDifference);
                security.LocalServiceSettings.MaxClockSkew = TimeSpan.FromMinutes(maxDifference);

                // Set the maxClockSkew
                var secureTokenParams = (SecureConversationSecurityTokenParameters)security.ProtectionTokenParameters;
                var bootstrap = secureTokenParams.BootstrapSecurityBindingElement;
                bootstrap.LocalClientSettings.MaxClockSkew = TimeSpan.FromMinutes(maxDifference);
                bootstrap.LocalServiceSettings.MaxClockSkew = TimeSpan.FromMinutes(maxDifference);

                // Update the binding of the endpoint
               // service.Description.Endpoints[0].Binding = myCustomBinding;

                EndpointAddress endpoint = new EndpointAddress(new Uri(ProcessApplication.Serverparameters.BaseServiceHost + "/Service/ApplicationHostService.svc"));
                ApplicationHostServiceClient ser = new ApplicationHostServiceClient(myCustomBinding, endpoint);

                return ser;
            }
            catch (Exception exc)
            {

                ProcessApplication.Application.OnError("CreateApplicationHostService is not              succeeded.", "CreateApplicationHostService", exc);
                return null;
            }

        } 
```

但出现上述错误。如何解决我的安全异常？

# c# - 如何获取元素 WPF 的子元素

> ID：11095859
> 
> 赞同：9
> 
> 时间：2012-06-19T06:57:40.760
> 
> 标签：c#, wpf

我有一个包含图像和文本块的堆栈面板。一旦用户执行双击，我就会引发一个事件。（**PS** - 我正在添加 StackPanel 及其子项（如果重要，则以编程方式添加 Image 和 TextBlock）。

现在，我需要从堆栈面板中获取 TextBlock 元素，我知道我应该使用 DataBinding 来完成，但我是 WPF 的初学者，并且真的没有在网络上找到任何关于它的示例。很高兴得到解释，非常感谢！

（我不久前了解了 DataBinding）。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-06-19T07:15:39.213

A simple way of getting the first child element of a certain type (e.g. TextBlock) is this:

```
var textBlock = panel.Children.OfType<TextBlock>().FirstOrDefault(); 
```

You either get the first TextBlock or `null` if there isn't any.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:12:15.503

您需要将 DataBind `TextBlock` `Text`(?) 元素添加到您的类中 - 如下所示：

在 XAML 中

```
<TextBlock x:Name="MyTextBlock"
   Text={Binding ShowThis, Mode=OneWay} /> 
```

在班上：

```
 public class MyDataContextClass
 {
     private string showThis = string.Enpty;
     public string ShowThis
     {
         get {return showThis;}
         set
         {
              showThis = value;
              if (PropertyChanged != null)
                  PropertyChanged(....);
         }
      }
  } 
```

并且您必须使用 DataBing Xaml 才能上课。（可能在构造函数中？）

```
 public class MyXamlWindow
  {
       public MyXamlWindow()
       {
             this.DataContext = new MyDataContextClass();
       }
   } 
```

有**很多**方法可以做到以上所有

# iphone - 将图像存储在 iOS 应用程序的 xml 文件中

> ID：11095865
> 
> 赞同：0
> 
> 时间：2012-06-19T06:57:59.460
> 
> 标签：iphone, objective-c, ios

我在 iPad 应用程序上工作，我在其中呈现来自 xml 文件的数据。在应用程序中，我必须显示与对象相关的图像。我有两种方法首先是在我的项目文件夹中添加图像，然后在 xml 文件中添加图像的名称

```
<image>image1.png<image> 
```

在那之后：

```
image.image=[UIImage imageNamed:food.image]; 
```

另一种方法是将图像存储到 xml 中。

哪个是最好的方法？如果我将整个图像存储到 xml 中，那么我需要将图像添加到我的应用程序文件夹中吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:13:24.633

我希望您将图像路径存储在 xml 中，例如[http://car.amarhost.net/blogo/00001.png](http://car.amarhost.net/blogo/00001.png)。这样您就不必将图像存储在本地存储中，如果您有大量图像，您可以像[延迟加载](http://developer.apple.com/library/ios/#samplecode/LazyTableImages/Introduction/Intro.html)技术一样异步下载它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:13:53.973

如果您使用 XML Parser 为您的应用程序读取其他数据，那么您也应该简单地解析图像标签，但我认为将它放在包中比从 XML 中读取它更好，如果这是一个静态图像和不会改变，而且会更有效率。

# php - 产品 URL 采用 Magento 多商店中的当前商店名称

> ID：11095868
> 
> 赞同：1
> 
> 时间：2012-06-19T06:58:18.210
> 
> 标签：php, magento

我有一个网站和三个不同主题的商店：

家具、珠宝、布料

多商店功能完美运行，三个商店也共享同一个购物车。

我将“将商店代码添加到网址”设置为“是”。

问题是，当我进入购物车页面或最近查看的产品或比较产品（简而言之，所有产品链接都可以跳转到产品的地方）时，url 包含当前商店的商店代码，而不是它所属产品的商店代码至。

例如，我将每个商店的一种产品添加到购物车，因此购物车总共有来自三个不同商店的 3 种产品。当我从家具店打开购物车并点击布料和珠宝店的产品时，网址就像[http://example.com/](http://example.com/)**家具**/productname.html

我需要的是从整个站点，当用户单击产品时，它将包含该产品的商店到 URL 每次而不是当前商店。所以它将以正确的主题和正确的标志打开。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-05T00:35:19.713

您需要在购物车中修改以下主题文件：

```
/app/design/frontend/[your theme]/default/checkout/cart/item/default.phtml 
```

有一行获取产品 URL：

```
<a href="<?php echo $this->getProductUrl() ?>"><?php echo $this->htmlEscape($this->getProductName()) ?></a> 
```

并像这样添加后缀选项：

```
<a href="<?php echo $this->getProductUrl() . $this->getProductUrlSuffix()?>"><?php echo $this->htmlEscape($this->getProductName()) ?></a> 
```

# android - 在android上实现页面卷曲错误？

> ID：11095869
> 
> 赞同：0
> 
> 时间：2012-06-19T06:58:19.373
> 
> 标签：android, opengl-es, page-curl

[https://github.com/harism/android_page_curl/](https://github.com/harism/android_page_curl/)

参考这个 URL，我在我的 Android 应用程序中开发了页面卷曲效果。我想要像书页卷曲的效果。当页面卷曲时，其背面页面以镜像效果显示。但翻页后页面显示正常。我不知道有什么问题？

# ruby - 我想使用 ruby gsub 将参数附加到 url

> ID：11095873
> 
> 赞同：2
> 
> 时间：2012-06-19T06:58:46.663
> 
> 标签：ruby, regex

我有一大块 HTML 代码，其中包含一个变量中的图像标签，例如

```
html_chunk = "<p><img src="https://www.eff.org/files/HTTPS_Everywhere_new_logo.jpgxcvxcvxcv" style="width: 360px; height: 311px; " /><img alt="" src="https://mylocal/media/a649vb?filename=1339756119888_sprites_ie6.png&amp;amp;type=attachment" /></p>" 
```

我想将附加参数say附加到该变量内图像标签的`"&foo=123"`所有属性。`src`

我尝试使用 Ruby 的`gsub!`方法

```
html_chunk.gsub!(/"(http[s]?:\/\/.*?\/([media]+).*\")/) {|src| "#{src}&foo=123}"} 
```

但它会在这样的引号之后附加参数

```
<img alt="" src="https://mylocal/media/a649?filename=1339756119888_sprites_ie6.png&amp;amp;type=attachment"&_foo=123 /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T08:14:20.950

您需要将最后一个 " 保留在捕获组之外。 [^"] 表示任何不是引号的字符：

```
html_chunk.gsub! %r|"(https?://[^"]*/media/[^"]*)|, '"\\1&foo=123' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:05:52.323

在 JavaScript 中：

```
// Create a dummy DOM element
var dom = document.createElement( 'div' );
dom.innerHTML = html_chunk;

// Get all the images
var imgs = dom.getElementsByTagName( 'img' );

// Loop through'em
[].forEach.call( imgs, function( img ) {

    // Add a string to their src
    img.src += '&foo=123';
} ); 
```

我很确定 ruby​​ 中有一个 DOM 解析器。

# android - Android HttpGet获取旧版本页面

> ID：11095876
> 
> 赞同：0
> 
> 时间：2012-06-19T06:58:56.307
> 
> 标签：android, jsoup, http-get

我的应用程序有一个功能，它接受用户输入，然后为网站调用 HttpGet（在本例中为维基词典）。然后我剪掉不相关的部分并用 jsoup 解析其余部分。一个特定页面不断返回页面源的旧版本，而不是我几天前更新的版本。有什么办法可以强制它获取新版本吗？该应用程序没有缓存，不幸的是我必须使用 HttpGet 而不是直接使用 jsoup 获取，因为如果不按照我的方式进行操作，就很难分离这些无关信息。我无法编辑相关网页的标题。

这是相关代码：

```
DefaultHttpClient httpClient = new DefaultHttpClient();
HttpGet httpGet = new HttpGet(url);
ResponseHandler<String> resHandler = new BasicResponseHandler();
String page="";
Document doc = null;

try {
    page = httpClient.execute(httpGet, resHandler);
    doc = Jsoup.parse(page);
    } catch (IOException e) {
     e.printStackTrace();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:03:56.780

尝试将动态参数添加到要获取的 url，如下所示：

[http://myfancydomain.com/site.html?fetch=123456](http://myfancydomain.com/site.html?fetch=123456)

“123456”应该由随机数生成器生成，或者您可能想要使用当前时间戳。服务器将此识别为“新”请求，并将提供该站点的最新版本。

# asp-classic - Payflow 链接在经典 ASP 的沙箱中随机抛出字段丢失错误

> ID：11095878
> 
> 赞同：0
> 
> 时间：2012-06-19T06:58:59.440
> 
> 标签：asp-classic, paypal-sandbox, payflowlink

我正在尝试将*Payflow 链接与我的经典 ASP 网站*集成。现在我正在使用测试帐户来测试交易。

这是流程， - 我的网站上会有一个页面，其中将显示地址、姓名、邮件、邮编和其他支付流程交易的必填字段。相同的数据也将添加到隐藏字段中，例如

```
 <form method="post" action="https://payflowlink.paypal.com">  
 <input type="hidden" name="INVOICE"   value="<%=request.querystring("idOrder")%>">
 <input type="hidden" name="LOGIN"   value="<%=pVeriSignLogin%>">
 <input type="hidden" name="PARTNER"   value="PayPal">
 <input type="hidden" name="TYPE"   value="S">
 <input type="hidden" name="AMOUNT"   value="<%
     response.write money(request.querystring("ordertotal"))
  %>">

 <input type="hidden" name="DESCRIPTION"value="<%=request.querystring("orderDetails")%>">
 <input type="hidden" name="FIRSTNAME"  value="<%=request.querystring("name")%>">
 <input type="hidden" name="LASTNAME"  value="<%=request.querystring("lastName")%>">
 <input type="hidden" name="ADDRESS"  value="<%=request.querystring("address")%>">
 <input type="hidden" name="CITY"  value="<%=request.querystring("city")%>">
 <input type="hidden" name="STATE"  value="<%=request.querystring("state")&request.querystring("stateCode")%>">
 <input type="hidden" name="ZIP"  value="<%=request.querystring("zip")%>">
 <input type="hidden" name="COUNTRY"  value="<%=request.querystring("country")&request.querystring("countryCode")%>">
 <input type="hidden" name="PHONE"  value="<%=request.querystring("phone")%>">
 <input type="hidden" name="EMAIL"  value="<%=request.querystring("email")%>">            

 <input type="hidden" name="NAMETOSHIP"  value="<%=request.querystring("shippingName")%>">
 <input type="hidden" name="LASTNAMETOSHIP"  value="<%=request.querystring("shippingLastName")%>">
 <input type="hidden" name="ADDRESSTOSHIP"  value="<%=request.querystring("ShippingAddress")%>">
 <input type="hidden" name="CITYTOSHIP"  value="<%=request.querystring("ShippingCity")%>">
 <input type="hidden" name="STATETOSHIP"  value="<%=request.querystring("ShippingState")&request.querystring("ShippingStateCode")%>">
 <input type="hidden" name="ZIPTOSHIP"  value="<%=request.querystring("ShippingZip")%>">
<input type="hidden" name="COUNTRYTOSHIP"  value="<%=request.querystring("country")&request.querystring("ShippingCountryCode")%>">
 <input type="hidden" name="PHONETOSHIP"  value="<%=request.querystring("shippingPhone")%>">
 <input type="hidden" name="EMAILTOSHIP"  value="<%=request.querystring("shippingEmail")%>"> 
```

*   在以前的表单数据的操作将被传输到“https://payflowlink.paypal.com”。由于我们从上一页传递了数据，因此这里的字段将自动填充。用户现在将添加其信用卡号和到期日。

到这里为止，一切都按预期正常工作。现在，如果我点击“立即付款”按钮，我会收到消息，

> 一些必需的信息丢失或不正确。请更正以下字段，然后重试。

```
 Error: Address is a required field.
  Error: State is a required field.
  Error: Zip Code is a required field.
  Error: Ship To Address is a required field.
  Error: Ship To State is a required field.
  Error: Ship To Zip Code is a required field. 
```

奇怪的是，我已经传递了这些数据，并且支付流链接表单已经**在字段中呈现了它们**。此问题发生在随机基础上。有时当我点击**“立即付款”选项时，它会成功完成交易**，并发送到成功页面。

有没有人遇到过同样的问题？我不知道如何解决它。不知道是支付流链接沙箱问题还是我的方式有任何问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T13:22:49.880

使用以下链接解决，

[https://www.x.com/node/2749](https://www.x.com/node/2749)

# c# - Parent - C# 中的儿童管理

> ID：11095884
> 
> 赞同：1
> 
> 时间：2012-06-19T06:59:24.917
> 
> 标签：c#, class, inheritance, namespaces

我有一个关于 C# 继承管理的问题。

我应该在一个命名空间下编写两个类（基类和派生类）还是应该在不同的命名空间中？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T07:05:01.303

`Namespace`只不过是您的类型的完整名称的一部分。

因此，选择是否将它们放入相同的`namepsace`位置，并不是任何人都可能在这里知道的。根据您的*代码架构*选择它们。

想象一下成为*其他*开发人员并查看您的类型。它们都进入同一个命名空间是否直观？

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T07:01:54.540

它们不需要在同一个命名空间中。如果项目架构是这样的，您甚至可以将它们放在不同的程序集中。

# oracle - 使用 Oracle Apex 的社区和博客页面

> ID：11095886
> 
> 赞同：2
> 
> 时间：2012-06-19T06:59:29.970
> 
> 标签：oracle, plsql, oracle11g, oracle-apex, oracle-xe

对 Oracle Apex 4.1 的整体特性及其在取代 Oracle Forms 方面的日益普及感到惊讶。我目前正在研究一个想法，通过技术论坛（比如 oracle 论坛、ask tom 等）以及博客页面来实现一个内部 oracle 社区页面。这可以使用 Oracle Apex 完成吗？任何人都可以建议任何具有相同功能的示例公共应用程序/网站来进行外观和感觉。

干杯，阿伦

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T07:20:50.490

当然，几乎任何网站都可以使用 Oracle Apex 编写。一个博客或论坛将是可以实现的。就个人而言，我宁愿使用现成的平台（例如用于博客的 wordpress），但如果您需要将它与现有的 Apex 站点集成，那么它可能是有意义的。

在此处查看示例：http: [//www.apexblogs.info](http://www.apexblogs.info)

Ask Tom 也使用 apex：[http ://asktom.oracle.com](http://asktom.oracle.com)

[Oracle 网站](http://www.oracle.com/technetwork/developer-tools/apex/application-express/packaged-apps-090453.html)上曾经有示例应用程序，但似乎它们已被删除：*“Application Express 团队正在开发一些新的、更高级的应用程序。这些新应用程序计划作为 Oracle 数据库的一部分提供云服务。”*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-03T17:04:09.217

您可以通过查看其他人创建的 Apex 博客应用程序来开始您的工作

例如：

[http://www.apexninjas.com/blog/2011/12/the-apexninjas-blog-platform-v2-0-is-released/](http://www.apexninjas.com/blog/2011/12/the-apexninjas-blog-platform-v2-0-is-released/) http://dbswh.webhop.net/dbswh/f?p=BLOG：阅读：0::::文章：1953900346140572

# javascript - 从选择菜单选择中获取总计到另一个表格单元格

> ID：11095887
> 
> 赞同：0
> 
> 时间：2012-06-19T06:59:33.007
> 
> 标签：javascript, jquery, html-table

我有一个简单的 HTML 表格，允许用户从选择菜单中进行选择，然后在下一列中输入数量。

我需要能够自动计算每个选择的 QTY 列的总数 - 行数不固定，但始终至少为 1 行。我在这里创建了我的表格的简化版本：

[http://jsfiddle.net/T5xtL/](http://jsfiddle.net/T5xtL/)

 `在这里，用户只能从 3 种不同的水果（苹果、香蕉、芒果）中选择，然后为每种输入一个数量。一旦用户选择水果和/或输入数量，我想自动计算每种水果的总数。在我的示例中，总数为：

苹果总数：20 香蕉总数：30 芒果总数：5

如果这有帮助，我很乐意使用 jQuery - 我一直在搜索并且找不到类似解决方案的示例，该解决方案从选择菜单计算每行中的选择数，然后计算该行中另一列的总数.

感谢是否有人可以启发我如何实现这一目标，或者您是否可以指出任何类似的示例。我是 Javascript 的新手。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:18:08.340

我只会向您展示香蕉的样本，我相信您会知道如何将其推广到您的其他产品。

```
// Filter only returns the values where the inner function returns true
var bananas = $( '.fruits' ).filter( function() {

    // this selector returns the selected options
    if ( $( ':selected', this ).val() === 'Banana' ) {
         return true;
    }
}

// Now, for each banana, get its quantity, and add to the total
bananas.each( function() {
    // Get the quantity
    var qty = $( this ).next().find( 'input' ).val();

    // Add it to the bananas quantity
    // parseInt transforms a text to an integer
    var qty = qty + parseInt( $( '#sumBananas' ).text(), 10 );

    // And set the quantity in the "sumBananas" span
    $( '#sumBananas' ).text( qty );
} ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T07:17:02.287

```
$().ready(function(){

   var fruit=[];

 $('table select').each(function(){
    if(!fruit[$(this).find('option:selected').text()])      
        fruit[$(this).find('option:selected').text()]=0; 
        fruit[$(this).find('option:selected').text()]+=parseInt($(this).parent().next().find('.qty').val());

});

 $('#sumApples').text(fruit['Apple']);
 $('#sumBananas').text(fruit['Banana']);
 $('#sumMangoes').text(fruit['Mango']);

});​ 
```

this is example and check this link also [http://jsfiddle.net/T5xtL/7/](http://jsfiddle.net/T5xtL/7/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-19T07:13:31.493

我添加了一个苹果总和的例子。请参阅此[示例](http://jsfiddle.net/arvind07/4Atrv/)。

```
$('.qty').change(function(){
    sumApples();
});
$('.fruit').change(function(){
    sumApples();
});

function sumApples(){
    var totalApples = 0;
    $('#fruits').find('select').each(function(){
        if ($(this).val() == 'Apple'){
            var q = $(this).parent('td.fruit').next('td').find('.qty').val();
            totalApples += parseInt(q);
        }
    });
    $('#sumApples').html(totalApples);
} 
```

​</p>

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-19T07:22:06.220

[http://jsfiddle.net/T5xtL/12/](http://jsfiddle.net/T5xtL/12/)

```
$('#fruits')
    .on('change', 'select', calc)
    .on('keyup', 'input', calc);

$(document).ready(calc);

function calc(){
    var total = {};
    $('#fruits tr:has(.fruit)').each(function(){

       var $t = $(this), 

           // val : Apple | Banana | Mango
           val = $t.find('.fruit select').val(),
           qty = $t.find('input').val();

        // the qty
        qty = Number(qty);
        qty = isNaN(qty)?0:qty;

        if(!total.hasOwnProperty(val)) total[val] = 0;
        total[val] += qty;
    });

    // you would be updating the actual html here.    
    for(val in total){
        if(total.hasOwnProperty(val)){
    // NOTE that I change your 'sumApples' to 'sumApple' which follows convention of 'sum' + { the name of the fruit }
            $('#sum' + val).html(total[val]);
        }                
    }
}
​ 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-19T07:07:02.273

在 KnockoutJS 上阅读[本教程。](http://learn.knockoutjs.com/#/?tutorial=intro)与 JQuery 相比，Knockout 更适合使用模型。（他们互相称赞）。`

# google-apps-script - 搜索整个电子表格以在单元格中查找文本，然后打印整行

> ID：11095888
> 
> 赞同：4
> 
> 时间：2012-06-19T06:59:36.690
> 
> 标签：google-apps-script, google-sheets, google-sheets-query

我有一个包含多行和多列数据的 Google 表格，并且想在电子表格的每一行中搜索某个短语，然后如果该行包含其中一列中的短语，则在新工作表上打印该行数据（假设 D 列）。

我的包含所有数据的工作表被创造性地称为“所有数据”。同样，我只包含所选数据的工作表称为“所选数据”。假设我正在寻找的短语是“你好”。

目前在“选定数据”表中，我在单元格 A1 中有以下内容：

```
=QUERY('All the data'!A:D,"select find("hello",All the data!D:D)>0") 
```

这会产生一个解析错误，我希望它打印“所有数据”表中包含“所有数据”表中 D 列中“你好”的所有行。

我究竟做错了什么？我是否使用了正确的功能？还有其他更容易使用的功能吗？什么是正确的公式？

最终，我想将其转换为 Google Apps 脚本。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-19T08:36:55.170

这是您可以尝试的“脚本解决方案”。有很多可能的方法，这是其中之一...

```
function testfindRow(){ ;// this function only to test the other one by giving it a parameter and using its result.
        var ss = SpreadsheetApp.getActiveSpreadsheet();
        var otherSheet=ss.getSheets()[1];// assuming there is a second sheet to copy to
        var datatocopy=findRow('Hello');
        Logger.log(datatocopy)
        if (datatocopy!=-1){
        otherSheet.getRange(otherSheet.getLastRow()+1,1,1,datatocopy[0].length).setValues(datatocopy);
        }
 }
//
function findRow(item) { ;// the actual search function
        var ss = SpreadsheetApp.getActiveSpreadsheet();
        var sheet=ss.getSheets()[0];
        var values = sheet.getDataRange().getValues();
          for(cc =0; cc < values.length; ++cc) {
            if(values[cc].toString().match(item)==item){break};// here you can eventually use string modifiers like toLowerCase() to allow for wider search criteria
             }
        Logger.log(cc);// the array index in which the result was found, cc+1 is the Row index
        if (cc==values.length){return -1}
         var resultArray=sheet.getRange(cc+1,1,1,values[cc].length).getValues()
         return resultArray ;// the returned value is a 2 dimensions array to use with setValues()
 } 
```

根据您的评论，这是一个返回包含该项目的所有行的版本，我也必须更改错误捕获，但毕竟整个事情都非常简单。

```
 function testfindRow(){ ;// this function only to test the other one by giving it a parameter and using its result.
            var ss = SpreadsheetApp.getActiveSpreadsheet();
            var otherSheet=ss.getSheets()[1];// assuming there is a second sheet to copy to
            var datatocopy=findRow('Hello');
            if (datatocopy.length>0){
            otherSheet.getRange(otherSheet.getLastRow()+1,1,datatocopy.length,datatocopy[0].length).setValues(datatocopy);
            }
     }
    //
    function findRow(item) { ;// the actual search function
            var ss = SpreadsheetApp.getActiveSpreadsheet();
            var sheet=ss.getSheets()[0];
            var resultArray=new Array();
            var values = sheet.getDataRange().getValues();
              for(cc =0; cc < values.length; ++cc) {
                if(values[cc].toString().match(item)==item){// here you can eventually use string modifiers like toLowerCase() to allow for wider search criteria
// or like this to search only in column D // if(values[cc][3].toString().match(item)==item){
                resultArray.push(values[cc]);
                            };
                 }
            Logger.log(resultArray);// the array of Rows in which the item was found, 
            return resultArray ;// the returned value is a 2 dimensions array to use with setValues()
     } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-19T08:21:59.527

电子表格功能解决方案将是：

```
=QUERY('All the data'!A:D;"select * where D contains 'hello'") 
```

注意：这将在“奥赛罗”中找到“你好”。

# android - 如何在 ODK Opendatakit 中从本地数据库填充数据

> ID：11095891
> 
> 赞同：0
> 
> 时间：2012-06-19T06:59:47.677
> 
> 标签：android, xml, xforms

我正在修改 ODK Opendatakit。ODK 使用 XFORMS 从数据中获取输入并使用数据创建 XML 实例。然后将该实例上传到服务器上。我想要实现的是根据数据捕获器的输入自动完成本地数据库中的一些数据。例如，如果输入了 ID，则从本地数据库验证该 ID，如果存在，则自动完成一些预定义字段。如果 ID 不存在，则它会给出一条消息以检查 ID。

我得到了使用小部件或其他应用程序的建议，该应用程序验证来自本地数据库的条目，然后将要完成的字段的值返回到 ODK XML 实例。我没有得到的是如何将值传递给 ODK 中的实例会话？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-24T02:55:11.207

我没有使用过 ODK，但我可以帮助解决一些 XForms 的问题。

XForms 数据传输与 RESTful XML Web 服务密切相关。根据您的描述，我猜交互模式看起来像这样：

*   为 ID创建一个`input`字段。将此（以及任何其他需要发送到服务器的数据）存储在`instance`XForm 的主程序中。
*   创建一个`action`, 绑定到该输入字段上的“xforms-value-changed”或“DOMFocusOut”事件（xforms-value-changed 将在每次更改时触发，而 DOMFocusOut 只会在用户实际离开该字段时触发 - 哪个您使用取决于您首选的用户体验/服务器端功能）。
*   在此内部，使用包含在输入字段中输入的 ID的 main`action`运行`submission`到服务器。`instance`
*   然后，服务器必须使用与表单架构匹配的 XML 文档响应此请求，并填写所有必需的值。
*   `submission`设置`replace`为main `instance`。

当然，这是一个非常高级的总结。

这里的代码示例：

[http://en.wikibooks.org/wiki/XForms/Suggesting_Items](http://en.wikibooks.org/wiki/XForms/Suggesting_Items)

不*完全*是您所追求的，但它具有许多相同的特征；在文本字段中输入文本，将该文本提交到 Web 服务，使用来自 Web 服务的响应来更新表单中的模型。

# python - 相邻元素之间的 Numpy 差异

> ID：11095892
> 
> 赞同：22
> 
> 时间：2012-06-19T06:59:48.827
> 
> 标签：python, numpy

我有计算纯python中相邻元素之间差异的算法：

```
 a = range(1000000) #it's numpy array in my case
    prev = a[0]
    b = [0, ]
    for i in a[1:]:
        b.append(i - prev)
        prev = i 
```

有没有办法用 Numpy 重写这个函数？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-06-19T07:01:57.583

有[`diff`](http://docs.scipy.org/doc/numpy/reference/generated/numpy.diff.html)方法：

```
a = range(5) # python list of numpy array
np.diff(a) 
```

返回

```
array([1, 1, 1, 1]) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-05-27T09:27:43.357

因为他说

> #在我的例子中是 numpy 数组，

您可能想使用它，`a[1:]-a[:-1]`因为它更快。

```
> %%timeit a=np.random.rand(10000)
> a[1:]-a[:-1]
6.94 µs ± 188 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)

> %%timeit a=np.random.rand(10000)
> np.diff(a)
15.7 µs ± 247 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each) 
```

# php - 使用 php pregmatch 查找诸如音符之类的符号

> ID：11095893
> 
> 赞同：0
> 
> 时间：2012-06-19T06:59:52.030
> 
> 标签：php, preg-match

我正在尝试编写一个能够在正文中找到像这样 ♫ 的音符的应用程序。我知道我需要在 PHP 中使用 pregmatch，但我不知道如何编写表达式。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:18:14.350

如果应用[`u`模式修饰符](http://php.net/manual/en/reference.pcre.pattern.modifiers.php)，则可以匹配 Unicode 范围。

```
$str = '♪ ♩ abc ♫ def ♫ ♬';
preg_match_all('~[\x{2669}-\x{266F}]~u', $str, $matches);
var_dump($matches); 
```

这匹配以下字符：

```
♩  ‎2669  QUARTER NOTE
♪  ‎266A  EIGHTH NOTE
♫  ‎266B  BEAMED EIGHTH NOTES
♬  ‎266C  BEAMED SIXTEENTH NOTES
♭  ‎266D  MUSIC FLAT SIGN
♮  ‎266E  MUSIC NATURAL SIGN
♯  ‎266F  MUSIC SHARP SIGN 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:04:18.377

正则表达式与查找其他字符串相同。

```
preg_match_all('/♫/', 'abc ♫ ddd', $matches);
var_dump($matches); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T07:13:54.113

一般来说，这是 preg_match 在 php 中的工作方式

```
 if ( preg_match("/Find this string/", "From this string") )     {
      echo "A match was found.";
 } else {
      echo "A match was not found.";
 } 
```

查找音符可能不是一项简单的任务，但如果您正在搜索的字符串仅包含数字和字母，您可能会尝试这样做来帮助您。

```
preg_match("/[^a-zA-Z0-9\s]/", $string_you_are_searching_from); 
```

我希望这有帮助。

# mysql - 逐行显示配置文件内容

> ID：11095894
> 
> 赞同：1
> 
> 时间：2012-06-19T07:00:01.373
> 
> 标签：mysql

我有 2 个表，一个是 field_id，另一个是 field_value。我想按行显示个人资料内容，名字，姓氏，年龄，爱好，关于我。

```
field_id
-------------------------------------------------
   id   |           name           |
--------|--------------------------|-----------------
1                   First name
2                   Last name
3                   Age
4                   Hobby
5                   About me
---------------------------------------------------------- 
```

field_value --here id pmkey auto increment and field_id 在 up table 中提到

```
------------------------------------------------------------------
id | user_id  | field_id |   field_value                       |
---|----------|----------|--------------------------------------|----
1  | 1        |     1    |John       
2  | 1        |     1    |smith
3  | 1        |     2    |Capili
4  | 1        |     3    |32
5  | 1        |     4    |Reading Book
6  | 1        |     4    |Swimming
7  | 1        |     4    |Boating
8  | 1        |     5    |I
9  | 1        |     5    |am
10 | 1        |     5    |very
11 | 1        |     5    |simple
11 | 1        |     5    |person
----------------------------------------------------------- 
```

我想像这样逐行显示个人资料的每个内容

```
name -:john smith capili
Age-:32
Hobby-:Reading Book,Swimming,Boating
About me-:I am very simple person. 
```

请帮我。并建议我应该使用或不使用这种类型的数据库。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T09:11:58.240

至少你能得到如下。

```
John smith
Capili
32
Boating Swimming Reading Book
I am very simple person 
```

要获得高于输出，请使用以下查询。

```
SELECT GROUP_CONCAT(field_value SEPARATOR ' ') as Profile FROM myTable
WHERE user_id = 1
GROUP BY field_id 
```

## [演示](http://sqlfiddle.com/#!2/ddab6/7)。

## ***但是***，我建议您更改数据库结构并使其如下所示。

表**personal_details**，具有以下字段。

```
+++++++++++++++++++++++
+ field     +  type   +
+++++++++++++++++++++++
+ personID  + INT     +
+ firstName + varchar +
+ middleName+ varchar +
+ lastName  + varchar +
+ age       + INT     +
+ aboutMe   + varchar +
+++++++++++++++++++++++ 
```

**hobbies_person**表

```
+++++++++++++++++++++++
+ field     +  type   +
+++++++++++++++++++++++
+ personID  + INT     +
+ hobbID    + INT     +
+++++++++++++++++++++++ 
```

**爱好**表

```
+++++++++++++++++++++++
+ field     +  type   +
+++++++++++++++++++++++
+ hobbID    + INT     +
+ hobbName  + varchar +
+++++++++++++++++++++++ 
```

我添加了新表作为**爱好**，因为如果我们没有**爱好**表，那么我们必须为每个人写下爱好名称（额外的字段也增加大小）。在**hobbies_person 中**，我们已经定义了 hobbies 并编写了新的 hobby，然后它将首先添加到**hobbies**表中，然后添加到**hobbies_person**表中。

## 有关更多详细信息，请参阅[新数据库结构](http://sqlfiddle.com/#!2/78553/3)。

# c# - 以 C# 最佳方式更新 MS Access db

> ID：11095896
> 
> 赞同：0
> 
> 时间：2012-06-19T07:00:17.007
> 
> 标签：c#, sql, database, performance, ms-access

我的更新代码：

```
 for (int i = this.MedaxilGridView1.CurrentCell.RowIndex; i < this.MedaxilGridView1.RowCount; i++)
 {
     // KartsifarishiGridView-dən id götürüb ona uyğun sorğumuzu yazırıq.
     sqlSorgu = "UPDATE customer set medaxil_status = '0' WHERE id = " + 
                 this.MedaxilGridView1.Rows[i].Cells["id"].Value;
     //Sorğunu icra edirk.
     Program.esas.sqlSorguCommand.CommandText = sqlSorgu;
     Program.esas.sqlSorguCommand.Connection = Program.esas.bazayaQosul;
     Program.esas.sqlSorguCommand.ExecuteNonQuery();
     MedaxilGridView1.Rows[i].DefaultCellStyle.BackColor = Color.Empty;

 } 
```

行数：18286

这个版本需要5分钟

我怎样才能让它更快？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:10:50.110

您应该考虑使用哪个查询来提取 id 并将其直接用于更新，因此您调用数据库一次：

```
"UPDATE customer set medaxil_status = '0' WHERE id in (select xxx xxx xxx)" 
```

如果要更新**所有行**，只需**删除 where 子句**并只调用该语句**一次**。如果您只有一个 id 列表，那么使用 alwais IN 子句对调用进行分块可能会减少查询数量，并有望减少整体执行时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:07:38.070

您可以使用`BeginExecuteNonQuery`它，通过打开一个连接并批量执行所有查询，这将为您节省连接启动开销。

可以在[此处找到来自 MSDN 的完整示例](http://msdn.microsoft.com/en-us/library/7b6f9k7k.aspx)

此外，我建议您开始使用[SQL 参数](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.parameters.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T07:28:54.193

您是否尝试将循环包含在 Transaction 中？这加快了 MS Access 更新操作。

[在此处](https://stackoverflow.com/questions/2078432/do-we-have-transactions-in-ms-access)查看此示例，该示例展示了如何在 C# 中使用 MS Access Transaction

# asset-pipeline - Rails 中的资产/图像没有路线匹配

> ID：11095897
> 
> 赞同：8
> 
> 时间：2012-06-19T07:00:26.440
> 
> 标签：asset-pipeline

在轨道上工作，图像不可见并给出错误。

```
Started GET "/assets/home.png" for 127.0.0.1 at 2012-06-19 12:23:24 +0530
Served asset /home.png - 404 Not Found (24ms)
ActionController::RoutingError (No route matches [GET] "/assets/home.png"): 
```

我用过命令

```
rake assets:precompile 
```

生产.rb

```
config.assets.compress = true
config.assets.compile = false 
```

应用程序.rb

```
config.assets.enabled = true
config.assets.version = '1.0' 
```

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-20T21:47:56.630

实际上你不能用`/assets/home.png`路径引用你的图像。它将在开发模式下工作，但在生产中，您的所有资产的文件名中都有指纹（阅读此[http://guides.rubyonrails.org/asset_pipeline.html#what-is-fingerprinting-and-why-should-i -关心问号](http://guides.rubyonrails.org/asset_pipeline.html#what-is-fingerprinting-and-why-should-i-care-questionmark)）

这就是为什么在启用资产管道的应用程序中，您需要使用辅助方法引用所有资产。阅读此文档以了解 Ruby、JS 和 Sass 文件中可用的不同帮助程序：http: [//guides.rubyonrails.org/asset_pipeline.html#coding-links-to-assets](http://guides.rubyonrails.org/asset_pipeline.html#coding-links-to-assets)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-19T19:12:33.590

文件请求中缺少指纹表明您正在开发中运行它。我也猜测这是一个从旧版本的 Rails 升级而来的应用程序。

任何图像都需要位于 /assets/images 文件夹中才能使管道正常工作。

此外，在开发模式下不需要预编译。

删除 public/assets 文件夹，删除文件夹 tmp/cache/assets，然后重新启动服务器。

如果此图像位于正确的位置，它应该可以工作。

# ruby-on-rails - 显示工作轨道的年表

> ID：11095909
> 
> 赞同：0
> 
> 时间：2012-06-19T07:00:41.000
> 
> 标签：ruby-on-rails, ruby-on-rails-3.1

我正在尝试在我的“工作”中添加一些年表，这样当有人发布工作时，它会在创建日期下方便地列出，然后其他帖子会根据新近度高于它。可以在[Dribble Jobs](http://dribbble.com/jobs)上看到一个例子。

我不太确定如何最好地解决这个问题，因为这是我以前没有做过的事情，任何关于如何实现它的建议将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:19:22.893

您可以使用[Rails 时间戳](http://api.rubyonrails.org/classes/ActiveRecord/Timestamp.html)，这将使这非常非常容易。只需使用`created_at`作业的时间戳，然后按那个（或者可能是`id`字段）排序。

# xml - 如何使用 xsl 文件将 xml 数据存储在 sql server 数据库中

> ID：11095911
> 
> 赞同：0
> 
> 时间：2012-06-19T07:00:45.727
> 
> 标签：xml, sql-server-2008, xslt

我使用嵌入式 jquery api 从 web 获取 xml 信息 jquery 将此 xml 转换为 xsl 文件以在页面上显示数据。

我想将这些数据保存在我的数据库 sql server 2008 中。

我的 .xsl 文件是

```
<?xml version="1.0" encoding="utf-8"?>
<!--
Compatibility List:
- EmbeddedReprUrl-1.0.0.js-->

<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="xml" indent="yes"/>
  <xsl:template match="/PageRepresentation">

    <![CDATA[<div class="embeddedUrlRepresentation" >]]>
    <![CDATA[<br/>]]>
    <![CDATA[<table border="1" style="border:1px solid Black; color:blue">]]>
    <![CDATA[<tr>]]>
    <![CDATA[<td> Video Url </td>]]>
    <![CDATA[<td>]]>
    <![CDATA[<a href="]]><xsl:value-of select="Url"/><![CDATA[" target="_blank">]]><xsl:value-of select="Url"/><![CDATA[</a></td>]]>
    <![CDATA[</tr>]]>
    <![CDATA[<tr>]]>
    <![CDATA[<td> Thumb Image Path </td>]]>
    <![CDATA[<td>]]><xsl:value-of select="Pictures/PagePicture[1]/Url"/><![CDATA[</td>]]>
    <![CDATA[</tr>]]>
    <![CDATA[<tr>]]>
    <![CDATA[<td> Video play url </td>]]>
    <![CDATA[<td>]]><xsl:value-of select="Videos/PageVideo[1]/VideoSources/PageVideoSources[1]/Url"/><![CDATA[</td>]]>
    <![CDATA[</tr>]]>
    <![CDATA[<tr>]]>
    <![CDATA[<td> Video Title </td>]]>
    <![CDATA[<td>]]><![CDATA[<a href="]]><xsl:value-of select="Url"/><![CDATA[" title="]]><xsl:value-of select="Title"/><![CDATA[" target="_blank">]]><xsl:choose>
    <xsl:when test="Title!='' and Title!='null'">
      <xsl:value-of select="Title"/>
    </xsl:when>
    <xsl:otherwise>
      <xsl:value-of select="Url"/>
    </xsl:otherwise>
  </xsl:choose><![CDATA[</a>
          </div>]]><![CDATA[</td>]]>
    <![CDATA[</tr>]]>
    <![CDATA[<tr>]]>
    <![CDATA[<td> Video Author Name </td>]]>
    <![CDATA[<td>]]><xsl:if test="AuthorName!='' and AuthorName!='null'">
      <xsl:value-of select="AuthorName"/>
    </xsl:if><![CDATA[</td>]]>
    <![CDATA[</tr>]]>
    <![CDATA[<tr>]]>
    <![CDATA[<td> Details </td>]]>
    <![CDATA[<td>]]><xsl:if test="Description!='' and Description!='null'"><xsl:value-of select="Description"/><![CDATA[</td>]]>
    </xsl:if>
    <![CDATA[</tr>]]>
    <![CDATA[</table>]]>
    <![CDATA[</div>]]>
  </xsl:template>
</xsl:stylesheet> 
```

这是在我想将此信息保存在数据库中的页面上显示 xml 信息。我的查询是如何将 xsl 文件连接到 sql 数据库以及如何在 xsl 文件中应用 sql 插入查询。如何将数据从 xsl 插入 sql server 数据库。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:23:31.520

您可以将 some.xml 文件推送到数据库中:)

您将需要某种可以建立连接的后端。常见的方法是使用[PHP](http://php.net/) 和函数，例如：

```
<?php
$serverName = "serverName";
$connectionInfo = array( "Database"=>"dbName", "UID"=>"userName", "PWD"=>"password");
$conn = sqlsrv_connect( $serverName, $connectionInfo);

//Errors and validatons are skipped to keep the example simple.

$sql = "INSERT INTO my_table  SET content = " . $xmlContent . ";
$stmt = sqlsrv_prepare( $conn, $sql);
sqlsrv_execute( $stmt ) 
```

?>

请注意，使用 SQL-SERVER 所需的配置安装 PHP 并不容易！

这是一种方法..但你将不得不阅读更多:)

# html - YontooInstallID、Y2PluginIds 网页上的疑似错误 div

> ID：11095917
> 
> 赞同：1
> 
> 时间：2012-06-19T07:01:20.907
> 
> 标签：html, web, trojan, intrusion-detection

我发现，`Inspect Element`在 chrome 或`firebug`mozilla 上，我发现了这些奇怪的不可见 div..

我们如何才能删除它..或者是某种入侵......

下面是代码

```
<div id="YontooInstallID" style="display: none; ">7811f3e7-3895-42ae-901d-1fd7f3092229</div>
<div id="Y2PluginIds" style="display: none; ">Y2:7811f3e7-3895-42ae-901d-1fd7f3092229</div>
<div id="YontooLocationStore2" style="display: none; ">http://stackoverflow.com/questions/ask</div>
<div id="dropdowndeals" class="yontoolayerwidget" style="text-align: left; vertical-align: top; position: fixed; width: 155px; height: 1px; line-height: 0px; z-index: 2147483647; left: 1183px; top: 0px; "><div id="dddContainer" style="position:relative;width:155px; height: 100%">               <object type="application/x-shockwave-flash" style="outline: none; visibility: visible; " data="http://s.nsdsvc.com/App/DddWrapper.swf?c=4" width="100%" height="100%" id="dddContent"><param name="menu" value="false"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"><param name="flashvars" value="domain=stackoverflow.com&amp;protocol=http:&amp;clientId=7811f3e7-3895-42ae-901d-1fd7f3092229"></object>            </div></div>

<div id="TopRelatedTopics" class="yontoolayerwidget" style="text-align: left; vertical-align: top; width: 0px; height: 0px; position: absolute; left: 0px; top: 0px; "></div>
<div id="TBTMySuperCheap" class="yontoolayerwidget" style="text-align: left; vertical-align: top; width: 1px; height: 1px; position: absolute; left: 0px; top: 0px; "><div id="swfCom"></div></div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T10:57:28.297

从 Windows 控制面板卸载此应用程序。

并选择第二个选项`Click this option to completely remove yontoo`

![在此处输入图像描述](../Images/18c2fbd1262d10b222de4ecebd0ae149.png)

# c - 在 C 程序中处理大数据

> ID：11095920
> 
> 赞同：0
> 
> 时间：2012-06-19T07:01:55.533
> 
> 标签：c, memory-management, memory-pool

我正在开发一个在数据库上运行查询的项目，结果大于内存大小。我听说过内存池库，但我不确定它是否是解决此问题的最佳方法。
内存池库是否支持从磁盘写入和读取（作为需要多次解析的查询的结果）。还有其他一些方法可以实现这一目标吗？

PS
我正在使用 MySQL 数据库及其 C API 来访问数据库。

**编辑**：这是一个例子：
假设我有五个表，每个表都有一百万行。我想找出一张表与另一张表的相似程度，因此我为每个表创建了一个布隆过滤器，然后根据其余四个表中的数据检查每个过滤器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:17:36.457

You should restructure your program to not use so much memory. Instead of pulling the "whole" (or large part) of the DB into memory you should use a cursor and **incrementally** update the datastructure your program is maintaining or incrementally change the metric you are querying.

EDIT: you added that you might want to run a bloom filter on the tables? Have a look at incremental bloom filters: [here](http://webee.technion.ac.il/people/or/publications/Infocom12_VICBF.pdf)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T07:04:02.457

通过使用辅助存储（例如磁盘）将逻辑内存扩展到物理内存之外通常称为**交换**，而不是内存池。您的操作系统已经为您完成了这项工作，您应该先尝试让它完成它的工作。

内存池库通过使用固定大小分配为内存分配提供更快的速度和实时可预测性，但不会增加您的实际内存。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T07:09:34.867

[物理地址扩展（PAE）](http://en.wikipedia.org/wiki/Physical_Address_Extension)怎么样

# jquery - Coldfusion自动建议干扰我的jquery“更改”处理程序？

> ID：11095924
> 
> 赞同：0
> 
> 时间：2012-06-19T07:02:08.653
> 
> 标签：jquery, events, coldfusion, autosuggest

我正在为我的 UserID 字段使用 ColdFusion 自动建议。当用户开始输入用户 ID 时，会弹出一个用户 ID 列表（由 cfc 函数填充）。示例代码：

```
<cfinput name="userID" type="text" value="#userID#" autoSuggest="cfc:Utilities.suggestUser({cfautosuggestvalue})" matchcontains="true" /> 
```

当我选择自动建议中的一个值时，我想触发一个处理程序，以便我可以在其他地方使用选定的值。jQuery代码：

```
$('#userID').change(function(){
    var userID = $(this).val();
    $('#otherUserIDField').html(userID);
}); 
```

问题是，当我单击自动建议列表中的某个项目时，在将所选条目注入表单字段之前会触发更改事件。例如，如果我正在寻找用户“123456”并开始输入“123”，然后在自动建议列表中看到它，我在自动建议列表中单击“123456”并触发更改事件，而表单字段仍然只有“123”。我尝试添加延迟 ( `$('#otherUserIDField').delay(1000).html(userID);`)，但没有帮助。还有其他我可以使用的事件吗？有没有办法解决？

如何仅在选择自动建议后执行代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T08:02:59.443

我最终使用了该`setTimeout`方法。正如@Esailija 在评论中提到的那样，该`delay`函数实际上并没有延迟 html 调用。我不能在新代码中使用“this”，因为延迟会导致焦点不再位于文本框上。

```
$('#userID').change(function(){
    setTimeout(function(){
            $('#otherUserIDField').html($('#userID').val());
        }, 1000);
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-21T01:14:48.627

就个人而言，我会单独使用 jQuery 而不是内置的 ColdFusion ajax。这是一个很好的例子，带有一个工作演示：http: [//jacktraynor.blogspot.com.au/2012/02/jquery-autocomplete-using-coldfusion.html](http://jacktraynor.blogspot.com.au/2012/02/jquery-autocomplete-using-coldfusion.html)

# c# - 从网页调用 DELETE restful 方法的最佳实践是什么？

> ID：11095925
> 
> 赞同：1
> 
> 时间：2012-06-19T07:02:18.823
> 
> 标签：c#, restful-architecture, nancy

我正在构建一个小型 Nancy webapp，它将在表上执行 CRUD 操作。它使用 GET、POST 和 DELETE 动词。我想在网页中有一个链接来调用删除方法。默认情况下，使用“锚”标签将使用 GET 方法。我不喜欢将 web 服务更改为使用 GET 动词来执行删除操作，因为它会破坏 RESTful 概念。在这种情况下，最佳做法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T07:11:11.793

您不应该将 GET 动词用于描述性/状态更改操作，因此使用 DELETE 或 POST 是可行的方法（在您的情况下，DELETE 在语义上是正确的）。

使用 javascript，您可以挂钩锚点单击事件并使用 DELETE 动词触发请求。

一个带有 Jquery [ajax 方法](http://api.jquery.com/jQuery.ajax/#options)的小样本：

```
<a href='/deleteAction/myId' class='deleteLink'>Delete me</a>

$('.deleteLink').click(function(e){
   e.preventDefault();
   $.ajax({
     url: $(this).attr('href'),
     type: 'DELETE',
     success: function(result) {        
  }});
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T07:06:05.477

你不应该使用`GET`动词 for `DELETE`，`GET`被认为是一种安全的操作并且不应该改变你的应用程序的状态。

你应该使用`DELETE`也可以使用`POST`（因为有些防火墙不允许`DELETE`）。

# c - (ORIG_EAX*4) 在 ptrace 调用中

> ID：11095927
> 
> 赞同：11
> 
> 时间：2012-06-19T07:02:30.797
> 
> 标签：c, linux, ptrace, systems-programming

我在[这里](http://www.linuxjournal.com/article/6100)浏览了一篇文章，并尝试了我在下面复制的代码片段：-

```
#include <sys/ptrace.h>
#include <sys/types.h>
#include <sys/wait.h>
#include <unistd.h>
#include <linux/user.h>   /* For constants
                                   ORIG_EAX etc */
int main()
{   pid_t child;
    long orig_eax;
    child = fork();
    if(child == 0) {
        ptrace(PTRACE_TRACEME, 0, NULL, NULL);
        execl("/bin/ls", "ls", NULL);
    }
    else {
        wait(NULL);
        orig_eax = ptrace(PTRACE_PEEKUSER,
                          child, 4 * ORIG_EAX,
                          NULL);
        printf("The child made a "
               "system call %ld\n", orig_eax);
        ptrace(PTRACE_CONT, child, NULL, NULL);
    }
    return 0;
} 
```

我对传递给 ptrace 调用`ORIG_EAX`的确切内容和原因有疑问。`4*ORIG_EAX`我最初假设`ORIG_EAX`,`EBX`等`ECX`将是存储寄存器值的特定结构的偏移量。

所以我决定在等待之后通过使用打印 ORIG_EAX 的值`printf("origeax = %ld\n", ORIG_EAX);`。值为`11`。所以，我之前关于偏移量的假设是错误的。

我知道`wait`当孩子发生状态变化（在这种情况下，发出系统调用）时调用被终止，并且 ORIG_EAX 将包含系统调用号。

但是，为什么将 ORIG_EAX * 4 传递给 ptrace 调用？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-19T13:02:34.560

该参数是[user_regs_struct](http://lxr.free-electrons.com/source/arch/x86/include/asm/user_32.h#L77)的偏移量。请注意，其中每一个都是`unsigned long`，因此要获得第 11 个条目 ( `orig_eax`)，字节偏移量为 44，（当然，前提是您在 x86 机器上）。

# c++ - 为什么我的三元组对象被破坏了？

> ID：11095928
> 
> 赞同：0
> 
> 时间：2012-06-19T07:02:31.390
> 
> 标签：c++, oop, queue

你好我有这个代码

```
class Triplets
{
public:
int nVal1;
int nVal2;
NodeT *ptrNode;
bool bUpdate;

Triplets()
{
    cout << "creating empty triplet" << endl;
    nVal2 = 0;
    nVal1 = 0;
    bUpdate = false;
    ptrNode = NULL;
}

~Triplets()
{
    cout << "destroying triplet" << endl;
    delete ptrNode;
}

Triplets(int nVal1, int nVal2, bool bUpdate, NodeT *ptrNode)
{
    cout << "creating triple with values" << endl;
    this->nVal2 = nVal2;
    this->nVal1 = nVal1;
    this->bUpdate = bUpdate;
    this->ptrNode = ptrNode;
}
 }; 
```

这种用法

```
void find_triplets(NodeT *ptrRoot)
{

   if (ptrRoot != NULL)
    {
    find_triplets(ptrRoot->left);
    find_triplets(ptrRoot->right);

    cout << "find triplets and save them to the queue" << endl;
        cout << " we hit a hot spot is null the root, nothing to see here move along boys" << endl;

     if(ptrRoot->left != NULL && ptrRoot->right != NULL)
        {

        if (ptrRoot->left->done == true && ptrRoot->right->done == true)
        {
        cout << "we got one of 2 sons true so do something, this are the sons "<< ptrRoot->left->key_value << " " << ptrRoot->right->key_value << endl;         

        cout << "sum them and put it in the father and set it to true " << endl;
        ptrRoot->key_value = ptrRoot->left->key_value + ptrRoot->right->key_value;
        ptrRoot->done = true;

        cout << "thread queue " << endl;
        Triplets triplet(ptrRoot->left->key_value, ptrRoot->right->key_value, ptrRoot->done, ptrRoot);
        qThreads.push(triplet);
       }
     }
     }
    } 
```

而这个主要

```
MyThread mt;
mt.start();
mt.run();
cout << "sum = " << mt.sum(&bt) << endl;
THREADS_HOW_MANY = boost::thread::hardware_concurrency();
std::cout << THREADS_HOW_MANY << std::endl;

while (!bt.Values_to_do.empty())
{
    cout << "da vals to sum are these " << bt.Values_to_do.front() << " and aready done " << bt.values_done.front() << endl;
    bt.Values_to_do.pop();
    bt.values_done.pop();
}

  while(!mt.qThreads.empty())
{
cout << "da triplet are " << mt.qThreads.front().nVal1 << " " <<mt.qThreads.front().nVal2 << " "
        << mt.qThreads.front().ptrNode << " " << mt.qThreads.front().bUpdate
        << endl;
mt.qThreads.pop();

} 
```

所有这一切都给了我这个结果（显然是错误的）

```
 done lets chek
  find triplets
  find triplets and save them to the queue
   we hit a hot spot is null the root, nothing to see here move along boys
   find triplets and save them to the queue
    we hit a hot spot is null the root, nothing to see here move along boys
 find triplets and save them to the queue
 we hit a hot spot is null the root, nothing to see here move along boys
 we got one of 2 sons true so do something, this are the sons 2 8
 sum them and put it in the father and set it to true 
 thread queue 
 creating triple with values
 destroying triplet
 find triplets and save them to the queue
 we hit a hot spot is null the root, nothing to see here move along boys
 find triplets and save them to the queue
 we hit a hot spot is null the root, nothing to see here move along boys
find triplets and save them to the queue
we hit a hot spot is null the root, nothing to see here move along boys
 we got one of 2 sons true so do something, this are the sons 11 15
 sum them and put it in the father and set it to true 
thread queue 
creating triple with values
destroying triplet
find triplets and save them to the queue
 we hit a hot spot is null the root, nothing to see here move along boys
 we got one of 2 sons true so do something, this are the sons 19976608 19976464
 sum them and put it in 
 the father and set it to true 
 thread queue 
 creating triple with values
 destroying triplet
 the gran total is 19976320 
```

现在我的 q 是为什么我的三元组对象没有被添加到队列中而是被销毁，这就是导致总和全部搞砸的原因。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:05:32.167

Tl; dr - 弹出的是你有一个管理内存的析构函数：

```
~Triplets()
{
    cout << "destroying triplet" << endl;
    delete ptrNode;
} 
```

但没有复制构造函数和赋值运算符。尝试实施这些。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:15:15.843

您似乎创建了`Triplets`该类的副本：

```
Triplets triplet(ptrRoot->left->key_value, ptrRoot->right->key_value, ptrRoot->done, ptrRoot);
qThreads.push(triplet); 
```

根据 的声明`qThreads`，您首先创建一个`Triplets`named的实例`triplet`，然后在将其推`qThreads`入时复制它。然后当范围离开时（在下一个`}`），`triplet`实例被销毁。这当然意味着您`delete`在其中的指针和副本所具有的指针现在将无效。

# sql - 两个左外连接不起作用Oracle sql

> ID：11095930
> 
> 赞同：0
> 
> 时间：2012-06-19T07:02:49.783
> 
> 标签：sql, oracle

查询中有四个表
Table a contains **a_id** , a_name
Table a_tl contains **a_tl_id** , a_id , language_id , a_disp_name
Table b contains **b_id** , a_id , b_name
Table b_tl contains **b_tl_id** , b_id , language_id , b_disp_name

我想在 a 和 a_tl 上做一个左外连接，在 b 和 b_tl 上做一个左外连接，
在结果表上做一个内连接。我写了以下查询

```
SELECT    case  a.a_disp_name
                WHEN   null  THEN  a.a_name
                else         a.a_disp_name
          end   AS           a_name             ,
          case  b.b_disp_name
                WHEN   null  THEN  b.b_name
                else         b.b_disp_name
          end   AS           b_name             ,
          a_id                                  ,
          b_id                                  
FROM      a                                     ,
          a_tl                                  ,
          b                                     ,
          b_tl                 
WHERE     a.a_id = a_tl.a_id (+)
AND       b.b_id = b_tl.b_id (+)
AND       a_tl.language_id = 2    
AND       b_tl.language_id = 2     
AND       a.a_id= b.b_id 
```

此查询正在工作 language_id 存在于数据库中，如果对于特定值不存在，它将不起作用，即左外连接不起作用

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-19T07:23:50.927

看起来问题是，您没有`(+)`用于`language_id`支票。
您的表是外连接的，当没有找到记录时也是如此，但是您检查了`language_id`，但是？是。`NULL``language_id = 2``language_id``NULL`

我也看不到您在哪里使用`a_tl`or的结果`b_tl`，猜想这只是您的帖子的问题，而不是您的原始查询？

* * *

但是，请使用显式连接而不是旧语法。一旦你习惯了它，它就会更容易阅读和理解。
您的查询也可以从使用[`COALESCE`](http://docs.oracle.com/cd/B28359_01/server.111/b28286/functions023.htm)（或`NVL`如果您喜欢）中受益：

```
SELECT COALESCE( a_tl.a_disp_name, a.a_name ) AS a_name,
       COALESCE( b_tl.b_disp_name, b.b_name ) AS b_name,
       a.a_id,
       b.b_id
FROM a
JOIN b ON ( b.b_id = a.a_id )
LEFT JOIN a_tl ON ( a_tl.a_id = a.a_id AND a_tl.language_id = 2 )
LEFT JOIN b_tl ON ( b_tl.b_id = b.b_id AND b_tl.language_id = 2 ) 
```

希望我的问题是正确的，请问它是否不起作用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T07:26:59.893

如果你想`a_tl.language_id = 2`强制内部连接（a_tl.language_id 永远不会为空）。

如果您只想将 a_tl 中的行与 a_tl.language_id = 2 进行左连接，则如下所示：

```
FROM      a 
          join b on (a.a_id= b.b_id)
          left join a_tl on ( a.a_id = a_tl.a_id and a_tl.language_id = 2)
          left join b_tl on ( b.b_id = b_tl.b_id and b_tl.language_id = 2 ) 
```

# macos - NSView 自由角度旋转

> ID：11095931
> 
> 赞同：2
> 
> 时间：2012-06-19T07:02:54.913
> 
> 标签：macos, rotation, nsview

我有`NSView`容器（带有 NSImageView 和其他一些自定义子视图）。如何正确设置其旋转？我试图`setFrameRotation:`在视图层中设置角度并设置旋转矩阵。但在这些情况下，子视图图像会缩小和裁剪。

更新：

如果我通过以下方式设置旋转`[myView setFrameRotation: angle]`：

![在此处输入图像描述](../Images/57eac2667e7e515536944bda87bdb9c2.png)

*   几乎没问题，除了文本框（通过`[NSString drawAtPoint:...]`和旋转锚点在左下角绘图（我想要在底部中心，`[myView setFrameOrigin:...]`什么都不做）

如果我通过以下方式设置旋转`myView.layer.transform = CATransform3DMakeRotation (angle, 0, 0, 1)`：

![在此处输入图像描述](../Images/ea100ebc2732aae47df6e6a6b5ea8ead.png)

*   框架边界保持不旋转并剪辑子视图（但这种方法更适合视图容器）

# api - 使用受让人信息获取项目中的体式任务

> ID：11095933
> 
> 赞同：3
> 
> 时间：2012-06-19T07:03:02.553
> 
> 标签：api, asana

我正在尝试在项目中检索体式任务。我想在同一个查询中检索受让人信息。我尝试了这个查询并获得了受理人 ID：

```
curl -u <key>: "https://app.asana.com/api/1.0/projects/<project-id>/tasks?opt_fields=name,created_at,assignee 
```

我想获得受让人姓名。所以我包括“opt_expand=assignee”：

```
curl -u <key>: "https://app.asana.com/api/1.0/projects/<project-id>/tasks?opt_fields=name,created_at,assignee&opt_expand=assignee 
```

我仍然没有得到受让人的名字。这样做的方法是什么？

谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-19T17:14:19.710

（我在 Asana 工作）

`opt_fields`和之间的相互作用`opt_expand`实际上有点复杂，我们应该在文档中阐明。后者最终被前者取代 - 而不是与前者相加。

实现您想要的最佳方法是不使用`opt_expand`并添加`assignee.name`到`opt_fields`.

# sql - sql数据库表创建

> ID：11095937
> 
> 赞同：1
> 
> 时间：2012-06-19T07:03:24.777
> 
> 标签：sql, database, database-design

我在考虑如何构建我的简单数据库时遇到了麻烦，自从我完成任何回到 uni 的 sql dev 以来已经有大约 3 年了，所以我有大脑褪色的习惯。

我有两张桌子

*   商业
*   顾客

一个客户可以属于许多企业，一个企业可以有很多客户..到目前为止，我已经创建了这个作为数据库..

`Business`桌子看起来像这样

```
- id
- name
- address 
```

`Customer`桌子：

```
- id
- name 
```

我的问题是如何将这两者联系在一起，如何跟踪哪些客户与哪些企业合作，所以如果客户加入企业，我是否需要一个类似于企业 ID 和客户 ID 的新表？我有点迷茫，希望你们能得到我的要求。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T07:05:41.047

如果您只想链接两个表。这个问题的链接适合你：[链接两个数据库表](https://stackoverflow.com/questions/11026755/link-two-database-tables/11026806#11026806)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-20T06:48:06.793

我会使用派对模型，使用关系表。这使您可以拥有个人或组织客户（或企业）以及他们之间的多种关系：

```
PARTY
id
type: {individual, organization}
name

RELATIONSHIP
fromParty references PARTY
relationshipType: {customerOf, organizationalContactOf, leadOf, staffOf, vendorOf}
toParty references PARTY 
```

# web-services - 如何制作只能在我的例如 android 应用程序中使用的 web 服务 (WSDL)？

> ID：11095940
> 
> 赞同：0
> 
> 时间：2012-06-19T07:03:30.330
> 
> 标签：web-services, wsdl

我有一个关于 .net WSDL 网络服务的问题。

我想制作一个访问 web 服务的 android 应用程序，但我不想制作公共 web 服务。Web 服务应该只能由应用程序访问，因此知道该 URL 的其他用户不能访问它。

有什么方法可以做到这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:08:58.033

我认为没有 100% 安全的方法可以做到这一点。我可以建议为每个请求生成和发送一个密钥。通常只有应用程序代码能够生成 Web 服务可以识别的有效密钥。您还可以在此基础上使用 HTTPS 来增加针对嗅探器的隐私。

# jquery - Ajax 检索 json 数据

> ID：11095941
> 
> 赞同：0
> 
> 时间：2012-06-19T07:03:33.117
> 
> 标签：jquery, ajax, json, jsonp

我正在尝试使用 jquery ajax 检索 json 数据。

```
alert(data.EntryList.Entry.FirstName) //This returns undefined 
```

我正在尝试获取名字、姓氏等的值。

这是代码的样子

```
$.ajax({
        url: "",
        context: document.body,
        type: "GET",
        dataType: "jsonp",
        success: function(data) {

            console.log(data);

            alert(data.EntryList.Entry.FirstName)

        }

}); //Ajax End​ 
```

下面的控制台日志截图

![在此处输入图像描述](../Images/50d2f6cb0aac1c1bb78291da8f7e4a9d.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-19T07:06:10.927

尝试`alert(data.EntryList.Entry[0].FirstName)` 为 EntryList.Entry 是一个数组

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-19T07:08:28.610

`data.EntryList.Entry`是一个数组。

```
var entries = data.EntryList.Entry;
for (var i = 0, l = entries.length; i < l; i++) {
  console.log(entries[i].FirstName.value);
  console.log(entries[i].LastName.value);
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-19T07:56:56.573

除了其他人所说的之外，您还可以使用JQuery 提供`$.map()` 的 `$.each()`函数来迭代数组。

```
var entries = data.EntryList.Entry;
$.each(entries, function(index,entry) {
  console.log(entry.FirstName);
}); 
```

或者

```
var entries = data.EntryList.Entry;
$.map(entries, function(entry,index) {
  console.log(entry.FirstName);
}); 
```

而且也是`data.EntryList[i].Entry.FirstName`一个`object`。所以`alert`可能没有做你打算做的事情。你应该警惕`data.EntryList[i].Entry.FirstName.value`

# perl - Perl：如何让 Emacs 为 Perl 脚本的完整路径添加引号？

> ID：11095943
> 
> 赞同：6
> 
> 时间：2012-06-19T07:03:35.293
> 
> 标签：perl, emacs

很简单的问题。在 Windows 7 64 上的 Emacs 23.4.1 中使用 CPerl 模式，当我`C-c c`用来运行脚本时，Emacs 不会将路径括在引号中，因此任何带有空格的目录都会导致 Perl 无法找到该文件。 `"C:/Perl64/bin\perl.exe -w g:/foo/bar/first second/myscript.pl"` 生成此错误消息： `"Can't open perl script "g:/foo/bar/first": No such file or directory"`

问题：如何让 Emacs 在将文件名传递给 Perl 时使用引号？

编辑：出于某种原因，我无法发表评论（可能是浏览器问题），所以我正在编辑原始帖子以回应@legoscia 的评论：“Cc c 运行命令模式编译”。在 Perl 菜单中，它被标记为“运行”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-23T14:50:24.937

我只有 mode-compile.el v2.29 可用，但在那个版本中，问题与您描述的完全一样，编译命令的参数没有正确转义，并且没有启用它的选项。

这有点 hack，但您应该能够重新定义相关函数，并在文件中正确转义文件名`.emacs`：

```
(eval-after-load 'mode-compile
  '(progn
    (defun mc--shell-compile (shell dbgflags &optional errors-regexp-alist)
      ;; Run SHELL with debug flags DBGFLAGS on current-buffer
      (let* ((shcmd   (or (mc--which shell)
                          (error "Compilation abort: command %s not found" shell)))
             (shfile  (or mc--remote-pathname (buffer-file-name)
                          (error "Compilation abort: Buffer %s has no filename"
                                 (buffer-name))))
             (run-cmd (concat shcmd " " dbgflags " " (shell-quote-argument shfile) " "
                              (setq mc--shell-args
                                    (read-string (if mode-compile-expert-p
                                                     "Argv: "
                                                   (format "Arguments to %s %s script: "
                                                           shfile shell))
                                                 mc--shell-args)))))
        ;; Modify compilation-error-regexp-alist if needed
        (if errors-regexp-alist
            (progn
              ;; Set compilation-error-regexp-alist from compile
              (or (listp errors-regexp-alist)
                  (error "Compilation abort: In mc--shell-compile errors-regexp-alist not a list."))
              ;; Add new regexp alist to compilation-error-regexp-alist
              (mapcar '(lambda(x)
                         (if (mc--member x compilation-error-regexp-alist) nil
                           (setq compilation-error-regexp-alist
                                 (append (list x)
                                         compilation-error-regexp-alist))))
                      errors-regexp-alist)))
        ;; Run compile with run-cmd
        (mc--compile run-cmd))))) 
```

我改变的线路正在改变

```
(run-cmd (concat shcmd " " dbgflags " " shfile " " 
```

至

```
(run-cmd (concat shcmd " " dbgflags " " (shell-quote-argument shfile) " " 
```

一个更完整的解决方法是同时转义`dbgflags`（无论它们在哪里设置，只是转义整个变量都是不对的）以及`mc--shell-args`它们也被设置的时候。

# hadoop - Map-Reduce 组合器不起作用

> ID：11095947
> 
> 赞同：1
> 
> 时间：2012-06-19T07:04:00.483
> 
> 标签：hadoop, mapreduce, combiners

我曾尝试使用此脚本： [http](http://www.cs.bgu.ac.il/~dsp112/Map-Reduce_Template) ://www.cs.bgu.ac.il/~dsp112/Map-Reduce_Template 但组合器在（第 69 行）失败。

合并输出记录 11,746,934 ... 合并输入记录 11,746,934

我已经分析了文本平面文件，但我该如何调试呢？

# java - 如何使用base64加解密？

> ID：11095959
> 
> 赞同：-4
> 
> 时间：2012-06-19T07:05:09.960
> 
> 标签：java

我正在尝试在 java 中将字节数组转换为 base64 格式。
我的问题是 sun.misc.BASE64Decoder 不能使用？有没有其他选择？

```
byte[] buf = new byte[] { 0x12, 0x23 };
String s = new sun.misc.BASE64Encoder().encode(buf); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:18:56.140

1.  Base64 不是一种加密技术。它只是一种编码机制。如果你正在寻找 enryption，你就找错了树。

2.  `import sun.misc.BASE64Decoder`不是“头文件”，而是导入语句。如果您使用的是非 Sun/Oracle JDK，它可能无法编译。它可能会给你一些警告，你应该注意。由于您实际上还没有说您遇到了什么问题，因此无法进一步评论。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:12:26.877

我会推荐使用这个库：[MigBase64](http://migbase64.sourceforge.net/ "MigBase64")

像这样使用它：

```
 byte [] buf = new byte[]{0x12, 0x23};
 String s = Base64.encode(buf); 
```

# c# - 如何覆盖 WindowsPhone 中的 PhoneAccentBrush？

> ID：11095980
> 
> 赞同：1
> 
> 时间：2012-06-19T07:06:40.980
> 
> 标签：c#, xaml, windows-phone-7.1

基本上，PhoneAccentBrush 带有来自 Phone 的 SelectedTheme 强调色。但对于 WindowsPhone 应用程序中的特定 xaml 文件，我总是需要 BlueAccentBrush。

实际上我的要求是，当 ListPicker 处于 FullMode 时.. Popup 中的 SelectedItem 颜色取决于 PhoneAccentBrush ...如果我将 Phone 主题设置为 Red.. 那么 Popup 中的 SelectedItem 颜色将为红色.. 但我不像这样..我希望弹出窗口中的 SelectedItem 总是 BlueAccentBrush ..

所以任何人都可以帮助我覆盖 xaml 文件中的 PhoneAccentBrush ..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-22T05:40:20.057

添加 ListPicker 如下，

```
<StackPanel x:Name="ContentPanel" Grid.Row="1" Margin="12,0,12,0" >     
<toolkit:ListPicker ListPickerMode="Full">
<toolkit:ListPickerItem Content="Item1"/>
<toolkit:ListPickerItem Content="Item1"/>
<toolkit:ListPickerItem Content="Item2"/>
<toolkit:ListPickerItem Content="Item3"/>
<toolkit:ListPickerItem Content="Item4"/>
</toolkit:ListPicker>
</StackPanel> 
```

覆盖 ListPicker 选定项颜色

```
<ResourceDictionary
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:System="clr-namespace:System;assembly=mscorlib">
    <Color x:Key="PhoneAccentColor">Blue</Color>

    <SolidColorBrush x:Key="PhoneAccentBrush" Color="{StaticResource PhoneAccentColor}"/>
    <Style x:Key="PhoneTextAccentStyle" TargetType="TextBlock" BasedOn="{StaticResource PhoneTextBlockBase}">
        <Setter Property="FontFamily" Value="{StaticResource PhoneFontFamilySemiBold}"/>
        <Setter Property="Foreground" Value="{StaticResource PhoneAccentBrush}"/>
    </Style>
</ResourceDictionary> 
```

有关更多详细信息，请参阅以下示例： http: [//www.windowsphonegeek.com/upload/articles/MangoCustomApplicationTheme%20_1_2_3.zip](http://www.windowsphonegeek.com/upload/articles/MangoCustomApplicationTheme%20_1_2_3.zip)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-19T08:59:27.220

您不能覆盖 PhoneAccentBrush。这是一个“系统”资源。但是你可以改变`ListPicker`行为的方式。请参阅[http://windowsphonegeek.com/articles/customizing-listpicker-for-wp7-part1](http://windowsphonegeek.com/articles/customizing-listpicker-for-wp7-part1)以获取一系列说明如何操作的文章。

# php - php有任何固定装置替代品吗？

> ID：11095983
> 
> 赞同：2
> 
> 时间：2012-06-19T07:06:43.760
> 
> 标签：php, unit-testing, php-5.3

我使用 Ruby on Rails 已经有一段时间了。它有一个很棒的库，叫做 factory_girl，它对构建测试数据有很大帮助。最近我一直在寻找 PHP 中的类似替代方案。我进入的唯一图书馆是[Phactory](http://phactory.org)。

我要求分享您在 PHP 测试数据框架方面的经验，并推荐任何方便的库。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:23:21.897

有一个名为“ [Alice](https://github.com/nelmio/alice) ”的新夹具库。它不依赖于框架，但是您必须使用[Doctrine ORM](http://www.doctrine-project.org/projects/orm.html)或实现`Doctrine\Common\Persistence\ObjectManager`接口。如果您自己实现 ObjectManager 接口，则不需要数据库，您只需将固定装置存储在内存中即可。

[您可以从 YAML 或 PHP 文件中读取夹具，并且可以使用Faker](https://github.com/fzaninotto/Faker)库创建夹具范围（User1、User2 ..User10）、变量替换、引用夹具和生成数据。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-19T16:22:55.387

试试[https://github.com/fzaninotto/Faker](https://github.com/fzaninotto/Faker)

# android - 视频无法在使用 HTML5 的 Android PhoneGap 应用程序中播放

> ID：11095987
> 
> 赞同：0
> 
> 时间：2012-06-19T07:07:11.430
> 
> 标签：android, html, cordova, html5-video

我正在尝试使用 HTML5 视频标签在 Android PhoneGap 应用程序中播放视频。但它只显示带有控件的空白屏幕。我还尝试将视频放入 SD 卡和断言文件夹中。

知道如何播放视频吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-19T08:06:59.893

检查它.. [https://github.com/phonegap/phonegap-plugins/tree/master/Android/VideoPlayer](https://github.com/phonegap/phonegap-plugins/tree/master/Android/VideoPlayer)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-20T16:35:47.067

你也可以使用这个插件[fileOpener Plugin](https://github.com/michalzubkowicz/FileOpener/tree/cordova-2.8.0)。它将成功播放 Assets 文件夹中的所有视频 我还在三星 Galaxy S3 和平板电脑以及浏览器中测试了这个插件的结果

# android - Android 裁剪活动

> ID：11095988
> 
> 赞同：1
> 
> 时间：2012-06-19T07:07:27.550
> 
> 标签：android

我在我的应用程序中使用了 android CROP 并使用 AVD 对其进行了测试 - 一切正常，但是当我尝试在真实设备（sumsung Galaxy s2）上测试它时，我的应用程序在 CROP 活动中按下按钮 SAVE 后崩溃，并显示“不幸的是，画廊已停止”。是什么原因？

日志猫：

> 06-26 17:31:53.443: E/MTPRx(13266): 在 MtpReceiverandroid.intent.action.MEDIA_MOUNTED
> 
> 06-26 17:31:53.478: E/BrowserMediaChangingReceiver(11105): BrowserMediaChangingReceiver: onReceive 06-26 17:31:53.478: E/BrowserMediaChangingReceiver(11105): onReceive:mounted = %s false
> 
> 06-26 17:31:53.478: E/BrowserMediaChangingReceiver(11105): onReceive: 错误安装 = %s true
> 
> 06-26 17:31:53.478：E/BrowserMediaChangingReceiver（11105）：onReceive：ACTION_MEDIA_UNMOUNTED
> 
> 06-26 17:31:53.528: E/AlarmManagerService(1986): android_server_AlarmManagerService_set to type=0, 1340721115.533000000

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-26T14:47:12.547

它`com.android.camera.action.CROP`是内部 API 的一部分，因此不能保证所有 Android 设备都支持它。

如果您希望所有设备都支持它，您将必须实现自己的裁剪活动。如果某些设备不支持`Intent`. **请不要忘记这样做！**:)

顺便说一句，如果我没记错的话，三星 Galaxy 实现了自己的媒体/画廊应用程序，这就是它无法识别 Intent 的原因。

# r - 在 R 中生成列表的所有不同排列

> ID：11095992
> 
> 赞同：60
> 
> 时间：2012-06-19T07:07:52.213
> 
> 标签：r, permutation

我正在尝试创建一个列表的排列列表，例如，`perms(list("a", "b", "c"))`返回

```
list(list("a", "b", "c"), list("a", "c", "b"), list("b", "a", "c"),
     list("b", "c", "a"), list("c", "a", "b"), list("c", "b", "a")) 
```

我不知道如何继续，任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：58
> 
> 时间：2013-11-25T17:54:20.897

不久前，我不得不在基本 R 中执行此操作而不加载任何包。

```
permutations <- function(n){
    if(n==1){
        return(matrix(1))
    } else {
        sp <- permutations(n-1)
        p <- nrow(sp)
        A <- matrix(nrow=n*p,ncol=n)
        for(i in 1:n){
            A[(i-1)*p+1:p,] <- cbind(i,sp+(sp>=i))
        }
        return(A)
    }
} 
```

用法：

```
> matrix(letters[permutations(3)],ncol=3)
     [,1] [,2] [,3]
[1,] "a"  "b"  "c" 
[2,] "a"  "c"  "b" 
[3,] "b"  "a"  "c" 
[4,] "b"  "c"  "a" 
[5,] "c"  "a"  "b" 
[6,] "c"  "b"  "a" 
```

* * *

## 回答 #2

> 赞同：57
> 
> 时间：2012-06-19T07:13:16.047

`combinat::permn`将完成这项工作：

```
> library(combinat)
> permn(letters[1:3])
[[1]]
[1] "a" "b" "c"

[[2]]
[1] "a" "c" "b"

[[3]]
[1] "c" "a" "b"

[[4]]
[1] "c" "b" "a"

[[5]]
[1] "b" "c" "a"

[[6]]
[1] "b" "a" "c" 
```

请注意，如果元素很大，则计算量很大。

* * *

## 回答 #3

> 赞同：36
> 
> 时间：2013-08-06T10:08:25.040

base R 也可以提供答案：

```
all <- expand.grid(p1 = letters[1:3], p2 = letters[1:3], p3 = letters[1:3], stringsAsFactors = FALSE) 
perms <- all[apply(all, 1, function(x) {length(unique(x)) == 3}),] 
```

* * *

## 回答 #4

> 赞同：35
> 
> 时间：2012-06-19T07:24:36.873

`permutations()`您可以从包中尝试`gtools`，但与`permn()`from不同的是`combinat`，它不会输出列表：

```
> library(gtools)
> permutations(3, 3, letters[1:3])
     [,1] [,2] [,3]
[1,] "a"  "b"  "c" 
[2,] "a"  "c"  "b" 
[3,] "b"  "a"  "c" 
[4,] "b"  "c"  "a" 
[5,] "c"  "a"  "b" 
[6,] "c"  "b"  "a" 
```

* * *

## 回答 #5

> 赞同：18
> 
> 时间：2015-12-15T11:03:44.700

基本 R 中的解决方案，不依赖于其他包：

```
> getPerms <- function(x) {
    if (length(x) == 1) {
        return(x)
    }
    else {
        res <- matrix(nrow = 0, ncol = length(x))
        for (i in seq_along(x)) {
            res <- rbind(res, cbind(x[i], Recall(x[-i])))
        }
        return(res)
    }
}

> getPerms(letters[1:3])
     [,1] [,2] [,3]
[1,] "a"  "b"  "c" 
[2,] "a"  "c"  "b" 
[3,] "b"  "a"  "c" 
[4,] "b"  "c"  "a" 
[5,] "c"  "a"  "b" 
[6,] "c"  "b"  "a" 
```

我希望这有帮助。

* * *

## 回答 #6

> 赞同：11
> 
> 时间：2014-09-18T04:25:10.457

尝试：

```
> a = letters[1:3]
> eg = expand.grid(a,a,a)
> eg[!(eg$Var1==eg$Var2 | eg$Var2==eg$Var3 | eg$Var1==eg$Var3),]
   Var1 Var2 Var3
6     c    b    a
8     b    c    a
12    c    a    b
16    a    c    b
20    b    a    c
22    a    b    c 
```

正如@Adrian 在评论中所建议的那样，最后一行可以替换为：

```
eg[apply(eg, 1, anyDuplicated) == 0, ] 
```

* * *

## 回答 #7

> 赞同：11
> 
> 时间：2015-03-13T01:11:13.870

```
# Another recursive implementation    
# for those who like to roll their own, no package required 
    permutations <- function( x, prefix = c() )
    {
        if(length(x) == 0 ) return(prefix)
        do.call(rbind, sapply(1:length(x), FUN = function(idx) permutations( x[-idx], c( prefix, x[idx])), simplify = FALSE))
    }

    permutations(letters[1:3])
    #    [,1] [,2] [,3]
    #[1,] "a"  "b"  "c" 
    #[2,] "a"  "c"  "b" 
    #[3,] "b"  "a"  "c" 
    #[4,] "b"  "c"  "a" 
    #[5,] "c"  "a"  "b" 
    #[6,] "c"  "b"  "a" 
```

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2015-08-01T22:24:51.267

一个有趣的解决方案“概率”，使用基础 R 的样本：

```
elements <- c("a", "b", "c")
k <- length(elements)
res=unique(t(sapply(1:200, function(x) sample(elements, k))))
# below, check you have all the permutations you need (if not, try again)
nrow(res) == factorial(k)
res 
```

基本上，您调用许多随机样本，希望将它们全部获取，然后将它们独一无二。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2020-06-05T14:31:36.103

# 我们可以使用基函数`combn`稍加修改：

```
 combn_n <- function(x) {
      m <- length(x) - 1 # number of elements to choose: n-1 
      xr <- rev(x) # reversed x
      part_1 <- rbind(combn(x, m), xr, deparse.level = 0) 
      part_2 <- rbind(combn(xr, m), x, deparse.level = 0) 
      cbind(part_1, part_2)
       } 
```

```
 combn_n(letters[1:3])

[,1] [,2] [,3] [,4] [,5] [,6]  
[1,] "a"  "a"  "b"  "c"  "c"  "b"   
[2,] "b"  "c"  "c"  "b"  "a"  "a"   
[3,] "c"  "b"  "a"  "a"  "b"  "c" 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2019-10-28T00:50:45.323

如果这有帮助，有一个“安排”包，它允许你简单地做：

```
> abc  = letters[1:3]

> permutations(abc)
     [,1] [,2] [,3]
[1,] "a"  "b"  "c" 
[2,] "a"  "c"  "b" 
[3,] "b"  "a"  "c" 
[4,] "b"  "c"  "a" 
[5,] "c"  "a"  "b" 
[6,] "c"  "b"  "a" 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2020-12-18T09:36:21.157

[rnso 答案](https://stackoverflow.com/a/25904154/5861244)的通用版本是：

```
get_perms <- function(x){
  stopifnot(is.atomic(x)) # for the matrix call to make sense
  out <- as.matrix(expand.grid(
    replicate(length(x), x, simplify = FALSE), stringsAsFactors = FALSE))
  out[apply(out,1, anyDuplicated) == 0, ]
} 
```

这里有两个例子：

```
get_perms(letters[1:3])
#R>      Var1 Var2 Var3
#R> [1,] "c"  "b"  "a" 
#R> [2,] "b"  "c"  "a" 
#R> [3,] "c"  "a"  "b" 
#R> [4,] "a"  "c"  "b" 
#R> [5,] "b"  "a"  "c" 
#R> [6,] "a"  "b"  "c" 
get_perms(letters[1:4])
#R>       Var1 Var2 Var3 Var4
#R>  [1,] "d"  "c"  "b"  "a" 
#R>  [2,] "c"  "d"  "b"  "a" 
#R>  [3,] "d"  "b"  "c"  "a" 
#R>  [4,] "b"  "d"  "c"  "a" 
#R>  [5,] "c"  "b"  "d"  "a" 
#R>  [6,] "b"  "c"  "d"  "a" 
#R>  [7,] "d"  "c"  "a"  "b" 
#R>  [8,] "c"  "d"  "a"  "b" 
#R>  [9,] "d"  "a"  "c"  "b" 
#R> [10,] "a"  "d"  "c"  "b" 
#R> [11,] "c"  "a"  "d"  "b" 
#R> [12,] "a"  "c"  "d"  "b" 
#R> [13,] "d"  "b"  "a"  "c" 
#R> [14,] "b"  "d"  "a"  "c" 
#R> [15,] "d"  "a"  "b"  "c" 
#R> [16,] "a"  "d"  "b"  "c" 
#R> [17,] "b"  "a"  "d"  "c" 
#R> [18,] "a"  "b"  "d"  "c" 
#R> [19,] "c"  "b"  "a"  "d" 
#R> [20,] "b"  "c"  "a"  "d" 
#R> [21,] "c"  "a"  "b"  "d" 
#R> [22,] "a"  "c"  "b"  "d" 
#R> [23,] "b"  "a"  "c"  "d" 
#R> [24,] "a"  "b"  "c"  "d" 
```

也可以通过使用来稍微改变[Rick 的答案](https://stackoverflow.com/a/29023189/5861244)`lapply`，只做一次`rbind`，并减少`[s]/[l]apply`调用次数：

```
permutations <- function(x, prefix = c()){
  if(length(x) == 1) # was zero before
    return(list(c(prefix, x)))
  out <- do.call(c, lapply(1:length(x), function(idx) 
    permutations(x[-idx], c(prefix, x[idx]))))
  if(length(prefix) > 0L)
    return(out)

  do.call(rbind, out)
} 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2021-06-24T20:11:15.253

看，`purrr` 解决方案：

```
> map(1:3, ~ c('a', 'b', 'c')) %>%
    cross() %>%
    keep(~ length(unique(.x)) == 3) %>%
    map(unlist)
#> [[1]]
#> [1] "c" "b" "a"
#> 
#> [[2]]
#> [1] "b" "c" "a"
#> 
#> [[3]]
#> [1] "c" "a" "b"
#> 
#> [[4]]
#> [1] "a" "c" "b"
#> 
#> [[5]]
#> [1] "b" "a" "c"
#> 
#> [[6]]
#> [1] "a" "b" "c" 
```

* * *

## 回答 #13

> 赞同：-1
> 
> 时间：2017-11-30T11:37:56.447

关于什么

```
pmsa <- function(l) {
  pms <- function(n) if(n==1) return(list(1)) else unlist(lapply(pms(n-1),function(v) lapply(0:(n-1),function(k) append(v,n,k))),recursive = F)
  lapply(pms(length(l)),function(.) l[.])
} 
```

这给出了一个列表。然后

`pmsa(letters[1:3])`

# ms-office - Excel 2007：如何显示 mm:ss 格式而不是 DateTime（例如 73:07）？

> ID：11095994
> 
> 赞同：24
> 
> 时间：2012-06-19T07:07:53.263
> 
> 标签：ms-office, excel-2007

我需要创建一个计算每日训练时间的 Excel 表。每行包含以下字段：日期、距离、时间和分钟/公里。
我的主要问题是我想以`mm:ss`. 例如：24 分 3 秒应该是`24:03`，但“Excel”将其变为 00:03:00（午夜后 3 分钟）。我已经尝试设置“特殊格式”，但仍然“Excel 坚持”格式化时间。此外，培训可能会超过 60 分钟，我仍然只想要它，因为`mm:ss`
我的第二个问题是在我完成格式问题之后，计算时间/距离的简单方法是什么？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-06-20T21:20:10.710

输入值 as`0:mm:ss`和 format as`[m]:ss`

因为现在是分秒，简单的算术可以让你计算你的统计数据

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-19T13:00:38.320

当您将 24:03 格式化为时间时，Excel 将 24:03 显示为 3 分钟，因为 24:03 与 12:03 AM 相同（军用时间）。

## 使用通用格式添加时间

不要尝试格式化为时间，而是使用**通用格式**和以下公式：

`=number of minutes + (number of seconds / 60)`

例如：24 分 3 秒：

`=24+3/60`

这将为您提供 24.05 的值。

对每个时间段执行此操作。假设您在单元格中输入此公式，`A1`然后`A2`. 然后，要获得经过时间的总和，请在单元格中使用以下公式`A3`：

`=INT(A1+A2)+MOD(A1+A2,1)`

## 转换回分钟和秒

如果您放入`=24+3/60`每个单元格，您将在 cell中获得**48.1**`A3`的值。

现在您需要将其转换回分钟和秒。在单元格中使用以下公式`A4`：

`=MOD(A3,1)*60`

这需要小数部分并将其乘以 60。请记住，我们在开始时除以 60，因此要将其转换回秒，我们需要乘以。

您也可以单独执行此操作，即在单元格 A3 中使用以下公式：

`=INT(A1+A2)`

和单元格中的这个公式`A4`：

`=MOD(A1+A2,1)*60`

这是显示最终公式的屏幕截图：

![添加时间](../Images/b57d179306f79c2c480a74afb6cbb084.png)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-07-27T06:48:18.403

为了在输入多个日期/时间时使生活更轻松，可以使用自定义格式来消除输入冒号和前导“小时”0 的需要。但是，这需要第二个字段来存储数字日期，如自定义格式的显示日期以 10 为基数。

***将数字显示*为时间**（无需输入冒号，但无需时间转换）

为了在工作表上显示时间，并输入它们而不必键入冒号，请将单元格格式设置为自定义并使用：

`0/:00`

然后输入你的时间。例如，如果您想输入 62:30，那么您只需输入 6230，您的自定义格式将在视觉上从右侧插入一个冒号 2 个小数点。

如果您只需要显示时间，请到此为止。

**将数字转换为时间**

如果您需要能够计算时间，则需要将它们从以 10 为底的时间格式转换为时间格式。

这可以通过以下公式来完成（更改`A2`为相关的单元格引用）：

`=TIME(0,TRUNC(A2/100),MOD(A2,100))`

*   `=TIME`开始数字到时间的转换
*   我们不需要小时，因此`0,`请在公式的开头输入，因为格式始终是`hh,mm,ss`（要显示小时和分钟而不是分钟和秒，请将 0 放在公式的末尾）。
*   对于分钟，`TRUNC(A2/100),`丢弃最右边的 2 位数字。
*   对于秒，`MOD(A2,100)`保留最右边的 2 位数字并丢弃左边的所有内容。

上面的公式是从这篇文章中找到并改编的： [PC Mag.com - 在 Excel 中轻松输入日期和时间](http://www.pcmag.com/article2/0,2817,2316755,00.asp)

或者，您可以跳过`0/:00`自定义格式，只需在要引用的可见工作区边缘的单元格中或在另一个工作表上输入您的时间，就像自定义格式一样（即：6230 表示 62:30）

然后使用公式将单元格的显示格式更改`[m]:ss`为@Sean Chessire 建议的格式。

这是一个屏幕截图，以显示我的意思。

![显示时间转换公式和自定义格式的 Excel 屏幕截图](../Images/df92f5c90061868b3ea34a62b9fe371f.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-29T07:36:59.173

如果您使用手动输入的数据，您可以输入您的数据作为`mm:ss,0`或`mm:ss.0`取决于您的语言/地区选择，而不是`00:mm:ss`。

您需要指定单元格格式，就`[m]:ss`好像您希望查看所有分钟秒格式而不是小时分钟秒格式一样。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-12-11T15:33:06.243

作为文本：

```
=CONCATENATE(TEXT(cell;"d");" days ";TEXT(cell;"t");" hours ";MID(TEXT(cell;"hh:mm:ss");4;2);" minutes ";TEXT(cell;"s");" seconds") 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-03-11T11:25:32.533

5.在单元格格式框中，单击类别列表中的自定义。6.在格式列表顶部的类型框中，键入 [h]:mm;@，然后单击确定。（在 [h] 之后是一个冒号，在 mm 之后是一个分号。）然后您可以添加小时数。下次您需要时，该格式将出现在类型列表中。

来自MS，效果很好。

[http://office.microsoft.com/en-us/excel-help/add-or-subtract-time-HA102809662.aspx](http://office.microsoft.com/en-us/excel-help/add-or-subtract-time-HA102809662.aspx)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-10-27T20:48:07.110

在 Excel 中输入经过时间的一个方便技巧是在分钟数之前有两个零和一个冒号，详细信息如下。对于复制和粘贴到 Excel 中的操作，完全不必担心格式，可以使用格式 00:XX:XX，其中 XX 是两位数，总计 < 60。在这种情况下，Excel 将在单元格内容中回显 0:XX:XX显示并将数据存储为 12:XX:XX AM。如果将 00:XXX:XX 格式的数据粘贴到 Excel 或 00:XX:XX 中，其中 XX > 59，这将转换为一天的一小部分。

例如，00:121:12 变为 0.0841666666666667，如果乘以一天中的秒数 86,400，则变为 7272 秒。接下来，00:21:12 默认显示 0:21:12 存储为 12:21:12 AM。最后，00:21:60 变为 0.0152777777777778，也是一天的一小部分。

提出这个建议只是为了避免担心 Excel 中的特定格式，并让程序担心它。请注意，对于内部格式为 12:XX:XX AM 的 Excel 数据，只能使用某些 Excel 命令，例如，可以取平均值。但是，只有当结果为正数时，减法才会起作用。这样建议将时间转换为秒、一天的小数或其他实数，以访问更完整的算术运算覆盖范围。

例如，如果有一列混合时间格式，或者时间为负数且不会显示，如果将数字格式更改为“常规”，则所有时间都将转换为一天的小数部分。

# gwt - 在 GWT 中使用泛型是否有好处

> ID：11095997
> 
> 赞同：0
> 
> 时间：2012-06-19T07:08:09.203
> 
> 标签：gwt

通过在 GWT 中使用 java 泛型对 GWT 编译器有什么好处吗？这是否有助于创建更小或更高效的 javascript 代码，或者它是否与在 Java 中使用它们具有相同的好处。

使用 GWT、MVP 和泛型会带来复杂性。要正确实现泛型，接口如下所示：

```
public interface ViewInterface<P extends PresenterInterface<? extends ViewInterface<P>>> {
}
public interface PresenterInterface<V extends ViewInterface<? extends PresenterInterface<V>>> {
} 
```

上面的代码会改善 javascript 编译器的结果吗，或者如果我刚刚拥有如下代码，它是否没有效果：

```
public interface ViewInterface<P extends PresenterInterface<?>> {
}
public interface PresenterInterface<V extends ViewInterface<?>> {
} 
```

如果生成的 javascript 的性能没有差异，我宁愿使用第二个实现。（少样板）...

希望这是有道理的...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T14:34:13.657

正如[Google I/O 2009 演示文稿](http://dl.google.com/io/2009/pres/Th_0200_GoogleWebToolkitArchitecture-BestPracticesForArchitectingYourGWTApp.pdf)Ray Ryan 提到的，在使用 GWT RPC 时使用[命令模式设计。](http://en.wikipedia.org/wiki/Command_pattern)您可以查看演示文稿。有一个名为 GAD aka GWT Action Dispatcher 的库，其中的想法来自演示文稿中 Rayan 的推荐。GAD 由 5 个使用泛型的组件（类和接口）组成。如果没有泛型，在客户端代码以及在客户端和服务器之间共享 Actions 和 Responses 实现的服务器代码中将会有很多类型转换。我上面提到的 5 个组件是：

1-

```
public interface Action<T extends Response> extends Serializable {

} 
```

2-

```
public interface ActionHandler<K extends Action, T extends Response> {

  /**
   * Handles the provided action and retuns response of it.
   *
   * @param action the action to be handled
   * @return the response to be returned
   */
  T handle(K action);

} 
```

3-

```
public interface ActionDispatcher {

  /**
   * Dispatches the provided action to a proper handler that is responsible for handling of that action.
   * <p/> To may dispatch the incomming action a proper handler needs to be bound
   * to the {@link com.evo.gad.dispatch.ActionHandlerRepository} to may the dispatch method dispatch the
   * incomming request to it.
   *    
   * @param action the action to be handled
   * @param <T> a generic response type
   * @return response from the provided execution
   * @throws ActionHandlerNotBoundException is thrown in cases where no handler has been bound to handle that action
   */
  <T extends Response> T dispatch(Action<T> action) throws ActionHandlerNotBoundException;

} 
```

4-

```
public interface ActionHandlerRepository {
  ActionHandler getActionHandler(Class<? extends Action> aClass);
} 
```

当一个动作被传递给动作调度器时，动作调度器调用 ActionHandlerRepository 并要求它获取正确的 ActionHandler 然后调用方法句柄。[你可以在这里](https://github.com/mgenov/gad)找到 GAD 。

换句话说，好处是完全一样的。更少的 instanceof 和类型转换。希望这会有所帮助。祝你好运。

# c++ - 进程如何访问不属于其虚拟地址空间的内存映射 IO 地址？

> ID：11095998
> 
> 赞同：2
> 
> 时间：2012-06-19T07:08:15.213
> 
> 标签：c++, memory, memory-management, operating-system

我正在阅读操作系统理论，其中我发现一个进程具有它的虚拟地址空间（为了简单起见，松散地使用技术库和限制寄存器）但它不能访问任何其他地址。但是在嵌入式系统中，我们可以使用placement new 或reinterpret_cast (C++) 来访问内存映射的IO 地址，但是如果我们不能访问除了进程的虚拟地址空间之外的任何其他地址，这怎么可能呢？

```
class ControlReg { 
public:
bool ready() const { return readyBit; }
private:
volatile unsigned readyBit :1;
};

ControlReg *pcr = reinterpret_cast<ControlReg*>(0xFFFF0000); // address 0xFFFF0000 is still virtual or absolute physical mapped address? 
```

是否有一些指令可以让进程访问任何地址？. 我想我很困惑，有人可以帮我看清楚吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-19T07:18:23.130

这是一个纯粹的操作系统问题，适用于所有语言（包括汇编程序）。现代通用操作系统映射用户进程的内存，并且不允许在映射内存之外进行访问；用户进程无法正常访问内存映射 IO，甚至操作系统使用的内存。但是这个映射是由系统完成的：系统*可能*有特殊的请求允许绕过它；内核级代码绝对可以绕过它；许多嵌入式系统，尤其是较小的系统，根本没有内存映射。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:18:06.780

为了在真正的虚拟内存系统中工作，设备必须映射到进程的虚拟地址空间。例如，在类 Unix 操作系统中，这可以通过`mmap()`调用设备文件来完成。这将为设备驱动程序提供创建将虚拟地址与相应物理地址相关联的页表条目的机会。

（不过，我在这里推测；我没有这种嵌入式开发的经验。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T07:22:28.890

从您的进程中看到的所有地址都是虚拟地址，至少从高级语言的角度来看是这样。如果您正在运行 linux，您可以`cat /proc/{pid}/maps`查看您的代码如何从虚拟地址映射到物理地址。