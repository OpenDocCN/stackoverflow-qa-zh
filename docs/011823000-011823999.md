# StackOverflow 问答 11823000-11823999

# android - 系统跟踪 | 安卓 | 没有相应的文件和目录

> ID：11823007
> 
> 赞同：7
> 
> 时间：2012-08-06T05:38:55.663
> 
> 标签：android, python, android-sdk-tools

我无法让 systrace 在我的 Mac 上工作。我正在使用运行 Jelly Beans 的 Galaxy Nexus。我已经从开发人员选项中启用了显示跟踪。当我尝试执行时在终端中： ./systrace.py 我收到以下错误消息：

```
Traceback (most recent call last):
File "./systrace.py", line 212, in <module>
main()
File "./systrace.py", line 121, in main
stderr=subprocess.PIPE)
File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py",    line 679, in __init__
errread, errwrite)
File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py", line 1249, in _execute_child
raise child_exception
OSError: [Errno 2] No such file or directory 
```

我根本不熟悉 Python，所以我可能会犯一个新手错误。请帮忙。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-07T17:24:42.007

看起来脚本假定 adb 在您的路径中。将 platform-tools sdk 目录添加到您的路径中，它应该可以工作。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-06T20:14:03.440

在运行脚本之前尝试执行 adb root。

# java - 文件搜索高性能程序

> ID：11823011
> 
> 赞同：-1
> 
> 时间：2012-08-06T05:39:19.493
> 
> 标签：java, multithreading, io

我有一个要求是我必须编写一个高性能文件搜索程序，该程序应该列出与从最顶层文件夹开始提供的名称模式匹配的所有文件和文件夹，并在子文件夹中递归搜索。

程序可以是具有以下输入的命令行主类

开始搜索的顶级文件夹。例如 C:\MyFolders 要搜索的项目类型。文件或文件夹或两者 搜索模式 java 正则表达式 (java.util.regex) 被接受为 paatern

例如*MFile* .tx？将找到应用程序必须返回的 UMFile123.txt 和 AIIMFile.txs 的超时（以秒为单位）。否则它必须返回“无法完成操作”消息。

我想出了另一种方法是..

```
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.List;

import com.sapient.test.fileSearch.FileSearch;

public class FilesearchMain {

    /**
     * @param args
     */
    public static void main(String[] args) {
        // TODO Auto-generated method stub
        int flag=0;
        System.out.println("Type Item to Search ");
        System.out.println("1 File");
        System.out.println("2 Folder ");
        System.out.println("3 Both");
        System.out.println("0 Exit");

        try{
        BufferedReader readType = new BufferedReader(new InputStreamReader(System.in));

        String searchType =readType.readLine();;

        System.out.println("Enter name of file to search ::");

        BufferedReader readName = new BufferedReader(new InputStreamReader(System.in));
        String fileName=readName.readLine();

        if(searchType==null && fileName==null){
            throw new Exception("Error Occured::Provide both the input Parameters");
        }
        validateInputs(searchType,fileName);
        FileSearch fileSearch = new FileSearch(searchType,fileName);
List resultList=fileSearch.findFiles();
        System.out.println(resultList);
        }catch(IOException io){
            System.out.println("Error Occured:: Check the input Parameters and try again");
        }catch(Exception e){
            System.out.println(e.getMessage());
        }
    }

    private static void validateInputs(String searchType, String fileName) 
    throws Exception{
        if(!(searchType.equals("1") || searchType.equals("2") || searchType.equals("3")) ){
            throw new Exception("Error:: Item to search can be only 1 or 2 or 3");
        }
        if(searchType.equals("") || fileName.equals("")){
            System.out.println("Error Occured:: Check the input Parameters and try again");

        }

    }

} 
```

另一个文件是...

```
public class FileSearch {
    private String searchType;
    private String fileName;

    public FileSearch(){

    }
    public FileSearch(String sType,String fName){
        this.searchType=sType;
        this.fileName=fName;
    }

    public String getSearchType() {
        return searchType;
    }
    public void setSearchType(String searchType) {
        this.searchType = searchType;
    }
    public String getFileName() {
        return fileName;
    }
    public void setFileName(String fileName) {
        this.fileName = fileName;
    }
    public List findFiles(){

        File file = new File("C:\\MyFolders");

        return searchInDirectory(file);

    }
    //Assuming that files to search should contain the typed name by the user
    //
    private List searchInDirectory(File dirName){
        List<String> filesList = new ArrayList<String>();
        if(dirName.isDirectory()){
            File [] listFiles = dirName.listFiles();
            for(File searchedFile : listFiles){
                if(searchedFile.isFile() && searchedFile.getName().toUpperCase().contains(getFileName().toUpperCase())&& 
                        (getSearchType().equals("1") || getSearchType().equals("3") ) ){
                    filesList.add(searchedFile.getName());
                }else if(searchedFile.isDirectory() && searchedFile.getName().toUpperCase().contains(getFileName().toUpperCase())
                    &&  (getSearchType().equals("2") || getSearchType().equals("3") ) ){
                    filesList.add(searchedFile.getName());
                    searchInDirectory(searchedFile);
                }else{
                    searchInDirectory(searchedFile);
                }
            }
        }
        return filesList;
    }

}

Please advise is this approach is correct as per design..! 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T05:59:30.950

```
 if (topFolderOrFile.isDirectory()) {
      File[] subFoldersAndFileNames = topFolderOrFile.listFiles(fileFilter); 
```

fileFilter 可能看起来像这样的地方

```
public class MyFileFilter implements FileFilter{

    public boolean accept(File pathname) {
        return fileNamePattern.matcher(pathname.getName()).find();
    }

} 
```

这基本上保证了返回的文件列表将匹配`FileFilter`

现在，在这种情况下它是语义，因为为了使该`listFiles`方法起作用，它仍然需要遍历所有文件。

您可以尝试维护过滤器的单个实例，而不是在每次迭代中重新创建它，但是您需要分析您的算法之间的差异以及这可能带来的任何好处。

附带说明一下，您可以部署某种`Thread`队列，其中每个线程负责检查给定目录的匹配并将任何新的子目录排队。只是一个想法

**可重复使用的模式**

```
public static void searchFile(String topFolderName, String type,
        String fileNamePatternRegExp, long timeOut) throws IOException {

    long startTimeStamp = Calendar.getInstance().getTimeInMillis();

    File topFolderOrFile = new File(topFolderName);
    Pattern fileNamePattern = Pattern.compile(fileNamePatternRegExp);

    searchFile(topFolderName, type, fileNamePattern, long timeOut);

}

public static void searchFile(String topFolderName, String type,
        Pattern fileNamePattern, long timeOut) throws IOException {
    //...
} 
```

这些是我所做的基本更改，但实际上，您必须决定它们是否有效。

```
public static class PatternFileFilter implements FileFilter {

    private Pattern fileNamePattern;

    public PatternFileFilter(Pattern fileNamePattern) {

        this.fileNamePattern = fileNamePattern;

    }

    @Override
    public boolean accept(File pathname) {

        return fileNamePattern.matcher(pathname.getName()).find() || pathname.isDirectory();

    }

    public Pattern getPattern() {
        return fileNamePattern;
    }
}

public static void searchFile(File topFolderOrFile, String type, PatternFileFilter filter, long timeOut) throws IOException {

    long startTimeStamp = Calendar.getInstance().getTimeInMillis();

    if (topFolderOrFile.isDirectory()) {

        File[] subFoldersAndFileNames = topFolderOrFile.listFiles(filter);
        if (subFoldersAndFileNames != null && subFoldersAndFileNames.length > 0) {
            for (File subFolderOrFile : subFoldersAndFileNames) {

                if (ITEM_TYPE_FILE.equals(type) && subFolderOrFile.isFile()) {
                    System.out.println("File name matched ----- "
                            + subFolderOrFile.getName());
                }
                if (ITEM_TYPE_FOLDER.equals(type)
                        && subFolderOrFile.isDirectory() && filter.getPattern().matcher(subFolderOrFile.getName()).find()) {
                    System.out.println("Folder name matched ----- "
                            + subFolderOrFile.getName());
                }
                if (ITEM_TYPE_FILE_AND_FOLDER.equals(type) && filter.getPattern().matcher(subFolderOrFile.getName()).find()) {
                    System.out.println("File or Folder name matched ----- "
                            + subFolderOrFile.getName());
                }

                // You need to decide if you want to process the folders inline
                // or after you've processed the file list...

                if (subFolderOrFile.isDirectory()) {
                    long timeElapsed = startTimeStamp
                            - Calendar.getInstance().getTimeInMillis();
                    if (((timeOut * 1000) - timeElapsed) < 0) {
                        System.out
                                .println("Could not complete operation-- timeout");
                    } else {
                        searchFile(subFolderOrFile, type,
                                filter, (timeOut * 1000)
                                - timeElapsed);
                    }
                }
            }

        }

    }

}

public static void searchFile(String topFolderName, String type, String fileNamePatternRegExp, long timeOut) throws IOException {

    File topFolderOrFile = new File(topFolderName);
    Pattern fileNamePattern = Pattern.compile(fileNamePatternRegExp);

    searchFile(topFolderOrFile, type, new PatternFileFilter(fileNamePattern), timeOut);

} 
```

我只想说，这是一条鱼，现在你需要学会钓鱼；）

# spring - 在 bean 中注入具有多个字符串作为键的映射

> ID：11823012
> 
> 赞同：1
> 
> 时间：2012-08-06T05:39:21.177
> 
> 标签：spring

我们可以在 spring 中注入一个 bean，如下所示：

```
<bean id="injectCollection" class="CollectionInjection">
    <property name="map">
        <map>
            <entry key="someValue">
                <value>Hello World!</value>
            </entry>
            <entry key="someBean">
                <ref local="oracle"/>
            </entry>
        </map>
    </property>
</bean> 
```

如果我的键是由两个字符串组成的复合键，我该如何注入？它将如何显示在属性文件中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T05:58:47.743

不仅是映射，我们还可以注入一个列表，其中包含多个字符串/类作为 bean 中的键

```
<bean id="injectCollection" class="CollectionInjection">
    <property name="fruits">
        <list>
            <ref bean="apple" />
            <ref bean="banana" />  
        </list>
    </property>
</bean> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T14:10:05.630

你有几种方法可以做到这一点。虽然使用 List 作为键，对我来说听起来一点也不好，但我希望你对此有一个非常具体的要求。

嗯，这是一种方式，

```
<bean id="myBean" class="spring.beans.MapWrapper">
    <property name="map">
        <map>
            <entry>
                <key>
                    <list>
                        <value>keyA</value>
                        <value>keyB</value>
                    </list>
                </key>  
                <value>value1</value>
            </entry>
        </map> 
    </property>
</bean> 
```

在此示例中，您有一个 bean，其中包含一个列表作为键。该列表由“keyA”和“keyB”组合而成。键的值将是“value1”。

# jquery - 像 igoogle 这样的拖放框

> ID：11823013
> 
> 赞同：1
> 
> 时间：2012-08-06T05:39:24.297
> 
> 标签：jquery, drag-and-drop

我需要像 igoogle.com 这样的拖放框。我找到了这个：[http](http://demo.webdeveloperplus.com/drag-drop-panels/) ://demo.webdeveloperplus.com/drag-drop-panels/但它在 IE7 中不起作用。

你知道在 IE7 中工作的人吗？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T05:42:52.773

您可以在[portlet 模式下](http://jqueryui.com/demos/sortable/#portlets)尝试[jQuery UI 可排序](http://jqueryui.com/demos/sortable/)小部件。

它们从版本 6 开始支持 Internet Explorer。

# objective-c - 如何在 UILabel 中只显示有效小数？

> ID：11823016
> 
> 赞同：0
> 
> 时间：2012-08-06T05:40:15.023
> 
> 标签：objective-c, ios, c, ios5

我需要为一个数字设置一个标签，该数字可能有也可能没有小数。我不希望它是 5.00，只是 5（使用标准令牌时可能会发生）。虽然，如果有有效的小数，比如 0.56，那么它应该显示 5.56；如果它是 0.5，那么它应该显示 5.56。除了使用一堆 if 语句之外，我怎样才能只显示所需的小数（即是否有快速修复或我需要手动执行此操作）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T05:45:46.073

在可可中，格式化数字值以进行显示的最佳方法是使用[NSNumberFormatter](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSNumberFormatter_Class/Reference/Reference.html)。

```
NSNumberFormatter *formatter = [[NSNumberFormatter alloc] init];
[formatter setNumberStyle:NSNumberFormatterDecimalStyle];
[formatter setMaximumSignificantDigits:2];

NSNumber *significant = [NSNumber numberWithFloat:10.56f];
NSNumber *nonSignificant = [NSNumber numberWithFloat:10.00f];

NSLog(@"sig: %@, non-sig: %@", [formatter stringFromNumber:significant], [formatter stringFromNumber:nonSignificant]);
//sig: 10.56, non-sig: 10 
```

# javascript - 如何使用javascript找出从xml中检索到的元素数量

> ID：11823018
> 
> 赞同：0
> 
> 时间：2012-08-06T05:40:31.380
> 
> 标签：javascript, xml, xml-parsing

我有一个这样的xml

```
<Summary>
    <Data>data1</Data>
    <Data>data2</Data>
    <Data>data3</Data>
    ...
</Summary> 
```

最初我曾经在数据修复时这样做

```
$(xml).find('Data').eq(0).text() // I got data1
$(xml).find('Data').eq(1).text() // I got data2
$(xml).find('Data').eq(2).text() // I got data3 
```

如果我不知道有多少数据元素怎么办。有什么方法可以找出我在 ajax 请求中检索到的数据元素数量。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:16:39.337

我不知道我是否完全理解你想要什么，但下面的陈述会给你数据元素的数量：

```
var howMany = $(xml).find('Data').length; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T05:44:55.330

你可以做这样的事情

```
<Summary>
    <Data>data1</Data>
    <Data>data2</Data>
    <Data>data3</Data>
    ...
</Summary> 
```

/

```
/ initialized to some XML resembling your example
var dataXML = new XML("");  

// build XMLList
var dataList = dataXML['Data'];  

// alternative syntax
// var dataList = dataXML.Data;  

// how many data nodes are under a given data node?
var length = dataList.length(); 
```

# python - 替换字符串中的段落标记

> ID：11823021
> 
> 赞同：0
> 
> 时间：2012-08-06T05:40:48.270
> 
> 标签：python, replace

我有一个 html 字符串，我正在尝试替换段落标记。我可以通过选择编辑>查找内容：`^p`>替换为`^s`>全部替换，在word中手动执行此操作。我的问题是如何使用 python 中的 html 字符串执行此操作？

```
sample_html_string = "<html>
                  <title>
                  Hello
                  </title>
                  </html>"

correct_html_string = "<html><title>Hello</title></html>" 
```

这个问题并没有简单地解决，`re.sub`因为我有一个更复杂的 html 字符串，其中包含`li`标签和`p`标签，我想在其中保持格式。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T05:43:51.593

你可以这样做：

```
>>> import re
>>> re.sub('\s+', '', sample_html_string)
'<html><title>Hello</title></html>"' 
```

它将替换所有空格字符，并且非常适合您的示例

如果您需要替换段落标记（您的意思是`\n`，对吗？），您可以使用内置`replace`：

```
>>> sample_html_string.replace('\n', '') 
```

# objective-c - 什么时候调用 NSURLConnection 的 canAuthenticateAgainstProtectionSpace？

> ID：11823023
> 
> 赞同：1
> 
> 时间：2012-08-06T05:41:05.763
> 
> 标签：objective-c, nsurlconnection

我在为我的 ios 客户端提供服务的主机中有一个集群服务器，该服务器根据服务器信任身份验证方法进行身份验证。

在这里，来自集群服务器的响应`canAuthenticateAgainstProtectionSpace`每次都命中（即）每个响应，而来自非集群服务器的响应在会话中只命中一次。

`canAuthenticateAgainstProtectionSpace`什么时候调用这个方法？为什么我的回复每次都命中？为了使集群环境的响应与非集群环境中的响应方式相同，我还需要做些什么？

# flash - 这个 crossdomain.xml 意味着什么？

> ID：11823025
> 
> 赞同：0
> 
> 时间：2012-08-06T05:41:40.193
> 
> 标签：flash, crossdomain.xml

当站点具有以下 crossdomain.xml 配置时。以下是什么意思？

其次，如果站点 A (http) 托管一个上传到 S3 的 flash 上传器脚本，那么这个 crossdomain.xml 文件是否可以安全地保存在 S3 根目录中？

```
<?xml version="1.0"?>
<!DOCTYPE cross-domain-policy SYSTEM "http://www.macromedia.com/xml/dtds/cross-domain-policy.dtd">
<cross-domain-policy>
  <!-- 
    Read this: www.adobe.com/devnet/articles/crossdomain_policy_file_spec.html 
  -->

  <!-- Most restrictive policy:
  <site-control permitted-cross-domain-policies="none"/>
  -->

  <!-- Least restrictive policy: -->
  <site-control permitted-cross-domain-policies="all"/>
  <allow-access-from domain="*" to-ports="*" secure="false"/>
  <allow-http-request-headers-from domain="*" headers="*" secure="false"/>

  <!--
    If you host a crossdomain.xml file with allow-access-from domain="*"    
    and don’t understand all of the points described here, you probably     
    have a nasty security vulnerability. ~ simon willison
  -->
</cross-domain-policy> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:12:45.733

这是最宽容的变体，可能是由主机而不是网站所有者给出的。这是因为 allowed-cross-domain-policies 节点，如果它是您自己的站点，您没有托管其他人的站点，您希望将规则限制为仅此一个文件。

allow-access-from 允许从 HTTPS 加载的内容通过 HTTP 调用此域，反之亦然。这在您自己的网站中可能是不允许的，但谁知道呢，有时广告需要这样做。我不认为在这种情况下 to-ports 属性有任何影响，因为这个文件只能通过 HTTP(S) 访问，通常在公共服务器上侦听端口 80/443。

allow-http-request-headers-from 似乎是多余的，但我不确定，过去的政策发生了很大变化......我不知道任何默认情况下受到限制但可以发送的标头从 Flash 否则。如果有的话，您会在客户端发现更严重的限制。

关于你的另一个问题，好吧，显然，我将它限制在站点 A，而不是所有站点。我还会将此跨域声明为主域（而不是允许子跨域）。我可能会完全删除 allow-http-request-headers-from 以及 to-ports 属性。如果您认为您的 SWF 通过 HTTPS 加载时可能会遇到这种情况，但会尝试使用 HTTP 上传，则保持安全属性不变，否则将其删除或设置为 true。

不仅如此......嗯，这是一个“奖金”。在与 Flash HTTP 进行大量交流后，我得出的结论是，如果您有时间和必要的设施，例如您可以添加服务器模块，或者您可能会影响服务器的运行方式。例如，有一个 Apache 模块可以让它服务于套接字跨域策略。最好使用 Socket 类来实现您需要的 HTTP 部分，而不是使用半a*ed Adob​​e 的实现。

整个跨域业务可能会给您一些虚假的安全感，而实际上是默默无闻的安全。因为它非常不方便，再加上 Flash 自己缺乏 HTTP 的实现，你会遇到一个地方，在那里你被迫做比重新发明 HTTP 更糟糕的事情:)。例如，一旦您需要响应标头，您就会记住这一点... ;)

# svn - 如何打破项目的SVN链接？

> ID：11823028
> 
> 赞同：2
> 
> 时间：2012-08-06T05:42:06.097
> 
> 标签：svn, ubuntu

我正在使用 ubuntu 并想知道除了进入项目内部并删除项目中每个子文件夹的每个 .svn 文件夹之外，是否还有其他程序或命令来破坏特定项目的 SVN 链接。

这种方法非常耗时，是不是耗时较少的方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T06:01:16.007

试用`export`实用程序`svn`

```
svn export /path_of_your_working_copy /path_to_plain_copy 
```

然后只需删除旧的工作副本。

对于使用 TortoiseSVN 的 Windows 环境，可以这样做

```
TortoiseSVN > export... 
```

# javascript - Javascript onclick 即使在 div 上不起作用

> ID：11823032
> 
> 赞同：1
> 
> 时间：2012-08-06T05:42:21.170
> 
> 标签：javascript

我有一个 div，当用户使用事件单击它时`onclick`，我正在调用一个函数：

```
 function test(a)
    {   

     alert(a);
   }

<div onclick="javascript:test('zaswde');">sdfasdasdadasdasds</div>​ 
```

**更新**

```
 <ul>
      <li> 
           <div>
       <div onclick="javascript:alert('v'); "></div>

           </div>
            <div ></div>
      </li>
    </ul> 
```

我不能`onclick`在 div 元素上使用吗？​</p>

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T05:45:52.740

Onclick 将调用该函数，您不需要`javascript:`

```
<div onclick="test('zaswde');">sdfasdasdadasdasds</div>​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T06:07:48.830

您的代码运行良好。

此外，您可以在任何元素上使用点击事件，包括`<div>`

```
<div onclick="test('This is a <div> tag');">Click on this &lt;div&gt; element</div>

<span onclick="test('This is a <span> tag');">Click on this &lt;span&gt;</span>

<p onclick="test('This is a <p> tag');">Click on this &lt;p&gt;</p>

<a href="#" onclick="test('This is an <a> tag');">Click on this &lt;a&gt;</a> 
```

[**查看示例小提琴**](http://jsfiddle.net/akhurshid/7ugRZ/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T05:49:54.893

从技术上讲，您的代码将起作用。但大多数人会争辩说，这不是最好的写法。

我猜它不起作用的原因是因为您的 HTML 页面中已经存在 JavaScript 错误。检查浏览器中的错误控制台，看看上面是否有任何 JavaScript 错误。如果是，则修复该问题，然后这应该可以工作。

编辑：

我还从您的示例中看到您在 div 中没有任何内容。那么，您如何确定您在 div 内单击。看看是否可以在 div 内添加一两个句子，以便获得足够的空间在 div 内单击。

# xml - 计算 XML 元素中某些不区分大小写的单词的出现次数

> ID：11823033
> 
> 赞同：1
> 
> 时间：2012-08-06T05:42:42.457
> 
> 标签：xml, xpath, xquery, basex

以下是 XML 文件的结构 -

```
<Datas>
  <Data>
    <Name>Information</Name>
    <Desc>Today is Monday, the starting day of the week.</Desc>
  </Data>
  <Data>
    <Name>Stackoverflow.com</Name>
    <Desc>Yesterday 1200 questions were posted. <b>TODAY</b>, till now 1300 questions are posted. So, today will be an important day for all the senior members.</Desc>
  </Data>
</Datas> 
```

在上面的 XML 中，我想计算 word 的出现次数`today`。该单词可以是任何格式，例如- `Today`、或。最后一个是不正确的，但如果用户这样输入，则不应错过。`today``TODAY``toDay`

我正在使用查询 -

`count(/Datas/Data[contains(translate(Desc,'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXY'), 'TODAY')])`

这是结果 2，但总共有 3 个！如何包括所有？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:19:32.153

这个算3：

```
count(/Datas/Data//text()/tokenize(upper-case(.), "[\P{L}]")[. = "TODAY"]) 
```

它使用[fn:upper-case](http://www.w3.org/TR/xquery-operators/#func-upper-case)进行大小写规范化，并使用[fn:tokenize](http://www.w3.org/TR/xquery-operators/#func-tokenize)来隔离单词。请注意，此处的单词需要用非字母分隔，这与使用[fn:contains](http://www.w3.org/TR/xquery-operators/#func-contains)的原始查询的行为不同。不过，这可能是您想要的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T08:24:50.053

如果您使用的是 BaseX（我记得您就是这样），您可以使用非标准的[`ft:count`](http://docs.basex.org/wiki/Full-Text_Module#ft%3acount)，这让生活更轻松。

```
ft:count(//*[text() contains text "today"]) 
```

额外的好处是该查询将能够使用全文索引，这将比为每个查询标记文档要快得多。请记住设置没有大写的全文索引。

# android - 如何在同一代码中同时使用 BroadcastReceiver 和 ListActivity

> ID：11823040
> 
> 赞同：1
> 
> 时间：2012-08-06T05:43:50.620
> 
> 标签：android, android-listview, broadcastreceiver

这个项目需要两个类。

*   `BroadcastReceiver`(class)——接收短信；
*   `ListActivity`(class) — 显示 SMS；

因为`setListAdapter()`方法需要定义`ListActivity`（类），我的问题是我应该如何在下面的代码中定义这两个类？

```
import ....
public class SmsReceiver extends BroadcastReceiver{

@Override
public void onReceive(Context context, Intent intent) 
{
    //---get the SMS message passed in---
    Bundle bundle = intent.getExtras();        
    SmsMessage[] msgs = null;
    String str = "";     
    if (bundle != null)
    {
        //---retrieve the SMS message received---
        Object[] pdus = (Object[]) bundle.get("pdus");
        msgs = new SmsMessage[pdus.length];            
        for (int i=0; i<msgs.length; i++){
            msgs[i] = SmsMessage.createFromPdu((byte[])pdus[i]);                
            str += "SMS from " + msgs[i].getOriginatingAddress();                      
        }

        //----REQUIRE ListActivity(class) to define----//
        // how should i define the class here???

        //---display in list---
        setListAdapter(new ArrayAdapter<String>(this, R.layout.main,str));
        ListView listView = getListView();
        listView.setTextFilterEnabled(true);

        //---method is call when listitem is clicked---
        listView.setOnItemClickListener(new OnItemClickListener() {
            //described method
        });
    }                         
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T05:53:21.340

根据我的最简单的解决方案是：

*   1 将所有项目存储在扩展类中的列表中`BroadcastReceiver`

*   2 将列表传递`Intent`给扩展的类`ListActivity`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T05:51:12.817

Kin，您也可以在Activity中设置listview而不扩展Listview。请参阅此[示例](https://stackoverflow.com/questions/4636679/listview-adapter-data-change-without-listview-being-notified)。

# perl - XML::Twig - 管理具有相同标签的字段

> ID：11823041
> 
> 赞同：2
> 
> 时间：2012-08-06T05:44:00.107
> 
> 标签：perl, xml-twig

我有一个需要解析复杂 XML 数据的项目。我决定继续使用`XML::Twig`它，它在大多数情况下都非常有效。我遇到了一个问题，即不同的信息具有相同的标签名称，但路径不同。如下所示，其中`DateOfBirth`用于两个不同的字段。

```
 <doc:DForm xmlns:doc="urn:xml-gov-au:...">
    <doc:PersonsDetails>
       <doc:GivenName LanguageIdentifier="" LanguageLocaleIdentifier="">
          John
       </doc:GivenName>
       <doc:Surname LanguageIdentifier="" LanguageLocaleIdentifier="">
          Citizen
       </doc:Surname>
       <doc:DateOfBirth LanguageIdentifier="" LanguageLocaleIdentifier="">
          2012-06-14
       </doc:DateOfBirth>
    </doc:PersonsDetails>
    <doc:SupportingInformation>
       <doc:NumberOfSiblings>
       5.00
       </doc:NumberOfSiblings>
       <doc:SiblingsDetails>
         <doc:DateOfBirth LanguageIdentifier="" LanguageLocaleIdentifier="">
         2009-03-18
         </doc:DateOfBirth>
         <doc:Name LanguageIdentifier="" LanguageLocaleIdentifier="">
         James Citizen</doc:Name>
       </doc:SiblingsDetails>
       <doc:SiblingsDetails>
         <doc:DateOfBirth LanguageIdentifier="" LanguageLocaleIdentifier="">
            2006-08-17
         </doc:DateOfBirth>
         <doc:Name LanguageIdentifier="" LanguageLocaleIdentifier="">
            Jane Citizen
         </doc:Name>
       </doc:SiblingsDetails>
       <doc:Address>
           <doc:Street>25 test street<doc:Street>
           <doc:City>Melbourne <doc:City>
           <doc:PostalCode>3000<doc:PostalCode>
       <doc:Address>
    </doc:SupportingInformation>
    </doc:MCCPDForm> 
```

我已经设置了几个处理程序来处理不同的信息，但是由于我们不需要同级详细信息，因此最终基于将字段映射到 XML 元素的 2 级散列对其进行处理。

**样本：**

```
my %field = ( 
       "DetDateOfBirth" => {
    "type"    => "Date",
    "value"   => undef,
    "dbfield" => "DetDateOfBirth",
   },
) 
```

所以，当兄弟的 DOB 被处理时，它会使用上面的哈希元素来设置它，但是当这个人的 DOB 被处理时，因为已经有一个值，它会移动到下一个元素。

所以我设置了另一个处理程序并确保之前处理过信息。

现在，问题是，想象有多种情况，其中相同的名称用于多个元素但在不同的路径中。我只是编写更多的处理程序，还是有另一种更好地管理这种情况的方法。

**相关的代码**：

```
my $namespace = "doc";
my $formname = "DForm";
enter code here
my $twig = XML::Twig->new(
    pretty_print  => 'indented',
    twig_handlers => {
        "$namespace:${formname}/$namespace:PersonsDetails/$namespace:Address" =>
          \&ProcessAddress,
        "$namespace:${formname}/$namespace:SupportingInformation" =>
          \&ProcessSupportingInformation,
        "bie1:PdfFile"           => \&DecodePDF,
        "$namespace:${formname}" => \&ProcessRecord,
    }
);

sub ProcessRecord {
    my $twg    = shift;
    my $record = shift;
    my $fld;
    my $value;
    my $irn;

    my $elt = $record;

    while ( $elt = $elt->next_elt($record) ) {
        $fld = $elt->tag();

        $fld =~ s/^$namespace\://;

        if ( defined $fields{$fld}{"type"} && $elt->text ) {
            if ( $fld =~ /NameOfPlaceInstitution|HospitalNameOfBirth/i ) {
                next if $elt->text =~ /Other location/i;
            }

            if ( !defined $fields{$fld}{"value"} ) {
                $fields{$fld}{"value"} = $elt->text;
            }

        }
    }
}

sub ProcessSupportingInformation {
    my $twg    = shift;
    my $record = shift;
    my $fld;
    my $value;
    my $parent;

    my $elt = $record;

    while ( $elt = $elt->next_elt($record) ) {
        $fld = $elt->tag();
        $fld =~ s/^$namespace\://;

        $parent = $elt->parent();

        next if ( $fld =~ /PCDATA/ );

        if ( defined $fields{$fld}{"type"} && $elt->text ) {
            if ( $fld =~ /PlaceOfDeathHospital/i ) {
                if ( $elt->text =~ /Other location/i ) {
                    next;
                }
            }

                    if ( $fld =~ /StreetAddress/i ) {
                $fields{"StreetAddressOfPerson"} = $elt->text;
            }
            else {
                if ( !defined $fields{$fld}{"value"} ) {
                    $fields{$fld}{"value"} = $elt->text;
                }
            }
        }
        else {
            $record->delete;
        }
    }

} 
```

仅供参考，实际的 XML 文件大约有 700 行，其中还包括一个编码的 PDF。

另一种选择是在哈希中设置另一个标志，将标签映射到数据库字段，并在第一次处理信息时设置它。

谢谢

PS：抱歉修改太多。我想我现在明白了。

PPS：代码中有一个敏感信息以及我无法显示的 xml，所以我不得不编辑它的一部分......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T10:33:20.060

很难理解您的确切情况，因为您已将问题减少到 XML 无效（它以 开头`<doc:DForm>`但以 结尾`<doc:MCCPDForm>`）并且 Perl 代码与 XML 数据不对应的程度。

但是我认为您使用`XML::Twig`错误。“树枝”主要是为了将 XML 文件简化为可以独立处理的一系列记录，而不是作为访问数据中单个元素的基础。

你没有说这些`<bie1:PdfFile>`元素是如何相关的，`<PersonsDetails>`所以我不能评论那些，但看起来没有一个元素包含 the`<PersonsDetails>`和相关的`<SupportingInformation>`，所以它们只能通过它们在文件中的邻接关系联系在一起.

如果是这种情况，那么我将只在这两个元素上放置一个处理程序，并且代码看起来像下面的程序。

`<DateOfBirth>`当所有元素在特定上下文中遇到时，很容易区分它们的含义——无论是在同级列表中`ProcessPersonDetails`还是在`ProcessSupportingInformation`同级列表中。

该程序仅打印示例 XML 中可用的信息。相反，构建数据库记录并在处理给定人员的最后数据时将其写入不会太难。

`purge`还要注意从内存中删除已处理信息所必需的调用。没有这个，一次处理数据枝而不是整个文档就没有任何好处

```
use strict;
use warnings;

use XML::Twig;

my $twig = XML::Twig->new(
    twig_handlers => {
        'doc:PersonsDetails' => \&ProcessPersonsDetails,
        'doc:SupportingInformation' => \&ProcessSupportingInformation
    }
);

$twig->parsefile('DForm.xml');

sub ProcessPersonsDetails {
    my ($twig, $record) = @_;
    print "PersonsDetails\n";
    for (qw/ doc:GivenName doc:Surname doc:DateOfBirth /) {
      print '  ', $record->first_child_trimmed_text($_), "\n";
    }
}

sub ProcessSupportingInformation {
    my ($twig, $record) = @_;
    print "SupportingInformation\n";
    for my $sibling ($record->children('doc:SiblingsDetails')) {
        print "  Sibling\n";
        for (qw/ doc:DateOfBirth doc:Name /) {
          print '    ', $sibling->first_child_trimmed_text($_), "\n";
        }
    }
    $twig->purge;
} 
```

**输出**

```
PersonsDetails
  John
  Citizen
  2012-06-14
SupportingInformation
  Sibling
    2009-03-18
    James Citizen
  Sibling
    2006-08-17
    Jane Citizen 
```

* * *

**更新**

如果每个文件只有一条记录，`XML::Twig`则不需要增量处理 XML 数据的能力，并且可以一次加载并处理整个文档。

这个程序正是这样做的，并产生与前面的代码相同的输出。无需编写在解析过程中调用的处理程序，代码更加简洁

```
use strict;
use warnings;

use XML::Twig;

my $twig = XML::Twig->new(discard_all_spaces => 1);
my $root = $twig->parsefile('DForm.xml')->root;

print "PersonsDetails\n";
my $details = $root->first_child('doc:PersonsDetails');
for (qw/ GivenName  Surname  DateOfBirth /) {
  my $value = $details->trimmed_field("doc:$_");
  print "  $value\n";
}

print "SupportingInformation\n";
my @siblings = $root->first_child('doc:SupportingInformation')->children;
for my $sib (@siblings) {
  print "  Sibling\n";
  for (qw/ Name  DateOfBirth /) {
    my $value = $sib->trimmed_field("doc:$_");
    print "    $value\n";
  }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T05:52:25.780

在没有看到任何代码的情况下回答您的问题有点困难，但是您是否考虑过在更长的路径上触发处理程序，`doc:PersonsDetails/doc:DateOfBirth`例如？这将确保仅在正确的上下文中处理日期。

# javascript - 使用 jquery 捕获所有哈希点击？

> ID：11823042
> 
> 赞同：0
> 
> 时间：2012-08-06T05:44:07.947
> 
> 标签：javascript, jquery

有什么方法可以使用 jquery 来捕获所有/任何哈希标签（#xxxxx）点击？不能把它们归为一类。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T05:49:20.540

下面的代码会做：

```
$('a[href*=#]').click( function() { /* do something */ } ); 
```

或者您可以使用 JamWaffles 指出的更有效的方法：

```
$('body').on('click', 'a[href*=#]', function() { /* do something */ }); 
```

**编辑：**

如果你想在页面加载 #hash in url 时做一些事情，那么你需要看看[Ben Alman 的 jQuery hashchange 插件](http://benalman.com/projects/jquery-hashchange-plugin/)

这是您基本上需要添加到页面的一段代码（在这种特殊情况下不需要上面的代码）

```
$(document).ready( function() {
   $(window).hashchange( function(){
        // Alerts every time the hash changes!
        alert( location.hash );  
    })
    if( location.href.indexOf('#') > -1 )
    {
        $(window).trigger('hashchange'); // this will trigger the first time the page is loaded if there is a hash in your url
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T05:50:31.913

```
$("a").each(function() {
    if ($(this).attr("href").indexOf("#") > -1) {
        $(this).bind("click", hashListener);
        // where hashListener is the name of your
        // tracking function.
    }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T05:50:40.040

```
$('a').click(function(){
  if($(this).attr('href').indexOf('#') == 0 || $(this).attr('href').indexOf(window.location.href+"#") == 0){
    // do your stuff here.
  }
}); 
```

此代码*应*同时处理相对和绝对哈希标记。

# sql-server - 删除记录但在数据库中保留序列号

> ID：11823043
> 
> 赞同：0
> 
> 时间：2012-08-06T05:44:12.680
> 
> 标签：sql-server, database, sql-server-2008

我有以下字段的表格

```
VouhcerID, VoucherNumber, VoucherDate, etc... 
```

现在的情况是一些凭证被拒绝。我不需要将记录保留在数据库中，但序列号应该保留在数据库中。`JV001, JV002, JV003`假设如果`JV003`被拒绝，我现在在数据库中有序列号的以下记录。它来自数据库的记录应该被拒绝，但是当插入新记录时，它应该`JV004`得到`VoucherNumber`. 一种选择是在名为的数据库中添加一个布尔字段，`isdeleted`并`true`在记录被拒绝时创建它。任何其他建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:22:43.830

更改表以添加标识列，每当有新插入时，只需像这样插入：

```
 alter table yourtable add id int identity(1,1)
    INSERT INTO yourtable(VouhcerID,...)
    select 'JV'+CASE WHEN len(cast(id as varchar)=1 then '00'+cast(id as varchar) else  CASE WHEN len(cast(id as varchar)=2 then '0'+cast(id as varchar) else cast(id as varchar) end end,... from table 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T05:52:11.590

我认为你的选择听起来不错。

另一种选择是将列分成两列

**第 1 列：**包含列的非整数部分（即上例中的 JV）
**第 2 列：**包含数字部分，您可以将其设置为**int 标识**列，它将保持序列号。

而且您必须将两列合并为 ID 列

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T05:54:41.247

如何创建一个“计算列”。例如：('JV'+CONVERT(nvarchar,[Rec_ID],(0)))

# rubygems - Openshift 和 RHEL 6 入门

> ID：11823044
> 
> 赞同：0
> 
> 时间：2012-08-06T05:44:13.897
> 
> 标签：rubygems, openshift, rhel6

OpenShift[入门](https://openshift.redhat.com/app/getting_started)页面说要运行

```
sudo rhn-channel --add --channel=rhel-x86_64-server-optional-6 
```

为了在 RHEL 6 中安装 ruby​​gems。但是当我运行该命令时，我得到了输出

```
An error has occurred:
<type 'exceptions.TypeError'>
See /var/log/up2date for more information 
```

我该如何解决？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T05:44:13.897

改为运行此命令：

```
yum-config-manager --enable rhel-6-server-optional-rpms 
```

有关详细信息，请参阅[http://web.archive.org/web/20120707214814/http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/entitlements-and-yum.html 。](http://web.archive.org/web/20120707214814/http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/entitlements-and-yum.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-20T20:35:11.163

只需尝试： yum install ruby​​gems 如果您的目标是只安装 ruby​​gems 然后 rhc

那应该工作:)

# ninject - 使用 ninject 为 Web Api 注入 HttpControllerContext 的绑定

> ID：11823050
> 
> 赞同：0
> 
> 时间：2012-08-06T05:45:08.437
> 
> 标签：ninject, asp.net-web-api

我有一个`HttpControllerContext`用于构造函数注入的服务。这有什么约束力？绑定在 WebActivator 下的 NinjectWebCommon 文件中设置。

通过绑定，我的意思是这样的：

```
kernel.Bind<IUserService>().To<UserService>();
kernel.Bind<HttpControllerContext>().To</* ??? */ >(); //Whats the binding? 
```

# c# - Visual Studio 设计重叠面板

> ID：11823057
> 
> 赞同：5
> 
> 时间：2012-08-06T05:46:01.950
> 
> 标签：c#, .net, panel, windows-forms-designer

我有大约 4 个面板相互重叠，我需要能够对每个面板进行更改。当我选择面板 1 并尝试将其置于前面，然后单击面板时，它只是将面板 4 保持在前面。

同样的处理右键单击面板 4 并发送到后面。我点击面板，它仍然在前面。

人们通常如何处理这个问题？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-04-13T23:26:21.437

如建议的那样，可以通过在属性页面上列出组件的组合进行选择。

对于进一步的参考，我想添加一个有助于在设计时重叠面板的策略。可以记录面板的期望位置，并且可以将不感兴趣的面板的位置属性设置为面板之外的位置。设计完成后，移动面板的位置属性被设置回原来的位置。

# git - git需要很长时间才能加载

> ID：11823058
> 
> 赞同：2
> 
> 时间：2012-08-06T05:46:02.133
> 
> 标签：git

所以我使用 git 一次（大量）提取了大量文件。

但是后来我曾经`git rm`从 git 数据库中删除目录，因为 git 开始需要很长时间才能从原点拉取，但是调用`git rm`并没有解决问题 - git 仍然需要很长时间才能从原点拉取。

除了重新创建存储库来解决这个问题，我还能做什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T05:52:55.940

因为 git 保留了所有提交的历史记录，所以从技术上讲，该内容存在于 git repo 中（谢天谢地，这正是源 repo 的好处:)

您可以重写过去的历史记录以删除对该文件夹的所有引用。

该站点有一个使用示例`filter-branch`：

[http://dalibornasevic.com/posts/2-permanently-remove-files-and-folders-from-a-git-repository](http://dalibornasevic.com/posts/2-permanently-remove-files-and-folders-from-a-git-repository)

**注意：**您正在重写历史记录，您需要强制将 repo 推送到服务器。如果其他人正在使用/提交它，可能会给他们带来一些麻烦。

**编辑：**关于该主题的另一个有趣的阅读：[http ://ramblinglabs.com/blog/2012/04/git-removing-sensitive-data-and-rewriting-history](http://ramblinglabs.com/blog/2012/04/git-removing-sensitive-data-and-rewriting-history)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T05:56:10.767

`git rm`实际上不会删除在您在存储库中引用的任何头的当前历史中的任何时候提交的大对象（例如分支、标签等）

我不确定这是否是导致 git 拉慢的原因（根据我的经验，一旦你拉了很大的差异，在随后的拉动中事情应该恢复快速和正常），但如果你怀疑它，你可以尝试完全删除包含较大差异的提交，使用`git rebase`.

完成此操作后，您可以执行 a`git gc`来清理仓库中分离的对象并减小整体大小。要与您的远程仓库同步，​​您需要进行强制推送。

# python - 给定一个单词列表，识别所有长度为 4 或更大的相同子串

> ID：11823062
> 
> 赞同：2
> 
> 时间：2012-08-06T05:46:49.840
> 
> 标签：python, algorithm, counter, frequency

假设我有一个外来词列表：

1.  伊力库瓦
2.  阿里库瓦
3.  尼利芬迪沙
4.  阿纳芬迪沙
5.  金枪鱼
6.  图利索马

我想在这个单词列表中识别单词中常见的长度为 4 或更大的子字符串。例如，单词“kuwa”、“fundisha”和“soma”都属于这一类。

然后，当我进行频率分析时：

```
cnt = Counter()
for lines in list:
    cnt[words]
print cnt.most_common(2000) 
```

我希望将这些子字符串计算为它们出现在整个列表中的次数......这样最终输出： print cnt.most_common(3) 就像这样。

1.  库瓦 - 2
2.  芬迪沙 - 2
3.  躯体- 2
4.  ilikuwa- 1 ...等

不过，我完全不知道如何去做。有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T06:26:52.003

您已经在使用 a `Counter`，因此缺少的只是一种生成任何给定字符串的子字符串的方法。如果该位位于某个函数中，该函数需要一个字符串和一个子字符串的最小长度，那么您的计数逻辑可以是单行的，并得到以下帮助`itertools.chain`：

```
cnt = Counter(chain.from_iterable(substrings(line, 4) for line in lines))
cnt.most_common(2000) 
```

Which leaves the problem of working out how to generate those substrings. The easiest way to do this is to loop over the possible sizes of substrings, and then loop over the string and give back the slice starting at each successive position in the string, and having the given length (but since slices in Python take a start and an end index, we need to do some slice arithmetic to make that work):

```
def substrings(s, min_length=1):
   for length in range(min_length, len(s)+1):
     for start in range(len(s) - min_length + 1):
        yield s[start:start+length] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T05:52:58.277

如果效率很重要，我相信您将需要一个[Suffix Array](http://en.wikipedia.org/wiki/Suffix_array)。

如wiki所示，使用后缀数组可以统计任意子串在O(m+logN)中出现的次数，其中m是子串的长度，N是所有单词的总长度。

然而，您仍然需要枚举每个单词的所有子字符串。我不认为在最坏的情况下可以避免 O(N*N) 枚举。但是使用 dict() 来避免对重复的子字符串进行多次检查肯定会提高平均情况下的性能。

# c - sys/types.h 位于何处？

> ID：11823063
> 
> 赞同：25
> 
> 时间：2012-08-06T05:46:53.277
> 
> 标签：c, linux, ubuntu

我刚刚发现`<stdlib.h>`和`<stdio.h>`标头位于`/usr/include`Ubuntu 服务器的文件夹中，但我没有找到`sys/types.h`.

我开始怀疑编译器实际上不会使用文件`/usr/include`夹中的头文件。

这是真的吗，文件在哪里？

* * *

## 回答 #1

> 赞同：60
> 
> 时间：2012-08-06T05:52:16.293

我的 Debian 盒子（希望 Ubuntu 并没有因为他们的热情而对它进行*过多*的屠杀）在`/usr/include/sys/types.h`.

你最好的选择是执行：

```
find /usr/include -name types.h
find / -name types.h # if not found by one above 
```

但是，请记住，开发的东西甚至可能没有*安装*在服务器上。除非它是编译器场的服务器，否则如果编译器和一堆其他东西不是默认安装的一部分，我不会感到惊讶。

如果编译器*将*它定位在某个地方而你只是不知道在哪里，你可以使用类似的东西：

```
echo "#include <sys/types.h>" | gcc -E -x c - | grep /types.h 
```

找出它是从哪里得到的。

该`gcc`命令行：

*   在预处理阶段 ( `-E`) 之后停止；
*   强制将文件视为 C 源代码 ( `-x c`)；和
*   从标准输入 ( `-`) 中检索程序，在本例中是从`echo`语句中检索。

最后`grep`只是去掉不重要的行，留下可能包含包含文件位置的行。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-08-06T06:18:26.740

该文件`sys/types.h`位于`/usr/include/sys/types.h`

如果您遇到这种**致命错误**：

```
.../linux/linux_types.h:146:38: fatal error: /usr/include/sys/types.h: No
such file or directory 
```

**使用以下代码**修复：****

 **```
sudo apt-get install build-essential flex libelf-dev libc6-dev-amd64 binutils-dev libdwarf-dev 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-08-06T06:15:25.400

如果您有可用的 locate 命令，您可以简单地使用`locate`：

```
-bash-3.2$ locate sys/types.h
/usr/include/sys/types.h
/usr/lib/syslinux/com32/include/sys/types.h
-bash-3.2$ 
```

这是最快和最简单的方法。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2014-12-04T22:19:09.053

只是为了将来参考，我在我的 debian 机器上遇到了这个问题，结果在我的情况下

```
$ apt-file find /usr/include/sys/types.h
libc6-dev-i386: /usr/include/sys/types.h 
```

libc6-dev-i386 是我似乎需要安装的包

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-08-06T05:50:21.320

在 Linux 上，`types.h`应该在`/usr/include/sys/types.h`.**

# android - 对同一个对象使用多个精灵表 AndEnginge

> ID：11823067
> 
> 赞同：1
> 
> 时间：2012-08-06T05:47:34.637
> 
> 标签：android, opengl-es-2.0, andengine, sprite, sprite-sheet

我的对象（鹦鹉）有多个精灵表，比如吃东西、从左到右、从右到左等等。我正在使用 AndEngine gles2.0。我应该如何实施？每次我必须使用不同的精灵表时，分离前一个并在同一位置添加新的。这将是忙碌的！

这里有人已经实现了这种场景吗？如果我为每个动画使用单个精灵表，它的大小会增加，并且会抛出内存不足的异常！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T05:13:36.277

这是我执行不同精灵表动画的代码。

```
public void performEatingAnimation(Bird b) {
    float x = b.getSelectedAnimatedsprite().getX();
    float y = b.getSelectedAnimatedsprite().getY();
    b.getSelectedAnimatedsprite().setVisible(false);

    b.getSelectedAnimatedsprite().detachSelf();
    b.setSelectedAnimatedsprite(b.getEatingAnimatedsprite());

    attachObjectWithNewPosition(b.getSelectedAnimatedsprite(), x, y);
    b.getSelectedAnimatedsprite().animate(60, 2);

}

public void performWalkAnimation(Bird b) {
    float x = b.getSelectedAnimatedsprite().getX();
    float y = b.getSelectedAnimatedsprite().getY();
    b.getSelectedAnimatedsprite().setVisible(false);

    b.getSelectedAnimatedsprite().detachSelf();
    b.setSelectedAnimatedsprite(b.getWalkingAnimatedsprite());

    attachObjectWithNewPosition(b.getSelectedAnimatedsprite(), x, y);
    b.getSelectedAnimatedsprite().animate(60, 0)
 } 
```

这是我的 setSelected 方法来执行 AnimatedSprite 的 deepCopy。

```
public void setSelectedAnimatedsprite(AnimatedSprite selectedAnimatedsprite) {
    AnimatedSprite sprite = new AnimatedSprite(
            selectedAnimatedsprite.getX(), selectedAnimatedsprite.getY(),
            selectedAnimatedsprite.getTiledTextureRegion().deepCopy(),
            selectedAnimatedsprite.getVertexBufferObjectManager());

    this.selectedAnimatedsprite = sprite;
} 
```

我必须对选定的精灵进行深度复制，因为如果我不这样做，它将传递引用和 setVisible(false) 并且分离将发生在 WalkingAnimatedSprite 和 EatingAnimatedSprite 上，我无论如何都不想要

# javascript - jQuery bluimp Fileupload - 上传后保留选择图像行

> ID：11823069
> 
> 赞同：0
> 
> 时间：2012-08-06T05:47:45.800
> 
> 标签：javascript, jquery, file-upload

我一直在为我的 Rails 应用程序使用[http://blueimp.github.com/jQuery-File-Upload/ 。](http://blueimp.github.com/jQuery-File-Upload/)该插件的当前行为是在上传图像后，它会删除所选图像的行并显示不同的行以下载上传的图像。

我想保留选定的图像表，用预加载器图像阻止页面并在所有图像上传后重定向。我设法显示预加载器，阻止页面并重定向，但不知道如何防止插件删除选定的图像。

任何人都可以帮助我覆盖此行为，因此即使在图像上传后插件也不会删除所选图像的行。

谢谢，阿米特帕特尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T09:41:49.593

我做了一个诡计。我修改了下载文件行模板以匹配文件上传行模板。文件上传后，现在显示新创建的缩略图。所以看起来图像仍然存在。

# iphone - 将 UIPickerView 和 UIToolBar 添加到 UIActionSheet 的问题

> ID：11823071
> 
> 赞同：0
> 
> 时间：2012-08-06T05:47:59.653
> 
> 标签：iphone, ios, interface-builder

我对iOS编码很陌生，希望你能帮助我，谢谢。

我在 xib 中添加了一个`UIToolBar`with some`UIBarButtonItem`和 an `UIPickerView`，并希望将它们添加到`UIActionSheet`in 代码中。,和是属性`UIToolBar`，我这样做：`UIBarButtonItem``UIPickerView``UIActionSheet`

```
_pickerView.frame = CGRectMake(0, 40, 320, 216);
[_actionSheet addSubview:_toolBar];
[_actionSheet addSubview:_pickerView]; 
```

如下图所示，它存在一些问题：

1.  `UIBarButtonItem`s不见了
2.  `UIToolBar`应该是黑色的
3.  看起来太大了`UIPickerView`，右边不见了

我知道我可以以编程方式完成所有这些工作，但我认为将 UI 内容放在 xib 中会更好。谁能告诉我如何解决它。

![在此处输入图像描述](../Images/ba65dd0b8313b3081da123214e682289.png)

![在此处输入图像描述](../Images/204d527a51ccaa518038b81f6bacc1e7.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T06:24:04.607

我建议您查看 Tim Cinel 的 UIActionSheetPicker。对我来说，它真的让这样的事情变得更简单了，而且这些例子真的很容易理解和理解。

这是链接：[https ://github.com/skywinder/ActionSheetPicker-3.0](https://github.com/skywinder/ActionSheetPicker-3.0)

（旧链接~~[https://github.com/TimCinel/ActionSheetPicker](https://github.com/TimCinel/ActionSheetPicker)~~）

这在 UIPickerView 上方有一个栏，用于显示完成/取消等按钮，但我发现修改代码以更改这些按钮也相对容易。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T06:10:56.443

为了获得如上图所示的所需结果......我向您推荐编程方法比 xib 方法更好

我认为您正在尝试使用“完成”按钮实现选择器操作表。我将参考使用 segemnt 控件而不是使用工具栏。

在要显示带有选择器和完成按钮的操作表的位置使用以下代码。

```
UIActionSheet *Example_Actionsheet = [[UIActionSheet alloc] initWithTitle:nil  delegate:self
                                                 cancelButtonTitle:nil  
                                            destructiveButtonTitle:nil
                                                 otherButtonTitles:nil];  

    Ex_Picker = [[UIPickerView alloc] initWithFrame:CGRectMake(0, 40, 0, 0)];
    Ex_Picker.delegate = self;  
    Ex_Picker.showsSelectionIndicator = YES;    // note this is default to NO  
    Example_Actionsheet.actionSheetStyle = UIActionSheetStyleBlackOpaque;
    [Example_Actionsheet addSubview:Bedroom_Picker];  
    [Example_Actionsheet showInView:self.view]; 
    [Example_Actionsheet setBounds:CGRectMake(0, 0, 320, 485)];

    UISegmentedControl *closeButton = [[UISegmentedControl alloc] initWithItems:[NSArray arrayWithObject:@"Done"]];
    closeButton.momentary = YES; 
    closeButton.frame = CGRectMake(260, 7.0f, 50.0f, 30.0f);
    closeButton.segmentedControlStyle = UISegmentedControlStyleBar;
    closeButton.tintColor = [UIColor blueColor];
    [closeButton addTarget:self action:@selector(Close_method) forControlEvents:UIControlEventValueChanged];
    [Example_Actionsheet addSubview:closeButton];
    [Example_Actionsheet release]; 
```

如果你想使用工具栏

```
pickerDateToolbar = [[UIToolbar alloc] initWithFrame:CGRectMake(0, 0, 320, 44)];
pickerDateToolbar.barStyle = UIBarStyleBlackOpaque;
[pickerDateToolbar sizeToFit];

NSMutableArray *barItems = [[NSMutableArray alloc] init];

UIBarButtonItem *flexSpace = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:self action:nil];
[barItems addObject:flexSpace];

UIBarButtonItem *doneBtn = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(DatePickerDoneClick)];
[barItems addObject:doneBtn];

[pickerDateToolbar setItems:barItems animated:YES]; 
```

并在操作表的子视图中添加工具栏和选择器。

```
[aac addSubview:"Your toolbar"];
[aac addSubview:"Your picker"]; 
```

并设置动作表框架。它使用工具栏完成。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T06:23:46.373

以下代码用于将工具栏添加为子视图。

```
-(IBAction)btnOption:(id)sender{

            self.tBar.frame=CGRectMake(0, 0, 320, 44);
            self.pkrMain.frame=CGRectMake(0, 47, 320, 216);

           self.act=[[UIActionSheet alloc] initWithTitle:lblReam delegate:self cancelButtonTitle:lblOk destructiveButtonTitle:@"Cancel" otherButtonTitles:@"OptionA",@"OptionB",nil];

            [self.act addSubview:self.tBar];
            [self.act addSubview:self.pkrMain];

            [self.pkrMain reloadAllComponents];
            [self.act clipsToBounds];
            [self.act showInView:[UIApplication sharedApplication].keyWindow];
        } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-08T01:42:52.857

最后，我添加了一个`UIView`来包装工具栏和选择器，然后将其添加到`UIActionSheet`代码中：

```
[_actionSheet addSubview:_wrapper]; 
```

这样做后布局很好。

# c# - 如果已启用浏览器的弹出窗口阻止程序，如何显示错误消息

> ID：11823073
> 
> 赞同：2
> 
> 时间：2012-08-06T05:48:06.850
> 
> 标签：c#, asp.net

我正在开发一个网站。在该站点中单击一个按钮，它应该重定向到下一页。我的问题是单击按钮时，它应该检查浏览器的弹出窗口阻止程序是否已启用。如果它已启用，那么我应该显示一条错误消息，说明弹出窗口已被阻止。否则应该转到下一页。是否可以通过编码？请尽快帮助我

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T06:15:37.843

试试这样。它将返回真或假。用于阻止弹出。

```
function isPopupBlocked()
{
 var oWin = window.open("UrltoOpen","yourName","width=0,height=0,top=5000,left=5000");
        if (oWin==null || typeof(oWin)=="undefined") {
            return true;
        } else {
            oWin.close();
            return false;
        }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T05:56:39.480

检测弹出窗口是否被阻止：

```
var newWin = window.open(url);             

if(!newWin || newWin.closed || typeof newWin.closed=='undefined') 
{ 
   //POPUP BLOCKED
} 
```

# xml - 将游戏卡数据存储在单个或多个 XML 中？

> ID：11823074
> 
> 赞同：0
> 
> 时间：2012-08-06T05:48:08.653
> 
> 标签：xml, actionscript-3, flash, excel

我需要将这里的 Excel 数据转换为大约 5,000 张交易卡（名称、游戏成本、功率/规则、健康、类型），以便将其用于我在 Flash 和 ActionScript 3.0 中完成的游戏。

请记住，有不同类型的卡片（能力、任务、装备（盔甲、武器、物品）、盟友、英雄等......）

所以，我想知道是否应该将它们全部转储到一个 XML 文件中，还是应该有许多不同的 XML 文件？

编辑：

我将使用这些数据来创建/管理玩家的牌组并在比赛期间显示牌。

[卡片数据库](http://tcgbrowser.com)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:05:43.917

使用单独的小 XML 文件，如果：

*   **xml文件是独立的：**游戏中关卡的数据，一旦用户清除关卡，可能根本不需要，是独立的。

*   **一些 xml 很常见并且以混合方式使用：**浏览器可以缓存小文件，从而避免再次下载常用文件。

*   **您需要偶尔更新特定区域：**这允许 XML 的其余部分保持缓存并通过修改 URL 的查询部分来强制更新特定文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T06:00:18.227

如果交易卡是相关的并且共享相同的属性（例如，如果能力卡和任务卡都具有“名称”和“健康”属性），那么我会将它们全部放在一个 XML 文件中。

如果不同类型有不同的属性（例如，武器卡有“力量”和“防御”属性，而英雄卡有“名称”和“健康”属性），那么每个卡类型都有一个 XML 文件可能会更好。

如果您要将项目部署到 Web，则需要注意 XML 文件的大小不要太大，否则您的用户将不得不等待 XML 加载。

# java - Java中的多个JSON解析

> ID：11823076
> 
> 赞同：1
> 
> 时间：2012-08-06T05:48:36.990
> 
> 标签：java, json, parsing

我在单个文件 input.txt 中有多个 JSON：

```
{"Atlas":{"location":"lille","lat":28.4,"long":51.7,"country":"FR"}}
{"Atlas":{"location":"luxum","lat":24.1,"long":54.7,"country":"LU"}}
{"Atlas":{"location":"ghent","lat":28.1,"long":50.1,"country":"BE"}} 
```

注意：它们不是用逗号 (",") 分隔的，它们不是数组。这些是有效的单个 JSON。

我相信应该可以得到输出。

我下面的代码既不显示错误也不给出输出？这里有什么问题？

这是我的代码：

```
 class Loc{
        private String location;
        private Long lat;
        private Long long;
        private String country;

    //getter and setter methods
    }
    public class JsonReader {
        public static void main(String[] args) throws ParseException {

            try {
                BufferedReader br= new BufferedReader(new FileReader("C:\\input.txt"));
                String jsonTxt = IOUtils.toString( br );                
                JSONParser parser = new JSONParser();                               
                String line=null;
                while ((line = br.readLine()) != null)
                {
                    Loc emp = (Loc) (new JSONParser().parse(jsonTxt));
                    System.out.printf("%s",emp.getLocation());
                    System.out.printf("\t%d",emp.getlat());
                    System.out.printf("\t%d",emp.getLong());
                    System.out.printf("\t%s",emp.getCountry()"\n");
            }
    }catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

}} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T16:48:47.723

你在解析错误的东西。`line`你不应该解析`jsonText`。 `line`是从 BufferedReader 读取的实际行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T05:53:59.670

您将结果传递`IOUtils.toString(BufferedReader)`给`JSONParser`. 正如您所指出的，整个文件内容不是有效的 JSON。假设每一行都是有效的 JSON，将数据逐行传递给解析器。您的代码已经设置为执行此操作。

在您的循环中，传递`line`给解析器，然后摆脱这些`IOUtils`东西。

我认为`JSONParser`是`org.json.simple.parser.JSONParser`。如果是这样，如果您不做更多工作，它不会`Loc`为您构建对象：它只解析 JSON 并返回 , 等树`JSONObjects`。`JSONArray`请参阅[此处](http://code.google.com/p/json-simple/wiki/DecodingExamples)和有关`JSONAware` [此处](http://code.google.com/p/json-simple/wiki/MappingBetweenJSONAndJavaEntities)的内容。

或者查看[Jackson](http://jackson.codehaus.org/)或[GS​​ON](http://code.google.com/p/google-gson/)将您的 JSON 解析为 java 对象。

此外，您的`Loc`成员不能命名`long`：这是一个 java 关键字，会阻止您的代码编译。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T16:49:18.983

看起来你需要解析行，而不是 jsonTxt

```
Loc emp = (Loc) (new JSONParser().parse(jsonTxt)); 
```

# css - 使用引导边框类应用边框

> ID：11823077
> 
> 赞同：1
> 
> 时间：2012-08-06T05:48:43.253
> 
> 标签：css, twitter-bootstrap

我正在使用引导 CSS 框架。

但找不到任何通用类来应用边框。我需要将边框应用到其中一列，它是框架支持的东西，还是不包括在内并留待定制的东西？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T06:40:57.763

据我记得只在桌子上添加边框。因此，最简单的方法就是自定义类。

# java - 将 ThreadFactory 传递给 ScheduledThreadPoolExecutor

> ID：11823090
> 
> 赞同：1
> 
> 时间：2012-08-06T05:50:26.123
> 
> 标签：java, multithreading, threadpool, scheduling

[ScheduledThreadPoolExecutor](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html)的构造函数之一允许我将 ThreadFactory 传递给它。

这有点奇怪，因为我已经在处理线程池了！这意味着它知道如何管理线程生命周期。

从我的角度来看，这看起来像是策略模式，允许我覆盖线程创建的逻辑，同时维护它提供的调度服务。

1.  我说对了吗？
2.  Java中内置的ThreadFactories是什么？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T06:04:52.263

`ThreadFactory`通常用作工厂模式来详细说明创建线程的方式。

一个典型的用例是逻辑地命名你的线程。

```
public WorkerThreadFactory implements ThreadFactory {
   private int counter = 0;

   public Thread newThread(Runnable r) {
     return new Thread(r, "Worker" + "-" + count++);
   }
} 
```

[**这**](http://javahowto.blogspot.in/2011/11/why-use-threadfactory.html)是一个非常详尽的用例列表。

ThreadFactory 的内置实现将是 `Executors.defaultThreadFactory()`

[**这些**](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/class-use/ThreadFactory.html)是它被使用的地方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-12T10:57:44.643

使用自定义线程工厂始终是一个好习惯。默认工厂用处不大。您应该使用自定义工厂，原因如下：

1.  拥有自定义线程名称
2.  在螺纹类型之间进行选择
3.  选择线程优先级
4.  处理未捕获的异常

检查这篇文章：[http ://wilddiary.com/understanding-java-threadfactory-creating-custom-thread-factories/](http://wilddiary.com/understanding-java-threadfactory-creating-custom-thread-factories/)

# java - 在性能 request.setAttribute 或 jsp scriptlet 代码中哪个更好

> ID：11823092
> 
> 赞同：1
> 
> 时间：2012-08-06T05:50:39.510
> 
> 标签：java, jsp, struts2

我正在用struts2做项目。我有广告列表。有一个广告表，其中包含添加的详细信息。我想显示添加列表。

所以我想知道哪个是更好的解决方案来实现这个？

1.  在动作类中，我将获取对象并将它们存储到列表对象中并将此列表对象设置为请求 request.setAttribute(list);

    并在 jsp 页面上检索和显示

2.  使用 scriptlet <% %> 获取对象并在 jsp 页面上显示它

请告诉哪些是执行此操作的最佳实践？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T06:05:21.967

首先更好，因为：

*   jsp文件上的java代码是邪恶的（html+javascript+jstl标签mb+java代码=难以维护）
*   jsp 只是视图（MVC 模式），视图上的逻辑是个坏主意

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-06T06:10:48.737

我建议不要执行上述任何操作，因为 S2 提供了一种更优雅、更灵活的方法来设置和获取请求和响应中的对象。

您可以遵循这种方法。

在您的操作类中，创建一个包含其 setter 和 getter 的列表，并用您想要填充的任何数据填充对象

```
public class MYActionClass extends ActionSupport{

  private List<Data Type as per your need> myList;
  // getters

  public String execute() throws Exception{

    // you logic
    myList=fill list with the data
  }
} 
```

上面的代码将让 S2 将数据放入`myList`其中`valueStack`，您可以使用 OGNL 在您的 JSP 中获取数据。确保有 getter 和 setter，以便 S2 可以获取数据并将其放入列表中。

在你的jsp中，你可以使用OGNL访问列表，我不能建议你如何访问列表数据，因为你没有提到你想如何访问JSP中的数据以及以什么方式但是使用OGNL是很直接的像[迭代器一样前进](http://struts.apache.org/2.3.1/docs/iterator.html)

我建议看看[OGNL](http://struts.apache.org/2.3.1/docs/ognl.html)基础c。

不要使用脚本让，因为有更好和更灵活的方式来访问数据

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-06T06:11:58.703

第一。您应该避免在 JSP 中使用 scriptlet，因为这是一种非常丑陋的做法并且违反了 MVC 模式。相反，您应该使用 JSP 标记，特别是[JSTL](http://www.oracle.com/technetwork/java/index-jsp-135995.html)标记。此外，如果您正在使用 Struts，您将拥有[更多 Struts 提供给您的标签](http://struts.apache.org/1.2.9/userGuide/struts-html.html)。

请记住，如果您无法使用标签执行某些操作，则意味着您不应该这样做。

# java - 将字符串输出到系统的最快方法是什么？

> ID：11823095
> 
> 赞同：21
> 
> 时间：2012-08-06T05:50:51.857
> 
> 标签：java

我正在做这样的事情：

```
for (int i = 0; i < 100000; i++) {
   System.out.println( i );
} 
```

基本上，我计算一个整数并输出一个大约 10K-100K 次的字符串，然后需要将结果写入 system.out，每个结果由换行符分隔。

实现这一目标的最快方法是什么？

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-08-06T16:15:55.137

感谢您的建议。我创建了一个测试程序来比较它们：

```
import java.io.BufferedOutputStream;
import java.io.BufferedWriter;
import java.io.OutputStream;
import java.io.OutputStreamWriter;
import java.lang.StringBuilder;

public class systemouttest {

    public static void main(String[] args) throws Exception {

        long starttime = System.currentTimeMillis();
        for (int i = 0; i < 100000; i++) {
           System.out.println( i );
        }
        long printlntime = System.currentTimeMillis();

        StringBuilder sb = new StringBuilder();
        for (int i = 0; i < 100000; i++) {
            sb.append( i + "\n" );
        }
        System.out.print(sb.toString());
        long stringbuildertime = System.currentTimeMillis();

        OutputStream out = new BufferedOutputStream ( System.out );
        for (int i = 0; i < 100000; i++) {
            out.write((i + "\n").getBytes());
        }
        out.flush();
        long bufferedoutputtime = System.currentTimeMillis();

        BufferedWriter log = new BufferedWriter(new OutputStreamWriter(System.out));
        for (int i = 0; i < 100000; i++) {
            log.write(i + "\n");
        }
        log.flush();
        long bufferedwritertime = System.currentTimeMillis();

        System.out.println( "System.out.println: " + (printlntime - starttime) );
        System.out.println( "StringBuilder: " + (stringbuildertime - printlntime) );
        System.out.println( "BufferedoutputStream: " + (bufferedoutputtime - stringbuildertime) );
        System.out.println( "BufferedWriter: " + (bufferedwritertime - bufferedoutputtime) );
    }

} 
```

结果：

Environment1
System.out.println：482
StringBuilder：210
BufferedoutputStream：86
BufferedWriter：202

Environment2
System.out.println：1763
StringBuilder：45
BufferedoutputStream：76
BufferedWriter：34

这些建议都比 System.out.println 执行得更好。BufferedOutputStream 似乎是最安全的选择，因为它在两种测试环境中都表现良好。BufferedWriter 可能会更快。

如果有人有任何想法，请发表进一步的建议。我相信有人可以让它更快:)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-06T05:58:07.653

对于大量数据，`System.out.println`可能效率低下，因为它不能很好地缓冲。在这种情况下，您可以使用 a`BufferedOutputStream`或 a `BufferedWriter`。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-08-06T05:57:36.413

请记住，与内存中的处理（例如，整数的解析）相比，I/O 操作非常慢。所以，我建议你“提前”创建整个字符串，然后只打印一次（当然如果可能的话）：

`StringBuilder sb = new StringBuilder();`

```
for(int i = 0 ; i < 100000; i++) { sb.append(i).append("\n");}
String printMe = sb.toString(); 
System.out.println(printMe); 
```

有多种技术，例如缓冲您正在使用的输出流的级别，但我假设您更喜欢使用最基本的`System.out.println`

希望这可以帮助

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2020-04-25T17:24:42.313

这也包括快速输入和输出方法

```
import java.io.*;
public class templa{
    static class FastReader 
    { 
        BufferedReader br; 
        StringTokenizer st; 

        public FastReader() 
        { 
            br = new BufferedReader(new
                     InputStreamReader(System.in)); 
        } 

        String next() 
        { 
            while (st == null || !st.hasMoreElements()) 
            { 
                try
                { 
                    st = new StringTokenizer(br.readLine()); 
                } 
                catch (IOException  e) 
                { 
                    e.printStackTrace(); 
                } 
            } 
            return st.nextToken(); 
        } 

        int nextInt() 
        { 
            return Integer.parseInt(next()); 
        } 

        long nextLong() 
        { 
            return Long.parseLong(next()); 
        } 

        double nextDouble() 
        { 
            return Double.parseDouble(next()); 
        } 

        String nextLine() 
        { 
            String str = ""; 
            try
            { 
                str = br.readLine(); 
            } 
            catch (IOException e) 
            { 
                e.printStackTrace(); 
            } 
            return str; 
        } 
    } 

    public static void main(String...args) throws Exception {
        OutputStream outputStream =System.out;
        PrintWriter out =new PrintWriter(outputStream);
        FastReader in =new FastReader();
        int testcase = in.nextInt();
        while(testcase-- >0){
            //in object works same as Scanner Object but much faster
            //out.println() works faster than System.out.println()
            //Write your code here
        }
        out.close();
      }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-06T07:38:02.203

写入 System.out 最慢的部分是显示您正在写入的内容所花费的时间。即，对于您编写的每一行，计算机必须使用字体将信息转换为像素并滚动整行。这比您可能为显示文本所做的工作要多得多。

您可以通过以下方式加快写入控制台的速度

*   少写（通常是最好的主意）
*   改为写入文件（这可以快 5-10 倍）

# checkstyle - 如何运行自定义检查样式规则？

> ID：11823101
> 
> 赞同：2
> 
> 时间：2012-08-06T05:51:44.907
> 
> 标签：checkstyle

我想创建我的规则。我看到了这个链接：[http](http://checkstyle.sourceforge.net/writingchecks.html) ://checkstyle.sourceforge.net/writingchecks.html 我创建了一个简单的maven项目，它只包含一个类：

```
package com.posco.myapp;
import com.puppycrawl.tools.checkstyle.api.*;
public class MethodLimitCheck extends Check{

 private static final int DEFAULT_MAX = 30;
    private int max = DEFAULT_MAX;

    @Override
    public int[] getDefaultTokens()
    {
        return new int[]{TokenTypes.CLASS_DEF, TokenTypes.INTERFACE_DEF};
    }

    @Override
    public void visitToken(DetailAST ast)
    {
        // find the OBJBLOCK node below the CLASS_DEF/INTERFACE_DEF
        DetailAST objBlock = ast.findFirstToken(TokenTypes.OBJBLOCK);
        // count the number of direct children of the OBJBLOCK
        // that are METHOD_DEFS
        int methodDefs = objBlock.getChildCount(TokenTypes.METHOD_DEF);
        // report error if limit is reached
        if (methodDefs > this.max) {
            log(ast.getLineNo(),
                "too many methods, only " + this.max + " are allowed");
        }
        if (methodDefs < this.max) {
            log(ast.getLineNo(),
                "too many methods, only " + this.max + " are allowed");
        }
   } 
```

我把这段代码放在我的 config.xml 文件中

```
<module name="TreeWalker">
    <!-- myCheck.                     -->
    <module name="com.posco.myapp.MethodLimitCheck">
    </module> 
```

然后，我使用命令行运行（在使用 maven 创建 myjar 之后）：

```
java -classpath my-core-1.0.jar:checkstyle-5.5-all.jar com.puppycrawl.tools.checkstyle.Main -c config.xml 
```

错误是：classNotFoundException：com.puppycrawl.tools.checkstyle.gui.Main

你愿意帮助我！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:12:45.940

如果您使用的是 maven，您可以将 checkstyle 插件添加到 maven pom.xml。因此，每当您构建项目或运行 maven install 时，它都会检查 checkstyle 错误。Checkstyle 设置非常简单，就像在 pom.xml 中添加一些行一样。

# android - 仅在应用程序在 Android 中首次运行时才使用共享首选项调用方法？

> ID：11823102
> 
> 赞同：0
> 
> 时间：2012-08-06T05:51:56.463
> 
> 标签：android, sharedpreferences

我正在开发 android 中的墙纸应用程序，在该应用程序中，我需要将一些图像从资产复制到 SDCARD 位置以进行应用。但是这个过程必须在应用程序第一次运行时完成。将来用户使用该应用程序时不得发生这种情况。我计划为此目的使用共享偏好。但没有获得成功。

我已将首选项初始化为类的私有成员。

```
private SharedPreferences preferences=null;
private boolean flagCopy;
//USING Shared Preferences FOR COPY ASSETS------
        if(preferences!=null){
            flagCopy = preferences.getBoolean("COPY_ASSETS", DO_NOT_COPY_ASSESTS);

        }else{
            preferences =getPreferences(MODE_PRIVATE);
            SharedPreferences.Editor editor = preferences.edit();
            editor.putBoolean("COPY_ASSETS", COPY_ASSESTS); // value to store
            editor.commit();
            flagCopy = true;
        }
        if(flagCopy){//IF FLAG IS FALSE THAN COPY THE IMAGES TO SDCARD FROM RES
            CopyAssets();
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:00:23.140

您的首选项对象始终为空，因此它将始终转到您制作 flagcopy = true 的第二部分。见下面的代码

```
 preferences =getPreferences(MODE_PRIVATE);
   if(preferences!=null){
            flagCopy = preferences.getBoolean("COPY_ASSETS", COPY_ASSETS);

   if(flagcopy == COPY_ASSETS){
            SharedPreferences.Editor editor = preferences.edit();
            editor.putBoolean("COPY_ASSETS", DO_NOT_COPY_ASSESTS);
            editor.commit();
            flagCopy = true;
        }

        if(flagCopy){
            CopyAssets();
        } 
```

# google-app-engine - 在 ses 上发送带有附件的电子邮件的问题

> ID：11823104
> 
> 赞同：0
> 
> 时间：2012-08-06T05:52:01.730
> 
> 标签：google-app-engine, amazon-ses

我有以下代码：

```
try{
        Properties props = new Properties();
        Session session = Session.getDefaultInstance(props, null);
    Message msg = new MimeMessage(session);
    msg.setSubject(emailSubjectTxt);
    msg.setFrom(new InternetAddress(emailFromAddress));
    msg.setRecipient(
        Message.RecipientType.TO, 
        new InternetAddress("vik.ceo@gmail.com"));

    MimeMultipart mp = new MimeMultipart();
    BodyPart part = new MimeBodyPart();
    part.setContent(emailMsgTxt, "text/html");
    mp.addBodyPart(part);
    msg.setContent(mp);
    MimeBodyPart attachment = new MimeBodyPart();
    attachment.setFileName("SupportBySkill.pdf");
    BufferedInputStream bis = new BufferedInputStream(
            SendMail.class.getResourceAsStream("SupportBySkill.pdf"));

    attachment.setContent(bis, "application/pdf");
    mp.addBodyPart(attachment);

      // Capture the raw message
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    msg.writeTo(out);

    RawMessage rm = new RawMessage();
    rm.setData(ByteBuffer.wrap(out.toString().getBytes()));

    ClientConfiguration cc = new ClientConfiguration();
    cc.setHttpClientFactory(new HttpClientFactory() {
        public HttpClient createHttpClient(ClientConfiguration config) {
            return new DefaultHttpClient(new GAEConnectionManager(),
                    new BasicHttpParams());
        }
    });

    // Set AWS access credentials
    AmazonSimpleEmailServiceClient client = new AmazonSimpleEmailServiceClient(
            new BasicAWSCredentials("XXXXXX",
                    "XXXXXX"), cc);

    // Call Amazon SES to send the message
    try {
        client.sendRawEmail(new SendRawEmailRequest().withRawMessage(rm));
    } catch (AmazonClientException e) {
        System.out.println(e.getMessage());
    } catch (Exception e) {
        e.printStackTrace();
    }

}catch(Exception e){e.printStackTrace();
log.severe("Could not send email. with error" + e.getMessage());
} 
```

但是在谷歌应用引擎上，此代码失败并出现错误：无法发送电子邮件。MIME 类型应用程序/pdf 的错误无对象 DCH

请告知可能是什么问题。此调试错误出现在以下行

```
 msg.writeTo(out); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:18:40.697

尝试使用适用于 GAE 的[修补过的 Amazon SES 库。](https://github.com/radomirml/aws-sdk-for-gaej)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-07T10:37:33.740

Amazon SES 具有有限的允许文件类型列表，附加文件名后缀和 MIME 类型必须匹配。有关允许的 MIME 类型列表，请参阅[http://docs.amazonwebservices.com/ses/latest/DeveloperGuide/MIMETypes.html](http://docs.amazonwebservices.com/ses/latest/DeveloperGuide/MIMETypes.html)。

我记得我很难使附件与 SES 一起工作 - 在某些情况下，MIME 类型在此过程中丢失（未出现在生成的原始电子邮件正文中），这可能是由于一些 JavaMail 错误。

无论如何，这是对我有用的片段：

```
byte[] bytes = getMyFileBytes();
DataSource ds = new ByteArrayDataSource(bytes, getMyMimeType());
MimeBodyPart attachment = new MimeBodyPart();
attachment.setDataHandler(new DataHandler(ds));
attachment.setHeader("Content-Type", getMyMimeType()); 
attachment.setFileName(getMyFilename());
multipart.addBodyPart(attachment); 
```

# android - listview 不在 RelativeLayout 内滚动

> ID：11823106
> 
> 赞同：2
> 
> 时间：2012-08-06T05:52:14.047
> 
> 标签：android, listview, android-listview, android-relativelayout, scrollbars

实际上有两个带有滚动条的列表视图，其中一个列表视图没有滚动它。下面是**main.xml的代码**

*   代码

```
<TableLayout
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" >

    <TableRow
        android:id="@+id/tableRow1"
        android:layout_width="fill_parent"
        android:layout_height="230dp" >
        <LinearLayout
            android:id="@+id/Container"
            android:layout_width="230dp"
            android:layout_height="230dp"
            android:layout_marginLeft="50dp"
            android:orientation="horizontal" >

            <ImageView
                android:id="@+id/ImageView01"
                android:layout_width="100dp"
                android:layout_height="100dp"
                android:layout_marginTop="50dp"
                android:src="@drawable/sky2_bgr" >
            </ImageView>
            <ImageView
                android:id="@+id/ImageView02"
                android:layout_width="100dp"
                android:layout_height="100dp"
                android:layout_marginTop="50dp"
                android:src="@drawable/sky_2bgr" >
            </ImageView>
            <ImageView
                android:id="@+id/ImageView03"
                android:layout_width="100dp"
                android:layout_height="100dp"
                android:layout_marginTop="50dp"
                android:src="@drawable/sky_3bgr" >
            </ImageView>
        </LinearLayout>
    </TableRow>
</TableLayout>

<TableRow
    android:id="@+id/tableRow2"
    android:layout_width="fill_parent"
    android:layout_height="230dp"
    android:layout_marginTop="10dp" >

    <RelativeLayout
        android:id="@+id/rel"
        android:layout_width="140dp"
        android:layout_height="230dp"
        android:layout_marginLeft="5dp"
        android:orientation="horizontal"
        align_parentTop="true"  >
        <TextView
            android:id="@+id/activity1_name"
            android:layout_width="75dp"
            android:layout_height="30dp"
            android:text="Friends Activity"
            android:textSize="10dip"
            android:textStyle="bold" />
        <ListView
            android:id="@+id/contentlist"
            android:layout_width="fill_parent"
            android:layout_height="230dp"
            android:layout_below="@+id/activity1_name"
            android:layout_weight="1"
            android:scrollbars="vertical"
            android:textSize="10dip" >
        </ListView>
    </RelativeLayout>

    <RelativeLayout
        android:layout_width="150dp"
        android:layout_height="300dp"
        android:layout_marginLeft="5dp"
        android:orientation="horizontal">
        <TextView
            android:id="@+id/activity2_name"
            android:layout_width="75dip"
            android:layout_height="30dip"
            android:text="News Feed"
            android:textSize="10dip"
            android:textStyle="bold" >
        </TextView>
        <ListView
            android:id="@+id/newslist"
            android:layout_width="fill_parent"
            android:layout_height="280dp"
            android:layout_below="@+id/activity2_name"
            android:layout_weight="1"
            android:scrollbars="vertical"
            android:textSize="10dip">
        </ListView>
    </RelativeLayout>
</TableRow> 
```

*   图片

![在此处输入图像描述](../Images/809d2bd3cec1713d0b2677ae44c18188.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T07:11:04.860

```
<TableRow
    android:id="@+id/tableRow2"
    android:layout_width="fill_parent"
    android:layout_height="230dp"
    android:layout_marginTop="10dp" >

<ScrollView 
        android:layout_width="fill_parent" 
        android:layout_height="fill_parent" 
        android:overScrollMode="always" 
        android:isScrollContainer="true" 
        android:scrollbarAlwaysDrawVerticalTrack="true" 
        android:scrollbarStyle="outsideInset" 
        android:scrollbars="vertical">

    <RelativeLayout
        android:id="@+id/rel"
        android:layout_width="140dp"
        android:layout_height="230dp"
        android:layout_marginLeft="5dp"
        android:orientation="horizontal"
        android:layout_alignParentTop="true"  >
        <TextView
            android:id="@+id/activity1_name"
            android:layout_width="75dp"
            android:layout_height="30dp"
            android:text="Friends Activity"
            android:textSize="10dip"
            android:textStyle="bold" />
        <ListView
            android:id="@+id/contentlist"
            android:layout_width="fill_parent"
            android:layout_height="230dp"
            android:layout_below="@+id/activity1_name"
            android:layout_weight="1"
            android:scrollbars="vertical"
            android:textSize="10dip" >
        </ListView>
    </RelativeLayout>
</ScrollView>

<ScrollView 
        android:layout_width="fill_parent" 
        android:layout_height="fill_parent" 
        android:overScrollMode="always" 
        android:isScrollContainer="true" 
        android:scrollbarAlwaysDrawVerticalTrack="true" 
        android:scrollbarStyle="outsideInset" 
        android:scrollbars="vertical">

    <RelativeLayout
        android:layout_width="150dp"
        android:layout_height="300dp"
        android:layout_marginLeft="5dp"
        android:orientation="horizontal">
        <TextView
            android:id="@+id/activity2_name"
            android:layout_width="75dip"
            android:layout_height="30dip"
            android:text="News Feed"
            android:textSize="10dip"
            android:textStyle="bold" >
        </TextView>
        <ListView
            android:id="@+id/newslist"
            android:layout_width="fill_parent"
            android:layout_height="280dp"
            android:layout_below="@+id/activity2_name"
            android:layout_weight="1"
            android:scrollbars="vertical"
            android:textSize="10dip">
        </ListView>
    </RelativeLayout>
</ScrollView>
</TableRow> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T06:15:17.123

我想你`android:scrollbars="horizontal"`在你的第二个`ListView`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T06:58:11.743

> 我认为应该首先定义 Scrollview ...尝试一下

```
<ScrollView
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:scrollbars="none"
    android:layout_weight="1">
    <LinearLayout
      android:layout_width="fill_parent"
      android:layout_height="fill_parent"
      android:orientation="vertical"> 
```

# selenium - Selenium 2 - 检查错误消息

> ID：11823113
> 
> 赞同：0
> 
> 时间：2012-08-06T05:52:29.267
> 
> 标签：selenium

我想检查错误消息。这些错误消息仅在我的网站遇到问题时出现。

我的问题是我使用`findElement`它来检查错误消息。因此，当出现问题时，Selenium 会找到它，并且一切正常

但是当它没有（意思是 - 我的网站没有问题）时 - 然后 Selenium 表示它没有找到该元素，并引发异常。

任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T10:11:01.007

您可以将 findElement 包含在 try-catch 块中，如果未找到该元素，它将不执行任何操作。例如

```
 private boolean isElementPresent(By by) {
                    try {
                        driver.findElement(by);
                        return true;
                    } catch (NoSuchElementException e) {
                        return false;
                        //or do nothing
                    }
                } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-09T11:42:24.977

1.为此，您应该以这样一种方式设计您的测试用例，即只有当您确定会收到错误消息时，您才编写代码来检查错误消息。

2.但重点是，当您知道不会有问题并且代码可以正常运行时，为什么还要检查错误消息。

3.如果你不知道会发生错误..你可以将有风险的代码放在try块中并编写一个catch块来查找错误消息并检查它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T13:13:55.857

看看答案[Selenium Webdriver NoSuchElementException](https://sqa.stackexchange.com/questions/2897/problem-catching-selenium-webdriver-nosuchelementexception)

它建议以下内容（我已根据您的需要对其进行了一些调整）：

```
List<WebElement> errorElements = driver.findElements(By.id("ERROR_ID"));
if (!errorElements.empty()) {
   // Tests your errors
} 
```

# perl - 我的最后一个循环去哪儿了？

> ID：11823114
> 
> 赞同：3
> 
> 时间：2012-08-06T05:52:31.273
> 
> 标签：perl

在更新一些遗留 Perl 代码的过程中，我遇到了 C 样式`for`循环过早终止的情况。

## 问题

可以按如下方式重新创建这种情况（我在 Linux 和 Windows 上的结果相同）：

```
$ perl
for($i = 0.8; $i <= 2.5; $i+=0.1){
    print $i, "\n";
}
__END__
0.8
0.9
1
1.1
1.2
1.3
1.4
1.5
1.6
1.7
1.8
1.9
2
2.1
2.2
2.3
2.4 
```

2.5 明显不存在；它应该已经通过了`$i <= 2.5`条件。

* * *

## 修复

意识到这可能是由于浮点表示，如 中所述[`perldoc perlfaq4`](http://perldoc.perl.org/perlfaq4.html#Why-am-I-getting-long-decimals-(eg%2c-19.9499999999999)-instead-of-the-numbers-I-should-be-getting-(eg%2c-19.95)%3f)，我更新了条件：

```
$ perl
for($i = 0.8; sprintf( '%.1f', $i ) <= 2.5; $i += 0.1 ) {
    print $i, "\n";
}
__END__
0.8
0.9
1
1.1
1.2
1.3
1.4
1.5
1.6
1.7
1.8
1.9
2
2.1
2.2
2.3
2.4
2.5      <--- Gotcha ! 
```

服务恢复了（或者我是这么认为的）。

* * *

## 验证

我想证明 final`$i`确实大于 2.5，所以我将增量包装在一个[`do`](http://perldoc.perl.org/functions/do.html)循环中：

```
$ perl
for($i = 0.8;  $i <= 2.5; do { $i += 0.1; print $i, "\n"; } ) {}
__END__
0.9
1
1.1
1.2
1.3
1.4
1.5
1.6
1.7
1.8
1.9
2
2.1
2.2
2.3
2.4
2.5      <--- Surprise! 
```

测试结果似乎表明浮点表示不是这里的问题。

这里发生了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-06T06:16:32.800

您很惊讶大于 2.5 的值打印为`2.5`? 不要惊讶，这是正常的浮点数。普通打印不会显示所有数字。试试这个：

```
printf "%.66g\n", $i 
```

代替你的`print`陈述。在我的机器上打印的最终值是`2.5000000000000013`. 你的可能会很相似。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T05:58:52.730

可能是float的原因，不只是2.5，可以这样使用：

```
for ($i = 0.8; $i < 2.6; $i += 0.1) { 
```

或者你可以看到：

```
for ($i = 0.8; $i <= 2.5; $i += 0.1) {
    print $i, "\n";
}
print $i, "\n";
print $i <= 2.5 ? 'TRUE' : 'FALSE'; 
```

输出：

```
0.8
0.9
1
1.1
1.2
1.3
1.4
1.5
1.6
1.7
1.8
1.9
2
2.1
2.2
2.3
2.4
2.5
FALSE 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T05:59:05.823

i 的值在不同的时间增加。请注意，上次运行的第一个值是 0.9，而不是 0.8。

第一个问题是浮点数，尝试在条件中使用 2.5001。尝试使用 8 到 25 乘 1 的整数，<= 可以正常工作。

```
for($i = 8; $i <= 25; $i += 1 ) {
    print $i/10, "\n";
} 
```

或者

```
 print $_/10, "\n" for 8..25; 
```

或者

```
my $epsilon = .00000001;

for(my $i = 0.8; ($i - 2.5) <= $epsilon; $i += .1 ) {
    print $i, $/;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-06T06:19:30.700

计算机使用*二进制*存储，而不是*十进制*！如果将十进制数 0.1 存储为二进制浮点数，它将产生一个无穷大的数字 ob 二进制数：

dezimal 0.1 = 二进制 0.000110011001100110011001100110011...

所以如果你不使用整数，你会得到舍入错误。dezimal 值 0.1 可能存储为数字 0.0001100110011001101，这是 dezimal 0.100006104

添加 25 乘以 0.100006104 得到 2.50015259，这大于 2.5，因此最后一个值超出范围。

# php - 寻找不同的月份

> ID：11823120
> 
> 赞同：0
> 
> 时间：2012-08-06T05:53:19.993
> 
> 标签：php, mysql

我制作了一个页面，显示来自数据库的记录，每页使用分页概念，每页 10 条记录，

我想打印喜欢：`Month name/Year`。

那个月和年是分页表示的 10 条记录。

假设第 10 页包含 10 条记录，其中 3 个不同的月份名为`Dec 2011`,`Jan 2012` 和, `March 2012`,

在这种情况下，我想打印 Month: Dec/2011 ,Jan,March/2012

提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:07:17.100

如果您的日期像您写的那样存储：2011 年 12 月，2012 年 1 月，那么您应该这样做

```
$arr = array();

$sql = mysql_query(__YOUR_SQL__);
while($row = mysql_fetch_array($sql)) {
    $date = explode(" ", $row['date']);
    if(!array_key_exists($date[1], $arr))
        $arr[$date[1]] = array();
    array_push($arr[$date[1]], $date[0]);
}

foreach($arr as $key => $value) {
    if(count($value) == 1)
        echo $value[0] . '/' . $key;
    else
        echo implode(", ", $value) . ' ' . $key;
} 
```

# jquery - 当我们使用 tr:odd 时如何在 tr 中提供悬停效果

> ID：11823121
> 
> 赞同：1
> 
> 时间：2012-08-06T05:53:18.953
> 
> 标签：jquery, html

我正在使用 tr:odd 选择器给 table>tr 奇数颜色，我也想要 tr 悬停效果，它在正常 tr 中工作正常但该颜色不会出现在 tr:odd

你会在这里得到代码：http: [//jsfiddle.net/MygAx/](http://jsfiddle.net/MygAx/)

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T05:57:33.637

这是因为您通过脚本设置的 css 被认为是内联的，其优先级高于外部 css 文件设置的 css。

您可以这样做来解决问题：

**脚本**

```
$(document).ready(function(){
  $("tr:odd").addClass("odd")
}); 
```

**CSS**

```
tr.odd{background-color: #eee}
tr:hover{ background:#ccc} 
```

请记住，css 中的顺序很重要。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T06:02:56.923

解决方案是不要为此使用 jQuery。

相反，您应该使用标准的 CSS 选择器`nth-of-type`来实现这一点。

`:hover`然后，您可以使用已有的选择器轻松覆盖它。

```
tr:nth-of-type(2n) {background:#eee;}
tr:hover{ background:#ccc}​ 
```

使用这个 CSS 并移除 JS，您现有的 JSFiddle 代码可以完全按照您的意愿工作。

您甚至可以将它们组合起来，以便奇数行获得与偶数行不同的悬停颜色。

您遇到的唯一问题是旧版本的 IE，它不支持`nth-of-type`，但是有一些黑客可以解决这个问题。( [IE9.js](http://code.google.com/p/ie7-js/)或[Selectivizr](http://selectivizr.com/) )

它不适用于 jQuery 版本的原因是，当 jQuery 设置其 CSS 时，浏览器将其视为内联在 HTML 代码中，因此比纯 CSS 代码具有更高的优先级。

希望有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T06:14:13.463

看看实际发生了什么首先应用悬停事件并重新分配其他 CSS（它不是第二类所以）元素将被替换为第二个 CSS

[http://jsfiddle.net/MygAx/7/](http://jsfiddle.net/MygAx/7/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T05:56:49.537

您可以使用`!important`：

```
tr:hover{ background:#ccc !important} 
```

[演示](http://jsfiddle.net/MygAx/2/)

`css()`方法为元素添加样式属性，样式属性中的属性会覆盖其他属性，为了避免使用`!important`可以使用类来代替：

```
$(document).ready(function(){
  $("tr:odd").addClass('grey')
}); 
```

[演示](http://jsfiddle.net/MygAx/6/)

# c++ - 如何在 C++ 中搜索正则表达式？

> ID：11823124
> 
> 赞同：0
> 
> 时间：2012-08-06T05:53:57.823
> 
> 标签：c++, boost, boost-regex

我正在研究 C++，

我需要在给定的字符串中搜索给定的正则表达式。请为我提供指导。我尝试使用 boost::regex 库。

以下是正则表达式： 要搜索的正则表达式：`"get*"`

上面的表达式我必须在以下不同的字符串中搜索：例如

```
1\.    "com::sun::star:getMethodName"
2\.    "com:sun:star::SetStatus"
3\.    "com::sun::star::getMessage" 
```

所以我在上面的情况下，我应该为第一个字符串为真，第二个为假，第三个为真。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T06:00:37.643

```
boost::regex re("get.+"); 
```

例子。

```
#include <iostream>
#include <string>
#include <boost/regex.hpp>
#include <vector>
#include <algorithm>

int main()
{
   std::vector<std::string> vec = 
   {
      "com::sun::star:getMethodName",
      "com:sun:star::SetStatus",
      "com::sun::star::getMessage"
   };
   boost::regex re("get.+");
   std::for_each(vec.begin(), vec.end(), [&re](const std::string& s)
   {
      boost::smatch match;
      if (boost::regex_search(s, match, re))
      {
         std::cout << "Matched" << std::endl;
         std::cout << match << std::endl;
      }
   });
} 
```

[http://liveworkspace.org/code/7d47ad340c497f7107f0890b62ffa609](http://liveworkspace.org/code/7d47ad340c497f7107f0890b62ffa609)

# sharepoint-2010 - 根 Web 中预配的 XlstViewWebPart 给我删除时列表不存在

> ID：11823127
> 
> 赞同：0
> 
> 时间：2012-08-06T05:54:11.763
> 
> 标签：sharepoint-2010

考虑以下：

我有一个管理子站点，其中包含所有列表和文档库，我使用 XlstViewWebPart 以编程方式在根 Web 中提供大部分文档库，当我尝试选择一个项目并使用功能区上的删除按钮将其删除时，我得到：

***服务器遇到以下错误：列表不存在。您选择的页面包含一个不存在的列表。它可能已被其他用户删除。***

但是如果从项目弹出菜单中删除项目，它工作正常并被删除！！！！

平台：SharePoint Server 2010 SP1、VS 2010、CU 2012 年 6 月

提前致谢

=========================================

# 更新（我的代码来配置 Web 部件）

```
 Dim _web As SPWeb = SPContext.Current.Site.RootWeb

        Try
            'Get refrence to publishing web
            Dim _pubWeb As PublishingWeb = PublishingWeb.GetPublishingWeb(_web)
            Dim WPM As Microsoft.SharePoint.WebPartPages.SPLimitedWebPartManager

            If _pubWeb IsNot Nothing Then
                'Loop each publishing page in the web
                'Check out the file
                'If the current page have CustomWebPart (It is an Custom System Page), Then
                'If XsltListViewWebPart is not provisiond (double check in case of click the button more than one time), then
                'Create an XsltListViewWebPart
                'Assign properties of the new XsltListViewWebPart with Document Lib. Name and Admin web
                'Add the new XsltListViewWebPart to the current page in the loop
                For Each curPage As PublishingPage In _pubWeb.GetPublishingPages()
                    If curPage.ListItem.File.RequiresCheckout AndAlso curPage.ListItem.File.CheckOutType = SPFile.SPCheckOutType.None Then curPage.CheckOut()

                    WPM = curPage.ListItem.File.GetLimitedWebPartManager(System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared)

                    Dim CustomWebPart As CustomWebPart = WPM.WebParts.OfType(Of CustomWebPart)().FirstOrDefault()

                    If CustomWebPart IsNot Nothing Then
                        If CustomWebPart.DocLibName.ToLower = Constants.List.MeetingSchedular.ListName.ToLower Then Continue For

                        Dim web As SPWeb = _web.Site.RootWeb.Webs(Constants.WebNames.AdminWeb) 'Get Admin Web
                        Dim LVWP As WebPartPages.XsltListViewWebPart = WPM.WebParts.OfType(Of WebPartPages.XsltListViewWebPart)().FirstOrDefault()

                        If LVWP Is Nothing Then
                            LVWP = New WebPartPages.XsltListViewWebPart

                            Dim lst As SPList = web.Lists(CustomWebPart.DocLibName)

                            With LVWP
                                .WebId = web.ID
                                .ViewGuid = lst.DefaultView.ID.ToString("B").ToUpper()
                                .ListName = lst.ID.ToString("B").ToUpper()
                                .ListId = lst.ID
                                .ListUrl = "/Admin/" + CustomWebPart.DocLibName
                                .TitleUrl = "/Admin/" + CustomWebPart.DocLibName
                                .ChromeType = System.Web.UI.WebControls.WebParts.PartChromeType.None
                                .AllowClose = False
                                .AllowEdit = True
                                .AllowMinimize = True
                                .AllowConnect = True
                            End With

                            _web.AllowUnsafeUpdates = True
                            WPM.AddWebPart(LVWP, "MainZone", 0)

                            curPage.Update()
                            _web.AllowUnsafeUpdates = False
                        End If

                        curPage.CheckIn("By cmdProvisionWebParts_Click")
                        curPage.ListItem.File.Publish("By cmdProvisionWebParts_Click")
                    End If
                Next
            End If
            RegisterNotification("Provision Web Parts Completed successfully")
        Catch ex As Exception
            SiteHelper.WriteErrors("Custom_Settings.ProvisioningRootWebParts", ex)
            RegisterNotification("Error: " + ex.Message)
        End Try 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T08:18:26.067

也许，发生错误是因为您的列表属于另一个站点（或子站点），而 SP 告诉您，它没有该列表。尝试在您的站点中创建列表并再次删除。如果它不起作用，请向我们展示您的 XlstViewWebPart 代码。

# php - 使用ob_start时如何在php中使用标头位置重定向？

> ID：11823130
> 
> 赞同：2
> 
> 时间：2012-08-06T05:54:48.793
> 
> 标签：php, header, location, ob-start

```
<?php

ob_start();

echo "<body><p>Hello "

if ($condition) {
   header( "Location: http://www.google.com/" );
   exit;
}

echo " World!</p></body>";
ob_end_flush();

?> 
```

什么时候`$condition`是真的我明白了：

```
<body>Hello 
```

我想要的是什么时候`$condition`是真的然后去谷歌！

我不知道发生了什么，你能解释一下或给我一个解决方案吗！？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T09:14:14.200

一切都应该工作，只需`;`在 echo " `<body><p>Hello`" 之后添加一个，你会没事的..

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T05:58:19.590

只需`ob_end_clean();`在标题调用之前添加。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T06:02:24.357

如果我是你，我会先开始可能出错的地方，然后再进行处理。

一个例子

```
$exit_condition_1 = some_value1;
$exit_condition_2 = some_value2;

if($exit_condition_1 == false){

     //Redirect
     //Exit

}

if(!$exit_condition_2){

     //Redirect
     //Exit

}

//start the buffer ob_start()

//show some HTML

//flash the buffer ob_end_clean()

there is no point of starting the buffer then if something goes wrong close it and redirect. Just do value testing at the begining then process the request.

An example: lets say that you want to view a product's info and you have a function that will do that

function view_product($product_id){

   if(!$product = getProductById($product_id)){

        //product does not exist, redirect
   }

   if(the user does not have enough access rights){

     //show a message maybe 
     //redirect
   }

   //everything is alright then show the product info

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-02-07T15:08:18.573

为了解决一个函数使用 ob_start() 并且`header("Location: http://www.example.com");`之后出现但错误“*已经发送...* ”的类似情况，我将`header(...`调用替换为

```
echo "<script> window.location.href = 'https://www.example.com' </script>" 
```

它在这种特殊情况下有效（无论如何，只需要一个页面重定向）。

# c - 选项卡控件上闪烁 - WIN32

> ID：11823131
> 
> 赞同：0
> 
> 时间：2012-08-06T05:54:49.777
> 
> 标签：c, winapi, tabs, flicker, double-buffering

我有一个 WIN32 应用程序。它的主窗口是`hwndMain`，它的一个子窗口是`hwndView`。上有一个选项卡控件`hwndTab`。`hwndView`

当我调整大小时`hwndMain`，`hwndView`调整大小等`hwndTab`。它闪烁一点，但不多。

我曾尝试使用`WS_EX_COMPOSITED`样式（ for `hwndView`or `hwndTab`），但它只是给了我空白窗口。我尝试使用`WS_EX_TRANSPARENT`它并解决了闪烁问题，但是当窗口大小调整为更大时，子项的更新速度非常慢，例如我看到黑色区域一秒钟，然后该区域被更新。

我已经`TreeView`通过使用`WS_CHIPCHILDREN`样式成功解决了闪烁问题。（见下文备注）。但是使用`WS_CHIPCHILDREN`stlye for`hwndView`并不能解决选项卡控件的闪烁问题。

`WM_ERASEBKGND`我也关注了`Not set hbrBackground`。

我想使用双缓冲区进行选项卡控制，但我找不到用于此目的的教程。我找到的所有教程都是：在`WM_PAINT`创建`CompatibleDC`和之后，在和......`CompatibleBitmap`中画出你想要的东西；`memdc`但我不想在`WM_PAINT`for中进行任何自定义绘图`hwndTab`。我只想让选项卡控件完成这项工作，但只显示最终结果。

有人可以告诉我一个小例子，如何双缓冲选项卡控件（如果您认为这将解决选项卡控件的闪烁问题），语言为`c`+ `winapi`，因为我不了解 C#、Net 等.

* * *

备注：对于我的 TreeView，它是 window 的子级`hwndContainer`。它被创建为：

```
win->hwndContainer = CreateWindowEx(
    WS_CLIPCHILDREN,
    _T("SUMATRA_PDF_TOCBOX"), NULL,
    WS_CHILD,
    0, 0, gGlobalPrefs.sidebarDx, 0,
    win->hwndPanel, NULL,
    ghinst, NULL); 
```

使用`WS_CLIPCHILDREN`修复闪烁，即使我不使用双缓冲。但是放在 `WS_CLIPCHILDREN`第一个参数位置就很奇怪了。如果我把它放在 WS_CHILD 之后，即

```
win->hwndContainer = CreateWindowEx(
    NULL,
    _T("SUMATRA_PDF_TOCBOX"), NULL,
    WS_CHILD | WS_CLIPCHILDREN,
    0, 0, gGlobalPrefs.sidebarDx, 0,
    win->hwndPanel, NULL,
    ghinst, NULL); 
```

，然后闪烁仍然发生。

所以我在创建时也尝试使用第一种方式`hwndView`，但它只是给出了空白的白色窗口。我真的对这些东西感到困惑。

`WS_EX_COMPOSITED`这是我使用时的空白窗口图片`hwndView`。我用的时候没有这个问题`hwndContainer`。

`hwndView`实际上有两个孩子：一个选项卡控件`hwndTab`和一个有自己的双缓冲区和绘图的孩子。我不确定这是否会导致使用`WS_EX_COMPOSITED`.

![在此处输入图像描述](../Images/38bad56f2e32cc45222ff095870104a3.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:39:37.293

您***正在***使用该`WS_EX_COMPOSITED`样式。当您`WS_CLIPCHIDREN`作为第一个参数传递给 时`CreateWindowEx`，它会将 的值解释`WS_CLIPCHILDREN`为*扩展*的窗口样式。由于 的值为，`WS_CLIPCHILDREN`与`0x02000000L`相同`WS_EX_COMPOSITED`，您刚刚创建了一个复合窗口。

根据文档，复合窗口使用双缓冲以自下而上的绘制顺序绘制其所有后代。

我不确定你说的是什么意思：

> 我曾尝试使用 WS_EX_COMPOSITED 样式（用于 hwndView 或 hwndTab），但它只是给了我空白窗口。

您必须发布重现此问题的代码。但是您倒数第二个代码片段*正在*生成一个复合窗口。

# jquery - 如何使这个简单的 json 在 jquery 中工作

> ID：11823136
> 
> 赞同：0
> 
> 时间：2012-08-06T05:55:44.640
> 
> 标签：jquery, json

我有一个带有 4 个输入的简单表单，我需要将占位符动态添加到其中。

我想我了解 json 的一般概念，但我不知道如何使这项工作。有人可以帮帮我吗？

```
var inputArray = [
    {"inputClass":"name","placeholder":"Your Name*"},
    {"inputClass":"phone","placeholder":"Your Phone*"},
    {"inputClass":"email","placeholder":"Your Email*"},
    {"inputClass":"message","placeholder":"Your Message*"}
];
$.each(inputArray, function(i, inputClass, placeholder) {
    $('form').find('input.'+inputArray[i].inputClass).attr("placeholder", inputArray[i].placeholder);
});​ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:10:08.923

您的代码没有任何问题，只是您的`.each(...)`回调签名有点错误。应该是`function(index,element) { ... }`。但是您的代码仍然有效。编写代码的更简洁的方法是：

```
var inputArray = [
    {"inputClass":"name","placeholder":"Your Name*"},
    {"inputClass":"phone","placeholder":"Your Phone*"},
    {"inputClass":"email","placeholder":"Your Email*"},
    {"inputClass":"message","placeholder":"Your Message*"}
];

$.each(inputArray, function(i, item) {
    $('form').find('input.'+item.inputClass).attr("placeholder", item.placeholder);
});​ 
```

工作小提琴：http: [//jsfiddle.net/RQAJA/](http://jsfiddle.net/RQAJA/)

# html - 使用 CSS3 的简单轮播

> ID：11823143
> 
> 赞同：1
> 
> 时间：2012-08-06T05:56:47.433
> 
> 标签：html, css

我正在尝试使用 CSS3 ( `transform`) 创建一个 3D 轮播。

但有个问题。

看看下面的图片：

![在此处输入图像描述](../Images/247d0496f1bf4abb15e7ad6522483ae6.png)

第一张图片是我当前代码的结果（它喜欢从内部看旋转木马，也有错误：P），但我想得到类似第二张图片的东西。（从外面看起来像一个旋转木马，并且没有错误！）

[这](http://jsfiddle.net/upEC6/1/)是我的代码。

**为此，我可以使用度数的负值；但如果我这样做，左右`div`s 的高度将大于 center `div`。像[这样](http://jsfiddle.net/upEC6/5/)。**

如何获得类似第二张图片的东西？我应该使用哪些 CSS 转换代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:04:30.503

您只需要反转透视角度；对于你需要的 a1 和你需要`rotateY(-20)`的 c1 `rotateY(20)`：

[http://jsfiddle.net/thundercracker/upEC6/4/](http://jsfiddle.net/thundercracker/upEC6/4/)

编辑：

看到你的评论；div 的高度会更大，因为 div 的边缘实际上离你更近。如果您希望 div 看起来是完全相同的高度，您需要将它们的初始高度降低几个像素，或者增加中心 div 的高度以“缩放”它，就像旋转 div 的边缘被“放大”一样'。当旋转角度反转时，您不会注意到高度差，因为它很小。

编辑：

此外 div 的远边缘比近边缘略小；如果您的 div 足够长，一个边缘将是屏幕的高度，然后另一个边缘将是一个小点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T06:26:54.117

这是您想要的工作**[演示](http://jsfiddle.net/uttara/upEC6/18/)**

**编辑：** 为了解决应用**负变换 rotate**的高度问题，您需要**沿 z 轴**进行**-ve 平移以及沿 X 轴**分别对左右元素进行 -ve 和 +ve 平移。

编辑：嗯，有很多教程解释了 css3 翻译的使用，我指的是其中之一

[http://www.w3schools.com/css3/css3_2dtransforms.asp](http://www.w3schools.com/css3/css3_2dtransforms.asp)

# android - WebView 阻止弹出窗口？

> ID：11823146
> 
> 赞同：3
> 
> 时间：2012-08-06T05:57:06.573
> 
> 标签：android, html, android-webview, popupwindow

我`WebView`用来浏览 pesopay.com 并且它工作正常，除非我按下提交按钮。使用谷歌浏览器等互联网浏览器会显示一个弹出窗口，它会确认您填写的信息。但是在我的 Android 中`WebView`，当我按下提交按钮时什么也没发生。我想是因为`WebView`没有启用显示弹出窗口。

谁能指出我出了什么问题？

这是我的活动：

```
public class PaymentActivity extends Activity {

String amount1;     
    @SuppressLint("SetJavaScriptEnabled")
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.payment);

         Bundle extras = getIntent().getExtras(); 
            if(extras !=null)
            {
                amount1 = extras.getString("amount1");

            }

        WebView web = (WebView) findViewById(R.id.web1);
        web.getSettings().setJavaScriptEnabled(true);
        web.loadUrl("javascript:window.onload = function(){setValue(\""+ amount1 +"\");};");
        web.loadUrl("file:///android_asset/www/index.html");   
    }    
} 
```

我的网页：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<script type="text/javascript"> 

    function setValue(amount1) {
        myValue = amount1;
        document.getElementById("amount").value = myValue;

    }
</script>
<script type="text/javascript">  
    function rand ( n )
    {
        document.getElementById("orderRefId").value =  ( Math.floor ( Math.random ( ) * n + 1 ) );
    }
</script>
</head>

<body onLoad="rand(200000)">
        <!-- 
            Note: https://www.pesopay.com/b2c2/eng/payment/payForm.jsp for live payment URL
                  https://test.pesopay.com/b2cDemo/eng/payment/payForm.jsp for test payment URL
        -->
        <form method="POST" name="frmPayment" action="https://test.pesopay.com/b2cDemo/eng/payment/payForm.jsp">
        <table>
        <tbody>
        <tr>
            <td>Order Reference No. (your reference number for every transaction that has transpired):</td> 
            <td><input type="text" id="orderRefId" name="orderRef" value="Test-001"/></td>
        </tr>   
        <tr>
            <td>Amount:</td>
            <td><input type="text" name="amount" id="amount" value=""/></td>

        </tr>
        <tr>
            <td>Currency Code - "608" for Philippine Peso, "840" for US Dollar:</td>
            <td><input type="text" name="currCode" value="608"/></td>
        </tr>   
        <tr>
            <td>Language:</td>
            <td><input type="text" name="lang" value="E"/></td>
        </tr>   
        <tr>
            <td>Merchant ID (the merchant identification number that was issued to you - merchant IDs between test account and live account are not the same):</td> 
            <td><input type="text" name="merchantId" value="18056869"/></td>
        </tr>
        <tr>    
            <td>Redirect to a URL upon failed transaction:</td>
            <td><input type="text" name="failUrl" value="http://www.yahoo.com?flag=failed"/></td>
        </tr>   
        <tr>
            <td>Redirect to a URL upon successful transaction:</td>
            <td><input type="text" name="successUrl" value="http://www.google.com?flag=success"/></td>
        </tr>
        <tr>
            <td>Redirect to a URL upon canceled transaction:</td>
            <td><input type="text" name="cancelUrl" value="http://www.altavista.com?flag=cancel"/></td>
        </tr>
        <tr>
            <td>Type of payment (normal sales or authorized i.e. hold payment):</td> 
            <td><input type="text" name="payType" value="N"/></td>
        </tr>
        <tr>    
            <td>Payment Method - Change to "ALL" for all the activated payment methods in the account, Change to "BancNet" for BancNet debit card payments only, Change to "GCASH" for GCash mobile payments only, Change to "CC" for credit card payments only:</td>
            <td><input type="text" name="payMethod" value="ALL"/></td>
        </tr>
        <tr>    
            <td>Remark:</td>
            <td><input type="text" name="remark" value="Asiapay Test"/></td>
        </tr>
        <!--<tr>    
            <td>Redirect:</td>
            <td><input type="text" name="redirect" value="1"/></td>
        </tr>-->
        <tr>
            <td></td>
        </tr>   

        <input type="submit" value="Submit">

        </tbody>
        </table>    

        </form>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-06T06:21:29.667

如果我说对了，您需要使用**JavaScriptInterface** 从 Android 调用 JavaScript 函数。

检查此链接可能对您有所帮助：

[http://www.codeproject.com/Articles/392603/Android-addJavaScriptInterface](http://www.codeproject.com/Articles/392603/Android-addJavaScriptInterface)

或检查一些网络设置：http: [//developer.android.com/reference/android/webkit/WebSettings.html#setSupportMultipleWindows%28boolean](http://developer.android.com/reference/android/webkit/WebSettings.html#setSupportMultipleWindows%28boolean)

尝试将此代码放入 onCreate()

```
 webView.getSettings().setPluginsEnabled(true);
        webView.getSettings().setAllowFileAccess(true);
        webView.getSettings().setJavaScriptCanOpenWindowsAutomatically(true); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-02T06:12:54.330

Webview中负责对话框的函数是**[WebChromeClient](https://developer.android.com/reference/android/webkit/WebChromeClient.html#onJsAlert(android.webkit.WebView,%20java.lang.String,%20java.lang.String,%20android.webkit.JsResult))**的onJsAlert。

这是示例代码

```
 public class MyWebChromeClient extends WebChromeClient {
    @Override
    public boolean onJsAlert(WebView view, String url, String message, JsResult jsResult) {
        // you can create your own dialog here or just return true for no pop up. 
        return true;
    }
} 
```

并将其添加到您的网络视图中：

```
MyWebChromeClient myWebChromeClient = new MyWebChromeClient();
webView.setWebChromeClient(myWebChromeClient); 
```

# php - 核心php的URL路由方法

> ID：11823148
> 
> 赞同：0
> 
> 时间：2012-08-06T05:57:15.127
> 
> 标签：php, routing, url-routing, sef, clean-url

我在核心 php 中有网站，我想创建我的 SEF URL。在我的网站中，用于将控制权从一个页面转移到另一个页面，我使用了类似的东西

```
 header("Location: edit.php?id=12"); 
```

我读了一篇文章，但不知道如何实现它。

[文章链接](http://www.phpaddiction.com/tags/axial/url-routing-with-php-part-one/)

所以我怎样才能让 url 读起来像“mysite.com/usr/edit” 我在谷歌上读了很多我知道我需要在 .htaccess 中做一些事情但我不知道在 php 中需要做什么所以我不必更改站点中的主要代码。
提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-08-10T13:17:44.163

您可以使用下面给出的 .htaccess 代码来做到这一点：

```
RewriteEngine On

DirectoryIndex index.php

RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-l

RewriteRule ^(.+)$ index.php?url=$1 [QSA,L] 
```

使用上述代码创建 .htaccess 文件后。您将拥有文件名 ex 之后的所有内容。GET 参数 $GET['url'] 中的“/usr/edit”。之后你可以做任何事情。这是我的 MVC 框架的工作示例：[https ://bitbucket.org/ManthanB/my-framework/](https://bitbucket.org/ManthanB/my-framework/)

您可以与我联系以获取更多信息。

# mysql - MySQL MASTER MASTER 复制，在不停机的情况下添加新的 Master

> ID：11823149
> 
> 赞同：1
> 
> 时间：2012-08-06T05:57:16.563
> 
> 标签：mysql, database-replication

我在 2 个不同的节点中设置了 master-master mysql 复制。假设如果我要再添加一个节点，即 3rd master ，我是否需要在新服务器中拥有与 node-1 和 node-2 完全相同的数据库副本？

这些是高流量服务器，并且会持续每秒更新数据库，因此我们希望在不停机的情况下进行。有没有办法做到这一点，没有停机时间？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:25:09.207

MySQL 5.1.18，可以在多主复制中使用 MySQL Cluster，包括多个 MySQL Cluster 之间的循环复制。

详细解释在这里解释：http: [//dev.mysql.com/doc/refman/5.1/en/mysql-cluster-replication-multi-master.html](http://dev.mysql.com/doc/refman/5.1/en/mysql-cluster-replication-multi-master.html)

# java - 如何在多个浏览器中运行 Selenium 测试以使用 Java 进行跨浏览器测试？

> ID：11823150
> 
> 赞同：2
> 
> 时间：2012-08-06T05:57:22.913
> 
> 标签：java, internet-explorer, google-chrome, firefox, selenium-webdriver

我正在将 Selenium WebDriver 与 Java 和 TestNG 框架一起使用。我想一次在一个代码中使用 Firefox、IE、Chrome 进行跨浏览器测试。我只能将 Firefox 初始化为

```
driver = new FirefoxDriver(); 
```

但不能以同样的方式初始化其他浏览器。例如：

```
driver = new InternetExplorerDriver(); 
```

给出错误`InternetExplorerDriver cannot be resolved.`

```
driver = new ChromeDriver(); 
```

给出错误`ChromeDriver cannot be resolved.`

如何初始化 IE 和 Chrome 并在所有所需的浏览器中执行我的测试？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T06:35:52.710

对于 C#

添加

```
using OpenQA.Selenium.Chrome;
using OpenQA.Selenium.Firefox;
using OpenQA.Selenium.IE; 
```

创建一个包含浏览器名称的配置文件。实现与配置文件交互的方法

您可以使用以下代码来初始化浏览器：

```
string browser = GetConfigProperty("browser"); //Get browser name from the config
        switch (browser)
        {
            case "chrome":
                driver = new ChromeDriver();
                break;
            case "firefox":
                driver = new FirefoxDriver();
                break;
            case "InternetExplorer":
                driver = new InternetExplorerDriver();
                break;
        } 
```

祝你好运！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T09:08:22.383

创建具有以下内容的 testng.xml：

```
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd" >
<suite name="Regression Test" verbose="1">  
    <test name="Login_IE">
    <parameter name="browser" value="iexplore"/>
        <classes>
            <class name="com.gb.test.selenium.login.Login" />
        </classes>
    </test>
    <test name="Login_FF">
    <parameter name="browser" value="firefox"></parameter>
    <classes>
    <class name="com.gb.test.selenium.login.Login" />
    </classes>
    </test>
<test name="Login_Chrome">
    <parameter name="browser" value="chrome"></parameter>
    <classes>
    <class name="com.gb.test.selenium.login.Login" />
    </classes>
    </test>
</suite> 
```

现在编写您的 Java WebDriver 代码，如下所示：

```
@Parameters({"browser"})
  @BeforeClass
  public void setUp(String browser) {//throws MalformedURLException{
      if(browser.equalsIgnoreCase("iexplore")){
          File file = new File("E:\\IEDriverServer_Win32_2.29.1\\IEDriverServer.exe");
          System.setProperty("webdriver.ie.driver", file.getAbsolutePath());
          driver = new InternetExplorerDriver();

      }
      if(browser.equalsIgnoreCase("firefox")){
          driver = new FirefoxDriver();
      }
      if(browser.equalsIgnoreCase("chrome")){
          File file = new File("F:\\chromedriver_win_22_0_1203_0b\\chromedriver.exe");//v22
        System.setProperty("webdriver.chrome.driver", file.getAbsolutePath());
        driver = new ChromeDriver();
      }

      jse = (JavascriptExecutor) driver;
      driver.manage().window().maximize();
      driver.manage().timeouts().implicitlyWait(DEFAULT_IMPLICIT_WAIT_IN_SECONDS, TimeUnit.SECONDS);
          driver.get("URLOfSite");
  } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-28T11:55:36.877

对于 Ruby，如果您想在所有三个浏览器中一个接一个地运行您的单个代码，您可以执行以下操作：

```
def all_browsers
  browsers = [:firefox,:ie,:chrome].each do |br|
  $driver = Selenium::WebDriver.for br
  $driver.manage.window.maximize
  $driver.navigate.to("http://google.com")
end 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-07-05T20:29:48.070

对于 Java，由于发帖人的问题是要求 Java 答案，[我写了一个完整的多浏览器并行窗口示例](https://github.com/djangofan/WebDriverTestingTemplate/tree/master/parallelwebdriver)。

# matlab - 如何使这个 MATLAB 代码快速（m 文件脚本）？

> ID：11823157
> 
> 赞同：-4
> 
> 时间：2012-08-06T05:58:04.373
> 
> 标签：matlab, math

我想让下面的代码快速。运行需要很长时间，我收到此错误：

> 警告： FOR 循环索引太大。截断为 2147483647。

我需要计算超过 3^100 所以......这不可能吗？

```
function sodiv = divisorSum(n)
    sodiv = 0;
    for i=1:n
        if (mod(n,i) == 0)
            sodiv = sodiv + i;
        end
    end
end

function finalSum1 = formular1(N,n)
    finalSum1 = 0;
    for k = 1:N
       finalSum1 = finalSum1 + (divisorSum(k) * divisorSum(3^n*(N-k)));
    end
end

Nv=100;
nv=[1:20];

for i=1:length(nv)
    tic;
    nfunc1(i)=formular1(Nv,nv(i));
    nt1(i)=toc;
    sprintf('nt1 : %d finished, %f', i,nt1(i))
end 
```

这段代码的目的是检查算法的计算时间。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T06:32:56.603

对于这个特定问题，该算法过于笼统且效率低下。

我知道您想将 3^100 的除数相加。但是这些除数很容易确定。

S = 1 + 3 + 3^2 + 3^3 + ... + 3^100，一个几何级数。

3*S = 3 + 3^2 + ... + 3^101

减去

2*S = 3^101 - 1

S = (3^101 - 1)/2

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-06T06:40:26.937

这段代码永远不会完成，因为它效率很低。

例如，有一个函数可以计算所有除数的数量，并遍历从 1 到 N 的所有数字并进行计数。但是使用有效的公式会使它运行得更加熟练。

假设需要对数的除数求和，`a^b`其中`a`是素数。而不是计算 a^b 和 go form `1 to a^b`，可以看到它更好 go `a^1, a^2, a^3, ..., a^n`，因为只有这些数字是除数。但你可以更进一步，观察到这些数字[的总和是几何级数的总和，](http://en.wikipedia.org/wiki/Geometric_series)因此除数的数量变为：

和除数， `a^b = (a^(b+1)-1) / (a-1)`

# jquery - Internet Explorer、闭包编译器和尾随逗号

> ID：11823162
> 
> 赞同：5
> 
> 时间：2012-08-06T05:58:09.983
> 
> 标签：jquery, google-closure-compiler, google-closure, html5boilerplate, build-script

我正在使用 html5boilerplate 构建脚本并在缩小脚本时（使用 Google Closure Compiler）

我收到此错误

```
-js.all.minify:
     [echo] Minifying scripts
     [copy] Copying 3 files to /Users/Username/Desktop/Web/intermediate/js
    [apply] /Users/Juan/Desktop/Web/js/plugins.js:117: ERROR - Parse error. Internet Explorer has a non-standard intepretation of trailing commas. Arrays will have the wrong length and objects will not parse at all.
    [apply]                 }, { duration: 727 })
    [apply] 

             ^ 
```

但是如果运行未编译，代码确实可以在 IE 8 中运行。

这是代码

```
anim1.animate({
                    'left': '+=32px',
                    'filter': 'alpha(opacity=100)',
                    '-moz-opacity': '1',
                    '-khtml-opacity': '1',
                    'opacity': '1',
                }, { duration: 727 }) 
```

如何使此代码通过 Compulsure 编译器？

谢谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-06T06:03:49.550

从对象文字中删除多余的最后一个逗号：

```
anim1.animate({
    'left': '+=32px',
    'filter': 'alpha(opacity=100)',
    '-moz-opacity': '1',
    '-khtml-opacity': '1',
    'opacity': '1'      // <-- No comma here.
}, { duration: 727 });  // <-- I'd also suggest a semicolon there. 
```

正如 Closure 编译器所说，某些浏览器无法解析带有这种尾随逗号的文字。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-06T18:01:37.693

Or enable EcmaScript 5 mode. Ecmascript 5 does standardize the trailing comma behavior but IE8 does not fully support it ES5 (neither does IE9 which is missing strict mode).

# java - 使用 NetBeans GUI 构建器操作侦听器调用非静态方法

> ID：11823171
> 
> 赞同：0
> 
> 时间：2012-08-06T05:59:05.793
> 
> 标签：java, user-interface, netbeans, static, actionlistener

我对 Java 和编程很陌生，但我正在尝试边做边学。为了避免早期的麻烦，我使用了 NetBeans GUI builder 来制作带有按钮和标签等的基本表单。

我的问题是，当我在自动生成的 Action Listener 中为按钮调用某些方法时，我收到一条错误消息，告诉我如何无法从静态上下文调用非静态方法（ dispose() 方法）。虽然我在理论上理解静态和非静态之间的区别，但当我坐在键盘前时，我发现自己迷失了方向。我觉得我错过了一些重要的东西。

在我继续前进之前，我需要帮助来摆脱这个特定问题。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:16:34.227

好吧，您不能只调用`dispose()`，因为这是一个实例方法，您需要在您的`JFrame`或`JDialog`或任何窗口的实例上调用 dispose，如下所示：

```
frame1.dispose(): 
```

# fullcalendar - 完整日历未显示我的数据库中的事件

> ID：11823182
> 
> 赞同：0
> 
> 时间：2012-08-06T06:00:38.460
> 
> 标签：fullcalendar

我的数据库中的事件未显示在我的完整日历上。我使用了我在网上看到的示例中的代码，所以请耐心等待我现在拥有的代码。我将不胜感激从你们那里得到的所有帮助。谢谢！

```
<script>
                $(document).ready(function() {
                // page is now ready, initialize the calendar...

                $('#calendar').fullCalendar({
                    header: {
                        left: 'prev,next today',
                        center: 'title',
                        right: 'month,agendaWeek,agendaDay'
                    },editable: false,

                    events: "json_events.php",

                    eventDrop: function(event, delta) {
                            alert(event.title + ' was moved ' + delta + ' days\n' +
                            '(should probably update your database)');
                    },

                    loading: function(bool) {
                    if (bool) $('#loading').show();
                    else $('#loading').hide();
                }
                });
        });
   </script> 
```

**json_events.php**

```
<?php
    include 'connect.php';
    session_start();
    $result = mysql_query("SELECT ID, title, startDate AS startDate FROM events");
    mysql_close();
    $events = array();
    while ($row=mysql_fetch_array($result)){
       $title = $row['title'];
       $eventsArray['id'] =  $row['ID'];
       $eventsArray['title'] = $title;
       $eventsArray['startDate'] = $row['startDate']; 
       $events[] = $eventsArray;
     }
  echo json_encode($events);
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-02T15:56:05.193

```
<?php
    include 'connect.php';
    session_start();
    $result = mysql_query("SELECT ID, title, startDate AS startDate FROM events");
    mysql_close();
    $events = array();
    while ($row=mysql_fetch_array($result)){            
        $id =  $row['ID'];
        $title = $row['title'];
        $start = $row['startDate']; 

        $events = array(
        'id' =>  "$id",
        'title' => "$title",
        'start' => "$start"
        );

    }
    echo json_encode($events);
?> 
```

That should work for you. If you do not want the even to be all day just add 'allDay' => "" after the start statement.

# jquery - 如何在asp.net中的按钮单击事件上移动到另一个jquery ui选项卡？

> ID：11823183
> 
> 赞同：0
> 
> 时间：2012-08-06T06:00:45.207
> 
> 标签：jquery, asp.net, jquery-ui

任何人都可以帮助我了解如何在 asp.net 中按钮的单击事件中从一个 jquery ui 选项卡导航到另一个选项卡吗？在我的项目中，我有两个 jquery ui 选项卡合二为一，我需要根据 ex 执行一些数据库搜索：empName、DoB 等，当用户单击搜索按钮时，搜索结果应显示在放置的 gridview 中第二个选项卡但它不工作我知道如何使用和 html 按钮在 jquery ui 选项卡之间导航但是当我使用**asp 按钮**时它不工作我认为这是因为它有 runat="server"..... 我是完全困惑和堆栈在这方面的任何帮助都非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:39:14.107

你可以做的是：

假设您在 javascript 中有一段代码来打开第二个选项卡：

```
 $('div').tab2();   // dummy javascript code 
```

然后在按钮单击事件中，您可以执行以下操作：

```
 protected void Button_Click(object sender, EventArgs e)
 {

   // Code

    ScriptManager.RegisterStartupScript(page, typeof(Page), Guid.NewGuid().ToString(), "$('div').tab2();", true);

 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T06:52:14.143

<asp:Button ...> 自动将 javascript 代码附加到 click 事件，以导致[回](http://en.wikipedia.org/wiki/Postback)发覆盖您在代码中指定的更改选项卡行为。（根据您附加处理程序的方式，您实际上可能会注意到选项卡在年龄重新加载之前会瞬间闪烁）。

# 如果您需要回发

例如，您已经在服务器上处理了 DB 搜索并设置了 gridview 的 DataSource。您可以使用页面上的隐藏字段来存储启动时应该可见的选项卡，然后在单击事件中设置它。此示例假定您有两个名为 tab1 和 tab2 的选项卡。

```
<!-- In your .aspx file -->
<asp:HiddenField runat="server" ID="tabToShowOnLoad" Value="tab1" /> 
```

```
//In the js function which creates your tabs
$(document).ready(function() {
    $("#yourTabContainer").tabs();
    $("#yourTabContainer").tabs("select", $("#tabToShowOnLoad").val());
}); 
```

```
'In your code behind
Protected Sub Button1_Click(sender As Object, e As EventArgs) Handles Button1.Click
    'Code you use to run the db search

    tabToShowOnLoad.Value = "tab2"
End Sub 
```

# 如果您不需要回发

例如，您使用 ajax（使用 UpdatePanel 或类似工具）运行搜索和数据绑定。没有理由使用 <asp:Button ...>。只需切换到经典的 <input type="button"> 并避免头痛。

# android - 通话中播放音频文件，但对方听不到

> ID：11823190
> 
> 赞同：1
> 
> 时间：2012-08-06T06:02:01.703
> 
> 标签：android, android-audiomanager

我想在通话期间播放音频文件，我可以播放它，但是当我拨打电话时，它只能在我安装了应用程序的设备上播放文件。这是我播放音频文件的示例代码。

```
 public void play() {

    bufferSize = AudioTrack.getMinBufferSize(16000,
            AudioFormat.CHANNEL_CONFIGURATION_MONO, AudioFormat.ENCODING_PCM_16BIT);

    AudioTrack at = null;
    at = new AudioTrack(AudioManager.STREAM_VOICE_CALL,
            16000, AudioFormat.CHANNEL_CONFIGURATION_MONO,
            AudioFormat.ENCODING_PCM_16BIT, bufferSize, AudioTrack.MODE_STREAM);

    String filePath = Environment.getExternalStorageDirectory()
            .getAbsolutePath();
    String file = filePath + "/" + "myfile.wav";

            int i = 0;
    byte[] s = new byte[bufferSize];
    try {
        FileInputStream fin = new FileInputStream(file);
        BufferedInputStream bis = new BufferedInputStream(fin, 44000);
        DataInputStream dis = new DataInputStream(bis);

        at.play();

        while ((i = dis.read(s, 0, bufferSize)) > -1) {
            at.write(s, 0, i);

        }

        at.stop();
        at.release();
        dis.close();
        fin.close();

    } catch (FileNotFoundException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    } 
```

这段代码适用于我。但我希望这个文件能够被拨打电话的另一端人听到。我该怎么办？？？任何想法？？我知道 android API 不允许这样做..但是有人这样做吗？请只给出真实准确的答案，而不是假设。

# php - codeigniter 数据库错误号 1052

> ID：11823191
> 
> 赞同：0
> 
> 时间：2012-08-06T06:02:10.317
> 
> 标签：php, mysql, codeigniter, join, where-clause

这是确切的错误：

```
Error Number: 1052

Column 'id' in where clause is ambiguous

SELECT * FROM (`membership_personal`) JOIN `membership_account` ON `membership_account`.`memberid` = `membership_personal`.`id` JOIN `swapaccount` ON `swapaccount`.`memberid` = `membership_account`.`memberid` WHERE `id` = '5'

Filename: /home/phpgod/public_html/johnnyarias/ci_website/models/generalfeaturesmodel.php

Line Number: 57 
```

我知道这与连接的多个表中存在的 id 字段有关。所以我的问题是如何确保 where 子句中的 id 字段仅应用于 member_personal 表中的 id 字段？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T06:02:59.857

```
WHERE `member_personal `.`id` = '5' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T06:09:47.020

您收到错误的原因是该字段`id`存在于多个表中。所以MySql不可能决定`id`你指的是哪个表。

解决方案是指定表名和列名。前任：

```
`tablename`.`id` = '5' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T06:33:23.327

```
$this->db->where('member_personal.id',5); 
```

# assembly - 开始运行更多 MIPS 汇编程序？

> ID：11823193
> 
> 赞同：1
> 
> 时间：2012-08-06T06:02:27.180
> 
> 标签：assembly, mips

我想运行更多的 MIPS 汇编程序。我可以运行模拟器（MARS），也可以运行基本的汇编程序。现在我有例如这个程序要学习，这对于我目前的水平来说是可以的：

```
.data
prompt: .asciiz "\n Please Input a Value: "
bye: .asciiz "\n Bye!"
.globl main
.text

main:
   li $v0, 4
   la $a0, prompt
   syscall

   li $v0, 5
   syscall
   beqz $v0, end
   move $a0, $v0
   li $v0, 1
   syscall
   b main

end:
   li $v0, 4
   la $a0, bye
   syscall

   li $v0, 10
   syscall 
```

我有 2 本书讨论该理论，但它们更多的是关于电子设备以及 CPU 是如何构造的，而不是教你如何编写完整的程序（我遵循的书是[计算机组织和设计](https://rads.stackoverflow.com/amzn/click/com/0123747503)以及瑞典语的书[Datorsystem](http://www.bokia.se/datorsystem-4386605)，而这些书很好地描述了背景和个人指导，我需要更多的指针来完成我可以通过修改来学习的程序，一些类似的简单程序，具有基本的 i/o，就像上面的那个。由于书中的许多程序都做出了并非如此的假设现实的例如某个值已经在某个寄存器中。练习上面的程序真的很好，因为它是一个完整的程序。你能帮帮我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T23:15:55.820

这一切都假设你想成为一个称职的 MIPS 汇编程序员：

*   [请参阅 MIPS Run](https://rads.stackoverflow.com/amzn/click/com/0120884216)是关于 MIPS CPU 的规范书籍。本书解释了 MIPS 指令集、CPU 架构以及它们与 MIPS Linux 的关系。

*   获取一个 MIPS 交叉编译器工具链，就像免费的 [Mentor](http://www.mentor.com/embedded-software/sourcery-tools/sourcery-codebench/editions/lite-edition/) /CodeSourcery 工具链，用它来将你喜欢的 C/C++ 程序编译成 MIPS，并研究汇编器的输出。

*   [您可以从Timesys](http://www.timesys.com/supported/processors/mips)下载和研究 Linux 的 MIPS 端口。

*   [您可以在此处](http://www.mips.com/products/system-software/simulator/)找到免费且完整的 MIPS 模拟器（MARS 和 SPIM 对于除了家庭作业问题之外的任何事情都不够完整）。如果您想在廉价的真实硬件上运行 MIPS 程序，请从[OpenWrt](https://openwrt.org/)开始。

# html - 带侧边栏链接的居中内容布局突出显示到浏览器边缘

> ID：11823196
> 
> 赞同：0
> 
> 时间：2012-08-06T06:03:23.577
> 
> 标签：html, css, layout

我正在使用固定宽度、居中、2 列布局（侧边栏和内容），我的网站在侧边栏中的主导航。当用户将鼠标悬停在导航中的特定链接上或当前正在查看该特定页面时，我希望有一个悬停/突出显示的阶段，其中导航链接具有一直运行到浏览器边缘的背景颜色。

例如，我的布局的侧边栏宽度为 200px，位于左侧。我的内容栏宽 700 像素，位于侧边栏的右侧。我有一个“包装器” div，侧边栏和内容 div 都设置为 900px 宽，并以“margin：0 auto”为中心。如果用户将鼠标悬停在导航中的链接上，我希望该链接的背景颜色不仅位于链接后面，而且还继续到浏览器窗口的左边缘，无论用户有多宽浏览器窗口设置在。

此处的布局示例：http: [//i.imgur.com/QfY8b.gif](http://i.imgur.com/QfY8b.gif)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T21:19:01.337

所以只用 CSS 做你想做的事。基本上将每个**li**项目设置为具有较大的宽度。然后使用 text-align 将文本设置为向右对齐。设置填充（右）以确保文本没有亲吻侧面。最后使用 :hover 选择器使每个**li**单独亮起（通过设置新的 CSS 代码）。

请注意，#nav 是**ul**列表的 id。确保使导航菜单类似于以下内容：

HTML

```
<ul id='nav'>
    <li>Nav Link</li>
    <li>Navy Link</li>
    <li>Nav Links</li>
</ul> 
```

CSS

```
#nav{
    float:left;
}
#nav li{
    width:200px;
    height:2em;
    line-height:2em;
    padding:0px 40px 0px 0px;
    margin:5px 0px 5px 0px;
    text-align:right;
}
#nav li:hover{
    background-color:#000;
    color:#fff;
} 
```

编辑我忘了添加链接样式。基本上继承**li**的样式/大小。

```
#nav a{
    width:inherit;
    height:inherit;
    margin:0px;
    padding:0px;
} 
```

# css - div 高度和宽度 100% 遵循页面屏幕大小而不是内部元素大小

> ID：11823197
> 
> 赞同：0
> 
> 时间：2012-08-06T06:03:24.550
> 
> 标签：css, html, popup

我有

```
<div id=overlay>
    <div></div>
</div> 
```

外部 div 的高度和宽度设置为 100%。

这里发生的是，100% 是指内部元素（div 内部）的大小。

我在内部 div 上有一个动态变化的元素，我想成为我的外部 div 获得页面屏幕的大小。

请注意，这些 div（外部和内部）是一个弹出元素。所以我想覆盖弹出窗口后面的所有其他元素，这就是为什么我需要 100% 的页面后面。

这是我的外部 div 的 CSS

```
#overlay {
 visibility: hidden;
 position: absolute;
 left: 0px;
 top: 0px;
 width:100%;
 height:100%; 
 min-height: 100%;
 min-width: 100%;      
 height: auto !important;
 width: auto !important;       
 text-align:center;
 z-index: 1000; 
 background-image:url(template/popup-bg.png); 
} 
```

我的js

```
function overlay(e) 
{
el = document.getElementById("overlay");
el.style.visibility = (el.style.visibility == "visible") ? "hidden" : "visible";
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T06:14:26.873

只需将 HTML 更改为此

```
<div id='overlay' class='hideOverlay'>
    <div></div>
</div> 
```

现在单击只需更改类。把你的js改成这个

```
function overlay(e) 
{
    $('#overlay').attr('class', 'showOverlay');
} 
```

检查以下样式

```
.showOverlay
{
    background-color: red;
    height: 100%;
    left: 0;
    top: 0;
    opacity: 0.2;
    position: fixed;        
    width: 100%;
    z-index: 1001;
}

.hideOverlay
{
    display:none;
} 
```

背景颜色只是为了检查 div 的可见性。根据您的选择更改它。很高兴有一些`opacity`叠加层具有更好的外观和感觉效果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T06:07:53.320

尝试设置：

```
position: absolute; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T06:08:43.110

像这样的东西...

```
position: absolute;
top: 0;
right: 0;
bottom: 0;
left: 0; 
```

# java - Android：对话框触发 onResume

> ID：11823198
> 
> 赞同：0
> 
> 时间：2012-08-06T06:03:31.543
> 
> 标签：java, android

我在我的应用程序中遇到了奇怪的行为。

我有一个带有 ListView 的活动。当您单击 ListView 中的某个项目时，会显示一个 TimePickerDialog。

如果我在关闭对话框后点击主页按钮，然后重新加载应用程序，TimePickerDialog 会再次自动显示。

现在，我不知道为什么会发生这种行为。我在应用程序的不同点记录了消息，试图确定它是如何触发的，但无济于事。

我什至添加了这一行：

```
Log.d("TEST", "TEST"); 
```

在 TimePickerFragment 的构造函数中，它没有被解雇！然而对话框出现了！

这里发生了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:08:32.590

该活动将保存状态。因此它还将保存托管对话框的状态。当你回来时，它会恢复。由于它已经创建，因此不会调用构造函数。据我所知，如果您不让活动管理对话框，则不会发生此行为

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T06:18:40.593

感谢nandeesh的回答，我能够弄清楚如何解决这种行为。

由于我的对话框是托管的，我不得不在我的对话框实例上调用dismissAllowingStateLoss() 方法。

现在就像一个魅力。

# ruby - 了解排序方法和红宝石中的一般块

> ID：11823204
> 
> 赞同：1
> 
> 时间：2012-08-06T06:04:46.447
> 
> 标签：ruby

我只是想了解 Ruby 排序功能和块，我想出了以下代码：

```
a = [1,2,3]
a.sort do |x,y|
  x
end 
```

不会将返回`x`作为对两个元素进行排序的因素吗？我期望以下行为：

1.  `1,2`get 作为块参数传递，`1`返回。
2.  `2,3`get 作为块参数传递，`2`返回。
3.  `1,3`get 作为块参数传递，`3`返回。

那么考虑到返回值，排序后的数组是否仍然存在`[1,2,3]`？我在哪里弄错了？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-06T06:12:08.780

该块[需要返回](http://www.ruby-doc.org/core-1.9.3/Array.html#method-i-sort) `-1`、`0`或`1`。我不相信对传入值的顺序有任何保证。由于您没有使用返回值来履行合同，因此结果是未定义的。

实际上，我认为正在发生的事情是您总是返回一个正值，因此第二个（在数组中的后面）值总是向前移动。但同样，根据文档，这并不能保证。

这或多或少像您的描述：

```
a = [1,2,3]
a.sort do |x,y|
  x <=> y
end 
```

# java - 在 JAVA 类中注入 Grails 服务

> ID：11823206
> 
> 赞同：1
> 
> 时间：2012-08-06T06:04:54.323
> 
> 标签：java, spring, grails, groovy, dependency-injection

我在我的项目中使用 Grails 1.3.4。我面临的问题是我无法在我想要的 JAVA 类的服务文件夹下注入我在 Groovy 中编写的服务。我已按照提供的文档进行操作，但无法找到解决方案。谁能指出我可能出错的地方。

我的 JAVA 课程是

```
package com.sapienter.jbilling.server.payment;
@Transactional( propagation = Propagation.REQUIRED )
public class PSB implements IPSB {

private ISqlUtils sqlUtils;

public ISqlUtils getSqlUtils() {
    return sqlUtils;
}

public void setSqlUtils(ISqlUtils sqlUtils) {
    System.out.println("Configuring SQL Utils Service");
    LOG.debug("Configuring SQL Utils");
    this.sqlUtils = sqlUtils;
}
} 
```

我的 Grails 服务是

```
package jbilling

import com.sapienter.jbilling.server.util.ISqlUtils

class SqlService implements ISqlUtils {

static transactional = false

@Override
void updateInvoice(Integer invoiceID) {
    println "Does Come Here.."
}

def serviceMethod() {

}
} 
```

服务实现的接口是

```
package com.sapienter.jbilling.server.util;
public interface ISqlUtils {

public void updateInvoice(Integer invoiceID);
} 
```

我的 resources.xml 文件在下面..

```
<bean id="pSB" class="com.sapienter.jbilling.server.payment.PSB">
    <property name="sqlUtils" ref="sqlService" />
</bean> 
```

我不太了解 spring 及其服务。有人可以指出我的错误。

我关注的链接是

[Grails-Reference-Documentation](http://www.grails.org/doc/1.3.x/guide/8.%20The%20Service%20Layer.html#8.4%20Using%20Services%20from%20Java)以及 Stackoverflow 上的这个问题，它指向[这里的第一个文档](https://stackoverflow.com/questions/8221038/injecting-a-groovy-grails-service-into-a-java-class)

谢谢

# javascript - 获取从 javascript 添加的下拉列表项的选定值

> ID：11823208
> 
> 赞同：0
> 
> 时间：2012-08-06T06:05:04.153
> 
> 标签：javascript, asp.net, vb.net

嗨，我已经`asp:DropDownList`从 javascript 添加了一些项目。像这样

```
 if (document.getElementById("<%=gdview.ClientID %>")!=null)
    {
    var rows = document.getElementById("<%=gdview.ClientID %>").getElementsByTagName('tr');
    var cells = rows[1].getElementsByTagName('td');
  //alert(cells)
    i = 2;
    while (i < cells.length)
    {
        document.getElementById("<%=ddl_noofCols.ClientID %>").options[i] = new Option(i + 1, i);
        i++;
           }
    document.getElementById("<%=ddl_noofCols.ClientID %>").options[2].selected =true;
    alert(document.getElementById("<%=ddl_noofCols.ClientID %>").options[2].text);
    } 
```

这里gdview是gridview。没有将 gridview 的列添加到下拉列表默认`options[2]`选中。我不能使用`ddl_noofCols.SelectedValue`返回 null 的 get selecteditem/selectedvalue。

如何获得选定的值。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:20:42.997

你可能想要这样的东西：

```
var table = document.getElementById("<%=gdview.ClientID %>");
var select = document.getElementById("<%=ddl_noofCols.ClientID %>");
var cells;

if (table) {
    cells = table.rows[1].cells;

    for  (var i=2, iLen=cells.length; i<iLen; i++) {
        select.options[i] = new Option(i + 1, i);
    }
    select.options[2].selected = true;
    alert(select.options[2].text);

    // To get the current value of the select, 
    // use the value property:
    alert(select.value);
} 
```

当前选定选项的值可用作*select.value*。如果所选选项没有 value 属性或属性，则返回*text*属性的值，但在 IE 8 及更低版本中除外，您必须使用类似以下内容：

```
var value = select.value;

if (!value) {
    value = select.options[select.selectedIndex].text;
} 
```

# php - 基于动态生成信息的 jQuery UI 对话框

> ID：11823213
> 
> 赞同：0
> 
> 时间：2012-08-06T06:05:35.687
> 
> 标签：php, javascript, jquery

现在我有一个包含一些项目的表格，每个项目都有一个编辑图标。单击编辑图标时，项目的相应数据库 ID（其名称）通过 $.get() AJAX 方法发送到 process.php，它会生成一个包含该数据库项目的一些属性的 JQuery UI 对话框。

我单击的第一个项目会弹出正确的对话框，其中所有属性都填充在文本框中。但是，当我单击不同的项目时，会出现相同的对话框，其中包含第一个项目的信息。我单击的任何其他项在对话框中仍然具有第一项的信息。

我猜正在发生的是发送回 index.php、新 div 和 jquery 对话框调用的数据已经通过回显并附加到页面上——因此我得到了相同的第一个框和超过。我只是不知道如何解决它。

index.php 的一部分：

```
 $('#edit_link').live('click', function(e){
            var ID = $(this).attr('name');
            console.log(ID);
            $.get('process.php', {taskID: ID}, function(data){
                $('body').append(data);
            });
            e.preventDefault();
        }) 
```

...控制台成功记录了每个项目的 taskID，所以这不是问题。

进程.php：

```
if(isset($_GET['taskID'])){
    $taskID = $_GET['taskID'];
    $task = TaskDB::getTask($taskID);
    $duration = $task->getDuration();
    $description = $task->getDescription();
    $deadline = $task->getDeadline();
    echo '<script>$("#dialog").dialog({
                    height: 150,
                    width: 300,
                    modal: true,
                    buttons: {
                        "Save Task": function() {
                            $( this ).dialog( "close" );
                        },
                        Cancel: function() {
                            $( this ).dialog( "close" );
                        }
                    }
                });</script><div id="dialog" title="Edit Task" style="display:none;">
        <p>Deadline: <input type="text" style="margin-right:10px;" value="'.$deadline.'"/> Duration (hours): <input type="text" style="width:20px;" value="'.$duration.'"/></p>
        <p>Description: <input type="text" style="width: 200px;" value="'.$description.'"/></p>
    </div>';

} 
```

回声部分是我认为问题所在，因为如果单击另一个编辑，则不会清除先前的回显数据。

任何帮助将不胜感激。此外，我不完全确定我所做的是否是实现这一目标的最佳方式（让 PHP 生成如此多的 html/javascript），因此任何有关此的建议也将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T06:11:08.157

我认为您应该首先从正文中删除上一个对话框。试试这个：

```
$('#edit_link').live('click', function(e){
    var ID = $(this).attr('name');
    console.log(ID);
    $("#dialog").remove(); // Delete the previous dialog
    $.get('process.php', {taskID: ID}, function(data){
        $('body').append(data);
    });
    e.preventDefault();
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T06:11:11.043

听起来你必须在关闭对话框时使用 .destroy() 函数。此功能将重置您的对话框

```
$('.dialog').dialog({ 
    // your options

    close : function() { 
        $('.dialog').dialog("destroy"); 
    } 
}); 
```

# objective-c - 如何在objective-c中验证mac用户到windows活动目录？

> ID：11823217
> 
> 赞同：0
> 
> 时间：2012-08-06T06:06:21.027
> 
> 标签：objective-c, active-directory

这个要求是关于在 windows 活动目录中对 mac 用户进行身份验证。我是 Objective-c 的新手，我能够在 Objective-c 中找到用户名和密码，但身份验证部分仍然存在。谁能指导我，因为我搜索了很多但找不到它。请注意，此要求对于连接到 windows 活动目录的 mac 机器非常具体。请指导我。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-21T13:51:20.400

还有另一种验证用户的方法。我尝试为活动目录运行 ODBC 命令并且它有效。如果您知道其他方法，请添加您的想法。谢谢，Tausif。

# jquery - pushstate / ajax 网站上的正确文件结构

> ID：11823229
> 
> 赞同：0
> 
> 时间：2012-08-06T06:08:17.893
> 
> 标签：jquery, ajax, html, pushstate, popstate

我正在尝试将我的网站转换为具有 pushstate 和 popstate 控制位置的完整 html5 ajax 网站。

我目前的文件结构如下：

```
common/header.php
common/footer.php
index.php
page1.php
page2.php
page3.php
page4.php
page5.php 
```

好的，所以当前所有文件都包含“common”文件夹中的“header.php”和“footer.php”文件。

我的页眉和页脚文件的基本版本如下所示：

Header.php（包括 pushState/popState/ajax 脚本）：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<script>
$(function() {
    $('a').on('click', function(e) {
        var href = $(this).attr("href");
        loadContent(href);
        history.pushState({}, '', href);
        e.preventDefault();
    });
    $(window).on('popstate', function() {
        console.log("pathname: "+location.pathname);
        loadContent(location.pathname);
    });
});

function loadContent(url) {
    $('#wrapper').load(url);
}
</script>

<title>REZIINE</title>

</head>
<body>

<div id="wrapper-outer">
<div id="wrapper"> 
```

页脚.php：

```
</div>
</div>

</body>
</html> 
```

现在，如果我将页眉和页脚包含在所有文件中，那么当我使用新的 HTTP 请求导航到它们的任何 URL 时，页面工作正常，但是当我尝试使用锚链接导航时，一些 CSS 样式引用父div 而不是页面，它通常不能完美显示。

另一方面，如果我不在索引页面以外的页面中包含页眉和页脚文件，则它们在从索引页面开始导航到它们时加载正常，但是如果我尝试使用直接指向任何新的 HTTP 请求显示 index.php 文件以外的文件 URL，而不仅仅显示原始页面内容，因为不包括包含所有脚本和 css 文件的头文件。

我需要确切地知道应该如何构建这样的网站，以便如果我访问 mysiteurl.com 则索引页面加载正常，并且如果我使用新的 http 请求直接导航到另一个页面，例如 mysiteurl.com/page3 .php 加载也很好，所有导航都正常工作。

提前感谢任何为我安排的人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T06:47:10.433

将[jquery-pjax](https://github.com/defunkt/jquery-pjax)与[片段选项](https://github.com/defunkt/jquery-pjax#linkpjax-container-options-)一起使用。

您的脚本`header.php`将类似于

```
<script>
$(function() {
  $('a').pjax({
    container: "#wrapper",
    fragment: "#wrapper"
  });
});
</script> 
```

# java - 如何在 Netbeans 中设置环境变量？

> ID：11823233
> 
> 赞同：29
> 
> 时间：2012-08-06T06:08:34.620
> 
> 标签：java, spring-mvc, netbeans, maven-2

I am running maven based Spring project in netbeans . I am using an environment variable in my project configurations file to Open specific file based on that variable value . I am able to set it In Eclipse but do not know how to set in Netbeans . Can any one help me?

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2013-06-21T15:00:01.527

```
System.getEnv("FOO") == "FOOVALUE" 
```

网豆 6.7+ -

右键单击项目

*   -> 属性 -> 操作 -> 运行项目 -> 设置属性：添加

Env.FOO=FOOVALUE

注意：您可以将相同的技术应用于其他配置和其他操作，例如调试项目

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-09-11T18:23:00.827

我找不到使用 NetBeans 7.4 的 Properties->Actions 设置。我没有*明确*需要一个环境变量——只是一些我可以在我的应用程序之外设置的值。因此，相反，我能够在主应用程序的 nbproject 文件夹下的“project.properties”文件中进行更改。

在 project.properties 中有一个“run.args.extra”设置。您希望传递的任何命令行参数都必须在其“名称”前面加上“-J”。这是一个例子。

run.args.extra=-J-DFOO=FOOVALUE

请注意，这不是环境变量。相反，它是一个 System.getProperty("FOO") 可访问的值。特别注意：这也是使用 Xmx/Xms 更改应用程序分配多少内存的地方。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-01-18T12:06:36.867

在 macOS 上：

在`$HOME/.bashrc`添加别名：

`alias netbeans='/Applications/NetBeans/NetBeans\ X.Y.app/Contents/MacOS/netbeans &'`

在终端：

`> netbeans`

这将使用用户环境变量启动 IDE。

结果环境变量（例如`$PATH`）在 NetBeans IDE 和工具（例如 Ruby 调试器）中可用。

# concurrency - 加油站不是锁吗？关于下面的 erlang 文章以及为什么世界没有锁

> ID：11823235
> 
> 赞同：-1
> 
> 时间：2012-08-06T06:09:09.657
> 
> 标签：concurrency, erlang

在这篇文章中[，Erlang 有什么大惊小怪的？](http://pragprog.com/articles/erlang) 据说：

> “ 世界是并发的。它是平行的。事情在同一时间发生在所有地方。如果我不直观地理解并发的概念，我就无法在高速公路上开车；我们所做的就是纯粹的消息传递并发每时每刻。”

我不明白我认为这是不正确的，当我把车开进加油站时，我等待我前面的人在他使用（锁定）加油站时完成他的油箱加满油有人认为我说的是不正确的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T10:55:52.447

文章从来没有说“世界不需要锁”。文章说：“在 Erlang 中，鉴于没有共享状态，Erlang 程序不需要锁。” 锁是通过共享可变状态实现并发的一种方式。Erlang 通过传递消息而不是共享状态来实现并发。

加油站只是一个取油的地方。人们如何决定确保一次只有一个人使用它是另一回事。在共享状态语言中，您可能有一个加油站实例，当您想使用它时您会锁定它。在消息传递语言中，您可以向加油站进程发送消息“有人在使用您吗？” 加油站会回答是或否。无论哪种方式，您都可以实现相同的基本目标。

您可能想知道，“这对我来说听起来像是一把锁！” 重要的区别是，Erlang 中的每个状态都只有一个进程负责，但是任意数量的线程都可以影响具有可变锁定数据的状态。如果加油站状态被锁定语义破坏，你不知道是什么线程破坏了它。在 Erlang 中，您可以看到进入负责该数据的进程的每条消息，并查看哪些消息正在破坏它。这听起来像是一个无用的区别，但相信我，它使并发更容易处理。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T06:19:39.077

最简单的答案是，这只是一个类比。那个特定的段落实际上是关于为什么并发很重要，以及为什么它不像人们一开始想象的那样不直观，来自过程编程世界（见？我说的是“世界”，但我真正的意思是“背景”或“上下文” '很容易混合隐喻）。

无论如何，我不会对那句话读得太深，我不认为这意味着（也没有明确说）世界本身是无锁的，只是世界*是*并发的。这就是类比开始转向左边的地方。就像你我不共享状态（这是提到的），我们也不是一成不变的。你可以改变你的观点，改变你的衬衫等，而无需使用新衬衫创建新实体。正如本文其他地方所提到的，Erlang 通过使所有内容不可变来解决维护并发状态所固有的一些问题。我们通过在加油站礼貌地等待我们面前的人来解决问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T06:30:19.387

气体等只有在您不仔细检查时才是流体。如果你想用连续函数描述事物，你需要一个大样本。如果你看得太近，流体近似就会失效。反过来说，如果你缩小得足够远，你可以将（例如）谷物视为流体。

这些东西实际上是由具有量化的、确定性的行为的不可分割的单位组成的这一事实并不能阻止流体动力学方程在宏观层面上准确地描述它们。

它们是流体，还是不是？答案是“是的，它们是流体。或者不是，取决于。”

模型在某些条件下适用，在其他条件下不适用。未能理解这一点会导致相信银弹，并破灭希望。

# c# - asp.net 中的 JQuery 选项卡保持重新加载

> ID：11823236
> 
> 赞同：1
> 
> 时间：2012-08-06T06:09:15.103
> 
> 标签：c#, javascript, jquery, asp.net, tabs

我的页面上有一个 JQuery 选项卡，目前当我重新加载或运行一些服务器端代码时，该选项卡会回到第一个，有没有办法让这些选项卡保持不变？我希望我的标签保留在当前选定的标签上，而不是在页面重新加载时返回第一个标签

我的查询：

```
 $(function () {
           var tabContainers = $('div.tabs > div');
           $('div.tabs ul.tabNavigation a').click(function () {
               tabContainers.hide();
               tabContainers.filter(this.hash).show();
               $('div.tabs ul.tabNavigation a').removeClass('selected');
               $(this).addClass('selected');
               return false;
           }).filter(':first').click();

       }); 
```

我的标签：

```
<div class="tabs">
        <ul class="tabNavigation">
            <li><a href="#Annoucments">Annoucments</a></li>
            <li><a href="#Events">Events</a></li>
            <li><a href="#Photos">Photos</a></li>
            <li><a href="#JobOpportunities">Job Opportunities</a></li>
            <li><a href="#Contacts">Contacts</a></li>
            <li><a href="#Videos">Videos</a></li>
        </ul>
        <div id="Annoucments" class="ContentDIV">
      ..

        </div>
        <div id="Events" class="ContentDIV">

            ..
        </div>

        <div id="Photos" class="ContentDIV">
           ..

        </div>

        <div id="JobOpportunities" class="ContentDIV">
           ..
        </div>

        <div id="Contacts" class="ContentDIV">
           ...

        </div>

        <div id="Videos" class="ContentDIV">
           ..

        </div>

    </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:13:07.867

在您的页面 url 中放置一个 get 参数。所以你可以有 yourpage.aspx?page=1 例如。然后只需将该参数从查询字符串中拉出，然后在您的服务器端代码（最好）或直接在页面上的 jQuery 中应用“选择”类（不是一个很好的解决方案，但它也可以）到适当的选项卡。

编辑（代码示例）

```
$('#[formID]').onSubmit(function () {
    var tab = $('.selected').prop('href');
    // Append a hidden field to the form containing tab. Example below
    return true;
} 
```

...然后当您从服务器加载页面时，只需查看传递的值并将“选定”类应用于元素。

示例： [jQuery - 在提交时添加附加参数（不是 ajax）](https://stackoverflow.com/questions/2530635/jquery-add-additional-parameters-on-submit-not-ajax)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T06:13:25.007

您需要在某处保存用户状态：

1.  Url - 解析 url 并确定它是否是您的选项卡部分。
2.  Cookies - 写入 cookie 用户信息（例如选择的选项卡）。
3.  会话 - 与 cookie 相同。
4.  自定义隐藏字段或 asp.net ViewState。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T06:13:33.540

您可以尝试的一件事是保留一个隐藏字段，以维护当前选定选项卡的 href 值。这样，当有回发时，您可以从该隐藏字段中读取值并选择正确的选项卡。

# javascript - 如何使用 jquery 访问对象名称的值

> ID：11823237
> 
> 赞同：0
> 
> 时间：2012-08-06T06:09:25.287
> 
> 标签：javascript, jquery

我有对象，我想打印他们的名字和属性名称。我怎样才能做到这一点。我可以访问他们的属性值。就像我想要打印对象名称（例如“第一”和“第二”）以及它们的属性（例如“值”和“文本”）不想打印值

```
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Untitled Document</title>
    <script type="text/javascript" src="jquery-1.7.2.js"></script>
    <script type="text/javascript">
        $(function (){
            var myDate= {
                'first':{value:'30',text:'i am the one'},
                'second':{value:'50',text:'i am the second'}
            }

            $('a').click(function (){
                var t= $(this).text();
                if(t=="both"){
                    $('.text').text(myDate['first'] + '' + myDate['second'] );
                } else {
                    $('.text').text(myDate[t]);
                }
            });
        });
    </script>
</head>
<body>
    <div class="text"></div>
    <a href="#">first</a>&nbsp;&nbsp;<a href="#">second</a>
    <a href="#">both</a>​
</body> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T06:22:10.580

您可以使用标准的[JS for..in 循环](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/for...in)- 您不需要 jQuery，尽管它的[`$.each()`方法](http://api.jquery.com/jquery.each)也涵盖了您。无论哪种方式，您都可以访问属性名称及其相应的值。鉴于您有嵌套对象，您可能需要嵌套 for..in 或`$.each()`循环。

你根本不清楚你的输出应该是什么格式，但这里有一个简单的例子，至少显示了如何获得你需要的部分：

```
var output = "";
$.each(myDate, function(k, val) {
    // k is the property name, val is the property value
    output += k + ": ";
    $.each(val,function(k,val) {
        output += k + ": " + val + "; ";
    });
    output += "\n";
});
// do something with output 
```

这将产生一个字符串，`output`，看起来像这样：

```
first: value: 30; text: i am the one; 
second: value: 50; text: i am the second; 
```

...如本演示所示：http: [//jsfiddle.net/nnnnnn/WvBgD/](http://jsfiddle.net/nnnnnn/WvBgD/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T06:27:44.367

您可以简单地使用 for 循环来获取对象名称。

```
for(var x in myDate){
      console.log(x);
      if(typeof(myDate[x]) == "object") {
         for(var y in myDate[x]){
             console.log(">>"+y);
         }
      }
 } 
```

结果......

```
first
>>value
>>text
second
>>value
>>text 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T06:17:23.473

您可以在循环中使用 for：

```
 for(var x in myDate){
      console.log(myDate[x]['value']);//access value
      console.log(myDate[x]['text']);//access the text
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T06:20:56.890

**工作演示** [http://jsfiddle.net/msSwA/](http://jsfiddle.net/msSwA/) **或** [http://jsfiddle.net/msSwA/1/](http://jsfiddle.net/msSwA/1/)

好的链接：[如何在 JavaScript / jQuery 中获取对象的属性？](https://stackoverflow.com/questions/4079274/how-to-get-an-objects-properties-in-javascript-jquery)

希望能满足需求`:)`

`value = myDate['first'].value`或者`text = myDate['first'].text`

**代码**

```
$(function() {
    var myDate = {
        'first': {
            value: '30',
            text: 'i am the one'
        },
        'second': {
            value: '50',
            text: 'i am the second'
        }
    }

    $('a').click(function() {
        var t = $(this).text();
        if (t == "both") {
         $('.text').text(myDate['first'].value + ' == ' + myDate['second'].value)
        }
        else {

            $('.text').text(myDate[t].value);

        }
    })

})​ 
```

# python - 在 Python 中更改包安装顺序

> ID：11823240
> 
> 赞同：4
> 
> 时间：2012-08-06T06:09:53.103
> 
> 标签：python, django, heroku, dependencies, pip

有谁知道包安装顺序在 Python 中是否重要？更具体地说`requirements.txt`，我正在构建的 Django 网站的 pip 是：

```
Django==1.4
MySQL-python==1.2.3
django-evolution==0.6.7
django-pagination==1.0.7
boto==2.5.2
numpy==1.6.2
requests==0.13.1
simplejson==2.5.2
gunicorn==0.14.6 
```

部署到 Heroku 时，应用程序会崩溃并出现以下错误：

```
2012-08-05T09:26:56+00:00 app[web.1]: 2012-08-05 09:26:56 [12] [INFO] Worker exiting (pid: 12)
2012-08-05T09:26:56+00:00 app[web.1]: 2012-08-05 09:26:56 [8] [INFO] Worker exiting (pid: 8)
2012-08-05T09:26:56+00:00 app[web.1]: 2012-08-05 09:26:56 [4] [INFO] Handling signal: term
2012-08-05T09:26:56+00:00 app[web.1]: 2012-08-05 09:26:56 [7] [INFO] Worker exiting (pid: 7)
2012-08-05T09:26:56+00:00 app[web.1]: 2012-08-05 09:26:56 [4] [INFO] Starting gunicorn 0.14.6
2012-08-05T09:26:56+00:00 app[web.1]: 2012-08-05 09:26:56 [4] [INFO] Listening at: http://0.0.0.0:20132 (4)
2012-08-05T09:26:56+00:00 app[web.1]: 2012-08-05 09:26:56 [4] [INFO] Using worker: sync
2012-08-05T09:26:56+00:00 app[web.1]: 2012-08-05 09:26:56 [7] [INFO] Booting worker with pid: 7
2012-08-05T09:26:56+00:00 app[web.1]: 2012-08-05 09:26:56 [8] [INFO] Booting worker with pid: 8
2012-08-05T09:26:56+00:00 app[web.1]: 2012-08-05 09:26:56 [9] [INFO] Booting worker with pid: 9
2012-08-05T09:26:56+00:00 app[web.1]: 2012-08-05 09:26:56 [10] [INFO] Booting worker with pid: 10
2012-08-05T09:26:57+00:00 heroku[web.1]: State changed from starting to up
2012-08-05T09:26:57+00:00 heroku[web.1]: Process exited with status 143
2012-08-05T09:27:17+00:00 app[web.1]: Usage: gunicorn [options]
2012-08-05T09:27:17+00:00 app[web.1]: gunicorn: error: no such option: --workers
2012-08-05T09:27:17+00:00 app[web.1]: 
2012-08-05T09:27:17+00:00 app[web.1]: 2012-08-05 09:27:17 [9] [INFO] Worker exiting (pid: 9) 
```

我`Procfile`的地方如下：

```
web: python manage.py collectstatic --noinput; gunicorn commerical_production.wsgi:application --workers=4 --bind=0.0.0.0:$PORT 
```

只需将要求的顺序更改为：

```
Django==1.4
gunicorn==0.14.6
MySQL-python==1.2.3
django-evolution==0.6.7
django-pagination==1.0.7
boto==2.5.2
numpy==1.6.2
requests==0.13.1
simplejson==2.5.2 
```

（注意`gunicorn`现在移到顶部）

我通过幸运地猜测尝试更改导入的顺序发现了这一点，但我的问题是有没有其他人遇到过这个问题，或者知道为什么包的顺序在从`requirements.txt`? 这个问题是否表明我的应用程序中存在一些更大的依赖问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T09:00:29.880

Pip 不像 easy_install 那样擅长处理包依赖关系。我们在项目中遇到了同样的问题。即使 req.txt 中的顺序是正确的，我们还是遇到了与顺序相关的依赖问题。

我的解决方案是将 req.txt 提供给 easy_install，但是你应该小心可编辑的包或来自 github 等的包。

您可能需要检查以下链接：

[http://metak4ml.blogspot.com/2009/08/easyinstall-read-pip-requirementstxt.html](http://metak4ml.blogspot.com/2009/08/easyinstall-read-pip-requirementstxt.html) http://community.webfaction.com/questions/1220/using-easy_install-to-get-all-dependencies-listed -in-requirementstxt（虽然读行的答案与我们所做的接近）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T09:12:51.093

Pyton setup 安装脚本已经包含要求和顺序，因此安装过程将尊重并按照要求文件中每个应用程序的所有要求进行安装。

因此，如果您有自己的应用程序需要其他应用程序，请仅将您的要求放在您的设置文件中，并将您的主应用程序注册到 requirements.txt

对于不需要编译的第三方 python 应用程序，您不必担心需求中的顺序。

否则 eazy_install 将被弃用，请使用 pip 代替它。

# linq - 根据另一个列表从列表条件中删除某些元素

> ID：11823245
> 
> 赞同：3
> 
> 时间：2012-08-06T06:10:28.920
> 
> 标签：linq, list

我在这里遇到了 linq 的基本问题。虽然这可以通过重复循环来解决。我想知道如何在 linq 中做到这一点。

我有两个清单。

```
List<string> a  = new List<string>{"a","b","c","d","e","f"};
List<string> b = new List<string> { "a", "b", "c", "x", "y", "z" }; 
```

我想与列表 a 和 b 中的任何元素进行比较 a 。我想从 b 中删除该元素。换句话说，我想根据列表 a 的比较从 b 中删除 {"a","b","c"} ，并且希望在列表 b 中只包含 {"x","y","z"} 。是否有一条语句 linq 可以解决这个问题？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-06T06:15:03.150

（我确定这是几天前另一篇帖子的重复，但我找不到它......）

如果您需要适当的修改，您可以使用`List<T>.RemoveAll`：

```
b.RemoveAll(x => a.Contains(x)); 
```

或者更有效（如果列表很大）：

```
HashSet<string> set = new HashSet<string>(a);
b.RemoveAll(set.Contains); 
```

请注意，在 LINQ 中就地修改集合并不是惯用的，这就是上面使用 .NET 2 特定于列表的方法的原因。

或者，如果您愿意`b`改为引用新列表，*则*可以使用 LINQ：

```
b = b.Except(a).ToList(); 
```

# database-design - 账户交易的数据库结构

> ID：11823247
> 
> 赞同：0
> 
> 时间：2012-08-06T06:10:39.313
> 
> 标签：database-design

我创建了一个数据库来存储客户银行交易。我目前将所有交易存储在一个表中，其中包含 cust_id、tran_no、tran_date 等列。

目前我的数据库很小，因为我只是在测试它并且它工作正常。我执行查询以按日期获取交易以及客户的交易总和。

我的问题是，是否可以在一张表中维护所有事务。我是否需要将每个客户的交易拆分到单独的表格中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T12:40:14.143

您肯定希望将所有客户的交易保存在一张表中。关系数据库工具非常擅长过滤大型数据集。在客户 ID 上建立索引将使检索特定客户的交易变得非常容易和高效。

如果您将事务拆分到每个客户的一张表中，那么您检索客户数据的查询以及建立新客户的过程将更加复杂、难以维护且耗时。

# jquery - 在jquery mobile中带有填充的圆角列表项

> ID：11823248
> 
> 赞同：0
> 
> 时间：2012-08-06T06:10:39.077
> 
> 标签：jquery, html, jquery-mobile, html-lists

有没有办法让所有列表项在所有角落都被四舍五入的jquery列表，并在它们之间有像空格一样的填充

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:07:42.017

尝试使用以下样式为标签设置`data-inset="true"`属性：`ul``data-role="listview"`

```
​.ui-listview li { 
    margin: 10px;
    border-radius: 1em;
}

.ui-listview {
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
}​ 
```

[请参阅此处](http://jsfiddle.net/xgaJt/2/)的示例。

# javascript - 在 Google API 调用中指定请求正文（使用适用于 JavaScript 的 Google API 客户端库）

> ID：11823250
> 
> 赞同：10
> 
> 时间：2012-08-06T06:10:43.400
> 
> 标签：javascript, google-drive-api

我正在尝试调用 Google API 方法*drive.files.insert*在 Google Drive 中创建一个文件夹，请求如下（使用 Google APIs Client Library for JavaScript）：

```
var request = gapi.client.drive.files.insert({'convert': 'false', 'ocr': 'false'});
request.execute(function(resp) { console.log(resp); }); 
```

问题是我需要在请求正文中指定一些参数，例如：

```
{
    "title":"testFolder",
    "description":"hello world",
    "mimeType":"application/vnd.google-apps.folder"
} 
```

但我无法弄清楚如何使用适用于 JavaScript 的 Google API 客户端库指定这些参数。对我如何实现这一目标有什么建议吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-13T22:28:55.720

不一定`gapi.client.request`有`body`字段。

您可以尝试实际发送的内容`gapi.client.drive.files.insert({'convert': 'false', 'ocr': 'false','resource': resource})`在哪里，例如`resource`

```
resource = {
    "title":"testFolder",
    "description":"hello world",
    "mimeType":"application/vnd.google-apps.folder"
} 
```

我还没有验证这一点，但我已经尝试过发送请求正文以创建 Google 任务列表（gapi.client.tasks.tasklists.insert）的完全相同的场景

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-05-29T08:02:49.653

使用“resource”关键字发送正文。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-06T15:40:17.573

通过`body`场。[有关详细信息，请参阅此示例](https://github.com/google/google-api-javascript-client/blob/master/samples/requestWithBody.html)。

# android - 在安全的 Android 锁定屏幕中使用 FLAG_SHOW_WHEN_LOCKED 和 disableKeyguard()

> ID：11823259
> 
> 赞同：25
> 
> 时间：2012-08-06T06:11:21.400
> 
> 标签：android, android-intent

## 上下文

最近，我一直在寻找可靠的方法来控制安全的 Android Keyguard。主要是为了显示一个自定义的锁屏。我知道 Google 曾表示该平台不正式支持自定义锁屏，并且应该预料到事情会中断，但是，对于现有的 API，我相信必须有办法做到这一点。我已经做了大约一周的大量研究，但仍然到处都有问题。到目前为止，假设启用了安全的 Keyguard，我已经实施的是，

*   WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED 允许在屏幕上显示活动（窗口），将 Keyguard 放在后面，并防止所有不安全的操作。通知面板被禁用，完成活动将调出 Keyguard。我在我的锁屏活动中实现如下。

    ```
    @Override
    public void onAttachedToWindow() {
        window.addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED);
    } 
    ```

*   `KeyguardManager`,`KeyguardManager.KeyguardLock`是不推荐使用的类，但它们仍然可以一直工作到 Jelly Bean。为此，我有一个`Service`处理两件事的 a ，持有一个静态`KeyguardManager`对象和相关对象，并让它持有一个`BroadcastReceiver`接收`Intent.ACTION_SCREEN_ON`和`Intent.ACTION_SCREEN_OFF`. （所有对象都已正确初始化）

* * *

为了`ScreenReceiver`

```
public static synchronized void disableKeyguard() {
    if ( isLocked ) {
        if ( keyguardLock == null ) {
            keyguardLock = keyguardManager.newKeyguardLock(LOG_TAG);
        }
        keyguardLock.disableKeyguard();
        isLocked = false;
    }
}

public static synchronized void reenableKeyguard() {
    if ( !isLocked ) {
        if ( keyguardLock == null ) {
            keyguardLock = keyguardManager.newKeyguardLock(LOG_TAG);
        }
        keyguardLock.reenableKeyguard();
        keyguardLock = null;
        isLocked = true;
        }
} 
```

* * *

为了`BroadcastReceiver`

```
@Override
public void onReceive( Context context, Intent intent ) {
    if ( intent.getAction().equals(Intent.ACTION_SCREEN_ON) ) {
        Intent start = new Intent(context, LockScreen.class);
        start.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);
        context.startActivity(start);
    } else if ( intent.getAction().equals(Intent.ACTION_SCREEN_OFF) ) {
        ScreenReceiverService.reenableKeyguard();
    }
} 
```

* * *

对于`LockScreenActivity`，当用户输入正确的密码时，

```
window.clearFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED);
ScreenReceiverService.disableKeyguard();
finish(); 
```

* * *

## 问题

*   有效的东西

    *   `ACTION_ON`并`ACTION_OFF`可靠地收到。
    *   LockScreenActivity 显示在 Keyguard 之前（尚未处理电话状态）
    *   通知不能被下拉，以任何方式退出活动都会显示锁屏。
*   不起作用的东西

    *   在我禁用`Keyguard`并调用完成（）后，我的应用程序退出并显示主屏幕或屏幕关闭前的最后一个活动。但是，每当我按下 Home 键时，Keyguard 都会闪烁到屏幕中，并立即快速自行关闭，并且不处理正常的 Home 键功能/事件（闪烁后不会返回主屏幕）。当我反复快速点击 Home 键时会观察到这种情况。

我什至查看了 Android 源代码以找出 Home Key 处理，但它永远不会发送到第三方应用程序，除非窗口类型是`WindowManager.LayoutParams.TYPE_KEYGUARD`or `WindowManager.LayoutParams.TYPE_KEYGUARD_DIALOG`，这将在 4.0+ 上抛出 SecurityException ，即使它在早期平台上工作。对于`Keyguard`，我已经声明`DISABLE_KEYGUARD`允许使用这不应该是问题。我的猜测是该标志`FLAG_SHOW_WHEN_LOCKED`会告诉系统以`Keyguard`某些与其他禁用调用冲突的方式进行处理。由于此标志主要用于警报/短信类型的应用程序，即向用户显示有限的信息，然后关闭自己并调出`Keyguard`. 但在我的情况下，让用户解锁我的锁屏然后解锁系统锁屏只会破坏我的应用程序的目的。

**所以问题是为什么`Keyguard`在我禁用它后每当我按 Home 时都会闪烁？此问题是否有任何解决方法/解决方案？**

PS 感谢您阅读这么长的问题。这是我第一次在这里提问，如果我做错了什么，请告诉我（即格式，语法，代码约定，标签等）。我也没有任何编程知识的经验，在我知道 Java 是什么之前，我就开始使用 Android。所以我还没有参加任何适当的课程/培训，这个社区很棒并且经常帮助像我这样的人，即使他们是简单的问题，当然观看谷歌 I/O 视频、阅读博客、阅读其他人的代码对我有很大帮助. 所以请容忍任何愚蠢的错误/明显的错误/愚蠢的问题。我才16岁。^_^"

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-12T17:05:42.480

我在 Gingerbread 和 ICS 中都成功地使用了它来打开我的活动（通过正在启动它的后台服务）。在正在启动的活动中：

```
@Override
public void onAttachedToWindow() {
    this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN | 
            WindowManager.LayoutParams.FLAG_DISMISS_KEYGUARD | 
            WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED | 
            WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON,
            WindowManager.LayoutParams.FLAG_FULLSCREEN | 
            WindowManager.LayoutParams.FLAG_DISMISS_KEYGUARD | 
            WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED | 
            WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-17T10:19:35.740

我在解锁设备时单击 HOME 按钮时遇到了同样的问题。这可以通过将密码重置为空白（即“”）来解决：

```
DevicePolicyManager devicePolicyManager;
ComponentName demoDeviceAdmin;

devicePolicyManager.setPasswordQuality(demoDeviceAdmin,DevicePolicyManager.PASSWORD_QUALITY_UNSPECIFIED);
devicePolicyManager.setPasswordMinimumLength(demoDeviceAdmin, 0);

devicePolicyManager.resetPassword("",DevicePolicyManager.RESET_PASSWORD_REQUIRE_ENTRY); 
```

然后禁用keygaurd：

```
this.keyGuardLock = ((KeyguardManager)getSystemService("keyguard")).newKeyguardLock("keyguard");
keyGuardLock.disableKeyguard(); 
```

希望这解决了你的问题。\m/ 继续编码！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T16:24:38.787

`finish();`在您的 LockScreenActivity 中，通过杀死 LockscreenActivity 以及整个应用程序来结束验证代码。取而代之的是，您可以像这样重新启动您的主要活动（或任何其他活动）：

```
startActivity(new Intent(LockScreenActivity.this, MainActivity.class)); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-31T05:22:59.543

> WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED 允许在屏幕上显示活动（窗口），将 Keyguard 放在后面

我试图得到这个，但我的活动总是在系统锁定屏幕之前。isOrderdBroadcast() 表示 ACTION_SCREEN_NO 是有序广播。

我在活动中添加了标志：

```
getWindow().addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED); 
```

在 onAttachedView() 中。但是系统锁定仍然优先于我的自定义屏幕锁定活动。

您是如何在系统锁定屏幕之前获得活动的？

**编辑** 事后看来，我认为我对锁屏概念的理解是错误的。我的广播接收器首先收到广播。但之前显示的是收到 SCREEN_OFF 时启动的系统锁定屏幕。截至目前已修复该问题。

但被主页按钮行为的模棱两可难住了。这在后 ICS 设备中不会成为问题，因为不鼓励使用所有硬按钮。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-06-24T21:46:37.787

如果 AOSP 在您的控制范围内，那么您需要设置简单标志，并且 keyguard() 将永远消失。这是执行此操作的详细信息，进入文件“overlay/frameworks/base/packages/SystemUI/res/values/config.xml”并搜索“config_enableKeyguardService”，然后将标志设置为false。

没有更多的 keyGuard，唷

# sql-server-2008-r2 - SQL Studio Management - 如何跨多个服务器运行查询

> ID：11823261
> 
> 赞同：5
> 
> 时间：2012-08-06T06:11:35.090
> 
> 标签：sql-server-2008-r2, ssms, sql-server-2008

我的 2 服务器都使用 SQL Server 2008 R2

我有我的本地 SQL 服务器和一台运行 SQL-Server 实例的亚马逊机器。

我可以使用`10.10.10.10, 1433`本地 Management Studio 的标准连接从本地计算机连接到该 Amazon SQL。

我现在需要做的是运行一个查询，上面写着..告诉我我在本地有哪些记录现在不在亚马逊服务器上。

就像是：

```
 SELECT * 
 FROM [LOCAL].dbo.Table1  
 WHERE Field1 NOT IN   
       (SELECT Field1 FROM [AMAZON].Database1.dbo.Table1) 
```

================================= 问题：
我不知道如何在查询上写“AMAZON”位置窗口本身，因为它在不同的服务器上运行。

任何帮助都非常感谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T08:23:03.090

您必须在本地计算机上将 AMAZON 服务器配置为 LINKED 服务器。如果您将其命名为“AMAZON” - 您的查询将完全按照您所写的方式工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-01-17T15:34:38.190

在 SSMS 中，\Server Objects\Linked Servers。右键单击“新建链接服务器”。命名您的服务器，然后选择“SQL 服务器”单选按钮。因为我在两台机器上都是具有 Windows 凭据的授权用户，所以我选择了安全选项卡下的“使用登录的当前安全上下文”单选按钮，甚至不必欺骗本地/远程用户映射。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-10-30T21:57:49.230

为了能够跨多个服务器运行查询，必须在 2 个服务器之间建立链接（链接服务器）。要创建链接服务器，

1.  导航到服务器对象文件夹下的链接服务器子文件夹
2.  右键单击链接服务器文件夹
3.  点击新建链接服务器
4.  为服务器提供连接字符串
5.  命名您的链接服务器。

您现在可以使用完整的对象限定 (LinkedServer.Database.tableOwner.Table) 来访问对象。

祝你好运 ！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-15T11:07:49.890

您应该打开您的注册服务器窗口并为您的服务器创建一个组。然后右键单击组名称并选择新查询（或选择该组中的多个服务器）。如果您执行查询，它将针对选定的服务器运行。

# facebook-opengraph - Facebook Like - 标题和描述不起作用

> ID：11823262
> 
> 赞同：-1
> 
> 时间：2012-08-06T06:11:40.890
> 
> 标签：facebook-opengraph

我在 jboss-web.deployer\ROOT.war 中创建了一个名为 test.html 的测试页面。

我添加了 facebook like button 和 OG meta 标签。当我点击喜欢时，标题和描述不会在 Facebook 上共享。当我点击喜欢按钮时，即使我无法在弹出窗口中看到。请帮忙....

请找到以下代码：

```
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">
  <head>
    <title>The Rock (1996)</title>
    <meta property="og:title" content="The Rock"/>
    <meta property="og:type" content="movie"/>
    <meta property="og:url" content="http://www.imdb.com/title/tt0117500/"/>
    <meta property="og:image" content="http://ia.media-imdb.com/rock.jpg"/>
    <meta property="og:site_name" content="IMDb"/>
    <meta property="fb:admins" content="USER_ID"/>
    <meta property="og:description"
          content="A group of U.S. Marines, under command of
                   a renegade general, take over Alcatraz and
                   threaten San Francisco Bay with biological
                   weapons."/>
     </head>

 <body>
    <!-- AddThis Button BEGIN --> 
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<fb:like href="href="http://157.241.56.242:8080/Test5.html" width="450" height="80"/>

<!-- AddThis Button END -->

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:17:19.593

您不需要添加 XML 命名空间，而是添加前缀。以下是来自[http://ogp.me/](http://ogp.me/)的令牌：

```
<html prefix="og: http://ogp.me/ns#"> 
```

# c# - 读取整数输入并打印矩阵

> ID：11823265
> 
> 赞同：0
> 
> 时间：2012-08-06T06:11:45.783
> 
> 标签：c#, matrix

我正在尝试编写一个程序，它从控制台读取一个正整数 N（N < 20）并打印一个像这些矩阵一样的矩阵：

```
N = 3
1 2 3
2 3 4
3 4 5

N = 5
1 2 3 4 5
2 3 4 5 6
3 4 5 6 7
4 5 6 7 8
5 6 7 8 9 
```

这是我的代码：

```
using System;
namespace _6._12.Matrix
{
    class Program
    {
        static void Main()
        {
            Console.WriteLine("Please enter N ( N < 20): ");
            int N = int.Parse(Console.ReadLine());
            int row;
            int col;
            for (row = 1; row <= N; row++)
            {
                for (col = row; col <= row + N - 1; )
                {
                    Console.Write(col + " ");
                    col++;
                }
                Console.WriteLine(row);
            }
            Console.WriteLine();
        }
    }
} 
```

问题是控制台打印了一个额外的列，数字从 1 到 N，我不知道如何摆脱它。我知道为什么会发生这种情况，但仍然找不到解决方案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T06:20:04.097

简单，`Console.WriteLine(row);`换成`Console.WriteLine();`

当你在它的时候；

```
 static void Main()
    {
        int N;

        do
        {
            Console.Write("Please enter N (N >= 20 || N <= 0): ");
        }
        while (!int.TryParse(Console.ReadLine(), out N) || N >= 20 || N <= 0);

        for (int row = 1; row <= N; row++)
        {
            for (int col = row; col <= row + N - 1; )
            {

                Console.Write(col + " ");
                col++;
            }
            Console.WriteLine();
        } 

        Console.Read();
    }

Please enter N (N >= 20 || N <= 0): 5
1 2 3 4 5 
2 3 4 5 6 
3 4 5 6 7 
4 5 6 7 8 
5 6 7 8 9 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T06:22:14.310

只需将此行更改`Console.WriteLine(row);`为 this`Console.WriteLine();` 这里的问题是；在每个内部循环结束时，您将再次写入行值；这是不需要的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T06:34:21.937

第一个问题是你认为 Console.WriteLine(row) 在做什么？当您学习编程时，“查看”代码在做什么以及为什么这样做是至关重要的，而不是运行它、调整它，然后再次运行它以查看它是否按照您想要的方式运行到。一旦您在脑海中清楚而简洁地看到代码在做什么，您会注意到 Console.WriteLine(row) 不正确，您只需要在此时编写一个换行符。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-03-01T01:33:13.123

这是另一种使用`if`语句而不是使用 a 的方法`do while`，代码看起来更简单一些：

```
 static void Main(string[] args)
 {
     Console.Write("Give a number from 1 to 20: ");
     int n = int.Parse(Console.ReadLine());
     int row,col;
     Console.WriteLine("");
     if (n > 0 && n < 21)
     {
         for (row = 1; row <= n; row++)
         {
             for (col = row; col <= row + n - 1;col++ )
             {
                 Console.Write(col + " ");
             }

             Console.WriteLine();
         }
     }
     else
     {
         Console.WriteLine("This number is greater than 20 or smaller than 1");
     }
 } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-09-06T06:31:41.713

//以上所有我厌倦的答案都是错误的你应该尝试一下然后回复我......

```
 Console.Write("Enter N: (N < 20) ");
        int n = Int32.Parse(Console.ReadLine());

        for (int row = 1; row <= n;row++)
        {
            Console.Write(row+" ");
            for (int col = row+1; col <= row + n - 1; )
            {
                Console.Write(col + " ");
                col++;
            }
            Console.WriteLine();

        }
        Console.ReadLine(); 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2020-06-11T11:56:47.577

```
using System;
namespace _6._12.Matrix
{
    class Program
    {
        static void Main()
        {
            Console.WriteLine("Please enter N ( N < 20): ");
            int N = int.Parse(Console.ReadLine());
            int row;
            int col;
            for (row = 1; row <= N; row++)
            {
                for (col = row; col <= row + N - 1; )
                {
                    Console.Write(col + " ");
                    col++;
                }
                Console.WriteLine(row);
            }
            Console.WriteLine();
        }
    } 
```

# python - 在 for 循环中对数据进行分组

> ID：11823266
> 
> 赞同：3
> 
> 时间：2012-08-06T06:11:53.337
> 
> 标签：python, loops, grouping

我需要遍历一个已排序的数据集，将所有结果按该排序属性分组为具有该属性相同值的块。然后我对该块结果运行一些操作。

抱歉，这有点令人困惑，示例可能是描述我正在做的事情的更好方式：

我有一个结构类似这样的数据集，除了“数据”字符串实际上是对象并包含大量其他数据。

```
[ [1, "data1"], [1, "data2"], [2, "moredata"], [2, "stuff"], 
  [2, "things"], [2, "foo"], [3, "bar"], [4, "baz"] ] 
```

我想要发生的是将这些数据分组为 4 个不同的函数调用：

```
process_data(1, ["data1", "data2"])
process_data(2, ["moredata", "stuff", "things", "foo"])
process_data(3, ["bar"])
process_data(4, ["baz"]) 
```

我最终得到的是一个看起来像这样的构造：

```
last_id = None
grouped_data = []

for row in dataset:
    id = row[0]
    data = row[1]

    if last_id != id:
         # we're starting a new group, process the last group
         processs_data(last_id, grouped_data)
         grouped_data = []
    last_id = id
    grouped_data.append(data)

if grouped_data:
    # we're done the loop and we still have a last group of data to process
    # if there was no data in the dataset, grouped_data will still be empty
    # so we won't accidentally process any empty data.
    process_data(last_id, grouped_data) 
```

它有效，但看起来很笨拙。特别是需要使用 last_id 变量以及循环后对 process_data 的第二次调用来跟踪所有内容。我只想知道是否有人可以为更优雅/更聪明的解决方案提供任何建议。

我选择的语言是 Python，但一般的解决方案很好。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-06T06:21:20.463

itertools.groupby 正是你想要的：

```
>>> data = [ [1, "data1"], [1, "data2"], [2, "moredata"], [2, "stuff"],
...   [2, "things"], [2, "foo"], [3, "bar"], [4, "baz"] ]
>>>
>>> from itertools import groupby
>>> from operator import itemgetter
>>>
>>> def process_data(key, keydata):
...     print key, ':', keydata
...
>>> for key,keydata in groupby(data, key=itemgetter(0)):
...   process_data(key, [d[1] for d in keydata])
...
1 : ['data1', 'data2']
2 : ['moredata', 'stuff', 'things', 'foo']
3 : ['bar']
4 : ['baz'] 
```

传递 groupby 一个排序列表，以及一个关于在列表中的每个项目中分组依据的关键函数。你得到一个`(key,itemgenerator)`对的生成器，如图所示被传递给我编造的 process_data 方法。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-06T06:16:57.527

看看[`itertools.groupby`](http://docs.python.org/library/itertools.html#itertools.groupby)。请注意，这要求您的列表已经根据组键（您的示例数据是，所以我想没关系）进行排序。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-06T06:24:01.350

您可以使用 MutliDict，例如来自[brownie](http://pypi.python.org/pypi/Brownie/)或[werkzeug](http://pypi.python.org/pypi/Werkzeug/)包。

```
from brownie.datastructures import MultiDict
data = [ [1, "data1"], [1, "data2"], [2, "moredata"], [2, "stuff"], 
         [2, "things"], [2, "foo"], [3, "bar"], [4, "baz"] ]
for key, keydata in MultiDict(data).iterlists():
    process_data(key, keydata) 
```

# javascript - HTML5 抛出两个错误

> ID：11823271
> 
> 赞同：0
> 
> 时间：2012-08-06T06:12:19.203
> 
> 标签：javascript, html, validation

我正试图让这个代码在一个学校项目中正常工作，这两行不断抛出一个错误，我似乎可以得到修复。第一个链接到我用 JavaScript 制作的下拉菜单，它工作正常。

```
<li id="select"><label for="aptType">Type:</label> 
```

这是我得到的错误......我在这里读到我需要有 id="" 这就是错误的原因，但我在两行都有 id 。

错误：标签元素的 for 属性必须引用表单控件。从第 33 行第 10 列开始；到第 33 行，第 45 列

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:17:25.263

您为 textarea 提供了错误的 ID，请再次检查。它应该是这样的。

```
<li id="select"><label for="select">Type:</label>    

<li><label for="comments">Additional Comments:</label><textarea id="comments"></textarea> 
```

插入“评论”应该像“评论”。

# azure - 使用 LocalResource 在 Azure 中自动部署应用程序

> ID：11823272
> 
> 赞同：0
> 
> 时间：2012-08-06T06:12:21.137
> 
> 标签：azure, azure-storage, azure-blob-storage, azure-worker-roles

我目前正在尝试通过将文件从 blob 存储中拉入角色并通过批处理脚本（也位于 blob 存储中）使用它来自动将应用程序部署到 Azure Worker 角色。我正在使用 onStart 来完成此操作。这是我的 onStart 方法的简化版本：

准备拉下文件：

```
public override bool OnStart()
        {
CloudStorageAccount storageAccount = CloudStorageAccount.Parse(CloudConfigurationManager.GetSetting("StorageConnectionString"));

CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();

CloudBlobContainer container = blobClient.GetContainerReference("mycontainer");

container.CreateIfNotExist();

CloudBlob file = container.GetBlobReference("file.bat"); 
```

实际上将文件放入角色中：

```
LocalResource localResource = RoleEnvironment.GetLocalResource("localStore");
            string filePath = System.IO.Path.Combine(localResource.RootPath, "file.bat");

using (var fileStream = System.IO.File.OpenWrite(@filePath)) 
            {
                file.DownloadToStream(fileStream);
            } 
```

这就是我将批处理文件和依赖项放入角色的方式。我现在的问题是 - 最初，我构建批处理文件时假设其他文件将被删除`C:\`。例如 - `C:\installer.exe`、`C:\archive.zip`等。但现在文件在 localStorage 中。

我想我可以 A）通过动态编写脚本 onStart 以某种方式告诉批处理文件 localStorage 在哪里，或者 B）将 localStorage 更改为使用`C:\`.

我不知道该怎么做，或者在这里做的最好的事情是什么。想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:20:30.870

我不会将 LocalStorage 更改为使用 C: (无论如何你会怎么做？)。查看 Steve 的博文：[使用启动任务中的本地存储资源](http://blog.smarx.com/posts/using-a-local-storage-resource-from-a-startup-task)。他解释了如何使用 powershell 获取 LocalResource（甚至从批处理文件中调用该脚本）。

为什么不使用[Windows Azure 引导程序](http://bootstrap.codeplex.com/)？这是一个小工具，可以帮助您配置角色，而无需编写任何代码，您只需从启动任务中调用它，它就可以下载文件（也可以像您正在做的那样从 blob 存储中下载文件），使用本地资源， ...

```
bootstrapper.exe -get http://download.microsoft.com/download/F/3/1/F31EF055-3C46-4E35-AB7B-3261A303A3B6/AspNetMVC3ToolsUpdateSetup.exe -lr $lr(temp) -run $lr(temp)\AspNetMVC3ToolsUpdateSetup.exe -args /q 
```

**注意：**不要在批处理文件中使用绝对引用，而是使用 %~dp0 使用相对路径

# android - 在android中按下按钮时创建一个新的列表视图

> ID：11823276
> 
> 赞同：1
> 
> 时间：2012-08-06T06:12:44.163
> 
> 标签：android, listview

我是android编程的新手

我的活动中有两个列表视图和两个按钮。如果我按下第一个按钮，将创建一个列表视图并在活动中显示，当单击第二个按钮时，将创建第二个列表视图并关闭第一个。

谁能建议我如何做到这一点？

提前致谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:33:17.267

简单的选择是在运行时单击按钮时更改列表上的列表适配器。

喜欢

```
on first button click

    list.setAdapter(adapter1);

on second button click 

    list.setAdapter(adapter2); 
```

并且您也可以使用选项卡来显示两个列表请参阅此示例

[http://joshclemm.com/blog/?p=59](http://joshclemm.com/blog/?p=59)

和

[http://www.edumobile.org/android/android-beginner-tutorials/tab-control/](http://www.edumobile.org/android/android-beginner-tutorials/tab-control/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-07T06:56:01.597

如果您想在两个不同的按钮上显示两个列表，您可以只使用一个带有两个不同 ArrayAdapter 的列表并更改列表。

示例代码...

**将此代码放入您的 xml 文件中**

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <Button
        android:id="@+id/button1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:text="List1" />

    <Button
        android:id="@+id/button2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_toRightOf="@+id/button1"
        android:text="List2" />

    <ListView
        android:id="@+id/listView1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_below="@+id/button1" >
    </ListView>

</RelativeLayout> 
```

**将此代码放入您的活动中**

```
public class MainActivity extends Activity {

    ListView listView1;
    Button list1Button,list2Button;

    ArrayAdapter<String> adapter1,adapter2;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        listView1 = (ListView)findViewById(R.id.listView1);

        list1Button = (Button)findViewById(R.id.button1);
        list2Button = (Button)findViewById(R.id.button2);

       String[] names1 = {"Android","Iphone","Titenium"};
       String[] names2 = {"java",".net","php"};

       adapter1 = new ArrayAdapter<String>(MainActivity.this,android.R.layout.simple_list_item_1,names1);
       adapter2 = new ArrayAdapter<String>(MainActivity.this,android.R.layout.simple_list_item_1,names2);

       listView1.setAdapter(adapter1);

       list1Button.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub
            listView1.setAdapter(null);

            listView1.setAdapter(adapter1);

        }
    });

       list2Button.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub
            listView1.setAdapter(null);
            listView1.setAdapter(adapter2);
        }
    });

    }

} 
```

我希望这可以帮助你..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T06:25:54.390

听起来很像 Tab 界面。所以这应该很容易

[http://developer.android.com/reference/android/app/ActionBar.html#newTab](http://developer.android.com/reference/android/app/ActionBar.html#newTab) ()

那里的文档有一个使用片段的完整实现示例。您可能以前没有使用过片段，但不要害怕，它们基本上只是视图。在尝试让列表视图飞来飞去之前让示例工作。

希望这可以帮助！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T06:34:44.797

您应该考虑使用片段。在您的主要活动中使用框架布局。然后根据用户选择动态加载片段之一。

```
case (R.id.button1):
FragmentTransaction fragmentTransaction = fragmentManager
                    .beginTransaction();
fragmentTransaction.replace(R.id.fragment, frag1);
fragmentTransaction.commit();
break; 
```

见[http://developer.android.com/guide/components/fragments.html](http://developer.android.com/guide/components/fragments.html) && [http://android-developers.blogspot.com/2011/02/android-30-fragments-api.html](http://android-developers.blogspot.com/2011/02/android-30-fragments-api.html)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-06T06:36:59.437

尝试这个，

当我按下第二个按钮时

```
 firstlistView.setVisibility(1);(1->Invisible state)first listview goes invisible state
       secondlistview.setVisiblity(0);(0->Visible)Ur second listview shown by this code 
```

# java-me - 如何将图像设置为 lwuit 列表？

> ID：11823281
> 
> 赞同：0
> 
> 时间：2012-08-06T06:13:24.490
> 
> 标签：java-me, lwuit-form

我想从 Rss 提要为 lwuit 列表设置标题和图像，我可以设置标题，但我不知道如何设置图像？设置图像和标题后，我需要在表单上显示它。 ..这是我的代码:,帮助...

```
public void disp() {
          //String[] items={newsItem.getTitle()};
        for(int i=0;i<news.size();i++){

          newsItem=(News)news.elementAt(i);

         myNewsList.addItem(newsItem.getTitle().toString());
          System.out.println(newsItem.getTitle());

        }
        try{
                  System.out.println("hiii");

        form1.addComponent(myNewsList);

        form1.addCommand(cmdDetails);
        form1.setScrollable(true);
        form1.setTransitionInAnimator(Transition3D.createRotation(250, true));

          form1.show();
        }
        catch(Exception e){
            e.printStackTrace();
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T09:06:26.003

您可以使用**列表渲染器**在单个列表项中添加图像和文本。

**NewsListRenderer.java**

```
public class NewsListRenderer implements ListCellRenderer {

    private Label lblImage;
    private TextArea textAreaHeadline;

    public Component getListCellRendererComponent(List arg0, Object obj,
            int arg2, boolean isSelected) {

        Container newsContainer = new Container();
        newsContainer.setLayout(new BoxLayout(BoxLayout.X_AXIS));

        News newsListObj = (News) obj;
        Image img = newsListObj.getThumbnail();
        lblImage = new Label(img);
        lblImage.getStyle().setBgTransparency(0);
        lblImage.setTextPosition(Component.BOTTOM);
        newsContainer.addComponent(lblImage);

        textAreaHeadline = new TextArea(3, 25);
        textAreaHeadline.setSelectedStyle(textAreaHeadline.getStyle());
        textAreaHeadline.setText(newsListObj.getHeadLine());
        textAreaHeadline.setEditable(false);
        textAreaHeadline.getStyle().setBorder(null);
        textAreaHeadline.setFocusable(false);
        textAreaHeadline.getStyle().setBgTransparency(0);
        newsContainer.addComponent(textAreaHeadline);
        return newsContainer;
    }

    public Component getListFocusComponent(List arg0) {
        return new Container();
    }
} 
```

**新闻班成员：**

1) 新闻标题 - getHeadLine() 检索标题。

2) 新闻图片 - getThumbnail() 检索图片。

```
 myNewsList = new List(news);
    myNewsList.setListCellRenderer(new NewsListRenderer());
    form1.addComponent(myNewsList); 
    form1.addCommand(cmdDetails);
    form1.setScrollable(true);
    form1.setTransitionInAnimator(Transition3D.createRotation(250, true));
    form1.show(); 
```

# javascript - 覆盖 JavaScript 和 jQuery 中的操作

> ID：11823283
> 
> 赞同：0
> 
> 时间：2012-08-06T06:13:31.887
> 
> 标签：javascript, jquery

在我的要求中，用户可以选择多个复选框。但是，在检查每个复选框后，我需要调用 URL 并以 3 秒的时间延迟传递选定的复选框值。此延迟是必需的，以便用户可以选择/取消选择另一个复选框，应取消旧操作并应传递新的选定值。

我知道延迟调用函数，但不知道如何用新函数停止最后一个动作。

```
setTimeout(function(){ call_me(action) },3000);
function call_me(action)
{
    var url = action
    $(location).attr('href',url);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:19:11.010

您必须使用`clearTimeout()`，但首先您需要将 setTimeout 的返回值分配给一个变量。

```
// declared outside of your code that sets the timeout.
var t;

// your code to be run when you want to set the timeout
clearTimeout(t);  // if there is no timeout already assigned to t, this line does nothing.
t = setTimeout(function(){ call_me(action) },3000);
function call_me(action)
{
    var url = action
    $(location).attr('href',url);
} 
```

# many-to-many - elasticsearch中的多对多关系

> ID：11823287
> 
> 赞同：8
> 
> 时间：2012-08-06T06:13:45.363
> 
> 标签：many-to-many, elasticsearch

我知道在弹性搜索中，我们可以在文档之间[建立子/父关系](http://www.elasticsearch.org/guide/reference/mapping/parent-field.html)。

然后，在索引时，我可以传递父 id，以便将子文档和父文档链接起来：

```
$ curl -XPUT localhost:9200/blogs/blog_tag/1122?parent=1111 -d '{    "tag" : "something"}' 
```

无论如何在elasticsearch中建模多对多关系？

数据位于具有以下架构的 MySQL 数据库中：

```
account
========
id
name
some_property

group
========
id
name
description

account_group
=============
account_id
group_id
primary_group //This is 1 or 0 depending on whether the group is the primary group for that account. 
```

这是我目前的映射`account`（请原谅数组符号，我在 PHP 中使用[Elastica](https://github.com/ruflin/Elastica/)与我的 elasticsearch 服务器对话）：

```
**Mapping for account**

'name' => array(
    'type' => 'string'),

'some_property' => array(
    'type' => 'string'),

'groups' => array(
   'properties' => array(
    'id'      => array('type' => 'integer'),
    'primary' => array('type' => 'boolean')
    )
),

**Mapping for group**

'name' => array(
        'type' => 'string'),

'description'=> array(
        'type' => 'string') 
```

这种方法的问题是，如果从索引中删除一个组，我将需要遍历每个帐户并从每个帐户中删除组 ID。这对我来说似乎有点低效。我还认为在使用 elasticsearch 的子/父关系时这不会成为问题。

无论如何在elasticsearch中建模多对多关系？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-10T09:07:15.817

没有办法对多对多关系进行建模。

唯一的方法是像我在上面所做的那样将每个组的 id 存储在每个帐户中。

Elasticsearch 非常高效，所以很多时候，重新索引是一个可以接受的解决方案。此外，elasticsearch 具有文档的概念，并且不是关系存储系统，因此多对多关系可能永远不会实现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-14T00:43:48.060

当您考虑效率时，您需要考虑的是写入时间与读取时间的效率。关系数据库有利于写入时间效率，而 NoSQL 有利于读取时间效率。

您需要仔细考虑应用程序中读取与写入的比率，并确定总体上更有效的方法。最后，无论是在写入数据时，还是在读取数据时，都需要完成连接所有关系的工作。

# java - java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy

> ID：11823288
> 
> 赞同：6
> 
> 时间：2012-08-06T06:13:57.597
> 
> 标签：java, spring, jsf-2, jboss6.x

我正在尝试在 JBoss 6.0 上部署我的项目。我正在使用 Netbeans 7.0.1、Spring 3.0.2 和 JSF2.0。该项目在 Tomcat 中运行良好。但是当我尝试在 JBoss 上部署时，我收到以下错误：

```
 *** DEPLOYMENTS IN ERROR: Name -> Error

         vfs:///C:/jboss-6.0.0.Final/server/default/deploy/WebApplication3.war ->  
                           org.jboss.deployers.spi.DeploymentException: Error during 
                  deploy: vfs:///C:/jboss-      6.0.0.Final/server/default/deploy/WebApplication3.war

              DEPLOYMENTS IN ERROR:
          Deployment "vfs:///C:/jboss- 
        6.0.0.Final/server/default/deploy/WebApplication3.war" is in error due to the 
     following reason(s): java.lang.ArrayStoreException: 
     sun.reflect.annotation.TypeNotPresentExceptionProxy

at org.jboss.deployers.plugins.deployers.DeployersImpl.checkComplete(DeployersImpl.java:1370) [:2.2.0.GA]
at org.jboss.deployers.plugins.deployers.DeployersImpl.checkComplete(DeployersImpl.java:1316) [:2.2.0.GA]
at org.jboss.deployers.plugins.main.MainDeployerImpl.checkComplete(MainDeployerImpl.java:968) [:2.2.0.GA]
at org.jboss.system.server.profileservice.deployers.MainDeployerPlugin.checkComplete(MainDeployerPlugin.java:82) [:6.0.0.Final]
at org.jboss.profileservice.dependency.ProfileControllerContext$DelegateDeployer.checkComplete(ProfileControllerContext.java:138) [:0.2.2]
at org.jboss.profileservice.deployment.hotdeploy.HDScanner$HDScanAction.deploy(HDScanner.java:246) [:0.2.2]
at org.jboss.profileservice.deployment.hotdeploy.HDScanner$HDScanAction.complete(HDScanner.java:192) [:0.2.2]
at org.jboss.profileservice.management.TwoPCActionWrapper.doComplete(TwoPCActionWrapper.java:57) [:0.2.2]
at org.jboss.profileservice.management.actions.AbstractTwoPhaseModificationAction.complete(AbstractTwoPhaseModificationAction.java:74) [:0.2.2]
at org.jboss.profileservice.management.actions.AbstractTwoPhaseModificationAction.prepare(AbstractTwoPhaseModificationAction.java:95) [:0.2.2]
at org.jboss.profileservice.management.ModificationSession.prepare(ModificationSession.java:87) [:0.2.2]
at org.jboss.profileservice.management.AbstractActionController.internalPerfom(AbstractActionController.java:234) [:0.2.2]
at org.jboss.profileservice.management.AbstractActionController.performWrite(AbstractActionController.java:213) [:0.2.2]
at org.jboss.profileservice.management.AbstractActionController.perform(AbstractActionController.java:150) [:0.2.2]
at org.jboss.profileservice.management.AbstractActionController.perform(AbstractActionController.java:135) [:0.2.2]
at org.jboss.profileservice.deployment.hotdeploy.HDScanner.scan(HDScanner.java:146) [:0.2.2]
at org.jboss.profileservice.deployment.hotdeploy.HDScanner.run(HDScanner.java:90) [:0.2.2]
at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [:1.7.0]
at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:351) [:1.7.0]
at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:178) [:1.7.0]
at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178) [:1.7.0]
at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [:1.7.0]
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110) [:1.7.0]
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603) [:1.7.0]
at java.lang.Thread.run(Thread.java:722) [:1.7.0] 
```

任何人都可以解决这个问题吗？提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T12:10:54.940

当我像这样使用 Spring Configuration 注释时，它发生在我身上：

```
@Configuration
@Import({ Config.class })
public class WebConfig extends WebMvcConfigurerAdapter
{
   ...
} 
```

当我重命名`Config.class`为`CoreConfig.class`启动码头时发生的错误。发生这种情况是因为它`CoreConfig.class`位于我的 maven 项目的不同子模块中，所以码头看不到它（因为它通过 mvn 本地存储库解决依赖关系）。

调用“mvn install”后，一切又好了。

因此，这可能不完全是您的问题，但它可能会对您有所帮助。因为您的问题可能是包装问题。某些类可能不在类路径上。

# android - 将对象从一个活动发送到另一个活动

> ID：11823289
> 
> 赞同：1
> 
> 时间：2012-08-06T06:13:59.627
> 
> 标签：android

我正在尝试实现一个活动，该活动需要一个对象列表并传递给另一个活动进行处理。但我得到NPE。这是我的代码。

```
public class Order implements Parcelable {

public static class OrderProduct {
    private String productId;
    private String qty;

    public OrderProduct(String productId, String qty) {
        this.productId = productId;
        this.qty = qty;
    }

    public String getProductId() {
        return productId;
    }

    public String getQty() {
        return qty;
    }

    public void setQty(String qty) {
        this.qty = qty;
    }

    @Override
    public String toString() {
        return "productId: " + productId + "  qty: " + qty;
    }   

}

private String  customerId;
private Map<String, OrderProduct> products;
private OrderProduct product;

public Order(String customerId) {
    this.customerId = customerId;
    products = new HashMap<String, OrderProduct>();
}

public Order(Parcel in)
{
    product.productId = in.readString();
    product.qty = in.readString();
}

public void setProduct(String productId, String qty) {
    product = products.get(productId);
    if (product == null) {
        product = new OrderProduct(productId, qty);
    }
    else {
        product.setQty(qty);
    }
    products.put(productId, product);
}

public Collection<OrderProduct> getProducts() {
    return products.values();
}

public String getCustomerId() {
    return customerId;
}

@Override
public String toString() {
    StringBuffer sb = new StringBuffer();
    sb.append("Order: customerId: " + customerId + " { ");
    for (OrderProduct product : products.values()) {
        sb.append(" { ").append(product.toString()).append(" } ");
    }
    sb.append(" } ");
    return sb.toString();
}

@Override
public int describeContents()
{
    return 0;
}

@Override
public void writeToParcel(Parcel dest, int flags)
{
    // TODO Auto-generated method stub
    dest.writeString(product.getProductId());
    dest.writeString(product.qty);
}

public static final Order.Creator<Order> CREATOR = new Order.Creator<Order>() { 
    public Order createFromParcel(Parcel in) { 
        return new Order(in); 
    } 

    public Order[] newArray(int size) { 
        return new Order[size]; 
    } 
};  

} 
```

############################ 活动1 ##################

```
@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
        case R.id.send_menu:
            //saveOrder(order);
            showOrderReview();
            break;
    }
    return true;
} 
```

##############活动2

```
public class ReviewOrderActivity extends Activity
{
@Override
public void onCreate(Bundle savedInstanceState)
{
    super.onCreate(savedInstanceState);
    // setContentView(R.layout.main);

    Intent i = getIntent();
    Order myOrderObject = (Order) i.getParcelableExtra("order");
    Collection<Order.OrderProduct> products = myOrderObject.getProducts();
    System.out.println("Orderrrrrrrrrrrr : " + products.size());

    for (Order.OrderProduct product : products){
    Log.d("---", " product.getQty() "+product.getQty()+"  "+product.getProductId());        
} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:22:35.063

在没有看到您的 LogCat 的情况下，这是最突出的：

```
public Order(Parcel in) {
    product.productId = in.readString();
    product.qty = in.readString();
} 
```

调用此构造函数时，`product`为 null。此外，在此构造函数中，`products`未定义。相反，请执行以下操作：

```
public Order(Parcel in) {
    String productId = in.readString();
    String qty = in.readString();
    product = new OrderProduct(productId, qty);
    products = new HashMap<String, OrderProduct>();
} 
```

# javascript - onClick="javascript: function('value')'" 和 onClick="function('value');" 有什么区别？

> ID：11823290
> 
> 赞同：13
> 
> 时间：2012-08-06T06:14:07.070
> 
> 标签：javascript, function, function-calls

以下有什么区别？

1.  `onClick="javascript: function('value');"`
2.  `onClick="function('value');"`

我什么时候`javascript:`在函数调用之前使用，为什么？

我可以在不使用`javascript:`前缀的情况下调用该函数吗？

请帮助我理解其中的区别。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-08-06T07:25:03.677

在元素的内联事件处理程序中，如`onclick`, `onchange`,`onsubmit`等，您*不需要*前缀 - 您经常看到它的原因是因为人们将它与我在下面解释`javascript:`的语法混淆了。`href`它不会导致错误 - 我相信它被解释为[标签](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/label)- 但它是不必要的。

无论您是要调用函数还是运行“简单” JS 语句都没有关系，无论哪种方式都不要包含`javascript:`- 也就是说，所有这三个都是有效的：

```
onclick="doSomething('some val');"
onclick="return false;"
onclick="doSomething(); doSomethingElse(); return false;" 
```

**如果您使用内联事件属性，请不要使用`javascript:`前缀。**

（我说“*如果*您使用的是内联事件属性”，因为这种做法确实已经过时：最好在脚本块中使用 JS 分配事件处理程序。）

`javascript:`当您想从`<a>`元素的`href`属性运行 JavaScript 时，您只需要前缀，如下所示：

```
<a href="javascript: someFunc();">Whatever</a> 
```

那是因为浏览器通常期望`href`包含一个 URI，所以`javascript:`前缀告诉它期望 JS 代码。但是，我不建议这样做，因为该页面不适用于禁用 JS 的人。最好包含一个`href`将用户引导到一个告诉他们启用 JS 的页面，并包含一个`onclick`来执行 JS 功能：

```
<a href="/enableJS.html" onclick="doSomething(); return false;">Whatever</a> 
```

这样，无论用户是否启用了 JS，链接都会对用户有用。`return false`单击处理程序末尾的 防止单击的默认行为（即导航到指定的 URL）。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-08-06T06:16:51.667

第一个具有完全冗余的[标签](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Statements/label)。

> 我什么时候必须在函数调用之前使用“javascript：”，使用它的原因是什么？

绝不。（嗯，差不多。你确实在`javascript:`方案 URI 中使用它，但你应该只在编写书签时使用它们，它们不会出现在`onclick`属性中）。

（`javascript:`URI 是用标签为属性值添加前缀的[货物崇拜实践的来源。）](http://en.wikipedia.org/wiki/Cargo_cult)`onclick`

> 我可以在不使用“javascript:”的情况下调用该函数吗？

是的。

# jquery-ui - 如何在 jquery 的对话框中添加微调器

> ID：11823291
> 
> 赞同：0
> 
> 时间：2012-08-06T06:14:11.807
> 
> 标签：jquery-ui, jquery

```
jQ.ajax({
    type : "POST",
    url : url,
    cache : false,

    success : function(msg) {
        console.log(msg);
        // jQ("<div></div>").attr('id', 'dvShiftDialog').appendTo('body');
        jQ('#main').html(jQ(msg));

        jQ('#dvShiftDialog').dialog({
            title : 'Confirm',
            modal : true,
            draggable : true,
            resizable : true,
            width : 525,
            height : 625,

            close : function() {
                jQ('#dvShiftDialog').dialog("destroy");
                jQ('#dvShiftDialog').remove();
                jQ('div.ui-dialog').remove();
            }
        });
    },
    error : function(err) {
        var m = "Error: " + err.status + '    ' + err.statusText;
        window.console && console.log(m) || alert(m);
    }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:27:43.243

根据[http://jqueryui.com/demos/dialog/](http://jqueryui.com/demos/dialog/)（这是我假设你正在使用的），你可以在对话框中放置任何东西。`.gif`因此，只需在标签内的某处使用图像`div`（或您在对话框中使用的图像），它就可以解决问题

# symfony - 扩展 Symfony 2 请求服务？

> ID：11823294
> 
> 赞同：7
> 
> 时间：2012-08-06T06:14:21.217
> 
> 标签：symfony

我正在关注Symfony 2 网站上[的 How to Override any Part of a Bundle](http://symfony.com/doc/current/cookbook/bundles/override.html)页面。这是有趣的：

> 您可以通过在 app/config/config.yml 中设置来将保存服务的类名的参数设置为您自己的类。当然，这只有在类名被定义为包含服务的捆绑包的服务配置中的参数时才有可能。

所以我看了看，`/vendor/symfony/src/Symfony/Bundle/FrameworkBundle/Resources/config`发现这`session.xml`是定义`%session.class%`参数，所以应该很容易扩展 Symfony`Session`类，如下所示：

```
namespace Acme\HelloBundle\Component\HttpFoundation;

use Symfony\Component\HttpFoundation\Session;

class ExtendedSession extends Session
{
    public function setSuccessFlashText($text, array params = array())
    {
       parent::setFlash('success', $this->getTranslator()->trans($text, $params);
    }
} 
```

我还没有测试过这个。但是我怎样才能对`request`特殊服务做同样的事情呢？我想添加一些方便的快捷方式，以使我的代码更易于阅读。

我在`services.xml`文件中找到了这个：

```
 <!--
        If you want to change the Request class, modify the code in
        your front controller (app.php) so that it passes an instance of
        YourRequestClass to the Kernel.
        This service definition only defines the scope of the request.
        It is used to check references scope.
    -->
    <service id="request" scope="request" synthetic="true" /> 
```

这是我的`app.php`。我应该如何传递我的自定义请求类的实例？

```
require_once __DIR__.'/../app/bootstrap.php.cache';
require_once __DIR__.'/../app/AppKernel.php';
//require_once __DIR__.'/../app/AppCache.php';

use Symfony\Component\HttpFoundation\Request;

$kernel = new AppKernel('prod', false);
$kernel->loadClassCache();
//$kernel = new AppCache($kernel);
$kernel->handle(Request::createFromGlobals())->send(); 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-08-06T06:32:23.457

嗯，这很简单。

在您`app.php`刚刚传递的实例中，`YourRequest`而不是默认值：

```
require_once __DIR__.'/../app/bootstrap.php.cache';
require_once __DIR__.'/../app/AppKernel.php';
//require_once __DIR__.'/../app/AppCache.php';

use src\YourCompany\YourBundle\YourRequest;

$kernel = new AppKernel('prod', false);
$kernel->loadClassCache();
//$kernel = new AppCache($kernel);
$kernel->handle(YourRequest::createFromGlobals())->send(); 
```

只需确保您从课堂上的默认值`Request`扩展`YourRequest`。

应该在没有额外服务定义的情况下工作。

* * *

根据评论，有人认为这会导致 IDE 自动完成问题。理论上 - 它不应该。

在您的控制器中，您只需添加`use`语句

```
use src\YourCompany\YourBundle\YourRequest; 
```

在行动中，你通过的地方`$request`，只需定义它的类：

```
public function yourAction(YourRequest $request) 
```

这将为您提供自动完成功能。

如果您想将请求作为服务或从控制器获取，对于 IDE，您还可以在注释文档中定义其类：

```
 /** @var $request YourRequest */
    $request = $this->getRequest(); 
```

# mongodb - MongoDB：在数组匹配参数中查找子文档

> ID：11823296
> 
> 赞同：41
> 
> 时间：2012-08-06T06:14:56.953
> 
> 标签：mongodb

在 MongoDB 中，我想根据满足某些参数的子文档的值来查找文档。具体来说，我有一个结构如下的文档：

```
{
  name: "test",
  data: [{
    name: "test1",
    start: 0,
    end: 2
  },
  {
    name: "test2",
    start: 15
    end: 18
  }]
} 
```

如果数据子文档的开始时间小于 5 并且同一子文档的结束时间大于 5，如何告诉 MongoDB 仅返回我的文档？目前，如果我这样做

```
db.foo.findOne({
  'data.start': { $lte: 5 },
  'data.end': { $gte: 5 }
}) 
```

它将始终返回我的文档，因为 5 大于 0 且小于 18。我如何告诉 MongoDB 仅在 5（或任何值）大于 0 且小于 2 或大于 15 且小于 18 时才返回我的文档?

* * *

## 回答 #1

> 赞同：77
> 
> 时间：2012-08-06T06:18:32.477

您想使用[$elemMatch](http://docs.mongodb.org/manual/reference/operator/elemMatch/#op._S_elemMatch)。

```
db.foo.findOne({ data: { $elemMatch : {
  start: { $lte: 5 },
  end: { $gte: 5 }
  }}
}) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-02-04T04:59:49.053

看到这篇文章想欺骗不存在的代码；）所以想到在`Java`使用[spring-data-mongodb时共享代码片段](http://mvnrepository.com/artifact/org.springframework.data/spring-data-mongodb-parent/1.8.1.RELEASE)

```
Mongo mongo = new Mongo("localhost", 27017);
MongoTemplate mongoTemplate = new MongoTemplate(mongo, "db");
Query query = new Query();
query.addCriteria(Criteria.where("data").elemMatch(
         Criteria.where("start").lte(5)
        .andOperator(Criteria.where("end").gte(5))));
Foo foo = mongoTemplate.findOne(query, Foo.class); 
```

# jquery - 用于数字输入的 jQuery 选择器

> ID：11823298
> 
> 赞同：0
> 
> 时间：2012-08-06T06:15:05.097
> 
> 标签：jquery, input, jquery-selectors

我有这个下拉代码：

```
$('#addDropdown').click(function() {
   var $d = $('<select class="dropdown"><option selected="selected" value="null" rel="null">Choose your data!</option><option value="1" rel="2">Option 1</option><option value="1" rel="2">Option 2</option><option value="14" rel="15">Option 3</option></select><input type="number" min="1" max="99" class="multiplier" name="multiplier" value="1" size="3"/><br/>').fadeIn().delay(1000);

   $('#dropdownContainer').append($d);
}); 
```

我正在使用此代码将值传递给 ajax 函数，我使用一个按钮来附加更多具有相同值的下拉列表：

```
 var dropdowns = $(".dropdown"),
        one = [],
        two = [],
        mult = [];

 for(var i = 0; i < dropdowns.length; i++) {
   one.push(dropdowns.eq(i).find('option:selected').attr('rel'));
   two.push(dropdowns.eq(i).val());
   mult.push(dropdowns.eq(i).val() * dropdowns.eq(i).find('input[name=multiplier]').val())
 } 
```

对于 multi 选项，我想获取选择的 value 属性并将其与数字输入中的值相乘...我的选择器不适用于输入，我该如何选择该乘数输入？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:25:55.170

[`.find()`](http://api.jquery.com/find/)只查找当前匹配集合的后代元素；因为你想要相邻的元素（兄弟姐妹），所以使用[`.next()`](http://api.jquery.com/next/)（在这种情况下可能是最好的）或[`.siblings()`](http://api.jquery.com/siblings/)：

```
for(var i = 0; i < dropdowns.length; i++) {
   one.push(dropdowns.eq(i).find('option:selected').attr('rel'));
   two.push(dropdowns.eq(i).val());
   mult.push(dropdowns.eq(i).val() * dropdowns.eq(i).next('input[name=multiplier]').val())
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T06:20:39.073

```
mult.push(dropdowns.eq(i).val() * $('.multiplier').val()) 
```

# ubuntu - 如何将 uberSVN 移动到另一台服务器？

> ID：11823309
> 
> 赞同：0
> 
> 时间：2012-08-06T06:16:05.047
> 
> 标签：ubuntu, svn, ubersvn

[我从这里](https://serverfault.com/questions/414537/how-to-move-ubersvn-to-another-server)克隆我的问题。我在 Ubuntu 服务器上使用 uberSVN 进行项目开发。现在我需要将uberSVN移动到另一台服务器（备份uberSVN和SVN数据的所有数据）。

如何将 uberSVN 移动到另一台服务器？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T10:56:31.737

首先，您需要像往常一样备份您的存储库（上面链接的书是最好的信息来源）。

接下来，您需要备份 uberSVN 数据（用户、团队等），您可以从“管理”选项卡中选择备份。

注意：确保两台机器使用相同版本的 uberSVN，否则您可能会遇到问题。

然后在新机器上安装 uberSVN 并重新加载所有数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T17:15:31.900

安装新的 UberSVN 并复制存储库。对于每个存储库：

1.  使用管理帐户登录到源 ubersvn
2.  选择存储库 / YOUR_REPOSITORY / 管理
3.  选择转储/导出（随意选择文件名和目录）
4.  将转储文件复制到新服务器
5.  使用管理员帐户登录新的 ubersvn 服务器
6.  从转储文件创建一个新的存储库

希望这可以帮助。

# ajax - 频繁的Ajax调用不更新jsp页面

> ID：11823315
> 
> 赞同：0
> 
> 时间：2012-08-06T06:16:30.387
> 
> 标签：ajax, jsp, struts-1

我在复选框单击事件上调用 ajax 函数。

它工作正常，但是当我快速检查复选框时，它不会正确调用 ajax 函数。

请建议..

jQuery ajax 调用

```
function tickComparator(prlCode,pgGrp)
 {
    jQuery.ajax({
        url: path+"resultInfo.do?method=comparator&detailPage=false&pgGrp="+pgGrp+"&pssrPrlCode="+prlCode+"&showComparator=true&cntTick="+cntTick+"&x=" + (new Date()).getTime(),
        noCache:true,
        success: function(data, textStatus, jqXHR) {
        jQuery("#compare-panel").html(data);
        },
        error : function(jqXHR, textStatus, errorThrown)
        {}
        });
        }
        });
 }

<a onclick="tickComparator(<bean:write name="results2" property="pssrPrlCode"/>,'<bean:write name="results2" property="pgGrp"/>')"/>

<div id="compare-panel">
</div> 
```

# wordpress - 在 wordpress 中检索特定帖子

> ID：11823319
> 
> 赞同：0
> 
> 时间：2012-08-06T06:16:46.470
> 
> 标签：wordpress

wordpress 的新手，试图弄清楚如何将特定的帖子内容检索到`div`.

这是我目前所拥有的，

```
<div style="margin-top: 100px;">
    <?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
    <?php the_content(); ?>
    <?php endwhile; else: ?>
    <?php endif; ?>
</div> 
```

虽然这很好用，但我有一些问题，

1 - 这可以吗？我与一些“了解” WP 的人交谈，他们说我应该避免将帖子放入我的 html 中。

2 - 如果我将上面的代码替换为，

```
<div style="margin-top: 100px;">
    <?php $postId = 1; get_post($postId) ?>
    <?php the_content(); ?>
</div> 
```

它不起作用。

3 - 我需要对此代码进行哪些修改才能使其正常工作？

**请求：**请不要将其移至`wordpress.stackexchange.com`，因为那里的活动很少。

干杯。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T09:02:30.083

试试这个代码，

```
<?php   
    get_a_post(Post Id);
    the_content();               
?> 
```

根据这个问题： 1 - 这可以吗？我与一些“了解” WP 的人交谈，他们说我应该避免将帖子放入我的 html 中。我的回答是：如果您在 html 中调用任何显然是管理员可管理的特定帖子，那么同一个帖子很可能会被错误删除，那么上述代码将无法正常工作，因为无法检索帖子 ID，所以我们基本上使一个类别并在其中添加帖子。例如：

```
<?php 
    $args = array('category' => cat id, 'numberposts' =>1);
    $postslist = get_posts($args);          
    foreach ($postslist as $post) : setup_postdata($post);                  
    the_title();    
    the_content();
endforeach; ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T06:47:09.840

查看 get_post 的函数参考 [http://codex.wordpress.org/Function_Reference/get_post](http://codex.wordpress.org/Function_Reference/get_post)

这些例子是说明性的。要获取帖子的内容，您可以执行以下操作：

```
<?php
  $my_id = 7;
  $post_id_7 = get_post($my_id); 
  $content = $post_id_7->post_content;
?> 
```

请注意，我们使用 get_post 来检索我们感兴趣的数据库记录，并且在返回的字段中，我们正在使用 post_content。

这与使用 the_content 不同，后者显示 The Loop 当前正在处理的帖子的内容。 [http://codex.wordpress.org/Function_Reference/the_content](http://codex.wordpress.org/Function_Reference/the_content)

我想前一种方法更适合您尝试做的事情。

# architecture - KendoUI 与 Telerik 架构差异

> ID：11823322
> 
> 赞同：6
> 
> 时间：2012-08-06T06:17:03.183
> 
> 标签：architecture, telerik, kendo-ui

我正在开发一个 ASP.Net web api 应用程序并在客户端使用 kendoUI。我发现[这篇](http://www.kendoui.com/documentation/asp-net-mvc/migrating-from-telerik-extensions-for-aspnet-mvc.aspx)博客文章描述了 KendoUI 和 Telerik 的差异，但它并没有反映这两者之间的任何架构差异。这两个 UI 框架在可能导致性能差异的架构方面是否存在很大差异？我很想知道深度差异以及为什么 Telerik 团队决定提出一个新的解决方案作为 KendoUI。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-06T16:53:11.470

早些时候，我们有所谓的 Telerik Extensions for MVC。Telerik 扩展简化了一些 UI 工作，因为它们可以输出 HTML，但允许开发人员使用一些帮助程序来创建通用控件。例如

```
<%= Html.Telerik().Calendar()
            .Name("Calendar")
            .Value((DateTime)ViewData["selectedDate"])
            .MinDate((DateTime)ViewData["minDate"])
            .MaxDate((DateTime)ViewData["maxDate"])
            .TodayButton("d")
    %> 
```

上面的代码在客户端呈现时会输出一个日历 ui 控件。这是任何服务器端动态内容创建技术（如 ASP.NET、JSP、PHP 等）的基本原理。客户端 HTML 实际上是在对页面发出请求时从服务器吐出的。

现在有了 Kendo UI，它是一个基于 HTML5 和 JavcaScript 的 UI 控件库 - 可以在客户端初始化一堆 UI 控件，而不必担心服务器端的管道。如果您使用 Kendo UI Web 控件，作为开发人员，您将在客户端初始化我们称为小部件的内容，并使用 AJAX 获取 JSON 有效负载并将其绑定到小部件。例如

```
<div id="calendar"></div>
<script>
 $(document).ready(function() {
                    // create Calendar from div HTML element
                    $("#calendar").kendoCalendar();
                }); 
</script> 
```

上面的代码将创建一个剑道日历小部件，但它在客户端初始化。

我们还有用于 ASP 的 Kendo UI Web，NET MVC Wrappers - 意思是 - 与 Telerim MVC 扩展非常相似的包装器也存在于 Kendo UI Web 中。例如

```
@(Html.Kendo().Grid<Product>()
    .Name("Grid")
    .DataSource(dataSource => dataSource
        .Ajax()
            .Read(read => read.Action("AjaxBinding_Read", "Grid"))
    )
) 
```

上面的代码在客户端渲染时会输出一个剑道 ui web 网格。

我试图告诉你 Telerik MVC 扩展和 Kendo UI Web 控件之间的基本区别。我们更喜欢您切换到 Kendo UI Controls，因为它们遵循 HTML5 标准，并且也适用于便携式设备。

希望这能回答你的问题。

Lohith (Tech Evangelist, Telerik India)

# javascript - 通过javascript创建和分配一些COOKIE变量

> ID：11823325
> 
> 赞同：0
> 
> 时间：2012-08-06T06:17:21.800
> 
> 标签：javascript, session, session-variables

我想通过 Javascript 在 session/cookie 中保存一些信息。

我正在尝试从主页中提取一些内容并将其分配给会话/cookie 变量，然后在我的 iframe 中使用它

我认为这是从主页获取值到 iframe 的最佳方式

请让我知道这个想法是否更好，并指导我如何通过 javascript 为会话/cookie 变量赋值

例如：

```
URL ="sitename.com/mypage/1.php?test=1&mode=0"  //just an example url

to session variable 'ifra_url' = "sitename.com/mypage/1.php?test=1&mode=0" 
```

**我浏览了一些网站，这些网站说它不可能使用 javascript 创建会话，因为会话是服务器端脚本的，我更新了我的问题如何使用 javascript 创建 COOKIE，因为它将数据保存在浏览器中而不是其他任何地方**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:43:56.677

我想我得到了答案

```
function createCookie(name,value,days) {
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}

function readCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function eraseCookie(name) {
    createCookie(name,"",-1);
} 
```

更多参考[http://www.quirksmode.org/js/cookies.html](http://www.quirksmode.org/js/cookies.html)

# wordpress-theming - Wordpress - single.php 调用了两次

> ID：11823331
> 
> 赞同：2
> 
> 时间：2012-08-06T06:17:41.650
> 
> 标签：wordpress-theming, wordpress

我正在开发一个插件，并且为了进行一些快速而肮脏的开发，我添加了一个对 single.php 的函数调用，该函数调用我的插件中的一个函数，该函数将有关当前帖子的数据存储在数据库中。

不过，我注意到它总是被调用两次：一次用于我请求的帖子，一次用于另一个帖子（未显示在页面内容中）。

有谁知道这是为什么，如果是，是否是所需的行为，如果不是，我该如何解决？

这是一个类似于我的 single.php 的示例：

```
<?php if (have_posts()) : while (have_posts()) : the_post(); ?>
                   <?php do_action('msw_single_php', $wp_query);  ?> 
```

还有一个类似于我的插件文件：

```
add_action('msw_single_php', 'msw_sp', 0, 1);
function msw_sp(WP_Query $query) {
    global $wpdb;
    $wpdb->insert($wpdb->prefix . 'msw_career_view_debug', array(
        'request_info'      => json_encode($query),
    ));
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-05-17T02:45:38.583

我遇到了同样的问题，现在已经解决了。

对我来说，这个问题只发生在 Firefox 上，当时调用了 single.php。而你不想要的帖子是相邻的。

然后我搜索了很多，终于在这里找到了解决方案：

[http://shinephp.com/single-php-call-twice-how-to-stop/](http://shinephp.com/single-php-called-twice-how-to-stop/)

这给出了另一个参考：

[http://wordpress.org/support/topic/singlephp-called-for-current-and-next-post-with-pretty-permalinks](http://wordpress.org/support/topic/singlephp-called-for-current-and-next-post-with-pretty-permalinks)

感谢上面的链接。

我想在这里做一个简短的介绍：

原因是 Firefox 预取功能。对于 single.php，WP 会自动在 <header> 中放入两个 <link>，其中一个是*rel="next"*，它指向下一篇文章（相邻文章）。

当 Firefox 看到这一点时，它会预取 <link> 指向的页面，以加快速度，以防您在阅读当前帖子后转到下一个帖子。因此，该帖子将被调用，但您永远不会看到它显示。这也是为什么您看不到为调试而转储的任何消息的原因，甚至看不到回溯。

顺便说一句，添加两个 <link> 的操作被添加到“default-filters.php”中。对于 WP 3.5.1，它位于 #204 行。

**解决方案是：**

编写一个执行的函数（例如“remove_adjacent_links”）：

```
remove_action(‘wp_head’, ‘adjacent_posts_rel_link_wp_head’) 
```

并将函数（remove_adjacent_links）挂钩到“init”。

这样，链接将从中删除。

但是，如果您确实希望链接存在，也许您将不得不以这种方式保留它并容忍 Firefox 的预取......这就是我正在做的事情，因为这对我的情况无关紧要。我没有尝试是否有办法离开那里并使用 WP 代码来阻止 Firefox 预取。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:37:13.153

我建议你开始自己调试，你有[`WP_DEBUG`](https://wordpress.stackexchange.com/questions/715/objective-best-practices-for-plugin-development/#731)吗？
`var_dump($query)`检查哪些帖子通过了 `msw_sp()`，它们在页面上的什么位置？
我还建议您`var_dump(is_single())`检查它是否是单页。
`var_dump($query->is_main_query())`将判断它是页面构建查询还是额外查询。

第二个帖子是在侧边栏中的某个地方吗？

不是一个真正的答案，而是一种让你开始的方法。

# objective-c - 自定义 UITableViewController 的 didSelectRowAtIndexPath 永远不会被调用

> ID：11823332
> 
> 赞同：0
> 
> 时间：2012-08-06T06:17:52.153
> 
> 标签：objective-c, ios, uitableview

我目前正在开发一个 iOS 项目，我对它很陌生。

1.  我的问题描述：我制作了自己的 TableView（包含 UITableView 的 UITableViewController 的派生）。不幸的是，从未调用过“didSelectRowAtIndexPath”方法。我仍然可以滚动 TableView - 我只是无法选择一行！

2.  我的项目描述（-结构）：

    `MyAppDelegate`- 包含`MyWindow`

    `MyWindow`- 用途`MyRootViewController`

    `MyRootViewController`- 包含`MyFirstViewController`

    `MyRootViewController`- 包含`MySecondViewController`

    `MyFirstViewController`- 仅包含一个视图和一些按钮和标签作为起始视图。

    `MyFirstViewController`- 实现`ViewMediator`

    `MySecondViewController`- 包含`MyTableViewController`

    `MySecondViewController`- 实现`ViewMediator`

    `ViewMediator`- 让视图在不知道彼此的情况下进行通信的协议

    `MyTableViewController`- 源自于`UITableViewController`

    `MyTableViewController`- 包含一个`UITableView`（在构造函数中制作）

    `MyTableViewController`- 覆盖`cellForRowAtIndexPath`（这有效，因此显示了元素）

    `MyTableViewController`- 覆盖`didSelectRowAtIndexPath`（从不调用）

    `MyTableViewController`- 包含`MyTableViewModel`

    `MyTableViewModel`- 只是一个类来读取文件并将数据加载到`TableView`

3.  我已经尝试过的：

    *   3.1 手动将“MyTableViewController”设置为包含 UITableView 的委托 - 即使这应该自动完成。
    *   3.2 在“MyTableViewController”之外制作 UITableView，然后将其设置为“MyTableViewController.view”和/或“MyTableViewController.tableView”。
    *   3.3 我在UITableView中手动启用了UserInteraction。认为这不是真正的问题，因为滚动工作正常。

有趣的事实：它以前工作过，我只是对 ViewControllers 的通信添加了一些小改动。之前它们是直接通信（单向），现在它们通过中介（双向）进行通信——众所周知的中介模式。这不应该影响视图及其控制器，对吧？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:29:12.893

除了将 table view 控制器指定为 table view 的委托之外，还要求`view`view controller 的属性与 tableView 完全相同。

如果您想拥有一个单独的视图和一个表格视图作为该视图的子视图（允许其他子视图），您将不得不子类化`UIViewController`而不是`UITableViewController`.

# java - JTextfield 在键入时动态添加文本

> ID：11823333
> 
> 赞同：0
> 
> 时间：2012-08-06T06:17:54.697
> 
> 标签：java, swing, jtextfield

我有一个“格式化”字段——也就是说，它最终必须是这样的形式：xx/xxxx/xx 我想这样做，以便在键入时自动添加“/”。

我试图拼凑的方式是这样的：

```
JTextField field = new JTextField ("xx/xxxx/xx");

// a focus listener to clear the "xx/xxxx/xx" on focus & restore on focus-out
// the override the 'document' with this:
field.setDocument (new PlainDocument () {
    public void insertString (int off, String str, AttributeSet attr) throws BadLocationException {
      if (off == 2 || off == 7) {
        super.insertString (off + 1, str + "/", attr);
      }
    }
} 
```

这似乎要崩溃了——当它从 xx/xx.. 到 xx 时，我该如何正确处理？我认为让他们删除“/”是可以的。

我觉得应该有更好的方法？也许我可以使用一个图书馆？除了我的……特别的东西。

感谢您的任何输入！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T06:27:42.260

嗯，你可以`JFormattedTextField`看看下面的例子，这将创建一个`JFormattedTextField`只接受数字并将它们以 XX/XXXX/XX 的形式放置：

```
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.text.ParseException;
import javax.swing.JFormattedTextField;
import javax.swing.JFrame;
import javax.swing.SwingUtilities;
import javax.swing.text.MaskFormatter;

public class FormattedTextFieldExample extends JFrame {

    public FormattedTextFieldExample() {
        initComponents();
    }

    private void initComponents() {
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setSize(new Dimension(200, 200));
        getContentPane().setLayout(new FlowLayout(FlowLayout.LEFT));

        MaskFormatter mask = null;
        try {
            //
            // Create a MaskFormatter for accepting phone number, the # symbol accept
            // only a number. We can also set the empty value with a place holder
            // character.
            //
            mask = new MaskFormatter("##/####/##");
            mask.setPlaceholderCharacter('_');
        } catch (ParseException e) {
            e.printStackTrace();
        }

        //
        // Create a formatted text field that accept a valid phone number.
        //
        JFormattedTextField phoneField = new JFormattedTextField(mask);
        phoneField.setPreferredSize(new Dimension(100, 20));
        getContentPane().add(phoneField);
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {

            public void run() {
                new FormattedTextFieldExample().setVisible(true);
            }
        });
    }
} 
```

参考：

*   [http://www.kodejava.org/examples/234.html](http://www.kodejava.org/examples/234.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:49:36.787

为了实现这一点，我这样做了：

```
JTextField field = new JTextField ();

field.setDocument (new PlainDocument () {
  public void insertString (int off, String str, AttributeSet attr) throws BadLocationException {
    if (off < 10) {  // max size clause
      if (off == 1 || off == 6) { // insert the '/' occasionally
        str = str + "/";
      }
      super.insertString (off, str, attr);
    }
  }
});

field.setText ("xx/xxxx/xx"); // set AFTER otherwise default won't show up!
field.setForeground (ColorConstants.DARK_GRAY_080); // make it light! 
field.addFocusListener (new ClearingFocusListener (field)); // could be done in an anonymous inner class - but I use it other places

private static class ClearingFocusListener implements FocusListener {
  final private String initialText;
  final private JTextField field;

  public ClearingFocusListener (final JTextField field) {
    this.initialText = field.getText ();
    this.field = field;
  }

  @Override
  public void focusGained (FocusEvent e) {
    if (initialText.equals (field.getText ())) {
      field.setText ("");
      field.setForeground (ColorConstants.DARK_GRAY_080);
    }
  }

  @Override
  public void focusLost (FocusEvent e) {
    if ("".equals (field.getText ())) {
      field.setText (initialText);
      field.setForeground (ColorConstants.LIGHT_GRAY_220);
    }
  }
} 
```

这与其他解决方案的不同之处在于，当没有文本时，'/' 不存在，它被添加到正确的位置。它目前不处理任何替换的东西——嗯。：/

# java - 在 JXTable 单元格中设置日期格式

> ID：11823334
> 
> 赞同：0
> 
> 时间：2012-08-06T06:17:55.020
> 
> 标签：java, datepicker, swingx, tablecelleditor, jxtable

在[这个线程](https://stackoverflow.com/questions/11822526/how-to-add-a-jxdatepicker-for-a-jtable-column/11822655#11822655)上，我想出了如何将 JXDatePicker 添加到 JXTable（或 JTable）单元格中。但我现在有一个小问题。

DatePicker 弹出并根据我的需要正常工作。但我无法更改单元格中日期的显示格式。它以以下长格式显示。

```
Eg: Wed Aug 01 00:00:00 IST 2012 
```

但我需要它的`dd-MMM-yyyy`格式。

我试过改变`DatePickerCellEditor`'s 的格式。它部分有效。这意味着，现在它根据该单元格处于焦点时的设置格式显示日期。但是当我专注于其他一些单元格时，它又回到了上述格式。

可能是错不在与`DatePickerCellEditor`，可能与做某事有关`tableModel`。但是想不通。任何帮助表示赞赏..

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:50:39.357

那是因为只有在您真正编辑单元格值时才使用 TableCellEditor。为了表示一个值，而不是在编辑模式下使用 TableCellRenderer。

我建议阅读这篇[文章](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#editrender)以了解更多关于表格单元的渲染器和编辑器的概念。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T09:13:36.613

根据您之前的问题，过程几乎相同，只是您想使用渲染器而不是编辑器

```
public class DateCellRenderer extends DefaultTableCellRenderer {

    @Override
    public Component getTableCellRendererComponent(JTable jtable, Object value, boolean selected, boolean hasFocus, int row, int column) {

        if (value instanceof Date) {

            // You could use SimpleDateFormatter instead
            value = DateFormat.getDateInstance().format(value);

        }

        return super.getTableCellRendererComponent(jtable, value, selected, hasFocus, row, column);

    } 
```

然后，要应用渲染，您可以将其应用到特定列（因此只有该列将使用它），或者在`Date`您可能希望使用该`Date`值的所有列的情况下使用它...

```
JTable table = new JTable();

DateCellRenderer renderer = new DateCellRenderer();
// Apply for a single column
table.getColumnModel().getColumn(0).setCellRenderer(renderer);
// OR apply for all columns using the Date class
table.setDefaultRenderer(Date.class, renderer); 
```

# python - DMM、Python 和串行端口：在循环期间 - 通信突然停止

> ID：11823336
> 
> 赞同：2
> 
> 时间：2012-08-06T06:18:11.270
> 
> 标签：python, serial-port, pyserial

我正在使用安捷伦数字万用表进行测量。我使用 Python 2.7 和 PySerial 模块与它通信。想法：使用 FOR 循环，我从 DMM 读取数据并获取数据。它工作正常，直到某个点，每次不同点。

例如：如果我将循环设置为测量 20k 次，它会在 1k 次后突然停止，下次尝试它可能会在 5k 次后停止....停止 - 表示 DMM 停止发送数据，python 保持在一种等待状态. 我的脚本卡住了，我必须终止它。没有错误，我不知道为什么。我尝试在测量之间添加超时（睡眠），但这并不能解决问题。以下是我的脚本中的主要命令：

```
# configure the serial connections 
ser = serial.Serial(
    port='com3',
    baudrate=19200,
    parity=serial.PARITY_NONE,
    stopbits=serial.STOPBITS_ONE,
    bytesize=serial.EIGHTBITS
}

ser.write("CONF:CURRent:DC" + '\r\n')
time.sleep(1)
ser.write("SENS:CURR:DC:RANGe:UPP 0.05" + '\r\n')
time.sleep(1.5)

for m in range (0, 2000):
try:
    ser.write('READ?' + '\r\n')
    out += ser.read(18)
    print "out = ",out
except:
    print "error!" 
```

循环正在运行，有时它“存活”到最后，但大多数时候它只是停止，请指教。请注意，我从不进入“例外”部分。添加“尝试”没有帮助......

谢谢！

~ 海豚 ~

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:35:14.370

您可以在创建`serial.Serial`对象时设置超时。有 2 个参数用于指定读取和写入超时。这是一个例子：

```
ser = serial.Serial(
    port='com3',
    baudrate=19200,
    parity=serial.PARITY_NONE,
    stopbits=serial.STOPBITS_ONE,
    bytesize=serial.EIGHTBITS,
    timeout=3, # <------ read timeout in seconds (can be floating)
    writeTimeout=3, # <-------------- write timeout in seconds (can be floating
} 
```

以下是有关这些参数可以采用的值的文档说明：

> timeout = None：永远等待
> 
> timeout = 0：非阻塞模式（读取时立即返回）
> 
> timeout = x：将超时设置为 x 秒（允许浮动）

# php - 将 uri 段传递给 codeIgniter 中的库

> ID：11823338
> 
> 赞同：2
> 
> 时间：2012-08-06T06:18:17.947
> 
> 标签：php, codeigniter

我正在开发一个 CodeIgniter 项目。我想将一个 uri 段从控制器传递到我自己的库。我无法做到这一点..我使用 session 尝试过，但它不起作用。请帮助我..

这是我的控制器，

```
<?php
class insertdata extends CI_Controller{

function __construct(){
    parent::__construct();
}

//#############################################################################

function updateprop(){

    $this->load->library('DataEntryForms_update');

            //get the uri segment
    $id = $this->uri->segment(3);

       //setting the session data
       $this->session->set_userdata('id',$id);

     $params [] = $this->uri->segment(3);

    $form_name = $this->input->post('function_name');
    switch ($function_name){

        case 1:

            $this->dataentryforms_update->function1();

            break;
        case 2:
            $this->dataentryforms_update->function2();
            break;

       }            
     }  
  } 
```

这是我的图书馆...

```
<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');

 class DataEntryForms_update{
protected  $CI;

 #######################################################
  //gets the CI instance    
  function __construct(){

$this->CI =& get_instance();
  }

 #############################################################

   function function1($params){

 $this->params = $params;
 print_r ($this->params);

 $project_id = $this->CI->session->userdata('id');
 echo $project_id;
 die();
    }   

} 
```

在库中，我尝试获取会话数据，但我将会话数据 'id' 设为 0 ...当我使用 uri->segemnt(2) 时。它将获得正确的值，但 uri->segment(3) 不起作用...请帮助我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-09T03:22:11.300

在文件夹 application\libraries\MyClass.php

```
<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');

class MyClass {
    public function myfunction() {
        $CI =& get_instance();
        $CI->load->helper('url');
        $CI->load->library('session');
        // do something else below
    }
}
?> 
```

希望它有效！:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:19:30.127

要在您的库中访问 CodeIgniter 的本机资源，请使用该`get_instance()`函数。

您必须已将会话库加载到新创建的库中。您应该必须将会话库包含到您自己的库中。您可以在尝试访问会话变量的函数中使用以下代码。

```
$CI =& get_instance();

$CI->load->helper('url');
$CI->load->library('session'); 
```

[这篇文章](http://superdit.com/2010/04/17/creating-user-session-checking-with-codeigniter-library/)肯定会帮助您利用图书馆中的会话。

# wpf - 如何从 CollectionViewSource 添加或删除项目？

> ID：11823341
> 
> 赞同：4
> 
> 时间：2012-08-06T06:18:32.097
> 
> 标签：wpf, list, binding, collectionviewsource

我想将一个 datagrid.itemsource 绑定到一个匿名类型的列表，所以我将它绑定到一个 collectionViewSource，但我需要在列表中添加或删除一个项目，但我不知道如何？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T06:25:30.370

`CollectionView`并且`CollectionViewSource`正如他们的名字所暗示的那样，只有**意见**。您只能操作原始集合。`ObservableCollection`如果您希望更改自动反映在您的 UI 中，您应该使用。

我建议不要使用匿名类型进行数据绑定。但是如果你必须 - 他们实现了 Equals 方法，所以你应该能够使用具有相同属性的新项目或使用项目的索引来删除项目。

# playframework-2.0 - 带有 Playframework2.0.2 的 HTML5 页面

> ID：11823348
> 
> 赞同：1
> 
> 时间：2012-08-06T06:19:28.933
> 
> 标签：playframework-2.0

尝试包含简单`HTML5`页面而不是`scala`模板..

为此，我尝试`HTML`在我的中创建一个简单的页面`views`，但是如何将我的应用程序重定向到此页面？

我想要实现的是使用 HTML 页面作为我的 UI 和 Play 控制器`POST`以及`GET` `JSON`数据到 ui 页面，这将允许我解耦 UI

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:02:21.607

查看`routes`文件，最后有路由`assets`- 放置在公共目录中的 CSS、JS 和图像等静态文件。

您可以为静态 HTML 文件创建类似的文件夹，并添加与资产相同的单独路由。

您还可以将文件添加到`views`as ie 中。`static_html5.scala.html`并且不要向其中添加任何 scala 函数（只是要记住将文件的第一行留空）在这种情况下，您只需要记住将任何替换`@`为`@@`（即`My email is bob@@example.com`：）

在这种情况下，您可以将其呈现为没有参数的通用模板：

```
public static Result index(){
    return ok(static_html5.render());
} 
```

# java - Jaxb 可以在没有根元素的情况下编组子元素吗？

> ID：11823352
> 
> 赞同：13
> 
> 时间：2012-08-06T06:19:46.937
> 
> 标签：java, xml, jaxb, marshalling

我不确定jaxb是否可以解决以下问题，但无论如何我都会问。

在某个项目中，我们使用带有已定义模式的 jaxb 来创建 xml 文件的下一个结构。

```
<aaa>
     <bbb>
        more inner children here
     </bbb>
     <bbb>
        more inner children here
     </bbb>
</aaa> 
```

我们还使用 jaxb 的自动类生成来创建类：aaa 和 bbb，**其中 aaa 是作为 @XmlRootElement 生成的。**

我们现在想在一个新项目中使用相同的模式，这也将与以前的项目兼容。我想做的是使用相同的 jaxb 生成的类，而不在模式中执行任何更改，以便仅将单个 bbb 对象编组为 xml。

```
JAXBContext jc = JAXBContext.newInstance("generated");
Marshaller marshaller = jc.createMarshaller();
marshaller.marshal(bbb, writer); 
```

所以我们会得到下一个结果：

```
 <bbb>
    <inner child1/>
    <inner child2/>
    ...
 </bbb> 
```

我目前无法这样做，因为编组器大喊我没有定义 @XmlRootElement。

我们实际上是在尝试避免将模式分成 2 个模式的情况，一个只有 bbb，另一个是 aaa 导入 bbb。

提前致谢！

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2016-04-21T07:08:52.563

我可能迟到了 3 年，但你有没有尝试过这样的事情：

```
public static String marshal(Bbb bbb) throws JAXBException {
    StringWriter stringWriter = new StringWriter();

    JAXBContext jaxbContext = JAXBContext.newInstance(Bbb.class);
    Marshaller jaxbMarshaller = jaxbContext.createMarshaller();

    // format the XML output
    jaxbMarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);

    QName qName = new QName("com.yourModel.bbb", "bbb");
    JAXBElement<Bbb> root = new JAXBElement<Bbb>(qName, Bbb.class, bbb);

    jaxbMarshaller.marshal(root, stringWriter);

    String result = stringWriter.toString();
    LOGGER.info(result);
    return result;
} 
```

这是我在没有 rootElement 的情况下必须编组/解组时使用的文章：http: [//www.source4code.info/2013/07/jaxb-marshal-unmarshal-with-missing.html](http://www.source4code.info/2013/07/jaxb-marshal-unmarshal-with-missing.html)

它对我来说很好用。我正在为其他寻找答案的迷失灵魂写这篇回复。

祝一切顺利 ： ）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-09-22T13:00:04.763

我可能迟到了 5 年 :) 但你有没有尝试过这样的事情：

```
StringWriter stringWriter = new StringWriter();
JAXB.marshal(bbb, stringWriter);
String bbbString = stringWriter.toString(); 
```

# selenium - 如何运行 selenium 测试用例？

> ID：11823354
> 
> 赞同：0
> 
> 时间：2012-08-06T06:19:59.113
> 
> 标签：selenium, selenium-rc, selenium-webdriver, selenium-ide, selenium-grid

我在我的应用程序中编写了一个 selenium 示例测试用例。然后我右键单击该文件并选择“测试文件”。结果

```
Testsuite: com.MyApp.SampleSeleniumTest
Tests run: 1, Failures: 1, Errors: 0, Time elapsed: 0.265 sec

Testcase: warning(junit.framework.TestSuite$1): FAILED
No tests found in com.MyApp.SampleSeleniumTest
junit.framework.AssertionFailedError: No tests found in com.MyApp.SampleSeleniumTest
Test com.MyApp.SampleSeleniumTest FAILED 
```

我的代码是

```
package com.MyApp;

import com.thoughtworks.selenium.*;
import org.junit.Test;

public class SampleSeleniumTest extends SeleneseTestCase {

   @Override
   public void setUp() throws Exception {
      setUp("http://www.google.com", "*firefox");
   }

   @Test
   public void whatever() throws Exception {
       selenium.open("/");
       assertTrue(selenium.isTextPresent("Explore"));
   }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T09:36:57.997

这是执行相同操作的另一种方法

```
package com.MyApp;

import com.thoughtworks.selenium.*;
import org.junit.*;

public class SampleSeleniumTest extends SeleneseTestCase {

    @Before
    public void setUp() throws Exception {
        selenium = new DefaultSelenium("localhost", 4444, "*chrome", "http://urlofyourApp");
        selenium.start();
    }

    @Test
    public void testTestRC() throws Exception {
        selenium.open("/");
    assertTrue(selenium.isTextPresent("Explore"));

    }

    @After
    public void tearDown() throws Exception {
        selenium.stop();
    }
} 
```

# javascript - xmlhttp 在 IE9 中的中断

> ID：11823360
> 
> 赞同：0
> 
> 时间：2012-08-06T06:20:38.560
> 
> 标签：javascript, ajax, internet-explorer-9, xmlhttprequest

```
echo 'function get_estrategias(estrategia,fase){
    if(window.XMLHttpRequest){// code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp=new XMLHttpRequest();
    }
    else{// code for IE6, IE5
        xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
    }
    xmlhttp.onreadystatechange=function(){
        if (xmlhttp.readyState==4 && xmlhttp.status==200){
            $("#descripciones select").append(xmlhttp.responseText);
        }
    }
    xmlhttp.open("POST", "../resources/get_estrategias.php", true);
    xmlhttp.setRequestHeader("Content-type", "application/xml;charset=ISO-8859-1");
    parameters="estrategia="+estrategia+"&fase="+fase;
    xmlhttp.send(parameters);
}' 
```

此代码在 IE9 中中断。它抛出错误代码 C00CE56E 'unknown encoding' 或类似的东西：http: [//support.microsoft.com/kb/304625](http://support.microsoft.com/kb/304625)

我不知道如何解决这个问题，我正在用我知道的粗略的 javascript 基础学习 ajax，但我感觉这只是我似乎无法通过谷歌搜索的 IE 错误中的另一个。

更新

正如有人提到的，我仅使用 jquery 进行了尝试。

```
echo 'function get_estrategias(estrategia,fase){
            $.ajax({
                            url: \'../resources/get_estrategias.php\',
                            type: \'POST\',
                            dataType: \'html\',
                            contentType: "application/x-www-form-urlencoded; charset=iso-8859-1",
                            data:{estrategia :estrategia,fase:fase},
                            success:function(data, textStatus, xhr){$("#descripciones select").append(data);},  
                            error:function(xhr, status, errorThrown) {alert(errorThrown+\'\n\'+status+\'\n\'+xhr.statusText); }
           });
    }'; 
```

我最终遇到了同样的错误 c00ce56e。我在阅读[https://forum.jquery.com/topic/fix-jquery-ajax-errors-in-ie#14737000003545233](https://forum.jquery.com/topic/fix-jquery-ajax-errors-in-ie#14737000003545233)后添加的最后一个错误函数 它产生了一个包含以下内容的弹出窗口

```
 [object error]
 error
 [object error] 
```

在所有情况下，我都尝试将 'AddDefaultCharset ISO-8859-1' 和 'default_charset = "ISO-8859-1" ' 分别添加到我的本地主机上的 http.conf 和 php.ini 文件中，但无济于事。如果这有助于缩小问题的范围，或者如果有人对如何解决问题有任何想法，请不要犹豫，这样说:(

# cocoa - 基于视图的 NSTableView 接收延迟的编辑操作

> ID：11823364
> 
> 赞同：0
> 
> 时间：2012-08-06T06:20:41.243
> 
> 标签：cocoa, nstableview

每当用户单击单元格并等待或双击它时，我想从基于视图的表格单元格中显示一个弹出窗口。双击部分很容易，通过双击操作，但我找不到单击并等待的方法。我可以选择表格，但我希望它类似于文本字段（不会立即开始编辑）或 Xcode 中的对象库。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-11T12:27:33.457

本文档描述了如何在文本字段编辑开始/结束时收到通知。

*   [https://developer.apple.com/library/mac/qa/qa1551/_index.html](https://developer.apple.com/library/mac/qa/qa1551/_index.html)

这些是实现处理它们的基本委托方法。

```
func control(control: NSControl, textShouldBeginEditing fieldEditor: NSText) -> Bool {
    return  true
}
func control(control: NSControl, textShouldEndEditing fieldEditor: NSText) -> Bool {
    return  true
} 
```

## 解释

我相信您说的是“延迟编辑”之类的东西，例如在 Finder 中重命名。用户单击一个条目，稍等片刻，很快就会变成可编辑的。

我终于弄清楚这是如何工作的。“延迟编辑”更可能是双重作用（`setDoubleAction:`）而不是正式功能的副作用。因为您有一个双击动作，所以表格视图必须等待双击间隔来确定是否会发生第二次单击。

如果不这样做`setDoubleAction:`，编辑会立即在文本字段上开始。但是通过设置双重动作，我们可以使其延迟。剩下的工作只是在编辑开始时得到通知。

上面的代码都是为了这个。我检查了这是否适用于 OS X 10.10。NSButton 似乎确实被延迟了。我希望这有帮助。

## 另一种解决方案

如果上述方法不起作用，这是另一种方法。

*   准备一个`NSTextField`子类。

    ```
    @interface  AAATextField: NSTextField
    @end
    @implementation AAATextField
    - (BOOL)becomeFirstResponder {
        NSLog(@"%@", @"editing is starting...");
        return  YES;
    }
    @end 
    ```

*   准备一个`NSTableCellView`子类。

    ```
    @interface BBBTableCellView : NSTableCellView
    @property(nonatomic,readwrite,strong) NSTextField*  exampleTextField;
    @end

    @implementation BBBTableCellView
    @synthesize exampleTextField;
    - (instancetype)initWithFrame:(NSRect)frameRect {
        self    =   [super initWithFrame:frameRect];
        if (self) {
            exampleTextField    =   [[AAATextField alloc] initWithFrame:CGRectMake(20, 0, 100, 20)];
            [self addSubview:exampleTextField];
            [self setTextField:exampleTextField];
        }
        return  self;
    }
    @end 
    ```

*   与`NStableView`.

    ```
    - (NSView *)tableView:(NSTableView *)tableView viewForTableColumn:(NSTableColumn *)tableColumn row:(NSInteger)row {
        BBBTableCellView*   v   =   [[BBBTableCellView alloc] init];
        v.exampleTextField.stringValue  =   @"ABCDE";
        return v;
    } 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T06:35:02.890

您可以实现表视图委托方法 tableViewSelectionDidChange:，并在该方法中调用 performSelector:withObject:afterDelay: 以在显示弹出框之前添加所需的任何延迟。

# javascript - 如何将参数传递给 Leaflet 事件监听器？

> ID：11823367
> 
> 赞同：0
> 
> 时间：2012-08-06T06:21:08.463
> 
> 标签：javascript, leaflet

我正在尝试编写此函数，以便单击在 Google 地图中创建的新项目应运行`panTo()`到指定的`latlng`. 我不知道是否`addListener`无法向回调函数发送参数。

```
function createLinkToMarker(title, latlng, container) {
    var a = L.DomUtil.create('a', 'link-marker', container);
        a.href='#',
        a.innerHTML = title;

    function pan() {//??? why I passing argument(latlng) for each new A element?
        console.log(arguments);
        map.panTo(latlng);
    }
    L.DomEvent
        .addListener(a, 'click', L.DomEvent.stopPropagation)
        .addListener(a, 'click', L.DomEvent.preventDefault)
        .addListener(a, 'click', pan);
    return a;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-14T02:52:46.990

您可能应该只将 latlng 值添加到 DOM 元素并在侦听器中检索它。如果您使用的是 HTML5，您可以存储带有前缀“data”的项目，这样您就可以将元素中的纬度存储为“data-lat”，将经度存储为“data-lon”，即：

```
a.setAttribute( "data-lat", latlng.lat );
a.setAttribute( "data-lon", latlng.lng ); 
```

然后在你的听众中：

```
var lat = this.getAttribute( "data-lat" );
var lon = this.getAttribute( "data-lon" );
map.panTo( new L.LatLng( lat, lon ) ); 
```

希望这可以帮助！

# java - 如何在 Java 桌面应用程序中创建动态报告

> ID：11823373
> 
> 赞同：1
> 
> 时间：2012-08-06T06:22:02.317
> 
> 标签：java, mysql, frameworks, report

我正在创建 java 桌面应用程序。在应用程序中，我想创建许多具有不同参数的报告。**哪个框架易于使用并支持桌面应用程序。我对这个概念很陌生。**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T06:24:31.667

[JasperReports](http://jasperforge.org/projects/jasperreports/)是众所周知的，应该可以帮助您做您需要的事情：

> JasperReports 是世界上最受欢迎的开源报告引擎。它完全用 Java 编写，能够使用来自任何类型数据源的数据并生成像素完美的文档，这些文档可以以各种文档格式（包括 HTML、PDF、Excel、OpenOffice 和 Word）进行查看、打印或导出.

# sql-server - 使用 Sync Framework 将 SQLite 与 SQLServer 同步

> ID：11823377
> 
> 赞同：6
> 
> 时间：2012-08-06T06:22:14.487
> 
> 标签：sql-server, sqlite, synchronization, microsoft-sync-framework

我正在尝试制作一个在线应用程序，它可以将 Android 设备上运行的 SQLite 数据库与服务器上运行的 SQL 同步。我们有一个在 .NET 和 Android 上运行的企业应用程序；我们需要同步他们的数据以保持一致性。这将是双向同步：发生的任何数据更改（在客户端或数据库服务器上）都应同步。

我看到这可以通过许多方法来实现，但对于这种情况，我建议使用 Microsoft Sync Framework，因为它可以自动执行同步过程并且也很方便。我对使用 Sync 框架进行了一些研究，并在 Microsoft 网站上找到了一些示例。但大多数情况下他们都在进行离线同步：他们基本上是在桌面上进行同步过程，其中源数据库和目标数据库在同一台机器上。但对于我的情况，情况并非如此。我在客户端机器上有 SQLite，在服务器上有 SQL，所以这里似乎需要一个在线同步过程。

我应该如何实现这一目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T01:55:24.647

它们是示例应用程序，因此为简单起见，它们只是将源数据库和目标数据库都指向本地。没有阻止您将数据库连接重新指向远程服务器。

与其单独查看 Sync Framework SDK，不如查看[Sync Framework Toolkit](http://code.msdn.microsoft.com/wpapps/Sync-Framework-Toolkit-4dc10f0e)。那就是解决非 MS 客户端平台的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-12-12T14:20:27.860

Microsoft 同步服务可用于任何可由 ADO.NET 数据提供程序连接的数据源。您将希望了解如何进行点对点同步。Microsoft Sync Framework 的规则保存在 SQL Server Compact Edition 数据库中，并且需要驻留在 SQL Server 端，并且很可能您将通过网络连接 (Internet) 执行同步，因此您需要设置一个 Web服务器和 Web 服务以从 Android 端激活同步代理。制作代理和同步适配器将是相当多的工作。幸运的是，有进取心的开发人员已经完成了这项工作：[https](https://ampliapps.com/sqlite-sync/) : //ampliapps.com/sqlite-sync/ 还有其他类似我发布的工具，为了透明起见，我对 Ampliapps 没有兴趣，我只知道他们的产品.

# jquery - 使用JSP去除文本框中的空白

> ID：11823380
> 
> 赞同：0
> 
> 时间：2012-08-06T06:22:41.833
> 
> 标签：jquery, jsp

我的 JSP 页面中有一个文本框，允许用户输入名称，我在其中给出了 30 个字符的最大限制。

但是当用户输入空白区域时，它会计算并且一旦达到最大限制就不允许字符输入。

我希望当输入空格时，用户应该能够输入字符。它不应该计算空格。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T06:30:05.497

尝试这个：

```
$(function() {
  var txt = $("#myTextbox");
  var func = function() {
    txt.val(txt.val().replace(/\s/g, ''));
  }
  txt.keyup(func).blur(func);
}); 
```

您必须另外处理该`blur`事件，因为用户可以使用上下文菜单进行粘贴。

## [看演示](http://jsfiddle.net/akhurshid/aEHfG/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T06:26:30.770

您可以用空字符串替换所有空格并计算字符数。试试这个代码：

```
function get(str){str = str.replace(/\./g,' ');return str.length;} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T06:30:54.777

或者再次：

```
$('input').keypress(function(){
    var t = $(this).val();
    console.log(t.replace(/\s/g, '').length);
    if(t.replace(/\s/g, '').length >= 10) alert('max');

}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T06:41:04.200

你可以使用

```
$('input').keyup(function(event) {
    if (event.keyCode == 32) {             // if the user presses 'space',
        $(this).val(function(i, val) {
            return val.replace('  ', ' '); // find and replace 'double spaces' and replace it with one 'space
        });
    }
});​ 
```

检查我的[演示](http://jsfiddle.net/TSkj3/16/)

此代码允许彼此相邻的最大 ONE 空间，以防用户想要输入姓氏。只是和选择。如果您不想要这个，请使用其他答案中的代码。

# iphone - Objective-C：UIButton 图像不会改变

> ID：11823382
> 
> 赞同：4
> 
> 时间：2012-08-06T06:22:43.913
> 
> 标签：iphone, objective-c

我这样做是为了改变`UIButton`图像，这里所有的**“开关”**都是`IBOutlets`，`UIButton`

```
-(IBAction)userselect:(id)sender
{
    UIButton *btnTagcatcher =(UIButton * )sender;
 if(btnTagcatcher.tag == 1)
    {
        if(btnimgflag1 == 0)
            {
                NSString* path  = [[NSBundle mainBundle] pathForResource:@"check-box-withtick-1n1" 
                                                                  ofType:@"png"];
                UIImage *image  = [[UIImage alloc] initWithContentsOfFile:path];
                [switch1 setImage:image forState:UIControlStateNormal];
                NSString* path1  = [[NSBundle mainBundle] pathForResource:@"check-box-withouttickn1" 
                                                                   ofType:@"png"];
                UIImage *image1  = [[UIImage alloc] initWithContentsOfFile:path1];
                [switch2 setImage:image1 forState:UIControlStateNormal];
                [switch3 setImage:image1 forState:UIControlStateNormal];
                [switch4 setImage:image1 forState:UIControlStateNormal];
                btnimgflag2 = 0;
                btnimgflag3 = 0;
                btnimgflag4 = 0;

                btnimgflag1 = 1;
            }
            else if(btnimgflag1 == 1)
            {
        NSString* path  = [[NSBundle mainBundle] pathForResource:@"check-box-withouttickn1" 
                                                                  ofType:@"png"];
                UIImage *image  = [[UIImage alloc] initWithContentsOfFile:path];

                //[switch1 setImage: image];
                [switch1 setImage:image forState:UIControlStateNormal];
                btnimgflag1 = 0;
            } 
```

但有时**（通常是第一次按下时）**按钮图像在点击时不会改变。

我不知道，这里发生了什么，请。提前指导我，谢谢。

问候萨德。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:23:25.567

请调试您的代码并检查您是否获得了正确的按钮标签。我已经完全实现了您所描述的内容并复制粘贴您的代码，它不起作用，然后我只是`if(btnTagcatcher.tag == 1)`将`if(btnTagcatcher.tag == 0)`. 现在它正在工作，请尝试验证这一点。

如果事件这你有问题，那么请给我你的电子邮件ID，我会给你完整的代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:36:09.413

你能把这个条件改成`else if(btnimgflag1 == 1)`简单的`else`语句吗？因为在`if`您将 btnimgflag1 分配为 1 的部分中`btnimgflag1 = 1;`。只是我的猜测，我遇到了完全相同的问题！如果那没有帮助！`IBOutlet connections`应该是问题！！

# c# - 如何从后面的c#代码调用javascript函数

> ID：11823384
> 
> 赞同：1
> 
> 时间：2012-08-06T06:23:25.050
> 
> 标签：c#, javascript, asp.net

最初，表在 ASP.NET 页面中是不可见的。在按钮单击事件上，它应该转到后面的代码，然后我需要在 javascript 中调用一个函数。在那个javascript函数中，我应该使表格可见。这可能吗？？有人请帮帮我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T06:28:25.030

尝试这个：

```
Page.ClientScript.RegisterStartupScript(GetType(), "MyKey", "Myfunction();", true); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T06:30:32.877

试试下面的代码

```
ScriptManager.RegisterStartupScript(this, this.GetType(), "isActive", "alert('hello');", true); 
```

这里“ **this** ”用于控制你想触发它。 **this.Gettype()**用于获取客户端脚本“ **isActive** ”的类型，它是唯一键。毕竟这些javascript代码。它可以是你想做的任何事情。最后，**确实**会询问您是否要为您在此处编写的 javascript 代码编写脚本标记。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T06:31:30.463

```
 ScriptManager.RegisterStartupScript(this.Page, this.GetType(), "HelloWorld", "HelloWorld();", true); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T06:27:07.603

从后面的代码中，您可以调用类似这样的 javascript

```
ScriptManager.RegisterStartupScript(Page, GetType(Page), "ScriptName", 'document.getelementById("tableId").display = inline;' , True) 
```

但我建议在不发布页面的情况下在客户端执行此操作。仅当您需要访问服务器资源时才发布页面。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-06T06:28:23.757

您可以使用后面的代码调用 javascript 函数：

```
 ScriptManager.RegisterStartupScript(page, typeof(Page), Guid.NewGuid().ToString(), "callJavaScriptFunction();", true); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-06T06:29:57.967

从后面的代码调用 javascript 函数是不可能的（如果我们不考虑更新的`sockets`）。
页面从 Web 服务器加载一次后，服务器无法知道将哪些数据发送给哪个用户..您可能应该尝试根据从服务器获得的响应
发送并执行一些代码。`ajax request`

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-07-29T07:41:25.183

尝试这个

`string str="<script>alert(\"ok\");</script>"; Page.ClientScript.RegisterStartupScript(this.GetType(), "Script", str, false);`

# android - document.location.href='#location'; 与 $.mobile.changePage('#location');

> ID：11823386
> 
> 赞同：2
> 
> 时间：2012-08-06T06:23:44.397
> 
> 标签：android, jquery, jquery-mobile

这两个重定向有什么区别？我有一个应用程序，当我使用时，它可以在 chrome 和 android 4 上正常工作，但不能在 android 2.xx 上运行

```
document.location.href='#location'; 
```

但是当我使用

```
$.mobile.changePage('#location'); 
```

它在 chrome 和 android 中都不能正常工作。似乎发生了重定向，但之后立即跳转到我的应用程序的索引页面。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:11:36.260

`$.mobile.changePage`是 jQM 风格的导航方法。这意味着如果您启用了 AJAX 导航（默认情况下启用），您链接到的页面将被异步获取并注入到当前页面的 DOM 中。

这是通过获取目标页面，扫描它以查找 jQM 页面（带有 的容器元素`data-role='page'`），将该元素注入当前 DOM 并显示它，同时隐藏以前的内容来完成的。

查看[jQuery Mobile 文档](http://jquerymobile.com/demos/1.1.1/docs/api/methods.html)以获取更多详细信息。

确保

*   你的目标页面有一个 jQuery Mobile 页面
*   目标页面由 jQM 获取（使用 Fiddler 或类似工具）
*   它存在于当前页面的 DOM 中

您可能还决定禁用 AJAX 导航（在开发移动应用程序时这是错误的想法）。这是通过在处理程序中设置`ajaxEnabled`为 false 来完成的。`mobileinit`有关更多详细信息，请查看[jQM 配置文档](http://jquerymobile.com/demos/1.1.1/docs/api/globalconfig.html)。确保`mobileinit`在您的页面中包含 jquery-mobile.js 之前执行您的钩子。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T06:48:54.177

尝试这个：

```
$.mobile.changePage( "#location", {
    transition: "pop",
    reverse: false,
    changeHash: false
}); 
```

jQuery Mobile在 $.mobile 对象上公开了几个[**方法和属性，以便在您的应用程序中使用。**](http://jquerymobile.com/test/docs/api/methods.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-27T10:13:52.947

尝试这个：

```
 webView.setWebViewClient(new WebViewClient() {
            @Override
            public boolean shouldOverrideUrlLoading(WebView view, String url) {
               if(//url filtering){ 
                   view.loadUrl(url);
               }
                return true;
            }
        }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-03-14T08:25:43.290

使用前请确保文档已准备就绪，`$.mobile.changepage`否则将无法使用。如果您在给定页面上发生某些事件后使用自动重定向到不同页面，这将是一个问题。

```
 $(document).ready(function(){
   $.mobile.changepage('xyz.html');
 } 
```

# android - 短信队列 失败短信处理

> ID：11823390
> 
> 赞同：5
> 
> 时间：2012-08-06T06:24:28.213
> 
> 标签：android, sms

我正在开发一个执行以下操作的应用程序：

*   接收短信
*   发送短信
*   对发件人做一些计算任务。

有没有可能是短信发送失败。谁能告诉我如何管理发送失败的 SMS 消息队列并在一段时间后继续重试发送它们。

我已经看过代码，但不知道如何处理短信队列并重新发送它们。

这是代码：

```
private void sendSMS(String phoneNumber, String message)
{        
    String SENT = "SMS_SENT";
    String DELIVERED = "SMS_DELIVERED";

    PendingIntent sentPI = PendingIntent.getBroadcast(this, 0,
        new Intent(SENT), 0);

    PendingIntent deliveredPI = PendingIntent.getBroadcast(this, 0,
        new Intent(DELIVERED), 0);

    //---when the SMS has been sent---
    registerReceiver(new BroadcastReceiver(){
        @Override
        public void onReceive(Context arg0, Intent arg1) {
            switch (getResultCode())
            {
                case Activity.RESULT_OK:
                    Toast.makeText(getBaseContext(), "SMS sent", 
                            Toast.LENGTH_SHORT).show();
                    break;
                case SmsManager.RESULT_ERROR_GENERIC_FAILURE:
                    Toast.makeText(getBaseContext(), "Generic failure", 
                            Toast.LENGTH_SHORT).show();
                    break;
                case SmsManager.RESULT_ERROR_NO_SERVICE:
                    Toast.makeText(getBaseContext(), "No service", 
                            Toast.LENGTH_SHORT).show();
                    break;
                case SmsManager.RESULT_ERROR_NULL_PDU:
                    Toast.makeText(getBaseContext(), "Null PDU", 
                            Toast.LENGTH_SHORT).show();
                    break;
                case SmsManager.RESULT_ERROR_RADIO_OFF:
                    Toast.makeText(getBaseContext(), "Radio off", 
                            Toast.LENGTH_SHORT).show();
                    break;
            }
        }
    }, new IntentFilter(SENT));
    SmsManager sms = SmsManager.getDefault();
    sms.sendTextMessage(phoneNumber, null, message, sentPI, deliveredPI);   
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T11:18:16.040

我不确定我是否正确理解了您的问题，但根据我的说法，这似乎是一个更简单的解决方案：

*当出现上述任何一种故障时，您可以将该号码插入一个列表中，并在指定的时间限制后检查该列表。如果列表中出现任何号码，则向该号码发送消息。发送消息后，您应该从列表中删除该项目*

编辑：

代码-

```
 class checkList extends AsyncTask<String, Void, Void> {
         public Void doInBackground(String... p) {
          while (true) {

                       //Check List Value Here

           try {
            Thread.sleep(1000);
           } catch (InterruptedException ie) {
            ie.printStackTrace();
            Log.e("Sleep", "Error: " + ie.toString());

           }
          }
        }

        }; 
```

在主要活动中，写-

```
new checkList().execute(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T13:36:29.297

```
 PendingIntent sentPI = PendingIntent.getBroadcast(this, 0,
            new Intent(SENT), 0);
        SmsManager sms = SmsManager.getDefault();
        sms.sendTextMessage(phone_nr, null,"dummy text" , sentPI, null); 

             class checkList extends AsyncTask<String, Void, Void> {
         public Void doInBackground(String... p) {
          while (true) {
                   //failed msg send Again
               sms.sendTextMessage(phone_nr, null,"message Sended" , sentPI, null); 

           try {
            Thread.sleep(1000);
           } catch (InterruptedException ie) {
            ie.printStackTrace();
            Log.e("Sleep", "Error: " + ie.toString());

           }
          }
        }

        };

    //---when the SMS has been sent---
    registerReceiver(new BroadcastReceiver(){
        @Override
        public void onReceive(Context arg0, Intent arg1) {
            switch (getResultCode())
            {
                case Activity.RESULT_OK:
                            //if failed msg sended cancel the AsyncTask
                            new checkList().cancel();
                    break;
                case SmsManager.RESULT_ERROR_GENERIC_FAILURE:
                    new checkList().execute();
                    break;
                case SmsManager.RESULT_ERROR_NO_SERVICE:
                    new checkList().execute();
                    break;
                case SmsManager.RESULT_ERROR_NULL_PDU:
                    new checkList().execute();
                    break;
                case SmsManager.RESULT_ERROR_RADIO_OFF:
                    new checkList().execute();
                    break;
            }
        }
    }, new IntentFilter(SENT)); 
```

# visual-foxpro - visual fox pro recno() 函数

> ID：11823394
> 
> 赞同：0
> 
> 时间：2012-08-06T06:25:01.307
> 
> 标签：visual-foxpro

recno() 函数仅适用于单个表。当有连接时，它不起作用。由于我的数据很大，我想使用行号一次检索几行。有没有其他方法可以在不使用存储过程但使用 oledb 的情况下做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T13:10:22.880

您可以使用嵌套查询。

例子：

```
SELECT t0.Customerid, t0.Orderid ;
  FROM ( ;
    SELECT t1.Customerid, t1.Orderid, RecNo() AS rownum ;
      FROM ( ;
        SELECT t2.Customerid, t3.Orderid ;
          FROM Customers AS t2 ;
          INNER JOIN Orders AS t3 ON (t2.Customerid = t3.Customerid) ;
          ORDER BY t2.Customerid
        ) AS t1 ;
      ) AS t0 ;
  WHERE t0.rownum BETWEEN (1) AND (10) 
```

# servicestack - 如何将 JsonObject 实例转换/反序列化为具体类？

> ID：11823395
> 
> 赞同：2
> 
> 时间：2012-08-06T06:25:05.843
> 
> 标签：servicestack

我有以下 DTO

```
public class Foo
{
    public ServiceStack.Text.JsonObject Bar { get; set; }
} 
```

`Foo.Bar`可以是其他 3 个 DTO 中的一个

在我的代码中的某个地方，我想映射/转换/反序列`Foo.Bar`化到具体的 DTO（我知道`ServiceStack.Text.JsonObject`实现`System.Collection.Generic.Dictionary<string, string>`- 有趣的是，作为非字符串传输的值，作为字符串进入我的`ServiceStack.Text.JsonObject`-instance）。

所以我试过了

```
ServiceStack.Text.JsonExtensions.JsonTo<ConcreteDTO>(foo.Bar, ???) 
```

但它需要一个键选择器作为第二个参数 - 但我不想转换单个值，而是我会选择整个实例。

我也知道有`ServiceStack.Text.JsonExtensions.ConvertTo<T>(JsonObject jsonObject, Func<JsonObject, T> convertFn)`，但我不想转换 jsonObject 手工编码。

那么，我该如何解决呢？

编辑：
为了清楚起见 - 我不想绕道而行并将`JsonObject`-instance 序列化为 json-string 只是为了反序列化它......是否有任何直接反序列化选项`JsonObject`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-20T06:45:00.213

所以......我最终得到的是：

```
DTO concreteDTO;
var jsonString = JsonSerializer.SerializeToString(foo.Bar);
switch (foo.ConcreteObjectType)
{
    case ObjectType.Foo1:
        concreteDTO = jsonString.FromJson<DTO1>();
        break;
    case ObjectType.Foo2:
        concreteDTO = jsonString.FromJson<DTO2>();
        break;
    case ObjectType.Foo3:
        concreteDTO = jsonString.FromJson<DTO3>();
        break;
} 
```

# sql - 更新 SQL 错误

> ID：11823399
> 
> 赞同：0
> 
> 时间：2012-08-06T06:25:33.530
> 
> 标签：sql

我有一个可以插入或更新到另一个表的触发器。

在我添加更新之前，触发器是有效的，在我添加更新之后，有一个错误

> 当不使用 EXISTS 引入子查询时，选择列表中只能指定一个表达式。

你能帮我解决这个问题吗？

```
UPDATE 
    OLT_Balance_Update
SET 
    StartOfDayBalance = 
       (SELECT dbo.OLT_Cash_Posting.ClientNo, 
               ROUND(dbo.OLT_ArAp.NetArAp, 0) + ISNULL(dbo.OLT_Cash_Posting.Amount, 0) + ISNULL(dbo.interface_rlf_deposits.PortoQuantity * dbo.interface_rlf_deposits.PortoAverage, 0) + ISNULL(dbo.OLT_ArAp.InvestorBAC, 0) AS StartOfDayBalance
        FROM  dbo.OLT_Cash_Posting 
        LEFT OUTER JOIN dbo.OLT_Client ON dbo.OLT_Cash_Posting.ClientNo = dbo.OLT_Client.ClientNo 
        LEFT OUTER JOIN dbo.OLT_ArAp ON dbo.OLT_Cash_Posting.clientno = dbo.OLT_ArAp.ClAcNo 
        LEFT OUTER JOIN dbo.interface_rlf_deposits ON dbo.OLT_Client.ClientNo = dbo.interface_rlf_deposits.clAcno)
        WHERE 
              Clientno IN (SELECT P.ClientNo 
                           FROM  OLT_Balance_Update P, inserted I  
                           WHERE P.ClientNo = I.ClientNo) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:33:46.653

尝试这个：

根据您的 SET StartOfDayBalance 语句返回多个值

```
UPDATE OLT_Balance_Update
SET StartOfDayBalance =  ROUND(dbo.OLT_ArAp.NetArAp, 0) + ISNULL(dbo.OLT_Cash_Posting.Amount, 0) + ISNULL(dbo.interface_rlf_deposits.PortoQuantity * dbo.interface_rlf_deposits.PortoAverage, 0) + ISNULL(dbo.OLT_ArAp.InvestorBAC, 0)
FROM  dbo.OLT_Cash_Posting 
LEFT OUTER JOIN dbo.OLT_Client 
    ON dbo.OLT_Cash_Posting.ClientNo = dbo.OLT_Client.ClientNo 
LEFT OUTER JOIN dbo.OLT_ArAp 
    ON dbo.OLT_Cash_Posting.clientno = dbo.OLT_ArAp.ClAcNo 
LEFT OUTER JOIN dbo.interface_rlf_deposits 
    ON dbo.OLT_Client.ClientNo = dbo.interface_rlf_deposits.clAcno
WHERE Clientno IN 
(SELECT P.ClientNo FROM  OLT_Balance_Update P join inserted I on P.ClientNo = I.ClientNo) 
```

# codeigniter - Codeigniter - 有没有办法直接从 $this->db->get_where() 访问对象中的数据？

> ID：11823401
> 
> 赞同：0
> 
> 时间：2012-08-06T06:25:41.530
> 
> 标签：codeigniter

我只是好奇是否有一种方法可以直接从 $this->db->get_where() 访问对象中的数据，而无需使用 result_object()、result_array()、row_array()、row_object() 等。

即便如此，这是否破坏了封装对象的良好 OOP 实践？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:29:37.673

是的。您可以通过以下方式使用它：

```
$result = $this->db->get_where()->result(); 
```

请询问它是否不适合您。

[选择数据](http://codeigniter.com/user_guide/database/active_record.html#select)和[生成查询结果](http://codeigniter.com/user_guide/database/results.html)帖子可能会对您有所帮助。

# android - 当应用程序在后台运行时用户点击应用程序图标会发生什么？

> ID：11823402
> 
> 赞同：0
> 
> 时间：2012-08-06T06:25:50.147
> 
> 标签：android

我想创建一个在启动时在没有 UI 的情况下启动并在用户点击图标时使用 UI 重新启动的活动。我不想要此活动的多个实例。我如何确保当用户点击图标（活动已在运行）时，应用程序将重新启动（以显示 UI），并且旧实例将被销毁？“singleTask”能胜任吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:48:16.033

singleTask 是活动所需要的，以防止它被多次加载。

要在设备启动时启动某些东西，您需要监听启动；

```
public class BootReceiver extends BroadcastReceiver{
    @Override
    public void onReceive(Context context, Intent intent) {
        startService(this, new Intent(Intent.ACTION_SYNC, null, this, SomeIntentService.class);
    }
} 
```

有一个明显的喜欢;

```
 <receiver android:name="BootReceiver" >
        <intent-filter>
            <action android:name="android.intent.action.BOOT_COMPLETED" />
        </intent-filter>
    </receiver> 
```

但是如果你想让任何进程长时间运行，你需要一个前台服务；

[http://developer.android.com/reference/android/app/Service.html#startForeground(int](http://developer.android.com/reference/android/app/Service.html#startForeground(int) , android.app.Notification)

有关于如何让你的服务进入持久状态的精彩文档。让 IntentService 运行非常简单，您只需要覆盖一个方法[http://developer.android.com/reference/android/app/IntentService.html#onStartCommand(android.content.Intent](http://developer.android.com/reference/android/app/IntentService.html#onStartCommand(android.content.Intent) , int, int)

然后将数据存储在 sharedpreferences 或数据库中，您的活动将访问数据存储。

# java - 如何在java swing中自动扩展框架的高度

> ID：11823407
> 
> 赞同：0
> 
> 时间：2012-08-06T06:26:02.020
> 
> 标签：java, swing, jframe

我创建了大小为 500,500 的小框架，在我的框架中我还添加了面板，我动态添加了一个标签和文本框，我在面板中添加了 10 个标签，它显示正确，但我将添加另外 5 个标签和文本框继续上面添加标签意味着隐藏了 5 个标签和文本框之后，所以我如何***自动扩展框架高度***

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T06:30:52.057

调用该[`.pack()`](http://docs.oracle.com/javase/7/docs/api/java/awt/Window.html#pack%28%29)方法应该可以解决问题：

> 公共无效包（）
> 
> 使此 Window 调整大小以适合其子组件的首选大小和布局。如果任一尺寸小于先前调用 setMinimumSize 方法指定的最小尺寸，则生成的窗口宽度和高度会自动放大。如果窗口和/或其所有者还不能显示，则在计算首选大小之前，它们都可以显示。在计算窗口大小后验证窗口。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T08:10:52.203

有一些重要的规则和所需的知识，具体的 LayoutManager 如何与 min、max 和 PreferredSize 一起工作来自它的孩子

1.  我强烈建议添加`(re)validate()`和`repaint()`已经可见`Container`

2.  使用`JScrollPane`as first`JComponent`添加到`JFrame`//`JDialog`和`JWindow`with 来确定最大尺寸`JFrame`（最好可能来自显示分辨率），不要`pack()`在超过最大尺寸的情况下使用，否则容器边界可能超出屏幕

代码示例，必须在第 2 点添加规则。

```
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.border.LineBorder;

public class AddComponentsAtRuntime {

    private JFrame f;
    private Container panel;
    private JCheckBox checkValidate, checkReValidate, checkRepaint, checkPack;

    public AddComponentsAtRuntime() {
        JButton b = new JButton();
        b.setBackground(Color.red);
        b.setBorder(new LineBorder(Color.black, 2));
        b.setPreferredSize(new Dimension(600, 10));
        panel = new Container();
        panel.setLayout(new GridLayout(0, 1));
        panel.add(b);
        f = new JFrame();
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        f.add(panel, "Center");
        f.add(getCheckBoxPanel(), "South");
        f.setLocation(200, 200);
        f.pack();
        f.setVisible(true);
    }

    private JPanel getCheckBoxPanel() {
        checkValidate = new JCheckBox("validate");
        checkValidate.setSelected(false);
        checkReValidate = new JCheckBox("revalidate");
        checkReValidate.setSelected(false);
        checkRepaint = new JCheckBox("repaint");
        checkRepaint.setSelected(false);
        checkPack = new JCheckBox("pack");
        checkPack.setSelected(false);
        JButton addComp = new JButton("Add New One");
        addComp.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                JButton b = new JButton();
                b.setBackground(Color.red);
                b.setBorder(new LineBorder(Color.black, 2));
                b.setPreferredSize(new Dimension(600, 10));
                panel.add(b);
                makeChange();
                System.out.println(" Components Count after Adds :" + panel.getComponentCount());
            }
        });
        JButton removeComp = new JButton("Remove One");
        removeComp.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                int count = panel.getComponentCount();
                if (count > 0) {
                    panel.remove(0);
                }
                makeChange();
                System.out.println(" Components Count after Removes :" + panel.getComponentCount());
            }
        });
        JPanel panel2 = new JPanel();
        panel2.add(checkValidate);
        panel2.add(checkReValidate);
        panel2.add(checkRepaint);
        panel2.add(checkPack);
        panel2.add(addComp);
        panel2.add(removeComp);
        return panel2;
    }

    private void makeChange() {
        if (checkValidate.isSelected()) {
            panel.validate();
        }
        if (checkReValidate.isSelected()) {
            panel.revalidate();
        }
        if (checkRepaint.isSelected()) {
            panel.repaint();
        }
        if (checkPack.isSelected()) {
            f.pack();
        }
    }

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {

            @Override
            public void run() {
                AddComponentsAtRuntime makingChanges = new AddComponentsAtRuntime();
            }
        });
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T06:28:38.390

没有布尔值可以设置为 true 以使框架自动增长。

您可能希望`getPreferredSize()`每次添加内容时都对内容面板进行处理，`frame.setSize(...)`以适应新组件。

这是一个演示

```
public class FrameTestBase {

    public static void main(String args[]) {
        final JFrame t = new JFrame();

        t.getContentPane().setLayout(new GridLayout(-1, 1));

        t.add(new JButton(new AbstractAction("Add label") {
            @Override
            public void actionPerformed(ActionEvent arg0) {
                t.getContentPane().add(new JLabel("hello"));

                // Auto-adjust height.
                Dimension dim = t.getContentPane().getPreferredSize();
                dim.width = 500;
                t.setSize(dim);
            }
        }));

        t.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        t.setSize(500, 500);
        t.setVisible(true);
    }
} 
```

# ruby-on-rails - Rails 验证 allow_nil 抛出异常

> ID：11823409
> 
> 赞同：0
> 
> 时间：2012-08-06T06:26:08.853
> 
> 标签：ruby-on-rails, validation

我试图确保我的 Rails 模型中的布尔值不能设置为零。这是我的模型：

```
class Response < ActiveRecord::Base
  attr_accessible :attending

  # validations
  validates :attending, :allow_nil => false
end 
```

当我尝试运行我的规范时，我得到以下异常：

```
/Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activemodel-3.2.7/lib/active_model/validations/validates.rb:86:in `validates': You need to supply at least one validation (ArgumentError)
    from /Users/helixed/Dropbox/Development/current/rsvp/app/models/response.rb:5:in `<class:Response>'
    from /Users/helixed/Dropbox/Development/current/rsvp/app/models/response.rb:1:in `<top (required)>'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/dependencies.rb:251:in `require'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/dependencies.rb:251:in `block in require'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/dependencies.rb:236:in `load_dependency'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/dependencies.rb:251:in `require'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/dependencies.rb:359:in `require_or_load'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/dependencies.rb:502:in `load_missing_constant'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/dependencies.rb:192:in `block in const_missing'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/dependencies.rb:190:in `each'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/dependencies.rb:190:in `const_missing'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/inflector/methods.rb:230:in `block in constantize'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/inflector/methods.rb:229:in `each'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/inflector/methods.rb:229:in `constantize'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/inflector/methods.rb:260:in `safe_constantize'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/core_ext/string/inflections.rb:66:in `safe_constantize'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/actionpack-3.2.7/lib/action_controller/metal/params_wrapper.rb:152:in `_default_wrap_model'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/actionpack-3.2.7/lib/action_controller/metal/params_wrapper.rb:169:in `_set_wrapper_defaults'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/actionpack-3.2.7/lib/action_controller/metal/params_wrapper.rb:133:in `inherited'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/actionpack-3.2.7/lib/abstract_controller/railties/routes_helpers.rb:7:in `block (2 levels) in with'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/actionpack-3.2.7/lib/action_controller/railties/paths.rb:7:in `block (2 levels) in with'
    from /Users/helixed/Dropbox/Development/current/rsvp/app/controllers/responses_controller.rb:1:in `<top (required)>'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/dependencies.rb:251:in `require'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/dependencies.rb:251:in `block in require'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/dependencies.rb:236:in `load_dependency'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/dependencies.rb:251:in `require'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/dependencies.rb:359:in `require_or_load'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/dependencies.rb:313:in `depend_on'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib/active_support/dependencies.rb:225:in `require_dependency'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/railties-3.2.7/lib/rails/engine.rb:439:in `block (2 levels) in eager_load!'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/railties-3.2.7/lib/rails/engine.rb:438:in `each'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/railties-3.2.7/lib/rails/engine.rb:438:in `block in eager_load!'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/railties-3.2.7/lib/rails/engine.rb:436:in `each'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/railties-3.2.7/lib/rails/engine.rb:436:in `eager_load!'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/railties-3.2.7/lib/rails/application/finisher.rb:53:in `block in <module:Finisher>'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/railties-3.2.7/lib/rails/initializable.rb:30:in `instance_exec'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/railties-3.2.7/lib/rails/initializable.rb:30:in `run'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/railties-3.2.7/lib/rails/initializable.rb:55:in `block in run_initializers'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/railties-3.2.7/lib/rails/initializable.rb:54:in `each'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/railties-3.2.7/lib/rails/initializable.rb:54:in `run_initializers'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/railties-3.2.7/lib/rails/application.rb:136:in `initialize!'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/railties-3.2.7/lib/rails/railtie/configurable.rb:30:in `method_missing'
    from /Users/helixed/Dropbox/Development/current/rsvp/config/environment.rb:5:in `<top (required)>'
    from /Users/helixed/Dropbox/Development/current/rsvp/spec/spec_helper.rb:3:in `require'
    from /Users/helixed/Dropbox/Development/current/rsvp/spec/spec_helper.rb:3:in `<top (required)>'
    from /Users/helixed/Dropbox/Development/current/rsvp/spec/controllers/responses_controller_spec.rb:1:in `require'
    from /Users/helixed/Dropbox/Development/current/rsvp/spec/controllers/responses_controller_spec.rb:1:in `<top (required)>'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/rspec-core-2.11.1/lib/rspec/core/configuration.rb:780:in `load'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/rspec-core-2.11.1/lib/rspec/core/configuration.rb:780:in `block in load_spec_files'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/rspec-core-2.11.1/lib/rspec/core/configuration.rb:780:in `map'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/rspec-core-2.11.1/lib/rspec/core/configuration.rb:780:in `load_spec_files'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/rspec-core-2.11.1/lib/rspec/core/command_line.rb:22:in `run'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/rspec-core-2.11.1/lib/rspec/core/runner.rb:69:in `run'
    from /Users/helixed/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1/gems/rspec-core-2.11.1/lib/rspec/core/runner.rb:8:in `block in autorun' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:32:59.083

:allow_nil 应该作为一些验证的一个选项。您自己使用它，这不是正确的使用方法。

如果您想验证 :attending 是否为真，您可以通过以下方式进行：

```
validates :attending, :acceptance => { :accept => true }, :allow_nil => false 
```

更新：

为了验证 :attending 是布尔值（真或假），您可以使用：

```
 validates :attending, :inclusion => { :in => [true, false] } 
```

# java - 在 spring3 MVC 中显示验证错误

> ID：11823414
> 
> 赞同：1
> 
> 时间：2012-08-06T06:26:44.233
> 
> 标签：java, spring-mvc

我需要帮助。我想在 Spring 3 MVC 中使用自定义验证器验证表单输入。一切正常，但在出现错误时不会在表单上显示错误

这是控制器

```
public class ContactController {
 @ModelAttribute("Contact")
 public Contact getContactObject() {
      return new Contact();
     }

@RequestMapping(value = "/addContact", method = RequestMethod.POST)
public String processValidatinForm(@Valid Contact contact, BindingResult result, Map model,Errors e) {
    UserValidator validator = new UserValidator();
      validator.validate(contact, result);

    if (result.hasErrors()) {
        System.out.println("found Errors");
        return "contact";
    }
    // Add the saved validationForm to the model
    model.put("Contact", contact);
    return "successs";
}

@RequestMapping("/contacts")
public String showValidatinForm(Map model) {
    Contact contact = new Contact();
    model.put("Contact", contact);
    return "contact";
} 
```

} 用户验证器

```
 public class UserValidator implements Validator {

   @Override
        public boolean supports(Class clazz) {
       return Contact.class.isAssignableFrom(clazz);
   }

   @Override
   public void validate(Object target, Errors errors) {
      ValidationUtils.rejectIfEmptyOrWhitespace(errors, "userName", "Enter user name");
      ValidationUtils.rejectIfEmptyOrWhitespace(errors, "age", "Enter Age");
      ValidationUtils.rejectIfEmptyOrWhitespace(errors, "password", "Enter password.");

   }

} 
```

这是表单jsp页面

```
 <form:form method="post" action="addContact.html" commandName="Contact">

<table>

<tr>
<td>User Name:<font color="red"><form:errors path="userName" /></font></td> 
```

```
<tr>
<td><form:input path="userName" /></td>
</tr>

<tr>
<td>Age:<font color="red"><form:errors path="age" /></font></td>
</tr>

<tr>
<td><form:input path="age" /></td>
</tr>

<tr>
<td>Password:<font color="red"><form:errors path="password" /></font></td>
</tr>

<tr>
<td><form:password path="password" /></td>
</tr>

<tr>
<td><input type="submit" value="Submit" /></td>
</tr>

</table>

</form:form> 
```

怎么做才对？

谢谢您的回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T12:47:00.173

我看到验证部分是正确的。确保在出现错误时从控制器返回正确的视图。

# jsf - 在 ActionListener 中传递参数的问题

> ID：11823419
> 
> 赞同：0
> 
> 时间：2012-08-06T06:27:22.673
> 
> 标签：jsf, jsf-2

我在将一些参数从 UI 传递给 Action Listener 方法时遇到了一些问题。请在下面找到代码。我有两个文本框，我会将文本框的值传递给 actionListener 以执行一些计算

```
<h:commandButton  id="calculateButtonID"  value="Calculate" actionListener="#{adjustedBean.calculate}">
    <f:param name="targetInventoryDays" value="#{adjustedBean.adjustedQtyVo.targetDays}"></f:param>
    <f:param name="seasonalityFactor"  value="#{adjustedBean.adjustedQtyVo.seasonFactor}"></f:param>
       </h:commandButton> 
```

当我尝试在 ActionListener 方法中获取参数的值时，在第一次单击“计算”按钮时似乎没有传递这些值。只有当我第二次单击按钮时，我似乎才获得了我传递的值/参数。当我单击计算按钮时，您能否让我知道我需要做什么才能第一次获得这些值。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T11:32:48.963

这些症状表明在呈现带有表单的页面时这些参数不可用（这正是这些`<f:param>`s 将被解释的时间）。看起来您实际上已将这些值绑定到相同表单的输入元素。这样，`<f:param>`实际上只有在您实际提交填写了值的表单时才会填写 s （就像第一次单击时发生的那样）。这解释了为什么第 2 次点击和 on 起作用。

不幸的是，您没有在您的问题中以任何方式详细说明具体的功能要求，但我知道您只想收集与操作按钮相同形式的提交输入值，其定义如下：

```
<h:inputText value="#{adjustedBean.adjustedQtyVo.targetDays}" />
<h:inputText value="#{adjustedBean.adjustedQtyVo.seasonFactor}" /> 
```

在这种情况下，你根本不需要`<f:param>`这个。JSF 已经在调用 action 方法时更新了模型值。只需**删除**这些`<f:param>`标签并获取提交的值，如下所示：

```
public void calculate() {
     System.out.println(adjustedQtyVo.getTargetDays());
     System.out.println(adjustedQtyVo.getSeasonFactor());
} 
```

# cloudbees - 我可以在 cloudbees 中为我的应用程序使用 A 记录吗？

> ID：11823423
> 
> 赞同：2
> 
> 时间：2012-08-06T06:27:27.087
> 
> 标签：cloudbees

如果我在 cloudbees 上有一个应用程序，它通常具有如下 URL：

[http://app.account.cloudbees.net](http://app.account.cloudbees.net)

我希望有一个顶级域指向它（例如 www.myapp.com） - 但我只能通过我的 DNS 提供商输入 A 记录。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T06:27:27.087

（更完整的答案在这里[http://wiki.cloudbees.com/bin/view/RUN/Custom+Application+Domains](http://wiki.cloudbees.com/bin/view/RUN/Custom+Application+Domains)）

一种快速的方法是查找应用程序名称的 A 记录的 IP：

```
nslookup app.account.cloudbees.net 
```

然后使用解析到的 IP 地址。这个 IP 地址是固定的。

更好的方法是使用 DNS simple 之类的域别名服务（在这种情况下，您可以继续使用 CNAME）。在 wiki 上查看更多信息[http://wiki.cloudbees.com/bin/view/RUN/Custom+Application+Domains](http://wiki.cloudbees.com/bin/view/RUN/Custom+Application+Domains)

# java - 没有 ServerSocket 监听的 Java Socket 连接

> ID：11823426
> 
> 赞同：1
> 
> 时间：2012-08-06T06:27:40.653
> 
> 标签：java, sockets, serversocket

这是我连接两个`Socket`没有任何代码的代码`ServerSocket`：

```
package primary;

import java.awt.FlowLayout;
import java.io.EOFException;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.net.InetAddress;
import java.net.ServerSocket;
import java.net.Socket;
import java.net.UnknownHostException;
import java.util.concurrent.*;
import javax.swing.JFrame;
import javax.swing.SwingUtilities;

public class Client extends JFrame implements Runnable {
    private final String myName;
    private ServerSocket listener;
    private Socket connection1;
    private Socket connection2;
    private ObjectOutputStream output1;
    private ObjectOutputStream output2;
    private ObjectInputStream input1;
    private ObjectInputStream input2;
    private Object receiveObject;
    private Object1 sendObject1;
    private Object2 sendObject2;
    private final int[] myLocalPort;
    private final int[] connectionPort;
    private ExecutorService service;
    private Future<Boolean> future1;
    private Future<Boolean> future2;

    public Client(final String myName, int[] myLocalPort, int[] connectionPort) {
        super(myName);
        this.myName = myName;
        this.myLocalPort = myLocalPort;
        this.connectionPort = connectionPort;
        sendObject1 = new Object1("string1", "string2", myName);
        sendObject2 = new Object2("string1", 2.5, 2, true, myName);
        initComponents();
    }
    public void exe() {
        ExecutorService eService = Executors.newCachedThreadPool();
        eService.execute(this);
    }

    @Override
    public void run() {
        try {
                displayMessage("Attempting connection\n");
                try {
                    connection1  = new Socket(InetAddress.getByName("localhost"), connectionPort[0],
                            InetAddress.getByName("localhost"), myLocalPort[0]);
                    displayMessage(myName + " connection1\n");
                } catch (Exception e) {
                    displayMessage("failed1\n");
                    System.err.println("1" + myName + e.getMessage() + "\n");
                }
                try {
                    connection2  = new Socket(InetAddress.getByName("localhost"), connectionPort[1],
                            InetAddress.getByName("localhost"), myLocalPort[1]);
                    displayMessage(myName + " connection2\n");
                } catch (Exception e) {
                    displayMessage("failed2\n");
                    System.err.println("2" + myName + e.getMessage() + "\n");
                }
            displayMessage("Connected to: " + connection1.getInetAddress().getHostName() + "\n\tport: "
                    + connection1.getPort() + "\n\tlocal port: " + connection1.getLocalPort() + "\n"
                    + connection2.getInetAddress().getHostName() + "\n\tport: " + connection2.getPort()
                    + "\n\tlocal port: " + connection2.getLocalPort() + "\n\n");
            output1 = new ObjectOutputStream(connection1.getOutputStream());
            output1.flush();
            output2 = new ObjectOutputStream(connection2.getOutputStream());
            output2.flush();
            input1 = new ObjectInputStream(connection1.getInputStream());
            input2 = new ObjectInputStream(connection2.getInputStream());
            displayMessage("Got I/O stream\n");
            setTextFieldEditable(true);
            service = Executors.newFixedThreadPool(2);
            future1 = service.submit(
                    new Callable<Boolean>() {

                @Override
                public Boolean call() throws Exception {
                    try {
                        processConnection(input1);
                        displayMessage("input1 finished");
                    } catch (IOException e) {
                        displayMessage("blah");
                    }
                    return true;
                }
            });
            future2 = service.submit(
                    new Callable<Boolean>() {

                @Override
                public Boolean call() throws Exception {
                    try {
                        processConnection(input2);
                        displayMessage("input2 finished");
                    } catch (IOException e) {
                        displayMessage("foo");
                    }
                    return true;
                }
            });
        } catch (UnknownHostException e) {
            displayMessage("UnknownHostException\n");
            e.printStackTrace();
        } catch (EOFException e) {
            displayMessage("EOFException\n");
            e.printStackTrace();
        } catch (IOException e) {
            displayMessage("IOException\n");
            e.printStackTrace();
        } catch(NullPointerException e) {
            System.err.println("asdf " + e.getMessage());
        } finally {
            try {
                displayMessage("i'm here\n");
                if((future1 != null && future1.get()) && (future2 != null && future2.get())) {
                    displayMessage(future1.get() + " " + future2.get() + "\n");
                    displayMessage("Closing Connection\n");
                    setTextFieldEditable(false);
                    if(!connection1.isClosed()) {
                        output1.close();
                        input1.close();
                        connection1.close();
                    }
                    if(!connection2.isClosed()) {
                        output2.close();
                        input2.close();
                        connection2.close();
                    }
                    displayMessage("connection closed\n");
                }
            } catch (IOException e) {
                displayMessage("IOException on closing");
            } catch (InterruptedException e) {
                displayMessage("InterruptedException on closing");
            } catch (ExecutionException e) {
                displayMessage("ExecutionException on closing");
            }
        }
    }//method run ends
    private void processConnection(ObjectInputStream input) throws IOException {
        String message = "";
        do {
            try {
                receiveObject = input.readObject();
                if(receiveObject instanceof String) {
                    message = (String) receiveObject;
                    displayMessage(message + "\n");
                } else if (receiveObject instanceof Object1) {
                    Object1 receiveObject1 = (Object1) receiveObject;
                    displayMessage(receiveObject1.getString1() + " " + receiveObject1.getString2()
                            + " " + receiveObject1.toString() + "\n");
                } else if (receiveObject instanceof Object2) {
                    Object2 receiveObject2 = (Object2) receiveObject;
                    displayMessage(receiveObject2.getString1() + " " + receiveObject2.getD()
                            + " " + receiveObject2.getI() + " " + receiveObject2.toString() + "\n");
                }
            } catch (ClassNotFoundException e) {
                displayMessage("Unknown object type received.\n");
            }
            displayMessage(Boolean.toString(message.equals("terminate\n")));
        } while(!message.equals("terminate"));
        displayMessage("finished\n");
        input = null;
    }

    private void initComponents() {

        dataField = new javax.swing.JTextField();
        sendButton1 = new javax.swing.JButton();
        sendButton2 = new javax.swing.JButton();
        jScrollPane1 = new javax.swing.JScrollPane();
        resultArea = new javax.swing.JTextArea();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setLayout(new FlowLayout());
        dataField.setEditable(false);
        dataField.setColumns(20);
        dataField.addActionListener(new java.awt.event.ActionListener() {
            @Override
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                dataFieldActionPerformed(evt);
            }
        });

        sendButton1.setText("Send Object 1");
        sendButton1.addActionListener(new java.awt.event.ActionListener() {
            @Override
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sendButton1ActionPerformed(evt);
            }
        });

        sendButton2.setText("Send Object 2");
        sendButton2.addActionListener(new java.awt.event.ActionListener() {
            @Override
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sendButton2ActionPerformed(evt);
            }
        });

        resultArea.setColumns(25);
        resultArea.setRows(15);
        resultArea.setEditable(false);
        resultArea.setRows(5);
        jScrollPane1.setViewportView(resultArea);

        add(dataField);
        add(sendButton1);
        add(sendButton2);
        add(jScrollPane1);
        pack();
    }
    private void dataFieldActionPerformed(java.awt.event.ActionEvent evt) {                                          
        // TODO add your handling code here:
        sendData(evt.getActionCommand());
        dataField.setText("");
    }                                         

    private void sendButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                            
        // TODO add your handling code here:
        sendData(sendObject1);
    }                                           

    private void sendButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                            
        // TODO add your handling code here:
        sendData(sendObject2);
    }                                  

    private void displayMessage(final String messageToDisplay) {
        SwingUtilities.invokeLater(
                new Runnable() {
            @Override
                    public void run() {
                        resultArea.append(messageToDisplay);
                    }
                });
    }
    private void setTextFieldEditable(final boolean editable) {
        SwingUtilities.invokeLater(
                new Runnable() {

            @Override
            public void run() {
                dataField.setEditable(editable);
            }
        });
    }
    private void sendData(final Object object) {
        try {
            output1.writeObject(object);
            output1.flush();
            output2.writeObject(object);
            output2.flush();
            displayMessage(myName + ": " + object.toString() + "\n");
        } catch (IOException e) {
            displayMessage("Error writing object\n");
        }
    }

    private javax.swing.JTextField dataField;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTextArea resultArea;
    private javax.swing.JButton sendButton1;
    private javax.swing.JButton sendButton2;
} 
```

主要的：

```
 package primary;

import javax.swing.SwingUtilities;

public class Main {
    private static Object locker;

    public static void main(String[] args) {
        locker = new Object();
        final int[][] a = new int[6][];
        final int[][] b = new int[6][];
        final int[][] c;
        a[0] = new int[] {12340, 12341};
        a[1] = new int[] {12342, 12344};
        a[2] = new int[] {12342, 12343};
        a[3] = new int[] {12340, 12345};
        a[4] = new int[] {12344, 12345};
        a[5] = new int[] {12341, 12343};

        b[0] = new int[] {22340, 22341};
        b[1] = new int[] {22342, 22344};
        b[2] = new int[] {22342, 22343};
        b[3] = new int[] {22340, 22345};
        b[4] = new int[] {22344, 22345};
        b[5] = new int[] {22341, 22343};

        c = a;
        SwingUtilities.invokeLater(
                new Runnable() {

            @Override
            public void run() {
                Client client1 = new Client("client1", c[0], c[1]);
                client1.exe();
                client1.setLocation(0, 0);
                client1.setVisible(true);
            }
        });
        SwingUtilities.invokeLater(
                new Runnable() {

            @Override
            public void run() {
                Client client2 = new Client("client2", c[2], c[3]);
                client2.exe();
                client2.setLocation(0, 200);
                client2.setVisible(true);
            }
        });
        SwingUtilities.invokeLater(
                new Runnable() {

            @Override
            public void run() {
                Client client3 = new Client("client3", c[4], c[5]);
                client3.exe();
                client3.setLocation(0, 400);
                client3.setVisible(true);

            }
        });
    }
} 
```

这里`Object1`和`Object2`只是两个可序列化的对象。似乎所有的插座都完美连接。如果我退出系统而不为套接字及其输入、输出流调用 close() 方法并重新运行，它仍然可以正常工作。但是，如果我在确保调用 close() 方法后退出系统，然后再次重新运行，我会得到：1client2Address 已在使用中：connect

```
1client3Address already in use: connect

2client3Address already in use: connect

asdf null
1client1Connection refused: connect

2client2Connection refused: connect

asdf null
2client1Connection refused: connect

asdf null 
```

我一次又一次地重新运行，我一直得到这个，除非我等待一定的时间并再次重新运行，它和第一次一样工作得很好。为什么会发生这样的事情？如果我关闭套接字而不是不关闭它们，为什么要花这么多时间？当我不关闭套接字时，它们是真的关闭还是仅仅连接现有的连接？但是在我关闭的情况下，使用`ServerSocket`它似乎不会发生。究竟发生了什么？

另一个问题，`ServerSocket`据说将它的`Socket`连接结束分发到它正在侦听的本地端口。如果是真的，为什么我在调用 Socket.getLocalPort() 时会为它接受的所有套接字获取监听本地端口？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T09:19:35.840

创建`Socket`. 没有真正需要指定本地地址，没有 VPN，也没有真正需要指定本地端口，只是您的网络管理员的想象。

> 据推测，ServerSocket 将其 Socket 连接结束分发到它正在侦听的本地端口。

不，它没有。所有接受的套接字都使用与侦听端口相同的本地端口。

# android - 为什么 Android 应用程序在正在运行的应用程序中不可见？

> ID：11823431
> 
> 赞同：0
> 
> 时间：2012-08-06T06:27:51.643
> 
> 标签：android

我面临着完全不同的问题。我开发的 Android 应用程序运行良好。但问题是我无法在运行应用程序中看到该应用程序（即设置 > 应用程序 > 管理应用程序 > 运行）。它在所有选项卡的其余部分（即已下载，全部）中可见。我在 HTC Nexus 2.3.6 和 IceCreamSandwich 中遇到了这个问题。应用程序运行良好，没有任何问题。但唯一的问题是 >

为什么它不可见。任何建议.......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:30:26.220

运行选项卡仅适用于在后台运行的应用程序（例如服务等），不适用于“普通”应用程序，即使它们在后台*暂停*，也不意味着它们在后台*运行*。

[查看有关此选项卡的 Android 开发者博客文章](http://android-developers.blogspot.ca/2010/02/service-api-changes-starting-with.html)

# https - 生产中的自签名证书

> ID：11823432
> 
> 赞同：9
> 
> 时间：2012-08-06T06:28:00.130
> 
> 标签：https, glassfish, certificate

我们在 GlassFish 上有一个 Java EE 项目，其中包含一个我们希望通过 SSL 保护的登录屏幕。

在生产中使用自生成证书而不是从 CA 签名的证书有什么缺点？它会给最终用户带来警告和糟糕的体验吗？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-08-06T08:01:51.740

是的，浏览登录站点的用户每次都会在其浏览器中收到证书警告。

如果应用程序将仅在封闭的用户组中使用（例如在公司内），那么您可以通过将自签名证书添加到每个用户的可信证书集（在浏览器或操作系统级别）来缓解这种情况，视具体情况而定）。

但是，如果您的应用程序通常向广大公众开放，那么使用自签名证书被认为是不好的做法。您基本上是在教育您的用户忽略并接受浏览器警告，这通常是抵御中间人攻击的最后一道防线。这显然不是您想要的，因此在这种情况下，您应该始终使用“真实”证书，即使它只是一个暂存/测试部署。

# android - sqlite 返回：错误代码 = 14，msg = 无法在源代码行 25467 打开文件“

> ID：11823433
> 
> 赞同：1
> 
> 时间：2012-08-06T06:28:01.573
> 
> 标签：android, sqlite

我正在开发一个 android facebook 应用程序并拥有应用程序 ID，但我还没有发布它。我面临的问题是，当我在设备上安装 facebook 应用程序并使用它登录我的应用程序进行 SSO 时，我已成功登录，但在尝试分享帖子时，出现 facebook 对话框屏幕，要求我登录再次，logcat 说：

```
sqlite returned: error code = 14, msg = cannot open file at source line 25467 
```

当我卸载 facebook 应用程序时不会发生这种情况。我通过 facebook 登录来登录我的应用程序，然后轻松分享和发布。

这个问题是因为我的应用程序我还没有发布并且 Facebook 没有授予我访问其数据库的权限，因此我被要求通过我的应用程序对话框再次签名？还是因为其他原因？？

我在 google play 中有另一个应用程序，并且相同的代码可以完美运行该应用程序......我已经在发布它很多天后添加了 sso 功能

# ios - 使用 for 循环创建多个 UIImageView - iOS

> ID：11823434
> 
> 赞同：0
> 
> 时间：2012-08-06T06:28:05.070
> 
> 标签：ios, xcode, image, uiimageview

我正在尝试将多个添加`UIImageView`到`scrollView`. imageview 的数量不同。这个数字是从文件中读取的。

所以现在我必须创建**`UIImageView`*imageView1, `UIImageView`*imageView2, `UIImageView`*imageView3 ... `UIImageView`*imageViewN**。

如何将数字添加到***imageView(?)的末尾**

任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T06:32:41.363

这不能按照您的想法进行。你应该做的是像这样使用 NSMutableArray：

```
NSMutableArray *imageViews = [[NSMutableArray alloc] init];
for(NSInteger i=0; i < 10; i++)
{
    UIImageView *currentImageView = [[UIImageView alloc] initWithFrame:CGRectMake((0 * (110 * i)), 0, 100, 100)];
    [currentImageView setImage:[UIImage imageNamed:@"test.png"]];
    [imageViews addObject:currentImageView];
}

//To reference the image views just call objectAtIndex
UIImageView *imageView1 = [imageViews objectAtIndex:0];
UIImageView *imageView2 = [imageViews objectAtIndex:1]; 
```

这也使您的代码更加灵活。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T06:36:21.270

添加到上面的代码片段：

```
 NSString *imageName = [NSString stringWithFormat@"test_%d.png", i];
 [currentImageView setImage:[UIImage imageNamed:imageName]]; 
```

因此您可以添加具有不同图像的 UIImageViews

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-06-09T22:51:33.103

对于最近仍在搜索此主题的任何人，这是 Swift 3 版本，可以满足@Siddharthan 的要求：

```
 //you may give any Int value to these variables
    let Xposition = 19
    let Yposition = 19
    let imageWidth = 93
    let imageHeight = 128

    //create UIImageView object
    var curr_imageView = UIImageView()
    for i in 0 ..< images.count {
        if imageViews.isEmpty {
            curr_imageView = UIImageView.init(frame: CGRect(x: Xposition, y: Yposition, width: imageWidth, height: imageHeight))
        } else {
            curr_imageView = UIImageView.init(frame: CGRect(x: Int(imageViews[i-1].frame.origin.x)+Int(imageViews[i-1].frame.size.width), y: Yposition, width: imageWidth, height: imageHeight))
        }

        curr_imageView.image = UIImage(named: images[i])
        curr_imageView.contentMode = .scaleAspectFit
        self.scrollView1.addSubview(curr_imageView)
        imageViews.append(curr_imageView)
    }

    self.scrollView1.contentSize = CGSize(width: imageViews[imageViews.count-1].frame.size.width+imageViews[imageViews.count-1].frame.origin.x+CGFloat(Xposition), height: self.scrollView1.frame.size.height) 
```

# symfony - 如何使用自定义 UserProvider 或者它必须是 AuthenticatedProvider？

> ID：11823435
> 
> 赞同：0
> 
> 时间：2012-08-06T06:28:07.963
> 
> 标签：symfony

我需要从 URFAClient（NetUP UTM5 计费系统）请求用户信息，但自定义 UserProvider 的文档说我需要加载用户 bu 用户名而不使用密码。

我不能这样做，因为对 URFAClient 的所有请求都必须包含用户名和密码，我无法加载没有密码的用户信息。

我对如何添加我非常自定义的 UserProvider 完全感到困惑，而文档没有说明我需要什么。

有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T21:53:25.987

看看这本食谱：[http ://symfony.com/doc/current/cookbook/security/custom_authentication_provider.html](http://symfony.com/doc/current/cookbook/security/custom_authentication_provider.html)

如果您需要没有密码的用户，它将向您解释如何实现自己的防火墙 / UserProvider

# android - android 应用程序的推荐大小是多少？

> ID：11823436
> 
> 赞同：0
> 
> 时间：2012-08-06T06:28:09.583
> 
> 标签：android, database, sqlite, size

我正在开发一个 android 应用程序，我想在应用程序本身中嵌入数据库。该应用程序是关于农民的，其中数据库与各种作物、肥料、除草剂、灌溉方法等信息相关（约 40-50 行，7-8 列）。我没有使用过 SQLITE 数据库，所以我不知道数据的大小。那么，谁能告诉我数据库的大小是多少，我的应用程序是否太大或推荐的大小？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:31:43.910

除非您使用海量数据集（数百万行）或使用大量图像资源，否则一切正常。

我猜推荐的大小在 20MB 以下。除非您做一些非常奇怪的事情，否则您的大小很容易低于 10MB。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:16:31.810

Google Play 的 .apk 上传限制为 50mb，因此请尝试在此范围内工作。如果您的应用程序除了数据库文件之外没有很多其他资源，那么跟踪和控制您的应用程序大小将非常简单。

如果您确实超出了 50mb 的限制，Google 确实支持扩展文件。 ![在此处输入图像描述](../Images/f0a1d6dcf13c86bd7bbeb8b1594d57e4.png)

希望这可以帮助 ：）

# iphone - iphone中的选择语句崩溃问题

> ID：11823437
> 
> 赞同：2
> 
> 时间：2012-08-06T06:28:17.250
> 
> 标签：iphone

```
-(void)insertDataToFavourites:(int)pageid :(NSString *)description
{
    sqlite3_stmt *insertStatement = nil;
    NSString *sql;
    int returnvalue;

    sql = [NSString stringWithFormat:@"insert into AddFavorite (Id,Description) VALUES (?,?)"];

    returnvalue = sqlite3_prepare_v2(database, [sql UTF8String], -1, &insertStatement, NULL);

    if (returnvalue == 1){
        NSAssert1 (0,@"Error: failed to prepare statement with message '%s'.", sqlite3_errmsg(database));
    }
    sqlite3_bind_text(insertStatement, 2,[[tempDict objectForKey:@"pageid"] UTF8String], -1, SQLITE_TRANSIENT);
    sqlite3_bind_text(insertStatement, 3,[[tempDict objectForKey:@"desc"] UTF8String], -1, SQLITE_TRANSIENT);
    if (SQLITE_DONE != sqlite3_step(insertStatement)){
        NSAssert1(0, @"Error while inserting data. '%s'", sqlite3_errmsg(database));
    }
    else{
        sqlite3_reset(insertStatement);
    }

    sqlite3_finalize(insertStatement);

    if(sqlite3_exec(database, [sql UTF8String], NULL, NULL, NULL) != SQLITE_DONE ){
        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Alert!" message:@"Data saved Successfully." delegate:self cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil];
        [alert show];
        [alert release];
    }

    else{
        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Alert!" message:@"Data insertion error." delegate:self cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil];
        [alert show];
        [alert release];
    }

} 
```

**上面的代码我正在将数据插入到 Sqlite 数据库表中。**这向我显示警报**数据已成功保存。** 在将数据插入收藏夹列表时。

```
-(void)getFavoriteList
{

    if([ArrFav count] > 0)
        [ArrFav removeAllObjects];

    ArrFav = [[NSMutableArray alloc] init];

    sqlite3_stmt *selectStatement=nil;  
    NSString *sql;
    int returnvalue;

    sql=[NSString stringWithFormat:@"SELECT Description FROM AddFavorite"];

    returnvalue = sqlite3_prepare_v2(database, [sql UTF8String], -1, &selectStatement, NULL);

    if(returnvalue==1)
    {
        NSAssert1(0, @"Error: failed to select the database with message '%s'.", sqlite3_errmsg(database));
    }

    NSMutableDictionary *dict;
    NSString *str;
    if(returnvalue == SQLITE_OK)
    {                       
        while(sqlite3_step(selectStatement) == SQLITE_ROW)
        {   
            dict = [[NSMutableDictionary alloc] init];
            [dict setObject:[NSString stringWithUTF8String:(char *)sqlite3_column_text(selectStatement,1)] forKey:@"Description"];

            [ArrFav addObject:[dict objectForKey:@"Description"]];
            NSLog(@"Favorite data is:--> %@",ArrFav);
        }       
    }
} 
```

这是从 sqlite 数据库表中选择数据的代码。在行**[dict setObject:[NSString stringWithUTF8String:(char *)sqlite3_column_text(selectStatement,1)] forKey:@"Description"];** 应用程序正在崩溃。

任何人都可以建议我解决这个问题，为什么会出现这个问题以及解决方案是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:35:58.243

我认为您正在尝试为字典中的键设置 nil 值。这意味着您不会从 SELECT 语句中得到任何结果。请使用 Mozilla sqlite 编辑器检查您的数据库的内容，并查看您尝试检索的值是否存在于您的数据库中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:57:14.437

需要注意的几点：

1)

确保您没有使用数据库的只读版本。这将是一个数据库文件，它只是添加到您的项目而不是应用程序库中的文档文件夹（**/library/Application Support/iphone Simulator/ *version* /applications/ *app id* /Documents/）**将文件添加到您的项目文件夹不允许你写。

2)

```
sql = [NSString stringWithFormat:@"insert into AddFavorite (Id,Description) VALUES (?,?)"]; 
```

可能会更好（注意值周围的''）

```
sql = [NSString stringWithFormat:@"insert into AddFavorite (Id,Description) VALUES (\'%@\',\'%@\')",[tempDict objectForKey:@"pageid"], [tempDict objectForKey:@"desc"]]; 
```

3)

```
sqlite3_bind_text(insertStatement, 2,[[tempDict objectForKey:@"pageid"] UTF8String], -1, SQLITE_TRANSIENT);

sqlite3_bind_text(insertStatement, 3,[[tempDict objectForKey:@"desc"] UTF8String], -1, SQLITE_TRANSIENT); 
```

应该如 Mehul 所说，插入 1 和 2 而不是 2 和 3，所以：

```
sqlite3_bind_text(insertStatement, 1,[[tempDict objectForKey:@"pageid"] UTF8String], -1, SQLITE_TRANSIENT);

sqlite3_bind_text(insertStatement, 2,[[tempDict objectForKey:@"desc"] UTF8String], -1, SQLITE_TRANSIENT); 
```

4)

这个错误的积极之处在于它突出了一个重要点，即您必须检查要从数据库返回的空字符串并正确处理错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T06:36:05.963

我觉得应该是这样的。。

```
sqlite3_bind_text(insertStatement, 1,[[tempDict objectForKey:@"pageid"] UTF8String], -1, SQLITE_TRANSIENT);
sqlite3_bind_text(insertStatement, 2,[[tempDict objectForKey:@"desc"] UTF8String], -1, SQLITE_TRANSIENT); 
```

在从数据库中选择数据时，你应该使用这个，

```
[dict setObject:[NSString stringWithUTF8String:(char *)sqlite3_column_text(selectStatement,0)] forKey:@"Description"] 
```

# sql-server - 从生成的 TableAdapter 获取范围标识

> ID：11823441
> 
> 赞同：0
> 
> 时间：2012-08-06T06:28:46.573
> 
> 标签：sql-server, visual-studio, ado.net, dataset, identity-column

当我在 Visual Studio 中创建表适配器时，我可以单击高级选项并选择这些选项...

![在此处输入图像描述](../Images/e4b4b4ef2ea363d8db35c399d37461ea.png)

也许我的假设是错误的，但以某种方式检索该标识列值对我来说是有意义的。我查看了表适配器的自动生成的 Insert() 函数，它返回的整数是 ExecuteNonQuery() 的结果，它是受影响的行。

有人可以解释这个复选框的用法吗？以及如何使用它来检索插入行的标识？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:56:52.703

首先，表需要数据库上的主键，否则不会生成更新命令，插入后DataTable不会刷新（如果键是由数据库生成的，例如自动增量）。

如果您没有主键并且想要检索 db 生成的值，请使用 OUTPUT 子句：

```
INSERT INTO tablename (columnnames ..) 
OUTPUT inserted.* 
VALUES (values...) 
```

br

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-11-07T01:22:10.603

该系统旨在使用数据表，因此，如果您想添加单行，一种方法是

1.  创建临时数据表，
2.  使用该数据表的显式 AddRow 方法添加数据
3.  使用表适配器更新新创建的数据表
4.  返回表格第一行的 ID 字段。

第 3 步实际上进行了插入，然后在 SCOPE_IDENTITY() 上进行选择以刷新所有字段，包括“ID”列。

来自 WCF 的工作示例：

```
public string AddABCrecord(_ABCrecord ABC)
{
    bool isValid = (ABC.Activity != null) && (ABC.Behaviour != null) && (ABC.Consequence != null);

    DS.__ABCrecordDataTable dt = new DS.__ABCrecordDataTable();
    dt.Add__ABCrecordRow(ABC.Session, ABC.Section, ABC.Video, ABC.Ordinal,
        ABC.Name, ABC.Date, ABC.Time, ABC.Location, ABC.Activity,
        ABC.Antecedent, ABC.Behaviour, ABC.Consequence,
        isValid);

    try
    {
        new ta__ABCrecord().Update(dt);
        return dt[0].ID.ToString();
    }
    catch (Exception e)
    {
        return "Error Adding ABC record\r\n" + e.Message + ((e.InnerException == null) ? "" : Environment.NewLine + e.InnerException.Message);
    }
} 
```

# ruby-on-rails - rails wicked gem redirect_to 与参数

> ID：11823444
> 
> 赞同：0
> 
> 时间：2012-08-06T06:28:52.553
> 
> 标签：ruby-on-rails, gem

我正在努力使用 wicked 向 redirect_to 添加参数我遵循 Railscast 并阅读了 github 页面上的信息，但无法使其正常工作。我想创建一个对象插件，保存后应该可以向其中添加东西。

这是我得到的：

插件控制器：

```
def create
  @plugin = Plugin.new(params[:plugin])
  if @plugin.save
    redirect_to plugins_steps_path, :plugin_id => @plugin.id
  end
end 
```

plugins_steps 控制器：

```
def show
  @plugin = Plugin.find(params[:plugin_id])
  render_wizard
end 
```

路线：

```
resources :plugins_steps 
```

我从来没有在 plugins_steps 中获得 show 方法的任何参数有没有办法解决这个问题？我还尝试了几种 redirect_to 方法，例如：

```
redirect_to :controller: "plugins_steps", :action => "show", :plugin_id => @plugin.id 
```

或者

```
redirect_to({:plugin_id => @plugin.id }) 
```

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T16:10:48.430

`plugins_steps_path`是索引操作的路径。如果您想要显示动作，请使用`plugin_step_path`（即**步骤**必须是单数）。运行`rake routes`以验证这一点。此外，不要调用 param `:plugin_id`，只需相应地使用`:id`和更新您的显示控制器。

# java - 基于文件搜索的不同方法

> ID：11823446
> 
> 赞同：0
> 
> 时间：2012-08-06T06:29:12.773
> 
> 标签：java, file, file-io, io

我有一个要求是我必须编写一个高性能文件搜索程序，该程序应该列出与从最顶层文件夹开始提供的名称模式匹配的所有文件和文件夹，并在子文件夹中递归搜索。

程序可以是具有以下输入的命令行主类

开始搜索的顶级文件夹。例如 C:\MyFolders 要搜索的项目类型。文件或文件夹或两者 搜索模式 java 正则表达式 (java.util.regex) 被接受为 paatern

例如*MFile* .tx？将找到应用程序必须返回的 UMFile123.txt 和 AIIMFile.txs 的超时（以秒为单位）。否则它必须返回“无法完成操作”消息。

我想出了另一种方法是..

```
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.List;

import com.sapient.test.fileSearch.FileSearch;

public class FilesearchMain {

    /**
     * @param args
     */
    public static void main(String[] args) {
        // TODO Auto-generated method stub
        int flag=0;
        System.out.println("Type Item to Search ");
        System.out.println("1 File");
        System.out.println("2 Folder ");
        System.out.println("3 Both");
        System.out.println("0 Exit");

        try{
        BufferedReader readType = new BufferedReader(new InputStreamReader(System.in));

        String searchType =readType.readLine();;

        System.out.println("Enter name of file to search ::");

        BufferedReader readName = new BufferedReader(new InputStreamReader(System.in));
        String fileName=readName.readLine();

        if(searchType==null && fileName==null){
            throw new Exception("Error Occured::Provide both the input Parameters");
        }
        validateInputs(searchType,fileName);
        FileSearch fileSearch = new FileSearch(searchType,fileName);
List resultList=fileSearch.findFiles();
        System.out.println(resultList);
        }catch(IOException io){
            System.out.println("Error Occured:: Check the input Parameters and try again");
        }catch(Exception e){
            System.out.println(e.getMessage());
        }
    }

    private static void validateInputs(String searchType, String fileName) 
    throws Exception{
        if(!(searchType.equals("1") || searchType.equals("2") || searchType.equals("3")) ){
            throw new Exception("Error:: Item to search can be only 1 or 2 or 3");
        }
        if(searchType.equals("") || fileName.equals("")){
            System.out.println("Error Occured:: Check the input Parameters and try again");

        }

    }

} 
```

另一个文件是...

```
public class FileSearch {
    private String searchType;
    private String fileName;

    public FileSearch(){

    }
    public FileSearch(String sType,String fName){
        this.searchType=sType;
        this.fileName=fName;
    }

    public String getSearchType() {
        return searchType;
    }
    public void setSearchType(String searchType) {
        this.searchType = searchType;
    }
    public String getFileName() {
        return fileName;
    }
    public void setFileName(String fileName) {
        this.fileName = fileName;
    }
    public List findFiles(){

        File file = new File("C:\\MyFolders");

        return searchInDirectory(file);

    }
    //Assuming that files to search should contain the typed name by the user
    //
    private List searchInDirectory(File dirName){
        List<String> filesList = new ArrayList<String>();
        if(dirName.isDirectory()){
            File [] listFiles = dirName.listFiles();
            for(File searchedFile : listFiles){
                if(searchedFile.isFile() && searchedFile.getName().toUpperCase().contains(getFileName().toUpperCase())&& 
                        (getSearchType().equals("1") || getSearchType().equals("3") ) ){
                    filesList.add(searchedFile.getName());
                }else if(searchedFile.isDirectory() && searchedFile.getName().toUpperCase().contains(getFileName().toUpperCase())
                    &&  (getSearchType().equals("2") || getSearchType().equals("3") ) ){
                    filesList.add(searchedFile.getName());
                    searchInDirectory(searchedFile);
                }else{
                    searchInDirectory(searchedFile);
                }
            }
        }
        return filesList;
    }

}

Please advise is this approach is correct as per design..!Please update ..!1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:56:43.883

不，您说您想搜索正则表达式，但您没有这样做，因为您只是将它与`contains`. 如果这不仅仅是一个简单的练习，您可能想看看方法`File.listFiles()`和[Guava 的](http://code.google.com/p/guava-libraries/) [`PatternFilenameFilter`](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/PatternFilenameFilter.html). 如果您真的想限制程序可以运行的时间，请查看 Guava 的[`SimpleTimeLimiter`](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/util/concurrent/SimpleTimeLimiter.html). 然而，正如 Gene 在她的评论中所说，如果只需要一个简单的类似工具，其他工具可能更合适`find`。

# php - 需要更新从提交的图像中提取的图像 id 吗？

> ID：11823448
> 
> 赞同：0
> 
> 时间：2012-08-06T06:29:20.910
> 
> 标签：php

我只是需要帮助..

我正在研究图像库，管理员可以在其中上传具有单个类别 ID 的多个图像。图片采用这种格式，如“ABC_12345_business”、“ABC_23567_business”等。我已成功将多张图片上传到一个类别。但我希望当我单击提交按钮时，图像将插入到数据库中，并在单独的行中更新图像 ID [例如 12345,23567]。这样我就可以轻松地按图像 ID 搜索图像。

你能解释一下我该怎么做吗？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:45:36.473

像这样处理每个图像：

```
$fileName = 'ABC_123456_bussiness';
$fileParts = explode('_', $fileName);
#Fileparts contains now:
#$fileParts[0] = 'ABC';
#$fileParts[1] = '123456';
#$fileParts[2] = 'bussiness';
insertIntoDB($fileParts); 
```

这是你在寻找的东西吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:00:08.667

嗯，我不太确定你在找什么：

但是，如果您想动态地执行此操作，您可以在 javascript-library jQuery 的帮助下执行 AJAX 请求。

但是，如果我要从 Holger 的轨道开始，我会在函数中进行爆炸，而是这样做：

```
 function insertIntoDb(&$fileName){
  list($name, $id, $category) = explode("_",$fileName);
  //do shit here
} 
```

# c# - C# 列表 致杰森

> ID：11823455
> 
> 赞同：0
> 
> 时间：2012-08-06T06:30:02.207
> 
> 标签：c#, json, list, dictionary

我想将我的 List> 转换为 JSON 字符串。有谁知道如何在 C# 中实现这一点？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-06T06:30:45.223

使用 [JSON.Net](http://json.codeplex.com/)

```
using Newtonsoft.Json;
List<Dictionary<string, string>> testDictionary = new List<Dictionary<string, string>()>();
string json = JsonConvert.SerializeObject(testDictionary); 
```

# javascript - 车把中的条件

> ID：11823458
> 
> 赞同：0
> 
> 时间：2012-08-06T06:30:12.377
> 
> 标签：javascript, css, templates, handlebars.js

我想根据我的部分数据集（JSON）在 div 上添加一个类。这是我的数据：

```
{
    "title":"energy star",

    "cat":"power",

    "diff":"Investment",
    "description":"When purchasing appliances, consider buying 'energystar' certified appliances to radically reduce the amount of electricity used by older appliances.",
    "links":[
        {
            "title":"The Official Website of Energystar",
            "url":"http://www.energystar.gov"
        }
    ],
    "cost":"$60+"
},
{
    "title":"shut the faucet",
    "cat":"water",
    "diff":"No-Cost",
    "description":"Turn off the water while you brush your teeth. There is never a good reason for waste.",
    "cost":"$0"
},` 
```

这是我的模板

```
 {{#each this}}
        {{#addClasses}}
        {{/addClasses}}

        <div class="tip_whole">
            <div class="tip_header">
                <h5 class="tip_title">
                    <b>{{title}}</b> - {{diff}}
                </h5>
                <div class="tip_social">
                    <a href=""><img src="IMG/media/twitter_16.png" alt="twiter link"/></a>
                    <a href=""><img src="IMG/media/facebook_16.png" alt="facebook link"/></a>
                    <a href=""><img src="IMG/media/email_16.png" alt="email link"/></a>
                </div>
            </div>{{!end .tip_title}}
            <div class="tip_body">
                <div class="grid_20 alpha">
                    <p class="tip_desc">{{description}}</p>
                    {{#if links}}
                        <div class="tip_links">
                        <h5>More information</h5>
                        {{#each links}}
                                <a href="{{url}}" class="tip_link" target="_blank">{{title}}</a>
                        {{/each}}
                        </div>{{!end .tip_links}}
                    {{/if}}
                </div>{{!end .grid_20 alpha}}
                <div class="grid_19 push_2">
                    <h2 class="tip_cost_title">Avg. Cost to Implement</h2>
                    <h1 class="tip_cost_title">{{cost}}</h1>
                </div>
            </div>{{!end .tip_body}}
        </div>{{!end .tip_whole}}
    {{/each}} 
```

这是我的辅助功能

```
Handlebars.registerHelper("addClasses",function(){
    if(this.cat=="water"){
            console.log('water');
            $(".tip_whole").addClass("water");
        } else {
            console.log('no water here');
        }
});//end of helper function 
```

它正确记录有水但它永远不会添加类，它只会影响硬编码的“.tip_whole”，但不会影响由车把创建的

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T07:23:35.090

该助手将不起作用，因为`.tip_whole`当您说时不在 DOM 中，`$(".tip_whole")`所以您最终将您的`water`类添加到任何内容中。您将不得不更改您的助手以将类（或什么都没有）作为字符串返回：

```
Handlebars.registerHelper("addClasses", function() {
    return this.cat == 'water' ? 'water' : '';
}); 
```

然后在你想要上课的地方使用那个助手：

```
<div class="tip_whole {{addClasses}}"> 
```

演示：http: [//jsfiddle.net/ambiguous/SSPSY/](http://jsfiddle.net/ambiguous/SSPSY/)

# tapestry - 如何将文本字段值从表单传递到 Tapestry 中的 .java 类？

> ID：11823459
> 
> 赞同：-3
> 
> 时间：2012-08-06T06:30:15.263
> 
> 标签：tapestry

因为我是 Tapestry 的新手，所以我对它了解不多。我有一个 login.tml 文件，其中有两个文本字段用户名和密码。当用户单击提交或操作链接时，我需要将文本字段的值传递给 login.java 类.请给我 Tapestry 中 login.tml 和 login.java 的代码。提前感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:58:24.800

顺便说一句，[官方文档中的表单页面](http://tapestry.apache.org/forms-and-validation.html#FormsandValidation-StoringDataBetweenRequests)包含一个类似的基本示例。

# android - 双卡通话记录

> ID：11823462
> 
> 赞同：0
> 
> 时间：2012-08-06T06:30:22.930
> 
> 标签：android, calllog, dual-sim

我正在为 Android 2.3.4 开发一个应用程序。

此应用程序获取通话记录中的所有通话并将它们发送到服务器。该应用程序运行良好，但现在我遇到了问题。我必须添加双 SIM 卡选项。

我环顾四周，似乎 Android 混合了两个 SIM 卡的通话记录寄存器。好吧，既然我只需要获取 1 个 SIM 卡的日志，我该怎么做呢？Android可以做类似的事情（确定通话记录中哪个SIM卡被调用）还是我必须更改Android版本？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T08:17:51.373

任何基于 Android 构建的应用程序都将保证仅适用于单 SIM 卡手机。因为 Android 不支持多个 SIM 卡，至少从 SDK 来看是这样。已创建多 SIM 卡设备的设备制造商正在自行开发。欢迎您联系您的设备制造商，看看他们是否有 SDK 插件或允许您访问第二张 SIM 卡的东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-01-27T07:35:28.707

[有一种方法可以使用SubscriptionManager](http://developer.android.com/reference/android/telephony/SubscriptionManager.html)在 android API 级别 22 及更高版本中查找有关双 SIM 卡的信息，它为用户提供了一个 List SubscriptionInfo，其中包含有关多个模拟卡的信息

```
SubscriptionManager subscriptionManager = SubscriptionManager.from(getApplicationContext());
        List<SubscriptionInfo> mSimInfo =  subscriptionManager.getActiveSubscriptionInfoList(); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-15T08:35:41.063

有一个新的应用程序可以做同样的事情

在 Google Play/Market 上搜索 2SIMCallLogger

[https://play.google.com/store/apps/details?id=com.mashibo&feature=search_result#?t=W251bGwsMSwyLDEsImNvbS5tYXNoaWJvIl0](https://play.google.com/store/apps/details?id=com.mashibo&feature=search_result#?t=W251bGwsMSwyLDEsImNvbS5tYXNoaWJvIl0)。

# objective-c - 如何在按钮单击中禁用 UITabBarItem？

> ID：11823467
> 
> 赞同：1
> 
> 时间：2012-08-06T06:30:39.380
> 
> 标签：objective-c, uitabbarcontroller, xcode4.2

我正在使用 UITabBarController 开发一个 iOS 应用程序。我想在第二个子viewController(One button action)中设置第一个tabbaritem的用户交互为NO，即视图流程为：

firstTabbarItem -> firstChildView ->secondChildView ->buttonClick（设置 firstTabbarItem userInteraction 为 NO）。

如何实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:42:01.610

您可以直接访问标签栏项目：

```
self.tabBarController.tabBar.selectedItem.enabled = NO; 
```

只需在您的按钮处理程序中调用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:01:15.813

你可以看看

[UITabbarControllerDelegate](http://developer.apple.com/library/ios/ipad/#DOCUMENTATION/UIKit/Reference/UITabBarControllerDelegate_Protocol/Reference/Reference.html)，您可以让您的 AppDelegate 实现该协议，并对 TabbarController:shouldSelectViewController 做出响应

# solr - 使用词干提取时如何基于 rawquerystring 提升 solr 结果

> ID：11823470
> 
> 赞同：2
> 
> 时间：2012-08-06T06:30:47.307
> 
> 标签：solr, stemming

使用词干提取时，包含复数词的搜索关键字，如“cats”，在 Solr parsedquery 中被转换为“cat”。

Solr 结果现在包含匹配“cat”和“cats”的文档。

我想对包含“cats”的文档给予更高的提升，而其他结果（匹配“cat”，而不是“cats”）以较低的分数跟随这些文档。

这可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T06:38:15.523

使用您不使用的第二个字段（您可以使用 copyField 链接两个字段），然后匹配两个字段中的任何一个，从而为未提取的字段提供更多提升

# ios - MPMoviePlayer：是否可以为流媒体请求设置标头？

> ID：11823473
> 
> 赞同：1
> 
> 时间：2012-08-06T06:30:52.353
> 
> 标签：ios, http-headers, streaming, mpmovieplayer

在我的一个项目中，服务器需要一个 cookie（我从登录请求中获得）来流式传输视频，但我没有找到任何方法将标头与 MPMoviePlayer/MPMoviePlayerController 中的请求相关联，有人知道我该怎么做吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T09:01:55.033

通过注册自定义`NSURLProtocol`处理程序类，您可以以编程方式处理播放器发出的请求。

如需更多阅读，请参阅[这篇关于 NSURLProtocol](https://stackoverflow.com/a/11274598/439096)的文章、[这篇文章](http://codebycoffee.com/2012/01/08/decrypting-http-streaming-video-with-nsurlprotocol/)或[Apple HLS 文档](https://developer.apple.com/library/archive/documentation/NetworkingInternet/Conceptual/StreamingMediaGuide/HTTPStreamingArchitecture/HTTPStreamingArchitecture.html#//apple_ref/doc/uid/TP40008332-CH101-DontLinkElementID_8)。

# android - 使用 socket.io 聊天

> ID：11823477
> 
> 赞同：0
> 
> 时间：2012-08-06T06:31:06.480
> 
> 标签：android, socket.io

我正在使用`socket.io`. 任何人都可以提供使用 准备聊天应用程序的教程或指导`socket.io`？我已经搜索了教程。我找不到分步教程。请指导我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-12T02:37:03.787

试试这个库，它适用于我的聊天应用程序

[Gottox-socket.io](https://github.com/Gottox/socket.io-java-client)

第一步将包 io.socket 从 gottox 库复制到您的项目

然后像这样创建与 API 服务器的 socket.io 连接

```
 SocketIO socket = new SocketIO("http://10.0.2.2:8000/");
    socket.connect(new IOCallback() {
        @Override
        public void onMessage(JSONObject json, IOAcknowledge ack) {
            try {
                System.out.println("Server said:" + json.toString(2));
            } catch (JSONException e) {
                e.printStackTrace();
            }
        }

        @Override
        public void onMessage(String data, IOAcknowledge ack) {
            System.out.println("Server said: " + data);
        }

        @Override
        public void onError(SocketIOException socketIOException) {
            System.out.println("an Error occured");
            socketIOException.printStackTrace();
        }

        @Override
        public void onDisconnect() {
            System.out.println("Connection terminated.");
        }

        @Override
        public void onConnect() {
            System.out.println("Connection established");
        }

        @Override
        public void on(String event, IOAcknowledge ack, Object... args) {
            System.out.println("Server triggered event '" + event + "'");
          //I got receive_message from server here
          //to get string response i parse it to object array 
           Object[] arguments = args;
           System.out.println(args[0]);
        }
    }); 
```

如果您想发送消息，请使用此

```
socket.send("Hello Server!"); 
```

最后别忘了准备你的 API 服务器

# ssis - 我需要更新一些存储在 SQlServer 中的打包内容

> ID：11823478
> 
> 赞同：0
> 
> 时间：2012-08-06T06:31:08.727
> 
> 标签：ssis

我有一些 SSIS 包可以将一些表从 Server1 复制到 Server2。现在我需要更新这个包来替换 Server1 为 Server3。我可以这样做还是必须删除包并重新创建？

在此先感谢埃利亚娜

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T12:54:36.813

我可能误解了您最初的要求。保留旧答案，但我在下面添加了不同的方法。

## 原始方法

扩展@praveen 的评论

当你运行一个 SSIS 包时，有两种典型的这样做的机制。dtexecui 和 dtexec。前者是在 Windows 资源管理器中双击包时启动的，而后者是从命令行或 SQL 代理使用的。我发现使用 UI（SQL 代理或 Windows GUI）来构建命令行更容易。在您的情况下，您将覆盖 Server2 上连接字符串的值。另请参阅 [在不同时间执行具有不同参数的相同 SSIS 包](https://stackoverflow.com/questions/8384850/executing-the-same-ssis-package-with-different-parameters-at-different-time/8386338#8386338)

如果包需要将数据从 Server1 复制到两个目标（Server2**和**Server 3），那么您将需要使用配置运行该作业两次以切换目标或修改包以同时写入两个目标。

2.  在 Visual Studio/SSDT 中创建一个新的 SSIS 项目
3.  从 SQL Server 下载包。[将部署在 SQL Server 上的 SSIS 包复制回 Visual Studio 2008](https://stackoverflow.com/questions/8191556/copying-ssis-packages-deployed-on-sql-server-back-to-visual-studio-2008/8197227#8197227)
4.  将下载的包添加到项目中
5.  打开包，添加一个连接管理器到Server3
6.  在数据流任务中，在现有目标之前插入一个多播转换。
7.  将现有目标重新连接到多播
8.  拖动一个新的目标组件（很可能是 OLE DB 目标）并将其连接到多播
9.  测试
10.  将包部署回 SQL Server

## 更新方法

在重读请求时，我相信您的愿望是更改来源，而不是添加额外的目的地。当前进程是从 Server1 到 Server 2 的数据。所需状态是从 Server3 到 Server2。您的包裹可能看起来像

![在此处输入图像描述](../Images/1c07cba8a21acc58ab41a06e1f4ee54e.png)

重要的是连接管理器的名称。目前，Server1 的名称嵌入在`SourceConnectionOLEDB`. 您将希望 SQL 代理在运行时覆盖该值。

在当前 SQL 代理作业中，单击“数据源”选项卡（除非您使用的是 2012，否则您将寻找“高级”选项卡）检查`SourceConnectionOLEDB`连接管理器，然后将 Server1 的值替换为 Server3

![在此处输入图像描述](../Images/d4473d088ea37f7f1314ad800c27bdfb.png)

命令行选项卡应该看起来像

```
/FILE "\\serverB\c$\temp\Simple.dtsx"  /CONNECTION SourceConnectionOLEDB;"\"Data Source=SERVER3;Initial Catalog=SRC;Provider=SQLNCLI10;Integrated Security=SSPI;Auto Translate=false;\"" /CHECKPOINTING OFF /REPORTING E 
```

# php - php中的全球时间和全球日期转换

> ID：11823479
> 
> 赞同：0
> 
> 时间：2012-08-06T06:31:15.480
> 
> 标签：php

在我的网络应用程序中，用户必须输入一个时间并选择一个日期。所以我想将该时间和日期保存在全球时间和日期中。当它得到它应该出现在用户的国家时间中。所以简单的要求就是转换一个保存时将字符串转换为全球时间和全球日期，检索时将全球时间和日期转换为字符串。所以如果有人知道此 PHP 函数，请告诉我。谢谢！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:59:49.877

PHP 日期和时间总是在服务器端工作。

您是否已经考虑使用时间戳和**date_default_timezone_set()**函数来获取“全局”日期时间？

```
php > echo time();
1344236016
php > $timestamp=1344236016;
php > echo date('c',$timestamp);
2012-08-06T08:53:36+02:00
php > date_default_timezone_set('GMT');
php > echo date('c',$timestamp);
2012-08-06T06:53:36+00:00 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T06:54:22.773

用于`timezone_identifiers_list()`获取时区列表，然后询问用户所在的时区。

然后使用`date_default_timezone_set()`从上一个函数中获得的字符串。

# android - 在调用 surfaceCreated 之前，前一个屏幕通过视图流血

> ID：11823483
> 
> 赞同：2
> 
> 时间：2012-08-06T06:31:35.010
> 
> 标签：android

这是一个玩具示例。如果您在实际设备（而不是模拟器）上编译并测试，您将看到第一次附加 SurfaceView 时，整个屏幕内容会相应更改。但是，在按回然后再次按按钮时，您会看到顶部的一条细线与上一个屏幕保持蓝色，并且仅在创建 Surface 后消失。这在我的所有视图（无 SurfaceView）中都发生在我的应用程序中，并且令人烦恼。有没有人见过这个问题？有解决方法吗？我在 Android 2.1 上的 HTC EVO 上运行它

```
package com.example.surfaceviewtest;

import android.app.Activity;
import android.graphics.Color;
import android.os.Bundle;
import android.view.SurfaceView;
import android.view.View;
import android.widget.Button;
import android.widget.RelativeLayout;
import android.widget.RelativeLayout.LayoutParams;
import android.widget.TextView;

public class MainActivity extends Activity {

    private RelativeLayout home;
    private RelativeLayout newView;
    private int view;

    /* (non-Javadoc)
     * @see android.app.Activity#onCreate(android.os.Bundle)
     */
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        home = new RelativeLayout(this);
        home.setBackgroundColor(Color.BLUE);
        Button changeCV = new Button(this);
        changeCV.setText("Change Content View");
        changeCV.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                setContentView(newView, new RelativeLayout.LayoutParams(
                    LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));
                view = 2;
            }
        });
        RelativeLayout.LayoutParams buttonParams = new RelativeLayout.LayoutParams(
            LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
        buttonParams.addRule(RelativeLayout.CENTER_IN_PARENT);
        home.addView(changeCV, buttonParams);

        newView = new RelativeLayout(this);
        RelativeLayout.LayoutParams surfaceParams = new RelativeLayout.LayoutParams(
            LayoutParams.FILL_PARENT, 200);
    surfaceParams.addRule(RelativeLayout.CENTER_IN_PARENT);
        SurfaceView surfView = new SurfaceView(this);
        newView.addView(surfView, surfaceParams);
        RelativeLayout.LayoutParams tvParams = new RelativeLayout.LayoutParams(
            LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT);
        tvParams.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);
        TextView tv = new TextView(this);
        newView.addView(tv, tvParams);

        setContentView(home, new RelativeLayout.LayoutParams(
            LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));
        view = 1;
    }

     /* (non-Javadoc)
     * @see android.app.Activity#onBackPressed()
     */
    @Override
    public void onBackPressed() {
        if (view == 2) {
            setContentView(home, new RelativeLayout.LayoutParams(
                LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));
            view = 1;
        }
        else {
            finish();
        }
    }   
} 
```

# java - Android 读入一个与 app 打包的 .txt 文件

> ID：11823495
> 
> 赞同：1
> 
> 时间：2012-08-06T06:32:58.940
> 
> 标签：java, android, file, embedded-resource

我希望能够读取我的应用程序附带的文件**myFile.txt**，无论是在 assets 文件夹、 res/raw 文件夹中，无论何时，都没有关系。

但！我不想要该文件的 InputStream ...我希望能够执行以下操作：

```
while ((reader = is.readLine()) != null) { ... } 
```

我四处搜寻，发现了一些很接近但不是我真正想要的东西..

感谢您的任何帮助。

编辑 - 我正在尝试的一些代码：

```
InputStream in = this.mCtx.getResources().openRawResource(R.raw.myFile);
Reader is = new BufferedReader(new InputStreamReader(in, "UTF8")); 
```

（现在怎么办？Reader 类没有 readLine() 方法）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T06:44:08.673

只是改变

```
Reader is = new BufferedReader(new InputStreamReader(in, "UTF8")); 
```

到

```
BufferedReader is = new BufferedReader(new InputStreamReader(in, "UTF8")); 
```

`BufferedReader`有`readLine()`方法。您不必要地向上转换到 Reader 并失去附加功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T06:43:55.193

使用 BufferedReader 而不是 Reader 进行定义。

```
BufferedReader is = new BufferedReader(new InputStreamReader(in, "UTF8")); 
```

Bufferedreader 有 readline 方法但没有 reader

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T06:44:26.033

您可以将文件存储在 sdcard 中，并在以下代码中的“file_path”中指定其位置：

```
File selectedFile = new File("file_path");
FileInputStream fstream = new FileInputStream(selectedFile);
BufferedReader reader = new BufferedReader(new InputStreamReader(fstream)); 
```

进而

```
while ((strLine = reader.readLine()) != null)
{
        //Do Stuff Here
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T06:35:15.870

关于什么

```
BufferedReader reader = new BufferedReader(new BufferedInputStream(is)); 
```

**编辑：**对不起-我的错。只需坚持使用 BufferedReader。打开资源可以使用

```
InputStream is = getClass().getResourceAsStream("/org/example/res/my_file.txt"); 
```

见[Class#getResourceAsStream](http://developer.android.com/reference/java/lang/Class.html#getResourceAsStream%28java.lang.String%29)）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-06T07:00:24.170

使用这些**步骤来完成它....**

```
File f = new File("/sdcard/MyFolder/MyFile.txt");
FileReader fr = new FileReader(f);
BufferedReader br = new BufferedReader(fr);

StringBuilder sb = new StringBuilder();
String str = new String();

while((br.readLine())!=null){

   sb.append(br.readLine());  

 }

str = sb.toString(); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-06T07:18:26.743

我认为你应该使用类似的东西：

```
BufferedReader in = new BufferedReader(new     InputStreamReader(activity.getAssets().open("yourfile"))); 
```

StringBuilder 缓冲区 = new StringBuilder(); while ((line = in.readLine()) != null) buffer.append(line).append('\n');

在您的资产目录中，只需将您的文件放入不带 .txt 扩展名的文件中。希望这对您有所帮助。

# iphone - iOS - plist 文件解析错误

> ID：11823501
> 
> 赞同：1
> 
> 时间：2012-08-06T06:33:36.933
> 
> 标签：iphone

只要我`&`在我的 plist 文件中输入其中一个元素的字符串值，应用程序就会出错。知道为什么吗？

```
<plist>
    <array>
        <string>http://www.foo.com?a=b&c=d</string>
    </array>
</plist> 
```

如果我`&`在 URL 中删除它，一切正常。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:02:33.987

替换`&`为`&amp;`它应该是我希望的问题！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T06:58:06.133

您是否尝试过`&`替换`&amp;`

# java - 解析大数字以删除逗号而不丢失java中的精度

> ID：11823504
> 
> 赞同：3
> 
> 时间：2012-08-06T06:33:43.110
> 
> 标签：java

我有一个十进制数 999,999,999,999,999.999 作为字符串，我需要从中删除逗号。为此，我使用以下代码 -

```
new BigDecimal(NumberFormat.getInstance().parse("999,999,999,999,999.999")
                      .doubleValue()).setScale(3,BigDecimal.ROUND_HALF_UP); 
```

但这给了我四舍五入的值 1000000000000000.000。但我想要的是999999999999999.999。谁能让我在不丢失精度的情况下如何在java中完成这项工作。不可能有什么替代方法来做到这一点。

我想到了在 String 上使用 replaceAll() 将“，”替换为“”，但如果可能的话，我想用数字来做。

提前致谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-06T06:36:59.513

当您通过时，您会失去精度`.doubleValue()`。

您需要立即将其存储为一个`BigDecimal`。我建议你使用`DecimalFormat`和[`setParseBigDecimal`](http://docs.oracle.com/javase/1.5.0/docs/api/java/text/DecimalFormat.html#setParseBigDecimal%28boolean%29)为真。

```
DecimalFormat nf = new DecimalFormat("###,###.###");
nf.setParseBigDecimal(true);
BigDecimal bd = ((BigDecimal) nf.parse("999,999,999,999,999.999"))
                        .setScale(3,BigDecimal.ROUND_HALF_UP);

System.out.println(bd);  // 999999999999999.999 
```

# java - 我们可以在tomcat服务器上部署Jboss WS吗

> ID：11823507
> 
> 赞同：2
> 
> 时间：2012-08-06T06:34:09.020
> 
> 标签：java, web-services, tomcat, jbossws

我们可以在tomcat服务器上部署Jboss WS吗

我尝试在 tomcat 7 上执行此操作，在包含 Jboss Ws 的 jar 之后，我收到错误 org/bboss/kernel/Kernel class not found 异常，然后我为 jboss-kernel-2.2.0.GA.jar 添加了一个 jar

请分享您的经验。

谢谢阿比

# android - 更改源后 Eclipse 无法构建 apk

> ID：11823519
> 
> 赞同：0
> 
> 时间：2012-08-06T06:35:29.380
> 
> 标签：android, eclipse, apk

我从过去 4 天开始使用 Eclipse 3.7，它在修改源代码时无法构建新的 apk。我**启用了自动构建。**如果我清理项目 apk 文件，则会从 bin 文件夹中删除。

# python - SQLAlchemy UnmappedClassError：类 'sqlalchemy.ext.declarative.DeclarativeMeta' 未映射

> ID：11823521
> 
> 赞同：3
> 
> 时间：2012-08-06T06:35:34.537
> 
> 标签：python, sqlalchemy

我在我的项目中使用模型继承。

我的模型：

```
class CommentBase(Base):
    __abstract__ = True

    id = Column(Integer, primary_key=True)
    text = Column(Unicode(500))

    @declared_attr
    def user_id(cls):
        return Column(ForeignKey('user.id'))

    @declared_attr
    def user(cls):
        return relationship('User')

    def __init__(self, user_id, text):
        self.user_id = user_id
        self.text = text

class CommentOne(CommentBase):
    __tablename__ = 'comment_one'

class CommentTwo(CommentBase):
    __tablename__ = 'comment_two' 
```

所有表都正确创建，但是当我尝试用一​​些测试数据填充表（即使是那些不从其他表继承的表）时，它会引发错误：

> **UnmappedClassError**：类**'sqlalchemy.ext.declarative.DeclarativeMeta'**未映射

这是我的`Base`：

```
Base = declarative_base() 
```

没有继承，所有工作都应该如此。如何解决？

提前谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-12-22T13:38:33.000

我只是偶然发现了同样的问题。问题是我填充表格的方式：

```
s = application.models.Sample
s.label = 'asdf'
db_session.add(s)

UnmappedInstanceError: Class 'sqlalchemy.ext.declarative.api.DeclarativeMeta' is not mapped; was a class (application.models.Sample) supplied where an instance was required? 
```

当我修复我的实例化时，它工作正常：

```
s = application.models.Sample()
... 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-07T22:47:38.730

无法重现。上面的代码适用于最近的 0.7 和 0.8 版本：

```
from sqlalchemy import *
from sqlalchemy.orm import *
from sqlalchemy.ext.declarative import declarative_base, declared_attr

Base = declarative_base()

class CommentBase(Base):
    __abstract__ = True

    id = Column(Integer, primary_key=True)
    text = Column(Unicode(500))

    @declared_attr
    def user_id(cls):
        return Column(ForeignKey('user.id'))

    @declared_attr
    def user(cls):
        return relationship('User')

    def __init__(self, user_id, text):
        self.user_id = user_id
        self.text = text

class User(Base):
    __tablename__ = 'user'
    id = Column(Integer, primary_key=True)

class CommentOne(CommentBase):
    __tablename__ = 'comment_one'

class CommentTwo(CommentBase):
    __tablename__ = 'comment_two'

e = create_engine("sqlite://", echo=True)

Base.metadata.create_all(e)

s = Session(e)

u1 = User()
s.add(u1)
s.flush()

s.add_all([CommentOne(user_id=u1.id, text="c1"), CommentTwo(user_id=u1.id, text="c2")])
s.commit()

print s.query(CommentOne).all() 
```

输出：

```
2012-08-07 18:47:10,727 INFO sqlalchemy.engine.base.Engine PRAGMA table_info("user")
2012-08-07 18:47:10,727 INFO sqlalchemy.engine.base.Engine ()
2012-08-07 18:47:10,727 INFO sqlalchemy.engine.base.Engine PRAGMA table_info("comment_one")
2012-08-07 18:47:10,727 INFO sqlalchemy.engine.base.Engine ()
2012-08-07 18:47:10,728 INFO sqlalchemy.engine.base.Engine PRAGMA table_info("comment_two")
2012-08-07 18:47:10,728 INFO sqlalchemy.engine.base.Engine ()
2012-08-07 18:47:10,728 INFO sqlalchemy.engine.base.Engine 
CREATE TABLE user (
    id INTEGER NOT NULL, 
    PRIMARY KEY (id)
)

2012-08-07 18:47:10,728 INFO sqlalchemy.engine.base.Engine ()
2012-08-07 18:47:10,729 INFO sqlalchemy.engine.base.Engine COMMIT
2012-08-07 18:47:10,729 INFO sqlalchemy.engine.base.Engine 
CREATE TABLE comment_one (
    id INTEGER NOT NULL, 
    text VARCHAR(500), 
    user_id INTEGER, 
    PRIMARY KEY (id), 
    FOREIGN KEY(user_id) REFERENCES user (id)
)

2012-08-07 18:47:10,729 INFO sqlalchemy.engine.base.Engine ()
2012-08-07 18:47:10,729 INFO sqlalchemy.engine.base.Engine COMMIT
2012-08-07 18:47:10,730 INFO sqlalchemy.engine.base.Engine 
CREATE TABLE comment_two (
    id INTEGER NOT NULL, 
    text VARCHAR(500), 
    user_id INTEGER, 
    PRIMARY KEY (id), 
    FOREIGN KEY(user_id) REFERENCES user (id)
)

2012-08-07 18:47:10,730 INFO sqlalchemy.engine.base.Engine ()
2012-08-07 18:47:10,730 INFO sqlalchemy.engine.base.Engine COMMIT
2012-08-07 18:47:10,732 INFO sqlalchemy.engine.base.Engine BEGIN (implicit)
2012-08-07 18:47:10,733 INFO sqlalchemy.engine.base.Engine INSERT INTO user DEFAULT VALUES
2012-08-07 18:47:10,733 INFO sqlalchemy.engine.base.Engine ()
/Users/classic/dev/sa07/lib/sqlalchemy/engine/default.py:463: SAWarning: Unicode type received non-unicode bind param value.
  param.append(processors[key](compiled_params[key]))
2012-08-07 18:47:10,751 INFO sqlalchemy.engine.base.Engine INSERT INTO comment_two (text, user_id) VALUES (?, ?)
2012-08-07 18:47:10,751 INFO sqlalchemy.engine.base.Engine ('c2', 1)
2012-08-07 18:47:10,753 INFO sqlalchemy.engine.base.Engine INSERT INTO comment_one (text, user_id) VALUES (?, ?)
2012-08-07 18:47:10,753 INFO sqlalchemy.engine.base.Engine ('c1', 1)
2012-08-07 18:47:10,753 INFO sqlalchemy.engine.base.Engine COMMIT
2012-08-07 18:47:10,754 INFO sqlalchemy.engine.base.Engine BEGIN (implicit)
2012-08-07 18:47:10,754 INFO sqlalchemy.engine.base.Engine SELECT comment_one.id AS comment_one_id, comment_one.text AS comment_one_text, comment_one.user_id AS comment_one_user_id 
FROM comment_one
2012-08-07 18:47:10,754 INFO sqlalchemy.engine.base.Engine ()
[<__main__.CommentOne object at 0x1014e37d0>] 
```

# html - HTML 5, HOWTO 加载正方形图片或绘制简单正方形，并将其旋转 45 度

> ID：11823523
> 
> 赞同：0
> 
> 时间：2012-08-06T06:35:45.773
> 
> 标签：html, canvas

这应该很简单..但无法弄清楚：我在第一个矩形上使用旋转功能，但我正在旋转第二个矩形？？:( 在 Remmy Sharp 的回答之后更新了代码。但是现在盒子已经消失了。我只是想让两个盒子之一在他们的注册点上旋转。

哪里有问题 ？

```
 <!DOCTYPE HTML>
<html>
  <head>
    <style>
      #myCanvas {
        border: 1px solid #9C9898;
      }
       #myCanvas2 {
        border: 1px solid #9C9898;
      }
      body {
        margin: 0px;
        padding: 0px;
      }
    </style>
    <script>
      window.onload = function() {
        var canvas = document.getElementById('myCanvas');
        var context = canvas.getContext('2d');

        context.beginPath();
        context.rect(100, 100, 200, 100);
        context.fillStyle = '#8ED6FF';
        context.fill();
        context.lineWidth = 5;
        context.strokeStyle = 'black';
        context.stroke();
        context.rotate(20*Math.PI/180); //<<<1st rectange should rotate 

        var canvas2 = document.getElementById('myCanvas2');
        var context2 = canvas2.getContext('2d') //<< updated as per Remmy Sharp's answer.

        context2.beginPath();
        context2.rect(200, 200, 200, 100);
        context2.fillStyle = '#8ED6FF';
        context2.fill();
        context2.lineWidth = 5;
        context2.strokeStyle = 'black';
        context2.stroke();

        //canvas2.rotate = 45 
        //context2.rotate(20*Math.PI/180)
      };

    </script>
  </head>
  <body>
    <canvas id="myCanvas" width="578" height="500">

        <canvas id="myCanvas2"   width="400" height="200"></canvas>

    </canvas>

  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T12:21:36.353

不，当你做第一个时，你正在绘制画布和第一个矩形`context.stroke`- 这会立即绘制像素。

然后你用 转换坐标系`context.rotate`，然后任何后续的画布使用新转换的坐标系（以及第二个油漆旋转的原因）。

第二个矩形被旋转的*原因*（即使你似乎有第二个画布）是......你有一个错字：

```
var context2 = canvas.getContext('2d'); 
```

应该读：

```
var context2 = canvas2.getContext('2d'); 
```

所以`context2`实际上与`context`您示例中的变量相同。

您还会注意到，当您使用上述修复更新代码时，旋转过多 - 您需要`0,0`在旋转之前平移中心点以获得您想要的效果（我认为）。

**编辑并继续调试代码**

因此，您的代码中还有很多问题，包括：

1.  您已将第二个画布嵌套在第*一个*画布中 - 因此第二个画布实际上并不存在。
2.  你的旋转非常大，我怀疑不是你想要的（就像我之前说的，你可能想在 50/50 中心点旋转，而不是 0,0）。
3.  你的画布很大，而且彼此相邻。因此，当您绘制第二个画布时 - 您看不到它，*因为它不在屏幕上*。

这是固定的代码，并使画布更小（和红色的 CSS bg，所以我可以看到它们），我添加了一个动画来可视化第二个画布上的旋转：http: [//jsbin.com/ovefux/1/edit](http://jsbin.com/ovefux/1/edit)

# c# - 我怎样才能让标签闪烁改变颜色，但只在它自己的标签周围？

> ID：11823524
> 
> 赞同：1
> 
> 时间：2012-08-06T06:35:46.287
> 
> 标签：c#

我在设计器中有两个标签：

两者的尺寸：410（宽度），55 位置：340（X），100。在每个标签下，我都有一个非常贴近它的小标签：尺寸：69,17

然后我在运行时代码中有两个标签，每个标签都在其他两个标签的左边，每个标签都显示一个值。

```
private void GPULabels()
        {

                GpuTemperature_label.Location = new Point(250, 100);
                GpuTemperature_label.Height = 250;
                GpuTemperature_label.Width = 500;
                GpuTemperature_label.ForeColor = Color.Red;
                GpuTemperature_label.Font = new Font("Arial", 35, FontStyle.Bold);
                button3.Enabled = false;

        }

        private void CPULabels()
        {
            CpuTemperature_label.Location = new Point(250, 200);
            CpuTemperature_label.Height = 250;
            CpuTemperature_label.Width = 500;
            CpuTemperature_label.ForeColor = Color.Red;
            CpuTemperature_label.Font = new Font("Arial", 35, FontStyle.Bold);

        } 
```

我想让以下两个标签闪烁：GPULabels 和 CPULabels。

Form1 尺寸为：800x600

我创建了一个条件，如果 X > Y 然后闪烁：

```
private void blinking_label()
        {
            if (GpuTemperature_label.BackColor == SystemColors.Control)
            {
                GpuTemperature_label.BackColor = Color.Blue;
            }
            else
                if (GpuTemperature_label.BackColor == Color.Blue)
                {
                    GpuTemperature_label.BackColor = SystemColors.Control;
                }

        } 
```

闪烁时的结果是：

![在此处输入图像描述](../Images/cd8d9b2337aac3f7a22e7628865cec31.png)

我只希望值在包含值的左侧标签上闪烁（在本例中为 46），但我只希望 46 闪烁！在这种情况下，图像中包含该值的标签是 GPULabels()，即 GpuTemperature_label。

但取而代之的是，由于法师显示闪烁的油漆面积很大。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:32:35.953

您的两个标签，即您在代码中创建的标签和您必须在设计器中声明的标签是重叠的。尝试根据您的要求重新调整**GpuTemperature_label的宽度和位置。**

我可以建议将**GpuTemperature_label的****width**属性更改为 **200**并将其**位置**更改为**140,100**。

 ******按照标签的名称，我猜您正在尝试显示温度，并且该值永远不会超过 2 位，因此，您不需要它的宽度为**500px**。

或者，如果由于设计义务您仍然无法更改标签的位置，则将两个标签的**位置 Y**保持为 100（*或任何适合您的应用程序*）并使其**高度**相等。这样，您的第二个标签将与**GpuTemperature_label**完全重叠，从而吞没现在出现的那些不完整的线条。******

# ios - 使用持久存储协调员？

> ID：11823526
> 
> 赞同：0
> 
> 时间：2012-08-06T06:35:52.333
> 
> 标签：ios, xcode, ios5, core-data, nspersistentstore

我制作了一个主要基于表格视图控制器/表格视图的 iPad 应用程序。我从外部服务器上的 .csv 文件中获取它的内容。我需要将内容保存在设备上。所以我正在使用核心数据来实现这一点。我已经成功地使用托管对象和托管对象上下文来做到这一点。如果用户提供输入，对于新单元格，我将其存储在托管对象中。

但是，在完成所有这些之后，我再也不需要使用 Persistent Store Co-ordinators。好吧，也许我应该有，但我不知道如何或为什么要使用它们。

对此有一点启发会很棒！

编辑：所以我的问题是，核心数据需要持久存储协调器吗？它们是用来做什么的？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:20:13.310

持久存储协调器是物理数据库（存储文件）和托管对象上下文之间的链接。如果没有持久存储协调器，您将无法使用核心数据。上下文跟踪对托管对象的更改。托管对象模型描述了所有实体（关系、属性等）。

# javascript - 跨站点脚本过滤器阻止我尝试使用 python cgi 脚本将 javascript 变量保存到 mysql db

> ID：11823529
> 
> 赞同：0
> 
> 时间：2012-08-06T06:36:09.170
> 
> 标签：javascript, python, webkit, cgi, xss

我的主要目标是使用 python cgi 脚本将 javascript 变量保存到 mysql db。这是 js 变量的内容：

```
<li style="width: 300px; background-color: white; list-style-image: url(http://champ/images/plus.gif); ">Costco 
  <input style="float: right; display: none; " type="image" src="/images/next_level.png" alt="Submit button" onclick="newLevel(this)">
  <input style="float: right; margin-right: 7px; display: none; " type="image" src="/images/b_add.png" alt="Submit button" onclick="addItem(this)">
  <input style="float: right; margin-right: 7px; display: none; " type="image" src="/images/b_edit.png" alt="Submit button" onclick="editItem(this)">
  <input style="float: right; margin-right: 7px; display: none; " type="image" src="/images/b_drop.png" alt="Submit button" onclick="delItem(this)">
  <ul style="display: none; ">
    <li style="width: 300px; background-color: white; cursor: default; list-style-image: none; ">Cheese
        <input style="float:right;" type="image" src="/images/next_level.png" alt="Submit button" onclick="newLevel(this)">
        <input style="float:right; margin-right: 7px;" type="image" src="/images/b_add.png" alt="Submit button" onclick="addItem(this)">
        <input style="float:right; margin-right: 7px" type="image" src="/images/b_edit.png" alt="Submit button" onclick="editItem(this)">
        <input style="float:right; margin-right: 7px" type="image" src="/images/b_drop.png" alt="Submit button" onclick="delItem(this)">
    </li>
    <li style="width: 300px; background-color: white; cursor: default; list-style-image: none; ">Milk
        <input style="float:right;" type="image" src="/images/next_level.png" alt="Submit button" onclick="newLevel(this)">
        <input style="float:right; margin-right: 7px;" type="image" src="/images/b_add.png" alt="Submit button" onclick="addItem(this)">
        <input style="float:right; margin-right: 7px" type="image" src="/images/b_edit.png" alt="Submit button" onclick="editItem(this)">
        <input style="float:right; margin-right: 7px" type="image" src="/images/b_drop.png" alt="Submit button" onclick="delItem(this)">
    </li>
    <li style="width: 300px; cursor: default; list-style-image: none; ">Pretzels
        <input style="float:right;" type="image" src="/images/next_level.png" alt="Submit button" onclick="newLevel(this)">
        <input style="float:right; margin-right: 7px;" type="image" src="/images/b_add.png" alt="Submit button" onclick="addItem(this)">
        <input style="float:right; margin-right: 7px" type="image" src="/images/b_edit.png" alt="Submit button" onclick="editItem(this)">
        <input style="float:right; margin-right: 7px" type="image" src="/images/b_drop.png" alt="Submit button" onclick="delItem(this)">
    </li>
  </ul>
</li>
<li style="width: 300px; background-color: white; list-style-image: url(http://champ/images/plus.gif); ">Walmart
  <input style="float: right; display: none; " type="image" src="/images/next_level.png" alt="Submit button" onclick="newLevel(this)">
  <input style="float: right; margin-right: 7px; display: none; " type="image" src="/images/b_add.png" alt="Submit button" onclick="addItem(this)">
  <input style="float: right; margin-right: 7px; display: none; " type="image" src="/images/b_edit.png" alt="Submit button" onclick="editItem(this)">
  <input style="float: right; margin-right: 7px; display: none; " type="image" src="/images/b_drop.png" alt="Submit button" onclick="delItem(this)">
  <ul style="display: none; ">
    <li style="width: 300px; background-color: white; cursor: default; list-style-image: none; ">Bread 
      <input style="float:right;" type="image" src="/images/next_level.png" alt="Submit button" onclick="newLevel(this)">
      <input style="float:right; margin-right: 7px;" type="image" src="/images/b_add.png" alt="Submit button" onclick="addItem(this)">
      <input style="float:right; margin-right: 7px" type="image" src="/images/b_edit.png" alt="Submit button" onclick="editItem(this)">
      <input style="float:right; margin-right: 7px" type="image" src="/images/b_drop.png" alt="Submit button" onclick="delItem(this)">
    </li><li style="width: 300px; background-color: white; cursor: default; list-style-image: none; ">Bannanas 
      <input style="float:right;" type="image" src="/images/next_level.png" alt="Submit button" onclick="newLevel(this)">
      <input style="float:right; margin-right: 7px;" type="image" src="/images/b_add.png" alt="Submit button" onclick="addItem(this)">
      <input style="float:right; margin-right: 7px" type="image" src="/images/b_edit.png" alt="Submit button" onclick="editItem(this)">
      <input style="float:right; margin-right: 7px" type="image" src="/images/b_drop.png" alt="Submit button" onclick="delItem(this)">
    </li><li style="width: 300px; background-color: white; cursor: default; list-style-image: none; ">Cereal 
      <input style="float:right;" type="image" src="/images/next_level.png" alt="Submit button" onclick="newLevel(this)">
      <input style="float:right; margin-right: 7px;" type="image" src="/images/b_add.png" alt="Submit button" onclick="addItem(this)">
      <input style="float:right; margin-right: 7px" type="image" src="/images/b_edit.png" alt="Submit button" onclick="editItem(this)">
      <input style="float:right; margin-right: 7px" type="image" src="/images/b_drop.png" alt="Submit button" onclick="delItem(this)">
    </li><li style="width: 300px; background-color: white; cursor: default; list-style-image: none; ">Tortillas 
      <input style="float:right;" type="image" src="/images/next_level.png" alt="Submit button" onclick="newLevel(this)">
      <input style="float:right; margin-right: 7px;" type="image" src="/images/b_add.png" alt="Submit button" onclick="addItem(this)">
      <input style="float:right; margin-right: 7px" type="image" src="/images/b_edit.png" alt="Submit button" onclick="editItem(this)">
      <input style="float:right; margin-right: 7px" type="image" src="/images/b_drop.png" alt="Submit button" onclick="delItem(this)"> 
```

如您所见，我正在尝试将我的购物清单保存到数据库中。据我了解跨站点脚本过滤器问题，当您通过 http post 方法发送 js 然后通过 http 响应返回相同的代码时会出现问题。也许我误解了这个问题，因为我在这段代码中没有看到任何 js，是吗？

所以我希望将这个js变量的内容写入一个隐藏的输入表单元素并提交表单：

```
 function saveList()
  {
     var list = $('ul').html();
     document.getElementById("html_passed").value = list;
     document.forms["editsForm"].submit();
  } 
```

这是表单定义：

```
<form name="editsForm" action="/cgi-bin/todo2.py" method="post">
  ...
  <input id="html_passed" type="hidden" name="html_passed">
  ...
</form> 
```

然后在执行python cgi脚本（todo2.py）时读取这个表单元素的值：

```
form = cgi.FieldStorage()

if form.keys() != []:
  if 'html_passed' in form.keys(): 
```

然后通过 MySQLdb 将这段代码放在一个 mysql db 中。但是，当我尝试阅读表单内容时，`form = cgi.FieldStorage()`我在 webkit 控制台中收到以下错误：

```
 Refused to execute a JavaScript script. Source code of script found within request. 
```

所以，我有点卡住了。我找到了一些关于跨站点脚本[解决方法](https://stackoverflow.com/questions/1547884/refused-to-execute-a-javascript-script-source-code-of-script-found-within-reque)的信息，但我不知道如何在 python 中发送非标准 HTTP 标头，或者是否可以完成。我看到它可以在 php 中完成`header("X-XSS-Protection: 0");`。但是，如果有其他方法可以解决此问题，我宁愿不要搞砸。任何想法将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T05:39:34.080

我决定加强我的 javascript/jquery 技能。我发现确实是导致问题的 onclicks。因此，作为一种解决方法，我在提交表单之前删除了它们：

```
 function rmOnClicks()
  {
    console.log('entered rmOnClicks()')
    $('li').children().each(function(index) 
    {
      $(this).removeAttr("onclick");
      //alert($(this).text());
    });
  } 
```

然后，当我从数据库中调用数据时，我将它们添加回：

```
function addOnClicks()
  {
    console.log('entered rmOnClicks()')
    $('li').children().each(function(index) 
    {
      var src = $(this).attr('src');

            if (src == "/images/b_drop.png") 
      {
        $(this).removeAttr("onclick");
        $(this).attr('onclick','delItem(this)')
      }
      else if (src == "/images/b_edit.png") 
      {
        $(this).removeAttr("onclick");
        $(this).attr('onclick','editItem(this)')
      }
      else if (src == "/images/b_add.png") 
      {
        $(this).removeAttr("onclick");
        $(this).attr('onclick','addItem(this)')
      }
      else if (src == "/images/next_level.png") 
      {
        $(this).removeAttr("onclick");
        $(this).attr('onclick','newLevel(this)')
      }

    });

    var list = $('ul').html();
    console.log(list);
} 
```

这有点杂乱无章，但我认为它非常强大。如果您有其他想法，我仍然想听听。谢谢。

# batch-file - 如何检查 CMD/BAT 命令行参数是否匹配特定单词？

> ID：11823533
> 
> 赞同：0
> 
> 时间：2012-08-06T06:36:30.853
> 
> 标签：batch-file, cmd, dos

H 大家好。我打算编写一个执行以下操作的批处理（umake.bat）文件：

检查是否`-f`出现在 bat 参数之一中，以便我可以在 .bat 中执行不同的操作。

情况1：

用户调用

```
umake 
```

在 umake.bat 我将执行

```
make -f Makefile.umk 
```

案例二：

用户调用

```
umake debug=1 var="big cat" 
```

在 umake.bat 我将执行

```
make debug=1 var="big cat" -f Makefile.umk 
```

案例 3：

用户调用

```
umake -f special.mk debug=1 
```

在 umake.bat 我将执行

```
make -f special.mk debug=1 
```

案例 4：

用户调用

```
umake debug=1 -f 
```

在 umake.bat 我将执行

```
make debug=1 -f 
```

在第 4 种情况下，make(GNU make) 将不会成功，因为`-f`. 为简单起见，我不必关心这个，因为这是用户的错，问题将由 GNU make 报告。

概括：

*   如果用户`-f xxx`在命令参数中提供，我会将这些参数传递给`make`.
*   如果用户不提供`-f xxx`，我将`make`使用所有用户的参数以及附加`-f Makefile.umk`as`make`的额外参数进行调用。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:15:51.443

我似乎找到了解决方案，尽管代码很冗长。

```
@echo off

set _F_MAKEFILE=-f Makefile.umk

:CHECK_PARAM_AGAIN
if "%~1" == "" (
  goto CHECK_PARAM_DONE
) else (
  if "%~1" == "-f" (
    set _F_MAKEFILE=
    goto CHECK_PARAM_DONE
  )
  rem echo @@@%1
  shift
)
goto CHECK_PARAM_AGAIN

:CHECK_PARAM_DONE

@echo on
make %* %_F_MAKEFILE% 
```

笔记：

*   使用`%~1`是必须的。因为： If `%1`has value `"big cat"`， make `%~1`it `big cat`，所以我们可以`%~1`用引号括起来。

# c# - 使用 iTextSharp 将 HTML 转换为 PDF 时出现堆栈空错误

> ID：11823539
> 
> 赞同：0
> 
> 时间：2012-08-06T06:37:01.260
> 
> 标签：c#, asp.net, itextsharp, html-to-pdf

我想以 pdf 格式导出我的 htmlcode

```
var document = new Document();
            string filePath = Server.MapPath("~/generatedBook");
            string exceptionPath = Server.MapPath("~/exceptions");
            PdfWriter pdfWriter = PdfWriter.GetInstance(document,
            new FileStream(filePath + "/Book"+_IdSes+".pdf", FileMode.Create));
            pdfWriter.SetFullCompression();
            pdfWriter.StrictImageSequence = true;
            pdfWriter.SetLinearPageMode();

            try
            {
                document.SetPageSize(PageSize.A4.Rotate());
                document.SetPageSize(new Rectangle(792f, 612f)); // 11" x 8.5" 
```

//这里它给了我异常堆栈是空的

```
List<iTextSharp.text.IElement> htmlarraylist = 
 iTextSharp.text.html.simpleparser.HTMLWorker.ParseToList(new 
                                         StringReader(htmlcode.ToString()), st); 
```

//htmlcode 是 StringBuilder 类型

```
foreach (IElement t in htmlarraylist)
                {
                    document.Add((IElement)t);
                }

                document.Close(); 
```

完全例外

```
System.InvalidOperationException: Stack empty.
   at System.ThrowHelper.ThrowInvalidOperationException(ExceptionResource resource)
   at System.Collections.Generic.Stack`1.Pop()
   at iTextSharp.text.html.simpleparser.HTMLWorker.EndElement(String tag)
   at iTextSharp.text.xml.simpleparser.SimpleXMLParser.ProcessTag(Boolean start)
   at iTextSharp.text.xml.simpleparser.SimpleXMLParser.Go(TextReader reader)
   at iTextSharp.text.xml.simpleparser.SimpleXMLParser.Parse(ISimpleXMLDocHandler doc,          
   ISimpleXMLDocHandlerComment comment, TextReader r, Boolean html)
   at iTextSharp.text.html.simpleparser.HTMLWorker.Parse(TextReader reader) 
```

任何的想法？提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T09:53:29.720

HTMLWorker 已被弃用，不会被维护。它已被 xml-worker 取代。

# openstreetmap - 如何下载旧的 openstreetmap xml 数据？（编辑后很多街道消失了）

> ID：11823544
> 
> 赞同：0
> 
> 时间：2012-08-06T06:37:41.333
> 
> 标签：openstreetmap

似乎openstreetmap改变了他们的许可方案，结果大量数据被删除，如附图所示，Grafton, NSW 2460, Australia，几乎所有街道都消失了。

我的问题是：有没有办法通过提供 lat/lng 下载旧数据？（我知道世界或某些国家可能有一些旧档案，但这对我不起作用，因为目前我的应用程序无法处理这些海量数据文件）

如果无法下载旧数据，是否还有其他可用的免费地图数据（不是图像）？

另外我注意到右上角有 4 个选项，除标准之外的其他三个似乎显示所有街道。它们（至少 MapQuest）基于 osm 数据，但不是我们从 openstreetmap.org 的“导出”部分获得的数据，对吗？

编辑：哎呀，作为一个新用户，我不能发布图片..下面的链接可能有效（或可能无效）：

[http://i.stack.imgur.com/ieIxt.png](http://i.stack.imgur.com/ieIxt.png)

（这只是澳大利亚新南威尔士州 2460 的 Grafton 的 2 张快照，一张 Standard，一张 MapQuest Open）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T13:43:15.070

可悲的是，在澳大利亚，有很多尴尬的人宁愿看到他们的所有数据都被删除，而不是同意（非常轻微！）许可证更改。有了这一点，该项目就处于更好的法律基础上，并且（在我看来）我们在此过程中免除了许多尴尬的麻烦制造者。事情在好转。我们大力推动填补澳大利亚的新空白，从航拍图像快速开展工作。

但我们仍然需要帮助。[您的 Grafton 示例现在看起来好多](http://www.openstreetmap.org/?lat=-29.683&lon=152.9397&zoom=14&layers=M)了，但它表明我们仍然需要当地人实地去那里收集细节，特别是街道名称，然后放到地图上。通过直接使用实时地图，您有助于引起对此类问题的关注，并鼓励人们加入地图的乐趣！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T14:38:31.593

以前在 CCBYSA 下可用的数据不再用于（重新添加）到当前的 ODBL OpenStreetMap 数据库。您可以自由地重新映射该区域或使用 CCBYSA 提取物向您的用户展示。

回答您的问题：截至今天，没有办法以简单的方式下载旧数据。

# javascript - 仍然对 js Prototype 感到困惑

> ID：11823545
> 
> 赞同：0
> 
> 时间：2012-08-06T06:37:44.530
> 
> 标签：javascript, prototype

我对原型的实际作用感到困惑。我现在正在学习 HTML 画布，对于其中一个示例，它使用原型来声明绘制方法。但是使用原型和简单地把它放在构造函数本身有什么区别呢？

**这不是书中的例子：**

```
function Ball (radius, color) {
    if (radius === undefined) { radius = 40; }
    if (color === undefined) { color = "#ff0000"; }
    this.x = 0;
    this.y = 0;
    this.radius = radius;
    this.rotation = 0;
    this.scaleX = 1;
    this.scaleY = 1;
    this.color = utils.parseColor(color);
    this.lineWidth = 1;
    }

Ball.prototype.draw = function (context) {
context.save();
context.translate(this.x, this.y);
context.rotate(this.rotation);
context.scale(this.scaleX, this.scaleY);
context.lineWidth = this.lineWidth;
context.fillStyle = this.color;
context.beginPath();
//x, y, radius, start_angle, end_angle, anti-clockwise
context.arc(0, 0, this.radius, 0, (Math.PI * 2), true);
context.closePath();
context.fill();
if (this.lineWidth > 0) {
context.stroke();
}
context.restore();
}; 
```

**和放这个一样吗？：**

```
function Ball(radius, color){
...
this.draw = function (context) {
    context.save();
    context.translate(this.x, this.y);
    context.rotate(this.rotation);
    context.scale(this.scaleX, this.scaleY);
    context.lineWidth = this.lineWidth;
    context.fillStyle = this.color;
    context.beginPath();
    //x, y, radius, start_angle, end_angle, anti-clockwise
    context.arc(0, 0, this.radius, 0, (Math.PI * 2), true);
    context.closePath();
    context.fill();
    if (this.lineWidth > 0) {
    context.stroke();
    }
    context.restore();
    };
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T06:54:50.617

`prototype`是一个被所有其他对象共享的对象`prototype`，这导致`prototype`动态添加的方法可以被所有实例共享。

```
function ClassA(){
    this.sayHello = function(){
        return "hello!";
    }
}

var instanceA = new ClassA();
instanceA.sayHello();//return "hello!";
//add a method to instanceA
instanceA.sayBye = function(){ return "Bye!"; }

var instanceB = new ClassA();
instanceB.sayBye(); //error, sayBye is not a method of instanceB.

//But, this really works
ClassA.prototype.sayBye = function(){ return "Bye!"; } 
```

而且，由于所有实例共享一个`prototype`，所有方法只保留在内存中的一个位置。在您的第二个实现中，每个实例都有自己的方法，这导致使用大量内存。

将方法保留在 Class 的定义之外会使代码更加干净和可读，尽管这不是一个强有力的证据。

使用原型，开发人员可以更轻松地以 OOP 风格编写代码。

```
 function ClassB(){
 }
 ClassB.prototype = new ClassA();
 // The equivalent approach may be this
 function ClassB(){
     ClassA.apply(this);
 } 
```

这两种方法都可以完成相同的工作，因此请选择您喜欢的任何一种。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T06:55:48.730

没有太大的区别。主要区别在于，通过原型创建的方法不能访问对象的私有成员。

```
function Ball (radius, color) {
    if (radius === undefined) { radius = 40; }
    if (color === undefined) { color = "#ff0000"; }
    this.x = 0;
    this.y = 0;
    this.radius = radius;
    this.rotation = 0;
    this.scaleX = 1;
    this.scaleY = 1;
    this.color = utils.parseColor(color);
    this.lineWidth = 1;
    var privateVar = 0;
    function privateFunction() {
        // anything
    }
}

Ball.prototype.draw = function() {
   privateFunction(); // doesn't work.
   privateVar = 2; // doesn't work
   this.lineWidth = 2; // this will work.
}; 
```

# php - PHP - 使用 Substr 裁剪语句

> ID：11823546
> 
> 赞同：0
> 
> 时间：2012-08-06T06:37:51.410
> 
> 标签：php, whitespace, substr, words

这是我的代码，我正在做的是从数据库中提取文本，在表格中显示并且数据超过的地方可以说 450 个字符，我把它放在最后

....[查看更多]

现在代码工作正常，但有一个例外，数据库中的信息包含 html，如段落和项目符号列表。这造成了一个问题，设置限制的整个想法是这样它不会将行向下延伸到超出我想要的范围，项目符号列表或段落的换行符似乎被计为 0 或 1 个字符，但它需要占用了很多字符的空间，所以我该如何操作这段代码以便考虑换行符。

我的想法是用这样的东西来计算之间的空格：

```
$white_space = substr_count($text, ' '); 
```

返回总空白

我也试过这个

```
$white_space_str = substr_count($newstr, ' '); 
```

但这会返回 0，所以我做错了什么。但无论如何，我在这一点上有点卡住了，希望有人可以帮助新手，如果代码被简化而不是修剪和整洁，它可能会帮助我更好地理解它:)

但我不确定如何将其放入工作代码中。

```
function trim_description($str, $maxlen) {
if ( strlen($str) <= $maxlen ) return $str;

$newstr = substr($str, 0, $maxlen);
if ( substr($newstr,-1,1) != ' ' ) $newstr = substr($newstr, 0, strrpos($newstr, " "));

return $newstr;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:45:34.633

也许这可以帮助你。我发现这是[这个问题的答案](https://stackoverflow.com/questions/3161634/php-limit-text-string-not-including-html-tags)

```
function truncate($text, $length, $suffix = '&hellip;', $isHTML = true) { 
    $i = 0; 
    $simpleTags=array('br'=>true,'hr'=>true,'input'=>true,'image'=>true,'link'=>true,'meta'=>true); 
    $tags = array(); 
    if($isHTML){ 
        preg_match_all('/<[^>]+>([^<]*)/', $text, $m, PREG_OFFSET_CAPTURE | PREG_SET_ORDER); 
        foreach($m as $o){ 
            if($o[0][1] - $i >= $length) 
                break; 
            $t = substr(strtok($o[0][0], " \t\n\r\0\x0B>"), 1); 
            // test if the tag is unpaired, then we mustn't save them 
            if($t[0] != '/' && (!isset($simpleTags[$t]))) 
                $tags[] = $t; 
            elseif(end($tags) == substr($t, 1)) 
                array_pop($tags); 
            $i += $o[1][1] - $o[0][1]; 
        } 
    } 

    // output without closing tags 
    $output = substr($text, 0, $length = min(strlen($text),  $length + $i)); 
    // closing tags 
    $output2 = (count($tags = array_reverse($tags)) ? '</' . implode('></', $tags) . '>' : ''); 

    // Find last space or HTML tag (solving problem with last space in HTML tag eg. <span class="new">) 
    $pos = (int)end(end(preg_split('/<.*>| /', $output, -1, PREG_SPLIT_OFFSET_CAPTURE))); 
    // Append closing tags to output 
    $output.=$output2; 

    // Get everything until last space 
    $one = substr($output, 0, $pos); 
    // Get the rest 
    $two = substr($output, $pos, (strlen($output) - $pos)); 
    // Extract all tags from the last bit 
    preg_match_all('/<(.*?)>/s', $two, $tags); 
    // Add suffix if needed 
    if (strlen($text) > $length) { $one .= $suffix; } 
    // Re-attach tags 
    $output = $one . implode($tags[0]); 

    //added to remove  unnecessary closure 
    $output = str_replace('</!-->','',$output);  

    return $output; 
} 
```

# sql-server - 客户端中有两个不同的 SQL Server 2012？

> ID：11823548
> 
> 赞同：3
> 
> 时间：2012-08-06T06:38:00.333
> 
> 标签：sql-server, ssas, business-intelligence, tabular

目标：
在我的客户端计算机上安装带有表格模式的 SQL Server 2012。

问题：
当我的客户端中已经有具有多维和数据挖掘模式的 SQL Server 2012 时，是否可以在我的计算机中安装另一个具有表格模式的 sql server 2012？

![在此处输入图像描述](../Images/966fe958a26f6cf1d281e591c7dcd3ea.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:05:11.490

是的，但您需要安装另一个实例

> 如果底层计算机硬件可以支持，您可以在同一台计算机上安装多个 Analysis Services 实例，并将每个实例配置为使用不同的部署模式

[http://msdn.microsoft.com/en-us/library/gg471594.aspx](http://msdn.microsoft.com/en-us/library/gg471594.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-08T09:54:09.100

当然，您可以在不同的情况下：

![在此处输入图像描述](../Images/0ed941bc7b1457c9376c2145368374e3.png)

# javascript - Facebook 分享后开始下载

> ID：11823550
> 
> 赞同：0
> 
> 时间：2012-08-06T06:38:10.490
> 
> 标签：javascript, jquery, facebook

当用户在他们的 Facebook、Google+ 或 Tweet 上分享链接时，我正在尝试开始下载文档。我在单击共享按钮时打开一个窗口，共享后该窗口将关闭。但我无法开始下载（意味着开始一个活动）。

请帮忙

```
<a id = "facebookShare" href="http://www.facebook.com/sharer.php?s=100&u=www.abc.com" target="_blank" onclick="javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"></a> 
```

如何在这里附加一个可以调用下载开始的函数？

谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:42:42.007

不要`javascript:`在onClick中使用，直接调用代码即可。

PS。你这样问的方式让你听起来像个垃圾邮件发送者。

# java - 将纬度和经度转换为画布上的 x 和 y 坐标（Java）？

> ID：11823553
> 
> 赞同：0
> 
> 时间：2012-08-06T06:38:31.320
> 
> 标签：java, map, latitude-longitude

我有一组城市的十进制形式的纬度和经度点，我需要将它们转换为 x 和 y 坐标，以便在画布上绘制它们并找到它们之间的距离。我对这个公式是什么感到困惑，任何帮助将不胜感激。我不需要考虑地球的曲率，因为它只是一张平面地图。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:53:05.440

由于经度和纬度坐标是*球体*的坐标，因此无需将它们从一个点转移到另一个点。[正如此处](http://en.wikipedia.org/wiki/Geographic_coordinate_system)所指出的，您需要考虑某些因素。

我的建议是看一下[SwingX](http://swingx.java.net/)产品，尤其是`JXMapViewer`. 看看[这个](http://javaevangelist.blogspot.com/2007/11/building-maps-into-your-swing.html)教程，它应该可以帮助你解决你需要的东西。

# c# - 是否可以通过代码编写配置节处理程序？

> ID：11823554
> 
> 赞同：0
> 
> 时间：2012-08-06T06:38:39.553
> 
> 标签：c#, app-config

我正在使用 app.config 文件编写新应用程序。

这是我的 app.config：

```
<configuration>
  <configSections>
    <sectionGroup name="FTPServers">
    <section name="section1" type="System.Configuration.SingleTagSectionHandler" />
      <section name="section2" type="System.Configuration.SingleTagSectionHandler" />
</sectionGroup>
    <sectionGroup name="Application">
      <section name="Section3" type="System.Configuration.SingleTagSectionHandler" />
      <section name="Section4" type="System.Configuration.SingleTagSectionHandler" />
      <section name="Section5" type="System.Configuration.DictionarySectionHandler" />
    </sectionGroup>
    </configSections> 
```

是否可以通过代码尽快在节组中添加节？

我想在我的程序中创建一个表单来修改这个配置，创建节组和在配置节之后......

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:53:18.077

您不能直接从代码修改应用程序设置，只能修改用户设置。也就是说，不是使用可以从中读取设置的常用 API。也许您可以使用默认文本 IO 来编辑文件，但不建议这样做。

这是因为启动程序的所有用户都使用 app.config。一位用户在运行程序时更改 app.config 可能会给当前正在运行该程序的其他用户带来令人惊讶的结果。

您可以使用 user.config 来编辑用户设置或使用不同的配置机制。app.config 主要用于静态配置，只需要由管理员更改。

# c# - TripleDes 类解密问题

> ID：11823557
> 
> 赞同：1
> 
> 时间：2012-08-06T06:38:45.783
> 
> 标签：c#, encryption, cryptography

我创建了一个这样的 TripleDes 类：

```
class TripleDes_Crypto
{
    // Key Lenght must be 24
    string Key = string.Empty;
    // IV Lenght must be 8
    string IV = string.Empty;

public TripleDes_Crypto(string KEY, string IV)
{
    this.Key = KEY;
    this.IV = IV;
}

public string Encrypt(string Data)
{
    byte[] key = Encoding.ASCII.GetBytes(Key);
    byte[] iv = Encoding.ASCII.GetBytes(IV);
    byte[] data = Encoding.ASCII.GetBytes(Data);
    byte[] enc = new byte[0];

    TripleDES tdes = TripleDES.Create();
    tdes.IV = iv;
    tdes.Key = key;
    tdes.Mode = CipherMode.CBC;
    tdes.Padding = PaddingMode.Zeros;

    // encryption
    ICryptoTransform ict = tdes.CreateEncryptor();
    enc = ict.TransformFinalBlock(data, 0, data.Length);

    return ASCIIEncoding.ASCII.GetString(enc);
}

public string Decrypt(string Data)
{
    byte[] key = Encoding.ASCII.GetBytes(Key);
    byte[] iv = Encoding.ASCII.GetBytes(IV);
    byte[] data = Encoding.ASCII.GetBytes(Data);
    byte[] dec = new byte[0];

    TripleDES tdes = TripleDES.Create();
    tdes.IV = iv;
    tdes.Key = key;
    tdes.Mode = CipherMode.CBC;
    tdes.Padding = PaddingMode.Zeros;

    // decryption
    ICryptoTransform ict = tdes.CreateDecryptor();
    dec = ict.TransformFinalBlock(data, 0, data.Length);

    return ASCIIEncoding.ASCII.GetString(dec);
} 
```

}

我用过：

```
 private void button1_Click(object sender, EventArgs e)
    {
        TripleDes_Crypto tdes = new TripleDes_Crypto("passwordDR0wSS@P6660juht", "password");
        File.WriteAllText(@"encrypted", tdes.Encrypt("Hey TEST DATA"));
        MessageBox.Show(tdes.Decrypt(File.ReadAllText(@"encrypted")));
    } 
```

那么加密方法工作正常，但解密方法是问题，因为当我使用解密时它会生成一些随机数据，而它应该输出：嘿测试数据。

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T06:41:16.173

这些是你的问题：

```
return ASCIIEncoding.ASCII.GetString(enc);
...
byte[] data = Encoding.ASCII.GetBytes(Data); 
```

您将加密数据视为 ASCII 文本。它不是。您正在丢失数据。

要在文本中表示任意二进制数据而不会丢失，您几乎应该总是使用 Base64：

```
return Convert.ToBase64String(enc);
...
byte[] data = Convert.FromBase64String(Data); 
```

此外，我建议使用 ASCII 以外的东西将 key/iv 文本转换为字节 - 并遵循 .NET 参数命名约定。

# objective-c - 自定义 UIDatePickerViewController

> ID：11823560
> 
> 赞同：0
> 
> 时间：2012-08-06T06:39:30.723
> 
> 标签：objective-c, ios5, uidatepicker

我希望`UIDatePickerView`为我的自定义要求更改当前不可用的`UIDatePickerView`.

我想复制并创建**UIDatePicker.h**和**UIDatePicker.m**

**但是，我无法找到 UIDatePicker.m**

谁能帮我找到**UIDatePicker.m**？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:07:50.963

使用子类`UIDatePicker`或使用类别来添加所需的功能。

您还可以在 www.cocoacontrols.com 等网站上查找自定义 UIDatePicker 控件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:19:51.693

感谢您的所有投入。

是的，我终于做了 UIPickerView 的子类，并为自己创造了一些东西。

干杯，昆贾尔

# c# - String.Replace() 擦除整个字符串 - C#

> ID：11823563
> 
> 赞同：0
> 
> 时间：2012-08-06T06:40:01.623
> 
> 标签：c#, file, str-replace

我有一段代码正在修改文件的内容。我实际上需要用新行替换文件中的一行。为此，我正在这样做：

```
 private void btn_edit_Click(object sender, EventArgs e)
    {
        bufferedListView1.Items.Clear();
        StreamReader sr1 = new StreamReader("C:\\sample.txt");
        string file= sr1.ReadToEnd();
        if (file.Contains(pname + "@" + pno))
        {
            file.Replace(pname + "@" + pno, txt_editname.Text+"@"+txt_editno.Text);//Results null in file
        }
        string efile= sr1.ReadToEnd(); // returns null
        sr1.Close();
        StreamWriter sw1 = new StreamWriter("C:\\sample.txt");
        sw1.Write(efile);
        sw1.Close();
        //Rest of the code 
```

`pname, pno contains old values. txt_editname,txt_editno contains new values`

我最终在文件**sample.txt中****没有内容**。是什么原因？

 *** * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-06T06:42:17.560

不，您的调用`file.Replace`绝对*没有任何用处*- 您没有使用返回值。

字符串在 .NET 中是不可变的，因此像这样的方法`Replace`不会更改现有字符串，它们会创建一个新字符串并返回对它的引用。你要：

```
file = file.Replace(pname + "@" + pno, ...); 
```

当搜索字符串不在文本中时，这不会做任何事情，您可以无条件地这样做。

下*一个*问题是你正在这样做：

```
string file= sr1.ReadToEnd();
... // code which doesn't change sr1 ...
string efile= sr1.ReadToEnd(); // returns null 
```

这实际上并没有返回 null - 它返回的是一个空字符串......因为您仍在阅读`StreamReader`您已经阅读到末尾的相同内容。你为什么这样做？

请注意，*在*您`file`调用`Replace`.

此外，您的代码缺少`using`语句，因此如果抛出异常，您将泄漏文件句柄（直到终结器清理它们）。你可以很容易地避免所有这些 - 我怀疑这会做你想要的：

```
private void btn_edit_Click(object sender, EventArgs e)
{
    bufferedListView1.Items.Clear();
    string fileContents = File.ReadAllText("C:\\sample.txt");
    string replacedContents = fileContenxt.Replace(pname + "@" + pno, 
        txt_editname.Text + "@" + txt_editno.Text);
    File.WriteAllText("C:\\sample.txt", replacedContents);
    // Rest of code
} 
```

另请注意，如果这是在 WPF 或 WinForms 应用程序中，您真的不应该在 UI 线程中执行所有这些 IO...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T06:42:19.060

```
file.Replace(pname + "@" + pno, txt_editname.Text+"@"+txt_editno.Text);//Results null in file 
```

返回一个字符串，您必须再次将其分配给文件。

```
file = file.Replace(pname + "@" + pno, txt_editname.Text+"@"+txt_editno.Text);//Results null in file 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T06:43:02.510

正常，你这样做

```
string efile= sr1.ReadToEnd(); // returns null
...
sw1.Write(efile); 
```**

# iphone - 如何在 iphone 的单个视图控制器中使用两个以上的 UITableView

> ID：11823565
> 
> 赞同：7
> 
> 时间：2012-08-06T06:40:08.887
> 
> 标签：iphone, xcode, uitableview

我`UITableView`在 a 中使用了两个 s `UIViewController`，如何填充两个表格视图中的行和单元格？当我给第二个表格视图时，它说重复声明部分中的行数等。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-08-06T06:43:27.497

这就是为什么 dataSource/delegate 方法有一个`tableView`参数。根据其值，您可以返回不同的数字/单元格/...

```
- (void)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    if (tableView == _myTableViewOutlet1)
        return 10;
    else
        return 20;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T06:45:44.487

您的所有`UITableViewDelegate`和`UITableViewDatasource`方法将只实施一次。您只需要检查正在调用该方法的表视图。

```
if (tableView == tblView1) {
    //Implementation for first tableView
}
else {
    //Implementation for second tableView
} 
```

这将适用于所有 TableView 的委托和数据源方法，因为这`tableView`是所有方法中的公共参数

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {}
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {}
- (UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {}
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {} 
```

看[这里](https://stackoverflow.com/questions/2086974/how-to-manage-2-tableviews-in-1-viewcontroller)和[这里](https://stackoverflow.com/questions/3907367/how-to-create-multiple-table-view-in-a-view-controller-for-ipad)

[这个链接](https://stackoverflow.com/questions/1416372/multiple-uitableviews-on-one-uiview)也有你的问题的解决方案。

希望这可以帮助

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-06T07:06:16.727

请看一看。

首先在界面生成器中创建两个表视图，然后连接两个 IBOutlet 变量并为两个表视图设置委托和数据源。

在接口文件中

```
 -IBOutlet UITableView *tableView1;
 -IBOutlet UITableView *tableView2; 
```

在实施文件中

```
 - (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView 
  {
       if (tableView==tableView1)
       {
        return 1;
       }
       else 
       {
         return 2;
       }
  }

 - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section 
 {
    if (tableView==tableView1)
    {
         return 3;
    }
    else
    {
         if (section==0)
          {
            return 2;
          }
          else
          {
            return 3;
          }
     }
  }

 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath 
  {
        static NSString *CellIdentifier = @"Cell";
        UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
        if (cell == nil) 
            {
                  cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
            }

    if (tableView==tableView1)
         {
           //cell for first table
         }
    else 
         {
           //cell for second table
          }
    return cell;
 } 
```

使用此代码。希望有帮助

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-06T07:18:07.720

有可能，请看这里的参考代码：http: [//github.com/vikingosegundo/my-programming-examples](http://github.com/vikingosegundo/my-programming-examples)

另请参阅此页面：[单个视图上的 2 个表格视图](https://stackoverflow.com/questions/3489238/2-tableview-on-a-single-view)

# javascript - 使用 window.open 后，window.close 在 Firefox 中不起作用

> ID：11823569
> 
> 赞同：2
> 
> 时间：2012-08-06T06:40:37.443
> 
> 标签：javascript, firefox

我正在尝试通过单击按钮关闭当前窗口。我知道 window.close() 只能在窗口由 javascript 拥有时才能工作。

* * *

所以我以前用过`window.open()`，然后像这样关闭那个窗口：

```
self.name = "close";
window.open("","close");
self.opener = null;
self.close();` 
```

* * *

这适用于 Chrome 和旧版本的 Firefox，但不适用于 FF14。那么如何在FF14中关闭一个窗口呢？谢谢！

我在 FF 控制台中运行以下 javascript。它适用于 IE 和 Chrome。

```
win=window.open('','_self');
win.close();------undefined 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-08-08T11:52:27.290

上面提到的注释是正确的 window.close() 只有在使用 window.open() 打开窗口时才会起作用。

试试这个代码：

```
<a href="#" onclick="javascript:var win = window.open('', '_self');win.close();return false;">Close</a> 
```

这在 IE、Chrome 和 Firefox 中对我有用（甚至适用于 FF14）。高温高压

# css - 使用 CSS 旋转文本的灵活布局

> ID：11823570
> 
> 赞同：1
> 
> 时间：2012-08-06T06:40:41.377
> 
> 标签：css, css-transforms

我正在尝试布局一个需要将文本标签旋转 270 度的控件。文本标签的宽度在合理范围内是可变的（例如，100 像素到 500 像素）。

![在此处输入图像描述](../Images/58aca77e03becb8319c0269be798ddb5.png)

我试图让它在 jsFiddle 中工作

[http://jsfiddle.net/ericjohannsen/LhjNq/3/](http://jsfiddle.net/ericjohannsen/LhjNq/3/)

但遇到了一些我无法解决的问题：

1.  非旋转区域中的文本（jsFiddle 中的黄色和橙色）向右移动了旋转文本的长度。
2.  旋转后的文本远远低于相关非旋转区域的底部，覆盖了页面的其他部分。
3.  为了将标签保留在屏幕上，我必须根据旋转文本的长度应用带有硬编码值的*平移变换。*

是否可以使用 CSS 转换来解决这些问题？

**更新**

这个 jsFiddle 使问题 2\. 更明显

[http://jsfiddle.net/ericjohannsen/LhjNq/47/](http://jsfiddle.net/ericjohannsen/LhjNq/47/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:11:11.593

这是你要找的吗？

[http://jsfiddle.net/thundercracker/LhjNq/53/](http://jsfiddle.net/thundercracker/LhjNq/53/)

我认为纠正 div 高度的唯一解决方案是 javascript。

为了摆脱多余的空间，我绝对定位了 div。

我不认为您的 IE 旋转值也很正确，我将它们更改为 1.2 并且它似乎有效。然而，仍在研究如何让 IE 获得正确的 div 高度，但工作方式不同。

编辑：

IE实际上改变了元素的尺寸，所以你必须得到高度。同样在 IE 中，旋转的 div 必须从容器顶部定位，而不是像其他浏览器那样位于底部

编辑：更新链接

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:23:57.133

应用的所有转换都受 影响`transform-origin`。默认情况下，它具有值`50% 50%`，这意味着所有转换都将相对于块中心进行。

主要思想是将其更改为`0 0`（左上角）——这将允许我们在 dabblet.com 上省略“基于旋转文本长度硬编码的值” **[演示](http://dabblet.com/gist/3271876)**

尝试设置它：

![在此处输入图像描述](../Images/84ffc30fee0b9438d361888f732b7f6c.png)

**CSS：**

```
transform: rotate(-270deg);
transform-origin: 0 0; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-11T00:21:07.293

我最终使用一个名为[mbFlipText](http://code.google.com/p/mbideasproject/wiki/mbFlipText)的小 jQuery 包装器生成的 SVG 来解决这个问题，以管理 IE 支持

[http://jsfiddle.net/ericjohannsen/cgtu5/7/](http://jsfiddle.net/ericjohannsen/cgtu5/7/)

# linq - 扩展方法：如何使它也与 GUID 一起工作

> ID：11823577
> 
> 赞同：4
> 
> 时间：2012-08-06T06:41:22.590
> 
> 标签：linq, c#-4.0, extension-methods, guid, iconvertible

我正在使用此扩展方法来转换项目中的对象。但它无法转换`GUID`，因为它没有实现`IConvertible`接口，但对于转换我总是必须使用`new Guid(fooobject)`，但我希望我可以使用这种方法将对象转换为`GUID`. 任何想法我们如何才能使其灵活地工作`GUID`。

扩展方法是

```
 public static T ToType<T>(this object val, T alt) where T : struct, IConvertible 
    {
        try
        {
            return (T)Convert.ChangeType(val, typeof(T));
        }
        catch
        {
            return alt;
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T20:40:38.533

因为您有要转换为的类型实现[`IConvertible`接口](http://msdn.microsoft.com/en-us/library/system.iconvertible.aspx)的约束（而[`Guid`结构](http://msdn.microsoft.com/en-us/library/system.guid.aspx)没有），所以您别无选择创建重载，如下所示：

```
public static Guid ToType(this object val, Guid alt)
{
    try
    {
        // Convert here.
    }
    catch
    {
        return alt;
    }
} 
```

当您通过 a时，由于[C# 规范的第 7.4.2 节](http://msdn.microsoft.com/en-us/library/aa691336%28v=vs.71%29)（强调我的）`Guid`，它将解决：

> 一旦确定了候选函数成员和参数列表，最佳函数成员的选择在所有情况下都是相同的：
> 
> *   **给定一组适用的候选函数成员，找到该集合中的最佳函数成员。**

鉴于这`Guid`是比类型参数更具体的匹配`T`，您的第二个方法将被调用。

请注意，如果您删除了`IConvertible`接口约束，您可以在一个方法中处理这个问题，但您必须能够有逻辑来处理传递给的*任何*结构`T`（一个[`TypeConverter`](http://msdn.microsoft.com/en-us/library/system.componentmodel.typeconverter.aspx)实例在这里很方便）。

# visual-studio-2010 - Visual Studio 字体和颜色设置

> ID：11823579
> 
> 赞同：2
> 
> 时间：2012-08-06T06:41:32.270
> 
> 标签：visual-studio-2010, settings, background-color

我不知道为什么这让我如此困扰，但我很难弄清楚是什么控制了 Visual Studio 2010 中 html 属性标签的背景颜色。

这是我设置的屏幕截图，箭头指向一些违规者：

![在此处输入图像描述](../Images/915dea63d047c813fa389d867525d22d.png)

你可以看到它是如何稍微浅一点的颜色，这让我无所适从：D

如果您知道哪个设置控制它，我将非常感激！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T07:01:39.857

这由“HTML Attribute Name”项控制。对于您可以设置自定义前景色的几乎每个标识符，您还可以设置自定义背景色。通常，您不需要自定义背景颜色，因此您将“项目背景”设置为“默认”，这通常意味着“从“纯文本”的设置中继承背景颜色。

   ![](../Images/d42ee916c1c08c9adbfcc25460a6f2a5.png)

虽然，我几乎看不出屏幕截图中颜色之间的差异。我想这只是表明我的第二个 LCD 屏幕校准得有多差……

# java - 使用 xuggle 而不安装 java web 应用程序

> ID：11823580
> 
> 赞同：1
> 
> 时间：2012-08-06T06:41:34.430
> 
> 标签：java, applet, screen-capture, xuggle, xuggler

我为 WINdows OS 创建了一个 Screencast 小程序。该小程序使用 xuggle 对视频进行编码和解码。当系统上未安装 xuggle 时，它​​会给出以下错误，因为它试图加载一些本机代码：

```
2012-07-29 12:40:28,452 [AWT-EventQueue-2] ERROR com.xuggle.ferry.JNILibraryLoader - 
  Could not          load library: xuggle-ferry; version: 3; 
  Visit http://www.xuggle.com/xuggler/faq/ to find common solutions to this problem

Exception in thread "AWT-EventQueue-2" java.lang.UnsatisfiedLinkError: no xuggle-ferry in java.library.path
    at java.lang.ClassLoader.loadLibrary(Unknown Source)
    at java.lang.Runtime.loadLibrary0(Unknown Source)
    at java.lang.System.loadLibrary(Unknown Source)
    at com.xuggle.ferry.JNILibraryLoader.loadLibrary0(JNILibraryLoader.java:265)
    at com.xuggle.ferry.JNILibraryLoader.loadLibrary(JNILibraryLoader.java:168)
    at com.xuggle.ferry.FerryJNI.<clinit>(FerryJNI.java:14)
    at com.xuggle.ferry.JNIMemoryManager.<clinit>(JNIMemoryManager.java:871)
    at com.xuggle.mediatool.MediaWriter.<clinit>(MediaWriter.java:119)
    at com.xuggle.mediatool.ToolFactory.makeWriter(ToolFactory.java:149) 
```

怎样才能消除安装。这样小程序就可以直接在任何系统上运行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-08T12:37:39.683

使用更新的 Xuggler 版本。从 5.4 开始不再需要安装，本地库是从 jar 文件本身加载的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T06:57:43.313

根据常见问题解答 &[我可以将 Xuggler 与 Java Webstart 或作为 Applet 一起使用吗？](http://wiki.xuggle.com/Frequently_Asked_Questions#Can_I_use_Xuggler_with_Java_Webstart_or_as_an_Applet.3F)

> 不，不是今天。我们对解决这个问题的方法很感兴趣，如果您有使本机库在 webstart 中工作的经验（尤其是那些您无法提前知道的具有运行时依赖项的库），我们希望收到您的来信。

所以，Xuggler 不仅不能在*没有*安装 Xuggler 的小程序中使用，也不能在安装*了*Xuggler 的机器上的小程序中使用。

* * *

*请参阅[jabal 的回答](https://stackoverflow.com/a/11864680/418556)，该回答表明上述信息已**过时**。*

# https - 弹簧安全

> ID：11823581
> 
> 赞同：0
> 
> 时间：2012-08-06T06:41:35.383
> 
> 标签：https, spring-security

你好。在登录成功后的 Spring-Security 中，以我使用属性的`intercept-url`
方式`https`重定向`required-channel="https"`。它工作正常，
但之后每个网址都继续使用 https。但我只想
用 https 重定向拦截 URL。

```
<security:http  auto-config='true'>

    <security:intercept-url  pattern="/member/**"  access="ROLE_USER" requires-channel="https"/>

    <security:access-denied-handler ref="accessDeninedHandler"/>

    <security:form-login login-page="/login.htm?form" 
         authentication-success-handler-ref="/"
        authentication-failure-url="/login.htm?form" /> 

    <security:logout invalidate-session="true" logout-url="/logout.htm" logout-success-url="/"/>

    <security:remember-me key="remembermekey" services-ref="rememberMeServices" />

</security:http> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:09:58.573

*首先*：您的模式可能包含许多 URL。您应该检查您的网址是否不以`/member/...`

*第二*：如果检查过并且不是问题，只需引入新的`intercept-url`并`requires-channel="http"`为它们使用。

**或**用于`< security:http pattern="Other Patterns" security="none" />`其余 URL。

# python - Python多处理和Django - 我很困惑

> ID：11823586
> 
> 赞同：1
> 
> 时间：2012-08-06T06:42:15.417
> 
> 标签：python, django, multiprocessing

我正在尝试用 Python 编写一个 Web 应用程序，它由两部分组成：

1.  基于 Django 的用户界面，允许每个用户设置某些任务
2.  工作进程（每个用户一个），当由用户启动时，在后台执行任务而不冻结 UI。

由于我在视图中创建的任何对象都不是持久的，因此我无法跟踪工作进程。我什至不确定如何完成这项任务。有任何想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T06:49:34.443

这似乎是一个可以用[Celery](http://celeryproject.org/)解决的问题。每个用户在 Celery 中启动一个异步任务，最终您在 Django 中再次获得结果。

Celery 返回一个`AsyncResult`用于等待任务完成或检查是否完成的实例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:11:42.810

你可以试试 celery，因为它对 django 很友好。但老实说，我不喜欢它（错误 :)

我们将切换到**Gearman**。编写自己的工作生产者和消费者（工人）是一种乐趣！

# c# - 如何使用 DDL 验证添加文本框

> ID：11823590
> 
> 赞同：0
> 
> 时间：2012-08-06T06:42:36.833
> 
> 标签：c#, asp.net

直截了当，我使用 ASP.NET 3.5 (C#)，我的下拉列表中有 3 个项目。所以，我想在 ddl 验证中进行事件。例如，

```
if (ddl.selectedvalue ==1) { One textbox added to my form }
else if (ddl.selectedvalue==2) { Two textbox added to my form} 
```

先感谢您 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:58:53.653

在您的表格中打开占位符。

```
<asp:PlaceHolder id="placeHolderID" runat="server" /> 
```

现在你在 .cs 文件中的代码

您可以编写如下代码，

```
int value = Convert.ToInt32(ddl.selectedvalue.ToString());

for(int i = 1; i < value + 1 ; i ++)
{
  TextBox txt = new TextBox();
  txt.ID = "newTxt" + i;
  placeHolderID.Controls.Add(txt);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T06:53:49.640

在您的表格中打开占位符。

```
<asp:PlaceHolder id="placeHolderID" runat="server" /> 
```

现在你在 .cs 文件中的代码

```
if (ddl.selectedvalue ==1) 
{
TextBox txt1 = new TextBox();
txt1.ID = "newTxt1";
placeHolderID.Controls.Add(txt1);

} 
```

下一个条件类似。

# php - 将值从另一个函数传递给 PHP 上的另一个函数

> ID：11823593
> 
> 赞同：-1
> 
> 时间：2012-08-06T06:42:49.410
> 
> 标签：php, class, function

我在差异页面上有两个班级。我想要做的是保存从函数返回的值并将其传递给另一个函数。我有以下代码：

**类 publicfunction（在 publicfunction.php 上）**

```
class publicfunction {
  public static function getqs() { 
    $qs = array();
    parse_str($_SERVER['QUERY_STRING'], $qs);
}} 
```

**类 be_mstpublc（在 be_mstpublc.php 上）**

```
class be_mstpublc {
  public static function setmstpublcpgtitle() { 
    if(!empty($qs['mst'])) {
        switch($qs['mst']) {
            case 'A': 
                $pagetitle = "A";
                break;
}}}} 
```

然后在另一个页面上实现上面的功能：

```
call_user_func(array('publicfunction', 'getqs'));
call_user_func(array('be_mstpublc', 'setmstpublcpgtitle'));
echo $pagetitle; 
```

但它不返回任何值。

有任何想法吗？谢谢..

**- 编辑 -**

我在 URL 上传递了一个值，即：**localhost/test/index.php?mst=A**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T06:49:28.623

首先，`return`价值，否则它不会去任何地方：

```
public static function getqs() { 
    $qs = array();
    parse_str($_SERVER['QUERY_STRING'], $qs);

    return $qs;
} 
```

然后，接受它作为参数：

```
public static function setmstpublcpgtitle($qs) {
  ...
} 
```

然后，通过它：

```
$qs = publicfunction::getqs();
be_mstpublc::setmstpublcpgtitle($qs); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T06:50:27.873

您的问题是可变范围之一。该方法`publicfunction::qs()`隐式声明了一个名为 的*局部*变量`$qs`。在此方法之外无法访问它。

通常，如果将存储放在一个类中，则同一个类中有多个方法用于设置和检索它。一种解决方案是放到`setmstpublcpgtitle`课堂`publicfunction`上。然而，这第二种方法有同样的问题。它需要返回`$pagetitle`，而不仅仅是设置它。

# linux - Linux USB 内核驱动程序如何与 USB Wi-Fi 卡内的 EEPROM 交互？

> ID：11823605
> 
> 赞同：2
> 
> 时间：2012-08-06T06:44:08.313
> 
> 标签：linux, usb, wifi, driver, eeprom

我正在尝试了解与使用 RTL8187 Wi-Fi 芯片的 Wi-Fi 卡相关的 Linux 驱动程序源代码。具体来说，我试图在 USB 协议层跟踪 Linux 与 ALFA AWUS036H USB Wi-Fi 卡的交互。到目前为止，我一直在使用两种方法来执行此操作，`1)`将`printk()`语句放入源代码并`2)`查看`usbmon`. 使用这两种方法，我可以跟踪低级别*发生*的事情，但不了解它*为什么*会在高级别发生。

在这一点上，我特别关注的是，看起来 rtl8187 驱动程序所做的第一件事就是在 USB 设备内部的 EEPROM 上进行大量的读/写操作，而我对EEPROM 如何在 USB 设备内部（或外部）工作。举个例子，我在一行代码周围放置了打印语句`/usr/src/linux/drivers/net/wireless/rtl818x/rtl8187/dev.c`，我相信它是从 USB Wi-Fi 卡读取 MAC 地址：

```
printk(KERN_INFO "COMMENCING reading MAC address, I think...");
eeprom_93cx6_multiread(&eeprom, RTL8187_EEPROM_MAC_ADDR,
               (__le16 __force *)mac_addr, 3);
printk(KERN_INFO "DONE reading MAC address, I think..."); 
```

现在我原以为这样的事情可能只生成一些 USB 控制消息，但`printk()`我在子例程中的其他语句`eeprom_83cx6_multiread()`建议这个简单的操作生成大约 60 个或更多 USB 控制消息读取，并且可能同样多的 USB 控制写道。

是否有任何高级教程可以解释 USB 设备内的 USB 和 EEPROM 之间的交互是什么？我不知道从哪里开始寻找更多信息。我一直认为 EEPROM 之类的东西会从 USB 编程器中抽象出来，使用简单的 USB 消息，然后设备会将这些消息转换为 EEPROM 中必须发生的任何事情。进一步深入研究 USB 驱动程序代码，虽然看起来有高脉冲和低脉冲发送到 EEPROM，以及操作之间的特定（尽管非描述性）时序延迟，这似乎意味着不存在这样的抽象。我真的不知道从哪里开始了解所有元素如何协同工作。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-09T10:31:21.857

这真的取决于芯片。

有时（虽然*不是*这种情况）驱动程序会简单地询问芯片“给我从偏移量 O 开始的 eeprom 的 N 个字节”，然后由芯片实际与 eeprom 通信，获取数据并提供它给司机。在这种情况下，驱动程序不需要知道它是什么类型的 eeprom 或如何与之交谈。

但在其他情况下，就像这个一样，芯片只是通过 USB 接口公开其所有（或大部分）内存映射，驱动程序通过读取/写入必要的内存位置来完成所有其余的工作。芯片上连接到 eeprom 的引脚可通过该内存映射访问，在这种情况下，对 eeprom 的访问是通过对串行协议进行 bit-banging 来实现的。

因此，为了让驱动程序读取 MAC 地址的值，它将通过读取/写入内存映射中的适当寄存器一次读取/写入这些引脚。每次切换或读取引脚时，都会交换几条控制消息，这就是为什么您会看到如此多的消息。

这样做的一个原因是尽可能多地在驱动程序中完成逻辑，而不是由芯片本身完成，以降低成本。现在，这样做，尤其是通过 USB，效率非常低（与其他方法相比），但是在这种情况下，对于 EEPROM 访问来说，这并不重要，因为它很少进行。

# c# - 通用类型参数没有装箱或类型参数转换

> ID：11823608
> 
> 赞同：15
> 
> 时间：2012-08-06T06:44:26.473
> 
> 标签：c#, types, casting

我有以下帮助方法：

```
public static T CreateRequest<T>()
    where T : Request, new()
{
    T request = new T();
    // ...
    // Assign default values, etc.
    // ...
    return request;
} 
```

我想在另一个助手的另一个方法内部使用这个方法：

```
public T Map<F, T>(F value, T toValue)
    where T : new()
    where F : new()
{
    if (typeof(T).BaseType.FullName == "MyNamespace.Request")
    {
        toValue = MyExtensions.CreateRequest<T>();
    }
    else
    {
        toValue = new T();
    }
} 
```

但后来我得到了错误：

> 类型“T”不能用作泛型类型或方法“MyExtensions.CreateRequest()”中的类型参数“T”。没有从“T”到“MyNamespace.Request”的装箱转换或类型参数转换。

有没有办法转换类型“T”，以便 CreateRequest 可以毫无问题地使用它？

**编辑：**

我知道我可以做两件事：

*   放松对 CreateRequest 的约束或
*   收紧地图中的约束。

但我不能做第一个，因为在 CreateRequest 我使用 Request 类的属性，而我不能做第二个，因为我使用其他类型（不从 Request 继承）和 Map 函数。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-06T06:55:27.217

对于这种情况，您需要放宽`CreateRequest`.

```
public static T CreateRequest<T>()
    where T : new()
{
    if(!typeof(Request).IsAssignableFrom(typeof(T)))
        throw new ArgumentException();

    var result = new T();
    Request request = (Request)(object)result;
   // ...
   // Assign default values, etc.
   // ...
   return result ;
} 
```

这可能会很痛苦，因为您失去了对该参数的编译时验证。

或者，如果您想在`CreateRequest`其他地方使用方法，则仅为这种情况创建非泛型重载。

```
public static object CreateRequest(Type requestType)
 {
    if(!typeof(Request).IsAssignableFrom(requestType))
        throw new ArgumentException();

    var result = Activator.CreateInstance(requestType);
    Request request = (Request)result;
   // ...
   // Assign default values, etc.
   // ...
   return result ;
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-06T06:48:28.870

您已声明的类型`T`在方法`Request`中`CreateRequest`；另一方面，在`Map`方法中你没有这样的约束。尝试将声明更改`Map`为：

```
public T Map<F, T>(F value, T toValue)
where T : Request, new()
where F : new() 
```

# javascript - 关闭 - “阻止此页面创建其他对话框”

> ID：11823613
> 
> 赞同：13
> 
> 时间：2012-08-06T06:45:04.477
> 
> 标签：javascript, firefox

如何关闭 Firefox 功能“防止此页面创建额外的对话框”？

当我打开多个确认框（对话框）时，我遇到了这个问题。

是否可以通过 Javascript 阻止此功能？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-08-06T06:47:21.713

这是一项浏览器功能，旨在保护用户。如果您可以将其关闭，那么所有那些通过对话框向用户发送垃圾邮件的网站都有办法阻止它。

所以简而言之，没有。

让您的应用程序与它一起工作，而不是反对它。不要过分依赖对话/确认，而要`modal-box`问问题；它也很漂亮:)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-08-06T06:47:00.807

打开`about:config`然后更改首选项`dom.successive_dialog_time_limit`

当然这仅适用于您自己的浏览器，您不能为其他人更改它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T06:48:28.620

据我所知，没有办法禁用它。警报框很突兀，至少在 Firefox 中 - 甚至可以从其他选项卡中窃取焦点。

一个简单的解决方法是使用基于 HTML 的[模态对话框](https://www.google.com/search?q=javascript%20modal)- 这也可以让您完全控制对话框、其设计（跨浏览器和操作系统）、其按钮、页面其余部分的行为等。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2014-03-25T18:06:52.733

终于问题解决了 :)，开发者在调用 chrome 或 firefox 中的任何警报或确认消息之前需要注意一下。警报或确认框将显示 1.5 秒延迟。

```
 function chromeTimeDelay(){
        if (navigator.userAgent.indexOf("Chrome") > 0){
            var d =e = new Date();
            while(d.getTime()<(e.getTime()+1500)){
            d = new Date();
            }
        }
    }

    function dontdisplaycheckbox(){
      for(var i=0;i<=10;i++){
      chromeTimeDelay();
      alert("abcdefgh");
    }

} 
```

# adobe-indesign - 如何退出 InDesign 并使用 InDesign 脚本打开 Illustrator？

> ID：11823615
> 
> 赞同：0
> 
> 时间：2012-08-06T06:45:08.093
> 
> 标签：adobe-indesign, extendscript

如何退出 InDesign 并使用 InDesign 脚本打开 Illustrator？这是我的代码：

```
// closing the InDesign document here
myDocument.close(SaveOptions.NO);

// change the script's target to Illustrator
#target illustrator

app.documents.add(DocumentColorSpace.CMYK, width = 1024, height = 768); 
```

但是这里的脚本并没有退出 InDesign，而只是打开了 Illustrator。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T05:09:55.657

@Padmashree——

嗯，也许 InDesign 可能会  `myDocument.close ( SaveOptions.NO );`  以某种方式打断你的陈述？

试试这个，看看它是否有效：

```
 // the original interaction and warning settings of the application
var oldInteractionPrefs = app.scriptPreferences.userInteractionLevel;

// prevent interaction and warnings from interrupting script
app.scriptPreferences.userInteractionLevel = UserInteractionLevels.NEVER_INTERACT;

// close the active document without saving
app.activeDocument.close(SaveOptions.no);

// reset interactions to original settings
app.scriptPreferences.userInteractionLevel = oldInteractionPrefs; 
```

这将应用程序的“用户交互级别”更改为“NEVER_INTERACT”以忽略所有模式对话框窗口（错误消息、其他应用程序警报）。

*我在这里找到了这个解决方案*：

*   [InDesign CS5 脚本：导入 XML 时如何忽略 DTD？](https://stackoverflow.com/questions/11746415/indesign-cs5-script-how-can-i-ignore-the-dtd-when-importing-xml)
*   和[InDesign CS5 脚本：如何关闭文档中的所有模式对话框窗口？](https://stackoverflow.com/questions/11769783/indesign-cs5-script-how-can-i-close-all-modal-dialog-windows-in-a-document/11784030#11784030)

* * *

但当然，  `myDocument.close ( SaveOptions.NO );`  它本身只会关闭 InDesign 文档，而*不是*程序。

`app.quit(SaveOptions.NO)`  显然关闭了 InDesign（**未测试**，位于：http: [//jongware.mit.edu/idcs5js/pc_Application.html](http://jongware.mit.edu/idcs5js/pc_Application.html)）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-09T23:30:25.227

如果您使用的是 Win7，请尝试下一步

```
var mySelect = app.selection[0].graphics[0].itemLink
var myFilePath = mySelect.filePath;
var myProg = "Illustrator";
var myFile = myFilePath; 
var myScript = "";
myScript += "Dim WshShell\r";
myScript += "Set WshShell = CreateObject(\"WScript.Shell\")\r";
myScript += "ReturnCode = WshShell.Run (\"\"\""+myProg+".exe\"\"\"\""+myFile+"\"\"\",1)\r";
app.doScript(myScript, ScriptLanguage.VISUAL_BASIC); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-10-26T08:36:36.010

如果您使用的是 Mac OS，请尝试下一步

1.打开脚本编辑器

2.编写打击applescript代码

告诉应用程序“Adobe Indesign CC 2019”退出（断线）告诉应用程序“Adobe Illustrator CC 2019”激活

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-11-16T22:38:19.073

我几乎没有遇到这个线程，实际上是在寻找一种通过扩展脚本关闭 Photoshop 的方法。如果那是您正在寻找的内容，请使用：

```
 var idquit = charIDToTypeID( "quit" );

executeAction( idquit, undefined, DialogModes.ALL ); 
```

# search - 如何在 vi 搜索和替换中包含正斜杠

> ID：11823616
> 
> 赞同：86
> 
> 时间：2012-08-06T06:45:32.957
> 
> 标签：search, vim, replace, vi

我有一个包含字符串的文件`usrbin`。我想搜索`usrbin`并将其替换为`/usr/bin/`.

我试过`:%s/usrbin/usr/bin/g`了，但它显示错误`E488: Trailing characters`。

如何在搜索和替换中包含正斜杠？

* * *

## 回答 #1

> 赞同：129
> 
> 时间：2012-08-06T06:48:50.433

这里有两种方法：

*   转义`/`默认的替代分隔符：`:s/usrbin/\/usr\/bin`
*   使用另一个替代分隔符，例如，使用哈希`#`字符：`:s#usrbin#/usr/bin`. 请注意，有些字符不能用作分隔符：`"`, `\`,`|`

您可以在帮助子系统中使用`:h pattern-delimiter`

# javascript - 为什么在 Firebug 中显示的元素没有在页面源代码中显示？

> ID：11823620
> 
> 赞同：0
> 
> 时间：2012-08-06T06:45:55.537
> 
> 标签：javascript, html, way2sms

我对 Way2sms.com 有一段奇怪的经历。当我登录并尝试发送短信时，`Send SMS`我应该点击这个按钮来发送短信。现在用 Firebug 检查这个按钮，它显示了一个带有**schButton**`input`类的元素。然而，在页面的源代码中找不到这个类（虽然）。然后我认为可能是通过JS添加的元素，因此它没有显示在源代码中。但是，在这种情况下，必须在源代码中包含的任何脚本或外部 JS 页面中找到该类，但我再次找不到。页面元素怎么可能在源代码中不存在？**`CTRL-U`**

 *** * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:51:32.103

javascript 可以动态加载 - 你想要 firebug 的 net 选项卡并检查那里加载的所有脚本吗？`<SCRIPT>`仅查找标签中列出的脚本是不够的。

该类也可以动态构建。例如，输入元素的类型加上字符串“sch”。**

# c++ - 类型检查：查看变量是继承还是某个类

> ID：11823621
> 
> 赞同：0
> 
> 时间：2012-08-06T06:46:22.397
> 
> 标签：c++, performance, templates, casting, static-members

我读到`dynamic_cast<THECLASS>(THEVARIABLE)`如果您尝试将 THEVARIABLE 强制转换为 THECLASS（假设 THEVARIABLE 不是 THECLASS 的类而不是 THECLASS 的后代），它将返回 0。我听说 dynamic_cast 比较慢，因为它需要进行运行时检查。如果我为对象检查做了很多循环，dynamic_cast 会不会很慢（比如 100 个对象）？

我想知道我是否制作了一个静态类来进行类型检查，如下所示，它会更好（更快吗？）（如果有的话，请忽略语法错误）：

```
class TYPECHECK {
public:
inline static bool isInt(int a) {
   return true;
}
template<typename wrongtype>
inline static bool isInt(wrongtype a) {
   return false;
}

[...]

private:
TYPECHECK();

};

int main() {
   int a = 5;
   char b = 'd';
   TYPECHECK::isInt(a);   //true
   TYPECHECK::isInt(b);   //false
   return 0; 
} 
```

假设我为除了 int 之外的更复杂的类型做了这个。如果它在 for 循环中，这个类的实现会比 dynamic_cast（用于检查）更快吗？

提前致谢。

**编辑**

twsansbury 对于推荐和包括访问者模式的示例有一个很好的答案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T06:49:56.143

您需要配置文件，**但可能不需要**。虽然`dynamic_cast`有一些开销，但它已经过优化，并且在适当的实现中应该比任何用户实现的类型识别方法快得多。

但是，IMO，如果您需要大量演员表，则可以改进您的设计。最好问一下；）

此外，`dynamic_cast`如果您强制转换为指针，这不仅会返回 NULL。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:21:41.307

请记住，需要`dynamic_cast`意味着架构问题。想想虚拟方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T06:56:52.773

我不确定你需要什么，但你可以看看 boost 的多态转换 -`polymorphic_cast`和`polymorpihc_downcast`（[http://www.boost.org/doc/libs/1_50_0/libs/conversion/cast.htm](http://www.boost.org/doc/libs/1_50_0/libs/conversion/cast.htm)）

它们基本上执行与`dynamic_cast`DEBUG 和`static_cast`RELEASE 相同的操作，因此您在 DEBUG 中运行时具有安全性，在 RELEASE 中具有速度。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T07:01:24.983

我认为这也涉及`dynamic_cast`继承层次结构，所以如果你按照你所说的那样自己做，你必须确保将来添加的任何新类都被添加到你的检查中。这似乎很容易，但很容易出错，因为人们很容易忘记这些事情，任何从事此工作的新开发人员都必须学习所有这些。

也就是说，在性能方面，您将不得不进行分析，但我怀疑会有很多差异，因为动态转换中涉及的大多数间接都将被优化掉。

# .net - 当我们重新使用 WCF 代理时，关闭并重新打开它是一种更好的方法吗？

> ID：11823623
> 
> 赞同：0
> 
> 时间：2012-08-06T06:46:25.317
> 
> 标签：.net, wcf, wcf-proxy

我正在为我的 WCF 代理实现一个对象池。一旦使用了代理，如果我们关闭它会更好吗，有点钝化它，以便关闭它的活动连接。当代理对象被借用时，我们可以在传递它之前重新打开代理（激活）。这种方法会影响性能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T10:33:51.800

您不能“重新打开”已关闭的代理。代理实现`ICommunicationObject`并符合 WCF 中通信对象的[标准状态机](http://msdn.microsoft.com/en-us/library/ms789041.aspx)。没有从关闭状态到打开状态的转换。

如果您决定为您的代理实施一个池，它们必须保持打开状态，或者从池中丢弃。

# ios - UIDocument 相关 EXC_BAD_ACCESS

> ID：11823625
> 
> 赞同：3
> 
> 时间：2012-08-06T06:46:47.830
> 
> 标签：ios, exc-bad-access, icloud, uidocument

在我的应用程序的最开始，我尝试加载每个 UIDocument 以稍微预览它们的内容。这在大多数情况下都非常有效，但有时我在加载 UIDocument 后会立即崩溃。我的问题是我不知道如何解释崩溃。我什至不确定它是否与 UIDocument 的处理有关（线程 6 和 7 与 UIDoc 有关，但线程 8 似乎导致了崩溃）。

如果有人可以帮助我解释这一点，我将非常感激：

![在此处输入图像描述](../Images/d5a0024eea4cd3e60a9a075b1cfd9517.png)

我在所有异常上都有断点，但调试器不会停在特定的代码行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-06T22:29:12.923

我有同样的问题。仅在我们的一个测试设备上很容易重现，读取 iCloud 文档。重新安装应用程序不会影响该错误。

我正在使用 NSMetadataQuery 来获取文件 URL。我的 NSMetadataQueryDidFinishGatheringNotification 接收器如下所示：

```
- (void)queryDidFinishGathering:(NSNotification *)notification
{
    NSMetadataQuery *query = [notification object];
    [query disableUpdates];
    [query stopQuery]; //  <--- This was the problem

    NSMetadataItem *item = [query resultAtIndex:0];
    NSURL *url = [item valueForAttribute:NSMetadataItemURLKey];
    UIDocument *doc = [[CustomDocument alloc] initWithFileURL:url];
    [doc openWithCompletionHandler:^(BOOL success) {
         // EXC_BAD_ACCESS before completion block is called :'(
    }];

    [query enableUpdates];
} 
```

删除`stopQuery`呼叫修复了一切！

# php - 如何在 joomla 2.5 中实现 twitter auth 登录

> ID：11823627
> 
> 赞同：0
> 
> 时间：2012-08-06T06:46:53.317
> 
> 标签：php, joomla2.5

大家好，我正在开发 joomla 2.5，我希望任何 Twitter 用户都可以在我的网站上登录他的 Twitter 帐户。

请帮助在我的 joomla 2.5 登录页面中实现 twitter auth login

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:04:30.787

您可以使用 OpenId 或 OAuth 身份验证系统。这不仅可以帮助您验证 Twitter，还可以帮助您验证 Google、Yahoo 等。

有一个 Drupal 扩展：[http ://extensions.joomla.org/extensions/access-a-security/site-access/authentication-cloud-based/20465](http://extensions.joomla.org/extensions/access-a-security/site-access/authentication-cloud-based/20465)

试试看，很简单！

# android - 将图像放在模拟器上

> ID：11823628
> 
> 赞同：0
> 
> 时间：2012-08-06T06:46:55.573
> 
> 标签：android, android-emulator, emulation

> **可能重复：**
> [将图片上传到模拟器库](https://stackoverflow.com/questions/5151744/upload-picture-to-emulator-gallery)

我正在使用 Android 4.1 (API 16)。

我想在 android 模拟器上添加图像。我怎样才能一步一步地实现这个？

我在stackoverflow中看到了很多方法，但我没有得到确切的答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:50:11.493

您还可以使用 Eclipse 中的 DDMS 工具将文件推送或拉取到模拟器上。在 2.2 模拟器上，我能够使用 DDMS 将一些 .jpg 图像推送到 /mnt/sdcard/DCIM/100ANDRO 文件夹中。然后我不得不进入正在运行的模拟器本身，从应用程序屏幕中选择“开发工具”，选择“媒体扫描仪”以让模拟器识别文件，以便它们显示在媒体库中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T06:52:35.643

您可以使用 ADB 将图像或任何文件添加到模拟器。

例如 adb -s emulator-5554 push c:/myfoto.jpg mnt/sdcard/myfolder

还有一个软件可以将文件推送到名为 Quick ADB pusher 的模拟器

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T07:02:27.527

如果您使用 eclipse，最简单的方法是：

1.  启动您的模拟器（确保在设置 AVD 时设置了 sdcard.img）

2.  转到右上角的 DDMS ![DDMS 视图](../Images/a170ddecf1d936b31be32ecfb7fe4004.png)

3.  只需选择右上角的“将文件推送到设备上”徽标 ![推送文件](../Images/963e810653546d85dcd7c4a49ab67ea5.png)

4.  选择您的文件，点击“打开”，您就完成了！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T06:52:13.457

从 SDK 文档的教程中查看是一个不错的选择。因为我不确定你想在这里得到什么。假设您想在应用程序中显示图像。基本方法是这样的，1.在布局文件中放一个“ImageView”项，2.将图像文件放在res/drawable/目录下，3.将布局文件中的android:src项更改为图像文件名，修剪扩展名文件名的一部分。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-06T06:59:13.630

您可以通过打开“文件资源管理器”来完成。

![在此处输入图像描述](../Images/7b3e64b58a3306a87ad5a253b43b99ed.png)

# lucene - Lucene 索引

> ID：11823630
> 
> 赞同：0
> 
> 时间：2012-08-06T06:47:01.557
> 
> 标签：lucene

在我的 lucene 索引文档中，我有三个字段，即名字、中间名和姓氏。因此，如果进行搜索，则应在索引中的任何字段中执行。因此，不是维护两个单独的索引，（一个具有完整的上下文 - 具有三个字段的串联字符串，例如所有索引，另一个具有单独的字段。）我只使用了后一种方法，即我只维护了具有单独字段的索引. 因此，如果提交了搜索文本，则组合三个单独的术语查询，并使用组合的布尔查询进行搜索。因此，如果搜索文本与任何字段匹配，则将获得搜索结果。现在的问题是，如果搜索文本之间有空格，第一个单词是名字，最后一个单词是中间名，如何使用具有单独字段的索引来完成此搜索。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T14:23:05.093

您不需要维护两个单独的索引。有一个包含四个字段的索引：

1.  名
2.  中间名字
3.  姓
4.  全名（全名作为该字段的一部分编入索引）

让默认搜索字段为全名，如果用户想进一步缩小范围，他们也可以在名字/中间名/姓氏字段上发出查询。

# java - 32 位和 64 位的 Java 类路径

> ID：11823631
> 
> 赞同：2
> 
> 时间：2012-08-06T06:47:01.580
> 
> 标签：java, eclipse

我已经安装了 JDK 32 位和 JDK 64 位。我有 2 个 eclipse 安装；适用于 Android 的 Helios 和适用于 Java EE 的 Indigo。现在的问题是，当我为 32 位 Indigo 设置类路径时，当我为 64 位 Helios 设置路径时，它不起作用。

我得到的错误是：

```
failed to load the jni shared library 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T06:54:04.487

问题是您正在尝试使用 64 位 JVM 加载例如 32 位 DLL，但 32 位 JVM 只能加载 32 位库，而对于 64 位 JVM 则相反。

*   您可以卸载 32 位 eclipse 版本并将其重新安装为 64 位版本，这样两个程序都可以使用 64 位 JVM
*   您可以打开`eclipse.ini`并编辑`-vm`参数以指向正确的 JVM 安装。因此，您需要与 64 位 JVM 并行安装 32 位 JVM。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T21:23:48.210

你没有说操作系统。但是在`Windows`64 位 java 下会安装，`Program Files`而 32 位 java 在`Program Files (x86)`. 如果您`eclipse.ini`相应更新以指向适当的 java 安装（32/64），我认为您应该没问题

# jquery - jquery拖放功能

> ID：11823632
> 
> 赞同：0
> 
> 时间：2012-08-06T06:47:06.843
> 
> 标签：jquery

我正在使用 jqury 进行拖放功能。我收到“可拖动”方法未找到错误。脚本如下

```
<script src="../Scripts/jquery-1.7.2.js" type="text/javascript"></script>

<script type="text/javascript">
    $(document).ready(function () {
        $("#draggable").draggable({
            start: function (event, ui) {
                // flag to indicate that we want to remove element on drag stop
                ui.helper.removeMe = true;
            },
            stop: function (event, ui) {
                // remove draggable if flag is still true
                // which means it wasn't unset on drop into parent
                // so dragging stopped outside of parent
                if (ui.helper.removeMe) {
                    ui.helper.remove();
                }
            },
            // move back if dropped into a droppable
            revert: 'valid'
        });

        $("#droppable").droppable({
            drop: function (event, ui) {
                // unset removeMe flag as child is still inside parent
                ui.helper.removeMe = false;
            }
        });
    });
</script> 
```

这是html

```
<div id="droppable" style="border: 1px">
    <p id="draggable">
        Drag me!</p>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T06:49:35.923

您需要 jQuery UI 库：http: [//jqueryui.com/demos/draggable/](http://jqueryui.com/demos/draggable/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T06:49:01.447

您需要包含 jQuery UI (https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/jquery-ui.min.js)。

拖放功能仅包含在 jQuery UI（或其他插件）中：http: [//jqueryui.com/](http://jqueryui.com/)

```
<script src="../Scripts/jquery-1.7.2.js" type="text/javascript"></script>
<!-- Include here like -->
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/jquery-ui.min.js"></script>
<!-- That's it -->
<script type="text/javascript">
<!-- ... continue --> 
```

# joomla - 检索 Joomla 2.5 组件项 ID

> ID：11823635
> 
> 赞同：0
> 
> 时间：2012-08-06T06:47:29.443
> 
> 标签：joomla

我正在开发一个组件，我想检索项目 ID 并使用该 ID，以便每次页面加载该项目 ID 将用于其他事情。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:27:47.890

要检索组件项的 ID，您需要做几件事：

使用它的 ID 创建指向该项目的链接，例如

```
$mylink = 'index.php?option=com_yourcomponent&view=myitemview&id=99' 
```

然后，您应该通过该链接，`JRoute`以防用户启用了 SEF：

```
$myRoutedLink = JRoute::_($myLink); 
```

这可确保当您在构建商品页面时尝试访问 ID 时，它是可用的。对于 Joomla！2.5 您应该使用[JInput](http://docs.joomla.org/Retrieving_request_data_using_JInput)来检索变量，因为[JRequest](http://docs.joomla.org/Retrieving_and_Filtering_GET_and_POST_requests_with_JRequest%3a%3agetVar)自 J1.7 以来已被贬低和替换。

第一步是获取Joomla！实例，然后是输入对象，然后再检索变量，例如

```
// Get Joomla! instance
$jAp = JFactory::getApplication();
$jInput = $jAp->input; 
```

现在我们可以得到你的变量：

```
// Get variables
$passedID = $jInput->get('id',0) // Where the 0 is the default if 'ID' doesn't exist.
$passedInt = $jInput->getInt('myInt',0) // You can also get JInput to give the right type back 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:09:30.483

我知道 joomla 1.5.xx

我曾经从 url 获取 itemid 是：

```
$itemid = JRequest::getVar('itemid'); 
```

希望这对你也有帮助。点击链接了解更多信息[JRequest](http://docs.joomla.org/Retrieving_data_from_GET_and_POST_requests)

# solr - Liferay 的 URL 字段没有在 Solr 中被索引

> ID：11823641
> 
> 赞同：0
> 
> 时间：2012-08-06T06:48:15.970
> 
> 标签：solr, liferay

有没有人能够在solr中获得liferay url的索引？（通过 url 我只是指可能托管 portlet/s 的 liferay 页面。）

尽管该字段是在模式中定义的，但我在 solr 查询响应中看不到值！实际上，响应中永远不会返回 url 字段。

有什么建议么？（我们的 portlet 将直接访问 solr 服务器来获取结果）

我尝试使用 url 作为文本，indexed=true 和 stored=true 和字符串，indexed=true 和 stored=true

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T11:03:51.670

在由 Layout 对象构建的 Liferay 页面/url 中。据我所知，我没有看到 Layout 对象首先被索引。

如果你想索引布局对象，你可以考虑写一个钩子。在添加/更新布局时，您可以在布局对象上创建索引。

例如：您可以参考 BookMarks portlet，在那里您可以看到如何索引书签。

```
Indexer indexer = IndexerRegistryUtil.getIndexer(
BookmarksEntry.class);
indexer.reindex(entry); 
```

[点击这里](http://www.liferay.com/community/wiki/-/wiki/Main/Adding+search+capabilities+to+a+portlet)

了解如何添加自定义搜索功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-22T15:14:36.507

页面或菜单结构不会在 Liferay 中自动建立索引。

无需编程的简单解决方法：

*   为要索引的每个页面创建一个 WebContent。网页内容名称和内容应包含页面名称
*   确保未设置 WebContent 显示页面。
*   将 WebContent 添加到页面（在底部）
*   在 Look&Feel 菜单中将 WebContent 文本的颜色更改为背景颜色（使其不可见）
*   确保搜索 portlet 配置为“在上下文中显示”
*   搜索页面名称又名 WebContent 名称。您的条目将位于搜索结果的顶部。如果未将 WebContent 的排名设置得更高...

# ipad - 以两页模式渲染 ePub

> ID：11823649
> 
> 赞同：3
> 
> 时间：2012-08-06T06:49:04.753
> 
> 标签：ipad, pagination, epub

我正在使用 AePubreader 示例代码在我的应用程序中阅读 ePub。我面临的问题是章节的最后一页没有正确呈现，它们离开了可见区域。我以以下方式编辑了 AePubreader 代码，以便在 ipad 中以两页模式进行转换。

-在 chaper.m 文件中，webViewDiDFinishLoading 具有以下代码：

```
- (void) webViewDidFinishLoad:(UIWebView*)webView{
    NSString *varMySheet = @"var mySheet = document.styleSheets[0];";

    NSString *addCSSRule =  @"function addCSSRule(selector, newRule) {"
    "if (mySheet.addRule) {"
        "mySheet.addRule(selector, newRule);"                               // For Internet Explorer
    "} else {"
        "ruleIndex = mySheet.cssRules.length;"
        "mySheet.insertRule(selector + '{' + newRule + ';}', ruleIndex);"   // For Firefox, Chrome, etc.
    "}"
    "}";

NSString *insertRule1 = [NSString stringWithFormat:@"addCSSRule('html', 'padding-left: 0px;padding-right: 0px; padding-top: 0px; padding-bottom: 0px; height: %fpx;-webkit-column-count: 2; -webkit-column-gap: 0px; ')", webView.frame.size.height];    

    NSString *insertRule2 = [NSString stringWithFormat:@"addCSSRule('p', 'text-align: justify;')"];
    NSString *setTextSizeRule = [NSString stringWithFormat:@"addCSSRule('body', '-webkit-text-size-adjust: %d%%;')",fontPercentSize];

    NSString *setImageRule = [NSString stringWithFormat:@"addCSSRule('img', 'max-width: %fpx; height:%fpx;')", webView.frame.size.width-200,webView.frame.size.height-200];

    NSString *setFontRule = [NSString stringWithFormat:@"addCSSRule('body', 'font-family: Arial;' , 'font-name: Arial-BoldItalicMT;')"];

    [webView stringByEvaluatingJavaScriptFromString:setFontRule];
    [webView stringByEvaluatingJavaScriptFromString:setImageRule];

    [webView stringByEvaluatingJavaScriptFromString:varMySheet];

    [webView stringByEvaluatingJavaScriptFromString:addCSSRule];

    [webView stringByEvaluatingJavaScriptFromString:insertRule1];

    [webView stringByEvaluatingJavaScriptFromString:insertRule2];

    [webView stringByEvaluatingJavaScriptFromString:setTextSizeRule];

    float totalWidth = [[webView stringByEvaluatingJavaScriptFromString:@"document.body.scrollWidth"] floatValue];
    pageCount = (ceilf)((float)totalWidth/webView.frame.size.width);

    NSLog(@"Chapter %d: %@ -> %d pages & totalWidth :: %f", chapterIndex, title, pageCount,totalWidth);

    [webView dealloc];
    [delegate chapterDidFinishLoad:self];

} 
```

在 EpubViewController.m webViewDidFinishLoading 中如下：-

```
- (void)webViewDidFinishLoad:(UIWebView *)theWebView{

    NSString *varMySheet = @"var mySheet = document.styleSheets[0];";

    NSString *addCSSRule =  @"function addCSSRule(selector, newRule) {"
    "if (mySheet.addRule) {"
    "mySheet.addRule(selector, newRule);"                               // For Internet Explorer
    "} else {"
    "ruleIndex = mySheet.cssRules.length;"
    "mySheet.insertRule(selector + '{' + newRule + ';}', ruleIndex);"   // For Firefox, Chrome, etc.
    "}"
    "}";

NSString *insertRule1 = [NSString stringWithFormat:@"addCSSRule('html', 'padding-left: 0px;padding-right: 0px; padding-top: 0px; padding-bottom: 0px; height: %fpx;-webkit-column-count: 2; -webkit-column-gap: 0px; ')", webView.frame.size.height];    

    NSString *insertRule2 = [NSString stringWithFormat:@"addCSSRule('p', 'text-align: justify;')"];
    NSString *setTextSizeRule = [NSString stringWithFormat:@"addCSSRule('body', '-webkit-text-size-adjust: %d%%;')", currentTextSize];
    NSString *setHighlightColorRule = [NSString stringWithFormat:@"addCSSRule('highlight', 'background-color: yellow;')"];

    NSString *setImageRule = [NSString stringWithFormat:@"addCSSRule('img', 'max-width: %fpx; height:%fpx;')", (webView.frame.size.width/2)-200,webView.frame.size.height-150];

    NSString *setFontRule = [NSString stringWithFormat:@"addCSSRule('body', 'font-family: Arial;' , 'font-name: Arial-BoldItalicMT;')"];

    [webView stringByEvaluatingJavaScriptFromString:setFontRule];

    [webView stringByEvaluatingJavaScriptFromString:setImageRule];

    [webView stringByEvaluatingJavaScriptFromString:varMySheet];

    [webView stringByEvaluatingJavaScriptFromString:addCSSRule];

    [webView stringByEvaluatingJavaScriptFromString:insertRule1];

    [webView stringByEvaluatingJavaScriptFromString:insertRule2];

    [webView stringByEvaluatingJavaScriptFromString:setTextSizeRule];

    [webView stringByEvaluatingJavaScriptFromString:setHighlightColorRule];

    if(currentSearchResult!=nil){
    //  NSLog(@"Highlighting %@", currentSearchResult.originatingQuery);
        [webView highlightAllOccurencesOfString:currentSearchResult.originatingQuery];
    }

//  int totalWidth = [[webView stringByEvaluatingJavaScriptFromString:@"document.documentElement.scrollWidth"] intValue];

//    NSLog(@">>>>>>>>>>>>>>>>>>>>>>>total width is %d",totalWidth);
//    CGFloat moduloResult = (float)(totalWidth/((int)webView.bounds.size.width % 2));

  //NSLog(@"moduloresult is %f",moduloResult);

//  pagesInCurrentSpineCount = (round)((float)totalWidth/(webView.frame.size.width));
    float pageCountofChapter = [[loadedEpub.spineArray objectAtIndex:currentSpineIndex] pageCount];
    pagesInCurrentSpineCount =(ceilf)(pageCountofChapter/2.0);

    UIScrollView* sv = nil;
    for (UIView* v in  webView.subviews) {
        if([v isKindOfClass:[UIScrollView class]])
        {
            sv = (UIScrollView*) v;
            sv.contentSize = CGSizeMake(pagesInCurrentSpineCount*1024, sv.contentSize.height);
        }
    }

//    NSLog(@"TotalWidth :: %d && pagesInCurrentSpineCount :: %d  && currentPageInSpineIndex :: %d",totalWidth,pagesInCurrentSpineCount,currentPageInSpineIndex);

    [self gotoPageInCurrentSpine:currentPageInSpineIndex];
} 
```

我注意到当计算的页数为奇数时，本章的最后一页没有正确呈现？另外，是否有任何可用的替代库提供两种页面模式支持以准确呈现 epub？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T13:24:40.947

当 webview 的滚动视图不在页面宽度的倍数时，我通过为 webview 的滚动视图提供列号和托管内容大小来更改逻辑。谢谢你的时间

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-16T10:11:12.310

@dineshprasanna 在您的项目中进行以下更改。

在 chapter.m 文件中

```
- (void) webViewDidFinishLoad:(UIWebView*)webView{
    NSString *varMySheet = @"var mySheet = document.styleSheets[0];";

    NSString *addCSSRule =  @"function addCSSRule(selector, newRule) {"
    "if (mySheet.addRule) {"
        "mySheet.addRule(selector, newRule);"                               // For Internet Explorer
    "} else {"
        "ruleIndex = mySheet.cssRules.length;"
        "mySheet.insertRule(selector + '{' + newRule + ';}', ruleIndex);"   // For Firefox, Chrome, etc.
    "}"
    "}";

//  NSLog(@"w:%f h:%f", webView.bounds.size.width, webView.bounds.size.height);

   NSString *insertRule1 = [NSString stringWithFormat:@"addCSSRule('html', 'padding-left: 50px;padding-right: 50px; padding-top: 50px; padding-bottom: 50px; -webkit-column-gap: 100px;height: %fpx; -webkit-column-width : %fpx')", webView.frame.size.height-100,webView.frame.size.width/2-200];    

    NSString *insertRule2 = [NSString stringWithFormat:@"addCSSRule('p', 'text-align: justify;')"];
    NSString *setTextSizeRule = [NSString stringWithFormat:@"addCSSRule('body', '-webkit-text-size-adjust: %d%%;')",fontPercentSize];

//    NSString *setImageRule = [NSString stringWithFormat:@"addCSSRule('img', 'max-width: %fpx; height:auto;')", webView.frame.size.width *0.75];
    NSString *setImageRule = [NSString stringWithFormat:@"addCSSRule('img', 'max-width: %fpx; height:%fpx;')", webView.frame.size.width/2-200,webView.frame.size.height-200];

    NSString *setFontRule = [NSString stringWithFormat:@"addCSSRule('body', 'font-family: Arial;' , 'font-name: Arial-BoldItalicMT;')"];

    [webView stringByEvaluatingJavaScriptFromString:setFontRule];
    [webView stringByEvaluatingJavaScriptFromString:setImageRule];

    [webView stringByEvaluatingJavaScriptFromString:varMySheet];

    [webView stringByEvaluatingJavaScriptFromString:addCSSRule];

    [webView stringByEvaluatingJavaScriptFromString:insertRule1];

    [webView stringByEvaluatingJavaScriptFromString:insertRule2];

    [webView stringByEvaluatingJavaScriptFromString:setTextSizeRule];

    int totalWidth = [[webView stringByEvaluatingJavaScriptFromString:@"document.documentElement.scrollWidth"] floatValue];
    pageCount = (ceilf)((float)totalWidth/webView.frame.size.width);

    if (totalWidth % (int)webView.frame.size.width != 0)
    {
        UIScrollView *scrollV = [self getScrollViewFromWebView:webView];
        scrollV.contentSize = CGSizeMake(pageCount*(webView.frame.size.width), webView.scrollView.contentSize.height);

    }

    NSLog(@"Chapter %d: %@ -> %d pages & totalWidth :: %d", chapterIndex, title, pageCount,totalWidth);

    [activityIndicator removeFromSuperview];
    [activityIndicator stopAnimating];
    [webView dealloc];

    [delegate chapterDidFinishLoad:self];

} 
```

在您的 epubviewcontroller 文件中：-

```
- (void)webViewDidFinishLoad:(UIWebView *)theWebView{

    NSString *varMySheet = @"var mySheet = document.styleSheets[0];";

    NSString *addCSSRule =  @"function addCSSRule(selector, newRule) {"
    "if (mySheet.addRule) {"
    "mySheet.addRule(selector, newRule);"                               // For Internet Explorer
    "} else {"
    "ruleIndex = mySheet.cssRules.length;"
    "mySheet.insertRule(selector + '{' + newRule + ';}', ruleIndex);"   // For Firefox, Chrome, etc.
    "}"
    "}";

//    NSString *insertRule1 = [NSString stringWithFormat:@"addCSSRule('html', 'PADDING-LEFT: 25px; padding-top: 100px; padding-right: 25px; height: %fpx; -webkit-column-gap: 50px; -webkit-column-width:%fpx;')", webView.frame.size.height-200, (webView.frame.size.width/2-100) ];

    NSString *insertRule1 = [NSString stringWithFormat:@"addCSSRule('html', 'padding-left: 50px;padding-right: 50px; padding-top: 50px; padding-bottom: 50px; -webkit-column-gap: 100px;height: %fpx; -webkit-column-width : %fpx')", webView.frame.size.height-100,webView.frame.size.width/2-200];     

    NSString *insertRule2 = [NSString stringWithFormat:@"addCSSRule('p', 'text-align: justify;')"];
    NSString *setTextSizeRule = [NSString stringWithFormat:@"addCSSRule('body', '-webkit-text-size-adjust: %d%%;')", currentTextSize];
    NSString *setHighlightColorRule = [NSString stringWithFormat:@"addCSSRule('highlight', 'background-color: yellow;')"];

    NSString *setImageRule = [NSString stringWithFormat:@"addCSSRule('img', 'max-width: %fpx; height:%fpx;')", (webView.frame.size.width/2)-200,webView.frame.size.height-200];

    NSString *setFontRule = [NSString stringWithFormat:@"addCSSRule('body', 'font-family: Arial;' , 'font-name: Arial-BoldItalicMT;')"];

    [webView stringByEvaluatingJavaScriptFromString:setFontRule];

    [webView stringByEvaluatingJavaScriptFromString:setImageRule];

    [webView stringByEvaluatingJavaScriptFromString:varMySheet];

    [webView stringByEvaluatingJavaScriptFromString:addCSSRule];

    [webView stringByEvaluatingJavaScriptFromString:insertRule1];

    [webView stringByEvaluatingJavaScriptFromString:insertRule2];

    [webView stringByEvaluatingJavaScriptFromString:setTextSizeRule];

    [webView stringByEvaluatingJavaScriptFromString:setHighlightColorRule];

    if(currentSearchResult!=nil){
    //  NSLog(@"Highlighting %@", currentSearchResult.originatingQuery);
        [webView highlightAllOccurencesOfString:currentSearchResult.originatingQuery];
    }

    float pageCountofChapter = [[loadedEpub.spineArray objectAtIndex:currentSpineIndex] pageCount];
    pagesInCurrentSpineCount =pageCountofChapter;

    int totalWidth = [[webView stringByEvaluatingJavaScriptFromString:@"document.documentElement.scrollWidth"] floatValue];

    if (totalWidth % (int)webView.frame.size.width != 0)
    {
        UIScrollView *scrollV = [self getScrollViewFromWebView:webView];
        scrollV.contentSize = CGSizeMake(pagesInCurrentSpineCount*(webView.frame.size.width), webView.scrollView.contentSize.height);

    }

    [self gotoPageInCurrentSpine:currentPageInSpineIndex];
} 
```

希望这会帮助你。根据您的要求安排填充和边距。

# java - 如何在工厂设计模式（单实例）中同步由多个线程访问的 List 变量

> ID：11823650
> 
> 赞同：0
> 
> 时间：2012-08-06T06:49:05.627
> 
> 标签：java, multithreading, variables, concurrency, synchronization

```
public class Rule{
 private Integer ruleId;
 private String name;
 private Date startdate;
 private Date endDate;

 // getters & setters
}
public class ClassA{
  public static List<Rule> ruleList = new ArrayList<Rule>();
  public void populateRule(){
   //Retrieve all rules; Here the rules are being added or deleted by the administration.
   //So it is required to retrieve the rules every time the Job runs.
    ruleList.clear();
    ruleList.addAll(RuleService.retrieveRules());
  }
}

public class UserClassA1{
  ClassA oClassA=Factory.getInstance(ClassA.class);
  List<Rule> rules=oClassA.populateRule();
  for(Rule oRule:rules){
  // do some stuff.
  } 
}
public class UserClassA2{
 ClassA oClassA=Factory.getInstance(ClassA.class);
List<Rule> rules=oClassA.populateRule();
for(Rule oRule:rules){
  // do some stuff.
  } 
} 
```

* * *

在这里，UserClassA1 和 UserClassA2 正在执行不同的活动，但都使用相同的静态列表，并且当它们开始时，它们会重置列表并填充新列表。

我的问题是，当 UserClassA1 在填充列表后开始工作时，UserClassA2 开始执行并清除列表，然后去填充列表。在清除列表直到填充列表之后的这段时间间隔内，UserClassA1 无法正常运行，因为列表是清除。

我想锁定 ruleList 列表，这样当任何实例填充列表时，其他实例都不会使用该列表。

请帮助..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-17T15:34:49.497

在 classA 中，将您的 ruleList 声明为 CopyOnWriteArrayList（在 java.util.concurrent 中）。每次更改列表时，我都会制作一个新副本。列表中的现有迭代器将不受任何写操作的影响。

这样，您仍将拥有一个 ruleList 实例，但它将是线程安全的。

Javadoc：[http ://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CopyOnWriteArrayList.html](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CopyOnWriteArrayList.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:30:47.450

简单（尽管蛮力）的方法是使用[`Collections.synchronizedList()`](http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#synchronizedList%28java.util.List%29);

```
public static List<Rule> ruleList = Collections.synchronizedList(new ArrayList<Rule>()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:00:10.730

我假设您需要以一致的状态（完全填充）查看列表。你可以从`ruleList`私有化开始。并确保 2 个线程不能同时填充它，请`populateRule`同步。

但是除非`ClassA`有其他需要访问的方法，否则`ruleList`你的类的防御性、线程安全和更简单的版本可能是：

```
public class ClassA{
    public void populateRule() {
        //Retrieve all rules; Here the rules are being added or deleted by the administration.
        //So it is required to retrieve the rules every time the Job runs.
        return Collections.unmodifiableList(RuleService.retrieveRules());
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T23:07:37.563

您应该考虑更改`ClassA`以向每个`populateRule`方法调用者分发新列表。这样，调用者可以以任何他们认为合适的方式使用返回的列表，而不必担心后续调用`populateRule`. 例如：

```
public class ClassA {
  public List<Rule> populateRule() {
    // Retrieve all rules; Here the rules are being added or deleted by 
    // the administration. So it is required to retrieve the rules every 
    // time the Job runs.
    return new ArrayList(RuleService.retrieveRules());
  }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-06T06:55:29.447

标准答案是，将访问列表的代码包装在`synchronized(ClassA.ruleList) { ... }`. 然而，使用`synchronized`原语等很容易出错，您应该始终尝试使用更高级别的构造`java.util.concurrent`，例如`Lock`.

但是，在这种情况下，我鼓励您考虑稍微重构代码。`ruleList`例如，在因子方法中创建一个局部变量怎么样？

# asp.net - ASP.net 页面调整大小

> ID：11823656
> 
> 赞同：0
> 
> 时间：2012-08-06T06:49:46.640
> 
> 标签：asp.net

我有一个包含标题和导航菜单（水平）的 Div。当用户调整页面大小时，菜单会变形并且链接会移出 div。如何限制这一点，以使菜单在页面调整大小时保持不变

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T06:55:40.477

使用 CSS 修复 div 的大小。如果您的 div 具有以像素或 em 为单位分配的大小，则屏幕大小无关紧要。滚动条将由浏览器添加，您的内容不会被扭曲。

```
#myDiv
{
  width: 900px;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:02:16.870

要限制元素的大小，您可以使用 min- 和 max- 前缀。设置最小和最大尺寸。像往常一样结合宽度或高度。例如：

```
#content { 
  width: 50%; 
  min-width: 300px; 
  max-width: 1900px; 
} 
```

永远不会窄于 300 像素或宽于 1900 像素，但在 1280 分辨率下，它将呈现为 640 像素。

它得到广泛支持： http: [//www.caniuse.com/#search=min-width](http://www.caniuse.com/#search=min-width)

# android - 视频无法在某些 Android 设备上播放

> ID：11823658
> 
> 赞同：1
> 
> 时间：2012-08-06T06:49:52.910
> 
> 标签：android, video, screen-resolution

我有一个 android 应用程序，我需要在启动时播放视频。我尝试了不同的视频尺寸组合，但尺寸为 800x 1280 的视频无法在大多数设备上播放，除了少数三星 10 英寸平板电脑。我尝试播放相同尺寸的视频，它可以工作。所以它可能不是编码问题。

PS这不是流媒体视频。视频存储在项目的原始资源文件夹中。

android无法播放800x1280大小的视频可能是什么原因？它与设备的硬件限制有关吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:28:24.010

> 我认为您的视频格式是 .mpeg，或 mp4，.3gp，并且 H.264 视频支持 andorid 设备，您必须编码为 H.264 ...格式我认为它会对您有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-09T05:16:50.323

1280x800 超过 720p 高清分辨率。通常仅支持 720p HD 的解码器将支持高达 1280x720。某些解码器不会设计为支持 720x1280，但会支持 1280x720，尽管这种情况很少见，如果设备支持 720p，您应该可以播放 720x1280。您需要确保您正在尝试的设备具有超过 720p 的支持，这在旧手机中很少见，除非它们在发布时是高端智能手机。

# android - android图像上传，服务器中的文件损坏

> ID：11823664
> 
> 赞同：4
> 
> 时间：2012-08-06T06:50:11.900
> 
> 标签：android, image-uploading

![在此处输入图像描述](../Images/4079f42a0a7e501fd07781897c1fcc2a.png)我正在做一个项目，我必须使用 URL 将图像上传到服务器。但是当我上传文件时，服务器中的文件已损坏，当我打开文件时，它显示一条错误消息，“文件已损坏”。我该如何克服这个问题。

这是我的代码：

```
String lineEnd = "\r\n";
            String twoHyphens = "--";
            String boundary = "*****";

        try {
            // ------------------ CLIENT REQUEST

            Log.e("Upload", "Inside second Method");

            FileInputStream fileInputStream = new FileInputStream(new File(sel_img_name));

            // open a URL connection to the Servlet

            URL url = new URL(IpAddress+"ImageUpload/"+token+"/"+name_sel_image+"%7C"+extension);

            // Open a HTTP connection to the URL

            conn = (HttpURLConnection) url.openConnection();

            // Allow Inputs
            conn.setDoInput(true);

            // Allow Outputs
            conn.setDoOutput(true);

            // Don't use a cached copy.
            conn.setUseCaches(false);

            // Use a post method.
            conn.setRequestMethod("POST");

            conn.setRequestProperty("Connection", "Keep-Alive");

            conn.setRequestProperty("Content-Type",
                    "multipart/form-data;boundary=" + boundary);

            DataOutputStream dos = new DataOutputStream(conn.getOutputStream());

            dos.writeBytes(twoHyphens + boundary + lineEnd);
            dos.writeBytes("Content-Disposition: post-data; name=uploadedfile;filename="
                            + name_sel_image + "" + lineEnd);
            dos.writeBytes(lineEnd);

            //Log.e(Tag, "Headers are written");

            // create a buffer of maximum size

            int bytesAvailable = fileInputStream.available();
            int maxBufferSize = 1000;
            // int bufferSize = Math.min(bytesAvailable, maxBufferSize);
            byte[] buffer = new byte[bytesAvailable];

            // read file and write it into form...

            int bytesRead = fileInputStream.read(buffer, 0, bytesAvailable);

            while (bytesRead > 0) {
                dos.write(buffer, 0, bytesAvailable);
                bytesAvailable = fileInputStream.available();
                bytesAvailable = Math.min(bytesAvailable, maxBufferSize);
                bytesRead = fileInputStream.read(buffer, 0, bytesAvailable);
            }

            // send multipart form data necesssary after file data...

            dos.writeBytes(lineEnd);
            dos.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd);

            // close streams
            //Log.e(Tag, "File is written");
            fileInputStream.close();
            dos.flush();
            dos.close();

        } catch (MalformedURLException ex) {
            Log.e(Tag, "error: " + ex.getMessage(), ex);
        }

        catch (IOException ioe) {
            Log.e(Tag, "error: " + ioe.getMessage(), ioe);
        }
        try {
            BufferedReader rd = new BufferedReader(new InputStreamReader(conn.getInputStream()));
            String line;
            while ((line = rd.readLine()) != null) {
                Log.i("Response", line);
            }
            rd.close();

        } catch (IOException ioex) {
            Log.e("MediaPlayer", "error: " + ioex.getMessage(), ioex);
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:17:25.703

不要写连字符、边界和 lineEnd 来查看你的服务器是否支持它。dos.writeBytes(twoHyphens + 边界 + twoHyphens + lineEnd);

我之前遇到过类似的问题，结果发现服务器将连字符 lineEnd 作为数据的一部分。

# c# - c# DataTable差异使用linq

> ID：11823665
> 
> 赞同：-4
> 
> 时间：2012-08-06T06:50:12.587
> 
> 标签：c#, linq

我有 2 个数据表。

**表1：**

```
id    Name
---    ----
1     AAA
2     BBB 
```

**表2：**

```
id
---
2 
```

输出需要是 table1，没有 id=2 的行。

如何使用 Linq 做到这一点？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:53:00.353

检查这个 SO 帖子：[在 linq 连接中是否存在“不相等”](https://stackoverflow.com/questions/695506/linq-left-join-group-by-and-count)

```
var filteredDataTable = tableA.Except(tableB); 
```

问候

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-06T07:12:00.553

您可能会从第二个 DataTable 中获得一个 ID 列表，例如：

```
var tempList = (from d in dt2.AsEnumerable()
            select d.Field<int>("ID")).ToList(); 
```

稍后您可以使用`!Contains`从第一个数据表中检查 Not In，例如：

```
var result = from t in dt1.AsEnumerable()
             where !tempList.Contains(t.Field<int>("ID"))
             select t; 
```

# xml - 使用 XSLT 1.0 根据 ID 值替换 xml 文件的属性值

> ID：11823668
> 
> 赞同：2
> 
> 时间：2012-08-06T06:50:41.967
> 
> 标签：xml, xslt, xpath, xslt-1.0

我有一个像这样的主要 XML 文档：

```
<chapter xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="chapter1">
<title>First chapter</title>
      <section xml:id="section1">
                <imageobject>
                    <id>aa12</id>
                    <image fileref="image1.jpg"/>
                </imageobject>
                <imageobject>
                    <id>bb13</id>
                    <image fileref="image2.jpg"/>
                </imageobject>
      </section>
      <section xml:id="section2" xml:base="../other/section1.xml">  
                    <imageobject>
                        <id>ab14</id>
                        <image fileref="image1.jpg"/>
                    </imageobject>
                    <imageobject>
                        <id>ab15</id>
                        <image fileref="image2.jpg"/>
                    </imageobject>

             <section xml:id="section3" xml:base="../some-other/more/section3.xml">
                    <imageobject>
                        <id>ac16</id>
                        <image fileref="image1.jpg"/>
                    </imageobject>
             </section>
    </section>
    <section xml:id="section4" xml:base="../some-other/section4.xml">
                    <imageobject>
                        <id>ac17</id>
                        <image fileref="image2.jpg"/>
                    </imageobject>
    </section>
 </chapter> 
```

以及另一个 XML 文件和值，例如：

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
    <NewData>
       <Rename id="ab14" imageName="aaaa.jpg"/>
       <Rename id="ab15" imageName="bbbb.jpg"/>
       <Rename id="ac16" imageName="cccc.jpg"/>
       <Rename id="ac17" imageName="dddd.jpg"/>
    </NewData> 
```

最后我需要一个类似下面的输出，根据 id 值替换为正确的重命名图像名称。

```
<chapter xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="chapter1">
    <title>First chapter</title>
    <section xml:id="section1">
                    <imageobject>
                        <image fileref="image1.jpg"/>
                    </imageobject>
                    <imageobject>
                        <image fileref="image2.jpg"/>
                    </imageobject>
    </section>
    <section xml:id="section2" xml:base="../other/section1.xml">  
                        <imageobject>
                            <image fileref="aaaa.jpg"/>
                        </imageobject>
                        <imageobject>
                            <image fileref="bbbb.jpg"/>
                        </imageobject>

             <section xml:id="section3" xml:base="../some-other/more/section3.xml">
                        <imageobject>
                            <image fileref="cccc.jpg"/>
                        </imageobject>
             </section>
   </section>
   <section xml:id="section4" xml:base="../some-other/section4.xml">
                        <imageobject>
                            <image fileref="dddd.jpg"/>
                        </imageobject>
   </section>
</chapter> 
```

这里发生的情况是：如果`id`第一个 XML 文档中的`id`属性与第二个 XML 中的属性匹配，则`fileref`第一个文档中的值将替换`imageName`为第二个 XML 文件中的匹配项。

请参阅我在此处给出的示例。

如何使用 XSLT 1.0 做到这一点？

我正在使用 Saxon 或 Xsltproc 处理器。

提前致谢..！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T10:45:16.610

这是一个 XSLT 1.0 样式表（使用 xsltproc 和 Saxon 6 都支持的 exsl:node-set）：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:exsl="http://exslt.org/common"
  exclude-result-prefixes="exsl">

<xsl:param name="doc2-url" select="'test2012080602.xml'"/>
<xsl:variable name="doc2" select="document($doc2-url)"/>

<xsl:strip-space elements="*"/>
<xsl:output indent="yes"/>

<xsl:key name="img-by-id" match="Rename" use="@id"/>

<xsl:template match="@* | node()">
  <xsl:copy>
    <xsl:apply-templates select="@* | node()"/>
  </xsl:copy>
</xsl:template>

<xsl:template match="imageobject">
   <xsl:copy>
     <xsl:variable name="id" select="id"/>
     <xsl:variable name="ref">
       <xsl:for-each select="$doc2">
         <xsl:if test="key('img-by-id', $id)">
           <image filref="{key('img-by-id', $id)/@imageName}"/>
         </xsl:if>
       </xsl:for-each>
     </xsl:variable>
     <xsl:variable name="new" select="exsl:node-set($ref)/image"/>
     <xsl:choose>
       <xsl:when test="$new">
         <xsl:copy-of select="$new"/>
       </xsl:when>
       <xsl:otherwise>
         <xsl:copy-of select="image"/>
       </xsl:otherwise>
     </xsl:choose>
   </xsl:copy>
</xsl:template>

</xsl:stylesheet> 
```

您可以将参数设置为`doc2-url`具有新名称的辅助输入文档的位置。

# iphone - 设置时间到 uidatepickerview 的问题

> ID：11823669
> 
> 赞同：1
> 
> 时间：2012-08-06T06:50:53.367
> 
> 标签：iphone, objective-c, uilocalnotification, uidatepicker, alarm

我在我的应用程序中使用警报概念，我使用 uilocalnotifications 和 datepickerview 来设置时间。我的日期选择器只显示时间。

我用了代码，

```
- (void)viewDidLoad {
datePicker.date = [NSDate date];
} 
```

datepicker 的时间设置为当前日期，但第二个值不设置为 0；它转到 viewdidloaded 的第二个值，例如，12:30:14

```
- (void)scheduleNotification {
[[UIApplication sharedApplication] cancelAllLocalNotifications];
Class cls = NSClassFromString(@"UILocalNotification");

if (cls != nil) {
    UILocalNotification *notif = [[cls alloc] init];
notif.fireDate = [datePicker date];
notif.timeZone = [NSTimeZone defaultTimeZone];
notif.alertBody = @"My Alarm";
notif.alertAction = @"Show";
notif.soundName = @"Show.mp3";
notif.applicationIconBadgeNumber = 1;

NSDictionary *userDict = [NSDictionary dictionaryWithObject:reminderText.text
forKey:kRemindMeNotificationDataKey];

notif.userInfo = userDict;

[[UIApplication sharedApplication] scheduleLocalNotification:notif];

[notif release];

} 
```

闹钟设置为播放 wrt datepicker

我尝试使用代码将 datepicker 的第二个设置为 0

```
 - (void)viewDidLoad {

NSCalendar *calendar = [NSCalendar autoupdatingCurrentCalendar];

NSDate *reqdate = [self.datePicker date];

NSDateComponents *dateComponents = [calendar components:( NSYearCalendarUnit |   NSMonthCalendarUnit |  NSDayCalendarUnit )

   fromDate:reqdate];

NSDateComponents *timeComponents = [calendar components:( NSHourCalendarUnit | NSMinuteCalendarUnit | NSSecondCalendarUnit )

   fromDate:reqdate];

   NSDateComponents *dateComps = [[NSDateComponents alloc] init];

[dateComps setHour:[timeComponents hour]];

[dateComps setMinute:[timeComponents minute]];

[dateComps setSecond:[timeComponents 0]];

NSDate *itemDate = [calendar dateFromComponents:dateComps];

datePicker.date = itemDate;

} 
```

但是如果我突然设置警报，通知器会触发警报，我不知道这里发生了什么，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:23:55.940

你需要设置你`notif.fireDate`的未来。试试这个

```
 // Get the current date
    NSDate *now = [NSDate date];
    //make it later
    NSDate *pickerDate =   [now dateByAddingTimeInterval: (60.0 * 5)]; // 5 minutes in the future
    // Break the date up into components
    NSDateComponents *dateComponents = [calendar components:( NSYearCalendarUnit | NSMonthCalendarUnit |  NSDayCalendarUnit )
                                                   fromDate:pickerDate];
    NSDateComponents *timeComponents = [calendar components:( NSHourCalendarUnit | NSMinuteCalendarUnit | NSSecondCalendarUnit )
                                                   fromDate:pickerDate];

    // Set up the fire time - or manipulate it here to whatever time/date in the future you may like!
    NSDateComponents *dateComps = [[NSDateComponents alloc] init];
    [dateComps setDay:[dateComponents day]];
    [dateComps setMonth:[dateComponents month]];
    [dateComps setYear:[dateComponents year]];
    [dateComps setHour:[timeComponents hour]];
    [dateComps setMinute: [timeComponents minute];
    [dateComps setSecond:0];
    NSDate *itemDate = [calendar dateFromComponents:dateComps];

    UILocalNotification *localNotif = [[UILocalNotification alloc] init];
    if (localNotif == nil)
        return;
    localNotif.fireDate = itemDate;
    localNotif.timeZone = [NSTimeZone defaultTimeZone]; 
```

这会很好地工作......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:23:58.467

你没有使用你的变量`dateComponents`。您正在使用 设置`itemDate`公正 `timeComponents`，因此日期可能是 0001 年 1 月 1 日。

通知可能会立即到期（`fireDate`过去）。

# php - 如何创建一个填充的下拉列表，该列表将根据他们所做的下拉选择自动填写表单 - 从数据库中获取

> ID：11823675
> 
> 赞同：0
> 
> 时间：2012-08-06T06:51:20.213
> 
> 标签：php, drop-down-menu

如何创建一个填充的下拉列表，该列表将根据他们所做的下拉选择自动填写表单 - 从数据库中获取

我正在研究这个并且对 php 很陌生，但这是我的代码到目前为止

```
$hostname="";
$username="";
$password="";
$database="";

mysql_connect($hostname,$username,$password);
@mysql_select_db($database) or die( "Unable to select database");
//getFN();
function getFN(){

$query = "SELECT first FROM contacts";
$FNresult=mysql_query($query); 

$dropdown = "<select name='contacts' >";

while($row = mysql_fetch_assoc($FNresult)) {

  $dropdown .= "\r\n<option value='{$row['first']}'>{$row['first']}</option>";
  echo getLN();
  //$last .="\r\n<option value='{$row['last']}'>{$row['last']}</option>";
//echo $last;
}

$dropdown .= "\r\n</select>";

echo $dropdown;
}

//                  Get last name

function getLN(){
    $query = "SELECT last FROM contacts";
    $LNresult=mysql_query($query);

    $last;
    while($row = mysql_fetch_assoc($LNresult)) {

        $last = "{$row['last']}";

    }
    echo $last;
}//end getLN

mysql_close();
?>
<select name="fdsfd" onchange="document.getElementById('first').value = this.value">
<!-- <option value="<?//php echo $first; ?>"></option>-->

</select>

<form action="insert.php" method="post">
First Name: <input type="text" id="first" value=""><br>
Last Name: <input type="text" id="last"><br>
Phone: <input type="text" id="phone"><br>
Mobile: <input type="text" id="mobile"><br>
Fax: <input type="text" id="fax"><br>
E-mail: <input type="text" id="email"><br>
Web: <input type="text" id="web"><br>
<input type="Submit">
</form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:40:06.760

哪些信息会被自动填充？如果这是标准信息，而不是实质性的、不敏感的个人信息，我会考虑全部阅读并通过 Javascript 控制自动填充。该解决方案将优化用户侧的性能。
如果自动填充有很多可能性，或者将包含个人信息，我会通过 POST 调用来处理。这会稍微降低性能，因为您需要在服务器端处理数据库调用。

可以问一下，你在编程什么？这将为我提供更好的想法，因此能够提供更好的帮助。

/Pyracell

# sql-server-2008 - sql server中的拆分和匹配行

> ID：11823679
> 
> 赞同：1
> 
> 时间：2012-08-06T06:51:44.007
> 
> 标签：sql-server-2008

我正在使用 SQL Server 2008

我的表如下所示：

```
ID      Column
----------------------------------
1       This is a Sample Text
2       Sample Text is typed here
3       Here the sample text is
4       Typing a sample 
```

我需要输出是这样的：

```
ID Column                     MostCommon  Common1  Common2  NonCommon
---------------------------------------------------------------------------------------
1  This is a Sample Text      Sample      Text     is       This a
2  Sample Text is typed here  Sample      Text     is       typed here
3  Here the sample text is    Sample      Text     is       Here the
4  Typing a sample            sample      NULL     NULL     Typing A 
```

谁能帮我在 SQL Server 2008 中编写一个 sp/function/query

'sample' 出现在所有行中。所以我可以将它保留为最常见的单词，'text，'is'，下一个最常见的单词，可以在第 1、2、3 行中找到。所有其他单词与其他行不匹配，将移至非常见类别

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T09:11:03.990

这是你可以做到的，首先你必须创建一个分割字符串的函数，然后计算出现次数并根据需要显示它们。它使它变得更加复杂，因为您想要显示可变数量的列：

```
/*
CREATE FUNCTION dbo.SplitStrings_XML
(
   @List       NVARCHAR(MAX),
   @Delimiter  NVARCHAR(255)
)
RETURNS TABLE
WITH SCHEMABINDING
AS
   RETURN 
   (  
      SELECT Item = y.i.value('(./text())[1]', 'nvarchar(4000)')
      FROM 
      ( 
        SELECT x = CONVERT(XML, '<i>' + 
                   REPLACE(@List, @Delimiter, '</i><i>') + '</i>').query('.')
      ) AS a CROSS APPLY x.nodes('i') AS y(i)
   );
GO
*/

CREATE TABLE #t(ID INT, Col VARCHAR(1000))
INSERT #t
VALUES
(1,       'This is a Sample Text'),
(2,       'Sample Text is typed here'),
(3,       'Here the sample text is'),
(4,       'Typing a sample')

DECLARE @MinimumNumberOfOccurances INT = 2

SELECT  a.ID,
        a.Col,
        b.Item
INTO    #SplitedStrings
FROM    #t a
CROSS APPLY dbo.SplitStrings_XML(a.Col, N' ') b

SELECT  b.Item,
        COUNT(*) cnt
INTO    #SplitedStringsGrouped
FROM    #t a
CROSS   APPLY dbo.SplitStrings_XML(a.Col, N' ') b
GROUP   BY b.Item

SELECT      b.*,
            a.cnt
INTO        #ResultTable
FROM        #SplitedStringsGrouped a
RIGHT JOIN  #SplitedStrings b ON 
            b.Item = a.Item
            AND a.cnt > @MinimumNumberOfOccurances
ORDER BY    b.ID, a.cnt DESC, LEN(a.Item) DESC

DECLARE @ColumnNames VARCHAR(1000) = STUFF(
(
    SELECT  ',[' + Item + ']'
    FROM    #SplitedStringsGrouped
    WHERE   cnt > @MinimumNumberOfOccurances
    FOR     XML PATH('')
)
, 1, 1, '')

DECLARE @TableHeader VARCHAR(1000) = STUFF(
(
    SELECT  ',MAX([' + Item + ']) AS [Common' + 
            CAST((ROW_NUMBER() OVER 
                (ORDER BY cnt DESC, LEN(Item) DESC) - 1) 
                    AS VARCHAR(5)) 
            + ']'
    FROM    #SplitedStringsGrouped
    WHERE   cnt > @MinimumNumberOfOccurances
    FOR     XML PATH('')
)
, 1, 1, '')

SELECT  ID,
        Item,
        ROW_NUMBER() OVER 
            (PARTITION BY ID ORDER BY ID) Num
INTO    #NonCommon
FROM    #ResultTable
WHERE   cnt IS NULL

DECLARE @sql VARCHAR(1000) = 
'
SELECT  MAX(pvt.ID) ID, MAX(pvt.Col) [Column],
        '+@TableHeader+',
        RTRIM((
            SELECT  a.Item + '' ''
            FROM    #NonCommon a
            WHERE   a.ID = pvt.ID
            FOR     XML PATH('''')
        )) NonCommon        
FROM    #ResultTable a
PIVOT   (
    MAX(Item) FOR Item IN ('+@ColumnNames+')
) pvt
GROUP  BY pvt.ID
'

EXEC(@sql)

DROP TABLE #t
DROP TABLE #SplitedStringsGrouped
DROP TABLE #SplitedStrings
DROP TABLE #ResultTable
DROP TABLE #NonCommon 
```

# java - 黑莓中的 Http 连接问题

> ID：11823680
> 
> 赞同：0
> 
> 时间：2012-08-06T06:51:44.613
> 
> 标签：java, blackberry

我正在开发一个应用程序，在该应用程序中我需要通过 POST 方法传递参数，所以我尝试使用它来实现，`HTTPConnection`但它让我出错。没有建立连接。在这段代码中我有传递参数，`URLEncodedPostData`但它不能

这是我的代码::

```
URLEncodedPostData postData = new URLEncodedPostData(URLEncodedPostData.DEFAULT_CHARSET, false);
                    //passing q’s value and ie’s value
                    postData.append("q", "remoQte");
                    postData.append("ie", "UTF-8");

                    ConnectionFactory conFactory = new ConnectionFactory();
                    ConnectionDescriptor conDesc = null;
                    try{
                        conDesc = conFactory.getConnection("http://www.google.co.in/search");
                    }catch(Exception e){
                        System.out.println(e.toString()+":"+e.getMessage());
                    }
                    String response = ""; // this variable used for the server response
                    // if we can get the connection descriptor from ConnectionFactory
                    if(null != conDesc){
                        try{
                            HttpConnection connection = (HttpConnection)conDesc.getConnection();
                            //set the header property
                            connection.setRequestMethod(HttpConnection.POST);
                            connection.setRequestProperty("Content-Length", Integer.toString(postData.size())); //body content of post data
                            connection.setRequestProperty("Connection", "close"); // close the connection after success sending request and receiving response from the server
                            connection.setRequestProperty("Content-Type", "application/x-www-form-urlencoded"); // we set the content of this request as application/x-www-form-urlencoded, because the post data is encoded as form-urlencoded(if you print the post data string, it will be like this -> q=remoQte&ie=UTF-8).

                            //now it is time to write the post data into OutputStream
                            OutputStream out = connection.openOutputStream();
                            out.write(postData.getBytes());
                            out.flush();
                            out.close();

                            int responseCode = connection.getResponseCode(); //when this code is called, the post data request will be send to server, and after that we can read the response from the server if the response code is 200 (HTTP OK).
                            if(responseCode == HttpConnection.HTTP_OK){
                                //read the response from the server, if the response is ascii character, you can use this following code, otherwise, you must use array of byte instead of String
                                InputStream in = connection.openInputStream();
                                StringBuffer buf = new StringBuffer();
                                int read = -1;
                                while((read = in.read())!= -1)
                                    buf.append((char)read);
                                response = buf.toString();
                            }
                            Dialog.alert("response"+  response);

                            //don’t forget to close the connection
                            connection.close();

                        }catch(Exception e){
                            System.out.println(e.toString()+":"+e.getMessage());
                        }
                    } 
```

**更新：：**

```
import java.io.IOException;

import javax.microedition.io.HttpConnection;

import net.rim.device.api.ui.Field;
import net.rim.device.api.ui.FieldChangeListener;
import net.rim.device.api.ui.component.ButtonField;
import net.rim.device.api.ui.component.Dialog;
import net.rim.device.api.ui.container.MainScreen;

import org.ksoap2.SoapEnvelope;
import org.ksoap2.serialization.SoapObject;
import org.ksoap2.serialization.SoapPrimitive;
import org.ksoap2.serialization.SoapSerializationEnvelope;
import org.ksoap2.transport.HttpTransport;
import org.xmlpull.v1.XmlPullParserException;

public class UiMainscreen extends MainScreen {
    ButtonField loginButton;
     private static final String TAG_CONTACTS = "contacts";
     private static final String TAG_ID = "id";
     private static final String TAG_NAME = "name";
     private static final String TAG_EMAIL = "email";
     private static final String TAG_ADDRESS = "address";
     private static final String TAG_GENDER = "gender";
     private static final String TAG_PHONE = "phone";
     private static final String TAG_PHONE_MOBILE = "mobile";
     private static final String TAG_PHONE_HOME = "home";
     private static final String TAG_PHONE_OFFICE = "office";
    public UiMainscreen() {

        final ButtonField b=new ButtonField("JSON");
        add(b);

        FieldChangeListener listener=new FieldChangeListener() {
            public void fieldChanged(Field field, int context) {
                if(field==b){

                    try{    
                    String URL = "http://www.google.co.in/";
                    String METHOD_NAME = "search";
                    String NAMESPACE = "http://tempuri.org/";
                    String SOAP_ACTION = NAMESPACE+METHOD_NAME;

                   SoapObject resultRequestSOAP = null;
                   HttpConnection httpConn = null;
                   HttpTransport httpt;
                   SoapPrimitive response = null;
                   SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);
                   request.addProperty("q", "remoQte");
                   request.addProperty("ie", "UTF-8");
                   System.out.println("The request is=======" + request.toString());
                   SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
                   envelope.dotNet = true;
                   envelope.setOutputSoapObject(request);

                   httpt = new HttpTransport(URL);
                   httpt.debug = true;
                   try
                   {
                       httpt.call(SOAP_ACTION, envelope);
                       response = (SoapPrimitive) envelope.getResponse();
                       String result =  response.toString();
                       resultRequestSOAP = (SoapObject) envelope.bodyIn;
}
                   catch (IOException e) {
                       // TODO Auto-generated catch block
                       System.out.println("The exception is IO==" + e.getMessage());
                   } catch (XmlPullParserException e) {

                       // TODO Auto-generated catch block
                       System.out.println("The exception xml parser example==="
                               + e.getMessage());
                   }
                   System.out.println( resultRequestSOAP);
                   Dialog.alert("resultRequestSOAP"+resultRequestSOAP);
                    }catch (Exception e) {
                         System.out.println("Problem==="
                                   + e.getMessage());
                    }
            }}
        };
        b.setChangeListener(listener);

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:14:00.730

由于您想在连接中发布一些参数，因此以下内容可能会有所帮助。

```
String URL = "http://xxx.xxx.com/xxx/xxx.asmx";
String METHOD_NAME = yourMethodName;
String NAMESPACE = "http://tempuri.org/";
String SOAP_ACTION = NAMESPACE+METHOD_NAME;
SoapObject resultRequestSOAP = null;
HttpConnection httpConn = null;
HttpTransport httpt;
SoapPrimitive response = null;
SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);
request.addProperty("username", user_id);
request.addProperty("password", password);
System.out.println("The request is=======" + request.toString());
SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
envelope.dotNet = true;
envelope.setOutputSoapObject(request);
httpt = new HttpTransport(URL+C0NNECTION_EXTENSION);
httpt.debug = true;
try
{
    httpt.call(SOAP_ACTION, envelope);
    response = (SoapPrimitive) envelope.getResponse();
    String result =  response.toString();
    resultRequestSOAP = (SoapObject) envelope.bodyIn;
}
catch (IOException e) 
{
    System.out.println("The exception is IO==" + e.getMessage());
} 
catch (XmlPullParserException e) 
{
    System.out.println("The exception xml parser example==="
    + e.getMessage());
}
System.out.println( resultRequestSOAP);
return response + ""; 
```

这是将两个参数传递给 Web 服务；用户名和密码。您可以进行相应的修改。连接扩展是您指定连接类型的部分；BES、WIFI 等。如果是模拟器，您可以将其添加为`connectionString = ";deviceside=true"`. 这利用了您可以通过**Properties -> Java Build Path -> Library**添加到项目中的 Ksoap2 库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:52:54.507

"No established connection" means that device can't connect to server with selected transport. Please review this answer: [Unable to connect to internet in Blackberry device?](https://stackoverflow.com/questions/11770789/unable-to-connect-to-internet-in-blackberry-device/11772234#11772234)

After connection is established Sarah's post about passing parameters and data exchange should be helpful.

# iphone - 使用 MPMoviePlayerController 播放多个视频

> ID：11823683
> 
> 赞同：2
> 
> 时间：2012-08-06T06:52:04.470
> 
> 标签：iphone, objective-c

在我的应用程序中，我有多个视频，我希望当用户按下 MPMoviePlayerController 中的下一个或上一个按钮时，MPMoviePlayerController 应该是特定的歌曲。但问题是 MPMoviePlayerController 只有 SeekingForward 或 Backward 的通知。如何使用 MPMoviePlayerController 中的 FastForward 和 BackWard 按钮实现上一个和下一个功能。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:18:32.563

Apple 引入了名为**AVQueuePlayer**的新类，您可以一次播放多个视频，这个类值得使用，然后 MPMoviePlayerController 不支持播放多个电影。

**AVQueuePlayer**可从 IOS 4.1 及更高版本获得，它是 AVPlayer 的子类。如果你熟悉 AVPlayer

您可以通过调用更改当前正在运行的电影

```
[self.queuePlayer advanceToNextItem]; 
```

您可以在[此处查看示例代码](http://www.techpaa.com/2010/12/playing-movies-or-videos-in-queue-using.html)

[您可以从这里](http://www.sdkboy.com/tutorials/AVFoundation_Test4.zip)下载示例应用程序

**另一个想法（最坏的情况）。**

注册通知

```
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(moviePlayerPlaybackStateChanged:) name:MPMoviePlayerPlaybackStateDidChangeNotification object:nil]; 
```

并将此函数添加到您的对象中：

```
-(void)moviePlayerPlaybackStateChanged:(NSNotification *)notification {
    MPMoviePlayerController *moviePlayer = notification.object;
    MPMoviePlaybackState playbackState = moviePlayer.playbackState;
    // ...
} 
```

我怀疑你会发现你正在为这些按钮获得 MPMoviePlaybackStateSeekingForward 和 ...SeekingBackward 更新。

[在此处](https://stackoverflow.com/questions/3384435/how-do-i-catch-the-mpmovieplayer-next-button-click-event-while-in-fullscreen-mod)查看详细信息

并为 MPMoviePlayerController 设置相应的 URL，或者使用相应的 URL 再次初始化 MPMoviePlayerController。

# php - 从表单方法get替换一个url参数

> ID：11823686
> 
> 赞同：0
> 
> 时间：2012-08-06T06:52:15.473
> 
> 标签：php, forms, parameters, str-replace

一个 url 参数有一点问题。

我有一个使用方法 GET 的表单，因为我只是检索一些数据来获取结果列表。这些数据对任何人都不是秘密。简而言之，我可以在表格中输入屋顶上的一些测量值，这些数字将用于计算我必须购买的屋顶瓦片等。在表格中，我还可以输入要计算的额外屋顶瓦片的百分比，即额外 3%。结束输入并按下计算后，我将得到一个如下所示的 url：

```
index.php?page=matliste&width=8&length=12&angle-1=45&extra=3&zip=9000&tagfod=tagfod&finish_stone=dv&topsten=utop&angle=45&mainhouse=1&house=1&rooftype=uu&lang=dk&rooftiletype=1&rid=1&producent=h 
```

在这个我有3％的额外。但是当我返回表单并输入 fx 5% 时，它不会被更新。它只是插入一个新参数，所以它看起来像这样：

```
extra=5&extra=3 
```

如何删除现有参数并插入具有新编号的新参数？

我正在使用它从表单字段构建查询：

```
if($_GET["newpage"] == "matliste") {   
    $get_elements = array_filter($_GET, "strlen");        

    $url = http_build_query($get_elements);

    $search_pattern = array();
    $search_pattern[0] = "/([?&]newpage)=[^&]*/";
    $search_pattern[1] = "/([?&]next)=[^&]*/";
    $search_pattern[2] = "/angle_\d+/";

    $search_replacements = array();
    $search_replacements[0] = '';
    $search_replacements[1] = '';
    $search_replacements[2] = 'angle';

    $new_url = preg_replace($search_pattern, $search_replacements, $url);

    header("Location: index.php?page=". $_GET["newpage"] ."&".$new_url);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:56:11.460

无需做所有这些，只需将您拥有的值粘贴回表单中，让浏览器为您重新创建查询字符串。

# activerecord - Rails 3.2 - PgTools set_search_path 在辅助方法中不起作用

> ID：11823687
> 
> 赞同：0
> 
> 时间：2012-08-06T06:52:16.187
> 
> 标签：activerecord, ruby-on-rails-3.2, multi-tenant

# 2012 年 8 月 8 日更新

我已经缩小了问题的范围......

这条线有效

```
ActiveRecord::Base.connection.schema_search_path = ["11", "public"].join(",") 
```

但这条线没有

```
ActiveRecord::Base.connection.schema_search_path = [workspace.id.to_s, "public"].join(",") 
```

即使 workspace.id == 11

需要明确的是，“workspace.id”不会为循环的每次迭代更新。请注意，这只适用于 ActiveRecord::Base.connection.schema_search_path 命令

有任何想法吗？

# 原帖

为冗长的帖子道歉，但我真的被困住了。

# 背景

我正在使用 PostGreSQL 在 Rails 上开发一个多租户应用程序。租户通过 PG 模式分隔。我有一个由租户拥有的“工作区”的概念，并且在“公共”模式中有关联的记录。

每个单独的模式（工作区）都有一个“项目”表。

在每一页上，我想显示当前用户可以访问的工作区和项目的下拉列表。下拉列表的简化版本如下所示：

```
Workspace 1
- Project 1a
- Project 1b
Workspace 2
- Project 2a
- Project 2b
- Project 2c
...
...
Workspace 8
Project 8a 
```

我在 lib/PgTools.rb 中有以下方法

```
def self.current_search_path
  ActiveRecord::Base.connection.select_value "SHOW search_path"
end

def self.set_search_path(name, include_public = true)
  path_parts = [name.to_s, ("public" if include_public)].compact
  ActiveRecord::Base.connection.schema_search_path = path_parts.join(",")
end 
```

从 rails 控制台使用时，这些方法似乎可以正常工作。

# 问题

我在 application_helper.rb 中编写了一个辅助方法来创建下拉列表。我认为这是一个放置它的好地方，因为它必须显示在每一页上。在这个辅助方法中，我必须设置 PG 搜索路径（使用 PgTools.set_search_path），以便仅迭代来自适当工作区的项目。但是搜索路径似乎没有正确设置。

相关代码如下

```
current_user.workspaces.each do |workspace|

  html << '<li>' + workspace.name + "</li>"

  PgTools.set_search_path(workspace.id) unless Rails.env.test?
  html << '<li>Current search_path is ' + PgTools.current_search_path + '</li>'  <!-- DEBUG LINE
  Project.all.each do |project|

    html << "<li>"

    html << (link_to '- ' + project.name, edit_project_path(project.id))

    html << "</li>"
  end
end 
```

当我查看输出时，我得到以下信息：

```
Workspace 1
  Setting search_path to 10
  Current search_path is 10, public
  - Project 1a
Workspace 2
  Setting search_path to 15
  Current search_path is 10, public
  - Project 1a
Workspace 3
  Setting search_path to 14
  Current search_path is 10, public
  - Project 1a 
```

如您所见，搜索路径永远不会改变，我也不知道为什么。模块方法显然是可访问的，因为“current_search_path”方法工作正常。

当我跟踪 log/development.log 时，我得到以下输出：

```
Workspace Load (0.6ms)  SELECT "workspaces".* FROM "workspaces" INNER JOIN "workspace_memberships" ON "workspaces"."id" = wworkspace_memberships"."workspace_id" WHERE "workspace_memberships"."user_id" = 2 ORDER BY workspaces.name ASC
(0.1ms)  SHOW search_path
CACHE (0.0ms)  SELECT "projects".* FROM "projects"
CACHE (0.0ms)  SHOW search_path
CACHE (0.0ms)  SELECT "projects".* FROM "projects"
CACHE (0.0ms)  SHOW search_path
CACHE (0.0ms)  SELECT "projects".* FROM "projects"
CACHE (0.0ms)  SHOW search_path
CACHE (0.0ms)  SELECT "projects".* FROM "projects"
CACHE (0.0ms)  SHOW search_path
CACHE (0.0ms)  SELECT "projects".* FROM "projects"
CACHE (0.0ms)  SHOW search_path
CACHE (0.0ms)  SELECT "projects".* FROM "projects"
CACHE (0.0ms)  SHOW search_path
CACHE (0.0ms)  SELECT "projects".* FROM "projects"
CACHE (0.0ms)  SHOW search_path
CACHE (0.0ms)  SELECT "projects".* FROM "projects"
CACHE (0.0ms)  SHOW search_path 
```

这可能表明存在缓存问题，但我真的在这里盲目飞行，并且不喜欢禁用缓存的想法，因为我不知道可能产生的其他影响。

任何想法都非常受欢迎。我也愿意接受有关我以完全错误的方式来实现最终结果的建议。

干杯，

凯尔。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-17T22:21:50.277

那很有意思。这是来源：

```
 def schema_search_path=(schema_csv)
    if schema_csv
      execute("SET search_path TO #{schema_csv}", 'SCHEMA')
      @schema_search_path = schema_csv
    end
  end 
```

考虑到这两个陈述应该评估为完全相同的事情，这并不重要。您是否尝试在 id.to_s 周围加上括号？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-19T08:53:16.230

我认为您的问题是您的架构名称以数字开头。我有一个类似的问题，我使用哈希作为模式名称。这是解决方案：

```
ActiveRecord::Base.connection.schema_search_path = %{"#{workspace.id}", public} 
```

这`%{}`只是定义字符串的另一种方式，以便您可以在字符串本身中使用实际的引号。

我希望这会有所帮助：D

# mysql - 如何确保记录始终位于mysql中给定结果集中的顶部？

> ID：11823689
> 
> 赞同：8
> 
> 时间：2012-08-06T06:52:18.543
> 
> 标签：mysql, sql, sql-order-by

我有一个搜索查询，它根据输入参数产生一个结果集，并且可以根据不同的参数对结果进行排序（ASC/DESC）：价格、持续时间等（分页到位并且限制为 10 条记录）

我现在有一个要求，如果我有一个`id`传入，我希望将相应的记录粘贴在给定结果集中的顶部。

假设我们有一个这样的包表：

```
Package
 - id
 - name
 - mPrice
 - vPrice
 - duration

// Searching pkg based on Price (in DESC order) where name = Thailand
sqlQuery = 
"SELECT p.id, p.name, p.mPrice, p.vPrice FROM package p 
WHERE p.name = LOWER('Thailand') 
ORDER BY (p.mPrice + p.vPrice) DESC 
LIMIT 10" 
```

假设完整的结果集是 20 条 id 为 1 到 20 的记录。我现在需要返回 id 为 14 的记录以始终位于顶部。我想出了以下查询，但这不起作用：

```
sqlQuery = 
"SELECT p.id, p.name, p.mPrice, p.vPrice FROM package p 
WHERE p.name = LOWER('Thailand') or p.id = 14
ORDER BY CASE 
WHEN p.id=14 then 0 
else (p.mPrice + p.vPrice) 
end DESC 
LIMIT 10" 
```

我对为什么这不起作用的猜测：在 order by 子句之后，结果集按降序排序，然后被截断为 10 条记录。id=14 的记录可能不是此截断集的一部分。它是否正确 ？

如何让 id=14 的记录保持在顶部？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-08-06T07:14:48.393

```
ORDER BY (p.id=14) DESC, (p.mPrice=p.vPrice) DESC 
```

`p.id=14``1`如果条件为真，则返回，`0`否则，降序排序会将所需的行置于顶部。

从比较中返回一个数字是 MySQL 的一项功能，使用标准 SQL，您可以编写：

```
ORDER BY CASE WHEN (p.id=14) THEN 0 ELSE 1 END,
         CASE WHEN (p.mPrice=p.vPrice) THEN 0 ELSE 1 END 
```

* * *

我发现这比 更容易阅读`UNION`，而且性能可能更好。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-06T06:59:48.683

使用联合始终将您的包放在顶部：

```
SELECT id, name, mPrice, vPrice FROM package WHERE id = 14
UNION
SELECT p.id, p.name, p.mPrice, p.vPrice FROM package p 
WHERE p.name = LOWER('Thailand') or p.id = 14
ORDER BY (p.mPrice = p.vPrice) DESC
LIMIT 9 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T07:03:58.470

试试这个：

```
order by 
 case when p.id=14 then then (select MAX(mPrice)+1 from package ) else
(p.mPrice = p.vPrice)  end desc
LIMIT 10 
```

而不是 **(select MAX(p.mPrice)+1 from package )** 你可以给出一个常量值，它总是一个最大值，像这样

```
 order by 
 case when p.id=14 then then 1000000 else
(p.mPrice = p.vPrice)  end desc
LIMIT 10 
```

这会更有效

# project - 如何使 MKS Integrity 项目处于非活动状态？

> ID：11823690
> 
> 赞同：0
> 
> 时间：2012-08-06T06:52:24.877
> 
> 标签：project, version-control-migration, mks-integrity

如何使 mks 项目处于非活动状态，以便用户无法对其执行任何操作。

这是移动到另一个源代码控制系统的项目所必需的。

我们正在将一些项目移动到 svn 存储库，因此，我们不应允许用户不对已迁移的项目执行任何操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-10T06:21:24.307

我实施的解决方案是获取项目相关 ACL 的列表并获取组列表，从我已将所有用户移动到浏览器组的组中。浏览器组被配置为允许用户拥有只读权限。

# c# - 将登录值从 Iphone 发送到 C# REST 服务

> ID：11823691
> 
> 赞同：0
> 
> 时间：2012-08-06T06:52:27.090
> 
> 标签：c#, iphone, xcode, rest, httprequest

在我的应用程序中，我有 3 个值要发送到用 C#、用户名、密码和 Iphones UUID 编写的 REST 服务。如何轻松地将这 3 个值传输到 REST 服务并在方法（C#）中访问它们？然后在响应中我应该得到“登录成功”或“登录失败”。你应该知道我使用故事板和弧线。谁有一个简单易懂的例子？（我是 iPhone 编程的新手）如果有人可以帮助我，我会非常高兴。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T06:56:51.633

随着新的 MVC 4 出现了一些叫做[Web.API](http://www.asp.net/web-api)的东西。它非常适合创建 REST 服务。 [在这里](http://www.codeproject.com/Articles/344078/ASP-NET-WebAPI-Getting-Started-with-MVC4-and-WebAP)，您可以找到一些有关设置 Web.API 服务的基本分步教程。

# windows-phone-7 - 长时间显示 Windows Phone 启动画面

> ID：11823701
> 
> 赞同：2
> 
> 时间：2012-08-06T06:53:09.463
> 
> 标签：windows-phone-7, splash-screen

我只是想知道是否有一种方法可以将 Windows Phone 闪屏显示一段时间。现在的方式（默认）启动屏幕显示大约半秒钟，然后启动到应用程序中。所以它实际上只是一个闪光。

我知道对于用户体验来说，启动画面是毫无意义的，但是，规格是业务中的规格。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-06T07:17:43.827

在加载应用程序时会显示启动画面，因此时间取决于代码的复杂性。您可以使用您的启动画面创建一个 XAML 页面，将其设置为入口点，等待所需的时间，然后重定向到您的主页。

# jquery - 单击时显示和隐藏 div

> ID：11823705
> 
> 赞同：1
> 
> 时间：2012-08-06T06:53:24.860
> 
> 标签：jquery, cakephp, html

我的右栏中有两个 div，我想使用显示/隐藏锚标记一次显示一个，但我无法做到这一点，因为我正在使用 cakephp。请帮助我实现这一目标。

```
<html>
    <head>
        <script type="text/javascript">  
            document.getElementById('dsearch').style.visibility = 'hidden';
            $(document).ready(function () {
                $('#showhidetarget').hide();

                $('a#showhidetrigger').click(function () {
                    $('#showhidetarget').toggle(400);           
                });
            });     
         </script>    
    </head>        
    <body>
        <script src="/app/webroot/js/jquery-1.3.2.min.js" type="text/javascript"</script>
        <a id="showhidetrigger" href="/hawaii/tests/dsearch/">Detailed Search</a>
        <div id="showhidetarget"></div>
    </body>        
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T06:57:45.247

在调用之前尝试加载 jQuery`$document.ready()`

```
<script src="/app/webroot/js/jquery-1.3.2.min.js" type="text/javascript"></script>
<script type="text/javascript">
  $(document).ready(function () {      
  [...] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T06:59:26.670

我认为您应该将第一个脚本标签放在包含 jquery 的脚本标签之后。这样，jquery 将首先加载，然后是依赖于 jquery 的代码

```
<script src="/app/webroot/js/jquery-1.3.2.min.js" type="text/javascript"></script>
<script type="text/javascript">
    document.getElementById('dsearch').style.visibility = 'hidden';
    $(document).ready(function () {
        $('#showhidetarget').hide();

        $('a#showhidetrigger').click(function () {
        $('#showhidetarget').toggle(400);

        });
    });

    </script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T06:58:16.357

**[演示小提琴](http://jsfiddle.net/2B5jk/)**

我认为您的代码正在运行，您的 div 中没有任何内容。

# javascript - 如何使用 javascript 或 ajax 在其他按钮上使用 onclick 更改按钮的颜色

> ID：11823708
> 
> 赞同：0
> 
> 时间：2012-08-06T06:53:38.110
> 
> 标签：javascript, ajax

我想`g.php`通过单击上存在的按钮来更改页面上按钮的颜色`s.php`。`g.php`已被纳入`s.php`. 那么，有没有可能。如果您回答，我将非常感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:01:49.453

要更改 javascript 函数中按钮的颜色，请使用以下代码：

```
document.getElementById("button").style.background='#000000'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:02:57.947

尝试这个，

```
$("#button1id").click(function(){
   $("#button2id").css("color","red");
}) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:02:33.837

如果您将两个按钮都呈现在同一页面中，请为它们添加一些标识符，`<button id="btn1" /> <button id="btn2"/>`而不是使用例如 jQuery 框架并编写此代码`$(document).ready(function(){ $("#btn1").on("click",function(){ $("#btn2").css("background-color","yourcolor")}); });`

编辑：对不起，我的代码中有一个错误，我已将}) 更改为)}，无论如何这里是工作示例

[http://jsfiddle.net/t5YRT/](http://jsfiddle.net/t5YRT/)

# iphone - 如何在表格视图IOS的标题中添加图像和标题

> ID：11823713
> 
> 赞同：2
> 
> 时间：2012-08-06T06:54:15.237
> 
> 标签：iphone, objective-c, ios, xcode

在表格视图中，我创建了标题。

在 tableView 的标题中设置图像或标题的正确方法是什么？我需要做什么？

TIA

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-06T06:59:27.217

```
- (UIView *)tableView : (UITableView *)tableView viewForHeaderInSection : (NSInteger) section {

    UIImageView *imgVew = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"header"]];
    return imgVew;
} 
```

通过这个，您可以为 tableview 部分标题设置图像背景！

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-06T07:02:00.147

在方法中

```
- (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section 
```

您需要创建一个`UIView`并添加其他视图，例如`UIImageView`（用于图像）、`UILabel`（用于标题）并`UIView`最后返回。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-05T11:45:15.807

我使用了这段代码：

```
-(void)viewDidLoad
{
   [super viewDidLoad];
   self.tableView.tableHeaderView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"header"]];
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T07:45:35.773

请使用此代码：

```
- (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section {

   UIImage *myImage = [UIImage imageNamed:@"loginHeader.png"];
   UIImageView *imageView = [[[UIImageView alloc] initWithImage:myImage] autorelease];
   imageView.frame = CGRectMake(10,10,300,100);

   return imageView;

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-07-29T06:59:22.733

```
- (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section
{

    UIImage * image = [UIImage imageNamed:@"logo-big.png"];

    UIImageView * imgview = [[UIImageView alloc]initWithImage:image];

    imgview.frame = CGRectMake(0, 0, 200, 200);

    imgview.backgroundColor = [UIColor blackColor];
    return imgview;

} 
```

# sql - Oracle Forms 10g，多次插入和更新不起作用

> ID：11823717
> 
> 赞同：0
> 
> 时间：2012-08-06T06:54:46.580
> 
> 标签：sql, oracle, plsql, oracle10g, oracleforms

我有一个数据块（基于视图）的表格形式（显示 4 条记录）。

查询后，表单无法更新所有记录，但只能从 LOV 中选择第一条记录值。

我在插入和更新时调用了一个过程。

查询是这样的：

```
PACKAGE BODY MAPPING IS

PROCEDURE INSERT_ROW(EVENT_NAME IN VARCHAR2)
IS
BEGIN
IF (EVENT_NAME = 'ON-INSERT') THEN

INSERT INTO XX_REC_MAPPING
(BRANCH_CODE,COLLECTION_ID,PAY_MODE_ID,RECEIPT_METHOD,CREATED_BY,
CREATION_DATE,LAST_UPDATED_BY,LAST_UPDATE_DATE,LAST_UPDATE_LOGIN)
VALUES
( :XX_REC_MAPPING.OFFICE_CODE,
:XX_REC_MAPPING.COLLECTION_ID,
:XX_REC_MAPPING.PAY_MODE_ID,
:XX_REC_MAPPING.RECEIPT_METHOD,
:XX_REC_MAPPING.CREATED_BY,
:XX_REC_MAPPING.CREATION_DATE,
:XX_REC_MAPPING.LAST_UPDATED_BY,
:XX_REC_MAPPING.LAST_UPDATE_DATE,
:XX_REC_MAPPING.LAST_UPDATE_LOGIN); 

ELSIF (EVENT_NAME = 'ON-UPDATE') THEN 

UPDATE XX_REC_MAPPING
SET BRANCH_CODE=:XX_REC_MAPPING.OFFICE_CODE,
COLLECTION_ID=:XX_REC_MAPPING.COLLECTION_ID,
PAY_MODE_ID=:XX_REC_MAPPING.PAY_MODE_ID,
RECEIPT_METHOD=:XX_REC_MAPPING.RECEIPT_METHOD,
LAST_UPDATED_BY=:XX_REC_MAPPING.LAST_UPDATED_BY,
LAST_UPDATE_DATE=:XX_REC_MAPPING.LAST_UPDATE_DATE,
LAST_UPDATE_LOGIN=:XX_REC_MAPPING.LAST_UPDATE_LOGIN
WHERE ROWID=:XX_REC_MAPPING.ROW_ID;

END IF;

END INSERT_ROW;

END MAPPING; 
```

是否要查看表格还是应该使用其他触发器或循环？

请有人向我建议如何编辑此查询以进行多次更新？

谢谢

卫星33

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T11:07:46.040

托尼是对的。

您的块基于视图的行为就像块基于表一样。当编辑此块上的记录时，会发生几件事。:system.form_status 将从 QUERY 变为 CHANGED。每条被更改的记录都会将 :system.record_status 设置为 CHANGED。

因此，当提交表单时——Oracle 表单自动知道它必须做一些工作，因为 form_status 已更改。然后它开始处理块中的记录，循环遍历记录并处理每个记录状态为更改的记录。

如果您因为您的块基于视图而覆盖 ON-INSERT 和 ON-UPDATE（您似乎是），那么您需要做的就是剪切并粘贴您的语句 INSERT INTO XX_REC_MAPPING ... .. 进入块级的 ON-INSERT 触发器。这有效地覆盖了表单会触发的插入。

您也应该对更新执行相同的操作 - 只需将该语句剪切并粘贴到块级别的 ON-UPDATE 触发器中。

* * *

> FRM:40654 记录已被另一个用户重新查询以查看更改

发生此错误是由于在表单中触发了 LOCKING 机制。该块正在尝试使用 ROWID 锁定记录。如果您将块基于视图，则没有可用的 ROWID。

将块上的 KEY MODE 设置为不可更新应该可以解决此问题。

我还建议对 KEY MODE 属性进行一些阅读，因为这对于基于 JOINS 和 VIEWS 的块至关重要。

# android - LazyAdapter 出现 NullPointerException

> ID：11823720
> 
> 赞同：0
> 
> 时间：2012-08-06T06:55:04.063
> 
> 标签：android, android-listview

我正在尝试通过创建自定义过滤器对 LazyAdapter 类执行搜索。但是当我尝试使用 TextWatcher 执行搜索时，应用程序正在强制关闭。LazyAdapter 类的代码如下： package com.demo.directory; 公共类 LazyAdapter 扩展 BaseAdapter {

```
private Activity activity;
private ArrayList<HashMap<String, String>> data;
private static LayoutInflater inflater = null;
public ImageLoader imageLoader;

public LazyAdapter(Activity a, ArrayList<HashMap<String, String>> d) {
    activity = a;
    data = d;
    inflater = (LayoutInflater) activity
            .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    imageLoader = new ImageLoader(activity.getApplicationContext());
}

public View getFilter(CharSequence seq, View convertView) {

    String name_org;
    View vi = convertView;
    convertView = null;
    if (convertView == null)
        vi = inflater.inflate(R.layout.list_row, null);

    TextView name = (TextView) vi.findViewById(R.id.name_org); // title
    TextView address = (TextView) vi.findViewById(R.id.address_org); // artist
                                                                        // name
    ImageView thumb_image = (ImageView) vi.findViewById(R.id.list_image); // thumb
                                                                            // image

    for (int i = 0; i < data.size(); i++) {
        HashMap<String, String> org = new HashMap<String, String>();
        org = data.get(i);
        name_org = org.get(OrganizationActivity.KEY_NAME);

        if (name_org != null && seq != null) {
            if (name_org.contains(seq)) {
                name.setText(org.get(OrganizationActivity.KEY_NAME));
                address.setText(org.get(OrganizationActivity.KEY_CITY)
                        + ", " + org.get(OrganizationActivity.KEY_STATE));
                imageLoader.DisplayImage(
                        org.get(OrganizationActivity.KEY_IMAGE_URL),
                        thumb_image);
                notifyDataSetChanged();
            } else {
                org.remove(OrganizationActivity.KEY_NAME);
            }
        }
    }
    return vi;
}

public int getCount() {
    return data.size();
}

public Object getItem(int position) {
    return position;
}

public long getItemId(int position) {
    return position;
}

public View getView(int position, View convertView, ViewGroup parent) {
    View vi = convertView;
    if (convertView == null)
        vi = inflater.inflate(R.layout.list_row, null);

    TextView name = (TextView) vi.findViewById(R.id.name_org); // title
    TextView address = (TextView) vi.findViewById(R.id.address_org); // artist
                                                                        // name
    ImageView thumb_image = (ImageView) vi.findViewById(R.id.list_image); // thumb
                                                                            // image

    HashMap<String, String> org = new HashMap<String, String>();
    org = data.get(position);

    // Setting all values in listview
    name.setText(org.get(OrganizationActivity.KEY_NAME));
    address.setText(org.get(OrganizationActivity.KEY_CITY) + ", "
            + org.get(OrganizationActivity.KEY_STATE));
    imageLoader.DisplayImage(org.get(OrganizationActivity.KEY_IMAGE_URL),
            thumb_image);
    return vi;
}
} 
```

上面的代码现在可以工作了，但是如果我删除了搜索数据，它不会显示任何内容，即如果在搜索后清除了 EditText 数据，则不会返回 ListView 的原始数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:01:01.520

你确定你的`name_org`和`s`变量不为**空**？？？

你必须先检查它，比如，

```
if(name_org != null && s != null)
{
 if(name_org.contains(s))
 {
 // Your other stuff goes here...
 .
 .
 }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T10:16:52.737

要在清除搜索编辑文本后保留数据项，下面的代码很有用。希望这对您有所帮助。

```
public Filter getFilter() 
{
    Filter filter = new Filter() 
    {           
        @SuppressWarnings("unchecked")
        @Override
        protected void publishResults(CharSequence constraint, FilterResults results) 
        {
            System.out.println(" --- constraint in publishResults --- "+constraint+" - results - "+results);
            itemDetailList = (List<Dish>)results.values;
            notifyDataSetChanged();
        }

        @Override
        protected FilterResults performFiltering(CharSequence constraint) 
        {
            FilterResults filterResults = new FilterResults();
            List<Dish> filtered_list = new ArrayList<Dish>();
            if(originalItemsDetails == null)
            {
                System.out.println(" --- originalItemsDetails IS NULL --- ");
                originalItemsDetails = new ArrayList<Dish>(itemDetailList);
            }
            else
            {
                System.out.println(" --- originalItemsDetails NOT NULL --- ");
            }

            if(constraint == null || constraint.length() == 0) 
            {
                filterResults.count = originalItemsDetails.size();
                filterResults.values = originalItemsDetails;
            } 
            else 
            {
                constraint = constraint.toString().toLowerCase();
                for(int i=0; i<originalItemsDetails.size(); i++) 
                {
                    String dataNames = originalItemsDetails.get(i).getDishName().toLowerCase();
                    if(dataNames.startsWith(constraint.toString()))  
                    {
                        filtered_list.add(originalItemsDetails.get(i));
                    }
                }

                filterResults.count = filtered_list.size();
                System.out.println(" --- filterResults.count --- "+filterResults.count);

                filterResults.values = filtered_list;
                System.out.println(" --- filterResults.values --- "+filterResults.values);
            }

            System.out.println(" --- constraint in performFiltering --- "+constraint);

            return filterResults;
        }
    };

    return filter;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-07T09:14:19.797

您可以尝试创建一个自定义过滤器，一旦编辑文本中的数据变为空，它可以帮助再次显示数据。或者您可以为列表视图创建两个适配器，第一个包含列表视图的原始数据，第二个显示编辑文本搜索的搜索结果。一旦编辑文本中的数据变为空，请将 List Adapter 设置为初始值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T07:03:07.807

我认为 s 是空的，你检查过吗。因为 contains 方法会抛出 NPE，即使您传递的字符序列为 null

# actionscript-3 - 从 AS 中的按位运算符获取“uint”结果？

> ID：11823722
> 
> 赞同：2
> 
> 时间：2012-08-06T06:55:28.153
> 
> 标签：actionscript-3, bit-manipulation

我试图弄清楚如何将 RGB 转换为 ARGB 内联。如果我将结果放入 uint，它可以工作，但如果我尝试直接使用该值，它会将其视为一个 int，即使所有值都是 uint。我被额外的任务困住了吗？

```
var test:uint = 0xCCCCCC |  (0xFF << 24);
trace(test.toString(16));
//ffcccccc

var rgb:uint = 0xCCCCCC;
var alpha:uint = 0xFF;
trace((rgb | (alpha << 24)).toString(16))
//-333334 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:22:46.933

你试过了`uint((alpha << 24)).toString(16));`吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T15:24:35.967

那不会有帮助的。您只需将结果解释为 uint，但 AS 将移位执行为 int。

尝试这个

```
trace(2147483648 >> 1); // -1073741824

trace(uint(2147483648 >> 1)); // 3221225472 
```

您所需要的只是使用像这样的无符号按位移位运算符：

```
trace(2147483648 >>> 1); // 1073741824 
```

# c - 调试错误“Werror=unused-but-set-variable”

> ID：11823724
> 
> 赞同：4
> 
> 时间：2012-08-06T06:55:33.367
> 
> 标签：c, debugging, gcc

我在文件 xyz.c 中遇到错误错误：在函数“xyzz”变量“i”中设置但未使用 [-Werror=unused-but-set-variable] 并且在该特定行和列中，我发现 (void *)什么是错误，有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-22T09:35:26.583

您似乎已为变量 i 分配了一个值，但之后没有使用它。这通常不会产生错误，而是产生警告（取决于您如何设置警告标志），因为编译器假定您想对这个变量执行某些操作，但忘记了它。

将此作为警告的设置是 -Wunused-but-set-variable

但是，您似乎已将此设置为生成错误： -Werror=unused-but-set-variable

将（某些或全部）警告作为错误可能有助于更严格地测试您的代码。你确定要在这里吗？

有关更多选项，请参阅[http://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html](http://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html)。

# android - 如何显示本地文件.html

> ID：11823725
> 
> 赞同：1
> 
> 时间：2012-08-06T06:55:36.810
> 
> 标签：android, html, xml

使用 webView 显示 html 页面很容易。如下：

```
why = (WebView) findViewById(R.id.webView);
String htmlStr = "http://myhtml";
why.loadUrl(htmlStr); 
```

但我的困难是在本地显示一个带有 file.html 的 html 页面。我应该将我的 file.html 放在我的项目中的什么位置以及如何使用 WebView 调用？

谢谢你的回复，也很抱歉我的英语不好。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T06:57:54.460

将该`.html`文件放在项目的`assets`文件夹中并与以下代码一起使用 -

```
WebView wv = (WebView)findViewById(R.id.webview1);
wv.loadUrl("file:///android_asset/index.html");
wv.setWebViewClient(new WebViewClient() {
      @Override
      public boolean shouldOverrideUrlLoading(WebView view, String url)
      {
        view.loadUrl(url);
        return true;
      }
    }); 
```

# math - 在 Steinhaus-Johnson-Trotter 置换算法中输出交换列表的算法是什么？

> ID：11823733
> 
> 赞同：1
> 
> 时间：2012-08-06T06:56:38.873
> 
> 标签：math, permutation

根据[这个页面](http://en.wikipedia.org/wiki/Steinhaus%E2%80%93Johnson%E2%80%93Trotter_algorithm)，可以输出一个排列列表，其中每个新排列只是一个与先前排列不同的单个相邻交换。这是详尽的，它经历了所有的排列。

我很难从描述中理解算法。我想编写一个算法来输出每个排列之间所需的交换。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:48:38.790

由于决定下一个需要交换的元素是由排列的当前状态定义的，因此生成下一个交换并不比生成下一个排列容易。

如果我必须生成任何一个，我的目标是实现[Even 的 speedup](http://en.wikipedia.org/wiki/Steinhaus%E2%80%93Johnson%E2%80%93Trotter_algorithm#Even.27s_speedup)。那里描述的算法应该很容易翻译成大多数编程语言。然后，如果您愿意，您也可以输出排列并标记交换。下面的 Python 代码将做到这一点：

```
class Elt(object):
    def __init__(self, dir, name):
        self.dir = dir
        self.name = name

n = 6
p = [Elt(0 if i == 0 else -1, i + 1) for i in range(n)]
while(True):
    print(' '.join(str(i.name) for i in p))
    oldpos = None
    for i in range(n):
        if p[i].dir != 0 and (oldpos is None or p[oldpos].name < p[i].name):
            oldpos = i
    if oldpos is None:
        break
    mover = p[oldpos]
    newpos = oldpos + mover.dir
    p[oldpos] = p[newpos]
    p[newpos] = mover
    print(' '*(oldpos + newpos) + 'X')
    if mover.dir == -1 and (newpos == 0 or p[newpos - 1].name > mover.name):
        mover.dir = 0
    if mover.dir == 1 and (newpos == (n - 1) or p[newpos + 1].name > mover.name):
        mover.dir = 0
    for i in range(newpos):
        if p[i].name > mover.name:
            p[i].dir = 1
    for i in range(newpos, n):
        if p[i].name > mover.name:
            p[i].dir = -1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-12T08:34:50.973

可以在[此处找到此算法的简单解释以及 Java 代码](http://programminggeeks.com/java-code-for-permutation-using-steinhaus%E2%80%93johnson%E2%80%93trotter-algorithm/)

# webgl - 需要 WebGL 中的 glBlendEquationEXT 支持吗？

> ID：11823742
> 
> 赞同：1
> 
> 时间：2012-08-06T06:57:13.373
> 
> 标签：webgl, three.js

WebGL 支持 ADD、SUBTRACT 和 REVERSE_SUBTRACT。链接：[http ://www.khronos.org/opengles/sdk/docs/man/xhtml/glBlendEquation.xml](http://www.khronos.org/opengles/sdk/docs/man/xhtml/glBlendEquation.xml)

我也需要在 WebGL 中支持 MAX 和 MIN。想法链接： http: [//leri.univ-reims.fr/~bittar/cours/OpenGL/opengl/glBlendEquationEXT.html](http://leri.univ-reims.fr/~bittar/cours/OpenGL/opengl/glBlendEquationEXT.html)

有什么解决方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T08:19:27.913

您可以使用着色器进行自定义混合。这样做的基本方法是：

1.  将场景（没有要混合的几何体）渲染为纹理
2.  将纹理渲染到屏幕上
3.  使用将屏幕纹理作为输入并执行自定义混合的着色器渲染“混合”几何。

有关着色器中可能的混合模式列表，请参阅：

[http://devmaster.net/posts/shader-effects-blend-modes](http://devmaster.net/posts/shader-effects-blend-modes)

# xslt - 如何忽略 XSL 中的 xml 命名空间？

> ID：11823743
> 
> 赞同：4
> 
> 时间：2012-08-06T06:57:15.640
> 
> 标签：xslt, xslt-2.0

我有一个包含空的 xml`xmlns:tag0=''`有没有一种方法可以完全忽略名称空间或为其添加一些默认值？因为它正在阻止我的 xml 使用 xsl 转换打开。它说`Reference to undeclared namespace prefix: 'tag0'.`

或者有什么方法可以在一开始就`xmlns:tag0=''`替换吗？`xmlns:tag0='http://www.w3.org/TR/html4/`

xml 的某些部分会产生问题（xml 大约 2MB）

```
<nodemetadata><imx:IMX versiondomainservice='2.4.1' versioncommon='2.2.0' serializationSpecVersion='4.0' xsi:schemaLocation='http://com.abc.imx IMX.xsd http://com.abc.aspd.metadata.domainservice/2 com.abc.aspd.metadata.domainservice.xsd http://com.abc.aspd.metadata.common/2 com.abc.aspd.metadata.common.xsd' crcEnabled='0' xmlns:imx='http://com.abc.imx' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'><tag0:GatewayNodeConfig adminconsolePort='10073' nodeName='node01_rox.abc.com' imx:id='U:qywCXNr7EeG7SZfVCvSloA' domainName='Domain_rox.abc.com' dbConnectivity='ID_1' adminconsoleShutdownPort='10074' xmlns:tag0='http://com.abc.aspd.metadata.domainservice/2'><tag1:address port='10071' xsi:type='common:NodeAddress' host='rox.abc.com' httpPort='8080' imx:id='ID_2' xmlns:tag1=''></tag1:address><portals><tag1:NodeRef xsi:type='common:NodeRef' address='ID_2' nodeName='node01_rox.abc.com' imx:id='ID_3' xmlns:tag1=''></tag1:NodeRef></portals></tag0:GatewayNodeConfig><tag0:DBConnectivity imx:id='ID_1' dbConnectString='jdbc:abc:oracle:%2F%2FforKnight:1521%3BServiceName%3Dorcl%3BMaxPooledStatements%3D20%3BCatalogOptions%3D0%3BBatchPerformanceWorkaround%3Dtrue' dbType='ORACLE' dbEncryptedPassword='I7e20Erjax0wi7fY3qOaIxIBloTOBwLymgjvVVbkVcE%3D' dbUsername='lap1' xmlns:tag0='http://com.abc.aspd.metadata.domainservice/2'></tag0:DBConnectivity></imx:IMX></nodemetadata> 
```

**更新** 我的 XSL 代码

```
<?xml version='1.0'?>
<xsl:stylesheet version="1.0" 
    xmlns:tag0="http://www.w3.org/TR/html4/"
    xmlns:tag1="http://www.w3.org/TR/html4/"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:imx="http://com.abc.imx" 
    xmlns:domainservice="http://com.abc.aspd.metadata.domainservice/2"
    exclude-result-prefixes="tag0 tag1">

<xsl:include href="system_win.xsl"/>
<xsl:include href="system_nix.xsl"/>

<xsl:template match="/">
<html>
<head><link rel="stylesheet" type="text/css" href="http://www.abc.com/NR/inter2004/css/styles.css"/>
<style type="text/css">
.horz{overflow-x: auto; overflow-y: hidden;width: 98%;}
</style>
</head>
<body>
    <xsl:variable name="smallcase" select="'abcdefghijklmnopqrstuvwxyz'" />
    <xsl:variable name="uppercase" select="'ABCDEFGHIJKLMNOPQRSTUVWXYZ'" />
    <xsl:for-each select="client/product">

        <h3><span style="color:#328aa4"><a name="_nodemetadata" href="#_top">Node MetaData</a></span></h3>
        <h3>Gateway Node Configuration</h3>
        <br/>
        <dd>
        <div class="horz">
            <table border="1">
                <tbody>
                <tr>
                    <th>Domain Name</th>
                    <th>Node Name</th>
                    <th>Adminconsole Port</th>
                    <th>Adminconsole Shutdown Port</th>
                    <th>DB Connectivity</th>
                </tr>
                <xsl:for-each select="nodemetadata/imx:IMX/tag0:GatewayNodeConfig">
                    <tr>
                        <td valign="top" ><xsl:value-of select="@domainName"/></td>
                        <td valign="top" ><xsl:value-of select="@nodeName"/></td>
                        <td valign="top" ><xsl:value-of select="@adminconsolePort"/></td>
                        <td valign="top" ><xsl:value-of select="@adminconsoleShutdownPort"/></td>
                        <td valign="top" ><xsl:value-of select="@dbConnectivity"/></td>
                    </tr>
                </xsl:for-each>
                </tbody>
            </table>
        </div>
        </dd>
        <br/>
    </xsl:for-each>

</body>
</html>
</xsl:template>
</xsl:stylesheet> 
```

它给了我**XML Parsing Error: must not undeclare prefix** on **tag0**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T14:21:14.580

修复输入 XML 后，以下 XSLT 1.0 样式表将按要求工作：

另见[http://www.xmlplayground.com/XyNCuA](http://www.xmlplayground.com/XyNCuA)

```
<xsl:stylesheet 
  version="1.0" 
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:imx="http://com.abc.imx" 
  xmlns:domainservice="http://com.abc.aspd.metadata.domainservice/2"
  exclude-result-prefixes="imx domainservice"
>
  <xsl:output method="html" />

  <xsl:variable name="smallcase" select="'abcdefghijklmnopqrstuvwxyz'" />
  <xsl:variable name="uppercase" select="'ABCDEFGHIJKLMNOPQRSTUVWXYZ'" />

  <xsl:template match="/">
    <html>
    <head>
      <link rel="stylesheet" type="text/css" href="http://www.abc.com/NR/inter2004/css/styles.css"/>
      <style type="text/css">
        .horz{overflow-x: auto; overflow-y: hidden;width: 98%;}
      </style>
    </head>
    <body>
      <p>(see output source)</p>
      <xsl:apply-templates select="client/product/nodemetadata" />
    </body>
    </html>
  </xsl:template>

  <xsl:template match="nodemetadata">
    <h3><span style="color:#328aa4"><a name="_nodemetadata" href="#_top">Node MetaData</a></span></h3>
    <xsl:apply-templates select=".//domainservice:GatewayNodeConfig" />
  </xsl:template>

  <xsl:template match="domainservice:GatewayNodeConfig">
    <h3>Gateway Node Configuration</h3>
    <dd>
       <div class="horz">
         <table border="1">
           <thead>
             <tr>
               <th>Domain Name</th>
               <th>Node Name</th>
               <th>Adminconsole Port</th>
               <th>Adminconsole Shutdown Port</th>
               <th>DB Connectivity</th>
             </tr>
           </thead>
           <tbody>
             <tr>
               <td valign="top" ><xsl:value-of select="@domainName"/></td>
               <td valign="top" ><xsl:value-of select="@nodeName"/></td>
               <td valign="top" ><xsl:value-of select="@adminconsolePort"/></td>
               <td valign="top" ><xsl:value-of select="@adminconsoleShutdownPort"/></td>
               <td valign="top" ><xsl:value-of select="@dbConnectivity"/></td>
             </tr>
           </tbody>
         </table>
       </div>
     </dd>
     <br/>
   </xsl:template>
</xsl:stylesheet> 
```

输出：

```
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="http://www.abc.com/NR/inter2004/css/styles.css">
<style type="text/css">
        .horz{overflow-x: auto; overflow-y: hidden;width: 98%;}
      </style>
</head>
<body>
<p>(see output source)</p>
<h3><span style="color:#328aa4"><a name="_nodemetadata" href="#_top">Node MetaData</a></span></h3>
<h3>Gateway Node Configuration</h3>
<dd><div class="horz"><table border="1">
<thead><tr>
<th>Domain Name</th>
<th>Node Name</th>
<th>Adminconsole Port</th>
<th>Adminconsole Shutdown Port</th>
<th>DB Connectivity</th>
</tr></thead>
<tbody><tr>
<td valign="top">Domain_rox.abc.com</td>
<td valign="top">node01_rox.abc.com</td>
<td valign="top">10073</td>
<td valign="top">10074</td>
<td valign="top">ID_1</td>
</tr></tbody>
</table></div></dd>
<br>
</body>
</html> 
```

# java - 我应该使用 java 中的哪个集合进行排序以获得更高的性能？

> ID：11823744
> 
> 赞同：0
> 
> 时间：2012-08-06T06:57:20.257
> 
> 标签：java, sorting, collections

对于用例，我有 1000 万个字段（将每个字段视为随机数），其中字段不是唯一的（存在重复项）。我需要按升序对数据进行排序

这些集合中的哪一个会给排序后的输出提供更好的性能？
或者也许是别的什么？

1.  排序集
2.  向量
3.  数组排序
4.  集合排序

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:04:05.833

您需要自己编写一些测试代码。

编写一些代码来填充 1000 万个字段的列表，然后使用上述每个项目来找出哪种方法最快。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:03:44.860

集合不允许重复，因此（除非您有具有不同键的*相同*项目）它们是不可能的。

另外，根据您的意思，*请考虑 1000 万个随机数*（我假设您的意思是很多值），您可能会考虑使用数据库引擎来实现这一壮举。（这样的[HSQL](http://hsqldb.org/)可以解决问题）。

处理所有这些数字可能会让您处理内存问题（可以通过使用[外部排序](http://en.wikipedia.org/wiki/External_sorting)技术来处理）。但我认为在这种情况下，使用数据库引擎应该会给您带来最大的收益。

# sql-server - Sql 查询 OrderBy 问题

> ID：11823745
> 
> 赞同：0
> 
> 时间：2012-08-06T06:57:24.270
> 
> 标签：sql-server

当我尝试运行以下查询时

```
DECLARE @QUERY1 VARCHAR(MAX)
SET @QUERY1=(SELECT [ResponsibleEngineerID],[ResponsibleEngineer],DocType
FROM tblResponsibleEngineer 
WHERE ResponsibleEngineer NOT IN ('(Select a Responsible Engineer...)')
ORDER BY [ResponsibleEngineer] ASC
)
EXEC(@QUERY1) 
```

我得到了错误

> ORDER BY 子句在视图、内联函数、派生表、子查询和公用表表达式中无效，除非还指定了 TOP 或 FOR XML。

为什么会出现这个错误？我需要完全按照上述格式编写sql查询。比如将查询分配给一个变量，然后执行

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:02:59.627

尝试这个：

```
 DECLARE @QUERY1 VARCHAR(MAX)

    SET @QUERY1='SELECT [ResponsibleEngineerID],[ResponsibleEngineer],DocType
    FROM tblResponsibleEngineer 
    WHERE REPLACE(Responsible Engineer,'''','''''') NOT IN (Select a REPLACE(Responsible   Engineer,'''','''''')...)
    ORDER BY [ResponsibleEngineer] ASC'

    EXEC(@QUERY1) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:03:43.000

您将查询*结果*分配给@QUERY1，而不是实际的查询文本。

据我了解，这就是您想要的；

```
DECLARE @QUERY1 VARCHAR(MAX)

SET @QUERY1='SELECT [ResponsibleEngineerID],[ResponsibleEngineer],DocType
FROM tblResponsibleEngineer 
WHERE ResponsibleEngineer NOT IN (Select a Responsible Engineer...)
ORDER BY [ResponsibleEngineer] ASC'

EXEC(@QUERY1) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:04:46.160

您没有将查询分配给变量然后执行它 - 您正在执行查询并尝试将该查询的*结果*分配给变量。

如果您的查询不包含子查询的非法表达式，您将收到有关子查询返回多个列的错误。

声明变量：

```
DECLARE @QUERY1 VARCHAR(MAX) 
```

将查询结果分配给变量：

```
SET @QUERY1=(SELECT [ResponsibleEngineerID],[ResponsibleEngineer],DocType
FROM tblResponsibleEngineer 
WHERE ResponsibleEngineer NOT IN ('(Select a Responsible Engineer...)')
ORDER BY [ResponsibleEngineer] ASC
) 
```

您可能的意图是：

```
DECLARE @QUERY1 VARCHAR(MAX)

SET @QUERY1='SELECT [ResponsibleEngineerID],[ResponsibleEngineer],DocType
FROM tblResponsibleEngineer 
WHERE ResponsibleEngineer NOT IN (''(Select a Responsible Engineer...)'')
ORDER BY [ResponsibleEngineer] ASC'

EXEC(@QUERY1) 
```

（请注意，我现在将字符串中的引号加倍了）

# java - 从 index.html 重定向时，重定向应该是另一个 HTML 还是一个 JSP 页面？

> ID：11823747
> 
> 赞同：2
> 
> 时间：2012-08-06T06:57:28.730
> 
> 标签：java, html, jsp, web-applications

我有一个基本的 index.html 页面：

![在此处输入图像描述](../Images/5ff7f4f5b05670a7b01fd18c255bda4d.png)

而不是那个，我想放一个简单`Login`的，用户输入`username`和`password`，然后才将用户重定向到具有多个选项的页面。

当我从 重定向用户时`index.html`，我应该重定向到另一个 HTML 页面还是 JSP 页面？有什么区别吗？

问候

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T07:23:15.880

您可以重定向到 HTML 页面或 JSP 页面。

但我注意到您愿意拥有一个登录页面。最好使用类似`j_security_check`or的东西`Spring Security`。[你可以在这里](http://www.mkyong.com/tutorials/spring-security-tutorials)看到一些教程。它让您轻松实现目标。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T07:03:21.503

这取决于您的页面要求和内容，如果您有任何需要从服务器端呈现的内容，那么您将不得不使用 .JSP 扩展名。如果您的页面上只有静态内容和简单的表单提交，那么使用简单的 html 页面将是一个好习惯，因为它将为您节省服务器端的页面呈现...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T06:59:43.883

> 当我从 index.html 重定向用户时，我应该重定向到另一个 HTML 页面还是 JSP 页面？有什么区别吗？

重定向只是向客户端发送一个标头，说明对指定的 URL 进行新的 GET，因此现在您可以查看是否将其重定向到 jsp 页面，它将使用指定的 URL 将响应标头发送到客户端

# java - 如何在 java 中使用 File.mkdirs() 编写优雅的代码？

> ID：11823748
> 
> 赞同：4
> 
> 时间：2012-08-06T06:57:34.113
> 
> 标签：java, file, io, mkdirs

我需要一个目录来保存文件，但我不确定它是否存在。
所以我需要先检查它是否存在，并在必要时创建它。

```
File saveDir = new File("/tmp/appname/savedir/");
if(!saveDir.exists()){
    saveDir.mkdirs(); 
} 
```

如上所述，有一个问题。
方法“saveDir.exists()”返回一个布尔值，指示文件路径是否存在。

当然，我可以编写一些冗余和丑陋的代码来工作。

有没有办法编写一些优雅的代码来实现这个目标？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-06T07:26:19.007

您是关于“冗余”检查目录存在代码的问题，还是您需要创建一个目录和所有缺少的父目录？

我相信两者都可以通过在 Apache Commons IO 中使用 FileUtils 轻松完成：

```
FileUtils.forceMkDir(new File("/some/missing/parent/directory/foo")); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-04T19:25:19.823

总有

```
if(!file.exists() && !file.mkDirs()) { // handle the failed to create situation... } 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-06T07:01:54.633

优雅是一个主观的东西，但如果你想检查目录是否真的被创建，还要检查[`File.mkdirs()`](http://docs.oracle.com/javase/1.4.2/docs/api/java/io/File.html#mkdirs%28%29). 如果它返回`false`它取决于您的应用程序如何处理它（例如抛出异常）。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-08-06T09:16:24.267

预测试没有意义。它只是引入了一个时间窗口，在此期间实际状态仍然可以改变，所以你仍然可能是错误的。只需调用`mkdirs()`并测试它返回的结果。如果为假，则什么也不做；如果是真的，它做了一些事情。*它究竟*做了什么实际上并没有什么实际意义。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-08-06T07:17:19.717

我将在实用程序类中创建一个静态方法，该方法保存文件*并同时*自动创建所有必要的目录。*实用程序方法中*的代码可能有点冗长，但这样一来，您就可以将那些丑陋、冗长的代码*排除*在高级应用程序逻辑之外。在未来的项目中，您始终可以重用该实用程序。将此代码拆分为实用程序方法后，也可以轻松进行单独测试。

我建议您尝试从构建实用程序的角度进行思考，然后使用这些实用程序构建实际的应用程序，而不是在任何地方混合详细的低级代码。您编写的实用程序可能对以后的项目有用，但这不是主要目标：即使您只在一个项目上使用实用程序方法，*即使*它只是从更高级别代码中的*一个*地方调用，它*仍然*是如果它有助于使更高级别的代码更清晰，那是值得的。我不记得是哪本书帮助我了解了这个概念。它可能是Kernighan 和 Pike*的 The Practice of Programming ，或 Raymond**的 The Art of UNIX Programming*，或*On Lisp*格雷厄姆——或者可能是三者。（当然，了解您的语言的标准库也很重要，因此您不要开始编写已经为您编写的实用程序。）

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-08-06T07:08:08.927

正如@stephan 在他的[回答中提到的](https://stackoverflow.com/a/11823798/492561)

> 优雅更多是主观的东西

但既然你要求

```
import java.io.File;

public class FileBuilder {
    File file;

    public FileBuilder(String path) {
        file = new File(path);
    }

    public FileBuilder createIfDirDoesNotExists() {
        if (!file.exists()) {
            file.mkdirs();
        }
        return this;
    }

    public File getFile() {
        return file;
    }
} 
```

那么你可以做

```
class test {
    public test() {
        File file = new FileBuilder("/tmp/appname/savedir/").createIfDirDoesNotExists().getFile();
    }
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-09T06:39:26.853

```
 File dir = new File(dirPath);
 if(!dir.exists())
     if(!dir.mkdirs()) {//throw or handle exception here.} 
```

您仍然需要抛出或处理在 File.mkdirs() 期间可能抛出的 SecurityException

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2013-04-04T19:34:03.357

file.exists() 将返回目录或文件是否存在。您还可以使用 isDirectory() 检查文件路径是否为目录

```
if (file.isDirectory()){
      //do somethign because this directory already exists
}
else if (file.isFile()){
      //do somethign because this file already exists
}
else {
     boolean created = file.mkdirs();
     if (!created) {
        throw new IOException("Cannot create directory " + file);
     }
} 
```

至于这有多优雅……我会亲自将它包装在一个 util 方法中，以隐藏一些额外的 java 让你写的东西

# asp.net-mvc - 实体框架代码首先不可用

> ID：11823749
> 
> 赞同：0
> 
> 时间：2012-08-06T06:57:37.000
> 
> 标签：asp.net-mvc, entity-framework

我是 MVC 的新手。我创建了示例项目。我正在尝试使用带有脚手架选项的模板添加控制器。它首先显示实体框架代码不可用。

请指导我解决此问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T14:18:31.133

这是你得到的错误吗？

![在此处输入图像描述](../Images/0265ada6c79a716270cfd72e0ec4d09c.png)

你的模型在同一个项目中吗？如果是这样，清理和构建应该可以解决问题并允许您为控制器搭建脚手架。

如果没有，你能发布更多关于你得到什么的细节吗？也许是您遇到问题的屏幕截图？

# c - C 程序 - 单处理器系统上的输出？

> ID：11823759
> 
> 赞同：0
> 
> 时间：2012-08-06T06:58:49.603
> 
> 标签：c, multithreading, synchronization

在嵌入式系统中，由于各种正当原因，趋势仍未完全转向多核处理器。

因此，对于单处理器系统，使用各种机制和多线程特性来理解同步行为仍然很重要。此外，每当我面临面试时，他们都会问我有关单处理器系统上特定 C 程序行为的问题。

那么，如果我想分析单处理器系统上的示例 C 程序，以检查它们在家中的行为，我该怎么做呢？我家里的 CPU 有一个 Core i3 处理器。有没有办法让我的操作系统或编译器只考虑一个 CPU 来强制检查行为？

**例子：**

```
int x=0; 
```

**片段 1**

```
 while(x);
    x++; 
```

**片段 2**

```
 while(!x);
    x--; 
```

考虑到一个单处理器系统，我想检查一个 C 程序的行为，其中

*   片段 1 和片段 2 在多个线程中
*   片段 1 在主程序中，片段 2 在 ISR 中
*   Snippet1 和 Snippet2 都在两个不同的 ISR 中（考虑优先级捕获中断，并且在 ISR 内部时，如果有更高优先级的新中断，则立即执行具有最高优先级的中断 - 例如：重置）

在上述问题中，我的主要目标是确定是否会出现死锁，如果存在，需要确定解决方案。请提出你的想法。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:59:05.097

您可以根据需要使用“maxcpus”内核参数集简单地启动您的 linux。它指定 SMP Linux 内核应使用的最大处理器数。例如 maxcpus=1。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:36:01.850

我建议您通过在 i3 中仅启用一个内核来编译新内核来创建单处理器系统。（显然性能会降低。）

按照以下链接中的步骤操作，

[http://www.cyberciti.biz/tips/compiling-linux-kernel-26.html](http://www.cyberciti.biz/tips/compiling-linux-kernel-26.html)

配置时，

转到**处理器类型和功能**-->

取消选中**Symmetric Multiprocessing Support**。

并研究创建单处理器系统的指令。

![在此处输入图像描述](../Images/ec35a158fab8f742c93714a140f004fd.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T13:03:18.633

单处理器和多处理器系统仅在您的程序已经无效的那些领域有所不同（根据标准“导致未定义的行为”）。

您的示例程序修改了 ISR 中的共享变量，而不使用`volatile`修饰符，也没有防范其他 ISR 的并发执行。

前者的效果是编译器可以在假设`x`不能更改的情况下优化代码：

```
while(x);
x++; 
```

预计将编译为执行以下步骤的汇编程序指令：

```
loop:
    read x into register0
    test register0 != 0
    if true => goto loop
    increment register0
    write register0 to x 
```

在优化过程中，编译器看到`x`is not `volatile`，并将内存访问移到循环之外：

```
 read x into register0
loop:
    test register0 != 0
    if true => goto loop
    increment register0
    write register0 to x 
```

随后，它看到`register0`在循环执行期间从未修改过，因此测试也可以移出循环：

```
 read x into register0
    test register0 != 0
loop:
    if true => goto loop
    increment register0
    write register0 to x 
```

然后一些编译器会采取额外的步骤并反转测试以便能够在循环内使用更便宜的指令

```
 read x into register0
    test register0 != 0
    if false => goto skip
loop:
    goto loop
skip:
    increment register0
    write register0 to x 
```

显然，这不是你想要的。

另一个问题是，由于 IRQ 优先级，ISR 可能会或可能不会相互中断，并且在多处理器系统中，多个 ISR 可能同时在不同的处理器上运行。

假设代码正确使用`volatile`，您可以通过假设任意两条指令之间可以发生更高优先级的中断和任务调度来从理论上验证行为；您的代码段的汇编器伪代码是

```
 push register0
loop:
    load x into register0
    test register0 != 0
    if true => goto loop
    write 1 to x            // can you see what I did there?
    pop register0 
```

和

```
 push register0
loop:
    load x into register0
    test register0 == 0
    if true => goto loop
    decrement register0
    write register0 to x
    pop register0 
```

一个可能的星座是

```
CPU1    push register0
CPU2    push register0
CPU1    load x into register0 [value = 0]
CPU2    load x into register0 [value = 0]
CPU1    test register0 != 0 [false]
CPU2    test register0 == 0 [true]
CPU1    if true => goto loop [not taken]
CPU2    if true => goto loop [taken]
CPU1    increment register0 [value = 1]
CPU2    read x into register0 [value = 0]
CPU1    write register0 to x [value = 1]
CPU2    test register0 == 0 [true]
CPU1    pop register0
CPU2    if true => goto loop [taken]
CPU1    ...
CPU2    read x into register0 [value = 1]
CPU1    ...
CPU2    test register0 == 0 [false]
CPU1    ...
CPU2    if true => goto loop [not taken]
CPU1    ...
CPU2    decrement register0 [value = 0]
CPU1    ...
CPU2    write register0 to x [value = 0]
CPU1    ...
CPU2    pop register0 
```

理论上解决这个问题的常用方法是识别持有某些假设的指令范围，然后寻找这些假设在面对并发执行时可能是错误的方式：

```
 // precondition: address at stack pointer is unused
    // precondition: decrementing the stack pointer will not bring us to a used address
    push register0
    // postcondition: address at stack pointer is unused
    // postcondition: register0 is unused 
```

为了满足这些条件，系统范围的约定是当前堆栈指针下方的所有内存都未使用。这样，ISR 始终可以假定允许将数据推送到堆栈。请注意，写入数据和递减堆栈指针是一个原子操作。如果另一个中断到达这里，它的数据也将被压入堆栈，但使用不同的地址。

```
loop:
    // precondition: register0 is unused
    read x into register0
    // begin assumption: register0 contains a copy of x 
```

我想你可以看到这是怎么回事。如果我们从这里开始被打断，并且值发生`x`变化，那么这个假设将是错误的。

```
 test register0 != 0
    // postcondition: processor status contains result of (register0 != 0)

    if true => goto loop
    // postcondition[true]: register0 != 0
    // postcondition[false]: register0 == 0 
```

这就是我们已经证明退出循环的唯一方法是 when `register0 == 0`。因此：

```
 increment register0
    write register0 to x
    // end assumption: register0 contains a copy of x 
```

可以扩充为

```
 // precondition: register0 is 0
    increment register0
    // postcondition: register0 is 1

    // precondition: register0 is 1
    write register0 to x
    // end assumption: register0 contains a copy of x 
```

然后可以简化为

```
 // precondition: register0 is 0
    // modified assumption: register0 contains a copy of x, minus one
    // due to precondition, x needs to be written as 1
    write 1 to x
    // end assumption: register0 contains a copy of x, minus one 
```

最后一条指令不使用 register0，因此“结束假设”语句可以向上移动，在现在消除的`increment`操作之前：

```
 // end assumption: register0 contains a copy of x
    // precondition: register0 is 0
    write 1 to x 
```

前提条件很容易从循环中证明

```
 // precondition: stack pointer points at address below where we placed the saved copy
    // precondition: memory below the stack pointer is unused
    pop register0
    // postcondition: stack pointer points at unused memory
    // postcondition: stack pointer points at the same address as before the push
    // postcondition: register0 is restored 
```

因此，您需要处理违反假设的情况，即在`x`我们读取它的时间和写回新值之间的值被修改的任何情况，以及您的条件从未满足的情况因为无法调用可能导致它的代码。

这两种情况都可能发生在单处理器和多处理器设计上。不同之处在于多处理器具有隐藏一些错误的附加故障模式。

单处理器的故障模式是

*   ISR1 读取
*   ISR2 读取（ISR2 具有更高的优先级）
*   ISR2 写入
*   ISR1 写入

和

*   ISR2 进入繁忙循环，等待条件改变
*   ISR1 被阻止，因为 ISR2（更高优先级）处于活动状态

案例1相当于

*   主循环读取
*   ISR 读取
*   ISR 写入
*   主循环写入

和

*   线程 1 读取
*   线程 2 读取
*   线程 2 写入
*   线程 1 写入

情况2相当于

*   ISR 进入繁忙循环，等待条件改变
*   主循环被阻塞，因为 ISR 处于活动状态

在多线程的情况下没有死锁，因为线程不会互相阻塞。

对于多处理器（和多线程情况，而不是死锁），还有一个额外的故障模式：

*   ISR1 读取
*   ISR2 读取
*   ISR1 写入
*   ISR2 写入

主循环不会发生这种情况（因为 IRQ 始终具有优先级并阻塞主循环），但会发生在多个线程中：

*   线程 1 读取
*   线程 2 读取
*   线程 1 写入
*   线程 2 写入

对于所有这些情况，解决方案是确保在需要保留包含副本的假设的*关键部分*期间其他所有人都被锁定，或者在事后检测到错误并进行适当处理。`register0``x`

这两者实际上是等价的——你需要一个原子指令，它既可以给你变量的当前状态，又可以一次性写入新状态（或者，在旧状态仍然存在的情况下写入新状态）完好无损的）。然后，您可以使用一个单独的变量来表示某人是否在临界区内，或者`x`直接在变量上使用这个特殊指令。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T13:21:19.617

这在 Windows 中很容易做到。在 Windows 任务管理器中，单击进程选项卡。在进程列表中，找到您的程序，单击鼠标右键，然后在下拉菜单中单击“设置关联...”。这会弹出一个对话框，您可以在其中设置可用于运行进程的处理器。取消选中除一个以外的所有处理器，您的程序将仅在该处理器上运行。不幸的是，每次启动程序时都必须这样做。

# java - 两个代码是否具有相同的含义？

> ID：11823760
> 
> 赞同：0
> 
> 时间：2012-08-06T06:58:52.600
> 
> 标签：java, android, listadapter

目前我正在研究 setListAdapter，并在下面遇到了 2 段代码。

片段1：

```
ArrayAdapter<String> adapter =
    new ArrayAdapter<String>(this, R.layout.layout_nm, R.id.layout_idnm, items);
setListAdapter(adapter); 
```

片段 2：

```
setListAdapter(new ArrayAdapter<String>(this, R.layout.layout_nm, R.id.layout_idnm, items);); 
```

我的问题是：

1.  两个片段是否具有相同的含义？
2.  第二个片段是否定义了 ArrayAdapter？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:01:45.057

两者之间的唯一区别是您在第一个中声明了一个局部变量，但在第二个中没有。

以编程方式没有区别，但我个人认为第一个更容易阅读。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:00:55.327

两个代码**含义相同**。

唯一不同的是，代码 1 创建了一个单独的适配器对象（局部变量，您可以稍后重用它），而代码 2 将适配器直接设置为您的 ListView。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:07:21.393

**只差可读性和可维护性**

首先是不同的更好，因为代码在需要重建时具有更高的可读性和可维护性；

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T07:07:46.680

**1.**第二个选项有一个额外`";"`的，所以删除它...

**前：**

```
setListAdapter(new ArrayAdapter<String>(this, R.layout.layout_nm, R.id.layout_idnm, items);); 
```

**后：**

```
setListAdapter(new ArrayAdapter<String>(this, R.layout.layout_nm, R.id.layout_idnm, items)); 
```

**2.**如果您使用第二种方法，您**没有创建局部变量，当您需要在代码中再次引用此 ArrayList 对象时，这将产生问题。**

例如，如果你想做类似的事情，你将需要这个局部变量`notifyDataSetChanged()`

# java - 使用工厂方法理解像 JDBC 这样的服务提供者框架背后的概念

> ID：11823773
> 
> 赞同：32
> 
> 时间：2012-08-06T06:59:39.233
> 
> 标签：java, jdbc, effective-java, service-provider

来自[Effective Java](http://books.google.co.in/books/about/Effective_Java.html?id=Ft8t0S4VjmwC&redir_esc=y)（*第 1 项*：**考虑静态工厂方法而不是构造函数**）：

> 在编写包含该方法的类时，静态工厂方法返回的对象的类甚至不需要存在。这种灵活的静态工厂方法构成了服务提供者框架的基础，例如 Java 数据库连接 API (JDBC)。服务提供者框架是一个系统，其中多个服务提供者实现一个服务，并且系统将实现提供给它的客户端，将它们与实现解耦。

我特别不明白为什么这本书说静态工厂方法返回的对象的类在编写包含该方法的类时甚至不需要存在？有人可以以 JDBC 为例进行解释。

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2012-08-06T07:13:37.673

考虑以下内容：

```
public interface MyService {
  void doSomething();
}

public class MyServiceFactory {
  public static MyService getService() {
    try {
      (MyService) Class.forName(System.getProperty("MyServiceImplemetation")).newInstance();
    } catch (Throwable t) {
      throw new Error(t);
    }
  }
} 
```

使用此代码，您的库无需了解服务的实现。您的库的用户必须设置一个系统属性，其中包含他们想要使用的实现的名称。

这就是你不理解的句子的意思：工厂方法将返回某个类的实例（该名称存储在系统属性“MyServiceImplementation”中），但它完全不知道它是什么类。它所知道的只是它实现`MyService`了并且它必须有一个公共的、无参数的构造函数（否则，上面的工厂将抛出一个`Error`）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-06T07:13:05.110

> 系统向其客户提供实现，将它们与实现分离

简而言之，您不会在编译时添加这些 JDBC 供应商的任何依赖项。客户端可以在运行时添加自己的

# iphone - 如何计算具有不同分辨率的 UIImage 的裁剪大小（矩形）

> ID：11823781
> 
> 赞同：5
> 
> 时间：2012-08-06T07:00:22.410
> 
> 标签：iphone, objective-c, ios, uiimage, gpuimage

在我的应用程序中，我有一个“从相机捕捉”功能，我在捕捉静止图像时使用 Brad Larson (ty) 的 GPUImageFramework 和 GPUImageStillCamera。

```
stillCamera = [[GPUImageStillCamera alloc] initWithSessionPreset:AVCaptureSessionPresetPhoto cameraPosition:
               AVCaptureDevicePositionBack]; 
```

如你看到的。会话预设`AVCaptureSessionPresetPhoto`在 iPhone 4 中为我提供 1529x2048 输出，在 4s (8mp) 设备中为我提供 2448x3264。

下图是我如何使用 GPUStillCamera。在这里，有一个矩形，在这种情况下，是捕获图像的裁剪矩形。

![静态相机输出](../Images/6116c156821256343f83e260d168c989.png)

我捕获图像时的代码片段。

```
- (IBAction)takePhoto:(id)sender
{
        [stillCamera capturePhotoAsJPEGProcessedUpToFilter:filter withCompletionHandler:^(NSData *processedJPEG, NSError *error){

        //1529x2048 when iPhone 4 and 2448x3265 when on 4s
        UIImage *rawImage = [[UIImage alloc]initWithCGImage:[[UIImage imageWithData:processedJPEG]CGImage]scale:1.0 orientation:UIImageOrientationUp];

       **CGRect rect = CGRect{?,?,?,?};**
       UIImage *imageFromRect = [rawImage imageAtRect:rect ];
} 
```

我的问题是。我怎么知道可以传递给`imageAtRect`从 中绘制子图像的方法的点 (x,y,w,h) `rawImage`？并且将仅获得矩形内的图像部分（*无论捕获图像的分辨率如何*），如上面的屏幕所示？我应该手动完成还是您可以建议任何数学技巧？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-01T06:43:11.233

您可以使用此图像裁剪类和 libray 文件，您可以获得裁剪后的大小和原点位置`UIImage`。

[http://code4app.net/ios/Custom-image-cropper/51e5f03f6803fac530000000](http://code4app.net/ios/Custom-image-cropper/51e5f03f6803fac530000000)

另外，如果您愿意，它可以动态地相应地更改裁剪图像的大小。易于使用和实施。请查看教程一次。

# javascript - 使用 Javascript 根据 URL 参数重定向到特定网页

> ID：11823784
> 
> 赞同：2
> 
> 时间：2012-08-06T07:00:46.050
> 
> 标签：javascript, html, url, url-rewriting

我有一个简单的 .htm 网页保存在不同的文件夹中，用于处理不同的语言。

en 文件夹内的 default.htm（**en\default.htm** 和**de\default.htm**等）

我需要根据 URL 参数重定向到特定网页，即如果用户有

指定`http://localhost/website/default.htm?lang=de`，我需要将他重定向到

**de\default.htm**文件。即德国网页。

如果是 ASPX 页面，我会使用 ResourceManager 轻松完成这项工作

以及使用.NET 提供的**Request.QueryString**选项的适当 .resx 文件

BCL。但是，由于我使用的是纯 HTML 页面，因此我没有编写客户端的专业知识

像 javascript 这样的脚本来查询 URL 参数并将用户重定向到

必填页面。

**问题 ：**

谁能指导我如何使用任何形式的客户端脚本来实现相同的目标

实现重定向？？我在哪里调用脚本函数？

即查询每个帖子事件的参数。？？

万分感谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T07:19:42.197

您可以使用 javascript 通过以下行轻松获取参数列表。

`var paramArray = window.location.search.substring(1).split("&")`

这将构建查询字符串的参数数组。从那里你只需要添加逻辑来找到你在问题中指定的参数并使用适当的重定向

`window.location.href = 'some URL'; //causes the browser to refresh with the new URL`

**例子：**

```
function getQueryStringArray(){
    var assoc=[]; 
    var items = window.location.search.substring(1).split('&'); 
    for(var j = 0; j < items.length; j++) { 
       var a = items[j].split('='); assoc[a[0]] = a[1]; 
    }
    return assoc;
}

//point at which you want to determine redirection
var qs = getQueryStringArray();
var url = '';
if (qs.lang !== 'undefined' && qs.lang) {
   switch (qs.lang) {
      case 'en':
         url = 'blah';
         break;
      case 'de': 
         url = 'meh';
         break;
   }
   window.location.href = url; //reroute
 } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T07:09:46.327

请参阅this on how to parse query string parameters using jQuery [How can I get query string values in JavaScript?](https://stackoverflow.com/questions/901115/get-query-string-values-in-javascript)

然后您可以使用 window.location 重定向到另一个页面

像这样的东西

```
<script>
    $(document).ready(function(){
   var p = getParameterByName("lang");
   var rootUrl = "yourRootUrl";
    var url = rootUrl + p + '/default.htm';
   window.location = url;
});
</script> 
```

没有 jQuery

```
<script>
     (function(){
          var p = getParameterByName("lang");
          var rootUrl = "yourRootUrl/";
          var url = rootUrl + p + '/default.htm';
          window.location = url;
     }());
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:34:42.597

以下应该为您完成。只需将其包装在`<script></script>`标签中。

```
// Locate "lang=...." in the url using regex;
var a = /[\?&]lang=([^\/&#\?]+)/i.exec(window.location.pathname);
// check if the regex matched
if (a) {
    // If so, redirect the user
    window.location.href = "http://localhost/website/" + a[1] + "/index.htm";
} 
```

这将使您不必遍历 url，但它确实需要对 regexp 的工作原理有基本的了解。

# php - mysql 在 2 个表中的记录匹配时选择相似的值

> ID：11823792
> 
> 赞同：0
> 
> 时间：2012-08-06T07:01:37.287
> 
> 标签：php, mysql

我有 2 张桌子一张`item_key`桌子和一张`paypal_ipn_orders`桌子。在 item_key 中，我存储了*项目名称*和 *sort_id*，这是我用来对项目进行排序的 8 位数字，在 paypal_ipn_orders 表中，我有一个*项目名称*和一个 *sort_id*。

发生什么了

1.  一个订单进入> paypal_ipn_orders，带有 ITEM 名称
2.  对 item_key 表执行查询，检查表中匹配的 ITEM 名称
3.  如果存在匹配，则将其 8 位值（item_key.SORT_ID）分配给 paypal_ipn_orders.SORT_ID

我知道如何交叉引用这些表以在它们相同时找到匹配的记录，但如果不是大多数项目标题也不是所有的都有轻微的差异，即额外的空格、数字 4 而不是 1、the 或额外的字符。

```
Query
UPDATE paypal_ipn_orders
SET sort_num = (SELECT sort_id
FROM itemkey
WHERE itemkey.item = paypal_ipn_orders.item_name)
WHERE LOWER(payment_status) = 'completed' 
```

结果

```
table: paypal_ipn_orders
ITEM                                SORT_ID
4 Icy Manipulator ~ Ice Age         NULL
4 Worldslayer - Mirrodin MtG Magic  NULL
1 Karn Liberated - New Phyrexia MtG NULL
4 Blightning ~ Shards               12334234(identical title= a non-null SORT_ID)

table: item_key
ITEM                                SORT_ID
1 Icy Manipulator + Ice Age         12334231(doesnt exactly match)
4 Worldslayer - Mirrodin Magic      12334332(doesnt exactly match)
4 Karn Liberated - Phyrexia MtG     12334333(doesnt exactly match)
4 Blightning ~ Shards               12334234(perfect match) 
```

期望的结果

```
table: paypal_ipn_orders
ITEM                                SORT_ID
4 Icy Manipulator ~ Ice Age         12334231(similar title = match assign value)
4 Worldslayer - Mirrodin MtG Magic  12334232(similar title = match assign value)
1 Karn Liberated - New Phyrexia MtG 12334233(similar title = match assign value)
4 Blightning ~ Shards               12334234(exact title = match assign value) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:18:27.627

请阅读有关[Levenshtein 距离](http://www.artfulsoftware.com/infotree/queries.php#552)的信息。也许这可能会帮助你。

```
DELIMITER $$
CREATE FUNCTION levenshtein( s1 VARCHAR(255), s2 VARCHAR(255) ) 
  RETURNS INT 
  DETERMINISTIC 
  BEGIN 
    DECLARE s1_len, s2_len, i, j, c, c_temp, cost INT; 
    DECLARE s1_char CHAR; 
    -- max strlen=255 
    DECLARE cv0, cv1 VARBINARY(256); 
    SET s1_len = CHAR_LENGTH(s1), s2_len = CHAR_LENGTH(s2), cv1 = 0x00, j = 1, i = 1, c = 0; 
    IF s1 = s2 THEN 
      RETURN 0; 
    ELSEIF s1_len = 0 THEN 
      RETURN s2_len; 
    ELSEIF s2_len = 0 THEN 
      RETURN s1_len; 
    ELSE 
      WHILE j <= s2_len DO 
        SET cv1 = CONCAT(cv1, UNHEX(HEX(j))), j = j + 1; 
      END WHILE; 
      WHILE i <= s1_len DO 
        SET s1_char = SUBSTRING(s1, i, 1), c = i, cv0 = UNHEX(HEX(i)), j = 1; 
        WHILE j <= s2_len DO 
          SET c = c + 1; 
          IF s1_char = SUBSTRING(s2, j, 1) THEN  
            SET cost = 0; ELSE SET cost = 1; 
          END IF; 
          SET c_temp = CONV(HEX(SUBSTRING(cv1, j, 1)), 16, 10) + cost; 
          IF c > c_temp THEN SET c = c_temp; END IF; 
            SET c_temp = CONV(HEX(SUBSTRING(cv1, j+1, 1)), 16, 10) + 1; 
            IF c > c_temp THEN  
              SET c = c_temp;  
            END IF; 
            SET cv0 = CONCAT(cv0, UNHEX(HEX(c))), j = j + 1; 
        END WHILE; 
        SET cv1 = cv0, i = i + 1; 
      END WHILE; 
    END IF; 
    RETURN c; 
  END$$
  DELIMITER ; 
```

辅助功能：

```
DELIMITER $$
CREATE FUNCTION levenshtein_ratio( s1 VARCHAR(255), s2 VARCHAR(255) ) 
  RETURNS INT 
  DETERMINISTIC 
  BEGIN 
    DECLARE s1_len, s2_len, max_len INT; 
    SET s1_len = LENGTH(s1), s2_len = LENGTH(s2); 
    IF s1_len > s2_len THEN  
      SET max_len = s1_len;  
    ELSE  
      SET max_len = s2_len;  
    END IF; 
    RETURN ROUND((1 - LEVENSHTEIN(s1, s2) / max_len) * 100); 
  END$$
  DELIMITER ; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:15:12.240

我不认为，你可以用 MySql 查询来做到这一点。请看这个：[MySql 字符串比较函数](http://dev.mysql.com/doc/refman/5.0/en/string-comparison-functions.html)。

如果你`LIKE`用来比较，那么你有两个小丑角色：

*   % - 任意数量的字符
*   _ - 单个字符

但我不认为，在你的情况下它们是有用的。

您最好的选择是在比较名称之前在您的 PHP 代码中插入某种逻辑。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:19:10.643

我会使用一个用户定义的 MySQL 函数来进行字符串比较并返回一个匹配值 - 例如：1 表示完全匹配，0 表示不匹配，0.9 表示匹配比较字符串的开始和结束，0.1 到 0.8 表示数量匹配字符、两字符和三字符序列等。然后，当您拥有此功能时，创建一个将所有项目标题相互匹配的视图并微调该功能，直到您获得高于阈值的功能值所需的结果你定义的。

# android - 本地化的名称是什么

> ID：11823802
> 
> 赞同：0
> 
> 时间：2012-08-06T07:02:09.003
> 
> 标签：android, localization, internationalization

我有一个要本地化的应用程序，我想知道 values 文件夹的中国、台湾、香港、新加坡的名称，例如 values-TW(?) 等。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:08:24.060

这是定义在

[http://developer.android.com/reference/java/util/Locale.html](http://developer.android.com/reference/java/util/Locale.html)

2 个字母国家代码的具体参考在 [http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2#Officially_assigned_code_elements中定义](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2#Officially_assigned_code_elements)

中国 - CN 香港 - HK 台湾 - TW 新加坡 - SG

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-01-17T07:26:40.737

```
Taiwan    -> values-zh-rTW
Hong Kong -> values-zh-rHK
China     -> values-zh
Singapore -> values-zh-rSG 
```

# c# - 如何在listview c#中添加2个标题行

> ID：11823805
> 
> 赞同：1
> 
> 时间：2012-08-06T07:02:23.843
> 
> 标签：c#, listview, columnheader

我想在列表视图中添加 2 个标题行，如下所示：

```
 | ------------------------------|------------------|
   |        |      Set1            |      Set2        |    
   |--------| -------------------  |   ---------------|  
   | Name   | col1 col2 col3 col4  |   col5  col6 col7|
   | -------|----------------------|------------------|
   | item1  |   i1  i2   i3   i4   |    i5     i6  i7 |
   | item2  |   i8  i9   i10  i11  |    i12    i13 i14| 
   --------------------------------------------------- 
```

如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:26:21.960

*ListView*控件不提供直接添加多个标题行的功能。要添加多个标题行，您需要处理一些*ListView*事件或定义新事件并自己实现额外标题行的绘制。有许多关于自定义网格和列表控件外观的示例：

*   关于更改*ListView*控件标头外观的[文章](http://www.codeproject.com/Articles/4243/Customizing-the-header-control-in-a-ListView)
*   *关于向DataGridView*添加新标题行的[线程](http://www.pcreview.co.uk/forums/two-row-headers-datagridview-t3708144.html)。

# android - 上下文菜单未查看

> ID：11823813
> 
> 赞同：-2
> 
> 时间：2012-08-06T07:03:01.690
> 
> 标签：android, listview, contextmenu

我想在单击 ListView 项后显示 ContextMenu。但是当我单击或
长按项目时，我的 ContextMenu 不会出现。我不知道问题出在哪里。
这是我的代码。

```
@Override
public void onCreateContextMenu(ContextMenu menu, View v, ContextMenuInfo menuInfo) {
    super.onCreateContextMenu(menu, v, menuInfo);
    menu.setHeaderTitle("Context Menu");  
    menu.add(0, v.getId(), 0, "Play");  
    menu.add(0, v.getId(), 0, "Edit"); 
    menu.add(0, v.getId(), 0, "Delete");  
    menu.add(0, v.getId(), 0, "Rename"); 
    //MenuInflater inflater = getMenuInflater();
    //inflater.inflate(R.menu.activity_main, menu);
  }

@Override  
public boolean onContextItemSelected(MenuItem item) {  
    AdapterView.AdapterContextMenuInfo info = (AdapterView.AdapterContextMenuInfo)item.getMenuInfo();
        if(item.getTitle()=="Play"){playAudio(item.getItemId());}  
    else if(item.getTitle()=="Edit"){editAudio(item.getItemId());}  
    else if(item.getTitle()=="Delete"){deleteAudio(item.getItemId());}
    else if(item.getTitle()=="Rename"){renameAudio(item.getItemId());}
    else {return false;}  
return true;  
} 
```

请给我提示或指导我的代码哪里错了？
提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:08:51.103

您很可能忘记将其设置为`ListView`

```
registerForContextMenu(yourListView); 
```

# vb.net - 使用 ms-access 数据库在 vb.net 中创建水晶报表时遇到困难

> ID：11823818
> 
> 赞同：-1
> 
> 时间：2012-08-06T07:03:43.313
> 
> 标签：vb.net, ms-access, crystal-reports

我是水晶报表的新手，我对此一无所知，但我需要创建一个水晶报表，它将显示并保存下表中的以下字段：

数据库迪沙

```
table_client_master
=====================
sr.no || Client_name

table_hotelBook fields
=====================================
From || to || room || nights || extraper || ouramount 
```

这里client_master 和hotelbook 包含srno，这将与client_master 中存储的用户名和hotelBook 中的预订信息相同。

在这里，当用户点击邮件按钮时，它会自动生成一份报告并将其保存在一个文件夹中。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T15:45:29.780

通常你需要从基础开始学习。

请按照下面的[链接](http://www.codeproject.com/Articles/28899/Crystal-Report-with-DataSet-and-DataTable-using-C)。水晶报告研究有很多链接。

# joomla - $mainframe->redirect('XXXXXXXXXXXX'); 不能在 IE 中工作

> ID：11823822
> 
> 赞同：1
> 
> 时间：2012-08-06T07:04:02.450
> 
> 标签：joomla

```
$mainframe->redirect(‘XXXXXXXXXXXX’); 
```

虽然我已经定义，但不在 joomla 中工作

```
global $mainframe; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:16:21.360

使用这样的代码

```
global $mainframe; 
$redirect = "xxx.php";
$mainframe->redirect($redirect); 
```

或者

```
global $mainframe; 
$mainframe->redirect($redirect); 
```

# svn - 访问 Jenkins 中的 Build Changelog

> ID：11823826
> 
> 赞同：38
> 
> 时间：2012-08-06T07:04:05.683
> 
> 标签：svn, jenkins, testflight

我一直在努力寻找一种方法，将 Jenkins 生成的更改列表（来自 SVN 拉取）包含到我们的 Testflight 笔记中。我正在使用 Testflight 插件，它有一个注释字段 - 但詹金斯似乎没有创建任何参数/令牌来嵌入该信息。

有没有人幸运地完成了这样的事情？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-08-07T00:12:18.133

看起来 TestFlight 插件扩展了放置在“构建注释”字段中的变量，所以问题是：我们如何才能将当前构建的更改放入环境变量中？

据我所知，Subversion 插件不通过环境变量提供此信息。但是，所有 Jenkins SCM 插件都集成了更改日志信息，您可以通过每个构建的 Web UI 中的“更改”链接查看。

即使在构建过程中，这些信息也可以通过 Jenkins API 获得。

例如，如果您在运行此命令的位置添加“执行 shell”构建步骤：

```
curl -s "http://jenkins/job/my-job/$BUILD_NUMBER/api/xml?wrapper=changes&xpath=//changeSet//comment" 
```

您将获得类似于以下内容的 XML 文档：

```
<changes>
  <comment>First commit.</comment>
  <comment>Second commit.</comment>
</changes> 
```

然后，您可以随意格式化此信息并将其放入环境变量中，然后可以在 TestFlight“构建说明”部分中引用该环境变量。

但是，默认情况下，在构建步骤中设置环境变量不是持久的——这样做需要使用[EnvInject 插件](https://wiki.jenkins-ci.org/display/JENKINS/EnvInject+Plugin)。

在这种情况下，您可以将更改日志文本写入临时文件，其内容如下：

```
CHANGELOG="New in this build:\n- First commit.\n- Second commit." 
```

然后，通过使用带有[环境属性文件路径](https://wiki.jenkins-ci.org/display/JENKINS/EnvInject+Plugin#EnvInjectPlugin-Injectvariablesasabuildstep)选项的构建步骤来加载此文件，该`$CHANGELOG`变量将存在于您的环境中并持续到构建结束，从而允许您在“构建说明”字段中使用它。

* * *

^(**注意：**我自己没有使用过 TestFlight 插件（尽管我快速查看了代码），我只使用 Git 存储库测试了更改 API。同样，我没有测试应该如何使用 EnvInject 插件对换行符进行编码，这样可能会导致问题。)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2015-03-11T15:53:52.153

鉴于 Jenkins 日志更改了格式，我更新了原始帖子中的 XML 内容。此外，由于最初的 TestFlight 已死，并且该插件现已过时，因此我将内容推送到 HTML 文件中以与 HockeyKit 一起使用。它实际上是一个带有换行符的文本文件。使 sed 插入换行符是..具有挑战性的，乍一看，字符串看起来很混乱（至少对我来说）。

```
#for distribution in projects
Changelog=$(curl "${BUILD_URL}api/xml?wrapper=changes&xpath=//changeSet//item//msg" | sed -e "s/<\/msg>//g; s/<msg>/\\`echo -e '\r'`/g; s/<\/*changes>//g" )

# Write result to properties file
echo -e "$Changelog" > "${BuildDestinationPath}/"${BUILD_NUMBER}.html 
```

注意编辑： BuildDestinationPath 和 Changelog 是我的局部变量。caps 中的变量是 Jenkins 环境变量，应该存在于任何安装中。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-28T19:54:42.040

我正在使用这里找到的这个：http: [//jenkins.361315.n4.nabble.com/Get-SVN-changes-td3511042.html](http://jenkins.361315.n4.nabble.com/Get-SVN-changes-td3511042.html)

```
${CHANGES, showPaths=true} 
```

非常简单，它适用于 SVN。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-10-21T05:56:07.647

我做了一些将 xml 转换为 CHANGELOGS 的 python 示例

note.xml 应该是

```
<changes>
      <msg>First commit.</msg>
      <msg>Second commit.</msg>
</changes> 
```

实际的python代码如下

```
from xml.etree.ElementTree import parse
tree = parse("note.xml")
root = tree.getroot()
sentence = 'CHANGELOG =\"' 
cnt = 1
for element in root.findall('msg'):
    tempstring = element.text
    tempstring =str(cnt)+'. '+'\\n'.join(tempstring.splitlines())
    sentence =sentence +tempstring +'\\n'
    cnt = cnt +1
sentence = sentence + '\"'
print sentence 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2016-01-28T14:33:17.380

事实上，您可以在构建阶段完成之前通过读取/解析构建文件夹中的 ../builds/$BUILD_NUMBER/changelog.xml 文件来访问该信息。该文件是使用 SVN/GIT 提交触发创建的，而不是在构建或 post_build 阶段结束时创建的。这意味着，您可以在同一作业的构建阶段开始时使用脚本对其进行解析，并将数据插入环境变量中。

这是如果您不想使用 curl 和 XML。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-24T17:03:48.340

Testflight 插件为此提供了一个选项。这是提交：

[https://github.com/jenkinsci/testflight-plugin/commit/e8edfef012d4bdefb95ee24818891a27ac920a36](https://github.com/jenkinsci/testflight-plugin/commit/e8edfef012d4bdefb95ee24818891a27ac920a36)

我在最近的 testflight-plugin 版本中没有看到它，所以我从 git 构建了插件，它有这个选项。

![在此处输入图像描述](../Images/528bb4cbed0cc6c8a77fdbcd76d35fd1.png)

# javascript - getElementById 获取元素的ID

> ID：11823831
> 
> 赞同：-2
> 
> 时间：2012-08-06T07:04:31.737
> 
> 标签：javascript, jsp

我目前使用 JSP，需要获取表格中的单元格。

以下当然是在 javascript 的 for 循环中：

```
var cell=document.getElementById('cell_' + newRow + ',' + i); 
```

现在在可变单元格上，我需要获取 ID。任何想法如何做到这一点？

如果我做警报（单元格）；然后它返回这个值：[object HTMLTableCellElement]

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:07:49.087

```
alert(cell.id); 
```

应该管用。您可以在此处找到整个 DOM 元素属性和方法参考： [http ://www.javascriptkit.com/domref/elementproperties.shtml](http://www.javascriptkit.com/domref/elementproperties.shtml)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:08:27.617

尝试调试它并在 newRow 参数上使用[Watch 。](http://www.youtube.com/watch?v=FoBWKHt5R4w)

据我所知`var cell=document.getElementById('cell_' + newRow.id + ',' + i);`

# javascript - 从 html 生成 pdf/xl 报告？

> ID：11823834
> 
> 赞同：-1
> 
> 时间：2012-08-06T07:04:45.960
> 
> 标签：javascript, jquery, html, report

有没有办法从 html 生成 pdf/Excl 报告？谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:18:57.190

这个问题并没有阐明您要达到的目标。但是要回答问题，不，您不能从 html 生成 pdf/Excel 报告，因为您需要使用 Java/PHP/C# 等服务器端语言。如果您澄清问题，我们可以给出适当的答案。

# cordova - 仅对某些 html 页面禁用横向

> ID：11823838
> 
> 赞同：1
> 
> 时间：2012-08-06T07:05:52.357
> 
> 标签：cordova

> **可能重复：**
> [Android - 仅修复 1 页的屏幕方向（phonegap）](https://stackoverflow.com/questions/10348538/android-fix-screen-orientation-for-1-page-only-phonegap)

我找到了禁用横向方向的方法（适用于 android 和 iOS），但这些解决方案都适用于整个应用程序。我只需要为某些 html 页面禁用横向。任何人都知道如何做到这一点或我可以在哪里获得更多信息？

# java - NullPointerException 运行 DataNucleus Enhancer 3.1.0-release

> ID：11823840
> 
> 赞同：3
> 
> 时间：2012-08-06T07:06:09.300
> 
> 标签：java, dos, jdo, datanucleus

我正在从 DOS 运行 DataNucleus 增强器，如下所示：

```
java -cp C:\Users\Chania\workspace\myproject\war\WEB-INF\classes\;C:\repo\datanucleus-full-3.1.0-release\lib\datanucleus-enhancer-3.1.0-release.jar;C:\repo\datanucleus-full-3.1.0-release\lib\datanucleus-core-3.1.0-release.jar;C:\repo\datanucleus-full-3.1.0-release\deps\jdo-api-3.1-SNAPSHOT-20110926.jar;C:\repo\datanucleus-full-3.1.0-release\lib\datanucleus-api-jdo-3.1.0-release.jar;C:\repo\datanucleus-full-3.1.0-release\deps\log4j-1.2.14.jar;C:\repo\datanucleus-full-3.1.0-release\deps\asm-4.0.jar -Dlog4j.configuration=file:C:\repo\datanucleus-full-3.1.0-release\log4j.properties org.datanucleus.enhancer.DataNucleusEnhancer -v C:\Users\Chania\workspace\myproject\war\WEB-INF\classes\com\myproject\domain\*.class > logfile.txt 
```

我使用的 Java 版本是：

```
java version "1.6.0_27" 
```

我得到的错误如下：

```
 ...
 308  [main] DEBUG DataNucleus.Persistence  - Added converter for java.net.URI<->java.lang.String using org.datanucleus.store.types.converters.URIStringConverter
 308  [main] DEBUG DataNucleus.Persistence  - Added converter for java.net.URL<->java.lang.String using org.datanucleus.store.types.converters.URLStringConverter
 309  [main] DEBUG DataNucleus.Persistence  - Added converter for java.util.UUID<->java.lang.String using org.datanucleus.store.types.converters.UUIDStringConverter
 309  [main] DEBUG DataNucleus.Persistence  - TypeConverter for javax.time.calendar.LocalDate<->java.lang.String ignored since java type not present in CLASSPATH
 310  [main] DEBUG DataNucleus.Persistence  - TypeConverter for javax.time.calendar.LocalTime<->java.lang.String ignored since java type not present in CLASSPATH
 311  [main] DEBUG DataNucleus.Persistence  - TypeConverter for javax.time.calendar.LocalTime<->java.lang.Long ignored since java type not present in CLASSPATH
 312  [main] DEBUG DataNucleus.Persistence  - TypeConverter for javax.time.calendar.LocalDateTime<->java.lang.String ignored since java type not present in CLASSPATH
 312  [main] DEBUG DataNucleus.Persistence  - Type converter support loaded
 312  [main] DEBUG DataNucleus.MetaData  - MetaDataManager : Input=(XML,Annotations), XML-Validation=false, XML-Suffices=(persistence=*.jdo, orm=orm, query=*.jdoquery), JDO-listener=false
 338  [main] DEBUG DataNucleus.MetaData  - MetaData Management : Loading Metadata for classes "[com.myproject.domain.Record, com.myproject.domain.RecordSummary, com.myproject.domain.Comment]" ...
 411  [main] DEBUG DataNucleus.MetaData  - Class "com.myproject.domain.Record" has been specified with JDO annotations so using those.
 596  [main] DEBUG DataNucleus.MetaData  - Class "com.myproject.domain.RecordSummary" has been specified with JDO annotations so using those.
 600  [main] DEBUG DataNucleus.MetaData  - Class "com.myproject.domain.Comment" has been specified with JDO annotations so using those.
 Errors were encountered when loading the specified MetaData files and classes. See the nested exceptions for details
604  [main] ERROR DataNucleus.Enhancer  - DataNucleus Enhancer completed with an error. Please review the enhancer log for full details. Some classes may have been enhanced but some caused errors
 Errors were encountered when loading the specified MetaData files and classes. See the nested exceptions for details
org.datanucleus.exceptions.NucleusUserException: Errors were encountered when loading the specified MetaData files and classes. See the nested exceptions for details
    at org.datanucleus.metadata.MetaDataManager.loadClasses(MetaDataManager.java:536)
    at org.datanucleus.enhancer.DataNucleusEnhancer.getFileMetadataForInput(DataNucleusEnhancer.java:734)
    at org.datanucleus.enhancer.DataNucleusEnhancer.enhance(DataNucleusEnhancer.java:525)
    at org.datanucleus.enhancer.DataNucleusEnhancer.main(DataNucleusEnhancer.java:1258)
Caused by: java.lang.NullPointerException
    at org.datanucleus.api.jdo.metadata.JDOAnnotationReader.processMemberAnnotations(JDOAnnotationReader.java:1682)
    at org.datanucleus.metadata.annotations.AbstractAnnotationReader.getMetaDataForClass(AbstractAnnotationReader.java:206)
    at org.datanucleus.metadata.annotations.AnnotationManagerImpl.getMetaDataForClass(AnnotationManagerImpl.java:171)
    at org.datanucleus.metadata.MetaDataManager.loadAnnotationsForClass(MetaDataManager.java:2650)
    at org.datanucleus.metadata.MetaDataManager.loadClasses(MetaDataManager.java:496)
    ... 3 more
Nested Throwables StackTrace:
java.lang.NullPointerException
    at org.datanucleus.api.jdo.metadata.JDOAnnotationReader.processMemberAnnotations(JDOAnnotationReader.java:1682)
    at org.datanucleus.metadata.annotations.AbstractAnnotationReader.getMetaDataForClass(AbstractAnnotationReader.java:206)
    at org.datanucleus.metadata.annotations.AnnotationManagerImpl.getMetaDataForClass(AnnotationManagerImpl.java:171)
    at org.datanucleus.metadata.MetaDataManager.loadAnnotationsForClass(MetaDataManager.java:2650)
    at org.datanucleus.metadata.MetaDataManager.loadClasses(MetaDataManager.java:496)
    at org.datanucleus.enhancer.DataNucleusEnhancer.getFileMetadataForInput(DataNucleusEnhancer.java:734)
    at org.datanucleus.enhancer.DataNucleusEnhancer.enhance(DataNucleusEnhancer.java:525)
    at org.datanucleus.enhancer.DataNucleusEnhancer.main(DataNucleusEnhancer.java:1258)
DataNucleus Enhancer completed with an error. Please review the enhancer log for full details. Some classes may have been enhanced but some caused errors 
```

增强类的来源如下：

```
@PersistenceCapable(detachable = "true")
public class Record implements Serializable, Cacheable<String> {

    private static final long serialVersionUID = 9022509306966814904L;

    @PrimaryKey
    @Persistent(defaultFetchGroup = "true", valueStrategy = IdGeneratorStrategy.IDENTITY)
    private String id;

    @Name
    @Persistent(defaultFetchGroup = "true")
    private String name;

    @Name
    @Persistent(defaultFetchGroup = "true")
    private String surname;

    @Persistent(defaultFetchGroup = "true")
    private Date dateOfBirth;

    @Persistent(defaultFetchGroup = "true")
    private Date dateRecorded;

    @Persistent(defaultFetchGroup = "true")
    private String locationId;

    @Persistent(embedded = "true", defaultFetchGroup = "true")
    private CustomLocation customLocation;

    @Persistent(defaultFetchGroup = "true")
    private Category category;

    @Persistent(embedded = "true", defaultFetchGroup = "true")
    private CustomCategory customCategory;

    @Persistent(defaultFetchGroup = "true")
    private String description;

    @Persistent(embeddedElement = "true", defaultFetchGroup = "true")
    private List<StoredImageInfo> images;

    @Persistent(embeddedElement = "true", defaultFetchGroup = "true")
    private List<StoredAudioInfo> audio;

    @Persistent(embeddedElement = "true", defaultFetchGroup = "true")
    private List<StoredFileInfo> files;

    @Persistent(defaultFetchGroup = "true")
    private ModerationMode moderationMode;

    @Persistent(defaultFetchGroup = "true")
    private VisibilityMode visibilityMode;

    @Persistent(embedded = "true", defaultFetchGroup = "true")
    private UserProfileSummary owner;

    @Persistent(embeddedElement = "true", defaultFetchGroup = "true")
    private Map<String, UserProfileSummary> editors;

    @Persistent(embeddedElement = "true", defaultFetchGroup = "true")
    private Map<String, UserProfileSummary> connections;

    @Persistent(embeddedElement = "true", defaultFetchGroup = "true")
    private Map<String, RecordSummary> recordConnections;

    @Persistent(defaultFetchGroup = "true")
    private RecordType type;

    @Persistent(defaultFetchGroup = "true")
    private Date expiry;

    public Record() {
    }

    public Record(Record copy) {
        deepCopy(copy);
    }

    ...
}

@PersistenceCapable(embeddedOnly = "true")
public class RecordSummary implements Serializable {

    private static final long serialVersionUID = 9024309306966814904L;

    @Persistent(defaultFetchGroup = "true")
    private String id;

    @Persistent(defaultFetchGroup = "true")
    private RecordRole role;

    @Persistent(defaultFetchGroup = "true")
    private String name;

    @Persistent(defaultFetchGroup = "true")
    private String surname;

    @Persistent(defaultFetchGroup = "true")
    private Date dateOfBirth;

    @Persistent(defaultFetchGroup = "true")
    private Date dateRecorded;

    @SuppressWarnings("unused")
    private RecordSummary() {
        // for serialization
    }

    ...
}

@PersistenceCapable(detachable = "true")
public class Comment implements Attachable<String>, Serializable {

    private static final long serialVersionUID = -7624377549524333808L;

    @PrimaryKey
    @Persistent(defaultFetchGroup = "true", valueStrategy = IdGeneratorStrategy.IDENTITY)
    private String id;

    @Persistent(defaultFetchGroup = "true")
    private String recordId;

    @Persistent(defaultFetchGroup = "true")
    private String username;

    @Persistent(defaultFetchGroup = "true")
    private Date date;

    @Persistent(defaultFetchGroup = "true")
    private String content;

    @SuppressWarnings("unused")
    private Comment() {
        // for serialization
    }

    ...
} 
```

使用 datanucleus 增强器 3.0-release 时，我没有遇到任何此类异常（尽管 3.0 存在其他问题：[问题 1](https://stackoverflow.com/questions/11842527/nullpointerexception-in-jdopersistencemanager-getobjectbyid-using-datanucleus)，[问题 2](https://stackoverflow.com/questions/11846170/flaky-loading-of-1-n-relationships-with-datanucleus-3-0-0-release)）。 **这是 DataNucleus 3.1 的错误还是我做错了什么？**

**更新**：DataNucleus Enhancer`NullPointerException`为所有标有`@Persistent(embeddedElement = "true")`. 这很可能是 DataNucleus 3.1 Enhancer 的错误。

**更新 2**：根据要求，我包含重现问题的最少代码：

```
@PersistenceCapable(detachable = "true")
public class Record {

    @PrimaryKey
    @Persistent(defaultFetchGroup = "true", valueStrategy = IdGeneratorStrategy.IDENTITY)
    private String id;

    @Persistent(embeddedElement = "true", defaultFetchGroup = "true")
    private List<MyEmbeddedElement> aList;

    public Record() {
    }

}

@PersistenceCapable(embeddedOnly = "true")
public class MyEmbeddedElement {

    @Persistent
    private String myField;

} 
```

错误：

```
 730  [main] DEBUG DataNucleus.MetaData  - Class "com.myproject.domain.Record" has been specified with JDO annotations so using those.
 760  [main] DEBUG DataNucleus.MetaData  - Class "com.myproject.domain.MyEmbeddedElement" has been specified with JDO annotations so using those.
 Errors were encountered when loading the specified MetaData files and classes. See the nested exceptions for details
763  [main] ERROR DataNucleus.Enhancer  - DataNucleus Enhancer completed with an error. Please review the enhancer log for full details. Some classes may have been enhanced but some caused errors
 Errors were encountered when loading the specified MetaData files and classes. See the nested exceptions for details
org.datanucleus.exceptions.NucleusUserException: Errors were encountered when loading the specified MetaData files and classes. See the nested exceptions for details
    at org.datanucleus.metadata.MetaDataManager.loadClasses(MetaDataManager.java:536)
    at org.datanucleus.enhancer.DataNucleusEnhancer.getFileMetadataForInput(DataNucleusEnhancer.java:734)
    at org.datanucleus.enhancer.DataNucleusEnhancer.enhance(DataNucleusEnhancer.java:525)
    at org.datanucleus.enhancer.DataNucleusEnhancer.main(DataNucleusEnhancer.java:1258)
Caused by: java.lang.NullPointerException
    at org.datanucleus.api.jdo.metadata.JDOAnnotationReader.processMemberAnnotations(JDOAnnotationReader.java:1682)
    at org.datanucleus.metadata.annotations.AbstractAnnotationReader.getMetaDataForClass(AbstractAnnotationReader.java:206)
    at org.datanucleus.metadata.annotations.AnnotationManagerImpl.getMetaDataForClass(AnnotationManagerImpl.java:171)
    at org.datanucleus.metadata.MetaDataManager.loadAnnotationsForClass(MetaDataManager.java:2650)
    at org.datanucleus.metadata.MetaDataManager.loadClasses(MetaDataManager.java:496)
    ... 3 more
Nested Throwables StackTrace:
java.lang.NullPointerException
    at org.datanucleus.api.jdo.metadata.JDOAnnotationReader.processMemberAnnotations(JDOAnnotationReader.java:1682)
    at org.datanucleus.metadata.annotations.AbstractAnnotationReader.getMetaDataForClass(AbstractAnnotationReader.java:206)
    at org.datanucleus.metadata.annotations.AnnotationManagerImpl.getMetaDataForClass(AnnotationManagerImpl.java:171)
    at org.datanucleus.metadata.MetaDataManager.loadAnnotationsForClass(MetaDataManager.java:2650)
    at org.datanucleus.metadata.MetaDataManager.loadClasses(MetaDataManager.java:496)
    at org.datanucleus.enhancer.DataNucleusEnhancer.getFileMetadataForInput(DataNucleusEnhancer.java:734)
    at org.datanucleus.enhancer.DataNucleusEnhancer.enhance(DataNucleusEnhancer.java:525)
    at org.datanucleus.enhancer.DataNucleusEnhancer.main(DataNucleusEnhancer.java:1258)
DataNucleus Enhancer completed with an error. Please review the enhancer log for full details. Some classes may have been enhanced but some caused errors 
```

**更新 3**：从 3.0.2 开始的所有 DataNucleus 版本中都存在此问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-07T14:30:16.830

当我在我的应用程序中进行嵌入式集合时，我会

```
@Element(embedded="true")
Collection<OtherType> myCollField; 
```

这对我有用，并且看起来更合乎逻辑的方式来指定嵌入元素。

你的地图字段也是错误的......地图没有“元素”，它有“键”和“值”

# html - 为什么我的 HTML 表单元素在 IE8 中单击它们时会四处移动？

> ID：11823842
> 
> 赞同：4
> 
> 时间：2012-08-06T07:06:17.740
> 
> 标签：html, css, internet-explorer-8, forms, input-field

我有一个带有一堆输入字段（文本类型和选择）的 HTML 表单。我将它们浮动，使得每行有两个。在所有浏览器（包括 IE7）中，一切正常，但出于某种原因，在 IE8 中，每当我在任何字段或其标签内单击时，该字段或周围的字段都会垂直向上或向下移动。一旦我点击离开框，该位置就会恢复正常，但附近的另一个框可能会移动。此外，并非所有文本框字段都有此问题，单击同一个文本框并不总是会导致此问题。有任何想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-31T18:59:30.553

我遇到了完全相同的问题，为了解决它，我设置了

```
display:block 
```

在跳跃并修复它的元素上。希望有帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-02-18T19:16:38.783

**问题是当你聚焦一个输入文本元素时，你的浏览器会在它周围放置 2px 边框作为焦点，如果它包含在一个紧凑的容器中，它会改变它的位置......**

我认为这与始终拥有 2px 边框更相关。使用相同颜色的边框和您的文本字段具有透明边框...您的问题已在此问题上得到解决

[聚焦输入字段边框时的 StackOverflow 问题 8270380](https://stackoverflow.com/questions/8270380/when-focusing-on-an-input-field-with-a-3px-border-all-the-other-input-fields-ke)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T07:29:06.957

这是推测，但由于关注某个元素似乎会触发转换，因此您可能对这些关注的元素应用了不同的样式。增加的边距或边界可能是负责任的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-12-29T14:54:20.770

没什么大不了的：-大纲：无；

在输入标签中

```
input {

  width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    display: block;
    border-radius: 5px;
    outline: none;

} 
```

如果你想拥有自己的边框然后放

```
input:focus {
    border: 2px solid salmon;
    color: #333;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-06T07:25:01.427

我认为您的结构与您的父结构 CSS 冲突（可能是您使用第三方插件，如 jQuery UI 或其他）只是为了确认剪切或复制您的冲突代码并将您的父结构或开头粘贴到外面你的身体标签。你会发现不同之处。

为了获得适当的帮助，我想查看您的代码。谢谢

# c# - 如何在 C# 中编组 SIZE 结构？

> ID：11823844
> 
> 赞同：0
> 
> 时间：2012-08-06T07:06:19.287
> 
> 标签：c#, c++, interop, com-interop

我正在尝试编组以下 C++ 函数：

```
STDMETHODIMP CPushSource::SetSize(SIZE *pSize)
{
    CMutexLock lock(&m_csShared);
    CheckPointer(pSize, E_POINTER);

    m_iImageWidth = pSize->cx;
    m_iImageHeight = pSize->cy;

    saveSettings();

    return S_OK;
} 
```

使用以下 C# 代码：

```
[ComImport, Guid("1b1afbaf-cb92-42da-8307-5a7be8c2b4b0")]
public interface ISCFHSettings
{
    [PreserveSig]
    int SetSize([In, MarshalAs(UnmanagedType.Struct)] Size size);
} 
```

我正在尝试使用以下代码调用它：

```
m_desktopFilter.SetSize(new Size(320,240)); 
```

我对这个 C++/C# 互操作的东西有点陌生，所以任何能指出我正确方向的人都非常感谢。

我得到的错误也是：

> 尝试读取或写入受保护的内存。这通常表明其他内存已损坏。

如果这很重要，这是我对 DirectShow 过滤器的简单包装器的尝试。过滤器是 SCFH-DSF。

我也试过

```
[ComImport, Guid("1b1afbaf-cb92-42da-8307-5a7be8c2b4b0")]
public interface ISCFHSettings
{
    [PreserveSig]
    int SetSize([In, MarshalAs(UnmanagedType.Struct)] MySize size);
}

[StructLayout(LayoutKind.Sequential)]
public struct MySize
{
    public int cx;
    public int cy;
} 
```

并在调用代码中

```
MySize sz = new MySize();
sz.cx = 320;
sz.cy = 240;
m_desktopFilter.SetSize(sz); 
```

这对我也不起作用。

```
[ComImport, Guid("1b1afbaf-cb92-42da-8307-5a7be8c2b4b0")]
public interface ISCFHSettings
{
    [PreserveSig]
    int SetSize(ref MySize size);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:55:31.030

如前所述，您应该可以使用`ref`. 您可以对此进行扩展，直到您获得可以满足您需求的东西。

C＃：

```
using System.Diagnostics;
using System.Runtime.InteropServices;

namespace ConsoleApplication1
{
    public struct mySize
    {
        public int x, y;
    }

    static class Program
    {
        [DllImport("ClassLibrary.dll")]
        static extern int getX(ref mySize size);

        static void Main(string[] args)
        {
            var size = new mySize { x=100, y=200 };
            int x = getX(ref size);
            Debug.Assert(x == 100);
        }
    }
} 
```

VC++：

```
struct mySize
{
    int x, y;
};

extern "C" __declspec(dllexport)
int  __stdcall getX(mySize *pSize)
{
    return pSize->x;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:25:13.233

签名中的`[MarshalAs(UnmanagedType.Struct)]`不正确。该函数需要一个指向 a 的指针，`SIZE`因此您需要定义它（就像您所做的那样）并通过引用传递它而不使用其他编组属性。

我希望您应该像这样定义接口：

```
[ComImport, Guid("1b1afbaf-cb92-42da-8307-5a7be8c2b4b0")] 
public interface ISCFHSettings 
{ 

    int SetSize(MySize size); 

} 
```

`[MarshalAs(UnmanagedType.Struct)]`实际上与`VARIANT`编组有关，但名称不好。

# ejb-3.0 - 部署在 Weblogic 上的基于角色的 EJB 安全性

> ID：11823848
> 
> 赞同：4
> 
> 时间：2012-08-06T07:06:41.687
> 
> 标签：ejb-3.0, weblogic-10.x

我正在开发一个 EJB 应用程序。我必须在会话 bean（EJB3）方法上应用基于角色的安全性，为此我尝试使用“@RolesAllowed”注释会话 bean 方法，如下所示，

为了创建用户、组和角色，我使用如下 jazn-data.xml，

部署 EJB 并运行应用程序后，确实应用了安全性并引发异常 [EJB:010160]Security Violation: User: 'XXX' has enough permission to access EJB

如下添加 weblogic ejb 部署描述符后，

```
<?xml version = '1.0' encoding = 'windows-1252'?>
<weblogic-ejb-jar xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                  xsi:schemaLocation="http://xmlns.oracle.com/weblogic/weblogic-ejb-jar http://xmlns.oracle.com/weblogic/weblogic-ejb-jar/1.1/weblogic-ejb-jar.xsd"
                  xmlns="http://xmlns.oracle.com/weblogic/weblogic-ejb-jar">
    <weblogic-enterprise-bean>
        <ejb-name>ApplicationFacade</ejb-name>
        <stateless-session-descriptor/>
        <enable-call-by-reference>true</enable-call-by-reference>
    </weblogic-enterprise-bean>
    <security-role-assignment>
        <role-name>PVUser</role-name>
        <principal-name>pv</principal-name>
    </security-role-assignment>
    <security-role-assignment>
        <role-name>PRUser</role-name>
        <principal-name>pr</principal-name>

    </security-role-assignment>
</weblogic-ejb-jar> 
```

它开始按预期工作。

我的问题与 weblogic ejb 部署描述符（weblogic-ejb-jar.xml）有关，每次添加新用户时，我是否必须为每个用户（主名）输入一个条目，或者是否有办法我可以映射一个用户组？

如果我错过了添加权限所需的任何其他配置，也请告诉我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-26T03:58:10.000

答案是肯定的，

*   您需要做的是通过登录到 weblogic 控制台创建一个名为 xxx 的组（在 Security Realms 面板中修改）
*   然后将所有用户添加到名为 xxx 的组中
*   最后在 weblogic ejb 部署描述符中，您只需
    将组名指定为

> <principal-name>xxx组名</principal-name>

*   结果，组内的每个成员都将共享权限。

# java - 在 ASP.Net 中使用具有 usernametoken 和客户端证书的 Java weblogic Web 服务

> ID：11823849
> 
> 赞同：0
> 
> 时间：2012-08-06T07:06:45.830
> 
> 标签：java, asp.net, x509certificate, wse, usernametoken

我需要使用使用 java web 逻辑服务器开发的 web 服务，用户名令牌和客户端证书用于调用服务。我得到了调用 Web 服务的 java 代码，如下所示

```
import javax.ejb.CreateException;
import javax.ejb.SessionBean;
import javax.ejb.SessionContext;
import javax.naming.Context;
import javax.naming.InitialContext;
import javax.naming.NamingException;
import java.rmi.RemoteException;
import weblogic.wtc.jatmi.TPException;
import weblogic.wtc.jatmi.TypedString;
import weblogic.wtc.jatmi.Reply;
import weblogic.wtc.jatmi.TuxedoReply;
import weblogic.wtc.jatmi.TPServiceInformation;
import weblogic.wtc.jatmi.TypedFML32;
import weblogic.wtc.jatmi.TuxedoService;
import weblogic.wtc.jatmi.TypedBuffer;
import java.util.StringTokenizer;
import java.io.IOException;
import javax.xml.rpc.ServiceException;
import MMSWbSrv.*;
import java.util.Properties;
import java.text.SimpleDateFormat;
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.io.FileInputStream;
import java.security.cert.X509Certificate;
import weblogic.security.SSL.TrustManager;
import weblogic.xml.crypto.wss.provider.CredentialProvider;
import weblogic.xml.crypto.wss.WSSecurityContext;
import weblogic.wsee.security.bst.ClientBSTCredentialProvider;
import weblogic.wsee.security.unt.ClientUNTCredentialProvider;
import java.security.cert.X509Certificate;
import weblogic.wsee.security.util.CertUtils;
import javax.xml.rpc.Stub;
import java.util.List;
import java.util.ArrayList;
import java.util.regex.*;
import weblogic.wtc.jatmi.TypedFML32;
public class MMSTest
{
public static void main(String args[])  throws Throwable
{

        Properties sysProps = System.getProperties();
        sysProps.setProperty("http.proxyHost","XXX.XX.X.XX");
        sysProps.setProperty("http.proxyPort","XXXX");
        sysProps.setProperty("weblogic.webservice.transport.http.proxy.host", "XXX.XX.X.XX");
        sysProps.setProperty("weblogic.webservice.transport.http.proxy.port", "XXXX");
        sysProps.setProperty("http.proxySet","true");
        sysProps.setProperty("weblogic.webservice.verbose","true");

        sysProps.setProperty("javax.net.ssl.trustStore","D:/weblogic92/server/lib/DemoTrust.jks");

        System.out.println("proxyHost::"+ sysProps.getProperty("http.proxyHost"));
        System.out.println("proxyPort::"+ sysProps.getProperty("http.proxyPort"));

        MMSService service = null;
        MMSPortType port =   null;

        try{
            System.out.println("before..");
            service = new MMSService_Impl("http://XXX.XX.X.XX/MMS/Service?wsdl");
            System.out.println("after..");
            if(service==null)
                System.out.println("NULL SERVICE");
            System.out.println("got service...");
             port = service.getMMSServicePort();
            if(port==null)
                System.out.println("NULL PORT");
        }
        catch(ServiceException svcEx)
        {
            System.out.println("In ServiceXexception");
        }

        List credProviders = new ArrayList();
        System.out.println("After cred");

        String clientCertFile = "F:/client-cert.der";
        String keyFile = "F:/client-key-pkcs8.der";

        String username = "userName" ;
        String password = "Password" ;

        CredentialProvider cp = new ClientBSTCredentialProvider(clientCertFile, keyFile);

        credProviders.add(cp);

        System.out.println("credProviders:"+credProviders);
        System.out.println("cp:"+cp+":");

        String strret= "";
        try{

            cp = new ClientUNTCredentialProvider(username, password);
            credProviders.add(cp);
            Stub stub = (Stub)port;
            System.out.println("before");
            stub._setProperty(WSSecurityContext.CREDENTIAL_PROVIDER_LIST, credProviders);
            System.out.println("after");
            stub._setProperty(WSSecurityContext.TRUST_MANAGER,
                new TrustManager()
                {
                    public boolean certificateCallback(X509Certificate[] chain, int validateErr)
                    {
                        return true;
                    }
                }
            );

        String strArg = "Parameters";
        strret = port.sendData(strArg); 

        }
        catch(Exception e)
        {
            System.out.println("JJJ");
            e.printStackTrace();
        }           
        System.out.println("strret:"+strret);
}
} 
```

还有 .pfx 格式的客户端证书和 .key 文件。所以使用 WSE3.0 我尝试使用如下服务

```
 WebReference.MMSServiceWse wse = new MMSServiceWse();
        UsernameToken token = new UsernameToken("XXXX", "XXXX",             PasswordOption.SendPlainText);
        wse.RequestSoapContext.Security.Tokens.Add(token);
        X509Certificate2 cert = new X509Certificate2(@"D:\\certificate.pfx","",X509KeyStorageFlags.MachineKeySet);
        wse.ClientCertificates.Add(cert);
        wse.SetPolicy("ClientPolicy");
        //System.Net.ServicePointManager.CertificatePolicy =new      TrustAllCertificatePolicy();
        String strArg = "Param";
       strArg= wse.sendData(strArg); 
```

但我有例外。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-18T11:44:30.150

当我遇到这种情况时，通常是因为服务器和客户端上的时间相差太大。安全令牌有一个有效期，如果您不同步，它似乎已过期或更糟，在未来。

# ios - NSURL 图像加载减慢了应用程序的打开时间 - iOS

> ID：11823852
> 
> 赞同：0
> 
> 时间：2012-08-06T07:07:01.463
> 
> 标签：ios, xcode, nsurl

我有一个可滚动的视图，其中 UIImageView 对象是根据文件数动态添加的。UIImageView 从一个 url 加载它的图像。因此，例如，如果我要加载大约 50 张图像，我怎么能不让加载阻止应用程序打开。此图像加载到初始视图控制器上。我想将一个活动指示器作为子视图添加到 UIImageView 对象。然后它可以加载图像。但是，该应用程序会等到所有图像都加载完毕，然后再打开。因此，我看到黑屏将近一分钟。任何建议将不胜感激

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:10:12.230

你可以使用次要`thread`的。用于`NSThread`启动辅助`thread`. [https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/nsthread_Class/Reference/Reference.html](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/nsthread_Class/Reference/Reference.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:37:02.373

您可以查看异步加载图像并让 iOS 处理线程。

看看这个教程。 [http://www.markj.net/iphone-asynchronous-table-image/](http://www.markj.net/iphone-asynchronous-table-image/) 它展示了如何将动态加载的图像添加到表中。但是，其背后的原理也适用于您的滚动视图。

原理是继承 UIImage 并添加从 URL 异步加载和接收数据并最终显示图像的方法。

# sql-server - 使用查询产生的电子邮件从 SQL 发送电子邮件

> ID：11823853
> 
> 赞同：0
> 
> 时间：2012-08-06T07:07:02.083
> 
> 标签：sql-server, email

我有一个包含订单状态和电子邮件地址的表，如果我执行 select * 语句，这就是我的输出

姓名。电子邮件地址 批准代码 订单状态。票数。

胡安·里维拉。胡安@anyemail.com。无效的。1 50 Maria Rosales Maria @anyemail.com。5567657\. 1\. 25 何塞·阿尔蒙特。何塞@anyemail.com。无效的。1\. 10

我想做的是每晚运行一个存储过程，并向每个批准代码中包含 null 的用户发送一封电子邮件，例如：

亲爱的：何塞，

我们注意到您的订单不包含批准代码，除非在接下来的 72 小时内输入批准代码，否则此订单将被取消。

谢谢

这可能吗 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:14:09.783

请参考[SQL SERVER – 2008 – 配置数据库邮件 – 从 SQL 数据库发送电子邮件](http://blog.sqlauthority.com/2008/08/23/sql-server-2008-configure-database-mail-send-email-from-sql-database/)

# android - 如何从 url 站点获取图片并将其存储到设备？

> ID：11823854
> 
> 赞同：-4
> 
> 时间：2012-08-06T07:07:05.963
> 
> 标签：android

> **可能重复：**
> [Android：如何从 url 存储图像并将其保存在 SD 卡中](https://stackoverflow.com/questions/3296850/android-how-to-store-images-from-url-save-it-in-sd-card)

我从网络解析一个 xml 文件

它有一个像这样的图片网址：[http://xxxxxx.jpg](http://xxxxxx.jpg)

然后我用一个

> 私人字符串 url_picture = " [http://xxxxx.jpg](http://xxxxx.jpg) ";

我想将图片存储到设备中

我能怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:26:48.510

我编写了这段代码来接收来自 url 的图像。如果您检查此链接，它会告诉您如何将其保存在 sd-card[存储位图图像到 Android 中的 SD 卡](https://stackoverflow.com/questions/7844746/store-bitmap-image-to-sd-card-in-android)

```
private Bitmap getBitmap(String str, Options options) {
    // TODO Auto-generated method stub
    Bitmap bm = null;
    InputStream inStream = null;
    try {
        inStream = HttpConnection(str);
        bm = BitmapFactory.decodeStream(inStream, null, options);
        inStream.close();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

    return bm;
} 
```

# database - 如何从数据库创建 UISelectItems

> ID：11823856
> 
> 赞同：0
> 
> 时间：2012-08-06T07:07:16.867
> 
> 标签：database, jsf-2, custom-component

我们需要使用数据库中的 SeletItem 填充 UISelectOne 和 UISelectMany 组件。我决定创建一个能够提供 SelectItems 的子组件元素，而不是子类化。这样我们就不必为此行为引入新的组件。

但我看不出最好的方法是什么。起初我以为我只需要一个 TagHandler，但似乎这个想法是死路一条。我尝试在应用方法中创建 SelectItems，但我不知道如何将项目添加到组件中。

有没有别的办法。我必须创建一个组件而不是 TagHandler 吗？

无论如何，我可能走错了路：如上所述，我尝试将项目添加到组件中，但这不应该由组件树自动完成。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T11:58:31.653

> *但我不知道如何将项目添加到组件*

只需将其添加为已作为参数提供的父组件的子组件[`apply()`](http://docs.oracle.com/javaee/6/api/javax/faces/view/facelets/FaceletHandler.html#apply%28javax.faces.view.facelets.FaceletContext,%20javax.faces.component.UIComponent%29)。

```
parent.getChildren().add(selectItems); 
```

# symfony - symfony2 entityMetadata->getFieldNames() 不包括关系字段

> ID：11823862
> 
> 赞同：0
> 
> 时间：2012-08-06T07:07:48.200
> 
> 标签：symfony, doctrine-orm

我尝试在 Symfony2 中使用 $this->entityMetadata->getFieldNames() 从实体中获取所有字段名称。我得到的数组不包括 oneToMany 关系字段或任何其他关系字段。

有没有办法通过使用该函数来获取所有字段？我当然可以修改原始代码，但我想知道为什么该函数不包含所有字段。

我遇到问题的捆绑包是 Ddeboers，否则是优秀的[数据导入捆绑包](https://github.com/ddeboer/DdeboerDataImportBundle)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:42:03.507

元数据类还包括一个名为“getAssociationNames()”的函数，它返回关系字段的列表。请看一下

[http://www.doctrine-project.org/api/orm/2.2/source-class-Doctrine.ORM.Mapping.ClassMetadataInfo.html](http://www.doctrine-project.org/api/orm/2.2/source-class-Doctrine.ORM.Mapping.ClassMetadataInfo.html)

了解此调用返回的信息的结构

# c# - 在 datagridview 行中查找字符串的索引？

> ID：11823867
> 
> 赞同：0
> 
> 时间：2012-08-06T07:08:07.577
> 
> 标签：c#, datagridview

我想`DataGridView`连续查找字符串的索引，这是我的代码：

```
 DataGridViewRow row = dgvVisual.Rows.Cast<DataGridViewRow>().FirstOrDefault(r => (string)r.Cells[0].Value == "9"); 
```

但是返回值`row`是`null`a而不是a `DataGridViewRow`，怎么解决这个问题呢？

整个代码在这里：

```
 SqlCommand cmd;
   cmd = new SqlCommand("select * from MyTable , SqlConnection);
     SqlDataReader read;
            read = cmd.ExecuteReader();

            while (read.Read())
            {
                int ColIndex= int.Parse(read["ColumnName"].ToString()) + 1;
                int RowIndex = -1;
                DataGridViewRow row = dgvVisual.Rows.Cast<DataGridViewRow>().FirstOrDefault(r => (string)r.Cells[0].Value == (string)read["ColumnNameB"].ToString().Trim());
                if (row != null)
                    RowIndex = row.Index;
                DataGridViewCheckBoxCell chkbxCell = (DataGridViewCheckBoxCell)dgvVisual[ColIndex, RowIndex];
                chkbxCell.Value = true;

            }
            read.Close(); 
```

问题已解决，因为数据库中存在一些问题并且回读不正确。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:43:43.257

它返回 null 因为`FirstOrDefault()`，这意味着它没有找到您的查询的任何结果。确保您确实有任何符合该条件的行。

如果没有看到您的数据，很难说您的 lambda 查询是否正确。

# android - 加载背景图像时 Android 4.1 中的问题

> ID：11823873
> 
> 赞同：1
> 
> 时间：2012-08-06T07:08:26.350
> 
> 标签：android, gif, android-4.2-jelly-bean

我的应用程序在所有版本中都可以正常工作，但在 4.1 中，背景看起来是黑色的。我正在使用 gif 文件。

4.1支持gif文件吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:24:05.527

尝试使用文件，您可以使用画图或其他软件`png`转换文件。`gif`Android 4.1 不支持`GIF`将文件设置为背景。

# android - instagram 应用程序如何在 Android 应用程序中创建 tabbar 的视图？

> ID：11823877
> 
> 赞同：1
> 
> 时间：2012-08-06T07:08:42.670
> 
> 标签：android

谁能指导我 instagram 应用程序如何在 Android 应用程序中创建标签栏的视图？我想在我的应用程序中创建相同的标签栏。

**截屏**

* * *

![在此处输入图像描述](../Images/49575c9a31eb6594788d09aa3a6e3a63.png)

# cordova - Sencha Touch+PhoneGap 中的相机功能，{如何通过单击按钮访问相机。以及如何用捕获的图像替换默认图像}

> ID：11823878
> 
> 赞同：0
> 
> 时间：2012-08-06T07:08:45.663
> 
> 标签：cordova, sencha-touch, extjs, sencha-touch-2

我已经**使用 Sencha Touch** for *android 和 iphone*实现了一个 Phone Gap 应用程序。

在这个应用程序中

在我的一个视图（页面）中，**我在图像下方有一个默认图像和按钮**。

**`button is to access camera feature action`**和_**`default image is is replaced by the captured image.`**

![在此处输入图像描述](../Images/1ec646e01f6c30baa4eac9f6f237389d.png)

*`how to access camera by clicking a button. and how to replace the default image with the captured image`*

通过浏览我发现了以下链接，

[http://docs.sencha.com/touch/2-0/#!/api/Ext.device.Camera](http://docs.sencha.com/touch/2-0/#!/api/Ext.device.Camera)

但我不知道如何将这段代码与我的按钮单击动作连接起来，以及如何替换图像源

任何人都可以帮助我吗

我认为我的代码：

```
{
                xtype: 'panel',
                title: 'Camera Page',
                layout: {
                    type: 'vbox',
                    align: 'center',
                    pack: 'center',
                    },

                items: [
                      //Default image it should be replace with the new one

                            {
                            xtype: 'image',
                            src: 'images/Gallery.png',
                            height: 200,
                            left: 200,
                            top: 0,
                            width: 300
                            },

                      //Button to move to the camera feature      
                            {
                            xtype: 'button',
                            id: 'CameraClick',
                            ui: 'action',
                            text: 'Camera',
                            top: 222,
                            left: 200,
                            padding: 20,
                            },

                       ]
        }, 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T09:49:39.597

它应该是这样的

```
 {
        id: 'capturedImage',
        xtype: 'image',
        src: 'images/Gallery.png',
        height: 200,
        left: 200,
        top: 0,
        width: 300
    },

    {
        xtype: 'button',
        id: 'CameraClick',  
        ui: 'action',
        text: 'Camera',
        top: 222,
        left: 200,
        padding: 20,
        handler: function(){
            Ext.device.Camera.capture({
                success: function(image) {
                    var imageView = Ext.getCmp('capturedImage');
                    imageView.setSrc(image);
                },                          
                destination: 'camera'
// other options goes here. Use documentation http://docs.sencha.com/touch/2-0/#!/api/Ext.device.Camera-method-capture
            });
        }
    }, 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-12-19T11:54:04.167

您是否在文件中添加了 requires: ['Ext.device.Camera'] 那么它应该可以工作。

# android - 在视图的前台打开视图作为弹出窗口

> ID：11823882
> 
> 赞同：0
> 
> 时间：2012-08-06T07:08:51.873
> 
> 标签：android, popup, transparent

我想在单击按钮时打开弹出视图，但弹出窗口后面的活动应该是可见的，因为创建的弹出窗口的背景需要按需透明。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:15:25.770

你可以做如下

```
final Dialog nagDialog = new Dialog(MyActivity.this,android.R.style.Theme_Translucent_NoTitleBar);
                nagDialog.requestWindowFeature(Window.FEATURE_NO_TITLE); 
                nagDialog.setCancelable(true);
                nagDialog.setContentView(R.layout.temp);

                nagDialog.show(); 
```

其中 temp 是您的透明布局。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:17:03.467

我的弹出代码：-

```
LayoutInflater layoutInflater  =     (LayoutInflater)IOStatusActivity.this.getSystemService(LAYOUT_INFLATER_SERVICE)    
final View popupView = layoutInflater.inflate(R.layout.popupai, null);  

final PopupWindow popupWindowDi = new PopupWindow(popupView,  LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);  

final   TextView txtReadVal = (TextView)popupView.findViewById(R.id.lblPopUpAiReadFrmPLC);
final   EditText txtExpVal = (EditText)popupView.findViewById(R.id.txtPopUpAiExpVal);
Button btnDismiss = (Button)popupView.findViewById(R.id.btnPopUpAiCancle);                          
btnDismiss.setOnClickListener(new Button.OnClickListener(){
@Override
public void onClick(View v) {
popupWindowDi.dismiss();
}});` 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:12:57.160

看看制作一个[对话框片段](http://developer.android.com/reference/android/app/DialogFragment.html) 和这个[答案](https://stackoverflow.com/a/6059132/492561)

# internet-explorer-8 - PIE.htc 圆角在 IE8 中不起作用

> ID：11823884
> 
> 赞同：0
> 
> 时间：2012-08-06T07:09:14.503
> 
> 标签：internet-explorer-8, css, css3pie

我的代码在这里

[http://jsfiddle.net/parag1111/s5RLb/](http://jsfiddle.net/parag1111/s5RLb/)

**PIE.htc 在 CSS 文件夹中。** 我还添加了 PIE 的 JS 并添加了 PIE.htc 的行为。让我知道我还能做些什么来使它在 IE8 和 IE7 中工作。

我用过[http://css3pie.com/](http://css3pie.com/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T03:35:02.510

Got the answer, I need to put full URL of PIE.htc, if its in local we need to give D:/project/PIE.htc ..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:59:05.550

可能是服务器配置问题。在 PIE zip 文件夹中捆绑有一个`PIE.php`文件，该文件是在以下情况下设计的：

```
the web server is not configured to serve .htc files with the text/x-component
content-type, and cannot easily be configured to do so (as is the case with some
shared hosting providers) 
```

尝试上传`PIE.php`到您的服务器，然后更改

```
behavior: url(PIE.htc); 
```

至

```
behavior: url(PIE.php); 
```

# java - Java 错误，重复的局部变量

> ID：11823885
> 
> 赞同：4
> 
> 时间：2012-08-06T07:09:18.760
> 
> 标签：java, variables, duplicates, local

我正在尝试调试分配的一部分代码（我对 Java 还是很陌生），并且已经梳理了许多资源来解决这个冲突，但仍然不能完全解决。

```
public static void main(String [] args){
    Scanner keyboard = new Scanner(System.in);
    String input = null;
    do
    {
      System.out.println("Enter 'A' for option A or 'B' for option B.");
      String input = keyboard.next();
      input.toLowerCase();
      input.charAt(0);  
    }
    while ((input != "a") || (input != "b"));
} 
```

我总是收到输入字符串的重复局部变量错误。

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-06T07:12:00.360

代替

```
String input = keyboard.next(); 
```

和

```
input = keyboard.next(); 
```

如果你`String`在变量名前加上a，它就是一个声明。而且你只能在一个范围内声明一个变量名一次。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-06T07:12:46.967

您已`input`两次声明该变量。您将需要更改此行：

```
String input = keyboard.next(); 
```

对此：

```
input = keyboard.next(); 
```

此外，此代码很可能不起作用：

```
((input != "a") || (input != "b")) 
```

在 Java 中，使用 方法比较字符串`.equals()`，所以这一行：

```
((input != "a") || (input != "b")) 
```

需要改成这样：

```
((!input.equals("a")) || (!input.equals("b"))) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-06T07:11:16.757

Yoy重复了`String input`声明。一次就够了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T07:17:24.730

您已`input`两次声明该变量。在`main`方法内部`input`只声明一次。在里面使用以下代码`do {}`：

```
input = keyboard.next(); instead of  String input = keyboard.next(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-06T07:12:05.540

```
public static void main(String [] args){
    Scanner keyboard = new Scanner(System.in);
    String input = null;
    do
    {
      System.out.println("Enter 'A' for option A or 'B' for option B.");
      input = keyboard.next();
      input.toLowerCase();
      input.charAt(0);  
    }
    while ((input != "a") || (input != "b"));
} 
```

问题是您再次在内部声明输入`do{}`。所以它应该只是

`input=keyboard.next();`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-06T07:27:14.260

据我所知，这不是隐藏变量的方式。

这就是我的意思

```
private static String input = null;    
public static void main(String [] args){
    Scanner keyboard = new Scanner(System.in);
    do
    {
      System.out.println("Enter 'A' for option A or 'B' for option B.");
      String input = keyboard.next();
      input.toLowerCase();
      input.charAt(0);  
    }
    while ((input != "a") || (input != "b"));
} 
```

# binary - RapidMiner - 二项式到整数的转换

> ID：11823894
> 
> 赞同：2
> 
> 时间：2012-08-06T07:10:57.723
> 
> 标签：binary, integer, numerical, rapidminer

我需要将数据传递给神经网络运算符。一些属性是二项式的，神经网络不接受二项式数据类型，但它接受整数。没有二项式到整数（数值）类型转换运算符。那么我该如何转换呢？

感谢您的回答

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T08:06:03.907

您可以使用“Nominal to Numerical”运算符，该运算符也适用于二项式类型。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-27T13:12:49.177

使用名义到数值运算符。然而，这有点棘手——您需要选择“值类型”选择器，然后选择二项式。如果您选择单个或子集，则只会向您提供多项式属性，至少在我的版本中是这样。

# c - 在 c for linux 中替换 getchar 和 clrscr()

> ID：11823904
> 
> 赞同：4
> 
> 时间：2012-08-06T07:11:58.193
> 
> 标签：c, linux

这些天我在 Ubuntu 上工作。当我使用 gcc 编译我的 C 程序时，它给出的错误`conio.h`不存在。我想使用`clrscr()`和`getch()`功能。你能告诉我这个头文件在linux中的替代品吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T07:15:32.423

该`getch()`功能可以在`curses.h`（库“curses”）中找到。同一个库提供了清除屏幕的功能。查看这些链接：

[http://linux.die.net/man/3/getch](http://linux.die.net/man/3/getch)

[http://linux.die.net/man/3/erase](http://linux.die.net/man/3/erase)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-01-13T08:35:00.030

`system("clear");`可以在**linux**中使用，而不是`clrscr();`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-10-02T17:29:15.273

```
# include <curses.h>

       int erase(void);
       int werase(WINDOW *win);
       int clear(void);
       int wclear(WINDOW *win);
       int clrtobot(void);
       int wclrtobot(WINDOW *win);
       int clrtoeol(void);
       int wclrtoeol(WINDOW *win);

DESCRIPTION
       The erase and werase routines copy blanks to every position in
       the window, clearing the screen. 
```

我猜这个问题一再被否决，因为它意味着对基本 C 语言功能的理解不足和/或 OP 只是将代码复制/粘贴到编辑器/IDE 中。

同样，只需`system("exit");`在您的代码中使用：

```
#include<stdlib.h>
main()
{
system("clear"); //clears the screen
} 
```

检查手册页显示：

```
SYSTEM(3)                                 Linux Programmer's Manual   SYSTEM(3)

NAME
       system - execute a shell command

SYNOPSIS
       #include <stdlib.h>

       int system(const char *command);

DESCRIPTION
       system() executes a command specified in command by calling /bin/sh -c 
command, and returns after the command has been completed.  
During execution of the command, SIGCHLD will be blocked, and SIGINT
and SIGQUIT will be ignored. 
```

* * *

也可能是这个问题可能与以下问题重复：

*   [如何在 Linux 中实现 C 的 getch() 函数？](https://stackoverflow.com/questions/3276546/how-to-implement-getch-function-of-c-in-linux)
*   [为什么我在 Linux 上找不到 <conio.h>？](https://stackoverflow.com/questions/8792317/why-cant-i-find-conio-h-on-linux)
*   [Turbo C 函数 `clrscr` 和 `cprintf` 的 GNU/Linux 替代品](https://stackoverflow.com/questions/7079943/gnu-linux-replacements-for-turbo-c-functions-clrscr-and-cprintf?rq=1)
*   [C 和 C++ 中的函数 clrscr](https://stackoverflow.com/questions/3226329/function-clrscr-in-c-and-c)
*   [“未定义对 clrscr() 的引用；”](https://stackoverflow.com/questions/21750450/undefined-refrence-to-clrscr?rq=1)
*   [替代 getch()、gotoxy()、delay()、clrscr()](https://stackoverflow.com/questions/5693130/substitute-for-getch-gotoxy-delay-clrscr?rq=1)
*   [Linux 中的 getch() 和 getche() 等价于什么？](https://stackoverflow.com/questions/7469139/what-is-equivalent-to-getch-getche-in-linux?rq=1)

最后，请查看以下内容以获取更多详细信息和示例：

*   [http://tldp.org/HOWTO/NCURSES-Programming-HOWTO/scanw.html#GETCHCLASS](http://tldp.org/HOWTO/NCURSES-Programming-HOWTO/scanw.html#GETCHCLASS)
*   [http://ubuntuforums.org/showthread.php?t=549023](http://ubuntuforums.org/showthread.php?t=549023)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T07:16:30.533

显然你没有尝试谷歌搜索。

没有直接的替代方案。

这篇博文：[http](http://wesley.vidiqatch.org/code-snippets/alternative-for-getch-and-getche-on-linux/) ://wesley.vidiqatch.org/code-snippets/alternative-for-getch-and-getche-on-linux/为您提供了`getch()`和`getche()`

或者，您可以使用 libncurses 做您想做的事：http: [//tech.dir.groups.yahoo.com/group/linux/message/29221](http://tech.dir.groups.yahoo.com/group/linux/message/29221)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-06-30T13:25:52.777

curses.h 是 conio.h 的替代品。安装 build-essentials 并安装 libncurses5-dev。

然后你可以使用这些功能。[http://ubuntuforums.org/showthread.php?t=880601][1]

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-03-27T01:36:56.243

在 G++ 编译器中，我们使用头文件`system("clear")`中定义的函数`stdlib.h`

```
#include<iostream>
#include<stdlib.h>

int main() {
  std::cout<<"Hello Aliens:";
  system("clear");
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-07-03T17:29:26.923

我正在修改一些代码；安装 ncurses 后，我插入了以下代码：

```
#include <stdio.h>
#include <ncurses.h>

main ()
{

system ("clear");
getchar ();

} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-01-10T14:28:23.593

还有另一种方法可以通过 C 代码而不是系统调用来完成。

```
void clrscr(void) {
  fprintf(stdout, "\033[2J\033[0;0f");
  fflush(stdout);
} 
```

我很久以前就找到了它，并且我已经成功地在 raspbian 上检查了它。

并且：

```
void gotoxy(int x, int y) {
  printf("%c[%d;%df",0x1B, y, x);
} 
```

我希望它对你有帮助。

问候。

# webserver - 找出 Windows 2008 R2 生产服务器出了什么问题

> ID：11823905
> 
> 赞同：0
> 
> 时间：2012-08-06T07:11:58.333
> 
> 标签：webserver, windows-server-2008-r2

今天早上，我的生产服务器（Windows 2008 R2）离线 10 分钟，并且 RDP 连接在给定的持续时间内丢失。在此期间，IIS 7 托管的生产网站也停止响应。

幸运的是，10 分钟后，服务器自行启动，RDP 会话恢复到之前的状态。

现在的问题是我如何找出服务器出了什么问题，是否有任何日志可以通过验证我的发现。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T16:21:20.843

如果您转到运行提示并键入`eventvwr`它将打开事件查看器。从这里展开`Windows Logs`树并查看`System`日志。某些事情会导致重新启动，您应该可以通过这里找到它。

一个好的旧栗子是 Windows 更新。他们不是在自动安装和重新启动是吗？:]

# dotnetnuke - 如何避免 dnn 中的 jquery 冲突

> ID：11823908
> 
> 赞同：2
> 
> 时间：2012-08-06T07:12:01.357
> 
> 标签：dotnetnuke

我正在开发 dnn 模块。随着同一页面上模块数量的增加，Jquery 会多次调用。

```
 (function ($) {  
        $('#grid').hoverfold();
    })(jQuery); 
```

这是我用来避免冲突的方法。如果我对下一个效果使用相同的效果，它就不起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T13:37:29.743

例如，如果您看一下，`/DesktopModules/Admin/HostSettings/HostSettings.ascx`您会注意到 dnn 核心开发人员正在使用以下代码：

```
(function ($, Sys) {
 $(document).ready(function () { 
    //Your code goes here.
 });
}(jQuery, window.Sys));
```

除此之外，如果您注意到该`$(document).ready`功能，他们会重复相同的代码来处理由于更新窗格而导致的 ajax 回发。这将确保即使模块启用了 ajax，您的代码也能正常工作。

```
 $(document).ready(function () {
        setUpDnnHostSettings();
        Sys.WebForms.PageRequestManager.getInstance().add_endRequest(function () {
            setUpDnnHostSettings();
        });
    });
```

您还可以在 admin 文件夹的 core 中查看其他 ascx 控件。我希望这将有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:15:50.323

```
var $j = jQuery.noConflict();
$j(document).ready(function(){
    ...code goes here...
}); 
```

尝试这个，

# java - JButton 不工作

> ID：11823910
> 
> 赞同：1
> 
> 时间：2012-08-06T07:12:09.267
> 
> 标签：java, linux, swing, jbutton, jfilechooser

我最近为我的应用程序开发了一个 GUI，它在 Linux Ubuntu 10.04 上运行 shell 脚本。直到今天它工作正常。我设计了一个按钮，单击该按钮将打开选择文件的提示。JFileChooser 用于操作。但是从今天早上开始，没有任何错误，单击该按钮不会执行任何操作。它不只是突然工作。这是什么错误？有人可以帮忙吗？这是与安装的 OS/Java 相关的任何错误吗？

提前致谢。

```
int yorn = JOptionPane.YES_OPTION;
String user = System.getProperty("user.home");
File file = new File(user+"/.afile");
if (file.exists()){
    yorn = JOptionPane.showConfirmDialog(this,"There seem to have a Previous project , Do you want to back up??");

    if (yorn == JOptionPane.YES_OPTION){ // yesoption clicked!

        //choose folder to open!
        JFileChooser jf = new JFileChooser();
        jf.setDialogTitle("Back up location?");
        String pathname = null;
        jf.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
        jf.showOpenDialog(null);
        File f = jf.getSelectedFile();
        pathname = f.getAbsolutePath();
        // JOptionPane.showMessageDialog(this,pathname);
        try{
            Process copy = Runtime.getRuntime().exec("sh "+user+"/myprojects/.backup.sh "+pathname);
        }
        catch(Exception e){
            JOptionPane.showMessageDialog(this, e);
        }

        //open file for analysing..
        JOptionPane.showMessageDialog(this,"Backing up complete.. ");

        JFileChooser jf2 = new JFileChooser();
        jf2.setDialogTitle("Open the Codebase");
        String pathname2 = null;
        jf2.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
        jf2.showOpenDialog(null);
        File f2 = jf2.getSelectedFile();
        pathname2 = f2.getAbsolutePath();
        String username = System.getProperty("user.home");
        File writefile = new File(username+"/.afile");              

        Writer output = null;
        try {
            output = new BufferedWriter(new FileWriter(writefile));
            output.write(pathname2);
            output.close();

            //    JOptionPane.showMessageDialog(this,username);
        } catch (IOException ex) {
            Logger.getLogger(MainWindow.class.getName()).log(Level.SEVERE, null, ex);
        }

    } else if (yorn == JOptionPane.NO_OPTION){       

        JFileChooser jf = new JFileChooser();
        jf.setDialogTitle("Open the Codebase");
        String pathname = null;
        jf.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
        jf.showOpenDialog(null);
        File f = jf.getSelectedFile();          
        pathname = f.getAbsolutePath();
        String username = System.getProperty("user.home");
        File writefile = new File(username+"/.afile");              
        Writer output = null;
        try {
            output = new BufferedWriter(new FileWriter(writefile));
            output.write(pathname);
            output.close();

            //    JOptionPane.showMessageDialog(this,username);
        } catch (IOException ex) {
            Logger.getLogger(MainWindow.class.getName()).log(Level.SEVERE, null, ex);
        }
    }
} 
```

这是代码。它的作用是检查文件是否存在，如果存在，则提示进行备份。如果备份是，则备份并打开一个新窗口以进行另一个选择，如果备份是否，则打开文件选择。正如我所提到的，这一直有效，直到我问这个问题。它突然停止工作。感谢所有的答复。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:21:29.930

您应该按照之前的要求提供一个示例，但这是一段对我有用的代码，在 linux/MAC OS/Windows 下进行了测试：

```
/* chooser is of type JFileChooser of course */
chooser.setDialogTitle("title of your dialog");
chooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY /* change it to fit your needs */);
chooser.setAcceptAllFileFilterUsed(false);
chooser.showOpenDialog(null); 
```

# c# - 在设计时更改自定义控件默认文本属性

> ID：11823913
> 
> 赞同：2
> 
> 时间：2012-08-06T07:12:26.140
> 
> 标签：c#, winforms, controls

我创建了一个用户控件。它基本上是一个带有一些自定义属性的按钮。

```
public partial class CustomButton : Button {
    // My custom properties, constructor and events
} 
```

每次我`CustomButton`在表单上添加它时，它的默认`Text`值都设置为“ *customButtonX* ”，其中 X 是 1、2、3，...

如何更改此值？我希望它是“ *buttonX* ”（X = 1、2、3...）。

**编辑：**当我通过设计视图在表单上添加按钮时，我希望技巧（或我必须做的任何事情）处于活动状态。`CustomButton`这意味着当我将 a从工具箱拖放到表单时，它的`Text`值应该是“ *buttonX* ”。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-06T07:17:18.673

默认值为“yourControlNameX”，这是正确的。但是您可以替换构造函数中的名称。

**请注意，这只适用于运行时（而不是设计时）**

```
public partial class CustomButton : Button {
    // My custom properties, constructor and events

    public CustomButton() 
    {  
         this.Text = this.Text.Replace("customButton ", "button");
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-06T07:17:33.913

只需覆盖文本并在其中设置任何您想要的内容。

```
public partial class CustomButton  : Button {

    public override string Text
    {
        get
        {
            //return custom text
            return base.Text;
        }
        set
        {
            //modify value to suit your needs
            base.Text = value;
        }
    }
 } 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-06T09:43:20.337

当您将控件从工具箱拖到窗体时，会触发一些事件。在您的情况下，您必须订阅当控件的文本属性从 String.Empty 更改为默认名称时触发的那个并更改它。为此，您必须在将控件添加到表单之前获取公开这些事件的服务（IComponentChangeService 的实现）。这可以通过覆盖控件的 Site 属性来完成。修改您可以在[此处](http://msdn.microsoft.com/en-us/library/system.componentmodel.design.icomponentchangeservice.aspx)找到的示例，这种代码应该可以工作：

```
 private IComponentChangeService _changeService;

    public override System.ComponentModel.ISite Site
    {
        get
        {
            return base.Site;
        }
        set
        {
            _changeService = (IComponentChangeService)GetService(typeof(IComponentChangeService));
            if (_changeService != null)
                _changeService.ComponentChanged -= new ComponentChangedEventHandler(OnComponentChanged);
            base.Site = value;
            if (!DesignMode)
                return;
            _changeService = (IComponentChangeService)GetService(typeof(IComponentChangeService));
            if (_changeService != null)
                _changeService.ComponentChanged += new ComponentChangedEventHandler(OnComponentChanged);
        }
    }

    private void OnComponentChanged(object sender, ComponentChangedEventArgs ce)
    {
        CustomButton aBtn = ce.Component as CustomButton;
        if (aBtn == null || !aBtn.DesignMode)
            return;
        if (((IComponent)ce.Component).Site == null || ce.Member == null || ce.Member.Name != "Text")
            return;
        if (aBtn.Text == aBtn.Name)
            aBtn.Text = aBtn.Name.Replace("customButton", "button");
    } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-02-07T06:07:34.227

可能您可以使用 ControlDesigner 并在初始化后设置 Text 属性。

```
public class MultiDesigner : ControlDesigner
{
    public MultiDesigner()
    {

    }

    public override void InitializeNewComponent(IDictionary defaultValues)
    {
        base.InitializeNewComponent(defaultValues);

        ICommonControl control = this.Component as ICommonControl;
        control.Text = control.Tag.ToString();
    }
} 
```

用..装饰你的控件

```
[Designer("MultiPuntoDeVenta.Controls.Tickets.Editors.Designer.MultiDesigner, MultiPuntoDeVenta.Controls")]
public class LabelBase<T> : KryptonLabel, ICommonControl where T : ICommonControl
{
..... 
```

# html - CSS Div Block重新排列多个屏幕

> ID：11823914
> 
> 赞同：0
> 
> 时间：2012-08-06T07:12:29.127
> 
> 标签：html, css

所以我想做的是设计一个有两个侧边栏和一个主要文章区域的页面。不过，由于它缩小以供平板电脑或手机使用，我希望两个侧边栏移动，以便它们首先垂直堆叠在主要区域旁边，然后最终都移动到它下方。我遇到的问题是我无法让他们在这样做时正确重新订购。

左边的三个部分（台式机/平板电脑/手机）是我想要的。右边的页面是它现在的样子。基本上我需要 5 移动到 4 以下，3 移动到 4/5 旁边以查看平板电脑视图，然后 4 移动到 3 以下移动以查看手机视图。

我希望这是有道理的？如果有帮助/很重要，我正在使用 Dreamweaver。谢谢！

[点击看看我的意思！](http://img16.imageshack.us/img16/7779/wantedzz.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T07:38:10.173

**如果**已知某些高度，则可以这样做。

小提琴：http: [//jsfiddle.net/BramVanroy/Pt7sS/](http://jsfiddle.net/BramVanroy/Pt7sS/)

`#contentWrap`要完成这项工作，`#sideRight`需要知道它的高度。如果这些未知，您可以通过 jQuery 获取高度。

```
html, body, #header1, #header2, #contentWrap {
    width: 100%
}

#header1 {
    background: red;
    height: 50px
}

#header2 {
    background: green;
    height: 40px
}

#sideLeft, #main, #sideRight {
    box-sizing: border-box;
    float: left;
    height: 200px
}

#sideLeft, #sideRight {
    width: 20%;
    background: #333
}

#main {
    background: grey;
    width: 60%
}

@media screen and (max-width: 768px) {
    #main {
        float: right;
        width: 65%
    }

    #sideRight {
        clear: left
    }

    #sideRight, #sideLeft {
        width: 35%;
        height: 100px
    }
}

@media screen and (max-width: 480px) {

    #sideLeft, #main, #sideRight {
        float: none;
        width: 100%;
        position: absolute
    }

    #contentWrap {
        position: relative;
        height: 400px
    }

    #main {
        top: 0
    }

    #sideLeft {
        bottom: 100px
    }

    #sideRight {
        bottom: 0
    }
}
​ 
```

# .htaccess - .htaccess 未被读取

> ID：11823915
> 
> 赞同：12
> 
> 时间：2012-08-06T07:12:33.013
> 
> 标签：.htaccess

我试图将我的主页或网站上的任何其他页面重定向到特定的 php 页面。这是我的 htaccess

```
Redirect 301 http://test.com/info http://test.com/get_forms_data.php
Options +FollowSymlinks
RewriteEngine ON
RewriteRule ^test.php$ http://test.com/get_forms_data.php [R=301,L] 
```

我检查了我的 apache 服务器 .rewrite 已启用。

它仍然不起作用。

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-03-27T12:06:24.837

如果无论您将什么放入`.htaccess`文件中，您甚至都没有收到错误，这意味着您可能**需要**

`AllowOverride All`

在您的站点配置中设置。

如果您使用的是 ubuntu，则查找配置的位置是`/etc/apache2/sites-available/`. `default`如果这是默认**LAMP**堆栈 ( [https://help.ubuntu.com/community/ApacheMySQLPHP](https://help.ubuntu.com/community/ApacheMySQLPHP) ) 的库存安装，您应该在那里找到一个名为的文件。

关键部分是这样的：

```
<Directory /var/www/>
    Options Indexes FollowSymLinks MultiViews
    AllowOverride None
    Order allow,deny
    allow from all
</Directory> 
```

现在更改`AllowOverride None`为`AllowOverride All`. 之后不要忘记像这样重新启动你的apache：

```
$ service apache2 restart 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-08-18T15:38:13.517

作为对摩根的回答的补充，`AllowOverride All`有时放入您的虚拟主机是不够的。我的虚拟主机中有这个：

```
<VirtualHost *:80>
  ...
  <Directory />
   ...
   AllowOverride All
   ...
  </Directory>
</VirtualHost> 
```

您会期望它可以工作，不是吗，`<Directory />`这意味着它应该应用于文件系统上的任何地方。但`.htaccess`还是被无视了。重新启动服务器没有帮助。我将垃圾放入 .htaccess 文件中以确认它没有被读取。

我的错误是假设虚拟主机覆盖了全局配置。确实如此：我的上述配置覆盖了`/`目录的任何全局设置。但是全局配置会覆盖它`/var/www/`并在下面覆盖它。我的解决方法是：

```
<VirtualHost *:80>
  ...
  <Directory /var/www>
   ...
   AllowOverride All
   ...
  </Directory>
</VirtualHost> 
```

（这假设不需要在外部应用任何其他配置`/var/www`；如果需要，`<Directory />`请为该特殊配置创建一个单独的块。）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-09-27T10:51:23.790

我在同样的问题上苦苦挣扎，达伦库克的回答给了我找到解决方案的明确线索。

`www`我的应用程序位于公共路径之外的某个文件夹中，比如说在`/opt/my_app`. 我无法创建`VirtualHost`，所以我在 Apache 的公共`www`ponting 中创建了一个符号链接到我的文件夹：

`/var/www/html/my_app -> /opt/my_app`

问题是，在我的应用程序的 Apache 配置文件中，我指定：

```
<Directory /opt/my_app>
  AllowOverride All
</Directory> 
```

我的`.htaccess`文件没有被读取。然后我看到在 Apache 的配置中是这样的：

```
<Directory /var/www/html>
  AllowOverride None
</Directory> 
```

然后我意识到**Apache 配置文件不关心 symlinks**，因此一般规则被应用于我的应用程序的文件夹。我改为`Directory`：

```
<Directory /var/www/html/my_app>
  AllowOverride All
</Directory> 
```

一切正常。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-05-30T10:19:54.537

假设 /var/www/html 是工作目录：从 AllowOverride None 更改为 AllowOverride All

```
<Directory /var/www/html>
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
</Directory> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-10-03T14:29:43.597

### 如果在更新 apache2.conf 后重定向不起作用

根据接受的答案，我更新`AllowOverride None`到**apache2.conf**`AllowOverride All`文件中，但是通过 .htaccess 文件的**重定向**仍然对我**不起作用**！

 ******```
<Directory /var/www/>
    Options Indexes FollowSymLinks MultiViews
    AllowOverride All   # did not work inspite of setting to "All"
    Order allow,deny
    allow from all
</Directory> 
```

### 什么对我有用...

我还必须**启用模块重定向**

```
// enable module redirection
sudo a2enmod rewrite 
```

当然，不要忘记重新启动您的 apache 服务器以使更改生效

**[参考](https://digitalfortress.tech/bugfix/fix-htaccess-not-being-read/)********

# android - Getting error while executing SenchaTouch sample project in android?

> ID：11823930
> 
> 赞同：1
> 
> 时间：2012-08-06T07:14:24.070
> 
> 标签：android, cordova, sencha-touch, extjs, sencha-touch-2

I am new to developing android applications with Sencha Touch. By following the documentation from [Hybrid applications using phonegap and sencha touch](http://android.amolgupta.in/2011/07/hybrid-applications-using-phonegap-and.html) i created sample app. When i am trying to execute the following sample project it is getting error as **"08-06 12:28:51.394: E/AndroidRuntime(277): Caused by: java.lang.ClassNotFoundException: com.demo.senchademoproj.MainActivity in loader dalvik.system.PathClassLoader[/data/app/com.demo.senchademoproj-1.apk] "**. And my logcat output is

![enter image description here](../Images/591e7cb702eabe237401b29c1bdd629b.png)

My AndroidManifest.xml file is

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.demo.senchademoproj"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="6" />

<supports-screens android:largeScreens="true"
    android:normalScreens="true" android:smallScreens="true"
    android:resizeable="true" android:anyDensity="true" />
<uses-permission android:name="android.permission.CAMERA" />
<uses-permission android:name="android.permission.VIBRATE" />
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_LOCATION_EXTRA_COMMANDS" />
<uses-permission android:name="android.permission.READ_PHONE_STATE" />
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.RECEIVE_SMS" />
<uses-permission android:name="android.permission.RECORD_AUDIO" />
<uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />
<uses-permission android:name="android.permission.READ_CONTACTS" />
<uses-permission android:name="android.permission.WRITE_CONTACTS" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name=".MainActivity"
        android:label="@string/title_activity_main" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application> 
```

I don't know what the mistake i am getting. I checked my AndroidManifest.xml file twice.

Can anyone please suggest me what's the mistake i am doing & **Please suggest me how & from where to start learning & developing of android applications using Sencha Touch Library.....**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T11:56:13.523

For developing sencha touch/phonegap/jquery mobile application with android eclipse there is a plugin available.just install that plugin in your eclipse and you easily will be able to create sencha project in eclipse...

follow steps below

every time including jquery for every new project is not a smart task,i am giving u one link by which u will be able to install phonegap plugin in eclipse,so after following that u will get such symbol as given in below image. After clicking on that symbol u will be able to create phonegap project directly from that,and project will automatically include all jquery min js, phonegap.js etc files required for creating phonegap environment.here is a image!

![enter image description here](../Images/7479acbf81d819b6dd65e01da7edf864.png)

and here is a link u need to follow for installing phonegap plugin(I.E Sencha touch plugin) in eclipse follow all steps given on than have a look at this link

[STEP1](http://www.mobiledevelopersolutions.com/home/start)

[STEP2](http://www.mobiledevelopersolutions.com/home/start/startdetails)

and that's it after following this you will be able to create sencha project in eclipse....

for more detail see [MY POST](http://tech-aamir.blogspot.in/2012/06/making-phonegap-development-environment.html)

i hope this will solve ur query.... best of luck

# java - 在java中使用嵌套的xml开始标签解析XML

> ID：11823931
> 
> 赞同：2
> 
> 时间：2012-08-06T07:14:32.030
> 
> 标签：java, xml, xml-parsing

你能帮我解析带有嵌套`<?xml version="1.0" encoding="utf-8"?>`标签的xml吗？当我试图解析这个 xml 时，我得到了解析错误。

```
<?xml version="1.0" encoding="utf-8"?>      
<soap>
            <soapenvBody>
                <serviceResponse>
                    <?xml version="1.0" encoding="UTF-8"?>
                    <data>
                        <respCode>0</respCode>
                    </data>
                </serviceResponse>
            </soapenvBody>
        </soap> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:22:38.297

我不认为这真的是一个Java问题。在 XML 正文中包含第二个 XML 声明是非法的，因此我认为您无法让任何 XML 解析器来解析它。如果您可以控制 XML（看起来您正在生成它以存储响应），那么您可以尝试使用[CDATA](http://en.wikipedia.org/wiki/CDATA)包装内部 XML 文档：

```
<?xml version="1.0" encoding="utf-8"?>     
<soap>
    <soapenvBody>
        <serviceResponse>
          <![CDATA[
              <?xml version="1.0" encoding="UTF-8"?>
              <data>
                  <respCode>0</respCode>
              </data>
          ]]>
        </serviceResponse>
    </soapenvBody>
</soap> 
```

***编辑：***

我认为您很可能根本不希望该响应中包含额外的 XML 声明。您是否可以控制创建响应的代码？我的猜测是 XML 片段`<data>...</data>`被创建为一个单独的 DOM 对象，然后字符串被拼接在响应的中间。写出整个*XML 文档对象*会导致包含 XML 声明，但如果您只是抓住*文档根节点对象*( `<data>`) 并将其写为字符串，那么它可能不会包含导致您所有这些的额外 XML 声明麻烦。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-14T14:14:20.450

我突然想到，为处理 HTML 而制作的解析器可能会做你想做的事。由于与严格的 XML 相比，HTML 往往是一团糟，因此 HTML 解析器通常更具容错性。快速搜索出现了[jsoup](http://jsoup.org/)。我`respCode`大致可以使用以下代码从您的示例 XML 中提取：

```
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;

String data = "your xml goes here";
Document doc = Jsoup.parse(data);
String respCodeRaw = doc.select("respCode").first().text();
int respCode = Integer.valueOf(respCodeRaw); 
```

（我实际上在 Clojure repl 中测试了该库，但上面的代码应该可以工作！）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:20:14.947

以like开头的标签`<?`是处理指令。`<?xml...>`是一个 XML 声明，只能出现在 xml 内容的开头。在 XML 正文中是不允许的。

为什么你的皂体含有这个？您可以选择删除它吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-12T07:56:06.727

我没有在 java 中找到任何解析器来解析这样的嵌入式 xml，因为它不是有效的 xml，我猜几乎所有的解析都会在解析之前验证 xml。所以我选择预处理 xml 并选择内部 xml 然后使用 SAX 解析器解析 xml 并从 xml 中检索值。伙计们感谢您的回复。

# jquery - var createControl = function (attribute){ ...} $.fn.createControl = function (attribute) { .. } 有什么区别

> ID：11823933
> 
> 赞同：-1
> 
> 时间：2012-08-06T07:14:41.763
> 
> 标签：jquery, jquery-plugins

和有什么区别

```
var createControl = function (attribute){ ...} 
```

**和**

```
$.fn.createControl = function (attribute) { .. } 
```

在 jQuery 中。将函数从 $.fn.createControl 更改为 var createControl 有什么好处。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T07:21:27.393

```
var foo = function (param) { ... } 
```

将函数分配给`foo`。

```
$.fn.foo = function (param) { ... } 
```

扩展了 jQuery 的原型`foo`。`fn`只是一个快捷方式，`prototype`并且`$`是`jQuery`. 您可以编写与以下内容相同的内容：

```
jQuery.prototype.foo = function (param) { ... } 
```

不同的是前者只是一定范围内的一个变量，在它之外是不可见的。后者是扩展 jQuery 全局对象的方法，从而使变量可以从任何地方访问，因为 jQuery 对象附加到`window`, 是全局的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:16:42.077

它是编写 jQuery 插件语法的一部分，因此您可以像这样调用自定义插件：

```
$(selector).createControl(); 
```

[http://docs.jquery.com/Plugins/Authoring](http://docs.jquery.com/Plugins/Authoring)

这样，您`createControl()`就可以知道它被调用了哪些元素。如果您正在这样做`var createControl`，则需要将选择器传递给函数，或者在函数中对其进行硬编码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:20:18.020

的使用`$.fn.createControl = function() {}`允许使用插件。例如，如果有人想为某事制作插件并想让用户决定他希望插件用于该人的元素可以做`$('#element').createControl();`

只是做`var createControl = function() {}`只是创建一个函数，它的唯一用途是单独调用，例如`createControl();`在它前面没有任何选择器元素。

# android - 重定向用户从浏览器下载安卓应用

> ID：11823943
> 
> 赞同：-2
> 
> 时间：2012-08-06T07:15:53.577
> 
> 标签：android, redirect, browser, google-play

有谁知道当用户点击浏览器中的链接时如何重定向用户，以便它会自动打开 google play store 并要求用户下载特定的应用程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:22:50.980

谷歌播放的常规旧链接将重定向到播放应用程序。

[http://developer.android.com/distribute/googleplay/promote/linking.html](http://developer.android.com/distribute/googleplay/promote/linking.html)

但是，如果您仅从应用程序链接设备，则最好使用以下格式。市场：//详情？id=

设置二维码也可能是有利的，对某些用户来说可能更容易；

您可以使用 googles chart api 来实现这一点

[https://chart.googleapis.com/chart?chs=150x150&cht=qr&chl=market://details?id=packagename](https://chart.googleapis.com/chart?chs=150x150&cht=qr&chl=market://details?id=packagename)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:22:46.033

这将自动发生，如果用户想用他选择的浏览器或 Play 商店打开链接，系统会提示他。

# javascript - JQuery / Javascript 内联回调

> ID：11823944
> 
> 赞同：0
> 
> 时间：2012-08-06T07:16:19.800
> 
> 标签：javascript, jquery, tornado

在 tornado 中，我们有`gen`模块，它允许我们编写如下结构：

```
def my_async_function(callback): 
    return callback(1)

@gen.engine 
def get(self): 
    result = yield gen.Task(my_async_function) #Calls async function and puts result into result variable 
    self.write(result) #Outputs result 
```

我们在`jquery`或其他 javascript 库中是否有相同的语法糖？

我想要这样的东西：

```
function get_remote_variable(name) { 
    val = $.sweetget('/remote/url/', {}); //sweetget automatically gets callback which passes data to val
    return val
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T17:43:08.420

1.8 之前的 jQuery 版本通过[设置支持](http://api.jquery.com/jQuery.ajax/)[同步 ajax 调用`async: false`](http://api.jquery.com/jQuery.ajax/)。这是一个有限制的hack（没有跨域或jsonp，锁定浏览器），如果可能的话我会避免它。

有几个可用的库为 Javascript 中的异步操作提供了一些语法糖。例如：

*   [https://github.com/caolan/async](https://github.com/caolan/async)
*   [https://github.com/coolaj86/futures](https://github.com/coolaj86/futures)

...但是我认为没有任何东西可以提供您正在寻找的同步语法 - 由于 JavaScript 在浏览器中的工作方式，总是涉及回调。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T18:09:22.587

您将该函数描述为“my_async_function”，但您使用它的方式是*[synchronous](https://www.google.com/search?q=synchronous&tbs=dfn:1)*而不是*[asynchronous](https://www.google.com/search?q=asynchronous&tbs=dfn:1)*。

您的示例代码需要阻塞——如果“my_async_function”是真正异步的（非阻塞），那么`self.write(result)`在您调用“my_async_function”之后，以下代码行将立即执行。如果函数需要任何时间（我的意思是**any**）返回一个值，`self.write(result)`最终会写什么？也就是说，如果`self.write(result)`执行之前`result`曾经有一个值，你不会得到预期的结果。因此，“my_async_function”必须阻塞，它必须等待返回值才能继续前进，因此它不是异步的。

具体到您的问题`$.sweetget('/remote/url/', {})`：为了实现这一点，您必须能够阻止，直到 ajax 请求（它本质上是异步的——它将第一个 A 放入 AJAX）返回一些东西。

您可以通过延迟返回`sweetget`直到 XHR 状态发生变化来破解同步调用，但是您将使用`while`循环（或类似的东西）并冒着阻塞浏览器 UI 线程或设置其中一个“此脚本也正在占用”的风险长”警告。Javascript 不提供线程控制。你不能指定你当前的线程正在等待，所以继续做一分钟别的事情。您也可以通过手动测试超时阈值来解决这个问题。

现在人们应该开始怀疑：为什么不直接使用回调呢？无论您如何切片，Javascript 都是单线程的。不`sleep`，不`thread.sleep`。这意味着任何同步代码都会阻塞 UI。

在这里，我已经模拟了`sweetget`大致的样子。如您所见，一旦执行进入该紧密`while`循环，您的浏览器线程就会锁定。实际上，在我的计算机上，在浏览器显示无响应的脚本对话框之前，ajax 请求甚至不会触发。

```
// warning: this code WILL lock your browser!
var sweetget = function (url, time_out) {
    var completed = false;
    var result = null;
    var run_time = false;
    if (time_out)
        run_time = new Date().getTime();

    $.ajax({
        url: url,
        success: function(data) {
            result = data;
            completed = true;
        },
        error: function () {
           completed = true;
        }
    });                    // <---- that AJAX request was non-blocking

    while (!completed) {  // <------ but this while loop will block
        if (time_out) {
            if (time_out>= run_time)
                break;
            run_time = new Date().getTime();
        }
    }
    return result;
};

var t = sweetget('/echo/json/');
console.log('here is t: ', t); 
```

试试看：http: [//jsfiddle.net/AjRy6/](http://jsfiddle.net/AjRy6/)

# javascript - 按钮 onClick 在 Mozilla 上执行两次

> ID：11823947
> 
> 赞同：0
> 
> 时间：2012-08-06T07:16:25.963
> 
> 标签：javascript, asp.net

我在按钮上有一个 javascript，在单击它后将文本转换为“等待...”。问题是在 Mozilla 上它在点击后执行了两次。这是代码：

```
 System.Text.StringBuilder sb = new System.Text.StringBuilder();
    sb.Append("if (typeof(Page_ClientValidate) == 'function') { ");
    sb.Append("if (Page_ClientValidate() == false) { return false; }} ");
    sb.Append("this.value = 'Please wait...';");
    sb.Append("this.disabled = true;");    
    sb.Append(this.Page.ClientScript.GetPostBackEventReference(this.btnSave, ""));
    sb.Append(";");
    this.btnSave.Attributes.Add("onclick", sb.ToString()); 
```

html是：

```
<div class="btns-action">
   <input type="submit" value="Submit" id="btnSave" runat="server" style="margin-left: 112px;"
      onserverclick="btnSave_Click" class="ui-button ui-widget ui-state-default ui-corner-all" />
   <a href="Login.aspx">Go Back&nbsp;<span class="arr">&raquo;</span></a>
</div> 
```

该代码还在禁用按钮之前检查页面是否有效，以便如果它无效，用户可以再次单击它。这就是我这样做的原因。有没有办法解决这个问题？谢谢

稍后编辑：解决它的一件事是我取下了 UpdatePanel。整个页面都在更新面板中。但这不应该是解决这个问题的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:22:55.647

如果您添加了 OnClick 服务器端事件，则不需要最后 3 行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-06T07:55:30.807

您可以简单地借助这个 javascript 函数：

```
function CheckEmptyFields(){
document.getElementById('<%=btnSave.ClientID %>').disabled = "disabled";           
document.getElementById('<%=btnSave.ClientID %>').value = "Please wait...";
<%= ClientScript.GetPostBackEventReference(btnSave, "") %>;
} 
```

并将其添加到您的按钮中

```
OnClientClick="CheckEmptyFields();" 
```

所以，现在你的按钮应该是：

```
<asp:Button Text="Submit" id="btnSave" runat="server" style="margin-left: 112px;"
  onclick="btnSave_Click" OnClientClick="CheckEmptyFields();" class="ui-button ui-widget ui-state-default ui-corner-all" /> 
```

# c# - 从函数返回多个结果

> ID：11823953
> 
> 赞同：0
> 
> 时间：2012-08-06T07:17:15.240
> 
> 标签：c#, .net, arrays, return-value

我有以下代码：

```
public object[] Dispatch(string arg)
{
    int time;
    int i = 0;
    object[] array = new object[10];
    if (int.Parse(arg) >= 0 && int.Parse(arg) <= 20)
    {
        array[i] = new ComputeParam(int.Parse(arg));
    }
    else
    {
        if (arg[0] == '/' && arg[1] == 't')
        {
            Options opt = new Options();
            time = opt.Option(arg);
        }
    }
    return array;
} 
```

我将参数传递给我的程序，`ArgsParser`如果它们是数字，则将它们放入数组中，或者如果参数类似于`/t:=Max`. 问题是我需要数组和时间，而且我不能返回两个值。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-06T07:21:10.117

您可以为此使用返回类，只需创建一个自定义对象：

```
public class DataRC {
      public object[] aObj { get; set;}
      public DateTime dtTime {get; set;}
} 
```

并改变你的功能，所以：

```
public class ArgsParser
{

   public DataRC Dispatch(string arg)
   {
       DataRC dResult = new DataRC();
       int time;
       int i = 0;
       dResult.aObj = new object[10];
       if (int.Parse(arg) >= 0 && int.Parse(arg) <= 20)
       {
           dResult.aObj[i] = new ComputeParam(int.Parse(arg));
       }
       else
       {
           if (arg[0] == '/' && arg[1] == 't')
           {
               Options opt = new Options();
               // Is this where you need the time?
               dResult.dtTime = opt.Option(arg);
           }
       }
       return dResult;
   }
 }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-06T07:19:32.250

使用 ac sharp out 参数返回时间。这将允许您从一个函数返回多个值。方法参数上的 out 方法参数关键字导致方法引用传递给方法的相同变量。当控制权传递回调用方法时，对方法中的参数所做的任何更改都将反映在该变量中。

[http://msdn.microsoft.com/en-us/library/t3c3bfhx(v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/t3c3bfhx%28v=vs.71%29.aspx)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-06T07:24:12.133

只要未指定它是什么 .net 框架，您就可以在较新的框架版本上使用 Tuple 类型：

```
Tuple<object[], DateTime> Dispatch(string arg) 
```

但正如 Shai 所写，最好为此创建一个返回类。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-06T07:24:25.143

您可以：

1.  使用出参数
2.  为返回类型创建一个自定义类，并在其中封装您想要返回的内容。

我更喜欢方法 2，因为返回参数可能会变得杂乱无章，如果调用代码返回一个符合预期的自定义对象，它会变得更加简洁。但当然，这取决于每种情况。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-08-06T07:43:18.530

## `Parse()`会崩溃！采用`TryParse()`

1.  如果`arg`等于`/t:=Max`或任何其他非整数， [`int.Parse(arg)`](http://msdn.microsoft.com/en-us/library/b3h1hf19.aspx)则将抛出[异常](http://msdn.microsoft.com/en-us/library/system.formatexception.aspx)。
2.  您`int.Parse()`不必要地调用了两次（甚至更多！）。

因此，您应该将您的更改`if-else`为：

```
...
int argInt;
if(int.TryParse(arg, out argInt) && ...)
{
    array[i] = new ComputeParam(argInt);
}
else
... 
```

## 您的答案：

### 选项1：[`out`](http://www.dotnetperls.com/out)参数

将方法定义更改为下面，并`time`按照您的方式进行设置：

```
public object[] Dispatch(string arg, out int time) 
```

### 选项 2：将返回值封装在对象中

定义一个如下所示的类，并返回它的一个实例：

```
class DispatchReturn
{
    object[] array;
    int      time;
} 
```

然后返回它：

```
public DispatchReturn Dispatch(string arg) 
```

### 选项 3：更改解析器类。不！

您可以将`array`和都`time`放在解析器中作为字段，但要**避免**它！它违反*[了关注点分离](http://en.wikipedia.org/wiki/Separation_of_concerns)*。

## 包起来

```
public ComputeParam[] Dispatch(string arg, out time)
{
    if (arg == null)
        throw new ArgumentNullException("arg");

    ComputeParam[] array = new ComputeParam[1];
    int argInt;

    if (int.TryParse(arg, out argInt) && 0 <= argInt && argInt <= 20)
    {
        array[0] = new ComputeParam(argInt);
        time     = 0; // You must always set an out param
    }
    else if (arg.StartsWith("/t")
    {
        time = new Options().Option(arg);
    }

    return array;
} 
```

### 你应该回答这些问题：

1.  有什么作用`i`？这总是等于`0`吗？
2.  为什么你的返回类型是 s 的数组`object`，而不是`ComputeParam`s？
3.  为什么要为**10 个**元素创建数组并只放置一个？

上面的代码可以根据您的答案进行重大更改。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-06T07:27:28.777

作为 Shai 答案的进一步阐述，您可以`ArgsParser`保留输出参数本身。如果感觉正确，可以在其构造函数中完成解析：

```
public class ArgsParser
{
   public object[] aObj { get; set;}
   public DateTime dtTime {get; set;}

   public ArgsParser(string arg)
   {
       int time;
       int i = 0;
       aObj = new object[10];
       if (int.Parse(arg) >= 0 && int.Parse(arg) <= 20)
       {
           aObj[i] = new ComputeParam(int.Parse(arg));
       }
       else
       {
           if (arg[0] == '/' && arg[1] == 't')
           {
               Options opt = new Options();
               // Is this where you need to time?
               dtTime = opt.Option(arg);
           }
       }
   }
 }
} 
```

我假设 ArgsParser 仅用于参数解析

# c# - 处理数据库不可达导致的 NHibernate 延迟加载异常

> ID：11823964
> 
> 赞同：2
> 
> 时间：2012-08-06T07:17:47.107
> 
> 标签：c#, nhibernate, exception-handling

我有一个使用 NHibernate 映射域的应用程序和一个带有 MVVM 模式的图形界面。当网络出现故障时，数据库（非本地）无法访问，因此我应该能够向用户显示消息并关闭应用程序而不会崩溃。当应用程序尝试使用 try-catch 打开会话时，我可以在开始时这样做，但以后似乎很难做到。它使用延迟加载，因此对数据库的查询可能随处发生，而且它不像使用 try-catch 那样简单。我能做些什么来解决它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T10:00:08.487

要控制 NHibernate 抛出的异常类型，您可以实现 NHibernate.Exceptions.ISQLExceptionConverter 并将其传递给您的 Configuration 对象。 [这](http://fabiomaulo.blogspot.se/2009/06/improving-ado-exception-management-in.html)是有关此接口的更多信息。

# javascript - JQuery .each() ：匿名函数的性能？

> ID：11823965
> 
> 赞同：4
> 
> 时间：2012-08-06T07:17:48.830
> 
> 标签：javascript, jquery

只是一个小的理论性能问题：

如果我有类似的东西：

```
$(".somediv").each(function() {
   // perform some heavy stuff here
}); 
```

如果我将匿名函数的代码重构为命名函数，例如：

```
f = function() {
   // perform some heavy stuff here
};

$(".somediv").each(f); 
```

不知何故，我有这种非理性的怀疑，它告诉我也许每次循环中都会重新创建匿名函数？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T07:21:50.013

如果您关心性能，那么您不应该使用`.each()`. `for`使用循环或`while`循环迭代集合的内容并且根本没有函数调用比使用`.each()`其对每个项目的结果函数调用要快得多。

在回答您的问题时，匿名函数不会比命名函数慢。差异在运行时之前的解析时解决。

[这个 jsPerf](http://jsperf.com/each-vs-for-loop-mine)显示了一个普通的循环，几乎比[http://jsperf.com/each-vs-for-loop-mine](http://jsperf.com/each-vs-for-loop-mine)`for`快 10 倍。`.each()`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:22:21.627

让我们考虑代码（jquery 1.7.1）：

```
// "public" each
each: function( callback, args ) {
    return jQuery.each( this, callback, args );
}

// "local" each
each: function( object, callback, args ) {
    // [...]

    if (args) {
        // [ args is for internal use ...]
    // A special, fast, case for the most common use of each
    } else {
        if (isObj) {
            for (name in object) {
                if (callback.call(object[name], name, object[name]) === false) {
                    break;
                }
            }
            // [...] 
```

可以看到，`callback`直接引用和使用。没有复制`callback`功能。不过，如果 jQuery 要复制函数，您建议的解决方法将*在jQuery 中产生相同的行为。*

注意：在 JavaScript 中，函数是对象。一种函数声明语法与另一种不同，没有“不合理”的理由。唯一的区别是范围。您建议的解决方法将使该函数成为全局函数，而另一个匿名函数是`each`调用的“本地”函数

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:19:31.037

它没有被重新创建，它被创建一次并且引用被传递给 function `$.each()`。然后该函数通过其引用调用匿名函数。

如果存在差异，我认为除了*其他人阅读您的代码时最容易理解*的模式之外，使用不同的模式并不足以保证使用不同的模式。如果代码中出现性能问题，请对其进行测量并找到瓶颈。几乎可以肯定它不是来自这样的东西。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T07:27:27.387

这是 .each() 和 for 循环的比较：

[http://jsperf.com/jquery-each-perf-test2/2](http://jsperf.com/jquery-each-perf-test2/2)

# ios - 在 iOS 中存储多个静态数据的最佳实践

> ID：11823967
> 
> 赞同：1
> 
> 时间：2012-08-06T07:17:57.967
> 
> 标签：ios, cocoa

我需要存储预先配置的值，这些值稍后将用于用户可以从 iOS 应用程序中的表中选择的选项，大概有 5-10 个选项。
就性能和效率而言，存储此类数据的最佳方式是什么？
我可能会想到几种方法，例如：

*   在渲染方法中硬编码
*   大批

*   plist 文件

*   核心数据

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-08T03:07:45.270

静态数据应存储在将加载值的适当类的静态变量中。

无论您是否从文件加载字典，这里都是如何静态加载字典或数组，因此它只在您的应用程序中完成一次。

```
//.h
@interface MyApp

+(void) initialize; //will only be called once when the class is loaded

//.m

static NSArray *myListOfStuff;

@implementation MyApp

+(void) initialize {
    //...either load your values from a file or hard code the values here
    //init and assign values to myListOfStuff
}

//a statis getter for the list
+(NSArray *) listOfStuff {
    return myListOfStuff;
}

//Client Code to get the list in your app
NSArray *myList = [MyApp listOfStuff];

//This memory will not be released for the life of the application.
//it will be loaded once and only once - its efficient 
```

如果持久性是你所追求的，谷歌将字典或数组持久化到 plist

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:30:33.970

如果它真的只有大约 5 到 10 个数据项，那么您可以将它们存储在 NSDictionary 或 Array 中，并将其保存在 plist 文件中并从中读取。您可以使用`dictionaryWithContentsOfFile`方法或`arrayWithContentsOfFile`分别从 plist 中读取并`writeToFile`用于写入。

对于大量数据，您可以查看核心数据。

# java - 在android java代码中使用common.lang.StringUtils时出现NoClassDefFoundError？

> ID：11823975
> 
> 赞同：5
> 
> 时间：2012-08-06T07:18:34.343
> 
> 标签：java, android, jar, apache-commons

我收到此错误：-NoClassDefFoundError 无论代码使用 StringUtils 类或方法。我已将 jar 文件正确添加到代码中，并且在我的代码中没有显示任何类型的错误（使用 Eclipse Indigo）。

我有什么遗漏的地方吗？我在其他项目中使用过这个 jar 文件，但它们工作正常。

请帮助如果有人遇到类似的问题？谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-06T07:23:24.530

是的，这是因为您的`.jar`文件没有正确导入。请按照以下步骤操作 -

1.  将您的`.jar`文件放在项目的`libs`文件夹中。

2.  将其导入您的项目。并且，GoTo 项目 -> 属性 -> Java 构建路径 -> 订单选项卡。

3.  检查，您的`.jar`文件是否已检查并按 1 的顺序放置。这是主要的事情。

希望这些步骤对您有所帮助。看看下面的图片 -

![在此处输入图像描述](../Images/c0ae3b4e8e26d0d580f816edc23be802.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T07:23:46.940

请注意，构建类路径与运行时类路径不同。您必须将所需的 JAR 添加到两者中。

这是我在 Eclipse 中不喜欢的事情之一......

**编辑**：要将 JAR 添加到运行时类路径：在 Eclipse 中，双击与您的项目关联的 plugin.xml 文件。在 Runtime 选项卡上有一个 Classpath 类别。从那里，您可以将 JAR 添加到运行时类路径。

这是一个屏幕截图来说明这一点：

![plugin.xml 运行时类路径](../Images/5b87ce7b093277dd0046dc1ebca918d1.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-06T07:21:07.360

jar 文件是在 lib 文件夹还是 libs 文件夹中？

较新的 SDK 要求 jar 文件位于 libs 文件夹中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-06T07:22:48.810

我不知道你是如何执行你的代码的，但这显然意味着 jar 没有正确添加到你的类路径中，特别是如果你的代码在 Eclipse 中编译。

将它添加到您的类路径中 - 或重新检查它是否已正确添加 - 执行时它应该可以工作。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-06T07:23:39.147

右键单击项目，选择构建路径 -> 配置构建路径并选择库选项卡。然后使用添加罐子，添加有问题的罐子。（如果您使用的是 eclipse）

# c# - 同一命名空间中的类和扩展方法容器类。有什么好处？

> ID：11823977
> 
> 赞同：3
> 
> 时间：2012-08-06T07:18:48.963
> 
> 标签：c#, extension-methods, nbuilder

我在单元测试中尝试[了 NBuilder](http://nbuilder.org/)。一个优秀的图书馆。但是，我无法解释以下类和接口的结构。

*   在`FizzWare.NBuilder`命名空间中：

    *   `ISingleObjectBuilder`
    *   `SingleObjectBuilderExtensions`
*   在`FizzWare.NBuilder.Implementation`

    *   对象生成器`
    *   `ObjectBuilder`
*   `SingleObjectBuilderExtensions`只是`IObjectBuilder`.

*   客户端代码通常应该使用一个名为的类`Builder`，它有一个静态方法，可以为您提供`ISingleObjectBuilder`. 您永远不需要在客户端代码中实例化任何类。

现在，我不明白`SingleObjectBuilderExtensions`. 它会给设计带来任何好处吗？`ISingleObjectBuilder`当两个接口在同一个命名空间中时，为什么不直接使用方法。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-06T07:28:17.067

`ISingleObjectBuilder`是一个接口；接口不能提供实现。这意味着每个实现`ISingleObjectBuilder`都需要提供实现。

然而，在许多情况下，一个方法有一个预定义的行为，并且只需要访问接口的其他成员（即只是 的成员`ISingleObjectBuilder`），所以让每个实现都提供这个并没有什么好处。

此外，向现有接口*添加更多成员*并不是一个好主意，因为这将是所有现有实现的重大更改。

扩展方法解决了这两个问题：

1.  扩展方法将适用于所有实现`ISingleObjectBuilder`
2.  它不会更改现有 API，因此所有现有实现将继续有效

将它放在同一个命名空间中只会使其方便。很有可能，任何 using 的代码`ISingleObjectBuilder`都已经有一个`using`导入该命名空间的指令；因此，大多数代码只需在 IDE 中按下即可在 IDE 中看到扩展*方法*`.`。

添加一个具体示例，LINQ-to-Objects 适用于`IEnumerable<T>`. 有**很多**实现`IEnumerable<T>`。如果他们每个人都必须编写自己的`First(...)`, `FirstOrDefault(...)`, `Any(...)`, `Select(...)`etc 方法，那将是一个*巨大*的负担 - 机器人不会提供任何好处，因为在大多数情况下实现几乎相同。此外，回顾性地将其安装到界面上将是灾难性的。

附带说明：方法的**每个类型**版本**始终**优先于扩展方法，因此**如果**（在 LINQ-to-Objects 的情况下）您有一个实现`IEnumerable<T>`（对于 some `T`）的类型，并且该类型有一个`.First()`实例方法， 然后：

```
YourType foo = ...
var first = foo.First(); 
```

将使用**您的**版本，而不是扩展方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T07:24:33.897

扩展方法只是语法糖。它们是正常的静态方法，可以处理它们“扩展”公开的类的公共数据。

这些扩展方法似乎不需要使用私有字段，它还使您能够拥有接口而不是抽象类。并且每个人都知道接口是比抽象类更好的选择。

两者都在同一个命名空间中的原因是为了避免仅仅为了使用扩展方法而声明新的命名空间。有多少次这种情况发生在您身上，您尝试使用 LINQ 只是发现智能感知中没有方法或代码没有编译。没有包含 System.Linq 命名空间的原因。

# wpf - WPF 样式的好学习材料

> ID：11823978
> 
> 赞同：1
> 
> 时间：2012-08-06T07:18:49.380
> 
> 标签：wpf

谁能告诉我一些教程或学习材料，用于学习按钮、标签和其他 wpf 控件的 WPF 样式。
我在谷歌上搜索但没有找到适合像我这样的初学者的合适材料。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-06T07:22:40.933

从[MSDN 开始：控件样式和模板](http://msdn.microsoft.com/en-us/library/aa970773)

您可以使用 Blend 复制现有样式/模板并检查它们。如果 Blend 不可用，您可以使用 Xaml 序列化器自己序列化模板和样式。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-06T07:22:09.637

[http://wpftutorial.net/](http://wpftutorial.net/)是一个很棒的网站..

看看[http://wpftutorial.net/Styles.html](http://wpftutorial.net/Styles.html)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-06T07:42:26.057

也许这不是您问题的确切答案，但如果您真的想更深入地了解 WPF 技术，我真诚地推荐关于 WPF 的最佳书籍（其中也涵盖了样式的概念）： [WPF Unleashed](http://www.amazon.co.uk/WPF-4-Unleashed-Adam-Nathan/dp/0672331195/ref=sr_1_1?ie=UTF8&qid=1344238759&sr=8-1)

# php - 我可以在学说 ORM 中使用准备语句吗

> ID：11823980
> 
> 赞同：3
> 
> 时间：2012-08-06T07:18:57.763
> 
> 标签：php, symfony, doctrine-orm

我正在使用此代码

```
public function addTasks()
    {
        $stmt = $this->getEntityManager()
                    ->getConnection()
                    ->prepare('INSERT into newTasks (tasks_id, Profile_id)
                                        SELECT task.id, 3 as Profile_id
                                        FROM ptasks where ptasks.isActive = :mid');

        $stmt ->setParameter('mid',1);
        //$stmt->bindValue('foobar ', 1);
        $stmt->execute();
        return true;

    } 
```

现在`setParametr`，`bindValue`事情不正常。但是，如果我只是放`isActive=1`，那么它就可以了

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-06T09:25:27.567

您需要在参数前面添加一个冒号，如下所示：

```
$stmt->setParameter(':mid',1); 
```

`setParameter`这是 PDO 连接驱动程序实现和不需要冒号的Doctrine 函数之间的区别。

# c# - 在 C# 中获取网络适配器的原始 MAC 地址

> ID：11823985
> 
> 赞同：2
> 
> 时间：2012-08-06T07:19:23.440
> 
> 标签：c#, asp.net, mac-address

可以使用多种工具和方法更改 MAC 地址。即使它的地址已更改，是否有任何方法可以获得网卡的默认 MAC 地址。在许多 MAC 地址更改工具中，都有恢复默认 MAC 地址的选项。那么，即使 MAC 地址已更改，我们如何才能检索默认 MAC？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-21T10:42:43.473

您面临的问题是，可用的 API 要求 NIC 返回其 MAC 值，或者他们正在查询 NIC 先前报告的 MAC 值的 OS 缓存。

如果您使用您提到的任何技术更改 NIC 的 MAC，则 NIC 将向操作系统或响应 API 查询报告此新值。

可以使用以下库在 .Net 中确定NIC的*当前*MAC 地址（不是*原始地址）：*

`System.Net.NetworkInformation.NetworkInterface.GetAllNetworkInterfaces`

# c# - 我必须为此使用什么正则表达式模式（在 c# 中）？

> ID：11823986
> 
> 赞同：-7
> 
> 时间：2012-08-06T07:19:26.487
> 
> 标签：c#, regex

我有一个这样的网址：

`http://www.localhostserver.com/appserver/key=***b0U%2fPzc%2fPzsPy***/photo.jpg`

`key=`我想要和之间的字符串`/photo.jpg`

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-06T07:30:38.773

试试这个：

```
key=(.*?)/photo.jpg 
```

# ios - 放大时，UIScrollview 调用 scrollViewDidEndDecelerating - 如何停止它？

> ID：11823988
> 
> 赞同：0
> 
> 时间：2012-08-06T07:19:29.757
> 
> 标签：ios, ios5, uiscrollview, scroll

当我放大照片`UIScrollView`并将其向下或向上推时，该`scrollViewDidEndDecelerating`方法被调用。但是，在滚动到下一张图片之前，我不想要它。

**如何阻止它？**

有关更多信息：我有一个`UIScrollView`在另一个内部包含 3 个图像视图中间图像视图`UIScrollView`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T08:58:02.970

看来您需要将 UIScrollView 切换到分页模式。有关信息，请参见[此处](http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIScrollView_Class/Reference/UIScrollView.html)和[此处](https://developer.apple.com/library/ios/#documentation/WindowsViews/Conceptual/UIScrollView_pg/ScrollViewPagingMode/ScrollViewPagingMode.html#//apple_ref/doc/uid/TP40008179-CH3-SW1)。也看到[这个答案](https://stackoverflow.com/questions/975708/uiscrollview-image-photo-viewer-with-paging-enabled-and-zooming)。

# drupal - 我可以使用 Drupal 创建 AWeber 广播吗？

> ID：11823992
> 
> 赞同：0
> 
> 时间：2012-08-06T07:19:40.273
> 
> 标签：drupal, drupal-7, aweber

我在创建博客广播模板时遇到了 AWeber 的 not-being-able-to-format-rss-pubDate 失败问题，如果它同时包含图像和段落，我什至无法正确设置 {!rss_item_description} 的样式（因为 GMail 不允许外部 css 或阻止）。

所以我在考虑是否可以通过drupal创建一个html消息，并在每个周末将html代码（所有样式正确的东西）作为广播消息发送给AWeber是可能的。

我希望有任何 API 事物或模块存在，但任何帮助将不胜感激。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-30T02:35:02.967

联系了 Aweber 的支持，他们告诉我创建广播的唯一方法是登录 aweber 站点。还没有 api。:|