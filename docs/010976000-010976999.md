# StackOverflow 问答 10976000-10976999

# java - FileNotFoundException 与 HTTP GET 请求上的有效 URL 的 404 状态

> ID：10976001
> 
> 赞同：2
> 
> 时间：2012-06-11T07:29:48.963
> 
> 标签：java, android, http

我有以下代码对以下 URL 执行 GET 请求：

```
http://rt.hnnnglmbrg.de/server.php/someReferenceNumber 
```

但是，这是我从 Logcat 的输出：

```
java.io.FileNotFoundException: http://rt.hnnnglmbrg.de/server.php/6 
```

**当 URL 明显有效时，为什么它返回 404？**

这是我的连接代码：

```
/**
 * Performs an HTTP GET request that returns base64 data from the server
 * 
 * @param ref
 *            The Accident's reference
 * @return The base64 data from the server.
 */
public static String performGet(String ref) {
    String returnRef = null;
    try {
        URL url = new URL(SERVER_URL + "/" + ref);
        HttpURLConnection con = (HttpURLConnection) url.openConnection();
        con.setRequestMethod("GET");

        BufferedReader reader = new BufferedReader(new InputStreamReader(con.getInputStream()));

        StringBuilder builder = new StringBuilder();
        String line;
        while ((line = reader.readLine()) != null) {
            builder.append(line);
        }

        returnRef = builder.toString();

    } catch (IOException e) {
        e.printStackTrace();
    }
    return returnRef;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-11T07:32:22.417

当您请求 URL 时，它实际上返回的 HTTP 代码`404`表示未找到。如果您可以控制 PHP 脚本，请将标头设置`200`为指示文件已找到。

![在此处输入图像描述](../Images/ff8f05469787af1963216639ee8c1994.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T07:39:34.040

`404`如上所述，你得到一个。为避免异常，请尝试以下操作：

```
HttpURLConnection con = (HttpURLConnection) url.openConnection();
con.setRequestMethod("GET");
con.connect () ; 
int code = con.getResponseCode() ;
if (code == HttpURLConnection.HTTP_NOT_FOUND)
{
    // Handle error
}
else
{
    BufferedReader reader = new BufferedReader(new InputStreamReader(con.getInputStream()));

    // etc...
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-11T07:37:50.287

永远不要相信您在浏览器中看到的内容。始终尝试使用 curl 之类的东西来模仿您的请求，您会清楚地看到您收到的是 HTTP 404 响应代码。

java.net 会将 HTTP 404 代码转换为 FileNotFoundException

```
curl -v  http://rt.hnnnglmbrg.de/server.php/4
* About to connect() to rt.hnnnglmbrg.de port 80 (#0)
*   Trying 217.160.115.112... connected
* Connected to rt.hnnnglmbrg.de (217.160.115.112) port 80 (#0)
> GET /server.php/4 HTTP/1.1
> User-Agent: curl/7.21.4 (universal-apple-darwin11.0) libcurl/7.21.4 OpenSSL/0.9.8r zlib/1.2.5
> Host: rt.hnnnglmbrg.de
> Accept: */*
> 
< HTTP/1.1 404 Not Found
< Date: Mon, 11 Jun 2012 07:34:55 GMT
< Server: Apache
< X-Powered-By: PHP/5.2.17
< Transfer-Encoding: chunked
< Content-Type: text/html
< 
* Connection #0 to host rt.hnnnglmbrg.de left intact
* Closing connection #0
0 
```

[来自http://docs.oracle.com/javase/6/docs/api/java/net/HttpURLConnection.html](http://docs.oracle.com/javase/6/docs/api/java/net/HttpURLConnection.html)的 javadocs

*如果连接失败但服务器仍然发送了有用的数据，则返回错误流。典型的例子是当 HTTP 服务器响应 404 时，这将导致在连接中抛出 FileNotFoundException，但服务器发送了一个 HTML 帮助页面，其中包含有关如何操作的建议。*

# android - Android 和引入自己的自定义密钥存储的异常

> ID：10976004
> 
> 赞同：0
> 
> 时间：2012-06-11T07:30:17.063
> 
> 标签：android, exception, ssl, keystore

我正在从证书生成密钥库，如下所示：

```
export CLASSPATH=/Developer/BouncyCastle/bcprov-jdk16-146.jar
CERTSTORE=~/bitbucket/Android/CoooriJED/res/raw/mykeystore.bks
if [ -a $CERTSTORE ]; then
        rm $CERTSTORE || exit 1
fi
keytool \
        -importcert \
        -v \
        -trustcacerts \
        -alias 0 \
        -file <(openssl x509 -in mycert.pem) \
        -keystore $CERTSTORE \
        -storetype BKS \
        -provider org.bouncycastle.jce.provider.BouncyCastleProvider \
        -providerpath /Developer/BouncyCastle/bcprov-jdk16-146.jar \
        -storepass password 
```

这会生成一个没有明显问题的密钥库。在 Eclipse 中，我清理了我的 Android 项目并在原始文件夹中看到“mykeystore.bks”。我按如下方式加载密钥库：

```
private KeyStore keyStore()
{
    try {
        KeyStore trusted = KeyStore.getInstance("BKS");
        InputStream in = context.getResources().openRawResource(R.raw.mykeystore);
        try {
            trusted.load(in, "password".toCharArray()); // *Throws an exception*
        } finally {
        in.close();
        }
        return trusted;
    } catch (Exception e) {
        throw new AssertionError(e);
    }
} 
```

我按如下方式调用此方法（我已删除异常处理以使其更易于在此处阅读）：

```
HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();
KeyManagerFactory kmf = KeyManagerFactory.getInstance("X509");
kmf.init(keyStore(), "password".toCharArray()); 
```

但是，该行`trusted.load(in, "password".toCharArray())`导致抛出“错误版本的密钥存储”IOException。这是为什么？

提前谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T07:49:47.470

会不会是你使用了错误的版本`bcprov jar`？它有不同的版本，您需要选择与您的 java sdk 对应的版本：

[http://www.bouncycastle.org/latest_releases.html](http://www.bouncycastle.org/latest_releases.html)

# linux - 如何在 shell 中使用 nohup 和 & 运行程序的输入流

> ID：10976008
> 
> 赞同：1
> 
> 时间：2012-06-11T07:30:29.697
> 
> 标签：linux, shell, background-process, nohup

我正在使用 nohup add.sh & 运行程序

此脚本在运行时从控制台获取输入。我怎样才能获得这个过程的输入流，以便我可以传递 2 个数字？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T15:12:21.100

这取决于您的脚本如何工作，但通常您可以通过管道将输入发送到另一个命令：

```
 nohup echo "This is my input" | add.sh & 
```

但是我不知道您是否可以使用超过 1 个参数来做到这一点。您可能需要增强您的 add.sh 脚本，以便接受和使用提供的参数。

# java - 如何在 mongodb 中找到内部属性的值？

> ID：10976011
> 
> 赞同：1
> 
> 时间：2012-06-11T07:30:49.897
> 
> 标签：java, mongodb

我是 mongoDB 的新手。我想在 json 中获取所有时间值，例如：

```
{ "_id" : { "$oid" : "4ceb753a70fdf877ef5113ca"}, "LoginRequest" : { "Time" : "11-06-2012 11:59:33", "innerAttr4" : "innerValue4"} }
{ "_id" : { "$oid" : "4ceb753a70fdf877ef5113cb"}, "LoginRequest" : { "Time" : "11-06-2012 12:34:05", "innerAttr4" : "innerValue4"} } 
```

搜索后我发现使用点符号。但是点符号在java中对我不起作用。有人可以告诉我该怎么做吗？

我以这种方式使用点符号。但它返回null。

```
 String selectedCollection = "user01"; //WILL CONTAIN THE SELECTED USERNAME
        DBCollection coll = db.getCollection(selectedCollection);

        ArrayList<String> result = new ArrayList<String>();
        //DBObject obj = coll.findOne("LoginRequest.Time");
        BasicDBObject query = new BasicDBObject();
        BasicDBObject field = new BasicDBObject();
        field.put("LoginRequest.Time", 1);
        DBCursor cursor = coll.find(query,field);
        while (cursor.hasNext()) {
            BasicDBObject obj = (BasicDBObject) cursor.next();
            result.add(obj.getString("LoginRequest.Time"));
            System.out.println(obj.getString("LoginRequest.Time") );
        } 
```

如果我在任何地方都用 LoginRequest 替换 LoginRequest.Time，它工作正常。感谢帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T07:50:10.997

```
(BasicDBObject(obj.get("LoginRequest"))).getString("Time") 
```

# ios - 钥匙串证书

> ID：10976016
> 
> 赞同：0
> 
> 时间：2012-06-11T07:31:03.440
> 
> 标签：ios, keychain

我正在使用钥匙串访问工具创建一个新的 CSR（证书签名请求）：

Certificate Assistant -> Request a certificate from a certificate authority... 在证书信息中，我填写我的电子邮件地址和姓名，选择“保存到磁盘”选项。我将 CSR 保存到桌面 向导成功完成，但没有文件保存到磁盘！我以前做过，但这次它不起作用。我尝试重新启动钥匙串工具，重新启动计算机......但找不到任何东西......

提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:57:57.027

在钥匙串访问工具中创建证书后，您可以将其导出到磁盘。

选择适当的钥匙串，然后选择您要导出的已创建证书，然后在主菜单上选择“文件”->“导出项目”。之后按照导出向导的步骤进行操作。

您可以选择要将证书导出为 .cert 或 .p12 的文件类型。

# powershell - Exchange 2010：获取所有时间 LastLogonDate

> ID：10976018
> 
> 赞同：1
> 
> 时间：2012-06-11T07:31:07.767
> 
> 标签：powershell, statistics, exchange-server-2010

使用 PowerShell 时

```
Get-LogonStatistics 
```

它似乎只显示上周的细节。

但我对长时间不活跃的帐户很感兴趣。

有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:20:58.867

如果在命令中指定邮箱服务器，它应该列出该服务器上所有数据库中所有邮箱的状态：

```
Get-LogonStatistics -Server mbxservername 
```

# multithreading - 轻量级并发和重量级并发有什么区别？

> ID：10976019
> 
> 赞同：6
> 
> 时间：2012-06-11T07:31:19.633
> 
> 标签：multithreading

我只是学习多线程编程，但这里的问题是一个非常基本的概念，首先需要澄清一下。

当我从互联网上搜索时，我的理解是重量级是关于“进程”，而轻量级映射到“线程”。但是，为什么进程是重量级的？因为非共享内存或其他原因？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-12T16:31:52.570

“重量级”并发是每个并发执行器启动成本高和/或开销大的地方。

“轻量级”并发是每个并发执行器启动成本低和/或开销很小的地方。

对于操作系统来说，进程通常比线程更昂贵，因为每个进程都需要独立的地址空间和各种管理结构，而进程内的线程共享这些结构。

因此，进程被认为是重量级的，而线程是轻量级的。

但是，在某些情况下，线程被认为是重量级的，“轻量级”并发工具是某种“任务”。在这些上下文中，运行时通常会在线程池上执行这些任务，当它们阻塞时将它们挂起，并将线程重用于其他任务。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T15:31:05.283

如今，“重”分类不再像以前那样具有相同的重量，而过程分离的优势却丝毫没有失去它的效力；-)

这一切都归功于写时复制语义；在`fork()`父进程的页面不再被盲目地复制给子进程。两个进程都可以使用共享内存进行操作，直到子进程开始写入其中一个共享内存页。

当然，创建更多进程更容易受到操作系统的限制，因为进程 ID 是比线程更有限的资源。

# python - Flake8 的 Mercurial 钩子引发异常：“ui”对象没有属性“configint”

> ID：10976021
> 
> 赞同：3
> 
> 时间：2012-06-11T07:31:21.180
> 
> 标签：python, mercurial, virtualenv, flake8

我们正在使用 virtualenv 和 Mercurial 1.7.5。

为了提供更好的代码检查，我安装了 Flake8 并向存储库添加了一个 mercurial 挂钩，如下所述：http: [//pypi.python.org/pypi/flake8](http://pypi.python.org/pypi/flake8)

我在虚拟环境中安装了 Flake8，所以我对提交时遇到的错误并不感到惊讶： `'ui' object has no attribute 'configint'`. 我认为在 virtualenv 之外安装 flake8 后错误会消失（我认为配置文件中的 'python:' 关键字适用于系统的 python 解释器）。但是错误并没有消失。

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-12T01:11:47.600

确保 Flake8 支持您使用的 Mercurial 版本。可能是您使用的 Mercurial 版本比 Flake8 支持的新/旧版本。Mercurial 内部结构被认为是私有的，随时可能发生变化。扩展和挂钩预计将使用公共 Mercurial API：hg 可执行文件。

# eclipse - Maven 和 Eclipse：删除 JRE 系统库

> ID：10976023
> 
> 赞同：0
> 
> 时间：2012-06-11T07:31:32.850
> 
> 标签：eclipse, maven, java

我正在针对[CrEme VM](http://www.nsicom.com/Default.aspx?tabid=138)库构建一个项目。我想配置 maven 和 eclipse，只针对这个 JAR 构建。但是m2eclipse“更新项目配置”会自动添加“JRE系统库”。我可以通过在 eclipse 项目类路径中删除它来修复它，但我只想在 pom.xml 中配置它（而不是检查 eclipse 设置）。

我试图这样做：

```
// ... 
<dependency>
   <groupId>ch.sbb.cis-infra.mobile</groupId>
  <artifactId>vmclasses</artifactId>
  <version>1.0.0</version>
  <scope>provided</scope>
</dependency>
// ... 
<build>
 <plugins>
    <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>2.3.2</version>
        <configuration>
        <source>1.3</source>
        <target>1.3</target>
        <meminitial>128m</meminitial>
        <maxmem>512m</maxmem>
        <debug>off</debug>
        <compilerArguments>
                <bootclasspath>''</bootclasspath>
            </compilerArguments>
        </configuration>
    </plugin>
  </plugins>
 </build> 
```

但是，m2eclipse 仍然添加了“JRE 系统库 [JRE_1.3]”。

在命令行上编译是正确的，但在 eclipse 中我看不到编译问题。 **如何使用 pom.xml 配置在 Eclipse 中删除 JRE？**

（Eclipse Helios SR2，m2e 插件 0.12.1）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T07:56:04.977

好吧，恕我直言（我不确定）Eclipse 中的 JRE 容器是因为项目的 Java 特性，而不是 Maven 集成。尝试禁用项目的 Maven 特性，JRE 仍然存在。如果您有 Maven 管理的 Java 项目（并且您的 POM 这么说），则启用 Eclipse 中的 Java 特性会导致将 JRE 附加到项目中。

# c# - 从 .docx 文件中获取数据，就像 C# 中的一个大字符串一样

> ID：10976026
> 
> 赞同：1
> 
> 时间：2012-06-11T07:31:47.327
> 
> 标签：c#, .net, office-interop, docx

我想从 C# 代码的 .docx 文件中读取数据——比如字符串。我浏览了一些问题，但不明白该使用哪一个。

我正在尝试使用`ApplicationClass Application = new ApplicationClass();`，但我得到了

错误：

> “Microsoft.Office.Interop.Word.ApplicationClass”类型没有定义构造函数

我想从我的 docx 文件中获取全文，而不是分隔词！

```
foreach (FileInfo f in docFiles)
{
    Application wo = new Application();
    object nullobj = Missing.Value;
    object file = f.FullName;
    Document doc = wo.Documents.Open(ref file, .... . . ref nullobj);
    doc.Activate();
    doc. == ??    
} 
```

我想知道如何从 docx 文件中获取整个文本？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-12T07:18:04.680

这就是我想从 docx 文件中提取整个文本的内容！

```
 using (ZipFile zip = ZipFile.Read(filename))
{
    MemoryStream stream = new MemoryStream();
    zip.Extract(@"word/document.xml", stream);
    stream.Seek(0, SeekOrigin.Begin); 
    XmlDocument xmldoc = new XmlDocument();
    xmldoc.Load(stream);
    string PlainTextContent = xmldoc.DocumentElement.InnerText;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-11T07:36:48.343

尝试

```
Word.Application interface instead of ApplicationClass. 
```

[了解 Office 主要互操作程序集类和接口](http://msdn.microsoft.com/en-us/library/ms247302%28office.11%29.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-11T07:47:17.640

.docx 格式与其他以“x”结尾的 Microsoft Office 文件一样，只是一个 ZIP 包，您可以打开/修改/压缩它。

所以使用这样的 Office Open XML[库](http://simpleooxml.codeplex.com)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T17:14:09.937

享受。

确保您使用的是 .Net Framework 4.5。

```
using NUnit.Framework;
    [TestFixture]
    public class GetDocxInnerTextTestFixture
    {
        private string _inputFilepath = @"../../TestFixtures/TestFiles/input.docx";

        [Test]
        public void GetDocxInnerText()
        {
            string documentText = DocxInnerTextReader.GetDocxInnerText(_inputFilepath);

            Assert.IsNotNull(documentText);
            Assert.IsTrue(documentText.Length > 0);
        }
    }

using System.IO;
using System.IO.Compression;
using System.Xml;
    public static class DocxInnerTextReader
    {
        public static string GetDocxInnerText(string docxFilepath)
        {
            string folder = Path.GetDirectoryName(docxFilepath);
            string extractionFolder = folder + "\\extraction";

            if (Directory.Exists(extractionFolder))
                Directory.Delete(extractionFolder, true);

            ZipFile.ExtractToDirectory(docxFilepath, extractionFolder);
            string xmlFilepath = extractionFolder + "\\word\\document.xml";

            var xmldoc = new XmlDocument();
            xmldoc.Load(xmlFilepath);

            return xmldoc.DocumentElement.InnerText;
        }
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-05-04T07:52:23.353

首先，您需要从程序集中添加一些引用，例如：

```
System.Xml
System.IO.Compression.FileSystem 
```

其次，您应该确定在您的课程中使用这些方法：

```
using System.IO;
using System.IO.Compression;
using System.Xml; 
```

然后你可以使用下面的代码：

```
public string DocxToString(string docxPath)
{
    // Destination of your extraction directory
    string extractDir = Path.GetDirectoryName(docxPath) + "\\" + Path.GetFileName(docxPath) + ".tmp";
    // Delete old extraction directory
    if (Directory.Exists(extractDir)) Directory.Delete(extractDir, true);
    // Extract all of media an xml document in your destination directory
    ZipFile.ExtractToDirectory(docxPath, extractDir);

    XmlDocument xmldoc = new XmlDocument();
    // Load XML file contains all of your document text from the extracted XML file
    xmldoc.Load(extractDir + "\\word\\document.xml");
    // Delete extraction directory
    Directory.Delete(extractDir, true);
    // Read all text of your document from the XML
    return xmldoc.DocumentElement.InnerText;
} 
```

享受...

# java - java.io.IOException：HTTP 响应代码：URL 为 400

> ID：10976028
> 
> 赞同：1
> 
> 时间：2012-06-11T07:31:58.510
> 
> 标签：java, ioexception

这是我的示例代码：

```
String code = request.getParameter("authcode1");
String clientSecret = "xxxxxxxxxxxxx";
String newUrl = "https://accounts.google.com/o/oauth2/token";
String clientId = "xxxxxxxxxxxxxxx";
String callback = "http://localhost:8080/web/guest/home";

String tokenUrl = new String("https://accounts.google.com/o/oauth2/token");

        StringBuffer params = new StringBuffer("");
        params.append("code=" + URLEncoder.encode(code));
        params.append("&client_id=" + clientId);
        params.append("&client_secret=" + clientSecret);
        params.append("&redirect_uri=" + callback);
        params.append("&grant_type=authorization_code");

        try
        {
            // Send data
            URL url = new URL(tokenUrl.toString());
            HttpURLConnection conn = (HttpURLConnection) url.openConnection();
            conn.setRequestMethod("POST");
            conn.setDoOutput(true);
            conn.setRequestProperty("Content-Type","application/x-www-form-urlencoded");
            conn.setRequestProperty("Content-Length", "0");
                conn.connect();

            InputStream is;
            if (conn.getResponseCode() != 200) {
                is = conn.getInputStream();
            } else {
                is = conn.getErrorStream();
            }

            //URLConnection conn = url.openConnection();
            //conn.setDoOutput(true);
            OutputStreamWriter wr = new OutputStreamWriter(conn.getOutputStream());
            wr.write(params.toString());
            wr.flush();

            // Get the response
            BufferedReader rd = new BufferedReader(new InputStreamReader(is));
            String line;
            while ((line = rd.readLine()) != null)
            {
                System.out.println("-----" + line);
            }
            wr.close();
            rd.close();
        }
        catch (Exception e)
        {
            e.printStackTrace();
        } 
```

我在Tomcat中遇到以下异常：

```
java.io.IOException: Server returned HTTP response code: 400 for URL: https://accounts.google.com/o/oauth2/token
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
        at sun.net.www.protocol.http.HttpURLConnection$6.run(HttpURLConnection.java:1368)
        at java.security.AccessController.doPrivileged(Native Method)
        at sun.net.www.protocol.http.HttpURLConnection.getChainedException(HttpURLConnection.java:1362) 
```

请帮助我在这里做错了什么？为什么我收到 java.io.IOException: HTTP response code: 400 for URL exception？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T07:46:41.080

首先，这是不正确的：

```
if (conn.getResponseCode() != 200) {
                is = conn.getInputStream();
            } else {
                is = conn.getErrorStream();
            } 
```

它应该是

```
if (conn.getResponseCode() == 200) {
                is = conn.getInputStream();
            } else {
                is = conn.getErrorStream();
            } 
```

您的问题在这一行：

```
conn.setRequestProperty("Content-Length", "0"); 
```

当您在 HTTP 消息中附加了实体正文时，您无法发送`Content-Length`。`0`

而是将其设置为

```
conn.setRequestProperty("Content-Length", params.toString().length()); 
```

# asp.net - 下载指定流中的文件？

> ID：10976031
> 
> 赞同：0
> 
> 时间：2012-06-11T07:32:04.270
> 
> 标签：asp.net, asp.net-mvc, reporting-services, stream, httpwebrequest

我在一个 Asp.Net MVC Web 应用程序中。

对于特定操作，我必须返回从另一个内部服务器生成的文件。此服务器需要一些 Web 用户不拥有的凭据。因此，Asp.net MVC 服务器必须将自己连接到该服务器，下载并将下载的文件发送到客户端。

实际上我是通过一个 ActionResult 来做的：

```
public class ReportServerFileResult : FileResult
    {
        private readonly string _host;
        private readonly string _domain;
        private readonly string _userName;
        private readonly string _password;
        private readonly string _reportPath;
        private readonly Dictionary<string, string> _parameters;

        /// <summary>
        /// Initializes a new instance of the <see cref="ReportServerFileResult"/> class.
        /// </summary>
        /// <param name="contentType">Type of the content.</param>
        /// <param name="host">The host.</param>
        /// <param name="domain">The domain.</param>
        /// <param name="userName">Name of the user.</param>
        /// <param name="password">The password.</param>
        /// <param name="reportPath">The report path.</param>
        /// <param name="parameters">The parameters.</param>
        public ReportServerFileResult(string contentType, String host, String domain, String userName, String password, String reportPath, Dictionary<String, String> parameters)
            : base(contentType)
        {
            _host = host;
            _domain = domain;
            _userName = userName;
            _password = password;
            _reportPath = reportPath;
            _parameters = parameters;
        }

        #region Overrides of FileResult

        /// <summary>
        /// Writes the file to the response.
        /// </summary>
        /// <param name="response">The response.</param>
        protected override void WriteFile(HttpResponseBase response)
        {
            string reportUrl = String.Format("http://{0}{1}&rs:Command=Render&rs:Format=PDF&rc:Toolbar=False{2}",
                                             _host,
                                             _reportPath,
                                             String.Join("", _parameters.Select(p => "&" + p.Key + "=" + p.Value)));

            HttpWebRequest request = (HttpWebRequest)WebRequest.Create(reportUrl);
            request.PreAuthenticate = true;
            request.Credentials = new NetworkCredential(_userName, _password, _domain);
            HttpWebResponse webResponse = (HttpWebResponse)request.GetResponse();
            Stream fStream = webResponse.GetResponseStream();
            webResponse.Close();

            fStream.CopyTo(response.OutputStream);
            fStream.Close();
        }

        #endregion
    } 
```

但我不喜欢流的管理方式，因为（如果我理解正确的话），我们检索文件的完整流，然后开始将其发送给最终用户。

但这意味着我们要将完整的文件加载到内存中，不是吗？

所以我想知道是否可以向 HttpWebRequest 提供它必须写入响应的流？将 Web 响应直接流式传输到输出？

是否可以？你有别的想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T07:42:44.287

您已经连接了两个流。仅仅因为您调用`GetResponse()`不会将整个数据读取到内存中。

应该根据`CopyTo()`需要从源流中读取数据，当目标流可以接受写入时，取决于目标流的传输速度。

您是否有任何指标表明整个内容都被读入了 Web 进程的内存？

# android - 过滤自定义列表视图/创建过滤器

> ID：10976036
> 
> 赞同：0
> 
> 时间：2012-06-11T07:32:36.607
> 
> 标签：android, arraylist, android-listview, textview

我正在使用自定义`ArrayList`和自定义开发应用程序，`ListView`问题是它仅按 textview2 对象过滤。我需要至少按 textview1 和 textview2 过滤。

自定义`ArrayList`包含以下内容：

```
public class favdat {
    public String prece,termins,veic,links;

} 
```

和我的 ArrayAdapter：

```
private class MyAdapter extends ArrayAdapter<String>
{
    public MyAdapter(Context context, int resource, int textViewResourceId,List<String> at) 
    {
        super(context, resource, textViewResourceId, at);
        // TODO Auto-generated constructor stub
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        // TODO Auto-generated method stub

            LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            View row = inflater.inflate(R.layout.customlv, parent,false);
            TextView tv1 = (TextView) row.findViewById(R.id.textView1);
            TextView tv2 = (TextView) row.findViewById(R.id.textView2);
            ImageView iv2 = (ImageView) row.findViewById(R.id.imageView1);
            iv2.setClickable(true);
            tv1.setText(da.get(position).prece);
            tv1.setTextColor(Color.RED);
            tv2.setTextColor(Color.YELLOW);
            tv2.setText(da.get(position).termins);
            data7 = new favdat();
            data7.links = da.get(position).links;
            data7.prece = da.get(position).prece;
            data7.termins = da.get(position).termins;
            data7.veic =
        da.get(position).veic;

            return row;
        }
} 
```

我正在使用文本观察器来过滤`ListView`内容。但它只过滤`TextView2` 所以问题是我如何过滤我的自定义列表或如何根据我的需要编写过滤器？

# vb6 - 在 VB6 的 DataCombo 中添加一个空白项

> ID：10976042
> 
> 赞同：1
> 
> 时间：2012-06-11T07:33:12.880
> 
> 标签：vb6

我编写了以下代码来绑定数据组合

```
With dtcType
        Set .RowSource = recType
            .ListField = "Type"
            .BoundColumn = "TypeId"
End With 
```

**我想在 DataCombo 顶部添加一个空白项**（绑定 datacombo 后，用户也可以选择一个空白项）。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-12T07:22:24.223

据我记得没有直接的方法来添加 item do `DataCombo`。您可以考虑两种选择。

如果您的 SQL 看起来更像这样：

```
SELECT Id, Code FROM my_table 
```

`SELECT`您可以使用无`FROM`子句结合添加人工记录`UNION`

```
SELECT -1 As Id, '' As Code 
UNION ALL
SELECT Id, Code FROM my_table 
```

第二个选项是用这样的方法替换`DataCombo`和`Combobox`填充项目：

```
Public Sub Populate(ByRef pData As ADODB.Recordset, _
                ByVal pIdField As String, _
                ByVal pDataField As String, _
                Optional pEmptyItem As Boolean = False, _
                Optional pEmptyItemId As Long = -2, _
                Optional pEmptyItemCaption As String = "")

    If m_ComboboxControl Is Nothing Then Exit Sub

    If pEmptyItem Then
        m_ComboboxControl.AddItem pEmptyItemCaption
        m_ComboboxControl.ItemData(m_ComboboxControl.NewIndex) = pEmptyItemId
    End If   

    With pData

        If Not (.BOF And .EOF) Then
            Do While Not .EOF
                Select Case TypeName(pData.Fields(pDataField).Value)
                    Case "Date"
                        m_ComboboxControl.AddItem Format(pData.Fields(pDataField), "DD-MM-YYYY")
                    Case Else
                        m_ComboboxControl.AddItem pData.Fields(pDataField)
                End Select
                m_ComboboxControl.ItemData(m_ComboboxControl.NewIndex) = CLng(pData.Fields(pIdField))

                .MoveNext
            Loop
        End If

    End With

End Sub 
```

# haskell - XMonad 在指定工作区启动时生成程序

> ID：10976044
> 
> 赞同：11
> 
> 时间：2012-06-11T07:33:37.013
> 
> 标签：haskell, xmonad

我正在尝试配置我的`xmonad.hs`，以便当我开始我的会话时，我在不同的工作区（如终端 1 中的终端；2 中的 Firefox；3 中的 Pidgin）上启动一系列不同的程序。

我已经查看了`XMonad.Actions.SpawnOn`，但作为`spawnOn`返回`X ()`而不是普通的`m ()`我不能使用它`main = do ...`。

是否有一个接受`X`-monad 并返回的函数，`IO ()`或者是否有另一种解决方法？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-11T08:47:58.283

常见的方法是使用[startupHook](http://hackage.haskell.org/packages/archive/xmonad/0.10/doc/html/XMonad-Core.html#v:startupHook)`X ()` ，它会在每次启动时采取行动并执行它。例如

```
main = xmonad $ defaultConfig
  { startupHook = do
      spawnOn "workspace1" "program1"
      …
      spawnOn "workspaceN" "programN"
  } 
```

# javascript - 2 个 ember-date 时间对象之间的差异（以天为单位）

> ID：10976049
> 
> 赞同：0
> 
> 时间：2012-06-11T07:34:40.820
> 
> 标签：javascript, ember.js

是否可以区分 2 个 ember-date 时间对象的天数？

例如，如果我有以下 2 个日期对象

```
var start_date = Ember.DateTime.parse(app.start_date, '%Y-%m-%d');
var end_date = Ember.DateTime.parse(app.end_date, '%Y-%m-%d'); 
```

我可以像这样判断哪个比另一个更大：

```
Ember.DateTime.compareDate(end_date, start_date); 
```

但是有没有办法在几天内获得差异？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T07:44:36.250

我不确定是否有 API 可以在几天内获得差异（类似于 in `JodaTime`）。我知道这`Ember.DateTime`基本上扩展了常规 js `Date`，因此您可以执行以下操作：

```
var date1 = Ember.DateTime.create({ hour: 5, timezone: 300 });
var date2 = Ember.DateTime.create({ hour: 10, timezone: 0 });
var timeDiff = Math.abs(date2.getTime() - date1.getTime());
var diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24)); 
alert(diffDays)​; 
```

希望能帮助到你...

# javascript - FB.api 不返回用户名

> ID：10976052
> 
> 赞同：0
> 
> 时间：2012-06-11T07:34:48.453
> 
> 标签：javascript, facebook

我试图通过将用户 ID 作为参数提供给 FB.api 方法来获取特定用户的用户名。但它只是返回未定义。如果我在 FB.api 方法中使用 console.log，我可以看到结果。想不通。

```
var something;
var friendName = FB.api('/{{ user id }}', function(give){ something = give.name; });
console.log(something); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T07:47:17.180

> 如果我在 FB.api 方法中使用 console.log，我可以看到结果。

该方法是*异步*的，这意味着当您执行以下行（记录到控制台）时，服务器端调用的答案尚不存在 - 因此回调函数尚未执行，因此它尚未设置var在那一点上*。*

您应该熟悉 javascript 中异步执行的基础知识！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T09:55:44.120

您可以改用此 php 代码

```
 <?php
        $username=$facebook->api('/user_id?fields=username');
        //with appropriate access tokens
        ?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-18T09:27:41.870

将函数`console.log`放在里面`callback`。

# windows-mobile - 在 Windows-Mobile 中 ping 到另一台计算机的咨询

> ID：10976055
> 
> 赞同：1
> 
> 时间：2012-06-11T07:35:07.683
> 
> 标签：windows-mobile, compact-framework, ping

使用 C# 是否可以将 ping 从运行 Windows Mobile 的设备发送到另一台计算机？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:54:36.273

There's nothing built into the Compact Framework.

[OpenNETCFs SDF](http://www.opennetcf.com/Products/SmartDeviceFramework.aspx) contains the [ping class](http://www.opennetcf.com/library/sdf/html/7555257b-b797-37d3-ff61-4e90f731be99.htm). It's located under the [OpenNETCF.Net.NetworkInformation](http://www.opennetcf.com/library/sdf/) namespace. Check out the link to OpenNETCF SDF to see the licensing options (including the Community Edition which [seems to be free to use](http://www.opennetcf.com/Products/Licenses.aspx) as far as I can see).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-05T13:08:24.287

如果你不想使用 OpenNetCF，你可以像这个例子中那样做：

[http://www.hjgode.de/wp/2014/08/29/mobile-development-pingng-the-next-generation-ping/#more-1965](http://www.hjgode.de/wp/2014/08/29/mobile-development-pingng-the-next-generation-ping/#more-1965)

编辑：抱歉，这个也使用 OpenNetCf，但它是一个很好的例子，如何实现 ping 工具。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-05T14:35:08.040

[`IcmpSendEcho`](https://msdn.microsoft.com/en-us/library/aa917460.aspx#)如果您想在没有任何第三方库的情况下发送 ping，您也可以 P/Invoke 。

# vb.net - 在 vb.net 中动态生成后访问每个按钮的属性？

> ID：10976056
> 
> 赞同：1
> 
> 时间：2012-06-11T07:35:09.000
> 
> 标签：vb.net, dynamic, minesweeper

我使用以下代码动态生成按钮。我想知道如何以这样的方式编码，如果我单击一个按钮，应该对同一表单中的其他按钮进行一些更改。由于所有按钮都是在循环中生成的，我不知道如何在代码的其他地方调用一个按钮。

```
 Private Sub random2_Load(ByVal sender As System.Object, ByVal e As System.EventArgs)         Handles MyBase.Load
    Dim i As Integer
    For i = 1 To 16
        Dim btn As New Button
        AddHandler btn.Click, AddressOf ClickMe
        btn.Width = 23
        btn.Height = 23
        btn.Text = ""
        btn.Tag = i
        btn.Name = i
        btn.Name = "Button" & i
        flp.Controls.Add(btn)   'flp stand for flow layout panel

    Next
End Sub
Private Sub ClickMe(ByVal Sender As Object, ByVal e As EventArgs)
    Dim btn As Button
    btn = CType(Sender, Button)
   dim str as string = btn.tag
   MsgBox(str)
        End Sub
    End Class 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T07:48:38.347

您已将所有动态创建的按钮添加到 FlowLayoutPanel 控件集合中。
你会发现它们有这样的语法

```
Dim btn As Button = TryCast(flp.Controls("name"), Button)
if btn IsNot Nothing then
    btn.Caption = "New Text"
    ....
End If 
```

或者，如果您想要特定索引处的按钮

```
Dim btn As Button = TryCast(flp.Controls(index), Button) 
```

# java - 从函数返回参数的问题

> ID：10976057
> 
> 赞同：-1
> 
> 时间：2012-06-11T07:35:13.213
> 
> 标签：java, function

我有以下类型的函数第一个函数不返回任何内容：

```
void getString()
{
   newstr=str;
} 
```

另一个返回字符串的函数：

```
string getString()
{
   newstr=str;
   return newstr; 
} 
```

这是最好的方法，因为在第一种情况下，我们如何知道该功能是成功的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T07:37:20.353

由方法名称给出，`getString()`- 从逻辑上讲，您希望`String`在调用它时获得 a 。返回 a`String`是一个更好的调用和正确的方法。

如果`str`是成员变量，直接返回：

```
String getString()
{
   return str; 
} 
```

顺便说一句，Java-

应该`String`不是`string`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T07:39:18.477

如果`newstr`是成员变量（对象的实例成员），则两者都不正确。getter 不应该改变对象的状态。

在您的伪代码中，这是正确的：

```
string getString()
{
   return str; 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-11T07:38:18.787

那么最好的方法取决于你的要求。您应该记住，函数名称及其返回应该是直观的。

场景示例：

*   如果您希望您的函数在***方法链接***中使用，那么您通常会返回对象，`<<`例如`cout`.
*   如果您的函数可以返回错误，您通常会返回一个状态作为返回值。

# android - 如何在模拟器 Android 上测试具有不同版本代码和小数据库更改的 apk

> ID：10976059
> 
> 赞同：3
> 
> 时间：2012-06-11T07:35:29.150
> 
> 标签：android, testing, version, apk

我在 android play store 上上传了一个`apk`文件，后来不得不在数据库中做一些小改动。我了解到我们必须更改版本代码和 android 版本才能让谷歌商店承认新的 apk 是对前一个的更新。

我的问题是，我们如何在模拟器中测试这种变化？每当我尝试运行新建的代码时。

我收到以下错误。

```
[2012-06-11 11:44:32 - Intelsat] Re-installation failed due to different application signatures.
[2012-06-11 11:44:32 - Intelsat] You must perform a full uninstall of the application. WARNING: This will remove the application data!
[2012-06-11 11:44:32 - Intelsat] Please execute 'adb uninstall com.intelsat' in a shell.
[2012-06-11 11:44:32 - Intelsat] Launch canceled! 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T07:47:23.950

安装在模拟器上的版本的签名与您要测试的签名不同。您可能在模拟器上有一个调试版本，并且您正在尝试安装一个发布版本（反之亦然）。

只需卸载模拟器上的版本并安装您要测试的版本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T07:38:33.290

根据错误，您似乎使用不同的签名签署了您的 apk。在这种情况下，您无法进行更新，您需要进行卸载并重新安装。

尝试使用与旧 apk 相同的签名对新 apk 进行签名。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-11T07:38:16.627

您可以简单地在`manifest.xml`文件中进行更改。在“manifest.xml”文件中，您可以随时更改应用程序的版本。要尝试在模拟器中进行更改，您只需安装升级的模拟器（最新 = 4.0.4）并检查应用程序是否正在运行。

# ant - 如何将参数传递给ant脚本？

> ID：10976063
> 
> 赞同：11
> 
> 时间：2012-06-11T07:35:36.930
> 
> 标签：ant

最近我正在研究 selenium webdriver 2.0（开发自动化框架）。根据每个故障的要求，必须捕获屏幕截图（文件路径和文件名：./screenshots/testcases/ddmmyyyy/scenario_hhmmss.png）但是我已经捕获了屏幕截图。当我运行这些整个测试套件时（我想生成 JUNIT 报告，以便转发必须有截图链接。）现在的问题是截图路径是动态生成的（通过 selenium java 代码），并且在 Junit 报告中我想建立超链接到最近生成的屏幕截图（我已经使用我们可以创建链接更新了 frames-report.xslt 文件，但它是硬编码的）？请建议任何方法吗？

这是我的 build.xml 文件的一部分

```
<target name="exec" depends="compile">
        <delete dir="${report}" />
    <mkdir dir="${report}" />
        <mkdir dir="${report}/xml" />
    <junit printsummary="yes" haltonfailure="no">
         <classpath refid="project-classpath" />
        <classpath>
                        <pathelement location="${bin}" />
                        <fileset dir="${lib}">
                            <include name="**/*.jar" />
                        </fileset>
                    </classpath>
        <test name="com.example.tests.NormanTestSuite" haltonfailure="no" todir="${report}/xml" outfile="TEST-result">          
        <formatter type="xml" />
        </test>         
    </junit>
    <junitreport todir="${report}">
            <fileset dir="${report}/xml">
                <include name="TEST*.xml" />
            </fileset>
    <report styledir="C:\apache-ant-1.8.4\custom" format="frames" todir="${report}/html" >          
    </report>
    </junitreport>
</target> 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-06-11T07:55:21.403

**使用 Java 系统属性**

您可以将变量作为 JVM 参数传递。假设您定义了一个名为“screenShotRoot”的变量，如下所示

```
ant -DscreenShotRoot=/screenshots/testcases 
```

你可以像这样在你的 build.xml 中阅读它

```
<property name="screenshot.root" value="${screenShotRoot}" /> 
```

然后，您的 ANT 任务可以使用此根路径在预期的日期为您的 PNG 文件生成适当的路径。

请参阅此[Apache ANT 常见问题页面](http://ant.apache.org/faq.html#passing-cli-args)

**使用环境变量**

您还可以通过在调用脚本之前设置它们来使用操作系统环境变量。假设您在 Windows 上定义了一个名为“screenShotRoot”的环境变量

```
SET screenShotRoot=/screenshots/testcases 
```

你可以像这样在你的 build.xml 中阅读它

```
<property environment="env"/>
<property name="screenshot.root" value="${env.screenShotRoot}" /> 
```

**使用属性文件**

您还可以将链接写入 ANT 脚本加载的属性文件，如下所示

```
<property file="build.properties"/> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T09:09:48.383

根据[JUnitReport 任务](http://ant.apache.org/manual/Tasks/junitreport.html)的文档，您可以使用元素上的嵌套`param`标记传递 XSL 参数。`report`

> 从 Ant 1.7 开始，report 标签支持嵌套的 param 标签。这些标签可以将 XSL 参数传递给样式表。

因此，您可以将参数值传递给样式表，如下所示：

```
<report styledir="C:\apache-ant-1.8.4\custom" format="frames" todir="${report}/html" >          
    <param name="screenshots_link" expression="${screenshots.link}"/>
</report> 
```

你的问题我不清楚。我想你说过你已经支持你的 XSL 样式表中的参数。无论如何，这里是如何使用它的摘要：

```
<xsl:stylesheet>

    <!-- declare the parameter you will pass. Could also define a default value -->
    <xsl:param name="screenshot_link"/>

    <xsl:template>

        <!-- use the parameter value -->
        <xsl:value-of select="$screenshot_link"/> 
```

# iphone - 更改 PushNotification 的设置

> ID：10976065
> 
> 赞同：0
> 
> 时间：2012-06-11T07:35:57.497
> 
> 标签：iphone, objective-c, ios, push-notification

我在我的应用程序中使用推送通知。我想从我的应用程序中的开关打开/关闭推送通知服务。

就像我的应用程序一样，如果我关闭推送通知，那么通常设置它会自动关闭。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T07:37:59.523

您无法在应用程序的常规设置中将其关闭..您是否可以通过另一种方式进行操作..请在此处查看我的答案[如何忽略推送通知](https://stackoverflow.com/q/9968628/705559)

# hibernate - HQL 中的 DateDiff - 休眠

> ID：10976066
> 
> 赞同：2
> 
> 时间：2012-06-11T07:36:00.150
> 
> 标签：hibernate, hql

我如何在 HQL 中翻译这个

```
select * from Customer_data where (status = 7) and 
(datediff(DAY, next_check,getdate()) < 10 ) and 
DATEPART(Hour,next_check) < 10 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T09:25:25.613

您只需以更一般的方式重构您的查询。

```
...
Date nextCheck = new Date(); //this is your nextCheck date parameter
Date maxDate = DateHelper.getMaxDate(nextCheck);

Query query = session.createQuery(
    "from CustomerData where status = 7 and date < :maxDate");
query.setParameter("maxDate", maxDate);

List list = query.list();
...

public class DateHelper {

    public static Date getMaxDate(Date date) {
        Calendar cal = Calendar.getInstance();
        cal.setTime(date);
        cal.add(Calendar.DATE, 10);
        cal.set(Calendar.HOUR_OF_DAY, 10);
        cal.set(Calendar.MINUTE, 0);
        cal.set(Calendar.SECOND, 0);
        cal.set(Calendar.MILLISECOND, 0);
        return cal.getTime();
    }
} 
```

# jquery - 如何使引导弹出窗口具有粘性以及如何在正确的时机隐藏它？

> ID：10976067
> 
> 赞同：9
> 
> 时间：2012-06-11T07:36:21.127
> 
> 标签：jquery, twitter-bootstrap, popover

我目前正在做一个项目，当我悬停元素时我必须让一些东西弹出，并且在释放元素后它应该在一段时间后隐藏，但是如果我悬停弹出框本身，计时器应该停止并且弹出框不应该隐藏。

所以我尝试了一个简单的计时器，该计时器在释放触发弹出框的元素后被激活，当我悬停弹出框时，计时器停止。但是这样做时出现了一些问题。我有很多元素要悬停，当我在短时间内将它们全部悬停时，计时器会被覆盖，并且没有像应有的那样工作。

所以我为我悬停的每个元素实现了一个特定的计时器。我将元素的 id 分配给弹出框内的数据属性，因此我知道哪个弹出框属于哪个元素。当我悬停元素时，将显示弹出框。当我释放元素时，计时器启动，计时器 ID 分配给我悬停的元素内的数据属性。当我现在将鼠标悬停在弹出框时，我会从弹出框中获取相应的 elemnt-id，它获得了相应的计时器 ID，然后我清除了这个特定的计时器。但是它不起作用，当缓慢地悬停和释放其中一个元素时，一切似乎都可以正常工作，但是如果在我可以悬停的元素之间走得更快一些，就会出现一些问题。弹出窗口有时会在几秒钟后随机隐藏。我找不到我做错了什么？如果有人知道如何做得更好，那就太棒了。代码：

```
$(".timelineTour")
         .popover({
             offset: 10,
             trigger: 'manual',
             animate: false,
             html: true,
             placement: 'right',
             template: '<div class="popover" onmouseover="$(this).mouseleave(function() {$(this).hide(); }); console.log(\'mouseover popover\');"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'

        }).mouseenter(function(){
          $('.timelineTour').not($(this)).popover('hide');
          $(this).popover('show');

        }).mouseleave(function(){
          var current = this;
          var t = window.setTimeout(function(){
          $(current).popover('hide');},1000);
          $(current).attr("data-timer",t);
        });

        $(".popover").live("mouseenter",function () { 
             var k = $(this).find('.popoverContent').attr("data-tour-id");
             var z = $('#'+k).attr("data-timer");
             window.clearTimeout(z);      
         }); 
```

# javascript - 试图在 jquery .load("myHTML.html") 上触发 body 'onLoad' 事件

> ID：10976070
> 
> 赞同：2
> 
> 时间：2012-06-11T07:36:28.107
> 
> 标签：javascript, jquery, ajax

我有一个 html，它主要在页面加载时自行构建，当我独立运行它时它可以完美运行，但是我需要将此 html 放在另一个 html 的 div 中，我使用 ajax/jquery 的 .load 函数来做到这一点

IE `$('#myDiv').load('myHtml.html')`

但是以这种方式在 div 中加载它不会触发 body onload 事件，并且页面没有正确构建。你能建议我如何以某种方式触发 body onload 功能或其他方式来实现相同的功能吗

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-11T07:42:55.393

您可以手动触发任何事件：`$(document.body).trigger('load')`

这是加载 html 后的操作方式：

```
$('#myDiv').load('myHtml.html', function () {
    $(document.body).trigger('load');
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T07:40:42.153

把它放在里面`$(document).ready()`

```
 $(document).ready(function(){

        $('#myDiv').load('myHtml.html');
   }); 
```

# c - 为什么 PathFileExists() 不起作用？

> ID：10976071
> 
> 赞同：3
> 
> 时间：2012-06-11T07:36:32.787
> 
> 标签：c, winapi

我想验证文件的存在，经过一番搜索，我认为 PathFileExists() 可能适合这项工作。但是，以下代码始终显示该文件不存在。为确保文件真实存在，我选择 cmd.exe 的完整路径作为测试文件路径。我正在使用 Windows 7 (x64)

```
#include "stdafx.h" 
#include <stdio.h>
#include <windows.h>
#include <shlwapi.h>
#include <WinDef.h>
#pragma comment( lib, "shlwapi.lib")

int _tmain(int argc, _TCHAR* argv[])
{ 

    char path[] = "c:\\Windows\\System32\\cmd.exe";
    LPCTSTR szPath = (LPCTSTR)path;
    if(!PathFileExists(szPath)) 
    { 
        printf("not exist\n");  
    }else{
        printf("exists!\n"); 
    }
    return 0; 
} 
```

你能解释一下这个问题吗？

# 更新

花几乎整个下午的时间来找出问题所在。PathFileExists() 函数需要类型的第二个参数。`LPCTSTR`但是，编译器无法正确转换`char *`为`LPCTSTR`然后我包含`tchar.h`并使用`TEXT`宏来初始化指针。完毕。LPCTSTR lpPath = TEXT("c:\Windows\System32\cmd.exe"); [PathFileExists() 的 MSDN 参考示例代码](http://msdn.microsoft.com/en-us/library/windows/desktop/bb773584%28v=vs.85%29.aspx)有点过时。直接用于 PathFileExists()的参考示例`char *`，在 Visual Studio 2011 beta 中无法通过编译。而且，示例代码错过了`using namespace std;` 其中，我认为@steveha 的答案最接近真正的问题。谢谢大家。

最终的工作代码如下所示：

```
#include "stdafx.h" 
#include <stdio.h>
#include <windows.h>
#include <shlwapi.h>
#include <WinDef.h>
#include <tchar.h>
#pragma comment( lib, "shlwapi.lib")

int _tmain(int argc, _TCHAR* argv[])
{ 
    LPCTSTR lpPath = TEXT("c:\\Windows\\System32\\cmd.exe");
        if( PathFileExists(lpPath) == FALSE)  
    { 
        printf("not exist\n");  
    }else{
            printf("exists!\n"); 
    }
    return 0; 
} 
```

很抱歉在这里添加解决方案，但我真的想在整个下午的工作后发表一些想法，希望对其他新手有所帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T07:57:30.213

我认为问题在于您需要将`char`字符串转换为 a`TSTR`而您没有这样做。

您正在使用类型转换来强制从类型`char *`到类型的指针，`LPCTSTR`但我认为这实际上不起作用。据我了解， a`TCHAR`要么是相同的东西，`char`要么是“宽字符”。我认为你必须`TCHAR`设置为宽字符，否则你不会有问题。

我找到了一个 StackOverflow 答案，其中包含可能对您有帮助的信息：

[在 C/C++(ms) 中将 char[] 转换为 tchar[] 的最简单方法是什么？](https://stackoverflow.com/questions/159442/what-is-the-simplest-way-to-convert-char-to-from-tchar-in-c-cms)

你可以打电话试试看`MultiByteToWideChar()`能不能解决问题。

# rest - 为 REST GET 查询指定投影

> ID：10976072
> 
> 赞同：7
> 
> 时间：2012-06-11T07:36:33.920
> 
> 标签：rest

为 REST GET 查询指定投影是否违反 REST 原则和/或这是一个好习惯？
考虑一个类似的 api `/person?fields=fname,lname, address`，这可能是因为 person 是一个大模型，而对于我目前的要求，我只需要给定字段的值（比如我正在创建一个 UI 网格）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-02-14T00:02:18.853

如果当前资源不支持您想要的，则完全可以定义新资源。这正是 REST 的工作原理。

因此，在您的情况下，`/person?fields=fname,lname, address`URI 定义是完全有效的。

请注意，URI 结构无关紧要，您必须在描述 URI 模板和变量的地方提供指向客户端的链接。所以你应该返回一个类似这样的链接（虚构的超媒体 JSON 格式）：

```
{
    "_links": {
        "/meta/person/list": {
            "href": "/person{?fields}",
            "vars": {
                "fields": {
                    "required": false,
                    "composition": [
                        "fname": {
                            "meta": "/meta/person/fname"
                        },
                        "lname": {
                            "meta": "/meta/person/lname"
                        },
                        "address": {
                            "meta": "/meta/person/address",
                            "alternatives": {
                                "href": "/locations",
                                "meta": "/meta/locations"
                            }
                        }
                    ]
                }
            }
        }
    }
} 
```

其中`/meta`描述了每个参数的类型和标签：

*获取 /meta/person/fname*

```
{
    "type": "string",
    "label": "First name",
    "_links": {
        "self": {
            "href": "/meta/person/fname"
        }
    }
} 
```

办公室。您与客户的第一步应该是获取整个元数据或至少是其中最常用的部分。通过处理链接，客户端必须能够理解元描述和这种特殊的超媒体 JSON 格式。URI 结构完全无关紧要，它应该只使用元数据来了解链接是什么，以及如何使用它。

不幸的是，我们目前没有关于如何描述 JSON 响应中的链接的标准。有超媒体格式，如[Hydra](http://www.hydra-cg.com/) + [Json-LD](http://json-ld.org/)、[HAL](http://stateless.co/hal_specification.html)、[HyperSchema](http://json-schema.org/)等……但是 afaik。它们都不是标准。（可能 Hydra RDF 词汇是最接近的词汇，但它肯定还没有准备好生产。Json-LD 已经是表示 RDF 的标准方式。）

现在，如果将如何构建`/person?fields=fname,lname,address`URI 及其含义硬编码到您的客户端中，那么它就不是 REST 客户端，因为这种服务/客户端违反了REST 的[统一接口](http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_5)/ [HATEOAS](http://en.wikipedia.org/wiki/HATEOAS)约束。办公室。现在的人。将所有内容都称为 REST、RESTful、API，即使他们对这个主题的了解与 Jon Snow 一样多。顺便提一句。如果您不想以 REST 方式实现您的 Web 应用程序，这没有什么可悲的，它只取决于您的要求。例如，如果您的应用程序没有很多用户和 3rd 方开发人员，那么您选择哪条路径很可能并不重要。

# iphone - 检查 UIImage 属性是否被分配？

> ID：10976075
> 
> 赞同：-2
> 
> 时间：2012-06-11T07:36:48.063
> 
> 标签：iphone, objective-c, ios, cocoa-touch

我有一个`UIImage`属性，从 iPhone 相机拍摄图像后，我将图像对象分配给该属性，否则没有。拍摄后如何检查此属性是否包含图像？下面我的代码没有帮助。

```
@interface MyViewController : UIView<UINavigationControllerDelegate, UIImagePickerControllerDelegate>
@property(nonatomic, retain) UIImage *imageShot;
@end

@implementation MyViewController
@synthesize imageShot = _imageShot;

- (id)init {
    self = [super init];
    if (self) {
        _imageShot = [[UiImage alloc] init];
    }
}

- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info {
    self.imageShot = [info objectForKey:UIImagePickerControllerEditedImage];
}

- (void)buttonClick {
    if (_imageShot) {

    } 
    else {

    }
}

@end 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-11T07:45:09.630

在您的`init`中，您应该创建`shotedImage`而`nil`不是分配一个新的空图像。这将允许执行像`if (!shotedImage)`(as `nil == 0`) 这样的测试。

# php - 从php中的文件中删除特定行

> ID：10976077
> 
> 赞同：-3
> 
> 时间：2012-06-11T07:36:48.323
> 
> 标签：php, file

我有一个名为“test.php”的文件。该文件的内容将更类似于以下内容：

```
<?php
require_once "classes/xconfig.php";
require_once "Facebook/index.php";
require_once "classes/class.uvlogin.php";
?> 
```

**编辑：**根据用户的选择，我想删除此 test.php 中的一些配置。例如，如果用户不想要自动配置，我必须`require_once "classes/xconfig.php";`从文件中删除。

是否可以删除/覆盖文件的特定行。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-11T07:53:43.790

> 根据用户的选择，我想删除此 test.php 中的一些配置。例如，如果用户不想要自动配置，我必须删除 require_once "classes/xconfig.php"；从文件中。

PHP 是一种编程语言。这意味着您可以拥有动态的东西。这意味着弄清楚这一点应该不难。只需使用 if 语句。

```
<?php
if( $user_wants_xconfig ) { require_once "classes/xconfig.php"; }
if( $user_wants_facebook ) { require_once "Facebook/index.php"; }
if( $user_wants_uvlogin ) { require_once "classes/class.uvlogin.php"; } 
```

# c++ - 在类中使用 boost::numeric::odeint

> ID：10976078
> 
> 赞同：1
> 
> 时间：2012-06-11T07:36:48.640
> 
> 标签：c++, oop, boost, ode

对于模拟，我正在使用 boost::numeric::odeint 但我遇到了问题。我在我的一个类的方法中使用了集成函数，我遇到了“没有匹配的函数来调用集成”的错误。更清楚地说，这是我的代码的压缩版本：

```
#include "MotionGeneration.h"
#include <boost/numeric/ublas/vector.hpp>
#include <boost/numeric/ublas/matrix.hpp>

typedef boost::array< double , 10 > state_type;

MotionGeneration::MotionGeneration(some_data) {
     //My constructor.
     //some_data assignment.
}

MotionGeneration::~MotionGeneration() {

}

double MotionGeneration::getError(double time) {
   //error calculation.
}

void MotionGeneration::execute(){
    state_type init_conf = { 0, -1.5708, 0, 0, 0, -1.5708, 0, -1.5708, 0, 0.5};
    boost::numeric::odeint::integrate(motionScheme, init_conf, 0.0, 1.0, 0.05, plot);
}

void MotionGeneration::motionScheme(const state_type &q, state_type &q_dot, double t){
     //Some long code goes here. Also I have some calls to some methods of this class. for example:
     double err = getError(t);          
}

void MotionGeneration::plot(const state_type &q , const double t){
    //some data pfintf here.
} 
```

请注意，我的方法都不是静态的，事实上，我不能使用静态方法。构建项目时，出现以下错误：

```
error: no matching function for call to `integrate(<unknown type>, state_type&, double, double, double, <unknown type>)' 
```

我认为将系统函数作为类方法是一个问题，但我不知道如何处理这种情况。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-13T21:27:27.493

odeint 需要一个 `operator()( const state_type &x , state_type &dxdt , double dt )`

在您的情况下， MotionGenerator 没有此运算符，但您可以绑定方法 motionScheme

```
#include <functional>
namespace pl = std::placeholders;

// ...

// not tested
void MotionGeneration::execute()
{
    state_type init_conf = { 0, -1.5708, 0, 0, 0, -1.5708, 0, -1.5708, 0, 0.5};
    boost::numeric::odeint::integrate(
        std::bind(&MotionGenerator::motionScheme, *this , pl::_1 , pl::_2 , pl::_3 ) , init_conf, 0.0, 1.0, 0.05, plot);
} 
```

```

但是，很容易将您的方法重命名`motionScheme`为`operator()`，然后简单地传递`*this`给集成。

编辑：您还可以`std::ref`用来避免复制您的 MotionGenerator 实例：

```
void MotionGeneration::execute()
{
    state_type init_conf = { 0, -1.5708, 0, 0, 0, -1.5708, 0, -1.5708, 0, 0.5};
    boost::numeric::odeint::integrate(
        std::bind(&MotionGenerator::motionScheme, std::ref(*this) , pl::_1 , pl::_2 , pl::_3 ) , init_conf, 0.0, 1.0, 0.05, plot);
} 
```

# python - 在python的列表中找到前两个最大值的更多pythonic方法

> ID：10976081
> 
> 赞同：6
> 
> 时间：2012-06-11T07:37:06.343
> 
> 标签：python

这些天我在python中设计了一些算法，但是发现python中的前两个最大值太丑陋且效率低下。

如何以高效或 Python 的方式实现它？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-11T07:39:56.323

大多数 Pythonic 方式是使用[`nlargest`](http://docs.python.org/library/heapq.html#heapq.nlargest)：

```
import heapq
values = heapq.nlargest(2, my_list) 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-11T09:02:02.580

我发现这始终比`heapq.nlargest`：

```
def two_largest(sequence):
    first = second = 0
    for item in sequence:
        if item > second:
            if item > first:
                first, second = item, first
            else:
                second = item
    return first, second 
```

（功能根据 MatthieuW 的建议修改）

以下是我的测试结果（`timeit`需要永远，所以我使用了`time.time()`）：

```
>>> from random import shuffle
>>> from time import time
>>> seq = range(1000000)
>>> shuffle(seq)
>>> def time_it(func, *args, **kwargs):
...     t0 = time()
...     func(*args, **kwargs)
...     return time() - t0
...

>>> #here I define the above function, two_largest().
>>> from heapq import nlargest
>>> time_it(nlargest, 2, seq)
0.258958101273
>>> time_it(two_largest, seq)
0.145977973938 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-11T07:43:07.243

```
mylist = [100 , 2000 , 1 , 5]
mylist.sort()
biggest = mylist[-2:] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-06-04T09:27:54.503

```
a=int(input('Enter the first number:'))
b=int(input('Enter the second Number:'))
c=int(input('Ente the Third Number:'))
if a>b and a>c:
    print('the value of A is',a,'highest velue')
elif b>a and b>c:
    print('the value of B is',b,'highest velue')
elif c>a and c>b:
    print('the value of C is',c,'highest velue')
else:
   print('the value is equls')
```

# axapta - 如果填写了另一个字段，是否可以禁用一个字段中的输入？

> ID：10976083
> 
> 赞同：1
> 
> 时间：2012-06-11T07:37:13.847
> 
> 标签：axapta, dynamics-ax-2012

如果另一个字段包含 MS Dynamics AX 2012 中的数据，我想禁用对表字段的输入。

**更新 1：**

> 如果 Field1 有输入，Field2 和 Field3 必须为 EMPTY

|字段1|字段2|字段3| 客户编号 | 身份证|

|---1---|--------|--------| 0000000001| 01

**更新 2：**

系统能否像在 ID 中输入重复值一样触发错误/警告消息 -> AllowDuplicates: No

-

> 无法在表（表）中创建记录。表 ID：01。该记录已存在。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-11T10:16:06.837

是的，在桌子上制定一个方法。

在这种情况下 (on `ProjTable`) 禁止在子项目上编辑名称：

```
void setFieldProperty()
{
    FormObjectSet fds = this.dataSource();
    if (fds)
    {                
        fds.object(fieldNum(ProjTable,Name)).allowEdit(!this.ParentId);
    }
} 
```

然后从表单数据源方法和条件所依赖的`active`数据源字段方法调用该方法（在这种情况下）。`modified``ParentId`

对更新 2 的回应：

看看[aosValidateInsert](http://msdn.microsoft.com/en-us/library/aa660720%28v=ax.50%29.aspx)和[aosValidateUpdate](http://msdn.microsoft.com/en-us/library/aa657703%28v=ax.50%29.aspx)

# android - Android 中使用 KSOAP 的 Web 服务

> ID：10976090
> 
> 赞同：0
> 
> 时间：2012-06-11T07:38:00.813
> 
> 标签：android, web-services, ksoap2

我想使用 KSOAP2 创建 Web 服务的连接，我已经完成了代码并且它出现了错误，所以请建议我在哪里做错了。我还需要一些关于 Web 服务方面的帮助，什么是命名空间，方法我们调用，soap_action，url 以及一些关于我们在 web 服务中使用的方法。我搜索了很多，但没有找到任何关于 web 服务的完整描述

```
 public class Web_ServicesActivity extends Activity {
    private static String SOAP_ACTION = "http://service.fun2shoot.com/getLive";

    private static String NAMESPACE = "http://service.fun2shoot.com/";
    private static String METHOD_NAME = "getLive";

    private static String URL = "http://119.82.75.91:8084/Fun2Shoot-WebService/Fun2ShootAndroid?wsdl";

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        System.out
                .println("After mail******************************************");
        // Initialize soap request + add parameters
        SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);
        System.out.println("****************After Request call");
        // Use this to add parameters
        // request.addProperty("Parameter","Value");

        // Declare the version of the SOAP request
        SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(
                SoapEnvelope.VER11);
        envelope.setOutputSoapObject(request);

        // Needed to make the internet call
        HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);
        try {
            // this is the actual part that will call the webservice
            androidHttpTransport.call(SOAP_ACTION, envelope);
        } catch (Exception e) {
            e.printStackTrace();
        }

        // Get the SoapResult from the envelope body.
        SoapObject result = (SoapObject) envelope.bodyIn;

        if (result != null) {
            TextView t = (TextView) this.findViewById(R.id.tv);
            System.out
                    .println("***************************************Inside null condition");
            // Get the first property and change the label text
            t.setText("SOAP response:\n\n" + result.getProperty(0).toString());
        }

    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T04:55:05.473

您可以在您的项目中添加库，**`Build Path`**并使用本教程[如何创建基于 java 的 Web 服务供您参考在 Java 中创建 Web 服务](http://www.eclipse.org/webtools/community/tutorials/BottomUpAxis2WebService/bu_tutorial.html)。

如果您对此有任何疑问或任何其他疑问，可以写信给我。

# php - preg_match 获取利率

> ID：10976093
> 
> 赞同：0
> 
> 时间：2012-06-11T07:38:10.463
> 
> 标签：php, preg-match

我正在尝试验证并从用户输入中获取“利率”。

我想接受 1% -> 99%，并且可以使用 0、1 或 2 位小数。我也不介意它们是否包含“％”。

IE

*   3.2
*   3.45%
*   44%
*   4.00%

我能找到的最好的是

```
/([0-9]{1,2})%/ 
```

但那是我能得到的最接近的......任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T07:43:25.043

尝试使用这个正则表达式：

```
/(\d{1,2}(\.\d{1,2})?)%?/ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T07:44:05.580

```
<?php

$regex = '~^(\d{1,2})(\.(\d{1,2}))?\%?$~';

$shouldMatch = array(
    '3.2',
    '3.45%',
    '44%',
    '4.00%'
);

foreach( $shouldMatch as $interest ) {
    var_dump( preg_match( $regex, $interest ) );
} 
```

正则表达式的说明：它必须以一位或两位数字 (\d{1,2}) 开头 (^)。然后，您可以拥有一个以 . 开头的组。（尽管在荷兰会使用逗号）。然后，它必须后跟一位或两位数字。(.(\d{1,2}))。该组是可选的 (?)。然后，有一个可选的百分号 (%?)，字符串应以 ($) 结尾。

**编辑**：您可能还想使用（更快？）非正则表达式替代方案：

```
<?php

$shouldMatch = array(
    '3.2',
    '3.45%',
    '44%',
    '4.00%'
);

foreach( $shouldMatch as $interest ) {
    $interest = trim( $interest, '%' );

    var_dump( is_numeric( $interest ) && $interest < 100 );
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-11T07:49:22.587

这个正则表达式应该工作：

```
/(?<!\d)(\d{1,2}(?:\.\d*)?|\.\d+)%/ 
```

对于此数据：`.56% 4.45% 99.99999% 0.112% 6% 0% 34% 3.% 99% 100% .% .0% 1.2342343%`

它产生：

```
Array
(
    [0] => Array
        (
            [0] => .56%
            [1] => 4.45%
            [2] => 99.99999%
            [3] => 0.112%
            [4] => 6%
            [5] => 0%
            [6] => 34%
            [7] => 3.%
            [8] => 99%
            [9] => .0%
            [10] => 1.2342343%
        )

    [1] => Array
        (
            [0] => .56
            [1] => 4.45
            [2] => 99.99999
            [3] => 0.112
            [4] => 6
            [5] => 0
            [6] => 34
            [7] => 3.
            [8] => 99
            [9] => .0
            [10] => 1.2342343
        )

) 
```

这是从某些文本匹配用户输入的解决方案。从文本中捕获有点不同，所以我需要`%`呈现。

**编辑**

如果您想验证用户输入，假设您希望字段中只有 1 个数字。

```
/^\s*(\d{1,2}(?:\.\d{0,2})?|\.\d{0,2})%?\s*$/ 
```

这也将使小数点后超过 2 位的所有数字无效。这也允许百分比数字前后的空格。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-08-28T10:50:38.650

```
 function isPostiveNegativeThreeDecimalNumbersOnly(value) {
      var pattern = /^[-+]?(\d{1,3})(\.(\d{1,3}))?$/;
      return pattern.test(value);
 } 
```

您可以使用负值验证三个十进制数

例如

```
1.2,1.23,1.234,22.1,123.123,-1,-1.122,-222,222 
```

所有值都有效

# jquery - 如何根据值中的字符串隐藏按钮/输入元素？

> ID：10976101
> 
> 赞同：1
> 
> 时间：2012-06-11T07:38:31.813
> 
> 标签：jquery, html

我有一个按钮：

```
<input type="button" value="Browse Server" class="button"> 
```

我想使用 jQuery 隐藏这个按钮，或者只是给他分配一些 CSS 并通过 CSS 样式表隐藏它。我想我必须使用`.val()`，但是如何搜索所有 html 文档以查找值为“浏览服务器”的输入元素？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T07:40:31.937

这应该有效：

```
$('input[value="Browse Server"]').hide(); 
```

# java - Freemarker + Spring MVC 教程

> ID：10976103
> 
> 赞同：5
> 
> 时间：2012-06-11T07:38:38.817
> 
> 标签：java, spring, spring-mvc, freemarker

我是 Spring MVC 和 Freemarker 的新手。到目前为止，我使用过 JSF，并且对 Ruby on Rails 有一些经验（关于 RESTful 模式..）。

我已经配置了我的 Spring Web 应用程序，现在准备尝试一些基本的东西，比如表单等，但是我找不到任何关于使用 Spring MVC 和 freemarker 的教程。由于我既没有使用 Spring MVC 也没有使用 Freemarker 的经验，我很迷茫从哪里开始......

我应该先尝试了解freemarker吗？我觉得 Spring MVC，来自 taglibs 的 appart，只是为我提供了一种在 Spring 上下文中设置 RESTful MVC 应用程序的方法，仅此而已..？

感谢有用的链接，甚至更好的一些好书！

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-11T07:49:04.270

显然官方文档可以帮助你（**Spring MVC**）：[http ://static.springsource.org/spring/docs/current/spring-framework-reference/html/mvc.html](http://static.springsource.org/spring/docs/current/spring-framework-reference/html/mvc.html)

**具体配置Spring MVC + FreeMarker**可以参考本章：[https ://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-view-freemarker](https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-view-freemarker)

有关**Spring MVC**的一般介绍，请查看本教程：http: [//viralpatel.net/blogs/tutorial-spring-3-mvc-introduction-spring-mvc-framework/](http://viralpatel.net/blogs/tutorial-spring-3-mvc-introduction-spring-mvc-framework/)

这个快速教程看起来也很有趣（**Spring MVC 3 + FreeMarker**）： [http ://blog.teamextension.com/quick-freemarker-in-spring-3-tutorial-577](http://blog.teamextension.com/quick-freemarker-in-spring-3-tutorial-577)

# node.js - 在 VM 中运行的 node.js 脚本看不到主操作系统所做的文件夹更改

> ID：10976104
> 
> 赞同：16
> 
> 时间：2012-06-11T07:38:43.827
> 
> 标签：node.js, virtualbox, vagrant, gruntjs

我有以下设置：

1.  [由Vagrant](http://vagrantup.com/)创建的 Ubuntu Lucid 32 VM 。
2.  Vagrant 启动的文件夹，其中包含一些 CSS 和 JS 文件。该文件夹安装在 VM 内的地址 /vagrant/ 处。
3.  [带有监视任务的grunt.js](https://github.com/cowboy/grunt)从 VM 启动，监视 css 和 js 文件的变化。文件更改后，必须将这些文件合并为一个css和一个js文件。

问题： grunt.js 中的监视任务没有看到挂载文件夹中的更改。

如果我在 VM 中更改文件，请观看任务正常工作。如果我不是从虚拟框启动 grunt.js，而是从主操作系统启动它也可以。在 Mac OS 和 Windows 7 中尝试过。

只有在从 VM 启动任务并从主操作系统更改文件时才会出现问题。这个问题有解决方法吗？

**更新。**关于我们的使用场景的一些细节，以更好地理解上下文：

1.  我们是设计工作室，有 10 多个人在使用代码。
2.  不同的人使用不同的操作系统。我们有：Win 7、Mc OS X 和 Ubuntu Linux。
3.  我们正在开发和支持 100 多个不同的项目。
4.  项目使用不同的语言和设置：我们在自己的 CMS 上有 PHP 项目，在 Yii 上有 PHP 项目，在 Django 上有 Python 项目，还有一些 node.js 项目。
5.  不同的开发人员可能会在某个时间点从事任何此类项目。
6.  现在，每次我们需要在开发人员的计算机上进行项目工作时，我们都会花费大量时间，而他们以前没有使用过它。通常我们需要一些已经在它上面工作的开发人员的帮助才能使它工作。

我们想让它更直截了当。为此，我们尝试使用 Vagrant 和一些预配置的 OS 映像。

现在项目设置如下所示：

1.  来自 git 的开发人员结帐项目。
2.  开发人员在终端中打开项目文件夹。
3.  开发人员输入“vagrant up”。
4.  5 分钟后，他已完全配置并工作项目副本。

我们喜欢这种设置，而且大多数时候我们没有任何问题。但是在我们的 node.js 项目中，我们使用了一些 css 和 js 预处理器，并且喜欢实时更新它们的文件。并且在最初的帖子中存在问题。

使用 ssh VM 访问文件以及在 VM 中使用项目文件的解决方案可能会起作用，但它们并没有解决基本问题（在运行不同操作系统的开发人员组中快速轻松地设置大量项目）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-29T04:46:54.910

文件/路径观察器依赖于操作系统的较低级别的设施，如 Linux 上的 inotify 或 BSD 系统上的 kqueue。这些机制直接与文件系统驱动程序一起工作，它们不会看到网络挂载的变化。如果您的脚本可以在虚拟操作系统上运行，那么您可能会改变共享的方向。不要从来宾操作系统内部访问主机操作系统上的共享文件夹，而是使用来宾操作系统上的真实文件夹（实际操作发生的地方）并从主机操作系统访问它来编辑您的文件。这样，您的客户操作系统将像在其生产环境中一样工作，这是 Vagrant 所承诺的；但显然未能交付。

我个人使用带有 SFTP 插件的 Sublime Text 2 编辑器。在此设置中，我保留了两个文件副本并在主机操作系统上处理这些文件。每当我编辑/添加文件时，我的编辑器都会快速将其上传到服务器，即客户操作系统。当我迁移到生产服务器时，我仍然可以使用比使用共享文件夹更好的方法。

在切换到 Sublime 作为我的主要编辑器之前，我已经使用 Vim 十多年了。那时，我没有使用总是有问题的 Vim 的 sftp/ssh 工具，而是使用 WinSCP 作为 SFTP 客户端。正确配置后，无论何时双击服务器上的文件，它都会在您选择的编辑器中打开它，并且每当您保存文件时，WinSCP 都会自动将其上传到服务器。这与我使用 Sublime 的 SFTP 插件非常接近；但是，本地（主机操作系统）版本的文件是在 WinSCP 动态创建的临时文件夹上创建的。

Sublime 的 SFTP 插件采用的方法是，在两个系统上都有文件夹的副本更适合我的需求，因为我还在主机操作系统上运行了 SpiderOak 作为我的备份解决方案。我喜欢它，因为它保留了文件的版本历史。我将其设置为每小时检查一次更改，而不是不断观察以使其执行更顺畅，如果系统发生故障，可能会失去一个小时的工作。一切都在这个设置中完美运行，我真的多次使用它的旧版本功能，这让我免于大量的苦差事和工作损失。

因此，总而言之，如果您想继续处理共享文件夹，您要做的就是在来宾操作系统（您的 Ubuntu）上安装和配置 Samba/NFS/FTP 服务器并共享文件夹。然后，您将从主机操作系统（您的 Mac/Win7）访问网络共享，就像访问任何其他共享远程文件夹一样。如果您的使用和需求与我的相似，那么我强烈建议您使用 Sublime+SFTP 或 YourEditor 和 WinSCP 或类似的 SFTP 客户端。

**更新：**特别基于总结为“如果我在 VM 中更改文件，观察任务正常工作。如果我不是从虚拟机启动 grunt.js，而是从主操作系统它也可以工作。” 在这个问题中，我对 grunt.js 如何监视文件和文件夹做出了错误的假设。我以为它是在使用节点的 fs.*watch 函数；但正如 pyfunc 通过一项出色的研究表明的那样，我的假设是错误的。虽然这不会影响我提出的任何建议的结果，但我必须为这是一个错误的技术信息道歉。因此，看起来问题是由于在远程机器上进行修改时未正确设置文件的修改时间引起的，这*可能*会使 vboxfs 对于这种取决于文件修改时间的用途无用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-29T05:31:30.840

**注意：**我没有提供任何完整的解决方案，我也不是 JavaScript 程序员

**关于观看文件的 grunt.js 问题部分**

来源：[https ://github.com/cowboy/grunt/blob/master/tasks/watch.js](https://github.com/cowboy/grunt/blob/master/tasks/watch.js)

进行文件的监视的部门。它使用 fs.statSync（同步统计）：

```
// Get last modified time of file.
            mtime = +fs.statSync(filepath).mtime;
            // If same as stored mtime, the file hasn't changed.
            if (mtime === mtimes[filepath]) { return; }
            // Otherwise it has, store mtime for later use.
            mtimes[filepath] = mtime;
          } 
```

它使用 node.js 中的“fs”功能：[http ://nodejs.org/api/fs.html#fs_class_fs_stats](http://nodejs.org/api/fs.html#fs_class_fs_stats)

在文件的各种数据中，它返回以下时间属性：

```
atime: Mon, 10 Oct 2011 23:24:11 GMT,
mtime: Mon, 10 Oct 2011 23:24:11 GMT,
ctime: Mon, 10 Oct 2011 23:24:11 GMT 
```

所以结论是它使用了stat。您可以编写一个简单的 js 文件，利用 node.js 中的 fs 来检查`fs.statSync`更改共享文件夹中的文件前后的结果。

这将确定您是否应该使用 grunt.js 的 watcher 实用程序监视文件。

**关于 VirtualBox 中共享文件夹的一点说明**

使用它是为了方便，就像 vagrant 共享 puppet 配置文件并在 VM 启动后将其应用到 VM 上一样。众所周知，VirtualBox 共享文件夹的性能会随着共享文件夹中文件数量的增加而迅速下降。

对于任何繁重的工作，请使用其他机制将文件存储在 VM 的常规目录中。使用 NFS 共享文件夹。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-09-04T03:01:24.290

我在 Windows 10 主机上运行带有 VirtualBox 的 CentOS 7 VM 时遇到了同样的问题：browsersync 无法检测到 VBox 共享文件夹中的更改。帮助我的是稍微调整手表过程。Browsersync 使用[chokidar](https://github.com/paulmillr/chokidar)来监控文件。设置`usePolling: true`为我解决了这个问题。如何使这对您的情况有用？

*   尝试找到一个也使用[chokidar](https://github.com/paulmillr/chokidar)的 grunt 插件。让观察者使用轮询。
*   调整观察者的设置。

# silverlight - Sitecore SSO 登录和 Silverlight 拖放组件

> ID：10976114
> 
> 赞同：0
> 
> 时间：2012-06-11T07:40:02.137
> 
> 标签：silverlight, sitecore, single-sign-on

我正在使用 Sitecore Intranet Portal 和它的 Silverlight 文件上传组件，如果启用了 AD 单点登录，文件将无法成功上传。

文件开始上传，但卡在最后并没有添加到附件中。

当 SSO 关闭时，一切正常。

有没有人遇到过这个问题？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-15T17:23:06.410

这个问题已被解决。您可以向 Sitecore 支持咨询有关修补程序的信息。与 DirectLogin.aspx 相关的问题。您必须在 DirectLogin.asp 页面上添加执行登录管道和登录事件的代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-19T14:46:14.380

问题与未经身份验证的 Silverlight 请求有关。

我们覆盖了接受 Silverlight 文件上传的 UploadTarget.aspx 页面并更改了

# java - 带有 JVM 和 X 系统的小型操作系统？

> ID：10976120
> 
> 赞同：1
> 
> 时间：2012-06-11T07:40:34.030
> 
> 标签：java, swing, operating-system, executable-jar

我需要一个非常小的、轻量级的操作系统（最好是开源的），它包括一个功能齐全的 JVM 和 X 系统，用于显示我漂亮的 JFrame，并且可以自动执行我为其设置的 JAR 文件。已经建成的对我有好处的东西吗？还是我必须自己在现有的 Linux 系统上构建类似的东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T07:45:39.687

DSL 怎么样 - [http://www.damnsmalllinux.org/](http://www.damnsmalllinux.org/) 只有 50MB，有 X（我相信还有 Java） - 虽然不是很漂亮。或者puppylinux - [http://puppylinux.org](http://puppylinux.org) - 它是100MB，但更好看

# java - 将 JFXPanel 添加到 JPanel

> ID：10976128
> 
> 赞同：1
> 
> 时间：2012-06-11T07:41:20.647
> 
> 标签：java, swing, javafx-2

我需要将 a`JFXPanel`作为内部组件渲染`JPanel`。

我的应用程序仅适用于 JAVA1.6，我编写了代码以在 JPanel 中呈现 JFXPanel，但没有收到任何错误，但看不到任何可见的输出。

我也尝试使用 BorderLayout 作为中心。

我还注意到，在执行后的一行中创建 Scene() 下一行没有被执行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-13T15:42:38.183

在此处查看“在 Swing 中嵌入 JavaFX2”示例：[http ://www.oracle.com/technetwork/java/javase/overview/javafx-samples-2158687.html](http://www.oracle.com/technetwork/java/javase/overview/javafx-samples-2158687.html)

或阅读本教程：[http ://docs.oracle.com/javafx/2/swing/swing-fx-interoperability.htm#CHDIEEJE](http://docs.oracle.com/javafx/2/swing/swing-fx-interoperability.htm#CHDIEEJE)

# c++ - BOOST_CHECK_EQUAL 与对 和自定义运算符 <<

> ID：10976130
> 
> 赞同：7
> 
> 时间：2012-06-11T07:41:22.187
> 
> 标签：c++, boost, boost-test

当尝试执行 BOOST_CHECK_EQUAL(pair, pair) 时，gcc 没有找到 pair 的流运算符，尽管声明了它。有趣的是 std::out 找到了运算符。

```
ostream& operator<<(ostream& s, const pair<int,int>& p) {
    s << '<' << p.first << ',' << p.second << '>';
    return s;
}

BOOST_AUTO_TEST_CASE(works)
{
    pair<int,int> expected(5, 5);
    pair<int,int> actual  (5, 5);
    std::cout << expected << std::endl;
    std::cout << actual   << std::endl;
    BOOST_CHECK(actual == expected);
}

BOOST_AUTO_TEST_CASE(no_work)
{
    pair<int,int> expected(5, 5);
    pair<int,int> actual  (5, 5);
    BOOST_CHECK_EQUAL(actual, expected);
} 
```

这不会与错误一起编译：

```
...  instantiated from here
../boost-atp/release/include/boost/test/test_tools.hpp:326:9: error: no match for ‘operator<<’ in ‘ostr << t’ 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2015-11-27T22:27:03.083

像[Remus 的回答](https://stackoverflow.com/a/10976175/309334)`operator<<`一样，在C++ 14 草案（N4296 部分：17.6.4.2.1）中未定义行为。Boost提供了一个钩子（[这个答案使用](https://stackoverflow.com/a/17573165/309334)），你可以写：`std`

```
namespace boost
{
    namespace test_tools
    {
        template<typename T,typename U>
        struct print_log_value<std::pair<T, U> >
        {
            void operator()(std::ostream& os, std::pair<T, U> const& pr)
            {
                os << "<" << std::get<0>(pr) << "," << std::get<1>(pr) << ">";
            }
        };
    }
} 
```

`print_log_value`是一个模板，所以如果你没有声明一个模板化的值`pair<T,U>`，你将需要编写如下内容：

```
template<>
struct print_log_value<MyType>{ /* implementation here*/ }; 
```

**编辑**

如果您使用的是 boost 1.59 或更高版本，则需要改用命名空间`boost::test_tools::tt_detail`。也就是代码需要启动：

```
namespace boost
{
    namespace test_tools
    {
        namespace tt_detail
        { 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-06-11T07:45:03.037

尝试将[运算符本身放在 std 命名空间中](http://en.wikipedia.org/wiki/Argument-dependent_name_lookup)：

```
namespace std
{
  ostream& operator<<(ostream& s, const pair<int,int>& p) {
    s << '<' << p.first << ',' << p.second << '>';
    return s;
  }
} 
```

更新：也许这就是[ADL 失败](http://clang.llvm.org/compatibility.html)的原因（至少在 llvm 上）：

> 就像以前一样，不合格的查找没有找到任何带有 name 的声明`operator<<`。与以前不同，参数类型都包含类类型：其中一个是类模板类型的实例， `std::basic_ostream`另一个是`ns::Data`我们上面声明的类型。因此，ADL 将在命名空间`std`中`ns` 查找`operator<<`. 由于其中一种参数类型在模板定义期间仍然依赖，因此 ADL 直到模板在 Use 期间被实例化后才完成，这意味着`operator<<`我们希望它找到的已经声明了。不幸的是，它是在全局命名空间中声明的，而不是在 ADL 将查找的任何一个命名空间中！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-22T00:24:57.427

我一直在寻找类似的东西，一种自定义输出字符串以十六进制打印整数的方法。将运算符注入 std 命名空间会起作用，但我测试中的每个 BOOST_CHECK 都将以十六进制打印。

所以我在 boost 命名空间中注入了一些自定义运算符，我可以用一些全局布尔值来控制它们。

在这里查看我的答案[boost-check-fails-to-compile-operator-for-custom-types](https://stackoverflow.com/questions/17572583/boost-check-fails-to-compile-operator-for-custom-types)。

# android - 适用于 Google TV 的 Logitech TV Cam 不适用于 sdk？

> ID：10976131
> 
> 赞同：0
> 
> 时间：2012-06-11T07:41:29.757
> 
> 标签：android, android-camera, google-tv, logitech

今天我尝试从 Logitech Revue 访问 Logitech TV Cam，但它不可用

```
numberOfCameras = Camera.getNumberOfCameras() 
```

始终返回 0，而 Logitech Vid HD 可以访问摄像机。任何提示如何让它工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T19:23:43.367

Google TV 不支持相机。如果相机通过 USB 连接，您应该能够使用[USB 主机 API来检测相机。](http://developer.android.com/guide/topics/usb/host.html)您还可以使用相同的 API 从中读取输入流。我自己没有试过。我将在本周晚些时候尝试并在此处更新。

# github - 我的 git bash 不适用于 github

> ID：10976132
> 
> 赞同：1
> 
> 时间：2012-06-11T07:41:29.800
> 
> 标签：github

我在 Windows 7 上成功安装了 git bash，它运行了好几天。但是最近几天我总是遇到同样的错误：

```
Disconnected: No supported authentication methods available. 
```

运行命令“ssh git@github.com”，我收到一条成功消息：

```
Hi xxxx, You've successfuly authenticated. but Github does not provide shell access. 
```

我检查了 .profile，GIT_SSH 设置为 ssh.exe 与 git bash 一起出现，如下所示：

```
GIT_SSH = "/d/progra~1/git/bin/ssh.exe" 
```

但是，我注意到每次打开 git bash 时，都会出现一条错误消息：

```
sh.exe": GIT_SSH: command not found 
```

结果，我看到 TortoisePlink.exe 仍在使用中。

任何建议表示赞赏！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T07:49:52.310

一种解决方法是对 GitHub 存储库 ( `https://github.com/username/yourRepo`) 使用 https 地址，并将您的 GitHub 凭据放在一个`%HOME%/_netrc`文件中：请参阅“[与 github 同步](https://stackoverflow.com/questions/5377703/syncing-with-github/5378094#5378094)”。

另一种选择是查看[http://windows.github.com](http://windows.github.com)，看看该设置是否有效。
它将创建自己的 ssh 公钥/私钥并将其注册到您的帐户中。

请注意，[此答案](https://stackoverflow.com/a/3842222/6309)表明：

```
GIT_SSH="/usr/bin/ssh.exe" 
```

（即类似unix的路径）

# php - PHP中的乘法结果

> ID：10976133
> 
> 赞同：1
> 
> 时间：2012-06-11T07:41:32.853
> 
> 标签：php, wordpress

我还是 PHP 的初学者。我有一个小问题，我想将该值乘以`get_formatted_order_total();`3.75，我所做的是

```
get_formatted_order_total(); * 3.75 
```

但它没有用。

这是代码

```
<li class="total">
    <?php _e('Total:', 'woocommerce'); ?>
    <strong><?php echo $order->get_formatted_order_total(); ?></strong>
</li> 
```

谢谢你

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T07:44:43.030

分号放在[指令的末尾](http://php.net/manual/en/language.basic-syntax.instruction-separation.php)。由于这是一条指令，因此您需要将分号移动到行尾：

```
echo get_formatted_order_total() * 3.75; 
```

示例：[http ://codepad.org/HH3RLZCR](http://codepad.org/HH3RLZCR)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T07:43:19.237

试试看

```
echo get_formatted_order_total() * 3.75; 
```

没有 ; 后 （）。; 应该在 3.75 之后

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-12T13:13:20.473

问题是，它`get_formatted_order_total()`返回一个字符串，格式化为在网站上显示，而不是一个可用于计算的数值。

未格式化的值可用作 Order 类的成员变量，因此

```
echo $order->order_total * 3.75; 
```

应该管用。

为了理解这一点，请查看[Woocommerce 的源代码](https://github.com/woothemes/woocommerce/blob/master/classes/class-wc-order.php#L389)：使用辅助函数`Order::get_formatted_order_total()`简单地格式化：`Order::order_total``woocommerce_price()`

```
/** Gets order total - formatted for display */
function get_formatted_order_total() {
    $formatted_total = woocommerce_price( $this->order_total );

    return apply_filters( 'woocommerce_get_formatted_order_total', $formatted_total, $this );
} 
```

# sharepoint - MOSS 中的搜索结果排序

> ID：10976136
> 
> 赞同：1
> 
> 时间：2012-06-11T07:41:50.857
> 
> 标签：sharepoint, sharepoint-2007, sharepoint-search

我们在 sharepoint 2007 中有门户。我们有一个文档库，其中包含 2 个名为 Account、Customer name 的自定义列。
我们想添加一些排序来显示共享点默认搜索结果。
Orderig 的意思是如果用户在简单的搜索框中输入单词“Monitor”，那么结果应该以下面的方式出现，
首先所有那些在其自定义列 Account 中有单词“Monitor”的文档都应该出现在结果中，然后所有文档应该出现有单词“监控”在其自定义列客户名称中，最后是在其文档内容中包含“监控”一词的所有文档。

有什么方法可以在sharepoint中实现这个搜索结果排序？

提前致谢..

# java - 使用反射（包java.lang.reflect）扩展另一个包中的另一个内部类的内部类的私有字段？

> ID：10976139
> 
> 赞同：-2
> 
> 时间：2012-06-11T07:42:11.807
> 
> 标签：java, reflection, packages, inner-classes

如何访问另一个包中的内部类的私有字段，该包通过使用反射（包 java.lang.reflect）扩展另一个包中的另一个内部类？

```
package MainPackage;
import java.lang.reflect.Field;

class PrimaryClass
{
    public static void main(String[] args)
    {
        AuxiliaryPackage.TerciaryClass.BugattiVeyron bugattiVeyron = 
            (new AuxiliaryPackage.TerciaryClass()).new BugattiVeyron(
                new MainPackage.SecondaryClass());        

        System.out.println("Name: "+ bugattiVeyron.name);
        System.out.println("Tires type: " + bugattiVeyron.tiresType);
        try
        {
            Class bugattiVeyronClass = bugattiVeyron.getClass();
            Field invisibleField1 = bugattiVeyronClass.getDeclaredField("topSpeed");
            invisibleField1.setAccessible(true);
            System.out.println(invisibleField1.get(bugattiVeyron));
            Field invisibleField2 = bugattiVeyronClass.getDeclaredField("tamperedOdometer");
            invisibleField2.setAccessible(true);
            System.out.println(invisibleField2.get(bugattiVeyron));
        }
        catch (Exception e)
        {
            /* I ALWAYS GET AN EXCEPTION !! */
            /* I need a change to be done IN the TRY block. */
            /* WHEN THE BugattiVeyron class DOES NOT EXTEND another inner class, NO EXCEPTION. */
            /* See at the end for a detail of the just mentioned case. */
            System.out.println("An exception has occurred.");
            System.err.println(e.getMessage());
            e.printStackTrace();
        }
    }
}

package MainPackage;
public class SecondaryClass
{
    public class SportsCar
    {
        /* Public fields. Accesible from any package. */
        public String name = new String();

        /* Protected fields. Accesible from the same package and subclasses in any package */
        protected String tiresType = new String();

        /* Package fields. No explicit modifier. Accessible from the same package only. */
        int topSpeed; //km per hour

        /* Private fields. Accessible from the same class only. */
        private boolean tamperedOdometer;

        /* Default constructor */
        public SportsCar()
        {
            name = "Sports car";
            tiresType = "Race";
            topSpeed = 250;
            tamperedOdometer = false;
        }

        public SportsCar(String name, String tiresType, int topSpeed, boolean tamperedOdometer)
        {
            this.name = name;
            this.tiresType = tiresType;
            this.topSpeed = topSpeed;
            this.tamperedOdometer = tamperedOdometer;
        }     
    }
}

package AuxiliaryPackage;
public class TerciaryClass
{
    public class BugattiVeyron extends MainPackage.SecondaryClass.SportsCar
    {
        /* Default constructor */
        public BugattiVeyron(MainPackage.SecondaryClass secondaryClass)
        {
            secondaryClass.super("Buggati Veyron", "Michelin Pilot Sport PS2 PAX", 431, false);
        }
    }
} 
```

当 BugattiVeyron 类没有扩展任何东西时（在代码中进行了一些更改之后），我像这样实例化它：

```
AuxiliaryPackage.TerciaryClass.BugattiVeyron bugattiVeyron = (new
        AuxiliaryPackage.TerciaryClass()).new BugattiVeyron(); 
```

...并且没有例外...那么我应该在 try 块中进行哪些更改才能将事情做好？

提前致谢！！

编辑 1\. 我不是故意大喊大叫的。我认为由于帖子的长度，介绍可能会丢失。我已经包含了 stackTrace。我道歉。这是我的第二个问题。

这是第一个例外（另一个类似）：

```
java.lang.NoSuchFieldException: topSpeed
        at java.lang.Class.getDeclaredField(Unknown Source)
        at MainPackage.PrimaryClass.main(PrimaryClass.java:17) 
```

第 17 行是：Field invisibleField1 = bugattiVeyronClass.getDeclaredField("topSpeed");

编辑 2\. 我知道它看起来不像“好的编程模式”。这是关于 java.lang.reflect 限制的研究。

编辑3：答案。我要感谢所有对我友善和耐心并试图提供答案的人。最后，我从[vsb](https://stackoverflow.com/users/315129/vsb)得到了解决方案。因此，自从我发布问题以来，大约花了一个小时才得到答案。一个记录！自 3 月 1 日以来，我的第一个问题根本没有受到任何关注。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:04:03.130

`getDeclaredField`[如文档中所述，为](http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getDeclaredField%28java.lang.String%29)您提供`Class`对象引用的确切类中的字段。如果该字段未在子类中*声明*，则不会这样。

 *您可能想改用[getField](http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getField%28java.lang.String%29)：

> 要反射的场由下面的算法确定。设 C 为该对象所代表的类：
> 
> 1.  如果 C 声明了一个具有指定名称的公共字段，那就是要反映的字段。
> 2.  如果在上面的步骤 1 中没有找到任何字段，则该算法递归地应用于 C 的每个直接超接口。直接超接口按照它们被声明的顺序进行搜索。
> 3.  如果在上面的步骤 1 和 2 中没有找到字段，并且 C 有一个超类 S，则在 S 上递归调用此算法。如果 C 没有超类，则抛出 NoSuchFieldException。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T08:18:38.567

此代码有效。

```
 Class bugattiVeyronClass = bugattiVeyron.getClass();
        Class sportsCarClass = bugattiVeyronClass.getSuperclass();
        Field invisibleField1 = sportsCarClass.getDeclaredField("topSpeed");
        Field invisibleField2 = sportsCarClass.getDeclaredField("tamperedOdometer"); 
```

BugattiVeyron 类没有这些字段，它们来自超类，必须相应访问。

您可以使用以下方法在类层次结构中查找字段：

```
private static Field getDeclaredFieldInHierarchy(Class<?> clazz, String fieldName) {
    if (clazz == null) {
        return null;
    }
    try {
        return clazz.getDeclaredField(fieldName);
    } catch (NoSuchFieldException e) {
        return getDeclaredFieldInHierarchy(clazz.getSuperclass(), fieldName);
    }
} 
```

但请考虑另一种方法来解决您的问题。这是非常糟糕的风格，只应在绝对必要时使用。*

# android - 我可以在低于 9 的 api 级别使用 DownloadManager 类吗？

> ID：10976144
> 
> 赞同：1
> 
> 时间：2012-06-11T07:42:51.830
> 
> 标签：android, download-manager

我想在我的 Android 应用程序中从 Internet 下载文件。我使用了 DownloadManager 类，它在 Gingerbread 及以上版本上正常工作，但在 Froyo 及以下版本上不能正常工作。

如何在低于 9 的 api 级别中使用 DownloadManager？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T11:17:00.450

> 如何在低于 9 的 api 级别中使用 DownloadManager？

你不能。您需要自己下载文件，使用`HttpUrlConnection`或`HttpClient`。

# ruby-on-rails - RoR if .. else 语句

> ID：10976151
> 
> 赞同：0
> 
> 时间：2012-06-11T07:43:22.017
> 
> 标签：ruby-on-rails, view, if-statement, switch-statement

我正在尝试将值返回到我的视图中，尽管没有取得太大的成功

# 错误

未定义的局部变量或方法 `schedule' for #

# 模型

```
 def win_lose_tie
    if schedule.for.to_i == schedule.against.to_i then
      :tie
    elsif schedule.for.to_i > schedule.against.to_i ? :win : :lose
    end
  end 
```

# 帮手

```
 def win_lose_tie_display(value)
    case value
      when :win
        "W"
      when :lose
        "L"
      when :tie
        "T"
      else
        "unknown win/lose/tie value"
    end
  end 
```

# 看法

```
<%= win_lose_tie_display(schedule.win_lose_tie) %> 
```

所有这些都返回以下错误

时间表中的名称错误#index

显示 /Users/ ****/Sites/rails_projects/**** /app/views/schedules/index.html.erb 其中第 46 行提出：

```
43:           <% @schedules.each do |schedule| %>
44:               <tr>
45:                 <td><%= schedule.event %></td>
46:                 <td><strong><%= win_lose_tie_display(schedule.win_lose_tie) %></strong> <%=  schedule.for %> &mdash; <%= schedule.against %></td>
47:                 <td><%= schedule.opponent %></td>
48:                 <td><%= schedule.date.to_formatted_s(:event_date) %>
49:                 </td> 
```

任何帮助都会很棒

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T09:26:39.847

在您的方法中，与`win_lose_tie`交换。`schedule``self`

这是因为`win_lose_tie`它是一个调度对象的实例方法。您已经在 schedule 对象的上下文中，因此无需编写`schedule.`. 事实上，这将引用`*your_schedule_object*.schedule`，它不存在。

作为站点注释：由于您只读取值，因此您甚至可以完全省略`self`. 但是，如果您分配值，则`self`是必需的。

# jquery - 如何在鼠标移动时隐藏 div 并在停止时显示？

> ID：10976157
> 
> 赞同：3
> 
> 时间：2012-06-11T07:43:45.427
> 
> 标签：jquery, mouseevent

我有一个 div 框，每当我移动时，都会出现一个工具提示及其相应的坐标。我想要的是，如果我继续在 div 内移动，我的工具提示将不会显示，但如果我停止移动，我的工具提示就会出现。顺便说一句，我必须在 jquery 中使用 mouseover 事件，因为每当我移动鼠标时我都需要提取坐标。

请帮忙！也请给我举个例子。并且尽可能地我不想使用插件。

谢谢！

* * *

到目前为止我的进展：

```
<html>
<head>
    <style>
        #box {
            border: 1px solid black;
            width: 900px;
            height: 450px;
            margin: 0 auto;
            margin-top: 50px;
        }

        #tooltip{
            margin:8px;
            padding:8px;
            border:1px solid blue;
            background-color:yellow;
            position: absolute;
            z-index: 2;
            display: none;
        }
    </style>

    <script type="text/javascript" src='/libs/jquery/jquery.js'></script>
    <script>
        $(document).ready( function() {
            var offsetX = 20;
            var offsetY = 10;

            $('#box').mouseover(function(e) {
                var href = $(this).attr('href');
                $('<div id="tooltip"><input type="text" id="coor"/>    </div>').appendTo('body');
            });

            $('#box').mouseout(function(e) {
                $('#tooltip').remove();
            });

            $('#box').mouseenter( function() {
                // alert('entered');
            });

            var x = 0;

            $('#box').mousemove(function(e) {
                $('#tooltip').fadeOut('fast');

                var doIt = function() {
                    $('#tooltip').fadeIn(500);
                }

                setTimeout(doIt, 2500);

                $('#tooltip')
                    .css('top', e.pageY + offsetY)
                    .css('left', e.pageX + offsetX);
                $('#coor').val(e.pageX + '' + e.pageY);
            });
        });
    </script>
</head>

<body>
    <div id="box">

    </div>
    action: <input type="text" id="action" />
</body> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-11T07:51:59.873

jQuery 中没有 mousestop 事件。但是[这个](http://www.richardscarrott.co.uk/posts/view/jquery-mousestop-event#demo)jquery 插件具有您正在寻找的相同事件。
例如

```
$('#box').bind('mousestop', function() {
  // do stuff here 
}); 
```

解绑

```
 $('#box').unbind('mousestop'); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-11T08:00:42.700

我认为这就是你所追求的：

```
$('.box')[0].onmousemove = (function() {
    var onmousestop = function() {
       $('.box').css('background-color', 'red');
    }, thread;

    return function() {
       $('.box').css('background-color', 'black');
        clearTimeout(thread);
        thread = setTimeout(onmousestop, 1500);
    };
})(); 
```

延迟 1500 毫秒后，方框会变红，只要用户再次移动鼠标，方框就会变红，只需要替换您自己的操作即可。

jQuery：

```
var onmousestop = function (){
    $('.box').css('background-color', 'red');
}, thread;
$('.box').on('mouseenter',function (){
    onmousestop();
}).on('mousemove',function (){
    $('.box').css('background-color', 'black');
    thread&&clearTimeout(thread);
    thread = setTimeout(onmousestop, 3000);
}); 
```

[演示](http://jsfiddle.net/xSVcn/)

# web-services - 发布和发现 REST Web 服务

> ID：10976159
> 
> 赞同：1
> 
> 时间：2012-06-11T07:43:48.710
> 
> 标签：web-services, rest, soap, amazon-web-services, uddi

我是一名学生，并且是 Web 服务的新手。我有一个学术项目，我必须在其中进行动态服务组合，其中客户端（编码客户端，而不是人类客户端）将搜索 Web 服务，并在搜索到的 Web 服务中选择任何一个在运行时调用。我尝试使用基于 SOAP 的 Web 服务（JAX-WS）来实现它。但我在互联网上发现基于 SOAP 的服务并没有太多使用，所以我尝试在 REST 上实现。

现在我的问题是我应该在哪里发布 REST 服务。对于 SOAP(JAX-WS) 服务，有一个实体 UDDI，可以在其中发布和搜索服务。

请帮助我解决以下问题：

1.  我们能否在不使用 UDDI 的情况下发布和发现 REST Web 服务（因为 UDDI 很难实现）。

2.  如果除了 UDDI 之外别无他法，那我如何将 REST 服务发布到 UDDI。

3.  对于给定的场景，我是否通过选择 REST 作为实现模式做出了正确的选择，还是应该切换回 SOAP(JAX-WS)。

如果有任何帮助，我将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T10:32:41.457

鉴于您的需求，[apigee](http://www.apigee.com)会削减它吗？

（只是好奇）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-12T11:08:31.120

UDDI 似乎与 REST 服务兼容： http: [//apachejuddi.blogspot.fr/2014/01/uddi-as-registry-for-rest-services.html](http://It%20seems%20that%20now%20UDDI%20is%20complaitente%20to%20REST%20%20:http://apachejuddi.blogspot.fr/2014/01/uddi-as-registry-for-rest-services.html)

# ios - 如何将 UITableViewCell 分隔符更改为自定义分隔符？

> ID：10976163
> 
> 赞同：0
> 
> 时间：2012-06-11T07:43:57.423
> 
> 标签：ios, uitableview

![在此处输入图像描述](../Images/a377a7b35a1526f03a86a56a1480beed.png)

我从 AppStore 下载了这个应用程序，我认为它的 UITableViewCell 的分隔符看起来很棒。

我想将 mime 更改为此，但我不知道如何将分隔符更改为自定义分隔符。

这是刚刚添加到背景中的图像吗？所以请帮帮我。先感谢您！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:04:38.140

您可以通过将 a`UIImageView`应用于每个`UITableViewCell`.

并将分隔符设置为`UITableViewCellSeperatorStyleNone`：

```
tableView.separatorStyle = UITableViewCellSeparatorStyleNone; 
```

# c++ - C++ 错误：睡眠未在此范围内声明

> ID：10976176
> 
> 赞同：18
> 
> 时间：2012-06-11T07:45:08.950
> 
> 标签：c++, linux, ubuntu, gcc, boost

我在 Ubuntu 中使用带有 codeBlocks 的 C++，在 GCC 4.7 中提升 1.46 [yield_k.hpp]

我得到这个编译时错误：

```
error : Sleep was not declared in this scope 
```

代码：

```
#include <iostream>
using namespace std;
int main() { 
  cout << "nitrate";
  cout << flush;
  sleep(1000);
  cout << "firtilizers";
  return 0;
} 
```

如何解决此错误？我希望程序挂起 1 秒钟。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-06-11T08:46:10.833

`Sleep`是一个 Windows 函数。

对于 Unix，请考虑使用`nanosleep`(POSIX) 或`usleep`(BSD; deprecated)。

一个`nanosleep`例子：

```
void my_sleep(unsigned msec) {
    struct timespec req, rem;
    int err;
    req.tv_sec = msec / 1000;
    req.tv_nsec = (msec % 1000) * 1000000;
    while ((req.tv_sec != 0) || (req.tv_nsec != 0)) {
        if (nanosleep(&req, &rem) == 0)
            break;
        err = errno;
        // Interrupted; continue
        if (err == EINTR) {
            req.tv_sec = rem.tv_sec;
            req.tv_nsec = rem.tv_nsec;
        }
        // Unhandleable error (EFAULT (bad pointer), EINVAL (bad timeval in tv_nsec), or ENOSYS (function not supported))
        break;
    }
} 
```

您将需要`<time.h>`和`<errno.h>`，在 C++ 中作为`<ctime>`和`<cerrno>`.

`usleep`使用起来更简单（只需乘以 1000，因此将其设为内联函数）。但是，无法保证睡眠会在给定的时间内发生，它已被弃用，您需要`extern "C" { }`-include `<unistd.h>`。

第三种选择是使用`select`and `struct timeval`，如[http://source.winehq.org/git/wine.git/blob/HEAD:/dlls/ntdll/sync.c#l1204](http://source.winehq.org/git/wine.git/blob/HEAD:/dlls/ntdll/sync.c#l1204)所示（这是 wine 模拟的方式`Sleep`，它本身只是`SleepEx`) 的包装。

**注意**：（`sleep`小写's'），其声明在 中`<unistd.h>`，*不是*可接受的替代品，因为它的粒度是秒，比`Sleep`具有毫秒粒度的Windows'（大写's'）更粗。

关于您的第二个错误，`___XXXcall`是特定于 MSVC++ 的令牌（如`__dllXXX`、`__naked`、`__inline`等）。如果你*真的*需要 stdcall，使用`__attribute__((stdcall))`或类似的在 gcc 中模拟它。

**注意**：除非您的编译目标是 Windows 二进制文件*并且*您使用的是 Win32 API，否则使用或要求`stdcall`是 A Bad Sign™。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2014-02-24T03:07:38.710

## 如何在 linux 上的 C++ 程序中使用 usleep：

把它放在一个名为`s.cpp`

```
#include <iostream>
#include <unistd.h>
using namespace std;
int main() { 
  cout << "nitrate";
  cout << flush;
  usleep(1000000);
  cout << "firtilizers";
  return 0;
} 
```

编译并运行它：

```
el@defiant ~/foo4/40_usleep $ g++ -o s s.cpp
el@defiant ~/foo4/40_usleep $ ./s
nitratefirtilizers 
```

它打印“硝酸盐”，等待 1 秒，然后打印“过滤器”

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-09-02T08:11:30.847

```
#include <iostream>
#include <unistd.h>
using namespace std;
int main()
{
    const long a=1000000;
    long j;
    cin >> j;
    usleep(a*j);
    puts("exit");
} 
```

使用`usleep()`睡眠的 Insted 并且**不要忘记包含`unistd.h`**(Not `cunistd`)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-11-04T16:01:03.667

就我而言，它有助于编写**S** leep 和 NOT **s** leep - 很奇怪，但有效！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-10-27T10:56:03.310

采用`std::this_thread::sleep_for()`

```
#include <chrono>
#include <tread>

int main(int argc , char *argv[])
{       
    std::this_thread::sleep_for(std::chrono::seconds(2));
} 
```

# linq - EF / LINQ：在扩展方法中获取上下文，上下文应该是短暂的

> ID：10976184
> 
> 赞同：0
> 
> 时间：2012-06-11T07:45:44.653
> 
> 标签：linq, entity-framework, unity-container, dbcontext

我的扩展方法中的上下文和可用性存在问题。

基本上我正在使用 UNITY，目前每次我调用我的数据层时它都会为我提供一个新的 DBContext 实例（它被注入到构造函数中）。

我还放置了一些与数据层返回的 IQueryable 一起使用的扩展方法，因此我实际上可以执行以下操作。

```
var result = dataLayer.GetItems().WithId(3) 
```

withID 是一种扩展方法，我也有其他扩展方法，我需要对表进行连接，因为表/字段不在我的 IQueryable 中。

问题是我的 dbContext 每次都注册给我一个新实例，所以我收到“不同上下文......”形式的错误。

但是我应该配置 Unity，以便每次都为我提供相同的 dbcontext 实例，因为 dbcontext 应该是 SHORT LIVED。当然，如果我这样做了，我认为我的问题将得到解决，因为数据层和扩展方法将使用相同的 DBContext 对象。

我使用 EF 4.1 和 POCO 类，没有跟踪，我有一个模型。因此，在附加表上进行连接的唯一方法是访问我的 dbcontext？

有人对我的选择有什么建议吗？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T11:47:52.283

坦率地说，拥有依赖或影响数据上下文生命周期的扩展方法有点臭。扩展方法应该做相对简单的任务*，不依赖于外部状态，不产生副作用*。它们符合函数式编程范式。[Queryable](http://msdn.microsoft.com/en-us/library/system.linq.queryable.aspx)的扩展方法就是一个很好的例子。除了提供的参数之外，它们不需要任何东西，永远不会更改全局状态甚至参数对象并返回新值或对象。

如果你想以这种方式使用扩展方法，你应该通过参数传递数据上下文。

但我不会以这种方式使用扩展方法。我宁愿有一个数据层，它具有（服务）方法，可让您指定所需内容并返回`IEnumerable`s（注意：不是`IQueryable`s）并完全封装上下文。但这可能是您当前设计的重大偏离。至少我只会通过 Linq 语句从数据层扩展 IQueryables。如果您需要加入或包含，请让数据层根据您在我们的方法中询问的数据应用它们。

只是一个建议：D

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T08:06:39.567

如果您必须在生命周期之间架起桥梁，您可以围绕您的上下文创建一个包装器，以处理您的上下文的创建和拆卸。看看[Mark Seemann 的帖子](https://stackoverflow.com/questions/4648318/dependency-injection-new-instance-required-in-several-of-a-classes-methods/4650050#4650050)。

# android - 启动 Android 应用而不是系统的默认手机应用

> ID：10976187
> 
> 赞同：0
> 
> 时间：2012-06-11T07:46:02.787
> 
> 标签：android, android-intent, mobile, mobile-application, android-launcher

每当有新的呼出或呼入时，我制作了一个 Android 应用程序来显示一个有吸引力的 GUI。每当接收到广播信号（`NEW_OTUGOING_CALL`或`PHONE_STATE`）时，我的应用程序就会启动，与 Android 手机的默认手机应用程序相同。

有时我的应用程序出现在屏幕上，有时默认的手机应用程序出现在屏幕上。应该只启动我的应用程序来处理来电/去电，或者我的应用程序应该位于默认电话应用程序之上。

# java - VLCJ 音频可视化器输出

> ID：10976189
> 
> 赞同：1
> 
> 时间：2012-06-11T07:46:41.120
> 
> 标签：java, audio, vlcj

我正在使用 VLCJ 创建一个播放视频的程序。我想在我的视频画布后面的播放面板中显示音频可视化。我将此参数添加到`EmbeddedMediaPlayer`as `--audio-visual=visual`。运行程序后，音频可视化显示在主播放上下文（画布）上，视频播放器显示在新帧中。有什么方法可以控制两个画布中的音频可视化和视频输出，然后我可以将它们添加到我的 GUI 表单中。

# c# - 在 ListView 中居中对齐图像（紧凑型框架）

> ID：10976193
> 
> 赞同：1
> 
> 时间：2012-06-11T07:47:09.177
> 
> 标签：c#, windows-mobile, compact-framework, windows-mobile-6.5

我正在开发一个移动应用程序，其中主菜单由`ListView`. 我现在有以下作为我的屏幕：

![当前应用程序屏幕](../Images/ba877ca322824a2ed48371dc764ebc48.png)

我正在尝试以更好的方式对齐图标。我需要的是将图标对齐到中心（水平和垂直）！我正在寻找这样的东西：

![所需的应用程序屏幕](../Images/5241d91968b12e463c3f2ebada5a9e0c.png)

我找不到任何可以帮助我实现这一目标的属性或方法。知道如何在 Compact 框架上执行此操作吗？我正在使用 CF 3.5 和 C# 来构建应用程序。

任何想法或解决方案都非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:36:19.417

据我所知，ListView 无法做到这一点。

最快的方法可能是在表单上放置一堆 PictureBox，并实现 Click-event。一种更可重用的方法是创建自定义控件并构建您自己的版本。

还可以选择为第三方控件库付费。如果这是您的偏好，那么之前已在此处提出过该问题：[.net Compact Framework 的 3rd Party UI components？](https://stackoverflow.com/questions/35907/3rd-party-ui-components-for-net-compact-framework)

# android - 如何在xml中为imageview设置角度

> ID：10976194
> 
> 赞同：0
> 
> 时间：2012-06-11T07:47:13.737
> 
> 标签：android

我在一个 android 应用程序中工作，我想在 xml 本身中以特定角度设置我的图像视图。我怎样才能做到这一点 ？请帮我。提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-11T08:06:44.657

> 我在一个 android 应用程序中工作，我想在 xml 本身中以特定角度设置我的图像视图。

我不确定上述方法。但以编程方式是可能的。

**您可以使用矩阵来旋转图像。**

这是工作代码。

```
package org.sample;

import android.app.Activity;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.Matrix;
import android.os.Bundle;
import android.widget.ImageView;

public class SampleActivity extends Activity
{

    @Override
    protected void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        ImageView imageView = (ImageView) findViewById(R.id.image);
        Bitmap bm = BitmapFactory.decodeResource(getResources(),
                R.drawable.image);
        imageView.setImageBitmap(rotate(bm, 45.0f));

    }

    Bitmap rotate(Bitmap src, float degree)
    {
        // create new matrix
        Matrix matrix = new Matrix();
        // setup rotation degree
        matrix.postRotate(degree);
        // return new bitmap rotated using matrix
        return Bitmap.createBitmap(src, 0, 0, src.getWidth(), src.getHeight(),
                matrix, true);
    }
} 
```

下面是输出

![在此处输入图像描述](../Images/b5e3522099694521c9288fc0ebb00ec1.png)

如果您的目标是 3.0 或以上平台。那么生活就容易一些。您可以在 ImageView 中放置以下属性

```
 <ImageView
        android:id="@+id/image"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:rotation="45" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:05:24.853

在 Honeycomb 端较新的 SDK 上，您可以像这样在 XML 中执行此操作：

```
android:rotationX="10dp" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-13T14:58:19.570

有一个更简单的方法。它使用[RotateDrawable](https://developer.android.com/reference/android/graphics/drawable/RotateDrawable.html)。谷歌文档很差，但该功能使用起来非常实用。要完成您想要的，只需执行以下操作：

1 - 在 XML 可绘制文件中创建您的 Rotate drawable：

```
<rotate xmlns:android="http://schemas.android.com/apk/res/android"
    android:fromDegrees="120"
    android:interpolator="@android:anim/linear_interpolator"
    android:drawable="@drawable/myImageIwantToRotate"
    android:pivotX="50%"
    android:pivotY="50%"
    android:toDegrees="360"/> 
```

注意“fromDegrees”。这是您希望图像在加载时旋转的角度。如果您不想以编程方式设置动画或旋转，则无需担心“toDegrees”参数。

2 - 将其添加到您的活动布局中，就像添加常规图像一样，但选择您刚刚创建的 XML 文件（步骤 1）作为 src：

```
<ImageView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:src="@drawable/myDrawableXMLfileName"
    android:id="@+id/myRotatedImageID" /> 
```

**重要提示：**必须在*res/drawable*文件夹中创建 Rotate drawable XML 文件。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-11T07:54:21.637

我认为你需要使用相机翻译功能来做。

```
 Camera mCamera = new Camera();
 mCamera.translate(0.0f, 0.0f, -295.0f); 
```

我不确定，但我认为它对你有帮助。

谢谢

# iphone - iphone - UITableView 插入部分动画

> ID：10976202
> 
> 赞同：1
> 
> 时间：2012-06-11T07:47:46.560
> 
> 标签：iphone, ios, uitableview, animation

我首先制作了一个包含 5 个部分的 UITableView，每个部分 3 行。第一行是标题，第二行是图片，第三行是页脚，数据来自网络，包含每个单元的标题、图片、页脚。因为数据量大，所以我通过向上拖动UITableView的底部来进行分页，通过向下拖动UITableView的顶部来进行上一页。它就像 9GAG 阅读器一样工作。我也想在换页时为 9GAG Reader 制作相同的动画，动画是-

.当下一页准备好时，它会滚动到我做的下一页，工作正常。.下一页完成后，上一页将被删除。

对于每一页，有 5 个部分，所以我是这样做的 - 我先在页面添加 5 个部分，如果转到下一页，将添加 5 个部分，然后滚动到第 5 个部分，所以滚动动画正在工作好。

但是对于下一部分，我删除了0-4个部分后，其余部分的位置发生了变化，这是一个问题。我想固定下一页的位置，我该怎么做？

```
// here expend to 2 page, 10 sections, and then scroll to the next page
self.totalSections = TOTAL_SECTIONS * 2;       
[self.mainContent reloadData];
[self.mainContent scrollToRowAtIndexPath:[NSIndexPath indexPathForRow:0 inSection:TOTAL_SECTIONS] atScrollPosition:UITableViewScrollPositionTop animated:YES];

// here delete the 0-5 sections, the previous page, but postion is changed..
NSIndexSet *deletes = [NSIndexSet indexSetWithIndexesInRange:NSMakeRange(0, 5)];
self.totalSections = TOTAL_SECTIONS;
[self.mainContent deleteSections:deletes withRowAnimation:UITableViewRowAnimationNone]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T12:46:46.017

我是 9Gag Reader 的两位开发者之一，我不是做这部分的人，但我知道它是如何工作的。我认为你这样做的方式有点太复杂了。为了创建您正在搜索重新创建的效果，我们截取 tableview 的屏幕截图并使用它来执行允许我们不添加/删除可能导致崩溃的行的效果，我们只是重新加载内容。

我希望它会有所帮助，它不适用于 9Gag Reader 克隆：p！告诉我们您的应用何时上线（查看 iTunes 页面上的联系地址）；）

问候，

亚瑟@Appinest

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-06-11T12:21:49.570

我解决了这个问题，看起来这个序列真的很酷 -

```
self.totalSections = TOTAL_SECTIONS * 2;       
[self.mainContent reloadData];

[self prepareCellCacheTitle:0];

NSIndexSet *deletes = [NSIndexSet indexSetWithIndexesInRange:NSMakeRange(0, 5)];

self.totalSections = TOTAL_SECTIONS;

[self.mainContent deleteSections:deletes withRowAnimation:UITableViewRowAnimationNone];

[self.mainContent reloadData];

[self.mainContent scrollToRowAtIndexPath:[NSIndexPath indexPathForRow:0 inSection:0] atScrollPosition:UITableViewScrollPositionTop animated:YES]; 
```

# javascript - _doPostBack('','') 中的 JavaScript 对象预期错误

> ID：10976203
> 
> 赞同：0
> 
> 时间：2012-06-11T07:47:47.160
> 
> 标签：javascript, asp.net, vb.net

当我单击按钮时，我的页面脚本中不断出现“ **Object Expected ”错误。**我已经使用 fire-bug 进行了调试，传递给 JavaScript 方法的 id 是正确的 id 并`document.getElementById(a)`找到了按钮。错误不断发生在`_doPostBack`. 这可能是因为按钮位于 gridview 单元格中的模式弹出窗口内，而 gridview 位于更新面板内。

有关完整代码，请参阅我发布并解决的这个[未触发的先前问题事件。](https://stackoverflow.com/questions/10969690/button-click-event-on-modal-popup-inside-a-grid-view-not-firing)

我仍在使用 JavaScript 的原因是没有这个，GridView.RowCommand 中的 Post-Back 事件就不会发生。

有没有替代方案？

编码：

```
function addAcc(a) {
        var btn = document.getElementById(a); //get the button, not necessary but safer
        alert(a); //To see the button id
        _doPostBack(btn.id, ''); //do the postback so RowCommand Fires in code behind
    }; 
```

`<asp:Button ID="btnAddAcc" runat="server" Text="Add Account"` `OnClientClick="javascript:addAcc(this.id)" />`

感谢您提供任何解决方案和想法。问候

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T08:00:08.587

dopostback 方法是两个下划线不是一个，比如

```
__doPostBack 
```

所以你的电话就像：

```
__doPostBack(btn.id, ''); 
```

代替

```
_doPostBack(btn.id, ''); 
```

# sql-server-2008 - 如何杀死/终止 Sql Server 2008 上所有正在运行的进程

> ID：10976204
> 
> 赞同：10
> 
> 时间：2012-06-11T07:48:17.627
> 
> 标签：sql-server-2008, database-deadlocks

在主数据库上执行此查询后，它给了我所有数据库上所有正在运行的进程，是否有任何查询会杀死数据库上运行的所有进程。

```
USE
Master
GO

SELECT
SPID,DBID FROM SYSPROCESSES
WHERE
DBID NOT IN (1,2,3,4) AND SPID >50 AND SPID<> @@spid 
```

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-06-11T08:02:00.260

如果你想强制所有其他连接断开，并且你有合适的权限，你可以将数据库弹入和退出[单用户模式](http://msdn.microsoft.com/en-us/library/bb522682.aspx)：

```
alter database current set single_user with rollback immediate;
go
alter database current set multi_user;
go 
```

到同一数据库的任何其他连接都将被终止。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-08-03T18:34:51.877

请参阅下面的 SQL 脚本以终止给定数据库的所有进程 (SQL Server 2014)

```
Declare @DbName nvarchar(60)='YourDBName'  
Declare @SPID int  

--get all processes  
DECLARE @Table TABLE(  
    SPID INT,  
    Status VARCHAR(MAX),  
    LOGIN VARCHAR(MAX),  
    HostName VARCHAR(MAX),  
    BlkBy VARCHAR(MAX),  
    DBName VARCHAR(MAX),  
    Command VARCHAR(MAX),  
    CPUTime INT,  
    DiskIO INT,  
    LastBatch VARCHAR(MAX),  
    ProgramName VARCHAR(MAX),  
    SPID_1 INT,  
    REQUESTID INT  
)  

INSERT INTO @Table EXEC sp_who2  
--using cursor to kill all processes  
Declare cur_KillAllProcesses CURSOR FAST_FORWARD FOR  
Select   
SPID  
From @Table  
WHERE DBName=@DbName  
OPEN cur_KillAllProcesses  

FETCH NEXT FROM cur_KillAllProcesses INTO   
@SPID  

WHILE @@FETCH_STATUS=0  
BEGIN  

--add kill process command  

Exec('KILL '+ @SPID)  

FETCH NEXT FROM cur_KillAllProcesses INTO @SPID  

END  

CLOSE cur_KillAllProcesses  
DEALLOCATE cur_KillAllProcesses 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-11T07:52:47.050

您可以`KILL`在上述查询结果上使用结合游标的语句。

请参见[Kill (Transact-SQL)](http://msdn.microsoft.com/en-us/library/ms173730.aspx)

# c# - 这里的异步部分在哪里？

> ID：10976206
> 
> 赞同：1
> 
> 时间：2012-06-11T07:48:38.017
> 
> 标签：c#, asp.net, .net, multithreading, asynchronous

我看到[这篇文章](http://www.codeproject.com/Articles/42734/Using-IHttpAsyncHandler-and-XMLHttpRequest-to-push)描述了实现`IHttpAsyncHandler`.

看这部分：

```
public class MyAsyncHandler : IHttpAsyncHandler
{
    /// 
    /// The queue holds a list of asynchronous results
    /// with information about registered sessions
    /// 
    public static List<myasyncresult> Queue;

    static MyAsyncHandler()
    {
        // Initialize the queue
        Queue = new List<myasyncresult>();
    }

    public IAsyncResult BeginProcessRequest(HttpContext context, 
                        AsyncCallback cb, object extraData)
    {
        // Fetch the session id from the request
        var sessionId   = context.Request["sessionId"];

        // Check if the session is already registered
        if (Queue.Find(q => q.SessionId == sessionId) != null)
        {
            var index = Queue.IndexOf(Queue.Find(q => q.SessionId == sessionId));

            // The session has already been registered,
            // just refresh the HttpContext and the AsyncCallback
            Queue[index].Context  = context;
            Queue[index].Callback = cb;

            return Queue[index];
        }

        // Create a new AsyncResult that holds the information about the session
        var asyncResult = new MyAsyncResult(context, cb, sessionId);

        // This session has not been registered yet, add it to the queue
        Queue.Add(asyncResult);

        return asyncResult;
    }

    public void EndProcessRequest(IAsyncResult result)
    {
        var rslt  = (MyAsyncResult) result;

        // send the message to the recipient using
        // the recipients HttpContext.Response object
        rslt.Context.Response.Write(rslt.Message);

        // reset the message object
        rslt.Message = string.Empty;
    }

} 
```

这里的*异步*部分在哪里？我在这里看不到任何*BeginXXX*方法。

`Thread.CurrentThread.IsThreadPoolThread`我还在第一行进行了 检查`BeginProcessRequest`，它向我展示了`TRUE`.

那么这个例子中的异步部分在哪里呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T07:58:18.620

当这个处理程序收到一个请求时，它会调用`BeginProcessRequest`. 它不会阻塞调用线程。

处理完成后，它将调用`EndProcessRequest`.

这将使您的 asp.net 工作进程线程在处理时可以自由地为其他请求提供服务。调用时`EndProcessRequest`，您可以将处理后的结果发送回客户端。

这里有很多关于[asp.net 如何在异步请求](http://msdn.microsoft.com/en-us/magazine/gg598924.aspx)生命周期中管理线程的解释。

> 在异步页面的生命周期中，上下文仅从 ASP.NET 线程池中的一个线程开始。异步请求启动后，上下文不包含任何线程。当异步请求完成时，执行其完成例程的线程池线程进入上下文。这些可能是发起请求的相同线程，但更有可能是在操作完成时碰巧空闲的任何线程。
> 
> 如果同一应用程序一次完成多个操作，AspNetSynchronizationContext 将确保它们一次执行一个。它们可以在任何线程上执行，但该线程将具有原始页面的身份和文化。

关于何时使用异步的一些推理：

> 只有在处理请求时您有其他可用的异步步骤（例如离线数据库调用或您也可以调用异步的长硬盘驱动器读取）时，拥有异步处理程序才有用。要正确执行此操作，您将链接异步方法（即 BeginProcessRequest 将使用相同（或单独）回调调用 FileStream.BeginRead 并进行相应处理。）请参阅此处：http: [//msdn.microsoft.com/en-us/library/system.web.ihttpasynchandler.aspx](http://msdn.microsoft.com/en-us/library/system.web.ihttpasynchandler.aspx)

看看这个关于[如何使用异步处理程序的非常详细的解释](http://msdn.microsoft.com/en-us/magazine/cc164128.aspx#S4)

> 要构建一个真正有效的异步处理程序，您必须手动生成一个额外的线程来响应 BeginProcessRequest。构建成功的异步处理程序有三个重要方面。首先，构造一个支持 IAsyncResult 从 BeginProcessRequest 返回的类。然后，生成线程以异步执行您的请求处理。最后，通知 ASP.NET 您已完成对请求的处理并准备好返回响应。

总结一下：如果你没有创建一个处理线程，或者等待很长时间，异步处理程序不会有什么好处。等待时，请求没有与之关联的线程。这使得 asp.net 可以很好地扩展，即使是等待很长时间的任务。

# xml - 即席 XML 查询的现代语言？

> ID：10976208
> 
> 赞同：3
> 
> 时间：2012-06-11T07:48:42.390
> 
> 标签：xml

我最近必须对 XML 文档进行一些数据挖掘。大部分都是临时的，也就是说，我事先没有文档的模式，我只运行了几次查询。一些示例查询是“有多少元素的子元素值大于 0”或“对于某种元素，它们的某些子元素的值的总和是多少”。

在 Java 中运行这样的查询很尴尬，因为 (a) Java DOM 处理确实很麻烦，并且 (b) 我只需要运行这些查询几次，而不是作为应用程序的一部分。

对于这种情况，推荐和当前支持的查询语言和工具是什么？最好是交互式的、免费的/开源的，并且不需要提前将文档存储在数据库中（尽管这是一个选项）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T13:41:53.377

您需要 XQuery。它旨在轻松查询 XML，可以从[XQuery 主页](http://www.w3.org/XML/Query/)上的引用中读取：

> XQuery 正在用几行代码替换复杂的 Java 或 C++ [XML 处理] 程序。

我使用开源程序[BaseX](http://basex.org/)轻松查询（大量）XML 文件。它还具有很好的 XML 结构交互式可视化功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T10:41:58.933

听起来像是对 XQuery 的描述。

示例查询

```
count(//element[sub-element gt 0])

//some-element/sum(sub-element) 
```

实际上，这两者都是 XPath 2.0，它是 XQuery 1.0 的子集，但您可能迟早会想要 XQuery 1.0，它比 XPath 2.0 实现得更广泛，所以去吧。有大量的 XQuery 处理器可以在 Java 环境中工作，无论有无 XML 数据库。我自己的撒克逊产品就是一个例子。

# javascript - Ajax.BeginForm 强制完全回发

> ID：10976209
> 
> 赞同：2
> 
> 时间：2012-06-11T07:48:52.357
> 
> 标签：javascript, asp.net-mvc, ajax.beginform

如何强制 Ajax.BeginForm (MVC3, unobtrusive) 进行完整的回发？

在 MVC2 中，我刚刚清除了“onclick”和“onsubmit”处理程序。如何在 MVC3 中执行此操作？

```
//does not work in MVC 3 with unobtrusive ajax :((
$('#myForm').unbind('click');
$('#myForm').unbind('submit'); 
```

PS。如果你有兴趣，我需要这个来上传文件。如果没有文件被上传 - ajax 很好。如果正在上传文件 - 让它进行完整的回发。

**更新：**

在查看“jquery.unobtrusive-ajax.js”源代码后，我看到了这个：

```
$("form[data-ajax=true]").live("submit", blahblah); 
```

所以我想出了这个并且它有效：

```
$("form[data-ajax=true]").die("submit"); 
```

但这似乎有点“hacky”，任何“合法”的方式来清除表单中的所有 onsubmit 事件？我想现在更新的问题是：**如何使用使用不同选择器的“die”语句清除“live”事件处理程序？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T09:46:35.977

如果您可以修改不显眼的库。您可以在提交事件处理程序中检查表单是否包含任何文件，如果是，则通过 AJAX 执行完整的 POST。

```
$("form[data-ajax=true]").live("submit", function (evt) {
    var clickInfo = $(this).data(data_click) || [];
    evt.preventDefault();
    if (!validate(this)) {
      return;
    }

    if ($("input[type=file]", this).val()) {
      this.submit();
    }
    else {
      asyncRequest(this, {
        url: this.action,
        type: this.method || "GET",
        data: clickInfo.concat($(this).serializeArray())
      });
    }
  }); 
```

# objective-c - 分析器关于不正确递减的警告

> ID：10976210
> 
> 赞同：3
> 
> 时间：2012-06-11T07:48:55.643
> 
> 标签：objective-c, core-graphics, clang-static-analyzer

我收到有关某些 CGImageRef 对象的静态分析器警告。警告是“调用者此时不拥有的对象的引用计数不正确递减”。但是，我希望它归调用者所有。我需要在我的 Obj-C 方法中插入一些特殊的措辞吗？当我让一个 C 函数逐行逐行执行完全相同的事情时，警告就会消失。我将它们分开的原因是因为有时我的应用程序使用 CGImage（用于编辑），有时它使用 UIImage（用于设置 UIImageView）。

以下是相关代码（精简至相关要素）：

```
+ (UIImage *)imageFromCompressedData:(NSData *)compressedData withSize:(CGSize)size
{    
    CGImageRef cgImage = [SO2CompressionHandler cgImageFromCompressedData:compressedData withSize:size];
    UIImage *returnImage = [UIImage imageWithCGImage:cgImage];
    CGImageRelease(cgImage);

    return returnImage;
}

+ (CGImageRef)cgImageFromCompressedData:(NSData *)compressedData withSize:(CGSize)size
{
    //...decompress data

    CGDataProviderRef provider = CGDataProviderCreateWithCFData((__bridge CFDataRef)decodedData);
    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();
    CGImageRef outImageRef = CGImageCreate(width, height, 8, 32, 4*width, colorSpace, kCGImageAlphaPremultipliedLast, provider, NULL, false, kCGRenderingIntentDefault);
    CGDataProviderRelease(provider);

    if(CGSizeEqualToSize(CGSizeZero, size) || CGSizeEqualToSize(CGSizeMake(width, height), size))
    {
        CGColorSpaceRelease(colorSpace);
        return outImageRef; //Flagged as potential leak
    }

    //...or resize and return the in a similar way
} 
```

在我返回之前释放 CGImage 没有意义吗？那么它只是无效的记忆。那么这是暗示我应该使用 C 函数吗？还是静态分析器根本不检查 C 函数。我`cgImageFromCompressedData:withSize:`变成`CGImageCreateWithCompressedData(NSData *compressedData, CGSize size)`并喜欢魔法，没有更多的警告。我应该忽略这些警告，还是它们有一些优点？我是否必须在我的 Obj-C 方法名称中添加单词“new”或“alloc”才能使它们消失？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-11T07:51:27.393

如果您的方法返回 +1 对象，则其名称应以“new”开头，例如`newCGImageFromCompressedData:withSize:`. 这将告诉分析器您故意返回一个保留的对象并将所有权传递给调用者。

或者，您可以`CF_RETURNS_RETAINED`通过将其放在您的方法声明中（即在您的 .h 文件中）来使用 clang 属性：

```
+(CGImageRef)cgImageFromCompressedData:(NSData *)compressedData
                              withSize:(CGSize)size CF_RETURNS_RETAINED; 
```

这也告诉分析器该方法应该返回一个保留对象，但不必更改方法选择器。

# java - ArrayList 作为全局变量

> ID：10976212
> 
> 赞同：3
> 
> 时间：2012-06-11T07:48:59.920
> 
> 标签：java, android

我创建了像这样扩展应用程序的类

```
package com.appnetics;

import java.util.ArrayList;

import android.app.Application;

public class GlobalVariables extends Application {

    public ArrayList<Encounter> encounters;

} 
```

并像这样在清单中设置它

```
<application
android:name="GlobalVariables"
android:icon="@drawable/ic_launcher"
android:label="@string/app_name" > 
```

在一个活动中，我使用此代码填充此数组

```
GlobalVariables appState = new GlobalVariables();
appState.encounters =new ArrayList<Encounter>(); 
................
then add 
```

当尝试使用它时它会因空异常而崩溃，我在另一个活动或类似的类中使用它

```
 GlobalVariables appState = new GlobalVariables();

    Encounter EncounterObject = appState.encounters.get(position); 
```

请问有什么遗漏吗，怎么解决

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-11T07:51:11.977

它是类的*实例*变量`GlobalVariables`，因此每次创建 的新*实例*时`GlobalVariables`，都会得到一个单独的变量。

如果你*真的*想要一个全局变量，它应该是一个*静态*变量——但即使这样也只有在同一进程中的活动之间共享数据时才有效。您应该阅读[Android 应用程序框架常见问题解答](http://developer.android.com/resources/faq/framework.html)以获取更多信息。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-11T07:58:27.640

我会在这里使用单例模式。[维基百科链接](http://en.wikipedia.org/wiki/Singleton_pattern)

```
public class GlobalVariables {
  public ArrayList<Encounter> encounters;

  private GlobalVariables() {
    encounters = new ArrayList<Encounter>();
  }

  private static GlobalVariables instance;

  public static GlobalVariables getInstance() {
    if (instance == null) instance = new GlobalVariables();
    return instance;
  }
} 
```

然后您可以使用以下方式访问您的数据：

```
GlobalVariables.getInstance().encounters.get(position); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-11T08:04:18.087

您可以制作提供一个对象实例的单例 ([http://en.wikipedia.org/wiki/Singleton_pattern]) 类。并在此类中创建可验证的 ArrayList。你可以在你想要的地方访问这个数组列表。例如单例类：

```
public class Singleton {

private ArrayList<Object> arrayList;

private static Singleton instance;

private Singleton(){
    arrayList = new ArrayList<Object>();
}

public static Singleton getInstance(){
    if (instance == null){
        instance = new Singleton();
    }
    return instance;
}

public ArrayList<Object> getArrayList() {
    return arrayList;
}
} 
```

并在活动中使用：

```
public class MyActivity extends Activity {
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    Singleton.getInstance().getArrayList();
}
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-11T08:12:04.703

您正在通过每次调用构造函数来创建一个新的应用程序对象，而不是您应该通过方法 getApplication() 获取应用程序引用。因此，您应该将代码编辑为：

```
GlobalVariables appState = (GlobalVariables) getApplication();
appState.encounters =new ArrayList<Encounter>(); 
................
then add 
```

和

```
GlobalVariables appState = (GlobalVariables) getApplication();

Encounter EncounterObject = appState.encounters.get(position); 
```

# redirect - 分页上的 Nginx 重定向

> ID：10976215
> 
> 赞同：0
> 
> 时间：2012-06-11T07:49:07.250
> 
> 标签：redirect, nginx

我正在尝试使用 Nginx 重定向`/t/latest/2`到`/topics/latest/page/2`

```
rewrite ^/t/latest$      /topics/latest permanent;
rewrite ^/t/latest/(.*)$      /topics/latest/page/$1 permanent; 
```

这很好用，但我想知道是否有更聪明的方法可以在一个规则中做到这一点？这是因为有很多这样的重定向，如果我能减少冗余就好了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-12T13:24:54.167

我认为没有办法在一条规则中实现这一点。如果这样的事情是可能的，我希望看起来比你在这里的两条简单的线更扭曲。

但是，我使用的另一种方法可能会使您的项目受益。我的 nginx 配置是从模板生成的。每次服务器启动或重新启动时，“init”脚本都会运行一个 Perl 脚本，该脚本会从配置文件中填充模板。Nginx 然后“包含”这个文件。这正在生产中使用并且运行良好。

该解决方案为您提供了另一种减少配置 nginx 所需时间的选项，同时仍为您提供可读的`rewrite`指令。

# android - android：应用程序不支持设备-为什么？

> ID：10976216
> 
> 赞同：9
> 
> 时间：2012-06-11T07:49:15.770
> 
> 标签：android, android-manifest

我目前正在开发一个相机应用程序。现在其中一位用户抱怨他的设备不受支持。这是[宏碁 A200](http://www.specsbox.com/819/acer-iconia-a200-tablet.html)：

我看不出有任何理由为什么 android market / google play 将该应用程序标记为该设备**不支持**。你知道可能是什么原因吗？

这是清单：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="net.ttttrash.myapp"
    android:versionCode="32"
    android:versionName="3.2" >

    <application
        android:icon="@drawable/icon"
        android:label="@string/app_name"
        android:hardwareAccelerated="true">
        <activity
            android:name=".CameraActivity"
            android:configChanges="keyboard|orientation|keyboardHidden"
            android:label="@string/app_name"
            android:windowSoftInputMode="adjustPan" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.media.action.IMAGE_CAPTURE" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>
        <activity
            android:name="net.ttttrash.myapp.PreferenceActivity"
            android:label="@string/set_preferences" >
        </activity>
        <activity 
            android:name="com.google.ads.AdActivity"
            android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize">
        </activity>

    </application>

    <uses-sdk
        android:minSdkVersion="7"
        android:targetSdkVersion="8" />

    <uses-permission android:name="android.permission.CAMERA" />
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />

    <uses-feature android:name="android.hardware.camera.autofocus" android:required="false" />

</manifest> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-08T08:32:46.257

感谢 Entreco，我找到了答案。刚刚在我的应用设置中查找了支持的设备。然后，通过比较不支持的平板电脑（Acer Iconia A200）和支持的设备（A510平板电脑）的功能规格，我找到了答案：A200没有后置摄像头。那么什么是定义。清单中缺少以下条目：

```
<uses-feature android:name="android.hardware.camera.front" android:required="false" /> 
```

![在此处输入图像描述](../Images/7321800a859e3667ecffacf0fbc1af43.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-11T08:12:16.237

好的，这是一个很长的镜头，但它可能是由于某种原因在该特定设备上禁用了相机吗？

似乎以下权限：

```
<uses-permission android:name="android.permission.CAMERA" /> 
```

暗示您的应用正在使用`android.hardware.camera`和`android.hardware.camera.autofocus`功能。但是，您仅将其定义`android.hardware.camera.autofocus`为非强制性。所以尝试添加：

```
<uses-feature android:name="android.hardware.camera" android:required="false" /> 
```

有关 google play 应用程序[过滤的详细信息](http://developer.android.com/guide/topics/manifest/uses-feature-element.html#market-feature-filtering)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-11T08:16:51.913

将此添加到您的清单中：

```
<supports-screens android:smallScreens="true"
              android:normalScreens="true"
              android:largeScreens="true"
              android:xlargeScreens="true" /> 
```

我假设忽略对平板电脑 (xlargeScreens) 的明确支持会导致 Google Play 认为它不受支持。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-06T20:06:19.807

我曾经遇到过同样的问题，结果发现用户安装了**自定义 rom**。这个自定义 rom 在相机中有一个错误（例如，相机不受支持，这对于 rom 来说很常见），这导致应用程序不兼容......

此外，如果 Acer A200 在受支持的设备中，请仔细检查您的 google play 开发者帐户。`Device Catalogue`例如，在开发者控制台中，检查`Release Management`！在那里，您可以搜索您的设备，并查看该设备是否受支持。![在此处输入图像描述](../Images/446b30543f88e7130a5438dc60ff8ed5.png)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-02-04T10:59:30.467

我得到了“150 台设备的支持”，并通过将 minSdkVersion 从 28 降低到 24 来改变这一点。

# javascript - 如何使 jquery 嵌套选项卡链接工作？

> ID：10976219
> 
> 赞同：2
> 
> 时间：2012-06-11T07:49:24.397
> 
> 标签：javascript, jquery, hyperlink, tabs, nested

我在使用 Jquery 选项卡 UI 时遇到问题。

```
<script type="text/javascript">
$(document).ready(function() {
    $('.tabs').tabs();
    $('.subtabs').tabs();
});

<div class="tabs">
   <ul>
       <li><a href="#tab1">Tab1</a></li>
       <li><a href="#tab2">Tab2</a></li>
   </ul>
       <div id="tab1">
            <div class="subtabs">
                <ul>
                    <li><a href="#subtab1">Subtab1</a></li>
                    <li><a href="#subtab2">Subtab2</a></li>
                </ul>
            <div id="subtab1">
                 Some content1
            </div>
            <div id="subtab2">
                 Some content2
            </div>
            </div>

        </div>
       <div id="tab2"></div>
</div> 
```

现在，当我尝试访问 page.html#subtab1 之类的子选项卡时，它不起作用，但 page.html#tab1 有效。我究竟做错了什么？基本上我需要使用 URL 打开子选项卡。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-01-14T15:08:35.833

我有同样的问题。我找到了一个 JS 修复它。请注意，在您的示例中，您在第一个选项卡中有子选项卡，第一个选项卡是打开的默认选项卡。通过我的修复，您可以将子选项卡放在主选项卡的任何内容中。检查 Plunker 以获取工作示例。

[http://run.plnkr.co/plunks/Wr91Bm/#subtab2](http://run.plnkr.co/plunks/Wr91Bm/#subtab2)

我创建了函数`openParentTab()`并在创建后立即调用了它`$('.tabs, .subtabs').tabs();`

```
function openParentTab() {
    locationHash = location.hash.substring( 1 );
    console.log(locationHash);
    // Check if we have an location Hash
    if (locationHash) {
        // Check if the location hash exsist.
        var hash = jQuery('#'+locationHash);
        if (hash.length) {
            // Check of the location Hash is inside a tab.
            if (hash.closest(".tabContent").length) {
                // Grab the index number of the parent tab so we can activate it
                var tabNumber = hash.closest(".tabContent").index();
                jQuery(".tabs.fix").tabs({ active: tabNumber });
            }
        }
    }
} 
```

如果您有一个大页面并且您发现焦点不在正确的子选项卡上，您可以在下面添加以下内容`jQuery(".tabs.fix").tabs({ active: tabNumber });`

```
hash.get(0).scrollIntoView();
setTimeout(function() {
    hash.get(0).scrollIntoView();
}, 1000); 
```

见代码： http: [//plnkr.co/Wr91Bm](http://plnkr.co/Wr91Bm)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:19:57.920

您缺少`<div id="tab2"></div>`这将给出一个 jQuery 异常。尝试将其添加到代码中，您的链接将起作用。

# sql - 如何在连接语句中从左表中获取所有行？

> ID：10976226
> 
> 赞同：2
> 
> 时间：2012-06-11T07:50:34.007
> 
> 标签：sql, sql-server-2005, join, left-join

我有两张桌子。一个是`Employee_Mstr`，另一个是`EmployeeLeaveRequest_mstr`。

我的数据：

![我的数据](../Images/4575a55668a230969bcb8e1f725505ee.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T07:54:30.340

使用`GROUP BY`.

```
select t1.emp_cd, t1.emp_name, sum(t2.num_dy) from 
  Employee_Mstr t1 left join 
  EmployeeLeaveRequest_mstr t2 on t1.emp_cd = t2.emp_cd group by t1.emp_cd, t2.emp_name; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T07:54:08.687

```
SELECT tab1.emp_cd, tab1.emp_name, SUM(tab2.num_dy)
FROM Employee_Mstr tab1, "2nd Table Records" tab2
where tab1.emp_cd = tab2.emp_cd
group by tab1.emp_cd, tab1.emp_name; 
```

应该可以，只需为第二个表设置正确的表名。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-11T08:03:17.530

```
select mstr.Emp_cd, mstr.Emp_Name, isnull(sum(det.num_dy), 0) as num_day
from dbo.Employee_Mstr mstr
left join dbo.Employee_Nums det on (mstr.Emp_cd = det.Emp_cd)
group by mstr.Emp_cd, mstr.Emp_Name; 
```

应该做的工作。

这是SQL执行的结果：

```
Emp_cd      Emp_Name
----------- --------------------------------------------------
1           A
2           B
3           C

(3 row(s) affected)

Emp_cd      num_dy
----------- -----------
3           4
3           2

(2 row(s) affected)

Emp_cd      Emp_Name                                           num_day
----------- -------------------------------------------------- -----------
1           A                                                  0
2           B                                                  0
3           C                                                  6
Warning: Null value is eliminated by an aggregate or other SET operation.

(3 row(s) affected) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-11T07:53:57.280

制作`pk emp_cd`主键，然后使用`left join`. 然后您可以使用`sumof`添加值，`groupby`在添加值之前使用。

如果您愿意，只需查看 w3school.com。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-12T03:21:04.187

尝试这个：

```
select t1.cd, t1.name, sum(t2.num_dy) from employee_Mstr t1 
left join EmployeeLeaveRequest_mstr t2 on t1.cd = t2.cd group by t1.cd, t1.name; 
```

# jquery - 在 Jquery 中读取 Json 数据

> ID：10976235
> 
> 赞同：0
> 
> 时间：2012-06-11T07:51:36.723
> 
> 标签：jquery

我有从服务返回的这个 Json 数据。

这是我完整的 json 数据

```
 d: "[{"ImagePath":null,"ThemeTemplateId":1,"BorderWidth":null,"BorderStyle":null,"OptionTextUnderline":null,"OptionTextItalic":null,"OptionTextBold":null,"OptionTextSize":null,"OptionTextFont":null,"QuestionTextUnderline":null,"QuestionTextItalic":null,"QuestionTextBold":null,"QuestionTextSize":null,"QuestionTextFont":null,"SurveyTitleUnderline":null,"SurveyTitleItalic":null,"SurveyTitleBold":null,"SurveyTitleSize":null,"SurveyTitleFont":null,"BorderColor":null,"SurveyTitleColor":null,"OptionTextColor":null,"ThemeName":null,"BackgroundColor":null,"QuestionTextColor":null},{"ImagePath":null,"ThemeTemplateId":2,"BorderWidth":null,"BorderStyle":null,"OptionTextUnderline":null,"OptionTextItalic":null,"OptionTextBold":null,"OptionTextSize":null,"OptionTextFont":null,"QuestionTextUnderline":null,"QuestionTextItalic":null,"QuestionTextBold":null,"QuestionTextSize":null,"QuestionTextFont":null,"SurveyTitleUnderline":null,"SurveyTitleItalic":null,"SurveyTitleBold":null,"SurveyTitleSize":null,"SurveyTitleFont":null,"BorderColor":null,"SurveyTitleColor":null,"OptionTextColor":null,"ThemeName":null,"BackgroundColor":null,"QuestionTextColor":null}]" 
```

///ajax函数

```
 jQuery.ajax({
        type: "POST",
        url: "3.aspx/GetThemeList",
        data: "{'clientid':'" + -1 + "'}",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (returndata) {
            console.log(returndata);
            jQuery.each(returndata, function (index, theme) {
                alert(theme.ImagePath);
                alert(theme.ThemeTemplateId);
            });
        }
    }); 
```

但它对我不起作用是否有任何其他方法可以通过 jquery 读取这些数据。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T07:54:16.970

我认为它的工作[http://jsfiddle.net/SrsxA/2/](http://jsfiddle.net/SrsxA/2/) ...

但是在您的帖子中，您错过了`,`第二个 JSON 对象的逗号（）

```
 [{"ImagePath":null,"ThemeTemplateId":1},{"ImagePath":null, "ThemeTemplateId":2}]

                                                           ^-- need comma here 
```

### 根据编辑

```
d: "[{"Ima..

   ^--- you don't need `"` here and at last, don't need to wrap with `""`. 
```

**完整的工作代码：**

```
var themelist = {
    d: [{
        "ImagePath": 'a',
        "ThemeTemplateId": 1,
        "BorderWidth": null,
        "BorderStyle": null,
        "OptionTextUnderline": null,
        "OptionTextItalic": null,
        "OptionTextBold": null,
        "OptionTextSize": null,
        "OptionTextFont": null,
        "QuestionTextUnderline": null,
        "QuestionTextItalic": null,
        "QuestionTextBold": null,
        "QuestionTextSize": null,
        "QuestionTextFont": null,
        "SurveyTitleUnderline": null,
        "SurveyTitleItalic": null,
        "SurveyTitleBold": null,
        "SurveyTitleSize": null,
        "SurveyTitleFont": null,
        "BorderColor": null,
        "SurveyTitleColor": null,
        "OptionTextColor": null,
        "ThemeName": null,
        "BackgroundColor": null,
        "QuestionTextColor": null},
    {
        "ImagePath": 'b',
        "ThemeTemplateId": 2,
        "BorderWidth": null,
        "BorderStyle": null,
        "OptionTextUnderline": null,
        "OptionTextItalic": null,
        "OptionTextBold": null,
        "OptionTextSize": null,
        "OptionTextFont": null,
        "QuestionTextUnderline": null,
        "QuestionTextItalic": null,
        "QuestionTextBold": null,
        "QuestionTextSize": null,
        "QuestionTextFont": null,
        "SurveyTitleUnderline": null,
        "SurveyTitleItalic": null,
        "SurveyTitleBold": null,
        "SurveyTitleSize": null,
        "SurveyTitleFont": null,
        "BorderColor": null,
        "SurveyTitleColor": null,
        "OptionTextColor": null,
        "ThemeName": null,
        "BackgroundColor": null,
        "QuestionTextColor": null}]
};

$.each(themelist.d, function(index, theme) {
    console.log(theme['ImagePath']);
    console.log(theme.ImagePath);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T07:57:03.193

尝试这个：

```
success: function (returndata) {

    // objectify it, if not already
    returndata = (typeof returndata == 'string') ? JSON.parse(returndata) : returndata;

    var themelist = returndata.d;

    .... // rest of your code

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-11T09:45:01.967

这真的是 JSON 字符串的编码方式吗？似乎您用引号打开了字符串：`"`而不是撇号`'`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-11T08:04:38.900

我通常使用此代码，工作得很好。我设置了一个带有布尔检查`$data["result"] = false`和`json`值的数据数组。如果为真则返回`json object` `$data["arrayfrombackendcode"]`

```
success: function(data, textStatus, jqXHR) {
     for(var i = 0, var; var= data.arrayfrombackendcode[i]; i++) {
         data.id
         data.name
         etc
     }
}, 
```

希望答案有帮助

# php - 我的 php 代码发送短信时出错

> ID：10976236
> 
> 赞同：-3
> 
> 时间：2012-06-11T07:51:37.720
> 
> 标签：php, mysql, kannel

我是新手，我在代码的第 26 行遇到错误，我无法理解导致错误的原因，因为它使我无法发送短信任何帮助将不胜感激

```
 <?php
        $gw_host="10.0.0.9";
     $value=$_POST['value'];
     urlencode($message)=$_POST['message'];
     $con = mysql_connect("localhost","db_host","xxxxxx");

         if (!$con)
         {
         die('Could not connect: ' . mysql_error());
         }

         mysql_select_db("aic_sms", $con);

     $result = mysql_query("SELECT phn_number FROM users WHERE message=$value");
     if($result){
     while($row = mysql_fetch_array($result)) {
         function sendSmsMessage($phn_number, $message)
        {
            $ch= curl_init();
        curl_setopt($ch, "http://10.0.0.15/process_sms/sendsms.php?recipient=$phn_number&msg=" . urlencode($message));
        curl_exec($ch);
        curl_close($ch);

           }
       }
    else {
       echo mysql_error();
   }
   }

   echo 'Message sent successfully';    

      mysql_close($con);
      ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:16:53.740

好的，首先你在循环中有一个函数，这将导致函数被定义两次然后杀死你的脚本，你定义它们一次的函数然后使用函数名执行函数中的代码，也是你实际的 curl 函数使用不会起作用，因为您没有设置正确的选项。

另外，您应该使用准备好的查询来执行 SQL 语句，因为在您当前的脚本中，您很容易受到 sql 注入的攻击，恶意的人可能会发布`someval OR 1=1`这将导致 mysql 返回所有内容为 1=1，这是真的。

以下是你应该如何去做并建立它。希望能帮助到你

```
if($_SERVER['REQUEST_METHOD']=='POST' && !empty($_POST['value']) && !empty($_POST['message'])){

    $value  = $_POST['value'];
    $message= $_POST['message'];

    try {
        $dbh = new PDO("mysql:host=localhost;dbname=aic_sms", 'username', 'password');

        $stmt = $dbh->prepare("SELECT phn_number FROM users WHERE message=:message");

        /*** bind the paramaters ***/
        $stmt->bindParam(':message', $value, PDO::PARAM_STR);

        /*** execute the prepared statement ***/
        $stmt->execute();

        /*** fetch the results ***/
        while($row = $stmt->fetch())
        {
            $result[$row['phn_number']] = sendSmsMessage($row['phn_number'], $message);
        }
        //perhaps do somthing with the $result array
        echo 'Messages sent successfully';   
    }
    catch(PDOException $e)
    {
        die($e->getMessage());
    }
}else{
    //Show form or whatever
}

function sendSmsMessage($phn_number, $message){
    $curl = curl_init();
    curl_setopt($curl, CURLOPT_URL, "http://10.0.0.15/process_sms/sendsms.php?recipient=$phn_number&msg=" . urlencode($message));
    curl_setopt($curl, CURLOPT_HEADER, 0);
    curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($curl, CURLOPT_FOLLOWLOCATION, true);
    curl_setopt($curl, CURLOPT_TIMEOUT, 30);

    $html = curl_exec($curl);
    curl_close($curl);

    return $html;
}
?> 
```

# c# - 错误消息：类型或命名空间定义，或预期文件结尾

> ID：10976243
> 
> 赞同：15
> 
> 时间：2012-06-11T07:52:23.413
> 
> 标签：c#, c#-4.0

我已经搜索了互联网，所有以前的答案都说缺少分号。那不是问题。还有什么可能导致此错误？在第三个站点，有几个人问了这个问题，但这个场景是不同的。

错误是 >类型或命名空间定义，或预期 **文件结尾**

```
 public partial class SeenSMS : System.Web.UI.UserControl
    {
    //temp sql connection
    //public SqlConnection mycon;
    SqlConnection mycon = new SqlConnection(@"Data Source=ASOFT20\MAMUT;Initial   Catalog=ViltraNew;UserID=sa;Password=sa123");

    protected void Page_Load(object sender, EventArgs e)
    {
        string[] msg_arr = Request.QueryString["arr"].Split('|');

        if (!IsPostBack)
        {
            string Moose = Request.QueryString[1];
        }

        if (msg_arr != null)
        {
            if ((msg_arr.Length == 3) && (msg_arr[1].ToLower() == "slett"))

            {
                int Hours = Convert.ToInt32(msg_arr[2]);

                if (Hours > 0)
                {   
                    string username = msg_arr[0];

                    SqlCommand com = new SqlCommand("SELECT count(*) as count  FROM Animal Where Hours=@Hours", mycon);
                    com.Parameters.AddWithValue("@Hours",Hours);
                    using (SqlDataReader reader = com.ExecuteReader())
                    {
                        if(reader.HasRows)
                        {
                        while (reader.Read())
                        {
                             // int number = Convert.ToInt32(con.ExecuteReader());
                            int number = Convert.ToInt32(reader["count"]);

                        }
                        }
                        else{

                        }
                    }
                }
             //   if( number == 0)
               // {
                   // Response.Write("Improper Plain Summaries.");
              //  }
             //   else
                {

                }

                }
            }

        }

  public  bool number { get; set; }
  public  object Hours { get; set; }}

   // public System.Collections.Specialized.NameValueCollection Moose { get; set; }

  //  public string Value { get; set; }

  //  public object msg_arr { get; set; }
}
 } 
```

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2012-06-11T07:54:34.290

这一行：

```
public  object Hours { get; set; }} 
```

你最后有多余`}`的

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-11T08:00:35.487

您在 Hours 属性中有额外的括号；

```
public  object Hours { get; set; }} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-11T07:58:00.203

1.  确保您引用了 System.Web
2.  最后去掉两个}。

# playframework - 在 play morphia 中将文件添加到嵌入式类

> ID：10976248
> 
> 赞同：0
> 
> 时间：2012-06-11T07:52:47.703
> 
> 标签：playframework, morphia

我有一个具有 Blob 成员的嵌入式类。对文档调用 fromJson 会导致会话超时。这里应该发生什么？

```
Model > Embedded > Blob 
```

我的猜测是这里某处存在错误，我需要围绕它进行设计。

# xml - xslt 中的计数器变量

> ID：10976250
> 
> 赞同：1
> 
> 时间：2012-06-11T07:53:05.470
> 
> 标签：xml, xslt, xsd

谁能建议我如何在以下 XSLT 代码中获得 i 的值？

```
<xsl:for-each select="MenuItems/mainmenu">
<xsl:variable name="i" select="position()"/>     
      <li class="menu_hover" onclick="SwitchMenu(this, $i)" >
 </li>    
    </xsl:for-each> 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:12:31.737

最简单的方法是使用“value-of”的快捷方式，即花括号：

```
<xsl:for-each select="MenuItems/mainmenu">
<xsl:variable name="i" select="position()"/>     
  <li class="menu_hover" onclick="SwitchMenu(this, {$i})" >
 </li>    
</xsl:for-each> 
```

# c# - 使用 UniqueIdentifier 列类型和 [DatabaseGenerated(DatabaseGeneratedOption.Identity)] 模型的键在 EF Code First 中不起作用

> ID：10976251
> 
> 赞同：2
> 
> 时间：2012-06-11T07:53:09.677
> 
> 标签：c#, sql, database, asp.net-mvc-3, ef-code-first

这是我的 MVC 模型：

```
public class Link
{
    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]
    public Guid ID { get; set; }

    [DisplayName("Shorted URL")]
    public string SURL { get; set; }

    [DisplayName("General Link")]
    public string OriginalURL { get; set; }

    [DisplayName("Click Count")]
    public int ClickCount { get; set; }
} 
```

这是`LinkDBContext`类：

```
public class LinkDBContext : DbContext
{
    public DbSet<Link> Links { get; set; }
} 
```

当我想使用此代码向数据库添加一些数据时：

```
 private string GetNewID(string url, string id)
    {
        LinkDBContext Links = new LinkDBContext();
        //id = "http://" + id;
        List<Link> link = Links.Links.Where(a => (a.OriginalURL == id && a.SURL == id)).ToList();
        if (link.Count == 0)
        {
            List<Link> LLinks = Links.Links.ToList<Link>();
            Link li = new Link();
            //li.ID = new Guid();
            li.ClickCount = 0;
            li.SURL = id;
            li.OriginalURL = url;
            Links.Links.Add(li);
            Links.SaveChanges();
            Links.Dispose();
            return id.ToString();
        }

        return GetNewID(url);
    } 
```

我只是得到一个例外：`Cannot insert the value NULL into column 'ID', table 'GhiasiDB.dbo.Links'; column does not allow nulls. INSERT fails.The statement has been terminated.`

有什么问题，我该如何解决？

* * *

**更新**

我将 from 的类型更改为`ID`to `Guid`，`int`当我再次尝试时，我从`List<Link> LLinks = Links.Links.ToList<Link>();`of`GetNewID`方法中得到了这个异常：`The 'ID' property on 'Link' could not be set to a 'Guid' value. You must set this property to a non-null value of type 'Int32'.` 我不知道它是从哪里来的。我把所有`Guid`的 es都改成了`int`!

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:07:32.693

如果您允许 EF 生成表，它将创建 PK 并将默认值设置为`(newid())`. 如果您先设计了数据库，则可以手动设置它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T12:37:26.327

如果表在添加之前已经存在`[DatabaseGenerated(DatabaseGeneratedOption.Identity)]`，则删除`DbSet`，运行`Update-Database`，`DbSet`再次添加，最后运行另一个`Update-Database`。

至少那是为我解决的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-11T07:59:16.347

我认为那是因为`Guid`和*Identity*不兼容。您如何看待自动增加 Guid？

也许改成`Id`可以`int`帮助你

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-11T08:03:10.183

**Guid**是结构类型，即值类型。您不能将 null 分配给值类型。如果你想要这个，那么你可以在输入声明后使用“ **？ ”。**

```
 public Guid? ID { get; set; } 
```

如果这仍然没有帮助，请尝试**int**

# virtualbox - VirtualBox 错误：无法为虚拟机打开会话。未找到模块

> ID：10976257
> 
> 赞同：1
> 
> 时间：2012-06-11T07:53:40.497
> 
> 标签：virtualbox

我要在 VirtualBox 上运行 Android 模拟器。所有配置都是正确的，但是当我启动虚拟机时，程序会提醒我：

```
VirtualBox - Error
Failed to open a session for a virtual machine
Android-2.2-Generic
Module not found(VERR_MODULE_NOT_FOUND)

Details
Result Code: E_FAIL (0x80004005)
Component:Console
Interface:IConsole{1968b7d3-e3bf-4ceb-99e0-cb7c913317bb} 
```

在这种情况下我能做什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-14T23:48:10.330

我遇到了同样的问题，发现我的主机中的 DNS 地址指向网络中不存在的机器，实际上它指向了我试图开机的 GUEST 机器（！！！）。

将主机 DNS 地址设置为 8.8.8.8 后，来宾启动。

# jquery - 空间不足时如何使超级鱼菜单向后打开？

> ID：10976262
> 
> 赞同：5
> 
> 时间：2012-06-11T07:53:59.280
> 
> 标签：jquery, drop-down-menu, superfish

如何使超级鱼菜单向后打开？我在 fanpage 上的 facebook 应用程序中嵌入了一个 supperfish 菜单，因为它在 iframe 中运行，所以没有足够的空间来完全展开菜单。如何通过使用 superfis 或任何其他 jquery 菜单插件来解决这个问题也很好。

谢谢你。

目前的情况 ![目前的情况](../Images/f94cc1a2c06032df6f13846ed93743e1.png)

预期结果 ![预期结果](../Images/febad092404d6d871b03fff3b931b5d1.png)

**@Updated：这是一个用户定义的菜单，它没有菜单级别的限制。**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-09-24T11:11:17.023

我知道这个问题很老但仅供参考，这就是我解决上述问题的方法

```
var windowWidth;
$(document).ready(function (){
        windowWidth= $(window).width();
        $( window ).resize(function() {
            windowWidth = $(window).width();
        });

        $('.top-nav').superfish({
            onBeforeShow : function (){                 
                if(!this.is('.top-nav>li>ul')){
                    var subMenuWidth = $(this).width();
                    var parentLi = $(this).parent();                    
                    var parentWidth = parentLi.width();
                    var subMenuRight = parentLi.offset().left + parentWidth + subMenuWidth;
                    if(subMenuRight > windowWidth){
                        $(this).css({'left': 'auto', 'right': parentWidth+'px'});
                    } else {
                        $(this).css({'left': '', 'right': ''});
                    }
                }
            }
        });
 }); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-07-10T13:06:17.567

我写了这个脚本来修复。如果没有足够的空间，现在菜单会在左侧而不是右侧打开。

```
// 2/3/4th level menu  offscreen fix        
var wapoMainWindowWidth = $(window).width();

$('.sf-menu ul li').mouseover(function(){

    // checks if third level menu exist         
    var subMenuExist = $(this).find('.sub-menu').length;            
    if( subMenuExist > 0){
        var subMenuWidth = $(this).find('.sub-menu').width();
        var subMenuOffset = $(this).find('.sub-menu').parent().offset().left + subMenuWidth;

        // if sub menu is off screen, give new position
        if((subMenuOffset + subMenuWidth) > wapoMainWindowWidth){                  
            var newSubMenuPosition = subMenuWidth + 3;
            $(this).find('.sub-menu').css({
                left: -newSubMenuPosition,
                top: '0',
            });
        }
    }
 }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-11T08:03:57.887

```
ul ul ul ul ul { right: 100%; } 
```

这样， 4\. 子菜单之后的所有子导航都将位于左侧。

下一步是，在几个 UL 之后重置此属性，如下所示：

```
ul ul ul ul ul ul ul ul { right: auto; left: 100%; } 
```

尝试玩它。

*我从来没有开发过如此多的嵌套导航，但这个片段在其他情况下可能很有用。*

希望这可以帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-08T08:01:11.090

在您的 superfish.css 中更改此类的 left 属性：

```
ul.sf-menu li li:hover ul,
ul.sf-menu li li.sfHover ul {
    left:           10em;
    top:            0;
} 
```

像这样使 left 属性为负：

```
ul.sf-menu li li:hover ul,
ul.sf-menu li li.sfHover ul {
    left:           -12em;
    top:            0;
} 
```

# html - CSS类背景图片水平定位？

> ID：10976279
> 
> 赞同：5
> 
> 时间：2012-06-11T07:55:13.333
> 
> 标签：html, css

所以我试图在一个跨度为 318 像素的 div 上放置一个 facebook/youtube/twitter 按钮（因此每个按钮大约 106 像素）。

**预期输出**

[![预期布局](../Images/b82b6936931059989afc0539562bf3ef.png)](https://i.stack.imgur.com/QYBEH.png)
[（来源：[iforce.co.nz](http://iforce.co.nz/i/dseazq4c.zqc.png)）]

我在渲染每个按钮时使用 float 和 display:inline 。我在下面提供了我的代码。

**CSS 代码**

```
#socialController{
width: 318px;
background-color:#fff;
display: inline;
}
.socialmedia
{
width:106px;
height:20px;
float:left;
vertical-align:middle;
background-position:center center;
background-repeat:no-repeat;
background-color:#373737;
}
.socialmedia:hover{
background-color:#444
}
#sm_fb{
background-image:url(../img/fb.png)
}
#sm_tw{
background-image:url(../img/tw.png)
}
#sm_yt{
background-image:url(../img/yt.png)
} 
```

**代码**

```
<div id="socialController">
<a href="#" class="socialmedia" id="sm_fb" title="CSGONZ Facebook"></a>
<a href="#" class="socialmedia" id="sm_yt" title="CSGONZ Youtube"></a>
<a href="#" class="socialmedia" id="sm_tw" title="CSGONZ Twitter"></a>
</div> 
```

但问题是我没有达到我预期的水平定位..而是我得到了按钮的垂直定位。

**实际输出**

[![实际输出](../Images/e834cfb34d9cc5e18f91ae246f64fb7f.png)](https://i.stack.imgur.com/6eJlq.png)
[（来源：[iforce.co.nz](http://iforce.co.nz/i/2mce1tlk.53i.png)）]

问题是什么？我错过了什么？实现横向布局？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T07:58:17.067

让我们试试这个：

```
#socialController {
width: 318px;
background-color:#fff;
display: block;
} 
```

像这样：

[http://jsfiddle.net/CQTus/](http://jsfiddle.net/CQTus/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T07:58:01.747

显示：内联块；应该应用于社交媒体，而不是 socialController

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-11T08:01:39.263

我认为您必须使用列表在水平线上显示您的按钮。

试试[这个](http://www.cssmenumaker.com/menu/grey-impression-drop-down-menu-0)：这是一个 CSS 水平菜单的教程（带有源代码）。

我希望它有帮助:)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-11T08:07:47.217

在此处查看演示 - [http://jsfiddle.net/6PaY4/](http://jsfiddle.net/6PaY4/)

希望这可以帮助！

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-11T08:18:50.013

你可以像这样实现你的目标：

请参阅此[工作小提琴](http://jsfiddle.net/zuul/fjudW/)示例！

![在此处输入图像描述](../Images/396f09935b046ec98538d1e7ee159d96.png)

**CSS**

```
#socialController{
  width: 318px;
  background-color:#fff;
  display: block;         /* display the wrapper as a block */
}
.socialmedia {
  width:106px;
  height:20px;
  display:block;          /* display the element as a block */
  float:left;             /* float the elements to place them side by side */
  background-position:center center;
  background-repeat:no-repeat;
  background-color:#373737;
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-06-11T08:23:03.540

你的代码是完全有效的......

请参阅我从[您的代码中制作的示例](http://jsfiddle.net/hP5ss/)

您必须在其他地方有错误。在您的 css 中寻找另一个覆盖您提供的样式的声明。必须有一个这样的声明：`a{display:block}`相应地改变它。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-06-11T21:20:15.627

我认为这是 CSS 中的其他东西导致了故障，感谢大家的回答和保证:)

# android - 安卓播放视频

> ID：10976282
> 
> 赞同：2
> 
> 时间：2012-06-11T07:55:27.187
> 
> 标签：android

有人能告诉我 imdb 应用程序是如何在 android 上播放预告片的吗？我知道我们可以播放 3 gp，但它的质量非常低。我想在不使用 web 视图的情况下播放来自 youtube 或其他来源的视频我不确定这个问题是否属于这里，但如果你能指出我会很棒在正确的方向

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:03:30.657

查看此项目以播放 Youtube 视频：[android-youtube-player](http://code.google.com/p/android-youtube-player/)

您也可以轻松修改 OpenYouTubePlayerActivity 以播放其他流式网址。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T07:58:20.980

您还可以播放/流式传输 mp4 视频。

例子：

[http://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/media/MediaPlayerDemo_Video.html](http://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/media/MediaPlayerDemo_Video.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-11T08:03:34.993

是的，您可以使用 videoView 控件通过 url 播放视频。谢谢

# sql - SQL Azure 无法使用波兰语整理连接到数据库

> ID：10976283
> 
> 赞同：0
> 
> 时间：2012-06-11T07:55:47.300
> 
> 标签：sql, azure, collation

由于 Microsoft 发布了适用于 Windows Azure 的新 SDK（2012 年 6 月），我在连接到 SQL Azure 数据库时遇到问题，并且排序规则设置为“Polish_CI_AS”。

使用以前的 sdk 可以正常工作。现在，当我想添加新的连接字符串时出现错误：

“无法添加数据连接。无法检索此请求的数据。未知属性 PrimaryFilePath”

使用默认排序规则 (SQL_Latin1_General_CP1_CI_AS) 创建连接字符串。

有谁知道如何解决它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T16:09:10.817

我相信您的问题和解决方案在此博客[Working With Collat​​ions In SQL Azure中有所描述](http://blogs.msdn.com/b/sqlazure/archive/2010/06/11/10023650.aspx)

SQL Azure 数据库中字符数据的默认排序规则是 SQL_Latin1_General_CP1_CI_AS。此排序规则还用于整个 SQL Azure 基础结构，以对定义数据库对象的元数据进行排序和比较。服务器和数据库级别的排序规则在 SQL Azure 中是不可配置的。但是，您可以在列和表达式级别使用您选择的排序规则。

# windows - 与windows命名管道通信的程序

> ID：10976284
> 
> 赞同：3
> 
> 时间：2012-06-11T07:55:59.313
> 
> 标签：windows, cygwin, named-pipes, socat

我对 Windows 中的命名管道比较陌生。

我需要一个类似于 linux 的*socat*的 windows 工具来通过命名管道进行通信。Cygwin 的 socat 可以访问命名管道的窗口吗？如果是这样，怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-11T08:01:28.733

自己很快就想通了。

使用 putty 和 serial 作为连接类型。在串行线路框中键入完整的管道名称。

![在此处输入图像描述](../Images/7517902b20f363108ed04e19bfab01a9.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-02-18T11:07:57.307

基于 smichak 的答案，您实际上可以使用 Putty 的 plink 和 socat 来获得 cygwin 管道：

```
socat UNIX-LISTEN:/tmp/openssh-ssh-agent,umask=066,fork EXEC:"PLINK.EXE -serial //./pipe/openssh-ssh-agent",pipes 
```

# c# - 图论算法

> ID：10976288
> 
> 赞同：0
> 
> 时间：2012-06-11T07:56:16.473
> 
> 标签：c#, java, matlab

我正在努力获取从节点“A”开始并在同一节点结束的所有可能路径。该图是一个有向图（即每个节点都连接到至少一个节点）。

限制是：我只能访问一个节点一次，除了，（当然是起始节点）。

问题：我试图在 MATLAB 中使用 graphraverse 函数来实现这一点，但它只给了我一种这样的方式。任何可以在 C、java 中实现的算法或逻辑都可以工作。

如果有人可以给我任何指示，我会很高兴。

注意：我不想要最短路径，我想要一组可能的路径。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T09:52:32.723

为什么不编写自己的递归函数？

```
findPath(Node start, Node end, List<Node> alreadyVisited)
    for (Node neighbor: other ends of outgoing edges from start) { 
         if (neighbor == end)
             display("Found a path: " + alreadyVisited + end)
         else if (neighbor not in alreadyVisited)
             findPath(neighbor, end, alreadyVisited + neighbor)
    } 
```

...或类似的东西。由于您寻找循环，初始调用应该具有相同的值传递给`start`and `end`。当然，如果提示的输出不够，你需要在全局数组中收集正确的路径，或者找到更优雅的返回方式。

此外，对于较大的图，进行双向搜索（同时跟踪传入边并检查连续传出边和连续传入边到达的节点的交点，而不仅仅是是否已达到所需的终点）应该更快。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T07:57:49.763

不知道你的水平，但如果你能正确配置[boost库，它会非常好](http://www.boost.org/doc/libs/1_49_0/libs/graph/doc/table_of_contents.html)

# nhibernate - 使用查询对引用属性内的属性进行休眠过滤

> ID：10976292
> 
> 赞同：0
> 
> 时间：2012-06-11T07:56:32.497
> 
> 标签：nhibernate, filter, queryover

我正在使用带有流畅映射的 NHibernate。我有以下情况：

```
public class A
{
     public virtual int ID{get; set;}
     public virtual B BReference {get; set;}
     public virtual string aProperty {get; set;}
}

public class B
{
    public virtual int ID {get;set;}
    public virtual string Name {get; set;}
}

public class MapA: Map<A>
{
    Id(x=> x.ID);
    Map (x=> x.aProperty);
    References(x => x.BReference);
}

public class MapB : Map<B>
{
    Id(x=>x.ID);
    Map(x=>x.Name);
} 
```

我想要做的是过滤属性 A.BReference.Name 上的 A 对象。我正在使用 queryover 进行查询：

```
public object GetResult(ISession session)
{
   var result = session.QueryOver<A>.Where(a=> a.BReference.Name=="Value").List();
   return result;
} 
```

目前 NHibernate 正在引发异常无法解析属性 BReference.Name of: A。

有没有办法克服这个问题？我现在无法更改查询模式，因为我们依赖它。谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:11:57.833

嗨，您必须在编写条件之前使用 JoinAlias 加载相关表。

```
B bReference = null;
var result = session.QueryOver<A>()
.JoinAlias(x => x.BReference, () => bReference, NHibernate.SqlCommand.JoinType.LeftOuterJoin)
.Where(x => bReference.Name == "Value").List<A>(); 
```

# c - 我在一个循环中使用了 MPI_Bcast，但它在一个不确定的回合中退出

> ID：10976301
> 
> 赞同：0
> 
> 时间：2012-06-11T07:57:37.160
> 
> 标签：c, parallel-processing, cluster-computing, mpi

相关代码：

```
char buf[1024];

for(t = 1; t < 50000; t++){
    if(rank == 0){    
        buf = some value
    }
    MPI_Bcast(buf, 1024, MPI_CHAR, 0, MPI_COMM_WORLD);
} 
```

经过一些迭代，它退出了。我打印了buf的内容，它只是显示如下：“^A”

# visual-studio-2010 - 如何将默认帮助查看器更改为 chrome for Visual Studio 2010 sp1

> ID：10976303
> 
> 赞同：1
> 
> 时间：2012-06-11T07:57:45.457
> 
> 标签：visual-studio-2010, visual-studio

当我在 Visual Studio 2010sp1 中按 F1 时，我想查看有关 chrome 的在线 msdn 帮助。

我设置`HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Help\v1.0 with HelpViewerProgId="C:\Program Files (x86)\Google\Chrome\Application\chrome.exe"`

但我总是得到一个错误页面。

> **无法服务请求**

我猜原因是chrome错误地编码了url。

我试过`HelpViewerProgId="C:\Program Files (x86)\Google\Chrome\Application\chrome.exe" "%1"`但失败了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T13:45:40.267

最后我找到了解决方案：

1.  将 Chrome 设置为系统默认浏览器，这样帮助就会以 chrome 显示
2.  安装 WoVS 默认浏览器切换器（[http://visualstudiogallery.msdn.microsoft.com/bb424812-f742-41ef-974a-cdac607df921](http://visualstudiogallery.msdn.microsoft.com/bb424812-f742-41ef-974a-cdac607df921)），所以当我按下“调试”按钮时，启动 IE 而不是 chrome。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T13:04:36.103

看看这篇文章 -[如何使用 PowerShell 以编程方式更改 Visual Studio 中的默认浏览器，并可能戳中自己的眼睛](http://www.hanselman.com/blog/HowToChangeTheDefaultBrowserInVisualStudioProgrammaticallyWithPowerShellAndPossiblyPokeYourselfInTheEye.aspx)您可以在那里获得一个提示，通常如何对 IDE 中的任何文件执行此操作。

至于 F1 和帮助页面 - 请阅读此 MSDN 线程 -[无法在其他浏览器中打开 Visual Studio 2010 帮助文件](http://social.msdn.microsoft.com/Forums/eu/vssetup/thread/30afe492-7173-4c03-a671-02484e3fc560)

对你起作用吗？

# c++ - 如何集成使用表达式模板的库？

> ID：10976312
> 
> 赞同：17
> 
> 时间：2012-06-11T07:58:16.813
> 
> 标签：c++, templates, encapsulation, eigen, expression-templates

我想在我的程序中使用 Eigen 矩阵库作为线性代数引擎。Eigen 使用表达式模板来实现惰性求值并简化循环和计算。

例如：

```
#include<Eigen/Core>

int main()
{
  int size = 40;
  // VectorXf is a vector of floats, with dynamic size.
  Eigen::VectorXf u(size), v(size), w(size), z(size);
  u = 2*v + w + 0.2*z;
} 
```

由于 Eigen 使用表达式模板，因此代码如

```
u = 2*v + w + 0.2*z; 
```

在上面提到的示例中，减少到长度为 10 的单个循环（不是 40，浮点数按 4 块放入寄存器中）而不创建临时。多么酷啊？

但是如果我像这样集成库：

```
class UsingEigen
{
    public:  
        UsingEigen(const Eigen::VectorXf& data):
            data_(data)
        {}

        UsingEigen operator + (const UsingEigen& adee)const
        {
            return UsingEigen(data_ + adee.data_);
        }

        ...
    private:
        Eigen::VectorXf data_;
} 
```

然后像这样的表达式：

```
UsingEigen a, b, c, d;
a = b + c + d; 
```

不能利用 Eigen 的实现方式。这不是最后一个。还有许多其他示例，在 Eigen 中使用了表达式模板。

简单的解决方案是不要自己定义运算符，`data_`公开并编写如下表达式：

```
UsingEigen a, b, c, d;
a.data_ = b.data_ + c.data_ + d.data_; 
```

这打破了封装，但它保留了 Eigen 的效率。

其他方式可能是制作我自己的运算符，但让它们返回表达式模板。但由于我是 C++ 的初学者，我不知道这是否是正确的方法。

如果这个问题本质上太笼统，我很抱歉。我是初学者，没有人问。到目前为止，我`std::vector<float>`到处都在使用，但现在我也需要使用矩阵。在我的整个项目中切换`std::vector<float>`到 Eigen 是一大步，我害怕一开始就打错电话。欢迎任何建议！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-11T08:21:04.793

为什么暴露会`data_`破坏封装？封装意味着隐藏实现细节，只暴露接口。如果您的包装类`UsingEigen`没有向本机`Eigen`库添加任何行为或状态，则接口不会更改。在这种情况下，您应该完全放弃此包装器并使用`Eigen`数据结构编写程序。

公开矩阵或向量不会破坏封装：只有公开矩阵或向量的实现才能做到这一点。该`Eigen`库公开了算术运算符，但不公开它们的实现。

对于表达式模板库，用户扩展库功能的最常见方式是添加行为，而不是添加状态。对于添加行为，您不需要编写包装类：您还可以添加根据`Eigen`类成员函数实现的非成员函数。请参阅Scott Meyers 撰写的[本专栏](http://www.drdobbs.com/184401197)“非成员函数如何改进封装”。

至于您担心将当前程序转换为明确使用该`Eigen`功能的版本：您可以逐步执行更改，每次更改程序的一小部分，确保您的单元测试（您确实有单元测试，不是吗？）不要随着你的前进而中断。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T08:30:14.847

在我看来，这看起来更像是一个面向对象的设计问题，而不是一个库使用问题。无论您从书中读到什么，都是正确的建议。即，不要暴露成员变量并屏蔽上层免受第 3 方层使用的细微差别。

您可以期待的是可以在内部使用此库实现的数学函数的正确抽象。即，您可以使用比基本向量和矩阵运算更高级的函数公开您自己的库。通过这种方式，您可以利用库对象之间交互的特性，同时您不必将成员变量暴露给上层。

例如，您可以抽象出我的更高级别的 API，例如计算从点到平面的距离、两个平面之间的距离、使用变换矩阵计算另一个坐标系中点的新坐标等。要在内部实现这些方法，您可以利用库对象。您可以限制在 API 签名中不使用任何库类，以避免上层对该库的依赖。

您的程序的上层应该在抽象级别上更高，并且不需要关心基本的实现细节，例如如何实现从点到平面的距离的计算等。此外，他们甚至不需要知道这是否更低层是使用这个库或其他东西实现的。他们只会使用您图书馆的接口。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-05-18T14:35:11.080

设置一个类模板来保存一般的 Eigen 表达式并创建`UsingEigen`一个特殊的实例：

```
template<typename expr_t>
class UsingEigenExpr
{
    UsingEigen(expr_t const& expr) : expr(expr) {}
    expr_t expr;
    operator UsingEigenExpr<Eigen::VectorXf>() const
    {
        return {expr};
    }
};
using UsingEigen = UsingEigenExpr<Eigen::VectorXf>; 
```

然后重载任何需要的函数，例如

```
template<typename expr1_t, typename expr2_t, typename function_t>
auto binary_op(UsingEigenExpr<expr1_t> const& x, UsingEigenExpr<expr2_t> const& y, function_t function)
{
    return UsingEigenExpr<decltype(function(std::declval<expr1_t>(),std::declval<expr2_t>()))>(function(x.expr,y.expr));
}

template<typename expr1_t, typename expr2_t>
auto operator+(UsingEigenExpr<expr1_t> const& x, UsingEigenExpr<expr2_t> const& y)
{
    return binary_op(x,y,[](auto const& x, auto const& y) {return x+y;});
} 
```

等等其他二元运算符，例如`operator-`一元运算符，更一般地，对于您想要使用的所有其他东西。此外，您可以将一些其他成员函数添加到`UsingEigenExpr`，例如`size()`，`norm()`等。

用它作为

```
UsingEigen b, c, d;
auto a = b + c + d; 
```

存储表达式，或

```
UsingEigen b, c, d;
UsingEigen a = b + c + d; 
```

直接评价它。

尽管这种方法有效，但最终您会发现自己复制了所有必需的功能，因此请谨慎使用。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-06-11T08:23:10.743

我不明白你所有的问题，我会尽力回答你的大部分问题。在这句话中：

```
 UsingEigen operator + (const UsingEigen& adee)const
    {
        return UsingEigen(data_ + adee.data_);
    } 
```

您有一个重载运算符（抱歉，我不知道这是否是用英语书写的正确方法），因此您可以编写：

```
a = b + c + d; 
```

代替：

```
a.data_ = b.data_ + c.data_ + d.data_; 
```

你不会有任何问题，你的程序的成本是一样的。此外，您将拥有封装和效率。

另一方面，如果您想定义自己的运算符，您可以像模板一样进行操作。您可以在网上搜索“重载运算符”找到信息，但与此类似：

```
UsingEigen operator + (const UsingEigen& adee)const
    {
        return UsingEigen(data_ + adee.data_);
    } 
```

而不是“+”，您可以放置​​运算符并执行您需要的操作。

如果你想创建一个矩阵，这很简单。您只需要创建一个数组数组或向量的向量。

我认为是这样的：

```
std::vector<vector<float>> 
```

我不确定，但这很容易，另一方面，您可以通过这种方式使用简单的矩阵：

浮动 YourMatrix [大小] [大小];

我希望它可以帮助你。如果您需要更多内容，请在 google+ 上添加我，我不明白您的所有问题，我会尽力帮助您。

对不起我的英语，我希望你能理解所有，它对你有帮助。

# android - Android 应用程序未从快捷方式启动

> ID：10976315
> 
> 赞同：9
> 
> 时间：2012-06-11T07:58:20.480
> 
> 标签：android, operating-system, shortcut, environment

我的应用程序不是从设备屏幕上的快捷方式开始，而是从应用程序列表开始。android 4.x 报告此行为 此问题在安装应用程序更新后出现。为前一个创建快捷方式。我不确定是谁创建的——操作系统或用户。

**更新：**
我可以在安装/卸载期间从主屏幕添加/删除快捷方式吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-07-04T10:08:17.823

如果应用程序更新更改了启动器活动名称，则快捷方式将无法再找到应用程序。请参阅[无法完成](http://android-developers.blogspot.in/2011/06/things-that-cannot-change.html)的事情以获得解释：基本上您的清单 xml 是公共 API，您应该非常小心地更改。

如果您的应用程序是这种情况，有一种方法可以[禁用旧的启动器活动](http://www.helloandroid.com/tutorials/removing-app-icon-launcher)（应该删除所有指向它的图标和快捷方式），但我不确定页面上提到的缺点是否仍然适用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-07-09T10:59:09.213

如您所知（但其他人可能不会阅读此内容），这可能是您的清单或启动器图标存在问题，因此 Android 没有或无法在设备上安装新图标。Android 可能会留下旧图标，因为它无法安装新图标（或者您没有告诉它安装新图标）。

**如果是这种情况，该问题可能会影响许多用户，您将能够自己重新创建和解决问题。此外，您已经说过清单/图标没有变化。**

一个 自从您在一年前打开它并且提供的信息很少，我猜这只会影响极少数的设备和/或用户。

二 我认为您无法将其范围缩小到特定设备或用户，或者我认为您会告诉我们的。

三 因此，我们可能正在讨论一个影响不同设备上的少数用户的问题。

**更新：您现在已经回答了我的一个问题，并说 100,000 中的 100。**

如果你打电话给谷歌，告诉他们你的应用只成功安装在 99.9% 的设备上，我相信他们会很高兴（他们可能不会对你这么说）。

**您是否有任何有关这 0.1% 的百分比随后能够卸载/安装的信息？**

从Titanium Backup等产品的热度来看，root安卓设备的数量大概明显超过0.1%。

PackageManager、packages.xml 和 packages.list 是众所周知的手机 root 目标。PackageManager 只是一个 jar，并且有一个可用的开源版本。这些文件之一中的权限问题或无效条目很容易解释您看到的问题。

即使这个问题与 root 无关，在资源较少的旧设备上运行的早期版本的 Android Market / Package Manager 也远不如（例如）我的（非 root）Nexus 7 运行 Jelly Bean。我无法在我的 Nexus 7 上重现您的问题。再说一次，我不希望 - 根据您告诉我们的内容，这不太可能是“您的问题”。

> 更新：我可以在安装/卸载期间从主屏幕添加/删除快捷方式吗？

好吧，这并不理想，但是这种方法怎么样？

[http://www.helloandroid.com/tutorials/removing-app-icon-launcher](http://www.helloandroid.com/tutorials/removing-app-icon-launcher)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-09T10:04:19.380

可能对于两个应用程序包名称不同请检查包名称

# installation - 我可以在不安装 Nova 的情况下安装 OpenStack 的 Swift（OpenStack Storage Infrastructure）吗？

> ID：10976317
> 
> 赞同：9
> 
> 时间：2012-06-11T07:58:23.227
> 
> 标签：installation, cloud, openstack, openstack-swift

我正在尝试使用 OpenStack，但我很困惑。

我想使用[SWIFT](http://swift.openstack.org)（OpenStack Storage Infrastructure）来存储数据。但我不知道如何安装它。我试图按照本[教程](http://docs.openstack.org/essex/openstack-compute/starter/content/OpenStack_Storage_Infrastructure_Swift_-d1e271.html)进行操作，但它在服务器（Server1）上安装了所有服务......我只需要 SWIFT。

我必须安装 Nova 才能获得 Swift 吗？

因为在本教程中，在 Server1 上，在分层方案中，Swift 属于 Nova……但我认为它是分开的。如果有人知道它以及更多，如果有人知道在 Ubuntu 上安装 SWIFT 的教程，请告诉我。我试图在我的 Ubuntu 12.04 桌面上安装这个组件，但是带着所有这些疑问，我无法继续。非常感谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-11T09:48:44.243

您可以在一台机器上完美地安装一个快速安装，独立于 nova、glance 或 keystone（或任何其他 openstack 组件）。openstack 页面上有一个[教程。](http://swift.openstack.org/development_saio.html)

但是，本教程适用于旧版本的 Ubuntu：在 Ubuntu 12.04 上，它的依赖项（与 openstack 的其余部分一样）位于默认存储库中。所以不需要使用 git 或 ppa，只需使用 apt-get 或 aptitude 来获取软件：

```
sudo apt-get install swift swauth swift-account swift-container swift-object swift-proxy 
```

这应该让您开始，按照教程中的说明修改配置文件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T13:27:57.877

[OpenStack 对象存储管理手册](http://docs.openstack.org/essex/openstack-object-storage/admin/content/)描述了如何自行安装 Swift。另请参阅[Swift 部署指南](http://swift.openstack.org/deployment_guide.html)。

# java - 如何在碧玉报告中显示图像

> ID：10976318
> 
> 赞同：1
> 
> 时间：2012-06-11T07:58:23.883
> 
> 标签：java, jasper-reports

我创建了一个碧玉报告。但现在我需要在碧玉报告中放置徽标，我将报告和徽标放在同一个文件夹中，但我无法运行报告，它说

```
 net.sf.jasperreports.engine.JRException: Byte data not found at : kh_logo.jpg 
```

如果我给出完整路径然后 jar 文件会产生问题，那么在 jar 文件报告中找不到该徽标图像，我正在使用 net beans 请帮助

```
 I am using netbeans and i am placing report and logo in the src folder , but when I 
click on print report it is not able to find that logo 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-02-16T12:31:02.923

我发现这个问题有两种可能的解决方案：

**解决方案 1：使用相对路径。**

使用绝对路径可能不适用于您的服务器环境。因此，最好使用相对路径。最好将 'kh_logo.png' 文件与 .jrmxl 或 .jasper 文件放在同一文件夹中，并使用以下方式引用它：

```
<image>
            <reportElement uuid="generated_uuid" x="8" y="9" width="170" height="51"/>
            <imageExpression><![CDATA["kh_logo.png"]]></imageExpression>
</image> 
```

如果这不起作用......

**解决方案 2：使用文件解析器**

此解决方案仅用于 Java 代码。在这里，您将自己的文件解析器作为参数传递给报告。像这样。。

```
 ///Jasper Resolver
       FileResolver fileResolver = new FileResolver() {

        @Override
        public File resolveFile(String fileName) {
           URI uri;
           try {
             uri = new URI(this.getClass().getResource(fileName).getPath());
             return new File(uri.getPath());
           } catch (URISyntaxException e) {
             e.printStackTrace();
             return null;
           }
       }
   };
       parameters.put("REPORT_FILE_RESOLVER", fileResolver); 
```

然后像上面那样引用它。

希望这可以帮助某人。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T12:45:50.420

您的图像需要位于类路径上的文件夹中并以相对方式引用。

# jquery - jQuery 移动选择列表在设备/模拟器上不起作用

> ID：10976319
> 
> 赞同：3
> 
> 时间：2012-06-11T07:58:27.160
> 
> 标签：jquery, list, select, mobile

我目前正在我的 jquery mobile/phonegap 应用程序中处理表单。在这个表格中，我有两个选择列表。它们都可以在我的桌面浏览器（firefox、safari、chrome）中正常工作。

奇怪的是，第一个也在模拟器和设备上正确打开，我可以从中选择一个选项。由于某种原因，第二个不会在任何一个上打开选项列表。

我已经尝试添加任何 jQM 附加属性，例如：data-native-menu="false" 等等。是的，当我使用它时，它突然起作用了，但是它当然会改变我的第二个选择列表的外观，并且不再与第一个匹配。

我不明白的是，为什么它在第一个列表上有效，而在第二个列表上无效？

这是我的表格中的重要片段：

```
<!-- first select: works! -->
<h2>headline 1</h2>
<ul data-role="listview" data-inset="true">
    <li>
      <div id="titleSelectContainer" class="fullWidth form-lines clearFix">
        <div class="oneQuarter">
          <label class="labels">Anrede</label>
        </div>
        <select id="titelSelect" class="inputFields" name="titelSelect" data-mini="true">
          <option value="standard" data-placeholder="true">-- Bitte wählen --</option>
          <option value="Mr.">Herr</option>
          <option value="Mrs.">Frau</option>
        </select>
      </div>
    </li>
</ul>

<!-- second: does not work! -->
<h2>headline 2</h2>
<ul data-role="listview" data-inset="true">
  <li class="payOptions">
    <select class="inputFields payDDL" name="pay" id="paySelect" data-mini="true">
      <option value="standard" data-placeholder="true">-- Bitte wählen --</option>
      <option value="creditcard">Kreditkarte</option>
      <option value="invoice">Rechnung</option>
    </select>
  </li>
</ul> 
```

任何解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T11:02:00.447

Okay, I finally got around it by deleting the ul around it and adjustig the style of the remaining select list to the input fields above.

conclusion: seems like jQM selectfields don't work right within an ul in Android. Here is my final code:

```
<h2>Zahlungsart</h2>
  <div id="paymentSelectContainer">
      <select name="pay" id="paySelect">
          <option value="standard" data-placeholder="true">-- Bitte wählen --</option>
          <option value="creditcard">Kreditkarte</option>
          <option value="invoice">Rechnung</option>
      </select>
   </div> 
```

Edit: My solution worked on the emulator, but when I tried it on the device it wasn't yet again!

# css - H1 上的 width=100% 导致正文画布上有额外的边距...？

> ID：10976323
> 
> 赞同：0
> 
> 时间：2012-06-11T07:58:55.690
> 
> 标签：css

我在 Mac 上使用 Chrome/Firefox。请看一下[这个页面](http://www.amordetango.nl/txp/)。

有一个水平滚动条，所以右边有额外的边距。[在Stackoverflow](https://stackoverflow.com/questions/9166552/website-scrolling-horizontally-for-unknown-reason)上四处嗅探，我发现它与 H1 (H2) 上的 width=100% ... 因为跳过它，额外的边距消失了 ... :) ... 但现在 H1 在左侧，并且不是我想要的... :(

```
header 
{
    background-color: #73020c;
    padding-bottom: 110px; /* to push .banner down */
}

hgroup 
{
    position: relative;
    text-align: center; /* to center h1 en h2 */
    z-index: 1;
}

h1 
{
    font-family: 'BebasNeueRegular', sans-serif;
    color: #fff;
    line-height: 100%;
    font-weight: normal;
    text-transform: uppercase;
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 100%;
    margin-left: -50%; /* half the width */
    z-index: 2;
    letter-spacing: 0.15em;
    padding-left: 0.15em; /* to compensate letter-spacing h1 */
}

h2 
{
    font-family: 'MutluOrnamental', sans-serif;
    line-height: 100%;
    font-weight: normal;
    color: #b7b7b7;
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 100%;
    margin-left: -50%; /* half the width */     
    z-index: 3;
    padding-top: 10px; /* !important > to make h2 fit in relation to h1 */
}

/* for all browser including all IE! */
h2 {
    opacity: 0.75;
    zoom: 1;
    filter: alpha(opacity=75);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:17:49.653

我刚刚在 Safari 中对此进行了测试（它显示了同样的问题，因为它也是基于 Web 工具包的）。

我将其修复如下：

```
h1 
{
    font-family: 'BebasNeueRegular', sans-serif;
    color: #fff;
    line-height: 100%;
    font-weight: normal;
    text-transform: uppercase;
    position: absolute;
    top: 50%;
    height: 100%;
    z-index: 2;
    letter-spacing: 0.15em;
    text-align: center;
} 
```

我已经删除了 -50% 的居中方法，这样块就不会被推离页面（导致问题）并返回到 text-align: center。我还不得不删除这一行：

```
padding-left: 0.15em; /* to compensate letter-spacing h1 */ 
```

但在我看来，从视觉上看，这不会造成任何问题。

蒂姆

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T08:55:00.093

So H1 has to be extended with `box-sizing`:

```
h1 
{
    font-family: 'BebasNeueRegular', sans-serif;
    color: #fff;
    line-height: 100%;
    font-weight: normal;
    text-transform: uppercase;
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 100%;
    margin-left: -50%; /* half the width */
    z-index: 2;
    letter-spacing: 0.15em;
    padding-left: 0.15em; /* to compensate letter-spacing h1 */
    -webkit-box-sizing: border-box; /* content-box */
    -moz-box-sizing: border-box;
    box-sizing: border-box;
} 
```

... and there is a [polyfill](http://css3clickchart.com/#box-sizing) too ... :)

# google-maps - Google Maps API v3 - 信息窗口上的 EventListeners `click` 和 `closeclick` 冲突？

> ID：10976324
> 
> 赞同：1
> 
> 时间：2012-06-11T07:59:06.520
> 
> 标签：google-maps, google-maps-markers, infowindow, event-listener

我正在使用事件`click`并使用方法和`closeclick`设置不同的值。 因此，当用户单击地图标记时，它将平移到该标记并放大。*这部分正在工作。*然后，当信息窗口关闭时，我希望它缩小并平移到原始位置（*不工作*）。 这两个事件在我的代码中似乎有冲突，所以我需要利用来解决这个冲突吗？以下是相关代码：`panTo()``setZoom()`

 **`clearListeners`** 

 **```
function setInfoWindow(mapRef, mapSettings, mapMarker, markerInfoWindow)
{
    // event listener for infowindow of each map marker, onclick
    google.maps.event.addListener(mapMarker, "click", function()
    {
        markerInfoWindow.open(mapRef, this);
        mapRef.panTo(this.position);
        mapRef.setZoom(3);
    });

    // 
    google.maps.event.addListener(mapMarker, "closeclick", function()
    {
        mapRef.panTo(mapSettings.center);
        mapRef.setZoom(2);
    });

} // end of function setInfoWindow 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-11T16:41:00.213

发生这种情况是因为您没有在 infoWindow 上侦听关闭事件，而是将其设置为标记。所以只需将`mapMarker`代码中的更改为`markerInfoWindow`：

```
google.maps.event.addListener(markerInfoWindow, "closeclick", function()
{
    mapRef.panTo(mapSettings.center);
    mapRef.setZoom(2);
}); 
```

这将在 infoWindow 关闭后触发：[https](https://developers.google.com/maps/documentation/javascript/reference#InfoWindow) ://developers.google.com/maps/documentation/javascript/reference#InfoWindow向下滚动到事件以查看您可以在 infoWindow 上添加侦听器的其他事件。**

# mysql - Mysql 在非常大的表上计算性能

> ID：10976328
> 
> 赞同：41
> 
> 时间：2012-06-11T07:59:24.303
> 
> 标签：mysql, sql, count, query-optimization, database-performance

我在 Innodb 中有一个超过 1 亿行的表。

我必须知道外键 = 1 的行是否超过 5000 行。我不需要确切的数字。

我做了一些测试：

*`SELECT COUNT(*) FROM table WHERE fk = 1`*=> 16 秒
*`SELECT COUNT(*) FROM table WHERE fk = 1 LIMIT 5000`*=> 16 秒
*`SELECT primary FROM table WHERE fk = 1`*=> 0.6 秒

我将拥有更大的网络和治疗时间，但可能会超载 15.4 秒！

你有更好的主意吗？

谢谢

**编辑：[添加了 OP 的相关评论]**

我试过 SELECT SQL_NO_CACHE COUNT(fk) FROM table WHERE fk = 1 但花了 25 秒

Mysql 使用 Mysql Tuner 为 Innodb 进行了调整。

```
CREATE TABLE table ( pk bigint(20) NOT NULL AUTO_INCREMENT,
fk tinyint(3) unsigned DEFAULT '0', 
PRIMARY KEY (pk), KEY idx_fk (fk) USING BTREE ) 
ENGINE=InnoDB AUTO_INCREMENT=100380914 DEFAULT CHARSET=latin1 
```

数据库资料：

```
'have_innodb', 'YES' 'ignore_builtin_innodb', 'OFF' 'innodb_adaptive_hash_index', 'ON'    
'innodb_additional_mem_pool_size', '20971520' 'innodb_autoextend_increment', '8' 
'innodb_autoinc_lock_mode', '1' 'innodb_buffer_pool_size', '25769803776' 
'innodb_checksums', 'ON' 'innodb_commit_concurrency', '0',
'innodb_concurrency_tickets', '500' 'innodb_data_file_path',
'ibdata1:10M:autoextend' 'innodb_data_home_dir', '', 'innodb_doublewrite', 'ON'     
'innodb_fast_shutdown', '1' 'innodb_file_io_threads', '4' 
'innodb_file_per_table', 'OFF', 'innodb_flush_log_at_trx_commit', '1' 
'innodb_flush_method', '' 'innodb_force_recovery', '0' 'innodb_lock_wait_timeout', '50' 
'innodb_locks_unsafe_for_binlog', 'OFF' 'innodb_log_buffer_size', '8388608' 
'innodb_log_file_size', '26214400' 'innodb_log_files_in_group', '2' 
'innodb_log_group_home_dir', './' 'innodb_max_dirty_pages_pct', '90'     
'innodb_max_purge_lag', '0' 'innodb_mirrored_log_groups', '1' 'innodb_open_files', 
'300' 'innodb_rollback_on_timeout', 'OFF' 'innodb_stats_on_metadata', 'ON' 
'innodb_support_xa', 'ON' 'innodb_sync_spin_loops', '20' 'innodb_table_locks', 'ON' 
'innodb_thread_concurrency', '8' 'innodb_thread_sleep_delay', '10000'      
'innodb_use_legacy_cardinality_algorithm', 'ON' 
```

**15 年更新：** 到目前为止，我使用相同的方法，每天有 6 亿行和 640 000 行新行。它仍然工作正常。

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-06-11T08:44:06.513

您似乎对实际计数不感兴趣，所以试试这个：

```
SELECT 1 FROM table WHERE fk = 1 LIMIT 5000, 1 
```

如果返回一行，则您有 5000 条或更多记录。我认为该`fk`列已编入索引。

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2012-06-11T08:47:47.580

计数器表或其他缓存机制是解决方案：

> InnoDB 不保留表中的内部行数，因为并发事务可能同时“看到”不同数量的行。为了处理 SELECT COUNT(*) FROM t 语句，InnoDB 扫描表的索引，如果索引不完全在缓冲池中，这需要一些时间。如果您的表不经常更改，使用 MySQL 查询缓存是一个很好的解决方案。要获得快速计数，您必须使用您自己创建的计数器表，并让您的应用程序根据它所做的插入和删除来更新它。如果近似行数足够，则可以使用 SHOW TABLE STATUS。请参阅[第 14.3.14.1 节，“InnoDB 性能调优技巧”</a>。](http://dev.mysql.com/doc/refman/5.5/en/innodb-tuning.html)
> 
> [](http://dev.mysql.com/doc/refman/5.5/en/innodb-tuning.html)

[](http://dev.mysql.com/doc/refman/5.5/en/innodb-tuning.html)

[](http://dev.mysql.com/doc/refman/5.5/en/innodb-tuning.html)
*   [http://dev.mysql.com/doc/refman/5.5/en/innodb-restrictions.html](http://dev.mysql.com/doc/refman/5.5/en/innodb-restrictions.html)

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2017-05-30T22:36:43.950

我必须添加另一个答案——到目前为止，我对评论和答案有很多更正/补充。

对于 MyISAM，`SELECT COUNT(*)`没有`WHERE`估计是死机——非常快。所有其他情况（包括问题中的 InnoDB）必须通过数据的 BTree 或索引的 BTree 来获得答案。所以我们需要看看要计算多少。

InnoDB 缓存数据和索引块（每个 16KB）。但是当表的数据或索引 BTree 大于`innodb_buffer_pool_size`时，你肯定会撞到磁盘。访问磁盘几乎总是任何 SQL 中最慢的部分。

当涉及到查询缓存时，通常会产生大约 1 毫秒的查询时间；这似乎不是引用的任何时间的问题。所以我就不多说了。

但是......*连续*两次运行*相同*的查询通常会出现：

 **   首次运行：10 秒
*   第二次运行：1秒

这是第一次运行必须从磁盘中获取大部分块的症状，而第二次在 RAM（buffer_pool）中找到了所有块。我怀疑列出的一些时间是虚假的，因为没有意识到*这个*缓存问题。*（这可以*解释16 秒与 0.6 秒。）

我将强调“磁盘命中”或“需要触摸的块”作为 SQL 更快的*真正*指标。

`COUNT(x)`统计前检查`x`。`IS NOT NULL`这增加了少量的处理，但不会改变磁盘命中的数量。

提供的表有一个 PK 和第二列。我想知道那是不是*真正的*桌子？它有所作为——

*   如果优化器决定读取*数据*——也就是说，按`PRIMARY KEY`顺序扫描——它将读取数据 BTree，它*通常*（但在这个蹩脚的例子中）比二级索引 BTree 宽得多。
*   如果优化器决定读取二级索引（但不需要进行排序），则要访问的块将更少。因此，速度更快。

对原始查询的评论：

```
SELECT COUNT(*) FROM table WHERE fk = 1 => 16 seconds
    -- INDEX(fk) is optimal, but see below
SELECT COUNT(*) FROM table WHERE fk = 1 LIMIT 5000 => 16 seconds
    -- the LIMIT does nothing, since there is only one row in the result
SELECT primary FROM table WHERE fk = 1 => 0.6 seconds
    -- Again INDEX(fk), but see below 
```

`WHERE fk = 1`恳求`INDEX(fk, ...)`，最好只是`INDEX(fk)`。请注意，在 InnoDB 中，每个二级索引都包含 pk 的副本。也就是说，`INDEX(fk)`是有效的`INDEX(fk, primary)`。因此，第三个查询可以将其用作“覆盖”，而不需要接触数据。

如果表真的只有两列，那么二级索引 BTree*可能*会比数据 BTree 胖。但在现实表中，二级索引会更小。因此，索引扫描将比表扫描更快（触摸的块更少）。

第三个查询也提供了一个大的结果集；这可能会导致查询花费很长时间——*但*它不会包含在引用的“时间”中；是网络时间，不是查询时间。

`innodb_buffer_pool_size = 25,769,803,776` 我猜该表及其二级索引（来自 FK）每个大约 3-4GB。所以，任何时间都可能*首先*要加载很多东西。然后*第二次*运行将被完全缓存。（当然，我不知道有多少行`fk=1`；大概少于所有行？）

*但是*......在 600M 行时，表及其索引都*接近*25GB 的 buffer_pool。因此，它成为 I/O 绑定的那一天可能很快就会到来——这会让您希望回到 16（或 25）秒；但你不能。然后我们可以讨论做`COUNT`.

`SELECT 1 FROM tbl WHERE fk = 1 LIMIT 5000,1`——我们来分析一下。它会扫描索引，但会在 5000 行后停止。您需要的只是“超过 5K”，这是获得它的最佳方式。无论表中的总行数如何，它将始终保持快速（仅触及十几个块）。（它仍然受制于系统的 buffer_pool_size 和缓存特性。但是，即使使用冷缓存，十几个块也需要不到一秒的时间。）

MariaDB[`LIMIT ROWS_EXAMINED`](https://mariadb.com/kb/en/mariadb/limit-rows-examined/)可能值得研究。没有那个，你可以做

```
SELECT COUNT(*) AS count_if_less_than_5K
    FROM ( SELECT 1 FROM tbl WHERE fk = 1 LIMIT 5000 ); 
```

它*可能*比将行传递给客户端更快；它必须在 tmp 表内部收集行，但只提供`COUNT`.

附注：每天插入 640K 行——这接近了 MySQL 中单行的限制，`INSERTs`而您当前在 HDD（不是 SDD）上的设置。如果您需要讨论潜在的灾难，请打开另一个问题。

底线：

*   一定要避免查询缓存。（通过使用`SQL_NO_CACHE`或关闭 QC）
*   运行任何计时查询两次；使用第二次。
*   了解所涉及的 BTree(s) 的结构和大小。
*   `COUNT(x)`除非您需要空值检查，否则不要使用。
*   不要使用 PHP 的`mysql_*`接口；切换到`mysqli_*`或`PDO`。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-11T08:08:03.127

如果您使用的是 PHP，您可以`mysql_num_rows`对从中获得的结果进行操作`SELECT primary FROM table WHERE fk = 1 => 0.6 seconds`，我认为这将是有效的。

但取决于您使用的服务器端语言

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-11T09:30:36.377

如果您不想知道行数，而只想针对某个值测试 COUNT，则可以使用下面的标准脚本：

```
SELECT 'X'
FROM mytable
WHERE myfield='A'
HAVING COUNT(*) >5 
```

这将返回一行或根本不返回一行，具体取决于是否满足条件。

此脚本符合 ANSI，无需评估 COUNT(*) 的完整值即可完全运行。如果 MySQL 实现了优化以在满足某些条件后停止评估行（我真的希望这样做），那么您将获得性能改进。不幸的是，我自己无法测试这种行为，因为我没有可用的大型 MySQL 数据库。如果你做这个测试，请在这里分享结果:)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-11T22:00:51.693

最后最快的是使用 C# 查询前 X 行并计算行数。

我的应用程序正在批量处理数据。两个批次之间的时间量取决于需要处理的行数

```
SELECT pk FROM table WHERE fk = 1 LIMIT X 
```

我在 0.9 秒内得到了结果。

谢谢大家的想法！

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-03-24T11:30:29.023

这是一个老问题，但我遇到了同样的问题，也许这会对某人有所帮助：有 400 万条记录，COUNT 查询需要超过 20 秒。因此，就我而言，在我添加了一个简单的主键过滤后，它变得更快并且只需要 4 秒。所以最后的查询是：

```
SELECT COUNT(*) FROM Table
WHERE PK > 0; 
```

就我而言，PK是INT。*

# mobile - 显示平板电脑的桌面版本

> ID：10976330
> 
> 赞同：3
> 
> 时间：2012-06-11T07:59:30.623
> 
> 标签：mobile, asp.net-mvc-4

如果用户从平板电脑访问该站点，我正在尝试显示该站点的桌面版本。方法 contextCheck_WithDirectMethod 确实返回 false ，但移动版本仍显示在我的 ipad 上。任何有关如何解决此问题的帮助将不胜感激。

```
protected void Application_BeginRequest(object sender, EventArgs e)
    {
        System.Func<HttpContextBase, bool> contextCheckDelegate = contextCheck_WithDirectMethod;
        DefaultDisplayMode mobileMode = new DefaultDisplayMode("mobile");
        mobileMode.ContextCondition = contextCheckDelegate;
        DisplayModeProvider.Instance.Modes.Add(mobileMode);
    }
    public bool contextCheck_WithDirectMethod(HttpContextBase objHttpContextBase)
    {

        bool isTablet = false;
        string varBrowserAgent = objHttpContextBase.Request.UserAgent;
        if (!string.IsNullOrEmpty(varBrowserAgent))
        {
            varBrowserAgent = varBrowserAgent.ToString().ToLower();
            if (varBrowserAgent.Contains("ipad") || (varBrowserAgent.Contains("android") && !varBrowserAgent.Contains("mobile")))
            {
                isTablet = true;
                objHttpContextBase.ClearOverriddenBrowser();
            }
        }

        if (!isTablet)
        {
            if (objHttpContextBase.GetOverriddenBrowser().IsMobileDevice)
            {
                return true;
            }
        }

        if (!string.IsNullOrEmpty(varBrowserAgent))
        {
            varBrowserAgent = varBrowserAgent.ToString().ToLower();

            if (objHttpContextBase.Request.Browser.IsMobileDevice == true || varBrowserAgent.Contains("ipod") || varBrowserAgent.Contains("ipad")
             || varBrowserAgent.Contains("iphone") || varBrowserAgent.Contains("android") || varBrowserAgent.Contains("iemobile"))
            {
                if (isTablet)
                    return false;
                else
                    return true;
            }
        }
        return false;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T18:43:30.847

显示模式逻辑按注册顺序查找匹配项。默认移动模式在您添加之前注册，因此您的新移动模式永远不会被评估。

一般模式是在索引 0 处插入新的显示模式，而不是添加显示模式。代替：

```
DisplayModeProvider.Instance.Modes.Add(mobileMode); 
```

利用：

```
DisplayModeProvider.Instance.Modes.Insert(0, mobileMode); 
```

或者，您可以更改浏览器定义（例如 C:\Windows\Microsoft.NET\Framework\v4.0.30319\Config\Browsers）以表明 iPad 不是移动设备，但这可能会变得复杂。

另外，需要注意的一个问题是：显然[iPad 有时会报告不同的用户代理](http://blog.lavablast.com/post/2011/05/29/Gotcha-iPad-versus-ASPNET.aspx)。您的设备模式选择逻辑需要考虑这两种情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T17:40:02.943

您可以检查平板设备中可用的像素数：

```
var isTablet = httpContext.Request.Browser.IsMobileDevice && httpContext.Request.Browser.ScreenPixelsWidth > 768 
```

# ruby-on-rails - Rails 对连接表属性的复杂聚合查询

> ID：10976332
> 
> 赞同：0
> 
> 时间：2012-06-11T07:59:33.620
> 
> 标签：ruby-on-rails, performance, aggregate-functions

我正在使用快速增加的数据集对连接表属性（has_many through）进行相当复杂的总和计算。主要目的是显示图表和图形。

但是随着数据的增长，查询的执行速度会变慢......

处理这个问题的最佳方法是什么？

我在使用缓存（例如 memcached）时遇到的问题是陈旧的数据，这再次导致经常需要重新计算和缓慢的响应时间（注意：我使用 ajax 和 json 数据来显示图表本身）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T11:52:43.283

您可以创建所需数据的[数据库视图](http://dev.mysql.com/doc/refman/5.0/en/create-view.html)并将其链接到 rails 模型。在许多情况下，这应该会提高性能。

```
class MouseStatistic < ActiveRecord::Base
  self.table_name = "mouse_statistics_view"
end 
```

# c# - 如何本地化 MVC3 中的数据注释消息？

> ID：10976334
> 
> 赞同：1
> 
> 时间：2012-06-11T07:59:54.177
> 
> 标签：c#, asp.net-mvc-3

> **可能重复：**
> [DisplayNameAttribute 的本地化](https://stackoverflow.com/questions/356464/localization-of-displaynameattribute)

```
[Serializable]
public class Foo
{

    [DisplayName("??")]
    [Required]
    public string Name { get; set; }

} 
```

将此属性本地化的最佳解决方案是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:07:14.440

您将不得不使用 GlobalResources，请查看下面的示例

**资源1.resx**

|姓名|姓名|

|....|....|

|....|....|

**资源1.da.DK**

|名称|导航|

|....|....|

|....|....|

```
 [Required(ErrorMessageResourceType = typeof(Resources.Resource1), ErrorMessageResourceName  = "Name")]
    public virtual string Name
    {
        get;
        set;
    } 
```

# cocoa - 可可：如何在应用委托类中使用从 NSViewController 派生的类中创建的 Web 视图属性？

> ID：10976335
> 
> 赞同：0
> 
> 时间：2012-06-11T08:00:01.697
> 
> 标签：cocoa

我的应用委托类中的代码：

```
- (void)webView:(WebView *)webView decidePolicyForNewWindowAction:(NSDictionary *)actionInformation request:(NSURLRequest *)request newFrameName:(NSString *)frameName decisionListener:(id < WebPolicyDecisionListener >)listener{
NSLog(@"hello");
NSTabViewItem *newItem=[[NSTabViewItem alloc] init];

  NSInteger index = [_tabView numberOfTabViewItems];
[_tabView  insertTabViewItem:newItem atIndex:index];
[newItem setLabel:@"Empty Tab" ];
//[_tabView  selectPreviousTabViewItem:@"select"];
newVC =[[newViewController alloc] initWithNibName:@"newViewController" bundle:nil];
[[_tabView .tabViewItems objectAtIndex:index] setView:[newVC view]];
newViewController *obj=[newViewController alloc]init];
[obj.newWebView mainframe]loadrequest:request]; 
```

}

此代码未使用请求的 url 加载 Web 视图。这里 newWebView 是我在 newViewController 类中创建的 Web 视图属性。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T14:18:40.110

首先，你想做什么？

```
newViewController *obj=[[newViewController alloc]init]; 
```

正在分配一个您永远不会粘在用户界面中的全新对象。因此，`obj.newWebView`也永远不会出现。

我不确定，但我认为您正在寻找的是

```
[[newVC.newWebView mainframe]loadrequest:request]; 
```

反而？您的代码中还缺少几个括号，但我认为它们只是拼写错误！

# java - JAX-RS 请求获取自定义对象

> ID：10976343
> 
> 赞同：1
> 
> 时间：2012-06-11T08:00:39.170
> 
> 标签：java, jax-rs

在特定的基于 JAX-RS 的 Web 服务实现中，需要在 Web 服务请求中发送自定义对象。我知道从基于 JAX-RS 的 Web 服务返回对象，但不太确定在请求期间发送对象。

有人可以帮我解决这个问题吗？

在此先感谢，阿里吉特·博斯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T09:51:28.270

`@POST`您使用and `@Consumes({ MediaType.APPLICATION_XML })`（或 json 或其他）注释该方法并添加一个参数。如果您使用的是 JAXB，则参数可以是 JAXB 对象，它将自动从传入的 XML 中为您解组。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T10:00:56.493

您应该`MessageBodyReader`为您的自定义对象实现：

```
public class YourClassReader implements MessageBodyReader<YourClass> {
    @Override
    public boolean isReadable...

    @Override
    YourClass readFrom...
} 
```

# matlab - 如何从给定的集合中生成可能的不同组对？

> ID：10976347
> 
> 赞同：2
> 
> 时间：2012-06-11T08:00:43.990
> 
> 标签：matlab, combinatorics

在matlab中我该怎么做？我有一组 n 个元素

从这个集合中，我制作了一组新的 n/2 对，以便不同对中的元素是不同的。如何从 matlab 中的 n 个元素生成不同的 n/2 对集合？

例如输入集 - {1,2,3,4}

可能的输出集 -

{{1,2},{3,4}}

{{1,3},{2,4}}

{{1,4},{2,3}}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:05:37.633

对于“每个减半向量的不同元素”要求，我找不到一个干净的解决方案。因此，我建议单独检查每个结果。我希望有一个更好的解决方案：这个只是完成它的工作。

```
x = [1 2 3 3];
xsize = size(x,2);

p = perms(x);
up = unique(p,'rows');

result = [];

for entry=up'
  left = entry(1:xsize/2);
  right = entry(xsize/2+1:xsize);
  if numel(unique(left)) == xsize/2 && numel(unique(right)) == xsize/2
    result = vertcat(result,entry')
  end
end 
```

只是为了完整性，结果是：

```
1   3   2   3
1   3   3   2
2   3   1   3
2   3   3   1
3   1   2   3
3   1   3   2
3   2   1   3
3   2   3   1 
```

我不确定您是否需要实际拆分减半的向量。`left`在这种情况下，只需放入`right`您喜欢的任何东西。

# php - Ajax 聊天在每次聊天时创建一个新文件

> ID：10976348
> 
> 赞同：0
> 
> 时间：2012-06-11T08:00:45.327
> 
> 标签：php, ajax, chat

我正在尝试实现一个有效的聊天，它会在每次聊天时创建一个新的日志文件。这是代码：

```
<?
session_start();

if(isset($_GET['logout'])){ 

    //Simple exit message
    $fp = fopen("log.html", 'a');
    fwrite($fp, "<div class='msgln'><i>User ". $_SESSION['name'] ." has left the chat session.</i><br></div>");
    fclose($fp);

    session_destroy();
    header("Location: index.php"); //Redirect the user
}

function loginForm(){
    echo'
    <div id="loginform">
    <form action="index.php" method="post">
        <p>Anna nimimerkki:</p>
        <label for="name">Name:</label>
        <input type="text" name="name" id="name" />
        <input type="submit" name="enter" id="enter" value="Enter" />
    </form>
    </div>
    ';
}

if(isset($_POST['enter'])){
    if($_POST['name'] != ""){
        $_SESSION['name'] = stripslashes(htmlspecialchars($_POST['name']));
    }
    else{
        echo '<span class="error">Please type in a name</span>';
    }
}
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Chat - Customer Module</title>
<link type="text/css" rel="stylesheet" href="style.css" />
</head>

<?php
if(!isset($_SESSION['name'])){
    loginForm();
}
else{
?>
<div id="wrapper">
    <div id="menu">
        <p class="welcome">Welcome, <b><?php echo $_SESSION['name']; ?></b></p>
        <p class="logout"><a id="exit" href="#">Exit Chat</a></p>
        <div style="clear:both"></div>
    </div>  
    <div id="chatbox"><?php
    if(file_exists("log.html") && filesize("log.html") > 0){
        $handle = fopen("log.html", "r");
        $contents = fread($handle, filesize("log.html"));
        fclose($handle);

        echo $contents;
    }
    ?></div>

    <form name="message" action="">
        <input name="usermsg" type="text" id="usermsg" size="63" />
        <input name="submitmsg" type="submit"  id="submitmsg" value="Send" />
    </form>
</div>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js"></script>
<script type="text/javascript">
// jQuery Document
$(document).ready(function(){
    //If user submits the form
    $("#submitmsg").click(function(){   
        var clientmsg = $("#usermsg").val();
        $.post("post.php", {text: clientmsg});              
        $("#usermsg").attr("value", "");
        return false;
    });

    //Load the file containing the chat log
    function loadLog(){     
        var oldscrollHeight = $("#chatbox").attr("scrollHeight") - 20;
        $.ajax({
            url: "log.html",
            cache: false,
            success: function(html){        
                $("#chatbox").html(html); //Insert chat log into the #chatbox div               
                var newscrollHeight = $("#chatbox").attr("scrollHeight") - 20;
                if(newscrollHeight > oldscrollHeight){
                    $("#chatbox").animate({ scrollTop: newscrollHeight }, 'normal'); //Autoscroll to bottom of div
                }               
            },
        });
    }
    setInterval (loadLog, 2500);    //Reload file every 2.5 seconds

    //If user wants to end session
    $("#exit").click(function(){
        var exit = confirm("Are you sure you want to end the session?");
        if(exit==true){window.location = 'index.php?logout=true';}      
    });
});
</script>
<?php
}
?>
</body>
</html> 
```

好的，这就是它的作用：它检查 log.html 文件，如果它存在，它会显示它以及其中的所有消息。聊天中发送的所有消息都将保存到 log.html 等，当有很多消息时，log.html 将是巨大的。但。如果 log.html 文件不存在，它将创建它，因此我需要在每次会话开始时创建一个新的 log.html。我尝试使用随机字符串生成器：

```
function generateRandomString($length = 10) {
    $characters = ’0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ’;
    $randomString = '';
    for ($i = 0; $i < $length; $i++) {
        $randomString .= $characters[rand(0, strlen($characters) - 1)];
    }
    return $randomString;
}

// Echo the random string.
// Optionally, you can give it a desired string length.
echo generateRandomString(); 
```

生成器工作正常，依此类推。我意识到我需要将随机字符串分配为变量，以便能够在页面上多次使用相同的随机字符串。所以我这样做了：

```
$LOGFILE = generateRandomString(); 
```

每次我回显它时都会使用相同的随机字符串（例如： abcdefg ），对吗？问题来自javascript部分。我试过这个：

```
...
function loadLog(){     
        var oldscrollHeight = $("#chatbox").attr("scrollHeight") - 20;
        $.ajax({
            url: <?php echo $LOGFILE ;?>".html",
... 
```

但是当我检查代码时它不会回显任何东西。

我已经修改了代码，因此当它需要访问日志文件时，它将在任何部分使用随机字符串，如下所示：

```
<?
session_start();

if(isset($_GET['logout'])){    

    //Simple exit message
    $fp = fopen($LOGFILE,".html", 'a');
    fwrite($fp, "<div class='msgln'><i>User ". $_SESSION['name'] ." has left the chat session.</i><br></div>");
    fclose($fp);

    session_destroy();
    header("Location: index.php"); //Redirect the user
... 
```

那么我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T12:08:18.890

好的，我修复了我提到的错误，但它仍然无法正常工作。当我用 Chrome 查看源代码时，我注意到了这一点：

```
//Load the file containing the chat log
    function loadLog(){     
        var oldscrollHeight = $("#chatbox").attr("scrollHeight") - 20;
        $.ajax({
        !!!!!   url: ".html",!!!!!!!
            cache: false,
            success: function(html){        
                $("#chatbox").html(html); //Insert chat log into the #chatbox div               
                var newscrollHeight = $("#chatbox").attr("scrollHeight") - 20;
                if(newscrollHeight > oldscrollHeight){
                    $("#chatbox").animate({ scrollTop: newscrollHeight }, 'normal'); //Autoscroll to bottom of div
                }               
            },
        });
    } 
```

所以它没有回显 php 变量。这是整个代码：

```
<?
session_start();

if(isset($_GET['logout'])){ 

    //Simple exit message
    $fp = fopen($LOGFILE,".html", 'a');
    fwrite($fp, "<div class='msgln'><i>User ". $_SESSION['name'] ." has left the chat session.</i><br></div>");
    fclose($fp);

    session_destroy();
    header("Location: index.php"); //Redirect the user
}
function generateRandomString($length = 5) {
    $characters = '12345logLOG';
    $randomString = '';
    for ($i = 0; $i < $length; $i++) {
        $randomString .= $characters[rand(0, strlen($characters) - 1)];
    }
    return $randomString;
}
$LOGFILE = $randomString ;

function loginForm(){
    echo'
    <div id="loginform">
    <form action="index.php" method="post">
        <p>Anna nimimerkki:</p>
        <label for="name">Name:</label>
        <input type="text" name="name" id="name" />
        <input type="submit" name="enter" id="enter" value="Enter" />
    </form>
    </div>
    ';
}

if(isset($_POST['enter'])){
    if($_POST['name'] != ""){
        $_SESSION['name'] = stripslashes(htmlspecialchars($_POST['name']));
    }
    else{
        echo '<span class="error">Please type in a name</span>';
    }
}
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Chat - Customer Module</title>
<link type="text/css" rel="stylesheet" href="style.css" />
</head>

<?php
if(!isset($_SESSION['name'])){
    loginForm();
}
else{
?>
<div id="wrapper">
    <div id="menu">
        <p class="welcome">Welcome, <b><?php echo $_SESSION['name']; ?></b></p>
        <p class="logout"><a id="exit" href="#">Exit Chat</a></p>
        <div style="clear:both"></div>
    </div>  
    <div id="chatbox"><?php
    if(file_exists($LOGFILE,".html") && filesize($LOGFILE,".html") > 0){
        $handle = fopen($LOGFILE,".html", "r");
        $contents = fread($handle, filesize($LOGFILE,".html"));
        fclose($handle);

        echo $contents;
    }
    ?></div>

    <form name="message" action="">
        <input name="usermsg" type="text" id="usermsg" size="63" />
        <input name="submitmsg" type="submit"  id="submitmsg" value="Send" />
    </form>
</div>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js"></script>
<script type="text/javascript">
// jQuery Document
$(document).ready(function(){
    //If user submits the form
    $("#submitmsg").click(function(){   
        var clientmsg = $("#usermsg").val();
        $.post("post.php", {text: clientmsg});              
        $("#usermsg").attr("value", "");
        return false;
    });

    //Load the file containing the chat log
    function loadLog(){     
        var oldscrollHeight = $("#chatbox").attr("scrollHeight") - 20;
        $.ajax({
            url: "<?php echo $LOGFILE ;?>.html",
            cache: false,
            success: function(html){        
                $("#chatbox").html(html); //Insert chat log into the #chatbox div               
                var newscrollHeight = $("#chatbox").attr("scrollHeight") - 20;
                if(newscrollHeight > oldscrollHeight){
                    $("#chatbox").animate({ scrollTop: newscrollHeight }, 'normal'); //Autoscroll to bottom of div
                }               
            },
        });
    }
    setInterval (loadLog, 2500);    //Reload file every 2.5 seconds

    //If user wants to end session
    $("#exit").click(function(){
        var exit = confirm("Are you sure you want to end the session?");
        if(exit==true){window.location = 'index.php?logout=true';}      
    });
});
</script>
<?php
}
?>
</body>
</html>
enter code here 
```

# java - Java中的“无法解析或没有字段”错误

> ID：10976349
> 
> 赞同：0
> 
> 时间：2012-06-11T08:00:54.817
> 
> 标签：java

我已将 Java 分析器的源代码下载到 Eclipse 中。

在 where `CCTNode node = t.threadLocalCCTNode;`(in `getCurrentNode`method) 的行上，我收到以下错误：

```
t.threadLocalCCTNode cannot be resolved or is not a field 
```

同样在返回`Thread.currentThread().bytecodeIndex;`（在`getIndex`方法中）的行上，我得到一个类似的错误：

```
bytecodeIndex cannot be resolved or is not a field 
```

谁能告诉我这两个错误的原因是什么？

该类如下所示：

```
 /**
 * Copyright (c) 2010 Aibek Sarimbekov, Philippe Moret, Walter Binder
 * 
 * Permission to copy, use, modify (only the included source files, modification
 * of the binaries is not permitted) the software is granted provided this
 * copyright notice appears in all copies.
 * 
 * This software is  provided "as is" without express or implied warranty, and
 * with no claim as to its suitability for any purpose.
 */
package ch.usi.dag.jp2.runtime;

import ch.usi.dag.jborat.runtime.DynamicBypass;

public class JP2Runtime {
     private static final String objectConstructorMID;
     private static final String currentThreadMID;

    static CCTNode main;

    static {
        objectConstructorMID = "Ljava/lang/Object;.<init>()V".intern();
        currentThreadMID = "Ljava/lang/Thread;.currentThread()Ljava/lang/Thread".intern();
    }

    public static CCTNode getCurrentNode() {
        boolean old = DynamicBypass.getAndSet();
        try {
            Thread t = Thread.currentThread();
            CCTNode node = t.threadLocalCCTNode;

            if (node == null) {
                node = CCTNode.getRoot();
                t.threadLocalCCTNode = node;
                main = node;
            }
            return node;
        } finally {
            DynamicBypass.set(old);
        }
    }

    public static void setCurrentNode(CCTNode node) {
        boolean old = DynamicBypass.getAndSet();
        try {
            Thread.currentThread().threadLocalCCTNode = node;
        } finally {
            DynamicBypass.set(old);
        }
    }

    public static void setIndex(int index) {
        boolean old = DynamicBypass.getAndSet();
        try{
            Thread.currentThread().bytecodeIndex = index;
        }
        finally{
            DynamicBypass.set(old);
        }
    }

    public static int getIndex() {
        boolean old = DynamicBypass.getAndSet();
        try {
            return Thread.currentThread().bytecodeIndex;}
        finally {
            DynamicBypass.set(old);
        }
    }
    public static void enableProfiling(){
        boolean old = DynamicBypass.getAndSet();
        try {
            Thread.currentThread().activateBytecodeCounting=true;
        }
        finally {
            DynamicBypass.set(old);
        }
    }
    public static void disableProfiling(){
        boolean old = DynamicBypass.getAndSet();
        try {
            Thread.currentThread().activateBytecodeCounting=false;
        }
        finally {
            DynamicBypass.set(old);
        }
    }

    public static CCTNode invokeProfileInvocation(CCTNode oldNode, String MID, int numberOfBB) {
        boolean old = DynamicBypass.getAndSet();
        int bytecodeIndex = getIndex();
        try {
                CCTNode n = oldNode.profileCall(MID, bytecodeIndex, numberOfBB);
                Thread.currentThread().threadLocalCCTNode=n;
            return n;

        } finally {
            DynamicBypass.set(old);
        }
    }
    public static void invokeProfileInvocationForObjectConstructor(CCTNode oldNode) {
        boolean old = DynamicBypass.getAndSet();
        int bytecodeIndex = getIndex();
        try {
                CCTNode n = oldNode.profileCall(objectConstructorMID, bytecodeIndex, 1);

                CCTNode.bbSizes.put(objectConstructorMID, allocateNewArrayWithOneElement());
        } finally {
            DynamicBypass.set(old);
        }
    }
    public static void invokeProfileInvocationForCurrentThread(CCTNode oldNode) {
        boolean old = DynamicBypass.getAndSet();
        int bytecodeIndex = getIndex();
        try {
                CCTNode n = oldNode.profileCall(currentThreadMID, bytecodeIndex, 1);

                CCTNode.bbSizes.put(currentThreadMID, allocateNewArrayWithOneElement());
        } finally {
            DynamicBypass.set(old);
        }
    }
    private static int[] allocateNewArrayWithOneElement() {
        int[] array =  {1};
        return array;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:05:33.363

这意味着代码正在尝试访问对象字段，但对象的类没有定义该字段。

因为`t`是一个`Thread`（并且很可能是`Thread`来自 API 的类），我的 ararchnid 感觉告诉我您使用的是过时的 Java 版本。

检查代码页，看看它是否说明了它需要哪个 JDK/JRE 版本。

# regex - 使用 XQuery 进行模式匹配

> ID：10976350
> 
> 赞同：3
> 
> 时间：2012-06-11T08:00:59.467
> 
> 标签：regex, xpath, xquery

我有一个包含文本信息的 200MB 大小的巨大 XML 文档。数据早先存储在具有 2 列的 pagemaker 文件中。标记后，我发现某些文本带有连字符。这是因为无法适应格式的单词被分解为 2 个由连字符分隔的单词。此 XML 文档还出于另一个原因使用连字符。分隔短句（用于注释）。

我想找出单词之间的那些连字符。我注意到我想要删除的连字符有一个标准模式。例如。

连字符的第一次使用 - （我要查找和替换）

`question`会`ques-tion` `answer`是`ans-wer`

连字符的另一种用法是 - （未找到）

`Pattern matchin - Regex Expressions - ...`

所以两者的标准格式是 -

`space-space`

`letter-letter`

我如何使用 XQuery 找到所有这些，即第二个...或任何其他方式来找到它们...在巨大的 XML 文件中查找和替换这些...我的上帝..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:58:40.483

200 MB 不是很大。:)

如果您完全确定在标记/属性名称中找不到连字符，请使用 sed（不鼓励！）：

```
sed -E 's/([[:alpha:]]+)\-([[:alpha:]]+)/\1\2/g' doc.xml out.xml 
```

为此最好使用 XQuery，这样您就不必处理复杂的 XML 语法解析：

```
declare function local:copy-replace($element as element()) {  
  element {node-name($element)}  
          {$element/@*, 
        for $child in $element/node()  
        return
            if ($child instance of element())
            then local:copy-replace($child)  
            else replace($child, "(\w+)\-(\w+)","$1$2")
          }  
};

local:copy-replace(/*) 
```

它还没有处理属性。如果连字符文本出现在属性中，您将不得不单独提取和包含它们。

[在这个答案中，](https://stackoverflow.com/a/3876817/6953430)我很高兴地记住了一些不知名的用户作为一种模式。

# tfs - 如何使用 Cruisecontrol.net 中的解决方案文件从 TFS 获取最新的变更集版本？

> ID：10976352
> 
> 赞同：2
> 
> 时间：2012-06-11T08:01:05.847
> 
> 标签：tfs, cruisecontrol.net

我正在尝试使用 CC.NET 和 TFS 设置构建服务器。在我目前的工作地点，项目文件位于不同的文件夹中，而不是在同一个根文件夹中。我们正在使用一些位于不同位置的遗留代码，这些代码在许多项目中共享。解决方案文件知道所有目录的确切位置。

在 ccnet.config 文件的源代码控制部分，只有一个选项可以指定工作目录以获取最新版本。因此，如果对目录以外的目录进行任何代码更改，则不会更新工作目录并且每次构建都会失败。

有没有办法获取解决方案文件中指定的所有文件夹的最新版本并使用 msbuild 构建？

```
<sourcecontrol type="vsts" autoGetSource="true" applyLabel="false">
    <server>http://tfsserver/</server>
    <username></username>
    <password></password>
    <domain></domain>
    <workspace></workspace>
    <project>projectlocation</project>
    <workingDirectory>workingdirectory</workingDirectory>
</sourcecontrol> 
```

如果我走错了方向，请指导我正确的方法。谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:15:34.420

您可以使用`multi`类型源代码控制：

```
<sourcecontrol type="multi">
        <sourceControls>
            <filtered>
                <sourcecontrol type="vsts" autoGetSource="true" applyLabel="false">
                    <server>http://tfsserver/</server>
                    <username></username>
                    <password></password>
                    <domain></domain>
                    <workspace></workspace>
                    <project>projectlocation</project>
                    <workingDirectory>workingdirectory</workingDirectory>
                </sourcecontrol>
            </filtered>
            <filtered>
                <sourcecontrol type="vsts" autoGetSource="true" applyLabel="false">
                ...
                </sourcecontrol>
            </filtered>
        </sourcecontrols>
    </sourcecontrol> 
```

*更新：*另一种方法是使用一个工作区，然后使用不同的and进行多次`<task>`调用：`<workingdirectory>``<projectfile>`

```
<project name "X">
    <sourcecontrol type="vsts" autoGetSource="true" applyLabel="false">
        ...
    </sourcecontrol>
    <task>
        <msbuild>
          <workingDirectory>C:\dev\folder1</workingDirectory>
          <projectFile>solution1.sln</projectFile>
          ...
        </msbuild>
        <msbuild>
          <workingDirectory>C:\dev\folder2</workingDirectory>
          <projectFile>solution2.sln</projectFile>
          ...
        </msbuild>
        ...
    </task>
</project> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-12T01:16:28.113

无法让 CruiseControl.NET 读取您的解决方案文件并仅更新该解决方案中使用的工作目录。您必须在 CruiseControl.NET 中单独管理工作目录列表。

如果您喜欢编写脚本，您可以解析您的解决方案文件以获取所需的路径，并生成正确的、所需的 CCNet 配置文件。

# typo3 - 错字3 tt_guest 扩展错误 - 留言簿中的错误：未加载扩展 div2007

> ID：10976361
> 
> 赞同：0
> 
> 时间：2012-06-11T08:01:40.413
> 
> 标签：typo3

我安装了typo3`tt_guest`扩展。但是在前端它显示一个错误

```
Error in Guestbook: Extension div2007 has not been loaded. 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-12T13:12:58.633

安装[提到的扩展](http://typo3.org/extensions/repository/view/div2007/)，清除缓存并重新加载页面。

# sql-server-2008 - 动态 SQL 中的字符串连接

> ID：10976362
> 
> 赞同：1
> 
> 时间：2012-06-11T08:01:45.753
> 
> 标签：sql-server-2008, tsql

我想将参数传递给包含动态 SQL 的存储过程。

例如，

`DECLARE @sql NVARCHAR(1000)
SET @sql = 'select '+ @columnnames + ' from tablename'
EXECUTE(@sql)`

但是@columnnames 是在运行时创建的字符串，通过连接两个字符串，
如@columnnames = a + ' ' + b

但是，这似乎不起作用。我想我需要转义单引号。我试过传递
a + \' \' + b ，但这也不起作用。

有什么建议么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-11T08:21:12.917

```
declare @columnnames nvarchar(1000)
set @columnnames = 'a' + ' + '' '' + ' + 'b' 
```

生产

```
select a + ' ' + b from tablename 
```

当您需要在结果 varchar 中使用撇号时，请使用撇号两次。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T08:07:38.930

你少了一个逗号...

```
set @columnnames = a + ',' + b 
```

# php - PHP mySQL 健全性检查，查询错误

> ID：10976364
> 
> 赞同：1
> 
> 时间：2012-06-11T08:02:07.703
> 
> 标签：php, mysql

试图做一个简单的插入，这一行给我带来了问题。我一辈子都看不出它有什么问题。所以它必须是非常简单的东西，我需要另一双眼睛来明显地注意到我。

`mysql_query("INSERT INTO ".MLIST."(email, when) VALUES('".mysql_real_escape_string($_POST['email'])."', '".$timeNow."')") or die(mysql_error());`

错误是

> 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，了解在 ''email', 'when') VALUES('me@domain.com', '2012-06-11 03:58:55')' 附近使用的正确语法在第 1 行

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-11T08:04:36.507

`WHEN`是一个关键字 - 将其放在反引号内：

```
INSERT INTO ... (`email`, `when`) ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T08:17:58.173

根据我的经验，即使我的 SQL 语法正确，我也会遇到此错误。在检查了导致问题的原因后，我在另一个页面上发现了我的错误，该页面将数据发送到我所在的页面。

# c# - 如何调用不是在 .NET 中开发的 Web 服务

> ID：10976367
> 
> 赞同：1
> 
> 时间：2012-06-11T08:02:41.810
> 
> 标签：c#, web-services, windows-runtime

过去，我有调用 WCF 服务或 ASMX 服务的经验，您只需将服务引用添加到 .svc 或 .asmx url 并为您生成代理，然后您就可以调用方法的智能感知。

非 .net 网络服务也一样吗？

我需要调用这个 [http://www.earthtools.org/webservices.htm](http://www.earthtools.org/webservices.htm)

来自winrt应用程序中的c#代码，但我只是不知道如何

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-11T08:11:15.903

如果您有 WSDL，那么您可以添加对该服务的引用。但在这里你尝试调用 REST 服务。

您需要发送发布请求并将响应发送为：

```
private const string BASE_URL = "http://www.earthtools.org/timezone";
private const string REQUEST_URL_FORMAT = "{0}/{1}/{2}";

public timezone GetTimeZone(double latitude, double longitude)
{
    var uriString = String.Format(REQUEST_URL_FORMAT, BASE_URL, latitude, longitude);
    var requestUri = new Uri(uriString);

    var request = WebRequest.Create(requestUri);
    using (var response = request.GetResponse())
    {
        using (var responseStream = response.GetResponseStream())
        {
            var ser = new XmlSerializer(typeof (timezone));
            var result = (timezone) ser.Deserialize(responseStream);
            return result;
        }
    }
} 
```

示例从[这里](http://johnwsaunders3.wordpress.com/2009/01/18/a-rest-client-library-for-net-part-1/)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T08:08:59.240

如果它们是 SOAP Web 服务，那么您仍然可以将 Visual Studio 指向 .WSDL 端点并让它生成客户端代理。但这些似乎是 REST 服务。我认为您最好的选择是使用*XDocument.Load*或类似的东西，然后使用 Linq-to-XML 或 XML 反序列化将 XML 转换为 C# 类。

例如，假设您要调用[此服务](http://www.earthtools.org/height/52.4822/-1.8946)。获得 lat/lng 结果的简单方法是这样的：

```
XDocument xdoc = XDocument.Load("http://www.earthtools.org/height/52.4822/-1.8946");
var lat = (decimal)xdoc.Element("location").Element("latitude");
var lng = (decimal)xdoc.Element("location").Element("longitude"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-11T08:14:19.350

Microsoft 营销人员会告诉您，Web 服务是可互操作的，即使与异构系统也是如此。

这是一半的真相。Web 服务标准实际上是多平台的。然而，在球场上，它可能会更复杂一些。不同系统的不同理念会导致不同的行为。

不久前，我用 Visual Studio 2010 添加了一个用 Java Web 逻辑（不确定系统，我在客户端）构建的 Web 服务。这有点痛苦，因为：

1.  Visual Studio 代理向导只了解内联架构。这里的模式是 wsdl 中的引用，使用`<xsd:import>`. Visual Studio 不明白
2.  然后我转到 svcutil 以从命令行生成代理。由于 WSDL 文件中的一些错误（该文件是由服务提供者手动构建的），这不能直接工作。我必须要求服务提供商清理它的 wsdl 文件
3.  代表 DTO 的 xsd 文件由多个 Web 服务共享。这会导致在每个代理中重复相同的类，即使不是所有服务都使用。我不得不调整部分类以“重新包装”成独特的类。

总而言之，您可以限制术语“互操作性”。标准说它是可互操作的，但该领域并不总是这样。

我欢迎“休息”服务的新世界。这可以大大简化互操作性。缺点是您可能必须自己构建管道的一部分。

好消息，您提到的服务似乎包含这种休息理念。这并不简单，但您可以构建简单的 Http 请求（post、get 或 put）来查询此服务。

# javascript - jquery中的自定义事件

> ID：10976369
> 
> 赞同：1
> 
> 时间：2012-06-11T08:03:15.347
> 
> 标签：javascript, jquery

我在按钮上绑定自定义事件以应用 Jquery ui 按钮插件，例如：

```
 $(document).ready(function() { 
        $(".uibutton").live("CustomEvent", function() { $(this).button(); });
        $(".uibutton").trigger("CustomEvent");
      });

      <input type="button" class="uibutton" > 
```

现在这适用于按钮，`present in the MarkUP`但按钮`created dynamically`与`class uibutton`，这是行不通的。谁能告诉我为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:27:43.510

正如评论中提到的，问题似乎是即使自定义事件已成功绑定，即使对于具有类 uibutton 的动态创建的按钮，每次创建新按钮时仍需要再次触发该事件。.ready() 函数中的 .trigger() 只会影响当时存在的按钮。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:11:41.020

$(".uibutton).trigger("CustomEvent");

缺少关闭报价。

它应该是这样的：

$(".uibutton").trigger("CustomEvent");

尝试一下。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-11T08:42:12.567

我知道你提到了使用`on()`，但它并没有工作，但请确保你已经像这样使用它：

```
$(document).on("click", ".uibutton", function() {
  /// My code....
}); 
```

并再次测试。

问题是，您需要将此处理程序添加到`document`元素，这在文档中可能并不明显。只有这样，您才能`on()`像`live()`. 请务必使用`on()`版本，因为后者将在某一时刻从 jQuery 中删除。

# php - 如何使用备份恢复 information_schema 数据库

> ID：10976371
> 
> 赞同：1
> 
> 时间：2012-06-11T08:03:18.540
> 
> 标签：php, mysql, phpmyadmin, wamp, information-schema

我有一个来自家里的 WAMP 服务器 MYSQL 数据库的备份，我需要将它安装在我的工作 WAMP 设置中。

我目前无权访问我的原始数据库，因此不能只导出特定的表。

这是 phpmyadmin 消息：

```
SQL query:

--
-- Database: `information_schema`
--
CREATE DATABASE  `information_schema` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;

MySQL said: 

#1044 - Access denied for user 'root'@'localhost' to database 'information_schema' 
```

information_schema 数据库似乎被锁定，并且在 phpmyadmin 中恢复失败。在 MYSQL Workbench 中，它忽略“访问被拒绝”消息继续备份，但中途崩溃。

我曾尝试删除 sql 文件中的 database_schema 行，但它看起来像一堆乱七八糟的文本，无法弄清楚如何删除它。

另一件事是我真的需要它吗？或者我可以删除它。我不太确定那里存储了哪些信息。

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-11T08:11:13.037

MySQL [INFORMATION_SCHEMA](http://dev.mysql.com/doc/refman/5.5/en/information-schema.html)数据库是一个系统数据库：

> INFORMATION_SCHEMA 提供对数据库元数据、有关 MySQL 服务器的信息（例如数据库或表的名称、列的数据类型或访问权限）的访问。有时用于此信息的其他术语是数据字典和系统目录。

它在您创建或修改数据库和表时由 MySQL 修改。*您*不能修改 INFORMATION_SCHEMA 数据库：

> 虽然您可以使用 USE 语句选择 INFORMATION_SCHEMA 作为默认数据库，但您只能读取表的内容，而不能对其执行 INSERT、UPDATE 或 DELETE 操作。

一个健全的 MySQL 导出实用程序在导出数据库时会忽略系统表，您根本不应该导入这个数据库。只需导入“用户”数据库；MySQL 将自行构建/更新系统数据库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:43:48.630

在@GeoPhoenix 的帮助下，我自己设法做到了这一点。

我在 Dreamweaver 中打开了 sql 文件，然后使用 ctrl-F 找到“-- -- 数据库：”，并删除了直到下一个“--- 数据库：”部分的所有信息，并重复该过程，直到留下我的信息需要保留。

谢谢大家的帮助。

# java - 如何将 JDeveloper 创建的 WSDL 自动导入 OSB？

> ID：10976372
> 
> 赞同：1
> 
> 时间：2012-06-11T08:03:21.723
> 
> 标签：java, xsd, wsdl, jdeveloper, osb

任何人都可以帮助我如何将 JDeveloper 创建的 WSDL 自动注册到 OSB 中？只是我想通过在 JDEV 中使用创建 Web 服务向导选项来创建一些 WSDL，并自动将这些 WSDL 连同它们的 XSD 文件注册到 OSB 中。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T23:14:53.240

我不认为您可以自动将 WSDL 导入 OSB 项目。

例如，如果您为 OSB 使用 Eclipse 插件，那么您需要手动通过导入资源来导入 WSDL 并在定义新的代理/业务服务时使用它们。

我无法想象无论如何您都需要此功能的用例。你知道吗？

# ios - 需要帮助创建用于 HTML5 视频的透明 MP4 视频

> ID：10976374
> 
> 赞同：2
> 
> 时间：2012-06-11T08:03:34.083
> 
> 标签：ios, ipad, html, video, transparent

我制作了一个透明的 .flv 视频我使用 jwplayer 播放 .flv 视频，效果很好，透明度在那里，但我的主要问题是让它在 iOS 系统上工作，因为 iOS 不支持 .flv 播放我不得不使用 html5视频标签来播放文件，因此我将.flv转换为所有html5视频格式，即.webm、.ogg、.mp4，它们不保留.flv文件的透明度所以我需要一个在iOS系统上工作的透明视频，尤其是 iPad。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-24T04:33:10.290

I had the same problem before in iOS, and also the video always goes fullscreen.

I make a little trick to solved this using sprite image CSS technique and html5 audio.
you can refer to this thread : [Multiple HTML5 media elements on one page in iOS (iPad)](https://stackoverflow.com/questions/9387853/multiple-html5-media-elements-on-one-page-in-ios-ipad/9496057#9496057)
In case of you, you can make a sprite image CSS - with transparent effect.

# mysql - DBCP 连接池泄漏：Connection.close() 不将连接返回到池并且连接已用尽

> ID：10976376
> 
> 赞同：0
> 
> 时间：2012-06-11T08:03:40.693
> 
> 标签：mysql, jdbc, connection, connection-pooling

DBCP 连接池泄漏。

当程序返回使用的连接时，连接资源没有返回到池中，被耗尽！！！

因此，在 maxActive 时间 Connection.close() 中，池在 getConnection() 时挂起。

请告诉我如何解决这个问题！！！

图书馆 ：

commons-dbcp-1.4.jar commons-pool-1.6.jar mysql-connector-java-5.1.12.jar

mysql版本：5.5.9

资料来源：

```
import java.sql.Connection;
import java.sql.Driver;
import java.sql.DriverManager;

class ConnectionManager {

    static {

        java.sql.DriverManager.registerDriver((java.sql.Driver) 
                  Class.forName("org.apache.commons.dbcp.PoolingDriver").newInstance()) ;
        java.sql.DriverManager.registerDriver((java.sql.Driver) 
                  Class.forName("com.mysql.jdbc.Driver").newInstance()) ;
   }

   public Connection getConnection(String dataSourceName) {

       return DriverManager.getConnection("jdbc:apache:commons:dbcp:/"+dataSourceName);
   }

} 
```

查询来源::

```
String dsName = "pool" ;

ConnectionManager pool = new ConnectionManager();

java.sql.Connection conn = pool.getConnection(dsName);

conn.setAutoCommit(true);
if( m_sql.trim().toUpperCase().startsWith("INSERT") )
    pstmt = conn.prepareStatement(m_sql, Statement.RETURN_GENERATED_KEYS);
else
    pstmt = conn.prepareStatement(m_sql);

pstmt.setFetchSize(100);

boolean hasRS = pstmt.execute();

ResultSet resSet = null ;

if (hasRS) {
   resSet = pstmt.getResultSet();

} else {
   resSet = null;
   return ;
}

while(resSet.next()) {

     //resultSet processing ....
     ::::::
}

resSet.close() ;
pstmt.close() ;
conn.close() ;  --> don't return the connection to the pool and exhaust the connection...;;; 
```

:::

poo.jocl :: 这位于 $CLASSPATH

```
<object class="org.apache.commons.dbcp.DriverManagerConnectionFactory">
    <string value="jdbc:mysql://localhost:3306/db?useUnicode=true&amp;traceProtocol=true&amp;characterEncoding=UTF-8"/>
    <string value="usera"/>
    <string value="passa"/>
</object>

<object class="org.apache.commons.pool.impl.GenericObjectPool">
    <object class="org.apache.commons.pool.PoolableObjectFactory" null="true" />
    <int value="100" /> <!-- maxActive -->
            <byte value="1" /> <!-- whenExhaustedAction -->
    <long value="10000" /> <!-- maxWait -->
    <int value="30" /> <!-- maxIdle -->
    <int value="3" />  <!-- minIdle -->
    <boolean value="true" /> <!-- testOnBorrow -->
    <boolean value="true" />  <!--testOnReturn -->
    <long value="600000" />  <!-- timeBetweenEvictionRunsMillis -->
    <int value="5" />  <!-- numTestsPerEvictionRun -->
    <long value="3600000" /> <!-- minEvictableIdleTimeMillis -->
    <boolean value="true" /> <!-- testWhileIdle -->
</object>

<object class="org.apache.commons.pool.KeyedObjectPoolFactory" null="true"/>    
<string null="true"/>   
<boolean value="false"/>
<boolean value="true"/> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:15:26.033

由于注册了 MySQL 驱动程序，您可能没有使用 Apache 连接池。尝试删除它。从 JDBC 4.0 开始，您当然根本不需要注册 MySQL 驱动程序。事实上，由于所有的 XML 配置，我认为您根本不需要那个静态块。尝试删除它。

# vb.net - 使用代码根据数据库或数据集列长度设置文本框控件的 MaxLength

> ID：10976377
> 
> 赞同：0
> 
> 时间：2012-06-11T08:03:41.723
> 
> 标签：vb.net, winforms, data-binding, sql-server-2012

我们有一个带有许多`TextBox`控件的表单，并且希望在`MaxLength`不手动操作的情况下更改每个控件。

我们希望将每个的长度匹配到与数据库表或数据集列长度相同的长度。

每个都使用数据源的 Text 属性`TextBox`绑定到数据库。`DataBindings`

我在想如果可能的话，循环遍历控件集合并以某种方式通过数据集的列执行相同的操作，并检查控件是否是文本框并从数据集中查找每个的长度并使用它来设置`MaxLength`属性但我不知道该怎么做。

# http - RESTful 数据结构模式

> ID：10976399
> 
> 赞同：7
> 
> 时间：2012-06-11T08:05:45.500
> 
> 标签：http, design-patterns, rest, data-structures

我尝试在任何地方进行谷歌搜索和搜索，但找不到关于这个主题的权威权威。在忠实于 REST 原则的同时，我应该如何设计 HTTP 接口：

1.  **有序列表（获取、添加、插入位置、重新排序、删除）**

2.  **一组（获取、添加、删除）**

3.  **哈希表（获取、添加、删除）**

**注意**：这些数据结构将包含对具有已知 ID 的现有资源的引用

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-11T08:13:39.657

这就是我对有序列表和哈希表的处理方式。我猜对于集合和列表的方法是相同的：

# 有序列表

获取项目 123：

```
GET /list/123 
```

将一个项目附加到列表中：

```
POST /list/ 
```

将新项目插入位置 5：

```
POST /list/?position=5 
```

将项目 123 移动到位置 3：

```
PUT /list/123?position=3 
```

删除第 123 项：

```
DELETE /list/123 
```

删除位置 3 的项目：

```
DELETE /list/?position=3 
```

当然，您的 API 在进行插入和删除时应该更新所有元素的索引。

# 哈希表

获取项目“somekey”：

```
GET /hashtable/somekey 
```

添加项目“somekey”：

```
POST /hashtable/somekey 
```

删除项目“somekey”：

```
DELETE /hashtable/somekey 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T08:13:59.020

@dadads

你不能直接定义这样的接口。

> 有序列表（获取、添加、插入位置、重新排序、删除）

通过排除“插入位置”和“重新排序”，您可以完美地实现“获取”、“添加”和“删除”，例如：

*   你定义你的资源 /service/users
*   您可以使用 POST /service/users 将新用户添加到“用户”集合
*   您可以 GET /service/users 检索用户
*   您可以 GET /service/users/user-id 检索特定用户
*   您可以从用户集合中删除 /service/users/user-id

这是一个非常粗略的例子，尽管它概述了一些想法。为了实现“重新排序”和“插入位置”，您需要实现自己的操作语义，您可以将其包含在资源表示中，并让客户知道如何执行这些操作。作为参考，您可以查看此 JSON PATCH 规范提案：[https](https://www.rfc-editor.org/rfc/rfc6902) ://www.rfc-editor.org/rfc/rfc6902 ，它试图描述此类操作。

不必使用现有的媒体格式，您可以在自己的命名空间下定义自己的媒体格式，例如：application/vnd.your-company.format-name+json 描述这些功能并将此信息发布给客户端。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-11T08:42:01.940

您应该将传输机制与底层应用程序分离。我会考虑正确设计应用程序，然后弄清楚如何通过 HTTP 访问它。通过这种方式，您可以轻松添加或更改传输机制（SOAP、SCA 等），而不会影响底层应用程序。

正确设计应用程序后，请考虑通过适配器或访问者模式等从 HTTP 请求访问它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-12-09T20:11:52.440

这是我重新排序的想法。

有一种称为 PATCH 的 HTTP 方法用于更新资源的片段。为您的资源提供一个名为 的新属性`index`，然后使用 PATCH 方法进行调用

```
PATCH /collection

[
  {
    "id: "original index 0"
    "index": 1
  }
  {
    "id: "original index 1"
    "index": 0
  }
] 
```

然后您的服务器后端需要弄清楚如何以原子方式执行此操作。但就接口而言，我认为这是忠于 RESTful 的最佳方式。

或者，有一个更好的解决方案，但它可能不适用于每个人的情况。由于排序总是取决于某种标准，它甚至可以像插入顺序一样简单。让您的集合 url 支持一个`orderBy`查询字符串，并让它`orderBy`决定结果的排序方式。然后在来自客户端的重新排序调用期间，只需更新用于排序条件的资源属性。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-04-04T17:56:54.473

我来这个问题主要是为了寻找一种 RESTful 方式来重新排序。我真的不喜欢任何答案，所以这是我认为最 RESTful 的。

对于重新排序，您可以将订单作为资源：

`/list/order`

然后您可以对其进行正常操作（对于这些示例，假设列表中当前包含 5 个项目）：

```
"items":" [
     {
         "id": "A",
         "name": "Monkey"
     },
     {
         "id": "B",
         "name": "Cow"
     },
     {
         "id": "C",
         "name": "Horse"
     },
     {
         "id": "D",
         "name": "Turkey"
     },
     {
         "id": "E",
         "name": "Tasmanian Devil"
     },
] 
```

请注意，“订单”不包含在资源响应中。不需要 - 顺序由项目的响应顺序隐式指定。

**`GET /list/order`**

以正确的顺序返回项目 ID 列表

`['A','B','C','D','E']`

**`POST /list/order`** 带有效载荷`['D','B','C','A','E']`

**`GET /list/order`**

以正确的顺序返回项目 ID 列表

`['D','B','C','A','E']`

同样显然，当您执行`GET`on时，您会以正确的顺序返回列表中的项目`/list`。

**`GET /list`**

以正确的顺序返回项目列表

```
"items":" [
     {
         "id": "D",
         "name": "Turkey"
     },
     {
         "id": "B",
         "name": "Cow"
     },
     {
         "id": "C",
         "name": "Horse"
     },
     {
         "id": "A",
         "name": "Monkey"
     },
     {
         "id": "E",
         "name": "Tasmanian Devil"
     },
] 
```

# asp.net - MEF 应用程序中的 OpenGeneric 支持

> ID：10976401
> 
> 赞同：0
> 
> 时间：2012-06-11T08:06:13.740
> 
> 标签：asp.net, .net, wpf, mef

我参考了[http://pwlodek.blogspot.in/2010/12/introduction-to-interceptingcatalog.html](http://pwlodek.blogspot.in/2010/12/introduction-to-interceptingcatalog.html)

这是一个很好的例子，但我在使用这段代码时有点困惑。我正在创建一个 WPF + Prism + MEF 应用程序，我正在定义所有依赖项，就像它在“Stock Trader RI”示例中定义的那样，根据 Stock Trader RI 我正在将所有模块初始化为 MyBootstrapper 类。在我的项目中，我需要支持 Open Generic，就像上面的链接示例中提供的那样。现在我的问题是我在哪里实现示例代码，我正在尝试将它实现到 MyBootstrapper ConfigureAggregateCatalog() 方法中

```
[CLSCompliant(false)]
public partial class ImsBootstrapper : MefBootstrapper
{
      protected override void ConfigureAggregateCatalog()
      {

          this.AggregateCatalog.Catalogs.Add(new AssemblyCatalog(typeof (ImsBootstrapper).Assembly));

          this.AggregateCatalog.Catalogs.Add(new AssemblyCatalog(typeof (ImsCommands).Assembly));

          this.AggregateCatalog.Catalogs.Add(new AssemblyCatalog(typeof (DalModel).Assembly));

          this.AggregateCatalog.Catalogs.Add(new AssemblyCatalog(typeof (TestClass).Assembly));

          this.AggregateCatalog.Catalogs.Add(new AssemblyCatalog(typeof (TestClassImp).Assembly));

          // Create source catalog
          var typeCatalog = new TypeCatalog((typeof(RegistrationViewModel)));

          // Create catalog which supports open-generics, pass in the registry
          var genericCatalog = new GenericCatalog(new MyGenericContractRegistry());

          // Aggregate both catalogs
          var aggregateCatalog = new AggregateCatalog(typeCatalog, genericCatalog);

          // Create the container
          //var container = new CompositionContainer(aggregateCatalog);
          this.Container = new CompositionContainer(aggregateCatalog); 

          this.AggregateCatalog.Catalogs.Add(new AssemblyCatalog(typeof(StudentModel).Assembly));

      } 
```

但它不起作用，请指导我在哪里使用上面链接中给出的示例以获得开放通用（开放通用公共类存储库示例：IRepository）支持

1.  在引导程序中
2.  或者有些是别的

如果您仍然对我的问题感到困惑，请给我一个示例如何在“Stock Trader RI”演示应用程序中使用“MefContrib”为棱镜获得 OpenGeneric 支持我试图通过以下链接中给出的示例来实现这一点[http:/ /pwlodek.blogspot.in/2010/12/introduction-to-interceptingcatalog.html](http://pwlodek.blogspot.in/2010/12/introduction-to-interceptingcatalog.html)但很困惑在 MyBootstrapper 或其他地方调用此代码 Wather 的位置。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T10:11:08.370

您可以简单地使用 .NET 4.5。在该版本中，对开放泛型的支持已经是 MEF 的一部分，您不需要做任何特别的事情。请参阅[.NET Framework 4.5 中的新增功能](http://msdn.microsoft.com/en-us/library/ms171868%28v=vs.110%29.aspx)。

.NET 4.5 尚未发布，但候选发布版[已在“上线”许可下可用](http://www.microsoft.com/visualstudio/11/en-us/downloads/go-live)。这意味着您可能已经在生产中使用它。

**编辑**：如果您不能使用 .NET 4.5，您仍然可以从[mef.codeplex.com](http://mef.codeplex.com/releases/view/79090)下载并使用最新的 MEF2 预览。例如，[MEF2 Preview 5](http://mef.codeplex.com/releases/view/79090)支持开放泛型并将在 .NET4 上运行。

# android - 在android中设置imageview位图时的奇怪行为

> ID：10976402
> 
> 赞同：2
> 
> 时间：2012-06-11T08:06:14.900
> 
> 标签：android, memory, imageview, virtual-machine

我正在开发一个应用程序，它将首先从相机拍摄的图像 uri 保存在 sqlite3 db 中，然后将其取回以将其设置为 imageview。我在 vm 中遇到了众所周知的内存不足错误。我尝试了在其他各种问题中找到的各种方法，例如：1）

> 那么你
> 
> ```
> either need to encourage the imageView to recycle the previous bitmap - possibly with setImageView("")
> or get the bitmap from the URI and use setImageBitmap(android.graphics.Bitmap) instead; then you can do 
> ```
> 
> setImageBitmap(null) 和 bitmap.recycle()。

2)

```
((BitmapDrawable)imageView.getDrawable()).getBitmap().recycle(); 
```

3)

```
protected void onDestroy() {
        // TODO Auto-generated method stub
        super.onDestroy();
        unbindDrawables(findViewById(R.id.showDataViewRoot));
        System.gc();

    } 
```

奇怪的是，它们都不起作用，并且错误不断出现。主要是因为错误出现在第一次尝试显示图像本身时（所以我猜没有机会回收）。搜索时，我发现以下链接： [http](http://www.vogella.com/articles/AndroidCamera/article.html#example) : //www.vogella.com/articles/AndroidCamera/article.html#example 从那里得到提示，我做了以下更改：

```
imageView.setImageBitmap(BitmapFactory.decodeStream(new FileInputStream(path))); 
```

为我的 ShowData.java 完成修改后的代码（带有注释的先前尝试）。在 fillImage() 中设置图像的代码：

```
package org.dheeraj.imnci;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.util.ArrayList;

import android.app.Activity;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.drawable.BitmapDrawable;
import android.net.Uri;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemSelectedListener;
import android.widget.ArrayAdapter;
import android.widget.ImageView;
import android.widget.Spinner;
import android.widget.TableLayout;
import android.widget.TableRow;
import android.widget.TextView;

public class ShowData extends Activity {
    private Spinner spinnerId;
    private DbHelper dbHelper;
    private SQLiteDatabase dbReader;
    private Cursor cursor;
    private ArrayList<String> idList;
    private ArrayAdapter<String> adapter;
    private String id;
    private TableLayout dataTable;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.show_data);
        dbHelper = new DbHelper(this);
        spinnerId = (Spinner) findViewById(R.id.spinnerData);
        dataTable = (TableLayout) findViewById(R.id.tableShowData);
        fillSpinner();

    }

    private void fillData(String id) {
        String tableNames[] = { "mother_reg", "anc_02", "anc_03", "anc_04",
                "tt1", "tt2", "ttb", "abortions", "po", "pnc", "ifa" };
        for (String table : tableNames) {
            getDataFromTable(table, id);
        }
    }

    private void getDataFromTable(String table, String id) {
        // TODO Auto-generated method stub

        getTableTitle(table);
        getTableColumns(table, id);
    }

    private void getTableColumns(String table, String id) {
        // TODO Auto-generated method stub
        SQLiteDatabase dbReader;
        Cursor cursor;
        TableRow colRow;
        TextView labelView;
        TextView valueView;
        String label;
        String value;

        dbReader = dbHelper.getReadableDatabase();
        try {
            if (table.equals("mother_reg"))
                cursor = dbReader.query(table, null, "mid=" + id, null, null,
                        null, null, null);
            else
                cursor = dbReader.query(table, null, "ID=" + id, null, null,
                        null, null, null);

            Log.d("getTableColumns", table);
            if (cursor.moveToFirst()) {
                do {
                    Log.d("in cursor", "" + cursor.getColumnCount());
                    for (int i = 0; i < cursor.getColumnCount(); i++) {
                        label = cursor.getColumnName(i);
                        value = cursor.getString(i);

                        labelView = new TextView(this);
                        valueView = new TextView(this);
                        colRow = new TableRow(this);

                        labelView.setText(label);
                        valueView.setText(value);
                        colRow.addView(labelView);
                        colRow.addView(valueView);
                        dataTable.addView(colRow);
                    }

                } while (cursor.moveToNext());

            }
            cursor.close();
        } finally {
            if (dbReader != null)
                dbReader.close();
        }
    }

    private void getTableTitle(String table) {
        // TODO Auto-generated method stub
        TableRow tabRow;
        TextView tv;
        String title = table.replace('_', ' ').toUpperCase();
        tabRow = new TableRow(this);
        tv = new TextView(this);
        tv.setText(title);
        tv.setTextSize(20);
        tabRow.addView(tv);
        dataTable.addView(tabRow);
    }

    private void fillImage(String id) {
        // TODO Auto-generated method stub

        ImageView imageView;
        boolean picFound;

        SQLiteDatabase dbReader;
        Cursor cursor;

        String path = null;

        imageView = (ImageView) findViewById(R.id.showDataImage);

        picFound = false;
        dbReader = dbHelper.getReadableDatabase();
        try {
            String tableName = "pictures";
            String[] columns = { "mid", "uri" };
            Log.d("id value", "" + id);
            cursor = dbReader.query(tableName, columns, "mid=" + id, null,
                    null, null, null, null);
            Log.d("gotCursor", "foundcursor");
            if (cursor.moveToFirst()) {

                Log.d("in cursor", "" + cursor.getColumnCount());
                path = cursor.getString(cursor.getColumnIndex("uri"));
                Log.d("show_data:imagepath", path);
                if (path != null)
                    picFound = true;
                // imgUri = Uri.parse(new File(path).toString());
                /*
                 * bmpImage = BitmapFactory.decodeFile(path);
                 * 
                 * 
                 * 
                 * scaledBmp = Bitmap.createScaledBitmap(bmpImage, 100, 150,
                 * true); bmpImage.recycle(); bmpImage = null;
                 */

            }
            cursor.close();
        } finally {
            if (dbReader != null)
                dbReader.close();
        }

        if (!picFound)
            imageView.setImageResource(R.drawable.default_user);
        else {
            // Log.d("inimageview", imgUri.toString());

            try {
                imageView.setImageBitmap(BitmapFactory.decodeStream(new FileInputStream(path)));
            } catch (FileNotFoundException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

        }
        // LayoutParams lv = new LayoutParams(200, 300);
        // imgRow.setLayoutParams(lv);

    }

    @Override
    protected void onDestroy() {
        // TODO Auto-generated method stub
        super.onDestroy();
        unbindDrawables(findViewById(R.id.showDataViewRoot));
        System.gc();

    }

    private void unbindDrawables(View view) {
        if (view.getBackground() != null) {
            view.getBackground().setCallback(null);
        }
        if (view instanceof ViewGroup && !(view instanceof AdapterView)) {
            for (int i = 0; i < ((ViewGroup) view).getChildCount(); i++) {
                unbindDrawables(((ViewGroup) view).getChildAt(i));
            }
            ((ViewGroup) view).removeAllViews();
        }
    }

    @Override
    protected void onPause() {
        // TODO Auto-generated method stub
        super.onDestroy();
        unbindDrawables(findViewById(R.id.showDataViewRoot));
        System.gc();
    }

    void fillSpinner() {
        dbReader = dbHelper.getReadableDatabase();
        String columns[] = { "mid" };

        try {
            cursor = dbReader.query("mother_reg", columns, null, null, null,
                    null, "mid DESC");
            if (cursor.moveToFirst()) {
                idList = new ArrayList<String>();
                do {
                    idList.add(cursor.getString(cursor.getColumnIndex("mid")));
                } while (cursor.moveToNext());
                cursor.close();

                adapter = new ArrayAdapter<String>(this,
                        android.R.layout.simple_spinner_item, idList);
                adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
                spinnerId.setAdapter(adapter);
                spinnerId
                        .setOnItemSelectedListener(new OnItemSelectedListener() {

                            @Override
                            public void onItemSelected(AdapterView<?> arg0,
                                    View arg1, int arg2, long arg3) {
                                // TODO Auto-generated method stub
                                id = arg0.getItemAtPosition(arg2).toString();
                                // dataTable.removeAllViews();
                                unbindDrawables(dataTable);
                                fillImage(id);
                                fillData(id);
                            }

                            @Override
                            public void onNothingSelected(AdapterView<?> arg0) {
                                // TODO Auto-generated method stub

                            }
                        });
            }
        } finally {
            if (dbReader != null)
                dbReader.close();
        }
    }
} 
```

我无法理解的是它是如何工作的。与在 imageview.setimageuri(Uri.parse(path)) 中直接使用文件相比，采用输入流是否会以某种方式减小大小，或者它使用某种缓冲区？只是想知道出了什么问题。请告知是否需要有关我的应用程序代码的更多信息。但是这个奇怪的内存问题真的让我感到困惑，我真的对不同线程中提到的这么多方法感到困惑。关于我的应用程序的更多信息：目标 api：1.6 中间 SDK 版本：4

编辑 1：我很抱歉，但在使用 ShowData 进行一些试验后，这种方法也失败了。以下是 Logcat 的屏幕截图： ![在此处输入图像描述](../Images/997566f53708ecd9bec04cfa85a047e4.png) 现在我真的很困惑。只是如何在我的图像视图中显示相机保存在 sdcard 中的简单图像？我真诚地感谢您的任何帮助。

编辑 2：尝试在 fillimage 视图方法中进行更多更改：

```
 try {
            if(((BitmapDrawable)imageView.getDrawable())!=null)
            ((BitmapDrawable)imageView.getDrawable()).getBitmap().recycle();

            imageView.setImageBitmap(BitmapFactory.decodeStream(new FileInputStream(path)));
        } catch (FileNotFoundException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } 
```

它现在工作顺利，除了它给出了以下错误： ![在此处输入图像描述](../Images/0836a058a71df1ca5a1e2c8dedef3f45.png) 我现在真的很想找到这件事的根源。请提供任何指导。对于这么多的编辑，我感到非常抱歉，但我想继续告知任何进一步的进展。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:41:50.350

如果您想全屏显示单个图像，请使用 Intent.ACTION_VIEW 启动活动：

```
Intent i = new Intent(Intent.ACTION_VIEW);
i.setDataAndType(uri, "image/jpeg");
startActivity(i); 
```

如果要显示缩略图，然后通过二次采样减小这些图像的大小，只需将此选项添加到 BitmapFactory：http: [//developer.android.com/reference/android/graphics/BitmapFactory.Options.html#inSampleSize](http://developer.android.com/reference/android/graphics/BitmapFactory.Options.html#inSampleSize)

编辑1：

有很好的文档：http:
[//developer.android.com/training/displaying-bitmaps/load-bitmap.html](http://developer.android.com/training/displaying-bitmaps/load-bitmap.html)

编辑2：根据你的第二个问题：

```
Bitmap oldBitmap = ((BitmapDrawable) imageView.getDrawable()).getBitmap();
imageView.setImageDrawable(null); //this should help
oldBitmap.recycle();
imageView.setImageBitmap(newBitmap); 
```

# java - ArrayList - LinkedList 说明

> ID：10976407
> 
> 赞同：-1
> 
> 时间：2012-06-11T08:06:47.073
> 
> 标签：java, arrays, arraylist, linked-list

谁能清楚地告诉我为什么？

ArrayList中读取很简单，（我们可以通过它的数组索引访问），为什么不是linkedList

在 arrayList 中插入元素很难我听说为什么？容易在linkedList 为什么？

删除数组列表中的元素很难为什么？容易在linkedList 为什么？

我知道一些关于数组的事情，但是在linkedXXX中发生了什么

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T08:09:44.527

在 ArrayList 中，你在内存中保存了一个引用数组，也就是说，你有一个内存位置。当您请求 ArrayList 的第一个元素时，您只需访问内存位置。当您访问第 10 个元素时，您访问的内存位置是引用大小的 10 倍。

在 LinkedList 中，您有*一个*元素，该元素具有对下一个元素的引用。下一个引用下一个，依此类推。如您所见，如果不逐个获取下一个元素，就无法直接访问 LinkedList 中的第 10 个元素。

所以，你的问题：

**在 arrayList 中插入元素是 touch 我听说为什么？容易在linkedList 为什么？**

将元素插入 ArrayList 有两个问题：

1.  当您将一个元素放在位置 3 时，您需要首先从位置 3 开始移动每个元素并将它们向右移动一次（3 变为 4，4 变为 5，等等...），以便 3 变为空，您可以放入新元素

2.  如果支持 ArrayList 的数组已满，则需要创建一个新数组！这是非常昂贵的，因为您需要重新分配内存，*然后*将所有元素复制到新数组中，并销毁旧数组。

另一方面，在 Linkedlist 中，您转到指向 2 的元素 1，然后转到 2。在 2 中，有对旧元素 3 的引用，您将其临时存储在其他地方。您将其替换为对新元素的引用，然后在新元素中，将 next 指向旧的 3。因此，这样做成本更低。

**删除arraylist中的元素是触摸为什么？容易在linkedList 为什么？**

与插入类似的原因。在 ArrayList 中，您必须再次将所有元素向下移动，在 LinkedList 中，一旦您位于元素 2，您将其下一个点指向 4，瞧，3 被删除。

**如果您要以随机顺序访问元素，但为了**完整性， ArrayLists 非常棒，但存在添加和减去的问题。**LinkedLists 非常适合添加和删除，但获取不是第一个或最后一个元素需要额外的成本。所以总会有取舍！**

 *** * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T08:11:02.333

ArrayList 由一个数组支持，该数组不能增长或缩小，也不能插入或删除元素。因此插入和删除是昂贵的操作，因为必须创建一个新数组并将现有值从一个数组复制到另一个数组。但是数组可以通过索引访问，所以这里的随机访问要快得多。

LinkedList 由节点对象组成，这些节点对象在一个方向或两个方向上具有彼此的指针（是的，我知道）。删除这些节点之一或插入一个新节点非常便宜，但要获得节点 nr。12345，你必须从头开始，遍历 12344 个节点，这意味着这里的随机访问非常昂贵。注意：Java LinkedList 不仅是 List，顺便说一句，它还实现了[`Queue`](http://docs.oracle.com/javase/6/docs/api/java/util/Queue.html)和[`Deque`](http://docs.oracle.com/javase/6/docs/api/java/util/Deque.html)接口。

我认为两者都同样适合简单的迭代，但底层机制完全不同。**

# iphone - Cocos2d。CCLayer 的一个实例，带有许多场景的粒子？

> ID：10976415
> 
> 赞同：2
> 
> 时间：2012-06-11T08:07:33.487
> 
> 标签：iphone, ios, cocos2d-iphone, particles, cclayer

我想为一些场景创造一个星空。主要问题是需要一些时间才能用粒子填充所有屏幕。有人建议我在开始时创建整个天空并在调用之间保存它。我试过这样的事情：

```
@implementation StarrySky

static StarrySky *_starrySky;

- (id)init
{
    if ((self = [super init])) {
        NSArray *starsArray = [NSArray arrayWithObjects:@"Stars1.plist", @"Stars2.plist", @"Stars3.plist", nil];
        for(NSString *stars in starsArray) {        
            CCParticleSystemQuad *starsEffect = [CCParticleSystemQuad particleWithFile:stars];        
            [self addChild:starsEffect z:-2];
        }
    }
    return self;
}

+ (StarrySky *)sharedStarrySky
{
    if (!_starrySky) {
        _starrySky = [[StarrySky alloc] init];
    }
    return _starrySky;
}

- (void)dealloc
{
    _starrySky = nil;
    [super dealloc];
}

@end 
```

但是粒子停止移动。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T10:22:35.790

一个应该可行的解决方案是创建星形粒子系统并将其添加到您的第一个场景（即主菜单）。将其设置为不可见或将其移出屏幕或在背景图像后面（最低 z 顺序），以便它可以创建一些星星而不实际在菜单中显示任何星星。

现在，当您切换到实际游戏场景时，您分配/初始化游戏场景，然后从当前运行的场景中移除星形粒子系统并将其添加到游戏场景中。基本上你是把它从一个场景移动到另一个场景。

现在您可以调用 replaceScene 与现在包含已经激活的星粒子系统的游戏场景。

# javascript - 对变量的引用未定义

> ID：10976419
> 
> 赞同：2
> 
> 时间：2012-06-11T08:07:50.223
> 
> 标签：javascript, variables, scope

我试图调用一个我知道存在于变量上的函数，但由于某种原因，我无法从传递的函数中调用`onUpdate`- 任何想法家伙 - 抱歉新手

```
//set up the mirror when view is expanded
function attachMirrorListener(section, mirror) {
    var textarea = document.getElementById(mirror.attr('id'));
    var input = $(mirror.data('input'));
    var myCodeMirror;
    section.click(function() {
        if(section.hasClass('open') && !section.hasClass('mirror-added')) {
            section.addClass('mirror-added');

            input.attr('value','test value!!');
            myCodeMirror = CodeMirror.fromTextArea(textarea, {
                onUpdate : function(){ myCodeMirror.save(); //does not work here!!
                    },
            });

        }
        console.log(myCodeMirror);
        myCodeMirror.save(); //works here
    });

}
}); 
```

更新

我尝试重新排列代码，仍然无法正常工作

```
jQuery(document).ready(function($) {
    var _codeMirror;
    //setup code-mirror
    $('.customize-section').each(function() {
        var section = $(this);
        var mirror = section.find('textarea.wpec-tc-code-mirror');
        if(mirror.length > 0) {
            attachMirrorListener(section, mirror);
        }
    });
    //set up the mirror when view is expanded
    function attachMirrorListener(section, mirror) {
        var textarea = document.getElementById(mirror.attr('id'));
        var input = $(mirror.data('input'));

        section.click(function() {
            if(section.hasClass('open') && !section.hasClass('mirror-added')) {
                section.addClass('mirror-added');
                _codeMirror = CodeMirror.fromTextArea(textarea, {
                    onUpdate : codemirrorcallback,
                });

            }
        });
        function codemirrorcallback() {
            _codeMirror.save();
            input.val(escape(textarea.value));
        }

    }

}); 
```

这是来自 chrome 控制台的错误日志

`Uncaught TypeError: Cannot call method 'save' of undefined codemirror.js:26 codemirrorcallback codemirror.js:26 endOperation codemirror.js:1864 instance.(anonymous function) codemirror.js:1871 CodeMirror codemirror.js:95 CodeMirror.fromTextArea codemirror.js:2114 (anonymous function) codemirror.js:19 f.event.dispatch load-scripts.php:3 f.event.add.h.handle.i`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:25:09.590

赋值运算符从右到左工作。所以，当你第一次调用`myCodeMirror.save()`时，`myCodeMirror`仍然是未定义的。

```
var myCodeMirror; //undefined

myCodeMirror = CodeMirror.fromTextArea(textarea, {
    onUpdate : function() { 
        myCodeMirror.save(); //still undefined 
    }
}); 
```

相反，您应该`this.save()`从内部 onUpdate 函数中调用。

# ios - 从后台线程调用 UIKit 时发出警告

> ID：10976424
> 
> 赞同：9
> 
> 时间：2012-06-11T08:08:03.547
> 
> 标签：ios, uikit

iOS 的 UIKit 不是线程安全的，让我们称之为众所周知的事实。我知道规则，我很小心，但我仍然会被咬 - 而且时不时地导致的崩溃与对 UIKit 的令人讨厌的后台调用相距甚远，从而使追踪问题成为一种不那么愉快的体验。

这个问题似乎很容易解决——让 UIKit 类/方法在从后台线程调用时发出警告，至少作为调试功能。据我所知，iOS 不提供任何此类功能。当然，可以通过在此类调用之前添加某种形式的断言来手动实现相同的效果，但这种解决方案并不是最优雅的，而且还存在与原始问题相同的弱点，即程序员容易健忘。

有没有人有更优雅的解决方案？你如何在你的项目中处理这个问题？

（注意：[这个问题](https://stackoverflow.com/questions/7839229/how-can-i-find-calls-to-uikit-instances-from-a-secondary-thread "这")是相关的，但不是很明确。有人想知道）

* * *

**更新**：安德鲁的答案是我当时正在寻找的解决方案，但请注意，至少从 Xcode 9 开始，这现在由 xcode/ios 提供。例如，添加以下代码：

```
DispatchQueue.global().async {
        print(self.view.frame)
    } 
```

UIView 的 viewDidLoad 方法在 Xcode 中内联产生运行时警告*UIView.frame 必须仅从主线程使用，*并且将一条消息打印到控制台：*主线程检查器：在后台线程上调用 UI API：-[UIView 框架]*

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-09-12T13:54:29.400

此代码（只需添加到项目并在没有 ARC 的情况下编译此文件）会导致 UIKit 访问主线程之外的断言：[https ://gist.github.com/steipete/5664345](https://gist.github.com/steipete/5664345)

我刚刚用它来处理我刚刚获取的一些代码中的许多 UIKit/主线程问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-10T18:19:54.137

我尽量不引入多线程，除非我首先尝试了单线程方法，但这取决于您要解决的问题。

即使多线程是唯一的选择，我通常也会避免长时间运行的后台操作或执行多个不相关任务的操作。

只是我的观点。

## 编辑

在显示加载微调器的同时在主线程上工作的示例：

```
MBProgressHUD *hud = [MBProgressHUD customProgressHUDInView:view dim:dim];
[hud show:NO];
//Queue it so the ui has time to show the loading screen before the op starts
NSBlockOperation *blockOp = [NSBlockOperation blockOperationWithBlock:block];
NSBlockOperation *finOp = [NSBlockOperation blockOperationWithBlock:^{
    [MBProgressHUD hideAllHUDsForView:view animated:NO];
}];
[finOp addDependency:blockOp];
[[NSOperationQueue mainQueue] addOperations:@[blockOp, finOp] waitUntilFinished:NO]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-10T18:55:06.807

就个人而言，每当我打开多线程方法的盒子时，我都会开始包装所有基于接口的调用，`performSelectorOnMainThread:`这样就不会出现问题。如果我们已经进入主线程，那么这个调用应该不会导致任何明显的减速，但是如果它是从后台线程调用的，我可以放心地知道它是安全的。

# google-maps-api-3 - Google Maps Directions API - 标记距离起点 x 公里的点

> ID：10976425
> 
> 赞同：-1
> 
> 时间：2012-06-11T08:08:11.130
> 
> 标签：google-maps-api-3, google-maps-markers

我正在尝试构建一个 Web 应用程序来显示参与虚拟跋涉的用户在地图中的位置。这些长途跋涉是在高速公路上进行的长途跋涉，通常 > 500 公里。我知道的信息是跋涉路线（起点，终点以及路点）和他相对于起点所走过的距离。

如何在 GMaps V3 中，我可以沿着谷歌地图绘制的方向绘制距离起点 x 公里的标记。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-12T07:00:53.657

想通了这个。该技术涉及获取各个纬度长步并逐步计算距离。各个步骤足够接近，可以在两个连续点之间进行直线逼近。对最后一个过冲点进行反向移动。

与距离无关，错误率为 0.1%。即 2000 公里的距离将在地图上偏离 2 公里。

```
//Returns the Google LatLng object corresponding to distanceInKM for the given route.
//Params : directionResult : The google.maps.DirectionsResult obtained from DirectionService.route(request:DirectionsRequest, callback:function(DirectionsResult, DirectionsStatus))
//distanceInKM : The distance offset with respect to the starting point.
function getLatLngOnRoute(directionResult, distanceInKM) {
    var lastPos=directionResult.routes[0].legs[0].steps[0].path[0]; var currPos;
    var distance=0.0;
    distanceInKM*=1000;
    //Will not consider alternate routes. 
    for (var j=0; j<directionResult.routes[0].legs.length; j++) {
        //There may be multiple legs, each corresponding to one way point. If there are no way points specified, there will be a single leg
        for (var k=0; k<directionResult.routes[0].legs[j].steps.length; k++) {
            //There will be multiple sub legs or steps
            for (var l=0; l<directionResult.routes[0].legs[j].steps[k].path.length; l++) {
                currPos=directionResult.routes[0].legs[j].steps[k].path[l];
                //Calculate the distance between two lat lng sets. 
                distance+=google.maps.geometry.spherical.computeDistanceBetween(lastPos, currPos);
                if (distance>distanceInKM) {
                    //If the exact point comes between two points, use distance to lat-lng conversion
                    var heading=google.maps.geometry.spherical.computeHeading(currPos, lastPos);
                    var l= google.maps.geometry.spherical.computeOffset(currPos, distance-distanceInKM, heading);
                    return l;
                }
                lastPos=currPos;
            }
        }
    }
} 
```

[这个](https://stackoverflow.com/questions/8707473/draw-route-x-kilometers-from-origin)话题让我朝着正确的方向前进。

# android - 在 Android 内容提供程序中使用 SQLite

> ID：10976426
> 
> 赞同：0
> 
> 时间：2012-06-11T08:08:16.220
> 
> 标签：android, sqlite

在我的应用程序中，我正在使用用户词典应用程序，我想检索用户词典中的单词列，如何在我的应用程序中检索单词列。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-13T21:53:54.730

调用`query`你的方法[`SQLiteDatabase`](http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html)。

# performance - 文件结构的最佳方法？

> ID：10976430
> 
> 赞同：0
> 
> 时间：2012-06-11T08:08:52.453
> 
> 标签：performance, file-structure

什么更好/更快？
我们需要一个用于 javascript / ajax 网络应用程序的短而快速的文件结构

rs -> c（用于 css 文件）
rs -> j（用于 js 文件）
rs -> i（用于图像）

或者：

-> 样式表
-> 脚本
-> 图像

或者：

-> css
-> js
-> img

如果网址更短，有什么区别吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:14:01.813

如果您担心每个资源的源代码中有两个或三个字节（预压缩）。那么要么你的网站已经高度优化，要么你在错误的地方寻找性能提升。

我会更关心您的内容交付如何分布在子域/CDN 等事物中，以最大限度地提高负载吞吐量。

确保一切都是可缓存的，如果可以的话，确保你的脚本包含在你的 CSS 中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:14:46.027

文件夹名称没有区别。您应该专注于实际优化您的文件以及它们的交付方式。

优化文件后，如果您担心速度，请考虑研究像[www.cloudflare.com这样的内容交付网络。](http://www.cloudflare.com/)

# python - 有没有办法对用 Python 编写的 Gtk/GLib 代码进行单元测试？

> ID：10976431
> 
> 赞同：6
> 
> 时间：2012-06-11T08:08:53.910
> 
> 标签：python, testing, gtk, glib, pygobject

我正在使用 PyGObject（新的基于自省的 Gtk 绑定）编写一个中小型 GUI 应用程序。我从一个合理的测试套件开始`nose`，它能够通过简单地导入模块并调用各种函数并检查结果来测试我的应用程序的大部分功能。

然而，最近我开始利用一些 Gtk 特性，比如`GLib.timeout_add_seconds`一个相当简单的回调机制，在计时器到期后简单地调用指定的回调。我现在自然面临的问题是，当我使用应用程序时，我的代码*似乎*可以工作，但是测试套件的封装很差，所以当一个测试检查它是否以干净状态开始时，它发现它的状态已经被践踏了由不同测试注册的回调。具体来说，测试成功检查没有加载文件，然后加载一些文件，然后检查文件在加载后没有被修改，测试失败！

我花了一段时间才弄清楚发生了什么，但基本上一个测试会修改一些文件（它会启动一个计时器）然后关闭它们而不保存，然后另一个测试会重新打开未修改的文件并发现它们已被修改，因为计时器结束后，回调更改了文件。

我已经阅读了 Python 的`reload()`用于重新加载模块的内置函数，希望我可以让它卸载并重新加载我的应用程序以重新开始，但它似乎并没有工作。

恐怕我可能不得不求助于将应用程序作为子进程启动，对其进行修补，然后结束子进程并在需要保证新状态时重新启动它。是否有任何测试框架可以使这变得容易，特别是对于 pygobject 代码？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:12:10.847

[模拟框架](http://www.voidspace.org.uk/python/mock/index.html)会帮助您隔离回调吗？这样，您应该能够恢复到与开始时相同的状态。请注意，SetUp() 和 tearDown() 模式也可能对您有所帮助——但我有点假设您已经在使用它。

# java - 有什么办法可以获取java类中调用方法的列表吗？

> ID：10976432
> 
> 赞同：0
> 
> 时间：2012-06-11T08:08:55.267
> 
> 标签：java

> **可能重复：**
> [在 Java 中获取当前堆栈跟踪](https://stackoverflow.com/questions/1069066/get-current-stack-trace-in-java)

事情是这样的，我想得到一个java类中所有被调用方法的列表。到目前为止，我一直在使用 eclemma，但这还不够。我还想要调用方法的顺序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:10:55.013

您可以在调用每个方法时记录它（如果您愿意，可以使用它的参数）。您可以为每个方法添加一行或使用 AOP 为您执行此操作。

# http - 如何通过 HTTP 检测客户端操作系统？

> ID：10976434
> 
> 赞同：0
> 
> 时间：2012-06-11T08:08:57.417
> 
> 标签：http, browser, operating-system

检测在 HTTP 客户端上运行的操作系统的最佳方法是什么？我知道浏览器的`User-Agent`可能是伪造的。那么我应该使用 HTTP 的句柄吗？从 WinXP 和 Win7 发送的 HTTP 数据包有什么区别吗？我只需要检测这些。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-01T20:37:26.347

Windows XP 的用户代理字符串是`Windows NT 5.1`或`Windows XP`。

例如，在 JavaScript 中，返回必要的字符串：

```
function osInfo() { 
  alert(window.navigator.oscpu); 
}
// returns: "Windows NT 6.0" for example 
```

# java - Android - 用于使用高分辨率图像进行简单调整大小/创建操作的图像处理库

> ID：10976437
> 
> 赞同：1
> 
> 时间：2012-06-11T08:09:05.890
> 
> 标签：java, android, image-processing

我正在寻找一种在Android上实现以下操作的方法：

*   简单地调整到高分辨率
*   具有高分辨率输出的简单裁剪

高分辨率是指8MP及以上。很明显，由于内存不足，这些图像无法加载到内存中。但是是否有可用的库以对内存更友好的方式来做这些事情（比如基于 tile 或类似的东西）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:34:10.913

我不喜欢以这种方式工作的库，但是您可以通过使用 mmapped 缓冲区来克服内存分配问题——它们在堆之外，只是普通缓冲区。您应该能够使用您喜欢的任何库，只要它将与您提供的字节缓冲区一起使用

# mysql - 带有 MySql 异常的实体框架 - “底层提供程序在打开时失败。” - “从流中读取失败。”

> ID：10976439
> 
> 赞同：2
> 
> 时间：2012-06-11T08:09:28.853
> 
> 标签：mysql, entity-framework, entity-framework-4, mysql-error-1064

我们有一个使用 .NET Entity Framework 4 连接到 MySql 的应用程序。我现在已经在几台开发机器（Windows 7）上进行了设置，现在正在部署到 Windows 2008 R2，但是在尝试从应用程序访问数据库时抛出异常。

有两种连接字符串，一种用于 ADO.NET，一种用于 Entity Framework。

我们正在为 .NET v 6.4.4 使用 MySql 连接器

例外是：

> “底层提供商在 Open 上失败。” - “从流中读取失败。”

在谷歌上搜索异常时，大多数帖子都与使用 SqlServer 的实体框架有关，在这些情况下，问题看起来与身份验证有关。由于我们在这里使用 root 用户凭据连接，如果这是一个身份验证问题，我不确定如何诊断。其他应用程序使用相同的凭据连接到数据库。

连接字符串是：

```
<add name="AppEntities" connectionString="metadata=res://*/OrmApp.AppEntities.csdl|res://*/OrmApp.AppEntities.ssdl|res://*/OrmApp.AppEntities.msl;provider=MySql.Data.MySqlClient;provider connection string=&quot;server=localhost;User Id=root;password=*********;Persist Security Info=True;database=app_staging;Convert Zero Datetime=True&quot;" providerName="System.Data.EntityClient" />

<add name="AppAdoNet" connectionString="server=localhost;User Id=root;password=*********;Persist Security Info=True;database=app_staging;Convert Zero Datetime=True" providerName="System.Data.MySql" /> 
```

如果有人在 MySql 上遇到过此类问题，或者可以就如何诊断我认为是在数据库端的问题提出建议，那将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T16:47:55.820

最后一个奇怪的问题。在这里回答[http://www.randombytes.me/2012/06/mysql-connector-net-reading-from-stream.html](http://www.randombytes.me/2012/06/mysql-connector-net-reading-from-stream.html)

更新了帖子链接。

**概括：**

生产服务器使用 IIS 设置“启用 32 位应用程序”设置为“真”，恢复为“假”解决了该问题。显然，您需要检查应用程序中的另一个组件是否需要将此标志设置为“True”。

# jquery - IMG 添加到 DOM 后的维度为 0x0

> ID：10976445
> 
> 赞同：1
> 
> 时间：2012-06-11T08:10:14.043
> 
> 标签：jquery, html, dom, loading, image

我正在通过 jQuery 将一些从 xml 加载的 HTML 代码添加到 dom 中。所有浏览器都会显示除包含的图像之外的所有内容。咨询 Firebug（或其他 webdev 工具），他们显示图像“自然”是 0px x 0px。是否有任何已知的错误我不知道在将图像添加到 DOM 后我需要调用加载方法？

编辑：我尝试了很多不同的 src 值。它与源属性无关。我将图像添加到不可见的 div 中，甚至 display: none 当它被附加时。这可能是原因吗？如果是，当 div 可见时，我需要做什么来触发图像加载？

# java - 使用编译单元查找 Eclipse 项目中的错误数

> ID：10976446
> 
> 赞同：1
> 
> 时间：2012-06-11T08:10:17.153
> 
> 标签：java, eclipse

通过标记我能够找到错误的数量（日食标记为红色）。是否可以通过使用“编译单元”找到这些错误？？如果是，那么如何使用编译单元来做到这一点？请建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-03T22:26:01.373

目前我正在使用 Indigo，所以我的答案是指这个 Eclipse 版本。在*标记视图*的选项中，您可以更改*配置内容*选项并创建新配置。使用这个新配置，我建议您将*Scope*更改为*On selected element and its children*。这样做，如果您单击一个包或单个文件（我认为这是您对“编译单元”的定义），您可以使用选定的元素过滤问题。作为您应用的过滤器，这也会给您带来许多问题。

# yii - IE7、8、9中minSizeLimit的客户端验证错误，使用yii EAjaxUpload扩展？

> ID：10976447
> 
> 赞同：2
> 
> 时间：2012-06-11T08:10:21.893
> 
> 标签：yii, file-upload, yii-extensions

我正在使用 yii EAjaxUpload 扩展来上传图片，它在除 IE 之外的其他浏览器中运行良好。mizSizeLimit 的客户端验证不起作用，因为它在其他浏览器中显示有关此的消息。请为这个问题提出一个解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T11:30:22.087

去php.ini设置post_max_size和upload_max_filesize可能是10M。那应该有帮助。如果没有，如果您能提供您收到的错误消息会更好

# linux - 如何在 shell 脚本函数中定义 var

> ID：10976449
> 
> 赞同：0
> 
> 时间：2012-06-11T08:10:28.557
> 
> 标签：linux, bash, shell

我目前正在使用以下功能

```
!/bin/bash

#Colour change functions

fnHotlinkG2R()
{
        sed -i 's/#hotlink {height: 200px;width: 200px;background: green;/#hotlink {height: 200px;width: 200px;background: red;/' /var/www/html/style.css
} 
```

`#hotlink`每次我从脚本中调用函数时，我不想创建多个不同的函数，而是输入不同的函数。

我对 sh 脚本相当陌生，希望得到一些帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:15:20.047

首先，第一行应该是 hash bang `#!`，然后是程序的路径，而不仅仅是`!`.

在 bash 中，您不为函数声明参数。您只需接受参数（并检查它是否有效/不为空）并使用它。在这种情况下，您可能希望从函数中获取第一个参数`$1`并用它替换#hotlink。

```
sed -i 's/'"$1"' {height: 200px; ... 
```

在调用函数的部分，您可以像调用另一个命令一样调用它，并将#hotlink 参数提供给该命令。

```
fnHotlinkG2R '#hotlink' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T08:17:42.580

你可以像这样使用它：

```
#!/bin/bash

#Colour change functions

fnHotlinkG2R()
{
    $hotlinkOld = "$1";
    $hotlinkNew = "$2";
    sed -i "s/$hotlinkOld/$hotlinkNew/i" /var/www/html/style.css
}

And call it like this:

fnHotlinkG2R "#hotlink {height: 200px;width: 200px;background: green;"\
   "#hotlink {height: 200px;width: 200px;background: red;" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-11T08:19:43.787

首先，你的[shebang](http://en.wikipedia.org/wiki/Shebang_%28Unix%29)是错误的。正确的是

```
#!/bin/bash 
```

其次，在 bash 中，您使用“不同”类型的参数传递。

```
$0 expands to the name of the shell or shell-script
$1 is the first argument
$2 is the second argument and so on
$@ are all arguments 
```

在[bash 手册中阅读更多信息](http://www.gnu.org/software/bash/manual/bashref.html#Positional-Parameters)

您可能也对bash 手册中的[引用部分感兴趣......](http://www.gnu.org/software/bash/manual/bashref.html#Quoting)

# android - 获取附加设备列表

> ID：10976453
> 
> 赞同：7
> 
> 时间：2012-06-11T08:10:50.863
> 
> 标签：android, linux, bash, shell

当我输入`adb devices`外壳时，我得到类似的东西

```
List of devices attached 
HT06RPQ002T1    device
HT06RPQ002T1    device 
```

我想要一些 shell 脚本来打印手机的 id，例如在这种情况下打印

```
HT06RPQ002T1
HT06RPQ002T1 
```

如果连接了更多设备以打印更多 ID...

谢谢

编辑

我试图将所有内容放在像这样的变量中 asd=`adb devices` 但我不知道如何解析如果我连接了一个设备或我有 10 个设备......

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-11T13:29:56.740

```
adb devices | awk 'NR>1 {print $1}' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T13:57:40.107

```
flag=false

while read -r device type
do
    if ! $flag
    then
        flag=true
        continue
    fi
    echo "$device"
done < <(adb devices) 
```

# c# - Automapper 条件集合映射

> ID：10976455
> 
> 赞同：1
> 
> 时间：2012-06-11T08:10:59.710
> 
> 标签：c#, automapper

有谁知道在每个地图条件下有条件地映射源属性的方法（或解决方法）？

此处的目的是根据 Web 服务操作参数有条件地映射一组子对象。如：

```
Parent GetParent(bool includeChildren); 
```

到目前为止，我发现唯一可行的解​​决方案是创建一个包装类来添加一个布尔属性，例如：

```
public class ParentMapper
{
    Parent Parent;
    public bool IncludeChildren {get;set;}
} 
```

或者直接在模型源类上添加一个 IncludeChildren 属性，因为目的混合，我真的不喜欢。

一个完美的解决方案是这样的：

```
TDestination Map<TSource, TDestination>(TSource source, bool includeCollections); 
```

但我认为我不会为此提供有效的解决方案。

任何帮助，将不胜感激...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T04:11:00.693

目前没有内置的东西可以让你实现这一点。您可以执行以下操作：

```
var destinations = Mapper.Map<List<Parent>, List<ParentDto>>(
    sources.Where(source => source.Child !=null)
); 
```

另一种方法是：

```
config.CreateMap<Parent, ParentDto>()
            .AfterMap((source, dest) =>
            {
                 if (source.Child !=null)
                 {
                     //do some stuff here
                 }
            }); 
```

# facebook - 在我的访问者使用 Facebook Connect 登录后，他们需要在单击“赞”按钮时再次登录

> ID：10976459
> 
> 赞同：1
> 
> 时间：2012-06-11T08:11:10.893
> 
> 标签：facebook, facebook-like, connect

我正在为我的网站开发比赛。 [http://www.abcroisiere.com?jeu=1](http://www.abcroisiere.com?jeu=1)

人们可以使用 Facebook 连接订阅。在比赛的最后一页，您可以点击一个赞按钮。但访问者必须为此再次登录 Facebook。正常吗？有什么我想念的吗？

问候，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T09:57:57.303

如果用户从 Facebook 注销，进入您的网站，然后通过您网站上的登录按钮登录 Facebook，Like 按钮将不会意识到这一点，因此仍会认为用户需要先登录才能登录可以完成点赞动作

如果这种边缘情况对您的应用很重要；用户登录后刷新或替换Like按钮。当它刷新时它会知道用户的登录并且如果用户单击它就不会提示登录对话框

# ios - 地图仅在拆分视图中部分显示

> ID：10976463
> 
> 赞同：1
> 
> 时间：2012-06-11T08:11:20.503
> 
> 标签：ios, mkmapview, uisplitviewcontroller

我创建了一个拆分视图，在详细视图中我只是在那里添加了一个地图视图。除了包括位置和地图库之外，我什么也没做，因此构建和运行将正常工作。

但是，地图只显示了部分内容，您知道为什么会发生这种情况以及我应该如何解决它？

非常感谢！

[这](http://www.2shared.com/file/hqOzhjOr/SplitApp5.html)是项目，非常感谢！

问候，雅舒！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T13:09:44.827

地图视图的自动调整大小掩码设置不正确。它应该像它的超级视图一样具有灵活的宽度和高度。

# c++ - 为 Python 包装 C++ OpenCV 代码

> ID：10976464
> 
> 赞同：2
> 
> 时间：2012-06-11T08:11:20.817
> 
> 标签：c++, python, opencv, numpy, swig

我有一个用 Python 编写的演示应用程序。它使用大量现有的 C++ 代码（由我编写），这些代码依赖于 OpenCV 进行图像处理。目前，Python 和 C++ 之间的通信是通过文件 I/O 和子进程调用来完成的，效率不高。包装 C++ 代码以便可以从 Python 调用它的最佳方法是什么？

有太多的 C++ 代码需要考虑将其移植到 Python，所以这不是一个真正的选择。

很久以前，Python OpenCV 包装器是用 SWIG 编写的，但看起来最新版本的包装器完全不同。谁能指出我正确的方向？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:19:27.040

在不了解代码复杂性、各种 C++ 代码及其风格的情况下……我会推荐“[扩展 Python](http://docs.python.org/extending/extending.html) ”

这不是一个立竿见影的解决方案（您应该更改 C++ 代码、原型化一些新函数或在 C 中添加一个简单的包装层）。但是，如果你打算做一个复杂的项目（并且也有点担心性能）......这似乎是最好的方法。

将 C++ 代码移植到 Python 似乎是倒退了一步，在 Python 中编写新代码是可以的（我是它的粉丝），但 C++（通常）会更有效率。

编辑：还看一下[ctypes](http://docs.python.org/library/ctypes.html)模块。也许它适合您的需求。如果您更愿意用 python 语言进行包装，那么它可能会更好。如果您不介意使用 C 代码，则可以通过使用现有代码执行模块来扩展 Python。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:29:36.780

有两种方法可以让你的 python 程序直接与你的 C/C++ 程序交互：

1.  仅使用 C-API 将 C/C++ 代码包装在 DLL 中。然后，使用[ctypes](https://stackoverflow.com/questions/252417/how-can-i-use-a-dll-from-python) 调用 DLL 中的 C 函数。这种方式的优点是您不需要包含/链接任何其他库。

2.  通过添加新的 python 模块来扩展 python。您可以使用[boost python](http://www.boost.org/doc/libs/1_49_0/libs/python/doc/)轻松创建 python 模块。这种方式的优点是您不需要将代码包装到 C-API。

# java - 无法在 Android 中连接到 FTP

> ID：10976474
> 
> 赞同：0
> 
> 时间：2012-06-11T08:12:35.060
> 
> 标签：java, android, ftp

我检查了其他答案，但他们没有帮助我解决这个错误。也许我做错了什么。

这是我的代码：

```
 void uploadPic() throws FileNotFoundException
{
    FileInputStream fis = new FileInputStream(path);
    FTPClient con = new FTPClient();
    int bytesAvailable;
    try
    {
        con.connect("ftp://ftp.drivehq.com/");
        Toast.makeText(this, "Connected to FTP", Toast.LENGTH_SHORT).show();
        if (con.login("x", "x"))
        {
            Toast.makeText(this, "Logged in", Toast.LENGTH_SHORT).show();
            con.enterLocalPassiveMode(); // Active mode doesn't really work on Android
            bytesAvailable = fis.available();
            byte[] barray = new byte[bytesAvailable];
            fis.read(barray);
            ByteArrayInputStream in = new ByteArrayInputStream(barray);
            boolean result = con.storeFile("/CameraUpload.jpg", in);
            in.close();
            if (result) Log.v("Upload Result", "Succeeded");
        }
    }
    catch (Exception e)
    {
        e.printStackTrace();
    }
} 
```

我已经为我的项目添加了 INTERNET 权限。logcat 显示以下错误：

```
android.os.NetworkOnMainThreadException
W/System.err(17531):    at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1099)
W/System.err(17531):    at java.net.InetAddress.lookupHostByName(InetAddress.java:391 
```

我通过 Wifi 连接到互联网。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T09:38:54.160

当您尝试从主线程执行网络操作（例如 FTP）时，似乎会引发该异常。出于性能原因，这是不允许的（这样在执行可能需要一段时间的操作时，应用程序似乎不会锁定用户）。假设您使用的是 Honeycomb 或更高版本，您需要将建立连接的代码移动到它自己的子线程中。

[http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html](http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html)

[http://developer.android.com/guide/practices/design/responsiveness.html](http://developer.android.com/guide/practices/design/responsiveness.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T08:39:21.380

此错误很可能意味着您的设备无法解析`ftp.drivehq.com`到其 IP 地址。我不能肯定地说，因为你只粘贴了错误日志的一部分。确保您有网络连接并且您的 DNS 工作正常。例如，看看您是否可以通过 android 浏览器连接到同一个站点。

# objective-c - 排序数组并在数组开头添加元素

> ID：10976477
> 
> 赞同：0
> 
> 时间：2012-06-11T08:12:51.347
> 
> 标签：objective-c, ios

我想按字母顺序排序 NSMutableArray 并将一个对象添加到数组的开头。

例如 ：

```
NSMutableArray *myArray = [[NSMutableArray alloc] initWithObjects:@"Red",@"Blue",@"Green",nil]; 
```

我想作为回报 myarray = "blue","green",Red";

然后我必须在数组的开头添加“多色”选项。

所以 myarray 变成："multicolor","blue","green",Red";

或者，如果可以在不干扰“多色”选项（将首先出现）的情况下对数组进行排序，这也是可以接受的。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-11T08:17:56.510

使用其中一种`sort*`方法对数组进行排序。

使用`insertObject:atIndex:`with index`0`在数组的开头插入。

详细信息可以在这里找到： [https ://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/Reference/Reference.html](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/Reference/Reference.html)

# android - 如何控制ListView的垂直滚动

> ID：10976478
> 
> 赞同：1
> 
> 时间：2012-06-11T08:12:55.840
> 
> 标签：android, listview, scroll, android-listview

我所在的团队正在为平板电脑构建一个应用程序，该应用程序的反应就像一本杂志。
我们`ListView`用来显示一篇有多个页面的文章。
每一个都`row`包含很多数据，用来表示杂志的一页。
在纵向模式下，一排几乎占据整个屏幕，所以一排 == 一屏

到目前为止，当用户滚动整个 ListView 时，它的行为方式与普通 ListView 的行为方式相同 -

*   如果你轻弹得足够快，它会快速滚动
*   如果您缓慢滚动，一旦您停止手指的垂直运动，滚动就会停止

我想要的是-

*   无论用户滚动/轻弹（使手指在垂直方向上移动）多快或多慢，都应该只滚动一行。

有没有办法控制 ListView 的滚动方式？

我搜索了很多，很多文章建议如何滚动到顶部或特定位置，但没有人真正说明滚动是如何发生的，以便我可以控制它。
我错过了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T09:23:32.927

好吧，您的问题仅限于 ListView，我认为可以通过计算屏幕尺寸并因此对行为采取行动来实现，但因为我不确定 ListView 的技术性。我可以指导你，如果我会实施我会使用：

**1）ViewPager：**我认为更适合您当前的要求，您可以在此处找到详细信息 - [http://android-developers.blogspot.in/2011/08/horizo ​​ntal-view-swiping-with-viewpager.html](http://android-developers.blogspot.in/2011/08/horizontal-view-swiping-with-viewpager.html)

或者

获取本页中提到的更多自定义要求的帮助 - [如何制作在滑动/翻动视图之间翻转的 Android 视图](https://stackoverflow.com/questions/5071743/how-to-make-an-android-view-that-flips-between-views-on-swipe-fling)

**2）充气和使用动画：**我可以使用的其他方法是在运行时充气页面并对特定手势做出反应，并在翻转时集成动画。

但是如果使用 ListViews 对于您的要求不是强制性的，那么使用 ViewPager 会比 ListViews、AFAIT 更好。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-11T08:42:41.947

ListView 使用具有私有访问权限的 Scroller（超过 GingerBread 2.3 的 OverScroller）。不确定这是否会对您有所帮助，但它可以为您指明正确的方向。要获得您想要的行为，您可以尝试以下操作（我只在 ScrollView 上对此进行了测试）：

```
//Replace the scroller with your own

Field mScroller;
    try {
        mScroller = ListView.class.getDeclaredField("mScroller");
        mScroller.setAccessible(true); 

        scroll = new OverScroller(mContext, new DecelerateInterpolator(DECELERATE_AMOUNT));
        mScroller.set(yourListView, scroll);

    } catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } 
```

然后将 ontouchlistener 添加到您的 ListView 并滚动触摸：

```
mScroller.startScroll(0, startY, 0, distanceToNextPage, 500); 
```

您可以尝试以下解决方案的替代方案：

1.  将 ontouchListener 添加到您的 ListView
2.  修饰：

    yourListView.smoothScrollToPosition(LIST_ITEM_INDEX);

# iphone - Iphone 使用 MFMailComposer 以编程方式发送电子邮件？

> ID：10976484
> 
> 赞同：0
> 
> 时间：2012-06-11T08:13:39.617
> 
> 标签：iphone, objective-c, ios, xcode, ios4

在我的应用程序中，我使用 MFMailComposer 发送电子邮件。

在我的应用程序中，用户可以选择他想要发送和发送电子邮件的时间。

它工作正常。但我所做的是，我使用 NSTimer 打开 MFMailComposeViewController 并以编程方式单击发送按钮。

但我不确定苹果可能会批准我的应用程序还是拒绝。有没有人在应用程序中使用过这种类型的功能，而苹果已经批准或拒绝了应用程序。请告知。

请帮帮我。

以下是我的代码：

```
-(void)showController {
    MFMailComposeViewController *mailController;
    //alloc, init, set properties, do whatever you normally would
    [self.navigationController presentModalViewController:mailController animated:YES];
    [mailController release];

    [NSTimer scheduledTimerWithTimeInterval:3 target:self selector:@selector(sendMail:) userInfo:mailController repeats:NO];
}

-(void)sendMail:(NSTimer*)theTimer {
    MFMailComposeViewController *mailController = theTimer.userInfo;
    UIBarButtonItem *sendBtn = mailController.navigationBar.topItem.rightBarButtonItem;
    id targ = sendBtn.target;
    [targ performSelector:sendBtn.action withObject:sendBtn];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:18:22.097

您需要得到用户的确认。用户将点击发送按钮。您只能创建邮件并显示给用户确认。MFMailComposeViewController 的默认行为。

谢谢

# php - 同名的 global 和 $_SESSION 变量是相同的

> ID：10976486
> 
> 赞同：1
> 
> 时间：2012-06-11T08:13:44.263
> 
> 标签：php

我得到了一段代码：

```
$_SESSION['cms_lang'] = 2;
global $cms_lang;
$cms_lang[1] = 'en'; 
```

错误：

```
Cannot use a scalar value as an array 
```

问题是，我真的不知道为什么服务器认为我的全局变量与 $_SESSION 变量相同。我用过这段代码几次，从来没有遇到过问题。我想这必须取决于服务器上的设置。谁能知道**如何强制服务器不采用同名的全局变量和会话变量**？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-11T08:19:11.160

您可以阅读启用此行为的 PHP 配置设置[register_globals 。](http://www.php.net/manual/en/ini.core.php#ini.register-globals)

另外，[阅读为什么你应该禁用它](http://php.net/manual/en/security.globals.php)（通常，升级你的 PHP 版本！）

# java - Android：将数据上传到服务器的进度条

> ID：10976488
> 
> 赞同：3
> 
> 时间：2012-06-11T08:13:54.793
> 
> 标签：java, android, progress-bar

在我的应用程序中，有一些数据被包装到一个对象中。我正在将此对象发送到服务器。一切正常。在这里，我想在数据加载到服务器时显示进度条。为此，我正在使用以下代码：

```
ProgressThread progThread;
ProgressDialog progDialog;

int typeBar;
int delay = 40; 
int maxBarValue = 200;
@Override
protected Dialog onCreateDialog(int id) {
    switch (id) {
    case 1:
        progDialog = new ProgressDialog(this);
        progDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);
        progDialog.setMax(maxBarValue);
        progDialog.setMessage("Data uploading to the Server..");
        progThread = new ProgressThread(handler);
        progThread.start();
        return progDialog;

    default:
        return null;
    }
}

final Handler handler = new Handler() {
    public void handleMessage(Message msg) {
        // Get the current value of the variable total from the message data
        // and update the progress bar.
        int total = msg.getData().getInt("total");
        progDialog.setProgress(total);
        if (total <= 0) {
            dismissDialog(typeBar);
            progThread.setState(ProgressThread.DONE);
        }
    }
};

private class ProgressThread extends Thread {

    final static int DONE = 0;
    final static int RUNNING = 1;

    Handler mHandler;
    int mState;
    int total;

    ProgressThread(Handler h) {
        mHandler = h;
    }

    @Override
    public void run() {
        mState = RUNNING;
        total = maxBarValue;
        while (mState == RUNNING) {

            connectServerClass.saveOnServer(Object);

            Message msg = mHandler.obtainMessage();
            Bundle b = new Bundle();
            b.putInt("total", total);
            msg.setData(b);
            mHandler.sendMessage(msg);

            total--; // Count down
        }
    }
    public void setState(int state) {
        mState = state;
    }
} 
```

当用户点击按钮时：

```
typeBar = 1;
showDialog(typeBar); 
```

通过上面的行 connectServerClass.saveOnServer(Object) 我将对象发送到服务器。实际上，我正在向另一个类 connectServerClass 发送数据，而这个类将对象发送到服务器。但此代码无法正常工作。此代码大量时间连接到服务器。

我使用以下代码：

```
private class Uploader extends AsyncTask<Void, String, Integer>
    {
        private List<File> files;
        private boolean canceled;
        private int uploaded;
        private Account account;
        private ProgressDialog uploadSeekBar;

        public Uploader(Account a, List<File> files)
        {
            this.account = a;
            this.files = files;
        }

        @Override
        protected void onPreExecute()
        {
            uploadSeekBar.setMax(files.size());
            uploadSeekBar.setProgress(0);
            uploadSeekBar.setVisibility(View.VISIBLE);  //Error: the method setVisibility is undefined
        }

        @Override
        protected void onPostExecute(Integer result)
        {
            uploadSeekBar.setVisibility(View.INVISIBLE);
            Toast.makeText(Upload.this, result + " files uploaded", // Error: Upload cannot be resolved to a type
                    Toast.LENGTH_LONG).show();
        }

        @Override
        protected void onCancelled()
        {
            // XXX need a way to actually cancel the last upload
            Toast.makeText(Upload.this, "canceling upload", Toast.LENGTH_LONG)
                    .show();
            this.canceled = true;
            uploadSeekBar.setVisibility(View.INVISIBLE);

        }

        @Override
        protected Integer doInBackground(Void... voids)
        {
            uploaded = 0;
            try
            {
                Iterator<File> it = this.files.iterator();
                while (!canceled && it.hasNext())
                {
                    File file = it.next();
                    it.remove();

                    String msg = "";

                    try
                    {
                        if (debugMode)  // what is this debugMode
                        {
                                                //Put your uploading code here.
                            msg = ("fake uploading " + file);
                            Thread.sleep(3000);
                        } else
                        {
                            msg = ("uploading: " + file);
                            controller.uploadFile(file, this.account); //Error: controller cannot be resolved
                        }

                        uploaded++;
                        publishProgress(msg);

                    } catch (IOException e)
                    {
                        controller.te("error uploading file: " + file);
                        controller.te("error uploading file: " + e);
                    } catch (InterruptedException e)
                    {
                    }
                }
            } catch (Exception e)
            {
                publishProgress("error uploading: " + e);
            }

            return uploaded;
        }

        @Override
        protected void onProgressUpdate(String... strings)
        {
            uploadSeekBar.setProgress(uploaded);
            updateUploadMessage(files.size());
            Toast.makeText(Upload.this, strings[0], Toast.LENGTH_LONG).show(); //Error: The method updateUploadMessage(int) is undefined for the type FirstActivity.Uploader 
        }
    } 
```

但是我遇到了一些错误，我在该行右侧​​的评论中提到了这些错误。请给我建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T08:23:24.273

我强烈推荐你使用 AsyncTask。

下面的代码片段将帮助您了解 AsyncTask 的外观。

```
package org.sample;

import java.io.File;
import java.io.IOException;
import java.util.Iterator;
import java.util.List;

import android.accounts.Account;
import android.os.AsyncTask;
import android.view.View;
import android.widget.Toast;

    private class Uploader extends AsyncTask<Void, String, Integer>
    {
        private List<File> files;
        private boolean canceled;
        private int uploaded;

        public Uploader(Account a, List<File> files)
        {
            this.account = a;
            this.files = files;
        }

        @Override
        protected void onPreExecute()
        {
            uploadSeekBar.setMax(files.size());
            uploadSeekBar.setProgress(0);
            uploadSeekBar.setVisibility(View.VISIBLE);
        }

        @Override
        protected void onPostExecute(Integer result)
        {
            uploadSeekBar.setVisibility(View.INVISIBLE);
            Toast.makeText(Upload.this, result + " files uploaded",
                    Toast.LENGTH_LONG).show();
        }

        @Override
        protected void onCancelled()
        {
            // XXX need a way to actually cancel the last upload
            Toast.makeText(Upload.this, "canceling upload", Toast.LENGTH_LONG)
                    .show();
            this.canceled = true;
            uploadSeekBar.setVisibility(View.INVISIBLE);

        }

        @Override
        protected Integer doInBackground(Void... voids)
        {
            uploaded = 0;
            try
            {
                Iterator<File> it = this.files.iterator();
                while (!canceled && it.hasNext())
                {
                    File file = it.next();
                    it.remove();

                    String msg = "";

                    try
                    {
                        if (debugMode)
                        {
                                                //Put your uploading code here.
                            msg = ("fake uploading " + file);
                            Thread.sleep(3000);
                        } else
                        {
                            msg = ("uploading: " + file);
                            controller.uploadFile(file, this.account);
                        }

                        uploaded++;
                        publishProgress(msg);

                    } catch (IOException e)
                    {
                        controller.te("error uploading file: " + file);
                        controller.te("error uploading file: " + e);
                    } catch (InterruptedException e)
                    {
                    }
                }
            } catch (Exception e)
            {
                publishProgress("error uploading: " + e);
            }

            return uploaded;
        }

        @Override
        protected void onProgressUpdate(String... strings)
        {
            uploadSeekBar.setProgress(uploaded);
            updateUploadMessage(files.size());
            Toast.makeText(Upload.this, strings[0], Toast.LENGTH_LONG).show();
        }
    } 
```

# workflow-foundation-4 - Windows 工作流 - 创建可重用的任务列表（书签？）

> ID：10976489
> 
> 赞同：0
> 
> 时间：2012-06-11T08:13:55.233
> 
> 标签：workflow-foundation-4

我正在考虑将业务流程迁移到 Windows 工作流中，客户端应用程序将是 ASP/MVC，并且工作流可能通过 IIS 托管。

我想创建一个可以跨多个工作流使用的通用“简单任务”活动。活动属性看起来像这样：

*   相关客户
*   指定代理
*   提示（“请查看 PO #12345”）
*   “真”按钮的文本（“接受”）
*   “假”按钮的文本（“拒绝”）
*   存储结果的变量

一旦工作流遇到此活动，则应将任务放入 db 表中。Web 应用程序将查询表格并向代理显示他们需要完成的任务列表。一旦他们点击接受/拒绝，工作流程就需要恢复。

这是我坚持的最后一点。我需要在数据库表中存储什么来恢复工作流程？鉴于任务表将被多个工作流使用，我如何实例化工作流以恢复它？我查看了书签，但它们假设您知道要恢复的工作流类型。我是否需要使用反射，或者 WF 中是否有一种方法可以传递工作流 id 并将其实例化？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T09:08:55.733

您可以使用工作流服务并通过 ControlEndPoint 对其进行控制。有关 controlendpoint 的更多信息，您可以参考 [http://msdn.microsoft.com/en-us/library/ee358723.aspx](http://msdn.microsoft.com/en-us/library/ee358723.aspx)

# python - 在 connectionMade 中扭曲调用 getPeerCertificate 返回 None

> ID：10976491
> 
> 赞同：0
> 
> 时间：2012-06-11T08:14:01.170
> 
> 标签：python, ssl, twisted

在 connectionMade 中调用 getPeerCertificate 扭曲返回 无 我能做什么

```
class Handler(Protocol):
    def dataReceived(self, data):
        print self.transport.getPeerCertificate().get_subject().commonName

    def connectionMade(self):
        print self.transport.getPeerCertificate().get_subject().commonName 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T17:30:19.793

不要打`getPeerCertificate`进来`connectionMade`。正如您可能已经观察到的，如果您调用它，它会返回一个正确的证书`dataReceived`。

# python - python lxml找不到表

> ID：10976493
> 
> 赞同：0
> 
> 时间：2012-06-11T08:14:06.657
> 
> 标签：python, lxml

我正在使用 Python 2.7 lxml，但在查找表时遇到问题。

通过 id od 类查找它会产生空结果。

```
 a = [c.text for c in kontent.xpath('//table[@id="blk-ctnt-2308"[1]//tr/td[5]] 
```

还有其他建议吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:51:24.803

您在索引之前的 XPath 表达式中缺少方括号`[1]`：

```
a = [c.text for c in kontent.xpath('//table[@id="blk-ctnt-2308"][1]//tr/td[5]') ] 
```

此外，您可能想`//table[@id="blk-ctnt-2308"][1]`在尝试完整的表达式之前检查表达式的第一部分是否有效。

最后，如果源表具有`id`属性，则索引`[1]`是多余的，但仍应有效。

## 更新

我不能`lxml`在这台机器上使用，所以我使用 ElementTree XML API 来测试 XPath，这段代码：

```
import xml.etree.ElementTree

html = '''<html>
<head><title></title></head>
<body>
<table id="blk-ctnt-2308">
<tr><td>1a</td><td>2a</td><td>3a</td><td>4a</td><td>5a</td><td>6a</td></tr>
<tr><td>1b</td><td>2b</td><td>3b</td><td>4b</td><td>5b</td><td>6b</td></tr>
<tr><td>1c</td><td>2c</td><td>3c</td><td>4c</td><td>5c</td><td>6c</td></tr>
</table>
<table id="blk-ctnt-2309">
<tr><td>1a</td><td>2a</td><td>3a</td><td>4a</td><td>5a</td><td>6a</td></tr>
<tr><td>1b</td><td>2b</td><td>3b</td><td>4b</td><td>5b</td><td>6b</td></tr>
<tr><td>1c</td><td>2c</td><td>3c</td><td>4c</td><td>5c</td><td>6c</td></tr>
</table>
</body>
</html>'''

tree = xml.etree.ElementTree.fromstring(html)
results = [ c.text
            for c in tree.findall('body/table[@id="blk-ctnt-2308"]//tr/td[5]') ]
print results 
```

产生这个输出：

```
['5a', '5b', '5c'] 
```

# entity-framework - 如何只定义一次 EF 连接字符串并在其他项目中重复使用？

> ID：10976494
> 
> 赞同：0
> 
> 时间：2012-06-11T08:14:12.377
> 
> 标签：entity-framework, connection-string, ado.net-entity-data-model, decoupling, single-responsibility-principle

我正在构建一个使用实体框架的 Web 应用程序。我已将实体模型和生成的类移到一个单独的项目中，因为它将被多个消费者使用。

但是当我尝试运行应用程序时，Entity Framework 告诉我

```
No connection string named 'X' could be ofund in the application config file. 
```

要消除此问题，我必须将实体框架连接字符串添加到每个使用项目。当然这很烦人，因为有几个消费者，而且它还引入了一种紧密耦合，我希望通过将软件分成不同的项目来摆脱这种耦合。

那么是否可以只在一个地方而不是在每个消费项目中定义连接字符串？

注意：我遵循数据库优先方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:33:22.193

这是可能的，因为您可以使用接受连接字符串的[构造函数](http://msdn.microsoft.com/en-us/library/gg679467%28v=vs.103%29.aspx)来实例化上下文。在我们的一个项目中，我们有一个 ContextFactory，其中连接字符串在启动时注册一次。程序集中的所有代码都从工厂获取上下文。

实际上，在我们的例子中，我们使用 ObjectContext，并根据注册的连接和创建上下文时创建的元数据字符串为工厂创建连接字符串。我们通过使用[EntityConnectionStringBuilder](http://msdn.microsoft.com/en-us/library/system.data.entityclient.entityconnectionstringbuilder.aspx)来做到这一点。

# c - Floyd-Warshall 算法最短路径

> ID：10976498
> 
> 赞同：1
> 
> 时间：2012-06-11T08:14:42.657
> 
> 标签：c, shortest-path, floyd-warshall

我实现了 Floyd-Warshall 算法。根据他们的矩阵，我可以得到正确的结果，关于两个地方之间的最短路径和它们的距离。我的问题是如何打印从 i 到 j 的最短距离。我做了一些研究，发现了一个这样的算法。谁能解释一下它应该如何，或者它是如何工作的，或者说任何其他建议？

```
PrintShortestPath(P,i,j){
    if(i==j) print i
    else if (P[i][j]==NULL)
        print "No path from i to j"
    else{
        PrintShortestPath(P,i,P[i][j])
        print j
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T09:11:04.103

Floyd 的算法考虑了两个节点之间的所有路径，并保留了迄今为止找到的最便宜的路径。您的代码以递归方式进行。这是另一个在 C 中对此进行了很好解释的实现： [http ://www.fearme.com/misc/alg/node88.html](http://www.fearme.com/misc/alg/node88.html)

您还可以考虑 Dijkstra 算法，它可能对稀疏图表现更好。

--L。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-06T21:58:57.667

您发布的算法中的矩阵 P 是前驱矩阵。它列出了每条路径 i -> j 的前任。

这必须与距离矩阵一起计算：

*   P[i,j] 对于所有 i,j 都初始化为 NULL
*   在 FW 的最内层循环中，如果您发现从节点 k 传递的较短路径（使用 P[k,j]），则更新 P[i,j]。

如果您发布距离的解决方案，我会更准确。

# php - 如何获取首页的URI？

> ID：10976500
> 
> 赞同：0
> 
> 时间：2012-06-11T08:14:50.110
> 
> 标签：php, uri

我使用以下代码请求 URI 以显示多语言内容变量。这适用于每个具有 URI 的页面。我的问题是首页：对于没有 URI 的纯域 www.domain.com，它不起作用，但它适用于 www.domain.com/index.php。我无法弄清楚首页的正确语法，请帮助。

```
if (stripos($_SERVER['REQUEST_URI'],'index') !== false ) {

// Frontpage
$lang['META_TITLE'] = 'Welcome to the frontpage';
$lang['META_DESCRIPTION'] = '';
$lang['META_KEYORDS'] = '';
$lang['PAGE_TITLE'] = '';
$lang['BREADCRUMB'] = '';
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:27:51.510

在主根目录中创建一个 .htaccess 文件并粘贴此代码....我希望它对您有用

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ /index.php/$1 [L] 
```

# c# - 为什么网格视图的更新按钮没有触发？

> ID：10976501
> 
> 赞同：0
> 
> 时间：2012-06-11T08:14:50.317
> 
> 标签：c#, asp.net

我有一个`grid-view`属性`AutoGenerateEditButtonSet`为真。在编辑点击更新取消工作正常，直到我添加页脚模板，确实为客户输入一行到数据库，页脚模板有链接按钮添加和取消获取行的值和更新添加链接按钮点击，添加链接按钮已验证要插入数据库的所有页脚模板值，但我面临的奇怪问题是，现在出现在编辑单击上的更新按钮不会触发，我一直在努力寻找链接并浏览了许多论坛但无法得到如何解决这个问题，请帮我解决这个问题，更新按钮也会导致页脚内容的验证，如何停止它？请建议我

更新按钮在运行时变成这样..

javascript:`WebForm_DoPostBackWithOptions(new` `WebForm_PostBackOptions("ctl00$MainContent$customerDetailGrid$ctl02$ctl00", "", true, "", "", false, true))`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T11:35:11.277

我认为您正在使用更新面板内的更新面板和网格视图，因此删除更新面板然后运行应用程序并检查天气更新按钮是否工作，如果工作，那么您现在可以放置更新面板，然后它将工作其他明智的帖子你的代码，以便我检查

# android - flowplayer可以处理rtsp流吗？

> ID：10976502
> 
> 赞同：2
> 
> 时间：2012-06-11T08:14:55.273
> 
> 标签：android, flowplayer

Flowplayer 可以播放`rtmp`和`http`直播，但我可以使用同一个播放器播放`rtsp stream`。我有适用于 android 的 rtsp 流，可以使用外部播放器播放，但它以全屏模式打开。我想把它放在一个框架内，但外部播放器在安卓设备的框架外打开。所以我想用来`flowplayer`玩`rtsp stream`。`android`是否有可能，如果没有，该使用什么。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-12T19:21:08.927

我相当肯定 Flowplayer 虽然是许多事情的绝佳解决方案，但无法扩展以接受直接的 RTSP 流。无论如何，我认为目前没有支持的移动版本或适用于 Android 的 Flowplayer 插件。我什至看到有报道称，在 Android 上查看的嵌入式 flowplayers 充其量只是粗略的。

但是，我使用 ffserver 和 ffmpeg ( [http://ffmpeg.org/](http://ffmpeg.org/) ) 将 RTSP 流转码为 .flv 以与 Flowplayer 一起播放，但如果转码流可以在您的系统上播放，您会很好在路上！

石匠

# html - 转换后的视频无法在 Internet Explorer 9 上播放

> ID：10976504
> 
> 赞同：1
> 
> 时间：2012-06-11T08:15:05.597
> 
> 标签：html, internet-explorer, video, h.264, mp4

我正在尝试使用 HTML5 视频标签在网站上嵌入视频播放。

对于我发现的一些示例 mp4 文件，该视频在 IE9 和 Chrome 上都可以正常播放，但是当我使用从 avi/mkv 文件转换而来的 mp4 文件时 - 视频仅在 Chrome 上播放，而 IE9 拒绝播放。

我尝试了几种视频转换工具：HandBrake、Miro Video Converter、Freemake Video Converter。所有制作的 mp4 都包含 H. 264 视频和 AAC 音频 - 在 Chrone 上运行良好。

我也尝试过使用 IE9 多媒体/安全选项——但没有任何改变。

好吧，我读到了 IE9 通常对视频播放和 html5 的支持不好，但仍然 - 它明确指出所有 h264 配置文件都支持 mp4。

正如你所理解的——我优先考虑让这个网站在 IE9 上运行良好——所以我很感激这里的任何提示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-28T14:36:35.980

我有同样的问题，发现它是`Miro Video Converter`,`videojs`和的组合`IE9`：

当我使用`EasyHTML5video`标准设置进行转换（您无法更改任何设置）时，一切正常并播放的`IE9`都是`videojs`.

当我使用`Miro Video Converter`标准设置进行转换时（您无法更改任何设置）`IE9`无法播放并出现`VIDEO OBJECT`错误。

我比较了 2 个输出，我认为只有音频不同。`Miro`是 2 通道`48Khz`和`EasyHTML5`1 通道`16Khz`。

我希望找到合适的转换工具，`Miro`质量比 好`EasyHTML5video`，但也许有问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T08:18:09.093

我的建议是使用一个利用特征检测的插件，比如 VideoJS

如果视频无法在浏览器上正确显示，它将为 flash 提供必要的回退

按照[http://videojs.com/](http://videojs.com/)上的说明操作应该很简单

# ios - Zbar 中的相机控制

> ID：10976509
> 
> 赞同：0
> 
> 时间：2012-06-11T08:15:29.223
> 
> 标签：ios, zbar-sdk

您好我正在尝试使用 ios 中的 zbar 显示相机控件进行扫描。

我写了以下代码

```
ZBarReaderViewController *readerController = [[ZBarReaderViewController alloc] init];
readerController.sourceType = UIImagePickerControllerSourceTypeCamera;
readerController.tracksSymbols = YES;
readerController.showsCameraControls = YES;
readerController.showsZBarControls = YES;
[readerController release]; 
```

但是每次我显示 zbar 控制器时应用程序都会崩溃。

如果我删除此行，应用程序工作正常

```
readerController.showsCameraControls = YES; 
```

但是我在扫描视图上看不到任何控件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T03:40:07.873

“BOOL showsCameraControls 如果设置了 NO 以外的任何内容，则会引发异常。” 查看以下链接了解详细信息：[ZBarReaderViewController 类参考](http://zbar.sourceforge.net/iphone/sdkdoc/ZBarReaderViewController.html)。干杯

# ssis - 在 Integration Services 中刷新目标架构元数据

> ID：10976511
> 
> 赞同：11
> 
> 时间：2012-06-11T08:15:37.510
> 
> 标签：ssis, refresh, metadata

我一直在处理一个包含 150 多个表的大型 ETL 项目，在设计期间，我不得不对几个表的目标列名称和数据类型进行重大更改。

我的问题是我无法让 SSIS 查看我更改的表的新架构。所以我想知道**如何让 SSIS 刷新这个模式？**我觉得没有办法告诉 SSIS 从数据库模式更新元数据，特别是对于数据库迁移，这有点荒谬。

从头开始重新创建项目是不可能的，因为我已经花了几个小时。手动更改我更改的 400 多列也不是一种选择。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-11-08T13:53:58.463

使用`Advanced Editor`并按下`Refresh`下方左侧的按钮怎么样？

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-13T14:30:35.393

在我之前的自动回答之后，我终于找到了阻止刷新元数据的原因。

当我最初修改我的数据库时，我实际上执行了另一个`DROP`在表上创建 a 的脚本，然后`CREATE TABLE`从头开始重新创建表。在那里，SSIS 永远无法检测到更改，我不得不在其他答案中做所有事情。

今天晚些时候，我不得不进行一些小修改，这次我选择了`ALTER TABLE`. 神奇的是，这一次 SSIS 检测到所有更改，甚至通知我从高级编辑器刷新列，效果很好。

所以基本上所有这些问题都是由于我对 DBA 及其最佳实践的了解不足造成的。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-11T14:48:02.553

我找到了修复它的方法，但这有点棘手。

即使我从我的包中完全删除了对表的任何引用，我总是得到旧的元数据。

我仍然没有明确的解决方法，但这是我为解决它所做的：

*   删除了对相关源表和目标表的任何引用
*   从项目文件夹中删除了 obj 和 bin 文件夹
*   保存，关闭然后重新打开项目
*   从头开始创建新的数据流并最终更新元数据

不知道这些信息被缓存在哪里，但我怀疑 obj 文件夹保留了包的缓存副本，或者 Visual Studio 将元数据保存在内存中，当你关闭它时会释放它。无论如何，按照这些步骤应该可以解决它。

# spring - Spring Security 3.1 可以使用 EclipseLink 持久化单元吗？

> ID：10976512
> 
> 赞同：2
> 
> 时间：2012-06-11T08:15:48.007
> 
> 标签：spring, spring-security, jpa-2.0, eclipselink

我将 Spring Security 3.1 与 Spring 3.2 和 EclipseLink JPA 一起使用。我正在配置 Spring Security 以使用 MySQL 数据库中的用户和组。所有 Spring 文档和教程都说要使用

```
<authentication-provider> 
  <jdbc-user-service data-source-ref="dataSource" /> 
</authentication-provider> 

<bean id = "dataSource" class = "org.springframework.jdbc.datasource.DriverManagerDataSource"> 
  <property name = "driverClassName" value = "com.mysql.jdbc.Driver"/> 
  <property name = "url" value = "jdbc:mysql://localhost:3306/webcosts"/> 
  <property name = "username" value = "root"/> 
  <property name = "password" value = "root"/> 
</bean> 
```

但是我已经在 persistence.xml 中定义了我的数据源，如下所示

```
<persistence version="2.0" xmlns="http://java.sun.com/xml/ns/persistence" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd">
  <persistence-unit name="MyPersistenceUnit">
    <provider>org.eclipse.persistence.jpa.PersistenceProvider</provider>
      <properties>
        <property name="javax.persistence.jdbc.driver" value="com.mysql.jdbc.Driver" /> 
```

ETC

有什么方法可以让 jdbc-user-service 直接或通过适配器引用持久性单元，还是我需要输入两次数据库信息并拥有两组数据库连接？

我已经进行了谷歌搜索，并且我已经阅读了 Spring 文档，但我找不到太多。Spring 文档似乎是专家写的，对于专家来说，对于框架的初学者来说并不完全直观！

# css - 有滚动条时背景固定不居中

> ID：10976515
> 
> 赞同：0
> 
> 时间：2012-06-11T08:15:54.720
> 
> 标签：css, background, scrollbar, center, fixed

我的容器背景有问题。当有滚动条时，我的内容和我的背景之间就有了差距。没有滚动条时没有任何问题。

[捕获](http://www.hostingpics.net/viewer.php?id=632205prob.jpg)

我认为这是因为我的背景以整个窗口为中心（包括滚动条），而我的内容以边距为中心：0 auto; （不包括滚动条）。

这是我的CSS代码...

```
#container{
    background-image:url('../img/container.png');
    background-attachment:fixed;
    background-position:top center;
    background-repeat:no-repeat;
    margin:0 auto;
    width:900px;
    padding:0 37px;
    padding-bottom:25px;
    } 
```

我尝试在左侧添加 15px 的填充，它可以工作，但是当没有滚动条时，它不再居中了！当我的背景不固定时，它也可以工作，但我需要保持固定...

你有解决这个问题的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:20:22.320

唔。你不能用 HTML/CSS 创建你的背景框吗？这将确保定位是一致的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T10:13:48.917

这是错误的

```
background-position:top center; 
```

> 第一个值是水平位置，第二个值是垂直位置。

[CSS background-position 属性](http://www.w3schools.com/cssref/pr_background-position.asp)

使用更正代码

```
background-position:center top; 
```

# c# - 如何反序列化所有 Soap 序列化对象

> ID：10976517
> 
> 赞同：0
> 
> 时间：2012-06-11T08:16:01.360
> 
> 标签：c#, soap-serialization

我正在肥皂序列化多个对象并将它们附加到一个文件中，然后我将所有对象反序列化为树视图

我正在使用这部分反序列化代码

```
FileStream fs = new FileStream(fName, FileMode.Open);
while (fs.Position < fs.Length)
{
    arraylizt.Add(sf.Deserialize(fs));
} 
```

它工作得很好，但有时文件中的最后一个对象没有反序列化。
我不明白为什么它有时不反化最终对象

请帮助我或建议我任何其他反序列化方式

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:20:23.663

您是否确保在关闭之前写入时已刷新流（或关闭编写器而不是底层流）。

# c# - EL 5.0 切换登录/关闭

> ID：10976518
> 
> 赞同：0
> 
> 时间：2012-06-11T08:16:01.883
> 
> 标签：c#, asp.net, logging, enterprise-library

我正在使用企业库 5.0 进行日志记录，但我不确定如何关闭日志记录。目前它已打开并正常工作。

这是我关于日志记录的 web.config 部分，它是使用 EL 5.0 GUI 自动创建的。

```
<loggingConfiguration name="" tracingEnabled="true" defaultCategory="Logging Only">
    <listeners>
      <add name="Flat File Trace Listener"
           type="Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FlatFileTraceListener, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.414.0, Culture=neutral, PublicKeyToken=..." 
           listenerDataType="Microsoft.Practices.EnterpriseLibrary.Logging.Configuration.FlatFileTraceListenerData, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.414.0, Culture=neutral, PublicKeyToken=..." 
           fileName="WMSlog.log" formatter="Text Formatter" />
      <add enabled="false" name="Formatted EventLog TraceListener" type="Microsoft.Practices.EnterpriseLibrary.Logging.TraceListeners.FormattedEventLogTraceListener, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.414.0, Culture=neutral, PublicKeyToken=..." 
           listenerDataType="Microsoft.Practices.EnterpriseLibrary.Logging.Configuration.FormattedEventLogTraceListenerData, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.414.0, Culture=neutral, PublicKeyToken=..." 
           source="Exception Handling" formatter="Text Formatter" />
    </listeners>
    <formatters>
      <add type="Microsoft.Practices.EnterpriseLibrary.Logging.Formatters.TextFormatter, Microsoft.Practices.EnterpriseLibrary.Logging, Version=5.0.414.0, Culture=neutral, PublicKeyToken=..." 
           template="Timestamp: {timestamp}{newline}&#xA;Message: {message}{newline}&#xA;Category: {category}{newline}&#xA;Machine: {localMachine}{newline}&#xA;App Domain: {localAppDomain}{newline}&#xA;ProcessId: {localProcessId}{newline}&#xA;Process Name: {localProcessName}{newline}&#xA;Thread Name: {threadName}{newline}&#xA;Win32 ThreadId:{win32ThreadId}{newline}" 
           name="Text Formatter" />
    </formatters>
    <categorySources>
      <add switchValue="Information" name="Logging Only">
        <listeners>
          <add name="Flat File Trace Listener" />
        </listeners>
      </add>
      <add switchValue="Error" name="Errors Only">
        <listeners>
          <add name="Formatted EventLog TraceListener" />
        </listeners>
      </add>
    </categorySources>
    <specialSources>
      <allEvents switchValue="All" name="All Events" />
      <notProcessed switchValue="All" name="Unprocessed Category" />
      <errors switchValue="Information" name="Logging Errors &amp; Warnings" />
    </specialSources>
  </loggingConfiguration> 
```

在上面的某些行中，我已经用 ... 替换了我的数据。

目前我正在使用它来登录文件：

```
if (Logger.IsLoggingEnabled())
{
    Logger.Write("Some text...");
} 
```

我需要能够让 Logger.IsLoggingEnabled() 返回 false，我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T16:49:20.427

只需为此使用 Logging Enabled 过滤器。请参阅[http://msdn.microsoft.com/en-us/library/ff664548%28v=PandP.50%29.aspx](http://msdn.microsoft.com/en-us/library/ff664548%28v=PandP.50%29.aspx)。

# java - 使用 mongodb 和 java 从 json 文件中解析特定数量的数据

> ID：10976522
> 
> 赞同：0
> 
> 时间：2012-06-11T08:16:43.087
> 
> 标签：java, mongodb

我在我的一个项目中使用 java 中的 mongodb。用户将输入他知道将在 json 文件中的时间。我想要做的是搜索包含该时间的文档，从该文档到下一个 LoginRequest 文档，所有文档都将作为输出生成。

```
 For example:
    { "_id" : { "$oid" : "4ceb753a70fdf877ef5113ca"}, "LoginRequest" : { "Time" : "11-06-2012 11:59:33", "innerAttr4" : "innerValue4"} }
    { "_id" : { "$oid" : "4ceb753a70fdf877ef5113cc"}, "LoginResponse" : { "innerAttr1" : "innerValue1", "innerAttr4" : "innerValue4"} }
    { "_id" : { "$oid" : "4ceb753a70fdf877ef5113cb"}, "OtherRequest" : { "innerAttr3" : "innerValue3"} }
    { "_id" : { "$oid" : "4ceb753a70fdf877ef5113cd"}, "OtherResponse" : { "innerAttr2" : "innerValue2", "innerAttr4" : "innerValue4"} }
    { "_id" : { "$oid" : "4ceb753a70fdf877ef5113ce"}, "LoginRequest" : { "Time" : "11-06-2012 12:34:05", "innerAttr4" : "innerValue4"} }
    { "_id" : { "$oid" : "4ceb753a70fdf877ef5113cf"}, "LoginResponse" : { "innerAttr1" : "innerValue1", "innerAttr4" : "innerValue4"} }
    { "_id" : { "$oid" : "4ceb753a70fdf877ef5113cg"}, "OtherRequest" : { "innerAttr3" : "innerValue3"} }
    { "_id" : { "$oid" : "4ceb753a70fdf877ef5113ci"}, "LoginRequest" : { "Time" : "11-06-2012 14:59:33", "innerAttr4" : "innerValue4"} }
    { "_id" : { "$oid" : "4ceb753a70fdf877ef5113cm"}, "LoginResponse" : { "innerAttr1" : "innerValue1", "innerAttr4" : "innerValue4"} }
    { "_id" : { "$oid" : "4ceb753a70fdf877ef5113cj"}, "OtherRequest" : { "innerAttr3" : "innerValue3"} }
    { "_id" : { "$oid" : "4ceb753a70fdf877ef5113cs"}, "OtherResponse" : { "innerAttr2" : "innerValue2", "innerAttr4" : "innerValue4"} } 
```

这里假设用户输入时间为“11-06-2012 12:34:05”。所以这个输出应该是：

```
Output:
    { "_id" : { "$oid" : "4ceb753a70fdf877ef5113ce"}, "LoginRequest" : { "Time" : "11-06-2012 12:34:05", "innerAttr4" : "innerValue4"} }
    { "_id" : { "$oid" : "4ceb753a70fdf877ef5113cf"}, "LoginResponse" : { "innerAttr1" : "innerValue1", "innerAttr4" : "innerValue4"} }
    { "_id" : { "$oid" : "4ceb753a70fdf877ef5113cg"}, "OtherRequest" : { "innerAttr3" : "innerValue3"} } 
```

我能够获得`{ "_id" : { "$oid" : "4ceb753a70fdf877ef5113ce"}, "LoginRequest" : { "Time" : "11-06-2012 12:34:05", "innerAttr4" : "innerValue4"} }`输出，但我希望输出如上所述。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T08:28:12.483

您没有在 LoginResponse 或 OtherResponse 文档中存储任何将它们与之前的 LoginRequest 相关联的内容。因此，使用您当前的模式，您无法构造一个查询来返回 LoginRequest，然后是所有其他文档，直到下一个 LoginRequest。

如果不了解应用程序的用途和架构的详细信息，就很难为您提供明确的解决方案。但是，这里有一些建议：

(a) 在所有文档中而不只是在 LoginRequest 中存储时间戳。因此，给定一个 LoginRequest，您可以找到下一个 LoginRequest（执行按时间排序的查询），然后搜索所有其他具有两个 LoginRequest 时间戳之间时间戳的文档。

(b) 如果您的应用程序架构允许，请将 LoginRequest 的 id 存储在 LoginResponse 和 OtherRequest 文档中（直到下一个 LoginRequest）。

(c) 不要为 LoginRequest、LoginResponse 和 OtherRequest 存储单独的文档，而是将单个文档存储在集合中以用于特定登录的所有交互。然后将是一个简单的查询来检索所有这些信息。

# android - ListView 未在适配器加载时刷新

> ID：10976525
> 
> 赞同：0
> 
> 时间：2012-06-11T08:16:53.030
> 
> 标签：android, android-listview, listadapter

我有一个选项卡主机，可将以下文件加载到其中一个选项卡中

```
 package com.api.view;
    import java.io.IOException;
    import java.security.NoSuchAlgorithmException;
    import java.util.ArrayList;
    import java.util.HashMap;

    import javax.xml.parsers.ParserConfigurationException;

    import org.xml.sax.SAXException;

    import com.api.api.api;
    import com.api.app.R;
    import com.api.communication.reports;
    import com.api.sync.data.reportsList;
    import com.api.tools.serverCommunication;
    import com.api.tools.urlbuilder;

    import android.app.Activity;
    import android.app.ProgressDialog;
    import android.content.Context;
    import android.content.Intent;
    import android.net.Uri;
    import android.os.AsyncTask;
    import android.os.Bundle;
    import android.view.LayoutInflater;
    import android.view.View;
    import android.view.ViewGroup;
    import android.widget.AdapterView;
    import android.widget.AdapterView.OnItemClickListener;
    import android.widget.BaseAdapter;
    import android.widget.ListView;
    import android.widget.TextView;

    public class EquipmentTabHistory extends Activity{
        ListView lv;
        ListViewAdapter adapter;
        ArrayList<HashMap<String, String>> menuItems;
        ProgressDialog pDialog;
        static final String KEY_ITEM = "item"; // parent node
        static final String KEY_ID = "id";
        static final String KEY_NAME = "name";
        private class ListViewAdapter extends BaseAdapter {

            private Activity activity;
            private ArrayList<HashMap<String, String>> data;
            private LayoutInflater inflater=null;
            public ListViewAdapter(Activity a, ArrayList<HashMap<String, String>> d) {
                activity = a;
                data=d;
                inflater = (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            }
            public int getCount() {
                return data.size();
            }
            public Object getItem(int position) {
                return position;
            }
            public long getItemId(int position) {
                return position;
            }
            public View getView(int position, View convertView, ViewGroup parent) {
                View vi=convertView;
                if(convertView==null)
                    vi = inflater.inflate(R.layout.list_item, null);
                TextView name = (TextView)vi.findViewById(R.id.name);
                HashMap<String, String> item = new HashMap<String, String>();
                item = data.get(position);
                //Setting all values in listview
                name.setText(item.get("name"));
                return vi;
            }
        }
        private class loadMoreListView extends AsyncTask<Void, Void, Void> {
            protected Void doInBackground(Void... unused) {
                try {
                    reportsList al;
                    int eid = Integer.parseInt(getIntent().getStringExtra("eid"));
                    String[][] surl = new String[1][2];
                    surl[0][0] = "eid";
                    surl[0][1] = ""+eid;
                    String url;
                    url = urlbuilder.buildurl("getEquipmentHistory", surl);
                    api.debug("com.api.view.EquipmentTabHistory","URL: "+url,"info");
                    String pull = serverCommunication.pull(url);
                    reports reports;
                    reports = new reports(pull);
                    for(int i=0;i<reports.getList().size();i++){
                        al = reports.getList().get(i);
                        HashMap<String, String> map = new HashMap<String, String>();
                        map.put(KEY_ID,reports.getList().get(i).did);
                        long timestamp = Integer.parseInt(al.date) * 1000;  // msec  
                        java.util.Date d = new java.util.Date(timestamp);
                        map.put(KEY_NAME,al.ReportId + " - "+al.Typ + " - " + al.description + "("+d.getMonth()+". "+cT(d.getDay())+" "+(1900 + d.getYear())+" - "+d.getHours()+":"+cT(d.getMinutes())+")");
                        menuItems.add(map);
                    }
                } catch (Exception e) {
                    api.debug("com.api.view.EquipmentTabHistory","NSAE: "+e.getMessage(),"error");
                }
                return (null);
            }
            private String cT(int time){
                String r = "";
                r += (time>9)?time:(time>0)?"0"+time:time;
                return r;
            }
        }
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.api_tab_history);
            lv = (ListView) findViewById(R.id.listViewEquipment);
            menuItems = new ArrayList<HashMap<String, String>>();
            adapter = new ListViewAdapter(this, menuItems);
            lv.setAdapter(adapter);
            new loadMoreListView().execute();
            lv.setOnItemClickListener(new OnItemClickListener(){
                public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,long arg3) {
                    api.debug("com.api.view.EquipmentTabHistory","Clicked: "+arg2+"-"+arg3,"warn");
                    api.debug("com.api.view.EquipmentTabHistory","Clicked: "+((TextView)findViewById(R.id.name)).getText().toString(),"warn");
                    api.debug("com.api.view.EquipmentTabHistory","Selected: "+menuItems.get(arg2).get(KEY_ID),"warn");
                    String[][] surl = new String[2][2];
                    surl[0][0] = "did";
                    surl[0][1] = menuItems.get(arg2).get(KEY_ID);
                    surl[1][0] = "eid";
                    surl[1][1] = getIntent().getStringExtra("eid");
                    String docurl;
                    try {
                        docurl = urlbuilder.buildurlNoXml("getDocument",surl,true);
                        api.debug(com.api.view.EquipmentTabHistory.class.toString(),"URL: "+docurl,"info");
                        System.out.println(docurl);
                        Intent browser = new Intent(Intent.ACTION_VIEW , Uri.parse( docurl ) );
                        startActivity(browser);
                    } catch (NoSuchAlgorithmException e) {
                        api.debug("com.api.view.EquipmentTabHistory","No Such Algorithm "+e.getMessage(),"error");
                    }
                }

            });
        }
    } 
```

页面加载没有任何异常。在日志中（通过 api.debug），我可以看到文件已加载，并且已被解析。但我必须切换标签才能看到更改。一旦异步方法停止加载，我应该如何修改它刷新列表视图的代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:37:15.283

您必须像这样覆盖`onPostExecute()`内部的另一个方法`AsyncTask`：

```
@Override
protected Void onPostExecute(Void... unused) {
    adpater.notifyDatasetChanged();  // will tell the adapter to refresh itself
} 
```

# python - python match 只捕获第一组和最后一组 - 我误解了什么吗？

> ID：10976527
> 
> 赞同：5
> 
> 时间：2012-06-11T08:16:57.810
> 
> 标签：python, regex, match

我正在编写一个应该与一系列作者匹配的小 Python 脚本，为此我正在使用`re`-module。我遇到了一些意想不到的事情，我已经能够将其简化为以下非常简单的示例：

```
>>> import re
>>> s = "$word1$, $word2$, $word3$, $word4$"
>>> word = r'\$(word\d)\$'
>>> m = re.match(word+'(?:, ' + word + r')*', s)
>>> m.groups()
('word1', 'word4') 
```

所以我定义了一个“基本”正则表达式，它与我输入的主要部分相匹配，具有一些可识别的特征（在这种情况下我使用了`$`- 符号），然后我尝试匹配一个单词加上一个可能的额外单词列表。

我原以为`m.groups()`会显示：

```
>>> m.groups()
('word1', 'word2', 'word3', 'word4') 
```

但显然我做错了什么。我想知道为什么这个解决方案不起作用以及如何更改它，以便我得到我正在寻找的结果。顺便说一句，这是在 Linux 机器上使用 Python 2.6.6，以防万一。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-11T08:28:43.967

尽管您正在匹配 every `$word#$`，但第二个捕获组不断被匹配的最后一个项目替换。

让我们看一下调试器：

```
>>> expr = r"\$(word\d)\$(?:, \$(word\d)\$)*"
>>> c = re.compile(expr, re.DEBUG)
literal 36
subpattern 1
  literal 119
  literal 111
  literal 114
  literal 100
  in
    category category_digit
literal 36
max_repeat 0 65535
  subpattern None
    literal 44
    literal 32
    literal 36
    subpattern 2
      literal 119
      literal 111
      literal 114
      literal 100
      in
        category category_digit
    literal 36 
```

如您所见，只有 2 个捕获组：`subpattern 1`和`subpattern 2`. 每次`$word#$`找到另一个时，`subpattern 2`都会被覆盖。

至于潜在的解决方案，我建议使用`re.findall()`而不是`re.match()`：

```
>>> s = "$word1$, $word2$, $word3$, $word4$"
>>> authors = re.findall(r"\$(\w+)\$", s)
>>> authors
['word1', 'word2', 'word3', 'word4'] 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-11T08:23:45.827

您的正则表达式中只有两个捕获组。试试`re.findall(word, s)`吧。

[`regex`模块](http://pypi.python.org/pypi/regex)支持重复捕获。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-11T08:26:35.237

当您有可选或重复的捕获组时，就像您这样做：

```
(?:, \$(word\d)\$)* 
```

正则表达式只有一个位置用于返回该组中捕获的文本，尽管它匹配字符串的 3 个部分，因此它包含*最后一个*这样的子字符串。

要查找所有子字符串，您可以[`findall`](http://docs.python.org/library/re.html#re.findall)在其他分隔符上使用或标记字符串。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-11T08:20:55.417

您可以避免像这样的正则表达式：

```
>>> s = "$word1$, $word2$, $word3$, $word4$"
>>> s.replace('$','').split()
['word1,', 'word2,', 'word3,', 'word4'] 
```

使用正则表达式，您可以`findall()`改用：

```
>>> re.findall(word, s)
['word1', 'word2', 'word3', 'word4'] 
```

# wordpress - Wordpress 解析错误：语法错误，意外的 T_ENCAPSED_AND_WHITESPACE

> ID：10976528
> 
> 赞同：0
> 
> 时间：2012-06-11T08:17:23.407
> 
> 标签：wordpress

> 解析错误：语法错误，第 100 行 /home/chilinbk/public_html/kunde/tkh/wp-config.php 中的意外 T_ENCAPSED_AND_WHITESPACE

第 100 行是最后一行。但我想不通！

希望可以有人帮帮我。

```
<?php
/**
 * The base configurations of the WordPress.
 *
 * This file has the following configurations: MySQL settings, Table Prefix,
 * Secret Keys, WordPress Language, and ABSPATH. You can find more information
 * by visiting {@link http://codex.wordpress.org/Editing_wp-config.php Editing
 * wp-config.php} Codex page. You can get the MySQL settings from your web host.
 *
 * This file is used by the wp-config.php creation script during the
 * installation. You don't have to use the web site, you can just copy this file
 * to "wp-config.php" and fill in the values.
 *
 * @package WordPress
 */

// ** MySQL settings - You can get this info from your web host ** //
/** The name of the database for WordPress */
define('DB_NAME', '');

/** MySQL database username */
define('DB_USER', '');

/** MySQL database password */
define('DB_PASSWORD', '');

/** MySQL hostname */
define('DB_HOST', 'localhost');

/** Database Charset to use in creating database tables. */
define('DB_CHARSET', 'utf8');

/** The Database Collate type. Don't change this if in doubt. */
define('DB_COLLATE', '');

/**#@+
 * Authentication Unique Keys and Salts.
 *
 * Change these to different unique phrases!
 * You can generate these using the {@link https://api.wordpress.org/secret-key/1.1/salt/ WordPress.org secret-key service}
 * You can change these at any point in time to invalidate all existing cookies. This will force all users to have to log in again.
 *
 * @since 2.6.0
 */
define('AUTH_KEY',         'if4tkr3z8umc1m9k94gja2agq8tyuc5adboxyccimlswfocnozsiekmpso2udgin');
define('SECURE_AUTH_KEY',  'l5pf9yf02yqfztyxfwz8ustkskcu3h1fuozohxnibjhwdpchqa9x43gx7nrsvirn');
define('LOGGED_IN_KEY',    'sv1pejwz3p9uujbpojwukoceleeagrrrwxqgnwuv3aahricp8eelrxme3yicdafa');
define('NONCE_KEY',        'sxizz7mc0kmafx0plgqmyub5jetjqtsudnwxlegcxtza3nc3xv0nqo4aqap8imzl');
define('AUTH_SALT',        'z674t27gm67tvjtq1achhdwxz2rmnrs7dht3a8vsanxwt9wsviab4ku7jeadhnxw');
define('SECURE_AUTH_SALT', 'pjob5np9us1ob4e3oqkmyevc82n6vhagpoz4e4ezrwc8as0osejirfkomkgbtjuf');
define('LOGGED_IN_SALT',   'c4h8ag0aalctr7rxhj15iqqknpwv7wivqdqmnybowwbylwynlf7bk6vmcjfmyt5n');
define('NONCE_SALT',       'jtid8ydl4wq6wxgnxlfgsm7icpghitdkrgtkp7dix7oicyfrkgvp9m0kwtloupmi');

/**#@-*/

/**
 * WordPress Database Table prefix.
 *
 * You can have multiple installations in one database if you give each a unique
 * prefix. Only numbers, letters, and underscores please!
 */
$table_prefix  = 'wp_';

/**
 * WordPress Localized Language, defaults to English.
 *
 * Change this to localize WordPress.  A corresponding MO file for the chosen
 * language must be installed to wp-content/languages. For example, install
 * de_DE.mo to wp-content/languages and set WPLANG to 'de_DE' to enable German
 * language support.
 */
define ('WPLANG', '');

/**
 * For developers: WordPress debugging mode.
 *
 * Change this to true to enable the display of notices during development.
 * It is strongly recommended that plugin and theme developers use WP_DEBUG
 * in their development environments.
 */
define('WP_DEBUG', false);

define('WP_ALLOW_MULTISITE', true);
define( 'MULTISITE', true );
define( 'SUBDOMAIN_INSTALL', false );
$base = '/tkh/';
define( 'DOMAIN_CURRENT_SITE', 'kunde.chiliweb.no' );
define( 'PATH_CURRENT_SITE', '/tkh/' );
define( 'SITE_ID_CURRENT_SITE', 1 );
define( 'BLOG_ID_CURRENT_SITE', 1 );

/* That's all, stop editing! Happy blogging. */

/** Absolute path to the WordPress directory. */
if ( !defined('ABSPATH') )
    define('ABSPATH', dirname(__FILE__) . '/');

/** Sets up WordPress vars and included files. */
require_once(ABSPATH . 'wp-settings.php');
p'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:23:31.100

最后一行 ( `p');`) 看起来像是之前存在的一行的片段。只需删除剩余部分或恢复到以前的版本，就可以了。

# forms - Spring 3 mvc 嵌套形式：选择

> ID：10976529
> 
> 赞同：0
> 
> 时间：2012-06-11T08:17:36.297
> 
> 标签：forms, spring, spring-mvc

在我的场景中，我在 JSP 上开发嵌套选择，绑定到一个 bean：

**豆**

```
public class WizardPanelp1Bean {

private Integer id;
private Stringofpanels stringofpanels;
private Paneltype paneltype;
private Integer number;
private String paneltypestring;
//and getters/setters... [Omitted] 
```

现在我有了 Paneltype 对象，另一个简单的 bean

**面板类型**

```
private Integer id;
private double peakpower;
private double weight;
private String name;
private double dimension;
private double conversion;
private Set functions = new HashSet(0);
private Set sensors = new HashSet(0);
private Set panels = new HashSet(0);
//[Getters/setters omitted as usual] 
```

所以，我准备了视图，用一个名为**wb**的 bean 一个简单的面板数组列表

```
 public class PanelsBean {
    private ArrayList<WizardPanelp1Bean> panels =new ArrayList<WizardPanelp1Bean>(); 
```

最后我去了**jsp**（请注意这是在a中）

```
<tbody>
         <c:forEach items="${wb.panels}" varStatus="loop" var="item">
            <tr>
                <td>${item.id}</td>
                <td>
                    <form:select  path="panels[${loop.index}].paneltype" >
                        <c:forEach var="type" items="${types}">
                            <c:choose>
                                <c:when test="${item.paneltype.id==type.id}">
                                    <form:option selected="selected" value="${type.id}" label="${type.name}" />
                                </c:when>
                                <c:otherwise>
                                    <form:option value="${type.id}" label="${type.name}" />
                                </c:otherwise>
                            </c:choose>
                        </c:forEach>
                    </form:select>
                </td>
                    <td><form:input style="width:180px" path="panels[${loop.index}].number" /></td>
                    <td>
                    <div>
                        <form:input style="visibility: hidden ; width:0px" path="panels[${loop.index}].id" disabled="disabled" />
                        <a href="javascript:remove(${item.id},${stringofpanels.id})" class="wb.panels.remove" >Rimuovi</a>
                    </div>
                    </td>
                </tr>
            </c:forEach>    
     </tbody> 
```

每次我得到一个对面板类型的空引用。我显然`@InitBinder`在控制器上使用了一个： **Initbinder**

```
@InitBinder
    protected void initBinder(HttpServletRequest request, ServletRequestDataBinder binder) throws Exception {
            binder.registerCustomEditor(Paneltype.class, "paneltype", new PropertyEditorSupport() {
                @Override
                public void setAsText(String text) {
                    int i=0;
                    PaneltypeDAO pDAO=new PaneltypeDAO();
                    setValue(pDAO.findById(Integer.parseInt(text)));
                }
            });
        } 
```

但代码永远不会达到这一点。就像 jsp 确定该值为`null`.

建议？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T09:17:17.507

我认为当您尝试提交此表单并且未在模型中获取绑定值时，您的问题仍然存在。

尝试使用**LazyList**初始化您的列表。请替换 PanelsBean 类中的面板声明，如下所示。

```
private List<WizardPanelp1Bean> panels = LazyList.decorate(new ArrayList<WizardPanelp1Bean>(),FactoryUtils.instantiateFactory(WizardPanelp1Bean.class)); 
```

希望这对您有所帮助。干杯。

# actionscript-3 - 如何在 iOS 的 Flash AIR 移动应用程序中显示 facebook 个人资料图片

> ID：10976531
> 
> 赞同：1
> 
> 时间：2012-06-11T08:17:43.747
> 
> 标签：actionscript-3, facebook-graph-api, mobile, air

我正在为 iphone 开发 Flash AIR 应用程序，为移动设备使用“facebook-actionscript-api”。

有人知道如何使用上述 API 显示 FB 用户的个人资料图片吗？

谢谢和问候，斯瓦蒂。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T18:58:35.550

假设您已经知道如何登录 FB Mobile。

FacebookMobile.api("/me", callbackFunction); 在回调函数中，您将收到来自登录用户的大量数据。

如果您是新手，请来[这里](http://www.adobe.com/devnet/facebook/articles/flex_fbgraph_pt1.html)。这是一篇针对 Flex 的文章，但您可以将相同的信息用于 Flash 中的任何内容。

# python - distutils、distutils2、点子和要求

> ID：10976534
> 
> 赞同：8
> 
> 时间：2012-06-11T08:17:53.890
> 
> 标签：python, pip, distutils, buildout

我正在潜入打包 Python 应用程序的世界，并设法进入这种混乱状态，由于我应该处理的所有概念和选项，我的头开始旋转。

**问题：**

***我需要完成什么？***从位于 git 服务器上的源代码部署我的 Python 项目。部署工具应该获取并安装所有依赖项，其中大部分都可以通过 PIP 获得，并且需要通过 Git 获取和安装。最终结果应该可以通过 Pip 安装，所以我可以执行以下操作：

```
[~] git clone git://some/path/project.git
[~] pip install project/ 
```

**背景：** 目前我正试图让 Distutils2 做我想做的事，但似乎使用“generate-setup”命令制作的 setup.py 不能与 Pip 一起使用。

我想使用 Distutils2，因为它应该是最未来的证明。但是关于所有工具的各种文档都是可怕的（准确的信息与过时和不准确的信息混合在一起），这让一个人质疑他的理智。

所以我该怎么做？坚持 distutils 和 setup.py？还是我需要看一下Buildout之类的东西？

好心的回答者能否说明我应该使用特定工具做什么（例如：使用 Distutils2 部署代码，使用 PIP 安装依赖项，为 git 依赖项编写脚本并将所有内容粘合在一起做 XYZ）。

编辑：我使用的是 Distutils2 1.0a4，它似乎与文档不兼容。

Edit2：重新格式化问题，使我的问题更清楚。

Edit3：这是我第四次尝试打破 Python 的打包和分发工具链。我并不是想让其他人为我做我的工作，但是对于一个菜鸟来说，几乎不可能破解一个特定的工具应该做什么，它从哪里开始，另一个在哪里结束。特别是因为工具之间的功能重叠。我不在硅谷，周围都是圣人，他们可以让我了解这些秘密，公开的文件毫无用处。

**最终编辑：** 虽然我在开始这个问题时并没有真正考虑用 Buildout 替换 virtualenv。但是在进行研究时，我意识到了一些我一直都知道的事情，但我并没有完全清楚。关于 Python 打包和部署自动化有很多方法。还有许多工具可以帮助您完成工作。然而，尽管工具之间存在显着的功能重叠，但工具链一直在发展，到目前为止还没有明确的“标准最佳实践”。分发工具链的军备竞赛仍然如火如荼，尚未出现明显的胜利者。这可能会让我们这些菜鸟感到困惑，他们希望 Python 中的大部分垃圾都能正常工作。我所追求的（distutils/setuptools + pip + virtualenv 以 Buildout 方式，甚至与 Buildout 半集成）当然是可行的，但这没有多大意义，不是因为它不可能——而是因为没有人这样做。如果您需要这种复杂程度，那么您需要做出承诺。就我个人而言，我决定离开 virtualenv（对于这个项目）并拥抱 Buildout。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-11T09:00:11.320

看看[buildout](http://www.buildout.org/)；与一个名为[mr.developer](https://pypi.python.org/pypi/mr.developer)的构建插件一起，您可以构建一个部署系统，可以满足您的所有要求。

网上有很多关于构建配置的示例和演示，这里有一些可以帮助您入门：

*   关于构建的介绍性演示：[http ://www.slideshare.net/djay/buildout-how-to-maintain-big-app-stacks-without-losing-your-mind](http://www.slideshare.net/djay/buildout-how-to-maintain-big-app-stacks-without-losing-your-mind)

    包括演示文稿的 YouTube 视频，因此您可以一起收听。

*   [关于如何使用 buildout 开发 Django 应用程序的](http://jacobian.org/writing/django-apps-with-buildout/)优秀博客文章。

    包括有关 buildout 和 setup.py 如何相互作用的详细信息。

*   [Planet.plone.org](http://planet.plone.org/)的配置：[https ://github.com/plone/planet.plone.org/blob/master/buildout.cfg](https://github.com/plone/planet.plone.org/blob/master/buildout.cfg)

    这构建了一个具有配置、样式、apache 配置和 cronjobs的[venus RSS 聚合器，并根据需要引入鸡蛋。](http://intertwingly.net/code/venus/)

*   [Plone](http://plone.org)核心开发构建：[https](https://github.com/plone/buildout.coredev) : //github.com/plone/buildout.coredev

    复杂的构建，引入了开发 Plone CMS 所需的所有资源；这是一个复杂的野兽，但它展示了你可以做什么`mr.developer`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T09:02:52.023

这并不难：安装[Jenkins](http://jenkins-ci.org/)并使用 pip 的[requirements.txt 文件](http://www.pip-installer.org/en/latest/requirements.html)来定义项目所需的包。之后，您可以在 Jenkins 中配置构建以执行各种任务，包括安装所需的包。它可以从您的存储库中获取源代码并安装 + 构建整个项目。

# c# - 我们自己的代码应该订阅 PropertyChanged 吗？

> ID：10976537
> 
> 赞同：1
> 
> 时间：2012-06-11T08:18:06.947
> 
> 标签：c#, wpf, events, inotifypropertychanged

我们有许多实现 INotifyPropertyChanged 以允许 WPF 绑定更新的数据对象。还有很多地方我们的代码订阅了 PropertyChanged，因为我们对一些值更新感兴趣。

这导致了非常丑陋的代码，我们需要检查哪个属性实际更改了（我们使用表达式来执行此操作，因此它始终是类型/重构安全的）。

是在我们想要订阅它时引发特定事件（PriceChanged 等）的偏好，还是挂钩到 PropertyChanged 并检查属性名称？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:51:30.390

如果您要订阅的一些属性不是很大，我会创建专用事件，因为它们在可读性和可发现性方面更好。

但是，如果有很多属性，答案就不那么明显了。我通常会尝试通过应用[观察者同步](http://martinfowler.com/eaaDev/MediatedSynchronization.html)模式（订阅模型更改而不是 ViewModel）来避免这种情况。它可以帮助我保持虚拟机的精简。

# django - 使用 ElasticSearch 在 Haystack 中进行多语言词干提取

> ID：10976539
> 
> 赞同：4
> 
> 时间：2012-06-11T08:18:14.997
> 
> 标签：django, multilingual, django-haystack, stemming

我想在以 ElasticSearch 作为后端的 Django Haystack 中为每个用户设置词干语言。

在我们的 Django 模型中，我们有图像对象，其中包含以逗号分隔的标签字符字段，用于英语、西班牙语、德语……：tags_en、tags_es、tags_de 等。

西班牙用户应该只在 tags_es 中搜索，并且查询也应该用西班牙文进行检索。

我找不到有关此类功能的任何信息，而且我不介意在 Haystack 的 ElasticSearch 后端中进行调整。你能指出我正确的方向吗？如果有 Solr 的 Haystack 解决方案，那也没关系。

# jquery - 在一页上处理多个表单

> ID：10976541
> 
> 赞同：1
> 
> 时间：2012-06-11T08:18:23.330
> 
> 标签：jquery

HTML：

```
<form method="post" action="action=save&amp;id=239" id="save-form">
    <input type="text" value="0" name="views" /> <input type="submit" value="save plz" name="save" />
</form>
<form method="post" action="action=save&amp;id=862" id="save-form">
    <input type="text" value="3" name="views" /> <input type="submit" value="save plz" name="save" />
</form>
<form method="post" action="action=save&amp;id=12" id="save-form">
    <input type="text" value="2" name="views" /> <input type="submit" value="save plz" name="save" />
</form> 
```

PHP：

```
if ($_GET["action"] == "save") {
    if (isset($_GET["id"]) && preg_match("/^\d+$/", $_GET["id"])) {
        $id = $_GET["id"];
        // update view count here
    }
} 
```

jQuery：

```
$('#save-form').ajaxForm({
    beforeSubmit: function() {      
        //
    },
    success: function(data) {
        //
    }
}); 
```

我正在使用这个插件：http: [//jquery.malsup.com/form/#html](http://jquery.malsup.com/form/#html)

我现在意识到我所有的表单都共享相同的 id `save-form`。此代码适用于`save-form`. 但我希望它适用于所有人。这让我想到了我的主要问题：

如何修改我当前的 jQuery/HTML 来处理每个单独的表单。

理想情况下，我会有一个唯一的 id，例如`save-form-239`and `save-form-862`。但我不想写`$('#save-form-239')`，`$('#save-form-262');`对于每一种形式..我能做什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-11T08:50:21.767

即使我确定 dbaseman 的解决方案可以正常工作，通常最好避免使用具有相同 ID 的多个元素，因为根据 HTML 规范它是无效的。

一个更清洁的解决方案是使用，`class="save-form"`而不是`id="save-form"`，然后做`$('.save-form').ajaxForm(...);`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:20:48.907

您可以像这样编写选择器来获取单独的表单：

```
$('[id=save-form]').eq(0); 
```

（使用显式属性选择器而不是“#”快捷方式允许 JQuery 提取具有匹配 ID 的所有元素）

我想你会想要这样的东西来处理每个表格：

```
$('[id=save-form]').each(function() {
    $(this).ajaxForm({
        beforeSubmit: function() {      
            //
        },
        success: function(data) {
            //
        }
    });
}); 
```

# javascript - jquery取消绑定特殊事件？

> ID：10976543
> 
> 赞同：-2
> 
> 时间：2012-06-11T08:18:30.143
> 
> 标签：javascript, jquery, jquery-selectors

有我的代码，我想在 mousemove 时提醒“测试”一次，然后删除 mousemove 事件，但我使用的`unbind()`似乎不起作用，有人可以帮助我吗？

```
$(document).ready( function(){
  $(document).mousemove( function(){
    alert( "test" );
    $(document).unbind("mousemove");
  });
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:20:53.873

只需使用[$.one()](http://api.jquery.com/one/)绑定一次性使用事件处理程序。

```
$(document).ready(function() {
    $(document).one("mousemove", function() {
        alert("test");
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T08:23:25.553

我认为它现在**打开**和**关闭**而不是**绑定/取消绑定**

你能试试吗

```
$(document).off("mousemove"); 
```

# c# - 如何在 TFS 中维持多个项目签入

> ID：10976546
> 
> 赞同：0
> 
> 时间：2012-06-11T08:18:39.193
> 
> 标签：c#, visual-studio, visual-studio-2008, tfs

一个 TFS 多个项目 许多 .cs 文件... 许多软件工程师 许多检查同时开发的所有项目。

有些项目提前结束，必须部署，但有些项目还没有完成。

我们做什么，我们注释属于未完成项目的代码部分是否有任何方法比 TFS 2008 上的手动方法更好

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T08:22:39.950

在您最终遭遇火车事故之前，您需要查看您的分支策略......请参阅[此处](http://msdn.microsoft.com/en-us/magazine/gg598921.aspx)以获取良好的指南。每个不同的版本都应该有一个分支。在分支之间合并代码有少量额外的工作，但它会导致每个版本都有一个可重复测试的“主”分支。还要看看你是如何切割标签的，以及你的持续集成是如何设置的（如果你目前没有的话，那就煽动它）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:55:28.253

There's no secret out there, you have two main choices:

1) You have one branch per project that can be atomically released, then when you do a global release you merge only the branches of the projects that are ready to released to the global release branch. (it's a merge from latest)

2) All your projects are in only one branch (can be the case if you really do have a lot of project, too many to go 1 branch per project), then you must rely on traceability (whether using Work Item or a custom list of Changesets) to merge only the changesets of the ready to released projects to the global released branch. (it's a cherry pick merge of changesets)

Okay there's a third secret choice:

3) Use a blend of 1 & 2, if you have for instance 200 projects, you can certainly create something like 10 "groups of projects" to store all the projects that are related (technically or functionally) into one branch. Then you end up with 10 branch of 20 projects each with the constraint that all projects inside a branch must be "ready for release" to be merged in the global release branch.

1) is easy to implement, but won't be a good idea if you have a lots of projects (>20) 2) offers the best flexibility but you have to be pretty prepared and organized to set it up. 3) is still a mix of 1 & 2 both for pros & cons.

# android - 如何通过 URL 链接打开已安装的 apk？

> ID：10976548
> 
> 赞同：2
> 
> 时间：2012-06-11T08:18:44.373
> 
> 标签：android, installation, apk

我想做这样的事情：

单击链接（apk 的 URL）

1.  如果之前没有安装过apk，那么会下载apk。

2.  如果apk之前已经安装过apk，apk会被打开。

那么是否可以通过URL链接打开apk？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T09:06:49.520

您可以使用[PackageManager](http://developer.android.com/reference/android/content/pm/PackageManager.html)类搜索一个包，即您想要开始下载的包，如果该包存在，您可以调用它的启动意图。

这里有一些例子。

[如何获取已安装的 android 应用程序列表并选择一个运行](https://stackoverflow.com/questions/2695746/how-to-get-a-list-of-installed-android-applications-and-pick-one-to-run)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-30T14:57:00.063

看看[这个例子](https://testflightapp.com/androidsplash/)和 TestFlight 的网页。有一个链接`Already Installed? Launch the App`——一个简单的`<a>`标签，`href`设置为`testflightapp://com.testflightapp.androidapp?scheme=http&amp;host=testflightapp.com&amp;path=m/builds`.

它可以部分工作，如您所愿——它运行已安装的应用程序。但是，我不知道这种 href / 协议是否仅由已安装的 Test Flight 应用程序支持（似乎如此）或一般在 Android 系统中。

因此，您自己的应用程序（您希望通过链接安装或运行的应用程序）似乎必须自己注册并处理私有协议，如本例所示。

# java - 在 HoneyComb 的特定部分使用 SectionIndexer 时，滚动条消失

> ID：10976549
> 
> 赞同：16
> 
> 时间：2012-06-11T08:18:46.640
> 
> 标签：java, android

我正在使用适配器来`ListView`实现`SectionIndexer`。`ListView`已`fastScrollEnabled`在 xml 文件中设置为 true。在 Android 2.2 和 2.3 上一切正常，但是当我在装有 Android 3.0 的平板电脑上测试我的应用程序时，滚动条在某些部分消失了。例如，当我向下滚动列表时，在以字母 AB 开头的元素处滚动条可见，但对于字母 CH 则不可见，然后在 H 之后再次可见。

此适配器用于在 ListView 中按字母顺序对内容进行排序，以便可以使用 fastscroll。

应用程序是为 API Level 8 设计的，所以我不能使用 fastScrollAlwaysVisible。

这是我的适配器的代码：

```
public class AlphabetSimpleAdapter extends SimpleAdapter implements SectionIndexer {

    private HashMap<String, Integer> charList;
    private String[] alphabet;
    public Typeface tfSansMedium;
    public Context mContext; 
    public int mResource;
    public int[] mTo;
    public List<? extends Map<String, ?>> mData;
    public String mTitleKey;

    public AlphabetSimpleAdapter(Context context,
            List<? extends Map<String, ?>> data, int resource, String[] from,
            int[] to, String titleKey /* key sent in hashmap */) {
        super(context, data, resource, from, to);
        mData = data;
        mTitleKey = titleKey;
        mContext = context;
        mResource = resource;
        mTo = new int[to.length];
        for ( int i = 0; i < to.length; i ++)
        {
            mTo[i] = to[i];
        }
        charList = new HashMap<String, Integer>();
        int size = data.size();
        tfSansMedium = Typeface.createFromAsset(context.getAssets(), "fonts/VitesseSans-Medium.otf");
        for(int i = 0; i < size; i++) {
                        // Parsing first letter of hashmap element
            String ch = data.get(i).get(titleKey).toString().substring(0, 1); 
            ch = ch.toUpperCase();

            if(!charList.containsKey(ch)) {
                charList.put(ch, i); // Using hashmap to avoid duplicates
            }
        }

        Set<String> sectionLetters = charList.keySet(); // A set of all first letters

        ArrayList<String> sectionList = new ArrayList<String>(sectionLetters); // Creating arraylist to be able to sort elements
        Collections.sort(sectionList, Collator.getInstance(new Locale("pl", "PL"))); // Sorting elements
        alphabet = new String[sectionList.size()];
        sectionList.toArray(alphabet);

    }

    // Methods required by SectionIndexer

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        View v = convertView;
        if (v == null) {
            LayoutInflater li = (LayoutInflater)mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            v = li.inflate(mResource, null);
        }
        for (int i = 0; i < mTo.length; i ++) {
            TextView tv = (TextView)v.findViewById(mTo[i]);
            if (tv != null) tv.setTypeface(tfSansMedium);
        }
        return super.getView(position, v, parent);
    }

    @Override
    public int getPositionForSection(int section) {
        if(!(section > alphabet.length-1)) {
            return charList.get(alphabet[section]);
        }
        else {
            return charList.get(alphabet[alphabet.length-1]);
        }
    }

    @Override
    public int getSectionForPosition(int position) {
        return charList.get(mData.get(position).get(mTitleKey).toString().substring(0, 1));
    }

    @Override
    public Object[] getSections() {
        return alphabet;
    }
} 
```

`charList`是一个 HashMap，我在其中存储字母及其最后出现的索引，因此当我有 6 个以字母“A”开头的元素时，键“A”的值为 5，依此类推。

`alphabet`是一个包含所有现有首字母的字符串数组。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-12T11:23:09.790

我面临同样的问题。我只是将我的最低 SDK 版本设为 8，将 traget 设为 16，并编写了以下代码。一切正常。

```
 int currentapiVersion = android.os.Build.VERSION.SDK_INT;
                 if (currentapiVersion <= android.os.Build.VERSION_CODES.FROYO){
                     // Do something for froyo and above versions
                     fblist.setFastScrollEnabled(true);

                 } else if(currentapiVersion > android.os.Build.VERSION_CODES.HONEYCOMB){
                     // do something for phones running an SDK before froyo
                     fblist.setFastScrollEnabled(true);
                     fblist.setFastScrollAlwaysVisible(true);
                 } 
```

# ios - 视图控制器的动画加载

> ID：10976551
> 
> 赞同：0
> 
> 时间：2012-06-11T08:18:57.263
> 
> 标签：ios, ios5

我是ios的新手，所以以此来判断我的问题。

我有一个代码可以使用。在代码中，我有一个从 FSVerticalTabBarController 继承的垂直标签栏控制器。我们使用这个标签栏控制器在视图控制器之间切换。

我想要的是让视图控制器想出一个动画。任何类型的默认动画都可以。我怎样才能做到这一点？这是代码，感谢您的帮助：

```
 @implementation AIVerticalTabBarController

@synthesize appDelegate;

- (void)viewDidLoad
{
    [super viewDidLoad];

    [self setDelegate:self];

    [[self tabBar] setBackgroundColor:[UIColor darkGrayColor]];

    NSArray *titles = [NSArray arrayWithObjects:@"Home", @"Export", @"Settings", @"Titles", @"Slides", @"Text doc", nil];
    NSArray *viewClasses = [NSArray arrayWithObjects:@"AIViewController", @"AIViewController", @"AIViewController", @"AITitlesViewController", @"AISlidesViewController", @"AIViewController", nil];

    NSMutableArray *controllersToAdd = [[NSMutableArray alloc] init];
    for (NSUInteger i = 0; i < [titles count]; i++) {
        AIViewController *viewC = [[NSClassFromString([viewClasses objectAtIndex:i]) alloc] init];
        [viewC setAppDelegate:appDelegate];
        UITabBarItem *tbi = [[UITabBarItem alloc] initWithTitle:[titles objectAtIndex:i] image:nil tag:i];

        [viewC setTabBarItem:tbi];

        [controllersToAdd addObject:viewC];
    }

    [self setViewControllers:[NSArray arrayWithArray:controllersToAdd] animated:YES];

}
@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:29:27.633

您可以通过将此方法添加到您的 appDelegate 来做到这一点，不要忘记导入 QuartzCore 库

```
`-(BOOL)tabBarController:(UITabBarController *)tabBarController didSelectViewController:(UIViewController *)viewController{

```
CATransition *transition = [CATransition animation];
transition.duration = 1.0;
transition.type = kCATransitionPush; //choose your animation
[viewController.view.layer addAnimation:transition forKey:nil];
[self.tabBarController.view addSubview:viewController.view];

return YES; 
```` 

`}` 
```

# java - 尽管缺少依赖项，但继续 maven 构建

> ID：10976553
> 
> 赞同：2
> 
> 时间：2012-06-11T08:19:01.257
> 
> 标签：java, maven, maven-3

尽管缺少依赖项，有没有办法告诉 maven 继续构建？我试过`<optional>true</optional>`了，但在这种情况下似乎没有这样做。

我已经为打包阶段构建了一个 costum Maven 插件，即使找不到一个或多个依赖项，它仍然需要打包。

提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-11T08:23:22.187

```
<optional>true</optional> 
```

可选意味着使用您的库的客户端不一定需要该依赖项。一个例子是 Spring 的 ORM 模块，它具有对 Hibernate、JDO、JPA 和 mybatis 的可选依赖项。没有人会在项目中使用所有这些，因此每个都被标记为可选。

您的情况完全不同，您正在尝试编译某些东西，并且只有在您编译的库存在时才能这样做。对不起，它不能那样工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T08:53:59.700

如果您在团队其他成员完成他们的部分时尝试构建一些东西，您可以使用一个 Mocking 框架来创建看起来像您需要的类的东西。查看，例如[mockito](http://code.google.com/p/mockito/)

否则，您唯一能做的就是使用 -fn (fail-never) 运行 mvn，但这会掩盖您的*所有*错误，而不仅仅是缺少的依赖项

# android - 如何进行单个查询以检查联系人是否有电话号码并且是否存在于某个组中说“abc”？

> ID：10976554
> 
> 赞同：0
> 
> 时间：2012-06-11T08:19:01.263
> 
> 标签：android

我想查询联系人是否有任何类型的电话号码并且是否存在于特定组中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:30:20.870

我不确定组，但关于包含至少 1 个电话号码，您可以准备这样的查询

```
Uri URI = ContactsContract.Contacts.CONTENT_URI;
String[] projection = {ContactsContract.Contacts._ID, ContactsContract.Contacts.DISPLAY_NAME, ContactsContract.Contacts.HAS_PHONE_NUMBER};
String selection = ContactsContract.Contacts.HAS_PHONE_NUMBER + "=1";

Cursor mContactCursor = .getContentResolver().query(URI, projection, selection, null, null); 
```

请记住在清单中添加权限。

```
<uses-permission android:name="android.permission.READ_CONTACTS" /> 
```

# sql-server-2008 - 如何将源代码控制添加到 sql server 2008？

> ID：10976567
> 
> 赞同：3
> 
> 时间：2012-06-11T08:20:15.997
> 
> 标签：sql-server-2008, tfs

我是 TFS 的新手，我已经安装了它。一切正常，但奇怪的是，我在 SQL Server Management Studio 2008 r2（工具/选项）上找不到源代码控制，如下图所示

![在此处输入图像描述](../Images/7a2a57546ecfaf5ddc62a7140e1b485a.png)

我现在该怎么办 ？

谢谢，南武

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-11T08:26:12.553

您需要[Team Foundation Server MSSCCI Provider](http://visualstudiogallery.msdn.microsoft.com/bce06506-be38-47a1-9f29-d3937d3d88d6)。然后您可以将 SSMS 项目添加到源代码管理中（就像在 Visual Studio 中一样）。

根据我的经验——使用 SSMS 和 TFS 不是很舒服。第三方工具可能是更好的选择（例如 red-gate，虽然还没有真正使用他们的源代码控制工具）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T14:54:27.980

Red Gate 的 SSMS 插件可以轻松地将 SQL Server 连接到 TFS（和所有其他版本控制系统） - 请访问[http://www.red-gate.com/products/sql-development/sql-source-查看它控制/](http://www.red-gate.com/products/sql-development/sql-source-control/)

（免责声明 - 为了保持领先，我为 Red Gate 工作）

# sql - 表中熟人的SQL视图

> ID：10976568
> 
> 赞同：2
> 
> 时间：2012-06-11T08:20:21.430
> 
> 标签：sql

我有一张朋友桌

```
PLAYER_ID    FRIEND_ID
----------------------
1            2
1            3         // 1 knows 3
3            1         // 3 knows 1
2            4 
```

如何为给定的玩家创建一个包含那些熟人（彼此认识）的视图？

```
PLAYER_ID    FRIEND_ID
----------------------
1            3
3            1 
```

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:22:08.763

这是所需的选择：

```
select t1.PLAYER_id, t1.FRIEND_ID from tablename t1
inner join tablename t2 on t1.PLAYER_id = t2.FRIEND_ID and t2.PLAYER_id = t1.FRIEND_ID 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T08:22:26.367

```
select p1.player_id, p1.friend_Id
from player p1 
inner join player p2 on p1.player_id = p2.friend_id and p2.player_id = p1.friend_id 
```

# c# - 如何防止非英文字符并允许非字母字符

> ID：10976569
> 
> 赞同：3
> 
> 时间：2012-06-11T08:20:21.657
> 
> 标签：c#, regex

我有一个字符串，我想确保其中的每个**字母**都是英文的。其他角色，我不在乎。

1.  `34556#%42%$23$%^*&sdfsfr`- 有效的
2.  `34556#%42%$23$%^*&בלה בלה`- 无效

我可以用 Linq 做到这一点吗？正则表达式？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T08:46:20.923

也许你可以使用

```
using System.Linq;

...

static bool IsValid(string str)
{
  return str.All(c => c <= sbyte.MaxValue);
} 
```

这认为所有 ASCII 字符都是“有效的”（甚至是控制字符）。但是标点符号和 ASCII 以外的其他特殊字符不是“有效的”。如果`str`是`null`，则抛出异常。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-11T08:47:23.530

您可以在字符类中定义您想要允许或不想允许的所有字符/字符范围/Unicode 属性/块。

`[abc]`是一个允许 a 和 b 和 c 的字符类

`[^abc]`是一个否定字符类，它匹配除 a 或 b 或 c 之外的所有内容

在你的情况下，我会这样，不需要定义每个字符：

```
^[\P{L}A-Za-z]*$ 
```

从字符串的开头到结尾匹配所有不是字母`[^\p{L}]`或`A-Za-z`.

`\p{L}`是一个 Unicode 属性，并匹配具有属性字母的所有内容。`\P{L}`是否定的版本，所有不是字母的东西。

**测试代码：**

```
string[] StrInputNumber = { "34556#%42%$23$%^*&sdfsfr", "asdf!\"§$%&/()=?*+~#'", "34556#%42%$23$%^*&בלה בלה", "öäü!\"§$%&/()=?*+~#'" };
Regex ASCIILettersOnly = new Regex(@"^[\P{L}A-Za-z]*$");
foreach (String item in StrInputNumber) {

    if (ASCIILettersOnly.IsMatch(item)) {
        Console.WriteLine(item + " ==> Contains only ASCII letters");
    }
    else {
        Console.WriteLine(item + " ==> Contains non ASCII letters");

    }
} 
```

一些更基本的正则表达式解释：[每个程序员都应该知道的正则表达式](http://blog.xisb.de/?p=4)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-11T08:25:08.497

您可以尝试的一件事是将您想要的字符放入此 regx

```
bool IsValid(string input) {     
  return !(Regex.IsMatch(@"[^A-Za-z0-9'\.&@:?!()$#^]", input)); 
} 
```

regx 字符串中指定的字符以外的字符将被忽略，即返回 false..

# eclipse - 调试eclipse插件项目——PermGen空间，内存不足错误

> ID：10976574
> 
> 赞同：13
> 
> 时间：2012-06-11T08:20:36.783
> 
> 标签：eclipse, eclipse-plugin

我有一个插件项目。当我将其作为 Eclipse 应用程序进行调试时，在打开的第二个 Eclipse 中，我想打开项目资源管理器窗口。只要我单击按钮执行此操作，我就会得到`java.lang.OutOfMemoryError: PermGen space`. 我尝试在首选项中更改 PermGen 空间，但没有帮助。任何人都可以提出解决方案。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-06-11T13:59:17.857

您应该将`-XX:MaxPermSize=256m`or 512m 添加到`Window>Preferences>Java>Installed JREs`首选项页面。编辑 JRE 并将其添加到 Default VM arguments 选项卡。

eclipse 本机启动器使用 eclipse.ini 向 Oracle JVM 添加额外的 permgen 参数，但在运行时启动期间不使用该信息。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-11T08:37:38.527

如果您尝试在eclipse启动时扩展它的内存怎么办。为此，只需打开 .ini 文件（在 eclipse 文件夹中）并编辑引用 permSize 和内存大小的行：例如

```
-XX:MaxPermSize=500m
-Xms500m
-Xmx2000m 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-10-29T10:33:50.630

如果您不想为每次启动设置 permgen 大小，您还可以将参数添加到调试配置中。

```
Run > Debug Configurations 
```

选择右侧的“Eclpise Application”-Configuration，然后`Arguments`在选项卡中选择。

添加`-XX:MaxPermSize=512m`到 VM 参数：

```
-Dosgi.requiredJavaVersion=1.6 -Xms256m -Xmx4g -Dfile.encoding=UTF-8 -XX:MaxPermSize=512m 
```

# c# - 适用于 Windows Mobile 的简单 ANPR

> ID：10976584
> 
> 赞同：0
> 
> 时间：2012-06-11T08:21:43.160
> 
> 标签：c#, windows-mobile, compact-framework, ocr, anpr

我需要一些方法来为 Windows Mobile 上的一种形式的车牌进行 ANPR（自动车牌识别），车牌清晰且数字足够大，有人有代码吗？我在 C# 上工作，如果代码是用 C++ 编写的，那就没问题了。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-16T16:29:05.957

查看 OpenALPR ( [http://www.openalpr.com](http://www.openalpr.com) )。它是免费和开源的，并且非常快速/准确。该代码是用 C++ 编写的，因此应该也可以在 Windows Mobile 上运行它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-27T09:18:42.883

有一个不错的牌照 SDK 也可用于 Windows CE/Mobile。

请尝试[http://www.dtksoft.com/dtkanpr.php](http://www.dtksoft.com/dtkanpr.php)

问候

约瑟夫

# sql - 当列是字符串数据类型时，使用 mssql 中的“Pivot”将行转换为列

> ID：10976585
> 
> 赞同：8
> 
> 时间：2012-06-11T08:21:54.283
> 
> 标签：sql, sql-server, pivot

如果没有要使用的聚合函数，我需要知道是否可以使用 MS SQL 中的“枢轴”将行转换为列。我看到很多只有聚合函数的例子。我的字段是字符串数据类型，我需要将此行数据转换为列数据。这就是我写这个问题的原因。我只是用“案例”做的。任何人都可以帮助我......提前谢谢。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-11T11:58:00.677

您可以使用[PIVOT](http://msdn.microsoft.com/en-us/library/ms177410%28v=sql.105%29.aspx)来执行此操作。在执行 PIVOT 时，您可以通过以下两种方式之一进行操作，使用静态 Pivot 对要转换的行进行编码，或者使用 Dynamic Pivot 将在运行时创建列列表：

静态数据透视（参见[SQL Fiddle with a Demo](http://sqlfiddle.com/#!3/88cd4/2)）：

```
SELECT *
FROM
(
  select empid, wagecode, amount
  from t1
) x
pivot
(
  sum(amount)
  for wagecode in ([basic], [TA], [DA])
) p 
```

动态枢轴：

```
DECLARE @cols AS NVARCHAR(MAX),
    @query  AS NVARCHAR(MAX);

select @cols = STUFF((SELECT distinct ',' + QUOTENAME(wagecode) 
                  FROM t1 
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

set @query = 'SELECT empid, ' + @cols + ' from 
             (
                 select empid, wagecode, amount
                 from t1
            ) x
            pivot 
            (
                sum(amount)
                for wagecode in (' + @cols + ')
            ) p '

execute(@query) 
```

这两个都会给你相同的结果

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T11:37:32.447

样本格式

empid 工资代码金额
1 基本 1000
1 TA 500
1 DA 500
2 基本 1500
2 TA 750
2 DA 750

empid 基本 TA DA
1 1000 500 500
2 1500 750 750

我得到的答案是

> ```
>  SELECT empID , [1bas] as basic, [1tasal] as TA,[1otsal] as DA
>    FROM (
>    SELECT empID, wage, amount
>    FROM table) up
>    PIVOT (SUM(amt) FOR wgcod IN ([1bas], [1tasal],[1otsal])) AS pvt
>    ORDER BY empID 
>    GO 
> ```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-11T11:52:50.043

试试这个：

```
SELECT empid AS EmpID     
, ISNULL(SUM(CASE wagecode WHEN 'basic' THEN Amount ELSE 0 END), 0) AS Basic         
, ISNULL(SUM(CASE wagecode WHEN 'ta' THEN Amount ELSE 0 END), 0) AS TA     
, ISNULL(SUM(CASE wagecode WHEN 'da' THEN Amount ELSE 0 END), 0) AS DA 
FROM Employee
GROUP BY empid 
```

# sql-server - 用于动态源数据库的 SSIS 包

> ID：10976586
> 
> 赞同：0
> 
> 时间：2012-06-11T08:21:57.840
> 
> 标签：sql-server, oracle, ssis, package

我想知道以下是否可行，如果可以，请详细解释。谢谢。

在 SQL 中，我们有 Table1，其中包含许多 Oracle 服务器连接详细信息。我们要做的是，我们需要将数据从 Oracle.Table5 复制到 SQl.Table5。条件在 SQL.Table5 中，我知道工厂名称，使用工厂名称我可以在 SQL.Table1 中获取 Oracle 服务器详细信息。所以使用 oracle 服务器详细信息我需要连接到 oracle 并获取匹配的数据，然后在 Sql.Table5 中更新。这可能在 SSIS 包中吗？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T11:49:24.370

是的，可以在 SSIS 中做到这一点。一种方法是使用动态连接字符串：

[http://sql-bi-dev.blogspot.pt/2010/07/dynamic-database-connection-using-ssis.html](http://sql-bi-dev.blogspot.pt/2010/07/dynamic-database-connection-using-ssis.html)

[http://kevine323.blogspot.pt/2012/04/dynamic-connection-strings-in-ssis.html](http://kevine323.blogspot.pt/2012/04/dynamic-connection-strings-in-ssis.html)

考虑到这个问题，这就是我能给你的所有细节。

# forms - 实施 DRY 表格

> ID：10976589
> 
> 赞同：1
> 
> 时间：2012-06-11T08:22:15.747
> 
> 标签：forms, dry, playframework-2.0

进入 Play 2.0，总体而言，被震撼了，很棒的东西。

无论如何，想知道如何在 Play 中实现 DRY 形式？如果您查看[计算机数据库](https://github.com/playframework/Play20/tree/master/samples/scala/computer-database/app/views)示例中的创建和编辑示例，您会发现表单元素是重复的。只有 4 个字段（在示例表单中），没什么大不了的，但是当您处理大型、复杂的表单和/或处理许多 CRUD 模型时，重复成为一个更大的维护问题。

在绑定端（`form.bindFromRequest`和`form.fill(Foo)`），创建/编辑操作的实现非常优雅；模板层有相应的解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T16:36:38.137

k，这是我想出的处理注册、续订场景的方法：

```
// views.subscription.signup.scala.html
@(_form: Form[com.company.model.Subscription], target: play.api.mvc.Call)
@import helper._

@cart("Foobar Registration") {
  <h1>Join Foobar Today!</h1>
  @form(action = target, 'id -> "subscriptionForm", 'class -> "form-horizontal") {
    @fields(_form) // include formfields
  }
}

// views.subscription.fields.scala.html
@(_form: Form[com.company.model.Subscription])
@import helper._

@inputText(field = _form("firstName"), '_label-> "First Name*", 'class-> "required")
@inputText(field = _form("lastName"), '_label-> "Last Name*", 'class-> "required")
.... 
```

然后，对于更新，只需创建与 signup.scala.html 相同的 shell，但带有更新标题和标题文本。

同样的原则适用于任何共享的创建/编辑表单状态。

# jquery - 如何使用箭头键进行 jqgrid 内联编辑

> ID：10976590
> 
> 赞同：1
> 
> 时间：2012-06-11T08:22:16.770
> 
> 标签：jquery, jqgrid, inline-editing

我正在 jqgrid 上进行内联编辑。编辑工作完美。编辑完成后，用户按回车键，保存。但是现在我希望用户在浏览行时使用箭头键（上下键导航行，左右键导航单元格），当一行失去焦点时，该行被保存。这可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T14:12:36.687

您是否尝试过使用该`bindKeys`方法？从[jqGrid 文档](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3amethods)：

> **绑定键**
> 
> 参数：
> 
> ```
> { 
>   onEnter: null, 
>   onSpace: null, 
>   onLeftKey: null, onRightKey: null, 
>   scrollingRows : true 
> } 
> ```
> 
> 描述：
> 
> 当调用该方法时，可以使用向上和向下键选择一行 - 即我们使用键滚动网格数据。选择行时可以调用其他事件，并按下键，例如Enter，Space，左或右。对于这些事件，行的选定 id 作为参数传递。

# c - 打开 Watcom 错误 E1127“参数列表中需要类型”

> ID：10976592
> 
> 赞同：0
> 
> 时间：2012-06-11T08:22:29.603
> 
> 标签：c, watcom

我有一个具有以下声明风格的标题：

```
extern struct xvimage *allocimage(char * name, int32_t rs, int32_t cs, int32_t ds, int32_t t);
extern struct xvimage *allocmultimage(char * name, int32_t rs, int32_t cs, int32_t ds, int32_t ts, int32_t nb, int32_t t);
etc... 
```

尝试编译它会产生错误 E1127“参数列表中需要类型”，紧接着是 E1022：'int32_t' 附近缺少或拼写错误的数据类型。

我已经使用开关 -za99 启用了实现的 C99 扩展。我正在使用最新版本的 OpenWatcom (v1.9)。我相信这个项目在 linux 上用 gcc 编译得很好。

这些声明有什么问题？我什至不明白错误信息。我应该怎么办？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T08:25:50.637

`int32_t`类型在`<stdint.h>`头文件中定义，因此请确保在头文件的顶部包含该类型。

# c# - 执行阅读器没有响应

> ID：10976593
> 
> 赞同：0
> 
> 时间：2012-06-11T08:22:30.887
> 
> 标签：c#, c#-4.0

我有一个 php 代码。这里是代码，我要把它翻译成 .NET 但在某些时候我遇到了一些麻烦。

```
function processInput($conn, $MessageArray, $mobilenumber, $date, $odd)
{

$strSQLUSER="SELECT * FROM tbl_tiduser WHERE username='".addslashes($MessageArray[0])."' AND stat!='1' AND stat!='4'";

$result_user=odbc_exec($conn,$strSQLUSER) or die("Could not connect to database"); 
```

这是转换后的 .NET 代码

```
public class ProcessInput
{   
    private string msg_arr;
    private string MooseSeenInput(string MobileNo,string Date,string odd,params Array[] msg_arr)
    {

 SqlCommand com = new SqlCommand("SELECT * FROM tbl_tiduser WHERE username=@username AND stat!='1' AND stat!='4'", mycon);
                    com.Parameters.AddWithValue("@username",username);
                    using (SqlDataReader reader = com.ExecuteReader())

     // whats the next part need to come here ???

} 
```

这是不完整的。我不会编译它....

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T08:25:18.773

```
private static void ReadOrderData(string connectionString)
{
    string queryString =
        "SELECT OrderID, CustomerID FROM dbo.Orders;";

    using (SqlConnection connection =
               new SqlConnection(connectionString))
    {
        SqlCommand command =
            new SqlCommand(queryString, connection);
        connection.Open();

        SqlDataReader reader = command.ExecuteReader();

        // Call Read before accessing data.
        while (reader.Read())
        {
            Console.WriteLine(String.Format("{0}, {1}",
                reader[0], reader[1]));
        }

        // Call Close when done reading.
        reader.Close();
    }
} 
```

[http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqldatareader.aspx](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqldatareader.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:38:27.953

我很容易；我会写一个`class`反映我正在阅读的记录的，即

```
public class User {
    public int Id {get;set;}
    public string Name {get;set;}
} 
```

并使用[“精致”](http://nuget.org/packages/Dapper)：

```
var user = myCon.Query<User>(
  "SELECT * FROM tbl_tiduser WHERE username=@username AND stat not in ('1','4')",
  new {username}).SingleOrDefault();

if(user == null) { /* not found, presumably throw an exception */ }

string name = user.Name; // etc 
```

然后你就不需要弄乱命令、读取器、参数等（看看`username`是如何干净地变成 db 参数的？）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-11T08:27:02.070

我会使用这样的东西来获取您所追求的列：

```
string username = null;
using (SqlDataReader reader = com.ExecuteReader()) {
    if (reader.read()) {
        username = (string)reader["mydbcolumnname"];
    }
    reader.Close();
} 
```

请注意，如果您想提取所有结果行（而不是单步执行），那么您通常会使用*SqlDataAdapter*来填充*DataSet*（而不是读取器），例如：

```
string username;
using (SqlDataAdapter adapter = new SqlDataAdapter(com))
{
    using (DataSet ds) 
    {
        adapter.Fill(ds);
        username = (string)ds.Tables[0].Rows[0]["mycolumnname"];
    }
} 
```

# java - 更改 DefaultMutableTreeNode 的文本样式

> ID：10976594
> 
> 赞同：3
> 
> 时间：2012-06-11T08:22:39.283
> 
> 标签：java, swing, jtree, treecellrenderer

我创建了一个自定义 JTree。可以过滤该树以仅显示那些包含给定条件（字符串）的节点。现在，有没有办法只加粗包含搜索字符串的 DefaulMutableTreeNode 部分？

如果树节点的标签为“StackOverflow”并且用户正在搜索包含“Stack”的节点，则“StackOverflow”节点将呈现“Stack”部分加粗。

如何做到这一点？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-11T08:25:42.753

您需要设置自己的[`TreeCellRenderer`](http://docs.oracle.com/javase/6/docs/api/javax/swing/tree/TreeCellRenderer.html).

## 例子：

下面的代码产生了这个屏幕截图：

![截屏](../Images/b03738bff7e575faada6c75e285da7f3.png)

```
final JTextField field = new JTextField();
final JTree tree = new JTree(new String[] {"Hello World", "StackOverflow"});
tree.setCellRenderer(new DefaultTreeCellRenderer() {
    @Override
    public Component getTreeCellRendererComponent(JTree tree,
            Object value, boolean sel, boolean expanded, boolean leaf,
            int row, boolean hasFocus) {

        String search = field.getText();
        String text = value.toString();

        StringBuffer html = new StringBuffer("<html>");
        Matcher m = Pattern.compile(Pattern.quote(search)).matcher(text);
        while (m.find())
            m.appendReplacement(html, "<b>" + m.group() + "</b>");
        m.appendTail(html).append("</html>");

        return super.getTreeCellRendererComponent(
                tree, html.toString(), sel, expanded, leaf, row, hasFocus);
    }
});
field.addKeyListener(new KeyAdapter() {
    @Override public void keyReleased(KeyEvent e) { update(); }
    private void update() { 
        DefaultTreeModel model = (DefaultTreeModel) tree.getModel();
        model.nodeStructureChanged((TreeNode) model.getRoot());
    }
});
JFrame frame = new JFrame("Test");
frame.add(field, BorderLayout.NORTH);
frame.add(tree, BorderLayout.CENTER);
frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
frame.setSize(400, 300);
frame.setVisible(true); 
```

* * *

*   Java Swing 教程：[如何在 Swing 组件中使用 HTML](http://docs.oracle.com/javase/tutorial/uiswing/components/html.html)

# localhost - 造型 MAMP 本地主机

> ID：10976611
> 
> 赞同：1
> 
> 时间：2012-06-11T08:23:47.873
> 
> 标签：localhost, mamp

是否可以将一些 CSS 应用于 MAMP 本地主机上的“/索引”页面？我一直在 /Applications/MAMP/bin/mamp/ 中进行挖掘，但我找不到从哪里链接到 CSS。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-23T07:18:13.863

我决定使用 Chrome 扩展程序来做到这一点。扩展需要两个文件：

清单.json

```
{
  "name": "Pretty localhost",
  "version": "1.0",
  "description": "A much prettier localhost",
  "content_scripts": [
    {
      "matches": ["http://localhost/"],
      "css": ["styles.css"]
    }
  ]
} 
```

样式.css

```
.some-element {some: style;} 
```

然后可以从 Chrome 的扩展页面打包/安装扩展。

* * *

在完成 Chrome 扩展之后，我想“哦，是的，它只是一个 Web 服务器；我可以`index.html`在里面放一个文件，它就可以工作了”。

所以，这是我的另一个答案。创建一个索引文件，并随心所欲地编写/设置页面样式。

# java - 使用 != 比较字符串

> ID：10976615
> 
> 赞同：1
> 
> 时间：2012-06-11T08:24:18.203
> 
> 标签：java, string

> **可能重复：**
> [如何比较 Java 中的字符串？](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)

我正在尝试使用 || 比较一个字符串 操作员..

```
if(publisher != "Niho books" || publisher != "Diamond Comics" ) 
```

这有什么问题？字符串不能这样比较？？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-11T08:26:08.727

这应该有效：

```
if (!"Niho books".equals(publisher) || !"Diamond Comics".equals(publisher)) 
```

[http://www.leepoint.net/notes-java/data/strings/12stringcomparison.html](http://www.leepoint.net/notes-java/data/strings/12stringcomparison.html)

*   不要使用`==`,`!=`进行字符串比较
*   `equals()`可以在发布者之后或在您的字符串之后（`publisher.equals()`或`"string".equals()`），我认为第二个可能更好，因为如果您的发布者是`null`您将不会得到空指针异常。但是你喜欢/适合你吗

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-11T08:27:38.947

通过这种方式，您不是在比较内容......您是在比较参考资料。

如果要比较内容，请使用

```
publisher.equals("Niho books")

or 

publisher.equalsIgnoreCase("Niho books") 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-11T08:27:20.153

不要使用`!=`或`==`比较 Java 中的字符串。改为使用`.equals()`。`!=`and`==`运算符比较*引用*，而不是对象的内容。

```
if (!publisher.equals("Niho books") || !publisher.equals("Diamond Comics")) 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-11T08:28:57.610

在字符串中，**equals()** 测试值的相等性，其中 != 和 == 测试引用的相等性。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-11T08:26:31.903

不，字符串应该像这样比较：

```
publisher.equals("Niho books") 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-06-11T08:26:57.427

[http://www.devdaily.com/java/edu/qanda/pjqa00001.shtml](http://www.devdaily.com/java/edu/qanda/pjqa00001.shtml)阅读此

# tcp - TCP 发送命令并等待输出

> ID：10976618
> 
> 赞同：1
> 
> 时间：2012-06-11T08:24:31.130
> 
> 标签：tcp, delphi-7, telnet, indy

我有以下情况：

```
function Mach3Code(Str: String): String;
 var StrOut: String;
 begin
   StrOut := '';

   try
     IdTelnet1.Connect();
     IdTelnet1.Write(Str);

     StrOut := ''; // assign here return output;

   finally
     IdTelnet1.Disconnect;
   end;

   Result := StrOut;

 end; 
```

在“StrOut := '';”行上 我需要获取服务器的文本输出（这是一个 tcp 服务器，我用 vc 2008 作为 Mach3 插件编写）。

通常，客户端发送“COMMAND1”，服务器回复“ANSWER1#”或类似的东西。我需要代码等待答案，然后同步返回，所以我可以执行以下操作：

```
StrResult := Mach3Code('G0X300Y200'); 
```

并阅读服务器部分发送给我的内容。

有什么想法可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T21:13:40.823

要接收数据，将 TIdTelnetDataAvailEvent 类型的事件处理程序分配给 idtelnet1 的 OnDataAvailable 属性，我知道这不是同步的，但我会重新考虑您的代码以这种方式工作，因为这就是 telnet 客户端的工作方式。

未能创建您自己的 TIdTCPClientCustom 后代并使用相关方法实现您自己的读取线程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-12T00:57:48.563

`TIdTelnet`是一个异步组件，它不适合您尝试做的事情。除非您正在处理实际的 Telnet 协议，否则您应该使用`TIdTCPClient`：

```
function Mach3Code(const Str: String): String;
begin
  Result := '';
  try
    IdTCPClient1.Connect();
    IdTCPClient1.WriteLn(Str);
    StrOut := IdTCPClient1.ReadLn('#');    
  finally
    IdTCPClient1.Disconnect;
  end;
end; 
```

# mysql - phpmyadmin 导入数据

> ID：10976619
> 
> 赞同：0
> 
> 时间：2012-06-11T08:24:41.683
> 
> 标签：mysql, import, phpmyadmin

我有一个如下所示的 Mysql 表：

```
+-------+
| NAME  |
+-------+
| James |
| Alex  |
| Jones |
| ...   |
+-------+ 
```

每个名字都是独一无二的。

我有一个 txt 文件，它是一个需要导入此表的名称列表。

该列表需要按照名称的顺序导入，但是当我使用 Phpmyadmin 导入它时，列表似乎在导入之前按名称排序。

如何防止这种行为？我只需要按原样导入它，无需任何更改。当我查询时，它应该以我插入它们的相同顺序返回结果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:27:56.363

导入前给每条记录一个ID，然后可以按ID排序得到原始布局

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T08:32:43.973

默认情况下，从 mysql 返回的数据在索引列之前排序（phpmyadmin 与排序无关）如果您使用 name 列在表上定义索引，则表结果将根据该列的索引进行排序但是，如果您想在最后一次插入之前对它们进行排序，则仅当您在设计中将 ID 设置为 auto_increment 列时才按 ID 对它们进行排序，因为它会自动将新插入的行的值增加 1。:)

# html - 在 webkit 中的选择标签上，边框半径超过 1px

> ID：10976620
> 
> 赞同：2
> 
> 时间：2012-06-11T08:24:45.453
> 
> 标签：html, css, google-chrome, webkit

有人知道在 webkit 中跟踪“错误”的解决方法吗？

当我使用border-radius和border solid 1px在select标签上创建圆角边框时，它在webkit、FF等上工作得很好

但是当边框超过 1px 时，您可以看到容器背景与边框重叠。

你可以在这里看到它：http: [//dabblet.com/gist/2909020](http://dabblet.com/gist/2909020)

（只需更改边框：solid 2px #9ec3d6; 到 1px 即可查看差异）

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:44:43.430

您可以隐藏矩形边框，`-webkit-appearance: none;`但这也会隐藏选择框的常用下拉图标，但您可以添加一些背景图像来为选择框带回某种视觉指示器。

看看这些例子：http: [//37signals.com/svn/posts/2609-customizing-web-forms-with-css3-and-webkit](http://37signals.com/svn/posts/2609-customizing-web-forms-with-css3-and-webkit)

# .net - .NET 项目的 Security.dll 问题

> ID：10976622
> 
> 赞同：3
> 
> 时间：2012-06-11T08:24:57.200
> 
> 标签：.net, payment

我们的一些支付应用程序开始出现以下错误：

来自方法 PurchasePermitObject 的意外错误：MakePayment

底层连接已关闭：接收时发生意外错误。无法在 DLL“security.dll”中找到名为“EnumerateSecurityPackagesW”的入口点。

错误偶尔发生，没有韵律或原因。在研究这个问题时，我发现使用名为 security.dll 的 dll 存在问题

[https://connect.microsoft.com/VisualStudio/feedback/details/104453/existence-of-a-dll-named-security-dll-in-bin-directory-causes-web-service-request-to-fail- with-401-access-denied](https://connect.microsoft.com/VisualStudio/feedback/details/104453/existence-of-a-dll-named-security-dll-in-bin-directory-causes-web-service-request-to-fail-with-401-access-denied)

现在应用程序使用了一个安全 dll，但它的前缀是 ABCsecurity.dll，我原以为这会阻止这个问题，因为它是 MS 和其他博客等提供的解决方案。

任何想法都会引起人们的注意，是否有可能将其完全重命名为以 security.dll 结尾的任何内容？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T12:48:33.837

错误消息说它正在使用“security.dll”，因此它与“ABCsecurity.dll”无关。在该机器的硬盘驱动器中搜索名为“security.dll”的文件

此类问题很可能是由于Windows在包含EXE的目录中找不到DLL而在进程的当前工作目录中查找DLL引起的。这是一个安全隐患，微软已经设计了一些应对措施。最相关的 MSDN 页面[在这里](http://msdn.microsoft.com/en-us/library/windows/desktop/ff919712%28v=vs.85%29.aspx)。您无法对框架代码中的 LoadLibrary() 调用做任何事情。清单有点痛苦，最简单的是*SafeDllSearchMode*注册表项。这可确保始终先找到 c:\windows\system32 目录中的 security.dll 文件，然后再在工作目录中随机复制。

# asp.net - 提取特定行 - SelectCommand

> ID：10976623
> 
> 赞同：0
> 
> 时间：2012-06-11T08:25:01.420
> 
> 标签：asp.net, visual-studio-2010, sql-server-2008-r2

我每 2 小时有 5 行数据从 GSM 调制解调器进入我的数据库，我只需要最后（最新）行数据，因为这是唯一相关的数据，但需要图表的所有数据......

有没有一种方法可以在每四分之一之后只召回一行。

* * *

例子。

23、25、20、99、21 下午 1 点

下午 3 点 34、56、55、65、30

数据中仅显示 21 和 30。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:35:24.847

使用以下 SQL 语句获取所需数据：

```
select top (1) from your table order by DateTimeField Desc 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T08:33:49.870

这不是很多信息，需要更多的确切解决方案。

但是如果记录的时间戳不同，并且您已经可以选择 5 表示下午 1 点和下午 3 点，那么您可以在 where 子句中尝试类似的操作：

```
timestamp = select max(timestamp) from (the_5_recs_for_the_given_intervall) 
```

希望你明白我想说什么！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-11T08:49:23.840

使用 CTE：

```
WITH NumberedRows AS
(
    SELECT Serial, DeviceLevel, ROW_NUMBER() OVER (ORDER BY DateReceived DESC) AS RowNumber
    FROM TBLReadings 
) 
SELECT *
FROM NumberedRows
WHERE RowNumber % 5 = 0 
```

# ios - 无法在 Xcode 4.3.2 的 ios 模拟器中找到数据库位置和 Plist 位置

> ID：10976629
> 
> 赞同：2
> 
> 时间：2012-06-11T08:25:26.720
> 
> 标签：ios, xcode

我无法在 Xcode 4.3.2 的 ios 模拟器中找到数据库位置和 Plist 位置。

我安装了 xcode 4.3.2 但无法在“/library/application support/ios 模拟器”中找到 iossimulator5.1

在应用程序支持中，我无法看到 ios 模拟器 ....

我使用 plist 我插入了一些条目 n 获取数据 代码运行良好，但是数据存储在模拟器中的 plist 文件在哪里？

这是 plist 路径

/Users/utkarshsingh/Library/Application Support/iPhone Simulator/5.1/Applications/ADA62A25-A47A-4DCA-AE1C-596F2CF79446/Documents/Login.plist

这是我的数据库路径

/Users/utkarshsingh/Library/Application Support/iPhone Simulator/5.1/Applications/620BA7E6-4B1A-4​​439-B94C-58C0F088DD83/Documents

如何在应用程序支持或 xcode 4.3.2 中找到 ios 模拟器 ios 模拟器 5.1 其他地方？

请帮我在应用程序支持中找到 ios 模拟器...

谢谢你....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:31:08.380

我的模拟器在

> /Users/MyUsername/Library/Application Support/iPhone 模拟器

所以你plist路径

> /Users/utkarshsingh/Library/Application Support/iPhone Simulator/5.1/Applications/ADA62A25-A47A-4DCA-AE1C-596F2CF79446/Documents/Login.plist

还有你的数据库路径

> /Users/utkarshsingh/Library/Application Support/iPhone Simulator/5.1/Applications/620BA7E6-4B1A-4​​439-B94C-58C0F088DD83/Documents

是有效的。

如果你看不到

> /用户/utkarshsingh/图书馆/

在您的 Finder 中按 CMD+G 并手动输入路径。

# android - 在 Android 中使用新的“manifestmerger”属性

> ID：10976635
> 
> 赞同：43
> 
> 时间：2012-06-11T08:26:09.857
> 
> 标签：android, android-manifest, adt, android-library

在最新版本的 ADT（版本 20 预览版 3）中，他们说可以使库的清单文件与使用它们的项目合并：

> 将库项目清单文件自动合并到包含项目的清单中。使用 manifestmerger.enabled 属性启用。

我如何以及在哪里使用它？我在任何地方都看不到内容帮助帮助我。

* * *

## 回答 #1

> 赞同：64
> 
> 时间：2012-06-27T20:42:37.553

将以下行添加到`project.properties`应用程序项目的文件中。

```
manifestmerger.enabled=true 
```

Android 引入`SDK Tools, Revision 20 (June 2012)`：
[https ://developer.android.com/studio/releases/sdk-tools](https://developer.android.com/studio/releases/sdk-tools)

> 构建系统
>     * 添加了库项目清单文件的自动合并到包含项目的清单中。使用属性启用此功能`manifestmerger.enabled`。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-01-28T05:20:23.740

如果要合并 android 库项目清单和当前项目清单，则必须`manifestmerger.enabled=true`在引用库项目的 project.properties 文件中添加。但是，您应该确认一些点，例如 ADT 版本，最小和目标 SDK 应该与库项目相同。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-07-12T15:27:24.890

仅供参考： manifestmerger.enabled=true 如果您使用的是 eclipse 导出签名的应用程序，则不会合并清单文件。如此处所述，这似乎是一个错误。 [http://code.google.com/p/android/issues/detail?id=34623](http://code.google.com/p/android/issues/detail?id=34623)

正确设置合并对我来说也有点麻烦。（重新启动 Eclipse，打开关闭项目..）要了解合并是否正常，请查看 ../Your_Main_Project/bin/AndroidManifest.xml 中的文件。如果合并成功，您将在此文件中看到完整的结果。

**编辑：**此错误已在 ADT v20.0.1（2012 年 7 月）中修复：http: [//developer.android.com/tools/sdk/eclipse-adt.html](http://developer.android.com/tools/sdk/eclipse-adt.html)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-02-24T04:42:11.457

我在清单合并期间遇到了一些错误（R.java 文件丢失），因此我交替地从库项目清单中显式复制清单内容（例如，我只复制了活动内容）并将它们放在我的主项目清单中。这解决了错误，到目前为止一切似乎都运行良好。如果有人觉得这不是清单合并的推荐替代方案，请告诉我。

# azure - 在 ubuntu 虚拟机上配置超时

> ID：10976639
> 
> 赞同：0
> 
> 时间：2012-06-11T08:26:21.007
> 
> 标签：azure, iaas

我尝试使用新功能创建一个 Ubuntu 服务器 VM，但我的 VM 处于以下状态：正在运行（配置超时）并且我无法连接到它（身份验证错误）

请问有什么线索吗？

谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T16:20:53.260

解决此问题的最佳方法是访问以下专门的 Windows Azure Virtual Machine for Linux 论坛：

[http://social.msdn.microsoft.com/Forums/en-US/WAVirtualMachinesforLinux/threads](http://social.msdn.microsoft.com/Forums/en-US/WAVirtualMachinesforLinux/threads)

请提供您的确切身份验证错误，并根据该信息，有人将与您一起解决您的问题。

# apache-flex - Flex SkinPart 被定义为必需的 false。编译器生成错误

> ID：10976641
> 
> 赞同：1
> 
> 时间：2012-06-11T08:26:32.490
> 
> 标签：apache-flex, compilation

我有一个`s:SkinnableContainer`基类，将几个皮肤部分定义为`[SkinPart(required="false")]`. 这个类被几个不同的类子分类，这些类也有定义，例如`[SkinPart(required="true")]`. 每个子类都有自己的皮肤，实现了所有`required=true`皮肤部分。其中一些实现了`required=false`皮肤部分。

flex 编译器随机产生以下错误：

```
The required skin part '__moduleFactoryInitialized' is missing. ThresholdPercentageWidgetSkin.mxml  /am-apm-app-ui/src/main/flex/styles/skins   line 12 Flex Problem
The required skin part '_selectedApplication' is missing.   ThresholdPercentageWidgetSkin.mxml  /am-apm-app-ui/src/main/flex/styles/skins   line 12 Flex Problem
The required skin part '_skinClass' is missing. ThresholdPercentageWidgetSkin.mxml  /am-apm-app-ui/src/main/flex/styles/skins   line 12 Flex Problem
The required skin part 'initialize' is missing. ThresholdPercentageWidgetSkin.mxml  /am-apm-app-ui/src/main/flex/styles/skins   line 12 Flex Problem
The required skin part 'initialize' is missing. ThresholdPercentageWidgetSkin.mxml  /am-apm-app-ui/src/main/flex/styles/skins   line 12 Flex Problem
The required skin part 'ux_title' is missing.   ThresholdPercentageWidgetSkin.mxml  /am-apm-app-ui/src/main/flex/styles/skins   line 12 Flex Problem
The required skin part 'ux_titleSignpost' is missing.   ThresholdPercentageWidgetSkin.mxml  /am-apm-app-ui/src/main/flex/styles/skins   line 12 Flex Problem
The skin part type 'components:BooleanButtonBar' must be assignable to 'spark.components:Button'.   ThresholdPercentageWidgetSkin.mxml  /am-apm-app-ui/src/main/flex/styles/skins   line 12 Flex Problem
The skin part type 'components.renderers:StateRenderer' must be assignable to 'spark.components:NumericStepper'.    ThresholdPercentageWidgetSkin.mxml  /am-apm-app-ui/src/main/flex/styles/skins   line 12 Flex Problem
The skin part type 'spark.components:NumericStepper' must be assignable to 'components.renderers:StateRenderer'.    ThresholdPercentageWidgetSkin.mxml  /am-apm-app-ui/src/main/flex/styles/skins   line 12 Flex Problem
The skin part type 'spark.components:NumericStepper' must be assignable to 'spark.components:Label'.    ThresholdPercentageWidgetSkin.mxml  /am-apm-app-ui/src/main/flex/styles/skins   line 12 Flex Problem
The skin part type 'spark.components:VGroup' must be assignable to 'spark.components.supportClasses:TextBase'.  ThresholdPercentageWidgetSkin.mxml  /am-apm-app-ui/src/main/flex/styles/skins   line 12 Flex Problem 
```

例如，`required skin part 'ux_title' is missing`错误与标签有关`required=false`。

此外，提到的一些皮肤部分是内部的。例如-`__moduleFactoryInitialized`和。`_skinClass``initialize`

现在到 woodoo 部分 - 在上述文件之一中添加新行，将生成成功的编译。

我尝试从看不见的特殊字符中清除文件。

任何线索为什么会发生？

* * *

我试过你建议的解决方法 - 没有用。但我得到了稍微不同的错误

```
[ERROR] <filename>[13,-1] The skin part type 'spark.components:Label' must b
 e assignable to 'spark.components:Button'.
[ERROR] <filename>:[13,-1] The skin part type 'components.help:SignPost' must
 be assignable to 'spark.components:Button'. 
```

和上面两个例子一样。注意 [13,-1] 行/列对。-1 表示内部出现问题。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T14:48:18.360

我刚刚遇到了同样的问题。它只发生在我们的 CI 服务器上。我在我的工作站上尝试了所有可用的 4.6 编译器，但无法使用相同的代码重现该问题。作为一项工作，我改变了

```
[SkinPart(required="true")] 
```

至

```
[SkinPart] 
```

目前。我尝试保留生成的 Actionscript 以尝试定位问题，但我没有看到任何会导致问题的东西。我尝试这样做的原因是因为最初编译器错误是关于我自己的代码中的变量需要 SkinParts（但实际上根本不是皮肤部分）。根据帖子中的一条评论，我扫描了代码中的任何非 ascii 字符，但没有。

# objective-c - 如何通过 CocoaPods 安装 Restkit？

> ID：10976646
> 
> 赞同：4
> 
> 时间：2012-06-11T08:26:58.143
> 
> 标签：objective-c, ios, xcode4.3, restkit, cocoapods

添加`Restkit`到后`Podfile`：

```
 platform :ios

 dependency 'Facebook-iOS-SDK', '1.2'
 dependency 'RestKit', '0.10.1' 
```

并运行：

```
 $ pod install
 Updating spec repo `master'
 Using Facebook-iOS-SDK (1.2)
 Using SBJson (2.2.3)
 Generating support files 
```

未安装 RestKit。`RestKit`我该如何安装`CocoaPods`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:45:31.347

根据此[拉取请求](https://github.com/CocoaPods/CocoaPods/pull/253)的信息，更新`Podfile`为：

```
platform :ios

dependency 'Facebook-iOS-SDK', '1.2'
dependency 'RestKit', '0.10.1'
dependency 'RestKit/Network', '0.10.1'
dependency 'RestKit/ObjectMapping', '0.10.1'
dependency 'RestKit/ObjectMapping/CoreData', '0.10.1'
dependency 'RestKit/ObjectMapping/JSON', '0.10.1'
dependency 'RestKit/ObjectMapping/XML', '0.10.1'
dependency 'RestKit/UI', '0.10.1' 
```

或通过以下方式更新到最新版本 (0.6.2.rc2) `cocoapods`：

```
gem install cocoapods --pre 
```

# php - 表单数据未发布到 uri

> ID：10976649
> 
> 赞同：0
> 
> 时间：2012-06-11T08:27:07.643
> 
> 标签：php, html, forms

你能告诉我为什么当我点击呼叫时我的数据没有发布到我的操作中吗？

```
<body>
    <?php
        $login = '1236567';
        $password = '10152930';
        $officeNumber = array('0212177899','027899899','09111');
    ?>
    <div id="wrapper">
        <form method="POST" action="https://live.domain.co.nz/call.php?login=<?php echo $login; ?>&password=<?php echo $password; ?>&aparty=<?php echo $number; ?>phone&bparty=<?php echo $number;?>">
                    <?php
                        echo '<label for="officeNumbers">Office Number: </label>';  
                        echo '<select name="officeNumbers">';

                        foreach($officeNumber as $number)
                        {
                            echo '<option value="'.$number.'">'.$number.'</option>';
                        }
                        echo '</select>';
                    ?>
                <label for="callTo">Call: </label><input type="text" id="callTo">
                <input type="submit" value="Call">  
            </form>
        </div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:30:55.733

您的文本输入：

```
<input type="text" id="callTo"> 
```

... 没有`name`属性，所以它不能是一个成功的控制（并因此提交任何数据）。

给它一个`name`属性。

# php - 将一个简单的 php 与符号相乘

> ID：10976651
> 
> 赞同：-1
> 
> 时间：2012-06-11T08:27:18.023
> 
> 标签：php, wordpress

> **可能重复：**
> [PHP 中的乘法函数结果](https://stackoverflow.com/questions/10976133/multiply-function-results-in-php)

我还是 PHP 的初学者。我有一个小问题，我想将该值乘以`get_formatted_order_total();`3.75，而我所做的是（这是错误的）

```
get_formatted_order_total(); * 3.75 
```

伙计们帮我解决这个代码

```
<?php

function get_formatted_order_total() {
    return 2;
}

echo get_formatted_order_total() * 3.75; 
```

它工作得很好！但问题是输出是7.5。

我差点忘了提及 for 的值`formatted_order_total();`包含在“$”和数字中

这是代码

```
<li class="total">
<?php _e('Total:', 'woocommerce'); ?>
<strong><?php echo $order->get_formatted_order_total(); ?></strong> 
```

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:45:09.987

```
$symbol = substr(get_formatted_order_total(), 0, 1);
$numerics = substr(get_formatted_order_total(), 1);
echo $symbol . ($numerics * 3.75); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:45:24.437

好的，我想我明白你的问题了。

你可能实际上正在做这样的事情：

```
function get_formatted_order_total() {
    return '$' . 2;
}
echo get_formatted_order_total() * 3.75; 
```

这将回显`0`。

问题是您正试图将一个字符串乘以`'$2'`一个数字`3.75`。这隐含地需要将字符串转换为数字。不以数字开头的字符串将转换为值`0`（请参阅[字符串转换为数字](http://www.php.net/manual/en/language.types.string.php#language.types.string.conversion)）。由于您的字符串以 开头`$`，它将被转换为`0`，因此为什么您的乘法结果是`0`。

您需要在连接之前进行乘法运算。例如：

```
function get_formatted_order_total($amount) {
    return '$' . (2 * $amount);
}
echo get_formatted_order_total(3.75); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-11T08:46:00.747

像下面这样的东西应该返回你所追求的值。

`function get_formatted_order_total($value) {`

 ````
$orderTotal =  2 * $value;

$orderTotal = '$' . $orderTotal;

return $orderTotal; 
```` 

`}`

代码用法如下所示：

`$orderValue = 3.75;`

 ````
<strong><?php echo $order->get_formatted_order_total($orderValue); ?></strong> 
````  `这应该返回您需要的内容。`

# joomla - 如何使用 JCE 将预设文本添加到内容框中？

> ID：10976665
> 
> 赞同：0
> 
> 时间：2012-06-11T08:28:04.827
> 
> 标签：joomla, joomla1.5, interaction, joomla-content-editor

使用 Joomla！1.5.26 和 JCE 2.1.3，用户可以从弹出窗口中选择几个选项（字符串），这些选项应该直接在光标所在的 JCE 文本区域中插入文本。

如何在不创建插件的情况下与 JCE 内容进行交互？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T09:15:11.087

```
tinyMCE.execCommand('mceInsertContent', false, '<strong>whatever you want!!!!</strong>'); 
```

# ajax - Scala Lift - AJAX 上传器（值）不接受 IE9 文件上传

> ID：10976666
> 
> 赞同：0
> 
> 时间：2012-06-11T08:28:11.903
> 
> 标签：ajax, scala, file-upload, upload, lift

我有以下内容：

```
new qq.FileUploader({

    element: $('#' + domid + ' #upload')[0],
    action: '/api/panel/upload_file',
    debug: true,
    allowedExtensions: [

        'jpg',
        'jpeg',
        'gif',
        'png',
        'bmp',
        'pdf'

    ],
    params: {

        room : 'a_room',
        module : 'a_module'

    },
    onSubmit: function(id, fileName) {

        this.params.name = fileName;

    },
    onProgress: function(id, fileName, loaded, total) { },
    onComplete : function(id, fileName, data) {

        /* FINISH */

    }

}); 
```

它将上传请求发送到：

```
case "api" :: "panel" :: "upload_file" :: Nil Post req => {

    var response = true

    req.body match {

        case Full(file) => 

            /* DO SOMETHING */

        case _ => response = false

    }

} 
```

这在 Firefox 和 Chrome 中都可以正常工作，但是当使用 IE9 上传时，文件似乎无法通过：

```
req.body match {

    case Full(file) =>

} 
```

有什么我遗漏或需要做的事情才能使其正常工作吗？

在此先感谢您的帮助，非常感谢:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-12T07:52:06.200

首先， req.body 会给你一个字节数组，而不是一个文件。Lift 将自动检测您是否正在上传文件或任意有效负载。将文件放入内存不是一个好主意，尤其是在它们可能很大的情况下。

看看`req.uploadedFiles`，如果我记得 vallums 上传器是如何工作的，你必须手动将输入流推送到`req.rawInputStream`.file中，你可以从中调用 .file 然后有一个直接实例可以使用。`OnDiskFileParamHolder.apply``FileParamHolder``java.io.File`

# mysql - Codeigniter 2.1 - MySQL 和正则表达式

> ID：10976668
> 
> 赞同：1
> 
> 时间：2012-06-11T08:28:24.850
> 
> 标签：mysql, regex, codeigniter

我有这样的代码：

```
 function mgl_get_by($col,$id)
            {    
            $this->db->select('*');
            $this->db->from('global_info');
            $this->db->join('ad', 'id_ad = id_global_info');
            $this->db->where('info_type_id', 1);
            $this->db->where($col, $id);
            $this->db->or_where("$col REGEXP $id");
            $this->db->order_by('paid', 'desc');
            $this->db->order_by('date_created', 'desc');  
            $q = $this->db->get();        
            return $q = $q->result_array();   
    } 
```

**$col**是表中行的名称，**$id**是查询的唯一 ID。在大多数情况下它是唯一的数字，但是我在这个表中有日期行，并且在表中它作为时间戳插入，但是在执行查询时它需要选择所选日期的所有匹配项（例如它需要选择所有数据从 2012 年 6 月 11 日开始）。我该怎么做（我不熟悉 REGEXP）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:34:42.353

我从未见过使用 REGEXP 完成此操作。

如果你想要某一天的一切，你真正想要的是：
2012-06-11 <= (date) AND (date) < 2012-06-12

检查 $col，如果它是您的日期列，请执行日期范围，如果不是，请执行您已有的 where 子句。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:35:36.187

我认为您在这里不需要 RegExp -`LIKE`就可以了。如果您的日期存储为时间戳，您应该这样做`FROM_UNIXTIME($col) LIKE '2012-06-11'`

**编辑**：虽然，它效率不高。更好的方法是将时间戳作为整数进行比较：

```
$col >= UNIX_TIMESTAMP('2012-06-11 00:00:00') AND $col < UNIX_TIMESTAMP('2012-06-12 00:00:00') 
```

# macos - Railo CFDOCUMENT：无法从生成的 PDF 复制和粘贴

> ID：10976676
> 
> 赞同：1
> 
> 时间：2012-06-11T08:29:08.520
> 
> 标签：macos, pdf, coldfusion, railo, cfdocument

我只是用

```
<cfdocument format="pdf" margintop="0.2" marginleft="0.4" marginright="0.3"> 
```

生成的 PDF 很好，但在 MAC OS XI 下无法从中复制文本并粘贴到其他地方，例如在文本编辑器中（它会粘贴空格）。

你认为这是一个编码问题吗？

# eclipse - 如何在 Eclipse 中自动终止 Java 应用程序的实例？

> ID：10976677
> 
> 赞同：1
> 
> 时间：2012-06-11T08:29:16.277
> 
> 标签：eclipse, multiple-instances, javaw

我正在做一个小项目，每次运行程序时，我都会感到更多的滞后和延迟，直到它完全不再工作。我检查了任务管理器，发现了许多“Javaw.exe”实例。然后我打开调试字段并意识到每次运行同一个项目时它都会运行一个新实例。

这是调试区域中实例图像的链接。

> [http://i50.tinypic.com/2hz4spu.png](http://i50.tinypic.com/2hz4spu.png)

我的临时解决方案是从调试区域终止它们。有什么办法可以防止同一个项目每次运行时都创建一个新实例？我只需要一个可以在我每次运行时重复使用的实例。

感谢您提前回复。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T09:30:22.990

不，我确定这不是你想要的。如果您重新启动应用程序，您可能想要测试您刚刚在代码中所做的一些更改。因此 Eclipse 需要启动您的应用程序的一个新实例。您可能还想启动一个应用程序的两个实例，因为它们需要相互通信。

如果您希望停止以前启动的应用程序，请停止它们。您的应用似乎是一个 GUI 应用。使用应用程序主框架上的关闭按钮将其关闭。就如此容易。

通常不希望终止应用程序，因为它可能需要正确关闭资源，或者在退出之前告诉服务器它要离开，或者其他什么。在没有用户有意识请求的情况下让 Eclipse 杀死应用程序是不明智的。

# jquery - 如何解决这种奇怪的行为？悬停链接 -> 淡入 div，鼠标移动 -> 淡出 div

> ID：10976682
> 
> 赞同：0
> 
> 时间：2012-06-11T08:29:30.803
> 
> 标签：jquery, mouseover, show-hide, mouseenter, mouseleave

尝试在将鼠标悬停在链接 Log In class="classB" 上时显示一个表单以进行登录，并在将鼠标悬停在链接 My Info 与 class="classA" 上时显示另一个带有信息的框，然后当鼠标离开框时框应该淡出并且链接。但是效果太诡异了，不能正常工作。下面的代码，并在这里看到：http: [//jsfiddle.net/75HYL/11/](http://jsfiddle.net/75HYL/11/)

```
<ul class="links">
<li class="classA"><a><span>My info</span></a></li>
<li class="classB"><a><span>Log in</span></a></li>
</ul>

<div id="userInfo">CONTENT GOES HERE. THIS BOX SHOULD STAY VISIBLE WHEN MOUSE IS ON IT, FADEOUT WHEN MOUSE LEAVES</div>
<div id="login" >
<div class="form">
<form>
LOGIN FORM HERE. THIS BOX SHOULD STAY VISIBLE WHEN MOUSE IS ON IT, FADEOUT WHEN MOUSE LEAVES
</form>
</div>
</div>

<style>
.links li { display:inline-block;cursor:pointer; }
.links li { padding:0 4px 0 1px; }

.links li.classA {width:147px; height:77px;background:url(../images/sprites01.png) no-repeat -226px 0px;}
.links li.classB {width:147px; height:77px;background:url(../images/sprites01.png) no-repeat -226px 0px;}

.links li.classA span {}
.links li.classB span {}

.links li.classA:hover {background:url(../images/sprites01.png) no-repeat -226px -80px;}
.links li.classB:hover {background:url(../images/sprites01.png) no-repeat -226px -80px;}

.links li.classA a {color:#fff;text-transform:uppercase;background:#00aaff;padding:5px 5px 0 20px;margin:5px 0 0;font-size:1em;height:50px;display:block;}
.links li.classB a {color:#00aaff;text-transform:uppercase;background:orange;padding:5px 5px 0 20px;margin:5px 0 0;font-size:1em;height:50px;display:block;}

#login {display:none;width:250px;height:250px; background:#bbb;color:#000;border:1px solid red;}
#userInfo{display:none;width:250px;height:250px; background:#bbb;color:#000;border:1px solid red;}
</style>

<script>
$("li.classA").hover(function() {
$("#userInfo").fadeIn('fast').css('display', 'block');
});
$("#login, .classA").mouseleave(function() {
$("#userInfo").fadeOut('fast').css('display', 'none');
});

$("li.classB").hover(function() {
$("#login").fadeIn('fast').css('display', 'block');
});
$("#login, .classA").mouseleave(function() {
$("#login").fadeOut('fast').css('display', 'none');
});
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:32:50.273

```
$("li.classA").hover(function() {
    $("#userInfo").fadeIn('fast').css('display', 'block');
}, function() {
    $("#userInfo").fadeOut('fast').css('display', 'none');
});

$("li.classB").hover(function() {
    $("#login").fadeIn('fast').css('display', 'block');
}, function() {
    $("#login").fadeOut('fast').css('display', 'none');
}); 
```

悬停处理程序有一个“悬停”部分。我用你的小提琴试过这个，它有效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:33:37.137

代码肯定没有优化，但如果您正在寻找快速修复，似乎您`#login, .classA`在`mouseleave`处理程序上输入了错误的一秒钟，因为它似乎应该用于`#login, .classB`.

这是[更正后的 jsFiddle](http://jsfiddle.net/4Y6pf/)。

# c# - 确定堆栈深度与某些输入大小成线性比例？

> ID：10976684
> 
> 赞同：12
> 
> 时间：2012-06-11T08:29:58.853
> 
> 标签：c#, java, algorithm, recursion, stack-size

在使用 Java（或任何其他程序语言）进行编程时，我经常在**递归**解决问题和**迭代解决问题**之间进行选择。递归选项通常比迭代解决方案更优雅，所以我通常选择递归解决方案。除了一个例外：

**担心堆栈溢出**如果最大堆栈深度与输入的大小成线性比例（或更糟），我倾向于避免递归解决方案。然而，我意识到在许多其他语言中（甚至是针对 JVM 的语言，例如 Scala 和 Clojure），许多算法（例如基本列表算法）通常以递归方式表示，其中最大堆栈深度与列表的长度成正比。^((1))那么，**我对线性堆栈深度算法中堆栈溢出的担忧是否合理？**

**TL;DR：**什么“堆栈深度复杂度”被认为是合理的？对数复杂度，例如递归二分搜索，*O(log N)*肯定没问题，但是*O(N)*，*O(N log N)*，*O(N ² )*怎么样？你通常会在哪里画线？^((2))

^((1) 我意识到这些语言有时支持 @tailrec 之类的东西，但这个问题涉及 Java、C# 等。)
^((2) 请注意，我不关心 CPU 开销等。只是堆栈深度。)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T09:14:27.600

堆栈深度复杂性是要考虑的一件事，但另一件事是输入大小本身。

如果问题排除了其领域的大输入（在开发过程中*很长*一段时间），那么我们可以使用递归解决方案（当然，递归解决方案不能超过最大可能输入堆栈的容量）。

如果未定义输入大小，则 O(1) 堆栈深度或 O(log N) 堆栈深度是可以接受的，恕我直言。如果输入大小的实际上限大到超过堆栈容量，则 O(log N) 可能是不可接受的。但是，我认为这种情况很少见。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-12-18T17:46:06.843

如果不问自己希望能够支持什么尺寸的输入，就无法回答这个问题。

如果您正在处理一副扑克牌，堆栈上的线性空间复杂度绝对没问题，如果您正在处理巨大的文本文件，则可能完全没有希望。您需要计算出您的应用程序的最大输入大小，或者更确切地说，您不介意它失败的最大输入。

我们一直这样做。例如，每次在 Java 中声明一个数组时，您都知道该数组中的元素不能超过 2 ^(31个。)这有关系吗？这是否意味着程序已损坏？可能不是; 但有时确实如此，如果您希望能够处理大量输入。

因此，我认为您不能对此过于规范。如果有人问（笼统地说）什么时间复杂度合适，你会怎么说？你可能会说一些一般原则：通常线性是可以的，通常指数是不好的......但真正的答案是，这取决于你在做什么。

# google-chrome-devtools - 使用谷歌浏览器开发工具在整个网站上查找/搜索 div id 和类

> ID：10976685
> 
> 赞同：4
> 
> 时间：2012-06-11T08:30:14.193
> 
> 标签：google-chrome-devtools

我正在样式表中编写注释，所以我正在逐行浏览样式表，例如我有一个名为 #main 的样式，我正在使用搜索工具在工具中搜索它但这仅在当前页面中搜索而不是所有页面，有没有办法我可以搜索整个站点的所有实例..

或者我可以使用其他一些工具来做到这一点吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-25T13:08:44.940

**在所有来源中查找**

Windows 上的 CTRL-SHIFT-F 和 Mac 上的 CMD-OPT-F。[关联](https://plus.google.com/115133653231679625609/posts/e4W2kdrFJY9)

一些用于升级 Chrome 开发工具游戏的资源：

*   google plus 上的 Addy Osmani。 [关联](https://plus.google.com/+AddyOsmani/posts)
*   Breakpoint Google 开发者视频[链接](http://www.youtube.com/watch?v=PPXeWjWp-8Y)
*   Chrome Canary - 了解 chrome 新功能[链接](https://www.google.com/intl/en/chrome/browser/canary.html)

# jquery - 如何为几乎相同的图像设置平滑过渡？

> ID：10976688
> 
> 赞同：1
> 
> 时间：2012-06-11T08:30:38.517
> 
> 标签：jquery, transition, cycle, jquery-cycle

我有一系列 3 张图像，我将它们放入无序列表中。图像几乎相同，只有一小部分图像发生了变化。这样我就得到了一种“电影”的效果。

我使用[jquery 循环插件](http://jquery.malsup.com/cycle/)。

我遇到了一个问题，我似乎无法弄清楚如何将过渡设置为如此平滑，从而将图像融合到另一个图像中。现在一个图像淡出，另一个淡入......这导致图像之间出现闪光......

谁能分享一个平滑混合几乎相同图像的示例？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T17:48:35.633

更新：

我已将过渡修改为几乎不显眼地淡出，使其看起来就像每张幻灯片只淡入。您可能需要更改速度、延迟和/或超时属性以匹配您*想要*完成的内容。

[http://jsfiddle.net/lucuma/tcRCj/12/](http://jsfiddle.net/lucuma/tcRCj/12/)

过渡：

```
$.fn.cycle.transitions.smooth = function($cont, $slides, opts) {
    $slides.not(':eq(' + opts.currSlide + ')').css('opacity', .99);
    opts.before.push(function(curr, next, opts) {
        $.fn.cycle.commonReset(curr, next, opts);
        opts.cssBefore.opacity = 0;
    });
    opts.animIn = {
        opacity: 1
    };
    opts.animOut = {
        opacity: .99
    };
    opts.cssBefore = {
        top: 0,
        left: 0
    };
}; 
```

原来的：

最接近超级平滑过渡的方式是这样的：

```
$('#slideshow').cycle({fx:'fade', continuous:1, timeout:0, easeIn: 'linear', easeOut: 'linear'});​ 
```

演示：http: [//jsfiddle.net/lucuma/tcRCj/6/](http://jsfiddle.net/lucuma/tcRCj/6/)

这也适用于水平/垂直效果。

第 2 轮：

我已将 jsfiddle 更新为一个名为 Smooth 的新自定义 fx：

[http://jsfiddle.net/lucuma/tcRCj/12/](http://jsfiddle.net/lucuma/tcRCj/12/)

您可能需要尝试以下速度：

```
$.fn.cycle.transitions.smooth = function($cont, $slides, opts) {
    $slides.not(':eq(' + opts.currSlide + ')').css('opacity', .99);
    opts.before.push(function(curr, next, opts) {
        $.fn.cycle.commonReset(curr, next, opts);
        opts.cssBefore.opacity = 0;
    });
    opts.animIn = {
        opacity: 1
    };
    opts.animOut = {
        opacity: .99
    };
    opts.cssBefore = {
        top: 0,
        left: 0
    };
};

$('#slideshow').cycle({
    fx: 'smooth',
    continuous: 1,
    speed: 300,
    easeIn: 'linear',
    easeOut: 'linear'
});​ 
```

# algorithm - 对字符串中的数字进行“自然”排序的最简单方法？

> ID：10976690
> 
> 赞同：1
> 
> 时间：2012-06-11T08:30:47.320
> 
> 标签：algorithm, natural-sort

我刚看到[这个](http://littlebigdetails.com/post/23483279443/osx-lion-lets-you-number-your-files-naturally)，我想知道实现这样的自然排序的最佳方法是什么？

通常在一个列表中`1,4,11,12`的字符串排序（用于列出项目）返回`1,11,12,4`。如何实现自然排序？

![在此处输入图像描述](../Images/f933fa605833e12fc8281a1ee17a3ffa.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T11:16:14.687

The items can also be

```
[ 'screen 4 episode 13', 'screen 11 episode 1', .... ] 
```

For the above mentioned list and the sample list provided in the question, following method can be used:

1.  Convert the number in the elements to a bucket based system, i.e calculate the maximum of the digit in any of the string. For example in the above list, the value is 2\. Now convert the numbers in the elements in such a way that its length turns out to be of length as same as the maximum. Therefore,'screen 4 episode 13' will be converted to 'screen 04 episode 13' and 'screen 11 episode 1' will be converted to 'screen 11 episode 01'.

2.  Now sort the modified list like a string.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T10:02:10.060

您可以将每个字符串拆分为一系列标记。令牌由所有非数字或所有数字组成。然后对标记序列进行比较，而不是对字符串中的字符序列进行比较。非数字标记像字符串一样进行比较，全数字标记使用它们的整数值相互比较。

如何将全数字标记与非数字标记进行比较取决于您，但您很可能希望`foo123.txt`出现在 之后`foo.txt`但之前`fooA.txt`。这意味着当您将标记`foo`与标记进行比较时`foo<something>`，您不会仅根据这两个标记立即生成答案——您需要与`<something>`后面的标记进行比较`foo`。

然后可以优化该基本方法，以确保您不会进行任何不必要的字符串拆分。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-11T10:14:59.087

一个有效的解决方案是为每个要排序的字符串生成一个可以按字典顺序进行比较的键，然后使用这些键对原始字符串进行排序。

要生成这些键，请从原始字符串的副本开始，然后将表示数字的子字符串转换如下：

*   删除所有前导零。
*   将数字子串长度编码为数字 '9' 重复 int(len/9) 次，后跟代表 len % 9 的数字。

例如：

```
1          -> 11
10         -> 210
9          -> 19
12345678   -> 812345678
987654321  -> 90987654321    // len = 9, int(len / 9) = 1, len % 9 = 0
9876543210 -> 919876543210   // len = 10, int(len / 9) = 1, len % 9 = 1 
```

您可能还想替换键上的标点符号，以便让“Foo 123”和“Foo-123”同等比较。

Perl 模块[Sort::Key::Natural](https://metacpan.org/module/Sort%3a%3aKey%3a%3aNatural)使用这种方法。

# unit-testing - 如何为运行 dao 的经理编写单元测试？

> ID：10976698
> 
> 赞同：1
> 
> 时间：2012-06-11T08:31:17.823
> 
> 标签：unit-testing, architecture, tdd

我有一个简单的测试设计问题，我想一劳永逸地解决。

我非常习惯于常规的 Java 设计模式，其中有一些`Manager interface`（或外观）和一组`DAO interfaces`. 具体实现`ManagerImpl`是使用`DaoImpl`.

现在我正处于实施阶段，我的项目还没有连接数据库，所以我想这是在没有数据库的情况下编写正确单元测试的最佳时机:-)

我可以通过使用 mockito 来模拟我的经理的一些方法，但是由于 Test Under Method（或所谓的 System Under Test）在内部使用 DAO，我也必须模拟 DAO。不幸的是，如果不在我的管理器中设置具体的 DAO 实现，我就无法做到这一点，例如`myManager.setMyDao(mockedDao)`，但现在我必须将此方法拉出`setMyDao`到接口中，这当然会破坏封装并使我干净完美的接口看起来像垃圾。

**所以问题是：**如何在测试中模拟 DAO，同时保持干净的`Manager-Dao`架构？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:44:25.653

您应该对具体实现进行单元测试，即`ManagerImplTest`，它将显式创建`ManagerImpl`，因此您拥有所有`setMyDao`可用于模拟的方法。你的测试不会知道`Manager interface`。

顺便说一句，并不总是需要为所有内容创建接口。在大多数情况下，只存在管理器和 daos 的单一实现。如果没有任何其他强有力的理由（例如 Spring AOP 代理或依赖分离），我想为了简单起见，最好不要为所有内容创建接口。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T09:00:28.917

您可以完全摆脱`set`方法并注入工厂。这样就不会暴露额外的方法（事实上，甚至不存在额外的方法）并且问题消失了。然后在测试中，您将工厂模拟配置为返回 DAO 模拟，从那时起，它就变得简单明了。

# css - 如何在 webkit 浏览器上设置按钮（输入元素）的高度？

> ID：10976700
> 
> 赞同：12
> 
> 时间：2012-06-11T08:31:22.053
> 
> 标签：css, button

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-06-11T12:56:59.297

Display inline-block does nothing, as inputs already have that display set by default. Add `border:none`. When you do so, it starts behaving like you want it to. Here's the fiddle -> [http://jsfiddle.net/joplomacedo/XmS6m/1/](http://jsfiddle.net/joplomacedo/XmS6m/1/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T09:01:13.290

Button is an inline-level element. You need to change that to `block` or `inline-block`:

```
#my_button { display: inline-block; height: 200px; } 
```

**[Live Example](http://dabblet.com/gist/2909184)**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-12-16T10:15:36.667

Try setting the `box-sizing` property to `content-box`:

```
.my-button {
  box-sizing: content-box;
  height: 200px;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-07-15T04:50:26.907

You can also increase the font-size of the button to enlarge it.

# c++ - c++ 通过 const 引用传递

> ID：10976702
> 
> 赞同：20
> 
> 时间：2012-06-11T08:31:29.277
> 
> 标签：c++, pass-by-const-reference

在以下程序主体中包含一个指针向量。Points 是 x,y,z 坐标和 point_id 的结构。我相信由于 body 是通过 const 引用传递的，因此以下步骤应该会产生错误。但是程序运行没有任何问题。你能解释一下为什么会这样吗？

```
void readOutFile(const Body& body, int n){

    ....

    body.bp[0]->points.push_back(Point_id(p,i));
} 
```

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-06-11T08:36:30.943

这是问题：

```
body.bp[0]->points.push_back(Point_id(p,i));
          ^^ 
```

通过指针间接删除任何常量；相反，结果的常量取决于指针的类型。

```
T *t;              // pointer to T: can modify t and (*t)
const T *t;        // pointer to const-T: can modify t but not (*t)
T *const t;        // const-pointer to T: can modify (*t) but not t
const T *const t;  // const-pointer to const-T: can't modify either t or (*t) 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-06-11T08:43:19.060

这是说明原因的最佳示例之一`data members should not be public`。

在这里，`body`是常量，因此它的数据成员不能更改，但`body.bp[0]->points`重点是正在更改，它不是 .`Body`因此没有违反 const 的成员。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-06-11T08:36:04.710

只有`body`是恒定的。

`body.bp[0]->points`不会受到**恒定**性的影响`body`

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2012-06-11T08:37:26.703

是的，`body`是恒定的。这意味着不能调用非常量成员函数，也不能修改成员变量。

两者都没有完成。used的唯一成员`body`是`body.bp[0]`，它也没有改变，而只是用于获取`points`，这可能是也可能不是恒定的......

推论：不要公开数据成员。

# javascript - chrome 扩展力鼠标移动

> ID：10976705
> 
> 赞同：6
> 
> 时间：2012-06-11T08:31:40.480
> 
> 标签：javascript, google-chrome, google-chrome-extension

我正在编写一个 chrome 扩展程序来记录您的操作，例如（鼠标单击、键盘按键）。扩展的想法是帮助我和我的同事减少我们基于 Web 的项目的无聊测试。我让它记录事件并将其作为 mysql 存储在开发服务器上，以便我可以使用或共享给他们。但问题是重播保存的操作。

**那么如果有办法强制鼠标移动，鼠标点击事件。它可以从flash，java或类似的东西完成。**

PS。该项目是 Extjs，但我想让扩展对使用其他框架的开发人员有用并发布它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-11-08T11:45:38.193

考虑为此使用[Selenium 。](http://www.seleniumhq.org/)它支持多种语言，您可以使用它编写整个测试脚本。例如，您可以将其设置为单击元素、等待某事发生或填充文本框。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:56:12.683

想象一下一些随机网站控制你的鼠标......不酷，是吗？（这就是为什么你不能通过 javascript 强制 mousemove）

但是，您可以触发对元素的点击。为此，您需要保存事件（鼠标悬停|out/(dbl)click/whatever）和相应的元素（在事件函数中：this）。这应该足以模拟工作流程。

jQuery-示例：

```
$('#item').click();
$('#item').trigger('click'); 
```

香草JavaScript：

```
document.querySelector("#item").click(); 
```

# php - 如何在您网站的注册表单中阻止一次性电子邮件地址？

> ID：10976706
> 
> 赞同：33
> 
> 时间：2012-06-11T08:31:55.510
> 
> 标签：php, email, registration, email-validation, disposable

我想知道阻止[一次性电子邮件地址](http://en.wikipedia.org/wiki/Disposable_email_address)在我的网站上注册的可能方法。

为简单起见，我们以网站的注册表单用 HTML 和 PHP 完成的例子为例。

任何想法、解决方案或建议将不胜感激。

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2012-06-11T08:36:18.870

这很难，因为既不是白名单也不是黑名单。

通过将某些域列入白名单，您就不允许使用您不知道的电子邮件域（但可能完全有效）的人，而通过列入黑名单，您必须每天更新列入黑名单的域列表，因为出现了新的“10 分钟电子邮件”域每天。

请注意，临时电子邮件地址的发明是为了表达：*“嘿，我不相信这个网站有我自己的电子邮件地址”*，所以你很可能不会欺骗愿意隐藏真实地址的用户因为他们有正当理由这样做。

你不能采用和实施类似[OpenID](http://openid.net/get-an-openid/what-is-openid/)的东西吗？

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2019-09-13T01:15:19.173

我面临同样的问题，所以我创建了一个免费的 API 服务来识别一次性和临时电子邮件地址：[阻止临时电子邮件](https://block-temporary-email.com)

电子邮件端点：

`GET` `https://block-temporary-email.com/check/email/example@simplemail.top`

JSON响应：

```
{
  "status": 200,
  "domain": "simplemail.top",
  "temporary": true,
  "dns": true,
} 
```

此 API 可免费使用，但您是否需要 API 密钥才能免费注册。

**免责声明：我制作了这个 API**

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2015-10-30T12:44:22.063

另一个 DEA 域列表，通过合并我可以在网络上找到的列表构建（2015 年）：

```
0815.ru
0815.ru0clickemail.com
0815.ry
0815.su
0845.ru
0clickemail.com
0-mail.com
0wnd.net
0wnd.org
10mail.com
10mail.org
10minut.com.pl
10minutemail.cf
10minutemail.co.za
10minutemail.com
10minutemail.de
10minutemail.ga
10minutemail.gq
10minutemail.ml
10minutemail.net
10minutesmail.com
10x9.com
123-m.com
126.com
12houremail.com
12minutemail.com
12minutemail.net
139.com
163.com
1ce.us
1chuan.com
1fsdfdsfsdf.tk
1mail.ml
1pad.de
1zhuan.com
20mail.it
20minutemail.com
21cn.com
24hourmail.com
2fdgdfgdfgdf.tk
2prong.com
30minutemail.com
33mail.com
3d-painting.com
3mail.ga
3trtretgfrfe.tk
420blaze.it
4gfdsgfdgfd.tk
4mail.cf
4mail.ga
4warding.com
4warding.net
4warding.org
5ghgfhfghfgh.tk
5mail.cf
5mail.ga
60minutemail.com
675hosting.com
675hosting.net
675hosting.org
6hjgjhgkilkj.tk
6ip.us
6mail.cf
6mail.ga
6mail.ml
6paq.com
6url.com
75hosting.com
75hosting.net
75hosting.org
7days-printing.com
7mail.ga
7mail.ml
7tags.com
8127ep.com
8chan.co
8mail.cf
8mail.ga
8mail.ml
99experts.com
9mail.cf
9ox.net
a.mailcker.com
a.vztc.com
a45.in
a-bc.net
abyssmail.com
afrobacon.com
ag.us.to
agedmail.com
ajaxapp.net
akapost.com
akerd.com
aktiefmail.nl
alivance.com
amail4.me
ama-trade.de
ama-trans.de
amilegit.com
amiri.net
amiriindustries.com
anappthat.com
ano-mail.net
anonbox.net
anon-mail.de
anonmails.de
anonymail.dk
anonymbox.com
anonymousmail.org
anonymousspeech.com
antichef.com
antichef.net
antireg.com
antireg.ru
antispam.de
antispam24.de
antispammail.de
armyspy.com
artman-conception.com
asdasd.nl
asdasd.ru
atvclub.msk.ru
auti.st
avpa.nl
azmeil.tk
b2cmail.de
baxomale.ht.cx
beddly.com
beefmilk.com
big1.us
bigprofessor.so
bigstring.com
binkmail.com
bio-muesli.info
bio-muesli.net
blackmarket.to
bladesmail.net
bloatbox.com
blogmyway.org
blogos.com
bluebottle.com
bobmail.info
bodhi.lawlita.com
bofthew.com
bootybay.de
boun.cr
bouncr.com
boxformail.in
boximail.com
br.mintemail.com
brainonfire.net
breakthru.com
brefmail.com
brennendesreich.de
broadbandninja.com
bsnow.net
bspamfree.org
bu.mintemail.com
buffemail.com
bugmenever.com
bugmenot.com
bumpymail.com
bund.us
bundes-li.ga
burnthespam.info
burstmail.info
buymoreplays.com
buyusedlibrarybooks.org
byom.de
c2.hu
cachedot.net
cam4you.cc
card.zp.ua
casualdx.com
cc.liamria
cek.pm
cellurl.com
centermail.com
centermail.net
chammy.info
cheatmail.de
childsavetrust.org
chogmail.com
choicemail1.com
chong-mail.com
chong-mail.net
chong-mail.org
clixser.com
clrmail.com
cmail.com
cmail.net
cmail.org
cock.li
coieo.com
coldemail.info
consumerriot.com
cool.fr.nf
correo.blogos.net
cosmorph.com
courriel.fr.nf
courrieltemporaire.com
crapmail.org
crazymailing.com
cubiclink.com
cumallover.me
curryworld.de
cust.in
cuvox.de
d3p.dk
dacoolest.com
dandikmail.com
dayrep.com
dbunker.com
dcemail.com
deadaddress.com
deadchildren.org
deadfake.cf
deadfake.ga
deadfake.ml
deadfake.tk
deadspam.com
deagot.com
dealja.com
delikkt.de
despam.it
despammed.com
devnullmail.com
dfgh.net
dharmatel.net
dicksinhisan.us
dicksinmyan.us
digitalsanctuary.com
dingbone.com
discard.cf
discard.email
discard.ga
discard.gq
discard.ml
discard.tk
discardmail.com
discardmail.de
disposable.cf
disposable.ga
disposable.ml
disposableaddress.com
disposable-email.ml
disposableemailaddresses.com
disposableinbox.com
dispose.it
disposeamail.com
disposemail.com
dispostable.com
divermail.com
dm.w3internet.co.uk
dm.w3internet.co.ukexample.com
docmail.com
dodgeit.com
dodgit.com
dodgit.org
doiea.com
domozmail.com
donemail.ru
dontreg.com
dontsendmespam.de
dotman.de
dotmsg.com
drdrb.com
drdrb.net
dropcake.de
droplister.com
dropmail.me
dudmail.com
dumpandjunk.com
dump-email.info
dumpmail.de
dumpyemail.com
duskmail.com
e4ward.com
easytrashmail.com
edv.to
ee1.pl
ee2.pl
eelmail.com
einmalmail.de
einrot.com
einrot.de
eintagsmail.de
e-mail.com
email.net
e-mail.org
email60.com
emailage.cf
emailage.ga
emailage.gq
emailage.ml
emailage.tk
emaildienst.de
email-fake.cf
email-fake.ga
email-fake.gq
email-fake.ml
email-fake.tk
emailgo.de
emailias.com
emailigo.de
emailinfive.com
emaillime.com
emailmiser.com
emails.ga
emailsensei.com
emailspam.cf
emailspam.ga
emailspam.gq
emailspam.ml
emailspam.tk
emailtemporanea.com
emailtemporanea.net
emailtemporar.ro
emailtemporario.com.br
emailthe.net
emailtmp.com
emailto.de
emailwarden.com
emailx.at.hm
emailxfer.com
emailz.cf
emailz.ga
emailz.gq
emailz.ml
emeil.in
emeil.ir
emkei.cf
emkei.ga
emkei.gq
emkei.ml
emkei.tk
emz.net
enterto.com
ephemail.net
e-postkasten.com
e-postkasten.de
e-postkasten.eu
e-postkasten.info
ero-tube.org
etranquil.com
etranquil.net
etranquil.org
evopo.com
example.com
explodemail.com
express.net.ua
eyepaste.com
facebook-email.cf
facebook-email.ga
facebook-email.ml
facebookmail.gq
facebookmail.ml
faecesmail.me
fakedemail.com
fakeinbox.cf
fakeinbox.com
fakeinbox.ga
fakeinbox.ml
fakeinbox.tk
fakeinformation.com
fake-mail.cf
fakemail.fr
fake-mail.ga
fake-mail.ml
fakemailgenerator.com
fakemailz.com
fammix.com
fansworldwide.de
fantasymail.de
fastacura.com
fastchevy.com
fastchrysler.com
fastermail.com
fastkawasaki.com
fastmail.fm
fastmazda.com
fastmitsubishi.com
fastnissan.com
fastsubaru.com
fastsuzuki.com
fasttoyota.com
fastyamaha.com
fatflap.com
fdfdsfds.com
fightallspam.com
film-blog.biz
filzmail.com
fivemail.de
fixmail.tk
fizmail.com
fleckens.hu
flurred.com
flyspam.com
fly-ts.de
footard.com
forgetmail.com
fornow.eu
fr33mail.info
frapmail.com
freecoolemail.com
free-email.cf
free-email.ga
freeletter.me
freemail.ms
freemails.cf
freemails.ga
freemails.ml
freundin.ru
friendlymail.co.uk
front14.org
fuckingduh.com
fuckmail.me
fudgerub.com
fux0ringduh.com
fyii.de
garbagemail.org
garliclife.com
garrifulio.mailexpire.com
gawab.com
gehensiemirnichtaufdensack.de
gelitik.in
geschent.biz
get1mail.com
get2mail.fr
getairmail.cf
getairmail.com
getairmail.ga
getairmail.gq
getairmail.ml
getairmail.tk
get-mail.cf
get-mail.ga
get-mail.ml
get-mail.tk
getmails.eu
getonemail.com
getonemail.net
ghosttexter.de
giantmail.de
girlsundertheinfluence.com
gishpuppy.com
gmal.com
gmial.com
gmx.com
goat.si
goemailgo.com
gomail.in
gorillaswithdirtyarmpits.com
gotmail.com
gotmail.net
gotmail.org
gotti.otherinbox.com
gowikibooks.com
gowikicampus.com
gowikicars.com
gowikifilms.com
gowikigames.com
gowikimusic.com
gowikinetwork.com
gowikitravel.com
gowikitv.com
grandmamail.com
grandmasmail.com
great-host.in
greensloth.com
grr.la
gsrv.co.uk
guerillamail.biz
guerillamail.com
guerillamail.net
guerillamail.org
guerillamailblock.com
guerrillamail.biz
guerrillamail.com
guerrillamail.de
guerrillamail.info
guerrillamail.net
guerrillamail.org
guerrillamailblock.com
gustr.com
h.mintemail.com
h8s.org
hacccc.com
haltospam.com
harakirimail.com
hartbot.de
hatespam.org
hat-geld.de
herp.in
hidemail.de
hidzz.com
hmamail.com
hochsitze.com
hooohush.ai
hopemail.biz
horsefucker.org
hotmai.com
hot-mail.cf
hot-mail.ga
hot-mail.gq
hot-mail.ml
hot-mail.tk
hotmial.com
hotpop.com
huajiachem.cn
hulapla.de
humaility.com
hush.ai
hush.com
hushmail.com
hushmail.me
i2pmail.org
ieatspam.eu
ieatspam.info
ieh-mail.de
ignoremail.com
ihateyoualot.info
iheartspam.org
ikbenspamvrij.nl
imails.info
imgof.com
imgv.de
imstations.com
inbax.tk
inbox.si
inbox2.info
inboxalias.com
inboxclean.com
inboxclean.org
inboxdesign.me
inboxed.im
inboxed.pw
inboxstore.me
incognitomail.com
incognitomail.net
incognitomail.org
infocom.zp.ua
insorg-mail.info
instantemailaddress.com
instant-mail.de
iozak.com
ip6.li
ipoo.org
irish2me.com
iroid.com
is.af
iwantmyname.com
iwi.net
jetable.com
jetable.fr.nf
jetable.net
jetable.org
jnxjn.com
jourrapide.com
jsrsolutions.com
junk.to
junk1e.com
junkmail.ga
junkmail.gq
k2-herbal-incenses.com
kasmail.com
kaspop.com
keepmymail.com
killmail.com
killmail.net
kir.ch.tc
klassmaster.com
klassmaster.net
klzlk.com
kmhow.com
kostenlosemailadresse.de
koszmail.pl
kulturbetrieb.info
kurzepost.de
l33r.eu
lackmail.net
lags.us
landmail.co
lastmail.co
lavabit.com
lawlita.com
letthemeatspam.com
lhsdv.com
lifebyfood.com
link2mail.net
linuxmail.so
litedrop.com
llogin.ru
loadby.us
login-email.cf
login-email.ga
login-email.ml
login-email.tk
lol.com
lol.ovpn.to
lolfreak.net
lookugly.com
lopl.co.cc
lortemail.dk
losemymail.com
lovebitco.in
lovemeleaveme.com
loves.dicksinhisan.us
loves.dicksinmyan.us
lr7.us
lr78.com
lroid.com
luckymail.org
lukop.dk
luv2.us
m21.cc
m4ilweb.info
ma1l.bij.pl
maboard.com
mac.hush.com
mail.by
mail.me
mail.mezimages.net
mail.ru
mail.zp.ua
mail114.net
mail1a.de
mail21.cc
mail2rss.org
mail2world.com
mail333.com
mail4trash.com
mailbidon.com
mailbiz.biz
mailblocks.com
mailbucket.org
mailcat.biz
mailcatch.com
mailde.de
mailde.info
maildrop.cc
maildrop.cf
maildrop.ga
maildrop.gq
maildrop.ml
maildu.de
maileater.com
mailed.in
maileimer.de
mailexpire.com
mailfa.tk
mail-filter.com
mailforspam.com
mailfree.ga
mailfree.gq
mailfree.ml
mailfreeonline.com
mailguard.me
mailhazard.com
mailhazard.us
mailhz.me
mailimate.com
mailin8r.com
mailinater.com
mailinator.com
mailinator.gq
mailinator.net
mailinator.org
mailinator.us
mailinator2.com
mailincubator.com
mailismagic.com
mailita.tk
mailjunk.cf
mailjunk.ga
mailjunk.gq
mailjunk.ml
mailjunk.tk
mailme.gq
mailme.ir
mailme.lv
mailme24.com
mailmetrash.com
mailmoat.com
mailms.com
mailnator.com
mailnesia.com
mailnull.com
mailorg.org
mailpick.biz
mailquack.com
mailrock.biz
mailsac.com
mailscrap.com
mailseal.de
mailshell.com
mailsiphon.com
mailslapping.com
mailslite.com
mailtemp.info
mail-temporaire.fr
mailtome.de
mailtothis.com
mailtrash.net
mailtv.net
mailtv.tv
mailwithyou.com
mailzilla.com
mailzilla.org
makemetheking.com
malahov.de
manifestgenerator.com
manybrain.com
mbx.cc
mega.zik.dj
meinspamschutz.de
meltmail.com
messagebeamer.de
mezimages.net
mierdamail.com
migmail.pl
migumail.com
ministry-of-silly-walks.de
mintemail.com
misterpinball.de
mjukglass.nu
mmmmail.com
moakt.com
mobi.web.id
mobileninja.co.uk
moburl.com
moncourrier.fr.nf
monemail.fr.nf
monmail.fr.nf
monumentmail.com
ms9.mailslite.com
msa.minsmail.com
msb.minsmail.com
msg.mailslite.com
mt2009.com
mt2014.com
mt2015.com
muchomail.com
mx0.wwwnew.eu
my10minutemail.com
mycard.net.ua
mycleaninbox.net
myemailboxy.com
mymail-in.net
mynetstore.de
mypacks.net
mypartyclip.de
myphantomemail.com
mysamp.de
myspaceinc.com
myspaceinc.net
myspaceinc.org
myspacepimpedup.com
myspamless.com
mytempemail.com
mytempmail.com
mythrashmail.net
mytrashmail.com
nabuma.com
national.shitposting.agency
naver.com
neomailbox.com
nepwk.com
nervmich.net
nervtmich.net
netmails.com
netmails.net
netzidiot.de
neverbox.com
nevermail.de
nice-4u.com
nigge.rs
nincsmail.hu
nmail.cf
nnh.com
noblepioneer.com
nobugmail.com
nobulk.com
nobuma.com
noclickemail.com
nogmailspam.info
nomail.pw
nomail.xl.cx
nomail2me.com
nomorespamemails.com
nonspam.eu
nonspammer.de
noref.in
nospam.wins.com.br
no-spam.ws
nospam.ze.tc
nospam4.us
nospamfor.us
nospammail.net
nospamthanks.info
notmailinator.com
notsharingmy.info
nowhere.org
nowmymail.com
ntlhelp.net
nullbox.info
nurfuerspam.de
nus.edu.sg
nwldx.com
o2.co.uk
o2.pl
objectmail.com
obobbo.com
odaymail.com
odnorazovoe.ru
ohaaa.de
omail.pro
oneoffemail.com
oneoffmail.com
onewaymail.com
onlatedotcom.info
online.ms
oopi.org
opayq.com
ordinaryamerican.net
otherinbox.com
ourklips.com
outlawspam.com
ovpn.to
owlpic.com
pancakemail.com
paplease.com
pcusers.otherinbox.com
pepbot.com
pfui.ru
phentermine-mortgages-texas-holdem.biz
pimpedupmyspace.com
pjjkp.com
plexolan.de
poczta.onet.pl
politikerclub.de
poofy.org
pookmail.com
postonline.me
powered.name
privacy.net
privatdemail.net
privy-mail.com
privymail.de
privy-mail.de
proxymail.eu
prtnx.com
prtz.eu
punkass.com
put2.net
putthisinyourspamdatabase.com
pwrby.com
qasti.com
qisdo.com
qisoa.com
qoika.com
qq.com
quickinbox.com
quickmail.nl
rcpt.at
rcs.gaggle.net
reallymymail.com
realtyalerts.ca
receiveee.com
recode.me
recursor.net
recyclemail.dk
redchan.it
regbypass.com
regbypass.comsafe-mail.net
rejectmail.com
reliable-mail.com
remail.cf
remail.ga
rhyta.com
rklips.com
rmqkr.net
royal.net
rppkn.com
rtrtr.com
s0ny.net
safe-mail.net
safersignup.de
safetymail.info
safetypost.de
sandelf.de
saynotospams.com
scatmail.com
schafmail.de
schmeissweg.tk
schrott-email.de
secmail.pw
secretemail.de
secure-mail.biz
secure-mail.cc
selfdestructingmail.com
selfdestructingmail.org
sendspamhere.com
senseless-entertainment.com
server.ms
services391.com
sharklasers.com
shieldedmail.com
shieldemail.com
shiftmail.com
shitmail.me
shitmail.org
shitware.nl
shmeriously.com
shortmail.net
shut.name
shut.ws
sibmail.com
sify.com
sina.cn
sina.com
sinnlos-mail.de
siteposter.net
skeefmail.com
sky-ts.de
slapsfromlastnight.com
slaskpost.se
slave-auctions.net
slopsbox.com
slushmail.com
smaakt.naar.gravel
smapfree24.com
smapfree24.de
smapfree24.eu
smapfree24.info
smapfree24.org
smashmail.de
smellfear.com
snakemail.com
sneakemail.com
sneakmail.de
snkmail.com
sofimail.com
sofortmail.de
sofort-mail.de
sogetthis.com
sohu.com
solvemail.info
soodomail.com
soodonims.com
spam.la
spam.su
spam4.me
spamail.de
spamarrest.com
spamavert.com
spam-be-gone.com
spambob.com
spambob.net
spambob.org
spambog.com
spambog.de
spambog.net
spambog.ru
spambooger.com
spambox.info
spambox.irishspringrealty.com
spambox.org
spambox.us
spamcannon.com
spamcannon.net
spamcero.com
spamcon.org
spamcorptastic.com
spamcowboy.com
spamcowboy.net
spamcowboy.org
spamday.com
spamdecoy.net
spamex.com
spamfighter.cf
spamfighter.ga
spamfighter.gq
spamfighter.ml
spamfighter.tk
spamfree.eu
spamfree24.com
spamfree24.de
spamfree24.eu
spamfree24.info
spamfree24.net
spamfree24.org
spamgoes.in
spamgourmet.com
spamgourmet.net
spamgourmet.org
spamherelots.com
spamhereplease.com
spamhole.com
spamify.com
spaminator.de
spamkill.info
spaml.com
spaml.de
spammotel.com
spamobox.com
spamoff.de
spamsalad.in
spamslicer.com
spamspot.com
spamstack.net
spamthis.co.uk
spamthisplease.com
spamtrail.com
spamtroll.net
speed.1s.fr
spoofmail.de
squizzy.de
sry.li
ssoia.com
startkeys.com
stinkefinger.net
stop-my-spam.cf
stop-my-spam.com
stop-my-spam.ga
stop-my-spam.ml
stop-my-spam.tk
stuffmail.de
suioe.com
super-auswahl.de
supergreatmail.com
supermailer.jp
superplatyna.com
superrito.com
superstachel.de
suremail.info
sweetxxx.de
tafmail.com
tagyourself.com
talkinator.com
tapchicuoihoi.com
techemail.com
techgroup.me
teewars.org
teleworm.com
teleworm.us
temp.emeraldwebmail.com
tempail.com
tempalias.com
tempemail.biz
tempemail.co.za
tempemail.com
tempe-mail.com
tempemail.net
tempimbox.com
tempinbox.co.uk
tempinbox.com
tempmail.eu
tempmail.it
temp-mail.org
temp-mail.ru
tempmail2.com
tempmaildemo.com
tempmailer.com
tempmailer.de
tempomail.fr
temporarily.de
temporarioemail.com.br
temporaryemail.net
temporaryemail.us
temporaryforwarding.com
temporaryinbox.com
temporarymailaddress.com
tempthe.net
tempymail.com
tfwno.gf
thanksnospam.info
thankyou2010.com
thc.st
thecloudindex.com
thelimestones.com
thisisnotmyrealemail.com
thismail.net
thrma.com
throam.com
throwawayemailaddress.com
throwawaymail.com
tijdelijkmailadres.nl
tilien.com
tittbit.in
tizi.com
tmail.com
tmailinator.com
toiea.com
tokem.co
toomail.biz
topcoolemail.com
topfreeemail.com
topranklist.de
tormail.net
tormail.org
tradermail.info
trash2009.com
trash2010.com
trash2011.com
trash-amil.com
trashcanmail.com
trashdevil.com
trashdevil.de
trashemail.de
trashinbox.com
trashmail.at
trash-mail.at
trash-mail.cf
trashmail.com
trash-mail.com
trashmail.de
trash-mail.de
trash-mail.ga
trash-mail.gq
trashmail.me
trash-mail.ml
trashmail.net
trashmail.org
trash-mail.tk
trashmail.ws
trashmailer.com
trashymail.com
trashymail.net
trayna.com
trbvm.com
trialmail.de
trickmail.net
trillianpro.com
tryalert.com
turual.com
twinmail.de
tyldd.com
ubismail.net
uggsrock.com
umail.net
upliftnow.com
uplipht.com
uroid.com
us.af
uyhip.com
valemail.net
venompen.com
verticalscope.com
veryrealemail.com
veryrealmail.com
vidchart.com
viditag.com
viewcastmedia.com
viewcastmedia.net
viewcastmedia.org
vipmail.name
vipmail.pw
viralplays.com
vistomail.com
vomoto.com
vpn.st
vsimcard.com
vubby.com
vztc.com
walala.org
walkmail.net
wants.dicksinhisan.us
wants.dicksinmyan.us
wasteland.rfc822.org
watchfull.net
watch-harry-potter.com
webemail.me
webm4il.info
webuser.in
wegwerfadresse.de
wegwerfemail.com
wegwerfemail.de
wegwerf-email.de
weg-werf-email.de
wegwerfemail.net
wegwerf-email.net
wegwerfemail.org
wegwerf-email-addressen.de
wegwerfemailadresse.com
wegwerf-email-adressen.de
wegwerf-emails.de
wegwerfmail.de
wegwerfmail.info
wegwerfmail.net
wegwerfmail.org
wegwerpmailadres.nl
wegwrfmail.de
wegwrfmail.net
wegwrfmail.org
wetrainbayarea.com
wetrainbayarea.org
wh4f.org
whatiaas.com
whatpaas.com
whatsaas.com
whopy.com
whyspam.me
wickmail.net
wilemail.com
willhackforfood.biz
willselfdestruct.com
winemaven.info
wmail.cf
wolfsmail.tk
writeme.us
wronghead.com
wuzup.net
wuzupmail.net
www.e4ward.com
www.gishpuppy.com
www.mailinator.com
wwwnew.eu
x.ip6.li
xagloo.co
xagloo.com
xemaps.com
xents.com
xmail.com
xmaily.com
xoxox.cc
xoxy.net
xxtreamcam.com
xyzfree.net
yandex.com
yanet.me
yapped.net
yeah.net
yep.it
yogamaven.com
yomail.info
yopmail.com
yopmail.fr
yopmail.gq
yopmail.net
youmail.ga
youmailr.com
yourdomain.com
you-spam.com
ypmail.webarnak.fr.eu.org
yuurok.com
yxzx.net
z1p.biz
za.com
zebins.com
zebins.eu
zehnminuten.de
zehnminutenmail.de
zetmail.com
zippymail.info
zoaxe.com
zoemail.com
zoemail.net
zoemail.org
zomg.info 
```

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2012-11-11T11:18:14.623

这是我制作的列表，以及使用它的功能

```
function is_temp_mail($mail) {
    $mail_domains_ko = array('0815.ru0clickemail.com', '0wnd.net', '0wnd.org', '10minutemail.com', '20minutemail.com', '2prong.com', '3d-painting.com', '4warding.com', '4warding.net', '4warding.org', '9ox.net', 'a-bc.net', 'amilegit.com', 'anonbox.net', 'anonymbox.com', 'antichef.com', 'antichef.net', 'antispam.de', 'baxomale.ht.cx', 'beefmilk.com', 'binkmail.com', 'bio-muesli.net', 'bobmail.info', 'bodhi.lawlita.com', 'bofthew.com', 'brefmail.com', 'bsnow.net', 'bugmenot.com', 'bumpymail.com', 'casualdx.com', 'chogmail.com', 'cool.fr.nf', 'correo.blogos.net', 'cosmorph.com', 'courriel.fr.nf', 'courrieltemporaire.com', 'curryworld.de', 'cust.in', 'dacoolest.com', 'dandikmail.com', 'deadaddress.com', 'despam.it', 'devnullmail.com', 'dfgh.net', 'digitalsanctuary.com', 'discardmail.com', 'discardmail.de', 'disposableaddress.com', 'disposemail.com', 'dispostable.com', 'dm.w3internet.co.uk', 'example.com', 'dodgeit.com', 'dodgit.com', 'dodgit.org', 'dontreg.com', 'dontsendmespam.de', 'dump-email.info', 'dumpyemail.com', 'e4ward.com', 'email60.com', 'emailias.com', 'emailinfive.com', 'emailmiser.com', 'emailtemporario.com.br', 'emailwarden.com', 'ephemail.net', 'explodemail.com', 'fakeinbox.com', 'fakeinformation.com', 'fastacura.com', 'filzmail.com', 'fizmail.com', 'frapmail.com', 'garliclife.com', 'get1mail.com', 'getonemail.com', 'getonemail.net', 'girlsundertheinfluence.com', 'gishpuppy.com', 'great-host.in', 'gsrv.co.uk', 'guerillamail.biz', 'guerillamail.com', 'guerillamail.net', 'guerillamail.org', 'guerrillamail.com', 'guerrillamailblock.com', 'haltospam.com', 'hotpop.com', 'ieatspam.eu', 'ieatspam.info', 'ihateyoualot.info', 'imails.info', 'inboxclean.com', 'inboxclean.org', 'incognitomail.com', 'incognitomail.net', 'ipoo.org', 'irish2me.com', 'jetable.com', 'jetable.fr.nf', 'jetable.net', 'jetable.org', 'junk1e.com', 'kaspop.com', 'kulturbetrieb.info', 'kurzepost.de', 'lifebyfood.com', 'link2mail.net', 'litedrop.com', 'lookugly.com', 'lopl.co.cc', 'lr78.com', 'maboard.com', 'mail.by', 'mail.mezimages.net', 'mail4trash.com', 'mailbidon.com', 'mailcatch.com', 'maileater.com', 'mailexpire.com', 'mailin8r.com', 'mailinator.com', 'mailinator.net', 'mailinator2.com', 'mailincubator.com', 'mailme.lv', 'mailnator.com', 'mailnull.com', 'mailzilla.org', 'mbx.cc', 'mega.zik.dj', 'meltmail.com', 'mierdamail.com', 'mintemail.com', 'moncourrier.fr.nf', 'monemail.fr.nf', 'monmail.fr.nf', 'mt2009.com', 'mx0.wwwnew.eu', 'mycleaninbox.net', 'mytrashmail.com', 'neverbox.com', 'nobulk.com', 'noclickemail.com', 'nogmailspam.info', 'nomail.xl.cx', 'nomail2me.com', 'no-spam.ws', 'nospam.ze.tc', 'nospam4.us', 'nospamfor.us', 'nowmymail.com', 'objectmail.com', 'obobbo.com', 'onewaymail.com', 'ordinaryamerican.net', 'owlpic.com', 'pookmail.com', 'proxymail.eu', 'punkass.com', 'putthisinyourspamdatabase.com', 'quickinbox.com', 'rcpt.at', 'recode.me', 'recursor.net', 'regbypass.comsafe-mail.net', 'safetymail.info', 'sandelf.de', 'saynotospams.com', 'selfdestructingmail.com', 'sendspamhere.com', 'shiftmail.com', '****mail.me', 'skeefmail.com', 'slopsbox.com', 'smellfear.com', 'snakemail.com', 'sneakemail.com', 'sofort-mail.de', 'sogetthis.com', 'soodonims.com', 'spam.la', 'spamavert.com', 'spambob.net', 'spambob.org', 'spambog.com', 'spambog.de', 'spambog.ru', 'spambox.info', 'spambox.us', 'spamcannon.com', 'spamcannon.net', 'spamcero.com', 'spamcorptastic.com', 'spamcowboy.com', 'spamcowboy.net', 'spamcowboy.org', 'spamday.com', 'spamex.com', 'spamfree24.com', 'spamfree24.de', 'spamfree24.eu', 'spamfree24.info', 'spamfree24.net', 'spamfree24.org', 'spamgourmet.com', 'spamgourmet.net', 'spamgourmet.org', 'spamherelots.com', 'spamhereplease.com', 'spamhole.com', 'spamify.com', 'spaminator.de', 'spamkill.info', 'spaml.com', 'spaml.de', 'spammotel.com', 'spamobox.com', 'spamspot.com', 'spamthis.co.uk', 'spamthisplease.com', 'speed.1s.fr', 'suremail.info', 'tempalias.com', 'tempemail.biz', 'tempemail.com', 'tempe-mail.com', 'tempemail.net', 'tempinbox.co.uk', 'tempinbox.com', 'tempomail.fr', 'temporaryemail.net', 'temporaryinbox.com', 'thankyou2010.com', 'thisisnotmyrealemail.com', 'throwawayemailaddress.com', 'tilien.com', 'tmailinator.com', 'tradermail.info', 'trash2009.com', 'trash-amil.com', 'trashmail.at', 'trash-mail.at', 'trashmail.com', 'trash-mail.com', 'trash-mail.de', 'trashmail.me', 'trashmail.net', 'trashymail.com', 'trashymail.net', 'tyldd.com', 'uggsrock.com', 'wegwerfmail.de', 'wegwerfmail.net', 'wegwerfmail.org', 'wh4f.org', 'whyspam.me', 'willselfdestruct.com', 'winemaven.info', 'wronghead.com', 'wuzupmail.net', 'xoxy.net', 'yogamaven.com', 'yopmail.com', 'yopmail.fr', 'yopmail.net', 'yuurok.com', 'zippymail.info', 'jnxjn.com', 'trashmailer.com', 'klzlk.com', 'nospamforus','kurzepost.de', 'objectmail.com', 'proxymail.eu', 'rcpt.at', 'trash-mail.at', 'trashmail.at', 'trashmail.me', 'trashmail.net', 'wegwerfmail.de', 'wegwerfmail.net', 'wegwerfmail.org', 'jetable', 'link2mail', 'meltmail', 'anonymbox', 'courrieltemporaire', 'sofimail', '0-mail.com', 'moburl.com', 'get2mail', 'yopmail', '10minutemail', 'mailinator', 'dispostable', 'spambog', 'mail-temporaire','filzmail','sharklasers.com', 'guerrillamailblock.com', 'guerrillamail.com', 'guerrillamail.net', 'guerrillamail.biz', 'guerrillamail.org', 'guerrillamail.de','mailmetrash.com', 'thankyou2010.com', 'trash2009.com', 'mt2009.com', 'trashymail.com', 'mytrashmail.com','mailcatch.com','trillianpro.com','junk.','joliekemulder','lifebeginsatconception','beerolympics','smaakt.naar.gravel','q00.','dispostable','spamavert','mintemail','tempemail','spamfree24','spammotel','spam','mailnull','e4ward','spamgourmet','mytempemail','incognitomail','spamobox','mailinator.com', 'trashymail.com', 'mailexpire.com', 'temporaryinbox.com', 'MailEater.com', 'spambox.us', 'spamhole.com', 'spamhole.com', 'jetable.org', 'guerrillamail.com', 'uggsrock.com', '10minutemail.com', 'dontreg.com', 'tempomail.fr', 'TempEMail.net', 'spamfree24.org', 'spamfree24.de', 'spamfree24.info', 'spamfree24.com', 'spamfree.eu', 'kasmail.com', 'spammotel.com', 'greensloth.com', 'spamspot.com', 'spam.la', 'mjukglass.nu', 'slushmail.com', 'trash2009.com', 'mytrashmail.com', 'mailnull.com', 'jetable.org','10minutemail.com', '20minutemail.com', 'anonymbox.com', 'beefmilk.com', 'bsnow.net', 'bugmenot.com', 'deadaddress.com', 'despam.it', 'disposeamail.com', 'dodgeit.com', 'dodgit.com', 'dontreg.com', 'e4ward.com', 'emailias.com', 'emailwarden.com', 'enterto.com', 'gishpuppy.com', 'goemailgo.com', 'greensloth.com', 'guerrillamail.com', 'guerrillamailblock.com', 'hidzz.com', 'incognitomail.net ', 'jetable.org', 'kasmail.com', 'lifebyfood.com', 'lookugly.com', 'mailcatch.com', 'maileater.com', 'mailexpire.com', 'mailin8r.com', 'mailinator.com', 'mailinator.net', 'mailinator2.com', 'mailmoat.com', 'mailnull.com', 'meltmail.com', 'mintemail.com', 'mt2009.com', 'myspamless.com', 'mytempemail.com', 'mytrashmail.com', 'netmails.net', 'odaymail.com', 'pookmail.com', 'shieldedmail.com', 'smellfear.com', 'sneakemail.com', 'sogetthis.com', 'soodonims.com', 'spam.la', 'spamavert.com', 'spambox.us', 'spamcero.com', 'spamex.com', 'spamfree24.com', 'spamfree24.de', 'spamfree24.eu', 'spamfree24.info', 'spamfree24.net', 'spamfree24.org', 'spamgourmet.com', 'spamherelots.com', 'spamhole.com', 'spaml.com', 'spammotel.com', 'spamobox.com', 'spamspot.com', 'tempemail.net', 'tempinbox.com', 'tempomail.fr', 'temporaryinbox.com', 'tempymail.com', 'thisisnotmyrealemail.com', 'trash2009.com', 'trashmail.net', 'trashymail.com', 'tyldd.com', 'yopmail.com', 'zoemail.com','deadaddress','soodo','tempmail','uroid','spamevader','gishpuppy','privymail.de','trashmailer.com','fansworldwide.de','onewaymail.com', 'mobi.web.id', 'ag.us.to', 'gelitik.in', 'fixmail.tk', 'shitmail.org');
    foreach($mail_domains_ko as $ko_mail) {
            list(,$mail_domain) = explode('@',$mail);
            if(strcasecmp($mail_domain, $ko_mail) == 0){
                    return true;
            }
    }
    return false;
} 
```

此域列表已被弃用，因为它现在已经很旧了。您可以尝试构建一个新的。

* * *

## 回答 #5

> 赞同：10
> 
> 时间：2014-04-26T13:15:06.927

有这个一次性电子邮件地址检测器网络服务[http://www.nameapi.org/en/live-demos/disposable-email-address-detector/](http://www.nameapi.org/en/live-demos/disposable-email-address-detector/)（免责声明：我为他们工作）。它每月提供 10,000 个免费请求。使用 PHP 客户端库[https://github.com/optimaize/nameapi-client-php](https://github.com/optimaize/nameapi-client-php) ，您的用户区代码如下所示：

```
$deaDetector = $serviceFactory->emailServices()->disposableEmailAddressDetector();
$result = $deaDetector->isDisposable("abcdefgh@10minutemail.com");
echo $result->getDisposable()->toString()); //will print 'YES' 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2016-10-23T13:44:26.357

这将很难硬编码，因为一次性/临时电子邮件域每天都会从[10minutemail](http://10minutemail.net)、[guerrillamail](https://www.guerrillamail.com)等服务中出现。也就是说，您最好集成一些托管的最新服务，例如[antideo 电子邮件健康 API](http://antideo.com/documentation/#email-address-queries)。

**端点：**

`api.antideo.com/email/nzk41997@xzsok.com`

**JSON 响应**

```
{
  "email": "nzk41997@xzsok.com",
  "free_provider": false,
  "spam": false,
  "scam": false,
  "disposable": true
} 
```

然后，您的 php 代码将如下所示：

```
$request = file_get_contents('http://api.antideo.com/email/nzk41997@xzsok.com');
$response = gzdecode($request);
$result = json_decode($response); 
```

然后寻找`boolean`类似的东西

```
if($result->disposable == true){
  // EMAIL IS TEMPORARY/DISPOSABLE
} else {
  // PERFORM YOUR ACTION
} 
```

他们还提供有关电子邮件是否为垃圾邮件发送者/诈骗者或来自免费提供商（如 gmail、yahoo 等）的详细信息。

**免责声明：**

我个人认识 Antideo 的人，我与他们一起参与了构建服务的一小部分。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2017-03-18T00:57:20.343

偶然发现了这个作曲家库[MattKetmo/EmailChecker](https://github.com/MattKetmo/EmailChecker "MattKetmo/EmailChecker")，内置 Symphony2 和 Laravel 5 支持/配置

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2017-07-13T10:14:20.777

除了 Gfra54 使用 sp00M 的 2015 年列表的答案：

```
 list(,$domain) = explode('@',$email);

        $disposables = array('0815.ru','0815.ru0clickemail.com','0815.ry','0815.su','0845.ru','0clickemail.com','0-mail.com','0wnd.net','0wnd.org','10mail.com','10mail.org','10minut.com.pl','10minutemail.cf','10minutemail.co.za','10minutemail.com','10minutemail.de','10minutemail.ga','10minutemail.gq','10minutemail.ml','10minutemail.net','10minutesmail.com','10x9.com','123-m.com','126.com','12houremail.com','12minutemail.com','12minutemail.net','139.com','163.com','1ce.us','1chuan.com','1fsdfdsfsdf.tk','1mail.ml','1pad.de','1zhuan.com','20mail.it','20minutemail.com','21cn.com','24hourmail.com','2fdgdfgdfgdf.tk','2prong.com','30minutemail.com','33mail.com','3d-painting.com','3mail.ga','3trtretgfrfe.tk','420blaze.it','4gfdsgfdgfd.tk','4mail.cf','4mail.ga','4warding.com','4warding.net','4warding.org','5ghgfhfghfgh.tk','5mail.cf','5mail.ga','60minutemail.com','675hosting.com','675hosting.net','675hosting.org','6hjgjhgkilkj.tk','6ip.us','6mail.cf','6mail.ga','6mail.ml','6paq.com','6url.com','75hosting.com','75hosting.net','75hosting.org','7days-printing.com','7mail.ga','7mail.ml','7tags.com','8127ep.com','8chan.co','8mail.cf','8mail.ga','8mail.ml','99experts.com','9mail.cf','9ox.net','a.mailcker.com','a.vztc.com','a45.in','a-bc.net','abyssmail.com','afrobacon.com','ag.us.to','agedmail.com','ajaxapp.net','akapost.com','akerd.com','aktiefmail.nl','alivance.com','amail4.me','ama-trade.de','ama-trans.de','amilegit.com','amiri.net','amiriindustries.com','anappthat.com','ano-mail.net','anonbox.net','anon-mail.de','anonmails.de','anonymail.dk','anonymbox.com','anonymousmail.org','anonymousspeech.com','antichef.com','antichef.net','antireg.com','antireg.ru','antispam.de','antispam24.de','antispammail.de','armyspy.com','artman-conception.com','asdasd.nl','asdasd.ru','atvclub.msk.ru','auti.st','avpa.nl','azmeil.tk','b2cmail.de','baxomale.ht.cx','beddly.com','beefmilk.com','big1.us','bigprofessor.so','bigstring.com','binkmail.com','bio-muesli.info','bio-muesli.net','blackmarket.to','bladesmail.net','bloatbox.com','blogmyway.org','blogos.com','bluebottle.com','bobmail.info','bodhi.lawlita.com','bofthew.com','bootybay.de','boun.cr','bouncr.com','boxformail.in','boximail.com','br.mintemail.com','brainonfire.net','breakthru.com','brefmail.com','brennendesreich.de','broadbandninja.com','bsnow.net','bspamfree.org','bu.mintemail.com','buffemail.com','bugmenever.com','bugmenot.com','bumpymail.com','bund.us','bundes-li.ga','burnthespam.info','burstmail.info','buymoreplays.com','buyusedlibrarybooks.org','byom.de','c2.hu','cachedot.net','cam4you.cc','card.zp.ua','casualdx.com','cc.liamria','cek.pm','cellurl.com','centermail.com','centermail.net','chammy.info','cheatmail.de','childsavetrust.org','chogmail.com','choicemail1.com','chong-mail.com','chong-mail.net','chong-mail.org','clixser.com','clrmail.com','cmail.com','cmail.net','cmail.org','cock.li','coieo.com','coldemail.info','consumerriot.com','cool.fr.nf','correo.blogos.net','cosmorph.com','courriel.fr.nf','courrieltemporaire.com','crapmail.org','crazymailing.com','cubiclink.com','cumallover.me','curryworld.de','cust.in','cuvox.de','d3p.dk','dacoolest.com','dandikmail.com','dayrep.com','dbunker.com','dcemail.com','deadaddress.com','deadchildren.org','deadfake.cf','deadfake.ga','deadfake.ml','deadfake.tk','deadspam.com','deagot.com','dealja.com','delikkt.de','despam.it','despammed.com','devnullmail.com','dfgh.net','dharmatel.net','dicksinhisan.us','dicksinmyan.us','digitalsanctuary.com','dingbone.com','discard.cf','discard.email','discard.ga','discard.gq','discard.ml','discard.tk','discardmail.com','discardmail.de','disposable.cf','disposable.ga','disposable.ml','disposableaddress.com','disposable-email.ml','disposableemailaddresses.com','disposableinbox.com','dispose.it','disposeamail.com','disposemail.com','dispostable.com','divermail.com','dm.w3internet.co.uk','dm.w3internet.co.ukexample.com','docmail.com','dodgeit.com','dodgit.com','dodgit.org','doiea.com','domozmail.com','donemail.ru','dontreg.com','dontsendmespam.de','dotman.de','dotmsg.com','drdrb.com','drdrb.net','dropcake.de','droplister.com','dropmail.me','dudmail.com','dumpandjunk.com','dump-email.info','dumpmail.de','dumpyemail.com','duskmail.com','e4ward.com','easytrashmail.com','edv.to','ee1.pl','ee2.pl','eelmail.com','einmalmail.de','einrot.com','einrot.de','eintagsmail.de','e-mail.com','email.net','e-mail.org','email60.com','emailage.cf','emailage.ga','emailage.gq','emailage.ml','emailage.tk','emaildienst.de','email-fake.cf','email-fake.ga','email-fake.gq','email-fake.ml','email-fake.tk','emailgo.de','emailias.com','emailigo.de','emailinfive.com','emaillime.com','emailmiser.com','emails.ga','emailsensei.com','emailspam.cf','emailspam.ga','emailspam.gq','emailspam.ml','emailspam.tk','emailtemporanea.com','emailtemporanea.net','emailtemporar.ro','emailtemporario.com.br','emailthe.net','emailtmp.com','emailto.de','emailwarden.com','emailx.at.hm','emailxfer.com','emailz.cf','emailz.ga','emailz.gq','emailz.ml','emeil.in','emeil.ir','emkei.cf','emkei.ga','emkei.gq','emkei.ml','emkei.tk','emz.net','enterto.com','ephemail.net','e-postkasten.com','e-postkasten.de','e-postkasten.eu','e-postkasten.info','ero-tube.org','etranquil.com','etranquil.net','etranquil.org','evopo.com','example.com','explodemail.com','express.net.ua','eyepaste.com','facebook-email.cf','facebook-email.ga','facebook-email.ml','facebookmail.gq','facebookmail.ml','faecesmail.me','fakedemail.com','fakeinbox.cf','fakeinbox.com','fakeinbox.ga','fakeinbox.ml','fakeinbox.tk','fakeinformation.com','fake-mail.cf','fakemail.fr','fake-mail.ga','fake-mail.ml','fakemailgenerator.com','fakemailz.com','fammix.com','fansworldwide.de','fantasymail.de','fastacura.com','fastchevy.com','fastchrysler.com','fastermail.com','fastkawasaki.com','fastmail.fm','fastmazda.com','fastmitsubishi.com','fastnissan.com','fastsubaru.com','fastsuzuki.com','fasttoyota.com','fastyamaha.com','fatflap.com','fdfdsfds.com','fightallspam.com','film-blog.biz','filzmail.com','fivemail.de','fixmail.tk','fizmail.com','fleckens.hu','flurred.com','flyspam.com','fly-ts.de','footard.com','forgetmail.com','fornow.eu','fr33mail.info','frapmail.com','freecoolemail.com','free-email.cf','free-email.ga','freeletter.me','freemail.ms','freemails.cf','freemails.ga','freemails.ml','freundin.ru','friendlymail.co.uk','front14.org','fuckingduh.com','fuckmail.me','fudgerub.com','fux0ringduh.com','fyii.de','garbagemail.org','garliclife.com','garrifulio.mailexpire.com','gawab.com','gehensiemirnichtaufdensack.de','gelitik.in','geschent.biz','get1mail.com','get2mail.fr','getairmail.cf','getairmail.com','getairmail.ga','getairmail.gq','getairmail.ml','getairmail.tk','get-mail.cf','get-mail.ga','get-mail.ml','get-mail.tk','getmails.eu','getonemail.com','getonemail.net','ghosttexter.de','giantmail.de','girlsundertheinfluence.com','gishpuppy.com','gmal.com','gmial.com','gmx.com','goat.si','goemailgo.com','gomail.in','gorillaswithdirtyarmpits.com','gotmail.com','gotmail.net','gotmail.org','gotti.otherinbox.com','gowikibooks.com','gowikicampus.com','gowikicars.com','gowikifilms.com','gowikigames.com','gowikimusic.com','gowikinetwork.com','gowikitravel.com','gowikitv.com','grandmamail.com','grandmasmail.com','great-host.in','greensloth.com','grr.la','gsrv.co.uk','guerillamail.biz','guerillamail.com','guerillamail.net','guerillamail.org','guerillamailblock.com','guerrillamail.biz','guerrillamail.com','guerrillamail.de','guerrillamail.info','guerrillamail.net','guerrillamail.org','guerrillamailblock.com','gustr.com','h.mintemail.com','h8s.org','hacccc.com','haltospam.com','harakirimail.com','hartbot.de','hatespam.org','hat-geld.de','herp.in','hidemail.de','hidzz.com','hmamail.com','hochsitze.com','hooohush.ai','hopemail.biz','horsefucker.org','hotmai.com','hot-mail.cf','hot-mail.ga','hot-mail.gq','hot-mail.ml','hot-mail.tk','hotmial.com','hotpop.com','huajiachem.cn','hulapla.de','humaility.com','hush.ai','hush.com','hushmail.com','hushmail.me','i2pmail.org','ieatspam.eu','ieatspam.info','ieh-mail.de','ignoremail.com','ihateyoualot.info','iheartspam.org','ikbenspamvrij.nl','imails.info','imgof.com','imgv.de','imstations.com','inbax.tk','inbox.si','inbox2.info','inboxalias.com','inboxclean.com','inboxclean.org','inboxdesign.me','inboxed.im','inboxed.pw','inboxstore.me','incognitomail.com','incognitomail.net','incognitomail.org','infocom.zp.ua','insorg-mail.info','instantemailaddress.com','instant-mail.de','iozak.com','ip6.li','ipoo.org','irish2me.com','iroid.com','is.af','iwantmyname.com','iwi.net','jetable.com','jetable.fr.nf','jetable.net','jetable.org','jnxjn.com','jourrapide.com','jsrsolutions.com','junk.to','junk1e.com','junkmail.ga','junkmail.gq','k2-herbal-incenses.com','kasmail.com','kaspop.com','keepmymail.com','killmail.com','killmail.net','kir.ch.tc','klassmaster.com','klassmaster.net','klzlk.com','kmhow.com','kostenlosemailadresse.de','koszmail.pl','kulturbetrieb.info','kurzepost.de','l33r.eu','lackmail.net','lags.us','landmail.co','lastmail.co','lavabit.com','lawlita.com','letthemeatspam.com','lhsdv.com','lifebyfood.com','link2mail.net','linuxmail.so','litedrop.com','llogin.ru','loadby.us','login-email.cf','login-email.ga','login-email.ml','login-email.tk','lol.com','lol.ovpn.to','lolfreak.net','lookugly.com','lopl.co.cc','lortemail.dk','losemymail.com','lovebitco.in','lovemeleaveme.com','loves.dicksinhisan.us','loves.dicksinmyan.us','lr7.us','lr78.com','lroid.com','luckymail.org','lukop.dk','luv2.us','m21.cc','m4ilweb.info','ma1l.bij.pl','maboard.com','mac.hush.com','mail.by','mail.me','mail.mezimages.net','mail.ru','mail.zp.ua','mail114.net','mail1a.de','mail21.cc','mail2rss.org','mail2world.com','mail333.com','mail4trash.com','mailbidon.com','mailbiz.biz','mailblocks.com','mailbucket.org','mailcat.biz','mailcatch.com','mailde.de','mailde.info','maildrop.cc','maildrop.cf','maildrop.ga','maildrop.gq','maildrop.ml','maildu.de','maileater.com','mailed.in','maileimer.de','mailexpire.com','mailfa.tk','mail-filter.com','mailforspam.com','mailfree.ga','mailfree.gq','mailfree.ml','mailfreeonline.com','mailguard.me','mailhazard.com','mailhazard.us','mailhz.me','mailimate.com','mailin8r.com','mailinater.com','mailinator.com','mailinator.gq','mailinator.net','mailinator.org','mailinator.us','mailinator2.com','mailincubator.com','mailismagic.com','mailita.tk','mailjunk.cf','mailjunk.ga','mailjunk.gq','mailjunk.ml','mailjunk.tk','mailme.gq','mailme.ir','mailme.lv','mailme24.com','mailmetrash.com','mailmoat.com','mailms.com','mailnator.com','mailnesia.com','mailnull.com','mailorg.org','mailpick.biz','mailquack.com','mailrock.biz','mailsac.com','mailscrap.com','mailseal.de','mailshell.com','mailsiphon.com','mailslapping.com','mailslite.com','mailtemp.info','mail-temporaire.fr','mailtome.de','mailtothis.com','mailtrash.net','mailtv.net','mailtv.tv','mailwithyou.com','mailzilla.com','mailzilla.org','makemetheking.com','malahov.de','manifestgenerator.com','manybrain.com','mbx.cc','mega.zik.dj','meinspamschutz.de','meltmail.com','messagebeamer.de','mezimages.net','mierdamail.com','migmail.pl','migumail.com','ministry-of-silly-walks.de','mintemail.com','misterpinball.de','mjukglass.nu','mmmmail.com','moakt.com','mobi.web.id','mobileninja.co.uk','moburl.com','moncourrier.fr.nf','monemail.fr.nf','monmail.fr.nf','monumentmail.com','ms9.mailslite.com','msa.minsmail.com','msb.minsmail.com','msg.mailslite.com','mt2009.com','mt2014.com','mt2015.com','muchomail.com','mx0.wwwnew.eu','my10minutemail.com','mycard.net.ua','mycleaninbox.net','myemailboxy.com','mymail-in.net','mynetstore.de','mypacks.net','mypartyclip.de','myphantomemail.com','mysamp.de','myspaceinc.com','myspaceinc.net','myspaceinc.org','myspacepimpedup.com','myspamless.com','mytempemail.com','mytempmail.com','mythrashmail.net','mytrashmail.com','nabuma.com','national.shitposting.agency','naver.com','neomailbox.com','nepwk.com','nervmich.net','nervtmich.net','netmails.com','netmails.net','netzidiot.de','neverbox.com','nevermail.de','nice-4u.com','nigge.rs','nincsmail.hu','nmail.cf','nnh.com','noblepioneer.com','nobugmail.com','nobulk.com','nobuma.com','noclickemail.com','nogmailspam.info','nomail.pw','nomail.xl.cx','nomail2me.com','nomorespamemails.com','nonspam.eu','nonspammer.de','noref.in','nospam.wins.com.br','no-spam.ws','nospam.ze.tc','nospam4.us','nospamfor.us','nospammail.net','nospamthanks.info','notmailinator.com','notsharingmy.info','nowhere.org','nowmymail.com','ntlhelp.net','nullbox.info','nurfuerspam.de','nus.edu.sg','nwldx.com','o2.co.uk','o2.pl','objectmail.com','obobbo.com','odaymail.com','odnorazovoe.ru','ohaaa.de','omail.pro','oneoffemail.com','oneoffmail.com','onewaymail.com','onlatedotcom.info','online.ms','oopi.org','opayq.com','ordinaryamerican.net','otherinbox.com','ourklips.com','outlawspam.com','ovpn.to','owlpic.com','pancakemail.com','paplease.com','pcusers.otherinbox.com','pepbot.com','pfui.ru','phentermine-mortgages-texas-holdem.biz','pimpedupmyspace.com','pjjkp.com','plexolan.de','poczta.onet.pl','politikerclub.de','poofy.org','pookmail.com','postonline.me','powered.name','privacy.net','privatdemail.net','privy-mail.com','privymail.de','privy-mail.de','proxymail.eu','prtnx.com','prtz.eu','punkass.com','put2.net','putthisinyourspamdatabase.com','pwrby.com','qasti.com','qisdo.com','qisoa.com','qoika.com','qq.com','quickinbox.com','quickmail.nl','rcpt.at','rcs.gaggle.net','reallymymail.com','realtyalerts.ca','receiveee.com','recode.me','recursor.net','recyclemail.dk','redchan.it','regbypass.com','regbypass.comsafe-mail.net','rejectmail.com','reliable-mail.com','remail.cf','remail.ga','rhyta.com','rklips.com','rmqkr.net','royal.net','rppkn.com','rtrtr.com','s0ny.net','safe-mail.net','safersignup.de','safetymail.info','safetypost.de','sandelf.de','saynotospams.com','scatmail.com','schafmail.de','schmeissweg.tk','schrott-email.de','secmail.pw','secretemail.de','secure-mail.biz','secure-mail.cc','selfdestructingmail.com','selfdestructingmail.org','sendspamhere.com','senseless-entertainment.com','server.ms','services391.com','sharklasers.com','shieldedmail.com','shieldemail.com','shiftmail.com','shitmail.me','shitmail.org','shitware.nl','shmeriously.com','shortmail.net','shut.name','shut.ws','sibmail.com','sify.com','sina.cn','sina.com','sinnlos-mail.de','siteposter.net','skeefmail.com','sky-ts.de','slapsfromlastnight.com','slaskpost.se','slave-auctions.net','slopsbox.com','slushmail.com','smaakt.naar.gravel','smapfree24.com','smapfree24.de','smapfree24.eu','smapfree24.info','smapfree24.org','smashmail.de','smellfear.com','snakemail.com','sneakemail.com','sneakmail.de','snkmail.com','sofimail.com','sofortmail.de','sofort-mail.de','sogetthis.com','sohu.com','solvemail.info','soodomail.com','soodonims.com','spam.la','spam.su','spam4.me','spamail.de','spamarrest.com','spamavert.com','spam-be-gone.com','spambob.com','spambob.net','spambob.org','spambog.com','spambog.de','spambog.net','spambog.ru','spambooger.com','spambox.info','spambox.irishspringrealty.com','spambox.org','spambox.us','spamcannon.com','spamcannon.net','spamcero.com','spamcon.org','spamcorptastic.com','spamcowboy.com','spamcowboy.net','spamcowboy.org','spamday.com','spamdecoy.net','spamex.com','spamfighter.cf','spamfighter.ga','spamfighter.gq','spamfighter.ml','spamfighter.tk','spamfree.eu','spamfree24.com','spamfree24.de','spamfree24.eu','spamfree24.info','spamfree24.net','spamfree24.org','spamgoes.in','spamgourmet.com','spamgourmet.net','spamgourmet.org','spamherelots.com','spamhereplease.com','spamhole.com','spamify.com','spaminator.de','spamkill.info','spaml.com','spaml.de','spammotel.com','spamobox.com','spamoff.de','spamsalad.in','spamslicer.com','spamspot.com','spamstack.net','spamthis.co.uk','spamthisplease.com','spamtrail.com','spamtroll.net','speed.1s.fr','spoofmail.de','squizzy.de','sry.li','ssoia.com','startkeys.com','stinkefinger.net','stop-my-spam.cf','stop-my-spam.com','stop-my-spam.ga','stop-my-spam.ml','stop-my-spam.tk','stuffmail.de','suioe.com','super-auswahl.de','supergreatmail.com','supermailer.jp','superplatyna.com','superrito.com','superstachel.de','suremail.info','sweetxxx.de','tafmail.com','tagyourself.com','talkinator.com','tapchicuoihoi.com','techemail.com','techgroup.me','teewars.org','teleworm.com','teleworm.us','temp.emeraldwebmail.com','tempail.com','tempalias.com','tempemail.biz','tempemail.co.za','tempemail.com','tempe-mail.com','tempemail.net','tempimbox.com','tempinbox.co.uk','tempinbox.com','tempmail.eu','tempmail.it','temp-mail.org','temp-mail.ru','tempmail2.com','tempmaildemo.com','tempmailer.com','tempmailer.de','tempomail.fr','temporarily.de','temporarioemail.com.br','temporaryemail.net','temporaryemail.us','temporaryforwarding.com','temporaryinbox.com','temporarymailaddress.com','tempthe.net','tempymail.com','tfwno.gf','thanksnospam.info','thankyou2010.com','thc.st','thecloudindex.com','thelimestones.com','thisisnotmyrealemail.com','thismail.net','thrma.com','throam.com','throwawayemailaddress.com','throwawaymail.com','tijdelijkmailadres.nl','tilien.com','tittbit.in','tizi.com','tmail.com','tmailinator.com','toiea.com','tokem.co','toomail.biz','topcoolemail.com','topfreeemail.com','topranklist.de','tormail.net','tormail.org','tradermail.info','trash2009.com','trash2010.com','trash2011.com','trash-amil.com','trashcanmail.com','trashdevil.com','trashdevil.de','trashemail.de','trashinbox.com','trashmail.at','trash-mail.at','trash-mail.cf','trashmail.com','trash-mail.com','trashmail.de','trash-mail.de','trash-mail.ga','trash-mail.gq','trashmail.me','trash-mail.ml','trashmail.net','trashmail.org','trash-mail.tk','trashmail.ws','trashmailer.com','trashymail.com','trashymail.net','trayna.com','trbvm.com','trialmail.de','trickmail.net','trillianpro.com','tryalert.com','turual.com','twinmail.de','tyldd.com','ubismail.net','uggsrock.com','umail.net','upliftnow.com','uplipht.com','uroid.com','us.af','uyhip.com','valemail.net','venompen.com','verticalscope.com','veryrealemail.com','veryrealmail.com','vidchart.com','viditag.com','viewcastmedia.com','viewcastmedia.net','viewcastmedia.org','vipmail.name','vipmail.pw','viralplays.com','vistomail.com','vomoto.com','vpn.st','vsimcard.com','vubby.com','vztc.com','walala.org','walkmail.net','wants.dicksinhisan.us','wants.dicksinmyan.us','wasteland.rfc822.org','watchfull.net','watch-harry-potter.com','webemail.me','webm4il.info','webuser.in','wegwerfadresse.de','wegwerfemail.com','wegwerfemail.de','wegwerf-email.de','weg-werf-email.de','wegwerfemail.net','wegwerf-email.net','wegwerfemail.org','wegwerf-email-addressen.de','wegwerfemailadresse.com','wegwerf-email-adressen.de','wegwerf-emails.de','wegwerfmail.de','wegwerfmail.info','wegwerfmail.net','wegwerfmail.org','wegwerpmailadres.nl','wegwrfmail.de','wegwrfmail.net','wegwrfmail.org','wetrainbayarea.com','wetrainbayarea.org','wh4f.org','whatiaas.com','whatpaas.com','whatsaas.com','whopy.com','whyspam.me','wickmail.net','wilemail.com','willhackforfood.biz','willselfdestruct.com','winemaven.info','wmail.cf','wolfsmail.tk','writeme.us','wronghead.com','wuzup.net','wuzupmail.net','www.e4ward.com','www.gishpuppy.com','www.mailinator.com','wwwnew.eu','x.ip6.li','xagloo.co','xagloo.com','xemaps.com','xents.com','xmail.com','xmaily.com','xoxox.cc','xoxy.net','xxtreamcam.com','xyzfree.net','yandex.com','yanet.me','yapped.net','yeah.net','yep.it','yogamaven.com','yomail.info','yopmail.com','yopmail.fr','yopmail.gq','yopmail.net','youmail.ga','youmailr.com','yourdomain.com','you-spam.com','ypmail.webarnak.fr.eu.org','yuurok.com','yxzx.net','z1p.biz','za.com','zebins.com','zebins.eu','zehnminuten.de','zehnminutenmail.de','zetmail.com','zippymail.info','zoaxe.com','zoemail.com','zoemail.net','zoemail.org','zomg.info');

        $email = ( in_array($domain,$disposables) ? false : $email ); 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-06-11T15:26:50.777

您可以进行两项检查：spamhaus sbl 查询和您自己的黑名单域列表。像这样的东西：

```
private static function __emailDomainCheck($email)
{
    $domain = preg_replace('/^.*@(.*)/', '$1', $email);

    $blacklisted = Database::q('SELECT * FROM ' . Database::T('email_domain_blacklist') . ' WHERE domain = ?', array($domain));
    if($blacklisted->rowCount() > 0)
        return "This email domain is blacklisted!";

    $host = gethostbyname($domain);

    $rbl  = 'sbl-xbl.spamhaus.org';
    $rev = array_reverse(explode('.', $host));

    $lookup = implode('.', $rev) . '.' . $rbl;

    if ($lookup != gethostbyname($lookup))
    {
        return "Mail host is listed in $rbl!";
    }
    return '';
} 
```

* * *

## 回答 #10

> 赞同：-2
> 
> 时间：2012-11-06T21:50:05.153

以为我会添加到这个答案，因为没有指定，我花了一段时间才找到解决方案。

我使用的是黑名单方法，您可以在其中指定要阻止的列表。它运作良好，因为用户在尝试了最大的一次性电子邮件提供商后就放弃了。

代码可以在这里找到：[如何阻止一次性电子邮件地址：PHP 代码](http://www.articlevoid.com/computers-and-technology/coding/how-to-block-disposable-email-addresses/)

它的工作原理是让您创建要阻止的域数组。然后，您提供一个电子邮件地址作为变量，然后将其拆分以获取域。这与列表进行了比较，正如您在网站上看到的那样，如果检测到一次性电子邮件，您可以做任何您想做的事情。

祝你好运！

* * *

## 回答 #11

> 赞同：-3
> 
> 时间：2018-04-13T16:10:04.307

> 我想知道阻止一次性电子邮件地址在我的网站上注册的可能方法。

*   经营一个有信誉的网站
*   确保您的服务器的安全性是可靠且最新的，这样[我们的电子邮件和密码将不会在违规后被分发](https://haveibeenpwned.com/)
*   不要[将您的电子邮件数据库出售给垃圾邮件发送者](https://www.donationcoder.com/forum/index.php?topic=43297.0)
*   仅发送我们同意接收的电子邮件
*   提供一种从您的邮件列表中一键取消订阅的方法

如果您满足所有这些要求，那么我们将无需使用一次性电子邮件来注册您的服务。

如果您不满足这些要求，那么人们将使用一次性电子邮件帐户注册以保护自己，而您对此无能为力。阻止合法的一次性域只会促使用户在`hotmail.com`和之类的域上注册刻录机帐户`gmail.com`，而您无法阻止这些域。

# php - Codeigniter 管理员用户/客户身份验证分离

> ID：10976707
> 
> 赞同：0
> 
> 时间：2012-06-11T08:32:10.947
> 
> 标签：php, codeigniter, tankauth

我目前在我的项目中使用 Tank Auth。

我想为我的管理区域和主站点分别登录。我正在使用两个不同的表，一个用于管理员用户，一个用于普通用户。

目前，如果您登录到任一部分，然后转到另一个部分，它仍然认为您已登录。

无论如何只使用Tank auth来做到这一点？（这是可取的）还是我应该使用两种不同的身份验证方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:37:21.680

是的，有可能。您不需要使用两个库，不。但是您可以查看已经实现的方法 login() 并复制并进行一些小的更改。但是，我将有一个布尔值列“is_admin”或“admin”，而不是两个表，一个用于管理员，一个用于用户。现在您可以检查用户是否是管理员（布尔值 true），如果他是，则执行此“超级酷的管理员任务”，如果您不是管理员（布尔值 false）则拒绝它。

这样，您可以将所有用户存储在一个表中 - 这将使您更轻松。

看看这里[http://johnwright.me/blog/tank-auth-groups-roles-admin/](http://johnwright.me/blog/tank-auth-groups-roles-admin/)

# c# - 欺骗滚动条滚动未加载的项目

> ID：10976709
> 
> 赞同：0
> 
> 时间：2012-06-11T08:32:25.103
> 
> 标签：c#, wpf, datagrid

我在服务器上存在一个潜在的巨大 xml 数据文件。我希望将数据加载到客户端计算机上的数据网格中，以允许用户滚动浏览 xml 文件中的项目并选择一个。由于潜在的巨大数据量，我真的不想获取整个 xml 文件并将其加载到数据网格中。出于这个原因，我试图给人的印象是所有数据都在加载，而没有实际加载所有数据。

我通过从滚动条捕获滚动事件并请求将`currentScrollbarvalue to ( currentScrollbarvalue + number of records to display )`xml 加载到 xmldataprovider 中的行并将其设置为数据网格的数据源来做到这一点。我遇到的问题是我的数据网格在滚动时偶尔会闪烁灰色。我假设这是因为它在分配的数据源之间呈现数据网格？

基本上我想知道我是否以正确的方式执行此操作，如果可以，是否可以停止闪烁。

如果您需要更详细的解释或任何代码发布，请告诉我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:45:50.660

使用该`VirtualMode`物业。这样，网格项目将仅在它们可见时才可见。然后，您使用实现事件`CellValidating`来填充列表。请参阅[http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.virtualmode.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.virtualmode.aspx)

因为`DataGrid`您需要将`EnableRowVirtualization`属性设置为`true`. 这仅适用于数据绑定。

请参阅 [http://msdn.microsoft.com/en-us/library/system.windows.controls.datagrid.enablerowvirtualization.aspx](http://msdn.microsoft.com/en-us/library/system.windows.controls.datagrid.enablerowvirtualization.aspx)

# android - 在android应用程序中以编程方式从设备屏幕内容（不是视图）中拍照

> ID：10976711
> 
> 赞同：1
> 
> 时间：2012-06-11T08:32:44.320
> 
> 标签：android

我正在开发一个应用程序，需要制作从设备屏幕的当前内容拍摄快照的 Activity。注意：我不想从我的活动内容或某些视图中拍照，我想从所有设备屏幕内容中拍照。（如主屏幕或前台的每个应用程序）。我用谷歌搜索了很多次，搜索了很多。

有一个示例代码：

```
View screen = (View)findViewById(R.id.screen);
screen.setDrawingCacheEnabled(true);
bmScreen = screen.getDrawingCache();
showBitmap(bmScreen); // function that show my bitmap image 
```

使用此代码可以捕获我的活动视图，但我不想仅捕获我的活动。我想创建一个线程来捕获设备屏幕及其所有内容。大家可以帮帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:40:16.830

您不能这样做，主要是出于安全原因。如果这是可能的，一些流氓应用程序可以静默捕获并发送您在设备上所做的一切的屏幕截图。

为什么这对非系统应用程序不可用：

Android 让 SDK 应用程序做某些事情，并明确禁止其他事情。一个应用程序不应该读取另一个应用程序的数据，同样一个应用程序不能捕获另一个应用程序的屏幕。谷歌明确表示，第三方应用程序不应截取其他应用程序的屏幕截图。缺少屏幕捕获 API 是一个深思熟虑的决定，而不是遗漏。ICS 提供屏幕截图功能，但它是由系统实现的，并且需要硬件触发以确保它不能被第三方应用程序启动或访问。

虽然有很多方法可以做到这一点，但它们要么需要 root（直接读取图形缓冲区，这取决于设备），要么不能保证适用于所有设备/版本。

# mysql - 如何对此查询进行内部联接

> ID：10976718
> 
> 赞同：0
> 
> 时间：2012-06-11T08:33:42.723
> 
> 标签：mysql, sql, inner-join

我有这个查询：

```
SELECT hit.timestamp,hit.id,config.Name,hit.meter_id,levels.LevelName, pos.sm_pos , hit.hit_value 
FROM pos,hit,controllers,levels,config 
WHERE hit.id=config.id
AND hit.meter_id=levels.id 
AND pos.id=hit.id
AND pos.controller_id=controllers.id; 
```

如何从中进行内部连接查询？有别名什么的？我一直在寻找，但找不到多表查询的任何内容。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-11T08:36:34.627

您加入表格的方式现在已经过时了。以前使用过，现在我们`INNER/NATURAL/LEFT OUTER/RIGHT OUTER/CROSS`根据需求使用关键字 like 等来连接表格。

[参考 Mysql 中的 Join](http://dev.mysql.com/doc/refman/5.0/en/join.html)

```
SELECT hit.timestamp, 
       hit.id, 
       config.Name, 
       hit.meter_id, 
       levels.LevelName, 
       pos.sm_pos, 
       hit.hit_value 
FROM   hit 
       INNER JOIN config 
               ON hit.id = config.id 
       INNER JOIN levels 
               ON hit.meter_id = levels.id 
       INNER JOIN POS 
               ON pos.id = hit.id 
       INNER JOIN controllers 
               ON pos.controller_id = controllers.id; 
```

注意：您发布的查询是根据 SQL-89 标准，我发布的第二个查询是根据 SQL-92。
引入 SQL-92 标准是为了替换 SQL-89 中更复杂的（？）语法`INNER JOIN .. ON`。`OUTER JOIN .. ON`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:43:28.587

如果你想重新格式化你的查询，你可以这样做：

```
SELECT 
    H.timestamp,
    H.id,
    F.Name,
    H.meter_id,
    L.LevelName, 
    P.sm_pos, 
    H.hit_value 
FROM pos AS P
INNER JOIN controllers AS C ON P.controller_id = C.id
INNER JOIN hit AS H ON P.id = H.id
INNER JOIN levels AS L ON H.meter_id = L.id
INNER JOIN config AS F ON H.id =F.id; 
```

请注意，我冒昧地在您的表名上添加了别名，这可以大大简化您的查询。

要了解连接在 MySQL 中的工作方式，请[在手册中](http://dev.mysql.com/doc/refman/5.1/en/join.html)阅读有关它的内容。Jeff Atwood 写了一个关于连接的好教程，你可以在[这里](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)找到它。

# ruby-on-rails - Rails 表单，通过用户名字段获取用户 ID

> ID：10976723
> 
> 赞同：0
> 
> 时间：2012-06-11T08:34:12.747
> 
> 标签：ruby-on-rails, forms

我有两个模型：

第一个模型：

```
class Url < ActiveRecord::Base
  attr_accessible :code, :target, :user_id, :user
  belongs_to :user, :dependent => :destroy
end 
```

导轨控制台

```
1.9.3p125 :001 > Url
 => Url(id: integer, user_id: integer, code: string, target: string, created_at: datetime, updated_at: datetime) 
```

第二种型号：

```
class User < ActiveRecord::Base
  attr_accessible :description, :status, :username
  has_many :urls

  validates :username,
    :presence => true,
    :uniqueness => true

  def to_s
    username
  end
end 
```

导轨控制台

```
1.9.3p125 :002 > User
 => User(id: integer, username: string, status: integer, description: text, created_at: datetime, updated_at: datetime) 
```

现在我有一个表单，用于创建一个 url：

```
<%= form_for(@url) do |f| %>
  <% if @url.errors.any? %>
    <div id="error_explanation">
      <h2><%= @url.errors.count %> Error(s):</h2>

      <ul>
      <% @url.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

   <div class="field">
    <%= f.label :user_id %><br />
    <%= f.text_field :user_id %>
  </div>

  <div class="field">
    <%= f.label :code %><br />
    <%= f.text_field :code %>
  </div>
  <div class="field">
    <%= f.label :target %><br />
    <%= f.text_field :target %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %> 
```

为了增加用户友好性，我想将字段 user_id 与字段用户名交换。需要做哪些步骤？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:52:51.420

您可以使用[`collection_select`](http://api.rubyonrails.org/classes/ActionView/Helpers/FormOptionsHelper.html#method-i-collection_select)帮助器显示包含您的用户的选择框：

```
<%= f.collection_select(:user_id, User.all, :id, :username, :prompt => true) %> 
```

这呈现如下内容：

```
<select name="url[user_id]">
  <option value="">Please select</option>
  <option value="1">One User</option>
  <option value="2">Another User</option>
  <option value="3">...</option>
</select> 
```

# rubycas - Rubycas-server 字符编码问题（内部服务器错误）

> ID：10976728
> 
> 赞同：0
> 
> 时间：2012-06-11T08:34:59.993
> 
> 标签：rubycas

几个月前，我们在生产环境中使用 ruby​​cass-server 1.0 验证 Active Directory（Microsoft 2008 r2 服务器）。我们正在使用 ruby​​ 1.9.2p180、sinatra-1.1.3... 我们遇到了西班牙语和加泰罗尼亚语的问题。如果用户在发送表单时在登录名或密码字段中键入ñ 或ç ...，则会产生“内部服务器错误”消息。我已经在 config.yml 选项中激活了调试模式，但是当这个错误出现时，它不会在日志文件中出现任何提示。几天前，我尝试了 ruby​​cas 1.1.0 的最后一个版本，但没有发生此错误（内部服务器..），但如果登录名/密码包含这些字符中的任何一个，验证总是失败并显示“密码不正确”消息. 我认为这是一个编码错误。

有没有人找到解决这个问题的方法？

提前致谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-14T08:50:58.200

解决了。问题是因为我们使用的是旧版本的 net-ldap (0.1.1)。我将这个 gem 更新到了最新版本 (0.3.1) 并且像一个魅力一样工作。

# iphone - How to Customize SubView as PopuPView in Ipad?

> ID：10976730
> 
> 赞同：1
> 
> 时间：2012-06-11T08:35:10.243
> 
> 标签：iphone, ios, ipad, uipopovercontroller, subview

![enter image description here](../Images/e0331ea3fbd441c7b426f241bfcd288f.png)

I am working on Ipad application.in this application i use Subview over UISlider as above my Screen Shot show,with the value changed my Subview also get movement.my UISilder is nearly whole screen. i want to customize this Subview as Popupview.as my below Screen shot show.

![enter image description here](../Images/079a34c9ac2ae2bbf456fef3c77579e6.png)

I know how to use Popupview for another Class Xib,but for subview how to use it? Can any one guide me that Whether its possible to Customize Subview As PopupView?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:40:54.407

we did a custom popup view for the iPhone and the iPad in some of our application What we did is to like following

*   You will need an arrow image, this image will be a png small arrow that you will place according to the popup location
*   you will need a background image with corner borders, or you can use a normal image with no corner borders and use `view.layer.cornerRadius = Value` (we normally set `Value` = 8-12)
*   you then will need to do some calculation to find the exact location of the arrow image, and then organize your main popup view to be close to the arrow, this will give you the trick that the arrow is actually a part of the image ( you will have to have the same color for the arrow and the image)

I know these are general notes, but they will get you going You will not need to do alot of modification to the view you currently have

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T14:54:20.667

**try this one hope will help you..**

Make your view to which you want to make popover view … Lte say your view is… MyPopOverView .

MyPopOverView myPopOver = [[MyPopOverView alloc] initWithNibName:@"MyPopOverView" bundle:nil]; UIPopoverController popoverController = [[UIPopoverController alloc] initWithContentViewController:myPopOver];

**[popoverController presentPopoverFromRect:(your slider rect) inView:self.view permittedArrowDirections:UIPopoverArrowDirectionAny animated:YES];**

# java - 在 Java 中将 Integer、Double 转换为 String

> ID：10976731
> 
> 赞同：1
> 
> 时间：2012-06-11T08:35:11.900
> 
> 标签：java

Java 中将 Integer、Double 转换为 String 哪种方式更好。

```
String.valueOf(doubleVal)
doubleVal + ""
doubleVal.toString() 
```

谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-11T08:39:29.773

`doubleVal + ""`很可能是最糟糕的，因为它必须与空字符串进行连接。但是，其他两个是等价的。OpenJDK的源代码：

```
// java.lang.String
public static String valueOf(double d) {
    return Double.toString(d);
}

// java.lang.Double
public static String toString(double d) {
    return new FloatingDecimal(d).toJavaFormatString();
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-11T08:37:33.343

我不认为有性能差异。去最可读的！

第一个完全等同于 doublevar.toString() （检查 javadoc）。第二个更适合连接较长的字符串。

如果您需要格式化您的数字表示为字符串的方式，您无论如何都需要查看[其他类](http://docs.oracle.com/javase/tutorial/java/data/numberformat.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-11T08:40:14.887

来自官方来源：

```
public static String valueOf(double d) {
    return Double.toString(d);
} 
```

所以第一个和第三个并没有真正的不同，只要`doubleVal`is`double`和 not `Double`。这是因为在 a 的情况下`Double`，您将调用

```
public static String valueOf(Object obj) {
    return (obj == null) ? "null" : obj.toString();
} 
```

第二个肯定更糟，因为需要连接。

**结论：**

在这个问题之后，我必须假设最*有效*的方法是调用该`toString()`方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-11T08:40:21.833

第一个和第三个都好，第二个不好。

第二个不好的原因是代码没有显示你想要做什么。代码表示您想将值与空字符串连接起来，而实际上您只需要在连接之前发生的转换。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-11T08:40:51.227

我更喜欢使用`Integer.toString(int)`，当你使用 时`String.valueOf(int)`，它会在内部调用 to `Integer.toString(int)`（与 long、float 和 double 相同）。但是为了可读性，最好使用`String.valueOf()`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-11T08:41:58.997

根据您使用的是原始`double`类型还是它的对象包装器，存在细微的语义差异`Double`。

任何适用于原语的东西`double`也适用于包装的对象`Double`，但反之则行不通。（也就是说，如果参数类型为 ，则不会接受原始双精度`Double`。）

此外，`Double`类型的值可能为 null，但原始`double`类型不能。

除此之外，根本没有太大区别。对于您提供的代码片段，没有什么值得真正谈论的。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-11T08:44:46.757

i) String.valueOf(int i) ii) Integer.toString(int i)

在查看了这些方法的实现之后，我看到第一个正在调用第二个。因此，我对 String.valueOf(int i) 的所有调用都比直接调用 Integer.toString(int i) 多一个调用

只是做同一件事的两种不同方式

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-06-11T08:52:56.427

在 String 类型中，我们有几个方法 valueOf

```
static String   valueOf(boolean b) 
static String   valueOf(char c) 
static String   valueOf(char[] data) 
static String   valueOf(char[] data, int offset, int count) 
static String   valueOf(double d) 
static String   valueOf(float f) 
static String   valueOf(int i) 
static String   valueOf(long l) 
static String   valueOf(Object obj) 
```

正如我们所看到的，这些方法能够解析所有类型的数字

像您介绍的特定方法的每个实现：所以对于双

```
Double.toString(dobule d) 
```

等等

在我看来，这不是什么历史性的事情，但对于开发人员来说，使用 String 类的 valueOf 方法比使用正确的类型更有用，因为当我们想要更改我们操作的类型时需要做的更改更少。

样品 1：

```
public String doStaff(int num) {

 //Do something with num 

  return String.valueOf(num);

 } 
```

样品2：

```
public String doStaff(int num) {

 //Do somenthing with num

 return Integer.toString(num);

 } 
```

正如我们在示例 2 中看到的，我们必须进行两项更改，这与示例 1 不同。

我的结论是使用 String 类中的 valueOf 方法更灵活，这就是为什么在那里可用。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-08-15T10:54:58.833

Java string.valueOf() 方法将long、int、double、float 等不同类型的值转换为String。

双 double_val=45.9; 字符串 string_conversion=String.valueOf(double_val);

# java - 滚动 JPanel 会清除其图形

> ID：10976732
> 
> 赞同：2
> 
> 时间：2012-06-11T08:35:13.350
> 
> 标签：java, swing, awt, jscrollpane, java-2d

我是 Java 编程的初学者，我有一个问题。我正在使用 a`JPanel`中的`JScrollPane`所有内容`JFrame`。

我正在使用`paintComponent()`方法来绘制一条曲线，并且做得正确。问题是，当我滚动面板时，我看到图像正在被清除。我已经搜索并了解了闪烁，但我不确定它的含义以及这是否是我遇到的问题。我还注意到，当调用重绘时，图像被清除。

这是我的代码，如果我做错了什么，谁能告诉我？

```
import java.awt.*;
import java.awt.event.*;
import java.awt.geom.QuadCurve2D;
import javax.swing.JFrame;
import java.lang.Math;
import java.util.Vector;
import javax.swing.*;
import javax.swing.border.LineBorder;

public class DrawCurve extends JPanel {

    class MyAdjustmentListener implements AdjustmentListener {

        public MyAdjustmentListener() {
        }

        public void adjustmentValueChanged(AdjustmentEvent evt) {
            setFocusable(true);
            jScroll.setFocusable(false);
            //repaint();
            //revalidate();
        }
    }

    Graphics gr;
    Stroke drawingStroke = new BasicStroke(0.5f);
    double x;
    int y = 0;
    static String seq = "AAGTCGACCTGTAGCTAGATCGGATCATAGCTCGATCCAGAGATT";
    QuadCurve2D curve;
    char s;
    int a = 0;
    int c = 0;
    int g = 0;
    int t = 0;
    int af = 0;
    int cf = 0;
    int gf = 0;
    int tf = 0;
    int h = 0;
    int flag = 0;
    final JScrollPane jScroll = new JScrollPane();
    final JFrame parFrame;
    Vector<Double> xrand = new Vector<Double>();

    public DrawCurve() {
        super();
        parFrame = new JFrame();
        parFrame.pack();
        jScroll.setFocusable(false);
        setFocusable(true);
        parFrame.addWindowListener(new WindowAdapter() {

            public void windowClosing(WindowEvent we) {
                System.exit(0);
            }
        });

        this.setBackground(Color.WHITE);
        jScroll.setViewportView(this);
        jScroll.getHorizontalScrollBar().addAdjustmentListener(new MyAdjustmentListener());
        jScroll.getVerticalScrollBar().addAdjustmentListener(new MyAdjustmentListener());
        if (checkSequence(seq) == 0) {
            jScroll.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);
            jScroll.setViewportBorder(new LineBorder(Color.WHITE));
            setFocusable(true);
            setPreferredSize(new Dimension(1000, 300));
            setBackground(Color.magenta);
            parFrame.add(jScroll, BorderLayout.CENTER);
            parFrame.setSize(600, 320);
            parFrame.setVisible(true);
        } else {
            JOptionPane.showMessageDialog(null, "invalid input", "Warning!", JOptionPane.PLAIN_MESSAGE);
        }
    }

    public int checkSequence(String sequ) {
        int f = 0;
        for (int i = 0; i < sequ.length(); i++) {
            if (sequ.charAt(i) != "A".charAt(0) && sequ.charAt(i) != "C".charAt(0) && sequ.charAt(i) != "G".charAt(0) && sequ.charAt(i) != "T".charAt(0)) {
                f = 1;
                break;
            }
            xrand.add(Math.random() * 300 - 200);
        }
        return f;
    }

    public void paintComponent(Graphics gr) {
        super.paintComponent(gr);
        Graphics2D ga = (Graphics2D) gr;
        System.out.println("in");
        ga.setStroke(drawingStroke);
        for (int i = 0; i < seq.length(); i++) {
            s = seq.charAt(i);
            if (s == "A".charAt(0)) {
                ga.setColor(Color.RED);
                a = 1;
                af = 1;
                cf = 0;
                gf = 0;
                tf = 0;
                h = -1;
            } else if (s == "C".charAt(0)) {
                ga.setColor(Color.YELLOW);
                c = 1;
                af = 0;
                cf = 1;
                gf = 0;
                tf = 0;
                h = -3;
            } else if (s == "G".charAt(0)) {
                ga.setColor(Color.GREEN);
                g = 1;
                af = 0;
                cf = 0;
                gf = 1;
                tf = 0;
                h = 1;
            } else if (s == "T".charAt(0)) {
                ga.setColor(Color.BLUE);
                t = 1;
                af = 0;
                cf = 0;
                gf = 0;
                tf = 1;
                h = 3;
            } else {
                af = 0;
                cf = 0;
                gf = 0;
                tf = 0;
                h = 0;
            }
            x = Math.random() * 300 - 200;
            curve = new QuadCurve2D.Double(y, 250 + h, y + 10, xrand.elementAt(i), y + 20, 250 + h);
            ga.draw(curve);
            if (a == 1 && af == 0) {
                ga.setColor(Color.RED);
                h = -1;
                ga.drawLine(y, 250 + h, y + 20, 250 + h);
            }
            if (c == 1 && cf == 0) {
                ga.setColor(Color.YELLOW);
                h = -3;
                ga.drawLine(y, 250 + h, y + 20, 250 + h);
            }
            if (g == 1 && gf == 0) {
                ga.setColor(Color.GREEN);
                h = 1;
                ga.drawLine(y, 250 + h, y + 20, 250 + h);
            }
            if (t == 1 && tf == 0) {
                ga.setColor(Color.BLUE);
                h = 3;
                ga.drawLine(y, 250 + h, y + 20, 250 + h);
            }
            y += 20;

        }
    }

    public static void main(String[] args) {
        final DrawCurve panel = new DrawCurve();        
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T12:58:04.390

我弄清楚该代码有什么问题，结果发现在我的循环中，我忘记在每次调用paintComponent 时初始化曲线应该从哪里开始。添加 y=0; 在paintComponent的开始会解决它

# c# - 使用 Linq 从数组聚合到单个 var

> ID：10976733
> 
> 赞同：0
> 
> 时间：2012-06-11T08:35:20.277
> 
> 标签：c#, asp.net

我有一个手风琴，它为数组中的每个项目绑定数据。我希望每次绑定数据时都会循环遍历所有数组并聚合具有相同 id 的所有项目，并从单元格中创建一个带有名称的长字符串。在代码中名称`oneJob.order_id`不存在，我不知道为什么。

```
protected string GetAllProffesions(int orderID)
{
    IEnumerable<string> allProf;
    orderID = 544;
    Job[] curItems = null;
    curItems = JobManager.GetJobs(RangeID, GetParam());
    allProf = from oneJob in curItems
              where oneJob.order_id == orderID
              select oneJob.profession_name;

    return Convert.ToString(allProf);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:44:48.617

这是因为您的`job`班级没有名为`order_id`. 检查你的拼写。

此外，您可能不想这样做`Convert.ToString(allProf)`，因为我希望这会给您类型名称而不是所有连接的职业。试试这个：

`string.Join(", ", allProf.ToArray());`

# ios - 核心数据：基于 NSDate 的时间分量过滤条目

> ID：10976734
> 
> 赞同：0
> 
> 时间：2012-06-11T08:35:20.633
> 
> 标签：ios, core-data, nsdate, nsfetchrequest, scalar

我有一个带有属性的实体`time`，它的类型是 Date。我只关心它的时间部分。在生成类文件时，我选择对原始数据类型使用标量属性。因此，`NSTimeInterval`使用 代替`NSDate`。

要存储属性，我必须在将其分配给实体之前`time`解析字符串：`NSDateFormatter`

```
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
[dateFormatter setDateFormat:@"H:mm"];

NSTimeInterval time = [[dateFormatter dateFromString:@"19:20"] timeIntervalSince1970];
entity.time = time; 
```

当使用谓词获取记录时，我再次使用`NSDateFormatter`“截断”日期组件：

```
NSDate *timeNow = [self.defaultDateFormatter dateFromString:
    [self.defaultDateFormatter stringFromDate:[NSDate date]]];
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"time >= %@", timeNow];
// build the rest of the NSFetchRequest... 
```

问题是，所有记录都回来了：有些记录`time`之前有属性，有些记录`timeNow`在之后。但是当我使用 比较返回记录`timeNow`的`time`属性时`[NSDate compare:]`，它实际上返回了正确的结果！

哪里出错了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T10:15:32.037

如果我理解得很好，您需要跟踪时间 H:mm。日、月、年是没有意义的。对？

如果您需要分钟分辨率（最大 1440），为什么不使用 int16_t，如果需要第二分辨率（最大 86400），为什么不使用 int32_t，以及一些非常基本的方法可以从基本单位转换为最适合您需要的东西，例如用于 NSCalendar 计算的 NSDateComponents ? NSDate 和 NSTimeInterval 不太适合这项任务，是吗？

# facebook - 使用访问令牌离线访问（用于后台进程）

> ID：10976737
> 
> 赞同：0
> 
> 时间：2012-06-11T08:35:32.927
> 
> 标签：facebook, facebook-graph-api, facebook-authentication

我想编写一个 Facebook 应用程序，它定期检查用户定义的 RSS 提要并将新项目导入用户/页面的墙（我知道，有类似的应用程序）。但是我找不到用于验证后台进程的有用手册。我的意思是，你知道，当用户不在线时，我必须发布流。我知道，为此有一个名为“offline_access”的权限，但我对此感到困惑；我是否必须存储用户在线时获取的访问令牌密钥？或者当用户离线时还有其他方法可以使用访问令牌吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:35:33.363

使用offline_access 获取的Facebook API 访问令牌是长期令牌。（它会在60 天后过期）。所以是的，我们必须将访问令牌密钥存储在我们的数据库中，但 Facebook 用户必须在 60 天内再次授予访问权限。

[https://developers.facebook.com/roadmap/offline-access-removal/](https://developers.facebook.com/roadmap/offline-access-removal/)

# c# - C#（2.0）DataView过滤，如何处理特殊字符

> ID：10976740
> 
> 赞同：0
> 
> 时间：2012-06-11T08:35:38.153
> 
> 标签：c#, c#-2.0, dataview

我有一个具有以下值的数据表（_dataTableAvailable）：

```
Name        Id   Selected
- Global    2100  False
ASpecial    1200  False
BSpecial    2300  False
GSpecial    400   False 
```

在我使用以下代码后：

```
DataView dataViewAvailable = new DataView(_dataTableAvailable, "selected=False", "name", DataViewRowState.CurrentRows); 
```

排序顺序变了！！

```
Name        Id   Selected
ASpecial    1200  False
BSpecial    2300  False
- Global    2100  False
GSpecial    400   False 
```

我想要的是我得到相同的订单。我怎样才能做到这一点？

我使用 Visual Studio 2005 (C# 2.0)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:46:57.907

看起来您的数据表是按 Id 排序的，因此您可以按 Id 对数据视图进行排序并获得相同的结果！对于代码示例，请查看以下链接： [DataView.Sort - 不仅仅是 asc/desc（需要自定义排序）](https://stackoverflow.com/questions/582374/dataview-sort-more-than-just-asc-desc-need-custom-sort)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T10:24:03.327

我找到了。这是一个错误，唯一的解决方案是添加一个额外的列并将其称为“NameSort”。在这里放下面的顺序。所以你得到：

```
Name        Id   Selected NameSort
- Global    2100  False   0
ASpecial    1200  False   1
BSpecial    2300  False   2
GSpecial    400   False   3 
```

将代码更改为，它工作正常：

```
DataView dataViewAvailable = new DataView(_dataTableAvailable, "selected=False", "NameSort", DataViewRowState.CurrentRows); 
```

# android - ACRA - 静默发送崩溃报告，没有任何崩溃对话框

> ID：10976745
> 
> 赞同：3
> 
> 时间：2012-06-11T08:36:07.073
> 
> 标签：android, acra

我不想显示任何 toast、通知和任何对话框，想在没有任何崩溃对话框的情况下静默发送崩溃报告，但是当我应用下面的代码时，我得到了默认的崩溃对话框。任何人都知道如何在模式静音时摆脱崩溃对话框。

```
@ReportsCrashes(formKey = "WWWWWWWWWWWWWWWW", 
        forceCloseDialogAfterToast = false,
         mode=ReportingInteractionMode.SILENT) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:55:19.747

AFAIK，ACRA 在收集报告时不依赖系统对话框。即使用户在系统对话框中单击 REPORT 或未单击，您的报告也应该发送。我猜“沉默”意味着没有创建 ACRA 对话框。

对于我的应用程序，我只是使用了他们的 wiki ( [http://code.google.com/p/acra/wiki/BasicSetup?tm=6#Setting-up_your_project](http://code.google.com/p/acra/wiki/BasicSetup?tm=6#Setting-up_your_project) ) 上的说明，一切正常。我仍然在市场开发者控制台上收到崩溃报告，但我对 ACRA 应用程序的行为有了更好的了解。

如果您想完全隐藏默认的崩溃对话框，我想唯一的解决方案是修复崩溃:)

# ruby-on-rails - 合并accepts_nested_attributes_for的虚拟属性

> ID：10976747
> 
> 赞同：1
> 
> 时间：2012-06-11T08:36:12.270
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我有一个模型声明和一个模型声明行。它与accepts_nested_attributes_for 有很多关系：declarationlines。这很好用，但申报表有 2 个虚拟属性“amount_whole”和“amoutn_decimal”，在提交表单时它们会合并到属性“amount”中。这适用于创建我有这个的地方：

```
# Cycle declaration lines to merge amount_whole and amount_decimal into amount
@declaration.dec_declarationlines.each do |line|
  line.amount = (line.amount_whole.to_s + '.' + line.amount_decimal.to_s).to_d
end 
```

但是在更新时我有这个，这阻止我合并虚拟属性，因为我无法访问声明行：

```
@declaration.update_attributes(params[:dec_declaration]) 
```

更新声明时如何合并虚拟属性的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T09:43:08.847

你可以访问声明行：

1)`params[:dec_declaration][:declarationlines_attributes]`

2）你可以试试`@declaration.assign_attributes(params[:dec_declaration])`然后`@declaration.dec_declarationlines.each ...`

# wpf - WPF Fluent Ribbon KeyTip 快捷方式不触发命令

> ID：10976750
> 
> 赞同：0
> 
> 时间：2012-06-11T08:36:20.167
> 
> 标签：wpf, command, keyboard-shortcuts, fluent-ribbon

我正在使用 Fluent `Ribbon`。我正在努力让`KeyTip`s 工作。它适用于导航，因为我可以在选项卡之间导航并且所有内容都正确显示。我的问题是当我最终尝试运行命令时没有任何反应。按下下面的按钮。我可以按 导航到它`ALT -> F`，然后按`C`什么都不会发生，除非它删除`KeyTip tooltip`. 它不运行实际命令。如果我只需单击按钮，它就可以正常工作。下面是我如何绑定命令的 XAML 示例。

```
<Fluent:Button Command="{Binding ExitCommand}"
               Fluent:KeyTip.Keys="C"
               Header="Close" /> 
```

使用 KeyTip 时是否需要一些特殊的方法来设置命令？

我已经尝试过 Fluent 库附带的示例，但它们实际上并没有实现任何命令。但是，如果我在其中实现一个简单的命令，它也不在那里工作。

KeyTip 的功能区纯图形导航也是如此，我是否需要使用手势和 WPF 中可用的其他东西来实现我自己的热键侦听器来触发命令？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T13:07:45.103

Fluent Ribbon 2.0 版本中的错误。

它已在变更集中修复：

7dceb28d2562 于 2010 年 11 月 25 日上午 6:46 “命令和按键提示”错误已得到修复。

# ssrs-2008 - 访问基于 Fetch 的报告中的元数据

> ID：10976753
> 
> 赞同：1
> 
> 时间：2012-06-11T08:36:44.830
> 
> 标签：ssrs-2008, dynamics-crm-2011, fetchxml

在报告中，我需要显示本地化的字段标签和实体名称。为此，我需要检索一些元数据，即——本地化实体名称。

您可以访问基于 Fetch 的报告中的元数据吗？如果可以，性能会受到多严重的影响？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-20T08:41:52.487

[有](http://social.microsoft.com/Forums/et-EE/crmdevelopment/thread/ba2908b0-486f-45b3-a286-805dc4eea342)一种方法可以获取选择列表值和默认标签。引用参考：

> 您必须使用 distinct 子句，并创建一个单独的数据集以仅获取像这样的选项集字段。

```
 <fetch version="1.0" output-format="xml-platform" mapping="logical"
 distinct="true">   <entity name="account">
     <attribute name="accountratingcode" />   </entity> </fetch> 
```

> 这实际上将 2 列返回到 BIDS -
> 
> 会计评级代码
> 
> accountratingcodevalue
> 
> 为主报告创建报告参数，并在可用值选项卡中指定：
> 
> 从查询中获取值
> 
> 数据集：使用上面的 Fetch XML 分离数据集
> 
> 值字段：accountratingcodeValue
> 
> 标签字段：accountratingcode

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T11:37:48.250

很抱歉，实体元数据没有通过 FetchXml 接口公开，因为“属性”及其对应的“标签”都不是实体，因此无法查询。

您可以使用 FetchXml 构建器来证明这一点（[获取它并使其与 CRM 2011 一起使用的详细信息在此处][1]）。您会注意到，没有任何可用实体包含您寻求的信息。

编辑：查看核心要求（而不是像我最初那样孤立地回答问题），可以在 FetchXml 语句中包含“标签”值，正如@skfd 在他自己的答案中指出的那样。

# mobile - 限制 App Store / Google Play 上支持的设备

> ID：10976754
> 
> 赞同：0
> 
> 时间：2012-06-11T08:36:51.260
> 
> 标签：mobile, app-store, google-play

是否可以在 App Store / Google Play 上限制支持的设备（仅限智能手机或平板电脑）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:40:44.733

是的，你可以做到。当您转到开发者控制台时，有一个选项可以选择您要支持的设备。

当您在开发人员控制台中展开支持的设备选项时，您将获得当前可以运行您的应用程序的所有设备的列表。您可以在那里包含/排除设备。

**已编辑**：已经对此进行了讨论- [如何将android应用程序限制为特定的设备制造商？](https://stackoverflow.com/questions/9510649/how-to-restrict-android-app-to-specific-device-make)

# asp.net - Html.RouteLink 到 Web API 路由 - 可能吗？

> ID：10976762
> 
> 赞同：3
> 
> 时间：2012-06-11T08:37:34.597
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-4, asp.net-web-api

我的网站主要是一套通过 Asp.Net Web API 公开的 Web 服务。还有一些页面，旨在支持 Web 服务（测试等），用 Razor（隐含的 Asp.Net MVC 4）编写。

对于 web 服务的 XML 版本，我有一个模式导出操作（使用`XsdDataContractExporter`），它由我的标准 API 路由拾取（尽管注意 - 我已经翻转了 Web API 和页面的优先级）：

```
//page routes
routes.MapRoute(
    "Default", // Route name
    "pages/{controller}/{action}/{id}", // URL with parameters
    new { controller = "Home", 
          action = "Index", 
          id = UrlParameter.Optional 
        } // Parameter defaults
);

//an additional route for my Schema controller action
routes.MapHttpRoute("XSD", "schema.xsd",
    new { controller = "schema" });

//API Catch-all Route
routes.MapHttpRoute("APIMain", "{controller}/{id}",
    new { id = RouteParameter.Optional }); 
```

现在在剃须刀页面上，我想发出一个指向“友好”架构 URL 的链接`~/Schema.xsd`。预料到路由发现的问题，我立即按名称直接点击路由：

```
@Html.RouteLink("Schema", "XSD"); 
```

然而，这只是发出一个相当于`~/`.

我尝试了其他一些路由值组合 - 但它似乎是 MVC`HtmlHelper`并且`UrlHelper`根本不想选择 Web API 路由。

我敢肯定，如果我破解了 Asp.Net MVC 4 的源代码，我会找到原因——但我希望有人已经知道，因为我找不到关于这种交叉链接的另一个 SO，所以我想通了。 d 是 SO 库的一个很好的补充。

我应该将该浏览添加到`~/Schema`并`~/Schema.xsd`正确显示 API 操作生成的 XML 模式。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-11T09:03:25.307

*更新*

Post-RC 一个方法被添加到 MVC 的`UrlHelper`,`HttpRouteUrl`中，这与我在这个答案中建议的完全一样。 [这是我在 CodePlex](http://aspnetwebstack.codeplex.com/discussions/359161) 上被告知的讨论主题。因此，您无需使用此处提到的魔术字符串来生成指向 Web API 路由的链接。

*原始答案*

我已经设法让它工作了——尽管在 MVC 4 成为 RTMd 时它可能还没有（免责声明！）

我改变了我的 Html.RouteLink 调用如下：

```
@Html.RouteLink("XML request schema", "XSD", new { httproute = true }) 
```

*我最初并不打算立即回答我自己的问题 - 但经过一些研究，我找到了答案。*

首先，我验证了`HtmlHelper`的路由集合与`RouteTable.Routes`集合相同（即包含所有路由）。

在调用链之后，我记得曾经浏览过当前的 Web API 和来自 CodePlex 的页面 MVC 4 源代码，这`HttpRoute`s (in `System.Web.Http.Routing`) 需要添加一个“隐藏”路由值，否则它们将永远不会匹配。这是类第 21-25 行的源代码`HttpRoute`（截至 2012 年 6 月 8 日的源代码正确）：

```
/// <summary>
/// Key used to signify that a route URL generation request should include HTTP routes (e.g. Web API).
/// If this key is not specified then no HTTP routes will match.
/// </summary>
internal const string HttpRouteKey = "httproute"; 
```

对代码的进一步分析表明，它期望这个路由值是一个布尔值。

显然，这可以变成扩展方法——也许`Html.HttpRouteLink`（和`Html.HttpActionLink`）——带有额外的扩展`UrlHelper`来隐藏路由数据值的魔术字符串。

# database - 如何将座位计划关系与个人预订联系起来

> ID：10976764
> 
> 赞同：0
> 
> 时间：2012-06-11T08:37:49.263
> 
> 标签：database, relational-database, entity-relationship

我有这个问题，客户预订座位（A1，A2，n）的音乐厅。假设我有这种关系：

```
Philharmony
  concertId
  A1
  A2
  ..
  n

Booking
  bookingId
  concertId (foreign key)
  Seat1
  Seat2
  ..
  Seat10 
```

现在，您将如何确保此处的参考完整性？在上面的示例中，应用程序必须为每个预订操作更新 2 个表。此外，如果我有 5 个音乐厅而不是 1 个呢？

# git - 错误：git checkout-index：无法创建文件（权限被拒绝）

> ID：10976765
> 
> 赞同：3
> 
> 时间：2012-06-11T08:37:57.810
> 
> 标签：git, permissions, pull

当我尝试从 github 中提取时，我收到了一个奇怪的错误。我可以绕过它还是强制它？我之前使用过 sudo ，我怀疑它会起作用，但这会导致其他问题。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-11T04:31:20.187

我也有这个问题。我通过将目录的所有权更改为我试图 git pull 的用户来解决它：

```
sudo chown -R anthony:anthony * 
```

我在我的 git 跟踪目录的根目录下运行它，以确保所有文件都归正确的用户所有。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-11-20T18:34:41.157

在我的情况下，它打开了 sublime 文本，并将 git 控制的目录添加为 sublime 项目中的文件夹。关闭 sublime 后，我可以毫无问题地切换分支。

# sql - 批量插入和批量删除对 MS SQL Server 2008 的影响

> ID：10976766
> 
> 赞同：0
> 
> 时间：2012-06-11T08:37:59.213
> 
> 标签：sql, database, sql-server-2008

有人知道 MSSQL 2008 数据库在一段时间后每次运行大约 100,000 条记录时执行插入和删除 SQL 语句有什么影响吗？

听我的客户说，对于mysql及其具体的数据类型，加载并清空数据库一段时间后，数据会变得碎片化/损坏。我想知道这是否也发生在 MS SQL 上？或者对数据库可能产生什么影响？

现在我们用来加载和重新加载数据到数据库中所有表的语句是简单的 INSERT 和 DELETE 语句。

请指教。先感谢您！:)

-沉

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:43:11.647

由于所有的插入/删除，事务日志可能会增长，并且根据正在删除/插入的数据和表结构，可能会有数据碎片

数据不会被“损坏”——如果这种情况发生在 MySql 中，听起来像是该特定存储引擎中的错误。碎片化不应破坏数据库，但会影响性能

您可以使用表重建、表重建或重组来解决此问题。

网上有很多关于碎片化的好信息。一篇好文章在这里：

[http://www.simple-talk.com/sql/database-administration/defragmenting-indexes-in-sql-server-2005-and-2008/](http://www.simple-talk.com/sql/database-administration/defragmenting-indexes-in-sql-server-2005-and-2008/)

# java - 将结果集映射到 json

> ID：10976771
> 
> 赞同：-2
> 
> 时间：2012-06-11T08:38:27.370
> 
> 标签：java, json, resultset

我有一些结果集数据如下：

```
+-------+-------+-------+-------+
| Code1 | Code2 | Code3 | Code4 |
+-------+-------+-------+-------+
|     1 |    11 |   111 |  1111 |
|     2 |    21 |   211 |  2111 |
|     2 |    22 |   221 |  2211 |
|     2 |    21 |   212 |  2121 |
+-------+-------+-------+-------+ 
```

我需要将上述结果集转换为以下两个 json。

```
code1_code2 = {
               1 : [11],
               2 : [21, 22, 21]
              };

code2_code3 = {
               11 : [111],
               21 : [211, 212],
               22 : [221]
              }; 
```

我已经尝试解析结果集，并且在订购第一列时，我可以获得第一个 json。但由于第二列没有排序，我无法获得第二个 json。

（注意：- 我不会订购第二列）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T10:39:50.140

**笔记**

[JSON](https://www.json.org)的名称/值对中的名称应该是字符串（不是您问题中的数字）。

[![JSON 对象](../Images/a98ca4788ef9e695a5f11315558cd5c1.png)](https://i.stack.imgur.com/MWrpJ.gif)
[（来源：[json.org](http://www.json.org/object.gif)）]

## 示例代码

正如@josnidhin 的评论中提到的，`Map`无论结果集是否有序，您都可以使用它来存储这些数据。

这是一个示例代码，我选择[json-lib](http://json-lib.sourceforge.net/)来处理 JSON 的东西。

```
package test;

import java.sql.*;
import java.util.*;
import java.util.concurrent.*;

import net.sf.json.*;

public class StackOverflowQ10976771_ResultSetToJSON
{
    public static void appendValue (Map<String,  List<Integer>> map, String key, int value)
    {
        List<Integer> values = map.get (key);
        if (values == null)
        {
            values = new ArrayList<Integer> ();
            map.put (key, values);
        }
        values.add (value);
    }

    public static void main (String[] args)
    {
        Map<String, List<Integer>> code1_code2 = new ConcurrentSkipListMap<String, List<Integer>> ();
        Map<String, List<Integer>> code2_code3 = new ConcurrentSkipListMap<String, List<Integer>> ();
        Map<String, List<Integer>> code3_code4 = new ConcurrentSkipListMap<String, List<Integer>> ();

        int[][] sample_resultSet = {
                {1, 11, 111, 1111},
                {2, 21, 211, 2111},
                {2, 22, 221, 2211},
                {2, 21, 212, 2121},
        };

        //ResultSet rs = null;
        //while (rs.next ())
        for (int[] rs : sample_resultSet)
        {
            appendValue (code1_code2, String.valueOf(rs[0]), rs[1]);
            appendValue (code2_code3, String.valueOf(rs[1]), rs[2]);
            appendValue (code3_code4, String.valueOf(rs[2]), rs[3]);
        }

        System.out.println ("code1_code2 =");
        System.out.println (JSONObject.fromObject (code1_code2).toString(4 ,4) + ";");
        System.out.println ();

        System.out.println ("code2_code3 = ");
        System.out.println (JSONObject.fromObject (code2_code3).toString(4 ,4) + ";");
        System.out.println ();

        //System.out.println ("code3_code4 = ");
        //System.out.println (JSONObject.fromObject (code3_code4).toString(4 ,4) + ";");
        //System.out.println ();
    }
} 
```

## 样本输出

```
code1_code2 =
    {
        "1": [11],
        "2":         [
            21,
            22,
            21
        ]
    };

code2_code3 = 
    {
        "11": [111],
        "21":         [
            211,
            212
        ],
        "22": [221]
    }; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T08:43:13.720

你必须先建立一个树结构。然后将树的每一层输出为 JSON。这基本上是 BFS 的微小变化（也称为级别顺序遍历）。

# gnu-screen - 从客户端运行 gnu-screen/tmux/byobu

> ID：10976773
> 
> 赞同：2
> 
> 时间：2012-06-11T08:38:39.730
> 
> 标签：gnu-screen, tmux

我需要了解关于终端多路复用器的基本概念，但我似乎找不到答案。

据我了解，这些程序需要安装在服务器上，但不一定安装在客户端上。这不是 gnu-screen 的问题，因为它已经安装在大多数系统上，但对于 tmux 和 byobu 则不是这样。问题是我没有在服务器上安装软件的权限。有没有办法可以从我的客户端运行 byobu 来显示有关我连接的服务器的统计信息？

另外，“byobu-enable”选项的效果到底是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-27T14:06:20.023

我认为这里有一个误解。当您连接到服务器并运行命令（在本例中为 byobu）时，您正在服务器上运行该命令。报告的统计信息适用于服务器。当然，可以在您自己的桌面上打开一个 byobu 会话，但如果您通过 ssh 连接到一台机器，您很可能会在该机器上执行命令。

byobu-enable 设置 byobu 在您打开终端时自动启动。我不这样做，因为如果您在本地运行 byobu*并*在您连接的远程端运行，您可能会感到困惑，这在您尝试与 byobu 本身交互时会导致问题。

# jquery - 如何使自动完成建议出现在下拉菜单中，而不是作为搜索框下方文本的普通列表

> ID：10976775
> 
> 赞同：0
> 
> 时间：2012-06-11T08:38:40.320
> 
> 标签：jquery

我创建了一个自动完成组件，其中数据源是 localhost solr。一切正常，但我需要以下拉菜单框的格式提供建议，但在我的情况下，它显示为普通列表，没有下拉菜单出现。

这是我的代码，

```
<%@ page language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1"%>
<%@ taglib prefix="f"  uri="http://java.sun.com/jsf/core"%>
<%@ taglib prefix="h"  uri="http://java.sun.com/jsf/html"%>
<%@ taglib prefix="c"  uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="rich" uri="http://richfaces.org/rich" %>
<%@ taglib prefix="a4j" uri="http://richfaces.org/a4j"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Autocomplete</title>
<script type="text/javascript" src="jquery-1.4.2.js"></script>
<script type="text/javascript" src="jquery.ui.core.js"></script>
<script type="text/javascript" src="jquery.ui.position.js"></script>
<script type="text/javascript" src="jquery.ui.widget.js"></script>
<script type="text/javascript" src="jquery.ui.autocomplete.js"></script>
<SCRIPT type="text/javascript">

$(function() {
    $("#autotextsearch").autocomplete({
        source: function( request, response ) {
            $.ajax({
            url: "http://localhost:8080/solr2/select?q=Query%3A"+request.term+"*&wt=json",
            data: { 
                style: "full", 
                maxRows: 5
             }, 
             dataType: "json",
             type: "GET", 
             contentType: "application/json; charset=utf-8", 
             cache:false,
             asynch:false,
             success: function( data ) {
             data=parse();
             function parse(){
             var parsedQueries=[];
             for(var i=0;i<data.response.docs.length;i++){
                parsedQueries[i]=data.response.docs[i].Query;
            }
            return parsedQueries;
            }

             response($.map(data, function( item ) { 
                    return { 
                        label: item,
                        value: item
                    }; 
            }));
            }
          }); 
         },
        minLength: 2
        });
    });
    </SCRIPT>
</head>
<body>
<f:view>
<label for="autotextsearch">Search Here :  </label>
<input id="autotextsearch"/>
</f:view>
</body>
</html> 
```

# objective-c - iOS：ViewController 子类的方法在其他类中不可见

> ID：10976791
> 
> 赞同：1
> 
> 时间：2012-06-11T08:40:23.673
> 
> 标签：objective-c, ios, uiviewcontroller, scope, subclass

我目前正在尝试开发一个 iPhone 应用程序。大多数事情都按照我的期望和偏好进行。

现在我遇到的问题是，当向我的一个 ViewControllers 添加方法时，这些方法在我的应用程序的其他部分不可见。

当我向其他视图控制器添加具有相同签名的相同方法时，它们将是可见的。

我用谷歌搜索，浏览了stackoverflow，重读，复制/粘贴，并向意大利面条怪物祈祷以获得神圣的洞察力，但无济于事。

一定有一些小细节，我愚蠢地忽略了。我希望你能帮助我！

## InfoPageViewController.h

```
#import <UIKit/UIKit.h>
#import "DB.h"

@interface InfoPageViewController : UIViewController
{
    IBOutlet UIWebView* wv;
    DB* db;
}

@property (retain, nonatomic) IBOutlet UIWebView* wv;

-(void) reloadInfoPage;
@end 
```

## InfoPageViewController.m

```
#import "InfoPageViewController.h"
@interface InfoPageViewController ()

@end

 @implementation InfoPageViewController
 @synthesize wv;

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        self.title = NSLocalizedString(@"Information", @"Information");
        self.tabBarItem.image = [UIImage imageNamed:@"TabIcon-Settings"];
        db = [[DB alloc] init];

        // Custom initialization
    }

    return self;
}

- (void)viewDidLoad
{
   [super viewDidLoad];
   // Do any additional setup after loading the view from its nib.    

   DBInfoPage* dbip = [db getInfopage];
   [wv loadHTMLString:dbip.html baseURL:nil];
   //NSLog(@"word%@", dbip.html);
   [self reloadInfoPage];
}

- (void)viewDidUnload
{
    [super viewDidUnload];
    // Release any retained subviews of the main view.
    // e.g. self.myOutlet = nil;
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return (interfaceOrientation == UIInterfaceOrientationPortrait);
}

-(void)reloadInfoPage
{
    DBInfoPage* dbip = [db getInfopage];
    [wv loadHTMLString:dbip.html baseURL:nil];
    NSLog(@"reloading infopage%@", @"");
}

@end 
```

## infoviewtest.h

```
#import <UIKit/UIKit.h>
#import "InfoPageViewController.h"
@interface infoviewtest : NSObject

@end 
```

## infoviewtest.m

```
#import "infoviewtest.h"

@implementation infoviewtest
-(void)test
{
    InfoPageViewController* ivc = [[InfoPageViewController alloc] init];
    [ivc reloadInfoPage];
}
@end 
```

这会产生错误“‘InfoPageViewController’没有可见的@interface声明选择器‘reloadInfoPage’。

我还尝试使用自动完成向我展示“InfoPageViewController”的可用方法，这会产生一个不包含“reloadInfoPage”的列表，类似地，实例变量“wv”在类范围之外是不可见的。

我尝试关闭并重新打开 xcode，以及重新启动计算机。我也试图“清理”这个项目。

我的头发部分将不胜感激任何帮助，但尚未感到沮丧。

如果我一直缺乏提供信息，请提出要求，我会尽力回复。

约翰·阿比尔兹科夫

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T09:55:19.830

我注意到测试目标有一个奇怪的问题，当你没有在测试目标中包含一个类时它仍然可以编译，这可能是这里发生的事情，所以：

您是否在测试目标中包含**了 InfoPageViewController ？**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:47:28.110

实际上，您的代码看起来是正确的——您所要做的可能就是清理项目并可能重新启动 XCode。

但是您可以通过进行一些修改来优化链接/编译，例如：

**infoviewtest.h**

```
#import <UIKit/UIKit.h>
//@class InfoPageViewController;  //add this if you'll be adding ivar or property of this type
@interface infoviewtest : NSObject

@end 
```

**infoviewtest.m**

```
#import "infoviewtest.h"
#import "InfoPageViewController.h" //here's the place to import other headers

@implementation infoviewtest
-(void)test
{
    InfoPageViewController* ivc = [[InfoPageViewController alloc] init];
    [ivc reloadInfoPage];
}
@end 
```

**编辑：**确保您的**DB 类**的实现是正确的。XCode 错误可能会导致您做出错误的假设。再说一遍：您发布的代码似乎是正确的，只是没有针对编译进行优化。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-04T15:33:49.080

Just in case anyone else is suffering from this weird problem as I just did - the cause in my case was due to my ending up with 2 copies of the same class .m & .h files in different directories of my project after my Xcode newbie fumbling attempt to move them from one disk directory to another while keeping them in the same Xcode group. Xcode ended up allowing me to edit one set of files but used the other for compilation so the method that I added really didn't exist as far as the compiler was concerned, hence the above error message.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-14T18:48:12.370

你的代码看起来很完美。即使 DB.h 具有相同的方法名称，它也不会影响控制器类中相同方法的声明。它非常奇怪的错误。可能您的 XCode 可能会损坏。尝试更新 Xcode 并尝试相同的代码。如果您要更新 Xcode，请同时更新 iTunes。我认为这可能会解决您的问题。

# c# - MVC RedirectToAction 无法正常工作

> ID：10976797
> 
> 赞同：0
> 
> 时间：2012-06-11T08:40:48.323
> 
> 标签：c#, .net, asp.net-mvc, asp.net-mvc-3, asp.net-mvc-routing

在我的一个控制器中，我确实有一个如下所示的返回：

```
return RedirectToAction("AdministerFiles/ViewDataFiles?catid=14"); 
```

但是当它将结果呈现给浏览器时，字符串变成了这个：

```
AdministerFiles/AdministerFiles/ViewDataFiles%3fcatid%3d14 
```

我该如何解决这个问题？谢谢 。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-11T08:42:56.803

您只需要将操作作为参数（以及路由数据）：

```
return RedirectToAction("ViewDataFiles", new { catid = 14 }); 
```

如果您还想指定控制器（默认为当前控制器），那么您可以这样做：

```
return RedirectToAction("ViewDataFiles", "AdministerFiles", new { catid = 14 }); 
```

# css - 多媒体查询会影响效率？

> ID：10976800
> 
> 赞同：1
> 
> 时间：2012-06-11T08:41:12.067
> 
> 标签：css, media-queries

我有一个站点，其中一些元素是模块化的，所以它的所有 javascript 和 html 是如何模块化的，我也希望所有的 css 都在同一个地方，而不是与页面的其他 css 混合。

结果是每个模块都会重复媒体查询块（显然具有不同的规则，但要触发相同的块条件）。所以问题很简单：这会惩罚 css 解释的效率吗？与此问题相关的一些测试或链接？

先感谢您。

# prolog - 错误：未定义的过程：(+)/2

> ID：10976802
> 
> 赞同：3
> 
> 时间：2012-06-11T08:41:19.730
> 
> 标签：prolog, primes

我是 SWI-Prolog 的新手，我想检查 Prolog 中的主要功能。

```
prime(N) :-
    N > 1,
    M is N - 1,
    check(N, M).

check(_, 1).
check(N, M) :-
    M > 1,
    R is N - M * N / M,
    R > 0,
    P is M - 1,
    check(N, P). 
```

但是当我在 Prolog 中询问`2 + 2`或其他运算符时，如`(*)/2`, `(/)/2`,... 它会说：`undefined procedure: (+)/2`。我认为它适用于`see`or `tell`。我重新分配`see(user)`，`tell(user)`但此错误再次发生。为什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-11T10:23:18.580

在您使用的 SWI prolog 6.0.2 除法中，它返回浮点数。因此`prime(13)`，例如将失败，因为余数为 0。整数除法使用 operator `//`。但检查 prolog SWI 函数`rem`和`mod`.

此外，您希望在第一个定义之后进行剪切`check`，否则 prolog 将探索第二个定义，这将返回 false。Cut 确保在检查所有小于 N 的自然数后，它会成功停止。

这是在 SWI Prolog 6.0.2 中按需要运行的更正代码。

```
prime(N) :-
    N > 1,
    M is N - 1,
    check(N, M).

check(_, 1) :- !.
check(N, M) :-
    M > 1,
    R is N mod M,
    R > 0,
    P is M - 1,
    check(N, P). 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-13T06:45:18.530

关于您的错误，请查看：

```
?- 2+2.
ERROR: Undefined procedure: (+)/2

?- X is 2+2\.    
X = 4 
```

您应该`is`在 Prolog 中使用来强制计算算术表达式。尝试`help(is).`在 SWI-Prolog 的提示符下键入“”。

但是你的算法效率非常低，有两个原因。首先，您检查候选数是否可以被其前面的所有数字整除，而只有那些不大于其平方根的数字就足够了（如果`a*b=n`和`a >= sqrt(n)`然后`b =< sqrt(n)`）。

然后，您以相反的顺序进行测试。较小因素的倍数比较大因素的倍数要频繁得多，因此当按升序完成时，测试会更早中断，从而使整个程序运行*得更快*。最后，不需要用除 2 以外的任何偶数进行测试：

```
prime(2).
prime(N) :- N > 1,
    N mod 2 > 0,              % is odd
    M is floor(sqrt(N+1)),    % round-off paranoia 
    check(N, M, 3).

check(N, M, F) :- F>M.
check(N, M, F) :- F=<M,
    N mod F > 0,
    F1 is F + 2,              % test by odds only
    check(N, M, F1).

primesFromTo(F,T,X):-
  between(F,T,X), prime(X). 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-09T16:48:45.520

您提到`see`and `tell`：这些是非常老式的内置谓词。最好避开它们。用于`[file]`加载文件并`make`重新加载它。

有关测试素数的更好实施，请参阅[此答案](https://stackoverflow.com/a/8311574/772868)。

# javascript - 脚本不适用于简单的算术

> ID：10976803
> 
> 赞同：0
> 
> 时间：2012-06-11T08:41:21.010
> 
> 标签：javascript

这是我脚本的一部分：

```
var count = $(".sliderItem").length;
if (count < lp + 5)
{
    alert("bp4");
    var clips = count-l;
    alert("bp5");
} 
```

所以问题是：“bp4”可见，但“bp5”不可见。

当我改变`var clips = count-1;`它`var clips = 1;`工作正常。

有人有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:45:41.863

你`var clips = count-1;`的代码中没有，你有`var clips = count-l;`.

将代码中的字母`l`（小写 L）更改`1`为。

# vba - Equivalent of VBA TRIM function Excel with worksheet function

> ID：10976807
> 
> 赞同：1
> 
> 时间：2012-06-11T08:41:28.213
> 
> 标签：vba, excel, trim

I know that the TRIM function as worksheet function and as VBA function returns different results:

*   the worksheet function removes all spaces from a text string except for single spaces between words
*   while the VBA function only removes leading and trailing spaces.

There is a way to emulate the VBA behavior with worksheet functions, WITHOUT a custom VBA function?

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-11T10:07:10.520

Using only worksheet functions you could try this for a text string in A1:

```
=REPLACE(LEFT(A1,MATCH(2,1/(MID(A1,MMULT(ROW(INDIRECT("1:"&LEN(A1))),1),1)<>" "))),1,FIND(LEFT(TRIM(A1)),A1)-1,"") 
```

Finding the position of the last character that's not a space is not straightforward due to the lack of string reverse worksheet functions.

If you don't want to use VBA it's much simpler to use *Data|Text to Columns* with the options:

1.  Fixed Width
2.  No break lines
3.  Destination: B1

which also removes leading and trailing spaces.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T08:53:40.360

> the worksheet function removes all spaces from a text string except for single spaces between words

No that is not completely true :) Worksheet `TRIM` function does not remove the nonbreaking space character (`&nbsp;`). To remove the nonbreaking space character, you have a different function called `CLEAN()`

If you want to use the Worksheet Function `Trim` in VBA then you can use it like this

```
Application.WorksheetFunction.Trim(Range("A1").Value) 
```

In Excel Worksheet you can use `=TRIM()`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-11T08:58:19.783

You can write a function in VBA that you can refer to in your worksheet.

For example:

```
Public Function MyTrim(text As String) As String    
    MyTrim = Trim(text)    
End Function 
```

Then in your worksheet, assuming the text you want to trim is in cell A1:

```
=MyTrim(A1) 
```

# jakarta-ee - 部署应用程序时出现证书错误

> ID：10976810
> 
> 赞同：0
> 
> 时间：2012-06-11T08:41:38.750
> 
> 标签：jakarta-ee, jsf-1.2

我建立了一个网站，然后将其部署在服务器上。但是当我打开网址时，我收到以下错误 ![证书错误](../Images/7f9bcc5a61c4be6581e5ce68dc6d8078.png) 但是当我点击“继续访问该网站”时，我收到以下消息 ![https错误](../Images/f4994a5aad9c098f9adac0d9fd230965.png)

我怎样才能摆脱这两个消息。我的意思是当我打开我的网站时，它会正常打开，而不是首先显示证书错误，以及如何克服 https 错误警告消息。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:48:19.567

如果您正确配置了服务器证书，第一条消息应该会消失。在开发环境中，只要它在生产环境中工作，它就不应该打扰您。

Glassfish 默认带有无效证书。您需要将其替换为有效的。

第二条消息表明您在页面上包含的内容未通过安全连接（可能是包含/资源的 url`http://`而不是`https://`）。检查您包含的资源是否也通过 https 交付。

# ios - 如何截取 UIScrollView 可见区域的截图？

> ID：10976816
> 
> 赞同：13
> 
> 时间：2012-06-11T08:42:05.610
> 
> 标签：ios, uiscrollview

如何对 UIScrollView 可见区域进行 1:1 截图？内容可能大于或小于 UIScrollView 边界以及半隐藏（我已经为较小的内容实现了自定义滚动，所以它不在左上角）。我在模拟器上达到了预期的效果，但在设备本身上却没有：

```
-(UIImage *)imageFromCombinedContext:(UIView *)background {
      UIImage *image;
      CGRect vis = background.bounds;
      CGSize size = vis.size;
      UIGraphicsBeginImageContext(size);
      [background.layer affineTransform];
      [background.layer renderInontext:UIGraphicsGetCurrentContext()];
      image = UIGraphicsGetImageFromCurrentImageContext();
      UIGraphicsEndImageContext();
      CGImageRef imref = CGImageCreateWithImageInRect([image CGImage], vis);
      image = [UIImage imageWithCGImage:imref];
      CGImageRelease(imref);
      return image;
} 
```

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-07-23T20:30:16.697

另一种方法是使用`contentOffset`调整图层的可见区域并**仅**捕获的当前可见区域`UIScrollView`。

```
UIScrollView *contentScrollView;....//scrollview instance

UIGraphicsBeginImageContextWithOptions(contentScrollView.bounds.size, 
                                       YES, 
                                       [UIScreen mainScreen].scale);

//this is the key
CGPoint offset=contentScrollView.contentOffset;
CGContextTranslateCTM(UIGraphicsGetCurrentContext(), -offset.x, -offset.y); 

[contentScrollView.layer renderInContext:UIGraphicsGetCurrentContext()];
UIImage *visibleScrollViewImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext(); 
```

干杯:)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2016-03-26T08:33:37.863

Swift 版本的 Abduliam Rehmanius 回答。

```
func screenshot() -> UIImage {

        UIGraphicsBeginImageContextWithOptions(self.scrollCrop.bounds.size, true, UIScreen.mainScreen().scale);
        //this is the key
        let offset:CGPoint = self.scrollCrop.contentOffset;
        CGContextTranslateCTM(UIGraphicsGetCurrentContext(), -offset.x, -offset.y);
        self.scrollCrop.layer.renderInContext(UIGraphicsGetCurrentContext()!);
        let visibleScrollViewImage: UIImage = UIGraphicsGetImageFromCurrentImageContext();
        UIGraphicsEndImageContext();
        return visibleScrollViewImage;
    } 
```

**斯威夫特 4 版本：**

```
func screenshot() -> UIImage {
UIGraphicsBeginImageContextWithOptions(self.scrollCrop.bounds.size, false, UIScreen.main.scale)
        let offset = self.scrollCrop.contentOffset
        let thisContext = UIGraphicsGetCurrentContext()
        thisContext?.translateBy(x: -offset.x, y: -offset.y)
        self.scrollCrop.layer.render(in: thisContext!)
        let visibleScrollViewImage = UIGraphicsGetImageFromCurrentImageContext()
        UIGraphicsEndImageContext()
return visibleScrollViewImage
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-11T09:23:57.197

我自己找到了一个解决方案 - 我截取了整个视图，然后将其裁剪为`UIScrollView`框架的大小和位置。

```
-(UIImage *)imageFromCombinedContext:(UIView *)background 
{
      UIImage *image;
      CGSize size = self.view.frame.size;
      UIGraphicsBeginImageContext(size);
      [background.layer affineTransform];
      [self.view.layer.layer renderInContext:UIGraphicsGetCurrentContext()];
      image = UIGraphicsGetImageFromCurrentImageContext();
      UIGraphicsEndImageContext();
      CGImageRef imgRef = CGImageCreateWithImageInRect([image CGImage],background.frame);
      image = [UIImage imageWithCGImage:imref];
      CGImageRelease(imref);
      return image;
} 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2018-03-29T12:00:52.687

Swift 4 版本的 Abduliam Rehmanius 回答`UIScrollView extension`与翻译一样，没有慢速裁剪

```
extension UIScrollView {

    var snapshotVisibleArea: UIImage? {
        UIGraphicsBeginImageContext(bounds.size)
        UIGraphicsGetCurrentContext()?.translateBy(x: -contentOffset.x, y: -contentOffset.y)
        layer.render(in: UIGraphicsGetCurrentContext()!)
        let image = UIGraphicsGetImageFromCurrentImageContext()
        UIGraphicsEndImageContext()
        return image
    }
} 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2015-03-09T21:53:56.367

杰弗里孙有正确的答案。只需将您的滚动视图放在另一个视图中。获取容器视图以在上下文中呈现。完毕。

在下面的代码中，cropView 包含要捕获的滚动视图。解决方案真的就是这么简单。

当我理解这个问题以及为什么我找到这个页面时，不需要滚动视图的全部内容 - 只是可见部分。

```
func captureCrop() -> UIImage {
    UIGraphicsBeginImageContextWithOptions(self.cropView.frame.size, true, 0.0)
    self.cropView.layer.renderInContext(UIGraphicsGetCurrentContext())
    let image = UIGraphicsGetImageFromCurrentImageContext()
    UIGraphicsEndImageContext()
    return image;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-10-18T17:39:41.383

@Abduliam Rehmanius 的答案表现不佳，因为如果`UIScrollView`包含较大的内容区域，我们将绘制整个内容区域（即使在可见范围之外）。@Concuror 的答案的问题是它还会绘制`UIScrollView`.

我的解决方案是使用相同的边界`UIScrollView`放置一个`UIView`被调用的内部`containerView`，然后渲染`containerView`：

```
containerView.renderInContext(context) 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-04-05T13:27:32.663

斯威夫特 3.0：

```
 func captureScreen() -> UIImage? {
    UIGraphicsBeginImageContextWithOptions(self.yourScrollViewName.bounds.size, true, UIScreen.main.scale)
    let offset:CGPoint = self.yourScrollViewName.contentOffset;
    UIGraphicsGetCurrentContext()!.translateBy(x: -offset.x, y: -offset.y);
    self.yourScrollViewName.layer.render(in: UIGraphicsGetCurrentContext()!)
    let image = UIGraphicsGetImageFromCurrentImageContext()
    UIGraphicsEndImageContext()
    return image
} 
```

并将其用作：让 Image = captureScreen()

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-11-14T12:32:14.877

在@Concuror 代码上更新 swift 3+、4

```
func getImage(fromCombinedContext background: UIView) -> UIImage {
        var image: UIImage?
        let size: CGSize = view.frame.size
        UIGraphicsBeginImageContext(size)
        background.layer.affineTransform()
        view.layer.render(in: UIGraphicsGetCurrentContext()!)
        image = UIGraphicsGetImageFromCurrentImageContext()
        UIGraphicsEndImageContext()
        let imgRef = image?.cgImage?.cropping(to: background.frame)
        image = UIImage(cgImage: imgRef!)
        // CGImageRelease(imgRef!) // Removing on Swift - 'CGImageRelease' is unavailable: Core Foundation objects are automatically memory managed
        return image ?? UIImage()
    } 
```

# jsf - 配置 RichFaces 4 + JBoss 7+Eclipse

> ID：10976821
> 
> 赞同：0
> 
> 时间：2012-06-11T08:42:22.437
> 
> 标签：jsf, jsf-2, richfaces, jboss7.x

我创建了一个非常简单的 RichFaces Page

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">
    <h:outputStylesheet>
        .cols {
        vertical-align: top;
        }
    </h:outputStylesheet>
    <h:form id="form">
        <h:panelGrid columns="2" columnClasses="cols,cols" width="400">
            <rich:panelMenu style="width:200px" itemMode="ajax" groupMode="ajax" groupExpandedLeftIcon="triangleUp"
                groupCollapsedLeftIcon="triangleDown" topGroupExpandedRightIcon="chevronUp"
                topGroupCollapsedRightIcon="chevronDown" itemLeftIcon="disc" itemChangeListener="#{panelMenuBean.updateCurrent}">
                <rich:panelMenuGroup label="Group 1">
                    <rich:panelMenuItem label="Item 1.1" name="Item_1_1" />
                    <rich:panelMenuItem label="Item 1.2" name="Item_1_2" />
                    <rich:panelMenuItem label="Item 1.3" name="Item_1_3" />
                </rich:panelMenuGroup>
                <rich:panelMenuGroup label="Group 2">
                    <rich:panelMenuItem label="Item 2.1" name="Item_2_1" />
                    <rich:panelMenuItem label="Item 2.2" name="Item_2_2" />
                    <rich:panelMenuItem label="Item 2.3" name="Item_2_3" />
                    <rich:panelMenuGroup label="Group 2.4">
                        <rich:panelMenuItem label="Item 2.4.1" name="Item_2_4_1" />
                        <rich:panelMenuItem label="Item 2.4.2" name="Item_2_4_2" />
                        <rich:panelMenuItem label="Item 2.4.3" name="Item_2_4_3" />
                    </rich:panelMenuGroup>
                    <rich:panelMenuItem label="Item 2.5" name="Item_2_5" />
                </rich:panelMenuGroup>
                <rich:panelMenuGroup label="Group 3">
                    <rich:panelMenuItem label="Item 3.1" name="Item_3_1" />
                    <rich:panelMenuItem label="Item 3.2" name="Item_3_2" />
                    <rich:panelMenuItem label="Item 3.3" name="Item_3_3" />
                </rich:panelMenuGroup>
            </rich:panelMenu>
        </h:panelGrid>
    </h:form>
</ui:composition> 
```

我的面孔-config.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<faces-config
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd"
    version="2.0">

</faces-config> 
```

我的 web.xml 读作

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<web-app version="3.0"
xmlns="http://java.sun.com/xml/ns/javaee"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">
  <display-name>
    trinity
</display-name>
  <description>
    C'mon, you know what goes into a description, don't you?
</description>

  <!-- Plugging the "Blue Sky" skin into the project -->
<context-param>
<param-name>org.richfaces.SKIN</param-name>
<param-value>blueSky</param-value>
</context-param>
<!-- Making the RichFaces skin spread to standard HTML controls -->
<context-param>
<param-name>org.richfaces.CONTROL_SKINNING</param-name>
<param-value>enable</param-value>
</context-param>
<servlet>
<servlet-name>Faces Servlet</servlet-name>
<servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
<load-on-startup>1</load-on-startup>
</servlet>
<!-- Faces Servlet Mapping -->
<servlet-mapping>
<servlet-name>Faces Servlet</servlet-name>
<url-pattern>*.jsf</url-pattern>
</servlet-mapping>
<servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>/jsf/*</url-pattern>
</servlet-mapping>
<login-config>
    <auth-method>BASIC</auth-method>
</login-config>
</web-app> 
```

但是当我尝试访问该页面时，我收到一条错误消息

```
java.lang.NullPointerException
    com.sun.faces.context.flash.ELFlash.doLastPhaseActions(ELFlash.java:607)
    com.sun.faces.context.ExternalContextImpl.responseFlushBuffer(ExternalContextImpl.java:857)
    com.sun.faces.application.view.JspViewHandlingStrategy.buildView(JspViewHandlingStrategy.java:155)
    com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:100)
    com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
    com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)
    javax.faces.webapp.FacesServlet.service(FacesServlet.java:594) 
```

我有所有必需的库。我是 JSF 2 和 RichFaces 的新手。有什么想法我哪里出错了吗？感谢您提前提供任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T14:14:18.060

从堆栈跟踪：

```
com.sun.faces.application.view.JspViewHandlingStrategy.buildView(JspViewHandlingStrategy.java:155) 
```

因此，当您使用 Facelets 语法时，它将视图构建为 JSP 而不是 Facelets。

确保您的页面文件扩展名正确。应该是`.xhtml`，不是`.jsp`。

# linq - 实体到 Linq 左连接 + 分组 + 总和

> ID：10976824
> 
> 赞同：1
> 
> 时间：2012-06-11T08:42:42.520
> 
> 标签：linq, join, entity, sum

SQL 查询（执行计划成本 = 0.0127553）

```
SELECT 
 SUM(DATEDIFF(second, DTActivate, DTDeActivate)) AS Seconds,
 AA.ID AS AAID,
 AA.WorkStation
FROM 
 DbLogItems I 
INNER JOIN DbApplicationArguments AA ON 
 AA.Id = I.ApplicationArgument_ID
GROUP BY
 AA.ID,
 AA.WorkStation 
```

C＃

```
var q = from items in db.LogItem

 join aa in db.ApplicationArguments on 
  items.ApplicationArgument.ID equals aa.ID 
 into aaGroup

 from aaJoin in aaGroup.DefaultIfEmpty()

 group items by new 
 {
  aaJoin.ID,
  aaJoin.WorkStation
 } into grouping

 select new 
 {
  Seconds = grouping.Sum(x => SqlFunctions.DateDiff("second", x.DTActivate, x.DTDeActivate)),
  grouping.Key.ID,
  grouping.Key.WorkStation
}; 
```

结果 SQL 非常大（执行计划成本 = 0.0199849）

```
SELECT 
 1 AS [C1], 
 [GroupBy1].[A1] AS [C2], 
 [GroupBy1].[K1] AS [ID], 
 [GroupBy1].[K2] AS [WorkStation] 
FROM 
(
 SELECT 
  [Join1].[K1] AS [K1], 
  [Join1].[K2] AS [K2], 
  SUM([Join1].[A1]) AS [A1] 
  FROM 
  ( 
   SELECT 
    [Extent2].[ID] AS [K1], 
    [Extent2].[WorkStation] AS [K2], 
    DATEDIFF(second, [Extent1].[DTActivate], [Extent1].[DTDeActivate]) AS [A1] 
   FROM 
    [dbo].[DbLogItems] AS [Extent1] 
   LEFT OUTER JOIN [dbo].[DbApplicationArguments] AS [Extent2] 
    ON [Extent1].[ApplicationArgument_ID] = [Extent2].[ID] 
  ) AS [Join1] 
 GROUP BY 
  [K1], 
  [K2] 
) AS [GroupBy1] 
```

帮助请编写正确的linq代码。
我的 SQL 执行计划成本 = 0.0127553。
Linq SQL 执行计划成本 = 0.0199849。
**21+10 条记录上的 DIFF = 0,0072296**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-12T00:57:15.430

LINQ to SQL 查询就是它们。有时您无法发出更好的 SQL。但是，您可以编写普通的旧 T-SQL 并以多种方式调用它：一个表值 UDF，也许您的自定义`DataContext`公开为`IQueryable`.

# vim - 为什么 -b(binary) 选项在 vim 中不起作用？

> ID：10976827
> 
> 赞同：2
> 
> 时间：2012-06-11T08:43:01.333
> 
> 标签：vim

正如 vim doc 所说，我可以使用[*-b*](http://www.cs.csubak.edu/docs/vim/starting.html#-b)选项打开二进制文件。

* * *

```
-b      Binary mode.  File I/O will only recognize <NL> to separate
        lines.  The 'expandtab' option will be reset.  The 'textwidth'
        option is set to 0\.  'modeline' is reset.  The 'binary' option
        is set.  This is done after reading the vimrc/exrc files but
        before reading any file in the arglist.  See also
        |edit-binary|.  {not in Vi} 
```

* * *

我使用这个命令打开 vim：

```
$ vim --cmd 'set et' -u NONE -b 
```

* * *

我键入此命令以查看选项：

```
:set et? bin?

  expandtab
  binary 
```

* * *

( `et`)`expandtab`选项未重置。为什么？
谢谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T11:07:49.680

问题很简单，就是`+cmd`在处理其他标志之后执行 --cmd -c 或参数。这是有道理的，因为否则它不会有效地做任何事情。

```
 :verbose set et? 
```

会告诉你的。如果您需要针对特定​​样本的解决方法`vim +'set binary'`（不太可能因为 et != binary）

您在 --cmd 的文档上是正确的。所以它归结为解释命令行标志的*顺序*，这基本上是“未定义的”。虽然

> 这是在读取 vimrc/exrc 文件之后但在读取 arglist 中的任何文件之前完成的

可以理解为“在处理其他命令行参数之前”。

**注意**“+”命令本质上与特定文件一起使用，并且按照它们出现的顺序（AFAICT）进行处理，即使与文件名参数混合时也是如此。

# android - android中的日期解析错误

> ID：10976828
> 
> 赞同：0
> 
> 时间：2012-06-11T08:43:04.517
> 
> 标签：android, parsing, datetime

这是代码

```
public static final String DATE_TIME_FORMAT = "yyyy-MM-dd kk:mm:ss";
public static final String KEY_DATE_TIME = "reminder_date_time";
SimpleDateFormat datetimeFormat = new SimpleDateFormat(DATE_TIME_FORMAT) ;

    try {
    String dateString = reminder.getString(reminder.getColumnIndexOrThrow(ReminderDbAdapter.KEY_DATE_TIME));

    Date date =  (Date) datetimeFormat.parse(reminder.getString(dateString);

    mCalendar.setTime(date); 
    } catch (java.text.ParseException e) {
        Log.e("edit_activity", e.getMessage(), e);
    } 
```

它没有解析日期，因为所有值都被提取但日期没有被解析，所以 logcat 显示错误。

```
error::06-11 14:08:59.320: E/edit_activity(361): java.text.ParseException: Unparseable date: 2012-03-11 13:14:49 
```

请帮帮我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:46:23.050

无需在 DateFormat 中给出“T”，而是可以指定 SimpleDateFormat，如下所示：

```
public static final String DATE_TIME_FORMAT = "yyyy-MM-dd kk:mm:ss";

kk = Hours in 1-24 format
hh= hours in 1-12 format
KK= hours in 0-11 format
HH= hours in 0-23 format 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T08:46:32.800

您声明`DATE_TIME_FORMAT = "yyyy-MM-dd'T'kk:mm:ss"`了 ，但是您的时间是格式`"yyyy-MM-dd kk:mm:ss"`- 因此它无法解析它。从你的格式中删除`'T'`- 你会没事的。

我刚刚用这段代码测试过：

```
public static final String DATE_TIME_FORMAT = "yyyy-MM-dd kk:mm:ss";
public static final String KEY_DATE_TIME = "reminder_date_time";

SimpleDateFormat datetimeFormat = new SimpleDateFormat(DATE_TIME_FORMAT) ;

try {
    String dateString = "2012-03-11 13:14:49";
    Date date =  (Date) datetimeFormat.parse(dateString);
    System.out.println(date);

} catch (java.text.ParseException e) {
    e.printStackTrace();
} 
```

它工作得很好，打印`Sun Mar 11 13:14:49 GMT 2012`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-11T08:48:26.837

从字符串中删除 T 字符，然后使用

```
public static final String DATE_TIME_FORMAT = "yyyy-MM-dd hh:mm:ss"; 
```

你确定这些kk吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-11T09:32:37.333

你只是错过了一个“）”在

```
Date date =  (Date) datetimeFormat.parse(reminder.getString(dateString); 
```

你可以打印reminder.getString(dateString)，对吗？

# dynamics-crm - 我的一个 live id 帐户如何拥有两个组织实例

> ID：10976833
> 
> 赞同：0
> 
> 时间：2012-06-11T08:43:39.133
> 
> 标签：dynamics-crm, dynamics-crm-2011, microsoft-dynamics, dynamics-crm-online

在我用我的 liveid 登录后，我只想有一个组织列表。然后我从这些组织中选择一个，并将被重定向到该组织。几个星期以来，我这样做了：我用我的旧（用于另一个 CRM 在线测试系统）liveid 电子邮件创建了一个新的测试帐户。每次登录后，我都可以在两个组织之间进行选择。现在已经不可能了。

我的一个 live id 帐户如何拥有两个组织实例？（目标：DiscoveryService 应该为我的测试方案返回两个组织）

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T14:21:31.647

如果您使用某个组织的 URL，它会要求登录，然后交付该组织。如果您转到通用页面[https://crm.dynamics.com](https://crm.dynamics.com)并单击“客户登录”，则在 LiveID 登录后，系统将提示您输入您的组织。

# android - 在android中使用SQL文件的可能性

> ID：10976836
> 
> 赞同：0
> 
> 时间：2012-06-11T08:44:02.587
> 
> 标签：android, sqlite

我有一个之前创建的 sql 文件，我希望只能使用 basic 来搜索它`SELECT FROM WHERE commands`。我找不到任何合适的来源或教程，我什至不知道将文件放在哪里。

我希望我的程序有一个`Spinner`and`EditText`和一个`Button`. 当我选择选择或输入文本并单击按钮时，将使用此条目创建查询。

可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T10:49:02.990

参考下面的教程

[http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/](http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/)

并将您的数据库文件保存在assets文件夹中

您可以在 databasehelper 文件中使用以下代码来获取详细信息

```
public ContactModel getUser(int userid) {
    ContactModel user = new ContactModel();
    openDataBase();
    Cursor c;

    String select = "Select * from contactMaster " + "where Id =" + userid;
    try {
        c = myDataBase.rawQuery(select, null);

        for (int i = 0; i < c.getCount(); i++) {
            c.moveToNext();

            user.setId(c.getInt(0));
            user.setName(c.getString(1));
            user.setPhone(c.getString(2));

        }
        c.close();
    } catch (Exception e) {
        e.printStackTrace();
    }finally{
        myDataBase.close();
        SQLiteDatabase.releaseMemory();
    }

    return user;
} 
```

# c# - 多个 AJAX 调用 - 单个 aspx 页面或多个 aspx 页面以获得更好的性能

> ID：10976840
> 
> 赞同：1
> 
> 时间：2012-06-11T08:44:19.537
> 
> 标签：c#, ajax

我目前正在重写一个大型网站，目标是用 AJAX 调用替换大量页面/表单提交。目标是减少服务器往返的数量 - 以及在富含客户端的页面上处理的所有状态。

花了一些时间考虑在性能方面的最佳前进方式 - 我的问题现在如下。

只有一个用于所有 AJAX 调用的 aspx 页面会带来更好的性能 - 还是在给定网页上为每次使用 AJAX 提供一个 aspx 页面会更好？

非常感谢您的任何见解

拉斯·凯尔森

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T18:31:40.400

在性能方面，任何一种方法都可以在相似的数量级上工作。

在维护方面，我更喜欢为您网站的每个逻辑部分设置单独的页面。同样，任何一种都可以工作，但我看到更多的人用“单片”类型的方法把事情弄得一团糟。单页你需要大量的技能来构建你的脚本和客户端逻辑。干得好没有问题，但是，我只是看到更多的人在使用单独的页面作为网站的单独部分时做对了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T11:49:36.553

如果您查看网站[http://battlelog.battlefield.com/](http://battlelog.battlefield.com/)（您必须创建一个帐户），您会注意到一些关于它的事情。

1.  当您浏览网站时，它永远不会刷新页面。（使用 JSON 传输新数据）
2.  它会更新 URL 并跟踪您的位置。
3.  您可以使用更新后的 URL 并立即导航到 Web 应用程序的该部分。（在这种情况下，它返回 HTML 页面）

[这是网站上的完整文章。](http://lucumr.pocoo.org/2011/11/15/modern-web-applications-are-here/)

就个人而言，从技术/性能的角度来看，我喜欢这种方法，但我不知道它会对[SEO](http://en.wikipedia.org/wiki/Search_engine_optimization)产生什么影响，因为这种设计依赖于 JavaScript 中的 HTML5 [History 状态机制。](https://developer.mozilla.org/en/DOM/Manipulating_the_browser_history)

[这是一篇关于 SEO 和 JavaScript 的文章](http://www.webmarketingart.com/search-engine-optimization/javascript-and-seo/)，但你必须做更多的研究。

*注意：[History.js](https://github.com/balupton/history.js)为不支持历史状态的浏览器提供了优雅的降级。*

# android - 在 Android 中每 1 秒有效地在后台运行我的代码

> ID：10976843
> 
> 赞同：2
> 
> 时间：2012-06-11T08:44:43.467
> 
> 标签：android, multithreading, service, android-asynctask, timertask

我必须每隔一秒在后台运行一些代码，代码将调用一个搜索数据库并向应用程序返回值的 Web 服务。我的问题是哪种方法最有效？我已经阅读了 Timers、Threads、AsyncTask 和 Services，它们似乎各有利弊。考虑到执行时间和电池寿命，请有人告诉我哪个是最好的。

谢谢

**更新：** 我决定使用 Aysnc 任务在后台运行我的代码，同时使用 TimeTask 定期触发 AsyncTask。这样，当我离开该特定活动时，操作就会被破坏

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T09:01:09.263

您应该使用该服务来执行后台操作，但在您的情况下，您希望在 1 秒内运行代码，这里是使用处理程序的服务示例，它每 1 秒调用一次。

```
public class YourService extends Service {
private static final String TAG = "Your Service";
private final Handler handler = new Handler(){
    @Override
    public void handleMessage(Message msg) {

}
};
@Override
public IBinder onBind(Intent intent) {
    return null;
}

@Override
public void onCreate() {
//  Toast.makeText(this, "My Service Created", Toast.LENGTH_LONG).show();
    Log.d(TAG, "onCreate");

}

@Override
public void onDestroy() {
    super.onDestroy();
//  Toast.makeText(this, "My Service Stopped", Toast.LENGTH_LONG).show();
    handler.removeCallbacks(sendUpdatesToUI);   
}
 private Runnable sendUpdatesToUI = new Runnable() {
        public void run() {
            /// Any thing you want to do put the code here like web service procees it will run in ever 1 second
            handler.postDelayed(this, 1000); // 1 seconds
        }
 };
@Override
public void onStart(Intent intent, int startid) {

    handler.removeCallbacks(sendUpdatesToUI);
    handler.postDelayed(sendUpdatesToUI, 1000);//1 second       
    Log.d(TAG, "onStart");
}

} 
```

并且每次android在3或4小时内空闲服务时服务都无法运行我建议您使用前台服务来长时间运行您的进程。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T08:55:09.310

对于这样的操作，我倾向于使用服务组件。对于任务本身，我使用了一个 AsyncTask，它会在重复之前等待一段设定的时间（使用 while 循环）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-11T08:57:29.200

您必须创建一个新的`Thread`，以便在通话时间比预期更长的情况下通话不会锁定设备。这`AsyncTask`是一种使用多线程的简单方法，但它缺乏重复任务的功能。我会说您最好使用 a`Timer`或更新的[`ScheduledExecutorService`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ScheduledExecutorService.html). 如果你选择使用`Timer`你创建一个`TimerTask`你可以交给它。取而代之的`ScheduledExecutorService`是 Runnable。

您可能希望将线程包装在一个`Service`（服务不提供新线程）中，但这并不总是必要的，具体取决于您的需要。

正如评论中所建议的，您也可以使用`Handler.postDelayed()`. 虽然您仍然需要创建一个新线程然后调用`Looper.prepare()`它：

```
 class LooperThread extends Thread {
      public Handler mHandler;

      public void run() {
          Looper.prepare();

          mHandler = new Handler() {
              public void handleMessage(Message msg) {
                  // process incoming messages here
              }
          };

          Looper.loop();
      }
  } 
```

（来自[Looper 文档](http://developer.android.com/reference/android/os/Looper.html)的代码）

还; 每秒调用 Web 服务似乎太频繁了，尤其是当用户连接速度较慢或有数据需要传输时，尽量减少调用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-11T08:58:01.417

我认为这不仅仅是一种解决方案，所以这取决于你。您可以尝试使用此运行方法启动线程：

```
private final int spleeptime = 1000;
public boolean running;

@Override
public void run() {
    while (running) {
        try {
            int waited = 0;
            while ((waited < spleeptime)) {
                sleep(100);
                waited += 100;
            }
        } catch (InterruptedException e) {
        } finally {
            // your code here
        }
    }
} 
```

# java - Hadoop：奇怪的 ClassNotFoundException

> ID：10976846
> 
> 赞同：0
> 
> 时间：2012-06-11T08:44:52.703
> 
> 标签：java, class, hadoop, mapreduce, hadoop-streaming

我得到一个 classnotfound 异常。声称未找到的类不存在，但类名设置为我的 map reduce 作业的输入文件列表的路径。

```
INFO  server Running: /usr/lib/hadoop/bin/hadoop --config /var/run/cloudera-scm-agent/process/155-hue/JOBSUBD/hadoop-conf jar tmp.jar /user/hduser/datasets/ /user/hduser/tmp/job_20/ mongodb://slave15/db_8.job_20

Exception in thread "main" java.lang.ClassNotFoundException: /user/hduser/datasets/

at java.lang.Class.forName0(Native Method)
at java.lang.Class.forName(Class.java:247)
at org.apache.hadoop.util.RunJar.main(Runjar.java:190) 
```

正如我们所见，`/user/hduser/datasets/`是输入文件的路径。为什么我会收到此错误`ClassNotFoundException`？为什么它把它看作一个类？

* * *

我发现了自己的错误。我有一个包结构。我需要指定我的包裹信息

```
/usr/lib/hadoop/bin/hadoop 
    --config /var/run/cloudera-scm-agent/process/155-hue/JOBSUBD/hadoop-conf 
    jar tmp.jar org.myorg.tmp /user/hduser/datasets/ 
    /user/hduser/tmp/job_20/ mongodb://slave15/db_8.job_20 
```

在我的工具中，没有将包作为参数提供给 Java 的选项。所以我需要没有包装。但是由于缺少此输入文件路径之前的参数，因此出现以下错误。

我的课程直接在其根目录下的 tmp.jar 中。我的意思是没有 org.myorg 等...

解决方案：

```
jar cmf [manifest_file] [jar_name.jar] -C [folder_of_classes] [path_for_jar_file] 
```

它将 manifest_file 的内容与 jar 存档中生成的清单文件合并。在 manifest_file Main-Class 中包含以下行：[Name_Of_Class]

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T10:15:55.360

无论是否有包层次结构（如果没有，你做错了什么）你*仍然*需要给它包含`main`.

例如，[文档](http://hadoop.apache.org/common/docs/r1.0.3/mapred_tutorial.html#Usage)有一个示例，其中主类是`org.myorg.WordCount`. 即使`WordCount`在默认包中，如果 jar 文件在清单中不包含主类，也应指定：

```
bin/hadoop jar /usr/joe/wordcount.jar WordCount /usr/joe/wordcount/input /usr/joe/wordcount/output 
```

我假设您也可以像使用任何 jar 一样在清单中指定主类；class 参数在这些相同的文档中显示为可选。

# api - 如何阅读linkedin收件箱消息

> ID：10976847
> 
> 赞同：9
> 
> 时间：2012-06-11T08:44:54.273
> 
> 标签：api, linkedin, linkedin-j

我对 linkedin api 进行了大量研究，以了解如何通过[Api](https://developer.linkedin.com/rest)阅读我的收件箱消息。

我看过这篇文章，他们说这是不可能的： [链接](https://developer.linkedin.com/forum/read-messages-inbox)

有没有人为这个问题找到一个好的解决方案/解决方法？

# jquery - 悬停后停止jquery动画

> ID：10976850
> 
> 赞同：0
> 
> 时间：2012-06-11T08:44:57.900
> 
> 标签：jquery

如何在不完全破坏动画的情况下停止动画排队...我尝试使用 .stop() 如下，但它似乎只是在非常奇怪的时间停止动画然后不再开始。

```
$('.work_tile').hover(function() {
    $(this).stop().find('.white_bkd').stop().fadeIn('fast');
    $(this).stop().children('div.arrow').stop().animate({
        "left": "+=305px"
    }, "fast");
    $(this).stop().children('div.tile_header').stop().animate({
        "right": "+=200px"
    }, "fast");
}, function() {
    $(this).stop().find('.white_bkd').stop().fadeOut('fast');
    $(this).stop().children('div.arrow').stop().animate({
        "left": "-=305px"
    }, "fast");
    $(this).stop().children('div.tile_header').stop().animate({
        "right": "-=200px"
    }, "fast");

})​ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T08:57:18.373

请尝试以下代码。希望它会奏效。

```
$('.work_tile').hover(  
     function() {
     $(this).stop(true,false).find('.white_bkd').stop(true,true).fadeIn('fast');
     $(this).stop(true,false).children('div.arrow').stop(true,true).animate({"left": "+=305px"}, "fast");
     $(this).stop(true,false).children('div.tile_header').stop(true,true).animate({"right": "+=200px"}, "fast");

     },

     function() {$(this).stop(true,false).find('.white_bkd').stop(true,true).fadeOut('fast');     
     $(this).stop(true,false).children('div.arrow').stop(true,true).animate({"left": "-=305px"}, "fast");
     $(this).stop(true,false).children('div.tile_header').stop(true,true).animate({"right": "-=200px"}, "fast");

     }) 
```

# c# - 如何以编程方式检查 wcf 服务是否已停止

> ID：10976851
> 
> 赞同：1
> 
> 时间：2012-06-11T08:45:02.270
> 
> 标签：c#, wcf, windows-phone-7

我正在做一个 Windows Phone 7 应用程序，它使用 wcf 服务来收集与应用程序相关的数据。如果服务暂时停止，我有时需要给用户一条消息以尝试。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:51:47.613

您可以通过向其发送 http 请求来检查该服务是否在线？

```
public static Boolean isSiteOnline(String url)
    {
        Boolean result = true;
        HttpWebRequest httpReq = (HttpWebRequest)WebRequest.Create(url);
        httpReq.AllowAutoRedirect = false;
        HttpWebResponse httpRes = (HttpWebResponse)httpReq.GetResponse();
        if (httpRes.StatusCode != HttpStatusCode.OK)
            result = false;

        httpRes.Close();
        return result;
    } 
```

# asp.net - ViewState 存储在哪里？

> ID：10976852
> 
> 赞同：8
> 
> 时间：2012-06-11T08:45:05.233
> 
> 标签：asp.net, viewstate

ViewState 存储在哪里？它存储在服务器端还是客户端？

我有一个巨大的数据，应该为某些过程存储。我正在使用会话。但是当从一个页面移动到另一个页面时，我无法清除会话。所以我想到了实现ViewState。但是当运行大量数据时，ViewState 会抛出错误？

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-11T08:46:27.340

Viewstate 以编码形式存储在它自己的页面上。您无法直接访问客户端的视图状态。您需要了解编码/解码算法才能在客户端代码中从此视图状态中获取有价值的数据。

您可以使用隐藏变量来存储仅在该页面上使用的数据。隐藏变量可以从客户端和服务器端代码访问。

您可以使用缓存或会话来存储数据表（大数据）。与 ViewState 相比，它们将具有良好的性能。

缓存始终使用机器的内存，会话使用已配置的内容：

在网络场中，会话可以是本地的（仅在设置了关联性时才有效），也可以是远程的（状态服务器或数据库，或自定义），但缓存始终是本地的。

因此，将 DataTable 存储在缓存中会消耗内存，但不会使用序列化。

PS：存储 DataSet 而不是 DataTable 几乎不会改变。

[参考缓存实现](http://www.codeproject.com/Articles/14017/using-cache-to-store-Data-in-datatable-for-custom)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-11T08:51:19.037

ViewState 不存储在任何一方，它在每次请求和响应时在服务器和浏览器之间来回发送，因此在 ViewState 中放置大量数据并不是一个好主意。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-01-09T15:42:23.673

ViewState 存储在您告诉它的位置。默认情况下，这是在发送给客户端的页面上的隐藏字段中。

[ASP.NET 也可以将 ViewState 存储在 Session](http://msdn.microsoft.com/en-us/library/system.web.ui.sessionpagestatepersister%28v=vs.110%29.aspx)中，即在服务器上，如果你告诉它的话。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-11T08:55:07.573

Save large amount of data in view-state slowdown your site. Use query string to fetch fresh copy from database on each page rather than save whole information from previous page.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-01-01T08:09:20.123

查看隐藏字段中的状态信息存储。信息在此隐藏字段中在服务器和客户端之间传输。

对于 asp.net 控件，.. 默认情况下，.net 为其所有控件实现视图状态，这就是为什么当我们单击该页面的按钮时文本框值不会丢失的原因。

# class - 我是否必须将 get/set 方法放在 matlab 的类定义中？

> ID：10976853
> 
> 赞同：5
> 
> 时间：2012-06-11T08:45:08.860
> 
> 标签：class, matlab, getter-setter

是否被迫将所有 get 和 set 函数放在 Matlab 的类定义文件中？

我在问，因为这确实使文件有点混乱，并且违背了拥有类定义文件夹的目的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-11T09:59:52.573

是的，如果您使用属性集和获取访问方法（实际上是名称中带有点的任何方法），您必须将它们包含在`classdef`文件中，而不是单独的文件中。请参阅[文档](http://www.mathworks.com/help/matlab/matlab_oop/property-access-methods.html#brgsek9-2)。

但是，如果你有特殊的原因想把尽可能多的东西放在单独的文件中，你可以在单独的文件中定义方法`getMyProp`，`setMyProp`然后在`classdef`文件中使用`get.myProp`and`set.myProp`函数调用它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T08:46:39.413

如果你使用它们，那么你需要定义它们。但您也可以将变量定义为公开的。

# algorithm - 3SUM 问题（查找三元组）优于 O(n^2)

> ID：10976854
> 
> 赞同：15
> 
> 时间：2012-06-11T08:45:09.653
> 
> 标签：algorithm

考虑以下问题：

> 给定一个未排序的整数数组，找出所有满足 x^2 + y^2 = z^2 的三元组。
> 
> 例如，如果给定数组是`1, 3, 7, 5, 4, 12, 13`，则答案应该是`5, 12, 13`and`3, 4, 5`

我建议使用复杂度为 O(n^2) 的以下算法：

*   对数组进行降序排序，O(nlogn)
*   对每个元素求平方，O(n)

现在它简化为在一个有序数组中找到所有三元组（a，b，c）的问题，使得 a = b+c。

面试官坚持要一个比 O(n^2) 更好的解决方案。

我[在 Wikipedia 上阅读了 3SUM 问题](http://en.wikipedia.org/wiki/3SUM)，它强调如果数字在 [-u,u] 范围内，则问题可以在 O(n+ulogu) 中解决，假设数组可以表示为位向量。但我无法清楚地了解进一步的解释。

有人可以帮助我理解一个很好的例子发生了什么吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-11T10:42:11.340

首先。在最坏的情况下找到**所有**三元组是`O(n^3)`. 假设你有`n=3k`数字。其中 K 为 3，k 为 4，k 为 5。

```
3,....,3,4,....,4,5,.....5 
```

有`k^3 = n^3/27 = O(n^3)`这样的三胞胎。只是打印它们需要`O(n^3)`时间。

**接下来将以这种形式解释 3SUM 问题：**

它们每个都有数字`s_1, ..., s_n`range `[-u;u]`。`a,b,c`那有多少个三胞胎`a+b=c`？

1.  转变。获取 2*u 个数字`a_-u, ..., a_0, a_1, ... a_u`。`a_i`是数字的数量`s_j`，那`s_j = i`。这是在`O(n+u)`

2.  `res = a_0 * sum(i=-u..u, i=/=0, C(a_i, 2)) + C(a_0,3)` `a_0 = 0`

3.  建立一个多项式`P(x) = sum(i = -u...u, a_i*x^(i+u)`。

4.  `Q(x) = P(x)*P(x)`使用[FFT](http://en.wikipedia.org/wiki/FFT)查找。

5.  请注意`Q(x) = sum(i=-2u..2u, b_i*x^(i+2*u))`，其中`b_i`是对数`s_u`，`s_k`即`s_u+s_k = i`（这包括两次使用相同的数字）。

6.  对于所有甚至`i`做`b_i = b_i - a_(i/2)`。这将使用相同的号码删除两次。

7.  总和`b_i*a_i/2`- 将其添加到 res 中。

**示例：**为了更简单，我将假设数字的范围是 [0..u]，并且不会使用任何 x 次方的 +u。假设我们有数字`1,2,3` -`a_0 = 0, a_1 = 1, a_2 = 1, a_3 = 1`

*   `res = 0`

*   `P(x) = x + x^2 + x^3`

*   `Q(x) = x^2 +2x^3+3x^4+2x^5+x^6`

*   减去后`b_2 = 0, b_3 = 2, b_4 = 2, b_5 = 2, b_6 = 0`

*   `res += 0*1/2 + 2*1/2 + 2*0/2 + 2*0/2 + 6*0/2 = 1`

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-12T20:02:25.977

另一种可能性（谁能理解面试官的想法？）将等式重写为：

```
 x^2 + y^2 = z^2
 x^2 = z^2 - y^2 = (z-y)(z+y) 
```

如果我们知道 x^2 的素数分解，那么我们可以简单地将所有可能的因式分解成一对数字 p,q（p < q）并计算

```
 x^2 = p.q = (z-y)(z+y)
 p+q = (z-y)+(z+y) = 2z
 q-p = (z+y)-(z-y) = 2y
 z = (p+q)/2
 y = (q-p)/2 
```

所以给定一个因式分解 x^2=pq 我们可以计算出 z 和 y 值。通过将所有整数值放入一个集合中，我们可以在 O(1) 时间内检查每个可能的答案（每次检查），通过查看这些 z,y 值是否在数组中（注意也检测到负值） .

[维基百科说](http://en.wikipedia.org/wiki/Divisor)一个随机选择的整数大约有 log(n) 除数，所以这应该需要大约 n.log(n) 假设你可以足够快地进行因式分解（例如，如果你知道所有整数都低于一百万，你可以预先计算一个数组每个整数的最小因子）。

# oracle - Ibatis 和 Oracle 限制结果集

> ID：10976858
> 
> 赞同：1
> 
> 时间：2012-06-11T08:45:39.833
> 
> 标签：oracle, ibatis

我必须更改 Ibatis 中的 sql 映射，并且我想将每个 Tipe“列表”的结果集限制为 1000 行。

我试过这个：

```
<select id="list" parameterClass="common.dto.Dto" resultClass="common.Entity">
        SELECT *
        FROM table SOC
        LEFT OUTER JOIN SOCIETASEP SEP
        ON SEP.COSOCIETA = SOC.CODSOCIETA

        <dynamic prepend="WHERE">

        ROWNUM&lt;=1000

    <isNotEmpty prepend="AND" property="ragSoc">
        DSRAGSOC LIKE UPPER(#ragSoc#) || '%'
    </isNotEmpty>
        </dynamic>
</select> 
```

但不起作用。何插入静态条件？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T18:41:09.350

尝试更换：

```
ROWNUM&lt;=1000 
```

经过：

```
<![CDATA[ ROWNUM <= 1000 ]]> 
```

像这样的东西：

```
<select id="list" parameterClass="common.dto.Dto" resultClass="common.Entity">
        SELECT *
        FROM table SOC
        LEFT OUTER JOIN SOCIETASEP SEP
        ON SEP.COSOCIETA = SOC.CODSOCIETA
        where       
<![CDATA[ ROWNUM <= 1000 ]]>

    <isNotEmpty prepend="AND" property="ragSoc">
        DSRAGSOC LIKE UPPER(#ragSoc#) || '%'
    </isNotEmpty>

</select> 
```

HTH。

# c# - C# 套接字。只能接收第一条消息

> ID：10976867
> 
> 赞同：1
> 
> 时间：2012-06-11T08:46:13.607
> 
> 标签：c#, sockets

我在弄清楚为什么我只收到来自我的计算机上运行的服务器应用程序（LocalHost）的一个回复时遇到了一些麻烦。我没有此服务器应用程序的源代码，但它是一个 java 应用程序。发送的消息是 xml 结构，并且必须以 EoT 标记结尾。

通讯：

1.  客户端连接到服务器。
2.  客户端向服务器发送消息。
3.  服务器将收到的消息发送给客户端。
4.  客户端向服务器发送消息。
5.  服务器发送一个传输结束字符。
6.  客户端向服务器发送消息。
7.  服务器发送一个传输结束字符。

这是我的客户端连接、发送和接收的方式：

```
public bool ConnectSocket(string server, int port)
{
System.Net.IPHostEntry hostEntry = null;

    try
    {
        // Get host related information.
        hostEntry = System.Net.Dns.GetHostEntry(server);
    }
    catch (System.Exception ex)
    {
            return false;
    }

    // Loop through the AddressList to obtain the supported AddressFamily. This is to avoid
    // an exception that occurs when the host IP Address is not compatible with the address family
    // (typical in the IPv6 case).
    foreach (System.Net.IPAddress address in hostEntry.AddressList)
    {
            System.Net.IPEndPoint ipe = new System.Net.IPEndPoint(address, port);
            System.Net.Sockets.Socket tempSocket = new System.Net.Sockets.Socket(ipe.AddressFamily, System.Net.Sockets.SocketType.Stream, 
                                                                                 System.Net.Sockets.ProtocolType.Tcp);
            tempSocket.Connect(ipe);

            if (tempSocket.Connected)
            {
                m_pSocket = tempSocket;
                m_pSocket.NoDelay = true;
                return true;
            }
            else
                continue;
        }
        return false;
    }
}

public void Send(string message)
{
    message += (char)4;//We add end of transmission character
    m_pSocket.Send(m_Encoding.GetBytes(message.ToCharArray()));
}

private void Recive()
{
    byte[] tByte = new byte[1024];
    m_pSocket.Receive(tByte);
    string recivemessage = (m_Encoding.GetString(tByte));
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T08:53:38.533

您的`Receive`代码看起来非常错误；您永远不应该假设数据包以与服务器发送消息相同的结构到达 - TCP 只是一个流。所以：您**必须**从 , 中捕获返回`Receive`，以查看您收到了多少字节。它可以是一条消息的一部分、一条完整的消息、多条完整的消息，或者是一条消息的后半部分和下一条消息的前半部分。通常，您需要某种“框架”决策，这可能意味着“消息由 LF 字符分割”，或者可能意味着“每条消息的长度以网络字节顺序整数为前缀，4 个字节”。这通常意味着你需要缓冲直到你有一个完整的帧，**并**担心缓冲区末尾的备用数据是下一帧的一部分。但是要添加的关键位：

```
int bytes = m_pSocket.Receive(tByte);
// now process "bytes" bytes **only** from tByte, nothing that this
// could be part of a message, an entire message, several messages, or
// the end of message "A", the entire of message "B", and the first byte of
// message "C" (which might not be an entire character) 
```

特别是，对于文本格式，在确定缓冲了整个消息之前，您**无法**开始解码，因为多字节字符可能会在两条消息之间拆分。

您的接收循环中也可能存在问题，但您没有显示（没有调用`Receive`），因此我们无法发表评论。

# android - 如何让我的 .apk 签名以在 android 中发布

> ID：10976868
> 
> 赞同：0
> 
> 时间：2012-06-11T08:46:17.837
> 
> 标签：android, keystore, signed

我想让签名的 .apk 在 android 市场上发布。我遵循的步骤是

1.  使用名称键创建一个文件夹并将 .apk 保存在其中。
2.  然后右键Project->android tools->export the signed .apk
3.  然后按照所有说明进行操作。

但是当我在所有更改后单击完成按钮时，它会给出错误

```
java.io.IOExeption:Invalid key formate 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T09:18:33.517

在 Eclipse 中，右键单击项目，然后单击 Android 工具 -> 导出签名的应用程序包。

然后只需创建自己的签名密钥，或者使用现有的签名密钥（如果有的话）。

# php - 如何解决我的 sql 手册中的错误？

> ID：10976870
> 
> 赞同：0
> 
> 时间：2012-06-11T08:46:22.017
> 
> 标签：php, sql

我在运行我的程序时在我的 sql 中遇到这样的错误，我该如何解决这个错误？

> 错误：您的 SQL 语法有错误；查看与您的 MySQL 服务器版本相对应的手册，了解在 's'、's'、's'、's'、's'、's'、's'、's')' 附近使用的正确语法在第 3 行

这是我使用的语法。

```
<?php 
    include('config.php');
    ERROR_REPORTING("E_ALL");
?>
<html xmlns="http://www.w3.org/1999/xhtml">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>AVAYA</title>
    <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" />

</head>
<body>
<div id="page" class="shell">
<div id="mainWrapper"> 
<div id="top">
        <div class="cl">&nbsp;</div>
        <h1><img src="css/images/dtsi-logo.jpg"></h1>
        <div class="cl">&nbsp;</div>
<div>
<?php include_once("template_header.php");?>
</div>

    </div>

<?php
$host="localhost"; // Host name 
$username="<myusername>"; // Mysql username 
$password="<mypassword>"; // Mysql password 
$db_name="inventory"; // Database name 
$tbl_name="avaya_pabx"; // Table name

mysql_connect("$host", "$username", "$password")or die("cannot connect"); 
mysql_select_db("$db_name")or die("cannot select DB");

$con = mysql_connect("localhost","root","");
if (!$con)
  {
  die('Could not connect: ' . mysql_error());
  }
mysql_select_db("inventory", $con);

$addavaya="INSERT INTO avaya_pabx
(item_no, critical_spare_id, serial_no, comcode, version, circuit_pack, classification, location, availability)
VALUES ('". $_POST['item_no'] . ", '". $_POST['critical_spare_id'] . "', '" . $_POST['serial_no']. "', '". $_POST['comcode'] . "','". $_POST['version'] . "','". $_POST['circuit_pack'] . "','". $_POST['classification'] . "','". $_POST['location'] . "', '". $_POST['availability'] . "')";

$result = mysql_query($addavaya,$con);

if (!$result) 
  {
  die('Error: ' . mysql_error());
  }
echo "1 record added";

mysql_close($con);

?>

<br /><a href='avayatable.php'><input type=button class='classname' value='Back'></a>

<?php include_once("template_footer.php");?>
</div>
<br />

</div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:49:55.230

你好 SQL 注入...

尝试使用 PDO 而不是这种方法

[http://php.net/manual/en/book.pdo.php](http://php.net/manual/en/book.pdo.php)

但是，您的问题的解决方案是您的值中的第一个变量必须是这样的

```
 VALUES ('". $_POST['item_no'] . "', 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:49:00.517

您在一开始就缺少报价：

```
VALUES ('". $_POST['item_no'] . ", ... 
```

应该：

```
VALUES ('". $_POST['item_no'] . "', ... 
```

你应该看看PHP中的[PDO Exceptions](http://uk3.php.net/manual/en/ref.pdo-mysql.php)`mysql_` -扩展正在被弃用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-11T08:49:25.960

您在第一个值中缺少右引号：

```
VALUES ('". $_POST['item_no'] . ", 
```

应该是这样的：

```
VALUES ('". $_POST['item_no'] . "', 
```

# yii - Yii 框架菜单中的特殊字符

> ID：10976876
> 
> 赞同：1
> 
> 时间：2012-06-11T08:46:41.457
> 
> 标签：yii, special-characters, menuitem

我正在使用 Yii 框架开发一个 CMS。在开发主题时，我遇到了问题。在菜单中我有一些特殊字符（该网站是意大利语的）。特殊字符的 HTML 标记不适用于菜单项。如果我把角色本身放进去，它看起来会有所不同。这是我的代码：

```
<div class="horizontal-menu">
     <?php $this->widget('zii.widgets.CMenu',array(
       'items'=>array(
            array('label'=>'LE ATTIVIT&Agrave;', 'url'=>array('/site/page', 'view'=>'attivita')),
            array('label'=>'NEWS', 'url'=>array('/site/page', 'view'=>'news')),
        ),
    )); ?> 
```

`LE ATTIVITÀ`是制造问题的人。如何在这里显示特殊字符？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:51:49.893

[CMenu](http://www.yiiframework.com/doc/api/1.1/CMenu/)的标签默认是 HTML 编码的，所以你应该使用`array('label'=>'LE ATTIVITÀ', 'url'=>array('/site/page', 'view'=>'attivita')),`.

`encodeLabel`但是，如果您必须在代码中使用 HTML 编码的字符串，您可以通过将 设置为 false来关闭编码，如下所示`$this->widget('zii.widgets.CMenu',array( 'items'=>array(), 'encodeLabel'=>false, ),`

# vtd-xml - vtd-xml：自动驾驶仪：declareVariableExpr

> ID：10976882
> 
> 赞同：1
> 
> 时间：2012-06-11T08:47:32.487
> 
> 标签：vtd-xml

Java VTD-XML 具有以下 API

```
class AutoPilot{
    declareVariableExpr(java.lang.String varName, java.lang.String varExpr);
}
Register the binding between a variableExpr name and variableExpr expression 
```

我已经成功地将它用于简单的变量绑定，例如：

```
abc => "some value" 
```

Autopilot 可以运行类似的表达式

```
ap.selectXpath("concat(/a/b/text(),  $abc)");
ap.evalXPathToString() 
```

我的问题是：

API 说它将一个变量绑定到一个变量表达式。 **如何绑定到变量表达式？绑定到“表达式”的用途是什么？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T04:38:54.887

尝试这个。ap.declareVariableExpr("my_expr","/a/b/c");

# arrays - 从 json 加载数据

> ID：10976887
> 
> 赞同：0
> 
> 时间：2012-06-11T08:48:03.220
> 
> 标签：arrays, extjs, combobox, store

我有可用的数据我想像这样加载：

```
{
"success": true,
"message": null,
"total": null,
"data": [{
    "clockTypes": ["_12", "_24"],
    "speedTypes": ["MPH", "KMPH"],
    "scheduleTypes": ["DEFAULT", "AUTO"]
}]} 
```

我通常会像这样加载数据

```
Ext.define('MyApp.store.comboTimezone', {
extend: 'Ext.data.Store',

constructor: function(cfg) {
    var me = this;
    cfg = cfg || {};
    me.callParent([Ext.apply({
        autoLoad: true,
        storeId: 'MyJsonStore5',
        proxy: {
            type: 'ajax',
            url: 'json/timezone.json',
            reader: {
                type: 'json',
                root: 'data'
            }
        }
    }, cfg)]);
}}); 
```

现在我是否将时钟类型作为我的组合框中的一条记录。如何在我的组合框中获得两条记录：_12 和 _24？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T09:07:19.403

你`root`应该是......`data.clockTypes`我 - 认为 - （虽然我不确定这是否可行。）

劫持 ajax 调用来加载数据有点尴尬，因为这不是商店消费的真正正确格式（是吗？）

理想情况下，您想要...

```
{
"success": true,
"message": null,
"total": null,
"data": [{
   name: "_12", name:"_24"]
}]}

constructor: function(cfg) {
var me = this;
cfg = cfg || {};
me.callParent([Ext.apply({
    autoLoad: true,
    storeId: 'MyJsonStore5',
    valueField:'name',
    displayField:'name',
    proxy: {
        type: 'ajax',
        url: 'json/timezone.json',
        reader: {
            type: 'json',
            root: 'data'
        }
    }
}, cfg)]);
}}); 
```

虽然这确实意味着你最终会得到更多的 ajax 调用。或者，如果你已经下定决心从 1 个 ajax 调用中填充 3 个组合框（我有点猜这是你想要做的），那么你需要根据来自 Ext.request( )

但是，如果您不能弄乱数据，那么我们可以...

```
 Ext.define('MyApp.store.comboTimezone', {
    extend: 'Ext.data.Store',

    constructor: function(cfg) {
        var me = this;
        cfg = cfg || {};
        Ext.define('TZ', extend: 'Ext.data.Model',
        fields: [{
            name: 'name'
        }])
        me.callParent([Ext.apply({
            autoLoad: true,
            model: 'TZ',
            storeId: 'MyJsonStore5',
            proxy: {
                type: 'ajax',
                url: 'json/timezone.json',
                reader: {
                    type: 'json',
                    root: 'data'
                }
            }
        }, cfg)]);
        //hacky, but works i guess
        Ext.Ajax.request({
            url: 'my.json',
            success: function(response) {
                var text = response.responseText;
                var json = Ext.JSON.decode(text);
                for(var i =0);i<json.data.lenght();i++;){
                    Ext.data.StoreManager.lookup('MyJsonStore5').add(Ext.create('TZ',{name:json.data[i]}))
                }
            }
        });
    }
}); 
```

*禁止产生错误的错别字。

基本上，您调用 url，将数据作为原始 json 获取，然后将其处理为您的商店可以读取的格式。

不幸的是，这有点骇人听闻。

# jquery - 数据表 AJAX 请求错误

> ID：10976888
> 
> 赞同：0
> 
> 时间：2012-06-11T08:48:08.173
> 
> 标签：jquery, jsp, servlets, datatables

我正在使用带有来自表单的信息的服务器端处理的 DataTables。在表单提交数据表时发送一个 Ajax 请求，该请求由 Java Servlet 处理。

在遇到一些问题后，我决定开始使用 Firebug。当我单击提交按钮时，萤火虫返回以下与 Jquery 相关的错误：

```
// Do send the request
// This may raise an exception which is actually
// handled in jQuery.ajax (so no try/catch here)
xhr.send( ( s.hasContent && s.data ) || null ); 
```

当我使用 Firebug 重新发送请求时，请求被正确处理，这意味着一个 JSON 响应被发送到浏览器。

我感觉调用的顺序有问题，比如 servlet 没有准备好或类似的东西，这可以解释为什么重新发送请求会成功。虽然我不确定。

数据表jQuery代码：

```
$(document).ready(function() {
    $("#searchResults").dataTable({
        "bJQueryUI": true
        });
    $('.searchsubmit').click(function() {
        var formData = $('form').serialize();
        $("#searchResults").dataTable({
            "bDestroy": true,
            "bProcessing": true,
            "bServerSide": true,
            "sAjaxSource": 'Search',
            "sServerMethod": "POST",
            "aoColumns": [
                          { "mDataProp": "messagecaseid" },
                          { "mDataProp": "messagesubject" },
                          { "mDataProp": "messagesender" },
                          { "mDataProp": "messagereceiver" }
                      ],
            "fnServerParams": function ( aoData ) {
                aoData.push({"name": "formData", "value": formData}
                        );
            }
        });
    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T08:25:02.380

在 onClick 方法中将返回值设置为 false，这样页面就不会刷新并且 Datatables 有机会填充表格。

# php - VB 类流的 PHP 等价物是什么？

> ID：10976893
> 
> 赞同：2
> 
> 时间：2012-06-11T08:48:46.037
> 
> 标签：php, vb.net, stream

如本 MSDN 页面所述

[http://msdn.microsoft.com/en-us/library/system.io.stream.aspx](http://msdn.microsoft.com/en-us/library/system.io.stream.aspx)

什么是 PHP 等价物？

是否可以执行该页面上**备注下列出的三件事**

> *流涉及三个基本操作：*
> 
> 1.  您可以从流中读取。读取是将数据从流传输到数据结构中，例如字节数组。
>     
>     
> 2.  您可以写入流。写入是将数据从数据结构传输到流中。
>     
>     
> 3.  流可以支持搜索。查找是查询和修改流中的当前位置。查找能力取决于流所具有的后备存储类型。例如，网络流没有统一的当前位置概念，因此通常不支持查找。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-11T08:51:34.413

[PHP 流](http://www.php.net/manual/en/intro.stream.php)呢？他们几乎完全支持您似乎正在寻找的东西。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T09:13:27.187

PHP 没有通用类来处理这个问题，它有一个你可能不习惯使用的数据类型——[资源](http://www.php.net/manual/en/language.types.resource.php)。

资源可用于保存流的文件描述符。它们被用于各种各样的地方，包括文件系统描述符、网络流、维护数据库连接甚至数据库结果集。它们还用于维护上下文信息，这种类型的资源*不是*流，而是更像数据存储。仅使用 PHP 无法定义您自己的资源类型，它们是底层 C++ 代码的一部分。

在许多方面，资源的行为就像一个对象的实例，最好以这种方式来考虑它们（尽管它们不能像对象一样被序列化或在进程之间传递）。然而，重要的是要注意，PHP*不是*一种面向对象的语言——它是一种提供许多 OO 特性的脚本语言，忘记这一点后果自负。system.io.stream 提供的方法的功能是在 PHP 中通过接受流资源作为参数的过程函数提供的，而您应该使用哪些函数取决于您使用的流类型。

大多数流资源类型（但不是全部 - 一个值得注意的例外是由[套接字](http://php.net/manual/en/book.sockets.php)扩展创建的那些）可以由 等人读取和[`fread()`](http://php.net/manual/en/function.fread.php)写入[`fwrite()`](http://php.net/manual/en/function.fwrite.php)。流“扩展”（在所有新的 PHP 安装[中](http://php.net/manual/en/book.stream.php)默认启用很长时间）试图提供一个通用层来创建、访问和操作各种不同类型的流，但它有其局限性：

*   某些功能不适用于指向标准文件描述符或 Windows 上的外部进程的流（请参阅 参考资料[`stream_select()`](http://uk.php.net/manual/en/function.stream-select.php)）
*   虽然流扩展提供了套接字扩展所做的大部分功能，但它并没有提供所有功能（例如多播客户端）
*   由于 PHP 的单线程同步特性，非阻塞多 IO 是一个完整的 PITA 来实现。这不是流的限制，而是 PHP 本身的限制。
*   *【其他过去一直困扰着我的局限，暂时想不出来】*

如果您想以正确的 OO 方式处理流，则必须编写一个包装过程函数调用的类。

# javascript - 将字符串转换为 JSON 对象

> ID：10976897
> 
> 赞同：169
> 
> 时间：2012-06-11T08:49:10.763
> 
> 标签：javascript, ajax, json

你如何让 JS 认为一个字符串是 JSON ？

我有一个函数，只有当 JSON 对象传递给它时才有效。如果我向它传递一个与 JSON 格式相同的字符串，它就不起作用。所以我想让那个函数认为传递给它的字符串是一个 JSON。该字符串确实是 JSON 格式。

我还尝试了以下方法。我通过 Ajax 输入了字符串，“handle as”参数为“JSON”，然后当我将结果传递给它工作的函数时。

所以我推断问题不在于字符串。如何将此字符串转换为 JSON？如果我通过 ajax 请求获得相同的字符串，然后将其传递给函数，则直接传递它不起作用。

字符串如下：

```
 {
     "data": [
   {
  "id": "id1",
      "fields": [
        {
          "id": "name1",
          "label": "joker",
          "unit": "year"
        },
         {"id": "name2", "label": "Quantity"},
    ],
      "rows": [    data here....

and closing braces.. 
```

* * *

## 回答 #1

> 赞同：389
> 
> 时间：2012-06-11T08:51:29.987

```
var obj = JSON.parse(string); 
```

`string`你的 json 字符串在哪里。

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2012-06-11T08:50:22.947

你可以使用`JSON.parse()`它。

[请参阅 MDN 上的文档](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/JSON/parse)

**例子：**

```
var myObj = JSON.parse('{"p": 5}');
console.log(myObj); 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-06-11T08:52:27.413

```
var obj = jQuery.parseJSON('{"name":"John"}');
alert( obj.name === "John" ); 
```

关联：-

[http://api.jquery.com/jQuery.parseJSON/](http://api.jquery.com/jQuery.parseJSON/)

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2014-01-17T00:51:31.060

我对像你这样的类似字符串也有同样的问题

```
{id:1,field1:"someField"},{id:2,field1:"someOtherField"} 
```

这里的问题是字符串的结构。在这种情况下，json 解析器没有认识到它需要创建 2 个对象。所以我所做的有点傻，我只是重新构造了我的字符串并添加`[]`了解析器识别的这个

```
var myString = {id:1,field1:"someField"},{id:2,field1:"someOtherField"}
myString = '[' + myString +']'
var json = $.parseJSON(myString) 
```

希望能帮助到你，

如果有人有更优雅的方法，请分享。

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2017-10-15T06:44:43.830

只需使用`eval`功能。

```
var myJson = eval(theJsibStr); 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2019-09-03T06:14:01.257

使用 Object Mapper 将字符串转换为 HashMap ...

`new ObjectMapper().readValue(string, Map.class);`

内部 Map 将表现为 JSON 对象

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2017-04-03T05:49:09.737

```
var Data=[{"id": "name2", "label": "Quantity"}] 
```

将字符串变量传递给 Json parse ：

```
Objdata= Json.parse(Data); 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2018-05-29T12:20:48.170

让我们考虑一下你有类似的字符串

示例：**“姓名：露西，年龄：21，性别：女性”**

```
function getJsonData(query){
    let arrayOfKeyValues = query.split(',');
    let modifiedArray =  new Array();
    console.log(arrayOfKeyValues);
    for(let i=0;i< arrayOfKeyValues.length;i++){
        let arrayValues = arrayOfKeyValues[i].split(':');
        let arrayString ='"'+arrayValues[0]+'"'+':'+'"'+arrayValues[1]+'"';
        modifiedArray.push(arrayString);
    }
    let jsonDataString = '{'+modifiedArray.toString()+'}';
    let jsonData = JSON.parse(jsonDataString);
    console.log(jsonData);
    console.log(typeof jsonData);
    return jsonData;
}

let query = "name:lucy,age:21,gender:female";
let response = getJsonData(query);
console.log(response);
```

`

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-02-03T08:06:25.657

`JSON.parse()`功能会做。

或者

使用 Jquery，

```
var obj = jQuery.parseJSON( '{ "name": "Vinod" }' );
alert( obj.name === "Vinod" ); 
```

# javascript - 新手/初学者 Javascript 请求

> ID：10976898
> 
> 赞同：3
> 
> 时间：2012-06-11T08:49:17.423
> 
> 标签：javascript, greasemonkey

## HTML 代码：

```
<td>
<img src="../images/items/333.png"><br>
<b>Product One</b><br>
(2 in stock)<br>
<i>65 USD</i><br>
<form action="shopping.php?shop=1&amp;item=333&amp;price=65&amp;buy=conf&amp;type=" method="post">
<input name="" value="Buy this item" type="submit">
</form></td>

<td>
<img src="../images/items/444.png"><br>
<b>Product Two</b><br>
(4 in stock)<br>
<i>5 USD</i><br>
<form action="shopping.php?shop=1&amp;item=444&amp;price=5&amp;buy=conf&amp;type=" method="post">
<input name="" value="Buy" type="submit">
</form></td> 
```

这是我正在处理的页面上的 html 代码，无法更改 html 代码。
页面上有几个 td 标记，其中包含您在上面的代码中看到的以下信息。

## 我想写一个脚本来做这样的事情：

```
if (document.body.innerHTML.indexOf("Product One") > -1) {
document.location = "shopping.php?shop=1&amp;item="+itemID+"&amp;price="+USD+"&amp;buy=conf&amp;type="
} 
```

在页面的 body/td 中搜索我的脚本中指定的“产品名称”，如果找到，则转到包含需要提取的变量 itemID 和 USD 的 url。

***itemID***通过取数字从 image.png 的 src 中提取。例如，itemID`../images/items/444.png`为 444。

***美元***是从斜体标签之间定义的价格中提取的。例如，提取的美元值为`<i>5 USD</i>`5。

## 捕获是

我需要**很多**来`if (document.body.innerHTML.indexOf("Name") > -1) {document.location = "shopping.php?shop=1&amp;item="+itemID+"&amp;price="+USD+"&amp;buy=conf&amp;type="}`迎合我指定的大量产品。我可能想指定“产品一到一百”和“子产品 A 到 Z”

## 解决方案

我想到的一些处理方法（需要放入javascript代码）是：

1.  将我将指定的产品列表放入一个数组（类似的东西）`var list = new Array ("Product One","Product Two","Sub-Product A");`，并让一个函数检查页面是否存在来自该数组的任何产品，该数组显示在页面上。
2.  找到商品后，要获取itemID，将商品的图片src中`.png`前后的数字分离出来。`/items/`而要获取美元，则获取`<i> </i>`标签之间的值，并且只取数值
3.  为此，我认为`nextSibling`或`previousSibing`可以使用，但我对此不太确定。
4.  或者，为了更容易，可以有一个函数来立即定位表单的操作值并设置`window.location`因为`<form action="shopping.php?shop=1&amp;item=444&amp;price=5&amp;buy=conf&amp;type=" method="post">`
5.  我在使用 XPath 之前已经看到过这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T09:54:06.260

使用 jQuery 并不难——特别是如果我们将它扩展为搜索不区分大小写的正则表达式。

以下脚本应该与问题中的 HTML 结构一起使用，**如果它是精确准确**的并且不是由 AJAX 添加的。请注意正则表达式在针对产品描述时提供的功能。

**您可以[在 jsFiddle 查看底层代码](http://jsfiddle.net/3Yc5Y/1/)。**

```
// ==UserScript==
// @name     _Auto-follow targeted product links.
// @include  http://YOUR_SERVER.COM/YOUR_PATH/*
// @require  http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js
// ==/UserScript==

var targetList  = [
    "Shoes, pumps",
    "Horse shoes",
    "(?:Red|Pink|Burgundy)\\s+shoes?"
];

/*--- Extend jQuery with a case-insensitive version of contains().
    Also allows regular expressions.
*/
jQuery.extend (
    jQuery.expr[':'].containsCI = function (a, i, m) {
        //--- The next is faster than jQuery(a).text()...
        var sText   = (a.textContent || a.innerText || "");     

        var zRegExp = new RegExp (m[3], 'i');

        return zRegExp.test (sText);
    }
);

$.each (targetList, function (index, value) { 
    var jqSelector          = 'td > b:containsCI("' + value + '")';
    var productFound        = $(jqSelector);
    if (productFound.length) {
        var matchingForm    = productFound.first ().nextAll ("form");
        if (matchingForm.length) {
            alert (productFound.text () );
            document.location   = matchingForm.attr ("action");
        }
    }
} ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T09:53:36.323

这是一个不依赖外部库（如 jQuery）的解决方案：

```
function findProducts(referenceList) {  
  var productsOnPage = {}, listMatches = {},
      tds = document.getElementsByTagName("TD"),
      bold, form, i, productName, productUrl;

  // build an index of products on the page (HTML scraping)
  for (i = 0; i < tds.length; i++) {
    bold = tds[i].getElementsByTagName("B")[0];
    form = tds[i].getElementsByTagName("FORM")[0];

    if (bold && form) {
      productName = bold.innerHTML.toLowerCase();
      productUrl  = form.action;

      productsOnPage[productName] = productUrl;
    }
  }

  // match reference list against all available products on the page
  for (i = 0; i < referenceList.length; i++) {
    productName = referenceList[i].toLowerCase();
    productUrl  = productsOnPage[productName];

    listMatches[productName] = productUrl;
  }

  return listMatches;
} 
```

叫它：

```
var availableProducts = findProducts(["Product One","Product Two","Sub-Product A"]); 
```

之后，您将拥有一个`availableProducts`如下所示的对象：

```
{
  "product one": "shopping.php?shop=1&item=333&price=65&buy=conf&type=",
  "product two": "shopping.php?shop=1&item=444&price=5&buy=conf&type=",
  "sub-product a": undefined
} 
```

请注意，所有键都是小写的，以使字符串比较保持一致。查找您将使用的产品

```
function navigateIfAvailable(productName) {
  var url = availableProducts[productName.toLowerCase()];

  if (url) document.location = url;
} 
```

现在

```
navigateIfAvailable("Product Two"); 
```

会去某个地方。或不。

# java - Play 框架中的“groovy.lang.MissingFieldException：没有这样的字段：类的元类：java.lang.Class”错误

> ID：10976899
> 
> 赞同：0
> 
> 时间：2012-06-11T08:49:19.530
> 
> 标签：java, groovy, playframework, playframework-1.x

我们在我们的 ubuntu CI 服务器 Java 7 上运行 play 1.2.4（ [mbknor-3版本）。](https://github.com/mbknor/play/tree/1.2.4-mbknor-custom-release)

今天，不知何故，我们开始在所有分支上都出现这些错误，即使是那些没有提交代码并且之前的构建已成功完成的分支。

当我这样做时，错误正在发生`play start`，然后`curl localhost:9000`。我已经尝试运行`play clean`and`play deps --sync`并重新启动服务器，并且还验证了服务器没有用完硬盘空间。

知道是什么原因造成的吗？如何调试它？

```
2012-06-11 08:47:51,255 INFO  (play) ~ Starting /home/ubuntu/programs/teamcity/buildAgent/work/a9561c50f06f33d5/portal/src
2012-06-11 08:47:51,259 INFO  (play) ~ Module less is available (/home/ubuntu/programs/teamcity/buildAgent/work/a9561c50f06f33d5/portal/src/modules/less-0.9)
2012-06-11 08:47:51,260 INFO  (play) ~ Module secure is available (/home/ubuntu/programs/play/play-1.2.4-mbknor-3/modules/secure)
2012-06-11 08:47:51,261 INFO  (play) ~ Module crud is available (/home/ubuntu/programs/play/play-1.2.4-mbknor-3/modules/crud)
2012-06-11 08:47:53,608 DEBUG (com.asual.lesscss.LessEngine) ~ Initializing LESS Engine.
2012-06-11 08:47:53,945 DEBUG (com.asual.lesscss.LessEngine) ~ Using implementation version: Rhino 1.7 release 3 2011 07 19
2012-06-11 08:47:55,396 WARN  (play) ~ You're running Play! in DEV mode
2012-06-11 08:47:55,716 INFO  (play) ~ Listening for HTTP on port 9000 (Waiting a first request to start) ...
2012-06-11 08:48:04,566 ERROR (play) ~

@6ajlb3agi
Internal Server Error (500) for request GET /

Oops: ExceptionInInitializerError
An unexpected error occured caused by exception ExceptionInInitializerError: null

play.exceptions.UnexpectedException: Unexpected Error
        at play.Invoker$Invocation.onException(Invoker.java:244)
        at play.Invoker$Invocation.run(Invoker.java:286)
        at Invocation.HTTP Request(Play!)
Caused by: java.lang.ExceptionInInitializerError
        at play.templates.TemplateLoader.load(TemplateLoader.java:78)
        at play.mvc.Router.parse(Router.java:162)
        at play.mvc.Router.parse(Router.java:190)
        at play.mvc.Router.parse(Router.java:164)
        at play.mvc.Router.load(Router.java:48)
        at play.mvc.Router.detectChanges(Router.java:219)
        ... 1 more
Caused by: groovy.lang.MissingFieldException: No such field: metaClass for class: java.lang.Class
        at groovy.lang.MetaClassImpl.getAttribute(MetaClassImpl.java:1074)
        at groovy.lang.MetaClassImpl.getStaticProperty(MetaClassImpl.java:1308)
        at groovy.lang.MetaClassImpl.getProperty(MetaClassImpl.java:707)
        at org.codehaus.groovy.runtime.Invoker.getProperty(Invoker.java:727)
        at org.codehaus.groovy.runtime.InvokerHelper.getProperty(InvokerHelper.java:206)
        at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.getProperty(ScriptBytecodeAdapter.java:295)
        at Script1.run(Script1.groovy:1)
        at groovy.lang.GroovyShell.evaluate(GroovyShell.java:521)
        at groovy.lang.GroovyShell.evaluate(GroovyShell.java:496)
        at play.templates.GroovyTemplate.<clinit>(GroovyTemplate.java:62)
        ... 7 more
2012-06-11 08:48:04,569 ERROR (play) ~ Error during the 500 response generation
java.lang.NoClassDefFoundError: Could not initialize class play.templates.GroovyTemplate
        at play.templates.TemplateLoader.load(TemplateLoader.java:78)
        at play.templates.TemplateLoader.load(TemplateLoader.java:172)
        at play.server.PlayHandler.serve500(PlayHandler.java:778)
        at play.server.PlayHandler$NettyInvocation.run(PlayHandler.java:237)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
        at java.util.concurrent.FutureTask.run(FutureTask.java:166)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
        at java.lang.Thread.run(Thread.java:722) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T12:47:30.537

这是一个奇怪的问题，但我有一个解决方案。

该问题似乎是由与`- groovy -> groovy-all-1.0-jsr 05`依赖项的 jar 冲突引起的。

1.  很久以前，我将此依赖项添加到我的项目中，以便从我的项目中运行 groovy 脚本。
2.  从那时起，我的项目似乎不再需要这种依赖关系。
3.  事实上，我的项目构建已经忽略了这种依赖关系已经有一段时间了：

> :: 问题总结 :: :::: 警告 :::::::::::::::::::::::::::::::::::::::: ::::::::
> 
> ```
>  ::          UNRESOLVED DEPENDENCIES         ::
> 
>   ::::::::::::::::::::::::::::::::::::::::::::::
> 
>   :: groovy#groovy-all-1.0-jsr;05: java.text.ParseException: 
> ```
> 
> 在“http://repo1.maven.org/maven2/groovy/groovy-all-1.0-jsr/05/groovy-all-1.0-jsr-05.pom”中发现不一致的模块描述符文件：错误的模块名称：预期= 'groovy-all-1.0-jsr' 找到='groovy-all'; 错误的修订：预期='05' found='1.0-jsr-05';
> 
> ```
>  :::::::::::::::::::::::::::::::::::::::::::::: 
> ```
> 
> :::: 错误 mavenCentral：在 [http://repo1.maven.org/maven2/groovy/groovy-all-1.0-jsr/05/groovy-all-1.0-jsr-05.pom](http://repo1.maven.org/maven2/groovy/groovy-all-1.0-jsr/05/groovy-all-1.0-jsr-05.pom)中找到错误的模块名称：预期= 'groovy-all-1.0-jsr 找到='groovy-all'
> 
> ```
>  mavenCentral: bad revision found in 
> ```
> 
> [http://repo1.maven.org/maven2/groovy/groovy-all-1.0-jsr/05/groovy-all-1.0-jsr-05.pom](http://repo1.maven.org/maven2/groovy/groovy-all-1.0-jsr/05/groovy-all-1.0-jsr-05.pom)：预期='05 found='1.0-jsr-05'

1.  昨天，出于某种巫术的原因，在我们的 CI 机器（而不是其他机器）上，这种依赖关系开始正确解析，获取此文件，并导致类加载问题。这相当令人不安，因为我仍然不知道发生了什么变化，而且我有点担心这可能会发生在我们的生产机器上。

该决议正在摆脱这种依赖。

# android - 如何将联系人号码更改为联系人姓名？

> ID：10976911
> 
> 赞同：0
> 
> 时间：2012-06-11T08:50:28.820
> 
> 标签：android, contacts, names, inbox

**有没有办法显示联系人姓名而不是联系人号码？**

此方法返回收件箱中的电话号码，但我需要名称：

**更新：代码从原来的改变。**

**注意：我正在尝试更改联系人号码以在收件箱中显示其相应的联系人姓名。我不想获取所有可用联系人姓名的列表。**

```
public ArrayList<String> fetchInboxNumbers() {

    ArrayList<String> sms = new ArrayList<String>();
    Uri uriSms = Uri.parse("content://sms/inbox");

    Cursor cursor = getContentResolver().query(uriSms,
            new String[] { "_id", "address", "date", "body" }, null, null,                                                              
            null);

    cursor.moveToFirst();
    while (cursor.moveToNext()) {

        String address = cursor.getString(1); // Displays phone number

        sms.add(address);
    }
    return sms;
} // END FETCHINBOX 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:56:29.297

> 有没有办法显示联系人姓名而不是联系人号码？

关注 Snippet 将对您有所帮助。

```
 String whereName = ContactsContract.Data.MIMETYPE + " = ?";
        String[] whereNameParams = new String[] { ContactsContract.CommonDataKinds.StructuredName.CONTENT_ITEM_TYPE };
        Cursor nameCur = contentResolver.query(ContactsContract.Data.CONTENT_URI, null, whereName, whereNameParams, ContactsContract.CommonDataKinds.StructuredName.GIVEN_NAME);
        while (nameCur.moveToNext()) {
            String given = nameCur.getString(nameCur.getColumnIndex(ContactsContract.CommonDataKinds.StructuredName.GIVEN_NAME));
            String family = nameCur.getString(nameCur.getColumnIndex(ContactsContract.CommonDataKinds.StructuredName.FAMILY_NAME));
            String display = nameCur.getString(nameCur.getColumnIndex(ContactsContract.CommonDataKinds.StructuredName.DISPLAY_NAME));
        }
        nameCur.close(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T09:11:41.730

我想添加到@Vipul Shah 的答案。

添加仅包含您需要检索的列的投影不是更好吗？

```
new String [] { ContactsContract.CommonDataKinds.Phone._ID, 
ContactsContract.CommonDataKinds.Phone.NUMBER,
ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME } 
```

问候

# ruby-on-rails - 如何调试 POST 500 内部服务器错误

> ID：10976912
> 
> 赞同：2
> 
> 时间：2012-06-11T08:50:29.097
> 
> 标签：ruby-on-rails

[我正在尝试按照本指南](https://github.com/blueimp/jQuery-File-Upload/wiki/Rails-setup-for-V6)在 Rails 3.2 应用程序上设置 jquery 文件上传。

一切都几乎完美无缺，*但是*，当我点击“开始上传”时，我在 Chrome 的控制台中看到一个错误：

```
POST http://testapp.dev/photos 500 (Internal Server Error) 
```

在我得到的日志中：

```
ActionView::MissingTemplate (Missing template photos/create, application/create with {:locale=>[:en], :formats=>[:js, :html], :handlers=>[:erb, :builder, :coffee]}. 
```

我已经通过带有细齿梳的控制器，但我无法弄清楚是什么导致了这个错误，或者它为什么要寻找一个创建部分。什么是系统的调试方法？

谢谢

*编辑*

我的控制器操作如下所示：

```
class PhotosController < ApplicationController

  def index

   @photos = Photo.all
    respond_to do |format|
      format.html # index.html.erb
      format.xml  { render :xml => @photos }
      format.json { render :json => @photos.collect { |a| a.to_jq_upload }.to_json }
      format.js { render :json => @photos.collect { |a| a.to_jq_upload }.to_json }
    end
  end

  def show
    @photo = Photo.find(params[:id])

    respond_to do |format|
      format.html # show.html.erb
      format.xml  { render :xml => @photo }
      format.json { render :json => @photo }
      format.js   
    end
  end

  def new
    @photo = Photo.new

    respond_to do |format|
      format.html # new.html.erb
      format.xml  { render :xml => @photo }
      format.json { render :json => @photo }
      format.js 
    end
  end

  def edit
    @photo = Photo.find(params[:id])

  end

  def create
    @photo = Photo.new(params[:photo])

    respond_to do |format|
      if @photo.save
        format.html {  
                  render :json => [@photo.to_jq_upload].to_json, 
                  :content_type => 'text/html',
                  :layout => false
                }
        format.json { render :json => [ @photo.to_jq_upload].to_json }
        format.js

      else 
        format.html { render :action => "new" }
        format.xml  { render :xml => @photo.errors, :status => :unprocessable_entity }
        format.json { render :json => [  {:error => "An error was encountered while processing your photos. Please try again."}], status: 304 }
        format.js
      end      
    end
  end

      def update
    @photo = Photo.find(params[:id])

    respond_to do |format|
      if @photo.update_attributes(params[:photo])
        format.html { redirect_to(@photo, :notice => 'Asset was successfully updated.') }
        format.xml  { head :ok }
        format.json { head :ok }
      else
        format.html { render :action => "edit" }
        format.xml  { render :xml => @photo.errors, :status => :unprocessable_entity }
        format.json { render json: @photo.errors, status: :unprocessable_entity }
      end
    end
  end

  # DELETE /assets/1
  # DELETE /assets/1.xml
  def destroy
    @photo = Photo.find(params[:id])
    @photo.destroy

    respond_to do |format|
      format.html { redirect_to(photos_url) }
      format.xml  { head :ok }
      format.json { render :json => true }
      format.js
    end
  end
    end 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-12T04:32:13.627

看起来该`respond_to`块正在`format.js`尝试渲染模板（如果没有提供选项，则为默认值）。

因为您使用的 jQuery-file-upload 插件需要特定的 JSON 响应，所以`respond_to`似乎没有必要使用块，您可以使用以下内容

```
def create
    @photo = Photo.new(params[:photo])

    if @photo.save
        render :json => [ @photo.to_jq_upload].to_json
    else 
        render :json => [{ :error => "An error was encountered while processing your photos. Please try again." }], :status => 304
    end      
end 
```

我还强烈推荐[调试器](http://rubygems.org/gems/debugger)gem，它允许您在应用程序中设置断点，以便您更好地了解正在发生的事情。

要添加`debugger`gem，您需要先将 gem 添加到您的`Gemfile`并从命令行运行`bundle install`。`debugger`接下来，您只需在要设置断点的代码行上添加单词。在你的情况下，你可以做

```
def create
    @photo = Photo.new(params[:photo])
    debugger

    if @photo.save
    # ... rest of code 
```

最后，您需要使用该`--debugger`选项重新启动服务器。当 jQuery-file-upload 插件将请求发布到服务器时，它会遇到断点，您可以更好地分析传递的参数以及单步执行代码以了解正在发生的事情。干杯。

# php - 从 php 执行 bash 脚本并即时输出回网页

> ID：10976915
> 
> 赞同：4
> 
> 时间：2012-06-11T08:50:52.077
> 
> 标签：php, perl, bash, nonblocking

我有一组 bash 和 Perl 脚本

1.  开发在 linux box 上部署所需的目录结构
2.  *（可选）*从 svn 导出代码
3.  从此源构建一个包

这在终端上运行良好。现在我的客户请求此过程的 Web 界面。

例如，某些页面上的“创建新包”按钮将一一调用上述步骤并将输出作为脚本回显返回给用户，而不是在整个脚本执行时返回。

是否可以将 bash 脚本的瞬时输出发送到网页或 php 脚本，该网页或 php 脚本已通过程序执行功能（系统、执行、passthru ...或任何其他适合此流程的东西）调用它？

有什么优雅的为什么要这样做？

在做这样的事情时我应该采取什么安全预防措施（如果可能的话）？

**编辑** 经过一番搜索，我找到了部分解决方案，但仍然无法正常工作：

```
$cmd = 'cat ./password.txt|sudo  -S  ./setup.sh ';

$descriptorspec = array(
        0 => array("pipe", "r"),  // stdin is a pipe that the child will read from
        1 => array("pipe", "w"),  // stdout is a pipe that the child will write to
        2 => array("pipe", "w") // stderr is a pipe that the child will read from
);

flush();

$process = proc_open($cmd, $descriptorspec, $pipes, './', array());
echo "<pre>";
if (is_resource($process)) {    

    while ($s = fgets($pipes[1])) {
        print "Message:".$s;
        flush();
    }
    while ($s = fgets($pipes[2])) {
        print "Error:".$s;
        flush();
    }
}
echo "</pre>"; 
```

**输出：（**网页）

```
Error:WARNING: Improper use of the sudo command could lead to data loss
Error:or the deletion of important system files. Please double-check your
Error:typing when using sudo. Type "man sudo" for more information.
Error:
Error:To proceed, enter your password, or type Ctrl-C to abort.
Error:
Error:Password:
Error:Sorry, try again.
Error:Password:
Error:Sorry, try again.
Error:Password:
Error:Sorry, try again.
Error:sudo: 3 incorrect password attempts** 
```

我现在遇到的第一个问题是通过 sudo 密码

请帮忙 ！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-14T12:27:44.030

我会使用一种主/从设计。从站将是您的 perl / bash 脚本，只是做一项工作（打包、编译、导出代码等），并提供一个日志条目。

主人将是你的 php 进程。所以原理是这样的：主从共享一个通信通道，从那个通道异步通信。

你可以想象一个像这样的数据库：

```
create table tasks ( id INT primary key, status INT, argument VARCHAR(100)); 
```

您的 php 页面应该切换用户选择，并**过滤**输入：

```
switch ($_GET['action']) {
   case 'export':
       $argument = sanitize($_GET['arg']);
       add_task('export', $argument);
       break;
   case '...': 
     // ...
} 
```

add_task 函数可能类似于：

```
function add_task($action, $arg)
{
   return $db->add('tasks', array($action, NEW_TASK, $arg);
} 
```

从站可以通过[cron 作业](http://en.wikipedia.org/wiki/Cron)运行，并查询数据库，提供任务的进展。

专业人士是：

*   独立系统，轻松进化。
*   如果客户端断开连接，则工作永远不会丢失
*   更容易保护

缺点是：

*   一开始有点复杂。
*   反应性较低，因为从属运行的轮询时间（例如，如果它们每 5 分钟运行一次）
*   输出比命令的直接输出少

请注意，您可以实现类似 xml-rpc 的触发器来运行从属服务器，而不是使用消息传递系统。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T09:09:44.953

最简单的方法是使用[shell_exec](http://php.net/manual/de/function.shell-exec.php)来达到您的目的。它通过 shell 执行命令并将完整的输出作为字符串返回，因此您可以将其显示在您的网站上。

如果这不符合您的目的，因为也许您在等待命令完成时需要一些响应，请查看php 中[可用的其他程序执行功能](http://www.php.net/manual/en/ref.exec.php)（提示：手册页上有一些很好的评论）。

请记住，以这种方式调用命令行脚本时，生成的输出将具有您的网络服务器的文件所有者、组和权限（pe wwwrun 或其他）。如果您的部分部署需要单独的所有者、组和/或文件权限，您必须在脚本中或在调用[shell_exec](http://php.net/manual/de/function.shell-exec.php)[`chmod`](http://de2.php.net/manual/en/function.chmod.php)之后手动设置它们（[`chown`](http://de2.php.net/manual/en/function.chown.php)并且[`chgrp`](http://de2.php.net/manual/en/function.chgrp.php)可以在 php 中处理）。

关于安全性：很多基于网络的应用程序都将这种功能放在一个单独的安装目录中，安装后请您删除该目录。我什至记得他们中的一些人非常顽固地对管理员大喊大叫，除非它被删除。这是防止此脚本在错误的时间被错误的人调用的简单方法。如果您的应用程序在安装后可能需要它，那么您必须将其放入只有授权用户才能访问的区域（pe 管理区域或类似的东西）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-15T00:47:33.780

您可以使用[Comet Web 应用程序模型](http://en.wikipedia.org/wiki/Comet_(programming))对结果页面进行实时更新。

对于 sudo 问题，作为一种快速而肮脏的解决方案，我将使用 Web 服务器无需密码即可执行的受限命令集。示例（添加`/etc/sudoers`）：

`apache ALL=(ALL) NOPASSWD: /sbin/service myproject *`

这将允许 apache 运行`/sbin/service myproject stop`，`/sbin/service myproject start`依此类推。

看看[Jenkins](http://jenkins-ci.org/)，它很好地完成了 web 部分，您只需在构建中添加脚本。

[正如Aif](https://stackoverflow.com/users/51760/aif)所建议的，更好的解决方案是分离逻辑。一个等待任务的守护进程和一个可视化结果的 Web 应用程序。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-16T03:35:21.027

通过 PHP 执行系统命令时始终使用[escapeshellarg](http://php.net/manual/en/function.escapeshellarg.php)和[escapeshellcmd以确保安全。](http://www.php.net/manual/en/function.escapeshellcmd.php)还建议尽可能限制用户在 chroot'd 目录中。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-19T17:09:56.403

您似乎已经解决了使用`proc_open`. 现在问题似乎是通过 sudo 执行脚本。

从安全的角度来看，让 PHP 应用程序以 root 身份运行脚本（通过 sudo）让我感到畏缩。在password.txt 中有root 密码是一个相当大的安全漏洞。

我要做的（如果可能的话）是进行任何必要的更改，以便运行 Apache 的 unix 用户可以运行 setup.sh。（我假设您使用 Apache 运行 PHP。）如果 setup.sh 将由网络服务器执行，它应该能够运行它而无需借助 sudo。

如果您确实需要以其他用户身份执行脚本，您可以查看[suPHP](http://www.suphp.org/Home.html)，它旨在以非标准用户身份运行 PHP 脚本。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-12-17T05:34:25.293

使用 /etc/sudoers 的 NOPASSWD 选项为特定用户提供自动 sudo 权限，然后运行带有前缀的命令以`sudo -u THE_SUDO_USER`使命令以该用户身份执行。这可以防止授予整个 apache 用户 sudo 权限的安全漏洞，但也允许从 apache 内部对脚本执行 sudo。

# android - mono DataAdapter 出错了吗？

> ID：10976917
> 
> 赞同：1
> 
> 时间：2012-06-11T08:50:53.573
> 
> 标签：android, mono, monodevelop

我不明白为什么安装 DataTable 时进程失败我做错了

```
 Mono.Data.Sqlite.SqliteDataAdapter da=new 
                         SqliteDataAdapter("select * from custome",con);
        System.Data.DataTable dt=new DataTable();
        dt.BeginLoadData();
        da.Fill(dt);//Error
        dt.EndLoadData(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-20T21:00:59.287

看起来问题是本机 sqlite3 库没有在 Mac 上使用 SQLITE_ENABLE_COLUMN_METADATA 编译。解决方案是下载源代码，使用上述设置进行编译，并用新编译的库覆盖默认库。还没有完全弄清楚最后一部分。这是另一个相关的线程：

[OS X 上的 Mono：System.Data.SQLite 不起作用](https://stackoverflow.com/questions/8090152/mono-on-os-x-system-data-sqlite-does-not-work)

# hash - 不区分大小写和空格的哈希函数

> ID：10976918
> 
> 赞同：0
> 
> 时间：2012-06-11T08:51:12.910
> 
> 标签：hash

我正在寻找一个不区分大小写并且也忽略空格的散列函数。

例如：

`this is a hash`为和生成的哈希值`ThisIsAHash`将完全相同。

是否存在这样的哈希函数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:56:11.467

哈希函数是我们制作它们的方式。例如：

首先，对于所有字符串 ->

第1步。小写它们（或大写它们） Step2。去除所有空白。

到目前为止，两个字符串都将映射到：thisisahash

第三步。现在，对它应用任何 Hash 函数：crc32、java 的多项式或其他...

给定一个字符串，您现在可以随时进行查找并查看其他字符串是否散列到相同的键。

请注意，哈希函数是单向的。因此，执行 Step1 和 Step2 不计入有效的哈希方法。

# jsp - 如何在jsp中使用onSubmit()？

> ID：10976919
> 
> 赞同：0
> 
> 时间：2012-06-11T08:51:14.023
> 
> 标签：jsp, onsubmit, html.dropdownlistfor

我在 JSP 页面中有一个下拉列表。当用户选择一个选项时，我需要使用`onSubmit()`. 我需要一些帮助来使用`onSubmit`.

我的代码：

```
<% 
String query = "SELECT * FROM MONEY_ISSUE_REQUEST WHERE QUEUE_ID='q1'";
ResultSet rs=st.executeQuery(query); %>

<table border="1"> 
     <tr>               
         <th style=font-weight:bold>  REQ_ID &nbsp;  &nbsp; </th> 
         (...)       
         <th style=font-weight:bold>  APPROVAL &nbsp; &nbsp; </TH>
     </tr>

     <% while(rs.next()) { %>
     <tr>
         <td> <%out.println(rs.getInt(1));%> </td>
         (...)
         <td> <%out.println(rs.getString(13));%> </td>
         <td>
             <select name="id" onchange="update('this.options[this.selectedIndex].value')" >
                 <option value="approve">approve</option>
                 <option value="reject">reject</option>
             </select>                           
         </td>
      <% }%></tr>
</table> 
```

我的更新查询：

```
update table money_issure_request set STATUS_ID=value, QUEUE_ID='q2'; 
```

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T09:18:24.700

您可能想提交有关`onchage`事件的表单。假设 jQuery，这是执行此操作的代码示例。

```
$(document).ready(function() {
    $("#target").change(function() {
        $("#yourForm").submit();
    });
});

<form id="yourForm" action="UpdateServlet" method="post">
  <select id="target">
      <option value="option1">Option 1</option>
      <option value="option2">Option 2</option>
  </select>
</form> 
```

在您的更新 servlet 中，您编写根据所选选项更新数据库记录的逻辑。

# .htaccess - 主页中的尾部斜杠

> ID：10976923
> 
> 赞同：0
> 
> 时间：2012-06-11T08:51:28.457
> 
> 标签：.htaccess, url-rewriting, seo

如果有人帮助我，我将非常感激。

让我们考虑这 2 个 URL（都在响应标头中返回 200）：

www.foo.com/something
www.foo.com/something/

尽管这两个 URL 具有相同的内容，但 Google 认为这两个 URL 不同，这会导致重复的内容问题。要解决此问题，建议使用 301 永久重定向将一个 URL 重定向到另一个 URL，或使用该`rel="canonical"`属性。[资源](http://googlewebmastercentral.blogspot.com/2010/04/to-slash-or-not-to-slash.html)

Wordpress 博客完美地处理了这个问题。将尾部斜杠添加到我的内部链接时，我被重定向到没有尾部斜杠的 URL（301 响应）。

问题是重定向只发生在内部页面上。我的主页似乎返回了带有或不带有斜杠的 200 响应。我应该保持原样还是强制重定向`.htaccess`文件？

ps：我网站的反向链接有2个不同的href（带和不带斜杠）。我应该将这些反向链接更改为唯一的 href 还是将一个重定向到另一个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T12:10:47.810

我假设您的主页是指仅输入域时显示的页面。

带或不带斜线代表完全相同的 URL。没有什么可担心的，也没有什么可以做的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T09:34:47.487

使用[此链接在您的网址末尾添加斜杠](http://www.mydigitallife.info/add-trailing-slash-to-the-end-of-the-url-with-htaccess-rewrite-rules/)

您的反向链接是否带有斜线并不重要，因为在实施上述地址中提到的技术后，搜索引擎将假定您的页面仅带有斜线。请记住，由于过去的索引，您应该等到以前的索引被删除。或者您可以使用 301 重定向到带有斜线的页面。基本上这需要一些时间，直到搜索引擎再次出现并找到您的重定向规则......

# list - 无法删除列表中的项目范围

> ID：10976933
> 
> 赞同：0
> 
> 时间：2012-06-11T08:52:22.853
> 
> 标签：list, c#-4.0, sorting, generic-list

我正在将要从列表中删除的项目设置为空，然后通过 IComparable 方法 CompareTo 对列表进行排序，以便空项目位于顶部......然后在列表上使用 RemoveRange 函数但无法如此......我明白了以下代码没有问题：

```
 try
      {
          foreach (Invoice item in inv)
          {
              if (item.qty == 0)
              {
                  item.CustomerName = null;
                  item.qty = 0;
                  i++;
              }
          }
          inv.Sort();
          inv.RemoveRange(0, i);
      }
      catch (Exception ex)
      {
          Console.WriteLine(ex.Message); 
```

# }

```
 #region IComparable<Invoice> Members

    public int CompareTo(Invoice other)
    {
        return this.CustomerName.CompareTo(other.CustomerName);
    }

    #endregion 
```

错误发生在 inv.RemoveRange(0,i); 说：无法比较数组中的两个元素

为什么会这样？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T08:58:10.560

```
public int CompareTo(Invoice other)
    {
    if (other == null || other.CustomerName == null) return 1;
    if (this.CustomerName == null) return -1;

    return this.CustomerName.CompareTo(other.CustomerName);
    } 
```

或者

```
public int CompareTo(Invoice other)
        {
        //if other Invoide is null, instance is bigger.
        if (other == null) return 1;
        if (this.CustomerName == null) {
           //if both CustomerName are null, instance equals other. Of only instance CustomerName is null, other is bigger.
           return other.CustomerName == null ? 0 : -1;
        }
        //if other.CustomerName is null (and instance.CustomerName is not null), instance is bigger.
        if (other.CustomerName == null) return 1;

        //both CustomerName are not null, call basic string.CompareTo
        return this.CustomerName.CompareTo(other.CustomerName);
        } 
```

# java - 如何在 Android 上创建渐进式 JPEG 图像

> ID：10976936
> 
> 赞同：8
> 
> 时间：2012-06-11T08:52:27.863
> 
> 标签：java, android, jpeg

我需要通过*非常*低带宽的连接从 android 手机（低至 10kByte/s）发送图像，并希望以渐进（隔行）模式发送它们，以便另一端的用户在漫长的转移。现在，我正在使用常规照片应用程序创建图像：

`Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);`

但这会创建*非渐进式*照片，我无法发现如何说服它这样做。我探索的第二个选项（读取并重新压缩拍摄的图像）被挫败了，因为据我所知，Bitmap 的 compress 方法除了格式名称和压缩因子之外不允许任何编码参数：

`bitmap.compress(Bitmap.CompressFormat.JPEG, 80, out);`

我首选的解决方案是指示照片应用程序以渐进模式保存。

下一个最佳选择是一种 Java 算法，它可以无损地将存储的 jpeg 转换为渐进式（jpegtran 在 Linux 上执行此操作，但它是 C 语言并依赖于 libjepeg）。

下一个最好的方法是为 android 指定相关的编码参数，允许我重新压缩它，或者使用一个替代的 Java 库来做同样的事情。

进一步的研究表明，算法已经`/system/lib/libjpeg.so`存在`~/android-sdk-linux/source-tree/external/jpeg`（

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-06T11:17:47.200

你看过这个文件吗？

[http://docs.oracle.com/javase/6/docs/api/javax/imageio/plugins/jpeg/JPEGImageWriteParam.html](http://docs.oracle.com/javase/6/docs/api/javax/imageio/plugins/jpeg/JPEGImageWriteParam.html)

它似乎有写渐进式支持。

或者，您可以通过 JNI使用例如[OpenJPEG 。](http://code.google.com/p/openjpeg/wiki/DocJ2KCodec#Description)请参阅[http://www.linux-mag.com/id/7697/](http://www.linux-mag.com/id/7697/)作为开始。

# html - Facebook 文本区

> ID：10976937
> 
> 赞同：-1
> 
> 时间：2012-06-11T08:52:29.563
> 
> 标签：html, css

facebook如何在右下角显示没有拖动图标的textarea

当我创建 textarea 它在左下角显示拖动图标

但在 facebook 网站他们使用 textarea 我使用 html 检查器检查它。

如图所示。我想隐藏这个

![在此处输入图像描述](../Images/2c5f817a10b41f28c41dcece700e0e21.png)

在脸书上

![在此处输入图像描述](../Images/201412c8fbab072d00906c88376ab867.png)

```
<textarea id="textarea"></textarea>
<style type="text/css">
    #textarea {
        border: 1px #ddd solid;
        width: 400px;
        height: 120px;
        font: 9pt Consolas;
    }

</style> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:56:22.477

您必须告诉浏览器不允许调整大小`resize: none`

```
#textarea {
    border: 1px #ddd solid;
    width: 400px;
    height: 120px;
    font: 9pt Consolas;
    resize: none;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T08:56:10.920

现在只需定义

```
#textarea{
resize:none;
} 
```

更多信息[http://www.w3schools.com/cssref/css3_pr_resize.asp](http://www.w3schools.com/cssref/css3_pr_resize.asp)

# git - git 更改分支的起源（变基）

> ID：10976938
> 
> 赞同：10
> 
> 时间：2012-06-11T08:52:32.187
> 
> 标签：git, branch, rebase

f'我有以下内容：

```
A---B---C-----D--   branch dev
     \--C'-E-/      branch test 
```

我做得不好：C和C'几乎是相同的提交，如果我可以在C而不是B上开始分支*测试会更有意义。*

我怎么能这样做？，我猜是变基，但我不知道如何使用它，谢谢

**编辑**：不清楚我想要什么：

```
A---B---C-----D--   branch dev
         \-E-/      branch test 
```

或者

A--B--D--E--D 如果不可能

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-11T08:54:34.993

您可以将其重新设置在临时分支（由 制成`C`）
See[`git rebase`](http://git-scm.com/docs/git-rebase)和[Rebasing](http://git-scm.com/book/en/Git-Branching-Rebasing)以及[`git branch`](http://git-scm.com/docs/git-branch).

```
git branch tmp C
git checkout test

# rebase the current branch (test) on top of tmp
git rebase tmp  

git branch -d tmp 
```

那应该给你：

```
A---B---C-----D--       branch dev
         \--C''-E'-/      branch test 
```

我离开了 C'（这里为 C''），因为 C' 与 C 不*完全相同*。
但正如[ams](https://stackoverflow.com/users/1057909/ams)评论，如果你需要 C' 消失，你会

```
git rebase -i tmp 
```

这将为您提供*交互式*变基，允许`C'`完全删除，仅`E`在`C`.

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-11T15:23:20.220

您可以将您想要的部分重新定位到 C 上：

```
A---B---C-----D--   branch dev
     \
      C'-E--      branch test

# git rebase --onto [new base] [starting after this commit] [ending at this commit]
git rebase --onto C C' E

A---B---C-----D--   branch dev
         \
          E--      branch test 
```

它与cherry-picking 的概念相同，除了`test`分支指针随rebased 提交一起移动。

（请注意，在变基后 C' 提交将无法访问，但您可以使用 . 回到它`git reflog`。）

# java - URL 变量“包含”字符串，但应包含对 URL 实例的引用

> ID：10976940
> 
> 赞同：0
> 
> 时间：2012-06-11T08:52:51.390
> 
> 标签：java

以下语句创建 URL 类的实例，将其填充到“url”变量中，并将第一个参数 (http://www.stackoverflow.com) 填充到非静态属性中：

```
URL url = new URL("http://www.stackoverflow.com"); 
```

当您真的应该指向获取属性而不是直接指向实例引用时，为什么可以使用以下语句获取属性值？：

1 什么是可能的，但（也许）不应该是：

```
String urlstr = url.toString(); 
```

2 它应该是怎样的：

```
String urlstr = url.getUrl(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T09:08:58.460

```
String urlstr = url.toString(); 
```

如果您查看 URL 的源代码，您会看到该方法在 an 中`toString()`附加`protocol`, `authority`, `path`,并返回表示形式。`query``StringBuffer``String`

这绝不意味着您可以通过调用来访问任何属性`toString()`，如果事实上要访问`path`您必须调用的属性`getPath`，`toString`只是给出了一种人类可读的格式，在这种情况下，它看起来就像您传递的初始化参数。

一般而言，`toString`通常用于调试目的，您可以在其中提供一些人类可读的信息，默认情况下`toString()`只会为您提供带有哈希码的 className。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:57:13.200

您可能会感到困惑，因为您执行了实例的 println 并且它看起来像属性。

原因是 println（或字符串连接）调用 URL 的 toString 方法，在这种特定情况下，它会重构您期望的 URL。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-11T08:59:19.717

从技术上讲，当您执行 System.out.println(a); a 的 toString() 方法被调用...我是说它可以做到，就像可以做自动装箱一样。不幸的是，我从未使用过这种方法，但至少你知道它是可行的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-11T09:02:10.493

这里 toString 正在发挥作用。我不确定这里是否可以进行隐式类型转换，但是如果您查看 URL 的 toString 方法，您会发现它正在打印该对象指向的*URL 。*

# java - 用于拆分由 | 分隔的字符串的正则表达式 当没有用双引号括起来时

> ID：10976942
> 
> 赞同：6
> 
> 时间：2012-06-11T08:52:59.057
> 
> 标签：java, regex

我需要一个正则表达式来计算java中管道分隔字符串中的列数。列数据将始终用双引号引起来，否则将为空。

例如：

```
"1234"|"Name"||"Some description with ||| in it"|"Last Column" 
```

以上应计为 5 列，包括“名称”列后的 1 个空列。

谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-11T08:57:36.193

这是一种方法：

```
String input =
    "\"1234\"|\"Name\"||\"Some description with ||| in it\"|\"Last Column\"";
//  \_______/ \______/\/\_________________________________/ \_____________/    
//      1        2    3                 4                          5

int cols = input.replaceAll("\"[^\"]*\"", "")  // remove "..."
                .replaceAll("[^|]", "")        // remove anything else than |
                .length() + 1;                 // Count the remaining |, add 1

System.out.println(cols);   // 5 
```

IMO虽然不是很健壮。例如，如果您打算处理转义引号，我不建议使用正则表达式。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T09:40:18.773

稍微改进了[aioobe 回答](https://stackoverflow.com/a/10977004/107152)中的表达方式：

```
int cols = input.replaceAll("\"(?:[^\"\\]+|\\.)*\"|[^|]+", "")
                .length() + 1; 
```

处理引号中的转义，并使用单个表达式删除除定界符之外的所有内容。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-11T10:03:29.250

这是我不久前使用的一个正则表达式，它也处理转义引号**和转义分隔符**。对于您的要求（计算列）来说，这可能有点过分了，但也许它会在未来帮助您或其他人进行解析。

```
(?<=^|(?<!\\)\|)(\".*?(?<=[^\\])\"|.*?(?<!\\(?=\|))(?=")?|)(?=\||$)

and broken down as:
(?<=^|(?<!\\)\|)             // look behind to make sure the token starts with the start anchor (first token) or a delimiter (but not an escaped delimiter)
(                            // start of capture group 1
  \".*?(?<=[^\\])\"          //   a token bounded by quotes
  |                          //   OR
  .*?(?<!\\(?=\|))(?=")?     //   a token not bounded by quotes, any characters up to the delimiter (unless escaped)
  |                          //   OR
                             //   empty token
)                            // end of capture group 1
(?=\||$)                     // look ahead to make sure the token is followed by either a delimiter or the end anchor (last token)

when you actually use it it'll have to be escaped as:
(?<=^|(?<!\\\\)\\|)(\\\".*?(?<=[^\\\\])\\\"|.*?(?<!\\\\(?=\\|))(?=\")?|)(?=\\||$) 
```

这很复杂，但有一种方法可以解决这种疯狂：如果行首或行尾的列为空，分隔引号位于奇数位置，行或列以转义开头或结尾，我搜索的其他正则表达式将失败分隔符，以及许多其他极端情况。

您使用管道作为分隔符的事实使这个正则表达式更加难以阅读/理解。提示是你看到一个管道本身“|”，它是正则表达式中的条件 OR，当它被转义“\|”时，它是你的分隔符。

# android - 在 AndEngine ESGL1 如何为背景设置动画？

> ID：10976943
> 
> 赞同：-1
> 
> 时间：2012-06-11T08:53:00.750
> 
> 标签：android, andengine

我需要为有 6 张图像的背景设置动画，并且需要一次又一次地重复（123456123456 ...）。任何人都可以在这方面提供帮助。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T06:52:08.467

您是否尝试过使用 AnimatedSprite 类？

# email - Exchange 免责声明纯文本格式

> ID：10976944
> 
> 赞同：1
> 
> 时间：2012-06-11T08:53:19.140
> 
> 标签：email, exchange-server

我正在使用 Exchange Server 2010 中的传输规则将一些 HTML 附加到我们公司电子邮件的末尾。当电子邮件以 HTML 格式发送时，这工作得很好。当消息是纯文本时，HTML 和图像被转换为​​ [链接]，看起来很乱。

是否可以应用条件格式在 HTML 电子邮件末尾附加 HTML 消息，并为纯文本电子邮件使用不同的布局？做不到这一点，如果消息不是 HTML，我可以让它简单地忽略规则吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:47:45.500

我发现实现我所追求的唯一方法是使用第 3 方插件。所以这个问题的答案对于这两个部分来说都是“不”！

[Symprex](http://www.symprex.com)或[Exclaimer](http://www.exclaimer.com)等第三方工具可以帮助处于类似情况的人们。

# android - 如何从 Android 的 Gallery 应用程序中隐藏一些图像（由我的应用程序保存在 sdcard 上）？

> ID：10976945
> 
> 赞同：1
> 
> 时间：2012-06-11T08:53:19.800
> 
> 标签：android, file, sd-card

我的应用程序正在 SD 卡上的 AppImages 目录中保存一些图像

内置图库应用程序正在检测这些图像并将它们显示在图库中。

是否可以隐藏这些图像并仅对我的应用程序可见？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-11T09:02:30.037

Rename the directory from `AppImages` to `.AppImages`. The dot "hides" this folder from the system.

On an unrelated note, consider naming the folder something less generic to lessen the chance that it already exists.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T09:02:59.087

You could stop the gallery from picking up your apps photos by putting a `.nomedia` file in the folder where they are stored. This will stop the gallery app from detecting your images, but a user still can open them in the gallery by using a file manager to navigate to the directory and selecting an image.

Hiding the images from both the user and the gallery is not possible, AFAIK.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-24T12:31:55.793

无需隐藏图片..只需将扩展名重命名为“.txt”，它将显示图片不受支持的文件

# javascript - tinymce 编辑器。按钮不显示

> ID：10976947
> 
> 赞同：1
> 
> 时间：2012-06-11T08:53:35.130
> 
> 标签：javascript, jsf-2, tinymce

我正在尝试使用本教程中的编辑器 [http://kpachar.blogspot.de/2010/06/tinymce-as-jsf-2-composite-component.html](http://kpachar.blogspot.de/2010/06/tinymce-as-jsf-2-composite-component.html) 不幸的是它对我不起作用。我可以看到文本区域，但没有要编辑的按钮。

我在不同地方的同一个项目中拥有编辑器，但在一个地方它工作，在另一个地方它没有。

我用不同的浏览器尝试过，到处都是同样的问题。Firebug 显示我调用的脚本已包含在内，并且 alert 证明了这一点。

我调用的脚本：

```
<composite:implementation>
    <h:outputScript name="tiny_mce/tiny_mce.js" target="head"/>
    <h:outputScript name="editors/tinymce_init.js" />
    <h:inputTextarea id="textarea" value="#{cc.attrs.value}" rows="5" cols="80"
        styleClass="tinymce" />
</composite:implementation> 
```

但是脚本 tiny_mce.js 调用的脚本无法加载。

```
Failed to load: http://localhost:8080/SOCIATO_Testcommunity/javax.faces.resource/tiny_mce/langs/en.js

Failed to load: http://localhost:8080/SOCIATO_Testcommunity/javax.faces.resource/tiny_mce/themes/simple/editor_template.js 
```

这两个文件都在“resources”文件夹中，但服务器试图在“javax.faces.resource”中找到它们。其他文件（由 outputScript 调用的 fe）会自动找到该文件。我如何告诉服务器在哪里可以找到由 tiny_mce 调用的这个 scipts？

请问有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T14:27:23.763

它们是相对于原始脚本的位置进行解析的，它们的 URL 需要与 的 URL 模式匹配`FacesServlet`，因此需要附加`.jsf`或`.xhtml`后缀。您基本上需要编辑 TinyMCE JS 源代码来修复加载这些依赖项的 URL。将它们包含在内可能更容易，`<script>`而不是`<h:outputScript>`.

```
<script src="#{request.contextPath}/resources/tiny_mce/tiny_mce.js" />
<script src="#{request.contextPath}/resources/editors/tinymce_init.js" /> 
```

或者只是采用已经为您解决这个问题的组件库，例如 PrimeFaces 或 RichFaces。

# c# - ConfigurationManager.RefreshSection("appSettings") 不更新配置文件

> ID：10976951
> 
> 赞同：0
> 
> 时间：2012-06-11T08:53:41.843
> 
> 标签：c#, web-services, config, appsettings, configurationmanager

我正在用这个拔掉我的头发，改变了我的 app.settings url，它没有从磁盘读取，然后我的应用程序崩溃，因为它使用的是缓存版本。我已经阅读了很多它对人们有用但无法弄清楚为什么这不起作用的例子

```
private void button1_Click(object sender, EventArgs e)
    {
        changeSettings();
        ConfigurationManager.RefreshSection("appSettings");
        this.Close();
    }
    public void changeSettings()
    {
        Configuration config =
        ConfigurationManager.OpenExeConfiguration(AppDomain.CurrentDomain.SetupInformation.ConfigurationFile);
        KeyValueConfigurationCollection settings = config.AppSettings.Settings;
        settings.Clear();
        //MessageBox.Show(settings["client_postCodeRef_Service"].Value);
        try
        {

            //settings["client_postCodeRef_Service"].Value = textBox1.Text;
            //ser.Url = settings["client_postCodeRef_Service"].Value;
            settings.Add("client_postCodeRef_Service", textBox1.Text);
            AppSettingsSection sect = (AppSettingsSection)config.GetSection("appSettings");
            ser.Url = sect.Settings["client_postCodeRef_Service"].Value;
            config.Save(ConfigurationSaveMode.Modified);
            MessageBox.Show(AppDomain.CurrentDomain.SetupInformation.ConfigurationFile);
            MessageBox.Show(settings["client_postCodeRef_Service"].Value);

        }
        catch (ConfigurationErrorsException e)
        {
            MessageBox.Show("[Exception error: {0}]",
                e.ToString());
        }

     } // end change settings 
```

这是我的 exe.config

```
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
<configSections>
    <sectionGroup name="applicationSettings" type="System.Configuration.ApplicationSettingsGroup, System, Version=2.0.0.0, Culture=neutral,  PublicKeyToken=b77a5c561934e089" >
        <section name="Client.Properties.Settings" type="System.Configuration.ClientSettingsSection, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
        <section name="client.Properties.Settings"  type="System.Configuration.ClientSettingsSection, System, Version=2.0.0.0, Culture=neutral,  PublicKeyToken=b77a5c561934e089" requirePermission="false" />
    </sectionGroup>
 </configSections>
 <appSettings>
 <add key="client_postCodeRef_Service"  value="http://127.0.0.1/directory/directory/webService.asmx"/>  
 </appSettings>
 <system.serviceModel>
    <bindings />
    <client />
 </system.serviceModel>
 </configuration> 
```

# xml - XSLT 的动态 HREF 属性

> ID：10976952
> 
> 赞同：1
> 
> 时间：2012-06-11T08:53:43.360
> 
> 标签：xml, xslt, xsd

任何人都可以建议我如何在以下代码片段中通过 XSLT 使用动态 HREF 属性代替 ʜᴛᴛᴘ://abc.com 吗？

```
<xsl:for-each select="MenuItems/mainmenu">
    <a href="ʜᴛᴛᴘ://abc.com">
       <span><xsl:value-of select="menuName"/></span>
    </a>   
</xsl:for-each> 
```

示例 xml

```
<MenuItems>
<mainmenu>
    <menuID>1</menuID>
    <menuName>Home</menuName>
    <menuLink>http://aaa.com</menuLink>
        <subMenuList>
            <menuID>2</menuID>
            <menuName>Home</menuName>
            <menuLink>http://a1.com</menuLink>
        </subMenuList>
        <subMenuList>
            <menuID>3</menuID>
            <menuName>List of RCCs</menuName>
            <menuLink>http://a2.com</menuLink>
        </subMenuList>
        <subMenuList>
        <menuID>4</menuID>
        <menuName>Turnover Workout</menuName>
        <menuLink>http://a3.com</menuLink>
        </subMenuList>
</mainmenu>
<MenuItems> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T09:36:26.597

如果我理解正确，您正在寻找`<xsl:attribute>`元素：

```
<a>
    <xsl:attribute name="href"><xsl:value-of select="menuLink"/></xsl:attribute>
    <span><xsl:value-of select="menuName"/></span>
</a> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T10:36:15.470

使用属性值模板：

```
<a href="{menuLink}">
  <span><xsl:value-of select="menuName"/></span>
</a> 
```

# android - 如何在android中旋转文本并正确对齐？

> ID：10976953
> 
> 赞同：1
> 
> 时间：2012-06-11T08:53:50.920
> 
> 标签：android

我尝试在android中旋转文本。文本正确旋转，但未正确对齐。有些词是可见的有些不是。你能告诉如何解决这些问题。

# android - 如何在 oncontextitemselected 选项中创建编辑文本，如弹出

> ID：10976958
> 
> 赞同：0
> 
> 时间：2012-06-11T08:54:07.130
> 
> 标签：android, menu

```
public boolean onContextItemSelected(MenuItem item) {
               //     ArrayList<String> names = s;

                    switch(item.getItemId()) {

                    case R.id.renameplaylist:

                        //here i click my player option rename playlist contextmenu means i want open one edittext after i edit and save it. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T09:20:20.897

您可以使用带有两个按钮的 EditText 创建 customDialog，如果单击确定，则将 editText 信息保存在播放器列表中。

您可以按照 API for [CustomDialogs](http://developer.android.com/guide/topics/ui/dialogs.html#CustomDialog)

或者您可以为此目的创建一个新活动并将其设置为对话框样式...

```
<activity android:theme="@android:style/Theme.Dialog"> 
```

或者使用正常的活动和 startActivityForResult...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T08:57:07.317

您必须为此创建[自定义对话框](http://developer.android.com/guide/topics/ui/dialogs.html#CustomDialog)。祝你好运！

# google-chrome - javascript访问域 of local files(*.html) in chrome

> ID：10976959
> 
> 赞同：2
> 
> 时间：2012-06-11T08:54:25.053
> 
> 标签：google-chrome, iframe, same-origin-policy, local-files

it is a problem of "same origin policy" on local file, i have tried that

```
C:\somewhere some folder\chrome.exe" --allow-file-access-from-files 
```

don't work, now i am working javascript on localhost(web server) ...my situation is ridiculous, it make the "iframe loading" and xmlhttprequest(which not work for local files) have no difference for scripting.

Does chromium just the same function as chrome except "--allow-file-access-from-files" works? if not , writing code for ie,chrome,chromium just create one more issue but solve one.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T01:17:38.613

`--allow-file-access-from-files`在 Ubuntu 下的 Chromium 上为我工作。但是，您必须在此之前完全关闭 Chromium，否则它只会在现有 Chromium 进程中打开一个选项卡（可能不是使用该选项启动的）。

否则，这只是[错误 40787](https://code.google.com/p/chromium/issues/detail?id=40787)。

# c# - Retrieve Dynamic Control Value

> ID：10976965
> 
> 赞同：1
> 
> 时间：2012-06-11T08:54:49.863
> 
> 标签：c#, asp.net

Guys please help me with this..

1.  I am dynamically adding 3 textboxes, 2 radiobuttons and 5 multiline textbox controls in a table **ON CLICK OF A BUTTON** in asp.net
2.  I want to retrieve and store the values of each and every control.

I am very new to asp.net. Please help me.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T09:02:15.043

Dynamically adding controls to a page needs to specify an ID for each of those controls ! so when adding them you specify an ID for each of them and you can use that ID to retrieve and store data from and to those controls !

Code example on getting data from yourcontrols :

```
private void btnSave_Click(object sender, EventArgs e){
String name="";
String familyName="";
name=textbox1.Text.Trim();
familyName=textbox2.Text.Trim();
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-11T09:05:03.117

您始终可以使用`Request.Form[]`

例如

```
Request.Form[Control.UniqueID] 
```

要正确工作，您需要提供控件的“唯一名称 id”（而不是 id 名称）

在 request.form 中包含页面中的所有帖子参数：http: [//msdn.microsoft.com/en-us/library/ms525985 (VS.90).aspx](http://msdn.microsoft.com/en-us/library/ms525985(VS.90).aspx)

# rest - 有哪些服务可用于移动应用程序内的个人对个人支付？

> ID：10976973
> 
> 赞同：2
> 
> 时间：2012-06-11T08:55:30.077
> 
> 标签：rest, payment

我正在寻找带有 rest api 的可用服务列表，以在移动应用程序中实现个人对个人的支付。

以下是一些使用此类系统的应用程序。有人知道他们使用的是什么支付服务吗？

1.  优步 - uber.com
2.  Hailocab - hailocab.com
3.  爱彼迎 - airbnb.com

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-27T18:30:16.717

AirBnb - [https://www.braintreepayments.com](https://www.braintreepayments.com) 优步 - [http://www.authorize.net/](http://www.authorize.net/)。团队将迁移到[https://www.braintreepayments.com](https://www.braintreepayments.com) Hailo - 未知 =)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T11:06:31.397

我不知道他们具体使用了哪些提供商，但您可以为此目的使用 Paypal。查看自适应支付 API [https://www.x.com/developers/paypal/products/adaptive-payments](https://www.x.com/developers/paypal/products/adaptive-payments)

我不知道有任何其他提供商可以让您进行个人对个人付款，但当然有很多公司在做应用程序计费。

# wpf - 以不同的角度重复绘制

> ID：10976979
> 
> 赞同：1
> 
> 时间：2012-06-11T08:55:55.440
> 
> 标签：wpf, windows, xaml, drawing, gauge

我目前正在为我的一个项目设计一种仪表控制。到目前为止一切正常，控制显示也很好。目前我如何手动放置控件的所有刻度。它有效，但不是很好。

我想知道它是否可能很容易，最好在纯 XAML 中执行某种重复。这意味着我布局了一条线并让 WPF 以不同的角度将其绘制 X 次。

目前渲染我的刻度看起来像这样：

```
<Line>
    <Line.RenderTransform>
        <RotateTransform Angle="0" />
    </Line.RenderTransform>
</Line>
<Line>
    <Line.RenderTransform>
        <RotateTransform Angle="18" />
    </Line.RenderTransform>
</Line>
<Line>
    <Line.RenderTransform>
        <RotateTransform Angle="36" />
    </Line.RenderTransform>
</Line>
<Line>
    <Line.RenderTransform>
        <RotateTransform Angle="54" />
    </Line.RenderTransform>
</Line>
<Line>
    <Line.RenderTransform>
        <RotateTransform Angle="72" />
    </Line.RenderTransform>
</Line>
<Line>
    <Line.RenderTransform>
        <RotateTransform Angle="90" />
    </Line.RenderTransform>
</Line>
<Line>
    <Line.RenderTransform>
        <RotateTransform Angle="108" />
    </Line.RenderTransform>
</Line>
<Line>
    <Line.RenderTransform>
        <RotateTransform Angle="126" />
    </Line.RenderTransform>
</Line>
<Line>
    <Line.RenderTransform>
        <RotateTransform Angle="144" />
    </Line.RenderTransform>
</Line>
<Line>
    <Line.RenderTransform>
        <RotateTransform Angle="162" />
    </Line.RenderTransform>
</Line>
<Line>
    <Line.RenderTransform>
        <RotateTransform Angle="180" />
    </Line.RenderTransform>
</Line> 
```

虽然它有效，但我并不喜欢它。

任何想法如何更好地做到这一点？

顺便说一句，线条的其余属性放在样式定义中：

```
<Style TargetType="Line">
    <Setter Property="Stroke" Value="{Binding Source={StaticResource displayForeground}}" />
    <Setter Property="StrokeThickness" Value="1" />
    <Setter Property="X1" Value="-85" />
    <Setter Property="X2" Value="-95" />
    <Setter Property="LayoutTransform" Value="1.00 0.00 -0.00 1.00 0 0" />
</Style> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T09:23:26.250

为什么不从您的控件中公开一组刻度，然后绑定`ItemsControl`到它们。您勾选对象可能有一个`Angle`属性，您可以`RotateTransform`在 ItemTemplate 中将其绑定到该属性。

# javascript - 在 javascript 中使用文本框文本

> ID：10976981
> 
> 赞同：1
> 
> 时间：2012-06-11T08:56:09.590
> 
> 标签：javascript, asp.net, html, textbox, buttonclick

我正在使用以下脚本使用 Twitter 小部件-

```
<asp:TextBox ID="TextBox1" runat="server"></asp:TextBox>
<input type="button" value="Run Function" onclick="test();" />   
<script>

function test() {

    new TWTR.Widget({
        version: 3,
        type: 'profile',
        rpp: 8,
        interval: 30000,
        width: 315,
        height: 340,
        theme: {

            shell: {
                background: '#333333',
                color: '#ffffff'

            },
            tweets: {
                background: '#000000',
                color: '#ffffff',
                links: '#4aed05'

            }
        },
        features: {
            scrollbar: false,
            loop: false,
            live: false,
            behavior: 'all'

        }
    }).render().setUser(document.getElementById('TextBox1').value).start();
} 
```

在单击按钮中使用该功能`test();`时，它会出现错误 -

```
Error: Unable to get value of the property 'value': object is null or undefined 
```

所以它似乎没有达到 -

```
(document.getElementById('TextBox1').value) 
```

如果文本框有一个值然后在按钮单击时运行脚本，我不确定为什么它为空？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T10:36:11.877

当您像这样在 ASP.NET 中指定一个元素时：

```
<asp:TextBox ID="TextBox1" runat="server"> 
```

您最终会得到一个具有生成名称的 ID 的输入框！自己看一下，查看页面上的源代码，你会发现你的输入框“TextBox1”实际上有一个看起来像“ctl00_form1_TextBox1”或类似爵士乐的ID。因此，您的 getElementById 调用当然不会找到任何 ID 为“TextBox1”的元素 - 因为没有。幸运的是，您可以更改此行为。只需添加一个“ClientID”属性，如下所示：

```
<asp:TextBox ID="TextBox1" runat="server" ClientIDMode="Static"> 
```

这样，您的输入框将真正具有 ID“TextBox1”，并且您将能够以您尝试的方式获取它的值。

**编辑**

因此，上述内容显然不适用于这个问题中的问题。发生的事情是 twitter 小部件很奇怪，如果您想使用动态 ID，它会变得很尴尬。

当 twitter 小部件运行时，它使用 document.write() 调用来构造小部件。因此，如果您的网页已经存在，则 document.write 只会覆盖该页面。我能想到的最好的办法是将它加载到 iframe 中，然后将 iframe 中加载的内容复制到页面上您想要的任何位置。

我没有创建一个单独的页面来将小部件加载到 iframe 中，而是尝试动态构建一个 iframe 页面。最后，我想出了下面的方法，它似乎在 Firefox 13 中可以工作，但在 IE 8 中不起作用，我还没有在更高版本的 IE 中测试它。可能可以调整此方法，以便将小部件加载到服务器生成的完全独立的页面中 - 或者您甚至可以将其加载到 iframe 中，然后将 iframe 放在页面上您希望它出现的位置。

无论如何，在做了这一切之后，我现在讨厌 twitter 小部件。这完全是愚蠢的。为什么一定要用document.write？为什么它不能很好玩并构造 DOM 对象以便其他孩子也可以玩？任何。这就是我得到的，我将把它留在那里：

```
<%@ Page Title="Home Page" Language="VB" MasterPageFile="~/Site.Master" AutoEventWireup="false"
    CodeFile="Default.aspx.vb" Inherits="_Default" %>

<asp:Content ID="HeaderContent" runat="server" ContentPlaceHolderID="HeadContent">
<link href="//widgets.twimg.com/j/2/widget.css" rel="stylesheet" type="text/css">

</asp:Content>
<asp:Content ID="BodyContent" runat="server" ContentPlaceHolderID="MainContent">

<script type="text/javascript" charset="utf-8" src="http://widgets.twimg.com/j/2/widget.js"></script>
<script type="text/javascript">

    function fn(usr) {
        var ifr = document.createElement("iframe");
        document.body.appendChild(ifr);
        ifr.style.visibility = "hidden";

        ifr.contentWindow.document.write("<script type=\"text/javascript\" charset=\"utf-8\" src=\"http://widgets.twimg.com/j/2/widget.js\"></" + "script>");
        ifr.contentWindow.document.write("<script>" + fn2.toString() + ";</" + "script>");
        ifr.contentWindow.document.write("<script>fn2('" + usr + "')</"+"script>");
        ifr.contentWindow.document.close();

        t = setInterval(function () {
            if (ifr.contentWindow.document.readyState == "complete") {
                clearInterval(t);
                setTimeout(function () {
                    try {
                        var frame_styles = ifr.contentWindow.document.getElementsByTagName("style");
                        for (i = 0; i < frame_styles.length; i++) {
                            var newstyles = document.createElement("style");
                            newstyles.innerHTML = frame_styles[i].innerHTML;
                            document.body.appendChild(newstyles);
                        }
                    } catch (ex) { }

                    document.getElementById("sloc").innerHTML = ifr.contentWindow.document.body.innerHTML;

                }, 1000);
            }
        }, 50);

    }

    function fn2(usr) {
        new TWTR.Widget({
            version: 2,
            type: 'profile',
            rpp: 4,
            interval: 30000,
            width: 250,
            height: 300,
            theme: {
                shell: {
                    background: '#333333',
                    color: '#ffffff'
                },
                tweets: {
                    background: '#000000',
                    color: '#ffffff',
                    links: '#4aed05'
                }
            },
            features: {
                scrollbar: false,
                loop: false,
                live: false,
                behavior: 'all'
            }
        }).render().setUser(usr).start();
    }

</script>

<input type="text" id="txtfield" />
<asp:Button ID="Button1" Text="Click" OnClientClick="fn(document.getElementById('txtfield').value);return false;" runat="server" />
<div id="sloc"></div>

</asp:Content> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T08:58:46.100

我不是 .NET 人，但`TextBox1.Text`应该使用*服务器端*代码，例如 ASP.NET。由于您在 JavaScript（客户端）中使用它，因此您应该这样做：

```
render().setUser(document.getElementById('TextBox1').value).start(); 
```

# iphone - 如何管理字符串

> ID：10976988
> 
> 赞同：0
> 
> 时间：2012-06-11T08:56:50.283
> 
> 标签：iphone, objective-c, ios, ios5

我一直想知道如果他们可能会改变人们如何管理他们的字符串？

就像...您是否硬编码，使用属性列表或字符串文件？还有其他方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-11T09:01:49.347

It actually depends on the type of strings, I'll give some examples:

1.  UI strings -> Put them into Localizable.strings and use `NSLocalizedString` macro.
2.  Server URL -> hardcode (meaning to put them into a separate header) or specify them as build parameter.
3.  Parsing strings (e.g. keys for JSON dictionaries) -> hardcode
4.  App is based on text strings (e.g. Dictionary App) -> Database

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T09:01:19.623

If they are to be used in the classes such as for notifications and/or for dictionary keys you would define them

```
 #define MYOWN_NOTIFICATION @"NotifySth"
    #define CITY_KEY @"city" 
```

If you are going to have a small collection of strings then a plist would be the way to go You will then use it to load it inside an NSDictionary or NSArray

If you have a large collection of strings then store them in a db and query the string basing on your own criteria

# ruby-on-rails - 为什么我在尝试从 ruby on rails 中的数组中提取值时为 nil:NilClass 获取未定义的方法“first”？

> ID：10976991
> 
> 赞同：1
> 
> 时间：2012-06-11T08:56:58.223
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.2

几个月前我创建了数组来处理用户配置文件详细信息的编辑。当显示用户注册的国家/地区时，我点击数组并使用数据库中存储的整数获得我想要的结果。

**在我的用户模型中，我将国家/地区的完整列表存储在一个数组中：**

```
# encoding: UTF-8
class User < ActiveRecord::Base   

     COUNTRY_AND_ISO_CODE   = [
          ['Any', nil],
          ['United Kingdom', 826],
          ['United States', 840],
          ['-----------', ' '],
          ['Afghanistan', 4],
          ['Ãland Islands', 248],
          ['Albania', 8],
          ['Algeria', 12],
          ['American Samoa', 16],
          ['Andorra', 20],
          ['Angola', 24],
          ['Anguilla', 660],
          ['Antarctica', 10],
          ['Antigua and Barbuda', 28],
          ['Argentina', 32],
          ['Armenia', 51],
          ['Aruba', 533], 
```

**把这个放在我看来：**

```
= User::COUNTRY_AND_ISO_CODE[@profile.country].first 
```

**在我的视图中显示此结果，例如：**

```
 United Kingdom 
```

我遇到的问题是大型国家/地区阵列。对于某些配置文件，它似乎有效，但大多数我收到此错误：

```
 undefined method `first' for nil:NilClass 
```

我知道每个配置文件的@profile.country 都不是零，所以不确定这个错误来自哪里。如果我删除对数组的调用并且在我的视图中只有 @profile.country 它会按预期显示存储的整数。

我的其他数组没有遇到这个问题。例如，军事状态、性别、性取向。所以我想知道这是否与数组和内存的大小有关？我不知道这就是我问的原因。

我即将采取另一条路线，该路线在我提出的另一个问题中提出，方法是创建另一个存储国家名称的表，并使用存储在配置文件表中的整数从国家/地区表中获取正确的国家/地区。我想避免这种情况，因为当我最初有 1 次调用时，这是对 db 的 2 次调用。

知道我当前的代码有什么问题吗？我不明白为什么它适用于某些配置文件而不适用于其他配置文件。我不需要检查存储的国家整数，因为我创建了一个用国家更新每个用户的 rake 任务。

其他问题：[如何在 ruby​​ on rails 中显示选择字段值而不是它们关联的存储整数？](https://stackoverflow.com/questions/10972302/how-do-i-display-select-field-values-rather-than-their-associated-stored-integer)

希望你能帮忙

另外，如果你标记我，请给出一个理由。我来这里是为了从我的错误中吸取教训，也许我的错误可以帮助其他遇到类似问题的人。

亲切的问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T09:11:15.563

尝试：

```
User::COUNTRY_AND_ISO_CODE.rassoc(@profile.country).try(:first) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T09:10:49.633

您需要一个哈希值才能使此`User::COUNTRY_AND_ISO_CODE[@profile.country].first`代码正常工作。只需用哈希替换您的数组，例如：

```
COUNTRY_AND_ISO_CODE   = {
 'Any' => nil,
 'United Kingdom' => 826,
 'United States' => 840,
 # ..etc.
} 
```

..并且不要忘记为此代码编写测试；）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-11T09:25:21.127

[`ary[index]`](http://www.ruby-doc.org/core-1.9.3/Array.html#method-i-5B-5D)*按索引*返回一个元素，所以

```
COUNTRY_AND_ISO_CODE[0] # => ['Any', nil]
COUNTRY_AND_ISO_CODE[1] # => ['United Kingdom', 826]
COUNTRY_AND_ISO_CODE[2] # => ['United States', 840] 
```

如果`@profile.country`是`826`则`COUNTRY_AND_ISO_CODE[@profile.country]`返回数组中的第 826 个元素，或者`nil`如果没有这样的元素。

# sql - 如何转换成十进制列值

> ID：10976994
> 
> 赞同：0
> 
> 时间：2012-06-11T08:57:11.017
> 
> 标签：sql, sql-server, sql-server-2000

使用 SQL Server 2000

表格1

```
id values (datatype is nvarchar)

001 12:10 
002 01:25
003 10:01
004 21:20 
```

我想将值列转换为浮点数..

尝试查询

```
Select id, Cast(Replace(values, '':'', ''.'') as float) as values from table1 
```

输出显示如下

```
001 12.1 'zero is not showing
002 01.25
003 10.01
004 21.2 'zero is not showing 
```

为什么零在隐藏..？2.10 或 2.1 与 float 数据类型相同，但用户会混淆 2.1，例如 2 小时 1 分钟而不是 2 小时 10 分钟...

如何解决这个问题呢

预期产出

```
id values (datatype is float)

001 12.10 
002 01.25
003 10.01
004 21.20 
```

需要 SQL 查询帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T08:59:09.873

`12.10` and `12.1` are both **string representations** of the *same* float (twelve plus one tenth). If you want the data type to be *float* you cannot specify its string representation. You can only do that when *converting* a float into a string, which would be a pointless exercise in your case (since you already have this value as a string).

Another data type instead of *float*, such as **[decimal](http://msdn.microsoft.com/en-us/library/ms187746.aspx)**, which has a fixed number of decimal places, might be a more appropriate choice for your task.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T09:08:54.737

尝试

```
Select id, Cast(Replace(values, '':'', ''.'') as DECIMAl(10,2)) as values from table1 
```

# google-app-engine - 访问服务器后，浏览器仍然使用缓存版本

> ID：10976999
> 
> 赞同：3
> 
> 时间：2012-06-11T08:57:25.133
> 
> 标签：google-app-engine, gwt, caching, browser, restlet

我正在使用**带有 Restlet**的 AppEngine 将我的数据作为客户端提供给浏览器中的 GWT 应用程序。Restlet-GWT 版本使用 GWT-RPC 序列化作为底层传输格式。GWT-RPC 序列化依赖于客户端和服务器之间的**共享源来序列化/反序列化。**

现在，在向其中一个共享源类**添加新属性后，****反序列化开始失败**。AppEngine 服务器使用响应 HTTP 200 / OK 正确处理了请求，并发送了一个正确序列化的对象。客户每次都噎住。

过了一会儿，我发现浏览器正**试图反序列**化我的对象的缓存副本（没有新添加的属性），因此浏览器中的反序列化失败了。

现在的问题是：**如果服务器被击中，为什么浏览器要使用缓存副本？**

IMO，这违背了缓存的目的/优势，正在消耗服务器和网络资源并且没有使用新的结果？如果浏览器决定使用缓存副本，我预计不会往返服务器。

谢谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T13:44:42.703

您的浏览器将 GWT 为您的应用程序编译的 javascript 保存在缓存中。

简单的解决方案，对页面进行几次硬刷新（ctrl + F5，或 cmd + shift + R）。

如果您想防止这种情况，请参阅[此问题](https://stackoverflow.com/a/4274297/405492)