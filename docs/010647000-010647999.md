# StackOverflow 问答 10647000-10647999

# android - 方向变化的无线电组行为

> ID：10647001
> 
> 赞同：4
> 
> 时间：2012-05-18T05:07:48.497
> 
> 标签：android, radio-button, screen-orientation

我希望有人可以帮助我了解 Android 无线电组和方向改变时的 onCheckedChanged 回调发生了什么。

我有一个带有三个单选按钮的单选组。通过将选中的属性设置为 true，将第二个按钮定义为默认按钮。我的无线电组的 xml 如下：

```
 <RadioGroup
        android:id="@+id/rgReportRange"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:orientation="horizontal" >

        <RadioButton
            android:id="@+id/button1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/One" />

        <RadioButton
            android:id="@+id/button2"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:checked="true"
            android:text="@string/Two" />

        <RadioButton
            android:id="@+id/button3"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/Three" />
    </RadioGroup> 
```

RadioGroup 有一个 onCheckedChangedListener。当方向改变时， onCheckedChangedListener 会根据在方向改变之前选择的按钮而被不同地回调。

如果选择了 button1，我会看到一个对 onCheckedChanged 方法的回调，其中 checkID 等于 button1。

如果选择了 button2，我看不到 onCheckedChanged 方法的回调。

如果选择了 button3，我会看到对 onCheckedChanged 方法的两个回调。第一个回调的checkedID 等于button2。第二个回调的 checkID 等于 button3。

我不明白第一种和第三种情况之间的行为差​​异。在两者中，除了默认选择之外，还有一个单选按钮。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2018-10-06T11:28:54.120

对 xml 文件进行更改，例如：

```
 <activity android:name=".YourActivityName"
        android:configChanges="orientation|screenSize" /> 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-05-18T05:11:06.697

打开您的 manifest.xml 文件并在 Activity<> 标签中进行修改：

```
<activity
            android:configChanges="keyboardHidden|orientation"></activity> 
```

在此之后检查你的结果::)

# linux - 在 linux-kernel 中打开设备文件和错误代码

> ID：10647003
> 
> 赞同：0
> 
> 时间：2012-05-18T05:08:16.797
> 
> 标签：linux, driver, device

我是内核编程的新手，我有两个问题：

1.  我的设备正在注册（通过动态注册），但我的应用程序无法打开设备文件。可能的原因是什么？
2.  当我的设备驱动程序检测到除以零时，返回的适当错误代码是什么？

我的代码在内核中实现了简单的算术运算。我使用`ioctl()`基于接口在用户空间和内核之间进行通信。

```
if(out.b==0) /*checking for divide by zero*/
  out.res=-EINVAL;
else
  out.res=out.a/out.b;

copy_to_user((values*)ioctl_param,&out,sizeof(values));
break; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T07:42:29.197

如果您不向我们展示您的代码，我们可能无法回答第一个问题。

至于第二个，`EINVAL`或者也许`ERANGE`。

在您的情况下，您需要区分`ioctl_param`结构中返回的信息（顺便说一句，这是一个*非常*糟糕的变量名）和`ioctl()`调用本身的返回状态。

请记住，`ioctl()`如果成功完成则返回 0，如果失败则设置 errno。内核和 C 库为您完成了大部分工作。通常你所要做的就是从你的函数中返回`-EINVAL`或类似的。`ioctl()`

像这样的东西：

```
if(out.b == 0) /*checking for divide by zero*/
  return -EINVAL;

out.res=out.a / out.b;

copy_to_user((values*)ioctl_param,&out,sizeof(values));
break; 
```

# php - 数据库值达到一定数量后如何禁用图像链接

> ID：10647005
> 
> 赞同：0
> 
> 时间：2012-05-18T05:08:24.727
> 
> 标签：php, javascript, mysql

我需要知道如何禁用将成员链接到“创建”页面的图像，因为他们已经达到了他们的会员页面数量。PHP 代码识别它们是什么成员类型，在 mysql 数据库中标识。

我需要知道 PRO 成员何时达到 20 个网页，并禁用将他们带到“创建”页面的链接（最好用带有死链接的不同图像替换图像。

数据库中有一个特定字段记录网页的数量，基于其成员资格（FREE 成员 = 0；PRO 成员 = 20；ELITE 成员 = 60）。

您的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T05:12:32.820

如果您不提供任何特定代码 - 这是一个伪代码答案：

```
$count = get_count_of_webpages_from_database_for_this_user();
if ($count <= function_to_check_for_maximum_count_for_this_user())
{
     echo "live link image/button";
}
else
{
     echo "dead link image/button";
} 
```

# vb6 - 日历控件突然显示长 DayLength

> ID：10647007
> 
> 赞同：0
> 
> 时间：2012-05-18T05:08:40.703
> 
> 标签：vb6, calendar-control

我在一个 VB6 表单上有一个日历控件，它在一台机器上突然显示长天的名称，而不是像它设计的那样显示日期的单个首字母。

```
eg. Monday instead of M 
```

在设计时，这是使用`DayLength`我设置的属性设置的`Short`，但由于某种原因，在一台机器上它显示为好像设置为`Long`。

这是什么原因？是否有注册表设置或其他可以这样做的东西？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T05:40:20.487

注销然后注册日历控件。

这可以通过修复或重新安装产品来实现。

# xml - 使用 xslt 将 XML 转换为 XML

> ID：10647009
> 
> 赞同：0
> 
> 时间：2012-05-18T05:09:12.807
> 
> 标签：xml, xslt

正如我之前所说，我已经开始学习 XSLT

当我工作时，我得到了错误类型的 XML 格式

输入

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<testingconfig note-ref="no">
<access-panel>113AL</access-panel>
<access-panel>119AL</access-panel>
</testingcongif> 
```

输出

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<testingconfig>
<panel><panelid>113AL</panelid></panel> 
<panel><panelid>119AL</panelid></panel> 
</testingconfig> 
```

我的 XSL

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<testingconfig>
    <xsl:for-each select="testingconfig">
    <panel>
        <panelid>
            <xsl:value-of select="*"/>
        </panelid>
    </panel>
</xsl:for-each>
</testingconfig> 
```

为此输出的是

```
<testingconfig>
<panel>
    <panelid>
        113AL 119AL
    </panelid>
</panel>
</testingconfig> 
```

任何人都可以帮助我在这里我做错了，请帮助我如何在 XSLT 2.0 中做到这一点

请帮助我

谢谢和问候

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-18T08:51:42.333

您只需将其分解为一组转换规则。例如：

```
<xsl:template match="testingfig">
  <tscon><xsl:value-of select="."/></tscon>
</xsl:template>

<xsl:template match="config">
   <testingvalue>
       <testingtype>mar</testingtype>
       <testid>mar<xsl:value-of select="."/></testid>
   </testingvalue>
</xsl:template> 
```

然而，我有点担心，通过给你这些例子，我会牵着你的手进入沼泽，在那里你会很快陷入困境。在我看来，从你的问题来看，你刚开始学习这门语言是正确的，在论坛上寻求一个简单问题的解决方案并不是最好的学习策略。您无法通过反复试验或复制点头示例来学习编程语言。您需要离开并阅读一些书籍或教程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-08T04:33:17.710

```
<?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
<xsl:output method="xml" indent="yes"/>
<xsl:template match="/">
    <testingconfig>
        <xsl:for-each select="testingconfig/access-panel">
        <panel><panelid><xsl:value-of select="." /></panelid></panel>

        </xsl:for-each>
    </testingconfig>

</xsl:template>
</xsl:stylesheet> 
```

# java - 是否有任何 java 库可以访问客户的电子邮件？

> ID：10647015
> 
> 赞同：0
> 
> 时间：2012-05-18T05:09:54.180
> 
> 标签：java, email

我正在寻找一个 java 库来访问（显示）网络应用程序中的客户电子邮件。

例如，用户来到网站，输入凭据、smtp 和所有这些东西（比如在 Thunderbird 或 Outlook 中进行导入时），我们的网站可以在浏览器中向他显示​​他的电子邮件......

你知道这样的图书馆吗？这可能吗？

IIRC，JavaMail 主要用于发送电子邮件，但我需要的是**访问**和列出客户的电子邮件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T05:13:38.223

是的，Javamail 可以完全满足您的要求。Javamail 不仅仅用于发送电子邮件。您可以访问用户的邮箱。通过 SMTP 协议发送电子邮件。Javamail 支持 SMTP、POP3 和 IMAP。您对 POP3 或 IMAP 感兴趣。

[http://www.oracle.com/technetwork/java/javamail/index.html](http://www.oracle.com/technetwork/java/javamail/index.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T05:17:03.383

有许多开源客户端邮件工具可以根据您的需要进行定制，请在下面查看

[客户电子邮件访问](http://java-source.net/open-source/mail-clients)

***更新：***
检查这个[Chilkat](http://www.chilkatsoft.com/java.asp)

这是一个示例代码[how-to-create-an-e-mail-client-in-java](http://www.java-tips.org/java-se-tips/javax.swing/how-to-create-an-e-mail-client-in-java.html)

# c# - Windows Phone：如何获取当前应用程序 ID

> ID：10647016
> 
> 赞同：8
> 
> 时间：2012-05-18T05:09:57.310
> 
> 标签：c#, windows-phone-7, marketplace

有什么方法可以在没有硬编码的情况下在应用商店中获取我的应用程序的 ID？我需要自己使用这个值，所以这种方式[http://forums.create.msdn.com/forums/p/88847/533072.aspx](http://forums.create.msdn.com/forums/p/88847/533072.aspx)无济于事。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-04-02T11:15:22.203

试试这个： `var appId = Windows.ApplicationModel.Store.CurrentApp.AppId;` 它的文档[在这里](http://msdn.microsoft.com/fi-fi/library/windows/apps/windows.applicationmodel.store.currentapp.appid)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-18T05:58:13.680

有几个人在您链接的帖子中回答了您的问题。

一种答案是从 WMAppManifest.xml 文件中获取 ProductID 值。提交应用程序后，此值将成为您的市场应用程序 ID。提交您的应用程序后，您的 WMAppManifest.xml 文件中的值将更改为市场的值。虽然在测试您的应用程序时使用此值将不起作用，但一旦获得批准，它将起作用。

启动提交过程并转到详细信息页面以获取应用程序的 URI 的第二种方法。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-05T12:04:08.750

在您的代码中使用它：

```
string appID = (from manifest in 
  System.Xml.Linq.XElement.Load("WMAppManifest.xml").Descendants("App") 
select 
manifest).SingleOrDefault().Attribute("ProductID").Value; 
```

请记住，您需要添加 System.Xml.Linq 引用并包括命名空间。

# c++ - 在 C、VS 2010 中包含 C++ 头文件

> ID：10647020
> 
> 赞同：2
> 
> 时间：2012-05-18T05:10:18.457
> 
> 标签：c++, c, header-files

我想编写一个 C 代码，比如“test.c”，并从中调用一些 C++ 函数。

我有一个头文件 header.h，其中定义了函数，还有一个 C++ 文件，其中定义了函数。

我无法弄清楚编译命令以及如何使用该`extern`命令。有人可以澄清一下吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T05:17:07.510

> 我想编写一个 C 代码，比如“test.c”从中调用一些 C++ 函数。

在你的标题中尝试这样的事情：

```
#ifdef __cplusplus
extern "C"
{
#endif
  void foo (void);
#ifdef __cplusplus
};
#endif 
```

然后`foo()`在你的 .cpp 文件中实现。确保您的 .cpp 文件也包含标题。

# python - 在pyodbc中的函数内执行查询时，TypeError字符串索引必须是整数

> ID：10647021
> 
> 赞同：1
> 
> 时间：2012-05-18T05:10:20.370
> 
> 标签：python, pyodbc

我在尝试使用函数使用pyodbc查询MSSQL中的数据时遇到问题，函数是：

```
def getUserList(connection):
    li = []
    cur = connection.cursor()
    query = 'select username, password, firstname, lastname, description, phone,'+
            'email, isAdmin, isAutoBoot from users_tbl'    
    cur.execute(query)
    for usr, pwd, fn, ln, des, ph, em, ad, au in cur.fetchall():        
        temp = User(usr, pwd, fn, ln, des, ph, em, ad, au)            
    cur.close()
    #con.close()
    return li 
```

当我导入模块并运行此函数时，它遇到了 TypeError：

```
Traceback (most recent call last):
File "<pyshell#71>", line 1, in <module>
  import_user.getUserList(s_con)
File "c:/python27/mymodule\import_user.py", line 12, in getUserList
  cur.execute(query)
TypeError: string indices must be integers 
```

但是，如果我在 Python IDLE 中复制并运行这些行中的每一行，它运行良好并且在执行游标时没有错误。当我将 pyodbc 或 sqlite 连接作为输入参数传递时，都会发生这种情况。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T12:20:37.317

要解决语法问题，请更改以下行：

```
query = 'select username, password, firstname, lastname, description, phone,'+
        'email, isAdmin, isAutoBoot from users_tbl' 
```

到任何一个（不保留换行符）：

```
query = ('select username, password, firstname, lastname, description, phone, '
         'email, isAdmin, isAutoBoot from users_tbl') 
```

或（保留换行符）：

```
query = """select username, password, firstname, lastname, description, phone, 
           email, isAdmin, isAutoBoot from users_tbl""" 
```

有关换行的更多信息，请参阅样式指南的[最大行长部分](http://www.python.org/dev/peps/pep-0008/#maximum-line-length)。

# java - 使用 Swingworker 给出不正确的结果

> ID：10647040
> 
> 赞同：0
> 
> 时间：2012-05-18T05:12:33.213
> 
> 标签：java, swing, swingworker

我的项目遵循以下流程： ![在此处输入图像描述](../Images/5c9f526514d1b06834ab66b1d6aa1877.png)

我想使用 swingworker。这是我使用它的方式，但结果不正确

在我的 GUI 代码中，我的代码是用于执行主体类的

我在按钮代码中编写了以下代码行

```
 Main f2 = new Main();

    f2.execute(); 
```

在我的校长课上，我已经这样做了

```
 class Principalclass extends SwingWorker<Void, Void>
          {
            @Override
            public Void doInBackground() throws IOException 
             {
               //while loop
              }
           @Override
            public void done() {
              System.out.println("I am DONE");
              GUI b = new GUI();   
              b.ShowFrame();   //calls the function of the GUI to display frame
             } 
```

现在这段代码没有打印“我完成了”显示了 GUI 框架。如果我必须在使用 swingworker 的 2,3 和 4 类 bcz 中进行一些更改，或者我必须仅在 Principalclass.Secondly 中进行进一步更改，我会感到困惑，该应用程序需要 15 分钟才能完成其任务，只需要 2 秒 :(。可能是我做错了什么，因为我是第一次使用 Swing Worker。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T05:57:27.087

您应该执行您的摇摆工人并从 EDT 执行此操作。[在这里](http://docs.oracle.com/javase/6/docs/api/javax/swing/SwingWorker.html)查看更多信息。

# python - 来自 ftplib 错误的 FTP.delete(filename)

> ID：10647045
> 
> 赞同：0
> 
> 时间：2012-05-18T05:13:19.280
> 
> 标签：python, networking, ftp, delete-file, ftplib

当我尝试`ftp.delete()`从 ftplib 使用时，它会引发`error_perm`，resp：

```
>>> from ftplib import FTP
>>> ftp = FTP("192.168.0.22")
>>> ftp.login("user", "password")
'230 Login successful.'
>>> ftp.cwd("/Public/test/hello/will_i_be_deleted/")
'250 Directory successfully changed.'
>>> ftp.delete("/Public/test/hello/will_i_be_deleted/")
...
Traceback (most recent call last):
File "<stdin>", line 1, in <module>
File "/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/ftplib.py", line 520, in delete
resp = self.sendcmd('DELE ' + filename)
File "/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/ftplib.py", line 243, in sendcmd
return self.getresp()
File "/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/ftplib.py", line 218, in getresp
raise error_perm, resp
ftplib.error_perm: 550 Delete operation failed. 
```

该目录存在，并且“用户”有足够的权限删除该文件夹。

该站点实际上是一个支持 ftp 的 NAS（WD MyBookWorld）。

更改到父目录并使用命令`ftp.delete("will_i_be_deleted")`也不起作用。

“will_i_be_deleted”是一个空目录。

WD MyBookWorld 的 ftp 设置：

```
Service - Enable; Enable Anonymous - No; Port (Default 21) - Default 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2017-04-11T06:56:18.590

我解决这个 ftplib.error_perm: 550 问题的解决方案是 cwd 到 FTP 服务器的根目录，并按如下所示的完整路径删除文件。

```
ftp.cwd(‘.’）

directory = '/Public/test/hello/will_i_be_deleted/'    

# delete files in dir
files = list(ftp.nlst(directory))
for f in files:
    if f[-3:] == "/.." or f[-2:] == '/.': continue
    ftp.delete(f)

# delete this dir
ftp.rmd(directory) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-18T07:41:29.833

你需要使用`rmd`命令，即

`ftp.rmd("/Public/test/hello/will_i_be_deleted/")`

`rmd`用于删除目录，`delete`用于删除文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-19T01:01:00.077

唯一对我有用的方法是我可以使用 ftp.rename() 命令重命名：

例如

```
ftp.mkd("/Public/Trash/")
ftp.rename("/Public/test/hello/will_i_be_deleted","/Public/Trash/will_i_be_deleted") 
```

然后不时手动删除垃圾箱的内容。

我不知道这是否是 WD MyBookWorld ftp 功能的独有问题，但至少我有一个解决方法。

# callback - 插入子 dom 元素或更改其类时的回调？

> ID：10647046
> 
> 赞同：0
> 
> 时间：2012-05-18T05:13:21.697
> 
> 标签：callback, ember.js

在 Ember.js 中，我有一个视图

```
{{#if obj.property}}
    <div {{bindAttr class="prop"}}>content</div>
{{/if}} 
```

当这个元素被插入到视图中时，以及当类被附加到元素上时，我怎样才能被回调？我想这样做是因为 CSS 类是一个动画类，并且我想挂接到元素的 onAnimationEnd 事件，以便在动画结束时收到通知。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-19T04:40:31.443

将 div 更改为实现 didInsertElement 的自定义视图子类怎么样？例如

```
{{#if obj.property}}
    {{view App.MyView}}
{{/if}} 
```

和

```
App.MyView = Ember.View.extend({
  classNameBindings: "prop",
  didInsertElement: function() {
     // use this.$() to get a jQuery handle for the element and do what you'd like 
  }
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-20T06:25:25.320

除了卢克的回答，我发现了另一种实现这一点的方法，这可能更可取，因为卢克的方法需要创建一个视图。

通过利用 DOM 事件冒泡这一事实，我可以在包含可能插入的任何内容的父 DOM 元素上为 animationEnd 设置事件处理程序。例如

```
<div id="container">
{{#if obj.property}}
    <div {{bindAttr class="prop"}}>content</div>
{{/if}}
</div>

// view.js
didInsertElment: function() {
    this.$('#container').bind('webkitAnimationEnd', function(e) {
        // e.target is the element whose animation ended.
    }
} 
```

# yii - 在这个函数 return parent::beforeSave(); 中返回什么？

> ID：10647050
> 
> 赞同：0
> 
> 时间：2012-05-18T05:13:52.680
> 
> 标签：yii

我不知道这个函数会返回什么，只是修改了记录属性还是其他什么？

```
protected function beforeSave()
{
    if ($this->getIsNewRecord())
    {
        $this->created = Yii::app()->localtime->UTCNow;
    }             
     $this->lastmodified = Yii::app()->localtime->UTCNow;

     if ($this->dob == '') {
         $this->setAttribute('dob', null);
     } else {
        $this->dob=date('Y-m-d', strtotime($this->dob));
     }
     if($this->image!="")
     {
        $this->imgfile_name =  $this->image->name;
        $this->imgfile_type =  $this->image->type;
        $this->imgfile_size =  $this->image->size;
     }  
     $this->phone=substr($this->phone,0,3).substr($this->phone,4,3).substr($this->phone,8,4);

    return parent::beforeSave();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T19:56:03.837

[`CActiveRecord::beforeSave`](http://www.yiiframework.com/doc/api/1.1/CActiveRecord#beforeSave-detail)`true`如果模型处于有效状态并且可以保存，则应该返回，否则返回`false`。

# ruby-on-rails - Rails + model.rb 问题——rails 控制台错误消息——“对象不支持#inspect”

> ID：10647051
> 
> 赞同：0
> 
> 时间：2012-05-18T05:14:07.047
> 
> 标签：ruby-on-rails, model-view-controller, object, model, rails-models

EDIT3：也就是说，不要将迁移代码放在你的 model.rb 文件中！！！

EDIT2：问题（？）：任何迁移代码都属于 model.rb 文件吗？

编辑：只要提到我需要分享的额外（系统/配置/等）信息，以便从某人（即使不是你）那里得到这个问题的一个很好的答案，将不胜感激。（1-ups 以获得关于堆栈溢出优化策略的好技巧）

首先，这是命令提示符活动：

```
C:\Users\davo\Desktop\RailsProjects\simple_cms>rails c
Loading development environment (Rails 3.2.3)
irb(main):001:0> subject = Subject.find(1)
←[1m←[36mSubject Load (1.0ms)←[0m  ←[1mSELECT `subjects`.* FROM `subjects` WHERE       `subjects`.`id` = 1
LIMIT 1←[0m
=> #<Subject id: 1, name: "Initial Subject", position: 1, visible: true, created_at:"2012-05-18 01:00:26", updated_at: "2012-05-18 01:11:21">
irb(main):002:0> subject.pages
(Object doesn't support #inspect) 
```

基本模式是我们这里有两个模型，page.rb 和 subject.rb。如您所见，主题是页面的父级。这是两个模型。

**查看此代码的指南：我认为这两个模型中与此问题相关的所有内容都是 has_many 和 belongs_to 标签。我承认，我觉得这里应该有一些外键。这里应该有外键吗？或者这也是错误的？**

主题.rb

```
class Subject < ActiveRecord::Base
  # attr_accessible :title, :body
  has_many :pages

  scope :visible, where(:visible => true)
  scope :invisible, where(:visible => false)
  scope :search, lambda {|query| where(["name LIKE ?", "%#{query}%"])}
end 
```

页面.rb

```
class Page < ActiveRecord::Base
  has_many :sections
  belongs_to :subject
  # attr_accessible :title, :body
  create_table "Pages" do |t|
  t.string "name"
  t.string "permalink"
  t.integer "position"
  t.boolean "visible?"

  end
end 
```

我真的很陌生，所以如果我没有给你一些你需要的信息，请原谅我。请告知您需要哪些额外信息，我不确定错误来自何处，但我知道这是模型（M....VC）问题。那个95%。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T06:16:44.660

您的模型中有迁移。

```
create_table "Pages" do |t|
  t.string "name"
  t.string "permalink"
  t.integer "position"
  t.boolean "visible?"
end 
```

应该在 ./db/migrate/{timestamp}_create_pages.rb 中。如果你这样做了，这个文件是为你生成的`rails g model page`

您还需要一`subject_id`列来存储与主题的关系

```
class CreatePages < ActiveRecord::Migration
  def change
    create_table :pages do |t|
      t.integer :subject_id
      t.string :name
      t.string :permalink
      t.integer :position
      t.boolean :visible?

      t.timestamps
    end
  end
end 
```

# javascript - 加载 twitter 流时加载 chrome 扩展脚本

> ID：10647053
> 
> 赞同：2
> 
> 时间：2012-05-18T05:14:39.610
> 
> 标签：javascript, jquery, twitter, google-chrome-extension

我刚刚编写了一个 chrome 扩展程序，用来自 yahoo Finance 的数据替换前面用 $ 设计的股票符号。尽管基于 twitter 加载流的方式，我遇到了一些问题。我将 js 设置为在 document_end 上运行，但 twitter 会在 DOM 准备好后加载流。为了解决这个问题，我只是检查了某个元素是否存在，然后运行脚本，如果它不只是等待 500 毫秒，然后再试一次。

搜索页面上似乎也存在问题，可能是因为我正在检查的元素有一个不同的类，我还没有真正研究过这个问题。

另一个问题是，当一条推文中有大量符号时，它会造成混乱，这可能与第一个问题有关，但似乎是在插入额外的 DOM 元素。

该项目托管在 github 上，获得一些反馈和可能的贡献会很棒。

[https://github.com/billpull/Twitter-Ticker](https://github.com/billpull/Twitter-Ticker)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T13:03:20.147

最简单的方法是监听 DOMMutation 事件。在浏览器呈现推文之前，您可以使用`DOMNodeInserted`事件捕获它。

由于 Chrome 18`MutationObservers`现已实施，它速度很快，而且不会很快触发，因此很简洁。DOM Mutation Observers 是异步的，每次调用可以触发多个更改！它显着提高了突变的性能。

使用的一个例子`MutationObservers`是：

```
var observer = new MutationObserver(function onMutationObserver(mutations) {
  mutations.forEach(function(mutationNode) {
    // New Nodes added ... Deal with it!
  });
});
observer.observe(historyContainerDOM, { childList: true, subtree: true }); 
```

我在我的一个[开源扩展](https://github.com/mohamedmansour/accessible-hangouts-extension/blob/master/js/accessible_hangouts_injection.js)中添加了一些评论，讨论这个问题，随意拿走你想要的。

# iphone - dequeueReusableCellWithIdentifier 不适用于 ARC 和 IOS 4

> ID：10647054
> 
> 赞同：2
> 
> 时间：2012-05-18T05:14:44.830
> 
> 标签：iphone, ios4, automatic-ref-counting

我似乎无法开始`dequeueReusableCellWithIdentifier`工作。

我需要为 IOS 4 构建一个项目，所以我不能使用情节提要，但我正在使用 ARC。

假设我有 2 个部分，每个部分有 1 行。

查看下面的代码，我使用 strong 属性来传递所有权，因为 ARC 会插入“自动释放”代码。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
     static NSString *cellIdentifier = @"TableCellIdentifier";

     MainTableCell *cell = (MainTableCell *)[tableView dequeueReusableCellWithIdentifier:cellIdentifier];

     if (cell == nil) 
     {
          self.retainedCell = [[MainTableCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier];
     }

     [self configureCell:cell atIndexPath:indexPath];

     return cell;
} 
```

但是，对于每一行，每次调用该函数时，单元格始终为零（因此分配了一个新的 MainTableCell）。细胞永远不会被重复使用。

这不是什么大问题，除非我以编程方式调用 tableView:cellForRowAtIndexPath:，这意味着我每次都会获得一个新分配的单元格，而不是现有的单元格。

我能看到的唯一方法是将单元格添加到 NSMutableArray。

我现在缺少`dequeueReusableCellWithIdentifier`什么吗？

谢谢！

**编辑** 我正在使用下面的代码来获取单元格。如前所述，它正在创建一个新单元格，而不是重新使用应该已经制作+保留的单元格。我不需要为所有行调用 reloadData，只需更改一个特定的行。

```
MainTableCell *cell = (MainTableCell *)[self tableView:self.tableView cellForRowAtIndexPath:[NSIndexPath indexPathForRow:0 inSection:0]];
[self configureCell:cell atIndexPath:indexPath]; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T05:18:54.770

您碰巧正在使 MainTableCell 出队，然后您继续检查它是否为 nil，此时您使用完全不同的 var 来分配表格单元格。有没有搞错？尝试这个：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *cellIdentifier = @"TableCellIdentifier";
    MainTableCell *cell = (MainTableCell *)[tableView dequeueReusableCellWithIdentifier:cellIdentifier];
    if (cell == nil) 
    {
        cell = [[MainTableCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellIdentifier];
    }

    [self configureCell:cell atIndexPath:indexPath];

    return cell;
} 
```

# sql-server - 获取名字按字母顺序开头的所有员工数量

> ID：10647059
> 
> 赞同：0
> 
> 时间：2012-05-18T05:15:27.473
> 
> 标签：sql-server, tsql, group-by, aggregate-functions

在 TSQL 中，我如何获取员工 fname 的起始字母和具有该字母的员工编号。我必须在`PUBS`数据库上这样做

`select ASCII(fname) 'ASCII CODE',SUBSTRING(fname,1,1) 'LETTER' from employee`

### 输出

```
65  A
65  A
65  A
65  A
67  C
67  C
68  D
68  D
69  E
..      .. 
```

### 期望输出

```
10  A
20  B
30  C
..  .. 
```

由于它涉及按 fname 的第一个字母分组，因此我已包含`groupby fname`但输出没有变化。我需要运行的确切 SQL 是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T05:22:16.713

```
SELECT LEFT(fname,1), COUNT(1) 
FROM employee
GROUP BY LEFT(fname,1) 
```

编辑：妈的！Ninja'd - 所以有时更新有点慢哈哈

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T05:20:15.787

只需按您选择的两列分组...

```
SELECT SUBSTRING(fname,1,1) 'LETTER', COUNT(*) cnt
FROM employee
GROUP BY (fname,1,1) 
```

# bash - 如何仅列出具有补充扩展名的文件？

> ID：10647060
> 
> 赞同：-2
> 
> 时间：2012-05-18T05:15:42.183
> 
> 标签：bash, file-listing

在一个目录中，我有一堆文件，如 file1.tex、file1.pdf、file2.tex、file2.pdf 等以及其他文件。我想要，最好是 bash 中的一个衬里（作为依赖项包含在 make 文件中），

1.  列出所有 tex 文件（如果它们的 pdf 版本也可用）。
2.  列出所有 pdf 文件（如果它们的 tex 版本也可用）。

编辑

我试过

```
find . \( -name '*.pdf' -name '*.tex' \) 
```

但它没有用。如果我想通过在两个名称开关之间使用 -o 选项来查找具有 pdf**或**tex 扩展名的文件，我想上述方法很有用。谢谢

肯定的

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-18T06:02:43.677

## 解决方案

这不是很易读——最好把它做成一个脚本或 shell 函数并带有一些像样的换行——但如果你真的想的话，你可以强制循环成为单行。

```
# List TeX files with matching PDFs.
for file in *.pdf; do [ -f "${file/.pdf}.tex" ] && ls "${file/.pdf/.tex}"; done

# List PDFs with matching TeX files.
for file in *.tex; do [ -f "${file/.tex}.pdf" ] && ls "${file/.tex/.pdf}"; done 
```

## 验证解决方案

您可以使用一些示例数据快速测试该解决方案是否正常工作。

```
$ touch file1.pdf file1.tex file2.pdf file2.tex file3.pdf file4.tex

$ for file in *.pdf; do [ -f "${file/.pdf}.tex" ] && ls "${file/.pdf/.tex}"; done
file1.tex
file2.tex

$ for file in *.tex; do [ -f "${file/.tex}.pdf" ] && ls "${file/.tex/.pdf}"; done
file1.pdf
file2.pdf 
```

请注意，在这两种情况下，其他格式的没有补码的文件都会被忽略。

# android - 图库应用程序中的 Android 共享菜单

> ID：10647066
> 
> 赞同：0
> 
> 时间：2012-05-18T05:16:11.567
> 
> 标签：android

我想像 android 默认画廊应用程序共享选项这样的菜单。如何在 android sdk 中使用此菜单帮助任何代码或教程，非常感谢！

我想要输出如下屏幕截图：

![在此处输入图像描述](../Images/661530f916932ed555b98558fc087ad1.png)

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T05:18:46.347

它只是您正在寻找的快速操作栏演示。以下是一些可以帮助您入门的示例，

第一个链接来自讨论过它的 StackOverflow，

[Android 快速操作 UI 模式](https://stackoverflow.com/q/3059155/603744)

[http://www.edumobile.org/android/android-apps/quick-action-demo/](http://www.edumobile.org/android/android-apps/quick-action-demo/)

[http://www.londatiga.net/it/how-to-create-quickaction-dialog-in-android/](http://www.londatiga.net/it/how-to-create-quickaction-dialog-in-android/)

# xcode4 - 我应该如何处理升级到 ARC 代码后出现的警告？

> ID：10647070
> 
> 赞同：1
> 
> 时间：2012-05-18T05:17:05.093
> 
> 标签：xcode4, automatic-ref-counting, compiler-warnings

我收到 213 警告。

以下是一些及其问题：

用户控制器.m：

> ARC 问题——将保留对象分配给不安全的属性；赋值后对象将被释放 V r'

登录控制器.m

> ARC 问题——将保留对象分配给不安全的属性；分配后对象将被释放

好吧，我检查了该对象是在没有强或保留的情况下声明的。但是，ARC 文件的默认值是强的，而不是分配的。

编译器是否仍然认为这些文件是非 ARC 文件？我在哪里可以检查？

> 语义问题 未指定“assign”、“retain”或“copy”属性——假定为“assign”
> 
> 语义问题默认属性“分配”不适用于非 gc 对象
> 
> 语义问题 未指定“assign”、“retain”或“copy”属性——假定为“assign”
> 
> 语义问题 同样，没有指定属性意味着应该假设 RETAIN，这是 ARC 文件的新默认值。

这些东西显示在 coredata 自动生成的代码上。

我应该忽略这些警告吗？

但是太讨厌了

一个一个地替换代码太费时间了。这也意味着我没有利用默认值确实很强的事实。

也许我可以搜索和替换。我应该搜索和替换什么确切的格式？

程序运行良好。

![在此处输入图像描述](../Images/4eea7d1b74dbfb074e61b4dceb95a478.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T15:59:41.563

我会为当前项目关闭 ARC，并在您创建的下一个新项目中使用它。从非 ARC 到 ARC 真是太痛苦了 D：

# ruby - Ruby中的'and'和'&&'有什么区别

> ID：10647072
> 
> 赞同：2
> 
> 时间：2012-05-18T05:17:16.513
> 
> 标签：ruby

> **可能重复：**
> [Ruby 中“and”和 && 的区别？](https://stackoverflow.com/questions/1426826/difference-between-and-and-in-ruby)

`and`我意识到 Ruby和Ruby之间存在差异`&&`（这是一个令人困惑的句子）。

```
@show_votes = !current_user.nil? and current_user.is_admin?
if @show_votes
  #code assumes everyone logged in is admin
end 
```

然而：

```
@show_votes = !current_user.nil? && current_user.is_admin?
if @show_votes
  #code assumes only admin is admin
end 
```

这两个运营商有什么区别？我发现它们有不同的操作优先级，但仍然无法弄清楚真正的区别是什么。

（该应用程序是用 Rails 编写的。虽然我希望在 Sinatra 中也会发生同样的情况，因为这很可能与 Ruby 语言有关）

编辑代码以更好地反映情况。

# java - Android 开发 SQLite 与 Hashtable

> ID：10647076
> 
> 赞同：0
> 
> 时间：2012-05-18T05:18:02.973
> 
> 标签：java, android, sqlite, hashtable

因此，我正在关注如何创建一个简单的 Android 应用程序来存储一堆随机引号的教程。我注意到他们使用了 SQLite 数据库，而许多其他 Android 教程使用 SQLite 来存储东西。我不太习惯 SQLite。我可以通过将引号存储在哈希表中来获得相同的结果吗？

SQLite 数据库和哈希表在性能方面有什么区别？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T05:24:07.403

> SQLite 数据库和哈希表在性能方面有什么区别？

（内存中的）哈希表（您可能应该使用`HashMap`）会更快。但是，它并没有解决在您的应用程序关闭时使您的引号“持续存在”的问题。

SQLite 是一个数据库，数据库的要点是数据的持久化。

（使用某种数据库还有很多其他好处。一个可能与您相关的是，您可以在典型数据库中存储比内存中更多的内容。数据库将内容存储在设备的硬盘上驱动器 / SSD / 任何比主存容量大得多的东西。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T05:23:25.683

[http://www.brighthub.com/mobile/google-android/articles/25023.aspx](http://www.brighthub.com/mobile/google-android/articles/25023.aspx)

我建议使用 SQLite，因为您可以非常轻松地访问数据库，并且通过 Eclipse 的 DDMS 插件也很容易理解和查看数据库表上面的链接可以帮助您在 DDMS

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T05:28:05.273

这取决于你的意图。如果要存储应用偏好、用户评分等数据，请使用 SQLite。这些数据将可用于下一次启动应用程序。Hashtable 在内存中，当然比 SQLite 快，所有存储在 Hashtable 中的信息都会在应用停用或终止时丢失。

# cakephp - cakephp2.x 组件不工作

> ID：10647078
> 
> 赞同：1
> 
> 时间：2012-05-18T05:18:06.303
> 
> 标签：cakephp, components

我像这样创建我的组件

```
<?php
class UtilComponent extends Object
{
   function strip_and_clean( $id, $array) {
      $id = intval($id);
     if( $id < 0 || $id >= count($array) ) {
        $id = 0;
     }
      return $id;
   }
} 
```

并像这样使用它

```
var $name = 'Books';
    var $uses = array();
    var $components = array('Util');
    public function index($id = 0){
        $this -> set('page_heading','Packt Book Store');
        $book=array(
            '0'=>array(
                'bookTitle'    =>'Object Oriented Programming with PHP5',
                'author'       =>'Hasin Hayder',
                'isbn'         => '1847192564',
            'releaseDate' => 'December 2007'
                ),
            '1'=>array(
                'bookTitle'    =>'Building Websites with Joomla! v1.0',
                'author'       =>'Hagen Graf',
                'isbn'         => '1904811949',
            'releaseDate' => 'March 2006'
                ),
            );
        $id = $this->Util->strip_and_clean( $id, $book);
        $this->set('book',$book[$id]);
        $this->pageTitle='Welcome to the Packt Book Store!';
    } 
```

但我收到了这个错误

`**call_user_func_array()`期望参数 1 是一个有效的回调，类 'UtilComponent' 没有方法 'initialize' [CORE\Cake\Utility\ObjectCollection.php，第 130 行]**

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-18T05:21:53.233

`Component`我相信一个组件不应该扩展`Object`：

```
class UtilComponent extends Component 
{

} 
```

然后组件将继承该`initialize()`方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-04T10:13:51.893

我也面临同样的问题

警告 (2)：call_user_func_array() 期望参数 1 是有效回调，类 'ImageComponent' 没有方法 'initialize' [CORE\Cake\Utility\ObjectCollection.php，第 128 行]

警告 (2)：call_user_func_array() 期望参数 1 是有效回调，类 'ImageComponent' 没有方法 'beforeRender' [CORE\Cake\Utility\ObjectCollection.php，第 128 行]

警告 (2)：call_user_func_array() 期望参数 1 是有效回调，类 'ImageComponent' 没有方法 'shutdown' [CORE\Cake\Utility\ObjectCollection.php，第 128 行]

**解决方案是：**

然后将图像组件添加到控制器/组件中

更改**类 ImageComponent 扩展对象 { ... }**

使用**类 ImageComponent 扩展组件 { ... }**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-25T06:27:35.130

遇到了类似的问题。

除了错误消息**...没有方法“初始化”...**，还有一条消息**...没有方法“启动”** ...。

问题是我在目录中创建了组件文件，`Controller`而不是`Controller/Component`.

# mysql - MySQL：有点不同的主从 SQL 查询

> ID：10647079
> 
> 赞同：1
> 
> 时间：2012-05-18T05:18:26.113
> 
> 标签：mysql, sql

我有以下情况：

```
Table 1
group_id
location

Table 2
group_id
empname 
```

我需要以下输出：

```
group_id, location, empname
1         ABC        NULL
1         ABC        XYZ
1         ABC        PQR 
```

所以第一行是主行，其余行都是该主行的详细信息行。

我怎样才能得到这个输出？

TIA

博

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T07:40:39.197

```
SELECT t1.group_id,t1.location,NULL AS empname FROM Table1 t1
UNION
SELECT t1.group_id,t1.location,t2.empname 
FROM Table1 t1 INNER JOIN Table2 t2 ON t1.group_id=t2.group_id
ORDER BY 1,3 
```

**编辑：** 只需将第一个 SQL 语句的第三列别名为`empname`.

# facebook - 发布类似于 Draw My Thing 的操作

> ID：10647081
> 
> 赞同：1
> 
> 时间：2012-05-18T05:18:37.853
> 
> 标签：facebook, facebook-graph-api, facebook-opengraph

在 Facebook 游戏 DRAW MY THING 中，一旦用户绘制了图片，动作就会**与绘制的图片一起发布到时间轴**

是否可以从与 Facebook 集成的手机游戏中做到这一点？如果是，我们该怎么做？

PS我花了很多时间，试图让这个工作。我遇到了一些问题（http://stackoverflow.com/questions/10643748/facebook-publish-actions-values-from-preview-object-are-taken-when-publishing）所以我从头开始。因此这篇文章。所以请不要发表评论说诸如“证明你到目前为止所做的事情”之类的东西。

任何帮助表示赞赏！

# objective-c - 如何从其帧 iPhone 创建视频

> ID：10647091
> 
> 赞同：12
> 
> 时间：2012-05-18T05:19:27.947
> 
> 标签：objective-c, video, avfoundation, mpmovieplayercontroller

我已经完成了研发，并在如何从播放的视频文件中获取图像帧方面取得了成功`MPMoviePlayerController`。

从此代码中获取所有帧，并将所有图像保存在一个数组中。

```
for(int i= 1; i <= moviePlayerController.duration; i++)
{
    UIImage *img = [moviePlayerController thumbnailImageAtTime:i timeOption:MPMovieTimeOptionNearestKeyFrame];
    [arrImages addObject:img];
} 
```

现在的问题是，在更改了一些图像文件之后，比如为图像添加情感并添加过滤器，例如；电影真实，黑白，我们如何再次创建视频并将相同的视频以相同的帧速率存储在 Document 目录中而不会丢失视频质量。

更改了一些图像后，我完成了以下代码以再次保存该视频。

```
- (void) writeImagesAsMovie:(NSString*)path 
{
    NSError *error  = nil;
    UIImage *first = [arrImages objectAtIndex:0];
    CGSize frameSize = first.size;
    AVAssetWriter *videoWriter = [[AVAssetWriter alloc] initWithURL:
                                  [NSURL fileURLWithPath:path] fileType:AVFileTypeQuickTimeMovie
                                                              error:&error];
    NSParameterAssert(videoWriter);

    NSDictionary *videoSettings = [NSDictionary dictionaryWithObjectsAndKeys:
                                   AVVideoCodecH264, AVVideoCodecKey,
                                   [NSNumber numberWithInt:640], AVVideoWidthKey,
                                   [NSNumber numberWithInt:480], AVVideoHeightKey,
                                   nil];
    AVAssetWriterInput* writerInput = [[AVAssetWriterInput
                                        assetWriterInputWithMediaType:AVMediaTypeVideo
                                        outputSettings:videoSettings] retain];

    AVAssetWriterInputPixelBufferAdaptor *adaptor = [AVAssetWriterInputPixelBufferAdaptor
                                                     assetWriterInputPixelBufferAdaptorWithAssetWriterInput:writerInput
                                                     sourcePixelBufferAttributes:nil];

    NSParameterAssert(writerInput);
    NSParameterAssert([videoWriter canAddInput:writerInput]);
    [videoWriter addInput:writerInput];

    [videoWriter startWriting];
    [videoWriter startSessionAtSourceTime:kCMTimeZero];

    int frameCount = 0;
    CVPixelBufferRef buffer = NULL;
    for(UIImage *img in arrImages)
    {
        buffer = [self newPixelBufferFromCGImage:[img CGImage] andFrameSize:frameSize]; 

            if (adaptor.assetWriterInput.readyForMoreMediaData) 
            {
                CMTime frameTime = CMTimeMake(frameCount,(int32_t) kRecordingFPS);
                [adaptor appendPixelBuffer:buffer withPresentationTime:frameTime];

                if(buffer)
                    CVBufferRelease(buffer);
            }
        frameCount++;
    } 

     [writerInput markAsFinished];
     [videoWriter finishWriting];
}

- (CVPixelBufferRef) newPixelBufferFromCGImage: (CGImageRef) image andFrameSize:(CGSize)frameSize
{
    NSDictionary *options = [NSDictionary dictionaryWithObjectsAndKeys:
                             [NSNumber numberWithBool:YES], kCVPixelBufferCGImageCompatibilityKey,
                             [NSNumber numberWithBool:YES], kCVPixelBufferCGBitmapContextCompatibilityKey,
                             nil];
    CVPixelBufferRef pxbuffer = NULL;
    CVReturn status = CVPixelBufferCreate(kCFAllocatorDefault, frameSize.width,
                                          frameSize.height, kCVPixelFormatType_32ARGB, (CFDictionaryRef) options, 
                                          &pxbuffer);
    NSParameterAssert(status == kCVReturnSuccess && pxbuffer != NULL);

    CVPixelBufferLockBaseAddress(pxbuffer, 0);
    void *pxdata = CVPixelBufferGetBaseAddress(pxbuffer);
    NSParameterAssert(pxdata != NULL);

    CGColorSpaceRef rgbColorSpace = CGColorSpaceCreateDeviceRGB();
    CGContextRef context = CGBitmapContextCreate(pxdata, frameSize.width,
                                                 frameSize.height, 8, 4*frameSize.width, rgbColorSpace, 
                                                 kCGImageAlphaNoneSkipFirst);
    NSParameterAssert(context);
    CGContextConcatCTM(context, CGAffineTransformMakeRotation(0));
    CGContextDrawImage(context, CGRectMake(0, 0, CGImageGetWidth(image), 
                                           CGImageGetHeight(image)), image);
    CGColorSpaceRelease(rgbColorSpace);
    CGContextRelease(context);

    CVPixelBufferUnlockBaseAddress(pxbuffer, 0);

    return pxbuffer;
} 
```

我是这个主题的新手，所以请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-18T05:36:39.920

您可以参考以下链接，希望您能得到一些帮助：-

1.  [http://www.iphonedevsdk.com/forum/iphone-sdk-development-advanced-discussion/77999-make-video-nsarray-uiimages.html](http://www.iphonedevsdk.com/forum/iphone-sdk-development-advanced-discussion/77999-make-video-nsarray-uiimages.html)

2.  [使用带有 iPhone SDK 的 FFMPEG 库进行视频编码](https://stackoverflow.com/questions/1679649/using-ffmpeg-library-with-iphone-sdk-for-video-encoding)

3.  [Iphone SDK，从 UIImage 创建视频](https://stackoverflow.com/questions/7873423/iphone-sdk-create-a-video-from-uiimage)

4.  [iOS 视频编辑 - 是否可以使用 iOS 4 AVFoundation 类将两个视频文件合并（并排而不是一个接一个）为一个？](https://stackoverflow.com/questions/5757423/ios-video-editing-is-it-possible-to-merge-side-by-side-not-one-after-other-t)

# silverlight - Silverlight tabcontrol，如何保持当前选定的选项卡处于选中状态

> ID：10647096
> 
> 赞同：0
> 
> 时间：2012-05-18T05:19:52.917
> 
> 标签：silverlight, tabcontrol

我有一个选项卡控件，我将它放在绑定到集合的数据表单中。如果我在数据表单的第 1 页上并且我选择了 tabcontrol 的选项卡 2，当我导航到数据表单的第 2 页时，tabcontrol 默认选定的选项卡为第一个选项卡。我正在使用 MVVM。所以，我的问题是，当我通过数据表单记录进行分页时，如何保持选择的任何选项卡保持选中状态。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T20:44:26.600

它不清楚您的 tabcontrol 选择的选项卡绑定到底是什么。如果它绑定到您正在分页的集合中的某个对象上的某个值，那么它很明显不会被保存，因为这意味着每当您更改选项卡索引时，您应该将整个集合更新为相同的索引，所以当您使用选项卡到下一个项目时与前一项具有相同的 tabindex。

我猜你可以做到这一点。或发布更多代码，以便我们找到更好的解决方案。

# javascript - 使用 CSS 和 Javascript/原型的悬停效果

> ID：10647097
> 
> 赞同：0
> 
> 时间：2012-05-18T05:20:09.377
> 
> 标签：javascript, html, css, prototypejs

我有一个 4x4 的瓷砖矩阵。每个图块基本上是一个`div`. 现在，我想做以下事情：

*   当鼠标指针位于特定图块上时，我必须检查对该图块执行检查（使用我已经完成的位置和东西）。如果图块符合要求，那么它应该具有悬停效果。

注意：瓷砖不断变化的位置，所以在某一时刻给定的瓷砖必须有悬停效果，但重新排列后可能没有。并且重新排列不完整，即我没有重置整个矩阵。它只涉及移动几个瓷砖。

我需要使用 css 类和 javascript（原型，而不是 jquery）来实现它。我为 class 设置了悬停样式`hoverTile`。我在每个图块上添加了一个鼠标悬停，这样每当用户的鼠标悬停在一个图块上时，我的函数就会被调用，它使用`setAttribute`. 这是一个摘要：

```
Before:
<div> ... </div>

After:
<div class="hoverTile"> ... </div> 
```

风格：

```
.hoverTile: hover{
    text-color: red;
} 
```

这似乎不起作用，即使当我检查 html 页面时出现类名。这里有什么错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T05:27:24.247

看看我为你设置的演示[这里](http://jsfiddle.net/9MejY/)

2个问题：

1) 您的 seudo-selector ( `:hover`) 在冒号 ( ) 之后不应有空格`:`。

2）`text-color`应该只是`color`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T21:21:07.410

Micron 和 Igo 可能回答了您的问题，尽管我想补充一点，您可以通过添加来达到相同的效果 `div:hover { color: red; }` （您可能不需要 hoverTile 类）。

至于边框颜色 `border-color:red;`应该可以。[ [W3schools](http://www.w3schools.com/cssref/pr_border-color.asp) ] 所以 `.hoverTile { border: 5px solid #ff0000; }`在你的计划中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T05:24:30.690

你的 CSS 应该是

```
.hoverTile:hover {
    color: red;
} 
```

不是`text-color`（这不是 CSS 属性）。希望修复它。

**编辑：**另外，如果我理解正确，您是`hoverTile`在鼠标悬停时添加类吗？在这种情况下，您根本不需要`:hover`CSS 中的伪类。不过，请确保`hoverTile`在 mouseout 上删除该类。

# mysql - Mysql：加密数据库中的旧数据

> ID：10647100
> 
> 赞同：-1
> 
> 时间：2012-05-18T05:20:21.293
> 
> 标签：mysql, encryption, aes

我对mysql有一个小问题。我在表中有数据，我想加密它们。我使用这个命令：

```
UPDATE `Name_Table` SET `COL1`=(SELECT AES_ENCRYPT( `COL1`, 'difficultKey')) WHERE 1 
```

和

```
UPDATE `Name_Table` SET `COL1`=AES_ENCRYPT( `COL1`, 'difficultKey') WHERE 1 
```

但是这个推荐会破坏我的数据（我无法解密）。你能帮助我吗？

我习惯这个： - phpmyadmin（书签 - sql） - utf8_general 来比较字符串

拜托，你能帮帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T05:36:43.627

我觉得你列的数据类型是“varchar/char”。这就是数据被破坏的原因。显然，您应该以 blob 格式存储要进行 AES_ENCRYPTed 的任何内容

我认为这是因为 varchar 字段无法处理加密产生的某些字符。

引用[AES_ENCRYPT](http://dev.mysql.com/doc/refman//5.5/en/encryption-functions.html#function_aes-decrypt)的 MYSQL 文档。

“ AES_ENCRYPT() 加密字符串并返回二进制字符串”

因此，您需要一个 BLOB（二进制大对象）。

# c++ - 系统托盘应用 Linux Qt/C++

> ID：10647104
> 
> 赞同：4
> 
> 时间：2012-05-18T05:20:37.853
> 
> 标签：c++, linux, qt, system-tray, trayicon

我正在用 C++ 编写一个使用系统托盘的 Qt 应用程序。如示例中所示，我已经使用 QSystemTrayIcon 类实现了系统托盘，但它与我计算机上存在的其他系统托盘图标的行为不同。例如，我在 Ubuntu 12.04 上安装了 Spotify，它显示了一个带有下拉菜单的系统托盘图标。在我的应用程序中，它会显示一个带有上下文菜单的系统托盘图标，这意味着您必须右键单击它才能使菜单处于活动状态。使用 Spotify，只需单击图标，菜单就会显示出来。如何在 Ubuntu 中获取本机系统托盘图标？我可以使用 X11/Linux 的特定代码而不是内置的 Qt 函数。非常感谢。

这是我的代码：

```
void MainWindow::closeEvent(QCloseEvent *event)
{
    if (trayIcon->isVisible()) {
        hide();
        event->ignore();
    }
}

void MainWindow::createActions()
{
    restoreAction = new QAction(tr("&Show"), this);
    connect(restoreAction, SIGNAL(triggered()), this, SLOT(show()));

    quitAction = new QAction(tr("&Exit"), this);
    connect(quitAction, SIGNAL(triggered()), qApp, SLOT(quit()));
}

void MainWindow::createTrayIcon()
{
    trayIconMenu = new QMenu(this);
    accountsMenu = trayIconMenu->addMenu(tr("Accounts"));
    trayIconMenu->addSeparator();
    trayIconMenu->addAction(restoreAction);
    trayIconMenu->addSeparator();
    trayIconMenu->addAction(quitAction);

    trayIcon = new QSystemTrayIcon(this);
    trayIcon->setContextMenu(trayIconMenu);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-18T05:51:50.683

尝试从QSystemTrayIcon的[激活](http://doc.qt.nokia.com/4.7-snapshot/qsystemtrayicon.html#activated)信号下拉菜单。

```
void Window::iconActivated(QSystemTrayIcon::ActivationReason reason)
 {
     switch (reason) {
         case QSystemTrayIcon::Trigger:
             // show your menu here
     }
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-22T12:09:54.110

我在这里为其他人的利益发表评论......当我们在 Ubuntu 12.04 LTS 上部署我们的产品（使用 Qt 构建）时，我遇到了同样的问题。我们使用 qt.conf 的方式部署。经过大量搜索和浏览 sni-qt 上的源代码后，我发现需要正确找出插件。因此，我创建了插件并将其从我们的构建环境复制到相对于 qt.conf 中针对“Plugins =”条目提到的应用程序路径的插件目录中。还要确保 sni-qt 已更新并安装在已部署的 Ubuntu 12.04 机器上。菜单显示为其他托盘应用程序的显示。您可以从 32 位机器上的 /usr/lib/i386-linux-gnu/qt4/plugins/ 或 64 位机器上的等效路径复制插件。对于这个问题，systemtrayicon 下的插件是必需的。

HTH。

# open-source - 打开 Bravo erp + 信息

> ID：10647114
> 
> 赞同：0
> 
> 时间：2012-05-18T05:21:46.677
> 
> 标签：open-source, openbravo

我希望安装 openbravo 的社区版。但我找不到一些信息。我想知道社区版本的并发用户数限制，注册用户数和这个系统的任何限制。

非常感谢您的帮助..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-19T03:05:01.107

Openbravo 社区版没有并发用户限制，但某些高级功能（如需要专业版）。

```
Core - Core: Included in the core, licensed under Openbravo Public License

Open Source Extension Module - Extension Module: Same as core from licensing and support perspective.

Premium Feature (zero cost) - Premium Feature: Same as core from licensing and support perspective, requires a Professional Edition or Basic Edition to use, zero cost

Commercial Extension Module (zero cost) - Commercial Extension Module: Requires a Professional Edition or Basic Edition to install and use, licensed under Openbravo Commercial License, zero cost for Professional Edition

Commercial Extension Module - Commercial Extension Module: Requires a Professional Edition or Basic Edition to install and use, licensed under Openbravo Commercial License, at additional cost 
```

详情请查看以下网址，

[http://wiki.openbravo.com/wiki/ERP/Roadmap](http://wiki.openbravo.com/wiki/ERP/Roadmap)

# c++ - 如何从 URI 中获取 sp_track*？

> ID：10647129
> 
> 赞同：1
> 
> 时间：2012-05-18T05:23:35.450
> 
> 标签：c++, spotify

有一个轨道 uri 像 (spotify:track:14fmbvjYLqRZEXz1VZdM2M)。我们想从 uri 中找到 sp_track*。但是有一个问题是我们不知道它来自哪里，可能来自播放列表、搜索结果或其他地方。

目前我有2个选择：

(1)。找到播放列表中的sp_track*对uri一一比较，如果没有找到，继续在搜索结果中查找，如果没有找到，...

(2)。uri => 链接 => sp_track*

哪个更好，这两个选项有什么区别。还是您有其他更好的解决方案？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T09:05:41.263

您的第二个解决方案更好。为什么你有问题？你试过了吗？

# drupal - Drupal，休息服务器。如何在索引视图中包含自定义字段？

> ID：10647133
> 
> 赞同：2
> 
> 时间：2012-05-18T05:23:51.407
> 
> 标签：drupal, drupal-7

我正在尝试使用服务和 rest_server 在 Drupal 7 中设置一个 json api。

到目前为止，我可以获得节点列表`http://localhost/api/node.json` 并查看特定节点`http://example.com/api/node/{id}.json`

是否可以自定义显示在索引视图中的字段？？（`http://example.com/api/node.json`）

具体来说，我想在我的自定义内容类型中添加一个或两个自定义字段，这些字段在查询 api 时需要出现在索引 json 中

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-16T19:34:18.270

这是可能的，通过添加模块“[服务视图](http://drupal.org/project/services_views)”

您可以在视图中选择您需要的所有字段。
我现在只是自己做的。
我希望这会帮助你或某人:)

杰罗姆

# java - 突出显示 TextView 中的文本行，包括所有宽度

> ID：10647141
> 
> 赞同：2
> 
> 时间：2012-05-18T05:25:00.173
> 
> 标签：java, android, textview

我已经浏览了一些如何在`TextView`使用`Spannable`类中突出显示某些文本的解决方案。但它只允许突出显示由字符组成的片段。如果我想突出显示包含`TextView`' 宽度的文本行，但该行中的文本没有填满整个视图的宽度怎么办？

如果有人在这种情况下有经验，我很乐意接受建议。

# 更新：

好的，我希望下面的图片能让我的目标更加清晰。

这是我可以使用的方法`Spannable`：

![在此处输入图像描述](../Images/83e69e8d53a58dcc00bccdc18b73c291.png)

这就是我想要的：

![在此处输入图像描述](../Images/83c8d371b4632c59009a07cd5f161ecd.png)

我真的希望这很清楚。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-20T19:13:58.340

可能有一种更简单的方法可以做到这一点，但我相信你需要实现一个实现 LineBackgroundSpan 的类来做你想做的事。这是一些示例代码：

```
public class MyActivity extends Activity {

    private static class MySpan implements LineBackgroundSpan {
        private final int color;

        public MySpan(int color) {
            this.color = color;
        }

        @Override
        public void drawBackground(Canvas c, Paint p, int left, int right, int top, int baseline,
                int bottom, CharSequence text, int start, int end, int lnum) {
            final int paintColor = p.getColor();
            p.setColor(color);
            c.drawRect(new Rect(left, top, right, bottom), p);
            p.setColor(paintColor);
        }
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        final TextView tv = new TextView(this);
        setContentView(tv);

        tv.setText("Lines:\n", BufferType.EDITABLE);
        appendLine(tv.getEditableText(), "123456 123 12345678\n", Color.BLACK);
        appendLine(tv.getEditableText(), "123456 123 12345678\n", Color.RED);
        appendLine(tv.getEditableText(), "123456 123 12345678\n", Color.BLACK);
    }

    private void appendLine(Editable text, String string, int color) {
        final int start = text.length();
        text.append(string);
        final int end = text.length();
        text.setSpan(new MySpan(color), start, end, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T05:42:32.210

你可以`android:padding="5dp"`在你的 xml 布局文件中做，你可以通过 style xml 和 Spannable String 突出显示 noramlly 希望它会受到欢迎

```
TextView TV = (TextView)findViewById(R.id.text);
TV.setText("Italic, highlighted, bold.", TextView.BufferType.SPANNABLE);

Spannable WordtoSpan = (Spannable) TV.getText();

WordtoSpan.setSpan(new BackgroundColorSpan(0xFFFFFF00), 8, 19, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);

TV.setText(WordtoSpan); 
```

[链接1](http://www.androidworks.com/changing-the-android-edittext-ui-widget)

这可能会帮助你

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T06:16:11.593

将以下代码保存在可绘制文件夹中

```
<?xml version="1.0" encoding="UTF-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android">
    <solid android:color="<<your color code"/>
</shape> 
```

并指定 textview 背景如下

```
android:background="@drawable/<<your file name>>" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-20T18:08:03.263

您尝试做的事情可以使用`StateListDrawable`.

在触摸模式下让您的所有`TextView`'s 聚焦。为 textview 的背景颜色和文本颜色定义 statelistdrawables，并`requestFocus()`在您想要突出显示 textview 时调用。

StateListDrawable 用于 textview 的背景：

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item
     android:state_focused="true"
     android:drawable="#0F0" />

    <item android:drawable="#0000" />

</selector> 
```

同样为文本颜色定义一个选择器列表。

# android - Android服务不能独立工作

> ID：10647146
> 
> 赞同：1
> 
> 时间：2012-05-18T05:26:08.157
> 
> 标签：android, android-service

> **可能重复：**
> [Android 服务使 Activity 没有响应](https://stackoverflow.com/questions/2338888/android-service-makes-activity-not-responding)

我使用服务在数据库和视图之间同步数据。但是服务不能正常工作，每当我使用服务来处理长任务时，视图停止响应（我不能在 UI 中做任何事件），我必须等待服务完成。这是我的服务：

```
public class SyncService extends Service{
private static final String TAG = "SyncService";
@Override
public void onCreate()
{       
    super.onCreate();
}

@Override
public void onDestroy()
{
    super.onDestroy();
}

@Override
public IBinder onBind(Intent intent)
{
    Log.d(TAG, "call onBind");
    return new DataManagerBinder();
}

private class DataManagerBinder extends Binder implements IUserDataManager
{
    @Override
    public void doProcess(Activity mView)
    {
        //do some long task (not touch UI thread)
        // this will cause the view not response
        syncDB();
        // update view after process completed
        mView.updateViewOnComplete();
    }

} 
```

我尝试在客户端活动中绑定此服务

```
//the interface to handle binder 
IUserDataManager  viewManager = null;    
ServiceConnection serviceConnection = new ServiceConnection()
{

    @Override
    public void onServiceDisconnected(ComponentName name)
    {
        Log.i(TAG, "connection closed unexpectedly");
        viewManager = null;
    }

    @Override
    public void onServiceConnected(ComponentName name, IBinder binder)
    {
        Log.d(TAG, "serviceConnection onServiceConnected");
        viewManager = (IUserDataManager) binder;
        viewManager.doProcess(MyActivity.this);
    }
};

    Intent intent = new Intent(MyActivity.this, SyncService.class);
    bindService(intent, serviceConnection, Context.BIND_AUTO_CREATE); 
```

请给我解决方案。提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T21:07:29.150

阅读有关服务的[文档](http://developer.android.com/reference/android/app/Service.html)，特别是“什么是服务？” 段落。该服务在主 UI 线程上运行。看看[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)，应该可以解决您的问题。这里的工作是在后台线程中完成的，并将结果发送回 UI 线程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T22:28:24.160

虽然其他人给出了一些回应，但我不知道是否强调了要点：虽然 a`Service`听起来像是会在后台自动运行的东西，但它*没有*。它只是一段无需维护 UI 即可对意图做出反应的代码。但是，UI 线程仍然为 Service 进行处理。

相比之下，它看起来就像您想要的那样，`Service`它*位于*后台并在后台线程中执行一些工作。您将*使用*Service 类来生成一个新线程，这通常是在响应您可以定义的某些意图时完成的（通常在您的`onStart()`或类似的东西中）。您可能会启动一个新线程，该线程实际上执行更新数据库等工作，并使用您的主服务来协调该线程。

由于看起来您*还想*与服务通信，因此您必须实现一个适当的`Messenger`配对`Handler`来跟踪您在 UI 和服务之间传递的消息（协调后台线程），以及（可能）某种方式（也可能是服务和后台线程之间协调的信使。

正如其他人所指出的，您还可以使用`AsyncTask`在 UI 线程上执行操作并“无缝”使用后台线程。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T05:32:43.127

Android 在一段时间后关闭服务以节省资源。但是，您可以使用类似的东西来防止这种情况发生

```
int onStartCommand(Intent, int, int){
return START_STICKY;
} 
```

参考[这个](http://developer.android.com/reference/android/app/Service.html)

# perl - xml格式变化时的xpath查询

> ID：10647147
> 
> 赞同：2
> 
> 时间：2012-05-18T05:26:08.997
> 
> 标签：perl, bash, xpath, wildcard

我有一系列变量类型，例如：

```
abc1A, abc1B, abc3B, ...
xyz1A, xyz2A, xyz3C, ...
data1C, data2A, ... 
```

以多种xml格式存储：

```
<area name="DataMap">
    <int name="number" nullable="true">
        <case var="abc2,abc3,abc5">11</case>
        <case var="abc4,abc6*">8</case>
        <case var="data1,xyz7,xyz8">22</case>
        <case var="data3A,xyz{9},xyz{5A,5B,5C}">24</case>
        <case var="xyz{6,4A,4B,4C}">20</case>
        <case var="other01">15</case>
    </int>
</area> 
```

我希望查询像 xyz5A 这样的实例映射到什么。查询应该返回 24，但我不知道它在 xml 节点中的引用是否像“xyz4A”那样显式，或者通过像“xyz4*”这样的通配符，或者像上面那样在花括号中。

这会查询该行上的字符串并将成功返回命中：

```
xpath '/area[@name="DataMap"]/int[@name="number"]/case[contains(@var,"xyz")][contains(@var,"5A")]' 
```

但它也返回一个不正确的 data5A 命中：

```
xpath '/area[@name="DataMap"]/int[@name="number"]/case[contains(@var,"data")][contains(@var,"5A")]' 
```

是否存在解析上述不一致（但我认为是有效的）xml 的 xpath/其他查询构造？我似乎只能查询显式字符串匹配与通配符和花括号格式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T15:34:26.957

身在其中，`bash/perl`你很可能必然会`libxml`。libxml 不支持 XPath 2.0。关于带有 libxml/libxslt 和 Perl 的 XPath/XSLT 2.0 有很多关于 SO 的问题。

XPath 1.0 有多种[字符串函数](http://www.w3.org/TR/xpath/#section-String-Functions)（我不得不承认其中很小），您可以尝试将它们堆叠在一起。我进行了一些实验，结果我也不喜欢，也没有成功涵盖所有可能的情况。你会有“丑陋”的结构，如：

```
...
or
(contains(@var, ',xyz{') and 
 contains(substring-before(substring-after(@var, ',xyz{'), '}'), '5A') and
     (contains(substring-before(substring-after(@var, ',xyz{'), '}'), ',5A,') or
      starts-with(substring-after(@var, ',xyz{'), '5A,') or
      starts-with(substring-after(@var, ',xyz{'), '5A}') or
      substring-after(substring-before(substring-after(@var, ',xyz{'), '}'), ',5A') = ''))

or
... 
```

然后你会意识到`substring-*`函数在匹配字符串的第一次出现时起作用，你需要更多的`and`s 和`or`s 层来处理像你这样的情况：

```
<case var="data3A,xyz{9},xyz{5A,5B,5C}">24</case> 
```

哪里有多个`xyz{`，而您需要的一个不知道是第一个。

**我认为这是您忘记了自己拥有 XML 并只做 Perl 擅长的事情并将其视为文本的情况**。尽管我很喜欢用于 XML 处理和数据提取的 XML 感知工具，但您可能会更好地使用专为它设计的语言中的正则表达式和字符串操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T18:17:59.697

我想最聪明的做法是遍历所有变量并以编程方式找到匹配项，而不是要求 XPath 去做。

除此之外，我至少对牙套有一些想法；不幸的是，他们可能对这个问题没有太大帮助`*`。

似乎有 perl XPath 实现，您可以在其中编写`.../case[@var =~ /some_regex/]`，也许`.../case["xyz4A" =~ to_regex(@var)]`，甚至可能`.../case[explode_braces(@var) =~ /(^|,)xyz4A(,|$)/]`（当然，使用适当编写`explode_braces`的函数）。例如，参见[http://www.perlmonks.org/?node_id=831612 。](http://www.perlmonks.org/?node_id=831612)我希望这种`explode_braces`方法比第一种方法更容易工作——而且我确实经常使用正则表达式。再说一次，您似乎使用了 bash-regex，并且将它们转换为 perl 正则表达式也应该相对简单，所以如果第二个想法有效，那么您可能会很高兴。

如果这不起作用，也许挂钩到您的 XML 解析器或在它之前并通过扩展大括号来修复这个可怕的 XML 设计？

```
$input =~ s/\bvar="([^"]*)"}/'var="'+explode_braces($2)+'"'/eg; 
```

（或者非常相似的东西，对不起，我在过去几年没有写太多 perl。另外，这假设你的 xml 只使用一种类型的属性引号，但这应该很容易修复，并且是唯一`var="`可以找到的地方是在这些属性中，这可能是一个更难的限制。）

# android - Android上获取wifi AP详细信息

> ID：10647149
> 
> 赞同：0
> 
> 时间：2012-05-18T05:26:23.880
> 
> 标签：android, wifi, noise, rssi, dbm

我在 android 虚拟终端应用程序上使用了命令“iwlist wlan0 scan”，并获取了一些关于 AP 的信息，特别是噪声 dbm。如果手机已使用 cyanogen mod 植根于即时消息，则信息可用。

没有root的手机可以吗？

android上的任何示例实现？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-23T07:55:38.060

我能想到的就是扫描周围的 AP 并查看检​​索到的 ScanResult。不幸的是，他们决定隐藏大部分信息，因此您可以看到的内容不多。当您想使用非 root 设备处理 AP 信息时，这确实很麻烦。

[扫描结果](http://developer.android.com/reference/android/net/wifi/ScanResult.html)

# xcode - xcode中uisearchbar的延迟加载/运行文本确实发生了变化

> ID：10647152
> 
> 赞同：0
> 
> 时间：2012-05-18T05:27:01.983
> 
> 标签：xcode, searchbar

我有一个搜索栏和搜索栏控制器，它在 UItableview 中显示解析的 xml，并在搜索栏字段中更改任何字符。问题在于速度。

目前，在输入搜索栏文本时不断获取 xml 文件并对其进行解析需要一段时间。

有没有办法优化这个？就像在输入单词条目后搜索和解析搜索栏文本后延迟加载表格视图一样。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T05:58:13.660

我会考虑使用[NSOperation](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/NSOperation_class/Reference/Reference.html#//apple_ref/occ/cl/NSOperation)。

将模型数据保存在与表数据源不同的位置。`@property (retain, nonatomic) NSArray *data`我通常对模型数据和`@property (retain, nonatomic) NSMutableArray *tableData`表中当前显示的数据使用类似的东西。中`-searchBar:textDidChange:`，取消之前的搜索操作，将tableData清空，开始新的搜索操作。该操作将执行搜索并将结果添加到 tableData。

为了获得更好的用户体验，而不是使用每个新字符将 tableData 重置为空。在开始搜索操作之前，您可以简单地删除与新搜索字符串不匹配的项目。当然，您需要确保该操作不会将项目添加到已经在其中的 tableData 中。

# jsf-2 - 在页面加载时在 inputText 中生成唯一 ID

> ID：10647154
> 
> 赞同：0
> 
> 时间：2012-05-18T05:27:23.013
> 
> 标签：jsf-2

我想`<p:inputText>`在页面加载时生成一个唯一的数字。

我可以使用 生成唯一值`java.util.UUID`，但是如何将其设置为`<p:inputText>`页面加载的值？

```
<p:inputText id="ptId" label="PatientId" value="#{addBB.pt.patientId}" /> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T12:05:19.273

只需在 bean 的（后）构造期间设置值。

```
@ManagedBean
@ViewScoped
public class AddBB {

    private Patient pt;

    @PostConstruct
    public void init() {
        pt = new Patient();
        pt.setPatientId(UUID.randomUUID().toString());
    }

    // ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T05:37:36.057

您可以通过将`userId`inputText 的默认值设置为这样来做到这一点 -

```
value="#{beanName.userId}" 
```

所以首先像你想使用的那样使用它，然后你可以将`userId`任何时间点的值设置为唯一的 id，只要记住`reRender`它。

希望你得到你想要的......

# php - 点击时获取输入框名称

> ID：10647159
> 
> 赞同：3
> 
> 时间：2012-05-18T05:27:37.890
> 
> 标签：php, jquery, ajax-upload

在我的网站中，我使用了 10 个文件上传框。当我单击该框时，我想获得一个文件上传框名称。

这意味着第一个上传框，第二个上传框，第三个上传框等......

因此，如果我单击第一个上传框，那么我想获取该文件上传框的名称。

如何在 ajax 函数中获取上传按钮名称。

这是我的ajax代码：

```
$(function(){
    var countfile = 10;
    var strfileid = '';

    for(i=1;i<=countfile;i++){
    var btnUpload=$('#browse'+i);

    var adinfoid=$('#adinfoid').val();
    new AjaxUpload(btnUpload, {
        action: '<?php echo base_url()?>index.php/post/upload_editgalleryimage/'+adinfoid,
        name: 'uploadfile',
        onSubmit: function(file, ext){
        alert(btnUpload.Name);
            var photoplancnt=$('#photoplancnt').val();
            var hidcountimg=$('#hidcountimg').val();
            if(parseInt(hidcountimg)>=parseInt(photoplancnt)){
                $("#photoerror").html('maximum '+photoplancnt +' files are allowed');
                $("#photoerror").css('display','block');
                return false;
            }
            if (! (ext && /^(jpg|png|jpeg|gif|JPG|PNG|JPEG|GIF)$/.test(ext))){
                $("#photoerror").html('Only JPG, PNG, GIF, files are allowed');
                $("#photoerror").css('display','block');
                return false;
            }           
        },
        onComplete: function(file, response){ 

            if(response){                   
                    $(".upload_main_div").html('');
                    $(".upload_main_div").html(response);

                    var insid = $("#hiddengalidnow").val();
                    calltoloadimage(insid);
                    /*$("#galimageicon").attr("src",response);  
                    $("#galimageicon").attr("width",55);
                    $("#galimageicon").attr("height",55);*/
                    //$("#mainimageicon1").attr("src",response);

            }else{
            alert("error");
            }
        }
    }); 
    }
}); 
```

它会一直提醒“browse12”。

html代码：

```
<?php
for($i=1;$i<=10;$i++){
?>
<input type="button" id="browse<?php echo $i;?>" name ="browse<?php echo $i;?>" class="browse_media" value="Browse">
<?php
}
?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T05:31:23.807

最后

```
alert(this._button.name); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T05:31:00.113

一般来说：

```
$('input[type=file]').on('click', function() {
 var name = $(this).attr('name'); // or this.name
}); 
```

对于你的情况：

```
btnUpload.attr('name'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T06:19:30.747

也许这会有所帮助

```
$("input[id^=browse]").click(function(){
var strBrowseName = $(this).attr('name'); 
// Or no var, if it has already been defined 
}); 
```

# asp.net - 请帮我解决这个遍历查询

> ID：10647161
> 
> 赞同：0
> 
> 时间：2012-05-18T05:27:54.417
> 
> 标签：asp.net, sql-server, tsql

```
CatID  parID  catName
1      -1        A
2       1        B  
3       2        C
4       3        D 
```

我想编写一个以字符串格式返回父子关系的查询。

在上表中，catName 的 parentId 为 -1，这意味着它没有父级。B 的 parentID 为 1，这意味着 A 是它的父级。

所以最后字符串是这样的

```
A=>B=>c=>D 
```

这是我想要生成查询的方式。

我将传递 CatID，它会遍历直到它得到 -1。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T06:01:40.400

```
declare @CatID int;
set @CatID = 4;

with C as
(
  select parID,
         cast(catName as varchar(max)) as catName
  from YourTable
  where CatID = @CatID
  union all
  select T.parID,
         T.catName + '=>' + C.catName
  from YourTable as T
    inner join C
      on T.CatID = C.parID
)
select catName
from C
where parID = -1 
```

[SE-数据](https://data.stackexchange.com/stackoverflow/query/70551/traversing-query)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T05:38:18.600

作为部分答案，听起来您需要递归查询。[这](https://stackoverflow.com/questions/1709397/recursive-function-in-sql-server-2005)是一个 StackOverflow 线程，其中包含一些关于递归查询的好信息。至于如何使用查询将其转换为单个字符串，我不知道......那部分可能更适合编程语言。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-18T05:54:54.437

您需要定义函数然后在递归循环中调用它。

您可以使用[MPTT（Modified Preorder Tree Traversal）](http://www.wallpaperama.com/forums/mptt-modified-preorder-tree-traversal-php-tree-menu-script-t5713.html)来存储嵌套树或分层数据。

[本文](http://www.wallpaperama.com/forums/breadcrum-modified-pre-order-tree-transversal-mptt-sql-query-t5865.html)描述了如何在单个查询中获取分层的“面包屑”。

# java - 除了可读性之外，如果我在 java 中使用 += 运算符（如 x+=y 而不是 x=x+y），是否有任何附加值

> ID：10647162
> 
> 赞同：2
> 
> 时间：2012-05-18T05:28:00.620
> 
> 标签：java, operators

我确实理解**+=**和**var1=var1+var2**在 Java 中都做同样的事情。我的问题是，除了更好的可读性之外，前者还带来了哪些其他好处（如果有的话）？我之所以问是因为我很好奇为什么 java 开发人员会引入这个，他们应该这样做是因为一些附加值。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-18T05:32:07.067

它可以防止对`+`操作的 LHS 进行两次评估。

```
var.getSomething().x = var.getSomething().x + y; 
```

这*不*等于

```
var.getSomething().x += y; 
```

然而，提高可读性和减少打字工作量所带来的附加价值不容小觑。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-18T05:35:44.377

`x+=y`并且`x=x+y`不一样。

`x+=y`相当于`x=(Type of x)(x+y)`

```
byte x=4;
byte y=3;
x+=y; // x =(byte)(x+y)
x = x + y; // compile time error 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T05:37:09.647

恕我直言，这些运算符（+=、-=、*=、/=）继承自 C。在过去（在我们拥有高度优化的编译器之前），它们可以提高性能，因为在许多架构上，这些运算符直接转换为单个汇编指令。如今，所有编译器都应该自动生成相同的代码。至于Java，即使对RHS没有副作用，我也不知道客户端VM是否会产生相同的字节码。不过应该不会影响性能。

迪特里希是对的，+= 等都阻止了对参数进行两次评估（当有副作用时很重要）。

# python - pylint 在 py.test 上抱怨：“模块 'pytest' 没有 'raises' 成员”

> ID：10647165
> 
> 赞同：5
> 
> 时间：2012-05-18T05:28:09.453
> 
> 标签：python, pylint, pytest

使用以下代码：

```
import pytest
def test_a():
    with pytest.raises(Exception):
        1/0 
```

如果我在上面运行 pylint，它会抱怨“raises”不是模块 pytest 的成员：

```
E:  3,9:test_a: Module 'pytest' has no 'raises' member 
```

这显然不是真的。知道为什么 pylint 会犯这样的错误吗？这是一个已知的错误？

py.test 版本：

```
> py.test --version
This is py.test version 2.2.3, imported from C:\Python27\lib\site-packages\pytest.pyc 
```

PyLint 版本：

```
> pylint --version
No config file found, using default configuration
pylint 0.25.1,
astng 0.23.1, common 0.57.1
Python 2.7.2 (default, Jun 24 2011, 12:22:14) [MSC v.1500 64 bit (AMD64)] 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-02-04T17:43:33.240

您可以在 pylintrc 文件中使用以下命令将其静音： `ignored-classes=pytest`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-18T10:20:24.520

上次我查看 pylib 在低级 python 中做了一些重动态，例如完全重新定义导入代码。这很可能完全困扰 pylint/astng，并阻止它获取 pytest 模块中的内容：pylint/astng 不会导入它分析的代码，而是解析它，这意味着在导入时动态初始化的东西将通常会被忽视，这反过来会产生误报，例如您报告的误报。

从那里开始，您将面临以下选择：

*   使用另一个 unittest 框架，比 py.test 动态性低
*   手动消除测试代码上的警告/错误
*   在 py.test 上使用另一个比 pylint 更快乐的 linter（我很想知道 pychecker / pyflakes 在该代码上的表现如何）
*   编写 astng 插件，它将帮助 astng grok pylib 技巧并将其作为补丁提交给 astng 维护者（并从中获得额外的功劳）

# php - Imagemagick在将pdf转换为图像时删除上部内容

> ID：10647166
> 
> 赞同：1
> 
> 时间：2012-05-18T05:28:16.287
> 
> 标签：php, pdf, imagemagick

我的 pdf 第一页看起来像：

![在此处输入图像描述](../Images/0a64b570a1ae5ef0ecf2ff0dccc6c38d.png)

当我运行以下命令时：

```
exec("convert -density 300 $pdf_path $temp_images 2>&1",$output); 
```

它将其页面转换为如下所示的图像：

![在此处输入图像描述](../Images/66f26ac675e88885fa323ffd7c56ff18.png)

仅当 pdf 的尺寸为宽度 595 和高度 842 时才会发生这种情况。

任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T07:17:55.440

看起来正在使用 PDF 的 CropBox 而不是媒体大小，或者 ImageMagick 可能正在向 Ghostscript 发送固定（不正确的 Letter）媒体大小以呈现页面。

不幸的是，这就是我所知道的关于 ImageMagick 的全部内容，您需要有人可以告诉您如何查找和更改 Ghostscript 调用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T05:40:43.993

这段代码解决了我的问题，但我想在命令行中使用

```
$im = new Imagick();
$im->readImage( $pdf_path );
$im->setImageFormat( "jpg" );
$im->writeImage( $temp_images );
echo 'Image Converted'; 
```

# java - 自定义 ondraw 方法不起作用

> ID：10647167
> 
> 赞同：1
> 
> 时间：2012-05-18T05:28:16.360
> 
> 标签：java, android, ondraw

我正在开发我想在图像上显示不同文本的应用程序。当我触摸不同的位置时。我正在处理不同的图像。在我的程序中，我使用了一个类来更改图像和一个类来绘制文本在图像上。我的活动课如下......

```
public class VideosActivity extends Activity implements OnTouchListener 
{
    //DrawView draw;
    float a=0;
    float b=0;
    ImageView image;
    MotionEvent event;
    Button  back ;
    Button next;
    TextView t;
    String info = "";
    int count =0;
    FirstImage i;
    ViewFlipper c;
    Infoview v;
    String huma="human";

    @Override
    public void onCreate(Bundle savedInstanceState) 
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.videos_layout);
        i=new FirstImage(this);

        c=(ViewFlipper) findViewById(R.id.viewFlipper1);
        back = (Button) findViewById(R.id.button1);
        next = (Button) findViewById(R.id.button2);
        t=(TextView) findViewById(R.id.textView1);
         if(count==0)
        i.changeImage(R.drawable.human ); 
        i.invalidate();
        c.addView(i,0);
        c.setOnTouchListener(this);
        c.onTouchEvent(event);
    }

    public void pageinfo(float a,float b)
    {
        t.setText(Float.toString(a)+"x"+Float.toString(b)+"y");
        i.display( a, b);
    }

    public boolean onTouch(View v, MotionEvent me) 
    {
        // TODO Auto-generated method stub
        switch(me.getAction())
        {
            case MotionEvent.ACTION_DOWN:
                a=me.getX();
                b= me.getY();
                pageinfo(a,b);
                break;
            case MotionEvent.ACTION_MOVE:
                a=me.getX();
                b= me.getY();
                pageinfo(a,b);
                break;
            case MotionEvent.ACTION_UP:
                a=me.getX();
                b= me.getY();
                pageinfo(a,b);
                break;
            case MotionEvent.ACTION_OUTSIDE:
                a=me.getX();
                b= me.getY();
                pageinfo(a,b);
                break;
            default: return false;
        }
        return true;
    }
} 
```

用于更改图像的类如下...

```
public class FirstImage extends LinearLayout {

    ImageView i;
    int x;
    Infoview v;
    String huma ="human";
    public FirstImage(Context context) { 
        super(context); 
          v=new Infoview(context);
        i= new ImageView (context); 
        LinearLayout.LayoutParams lp =  new LinearLayout.LayoutParams(android.view.ViewGroup.LayoutParams.WRAP_CONTENT, android.view.ViewGroup.LayoutParams.WRAP_CONTENT);
        addView(i, lp); 
        addView(v,lp);
        } 
    public FirstImage(Context context, AttributeSet attrs) { 
        super(context, attrs);
        } 
    protected void changeImage(int id){ 
        i.setImageResource(id);
        x=id;
        }
    public int getSrc() {
        // TODO Auto-generated method stub
        return x;
    }
    public void display(float a, float b) {
        // TODO Auto-generated method stub
        if(i.getId()==R.drawable.human){
            v.updateInfo(huma, a, b);
            i.invalidate();
            v.invalidate();
        }
    } 

} 
```

用于在图像上绘制文本的类如下..

```
public class Infoview extends View {

 String info = "";
 float x = 0; //init value 
 float y = 0; //init value
 int color = Color.WHITE;

 public Infoview(Context context) {
  super(context);
  // TODO Auto-generated constructor stub
 }

 public Infoview(Context context, AttributeSet attrs) {
  super(context, attrs);
  // TODO Auto-generated constructor stub
 }

 public Infoview(Context context, AttributeSet attrs, int defStyle) {
  super(context, attrs, defStyle);
  // TODO Auto-generated constructor stub
 }

 @Override
 protected void onDraw(Canvas canvas) {
  // TODO Auto-generated method stub
  super.onDraw(canvas);

  Paint paint = new Paint();
  paint.setStyle(Paint.Style.FILL_AND_STROKE);
  paint.setColor(color);
  paint.setStrokeWidth(2);
  paint.setTextSize(30);

  canvas.drawLine(x-10, y, x+10, y, paint);
  canvas.drawLine(x, y-10, x, y+10, paint);
  canvas.drawText(info, x, y, paint);

 }

 public void updateInfo(String t_info, float t_x, float t_y){
  info = t_info;
  x = t_x;
  y = t_y;
  invalidate();
 }

 public void clearInfo(){
  info = "";
  x = 0;
  y = 0;
  invalidate();
 } 
```

我不明白为什么它不在图像上显示文本......我认为在图像绘制时我正在使用一个布局。所以我必须在该布局中包含绘图类（Infoview）以......如果有人认为我在问这个问题，那么我很抱歉......感谢任何帮助......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T05:40:45.713

我确实有时间阅读完整的代码，但如果你重写*onDraw*，你**不**应该在该方法内调用*super.onDraw()*，因为这意味着基类将首先绘制所有内容。

# android - 如何在android的基本适配器中删除自定义列表视图中的行

> ID：10647168
> 
> 赞同：3
> 
> 时间：2012-05-18T05:28:25.523
> 
> 标签：android, arraylist, android-listview, custom-lists

我在行自定义列表视图中显示 itemimage、itemname、rate、qty、price 和删除按钮 .. 如果我单击删除按钮意味着我想删除列表视图中的整行。

我试试这段代码

```
 public class CustomAdapter extends BaseAdapter {

public static Double x = 0.0;
public static Double z;
ArrayList<Integer> selectprice = new ArrayList<Integer>();
public static ArrayList<String> arr1 = new ArrayList<String>();
public static ArrayList<String> itemprice = new ArrayList<String>();
public static ArrayList<Bitmap> itemimage = new ArrayList<Bitmap>();
ArrayList<Integer> total = new ArrayList<Integer>();
public Context Context;
private LayoutInflater inflater;

HashMap<String, String> map = new HashMap<String, String>();

public CustomAdapter(Context context, ArrayList<String> arr,
        ArrayList<String> price, ArrayList<Bitmap> image) {
    Context = context;
    inflater = LayoutInflater.from(context);
    arr1 = arr;
    itemprice = price;

    itemimage = image;
    System.out.println(itemprice);
    System.out.println("arr: " + arr.size());

    for (int i = 0; i < price.size(); i++) {

        x = x + Double.parseDouble(price.get(i));

    }

}

public int getCount() {
    // TODO Auto-generated method stub
    return arr1.size();

}

// public void remove(ViewHolder v) {
// arr1.remove(arr1);
// notifyDataSetChanged();
// }

public Object getItem(int position) {
    // TODO Auto-generated method stub
    return arr1.get(position);
}

public long getItemId(int position) {
    // TODO Auto-generated method stub
    return position;
}

public View getView(final int position, View convertView, ViewGroup parent) {

    final ViewHolder holder;

    if (convertView == null) {
        convertView = inflater.inflate(R.layout.selecteditemlistview, null);

        holder = new ViewHolder();

        holder.textViewSelectedText = (TextView) convertView
                .findViewById(R.id.selectedtext);
        holder.price = (TextView) convertView
                .findViewById(R.id.selectitemprice);
        holder.image = (ImageView) convertView
                .findViewById(R.id.selectitemimage);
        holder.qty = (EditText) convertView.findViewById(R.id.selectqty);
        holder.total = (TextView) convertView.findViewById(R.id.price);
        holder.delete = (Button) convertView.findViewById(R.id.delete);

        convertView.setTag(holder);

    } else {
        holder = (ViewHolder) convertView.getTag();
    }
    final Double price1 = Double.parseDouble(itemprice.get(position));
    int qut = Integer.parseInt(holder.qty.getText().toString());
    final Double total = (price1 * qut);
    System.out.println(total);
    holder.textViewSelectedText.setText(arr1.get(position));
    holder.price.setText(itemprice.get(position));
    holder.image.setImageBitmap(itemimage.get(position));
    holder.total.setText(String.valueOf(total));

    holder.delete.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {

            arr1.remove(position);//here only i tried to remove the row in custom listview
            itemprice.remove(position);
            itemimage.remove(position);

        }
    });
    holder.qty.setOnFocusChangeListener(new OnFocusChangeListener() {

        public void onFocusChange(View v, boolean hasFocus) {
            // TODO Auto-generated method stub
            if (!hasFocus) {
                final EditText Caption = (EditText) v;
                Caption.setFocusable(true);
                holder.qty.setFocusable(true);
                Double q = Double.parseDouble(holder.qty.getText()
                        .toString());
                double result = (price1 * q);

            }

        }
    });

    return convertView;
}

class ViewHolder {

    Button delete = null;
    TextView textViewSelectedText = null;
    TextView price = null;
    ImageView image = null;
    EditText qty = null;
    TextView total = null;
}

} 
```

这是我的 selecteditemlistview.xml

```
 <?xml version="1.0" encoding="utf-8"?>
       <RelativeLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content">
       <ImageView
  android:id="@+id/selectitemimage" 
  android:layout_width="75dip"
  android:layout_height="79dip" android:src="@drawable/stub"        
      android:scaleType="centerCrop"/>

   <TextView
  android:id="@+id/selectedtext" 
  android:textColor="#000000"
  android:layout_width="150dp"
  android:layout_height="wrap_content"
  android:layout_marginLeft="80dip"
  android:layout_weight="1"
  android:textSize="15sp" />

  <TextView
  android:id="@+id/selectitemprice"
  android:layout_width="wrap_content"
  android:layout_height="wrap_content"
 android:textColor="#000000"
  android:textAppearance="?android:attr/textAppearanceMedium" 
  android:layout_marginLeft="250dp"/>

  <EditText
  android:id="@+id/selectqty"
   android:maxLength="3" 
  android:layout_width="40dp"
   android:text="1"
  android:layout_height="40dp" 
  android:singleLine="true"
  android:layout_alignParentTop="true" 
  android:layout_marginLeft="36dp"
  android:layout_toRightOf="@+id/selectitemprice"
   >

  <requestFocus />      
  </EditText>

 <TextView
  android:id="@+id/price" 
  android:layout_width="wrap_content"
  android:layout_height="wrap_content"
  android:layout_marginLeft="400dp"
  android:layout_toRightOf="@+id/editText1" 
 android:inputType="none"
 android:textColor="#000000"
  android:editable="false"
  android:textAppearance="?android:attr/textAppearanceMedium" />

 <Button
   android:id="@+id/delete"
   android:layout_width="100dp"
   android:layout_height="50dp"
   android:text="delete"

   android:layout_marginLeft="630dp"

   />

</RelativeLayout> 
```

我获取了 itemimage itemname price 的所有数组，然后显示到自定义列表视图中。如果我按下删除按钮意味着它会删除列表视图中的特定行。请帮我

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-18T05:39:51.830

尝试这个，

```
holder.delete.setOnClickListener(new OnClickListener() 
{
    @Override
    public void onClick(View v) 
    {
        arr1.remove(position);//here only i tried to remove the row in custom listview
        itemprice.remove(position);
        itemimage.remove(position);
        notifyDataSetChanged();
    }
}); 
```

调用**“notifyDataSetChanged”**意味着与视图关联的数据已更改，因此视图必须刷新自身以保持数据更新。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T05:35:03.197

你需要调用

```
Adapter.notifyDataSetChanged() 
```

在您对数据源进行更改后，这些数据源位于您的`ArrayLists`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-24T04:28:42.873

适配器.remove(itemimage); . . . 适配器.notifyDataSetChanged() ;

其中“适配器”是您将数据存储到列表视图中的适配器名称，例如 (listview.setadapter(adapter)) 以及您知道的“itemimage”是什么...

# html - 在 servlet 中使用 apache commons 获取下拉值

> ID：10647171
> 
> 赞同：0
> 
> 时间：2012-05-18T05:29:06.350
> 
> 标签：html, servlets, apache-commons

我想在我的程序中获取下拉值，以便将字符串合并到我的文件路径中，以便路径将根据用户输入动态更改。在我使用 o'reilly api 之前，我是 apache commoms 的新手。

这是我的代码：

```
 @Override
public void doPost(HttpServletRequest request, 
           HttpServletResponse response)
          throws ServletException, java.io.IOException 
{
       //FileItem f1;
   String d1= request.getParameter("sel1");
    String d2=request.getParameter("sel2");
    String d3="/home/adapco/Desktop/output";
    String conc=d3+"/"+d1+"/"+d2+"/";
    filePath=(new StringBuilder()).append(conc).toString();
 //      filePath="/home/adapco/Desktop/output/";
  isMultipart = ServletFileUpload.isMultipartContent(request);
} 
```

我尝试调试并且我得到了 wright 文件路径，但是在继续进行时，fileItems 显示 size=0 并且由于 size0 而它没有进入循环。

```
 filePath="/home/adapco/Desktop/output/"; 
```

如果我将上传路径传递给 filePath 它工作正常。

```
 List fileItems = upload.parseRequest(request);    
  Iterator i = fileItems.iterator();
  while ( i.hasNext () ) 
  {
     FileItem fi = (FileItem)i.next();
     if ( !fi.isFormField () )  
     {         
        String fieldName = fi.getFieldName();
        String fileName = fi.getName();
        String contentType = fi.getContentType();
        boolean isInMemory = fi.isInMemory();
        long sizeInBytes = fi.getSize();
        if( fileName.lastIndexOf("\\") >= 0 ){
           file = new File( filePath + 
           fileName.substring( fileName.lastIndexOf("\\"))) ;
        }else{
           file = new File( filePath + 
           fileName.substring(fileName.lastIndexOf("\\")+1)) ;
        }
        fi.write( file ) ;
        out.println("Uploaded Filename: " + fileName + "<br>"+filePath);

     } 
```

我的 html ：

```
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
 <title>File Uploading Form</title>
</head>
<body>
<h3>File Upload:</h3>
 Select a file to upload: <br />
 <form action="upload" method="post"
                    enctype="multipart/form-data">
<input type="file" name="file">
 <br />
<select name="sel1"> 
<option label ="1">aerospace</option>
<option label ="2">automotive</option>
</select>
<select name="sel2">
<option label="1">internal</option>
<option label="2">demo</option>
 </select>
 <input type="submit" value="Upload File" />
 </form>
 </body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T11:44:17.787

`request.getParameter()`应删除呼叫。它们导致请求正文在 Apache Commons FileUpload 解析之前被解析。`request.getParameter()`不应在请求`multipart/form-data`中使用。

您需要`else`在`if (!fi.isFormField())`.

```
if (!fi.isFormField()) {
    // Collect uploaded files.
}
else {
    // Collect normal form fields.
} 
```

另请参阅[FileUpload 用户指南](http://commons.apache.org/fileupload/using.html)和[此答案](https://stackoverflow.com/questions/2422468/how-to-upload-files-in-jsp-servlet/2424824#2424824)。

# c# - Windows 服务通过 Internet 连接到 SQL Server

> ID：10647174
> 
> 赞同：0
> 
> 时间：2012-05-18T05:29:15.093
> 
> 标签：c#, sql-server, windows-services

我创建了一个 Windows 服务并希望通过 Internet 连接到 SQL Server 2008。问题是虽然我可以在本地连接它并使用本地 IP，但我的服务器位于防火墙后面。由于在同一台服务器上的 web 上有一个 Sharepoint 服务器，我知道该系统在互联网上。

从本地网络外部和世界任何地方连接到服务器的连接字符串应该是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T05:39:56.323

如果它位于防火墙后面，则必须为传入流量打开端口 1433。除此之外，连接字符串应与内部连接字符串相同，仅使用外部 IP（如果您不知道： http: [//www.whatsmyip.org/](http://www.whatsmyip.org/)）。您需要确保启用混合身份验证，因为您当然无法通过 Internet 使用 Windows 域凭据进行连接。

我可能应该提一下，将 SQL Server 暴露给外界并不是一个很好的做法……但你知道的，对吧？

# c - 从 C 中的线程中的函数返回一个值

> ID：10647175
> 
> 赞同：0
> 
> 时间：2012-05-18T05:29:23.870
> 
> 标签：c, linux, multithreading, pthreads

我是 pthread 的新手，我已经阅读了一些教程。教程说我只能将一个参数传递给线程中使用的函数。我通过使用将多个参数传递给线程的结构解决了这个问题。但是现在进一步研究我得出的结论是线程中的函数不能返回任何值，唯一的方法是使用全局变量。我真正需要的是，我需要两个函数在两个不同的线程中运行，一个函数的返回值需要另一个函数的输入，反之亦然。我应该怎么做才能实现这个需求。提前致谢。是的，Linux 是平台。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-18T05:35:43.470

检查[`pthread_join()`](http://www.manpagez.com/man/3/pthread_join/)。它会将值传递给`pthread_exit()`. 您可以尝试将值传递给`pthread_exit()`而不是从 thread_function 返回。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-18T05:34:31.593

线程的返回值为`void *`. 这可以作为 的第二个参数`pthread_join()`。另请参阅`pthread_exit()`。

# html - 在整个页面宽度上展开动态菜单

> ID：10647178
> 
> 赞同：0
> 
> 时间：2012-05-18T05:29:37.843
> 
> 标签：html, css

我有一个动态的水平菜单。我试图使其始终为页面宽度的 100%。因此，如果有 6 或 8 个项目，或者我想更改每个项目的标题，我不需要再次调整每个项目的大小。

菜单作为`<ul> <li>Item 1</li> <li>Item 2</li> ... </ul>`列表。请查看我希望它如何呈现（附图）。现在在我的 html 中，项目在全宽之前结束。

任何想法如何解决这个问题？我想如果我将菜单变成表格，它会解决这个问题，但在这种情况下我不喜欢使用表格。

您可以在此处查看网站：在此处[输入链接描述](http://www.neutrinoteam.com/clients/angiologist.com/) 谢谢。

![在此处输入图像描述](../Images/7435817f6481baebf1df39bdff597f4d.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T08:07:18.487

好的。所以最后我找到了解决方案。只有 CSS，不需要 JS。其实很简单：

包装`<ul>`应该有：

```
display: table 
```

`<li>`本身应该有：

```
display: table-cell 
```

并删除它的浮动。

就这样 ：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T06:06:07.877

如果您愿意使用名为 jQuery 的 javascript 框架，您可以使用以下代码...

以这个 jsfiddle 为例：

[http://jsfiddle.net/BDVTP/](http://jsfiddle.net/BDVTP/)

如果您还没有，则需要包含 jquery（但看起来您是）

然后使用以下代码：

```
 <script type="javascript/text">
 $(document).ready(function(){
     var width = $('#access').width(); // width of the menu container
     var total = $('#menu-top-menu li').size(); //number of menu items
     $('#menu-top-menu').find('li').each(function(i){
         var border = parseInt($(this).css('border-left')); //border you have set
         $(this).width((width/total)-border); // calculate width and set it
     });​
 });
 </script> 
```

希望这可以帮助你:)

请注意，如果项目首先不适合，这将不起作用 - 它基本上会增加更多宽度**。**

# php - Nginx hiphop php - 动态分配服务器变量如何？

> ID：10647185
> 
> 赞同：0
> 
> 时间：2012-05-18T05:30:23.377
> 
> 标签：php, hiphop

我们正在尝试为我们的域使用 hiphop php。我们使用 nginx 在 80 端口运行，hiphop 在 4247 端口运行，在我们的 PHP 代码中，我们使用了一些服务器变量，如 DOCUMENT_ROOT、HTTP_TRUE_CLIENT_IP 等，这里的问题是，服务器变量没有采用适当的值。在少数谷歌搜索中，我知道我们可以在将 hiphop 编译源作为服务器启动时指定服务器变量（在 ServerVariables 下），但我想知道有没有其他方法可以使其动态化？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-15T23:34:57.703

如果您需要动态变量，为什么它们必须在 $_SERVER 中？你不应该只做一个函数来弄清楚它们吗？

# asp.net - 在不重定向页面的情况下执行 webrequest

> ID：10647187
> 
> 赞同：0
> 
> 时间：2012-05-18T05:30:29.687
> 
> 标签：asp.net, httpwebrequest, logout, google-openid

我在 asp.net 中使用 openid 时遇到了一个奇怪的问题。我想要 gmail 帐户的服务器端注销，但不重定向到另一个页面。我认为执行网络请求会做到这一点。这是我的代码

```
 HttpWebRequest loHttp =
    (HttpWebRequest)WebRequest.Create("https://www.google.com/accounts/Logout");

    // *** Set properties
    loHttp.Timeout = 10000;     // 10 secs
    loHttp.UserAgent = "Code Sample Web Client";

    // *** Retrieve request info headers
    HttpWebResponse loWebResponse = (HttpWebResponse)loHttp.GetResponse();

    Encoding enc = Encoding.GetEncoding(1252);  // Windows default Code Page

    StreamReader loResponseStream =
       new StreamReader(loWebResponse.GetResponseStream(), enc);

    string lcHtml = loResponseStream.ReadToEnd();

    loWebResponse.Close();
    loResponseStream.Close(); 
```

但这似乎不起作用。gmail 帐户仍处于登录状态。是否可以使用这样的 URL 执行网络请求？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T12:06:07.310

我认为这是因为 HttpWebRequest 是在服务器级别进行的，并且您已在客户端登录。

您应该使用 iframe 加载 URL

# regex - 使用正则表达式验证没有位置排序的字母序列

> ID：10647189
> 
> 赞同：0
> 
> 时间：2012-05-18T05:31:04.533
> 
> 标签：regex

我想验证一个字母序列恰好出现一次字母。我要验证的字母是`B`、`R`和。`$``C`

一个字母序列可以有一个或多个连续出现，但该字母不能出现在其他地方。例如，有效的序列是：

```
BBRR$$CC
RRBB$$CC
$$RBBCCCCC
C$$$BBBBRRRR
$BCR 
```

每个字母必须至少出现一次。

在有效的序列是

```
BRC
$CB 
```

这可以使用正则表达式中的多个 or 操作来完成。我想知道更优雅的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T07:39:39.027

以下正则表达式匹配*无效*大小写。

```
^.*?([BCR]|\$)\1+.*$ 
```

# regression-testing - 回归测试中需要测试哪些模块或测试用例？

> ID：10647196
> 
> 赞同：2
> 
> 时间：2012-05-18T05:32:36.593
> 
> 标签：regression-testing

几天前我去那里面试，他们问我你将在回归测试中测试哪些模块？您如何找出在回归测试中需要执行哪些测试用例？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T05:54:22.010

那些对现有模块或代码进行很少或更多修改的模块需要进行回归测试

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T05:59:45.353

最好的方法是了解哪些测试用例涵盖了产品的哪些部分。然后，当产品的一部分发生更改时，您可以只运行涵盖更改的案例。这并不总是那么容易。在一个复杂的软件中，一个部分的改变可能会对看似不连贯的部分产生影响。

我见过的这个问题的最佳解决方案是使用代码覆盖率数据。如果您知道每个测试命中了哪些块，并且知道修复更改了哪些块，那么您可以准确地知道要运行哪些测试用例。

如果您没有大量数据，最好的办法是考虑更改及其可能影响的内容，然后运行这些区域中的案例。

# linq - 如何将 Expr<'a -> 'b> 转换为表达式 >

> ID：10647198
> 
> 赞同：6
> 
> 时间：2012-05-18T05:32:48.200
> 
> 标签：linq, f#

我正在使用带有 .NET 4.5 beta 的 F# 3.0，并且我正在尝试将 F# 引用类型`Expr<'a -> 'b>`转换为 LINQ `Expression<Func<'a, 'b>>`。

我发现了几个可以解决这个问题的问题，但这些技术似乎不再起作用，可能是由于 F# 3.0 或 .NET 4.5 的变化。

*   [将 F# 引用转换为 LINQ 表达式](https://stackoverflow.com/questions/2682475/converting-f-quotations-into-linq-expressions)
*   [`Expression<Func<T, bool>>`来自 F# 函数](https://stackoverflow.com/questions/9134475/expressionfunct-bool-from-a-f-func)

在这两种情况下，当我从任一问题的解决方案中运行代码时，以下操作都会引发异常：

```
mc.Arguments.[0] :?> LambdaExpression 
```

...在`mc`哪里`MethodCallExpression`. 例外是：

> System.InvalidCastException：无法将“System.Linq.Expressions.MethodCallExpressionN”类型的对象转换为“System.Linq.Expressions.LambdaExpression”类型。

不，末尾多余的“N”`MethodCallExpressionN`不是错字。有人有建议吗？谢谢。

**更新**

这是一个完整的复制品。事实证明，这段代码在像`<@ fun x -> x + 1 @>`. 我的问题是，在我的情况下，我需要将 an 转换`Expr<'a -> 'b>`为`Expr<'a -> obj>`，这样我就不必将所有的 lambda 表达式都用`box`. 我通过将原始表达式拼接到这个表达式中来做到这一点：`<@ %exp >> box @>`. 这会生成一个具有正确类型的对象，但要转换为的代码`Expression<Func<'a, obj>>`不再有效。

```
module Expr =
    open System
    open System.Linq.Expressions
    open Microsoft.FSharp.Quotations
    open Microsoft.FSharp.Linq.QuotationEvaluation

    let rec private translateExpr (linq:Expression) = 
        match linq with
        | :? MethodCallExpression as mc ->
            let le = mc.Arguments.[0] :?> LambdaExpression
            let args, body = translateExpr le.Body
            le.Parameters.[0] :: args, body
        | _ -> [], linq

    let ToFuncExpression (expr:Expr<'a -> 'b>) = 
        let args, body = expr.ToLinqExpression() |> translateExpr 
        Expression.Lambda<Func<'a, 'b>>(body, Array.ofList args) 

let exp = <@ fun x -> x + 1 @>

let r = Expr.ToFuncExpression <@ %exp >> box @>
printfn "%A" r 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-18T09:11:15.390

您能否发布更完整的示例并包含您尝试转换的 F# 表达式？

我尝试使用最少的示例测试 .NET 4.5 上的行为，它对我有用。这是我所做的：

*   我创建了新的 F# 3.0 项目并从 F# PowerPack 的 2.0 版本复制`Linq.fs`和复制。（或者在 F# 3.0 的某个地方`Linq.fsi`是否有 3.0 版本的方法可用？）`ToLinqExpression`

*   我使用了[丹尼尔早期答案](https://stackoverflow.com/questions/9134475/expressionfunct-bool-from-a-f-func)中的代码，并按如下方式调用了该函数：

    ```
    let r = toLinq <@ fun x -> x + 1 @>
    printfn "%A" r 
    ```

    这没有抛出任何异常，它打印出来`x => (x + 1)`，这对我来说是正确的。

**编辑：**回答更新后的问题 - 您提到的两个代码示例（我的和丹尼尔的）都假设引用的主体是一个显式构造的函数，所以它们只适用于特定结构的引用：`<@ fun x -> ... @>`.

您可以通过在显式构造的函数中使用拼接来解决此问题。以下对我有用：

```
let exp = <@ fun x -> x + 1 @> 
let r = toLinq <@ fun a -> box ((%exp) a) @> 
printfn "%A" r 
```

这包含 F# 函数的应用程序，因此生成的`Expression`包含对`ToFSharpFunc`（将委托转换为 F# 函数）的调用，然后调用 this。如果您希望标准 .NET 工具可以理解，这可能是一个问题`Expression`（在这种情况下，您必须对 C# 表达式树进行后处理并删除这些结构）。

# ios - 在 iOS 中使用 MGTwitterEngine 发送个人消息

> ID：10647199
> 
> 赞同：0
> 
> 时间：2012-05-18T05:33:00.970
> 
> 标签：ios, mgtwitterengine

MGTwitterEngine 是否提供向 Twitter 中选定的人发送个人消息。或者是否有可能只向选定的人发送推文。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T05:54:56.627

我对 mgtwitter 引擎知之甚少，除了我不得不从我的项目中删除它，因为它允许我上传图像，但通过文档我可以找到这个

```
- (NSString *)sendDirectMessage:(NSString *)message to:(NSString *)username; // direct_messages/new 
```

# javascript - Highcharts重复显示相同的数据

> ID：10647200
> 
> 赞同：2
> 
> 时间：2012-05-18T05:33:04.070
> 
> 标签：javascript, csv, highcharts

以为我会在这方面寻求帮助，目前我正在尝试编写一个 highcharts javascript 文件来显示我拥有的一些数据。我已经能够显示正确数量的数据集，并且在正确的图表上（它们进入时间或过程图表）但我有一个问题，即所有图表都使用相同的名称和数据，无论它们是哪个图表也在。即使当我对将它们分配给对象数组的位置发出警报时，它们都是独立的。真的不确定发生了什么。

其中一个 Obj 是：

```
{
    name: SERIES_NAME,
    data: SERIES_DATA,
} 
```

输出图，而不是具有如下数据：

图表数据：{ Obj1, Obj2, Obj3...ObjN }，显示多个单独的系列。

我有：

图数据：{ ObjN, ObjN, ObjN...ObjN },

它们都只是 ObjN。甚至跨越两张图。所有数据/名称都相同。

此外，所有这些代码都是从 php $(document).ready(function()) 中调用的

```
function create_highchart(TIER,ARRAYS_STRING) {

        var chart;
        timestamp=document.getElementById("TIMESTAMP").value;
        var graph_dir = "graphs/capsim/"+timestamp+"/";

        var glue_outer = "___";
        var glue_inner = ":#:";
        var glue_csv="^";
        var i = 0;
        var j = 0;

        var tier_names=[];
        var WL_names = [];
        var CSV_data=[];
        var CSVs = [];
        var CSV_det=[];
        var out_arrays=[];

        var time_ids = ['queue','util','arrival','thruput'];

        out_arrays = ARRAYS_STRING.split(glue_outer);
        tier_names = out_arrays[0].split(glue_inner);
        WL_names = out_arrays[1].split(glue_inner);
        CSVs = out_arrays[2].split(glue_inner);
        CSV_det = out_arrays[3].split(glue_inner);
        WL_num = WL_names.length;
        tier_names.push('Overall System');
        tier_max = tier_names.length;
        curr_tier_name = tier_names[TIER];

        while(i<CSVs.length){
            CSV_data[i]=[];
            data = CSVs[i].split(glue_csv);
            CSV_data[i]=data;
            i=i+1;
        }

        i=0;
        var TMP_series = {
                name: '',
                data: [],
        }

        var TIME_SERIES_DATA=[];
        var PROC_SERIES_DATA=[];
        var time_count=0;
        var proc_count=0;

        var x = [];
        var y = [];
        var cat = [];
        var out2 = [];

        var options_time={
            chart: {
                renderTo: 'hc_div2',
                type: 'scatter',
                marginRight: 130,
                marginBottom: 25
            },
            title: {
                text: 'Highcharts Demo for Graphing',
                x: -20 //center
            },
            subtitle: {
                text: 'Graph for '+curr_tier_name,
                x: -20
            },
            yAxis: {
                title: {
                    text: 'Performance Metrics'
                },
            },
            tooltip: {
                formatter: function() {
                    return '<b>'+ this.series.name +'</b><br/>'+
                        'X: '+this.x +' Y: '+ this.y

                }
            },
            plotOptions: {
                scatter: {
                    marker: {
                           radius: 2,
                    }              
                }
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'top',
                x: 10,
                y: 100,
                borderWidth: 0
            },
            series: TIME_SERIES_DATA
        };                

        var options_proc={
            chart: {
                renderTo: 'hc_div1',
                type: 'scatter',
                marginRight: 130,
                marginBottom: 25
            },
            title: {
                text: 'Highcharts Demo for Graphing',
                x: -20 //center
            },
            subtitle: {
                text: 'Graph for '+curr_tier_name,
                x: -20
            },
            yAxis: {
                title: {
                    text: 'Performance Metrics'
                },
            },
            tooltip: {
                formatter: function() {
                    return '<b>'+ this.series.name +'</b><br/>'+
                    'X: '+this.x +' Y: '+ this.y
                }
            },
            plotOptions: {
                scatter: {
                    marker: {
                        radius: 2,
                    }
                }
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'top',
                x: 10,
                y: 100,
                borderWidth: 0
            },
            series: PROC_SERIES_DATA
        };

        var i=0;
        if(TIER==tier_max-1){
            TIER='OVR';
        };

        while(i<=CSV_det.length){
            csv = CSV_det[i+4];
            curr_data=CSV_data[(i/5)];
            csv_name = CSV_det[i+1];
            csv_tier = CSV_det[i+2];
            csv_wl = parseFloat(CSV_det[i+3])+1;

            wl_info = '';
            if(CSV_det[i+3] !='NA'){
                wl_info = ' Workload: '+csv_wl;
            };

            var j=0;
            var line = '';
            if(TIER==csv_tier){
                TMP_series.data = [];
                TMP_series.name = csv_name+wl_info;
                while(j<curr_data.length){
                    XY=curr_data[j].split(',');
                    X = parseFloat(XY[0]);
                    Y = parseFloat(XY[1]);
                    TMP_series.data.push([X,Y]);
                    j=j+1;
                }
                j=0;
                csv_type=csv.split('/')[3].split('_')[0];
                if($.inArray(csv_type,time_ids)==-1){
                    PROC_SERIES_DATA[proc_count]=[];
                    PROC_SERIES_DATA[proc_count]=TMP_series;
                    proc_count=proc_count+1;
                }else{
                    TIME_SERIES_DATA[time_count]=[];
                    TIME_SERIES_DATA[time_count]=TMP_series;
                    time_count=time_count+1;
                }
            }
            i=i+5;
        };
        var chart = new Highcharts.Chart(options_proc);
        var chart = new Highcharts.Chart(options_time);
    } 
```

快速解释发生了什么：

1.  最初将所有数据从数组字符串解析到相关的 bin 中
2.  创建两个将要显示的图表
3.  扫描 CSV 以找到相关的
4.  对于那些，读取他们的数据，并将其添加到 TMP_series
5.  读取所有数据后，将 TMP_series 添加到相关的图形数据系列

非常感谢任何帮助！

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-30T21:38:50.627

每次生成系列时，都需要将 TMP_series 重置为新对象。现在，您正在回收同一个对象，并将对同一个对象的引用推送到系列数组中。修改代码的最后一位，如下所示：

```
 if(TIER==csv_tier){
            TMP_series = {
                 name : csv_name+wl_info,
                 data : []
            };
            while(j<curr_data.length){
                XY=curr_data[j].split(',');
                X = parseFloat(XY[0]);
                Y = parseFloat(XY[1]);
                TMP_series.data.push([X,Y]);
                j=j+1;
            }
            j=0;
            csv_type=csv.split('/')[3].split('_')[0];
            if($.inArray(csv_type,time_ids)==-1){
                PROC_SERIES_DATA[proc_count]=[];
                PROC_SERIES_DATA[proc_count]=TMP_series;
                proc_count=proc_count+1;
            }else{
                TIME_SERIES_DATA[time_count]=[];
                TIME_SERIES_DATA[time_count]=TMP_series;
                time_count=time_count+1;
            }
        } 
```

请注意，在 if 的顶部，我如何创建具有指定属性的新对象，并将其分配给引用 TMP_series。请记住，对象是通过引用传递的，因此当您将对象推送到数组中时，您推送的是对对象的引用，而不是对象的副本。

# ant - 如何将参数从 Jenkins 传递到 Ant 脚本？

> ID：10647202
> 
> 赞同：2
> 
> 时间：2012-05-18T05:33:39.130
> 
> 标签：ant, jenkins, sahi

对于一些 GUI 测试，我正在为每个要测试的 GUI 模块创建一个 Jenkins 任务。创建后，我使用 Ant 构建这些测试，但我不知道如何将参数从 Jenkins 实际传递到 Ant 构建文件？基本上我如何在 Ant 中进行变量替换？

我正在使用 Sahi 框架来测试 GUI 组件，所以流程是这样的......

Jenkins → Ant 构建脚本 → Sahi 文件执行

任何人都可以看看吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-05-18T13:13:46.963

“使用 ant -Dname=value 可以在 Ant 命令行上定义属性的值。” [http://ant.apache.org/faq.html#passing-cli-args](http://ant.apache.org/faq.html#passing-cli-args)

在调用任何使用 ${variablename} 时将 jenkins 参数用作变量

[https://wiki.jenkins-ci.org/display/JENKINS/Parameterized+Build](https://wiki.jenkins-ci.org/display/JENKINS/Parameterized+Build)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-12-14T12:09:48.200

单击 jenkins 中作业的配置部分下的高级，然后使用“属性”部分将参数值传递给 Ant 脚本。例如

jenkins.param=10 ant.prop=$jenkins.param 其中 jenkins.param 是 jenkins job 中定义的参数。现在在您的 ant 构建脚本中，您可以使用 ${ant.prop} 获取值。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2015-01-22T07:03:00.737

# visual-studio-2010 - “未处理 NullReferenceException”

> ID：10647206
> 
> 赞同：0
> 
> 时间：2012-05-18T05:33:52.860
> 
> 标签：visual-studio-2010

我的 ojt 中有一个项目。vb2010表格。我收到此错误：

> “未处理 NullReferenceException”

为什么我会得到它？

这是我的代码；

```
Private Sub RefreshData()
    If Not con.State = ConnectionState.Open Then

        con.Open()
    End If

    Dim da As New OleDb.OleDbDataAdapter("SELECT ID as [ID], " & _
                                         "fname as [NAME], lname" & _
                                      "FROM asdf ORDER by ID", con)

    da.Fill(ds.Tables("asdf"))****  this part is where i get the error*****
    con.Close()
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T05:37:32.997

错误说明了它的含义，

进行空检查

```
if(ds != null && ds.Tables("asdf") != null)  then
.... ' put da.Fill here
end if 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T05:58:09.137

“ [NullReferenceExeption](http://msdn.microsoft.com/en-us/library/system.nullreferenceexception.aspx) was Unhandled”错误表明您试图在代码中使用空对象。点个`null check`赞：-

```
if(con != null) then
      'your code...
end if

if(ds != null && ds.Tables("asdf") != null) then
    'your code...
end if 
```

# php - PHP目录不正确

> ID：10647209
> 
> 赞同：0
> 
> 时间：2012-05-18T05:34:04.600
> 
> 标签：php

我有一个运行此代码的 /controller/controller.php 文件：

```
include('../model/model.php');
print page_load(); 
```

model/model.php 正确加载并且 page_load() 函数被加载。但是，model.php 文件仍然“认为”它位于控制器目录中。因此，如果我尝试在 model.php 中执行任何 POST 操作，它会在控制器目录而不是模型目录中查找。

我可以就如何解决这个问题提供一些建议吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T05:36:25.800

在 model.php 中，您需要`action`以正确路径的形式将其发布到您的`model.php`

```
<form action="/model/model.php">
// bla-bla-input-bla-bla
</form> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T05:50:59.867

您仍在控制器页面 [1] 内。正如名称所暗示的，控制器页面仅包含模型页面。谢尔盖所说的部分正确。您需要为表单的操作参数分配更完整的路径。我相信你会看到谢尔盖的回答不起作用。这是因为您需要上一个目录。这是通过`..`在路径之前包含两个点来完成的。

```
<form action="../model/model.php"> 
```

您已经`..`在包含语句中包含了。只需以相同的方式使用它。

如果您需要更多帮助，请告诉我们。:-)

[1] [http://php.net/manual/en/function.include.php](http://php.net/manual/en/function.include.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T05:51:52.330

我认为您正在寻找[`chdir`](http://php.net/chdir/)功能。有了它，您可以更改当前目录，让 PHP 认为您在`model/`文件夹中。

# iphone - UINavigation tintColor

> ID：10647210
> 
> 赞同：1
> 
> 时间：2012-05-18T05:34:06.223
> 
> 标签：iphone, objective-c, uinavigationbar

如何在 UINavigationBar 中设置渐变颜色？我使用此代码在导航栏上设置色调颜色，但它不显示渐变颜色。

```
picker.navigationBar.tintColor = [[UIColor alloc]initWithRed:216.0/255.0 green:216.0/255.0 blue:216.0/255.0 alpha:1.0]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T05:41:42.280

```
 UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 320, 100)];
 CAGradientLayer *gradient = [CAGradientLayer layer];
 gradient.frame = view.bounds;
 gradient.colors = [NSArray arrayWithObjects:(id)[[UIColor blackColor] CGColor], (id)[[UIColor whiteColor] CGColor], nil];
 [view.layer insertSublayer:gradient atIndex:0]; 
```

或者试试这个

```
#import <QuartzCore/QuartzCore.h> // For .layer 

self.navigationController.navigationBar.layer.contents = (id)[UIImage imageNamed:@"navigationBarBackgroundImage"].CGImage;
self.navigationController.navigationBar.tintColor = [UIColor orangeColor]; 
```

试试这个希望这会有所帮助

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-05-18T05:43:10.593

在 iOS 5 中

```
if ( [[[UIDevice currentDevice] systemVersion] floatValue] >= 5.0 ) {
    // Create resizable images
    [[UINavigationBar appearance] setBarStyle:UIBarStyleDefault];
    [[UINavigationBar appearance] setTintColor:yourColor];
} 
```

# php - 显示数据库表中的两个字段以填充 jquery 自动完成

> ID：10647211
> 
> 赞同：1
> 
> 时间：2012-05-18T05:34:27.413
> 
> 标签：php, jquery, mysql, jquery-ui, autocomplete

我已经使用数据库中的数据实现了一个 jquery ui 自动完成功能。现在我所做的只是显示一个字段。例如，假设我有一个数据库：

```
| id | suburb | code
  0     DAR      10
  1     ASD      20
  2     DEF      30
and so on.... 
```

我的html代码：

```
<form id="auto_test">
<label for="tags">Tags: </label>
<input id="tags" type="text" name="tags" />
<input type="button" id="auto_test_btn" value="save" /> 
```

jQuery：

```
jQuery("#tags").autocomplete({
        source: "<?php echo WP_PLUGIN_URL.'/plugin_name/php_file.php'?>"
    }); 
```

php：

```
$t = $_GET['term']; 
$code = $wpdb->get_results(
        "SELECT suburb as label, suburb as value
        FROM Sheet1
        WHERE suburb like '%$t%'
        LIMIT 25
        ",ARRAY_A
        );  
echo(json_encode($code)); 
```

自动完成仅显示“郊区”，因为它被定义为标签。我想做的是同时显示郊区和代码。

有什么好做的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T05:40:37.907

```
"SELECT concat(suburb, ' ', code) as label, suburb as value 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-18T05:40:32.997

您可以在 SQL select 语句中连接列（使用适当的分隔符），可能是这样的：

```
"SELECT Concat(suburb, ' ', code) as label, suburb as value 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T05:42:16.433

试试这个你的sql查询..

```
SELECT suburb as label, code as value
            FROM Sheet1
            WHERE suburb like '%$t%'
            LIMIT 25 
```

# javascript - 如何在jQuery中解决鼠标悬停在重叠图像上的问题？

> ID：10647212
> 
> 赞同：2
> 
> 时间：2012-05-18T05:34:28.637
> 
> 标签：javascript, jquery, jquery-hover

这个问题似乎与

*   [如何检查鼠标是否在jQuery中的元素上？](https://stackoverflow.com/questions/1273566/how-do-i-check-if-the-mouse-is-over-an-element-in-jquery)
*   [jQuery在开始触发之前检查悬停状态](https://stackoverflow.com/questions/6035137/jquery-check-hover-status-before-start-trigger)

但仍然不完全。事情是这样的：我正在写一个小画廊，并且在某些时候用户点击了一个缩略图。图像的大版本显示为全屏的内部。到目前为止，一切都很好。当鼠标悬停在上面时，我会显示三个图像：关闭、左、右，用于浏览相册；当鼠标离开图像*或*导航图像时，三个导航图像消失。

这三个导航图像与主图像部分重叠，例如关闭图像是左上角的圆圈。这就是棘手的部分。

只要鼠标从主图像离开侧面，或从主图像移到三个重叠的小图像之一上，mouseleave 就会触发。mouseenter 会按预期触发每个小的重叠图像。

但是，这会产生一种时髦的闪烁效果，因为在主图像的 mouseleave 上我 hide() 三个小图像，由于重叠并且鼠标仍然在主图像的顶部，这会立即触发主图像的 mouseenter。

为避免这种情况，我尝试确定在鼠标离开主图像时，鼠标是否已移动到其中一个小的重叠图像上。为此，我使用了以下代码：

```
main_img.mouseleave(function() {
  if (!hoverButtons()) {
    doHideButtons();
  }
});

function hoverButtons() {
  return (close_img.is(":hover")) || (left_img.is(":hover")) || (right_img.is(":hover"));
} 
```

这在 Safari 和 Chrome 上效果很好，但不适用于图像仍然闪烁的 FF 和 IE。进一步研究帖子，似乎“：悬停”是这里的问题，因为它不是正确的选择器表达式，而是 CSS 伪类？

我尝试使用在鼠标输入/鼠标离开各种图像时打开/关闭的开关，但这也不起作用，因为事件似乎以不同的顺序触发。

我该怎么做？谢谢！

编辑：我可能需要澄清：在显示导航按钮之前，我设置了它们各自的 left 和 top 属性，以便根据主图像的位置放置它们。这意味着我需要做一些工作才能在 jQuery 选择器上调用 .show() 。我尝试添加一个新函数 .placeShow()，但对于 $(".nav-button:hidden").placeShow() 之类的选择器来说，这并不能很好地工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T06:54:15.287

You can try with this:

```
$("#main, #small").mouseenter(function() {
    $("#small:hidden").show();
}).mouseleave(function(e) {
    if(e.target.id != 'main' || e.target.id != 'small') {
      $('#small').hide();
    }
}); 
```

[DEMO](http://jsfiddle.net/thesystemrestart/zhJye/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-19T15:46:27.080

这就是我最终要做的。我在幻灯片中使用了四个图像：主图像，然后是左、右、关闭按钮图像。

```
main_img = $("<img ... class='main-photo slide-show'/>");
close_img = $("<img ... class='nav-button slide-show'/>");
left_img = $("<img ... class='nav-button slide-show'/>");
right_img = $("<img ... class='nav-button slide-show'/>"); 
```

这里的课程基本上是空的，但帮助我根据上述答案进行选择。然后主图像显示没有导航按钮，我附加了这些事件处理函数：

```
$(".slide-show").mouseenter(function() {
  $(".photo-nav:hidden").placeShow();
});
$(".slide-show").mouseleave(function() {
  $(".photo-nav").hide();
}); 
```

placeShow() 将导航按钮移动到它们各自的位置。该函数定义如下：

```
$.fn.placeShow = function() {
  var pos = main_img.position();
  var left = pos.left;
  var top = pos.top;
  var width = main_img.width();
  var height = main_img.height();

  close_img.css({ "left":"" + (left-15) + "px", "top":"" + (top-15) + "px" }).show();
  left_img.css({ "left":"" + (left+(width/2)-36) + "px" , "top": "" + (top+height-15) + "px" }).show();
  right_img.css({ "left":"" + (left+(width/2)+3) + "px", "top":"" + (top+height-15) + "px" }).show();
} 
```

到目前为止，这在 Safari、IE、FF、Chrome 上都有效（嗯，我在这里得到的版本......）

让我知道您的想法，如果我可以更多地修剪此代码，或者是否有更优雅/更快的替代解决方案。这一切的最终结果现在在我的网站上。

延斯

# python - Urllib2 返回带有换行符和制表符的 HTML

> ID：10647214
> 
> 赞同：4
> 
> 时间：2012-05-18T05:34:58.743
> 
> 标签：python, beautifulsoup, urllib2

我想从某个网站上抓取 HTML，然后将其发送到 BeautifulSoup 进行解析。问题是 urllib2.urlopen() 返回的 HTML 包含换行符 (\n) 和制表符 (\t) 以及单引号和其他字符转义。当我尝试使用此 HTML 构建 BeautifulSoup 对象时，出现错误。

```
b = BeautifulSoup(src) 
```

给出[这个错误](http://pastebin.com/P4kAeSDD)。

我的代码：

```
def get_page_source(url):
    """
    Retrieves the HTML source code for url.
    """
    try:
        return urllib2.urlopen(url)
    except:
        return ""

def retrieve_links(url):
    """
    Use the BeautifulSoup module to efficiently grab all links from the source
    code retrieved by get_page_source.
    """
    src = get_page_source(url)   
    b = BeautifulSoup(src)

    .
    .
    . 
```

我怎么解决这个问题？

**编辑**

```
import urllib2

link = "http://www.techcrunch.com/"
src = urllib2.urlopen(link).read()

f = open('out.txt', 'w')
f.write(src)
f.close() 
```

给出[这个输出](http://pastebin.com/xyyc2zAj)。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T05:46:06.170

问题是您正在解析的 HTML 包含嵌入的 JavaScript 代码（BeautifulSoup 错误抱怨第 130 行，它位于嵌入的 JavaScript 中间），并且 JavaScript 包含嵌入的 HTML。

第 130 行，注意`<a>`标签：

```
adNode += "<a href='http://t.aol.com?ncid=... 
```

它是 HTML 和 JavaScript 的[俄罗斯套娃](http://en.wikipedia.org/wiki/Matryoshka_doll)，Python 的内置解析器无法处理它。

您可以按照 BeatifulSoup 本身在您发布的错误消息中给出的安装解析器的说明进行操作：

> Python 的内置 HTMLParser 无法解析给定的文档。这不是 Beautiful Soup 中的错误。最好的解决方案是安装一个外部解析器（lxml 或 html5lib），并将 Beautiful Soup 与该解析器一起使用。请参阅[http://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-a-parser](http://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-a-parser)寻求帮助。

# javascript - 如何知道在 javascript 中的 ipad 和 iPhone 上启用了调试控制台？

> ID：10647218
> 
> 赞同：1
> 
> 时间：2012-05-18T05:35:26.650
> 
> 标签：javascript, ios, user-interface

我试图在页面定向时为 div 设置 marginLeft，我已经计算了一些值来获取位置并设置，但是当我在 iPad 上启用调试控制台时，位置发生了变化！请帮我。

# java - Ksoap解析器问题android

> ID：10647225
> 
> 赞同：0
> 
> 时间：2012-05-18T05:35:59.827
> 
> 标签：java, android

我正在通过 ksoap 库解析 SOAP Web 服务。我在解析时遇到问题是错误......

```
 05-18 11:00:14.802: WARN/System.err(444): java.lang.RuntimeException: Cannot serialize: 125.322
    05-18 11:00:14.802: WARN/System.err(444):     at org.ksoap2.serialization.SoapSerializationEnvelope.writeElement(SoapSerializationEnvelope.java:629)
    05-18 11:00:14.802: WARN/System.err(444):     at org.ksoap2.serialization.SoapSerializationEnvelope.writeProperty(SoapSerializationEnvelope.java:613)
    05-18 11:00:14.802: WARN/System.err(444):     at org.ksoap2.serialization.SoapSerializationEnvelope.writeObjectBody(SoapSerializationEnvelope.java:582)
    05-18 11:00:14.812: WARN/System.err(444):     at org.ksoap2.serialization.SoapSerializationEnvelope.writeObjectBody(SoapSerializationEnvelope.java:566)
    05-18 11:00:14.812: WARN/System.err(444):     at org.ksoap2.serialization.SoapSerializationEnvelope.writeElement(SoapSerializationEnvelope.java:623)
    05-18 11:00:14.812: WARN/System.err(444):     at org.ksoap2.serialization.SoapSerializationEnvelope.writeBody(SoapSerializationEnvelope.java:547)
    05-18 11:00:14.812: WARN/System.err(444):     at org.ksoap2.SoapEnvelope.write(SoapEnvelope.java:192)
    05-18 11:00:14.812: WARN/System.err(444):     at org.ksoap2.transport.Transport.createRequestData(Transport.java:74)
    05-18 11:00:14.822: WARN/System.err(444):     at org.ksoap2.transport.HttpTransportSE.call(HttpTransportSE.java:58)
    05-18 11:00:14.822: WARN/System.err(444):     at com.KsoapDemo.KsoapDemoActivity.ManualPaymentProcess(KsoapDemoActivity.java:113)
    05-18 11:00:14.822: WARN/System.err(444):     at com.KsoapDemo.KsoapDemoActivity.onCreate(KsoapDemoActivity.java:27)
    05-18 11:00:14.822: WARN/System.err(444):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
    05-18 11:00:14.822: WARN/System.err(444):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
    05-18 11:00:14.822: WARN/System.err(444):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
    05-18 11:00:14.822: WARN/System.err(444):     at android.app.ActivityThread.access$2300(ActivityThread.java:125)
    05-18 11:00:14.832: WARN/System.err(444):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
    05-18 11:00:14.832: WARN/System.err(444):     at android.os.Handler.dispatchMessage(Handler.java:99)
    05-18 11:00:14.832: WARN/System.err(444):     at android.os.Looper.loop(Looper.java:123)
    05-18 11:00:14.832: WARN/System.err(444):     at android.app.ActivityThread.main(ActivityThread.java:4627)
    05-18 11:00:14.832: WARN/System.err(444):     at java.lang.reflect.Method.invokeNative(Native Method)
    05-18 11:00:14.832: WARN/System.err(444):     at java.lang.reflect.Method.invoke(Method.java:521)
    05-18 11:00:14.832: WARN/System.err(444):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
    05-18 11:00:14.832: WARN/System.err(444):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
    05-18 11:00:14.842: WARN/System.err(444):     at dalvik.system.NativeStart.main(Native Method) 
```

**代码 ：：**

```
String NAMESPACE = "http://tempuri.org/";
                String METHOD_NAME = "ManualPaymentProcess";
                String SOAP_ACTION = "http://tempuri.org/ManualPaymentProcess";
                String URL = ("http://URL.asmx");

                SoapObject Request = new SoapObject(NAMESPACE, METHOD_NAME);

                Request.addProperty("UserName", "renish");
                Request.addProperty("Passwrd", "nair");
                Request.addProperty("MerchantName", "nair");
                Request.addProperty("InvoiceNo", "nair");
                Request.addProperty("Amount", 125.322);
                Request.addProperty("Product", "ask");
                Request.addProperty("AgentID", "29031525004722020");
                Request.addProperty("IsPrimaryAgentId", true);

  SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
                envelope.dotNet = true;
                envelope.setOutputSoapObject(Request);

                AndroidHttpTransport androidHttpTransport = new AndroidHttpTransport(URL);
                androidHttpTransport.call(SOAP_ACTION, envelope);
                soapResponseObject = (SoapObject)envelope.getResponse();
                Log.i("TAG","soapResponseObject"+soapResponseObject); 
```

我在其他服务中获得了成功，但在这个网络服务中出现了问题....所以你能告诉我问题是什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T05:40:51.300

[http://seesharpgears.blogspot.in/2010/11/basic-ksoap-android-tutorial.html](http://seesharpgears.blogspot.in/2010/11/basic-ksoap-android-tutorial.html) 试试这个

# dom - 我如何强制浏览器等到所有内容都加载完毕？

> ID：10647226
> 
> 赞同：0
> 
> 时间：2012-05-18T05:36:06.913
> 
> 标签：dom, pageload

我正在处理一个页面，该页面使用几层堆叠的图像和动画来产生效果，但是当我在每个浏览器（最新版本）中本地加载它时，它会显示尺寸小于前层的后隐藏层，但在 DOM 中较低，才会显示最前面的层。这只是片刻，但它破坏了效果。唯一不这样做的浏览器是chrome。

到目前为止，我试过这个：

```
<head>
$(window).load(function() {
    $(body).css("visibility", "visible");
});
</head>
    <body style="visibility:hidden;" > 
```

但无济于事。有没有人有更好的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T05:45:08.777

/*使用这个它可以帮助你*/

```
function loadvisiblity()
{
    $(body).css("visibility", "visible");
}

<style type="text/css">
body.hidden {visibility:hidden;}
</style>

<body class="hidden" onload="loadvisiblity()"> 
```

# python - 在 python Web 服务器上执行数学用户代码，最简单的安全方法是什么？

> ID：10647234
> 
> 赞同：8
> 
> 时间：2012-05-18T05:37:14.093
> 
> 标签：python, security, web.py

我意识到这个问题之前已经被问过，但是这种情况略有不同。

我想运行一个 python 图像板（使用[web.py](http://webpy.org/)），这将允许用户通过提交代码来生成新图像。该代码将采用单个函数的形式，该函数采用像素的 x,y 坐标并返回 r,g,b 值，例如：

```
def simpleGradient(xrel,yrel):
    r = xrel*256
    g = yrel*256
    b = 0
    return [r,g,b] 
```

只需要非常小的语法，它不一定是 python。在有限范围内使用`exec`似乎太不安全了，使用 PyPy 或 VM 似乎不必要地复杂（我对这一切都很陌生）。

与其对它进行沙箱化，是否有一种 Python 的方式以更小的语言执行代码？是python的一个子集（解析和白名单？），还是我可以嵌入的面向数学的语言？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T14:15:43.657

这是我采用的解决方案。有关此方法的安全性的讨论，请参阅

*   [限制 Python 的语法以安全地执行用户代码。这是一种安全的方法吗？](https://stackoverflow.com/questions/10661079/restricting-pythons-syntax-to-execute-user-code-safely-is-this-a-safe-approach)

感谢[arifwn](https://stackoverflow.com/users/499476/arifwn)，我开始探索 Python 的`ast`（抽象语法树）模块。该模块提供了一个`ast.NodeVisitor`用于遍历树的类。此代码子类`NodeVisitor`创建一个语法检查器，将基本数学所需的代码列入白名单。函数调用和名称受到特别监控，因为只应允许某些函数并且只允许未使用的名称。

```
import ast

allowed_functions = set([
    #math library
    'acos', 'acosh', 'asin', 'asinh', 'atan', 'atan2', 'atanh',
    'ceil', 'copysign', 'cos', 'cosh', 'degrees', 'e', 'erf',
    'erfc', 'exp', 'expm1', 'fabs', 'factorial', 'floor', 'fmod',
    'frexp', 'fsum', 'gamma', 'hypot', 'isinf', 'isnan', 'ldexp',
    'lgamma', 'log', 'log10', 'log1p', 'modf', 'pi', 'pow', 'radians',
    'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc',
    #builtins
    'abs', 'max', 'min', 'range', 'xrange'
    ])

allowed_node_types = set([
    #Meta
    'Module', 'Assign', 'Expr',
    #Control
    'For', 'If', 'Else',
    #Data
    'Store', 'Load', 'AugAssign', 'Subscript',
    #Datatypes
    'Num', 'Tuple', 'List',
    #Operations
    'BinOp', 'Add', 'Sub', 'Mult', 'Div', 'Mod', 'Compare'
    ])

safe_names = set([
    'True', 'False', 'None'
    ])

class SyntaxChecker(ast.NodeVisitor):

    def check(self, syntax):
        tree = ast.parse(syntax)
        self.passed=True
        self.visit(tree)

    def visit_Call(self, node):
        if node.func.id not in allowed_functions:
            raise SyntaxError("%s is not an allowed function!"%node.func.id)
        else:
            ast.NodeVisitor.generic_visit(self, node)

    def visit_Name(self, node):
        try:
            eval(node.id)
        except NameError:
            ast.NodeVisitor.generic_visit(self, node)
        else:
            if node.id not in safe_names and node.id not in allowed_functions:
                raise SyntaxError("%s is a reserved name!"%node.id)
            else:
                ast.NodeVisitor.generic_visit(self, node)

    def generic_visit(self, node):
        if type(node).__name__ not in allowed_node_types:
            raise SyntaxError("%s is not allowed!"%type(node).__name__)
        else:
            ast.NodeVisitor.generic_visit(self, node)

if __name__ == '__main__':
    x = SyntaxChecker()
    while True:
        try:
            x.check(raw_input())
        except Exception as e:
            print e 
```

请注意，这旨在仅接受代码的数学部分，提供函数定义和返回语句。

这种将所有必需的安全构造列入白名单，特别是将必需的不安全构造列入白名单的方法，可以修改为生成许多有用的 Python 子集；非常适合用户脚本！

请注意，为了安全地执行它，它应该在它自己的线程中超时，以减少名称冲突并在用户代码生成无限循环或类似情况时超时。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T06:10:37.327

[pysandbox pypi 页面上](http://pypi.python.org/pypi/pysandbox/)有很多很棒的信息。

# android - 如何显示图像以使其适合整个屏幕？

> ID：10647235
> 
> 赞同：0
> 
> 时间：2012-05-18T05:37:28.473
> 
> 标签：android, android-imageview, android-linearlayout

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/LinearLayout1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" >

<ImageView
    android:id="@+id/imageView1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:gravity="center_vertical"
    android:scaleType="fitXY"
    android:adjustViewBounds="true"
    android:layout_x="0dip" 
    android:layout_y="0dip"
    android:background="@drawable/mlview1" /> 
```

我正在使用 android 模拟器 2.2 。我的图像水平占据屏幕，但垂直显示与底部有很大的差距。图像尺寸为 800X600 。是否应该重新调整大小然后使用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T05:45:42.620

确保：
1\. 父子元素的高度和宽度都是**fill_parent**
2\. 您正在设置**src**属性，而不是图像上的**背景属性**

注意：您也不需要**layout_x**或**layout_y**

# android - 如何查看带有操作项的操作栏以显示 android 中的所有活动？

> ID：10647236
> 
> 赞同：0
> 
> 时间：2012-05-18T05:37:29.863
> 
> 标签：android, android-layout, android-intent, android-emulator, android-widget

嗨，我的应用程序包含许多活动。我创建了一些显示到操作栏的操作项。如何将带有操作项的操作栏显示到 android 中同一应用程序的所有活动中。怎么可能。我需要源代码。请帮助一些人。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T06:36:52.800

创建一个`Activity`扩展`BaseActivity`类，用作应用程序中每个活动的基类。将与您的操作栏相关的代码和所有常见的活动代码添加到此`BaseActivity`. 通过这种方式，您可以在应用程序中的所有活动之间实现一致性。

# javascript - 如何从列表中获取数据

> ID：10647239
> 
> 赞同：0
> 
> 时间：2012-05-18T05:37:47.557
> 
> 标签：javascript, sencha-touch-2

嗨，我是 sencha touch 2 的新手。我正在使用 Web 服务。它在列表对象中返回数据。那么如何从列表中迭代数据

这是输出：

```
request: Array[2]
0: Object
Address: "1 Bangalore"
Name: "Vinay"
__type: "Customer:#WcfService1"
__proto__: Object
1: Object
Address: "1 Kerala"
Name: "Sujay"
__type: "Customer:#WcfService1" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T07:22:03.863

你可以迭代结果。

```
for (person in request) {
   doSomethingWithPerson(person);
} 
```

你的人将只是一个具有 .Name 和 .Address 属性的对象。

# asp.net - xslt 中的数据列表

> ID：10647244
> 
> 赞同：0
> 
> 时间：2012-05-18T05:38:47.367
> 
> 标签：asp.net, xslt, repeater, datalist

是否可以在 XSLT 的帮助下构建图像的 ASP.NET DataList？我能够构建文本框、下拉列表等，但不能构建 asp:DataList。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T05:47:14.407

我想您可以通过首先在服务器端执行 XSLT 转换，然后使用[ParseControl](http://msdn.microsoft.com/en-us/library/system.web.ui.templatecontrol.parsecontrol.aspx)将 XML 转换为 DataList 控件来做到这一点。

但似乎更好的方法（不知道您的情况的所有细节）是将您的 DataList 绑定到[XmlDataSource](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.xmldatasource.aspx)，或绑定到您使用 Linq-to-XML 创建的集合。

# intellij-idea - 在 IDEA 中 Subversion 很慢

> ID：10647260
> 
> 赞同：6
> 
> 时间：2012-05-18T05:40:37.273
> 
> 标签：intellij-idea

Subversion 在 IDEA 10.5 中非常慢，更新 java 源或提交后总是刷新 Subversion 历史，每次刷新 Subversion 历史大约需要 30 秒，但在 Eclipse 中，Subversion 非常快

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T13:10:49.337

你在运行什么操作系统？我之前已经看到了一些仅限 64 位的 Linux 内核和 jsvn 的问题。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-05-18T05:46:42.037

可能有多种原因，

1.  Subversion 存储库连接可能非常慢或可能有巨大的网络流量。
2.  它也可能是由于您的计算机性能不足引起的。

据我所知，知道与颠覆有关的 intelij Idea 10.5 相关问题。无论如何尝试 11.0.1 与 10.5 相比，它更稳定且功能更多

问候伊苏鲁

# wpf - 在没有目录的 wpf 中使用 .wav 文件

> ID：10647265
> 
> 赞同：0
> 
> 时间：2012-05-18T05:40:48.513
> 
> 标签：wpf, wav

嗨，我有一个 wpf 应用程序，可以在按钮单击等事件上播放声音。我现在拥有的当前代码播放声音文件，但我意识到它必须位于另一个文件夹中，例如如果用户删除，则应用程序几乎无法使用。我想知道，如果不在应用程序发布目录中创建一个全新的文件夹，我怎么能得到一个 .wav 文件。有任何想法吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T05:54:08.547

将 .wav 文件作为嵌入式资源放入 dll 怎么样？

只需将文件添加到项目中，右键单击文件并将*Build Action*设置为*Embedded Resource*。

然后您可以将 .wav 文件作为流加载并将其保存到光盘，如下所示：

```
private void WriteEmbeddedResourceToFile(string writePath, string assemblyName)
    {
        Assembly asm = Assembly.GetExecutingAssembly();
        Stream s = asm.GetManifestResourceStream(assemblyName);
        if (s != null)
        {
            var file = new byte[s.Length];
            s.Read(file, 0, (int)s.Length);
            File.WriteAllBytes(writePath, file);
            s.Close();
        }
    } 
```

字符串*assemblyName*必须像这样设置：*命名空间。（如果您将文件放在文件夹中，请在此处插入文件夹子路径）.filename.wav*

或者，您可以将其保存到光盘，直接使用流：

```
private byte[] GetEmbeddedResource(string assemblyName)
    {
        Assembly asm = Assembly.GetExecutingAssembly();
        Stream s = asm.GetManifestResourceStream(assemblyName);
        if (s != null)
        {
            var file = new byte[s.Length];
            s.Read(file, 0, (int)s.Length);
            s.Close();
            return file;
        }
    } 
```

然后，当您要加载文件时，GetEmbeddedResource 将返回字节数组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T05:45:52.697

如果将 .wav 文件添加到项目的根目录，然后标记为内容（右键单击 .wav 文件并单击属性。然后将构建操作更改为内容），那么它将直接复制到根输出文件夹

您可以在代码或 XAML 中引用 wav 文件作为相对路径（简单的“Myfile.wav”）

我相信这就是你的要求？

# php - Imagemagick 和 GD 库之间的图像文件大小差异

> ID：10647266
> 
> 赞同：0
> 
> 时间：2012-05-18T05:40:50.910
> 
> 标签：php, imagemagick, gd, imagick

我一直在做一些测试，发现与 GD 库相比，Imagemagick 创建了更大的文件大小的图像。

我尝试使用 Imagemagick 的 thumbnailImage 方法和 resizeImage 方法（使用不同的过滤器）来创建最大尺寸为 1024x680 jpeg 的图像，JPEG 压缩和质量 80，分辨率为每英寸 72 像素，并且还使用 stripImage 方法删除不需要的元数据. Imagemagick 创建的文件大小始终在 700KB 到 800KB 的范围内，具体取决于各种过滤器。另一方面，GD 库生成大小为 1024x680 的图像，大小仅为 41KB。

谁能解释一下文件大小的区别。我在 Photo shop 中打开了 2 个文件并查看了任何差异，但找不到任何差异（DPI、颜色配置文件、8 位通道等），但仍然无法解释文件大小的差异。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-20T21:09:29.273

```
$srgbPath = "pathTosrgbColorProfile";
$srgb = file_get_contents($srgbPath);
$image->profileImage('icc', $srgb);
$image->stripImage();
$image->setImageResolution(72,72);
$image->setImageUnits(1);
$image->setInterlaceScheme(Imagick::INTERLACE_JPEG);
$image->setImageCompression(imagick::COMPRESSION_JPEG);
$image->setImageCompressionQuality(80);
$image->setColorspace(imagick::COLORSPACE_SRGB);

$image->resizeImage($thumb_width,$thumb_nheight,imagick::FILTER_CATROM,1);
$image->writeImage($destination); 
```

大小减少了 40KB，输出为 711KB，这仍然是相当大的。我正在测试的高分辨率原始文件是大小为 3008x2000 (4.2MB) 的 jpeg。

**编辑：**

我想我想通了，该方法`setCompression()`是针对对象而不是图像执行的，而是我使用了`setImageCompression()`，`setImageCompressionQuality()`现在大小已减小到 100KB .. 现在一切都好！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-06-03T16:18:19.630

可能 GD 和 ImageMagick 的 Quality 设置不容易比较，其中一个为 80% 并不意味着另一个为 80%。[我在Smashing Magazine 的一篇文章](https://www.smashingmagazine.com/2015/06/efficient-image-resizing-with-imagemagick/#quality-and-compression)中发现了以下注释：

> 事实证明，JPEG 质量尺度没有在规范或标准中定义，并且它们在编码器之间并不统一。Photoshop 中 60 的质量可能与一个程序中的 40 质量、另一个程序中的质量 B+ 和第三个程序中的质量幻想相同。在我的测试中，我发现 Photoshop 的 60 最接近 ImageMagick 中的 -quality 82。

因此，在比较不同的结果文件时，您可能会更加关注质量。也许颜色不同或 gd 图像有更多伪影。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T07:14:02.360

差异似乎相当大。几年前我做一些测试时，IM 的文件大小大约是 GD 大小的 5 倍。看到您使用的实际代码会很有趣。

我现在正在工作，但将照片调整为 592 x 592，文件大小为 50.3KB 我知道它的大小与您的不一样，但以质量 100 保存

您可以运行它并查看 IM 对输出文件的说明：convert image -verbose -identify

编辑：

你一定是做错了什么我刚刚进行了测试，结果如下 - 由于某种原因，缩略图大小与调整大小相同！也许是一个错误。

原始文件大小：4700 x 3178 2.31MB

-调整尺寸 = 1021 x 680 186kb

-缩略图尺寸 = 1021 x 680 186kb

GD 尺寸 = 1024 x 682 100kb

```
$original = 'IMG_4979_1.CR2';

// Convert to jpg as GD will not work with CR2 files
exec("convert $original image.jpg");

$image = "image.jpg";

exec("convert $image -resize 1024x680 output1.jpg");

exec("convert $image -thumbnail 1024x680 -strip output2.jpg");

// Set the path to the image to resize
$input_image = 'image.jpg';
// Get the size of the original image into an array
$size = getimagesize( $input_image );
// Set the new width of the image
$thumb_width = "1024";
// Calculate the height of the new image to keep the aspect ratio
$thumb_height = ( int )(( $thumb_width/$size[0] )*$size[1] );
// Create a new true color image in the memory
$thumbnail = ImageCreateTrueColor( $thumb_width, $thumb_height );
// Create a new image from file 
$src_img = ImageCreateFromJPEG( $input_image );
// Create the resized image
ImageCopyResampled( $thumbnail, $src_img, 0, 0, 0, 0, $thumb_width, $thumb_height, $size[0], $size[1] );
// Save the image as resized.jpg
ImageJPEG( $thumbnail, "output3.jpg" );
// Clear the memory of the tempory image 
ImageDestroy( $thumbnail ); 
```

# android - 将输入设置为 SOAP 请求

> ID：10647275
> 
> 赞同：1
> 
> 时间：2012-05-18T05:41:42.203
> 
> 标签：android, ksoap2

我在我的应用程序中使用 SOAP 请求，因为我的 SOAP 请求结构如下：

```
 <Data>
       <Keys>
          <String>
            <V>string</V>
            <K>string</K>
          </String>
          <String>
            <V>string</V>
            <K>string</K>
          </String>
        <Keys>
        <CriteriaKeys>
          <String>
            <V>string</V>
            <K>string</K>
          </String>
          <String>
            <V>string</V>
            <K>string</K>
          </String>
        </CriteriaKeys>
        <No>int</No>
        <Size>int</Size>
      </Data> 
```

在此我在设置请求的输入时遇到问题。如何使用 addproperty 方法为这种复杂类型设置输入。以下是我的 SOAP 调用代码：

```
SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);    
            SoapObject authentication = new SoapObject(NAMESPACE,"authentication"); 

                 Setting property for authentication

                request.addSoapObject(authentication);
               SoapSerializationEnvelope envelope=new SoapSerializationEnvelope(SoapEnvelope.VER11);
            envelope.setOutputSoapObject(request);
            envelope.dotNet=true;
            HttpTransportSE androidHttpTransport = new HttpTransportSE(URL); 
            try
            {               
                androidHttpTransport.call(SOAP_ACTION,envelope);
                SoapObject result=(SoapObject)envelope.getResponse(); 
                Log.i("myApp",result.toString());  
                } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T05:46:28.407

如果您使用的是 HTTP 的本机方法/类，那么有一种简单的方法可以在您的网络调用中设置此请求：

```
HttpPost post = new HttpPost(url);
post.setEntity(new StringEntity(yourxmlrequestString, "utf-8")); 
```

# javascript - Extjs 将本地 JSON 对象加载到网格中

> ID：10647278
> 
> 赞同：2
> 
> 时间：2012-05-18T05:41:48.730
> 
> 标签：javascript, extjs4, store

我是 Ext JS 的新手，并在 Grid 上尝试了各种选项。我创建了一个网格并将其添加到面板（Ext.panel.Panel）。网格显示为空数据（我没有添加代理）。在发生某些事件时，我构造一个 JSON 对象并`loadData`在网格上触发。

以下是我的代码片段。

```
Ext.define('AM.view.grid.Details', {
    extend: 'Ext.grid.Panel',
    alias: 'widget.details',
    title: 'Widget Data',

    store: {
        autolaod: true,
        fields: [{
            name: 'widgetid',
            mapping: 'widget_id',
            type: 'string'
        }, {
            name: 'widgetname',
            mapping: 'widget_name',
            type: 'string'
        }, {
            name: 'widgetnotes',
            mapping: 'widget_notes',
            type: 'String'
        }],
        reader: {
            type: 'json'
        }
    },
    width: 620,
    height: 400,

    forceFit: true,
    columns: [{
        header: 'id',
        dataIndex: 'widgetid',
        hidden: true
    }, {
        header: 'Name',
        dataIndex: 'widgetname',
        width: 150
    }, {
        header: 'Note',
        dataIndex: 'widgetnotes',
        width: 150
    }],

    renderTo: Ext.getBody()
}); 
```

我有一个函数，它是另一个小部件的回调函数。当事件发生时，此函数 getTriggered。

```
function someFunction(grid) {
    var jsonData = formGridData();
    grid.store.loadData(jsonData);
} 
```

请假设创建了网格，并且我有函数 formGridData() 将形成的字符串转换为 JSON 对象并返回。

因此，当我运行应用程序时，如果 jsonData 的长度为 5，则网格中会出现 5 个空行。

以下是 JSONData

```
[{
    'widget_id':    'widget-1',
    'widget_name':  'gridpanel',
    'widget_notes': 'This is used to handle..'
}, {
    'widget_id':    'widget-2',
    'widget_name':  'combo',
    'widget_note':  'This is used to handle..'
}, {
    'widget_id':    'widget-3',
    'widget_name':  'panel',
    'widget_note':  'This is used to handle..'
}] 
```

我在做什么有什么问题吗？

谢谢，
帕尼

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T08:52:53.707

抱歉，我没有注意到

所以看来您的 dataIndex 无效

[http://jsfiddle.net/ssxenon01/WpZMU/8/](http://jsfiddle.net/ssxenon01/WpZMU/8/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-18T10:07:43.433

您在网格上的 dataIndexes 是错误的。

```
columns: [{
    header: 'id',
    dataIndex: 'widget_id', //was widgetid
    hidden: true
}, {
    header: 'Name',
    dataIndex: 'widget_name', //was widgetname
    width: 150
}, {
    header: 'Note',
    dataIndex: 'widget_notes',  //was widgetnotes
    width: 150
}] 
```

发生的事情是它看到了正确数量的行，但是由于您作为示例的 json 被命名为 widget_* 并注意 widget*，它认为它们是别的东西，因此无法在网格中适当地显示它们

# javascript - ajax注入的元素不能被选中

> ID：10647287
> 
> 赞同：0
> 
> 时间：2012-05-18T05:43:09.520
> 
> 标签：javascript, jquery, ajax

我编写了使用 ajax 更新帖子的代码：

```
 $(function(){
   $('#loadFeed').bind('click',function(){ 
        $.getJSON('getData.php', function(json) {
            var output="<ul id='feedsList'>";

            for(var i=json.posts.length-1;i>=json.posts.length-31;i--){
                output+="<li class='post'>";
                output+="<div class='text'>"+json.posts[i].shortmsg+"</div>";         
                output+="</li>";
            }
            output+="</ul>"
            $(output).appendTo('.posts');
    });
  });
}); 
```

我的html代码：

```
<div data-role="content" class="ui-content" role="main">
        <div class="posts"></div>
 </div> 
```

然后我想点击每个帖子，帖子会展开以显示更详细的内容。我该怎么做？我写的代码是：

```
$(function(){
     $('.text').bind('click',function(){
         $.getJSON('getData.php', function(json){   
         var thisID = this.id;      
         $(this).replaceWith("<div class='long_text'>"+json.posts[thisID].msg+"<div>"); 
         });
     });
}); 
```

但它什么也没做。我不确定是否

```
var thisID = this.id; 
```

工作与否。我稍微改变了我的代码： `$(function(){ $('.text').bind('click',function(){ alert("Hello!") }); });`

仍然没有发生任何事情！我怀疑是否在函数中选择了 .text。有人可以帮忙吗？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T05:46:27.230

你应该阅读关于 jQuery 的[`.on()`](http://api.jquery.com/on/)

假设您有一个在动态内容之前存在的容器，

```
<div class="posts">
    <!--dynamic content here-->
</div> 
```

然后将处理程序附加到现有容器**一次**，它将侦听动态内容的事件 

```
//"add listener for .text, attached on .post"
$('.posts').on('click','.text', function(){
    //do stuff when text is clicked    
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T05:44:40.253

使用 .live() 而不是 .bind()。然后它将对页面上出现的新元素保持警惕。

实际上医生说：

> 从 jQuery 1.7 开始，不推荐使用 .live() 方法。使用 .on() 附加事件处理程序。旧版本 jQuery 的用户应该使用 .delegate() 而不是 .live()。

# java - ASM COMPUTE_MAXS 不适用于基本测试用例？

> ID：10647290
> 
> 赞同：0
> 
> 时间：2012-05-18T05:43:16.210
> 
> 标签：java, java-bytecode-asm

文章底部是测试用例。它给出了以下错误。但是我已经设置`new ClassWriter(ClassWriter.COMPUTE_MAXS)`了，所以它不应该自动计算最大堆栈并正确设置吗？

```
Exception in thread "main" java.lang.RuntimeException: Error at instruction 2: Insufficient maximum stack size. testMethod()Ljava/lang/Object;
00000  :  :    L0
00001  :  :     LINENUMBER 22 L0
00002  :  :     ACONST_NULL
00003 ? :     ARETURN 
```

测试用例：

```
public static void main(String[] args) {
    ClassWriter cw = new ClassWriter(ClassWriter.COMPUTE_MAXS);
    CheckClassAdapter cv = new CheckClassAdapter(cw);
    cv.visit(V1_7, ACC_PUBLIC + ACC_SUPER, "path/Cls", null, "java/lang/Object", null);
    {
        MethodVisitor mv = cv.visitMethod(ACC_PUBLIC, "<init>", "()V", null, null);
        mv.visitCode();
        Label l0 = new Label();
        mv.visitLabel(l0);
        mv.visitVarInsn(ALOAD, 0);
        mv.visitMethodInsn(INVOKESPECIAL, "java/lang/Object", "<init>", "()V");
        mv.visitInsn(RETURN);
        Label l1 = new Label();
        mv.visitLabel(l1);
        mv.visitLocalVariable("this", "L" + "path/Cls" + ";", null, l0, l1, 0);
        mv.visitMaxs(1, 1);
        mv.visitEnd();
    }
    {
        MethodVisitor mv = cv
                .visitMethod(ACC_PUBLIC + ACC_STATIC, "testMethod", "()Ljava/lang/Object;", null, null);
        mv.visitCode();
        Label l0 = new Label();
        mv.visitLabel(l0);
        mv.visitLineNumber(22, l0);
        mv.visitInsn(ACONST_NULL);
        mv.visitInsn(ARETURN);
        mv.visitMaxs(0, 0); // Same error even if this is commented out
        mv.visitEnd();
    }

    byte[] byteArray = cw.toByteArray();
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-20T12:39:16.983

问题不在于 ASM，而在于您的测试。基本上 CheckClassAdapter 在计算最大堆栈和 var 值之前会看到字节码。

您可以将代码更改为以下内容：

```
 ClassWriter cw = new ClassWriter(ClassWriter.COMPUTE_MAXS);
  cw.visit...

  byte[] byteArray = cw.toByteArray();
  ClassReader cr = new ClassReader(byteArray);
  cr.accept(new CheckClassAdapter(new ClassWriter(0)), 0); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-03T13:53:43.777

您可以将 CheckClassAdapter 配置为不检查堆栈大小：

```
CheckClassAdapter cv = new CheckClassAdapter(cw, false); 
```

# javascript - 使用 Jquery 的多级下拉菜单

> ID：10647297
> 
> 赞同：1
> 
> 时间：2012-05-18T05:44:03.060
> 
> 标签：javascript, jquery, css, menu, drop-down-menu

我想使用 jQuery 设计一个多级菜单。我已经写了一些代码。你可以在[这里](http://jsfiddle.net/24ZvL/)看到演示。这一切都很好。但我想动态制作多级下拉菜单。

**脚本**

```
$('ul#menu > li').hover(function(){
    //$('#drop' , this).css('display','block');
     $('.drop' , this).delay(20).slideDown(200);
}, function(){
 $('.drop' , this).delay(20).slideUp(200);
});​ 
```

**HTML**

```
<ul id="menu">
    <li><a href="#">Home</a>
        <ul class="drop">
            <li><a href="#">About us</a></li>
            <li><a href="#">About us</a></li>
            <li><a href="#">About us</a></li>
            <li><a href="#">About us</a></li>
        </ul>
    </li>

    <li><a href="#">about</a>
        <ul class="drop">
            <li><a href="#">Home</a></li>
            <li><a href="#">Home</a></li>
            <li><a href="#">Home</a></li>
            <li><a href="#">Home</a></li>
        </ul>
    </li>

</ul>​ 
```

**CSS**

```
ul#menu
{
    margin:0;
    padding:0;
}
ul#menu > li
{
    list-style:none;
    float:left;
    margin:0;
    padding:0;
    position:relative;
}
ul#menu a
{
    text-decoration:none;
    color:#fff;
    background:red;
    display:block;
    padding:10px;
}
ul#menu > li ul.drop
{
    margin:0;
    padding:0;
    width:150px;
    position:absolute;
    display:none;
}
ul#menu > li ul.drop ul
{
    margin:0;
    padding:0;
    width:150px;
    position:absolute;
    display:none;
    left:150px;
    top:0;
}
ul#menu > li ul li
{
    margin:0;
    padding:0;
    list-style:none;
    position:relative;
}​ 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T06:21:09.577

您需要稍微更改 jQuery 脚本以适应这样的多级菜单：

```
$('ul#menu li').hover(function(){
     $(this).children('ul').delay(20).slideDown(200);
}, function(){
     $(this).children('ul').delay(20).slideUp(200);
}); 
```

并像这样更改html：

```
<ul id="menu">
    <li><a href="#">Home</a>
        <ul class="drop">
            <li><a href="#">About us</a></li>
            <li><a href="#">About us</a></li>
            <li><a href="#">About us</a></li>
            <li>
                <a href="#">About us</a>
                <ul>
                    <li><a href="#">Sub Item 1</a></li>
                    <li>
                        <a href="#">Sub Item 2</a>
                        <ul>
                            <li><a href="#">Sub item 3</a></li>
                            <li><a href="#">Sub item 4</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </li>

    <li><a href="#">about</a>
        <ul class="drop">
            <li><a href="#">Home</a></li>
            <li><a href="#">Home</a></li>
            <li><a href="#">Home</a></li>
            <li><a href="#">Home</a></li>
        </ul>
    </li>
</ul> 
```

你的CSS很好。您可以在以下位置查看更新的多级代码：http: [//jsfiddle.net/297t6/](http://jsfiddle.net/297t6/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T07:24:26.287

```
$(document).ready(function () {
            var data = [{ 'Name': 'Home', 'Url': '#', 'SubMenu': [{ 'Name': 'Home1', 'Url': '#' }, { 'Name': 'Home2', 'Url': '#' }, { 'Name': 'Home3', 'Url': '#' }, { 'Name': 'Home4', 'Url': '#' }, ] }, { 'Name': 'AboutUs', 'Url': '#', 'SubMenu': [{ 'Name': 'AboutUs1', 'Url': '#' }, { 'Name': 'AboutUs2', 'Url': '#' }, { 'Name': 'AboutUs3', 'Url': '#' }, { 'Name': 'AboutUs4', 'Url': '#' }, ]}];

            if (data.length > 0) {
                $('body').prepend('<ul id="menu"><ul>');

                $.each(data, function (i, entity) {
                    var liHtml = [];
                    liHtml.push('<li><a href="' + entity.Url + '">' + entity.Name + '</a>');
                    if (entity.SubMenu.length > 0) {
                        liHtml.push('<ul class="drop">');
                        $.each(entity.SubMenu, function (i, subEntity) {
                            liHtml.push('<li><a href="' + subEntity.Url + '">' + subEntity.Name + '</a>');
                        });
                        liHtml.push('</ul>');
                    }
                    liHtml.push('</li>');

                    $('ul#menu').append(liHtml.join(''));
                });
            }

            $('ul#menu > li').hover(function () {
                //$('#drop' , this).css('display','block');
                $('.drop', this).delay(20).slideDown(200);
            }, function () {
                $('.drop', this).delay(20).slideUp(200);
            });
        }); 
```

对于现场演示，请参阅此链接：http: [//jsfiddle.net/nanoquantumtech/Z5NXv/](http://jsfiddle.net/nanoquantumtech/Z5NXv/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-01-30T07:47:36.510

要使用鼠标单击事件也可以使用下拉菜单，请使用此代码。

```
 $('.getdown a.toggle').on('click', function(e) {
        $(this).next('ul').slideToggle(250);
        e.preventDefault(); // to prevent following the link
    }); 
```

并像这样将一些类或 ID 添加到您的 html 中，

```
<ul id="menu">
    <li class="getdown">
        <a href="#" class="toggle">Home</a>
        <ul>
            <li><a href="#">About us</a></li>
            <li><a href="#">About us</a></li>
            <li><a href="#">About us</a></li>
            <li><a href="#">About us</a></li>
        </ul>
    </li>

    <li class="getdown">
        <a href="#" class="toggle">about</a>
        <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">Home</a></li>
            <li><a href="#">Home</a></li>
            <li><a href="#">Home</a></li>
        </ul>
    </li>

</ul>​ 
```

要使用悬停试试这个，

```
 $(".getdown").hover( function() {
        $(this).children('ul').hide();
        $(this).children('ul').slideDown(250);
    }, function() {
        $('ul', this).slideUp(250);
    }); 
```

If you are using bootstrap in your project, don't use bootstrap classes here. User another unique classes because bootstrap can override some functionalities.

# android - 为什么层次查看器不适用于三星 Galaxy TAB 7.0？

> ID：10647300
> 
> 赞同：71
> 
> 时间：2012-05-18T05:44:13.497
> 
> 标签：android, galaxy-tab

我之前使用过 hierarachyviewer，但在 android 模拟器上。当我在模拟器上使用它时，它工作得非常好。但是它不适用于三星 Galaxy TAB 7.0 和 Android 2.3.4。

这是我得到的日志

```
11:04:22 E/hierarchyviewer: Unable to get view server version from device 303599
64881B00EC
11:04:22 E/hierarchyviewer: Unable to get view server protocol version from devi
ce 30359964881B00EC
11:04:24 E/hierarchyviewer: Unable to debug device 30359964881B00EC
11:05:05 E/hierarchyviewer: Unable to get view server version from device 303599
64881B00EC
11:05:05 E/hierarchyviewer: Unable to get view server protocol version from devi
ce 30359964881B00EC
11:05:07 E/hierarchyviewer: Unable to debug device 30359964881B00EC
11:09:38 E/hierarchyviewer: Unable to get view server version from device 303599
64881B00EC
11:09:38 E/hierarchyviewer: Unable to get view server protocol version from devi
ce 30359964881B00EC
11:09:40 E/hierarchyviewer: Unable to debug device 30359964881B00EC 
```

我也没有在调试模式下使用hierarchyviewer，只是运行应用程序。谢谢。

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2012-10-11T10:08:04.357

我找到了一种解决方法：[https ://github.com/romainguy/ViewServer](https://github.com/romainguy/ViewServer)

> ViewServer 是一个简单的类，您可以在 Android 应用程序中使用 HierarchyViewer 检查工具...
> 
> *   验证您是否需要此库（[较新版本的 Android 不需要](http://developer.android.com/intl/es/tools/performance/hierarchy-viewer/setup.html)）
> 
> 如果您确实需要此库，请按照以下说明操作：
> 
> *   包括 ViewServer 库（在[此处](https://jitpack.io/#romainguy/ViewServer)找到简单的说明）
> *   您的应用程序必须需要 INTERNET 权限
> *   使用此 API 的推荐方法是在创建活动时注册它们，并在它们被销毁时取消注册它们：
>     
>     
>     
>     ```
>     public class MyActivity extends Activity {
>         public void onCreate(Bundle savedInstanceState) {
>             super.onCreate(savedInstanceState);
>             // Set content view, etc.
>             ViewServer.get(this).addWindow(this);
>         }
>     
>         public void onDestroy() {
>             super.onDestroy();
>             ViewServer.get(this).removeWindow(this);
>         }
>     
>         public void onResume() {
>             super.onResume();
>             ViewServer.get(this).setFocusedWindow(this);
>         }
>     } 
>     ```
>     
>     
> 
> 请参阅 ViewServer.java 中的文档以获取更多信息...

* * *

## 回答 #2

> 赞同：50
> 
> 时间：2013-05-07T15:39:14.150

请改用监控工具 ( `android-sdk/tools/monitor`)。

连接到您的设备。如果无法连接，请先关闭 Eclipse。

按设备选项卡中的“UI automator 的转储视图层次结构”按钮。它位于屏幕捕获按钮旁边。

从 API 级别 16 (Android 4.1) 开始工作。

* * *

## 回答 #3

> 赞同：35
> 
> 时间：2012-05-18T05:52:52.973

您只能在模拟器和从谷歌购买的特殊开发者手机上使用 HierarachyViewer。

[http://groups.google.com/group/android-developers/browse_thread/thread/b0b0af7a316ca768](http://groups.google.com/group/android-developers/browse_thread/thread/b0b0af7a316ca768)

从上面的链接引用

> HierarchyViewer 不适用于用户构建（即商店中可用的设备）。这是出于安全原因。如果 HiearchyViewer 能够处理用户构建，那么您桌面上的任何应用程序（在某些情况下甚至在手机上）都可能获得对私人信息（如登录名和密码）的访问权限。

* * *

## 回答 #4

> 赞同：21
> 
> 时间：2015-12-23T11:44:27.097

我在 max os 中解决了问题

这个 ANDROID_HVPROTO 解决方案记录在这里：

[http://developer.android.com/tools/performance/hierarchy-viewer/setup.html](http://developer.android.com/tools/performance/hierarchy-viewer/setup.html)

然后尝试关闭 Android Studio

运行 adb kill-server, adb start-server

并向我发起监控工作！

答案是 ：

[https://github.com/romainguy/ViewServer/issues/14#issuecomment-75354479](https://github.com/romainguy/ViewServer/issues/14#issuecomment-75354479)

@ozodrukh 的回答很有用。

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2012-05-18T05:54:40.820

几乎没有通用生产手机允许 HierarchyViewer 访问它们。通常开发者手机和模拟器是唯一具有这些功能的。

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2015-08-04T05:44:44.693

我在 4.1 Android 手机上遇到的类似问题。在您的代码中使用[ViewServer 。](https://github.com/romainguy/ViewServer)

在检查层次结构查看器之前，只需重新启动一次 adb 服务器。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-10-30T08:51:32.213

官方文档：[Optimizing Your UI](https://developer.android.com/studio/profile/optimize-ui.html)是这么说的：

> 为了保护安全，Hierarchy Viewer 只能连接到运行 Android 系统开发者版本的设备。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2018-10-13T09:56:15.517

[使用 Hierarchy Viewer 分析您的布局](https://developer.android.com/studio/profile/hierarchy-viewer)：

设置环境变量

```
ANDROID_HVPROTO=ddm 
```

所以从`[andrid-sdk]/tools`文件夹在命令行中运行它：

```
set ANDROID_HVPROTO=ddm
hierarchyviewer 
```

或`set ANDROID_HVPROTO=ddm`放入`hierarchyviewer.bat`.

# java - 自动提交假表的最大值

> ID：10647302
> 
> 赞同：0
> 
> 时间：2012-05-18T05:44:21.653
> 
> 标签：java, mysql, jsp, commit, rollback

我的问题是我将表自动提交设置为 false。我需要从该表中获取最大 ID（当前插入的自动增量 ID 值）。但我得到了前一个提交进程的 id。是否有可能获得价值

我真正的问题是我需要向表中插入一些值，并且需要从第一个表中获取最后插入记录的 id 并将其插入到第二个表中。第二次插入还包括一些图像上传（作为代码的一部分）。所以它需要一些延迟或可能有例外。我需要通过发生任何异常来撤消所有插入（在第一个和第二个中）。我尝试为此使用提交回滚方法。但正如我上面提到的，它不能正常工作。我的代码的主要部分写在下面

```
try
{

//getting connection and setting auto commit false
dbHandler dbGetConnect=new dbHandler();
Connection conRegPlot=null;
conRegPlot=dbGetConnect.getconn();
conRegPlot.setAutoCommit(false);

String qryInsertPlot="INSERT INTO property_table(name,message,owner,locality,lattitude,longitude,country,state,city,type,catagory,created,modified,creted_date,zoompoint,mob_no,title,img_path,expire_date,lease_term) VALUES('none','"+description+"','"+sessionUserId+"','"+locality+"','"+lattitude+"','"+longitude+"','"+country+"','"+state+"','"+city+"','"+type+"','"+catagory+"',NOW(),NOW(),CURDATE(),'"+zoom+"','"+mob_no+"','"+title+"','NOT IN USE',"+expireDate+",'"+termsAndConditions+"')";//insertion into the first table

Statement stCrs=conRegPlot.createStatement();
int resp=stCrs.executeUpdate(qryInsertPlot);

String qryGetMaxProperty="SELECT MAX(l_id)"+
        " FROM property_table"+
            " WHERE stat='active'"+
            " AND CURDATE()<=expire_date";
propertyId1=dbInsertPropert.returnSingleValue(qryGetMaxProperty);// get the max id

String qryInsertImage="INSERT INTO image_table(plot_id,ownr_id,created_date,created,modified,stat,img_path) VALUES('"+propertyId1+"','"+sessionUserId+"',CURDATE(),NOW(),NOW(),'active','"+img_pth+"')";

            Statement stImg=conRegPlot.createStatement();
            stImg.executeUpdate(qryInsertImage);// inserting the image

conRegPlot.commit();    
}
catch(Exception exc)
{
    conRegPlot.rollback();

}
finally{
    conRegPlot.close();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:04:58.243

自从

> 并且需要从第一个表中取出最后插入记录的 id 并将其插入到第二个表中。

您可以使用新`JDBC 3.0`方法`getGeneratedKeys()`获取生成的 ID。另一方面，您应该使用`PreparedStatement`以避免 SQL 注入。

```
 PreparedStatement ps = null;
 try {
    conn = getConnection();
    ps = conn.prepareStatement(myQuery, PreparedStatement.RETURN_GENERATED_KEYS);
    ps.setInt(1, anInteger);
    ...
    int rows = ps.executeUpdate();
    if (rows == 1) {
        ResultSet keysRS = ps.getGeneratedKeys();
        if (keysRS.next())
            int id = keysRS.getInt(1) // Get generated id 
```

对于 MySQL，请参阅[http://dev.mysql.com/doc/refman/5.1/en/connector-j-usagenotes-last-insert-id.html#connector-j-examples-autoincrement-getgeneratedkeys中的更多信息](http://dev.mysql.com/doc/refman/5.1/en/connector-j-usagenotes-last-insert-id.html#connector-j-examples-autoincrement-getgeneratedkeys)

# php - 使用 Javascript/jQuery 在 HTML 中的 SELECT 中几乎不需要更正

> ID：10647304
> 
> 赞同：0
> 
> 时间：2012-05-18T05:44:41.507
> 
> 标签：php, javascript, jquery, html

我在 HTML 中的选择选项是，

```
<select name="id" id="id" style="width:400px;" onChange="loadAjax(this.value);">
<select name="name" id="name" style="width:400px;"> 
```

当 SELECT (html) 中的值发生变化时，它会加载 ajax 函数（使用 javascript）。但我有不同的要求，当这个选择输入加载时，它应该直接调用**loadAjax**函数，并且在更改时也是如此。

怎么可能？我尝试了一些类似**window.onload**，**onload**的东西，但没有任何效果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T05:47:15.083

鉴于您已经用“jquery”标记了您的问题，我建议使用 jQuery 解决方案：

```
$(document).ready(function() {
    $("#id").change(function() {
        loadAjax($(this).val());
    }).change();
}); 
```

这定义了更改处理程序，然后立即触发它。`onclick`（您将从html中删除内联。）

或者没有 jQuery，也许是这样的：

```
window.onload = function() {
   loadAjax(document.getElementById("id").value);
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T06:05:00.100

```
window.onload = function() {
   loadAjax(document.getElementById("id").value);
}; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T06:10:03.170

```
you can also bind change event to #id element.

$(document).ready(function() {
   $("#id").bind("change",function() {
        loadAjax($(this).val());
   });
}); 
```

# python - 如何使用 PIL/Pillow 将图像合并到画布中？

> ID：10647311
> 
> 赞同：51
> 
> 时间：2012-05-18T05:45:59.580
> 
> 标签：python, image, canvas, python-imaging-library, pillow

我不熟悉 PIL，但我知道在 ImageMagick 中将一堆图像放入网格中非常容易。

例如，我如何将 16 张图像放入一个 4×4 的网格中，我可以在其中指定行和列之间的间隙？

* * *

## 回答 #1

> 赞同：94
> 
> 时间：2012-05-18T08:35:42.460

这也很容易做到`PIL`。[创建一个空图像，然后使用paste](https://pillow.readthedocs.io/en/latest/reference/Image.html#PIL.Image.Image.paste)将所需的图像粘贴到您需要的任何位置。这是一个简单的例子：

```
import Image

#opens an image:
im = Image.open("1_tree.jpg")
#creates a new empty image, RGB mode, and size 400 by 400.
new_im = Image.new('RGB', (400,400))

#Here I resize my opened image, so it is no bigger than 100,100
im.thumbnail((100,100))
#Iterate through a 4 by 4 grid with 100 spacing, to place my image
for i in xrange(0,500,100):
    for j in xrange(0,500,100):
        #I change brightness of the images, just to emphasise they are unique copies.
        im=Image.eval(im,lambda x: x+(i+j)/30)
        #paste the image at location i,j:
        new_im.paste(im, (i,j))

new_im.show() 
```

![在此处输入图像描述](../Images/53d86629ba30ecc6b2210fdf4111a4e2.png)

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2019-01-06T23:40:30.733

扩展了 fraxel 的出色答案，我编写了一个程序，它接收一个包含 (.png) 图像的文件夹、拼贴宽度的像素数以及每行图片的数量，并为您完成所有计算.

```
#Evan Russenberger-Rosica
#Create a Grid/Matrix of Images
import PIL, os, glob
from PIL import Image
from math import ceil, floor

PATH = r"C:\Users\path\to\images"

frame_width = 1920
images_per_row = 5
padding = 2

os.chdir(PATH)

images = glob.glob("*.png")
images = images[:30]                #get the first 30 images

img_width, img_height = Image.open(images[0]).size
sf = (frame_width-(images_per_row-1)*padding)/(images_per_row*img_width)       #scaling factor
scaled_img_width = ceil(img_width*sf)                   #s
scaled_img_height = ceil(img_height*sf)

number_of_rows = ceil(len(images)/images_per_row)
frame_height = ceil(sf*img_height*number_of_rows) 

new_im = Image.new('RGB', (frame_width, frame_height))

i,j=0,0
for num, im in enumerate(images):
    if num%images_per_row==0:
        i=0
    im = Image.open(im)
    #Here I resize my opened image, so it is no bigger than 100,100
    im.thumbnail((scaled_img_width,scaled_img_height))
    #Iterate through a 4 by 4 grid with 100 spacing, to place my image
    y_cord = (j//images_per_row)*scaled_img_height
    new_im.paste(im, (i,y_cord))
    print(i, y_cord)
    i=(i+scaled_img_width)+padding
    j+=1

new_im.show()
new_im.save("out.jpg", "JPEG", quality=80, optimize=True, progressive=True) 
```

[![模型折叠拼贴](../Images/4ef0bc24d6ab66de7666b883cc2fed79.png)](https://i.stack.imgur.com/eA87N.jpg)

# telerik - radnumeric 文本框只允许 16 个数字

> ID：10647313
> 
> 赞同：0
> 
> 时间：2012-05-18T05:46:06.263
> 
> 标签：telerik, numeric-textbox

我有以下 rad 数字文本框。

```
> <telerik:RadNumericTextBox ID="numTxtIMEI" runat="server"
> MaxLength="20" MinValue="0"   Visible="false"
> maxvalue="99999999999999999999" AutoCompleteType="Disabled">
> <NumberFormat GroupSeparator="" DecimalDigits="0" /> <ClientEvents
> OnKeyPress="preventDecimalSeparator" /> </telerik:RadNumericTextBox> 
```

尽管设置 maxlength 和 maxvalue 以允许 20 个数字进入文本框，但它只允许 16numbers 。当我输入第 17 个数字时，它会自动变为零。我应该怎么做才能让这个数字文本框允许 20 个数字？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T16:02:47.587

“Telerik RadNumericTextBox 控件不支持大于/小于 +/- 2^46 的最大/最小值 将 MaxValue 属性设置为大于 2^46 可能会导致 RadNumericTextBox 行为异常。”

引用自 Telerik 论坛帖子。我在下面链接了它。它确实提供了一个关于如何做更大数字的选项，但我自己没有测试过。

[http://www.telerik.com/community/forums/aspnet/input/change-max-value-of-radnumerictextbox.aspx](http://www.telerik.com/community/forums/aspnet/input/change-max-value-of-radnumerictextbox.aspx)

# javascript - 检测 Meteor 环境？

> ID：10647314
> 
> 赞同：7
> 
> 时间：2012-05-18T05:46:13.683
> 
> 标签：javascript, environment, detect, meteor

我想知道我们如何检测流星是在开发环境还是生产环境中运行？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T07:25:40.293

您可以为此使用[过程](http://nodejs.org/docs/v0.4.10/api/process.html#process.platform)，另一种方法是使用[fs](http://nodejs.org/docs/v0.4.10/api/fs.html)并检查您放入目录中的文件，该文件因应用程序所在的环境而异。

我认为最好的方法是使用`process.env`和检查`COMPUTERNAME`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T16:56:52.540

使用“ **meteor_runtime_config** .ROOT_URL”

这将返回 ROOT_URL 环境变量。

这是检测环境的最简单方法。

您可以在 .bash_profile 或 .profile 中设置此值

```
export ROOT_URL=http://YOURDOMAIN.com 
```

# vb.net - 将 TRUE 值分配给 VB 中的函数

> ID：10647321
> 
> 赞同：0
> 
> 时间：2012-05-18T05:46:56.250
> 
> 标签：vb.net, c#-4.0, vb.net-to-c#

下面的 VB 代码将 True 值分配给函数。但是当我转换为 C# 时，我收到一个错误，例如我们无法将 True 分配给方法。如何将 true 分配给 C# 中的方法。这是我的 VB 代码：

```
Private Function KeyOK(ByVal sKey As String) As Boolea

    KeyOK = True
    sKey = Trim(sKey)

    If Len(sKey) <> KEY_LENGTH Then
        KeyOK = False
        Exit Function 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-18T05:48:57.043

C# 中的等价物是**return**关键字。因此，您只需编写以下代码，而不是*KeyOK = false ：*

```
return false; 
```

这是一个等效的 C# 函数：

```
private bool KeyOK(string sKey) 
{
    bool result = true;
    sKey = (sKey ?? "").Trim();
    if (sKey.Length != KEY_LENGTH)
        result = false;
    return result;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T12:40:00.213

这是风格/品味的问题，但我会省略中间体

```
private bool KeyOK(string key)  { 
    return (key ?? "").Trim().Length == KEY_LENGTH;
} 
```

或者干脆

```
private bool KeyOK(string key)  { 
    return key.Trim().Length == KEY_LENGTH;
} 
```

如果您高兴，那密钥永远不会为空。

（不必要地把我的鼻子伸进去）
艾伦。

# android - 在android中处理完成和下一个SoftKeypad？

> ID：10647322
> 
> 赞同：5
> 
> 时间：2012-05-18T05:46:58.190
> 
> 标签：android, android-widget

我有一个简单的登录活动，有两个编辑文本文件，用于用户名和密码。现在我想实现以下两个功能，

1.  如果在焦点位于 userNameText 时触摸**下一个按钮，则****光标应移动**到第二个 editText 字段，即 passwordText..
2.  如果在光标位于 passwordText 字段时按下**了 done**，我想调用一个在**OK**按钮的侦听器中**调用的函数。**

 **![在此处输入图像描述](../Images/2df65e27e9343e2b04a29a6659c414b3.png) ![在此处输入图像描述](../Images/5c267f6b32ae3b69a09aa81b118d3382.png)

我的 XML 文件看起来像这样

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@drawable/online" >

    <TextView
        android:id="@+id/userNamelbl"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/userNameLbl" />

    <EditText
        android:id="@+id/userNametxt"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@id/userNamelbl"
        android:background="@android:drawable/editbox_background"
        android:hint="@string/userNameTxt"
        android:maxLines="1"
        android:nextFocusDown="@+id/passwordtxt"
        android:singleLine="true" />

    <TextView
        android:id="@+id/passwordlbl"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@id/userNametxt"
        android:text="@string/passwordLbl" />

    <EditText
        android:id="@+id/passwordtxt"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@id/passwordlbl"
        android:background="@android:drawable/editbox_background"
        android:hint="@string/passwordTxt"
        android:inputType="textPassword"
        android:maxLines="1"
        android:singleLine="true" />

    <Button
        android:id="@+id/okBtn"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_below="@id/passwordtxt"
        android:layout_marginLeft="10dip"
        android:text="@string/okLbl" />

    <Button
        android:id="@+id/cancelBtn"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignTop="@id/okBtn"
        android:layout_toLeftOf="@id/okBtn"
        android:text="@string/cancelLbl" />

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:05:12.827

由 anDroider 请求 - 不是答案

```
<?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_weight="1"
        android:orientation="vertical" >

        <ImageView
            android:id="@+id/imageView1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:src="@drawable/logo" />

        <EditText
            android:id="@+id/loginuser"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="10dp"
            android:ems="10"
            android:hint="@string/username_string"
            android:inputType="textEmailAddress" >

        </EditText>

        <EditText
            android:id="@+id/loginpass"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:ems="10"
            android:hint="@string/password_string"
            android:inputType="textPassword" />

        <Button
            android:id="@+id/loginbtn"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:layout_marginTop="20dp"
            android:clickable="true"
            android:text="Login" />

    </LinearLayout> 
```

编辑：这部分是一个答案

使用`OnEditorActionListener`并聆听完成键被按下。**

# ruby-on-rails - 如何改进用 `'` 引用所有数组元素并返回包含所有引用和逗号分隔元素的字符串的代码？

> ID：10647327
> 
> 赞同：9
> 
> 时间：2012-05-18T05:47:22.607
> 
> 标签：ruby-on-rails, ruby, arrays, collect

我正在使用 Rails 3.2.2，我想引用所有数组元素`'`并返回一个包含所有引用和逗号分隔元素的字符串。这个时候我正在使用

```
['a', 'b', 'c'].collect {|x| "'#{x}'"}.join(", ")
# => "'a', 'b', 'c'" 
```

但我认为我可以改进上面的代码（也许通过使用我不知道的 Ruby 方法，如果它存在的话）。可能吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-12-25T16:49:46.737

我用

```
"'#{%w{a b c}.join("', '")}'" 
```

这是扩展版本：

```
' # Starting quote
%w{a b c}.join("', '") # Join array with ', ' delimiter that would give a', 'b', 'c
' # Closing quote 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-12-25T16:34:55.820

您可以`collect`用它的别名`map`和`.join`等效的`*`. 最后，您可以使用[编写字符串数组的快捷方式](https://stackoverflow.com/a/1274703/789593), `%w(...)`，并且您可以将单引号用于`.join`/的参数，`*`因为它不使用字符串插值（尽管[在性能](https://stackoverflow.com/q/1836467/789593)方面是否更可取可能值得怀疑）。

```
%w(a b c).map {|x| "'#{x}'"} * ', ' 
```

看起来这个版本和原始版本之间没有性能差异，但[Sigurd 的版本](https://stackoverflow.com/a/14032429/789593)表现更好：

```
原始 3.620000 0.000000 3.620000 ( 3.632081)
这 3.640000 0.000000 3.640000 ( 3.651763)
西格德的 2.300000 0.000000 2.300000 ( 2.303195)
```

基准代码：

```
require 'benchmark'

n = 1000000

Benchmark.bm do |x|
  x.report("Original") { n.times do
      ['a', 'b', 'c'].collect {|x| "'#{x}'"}.join(", ")
    end}
  x.report("This") { n.times do
      %w(a b c).map {|x| "'#{x}'"} * ', '
    end}
  x.report("Sigurd's") { n.times do
      "'#{%w{a b c}.join("', '")}'"
    end}
end 
```

# php - PHP 将密钥添加到解码然后编码的 JSON 数据

> ID：10647328
> 
> 赞同：1
> 
> 时间：2012-05-18T05:47:29.127
> 
> 标签：php, json

我不确定为什么会这样，但我似乎经常遇到这个问题。这是我用于购物车的原始 JSON：

```
{
    "cartitems": [
        {
            "Product_ID": "1",
            "quantity": "1",
            "cartid": 1
        },
        {
            "Product_ID": "5",
            "quantity": "1",
            "cartid": 4
        },
        {
            "Product_ID": "5",
            "quantity": "1",
            "cartid": 6
        },
        {
            "Product_ID": "5",
            "quantity": "1",
            "cartid": 7
        }
    ]
} 
```

此 JSON 数据存储到 $_SESSION 变量 $_SESSION['cart_items']

此代码用于删除项目：

```
$cartid = $_POST['varA'];

/* Remove the item */
foreach ($_SESSION['cart_items']['cartitems'] as $key => $product) {
    if ($product['cartid'] == $cartid) {
        unset($_SESSION['cart_items']['cartitems'][$key]);
    }
}

echo json_encode($_SESSION['cart_items']); 
```

当 Cartid = 7 的项目被删除时，它被结束时的结果是这样的：

```
{
    "cartitems": {
        "0": {
            "Product_ID": "1",
            "quantity": "1",
            "cartid": 1
        },
        "1": {
            "Product_ID": "5",
            "quantity": "1",
            "cartid": 4
        },
        "2": {
            "Product_ID": "5",
            "quantity": "1",
            "cartid": 6
        }
    }
} 
```

它增加了钥匙！这只发生在超过 3 个项目时，这让我感到困惑。有什么办法可以重写我的代码，以防止创建这些密钥？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T05:56:54.217

在 PHP 中，只有数组用于关联和数字索引的地图/列表/数组。Javascript/JSON 有两个不同的概念：数字索引数组 ( `[...]`) 和对象映射 ( `{ foo : ... }`)。为了让 PHP`json_encode`决定在编码数组时使用哪个，幕后有一些逻辑。通常，如果数组键是连续的并且都是数字的，则数组被编码为 JSON 数组 ( `[...]`)。如果甚至有一个键乱序或非数字键，则使用 JSON 对象。

为什么你的数组操作特别触发了一个对象，我不知道。不过，为避免这种情况，您可以重置数组键以确保它们以数字方式连续索引：

```
$_SESSION['cart_items']['cartitems'] = array_values($_SESSION['cart_items']['cartitems']); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-30T06:36:47.740

试试这个，对我有用。使用自动键将数组转移到新数组：

```
/* Remove the item */
foreach ($_SESSION['cart_items']['cartitems'] as $key => $product) {
    if ($product['cartid'] == $cartid) {
        unset($_SESSION['cart_items']['cartitems'][$key]);
    }
}
$var=array();
foreach($_SESSION['cart_items']['cartitems'] as $key => $product) {
        $var['cart_items']['cartitems'][] = $product;
}
echo json_encode($var['cart_items']); 
```

# java - isFile() 的 java File 也可以是 isDirectory() 吗？

> ID：10647329
> 
> 赞同：2
> 
> 时间：2012-05-18T05:47:30.500
> 
> 标签：java, file

以下测试通过：

```
 File aDir = new File("aDir");
    assertTrue(aDir.exists());
    assertTrue(aDir.isDirectory());
    assertFalse(aDir.isFile());

    File aFile = new File("aFile");
    assertTrue(aFile.exists());
    assertFalse(aFile.isDirectory());
    assertTrue(aFile.isFile());

    File awol = new File("notInFileSystem");
    assertFalse(awol.exists());
    assertFalse(awol.isDirectory());
    assertFalse(awol.isFile()); 
```

从表面上看，这似乎意味着对于所有为真的文件`file.isFile()`都是`file.isDirectory()`假的。是否存在任何已知类型的文件系统/文件类型/java 平台，而这种假设不成立？

（在文件（符号链接、连接点、符号链接/缺少目标的连接点等）之间存在各种野蛮的文件类别，它们的行为*可能*略有不同）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-18T05:53:41.070

查看 JavaDoc，情况似乎总是如此：

[http://docs.oracle.com/javase/7/docs/api/java/io/File.html#isFile()](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#isFile())

是目录：

> 当且仅当此抽象路径名表示的文件存在并且是目录时才为真；否则为假

是文件：

> 当且仅当此抽象路径名表示的文件存在并且是普通文件时才为真；否则为 false 如果文件不是目录并且满足其他与系统相关的标准，则该文件是正常的。Java 应用程序创建的任何非目录文件都保证是普通文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T05:53:51.310

从[文档](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#isFile%28%29)中：

`isFile()`：

> 测试此抽象路径名表示的文件是否为普通文件。如果文件不是目录，并且满足其他系统相关标准，则该文件是正常的。Java 应用程序创建的任何非目录文件都保证是普通文件。

这绝对意味着 if`isFile()`为**true**则`isDirectory()`必须为**false**。根据`isDirectory()`文档中的措辞，反之亦然。

# hbase - 使用 HBASE 的讨论线程

> ID：10647331
> 
> 赞同：0
> 
> 时间：2012-05-18T05:47:43.713
> 
> 标签：hbase

我对 Hbase 很陌生。

我需要使用 hbase 实现讨论线程。

每个讨论都有一个新的行键。

从 hbase 获取讨论是按照创建的 rowkey 的顺序（带有时间戳）

但是，每当向讨论中添加新评论时，我都想向用户展示出现在列表顶部的讨论。

但根据我目前的情况，当我评论列表中的一个线程时，它不会出现，因为讨论线程的行键是基于时间戳的。

我想过使用过滤器来实现这一点。但这将是一项昂贵的操作。

有没有其他更好的方法来实现这一目标？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T10:58:53.823

您可以同时写入第二个“索引”表（用引号括起来，因为与 RDBMS 不同，HBase 没有自动声明性索引，您必须自己做）。该表可以基于行键中的修改日期，并包含足够的信息来查找主表中的记录（例如，它可以在行键中包含修改日期，然后在列值中包含创建日期） . 然后，您的操作是在这个“索引”表中进行线性扫描以查找最近修改的记录，然后对主表执行 N 次 GET 操作，每个要显示的记录一个。

另一种设计完全是，您可以为每个用户在 HBase 中存储一行，其中包含两个列族：一个用于用户的消息（每列是一个消息，以类似于您上面描述的方式存储，除了代替一行用于每个讨论，每个讨论都有一个专栏）；然后，在另一个列族中，您可以存储用户的“收件箱”，它只是按修改日期排序的前 N ​​条消息的缓存，用于显示收件箱。将这些作为列而不是行来执行的好处是，在这种情况下，整个行都受到每个用户的事务保护，因此您可以执行更复杂的操作，例如检查和设置，并且可以保证收件箱视图始终保持一致最新消息。

# java - Java 绘制字体的所有字形

> ID：10647332
> 
> 赞同：3
> 
> 时间：2012-05-18T05:47:45.483
> 
> 标签：java, fonts

## 问题：

给定一个字体对象，我如何绘制字体的*所有*字形/符号/字符？

## 我知道以下内容：

我知道如何从文件创建 Font 对象。

我知道使用 g.setFont(...) ；// g 是一个 Graphics2D

我知道使用 g.drawString(...); // g 是一个 Graphics2D

但是，我不想只画 AZ、az、0-9 字符。我想绘制字体的所有字形。有没有办法做到这一点？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-18T06:17:01.710

怎么样：

```
final Font f = new Font(...);

for (char c = 0x0000; c <= Character.MAX_VALUE; c++) {
    if (f.canDisplay(c)) {
        // draw it ...
    }
} 
```

看[`Font.canDisplay()`](http://docs.oracle.com/javase/7/docs/api/java/awt/Font.html#canDisplay%28char%29)

> **`public boolean canDisplay(int codePoint)`**
> 
> 检查此字体是否具有指定字符的字形。
> 
> **参数：**
> 
> `codePoint`- 需要字形的字符（Unicode 代码点）。
> 
> **回报：**
> 
> `true`如果这`Font`有字符的字形；`false`除此以外。
> 
> **抛出：**
> 
> `IllegalArgumentException`- 如果代码点不是有效的 Unicode 代码点。
> 
> **自从：**
> 
> ```
>  1.5 
> ```
> 
> **也可以看看：**
> 
> [`Character.isValidCodePoint(int)`](http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#isValidCodePoint%28int%29)

# android - 使用 FQL 的通知表中的 object_id 错误或不完整

> ID：10647337
> 
> 赞同：4
> 
> 时间：2012-05-18T05:48:13.740
> 
> 标签：android, facebook, facebook-graph-api, facebook-fql

我正在我的 Android 应用程序中显示通知。使用对 Notifications 表的 FQL 查询获取通知，然后在 ListView 中显示结果。现在，为了保持良好的用户体验，我希望用户在点击通知时留在应用程序中。到目前为止，我在这方面取得了部分成功。

Notification 表有两个重要的列，即 the`object_id`和 the `object_type`。当查询的结果返回 object_type as*`stream`*时，它`object_id`是正确的，并且匹配`id`是否使用 Graph API 对“me/home”进行查询。这是必不可少的，因为我有一个 Newsfeed 活动和一个 NewsfeedDetails 活动，它显示点击的帖子详细信息，例如评论数量、喜欢的数量和列表中的实际评论，其标题中包含帖子内容。

但是，当`object_type`返回*`photo`*时`object_id`，如果在 Graph API Explorer 中选中，则会出现 803 异常。*id*基本上是错的！`*href*`为了克服这个障碍，我从Notifications 表的列中提取了部分 *object_id* 。但是`object_id`，与`id`从 Graph API 调用“me/home”相比，这种结果总是不同的。如果在 Graph API Explorer 中选中了提取`object_id`，它会将照片对象显示为与帖子对象相对。

有没有一种方法可以让我从调用“me/home”中获取与*id匹配的 *object_id*？*如果这篇文章没有任何意义，我将添加相关示例。我正在努力寻找可能的解决方案，并且已经在 FB 上提交了一个错误。

我真的很感谢您的大师在 SO 上能给我的任何帮助/建议。谢谢。

# php - PHP AJAX 调用不检索任何内容

> ID：10647340
> 
> 赞同：0
> 
> 时间：2012-05-18T05:48:26.123
> 
> 标签：php, jquery, ajax, codeigniter

我正在尝试检索 HTML 并将其显示在页面上，它似乎没有检索到任何内容......

我的控制器脚本：

```
function index()
{   
    $this->load->view('ajax_post');
}

public function ajaxify()
{
    $message = "<b>hello</b>";
    echo $message;
} 
```

我的 JavaScript 代码：

```
 $(document).ready(function(){
    $("#click").click( 
    function(){

        $.ajax({
        type: "POST",
        url: "/index.php/ajax_post/ajaxify",
        dataType: "html",
        cache:false,
        success: 
          function(data){
            $("#content").append(html); 
          }

        });

      return false;

    });

}); 
```

任何帮助将不胜感激，因为我是 jQuery/AJAX 的绝对初学者

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T05:53:01.977

你的网址建错了；如果您在 Firebug 中看到 NET 控制台，它将显示 404（或 500）。在 CI 中使用 helper 函数（url helper）：

```
$.ajax({
    type: "POST",
    url: "<?php echo site_url('ajax_post/ajaxify');?>",
    dataType: "html", 
```

或手动构建它，包括域名：

```
$.ajax({
    type: "POST",
    url: "http://www.yourdomain.com/index.php/ajax_post/ajaxify",
    dataType: "html", 
```

确保 url 映射到正确的控制器/方法（ajax_post.php 控制器，如果没有分配自定义路由，则为 ajaxify 方法）

旁注，`append()`附加到所选元素的末尾，如果要插入到元素*内*`$(selector).html(data);`，请改用

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-18T06:10:42.513

您的 Ajax 成功处理函数：

```
function(data){
    $("#content").append(html); 
} 
```

有一个名为的参数`data`，但随后您尝试附加一个不存在的变量`html`尝试将其更改为：

```
 $("#content").append(data); 
```

# c# - MVC：线性通信与三角通信

> ID：10647342
> 
> 赞同：1
> 
> 时间：2012-05-18T05:48:39.263
> 
> 标签：c#, asp.net-mvc, model-view-controller, design-patterns

在**[WikiPedia (Comparison with the MVC architecture)](http://en.wikipedia.org/wiki/Multitier_architecture#Comparison_with_the_MVC_architecture "MVC WP 链接")**中说——“ *MVC 架构是三角形的：视图向控制器发送更新，控制器更新模型，视图直接从模型中更新*”

再次通过**[ASP.Net](http://msdn.microsoft.com/en-us/library/dd381412.aspx)**的定义和**[图像](http://i.msdn.microsoft.com/dynimg/IC263184.png)**，可以看出 MVC 支持三角通信。

但查询是视图与模型交互的方式和时间，反之亦然。

获得一些代码来明确说明 MVC 如何以及何时支持三角通信是令人钦佩的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-19T23:15:43.730

与其他设计模式或复合模式一样，MVC 为设计人员留下了很多以自己的方式适应/采用/理解的空间。

如果你看一下 MVC 的历史，它是几十年前从 Smalltalk 语言中发明出来的，它与我们当前常用的 OO 语言 Java、.NET 或 C++ 存在一些差异。因此，对于 MVC 应该如何工作有很多解释。没有正确的解决方案！由你决定。也许MVC，你知道它的方式实际上是MVP，而不是别人眼中的MVC。我经历过谁知道多少次。如果你有兴趣，这里有一些关于 MVC 的讨论，我喜欢的差异以及如何实现它。

*   [图形用户界面架构](http://martinfowler.com/eaaDev/uiArchs.html)
*   [构建您自己的复合应用程序块系列：UI 架构、模式和 WinForm 示例](http://codebetter.com/jeremymiller/2007/07/26/the-build-your-own-cab-series-table-of-contents)
*   [MVVM vs MVP vs MVC：差异](http://joel.inpointform.net/software-development/mvvm-vs-mvp-vs-mvc-the-differences-explained)

现在需要注意的重要一点是，MVC 主要是为了将 View 与 Model 分离，以便多个 View 可以共享同一个模型。因此，要具体回答您的问题：“视图如何以及何时与模型交互，反之亦然”

*   何时：主要是当模型发生变化时，它会自动发送信号更新所有视图。

*   方式：要么模型封装刷新所需的所有信息并将其发送到视图，要么视图持有对模型的引用并在必要时（或通过控制器）直接查询其状态。如你所愿。

# oracle - 如何在矩阵报告中包含列的子列？

> ID：10647346
> 
> 赞同：0
> 
> 时间：2012-05-18T05:48:58.900
> 
> 标签：oracle, oracle10g

需要在矩阵报告的列中包含子列。

结构如下：

```
 Lease   |      Rental
          MTD | YTD |     MTD |  YTD
         -----+-----+---------+-----
Segment       |     |         | 
```

我的疑问是如何在租赁和租赁（列）中拥有 MTD 和 YTD（子列）的结构。任何关于如何合并相同的想法将不胜感激。

提前致谢，

共同预言家

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T09:08:20.717

确切的解决方案将取决于您的数据模型，但遗憾的是您忽略了向我们提供表格。所以这只是一个可能的解决方案的指示。相关技术是在查询投影中使用 CASE。

```
select 
       segment
       , sum(case ( when type = 'LEASE' and t_date >= trunc(sysdate, 'MON') then
                t_qty else 0 end) as lease_mtd
       , sum(case ( when type = 'LEASE' then
                t_qty else 0 end) as lease_ytd
       , sum(case ( when type = 'RENTAL'  then
                t_qty else 0 end) as rental_mtd
       , sum(case ( when type = 'RENTAL' and t_date >= trunc(sysdate, 'YYYY') then
                t_qty else 0 end) as rental_ytd
from your_tablee 
where t_date >= trunc(sysdate, 'YYYY') 
```

sysdate 上的 TRUNC() 是一个巧妙的技巧，它产生由格式掩码指示的日期。因此，“MON”掩码产生当前月份的第一天，“YYYY”产生当年的 01-JAN。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T05:58:00.727

从数据库的角度来看，“子列”就像普通列一样被选中，这取决于您用于实际格式化报告的工具如何创​​建您所描述的布局。

# blackberry - 获取经纬度查询

> ID：10647355
> 
> 赞同：0
> 
> 时间：2012-05-18T05:49:44.677
> 
> 标签：blackberry, cell, latitude-longitude

在 Blackberry 中，当我们使用 cell ID 访问 Google 并获取应用程序的相应纬度和经度时，是否会涉及成本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-19T04:48:19.860

据我所知，它是免费的，它只是收费的网络成本

# silverlight - 如何在 Silverlight 的内容模板中将父控件样式应用于子控件

> ID：10647356
> 
> 赞同：0
> 
> 时间：2012-05-18T05:49:51.867
> 
> 标签：silverlight

这里我的文本框文本被绑定到内容模板中的子文本框，但是如何将默认样式和验证错误与内容模板中的子文本框一起应用。

```
 <TextBox x:Name="tbIdNumber"  Width="110" Height="20"  Text="{Binding IdNumber, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true}" >
        <TextBox.Template>
            <ControlTemplate TargetType="TextBox" >                    
                <StackPanel Orientation="Horizontal" >
                   <Image Height="10" Width="20" Source="Images/bullet_darkblue.PNG" />
                    <TextBox   Width="90"   Tag="{Binding RelativeSource={RelativeSource TemplatedParent}}"    DataContext="{Binding RelativeSource={RelativeSource TemplatedParent},Path=DataContext, Mode=TwoWay}"
                               Text="{Binding  Path=Text ,RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true}"  >                          
                    </TextBox>
                </StackPanel>
             </ControlTemplate>
        </TextBox.Template>
    </TextBox> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-19T08:17:47.137

用 TextBox 定义 TextBox 控件的控件模板是很不寻常的。我建议你不要走上面的路。

您应该从[此处](http://msdn.microsoft.com/en-us/library/cc645061%28v=vs.95%29.aspx)的 TextBox 的默认 ControlTemplate 开始（警告：它非常复杂）。它包含验证、聚焦等所需的所有视觉状态。

根据我的观察，您想在文本框旁边添加一个图像。您应该能够在 Grid 内添加一个图像元素，然后也许可以调整 Border 上的边距。这是一个片段：

```
<Image Height="10" Width="20" Source="Images/bullet_darkblue.PNG" />
<Border Margin="20,10,0,0" 
        x:Name="MouseOverBorder" BorderThickness="1" BorderBrush="Transparent">
  <ScrollViewer x:Name="ContentElement" Padding="{TemplateBinding Padding}" 
     BorderThickness="0" IsTabStop="False"/>
</Border> 
```

# c# - WCF 中的 XmlSerializer 序列化错误

> ID：10647358
> 
> 赞同：0
> 
> 时间：2012-05-18T05:50:13.133
> 
> 标签：c#, wcf, wsdl, xml-serialization

我得到了一些 XSD：

```
<xs:complexType name="myFaultType">
    <xs:sequence>
        <xs:element name="type" type="mns:enumServiceException" />
        <xs:element name="code" type="xs:integer" />
        <xs:element name="message" type="xs:string" />
        <xs:any minOccurs="0" maxOccurs="unbounded" namespace="##other" />
    </xs:sequence>
</xs:complexType>

<xs:element name="myFault" type="mns:myFaultType" />

<xs:simpleType name="enumServiceException">
    <xs:restriction base="xs:string">
        <xs:enumeration value="constraint" />
        <xs:enumeration value="objectNotFound" />
        <xs:enumeration value="permissionDenied" />
        <xs:enumeration value="runtime" />
        <xs:enumeration value="updateConflict" />
        <xs:enumeration value="versioning" />
    </xs:restriction>
</xs:simpleType> 
```

XSD.exe 生成了这个（我的修正代码）：

```
[GeneratedCode("xsd", "2.0.50727.3038")]
[Serializable]
[DebuggerStepThrough]
[DesignerCategory("code")]
[XmlType(Namespace = "http://docs.oasis-open.org/messaging/200908/")]
[XmlRoot("myFault", Namespace = "http://docs.oasis-open.org/messaging/200908/", IsNullable = false)]
public sealed class myFaultType
{
    [XmlElement(Order = 1)]
    public enumServiceException type;

    [XmlElement(Order = 2, DataType = "integer")]
    public string code;

    [XmlElement(Order = 3)]
    public string message;

    [XmlElement(Order = 4)]
    public XmlElement[] any;
}

[GeneratedCode("xsd", "2.0.50727.3038")]
[Serializable]
[XmlType(Namespace = "http://docs.oasis-open.org/messaging/200908/")]
public enum enumServiceException
{
    constraint,
    objectNotFound,
    permissionDenied,
    runtime,
    updateConflict,
    versioning,
} 
```

合同：

```
 [XmlSerializerFormat]
    public interface IObjectService
    {
        [FaultContract(typeof(myFaultType))]
        DoSomeResponseMessage DoSome(DoSomeRequestMessage message);
    } 
```

问题：

1 - 这是工作室生成的 WSDL 部分（错误排序）：

```
<xs:complexType name="myFaultType"><xs:sequence>
<xs:element name="any" nillable="true" type="q1:ArrayOfXmlElement"/>
<xs:element name="code" nillable="true" type="xs:string"/>
<xs:element name="message" nillable="true" type="xs:string"/>
<xs:element name="type" type="tns:enumServiceException"/></xs:sequence></xs:complexType> 
```

2 - 在我的 IErrorHandler 中的 ProvideFault 代码

```
var exception = new FaultException<myFaultType>(new myFaultType(), "fault reason");
var messageFault = exception.CreateMessageFault();
fault = Message.CreateMessage(version, messageFault, "http://URL/v1-0/Fault"); 
```

生成该错误消息（错误的排序，一些默认命名空间而不是预期的“http://docs.oasis-open.org/messaging/200908/”）：

```
<s:Body>
<s:Fault>
  <faultcode>s:Client</faultcode>
  <faultstring xml:lang="ru-RU">fault reason</faultstring>
  <detail>
    <myFaultType xmlns:i="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.datacontract.org/2004/07/SomeMyNamespace">
      <any xmlns:d6p1="http://schemas.datacontract.org/2004/07/System.Xml" i:nil="true" />
      <code>0</code>
      <message>repositoryId - invalid format</message>
      <type>invalidArgument</type>
    </myFaultType>
  </detail>
</s:Fault></s:Body> 
```

我做错了什么？

似乎 WCF 并不关心 XmlSerializer 属性。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T13:05:14.520

我发现了问题所在：默认情况下，WCF 序列化错误以`DataContractSerializer`将其更改为`XmlSerializer`某些属性，必须按照*[使用 XmlSerializer 序列化错误中](https://zamd.net/wcf/2008/08/15/serializing-faults-using-xmlserializer.html)*的说明进行设置：

```
[XmlSerializerFormat(SupportFaults=true)] 
```

# sql-server-2008 - Linq-to-SQL 仅搜索日期的 DATE 部分

> ID：10647360
> 
> 赞同：1
> 
> 时间：2012-05-18T05:50:49.787
> 
> 标签：sql-server-2008, linq-to-sql, date, comparison

我需要根据日期范围获取数据，例如：

```
SELECT * FROM MyTable WHERE 
myDate >= 'May 17 2012' AND 
myDate <= 'May 17 2012' 
```

我已经在 LINQ 中编写了这个查询，问题是 LINQ 正在将此查询转换为：

```
SELECT * FROM MyTable WHERE 
myDate >= 'May 17 2012 12:00:00:000AM' AND 
myDate <= 'May 17 2012 12:00:00:000AM' 
```

问题是 LINQ 也在考虑时间部分，但我只需要搜索日期部分。

谁能帮我？

谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-12T09:27:59.387

只是想与您分享我找到了解决方案！

EntityFunctions 为我们提供了 TruncateTime()，可以用于此目的。

> EntityFunctions.TruncateTime

```
 from e in MyContext.MyTable.Where(a =>
 EntityFunctions.TruncateTime(a.DateTimeColumn) ==   
 EntityFunctions.TruncateTime(DateTime.Now))  select e; 
```

**编辑：** 对于 EntityFramework 6 及更高版本：

```
 from e in MyContext.MyTable.Where(a =>
 DbFunctions.TruncateTime(a.DateTimeColumn) ==   
 DbFunctions.TruncateTime(DateTime.Now))  select e; 
```

我在[这里](https://stackoverflow.com/a/9642321/265167)找到了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-12T01:18:01.787

我今天也在寻找这个答案 - 在这里找到它 [Comparing Dates in Linq To SQL](http://weblogs.asp.net/zeeshanhirani/archive/2008/08/22/comparing-dates-in-linq-to-sql.aspx)

我还仔细检查了探查器，以确保将其转换为 SQL

```
from e in MyContext.MyTable.Where(a => a.DateTimeColumn.Date == DateTime.Now.Date)
select e; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T05:59:32.187

你有两个选择

```
from t in context.MyTable
where t.MyDate <= maxDate.AddDays(1)
select t 
```

或者

```
from t in context.MyTable
where t.MyDate.Date <= maxDate.Date
select t 
```

第一个可能会提供更好的性能，因为第二个可能无法正确使用您的数据库索引。但第二个在意图上更明显。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-18T09:35:48.340

您实际上并不*仅仅*按日期部分搜索；幕后那个日期是一个`DateTime`。因此，要获得一天的行数，请这样想：

*我想获取`MyDate`大于或等于 5 月 17 日午夜且小于 5 月 18 日午夜的所有行。*

下面的查询就是这样做的。

```
var startDate = new DateTime(2012, 05, 17);
var endDate = new DateTime(2012, 05, 18);
var result = 
from row in context.MyTable
where row.MyDate >= startDate &&
      row.MyDate < endDate
select row; 
```

# asp.net-mvc-3 - MVC3 razor 如何在单击按钮时将一组字段重复添加到我的页面？

> ID：10647362
> 
> 赞同：1
> 
> 时间：2012-05-18T05:50:55.957
> 
> 标签：asp.net-mvc-3, c#-4.0, razor

单击按钮时如何将一组字段重复添加到我的页面？我的 ParentView.cshtml 上有一个“添加记录”按钮

单击此“添加记录”按钮，我需要将下面提到的剃须刀视图（childView.cshtml）附加到我的 ParentView 上。每次单击此“添加记录”按钮时，我都需要新的空 ChildView.cshtml附加到我的父视图中。有人可以帮助我如何实现此功能吗？

ChildView.cshtml

```
<p>Record index 
@Html.EditorFor(model => model.Name)
@Html.EditorFor(model => model.Address)
@Html.EditorFor(model => model.Location)
<input type="submit" id="btnSave" value="Save" /> 
```

我的 ParentView.cshtml 如下所示

```
@model MyWebRole.ViewModels.MyViewModel
@{
    ViewBag.Title = "Address Book";
    Layout = "~/Views/Shared/_Layout.cshtml";

}
@using (Html.BeginForm())
{  

    <fieldset>
        <legend style="font-size: small;">Add Address records </legend>
        <br />
        <table>
            <tr>
                <td rowspan="5">
                    <img alt="" id="imageBox" src="" width="395" height="225" />
                </td>
                <td>
                    <span>Address Book </span>
                    <br />
                </td>
                <td>
                    @Html.EditorFor(model => model.REcordTitle)
                    @Html.ValidationMessageFor(model => model.REcordTitle)
                </td>
            </tr>
               ------------------------
               ------------------------

          </table>

          <div><input type="submit" id="btnAdd records" value="Add Records" /></div>
    </fieldset>
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T06:11:49.490

```
$('#btnAddRecords').click(function(){
$.getJSON("/MyController/AddRecord", null
    function (data) {
        $('#divToAddRecords').append(data);
    });
}) 
```

在控制器中：

```
public JsonResult AddRecord()
    {
        ...
        var res = SerializeControl("~/Views/Folder/ChildView.cshtml", viewModel);
        return Json(res, JsonRequestBehavior.AllowGet);
    }

private string SerializeControl()
    {
        var control = new RazorView(ControllerContext, controlPath, null, false, null);
        ViewData.Model = model;
        var writer = new HtmlTextWriter(new StringWriter());
        control.Render(new ViewContext(ControllerContext, control, ViewData, TempData, writer), writer);
        string value = writer.InnerWriter.ToString();
        return value;
    } 
```

并更改以使添加记录的按钮不提交

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T08:56:29.377

您可以使用内置的 Ajax 助手吗？

```
@model MyWebRole.ViewModels.MyViewModel
@{
    ViewBag.Title = "Address Book";
    Layout = "~/Views/Shared/_Layout.cshtml";

}
@using (Ajax.BeginForm(new AjaxOptions() {
    UpdateTargetId = "RecordSection",
    InsertionMode = InsertionMode.InsertAfter,
}))
{  

<fieldset>
    <legend style="font-size: small;">Add Address records </legend>
    <br />
    <table>
        <tr>
            <td rowspan="5">
                <img alt="" id="imageBox" src="" width="395" height="225" />
            </td>
            <td>
                <span>Address Book </span>
                <br />
            </td>
            <td>
                @Html.EditorFor(model => model.REcordTitle)
                @Html.ValidationMessageFor(model => model.REcordTitle)
            </td>
        </tr>
           ------------------------
           ------------------------

      </table>

      <div><input type="submit" id="btnAdd records" value="Add Records" /></div>
</fieldset>
}

<div id="RecordSection">
    @* New Partial Views will be rendered here *@
</div> 
```

然后在处理此问题的 Action 中，您可以使用 Get/Post/Redirect 设计模式在页面上放置一个新的 PartialView：

```
[HttpPost]
public ActionResult AddressBook(MyViewModel model)
{
    // do stuff with model, then pass an Id? 
    // to the Action which renders the partial view
    return RedirectToAction("AddRecord", new { id = model.Id });
}

public ActionResult AddRecord(int id)
{
    MyChildModel model = new MyChildModel();
    model.Id = id;
    return PartialView("_ChildView", model);
} 
```

# javascript - 如何存储一个backbone.js 视图然后再次重用它

> ID：10647363
> 
> 赞同：0
> 
> 时间：2012-05-18T05:50:58.980
> 
> 标签：javascript, backbone.js

我正在使用backbone.js 创建一个Web 应用程序。我有两个标签。Tab 1 是一个backbone.js 视图，而tab2 是另一个主干视图（同类）。

两个视图都加载到页面中的同一个 div 元素。目前我所做的是，当用户更改选项卡时，我使用主干路由器检测到它。然后路由器会检查视图是否已经存在，或者是否应该创建它。

我创建了一个对象管理器对象，它基于一个键存储视图对象（键是选项卡名称）

```
App.ObjectManager.getContentView = function (tabId) {

    return App.ObjectManager.ContentHash[tabId];
};

App.ObjectManager.setContentView = function(tabId, view) {

    App.ObjectManager.ContentHash[tabId] = view;
};

App.ObjectManager.hasContentView = function(tabId) {

    if(App.ObjectManager.ContentHash[tabId]==undefined) {
        return 0;
    }

    else{
        return 1;
    }
}; 
```

这是我创建视图并将其存储到列表对象的方法。每次单击选项卡时都会调用此代码，并且路由器会检测到更改。

```
$("#myDiv").html(""); 

if(App.ObjectManager.hasContentView(tabId)==0) {  //View is not in the lookup table

    console.log("View is not created yet. So we need to create");
    content = new App.MyBackboneView(); //create a new view
    App.ObjectManager.setContentView(tabId, content); //Store the view
}

else {

    console.log("View is already created..So we read it and show it");
    content = App.ObjectManager.getContentView(tabId);

}

//Now, we add the view to the main div

$("#myDiv").append(content.el); 
```

上面的代码通过向 myDiv 显示视图来工作。我可以看到显示的文本框和单选按钮等的值。

唯一的事情 - 事件处理不起作用。因此，如果我在视图中有一个添加了事件处理程序的按钮，则在从保存的对象呈现视图时不会调用该事件。第一次显示视图时，正在处理单击事件。

例如，我在“说出我的名字！”视图中有这个按钮。

```
events: {
    "click #say": "sayName"
},

sayName: function() {
    console.log("I click say Name");
} 
```

第一次加载视图时，当我按下按钮时，控制台会显示日志。当我再次返回选项卡时，从列表对象中显示这次视图时，单击事件不起作用。

我的代码有问题吗？

希望你能给我一些如何存储视图的方法，我可以再次重用视图。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T11:53:17.367

我有同样的问题，我有几个“标签视图”显示聚合数据，比如“我的消息”、“所有消息”、“所有用户”等。我将视图对象存储在哈希中，比如“视图” '。

是的，正如凯恩科恩所说：

```
$('#myDiv').html('') or $('#myDiv').$el.empty() 
```

破坏所有绑定......对我有用的是使用“分离”，因为它不会破坏绑定（[http://api.jquery.com/detach/](http://api.jquery.com/detach/)），假设之前显示的内容是“所有消息”，并且用户点击“我的消息”：

```
views['All messages'].$el.detach()
$('#myDiv').append views['My messages'].el 
```

*我使用 coffescript ......* Ps 希望这会有所帮助，尽管我对这种方法不满意......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T06:22:43.703

创建视图时，您清空 myDiv 内容

```
$("#myDiv").html(""); 
```

我认为此操作会自动删除您之前在视图中设置的所有绑定。这实际上是 Backbone 的一个常见问题 - 这个框架将事件侦听器设置为视图中的 dom 元素。

处理此问题的最简单方法可能是为整个#myDiv 创建一个父视图并在其中设置事件。

视图结构可能如下所示：

TabsView（在此处设置事件）| - 选项卡视图 1（呈现内容） - 选项卡视图 2（呈现内容）

# c# - 用户名不能包含空值

> ID：10647365
> 
> 赞同：0
> 
> 时间：2012-05-18T05:51:00.883
> 
> 标签：c#, mysql

我正在尝试使用 WPF 和 C# 通过两个文本框将两个值插入 mysql 数据库。我成功连接到数据库，但是当我尝试插入数据时出现错误：列“user_name”不能为空。真正令人困惑的是我在第一个和第二个文本框中输入数据。似乎没有传递要插入文本框中的数据。我的问题是你知道问题出在哪里以及如何解决吗？

PS：我的数据库非常简单，包含 id 为 int16 自动递增，名称为 varchar100 和 user_password 为 varchar100

这是我的代码：

```
 private void button1_Click(object sender, EventArgs e)
    {
        MySqlConnection con = new MySqlConnection("host=tara.rdb.superhosting.bg;user=sozopouk;password=27051996;database=sozopouk_test2;");
        MySqlDataAdapter da = new MySqlDataAdapter();
        da.InsertCommand = new MySqlCommand("Insert into niki2 values (@id,@name, @user_password)", con);

        da.InsertCommand.Parameters.Add("@name", MySqlDbType.VarChar).Value = textBox1.Text;

        da.InsertCommand.Parameters.Add("@user_password", MySqlDbType.VarChar).Value=textBox2.Text;

        con.Open();
        da.InsertCommand.ExecuteNonQuery();
        con.Close();
    } 
```

伙计们，在我做了一些更改后，我收到了以下错误消息：

**“字段列表”中的未知列“名称”**

这是编辑后的代码：

```
private void button1_Click(object sender, EventArgs e)
        {
            MySqlConnection con = new MySqlConnection("host=tara.rdb.superhosting.bg;user=sozopouk;password=27051996;database=sozopouk_test2;");
            MySqlDataAdapter da = new MySqlDataAdapter();
            da.InsertCommand = new MySqlCommand("INSERT INTO niki (name, user_password) VALUES (@name, @user_password)", con);

            da.InsertCommand.Parameters.Add("@name", MySqlDbType.VarChar).Value = textBox1.Text;

            da.InsertCommand.Parameters.Add("@user_password", MySqlDbType.VarChar).Value=textBox2.Text;

            con.Open();
            da.InsertCommand.ExecuteNonQuery();
            con.Close();
        } 
```

当我用 user_name 替换 name 并尝试插入数据时出现错误**“user_name”列不能为空**

受影响的线路是：

```
da.InsertCommand.ExecuteNonQuery(); 
```

你知道如何解决它吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T05:55:01.433

看看你的代码：

```
da.InsertCommand.Parameters.Add("@user_id", MySqlDbType.Int16).Value = "";
da.InsertCommand.Parameters.Add("@user_name", MySqlDbType.VarChar).Value = "";
da.InsertCommand.Parameters.Add("@user_password", MySqlDbType.VarChar).Value = 
   textBox2.Text; 
```

现在看看你说的：

> 似乎没有传递要插入文本框中的数据。

再看一下代码。查看用于`user_name`（实际上是`user_id`）的值。使用文本框值如何？`textBox1`当您的代码从未提及数据时，您如何期望数据来自数据库？

此外，正如 sblom 在评论中提到的那样，我鼓励您使用明确的列名 - 此时您不需要为 指定任何内容`user_id`，我*认为*无论如何它是一个自动生成的标识列。（因此，尝试在其中插入一个空值是没有意义的。）目前尚不清楚为什么您要尝试将空*字符串*用作`Int16`列的值，或者......

编辑：对于您编辑的代码：

```
da.InsertCommand = new MySqlCommand(
   "INSERT INTO niki (name, user_password) VALUES (@name, @user_password)", con); 
```

鉴于您的第一个错误，该列是`user_name`，而不是`name`...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T09:49:31.693

你能检查一下你想使用什么表吗？

在你的实际问题中

```
 da.InsertCommand = new MySqlCommand("Insert into **niki2** values (@id,@name, @user_password)", con); 
```

在更新的问题中，表名更改为

```
da.InsertCommand = new MySqlCommand("INSERT INTO **niki** (name, user_password) VALUES (@name, @user_password)", con); 
```

我觉得你有两张桌子正在玩并且很困惑

似乎 `name`在`niki2`并且 可能`user_name`在`niki`您的实际表中。

我敢肯定，没有人能回答这么模棱两可的问题

尝试

**对于表尼基**

```
 da.InsertCommand = new MySqlCommand("INSERT INTO niki (user_name, user_password) VALUES (@user_name, @user_password)", con); 
```

**对于表 niki2**

```
 da.InsertCommand = new MySqlCommand("INSERT INTO niki2 (name, user_password) VALUES (@name, @user_password)", con); 
```

**或逆转**

运气

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T06:26:42.117

您没有在`insert`语句中指定值应该存储在哪些字段中，因此这些值将按照您指定的顺序在前三个字段中结束，无论它们的名称如何。我猜用户名字段是第四个，所以它没有得到值，因此为空。

指定应使用哪些字段：

```
da.InsertCommand = new MySqlCommand("INSERT INTO niki (user_id, user_name, user_password) VALUES (@user_id,@user_name, @user_password)", con); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-20T06:41:18.303

最后我找到了导致我这个异常的问题。如您所见，我的旧代码：

```
da.InsertCommand = new MySqlCommand("INSERT INTO niki (name, user_password) VALUES (@name, @user_password)", con);

da.InsertCommand.Parameters.Add("@name", MySqlDbType.VarChar).Value = textBox1.Text;

da.InsertCommand.Parameters.Add("@user_password", MySqlDbType.VarChar).Value=textBox2.Text; 
```

在这里输入代码

我所做的是更换

> @ 和 ？

基本上我的代码看起来像：

```
da.InsertCommand = new MySqlCommand("INSERT INTO niki (name, user_password) VALUES (?name, ?user_password)", con);

da.InsertCommand.Parameters.Add("?name", MySqlDbType.VarChar).Value = textBox1.Text;

da.InsertCommand.Parameters.Add("?user_password", MySqlDbType.VarChar).Value=textBox2.Text;

enter code here 
```

感谢所有参与讨论的人！

# android - android中的pdf没有其他应用程序

> ID：10647369
> 
> 赞同：0
> 
> 时间：2012-05-18T05:51:19.747
> 
> 标签：android

我想在 android 中显示 pdf 文件，但这必须在没有 Internet 连接和其他应用程序的情况下工作。我可以在 webView 或其他视图中显示 pdf 文件吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T05:55:48.293

是的，您可以向`PDF`您的自定义视图显示您的。为此，您必须为此使用一个**外部 Jar**文件。我已经[回答](https://stackoverflow.com/a/10352422/940096)了类似于你的问题。只是检查一下。

希望这对您有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T06:30:37.080

使用另一个应用程序来显示您的 PDF 是一种非常好的方法。除非您有上级强迫您避免使用其他应用程序，否则我会这样做。有很好的免费 pdf 查看应用程序可供使用，因此不会让您的用户花费任何费用。

在另一个应用程序中打开 pdf 时的过渡非常无缝，并且并不总是很明显正在使用另一个应用程序。

正如 SpK 所说，另一种方法是使用 jar 并编写您需要的额外 pdf 查看功能。这是一个更难的方法。

# android - 当用户使用 Geoloqi API 进入某个区域时如何通知用户？

> ID：10647370
> 
> 赞同：5
> 
> 时间：2012-05-18T05:51:21.357
> 
> 标签：android, geofencing

在我的 Android 应用程序中，我使用 Geoloqi API 进行地理围栏[https://developers.geoloqi.com/android/getting-started](https://developers.geoloqi.com/android/getting-started)。我使用一些纬度、经度创建触发器。现在当用户进入这些区域时，我会通知他。我我们创建了实现 LQBroadcastReceiver 的 Receiver 类。当我执行应用程序时，所有事件都被调用并且我没有得到要捕获的事件。请帮助我。注意：一种方法是设置 type:callback 和 URL 必须为此目的我需要创建我不想要的服务器程序。我用当前位置创建了触发器。GeoReceiver.java

```
public class GeoReceiver extends LQBroadcastReceiver {

    @Override
    public void onLocationChanged(Context arg0, Location arg1) {
        Toast.makeText(arg0, "Location Changed", Toast.LENGTH_LONG).show();

    }

    @Override
    public void onLocationUploaded(Context arg0, int arg1) {
        Toast.makeText(arg0, "Location Uploaded", Toast.LENGTH_LONG).show();

    }

    @Override
    public void onPushMessageReceived(Context arg0, Bundle arg1) {
        Toast.makeText(arg0, "PushMessage Received", Toast.LENGTH_LONG).show();

    }

    @Override
    public void onTrackerProfileChanged(Context arg0, LQTrackerProfile arg1,
            LQTrackerProfile arg2) {
        Toast.makeText(arg0, "TrackerProfile Changed", Toast.LENGTH_LONG).show();

    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:04:04.653

如果您设置 C2DM 推送通知，您可以修改您的`onPushMessageReceived`方法以直接处理触发器，而不是显示通知。然后你可以在 Geoloqi API 中设置一个触发器，然后`type=message`你的方法就会被调用。

# jsf - 环境 价值与 变量

> ID：10647373
> 
> 赞同：0
> 
> 时间：2012-05-18T05:51:29.263
> 
> 标签：jsf, uirepeat

```
<h:form>
    <ui:repeat value="#{sampleManagedBean.food}" var="food">
        <h:commandLink value="Name" action="#{sampleManagedBean.outcome}">
            <f:param name="name" value="ssd" />
            <f:param name="v" value="#{food.boy}" />
        </h:commandLink>
        <h2>#{food.boy}</h2>
    </ui:repeat>
</h:form> 
```

我无法获得`<f:param>`基于`<ui:repeat var>`. 我只能得到第一个硬编码的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:56:58.130

它`ui:repeat`是一个 UI 组件，而`f:param`它是一个标记处理程序（如 JSTL）。Taghandlers 在视图构建期间运行，在视图渲染期间运行的 UI 组件之前运行（[请参阅此处](https://stackoverflow.com/questions/8152322/uirepeat-doesnt-work-with-fselectitem)）。

在我们的例子中，这意味着在视图构建阶段`f:param`对`#{food.boy}`. `c:forEach`没问题，但是如果我们调用某种 ajax 操作来更改表单的大小
`#{sampleManagedBean.food}`并重新呈现表单，我们将不会在页面上看到任何更改。因为部分重新渲染 (ajax) 只影响 UI 组件树。`c:forEach`介于硬编码和 之间`ui:repeat`，我们必须重新加载页面才能看到更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T05:08:16.187

试试这个方法

```
 <h:form>
    <ui:repeat value="#{sampleManagedBean.food}" var="food">
        <h:commandLink value="Name" action="#{sampleManagedBean.outcome}">
            <f:setPropertyActionListener value="ssd" target="#{sampleManagedBean.name}" />
            <f:setPropertyActionListener value="#{food.boy}" target="#{sampleManagedBean.v}" />
        </h:commandLink>
    </ui:repeat>
    </h:form> 
```

# jquery - 里程表 jQuery

> ID：10647380
> 
> 赞同：1
> 
> 时间：2012-05-18T05:52:06.893
> 
> 标签：jquery

我已经下载了一个 jOdometer jQuery 并将其上传到我的网站。我想知道即使我重新加载页面，我如何才能让数字继续变化。现在，每次我重新加载页面时，数字都会重置为它的起始值。

谢谢

编辑：我会这样做，也许你可以帮我粘贴正确的代码：

`code` $(函数(){

```
 $('.counter1').jOdometer({increment: 12.58,speed: 500, numbersImage: 'http://facebookmarket.se/wp-content/plugins/jodometer/images/jodometer-numbers.png', spaceNumbers: 5, offsetRight:10,heightNumber: 85,widthNumber: 38,counterStart: '0000000.00',counterEnd: false,widthDot: 25,easing: 'linear',});
    });
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T05:54:25.310

您需要在服务器端设置`counterStart` [配置选项：](https://github.com/jesucarr/jOdometer/blob/master/jquery.jodometer.js)

```
$('.counter').jOdometer({
  counterStart: '1000.25'
}); 
```

从文档中：

> **counterStart**：我们开始的数字。要获得特定数量的数字/小数，它必须是一个字符串（例如'0005.50'）`// Default: '0000.00'`

根据您选择的服务器端语言，它的实际实现会有所不同。如果您使用 PHP 为这些页面提供服务，并从数据库中提取一个起始值，您可以将其放在输出中：

```
echo "<script>$('.counter').jOdometer({counterStart:'$start_number'});</script>"; 
```

`$start_number`从我们的数据库中检索到的值在哪里。

# php - yii 框架 yahoo php 托管

> ID：10647385
> 
> 赞同：0
> 
> 时间：2012-05-18T05:53:01.810
> 
> 标签：php, yii, hosting

我想知道yahoo php托管是否默认支持yii框架，或者我们需要自行配置风险。我联系了雅虎技术支持团队，他们给了我一个网址[http://ysbdemowebsite.in/phpinfo](http://ysbdemowebsite.in/phpinfo)

在上面的网址中，我找不到任何 yii 信息。目前我正在构建基于 yii 框架的 php 应用程序，并且我正在寻找具有 yii 支持的最佳 php 托管。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T06:31:25.883

Yii 不需要任何特别的东西。也许唯一或多或少不那么标准的要求是 PDO。Yii 带有一个需求脚本，您可以运行该脚本以了解您的服务器是否已准备好使用 yii。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T06:28:39.873

YII 只是一个框架，我从不知道 YII 框架代码托管有什么特殊要求。它在所有托管环境中运行...您只需要检查您的托管服务提供商是否支持兼容的 PHP 和 mySQL 数据库？

开发代码后，只需在“public_html”文件夹中上传整个 Webroot /App/ 目录。

我在 AccuWebHosting.Com 托管我的一个使用 YII 框架开发的网站。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-09-27T12:52:04.693

好！有专门的 VPS 提供商，例如 DigitalOcean、Vultr、AWS，它们实际上提供了 Yii 托管！适用于所有版本的 Yii。您只需要设置一个 PHP Lamp 堆栈，然后在其上部署您的应用程序。此外，如果您不是系统管理员并且不想进入 Linux 命令系统，那么您可以使用任何托管托管服务提供商，例如 Cloudways、Siteground、Platform.sh 等。

# c++ - 在 C++ 中使用 OpenCV 设置 gstreamer capsfilter

> ID：10647388
> 
> 赞同：1
> 
> 时间：2012-05-18T05:53:16.513
> 
> 标签：c++, opencv, webcam, gstreamer, frame-rate

使用 guvcview 中的 Microsoft LifeCam Cinema（在 Ubuntu 上），我在 1280x720 上获得 30fps。在我的 OpenCV 程序中，我只得到 10fps（只有`queryframe`和`showimage`，没有进行图像处理）。我发现这是[gstreamer的](https://bugzilla.gnome.org/show_bug.cgi?id=676093)[*问题*](https://bugzilla.gnome.org/show_bug.cgi?id=676093)。一个解决方案是在 gstreamer 中设置一个 capsfilter，在终端中我可以这样做：

```
gst-launch v4l2src device=/dev/video0 !
'video/x-raw-yuv,width=1280,height=720,framerate=30/1' ! xvimagesink 
```

这行得通！问题是：

1.  如何在我的 c++/OpenCV 程序中实现它？
2.  或者是否可以将 gstreamer 设置为始终使用此 capsfilter？

我已经找到了这个问题[Option 3](https://stackoverflow.com/a/7084081/1383972)，但我无法让它与网络摄像头一起使用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T13:20:15.730

不幸的是，无法设置从相机检索到的帧的格式 (YUV)，但对于其余设置，您可以尝试使用[`cvSetCaptureProperty()`](http://opencv.willowgarage.com/documentation/reading_and_writing_images_and_video.html#setcaptureproperty)：

```
cvSetCaptureProperty(capture, CV_CAP_PROP_FPS, 30);
cvSetCaptureProperty(capture, CV_CAP_PROP_FRAME_WIDTH, 1280);
cvSetCaptureProperty(capture, CV_CAP_PROP_FRAME_HEIGHT, 720); 
```

如果设置帧大小不起作用，我强烈建议您阅读这篇文章：[在 OpenCV 中增加相机捕获分辨率](https://stackoverflow.com/questions/14287/increasing-camera-capture-resolution-in-opencv)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-29T12:26:04.340

我的错，我将我的网络摄像头设置为 1280x800，这迫使它以最高 10 fps 的速度使用 YUVY。在我的程序中将其设置回 1280x720 给了我 30 fps

# javascript - PlaceResult 对象将纬度/经度作为对象返回，不确定如何单独获取它们

> ID：10647389
> 
> 赞同：34
> 
> 时间：2012-05-18T05:53:19.330
> 
> 标签：javascript, google-maps, google-places-api

我在这里测试 Google Places 自动完成功能：

[https://developers.google.com/maps/documentation/javascript/examples/places-autocomplete](https://developers.google.com/maps/documentation/javascript/examples/places-autocomplete)

我想得到这个地方的纬度和经度，但我遇到了一些麻烦。当我使用以下代码时：

```
var place = autocomplete.getPlace();
console.log(place.geometry.location); 
```

我得到这个返回：

![在此处输入图像描述](../Images/d4ebaa92026d6c46a993e0a551d2ff38.png)

当我在这样的 infoWindow 中使用它时：

```
infowindow.setContent('
<div><strong>' + place.name + '</strong><br>' + place.geometry.location); 
```

`place.geometry.location`然后显示如下：

> (53.539834, -113.49402099999998)

我要做的就是分别获取 lat 和 lng 。`place.geometry.location.lat`不起作用。不知道还能做什么。

* * *

## 回答 #1

> 赞同：97
> 
> 时间：2012-05-18T06:03:02.563

你可以这样使用。

```
var latitude = place.geometry.location.lat();
var longitude = place.geometry.location.lng(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-06-29T17:38:51.617

您可以使用：

```
var LatLng = place.geometry.location.toJSON(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T05:51:31.470

它对我来说很好。

```
marker.setIcon(image);

marker.setPosition(place.geometry.location);

var address = '';
if (place.address_components) {
    address = [
        (place.address_components[0] && place.address_components[0].short_name || ''),
        (place.address_components[1] && place.address_components[1].short_name || ''),
        (place.address_components[2] && place.address_components[2].short_name || '')
    ].join(' ');
}
alert(place.geometry.location.lat());
alert(place.geometry.location.lng());
infowindow.setContent('<div><strong>' + place.name + '</strong><br>' + address);
infowindow.open(map, marker); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-11-16T16:17:20.567

您可以从**PLACES**对象中获取**LAT**和**LONG 。**

 **像这样 ：

```
const autocomplete = new google.maps.places.Autocomplete(this.inputNativeElement.nativeElement as HTMLInputElement);

autocomplete.addListener('place_changed', () => {
    const place = autocomplete.getPlace();

    let cus_location = {
        lat: place.geometry.location.lat(),
        long: place.geometry.location.lng()
    }

} 
```**

# mysql - 我需要将查询从 Mssql 更新到 LINKED 服务器中的 Mysql

> ID：10647391
> 
> 赞同：2
> 
> 时间：2012-05-18T05:53:28.143
> 
> 标签：mysql, sql-server

实际上我需要将 Mssql 连接到 Mysql，幸运的是我使用 MSSQL 2008 R2 链接服务器连接了 Mysql

现在，当我尝试此查询时，我想在两个数据库中一次编写一些更新查询

```
update products set Stock=A.Stock from
  (Select * FROM OPENQUERY(MYSQL,'Select * From products where Id=8')) A
  inner join products B on b.Id=a.Id 
```

MSSQL 的行是从 MYSQL 更新的

我还需要将 MSSQL 更新为 MYSQL

请帮帮我，我从过去 4 天开始工作

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-13T05:17:10.513

**MYSQL 到 MSSQL 更新：**

```
update products set Stock=A.Stock from
(Select * FROM OPENQUERY(MYSQL,'Select * From products')) A
inner join products B on b.Id=a.Id

UPDATE employee
SET LastName = ( Select FirstName from employee where FirstName = (SELECT * FROM
OPENQUERY(MYSQL, 'Select FirstName from employee where IndividualId=3'))) 
```

**MSSQL 到 MYSQL 更新：**

```
UPDATE OPENQUERY (database, 'SELECT Stock FROM wings.products WHERE id =1') 
SET Stock=999; 
```

# iphone - 即使没有有效的内存泄漏，我的应用程序也会收到内存警告

> ID：10647394
> 
> 赞同：2
> 
> 时间：2012-05-18T05:53:42.130
> 
> 标签：iphone, objective-c, ios, memory-leaks

我在我的通用 iOS 应用程序中遇到了这个奇怪的问题。在分析应用程序时，我在仪器工具中看不到任何有效的内存泄漏。每次页面更改时，分配的大小仍然会增加 50-100 kb。泄漏工具仅显示一些泄漏，责任调用者为 mem_alloc。

使用一段时间后，应用程序开始收到内存警告，并且在应用程序中的时间更长，应用程序崩溃。有趣的是，此时的总内存分配在 6 到 12 MB 之间变化。当我在调试模式下回溯时，应用程序也不显示任何堆栈信息。

我完全不知道为什么会发生这种崩溃。任何帮助将不胜感激。

* * *

附上我仪器的一些屏幕截图。 ![在此处输入图像描述](../Images/19b43bf158661d536c030e2cd74c3c55.png) ![在此处输入图像描述](../Images/3fdcacc629208e7aef0bea51aa12b3b9.png) ![在此处输入图像描述](../Images/a74f8183c568c5186719638a1cd6a240.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T06:06:06.957

您需要在应用程序中检查内存分配 -

1.  使用`Instruments`检查`Allocation`和`Leaks`

2.  使用静态内存分析器检查静态内存泄漏。要使用它，请使用“cmd+shift+B”或转到“Xcode -> Product -> Analyze”

您还需要确保正确释放视图控制器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-09-06T03:36:30.717

虽然我问了这个问题并且没有得到任何正确的答案已经很长时间了。在回到我的问题时，我认为解决这个问题将对其他早期初学者有所帮助。所以在这里我发布了我的解决方案：

在这种情况下，真正的罪魁祸首是我在应用程序中使用图像的方式。我只是通过调用 [UIImage ImageNamed:] 来使用它。实际上，这种方法会泄漏图像大小的内存。

解决这个问题的方法是通过调用 ImageWithData 来使用图像（见下面的代码）：

```
NSString *fileLocation = [[NSBundle mainBundle] pathForResource:fileName ofType:extension];
NSData *imageData = [NSData dataWithContentsOfFile:fileLocation];
[UIImage imageWithData:imageData]; 
```

希望这可以帮助某人。

# jsp - 怎么解决这个服务器不支持3.0版的J2EE Web模块规范。？

> ID：10647395
> 
> 赞同：0
> 
> 时间：2012-05-18T05:53:44.733
> 
> 标签：jsp, tomcat, servlets

我正在尝试在 tomcat5.5 中部署 jsp-servlet 应用程序，但是当我尝试部署到服务器时显示此错误。

```
 The server does not support version 3.0 of the J2EE Web module specification. 
```

但我能够做到 tomcat 7.0 及更高版本。我认为这是servlet的版本。请帮我解决这个问题。

谢谢安东尼

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T10:12:19.227

解决问题的方法：

1 将版本更改为 2.5 以在 tomcat 5.5 中运行

2 在 tomcat 7 中使用 3.0 版运行您的应用程序

我不知道其他解决方案

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T10:16:42.603

有关详细信息，请参阅下面的链接：

[http://tomcat.apache.org/whichversion.html](http://tomcat.apache.org/whichversion.html)

tomcat5.5.x 支持 servlet/jsp spec 2.4/2.0（不支持注解）

您需要升级到 tomcat7.x 才能运行 servlet/jsp spec 3.0/2.2

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-29T22:22:52.223

由于您使用的是 Tomcat5.x，它支持 servlet 2.4 版规范。Tomcat 6.x 及更高版本可接受 servlet 规范 3.0，这就是您能够通过 Tomcat7 运行应用程序的原因。

# c# - 从 c# 驱动程序更新字段

> ID：10647399
> 
> 赞同：2
> 
> 时间：2012-05-18T05:54:13.223
> 
> 标签：c#, mongodb, indexing

我有一个这样的文档集合：

```
{
    "_id" : ObjectId("4fb21439f31dfd122ce39c4a"),
    "Name" : "Freelander 2",
    "Manufacture" : "Landrover"
} 
```

我正在使用 C# 驱动程序，并想检查“名称”字段是否存在；如果没有，我需要从代码中更新它。有人可以帮忙吗？请分享示例代码，因为我是 mongoDB 的新手。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T05:59:27.687

您可以使用**[存在](http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%24exists)**运算符：

```
db.myCollection.find( { Name: { $exists: true } } ); 
```

使用 C# 驱动程序，等价物将是这样的：

```
IMongoQuery query = Query.Exists("Name", true)
var results = myCollection.Find(query); 
```

要设置不存在的值，可以使用如下**更新**语句：

```
IMongoQuery query = Query.Exists("name", true);
IMongoUpdate update = Update.Set("Name", "newvalue");
myCollection.Update(query, update); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T18:52:13.697

我假设您想将所有没有 Name 字段的文档更新为相同的值。您可以像这样在 mongo shell 中执行此操作：

```
> db.test.update({Name:{$exists:false}}, {$set:{Name:"xyz"}}, false, true) 
```

你可以像这样在 C# 中做同样的事情：

```
var query = Query.Exists("Name", false);
var update = Update.Set("Name", "xyz");
collection.Update(query, update, UpdateFlags.Multi); 
```

# php - PHP会话变量没有结转

> ID：10647402
> 
> 赞同：0
> 
> 时间：2012-05-18T05:54:26.387
> 
> 标签：php

我有一个控制器/controller.php 文件，它启动一个会话并设置一些会话变量。然后我“包含”一个 model/model.php 文件并调用一个函数来加载它。

当我尝试在 model.php 文件中使用 controller.php 文件中的会话变量时，我得到了很多：未定义的变量：_SESSION 错误。

下面是在 controller.php 文件中设置会话变量的示例：

```
$_SESSION['userName'] = 'some data' 
```

在 model.php 文件中，我试图通过以下代码检索它：

```
print($_SESSION['userName']); 
```

我究竟做错了什么？

编辑

我的 controller.php 文件代码：

```
<?PHP

session_start();

if (isset($_POST['Login'])) {

$_SESSION['pointsForQuestion'] = '1';
$_SESSION['userName'] = $_POST['txtUsername'];

if(!is_file($_SESSION['userName'].".txt"))
{
    writeUserDetails($_SESSION['userName'],"1","0");
    $_SESSION['currentLevel'] = "1";
    $_SESSION['score'] = "0";
} else {
    readUserDetails($_SESSION['userName']);
}

print('logged in');

include('../model/model.php');
print page_load();

}   

function writeUserDetails($username,$level,$score) {
    $fh = fopen($username.".txt", 'w') or die("can't open file");
    fwrite($fh, $level.",".$score);
    fclose($fh);
}

function readUserDetails($username) {
    $userDetails = explode(',', file_get_contents($username.".txt"));
    $_SESSION['currentLevel'] = $userDetails[0];
    $_SESSION['score'] = $userDetails[1];
}

?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T05:56:31.537

在顶部定义会话变量之前启动您的会话，即`session_start();`

**已编辑** 您没有为这些会话变量设置任何内容，这就是它给出该错误的原因

```
$_SESSION['userName'];
$_SESSION['currentLevel'];
$_SESSION['score']; 
```

如果您不想设置任何内容，您可以删除这些会话变量...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T05:56:46.863

`$_SESSION`是一个在所有范围内都可用的超全局。

所以，你一定忘记了`session_start()`。

# android - 使用 Facebook SDK 上传图片

> ID：10647408
> 
> 赞同：-1
> 
> 时间：2012-05-18T05:54:55.093
> 
> 标签：android, facebook

当我尝试登录时，我能够正确验证。但是，当我尝试上传图片时，我收到一条错误消息：“应用程序 ID 无效”。我知道我正确复制/粘贴了应用程序 ID，所以我不确定问题出在哪里。

```
public void uploadFacebookPhoto(String path,String description)
{
    byte[] data = null;

    Bitmap bi = BitmapFactory.decodeFile(path);
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    bi.compress(Bitmap.CompressFormat.JPEG, 100, baos);
    data = baos.toByteArray();

    Bundle params = new Bundle();
    params.putString("method", "photos.upload");
    params.putByteArray("picture", data);
    //params.putString("description", description);

    AsyncFacebookRunner mAsyncRunner = new AsyncFacebookRunner(mFacebook);
    mAsyncRunner.request(null, params, "POST", new SampleUploadListener(), null);
} 
```

编辑：这是 logcat 的输出

> 响应：{"error_code":101,"error_msg":"无效的应用程序 ID。","re​​quest_args":[{"key":"method","value":"photos.upload"},{"key": "格式","值":"json"}]}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T07:41:10.227

原来我没有将以下内容添加到 onActivityResult()

```
mFacebook.authorizeCallback(requestCode, resultCode, data); 
```

# python - Pythonic 检查逻辑的方法

> ID：10647409
> 
> 赞同：0
> 
> 时间：2012-05-18T05:54:56.657
> 
> 标签：python, algorithm, coding-style

到目前为止，在许多情况下，我发现用于检查业务逻辑或任何其他逻辑的 python 代码如下所示（简化）：

```
user_input = 100
if user_input == 100:
    do_something()
elif user_input > 100:
    do_sth_different()
else:
    do_correct() 
```

当需要检查新的逻辑时，新的 python 程序员（像我一样）会在 elif 中添加一个新的块...

什么是 pythonic 方法来检查一堆逻辑而不使用大量 if else 检查？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-18T06:06:29.467

最常见的方法就是一行 elifs，这并没有什么问题，事实上，[文档](http://docs.python.org/tutorial/controlflow.html#if-statements)中说使用 elifs 作为开关的替代品。然而，另一种非常流行的方法是创建一个函数字典：

```
functions = {100:do_something,101:do_sth_different}
user_input = 100
try:
    functions[user_input]()
except KeyError:
    do_correct() 
```

这不允许您使用给定的`if user_input > 100`行，但如果您只需要检查相等关系和一般情况，它会很好地工作，特别是如果您需要多次执行此操作。

try except case 可以通过在字典上显式调用 get 来替换，使用泛型函数作为`default`参数：

```
functions.get(user_input,do_correct)() 
```

如果那会让你的船浮起来。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-05-18T07:08:58.073

除了您这样做的方式可能是最好的方式这一事实之外，您还可以将其写为：

```
user_input = 100

do_something() if user_input == 100 else
do_sth_different() if user_input > 100 else
do_correct() 
```

# c# - 使用 SQL DataReader 捕获插入或删除的值

> ID：10647415
> 
> 赞同：7
> 
> 时间：2012-05-18T05:55:28.870
> 
> 标签：c#, .net, sql, stored-procedures, sqldatareader

我目前正在从将记录插入数据库的.net 应用程序中调用存储过程。但是，我需要获取我刚刚成功插入的记录的列表。

我知道我可以直接从存储过程返回插入的行，但我希望有一种方法可以在 C# 中以编程方式执行此操作。

是否可以实现 SQLDataReader 类以实现此功能，即从*插入/删除*的表中读取？或者是否有其他类可以满足这个要求？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-18T06:02:10.720

插入/删除的表在 INSERT 语句的 OUTPUT 子句中可用。您可以在存储过程的 INSERT 中使用 OUTPUT 子句，并使用 SQLDataReader 来获取结果。

# json - 如何在 Struts2 jquery 网格插件中添加图片上传标签

> ID：10647416
> 
> 赞同：2
> 
> 时间：2012-05-18T05:55:42.867
> 
> 标签：json, jakarta-ee, jqgrid, grid

我正在为网站的管理面板功能使用 struts2 jquery Grid 插件。在这个插件中，当我单击添加按钮时，它使用 jquery 对话框 ui 填充表单所以在这里我想显示接受文件上传的表单并且我已经为这个表单编写了验证 xml 文件，所以我希望这个对话框应该在用户忘记时显示验证错误输入一些信息。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T10:35:13.047

您可以尝试使用[edittype:'file'](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3acommon_rules#file)。对于验证，您可以使用[editrules](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3acommon_rules#editrules)并在[custom_func](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3acommon_rules#custom_checking_example)`custom: true`中定义您的自定义验证。

# node.js - Node.js - 如何使用 node.js cypto 解码 base64

> ID：10647422
> 
> 赞同：0
> 
> 时间：2012-05-18T05:56:26.627
> 
> 标签：node.js

我想使用 cypto 包来解码 base64 字符串。从文档中，

```
http://nodejs.org/docs/v0.3.1/api/crypto.html#hash.digest 
```

我对如何做到这一点感到困惑。

例如 mystring - base64(string).decode()

# android - 录制视频并在播放时在视频视图表面显示录制日期和时间：android

> ID：10647435
> 
> 赞同：1
> 
> 时间：2012-05-18T05:57:33.810
> 
> 标签：android

我能够在 sdcard 中录制和保存视频，并且能够从视频视图播放视频，但现在我想在视频视图顶部/底部的侧面视频视图中显示录制日期和时间，所以我现在卡在这里，应该怎么做我现在这样做..请任何人在此帮助下完成，在这里将不胜感激。

对于录制我使用下面的代码..：

```
 public class VideoRecorder extends Activity{

//Create objects of MediaRecorder and Preview class  
     private MediaRecorder recorder;
private Preview mPreview;

boolean flag=false; 
boolean startedRecording=false;
boolean stoppedRecording=false;

// In this method, create an object of MediaRecorder class. Create an object of 
// RecorderPreview class(Customized View). Add RecorderPreview class object
// as content of UI.     
public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    recorder = new MediaRecorder();
    recorder.setVideoSource(MediaRecorder.VideoSource.DEFAULT);
    recorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);
    recorder.setVideoEncoder(MediaRecorder.VideoEncoder.MPEG_4_SP);
    mPreview = new Preview(VideoRecorder.this,recorder);
    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);
    setContentView(mPreview);

    }

  @Override
  public boolean onPrepareOptionsMenu(Menu menu) 
{
    super.onPrepareOptionsMenu(menu);
    menu.clear(); 
    menu.add(0, 0, 0, "Start Recording"); 
    menu.add(1, 1, 0, "Stop Recording");

    menu.setGroupVisible(0, false);
    menu.setGroupVisible(1, false);

    if(startedRecording==false)
        menu.setGroupVisible(0, true);
    else if(startedRecording==true&&stoppedRecording==false)
        menu.setGroupVisible(1, true);

    return true;
}

 /*!
    <p>
    This method receives control when Item in menu option is selected. It contains implementations
    to be performed on selection of menu item. 
    </p>*/

@Override
public boolean onOptionsItemSelected(MenuItem item) 
{
    switch (item.getItemId()) 
    {
    case 0:
        //start the recorder
            recorder.start();
            startedRecording=true;

        break;

    case 1: 
        //stop the recorder
        recorder.stop();
        recorder.release();
        recorder = null;
        stoppedRecording=true;
        break;

    default:
        break;
    }
    return super.onOptionsItemSelected(item);
}

class Preview extends SurfaceView implements SurfaceHolder.Callback
{
    //Create objects for MediaRecorder and SurfaceHolder.
    SurfaceHolder mHolder;
    MediaRecorder tempRecorder;

    public Preview(Context context,MediaRecorder recorder) {
        super(context);
        tempRecorder=recorder;
        mHolder=getHolder();
        mHolder.addCallback(this);
        mHolder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);
        // TODO Auto-generated constructor stub
    }

    public Surface getSurface()
    {
        return mHolder.getSurface();
    }

    // Implement the methods of SurfaceHolder.Callback interface

    // SurfaceCreated : This method gets called when surface is created.
    // In this, initialize all parameters of MediaRecorder object.
    //The output file will be stored in SD Card.

    public void surfaceCreated(SurfaceHolder holder){
        tempRecorder.setOutputFile("/sdcard/recordvideooutput.3gpp");
        tempRecorder.setPreviewDisplay(mHolder.getSurface());
        try{
            tempRecorder.prepare();
        } catch (Exception e) {
            String message = e.getMessage();
            tempRecorder.release();
            tempRecorder = null;
        }
    }

    public void surfaceDestroyed(SurfaceHolder holder) 
    {
        if(tempRecorder!=null)
        {
            tempRecorder.release();
            tempRecorder = null;
        }
    }

    public void surfaceChanged(SurfaceHolder holder, int format, int w, int h) 
    {

    } 
```

# postgresql - 自己服务器上的 Nominatim API 安装错误

> ID：10647436
> 
> 赞同：2
> 
> 时间：2012-05-18T05:57:34.157
> 
> 标签：postgresql, map, centos, openstreetmap, nominatim

我正在我自己的服务器上安装 OSM 地图的 nominatim，该服务器具有 CENT OS，并以该 URL 作为指南[http://wiki.openstreetmap.org/wiki/Nominatim/Installation](http://wiki.openstreetmap.org/wiki/Nominatim/Installation)。

当我执行以下命令将 OSM db 文件导入 pgsql 时： ./utils/setup.php --osm-file /usr/share/osmgeplanet/germany.osm.pbf --all

我收到以下错误：

```
Create DB
Create DB (2)
string(19) "pgsql://@/nominatim"
object(DB_Error)#4 (8) {
  ["error_message_prefix"]=>
  string(0) ""
  ["mode"]=>
  int(1)
  ["level"]=>
  int(1024)
  ["code"]=>
  int(-25)
  ["message"]=>
  string(29) "DB Error: extension not found"
  ["userinfo"]=>
  string(55) " [DB Error: extension not found] ** pgsql://@/nominatim"
  ["backtrace"]=>
  array(7) {
    [0]=>
    array(6) {
      ["file"]=>
      string(25) "/usr/local/lib/php/DB.php"
      ["line"]=>
      int(966)
      ["function"]=>
      string(10) "PEAR_Error"
      ["class"]=>
      string(10) "PEAR_Error"
      ["type"]=>
      string(2) "->"
      ["args"]=>
      array(5) {
        [0]=>
        string(29) "DB Error: extension not found"
        [1]=>
        int(-25)
        [2]=>
        int(1)
        [3]=>
        int(1024)
        [4]=>
        string(32) " [DB Error: extension not found]"
      }
    }
    [1]=>
    array(7) {
      ["file"]=>
      string(21) "/usr/lib/php/PEAR.php"
      ["line"]=>
      int(531)
      ["function"]=>
      string(8) "DB_Error"
      ["class"]=>
      string(8) "DB_Error"
      ["object"]=>
      *RECURSION*
      ["type"]=>
      string(2) "->"
      ["args"]=>
      array(4) {
        [0]=>
        int(-25)
        [1]=>
        int(1)
        [2]=>
        int(1024)
        [3]=>
        string(32) " [DB Error: extension not found]"
      }
    }
    [2]=>
    array(7) {
      ["file"]=>
      string(32) "/usr/local/lib/php/DB/common.php"
      ["line"]=>
      int(1908)
      ["function"]=>
      string(10) "raiseError"
      ["class"]=>
      string(4) "PEAR"
      ["object"]=>
      object(DB_pgsql)#3 (28) {
        ["phptype"]=>
        string(5) "pgsql"
        ["dbsyntax"]=>
        string(5) "pgsql"
        ["features"]=>
        array(7) {
          ["limit"]=>
          string(5) "alter"
          ["new_link"]=>
          string(5) "4.3.0"
          ["numrows"]=>
          bool(true)
          ["pconnect"]=>
          bool(true)
          ["prepare"]=>
          bool(false)
          ["ssl"]=>
          bool(true)
          ["transactions"]=>
          bool(true)
        }
        ["errorcode_map"]=>
        array(0) {
        }
        ["connection"]=>
        NULL
        ["dsn"]=>
        array(0) {
        }
        ["autocommit"]=>
        bool(true)
        ["transaction_opcount"]=>
        int(0)
        ["affected"]=>
        int(0)
        ["row"]=>
        array(0) {
        }
        ["_num_rows"]=>
        array(0) {
        }
        ["fetchmode"]=>
        int(1)
        ["fetchmode_object_class"]=>
        string(8) "stdClass"
        ["was_connected"]=>
        NULL
        ["last_query"]=>
        string(0) ""
        ["options"]=>
        array(8) {
          ["result_buffering"]=>
          int(500)
          ["persistent"]=>
          bool(false)
          ["ssl"]=>
          bool(false)
          ["debug"]=>
          int(0)
          ["seqname_format"]=>
          string(6) "%s_seq"
          ["autofree"]=>
          bool(false)
          ["portability"]=>
          int(0)
          ["optimize"]=>
          string(11) "performance"
        }
        ["last_parameters"]=>
        array(0) {
        }
        ["prepare_tokens"]=>
        array(0) {
        }
        ["prepare_types"]=>
        array(0) {
        }
        ["prepared_queries"]=>
        array(0) {
        }
        ["_last_query_manip"]=>
        bool(false)
        ["_next_query_manip"]=>
        bool(false)
        ["_debug"]=>
        bool(false)
        ["_default_error_mode"]=>
        NULL
        ["_default_error_options"]=>
        NULL
        ["_default_error_handler"]=>
        string(0) ""
        ["_error_class"]=>
        string(8) "DB_Error"
        ["_expected_errors"]=>
        array(0) {
        }
      }
      ["type"]=>
      string(2) "->"
      ["args"]=>
      array(7) {
        [0]=>
        NULL
        [1]=>
        int(-25)
        [2]=>
        NULL
        [3]=>
        NULL
        [4]=>
        string(32) " [DB Error: extension not found]"
        [5]=>
        string(8) "DB_Error"
        [6]=>
        bool(true)
      }
    }
    [3]=>
    array(7) {
      ["file"]=>
      string(31) "/usr/local/lib/php/DB/pgsql.php"
      ["line"]=>
      int(212)
      ["function"]=>
      string(10) "raiseError"
      ["class"]=>
      string(9) "DB_common"
      ["object"]=>
      object(DB_pgsql)#3 (28) {
        ["phptype"]=>
        string(5) "pgsql"
        ["dbsyntax"]=>
        string(5) "pgsql"
        ["features"]=>
        array(7) {
          ["limit"]=>
          string(5) "alter"
          ["new_link"]=>
          string(5) "4.3.0"
          ["numrows"]=>
          bool(true)
          ["pconnect"]=>
          bool(true)
          ["prepare"]=>
          bool(false)
          ["ssl"]=>
          bool(true)
          ["transactions"]=>
          bool(true)
        }
        ["errorcode_map"]=>
        array(0) {
        }
        ["connection"]=>
        NULL
        ["dsn"]=>
        array(0) {
        }
        ["autocommit"]=>
        bool(true)
        ["transaction_opcount"]=>
        int(0)
        ["affected"]=>
        int(0)
        ["row"]=>
        array(0) {
        }
        ["_num_rows"]=>
        array(0) {
        }
        ["fetchmode"]=>
        int(1)
        ["fetchmode_object_class"]=>
        string(8) "stdClass"
        ["was_connected"]=>
        NULL
        ["last_query"]=>
        string(0) ""
        ["options"]=>
        array(8) {
          ["result_buffering"]=>
          int(500)
          ["persistent"]=>
          bool(false)
          ["ssl"]=>
          bool(false)
          ["debug"]=>
          int(0)
          ["seqname_format"]=>
          string(6) "%s_seq"
          ["autofree"]=>
          bool(false)
          ["portability"]=>
          int(0)
          ["optimize"]=>
          string(11) "performance"
        }
        ["last_parameters"]=>
        array(0) {
        }
        ["prepare_tokens"]=>
        array(0) {
        }
        ["prepare_types"]=>
        array(0) {
        }
        ["prepared_queries"]=>
        array(0) {
        }
        ["_last_query_manip"]=>
        bool(false)
        ["_next_query_manip"]=>
        bool(false)
        ["_debug"]=>
        bool(false)
        ["_default_error_mode"]=>
        NULL
        ["_default_error_options"]=>
        NULL
        ["_default_error_handler"]=>
        string(0) ""
        ["_error_class"]=>
        string(8) "DB_Error"
        ["_expected_errors"]=>
        array(0) {
        }
      }
      ["type"]=>
      string(2) "->"
      ["args"]=>
      array(1) {
        [0]=>
        int(-25)
      }
    }
    [4]=>
    array(7) {
      ["file"]=>
      string(25) "/usr/local/lib/php/DB.php"
      ["line"]=>
      int(556)
      ["function"]=>
      string(7) "connect"
      ["class"]=>
      string(8) "DB_pgsql"
      ["object"]=>
      object(DB_pgsql)#3 (28) {
        ["phptype"]=>
        string(5) "pgsql"
        ["dbsyntax"]=>
        string(5) "pgsql"
        ["features"]=>
        array(7) {
          ["limit"]=>
          string(5) "alter"
          ["new_link"]=>
          string(5) "4.3.0"
          ["numrows"]=>
          bool(true)
          ["pconnect"]=>
          bool(true)
          ["prepare"]=>
          bool(false)
          ["ssl"]=>
          bool(true)
          ["transactions"]=>
          bool(true)
        }
        ["errorcode_map"]=>
        array(0) {
        }
        ["connection"]=>
        NULL
        ["dsn"]=>
        array(0) {
        }
        ["autocommit"]=>
        bool(true)
        ["transaction_opcount"]=>
        int(0)
        ["affected"]=>
        int(0)
        ["row"]=>
        array(0) {
        }
        ["_num_rows"]=>
        array(0) {
        }
        ["fetchmode"]=>
        int(1)
        ["fetchmode_object_class"]=>
        string(8) "stdClass"
        ["was_connected"]=>
        NULL
        ["last_query"]=>
        string(0) ""
        ["options"]=>
        array(8) {
          ["result_buffering"]=>
          int(500)
          ["persistent"]=>
          bool(false)
          ["ssl"]=>
          bool(false)
          ["debug"]=>
          int(0)
          ["seqname_format"]=>
          string(6) "%s_seq"
          ["autofree"]=>
          bool(false)
          ["portability"]=>
          int(0)
          ["optimize"]=>
          string(11) "performance"
        }
        ["last_parameters"]=>
        array(0) {
        }
        ["prepare_tokens"]=>
        array(0) {
        }
        ["prepare_types"]=>
        array(0) {
        }
        ["prepared_queries"]=>
        array(0) {
        }
        ["_last_query_manip"]=>
        bool(false)
        ["_next_query_manip"]=>
        bool(false)
        ["_debug"]=>
        bool(false)
        ["_default_error_mode"]=>
        NULL
        ["_default_error_options"]=>
        NULL
        ["_default_error_handler"]=>
        string(0) ""
        ["_error_class"]=>
        string(8) "DB_Error"
        ["_expected_errors"]=>
        array(0) {
        }
      }
      ["type"]=>
      string(2) "->"
      ["args"]=>
      array(2) {
        [0]=>
        array(9) {
          ["phptype"]=>
          string(5) "pgsql"
          ["dbsyntax"]=>
          string(5) "pgsql"
          ["username"]=>
          string(0) ""
          ["password"]=>
          bool(false)
          ["protocol"]=>
          string(3) "tcp"
          ["hostspec"]=>
          string(0) ""
          ["port"]=>
          bool(false)
          ["socket"]=>
          bool(false)
          ["database"]=>
          string(9) "nominatim"
        }
        [1]=>
        bool(false)
      }
    }
    [5]=>
    array(6) {
      ["file"]=>
      string(47) "/home/nominati/public_html/Nominatim/lib/db.php"
      ["line"]=>
      int(7)
      ["function"]=>
      string(7) "connect"
      ["class"]=>
      string(2) "DB"
      ["type"]=>
      string(2) "::"
      ["args"]=>
      array(2) {
        [0]=>
        string(19) "pgsql://@/nominatim"
        [1]=>
        bool(false)
      }
    }
    [6]=>
    array(4) {
      ["file"]=>
      string(52) "/home/nominati/public_html/Nominatim/utils/setup.php"
      ["line"]=>
      int(94)
      ["function"]=>
      string(5) "getDB"
      ["args"]=>
      array(0) {
      }
    }
  }
  ["callback"]=>
  NULL
}
DB Error: extension not found 
```

有什么解决办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T07:25:15.677

首先安装 pgsql 和相关工具，然后你的导入应该可以工作

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-25T12:29:45.117

对我来说这是行

```
 ;extension=pgsql.so 
```

在 php.ini 中取消注释。

# jquery - jQuery div 宽度动画动画不流畅

> ID：10647437
> 
> 赞同：0
> 
> 时间：2012-05-18T05:57:41.963
> 
> 标签：jquery, css-float, jquery-animate

我正在为客户的网站制作启动页面。

这个想法是蓝色条将在悬停的文本上增长，并且文本将改变颜色。我有基本的元素，但由于某种原因，酒吧的行为非常有问题，不会留在原地。这似乎是浮动的结果，但我看不到如何让条形图向左增加宽度。

这是我的 jQuery 代码

```
 $(document).ready(function(e) {
$('.work_link').hover(
function () {
    $('.work_link').stop(true,false).animate({color:'#ffffff'}, 500);
        $('#splash_bar_mono').stop(true, false).animate({width:'350px'}, 500).css({'float':'right'});
        //mouseover
},
function () {
$('.work_link').stop(true, false).animate({color:'#000'}, 500);
$('#splash_bar_mono').stop(true, false).animate({width:'10px'}, 500);//mouseout
});
$('.play_link').hover(
function () {
    $('.play_link').stop(true, false).animate({color:'#ffffff'}, 500);
    $('#splash_bar_mono').animate({width:'325px'}, 500).css({'float':'left'});//mouseover
},
function () {
    $('.play_link').stop(true, false).animate({color:'#000'}, 500);//mouseout
    $('#splash_bar_mono').stop(true, false).animate({width:'10px'}, 500);
});
}); 
```

这是网站的HTML

```
 <body id="splash">
<div id="splash_center">
        <div style="z-index:200;" id="splash_work"><a  style="z-index:200;" class="work_link" href="#">WORK</a></div>
        <div style="z-index:200;"id="splash_play"><a style="z-index:200;" class="play_link" href="#">PLAY</a></div>
    <div id="splash_bars">
        <div style="z-index:-200;" id="splash_bar_mono"></div>          
    </div>

</div>
  <div id="splash_graphic"></div>

</body>      
</html> 
```

[http://fefifofilms.com/](http://fefifofilms.com/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:52:53.663

The main reason why you are having issues is by using the other div to slide underneath of it. That is causing your hover methods to be toggled while the slide is underneath.

I have been able to fix this using a slightly different approach. Instead of animating a different bar with a background color. I have opted to using a background gradient on the splash_work and splash_play.

Here is the jsFiddle with an example.

[http://jsfiddle.net/9H4JU/](http://jsfiddle.net/9H4JU/)

Also you can download the gradient i used from [http://sexyselect.net/blog/image.axd?picture=2012%2f5%2fgrad.png](http://sexyselect.net/blog/image.axd?picture=2012%2f5%2fgrad.png)

How this helps...

# java - ((LocalBinder)service) 是什么意思？

> ID：10647438
> 
> 赞同：0
> 
> 时间：2012-05-18T05:57:42.273
> 
> 标签：java, android

我得到了这个代码：

```
mBoundService = ((LocalService.LocalBinder)service).getService(); 
```

一些好人可以解释这是什么意思:((LocalService.LocalBinder)service) 有人可以举一些其他的例子，就像((A)B)。

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-18T06:02:17.437

这只是铸造。它告诉编译器，“我知道你只知道这个表达式的值是 X 类型，但我相信在执行时它将是 Y 类型。在执行时为我检查它，然后让我以这种方式使用它。”

例如：

```
 Object x = getValueFromSomewhere();
 String text = (String) x; // I know x is a string reference really
 // Use text as a normal string reference 
```

如果您对所涉及的类型的信念不正确（例如，如果 的值是对 a而不是`x`a 的引用），则抛出 a 。`Integer``String`[`ClassCastException`](http://docs.oracle.com/javase/7/docs/api/java/lang/ClassCastException.html)

有关更多信息，请参阅[Java 继承教程](http://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)（或仅搜索“Java 转换教程”以找到许多类似的教程）或参阅[Java 语言规范的第 15.16 节](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.16)了解详细信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T06:06:34.953

你有一个变量（服务）并将其转换为类型（LocalService.LocalBinder）然后你得到服务这意味着：

```
Service service;
LocalBinder binder = (LocalService.LocalBinder) service;
Service mBoundService = binder.getService(); 
```

试试这个可能对你有帮助

[**参考**](https://stackoverflow.com/questions/6399274/android-local-service-sample-bindservice-and-serviceconnection)

[**例子**](http://developer.android.com/reference/android/app/Service.html#LocalServiceSample)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T06:02:22.637

本地绑定器意味着您的活动应该只绑定到您的应用程序。请注意，服务也可以绑定到其他应用程序。而 LocalService.LocalBinder 允许您的服务绑定包含该服务的应用程序。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-18T06:03:36.543

此语句意味着“服务”变量转换为类型 LocalService.LocalBinder。

其他样品：

```
double a=1.1f;
int i=(int)a;// you can't write int i=a; 
```

# axapta - Dynamics AX 安装 WS

> ID：10647444
> 
> 赞同：0
> 
> 时间：2012-05-18T05:58:08.520
> 
> 标签：axapta

我想安装动态 AX，但我总是遇到同样的问题“GZip 页脚中的 CRC 与从解压缩数据计算的 CRC 不匹配”你知道我该怎么办吗？在这里，我从我的计算机添加了日志：

```
 === Setup logging started: 2012-05-18 07:45:10 === 
Running file: "C:\Users\ADMINI~1\AppData\Local\Temp\AxSetup\AxSetup.exe" RelatedFilesDir="C:\Users\Administrator\Desktop\New folder (2)" 
AxSetup version number: 5.0.593.0
Microsoft Windows NT 6.1.7600.0 (64 bit)
ABD
CORP\Administrator
Interactive: True

RelatedFilesDir=C:\Users\Administrator\Desktop\New folder (2)
Property RelatedFilesDir set to: 'C:\Users\Administrator\Desktop\New folder (2)\'
Property SetupLanguage set to: 'EN'

=== Loading parameters from the command line or a parameter file === 
Initializing log file: C:\ProgramData\Microsoft\Dynamics AX\Dynamics AX Setup Logs\2012-05-18 07-45-10\DynamicsSetupLog.txt

 === Starting evaluation of existing installation state === 
MSI file: Components64.msi  Installed: False
MSI file: ClientHelp.msi  Installed: False

 === Checking parameters === 
Property InstallPath set to: 'C:\Program Files\Microsoft Dynamics AX\50'
Property InstallPath32Bit set to: 'C:\Program Files (x86)\Microsoft Dynamics AX\50'

 === Starting UI phase === 
Property AcceptLicenseTerms set to: '1'
Property BypassWarnings set to: '0'
Property RunMode set to: 'DeveloperComponents'
Property InstallAnalysisServicesExtensions set to: '0'
Property InstallAos set to: '1'
Property ClientAosServer set to: 'ABD'
Property InstallApplication set to: '1'
Property InstallAifWebServices set to: '0'
Property InstallBizTalkAdapter set to: '0'
Property InstallClientUI set to: '1'
Property InstallComBusinessConnector set to: '0'
Property InstallDatabase set to: '1'
Property InstallEnterprisePortal set to: '0'
Property InstallNetBusinessConnector set to: '1'
Property InstallDebugger set to: '1'
Property InstallEnterprisePortalTools set to: '0'
Property InstallReportingServicesExtensions set to: '0'
Property InstallReportingTools set to: '0'
Property InstallSynchronizationProxy set to: '0'
Property InstallSynchronizationService set to: '0'
Property InstallWorkflow set to: '0'
Property DbServerType set to: '0'
Property InstallDatabase set to: '1'
Performing  prerequisite validation: DhtmlEd
Performing  prerequisite validation: VC++ SP1
Performing  prerequisite validation: VC++ SP1
Performing  prerequisite validation: VC++ 64 bit SP1
Performing  prerequisite validation: SNAC
Property DbServerType set to: '0'
Property InstallDatabase set to: '0'
Performing  prerequisite validation: DhtmlEd
Performing  prerequisite validation: VC++ SP1
Performing  prerequisite validation: VC++ SP1
Performing  prerequisite validation: VC++ 64 bit SP1
Performing  prerequisite validation: SNAC
Property InstallPath set to: 'C:\Program Files\Microsoft Dynamics AX\50'
Property InstallPath32Bit set to: 'C:\Program Files (x86)\Microsoft Dynamics AX\50'
Property DbSqlServer set to: 'ABD'
Connected to SQL Server: 'ABD'
Connected to SQL Server: 'ABD'
Property DbSqlDatabaseName set to: 'Dynamicsx1'
Property InstallApplication set to: '2'
Property ApplicationInstanceName set to: 'Dynamicsx1'
Property ApplicationRegion set to: '-'
Property AosPort set to: '2712'
Property AosInstanceName set to: 'Dynamicsx1'
Property AosPort set to: '2712'
Property AosReportErrors set to: '0'
    The localized name for the NT Authority\Network Service account has been identified as 'NT AUTHORITY\NETWORK SERVICE'.
Property AosAccount set to: ''
Property ClientLanguage set to: 'EN-US'
Property ClientHelpLanguages set to: 'EN-US'
Property AosStart set to: '1'

 === Starting execution phase === 
=== Setting up Application files === 
An error occurred during setup of Application files.
Setup could not copy folder C:\Users\Administrator\Desktop\New folder (2)\Application to C:\Program Files\Microsoft Dynamics AX\50\Application.
Reason: The CRC in GZip footer does not match the CRC calculated from the decompressed data.

 === Setup was canceled or failed. For details see the previous messages in the log.

 === Setup logging ended: 2012-05-18 07:49:09 ErrorLevel/ExitCode: '1' === 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-20T22:25:49.017

您的安装文件可能已损坏。

如果您下载了文件，请重试下载。

# c++ - 为什么类的常量数据成员需要在构造函数中初始化？

> ID：10647448
> 
> 赞同：8
> 
> 时间：2012-05-18T05:58:18.530
> 
> 标签：c++, constructor, class-constants

我想知道为什么类的常量数据成员需要在构造函数中初始化，为什么不在其他地方初始化？这样做和不这样做有什么影响？

我还看到只能在类内部初始化***静态常量整数数据***，而不是在类内部初始化非数据成员。

*例如：-假设下面是我的班级声明*

```
class A{
     int a; // This we can initialize at the constructor or we can set this member by calling "vSet" member function
     const int b;
     static const int c = 10; //This works fine
public:
     A();
     ~A();
     void vSet(int a);
     int iAdd();
     void vDisplay();    
}; 
```

*构造函数定义如下：-*

***编辑部分：由于之前的构造函数定义示例是错误的***

```
 A::A():a(1),b(9){} 
```

如果我错了，请纠正我。提前致谢。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-05-18T06:01:32.383

```
A::A(){
      a = 1;
      b = 9; // Why we need to initialize this only at the constructor. 
   } 
```

不是***初始化***，而是***Assignment***。
`a`并且`b`已经构造好了，在这种情况下你可以给它们赋值。限定符要求变量在`const`初始化后不要更改，允许此分配将破坏该合同。

这是使用**成员初始化列表**进行的初始化。

```
A::A():a(1),b(9)
{} 
```

您可能想看看我的这个答案以了解区别：

**[构造函数内部的初始化和赋值有什么区别？](https://stackoverflow.com/questions/1711990/what-is-this-weird-colon-member-syntax-in-the-constructor/8523361#8523361)**

* * *

至于另一个问题，关于*只能在类中初始化静态常量整数数据*，请阅读我的这个答案，其中更详细地解释：

**[为什么我不能在类中初始化非常量静态成员或静态数组？](https://stackoverflow.com/questions/9656941/why-i-cant-initialize-non-const-static-member-or-static-array-in-class/9657064#9657064)**

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-05-18T06:01:13.367

你正在做的不是初始化。它是赋值，所以`b=9`甚至不会编译，因为`b`是 a `const`，所以不能为其*分配*任何值。它应该被*初始化*，为此，使用成员初始化列表：

```
A::A() : a(1), b(9) 
{   // ^^^^^^^^^^^^ this is called member-initialization list

} 
```

在 C++11 中，您可以将就地初始化用作：

```
class A{

     int a = 1;       //C++11 only
     const int b = 9; //C++11 only

     static const int c = 10; //This works fine (both in C++03 and C++11)
     //...
}; 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-05-18T06:01:55.580

因为它是常数，所以它的值不能改变。在构造函数以外的任何地方进行初始化将意味着默认初始化，然后是***赋值***，这对于常量是不允许的。这相当于这样做：

```
const int i; // OK
i = 42; // Error! 
```

请注意，在 C++11 中，这样做是完全可以的：

```
struct Foo {

  const int i=42;
  const double x = 3.1416;
}; 
```

但这遵循相同的规则，即没有分配。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-05-18T06:05:04.263

const 数据是永远无法更改的数据。它被初始化一次，然后永远保持相同的值。

因此，您不能只在任何地方为其赋值。

然而，构造函数是初始化的地方。所以这里有一个例外，您可以为您的 const 数据分配一个值。您可以通过经典方式执行此操作，或者说像初始化列表一样。

现在，当变量不是静态变量时，为什么不能在类定义中执行此操作（与 Java 不同）是另一个问题，我不知道答案。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-05-18T06:02:57.397

进入构造函数的*主体*时，所有成员和子对象都已初始化。*构造函数体*唯一能做的就是*改变*它们——显然，不允许`const`成员使用。

但是，您可以使用初始化列表。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-05-18T06:02:50.720

您不能`const`在构造函数之外初始化成员，因为它们是*const*。根据定义，在它们被初始化之后，你不能修改它们，并且在对象被构造之后，任何试图设置值的东西都是修改。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-05-18T06:19:12.497

const 值是右值，因此它们不能出现在表达式的右侧，因为它是 const 的。

因此，当您在构造函数的主体上使用此表达式时

```
A::A()
{
    a = 1;
    b = 9; // Why we need to initialize this only at the constructor. 
} 
```

正如 Als 之前提到的，您将 const 值用作左值。事实是，您正在尝试将新值分配给一个不允许在其生命周期开始后更改其值的变量。

将值分配给常量数据成员的正确方法是在 ctor 初始化程序列表中，即在成员值的生命周期开始之前（如 Nawaz 所述）：

```
A::A() :
    a(1),
    b(9)
{
} 
```

最后，在 C++11 标准中[，您可以初始化声明它的所有数据成员](http://www2.research.att.com/~bs/C++0xFAQ.html#member-init)，就像静态 const 的一样。

# python - 使用 babel、django 和 jinja2 服务 i18n js

> ID：10647449
> 
> 赞同：1
> 
> 时间：2012-05-18T05:58:41.507
> 
> 标签：python, django, internationalization, jinja2, python-babel

## 使用 django，使用 jinja2 进行渲染和 babel 进行消息提取

我有一些需要国际化的 js 文件。我一直无法弄清楚从它们中提取消息的语法，这也会让 jinja2 呈现它们。jinja2 必须学习阅读可提取的语法，或者我必须从 jinja2 可以呈现的内容中提取。（或者，完全以另一种方式执行此操作）

## 提取

如果我在js中标记消息

```
gettext('message') 
```

它提取得很好。

## 渲染

但是 jinja2 不会替换 js 中的 gettext 调用（我在返回之前用 jinja2 渲染 js 模板）——它需要类似的东西

```
{% trans %}message{% endtrans %} 
```

但是，该语法不能用于提取消息。

Babel 使用来自 babel.messages 的函数 extract_javascript 来提取消息，这看起来并不适合处理这种类型的标签。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T07:02:34.110

好吧，看起来我可以这样做：

```
{{gettext("message")}} 
```

（没有定义gettext）

在 JS 中，babel 将提取 & jinja2 将替换它。

不过，请注意报价。你不能这样做：

```
'{{gettext("message")}}' 
```

因为 extract_javascript 不会读取它。但是，你可以把引号放在里面，只要你安全地渲染它们：

```
{{gettext("'message'")|safe}} 
```

因此，请让您的翻译人员确保在原文中找到引文的任何地方留下引文。

# iphone - Objective c 免费的 iPhone 自定义进度视图，具有设置背景图像的能力

> ID：10647450
> 
> 赞同：1
> 
> 时间：2012-05-18T05:58:43.507
> 
> 标签：iphone, ios5, uiprogressview

我想知道，是否有任何第三方库或控件可用于进度视图。

基本上我想设置进度视图的背景图像，其余功能将与默认进度视图相同。

任何人都可以通过任何具有相同功能的第三方进度视图控件或教程的链接来指导我。

谢谢和问候，萨德

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:01:35.010

试试[https://github.com/jdg/MBProgressHUD](https://github.com/jdg/MBProgressHUD)

MBProgressHUD 是一个 iOS 插件类，它在后台线程中完成工作时显示带有指示器和/或标签的半透明 HUD。HUD 旨在替代未记录的私有 UIKit UIProgressHUD，并具有一些附加功能。

# ios - 在objective-c中访问方法外的变量

> ID：10647453
> 
> 赞同：1
> 
> 时间：2012-05-18T05:59:03.397
> 
> 标签：ios, nsarray, global-variables

我有这个函数，它将数组的内容存储在三个不同的变量中。我的问题是如何从同一个类中的另一个函数访问存储在 _company.address 中的内容。

```
-(NSArray *) csvArray2CompaniesArray:(NSArray *) csvArray
{
    int i=0;    

    NSMutableArray *ma = [[NSMutableArray alloc] init];

    for (NSArray * row in csvArray)
    {
        if (i>0)
        {
            Company *_company = [[Company alloc] init];

            _company.name = [row objectAtIndex:0];
            _company.address = [row objectAtIndex:1];
            _company.telephone = [row objectAtIndex:2];

            [ma addObject:_company];
        }
        i++;
    }
    return (NSArray *) ma;
} 
```

先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:00:32.880

对象的可访问性不能在函数中是私有的。要么将其声明为全局，要么在类的范围内声明。在 .h 文件中更好

您可以将功能值用作：-

```
YourViewControllerWithFunction *accessFunc=[[YourViewControllerWithFunction  alloc]]init];

Company *_company=[accessFunc csvArray2CompaniesArray:youInputArray];

[_company objectAtIndex:intVallue];//Use in loop 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T06:14:38.237

您应该将函数的返回值更正为`NSMutableArray`或创建 a`copy`以获取您创建`NSArray`的函数。`NSMutableArray`

之后，您可以从类内的任何位置访问数组的内容，例如：

```
for (Company *c in [self csvArray2CompaniesArray:csvarray])
{
    NSLog(@"%@", c.address);
} 
```

# iphone - GLPaint 和 OpenGL - 深色无法正常工作

> ID：10647457
> 
> 赞同：1
> 
> 时间：2012-05-18T05:59:21.647
> 
> 标签：iphone, ios, xcode, opengl-es

我尝试了各种混合修改无济于事....

如果您在 GLPaint 示例中使用较深的颜色，则会发生这种情况，链接到附加的图像：

[http://www.studionu.nu/files/GLPaint_dark_color.png](http://www.studionu.nu/files/GLPaint_dark_color.png)

如您所见，即使在图像上绘画之后，“M”也很突出。

有没有人知道这里发生了什么以及如何解决它？

谢谢

我正在使用 glBlendFunc(GL_ONE, GL_ONE_MINUS_SRC_ALPHA); （预乘）

我尝试了 glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);

编辑：为简单起见，这是基于 GLPaint 的文件。

我有一个代码示例，这是苹果基本绘图应用程序 GLPaint 副本中的问题。这是链接.....也许你可以看看它。我已经覆盖了颜色更改功能，以便它以红色开始，并在您选择任何颜色时变为深红色......

[http://www.studionu.net/files/GLPaint.zip](http://www.studionu.net/files/GLPaint.zip)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T06:43:06.093

这可能是因为选择了混合模式，我不记得具体细节，但看起来你使用的是多重混合风格，较亮的颜色通过较暗的颜色闪耀。

选择不同的混合方法，以便新颜色是新应用的颜色，而不是两种颜色的组合

编辑：

OpenGL 混合选项：

[http://pyopengl.sourceforge.net/documentation/manual/glBlendFunc.3G.html](http://pyopengl.sourceforge.net/documentation/manual/glBlendFunc.3G.html)

# php - 间歇性调整图像大小问题

> ID：10647458
> 
> 赞同：0
> 
> 时间：2012-05-18T05:59:22.767
> 
> 标签：php, class, image-manipulation, image-resizing

我正在通过 stream_copy_to_stream() 上传图像，然后使用下面的类和方法重新调整它们的大小。

这是我的调整大小类： http: **[//pastebin.com/wtbcbfzv](http://pastebin.com/wtbcbfzv)**

我就是这样用的。

```
$resizeObj = new resize('image.jpg');
$resizeObj -> resizeImage(960, 800, 'auto');
$resizeObj -> saveImage('image.jpg', 100); 
```

但是它有时有效，有时无效，它只是失败了，根本没有返回错误。我成功地将内存限制设置为 150M，但没有这样的运气已经达到了 300M。我还确保将 max_execution_time 设置为 0，因此无需担心。

**关于可能导致此间歇性问题的任何建议？**

**更新**这是与问题的唯一图像一起返回的，我注意到高度是 6600，当减少到即 5500 时它可以工作..

`"imagecreatetruecolor() [function.imagecreatetruecolor]: Invalid image dimensions"`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T02:44:54.543

发现这是主机的问题，因为它是共享服务器，所以它有一个进程会杀死任何将使用 x% 内存的东西。都解决了。

# android - 如何在 ActionBar 中分配 Activity？

> ID：10647462
> 
> 赞同：0
> 
> 时间：2012-05-18T05:59:28.793
> 
> 标签：android, android-actionbar

我有带有 3 个选项卡的 ActionBar。每个选项卡都有一个 Fragmemt。如何为每个选项卡分配一个活动（每个片段都有一个按钮，如何在该按钮上分配事件）？

```
public class TMABActivity extends Activity {
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    ActionBar actionBar = getActionBar();
    actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);
    actionBar.setDisplayShowTitleEnabled(false);

    Tab tab = actionBar
            .newTab()
            .setText("MyBooks")
            .setTabListener(
                    new MyTabListener<NewsFragment>(this, "1",
                            NewsFragment.class, this));
    actionBar.addTab(tab);

    tab = actionBar
            .newTab()
            .setText("News")
            .setTabListener(
                    new MyTabListener<MyBooksFragment>(this, "2",
                            MyBooksFragment.class, this));
    actionBar.addTab(tab);

    tab = actionBar
            .newTab()
            .setText("Account")
            .setTabListener(
                    new MyTabListener<AccountFragment>(this, "3",
                            AccountFragment.class, this));
    actionBar.addTab(tab);

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-04T09:15:41.883

您不需要将任何活动附加到您的片段。为每个片段自动创建一个 Activity 实例。

要添加监听器，例如在每个 Fragment 的按钮上，您可以覆盖该方法

```
void onActivityCreated(Bundle savedInstanceState) 
```

并获得对 Button 的引用

```
Button button = (Button) getActivity().findViewById(R.id.example_button); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T18:42:17.190

片段不需要明确的活动分配。

# javascript - 浏览器中的 Javascript 处理

> ID：10647464
> 
> 赞同：1
> 
> 时间：2012-05-18T05:59:42.643
> 
> 标签：javascript, browser, compiler-construction, javascript-engine

> **可能重复：**
> [JavaScript 解析器如何工作？](https://stackoverflow.com/questions/10025114/how-does-a-javascript-parser-work)

浏览器如何编译**Javascript**脚本？它使用什么类型的编译器？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T06:01:06.593

浏览器不编译javascript，它只是解析文件并执行它。

看这里：[JavaScript_engine](http://en.wikipedia.org/wiki/JavaScript_engine)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-18T06:02:12.560

JavaScript 不是编译的，而是解析和解释的。这因浏览器而异。

Chrome 使用[V8](http://code.google.com/p/v8/)，而 node.js 也使用了V8。Internet Explorer 有一个称为[Chakra](http://en.wikipedia.org/wiki/Chakra_%28JavaScript_engine%29)的专有引擎。

至于一般规则，[Annotated ES5](http://es5.github.com/#x7)分享了一些见解：

> ECMAScript 程序的源文本首先被转换为一系列输入元素，这些元素是标记、行终止符、注释或空格。从左到右扫描源文本，重复将最长可能的字符序列作为下一个输入元素。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-18T06:03:00.693

Javascript被解释；这就像在运行时在需要时即时编译。这就是为什么带有 javascript 错误的页面在使用部分错误代码之前只能正常工作的原因。坏代码块将停止。

# css - 重新定位雅虎媒体播放器？

> ID：10647467
> 
> 赞同：1
> 
> 时间：2012-05-18T05:59:46.683
> 
> 标签：css, media-player, yahoo

我正在为钢琴演奏者制作一个网站，并且在浏览网站时使用雅虎媒体播放器在后台播放他的音乐的简短播放列表。我一直在寻找一种方法来重新定位页面上的播放器，但我无法想出任何简单的方法来做到这一点。有谁知道这样做的实际方法？

# wcf - 类库中的 WCF 服务引用

> ID：10647474
> 
> 赞同：0
> 
> 时间：2012-05-18T06:01:04.297
> 
> 标签：wcf, endpoint

我在 VS 2005 类库项目中添加了 wcf 服务（由 biztalk 公开）代理和 app.config 文件，我正在从 Windows 应用程序调用这个类库方法。在这种情况下，在创建服务实例时出错，所以我将 app.config 文件从类库移动到窗口应用程序，现在工作正常。问题：如果我将配置文件中的服务 url 从 machine001 更改为 machine002（来自 bin 文件夹而不是来自应用程序）并从 exe 文件运行应用程序。没有构建它会工作吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T06:06:59.220

类库配置始终依赖于真正使用它的父应用程序的配置文件（web.config / app.config）。父应用程序应该是控制台/winform/ASP.NET 应用程序，并且可以是 Windows 服务。WinForm 的 app.config 中的任何更改都会改变您的类库的行为。

要回答您的问题，是的，如果您在 windows 应用程序的配置文件中将服务 url 从 machine001 更改为 machine002，如果 machine002 托管 WCF 服务，它将起作用。

希望它能消除你的疑问。

# python - 在谷歌地图上标出多个送货区域并存储在数据库中

> ID：10647482
> 
> 赞同：0
> 
> 时间：2012-05-18T06:01:37.600
> 
> 标签：python, django, postgresql, google-maps, postgis

**背景：** 我正在尝试使用谷歌地图作为界面来标记多个多边形，这些多边形可以存储在 Postgres 数据库中。

然后将使用地理编码的经度纬度点查询数据库，以确定哪个绘制的多边形包含该点。

使用 Python 和 Django。

**问题** 如何配置 Google 地图以允许用户单击并指定多个多边形区域？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:19:45.120

您需要将[事件](https://developers.google.com/maps/documentation/javascript/events)侦听器绑定到[多边形](https://developers.google.com/maps/documentation/javascript/reference#Polygon)叠加层。

[很酷的例子，不完全是你想要的](http://gmaps-samples.googlecode.com/svn/trunk/poly/mymapstoolbar.html)。

[这个例子](http://zog.utc.edu/~ssmullen/maps/Ochs/index.html)有很好的多边形基本事件。您可以，而不是采取事件并制作信息窗口，也许采取多边形 obj 并将其添加到单击多边形的对象以提供给服务器。

然后，您可以使用 jquery 或其他`ajax.post`点击数据到请求处理程序。[使用 Django 模型 api 使用GeoDjango](https://docs.djangoproject.com/en/dev/ref/contrib/gis/)写入`postgis`启用的数据库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T07:30:17.623

仅“使用 Python 和 Django”，您不会这样做。显然，您将需要 Javascript。

所以你不妨转储谷歌地图并使用开源网络地图框架。OpenLayers 有一个定义明确的 Javascript API，它可以让你做你想做的事。OpenLayers 文档中的示例显示了如何。

稍后您会感谢我的 - 特别是当 Google 要求为其地图图块收费并且您无法将您的 Google 地图小部件切换到 OpenStreetMap 或其他某些图块提供商时。这实际上发生了。

# javascript - 谷歌自定义搜索在底部创建了一个巨大的空白区域

> ID：10647487
> 
> 赞同：1
> 
> 时间：2012-05-18T06:01:56.433
> 
> 标签：javascript, google-custom-search

在使用 Google 自定义搜索（支持 Iframe）时，它会在底部创建一个巨大的空白区域？我怎样才能避免那个空白。

例如：这个网站 [ [http://www.town.togtsu.nagasaki.jp/search/pub/Default.aspx?c_id=2&q=togitsu&cx=000096980916426724425:keok8sbpuem&cof=FORID:10&ie=UTF-8](http://www.town.togitsu.nagasaki.jp/search/pub/Default.aspx?c_id=2&q=togitsu&cx=000096980916426724425:keok8sbpuem&cof=FORID:10&ie=UTF-8) ] 创建一个巨大的空白底部的空间。

我已经检查了来源（http://www.google.com/afsonline/show_afs_search.js），但无法将其取出。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T06:10:23.393

将此 iframe 的 height 属性更改为 1260：

```
<iframe name="googleSearchFrame" src="http://www.google.com/cse?c_id=2&amp;q=togitsu&amp;cx=000096980916426724425:keok8sbpuem&amp;cof=FORID:10&amp;ie=UTF-8&amp;ad=n9&amp;num=10&amp;rurl=http%3A%2F%2Fwww.town.togitsu.nagasaki.jp%2Fsearch%2Fpub%2FDefault.aspx%3Fc_id%3D2%26q%3Dtogitsu%26cx%3D000096980916426724425%3Akeok8sbpuem%26cof%3DFORID%3A10%26ie%3DUTF-8&amp;siteurl=http%3A%2F%2Fstackoverflow.com%2Fquestions%2F10647487%2Fgoogle-custom-search-create-a-huge-blank-space-at-the-bottom" frameborder="0" width="795" height="1260" marginwidth="0" marginheight="0" hspace="0" vspace="0" allowtransparency="true" scrolling="no"></iframe> 
```

这很可能是由用于搜索的 JavaScript 代码动态添加的。如果是这种情况，您需要使用 JavaScript 动态更改高度：

```
$(document).ready(function() {
    $('[name="googleSearchFrame"]').attr("height","1260");
}); 
```

# ajax - Ajax 不适用于 primefaces

> ID：10647490
> 
> 赞同：1
> 
> 时间：2012-05-18T06:02:05.070
> 
> 标签：ajax, primefaces

在我的 JSF 页面中，当我单击同一页面中的提交按钮时，我需要显示静态内容。但是当我点击`<p:commandbutton>`页面中什么都没有出现。当我输入 ajax="false" 时，只发生了动作，但静态内容显示在新页面中。在我的支持 bean 中，我使用了 Session 范围。我正在使用 JSF 2.0 和 Primefaces 3.2。

我的 JSF 页面。

```
<h:form>
  <h:panelGroup rendered="#{not license.showForm}">

    <p:panel header="License Key Request" >

      <h:panelGrid columns="2" >
        ..
        <h:outputText value="Bla bla"/>
        ..
        <h:outputText value="Bla Bla"  />
      </h:panelGrid>

      <TABLE>
       ..
       <h:outputLabel for="name" value="Requestor Name : *" />
        ..
       <p:inputText id="name" value="#{license.name}" required="true" requiredMessage="Name is required."/>
        ..
       <h:outputLabel for="company" value="Company : * " />
        ..
       <p:inputText id="company" value="#{license.company}" required="true" requiredMessage="Company is required."/>
        ..
      </table>

      <p:commandButton  value="Form" id="btnAdd" process="@form" 
      action="#{license.add}" />
        ..                                      
      </table>
   </p:panel>
 </h:panelGroup>

  <h:panelGroup rendered="#{license.showForm}" >

   <h:outputText value="Bla Bla"/>
   </h:panelGroup>
</h:form> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T06:58:13.370

您的源代码有些混乱（例如，您有两个结束`table`标签）。但我假设如果单击按钮，您希望在底部显示 panelGroup。

最简单的方法是将一个添加`update ="@form"`到您的命令按钮：

```
<p:commandButton value="Form" id="btnAdd" 
                 process="@form" update="@form"
                 action="#{license.add}" /> 
```

您不需要更新整个表单，只需更新特定组件。然后你需要给 panelGroup 一个 id 属性并使用这个属性而不是`@form`. 但是，由于我不清楚您的命名容器是如何组织的，因此找到正确的相对 ID 可能会令人费解。

# css - 跨浏览器的输入 css 渲染不一致

> ID：10647491
> 
> 赞同：0
> 
> 时间：2012-05-18T06:02:06.090
> 
> 标签：css, input, webkit, positioning

输入按钮错误地高于输入字段。

我使用 Firebug 复制了应用于 3 个相关元素（包含`p`元素和 2 个子`input`元素）的所有样式以复制问题。

[http://jsfiddle.net/XBjz3/](http://jsfiddle.net/XBjz3/)

我感觉这与我在输入按钮上使用负相对定位有关。

按原样显示

*   火狐 12
*   铬 19
*   互联网浏览器 9

显示错误

*   安卓2.3.5浏览器
*   iOS 5.1 浏览器
*   Safari 5.1.7
*   歌剧 11.6

奇怪的是，当其他 3 个 webkit 浏览器不正确地呈现它时，它在 Chrome 中显示正常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T06:14:37.643

而不是使用

```
top:-0.5em; 
```

您可以使用

```
bottom : 0.4em; 
```

因为使用负值作为位置不是很好的做法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T11:35:25.623

检查这个我希望这对你有帮助..

**HTML**

```
<p>
    <input type="password" class="pw-box" id="pwbox-33" name="post_password">
    <input type="submit" class="pw-submit" value="Submit" name="Submit">
</p> 
```

**CSS**

```
p {

    width:50%;
    display: inline;
    float: left;
    padding-left: 1%;
    padding-right: 1%;
    position: relative;
    font-size: 1em;
    line-height: 1.5em;
    margin:20px 0 0 20px;
    background:rgba(0,0,0,0.1);

}
#pwbox-33 {
    width: 200px;
    border:0;
    background: #606D80;
    border-top:solid 1px  #1F3453;
    color: #DCE0E6;
    margin: 0;
    padding: 0.5em;
    text-shadow: 0 1px 0 #1F1F20;
    vertical-align: top;
}
.pw-submit{
cursor: pointer;
    background:#2B4C7E;
    color: #DCE0E6;
    padding: 0.5em 1em;
    position: absolute;
    text-shadow: 0 -1px 0 #1F1F20;
    top: -0.3em;
    border:0;
    font-size:12px;
    font-family:arial;
    left:200px;
    border-bottom:solid 0.5em #0E2952;
    outline:0;

} 
```

[http://jsfiddle.net/YjNJ5/3/](http://jsfiddle.net/YjNJ5/3/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T17:39:17.293

找到了一个看起来与预期完全相同的解决方案。

[http://jsfiddle.net/XBjz3/8/](http://jsfiddle.net/XBjz3/8/)

以下是对原作的改动。

```
#pwbox-33 {
    vertical-align: bottom;
}
.pw-submit {
    top: 0;
    vertical-align: bottom;
} 
```

经测试可在 Firefox、Chrome、IE、Safari、Opera 和 Android 库存浏览器上运行。

# android - 强制 Time.format(...) 在android中使用本地资源

> ID：10647493
> 
> 赞同：0
> 
> 时间：2012-05-18T06:02:06.953
> 
> 标签：android, time, android-resources

`android.text.format.Time`使用系统资源来获取月份名称、工作日等。现在，我想在默认情况下不存在该语言环境的翻译的语言环境中使用我的应用程序。假设我想为工作日设置自定义名称。那么，我该如何使用`Time.format(...)`方法呢？我怎样才能强制它使用我的资源而不是系统的。

任何帮助将不胜感激，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T11:15:12.937

您可以使用[android.text.format.DateFormat](http://developer.android.com/reference/android/text/format/DateFormat.html)或[java.text.SimpleDateFormat](http://developer.android.com/reference/java/text/SimpleDateFormat.html)定义自定义格式。后者允许您传递自定义[DateFormatSymbols](http://developer.android.com/reference/java/text/DateFormatSymbols.html)对象，该对象应允许您为月份和工作日等定义自己的名称。

# python - 用 Python 绘图

> ID：10647500
> 
> 赞同：1
> 
> 时间：2012-05-18T06:02:30.667
> 
> 标签：python, numpy, plot, matplotlib

我有一个 .txt 文件，从中可以找到有序对，然后使用 numpy 和 matplotlib 绘制图形。例如，这些是我的有序对：

```
[[(4.0, 0), (0, 6.0)], [(6.0, 0), (0, 3.0)]] 
```

（每个子列表代表最终图形中的一条线）

图形如下所示：

![涂鸦1](../Images/875a3c7623c440fc103dd59bd6fd613e.png)

但我想找到两条线之间的交点。如果有更多的线，我怎样才能找到它们之间的公共区域？例如

![grafik2](../Images/c62a0dbbd729112ae028aa84d0c97513.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:08:57.653

您可以先[在此处尝试](http://docs.sympy.org/0.7.1/modules/geometry.html)[SymPy](http://docs.sympy.org/0.7.1/index.html)的交集（特别是）。

SymPy 还有更多功能；它适合您可能想做的大部分事情！阅读[文档](http://docs.sympy.org/0.7.1/index.html)以了解其所有功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T06:10:45.117

也许你可以看看“圣人”。Sage 是一个开源计算机代数系统，你几乎可以做任何事情，例如。Graphtheorie 和像老板一样绘图。 [http://www.sagemath.org/](http://www.sagemath.org/)

# javascript - Ember JS：内容绑定更改时未呈现集合视图

> ID：10647505
> 
> 赞同：1
> 
> 时间：2012-05-18T06:02:52.287
> 
> 标签：javascript, ember.js, sproutcore-2

下面是我的集合视图的示例，它应该生成人员列表

```
{{view Em.CollectionView itemViewClass="App.PersonView" contentBinding="App.PeopleController"}} 
```

当我第一次填充 App.PeopleController 时，这个集合视图渲染得很好。但是，当我重置 PeopleController 并再次填充它时，集合视图不会呈现。有人知道为什么吗？

更新：

这是我填充 App.PeopleController 的方式

```
people.forEach(function(p) {
  _this.pushObject(App.Person.create(p));
}) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T16:14:50.327

您是否在控制台中重置了 PeopleController 并在控制台中重新填充它？您可能需要触发一个新的运行循环来更新集合视图。

# mod-rewrite - 尝试编写 mod_rewrite 规则

> ID：10647510
> 
> 赞同：0
> 
> 时间：2012-05-18T06:03:10.897
> 
> 标签：mod-rewrite, url-rewriting

我已经更改了我的 CMS，需要编写一个 mod_rewrite 规则来帮助重定向一些旧 URL。

我想做的是：

1.  删除“博客/档案”
2.  用破折号替换下划线
3.  用斜杠替换“.html”

旧链接：

```
http://example.com/blog/archives/the_post_title.html 
```

新链接

```
http://example.com/the-post-title/ 
```

为了解决 1 和 3，我认为类似的方法可能有效，但事实并非如此。

```
RewriteRule ^/blog/archives/([A-Za-z0-9-]+)/?.html$ $1    [L] 
```

感谢您的建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T06:06:58.757

对于 1 和 3

```
RewriteRule ^/blog/archives/(.*?).html$ /$1/ [L,R=permanent] 
```

（请注意，R=permanent 使用 301 重定向，这将被缓存很长时间，但确实会将您的 pagerank 移动到新 URL。使用 [L,R] 使用正常重定向）

# vb.net - 如何创建调度程序来备份 SQL Server 数据库？

> ID：10647517
> 
> 赞同：0
> 
> 时间：2012-05-18T06:04:10.620
> 
> 标签：vb.net, database-backups, sql-server-2008-express

我在 SQL Server 2008 Express Edition 中创建了一个数据库。我可以在 VB.net express 中编写一个程序来在指定的时间进行每日备份吗？我需要写什么代码？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T06:14:48.987

为此编写一个 VB.NET 应用程序可能有点矫枉过正。您需要编写一个 Windows 服务或类似的东西以在无限循环上运行，并找出代码来进行数据库备份。

因为它是 express 的，所以当然没有 SQL Server 代理来运行计划的作业。但是，您可以通过从操作系统调度作业来做同样的事情。这是一篇关于如何完成此任务的好文章： [http](http://www.fmsinc.com/free/NewTips/SQL/SQLServerExpressDatabase/Automated_Backup.asp) ://www.fmsinc.com/free/NewTips/SQL/SQLServerExpressDatabase/Automated_Backup.asp 。引用文章：

> *   使用向导创建一个新的备份设备（展开 Server Objects => New Backup Device）。
> *   右键单击新的备份设备并选择要备份的数据库。
> *   选择备份类型（通常是“完整”）。
> *   为作业选择一个名称。如果您愿意，请插入说明。
> *   单击添加按钮以添加设备目标（这是您希望放置备份 .bak 输出文件的位置）。
> *   单击确定。备份设备现已设置。对要备份的每个数据库重复步骤 3-7。
> *   使用以下语法创建批处理文件（用于执行备份设备）。下面是一个语法示例（请记住使用“BAT”文件扩展名保存此文件）：

```
sqlcmd -S MYSERVER\OFFICESERVERS -E -Q "BACKUP DATABASE MASTER TO TEST"

..where “MYSERVER” is the name of the SQL Server machine.
..where “OFFICESERVERS” is the name of the SQL Server.
..where “Test” is the name of the backup job.
..where “MASTER” is the name of the database. 
```

> *   最后，打开 Microsoft Windows 计划程序并将上面创建的批处理文件分配给计划的事件。将事件设置为在您希望的时间点运行。有关 Microsoft Windows 调度程序及其有用功能的更多信息，请使用您首选的搜索引擎执行 Web 搜索或查阅您的 Microsoft Windows 文档。

# java - 无限线程优化

> ID：10647518
> 
> 赞同：0
> 
> 时间：2012-05-18T06:04:18.237
> 
> 标签：java, multithreading, optimization

没有像while这样昂贵的循环，任何人都可以编写一个无限运行的线程吗？

就像我不想要这样的东西

```
public void run() {

            while(true)
            {
                do Blah Blah Blah
                Thread.sleep(.....);

            }

        } 
```

编写如此长时间运行的线程的任何优化方式。

提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-18T06:05:51.150

我发现`while (true) { ... }`这是实现普通无限循环的最干净的方法。我认为没有更紧凑或更具成本效益的方式来做到这一点。

虽然有些人更喜欢`for (;;) { ... }`，但我认为这看起来很尴尬。

在成本方面，`javac`两者都编译为

```
public static void main(java.lang.String[]);
  Code:
   0:  ...
       ...
       ...
       goto 0

} 
```

如果你确实希望循环是无限的，我看不到任何更有效的方法。

* * *

由于您`Thread.sleep`的代码中有 a ，我还建议您查看例如`java.util.Timer`和`java.util.TimerTask`.

* * *

If your loop *tries* to do something repeatedly, you are right that you're probably wasting CPU time in the long run. Especially if you happen to have many instances of this type of thread. In this case I would recommend you to look into the *observer pattern*. Let the object waiting for something, *listen* to the objects affecting the possibility of succeeding with what it's trying.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T06:11:23.653

In what way do you consider `while(true)` "costly"? Do you have any *evidence* that this is affecting your performance? What operation would you consider to be cheaper than it?

Note that from your comment:

> I guess such a infinite while loop blocks your CPU. Isn't dat? So I consider it costly.

it sounds like you're considering the *whole* loop, not the `while` part. So let's look at what you're doing *in* the loop:

```
do Blah Blah Blah
Thread.sleep(.....); 
```

You're explicitly telling the thread to sleep. While it's sleeping, it won't be consuming CPU resources. So no, it's not costly. Admittedly if your sleep period is very short and your "do Blah Blah Blah" is very quickly, you'll be looping an awful lot - but in that case you should consider increasing the sleep time. (You should also consider other approaches which allow you to signal to the thread that you wish it to quit cleanly, and do so even while it's sleeping, without having to interrupt the thread.)

You haven't given us any information about what you're really trying to achieve, but fundamentally the use of `while` isn't a problem here. Just think about how often you *want* to loop, and whether it's really a simple time-based value. For example, if this thread is meant to process work, then perhaps you want a producer/consumer queue of some description - there's no need for the thread to sleep while it has work to do, but there's no need for it to wake up *until* there's work to do. That's only an example, of course - without more information we really can't give much more advice.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-18T06:37:07.697

Since we're guessing what you've defined as cost, I thought I'd let you know of a possible *cost* that I can think of.

A thread usually has some stack memory associated with it. The amount of stack memory associated with a thread for many applications, such as desktop/user applications, isn't really an issue. But say you're developing a server that has to handle a long term connection from each of it's numerous users. And lets say that for every connected user, the server has to perform the same task repetitively (like what you might be doing in your while loop). Addressing this solution with a thread per connection/user can become quite costly. So instead of blocking/sleeping on the thread, it can often be more efficient to ask a thread from a ThreadPool to do the same task whenever you get the event to do so. This can drastically improve memory usage. I think such a optimization could be considered whenever you can have lots of threads relative to the amount of memory available.

Probably not the case for you since you said "indefinite", but it was an interesting problem that I came across recently so I thought I'd blab about it.

# php - PHP根据查询结果构造多维数组

> ID：10647519
> 
> 赞同：0
> 
> 时间：2012-05-18T06:04:21.767
> 
> 标签：php, multidimensional-array, foreach

试图将学期、班级、学生的 3 层数组组合在一起，形成候补名单清算页面。这是我用来创建数组的 foreach，但有些地方不对劲。生成的数组不适合循环并制作学期 > 课程 > 学生的 html 表。我的 foreach 看起来像这样

```
 foreach ($active_terms as $term) {
    $waitlists[ $term['term_id'] ] = $term;
        foreach ($active_courses as $course) {
            if ( ($course['term_id'] == $term['term_id']) && ($course['students_waitlisted'] > 0) ) {
            $waitlists[ $term['term_id'] ][ $course['course_id'] ] = $course;                   
                    foreach ($waitlisted_reservations as $reservation) {
                        if ( ($term['term_id'] == $reservation['term_id'])
                                && ($course['course_id'] == $reservation['course_id']) ) {
                            $waitlists[ $term['term_id'] ][ $course['course_id'] ][ $reservation['reservation_id'] ] = $reservation;
                        }   
                    }
            }
        }               
} 
```

结果数组很接近，但看起来像这样：

```
Array
(
[1] => Array
    (
        [term_id] => 1
        [term_title] => Summer Session 1
        [term_begin_date] => June 25 2012
        [3] => Array
            (
                [term_id] => 1
                [course_id] => 3
                [course_title] => Biology 1
                [course_student_limit] => 8
                [students_reserved] => 6
                [students_registered] => 0
                [students_waitlisted] => 3
                [175] => Array
                    (
                        [term_id] => 1
                        [course_id] => 3
                        [reservation_id] => 175
                        [reservation_grade_level] => 12
                        [student_sis_id] => 289055
                    )
                [173] => Array
                    (
                        [term_id] => 1
                        [course_id] => 3
                        [reservation_id] => 173
                        [reservation_grade_level] => 08
                        [student_sis_id] => 111988
                    )
            )
    )
[2] => Array
    (
        [term_id] => 2
        [application_id] => 2
        [term_title] => Summer Session 2
        [term_begin_date] => July 23 2012
        [18] => Array
            ( .... 
```

有人可以指出我如何正确地制作亲子巢吗？或者这个数组是否正确，我搞砸了如何使用嵌套的 foreach 来构建表格？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T06:08:01.587

您必须再介绍一个级别。例如，替换：

```
$waitlists[ $term['term_id'] ][ $course['course_id'] ] = $course; 
```

有了这个：

```
$waitlists[ $term['term_id'] ]['courses'][ $course['course_id'] ] = $course; 
```

**更新**

为了让自己保持清醒，您还可以在 中使用引用`foreach`，例如：

```
foreach ($active_terms as $term) {
$waitlists[ $term['term_id'] ] = $term;
    foreach ($active_courses as $course) {
        if ( ($course['term_id'] == $term['term_id']) && ($course['students_waitlisted'] > 0) ) {
        $waitlists[ $term['term_id'] ][ $course['course_id'] ] = $course; 
```

也可以写成：

```
foreach ($active_terms as $term) {
    $waitlists[ $term['term_id'] ] = $term;
    $current_courses = &$waitlists[ $term['term_id'] ]['courses'];

    foreach ($active_courses as $course) {
        if ( ($course['term_id'] == $term['term_id']) && ($course['students_waitlisted'] > 0) ) {
        $current_courses[ $course['course_id'] ] = $course; 
```

缩短变量名称。您可能可以从那里解决其余的问题:)

# java - Java 压缩字符串

> ID：10647520
> 
> 赞同：13
> 
> 时间：2012-05-18T06:04:33.940
> 
> 标签：java, string, loops, compression

我需要创建一个接收字符串并返回字符串的方法。

防爆输入：AAABBBBCC

防爆输出：3A4B2C

嗯，这很尴尬，我在今天的面试中无法做到（我正在申请初级职位），现在，在家里尝试我做了一些静态工作的东西，我的意思是，不使用循环有点没用，但我不知道我是否没有足够的睡眠时间或其他什么，但我无法弄清楚我的 for 循环应该是什么样子。这是代码：

```
public static String Comprimir(String texto){

    StringBuilder objString = new StringBuilder();

    int count;
    char match;

        count = texto.substring(texto.indexOf(texto.charAt(1)), texto.lastIndexOf(texto.charAt(1))).length()+1;
        match = texto.charAt(1);
        objString.append(count);
        objString.append(match);

    return objString.toString();
} 
```

感谢您的帮助，我正在努力提高我的逻辑能力。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-05-18T06:11:12.773

循环遍历字符串，记住您上次看到的内容。每次你看到相同的字母计数。当您看到一个新字母时，将您计数的内容放在输出中，并将新字母设置为您最后一次看到的内容。

```
String input = "AAABBBBCC";

int count = 1;

char last = input.charAt(0);

StringBuilder output = new StringBuilder();

for(int i = 1; i < input.length(); i++){
    if(input.charAt(i) == last){
    count++;
    }else{
        if(count > 1){
            output.append(""+count+last);
        }else{
            output.append(last);
        }
    count = 1;
    last = input.charAt(i);
    }
}
if(count > 1){
    output.append(""+count+last);
}else{
    output.append(last);
}
System.out.println(output.toString()); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-18T06:13:05.730

您可以使用以下步骤执行此操作：

*   创建一个哈希映射
*   对每一个字符，从hashmap中获取值 - 如果值为null，则输入1 -否则，将值替换为（值+1）
*   遍历 HashMap 并保持连接（Value+Key）

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-05-18T06:09:34.163

*   使用`StringBuilder`（你做到了）
*   定义两个变量 -`previousChar`和`counter`
*   从 0 循环到`str.length()`- 1
*   每次获取`str.charat(i)`并将其与存储在`previousChar`变量中的内容进行比较
*   如果前一个字符相同，则增加一个计数器
*   如果前一个 char 不相同，并且 counter 为 1，则递增 counter
*   如果前一个字符不相同，并且计数器>1，则追加`counter + currentChar`，重置计数器
*   比较后，分配当前字符`previousChar`
*   涵盖诸如“第一个字符”之类的极端情况

类似的东西。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2017-06-16T00:07:17.007

最简单的方法：- 时间复杂度 - O(n)

```
public static void main(String[] args) {
    String str = "AAABBBBCC";       //input String
    int length = str.length();      //length of a String

    //Created an object of a StringBuilder class        
    StringBuilder sb = new StringBuilder(); 

    int count=1;   //counter for counting number of occurances

    for(int i=0; i<length; i++){
        //if i reaches at the end then append all and break the loop
        if(i==length-1){         
            sb.append(str.charAt(i)+""+count);
            break;
        }

        //if two successive chars are equal then increase the counter
        if(str.charAt(i)==str.charAt(i+1)){   
            count++;
        }
        else{
        //else append character with its count                            
            sb.append(str.charAt(i)+""+count);
            count=1;     //reseting the counter to 1
        }
   }

    //String representation of a StringBuilder object
    System.out.println(sb.toString());   

} 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-05-18T06:16:39.080

在 count=... 行中，lastIndexOf 不会关心连续值，只会给出最后一次出现的值。

例如，在字符串“ABBA”中，子字符串将是整个字符串。

此外，取子字符串的长度相当于减去两个索引。

我真的认为你需要一个循环。这是一个例子：

```
public static String compress(String text) {
    String result = "";

    int index = 0;

    while (index < text.length()) {
        char c = text.charAt(index);
        int count = count(text, index);
        if (count == 1)
            result += "" + c;
        else
            result += "" + count + c;
        index += count;
    }

    return result;
}

public static int count(String text, int index) {
    char c = text.charAt(index);
    int i = 1;
    while (index + i < text.length() && text.charAt(index + i) == c)
        i++;
    return i;
}

public static void main(String[] args) {
    String test = "AAABBCCC";
    System.out.println(compress(test));
} 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2016-03-08T07:34:19.717

请试试这个。这可能有助于打印我们通过控制台以字符串格式传递的字符数。

```
import java.util.*;

public class CountCharacterArray {
   private static Scanner inp;

public static void main(String args[]) {
   inp = new Scanner(System.in);
  String  str=inp.nextLine();
   List<Character> arrlist = new ArrayList<Character>();
   for(int i=0; i<str.length();i++){
       arrlist.add(str.charAt(i));
   }
   for(int i=0; i<str.length();i++){
       int freq = Collections.frequency(arrlist, str.charAt(i));
       System.out.println("Frequency of "+ str.charAt(i)+ "  is:   "+freq); 
   }
     }    
} 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2012-05-18T07:34:03.400

Java 不是我的主要语言，几乎从不使用它，但我想试一试：] 甚至不确定您的分配是否*需要*循环，但这里有一个正则表达式方法：

```
 public static String compress_string(String inp) {
      String compressed = "";
      Pattern pattern = Pattern.compile("([\\w])\\1*");
      Matcher matcher = pattern.matcher(inp);
      while(matcher.find()) {
         String group = matcher.group();
         if (group.length() > 1) compressed += group.length() + "";
         compressed += group.charAt(0);
      }
      return compressed;
   } 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2012-05-18T06:22:24.820

这只是另一种方法。

```
public static String compressor(String raw) {
        StringBuilder builder = new StringBuilder();
        int counter = 0;
        int length = raw.length();
        int j = 0;
        while (counter < length) {
            j = 0;
            while (counter + j < length && raw.charAt(counter + j) == raw.charAt(counter)) {
                j++;
            }

            if (j > 1) {
                builder.append(j);
            }
            builder.append(raw.charAt(counter));
            counter += j;
        }

        return builder.toString();
    } 
```

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2017-07-19T22:47:03.963

如果您正在寻找基本解决方案，则可以使用以下内容。使用一个元素遍历字符串，并在找到所有元素出现后，删除该字符。这样就不会干扰下一次搜索。

```
public static void main(String[] args) {
    String string = "aaabbbbbaccc";
    int counter;
    String result="";
    int i=0;
    while (i<string.length()){
        counter=1;
        for (int j=i+1;j<string.length();j++){ 
            System.out.println("string length ="+string.length());  
            if (string.charAt(i) == string.charAt(j)){
                  counter++;
            }
      }
      result = result+string.charAt(i)+counter; 
      string = string.replaceAll(String.valueOf(string.charAt(i)), ""); 
    }
    System.out.println("result is = "+result);
} 
```

输出将是 := result is = a4b5c3

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2012-05-18T06:21:35.757

```
private String Comprimir(String input){
        String output="";
        Map<Character,Integer> map=new HashMap<Character,Integer>();
        for(int i=0;i<input.length();i++){
            Character character=input.charAt(i);
            if(map.containsKey(character)){
                map.put(character, map.get(character)+1);
            }else
                map.put(character, 1);
        }
        for (Entry<Character, Integer> entry : map.entrySet()) {
            output+=entry.getValue()+""+entry.getKey().charValue();
        }
        return output;
    } 
```

使用多组番石榴的另一种简单方法-

```
import java.util.Arrays;

import com.google.common.collect.HashMultiset;
import com.google.common.collect.Multiset;
import com.google.common.collect.Multiset.Entry;

public class WordSpit {
    public static void main(String[] args) {
        String output="";
        Multiset<String> wordsMultiset = HashMultiset.create();
        String[] words="AAABBBBCC".split("");
        wordsMultiset.addAll(Arrays.asList(words));
        for (Entry<String> string : wordsMultiset.entrySet()) {
            if(!string.getElement().isEmpty())
                output+=string.getCount()+""+string.getElement();
        }
        System.out.println(output);
    }
} 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2019-04-29T07:03:14.663

**O(n) 方法**

不需要散列。这个想法是找到第一个**不匹配的**字符。每个字符的计数将是两个字符索引的差异。

详细答案：[https ://stackoverflow.com/a/55898810/7972621](https://stackoverflow.com/a/55898810/7972621)

*唯一的问题是我们需要添加一个虚拟字母，以便可以比较最后一个字符。*

```
private static String compress(String s){
    StringBuilder result = new StringBuilder();
    int j = 0;
    s = s + '#';
    for(int i=1; i < s.length(); i++){
        if(s.charAt(i) != s.charAt(j)){
            result.append(i-j);
            result.append(s.charAt(j));
            j = i;
        }
    }
   return result.toString();
} 
```

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2018-08-31T07:17:36.707

使用 Map 的答案不适用于像`aabbbccddabc`这种情况下输出应该是的情况`a2b3c2d2a1b1c1`。

在这种情况下，可以使用此实现：

```
private String compressString(String input) {
        String output = "";
        char[] arr = input.toCharArray();
        Map<Character, Integer> myMap = new LinkedHashMap<>();
        for (int i = 0; i < arr.length; i++) {
            if (i > 0 && arr[i] != arr[i - 1]) {
                output = output + arr[i - 1] + myMap.get(arr[i - 1]);
                myMap.put(arr[i - 1], 0);
            }
            if (myMap.containsKey(arr[i])) {
                myMap.put(arr[i], myMap.get(arr[i]) + 1);
            } else {
                myMap.put(arr[i], 1);
            }
        }

        for (Character c : myMap.keySet()) {
            if (myMap.get(c) != 0) {
                output = output + c + myMap.get(c);
            }
        }

        return output;
    } 
```

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2016-08-28T21:20:31.800

考虑下面的解决方案，其中字符串 s1 标识给定字符串 s（for 循环 1）中可用的唯一字符，在第二个 for 循环中构建一个包含唯一字符的字符串 s2，并且通过比较字符串重复它的次数s1 与 s。

```
public static void main(String[] args) 
{
    // TODO Auto-generated method stub

    String s = "aaaabbccccdddeee";//given string
    String s1 = ""; // string to identify how many unique letters are available in a string
    String s2=""; //decompressed string will be appended to this string
    int count=0;
    for(int i=0;i<s.length();i++) {
        if(s1.indexOf(s.charAt(i))<0) {
            s1 = s1+s.charAt(i);
        }
    }
    for(int i=0;i<s1.length();i++) {
        for(int j=0;j<s.length();j++) {
            if(s1.charAt(i)==s.charAt(j)) {
                count++;
            }
        }
        s2=s2+s1.charAt(i)+count;
        count=0;
    }

    System.out.println(s2);
} 
```

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2016-10-15T02:00:58.630

它可能会帮助你。

```
public class StringCompresser
{
public static void main(String[] args)
{
    System.out.println(compress("AAABBBBCC"));
    System.out.println(compress("AAABC"));
    System.out.println(compress("A"));
    System.out.println(compress("ABBDCC"));
    System.out.println(compress("AZXYC"));
}

static String compress(String str)
{
    StringBuilder stringBuilder = new StringBuilder();
    char[] charArray = str.toCharArray();
    int count = 1;
    char lastChar = 0;
    char nextChar = 0;
    lastChar = charArray[0];
    for (int i = 1; i < charArray.length; i++)
    {
        nextChar = charArray[i];
        if (lastChar == nextChar)
        {
            count++;
        }
        else
        {
            stringBuilder.append(count).append(lastChar);
            count = 1;
            lastChar = nextChar;

        }
    }
    stringBuilder.append(count).append(lastChar);
    String compressed = stringBuilder.toString();

    return compressed;
} 
} 
```

输出：

```
3A4B2C
3A1B1C
1A
1A2B1D2C
1A1Z1X1Y1C 
```

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2015-09-27T06:17:11.357

```
public static char[] compressionTester( char[] s){

    if(s == null){
        throw new IllegalArgumentException();
    }

    HashMap<Character, Integer> map = new HashMap<>();
    for (int i = 0 ; i < s.length ; i++) {

        if(!map.containsKey(s[i])){
            map.put(s[i], 1);
        }
        else{
            int value = map.get(s[i]);
            value++;
            map.put(s[i],value);
        }           
    }               
    String newer="";

    for( Character n : map.keySet()){

        newer = newer + n + map.get(n); 
    }
    char[] n = newer.toCharArray();

    if(s.length > n.length){
        return n;
    }
    else{

        return s;               
    }                       
} 
```

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2016-03-06T03:10:33.150

```
package com.tell.datetime;

import java.util.Stack;
public class StringCompression {
    public static void main(String[] args) {
        String input = "abbcccdddd";
        System.out.println(compressString(input));
    }

    public static String compressString(String input) {

        if (input == null || input.length() == 0)
            return input;
        String finalCompressedString = "";
        String lastElement="";
        char[] charArray = input.toCharArray();
        Stack stack = new Stack();
        int elementCount = 0;
        for (int i = 0; i < charArray.length; i++) {
            char currentElement = charArray[i];
            if (i == 0) {
                stack.push((currentElement+""));
                continue;
            } else {
                if ((currentElement+"").equalsIgnoreCase((String)stack.peek())) {
                    stack.push(currentElement + "");
                    if(i==charArray.length-1)
                    {
                        while (!stack.isEmpty()) {

                            lastElement = (String)stack.pop();
                            elementCount++;
                        }

                        finalCompressedString += lastElement + "" + elementCount;
                    }else
                    continue;
                }

                else {
                    while (!stack.isEmpty()) {

                        lastElement = (String)stack.pop();
                        elementCount++;
                    }

                    finalCompressedString += lastElement + "" + elementCount;
                    elementCount=0;
                    stack.push(currentElement+"");
                }

            }
        }

        if (finalCompressedString.length() >= input.length())
            return input;
        else
            return finalCompressedString;
    }

} 
```

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2020-08-30T14:35:04.307

```
public class StringCompression {
    public static void main(String... args){
        String s="aabbcccaa";
        //a2b2c3a2

        for(int i=0;i<s.length()-1;i++){
            int count=1;
            while(i<s.length()-1 && s.charAt(i)==s.charAt(i+1)){
                count++;
                i++;
            }
            System.out.print(s.charAt(i));
            System.out.print(count);
        }
        System.out.println(" ");
    }
} 
```

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2022-01-27T21:49:00.947

这是一个leet code问题443。这里的大部分答案都是使用StringBuilder或者HashMap，实际的问题陈述是使用输入的char数组并就地修改数组来解决。

```
public int compress(char[] chars) {
    int startIndex = 0;
    int lastArrayIndex = 0;
    if (chars.length == 1) {
      return 1;
    }
    if (chars.length == 0) {
      return 0;
    }
    for (int j = startIndex + 1; j < chars.length; j++) {
      if (chars[startIndex] != chars[j]) {

        chars[lastArrayIndex] = chars[startIndex];
        lastArrayIndex++;
        if ((j - startIndex) > 1) {
          for (char c : String.valueOf(j - startIndex).toCharArray()) {
            chars[lastArrayIndex] = c;
            lastArrayIndex++;
          }
        }
        startIndex = j;
      }
      if (j == chars.length - 1) {
        if (j - startIndex >= 1) {
          j = chars.length;
          chars[lastArrayIndex] = chars[startIndex];
          lastArrayIndex++;
          for (char c : String.valueOf(j - startIndex).toCharArray()) {
            chars[lastArrayIndex] = c;
            lastArrayIndex++;
          }
        } else {
          chars[lastArrayIndex] = chars[startIndex];
          lastArrayIndex++;
        }
      }
    }
    return lastArrayIndex;
  }
} 
```

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2015-08-14T07:29:31.873

下面的代码将要求用户输入一个特定的字符来计算出现次数。

```
import java.util.Scanner;

class CountingOccurences {

public static void main(String[] args) {

    Scanner inp = new Scanner(System.in);

    String str;
    char ch;
    int count=0;

    System.out.println("Enter the string:");
    str=inp.nextLine();
    System.out.println("Enter th Char to see the occurence\n");
    ch=inp.next().charAt(0);

    for(int i=0;i<str.length();i++)
    {
                if(str.charAt(i)==ch)
        {
            count++;
                }
    }

        System.out.println("The Character is Occuring");
        System.out.println(count+"Times");

}

} 
```

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2017-10-29T08:00:29.467

```
public class StringCompression {
    public static void main(String[] args){
        String s = "aabcccccaaazdaaa";

        char check = s.charAt(0);
        int count = 0;

        for(int i=0; i<s.length(); i++){
            if(s.charAt(i) == check) {
                count++;
                if(i==s.length()-1){
                System.out.print(s.charAt(i));
                System.out.print(count);
             }
            } else {
                System.out.print(s.charAt(i-1));
                System.out.print(count);
                check = s.charAt(i);
                count = 1;
                if(i==s.length()-1){
                    System.out.print(s.charAt(i));
                    System.out.print(count);
                 }
            }
        }
    } 
```

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2019-08-27T13:37:58.277

```
 // O(N) loop through entire character array
 // match current char with next one, if they matches count++
 // if don't then just append current char and counter value and then reset counter.
// special case is the last characters, for that just check if count value is > 0, if it's then append the counter value and the last char

 private String compress(String str) {
        char[] c = str.toCharArray();
        String newStr = "";
        int count = 1;
        for (int i = 0; i < c.length - 1; i++) {
            int j = i + 1;
            if (c[i] == c[j]) {
                count++;
            } else {
                newStr = newStr + c[i] + count;
                count = 1;
            }
        }

        // this is for the last strings...
        if (count > 0) {
            newStr = newStr + c[c.length - 1] + count;
        }

        return newStr;
    } 
```

# php - PHP JSON 和 Android

> ID：10647537
> 
> 赞同：1
> 
> 时间：2012-05-18T06:06:22.400
> 
> 标签：php, android, html, json

现在在我的课堂上，我们正在为我的学校构建一个 android 应用程序。这堂课没有实际的开会时间，所以我班上的一些人没有面对面交谈过。其中一个人一直在为不同的提要编写 json 和 php。问题是他给我发了一个 php 文件，我不完全确定如何解析其中的信息以便能够在应用程序上显示提要。

我相当精通 Java 和 XML，而不是 PHP（我现在正在学习）或 JSON（大约一年前使用过一次）

所以我有3个问题

1.我的应用需要什么发送页面才能访问不同的提要？

2.数据库应该放在哪里？

3.我应该如何解析从这个页面发送给我的信息。

仅供参考，该应用程序现在只是一个基本设计，因此无需担心课程或任何事情。

这是PHP文件

```
<?php

$server = "localhost";
$user_name = "web";
$password = "internet";
$db_name = "cptc";

@$db = mysqli_connect($server, $user_name, $password, $db_name);

if (mysqli_connect_errno()) {
    echo 'Error: could not connect to database.  Please try again later.';
    exit ;
}

mysqli_select_db($db, $db_name) or die("could not connect");

$commandType = 'unknown';
$feedURL="";
if (isset($_GET['cmd'])) {
    $commandType = trim($_GET['cmd']);
    $commandType = strtolower($commandType);
}
if ($commandType == 'staff') {

    if (isset($_GET['fname']) && isset($_GET['lname'])) {

        $fname = trim($_GET['fname']);
        $fname = strtolower($fname);
        $lname = trim($_GET['lname']);
        $lname = strtolower($lname);

        $query = "SELECT * FROM staff WHERE fname like '" . $fname . "%' AND '" . $lname . "%'";

    } else if (isset($_GET['lname'])) {
        $commandType = trim($_GET['cmd']);
        $commandType = strtolower($commandType);
        $lname = trim($_GET['lname']);
        $lname = strtolower($lname);
        $query = "SELECT * FROM staff WHERE lname like '" . $lname . "%'";

    } else if (isset($_GET['fname'])) {
        $commandType = trim($_GET['cmd']);
        $commandType = strtolower($commandType);
        $lname = trim($_GET['fname']);
        $lname = strtolower($fname);
        $query = "SELECT * FROM staff WHERE lname like '" . $fname . "%'";
    } else {
        $commandType = trim($_GET['cmd']);
        $commandType = strtolower($commandType);
        $query = "SELECT * FROM " . $commandType;
    }

    $result = mysqli_query($db, $query);

    if (mysqli_num_rows($result)) {

        echo '{"Data":[';

        $first = true;
        $row = mysqli_fetch_assoc($result);

        while ($row = mysqli_fetch_row($result)) {

            if ($first) {
                $first = false;
            } else {
                echo ',';
            }
            echo json_encode($row);
        }
        echo ']}';
    } else {
        echo '[]';
    }
} else if ($commandType == 'event') {
    if (isset($_GET['current']) && isset($_GET['future'])) {
        $current = $_GET['current'];
        $current = mktime(0, 0, 0, date("m"), date("d"), date("Y"));
        $currentDate = date("Y-m-d", $current);

        $future = $_GET['future'];
        $future = mktime(0, 0, 0, date("m"), date("d") + 7, date("Y"));
        $futureDate = date("Y-m-d", $future);
        $userid = 'michael.herrera1977%40gmail.com';
        $magicWord = '200f9cbc38a87ae4f65051f26d19e5a4';
        $feedURL = "http://www.google.com/calendar/feeds/$userid/private-$magicWord/basic?start-min=$currentDate&start-max=$futureDate";

    } else if (isset($_GET['current'])) {
        $current = $_GET['current'];
        $current = mktime(0, 0, 0, date("m"), date("d"), date("Y"));
        $currentDate = date("Y-m-d", $current);
        $userid = 'michael.herrera1977%40gmail.com';
        $magicWord = '200f9cbc38a87ae4f65051f26d19e5a4';
        $feedURL = "http://www.google.com/calendar/feeds/$userid/private-$magicWord/basic?start-min=$currentDate";

    } else if (isset($_GET['future'])) {
        $future = $_GET['future'];
        $future = mktime(0, 0, 0, date("m"), date("d") + 7, date("Y"));
        $futureDate = date("Y-m-d", $future);
        $userid = 'michael.herrera1977%40gmail.com';
        $magicWord = '200f9cbc38a87ae4f65051f26d19e5a4';
        $feedURL = "http://www.google.com/calendar/feeds/$userid/private-$magicWord/basic?start-max=$futureDate";
    }

    // read feed into SimpleXML object
    $xmlSimple = simplexml_load_file($feedURL);

    //gets info based on CMD this will be pulled up if CMD = events
    //if(isset($_GET['events']))

    //put each title and content from each date into the array
    foreach ($xmlSimple->entry as $entry) {
        $title = stripslashes($entry -> title);
        $content = stripslashes($entry -> content);
        $eventsArray[] = array('Title' => $title, 'content' => $content);

    }
    //clean up json string for easy cheesy use and to get the when, where and event seperated
    $json = json_encode($eventsArray);
    $json = str_replace('"content":', '', $json);
    $json = str_replace('\n', '', $json);
    $json = str_replace('"When:', '"When":"', $json);
    $json = str_replace('Where:', '","Where":"', $json);
    $json = str_replace('Event Status: confirmed', '', $json);
    $json = str_replace('Event Description:', '","Event Description":"', $json);
    $json = preg_replace('/\s+/', '%20', $json);

    echo $json;
}
?> 
```

其中还包含一个 html 文件，

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>dbphp</title>
        <meta name="author" content="Michael" />
        <!-- Date: 2012-05-03 -->
    </head>
    <body>
        <form action="dbphp.php" method="get" >
            <!--<input type="hidden" name="cmd" value="staff">
            <input type="hidden" name="fname" value="m">
            <input type="hidden" name="lname" value="j"/><br />-->
            <input type="hidden" name="cmd" value="event">
            <input type="hidden" name="current" value="5/10/2012">
            <input type="hidden" name="future" value="5/15/2012"/>
            <input type="submit" name="submit" value="enter staff member" />

        </form>

    </body>
</html> 
```

我真的希望我能和作者见面，但我似乎不想锻炼。

您能提供的任何帮助将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T07:59:19.933

从外观上看，这是一个仅限 PHP 的问题。该 API 似乎`?`在 PHP 文件的末尾使用了参数，所以我们有：

1.  `dbphp.php?cmd=staff&lname=<last_name>&fname=<first_name>`
    *   `staff`在表中查找用户。
2.  `dbphp.php?cmd=<table_name>`
    *   把所有东西都拿出来`table_name`。哎呀！
3.  `dbphp.php?cmd=event?current=<date>&future=<date>`
    *   查找 michael.herrera1977 的 Google 日历。json 返回值在返回之前被严重破坏

该数据库位于 PHP 所在的同一台服务器上，`localhost`. 要解析输出，有标准`JSONArray`和`JSONObject`类可以帮助您。我还会删除所有`str_replace`和`preg_replace`代码，因为它们可能会使 Google 的 JSON 输出无效。

# java - 如果接口没有构造函数，那么 Object 类是接口的超类吗？

> ID：10647538
> 
> 赞同：5
> 
> 时间：2012-05-18T06:06:23.097
> 
> 标签：java, class, interface, super

我读到接口没有构造函数，这意味着它不会调用其超类的 super() 。我还读到 Java 中的每个类都是`Object`

那么接口呢，它是Object的子类吗？为什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-18T06:08:07.623

不，这不对。一个接口不能被实例化形成一个对象，它**不是**一个类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T06:09:31.187

没有接口是 Object 类的子类，因为接口不能扩展类，无论是隐式还是显式。

构造函数的原因是创建一个实例，因为接口不能被实例化，因为它们不提供任何功能，它们只是一个契约，只有类可以被实例化，因此它们具有构造函数。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-18T07:14:47.567

**接口是方法定义的命名集合（没有实现）。接口还可以包含常量声明。**

接口和类有一些基本的区别，其中之一是没有构造函数。实际上接口不是为此而设计的，您无法实例化接口，但是您仍然可以实例化接口。

```
interface Interface{
     abstract String fun();
 }

Interface interfc=new Interface() {
    @Override
    public String fun() {
        return super.toString();
    }
};

Type type=interfc.getClass(); 
```

这里的接口已经被实例化为匿名类。但是你仍然不能根据java语言规范在这里放置构造函数。但是你仍然可以使用`super`class 这将立即成为这个匿名类的超类。

```
An anonymous class cannot have an explicitly declared constructor. 
```

还有一个替代解决方案是在超类中使用最终变量。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-18T14:28:30.690

虽然有些人建议将接口视为“可以做”而不是“是一个”关系，但我认为将它们视为“是一个 __er”或“是一个 __able 的东西”更有帮助。用现实世界的比喻来说，一本书（死树版）、一本装订的纸质杂志、一份报纸、一张促销广告传单、一个标志和一张上面写着一些字的纸片，都是“可读的东西” ”。如果有人给另一个人看一本书并问“这是一个可读的东西”，答案将是它是。另一方面，如果有人向另一个人展示一本书并问“这是什么？” 回复不会是“可读的东西”，而更可能是“一本书”，或者可能是“小说美国第二版的精装第五印本”

Java 接口也是如此。一个对象可以实现任意数量的接口，但是每个对象除了它支持的接口集之外还必须有一个类型。请注意，可以定义一个方法，该方法将返回实现接口的未知类型的新对象；这相当于问某人“请给我读点东西”，而不指定需要什么类型的对象。这种方法可以选择要返回的对象类型，并给调用者一个“可读”的对象。然而，与一般方法不同，构造函数要求调用者准确指定所需的对象类型。仅仅指定一个对象是“可读的”是不够的。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-08-09T06:22:49.973

没有接口不能有构造函数。因为接口支持多重继承。这意味着如果一个类继承了两个接口，那么由于构造函数链接，从类构造函数中调用哪个构造函数将会有歧义。

# php - 从表单发送的电子邮件未传递给收件人

> ID：10647541
> 
> 赞同：-2
> 
> 时间：2012-05-18T06:06:36.830
> 
> 标签：php, html, css, email

我制作了一个 php 表单，但我遇到了问题。表单正在发送消息并显示感谢消息，但我的 gmail 收件箱中没有收到该消息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:10:47.050

检查您的服务器邮件日志。检查您的 Gmail 垃圾文件夹。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T06:12:49.687

好贴代码！我使用了[PHP](http://php.net/manual/en/function.mail.php)的邮件功能，它工作。或许 Gmail 正在过滤 PHP 发送的电子邮件。尝试使用不同域中的电子邮件帐户来缩小问题所在。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-18T06:14:57.143

Gmail 可能会将电子邮件视为垃圾邮件。尝试发送到不在 Gmail 上的电子邮件帐户。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T21:04:26.477

确保您的往返设置正确。如果发件人不是 gmail 喜欢的地址，那么它可能会被视为垃圾邮件。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-18T06:13:30.117

这可能是数百个问题之一，其中许多问题超出了您的控制范围。

我在尝试制作一个简单的 PHP 应用程序来发送电子邮件时遇到了类似的问题——有一天它可以工作，第二天就不行了。没有错误。没有迹象表明它失败了。没有什么。

为了调试问题，我在虚拟机上安装了 Ubuntu，这意味着我有自己的网络 abd 邮件服务器可以使用 - 可以轻松检查服务器端日志和多个收件人等。基本上你可以 100% 控制 - 如果它在这个环境但不是在现实世界中，很可能不是你的错！

原来，我的网络主机已经设置了新的安全策略，“发件人：”地址必须是他们系统上的物理邮箱。不是我的托管用户名。不是转发的网址。- 他们只是懒得告诉任何人他们已经做到了！

# continuous-integration - Hudson：java.io.IOException：无法运行程序“cvs”：CreateProcess error=2，系统找不到指定的文件

> ID：10647543
> 
> 赞同：1
> 
> 时间：2012-05-18T06:06:51.847
> 
> 标签：continuous-integration, hudson

我正在将 hudson 2.2.0 用于测试应用程序。在基本级别上，我想从我的 cvs 中查看。为此，我创建了一个新工作并进行了配置。但是在构建这个工作时它给了我错误。下面是错误控制台：

`Started by user anonymous [formcsam] $ cvs -Q -z3 -d :pserver:username:password@host:/root co -P -d workspace -D "Friday, May 18, 2012 5:51:37 AM UTC" core/myapp java.io.IOException: Cannot run program "cvs" (in directory "C:\Documents and Settings\sanjay\.hudson\jobs\formcsam"): CreateProcess error=2, The system cannot find the file specified at java.lang.ProcessBuilder.start(Unknown Source) at hudson.Proc$LocalProc.<init>(Proc.java:192) at hudson.Proc$LocalProc.<init>(Proc.java:164) at hudson.Launcher$LocalLauncher.launch(Launcher.java:639) at hudson.Launcher$ProcStarter.start(Launcher.java:274) at hudson.Launcher$ProcStarter.join(Launcher.java:281) at hudson.scm.CVSSCM.run(CVSSCM.java:575) at hudson.scm.CVSSCM.run(CVSSCM.java:585) at hudson.scm.CVSSCM.checkout(CVSSCM.java:756) at hudson.scm.CVSSCM.checkout(CVSSCM.java:319) at hudson.model.AbstractProject.checkout(AbstractProject.java:1479) at hudson.model.AbstractBuild$AbstractRunner.checkout(AbstractBuild.java:507) at hudson.model.AbstractBuild$AbstractRunner.run(AbstractBuild.java:424) at hudson.model.Run.run(Run.java:1366) at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:46) at hudson.model.ResourceController.execute(ResourceController.java:88) at hudson.model.Executor.run(Executor.java:145) Caused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified at java.lang.ProcessImpl.create(Native Method) at java.lang.ProcessImpl.<init>(Unknown Source) at java.lang.ProcessImpl.start(Unknown Source) ... 17 more [DEBUG] Skipping watched dependency update for build: formcsam #1 due to result: FAILURE Finished: FAILURE`

然后我复制了相同的命令以从命令提示符启动它。从命令提示符它工作正常。所以在启动相同的命令时我没有得到哈德森的问题。

请帮帮我。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T08:02:26.253

只是忘记在 hudson 的配置中添加 cvs.exe。

# android - 启动模拟器时，如何避免进程系统没有响应。等待/确定 WVGA800 API 级别 15

> ID：10647546
> 
> 赞同：1
> 
> 时间：2012-05-18T06:07:05.590
> 
> 标签：android, android-emulator, android-4.0-ice-cream-sandwich

问题：我使用 WVGA800 Skin 启动模拟器，并且总是显示“进程系统没有响应”消息并询问“您要关闭它吗？等待/确定”？

描述：我在具有 2GB RAM 的 Windows Centrino Duo 机器上从 AVD 管理器创建了 avd。从 1.6 版到 2.3.3 版的 Android 模拟器开始运行良好。我一直在使用 api 级别 13、10、8、11、4，但我从未遇到过这个问题。

但我能够部署和使用诸如 hello world、带有超链接文本的 viewflipper 之类的应用程序。

使用 web 服务的应用程序之一在调用在早期版本的模拟器中工作的 web 服务时失败。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-23T09:29:03.040

您可以尝试 ICS Intel x86 映像。你可以在[这里](http://software.intel.com/en-us/articles/android-ice-cream-sandwich-x86-emulator-image/)找到它。

# python - Python 文档字符串搜索 - 类似于 MATLAB `lookup` 或 Linux `apropos`

> ID：10647548
> 
> 赞同：7
> 
> 时间：2012-05-18T06:07:16.223
> 
> 标签：python

有没有办法*从解释器执行模块和函数文档字符串的关键字搜索？*

通常，当我想用​​ Python 做某事时，我知道有一个模块可以做我想做的事情，但我不知道它叫什么。我想要一种搜索*​​“执行 X 的函数或模块的名称”的*方法，而无需使用 Google 搜索*“python do X”*。

以“如何打开 URL”为例？在 Linux shell 中，我可能会尝试`>> apropos open url`. 在 MATLAB 下，我可能会尝试`>> lookup open url`. 这两个都会给我列出在其手册页或文档字符串中某处包含“open”和“URL”字样的函数或模块。例如：

```
urllib.urlopen   : Create a file-like object for the specified URL to read from.
urllib2.urlopen  : ...
... 
```

我想要搜索所有已安装模块的东西，而不仅仅是已`import`编入当前会话的模块。

*是的，谷歌是搜索 Python 文档字符串的好方法，但延迟有点高。;)*

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-18T20:02:14.350

对此的内置支持来自`pydoc.apropos`：

```
import pydoc
pydoc.apropos('Zip')
# output: zipimport - zipimport provides support for importing Python modules from Zip archives. 
```

如您所见，这几乎是无用的。每当无法导入模块时，它也会停止工作，这可能意味着“总是”，具体取决于您的包管理风格。

我没有使用但看起来很有希望的替代方法是[apropos.py](https://github.com/philippp/apropos.py)：

> Python 的深度、肮脏和详尽的“恰当”。爬取 system.path 中的所有库，并将查询字符串与所有模块名称以及顶级模块的类、函数和方法名称以及文档字符串进行匹配。
> 
> 用法：./apropos.py
> 
> 此模块是由于 PyDoc 的 apropos 方法的限制而创建的，当无法导入顶级模块之一时，该方法会严重失败。本机 apropos 方法也不会爬取该模块所做的文档字符串或深层模块名称。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-09T11:42:34.117

使用以下命令：

```
pydoc -k 
```

# google-app-engine - 未绑定本地错误 Google App Engine

> ID：10647550
> 
> 赞同：1
> 
> 时间：2012-05-18T06:07:44.870
> 
> 标签：google-app-engine

我正在编写一个带有 SEO 友好 URL 的博客应用程序。当我访问无效的网址时，我收到以下错误：

> UnboundLocalError：分配前引用的局部变量“路径”

有效的网址工作正常。

这是代码：

```
class ViewPost(BaseHandler):
    def get(self, slug):
        post = Posts.all()
        post.filter('path =', slug)
        results = post.fetch(1)
        for post in results:
            path = post.path
        if path == slug:
            self.render_template('post.html', {'post':post})
        else:
            self.response.out.write('no post with this slug') 
```

以下是没有错误的[有效](http://busilinks.appspot.com/2012/05/first-post)示例和引发错误的[无效示例。](http://busilinks.appspot.com/2012/05/junk)[您可以在无效](http://busilinks.appspot.com/2012/05/junk)示例中看到完整的堆栈跟踪。

完整代码在[github](https://github.com/buslinks/myblog/blob/master/views.py)第 62 行。

提前致谢。我是 python 新手，所以非常感谢您的帮助和反馈。

**更新**

1.  对于上下文，我正在比较两个字符串以确定我是否有要提供的内容。

2.  我期望看到的：如果 slug 和 path 相等，它应该呈现模板。如果不相等：它应该以“no post with this slug”消息进行响应。

3.  我做过的其他事情。

    *   我已经验证我得到了一个 slug 和路径值。

    *   我试过改变这样的想法。

这阻止了我得到错误，但我没有得到我的 else 响应。相反，我得到一个空白页面，在源代码中没有任何内容。

```
class ViewPost(BaseHandler):
def get(self, slug):
    post = Posts.all()
    post.filter('path =', slug)
    results = post.fetch(1)
    for post in results:
        path = post.path
        if path == slug:
            self.render_template('post.html', {'post':post})
        else:
            self.response.out.write('no post with this slug') 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T07:35:30.387

在此版本的代码中，您会看到空白页，因为从未输入过 for 循环。由于 slug 无效，结果为 null 或空。结果，永远不会到达 if 语句，这意味着 if 和 else 都不会触发。

```
class ViewPost(BaseHandler):
def get(self, slug):
    post = Posts.all()
    post.filter('path =', slug)
    results = post.fetch(1)
    for post in results:
        path = post.path
        if path == slug:
            self.render_template('post.html', {'post':post})
        else:
            self.response.out.write('no post with this slug') 
```

在此示例中，您的缩进设置为始终到达 if 语句，而与 slug 无关。但是，如上例所示，结果要么为空，要么为空。for 循环永远不会运行，这意味着您的路径变量永远不会设置。

```
class ViewPost(BaseHandler):
    def get(self, slug):
        post = Posts.all()
        post.filter('path =', slug)
        results = post.fetch(1)
        for post in results:
            path = post.path
        if path == slug:
            self.render_template('post.html', {'post':post})
        else:
            self.response.out.write('no post with this slug') 
```

当尝试比较时，这当然会导致以下错误消息`path == slug`：

> UnboundLocalError：分配前引用的局部变量“路径”

基本上，要解决这个问题，您需要使用一个值初始化路径，以便在没有赋值的情况下不会引用它。将 path 设置为保证与您的 slug 不同的默认值，如果 slug 没有导致有效的记录，那么您的 else 将触发。

**解决方案：**

带有 `path = 'none` 的示例，以及缩进设置，以便始终到达 if 语句。

```
class ViewPost(BaseHandler):
    def get(self, slug):
        path = 'none'
        post = Posts.all()
        post.filter('path =', slug)
        results = post.fetch(1)
        for post in results:
            path = post.path
        if path == slug:
            self.render_template('post.html', {'post':post})
        else:
            self.response.out.write('no post with this slug') 
```

# c# - 在 C# 中未引发异常。只是踢出常规。这是一个错误吗？

> ID：10647551
> 
> 赞同：1
> 
> 时间：2012-05-18T06:07:51.807
> 
> 标签：c#, .net, visual-studio-2010

前几天我有一个经验，我的代码应该引发异常，但它只是退出了例程并继续运行（即它是一个 WinForms 项目，所以“继续”我的意思是控制权刚刚回到等待进一步用户输入的表单）。

我认为这很奇怪，但解决了问题并且不担心。今天，我在另一个项目中发生了同样的事情，我有一个 XmlDocument 对象 Load()'ing 一个不存在的文件。它本应引发异常，但它只是退出了例程并将控制权交还给了表单。

有没有其他人经历过这种行为或知道什么可能导致它，或者这听起来像 VS 2010 中的错误？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-18T12:19:03.030

我得到了同样的问题。就我而言，问题仅发生在开发中，而不是发布后。要获取错误，我发现您需要更改 VS 中的设置。在“调试”菜单中，单击“异常”项。这告诉 VS 何时应该因错误而中断。您需要检查**Common Language Runtime Exception** Throw 选项。它应该可以解决您的问题。您需要为每个项目执行此操作。

# python - 如何通过tipfy创建普通cookie并将其附加到响应中

> ID：10647552
> 
> 赞同：0
> 
> 时间：2012-05-18T06:07:57.423
> 
> 标签：python, google-app-engine, tipfy

嗨，嗯，使用 tipfy 创建 cookie [不安全] 时遇到问题。小费班

```
class SessionStore(object):
#: A dictionary with the default supported backends.
default_backends = {
    'securecookie': SecureCookieSession,
} 
```

实现了securecookie，我不能使用这个实现来创建一个在http处理程序中工作的cookie。任何人都可以给我一个解决方案吗？先感谢您

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T23:15:39.907

阅读 Tipfy 的文档，securecookie 似乎只意味着 cookie 被验证为没有在客户端被更改，并且与 HTTP 与 HTTPS 无关：

> 安全 cookie 是无法从客户端更改的 cookie，因为它们添加了一个校验和，该校验和在读​​取时在服务器中验证

查看此处的文档以获取更多信息：[http ://www.tipfy.org/wiki/extensions/session/](http://www.tipfy.org/wiki/extensions/session/)

# android - 何时需要在视图上执行 invalidate()？

> ID：10647558
> 
> 赞同：57
> 
> 时间：2012-05-18T06:08:22.737
> 
> 标签：android, android-imageview, android-view

我对[这个问题](https://stackoverflow.com/questions/10607821/swapping-image-in-imageview/10608396#10608396)的回答刚刚被接受，但我开始想知道什么时候需要使视图无效，什么时候不需要？

经过一番思考，我意识到它*应该*或多或少像这样工作：

*   “一切”的实际绘制发生在之后`onResume()`
*   在“空闲”时间可以重绘屏幕的某些部分，但只能重绘那些`invalidated`（以及下面的所有内容）

因此，看起来，如果我在之后更改某些`onResume()`内容（例如，作为对按钮单击的响应，我应该`invalidate()`更改`View`）。

但是，从[这个问题](https://stackoverflow.com/questions/10607821/swapping-image-in-imageview/10608396#10608396)中的scana所说的来看，它一定比那更复杂，并且它有时取决于使用什么方法。

例如关于一个人是否使用

```
lastClicked.setImageBitmap(); 
```

或者

```
lastClicked.setImageResource(); 
```

那么，什么时候需要在视图上执行 invalidate() 以及它是如何工作的呢？

* * *

## 回答 #1

> 赞同：95
> 
> 时间：2012-05-18T06:27:54.230

（请考虑接受一些答案）

通常，`invalidate()`意味着“在屏幕上重绘”并导致调用视图的`onDraw()`方法。因此，如果某些内容发生了变化并且需要反映在屏幕上，您需要调用`invalidate()`. 但是，对于内置小部件，您很少（如果有的话）需要自己调用它。当您更改小部件的状态时，内部代码将`invalidate()`根据需要调用，您的更改将反映在屏幕上。例如，如果您调用`TextView.setText()`，在进行大量内部处理（文本是否适合屏幕，是否需要省略等）后，`TextView`将在返回`invalidate()`之前调用。`setText()`对于其他小部件也是如此。

如果您实现自定义视图，则需要`invalidate()`在支持模型更改并且需要重绘视图时调用。它还可以用于创建简单的动画，在其中更改状态，然后调用`invalidate()`，再次更改状态等。

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2012-05-18T06:37:01.453

通常，系统会自动为您的小部件处理调整大小、隐藏、显示和大量其他事情，但如果绘制像素或支持数据的底层缓冲区已更改或陈旧（您交换视图上的图像资源或原始数据集更改）。发生这种情况是因为操作系统无法知道数据以它所做的特定方式更改。

在处理绘图的这些情况下，您必须使用*Widget.invalidate()*告诉系统其底层数据状态不佳，并且正如您提到的那样，重新绘图会在主线程上排队。根据系统实现和 Android 版本，系统跟踪的更改会有所不同，但我通常做的是假设系统资源（字节数组、字符数组、资源索引、在上下文上手动绘制）没有被跟踪并且需要*无效*其他一切都将由系统处理。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-09-15T16:00:38.880

Please remember that drawing on the screen is frequent process, whenever you update a view, that change should be propogated and redrawn to notify such change right. `invalidate()` is a trigger method,that signals force reDrawing of any view you wish to show changes for.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-01-24T17:12:33.113

I had this problem when I wanted to draw a textPaint! My code was

```
 canvas.drawPaint(textPaintNumber)
    canvas.drawText("MyText", 30F, 63F, textPaintNumber) 
```

I cleared the first lint and the problem was solved

```
 canvas.drawText("MyText", 30F, 63F, textPaintNumber) 
```

# c# - Sqlbulkcopy：减少迭代

> ID：10647565
> 
> 赞同：0
> 
> 时间：2012-05-18T06:09:07.960
> 
> 标签：c#, performance, sqlbulkcopy

我使用**C#** `SqlBulkCopy`类将大**XML**文件加载到**SQL server**。我已经实现`IDataReader`了，它循环通过 XML 并获取值。该文件包含很多表，所以我必须调用`SqlBulkCopy`. WriteToServer 方法的数量是我在源 XML 文件中拥有的表数量的两倍。每次 DataReader 循环遍历整个文件时，都会花费大量时间。如何提高我的应用程序的性能？有没有更好的方法来做我想做的事？

这是我的程序计划：

1.  循环通过源文件 - 确定表及其列（和数据类型）。
2.  在 Sql Server 上创建表。
3.  通过循环源文件将数据加载到Sql Server，并一一获取我确定的每个表的值。

# php - 包语言 .ini 或 .php

> ID：10647567
> 
> 赞同：0
> 
> 时间：2012-05-18T06:09:27.813
> 
> 标签：php, internationalization, ini

是否有一个基准来衡量`parse_ini_file`和包括通用之间的性能？

我需要使用语言包，我怀疑我是否使用`.ini`或`.php`

有人可以告诉我每种方式的积极和消极方面吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:15:46.277

这取决于如何编辑这些文件；您是否正在考虑使用 .ini 格式来帮助翻译人员？如果是这样，那是一个重要的设计决策。

如果谁编辑文件并不重要，那么接下来就是性能。在这种情况下，`parse_ini_file`总是会变慢；你无法击败`include()`，因为它可以被高度优化（使用操作码缓存，想想`APC`）。

即使性能相同，.ini 的表现力也是有限的；一个.php的数据结构可以描述更多，可以使用对象等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T06:16:30.817

您应该使用[Gettext](http://php.net/manual/en/book.gettext.php)，国际化的常用方式

[http://en.wikipedia.org/wiki/Gettext](http://en.wikipedia.org/wiki/Gettext)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-17T13:35:40.387

你可以看看这里：[PHP ini vs array performance](https://stackoverflow.com/questions/16606741/php-ini-vs-array-performance/16606811?noredirect=1#comment23873448_16606811)

我已经在包含数组的 php 文件和每个包含 10.000 个值的 ini 文件之间进行了测试。

数组（php）获胜；）

并且数组每次都会获胜，因为服务器基本上针对读取 php 文件进行了优化（另见 Jacks 答案）并且可以更快地加载数组。读取 ini 文件也意味着将 ini 解析为数组。

br

# jenkins - 从 Jenkins 开始 Cassandra

> ID：10647571
> 
> 赞同：1
> 
> 时间：2012-05-18T06:09:45.877
> 
> 标签：jenkins, cassandra

我正在尝试从 Jenkins（最新版本，1.463）启动一个 Cassandra 实例（0.8.10）。

在“自由式项目”工作中，我有一个“执行 shell”构建步骤，我尝试了几种方法：

```
.../tools/apache-cassandra-0.8.10/bin/cassandra -f 
```

和

```
.../tools/apache-cassandra-0.8.10/bin/cassandra 
```

第一种方法可以启动 Cassandra，但 Jenkins 没有退出构建并继续构建。如果我停止构建，Cassandra 进程也会终止。

第二种方法失败了，因为 Cassandra 项目在构建完成后立即终止。我也试过：

```
.../tools/apache-cassandra-0.8.10/bin/cassandra -f & 
```

这有点蹩脚，无论如何都不起作用。

关于如何从 Jenkins 开始 Cassandra 的任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T06:40:22.713

尝试将 nohup 与`&`. 还将 stdout 和 stderr 通过管道传输到文件或 /dev/null：

```
nohup .../tools/apache-cassandra-0.8.10/bin/cassandra -f > /dev/null 2>/dev/null & 
```

# c# - C# 中的接口是继承的还是实现的

> ID：10647573
> 
> 赞同：-1
> 
> 时间：2012-05-18T06:10:13.070
> 
> 标签：c#

我在 C# 中有一个简单的问题

**接口是继承的还是实现的？**

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:17:36.360

类实现接口。抽象类正在被继承。一个类可以从一个类继承，但可以实现任意数量的接口。

但是，接口也可以“继承”其他接口。他们并没有真正实现它们，所以更像是继承他们的接口契约，但他们可以实现多个接口，所以也不是真正的继承。将实现从其他接口继承的接口的类必须以递归方式实现原始接口中包含的所有接口协定，并且它也是基接口。

您还应该阅读[抽象类](http://msdn.microsoft.com/en-us/library/ms173150.aspx)，以获取有关一般主题的更多有用信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T06:17:58.850

那只是术语。根据[一个 MSDN 页面](http://msdn.microsoft.com/en-us/library/ms173156.aspx)和[另一个](http://msdn.microsoft.com/en-us/library/87d83y5b.aspx)页面，一个类或结构**实现**了一个接口。但是，当您声明一个新接口时，该接口可能会从其他基本接口**继承。**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T06:18:29.220

您通过使用类来实现接口。它被实现了，因为它没有定义。一旦你有课。无论是抽象类还是普通类，您都可以继承，因为您正在继承预构建的功能。

虽然有 2 个警告。

1.  抽象类不必在其方法中添加任何实现（抛出异常是可以接受的，甚至可以将它们留空，或者将方法和属性标记为抽象以表明实现不完整。只要返回类型，空实现是合法的是满意的。他们只需要定义接口使用的方法。

2.  您从其他类继承，但在类名中添加“密封”将阻止其他任何人继承它，例如 System.String 和 System.Type

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-18T06:19:21.500

这取决于“使用”接口的东西是类还是另一个接口。

一个类实现了接口（以及它继承的任何接口）。

另一个接口继承（或扩展）一个接口

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-18T06:25:33.193

*   类可以隐式和/或显式实现一个/多个接口。
*   一个接口可以继承其他接口。
*   接口的隐式实现方法可以是抽象的/虚拟的，可以在派生类中重写。

简而言之**，实现了接口，并且可以继承接口的实现**

# c# - 如何在winform中用位图替换光标

> ID：10647589
> 
> 赞同：3
> 
> 时间：2012-05-18T06:11:02.907
> 
> 标签：c#, winforms

我正在 c#.net 中的鼠标移动控制应用程序上开发放大镜。我需要用放大镜控件替换光标（放大镜控件是一个图片框）。那么有没有办法做到这一点。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-08T13:23:50.230

下面的示例代码显示了如何在 windows 窗体上设置光标。同样的方法也可以用于为控件设置光标。

```
public class Form_With_A_Cursor_Example {
    public void Shows_A_Form_With_A_Cursor_Loaded_From_A_pictureBox() {         
        Form frm = new Form();
        PictureBox pb = new PictureBox() { Image = Image.FromFile( @"C:\Users\xxx\Pictures\someImage.bmp" ) };

        frm.Cursor = new Cursor( ( (Bitmap)pb.Image ).GetHicon() );

        frm.ShowDialog();
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-06-16T23:22:59.670

首先将位图添加到您的项目资源：
Project->projectnameProperties->Add exiting file（从“Add Resource”旁边的菜单中）添加您的 BMP

```
Bitmap b = new Bitmap(projectname.Properties.Resources.yourCursorName);
b.MakeTransparent(b.GetPixel(0,0));
Graphics g = Graphics.FromImage(b);
IntPtr ptr = b.GetHicon();
Cursor = new System.Windows.Forms.Cursor(ptr); 
```

其中“projectname”是您的项目的名称。

# sql - 持续时间使用的单位是什么 AnjLab SQL 分析器

> ID：10647591
> 
> 赞同：4
> 
> 时间：2012-05-18T06:11:17.377
> 
> 标签：sql, profiler

我正在使用 AnjLab SQL 分析器。有人知道用于 CPU 和持续时间列的单位吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-18T09:18:16.867

我刚收到 AnjLab 团队的回复，CPU 以毫秒为单位，Duration 以微秒为单位。

# matlab - cmd line、weka 和 matlab 之间的 libsvm 精度差异

> ID：10647593
> 
> 赞同：0
> 
> 时间：2012-05-18T06:11:33.547
> 
> 标签：matlab, weka, libsvm

我正在对两类向量进行一些初步测试，试图将它们与 libsvm 分开。我在 Matlab 和 cmd 行（使用 libsvm）中获得了 78.2% 的正确 ID 率，但在 Weka 中我得到了大约 95%。

Weka 没有进行交叉验证；刚刚训练模型，然后读入测试数据集并对其进行分类。

任何人都可以提供解释吗？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-11T11:31:22.010

如果您没有提供单独的 Test Data ，则应设置验证 Folds 10 或所需的值。但是，请确保在两个程序中使用相同的**SVMType 和 kerneltype 。**默认情况下，Weka 使用**具有径向基**函数的 C-SVC。

# sql - 用于从数据库值中过滤的 KeywordFilter 字段

> ID：10647598
> 
> 赞同：1
> 
> 时间：2012-05-18T06:12:01.097
> 
> 标签：sql, sqlite, blackberry, java-me

一旦将文本输入字段，我如何实现 KeywordFilter 字段以过滤数据库表中的数据。

我遇到的大多数示例都演示了从预定义数组中过滤。我正在寻找的是从数据库中过滤。

请指导如何去做。谢谢

我已经尝试过这个[以数组显示的 BB 文档示例](http://docs.blackberry.com/en/developers/deliverables/18125/Search_field_1214696_11.jsp)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-19T16:43:25.237

一种直接的方法是将数据库中的数据加载到[ReadableList](http://www.blackberry.com/developers/docs/7.1.0api/net/rim/device/api/collection/ReadableList.html)并将其传递给[KeywordFilterField](http://www.blackberry.com/developers/docs/7.1.0api/net/rim/device/api/ui/component/KeywordFilterField.html)。

用于设置值的方法是
`setSourceList(ReadableList list, KeywordProvider helper)`

ReadableList 是一个有几个实现的接口。您正在查看的示例代码使用[SortedReadableList](http://www.blackberry.com/developers/docs/7.1.0api/net/rim/device/api/collection/util/SortedReadableList.html)但[BasicFilteredList](http://www.blackberry.com/developers/docs/7.1.0api/net/rim/device/api/collection/util/BasicFilteredList.html)也可以很好地工作。

# apache - Apache 2.4.1 配置

> ID：10647602
> 
> 赞同：0
> 
> 时间：2012-05-18T06:12:20.963
> 
> 标签：apache

我面临一个独特的问题。我已经设置了 Apache 2.4.1，以下是我的配置：

```
ServerRoot "prakash_prasad/bin"
AddHandler cgi-script .py
ScriptAlias /~prakash_prasad/ "/x/home/prakash_prasad/public_html/"
ScriptAlias /test/ "/x/test/prakash_prasad/public_html/"
DocumentRoot "/mybox/prakash_prasad/bin/htdocs"
<Directory "/x/test/*/public_html/">
    Options +ExecCGI
    Options ExecCGI
    Order allow,deny
    Allow from all
    Options All
    SetHandler cgi-script
    AddHandler cgi-script .py
    AllowOverride None
    Require all granted
    AddHandler cgi-script .py
    SetHandler cgi-script
    AllowOverride None
    Require all granted
    Options ExecCGI
    Order allow,deny
    Allow from all
    Options All
    SetHandler cgi-script
    AddHandler cgi-script .py
    AllowOverride None
    Require all granted
</Directory>

<Directory "/x/home/prakash_prasad/public_html/*">
    Options +ExecCGI
    Options ExecCGI
    Order allow,deny
    Allow from all
    Options All
    SetHandler cgi-script
    AddHandler cgi-script .py
    AllowOverride None
    Require all granted
    AddHandler cgi-script .py
    SetHandler cgi-script
    AllowOverride None
    Require all granted
</Directory> 
```

现在我有一个示例“first.py”程序转储“Hello World！” 当我在浏览器中输入以下网址时效果很好

> http://:ip/test/first.py

但是当我尝试加载 HTML 页面时：

> http://:ip/test/index.html

我在浏览器中收到以下错误：

内部服务器错误

服务器遇到内部错误或配置错误，无法完成您的请求。

请通过 you@example.com 联系服务器管理员，告知他们此错误发生的时间，以及您在此错误之前执行的操作。

服务器错误日志中可能提供有关此错误的更多信息。

在日志中我看到：

```
[Thu May 17 23:07:10.664648 2012] [cgid:error] [pid 10386:tid 47977877412864] (13)Permission denied: AH01241: exec of '/x/test/prakash_prasad/public_html/index.html' failed
[Thu May 17 23:07:10.665034 2012] [cgid:error] [pid 9849:tid 1232931136] [client 10.239.40.209:54712] End of script output before headers: index.html 
```

请让我知道我需要更正什么配置？

：：更新：：

我缩小到一个点，但不确定问题可能是：

当我评论 cgid 模块为我解决了这个问题时：

```
# LoadModule cgid_module modules/mod_cgid.so 
```

我的 HTML 页面很好，但不是我的 Python 脚本

当我取消注释时

```
LoadModule cgid_module modules/mod_cgid.so 
```

我的脚本工作正常，但 HTML 文件出错。

知道可能是什么问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-20T08:49:04.287

使用“Options +ExecCGI”指令，webserver 会将 public_html 下的所有文件视为可执行文件。所以你必须把你的 opython 文件放到一个单独的目录中

`ScriptAlias /pyfiles/ /home/x/public_html/pyfiles/`

然后把你的html`/home/x/public_html/`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T07:31:03.880

尝试删除配置中的重复指令，因为这些可能会导致问题，即第一个目录：

```
<Directory "/x/test/*/public_html/">
    Options +ExecCGI
    Options ExecCGI
    Order allow,deny
    Allow from all
    Options All
    SetHandler cgi-script
    AddHandler cgi-script .py
    AllowOverride None
    Require all granted
</Directory> 
```

# java - 如何对 JFrame 进行 TDD？

> ID：10647603
> 
> 赞同：7
> 
> 时间：2012-05-18T06:12:31.650
> 
> 标签：java, tdd, jframe

我正在开发一个新项目，我想在屏幕上显示一些数据。我让自己使用 TDD，这对我来说是新的，但我喜欢这个想法并且到目前为止相处得很好。

我设置了一个 JFrame，添加了一个 Textarea 并将文本放在那里，但是我怎样才能正确地测试呢？还是在我这边的 TDD 上下文中这是错误的想法？我想确定（以 TDD 方式）数据正确显示！显示的文本的**创建**被测试正确覆盖，但**显示**不是。

这是一个完全简化的示例：

```
public class MyTextDisplay {
    public static void main(String[] args) {
        JFrame my_frame = new JFrame("DisplaySomeText");
        my_frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        JTextArea textArea = new JTextArea(5, 20);
        textArea.setEditable(false);

        my_frame.add(textArea);
        my_frame.setVisible(true);

        //this would be in a separate method
        textArea.append("Hello World");
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-18T06:19:31.997

TDD 要求您以不同的方式思考问题。在实际为解决方案编写任何代码之前，您首先要确定要测试什么以及如何测试它。

对于 GUI，这可能会变得非常棘手，而且老实说，您的 GUI 绝不应该包含任何可能位于单独层中的逻辑。例如，显示的值应该来自与 GUI 无关但可以单独测试的对象。这允许您开发与显示（视图）分开的主要业务逻辑（模型和控制器）。这就是 MVC 模式。测试驱动开发只是意味着您在编写代码之前测试您可以做的事情，并且随着您添加更多代码，更多测试将开始通过。

我宁愿专注于我的设计，并确保生成文本值的任何内容都按预期工作。GUI 应该是“愚蠢的”，只关注显示或检索值，如果显示的值是否确实正确，则几乎没有任何顾虑。

由于众所周知，GUI 很难使用自动化工具进行测试（正确测试），我会尽可能避免这种情况，并尽可能将我的 GUI 与我的实际应用程序分离。然后，您可以测试一次 GUI，以确保它显示它应该显示的内容，并专注于业务逻辑，而无需对 GUI 进行连续测试，因为您不接触该代码。

# windows - 从 Windows 服务打开 URL

> ID：10647605
> 
> 赞同：0
> 
> 时间：2012-05-18T06:12:49.283
> 
> 标签：windows, service

[http://www.myserver.com/mypage.php?param1=abc¶m2=123](http://www.myserver.com/mypage.php?param1=abc&param2=123)

我需要通过 IExplorer 从 Windows 服务打开此 URL，或者在 Windows 启动时不打开。

或者

我可以在 Windows 启动时从 Windows 服务向我的 Web 服务器提交 HTML 表单吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T06:19:44.557

根据您的要求，最好的方法可能是使用[HttpWebRequest](http://msdn.microsoft.com/en-us/library/system.net.httpwebrequest.aspx)。您可以编写一些这样的代码来完成表单发布：

```
string url = "http://www.myserver.com/mypage.php?param1=abc&param2=123";
var request = (HttpWebRequest)HttpWebRequest.Create(url);
request.Method = "POST";
var response = (HttpWebResponse)request.GetResponse();
// etc... read the response from the server here, if you need it 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T06:26:27.343

在 Windows Vista 及更高版本上，服务使用非交互式窗口站，无法与用户交互。阅读[此处](http://blogs.technet.com/b/voy/archive/2007/02/23/services-isolation-in-session-0-of-windows-vista-and-longhorn-server.aspx)了解更多信息。

# if-statement - 在语句中使用数字或字母代码；用于“if”语句

> ID：10647611
> 
> 赞同：2
> 
> 时间：2012-05-18T06:13:19.910
> 
> 标签：if-statement, cobol

我想知道如何在 COBOL 中做某事。我正在尝试编写一个程序，该程序使用 if 语句从数据文件中输出匹配的数据记录。但是我还没有这样做，但我需要做的是为不同的数据类型编写代码。

`blue = 1`
`brown = 2`.

所以我像这样尝试过，但它不起作用。这是我在主记录中声明的：

```
01  COLOR-IN    PIC (9)
    05    BLUE         VALUE 1.
    05    BROWN        VALUE 2. 
```

然后我想我可以写一个 if 语句

```
IF COLOR-IN = BLUE 
   PERFORM 200-OUTPUT. 
```

所以我要问的是如何使颜色等于数字或字母代码。我应该写什么样的陈述。

我想到了。我使用了 88 条语句。像这样

```
88      MALE     VALUE 'M'. 
```

但我还有另一个问题。输出确实列出了符合“if”语句标准的记录，但是，我需要在程序中编写实际的头发和眼睛颜色，以便在程序执行时打印头发和眼睛的颜色而不是 1 或 2。可以有人给我一个例子或提示如何做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-18T12:43:48.990

+1 用于了解 88 年代。它们非常有用。

您正在寻找与您的值相对应的标签表（数组）。如果您使用字母代码，例如在您的 88 MALE VALUE 'M' 的情况下，那么您的表格将包含一个值和标签条目。

```
01  INPUT-VALUE                 PIC X(1).
    88  MALE                    VALUE "M".
    88  FEMALE                  VALUE "F".

01  LABELS-AND-VALUES-AREA.
    05  LABELS-AND-VALUES.
        07  ONE-LABEL-AND-VALUE OCCURS 2.
            09  ONE-LABEL       PIC X(6).
            09  ONE-VALUE       PIC X(1).
    05      FILLER REDEFINES LABELS-AND-VALUES
                                VALUE "MALE  MFEMALEF".
01  I                           PIC S9(4) COMP.
01  DISPLAY-LABEL               PIC x(6).

    MOVE "?" TO DISPLAY-LABEL
    PERFORM VARYING I FROM 1 BY 1 UNTIL I > 2
        IF INPUT-VALUE = ONE-VALUE(I)
            MOVE ONE-LABEL(I) TO DISPLAY-LABEL
        END-IF
    END-PERFORM 
```

如果您使用数字作为输入值，您可以跳过查找并直接转到您想要的标签。

```
01  INPUT-VALUE                 PIC 9(1).
    88  MALE                    VALUE "1".
    88  FEMALE                  VALUE "2".
    88  VALID-INPUT             VALUE "1", "2".

01  LABELS-AND-VALUES-AREA.
    05  LABELS-AND-VALUES.
        07  ONE-LABEL-AND-VALUE OCCURS 2.
            09  ONE-LABEL       PIC X(6).
    05      FILLER REDEFINES LABELS-AND-VALUES
                                VALUE "MALE  FEMALE".
01  DISPLAY-LABEL               PIC x(6).

   IF VALID-INPUT
       MOVE ONE-LABEL(INPUT-VALUE) TO DISPLAY-LABEL
   ELSE
       MOVE "?" TO DISPLAY-LABEL
   END-IF 
```

对于这种情况，您可能需要为丢失/未知数据添加一些代码。

**更新**

我添加了一些代码来处理丢失/未知的数据。

# javascript - 如何从用 JavaScript 中的回车符分隔的列表中提取一行

> ID：10647612
> 
> 赞同：0
> 
> 时间：2012-05-18T06:13:29.177
> 
> 标签：javascript

我有一个变量中的行列表，如下所示：

```
var crDelimited = "Hello \n Bye \n extract me \n I stay" 
```

不知何故，我想从 crDelimited 中提取第三行

有什么想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T06:15:11.310

以下将为您提供第三行，或者`undefined`如果少于三行：

```
crDelimited.split("\n")[2] 
```

或者，如果您也想对其他行执行某些操作，则保留对由返回的行数组的引用`.split()`：

```
var lines = crDelimited.split("\n");    
// lines[2] would be the third line 
```

# c# - 如果我同时安装了 wamp 和独立 MySQL，我的应用程序使用哪个 MySQL 版本？

> ID：10647614
> 
> 赞同：0
> 
> 时间：2012-05-18T06:13:52.440
> 
> 标签：c#, mysql, windows-services, version, wampserver

我有一个具有 MySQL 后端的 Windows 应用程序。我已经`wampserver`在我的机器上安装了某个版本`phpmyadmin`以及 MySQL 5.0.51a 版本。但在客户端机器中，他们有 MySQL 5.1 版。简而言之，开发是在 5.0 上，而部署是在 5.1 上。这给我们带来了一些问题，因为这两个版本的行为略有不同。所以我得到了一个独立的 vesion 5.1 设置并安装在我的（开发）机器上。

现在，当我运行我的应用程序时，它需要打开 wamp 服务（5.0 版），或者需要 MySQL 5.1（在 Program Files>MySQL>... 中安装独立安装）两种方式都可以。

问题1：如果只打开 wamp 服务，我是否可以假设我的应用程序依赖 MySQL 5.0，如果只打开原始 MySQL 服务，我的应用程序依赖 MySQL 5.1？是的，我想。

问题2（主要问题）：如果我同时打开了这两个服务，该应用程序就可以工作。在那种情况下，我怎么知道我的应用程序在哪个 MySQL 版本上运行？我所拥有的只是一个连接字符串，它看起来像：

```
 MySqlConnection con = new MySqlConnection("SERVER=localhost; DATABASE=wow; 
                                           UID=root;PASSWORD=; Min Pool Size = 0; 
                                           Max Pool Size=200"); 
```

工具在 C# 上运行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:17:43.950

您可以随时使用`SELECT VERSION()`. 这将回答你的两个问题。

# ios - Facebook提要对话框，贴到墙上，字幕出框

> ID：10647617
> 
> 赞同：2
> 
> 时间：2012-05-18T06:14:16.293
> 
> 标签：ios, facebook

我正在使用来自[https://github.com/facebook/facebook-ios-sdk的最新 Facebook SDK](https://github.com/facebook/facebook-ios-sdk)

并尝试使用提要对话框发布到墙上，标题不在对话框框架内。

它缺少一些单词，所以我无法阅读整个标题，如下所示：

[http://www.freeimagehosting.net/66oyf](http://www.freeimagehosting.net/66oyf)（抱歉，由于我的声誉太低，我无法在堆栈溢出时发布图像。）

这是代码：

```
 NSMutableDictionary *param = [NSMutableDictionary dictionaryWithObjectsAndKeys:
                               [Utility getFBIconUrlHref], @"link",
                               [Utility getFBIconUrlSrc], @"picture",
                               name, @"name",
                               _bookName, @"caption",
                              @"description" , @"description", nil];

    [_fb dialog: @"feed"
    andParams: param
    andDelegate:self]; 
```

# php - 在网站的 twitter 中获取所有关注者的电子邮件 ID

> ID：10647618
> 
> 赞同：0
> 
> 时间：2012-05-18T06:14:30.673
> 
> 标签：php, twitter

如何在 Twitter 中获取我的追随者电子邮件 ID？我尝试了以下代码，但它不返回电子邮件ID，它只返回名称和屏幕。

```
<script src="http://code.jquery.com/jquery-latest.js"></script>
<?php
$trends_url = "http://api.twitter.com/1/statuses/followers/gunarsekar.json";
////// exmaple $trends_url = "http://api.twitter.com/1/statuses/followers/w3cgallery.json"; or $trends_url = "http://api.twitter.com/1/statuses/followers/22250021.json";

$ch = curl_init(); 

curl_setopt($ch, CURLOPT_URL, $trends_url);

curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);

$curlout = curl_exec($ch);

curl_close($ch);

$response = json_decode($curlout, true);
// print_r($response);
foreach($response as $friends){
 print_r($friends);
 echo "<br><br>";
$thumb = $friends['profile_image_url'];

$url = $friends['screen_name'];

$name = $friends['name'];

?>

<a title="<?php echo $name;?>" href="http://www.twitter.com/<?php echo $url;?>"><img class="photo-img" src="<?php echo $thumb?>" border="0" alt="" width="40" /></a>
<?php
} 

?> 
```

请帮助我从 Twitter 获取电子邮件地址。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-01T12:39:15.437

Twitter API 甚至不提供经过身份验证的用户的电子邮件......所以，提供关注者的电子邮件是不可能的......对于发送消息，您应该尝试 API 发送直接消息

我使用亚伯拉罕 API [https://github.com/abraham/twitteroauth](https://github.com/abraham/twitteroauth)

[如何使用 Abraham 的 oauth 库发送直接消息](https://stackoverflow.com/questions/3636454/how-to-send-a-direct-message-using-abrahams-oauth-library)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-18T06:18:22.467

Twitter API 不返回用户的电子邮件地址

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-18T06:23:05.840

查看此[https://dev.twitter.com/docs/faq#6718](https://dev.twitter.com/docs/faq#6718)。

# html - 限制文本换行的CSS方法

> ID：10647622
> 
> 赞同：8
> 
> 时间：2012-05-18T06:14:53.807
> 
> 标签：html, css

我可能有一些奇怪的任务，但我相信没有更好的解决方案。我需要`<ul>`在一些容器中具有可变宽度和固定宽度的内联`<li>`元素。`<li>`我应该（并且已经找到解决方案）在相同宽度的元素之间放置空格。空间的宽度是动态变化的，取决于父容器的宽度。同样，这些`<li>`项目具有固定宽度。

我还应该在这些描述的元素上方放置一些链接。由于某些原因，链接必须在其他`<ul>`元素中。它们还包裹在内联`<li>`元素中。我希望它们位于描述的`<li>`项目之上。这可以通过`<li>`如上所述设置项目的固定宽度来完成。现在，问题是每个链接中的文本实际上都有不同的宽度并且会分成两行，但我必须将它放在一行中。

所以我想欺骗浏览器：文本会溢出`<li>`项目。

```
.liElem {
  width: 100px;
  height: 20px;
  overflow: visible;
} 
```

但是，正如您可能猜到的那样，文本分成两行并且实际上溢出了列表项的底部，而不是右侧。

我想要的效果可以通过`&nbsp;`在文本中插入空格来完成，如下所示`<li><a href="#">Add&nbsp;to&nbsp;Favourites</a></li>`：

所以，我的问题是：如何在 css-way 中使通常的文本不分成几行？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-05-18T06:19:46.273

```
.nobr  { white-space:nowrap; } 
```

# webdav - JackRabbit Webdav 客户端兼容 Httpclient 3.0

> ID：10647627
> 
> 赞同：0
> 
> 时间：2012-05-18T06:15:11.523
> 
> 标签：webdav, jackrabbit

我已经将 Jackrabbit webdav 客户端用于 Httpclient 3.x 的 caldav 功能。现在我想升级 Httpclient 4.x。如何以简单的方式完成

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T07:07:36.920

它需要对 Jackrabbit 进行更改。见公开票：[https ://issues.apache.org/jira/browse/JCR-2406](https://issues.apache.org/jira/browse/JCR-2406)

# api - Rabbitmq HTTP API 请求未经授权

> ID：10647631
> 
> 赞同：4
> 
> 时间：2012-05-18T06:15:26.570
> 
> 标签：api, rest, httprequest, rabbitmq, unauthorized

我正在尝试使用 http api 请求创建一个新的交换。我用来创建 Exchange 的 URL 是 ，`http://guest:guest@localhost:55672/api/exchanges/%2F/myexq1`但它给了我 401 Unauthorized 错误。我正在使用 chrome rest 客户端来执行此请求。可能是什么原因？任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-19T06:35:35.843

有其他方式解决问题。使用 URL 时出现错误`http://guest:guest@localhost:55672/api/exchanges/%2F/myexq1`。但为了实现我的目标，我写了一个小班。这是代码：

```
 DefaultHttpClient httpClient = new DefaultHttpClient();         
        HttpHost targetHost = new HttpHost("xx.xx.xx.xx", 55672, "http");

        HttpPut request = new HttpPut(
                "/api/queues/%2F/q1");

        httpClient.getCredentialsProvider().setCredentials(
                new AuthScope(targetHost.getHostName(), targetHost.getPort()), 
                new UsernamePasswordCredentials("guest", "guest"));

        AuthCache authCache = new BasicAuthCache();
        BasicScheme basicAuth = new BasicScheme();
        authCache.put(targetHost, basicAuth);
        BasicHttpContext localcontext = new BasicHttpContext();
        localcontext.setAttribute(ClientContext.AUTH_CACHE, authCache);

        request.addHeader("Content-Type", "application/json");

        StringEntity input = new StringEntity(
                 "{\"vhost\":\"/\",\"durable\":\"false\",\"auto_delete\":\"false\",\"arguments\":{}}");

        request.setEntity(input);

        HttpResponse response = httpClient.execute(targetHost, request, localcontext); 
```

我包括的罐子是：

```
commons-codec-1.4
commons-logging-1.1.1
httpclient-4.1.3
httpclient-cache-4.1.3
httpcore-4.1.4
httpmime-4.1.3 
```

# java - 加载 jasperreports 的 .jrxml 文件

> ID：10647633
> 
> 赞同：1
> 
> 时间：2012-05-18T06:15:55.823
> 
> 标签：java, jasper-reports

在我的项目中，我将 .jrxml 文件存储在一个名为 com/bio/ofm/mnu/views/reports/jasperReports/ 的包中，当我尝试加载 .jrxml 时出现以下错误，

```
net.sf.jasperreports.engine.JRException: java.io.FileNotFoundException: com/bio/ofm/mnu/views/reports/jasperReports/repAuditReport.jrxml (No such file or directory)
        at net.sf.jasperreports.engine.xml.JRXmlLoader.load(JRXmlLoader.java:174)
        at net.sf.jasperreports.engine.xml.JRXmlLoader.load(JRXmlLoader.java:154)
        at net.sf.jasperreports.engine.JasperCompileManager.compileReport(JasperCompileManager.java:146)
        at com.bio.ofm.mnu.views.panels.RepAuditReport$2.run(RepAuditReport.java:87)
        at java.lang.Thread.run(Thread.java:722)
Caused by: java.io.FileNotFoundException: com/bio/ofm/mnu/views/reports/jasperReports/repAuditReport.jrxml (No such file or directory)
        at java.io.FileInputStream.open(Native Method)
        at java.io.FileInputStream.<init>(FileInputStream.java:138)
        at net.sf.jasperreports.engine.xml.JRXmlLoader.load(JRXmlLoader.java:169)
        ... 4 more 
```

这就是我加载文件的方式，

```
String fileName = getClass().getClassLoader().getResource("com/bio/ofm/mnu/views/reports/jasperReports/repAuditReport.jrxml").getFile();    

   JasperReport report = JasperCompileManager.compileReport("com/bio/ofm/mnu/views/reports/jasperReports/repAuditReport.jrxml"); 
```

请帮忙

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-22T12:01:59.927

当将文件加载为如下所示的流时，它起作用了，

```
InputStream in = this.getClass().getClassLoader().getResourceAsStream("com/bio/ofm/mnu/views/reports/jasperReports/repAuditReport.jrxml");

JasperReport report = JasperCompileManager.compileReport(in); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-10-15T08:40:18.767

我正在这样编译我的报告：

```
ByteArrayInputStream is = MyRenderer.class.getClassLoader().getResourceAsStream("anytemplate.jrxml");

JasperDesign jasperDesign = JRXmlLoader.load(is);
JasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign); 
```

# php - 做太多要求/包括减慢 PHP

> ID：10647634
> 
> 赞同：1
> 
> 时间：2012-05-18T06:15:56.130
> 
> 标签：php, performance

我现在正在编写一个 php 框架。`require`我想知道当请求期间php /`include`或`require_once`/`include_once`太多文件时它是否会变慢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:21:24.203

当然会的。做任何事情太多次会导致减速。

不过，更严重的一点是，与内存中发生的任何事情相比，接触磁盘的 IO 操作非常慢。很多时候，在使用大型框架时，包括文件*将*是一个主要的性能因素（看看 Zend 框架......）。

但是，通常有一些方法可以缓解这种情况，例如 APC 和类似的操作码缓存。

有时也采用编程方法。例如，如果我没记错的话，Doctrine 1 能够将所有内容捆绑到一个巨大的文件中，以减少 IO 调用。

如果有疑问，请对使用您的框架编写的应用程序进行一些深入的分析，看看 include/require/etc 是否是主要的慢点之一。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T06:24:22.100

是的，这会减慢您的申请速度。`*_once`调用通常更昂贵，因为必须检查该文件是否已包含在内。有很多包含，捆绑了很多硬盘访问和大量内存使用。我已经使用 Zend 框架开发了应用程序，每个请求总共包含 150 到 200 个文件 - 您确实可以看到对整体性能的影响。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-18T06:25:03.243

您包含的文件越多，就会增加一些负载。但是，如果您必须在 require 和 require_once 之间进行选择，则 require_once / include_once 会承担更多负载，因为服务器需要进行检查以查看同一文件是否已包含在其他地方。因此，如果您可以避免这种情况，至少您可以提高性能。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-18T06:29:27.960

除非您使用缓存库，否则每次请求到来时，这些文件都会一次又一次地包含在内。当然，它会减慢速度。创建一个只`include`-s 需要`include`-ed 的框架。

# php - jquery ui 可选复选框

> ID：10647636
> 
> 赞同：4
> 
> 时间：2012-05-18T06:16:14.917
> 
> 标签：php, jquery, html, forms, jquery-ui

我有两个问题。我正在使用 jquery 可选择的 ui 作为复选框。

[http://jsfiddle.net/skeR4/4/](http://jsfiddle.net/skeR4/4/)

1.）我如何更改脚本，因此单击不同的脚本`<li>`也会突出显示该元素，而不是取消选择之前突出显示的内容。并且要取消选择元素，用户重新单击该元素。这样，用户可以通过单独单击每个元素来选择多个元素，而无需通过 ctrl+click 来选择多个元素。

```
<div class="demo">

<ol id="selectable">
  <li class="ui-state-default">1<input type="checkbox" value="something"></li>
  <li class="ui-state-default">2</li>
  <li class="ui-state-default">3</li>
  <li class="ui-state-default">4</li>
</ol>

</div>​

<script>
    $(function() {
        $( "#selectable" ).selectable();
    });
</script>​ 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-18T06:21:03.430

```
 $("#selectable").bind("mousedown", function(e) {
        e.metaKey = true;
    }).selectable(); 
```

**[演示](http://jsfiddle.net/thecodeparadox/skeR4/5/)**

# git - 使用子模块重组 git 项目

> ID：10647637
> 
> 赞同：0
> 
> 时间：2012-05-18T06:16:20.330
> 
> 标签：git, git-submodules

我的项目（git project）是基于别人维护的几个git项目，我认为git的子模块会做得更好。（可能是其他 git 功能？）

我将他们所有的更新提交到我的项目中，也就是说，我将他们的项目克隆到我的子文件夹而不是子模块中，有时会获取他们的项目然后将其提交到我的项目中，因为我需要他们的最新版本。

在那之后，我的 git 项目包含了很多无聊的东西，尤其是。当我区分头部时。这几天学习了一些 git 的基本技能，意识到它应该是一个子模块。但是我的项目已经在这里了。我想重新组织我的项目。但我无法说出以最小成本完成这项任务的最佳实践。

主要问题是我不想丢失我的项目中的提交消息或从初始化点重建我的 git 项目。此外，项目的更新消息是从提交中提取的。

关于这个的最佳程序？

也许只是相反的过程？ [取消子模块 git 子模块](https://stackoverflow.com/questions/1759587/un-submodule-a-git-submodule)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T14:47:15.423

基本过程是删除现有的子项目，然后将它们添加为子模块。很简单：

```
git rm -r mySubproject
git submodule add <repository> mySubproject
git add .gitmodules mySubproject
git commit -m 'mySubproject as a submodule' 
```

# facebook - 尝试取消弹出窗口时出现 Omniauth+facebook 错误

> ID：10647642
> 
> 赞同：6
> 
> 时间：2012-05-18T06:17:10.280
> 
> 标签：facebook, ruby-on-rails-3, callback, omniauth

我在我的rails 应用程序中使用omniauth-facebook gem 来允许用户通过facebook 登录/注册。它运作良好。但是我的问题是当我单击取消按钮时出现以下错误

```
(facebook) Callback phase initiated.
(facebook) Authentication failure! invalid_credentials: OmniAuth::Strategies::OAuth2::CallbackError, OmniAuth::Strategies::OAuth2::CallbackError

Started GET "/auth/facebook/callback?error_reason=user_denied&error=access_denied&error_description=The+user+denied+your+request." for 127.0.0.1 at 2012-05-18 11:42:36 +0530 
```

怎么了？添加**/auth/failure => 'pages#home'**也不起作用。请帮忙

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-11T21:05:20.687

[查看https://github.com/intridea/omniauth/wiki/FAQ](https://github.com/intridea/omniauth/wiki/FAQ)上的最后一部分，看看是否有帮助。它建议添加

```
OmniAuth.config.on_failure = Proc.new { |env|
  OmniAuth::FailureEndpoint.new(env).redirect_to_failure
} 
```

到您的omniauth初始化程序。这在本地对我有用，然后你只需要定义你的 /auth/failure 路由和操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-19T10:49:57.270

我在本地调试（本地主机）时遇到了同样的问题。
在一个有效的公共 url 上，它可能需要 FB 来“看到”你。

您可以在公共 url 上进行测试，也可以使用一些隧道之王（[localtunnel](http://progrium.com/localtunnel/)是一个非常简单的示例）。

高温高压

# c# - Moq - 设置强类型类的返回值

> ID：10647644
> 
> 赞同：2
> 
> 时间：2012-05-18T06:17:24.647
> 
> 标签：c#, unit-testing, mocking, moq

一直在尝试使用 moq 进行单元测试。

这是一个类结构。

```
public interface IParameter<T> : IList<T>
{
}

public interface IParameters
{
    IParameter<string> Types;
}

public class MyClass
{
    public DataTable GetResult(IParameters parameters)
    {
        //do work here
        return dt;
    }
}

class TestMyClass
{
    [Test]
    public void TestGetResult()
    {
        var _mock = new Mock<IParameters>();
        _mock.SetUp(x => x.Types).Return(new [] {"1", "2"}); //Issue
        var m = new MyClass()
        var result = m.GetResult(_mock.Object)
        Assert.IsNotNull(result);
    }
} 
```

我需要学习如何正确调用 _mock.SetUp 以便 IParameters 中的属性返回 IList 类型。

或者，我也试过这个......

```
var mock = new Mock<IParameters>();
var mockparams = new Mock<IParameter<string>>(); 
mockparams.SetReturnsDefault( ); //What should i call to add { "1", "2", "3" } 
mock.Setup(x => x.ReportTypes).Returns(mockparams.Object); 
```

所以在模拟参数中我应该调用什么函数来设置返回值？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-18T07:18:28.863

BTW：是`IParameters.Types`属性还是方法？

您可以只为参数创建一个存根`IParameter`，因为您可能不想设置 IList 的每个方法：

```
class ParameterStub : List<String>, IParameter<String> { } 
```

然后，模拟`IParameters`就像这样简单：

```
...
var mock = new Mock<IParameters>();
mock.Setup(x => x.Types).Returns(new ParameterStub() {"1","2"});
var m = new MyClass();
var result = m.GetResult(mock.Object);
... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-18T06:26:34.850

您应该模拟 IParameter 并返回模拟对象而不是 new [] {"1", "2"}

# xcode - 范围或索引超出范围（应用程序崩溃）

> ID：10647648
> 
> 赞同：0
> 
> 时间：2012-05-18T06:17:40.703
> 
> 标签：xcode, ads, banner, bounds, nscfstring

我在每个视图控制器（4 个视图）中都有一个带有广告横幅（内部活动）的应用程序，并且在我的应用程序运行 2-3-4 分钟后我不断收到此错误：

```
'NSRangeException', reason: '*** -[__NSCFString substringToIndex:]: Range or index out of bounds' 
```

我的应用程序崩溃了，我找不到解决方案，但我确定这与我的广告横幅问题有关，当我评论广告横幅代码时，一切正常。我可以假设它发生在横幅上加载新请求时。
这是我用于广告横幅的代码：

.h 文件：

```
@property (nonatomic, retain) UIView *adBanner; 
```

.m 文件：
是否为我需要的东西合成和导入，然后：

```
- (void)viewWillAppear:(BOOL)animated
{    
    CGRect frame = CGRectMake(0, 430, 320, 50);
    self.adBanner = [[UIView alloc] initWithFrame:frame];   
    [self.view addSubview:self.adBanner];

    // Display ad
    if (![InneractiveAd DisplayAd:@"iOS_Test" withType:IaAdType_Banner withRoot:adBanner withReload:60 withParams:optionalParams])
    {
        adBanner.hidden = YES;
    }
} 
```

这是我的 AppDelegate （不知道为什么，但也许它也与此有关？）：

.h 文件：

```
#import <UIKit/UIKit.h>

@class RootViewController;

@interface AppDelegate : UIResponder <UIApplicationDelegate>

@property (strong, nonatomic) UIWindow *window;
@property (nonatomic, strong) RootViewController *rootViewController;

@end 
```

.m 文件：

```
#import "AppDelegate.h"
#import "RootViewController.h"

@implementation AppDelegate

@synthesize window = _window;
@synthesize rootViewController;

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];

    // Override point for customization after application launch.

    self.rootViewController = [[RootViewController alloc] initWithNibName:nil bundle:NULL];
    [self.window addSubview:self.rootViewController.view];
    [self.window makeKeyAndVisible];

    return YES;
} 
```

我真的不明白它可能是什么以及它与 NSCFString 的关系：\
谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T01:24:44.493

不确定你是否得到了答案，但是当没有互联网连接时，我用这行代码得到了答案。

```
NSString *value = [serverOutput substringWithRange:NSMakeRange(2, [serverOutput length] - 2 * 2)]; 
```

我必须通过检查互联网连接和 if then 语句来保护它

# php - 如何在 phtml 模板中调用 Magento 块？

> ID：10647650
> 
> 赞同：10
> 
> 时间：2012-05-18T06:17:53.400
> 
> 标签：php, magento, content-management-system, block

我需要在页脚中显示更多链接。我在 magento admin 中将这些链接创建为静态块（id = sample_links）。

然后我添加了以下代码 page.xml 文件

```
<reference name="foot_lnk">  
<block type="cms/block" name="sample_block" before="-">
      <action method="setBlockId"><block_id>sample_links</block_id></action>
    </block>
</reference> 
```

我在footer.phtml中称这个为，

```
<?php echo $this->getChildHtml('foot_lnk') ?> 
```

但它不显示 CMS 静态块内容。什么问题？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-05-18T06:24:08.390

```
$this->getLayout()->createBlock('cms/block')->setBlockId('my_static_block_name')->toHtml() 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-05-18T08:25:20.437

引用是先前定义的块，您希望块位于其中，例如：

```
<reference name="footer">
  <block type="cms/block" name="sample_links">
    <action method="setBlockId"><block_id>sample_links</block_id></action>
  </block>
</reference> 
```

然后

```
<?php echo $this->getChildHtml('sample_links') ?> 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2015-08-07T13:09:18.873

您可以调用一个静态块，如：

```
<?php echo $this->getLayout()->createBlock('cms/block')->setBlockId('your_identifier')->toHtml() ?> 
```

并调用如下块：

```
<?php echo $this->getLayout()->createBlock('sidebar/left')->setTemplate('bannerslider/left.phtml')->tohtml(); ?> 
```

访问[magevn.com](http://magevn.com/how-to-use-a-magento-block)以查看更多在 magento 中使用块的用例。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2015-01-22T16:34:30.367

如果您不想打扰 XML，就像 swapnesh 的回答一样，我只是让那里的 php noobs 更清楚（像我一样）

```
<?php echo $this->getLayout()->createBlock('cms/block')->setBlockId('your_identifier')->toHtml() ?> 
```

your_identifier 是您在 CMS > Blocks > Create New Block 中创建块时决定使用的代码，第二行称为“标识符”

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-06-27T09:20:19.510

将您的参考名称更改为**页脚**

像

```
<reference name="footer"> 
```

那么它将起作用。

# c# - 使用 Silverlight 的事件日志

> ID：10647656
> 
> 赞同：0
> 
> 时间：2012-05-18T06:18:30.983
> 
> 标签：c#, silverlight, event-log

有没有办法使用 Silverlight 和 C# 访问服务器（或现在的本地机器）的事件日志？由于 System.Diagnostics 命名空间不可用于 Silverlight 运行时，因此 EventLog 类在 Silverlight 中不可用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:46:09.347

您可以使用 Web 服务（例如 WCF）获取日志条目，然后可以从您的 SL 应用程序访问该日志条目。当然这仅适用于服务器。不知道客户是否可以。

# xml - 转换 XSLT：复制内容

> ID：10647658
> 
> 赞同：0
> 
> 时间：2012-05-18T06:18:38.847
> 
> 标签：xml, xslt

我有一个 XSL 文件的以下输入：

```
<node>
    <xsl:value-of select="ROOT/LEVEL1/LEVEL2" />
</node> 
```

我的预期输出是：

```
<node2>
    <xsl:value-of select="ROOT/LEVEL1/LEVEL2" />
</node2> 
```

如何得到这个？

我能做的最好的：

```
<xsl:template match="node" >
    <node2>
        <xsl:copy-of select="." />
    </node2>
</xsl:template> 
```

产生：

```
<node2><node>
    <xsl:value-of select="ROOT/LEVEL1/LEVEL2"/>
</node></node2> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T08:11:50.360

这样做`<xsl:copy-of select="." />`将复制现有节点，但在您的情况下，您只想复制子节点。而是试试这个

```
<xsl:copy-of select="node()" /> 
```

实际上，使用标识模板可能会更好，因为这将允许您对**节点**元素的子元素进行进一步的转换，而不仅仅是照原样复制。例如：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
   <xsl:output method="xml" indent="yes"/>

   <xsl:template match="node">
      <node2>
         <xsl:apply-templates select="@*|node()"/>
      </node2>
   </xsl:template>

   <xsl:template match="@*|node()">
      <xsl:copy>
         <xsl:apply-templates select="@*|node()"/>
      </xsl:copy>
   </xsl:template>
</xsl:stylesheet> 
```

# google-chrome-extension - 如何检查选项卡是否是从扩展创建的？

> ID：10647662
> 
> 赞同：1
> 
> 时间：2012-05-18T06:19:21.407
> 
> 标签：google-chrome-extension, http-headers

我想实现一个支持修改http头的功能。我的扩展工作如下：

1.  用户打开页面 A，然后单击我的扩展程序的工具栏项。
2.  我的扩展程序将打开一个新窗口（页面 B）并让用户填写 http 标头。
3.  然后我将在一个新标签（页面 C）中打开一个带有初始页面 A 的 url。
4.  在我的 background.html 中，我想使用 chrome.webRequest.onBeforeSendHeaders.addListener 来监听任何请求并修改来自页面 C 的请求。

我的问题是如何知道请求来自我的扩展程序打开的新页面 B。我尝试 Tab.openerTabId。但是我发现 Tab.openerTabId 是用初始化页面 A 的 tabId 设置的，而不是我的扩展页面 B 的 tabId。

“Tab.openerTabId == 页 A 的 tabId”不正确。“Tab.openerTabId ==页面A的tabId”的页面包含两种页面：页面A直接打开的页面和我的扩展打开的页面。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T12:03:20.110

两者都`chrome.windows.create`接受`chrome.tabs.create`一个回调参数，该参数会发出新的窗口/标签 ID。如果您使用这些功能打开，您可以保存这些 id 并对照它们检查窗口和选项卡。

但你不一定需要这些。您只需要 URL。

# linux - cronjob 运行时返回错误

> ID：10647667
> 
> 赞同：0
> 
> 时间：2012-05-18T06:19:43.020
> 
> 标签：linux, shell, unix, cron, crontab

我的任务是从 cron 运行脚本，因此我为脚本编写了以下 cronjob 并输出以下提到的错误消息。

定时任务

```
#BE housekeeper.sh
* * * * * /product/tools/housekeeper.sh -t BE > /tmp/fileset.out 2>&1 
```

fileset.out 包含错误消息。这是错误信息。

```
/bin/sh: /product/tools/housekeeper.sh: Permission denied 
```

为什么它说权限被拒绝。`user1`可以执行管家脚本如下

```
$sh housekeeper.sh -t BE 
```

然后我检查了是否允许 user1 运行 cronjob。这个检查也通过了。允许 user1 运行 crontab。那么在这种情况下可能出现的错误是什么。

```
root      4181     1  0  2011 ?        00:00:00 crond
user1    7648  7564  0 06:18 pts/0    00:00:00 grep cron 
```

我检查了应用程序的执行权限

```
$ls -ltr

-rw-r----- 1 user1 aapp 11732 May 17 08:55 housekeeper.sh 
```

它说这个应用程序是可执行的吗

在此先感谢您的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T06:21:11.657

您需要更改`housekeeper.sh`才能获得`755`权限（可执行）

```
chmod 755 housekeeper.sh 
```

运行`sh housekeeper.sh`和调用在调用中找到的可执行文件并馈入其中`/product/tools/housekeeper.sh`的方式略有不同，因此您只需要对 的读取权限，但通过执行直接运行它需要您具有执行权限（因此）`sh``sh``$PATH``housekeeper.sh``housekeeper.sh``/product/tools/housekeeper.sh``755`

编辑

我看到你有`-rw-r-----`权限，很简单`610`，让我解释一下

一个文件有 3 组权限，以 3 组 3 位表示。第一位表示读取权限，如在您的输出中所见`r`，第二位是写入权限`w`，第三位（未设置，是`x`可执行位）。你有 3 组，第一组是所有者，组，然后是其他，因此你有 9 位

```
 111 111 111
 VVV VVV VVV
  |   |   |
Owner |   |
    Group |
        Other 
```

so`rw-r-----`表示所有者有读写位，组有读位，其他人无权对该文件进行任何操作。

设置 755 会产生`rwxr-xr-x`，我会让你想想为什么：D

# ruby-on-rails-3 - DeviseCreateUsers：迁移 create_table(:users) rake 中止

> ID：10647671
> 
> 赞同：0
> 
> 时间：2012-05-18T06:19:49.910
> 
> 标签：ruby-on-rails-3, ruby-on-rails-3.1, rake

我在运行时遇到以下错误`rake db:migrate --trace`。我的 Rails 版本 - rails 3.2.0。我正在尝试运行该项目[https://github.com/ninetwentyfour/Hospitium](https://github.com/ninetwentyfour/Hospitium)。我是 ruby​​ 到 ruby​​ on rails 的新手

**错误：**

```
** Invoke db:migrate (first_time)
** Invoke environment (first_time)
** Invoke disable_rails_admin_initializer (first_time)
** Execute disable_rails_admin_initializer
** Execute environment
** Invoke db:load_config (first_time)
** Invoke rails_env (first_time)
** Execute rails_env
** Execute db:load_config
** Execute db:migrate
==  **DeviseCreateUsers: migrating** ==============================================
-- **create_table(:users)**
**rake aborted!
An error has occurred, all later migrations canceled:
undefined method `database_authenticatable'** for #<ActiveRecord::ConnectionAdapte
rs::TableDefinition:0x5d49098>
E:/ruby projects/Hospitium Animal Hospital/db/migrate/20110904205556_devise_crea
te_users.rb:4:in `block in up'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/connect
ion_adapters/abstract/schema_statements.rb:160:in `create_table'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/connect
ion_adapters/abstract_mysql_adapter.rb:422:in `create_table'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/migrati
on.rb:450:in `block in method_missing'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/migrati
on.rb:424:in `block in say_with_time'
C:/Ruby193/lib/ruby/1.9.1/benchmark.rb:280:in `measure'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/migrati
on.rb:424:in `say_with_time'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/migrati
on.rb:444:in `method_missing'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/migrati
on.rb:334:in `method_missing'
E:/ruby projects/Hospitium Animal Hospital/db/migrate/20110904205556_devise_crea
te_users.rb:3:in `up'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/migrati
on.rb:358:in `up'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/migrati
on.rb:396:in `block (2 levels) in migrate'
C:/Ruby193/lib/ruby/1.9.1/benchmark.rb:280:in `measure'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/migrati
on.rb:396:in `block in migrate'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/connect
ion_adapters/abstract/connection_pool.rb:118:in `with_connection'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/migrati
on.rb:377:in `migrate'
C:in `migrate'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/migrati
on.rb:704:in `block (2 levels) in migrate'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/migrati
on.rb:761:in `call'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/migrati
on.rb:761:in `ddl_transaction'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/migrati
on.rb:703:in `block in migrate'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/migrati
on.rb:684:in `each'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/migrati
on.rb:684:in `migrate'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/migrati
on.rb:554:in `up'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/migrati
on.rb:535:in `migrate'
C:/Ruby193/lib/ruby/gems/1.9.1/gems/activerecord-3.2.0/lib/active_record/railtie
s/databases.rake:153:in `block (2 levels) in <top (required)>'
C:/Ruby193/lib/ruby/1.9.1/rake/task.rb:205:in `call'
C:/Ruby193/lib/ruby/1.9.1/rake/task.rb:205:in `block in execute'
C:/Ruby193/lib/ruby/1.9.1/rake/task.rb:200:in `each'
C:/Ruby193/lib/ruby/1.9.1/rake/task.rb:200:in `execute'
C:/Ruby193/lib/ruby/1.9.1/rake/task.rb:158:in `block in invoke_with_call_chain'
C:/Ruby193/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
C:/Ruby193/lib/ruby/1.9.1/rake/task.rb:151:in `invoke_with_call_chain'
C:/Ruby193/lib/ruby/1.9.1/rake/task.rb:144:in `invoke'
C:/Ruby193/lib/ruby/1.9.1/rake/application.rb:116:in `invoke_task'
C:/Ruby193/lib/ruby/1.9.1/rake/application.rb:94:in `block (2 levels) in top_lev
el'
C:/Ruby193/lib/ruby/1.9.1/rake/application.rb:94:in `each'
C:/Ruby193/lib/ruby/1.9.1/rake/application.rb:94:in `block in top_level'
C:/Ruby193/lib/ruby/1.9.1/rake/application.rb:133:in `standard_exception_handlin
g'
C:/Ruby193/lib/ruby/1.9.1/rake/application.rb:88:in `top_level'
C:/Ruby193/lib/ruby/1.9.1/rake/application.rb:66:in `block in run'
C:/Ruby193/lib/ruby/1.9.1/rake/application.rb:133:in `standard_exception_handlin
g'
C:/Ruby193/lib/ruby/1.9.1/rake/application.rb:63:in `run'
C:/Ruby193/bin/rake:32:in `<main>'
Tasks: TOP => db:migrate 
```

我的 GEM 文件

```
source 'http://rubygems.org'
gem 'rails', '3.2.0'

# Bundle edge Rails instead:
# gem 'rails', :git => 'git://github.com/rails/rails.git'
gem "eventmachine", "1.0.0.beta.4.1"
gem 'mysql2'
gem 'devise' # Devise must be required before RailsAdmin
gem 'rails_admin'
gem 'nokogiri'
gem 'mechanize'
gem 'uuidtools'
gem 'cancan'
gem 'paperclip'
gem 'aws-sdk', '~> 1.3.4'
gem 'will_paginate'
gem 'paper_trail'
gem 'oauth'
#gem 'twitter'
gem 'rest-client'
gem 'json'
#gem 'libxml-xmlrpc'
gem 'bitly'
gem 'site_meta'
gem 'meta_search'
gem 'airbrake'
gem 'spork', '~> 1.0rc'
gem 'client_side_validations'
gem 'jqplot-rails'
gem 'asset_sync'
gem 'gravatar_image_tag'
gem 'best_in_place'
gem 'juggernaut'
gem 'jquery-rails'
#gem 'less-rails-bootstrap'
gem "spreadsheet", "0.6.5.8"
gem 'to_xls'
gem 'sanitize'
gem 'redcarpet'
gem 'rqrcode-rails3'
gem 'octokit'

# Gems used only for assets and not required
# in production environments by default.
group :assets do
  gem 'sass-rails'
  gem 'coffee-rails'
  gem 'uglifier'
  gem 'closure-compiler'
end

group :development do
    gem 'metrical'
end

group :production do
    gem 'home_run', :require=>'date'
    #gem 'slim_scrooge', :git => "git://github.com/sdsykes/slim_scrooge.git"
    gem 'dalli'
    gem 'thin'
    gem 'pg'
    gem 'newrelic_rpm'
    gem 'heroku'
end

gem "rspec-rails", :group => [:test, :development]
group :test do
    gem "factory_girl_rails"
    gem "capybara"
    #gem 'capybara-webkit'
    gem 'shoulda-matchers'
    gem 'cucumber-rails', :require => false
    gem 'database_cleaner'
    gem 'launchy'
    gem 'email_spec'
end

# Use unicorn as the web server
# gem 'unicorn'

# Deploy with Capistrano
# gem 'capistrano'

---------------------------------------------------------------------------------------- 
```

按照说 Kaldybaev 的解决方案，我试过了

```
E:\ruby projects\Hospitium Animal Hospital>rails g devise:install
conflict  config/initializers/devise.rb
Overwrite E:/ruby projects/Hospitium Animal Hospital/config/initializers/devise.
rb? (enter "h" for help) [Ynaqdh] h
Y - yes, overwrite
n - no, do not overwrite
a - all, overwrite this and all others
q - quit, abort
d - diff, show the differences between the old and the new
h - help, show this help
Overwrite E:/ruby projects/Hospitium Animal Hospital/config/initializers/devise.
rb? (enter "h" for help) [Ynaqdh] a
force  config/initializers/devise.rb
identical  config/locales/devise.en.yml
===============================================================================

Some setup you must do manually if you haven't yet:

1\. Ensure you have defined default url options in your environments files. Her
e
is an example of default_url_options appropriate for a development environm
ent
in config/environments/development.rb:

config.action_mailer.default_url_options = { :host => 'localhost:3000' }

In production, :host should be set to the actual host of your application.

2\. Ensure you have defined root_url to *something* in your config/routes.rb.
For example:

   root :to => "home#index"

3\. Ensure you have flash messages in app/views/layouts/application.html.erb.
 For example:

   <p class="notice"><%= notice %></p>
   <p class="alert"><%= alert %></p> 
```

1.  如果您在 Heroku 上部署 Rails 3.1，您可能需要设置：

    config.assets.initialize_on_precompile = false

    在 config/application.rb 上，强制您的应用程序在预编译资产时不访问数据库或加载模型。

    ==================================================== ==============================

    E:\ruby projects\Hospitium Animal Hospital>rails g devise user invoke active_record 另一个迁移已经命名为 add_devise_to_users: E:/ruby projects/Hospitium Animal Hospital/db/migrate/20120518093709_add_devise_to_users.rb

    E:\ruby projects\Hospitium Animal Hospital>rake db:migrate == DeviseCreateUsers: 迁移 ============================== =============== -- create_table(:users) rake 中止！发生错误，所有后续迁移均已取消：

    未定义的方法 `database_authenticable' for #

    任务：TOP => db:migrate（通过使用 --trace 运行任务查看完整跟踪）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-23T18:11:50.903

当时那个回购似乎有问题，[https://github.com/inetwentyfour/Hospitium](https://github.com/ninetwentyfour/Hospitium)，现在它工作正常。

# iphone - 从相机中确定人物

> ID：10647675
> 
> 赞同：18
> 
> 时间：2012-05-18T06:20:06.473
> 
> 标签：iphone, ios, camera

我需要一些帮助才能找到使用相机的人。

如果他在该设备中从相机安装了涂抹器，是否可以从组中获取人？

基本概念是当用户将相机旋转到任何人时，相机将获取该用户的图像并对其进行搜索并将其与应用程序数据库进行比较，以了解该用户是否在应用程序中注册并显示他的信息。

如果可能并且您有一些参考，请与我分享。

感谢您阅读问题。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-18T06:27:31.737

Core Image 新增了[CIFaceFeature](http://developer.apple.com/library/ios/ipad/#documentation/CoreImage/Reference/CIFaceFeature/Reference/Reference.html)可以实时识别人脸；您可以从以下示例开始进行概述：
[SquareCam](http://developer.apple.com/library/ios/ipad/#samplecode/SquareCam/Introduction/Intro.html)（来自 Apple）
[iOS 面部识别](http://i.ndigo.com.br/2012/01/ios-facial-recognition/)
[使用 Core Image 轻松进行人脸检测](http://maniacdev.com/2011/11/tutorial-easy-face-detection-with-core-image-in-ios-5/)
然后您必须设计逻辑来比较和存储图像。

# java - 多个线程将对象引用传递给静态辅助方法

> ID：10647683
> 
> 赞同：7
> 
> 时间：2012-05-18T06:20:47.537
> 
> 标签：java, multithreading, methods, static

我只是 Java 的初学者，偶然发现了多线程应用程序。我知道这个问题与这里的一些帖子类似，但我找不到更好的查询答案。基本上，我想将一个对象传递给一个静态方法，并且该方法只会根据对象的值/属性返回一个输出。对于每次调用，我都在创建对象的一个​​新实例，并且我不可能以任何方式修改方法内的对象。现在，我的问题是，JVM 是否会为多个线程的每次调用创建静态方法的新实例及其局部变量到堆栈中（不包括将在堆上的对象）？为了清楚地了解我想要实现的目标，这是我的代码：

**TestConcurrent.java**

```
import classes.Player;

public class TestConcurrent
{
    private static int method(Player player)
    {
        int y = (player.getPoints() * 10) + 1;

            try {
                    Thread.sleep(1000);
            } catch (InterruptedException e) {}

            return ++y;
    }

    public static void main(String[] args) throws Exception
    {
        // Create 100 threads
        for(int i=1;i<=100;i++)
        {
            final int j = i;
            // Create a new Thread
            new Thread()
            {
                public void run()
                {
                    // Create a new instance of the Player class
                    Player player = new Player(j,j,"FirstName" + j, "LastName" + j);
                    // Call static method() and pass a new instance of Player class
                    System.out.println("Thread " + j + ": " + TestConcurrent.method(player));
                    // Check the values of the Player class after the call to the static method()
                    System.out.println("Player" + player.getAcctId() + " : Points=" + player.getPoints() + " Name=" + player.getFirstName() + " " + player.getLastName());
                }
            }.start();
        }
    }

} 
```

**播放器.java**

```
package classes;

public class Player
{
    private int acctId, points;
    String firstName, lastName;

    public Player(int acctId, int points, String firstName, String lastName)
    {
        this.acctId = acctId;
        this.points = points;
        this.firstName = firstName;
        this.lastName = lastName;
    }

    public int getAcctId() {
        return acctId;
    }
    public void setAcctId(int acctId) {
        this.acctId = acctId;
    }
    public int getPoints() {
        return points;
    }
    public void setPoints(int points) {
        this.points = points;
    }
    public String getFirstName() {
        return firstName;
    }
    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }
    public String getLastName() {
        return lastName;
    }
    public void setLastName(String lastName) {
        this.lastName = lastName;
    }
} 
```

**输出：**

由于我没有输入同步关键字，因此每次输出都会有所不同，看起来类似于以下内容：（输出正确，这正是我所期望的，我只是想澄清一下我在正确的道路上因为我不想使用同步，因为它会减慢进程，因为每个线程必须等待另一个线程完成才能调用静态方法）

```
Thread 2: 22
Player8 : Points=8 Name=FirstName8 LastName8
Thread 22: 222
Thread 26: 262
Thread 23: 232
Player23 : Points=23 Name=FirstName23 LastName23
Thread 21: 212
Player21 : Points=21 Name=FirstName21 LastName21
Thread 25: 252
Player25 : Points=25 Name=FirstName25 LastName25
Thread 20: 202
Thread 19: 192
Thread 24: 242
Player24 : Points=24 Name=FirstName24 LastName24
Player9 : Points=9 Name=FirstName9 LastName9
Thread 28: 282 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-18T06:23:47.507

> *JVM会为多个线程的每次调用创建一个静态方法的新实例及其局部变量到堆栈中（不包括将在堆上的对象）？*

是的，完全正确。

如果静态方法只引用局部变量，它自动是线程安全的。（事实上​​，这也适用于非静态方法。）

一般来说，我会说你应该`static`尽可能避免。一般来说，由于静态成员在某种意义上是全局的，因此它使代码更难测试和推理。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-18T06:25:41.767

`static`方法不是问题，只有`static`变量会跨线程共享。

所以两个线程调用

```
public static int sum(int a, int b) {
  int tmp = a + b;
  return tmp;
} 
```

不会遇到问题。

```
static int tmp;

public static int sum(int a, int b) {
  tmp = a + b;
  return tmp;
} 
```

多线程会失败，因为一个线程可能会覆盖另一个`tmp`值。

局部变量，即使在`static`方法中，仍然是局部的，因此是安全的。

使用`static`方法是好的。它强调该方法不需要访问对象变量。使用`static`非常量变量容易出错，不惜一切代价避免这种情况（如果需要访问变量，请在常量上使用同步）。

# jquery - 如何在单击时添加 div 和删除相同的 div

> ID：10647685
> 
> 赞同：0
> 
> 时间：2012-05-18T06:21:02.793
> 
> 标签：jquery

*编辑*

说我的页面如下

```
<div id="mask">content</div> 
<div id="box">content</div> 
```

div 掩码从页面中隐藏。如何使它在单击时显示并在单击同一按钮时再次隐藏。

要么那个，要么我可以

```
<div id="box">content</div> 
<div id="mask">content</div> 
```

两者都在页面上可见，但我希望 #mask 在单击时移回 #box 之前，然后在再次单击时返回到原始状态。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T06:26:11.320

你可以试试

```
 $('#box').on('click', function() {
    if($(this).prev('#mask').length) {
       $(this).prev('#mask').toggle();
    } else {
      $(this).next('#mask').insertBefore(this);
    }
 });
 // code for mask hide on its click
 $('#mask').on('click', function() {
   $(this).hide();
 }); 
```

**[演示](http://jsfiddle.net/thecodeparadox/bTVzb/2/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T06:26:29.187

为您需要的操作保留一个标志。像这样的东西：

```
var flag='firstClick';
$('#box').on('click', function(){
    if (flag == 'firstClick') {
        $('#box').insertBefore($(this));
        flag = 'notFirstClick';
    }
    else $('#box').remove();
}) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T06:28:11.553

如果您只想隐藏它，则不必删除它。您可以使用

```
$("#mask").toggle() 
```

点击按钮。并将掩码 div 放在框 div 之前`style="display:none"`

# android - 从 url 获取大型 json 数据的方法是什么？

> ID：10647696
> 
> 赞同：0
> 
> 时间：2012-05-18T06:22:02.460
> 
> 标签：android, json

我正在通过输入流从 url 获取数据并将其附加到字符串缓冲区中，例如：

```
rssUrl = new URL(url);
InputStream resultStream = rssUrl.openStream();
byte[] B = new byte[8069];
for (int N; (N = resultStream.read(B)) != -1;) 
{
    String str = new String(B, 0, N);
    put.append(str);
}
resultStream.close(); 
```

在 json 数据图像中，我在位图中解码的字符串格式。我的问题是当上面的代码运行时，需要很长时间才能获取。

我拍摄了增长堆显示的屏幕截图，还有其他方法可以快速获取数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:26:22.440

使用异步任务，在 doInBackground() 方法中加载数据，更新 ui 或 postExecute() 方法中的元素，试试这个[试试这个教程](http://www.vogella.com/articles/AndroidPerformance/article.html)

# android - android.widget.TabHost.dispatchWindowFocusChanged 处的 java.lang.NullPointerException

> ID：10647699
> 
> 赞同：1
> 
> 时间：2012-05-18T06:22:24.600
> 
> 标签：android, android-tabhost, android-viewpager

场景是这样的：[如何在 Tabs 中使用 ViewPagers？](https://stackoverflow.com/questions/10602787/how-to-use-viewpagers-in-tabs)

现在，当我单击位于选项卡内 ViewPager 中的图像时，假设会启动一个新活动。但是，在调试时我发现有一个`NullPointerException`at`android.widget.TabHost.dispatchWindowFocusChanged`并且甚至没有创建新的活动。

我什至试过

```
@Override
protected void onPause() {
super.onPause();
    Log.d(TAG, "In onPause");
    TabHost tabHost = (TabHost) this.getCurrentFocus();
    ViewGroup parentViewGroup = (ViewGroup) tabHost.getParent();
    parentViewGroup.removeView(tabHost);
} 
```

但我仍然面临同样的问题。您的帮助将不胜感激。

**更新**：我已经在三星 Galaxy ACE 上测试了该应用程序，它运行良好。不知道三星 Galaxy TAB 出了什么问题。

# linux - 在具有 tar.uue 扩展名的 linux 上安装工具

> ID：10647701
> 
> 赞同：1
> 
> 时间：2012-05-18T06:22:25.417
> 
> 标签：linux, installation, tar

我必须在具有 tar.uue (genscanlinux.tar.uue) 扩展名的 linux 平台上安装一个工具。我无法解压缩它。请告诉我如何解压缩并安装它？提前致谢 ：）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-18T06:38:48.150

要解码扩展名为 .uue 的文件，请使用以下命令：

```
uudecode genscanlinux.tar.uue 
```

在此之后，您将获得 genscanlinux.tar。您可以使用以下命令解压缩它：

```
tar -zxvf genscanlinux.tar 
```

在此之后，您将在当前目录中获得提取的文件。
希望这会有所帮助。

# asp.net - Server.Transfer 不会更新所有路径

> ID：10647704
> 
> 赞同：0
> 
> 时间：2012-05-18T06:22:42.090
> 
> 标签：asp.net, server.transfer

用于`Server.Transfer`显示通知用户网站处于维护模式的页面。
在 global.asax：

```
void Application_BeginRequest(object sender, EventArgs e)
{
    if (Request.IsLocal)
        return;

    if (ConfigurationManager.AppSettings["MaintenanceMode"] == "true")
    {
        if (Request.AcceptTypes != null && Request.AcceptTypes[0] == "text/html")
            Server.Transfer("~/UserMessage.aspx?Maintenance");
    }
} 
```

效果很好，除了查看页面源代码时，我看到 CSS 路径已更新，但图像的路径没有。
有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:36:27.307

我将`app_offline.htm`在应用程序根目录中使用，或者至少`Response.Redirect`如果我是您，`Server.Transfer`不会更改 HTTP 地址，因此您必须小心将所有资产重定向到基础页面或使所有地址成为绝对地址

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T06:37:30.670

实际上是停止执行页面并开始执行不同的`server.transfer`页面，即您给它的页面。

结果是用户在同一个 url 下看到了不同的页面。

这与图像路径无关。此外，图像不是从 asp.net 传递的，除非您将偶数图像设置为从 asp.net 处理传递。此外，在您提供给我们的代码上，如果它们是图像，您不会进行任何传输，但您会检查`text/html`.

现在，如果您将执行移动到不同的 css，图像路径不会改变，只有用户看到的页面会改变。

也许您的意思是您使用 MapPath() 并且这不会根据新目录进行更改？

# iphone - 如何在应用程序中使用西班牙语，法语，中文，德语键盘

> ID：10647706
> 
> 赞同：0
> 
> 时间：2012-05-18T06:22:49.180
> 
> 标签：iphone, uikeyboard, uikeyboardtype

我想在我的应用程序中使用不同的语言（西班牙语、德语、法语、中文等）键盘。

我如何在我的应用程序中使用不同的语言键盘。

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:45:06.400

不幸的是，您无法控制键盘的语言。用户通过设置应用程序选择他们希望使用的键盘，并可以使用键盘上的地球图标（PFA 图像）在它们之间切换。打开键盘时，它将打开最近使用的键盘。

![在此处输入图像描述](../Images/e50c0d2fcac450ca6b1cba6d6c030581.png)）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T06:33:07.620

这取决于您设置的键盘。如果您想使用这么多键盘，您的 iPhone 应该先添加这些键盘。

# jsf - 如何使用绑定属性在primefaces中将日期与日历控件绑定？

> ID：10647711
> 
> 赞同：0
> 
> 时间：2012-05-18T06:23:14.253
> 
> 标签：jsf, jakarta-ee, jsf-2, primefaces, managed-bean

从自动完成中选择特定值后，我想将日期与日历控件绑定。但是会发生以下异常： javax.servlet.ServletException: java.util.Date cannot be cast to javax.faces.component.UIComponent

```
<p:autoComplete value="#{rechargeCustomerBean.school.schoolName}" completeMethod="#{rechargeCustomerBean.completeSchool}" required="true" />

<p:calendar mode="popup"
        navigator="true" pattern="dd-MM-yyyy" effect="fadeIn"
        showButtonPanel="true"
        binding="#{rechargeCustomerBean.school.expiryDate}" /> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T06:59:30.950

你确定要绑定吗？

请改用该`value`属性。

此外，添加`<p:ajax`到您`calendar`的日历以更新日历，您就可以开始了。像这样

```
<p:autoComplete value="#{rechargeCustomerBean.school.schoolName}" completeMethod="#{rechargeCustomerBean.completeSchool}" required="true">
    <p:ajax event="itemSelect" update="idOfCalendar" /> 
</p:autoComplete> 
```

改变

```
binding="#{rechargeCustomerBean.school.expiryDate}" 
```

进入

```
value="#{rechargeCustomerBean.school.expiryDate}" 
```

所以它看起来像这样

```
<p:calendar value="#{rechargeCustomerBean.school.expiryDate}" id="idOfCalendar"..... /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T07:40:18.273

在中使用`binding`属性`<p:calender>`可能会导致问题...尝试使用`value=#{...}`

还要确保你的 bean 的“expiryDate”是 Util.Date 类型

希望这可以解决您的问题..有关详细说明[，请参见此处](https://stackoverflow.com/questions/2766287/how-to-map-icefaces-iceselectinputdate-component-on-a-java-util-calendar-fiel)

# android - OnClicking 从 Android 的 ListView 中删除一个项目

> ID：10647715
> 
> 赞同：0
> 
> 时间：2012-05-18T06:24:01.017
> 
> 标签：android, list, listview

我正在尝试实现删除功能以从列表视图中删除项目。单击文本“删除项目”项目应从 ListView 中删除。我已经尝试过了，但是我在代码中遇到了错误。我不知道如何纠正错误。

这是我的代码：

```
 public View getView(final int position, View convertView, ViewGroup parent) 
    {

      final  ViewHolder holder;

        if (convertView == null) 
        {
            convertView = inflater.inflate(R.layout.selecteditemlistview, null);
            holder = new ViewHolder();

            holder.textViewSelectedText = (TextView)convertView.findViewById(R.id.selectedtext);
            holder.price=(TextView)convertView.findViewById(R.id.selectitemprice);
            holder.image=(ImageView)convertView.findViewById(R.id.selectitemimage);
            holder.qty=(EditText)convertView.findViewById(R.id.selectqty);
            holder.total=(TextView)convertView.findViewById(R.id.price);

            holder.deleteButton = (TextView) convertView.findViewById(R.id.delete);

            convertView.setTag(holder);
        }
        else 
        {
            holder = (ViewHolder) convertView.getTag();
        }
        String amount=holder.qty.getText().toString();
        final Double price1=Double.parseDouble(itemprice.get(position));
        int qut=Integer.parseInt(holder.qty.getText().toString());
        Double total=(price1*qut);
        holder.textViewSelectedText.setText(arr1.get(position));
        holder.price.setText(itemprice.get(position));
        holder.image.setImageBitmap(itemimage.get(position));
        holder.total.setText(String.valueOf(total));

        final CartItem mCartItem = (CartItem) getItem(position);

        holder.mTextView.setText(mCartItem.product_name);
        holder.deleteButton.setOnClickListener(new OnClickListener() {

            public void onClick(View v) {
                Object cartItems;
                CustomAdapter myAdapter = new CustomAdapter(CustomAdapter.this, R.layout.selecteditemlistview, cartItems);
                ListView listview = (ListView) findViewById(R.id.delete);
                listview.setAdapter(myAdapter);
                        cartItems.remove(object);
                        myAdapter.notifyDatasetChanged();

            }

        });

        return convertView;     
    }

    class ViewHolder      
    {
         public TextView deleteButton;
         public TextView mTextView;

        TextView textViewSelectedText = null;
        TextView price=null;
        ImageView image=null;      
        EditText qty=null;
        TextView total=null;
    }  
    public class CartItem {
        public int id;
        public String product_name;
    } 
```

确切的错误在下面的代码中：

```
 holder.deleteButton.setOnClickListener(new OnClickListener() {

            public void onClick(View v) {
                Object cartItems;
                CustomAdapter myAdapter = new CustomAdapter(CustomAdapter.this, R.layout.selecteditemlistview, cartItems);
                ListView listview = (ListView) findViewById(R.id.delete);
                listview.setAdapter(myAdapter);

                Object toRemove = arrayAdapter.getItem([POSITION]);
                arrayAdapter.remove(toRemove);

            }

        }); 
```

请帮我解决这个问题。谢谢..

这是我的 Logcat 错误：

```
 05-18 12:38:04.630: I/System.out(514): Printing
       05-18 12:38:04.711: I/System.out(514): [152.00]
       05-18 12:38:04.711: I/System.out(514): arr: 1
       05-18 12:38:04.721: I/System.out(514): 152.0
       05-18 12:38:04.781: D/AndroidRuntime(514): Shutting down VM
       05-18 12:38:04.781: W/dalvikvm(514): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
       05-18 12:38:04.811: E/AndroidRuntime(514): FATAL EXCEPTION: main
       05-18 12:38:04.811: E/AndroidRuntime(514): java.lang.ClassCastException: java.lang.String
       05-18 12:38:04.811: E/AndroidRuntime(514):   at com.customer.CustomAdapter.getView(CustomAdapter.java:106)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.widget.AbsListView.obtainView(AbsListView.java:1315)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at  android.widget.ListView.makeAndAddView(ListView.java:1727)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.widget.ListView.fillDown(ListView.java:652)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.widget.ListView.fillFromTop(ListView.java:709)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.widget.ListView.layoutChildren(ListView.java:1580)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.widget.AbsListView.onLayout(AbsListView.java:1147)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.view.View.layout(View.java:7035)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.widget.RelativeLayout.onLayout(RelativeLayout.java:909)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.view.View.layout(View.java:7035)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.widget.FrameLayout.onLayout(FrameLayout.java:333)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.view.View.layout(View.java:7035)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1249)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1125)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.widget.LinearLayout.onLayout(LinearLayout.java:1042)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.view.View.layout(View.java:7035)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.widget.FrameLayout.onLayout(FrameLayout.java:333)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.view.View.layout(View.java:7035)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.view.ViewRoot.performTraversals(ViewRoot.java:1045)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.view.ViewRoot.handleMessage(ViewRoot.java:1727)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.os.Handler.dispatchMessage(Handler.java:99)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.os.Looper.loop(Looper.java:123)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at android.app.ActivityThread.main(ActivityThread.java:4627)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at java.lang.reflect.Method.invokeNative(Native Method)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at java.lang.reflect.Method.invoke(Method.java:521)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
       05-18 12:38:04.811: E/AndroidRuntime(514):   at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T06:35:10.613

您需要的只是删除要从中填充适配器的数据集项目，然后使用通知适配器`notifyDataSetChanged()`

```
 holder.deleteButton.setOnClickListener(new OnClickListener() {
            public void onClick(View v) {
                 yourdataset.remove(position);
                 notifyDataSetChanged();
            }
        }); 
```

# java - txt 文件或 JDOM 或 DOM 或

> ID：10647719
> 
> 赞同：2
> 
> 时间：2012-05-18T06:24:15.607
> 
> 标签：java, dom, jdom, jaxp

我想用 Java 保存一些数据，但我不想使用数据库（MySQL，...）。程序的属性将保存在一个文件中，每秒更新 500 次，并在程序执行时加载一次。该程序可能运行 5 小时或更长时间。这个程序的性能（速度）是突出的。

* * *

谢谢您的回答。我无法使用 RAM，因为如果我的 PC 意外关机（例如拔掉电源线）我会丢失我的信息。我保存/更新一个长变量，每秒 500/1024 次。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T12:03:34.307

也许考虑[谷歌协议缓冲区](https://developers.google.com/protocol-buffers/)来存储您的设置。显然，它们可以非常快速地解析/写入。但是，如果您想享受它的速度，它将不会以人类可读的格式存储。我不能从你的问题中得出结论，但是你想要那个。

基本上协议缓冲区将允许您定义要存储的内容，然后生成代码以实际保存/加载该数据。因为它以二进制形式写入，所以它比 XML 或典型的 java 属性文件要快。因此，如果性能真的很重要，您肯定应该考虑这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T10:45:12.597

我不确定性能的适用性（尽管我想它会很好），但 Java 有 java.util.prefs.Preferences 旨在执行这种存储。你至少应该考虑一下。

您还应该考虑 java.util.Properties，它也可以很容易地做到这一点，即使是 XML....

JDOM 本身（我维护，因此有一些偏见）将能够做到这一点，具体取决于文件的大小，您的硬件，以及您在输出数据时是否重新格式化数据（或使用更快/默认'原始'格式）。

真正的问题是“你的问题是什么？” ……

*   可以吗？
*   可以用 JDOM 完成吗？
*   可以用 DOM 完成吗？
*   用别的东西能做得更好吗？
*   它可以在 Linux 上比 Windows 更快地完成吗（我想这是真的……）
*   为什么要每秒保存 500 次呢？为什么不缓存它并加载一个[关闭挂钩](http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#addShutdownHook%28java.lang.Thread%29)来保存？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T12:11:08.730

这可能不是您想要的，但是您是否考虑过[对象序列化](http://www.javacoffeebreak.com/articles/serialization/index.html)？基本上，你有你的对象实施`java.io.Serializable`，然后你可以把它们交给 an[`ObjectOutputStream`](http://docs.oracle.com/javase/6/docs/api/java/io/ObjectOutputStream.html)和 say `out.writeObject(yourObject)`。这非常容易。[这是来自Java Helper Library](https://github.com/kentcdodds/Java-Helper)的用于写入和读取的示例方法。

```
/**
* Saves the given object to the given destination. The object and all it's variables must implement
* java.io.Serializable or the variables must have the keyword "transient" in front of it.
*
* @param object
* @param savePath
* @throws IOException
*/
public static void saveObject(Object object, String savePath) throws IOException {
  FileOutputStream f_out = new FileOutputStream(savePath); //If you want the object to be saved in memory just create a ByteArrayOutputStream instead and return the bytes in this method.
  ObjectOutputStream o_out = new ObjectOutputStream(f_out);
  o_out.writeObject(object);
}

/**
* Opens an object from the given openPath and returns it
*
* @param openPath
* @return
* @throws IOException
* @throws ClassNotFoundException
*/
public static Object loadObject(String openPath) throws IOException, ClassNotFoundException {
  FileInputStream f_in = new FileInputStream(openPath); //If you want the object to be saved in memory just give the method a byte[] and create a ByteArrayInputStream instead.
  ObjectInputStream o_in = new ObjectInputStream(f_in);
  return o_in.readObject();
} 
```

# c# - C#静态方法中的变量是在开始时初始化还是在第一次调用方法时初始化？

> ID：10647720
> 
> 赞同：1
> 
> 时间：2012-05-18T06:24:17.367
> 
> 标签：c#, garbage-collection, static-methods

在 C# 3.5 的一个类中，我有一些带有一些变量的静态方法。即使我没有初始化类，也会首先初始化静态方法。

那么静态方法中的变量是否也在开始时初始化而不是垃圾收集？

我想知道-即使我不调用该方法或者我调用该方法一次并且该方法退出，是否会为此类方法变量分配内存？或者每次调用该方法并退出时 - 方法内的变量都会被垃圾收集？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-18T06:27:34.170

> 首先初始化静态方法

不，静态方法不是这样“初始化”的；它们（在标准实现中）在第一次使用时是 JITted，但这与内存分配无关。

> 那么静态方法中的变量是否也在开始时初始化而不是垃圾收集？

方法变量是**每次调用**（在堆栈上） - 不是全局的；堆栈空间是在您输入方法时分配的。如果您有引用类型的变量，它们将在方法退出时超出范围（假设这些变量没有“捕获”到比方法寿命更长的委托或 lambda 表达式中）。

只有*对象*被垃圾收集；不是变量。引用类型变量只*保存*对对象的引用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T06:27:09.610

静态方法变量在方法被调用时创建，当方法执行结束时将超出范围，它们准备好被垃圾收集。

# c# - JavaScript - 在 JavaScript 对象属性值中转义单引号

> ID：10647723
> 
> 赞同：6
> 
> 时间：2012-05-18T06:24:26.533
> 
> 标签：c#, javascript, jquery, json

在我的例子中，我试图将 JavaScript 对象从后面的 C#.NET 代码动态拆分为 HTML 标记。获取数据后，我准备字符串并在字符串中创建对象，然后将其吐出到 HTML 标记中。

```
var fileUploadDic = { 'firstname': 'Jo''hn', 'lastname' : 'Macy' , 'country' : 'USA }; 
```

稍后在其他一些操作中，例如按钮单击，我试图拉出名字，它给了我一个 JavaScript 错误，因为名字属性中的值没有被转义以处理单引号。虽然我可以在代码后端准备对象字符串时这样做，但我更喜欢在客户端做一些事情。

```
var dv = $('#dv1')
dv.append(fileUploadDic.firstname);  //gives me error.
dv.append(fileUploadDic.lastname);
dv.append(fileUploadDic.country); 
```

JavaScript中有什么方法可以在从对象中获取字符时进行字符转义。

[http://jsfiddle.net/uagFu/8/](http://jsfiddle.net/uagFu/8/)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-18T06:36:54.690

尽管您正在寻找客户端解决方案，但最稳定和最可靠的方法是使用服务器端[JavaScriptSerializer](http://en.wikipedia.org/wiki/Robustness_principle)来序列化您的 C#对象转换为 JSON 字符串。

这些库旨在解决这些问题，并消除使用您的 API 的人（在这种情况下，只有您）需要以特殊方式处理数据的需要，仅仅是因为它包含未终止的字符串文字。

```
Employee oEmployee1 = 
   new Employee{Name="Pini",ID="111", Age="30"};

System.Web.Script.Serialization.JavaScriptSerializer oSerializer = 
     new System.Web.Script.Serialization.JavaScriptSerializer();
string sJSON = oSerializer.Serialize(oEmployee1); 
```

接下来，将 sJSON 从您的 AJAX 请求返回到客户端，并像处理任何其他 JSON 字符串一样对其进行处理。

有关更多信息和更多详细信息，请参阅[使用 JavaScriptSerializer 在 C# 中将对象转换为 JSON 。](http://blogs.microsoft.co.il/blogs/pini_dayan/archive/2009/03/12/convert-objects-to-json-in-c-using-javascriptserializer.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-18T06:36:22.827

在您准备使用的字符串中：

```
"var fileUploadDic = { 'firstname': 'Jo\\'hn', 'lastname' : 'Macy' , 'country' : 'USA };" 
```

现在客户端看起来像：

```
var fileUploadDic = { 'firstname': 'Jo\'hn', 'lastname' : 'Macy' , 'country' : 'USA }; 
```

如果你想替换`''`客户端，你可以使用`[varstr].replace(/''/g,"\\'")`，但我认为客户端为时已晚（错误已经在到达和解释发送的字符串时抛出）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-18T06:40:20.940

您显示的第一行代码不是有效的 JavaScript：

```
var fileUploadDic = { 'firstname': 'Jo''hn', 'lastname' : 'Macy' , 'country' : 'USA }; 
```

因为字符串`'Jo''hn'`中不能有这样的单引号。它必须是`'Jo\'hn'`或`"Jo'hn"`。也就是说，如果你的 JS 字符串用单引号引起来，你必须用反斜杠转义字符串中的每个单引号字符，但如果你的 JS 字符串用双引号引起来，你可以在字符串中自由使用单引号。如果您想要连续两个单引号`'Jo\'\'hn'`或`"Jo''hn"`.

**你无法修复这个客户端，因为它是无效的 JavaScript，它不会运行。**

你必须在服务器端修复它；最简单的方法可能是用反斜杠转义它，注意如果它在 C# 字符串中，您也需要转义反斜杠，以便浏览器的实际输出包含反斜杠：

```
"var fileUploadDic = { 'firstname': 'Jo\\'hn', 'lastname' : 'Macy' , 'country' : 'USA };" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-18T06:31:39.567

你可以使用\'...

[jsfiddle](http://jsfiddle.net/uagFu/15/)

那是你要的吗？实际上似乎只使用单引号就可以完全不转义，因为您在 jsfiddle 的定义中使用了 " 双引号 ...但现在我想我不明白您想要什么。

如果您确实希望出现两个单引号，那么您可以使用“Jo\'\'hn”...为我工作。

# vba - 比较每张表的 ID 和值，然后编译所有 ID 并将值添加到最终表中

> ID：10647727
> 
> 赞同：0
> 
> 时间：2012-05-18T06:25:02.887
> 
> 标签：vba, excel

我要求帮助比较不同时间点实验中的基因表达值，使用 Excel 或 VBA 进行比较然后生成报告表。每张表（时间点）包含两列：Gene ID 和 Value，并且每张表中的基因 ID 可能不相同（时间点：1H、4H 和 8H.. 等）。在报告表（sheet4）中，我想要所有基因 ID（第 1 列）和每个时间点的值（第 2 列，第 3 列，第 4 列）。因此，最终工作表（工作表 4）将包含来自每个工作表的所有基因 ID 到列 1，工作表 1（值 1）、工作表 2（值 2）和工作表 3（值 3）的表达式值将在列 2、列 3 和列 4 中表 4。我使用 excel 的“vlookup”可以在比较/查找 ID 后将表达式值添加到 sheet4，但我不知道如何将所有工作表的 GeneID 一起添加。

它看起来像：

表 1（1H）：

(标题) GeneID, Value1

生态，2；

Xmo, 4;

表 2（4H）：

(标题) GeneID, Value2

生态，6；

嗯，8；

表 3（24 小时）：

(标题) GeneID, Value3

Xmo, 10;

阿玛，12；

最后的sheet4（总结）：

(标题) GeneID、Value1、Value2、Value3

Eco, 2, 6, (空白);

Xmo, 4, (空白), 6;

嗯，（空白），8，（空白）；

安娜，（空白），（空白），12；

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T07:42:31.243

我认为最快的方法可能是使用*Data|Consolidate*命令并显示设置：

![在此处输入图像描述](../Images/8991f200cd0a4ac27bb2fe42a930868f.png)

![在此处输入图像描述](../Images/2f596379c3f9441340685915c571ed90.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T11:28:55.193

您可以使用 ADO 和 Excel 做很多事情。假设您的工作表名称是 1Hour、4Hour 和 24Hour。

```
''http://support.microsoft.com/kb/257819
Dim cn As Object
Dim rs As Object
Dim strFile As String
Dim strCon As String
Dim strSQL As String
Dim s As String
Dim i As Integer, j As Integer

''This is not the best way to refer to the workbook
''you want, but it is very convenient for notes
''It is probably best to use the name of the workbook.

strFile = ActiveWorkbook.FullName

''HDR=Yes, the names in the first row of the range
''are used as field (column) names.
''
''This is the ACE / Excel 2007/10 connection string, you can get more
''here : http://www.connectionstrings.com/excel

strCon = "Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" & strFile _
    & ";Extended Properties=""Excel 12.0 Xml;HDR=YES"";"

''Late binding, so no reference is needed

Set cn = CreateObject("ADODB.Connection")
Set rs = CreateObject("ADODB.Recordset")

cn.Open strCon

strSQL = "TRANSFORM Sum(ValX) As SumVal " _
       & "SELECT GeneID FROM ( " _
       & "SELECT GeneID, '01Hour' As TimeX, Value1 As ValX  " _
       & "FROM [1Hour$] " _
       & "UNION ALL " _
       & "SELECT GeneID, '04Hour' As TimeX, Value2 As ValX  " _
       & "FROM [4Hour$] " _
       & "UNION ALL " _
       & "SELECT GeneID, '24Hour' As TimeX, Value3 As ValX  " _
       & "FROM [24Hour$] ) t " _
       & "GROUP BY GeneID " _
       & "PIVOT TimeX"

rs.Open strSQL, cn, 3, 3

''Pick a suitable empty worksheet for the results
With Worksheets("Sheet4")
    For i = 0 To rs.Fields.Count - 1
        .Cells(1, i + 1) = rs.Fields(i).Name
    Next

    .Cells(2, 1).CopyFromRecordset rs
End With

''Tidy up
rs.Close
Set rs = Nothing
cn.Close
Set cn = Nothing 
```

可以使用 Jet/ACE SQL。

[基础 Microsoft Jet SQL for Access 2000](http://msdn.microsoft.com/en-us/library/aa140011%28office.10%29.aspx)
[中级 Microsoft Jet SQL for Access 2000](http://msdn.microsoft.com/en-us/library/aa140015%28office.10%29.aspx)
[高级 Microsoft Jet SQL for Access 2000](http://msdn.microsoft.com/en-us/library/aa139977%28office.10%29.aspx)

# python - Python -- 在同一个包内的模块中导入包

> ID：10647729
> 
> 赞同：53
> 
> 时间：2012-05-18T06:25:11.550
> 
> 标签：python

我有一个类似这样的项目结构......

```
/some_app
    build/
    README
    out.py
    some_app/
        __init__.py
        mod1.py
        mod2.py 
```

现在我想将`some_app`包导入`mod2`，而不会弄乱`sys.path`诡计。我所做的只是...

```
# mod2.py
import some_app 
```

现在当我从命令行运行 mod2.py

```
some_app $ python mod2.py 
```

它抛出错误`ImportError: No module named some_app`

但是，在`out.py`文件中，当我这样做时

```
# out.py
import some_app.mod2 
```

然后做

```
some_app $ python out.py 
```

它运行完美。

因此，正在发生的事情就是这样。我在同一个包内的模块中加载一个包，然后将该模块作为`__main__`文件运行——它不起作用。接下来，我在另一个模块中加载相同的模块（我运行的那个`__main__`），然后将另一个模块运行为`__main__`-- 并且它可以工作。

有人可以详细说明这里发生了什么吗？

**更新**

我知道这样做没有直接的理由——因为我可以直接在`some_app`包中导入任何模块。我尝试这样做的原因是，在 Django 项目中，这就是他们正在做的事情。例如看[这个文件](https://github.com/django/django/blob/master/django/http/multipartparser.py)

在每个模块中，所有非标准导入都以`django.`. 所以我想知道他们为什么以及如何这样做。

**更新 2**

相关链接

*   [如何在 Python 中进行相对导入？](https://stackoverflow.com/questions/72852/how-to-do-relative-imports-in-python)
*   [Python：导入包含的包](https://stackoverflow.com/questions/436497/python-import-the-containing-package)

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2012-05-18T06:57:50.247

`mod2.py`是的一部分`some_app`。因此，导入模块是没有意义的，因为您已经在其中。

你还可以`import mod1`。我假设你需要`some_app/__init__.py`跑步。不确定这是否可能。

* * *

### 编辑：

看起来`from . import some_module`会做你所追求的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-18T06:53:42.060

You can do `import some_app.mod2` from `out.py` because it is in the same directory that you have `some_app` package, and Python interpreter starts to look for modules from that path.

The import error in `mod2.py` is normal because there is not a `some_app` package in `mod2.py` folder.

* * *

## 回答 #3

> 赞同：-7
> 
> 时间：2018-03-09T19:54:00.137

似乎“from .import some_module”仅在 Python3 中有效。

通用方法是在**init** .py中进行所有导入

# php - 在 PHP 中显示韩语时出错

> ID：10647730
> 
> 赞同：0
> 
> 时间：2012-05-18T06:25:13.197
> 
> 标签：php, character-encoding

大家好，我需要你的帮助来解决我的问题。

我尝试从 .txt 文件显示文本（韩语），但输出不同。我有一个 .txt 文件包含这样的韩语字符 `냐는 한국을 사랑`

但是当我尝试时：

```
$str= file_get_contents($path."result.txt");
echo $str; 
```

在浏览器上，结果是这样的：`�먮뒗 �쒓뎅�� �щ옉`

但是我只是回声就可以了`"냐는 한국을 사랑"`

有什么不对 ？

感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T07:25:55.597

显然，文件的字符编码与您的代码生成的 HTML 文档的字符编码不同。

您可以在 PHP 中动态转换文本数据，或者您可以使用合适的转换程序来转换文本文件。您可以在文本编辑器中打开文本文件并使用另存为将其保存为 UTF-8 编码（没有 BOM），假设您的 PHP 正在生成一个 UTF-8 编码的文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T06:41:30.050

在您的 php 文件中使用`header("Content-Type: text/html; charset=UTF-8")`或在您的 html 中使用元标记`<meta charset='utf-8'>`。并确保您使用的字体支持您需要的 unicode 字符。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-09-17T10:06:42.480

我挣扎了一段时间来解决这个问题，直到我发现这对我来说非常有效：

```
echo call_user_func_array('mb_convert_encoding', array("행동 방식",'HTML-ENTITIES','UTF-8')); 
```

# c# - 托管 VCL.箭头键和 Tab 键

> ID：10647733
> 
> 赞同：4
> 
> 时间：2012-05-18T06:25:39.810
> 
> 标签：c#, delphi, keyboard-events

我正在使用托管 VCL 在 Delphi 表单上托管我的 .net 用户控件。但我有一个问题：tab 键、箭头键和特定键（HOME、INSERT）不起作用。

**我尝试了托管 VCL 论坛上写的所有内容。**
1）我试图将我的用户控件放到更高级别的用户控件并覆盖 ProcessDialogKey 那里。但这没有帮助。
2）我尝试将 DLGC_WANTTAB 或 DLGC_WANTALLKEYS 添加到 TClrCustomControl.WMGetDlgCode 的消息结果中，但这也对我没有帮助。

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-05-04T14:07:45.930

我有一个类似的问题。我通过拦截主机表单上的 tab 键并且不允许它处理击键来解决它。以下代码适用于我的情况：

```
procedure CMDialogKey(var Message: TCMDialogKey); message CM_DIALOGKEY;
...
procedure TForm1.CMDialogKey(var Message: TCMDialogKey);
begin
  if Message.CharCode = VK_TAB then
    // ignore tabs and allow the TClrControl to handle them
  else
    inherited;
end; 
```

在我的例子中，TClrControl 是客户端对齐的并覆盖整个表单，因此如果您混合使用 VCL 和 .NET 控件，这在您的情况下可能不太正确。

# java - RMI Java 中的 ClassNotFoundException

> ID：10647735
> 
> 赞同：-1
> 
> 时间：2012-05-18T06:25:44.560
> 
> 标签：java, rmi

我不能让编译器找到我想要的类 正是这个： `ctx.rebind("MyInterfaceImplementacja", ref);`。我可以请你纠正我吗？

```
package Pakiet;
import java.rmi.Remote;
import java.rmi.RemoteException;

public interface MyInterface extends Remote {
public String echo(String napis) throws RemoteException;
public int dodaj(int wrt1, int wrt2) throws RemoteException;
} 
```

* * *

```
package Pakiet;

import java.rmi.RemoteException;
import javax.rmi.PortableRemoteObject;

public class MyInterfaceImplementacja extends PortableRemoteObject implements MyInterface {
  protected MyInterfaceImplementacja() throws RemoteException {
    super();
  }

  @Override
  public String echo(String napis) throws RemoteException {
    return "echo" + napis;
  }

  @Override
  public int dodaj(int wrt1, int wrt2) throws RemoteException {
    return wrt1 + wrt2;
  }
} 
```

* * *

```
public class MyInterfaceSerwer {
  public static void main(String[] args) {
    try{
      MyInterfaceImplementacja ref = new MyInterfaceImplementacja();
      Context ctx = new InitialContext();
      ctx.rebind("MyInterfaceImplementacja", ref);      
    }catch(Exception e){e.printStackTrace();}
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T07:31:31.980

尝试这个

1.  将实现类扩展为 UnicastRemoteObject 而不是 PortableRemoteObject。

2.  像这样在你的重新绑定方法中使用 rmi

    ctx.rebind("rmi:MyInterfaceImplementacja", ref);

保持以下指南以备将来使用

否决票

如果您正在尝试实施 RMI。请按照以下步骤试试这个.... 在服务器端：

1.  创建扩展 java.rmi.Remote 接口的接口 // 由客户端和服务器共享

2.  创建接口的实现类，并将其扩展为 UnicastRemoteObject

3.  现在创建具有 rebind 方法的 Server 类。

    在客户端：

4.  创建扩展 java.rmi.Remote 接口的接口 // 由客户端和服务器共享

5.  创建具有查找方法的客户端类。

    例如：在服务器上

    Car.java // 接口

    CarImpl.java // 实现类

    CarServer.java // 服务器类

    在客户端

    Car.java // 接口

    CarClient.java // 客户端类

# c# - c# 等价于 vb 中的 Err

> ID：10647736
> 
> 赞同：0
> 
> 时间：2012-05-18T06:25:45.373
> 
> 标签：c#, vb.net, vb.net-to-c#

让我知道：如何在 C# 中访问 Err？这是要转换的示例 VB 代码：

```
If Len(sPart1) <> PART1_LENGTH Then
    Err.Raise(vbObjectError,  , "Part 1 must be " & PART1_LENGTH)

ElseIf Not IsNumeric(sPart1) Then 
    Err.Raise(vbObjectError,  , "Part 1 must be numeric") 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T06:30:33.257

你可以利用

```
 throw new Exception(); 
```

你拿参考。来自 MSDN：[错误引发和处理指南](http://msdn.microsoft.com/en-us/library/8ey5ey87%28v=vs.71%29.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-18T06:36:33.390

首先，让我们将其转换为现代 VB 代码：

```
If sPart1.Length <> PART1_LENGTH Then
  Throw New ApplicationException("Part 1 must be " & PART1_LENGTH)
ElseIf Not IsNumeric(sPart1) Then
  Throw New ApplicationException("Part 1 must be numeric")
End If 
```

然后 C# 翻译是直截了当的：

```
int part;
if (sPart1.Length != PART1_LENGTH) {
  throw new ApplicationException("Part 1 must be " + PART1_LENGTH.ToString());
} else if (!Int32.TryParse(sPart1, out part)) {
  throw new ApplicationException("Part 1 must be numeric")
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-18T06:28:48.013

假设您询问的是语法，而不是特定的类：

```
throw new SomeException("text"); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-18T06:28:34.537

替换`Err.Raise`为

```
 throw new Exception("Part 1 must be numeric"); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-08-09T22:01:05.643

我知道在 C# 和 VB.NET 中都应该使用异常，但是为了后代，可以在 C# 中使用 ErrObject。

OP的程序转换为C#的完整示例程序：

```
using Microsoft.VisualBasic;

namespace ErrSample
{
    class Program
    {
        static void Main(string[] args)
        {
            ErrObject err = Information.Err();

            // Definitions
            const int PART1_LENGTH = 5;
            string sPart1 = "Some value";
            int vbObjectError = 123;
            double d;

            if (sPart1.Length != PART1_LENGTH)
                err.Raise(vbObjectError, null, "Part 1 must be " + PART1_LENGTH);
            else if (!double.TryParse(sPart1, out d))
                err.Raise(vbObjectError, null, "Part 1 must be numeric");
        }
    }
} 
```

# delphi - Delphi：从启用代理的 windows7 pc 访问 SOAP 服务器时出现访问冲突错误，并且 SOAP 服务器挂起

> ID：10647737
> 
> 赞同：5
> 
> 时间：2012-05-18T06:25:51.377
> 
> 标签：delphi, delphi-7, delphi-2009, delphi-xe2, delphi-xe

我花了几个星期在谷歌上搜索并尝试对代码进行各种更改。我什至尝试将日志文件放在 SOAP 服务器中，但在代码中没有发现错误。

我有一个用 delphi XE 编写的 SOAP 服务器。它非常直截了当。接口只有一个功能

```
type
  { Invokable interfaces must derive from IInvokable }
  IIirate = interface(IInvokable)
  ['{153E0531-5EAB-49E3-B824-62447AF6F0A9}']

    { Methods of Invokable interface must not use the default }
    { calling convention; stdcall is recommended }
    Function ProcessRequest(Request: TSOAPAttachment): TSOAPAttachment; stdcall;
  end; 
```

我有一个启用代理的电脑的客户端。只有当他登录到我的 SOAP 服务器时，它才会挂起，除非我回收 IIS 应用程序池，否则没有其他人可以访问服务器。但我可以看到肥皂附件缓存文件不断进入服务器。有趣的是，如果我在接口单元中注释掉 ProcessRequest 函数，就会出现同样的情况。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-09-06T13:26:35.480

您可以尝试使用 soapUI 对您的服务器 ( [https://www.soapui.org/](https://www.soapui.org/) ) 进行测试，以消除客户端应用程序正在执行导致其挂起的操作的可能性。但是，一个客户端不应该真的能够让它挂起。您的 SOAP 服务器使用的线程模型是多线程模型吗？该链接包含有关 COM 多线程的信息[https://docs.microsoft.com/en-us/windows/win32/com/choosing-the-threading-model](https://docs.microsoft.com/en-us/windows/win32/com/choosing-the-threading-model)

# ios - IOS的会话密钥

> ID：10647738
> 
> 赞同：2
> 
> 时间：2012-05-18T06:25:53.977
> 
> 标签：ios, facebook-graph-api

我正在开发一个 iOS 应用程序，我想访问当前登录的用户登录到设备的会话密钥。是否可以在 iOS 中获取登录用户的会话密钥？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T01:46:19.630

您可以获得令牌和到期日期。你为什么要这些信息？

# python - 在python中使用scrapy执行Javascript函数

> ID：10647741
> 
> 赞同：5
> 
> 时间：2012-05-18T06:26:20.450
> 
> 标签：python, scrapy

我对“ **scrapy** ”很陌生，我正在废弃一个网站，并且我有一些锚标签，其中包含带有**java 脚本 SubmitForm 函数**的 href 属性。当我单击该 javascript 函数时，一个页面正在打开，我需要从中获取数据。我使用**Xpath**并找到了特定锚标记的 href，但无法执行包含 javascript 函数的 href 属性。谁能告诉我如何在scrapy python中执行javascript提交锚标签的功能。我的HTML代码是

```
 <table class="Tbl" cellspacing="2" cellpadding="0" border="0">
     <tbody>
        <tr>
           <td class="TblOddRow">
             <table cellspacing="0" cellpadding="0" border="0">
               <tbody>
                 <tr>
                   <td valign="middle" nowrap="">
                        <a class="Page" alt="Click to view job description" title="Click to view job description" href="javascript:sysSubmitForm('frmSR1');">Accountant&nbsp;</a>
                   </td>
                 </tr>
               </tbody>
             </table>
           </td>
        </tr>
      </tbody>
  </table> 
```

蜘蛛代码是

```
class MountSinaiSpider(BaseSpider):
   name = "mountsinai"
   allowed_domains = ["mountsinaicss.igreentree.com"]
   start_urls = [
       "https://mountsinaicss.igreentree.com/css_external/CSSPage_SearchAndBrowseJobs.ASP?T=20120517011617&",
   ]
   def parse(self, response):
       return [FormRequest.from_response(response,
                                        formdata={ "Type":"CSS","SRCH":"Search&nbsp;Jobs","InitURL":"CSSPage_SearchAndBrowseJobs.ASP","RetColsQS":"Requisition.Key¤Requisition.JobTitle¤Requisition.fk_Code_Full_Part¤[Requisition.fk_Code_Full_Part]OLD.Description(sysfk_Code_Full_PartDesc)¤Requisition.fk_Code_Location¤[Requisition.fk_Code_Location]OLD.Description(sysfk_Code_LocationDesc)¤Requisition.fk_Code_Dept¤[Requisition.fk_Code_Dept]OLD.Description(sysfk_Code_DeptDesc)¤Requisition.Req¤","RetColsGR":"Requisition.Key¤Requisition.JobTitle¤Requisition.fk_Code_Full_Part¤[Requisition.fk_Code_Full_Part]OLD.Description(sysfk_Code_Full_PartDesc)¤Requisition.fk_Code_Location¤[Requisition.fk_Code_Location]OLD.Description(sysfk_Code_LocationDesc)¤Requisition.fk_Code_Dept¤[Requisition.fk_Code_Dept]OLD.Description(sysfk_Code_DeptDesc)¤Requisition.Req¤","ResultSort":"" },
                                        callback=self.parse_main_list)]
   def parse_main_list(self, response):
       hxs = HtmlXPathSelector(response)
       firstpage_urls = hxs.select("//table[@class='Tbl']/tr/td/table/tr/td")

   for link in firstpage_urls:
       hrefs = link.select('a/@href').extract() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-01-31T10:09:28.557

Scrapy 不允许你“执行 javascript 提交函数”。为此，您必须使用 Splash 或支持与 JavaScript 交互的类似替代方法。Scrapy 仅适用于底层 HTML。

使用 Scrapy 解决问题的方法是弄清楚 JavaScript 代码如何构建请求，并使用 Scrapy 重现这样的请求。

要弄清楚 JavaScript 代码的作用，您有两种选择：

*   在页面 JavaScript 代码中找到 的定义，`sysSubmitForm()`并通过自己阅读 JavaScript 代码了解它的作用。

*   使用 Web 浏览器的开发人员工具的网络选项卡来查看触发该 JavaScript 代码时向服务器发送的请求，并检查请求以确定如何自己构建类似的请求。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2014-08-22T09:58:33.397

使用内置的 FormRequest 或 FormRequest.from_response 函数 - 在它们内部指定要提交给表单的数据。

# c++ - OpenGL ES2 彩色三角形

> ID：10647754
> 
> 赞同：0
> 
> 时间：2012-05-18T06:27:12.927
> 
> 标签：c++, opengl-es

我正在尝试在opengl es 2中制作基本三角形，但无论我做什么，它似乎都不起作用..我得到的只是一个白色三角形。但是，我认为链接程序时可能会出现问题（那是我禁用了链接检查“if”的返回，否则它根本不会运行）。此外，当我使用控制台运行时，我得到输出“错误：1281”。我的代码：

```
int loadShader(int type, char * shaderCode)
{
    int length = strlen(shaderCode);

    int shader = glCreateShader(type);
    glShaderSource(shader, 1, (const char **) &shaderCode, NULL);
    glCompileShader(shader);

    return shader;
}

// Initializes the application data
int Init(void) 
{
    // Vertex shaders
    char * vertexShaderCode = 
        "attribute vec4 vPosition; \n" 
        "void main() {             \n" 
        " gl_Position = vPosition; \n"  
        "}                         \n";

    char * fragmentShaderCode = 
        "precision mediump float;                 \n"
        "void main() {                            \n"
        " gl_FragColor = vec4(0.5, 0.5, 0.5, 1.0);\n"
        "}                                        \n";

    GLuint vertexShader = loadShader(GL_VERTEX_SHADER, vertexShaderCode);
    GLuint fragmentShader = loadShader(GL_FRAGMENT_SHADER, fragmentShaderCode);
    GLint linked;

    program = glCreateProgram();

    glAttachShader(program, vertexShader);
    glAttachShader(program, fragmentShader);
    glBindAttribLocation(program, 0, "vPosition");
    glLinkProgram(program);

    glGetProgramiv(program, GL_LINK_STATUS, &linked);

    if(!linked)
    {
       GLint infoLen = 0;
       glGetProgramiv(program, GL_INFO_LOG_LENGTH, &infoLen);
       if(infoLen > 1)
       {
          char* infoLog = (char *) malloc(sizeof(char) * infoLen);
          glGetProgramInfoLog(program, infoLen, NULL, infoLog);
          free(infoLog);
       }
       glDeleteProgram(program);
       //return 0;
    }

    // Basic GL setup
    glClearColor    (0.0, 0.0, 0.0, 1.0);

    return GL_TRUE;
}

// Main-loop workhorse function for displaying the object
void Display(void)
{
    // Clear the screen
    glClear (GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
    glClearColor(0.0, 0.0, 0.0, 1.0);   

    GLfloat vertices[] = {
        -0.5f, 0.0f, -1.0f,
        0.0f, 1.0f, -1.0f,
        0.5f, 0.0f, -1.0f,
    };

    GLfloat colors[] = {
        0.0f, 0.0f, 1.0f, 1.0f,
        0.0f, 1.0f, 0.0f, 1.0f,
        1.0f, 0.0f, 0.0f, 1.0f,
    };

    glUseProgram(program);

    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 0, vertices);
    glEnableVertexAttribArray(0);

    glVertexAttribPointer(1, 4, GL_FLOAT, GL_FALSE, 0, colors);
    glEnableVertexAttribArray(1);

    glDrawArrays(GL_TRIANGLES,  0, 3);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T07:24:52.993

首先启用顶点属性数组，然后传递指针...

```
glEnableVertexAttribArray(0);    
glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 0, vertices);

glDrawArrays(GL_TRIANGLES,  0, 3); 
```

您也在“1”属性数组中发送颜色，但着色器中没有这样的属性。

# delphi - 处理 DbExpress Sql 错误代码 245

> ID：10647760
> 
> 赞同：1
> 
> 时间：2012-05-18T06:27:57.407
> 
> 标签：delphi, error-handling, delphi-xe2, dbexpress

我正在尝试为我的学期考试构建一个调度程序应用程序，如果老师在某周、某天和某个小时有课，我正在查询数据库。有没有办法使用 DBExpress 处理 Delphi Xe2 中的 Sql 错误代码？我有一个查询在 SQL Server2008 上执行我的询问（我让用户选择参数），这就是问题所在；如果用户让一个参数字段为空，我的应用程序会在图像中显示消息；好吧，这不是显示错误消息的用户友好方式，因此我尝试处理异常但没有任何成功：这是我为查询 SQL Server 而编写的代码：

```
with DataModule1.QueryV1 do
 Try
    Close;
    SQL.Clear; // clear command sql if there is
    SQL.Add ('SELECT * FROM OrarC WHERE IDZi =' +
    QuotedStr(LlbZiua.KeyValue)+ 'and IDInterval=' + QuotedStr(LlbIntOrar.KeyValue) +
     'and IDSala='+ QuotedStr(EdtIDSala.Text)+ EdtSaptamana.Text);
    Open;
  except
    on E:TDBXError do begin
      showmessage('Error!');
    end;
  End; 
```

在 E:TDBXError 我也试过 E:EDataBaseError 并且结果是一样的；通过返回的 SqlErrorCode 处理错误会很好，但我不知道如何得到它。 ![在此处输入图像描述](../Images/ac8aea64ed01c7bb58aff16bc356a90b.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T10:09:16.747

在调试器下运行您的程序并观察引发的异常的实际类，或者您可以在运行时获取异常类，例如：

```
 ..
except on E: Exception do
  ShowMessage(E.ClassName);
end; 
```

如果它确实是，`TDBXError`那么你可以使用例如

```
uses
  dbxcommon;

except
  on E: TDBxError do begin
    if (E.ErrorCode = TDBXErrorCodes.InvalidArgument) then
      .. 
```

但据我所知， 245 不是其中之一`TDBXErrorCodes`，所以可能你还有另一个例外。如果它是一个`EDatabaseError`没有什么可做的，因为该类没有错误代码字段。

不太相关，但也请参阅[Data.DBXCommon.TDBXConnection.OnErrorEvent](http://docwiki.embarcadero.com/Libraries/en/Data.DBXCommon.TDBXConnection.OnErrorEvent)以便能够在中心位置管理 dbexpress 异常。

# clearcase - 如何获取有关集成流的贡献活动详细信息？

> ID：10647761
> 
> 赞同：2
> 
> 时间：2012-05-18T06:28:00.323
> 
> 标签：clearcase, cleartool

我需要帮助来了解如何获取特定贡献活动何时交付到集成流的详细信息。
我曾经使用`diffbl -activity baseline1 baseline2`in`cleartool`来获取从一个基线到另一个基线的活动列表。

现在新的需求是我需要获取一些列为输出的活动的`diffbl`交付日期时间。
我尝试使用`lsact`，`describe`但我收到“ `Activity not found`”错误。
可能是因为我正在查询的活动是一项贡献活动。

有人可以知道如何获取贡献活动交付的日期时间或如何自定义“ `diffbl -activity baseline1 baseline2`”的输出以获取活动日期时间详细信息吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T08:23:26.950

当我查看[`cleartool diffbl`](http://publib.boulder.ibm.com/infocenter/cchelp/v7r0m0/index.jsp?topic=/com.ibm.rational.clearcase.cc_ref.doc/topics/ct_diffbl.htm)手册页时，我没有看到任何格式化选项。

这意味着您需要解析该命令的结果，将每个活动提供给 a `cleartool describe -fmt`，使用[fmt_ccase 选项](http://publib.boulder.ibm.com/infocenter/cchelp/v7r0m1/index.jsp?topic=/com.ibm.rational.clearcase.cc_ref.doc/topics/fmt_ccase.htm)之一来显示您想要的内容。

[该线程](http://www.ibm.com/developerworks/forums/thread.jspa?threadID=215327)让您了解要遵循的过程，但它是在 bash (unix) 中，如果您需要它可以适应 Windows：

```
for act in $(ct diffbl -act bl1@/vobs/apvob bl2@/vobs/apvob | grep ">>" | grep -v "deliver." | cut -f2 -d " "); do echo "Activity: $act"; cleartool desc -fmt "%d\n" activity:$act; echo; done 
```

在多行中以提高可读性：

```
for act in $(ct diffbl -act bl1@/vobs/apvob bl2@/vobs/apvob 
  | grep ">>" 
  | grep -v "deliver." 
  | cut -f2 -d " "); 
  do 
    echo "Activity: $act"; cleartool desc -fmt "%d\n" activity:$act; echo; 
  done 
```

请注意，通过排除“ `deliver.`”活动，我们只关注贡献活动，如“[如何查找与 ClearCase UCM 活动关联的文件？](https://stackoverflow.com/questions/10632109/how-to-find-files-asssociated-with-a-clearcase-ucm-activity/10632818#10632818) ”中所述。

* * *

[OP Lax](https://stackoverflow.com/users/1402644/lax)报告成功地提取了活动的名称，其中包括：

```
desc -fmt "%Nd\n" "activity:myActivityId" 
```

（`@\pvob`已经是`diffbl`命令结果的一部分。Lax 只是`activityid`从`diffbl`结果中解析并将其放入`desc`命令）

他补充说：

> 我在 C# 的上下文中需要这个，所以解析就像解析任何其他字符串一样：我使用正则表达式将输出分隔到我感兴趣的活动中。前任：

```
Regex.Matches(diffBlOutput, "myInterestedPattern"); 
```

> 对于正则表达式结果中的每场比赛，我得到了活动

```
RegexMatch.Groups["activity"].ToString() 
```

> `activityid`实际上是这个字符串的一个子字符串，因为结果总是“ `activtyid activityName`”所以，`substring(0,result.indexOf(' '));`让我得到活动 ID。

# c - C 的 OSGi 实现？

> ID：10647765
> 
> 赞同：0
> 
> 时间：2012-05-18T06:28:23.117
> 
> 标签：c, osgi, implementation

是否有任何可用于 C 的 OSGi 实现？我的搜索结果只找到了 Apache Celix，但 Celix 还没有可用的版本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:49:50.520

这篇文章[OSGi 和 C++](http://blog.cppmicroservices.org/2012/03/29/osgi-and-c++/)讨论了一些 OSGi 中的 C 和 C++ 项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-09T16:53:47.500

[Apache Celix](http://incubator.apache.org/celix/index.html)是唯一公开的 OSGi 规范的 C 实现。

他们正[计划发布 0.0.1 版本](http://incubator.markmail.org/message/yx36ggk4cizearry?q=%20list%3aorg.apache.incubator.celix-dev)，并且还在为[标准化 C/C++ OSGi API](http://blog.cppmicroservices.org/2012/05/26/native-osgi-meeting-hengelo/)进行早期努力。Celix 当然可以利用早期采用者来帮助它成熟并获得更多的认可。

# sql - DB2 - 有没有一种简单的方法来获得“以前的有效值”？

> ID：10647771
> 
> 赞同：1
> 
> 时间：2012-05-18T06:28:41.747
> 
> 标签：sql, group-by, db2, sql-order-by

我不确定将问题称为“以前的有效值”是否合适。事情是这样的：

我有一个表“A”：

```
create table A (
  name varchar(16),
  performanceDate date,
  value int
); 
```

name 和 PerformanceDate 都是主键。

有一个流程会每天为每个用户插入数据。因此，数据将如下所示：

```
select * from A;
|------+-----------------+-------|
| name | performanceDate | value |
|------+-----------------+-------|
| Joe  |      2012-05-18 | null  |
| Joe  |      2012-05-17 | 2     |
| Joe  |      2012-05-16 | null  |
| Joe  |      2012-05-15 | null  |
| Joe  |      2012-05-14 | 3     |
|------+-----------------+-------| 
```

目前，我想获得一个 preformanceDate 介于 2012-05-16 和 2012-05-18 之间的结果集，如果当前日期的值为 null，则应将其替换为*以前的有效值*。例如，2012-05-16 的值为 null，2012-05-16 之前的第一个有效值为`3`2012-05-14。因此，结果如下所示：

```
|------+-----------------+-------|
| name | performanceDate | value |
|------+-----------------+-------|
| Joe  |      2012-05-18 |     2 |
| Joe  |      2012-05-17 |     2 |
| Joe  |      2012-05-16 |     3 |
|------+-----------------+-------| 
```

到目前为止，我打算先将数据插入到临时表中（因为表“A”对我来说是只读的），然后一个一个地更新值。但是这种方式非常慢。你对此有什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T08:12:48.387

您可以使用 LATERAL JOIN，SQLFiddle 上还没有 DB2，下面是它在 SQL Server 中的等价物。LATERAL 等价于 SQL Server 的 APPLY：

```
select x.name, x.performanceDate, coalesce(x.value, y.value) as value
from tbl x

outer apply 
( 
  -- find nearest

  select top 1 value
  from tbl
  where 

    x.value is null

    and 

    (
       name = x.name
       and value is not null 
       and performanceDate < x.performanceDate 
    )

  order by performanceDate desc

) as y
order by x.name, x.performanceDate desc 
```

数据：

```
| NAME |            PERFORMANCEDATE |  VALUE |
|------|----------------------------|--------|
|  Joe | May, 18 2012 08:00:00-0700 | (null) |
|  Joe | May, 17 2012 08:00:00-0700 |      2 |
|  Joe | May, 16 2012 08:00:00-0700 | (null) |
|  Joe | May, 15 2012 08:00:00-0700 | (null) |
|  Joe | May, 14 2012 08:00:00-0700 |      3 | 
```

输出：

```
| NAME |            PERFORMANCEDATE | VALUE |
|------|----------------------------|-------|
|  Joe | May, 18 2012 08:00:00-0700 |     2 |
|  Joe | May, 17 2012 08:00:00-0700 |     2 |
|  Joe | May, 16 2012 08:00:00-0700 |     3 |
|  Joe | May, 15 2012 08:00:00-0700 |     3 |
|  Joe | May, 14 2012 08:00:00-0700 |     3 | 
```

现场测试：[http ://www.sqlfiddle.com/#!6/e0158/8](http://www.sqlfiddle.com/#!6/e0158/8)

* * *

基于 IBM 文档.. [http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/index.jsp?topic=%2Fdb2%2Frbafztabref.htm](http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/index.jsp?topic=%2Fdb2%2Frbafztabref.htm)

..，我希望是这样的：

```
select x.name, x.performanceDate, coalesce(x.value, y.value) as value
from tbl x,

lateral 
( 
  -- find nearest

  select top 1 value
  from tbl
  where 

    x.value is null

    and 

    (
       name = x.name
       and value is not null 
       and performanceDate < x.performanceDate 
    )

  order by performanceDate desc
  fetch first 1 rows only

) as y
order by x.name, x.performanceDate desc 
```

* * *

关于 CROSS APPY/OUTER APPLY 的有趣指标：http: [//explainextended.com/2009/07/16/inner-join-vs-cross-apply/](http://explainextended.com/2009/07/16/inner-join-vs-cross-apply/)

OUTER APPLY 的另一个使用示例：[http ://www.ienablemuch.com/2012/04/outer-apply-walkthrough.html](http://www.ienablemuch.com/2012/04/outer-apply-walkthrough.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-24T12:04:51.507

```
with tmp1(name, performanceDate, value, cid) as (
select 
   name,
   performanceDate,
   value,
   count(value) over (partition by name 
                          order by performanceDate,
                                   value nulls last) as cid from A),
tmp2(name, performanceDate, value) as (
select 
   name,
   performanceDate,
   first_value(value) over (partition by name, cid 
                                order by performanceDate, 
                                         value nulls last from tmp1)
select * from tmp2;

with tmp1 (name, performanceDate_Begin, performanceDate_End, value) as (
select 
   name,
   performanceDate as performanceDate_Begin,
   lead(performanceDate) over (partition by name 
                                   order by performanceDate,
                                            value nulls last) as performanceDate_End,value from A where value is not null),
tmp2 (name, performanceDate, value) as (
select 
   A.name,
   A.performanceDate,
   tmp1.value 
from A 
left join tmp1 on A.name = B.name 
              and A.performanceDate >= tmp1.performanceDate_Begin 
              and A.performanceDate < coalesce(tmp1.performanceDate_End,date '9999-12-31'))
select * from tmp2 
```

# iphone - 滚动表格视图时关闭 modalViewController 时的 EXC_BAD_ACCESS

> ID：10647776
> 
> 赞同：0
> 
> 时间：2012-05-18T06:29:06.657
> 
> 标签：iphone, ios, ipad, ios5

我有一个`UITableViewController`显示为模态视图的视图。当我在模态中什么都不做并使用`[self dismissModalViewControllerAnimated:YES];`一切正常时。但是当我在滚动`UITableView`内部时关闭我的模式时，应用程序会因 EXC_BAD_ACCESS 而崩溃。

我已经尝试过 NSZombieEnabled 但没有任何显示。有人知道为什么我的 tableview-delegates 在关闭视图后仍然被解雇？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T06:50:08.590

如果您释放任何自动释放的对象，请检查 modalview 控制器的 dealloc 方法

# java - IBM RAD 8 中的 JSPF 验证是否被破坏？

> ID：10647777
> 
> 赞同：0
> 
> 时间：2012-05-18T06:29:08.950
> 
> 标签：java, validation, jsp, jspinclude, ibm-rad

我的 IBM RAD 8 在应该验证 JSP 片段时不工作。它报告包含文件中定义的类和变量未定义的错误。我不想禁用验证，我在问如何启用它。我将我的 JSP 片段命名为 .jspf 并将其放入推荐的 WEB-INF/jspf 中，然后验证应该可以工作，但它没有。IBM 的唯一答案是如何禁用 JSPF 片段的验证：[http](http://www-01.ibm.com/support/docview.wss?uid=swg21284702) ://www-01.ibm.com/support/docview.wss?uid=swg21284702 它真的坏了吗？

我以这种方式包含我的文件

```
<div class="popup" id="popupSokNamn" 
<% if(!showSearch) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/namnuppgifter_sok.jspf" %>
</div> 
```

然后 IBM RAD 无法验证 jspf 文件。验证被破坏了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-26T11:13:49.220

Eclipse WTP for JSPF 有几个未解决的错误：[https ://bugs.eclipse.org/bugs/buglist.cgi?quicksearch=JSPF](https://bugs.eclipse.org/bugs/buglist.cgi?quicksearch=JSPF)

第一个：[https](https://bugs.eclipse.org/bugs/show_bug.cgi?id=155664) ://bugs.eclipse.org/bugs/show_bug.cgi?id=155664解释了为什么验证它们如此困难。

# class - 扩展本机会话类 codeigniter 1.7.2

> ID：10647778
> 
> 赞同：0
> 
> 时间：2012-05-18T06:29:12.577
> 
> 标签：class, codeigniter, session, native, extend

我正在使用本机会话库来替换 CI 中的内置会话库。我需要扩展类，但是当我加入 MY_Session.php 时，CI 会恢复到旧的 /system/libraries/Session.php。

如何扩展一个替换了像 Session.php 这样的核心 CI 类的类？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T07:30:46.200

> 只需将您的类文件命名为与本机库相同的名称，就会导致 CodeIgniter 使用它而不是本机库。要使用此功能，您必须将文件和类声明命名为与本机库完全相同。例如，要替换本机电子邮件库，您将创建一个**名为 application/libraries/Email.php的文件**
> 
> -用户指南

然后调用它

```
class MY_Email extends CI_Email {

    public function __construct()
    {
        parent::__construct();
    }
} 
```

加载你的子类：

```
$this->load->library('email'); 
```

**编辑** 试试这个：

只需加载您的新库（进行扩展的库）：

然后，假设我们有 Session.php 和 Mysession.php

```
<?php
load_class('session', false);

class Mysession extends Session {
   //your code
} 
```

您仍然不需要 MY_ 名称标签，我认为您想保留它的原始预期目的以避免混淆。

.. 否则只需使用 include() 或 require() :P

# c# - 如何在 asp.net mvc3 中显示矩阵表？

> ID：10647786
> 
> 赞同：5
> 
> 时间：2012-05-18T06:30:25.353
> 
> 标签：c#, html, asp.net-mvc, razor, matrix

我正在进行一个涉及使用实体框架和 asp.net mvc3 在矩阵视图中显示多对多关系数据库的小项目。涉及的三个表分别是SalesPerson（行标签）、Product（列标签）和Sales：

![矩阵表](../Images/a955c9c69bec37509afb7c5316f8298e.png)

如何在 asp.net mvc3 中开发/生成这种视图？

```
<table>
<tr>
    <th></th>
    @foreach (var m in Model)
    {
        foreach (var p in m.Products)
        {
            <th>@p.ProductName</th> 
        }           
    }
</tr>

    @foreach (var m in Model)
    {               
        foreach (var s in m.SalesPersons)
        {
          <tr>
               <td>@s.PersonName</td>

          </tr> 
         }
     }  
 @*Sales: a.Amount*@    
</table> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-18T08:26:33.513

使用与此类似的 LINQ 查询转换数据

```
var salesTable =
    from s in m.Sales
    group s by s.SalesPerson.Label into g
    select new
    {
        rowKey = g.Key,
        rowData = g.Select(s => new { Product = s.Product, Amount = s.Amount }).OrderBy(s => s.Product.Label)
    }; 
```

生成表格行很容易

```
@foreach (var tableRow in salesTable)
{
    <tr>
        <td>@tableRow.rowKey</td>
        @foreach (var sale in tableRow.rowData)
        {
            <td>@sale.Amount</td>
        }
    </tr>
} 
```

# c# - DateTime.ToString 抛出 IndexOutOfRangeException

> ID：10647787
> 
> 赞同：1
> 
> 时间：2012-05-18T06:30:28.387
> 
> 标签：c#, datetime, cultureinfo

我现在没有时间调查，所以我希望有人可以为我节省一些时间，当我回到工作岗位解决这个问题时:) ...

问题很简单但令人费解。

我在这行代码中得到了 IndexOutOfRangeException：

```
var date = new DateTime(2000, 1, 1).ToString(); 
```

我可以说日期创建得很好， ToString() 产生了问题。我在当前线程上更改 CultureInfo 后出现问题：

```
Thread.CurrentThread.CurrentCulture = new CultureInfo(langCode); 
```

尽管如此，从逻辑的角度来看，这对我来说毫无意义。

谢谢， 迈克尔

# facebook - facebook墙贴错误341

> ID：10647788
> 
> 赞同：1
> 
> 时间：2012-05-18T06:30:30.033
> 
> 标签：facebook, facebook-wall, error-code

我在朋友墙上发帖时出现以下错误，说“已达到 Feed 操作请求限制”。执行此类提要请求的确切限制是什么？我在哪里可以找到与此相关的文档？

```
 $error : Error Domain=facebookErrDomain Code=10000 "The operation couldn’t 
        be completed. (facebookErrDomain error 10000.)" 
        UserInfo=0x6ae32f0 
       {error=<CFBasicHash
           0x6ae2fe0 [0x132fb38]>{type = mutable dict, count = 3, entries =>
           $2 : <CFString 0x6aa0e30 [0x132fb38]>{contents = "type"} = 
                <CFString 0x6ae3190 [0x132fb38]>{contents = "OAuthException"}
           $3 : <CFString 0x6ae3130 [0x132fb38]>{contents = "message"} = 
                <CFString 0x6ae30d0 [0x132fb38]>{contents = "(#341) Feed action 
                    request limit reached"}
           $6 : <CFString 0x6ae3230 [0x132fb38]>{contents = "code"} = 341
}
} 
```

# android - 在 Android 的指定选项卡中启动新 Activity

> ID：10647790
> 
> 赞同：2
> 
> 时间：2012-05-18T06:30:33.920
> 
> 标签：android

> **可能重复：**
> [如何在开始其他活动时保留 Tabhost](https://stackoverflow.com/questions/7497067/how-to-keep-tabhost-when-start-other-activity)

我正在尝试从“tab1”启动新活动，但该活动在整个屏幕上打开。我需要在触发意图的选项卡中打开新活动。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T06:51:07.823

您可以通过两种方式实现它：

1.  将 Tabs 的内容设置为 ActivityGroup 而不是 Activity，并根据导航更改 ActivityGroup 的视图。 [TabGroupActivity - startChildActivity - 不工作](https://stackoverflow.com/questions/9075493/tabgroupactivity-startchildactivity-not-working) 但 ActivityGroup 已被弃用，所以我建议使用第二种方法。
2.  使用片段来实现 TabBar。

[http://android.codeandmagic.org/2011/07/android-tabs-with-fragments/](http://android.codeandmagic.org/2011/07/android-tabs-with-fragments/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T07:15:02.060

将此代码用于操作栏并在选项卡的片段中设置活动。

```
@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        appContext = getApplicationContext();

       //ActionBar
        ActionBar actionbar = getActionBar();
        actionbar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);

        ActionBar.Tab PlayerTab = actionbar.newTab().setText("Fragment A");
        ActionBar.Tab StationsTab = actionbar.newTab().setText("Fragment B");

        Fragment PlayerFragment = new AFragment();
        Fragment StationsFragment = new BFragment();

        PlayerTab.setTabListener(new MyTabsListener(PlayerFragment));
        StationsTab.setTabListener(new MyTabsListener(StationsFragment));

        actionbar.addTab(PlayerTab);
        actionbar.addTab(StationsTab); 
```

并将此类用于选项卡。

```
class MyTabsListener implements ActionBar.TabListener {
    public Fragment fragment;

    public MyTabsListener(Fragment fragment) {
        this.fragment = fragment;
    }

    @Override
    public void onTabReselected(Tab tab, FragmentTransaction ft) {
        Toast.makeText(StartActivity.appContext, "Reselected!", Toast.LENGTH_LONG).show();
    }

    @Override
    public void onTabSelected(Tab tab, FragmentTransaction ft) {
        ft.replace(R.id.fragment_container, fragment);
    }

    @Override
    public void onTabUnselected(Tab tab, FragmentTransaction ft) {
        ft.remove(fragment);
    } 
```

希望它对你有用。谢谢..

# facebook - Facebook Javascript SDK 404 - //connect.facebook.net/en_US/all.js

> ID：10647791
> 
> 赞同：1
> 
> 时间：2012-05-18T06:30:34.653
> 
> 标签：facebook, facebook-javascript-sdk

我正在尝试使用 HTML 5 在我的页面上包含一个简单的 Like 按钮。我在我的页面上包含了 Javascript SDK，就像文档中提到的那样，但我在 URL 上收到 404 错误。“//connect.facebook.net/en_US/all.js”

这是我的代码：[http ://snipt.org/ujEg8](http://snipt.org/ujEg8)

这是频道文件代码：[http ://snipt.org/ujEh4](http://snipt.org/ujEh4)

我不明白发生了什么事。请帮忙。

谢谢斯迈拉

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-16T16:58:24.160

You most likely just need to add the right protocal before the // call, for example:

```
http://connect.facebook.net/en_US/all.js 
```

See here for more info on the real issue: [Is it valid to replace http:// with // in a <script src="http://...">?](https://stackoverflow.com/questions/550038/is-it-valid-to-replace-http-with-in-a-script-src-http)

# c - 默认参数提升

> ID：10647793
> 
> 赞同：0
> 
> 时间：2012-05-18T06:30:43.083
> 
> 标签：c

```
main(){
  printf("%d %d",1234.5);
} 
```

输出：0 1083394560

这是默认参数提升的情况，其中浮点变量被视为双精度，然后首先`%d`显示 0，另一个显示其余 4 个字节的值，即 1083394560。

我的问题是如果`%d`读取前 4 个字节，那么这个程序如何

```
main()
{
  printf("%f",1234.5);
} 
```

给出正确的输出。因为 float 也是 4 个字节，所以它的行为也应该像`%d`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:48:20.103

`%f`格式字符串在参数列表中获取一个值`double`，并将其打印出来。由于无后缀的浮点文字`double`在 C 中是 s，并且默认提升规则不会提升或以其他方式更改双精度数，因此您的第二个示例根本不会发生任何魔法。

您的第一个示例是未定义的行为，任何事情都可能发生。

*C99* §7.19.6.1*函数**`fprintf`*

> 如果格式的参数不足，则行为未定义。
> 
> [...]
> 
> 如果任何参数不是相应转换规范的正确类型，则行为未定义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T06:34:01.717

嗯？`%f`可以“知道”`float`作为 vararg 参数传递的 a 已被提升为更大的 ( `double`) 并相应地采取行动，当然。的代码`%d`不知道它应该期待提升的浮点值；它期望一个（适当提升）`int`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T07:13:13.870

你自己回答你的问题：

> 这是默认参数提升的情况，其中浮点变量被视为双精度

当然，`%f`知道这个默认参数提升并且只处理`double`s，而不处理`float`s。

# jquery - 我们如何在 asp.net 中动态添加 URL 中的查询字符串

> ID：10647794
> 
> 赞同：0
> 
> 时间：2012-05-18T06:30:46.813
> 
> 标签：jquery, asp.net

我想在 URL 中动态添加查询字符串，这怎么可能在客户端。我可以通过 location.href 和 response.redirect 来处理它，但我不想这样做

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T06:36:46.493

您可以使用[jQuery BBQ](http://benalman.com/projects/jquery-bbq-plugin/)库，特别是[`jQuery.param.queryString`](http://benalman.com/code/projects/jquery-bbq/docs/files/jquery-ba-bbq-js.html#jQuery.param.querystring%28build_url%29)方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T06:49:07.647

如果要在 URL 中显示过滤，则必须使用 location.href，例如：

location.href = "yourpage.aspx?filter1=" + val

但是如果显示过滤不是必需的，那么您可以发送 JSON 调用并向用户显示过滤后的数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T06:41:20.397

```
$(document).ready(function () {
    $('a.TestClass').attr(function () {
        return $(this).href() + '?test1=a&test2=b';
    });
}); 
```

# php - 为什么 UNSET 和 NULL 以不同的方式工作

> ID：10647795
> 
> 赞同：1
> 
> 时间：2012-05-18T06:30:47.467
> 
> 标签：php

我有这段代码可以在不同的类之间传递大量变量。目标是内存中不应有任何重复值，因此变量通过引用而不是值传递。

我这里有这个样本。它工作正常，除了以一种方式。只是为了确保该值在内存中不重复，我修改该值或删除该值以确保。

然后我发现取消设置变量有不同的效果，使其为 NULL 有不同的效果。

如果我取消原始变量，那么我仍然从引用变量中获取值。如果我将原始变量设为 NULL，则它不会返回任何内容。

这是代码：

```
<?php

class a {
    private $req;

    public function store_request(&$value) {
        $this->req  = &$value;
    }

    public function get_request() {
        return $this->req;
    }
}

class b {
    private $json;
    private $obj;

    public function init_req(&$request) {
        $this->obj  = new a;
        $this->obj->store_request($request);
    }

    public function get_req() {
        return $this->obj->get_request();
    }
}

$locvar     = 'i am here';

$b  = new b;
$b->init_req($locvar);

$locvar     = 'now here';

##  This will not result empty echo from 'echo $b->get_req();'
//unset($locvar);

##  This will result in empty echo from 'echo $b->get_req();'
//$locvar   = null;

echo $b->get_req();

?> 
```

注释了 UNSET 和 NULL 行。如果您尝试一次运行一行未注释的代码（我知道这是愚蠢的建议，但仍然:)）

谁能告诉这里内部发生​​了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T08:01:14.843

1.  `unset`对一个值的引用会删除对该值的引用，该值本身和指向它的其他引用保持不变。
2.  将某些内容分配给引用会覆盖引用指向的值，从而覆盖指向它的所有其他引用的值。
3.  您不需要在 PHP 中对内存进行微观管理。PHP在传递值时***不会***复制内存中的值。它使用写时复制策略，仅在绝对必要时分配新内存。PHP 中的引用是产生某些行为的*逻辑*操作，它们不是内存管理工具或 C 指针。

# sql - 如何在 SQL Server 中即时更改日期

> ID：10647797
> 
> 赞同：-2
> 
> 时间：2012-05-18T06:31:17.450
> 
> 标签：sql, sql-server

我的程序输出就像

```
Jan  1 1900 10:30PM
Jan  1 1900 10:45PM
Jan  1 1900 11:00PM
Jan  1 1900 11:30PM
Jan  1 1900 11:45PM
Jan  2 1900 12:00AM
Jan  2 1900 12:15AM
Jan  2 1900 12:30AM
Jan  2 1900 12:45AM
Jan  2 1900  1:00AM 
```

我想在 12:00 AM 之后添加当前日期和时间并更改日期

像这样：

```
Friday,MAY,18 10:30PM
Friday,MAY,18 10:45PM
Friday,MAY,18 11:00PM
Friday,MAY,18 11:30PM
Friday,MAY,18 11:45PM
Friday,MAY,19 12:00AM
Friday,MAY,19 12:15AM
Friday,MAY,19 12:30AM
Friday,MAY,19 12:45AM
Friday,MAY,19  1:00AM 
```

这该怎么做？？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T07:04:56.780

从 SQL Server 2008 开始：

```
select YourTimeCol+cast(getdate() as date)
from YourTable 
```

SQL Server 2008 之前的版本：

```
select YourTimeCol+dateadd(day, datediff(day, 0, getdate()), 0)
from YourTable 
```

[SE-数据](https://data.stackexchange.com/stackoverflow/query/70552/add-datepart)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T06:51:37.460

我想你需要这个

```
DECLARE @tt TABLE (Sday VARCHAR(50))
INSERT INTO @tt VALUES('Jan 1 1900 10:30PM'),('Jan 1 1900 10:45PM'),('Jan 1 1900 11:00PM'),('Jan 1 1900 11:30PM'),('Jan 1 1900 11:45PM'),('Jan 2 1900 12:00AM'),('Jan 2 1900 12:15AM'),('Jan 2 1900 12:30AM'),('Jan 2 1900 12:45AM'),('Jan 2 1900 1:00AM')

SELECT Sday,DATEADD(DAY,(DATEDIFF(DAY,'1900-01-01',GETDATE())),Sday) AS resultAsDatetime,
CONVERT(VARCHAR(50),DATEADD(DAY,(DATEDIFF(DAY,'1900-01-01',GETDATE())),Sday),109) AS result
FROM @tt 
```

这是返回

```
Jan 1 1900 10:30PM  2012-05-18 22:30:00.000 May 18 2012 10:30:00:000PM
Jan 1 1900 10:45PM  2012-05-18 22:45:00.000 May 18 2012 10:45:00:000PM
Jan 1 1900 11:00PM  2012-05-18 23:00:00.000 May 18 2012 11:00:00:000PM
Jan 1 1900 11:30PM  2012-05-18 23:30:00.000 May 18 2012 11:30:00:000PM
Jan 1 1900 11:45PM  2012-05-18 23:45:00.000 May 18 2012 11:45:00:000PM
Jan 2 1900 12:00AM  2012-05-19 00:00:00.000 May 19 2012 12:00:00:000AM
Jan 2 1900 12:15AM  2012-05-19 00:15:00.000 May 19 2012 12:15:00:000AM
Jan 2 1900 12:30AM  2012-05-19 00:30:00.000 May 19 2012 12:30:00:000AM
Jan 2 1900 12:45AM  2012-05-19 00:45:00.000 May 19 2012 12:45:00:000AM
Jan 2 1900 1:00AM   2012-05-19 01:00:00.000 May 19 2012  1:00:00:000AM 
```

显然，您可以选择正确的格式将 DATETIME 转换为 VARCHAR，如 CONVERT 函数中所述，但我认为这不需要帮助。希望这可以帮助。

# linux - 如何在 shell 脚本中获取我的公共 IP 地址？

> ID：10647810
> 
> 赞同：6
> 
> 时间：2012-05-18T06:33:08.590
> 
> 标签：linux, shell, networking, dns, dig

此命令返回我的 IP 地址以及其他信息。

```
dig @resolver1.opendns.com myip.opendns.com
; <<>> DiG 9.6-ESV-R4-P3 <<>> @resolver1.opendns.com myip.opendns.com
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 48206
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0

;; QUESTION SECTION: 
;myip.opendns.com.      IN  A

;; ANSWER SECTION:
myip.opendns.com.   0   IN  A   122.167.119.178

;; Query time: 199 msec
;; SERVER: 208.67.222.222#53(208.67.222.222)
;; WHEN: Fri May 18 11:46:51 2012
;; MSG SIZE  rcvd: 50 
```

我只想从中提取我的 IP 地址。如何从`dig`输出中提取我的 IP 地址？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-05-18T08:39:13.530

不要让它变得比它需要的更难......使用`+short`

```
[mpenning@Bucksnort ~]$ dig +short mike.homeunix.com
76.21.48.169
[mpenning@Bucksnort ~]$ 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-18T06:38:39.470

如果您使用的是 bash shell，这对您有用

```
grep -A1 "ANSWER SECTION" ip_file.txt  | awk '{if(NF==5)print $5;}' 
```

注意：我的假设是您计划提取在“ANSWER SECTION”之后打印的 ip

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-03-17T08:49:42.893

```
dig +short myip.opendns.com @resolver1.opendns.com 
```

从我的博客：[http ://blog.valch.name/2016/03/17/show-your-ip/](http://blog.valch.name/2016/03/17/show-your-ip/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-04-27T15:42:34.793

另一种方法是：

```
sudo apt install stuntman-client 
```

然后

```
myip=$(stunclient --localport 8888 stun.l.google.com 19302|grep Mapped|cut -d ":" -f 2|tr -d " ") 
```

# internet-explorer-7 - Openlayers显示大数据，浏览器问题

> ID：10647813
> 
> 赞同：1
> 
> 时间：2012-05-18T06:33:52.910
> 
> 标签：internet-explorer-7, openlayers, freeze, large-data

我有一张带有大数据集（超过 100k）的地图，带有标记，ma 使用带有集群的 Geojson 格式和 BBox 策略，[在启动页面时通过 HTTP 请求获取 geojson 数据]

但我的浏览器（IE7,8）存在大量数据问题，在处理大量功能时卡住并显示错误消息 - 内存不足

有什么解决办法吗？

请帮忙...

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T09:35:43.743

在客户端上绘制 100k 特征并不是一个好主意。即使是“好”的浏览器也会减慢渲染那么多数据的速度。不过，您有几个选择：

1.  在服务器端生成带有数据的图像并将切片提供给客户端。在这种情况下，WMS 服务是一种可行的方法，您可以使用[Geoserver](http://geoserver.org/)、[Mapserver](http://mapserver.org/)或其他符合 WMS 的地图渲染引擎。然后，您可以使用 GetFeatureInfo 请求来获取要素的属性数据。您可以在这个[OpenLayers 演示中看到它是如何工作的示例](http://dev.openlayers.org/releases/OpenLayers-2.11/examples/getfeatureinfo-control.html)

2.  如果您的数据是静态的并且没有太大变化，您可以使用[Tilemill](http://mapbox.com/tilemill/docs/)创建切片，然后在 OpenLayers 中将它们用作 OpenLayers.Layer.TMS 层。然后，您可以使用[UTFGrid](http://mapbox.com/mbtiles-spec/utfgrid/)技术将属性数据映射到图块。[这是它如何工作的示例](http://mapbox.com/demo/visiblemap/)。

# iis-7 - 在 localhost 和从 iis7 创建的网站中发送的邮件，而不是在从 iis6 创建的网站中发送的邮件

> ID：10647815
> 
> 赞同：1
> 
> 时间：2012-05-18T06:34:05.467
> 
> 标签：iis-7, iis-6, localhost, mail-server

我正在使用*nopcommerce*在电子商务网站上工作。如果用户已经注册并尝试使用相同的电子邮件登录再次注册，我想发送一封电子邮件。我已经编写了用于发送电子邮件和显示“邮件已成功发送”消息的代码。它在本地和 IIS7 中的网站上运行良好，但在 IIS6 中的网站上运行不正常。

任何人都可以提出解决方案吗？

# java - 在 Spring 中停止 HTTP 请求超时

> ID：10647817
> 
> 赞同：1
> 
> 时间：2012-05-18T06:35:05.460
> 
> 标签：java, spring, tomcat, servlets, jasper-reports

我有一个应用程序，我正在从中生成 Jasper 报告。但是当我请求生成报告时，应用程序生成报告所花费的时间相当长，因为报告的数据集非常大（~100K 行）。

因此，在成功生成报告时，HTTP 请求会超时并且永远不会下载报告。

我怎样才能防止这种情况发生？

该应用程序是使用 Spring 3.0、Hibernate 和 JasperReports 构建的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-11T17:56:09.723

快速的解决方案是在您的 Http 请求中添加超时参数。

更清洁的解决方案是：

*   使用一个 Ajax 请求开始生成报告（使用 spring 调度程序来安排立即执行）
*   从浏览器轮询以检查报告的状态；完成后，提交报告。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-05-28T04:57:14.460

我的猜测是您的会话将在 20 分钟后到期，请尝试编辑`tomcat6/webapps/jasperserver/WEB-INF/web.xml`

```
<session-config>
    <!-- Default to 20 minute session timeouts -->
    <session-timeout>120</session-timeout>
</session-config> 
```

还可以使用“在后台运行”（右键单击），它会像时间表一样为您保存输出。

您可以检查`tomcat6/webapps/jasperserver/WEB-INF/logs/jasperserver.log`任何错误消息。

# android - 滑动抽屉，其下方有内容

> ID：10647821
> 
> 赞同：1
> 
> 时间：2012-05-18T06:35:30.177
> 
> 标签：android, slidingdrawer

我有一个位于底部的滑动抽屉。在此之下，我有一个 50dp 的线性布局。

所以我的布局看起来像这样：

![在此处输入图像描述](../Images/2ee9528387c9134f4d3c612ab3e6d405.png)

其中红色矩形是滑动抽屉把手

现在，当我将手指从屏幕底部滑到滑动抽屉时，即沿着蓝色路径

![在此处输入图像描述](../Images/1140c89f1a1c8ce0b4952c483f85d9f8.png)

滑动抽屉打不开。它没有打开，因为底部布局捕获了点击活动。仅当我在红色矩形内完全单击时，滑动抽屉才会打开。

我尝试使底部布局可点击=>false focussable=>false 仍然不好。

关于如何让底部布局的点击事件在手指离开布局后立即松开点击的任何想法？，这样手柄就可以捕捉到点击

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T06:51:28.540

我建议您创建整个线性布局（棕色底栏）作为抽屉的*处理程序。*这样做可以让您在第二张图片中随意滑动抽屉。

或者，您也可以使用 FrameLayout 来呈现 LinearLayout 和抽屉视图，就像在单个布局中一样，并将抽屉的宽度和高度设置为线性布局 - 覆盖线性布局的整个区域。

或者，最后，在线性布局（向上方向）上实现*SimpleOnGestureListener以执行抽屉的点击动作。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T06:45:16.687

您说您尝试过 clickable=false 和 focusable=false ...您是否还设置了 focusableintouchmode=false？（我会设置所有三个，看看会发生什么）。

正如我最近痛苦地发现的那样，focusable-false 仅涵盖硬件，而不是触摸屏。我不得不添加 focusableintouchmode="false".. 也许这对你也有用。

# mysql - Unicode 排序规则中等效的字符列表

> ID：10647825
> 
> 赞同：0
> 
> 时间：2012-05-18T06:36:09.250
> 
> 标签：mysql, unicode, collation

MySQL抱怨这两个字符本质上是同一个词

横浜市保土ヶ谷区

横浜市保土ケ谷区

请注意，唯一不同的是字符ヶ和字符ケ</p>

底部的稍大，但本质上是相同的字符。至少如果我将 mySQL 中的排序规则设置为 UTF8 并将其用作 ID，我的 SQL 将抱怨以前曾将相同的字符用作 ID。

我想要一个函数，将这两个不同的字符映射到它们最标准的版本中。

我在哪里可以找到如此完整的清单？

# python - Python：无法打开转换后的位图图像文件，使用 PIL 转换

> ID：10647826
> 
> 赞同：0
> 
> 时间：2012-05-18T06:36:13.193
> 
> 标签：python, image, python-imaging-library, nautilus, gnome-shell

如何使用 PIL 将 JPG 文件转换为 BMP？尝试使用 Image.open('ifile.jpg').save('ofile.bmp', 'BMP') 但我在尝试打开文件时得到一个“伪造的标题数据”。

[尝试了使用 PIL 将 RGBA PNG 转换为 RGB](https://stackoverflow.com/questions/9166400/convert-rgba-png-to-rgb-with-pil)中所述的复制/粘贴方法，但它也不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T07:02:27.237

代码没有问题。（我尝试了以下代码并且效果很好。）它将您的文件转换为所需的格式。

```
import Image
im = Image.open("test.bmp")
im.save("test.jpg", "JPEG") 
```

我认为问题出在Ubuntu。我也遇到过几次，我认为这是一个错误。尝试用gimp打开...

# spring - Spring Bean 扩展

> ID：10647830
> 
> 赞同：0
> 
> 时间：2012-05-18T06:36:23.560
> 
> 标签：spring, spring-mvc, hibernate-mapping

我有一个带有通用应用程序上下文 xml 文件的 Spring MVC 项目。该文件定义了我的应用程序的通用配置，例如 i18n 的基本属性文件和连接到数据库的数据源等。当我定义这个上下文文件时，我还想定义会话工厂，它将具有基本配置，例如要使用的数据源、二级缓存（eh-cache）等等。但这不会包含我的应用程序将加载的实体 bean 的列表。我只想将实体 bean 的映射保留在单独的文件中，并根据需要加载它们。

是否有可能扩展我在基本文件中定义的会话工厂并且只添加额外的实体 bean？我最终会有几个 spring 配置文件，它们将加载一组单独的实体。这可以实现吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T12:17:23.763

有几种可能性。

*   您可以使用`PropertyPlaceHolderConfigurer`将实体列表外部化到属性文件。（您可以在属性文件中使用 SPEL）。

*   您可以使用抽象 bean 定义并将其用作其他 sessionFactory bean 中的父级，然后您可以基于`Enviroment` `PropertySource`.

请注意，Hibernate`SessionFactory`在构建它并`SessionFactoryBean`内置方法之后是不可变的`SessionFactory`，`afterPropertiesSet`因此设置`SessionFactoryBean`您想要的工作必须由某些人完成`BeanFactoryPostProcessor`

**编辑**

阅读您的评论后，我认为您可以声明一个`EntityClassHolder`bean 并使用 Autowire 集合工具来获取`EntityClassFactoryBean`您可以注入单个`SessionFactoryBean`. 但我不确定这是否是你想要做的：

```
public class EntityClassHolder {

  List<Class<?>> entityClasses;

  public List<Class<?>> getEntityClasses() {
    return entityClasses;
  }

  public void setEntityClasses(List<Class<?>> entityClasses) {
    this.entityClasses = entityClasses;
  }
}

  public class EntityClassFactoryBean extends AbstractFactoryBean<List<Class<?>>> {

    @Autowired
    List<EntityClassHolder> list; 

    @Override
    public Class<?> getObjectType() {
        return List.class;
    }

    @Override
    protected List<Class<?>> createInstance() throws Exception {
        ArrayList<Class<?>> classList = new ArrayList<Class<?>>();
        for (EntityClassHolder ech : list) {
            classList.addAll(ech.getEntityClasses());
        }

        return classList;
    }
} 
```

现在，例如，如果您有多个 applicatonContext-xxx.xml，当您加载其中一个时，`SessionFactory`将使用 bean 中定义的实体类进行配置。`EntityClassHolder`

# grails - 构建基于 Neo4j 的应用程序 - 坚持使用普通节点和关系的 vanilla API 还是使用 Spring/GORM？

> ID：10647834
> 
> 赞同：10
> 
> 时间：2012-05-18T06:36:38.147
> 
> 标签：grails, grails-orm, neo4j, spring-data-graph, spring-data-neo4j

我希望听到你们中任何一个已经构建和实现了一个体面的 Neo4j 应用程序（10 百万个节点/rels）的人的意见 - 以及你们的建议特别是 wrt 建模和各种 API（vanilla java/groovy Neo4j vs Spring-Data -Neo4j 与 Grails GORM/Neo4j）。

如果添加额外的 OGM（对象图映射）层和相关的抽象是否真的值得，我很感兴趣？

有没有人的经验是最好坚持使用节点+属性、关系+属性、遍历和（例如）Cypher 的“普通”图形建模来建模和存储他们的数据？

我担心的是，将特定的 OGM 抽象“强制”到图形数据库上会影响未来适应/更改域模型的灵活性和/或查询数据的灵活性。

我们是一家 Grails 商店，我已经尝试过 GORM/Neo4J 以及 spring-data-neo4j。

数据集的主要目的是对大量人、他们的别名、他们的同事以及各种犯罪活动和历史之间的关系进行建模和查询。将有 50 多个主要领域类。模型必须具有灵活性（需要在项目的早期阶段迅速发展）以及查询的速度和灵活性。

我必须承认，当我可以使用（例如）POJO 或 POGO、一点 Groovy 魔法和一些简单的手动域对象 <-> 节点/关系映射代码时，我正在努力寻找使用 OGM 层的令人信服的理由. 据我所知，我认为只要处理节点、遍历和 Cypher（又名 KISS），我就会很高兴。但我很乐意听到其他人的经验和建议。

感谢您的时间和想法，

TP

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-20T17:12:02.510

因为我是 Grails Neo4j 插件的作者，所以我可能会有偏见。创建插件的主要原因是将 Grails 域类的易用性及其强大的开​​箱即用脚手架应用到 Neo4j 约 80% 的用例中。对于另外 20% 的特定要求需要诸如遍历等的东西。我们直接使用 Neo4j API（遍历/密码）而不使用 GORM API。

Neo4j 插件的当前版本存在超级节点问题，因为每个域实例都连接到一个子引用节点。如果多个并发请求（又名线程）添加新的域实例，则有机会获得锁定异常。我将通过子子引用方法或使用索引来解决这个问题。

Cypher 也可以在 Neo4j Grails 插件中使用。

另一方面，Spring-Data-Neo4j 是一种更高级的方法，可以更好地控制映射细节，但需要使用特定的注释。而且我发现没有简单的方法将它以一种脚手架的方式集成到 Grails 中。

我们在具有约 60k 用户和约 10^6 rels 的生产应用程序中使用该插件的先前版本。由于保密协议，我无法提供更多细节。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-16T07:45:17.140

我们不使用 grails，但使用混合普通 neo4j / spring-data-neo4j 解决方案。原因是因为我们的一些域数据有一个固定的模式，而有些则没有。SDN 减轻了很多负担，如果需要，可以与普通的 neo4j 混合使用。

我们有描述数据模型的类，我们使用 SDN 持久化这些类的对象，没有额外的技巧，我们只使用 SDN 的基础知识。然后我们有包含模型数据的类，这些数据是事先不知道的。这些存储在节点中，包含用于描述数据所指模型类型的特殊属性。当 neo4j 2 发布时，我们可能会将这些信息移动到标签中。这些节点之间可以存在关系，也可以通过上述由 sdn 管理的数据模型来描述。我们也有从通用节点到 SDN 节点的关系，这很好，因为一切最终都是相同的东西：节点。

使用这种方法我们还没有遇到任何问题。我们最喜欢的是，我们事先不知道如何建模的数据，以您事先知道的数据存储方式存储，使数据实际匹配选择的模型，在使用任何其他类型的（非图）数据库时很难做到。

# php - 如何在 rules() 方法中获得验证？

> ID：10647835
> 
> 赞同：0
> 
> 时间：2012-05-18T06:36:44.967
> 
> 标签：php, yii

只是为了解释，这是表格

```
create table test(mark int,item1 varchar(128),item2 varchar(128)); 
```

如果 mark==1 那么 item1 需要一个值，如果 mark==2 那么 item2 需要一个值

在 rules() 方法中，我怎样才能得到这个规则？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T07:53:59.953

在模型中创建您的自定义验证函数，smth。像这样：

```
public function requiredMark($attributes,$params)
{
    if ($this->mark == 1 && $this->item1==null)
        $this->addError('item1','Item 1 is required');
    elseif ($this->mark == 2 && $this->item2==null)
        $this->addError('item2','Item 2 is required');
} 
```

或者你在问别的什么？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-25T20:24:56.123

您需要扩展 validate() 方法来执行此操作，并手动添加错误。我总是回到这个文档以获取验证器选项（稍后可能会有用）

[http://yii.googlecode.com/files/yii-1.1.0-validator-cheatsheet.pdf](http://yii.googlecode.com/files/yii-1.1.0-validator-cheatsheet.pdf)

# c++ - 是否可以让您的 Qt 应用程序在运行时不自行锁定文件？

> ID：10647841
> 
> 赞同：-3
> 
> 时间：2012-05-18T06:36:56.073
> 
> 标签：c++, windows, qt

是否可以让您的 Qt 应用程序在运行时不自行锁定文件？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T06:54:00.960

Assuming you mean locking the application's `exe` file itself, well, you can't prevent that. It is not related to Qt, this is a Windows behavior, unrelated to what you used to produce your application.

See this question: [Locking Executing Files: Windows does, Linux doesn't. Why?](https://stackoverflow.com/questions/196897/locking-executing-files-windows-does-linux-doesnt-why) for why it happens.

# spring - Spring Data JPA中的分页问题

> ID：10647843
> 
> 赞同：13
> 
> 时间：2012-05-18T06:37:01.987
> 
> 标签：spring, jpa, spring-mvc, spring-data-jpa

我正在尝试spring data JPA，在启动我的项目时，出现以下错误：

```
Caused by: 
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'subjectRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Paging query needs to have a Pageable parameter!
    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:149)
    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:102)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1441)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:305)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:848)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:790)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:707)
    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:795)
    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:723)
    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:196)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1035)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:939)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:485)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:442)
    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:416)
    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:549)
    at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:150)
    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)
    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessPropertyValues(CommonAnnotationBeanPostProcessor.java:303)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1106)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585)
    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)
    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:384)
    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:283)
    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111)
    at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:672)
    at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:403)
    at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:664)
    at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:239)
    at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1212)
    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:610)
    at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:453)
    at org.mortbay.jetty.plugin.JettyWebAppContext.doStart(JettyWebAppContext.java:234)
    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)
    at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:224)
    at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:167)
    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)
    at org.eclipse.jetty.server.handler.HandlerCollection.doStart(HandlerCollection.java:224)
    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)
    at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:89)
    at org.eclipse.jetty.server.Server.doStart(Server.java:262)
    at org.mortbay.jetty.plugin.JettyServer.doStart(JettyServer.java:67)
    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:59)
    at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:333)
    at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:273)
    at org.mortbay.jetty.plugin.JettyRunMojo.execute(JettyRunMojo.java:548)
    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
    at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)
    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:534)
    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
    at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)
Caused by: 
java.lang.IllegalArgumentException: Paging query needs to have a Pageable parameter!
    at org.springframework.util.Assert.isTrue(Assert.java:65)
    at org.springframework.data.repository.query.QueryMethod.<init>(QueryMethod.java:76)
    at org.springframework.data.jpa.repository.query.JpaQueryMethod.<init>(JpaQueryMethod.java:59)
    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:68)
    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.<init>(RepositoryFactorySupport.java:280)
    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:148)
    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:125)
    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:41)
    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:142)
    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:102)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1441)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:305)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193) 
```

这是我的存储库：

```
public interface SubjectRepository extends Repository<PSubject, String>{

    //public Page<PSubject> findByType(String type, Pageable pageable);
    public Page<PSubject> findByType(String type);
    //public Page<PSubject> findByMacaddress(String macaddress, Pageable pageable);
    public Page<PSubject> findByMacaddress(String macaddress);
    public Page<PSubject> findByUri(String uri);

} 
```

如您所见，我已经评论了使用pageble的方法，并将父界面从jparepository更改为repository。但我仍然收到上述错误消息。有什么与 persistence.xml 相关的吗？我的persistence.xml

```
<persistence version="1.0"
    xmlns="http://java.sun.com/xml/ns/persistence" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/persistence 
                        http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd">

    <persistence-unit name="volcano" transaction-type="RESOURCE_LOCAL">
        <provider>org.hibernate.ejb.HibernatePersistence</provider>
        <properties>
            <property name="hibernate.connection.driver_class" value="com.mysql.jdbc.Driver"/>
            <property name="hibernate.connection.username" value="root"/>
            <property name="hibernate.connection.password" value="sa"/>
            <property name="hibernate.connection.url" value="jdbc:mysql://localhost:3306/mydb?useUnicode=true&amp;characterEncoding=UTF-8"/>
            <property name="hibernate.dialect" value="org.hibernate.dialect.MySQLDialect"/>
            <property name="hibernate.connection.autocommit" value="true"/>
            <property name="hibernate.hbm2ddl.auto" value="update"/>
            <property name="hibernate.show_sql" value="true"/>
            <property name="hibernate.format_sql" value="true"/>
            <property name="hibernate.default_batch_fetch_size" value="4"/>
            <property name="hibernate.max_fetch_depth" value="1"/>
            <property name="hibernate.generate_statistics" value="false"/>
            <property name="hibernate.jdbc.fetch_size" value="50"/>
            <property name="hibernate.jdbc.batch_size" value="100"/>
            <property name="hibernate.jdbc.use_get_generated_keys" value="true"/>
            <property name="hibernate.cache.provider_class" value="org.hibernate.cache.NoCacheProvider"/>
            <property name="hibernate.cache.use_structured_entries" value="false"/>
            <property name="hibernate.cache.use_second_level_cache" value="false"/>
            <property name="hibernate.cache.use_query_cache" value="false"/>
            <property name="javax.persistence.validation.mode" value="none"/>
        </properties>
    </persistence-unit>
</persistence> 
```

还有我的spring数据jpa配置：

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
    xmlns:tx="http://www.springframework.org/schema/tx" xmlns:context="http://www.springframework.org/schema/context"
    xmlns:jdbc="http://www.springframework.org/schema/jdbc" xmlns:jpa="http://www.springframework.org/schema/data/jpa"
    xmlns:util="http://www.springframework.org/schema/util"
    xsi:schemaLocation="
            http://www.springframework.org/schema/beans 
            http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
            http://www.springframework.org/schema/tx 
            http://www.springframework.org/schema/tx/spring-tx-3.1.xsd
            http://www.springframework.org/schema/context
            http://www.springframework.org/schema/context/spring-context-3.1.xsd
            http://www.springframework.org/schema/jdbc 
            http://www.springframework.org/schema/jdbc/spring-jdbc-3.1.xsd
            http://www.springframework.org/schema/data/jpa
            http://www.springframework.org/schema/data/jpa/spring-jpa.xsd
            http://www.springframework.org/schema/util 
            http://www.springframework.org/schema/util/spring-util-3.1.xsd">

    <bean id="entityManagerFactory"
        class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
        <property name="persistenceUnitName" value="volcano" />
        <property name="jpaVendorAdapter">
            <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">
                <property name="generateDdl" value="true" />
                <property name="showSql" value="true" />
            </bean>
        </property>
    </bean>
    <bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager">
        <property name="entityManagerFactory" ref="entityManagerFactory">
        </property>
    </bean>
    <!-- <tx:annotation-driven transaction-manager="transactionManager" /> -->

    <!-- Activate Spring Data JPA repository support -->
    <jpa:repositories base-package="com.mypackage.repository" />
</beans> 
```

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-05-20T10:39:58.180

您正在阅读错误消息：

```
Paging query needs to have a Pageable parameter! 
```

你注释掉的方法是正确的，剩下的都是错误的！如果`Page<PSubject>`要从查询方法返回，此方法必须有`Pageable`参数。这是可以理解的：如果您询问特定页面的结果，您必须首先定义您感兴趣的页面。

```
Page<PSubject> findByType(String type, Pageable pageable);
Page<PSubject> findByType(String type, Pageable pageable);
Page<PSubject> findByMacaddress(String macaddress, Pageable pageable);
Page<PSubject> findByMacaddress(String macaddress, Pageable pageable);
Page<PSubject> findByUri(String uri, Pageable pageable); 
```

或者，如果您对所有结果感兴趣，请使用`List<PSubject>`：

```
Page<PSubject> findByType(String type, Pageable pageable);
List<PSubject> findByType(String type);
Page<PSubject> findByMacaddress(String macaddress, Pageable pageable);
List<PSubject> findByMacaddress(String macaddress);
List<PSubject> findByUri(String uri); 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2020-05-03T21:51:24.897

确保您从以下位置导入 Pageable 对象：org.springframework.data.domain.Pageable;

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-12-21T11:44:42.107

在我的情况下，导入是错误的（来自 java.awt.print.Pageable）。正确的一个是：org.springframework.data.domain.Pageable

# oracle - Oracle 11gR2 是否真的支持 IPV6？

> ID：10647845
> 
> 赞同：2
> 
> 时间：2012-05-18T06:37:06.277
> 
> 标签：oracle, ipv6

Oracle 已经宣布 11g R2 支持 IPV6，而 ojdbc6.jar 是正确的。

但是当我测试它时，我得到了异常，你解决了吗？

我的测试代码是：

```
import java.sql.SQLException;
import java.util.Properties;

public class Test {

final static String sDBDriver = "oracle.jdbc.driver.OracleDriver";

/**
* @param args
* @throws SQLException 
*/

public static void main(String[] args) throws SQLException {

// TODO Auto-generated method stub
java.sql.Connection conn=null; 

String url="jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=
[fe80::b056:5cff:fe78:b672])(PORT=1521))(CONNECT_DATA=(SERVICE_NAME=fnstdb1))";

try
{
Class.forName(sDBDriver);
conn = DriverManager.getConnection(url,"scott","fnst1234");
}
catch (Exception e) 
{
System.out.println("ERROR:"+e.getMessage()); 
} 
finally
{
System.out.println("连接是否关闭："+conn.isClosed());
conn.close();
}
}

} 
```

我使用以下cmd：

```
java -cp ojdbc6.jar -Djava.net.preferIPv6Addresses=true Test 
```

但结果是：`ERROR:NL Exception was generated`

怎么了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T09:50:52.200

我已经解决了这个问题。以下显示了我做了什么：

# 程序

1.  编辑`$DB_HOME\NETWORK\ADMIN\listener.ora`文件以允许 oracle 侦听 ip 和端口。例如：`(ADDRESS = (PROTOCOL = TCP)(HOST = [fe80::221:97ff:fe66:1fa9%4])(PORT= 1521))`

2.  重新启动监听器。跑：`LSNRCTL stop/start`

3.  在某些应用程序（javase、connection-pool、lookup）中使用 ojdbc6.jar: `jdbc:oracle:thin:@[fe80::221:97ff:fe66:1fa9]:1521:orcl`。

4.  结果成功了！！

# 演示

1.  listener.ora中的ip地址必须加上“%4”，否则会失败。

2.  ipv6 地址必须在“[”和“]”中，否则会失败。

3.  oracle的文档声明使用ipv6必须设置jvm选项

    `java.net.preferIPv6Addresses=true`

但不管它是否设置！

# backbone.js - Backbone.js：如何取消视图将父元素添加到模板

> ID：10647847
> 
> 赞同：1
> 
> 时间：2012-05-18T06:37:09.860
> 
> 标签：backbone.js, backbone-views

我知道 Backbone.js 的 View 对象有参数，如`id`, `tagName`, `className`。

```
var DocumentRow = Backbone.View.extend({
  tagName: "li",
  className: "document-row",
}); 
```

它将这些用于插入模板的父元素。当我不设置它们时，它会将一个`<div>`作为模板的父级添加到模板中。

但这真的让我很烦，因为有时我不需要父母！我的模板中已经有我需要的所有内容，那么如何取消它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T06:43:54.410

```
var DocumentRow = Backbone.View.extend({

  el:'#your-element-id' //or class or type

}); 
```

这表明视图将绑定到`el`属性指定的预先存在的元素。在backbonejs.org 上查找文档

由于您已经在模板中拥有它，只需在创建模板“之后”创建并将此视图绑定到它（可能在单独的函数中？）

# iphone - 如何从 iPhone 文档目录中的特定文件夹中检索 UIImage

> ID：10647849
> 
> 赞同：0
> 
> 时间：2012-05-18T06:37:14.023
> 
> 标签：iphone, uiimage

我已使用以下功能将图像本地存储在文档目录中创建的文件夹中

```
NSError *error;
NSArray* paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString* documentsDirectory = [paths objectAtIndex:0];

// FOR STORING IMAGE INTO FOLDER CREATED IN DOCUMENT DIRECTORY

NSString *dataPath = [documentsDirectory stringByAppendingPathComponent:@"/ImagesFolder"];    
if (![[NSFileManager defaultManager] fileExistsAtPath:dataPath])
[[NSFileManager defaultManager] createDirectoryAtPath:dataPath withIntermediateDirectories:NO attributes:nil error:&error];

NSData* imageData = UIImagePNGRepresentation(imageView.image);
NSString* incrementedImgStr = [NSString stringWithFormat:@"Image%d.png",delegate.dirCountImages];
NSString* fullPathToFile2 = [dataPath stringByAppendingPathComponent:incrementedImgStr];
[imageData writeToFile:fullPathToFile2 atomically:NO]; 
```

但是，我如何从文档目录中的特定文件夹中检索图像

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T06:40:23.230

只需要拥有完整路径并使用此方法即可。`[[UIImage alloc]initWithContentsOfFile: <#path#>]`如果您不使用 ARC，请记住在之后发布图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T06:49:37.230

```
UIImageView *imageView = [[UIImageView alloc] initWithFrame:CGRectMake(100,100,100,100)];
imageView.image = [[UIImage alloc] initWithData:myImage];

[myView addSubview:imageView]; 
```

或查看该链接[http://www.iphonedevsdk.com/forum/iphone-sdk-development/23840-placing-image-url-image-view.html](http://www.iphonedevsdk.com/forum/iphone-sdk-development/23840-placing-image-url-image-view.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T07:05:55.413

也许这会对你有所帮助。

```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
documentsDirectory = [documentsDirectory stringByAppendingPathComponent:@"Images"];
documentsDirectory = [documentsDirectory stringByAppendingPathComponent:@"Image.png"];
[cell.songImageView setImage:[UIImage imageWithContentsOfFile:documentsDirectory]]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-20T12:29:34.143

```
-(NSMutableArray*)getPhotoFileNames:(NSString*)parentFolderName
{
NSString *path = [NSString stringWithFormat:@"%@/%@",[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask, YES)objectAtIndex:0], parentFolderName];

NSArray *dirContents = [[NSFileManager defaultManager] contentsOfDirectoryAtPath:path error:nil];   
NSEnumerator *enumerator = [dirContents objectEnumerator];
id fileName;
NSMutableArray *fileArray = [[NSMutableArray alloc] init];
while (fileName = [enumerator nextObject]) 
{
    NSString *fullFilePath = [path stringByAppendingPathComponent:fileName];
    NSRange textRangeJpg = [[fileName lowercaseString] rangeOfString:[@".png" lowercaseString]];

    if (textRangeJpg.location != NSNotFound) 
    {
        UIImage     *originalImage = [UIImage imageWithContentsOfFile:fullFilePath];
        [fileArray addObject:originalImage];
    }
}
return fileArray;
} 
```

# c# - 使用 C# 获得硬盘速度

> ID：10647855
> 
> 赞同：4
> 
> 时间：2012-05-18T06:37:54.123
> 
> 标签：c#

可以使用 C# 获取硬盘信息吗？

```
Like spin rate in RPM
Model Number 
Company Name
Data Transfer Rate
Seek Time 
```

最重要的是旋转速度。

我试过了

```
ManagementClass driveClass = new ManagementClass("Win32_DiskDrive"); 
```

属性，但它没有给出旋转速度。

请帮我？

*   达特里亚·莫因

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-18T06:42:19.367

检查这一点：[使用 .NET 从驱动器读取 ATAPI SMART 数据；温度有人吗？](http://vasters.com/clemensv/2011/04/11/Reading+ATAPI+SMART+Data+From+Drives+Using+NET+Temperature+Anyone.aspx)

```
using System.Management;

public string GetHDDSerial()
{
    ManagementObjectSearcher searcher = new ManagementObjectSearcher("SELECT * FROM Win32_PhysicalMedia");

    foreach (ManagementObject wmi_HD in searcher.Get())
    {
        // get the hardware serial no.
        if (wmi_HD["SerialNumber"] != null)
            return wmi_HD["SerialNumber"].ToString();
    }

    return string.Empty;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T07:30:31.797

阅读此[Win32_DiskDrive](http://msdn.microsoft.com/en-us/library/windows/desktop/aa394132%28v=vs.85%29.aspx)并尝试以下操作：

```
ArrayList hddCollection = new ArrayList();
try
{
    var searcher = new ManagementObjectSearcher("SELECT * FROM Win32_DiskDrive");
    foreach (ManagementObject wmiObj in searcher.Get)
    {
        HardDrive hdd = new HardDrive();
        hdd.model = wmiObj("Model").ToString;
        hdd.type = wmiObj("InterfaceType").ToString;
        hddCollection.Add(hdd);
        break; // TODO: might not be correct. Was : Exit For
    }
}
catch (Exception ex)
{
    throw ex;
} 
```

# java - 在 JiBX 中绑定额外信息

> ID：10647860
> 
> 赞同：0
> 
> 时间：2012-05-18T06:38:46.387
> 
> 标签：java, jibx, xml-binding

让我们假设有一个`user.xml`包含实际用户输入的 [用户信息，如姓名、地址等]

基于此，创建了某些 java 对象。

现在说到`binding.xml`，我绝对应该提到`user.xml`.

**现在我的问题是**：如果我在文件中未提及的任何/所有 java 对象中添加额外信息（例如：`String userContactNo`仅在 java 对象中而不是在文件中），绑定会起作用吗？`user.xml``user.xml`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-19T13:45:10.073

当然，您不必将每个字段都绑定到 xml 定义，只需要将您希望包含在 xml 中的字段绑定到 xml 定义。

# javascript - 无法在不刷新页面的情况下设置 jquery dialog.InnerHtml(some-content)

> ID：10647867
> 
> 赞同：6
> 
> 时间：2012-05-18T06:39:18.427
> 
> 标签：javascript, jquery, html

在我的 JS 文件中，我试图将内容设置为弹出对话框。在萤火虫中，我看到对话框打开，即使在我将其内容设置为`$(dialog).InnerHtml`. 但这在我刷新页面时有效。

这种行为有什么特别的原因吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-05-18T06:40:16.817

您不能`.innerHTML`直接设置 jQuery 对象。您需要设置`$.html()`。

```
// jQuery doesn't have an innerHTML property, so this is wrong
$("#dialog").innerHTML = "This is the wrong way";

// jQuery has an html() method that sets the html within your dialog
$("#dialog").html( "And this is the correct way" ); 
```

请记住，当您处理 jQuery 时，您处理的是一个对象，而不是一个元素。类似的属性`.innerHTML`存在于 DOM 中的元素上，但不存在于 jQuery 对象中。jQuery 提供了这样的方法，`$.html()`这样您就不必触摸`.innerHTML`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T06:44:05.253

这是这样做的方法：

在 JavaScript 中：

```
document.getElementById('dialog').innerHTML = 'something'; 
```

在 jQuery 中：

```
$("#dialog").html('something'); 
```

# iphone - 将 Facebook 生日与 iOS 日历同步

> ID：10647871
> 
> 赞同：0
> 
> 时间：2012-05-18T06:39:43.493
> 
> 标签：iphone, objective-c, xcode, facebook, facebook-graph-api

我想使用我的日历应用程序向 facebook 添加生日，即将 facebook 我的日历*与*我的日历应用程序事件同步。

含义：如果我在我的日历应用程序中创建生日，它必须添加 facebook*生日*（facebook 我的日历）。

请指导我解决这个问题，如果任何教程或示例代码会有所帮助，请告知。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:50:30.237

试试看这个链接

[脸书 iOS SDK](https://github.com/facebook/facebook-ios-sdk)

和

[获取信息值](http://developers.facebook.com/docs/reference/rest/users.getInfo/)

希望这是一个有用的

# android - 启动画面不起作用

> ID：10647874
> 
> 赞同：0
> 
> 时间：2012-05-18T06:39:49.363
> 
> 标签：android, android-intent, android-activity

```
public class tryAnimActivity extends Activity 
{

  /**
   * The thread to process splash screen events
   */
  private Thread mSplashThread;    

  /** Called when the activity is first created. */
  @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    // Splash screen view
    setContentView(R.layout.janman);

    final tryAnimActivity sPlashScreen = this;   

    // The thread to wait for splash screen events
    mSplashThread =  new Thread(){
        @Override
        public void run(){
            try {
                synchronized(this){
                    // Wait given period of time or exit on touch
                    wait(5000);
                }
            }
            catch(InterruptedException ex){                    
            }

            finish();

            // Run next activity
            Intent intent = new Intent();
            intent.setClass(sPlashScreen, TabsActivity.class);
            startActivity(intent);
            stop();                    
        }
    };

    mSplashThread.start();        
  }

  /**
   * Processes splash screen touch events
   */
  @Override
  public boolean onTouchEvent(MotionEvent evt)
  {
    if(evt.getAction() == MotionEvent.ACTION_DOWN)
    {
        synchronized(mSplashThread){
            mSplashThread.notifyAll();
        }
    }
    return true;
  }    
} 
```

这段代码有什么问题？单击时，它崩溃了。此外，下一个活动不会在此活动结束后开始。这是用于显示闪屏的活动。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-05T09:02:03.013

只需删除`stop()`方法即可

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-05T13:14:11.343

我更喜欢使用 Runnable 元素而不是 Thread。我的以下活动的启动代码运行良好。我希望它可以帮助你：

```
public class SplashScreenActivity extends Activity implements OnTouchListener {

    private int SPLASH_DISPLAY_LENGTH = 3000;

    private Handler splashHandler;
    private Runnable splashRunnable;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.splash);

        findViewById(R.id.splash_img).setOnTouchListener(this);

        splashHandler = new Handler();
        splashRunnable = new Runnable()
        {
            @Override
            public void run()
            {
                SplashScreenActivity.this.finish();
                Intent mainIntent = new Intent(SplashScreenActivity.this, HomeActivity.class);
                startActivity(mainIntent);
            }
        };

        splashHandler.postDelayed(splashRunnable, SPLASH_DISPLAY_LENGTH);

    }

    @Override
    public boolean onTouch(View v, MotionEvent event) {
        if (event.getAction() == MotionEvent.ACTION_DOWN){
            splashHandler.removeCallbacks(splashRunnable);
            SplashScreenActivity.this.finish();
            Intent mainIntent = new Intent(SplashScreenActivity.this, HomeActivity.class);
            startActivity(mainIntent);
        }
        return true;
    }
} 
```

# php - 在 Wordpress 中使用自定义帖子类型时无法过滤循环中的类别

> ID：10647875
> 
> 赞同：1
> 
> 时间：2012-05-18T06:39:50.033
> 
> 标签：php, wordpress

我正在尝试使用下面的代码显示来自名为投资组合的自定义帖子类型的帖子，然后按类别过滤结果，我尝试将 - category_name ， catid，portfolio_category 放入数组中

并浏览了论坛并尝试了一些东西，但似乎无法使其正常工作，它要么不显示任何内容，要么显示所有类别的所有帖子。

```
 <?php
     $args=array(
    'post_type' => 'portfolio',
    'post_status' => 'publish',
    'posts_per_page' => 7,
    'caller_get_posts'=> 1
     );
     $my_query = null;
     $my_query = new WP_Query($args);
     if( $my_query->have_posts() ) {
     while ($my_query->have_posts()) : $my_query->the_post(); ?>
     <p><a href="<?php the_permalink() ?>" rel="bookmark" title="Permanent Link to 
     <?php the_title_attribute(); ?>"><?php the_title(); ?></a></p>
     <?php
      endwhile;
      }
     wp_reset_query();  // Restore global post data stomped by the_post().
     ?> 
```

注册的分类是portfolio_category，对此的任何帮助将不胜感激，非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T08:27:07.237

您可以尝试将该类别称为自定义分类法：

```
'portfolio_cat' => 'name_of_your_category' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T11:34:31.197

在尝试了一些事情之后，这就是我使用“tax_query”让它工作的方式，希望这对某人有所帮助......

```
 <?php

     $args = array(
     'post_type'=>'portfolio',
  'tax_query' => array(
    array(
        'taxonomy' => 'portfolio_category',
        'field' => 'slug',
        'terms' => 'solutions'
    )
   )
       );
     $my_query = new WP_Query( $args );

     if( $my_query->have_posts() ) {
     while ($my_query->have_posts()) : $my_query->the_post(); ?>

     <p><a href="<?php the_permalink() ?>" rel="bookmark" title="Permanent Link to 
     <?php the_title_attribute(); ?>">
     <?php the_title(); ?></a></p>
      <?php the_excerpt()?>
      <?php echo get_the_post_thumbnail($post->ID,  array(50,50)); ?> 
      <?php
      endwhile;
      }
     wp_reset_query();  // Restore global post data stomped by the_post().
     ?> 
```

# c# - 尝试在登录表单中实现哈希和加盐密码

> ID：10647880
> 
> 赞同：1
> 
> 时间：2012-05-18T06:40:08.923
> 
> 标签：c#, mysql, hash

我正在尝试在登录表单中实现哈希和加盐密码，其中我有简单的 mysql 连接数据库，其中包含 id-Int、username-VarChar、password-VarChar 和 salt-VarChar。当我尝试调试程序并输入正确的数据时，我仍然得到

> 错误的细节

展示盒。看看下面的代码，您是否知道我的错误在哪里以及如何解决问题。

PS：请注意，对于我数据库中的“salt”字段，我尝试插入与密码相同的数据，尝试将其保留为空白，尝试将其从 varchar 更改为 Sha1，但仍然遇到相同的错误。

```
static byte[] GenerateSaltedHash(string plainText, string salt)
    {
       HashAlgorithm algorithm = new SHA256Managed();

       byte[] plainTextBytes = System.Text.Encoding.Unicode.GetBytes(plainText);
       byte[] saltBytes = Convert.FromBase64String(salt);

       byte[] plainTextWithSaltBytes = new byte[plainTextBytes.Length + saltBytes.Length];
       saltBytes.CopyTo(plainTextWithSaltBytes, 0);
       plainTextBytes.CopyTo(plainTextWithSaltBytes, salt.Length); 

       byte[] hash = algorithm.ComputeHash(plainTextWithSaltBytes);

       return hash;
    }

        public bool tryLogin(string username , string password)
        {
             using (var con = new MySqlConnection("host=localhost;user=admin;password=password;database=sozopouk_test2;"))
             {
                 con.Open();

                 var salt = string.Empty;

                 using (MySqlCommand cmd = new MySqlCommand("Select salt From niki where user_name = @username", con))
                 {
                     cmd.Parameters.AddWithValue("@username", username);

                     salt = cmd.ExecuteScalar() as string;
                 }

                 if (string.IsNullOrEmpty(salt)) return false;

                 var hashedPassword = GenerateSaltedHash(password, salt);

                 using (var cmd = new MySqlCommand("Select * FROM niki WHERE user_name = @username and user_password = @password", con))
                 {
                    cmd.Parameters.AddWithValue("@username", username);
                    cmd.Parameters.AddWithValue("@password", hashedPassword);

                    using (var reader = cmd.ExecuteReader())
                    {
                         return reader.Read();
                    }
                 }
             }
             }

        private void button1_Click(object sender, EventArgs e)
        {
            if (tryLogin(user.Text, pass.Text) == true)
            {
                MainScreen F2 = new MainScreen();
                F2.Show();
                this.Hide();
            }

             else MessageBox.Show("Wrong details!");
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T07:42:01.007

我试图重现你的问题。（只是Hash算法）看来这条线不对

```
plainTextBytes.CopyTo(plainTextWithSaltBytes, salt.Length); 
```

相反，您应该使用

```
plainTextBytes.CopyTo(plainTextWithSaltBytes, saltBytes.Length); 
```

然而，这给了我一个例外，而不是 reader.Read 上的错误。
所以问题可能是不同的。您应该尝试在调试中在阅读器之前停止程序。读取并检查@username 和@password 的值。
使用该信息，使用您首选的 MySql 管理器，检查 User 表是否包含参数中的值。

# objective-c - NSTableview 不会在 Core Data 应用程序中排序

> ID：10647887
> 
> 赞同：1
> 
> 时间：2012-05-18T06:40:29.120
> 
> 标签：objective-c, xcode, cocoa, xcode4, nstableview

我有一个带有 NSTableView 的核心数据应用程序，并且列连接到一个 arrayController。问题是，当我单击表格顶部的选项卡对内容进行排序时，什么也没有发生。

我的绑定看起来像这样：

![绑定](../Images/7d8ee81ea420e2754ba96df3bba886a5.png)

知道我哪里出错了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-19T05:00:01.287

您是否在这些列的值绑定上选择了**创建排序描述符？**

# php - 我寻找具有特殊概念的模板引擎

> ID：10647891
> 
> 赞同：0
> 
> 时间：2012-05-18T06:40:53.857
> 
> 标签：php, python, templates, node.js, frameworks

请您向我推荐一个实现下述特殊概念的 HTML 模板引擎（任何脚本语言）。

所有标记都处于活动状态。调用模板之前不应该准备数据，而是模板本身从模型中获取数据。例如

{CurrentUser.name} 将替换为当前登录用户的名称，因此我不需要在调用模板之前准备数据。

但我也可以指定一些“自定义”数据方法。例如，如果我必须制作相册，并且只需要显示一大块照片，我可以使用 {PhotosListPart.thumb.url} 并定义用于检索 PhotosListPart 的特殊方法，允许模板自动调用它并异步获取数据。

你知道任何支持这种模板方法的模板引擎/框架吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T08:35:16.733

是的，我了解仅 MVC 设计模式，但我无法想象您希望如何实现 url 路由并从中调用模板。例如，您从用户那里获得请求，如果您删除视图，则需要显示一些数据，您的所有业务逻辑都应该位于模型或模板或其他地方，如帮助程序，因此结果是 MVC，但视图被涂抹在三个或更多地方。但是如果你真的想这样做，你可以尝试使用 Mako 模板[http://www.makotemplates.org/](http://www.makotemplates.org/)你可以根据需要直接在模板中编写 python 代码））

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T09:29:07.373

拉视图是从控制器中*提取*数据的视图（它反过来调用模型来查找数据）。

如果您严格遵守 MVC 模式[1]，那么您将不会使用任何类型的*拉取*视图。

但是AFAIK没有[2]的模板引擎repspect MVC，因为它们允许模板中的逻辑（if / foreach /函数调用等）。

没有模板引擎会预先编写代码来假设存在任何数据，但几乎所有模板引擎都允许您传递一个*巨大*的数据数组，其中包含您在页面上需要的所有内容。

如果您需要一个将数据预填充到变量中的模板*引擎*，那不是模板引擎，而是一个完整的应用程序，它包含与数据库或模型通信的逻辑，这使其远离模板引擎的概念。

[1] 当我们谈论模板引擎时，尊重 MVC 意味着只使用*if来检查是否**设置*了变量，不应该存在 for/foreach 循环，通过将模板应用于集合对象来完成项目集/列表的范围，这里说明了这一点和其他问题：http: [//bit.ly/Jc3f0Z](http://bit.ly/Jc3f0Z)

[2] 除外： Java、C# 和 Python 中的**StringTemplate**；**包括 JS/Node.js/Java/PHP/Python/Ruby 在内的许多语言中的Mustache**。

## 编辑

使用视图类来准备数据，并使用模板文件来输出它们对我来说总是像一个杂物一样缝合起来，因为名称变得混乱（视图是类+模板，模板是文件）。

That's why I name my preprocessing classes "Renderers" and my template files "Templates" so Renderers+Templates = Views. Which makes more sense to me as a name and as a philosophy.

I can use money_format/number_format/html_escape etc. within the renderers and then output already rendered data into the templates. Therefore I don't mix rendering/viewing actions with the controller. They all get done in the Renderer.

# jquery - 在搜索查询中使用多级自动完成

> ID：10647894
> 
> 赞同：1
> 
> 时间：2012-05-18T06:41:06.513
> 
> 标签：jquery, html, autocomplete

我想建立一个搜索引擎，用户可以以动词+名词的形式输入问题，以优化体验我想让用户首先在动词上自动完成，然后根据选择的动词, 提供匹配的名词。

例如

我正在寻找可以：***_* __ *_* ___**的人 ，现在用户在以下内容之后开始输入：

例如，如果他输入 ki -> kick、kill、kiss，然后根据第一个作品的选择，第二个作品将只建议适合第一个作品的名词

踢 -> 足球、球等

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T09:13:25.027

大概你有一个数据库来存储动词及其相关名词之间的关系？使用 jQuery 和自动完成插件之类的东西编写自动完成功能相当简单。困难的部分将是提供数据以使事物真正有用。

# php - 取消上传时如何识别文件字符串？

> ID：10647895
> 
> 赞同：1
> 
> 时间：2012-05-18T06:41:06.480
> 
> 标签：php, javascript, jquery, ajax, dom

我有一个需要处理的网络编程问题如下：

“您正在将表单元素传递给`startImageUpload()`函数，并尝试将其作为字符串存储在您添加到`imagef1_cancel element`.`unique id`被取消。”

目前，当单击取消按钮时，它无法识别要从行中删除的文件。以下是 the`var_dump($GET)`和 the`print($imagecancelsql)`显示的内容：

注意：未定义索引：第 22 行 /xxx/Mobile_app/cancelimage.php 中的 imagecancelname 数组（0） { } DELETE FROM Image WHERE ImageFile = 'ImageFiles/'

那么如何解决问题，使其能够识别出需要取消上传的文件字符串呢？

以下是我目前试图解决这个问题的尝试：

```
 var sourceImageForm; 

         function startImageUpload(imageuploadform, imagecancelname){

  $(imageuploadform).find('.imagef1_upload_process').css('visibility','visible');
  $(imageuploadform).find('.imagef1_cancel').css('visibility','visible');
  $(imageuploadform).find('.imagef1_upload_form').css('visibility','hidden');
  sourceImageForm = imageuploadform;

/*The above would show and hide elements within the form the file is being uploaded.
For example if I have three forms and the second form is uploading a file, then it
shows and hides the elements within the second form only */

        $(imageuploadform).find('.imagef1_cancel').html('<div><button type="button" class="imageCancel" id="image_cancel_' + imagecancelname + '">Cancel</button></div>').find(".imageCancel").on("click", function(event) {
        $.ajax("cancelimage.php?imagecancelname=" + $(this).attr('id').slice(13));

});       
      return true;
} 
```

下面是表单代码：

```
var $fileImage = $("<form action='imageupload.php' method='post' enctype='multipart/form-data' target='upload_target' onsubmit='return startImageUpload(this);' class='imageuploadform' >" + 
  "Image File: <input name='fileImage' type='file' class='fileImage' /></label><br/><br/><label class='imagelbl'>" + 
  "<input type='submit' name='submitImageBtn' class='sbtnimage' value='Upload' /></label>" +     
  "</p><p class='imagef1_cancel' align='center'></p>" +
  "<iframe class='upload_target' name='upload_target' src='#' style='width:0;height:0;border:0px;solid;#fff;'></iframe></form>"); 
```

最后下面是 cancelimage.php，它假设删除包含文件名的 db 行：

```
 <?php

      // ... connected to DB

$image_cancel = '';
if (isset($_GET["imagecancelname"])) { $image_cancel = $_GET["imagecancelname"]; }

      $image_cancel = $_GET["imagecancelname"];
      $imagecancelsql = "
        DELETE FROM Image 
        WHERE ImageFile = 'ImageFiles/".mysql_real_escape_string($image_cancel)."'
      ";

      print $imagecancelsql;

      mysql_close();

    ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:53:01.943

```
Notice: Undefined index: imagecancelname 
```

在检查此 GET 索引是否存在时，您可以摆脱此通知：

```
$image_cancel = '';
if (isset($_GET["imagecancelname"])) { $image_cancel = $_GET["imagecancelname"]; }

// This line is only asking what that underscore is good for (typo?)
// $image_cancel_ = $_GET["imagecancelname"];
                ^
                |
              ? ? ? 
```

稍后你应该只继续，如果 $image_cancel 设置为有用的东西并且（！）允许（永远不要相信用户输入并进行适当的验证）。

# parsing - 从解析描述生成解析树

> ID：10647897
> 
> 赞同：0
> 
> 时间：2012-05-18T06:41:10.180
> 
> 标签：parsing, nlp, text-processing

我想从英语句子的解析描述（句法解析的压缩形式）生成解析树（Java 对象）。我也在使用 Java，也需要定义一个高效的树。例如。描述：

```
 (ROOT (S (NP (PRP I)) (VP (MD would) (VP (VB love) (S (VP (TO to) (VP (VB go) (PRT (RP out)) (PP (IN with) (NP (PRP you)))))))) (. .)) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-24T05:17:40.600

我终于自己解决了:)

```
public static Node getParseTree(String[] parseTokens, ArrayList<Node> leafNodeList)
{
    Node top = new Node("TOP");
    Node rest = getParseTree(parseTokens, 2, top, false, leafNodeList);
    return top;
}

public static Node getParseTree(String[] parseTokens, int currIndex, Node lastNode, Boolean closeBrace, ArrayList<Node> leafNodeList)
{
    if(currIndex>=parseTokens.length) return lastNode;
    else if("(".equals(parseTokens[currIndex]))
    {
        Node newNode = lastNode.addChild(parseTokens[currIndex+1]);//The next token is the data for the new node constructed
        return getParseTree(parseTokens, currIndex+2, newNode, false, leafNodeList);
    }
    else if(")".equals(parseTokens[currIndex]))
    {
        if(closeBrace) return getParseTree(parseTokens, currIndex+1, lastNode.getParent(), true, leafNodeList);
        else return getParseTree(parseTokens, currIndex+1, lastNode, true, leafNodeList);
    }
    else //leaf node 
    {
        Node newNode = lastNode.addChild(parseTokens[currIndex]);
        leafNodeList.add(newNode);
        return getParseTree(parseTokens, currIndex+2, lastNode.getParent(), true, leafNodeList);
    }       
}

Node test(String parseDesc)
{
        parseDesc = parseDesc.replace("(", " ( ");
        parseDesc = parseDesc.replace(")", " ) ");
        String[] parseDescTokens = parseDesc.trim().split("\\s+");
        Node treeReqd = getParseTree(parseDescTokens, leafNodes);// Required Tree
} 
```

# xpath - 使用 xpath 为 xml 添加元素时，对象引用未设置为对象的实例

> ID：10647904
> 
> 赞同：4
> 
> 时间：2012-05-18T06:41:42.877
> 
> 标签：xpath

我有一个 xml 文件，想向其中一个节点添加一个子元素，不知道为什么 xpath 会抛出空异常。这肯定是因为我可能给出了错误的 xpath 值。在此处添加元素的 xpath 是什么：

我正在使用的 XPath：

```
//SESSIONANALYSER/KER/MODES/NI/STATEINFORMATION[@TYPE='PREPAID']/INIT/INPUT 
```

这是我要添加子元素的地方：

```
<KER> 
    <MODES>
      <NI>
        <STATEINFORMATION TYPE="PREPAID">
          <INIT INVALIDINPUTRESPONSE="-2">
            <INPUT VALUE="LP6ACTIVATION">
             **<I have to add a child element here>** 
```

在以下 xml 中：

```
<SESSIONANALYSER>
  <AP>
    <MODES>
      <NI>
        <STATEINFORMATION TYPE="PREPAID">
          <INIT INVALIDINPUTRESPONSE="-2">
            <INPUT VALUE="SLN7ACTIVATION">
              <METHOD NAME="CHECKSUBSCRIBERBALANCE" PARAMETERS="SLN7" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="SETPSOINUCIP" PARAMETERS="SLN7" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="0" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="SLN7DEACTIVATION">
              <METHOD NAME="UNSETPSOINUCIP" PARAMETERS="SLN7" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="jk" PARAMETERS="k" POSSIBLEACTIONS1="k" MAINTAINSESSION="h" RESPONSE="l" NEXTLEVEL=";"></METHOD>
              <METHOD NAME="SENDMESSAGE" PARAMETERS="23" POSSIBLEACTIONS1="FALLOUTONSUCCESS" MAINTAINSESSION="yes" RESPONSE="format" NEXTLEVEL="msdfm"></METHOD>
              <METHOD NAME="payments" PARAMETERS="parametervalue" POSSIBLEACTIONS1="fg,f" MAINTAINSESSION="fdjfg89" RESPONSE="ndfgm" NEXTLEVEL="msdfm"></METHOD>
              <METHOD NAME="payments" PARAMETERS="l" POSSIBLEACTIONS1="l" MAINTAINSESSION="l" RESPONSE="l" NEXTLEVEL="l"></METHOD>
              <METHOD NAME="payments" PARAMETERS="l" POSSIBLEACTIONS1="l" MAINTAINSESSION="l" RESPONSE="l" NEXTLEVEL="l"></METHOD>
              <METHOD NAME="payments" PARAMETERS="k" POSSIBLEACTIONS1="k" MAINTAINSESSION="k" RESPONSE="k" NEXTLEVEL="k"></METHOD>
              <METHOD NAME="payments" PARAMETERS="L" POSSIBLEACTIONS1="L" MAINTAINSESSION="L" RESPONSE="L" NEXTLEVEL="L"></METHOD>
              <METHOD NAME="SENDMESSAGE" PARAMETERS="23" POSSIBLEACTIONS1="FALLOUTONSUCCESS" MAINTAINSESSION="yes" RESPONSE="format" NEXTLEVEL="msdfm"></METHOD>
              <METHOD NAME="payments" PARAMETERS="12" POSSIBLEACTIONS1="FALLOUTONSUCCESS" MAINTAINSESSION="yes" RESPONSE="format" NEXTLEVEL="msvm"></METHOD>
              <METHOD NAME="SENDMESSAGE" PARAMETERS="23" POSSIBLEACTIONS1="FALLOUTONSUCCESS" MAINTAINSESSION="yes" RESPONSE="0" NEXTLEVEL="3"></METHOD>
              <METHOD NAME="SENDMESSAGE" PARAMETERS="23" POSSIBLEACTIONS1="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="format" NEXTLEVEL="3"></METHOD>
            </INPUT>
          </INIT>
          <FAILUREREGION INVALIDINPUTRESPONSE="-2">
            <INPUT VALUE="LOWBALANCE">
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="1" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="SETPSOFAILED">
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="2" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="UCIPDEBIT">
              <METHOD NAME="UNSETPSOINMINSAT" PARAMETERS="SLN7" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_UNSETPSO_FALSE" MAINTAINSESSION="NO" RESPONSE="-6" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="3" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="UNSETPSO">
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="4" NEXTLEVEL="" />
            </INPUT>
          </FAILUREREGION>
        </STATEINFORMATION>
        <STATEINFORMATION TYPE="POSTPAID">
          <INIT INVALIDINPUTRESPONSE="-2">
            <INPUT VALUE="SLN7DEACTIVATION">
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="5" NEXTLEVEL="" />
            </INPUT>
          </INIT>
        </STATEINFORMATION>
      </NI>
    </MODES>
  </AP>
  <TN>
    <MODES>
      <NI>
        <STATEINFORMATION TYPE="PREPAID">
          <INIT INVALIDINPUTRESPONSE="-2">
            <INPUT VALUE="LPC16ACTIVATION">
              <METHOD NAME="SETPSOINUCIP" PARAMETERS="LPC16" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="0" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="LP26ACTIVATION">
              <METHOD NAME="SETPSOINUCIP" PARAMETERS="LP26" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="0" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="LP49ACTIVATION">
              <METHOD NAME="SETPSOINUCIP" PARAMETERS="LP49" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="0" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="LPT16ACTIVATION">
              <METHOD NAME="SETPSOINUCIP" PARAMETERS="LPT16" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="0" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="LP60ACTIVATION">
              <METHOD NAME="SETPSOINUCIP" PARAMETERS="LP60" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="0" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="LPC16DEACTIVATION">
              <METHOD NAME="UNSETPSOINUCIP" PARAMETERS="LPC16" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="0" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="LP26DEACTIVATION">
              <METHOD NAME="UNSETPSOINUCIP" PARAMETERS="LP26" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <!--<METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="0" NEXTLEVEL="" />-->
            </INPUT>
            <INPUT VALUE="LP49DEACTIVATION">
              <METHOD NAME="UNSETPSOINUCIP" PARAMETERS="LP49" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="0" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="LPT16DEACTIVATION">
              <METHOD NAME="UNSETPSOINUCIP" PARAMETERS="LPT16" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="0" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="LP60DEACTIVATION">
              <METHOD NAME="UNSETPSOINUCIP" PARAMETERS="LP60" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="0" NEXTLEVEL="" />
            </INPUT>
          </INIT>
          <FAILUREREGION INVALIDINPUTRESPONSE="-2">
            <INPUT VALUE="LOWBALANCE">
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="1" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="SETPSOFAILED">
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="2" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="UCIPDEBIT">
              <METHOD NAME="UNSETPSOINMINSAT" PARAMETERS="SLN7" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_UNSETPSO_FALSE" MAINTAINSESSION="NO" RESPONSE="-6" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="3" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="UNSETPSO">
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="4" NEXTLEVEL="" />
            </INPUT>
          </FAILUREREGION>
        </STATEINFORMATION>
        <STATEINFORMATION TYPE="POSTPAID">
          <INIT INVALIDINPUTRESPONSE="-2">
            <INPUT VALUE="">
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="5" NEXTLEVEL="" />
            </INPUT>
          </INIT>
        </STATEINFORMATION>
      </NI>
    </MODES>
  </TN>
  <KER>
    <MODES>
      <NI>
        <STATEINFORMATION TYPE="PREPAID">
          <INIT INVALIDINPUTRESPONSE="-2">
            <INPUT VALUE="LP6ACTIVATION">
              <METHOD NAME="SETPSOINUCIP" PARAMETERS="LP6" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="0" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="LPSP15ACTIVATION">
              <METHOD NAME="SETPSOINUCIP" PARAMETERS="LPSP15" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="0" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="LP6DEACTIVATION">
              <METHOD NAME="UNSETPSOINUCIP" PARAMETERS="LP6" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="0" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="LPSP15DEACTIVATION">
              <METHOD NAME="UNSETPSOINUCIP" PARAMETERS="LPSP15" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="0" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="LP6SUBSCRIPTION">
              <METHOD NAME="CHECKSUBSCRIBERBALANCE" PARAMETERS="LP6" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_LOWBALANCE_INSUFFICIENTBALANCE" MAINTAINSESSION="NO" RESPONSE="-3" NEXTLEVEL="" />
              <METHOD NAME="SETPSOINUCIP" PARAMETERS="LP6" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="FIREUCIPDEBIT" PARAMETERS="LP6" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_CHARGINGFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="0" NEXTLEVEL="" />
            </INPUT>
          </INIT>
          <FAILUREREGION INVALIDINPUTRESPONSE="-2">
            <INPUT VALUE="LOWBALANCE">
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="1" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="CHARGINGFAILED">
              <METHOD NAME="UNSETPSOINUCIP" PARAMETERS="LP6" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_SETPSOFAILED_FALSE" MAINTAINSESSION="NO" RESPONSE="-4" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="6" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="SETPSOFAILED">
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="2" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="UCIPDEBIT">
              <METHOD NAME="UNSETPSOINMINSAT" PARAMETERS="SLN7" POSSIBLEACTIONS="FALLOUTON_FAILUREREGION_UNSETPSO_FALSE" MAINTAINSESSION="NO" RESPONSE="-6" NEXTLEVEL="" />
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="3" NEXTLEVEL="" />
            </INPUT>
            <INPUT VALUE="UNSETPSO">
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="4" NEXTLEVEL="" />
            </INPUT>
          </FAILUREREGION>
        </STATEINFORMATION>
        <STATEINFORMATION TYPE="POSTPAID">
          <INIT INVALIDINPUTRESPONSE="-2">
            <INPUT VALUE="">
              <METHOD NAME="SENDMESSAGE" PARAMETERS="" POSSIBLEACTIONS="FALLOUTONSUCCESS" MAINTAINSESSION="NO" RESPONSE="5" NEXTLEVEL="" />
            </INPUT>
          </INIT>
        </STATEINFORMATION>
      </NI>
    </MODES>
  </KER>
</SESSIONANALYSER> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T12:09:03.820

**您正在评估的 XPath 表达式**：

```
//SESSIONANALYSER/KER/MODES/NI/STATEINFORMATION[@TYPE='PREPAID']/INIT/INPUT 
```

**不仅选择一个元素，而且选择六个`INPUT`元素**。

您指定要在*第*一个元素之后添加一个新元素。

**因此，使用这个 XPath 表达式，它恰好选择一个（想要的）`INPUT`元素**：

```
(//SESSIONANALYSER/KER/MODES/NI/STATEINFORMATION[@TYPE='PREPAID']/INIT/INPUT)[1] 
```

大多数 XPath 引擎都提供了`SelectNodes()`一种返回 a 中选定节点的方法，`NodeList`程序员需要遍历这个集合——即使只选择了一个节点——请记住这一点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T09:20:40.867

我不确定你为什么`BH`在你的xpath中有。

此 xpath 查询仅从您的示例中选择一个元素，我认为这是您想要的：

```
/SESSIONANALYSER/KER/MODES/NI/STATEINFORMATION[@TYPE='PREPAID']
    /INIT[@INVALIDINPUTRESPONSE='-2']
    /INPUT[@VALUE='LP6ACTIVATION'] 
```

# ruby - 从 Ruby 中的哈希列表创建嵌套哈希

> ID：10647905
> 
> 赞同：1
> 
> 时间：2012-05-18T06:41:45.993
> 
> 标签：ruby, hash, nested, reduce

我有一组类别及其值存储为哈希列表：

```
r = [{:A => :X}, {:A => :Y}, {:B => :X}, {:A => :X}, {:A => :Z}, {:A => :X},
     {:A => :X}, {:B => :Z}, {:C => :X}, {:C => :Y}, {:B => :X}, {:C => :Y},
     {:C => :Y}] 
```

我想计算每个值及其类别作为哈希值，如下所示：

```
{:A => {:X => 4, :Y => 1, :Z => 1},
 :B => {:X => 2, :Z => 1},
 :C => {:X => 1, :Y => 3}} 
```

我怎样才能有效地做到这一点？

这是我到目前为止所拥有的（它返回不一致的值）：

```
r.reduce(Hash.new(Hash.new(0))) do |memo, x|
  memo[x.keys.first][x.values.first] += 1
  memo
end 
```

我是否应该首先计算特定`{:cat => :val}`s 的所有实例的计数，然后创建哈希？我应该给出不同的基本情况来减少和更改正文以检查`nil`情况（并在 时分配零`nil`）而不是总是加 1？

编辑：

我最终更改了我的代码并使用以下方法来获得一种更简洁的方法来实现嵌套哈希：

```
r.map do |x|
  [x.keys.first, x.values.last]
end.reduce({}) do |memo, x|
  memo[x.first] = Hash.new(0) if memo[x.first].nil?
  memo[x.first][x.last] += 1
  memo
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T07:22:45.080

不确定“不一致的值”是什么意思，但你的问题是你注入的哈希没有记住它的结果

```
r.each_with_object(Hash.new { |h, k| h[k] = Hash.new 0 }) do |individual, consolidated|
  individual.each do |key, value|
    consolidated[key][value] += 1
  end
end 
```

但老实说，最好去创建这个数组的任何地方，并将其更改为像这样的聚合值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T07:25:59.407

使用一些方便的抽象的功能方法 - 无需重新发明轮子 - 从[方面](https://github.com/rubyworks/facets)：

```
require 'facets'    
r.map_by { |h| h.to_a }.mash { |k, vs| [k, vs.frequency] }
#=> {:A=>{:X=>4, :Y=>1, :Z=>1}, :B=>{:X=>2, :Z=>1}, :C=>{:X=>1, :Y=>3}} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T08:44:10.127

您的代码的问题是：*memo*没有保存该值。使用循环外的变量来保存值就可以了：

```
memo = Hash.new {|h,k| h[k] = Hash.new {|hh, kk| hh[kk] = 0 } }

r.each do |x|
  memo[x.keys.first][x.values.first] += 1
end

p memo 
```

而且，像这样直接初始化嵌套在哈希中的哈希是行不通的：

```
# NOT RIGHT
memo = Hash.new(Hash.new(0)) 
memo = Hash.new({}) 
```

这是有关设置默认值问题的更多链接： [http ://www.themomorohoax.com/2008/12/31/why-setting-the-default-value-of-a-hash-to-be-a -哈希是错误的](http://www.themomorohoax.com/2008/12/31/why-setting-the-default-value-of-a-hash-to-be-a-hash-is-wrong)

# c# - 如何使“for”循环像“while”循环一样工作？

> ID：10647906
> 
> 赞同：0
> 
> 时间：2012-05-18T06:41:48.470
> 
> 标签：c#, for-loop, while-loop

我知道有一种方法可以使`for`循环像循环一样工作`while`。

我有这个代码工作：

```
while (BR.BaseStream.Position < BR.BaseStream.Length) // BR = BinaryReader
{
    int BlockLength = BR.ReadInt32();
    byte[] Content = BR.ReadBytes(BlockLength);
} 
```

我需要`for`这个循环的等价物`while`..

到目前为止，我有这个：

```
for (long Position = BR.BaseStream.Position; Position < BR.BaseStream.Length; //Don't Know This)
{
    int BlockLength = BR.ReadInt32();
    byte[] Content = BR.ReadBytes(BlockLength);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-18T06:45:47.773

每次使用其中一种 Read 方法时，BinaryReader 都会增加它的位置，因此您实际上不需要该部分中的任何内容。

```
for (long Position = BR.BaseStream.Position; Position < BR.BaseStream.Length; Position = BR.BaseStream.Position)
{
    int BlockLength = BR.ReadInt32();
    byte[] Content = BR.ReadBytes(BlockLength);
} 
```

**更新**：我刚刚意识到该`Position`变量从未得到更新。您可以在 for 循环结束时或在第三部分更新它。`Position`我在 for 循环的第三部分更新了要更新的代码。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-18T06:45:57.020

我不确定您为什么要这样做，但这就是您的 for 循环的样子

```
int i = 0;
for (; true; )
{
    Console.WriteLine(i);
    if(++i==10)
        break;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T06:46:45.440

在伪代码中，这两个循环是等价的：

循环 1：

```
Type t = initialiser;
while (t.MeetsCondition())
{
  // Do whatever
  t.GetNextValue();
} 
```

循环 2：

```
for (Type t = initialiser; t.MeetsCondition(); t.GetNextValue())
  // Do whatever 
```

我想你可以从这里解决剩下的问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-18T06:50:59.937

```
for (long Position = BR.BaseStream.Position; Position < BR.BaseStream.Length; /* If you Don't Know     This, dont specify this. It is Optionl and can be kept blank */)
{
  int BlockLength = BR.ReadInt32();
  byte[] Content = BR.ReadBytes(BlockLength);
} 
```

# iphone - UIView CATransform3DMakeRotation 从左到右水平

> ID：10647907
> 
> 赞同：0
> 
> 时间：2012-05-18T06:42:00.887
> 
> 标签：iphone, objective-c, ios

我正在尝试从左到右水平旋转我的视图。所以我`CATransform3DMakeRotation`用来做旋转。

这是我的代码，

```
[UIView beginAnimations:nil context:nil];

[UIView setAnimationDuration:1];

[UIView setAnimationDelay:0];
[UIView setAnimationCurve:UIViewAnimationCurveEaseIn];

newView.layer.transform = CATransform3DMakeRotation(M_PI/2,0,1.0,0.0);
[UIView commitAnimations]; 
```

这段代码确实有效，但它只将我的视图旋转了一半。我想完全旋转。所以我将值更改`M_PI/2`为`M_PI`，像这样

```
CATransform3DMakeRotation(M_PI,0,1.0,0.0); 
```

但是对于这个值，我的观点根本没有旋转。请给我一些建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T13:54:12.357

```
UIImageView *imageView = [[[UIImageView alloc] init] autorelease]; // Don't forget to release this! I added autorelease.
imageView.image = [UIImage imageNamed:@"photo1.png"];
imageView.frame = CGRectMake(0, 0, viewOutlet.frame.size.width, viewOutlet.frame.size.height);

[viewOutlet addSubview:imageView];

[UIView beginAnimations:nil context:nil];
[UIView setAnimationDuration:1];
[UIView setAnimationDelay:0];

[UIView setAnimationCurve:UIViewAnimationCurveEaseIn];
viewOutlet.layer.anchorPoint = CGPointMake(0.0f, 0.5f);
viewOutlet.layer.transform =CATransform3DMakeRotation(M_PI,0,1.0,0.0);
[UIView commitAnimations]; 
```

** **viewOutlet**是您的视图出口所以不要忘记 IBOutlet 它。

# c - 在 msgrcv 之后将整数设置为随机值

> ID：10647909
> 
> 赞同：1
> 
> 时间：2012-05-18T06:42:12.270
> 
> 标签：c, unix, ipc

我要使用的队列中有许多消息（整数），我想使用整数跟踪我使用的消息数`int consumed`。

`ds.msg_qnum > 0`我首先使用where ds 是 struct msqid_ds 的对象来检测队列是否有消息。如果有消息，那么我调用 msgrcv 来使用消息并增加使用的计数器。

所以我有这个：

```
msgrcv(msgqid, (void *) &message, sizeof(message), 1, 0)
printf("consumed before incr: %d\n", consumed);
consumed++; 
```

每次消息消费后，消费显示为相同的随机整数值。另外，我将消息结构设置为将消息数据保存为 int 类型；我不确定这是否是确凿的证据。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T07:10:52.357

您的来电[`msgrcv`](http://pubs.opengroup.org/onlinepubs/9699919799/functions/msgrcv.html)无效。尺寸参数错误：

> ```
> struct mymsg {
>     long    mtype;     /* Message type. */
>     char    mtext[1];  /* Message text. */
> } 
> ```
> 
> **[...] 参数 msgsz 指定mtext**的字节大小。

您应该传递 的大小`msgbuf.mdata`，而不是整个结构的大小。这很可能会覆盖过去的结尾，`message`并弄乱存储在那里的任何内容。

`message.mtype`（确保在调用之前进行初始化`msgrcv`。）

# wcf - SVCUTIL.EXE 生成哪些文件

> ID：10647911
> 
> 赞同：1
> 
> 时间：2012-05-18T06:42:34.450
> 
> 标签：wcf, svcutil.exe

只是想知道当我们在一个项目中创建 wcf 服务并在另一个项目中添加服务引用时看到的背后发生了什么。所以要知道它，我在没有 Visual Studio 的情况下做这一切，即在记事本文件中编写服务代码并使用命令行运行 svcutil.exe。我的问题是我需要在双方（服务端和客户端）运行 svcutil 来导出和导入元数据吗？svcutil.exe 至少会生成哪些文件。

谢谢朋友。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T08:48:54.257

`SvcUtil`将生成一个代理类和一个配置文件，该文件将指定诸如服务使用的绑定、安全凭证、读取配额、服务地址、合同等内容。`SvcUtil`将生成元数据、序列化代码等。您`SvcUtil`在服务机器上运行，它提供给您的两个文件（代理类和配置文件）可用于在不同机器上创建客户端。

通常这些也是由 Visual Studio 的“添加服务引用”功能生成的，因此您实际上不必使用 SvcUtil。Visual Studio 实际上`SvcUtil`在幕后使用来生成客户端代理，因此使用 Visual Studio 生成客户端代理似乎不那么“混乱”。

在 SOA 术语中，一些人认为使用 SvcUtil 或 Visual Studio 手动生成客户端并不是一个好的做法，因为这些 etools 会生成不必要的代码，并且耦合过多，并且不会给您很大的灵活性。您可以分离您的程序集，例如您的服务、合同、代理等，并使用`ChannelFactory`该类创建服务通道。[这篇不错的文章](http://code-magazine.com/article.aspx?quickid=0809101&page=1)支持后一种生成客户端代理的做法。

# objective-c - 在实现文件中声明接口（Objective-C）

> ID：10647913
> 
> 赞同：4
> 
> 时间：2012-05-18T06:42:42.770
> 
> 标签：objective-c, ios

在上一个版本的 oxxCode (4.3) 中，我看到了在 .m 文件中进行接口声明的预定义模板（例如我们的 Master/Detail 模板）。例如，在文件 MyFile.h 中有：

```
@interface MyFile

@property (nonatomic, retain) NSString *someProp;

@end 
```

在 MyFile.m 文件中有：

```
@implementation MyFile

@interface MyFile {
    NSString * anotherProp;
}

- (id) init... 
```

为什么用这种方式制作？为什么 anotherProp 没有声明到 MyFile.h 文件中？

提前致谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-18T06:52:58.940

好吧，它不是这样声明的，而是这样声明的：-

```
@interface ClassName() {

    Declarations;

}

Methods;

@end 
```

这些被称为类扩展。它们类似于类别，但只能在类的实现中声明，不能在任何其他类中声明。扩展的用途是重新声明公共或可读写的属性，如果需要，还可以声明更新的属性。它们只允许您在@interface 以外的地方声明属性和变量，因此名称可扩展。

引入它是为了解决类别的问题，因为它们使方法公开并且类的数据隐藏能力得到补偿，但是类扩展有效地扩展了类的主接口，其声明的方法与类的公共主接口中声明的方法具有相同的要求界面。

# python - 龙卷风错误在 database.py 第 58 行 - NameError 全局名称 'CONVERSIONS' 未定义

> ID：10647918
> 
> 赞同：6
> 
> 时间：2012-05-18T06:43:13.737
> 
> 标签：python, tornado

我正在尝试运行 Tornado 演示“博客”。我已经更改了 blog.py 文件中的数据库选项。但是当我尝试运行 blog.py 文件时，出现以下错误！！![在此处输入图像描述](../Images/deb6504796c12010e8f0113cd6f9c452.png)

[blog.py 文件链接](https://github.com/facebook/tornado/blob/master/demos/blog/blog.py)

[database.py 文件链接](https://github.com/facebook/tornado/blob/master/tornado/database.py)

需要做些什么来克服这个错误？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-02T07:37:10.070

我遇到了同样的问题。如果您使用的是 Ubuntu，请尝试“ `sudo apt-get install python-MySQLdb`”

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T17:39:49.613

安装[MySQLdb](http://pypi.python.org/pypi/MySQL-python)（tornado.database 需要）。

# iphone - iAd 不是在 iPhone 中加载，而是在获得苹果批准后在 iPad 中加载

> ID：10647919
> 
> 赞同：1
> 
> 时间：2012-05-18T06:43:26.743
> 
> 标签：iphone, ios, xcode, ipad, ipod

我开发了一个最近获得苹果批准的应用程序。但问题是 iAd 没有在 iphone 中显示，而 ipad iAd 显示完美。在开发时，iAd 已加载并在 iPhone 和 iPad 上进行测试广告。但是在获得苹果的批准后，我从商店下载了应用程序，注意到 iAd 没有加载到 iphone 中，但它正在加载到 ipad 中。我在其他应用程序中检查了 iphone 中的其他应用程序 iAd 工作正常，但在我的应用程序中 iAd 没有加载。那么我现在应该怎么做才能在 iphone 中加载 iAd。

我在应用程序中使用的代码是

```
-(void)showiAdInView
{
if (!appDelegate.isUpgraded) {
    bannerView = [[ADBannerView alloc] init];
    bannerView.delegate = self;
    bannerView.backgroundColor = [UIColor colorWithWhite:1.0f alpha:0.005f];
    bannerView.hidden = TRUE;
    bannerIsVisible = FALSE;
    [self.view addSubview:bannerView];
}
}
-(void)bannerViewDidLoadAd:(ADBannerView *)banner
{
bannerIsVisible = YES;
bannerView.hidden = FALSE;
NSLog(@"ADBanner is Showing");
[self bannerViewShow];
}
-(void)bannerView:(ADBannerView *)banner didFailToReceiveAdWithError:(NSError *)error
{
bannerIsVisible = FALSE;
bannerView.hidden = TRUE;
NSLog(@"ADBanner is Hidding");
NSLog(@"%@",[error description]);
[self bannerViewHide];
}

-(BOOL)bannerViewActionShouldBegin:(ADBannerView *)banner willLeaveApplication:  (BOOL)willLeave
{
if ([self.captureSession isRunning]) {
    [self.captureSession stopRunning];
    iAdLoaded = TRUE;
}
return YES;
}
-(void)bannerViewActionDidFinish:(ADBannerView *)banner
{
UIInterfaceOrientation interfaceOrientation = [[UIApplication sharedApplication] statusBarOrientation];
[self willRotateToInterfaceOrientation:interfaceOrientation duration:0.2f];
if (![self.captureSession isRunning] && iAdLoaded) {
    [self.captureSession startRunning];
    iAdLoaded = FALSE;
}
}
-(void)bannerViewShow
{
[bannerView setBackgroundColor:[UIColor colorWithWhite:1.0f alpha:0.005f]];
UIInterfaceOrientation interfaceOrientation = [[UIApplication sharedApplication] statusBarOrientation];
if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) 
{
    if (UIInterfaceOrientationIsPortrait(interfaceOrientation)) {
        [UIView beginAnimations:nil context:nil];
        [UIView setAnimationDelegate:self];
        [UIView setAnimationDuration:0.5];
        [MsgtextView setFrame:MsgTextVwAdBannerFrame];
        [UIView commitAnimations];
        adBannerFrame = CGRectMake(0, 190, 320, 50);
        clearButton.frame = CGRectMake(ClearButtonFramePotrait.origin.x, ClearButtonFramePotrait.origin.y, ClearButtonFramePotrait.size.width, ClearButtonFramePotrait.size.height);
        [self.view bringSubviewToFront:bannerView];
        [bannerView setFrame:adBannerFrame];
        [bannerView setCurrentContentSizeIdentifier:ADBannerContentSizeIdentifierPortrait];

    }
    else if (UIInterfaceOrientationIsLandscape(interfaceOrientation)) {
        [UIView beginAnimations:nil context:nil];
        [UIView setAnimationDelegate:self];
        [UIView setAnimationDuration:0.5];
        [MsgtextView setFrame:CGRectMake(MsgTextVwAdBannerFrame.origin.x, MsgTextVwAdBannerFrame.origin.y, MsgTextVwAdBannerFrame.size.width, MsgTextVwAdBannerFrame.size.height+8)];
        [UIView commitAnimations];
        adBannerFrame = CGRectMake(0, 105, 470, 32);
        clearButton.frame = CGRectMake(ClearButtonFrameLandscape.origin.x, ClearButtonFrameLandscape.origin.y, ClearButtonFrameLandscape.size.width, ClearButtonFrameLandscape.size.height);
        [bannerView setCurrentContentSizeIdentifier:ADBannerContentSizeIdentifierLandscape];
        [self.view bringSubviewToFront:bannerView];
        [bannerView setFrame:adBannerFrame];

    }
}
else if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) {
    if (UIInterfaceOrientationIsPortrait(interfaceOrientation)) {
        [UIView beginAnimations:nil context:nil];
        [UIView setAnimationDelegate:self];
        [UIView setAnimationDuration:0.5];
        [MsgtextView setFrame:MsgTextVwAdBannerFrame];
        [UIView commitAnimations];
        adBannerFrame = CGRectMake(0, 640, 768, 50);
        [bannerView setCurrentContentSizeIdentifier:ADBannerContentSizeIdentifierPortrait];
        clearButton.frame = CGRectMake(ClearButtonFrame_iPadPotrait.origin.x, ClearButtonFrame_iPadPotrait.origin.y, ClearButtonFrame_iPadPotrait.size.width, ClearButtonFrame_iPadPotrait.size.height);
        [self.view bringSubviewToFront:bannerView];
        [bannerView setFrame:adBannerFrame];
    }
    else if (UIInterfaceOrientationIsLandscape(interfaceOrientation)) {
        [UIView beginAnimations:nil context:nil];
        [UIView setAnimationDelegate:self];
        [UIView setAnimationDuration:0.5];
        [MsgtextView setFrame:CGRectMake(MsgTextVwAdBannerFrame.origin.x, MsgTextVwAdBannerFrame.origin.y, MsgTextVwAdBannerFrame.size.width, MsgTextVwAdBannerFrame.size.height+8)];
        [UIView commitAnimations];
        adBannerFrame = CGRectMake(0, 325, 1024, 32);
        [bannerView setCurrentContentSizeIdentifier:ADBannerContentSizeIdentifierLandscape];
        clearButton.frame = CGRectMake(ClearButtonFrame_iPadPotrait.origin.x, ClearButtonFrame_iPadPotrait.origin.y, ClearButtonFrame_iPadPotrait.size.width, ClearButtonFrame_iPadPotrait.size.height);
        [self.view bringSubviewToFront:bannerView];
        [bannerView setFrame:adBannerFrame];
    }
}
}
-(void)bannerViewHide
{
[bannerView setBackgroundColor:[UIColor clearColor]];
UIInterfaceOrientation interfaceOrientation = [[UIApplication sharedApplication] statusBarOrientation];
if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) 
{
    if (UIInterfaceOrientationIsPortrait(interfaceOrientation)) {
        [UIView beginAnimations:nil context:nil];
        [UIView setAnimationDelegate:self];
        [UIView setAnimationDuration:0.5];
        [MsgtextView setFrame:MsgTextVwFrame];
        clearButton.frame = ClearButtonFramePotrait;
        [bannerView setHidden:YES];
        [UIView commitAnimations];
    }
    else if (UIInterfaceOrientationIsLandscape(interfaceOrientation)) {
        [UIView beginAnimations:nil context:nil];
        [UIView setAnimationDelegate:self];
        [UIView setAnimationDuration:0.5];
        [MsgtextView setFrame:MsgTextVwFrame];
        clearButton.frame = ClearButtonFrameLandscape;
        [bannerView setHidden:YES];
        [UIView commitAnimations];
    }
}
else if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) {
    if (UIInterfaceOrientationIsPortrait(interfaceOrientation)) {
        [UIView beginAnimations:nil context:nil];
        [UIView setAnimationDelegate:self];
        [UIView setAnimationDuration:0.5];
        [MsgtextView setFrame:MsgTextVwFrame];
        clearButton.frame = ClearButtonFrame_iPadPotrait;
        [bannerView setHidden:YES];
        [UIView commitAnimations];
    }
    else if (UIInterfaceOrientationIsLandscape(interfaceOrientation)) {
        [UIView beginAnimations:nil context:nil];
        [UIView setAnimationDelegate:self];
        [UIView setAnimationDuration:0.5];
        [MsgtextView setFrame:MsgTextVwFrame];
        clearButton.frame = ClearButtonFrame_iPadPotrait;
        [bannerView setHidden:YES];
        [UIView commitAnimations];
    }
}
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-19T02:14:02.853

总体而言，iAd 的填充率非常低。广告网络（包括 iAd）向您发送的广告越多，您的点击率就越高；即，点击您应用中广告的用户：您在应用中展示的广告的比例。如果您确认测试广告有效并且您刚刚发布了该应用程序，那么 Apple 完全有可能只需要一点时间就可以向您发送有关 iPhone 版本的广告文件。给它几天，看看它是怎么回事。

或者，我注意到您的“isUpgraded”代码，有没有可能，在您正在测试的 iPhone 上，您购买了升级并忘记了，现在不再返回广告？

# json - 解析nginx日志的工具

> ID：10647920
> 
> 赞同：2
> 
> 时间：2012-05-18T06:43:33.830
> 
> 标签：json, mongodb, nginx, hive, hdfs

我计划将网页请求的请求日志从 mongo 迁移到 nginx 日志。是否有一些解析器/工具可用于解析日志并将其转换为 JSON，以使它们看起来更有意义，以便我可以查询它们？

当前的 mongo 日志格式：

```
{ "_id" : ObjectId("4f911646e4b00a6b7b103c77"), "mUpdatedAt" : NumberLong("1334908486975"), "playerError" : "", "playerState" : "paused", "requestUuid" : "d2c8c8aa-aeab-4f87-8db0-ed699ba19249" } 
```

Nginx 日志格式：

```
115.249.242.17 - - [18/May/2012:05:40:49 +0000] "GET /flashlayer?videoId=NaN&duration=26.091&videoLoadTime=216&videoBitRate=1708 HTTP/1.1" 200 86 "-" "Mozilla/5.0 (Windows NT 6.1; rv:12.0) Gecko/20100101 Firefox/12.0" 
```

我可以在 mongoDB 上查询，我也希望对 nginx 日志进行同样的查询，为此我需要一个简单的解析器来读取 nginx 日志并转换为 JSON、CSV 或将其放入 hive、HDFS 中。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T16:57:36.903

也许将您的 nginx 日志格式配置为更像 JSON 对您来说会是更好的解决方案。 [http://nginx.org/r/log_format](http://nginx.org/r/log_format)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-31T15:29:21.217

Logstash is a great tool for doing stuff like that. [http://www.logstash.net](http://www.logstash.net)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-07-08T08:23:25.070

我会建议使用以下模式的logstash：

对于 access.log ：

```
NGINXACCESS %{IPORHOST:clientip} - %{USERNAME:remote_user} \[%{HTTPDATE:time_local}\] %{QS:request} %{INT:status} %{INT:body_bytes_sent} %{QS:http_referer} %{QS:http_user_agent} 
```

对于error.log：

```
 NGINXERROR (?<timestamp>%{YEAR}[./-]%{MONTHNUM}[./-]%{MONTHDAY}[- ]%{TIME}) \[%{LOGLEVEL:severity}\] %{POSINT:pid}#%{NUMBER}: %{GREEDYDATA:errormessage}(?:, client: (?<clientip>%{IP}|%{HOSTNAME}))(?:, server: %{IPORHOST:server})(?:, request: %{QS:request})?(?:, host: %{QS:host})?(?:, referrer: \"%{URI:referrer})? 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-30T00:01:14.037

NodeJs 模块，如果您决定安装 Node.js，您也可以在命令行上使用它。 [https://npmjs.org/package/ginx](https://npmjs.org/package/ginx)

# java - 创建 websocket Java API

> ID：10647921
> 
> 赞同：0
> 
> 时间：2012-05-18T06:43:39.217
> 
> 标签：java, api, websocket

我想为这些要求创建一个 websocket Java API：“当用户登录我的应用程序时，如果他进入一个从服务器不断更新的页面，那么 Java API 应该识别用户并定期推送内容间隔”

因此，为此我想开始创建通用 Java API，以便对于需要从服务器推送的其他页面，我可以使用 API 而不是每次都重新发明轮子

我应该考虑哪些事情以及我应该如何解决这个问题

请输入你的想法

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T07:29:18.780

GitHub 有许多处理 Java 和 WebSocket 的库。您可以在其中之一之上构建您的应用程序。例如[vert.x](https://github.com/purplefox/vert.x)、[SockJS](https://github.com/cgbystrom/sockjs-netty)、[Atmosphere](https://github.com/Atmosphere/atmosphere)等。

在[SockJS](https://github.com/sockjs/sockjs-client)页面上，您可以看到使用它的客户端/服务器列表。恕我直言，重用现有库/框架之一比构建自己的库/框架更好，因为您的库/框架是一个常见的用例，并且使用 Web 套接字，提供跨浏览器兼容性等目前并非易事。

# php - CakePHP 在关联记录中预填充外键

> ID：10647926
> 
> 赞同：0
> 
> 时间：2012-05-18T01:31:27.493
> 
> 标签：php, cakephp

我在数据库中有两个表，`cards`并且`comments`. 我已经启动并运行了我的 CakePHP 应用程序。当卡片 view.ctp .. 相关评论出现在页面底部时。

我想单击添加新评论，但专门为当前卡片添加它，例如预填充卡片字段以显示当前类别。

这是我目前的*观点新评论*链接：

```
<?php

echo $this->Html->link(__('New comment'), array('controller' => 'comments','action' => 'add'));

?> 
```

这是我的*添加评论*控制器：

```
public function add() {
    if ($this->request->is('post')) {
        $this->Comment->create();
        if ($this->Comment->save($this->request->data)) {
            $this->Session->setFlash(__('The comment has been saved'));
            $this->redirect(array('action' => 'index'));
        } else {
            $this->Session->setFlash(__('The comment could not be saved. Please, try again.'));
        }
    }
    $cards = $this->Comment->Card->find('list');
    $this->set(compact('cards'));
} 
```

如何将卡片设置为当前卡片以进行新添加的评论？

我还希望能够添加新评论，但卡片空白.. 准备好让用户从列表中选择。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T08:40:53.827

您可以将 cartId 附加到视图页面上的链接：

```
array(..., 'action'=>'add', $cartId) 
```

然后你可以这样检索它：

```
public function add($cartId = null) {
    //...
    if (isPost) {
        //
    } else {
        $this->request->data['Comment']['cart_id'] = $cartId;
    }
    //...
} 
```

这样，cartId 将填充 GET 上的选择框（在 POST 上，您希望使用发布的参数来确保表单在验证错误的情况下确实记住其发布的值）

# android - 选择发送电子邮件的程序

> ID：10647927
> 
> 赞同：2
> 
> 时间：2012-05-18T06:44:32.803
> 
> 标签：android, email

我有这个发送电子邮件的代码：

```
Intent intent = new Intent(Intent.ACTION_SEND);
intent.putExtra(Intent.EXTRA_EMAIL, new String[]{MyApp.sInstance.ErrorsMail});
intent.putExtra(Intent.EXTRA_SUBJECT, getString(R.string.Proposal));
//intent.setType("plain/text");
intent.setType("message/rfc822");
startActivity(Intent.createChooser(intent, getString(R.string.SendEmail))); 
```

不幸的是，它不仅向我展示了电子邮件应用程序：Skype、FTP、GoogleDrive、GMail

如何将列表限制为电子邮件客户端？

## 更新：

添加

```
intent.setData(Uri.parse("mailto:")); 
```

我收到：“没有应用程序可以执行此操作”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:53:26.287

Actually, in your Intent..

**ACTION_SEND** is a generic Intent action that can be supported by any application that wants to. All you do is indicate what data you are sharing and the MIME type of that data -- from there, it is up to the user to choose from available activities.

The only way is some hack for use `Explicit Intent` with actual know of **PackageName** for the `Email Application`, and what type of `ACTION` it responses.

# android - 使用蓝牙共享在android中传输文件

> ID：10647928
> 
> 赞同：3
> 
> 时间：2012-05-18T06:44:42.537
> 
> 标签：android, file, bluetooth, transfer

我想在 Android 中使用蓝牙传输文件。

我遇到了这个：
[如何以编程方式在android上使用蓝牙发送文件？](https://stackoverflow.com/questions/4921384/how-to-send-file-using-bluetooth-on-android-programatically)

在上面的链接中回答这个问题。

但我没有得到任何例外，而且没有任何文件被传输。
请让我知道我是否必须在清单中添加除蓝牙许可之外的任何提供程序或任何内容。

谢谢斯内哈

# nginx - 如何设置 nginx 以从端口提供数据？

> ID：10647929
> 
> 赞同：2
> 
> 时间：2012-05-18T06:44:42.767
> 
> 标签：nginx, virtual-directory

我让 nginx 在端口 80 上提供一个页面。

```
server {
listen   80;
server_name .example.com;
root       /var/www/docs;
index      index.html;
} 
```

我还有一个在端口 9000 上运行服务器的服务。如何在 nginx 中设置一个虚拟目录（例如 /service）以服务于端口 9000 上的任何内容？我无法打开其他端口，所以我想通过端口 80 上的某种虚拟目录来提供服务。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T07:07:59.547

从那开始（但您[肯定](http://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_pass)需要更多指令才能使您的服务器正常响应此子目录）：

```
location /something {
    proxy_pass http://localhost:9000/;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $remote_addr;
} 
```

# blackberry - 黑莓 HttpConnection Cookie

> ID：10647931
> 
> 赞同：0
> 
> 时间：2012-05-18T06:44:52.147
> 
> 标签：blackberry, cookies, httpconnection

另一个黑莓 httpconnection 问题。

我正在编写一个获取 cookie 的应用程序，然后通过 HttpConnection 使用 REST 将其用于身份验证目的。

这可以通过 Eclipse 和设备模拟器完美运行，但是它在设备本身上失败了。

有问题的代码行是：

```
_connection.setRequestProperty("Cookie",loginDetails.getCookie().trim()); 
```

现在，根据过去的经验，我猜测实际设备上的 cookie 中一定有一些坏字符，并且开发 PC（运行模拟器）正在为我进行过滤/字符替换。

任何指针/建议任何人？

# html - 有没有办法将多选列表框显示为组合框（单选）但在打开时应该多选

> ID：10647937
> 
> 赞同：1
> 
> 时间：2012-05-18T06:45:19.880
> 
> 标签：html, css, multi-select

我正在寻找一种方式，其中多选列表框应显示为普通的单选组合框，但单击时它应作为列表框工作，允许多选，如下面的电子表格所示。我正在寻找 CSS HTML 和 javascript 而不是 Jquery 的解决方案。

![在此处输入图像描述](../Images/16ce940b59235288a574425fbe09447d.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T06:59:58.450

你不能让一个元素表现得像那样，但你可以做一些看起来像下拉列表的东西，当用户点击它时，显示一个弹出/弹出窗口，其中包含允许多选的选择（已设置`size`属性）。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-05-18T07:08:19.163

你可以通过[jQuery MultiSelect](http://www.abeautifulsite.net/blog/2008/04/jquery-multiselect/)来做到这一点，这里是[演示](http://labs.abeautifulsite.net/archived/jquery-multiSelect/demo/)

# php - 如何制作json api

> ID：10647940
> 
> 赞同：7
> 
> 时间：2012-05-18T06:45:26.987
> 
> 标签：php, javascript, android, api

对不起，如果这是一个基本问题。但我打算为我的网站制作一个 api。首先这个 api 将由我使用，但稍后我将发布给开发人员使用它。我很困惑，这个网站将用于移动应用程序和网站。我打算为此制作android应用程序。

问题是我是否必须用不同的语言制作这个 api，即在 Java 中用于 android 平台，在 Objective C 中用于 iOS 以及 javascript 和 php 用于 web？

如果我只在 javascript 中制作它，它会适用于多个平台吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-18T07:03:18.763

在服务器端，您的 JSON API 将在一个平台上以一种语言编写，这可以是 PHP、.NET 或您选择的任何平台。

在客户端（iPhone、Android 等）您需要编写一个能够发出请求并处理对 JSON API 的响应的客户端。

但是，为了在您的客户端 API 中强制执行一致性，您可以使用一种模式，例如请求-回复模式，我一直使用它，因为它易于使用和实现。

这个想法是针对每个 JSON API 方法，你有一个 Request 类和一个 Response 类。您还将编写一个代表您的 JSON API 的服务客户端。

**一个例子**

假设我有一个 JSON 服务，它可以提供我通讯录中的联系方式，它可以有以下服务方法：

```
/contact/{id}
/address_book
/save_contact/{id} 
```

我的服务客户端（Java 中的示例）可以有这个接口：

```
public interface AddressBookClient {
    public GetContactResponse getContact(GetContactRequest request);
    public GetAddressBookResponse getAddressBook(GetAddressBookRequest request);
    public SaveContactResponse saveContact(SaveContactRequest request);
} 
```

尽管跨客户端平台的实现会有所不同，但使用相同的方法或模式将使它们保持一致。

希望有帮助。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-05-18T06:47:37.260

我会建议类似基于 JSON 的 REST 完整 API。

这使您的 API 语言独立。

制作 API 后，您就可以制作流行语言的客户端库。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-05-18T06:48:35.760

如果 API 是基于 JSON 的，那么它几乎适用于当今任何流行的语言。您可以毫无问题地在以不同语言构建的应用程序之间进行通信。

[您可以在官方 JSON 站点上](http://json.org/)查看针对不同语言的大量库列表。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-18T07:24:18.417

我正在使用 URL 来请求 JSON：

```
api.example.com/api.php?action=User.login&username=admin&password=111 
```

JSON 响应是：

```
{
   "resultcode":100,
   "resultdata":{
      "id":"1",
      "username":"admin",
      "password":"$1$$TUPijxhaACBBZHMowbtgD.",
      "name":"chenwendong",
      "email":"mdowen@foxmail.com",
      "sex":"\u7537",
      "age":"11",
      "phone":"15811111111",
      "address":"\u5317\u4eac\u7231\u7231\u7231\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a\u554a",
      "province_id":"1",
      "city_id":"1",
      "last_login_ip":"127.0.0.1",
      "last_login_time":"2012-05-07 17:32:55",
      "state":"1",
      "intime":"2012-05-07 09:49:11",
      "is_deleted":"0",
      "province":"\u5317\u4eac\u5e02",
      "city":"",
      "sid":"fcd6321c4cd4748a0cee2e7cc337506b",
      "uid":"1",
      "message_count":"11"
   }
} 
```

然后，有人可以使用 Android JSON 对其进行解码。

# javascript - 如何使用 jquery 添加转发和收藏按钮？

> ID：10647944
> 
> 赞同：0
> 
> 时间：2012-05-18T06:45:56.593
> 
> 标签：javascript, jquery, html, twitter

我在 javascript/jquery 中编写了一个代码，该代码用特定句柄的推文填充了一个部门。

```
$.getJSON("http://api.twitter.com/1/statuses/user_timeline.json?screen_name="+ handle + "&count=" + noOfTweets + "&include_rts=true&callback=?", function(data) {
    //some code
}); 
```

这是显示推文的代码

```
Json.parse(data);
$.each(data, function(i, tweet) {
  var buttonString = '<br/><a onclick="retweet('+tweet.id+')">Retweet</a>'
                            +'<a onclick="favorite('+tweet.id+')">Favorite</a>';

  $("#tweets").append($("<li/>").html(tweet.text+" <span class='tweetTime'>--a moment ago.</span>")+buttonString);
} 
```

我现在想在推文中添加转发和收藏按钮。上述函数的 twitter api 需要一个 post 请求，但 jquery 没有任何 .postJSON() 函数 [https://dev.twitter.com/docs/api/1/post/statuses/retweet/:id](https://dev.twitter.com/docs/api/1/post/statuses/retweet/:id) 和 [https ://dev.twitter.com/docs/api/1/post/favorites/create/:id](https://dev.twitter.com/docs/api/1/post/favorites/create/:id)

那么我的转发和收藏功能应该包含什么？请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T20:03:06.637

改为使用网络意图。不是最好的，但也不错。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T20:27:00.160

jQuery 具有发出 POST 请求的功能 - [jQuery.post()](http://api.jquery.com/jQuery.post/)

# mysql - 将mysql数据导出为pdf文件

> ID：10647948
> 
> 赞同：0
> 
> 时间：2012-05-18T06:46:13.870
> 
> 标签：mysql, export

我想将 mysql 表导出为 pdf 格式。请帮我

我试过这段代码。这是我的代码

**我的.php**

```
<?php
$con = mysql_connect("localhost","root","");
if (!$con)
  {
  die('Could not connect: ' . mysql_error());
  }

mysql_select_db("jass12", $con);

$result = mysql_query("SHOW COLUMNS FROM ja");

 $i = 0;

if (mysql_num_rows($result) > 0) {
while ($row = mysql_fetch_assoc($result)) 
{

@$csv_output .='"'.$row['Field'].'","';

$i++;}
}
$csv_output .= "\n";
$values = mysql_query("SELECT * FROM ja");

while ($rowr = mysql_fetch_row($values)) {
for ($j=0;$j<$i;$j++) {
$csv_output .= $rowr[$j].",";

}
$csv_output .= "\n";
}
@$filename = $file."_".date("d-m-Y_H-i",time());

header("Content-type: application/vnd.ms-excel");
header("Content-disposition: xls" . date("Y-m-d") . ".xls");
header( "Content-disposition: filename=".$filename.".xls");

print $csv_output;

exit;
?> 
```

它会产生错误并作为 xls 文件的输出。

我想获得将数据库文件转换为pdf的确切编码。

请帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T07:15:04.210

尝试使用 FPDF [http://www.fpdf.org/](http://www.fpdf.org/)。

# c - 在字符矩阵中搜索特定单词

> ID：10647950
> 
> 赞同：1
> 
> 时间：2012-05-18T06:46:21.067
> 
> 标签：c, search, matrix

**我试图通过C**在字符矩阵中搜索特定单词，但无法找到固定的解决方案。

例如：假设我必须在字符矩阵（3 * 9）中搜索单词**INTELLIGENT**（一旦你从矩阵中选择了一个字符来形成一个句子，你就不能再选择它来形成同一个句子。有从任何单元到其所有相邻单元的路径。一个邻居可以共享一条边或一个角。）

```
ⅢNN.LI  
....TTEGL  
.....内力  

```

输出：YES（可以找到INTELLIGENT这个词）任何人都可以解决上述问题！！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T06:50:39.823

使用深度优先搜索。

您可以使用递归算法来做到这一点。找到包含第一个字母的所有（未使用的）位置，然后从相邻的一个方格开始，看看是否可以在剩余的板上找到单词的其余部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T12:13:38.873

```
#include <stdio.h>

char Matrix[3][9] = {
    { 'I','I','I','I','N','N','.','L','I'},
    { '.','.','.','.','T','T','E','G','L'},
    { '.','.','.','.',',','N','E','L','I'}
};
char Choice[3][9] = { { 0 }, { 0 }, { 0 } };
const char WORD[] = "INTELLIGENT";
const int  Len = sizeof(WORD)-1;
int Path[sizeof(WORD)-1] = { 0 };

char get(int row, int col){
    if(1 > col || col > 9) return '\0';
    if(1 > row || row > 3) return '\0';
    if(Choice[row-1][col-1] || Matrix[row-1][col-1] == '.')
        return '\0';
    else
        return Matrix[row-1][col-1];
}

#define toLoc(r, c) (r)*10+(c)
#define getRow(L) L/10
#define getCol(L) L%10

int search(int loc, int level){
    int r,c,x,y;
    char ch;
    if(level == Len) return 1;//find it
    r = getRow(loc);
    c = getCol(loc);
    ch = get(r,c);
    if(ch == 0 || ch != WORD[level]) return 0;
    Path[level]=toLoc(r,c);
    Choice[r-1][c-1] = 'v';//marking
    for(x=-1;x<=1;++x){
        for(y=-1;y<=1;++y){
            if(search(toLoc(r+y,c+x), level + 1)) return 1;
        }
    }
    Choice[r-1][c-1] = '\0';//reset
    return 0;
}

int main(void){
    int r,c,i;
    for(r=1;r<=3;++r){
        for(c=1;c<=9;++c){
            if(search(toLoc(r,c), 0)){
                printf("YES\nPath:");
                for(i=0;i<Len;++i){
                    printf("(%d,%d)", getRow(Path[i]), getCol(Path[i]));
                }
                printf("\n");
                return 0;
            }
        }
    }
    printf("NO\n");
    return 0;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-19T07:02:47.857

我想这就是你的意思.....虽然它看起来比你目前提供的更简单，所以我可能误解了这个问题。

我使用 Numpy 将任意数组重塑为单个字母列表，然后我们创建搜索词的掩码和输入列表的副本。我在更新掩码时勾选要搜索的每个字母。

```
将 numpy 导入为 np
导入副本

def findInArray(I,Word):
    M=[list(x) for x in I]

    M=列表（np.ravel（M））

    print "开始的字母：%s"%"".join(M)

    掩码=[假]*len(字)

    T = copy.copy(M)

    对于 enumerate(Word) 中的 n,v：
        尝试：
            p=T.index(v)
        除了ValueError：
            经过
        别的：
            T[p]=''
            掩码[n]=真

    print "剩余的字母：%s"%"".join(T)            
    if all(Mask):print "Found %s"%Word
    else:print "%s not Found"%Word

    打印“\n”

    全部归还（面具）

我=["IIIINN.LI","....TTEGL","....NELI"]

findInArray(I,"INTEL")
findInArray(I,"智能")
findInArray(I,"智能")

```

***示例输出***

*开头的字母：IIIN.LI....TTEGL.....NELI 剩余
的字母：IIIN.I....TGL.....NELI
找到 INTEL* 

开始的字母： IIIINN.LI....TTEGL....NELI 剩余
的字母：II.I..........NLI
发现 INTELLIGENT

开始的字母： IIIINN.LI....TTEGL.....NELI 剩余
的字母：II.I....T.......NLI
未找到智能

 ** * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-22T10:55:28.290

```
#include <stdio.h>

#define ROW 1
#define COL 11

char Matrix[ROW][COL] = { { 'I','N','T','E','L','L','I','G','E', 'N', 'T'} };
char Choice[ROW][COL] = { { 0 } };
const char WORD[] = "INTELLIGENT";
const int  Len = sizeof(WORD)-1;
int Path[sizeof(WORD)-1] = { 0 };

char get(int row, int col){
    if(1 > col || col > COL) return '\0';
    if(1 > row || row > ROW) return '\0';
    if(Choice[row-1][col-1] || Matrix[row-1][col-1] == '.')
        return '\0';
    else
        return Matrix[row-1][col-1];
}

#define toLoc(r, c) (r)*16+(c)
#define getRow(L) L/16
#define getCol(L) L%16

int search(int loc, int level){
    int r,c,x,y;
    char ch;
    if(level == Len) return 1;//find it
    r = getRow(loc);
    c = getCol(loc);
    ch = get(r,c);
    if(ch == 0 || ch != WORD[level]) return 0;
    Path[level]=toLoc(r,c);
    Choice[r-1][c-1] = 'v';//marking
    for(x=-1;x<=1;++x){
        for(y=-1;y<=1;++y){
            if(search(toLoc(r+y,c+x), level + 1)) return 1;
        }
    }
    Choice[r-1][c-1] = '\0';//reset
    return 0;
}

int main(void){
    int r,c,i;
    for(r=1;r<=ROW;++r){
        for(c=1;c<=COL;++c){
            if(search(toLoc(r,c), 0)){
                printf("YES\nPath:");
                for(i=0;i<Len;++i){
                    printf("(%d,%d)", getRow(Path[i]), getCol(Path[i]));
                }
                printf("\n");
                return 0;
            }
        }
    }
    printf("NO\n");
    return 0;
} 
```*

# php - 货币的 PHP 正则表达式

> ID：10647965
> 
> 赞同：1
> 
> 时间：2012-05-18T06:47:43.633
> 
> 标签：php, regex

我很好奇找到美元的正则表达式。我的输入和规则是只能有数字 0 到 9 和可选的小数点。如果小数存在，它后面必须有两个 0 t 9 位。

所以它可以除外：1000 1000.99

但不是：10001.1 1000\. 1,000 $100.9

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-18T07:00:14.257

你知道正则表达式吗？让我解释一下解决方案：

1）你想要数字，那些是`[0-9]`

2）您至少想要其中一个，即`+`

3）那么可能有东西，我们把它放在括号里，0或1次表示`?`

所以你现在有了这个`[0-9]+(something)?`

4）现在你想要一些小数点，点是正则表达式中的特殊字符，所以你必须转义它`\.`

5）然后你又想要数字，正好是其中的两个`{2}`

你在这里，完整的表达：

```
 $expression="/[0-9]+(\.[0-9]{2})?/"; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-18T06:52:32.477

干得好：

```
/^[0-9]+(?:\.[0-9]{2}){0,1}$/ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-06-04T10:22:06.123

这将检查任意数量：

```
/^(?:[0-9]{1,3})(?:,[0-9]{3})*(?:|\.[0-9]+)$/ 
```

例如，它将验证：

```
1,432.33
  342
    1.2
    0.343 
```

# javascript - 通过传递ID在数据表中搜索数据

> ID：10647966
> 
> 赞同：0
> 
> 时间：2012-05-18T06:47:43.640
> 
> 标签：javascript, jquery

有什么方法可以在 JavaScript 或 jquery 中从数据数据表中搜索数据。我在我的 JS 中有一个数据表，我想在 ID 上选择一条记录，一种方法是在数据表上循环并遍历所有数据表行，但是当我有大量数据我想在 JavaScript 等 C# 中实现选择时，它变得很慢.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T07:33:17.243

您可以直接在选择器中使用 id：

```
var vId = '123';
$('#d'+vId) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T07:06:00.500

你遇到性能问题了吗？如果是，您可以将 tr/td 结构简化为 div 块

```
<div class="table">
<div class="row">
<div class="col">Data 1</div>
<div class="col">Data 2</div>
<div class="col">Data 3</div>
</div>
</div> 
```

或者您可以尝试将键移动到数据属性以减少 Jquery 的搜索工作量。它将为您节省很多布局问题。

```
 <table>
        <tr data-key="001">
        <td>Data1</td><td>Data2</td><td>Data3</td>
        </tr>
        <tr data-key="002">
        <td>Data1</td><td>Data2</td><td>Data3</td>
        </tr>
        <tr data-key="003">
        <td>Data1</td><td>Data2</td><td>Data3</td>
        </tr>
        </table> 
```

# c++ - 如何通过 COM 发送列表

> ID：10647967
> 
> 赞同：0
> 
> 时间：2012-05-18T06:47:46.577
> 
> 标签：c++, serialization, com, stdlist

我可以通过 COM 发送对象列表吗？我有我的班级，也有这个班级的名单。我需要通过 COM 函数发送它。我可以这样做吗？如果是，那么如何？我需要序列化编组吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T10:59:10.890

COM 没有确定任何特定的集合类型，它当然没有任何标准来模拟列表。按照惯例，您可以使用接口对任何集合进行建模。所以假设你有一个 Foo 对象的集合，每个对象都实现了 IFoo。然后声明一个类似如下的 IEnumFoo 接口：

```
interface IEnumFoo : IUnknown
{
    HRESULT Next( [in] ULONG celt,
                  [out, size_is(celt), length_is(*pceltFetched)] IFoo **rgelt,
                  [in,out,unique] ULONG *pceltFetched );
    HRESULT Skip( [in] ULONG celt);
    HRESULT Reset();
    HRESULT Clone( [out] IEnumFoo **ppenum );
} 
```

然后简单地返回一个指向该接口实现的接口指针，以允许客户端代码枚举列表。查看[MSDN 文档](http://msdn.microsoft.com/en-us/library/139e3c93-faef-4003-9079-e0e94494db3e%28VS.85%29)中的 IEnumVARIANT，这是一种非常常见的变体枚举接口类型。这也解释了这些方法的作用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T07:25:54.843

如果界面的一侧将使用具有“更简单”类型系统的语言编写，例如 VB6 或脚本，那么 SAFEARRAY 就是要走的路。COM 的通用编组器可以处理它。

如果接口的两边都有 C++，并且很乐意在 IDL 中定义接口并生成自定义编组代码，那么 IDL 包含一个可以使用的“size_is”属性。有关详细信息，请参见[此处](http://msdn.microsoft.com/en-us/library/windows/desktop/aa367164%28v=vs.85%29.aspx)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T07:26:09.693

在任何合理的程度上，std::list 都无法做到这一点。我敢肯定有一些疯子可以做到这一点，但根据我的经验，这不值得。如果不必是 std::list 而只是一些链表，那么您必须定义一个新的 COM 接口并提供它的实现（可以只是 std::list 的包装器）或找到一些为您的目的具有充分实施的第三方资源。如果您在实现 COM 接口方面没有太多经验，那么您需要大量阅读。

如果它可以是一个数组，那么您可以使用 SAFEARRAY 让您的生活变得更简单。并且 SAFEARRAY 可以更容易地与 ATL 的[CComSafeArray](http://msdn.microsoft.com/en-us/library/3xzbsee8%28v=vs.80%29.aspx)一起使用，它几乎是一个包装器。在处理 COM 对象时，它会尝试帮助/避免出现引用计数等问题。然后，您可以在 COM 对象之间传递数组。只是要提醒您，您仍然需要注意谁负责取消分配内存。

# javascript - 在 mongodb 和 nodejs 中建模博客和评级

> ID：10647969
> 
> 赞同：7
> 
> 时间：2012-05-18T06:48:10.997
> 
> 标签：javascript, node.js, mongodb, mongoose, nosql

我有一个博客集合，其中包含用户给他们的标题、正文和总评分。另一个集合“评级”，其架构引用了博客，用户以他们的 ObjectId 和他们给出的评级（即 +1 或 -1）的形式对其进行评级（如果他对他们进行评级的话）。

当特定用户以“最新优先”顺序浏览博客时（例如每页 40 个。称它们为`blogs[0]`to的数组`blogs[39]`），我必须检索与该特定用户和这 40 个博客相关的评级文档（如果有的话）对它们进行评分并通知他他对这些博客的评分。

我试图提取特定用户的所有评级文档，其中博客引用 objectIds 位于其中，`blogs[0]._id`并且`blogs[39]._id`在我的情况下返回空列表。可能是 objectIds 无法使用`$lt`和`$gt`查询进行比较。在那种情况下我应该怎么做呢？我应该重新设计我的模式以适应这种情况吗？

我在这种情况下使用 mongoosejs 驱动程序。以下是代码的相关部分，它们在执行上有所不同，但你明白了。

架构：

```
Client= new mongoose.Schema({
    ip:String
})

Rates = new mongoose.Schema({
    client:ObjectId,
    newsid:ObjectId,
    rate:Number
})

News = new mongoose.Schema({
  title: String,
  body: String,
  likes:{type:Number,default:0},
  dislikes:{type:Number,default:0},
  created:Date,
  // tag:String,
  client:ObjectId,
  tag:String,
  ff:{type:Number,default:20}
}); 
```

楷模：

```
var newsm=mongoose.model('News', News);
var clientm=mongoose.model('Client', Client);
var ratesm=mongoose.model('Rates', Rates); 
```

逻辑：

```
newsm.find({tag:tag[req.params.tag_id]},[],{ sort:{created:-1},limit: buffer+1 },function(err,news){

ratesm.find({client:client._id,newsid:{$lte:news[0]._id,$gte:news.slice(-1)[0]._id}},function(err,ratings){
 })
}) 
```

编辑：在实现下面所说的模式时，我必须在 mongoose.js 中执行此查询

```
> db.blogposts.findOne()
{ title : "My First Post", author: "Jane",
  comments : [{ by: "Abe", text: "First" },
              { by : "Ada", text : "Good post" } ]
}
> db.blogposts.find( { "comments.by" : "Ada" } ) 
```

如何在猫鼬中进行此查询？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T07:10:13.813

使用 MongoDB（和其他非关系数据存储）的一个好的做法是对您的数据进行建模，以便在您的应用程序中易于使用/查询。在您的情况下，您可能会考虑对结构进行一些非规范化并将评级存储在博客集合中，因此博客可能看起来像这样：

```
{
  title: "My New Post",
  body: "Here's my new post. It is great. ...",
  likes: 20,
  dislikes: 5,
  ...
  rates: [
    { client_id: (id of client), rate: 5 },
    { client_id: (id of another client), rate: 3 },
    { client_id: (id of a third client), rate: 10 }
  ]
} 
```

这个想法是`rates`数组中的对象包含显示博客条目所需的所有数据，并在单个文档中完成评级。如果您还需要以其他方式查询费率（例如，查找用户 X 的所有评分），并且该站点的阅读量很大，您可以考虑像现在一样将数据存储在一个集合*中*。`Rates`当然，数据在两个地方，而且更难更新，但在您分析您的应用程序以及它如何访问您的数据之后，这可能是一个整体的胜利。

请注意，您可以将索引应用到文档结构的深处，例如，您可以 index `News.rates.client_id`，然后您可以快速找到`News`集合中特定用户已评分的任何文档。

# extjs4 - Extjs 4 Live search combo 如何减少 4 个字符的限制

> ID：10647971
> 
> 赞同：1
> 
> 时间：2012-05-18T06:48:26.513
> 
> 标签：extjs4

我在我的项目中使用实时搜索组合功能。

这是网址。 [http://docs.sencha.com/ext-js/4-0/#!/example/form/forum-search.html](http://docs.sencha.com/ext-js/4-0/#!/example/form/forum-search.html)

此组件限制为 4 个字符

“实时搜索至少需要 4 个字符”

我们可以将这 4 个字符修改为 1 个字符吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T08:50:11.810

我们当然可以

```
Ext.create('Ext.form.ComboBox', {
    // Config options
    minChars: 1
}); 
```

[http://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.field.ComboBox-cfg-minChars](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.field.ComboBox-cfg-minChars)

# actionscript-3 - 从一个代码库为 PC、Android 和 Mac 编译 Flex Air 应用程序？

> ID：10647974
> 
> 赞同：0
> 
> 时间：2012-05-18T06:48:47.373
> 
> 标签：actionscript-3, apache-flex, compiler-construction, cross-platform, flex4.6

我想使用 Air 为 PC、Mac、Android、Ios 构建。

是否可以像 Adob​​e 建议的那样从单个代码库中执行此操作。

还是我需要维护 4 个单独的构建？

一些指导将不胜感激。

问候 C

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T14:42:51.107

迄今为止，我已经能够维护一个单一的代码库。我做了以下事情：

```
 private function getHostName() : void
        {
            if (NativeProcess.isSupported)
            {
                var OS : String = Capabilities.os.toLocaleLowerCase();
                var file : File;

                if (OS.indexOf('win') > -1)
                {
                    // Executable in windows
                    file = new File('C:\\Windows\\System32\\hostname.exe');
                }
                else if (OS.indexOf('mac') > -1 )
                {
                    // Executable in mac
                }
                else if (OS.indexOf('linux'))
                {
                    // Executable in linux
                }

                var nativeProcessStartupInfo : NativeProcessStartupInfo = new NativeProcessStartupInfo();
                nativeProcessStartupInfo.executable = file;

                var process : NativeProcess = new NativeProcess();
                process.addEventListener(NativeProcessExitEvent.EXIT, onExitError);
                process.addEventListener(ProgressEvent.STANDARD_OUTPUT_DATA, onOutput);
                process.start(nativeProcessStartupInfo);
                process.closeInput();
            }
        }

        private function onOutput(event : ProgressEvent) : void
        {
            var strHelper : StringHelper = new StringHelper();
            formStationID.text = event.target.standardOutput.readUTFBytes(event.target.standardOutput.bytesAvailable);
            formStationID.text = strHelper.trimBack(formStationID.text, "\n");
            formStationID.text = strHelper.trimBack(formStationID.text, "\r");
        }

        private function onExitError(event : NativeProcessExitEvent) : void
        {
        } 
```

照顾本地电话。除了本机调用之外，我发现很少有不能通用编写的东西，但其中，上述方法也适用于代码集的任何部分。

# jquery - 如何在 jQuery each() 循环中获取当前元素的索引？

> ID：10647982
> 
> 赞同：1
> 
> 时间：2012-05-18T06:49:53.363
> 
> 标签：jquery

我有一个表，其中一些有我需要运行验证的输入字段。验证后，我将一个类附加`.mandatory`到空白输入字段。现在稍后我需要遍历`td`有`.mandatory`孩子的 s 并从表格的相应`th`元素中获取相应的文本/html。我认为最好的办法是找到索引`td`并使用它来获得正确`th`的索引，但我不知道如何有效地获取索引`td`。我尝试了类似的东西

```
$('.mandatory').each(function(){
var ind = curr_tr.find('>td').index($(this).closest('td'));//curr_tr is a reference to the current tr I am working with
var txt = $('th:eq('+ind+')').html();
}) 
```

但这似乎效率低下，如果某些`.mandatory`字段嵌套在`td`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-18T06:54:33.397

索引和元素被提供给回调函数。

采用：

```
$('.mandatory').each(function(i){ 
```

或者：

```
$('.mandatory').each(function(i, e){ 
```

这将为您提供参数中的索引`i`，以及可选的参数中的元素`e`。如果您愿意，您可以自然地给参数起其他名称。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-18T06:54:35.937

`$.each()`您可以使用具有`index`和参数：`element`

```
$('.mandatory').each(function(index, el){
    var ind = curr_tr.find('>td').index($(this).closest('td')); //curr_tr is a reference to the current tr I am working with
    var txt = $('th:eq('+ind+')').html();
}) 
```

但是，使用`index`听起来并不是解决问题的最佳方法。您能否发布一些 HTML，以便我们了解您的 DOM 的结构。使用`closest()`, `parent()`etc 的组合来遍历它很可能是一个更好的解决方案。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-18T07:17:45.307

您可以使用 获取当前输入元素的父 td `.closest("td")`，然后您可以使用以下[`.index()`方法](http://api.jquery.com/index/)找到该 td 的索引（相对于其兄弟 td 元素） ：

```
$('.mandatory').each(function(){
   var ind = $(this).closest('td').index();
   var txt = $('th:eq('+ind+')').html();
}); 
```

您不需要引用当前 tr 来执行此操作，为此您无需将任何参数传递给`.index()`.

但是根据问题中的最后一句允许嵌套表，而不是使用`.each()`迭代所有输入，您可以使用它来迭代包含强制输入的 td：

```
$('#yourtable > tr > td').has('.mandatory').each(function(){
   // "this" is the td
   var ind = $(this).index();
   var txt = $('#yourtable th:eq('+ind+')').html();
}); 
```

我使用该[`.has()`方法](http://api.jquery.com/has/)将匹配的 td 元素集减少到仅具有后代“.mandatory”元素的那些。

（无论哪种方式，您都不能使用`.each()`回调的 index 参数（如其他答案所示），因为它当然是所有匹配元素中的索引，而不是当前行中的索引。）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-18T06:54:20.580

只需检查一下，例如：

```
 $.each(['first','second'], function(index, value) { 
      alert(index + ': ' + value); 
    }); 
```

# jquery - 将数组作为源添加到 jQuery 自动完成

> ID：10647983
> 
> 赞同：0
> 
> 时间：2012-05-18T06:49:54.923
> 
> 标签：jquery, asp.net, autocomplete

我需要从将数组传递到自动完成源的 Web 服务提供我的自动完成功能。

这是我的网络服务：

```
 public Filter[] getAutoComplete(string column)
    {
        List<Filter> list = new List<Filter>();

        DbAccess dbacc = new DbAccess();

          DataTable dt = dbacc.getColumnHeader(column);

          Filter _Filter = new Filter();

          if (column == "member_id")
          {
              foreach (DataRow row in dt.Rows)
              {
                  _Filter.memid = row["member_id"].ToString();
              }
          }
          else if (column == "lname")
          {
              foreach (DataRow row in dt.Rows)
              {
                  _Filter.memid = row["lname"].ToString();
              }
          }
          else if (column == "mname")
          {
              foreach (DataRow row in dt.Rows)
              {
                  _Filter.memid = row["mname"].ToString();
              }
          }
          else if (column == "fname")
          {
              foreach (DataRow row in dt.Rows)
              {
                  _Filter.memid = row["fname"].ToString();
              }
          }

        list.Add(_Filter);

        return list.ToArray();
    } 
```

这是我的 jquery ajax：

$.ajax({

```
 url: "webservices/wbFilters.asmx/getAutoComplete",
    data: json,
    type: "POST",
    dataType: "json",
    contentType: "application/json; charset=utf-8",
    success: function (mydata) {

        $("#tags").autocomplete({
            source: mydata
        });

    }
}); 
```

我可以验证我的列表数组是否有值。我只是无法将它附加到我的自动完成功能。我读到我可以添加一个数组作为源，但我真的无法让它工作。

有人可以解释一下需要做什么才能使其正常工作吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T07:27:27.200

对于包含多个字符串列表的自定义数据源，您需要指定要显示的一个或多个属性。因此，您需要覆盖 _renderItem，如下所示：

```
$("#tags").autocomplete({
    source: myData
}).data("autocomplete")._renderItem = function(ul, item) {
    return $( "<li></li>" )
            .data( "item.autocomplete", item )
            .append( "<a>" + item.memid + "</a>" )
            .appendTo( ul );
}; 
```

有关详细信息，请参阅：http: [//jqueryui.com/demos/autocomplete/#custom-data](http://jqueryui.com/demos/autocomplete/#custom-data)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T18:18:18.877

这对我很有用，它遵循 jquery 的 api。

```
$("#Dialogs_ProjectID").autocomplete({
    source: function (request, response) {
        $.ajax({
            type: "POST",
            url: "Log.aspx/jQuery_Get_Autocomplete",
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify({
                columnName: "Project",
                startsWith: request.term
            }),
            success: function (data) {
                response($.map(data.d, function (item) {
                    return {
                        value: item
                    }
                }));
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                alert(errorThrown);
            }
        });
    }

}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-18T07:27:58.680

您是否尝试过将 Success 功能更改为：

```
 success: function (mydata) {

        $("#tags").autocomplete({
            source: mydata.d
        });

    } 
```

根据我的经验，.net 将 json 对象包装在一个名为“d”的参数中

# php - 使用javascript动态选择国家城市

> ID：10647986
> 
> 赞同：1
> 
> 时间：2012-05-18T06:50:05.190
> 
> 标签：php, javascript

我是这样写动态选择国家城市的代码，在Mozila、Chrome、Opera、Safari和Internet Explorer *9*上运行良好，但是在Internet Explorer *8*及更早的版本上动态选择国家城市代码就不行了。

```
<form method=post id="formname" name="formname" action=eaccountdb.php 
      enctype="multipart/form-data"  onsubmit="return Validate();">
  <table class="style2">
    <tr>
      <td>
        <table align="left" width="100%">
          <tr>
            <td align="left">
              <label for="country">Country*</label>
      <?php
      $country = $_GET['country'];
      if ($country == null)
      {
          $data = mysql_query("select * from country where countryname !='$country'");
          echo "
                <select name='country' style='width:150px' id='country' 
                        onchange='show_country(this.value);'>
                  <option>Select Country</option>";
          while ($info = mysql_fetch_array($data))
          {
              echo "<option>". $info['countryname']."</option>" ;
          }
          echo "</select>";
      }
      ... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T07:20:22.580

猜测一下，我会说这是因为您没有为`value`选项元素提供属性。在符合 W3C 标准的浏览器中，没有 value 属性的选项的值就是选项的文本。不幸的是，IE 8 及更低版本没有遵循该标准的特定部分。简单的答案是在每个选项中设置一个值，例如：

```
 echo "<option value=". $info['cityname'].">". $info['cityname']."</option>" ; 
```

# android - 我们可以在浏览器中打开一个android apk吗？

> ID：10647990
> 
> 赞同：1
> 
> 时间：2012-05-18T06:50:29.337
> 
> 标签：android, cordova, selenium, phonegap-plugins, android-testing

大家好，我有一个使用 phonegap 制作的 apk 文件，我需要使用 selenium 对其进行测试，以便我可以获取应用程序中组件的 id 并将它们输入到脚本中，你能告诉我有什么方法可以打开吗浏览器中的 apk 文件，以便该过程变得更容易，或者是否有任何应用程序可以做到这一点？任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T06:52:36.863

APK is just a ZIP-file, so you can rename it into .zip and open in a browser. Though, you cannot add files into APK this way easily, because the content of APK is signed and aligned.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T07:00:56.737

是的，可以先解压缩您的 apk 并删除“onDeviceReady”（与电话间隙事件相关）事件，然后在浏览器中尝试

# php - 在单独的 PHP 脚本中访问全局变量？

> ID：10647992
> 
> 赞同：6
> 
> 时间：2012-05-18T06:50:31.907
> 
> 标签：php, include, scope, global-variables

我正在尝试从 PHP 脚本中导入一些变量。这看起来很简单，但我无法让它工作。

该脚本包含一些像这样的全局变量：

```
$server_hostname = "localhost";
$server_database = "kimai";
$server_username = "root";
$server_password = "";
$server_conn     = "mysql";
$server_type     = "";
$server_prefix   = "kimai_";
$language        = "en";
$password_salt   = "7c0wFhYHHnK5hJsNI9Coo"; 
```

然后在我的脚本中，我想访问这些变量，所以我完成了：

```
require_once 'includes/autoconf.php';   
var_dump($server_hostname); 
```

但这只是输出NULL。我也试过：

```
require_once 'includes/autoconf.php';

global $server_hostname;    
var_dump($server_hostname); 
```

但仍然无法正常工作。

我`echo`在“autoconf.php”文件中添加了一些语句，所以我知道它正在被加载。

知道如何访问这些变量吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-18T06:54:46.717

您必须首先将变量定义为全局变量：

```
global $server_hostname;
$server_hostname = "localhost"; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-19T03:29:12.610

事实证明，该文件已包含在应用程序的其他位置，因此当我调用 时`require_once`，该文件根本没有包含在内。我把它改成了just `require`，现在它可以工作了。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-18T06:56:55.077

也许该文件未正确包含。

```
require_once 'includes/autoconf.php'; 
```

检查您包含的当前工作目录`autoconf.php`

试试这个

```
if (file_exists('includes/autoconf.php')) require_once 'includes/autoconf.php';
else echo 'File not exists'; 
```

检查出来。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-18T06:57:55.043

使用常量怎么样？

定义（“服务器主机名”，“本地主机”）；定义（“服务器主机名”，“本地主机”）；

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-18T07:08:09.300

如果包含文件并且变量是纯文本，而不是在函数/类中，则它可以在没有全局的情况下工作

转到您的 php.ini 并将 display_errors=On 和错误放入 E_ALL，这样您就会看到哪个是正确的原因

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-05-18T07:54:51.357

这是邪恶的，但它可能会完成工作。

```
<? //PHP 5.4+
\call_user_func(static function(){
    $globals = \get_defined_vars();
    include 'includes/autoconf.php';
    $newVars = \array_diff_key($globals, \get_defined_vars());
    foreach($newVars as $name => $value){
        \define($name, $value);
    }
});
//Variables defined in file are now constants!
?> 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-11-11T16:28:56.673

使用和更正全局变量的更好方法是首先为变量赋值，然后声明全局变量。这是：

```
$server_hostname = "localhost";
global $server_hostname; 
```

# animation - 网页/部分页面倒带动画，如github

> ID：10647993
> 
> 赞同：0
> 
> 时间：2012-05-18T06:50:38.153
> 
> 标签：animation, jquery-plugins, plugins

请建议 js/jquery library/plugin 制作页面/部分页面倒带（水平滚动）的内容/整页，就像在 github 中一样。或者建议我如何自己实现它

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-18T07:11:52.543

他们已经解释了如何实现它。[请看一下](https://github.com/blog/760-the-tree-slider)

总之，您需要一个[HTML5 History API](http://www.w3.org/TR/html5/history.html)、CSS3 转换和一些服务器端设置。要在跨浏览器中支持它，您可能需要使用一些 polyfill 插件来实现它。

[历史.js](https://github.com/balupton/history.js)

对于 IE 中的 CSS3 过渡，没有承诺的 polyfill。

你可能喜欢[来自 github 的库 pajax，](https://github.com/defunkt/jquery-pjax)它结合了 ajax 请求和历史 API。

# mvvm - 无法使用 mvvm 架构将数据绑定到 Windows Phone 中的列表框

> ID：10647995
> 
> 赞同：0
> 
> 时间：2012-05-18T06:50:40.280
> 
> 标签：mvvm, windows-phone-7.1

我正在尝试通过实现 mvvm 模式将来自异步回调响应的 json 对象的数据集合绑定到 windows phone 中的列表框...我能够将数据集合获取到 observablecollectionm<> 对象，但随后无法将其绑定到 UI 列表框.xaml 页面中的控件。

以下是 app.xaml 中的代码

```
 public static countryListViewModel countrylistVM { get; set; } 
```

以下是 countries.xaml 页面中的代码。

```
public Countries()
{
    InitializeComponent();

    if (App.countrylistVM == null)
        App.countrylistVM = new countryListViewModel();

    DataContext = App.countrylistVM;
}

protected override void OnNavigatedTo(System.Windows.Navigation.NavigationEventArgs e)
{
    base.OnNavigatedTo(e);

    if (!App.countrylistVM.IsDataLoaded)
    {
        App.countrylistVM.Loadcountries();
        App.countrylistVM.IsDataLoaded = true;
    }
} 
```

以下是模型的代码。

```
public class Model: INotifyPropertyChanged
{
    private Countriesdata countries;

    public Countriesdata Countries
    {
        get { return countries; }
        set
        {
            if (countries != value)
            {
                countries = value;
                RaisePropertyChanged("Countries");
            }
        }
    }

    public event PropertyChangedEventHandler PropertyChanged;

    public void RaisePropertyChanged(string propname)
    {
        if (PropertyChanged != null)
            PropertyChanged(this, new PropertyChangedEventArgs(propname));
    }
} 
```

}

```
public class Countriesdata : INotifyPropertyChanged
{
    private string countryid;

    public string Countryid
    {
        get { return countryid; }
        set
        {
            if (countryid != value)
            {
                countryid = value;
                RaisePropertyChanged("Countryid");
            }
        }
    }

    private string countryname;

    public string Countryname
    {
        get { return countryname; }
        set
        {
           if (countryname != value)
           {
               countryname = value;
               RaisePropertyChanged("Countryname");
           }
        }
    } 
```

以下是视图模型的代码

```
public class countryListViewModel : INotifyPropertyChanged
{
    HttpWebRequest crequest;
    HttpWebResponse cresponse;

    private bool isDataLoaded = false;

    public bool IsDataLoaded
    {
        get { return isDataLoaded; }

        set
        {
            if (isDataLoaded != value)
            {
                isDataLoaded = value;
                RaisePropertyChanged("IsDataLoaded");
            }
        }
    }

    private Countriesdata countries;

    public Countriesdata Countries
    {
        get { return countries; }
        set
        {
            if (countries != value)
            {
                countries = value;
                RaisePropertyChanged("Countries");
            }
        }
    }

    private ObservableCollection<Countriesdata> countrylist;

    public ObservableCollection<Countriesdata> Countrylist
    {
        get { return countrylist; }
        set
        {
            if (countrylist != value)
            {
                countrylist = value;
                RaisePropertyChanged("Countrylist");
            }
        }
    }

    public event PropertyChangedEventHandler PropertyChanged;

    public void RaisePropertyChanged(string propname)
    {
        if (PropertyChanged != null)
            PropertyChanged(this, new PropertyChangedEventArgs(propname));
    }

    public void Loadcountries()
    {
        try
        {
            crequest = (HttpWebRequest)WebRequest.Create(serviceurls.getcountries);
            crequest.Accept = "application/json";
            IAsyncResult cresult = (IAsyncResult)crequest.BeginGetResponse(new AsyncCallback(Responsecallbackcountries), crequest);
        }
        catch (Exception e)
        {
        }
    }

    private void Responsecallbackcountries(IAsyncResult cresult)
    {
        try
        {
            string countryresult = string.Empty;
            cresponse = (HttpWebResponse)crequest.EndGetResponse(cresult);
            using (var Stream = cresponse.GetResponseStream())
            {
                using (var Reader = new StreamReader(Stream))
                {
                    countryresult = Reader.ReadToEnd();
                }
                JObject Country = JObject.Parse(countryresult);
                JArray Root = (JArray)Country["Countries"];

                if (Root.Count != 0)
                {
                    countrylist = new ObservableCollection<Countriesdata>();
                    var Dictionary = Root.ToDictionary(x => x, x => x);
                    JToken Tctry;

                    foreach (var cntry in Dictionary)
                    {
                        Tctry = cntry.Value;
                        countrylist.Add(
                            new Countriesdata
                            {
                                Countryid = Convert.ToString(Tctry["ID"]),
                                Countryname = Convert.ToString(Tctry["Name"])

                            });
                    }
                    System.Windows.Deployment.Current.Dispatcher.BeginInvoke(() =>
                    {
                        Views.Countries vc = new Views.Countries();
                    });
                }
            }
        }
        catch (Exception e)
        {
        }
    }
} 
```

以下是 .xaml 页面的代码。

```
 <ListBox x:Name="lstcountries" 
                 Margin="0,0,-12,0"
                 ItemsSource="{Binding Countrylist}"
                 SelectedItem="{Binding Selectedcity, Mode=TwoWay}"
                 SelectionChanged="lstcountries_SelectionChanged" Background="white">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Vertical" Background="Black">
                        <TextBlock Text="{Binding Countriesdata.Countryid}" Foreground="Black" 
                            Visibility="Collapsed"/>
                        <TextBlock Text="{Binding Countriesdata.Countryname}" Foreground="Black"
                           />
                    </StackPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-20T21:33:45.450

您的数据模板指的是模型，而不是列表框绑定到的集合中的项目。

相反，请尝试：

```
<DataTemplate>
    <StackPanel Orientation="Vertical">
        <TextBlock Text="{Binding Countryid}" Visibility="Collapsed"/>
        <TextBlock Text="{Binding Countryname}" />
    </StackPanel>
</DataTemplate> 
```

# android - 如何在xml中设置高分辨率图像？

> ID：10647996
> 
> 赞同：0
> 
> 时间：2012-05-18T06:50:50.220
> 
> 标签：android, xml, image, high-resolution

我只需要设置一个高分辨率图像，但想知道是否可以在 xml 中设置它。即使它比手机屏幕大，我也希望能够设置它。

编辑：我想添加一个巨大的图像，所以用户必须滚动它。类似于地图的东西，但需要在其上添加可点击区域，我只知道如何在 xml 中执行此操作。这就是为什么我要求使用不在 java 中的 xml 添加图像。但是如果有人能告诉我如何在java中添加可点击区域。这会做得更好，因为我已经有了图像，但使用 java 并且它能够滚动。

编辑：这是我从以下位置获得代码的地方：[Anddev.org](http://www.anddev.org/large_image_scrolling_using_low_level_touch_events-t11182.html)我使用的是完全相同的代码，只是使用了其他图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-18T11:08:31.503

查看[此](https://github.com/ldo/view_cache_demo_android)示例代码以了解如何滚动大于屏幕的图像。它还进行位图缓存以加速复杂图像的绘制，并展示如何响应图像上任意点的长按和双击。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-18T07:07:00.747

你在努力什么？在android中，分辨率基于如下 -

[屏幕支持](http://developer.android.com/guide/practices/screens_support.html)

[多重分辨率](http://developer.android.com/resources/samples/MultiResolution/index.html)

把这个念出来。希望这两个链接足以满足您的查询。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-19T23:16:06.633

好的，我将其发布为答案，只是因为发布它会更容易。（它没有按照我想要的方式工作，但我得到了一些东西）我想分享这个，以便其他知道如何操作的人可以在这里帮助我找到解决方案。这是代码

```
package com.example.largeimagescroller;

import android.app.Activity;
import android.os.Bundle;
import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.Canvas;
import android.graphics.Paint;
import android.graphics.Rect;
import android.view.Display;
import android.view.MotionEvent;
import android.view.View;
import android.view.WindowManager;
import android.widget.ImageView;
import android.widget.Toast;

public class LargeImageScroller extends Activity {

// Physical display width and height.
private static int displayWidth = 0;
private static int displayHeight = 0;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    // displayWidth and displayHeight will change depending on screen
    // orientation. To get these dynamically, we should hook
    // onSizeChanged().
    // This simple example uses only landscape mode, so it's ok to get them
    // once on startup and use those values throughout.
    Display display = ((WindowManager) getSystemService(Context.WINDOW_SERVICE))
            .getDefaultDisplay();
    displayWidth = display.getWidth();
    displayHeight = display.getHeight();

    // SampleView constructor must be constructed last as it needs the
    // displayWidth and displayHeight we just got.
    setContentView(new SampleView(this));       
}

private static class SampleView extends View {
    private static Bitmap bmLargeImage; // bitmap large enough to be
                                        // scrolled
    private static Rect displayRect = null; // rect we display to
    private Rect scrollRect = null; // rect we scroll over our bitmap with
    private int scrollRectX = 0; // current left location of scroll rect
    private int scrollRectY = 0; // current top location of scroll rect
    private float scrollByX = 0; // x amount to scroll by
    private float scrollByY = 0; // y amount to scroll by
    private float startX = 0; // track x from one ACTION_MOVE to the next
    private float startY = 0; // track y from one ACTION_MOVE to the next

    public SampleView(Context context) {
        super(context);

        // Destination rect for our main canvas draw. It never changes.
        displayRect = new Rect(0, 0, displayWidth, displayHeight);
        // Scroll rect: this will be used to 'scroll around' over the
        // bitmap in memory. Initialize as above.
        scrollRect = new Rect(0, 0, displayWidth, displayHeight);

        // Load a large bitmap into an offscreen area of memory.

        bmLargeImage = BitmapFactory.decodeResource(getResources(),
                R.drawable.alienware);
    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        //This code define what to do if you touch the x and y coordinates.
        float x1 = event.getX();
        float y1 = event.getY();

            switch (event.getActionMasked()){
            case MotionEvent.ACTION_DOWN:
                if (x1>150 & x1<200 & y1>400 & y1<500){
                    Toast.makeText(getContext(), "Touched the coordinates.", Toast.LENGTH_SHORT).show();
                }
            }

        switch (event.getAction()) {
        case MotionEvent.ACTION_DOWN:
            // Remember our initial down event location.
            startX = event.getRawX();
            startY = event.getRawY();
            break;

        case MotionEvent.ACTION_MOVE:
            float x = event.getRawX();
            float y = event.getRawY();
            // Calculate move update. This will happen many times
            // during the course of a single movement gesture.
            scrollByX = x - startX; // move update x increment
            scrollByY = y - startY; // move update y increment
            startX = x; // reset initial values to latest
            startY = y;
            invalidate(); // force a redraw
            break;
        }
        return true; // done with this event so consume it
    }

    @Override
    protected void onDraw(Canvas canvas) {

        // Our move updates are calculated in ACTION_MOVE in the opposite
        // direction
        // from how we want to move the scroll rect. Think of this as
        // dragging to
        // the left being the same as sliding the scroll rect to the right.
        int newScrollRectX = scrollRectX - (int) scrollByX;
        int newScrollRectY = scrollRectY - (int) scrollByY;

        // Don't scroll off the left or right edges of the bitmap.
        if (newScrollRectX < 0)
            newScrollRectX = 0;
        else if (newScrollRectX > (bmLargeImage.getWidth() - displayWidth))
            newScrollRectX = (bmLargeImage.getWidth() - displayWidth);

        // Don't scroll off the top or bottom edges of the bitmap.
        if (newScrollRectY < 0)
            newScrollRectY = 0;
        else if (newScrollRectY > (bmLargeImage.getHeight() - displayHeight))
            newScrollRectY = (bmLargeImage.getHeight() - displayHeight);

        // We have our updated scroll rect coordinates, set them and draw.
        scrollRect.set(newScrollRectX, newScrollRectY, newScrollRectX
                + displayWidth, newScrollRectY + displayHeight);
        Paint paint = new Paint();
        canvas.drawBitmap(bmLargeImage, scrollRect, displayRect, paint);

        // Reset current scroll coordinates to reflect the latest updates,
        // so we can repeat this update process.
        scrollRectX = newScrollRectX;
        scrollRectY = newScrollRectY;
    }
}
} 
```

我rec正在使用的应用程序。（由于触摸事件不适用于 cpu 模拟器，所以我在手机上进行了操作）

[http://www.youtube.com/watch?v=NrszZoDenXE&feature=youtube_gdata](http://www.youtube.com/watch?v=NrszZoDenXE&feature=youtube_gdata)

正如您所看到的，它正在触摸，但它会随着滚动矩形移动，所以问题是：我怎样才能触摸以保持在图像中，所以它不会随着滚动矩形移动？

谢谢

# twitter-bootstrap - 更改导航选项卡上的悬停颜色

> ID：10647997
> 
> 赞同：16
> 
> 时间：2012-05-18T06:50:50.580
> 
> 标签：twitter-bootstrap

我想更改悬停导航选项卡的文本颜色，所以我命名为：nav nav-tabs custom，所以我的视图中的代码如下所示：

```
 <li class="active"><%= link_to "Overview", '#'  %>           
      </li>
      <li><%= link_to "About",    '#' %></li>
      <li><%= link_to "What we do", '#' %></li>
      <li><%= link_to "Partners", '#' %></li>
      <li><%= link_to "Contact", '#' %></li>
      <li><%= link_to "Support", '#' %></li>
    </ul> 
```

和我的 custom.css.scss 中的代码

```
.custom a:hover {color: black;} 
```

它不起作用。有人能帮我吗 ？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-05-18T12:30:38.537

您需要使您的选择器更具体一点，以正确定位您的选项卡。尝试这个：

```
.custom > li > a:hover {
    color: black;
} 
```

顺便说一句，这只会更改文本的颜色，如果您想在悬停时更改选项卡的背景颜色，请将该`color`属性切换为`background-color`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-18T22:38:01.307

安德烈斯关于特异性是正确的。您要覆盖的样式设置为：

```
.nav-bar > li > a:hover 
```

如果您在 Twitter Bootstrap 中使用 LESS，则已经为此创建了一些变量：

```
@navbarLinkColor
@navbarLinkColorHover
@navbarLinkColorActive 
```

请参阅文档的[导航栏](http://twitter.github.com/bootstrap/less.html)部分。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-08-07T15:32:31.453

除了默认的 Bootstrap 之外，这对我没有太多“特异性​​”...

```
ul.nav > li > a:hover {
	background-color: #000000;
	color: #FFFFFF;
	border-style: none;
}
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-02T00:09:49.543

设置@navbarLinkBackgroundHover