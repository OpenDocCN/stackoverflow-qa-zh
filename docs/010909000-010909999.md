# StackOverflow 问答 10909000-10909999

# iolanguage - Io：如何实例化一个子类化的原语（例如 Number）？

> ID：10909001
> 
> 赞同：3
> 
> 时间：2012-06-06T06:12:03.223
> 
> 标签：iolanguage

[在7 周内](http://pragprog.com/book/btlang/seven-languages-in-seven-weeks)的 7 种语言一书中有一个问题：

> 如果分母为零，您将如何更改 / 以返回 0？

感谢线程[self 在方法内部的意义是什么？](https://stackoverflow.com/questions/8282911/whats-the-significance-of-self-inside-of-a-method)我有一个可行的解决方案，但我想尝试在不破坏数字“/”方法的情况下做到这一点，而是将数字子类化。这是我尝试过的：

```
Zeroable := Number clone
Zeroable / = method(denom, if(denom == 0, 0, self proto / denom)) 
```

但是，这不起作用。如果我尝试实例化 Zeroable 的实例，它的行为就像一个数字：

```
Io> ten := Zeroable 10
==> 10
Io> ten type
==> Number
Io> ten / 5
==> 2
Io> ten / 0
==> inf
Io> ten slotNames
==> list() 
```

如果我以“正常”的方式将 Zeroable 实例化，但它的值始终为 0，并且似乎没有办法改变它：

```
Io> zero := Zeroable clone
==> 0
Io> zero type
==> Zeroable
Io> zero / 0
==> 0
Io> zero / 2
==> 0 
```

我认为问题在于`ten`实例化的方式，但我无法弄清楚如何将“参数”传递给克隆方法，或者如何创建一个不为 0 的 Zeroable。这是怎么回事？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T12:35:34.977

参数不能传递给克隆，克隆的有效设置如下：

```
clone := method(
  obj := primitiveAllocateMemory(sizeof(self))
  obj parent := self
  obj do(?init)
) 
```

其次，你不能这样子`Number`类化。Number 对象由词法分析器在遇到文字数字时创建，并给定 type `Number`。该对象被设置为消息的缓存结果，这意味着，即使您截获该消息并将其评估为其他对象，您仍然会得到一个数字。实际上，出于性能原因，这是消息评估的短路。

如果你想要一个不同的 Number 类型，你必须自己用你想要的操作来实现它。这意味着继承 Object（或其他一些对象）并实现您想要的所有行为。请注意，如果您将 Number 子类化，则 Number 上的方法的实现将无法理解您的子类（它如何存储其数字）。数字方法假定在对象中编码的数值，而不是它的槽表。

# php - cURL 和 PHP 显示“1”

> ID：10909002
> 
> 赞同：29
> 
> 时间：2012-06-06T06:12:06.587
> 
> 标签：php, mysql, database, curl

我有一个 PHP 脚本，我想用它从数据库中读取服务器并使用 cURL 连接到它们。服务器以 sql 查询的结果进行响应。问题是服务器每次响应后的脚本显示数字 1。输出如下所示：

> 服务器 1：一些结果
> 
> 1Server 2：一些结果
> 
> 1Server 3：一些结果
> 
> 1

这是从数据库读取服务器并连接到它们的代码：

```
<?php

$mysql_id = mysql_connect('localhost', 'ms', 'pass');
mysql_select_db('servers', $mysql_id);
mysql_query("SET NAMES utf8");

$query = "SELECT * FROM svr";
$result = mysql_query($query);
$num = mysql_num_rows($result);
while ($data = mysql_fetch_assoc($result))
{
    $server[] = $data;
}

mysql_close($mysql_id);

$i = 0;
while($i < $num) {
    $dealer = $server[$i]['dealer'];

    echo $dealer . "<br />";

    $data = "val=a"; //just for testing                                                                    

    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "POST");                                                                     
    curl_setopt($ch, CURLOPT_POSTFIELDS, $data);    
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(                                                                                                                                                       
        'Content-Type: text/html; charset=utf-8')                                                                       
    );                                                                                                                                                                                   

    $result = curl_exec($ch);
    echo $result;
    $i++;
}

?> 
```

我发现 1 显示为“echo $result;” 创建响应的代码是这样的：

```
<?php

$mysql_id1 = mysql_connect('localhost', 'ms', 'pass');
mysql_select_db('servers', $mysql_id1);
mysql_query("SET NAMES utf8");

    $query2 = "SELECT * FROM data";
    $result2 = mysql_query($query2);
    $num2 = mysql_num_rows($result2);
    while ($data2 = mysql_fetch_assoc($result2))
    {
        $deli[] = $data2;
    }
    $i1 = 0;
    $space = "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";
    while ($i1 < $num2) {
        echo $space . $deli[$i1]['id'] . " ";
        echo $deli[$i1]['artikel'] . " ";
        echo $deli[$i1]['znamka'] . " ";
        echo $deli[$i1]['model'] . " ";
        echo $deli[$i1]['letnik'] . " ";
        echo $deli[$i1]['cena'] . " € ";
        echo $deli[$i1]['zaloga'] . "<br />";
        $i1++;
    }
    echo "<br />";
    mysql_close($mysql_id1);
?> 
```

请帮我

* * *

## 回答 #1

> 赞同：68
> 
> 时间：2012-06-06T06:14:17.853

使用该`CURLOPT_RETURNTRANSFER`选项。否则 cURL 将自动回显数据并返回`true`（通过回显转换为`1`）。

```
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); 
```

[PHP.net](https://www.php.net/manual/en/function.curl-setopt.php)说，

> TRUE 将传输作为 curl_exec() 的返回值的字符串返回，而不是直接输出。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-06-06T06:14:30.697

您需要使用`CURLOPT_RETURNTRANSFE`或`curl_exec`返回一个状态码并将响应发送到标准输出：

```
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-07-15T11:25:54.983

`CURLOPT_RETURNTRANSFER`应该为 TRUE 以将传输作为返回值的字符串返回，`curl_exec()`而不是直接输出。阅读完整文档[php.net](http://php.net/manual/en/function.curl-setopt.php)

```
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); 
```

或者你可以做

```
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T06:17:50.460

使用`CURLOPT_RETURNTRANSFE`，否则它将返回一个状态码并将响应发送到`stdout`：

```
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-06-12T08:46:24.383

伙计，如果用户可以更改dealer 字段或$deli 字段，那么您已经在此处存储了XSS 漏洞。

```
 `$dealer = $server[$i]['dealer'];
 echo $dealer . "<br />";
 echo $space . $deli[$i1]['id'] . " ";
 ...etc` 
```

采用

```
 `htmlentities($your fields)` 
```

解决这个问题

# sql-server - 仔细选择 SQL Server 2008 引擎的排序规则

> ID：10909004
> 
> 赞同：0
> 
> 时间：2012-06-06T06:12:22.440
> 
> 标签：sql-server, collation, case-sensitive

我一直在问自己这个问题有一段时间了，在网上找不到任何好的建议。我们正在运行带有`SQL Server 2008 R2`.

我们正在开发可以翻译成**法语、德语、意大利语和英语**的应用程序。

现在，如果我想从头开始创建一个新数据库，在这种情况下最好的排序规则是什么？

我找到了关于这个主题的文档，我知道它会改变我们对数据库中的内容进行排序和比较的方式，但我还没有找到任何好的资源来帮助我们选择正确的资源！

我们已经使用`FRENCH_CI_AS`了一段时间，但我们确实错过了一点案例敏感性......对我们来说最好的选择是什么？

我读过很多公司使用`LATIN1_GENERAL_CI_AS`，但仍然不区分大小写，我真的不明白他们为什么不区分大小写，尤其是在处理需要区分大小写的德语等语言时！选择 CS 排序规则有缺点吗？如果是这样，它们是什么？

编辑：什么是最好的排序规则（在我们的例子中）？

*   `LATIN1_GENERAL_CI_AS`
*   `LATIN1_GENERAL_CS_AS`
*   `FRENCH_CI_AS`
*   `FRENCH_CS_AS`
*   另一种更适合我们的语言先决条件的排序规则？

谢谢你的帮助 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:31:15.180

您可以设置排序规则

*   数据库级别
*   列级，和
*   语句/操作级别（比较，排序依据）

( [MSDN](http://msdn.microsoft.com/en-us/library/ms184391.aspx) )

例如，您可以定义不区分大小写的 NVARCHAR 列（用于搜索），但在 SELECT 语句的 ORDER BY 子句中应用区分大小写的排序规则。

# java - java swing TabbedPane位置tabheaders从右下到左

> ID：10909007
> 
> 赞同：2
> 
> 时间：2012-06-06T06:12:36.167
> 
> 标签：java, swing, jtabbedpane

我想知道是否有可能将选项卡式窗格放置在右下角，我想将容器放在彼此之上，一个带有标签标签的容器位于右上角（没问题/默认），另一个带有底部的标签（到目前为止很好）从右到左开始。我想象的设计是：

```
| tab display                                 |
| tab display                                 |
| tab display                                 |
-----------------------------------------------
_________________________  | tab top | another|
| Bottom Tab| Second Tab|______________________
|                                              | 
```

好吧，我的 ascy 绘图能力有限，但我希望你能明白。有什么办法，我可以将布局管理器添加到选项卡式窗格以布局选项卡标签？我在哪里可以找到这样的例子？Goodling 建议仅将菜单栏与 CardLayout 结合用于选项卡式窗格。但是我不知道如何绘制一个菜单栏，使它看起来像标签。（我刚刚查看了自定义绘图的摇摆轨迹，但它只是继续讨论一般可能性，除了如果我这样做，我会失去样式功能。我现在唯一能想到的就是使用没有内容的选项卡式窗格和让它通过事件监听器控制另一个带有卡片布局的容器。

有什么建议么？

PS：我必须用 java 1.6 实现解决方案

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T06:38:53.913

在这种情况下，您可以为 JTabbedPane 设置 ComponentOrientation

```
import java.awt.ComponentOrientation;
import java.awt.Dimension;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JTabbedPane;
import javax.swing.JTextField;

public class TestTabbedPane extends JFrame {

    private static final long serialVersionUID = 1L;
    private JTabbedPane tabbedPane;

    public TestTabbedPane() {
        tabbedPane = new JTabbedPane();
        tabbedPane.setPreferredSize(new Dimension(300, 200));
        getContentPane().add(tabbedPane);
        JPanel panel = new JPanel();
        tabbedPane.add(panel, "null");
        JTextField one = new JTextField("one");
        tabbedPane.add(one, "one");
        JTextField two = new JTextField("two");
        //tabbedPane.add(two, "<html> T<br>i<br>t<br>t<br>l<br>e <br> 1 </html>");
        tabbedPane.add(two, "<html> Tittle  1 </html>");
        tabbedPane.setEnabledAt(2, false);
        tabbedPane.setTitleAt(2, "<html><font color="
                + (tabbedPane.isEnabledAt(2) ? "black" : "red") + ">"
                + tabbedPane.getTitleAt(2) + "</font></html>");
        tabbedPane.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);
        tabbedPane.setTabPlacement(JTabbedPane.BOTTOM);
    }

    public static void main(String args[]) {
        TestTabbedPane frame = new TestTabbedPane();
        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);
        frame.pack();
        frame.setVisible(true);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:16:20.583

使用 setTabPlacement(JTabbedPane.TOP) 方法检查可用的方法有 TOP 、 LEFT 、 BOTTOM 、 RIGHT

[http://www.exampledepot.com/egs/javax.swing/tabbed_TpTabLoc.html](http://www.exampledepot.com/egs/javax.swing/tabbed_TpTabLoc.html)

# iphone - 如何使登录页面视图 xcode 导航和标签栏控制器推送弹出视图

> ID：10909008
> 
> 赞同：-1
> 
> 时间：2012-06-06T06:12:42.607
> 
> 标签：iphone, ios, xcode

我尝试了许多不同的方法，但无法让它发挥作用。如何制作简单的登录/注销视图/应用程序？我需要初始页面是一个常规的 UITableView，一旦按下登录按钮，它应该（推送/添加子视图？）到一个新的 UITabBarView（其中有 2 个 UITableViews），在第二个选项卡上存在一个注销按钮，它应该让你返回到初始登录页面，也在登录页面上导航控制器和标签栏永远不会出现，（但我想我可以弄清楚）。我尝试推动和弹出视图控制器，这变得越来越乱。Xcode 4.1

示例或帮助将阻止我拉扯我遗漏的小头发！谢谢你！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:29:46.197

我写了一些东西，可能你理解起来很复杂，但我试图解释一下，主要主题是制作一个导航控制器并将其设置为应用程序委托窗口的根视图控制器，然后将登录视图控制器推送给它，然后推tabbar控制器，阅读下面的一些解释。

这主要是通过制作一个导航控制器并将其设置为应用程序委托窗口的根视图控制器，然后制作一个作为您的登录视图的视图控制器并将其设置为应用程序委托的导航控制器的根视图控制器，然后制作一个标签栏控制器（一个视图控制器），其中包含每个 tabbaritem 上的 tabbar 和导航控制器，并且每个导航控制器都具有对 tabbar 控制器的引用（在登录时推送的视图控制器）。因此，每当按下登录时，它都会推送 tabbarcontroller 并执行任务。当你想注销时，只需弹出到参考导航控制器的根视图控制器，它实际上是登录视图控制器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:29:45.160

您可以隐藏标签栏，登录成功后显示。

[https://github.com/idevsoftware/Cocoa-Touch-Additions/tree/master/UITabBarController_setHidden](https://github.com/idevsoftware/Cocoa-Touch-Additions/tree/master/UITabBarController_setHidden)

# c - 如何使用 Fork() 只创建 2 个子进程？

> ID：10909011
> 
> 赞同：18
> 
> 时间：2012-06-06T06:13:02.203
> 
> 标签：c, process, fork, parent-child, wait

我开始学习一些 C 语言，在学习 fork、wait 函数时，我得到了一个意想不到的输出。至少对我来说。

有没有办法从父进程中只创建 2 个子进程？

这是我的代码：

```
#include <sys/types.h>
#include <stdio.h>
#include <unistd.h>
#include <sys/wait.h>

int main ()
{
    /* Create the pipe */
    int fd [2];
    pipe(fd);

    pid_t pid;
    pid_t pidb;

    pid = fork ();
    pidb = fork ();

    if (pid < 0)
    {
        printf ("Fork Failed\n");
        return -1;
    }
    else if (pid == 0)
    {
        //printf("I'm the child\n");
    }
    else 
    {
        //printf("I'm the parent\n");
    }

    printf("I'm pid %d\n",getpid());

    return 0;
} 
```

这是我的输出：

```
I'm pid 6763
I'm pid 6765
I'm pid 6764
I'm pid 6766 
```

请忽略管道部分，我还没有走那么远。我只是试图只创建 2 个子进程，所以我希望 3 个“我是 pid ...”为我将等待的父进程和 2 个将通过管道通信的子进程输出只有 1 个。

如果您看到我的错误在哪里，请告诉我。

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-06-06T06:21:26.283

```
pid = fork (); #1
pidb = fork (); #2 
```

让我们假设父进程 id 是 100，第一个 fork 创建另一个进程 101。现在 100 和 101 在 #1 之后继续执行，因此它们执行第二个 fork。pid 100 到达#2 创建另一个进程 102。pid 101 到达 #2 创建另一个进程 103。所以我们最终有 4 个进程。

你应该做的是这样的事情。

```
if(fork()) # parent
    if(fork()) #parent
    else # child2
else #child1 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-06-06T09:42:00.103

创建流程后，您应该检查返回值。如果不这样做，则第二`fork()`个进程将由父进程和子进程执行，因此您有四个进程。

如果要创建 2 个子进程，只需：

```
if (pid = fork()) {
    if (pid = fork()) {
        ;
    } 
} 
```

您可以像这样创建 n 个子进程：

```
for (i = 0; i < n; ++i) {
    pid = fork();
    if (pid > 0) {   /* I am the parent, create more children */
        continue;
    } else if (pid == 0) { /* I am a child, get to work */
        break;
    } else {
        printf("fork error\n");
        exit(1);
    }
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-06T06:32:55.523

当父进程执行一个 fork 语句时，会如您所愿地创建一个子进程。您可以说子进程也执行 fork 语句但返回 0，而父进程返回 pid。fork 语句之后的所有代码都由父级*和*子级执行。

在您的情况下，发生的事情是第一个 fork 语句创建了一个子进程。所以目前有一个父母，P1，和一个孩子，C1。

现在 P1 和 C1 都遇到了第二个 fork 语句。如您所料，父进程创建了另一个子进程 (c2)，但即使是子进程，c1 也会创建一个子进程 (c3)。所以实际上你有 P1、C1、C2 和 C3，这就是你得到 4 个打印语句输出的原因。

考虑这一点的一个好方法是使用树，每个节点代表一个进程，根节点是最顶层的父节点。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-02-24T19:36:47.313

您可以检查该值，如果（pid < 0）进程创建不成功，这会告诉子进程创建是否不成功。如果从父进程使用 getpid()，fork 将返回子进程的进程 ID。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-06-13T17:25:50.643

您可以在子进程中创建子进程。这样，您可以拥有原始父进程的 2 个副本。

```
int main (void) {
    pid_t pid, pid2;
    int status;

    pid = fork();

    if (pid == 0) { //child process
        pid2 = fork();
        int status2;

        if (pid2 == 0) { //child of child process
            printf("friends!\n");
        }
        else {
            printf("my ");
            fflush(stdout);
            wait(&status2);
        }
    }
    else { //parent process
        printf("Hello ");
        fflush(stdout);
        wait(&status);
    }

    return 0;
} 
```

这将打印以下内容：

```
Hello my friends! 
```

# sql - 在表格中查找缺失的时间间隔

> ID：10909015
> 
> 赞同：6
> 
> 时间：2012-06-06T06:13:28.310
> 
> 标签：sql, sql-server-2008, gaps-and-islands

我有下表，其中包含每 15 分钟从几个不同设备读取的值：

```
ID   DeviceID   Date                    Value
----------------------------------------------
1    3          24.08.2011 00:00:00     0.51
2    3          24.08.2011 00:15:00     2.9
3    3          24.08.2011 00:30:00     0
4    3          24.08.2011 00:45:00     7.1
5    3          24.08.2011 01:00:00     1.05
6    3          24.08.2011 03:15:00     3.8 
```

我想在给定月份的每个设备的表中找到所有空白，其中没有条目。对于上表，结果应该是这样的：

```
DeviceID    StartDate               EndDate
-------------------------------------------------------
3           24.08.2011 01:00:00     24.08.2011 03:15:00 
```

该表大约有 35000 个设备和 1 亿个条目。

这就是我尝试过的；它相当慢，但返回了我需要的东西。然而，除了它的速度之外，还有另一个问题：它只查找到设备在给定月份的最后一个条目的缺失间隔；之后的任何内容都将被忽略，因此可能会错过额外的缺失值间隔。

```
SELECT
    t2.Date AS StartDate
    , t1.Date AS EndDate
FROM
    TestTable t1
    INNER JOIN TestTable t2 ON t1.DeviceID = t2.DeviceID
WHERE
    (t2.Date = (SELECT MAX(Date) FROM TestTable t3 WHERE t3.Date < t1.Date AND t3.DeviceID = t1.DeviceID)
        AND DATEDIFF(MINUTE, t2.Date, t1.Date) > 15)
    AND t1.DeviceID = @id
    AND DATEPART(YEAR, t1.Date) = @year AND DATEPART(MONTH, t1.Date) = @month 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-06T06:24:41.363

以下应该可以工作，并且不会只返回一个 deviceid 的记录。

这样做的要点是

*   为每条记录添加一个行号，按顺序排列`Date`并重新开始`DeviceID`。
*   与 self 连接以创建包含两个原始行组合的行的结果。每行的列之间的关系是行号 (+1) 和`DeviceID`.
*   `Date`仅保留相关时间超过 15 分钟的那些行。

**SQL 语句**

```
;WITH t AS (
  SELECT  *, rn = ROW_NUMBER() OVER (PARTITION BY DeviceID ORDER BY Date)
  FROM    TestTable
)  
SELECT  t1.DeviceID, t1.Date, t2.Date
FROM    t t1
        INNER JOIN t t2 ON t2.DeviceID = t1.DeviceID AND t2.rn = t1.rn + 1
WHERE   DATEDIFF(MINUTE, t1.Date, t2.Date) > 15 
```

**测试脚本**

```
;WITH TestTable (ID, DeviceID, Date, Value) AS (
  SELECT 1, 3, '2011-08-24 00:00:00', 0.51 UNION ALL
  SELECT 2, 3, '2011-08-24 00:15:00', 2.9 UNION ALL
  SELECT 3, 3, '2011-08-24 00:30:00', 0 UNION ALL
  SELECT 4, 3, '2011-08-24 00:45:00', 7.1 UNION ALL
  SELECT 5, 3, '2011-08-24 01:00:00', 1.05 UNION ALL
  SELECT 6, 3, '2011-08-24 03:15:00', 3.8 
)
, t AS (
  SELECT  *, rn = ROW_NUMBER() OVER (PARTITION BY DeviceID ORDER BY Date)
  FROM    TestTable
)  
SELECT  t1.DeviceID, t1.Date, t2.Date
FROM    t t1
        INNER JOIN t t2 ON t2.DeviceID = t1.DeviceID AND t2.rn = t1.rn + 1
WHERE   DATEDIFF(MINUTE, t1.Date, t2.Date) > 15 
```

# jquery - Jquery：在 jqgrid 中动态加载子网格

> ID：10909020
> 
> 赞同：0
> 
> 时间：2012-06-06T06:14:12.090
> 
> 标签：jquery, jqgrid

我正在尝试制作一个包含子网格的动态 jqgrid。所以这意味着子网格应该根据主jqgrid从数据库加载数据。所以我无法获得根据主jqgrid动态加载子网格的逻辑。在这里，我发布了我的 js 文件的代码

```
var InstructorsTabSc = function() 
{
var that = {};
var _parent = null;
var _instructorDlgMgrC = null;  
var _view = null;
var _panel = null;
var _path = null;
var BEGIN = "BEGIN";
var STARTING = "STARTING";
var READY = "READY";
var END = "END";
var _state = BEGIN;
var _transition = function(newState) {
    _state = newState;
    switch(_state) {
        case STARTING: _enterStarting(); break;
        case END: _enterEnd(); break;
    }
};
that.create = function(parent, path, panel) {

    _parent = parent;
    _path = path;
    _panel = panel;
    _transition(STARTING);
};      
that.destroy = function() {

    _transition(END);
};  
var _enterStarting = function() {

    var path = _path + '/InstructorsDlgMgrC';
    modelMgr.loadInclude( path + '/InstructorsDlgMgrC.js', function() {
        modelMgr.getHTML( _path + '/InstructorsTabSc.html', function(html) {

            _instructorDlgMgrC = InstructorsDlgMgrC();
            _instructorDlgMgrC.create(that, path);

            var req = {
                    programId :$('#programsList').val()
            };
            var fnSuccess = function(res) {
                _view = InstructorsTabV();
                _view.create(that, _panel, html, res);
            };
            serviceMgr.loadInstructor(req, fnSuccess, fnFailOrError, fnFailOrError);        
        });
    });
};      
var _enterEnd = function() {

    if (_view != null) {
        _view.destroy();
        _view = null;
    }

    _path = null;
    _parent = null;
};
return that;    
};      
var InstructorsTabV = function() 
{

var that = {};
var _sc = null; 
var _panel = null;      
that.create = function(sc, panel, html, res) {  
    _sc = sc;
    _panel = panel;
    that.layoutUi(html, res);
};      

that.layoutUi = function(html, res) {
    $(_panel).html(html);
    that.initInstructorGrid(res);
};

that.destroy = function() {
    $(_panel).html('');
    _sc = null;
};

that.initInstructorGrid = function(data) {      

    var grid = $("#instructorGrid");
        grid.jqGrid({
        data: data.instructors,
        datatype: "local",
        colNames:['Name','User ID', 'Is Active'],
        colModel:[
            {name:'firstName',index:'id', key: true, width:300},
            {name:'email',index:'Sname', width:370, formatter:'email'},
            {name:'isActive',index:'name',width:170,align:'center',editable: true, formatter: 'checkbox',formatoptions:{disabled:false}}
        ],
        pager:false,
        pgbuttons: false,
        pgtext: null,
        toppager:false,
        sortname: 'id',
        sortorder: 'asc',
        viewrecords: false,
        autowidth: true,
        height: "100%",
        subGrid: true,
        subGridOptions: { "plusicon" : "ui-icon-triangle-1-e",
                          "minusicon" :"ui-icon-triangle-1-s",
                          "openicon" : "ui-icon-arrowreturn-1-e",
                          "reloadOnExpand" : false,
                          "selectOnExpand" : true },
        subGridRowExpanded: function(subgrid_id, row_id) {
            var subgrid_table_id, pager_id; subgrid_table_id = subgrid_id+"_t";
            pager_id = "p_"+subgrid_table_id;
            $("#"+subgrid_id).html("<table id='"+subgrid_table_id+"' class='scroll'></table><div id='"+pager_id+"' class='scroll'></div>");
        $("#"+subgrid_table_id).jqGrid({

            data: data.subjects,
            datatype: "local",
            colNames: ['Subject','Is Active','Sessions'],
            colModel: [ {name:"subjectName",index:"num", key: true, width:270},
                        {name:"sessionCount",index:"item",width:160,align:'center',editable: true, formatter: 'checkbox',formatoptions:{disabled:false}},
                        {name:"programUserId",index:"qty",width:380}], 

            pager: false,
            pgbuttons: false,
            pgtext: null,
            sortname: 'num',
            sortorder: "asc",
            autowidth: true,
            height: '100%' });

            $("#gview_"+subgrid_table_id).attr("style","border-left:1px solid #666;");
            $("#"+pager_id).attr("style","height:40px");
            $("#"+"pg_"+pager_id +" table"+" tbody" +" tr").attr("style","background:#FFF");
        }
    });

};
return that;    
}; 
```

这是servlet的代码

```
 @WebServlet("/app/LoggedInSc/AdminSc/AdminTabsetSc/PeopleSc/InstructorsSc/getInstructors")
public class GetInstructors extends JSONServlet {

private static final long serialVersionUID = 1L;

@Override
protected JsonResponse action(TransactionHandler th, JSONObject json)  throws JSONException, CustomExceptionInvalidInput, Exception {       

    int programId = json.getInt("programId");

    List<Map<String, String>> instructorList = new ArrayList<Map<String, String>>();
    List<Map<String, String>> subjectList = new ArrayList<Map<String, String>>();

    for(ProgramUsersDetailDao daoProgramUser : ProgramUsersDetailDao.getProgramUsersByRole(th, programId, ProgramRoles.Instructor)) {

        instructorList.add(daoProgramUser.toMap());

        for(InstructorSubjectSessionsDao daoSubjectSessions : InstructorSubjectSessionsDao.getSubjectAndSessions(th, daoProgramUser.id))
        {
            subjectList.add(daoSubjectSessions.toMap());
        }
    }
    RESULT_OK.addDataParam("instructors", instructorList);
    RESULT_OK.addDataParam("subjects", subjectList);        
    return RESULT_OK;       
}
} 
```

请告诉我如何根据数据库动态地根据主网格加载子网格中的数据

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:54:00.617

如果您需要*动态*加载子网格中的数据，为什么不使用`subGridUrl`？您可以直接从服务器加载 JSON 数据，而不是使用`datatype: "local"`。

无论如何，如果您希望从服务器加载所有数据，您可以将所有子网格的所有数据放在服务器响应中。它看起来像`serviceMgr.loadInstructor`有`fnSuccess`回调，它将在数据加载结束时调用，以及获取从服务器返回的数据的`res`参数。`fnSuccess`

目前您`data.instructors`在网格和子网格中都使用。您可以格式化数据，以便`data.subgridData[rowid]`获得具有 id 属性 rowid 的行的子网格数据。在这种情况下，您只需更换线路

```
data: data.subjects, 
```

在子网格中

```
data: data.subjects[row_id], 
```

# spring - Maven 暴露属性文件 appassembler

> ID：10909026
> 
> 赞同：2
> 
> 时间：2012-06-06T06:14:47.903
> 
> 标签：spring, maven, properties, appassembler

要加载环境特定的值，在我的 src/main/resources 文件夹中，我在不同的子文件夹中有一些属性文件，即

*   com/app/ws/webservices-dev.properties
*   com/app/ws/webservices-test.properties
*   com/app/jms/jms-dev.properties
*   com/app/jms/jms-test.properties

我正在通过弹簧加载这些属性

```
<bean id="placeholderProperties" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
    <property name="locations">
        <list>              
            <value>classpath:/com/app/jms/jms-${ENVIRONMENT:dev}.properties</value>
            <value>classpath:/com/app/ws/webservices-${ENVIRONMENT:dev}.properties</value>
        </list>
    </property>
    <property name="systemPropertiesModeName" value="SYSTEM_PROPERTIES_MODE_OVERRIDE" />
    <property name="ignoreResourceNotFound" value="true" />
    <property name="ignoreUnresolvablePlaceholders" value="true" />
    <property name="order" value="0" />
</bean> 
```

ENVIRONMENT 是环境变量。

我正在使用 appassembler-maven-plugin 生成可执行的 .sh 文件。

```
 <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>appassembler-maven-plugin</artifactId>
            <version>1.2.2</version>
            <configuration>
                <binFileExtensions>
                    <unix>.sh</unix>
                </binFileExtensions>
                <programs>
                    <program>
                        <mainClass>com.app.MainApp</mainClass>
                        <name>MainApp</name>
                    </program>
                </programs>
            </configuration>
        </plugin> 
```

因此，我所有的属性文件都成为我生成的 jar 文件的一部分。我想公开一些属性以在部署时设置它们的值。我试过以下配置

```
 <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>appassembler-maven-plugin</artifactId>
            <version>1.2.2</version>
            <configuration>
                <configurationSourceDirectory>src/main/resources/com/app/bootstrap</configurationSourceDirectory>
                <configurationDirectory>conf</configurationDirectory>
                <copyConfigurationDirectory>true</copyConfigurationDirectory>
                <includeConfigurationDirectoryInClasspath>true</includeConfigurationDirectoryInClasspath> 
                <binFileExtensions>
                    <unix>.sh</unix>
                </binFileExtensions>
                <programs>
                    <program>
                        <mainClass>com.app.MainApp</mainClass>
                        <name>MainApp</name>
                    </program>
                </programs>
            </configuration>
        </plugin> 
```

但是 Spring 不加载属性；可能是由于 spring 配置中的给定路径（见上文）。

我应该使用什么 Maven 配置在打包期间将我的属性文件移动到 appassembler\conf 文件夹中，并从类路径中加载它们。我追求适用于开发（在eclipse中，作为maven构建的单元测试）和部署的配置。

# json - 黑莓：在黑莓应用程序中访问远程 json 文件

> ID：10909030
> 
> 赞同：0
> 
> 时间：2012-06-06T06:15:08.690
> 
> 标签：json, blackberry

这是我在远程服务器中的 json 文件主机。

```
{"posts":[{"id":"1","message":"message1","details":"5"},{"id":"3","message":"message2","details":"21"}]} 
```

我想在 id =1 的黑莓文件中访问这个文件。我怎么做？请有人帮助我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:21:05.903

您可以在 JSONOutputScreen 类中的某个位置从[“代码示例：解析 JSON 数据结构”](http://docs.blackberry.com/en/developers/deliverables/21128/Code_sample_Parse_JSON_data_structure_1319797_11.jsp) 开始，也许您想添加一个方法来准确访问您的内容

# python - 从子类实例访问父类实例属性？

> ID：10909032
> 
> 赞同：22
> 
> 时间：2012-06-06T06:15:25.663
> 
> 标签：python, class, instance, parent

在此代码示例中，如何从“child”访问“myvar”：

```
class Parent():
    def __init__(self):
        self.myvar = 1

class Child(Parent):
    def __init__(self):
        Parent.__init__(self)

        # this won't work
        Parent.myvar

child = Child() 
```

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-06-06T06:18:45.530

Parent是一个类-蓝图不是它的实例，在OOPS中访问对象的属性它需要相同的实例，这里self / child是实例，而Parent / Child是类...

看看下面的答案，或许能解开你的疑惑。

```
class Parent():
    def __init__(self):
        self.myvar = 1

class Child(Parent):
    def __init__(self):
        Parent.__init__(self)

        # here you can access myvar like below.
        print self.myvar

child = Child()
print child.myvar 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-06-06T06:17:55.757

Parent 没有名为 myvar 的属性。只有parent 的*实例*具有该属性。在 Child 的方法中，您可以使用 访问该属性`self.myvar`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2021-04-17T13:28:28.680

# 替代使用继承

当前的答案来自*继承*的角度，但这并不总是您想要的——有时您可能希望子对象是与父对象完全不同类型的对象，但仍然可以访问父属性。

对于业务类比，请考虑具有 Worksheet 子级的 Excel 工作簿，它们本身具有 Range 子级，等等。

## 唯一的孩子

另一种方法（不是唯一的方法）是将父级作为参数传递给子级，以创建与父级对应的属性：

```
class Parent(object):
    def __init__(self, parent_value):
        self.parent_value = parent_value
        self.child = Child(self)

class Child(object):
    def __init__(self, _parent):
        self.parent = _parent
        self.child_value = 0

new_parent = Parent(1)
print(new_parent.parent_value)        # prints 1

new_child = new_parent.child
print(new_child.child_value)          # prints 0
print(new_child.parent.parent_value)  # prints 1

new_parent.parent_value = 100
print(new_child.parent.parent_value)  # prints 100 
```

请注意，这与实例化`child`的相同`new_parent`。要访问父级的属性，只需通过`parent`属性。

## 多个孩子

您可以扩展它，以便您可以`Child`通过`new_parent`对象创建类的多个实例。下面的代码是执行此操作的一种简单方法，它将`child`属性替换为`children`属性和`add_child`方法。

```
class Parent(object):
    def __init__(self, parent_value):
        self.parent_value = parent_value
        self.children = []

    def add_child(self, child_value):
        new_child = Child(child_value, _parent=self)
        self.children.append(new_child)
        return new_child  # allows add_child to assign a variable

class Child(object):
    def __init__(self, child_value, _parent):
        self.parent = _parent
        self.child_value = child_value

new_parent = Parent(1)

# add 3 Child instances with child_values 2, 4, 8
[new_parent.add_child(v) for v in [2, 4, 8]]

# add another child that utilises the return statement
extra_child = new_parent.add_child(16)

for child in new_parent.children:
    print(child.child_value)          # prints 2, 4, 8, 16
    print(child.parent.parent_value)  # prints 1

new_parent.parent_value = 32
for child in new_parent.children:
    print(child.parent.parent_value)  # prints 32

# prove that extra_child is new_parent.children[3]
extra_child.child_value = 64
print(new_parent.children[3].child_value)  # prints 64 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2019-04-21T10:21:57.040

您需要首先使用命令“super”通过所谓的代理对象启动父类。

所以代码将是这样的：

```
class Parent():
  def __init__(self):
      self.myvar = 1

class Child(Parent):
  def __init__(self):
      super.__init__()

child = Child()
print child.myvar 
```

# iphone - 在 Objective-C 中，什么时候应该使用属性，什么时候应该使用实例变量？

> ID：10909039
> 
> 赞同：2
> 
> 时间：2012-06-06T06:15:53.293
> 
> 标签：iphone, objective-c, ios, properties

我不熟悉同时具有属性和实例变量的程序语言。
所以我不知道使用属性和实例变量的好方法。

现在我在我的 Objective-C 代码中只使用属性，并且我不使用任何实例变量。

我需要使用实例变量吗？
还是仅使用属性是 Objective-C 的最佳实践？

```
@interface ViewController : UIViewController
{
    // instance variable
    @public
    int a;
}

// property
@property(nonatomic, strong) NSString *b;

@end 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-06T06:23:09.277

变量和属性之间的基本区别在于，您可以为属性赋予属性。您不能为变量赋予任何属性。因此，如果您希望有任何特定的行为，例如保留变量、以原子方式访问它、在类之外访问，您应该选择属性。

如果您只是想访问类中的变量，并且该变量没有附加任何特殊行为，则无需通过属性访问它。您可以直接使用变量本身。它也会提高性能。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-06T06:39:47.027

`@property`与 ivar相比，a 有一些优点：

*   *内存管理*：在幕后它将创建一个设置器，该设置器创建具有正确 *内存管理*的变量。它将为您省去一些麻烦，因为您可以很容易地看到*内存管理*是如何完成的（`strong`/`weak`和`retain`/ `copy`/ `assign`）。

*   *其他类的可访问性*：如果你`@property`在 .h 中声明你的`@synthesize`，在 .m 中声明你的 ivar 将是公共可读和可写的。您可以使用 privat 类扩展来防止这种情况。您甚至可以声明一个`@property`公共并通过私有类扩展`readonly`在内部声明它们。`readwrite`例如：私有财产

```
 // [In the implementation file]  
   @interface MyClass ()  
   @property (nonatomic, retain) NSMutableArray* someData; // private!!   
   @end  

   @implementation MyClass @synthesize someData   
   @end 
```

*   *自定义 getter 和 setter*：如果您愿意，您仍然可以编写自定义 getter 和 setter，您甚至可以只编写一个 getter 或 setter 并让另一个自动生成`@synthesize`。您可以将自定义逻辑写入这样的 getter 和 setter，例如，您可以在 a`@property`更改后重新加载 tableview。

*   *自动键值观察 (KVO) 兼容*：如果您使用或计划使用 KVO，您只需声明属性即可基本上免费获得它。没有其他事情需要做！

*   *点表示法*：如果你有`@property`.

```
 self.myIvar = (id) someThing; 
   [array addObject:self.myIvar]; 
```

*   如果您需要公开 iVar，那么编写一个`@property`比为 iVar 编写 getter 和 setter更简单

*   使用 a`@property`您无需在 iVar 中声明（在 iOS 和 64 位 Mac Os X 应用程序中）。您可以通过以下方式进行`@synthesize`：

```
 @synthesize myiVar = _myIvar; 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-06T06:22:17.453

到处使用属性。甚至不声明实例变量，而是像这样合成它们：`@synthesize myProperty = _myProperty`为了将它们与属性名称区分开来。属性也是处理内存管理的好方法。唯一必须使用合成实例变量的地方是`dealloc`方法中。
属性的优点有很多：
- 访问器方法定义了如何获取和设置实例变量的值。
- 您可以自定义访问器方法（例如，延迟实例化 ivar 或在设置新值时执行某些操作，例如`setNeedsDisplay`.
- 在设置新值时您无需处理内存管理 - 设置器负责释放/保留（取决于您如何声明该属性- `retain`//`copy``assign`/ `strong`。- 一些带有/属性
的多线程东西-使用属性时 ，您可以利用 , .`atomic``nonatomic`
`KVO`

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-06T06:19:45.640

A`@property`是一个实例变量，它应用了一些语义糖，以帮助将其暴露给外界（通常），并帮助避免编写样板代码来获取和设置它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-06T06:19:21.007

虽然属性通常是在您需要访问类之外的某个变量时创建的，意思是 getter n setter，但在目标 C 中，另一个需要创建属性是内存管理在编译器结束时进行，所以如果您使用的是某个对象，而不是原始数据类型，那么你应该使用属性并合成它，如果你使用手动引用计数，然后在 dealloc 中释放。但同样的主要目标是使其属性访问类外部的一些 iVar，例如将参数从一个类传递到另一个类等。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-06T06:21:36.447

如果您`@synthesize`是`@property`，您将可以访问 get 和 set 方法，这非常方便。如果 setter 是非原子的或原子的并且是只读的，您还可以定义 setter 的行为方式（保留、分配、复制）。如果你没有指定任何东西（也就是你没有合成属性），默认情况下 ivar 在类之外是不可见的，但你可以通过使用`@public`. 从逻辑上讲，您也可以将它们定义为`@private`或`@protected`。

通常我`@synthesize`是`@property`因为我想从类外部访问 ivar，也因为我想要一个 getter 和 setter 方法。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-08-20T13:23:13.890

一般的意见是，您应该尽可能使用属性。如果您仍有疑问，以下是 Apple 的建议：

> 通常，即使您从对象自己的实现中访问对象的属性，您也应该使用访问器方法或点语法进行属性访问，在这种情况下，您应该使用`self`.

...

> 此规则的例外是在编写初始化、释放或自定义访问器方法时

...

> 您应该始终直接从初始化方法中访问实例变量，因为在设置属性时，对象的其余部分可能尚未完全初始化

[在此处](https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/EncapsulatingData/EncapsulatingData.html)阅读整个文档，以更好地理解该主题。

至于性能问题，对于大多数应用程序来说，收益是微不足道的。阅读[此](https://www.bignerdranch.com/blog/should-i-use-a-property-or-an-instance-variable/)内容以获得非常详细的说明。

# database - SPARQL 中的基数是什么意思？

> ID：10909041
> 
> 赞同：2
> 
> 时间：2012-06-06T06:16:13.497
> 
> 标签：database, rdf, sparql

在研究与 SPARQL、rdf 等相关的论文时，通常会提到查询结果的基数……但是，我无法理解基数在这里的真正含义。我是 SPARQL 和 rdf 的新手，所以有人可以解释一下 SPARQL 和 rdf 中的基数是什么意思。

数据库中的基数是指值的唯一性，对 SPARQL 及其查询结果的基数意味着什么……我真的很困惑。有人请解释一下。

由于它指的是唯一值，那么最大基数和最小基数是什么意思？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:08:15.767

SPARQL 的构造与 SQL 有一些天真的相似之处，但这里没有元组，而是三元组。每个三元组都采用 SPO 主谓宾的形式（有人说 P 代表属性），并且您可以有一些具体的扩展模型，利用这些索引和上下文的第四个索引的组合。实际上（只是为了重用我之前说过的幼稚想法）你可以想象一个巨大的桌子，每个三元组都有一个元组。因此，这里 DISTINCT 三元组的基数表示关于单个主题的“事实”的基数。您应该会看到与关系模型完全不同的模型。例如，通过 rdf/foaf 具有名字和姓氏的人将类似于（使用海龟语法）：

```
@prefix foaf:    <http://xmlns.com/foaf/0.1/> .

_:X  foaf:name   "John" .
_:X  foaf:surname   "Doe" 
```

.

这里我们有两个三元组。

```
So a SPARQL query like:
SELECT COUNT(?S) as ?triples
WHERE{
?S ?P ?O.
?S foaf:name ?name.
} 
```

将给出简单的三元组 = 2，因为主题的关系涉及 2 个三元组。

很抱歉过于简单化了，但希望它有助于开始:-) Alfredo

# jquery - 单击另一个对象时更改边框颜色

> ID：10909045
> 
> 赞同：0
> 
> 时间：2012-06-06T06:16:53.713
> 
> 标签：jquery, html, css

我对 jQuery 完全陌生，试图编写一些脚本来使导航项`#printInteract`触发容器边框以更改颜色。感觉这应该工作？这是一个语义错误吗？如果没有，有人可以解释一下我哪里出错了吗？

**jQuery：**

```
$(document).ready(function(){
var printBorder = $("#container").css("border-color", "blue");
function changeBorder() {printBorder}
$("#printInteract").on("click", changeBorder);

}); 
```

**CSS**
#container{height:95%; 位置：相对；.clearfix()；边框：.1875em #fff 实心；}

**HTML**

```
 <nav>
    <ul class="navSpaces">
    <li class="navCenter"><a class="navBg" href="#"><div class="relativeCenter"><img src="asset/img/logo30px.png" /><h3>all</h3></div></a></li>
    <li id="printInteract" class="navCenter"><a class="navBg" href="#"><div class="relativeCenter"><img src="asset/img/logo30px.png" /><h3>print</h3></div></a></li>
    <li class="navCenter"><a class="navBg" href="#"><div class="relativeCenter"><img src="asset/img/logo30px.png" /><h3>video</h3></div></a></li>
    <li class="navCenter"><a class="navBg" href="#"><div class="relativeCenter"><img src="asset/img/logo30px.png" /><h3>web</h3></div></a></li>
    </ul>
  </nav> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T06:23:48.117

你很接近，但有点偏离。我已经评论了您的代码以解释您的错误。

```
$(document).ready(function(){
    //grab the container whose border you want to change
    var container = $("#container");

    //when this function is called, change the border
    function changeBorder() {
        container.css({'border' : '1px black solid'});
    }

    //watch for the click event and call your function
    $("#printInteract").on("click", changeBorder);
}); 
```

此外，在这种情况下，changeBorder 并没有做太多。即，它只改变边界。对于这种情况，您可以只传递一个匿名函数，而不是定义和调用一个函数

```
$(document).ready(function(){
    //grab the container whose border you want to change
    var container = $("#container");

    //watch for the click event and call your function
    $("#printInteract").on("click", function(){
        //this is the anonymous function. This will only
        // be executed when a click event is triggered
        container.css({'border' : '1px black solid'});
    });
}); 
```

脚注：您甚至可以跳过为容器获取 jquery 对象并将其存储在变量中的部分，因为您只引用该对象一次（同时更改边框）。但是，如果您多次引用该对象，则最好将对象“缓存”在变量中，就像上面的代码所做的那样。这是因为每次您请求一个 jQuery 对象时，jQuery 都必须遍历 DOM 以查找与您的选择器匹配的所有元素。因此，通过缓存对象可以获得更好的性能。

**编辑：**

有一种更好的方法可以在不使用 4 个点击处理程序的情况下完成您正在寻找的事情。事实上，您当然应该尽量减少您在页面中使用的事件侦听器的数量，因为每个事件侦听器都会造成损失。

实现您正在寻找的一种方法是创建一个用作查找表的 Javascript 对象。

**[在此处查看演示](http://jsfiddle.net/Fkvsy/18/)**

这是我使用的 Javascript / Jquery 代码：

```
//this is the lookup table that maps
// id with the color scheme
var borderScheme = {
    'printInteract' : '1px solid blue',
    'videoInteract' : '1px solid orange',
    'webInteract' : '1px solid pink',
    'allInteract' : '1px solid white'
};

$(document).ready(function(){
    // i am applying border to the entire nav element
    var nav = $('nav');

    //we attach a single click listener on li elements
    $('li').on('click',function(){

        // get the id of the clicked li
        var id = $(this).attr('id');

        // lookup the corresponding border scheme from the lookup table
        var color = borderScheme[id];

        // was there a color defined?
        if (color != 'undefined') {
            // if yes, make the change
            nav.css({'border': color});
        }
    });
});

​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:24:56.680

检查此解决方案：

[http://jsfiddle.net/6VLgJ/](http://jsfiddle.net/6VLgJ/)

希望这对您有所帮助并为您工作

# c++ - 编译错误：2574：显式特化 必须在第一次使用之前（ )

> ID：10909046
> 
> 赞同：2
> 
> 时间：2012-06-06T06:17:00.857
> 
> 标签：c++, templates, armcc

使用armcc4.1编译我的代码时，报如下错误：

**“access/qnetworkrequest_p.h”，第 94 行：错误：#2574：类“QTypeInfo>”的显式特化必须在其首次使用之前（在“../../include/QtCore/../.. /src/corelib/tools/qlist.h") Q_DECLARE_TYPEINFO(QNetworkHeadersPrivate::RawHeaderPair, Q_MOVABLE_TYPE);**

```
class QNetworkHeadersPrivate
{
public:
    typedef QPair<QByteArray, QByteArray> RawHeaderPair;
    typedef QList<RawHeaderPair> RawHeadersList;
...
};

Q_DECLARE_TYPEINFO(QNetworkHeadersPrivate::RawHeaderPair, Q_MOVABLE_TYPE); 
```

但是，有没有办法禁用或绕过这个错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T02:39:15.367

回答我的问题：最后通过删除最后一行来修复它，因为这个声明是多余的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:01:10.723

我会尝试修改头文件的包含顺序。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:44:49.797

在没有将元素类型声明为可移动之前不要进行列表操作。在宏*之后*定义任何这样做的成员函数体。

# php - 将锚标记添加到 javascript URL

> ID：10909053
> 
> 赞同：1
> 
> 时间：2012-06-06T06:17:37.247
> 
> 标签：php, javascript, url

我有一个 PHP 系统，基本上我使用弹出式布局来进行一些处理，即上传图像。这里没有问题，然后在完成插入和上传时，我转到一个页面，该页面将调用底层页面并刷新它：

```
$callpage="jobsheet_build.php?id=".$_GET['id'];
echo("<script language=\"javascript\">");
echo("top.location.href = \" ").$callpage.("\";");
echo("</script>"); 
```

好的，这很好，但在理想的世界中，我想在 $callpage 中引用#images 所以我最终得到

```
$callpage="jobsheet_build.php?id=".$_GET['id']."#images"; 
```

但无论我做什么，javascript都会挂起。

任何想法将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T12:07:08.943

@Jim您是否尝试过像这样设置锚标记`echo("top.location.href = \" ").$callpage.("#images\";");`而不是在变量内设置锚标记？

# android - 通过编码获取数据分区的大小

> ID：10909054
> 
> 赞同：3
> 
> 时间：2012-06-06T06:17:49.803
> 
> 标签：android

我有测试代码使用：

```
 $ adb -s emulator-5554 shell

   # df
   df
 /dev: 47084K total, 0K used, 47084K available (block size 4096)
/sqlite_stmt_journals: 4096K total, 0K used, 4096K available (block size  4096)
/system: 73600K total, 73600K used, 0K available (block size 4096)
/data: 65536K total, 18464K used, 47072K available (block size 4096)
/cache: 65536K total, 1156K used, 64380K available (block size 4096) 
```

你看到数据总共有 65536k 等等，我的问题是如何通过编码获得大小？如果我需要 root 对吗？你能给我一些建议吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T06:41:53.160

```
try {
 Runtime rt = Runtime.getRuntime();
 Process pcs = rt.exec("df /data");
 BufferedReader br = new BufferedReader(new InputStreamReader(pcs
       .getInputStream()));
 String line = null;
 while ((line = br.readLine()) != null) {
    Log.e("line","line="+line);
 }
 br.close();
 pcs.waitFor(); 
```

或者

```
 File path = Environment.getDataDirectory();
    android.os.StatFs stat = new android.os.StatFs(path.getPath());
    long blockSize = stat.getBlockSize();
    long availableBlocks = stat.getAvailableBlocks()*blockSize; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:23:55.957

你不需要root权限。您可以通过以下方式获得它：

```
Runtime.getRuntime().freeMemory(); // Returns the amount of free memory resources which are available to the running program.

Runtime.getRuntime().maxMemory(); // Returns the maximum amount of memory that may be used by the virtual machine, or Long.MAX_VALUE if there is no such limit.

Runtime.getRuntime().totalMemory(); // total memory available for your app to run 
```

# android - 直播电视频道流媒体 API

> ID：10909059
> 
> 赞同：4
> 
> 时间：2012-06-06T06:18:13.920
> 
> 标签：android, live-streaming

Android市场上有很多直播电视应用程序。我也想做这样的应用程序。但我不知道从哪里可以获得直播电视流媒体的 api。YouTube 提供了一些直播频道。没有马拉雅拉姆语和印地语频道。但我也想要这些类型的频道。

这个问题有什么解决办法吗？请给我一些帮助。我搜索了很多，但没有得到任何解决方案。

我还有一个疑问，我们可以为直播频道实现一个服务器吗？如果可以，怎么做？

# entity-framework - 为什么我会得到一个带有实体框架代码优先外键属性的额外外键列？

> ID：10909061
> 
> 赞同：19
> 
> 时间：2012-06-06T06:18:18.143
> 
> 标签：entity-framework, ef-code-first

我最近遇到了 Entity Framework Code First 这个奇怪的问题。

我的课看起来像这样

```
public class Status
{
        [Key]
        public int StatusID { get; set; }     
        public string Name { get; set; }
        public int MemberID { get; set; }

        [ForeignKey("MemberID")]
        public virtual Member Member { get; set; }                

        public int PosterID { get; set; }

        [ForeignKey("PosterID")]
        public virtual Member Poster { get; set; }        

        public virtual ICollection<StatusLike> StatusLikes { get; set; }        
        public virtual ICollection<StatusComment> StatusComments { get; set; }
} 
```

我的会员课看起来像这样

```
 public class Member
    {
        [Key]
        public int MemberID { get; set; }
        public string FirstName { get; set; }
        public string LastName { get; set; }
        public string Bio { get; set; }

        public virtual ICollection<MemberCourseTaken> MemberCourseTakens { get; set; }
        public virtual ICollection<Status> Statuses { get; set; }
        public virtual ICollection<Club> FoundedClubs { get; set; }

        public string EmailAddress { get; set; }
        public string Password { get; set; }
        public string Phone { get; set; }

        public int AccountSourceID { get; set; }
        public AccountSource AccountSource { get; set; }

        public int AddressID { get; set; }
        public Address Address { get; set; }
        public string ProfilePhoto { get; set; }

        public int MemberRankID { get; set; }
        public MemberRank MemberRank { get; set; }
        public DateTime Created { get; set; }
        public DateTime Modified { get; set; }
    } 
```

无论出于何种原因，创建的数据库表具有以下列

```
StatusID
Name
MemberID
PosterID
Member_MemberID 
```

, `MemberID`,`PosterID`和`Member_MemberID`是外键。

我怎样才能`Member_MemberID`不被生成？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-06T10:09:16.100

您的`Member_MemberID`列是由于该`Member.Statuses`属性而创建的。我可以想象这不是你想要的。可能成员和状态应该彼此独立存在，因此您需要一个联结表。

我不知道您是否已经使用了`OnModelCreating`DbContext 的覆盖，但这是更改 Member 和 Status 之间映射的地方：

```
protected override void OnModelCreating(DbModelBuilder mb)
{
    mb.Entity<Member>().HasMany(m => m.Statuses).WithMany();
} 
```

这将创建一个表 MemberStatuses 表，其中两个 Id 列作为外键。这是一种在关联的“另一端”没有导航属性的情况下对多对多关系进行建模的方法。（我不认为你想要一个`Members`属性`Status`）。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2018-01-21T23:39:09.107

我以前见过这个。就我而言（使用 EF 6.1），这是因为我的 Fluent API 映射设置如下：

```
// In my EntityTypeConfiguration<Status>
HasRequired(x => x.Member).WithMany().HasForeignKey(x => x.MemberID); 
```

该代码运行良好，但它并没有告诉 EF 我`Member`的班级的集合导航属性`Status`已被考虑在内。因此，虽然我在我的类中明确处理了`Member`导航属性的存在`Status`，但我现在留下了一个孤立的相关集合属性。那个孤立的属性，作为一个集合，告诉 EF 我的`Status`类需要有一个外键。所以它在`Status`类上创建了它。

要解决它，我必须 100% 明确。

```
HasRequired(x => x.Member).WithMany(x => x.Statuses).HasForeignKey(x => x.MemberID) 
```

可能是您的`Statuses`Collection 属性`Member`需要一个属性来告诉它它已经被考虑过，而不是去自动创建映射。我不知道那个属性。

# c# - 使用 mongoDB C# 驱动程序，如何发出 runCommand？

> ID：10909063
> 
> 赞同：4
> 
> 时间：2012-06-06T06:18:25.623
> 
> 标签：c#, .net, c#-4.0, mongodb, mongodb-.net-driver

这方面似乎缺少 mongoDB API 文档。我正在尝试使用聚合函数来获取某个集合中流行标签的计数。这是我希望执行的命令：

```
db.runCommand(
       { aggregate : "articles", 
         pipeline : [ { $unwind : "$Tags" }, 
                      { $group : { _id : "$Tags", count : { $sum : 1 } }
                      } ]}); 
```

当我使用 shell 执行此操作时，我得到以下信息：

```
{
    "result": [{
        "_id": "2012",
        "count": 3
    }, {
        "_id": "seattle",
        "count": 5
    }],
    "ok": 1
} 
```

我正在使用 c# 4.0，所以我想我更愿意将它作为一个动态对象取回，但我会尽我所能......

FWIW，我正在使用 mongoDB for Windows，32 位，v2.1.1（每晚）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T06:51:49.630

这是相应的 C# 驱动程序文档页面：[RunCommand()](http://api.mongodb.org/csharp/1.3.1/html/4fe0d8b2-161e-ff83-355d-7517b251d81a.htm)。所以基本上你打电话`Database.RunCommand("MyCommand")`。对于需要（多个）属性的更复杂命令的示例，JIRA 中的这张票可能会派上用场：[CSHARP-478](https://jira.mongodb.org/browse/CSHARP-478)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-12-21T12:53:17.333

在 MongoDB CSharp Drivers 2.0.0+ 中：
我使用以下语法来运行此类命令：

```
var command = new CommandDocument
{
    {"aggregate", "TestCollection"},
    {
        "pipeline", new BsonArray
        {
            new BsonDocument {{"$unwind", "$Tags"}},
            new BsonDocument
            {
                {
                    "$group", new BsonDocument
                    {
                        {"_id", "$Tags"},
                        {"count", new BsonDocument {{"$sum", 1}}}
                    }
                }
            }
        }
    }
};

var result = db.RunCommand<BsonDocument>(command)["result"]
    .AsBsonArray.ToList(); 
```

# python - 写代码诗

> ID：10909067
> 
> 赞同：-1
> 
> 时间：2012-06-06T06:19:06.293
> 
> 标签：python

我有一段我正在为“代码诗歌”竞赛编写的 Python 代码，它应该没有错误，但我不确定它有什么问题。我很感激任何意见。

```
# Creation
def dustBit(mass, rotation, velocity):
    bitMass = mass
    bitRotation = rotation
    bitVelocity = velocity

def dustCloud(mass, rotation):
    mass = mass
    rotation = rotation

def Stir(dustBit1, dustBit2):
    cloudMass = dustBit1.mass + dustBit2.mass
    cloudRotation = dustBit1.velocity * dustBit2.velocity
    return  dustCloud(cloudMass, cloudRotation)

def Spark(dustCloud): return StellarObject(dustCloud.mass)

def Life (planet, seed): return None

dustBit1 = dustBit(8.3, 5.2, -7.1)
dustBit2 = dustBit(5.3, 3.2, 5.4)

Cloud = Stir(dustBit1, dustBit2)
Planets = []
for i in range(8):
    Planets[i] = Stir(Cloud, dustBit1)

Sol = Spark(Cloud)

Life(Planets[2]) 
```

谢谢您的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:25:19.377

你在这里定义函数，而不是类，它们最终都会返回`None`。

# c# - 关于继承和构造函数

> ID：10909069
> 
> 赞同：0
> 
> 时间：2012-06-06T06:19:15.333
> 
> 标签：c#

我只是想知道我在一些信息中发现的这段代码是否正确。我觉得奇怪的是，这两个示例中都使用了两次直径，这真的正确吗？

```
public Ellipse(double diameter): base(diameter, diameter) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:21:27.983

这是一个`Ellipse`类的构造函数，它调用有两个参数的基类构造函数。

它可能看起来像这样：

```
class Shape
{
 public Shape(double diameter1, double diameter2)
 {
 }
}
class Ellipse : Shape
{
 public Ellipse(double diameter) : base(diameter, diameter)
 {
 }
} 
```

如果您这样做，则将`new Ellipse(10);`10 传递给 Ellipse 构造函数，该构造函数调用`Shape`类构造函数并将 10 作为这两个参数的参数传递。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T06:23:30.060

语法是正确的。这些类可能看起来像这样：

```
public class Base
{
  public Base(double d1, double d2)
  {
  }
}

public Eclipse : Base
{
   public Ellipse(double diameter)
        : base(diameter, diameter)
   {
   }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T06:21:50.553

这取决于基类构造函数对参数的作用，但从语法上讲，它是正确的。

您发布的代码调用与提供的参数匹配的基类构造函数，而不是默认的基类构造函数（如果有）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-06T06:22:15.750

这是构造函数链接，即在子构造函数之前调用基本构造函数。

如果基类有一个构造函数

```
public Base(double, double) 
```

那么就很好了。

# jboss - JBoss 7.1 上的 Java Web 应用程序部署

> ID：10909070
> 
> 赞同：0
> 
> 时间：2012-06-06T06:19:20.787
> 
> 标签：jboss

我打算使用开发和部署一个简单的 Web 应用程序

1.  EJB 3
2.  JSP 和 servlet
3.  JBoss 7
4.  JPA

我已经对应用程序进行了编码并创建了一个具有以下结构的标准耳朵

出现

|_ lib（包含所有必需的 jar，例如公共日志记录）

|_ 元信息

```
 |_ application.xml

   |_ jboss-app.xml 
```

|_ app_ejb.jar（包含无状态 EJB、实体、persistence.xml 等...）

|_ app_web.war（jsps、servlet、web.xml 等）

jboss-app.xml :- （库是应用名称）

```
<!DOCTYPE jboss-app PUBLIC "-//JBoss//DTD J2EE Application 1.4//EN" "http://www.jboss.org/j2ee/dtd/jboss-app_4_0.dtd">
<jboss-app>
    <loader-repository>library:app=ejb3</loader-repository>
</jboss-app> 
```

应用程序.xml：-

```
<?xml version="1.0" encoding="UTF-8"?>
<application xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/application_1_4.xsd" version="1.4">

<display-name>library</display-name>

<module>
  <ejb>ejb_library.jar</ejb>
</module>

<module>
    <web>
        <web-uri>web_library.war</web-uri>
        <context-root>web_library</context-root>
    </web>
</module>

</application> 
```

现在当我用 JBoss 7 的管理控制台部署这个耳朵时，似乎已经部署了 web 模块，甚至页面都被命中了。但是，我尝试在 servlet 中注入 EJB（作为使用 @EJB 的实例变量）的应用程序的另一部分失败了。

我部署应用程序的方式似乎存在一些问题。

我试图找到一个可以在 JBoss 中部署应用程序的教程，但我一直坚持到这一步。

有人可以指导我吗？我是第一次使用 JBoss，并不完全了解 JBoss 的特定配置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:34:31.870

您正在注入的 EJB，它是否实现了接口？该接口是否已向服务器注册？@Local 或 @Remote。

如果没有，请尝试引入 @Local 接口，然后您的 EJB 实现实现该接口；然后，使用该本地接口注入 EJB 实现。

另外，检查下面的线程；

[JBoss 6：将 EJB 注入 servlet](https://stackoverflow.com/questions/6833935/jboss-6-injecting-ejb-into-servlet)

[将 EJB 注入 JAX-RS（RESTful 服务）](https://stackoverflow.com/questions/3027834/inject-a-ejb-into-jax-rs-restfull-service)

[http://docs.jboss.org/ejb3/docs/tutorial/1.0.0/html/Injecting_EJB_in_Servlets.html](http://docs.jboss.org/ejb3/docs/tutorial/1.0.0/html/Injecting_EJB_in_Servlets.html)

一个愚蠢的想法，但你能重新安排application.xml中的模块声明吗？首先引入 web 模块，然后是 ejb。

*   模块 -> 网络模块
*   模块 -> ejb 模块

此外，这也与您的情况有关： http: [//docs.jboss.org/jbossas/docs/Server_Configuration_Guide/4/html/ch01s04s02.html](http://docs.jboss.org/jbossas/docs/Server_Configuration_Guide/4/html/ch01s04s02.html)

# php - 表中设置位置的 PHP/MySQL 重新排序菜单

> ID：10909073
> 
> 赞同：0
> 
> 时间：2012-06-06T06:19:22.633
> 
> 标签：php, mysql, dynamic, menu, position

在 MySQL 中，我有一个包含名称、id、位置和内容值的表。通过 id 查询将内容加载到 php 中的页面上。位置在 php 中用于创建一个动态菜单，其中菜单项按位置值升序。

例如，假设有 3 行，每行的位置值为 1、2 或 3。我正在尝试构建一个表单以允许用户更改菜单、项目的位置或添加新的. 因此，如果位置 3 中的行想要更改为位置值 1，则需要将 2 变为 3，并且需要将 1 变为 2。或者如果添加了新项目，则其所在的位置及其下方的所有位置都需要上移一个值。

解决这个问题的最佳方法是什么？任何建议，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:31:11.370

如果您添加新项目 - 首先更新`position`值等于或大于的所有项目：

`UPDATE MenuItems SET position = position + 1 WHERE position >= newItemPosition;`

如果您正在更新 - 仅更新位置高于 highItemPosition 的项目（它们只会切换位置）。

`UPDATE MenuItems SET position = position - 1 WHERE position = higherItemPosition;`

如果 newItemPosition 更新为较低的值，我会这样做：

`UPDATE MenuItems SET position = position + 1 WHERE position = lowerItemPosition;`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:14:27.337

在我们使用查询对数据库进行集群之前，创建覆盖位置字段的索引（例如主键），使用每次更改的索引条目更新几行，等等，让我们考虑以下内容：

1.  在最坏的情况下，菜单会得到多长时间？
2.  你真的需要从菜单中获取单独的行，或者当你需要显示一个菜单时你需要选择它的所有行？

大多数情况下，这些情况可以通过更简单、更实用的方法来解决，这对程序员来说也容易得多。如果菜单不会太长，而且您可能每次需要阅读它时都需要它，为什么不在程序中将其作为列表（任何类型的项目）保存，并用任何方法对其进行序列化（例如 JSON 或 Python Pickle）在将其作为带有文本字段的单行存储在数据库中之前？如果菜单在列表中，对其元素重新排序将非常简单，对菜单的读取操作将需要对数据库进行单行 SELECT，而写入操作将需要单个 UPDATE，而不需要保持位置字段的更新.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T06:31:30.027

想到两个想法：

将菜单作为 AJAX 加载的 div，然后对更改做出反应并重新加载 div，这意味着您可以重新运行 SQL

将答案加载到 javascript 数组中，然后以这种方式呈现它们，然后您就有了拖动更改的能力。

# c# - 如何将 vb.net dll 添加到 c# 应用程序中

> ID：10909078
> 
> 赞同：-1
> 
> 时间：2012-06-06T06:19:54.140
> 
> 标签：c#, vb.net, dll, ilmerge

我已经在 C# windows 中开发了一个应用程序，我需要添加 vb.net dll 文件。我尝试从源添加 dll 文件->添加引用。但是，我收到错误

```
 **Could not find the dll files ** 
```

因为我正在添加 dll 文件（**assembly1 到 assembly**2 和 **assembly2 到 assembly3**）

** 新代码 **

C:\Program Files (x86)\Microsoft\ILMerge>ilmerge /t:dll /out:ExcelImportnew.dll ExcelImport.dll BOL.dll

合并时发生异常：

```
 Access to the path 'C:\Program Files (x86)\Microsoft\ILMerge\ExcelImportnew.dll' is denied.
       at System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath)
          at System.IO.FileStream.Init(String path, FileMode mode, FileAccess access, Int32 rights, Boolea
         useRights, FileShare share, Int32 bufferSize, FileOptions options, SECURITY_ATTRIBUTES secAttrs, Sring msgPath, Boolean bFromProxy)
               at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, In32 bufferSize, FileOptions options, String msgPath, Boolean bFromProxy)
            at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
            at System.Compiler.Writer.WritePE(String location, Boolean writeDebugSymbols, Module module, Boolean delaySign, String keyFileName, String keyName)
             at System.Compiler.Writer.WritePE(CompilerParameters compilerParameters, Module module)
           at ILMerging.ILMerge.Merge()
            at ILMerging.ILMerge.Main(String[] args) 
```

请告诉我为什么会收到此错误。如何解决此错误。谢谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:58:01.907

您是否尝试过将 dll 与 ILMerge 结合使用？

```
ilmerge /target:library /out:YourLib.dll ClassLibrary1.dll ClassLibrary2.dll 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T15:51:40.303

如果您拥有 VB 和 C# 项目的源代码，请将它们都添加到 Visual Studio 解决方案中。现在您可以将它们添加为项目参考。

这可能是最简单的入门方法。

# sql - 访问加入查询

> ID：10909086
> 
> 赞同：0
> 
> 时间：2012-06-06T06:21:11.293
> 
> 标签：sql, ms-access, ms-access-2007

我有两个表 tbl_DaysWeeksMonths（左表）和 tbl_Telephony（右表）。tbl_DaysWeeksMonths 记录了一年中的每一天，其中包含列 (Row_Date/Week/Month)，而 tbl_Telephony 记录了每天数百个座席的电话数据，包含列 (row_date/agent/calls/talk time)（注意：每个座席只有记录一周中的 5-6 天，而不是每天）。

我想加入这两个表，以便每个座席都有一周中每一天的记录，无论他们是否在一天内接听电话。我想显示顾问未接听电话的日期的空白记录（日期字段除外）。例如：

```
## Date ##           ## Agent ##          ## Calls ##      ## Talk Time ##

 1\. 26/05/2012     |     James        |         40       |           560
 2\. 27/05/2012     |     James        |                  |
 3\. 28/05/2012     |     James        |         34       |           456
 4\. 29/05/2012     |     James        |                  |
 5\. 30/05/2012     |     James        |         40       |           643
 6\. 31/05/2012     |     James        |         36       |           345
 7\. 01/06/2012     |     James        |         31       |           160 
```

我正在尝试使用下面的代码，但我认为它不正确。关于更好的代码使用的任何建议。请帮忙。

```
SELECT tbl_DaysWeeksMonths.Row_Date, 
       [tbl_Telephony].Consultant, 
       [tbl_Telephony].i_acdtime
FROM tbl_DaysWeeksMonths
LEFT JOIN [tbl_Telephony] 
ON tbl_DaysWeeksMonths.Row_Date = [tbl_Telephony].row_date; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:31:18.957

您也可以使用此查询。

```
SELECT tbl_DaysWeeksMonths.Row_Date, [tbl_Telephony].Consultant, [tbl_Telephony].i_acdtime

FROM tbl_DaysWeeksMonths

LEFT OUTER JOIN [tbl_Telephony] ON tbl_DaysWeeksMonths.Row_Date = [tbl_Telephony].row_date; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T13:48:25.667

第 1 步 - 假设您有一个表（例如，named `Consultants`）列出了每个不同的顾问，创建一个查询（例如，named `Consultant Days`）来生成天数和顾问的所有可能组合。它可能看起来像这样：

```
SELECT [Consultants].Consultant, tbl_DaysWeeksMonths.Row_Date
FROM [Consultants], tbl_DaysWeeksMonths; 
```

如果您没有`Consultants`表格，您可以将其替换为选择 中列出的不同顾问的查询`tbl_Telephony`。换句话说，您可以创建一个如下所示的`Consultants` *查询*：

```
SELECT DISTINCT Consultant FROM [tbl_Telephony]; 
```

第 2 步 - 创建一个外部连接的`tbl_Telephony`查询`Consultant Days`。它可能看起来像这样：

```
SELECT [Consultant Days].Row_Date, [Consultant Days].Consultant, [tbl_Telephony].i_acdtime 
FROM [Consultant Days] 
LEFT JOIN [tbl_Telephony]  
ON [Consultant Days].Consultant = [tbl_Telephony].Consultant 
AND [Consultant Days].Row_Date = [tbl_Telephony].row_date; 
```

这还假设`row_date`in 中的值与 in中`tbl_Telephony`的值匹配——换句话说， in 中的值是整天（即，不包含时间组件）。这还假设in 的值是给定顾问和一天的总通话时间（与给定呼叫的通话时间相反）。大概有另一列将给出给定顾问的总呼叫次数和日期，您可以将其添加到查询中以获得您说您想要您的问题的“呼叫”列。`Row_Date``tbl_DaysWeeksMonths``row_date``tbl_Telephony``i_acdtime``tbl_Telephony``tbl_Telephony`

# sencha-touch - Sencha Touch 2 固定标头

> ID：10909087
> 
> 赞同：0
> 
> 时间：2012-06-06T06:21:13.133
> 
> 标签：sencha-touch, extjs, sencha-touch-2, sencha-architect

有没有办法在煎茶应用程序中拥有一个固定的非动画标题并仍然保留页面动画和浏览历史记录？

我需要我的标题不在页面幻灯片上设置动画。我尝试的方法是：

```
-main container (v box)
--header container
--card container(card layout)
---card
---card2
---card3 
```

ETC

我手动切换卡片容器内的卡片，`setActiveItem(index)` 标题永远不会动画输入/输出，但我现在没有历史记录，所以拥有后退按钮的唯一方法是使用 setActiveItwm(prevIndex) 手动对其进行硬编码

这是一个不幸和肮脏的解决方案，也许其他人有更好的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T17:13:40.647

你需要 [`Ext.navigation.View`](http://docs.sencha.com/touch/2-0/#!/api/Ext.navigation.View)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-08T21:14:56.770

是的，我使用 sencha 架构师进行测试来实现它。从内存中，我创建了一个具有布局 vbox 的基本容器。在里面我有一个顶部的tabpanel，下面是一个tabpanel。然后我将顶部面板上的 flex 设置为 0.2，将 tabpanel 设置为 0.8。这样我的标题在任何设备上都将始终为 20% 的高度。我希望这有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T11:34:44.353

使用 Ext.navigation.View 并在视图之间创建基本导航...然后隐藏导航视图，您可以通过将 navigationBar 属性设置为 hidden:true 来实现

接下来有一个通用的导航标题，正如您上面提到的......使用按钮前进可以说是使用

```
button.up('navigationview').push({xtype: 'card2'}); 
```

此按钮将位于您卡片中的某个位置，可将您带到下一张卡片

同样返回按钮单击

```
button.up('navigationview').pop();
button.up('navigationview').pop(2);//Will take you two views back and so on 
```

这些按钮将位于您的公共标题上

# ffmpeg - AVI 与 FFmpeg 合并被截断

> ID：10909095
> 
> 赞同：2
> 
> 时间：2012-06-06T06:21:44.707
> 
> 标签：ffmpeg

我正在使用 FFmpeg 合并两个从 wmv 转换为 AVI 的 avi 文件。从 wmv 到 avi 的转换工作正常，但是当我要合并这两个 avi 文件时，较长视频的某些部分被截断。此外，如果第一个视频没有声音，则合并后的视频根本不包含声音。什么可能是修复？请任何具有 FFmpeg 专业知识的人帮助我。

# 注：合并命令

ffmpeg -isync -i "concat:file1.avi|file2.avi" -f avi -c 复制合并的.avi

提前致谢

# ios - AVPlayer（和 MPMoviePlayerController）试图缓冲整个（流）视频，内存不足

> ID：10909108
> 
> 赞同：4
> 
> 时间：2012-06-06T06:22:38.840
> 
> 标签：ios, video-streaming, avfoundation, avplayer, buffering

我是一名新的 iOS 开发人员，我正在为视频共享网站开发视频播放器应用程序，有时录制由两个视频流组成（一个显示演示者，另一个显示他的屏幕录制）。我正在尝试使用 AVFoundation 播放第二个视频，创建一个 AVPlayer。有些视频效果很好，但有些视频内存不足。经过大量调查后，我发现它试图将整个视频缓冲到内存中。

我花了几个小时在谷歌上搜索它，但找不到任何东西。

我创建了一个小项目来证明这一点： [github project](https://github.com/zsombornagy/avfoundationtest)。它为两个不同的视频流设置了两个 AVPlayer，并更新了 UI 以显示播放器的 AVPlayerItem 的加载时间范围。对于第一个视频，它只缓冲约 60 秒，这很好，但对于第二个视频，它一直在缓冲。

```
self.player1 = [AVPlayer playerWithURL:url1];
self.player2 = [AVPlayer playerWithURL:url2]; 
```

和两个文本标签：

```
self.data1.text = [NSString stringWithFormat:@"Player 1 loadedTimeRanges: %@",
                      self.player1.currentItem.loadedTimeRanges];
self.data2.text = [NSString stringWithFormat:@"Player 2 loadedTimeRanges: %@",
                      self.player2.currentItem.loadedTimeRanges]; 
```

也许这很重要：**过度缓冲的视频没有音轨，只有视频。**

**更新**：我重现了使用 MPMoviePlayerController 而不是 AVPlayer 的问题，并检查了 playableDuration 属性。第一部电影停止大约 60 秒，第二部电影继续播放，然后内存不足。

**UPDATE2**：我得到了实际的视频文件并将它们放到 Dropbox 中，并尝试流式传输这些文件：那么我没有问题！它缓冲整部电影，但不会耗尽内存。如果我从原始站点（我们的视频共享站点）流式传输它们，它只会耗尽内存。URL 位于 github 项目中。

我真的很期待任何可能导致这种情况的提示。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T20:12:45.490

这个问题确实是由于从 Wowza 媒体服务器发送的视频流缺少音轨造成的。（我从您的流 URL 中推断出您正在使用 Wowza 媒体服务器来流式传输您的视频）。

为了验证这个问题，我创建了一个没有音轨的 5 分钟视频文件。

```
mplayer -nolirc -vo null -ao null -frames 0 -identify test_60.mp4
...
Opening video decoder: [ffmpeg] FFmpeg's libavcodec codec family
Selected video codec: [ffh264] vfm: ffmpeg (FFmpeg H.264)
==========================================================================
ID_VIDEO_CODEC=ffh264
Audio: no sound
Starting playback...
... 
```

然后我使用 mp4box 在该视频文件中添加了一个 mp3 音轨。

```
MP4Box -new -add test_60.mp4 -add test_music.mp3 test_60_music.mp4 
```

并验证确实有音轨。

```
mplayer -nolirc -vo null -ao null -frames 0 -identify /tmp/test_60_music.mp4
...
AUDIO: 44100 Hz, 2 ch, floatle, 320.0 kbit/11.34% (ratio: 40000->352800)
ID_AUDIO_BITRATE=320000
ID_AUDIO_RATE=44100
ID_AUDIO_NCH=2
Selected audio codec: [ffmp3float] afm: ffmpeg (FFmpeg MPEG layer-3 audio)
==========================================================================
AO: [null] 44100Hz 2ch floatle (4 bytes per sample)
ID_AUDIO_CODEC=ffmp3float
Starting playback...
... 
```

然后，我将 test_60.mp4 和 test_60_music.mp4 都放在了 Wowza 内容目录中，并对其进行了测试。实际上，我编写了一个与您类似的小型测试应用程序来检查loadedTimeRanges，但只需从设备通过safari 加载视频就足以看出差异。

我打开 wowza_server:1935/vod/mp4:test_60.mp4/playlist.m3u8 并在它开始播放时按下暂停。缓冲区指示器不断增加，直到加载完整的 5 分钟视频。

然后，我打开 wowza_server:1935/vod/mp4:test_60_music.mp4/playlist.m3u8 并做了同样的事情，但只加载了前 1/5（大约 1 分钟）。

所以这似乎是 Wowza 服务器的数据包化问题 - 请注意，在 adobe (flash) 媒体服务器 5.0 上我不会发生这个问题。无论视频是否包含音轨，仅缓冲 60 秒。

希望这会有所帮助。[我已经在Wowza 论坛上](http://www.wowza.com/forums/showthread.php?20142-Infinite-buffering-for-%2asome%2a-videos-not-others)征求过 Wowza 人的意见

# java - 从struts控件读取excel文件扩展名

> ID：10909111
> 
> 赞同：0
> 
> 时间：2012-06-06T06:23:01.703
> 
> 标签：java, struts2, apache-poi

我想读取使用选择的 excel 文件的内容。我正在使用 POI 3.8。问题是我无法确定这个文件是 xls 还是 xlsx。请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T13:22:11.303

为什么你需要知道？

只需使用[WorkbookFactory](http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/WorkbookFactory.html)加载 excel 文件，它就会为您自动检测。然后您不需要知道，您的代码在两种文件格式之间保持完全通用。

# android - 我想通过 adb 启用备份

> ID：10909114
> 
> 赞同：0
> 
> 时间：2012-06-06T06:23:19.013
> 
> 标签：android, eclipse

我是安卓新手。我想做“使用SDK工具/路径中的以下命令启用备份：adb shell bmgr enable true”

请帮助我如何做到这一点。

我已经在 cmd bt 中尝试过它给了我这个错误

C:\Program Files\Android\Android-sdk\tools>adb shell 'adb' 不是内部或外部命令、可运行程序或批处理文件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:53:36.907

//你可以在你的工具文件夹中罚款一个adb_has_moved.txt

```
The adb tool has moved to platform-tools/

If you don't see this directory in your SDK,
launch the SDK and AVD Manager (execute the android tool)
and install "Android SDK Platform-tools"

Please also update your PATH environment variable to
include the platform-tools/ directory, so you can
execute adb from any location. 
```

[如何在windows中设置adb路径：](http://www.villainrom.co.uk/forum/threads/guide-setting-up-adb-and-how-to-use-it-windows.1655/)

# ios - 无法从 cron 选项卡在模拟器上运行脚本

> ID：10909115
> 
> 赞同：0
> 
> 时间：2012-06-06T06:23:20.443
> 
> 标签：ios, crontab, sikuli

我们在 MAC OSX 10.7.3 上使用 sikuli 工具进行移动自动化我已经编写了一个 shell 脚本来打开模拟器并在模拟器上运行脚本

```
/Users/ezprintsqa/Downloads/FoneMonkey/bin/iphonesim launch              /Users/ezprintsqa/Documents/Xcode/DerivedData/SnapCards-   btmjdowsgmixpvdyfxfvhxtoihab/Build/Products/Debug-iphonesimulator/SnapCardsFoneMonkey.app&

/Users/ezprintsqa/Downloads/Sikuli-IDE.app/sikuli-ide.sh -r /Users/ezprintsqa/Downloads/SikuliWorkSpace/SnapcardsTestSuite1.sikuli 
```

当我从命令行执行时，我可以看到模拟器打开并且脚本在模拟器上执行。但是当我使用 cron 选项卡做同样的事情时，我只能看到模拟器打开，但该工具现在无法识别模拟器来运行脚本，该工具会抛出无法识别模拟器的错误消息。

当该工具在从命令提示符运行时能够识别模拟器时，为什么它在从 crontab 运行时无法识别？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T09:46:01.107

您是说：该工具会抛出无法识别模拟器的错误消息。

我是否理解正确，脚本抛出 FindFailed 异常，意思是在 3 秒的标准等待时间内在屏幕上找不到某些图像（可能是模拟器窗口的视觉识别）？

我是这种情况，你应该给模拟器更多的时间在 crontab 的情况下启动，或者通过在 Sikuli 脚本的开头添加一个 wait(n) 或者使用 wait(image, n) 来等待更长时间要出现的图像

# iphone - 为什么我的 Objective-C 代码抛出异常？

> ID：10909120
> 
> 赞同：0
> 
> 时间：2012-06-06T06:23:44.370
> 
> 标签：iphone, objective-c, ios, xcode, ios4

我是 Objective-C 的新手，我正在尝试编写一个 iPhone 应用程序。

这是我的代码：

头文件：

```
#import <UIKit/UIKit.h>

@interface TutorialViewController : UIViewController{
    UILabel *labelText;
    UIImageView *imageView;
}
@property(nonatomic,retain) IBOutlet UILabel *labelText;
@property(nonatomic,retain) IBOutlet UIImageView *imageView;

-(IBAction) click:(id) sender;

@end 
```

这是实现：

```
#import "TutorialViewController.h"

@implementation TutorialViewController
@synthesize labelText;
@synthesize imageView;

-(void) click:(id)sender {
    imageView = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"1.png"]];
    NSString *titleOfButton = [sender titleForState:UIControlStateNormal];
    NSString *newText = [[NSString alloc]initWithFormat:@"%@",titleOfButton];
    // Change Image When Clicking Color Button
    if([titleOfButton isEqualToString:@"Blue"]){
        NSLog(@"Blue");
        UIImage *image = [UIImage imageNamed:@"1.png"];
        imageView.image = image;
        [image release];
    }else{
        UIImage *image = [UIImage imageNamed:@"2.png"];
        imageView.image = image;
        [image release];
        NSLog(@"Else");
    }
    labelText.text = newText;
    [newText release];
}
- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
}
#pragma mark - View lifecycle
- (void)viewDidUnload
{
    [super viewDidUnload];
    self.labelText = nil;
}
-(void) dealloc{
    [labelText release];
    [imageView release];
    [super dealloc];
}
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return (interfaceOrientation == UIInterfaceOrientationPortrait);
}

@end 
```

当我启动应用程序时，它会引发异常：

```
'NSInternalInconsistencyException', reason: '-[UIViewController _loadViewFromNibNamed:bundle:] loaded the "TutorialViewController" nib but the view outlet was not set.' 
```

任何人都可以帮我处理我的代码吗？

另外，你能告诉我我的代码中那些糟糕的书面行为吗？

非常感谢 ！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T06:27:58.143

`UIView`将Xib 中的根连接到文件所有者的视图。

![在此处输入图像描述](../Images/eee516db06ebba9766c871a47553824b.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T06:31:48.077

打开您的 .xib 文件，然后在 Objects 中单击 View，然后单击 Connections Inspector，然后从那里 Control + 单击 Reference Outlets 中的圆圈并将其拖到 File's Owner 并从弹出菜单中选择 view ... . :)

![连接插座](../Images/f4c9dd312f7044156693643faf8ff882.png)

```
EDIT: 
```

您的视图是主 UIVIEW，无论您在其中放置还是在层次结构中放置的任何内容都将自动显示。正如您在其中使用了 UIImageView 一样（您可以在 Objects 中看到视图和对象的层次结构，在 PlaceHolders 下的左侧到 xib 列）。当您将 UIView（父视图）连接到文件的所有者时。它显示了包含在主视图中的所有其他视图。因此，当您将主视图与 File's Owner 连接时，它解决了您的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T06:27:50.893

好吧，错误消息似乎很清楚：

> 加载了“TutorialViewController”笔尖，但未设置视图出口。

检查 TutorialViewController 笔尖上的插座。似乎视图插座没有连接到任何东西。要修复它，请将您的顶级视图连接到插座（控制拖动）。

# android - 如何使用 AutoCompleteTextView 下拉列表中的已选择项？

> ID：10909125
> 
> 赞同：0
> 
> 时间：2012-06-06T06:24:17.100
> 
> 标签：android

朋友们，我正在使用 AutoCompleteTextView。建议：

```
String[] recipes={ "Fish", "Chicken", "Mutton"}; 
```

我该怎么做呢：

当我从下拉列表中选择一个项目时，它会转到另一个事件吗？

例如，我输入*Fi*，它会从下拉列表中出现*Fish*，然后我选择 Fish ，它会转到**另一个 Activity**。

```
package net.learn2develop.Activities;

import android.app.Activity;
import android.os.Bundle;
import android.widget.ArrayAdapter;
import android.widget.AutoCompleteTextView;
import android.widget.AdapterView.OnItemSelectedListener;
import android.widget.AdapterView;
import android.view.View;
import android.content.Intent;

public class AutoCompleteTextActivity extends Activity {

String[] recipes ={
        "Nasi Lemak With Ikan Bilis",
        "Steamed Cod Fish"
};
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,              android.R.layout.simple_dropdown_item_1line, recipes);

    AutoCompleteTextView textView = (AutoCompleteTextView)    findViewById(R.id.txtRecipes);

    textView.setThreshold(3);
    textView.setAdapter(adapter);

    textView.setOnItemSelectedListener(new OnItemClickListener(){
        public void onItemClick(AdapterView<?> av, View view, int index, long id){

             Intent i=new Intent(this,Activity2.class);
             i.putExtra("item",recipes[index]);
             StartActivity(i);
        }

    });
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:33:02.910

您可以使用实现 TextWatcher 的类并覆盖以下方法：

```
 @Override
        public void afterTextChanged(final Editable editable) {
            // check if entered text is "fish" and if yes then start the new activity.
        }

        @Override
        public void beforeTextChanged(final CharSequence string,
                final int start, final int count, final int after) {
        }

        @Override
        public void onTextChanged(final CharSequence string, final int start,
                final int before, final int count) {
        }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:34:10.123

receipesBelow Snippet 会帮助你。

```
autoCompleteTextView.setOnItemSelectedListener(new OnItemSelectedListener()
            {

                @Override
                public void onItemSelected(AdapterView<?> av, View view,
                        int index, long id)
                {
                    //index will give you item which you selected
                                    Now start another activity here
                                    Intent i=new Intent(context,SecondActivity.class);
                                    i.putExtra("item",recipes[index]);
                                    StartActivity(i);

                }

                @Override
                public void onNothingSelected(AdapterView<?> arg0)
                {
                    // TODO Auto-generated method stub

                }
            }) 
```

**SecondActivity.java**

您可以检索该值是 onCreate 如下

```
String selectedItem=getIntent().getStringExtra("item"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-01-09T09:38:13.043

您应该使用`setOnItemClickListener`而不是`setOnItemSelectedListener`.

# ruby - 为什么不调用模块初始化方法？

> ID：10909126
> 
> 赞同：10
> 
> 时间：2012-06-06T06:24:20.557
> 
> 标签：ruby

为什么这个模块的`initialize`方法在包含在类中时没有被调用`Temp`？

```
module Temp
  def initialize
    p "asdasd"
  end
end

class Swap
  include Temp
  def initialize
    p "m in class"
  end
end

s = Swap.new 
```

> 米在课堂上

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-06T08:09:03.263

该类`Swap`覆盖模块`initialize`中定义的方法。`Temp`当 Ruby 试图找到一个方法时，它会从最派生的类/模块开始搜索继承层次结构。在这种情况下，搜索在 Swap 类结束。

除非您使用`super`. 例如

```
class Swap
  include Temp
  def initialize
    p "m in  class"
    super
  end
end 
```

`Temp#initialize`将从调用`Swap#initialize`。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-06-06T08:09:37.887

因为您在类和模块中都定义了初始化，Ruby 会在移动到其他类/模块之前在其自己的类中查找方法。

要查看祖先链，试试这个

```
s = Swap.new
puts s.class.ancestors 
```

您将看到链，并知道 Ruby 从哪里开始找到它的功能。

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2012-06-06T08:10:54.877

它只调用范围内的构造函数。

如果你想调用模块初始化方法，你必须像这样直接调用它。

```
module Temp
  def self.initialize
    p "asdasd"
  end
end

class Swap
  include Temp
  def initialize
    p "m in class"
    Temp.initialize
  end
end

s = Swap.new 
```

# regex - Perl：为什么 eval '/(...)/' 不设置 $1？

> ID：10909127
> 
> 赞同：13
> 
> 时间：2012-06-06T06:24:31.437
> 
> 标签：regex, perl, eval

如果在 eval 内部发生正则表达式匹配，则对捕获相关变量（$1 等）的更改在外部环境中不可见。这是一个错误吗？

*perlop*和*perlre*似乎没有提到任何这样的限制。

例如：

```
 use strict; use warnings;
 $_ = "hello";
 eval '/(.*)/';
 print "GOT: $1\n"; 
```

给出：

```
Use of uninitialized value $1 in concatenation (.) or string at -e line 1.
GOT: 
```

一个更简洁的演示是：

```
perl -we '$_="foo"; eval q(/(.*)/;) ; print "GOT:$1\n";' 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-06T06:54:22.907

文档证明`local`ized 变量是这里的问题在[`perlvar`5.14.0 中](http://perldoc.perl.org/5.14.0/perlvar.html#Variables-related-to-regular-expressions)：

> 除非我们另有说明，否则这些变量是只读的和动态范围的。
> 
> 正则表达式变量的动态特性意味着它们的值仅限于它们所在的块 [...]

请注意，[5.12.4 perldoc 中没有](http://perldoc.perl.org/5.12.4/perlvar.html)这部分文档。

* * *

问题是`local`化变量。[`perldoc -f eval`我的(5.12.4)](http://perldoc.perl.org/5.12.4/functions/eval.html)副本有这样的说法：

```
The assignment to $@ occurs before restoration of localised
variables, which means a temporary is required if you want to
mask some but not all errors: [...] 
```

联机帮助页并未对所有此类特殊全局变量（如 、 和可能的其他变量）做出明确声明`$1`，`$&`但此处似乎发生了块本地化和随后的恢复。

变量被分配到内部，一旦离开块`eval`，原始值就会恢复。`eval`

```
use strict; use warnings;
use Test::More;
use constant V => 'hello';

$_ = V;

note '*** block eval';
eval {
        is $_, V, 'input ok';
        /(.*)/;
        is $&, V, 'in eval'; is $1, V, 'in eval';
};
is $&, V, 'after eval'; is $1, V, 'after eval';

note '*** without eval';
is $_, V, 'input ok';
/(.*)/;
is $&, V; is $1, V;

done_testing; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T09:05:49.637

实际问题已经得到解答，所以这里是您如何完成任务的答案。

只需使用 eval 的返回值，而后者又使用 match 运算符的返回值。`$1`糟透了，避免。

```
use strict; use warnings;
$_ = "hello";
my @r = eval '/(.*)/';
# (
#     "hello"
# ) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-06T06:34:33.930

在 eval 中声明的任何词法变量都将在 eval 结束后丢失。

# clojure - clojure 按需要求

> ID：10909129
> 
> 赞同：3
> 
> 时间：2012-06-06T06:24:51.767
> 
> 标签：clojure, require

有没有办法将“要求”放在需要的地方，例如在函数中。像这样的东西：

`(defn fun [x] (do (require 'clojure.string) ('clojure.string/split x #"\s")) )`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:59:58.180

是的。这是。

```
(defn foo
  [x]
  (require 'clojure.string)
  ((resolve 'clojure-string/split) x #"\s")) 
```

# php - 下载 Web 根目录以上的文件并列出它们

> ID：10909131
> 
> 赞同：0
> 
> 时间：2012-06-06T06:25:00.400
> 
> 标签：php, directory, download, symlink

我正在尝试制作一个 php 脚本来列出我的 web 目录上方的文件夹的文件...我遵循我在这里找到的一个小东西，它谈到了

指向 /var/uploads 的符号链接

Apache Alias 指令 Alias /uploads /var/uploads

这两个我都做了。

$myDirectory = opendir("/var/stuff/stuff/");

当我进入winscp并单击该文件夹时，该目录链接到它会将我定向到它....当我运行我的脚本以列出/var/stuff/stuff/中的所有文件时，它会列出/home/中的内容东西/东西。

问题是当我单击它生成的链接时，我在服务器上找不到请求的 URL /stuff 在此服务器上找不到。

有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T17:22:28.447

由于文件不在根目录下，您将无法直接下载它们，但您可以使用创建下载器网关来解决此问题。

我会解释：

> 1.  在您的应用程序的某处创建一个 php 脚本，我们称之为**downloader.php**
> 2.  下载器脚本会得到一个参数，比如说：文件名
> 3.  现在我们可以像这样调用脚本：***`http://YOUR-URL/downloder.php?filename=file-to-download`***
> 4.  在您的*downloader.php*文件中，您可以获得文件名，从文件系统中读取它，然后通过输出其内容并配置正确的标题来强制下载它

我不确定您是否仍然需要它，但是，如果您需要更多帮助，我可以通过一些代码示例为您提供更多帮助

* * *

理想情况下，您可以使用 .htaccess 隐藏您的下载器网关脚本

# android - 向活动发送日期。

> ID：10909133
> 
> 赞同：2
> 
> 时间：2012-06-06T06:25:06.477
> 
> 标签：android, android-intent

我将整数和序列化对象移动到另一个活动，但现在我坚持将 java.util.Date 移动到我的活动，这听起来没什么，但如果我会在这里得到答案。

这可能是网络上的第一个。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T06:28:09.260

从当前活动：

```
Intent intent = new Intent(this, NextActivity.class);
intent.putExtra("date", dateObj.getTime());
startActivity(intent); 
```

从下一个活动开始：

```
Date dateObj = new Date(getIntent().getExtras().getLongExtra("date", -1)); 
```

您应该将时间作为`long`值传递并将其转换回其他活动，以避免从不同设备上的字符串问题解析日期。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:30:42.653

在 calle 类中尝试：

```
Intent intent = getIntent();
intent.putExtra("Date",dateSelected);
setResult(RESULT_OK, intent);
finish(); 
```

并且，在新活动中：

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
  if(resultCode==RESULT_OK && requestCode==1) {
    Bundle mBundle = data.getExtras();
    String mMessage = mBundle .getString("Date");
  }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T06:35:11.823

这就是我结束问题的方式

```
Intent i = new Intent(this, EventListActivity.class);
    i.putExtra("date",date);
    startActivityForResult(i, Intent.EXTRA_DOCK_STATE_DESK); 
```

和得到：

```
Date date = (Date) this.getIntent().getExtras().get("date"); 
```

看起来它有效，你怎么想，最好的方法是什么？

# windows-search - 如何调试 Windows Search 属性处理程序

> ID：10909137
> 
> 赞同：2
> 
> 时间：2012-06-06T06:25:37.123
> 
> 标签：windows-search

我正在维护一个 Windows Search 属性处理程序项目，它由 SearchFilterHost.exe 加载。不知道SearchFilterHost.exe什么时候会启动，不知道命令行参数的用法，而且我发现SearchFilterHost.exe启动后一两分钟就会退出，所以很难用调试器来附加进程调试它加载的 DLL。

如何调试 Windows Search 属性处理程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-01-12T17:22:04.837

[MSDN 中的调试协议处理程序](http://msdn.microsoft.com/en-us/library/windows/desktop/cc678934(v=vs.85).aspx)讨论了如何执行此操作。它涉及添加注册表项以使 SearchIndexer 和 SearchFilterHost 更易于调试。您可能需要获得注册表分支的所有权才能更改这些值。只需执行第一组就足以让您能够直接附加到 SearchFilterHost。

```
HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft
   Windows Search
      Gathering Manager
         DebugFilters = 1
         DisableBackOff = 1           may also be helpful

HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion
   Image File Execution Options
      SearchIndexer.exe
         Debugger = <path to debugger> <debugger options> 

Example using the ntsd debugger  
Debugger = C:\debuggers\ntsd.exe -odGx -c: "sxe ld mydll.dll;g"
Option  Description
-o  Tells ntsd.exe to debug child prcoesses.
-d  Pipes ntsd.exe through the kernel debugger to ensure the debugger is lauched on the right desktop (system context).
-g  Tells ntsd.exe to exit immediately when the child terminates.
-x  Disables first-chance break on access violation exceptions. The second occurrence of an access violation will break into the debugger.
-c  Sets the order of commands passed ntsd.exe. 
```

完成设置后，重新启动 WSearch 服务，调整搜索的文件，然后事情就会发生。

另外，这是[其他人的经验的旧线程](http://blogs.msdn.com/b/ifilter/archive/2006/12/25/chronicles-of-an-ifilter-development-inception-to-deployment.aspx)。除其他外，它讨论了在项目的调试设置中使用[MSDN 工具 IFiltTst 。](http://msdn.microsoft.com/en-us/library/ms692580%28v=vs.85%29.aspx)

```
In your Project properties window, open ‘configuration properties’, ‘debugging’; and enter the following settings:

Debugger to launch:  Local Windows Debugger
Command: C:\<your path here>\IFiltTst.Exe
Command arguments: /i  "D:\<your project test folder>\<good file>.<extention to filter>" /v 3 /t 5 /l /d
Working directory: /i  "D:\<your project test folder>
Attach: No

Leave all other settings as default. 
```

这两种方法都需要注册您的 DLL，以便通过搜索找到它。

# iphone - Iphone视图触摸问题

> ID：10909145
> 
> 赞同：1
> 
> 时间：2012-06-06T06:26:39.267
> 
> 标签：iphone, ipad

我在我的应用程序中的 iphone 中查看触摸有问题，我的应用程序
的底部没有执行以下操作。
![在此处输入图像描述](../Images/85746851eb0bf81985d61be7a3d0989f.png)

![在此处输入图像描述](../Images/2d9a4ad96416a2ac3a94980ed0d2ef9f.png)

这是两张图片，所以你可以得到这个想法。我无法与这个底部进行交互。在我的应用程序的所有视图中。
有人面临这个问题吗？
提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T12:14:48.697

好的，我解决了问题

如果有人面临同样的问题，我只需处理以下事项：

1) 使父视图的 Autosizing 属性为 true，如下所示：
![在此处输入图像描述](../Images/93109a7e1f0f047fba48cae1c45a3049.png)

您可以在尺寸检查器中找到它。
2）对于子视图，只需执行此操作。

```
 self.vwTextFont.clipsToBounds=YES; 
```

这`vwTextFont`是我`tableview`的，正如您在上图中的问题部分所见，它的父视图是`vwTabBar`.

所以我执行第一步 to`vwTabBar`和第二步 to `vwTextFont`。
希望这会有所帮助。

# proxy - cglib 是否在内存字节码或物理类中创建用于实现代理？

> ID：10909151
> 
> 赞同：1
> 
> 时间：2012-06-06T06:27:02.707
> 
> 标签：proxy, instrumentation, cglib

CGLIB 是非常流行的实现，用于实现代理机制。我很想知道，要代理一个特定的类，CGLIB 会创建其子类的内存实现，还是创建物理字节码然后实例化该类？

如果它在内存实现中创建，那么这样做会带来多少开销。我试图在 CGLIB 文档中找到此详细信息，但它没有指定或可能已被我跳过。

对于 javaassist 库，可能会问同样的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-13T22:48:39.620

嗯，首先，cglib 提供了完全独立的完全不同的类。

但是，据我所知，截至今天，cglib 通过使用 ASM 读取类的字节码并通过 ASM ClassVisitor 等“动态”操作它来在内存中创建类。也就是说，cglib 使用 ASM 的访问者API 而不是它的内存密集型树 API。然后直接加载生成的类。这是关于它可以通过字节检测获得多快。

基本上，cglib 可以做 ASM 可以做的所有事情。ASM 有很好的记录：http: [//download.forge.objectweb.org/asm/asm4-guide.pdf](http://download.forge.objectweb.org/asm/asm4-guide.pdf)

如果你有兴趣，我在这里写了一篇关于cglib的总结：http: [//mydailyjava.blogspot.no/2013/11/cglib-missing-manual.html](http://mydailyjava.blogspot.no/2013/11/cglib-missing-manual.html)

# asp.net - ASP.NET/C# 我应该在哪里使用属性声明会话？

> ID：10909155
> 
> 赞同：0
> 
> 时间：2012-06-06T06:27:36.313
> 
> 标签：asp.net, session

网络专家，

我有一个 ASP.NET MVP（模型视图演示器）应用程序，我在其中使用 GenMaster.Master（母版页）、Metadata.aspx（起始页）、Global.asax 等。

我正在访问`Session["EncryptedQuery"]`GenMaster.Master（母版页）和 Metadata.aspx（起始页）。

我们的 Session 声明约定是使用如下属性：

```
public string EncryptedQuery
{
   get
    {
       object SessionObject = Session["EncryptedQuery"];
       return (SessionObject == null) ? String.Empty : (string)SessionObject;
    }
   set
    {
        Session["EncryptedQuery"] = value;
    }
} 
```

现在，我应该在哪里声明这个 Session 属性以在 Master 以及所有内容页面中访问它？而且我不想直接分配/检索到/从 `Session["EncryptedQuery"]`。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:50:33.140

这种策略效果很好，并允许从站点中的任何地方以强类型的方式访问会话数据。

```
public static class SessionData
{
    private const string ENCRPYTED_QUERY = "ENCRPYTED_QUERY";
    public static string EncrpytedQuery
    {
        get
        {
            if (HttpContext.Current.Session != null)
                return HttpContext.Current.Session[ENCRPYTED_QUERY] as string;

            return null;
        }
        set
        {
            HttpContext.Current.Session[ENCRPYTED_QUERY] = value;
        }
    }

    //add more down here...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:33:03.400

MasterPage 被实现为页面的子控件。您应该能够`Page.Session`从 MasterPage 访问它。

我刚刚注意到您可能一直在问在哪里*分配*属性，而不是在哪里*声明*它。因此，如果您要问在哪里初始化 Session 数据的最佳实践是什么，那么答案将是课程的[`PostAcquireRequestState`事件](http://msdn.microsoft.com/en-us/library/system.web.httpapplication_events.aspx)`HttpApplication`。您可以在 Global.asax 中声明它，或者使用自定义 HTTP 模块将其连接起来。

# .htaccess - 骨干路由器不适用于 pushState

> ID：10909157
> 
> 赞同：10
> 
> 时间：2012-06-06T06:27:49.673
> 
> 标签：.htaccess, backbone.js, requirejs, router, pushstate

我想让每个页面请求重定向到我的`index.html`，并且在我的应用程序中单击的任何链接**（不是#urls - /real/urls）**都可以运行，`router.js`因此基本上没有页面刷新 - 纯粹是 ajax。有没有一种简单的方法可以使用 Backbone 路由和 htaccess 来做到这一点？

如果我删除`{pushState: true}`并格式化我的链接，我现在可以正常工作`#login`。但是，当我启用`pushState`并单击 时`#login`，什么也没有发生。相反，只有在我刷新页面时，Backbone 才会解释`#login`并遵循渲染的路线`loginView`。

这是我的路由器：

```
// Filename: router.js
define( [ 'views/beta/requestInvite', 'views/beta/login' ],
function(requestInviteView, loginView) {
    var AppRouter = Backbone.Router.extend( {
        routes : {
            // Pages
            'login' : 'login',

            // Default
            '*actions' : 'defaultAction'
        },

        // Pages
        login : function() {
            loginView.render();
        },

        defaultAction : function(actions) {
            requestInviteView.render();
        }
    });

    var initialize = function() {
        var app_router = new AppRouter;
        Backbone.history.start({pushState: true});
    };
    return {
        initialize : initialize
    };
}); 
```

我想要发生的是`requestInviteView`，当`/login`点击链接时，url 更改为`/login`并`loginView`呈现。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-06T16:41:25.843

从哈希更改为推送状态并不像人们想象的那样更改单个参数那么简单。我所做的是在我的视图中捕获点击事件并调用 app.navigate 来触发路由。

```
app.navigate("/login", {trigger: true}); 
```

[http://backbonejs.org/#Router-navigate](http://backbonejs.org/#Router-navigate)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-05-20T17:58:41.027

虽然 Anthony 的回答会奏效，但使用`trigger: true`通常不是最好的做法。相反，您的应用程序应该结构化，以便您可以使用左侧`navigate`的默认值调用.`trigger``false`

[Derick Bailey 在他的博客http://lostechies.com/derickbailey/2011/08/28/dont-execute-a-backbone-js-route-handler-from-your-code/](http://lostechies.com/derickbailey/2011/08/28/dont-execute-a-backbone-js-route-handler-from-your-code/)上谈到了这个问题（“The “啊哈！” 关于 Router.Navigate 的第二个参数的时刻“）

此外，更详细地解释路由的整个章节（包括为什么要离开`trigger`）`false`可以在此 pdf 书籍样本中免费下载：http: [//samples.leanpub.com/marionette-gentle-introduction-sample.pdf](http://samples.leanpub.com/marionette-gentle-introduction-sample.pdf)（全面披露：我是本书作者）

# sql - 联合查询结果的性能

> ID：10909162
> 
> 赞同：1
> 
> 时间：2012-06-06T06:28:02.893
> 
> 标签：sql, performance, optimization, query-optimization, union

我有两个存储用户数据的表，一个用于内部用户，另一个用于外部用户。两个用户都会买一本书，所以我有下面的 sql 脚本

```
select o.orderid, o.orderdate, u.firstname, u.lastname from OrderTable o inner join 
(
  select inneruser_id as uid, firstname, lastname from innerUser where len(firstname) > 0 or len(lastname) > 0
  union
  select external_id as uid, firstname, lastname from externalUser where len(firstname) > 0 or len(lastname) > 0
) u on u.uid = o.userId where o.orderdate > {0} 
```

对于innerUser表，innneruser_id是主键，而external_id不是externalUser表的主键，我想知道union的结果是否还在u.uid上有索引，因为内部用户超过20万，外部用户约10万.

我是否需要向 external_id 添加索引，这会提高查询的性能吗？我很感激任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:31:11.820

可能，但它看起来像向 , 和 中添加索引`u.uid`，`o.userId`并且`o.orderdate`更有可能提高性能，因为它们涉及连接和过滤。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:18:54.970

在管理工作室中运行您的查询，并打开“包括实际执行计划”选项。

并按照它的建议来提高性能。

# lua - 电晕中的碰撞检测

> ID：10909166
> 
> 赞同：0
> 
> 时间：2012-06-06T06:28:13.577
> 
> 标签：lua, collision-detection, coronasdk

我试图在碰撞时将我的一个物理体移动到不同的 xAxis

```
local function onCollision(self,event)
            if event.other.name == "block" then
                if  (event.other.x - self.x) > 210 then
                    self:removeSelf()
                    self = nil
                    transition.cancel( event.other.move )
                    event.other:removeSelf()
                    event.other = nil
                    gameOver()
                else
                    print("else")
                    transition.cancel( event.other.move )
                    event.other.x = 1024
                    updateScore(1)
                end
            end
        end
        ball.collision = onCollision
        ball("collision",ball) 
```

但它是说

```
"Cannot translate an object before collision is resolved" 
```

我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T17:29:09.683

如果要移动碰撞对象，则必须提供帧延迟。

代替

```
 event.other.x = 1024 
```

和

```
local translateObject = function()  event.other.x = 1024 end
timer.performWithDelay(1,translateObject,1) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-18T12:04:07.840

transition.to(ball, {x = object.x, y= object.x, time=0})

我找到了问题的答案。

# c# - 在 Web 服务中使用多个数据库

> ID：10909167
> 
> 赞同：0
> 
> 时间：2012-06-06T06:28:23.707
> 
> 标签：c#, asp.net, database, web-services

我的问题是：我有一个使用 ASP.net 和 Web 服务构建的 Web 应用程序。Web 服务必须使用不同的数据库，具体取决于登录的客户端。

是否有一个简单而优雅的解决方案来做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:44:58.173

1.  您可以通过在每个服务请求中传递客户端凭据来检查它。

2.  在调用任何 Web 方法之前，要求客户端使用凭据调用 init(id,pass,...) 方法。您还可以在 Init 中请求可选设置，根据输入，您可以为客户端提供访问令牌并让客户端将此访问令牌传递给每个请求，您可以检查此访问令牌并解析设置以采取行动，即调用特定数据库联系。Facebook api 以类似的方式工作。

# extjs - 如何在 Extjs 4.1 上使用组件查询从组件中获取插件？

> ID：10909168
> 
> 赞同：0
> 
> 时间：2012-06-06T06:28:24.630
> 
> 标签：extjs, extjs4, extjs-mvc

我想在 Controller.like [http://docs.sencha.com/ext-js/4-1/#!/api/Ext.app.Controller](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.app.Controller)上的插件中添加事件侦听 器使用组件查询获取插件似乎不同于正常成分。是否可以使用组件查询从组件中获取插件？

这是我的组件

```
Ext.define('App.view.file.List',{
     rootVisible: false, 
     extend:'Ext.tree.Panel',
     alias:'widget.filelist',
     viewConfig: {
        plugins: {
            ptype: 'treeviewdragdrop', 
            allowParentInsert:true 
        }
    },
    //etc ... 
```

我可以使用组件查询获取**treeviewdragdrop插件吗**

```
Ext.define('App.controller.FileManagement', {
    extend:'Ext.app.Controller',
    stores:['Folder'],
    views:['file.List','file.FileManagement'],
    refs:[
        { ref:'fileList', selector:'filelist' }
    ],
    init:function () {
        this.control({  
            'filelist > treeviewdragdrop':{drop:this.drop}  // <-- here is selector
        });
    },
    // etc .... 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T14:49:54.430

你不能因为插件不是组件，因此没有选择器会找到它。

Also, the drop event is fired by the treeview, so the treeview is really what you want to hook to.

This will work:

```
init:function () {
    this.control({  
        'filelist > treeview': {drop:this.drop}
    });
}, 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T14:08:15.827

没有直接的方法可以做到这一点。如果我站在你的立场上，我可能会在插件触发其事件时让树触发所需的事件：

```
// view
Ext.define('App.view.file.List',{
     // ...
     viewConfig: {
        plugins: {
            ptype: 'treeviewdragdrop',
            pluginId: 'treeviewdragdrop', // <-- id is needed for plugin retrieval
            allowParentInsert:true 
        }
    },
    initComponent: funcion() {
      var me = this;
      me.addEvents('viewdrop');
      me.callParent(arguments);
      me.getPlugin('treeviewdragdrop').on('drop', function(node, data, overModel, dropPosition, eOpts) {
        // when plugin fires "drop" event the tree fires its own "viewdrop" event
        // which may be handled via ComponentQuery
        me.fireEvent('viewdrop', node, data, overModel, dropPosition, eOpts);
      });
    },
    // ... 
```

控制器：

```
// controller
Ext.define('App.controller.FileManagement', {
    // ...
    init:function () {
        this.control({  
            'filelist':{viewdrop:this.drop}  // <-- here is selector
        });
    },
    // etc .... 
```

# ruby-on-rails-3 - 为 auto_html 创建过滤器

> ID：10909172
> 
> 赞同：7
> 
> 时间：2012-06-06T06:29:02.100
> 
> 标签：ruby-on-rails-3

我想为 auto_html 创建一个自定义过滤器。我应该把过滤器放在哪里以便我可以使用它？该文档没有涉及任何内容。谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-11T17:49:46.117

我采用的方法是将代码添加到初始化文件中，例如：

**/path/to/your/application/config/initializers/auto_html.rb**

然后你可以写如下内容：

```
AutoHtml.add_filter(:change_colours).with({}) do |text, options|
  text.gsub("#FF0000", "#00FF00")
end 
```

并调用`auto_html(input) { change_colours }`你的模型。空哈希将采用您关心的任何选项传递给过滤器。

# java - 为什么注释处理在 Maven 构建期间运行多次

> ID：10909173
> 
> 赞同：2
> 
> 时间：2012-06-06T06:29:05.667
> 
> 标签：java, gwt, maven, apt

我目前正在使用java注释处理来生成大量代码（20秒），当我运行`mvn process-resources`它时它只会触发一次，但是当我使用时`mvn package`，`mvn jetty:run`或者`mvn gwt:run`在打包war之后再次触发apt。有没有办法强制 apt 只运行一次？

我的 pom.xml 中有个人资料

```
<profile>
    <id>codegen</id>
    <activation>
        <activeByDefault>false</activeByDefault>
        <file>
            <exists>src/main/resources/META-INF</exists>
        </file>
    </activation>
    <dependencies>
        <dependency>
            <groupId>com.regulationworks.core.code-gen</groupId>
            <artifactId>executor</artifactId>
            <scope>provided</scope>
        </dependency>
    </dependencies>
    <build>
        <plugins>
            <plugin>
                <groupId>org.bsc.maven</groupId>
                <artifactId>maven-processor-plugin</artifactId>
                <version>2.0.5</version>
                <executions>
                    <execution>
                        <id>generate-jpa-metamodel</id>
                        <goals>
                            <goal>process</goal>
                        </goals>
                        <phase>generate-sources</phase>
                        <configuration>
                            <processors>
                                <processor>org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor</processor>
                            </processors>
                            <outputDirectory>${project.build.directory}/generated-sources/metamodel</outputDirectory>
                        </configuration>
                    </execution>
                    <execution>
                        <id>generate-gwt-jpa-proxies</id>
                        <goals>
                            <goal>process</goal>
                        </goals>
                        <phase>generate-sources</phase>
                        <configuration>
                            <processors>
                                <processor>org.hibernate.gwtmodelgen.GwtProxyModelEntityProcessor</processor>
                            </processors>
                            <outputDirectory>${project.build.directory}/generated-sources/entity-proxies</outputDirectory>
                        </configuration>
                    </execution>

                    <execution>
                        <id>code-gen-executor</id>
                        <goals>
                            <goal>process</goal>
                        </goals>
                        <phase>generate-sources</phase>
                        <configuration>
                            <processors>
                                <processor>com.regulationworks.core.gwt.codegen.CodeGenExecutor</processor>
                            </processors>

                            <options>
                                <generateRequestFactory>${core.codegen.requestfactory}</generateRequestFactory>
                                <generateMappingXml>${core.codegen.xmlmapping}</generateMappingXml>
                                <codegen.scaffold>${codegen.scaffold}</codegen.scaffold>
                                <codegen.scaffold.override>${codegen.scaffold.override}</codegen.scaffold.override>
                                <codegen.scaffold.classes>${codegen.scaffold.classes}</codegen.scaffold.classes>
                                <codegen.commands.class.name>${codegen.commands.class.name}</codegen.commands.class.name>
                            </options>
                        </configuration>
                    </execution>
                    <!--<execution>
                               <id>generate-gwt-rf</id>
                               <goals>
                                   <goal>process</goal>
                               </goals>
                               <phase>process-classes</phase>
                               <configuration>
                                   <processors>
                                       <processor>com.google.web.bindery.requestfactory.apt.RfValidator</processor>
                                   </processors>
                                   <options>
                                   <rootOverride>${core.codegen.rfvalidate}</rootOverride>
                                   </options>
                                   <outputDirectory>${project.build.outputDirectory}</outputDirectory>
                               </configuration>
                           </execution>-->
                </executions>
            </plugin>
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>exec-maven-plugin</artifactId>
                <version>1.2</version>
                <executions>
                    <execution>
                        <phase>process-classes</phase>
                        <configuration>
                            <id>VerifyRequestFactoryInterfaces</id>
                            <executable>java</executable>
                            <arguments>
                                <argument>-cp</argument>
                                <classpath />
                                <argument>com.google.web.bindery.requestfactory.apt.ValidationTool</argument>
                                <argument>${project.build.outputDirectory}</argument>
                                <argument>${core.codegen.rfvalidate}</argument>
                            </arguments>
                            <skip>${core.codegen.rfvalidate}</skip>
                        </configuration>
                        <goals>
                            <goal>exec</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>

        </plugins>
    </build>
</profile> 
```

并且 maven-source-plugin 被配置为“jar-no-fork”（这有助于在运行正常 mvn 安装时删除一次）

```
 <plugin>
        <artifactId>maven-source-plugin</artifactId>
        <version>2.1.2</version>
        <executions>
            <execution>
                <goals>
                    <goal>jar-no-fork</goal>
                </goals>
            </execution>
        </executions>
    </plugin> 
```

这是运行“mvn clean package gwt:run”时控制台中的输出

```
X:\workspace\Decision\decision-app>mvn clean package gwt:run
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building DecisionWorks App 2.0.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The POM for org.opensaml:opensaml:jar:1.1b is missing, no dependency information available
[WARNING] The POM for net.sf.saxon:saxon-dom:jar:8.9 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details
[INFO]
[INFO] --- maven-clean-plugin:2.4.1:clean (default-clean) @ decision-app ---
[INFO] Deleting X:\workspace\Decision\decision-app\target
[INFO]
***********************************************************
 This is where apt executed first time which look right
***********************************************************
[INFO] --- maven-processor-plugin:2.0.5:process (generate-jpa-metamodel) @ decision-app ---
[INFO] Source directory: X:\workspace\Decision\decision-app\target\generated-sources\metamodel added
[INFO] javac option: -cp
[INFO] javac option: ...
[INFO] javac option: -proc:only
[INFO] javac option: -processor
[INFO] javac option: org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor
[INFO] javac option: -d
[INFO] javac option: X:\workspace\Decision\decision-app\target\classes
[INFO] javac option: -s
[INFO] javac option: X:\workspace\Decision\decision-app\target\generated-sources\metamodel
[INFO] diagnostic Note: Hibernate JPA 2 Static-Metamodel Generator 1.0.0.Final
[INFO]
[INFO] --- maven-processor-plugin:2.0.5:process (generate-gwt-jpa-proxies) @ decision-app ---
[INFO] Source directory: X:\workspace\Decision\decision-app\target\generated-sources\entity-proxies added
[INFO] javac option: -cp
[INFO] javac option: ...
[INFO] javac option: -proc:only
[INFO] javac option: -processor
[INFO] javac option: org.hibernate.gwtmodelgen.GwtProxyModelEntityProcessor
[INFO] javac option: -d
[INFO] javac option: X:\workspace\Decision\decision-app\target\classes
[INFO] javac option: -s
[INFO] javac option: X:\workspace\Decision\decision-app\target\generated-sources\entity-proxies
[INFO] diagnostic Note: Hibernate JPA 2 Static-Metamodel Generator 3.7.0-SNAPSHOT
[INFO]
[INFO] --- maven-processor-plugin:2.0.5:process (code-gen-executor) @ decision-app ---
[INFO] Source directory: X:\workspace\Decision\decision-app\target\generated-sources\apt added
[INFO] Adding compiler arg: -Acodegen.scaffold.override=true
[INFO] javac option: -cp
[INFO] javac option: ...
[INFO] javac option: -proc:only
[INFO] javac option: -Acodegen.scaffold.override=true
[INFO] javac option: -processor
[INFO] javac option: com.regulationworks.core.gwt.codegen.CodeGenExecutor
[INFO] javac option: -d
[INFO] javac option: X:\workspace\Decision\decision-app\target\classes
[INFO] javac option: -s
[INFO] javac option: X:\workspace\Decision\decision-app\target\generated-sources\apt
[INFO]
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ decision-app ---
[debug] execute contextualize
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 10 resources
[INFO] Copying 17 resources
[INFO] Copying 80 resources
[INFO]
[INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @ decision-app ---
[INFO] Compiling 260 source files to X:\workspace\Decision\decision-app\target\classes
[INFO]
[INFO] --- exec-maven-plugin:1.2:exec (default) @ decision-app ---
[INFO]
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ decision-app ---
[debug] execute contextualize
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] Copying 3 resources
[INFO] Copying 10 resources
[INFO] Copying 17 resources
[INFO] Copying 80 resources
[INFO]
[INFO] --- maven-compiler-plugin:2.3.2:testCompile (default-testCompile) @ decision-app ---
[INFO] Compiling 3 source files to X:\workspace\Decision\decision-app\target\test-classes
[INFO]
[INFO] --- maven-surefire-plugin:2.9:test (default-test) @ decision-app ---
[INFO] Surefire report directory: X:\workspace\Decision\decision-app\target\surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
...
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.172 sec

Results :

Tests run: 2, Failures: 0, Errors: 0, Skipped: 0

[INFO]
[INFO] --- maven-war-plugin:2.1.1:war (default-war) @ decision-app ---
[INFO] Packaging webapp
[INFO] Assembling webapp [decision-app] in [X:\workspace\Decision\decision-app\target\decision]
[INFO] Processing war project
[INFO] Copying webapp webResources [X:\workspace\Decision\decision-app\target] to [X:\workspace\Decision\decision-app\target\decision]
[INFO] Copying webapp webResources [X:\workspace\Decision\decision-app\src/main/webapp/WEB-INF] to [X:\workspace\Decision\decision-app\target\decision]
[INFO] Copying webapp resources [X:\workspace\Decision\decision-app\src\main\webapp]
[INFO] Processing overlay [ id com.regulationworks.core:document-cmis-plugin-config]
[INFO] Webapp assembled in [10118 msecs]
[INFO] Building war: X:\workspace\Decision\decision-app\target\decision.war
[WARNING] Warning: selected war files include a WEB-INF/web.xml which will be ignored
(webxml attribute is missing from war task, or ignoreWebxml attribute is specified as 'true')
[INFO]
[INFO] --- maven-source-plugin:2.1.2:jar-no-fork (default) @ decision-app ---
[INFO]
[INFO] >>> gwt-maven-plugin:2.3.0:run (default-cli) @ decision-app >>>
***********************************************************
This is where apt executed second time which is a waste of time
***********************************************************
[INFO]
[INFO] --- maven-processor-plugin:2.0.5:process (generate-jpa-metamodel) @ decision-app ---
[INFO] Source directory: X:\workspace\Decision\decision-app\target\generated-sources\metamodel added
[INFO] javac option: -cp
[INFO] javac option: ...
[INFO] javac option: -proc:only
[INFO] javac option: -processor
[INFO] javac option: org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor
[INFO] javac option: -d
[INFO] javac option: X:\workspace\Decision\decision-app\target\classes
[INFO] javac option: -s
[INFO] javac option: X:\workspace\Decision\decision-app\target\generated-sources\metamodel
[INFO] diagnostic Note: Hibernate JPA 2 Static-Metamodel Generator 1.0.0.Final
[INFO]
[INFO] --- maven-processor-plugin:2.0.5:process (generate-gwt-jpa-proxies) @ decision-app ---
[INFO] Source directory: X:\workspace\Decision\decision-app\target\generated-sources\entity-proxies added
[INFO] javac option: -cp
[INFO] javac option: ...
[INFO] javac option: -proc:only
[INFO] javac option: -processor
[INFO] javac option: org.hibernate.gwtmodelgen.GwtProxyModelEntityProcessor
[INFO] javac option: -d
[INFO] javac option: X:\workspace\Decision\decision-app\target\classes
[INFO] javac option: -s
[INFO] javac option: X:\workspace\Decision\decision-app\target\generated-sources\entity-proxies
[INFO] diagnostic Note: Hibernate JPA 2 Static-Metamodel Generator 3.7.0-SNAPSHOT
[INFO]
[INFO] --- maven-processor-plugin:2.0.5:process (code-gen-executor) @ decision-app ---
[INFO] Source directory: X:\workspace\Decision\decision-app\target\generated-sources\apt added
[INFO] Adding compiler arg: -Acodegen.scaffold.override=true
[INFO] javac option: -cp
[INFO] javac option: ...
[INFO] javac option: -proc:only
[INFO] javac option: -Acodegen.scaffold.override=true
[INFO] javac option: -processor
[INFO] javac option: com.regulationworks.core.gwt.codegen.CodeGenExecutor
[INFO] javac option: -d
[INFO] javac option: X:\workspace\Decision\decision-app\target\classes
[INFO] javac option: -s
[INFO] javac option: X:\workspace\Decision\decision-app\target\generated-sources\apt
[INFO]
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ decision-app ---
[debug] execute contextualize
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 10 resources
[INFO] Copying 17 resources
[INFO] Copying 80 resources
[INFO]
[INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @ decision-app ---
[INFO] Compiling 60 source files to X:\workspace\Decision\decision-app\target\classes
[INFO]
[INFO] --- exec-maven-plugin:1.2:exec (default) @ decision-app ---
[INFO]
[INFO] <<< gwt-maven-plugin:2.3.0:run (default-cli) @ decision-app <<<
[INFO]
[INFO] --- gwt-maven-plugin:2.3.0:run (default-cli) @ decision-app ---
***********************************************************
finally be able to start the web app, 30 seconds wasted for second apt execution
*********************************************************** 
```

**- - - - - - - - - - - - 解决方案 - - - - - - - - - - - -**

1.  添加“包”配置文件

    ```
    <profile>
        <id>package</id>
        <build>
            <plugins>
                <plugin>
                    <artifactId>maven-war-plugin</artifactId>
                    <version>2.1.1</version>
                    <configuration>
                        <packagingExcludes>WEB-INF/lib/*-sources.jar, WEB-INF/lib/gwt-user-*.jar</packagingExcludes>
                        <webResources>
                            <resource>
                                <directory>src/main/webapp/WEB-INF</directory>
                                <targetPath>WEB-INF</targetPath>
                                <includes>
                                    <include>**/*.xml</include>
                                </includes>
                                <filtering>true</filtering>
                            </resource>
                        </webResources>
                    </configuration>
                    <executions>
                        <execution>
                            <id>explode-war</id>
                            <phase>compile</phase>
                            <goals>
                                <goal>exploded</goal>
                            </goals>
                        </execution>
                    </executions>
                </plugin>
            </plugins>
        </build>
    </profile> 
    ```

2.  使用“mvn clean gwt:run -Ppackage”而不是“mvn clean package gwt:run”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T15:58:43.523

The command you executed is `mvn clean package gwt:run`. Maven executes the `clean` lifecycle (clean:clean goal by default). Then it executes `package`, which runs all goals bound to the package phase and all goals bound to previous phases (generate-sources, process-sources, process-resources, etc.). Finally, it executes the `gwt:run` goal. If you look at the [documentation](http://mojo.codehaus.org/gwt-maven-plugin/run-mojo.html) for the `run` goal there is one very important line:

> Invokes the execution of the lifecycle phase process-classes prior to executing itself.

This means that Maven will run all goals bound to the `process-classes` phase and all earlier phases again. The apt plugin executions are bound to the `generate-sources` phase so they repeat, as do resources:resources, compiler:compile, and exec:exec as they are all bound to `process-classes` or before.

With that in mind: does `mvn clean gwt:run` work? I know that `mvn clean jetty:run` works as I expect without duplicating executions, but I've not used gwt before.

# tmp - 在应用程序中使用 /tmp 存储临时文件是一种好方法吗？

> ID：10909174
> 
> 赞同：2
> 
> 时间：2012-06-06T06:29:06.860
> 
> 标签：tmp

在我的应用程序中，我们将 PDF 生成的临时图像存储在 /tmp/pdf_images 文件夹中。这是标准做法吗？还是不建议在应用程序代码中使用 /tmp？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:33:46.077

假设你在 linux 或 MacOS 上，这个目录就是为此而存在的。

确保在您的应用程序关闭时自动删除它们。

请注意，当您的应用程序未运行时，它们可能会被操作系统或用户（直接或不直接）清除。通常，它会在重新启动时完全清除（在 MacOS 上每 3 天）。

# android - 在 robotsium 中测试拾取器

> ID：10909175
> 
> 赞同：0
> 
> 时间：2012-06-06T06:29:11.720
> 
> 标签：android

我想在 Robotium 中测试一个简单的选择器。有什么方法可以直接或间接地在我的测试用例中测试选择器？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-08T00:37:50.540

Robotium 允许您使用以下方式设置选择器，例如 DatePicker

```
solo.clickOnButton(0);
solo.setDatePicker(0, year, month, day);
solo.clickOnButton("Set"); 
```

希望这可以帮助。时间选择器有一个类似的方法，称为

```
solo.setTimePicker(0, hours, minutes); 
```

希望这可以帮助。

# c# - Android 锁屏 C# .NET 副本

> ID：10909176
> 
> 赞同：2
> 
> 时间：2012-06-06T06:29:20.523
> 
> 标签：c#, android, wpf

我希望在 Visual Studio C# 中创建一个模仿 Android 模式锁定屏幕的应用程序，并且想知道是否有人对此有任何提示。

这不是商业项目，不会赚钱，只是有点乐趣。

我一直在 WPF 项目中玩耍，现在不知所措。我想到的唯一方法是在`MouseDown`事件上跟踪鼠标，并使用 C# 中的绘制功能来“绘制”鼠标所在的位置，但我不认为这是最好的解决方案。

有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T12:44:07.040

看看这是否可以帮助您是粗略的代码。

```
public partial class PatternLock : UserControl
    {
        bool isMouseDown = false;

        private ObservableCollection<ToggleButton> selectedobject = new ObservableCollection<ToggleButton>();
        public PatternLock()
        {
            InitializeComponent();

        }

        internal ObservableCollection<int> buttons = new ObservableCollection<int>();

        private void layoutroot_Checked(object sender, RoutedEventArgs e)
        {
            if (e.OriginalSource is ToggleButton)
                buttons.Add(Convert.ToInt32(((ToggleButton)e.OriginalSource).Content));
        }

        private void layoutroot_Unchecked(object sender, RoutedEventArgs e)
        {
            if (e.OriginalSource is ToggleButton)
            {
                int i = Convert.ToInt32(((ToggleButton)e.OriginalSource).Content);
                buttons.Remove(i);

            }
        }

        internal void ResetPattern()
        {
            if (buttons != null)
            {
                buttons.Clear();
                foreach (ToggleButton item in layoutroot.Children)
                {
                    item.IsChecked = false;
                }
            }

        }
    } 
```

XAML

```
<UserControl x:Class="WPFTestings.LockPattern.PatternLock"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             d:DesignHeight="300"
             d:DesignWidth="300"
             mc:Ignorable="d">
    <UserControl.Resources>

        <Style TargetType="{x:Type ToggleButton}">
            <Setter Property="FocusVisualStyle" Value="{StaticResource ButtonFocusVisual}" />

            <Setter Property="BorderBrush" Value="{StaticResource ButtonNormalBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="Padding" Value="1" />
            <Setter Property="FontSize" Value="50" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ToggleButton}">
                        <ControlTemplate.Resources>
                            <Storyboard x:Key="HoverOn">
                                <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                               Storyboard.TargetName="HoverBorder"
                                                               Storyboard.TargetProperty="(UIElement.Opacity)">
                                    <SplineDoubleKeyFrame KeyTime="00:00:00.1000000" Value="0.5" />
                                </DoubleAnimationUsingKeyFrames>
                                <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                               Storyboard.TargetName="HoverShineBorder"
                                                               Storyboard.TargetProperty="(UIElement.Opacity)">
                                    <SplineDoubleKeyFrame KeyTime="00:00:00.1000000" Value="1" />
                                </DoubleAnimationUsingKeyFrames>
                            </Storyboard>
                            <Storyboard x:Key="HoverOff">
                                <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                               Storyboard.TargetName="HoverBorder"
                                                               Storyboard.TargetProperty="(UIElement.Opacity)">
                                    <SplineDoubleKeyFrame KeyTime="00:00:00.3000000" Value="0" />
                                </DoubleAnimationUsingKeyFrames>
                                <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                               Storyboard.TargetName="HoverShineBorder"
                                                               Storyboard.TargetProperty="(UIElement.Opacity)">
                                    <SplineDoubleKeyFrame KeyTime="00:00:00.3000000" Value="0" />
                                </DoubleAnimationUsingKeyFrames>
                            </Storyboard>
                            <Storyboard x:Key="CheckedOn">
                                <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                               Storyboard.TargetName="CheckedBorder"
                                                               Storyboard.TargetProperty="(UIElement.Opacity)">
                                    <SplineDoubleKeyFrame KeyTime="00:00:00.1000000" Value="0.5" />
                                </DoubleAnimationUsingKeyFrames>
                            </Storyboard>
                            <Storyboard x:Key="CheckedOff">
                                <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                               Storyboard.TargetName="CheckedBorder"
                                                               Storyboard.TargetProperty="(UIElement.Opacity)">
                                    <SplineDoubleKeyFrame KeyTime="00:00:00.3000000" Value="0" />
                                </DoubleAnimationUsingKeyFrames>
                            </Storyboard>
                            <Storyboard x:Key="PressedOn">
                                <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                               Storyboard.TargetName="Pressed"
                                                               Storyboard.TargetProperty="(UIElement.Opacity)">
                                    <SplineDoubleKeyFrame KeyTime="00:00:00.1000000" Value="1" />
                                </DoubleAnimationUsingKeyFrames>

                            </Storyboard>
                            <Storyboard x:Key="PressedOff">
                                <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                               Storyboard.TargetName="Pressed"
                                                               Storyboard.TargetProperty="(UIElement.Opacity)">
                                    <SplineDoubleKeyFrame KeyTime="00:00:00.3000000" Value="0" />
                                </DoubleAnimationUsingKeyFrames>
                            </Storyboard>
                        </ControlTemplate.Resources>
                        <Grid x:Name="grid">

                            <Border x:Name="Border"
                                    Background="{DynamicResource NormalBrush}"
                                    BorderBrush="{DynamicResource NormalBorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="50"
                                    Padding="{TemplateBinding Padding}">
                                <Border.BitmapEffect>
                                    <OuterGlowBitmapEffect GlowColor="Red" GlowSize="10" />
                                </Border.BitmapEffect>
                            </Border>
                            <Border x:Name="CheckedBorder"
                                    Background="YellowGreen"
                                    BorderBrush="Green"
                                    BorderThickness="2"
                                    CornerRadius="50"
                                    Opacity="0"
                                    Padding="{TemplateBinding Padding}">
                                <Border.BitmapEffect>
                                    <OuterGlowBitmapEffect GlowColor="YellowGreen" GlowSize="10" />
                                </Border.BitmapEffect>
                            </Border>
                            <Border x:Name="HoverBorder"
                                    Background="YellowGreen"
                                    BorderBrush="{DynamicResource NormalBorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="50"
                                    Opacity="0"
                                    Padding="{TemplateBinding Padding}" />
                            <Border x:Name="HoverShineBorder"
                                    Background="{DynamicResource HoverShineBrush}"
                                    BorderBrush="{DynamicResource NormalBorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="50"
                                    Opacity="0"
                                    Padding="{TemplateBinding Padding}" />
                            <Border x:Name="Pressed"
                                    Background="YellowGreen"
                                    BorderBrush="Green"
                                    BorderThickness="2"
                                    CornerRadius="50"
                                    Opacity="0"
                                    Padding="{TemplateBinding Padding}" />
                            <Rectangle x:Name="Shine"
                                       Height="Auto"
                                       Margin="2,2,2,2"
                                       VerticalAlignment="Stretch"
                                       Opacity="1"
                                       RadiusX="3"
                                       RadiusY="3"
                                       Stroke="{x:Null}">
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint="0.5,0.042" EndPoint="0.5,0.971">
                                        <GradientStop Offset="0" Color="#26FFFFFF" />
                                        <GradientStop Offset="1" Color="#00FFFFFF" />
                                        <GradientStop Offset="0.467" Color="#26FFFFFF" />
                                        <GradientStop Offset="0.475" Color="#00FFFFFF" />
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>

                            <ContentPresenter Margin="4,4,4,4"
                                              HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              RecognizesAccessKey="True"
                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        </Grid>

                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.ExitActions>
                                    <BeginStoryboard x:Name="HoverOff_BeginStoryboard" Storyboard="{StaticResource HoverOff}" />
                                </Trigger.ExitActions>
                                <Trigger.EnterActions>
                                    <BeginStoryboard Storyboard="{StaticResource HoverOn}" />
                                </Trigger.EnterActions>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Trigger.ExitActions>
                                    <BeginStoryboard x:Name="PressedOff_BeginStoryboard" Storyboard="{StaticResource PressedOff}" />
                                </Trigger.ExitActions>
                                <Trigger.EnterActions>
                                    <BeginStoryboard x:Name="PressedOn_BeginStoryboard" Storyboard="{StaticResource PressedOn}" />
                                </Trigger.EnterActions>
                            </Trigger>
                            <Trigger Property="IsKeyboardFocused" Value="true" />
                            <Trigger Property="IsChecked" Value="true">
                                <Trigger.ExitActions>
                                    <BeginStoryboard x:Name="CheckedOff_BeginStoryboard" Storyboard="{StaticResource CheckedOff}" />
                                </Trigger.ExitActions>
                                <Trigger.EnterActions>
                                    <BeginStoryboard x:Name="CheckedOn_BeginStoryboard" Storyboard="{StaticResource CheckedOn}" />
                                </Trigger.EnterActions>
                                <Setter TargetName="Pressed" Property="BitmapEffect">
                                    <Setter.Value>
                                        <OuterGlowBitmapEffect GlowColor="YellowGreen" GlowSize="10" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Foreground" Value="#ADADAD" />
                                <Setter TargetName="Border" Property="Background" Value="{DynamicResource DisabledBackgroundBrush}" />
                                <Setter TargetName="Border" Property="BorderBrush" Value="{DynamicResource DisabledBorderBrush}" />
                                <Setter TargetName="grid" Property="Opacity" Value="0.5" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="True">
                    <Setter Property="Foreground">
                        <Setter.Value>
                            <SolidColorBrush Color="{DynamicResource BlackColor}" />
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>

    </UserControl.Resources>
    <UniformGrid x:Name="layoutroot"
                 Columns="3"
                 Rows="3"
                 ToggleButton.Checked="layoutroot_Checked"
                 ToggleButton.Unchecked="layoutroot_Unchecked">
        <ToggleButton x:Name="btn1"
                      Margin="5"
                      Content="1" />
        <ToggleButton x:Name="btn2"
                      Margin="5"
                      Content="2" />
        <ToggleButton x:Name="btn3"
                      Margin="5"
                      Content="3" />
        <ToggleButton x:Name="btn4"
                      Margin="5"
                      Content="4" />
        <ToggleButton x:Name="btn5"
                      Margin="5"
                      Content="5" />
        <ToggleButton x:Name="btn6"
                      Margin="5"
                      Content="6" />
        <ToggleButton x:Name="btn7"
                      Margin="5"
                      Content="7" />
        <ToggleButton x:Name="btn8"
                      Margin="5"
                      Content="8" />
        <ToggleButton x:Name="btn9"
                      Margin="5"
                      Content="9" />
    </UniformGrid>
</UserControl> 
```

使用它是添加对话框和按钮来匹配它

```
 if (string.Concat(patternLock1.buttons).ToString() == "1359")
           {
               this.Close();
           }
           else
           {
               patternLock1.ResetPattern();
           } 
```

# jquery - 使用 jquery 将数字字符串转换为 md5

> ID：10909179
> 
> 赞同：0
> 
> 时间：2012-06-06T06:29:34.087
> 
> 标签：jquery

我正在使用jQuery插件将字符串转换为md5。以下是jquery md5插件的链接。“http://code.google.com/p/openfire-websockets/source/browse/trunk/plugin/ofchat/ js/background/jquery.md5.js?r=7" 但问题是，我只能通过this将字符串转换为md5。但是当我使用时间戳等数值时，它会产生错误。是否有任何其他方法或插件可以通过 jquery 转换 md5 中的数值。

# android - 没有从画布上正确的可绘制文件夹中绘制图像/位图

> ID：10909183
> 
> 赞同：0
> 
> 时间：2012-06-06T06:29:47.093
> 
> 标签：android, android-layout

我是 android 新手，我正在尝试制作一个绘制一些图像/位图的游戏。我有单独的可绘制文件夹，但是平板电脑（wxga）的模拟器正在从drawable-mdpi绘制位图，即使我在drawable-xhdpi文件夹中有正确的图像。问题可能是什么？如果您能指出正确的方向，那就太好了。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:05:23.167

模拟器正在做正确的事情。你读过官方[文档吗？](http://developer.android.com/guide/practices/screens_support.html)

wxga 是 1280×768 像素，加上一个 10 英寸的屏幕，实际上是 mdpi。您需要指定较小的屏幕尺寸以增加 dpi。

附带说明：大多数大型 android 平板电脑实际上具有 mdpi 分辨率。但要小心：三星 Galaxy 10.1 Tab 报告说它有 hdpi，即使屏幕在技术上是 mdpi。

# c++ - activex 对象自动化

> ID：10909185
> 
> 赞同：0
> 
> 时间：2012-06-06T06:30:06.047
> 
> 标签：c++, unit-testing, activexobject

我在 VC++ 中创建了 word 插件，用于在 microsoft word 中嵌入 activex 控件对象。

现在我想使用 boost 库或其他方法自动化我的 activex 对象的单元测试。

我们如何为 word activex 对象编写测试用例，以便我们可以使用 boost 库或任何其他方法执行功能测试和自动化。

由于我对自动化测试不太熟悉，请提供一些与我的问题相关的链接和有用的示例。

提前致谢

内哈

# iphone - 从 UIWebView 检测 window.open()

> ID：10909190
> 
> 赞同：8
> 
> 时间：2012-06-06T06:30:35.383
> 
> 标签：iphone, objective-c, uiwebview

简短的问题：是否可以`window.open()`在`UIWebView`使用中检测到`UIWebViewDelegate`或者是否有其他方法可以实现？当`window.open()`触发 -Event 以显示`UIAlertView`.

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-19T17:25:07.850

您需要`window.open()`使用 JavaScript 覆盖：

```
[webView stringByEvaluatingJavaScriptFromString:@"window.open = function (open) { return function  (url, name, features) { window.location.href = url; return window; }; } (window.open);"]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:00:16.273

尝试使用此委托方法。希望这可以帮助。

```
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType;
- (void)webViewDidStartLoad:(UIWebView *)webView; 
```

# c# - 两个富文本框的双重滚动

> ID：10909191
> 
> 赞同：0
> 
> 时间：2012-06-06T06:30:42.350
> 
> 标签：c#, .net, scroll, richtextbox

我有两个富文本框比较数据，它们之间的变化很小。

我希望他们一起滚动。

滚动必须同步。谁能告诉我我会怎么做？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:38:24.077

尝试这个：

检查此链接[Synchronized-RichTextBox-objects-or-how-to-scroll](http://www.codeproject.com/Tips/199253/Synchronized-RichTextBox-objects-or-how-to-scroll)

```
public class SynchronizedScrollRichTextBox : System.Windows.Forms.RichTextBox
{
    public event vScrollEventHandler vScroll;
    public delegate void vScrollEventHandler(System.Windows.Forms.Message message);

    public const int WM_VSCROLL = 0x115;

    protected override void WndProc(ref System.Windows.Forms.Message msg)
    {
        if (msg.Msg == WM_VSCROLL)
        {
            if (vScroll != null)
            {
                vScroll(msg);
            }
        }
        base.WndProc(ref msg);
    }

    public void PubWndProc(ref System.Windows.Forms.Message msg)
    {
        base.WndProc(ref msg);
    }
} 
```

# java - SmartGwt 中的时区

> ID：10909193
> 
> 赞同：0
> 
> 时间：2012-06-06T06:30:55.047
> 
> 标签：java, smartgwt

我想在应用程序中提供时区设置，因此，我需要使用智能 Gwt 从浏览器中获取时区。请告诉我获取时区的方法。实际上我已经在 smart gwt 应用程序中编写了 java 编码，如下所示，

```
String timezones[]=java.util.TimeZone.getAvailableIDs();

for(int i=0;i<(timezones.length)-1;i++)
{

System.out.println(timezones[i]);

} 
```

但它没有解决，它抛出一个异常如下：

1.  `[ERROR] [timezoneproject] Line 32: No source code is available for type java.util.TimeZone; did you forget to inherit a required module`

2.  `[ERROR] [timezoneproject] Hint: Check the inheritance chain from your module; it may not be inheriting a required module or a module may not be adding its source path entries properly`

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-11T07:10:37.083

GWT 确实支持 TimeZone。

请参阅 com.google.gwt.i18n.client.TimeZoneConstants 接口以获取 TimeZones 列表

可以在[这里找到](http://google-web-toolkit.googlecode.com/svn/javadoc/2.0/com/google/gwt/i18n/client/constants/TimeZoneConstants.html)

[也可以在这里](http://code.google.com/p/google-web-toolkit/source/browse/trunk/user/test/com/google/gwt/i18n/client/TimeZoneTest.java?r=3655)找到测试程序

在 GWT 中创建时区

```
final TimeZoneConstants timeZoneConstants = GWT.create(TimeZoneConstants.class);

TimeZone usPacific = TimeZone.createTimeZone(
        TimeZoneInfo.buildTimeZoneData(timeZoneConstants.americaLosAngeles())); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T16:28:18.160

正如 Jean-Michel Garcia 所说，您不能在 GWT 应用程序的客户端运行 TimeZone 类方法。

相反，您应该调用`String timezones[]=java.util.TimeZone.getAvailableIDs();`GWT 的服务器端并将字符串数组返回给客户端，然后用它做任何您想做的事情

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T09:09:36.950

TimeZone 不是 GWT 模拟 JRE 的一部分。因此，您不能使用它。

请参阅此链接：[https ://developers.google.com/web-toolkit/doc/latest/RefJreEmulation#Package_java_util](https://developers.google.com/web-toolkit/doc/latest/RefJreEmulation#Package_java_util)

# php - 如何在 extjs 中使用 Yii 变量

> ID：10909199
> 
> 赞同：0
> 
> 时间：2012-06-06T06:31:16.367
> 
> 标签：php, extjs, yii

我想`Yii::app()`在下面使用变量`ExtJs`：

```
Ext.create('Ext.Toolbar',{
    region:'north',
    contentEl:'northPart',
    height:32,
    items:[
      {
        text:'<?php echo Yii::app()->name ?>',
        iconCls:'bmenu'
      }
    ]
}); 
```

但它不起作用。
如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:46:54.213

您可以使用[http://docs.sencha.com/ext-js/4-1/#!/api/Ext.Class-cfg-singleton](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.Class-cfg-singleton)从网页获取全局配置到您的 js，例如将其放在您的 php页

```
Ext.define('MyConf', {
    singleton: true,
    YiiAppName: '<?php echo Yii::app()->name ?>'
}); 
```

然后你可以像使用它一样

```
Ext.create('Ext.Toolbar',{
    region:'north',
    contentEl:'northPart',
    height:32,
    items:[
      {
        text:MyConf.YiiAppName,
        iconCls:'bmenu'
      }
    ]
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:39:03.240

如果您将字符串放入不可见的 DIV 中，然后从 ExtJS 代码中，将 DIV html 放入变量中并在您的代码中使用，则可以完成您正在做的事情。

# asp.net - 关于 IIS 6.0 中的应用程序请求队列的问题

> ID：10909200
> 
> 赞同：2
> 
> 时间：2012-06-06T06:31:17.927
> 
> 标签：asp.net, iis, iis-6, clr

问题适用于 IIS 6.0 和 .Net 3.5

ASP.Net 为每个 AppDomain 维护一个请求队列。如果 CLR 线程忙于执行，请求将移至此队列。

假设 1：我的假设是这个请求队列大小源自 IIS 6.0 元数据库属性，称为“AspRequestQueueMax”，默认值为 3000。这个假设是否正确？

可以使用 IIS 6.0 元数据库的“processModel”元素在工作进程级别设置可用于执行请求和接受传入请求/执行回调的工作线程和 IO 线程的数量。

假设 2：还有一个名为“ [AspProcessorThreadMax](http://www.microsoft.com/technet/prodtechnol/WindowsServer2003/Library/IIS/42706aba-107b-4d6b-84f5-b58b50a6df97.mspx?mfr=true) ”的属性应用于每个虚拟目录级别，因此（假设）应用于每个 AppDomain 级别。

现在，如果我的假设（假设 2）成立，那么： 1\. 无论在 Worker 进程级别配置的最大/最小工作线程数如何，每个域是否将 CLR 线程数限制为为 AspProcessorThreadMax 配置的值？还是该属性仅适用于 ASP 请求而不适用于 ASP.Net？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:47:48.800

AspXXX 属性是特定于 ASP 的。[ASP.NET 使用的各种请求队列](http://www.microsoft.com/technet/prodtechnol/WindowsServer2003/Library/IIS/9e00302c-2f8a-4825-a3a2-51c9604207b8.mspx?mfr=true)的大小通过 machine.config 中的设置进行配置。

具体来说，全局请求队列限制由machine.config 中的 < [processModel requestQueueLimit > 属性配置。](http://msdn.microsoft.com/en-us/library/7w2sway1.aspx)应用程序请求队列限制由 < [httpRuntime appRequestQueueLimit](http://msdn.microsoft.com/en-us/library/e1f13641.aspx) > 属性在 Machine.config 中配置。

# database - Windows 8 Metro 风格的应用程序是否支持 SQL Server CE 本地数据库？

> ID：10909202
> 
> 赞同：6
> 
> 时间：2012-06-06T06:31:25.147
> 
> 标签：database, windows-8, sql-server-ce, windows-store-apps

我已经使用 SQL Server CE 数据库构建了一个 Windows Phone 应用程序。

我们需要将此应用程序移植到 Windows 8 Metro Style。

Windows 8 Metro 风格的应用程序是否支持 SQL Server CE 本地数据库？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-06T09:55:11.637

正如 ErikEJ 已经回答的那样，本地 SQL Server CE 数据库没有本地支持，但也许这个第三方组件 SQLite 对您有用？

Tim Heuer 写了一篇关于如何在 Metro 风格应用程序中使用 SQLite 的博文：http: [//timheuer.com/blog/archive/2012/05/20/using-sqlite-in-metro-style-app.aspx](http://timheuer.com/blog/archive/2012/05/20/using-sqlite-in-metro-style-app.aspx)

在博文中，还有一个视频，其中包含在您的应用程序中使用 SQLite 的“如何”步骤。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-06T06:59:21.843

不，目前 Microsoft 不为具有 C# 和 XAML 的 Metro 应用程序提供本地数据库。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-06T13:03:18.637

您不仅不能连接到本地 SQL 数据库，也不能连接到远程数据库。一切都必须通过网络服务......或使用 SQLite。

# git - 为什么 Github 在按照屏幕上的说明推送新的 repo 时要求输入用户名/密码？

> ID：10909221
> 
> 赞同：350
> 
> 时间：2012-06-06T06:33:16.690
> 
> 标签：git, github

我是 github 上一个组织的所有者，刚刚创建了一个 repo 并尝试推送，但我遇到了一个问题，它要求我输入用户名，即使我可以 SSH 很好：

```
$ ssh -T git@github.com
Hi Celc! You've successfully authenticated, but GitHub does not provide shell access.
$ git add .
$ git commit -m 'first commit'
[master (root-commit) 3f1b963] first commit
 6 files changed, 59 insertions(+)
 create mode 100644 .gitignore
 create mode 100644 main.js
 create mode 100644 package.json
 create mode 100644 readme.markdown
 create mode 100644 views/index.ejs
 create mode 100644 views/layout.ejs
$ git remote add origin https://github.com/WEMP/project-slideshow.git
$ git push -u origin master
Username for 'https://github.com': 
```

我究竟做错了什么？这在我之前从未发生过，但我最近也升级到了 git 1.7.10.3。

* * *

## 回答 #1

> 赞同：747
> 
> 时间：2012-06-06T06:41:10.013

不要使用 HTTP 而是使用 SSH

改变

```
https://github.com/WEMP/project-slideshow.git 
```

到

```
git@github.com:WEMP/project-slideshow.git 
```

你可以在`.git/config`文件中做

* * *

## 回答 #2

> 赞同：61
> 
> 时间：2013-02-28T19:16:18.237

我遇到了同样的问题，想知道为什么用 https 克隆的 bitbucket 存储库没有发生这种情况。稍微研究了一下，我发现 BB repo 的配置有一个包含我的用户名的 URL。所以我像这样手动编辑了我的 GH 存储库的配置，瞧，没有更多的用户名提示。我在 Windows 上。

编辑`your_repo_dir/.git/config`（记住：`.git`文件夹是隐藏的）

改变：

```
https://github.com/WEMP/project-slideshow.git 
```

到：

```
https://*username*@github.com/WEMP/project-slideshow.git 
```

保存文件。做一个`git pull`测试它。

这样做的正确方法可能是使用 git bash 命令来编辑设置，但直接编辑文件似乎没有问题。

* * *

## 回答 #3

> 赞同：33
> 
> 时间：2014-04-01T14:40:20.233

以下是对此的[官方回答](https://help.github.com/articles/why-is-git-always-asking-for-my-password)：

> 如果每次您尝试与 GitHub 交互时，Git 都会提示您输入用户名和密码，那么您可能正在为您的存储库使用 HTTPS 克隆 URL。
> 
> 使用[HTTPS 远程 URL](https://help.github.com/articles/which-remote-url-should-i-use/#cloning-with-https-urls-recommended)有一些优点：它比 SSH 更容易设置，并且通常可以通过严格的防火墙和代理工作。但是，它还会在每次拉取或推送存储库时提示您输入 GitHub 凭据。
> 
> 您可以配置 Git 为您存储密码。如果您想进行设置，请阅读有关[设置密码缓存](https://help.github.com/articles/caching-your-github-password-in-git/)的所有内容。

* * *

## 回答 #4

> 赞同：19
> 
> 时间：2017-04-04T19:44:21.370

改进@Ianl 的[回答](https://stackoverflow.com/a/15211658/723962)，

> > 似乎如果启用了两步验证，您必须使用令牌而不是密码。[您可以在此处](https://github.com/settings/tokens)生成令牌。

如果要禁用用户名和密码的提示，则可以按如下方式设置 URL -

```
git remote set-url origin https://username:password@github.com/WEMP/project-slideshow.git 
```

请注意，该 URL 包含用户名和密码。该`.git/config`文件还应显示您当前的设置。

* * *

更新 20200128：

如果您不想将密码存储在配置文件中，那么您可以生成您的个人令牌并将密码替换为令牌。这里有一些[细节](https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line#creating-a-token)。

它看起来像这样 -

```
git remote set-url origin https://username:token@github.com/WEMP/project-slideshow.git 
```

* * *

## 回答 #5

> 赞同：15
> 
> 时间：2013-03-04T21:40:10.483

附加说明：

如果您已经添加了一个远程 ($git remote add origin ... ) 并且需要更改该特定远程然后执行远程删除 ($ git remote rm origin)，然后重新添加新的和改进的 repo URL (其中“origin”是远程仓库的名称）。

所以要使用原始示例：

```
$ git remote add origin https://github.com/WEMP/project-slideshow.git
$ git remote rm origin
$ git remote add origin https://github-username@github.com/WEMP/project-slideshow.git 
```

* * *

## 回答 #6

> 赞同：9
> 
> 时间：2017-05-19T20:47:58.173

如果您使用的是 HTTPS，请检查以确保您的 URL 正确。例如：

```
$ git clone https://github.com/wellle/targets.git
Cloning into 'targets'...
Username for 'https://github.com': ^C

$ git clone https://github.com/wellle/targets.vim.git
Cloning into 'targets.vim'...
remote: Counting objects: 2182, done.
remote: Total 2182 (delta 0), reused 0 (delta 0), pack-reused 2182
Receiving objects: 100% (2182/2182), 595.77 KiB | 0 bytes/s, done.
Resolving deltas: 100% (1044/1044), done. 
```

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2013-07-02T20:34:33.317

我刚刚收到一封来自 github.com 管理员的电子邮件，内容如下：“我们通常建议人们使用 HTTPS URL，除非他们有特定原因使用 SSH 协议。HTTPS 安全且易于设置，因此创建新存储库时，我们默认为该设置。”

密码提示确实接受正常的 github.com 登录详细信息。[可以在此处](https://docs.github.com/en/github/using-git/caching-your-github-credentials-in-git)找到有关如何设置密码缓存的教程。我按照教程中的步骤操作，它对我有用。

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2016-04-28T21:31:19.870

因为您使用的是**HTTPS**方式。**HTTPS**要求您每次尝试**推送或拉**取时都输入您的帐户访问权限，但也有一种方法，称为**SSH**，它可以让您告诉 git，**我允许您使用我的帐户访问这台电脑，并且从不询问我再次关于任何用户访问**。要使用它，您必须**生成 SSH**密钥并将**其添加到您的 Github 帐户中一次**。为此，您可以按照以下步骤操作

[如何为 Github 生成 SSH 密钥](http://www.w3docs.com/snippets/git/how-to-generate-ssh-key-for-git.html)

* * *

## 回答 #9

> 赞同：5
> 
> 时间：2016-08-09T01:03:03.923

如果您启用了两因素身份验证，那么您需要生成个人访问令牌并使用它来代替您的常规密码。更多信息在这里：[https ://help.github.com/articles/creating-an-access-token-for-command-line-use/](https://help.github.com/articles/creating-an-access-token-for-command-line-use/)

# javascript - 在 node.js 中，有没有办法识别唯一的调用堆栈/滴答间隔？

> ID：10909223
> 
> 赞同：3
> 
> 时间：2012-06-06T06:33:20.017
> 
> 标签：javascript, node.js

我想知道是否有任何（高性能）方法来识别事件循环中的唯一刻度？

我**不想**做任何类似的事情：1）抛出异常，收集调用堆栈，分析它并对其进行哈希处理，或 2）子处理任何操作系统或外部进程以收集进程/线程 ID 以实现唯一性

它应该是一种语言结构。我更喜欢的 API 是

```
process.tickId 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-18T19:39:56.513

添加：

```
Handle<Value> tick = process->Get(String::New("tickId"));
if (!tick->IsNumber()) {
    tick = Number::New(0);
}
process->Set(String::New("tickId"), Number::New(tick->NumberValue() + 1)); 
```

`MakeCallback`对in的每一个 case`node.cc`都会提供 counter `tickId`。我对此进行了测试，但我不知道它是否会泄漏内存。

# javascript - 方法是否绑定到在 Javascript / Backbone.js 中异步调用的事件？

> ID：10909224
> 
> 赞同：4
> 
> 时间：2012-06-06T06:33:21.807
> 
> 标签：javascript, backbone.js

我想知道绑定到事件的方法是否在javascript中被异步调用？在我的例子中，我使用 Backbone.js 来构建一个应用程序。我使用事件聚合器在视图之间进行通信。

如果我有一个触发事件的方法，绑定到该事件的其他视图中的方法是否会在调用触发事件的其余方法运行之前完成？

事件聚合器如下：

```
var eventAggrigator = _.extend({}, Backbone.Events);
eventAggrigator.on('submitContactEditForm', function() {
  console.log('Contact edit form submit event triggered');
}); 
```

触发事件的函数调用（从 ViewA 调用此函数）：

```
saveContact: function(event) {
  var self = this;
  // Prevent submit event trigger from firing.
  event.preventDefault();
  // Trigger form submit event.
  eventAggrigator.trigger('submitContactEditForm');
  // Update model with form values.
  this.updateContact();
  // Save contact to database.
  this.model.save({
    success: function(model, response) {
      console.log('Contact ' + self.model.get('surname') + ' saved');
    },
    error: function(model, response) {
      throw error = new Error('Error occured while saving contact.');
    }
  });
}, 
```

ViewB 绑定到事件“submitContactEditForm”（参见下面 ViewB 的相关代码）：

```
initialize: function() {
  _.bindAll(this, 'addSortableFields', 'appendNewField', 'getFieldsHtml', 'removeField', 'render', 'setEmailValues');
  // Bind to event aggregator.
  eventAggrigator.bind('submitContactEditForm', this.setEmailValues);
  this.model = this.options.model;
},
setEmailValues: function() {
  // Extract email form values.
  var emails = _.clone(this.model.get('email'));
  var emailFields = this.$('.email-field');
  _.each(emails, function(email, index) {
    email.value = emailFields.eq(index).val();
  });
  this.model.set('email', emails);
}, 
```

所以问题是， ViewB.setEmailValues() 是否总是在 ViewA.saveContact() 中的 this.model.save() 执行之前完成？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T16:34:05.860

在主干中触发事件的相关部分是：

```
trigger: function(events) {
  var event, node, calls, tail, args, all, rest;
  if (!(calls = this._callbacks)) return this;
  all = calls.all;
  events = events.split(eventSplitter);
  rest = slice.call(arguments, 1);

  // For each event, walk through the linked list of callbacks twice,
  // first to trigger the event, then to trigger any `"all"` callbacks.
  while (event = events.shift()) {
    if (node = calls[event]) {
      tail = node.tail;
      while ((node = node.next) !== tail) {
        node.callback.apply(node.context || this, rest);
      }
    }
    if (node = all) {
      tail = node.tail;
      args = [event].concat(rest);
      while ((node = node.next) !== tail) {
        node.callback.apply(node.context || this, args);
      }
    }
  }

  return this;
} 
```

如您所见，事件处理程序被一一同步调用。

警告：如果您的处理程序进行异步调用，那么这些当然不能保证在执行堆栈之后继续执行之前完成`trigger`。这可以通过使用触发完成的回调来缓解，或者通过使用 Deferred/Promises 更好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T09:16:02.397

这是一个非常有趣的问题，有一个非常有趣的答案。

我原以为这种行为是异步的，但结果却是**同步**的。

我在这段代码中得出了我的结论：

```
var MyModel = Backbone.Model.extend();

var oneModel = new MyModel();
oneModel.on( "event", eventHandler1 );
oneModel.on( "event", eventHandler2 );

function eventHandler1(){
  for( var i = 0; i < 10; i++ ){
    console.log( "eventHandler1", i );
  }
}

function eventHandler2(){
  for( var i = 0; i < 10; i++ ){
    console.log( "eventHandler2", i );
  }
}

function testEvent(){
  console.log( "testEvent::INI" );
  oneModel.trigger( "event" );
  console.log( "testEvent::END" );
}

testEvent();​ 
```

这导致了这个输出：

```
testEvent::INI
eventHandler1 0
eventHandler1 1
eventHandler1 2
eventHandler1 3
eventHandler1 4
eventHandler1 5
eventHandler1 6
eventHandler1 7
eventHandler1 8
eventHandler1 9
eventHandler2 0
eventHandler2 1
eventHandler2 2
eventHandler2 3
eventHandler2 4
eventHandler2 5
eventHandler2 6
eventHandler2 7
eventHandler2 8
eventHandler2 9
testEvent::END 
```

[检查 jsFiddle](http://jsfiddle.net/fguillen/FyqmW/)。

# iphone - 如何隐藏 iAD

> ID：10909226
> 
> 赞同：2
> 
> 时间：2012-06-06T06:33:29.030
> 
> 标签：iphone, ios4, iad

我想问以下问题：

1) 用户点击空屏时如何隐藏iAD？2）如何识别不活动，即如果用户打开了某个应用程序并离开了iphone然后离开并且应用程序保持打开状态？

***更新：***

根据苹果文档，此方法负责关闭 iAD。但是这种方法在我的代码中仍然不起作用。任何示例或此方法如何工作？

***- (void)cancelBannerViewAction***

*解释：*

横幅视图操作可以覆盖应用程序的用户界面。但是，您的应用程序会继续运行，并正常接收事件。如果您的应用程序收到需要用户注意的事件，它可以通过调用 cancelBannerViewAction 以编程方式取消该操作并显示其界面。频繁取消操作可能会导致您的应用程序收入损失。

[来自苹果的参考](http://developer.apple.com/library/ios/#documentation/userexperience/Reference/ADBannerView_Ref/Reference/Reference.html)

但是我仍然无法执行？此方法无法正常工作

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:29:49.733

您可以执行以下代码。

```
- (void)bannerViewDidLoadAd:(ADBannerView *)banner 
{   
    if (!self.adBannerViewIsVisible) 
    {
         NSLog(@"\nBanner Success");
         [UIView beginAnimations:@"animateAdBannerOn" context:NULL];
         // assumes the banner view is offset 50 pixels so that it is not visible.

         banner.frame = CGRectOffset(banner.frame,0,-94);       
         [UIView commitAnimations];

         self.adBannerViewIsVisible = YES;      
    }
}

- (void)bannerView:(ADBannerView *)banner didFailToReceiveAdWithError:(NSError *)error 
{   
      if (self.adBannerViewIsVisible)
      {
          NSLog(@"\nBanner Failed");
          [UIView beginAnimations:@"animateAdBannerOff" context:NULL];          

          banner.frame = CGRectOffset(banner.frame, 0, 94);
          [UIView commitAnimations];

          self.adBannerViewIsVisible = NO;      
     }  
} 
```

只需在您的代码中指定 iAd 的位置，然后您可以通过更改此行中的值来更改它的位置

```
banner.frame = CGRectOffset(banner.frame, 0, 94);` 
```

希望这可以清楚你想要什么。

# ios - 在 UIViewControllers 之间共享视图？第二个 viewController 从第一个“窃取”视图？

> ID：10909227
> 
> 赞同：1
> 
> 时间：2012-06-06T06:33:44.943
> 
> 标签：ios, uiview, uiviewcontroller

我遇到了这种行为：我有一个 UIViewController UIView，我想在 2 个或多个 UIViewControllers 之间共享它。

首先，我将 AppDelegate 中的共享 UIViewController 实例化为：

```
SharedViewController *sharedViewController = [[SharedViewController alloc] init]; 
```

然后，当我实例化新的 UIViewController 时，我添加了共享视图控制器视图：

```
ViewController1 *viewController1 = [[ViewController1 alloc] init]; 
```

并在其中添加共享视图控制器视图：

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    [self.view addSubview:sharedViewController.view];
} 
```

**这工作正常，只要第二个视图控制器 - 即 viewController2 - 做同样的事情，然后 viewController2 得到视图，而 viewController1 什么也得不到！**

我应用了一种解决方法，将它放在 viewWillAppear 中，它似乎可以工作，但我担心我会多次将相同的视图添加到另一个上，难道没有更好的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:26:10.873

```
-(void)viewWillAppear {
    [self.view addSubview:sharedViewController.view];
}
-(void)viewWillDisappear {
    [sharedViewController.view removeFromSuperview];
} 
```

这应该有效。但是你确定它必须是一个共享的 UIViewController，如果你只使用视图？为什么不只是一个共享的 UIView？

# android - E/(18707): java.lang.NullPointerException

> ID：10909230
> 
> 赞同：0
> 
> 时间：2012-06-06T06:33:52.353
> 
> 标签：android, android-imageview

我正在尝试从中获取图像`URL`，`ImageView`我目前正在使用[这个](http://theandroidcoder.com/utilities/android-image-download-and-caching/)类。我已经添加了连接到互联网 write_SD 卡等的权限，问题是当我尝试使用此功能添加图像时`AndroidManifest`它返回错误：``java.lang.NullPointerException``ImageView`

```
public void download(String url, ImageView imageView) {
    try
    {    
        if (cancelPotentialDownload(url, imageView)) 
        {
             //TODO:Caching code right here
             String filename = String.valueOf(url.hashCode());
             File f = new File(getCacheDirectory(hm), filename);

              // Is the bitmap in our cache?
              Bitmap bitmap = BitmapFactory.decodeFile(f.getPath());

              //No? download it
              if(bitmap == null){
                  BitmapDownloaderTask task = new BitmapDownloaderTask(imageView);
                  DownloadedDrawable downloadedDrawable = new DownloadedDrawable(task);
                  imageView.setImageDrawable(downloadedDrawable);
                  task.execute(url);
              }else{
                  //Yes? set the image
                  imageView.setImageBitmap(bitmap);
              }
         }
    }catch (Exception e) {
        // TODO: handle exception
        Log.e("",e.toString());
    }
}` 
```

问题是什么可能是错的，我该如何解决这个问题？如果你能指出我正确的方向，我会很高兴。

日志猫：

```
`06-06 09:38:19.686: E/AndroidRuntime(18832): java.lang.NullPointerException
06-06 09:38:19.686: E/AndroidRuntime(18832):    at com.jandans.geos.ImageDownloader.download(ImageDownloader.java:51)
06-06 09:38:19.686: E/AndroidRuntime(18832):    at com.jandans.geos.vaikpied$1.onItemClick(vaikpied.java:98)
06-06 09:38:19.686: E/AndroidRuntime(18832):    at android.widget.AdapterView.performItemClick(AdapterView.java:284)
06-06 09:38:19.686: E/AndroidRuntime(18832):    at android.widget.ListView.performItemClick(ListView.java:3513)
06-06 09:38:19.686: E/AndroidRuntime(18832):    at android.widget.AbsListView$PerformClick.run(AbsListView.java:1849)
06-06 09:38:19.686: E/AndroidRuntime(18832):    at android.os.Handler.handleCallback(Handler.java:587)
06-06 09:38:19.686: E/AndroidRuntime(18832):    at android.os.Handler.dispatchMessage(Handler.java:92)
06-06 09:38:19.686: E/AndroidRuntime(18832):    at android.os.Looper.loop(Looper.java:130)
06-06 09:38:19.686: E/AndroidRuntime(18832):    at android.app.ActivityThread.main(ActivityThread.java:3835)
06-06 09:38:19.686: E/AndroidRuntime(18832):    at java.lang.reflect.Method.invokeNative(Native Method)
06-06 09:38:19.686: E/AndroidRuntime(18832):    at java.lang.reflect.Method.invoke(Method.java:507)
06-06 09:38:19.686: E/AndroidRuntime(18832):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:847)
06-06 09:38:19.686: E/AndroidRuntime(18832):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:605)
06-06 09:38:19.686: E/AndroidRuntime(18832):    at dalvik.system.NativeStart.main(Native Method) 
```

`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:48:17.807

**以下片段将为您提供帮助。**

**下载Helper.java**

```
public interface DownloadHelper
{
    public void OnSucess(Bitmap bitmap);
    public void OnFailure(String response);
} 
```

**MainActivity.java**

```
public class GalleryExample extends Activity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle icicle) {
        super.onCreate(icicle);
        setContentView(R.layout.main);

        DownloadHelper downloadHelper = new DownloadHelper()
        {
            @Override
            public void OnSucess(Bitmap bitmap)
            {
                ImageView imageView=(ImageView)findViewById(R.id.imageView);
                imageView.setImageBitmap(bitmap);
            }

            @Override
            public void OnFailure(String response)
            {
                Toast.makeText(context, response, Toast.LENGTH_LONG).show();
            }
        };
        new MyTask(this,downloadHelper).execute("image url");
    } 
```

**我的任务.java**

```
public class DownloadTask extends AsyncTask<String, Integer, Object>
{
    private Context context;
    private DownloadHelper downloadHelper;
    private ProgressDialog dialog;

    public DownloadTask(Context context,DownloadHelper downloadHelper)
    {
        this.context = context;

    }

    @Override
    protected void onPreExecute()
    {
        dialog = new ProgressDialog(context);
        dialog.setTitle("Please Wait");
        dialog.setMessage("Fetching Data!!");
        dialog.setCancelable(false);
        dialog.show();
        super.onPreExecute();
    }

    @Override
    protected Object doInBackground(String... params)
    {
        URL aURL = new URL(myRemoteImages[position]);
        URLConnection conn = aURL.openConnection();
        conn.connect();
        InputStream is = conn.getInputStream();

        BufferedInputStream bis = new BufferedInputStream(is);
        /* Decode url-data to a bitmap. */
        Bitmap bm = BitmapFactory.decodeStream(bis);
        bis.close();
        is.close();
        return bm;
    }

    @Override
    protected void onPostExecute(Object result)
    {
        dialog.dismiss();
        if (result != null)
        {
            downloadHelper.OnSucess((Bitmap)result);
        } 
        else
        {
            downloadHelper.OnFailure("Error in Downloading Data!!");
        }
        super.onPostExecute(result);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T06:49:13.510

试试下面的一个 -

```
public class ImgLoadFrmWebActivity extends Activity {

    ImageView imv1;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        Drawable image = ImageOperations(getApplicationContext(),"http://hvz.eu5.org/upload/1.jpg","image");
        ImageView imgView = (ImageView)findViewById(R.id.imageView1);
        imgView = (ImageView)findViewById(R.id.imageView1);
        imgView.setImageDrawable(image);
    }
    private Drawable ImageOperations(Context ctx, String url, String saveFilename) {
        try {
            InputStream is = (InputStream) this.fetch(url);
            Drawable d = Drawable.createFromStream(is, "src");
            return d;
        } catch (MalformedURLException e) {
            e.printStackTrace();
            return null;
        } catch (IOException e) {
            e.printStackTrace();
        }
        return null;
    }

    public Object fetch(String address) throws MalformedURLException,IOException {
        URL url = new URL(address);
        Object content = url.getContent();
        return content;
    }
} 
```

确保在您的清单文件中添加了权限 -

```
<uses-permission android:name="android.permission.INTERNET"></uses-permission> 
```

只需根据您的需要自定义此布局。希望这对您有所帮助。

# css - font-weight:700 或 font-weight:bold 在 CSS 中我们应该遵循哪一个？

> ID：10909234
> 
> 赞同：46
> 
> 时间：2012-06-06T06:34:12.243
> 
> 标签：css, text-rendering

我看过一些网站，其中提到了 CSS -`font-weight: 700`或`font-weight: bold`. 但是两个结果是一样的。哪一个是正确的，我们应该如何遵循？请给我建议。

* * *

## 回答 #1

> 赞同：97
> 
> 时间：2012-06-06T06:35:45.320

`font-weight`您可以在[CSS Fonts Module Level 3 Specification](http://www.w3.org/TR/css-fonts-3/)中找到所有有效值的完整细分。在[第 3.2 节](http://www.w3.org/TR/css-fonts-3/#font-weight-prop)（字体权重属性）下，我们找到以下列表：

*   100 - 薄
*   200 - 超轻（超轻）
*   300 - 光
*   **400 - 正常**
*   500 - 中等
*   600 - 半粗体（半粗体）
*   **700 - 粗体**
*   800 - 超粗体（超粗体）
*   900 - 黑色（重）

您可能注意到这`700`是“粗体”。所以无论哪种方式，你都会得到相同的结果。（唯一对应于数字的另一个是“正常” - `400`。）

完整列表是：

`normal`- 与“400”相同<br> `bold`- 与“700”相同<br> `bolder`- 指定比继承值更粗的粗细
`lighter`- 指定比继承值更轻的粗细

没有真正的区别。更多的是关于你和你的团队习惯的东西。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-06-06T06:41:40.027

`font-weight`数字比默认**粗体**更好，因为在数字中您可以根据设计要求 调整**粗体。**

检查这个[http://www.w3.org/wiki/CSS/Properties/font-weight](http://www.w3.org/wiki/CSS/Properties/font-weight)

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2012-06-06T07:06:16.373

我的基本答案与已经给出两次的答案相同，但参考正确：

根据 CSS 2.1 规范[第 15.6 条](http://www.w3.org/TR/CSS2/fonts.html#font-boldness)，它们在定义上是同义词。这是权威规范。

> 关键字“normal”与“400”同义，“bold”与“700”同义。

单词`bold`使代码比数字更具可读性`700`，没有直观意义。在您使用数字指定字体粗细的情况下，该数字可能更适合可读性，以获取没有关键字的粗细。`400`这种情况很少见，部分原因`700`是大多数字体不支持其他字体粗细。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-02-15T12:50:20.463

在功能上它们是相等的，但在风格上我会说选择其中一种方法并与之保持一致：要么只使用关键字，要么只使用数字标识符。这使得 CSS 代码更容易理解。

由于字体的权重范围远不止`regular`和`bold`，例如*extra light*、*light*、*book*、*medium*、*semibold*、*black*、*extra black*，因此在使用自定义字体时，通常不可能不使用数字标识符。在这些情况下，我认为最好避免使用`regular`and ，而是`bold`使用`400`and `700`。这更加一致并且简化了对 CSS 的理解——即使是没有经验的开发人员也可以很容易地掌握哪个`400`更薄`500`，但是当他需要比较`regular`和时，他可能不知道哪个更薄`500`。

在您使用的唯一权重是`regular`and的情况下，`bold`使用关键字而不是数字标识符是完全合理且更具可读性的。但在我的工作中，这种情况几乎不会发生。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-08-02T16:38:14.230

在 Windows 上的某些浏览器（IE、FF）中，doing`font-weight:800`不适用于各种 UTF-8 字体。使用`font-weight: bold`或`font-weight: bolder`..

我在为 BBC Kyrgyz 制作东西时发现了这一点。

# networking - Cisco 2960 中的问题

> ID：10909235
> 
> 赞同：0
> 
> 时间：2012-06-06T06:34:12.277
> 
> 标签：networking, snmp, ethernet, cisco

我可以通过使用获取开关状态 `oid : .1.3.6.1.2.1.2.2.1.8`

*这将显示所有状态为 up 或 down 的端口。*

但是，我想`oid`检查特定端口，例如检查第 5 个端口是打开还是关闭。

另外，我想要`oid`获取连接到端口的 MAC 地址和 IP，例如连接到端口 5 的 PC 的 MAC 地址和 IP。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:28:59.303

有关端口的数据存储在 MIB 表中。表 OID 是`.1.3.6.1.2.1.2.2.1`，这意味着要获取特定的数据，您必须查询：

```
.1.3.6.1.2.1.2.2.1.X.Y 
```

其中`X`是项目索引，`Y`是端口索引。例如，端口 10101 描述的 oid 是`.1.3.6.1.2.1.2.2.1.2.10101`：

```
$ snmpget -mall -v1 -c public <switch_ip> .1.3.6.1.2.1.2.2.1.2.10101    
IF-MIB::ifDescr.10101 = STRING: GigabitEthernet0/1 
```

要获取端口表中的所有数据，您可以像这样查询它：

```
$ snmpwalk -mall -v1 -c public <switch_ip> .1.3.6.1.2.1.2.2.1 
```

要获取特定端口上的 MAC 地址，您可以在 BRIDGE-MIB 中查询 FDB：

```
$ snmpwalk -mall -v1 -c public <switch_ip> .1.3.6.1.2.1.17.4.3.1.2 
```

由于开启2960多半是二层操作，所以没有办法获取对应的IP地址，除非你设置成路由器。

# oracle10g - oracle10g数据库中如何取值？

> ID：10909236
> 
> 赞同：1
> 
> 时间：2012-06-06T06:34:18.510
> 
> 标签：oracle10g

例如，我的表包含一列“技能”。 ![甲骨文表](../Images/0f958917b225e1c7b714a44ae8791d44.png)

我想搜索具有 java 和 oracle 技能的名称。我知道它很简单，我对 oracle10g 很陌生，请帮助我。我试过了

```
select name from table_name where skills='java' or skills='java'; 
```

名称“c”具有 java 和 html 技能，我该如何选择？

```
select name from table_name where skills='java,html'; 
```

我不知道我想使用哪种方法，请帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:42:44.847

这将返回其技能列表中包含 java 的任何名称。

```
select name from table_name where ','||skills||',' like '%,java,%' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T06:47:48.370

如表中所示，如果您想选择技能为 java 或 oracle 的名称，您可以从 table_name 中选择名称，其中技能如 '%java%' 或技能如 '%oracle%' 这将选择其技能包含的所有名称java 或 oracle

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T06:44:06.000

```
select name from table_name where skills like '%java%' or skills like '%oracle%'; 
```

这将为您提供具有 java 或 oracle 技能的名称。如果您想要同时具有两者的名称，请将“或”更改为“和”。

# audio - Scipy - 音频处理

> ID：10909243
> 
> 赞同：0
> 
> 时间：2012-06-06T06:34:36.067
> 
> 标签：audio, signals, signal-processing

我正在寻找音频信号处理的好工具。例如语音和音乐分析、识别。

scipy 是否为这些提供功能？这是音频信号处理的好工具吗？

您能否为此建议一个更好的工具？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T13:01:19.790

Scipy 为您提供基本的科学工具，但没有任何特别之处。scipy 中的很多东西都受到 MatLab 基本功能的启发，甚至是抄袭而来。据我所知，没有语音处理包，而是构建这样的东西所需的一切，即 dsp lib、fft、统计、线性代数，甚至是符号工具箱。

# menu - 有没有办法让 Dojo Dialog 从左侧的 PopupMenuItem 弹出？

> ID：10909245
> 
> 赞同：2
> 
> 时间：2012-06-06T06:34:39.143
> 
> 标签：menu, dojo, dialog, popup

我正在使用 Dojo 版本 1.6.1。我正在构建一个菜单，其中包含一个对话框 dijit 作为 PopupMenuItem 的弹出窗口。但是，如果菜单停靠在应用程序的右侧，则此方法有效，我需要将弹出窗口显示在菜单的左侧。我似乎无法让它工作。如果我使用另一种类型的小部件（如 ColorPalette），则效果很好。使用弹出子菜单和弹出式调色板，如果菜单位于屏幕右侧，则所有内容都向左打开，如果菜单位于屏幕左侧，则所有内容都向右侧打开。Dojo 只是自动处理这个问题。但是对于任何 Dialog 小部件，即使是空的，它总是会弹出到 PopupMenuItem 的右侧，而不管菜单在屏幕上的哪个位置。我想也许可以指定 div 的高度和宽度，即 dijit。

这是代码的简化版本：

```
<div data-dojo-type="dijit.Menu" id="toolPalette" style="position:absolute; right:0; top:0; z-index: 999;">
</div>

<script>
    // Grab the div for the menu, declared in the HTML above.
    var toolPalette = dijit.byId("toolPalette");

    // This tool button has a popup
    var menuItem1 = new dijit.PopupMenuItem({
        id: "menuItem1",
        iconClass: "shelterIcon",
        popup: new dijit.Dialog()
    });
    toolPalette.addChild(menuItem1);

    // This tool button does not have a popup
    var menuItem2 = new dijit.MenuItem({
        id: "menuItem2",
        iconClass: "shelterIcon"
    });
    toolPalette.addChild(menuItem2);

    toolPalette.startup();
</script> 
```

任何帮助是极大的赞赏！我已经尝试了我能想到的一切。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:51:38.963

查找当前光标位置的方法

```
document.onmouseup = getXY;
var mouseX, mouseY;

function getXY(e) {
    mouseX= (e || event).clientX;
    mouseY= (e || event).clientY;
    if (document.documentElement.scrollTop > 0) {
        mouseY= mouseY+ document.documentElement.scrollTop;
    }
} 
```

你的代码在这里。

```
 var myDialog = new dijit.Dialog();
 var menuItem1 = new dijit.PopupMenuItem({
        id: "menuItem1",
        iconClass: "shelterIcon",
        popup: myDialog 
    }); 
```

现在将 X 和 Y 应用于您的对话框。

```
dijit.popup.open({
    x: mouseX,
    y : mouseY,
    popup: myDialog 
 }); 
```

# java - 如何将 DB2 中的数据库权限授予其他域用户

> ID：10909246
> 
> 赞同：3
> 
> 时间：2012-06-06T06:34:54.353
> 
> 标签：java, db2

在一个 Java 应用程序中，我在 DB2 中创建了 2 个具有管理权限的数据库。现在使用一个应用程序，希望通过 LAN 访问相同的数据库，但需要将数据库权限授予其他（在同一域中）域用户，以便他们可以作为最终用户访问相同的数据库。

我试过 DB2 GRANT 命令，但它不允许其他人访问这些数据库，但是如果他们使用与管理员相同的用户/密码，DB2 允许他们访问数据库。但是知道管理员用户/密码可能是安全问题。

有没有办法在命令提示符下执行此操作，即 db2cmd

```
GRANT CONNECT,ACCESSCTRL,DATAACCESS,DBADM,SECADM ON DATABASE TO USER Kishore 
```

此命令不能解决问题。

提前致谢。

我按照@Ian Bjorhovde 的建议做了。现在 DB2 服务以 Domain\Admin 身份运行，并且 GRANT 命令已成功执行，但其他域用户仍无法连接到由 Admin 创建的 DB（使用他们自己的身份验证）。使用此代码

```
DriverManager.getConnection("jdbc:db2://SERVERNAME:50000/TESTDB", UserName, PassWord); 
```

连接已创建，但在触发任何 SELECT 查询时会引发 SQL 异常 (SQLCODE=-204)，即使将 UserName 提供为 Domain\UserName。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T12:58:41.357

要针对域进行身份验证，DB2 服务（实例）必须使用域帐户运行——它不能使用在本地机器上定义的帐户来启动。您可以停止您的实例，然后从 Windows 服务面板更改 DB2 服务以使用域 ID 启动。

确保此域 ID 具有足够的权限，如此[处所述](http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/topic/com.ibm.db2.luw.qb.server.doc/doc/r0007134.html)。

# javascript - 需要来自异步 API 调用的数据的构造函数？

> ID：10909250
> 
> 赞同：2
> 
> 时间：2012-06-06T06:35:23.733
> 
> 标签：javascript, jquery, asynchronous, constructor, callback

我想知道我应该采取什么途径使这段代码“按预期”工作。API 调用是异步的——因此构造函数在数据加载之前返回。

```
addSongById: function (songId) {
    var song = new Song(songId);
    console.log(song);
    this.addSong(song);

    if (this.songCount() == 1)
        this.play();

    UserInterface.refresh();
    SongGrid.reload();
},

function Song(songId) {
    $.getJSON('http://gdata.youtube.com/feeds/api/videos/' + songId + '?v=2&alt=json-in-script&callback=?', function (data) {
        this.id = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) { var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8); return v.toString(16); });
        this.songId = songId;
        this.url = "http://youtu.be/" + songId;
        this.name = data.entry.title.$t;
    });
} 
```

是否可以强制构造函数不过早返回？理想情况下，我不必将任意数量的参数传递给 Song 构造函数，并将仅与 Song 相关的信息带到它的范围之外..

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-06T06:58:27.507

与大多数异步操作一样，我会`Deferred`在这种情况下使用 a ；JS 中的构造函数没有义务返回自己的实例：

```
function Song(songId) {
    var song = this;
    var def = new $.Deferred();
    $.getJSON('http://gdata.youtube.com/feeds/api/videos/' + songId + '?v=2&alt=json-in-script&callback=?', function (data) {
        song.id = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) { var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8); return v.toString(16); });
        song.songId = songId;
        song.url = "http://youtu.be/" + songId;
        song.name = data.entry.title.$t;
        def.resolve(song);
    });
    return def.promise();
}

var promise = new Song(songId);
promise.done(function(instance) {
    // you've got a Song instance
}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-04-25T00:11:31.643

> ...这是一种不好的做法。构造函数应该返回其类的实例，仅此而已。否则会弄乱新的运算符和继承。
> 
> 此外，构造函数应该只创建和初始化一个新实例。它应该设置数据结构和所有特定于实例的属性，但不执行任何任务。如果可能的话，它应该是一个没有副作用的纯函数，并具有所有的好处。

参考：[让构造函数返回 Promise 是不好的做法吗？](https://stackoverflow.com/questions/24398699/is-it-bad-practice-to-have-a-constructor-function-return-a-promise)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-06T06:42:00.290

您可能想要使用`$.ajax`而不是`$.get`with option `async: false`。但是，这将锁定所有其他 javascript 的执行。如果例如服务器因任何原因不响应，这可能是一个问题。

因此，这是一个不好的做法。使用回调，例如

```
function Song(songId, callback) {
    var self = this;
    $.getJSON('http://gdata.youtube.com/feeds/api/videos/' + songId + '?v=2&alt=json-in-script&callback=?', function (data) {
        self.id = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) { var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8); return v.toString(16); });
        self.songId = songId;
        self.url = "http://youtu.be/" + songId;
        self.name = data.entry.title.$t;
        callback();
    });
}

var song = new Song(songId, function() {
    // The other code goes here.
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T06:41:22.610

同步调用可能会导致浏览器停止响应，并且某些浏览器可能会强行杀死您的脚本。

Jquery 在向 URI 发出请求时有一个选项

> asyncBoolean 默认值：true
> 
> 默认情况下，所有请求都是异步发送的（即默认设置为true）。如果您需要同步请求，请将此选项设置为 false。跨域请求和 dataType: "jsonp" 请求不支持同步操作。请注意，同步请求可能会暂时锁定浏览器，从而在请求处于活动状态时禁用任何操作。从 jQuery 1.8 开始，不推荐使用 async: false 。

[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

希望这会有所帮助

问候。

# java - 多个线程执行不同的任务

> ID：10909251
> 
> 赞同：4
> 
> 时间：2012-06-06T06:35:23.930
> 
> 标签：java, multithreading

这是我第一次编写多线程程序。我怀疑我将创建的多个线程将指向同一个运行方法并执行用 run() 编写的任务。但我希望不同的线程执行不同的任务，例如 1 个线程将插入数据库其他更新等。我的问题是如何创建将执行不同任务的不同线程

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T06:54:47.133

创建执行不同工作的线程：

```
public class Job1Thread extends Thread {

    @Override
    public void run() {
        // Do job 1 here
    }

}

public class Job2Thread extends Thread {

    @Override
    public void run() {
        // Do job 2 here
    }

} 
```

启动您的线程，它们将为您工作：

```
Job1Thread job1 = new Job1Thread();
Job2Thread job2 = new Job2Thread();

job1.start();
job2.start(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T06:36:45.020

您可以使用不同的作业创建不同的类来实现 Runnable - 只是为了开始

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-06T06:40:02.937

您可以根据您的条件（插入数据库、更新等）运行 run() 方法。在初始化线程类时，在类构造函数中传递参数，它将定义该线程将为您执行的任务。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-10-06T08:05:15.383

/* 这个程序创建三个不同的线程来执行三个不同的任务。线程 -1 打印 A...Z，线程 2 打印 1...100，线程 3 打印 100-200。用于理解多线程的非常基本的程序，无需为不同的任务创建不同的类 */

```
class ThreadingClass implements Runnable {
   private Thread t;
   private String threadName;

   ThreadingClass( String name) {
      threadName = name;
      System.out.println("Creating " +  threadName );
   }

   public void run() {
      System.out.println("Running " +  threadName );
      if( threadName == "Thread-1" ){
          this.printAlpha();
      }
      else if( threadName == "Thread-2" ){
          this.printOneToHundred();
      }
      else{
          this.printHundredMore();
      }
   }
   public void printAlpha(){
       for(int i=65; i<=90; i++)
       {
           char x = (char)i;
           System.out.println("RunnableDemo: " + threadName + ", " + x);
       }
   }
   public void printOneToHundred(){
       for(int i=1; i<=100; i++)
       {

           System.out.println("RunnableDemo: " + threadName + ", " + i);
       }
   }
   public void printHundredMore(){
       for(int i=100; i<=200; i++)
       {

           System.out.println("RunnableDemo: " + threadName + ", " + i);
       }
   }

   public void start () {
      System.out.println("Starting " +  threadName );
      if (t == null) {
         t = new Thread (this);
         t.start ();
         t.setName(threadName);
      }
   }
}
public class MultiTasking {

   public static void main(String args[]) {
      ThreadingClass R1 = new ThreadingClass ( "Thread-1");

      ThreadingClass R2 = new ThreadingClass ( "Thread-2");

      ThreadingClass R3 = new ThreadingClass ( "Thread-3");
      R1.start();
      R2.start();
      R3.start();

   }   
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-02-07T06:49:37.983

您可以为此使用内部类。像下面

```
 class first  implements Runnable 

{

      public void run(){  
            System.out.println("hello by tobj");  
             }   
          public static void main(String args[]){  
             first obj=new first();  
             Thread tobj =new Thread(obj);  
             tobj.start();
             Thread t2 =new Thread(obj)
             {
                  public void run()
                  {
                    System.out.println("hello by t2");
                  }
             };
             Thread t = new Thread(obj)
             {
                  public void run()
                  {
                    System.out.println("hello by t");
                  }
             };
             t.start();
             t2.start();

         }
} 
```

# javascript - 在客户端/服务器端检索原始电影大小

> ID：10909253
> 
> 赞同：0
> 
> 时间：2012-06-06T06:35:49.780
> 
> 标签：javascript, flash

有没有办法在客户端/服务器端检索 Flash 电影大小？

假设我有许多供应商提供的各种游戏，但我不知道它的大小，

但是当我放置在我的 html 页面上时，我想达到正确的尺寸。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:28:18.480

如果您在服务器端使用 PHP，则可以使用[getimagesize()](http://www.php.net/manual/en/function.getimagesize.php)方法。

然后您可以相应地创建嵌入代码。

# java - way2sms api在java中不起作用

> ID：10909260
> 
> 赞同：3
> 
> 时间：2012-06-06T06:36:51.973
> 
> 标签：java, netbeans, way2sms

我在我的网络应用程序中使用 way2sms api。以前它工作正常，但现在它无法发送短信。谁能告诉我突然出现了什么问题。api过时了吗？还是way2sms 站点或网关有问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-03T06:19:09.890

这是我写的一些代码，希望你会发现它有用。

```
import java.net.*;
import java.io.*;

public class SmsSender
{
  //Replace your way2sms username and password below
  static final String _userName = "your way2sms username";
  static final String _password = "your way2sms password";
  static final String _url = "http://ubaid.tk/sms/sms.aspx";
  static final String charset = "UTF-8";

  //to build the query string that will send a message
  private static String buildRequestString(String targetPhoneNo, String message) throws UnsupportedEncodingException
  {
    String [] params = new String [5];
    params[0] = _userName;
    params[1] = _password;
    params[2] = message;
    params[3] = targetPhoneNo;
    params[4] = "way2sms";

    String query = String.format("uid=%s&pwd=%s&msg=%s&phone=%s&provider=%s",
        URLEncoder.encode(params[0],charset),
        URLEncoder.encode(params[1],charset),
        URLEncoder.encode(params[2],charset),
        URLEncoder.encode(params[3],charset),
        URLEncoder.encode(params[4],charset)
        );
    return query;
  }

  public static void sendMessage(String reciever, String message) throws Exception
  {
    //To establish the connection and perform the post request
    URLConnection connection = new URL(_url + "?" + buildRequestString(reciever,message)).openConnection();
    connection.setRequestProperty("Accept-Charset", charset);

    //This automatically fires the request and we can use it to determine the response status
    InputStream response = connection.getInputStream();
    BufferedReader br = new BufferedReader(new InputStreamReader(response));
    System.out.println(br.readLine());
  }

  public static void main(String [] args)
    throws Exception
  {
    String testPhoneNo = "9876543210";
    String testMessage = "Sending Messages From java is not too hard";

    sendMessage(testPhoneNo,testMessage);
  }
} 
```

# php - 在 Yii 中使用日期选择器过滤日期

> ID：10909261
> 
> 赞同：1
> 
> 时间：2012-06-06T06:37:00.637
> 
> 标签：php, yii

我已经使用 gii 生成了我的 crud 屏幕。我有一个搜索表单，我在其中放置了一个日期选择器，在那里我让用户选择他想要的日期。

但问题是我在数据库中以秒为单位存储了日期。

而且我知道我可以使用 strtotime 转换日期。但是我如何在我的模型中使用搜索方法进行过滤？

这是我的日期选择器

```
<?php 
        $this->widget('zii.widgets.jui.CJuiDatePicker', array(

        'name'=>'ordering_date',
        'id'=>'ordering_date',
        // additional javascript options for the date picker plugin
        'options'=>array(
            'showAnim'=>'fold',
        ),
        'htmlOptions'=>array(
            'style'=>'height:20px;'
        ),
        ));
    ?> 
```

这是我在模型中的搜索方法。我想比较 ordering_date

```
public function search()
{
    // Warning: Please modify the following code to remove attributes that
    // should not be searched.
    //echo $this->ordering_date;
    $criteria=new CDbCriteria;

    $criteria->compare('order_id',$this->order_id);
    $criteria->compare('customer_id',$this->customer_id);
    $criteria->compare('delivery_address_id',$this->delivery_address_id);
    $criteria->compare('billing_address_id',$this->billing_address_id);
    $criteria->compare('ordering_date',$this->ordering_date);
    $criteria->compare('ordering_done',$this->ordering_done,true);
    $criteria->compare('ordering_confirmed',$this->ordering_confirmed);
    $criteria->compare('payment_method',$this->payment_method);
    $criteria->compare('shipping_method',$this->shipping_method);
    $criteria->compare('comment',$this->comment,true);
    $criteria->compare('status',$this->status,true);
    $criteria->compare('total_price',$this->total_price);

    return new CActiveDataProvider($this, array(
        'criteria'=>$criteria,
    ));
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:52:03.383

尝试这个：

```
$this->widget('zii.widgets.jui.CJuiDatePicker', array(
        'model'=>$model,
        'attribute'=>'ordering_date',
        'options'   => array('dateFormat' => 'mm-dd-yy',), 
```

并搜索

```
$begindate = CDateTimeParser::parse($this->ordering_date, 'MM-dd-yyyy');
$enddate   = $begindate + 24* 60*60;
$criteria->addBetweenCondition('ordering_date', $begindate, $enddate); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:53:08.453

`$this->ordering_date = strtotime($this->ordering_date);`在比较之前做一个或`$criteria->compare('ordering_date', strtotime($this->ordering_date));`

# android - 自定义对话框中的微调器强制关闭

> ID：10909262
> 
> 赞同：0
> 
> 时间：2012-06-06T06:37:02.307
> 
> 标签：android

警报对话框显示得很好，当我单击微调器（微调器在警报对话框中）时，它会强制关闭，请帮助

```
private void showDialogue(Activity a) {
        try {
                        // Inflating a layout for Alert Dialog
            LayoutInflater layoutInflater = (LayoutInflater) getApplicationContext()
                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            View view = layoutInflater.inflate(R.layout.prop_dialogue,null);
            view.findViewById(R.id.dialogue_btn_cancel).setOnClickListener(
                    Properties.this);
// Getting reference of Spinner      
   Spinner spin = (Spinner) view.findViewById(R.id.dialogue_spinner_count);
            setImage((ImageView) view.findViewById(R.id.dialogue_prop_icon),
                    getImageBitmap(position));
            setName((TextView) view.findViewById(R.id.dialogue_prop_name));
// Adapter for Spinner
ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(
                Properties.this, R.array.prop_count,
                android.R.layout.simple_spinner_item);
        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
            spin.setAdapter(adapter );
             spin.setOnItemSelectedListener(Properties.this);
            Builder b = new AlertDialog.Builder(this).setTitle("Properties")
                    .setNeutralButton("Submit",
                            new DialogInterface.OnClickListener() {
                                @Override
                                public void onClick(DialogInterface dialog,
                                        int which) {

                                }
                            });
            b.setView(view);
            b.show();
        } catch (Exception e) {
            // TODO: handle exception
        }
    } 
```

日志中显示的错误

```
06-06 12:09:22.971: E/AndroidRuntime(992): FATAL EXCEPTION: main
06-06 12:09:22.971: E/AndroidRuntime(992): android.view.WindowManager$BadTokenException: Unable to add window -- token null is not for an application
06-06 12:09:22.971: E/AndroidRuntime(992):  at android.view.ViewRoot.setView(ViewRoot.java:509)
06-06 12:09:22.971: E/AndroidRuntime(992):  at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:177)
06-06 12:09:22.971: E/AndroidRuntime(992):  at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:91)
06-06 12:09:22.971: E/AndroidRuntime(992):  at android.app.Dialog.show(Dialog.java:241)
06-06 12:09:22.971: E/AndroidRuntime(992):  at android.app.AlertDialog$Builder.show(AlertDialog.java:802)
06-06 12:09:22.971: E/AndroidRuntime(992):  at android.widget.Spinner.performClick(Spinner.java:257)
06-06 12:09:22.971: E/AndroidRuntime(992):  at android.view.View$PerformClick.run(View.java:8816)
06-06 12:09:22.971: E/AndroidRuntime(992):  at android.os.Handler.handleCallback(Handler.java:587)
06-06 12:09:22.971: E/AndroidRuntime(992):  at android.os.Handler.dispatchMessage(Handler.java:92)
06-06 12:09:22.971: E/AndroidRuntime(992):  at android.os.Looper.loop(Looper.java:123)
06-06 12:09:22.971: E/AndroidRuntime(992):  at android.app.ActivityThread.main(ActivityThread.java:4627)
06-06 12:09:22.971: E/AndroidRuntime(992):  at java.lang.reflect.Method.invokeNative(Native Method)
06-06 12:09:22.971: E/AndroidRuntime(992):  at java.lang.reflect.Method.invoke(Method.java:521)
06-06 12:09:22.971: E/AndroidRuntime(992):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
06-06 12:09:22.971: E/AndroidRuntime(992):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
06-06 12:09:22.971: E/AndroidRuntime(992):  at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:51:33.340

```
protected Dialog onCreateDialog(int id){    
    Dialog dialog;
    switch(id) {

    case DIALOG_SEND_PM:
        Spinner spinner = (Spinner)findViewById(R.id.pm_server);
        ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(this, R.array.server_array, android.R.layout.simple_spinner_item);             
        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        spinner.setAdapter(adapter);
        spinner.setOnItemSelectedListener(new MyOnItemSelectedListener())

        dialog = new Dialog(PM.this);
        dialog.setContentView(R.layout.send_pm_dialog);
        dialog.setTitle(R.string.send_pm);
        pmMessage = (EditText) dialog.findViewById(R.id.send_pm_box);
        Button sendPm = (Button) dialog.findViewById(R.id.send_pm_button);
        sendPm.setOnClickListener(PM.this);
        break;

    default:
        dialog = null;
   } 
```

# django - Django 获取所有关系

> ID：10909265
> 
> 赞同：0
> 
> 时间：2012-06-06T06:38:07.453
> 
> 标签：django, foreign-keys

我有一个与此代码段结构相似的应用程序

```
class Blog(models.Model):
    name = models.CharField(max_length=25)

class Category(models.Model):
    name = models.CharField(max_length=25)
    blog = models.ForeignKey(Blog)

class Entry(models.Model):
    title = models.CharField(max_length=25)
    category = models.ForeignKey(Category) 
```

什么是最通用的方式，我可以在其他应用程序中使用它来获取所有博客及其类别和条目？

我考虑为博客模型创建一个管理器，它可以获取该博客的所有类别，但它对模型名称进行了硬编码

```
 class BlogManager(models.Manager):
     def categories(self):
         return Category.objects.filter(blog=self) 
```

有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T06:48:32.170

你想要的是一个[Select Related](https://docs.djangoproject.com/en/dev/ref/models/querysets/#select-related)。它返回一个 QuerySet，它将自动“遵循”外键关系，在执行查询时选择附加的相关对象数据。您对博客的查询类似于：

```
Blog.objects.select_related().filter( something ) 
```

或者

```
Blog.objects.select_related().get( something ) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T13:41:25.183

为什么不使用标准方式？使用博客的 PK 与 FK 关系进行过滤。

```
Category.objects.filter(blog__pk=self.pk) 
```

# c - 用 C 语言输出这个程序的解释？

> ID：10909266
> 
> 赞同：6
> 
> 时间：2012-06-06T06:38:15.347
> 
> 标签：c, endianness

我在 C 中有这个程序：

```
int main(int argc, char *argv[])
{

  int i=300;
  char *ptr = &i;
  *++ptr=2;
  printf("%d",i);
  return 0;
} 
```

小端的输出是 556。

我试图理解输出。这是我的解释。

**问题是答案在大端机器中是否保持不变？**

我 = 300; => i = 100101100 //以二进制字格式 => BB Hb 0001 00101100 其中 B = 字节，Hb = 半字节

(A)=> 在内存中（假设它是小端））

```
0x12345678 - 1100 - 0010 ( Is this correct for little endian)

0x12345679 - 0001 - 0000

0x1234567a - 0000 - 0000

0x1234567b - 0000 - 0000 
```

0x1234567c - 下一个 intezer 的位置（ptr++ 或 ptr + 1 的位置，其中 ptr 是一个 intezer 指针，因为 ptr 是 int 类型 => 在执行 ++ptr 时它将增加 4 个字节（**int 的大小**））

什么时候

(B)我们做 char *ptr = &i; ptr 将变为 char => 在执行 ++ptr 时它将增加 1 个字节（**char 的大小**），因此在执行 ++ptr 时它将跳转到位置 -> 0x12345679（具有 0001 - 0000）现在我们正在执行 *+ +ptr = 2 => 0x12345679 将被 2 覆盖 => 0x12345679 将具有 00* *10** - 0000 而不是 000* *1* * - 0000

所以新的内存内容将如下所示：

（C）

```
0x12345678 - 1100 - 0010

0x12345679 - 0010 - 0000

0x1234567a - 0000 - 0000

0x1234567b - 0000 - 0000 
```

相当于 => BB Hb 0010 00101100 其中 B = 字节和 Hb = 半字节

我的推理是否正确？还有其他简短的方法吗？Rgds，软软的

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-06T06:50:42.103

在 little-endian 32 位系统中，int `300`( `0x012c`) 通常 (*) 存储为 4 个连续字节，最低在前： `2C 01 00 00`. 当您增加以前是 int 指针的 char 指针时`&i`，您将指向该序列的第二个字节，并将其设置为 2 使该序列`2C 02 00 00`- 当返回一个 int 时，它是`0x22c`或 556。

（至于您对位序列的理解......似乎有点偏离。字节序会影响内存中的*字节*顺序，因为字节是最小的可寻址单元。字节内的位不会反转；低位字节将是`2C`( `00101100`) 系统是小端还是大端。（即使系统确实反转了一个字节的位，它也会再次反转它们以将它们作为数字呈现给您，因此您不会注意到区别。）最大的区别在于该字节出现在序列中的位置。*位*顺序很重要的唯一地方是硬件和驱动程序，您一次只能接收不到一个字节。）

在 big-endian 系统中，int 通常 (*) 由字节序列表示`00 00 01 2C`（与 little-endian 表示仅在字节顺序上不同——最高字节在前）。不过，您仍在修改序列的第二个字节...making `00 02 01 2C`，它作为 int 是`0x02012c`或 131372。

^(^((*))很多事情都在这里发挥作用，包括二进制补码（现在几乎所有系统都使用它......但 C 不需要它）、 的值`sizeof(int)`、对齐/填充，以及系统是否真的很大-或little-endian或它的半成品实现。这就是为什么使用较大类型的字节经常导致未定义或特定于实现的行为的一个重要部分。)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T06:56:32.850

这是实现定义的。根据标准，int 的内部表示是未知的，因此您正在做的事情是不可移植的。请参阅 C 标准中的第 6.2.6.2 节。

但是，由于大多数实现使用带符号整数的二进制补码表示，因此字节顺序将影响结果，如 cHaos 回答中所述。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-06T06:46:27.973

这是你的`int`：

```
int i = 300; 
```

这就是内存中包含的内容`&i`：`2c 01 00 00` 使用下一条指令，您将地址分配`i`到`ptr`，然后移动到下一个字节`++ptr`并将其值更改为`2`：

```
char *ptr = &i;
*++ptr = 2; 
```

所以现在内存包含：（`2c 02 00 00`即556）。不同之处在于，在[*大端系统*](http://en.wikipedia.org/wiki/Endianness)`i`中，您会看到的地址`00 00 01 2C`，而在更改后：`00 02 01 2C`。

即使 an 的内部表示`int`是*实现定义的*：

> 对于有符号整数类型，对象表示的位应分为三组：值位、填充位和符号位。不需要任何填充位；signed char 不应有任何填充位。应该有一个符号位。作为值位的每个位应与相应无符号类型的对象表示中的相同位具有相同的值（如果有符号类型中有 M 个值位，无符号类型中有 N 个值位，则 M ≤ N）。如果符号位为零，则不应影响结果值。如果符号位为 1，则应通过以下方式之一修改该值： — 符号位为 0 的对应值取反（符号和幅度）；— 符号位的值为 -(2M)（二进制补码）；— 符号位的值为 -(2M - 1)（反码）。**implementation-defined**，无论符号位为 1 且所有值位为零（对于前两个），还是符号位和所有值位为 1（对于一个补码）的值是陷阱表示还是正常值。在符号和幅度以及一个的补码的情况下，如果这个表示是一个正常值，它被称为负零。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-06T19:25:10.160

我喜欢实验，这就是拥有 PowerPC G5 的原因。

堆栈测试.c：

```
int main(int argc, char *argv[])
{
  int i=300;
  char *ptr = &i;
  *++ptr=2;
  /* Added the Hex dump */
  printf("%d or %x\n",i, i);
  return 0;
} 
```

构建命令：

```
powerpc-apple-darwin9-gcc-4.2.1 -o stacktest stacktest.c 
```

输出：

```
131372 or 2012c 
```

简历： cHao 的回答是完整的，如果您有疑问，这里是实验证据。

# c++ - 在 C++ 中读取文件的更好方法是什么？

> ID：10909267
> 
> 赞同：-7
> 
> 时间：2012-06-06T06:38:22.727
> 
> 标签：c++

我想用 C++ 读取文件。我想知道哪种阅读方式更好（速度和优雅）。

我对逐字符读取文件或逐字符串读取文件有点困惑。

我只想拥有自己的 xml/html 解析器。我什至想解析一个未格式化的 xml/html 文件。那么哪种方法更适合我的目的呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:42:47.700

两者都可以很好地工作。真正的问题是您在读取数据后想要对数据做什么——如果您的处理面向完整的行，那么读取完整的行。如果它是面向单词的，那么就读单词。如果它面向字符，则读取单个字符。

举个例子，如果您想读取一个文件并将其中包含的每个字母大写，那么一次读取一个字符、将其大写、写出并重复可能是最简单的。

如果您想将文件中任何单词的首字母大写，最简单的方法可能是读取一个单词，将第一个字母大写，写出单词，然后重复。

两者都没有比另一个更好，更差，更优雅等 - 这纯粹是选择适合你想要做的事情的问题。一个可能比另一个快一点，但这在很大程度上取决于您正在使用的标准库，并且几乎没有（如果有的话）方法可以预测通常哪个会更快。

# parsing - 如何对元素进行随机嵌入括号

> ID：10909271
> 
> 赞同：0
> 
> 时间：2012-06-06T06:38:36.160
> 
> 标签：parsing, nlp, machine-learning

我正在编写一个用于自动成分括号的学习算法。由于算法是从头开始的，因此包围（嵌入）首先应该是随机的。然后通过迭代对其进行改进。我坚持如何进行随机包围。您能否推荐一个 R 或 Python 代码或给出一些编程想法（伪代码）？我还需要有关如何检查随机括号与正确括号的正确性的想法。

这就是我试图通过学习过程最终达到的目标，从随机括号开始。

这是一个句子。“他”“追”“狗”。

用语法元素 N、V、D、N 替换每个元素。

括号（第一阶段）（D，N是成分）：（N）（V）（DN）

包围（第二阶段）：（N）（（V）（DN））

包围（第三阶段）：（（N）（（V）（DN）））

请帮忙。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T07:26:02.417

以下是我所能提供的信息：

一种天真的方法是[生成一些树](https://stackoverflow.com/questions/1160160/generating-all-possible-trees-of-depth-n)（生成*所有*树会很快变得非常占用空间），拥有与单词（或组件）一样多的叶子，然后选择合适的树（随机或根据适当的分区）并将其应用为包围模式。为了提高效率，请寻找一种真正的随机树生成算法（我目前找不到）。

此外，我建议阅读有关[遗传算法](http://en.wikipedia.org/wiki/Genetic_algorithm)/进化编程的信息，尤其是[适应度函数](http://en.wikipedia.org/wiki/Fitness_function)（这是“检查随机结果的正确性”部分）。据我了解，您希望程序检测解析方式，然后将它们作为“学习”保存在内存中。这与记忆“最适”模式（并且只有突变作为变化因素）的遗传算法非常匹配。

一个很棒的、非常精细的（如果可行的话）但可能极其困难的方法是使用[基因编程](http://en.wikipedia.org/wiki/Genetic_programming)。但这可能与您想要的相差太大。

最后，检查括号 imo 正确性的最简单方法是保留一个包含语法/句法规则的表格并与它们进行比较。您还可以通过将它们保存在树中并测量从实际模式 ( `(V D) N`) 到正确模式 ( `V (D N)`) 的距离来改进它以获得更好的适应度函数。（这只是一些随机的想法，我从来没有真正这样做过......）

# c# - 保存时在 WF 4.0 中带有超时的书签

> ID：10909276
> 
> 赞同：1
> 
> 时间：2012-06-06T06:39:11.730
> 
> 标签：c#, workflow-foundation-4

我已经环顾了一段时间，我想在 WF 4.0 中的书签上创建一个超时属性。

我可以使用具有两个不同分支的 Picker 使其工作（其中一个有计时器，另一个有我的书签）。

但是，如果我的工作流被持久化到数据库中（因为超时将是几天），这将不起作用，因为它不会触发，直到我下次加载工作流（也可能是几天）。

有谁知道在 WF 4.0 中是否有其他方法可以解决这个问题？或者你做了一个很好的解决方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-08T23:18:52.907

好的，所以您要做的是构建一个工作流服务，您将无法通过**不是**通过附近的工作流服务主机 (WSH) 托管的工作流来轻松地做到这一点。告诉你它不能完成是不正确的，但我可以告诉你你不想这样**做**。

该服务将通过 WCF 端点提供，并且可以**完全**满足您的需求。您将能够构建一个工作流，其中有一个选择分支，其中包含两个东西，第一个是接收活动，如果用户及时响应，则可以调用该活动。第二个将是一个持久的计时器，它以指定的时间间隔滴答作响，并允许您沿着另一条路径分支。现在，同一服务可以有多个接收活动，因此暴露多个端点，因此如果您的工作流有任何其他分支，就像这样，您可以在一个原子工作流中处理所有这些。

这有意义吗？

# java - 有JPA 3这样的版本吗？

> ID：10909277
> 
> 赞同：8
> 
> 时间：2012-06-06T06:39:16.393
> 
> 标签：java, hibernate, google-app-engine, jpa, ejb

AFAIK，我一直在使用的最新最好的是 JPA 2.0。

我很困惑 GAE 有一个名为 appengine-java-sdk-1.6.5/lib/user/orm/geronimo-jpa_3.0_spec-1.1.1.jar 的 jar。我一直觉得 GAE 在采用与最新、最先进协议的兼容性方面总是存在延迟。他们花了一些时间来采用 JPA 2.0。

JPA 3.0 jar 在 GAE SDK 库中做了什么？有JPA 3.0这样的版本吗？谷歌这次是不是领先于其他所有人实施了新版本协议，从而超越了我们？我可以参考的地方是否有 JPA 3.0 规范或参考 impl？

我（目前）不是 EJB 人（抱歉......自从我 10 年前对 EJB 1.0 有不好的体验以来，我就决定避免使用 EJB）。

*   EJB 3.0 是 JPA 2.0 的同义词吗？
*   还是 JPA 2.0 作为 EJB 3.0 的子集采用
*   还是 JPA 3.0 = EJB 3.0？

WRT 我问的这个问题：[从 Hibernate entitymanager 3.6.9 迁移到 4.1.2 crashed mysql connection](https://stackoverflow.com/questions/10490129/moving-from-hibernate-entitymanager-3-6-9-to-4-1-2-crashed-mysql-connection)，Hibernate entity-manager 4.x 是否与 JPA 3.0 或至少是晚于 2.0 的 JPA 版本相关？我遇到了 Hibernate entity-manager 3.x 和 4.x 之间的显着差异（并且到目前为止避免部署 4.x）。

我意识到这个问题相当令人困惑，可能我应该将每个项目都作为单独的问题提出，但我希望有人可以将所有这些结合在一个论文中：ejb 3、JPA 2/3、geronimo、休眠 ent-mgr 3/4。谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-06T07:37:32.403

正如其他人所说，JPA 2.0 是当前版本（Java EE 6 的一部分），下一个版本将是 JPA 2.1，目前正在规范中（[JSR 338](http://jcp.org/en/jsr/detail?id=338)）并将包含在 Java EE 7 中。没有JPA 3 还没有，所以 JAR 的名字很糟糕。

JPA 1.0 是作为 Java EE 5 的一部分引入的，将持久性部分从 EJB 规范中分离出来（所以 Java EE 5 引入了 EJB 3.0 和 JPA 1.0，不再有实体 Bean，是的！）。Java EE 6 然后包括 EJB 3.1 和 JPA 2.0。

Java EE 7 将包括[EJB 3.2](http://jcp.org/en/jsr/detail?id=345)和 JPA 2.1。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-06T06:55:26.173

不，没有 JPA3 这样的东西（2012 年 6 月）。有 JPA1、JPA2 和（计划中的）JPA2.1。那个 geronimo-specs jar 实际上是用于 JPA1 的，但是一些非常短视的人/团体决定这样命名它，现在正在看到它的后果。

正如您所说，GAE 已经支持 JPA2，使用其 JPA 插件的 v2.x 可从 Maven 存储库或此处[http://code.google.com/p/datanucleus-appengine/](http://code.google.com/p/datanucleus-appengine/) 使用兼容的 jpa-api v2 jar（例如 geronimo-jpa_2.0_spec）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T07:26:16.323

自从我上次认真与 JPA 合作以来，事情可能已经发生了变化，所以我在这里说得更正了。但是，据我了解，JPA 2 是当前规范。我怀疑您提到的 jar 是 JPA 2 规范。2011 年，Geronimo 那时还没有开箱即用地支持 JPA 2。

就 EJB 和 JPA 而言：

1.  EJB 和 JPA 都基于 POJO（普通旧 Java 对象）。
2.  JPA 类本质上是一种数据访问层技术，即用于与数据层交互。
3.  EJB 本质上用于业务层。它将包含业务逻辑并协调不同 JPA 类之间的交互。例如，在 JPA 中，您可能有一个 Customer 类（与 Customer 表交互）和一个 Orders 类（与 Orders 表交互）。在您的 EJB 中，您将使用这两个类为特定客户创建新订单。

当使用 JPA 作为一种技术时，它允许您将数据库访问功能保持在一层。EJB、Web 应用程序（Servlets、JSP、JSF）、Web 服务甚至是 Swing 应用程序都可以使用这一层。这将使所有这些应用程序的数据库访问逻辑保持一致。然后，对数据库的更改将需要对 JPA 进行更改。

这是对差异的非常简化的解释，并且这个主题非常深入，但是这些要点应该可以帮助您区分两者。

顺便说一句，新的 EJB 规范确实使 bean 非常易于使用、开发和部署。我很幸运我错过了多年前的原始规范。目前，它们非常易于使用。

希望这有助于清除迷雾。

# lisp - 如何将类似的显示（printf）写入方案中的文件？

> ID：10909278
> 
> 赞同：0
> 
> 时间：2012-06-06T06:39:20.643
> 
> 标签：lisp, scheme

使用 TinyScheme。

我正在将我的代码写入文件（在这里解决了 50%：[如何在 tinyscheme 中写入文件？](https://stackoverflow.com/questions/10908660/how-to-write-to-file/10908879#comment14225320_10908879)）：

```
(with-output-to-file "biophilia.c"
  (lambda ()
    (write code)
    ))
; and segmentation fault comes here 
```

但它用 "" qotes 和 \n\r 编写我的代码，因此它不会将其转换为换行符。

我需要编写看起来像的代码`(display code)`

在[球拍文档](http://docs.racket-lang.org/reference/file-ports.html#%28def._%28%28lib._racket/private/base..rkt%29._with-output-to-file%29%29)中的示例中有 printf，但似乎 TinyScheme 实现没有 printf，也许我需要发现（添加它的代码）printf？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-05-10T23:39:38.280

你可以试试：

```
(call-with-output-file "biophilia.c" 
    (lambda (port) 
        (write-string code port))) 
```

提供的“代码”是一个字符串。它将删除任何转义，并将其写入纯文本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:08:11.770

找到解决方案，唯一的解决方法是将前挂 put-char 改为 write-char

```
 (define assert
    (lambda (aa msg)
      (if (null? aa)
    #t
    (if (not (car aa))
      (error msg)
      (assert (cdr aa) msg))))) 

 (display "define fprintf\n\r")
(define (fprintf port f . args)
   (let ((len (string-length f)))
     (let loop ((i 0) (args args))
       (cond ((= i len) (assert (null? args)))
         ((and (char=? (string-ref f i) #\~)
           (< (+ i 1) len))
          (dispatch-format (string-ref f (+ i 1)) port (car args))
          (loop (+ i 2) (cdr args)))
         (else
          (write-char (string-ref f i) port)
          (loop (+ i 1) args))))))

(display "define printf\n\r")
(define (printf f . args)
   (let ((port (current-output-port)))
     (apply fprintf port f args)
     (flush-output-port port)))

    (display "writing to output file biophilia.c\n\r")
    (with-output-to-file "biophilia.c"
      (lambda ()
        (printf code)
        )) 
```

代码不再出现段错误

但在文件末尾：错误：（：25）没有足够的参数

# php - php比较两个多维数组并检查重复

> ID：10909279
> 
> 赞同：0
> 
> 时间：2012-06-06T06:39:26.313
> 
> 标签：php

我有两个数组

```
$array1 = array(
    0 => array(
        'user' => 'user0',
        'id' => 'id0'
    ),
    1 => array(
        'user' => 'user1',
        'id' => 'id1'
    ),
    2 => array(
        'user' => 'user2',
        'id' => 'id2'
    )
);

$array2 = array(
    0 => array(
        'emp' => 'emp0',
        'id' => 'id3'
    ),
    1 => array(
        'emp' => 'emp1',
        'id' => 'id1'
    ),
    2 => array(
        'emp' => 'emp2',
        'id' => 'id2'
    )
); 
```

我需要先循环数组 2，然后将数组 1 中的 id 输入提供给数组 1，然后搜索来自 arr1 的 id1 的值是否存在于数组 2 中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:05:37.673

也许这可以工作？（如果我正确理解了你的问题）

```
$id_arr = array();
$final_arr = array();

checkArray($array1, $id_arr, $final_arr);
checkArray($array2, $id_arr, $final_arr);

function checkArray($arr, &$id_arr, &$final_arr) {
  foreach ($arr as $key => $value) {
    if (!in_array($value['id'], $id_arr)) {
      $id_arr[] = $value['id'];
      $final_arr[] = $value;
    }
  }
}

var_dump($final_arr); 
```

# ruby-on-rails - 太阳黑子地理空间搜索错误：未知字段“location_ll”

> ID：10909281
> 
> 赞同：3
> 
> 时间：2012-06-06T06:39:40.643
> 
> 标签：ruby-on-rails, ruby-on-rails-3, geospatial, sunspot

几天来，我一直在尝试将地理空间搜索集成到我的 rails 应用程序中，但是当我运行 rake sunspot:solr:reindex 时不断收到此错误

```
RSolr::Error::Http - 400 Bad Request
Error: ERROR:unknown field 'location_ll'

Request Data: "<?xml version=\"1.0\" encoding=\"UTF-8\"?><add><doc><field name=\"id\">Place 1</field><field   name=\"type\">Place</field><field name=\"type\">ActiveRecord::Base</field><field name=\"class_name\">Place</field><field name=\"location_ll\">42.348065,-71.083623</field></doc> #etc... keeps going on for all the objects/fields being indexed in the table 
```

据我所知，当我注释掉模型中的 latlon(:location) 行时，搜索和索引工作正常，但不知道它是错误还是我遗漏了什么。以下是我目前使用的设置：

导轨 3.2.1 红宝石 1.9.2p318

宝石 sunspot (2.0.0.pre.120417) sunspot_rails (2.0.0.pre.120417) sunspot_solr (2.0.0.pre.120417)

:latitude 和 :longitude 都是浮点格式

放置模型

```
searchable do
text :name
latlon(:location) { Sunspot::Util::Coordinates.new(self.latitude, self.longitude) }
end 
```

我在 Sunspot::Util::Coordinates.new 中尝试过变体，包括 (lat, lon) 和 (latitude, longitude)

我查看了[https://github.com/sunspot/sunspot/issues/203](https://github.com/sunspot/sunspot/issues/203)并根据建议，停止了我的 sunspot 服务器，删除了 solr 文件夹，删除了 sunspot.yml，重新安装并重新启动，但我仍然得到错误。有任何想法吗？非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T18:41:04.873

确保 solr 文件夹中的 schema.xml 与此处的最新文件匹配：

[https://github.com/sunspot/sunspot/blob/master/sunspot_solr/solr/solr/conf/schema.xml](https://github.com/sunspot/sunspot/blob/master/sunspot_solr/solr/solr/conf/schema.xml)

仍然无法在我的本地主机上工作，但它正在生产中

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-02-09T23:22:07.090

如果您使用的是[websolr](http://websolr.com/) ，则需要确保将*索引类型*设置为*Sunspot 2.0 for Ruby on Rails (Solr 3)*。我的默认*为 Ruby on Rails 的 Sunspot 1.3.x*，这是导致`unknown field 'location_ll'`错误的原因。

我正在使用 Heroku 插件，为此您可以通过运行设置*索引类型*：

```
$ heroku addons:open websolr 
```

然后单击您的索引（可能`default`），然后从下拉列表中选择并点击更改：

![在此处输入图像描述](../Images/27c1529584b307161ba900e09a0aa024.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-15T15:39:28.153

还要确保从您的 solr 目录加载 schema.xml，而不是从默认的 gem 目录加载。

# javascript - 如何在 Redis 中执行持久化存储？

> ID：10909282
> 
> 赞同：9
> 
> 时间：2012-06-06T06:39:41.913
> 
> 标签：javascript, redis

关闭redis服务器后，使用set存储的值被破坏，在这里我找到了使用持久存储的方法，任何人都可以帮助我，如何使用javascript来实现？

我想将来自客户端的一些值存储在 redis db 中，并且必须在其他客户端中使用该值。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-06-06T16:14:04.633

您需要配置 Redis 服务器以支持持久性机制。此配置存储在一个文件中，该文件作为 redis-server 命令行上的参数给出。

这是 Redis 2.4 的默认文件： [https ://github.com/antirez/redis/blob/2.4/redis.conf](https://github.com/antirez/redis/blob/2.4/redis.conf)

实际上提供了两种不同的持久性机制：快照（RDB）和仅附加文件（AOF）。你会在这里找到完整的解释：[http ://redis.io/topics/persistence](http://redis.io/topics/persistence)

最简单的机制是快照（RDB）。它可以通过在配置文件中定义*save*、*dbfilename*和*dir参数来激活。*

要在不停止 Redis 服务器的情况下激活 RDB，可以从 Redis 客户端使用以下命令：

```
> config set save "300 1" 
```

它会将 RDB 配置为每 5 分钟转储一次所有内容（以适应您自己的情况）。

请注意，您应该使用[shutdown](http://redis.io/commands/shutdown)命令停止 Redis 服务器。默认行为是在停止之前生成最后一个快照。当 Redis 再次启动时，转储文件被加载到内存中。

如果您需要从转储文件中提取数据（当 Redis 离线时），您在[https://github.com/sripathikrishnan/redis-rdb-tools有一个出色的 Python 包](https://github.com/sripathikrishnan/redis-rdb-tools)

# opengl - 与例如 OpenGL（或其他图形实现）相比的光线追踪速度

> ID：10909286
> 
> 赞同：-2
> 
> 时间：2012-06-06T06:40:04.200
> 
> 标签：opengl, graphics, gpu, raytracing

如果 OpenGL 可以实现快速（相对）帧速率，因为部分管道由 GPU 处理，那么在没有 GPU 的情况下它会如何执行，即纯粹在软件中完成？会和光线追踪一样的订单速度吗？慢点？

GPU 能否支持部分光线追踪算法？光线追踪能否变得足够快以用于未来的互动场景或游戏？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T08:02:20.423

你真的无法以这种方式比较 OpenGL 和光线追踪。OpenGL 是一个光栅绘图API，即它只是将单个点、线和三角形放到屏幕上。没有像场景或连贯的几何对象这样的东西。

即使在软件中实现，像 OpenGL 这样的光栅化器也可以非常快，非常容易。光栅化器的渲染复杂性主要取决于输入几何图形的数量。由于一切都发生在本地（= 一次一个三角形），它也非常适合缓存。

光线追踪是一种全局渲染模型。因此，您需要将整个场景保存在内存中，并且对于投射到场景中的每条光线，理论上它都可以与场景的每个部分进行交互。通常，交互的截止值是预设的，这意味着渲染帧的总复杂度仅取决于采样的数量，即像素渲染。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:27:53.023

对于大多数场景，光线追踪本质上比标准 OpenGL 渲染等基于光栅化的方法需要更多的工作，因此也更慢。

对于某些应用程序，情况正好相反。例如，如果您有大量球体并存储在正确类型的搜索数据结构中，则通过场景发射光线可能比在每个球体顶部绘制视锥体中的所有球体更快其他。

*GPU现在*确实支持光线追踪算法，而且他们已经这样做了好几年了。您通常必须自己实现这些算法，没有什么能像使用 OpenGL 获得的用于光栅化的预打包算法一样。我确信 nVidia 在他们的 CUDA SDK 中有示例。实时 3D 图形中的许多高端效果都会跟踪一些光线，即使它们不是纯粹的光线跟踪算法。

您可以为在标准 GPU 上实时运行的简单场景编写简单的光线追踪器，而无需太多关于如何优化它的知识。

谷歌有关“实时光线追踪”的科学论文，以获得更先进的方法。看看 nVidia 的 CUDA SDK。也许 AMD 也有例子。

# sharepoint - 使特定用户的特定 Web 部件可见

> ID：10909287
> 
> 赞同：1
> 
> 时间：2012-06-06T06:40:10.920
> 
> 标签：sharepoint

我们可以开发一个 webpart 并在共享点站点中部署一些用户上下文。这是特定于用户的。假设如果我们使用只读用户登录，那么我们将收到一条错误消息，说明发生了错误。有没有办法避免这种情况？意思是，如果我们使用只读用户登录，那么该用户应该看不到 webpart。如果登录用户具有完全权限，那么该用户应该可以看到它。

```
SPSecurity.RunWithElevatedPrivileges 
```

方法 以完全控制权限执行指定的方法，即使用户没有完全控制权限。像这样有什么方法可以满足我的标准，而不会在网页中显示任何错误。请给我解决方案。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T08:36:43.063

如果用户没有足够的权限来访问某个资源并停止呈现 Web 部件，您可以做的是处理。

首先，拒绝访问处理：假设您正在访问`CreateChildControls`Web 部件中的资源：

```
private bool accessDenied;

protected override void CreateChildControls()
{ 
  try
  {
    // prevent SharePoint from catching an access denied exception and 
    // redirecting to the error page.
    using (new SPSecurity.SuppressAccessDeniedRedirectInScope())
    {
      SPContext.Current.Web.Lists["Restriced"] // some thing...
    }
  }
  catch (UnauthorizedAccessException)
  {
    // set variable in case the user has not enough permissions
    accessDenied = true;
  } 
} 
```

现在，我们知道用户是否没有足够的权限来访问资源。下一步是禁用呈现并隐藏 Web 部件及其内容。隐藏 Web 部件很简单。我们需要做的就是覆盖 render 方法并且什么都不做：

```
protected override void RenderWebPart(HtmlTextWriter writer)
{
  if (accessDenied) return;

  base.RenderWebPart(writer);
} 
```

您也可以显示错误消息。但是，我猜这会破坏目的。

最后一步是禁用 Web 部件的镶边。这可以通过`ChromeType`在`OnPreRender`方法中设置来完成：

```
protected override void OnPreRender(EventArgs e)
{
  // Important to call base method in order to ensure child controls...
  base.OnPreRender(e);

  if (accessDenied)
  {
    ChromeType = PartChromeType.None;
  }
} 
```

当然，如果您要覆盖 Web 部件中的其他方法，则需要检查是否`accessDenied`已设置。

# objective-c - 简单的 Xcode，Objective-C 类不起作用

> ID：10909288
> 
> 赞同：0
> 
> 时间：2012-06-06T06:40:17.103
> 
> 标签：objective-c

好的，所以我已经开始了我的 Objective-C 世界的冒险，目前我被以下场景难住了。场景如下，我创建了一个类，一个简单的方法，创建了我的类的一个对象，然后尝试使用我创建的方法设置我的对象的值。当我尝试运行应用程序时，我在

```
[chris setAge:29]; 
```

和控制台输出状态，

> (lldb)

这一切都是一个简单的命令行工具，包含一个文件 main.m

```
//  main.m

#import <Foundation/Foundation.h>

@interface Person : NSObject {
    int age;
}
-(void)setAge:(int)a;
@end

@implementation Person
-(void)setAge:(int)a {
    age = a;
}
@end

int main(int argc, const char * argv[])
{

    @autoreleasepool {

        // insert code here...
        int age = 29;
        int money = 0;
        int broke = age + money;
        NSLog(@"Hello, World!\n");
        NSLog(@"I am %i",broke);

        Person *chris = [[Person alloc]init];
        [chris setAge:29];
        NSLog(@"Chris's age is %@",chris);

    }
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:44:54.737

我认为您已经设置了一个断点，并且调试器只是在断点处停止，您的代码没有任何问题...

# multiprocessing - ARM 和 DSP 处理器如何协同工作？

> ID：10909290
> 
> 赞同：1
> 
> 时间：2012-06-06T06:40:25.693
> 
> 标签：multiprocessing, processor, microprocessors, ti-dsp

ARM 和 DSP 处理器如何协同工作，指令集不同，如何编写应该在 DSP 处理器上工作的代码，例如 FFT、视频处理等。它们如何相互切换？如果用一些例子来解释会很有帮助

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-08T06:06:50.923

为具有不同指令集 (ISA) 的芯片编写软件与为具有相同 ISA 的两个芯片编写多核软件并没有什么不同。您最终要做的就是将软件编译到不同的 ISA。就像两个相同类型的处理器一样，它们通常通过某种共享内存进行通信。因此 DSP 可能会将字节流写入内存。然后 CPU 会轮询内存，直到它注意到新数据然后处理它。请注意，这就是 PC 上所有外围设备的工作方式。它们运行固件（嵌入式软件）并通过系统的共享主存储器进行通信。（并使用中断）。

请注意，即使您为相同 ISA 的两个芯片编写软件，启动序列通常也有一个主处理器运行与从属处理器不同的代码。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-13T02:36:42.710

一个软件用于帮助 ARM 和 DSP 中的两个不同的操作系统相互通信。在 OMAP 的情况下，它被称为 dspbridge（或者另一个更简单的被称为 DSPlink）。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-12T12:39:28.553

查看用于在 arm 和 dsp 之间进行通信的 Syslink 。你可以阅读更多：

> [http://omapedia.org/wiki/Syslink_Project](http://omappedia.org/wiki/Syslink_Project)

![在此处输入图像描述](../Images/95cbbd65aa0677c88909f190106c8b43.png)

```
 1 Application calls RCM client object on local processor to request execution of a remote function.
   2 RCM client object passes function request message to remote RCM server through local MessageQ.
   3 Local MessageQ puts message in remote MessageQ's list of received messages.
   4 Local MessageQ requests local Notify module to send notification to remote processor that a message has arrived.
   5 Local Notify module notifies remote Notify module.
   6 Remote Notify module tells Remote MessageQ object to check its list of received messages.
   7 Remote MessageQ object gives remote RCM server the function request message it received.
   8 Remote RCM Server calls remote function. 
```

# asp.net - 来自数据库的水晶报表动态图像显示

> ID：10909295
> 
> 赞同：1
> 
> 时间：2012-06-06T06:40:56.360
> 
> 标签：asp.net, crystal-reports-2008

我编写了一个代码来在水晶报表中显示员工的图像。在数据库中存储员工的图像路径，并将这些图像转换为字节数组并将其绑定到报告及其抛出

“提供的参数无效。无法打开行集。文件 C:\Users\jyothik\AppData\Local\Temp\IDCard {5BCC8A08-330A-4C48-82DE-8F57365D60DB}.rpt 中的错误：数据库的参数无效。” 错误。

如果我不绑定该图像文件，任何帮助都将非常全面并且报告工作正常。

# php - Javascript Stockticker：未在 php 页面上显示数据

> ID：10909296
> 
> 赞同：0
> 
> 时间：2012-06-06T06:40:56.860
> 
> 标签：php, javascript

我没有收到任何 javascript 错误，代码只能正确呈现，但服务器仍然没有在页面上显示数据。请检查下面的代码。

```
 <style type="text/css">
#marqueeborder {
    color: #cccccc;
    background-color: #EEF3E2;
    font-family:"Lucida Console", Monaco, monospace;
    position:relative;
    height:20px; 
    overflow:hidden;
    font-size: 0.7em;
}
#marqueecontent {
    position:absolute;
    left:0px;
    line-height:20px;
    white-space:nowrap;
}
.stockbox {
    margin:0 10px;
}
.stockbox a {
    color: #cccccc;
    text-decoration : underline;
}
</style>

 </head>

 <body>
  <div id="marqueeborder" onmouseover="pxptick=0" onmouseout="pxptick=scrollspeed">
<div id="marqueecontent">

<?php

    // Original script by Walter Heitman Jr, first published on http://techblog.shanock.com

    // List your stocks here, separated by commas, no spaces, in the order you want them displayed:
    $stocks = "idt,iye,mill,pwer,spy,f,msft,x,sbux,sne,ge,dow,t";

    // Function to copy a stock quote CSV from Yahoo to the local cache. CSV contains symbol, price, and change
    function upsfile($stock) { copy("http://finance.yahoo.com/d/quotes.csv?s=$stock&f=sl1c1&e=.csv","stockcache/".$stock.".csv"); }

    foreach ( explode(",", $stocks) as $stock ) {

        // Where the stock quote info file should be...
        $local_file = "stockcache/".$stock.".csv";

        // ...if it exists. If not, download it.
        if (!file_exists($local_file)) { upsfile($stock); }
        // Else,If it's out-of-date by 15 mins (900 seconds) or more, update it.
        elseif (filemtime($local_file) <= (time() - 900)) { upsfile($stock); }

        // Open the file, load our values into an array...
        $local_file = fopen ("stockcache/".$stock.".csv","r");
        $stock_info = fgetcsv ($local_file, 1000, ",");

        // ...format, and output them. I made the symbols into links to Yahoo's stock pages.
        echo "<span class=\"stockbox\"><a href=\"http://finance.yahoo.com/q?s=".$stock_info[0]."\">".$stock_info[0]."</a> ".sprintf("%.2f",$stock_info[1])." <span style=\"";
        // Green prices for up, red for down
        if ($stock_info[2]>=0) { echo "color: #009900;\">&uarr;";   }
        elseif ($stock_info[2]<0) { echo "color: #ff0000;\">&darr;"; }
        echo sprintf("%.2f",abs($stock_info[2]))."</span></span>\n";
        // Done!
        fclose($local_file); 
    }
?>
<span class="stockbox" style="font-size:0.6em">Quotes from <a href="http://finance.yahoo.com/">Yahoo Finance</a></span>

</div>
</div>
 </body>
 <script type="text/javascript">

    // Original script by Walter Heitman Jr, first published on http://techblog.shanock.com

    // Set an initial scroll speed. This equates to the number of pixels shifted per tick
    var scrollspeed=2;
    var pxptick=scrollspeed;
var marqueediv='';
var contentwidth="";
var marqueewidth = "";
    function startmarquee(){
        alert("hi");
        // Make a shortcut referencing our div with the content we want to scroll
        marqueediv=document.getElementById("marqueecontent");
        //alert("marqueediv"+marqueediv);
        alert("hi"+marqueediv.innerHTML);

        // Get the total width of our available scroll area
         marqueewidth=document.getElementById("marqueeborder").offsetWidth;
        alert("marqueewidth"+marqueewidth);
        // Get the width of the content we want to scroll
         contentwidth=marqueediv.offsetWidth;
        alert("contentwidth"+contentwidth);
        // Start the ticker at 50 milliseconds per tick, adjust this to suit your preferences
        // Be warned, setting this lower has heavy impact on client-side CPU usage. Be gentle.
        var lefttime=setInterval("scrollmarquee()",50);
        alert("lefttime"+lefttime);
    }

    function scrollmarquee(){
        // Check position of the div, then shift it left by the set amount of pixels.

        if (parseInt(marqueediv.style.left)>(contentwidth*(-1)))
            marqueediv.style.left=parseInt(marqueediv.style.left)-pxptick+"px";
        //alert("hikkk"+marqueediv.innerHTML);}
        // If it's at the end, move it back to the right.
        else{
            alert("marqueewidth"+marqueewidth);
            marqueediv.style.left=parseInt(marqueewidth)+"px";
        }
    }

    window.onload=startmarquee;

</script>
</html> 
```

下面是服务器显示的页面。

![股票行情](../Images/dcd37fadc916e12e23dfc68bb43ea9e8.png)

![更新股票代码图像](../Images/f3797a60f9dde7f2456d174c3943d4e3.png)

我已根据您的建议更新了屏幕截图，我也对 html 进行了更改，以检查子开发人员显示的内容

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T06:55:01.283

~~1）首先移动`</body>`你的javascript之后。
2）你的父母`div`（id marqueeborder）的高度为20px并且溢出隐藏，所以cild `div`（id marqueecontent）将被切割，将你的html更改为：~~

 ~~```
<div id="marqueeborder" onmouseover="pxptick=0" onmouseout="pxptick=scrollspeed"></div>
<div id="marqueecontent">
...
</div> 
```~~ 

并将 #marqueecontent 的 css 替换`position:absolute; left:0px;`为`position: relative;`.

~~我希望这有帮助...~~

=== 更新 ===

在[我的示例](http://jsfiddle.net/a5vya/)中，您只需将 javascript 移动到`<head>`. html不需要更改！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-08T17:37:51.030

查看它说的原始网站：

> “如果 stockcache 目录有问题，脚本可能会为每个股票条目打印“0.00↑0.00”。相反，它看起来好像您的 HTTP 服务器正在吐出 PHP 代码而不是正确解析它。这可能是与页面上其他地方的服务器错误配置或冲突代码有关。不幸的是，如果不了解更多上下文，我无法更具体，例如相关网页的源代码、服务器操作系统、HTTPD 和 PHP 版本，及其配置。”

在托管帮助中查找，发现它必须允许 php（如果它在 html 中），必须创建一个 .htaccess 文件并添加托管公司给我的行，在与他们的支持问题进行简短交谈后已解决**

# php - PHP中文本框中的数字验证

> ID：10909297
> 
> 赞同：2
> 
> 时间：2012-06-06T06:41:05.113
> 
> 标签：php, post

我需要验证文本框的值。文本框用于格式为 0123456789 的客户电话号码（即仅 10 个数字，这意味着在输入数字时不允许用户添加任何字母或特殊符号）

数据通过表单 POST 方法发送到页面 (validate.php)。

我想要一个只接受10个数字的函数，没有字母或字符。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:52:15.570

[如AVD](https://stackoverflow.com/users/142822/avd)所述，您可以在 PHP 脚本中使用正则表达式，也可以使用 jQuery 的验证插件阻止用户提交表单。

HTML

```
<form name="contact" id="contact">
    <input name="number" id="number" />
</form> 
```

查询

```
$("#contact").validate({
    rules: {
        number: {
            required: true,
            minlength: 10,
            numeric: true
                }
    },
        messages: {
            number: {
                required: "Enter a phone number",
                minlength: "The phone number is too short",
                numeric: "Please enter numeric values only"
            }
        }
}) 
```

更多信息在[jQuery/Validation](http://docs.jquery.com/Plugins/Validation)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:53:16.707

我认为这对你有用：

```
<html>
<head>
<script type="application/javascript">

  function isNumberKey(evt)
      {
         var charCode = (evt.which) ? evt.which : event.keyCode
         if (charCode > 31 && (charCode < 48 || charCode > 57))
            return false;

         return true;
      }

</script>
</head>

<body>
    <input type="text" name="tel_num" value="" onkeypress="return isNumberKey(event)" maxlength="10"/>
</body>
</html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T07:07:35.023

尝试这个。它验证每个键输入上的条目

HTML：

```
<input size="10" maxlength="10" type="text" name="p_len" id="p_len" value="" onkeyup="check(this)" /> 
```

Javascript：

```
function check(o) {
    v=o.value.replace(/^\s+|\s+$/,''); // remove any whitespace
    if(o=='') {
        return;
    }
    v=v.substr(v.length-1);
    if(v.match(/\d/g)==null) {
        o.value=o.value.substr(0,o.value.length-1).replace(/^\s+|\s+$/,'');
    }
} 
```

它会在输入后立即删除非数字输入，并且长度限制为 10。

希望这可以帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T06:46:23.250

例如，您可以使用 preg_match

```
preg_match('/^[0-9]{10}$/', $_POST['your-value']); 
```

# cakephp - 如何在CakePHP 控制器中从模型中传输数据？

> ID：10909300
> 
> 赞同：0
> 
> 时间：2012-06-06T06:41:14.440
> 
> 标签：cakephp

如何在 CakePHP 控制器中从模型中传输数据？

A 在模型用户中有一个方法：

```
public function reminderLogin() {
    $login = $this->data['User']['login'];
    $data = $this->find('first', array('fields' => array('username','email'),
            'conditions' => array('username' => $login)));
    if(!empty($data)) {
        print_r($data);
    }

} 
```

Н如何在控制器中获取 $data 变量？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:12:46.047

为了说明汉尼拔莱克特博士的答案：

在您的模型中：

```
public function reminderLogin() {
    $login = $this->data['User']['login'];
    $data = $this->find('first', array('fields' => array('username','email'),
            'conditions' => array('username' => $login)));

    return $data;
} 
```

在控制器动作中：

```
$data = $this->User->reminderLogin();
if(!empty($data)) {
    print_r($data);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:43:26.727

只需执行 a`return $data;`即可获取控制器中的数据。

# ios - ATTN PhoneGap/Cordova 项目贡献者：以 2 种不同方式调用 deviceready 回调的问题

> ID：10909303
> 
> 赞同：1
> 
> 时间：2012-06-06T06:41:24.493
> 
> 标签：ios, cordova, uiwebview

第一次加载我的科尔多瓦应用程序时，第 130 行的断点（请参阅附图）被击中。它调用 deviceready 委托函数，一切都很好。

![调试器屏幕截图](../Images/4561c19e5003b7af244a34001a584cad.png)

我导航到另一个页面，然后当我执行 window.history.back()（返回到原始页面）时，deviceready 事件以不同的方式触发（参见 135 上的断点）。没有 DeviceInfo 使 Cordova “不可用”。请注意以下来自 cordova.js 的摘录：

```
Cordova.available = DeviceInfo.uuid != undefined; 
```

这也意味着，即使我正在等待 deviceready 事件调用 Cordova.exec，它也总是会失败。这是cordova.js的另一个摘录，说明了原因。

```
Cordova.exec = function() { 
    if (!Cordova.available) {
        alert("ERROR: Attempting to call Cordova.exec()"
              +" before 'deviceready'. Ignoring.");
        return;
    } 
```

所以我的问题是；为什么cordova有两种方式调用deviceready，为什么当我通过浏览器返回页面时它使用'dud'方式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T20:46:17.803

这看起来是 1.5 或更早的版本。deviceReady 的加载和触发在最近的版本中发生了显着变化。

# django - Django - 访问文件

> ID：10909306
> 
> 赞同：0
> 
> 时间：2012-06-06T06:41:43.450
> 
> 标签：django, django-staticfiles

我有一个名为 login 的 django 项目 mysite 和应用程序

我打开的网页是

> D:\mysite\templates\login\index.html

这个 html 文件需要一个 javascript 文件（在同一目录中）才能工作

js文件在

> D:\mysite\templates\login\d3.js

如何在

```
<script src = "...\d3.js"> 
```

在 html 文件中？

* * *

我做了这一切

在我的 urls.py

```
from django.contrib.staticfiles.urls import staticfiles_urlpatterns 
urlpatterns += staticfiles_urlpatterns() 
```

在 settings.py

```
STATICFILES_DIRS = ('D:/mysite/templates/login') 
```

然后在html文件中使用它

```
<script src="{{static_url}}/d3.js"></script> 
```

还是不行

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:44:33.727

使用[django 静态模块](https://docs.djangoproject.com/en/dev/howto/static-files/)

然后您的链接将类似于`<script src="{{ STATIC_URL }}/d3.js" />`

# c# - Microsoft.Ink 处理器架构之间的不匹配

> ID：10909309
> 
> 赞同：5
> 
> 时间：2012-06-06T06:42:02.397
> 
> 标签：c#, visual-studio-2010

当我在我的机器（Visual Studio 2010）上以调试模式运行时，没有问题，虽然出现了警告消息，但是当我使用 Visual Studio 2012 时，调试模式不会运行，而是出现在任务管理器进程中。它仅在 Visual Studio 2012 的发布模式下运行。

如何解决问题？

> 正在构建的项目“MSIL”的处理器架构与参考“Microsoft.Ink，Version=6.1.0.0，Culture=neutral，PublicKeyToken=31bf3856ad364e35”，“AMD64”的处理器架构不匹配。这种不匹配可能会导致运行时失败。请考虑通过配置管理器更改项目的目标处理器体系结构，以便在项目和参考之间对齐处理器体系结构，或者依赖具有与项目的目标处理器体系结构匹配的处理器体系结构的参考。

谢谢你。

# java - Java - 从 JSpinner 返回分秒毫秒

> ID：10909311
> 
> 赞同：0
> 
> 时间：2012-06-06T06:42:20.113
> 
> 标签：java, datetime, jspinner

好的，所以这个问题有两个部分，第一部分是我如何才能从 JSpinner 中返回分秒毫秒 (mm:ss.SSS)。我现在设置了一个 JSpinner，它在 JSpinner 中使用 java 的 DateEditor 格式，如下所示：

```
JSpinner spinner = new JSpinner();
spinner.setModel(new javax.swing.SpinnerDateModel());
spinner.setEditor(new javax.swing.JSpinner.DateEditor(spinner, "mm:ss.S"));
spinner.setBounds(420, 140, 228, 20);
contentPane.add(spinner); 
```

但问题是，当我只想返回“minute:second.millisecond”而不是日期、月份或任何其他信息时，它将返回一个字符串，例如“Wed Jun 06 00:26:12 MDT 2012”。

问题的第二部分是我怎样才能只显示毫秒并将其更改为第十位，所以不是显示为 (mm:ss.SSS) 它显示为 (mm:ss.S) 并且 S 值可以是更改为 0 和 9 之间的值而不是 0 和 999 值也需要以这种方式返回。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:31:41.387

关于问题的第一部分......我不久前遇到了类似的问题，我需要一个可以管理小时/分钟/秒的微调器。

我编写了 JSpinner 类的新实现，您可以将其用作基础并对其进行更新以获取 Minutes/Seconds/Milliseconds 微调器。我按“原样”与您分享，它符合我的个人需求，但我当然可以改进：

```
/**
 * TimeSpinner
 * A implementation of JSpinner that manages
 * only the hour/minute part of a date.
 * Careful, in consequence the getValue()
 * gives you a date based on the 01/01/1970
 * ('issue' known about JSpinner).
 * => This spinner implements its own model. It allows to fix
 * a pb about the tick (the regular model SpinnerDateModel
 * increases/decreases hours instead of minutes.
 * => It overrides setBackground and make it works (the regular
 * JSpinner.setBackground does not).
 *
 * User: Yannick DECOURTRAY
 * Date: 21/06/11
 */
public class TimeSpinner extends JSpinner {

    /**
     * Constructor
     */
    public TimeSpinner() {
        Date date = today();
        TimeSpinnerModel sm = new TimeSpinnerModel(date, null, null, Calendar.MINUTE);
        setModel(sm);
        JSpinner.DateEditor de = new JSpinner.DateEditor(this, "h:mm a");
        setEditor(de);
    }

    /**
     * Calls setBackground on Editor of the spinner
     * @see javax.swing.JComponent#setBackground(java.awt.Color)
     */
    @Override
    public void setBackground(Color bg) {
        JSpinner.DefaultEditor editor = (JSpinner.DefaultEditor) getEditor();
        editor.getTextField().setBackground(bg);
    }

    /**
     * Model class
     */
    private class TimeSpinnerModel extends SpinnerDateModel {

        /**
         * Constructor
         * @param value Current date
         * @param start Low limite date
         * @param end High limit date
         * @param calendarField Step of incrementation
         */
        public TimeSpinnerModel(Date value,
                                Comparable start,
                                Comparable end,
                                int calendarField) {
            super(value, start, end, calendarField);
        }

        /** @see javax.swing.SpinnerDateModel#getNextValue() */
        public Object getNextValue() {
            Date currentDate = getDate();
            Calendar currentCal = Calendar.getInstance();
            currentCal.setTime(currentDate);
            int calField = Calendar.MINUTE;//getCalendarField();

            // Add calField to currentDate
            currentCal.add(calField, 1);
            Date newDate = new Date(currentCal.getTimeInMillis());

            Date endDate = (Date) getEnd();
            if (endDate != null && newDate.after(endDate))
                return currentDate;
            else
                return newDate;
        }

         /** @see javax.swing.SpinnerDateModel#getPreviousValue() */
        public Object getPreviousValue() {
            Date currentDate = getDate();
            Calendar currentCal = Calendar.getInstance();
            currentCal.setTime(currentDate);
            int calField = Calendar.MINUTE;//getCalendarField();

            // Add calField to currentDate
            currentCal.add(calField, -1);
            Date newDate = new Date(currentCal.getTimeInMillis());

            Date startDate = (Date) getStart();
            if (startDate != null && newDate.before(startDate))
                return currentDate;
            else
                return newDate;
        }
    }

    /**
     * Gets the today date
     *
     * @return the today date
     */
    private static Date today() {
        Calendar cal = Calendar.getInstance();
        cal.setTime(new Date());
        cal.set(Calendar.HOUR, 0);
        cal.set(Calendar.MINUTE, 0);
        cal.set(Calendar.SECOND, 0);
        cal.set(Calendar.MILLISECOND, 0);
        return cal.getTime();
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T06:56:12.743

您可以使用日历来提取分钟、秒和毫秒。这是一个例子：

```
SpinnerDateModel model = (SpinnerDateModel) spinner.getModel();
Calendar time = Calendar.getInstance();
time.setTime(model.getDate());
// Access minute, second, millisecond
time.get(Calendar.MINUTE);
time.get(Calendar.SECOND);
time.get(Calendar.MILLISECOND); 
```

设置默认值应该如下工作：

```
Calendar cal = Calendar.getInstance();
cal.set(Calendar.HOUR_OF_DAY, 0);
cal.set(Calendar.MINUTE, 0);
cal.set(Calendar.SECOND, 0);

SpinnerDateModel model = new SpinnerDateModel(cal.getTime(), null,
            null, Calendar.SECOND);

JSpinner spinner = new JSpinner();
spinner.setModel(model); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T06:50:11.903

您应该使用自定义的 JSpinner.Editor，而不是使用 DateEditor。

这是一个与您想要的非常相似的示例：[http ://www.java2s.com/Code/Java/Swing-JFC/AnexampleofJSpinnerwithacustomeditor.htm](http://www.java2s.com/Code/Java/Swing-JFC/AnexampleofJSpinnerwithacustomeditor.htm)

# javascript - 在android的webview中嵌入一段HTML代码或Javascript脚本

> ID：10909313
> 
> 赞同：4
> 
> 时间：2012-06-06T06:42:29.200
> 
> 标签：javascript, android, html, embed, android-webview

我得到了一小段 Javascript 和 HTML 代码的表格，其中包含我想嵌入到我的 android 应用程序中的 WebView 中的统计信息。我该怎么做。有人可以通过示例和示例代码向我推荐。请帮忙

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T06:53:07.490

您可以创建 html 页面并放置资产文件夹并在 webview 中加载 html 页面。

使用此代码：

```
webView.loadUrl("file:///android_asset/index.html"); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-06T06:48:49.830

```
 WebView webView;

String htmlPre = "<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"utf-8\"></head><body style='margin:0; pading:0; background-color: black;'>";  
    String htmlCode = 
            " <embed style='width:100%; height:100%' src='http://www.platipus.nl/flvplayer/download/1.0/FLVPlayer.swf?fullscreen=true&video=http://www.platipus.nl/flvplayer/download/pl-600.flv&autoplay=true' " +
            "  autoplay='true' " +
            "  quality='high' bgcolor='#000000' " +
            "  name='VideoPlayer' align='middle'" + // width='640' height='480' 
            "  allowScriptAccess='*' allowFullScreen='true'" +
            "  type='application/x-shockwave-flash' " +
            "  pluginspage='http://www.macromedia.com/go/getflashplayer' />" +
            "";
    String htmlPost = "</body></html>";

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main); 

    webView = (WebView)findViewById(R.id.webview);

webView.loadDataWithBaseURL("null", htmlPre+htmlCode+htmlPost, "text/html", "UTF-8", null); 

} 
```

以上示例使用 webView 中的 html 代码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T06:45:17.957

您可以复制`HTML`in 资产，然后`WebView`像这样显示它：

```
webView.loadUrl("file:///android_asset/index.html"); 
```

`webView`你的*`WebView`对象*在哪里，`index.html`你的*`html`源文件*在哪里。

# c - 将联系人发送到服务器 WBXML 或 VCARD 哪个更好？

> ID：10909314
> 
> 赞同：0
> 
> 时间：2012-06-06T06:42:30.370
> 
> 标签：c, xml, vcf-vcard, wbxml

我们正在生成包含电话联系人的 WBXML 文件并希望发送到服务器。我们如何发送到服务器并在服务器端解码 WBXML 文件。实际上我必须使用 sync-ml 协议将电话联系人发送到服务器并且不想使用v-card（.vcf 文件）。我想如果我们将 WBXML 文件发送到服务器，然后服务器解码该文件并保存它。WBXML 文件包含所有电话联系人，而如果我们使用 v-card，我们必须为每个生成特定的 vcf 文件联系人。同步、发送 WBXML 文件或 vcf 文件哪个更好？我们必须在 c ， windows 中实现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-03T06:17:43.267

如果您正在访问使用 WBXML 的 Microsoft Exchange Server。默认情况下，EAS 使用 WBXML。

# dojo - Dojo：使用带有程序化 jsonreststore 的声明性组合框

> ID：10909315
> 
> 赞同：0
> 
> 时间：2012-06-06T06:42:32.960
> 
> 标签：dojo

这是来自我的 REST 服务器的 JSON：

> [{"name":"REL"},{"name":"RBOW"},{"name":"EMLAWEB"}]

这是 JSON 数据存储的编程创建：

```
 dojo.addOnLoad(function(){
    var appPrefixStore = new dojox.data.JsonRestStore({target:"http://localhost:9080/AtRest/AtRest/tag/prefix"});` 
```

这是组合框中数据存储的声明式使用：

```
 <input id="selectPrefixCombo" 
    name="appPrefix" 
    data-dojo-type="dijit.form.ComboxBox"
    data-dojo-props="autocomplete:'false', trim:'true', maxHeight:'200', store:'appPrefixStore'">
 </input> 
```

但是，组合框中无法显示任何内容。是什么赋予了？

我什至尝试过以声明方式使用数据存储：

```
<div data-dojo-type="dojo.data.JsonRestStore" ... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T13:18:12.967

Anyway... here's the working code by using global variable

```
<script type="text/javascript">
    //global variable container
    var widgets = {};

    require(
        // Set of module identifiers
        [   "dojo", 
            "dojo/parser", 
            "dojo/_base/xhr",
            "dijit/form/ComboBox",  
            "dojo/store/JsonRest", 
        ],
        // Callback function, invoked on dependencies evaluation results        
        function(JsonRestStore) {
            widgets.appPrefixStore = new dojo.store.JsonRest({target:"http://localhost:9080/AtRest/AtRest/tag/prefix"});
        });
</script>

<select id="selectPrefixCombo" name="appPrefix" data-dojo-type="dijit.form.ComboBox"
    data-dojo-props="autocomplete:'false', trim:'true', maxHeight:'200', store:widgets.appPrefixStore">
</select> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-07T08:05:43.913

谢谢，显然我可能被我看到的所有教程和示例误导了。构造 JsonRestStore 不足以触发对服务器的请求。我必须添加一个`appPrefixStore.fetch()`才能使其工作。

# python - 如何在 Python 中将值映射到具有公共键的值

> ID：10909316
> 
> 赞同：0
> 
> 时间：2012-06-06T06:42:42.187
> 
> 标签：python

在下面的字典中，我想检查 aa 中的值是否与 bb 中的值匹配，并生成 aa 的键到 bb 的键的映射。我需要重新排列字典吗？我从制表符分隔的文件中导入数据，所以我没有附加到字典。请注意，aa 大约是 bb 的 100 倍（aa 为 100k 行），但这是不经常离线运行的。

输入：

```
aa = {1: 'a', 3: 'c', 2 : 'b', 4 : 'd'}
bb = {'apple': 'a', 'pear': 'b', 'mango' : 'g'} 
```

所需的输出（或任何类似的数据结构）：

```
dd = {1 : 'apple', 2 : 'pear'} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T06:58:09.357

```
aa = {1:'a', 3:'c', 2:'b', 4:'d'}
bb = {'apple':'a', 'pear':'b', 'mango': 'g'}

bb_rev = dict((value, key)
    for key, value in bb.iteritems()) # bb.items() in python3
dd = dict((key, bb_rev[value])
    for key, value in aa.iteritems() # aa.items() in python3
    if value in bb_rev)

print dd 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:54:30.733

你可以这样做：

```
>>> aa = {1: 'a', 3: 'c', 2 : 'b', 4 : 'd'}
>>> bb = {'apple': 'a', 'pear': 'b', 'mango' : 'g'}
>>> tmp = {v: k for k, v in bb.iteritems()}
>>> dd = {k: tmp[v] for k, v in aa.iteritems() if v in tmp} 
 >>> dd
{1: 'apple', 2: 'pear'} 
```

但请注意，这只有在字典的每个值都作为`aa`字典的值出现 `bb`一次或根本不出现时才有效。

# java - 关于图像更改的 Android 图库

> ID：10909323
> 
> 赞同：0
> 
> 时间：2012-06-06T06:43:09.720
> 
> 标签：java, android, gallery, onfling

嗨，我正在为我正在处理的几个项目编写一个画廊库，到目前为止，除了使用 fling 之外，我还有幻灯片放映和用于导航画廊的按钮。我想在不刷卡 3 秒后隐藏导航按钮。所以这个想法是一旦滚动停止，启动一个可运行的设置图像视图视图在 3 秒后消失，然后一旦再次开始滚动，再次将视图设置为可见。

我如何在 android Gallery 类中收听 fling

图库 g = (Gallery) findViewById(R.id.gallery);

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:47:34.790

有一个名为[onFling](http://developer.android.com/reference/android/view/GestureDetector.OnGestureListener.html#onFling%28android.view.MotionEvent,%20android.view.MotionEvent,%20float,%20float%29)的继承方法非常适合。只需让它调用接口的方法并提供您需要的所有参数。

在为 Android 编码时，使用接口作为侦听器是很常见的。

# android - 你可以用 putExtra() 链接一个 Intent 对象多少次？

> ID：10909327
> 
> 赞同：0
> 
> 时间：2012-06-06T06:43:24.097
> 
> 标签：android, android-intent

我的问题本质上是意图对象中的值在第二次发送时是否再次具有相同的值，如果是这样，是否可以限制执行多少次？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:50:16.807

当我们谈论 Intent 时，它用于**执行任何操作**。

例如`intent.putExtra(key1,value);`

一切都取决于`value`. 如果您的值不为空，那么您可以根据需要多次使用它。它没有限制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:57:02.367

您可以使用任意次数，`intent.putExtra(key,value);` 但您必须确保 value 和 key 不为 null 并且 key 与以前使用的 key 不同。

# iphone - 如何在不加载空页面的情况下清理 UIWebView 的内容？

> ID：10909329
> 
> 赞同：20
> 
> 时间：2012-06-06T06:43:25.430
> 
> 标签：iphone, ios, uiwebview

我需要清理 UIWebView 的内容（为了重用它），但我在它的委托方法中有一些身份验证处理代码，所以我不想加载一个空页面，比如 about:blank 来清理它，因为它会触发我的身份验证处理代码。那么有没有办法做到这一点？（另外，通过重用它，我需要在 web 视图顶部放置一个微调器，当它加载另一个页面时，我不希望用户看到之前加载的页面内容，所以这就是我需要清理它的原因）

谢谢！

* * *

## 回答 #1

> 赞同：69
> 
> 时间：2012-06-06T06:58:17.507

您可以只使用这行代码：

```
[webView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:@"about:blank"]]]; 
```

[在这里](https://github.com/logisticinfotech/webview-clean-content)你会找到整个演示

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2012-06-19T16:59:58.727

这对我有用：

```
 [webView stringByEvaluatingJavaScriptFromString:@"document.open();document.close()"]; 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-03-26T19:04:32.487

试试这个。这对我有用

```
[self.webView stringByEvaluatingJavaScriptFromString:@"document.body.innerHTML = \"\";"]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-13T10:59:46.860

如果您唯一的问题是加载空白页面时微调器消失了，您可以在 webViewDidFinishLoad 中使用此代码：

```
– (void)webViewDidFinishLoad:(UIWebView *)currentWebView {
    if (![currentWebView.request.URL.description isEqualToString: @"about:blank"]) {
        self.mySpinner.hidden = YES;
    }
} 
```

...然后微调器将继续运行，直到您的 webview 实际完成加载。

# javascript - 用javascript替换字符串的正则表达式

> ID：10909330
> 
> 赞同：-3
> 
> 时间：2012-06-06T06:43:25.833
> 
> 标签：javascript

我在编写正则表达式时需要帮助：
我的字符串的一部分是固定的，另一部分是变量。

仅当存在固定和变量字符串时，我才需要更改字符串，否则。

固定字符串：示例：AA.BBB.COM 可变字符串（可能存在也可能不存在）：US，但如果存在，它将始终是带有任意字母组合的两个字母字符串。

在下面的字符串中，如果我有可变的两个字母字符串，我想附加“.new”</p>

```
1 ) https://XY**.US**.AA.BBB.COM
 Output:  https:// XYZ12**.US.NEW**.AA.BBB.COM

2 ) https://XY.UK.AA.BBB.COM
 Output:  https:// XYZ12.UK.NEW.AA.BBB.COM

3) https://XY.AA.BBB.COM  (no variable string so no change)
 Output:  https:// XY.AA.BBB.COM 
```

谢谢你的帮助 。拉加夫

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:56:10.697

类似以下内容应该可以帮助您入门，还有其他方法。根据您的实际要求，拆分和解析可能更适合：

```
var s = 'https://XY.US.AA.BBB.COM';
var t = 'https://XY.UK.AA.BBB.COM';
var u = 'https://XY.AA.BBB.COM';

var re = /(\.)(UK|US)(\.)/;

alert( 
  s.replace(re, '$1' + '$2' + '.NEW' + '$3') + '\n' +
  t.replace(re, '$1' + '$2' + '.NEW' + '$3') + '\n' +
  u.replace(re, '$1' + '$2' + '.NEW' + '$3')
 ); 
```

# web-crawler - Nutch topN 选择标准

> ID：10909331
> 
> 赞同：0
> 
> 时间：2012-06-06T06:43:27.453
> 
> 标签：web-crawler, nutch

topN 阈值是否考虑选择的页面分数。如果设置为 10，Nutch 是否会将页面上得分最高的 10 个 URL 排队？这是否通过 webgraph 起作用，或者它只是在页面上遇到的前 10 个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T15:47:17.210

是的。TopN 考虑页面分数。

# jquery - 如何在通过 ajax 选项卡动态加载页面时调用 javascript？

> ID：10909332
> 
> 赞同：0
> 
> 时间：2012-06-06T06:43:34.167
> 
> 标签：jquery, jquery-load

我有一个基础文件`base.jsp`（

例子：

```
<div id="tabs" style="float:left; width:100%; clear:both;">
<ul>
    <li> <a href="HelloWorld.jsp"> Hello world tab </a></li>
    <li> <a href="OtherWorld.action?id=1"> Other world tab </a></li>
    </ul>       
</div> 
```

让我们假设`OtherWorld.action?id=1`=> 产量`Result2.jsp`

我想将函数处理程序附加到在`Result2.jsp`. 我通常在 Result2.jsp 中使用类似的东西：

```
$(document).ready(function() {
  // attach event handlers here
} 
```

但是，我无权访问我在 base.jsp 中包含的 jquery 或其他 javascript，因此上述方法不起作用。

**通过 ajax 在选项卡中加载 html 时，我应该在哪里定义我想在 load 时触发的 javascript？**

**我是否应该再次在 Result2.jsp 中包含我打算在 Result2.jsp 上使用的外部 JavaScript？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:48:51.597

您必须在您的主页中包含所有 javascript，并且当从 ajax 返回时，如果 status==200 然后调用您的 javascript（JQuery 函数）

# php - $_POST[] 在 php 中不起作用

> ID：10909334
> 
> 赞同：-4
> 
> 时间：2012-06-06T06:43:40.127
> 
> 标签：php

我已经开始学习 PHP。设法设置东西。

我正在使用 php 版本 5.3.13。

我正在尝试将一些信息发布到 html 表单并在 php 文件中接收它。

为此，我使用 $_Post 变量，并且 php 文件的输出为空白。

下面是html代码。

```
<body>
        <form action="report.php" method="POST" >    
            <label for="firstname">First name:</label>
            <input type="text" id="firstname" name="firstname" /><br />
            <input type="submit" value="Report Abduction" name="submit" />
        </form>
</body> 
```

下面是report.php代码

```
<html>
<head>
<title></title>
</head>
<body>

<?php
     $name = $_POST['firstname'] ; 
         print($name);
?>
</body>
</html> 
```

谁能告诉我我错过了什么？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:05:07.420

这里有一个超级简单的例子，建议你开始寻找例子教程@你最喜欢的搜索引擎，或者买一本书。

编辑：你甚至安装了 PHP 吗？你提到`inetpub`哪个是 IIS 路径。

```
<?php 
error_reporting(E_ALL);

if($_SERVER['REQUEST_METHOD']=='POST' && !empty($_POST['firstname'])){
    //Do something with posted data
    $out = htmlentities($_POST['firstname']).' has been abducted!';
}else{
    //Form has not been posted so show form
    $out = <<<FORM
<form action="" method="POST" >    
   <label for="firstname">First name:</label>
   <input type="text" id="firstname" name="firstname" /><br />
   <input type="submit" value="Report Abduction" name="submit" />
</form>
FORM;
}
?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>My first test Script</title>
</head>

<body>
<h1>My first test Script</h1>

<?php echo(isset($out))?$out:null; ?>

</body>
</html> 
```

# ruby-on-rails - client_side_validations '无法读取未定义的属性'用户 [电子邮件]''

> ID：10909337
> 
> 赞同：3
> 
> 时间：2012-06-06T06:43:55.860
> 
> 标签：ruby-on-rails, ruby-on-rails-3, devise, client-side-validation

所以我试图让`client_side_validations`gem 工作，当我从电子邮件字段中跳出时，我收到了这个错误：

```
Uncaught TypeError: Cannot read property 'user[email]' of undefined 
```

这是我的表单助手：

```
<%= form_for(resource, :as => resource_name, :class => "send-with-ajax", :url => user_registration_path(resource), :validate => true) do |f| %>
      <%= f.email_field :email, :id => "form-email", :placeholder => "your-email@address.com", :input_html => {:autofocus => true}, :validate => true %>                
      <%= f.submit :label => "Submit", :value => "Sign Me Up!"  %>
      <div class="ajax-response"><%= devise_error_messages! %></div>
<% end %> 
```

生成此 HTML：

```
<form accept-charset="UTF-8" action="/users" class="new_user" data-validate="true" id="new_user" method="post" novalidate="novalidate">
     <input name="utf8" type="hidden" value="&#x2713;" />
     <input name="authenticity_token" type="hidden" value="9JdqaiushdauhsdioauhdoiuhNLSAVCGrc+PLJAQ=" />
     <input data-validate="true" id="form-email" input_html="{:autofocus=&gt;true}" name="user[email]" placeholder="your-email@address.com" size="30" type="email" />
     <input label="Submit" name="commit" type="submit" value="Sign Me Up!" />
     <div class="ajax-response"></div>
</form> 
```

**编辑 1：**即使我将表单助手从`f.email_field :email`, 更改为`f.text_field :email`...我仍然收到此错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T18:08:20.903

所以我找到了解决方案，似乎要么`client_side_validations`或`devise`正在改变`id`表单 - 这会破坏 JS 验证。

所以解决方案是强制执行`id`表单，所以我的`form_for`助手现在看起来像这样：

```
<%= form_for(resource, :as => resource_name, :class => "send-with-ajax", :url => user_registration_path(resource), :validate => true, :html => { :id => 'user_new' }) do |f| %> 
```

我在[这里找到了这个解决方案](https://github.com/bcardarella/client_side_validations/issues/325)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:09:27.700

查看以下[#263 客户端验证](http://railscasts.com/episodes/263-client-side-validations)。这应该会有所帮助。

# android - 解析 XML 文件返回 null；

> ID：10909347
> 
> 赞同：0
> 
> 时间：2012-06-06T06:44:37.623
> 
> 标签：android, xml-parsing

我想解析xml文件如下：

```
 <?xml version='1.0' encoding='UTF-8'?>
     <rsp status='ok'>
           <status_id>1111</status_id>
           <user_id>TwitUsername</user_id>
           <media_id>ZZ83F</media_id> 
      </rsp> 
```

我使用 DOM 来解析文件 xml，如下所示：

```
public String getStatus()
    {       
    String status="";
    try {           
        InputStream is=this.getResources().openRawResource(R.raw.json);
        Document xmlDoc = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(is);
        Element root = xmlDoc.getDocumentElement();         
        NodeList rsp = root.getElementsByTagName("rsp");            
        for(int i=0;i<rsp.getLength();i++)
        {
             Node curNode = rsp.item(i);
             // this tag is <study>, get `id` attribute first
             status=String.valueOf(((Attr)curNode.getAttributes().item(0)).getValue());              
        }

    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (SAXException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (ParserConfigurationException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }       
    return status;
} 
```

但是*getStatus*方法返回 null。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:55:37.257

[http://www.jondev.net/articles/Android_XML_SAX_Parser_Example](http://www.jondev.net/articles/Android_XML_SAX_Parser_Example)

```
 @Override
    public void startElement(String namespaceURI, String localName, String qName, 
            Attributes atts) throws SAXException {
        if (localName.equals("rsp")) {
              System.out.println("The value of attribute 'status' is: " + atts.getValue("status"));
        }   
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T10:18:48.877

试试这个方法

```
public void getGeoLocation(Document doc)throws IOException {

    NodeList nodeList, nchild;
    Node currentNode, thisNode;
    nodeList = doc.getElementsByTagName("rsp");
    int length = nodeList.getLength();
    for (int i = 0; i < length; i++) {

        currentNode = nodeList.item(i);
        nchild = currentNode.getChildNodes();
        int clength = nchild.getLength();

        for (int j = 0; j < clength; j++) {

            thisNode = nchild.item(j);

            if ("rsp".equals(thisNode.getNodeName())) {

                        org.w3c.dom.Element e1 = (org.w3c.dom.Element) thisNode;
                        String status = e1.getAttribute("status");

            }
            if ("status_id".equals(thisNode.getNodeName())) {

                String status_id =  thisNode.getTextContent();
            }
            if ("user_id".equals(thisNode.getNodeName())) {

                String user_id =  thisNode.getTextContent();
            }
            if ("media_id".equals(thisNode.getNodeName())) {

                String media_id =  thisNode.getTextContent();
            }
        }
    }

} 
```

# javascript - 更改页面 URL 而不刷新 - 是否有跨浏览器解决方案？

> ID：10909350
> 
> 赞同：0
> 
> 时间：2012-06-06T06:44:45.640
> 
> 标签：javascript, browser

我已经在 stackoverflow 上搜索了很多这个问题的答案，但似乎找不到一个令人满意的答案。使用 window.history.pushState() 和 window.history.replaceState() 方法似乎相当容易，但据我了解，它们可以在 Chrome、Safari、FF4+ 和 IE10pp4+ 中使用。有没有办法在 IE8+ 和 FF3+ 而不仅仅是 FF4+ 和 IE10pp4+（加上 Chrome 和 Safari）中获得这种效果？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:05:36.293

如果没有[会话历史管理](http://caniuse.com/#feat=history)，您只能更改`location.hash`可靠（没有 100% 保证）。

如果浏览器不加载另一个页面，其他任何事情都无法完成。

# matlab - 如何提高matlab中决策树的准确性

> ID：10909354
> 
> 赞同：2
> 
> 时间：2012-06-06T06:44:59.517
> 
> 标签：matlab, machine-learning, classification, decision-tree

我有一组数据，我使用决策树在 matlab 中对它们进行分类。我把套装分成两部分；一个训练数据（85%）和另一个测试数据（15%）。问题是准确度在 %90 左右，我不知道如何改进它。如果您对此有任何想法，我将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2016-02-27T14:40:23.557

由于许多原因，决策树可能表现不佳，我能想到的一个突出原因是，在计算拆分时，他们没有考虑变量或目标变量对其他变量的相互依赖性。在开始改进性能之前，应该知道它不会导致过度拟合，并且应该能够泛化。

为了提高性能，可以做以下几件事：

*   **变量预选：**可以对变量进行多重共线性检验、VIF 计算、IV 计算等不同的测试，以仅选择几个顶级变量。这将导致性能提高，因为它会严格消除不需要的变量。

*   **集成学习**使用多棵树（随机森林）来预测结果。随机森林通常比单个决策树表现得更好，因为它们设法减少偏差和方差。它们也不太容易过度拟合。

*   **K-Fold 交叉验证：**训练数据本身的交叉验证可以稍微提高模型的性能。

*   **混合模型：**使用混合模型，即在使用决策树后使用逻辑回归来提高性能。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T16:20:38.520

I guess the more important question here is what's a good accuracy for the given domain: if you're classifying spam then 90% might be a bit low, but if you're predicting stock prices then 90% is really high!

If you're doing this on a known domain set and there are previous examples of classification accuracy which is higher than yours, then you can try several things:

*   [K-Fold Cross Validation](https://stats.stackexchange.com/tags/cross-validation/info)
*   [Ensamble Learning](http://en.wikipedia.org/wiki/Ensemble_learning)
*   [Generalized Iterative Scaling (GIS)](http://malt.ml.cmu.edu/mw/index.php/Generalized_Iterative_Scaling)
*   [Logistic Regression](http://en.wikipedia.org/wiki/Logistic_regression)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T07:58:24.633

I don't think you should improve this, may be the data is overfitted by the classifier. Try to use another data sets, or cross-validation to see the more accurate result.

By the way, 90%, if not overfitted, is great result, may be you even don't need to improve it.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-07T07:18:16.637

90% 是好是坏，取决于数据的领域。

但是，您的数据中的类可能是重叠的，您实际上不能超过 90%。

您可以尝试查看哪些节点是错误的，并检查是否可以通过更改它们来改进分类。

您也可以尝试随机森林。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-06T12:48:44.493

您可以考虑[修剪](http://en.wikipedia.org/wiki/Pruning_%28decision_trees%29)叶子以提高决策树的泛化能力。但如前所述，90% 的准确率可以认为是相当不错的。

# android - 从 SherlockFragmentActivity 覆盖 onOptionsItemSelected

> ID：10909358
> 
> 赞同：22
> 
> 时间：2012-06-06T06:45:18.847
> 
> 标签：android, actionbarsherlock

昨天，我发现了一个很棒的库，它允许我有一个“facebook 菜单”，在操作栏的左上角有一个按钮，当按下该按钮时，它会从左侧滑入一个项目菜单。

问题是我还希望使用 ActionBarSherlock 库来确保我的应用程序与操作栏向后兼容。使用库时，我需要像这样覆盖 onOptionsItemSelected ：

```
@Override
public boolean onOptionsItemSelected(MenuItem item) 
{
    int id = item.getItemId();

    if (id == android.R.id.home) {

        rbmView.toggleMenu();

        return true;

    } else {
        return super.onOptionsItemSelected(item);
    }
} 
```

现在我进入图书馆，看到开发人员已经制作了 onOptionsItemSelected **final**。我删除了它并再次尝试覆盖它，却发现产品是每当我按下按钮时都没有任何反应。什么都没有。

关于如何将 darvds_ribbonmenu 库与 actionbarsherlock 一起使用的任何想法？

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-06-06T08:00:33.593

事实证明，在使用 ABS 时，您需要指定 MenuItem 的命名空间，以确保您覆盖了正确的方法。我的解决方案如下：

```
@Override
public boolean onOptionsItemSelected(com.actionbarsherlock.view.MenuItem item) 
{
    int id = item.getItemId();
    Log.d("item ID : ", "onOptionsItemSelected Item ID" + id);
    if (id == android.R.id.home) {
        rbmView.toggleMenu();

        return true;

    } else {
        return super.onOptionsItemSelected(item);
    }
} 
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-10-31T05:52:38.647

更改`import android.view.MenuItem;`为`import com.actionbarsherlock.view.MenuItem;`。否则，您使用的只是`MenuItem`与您正在导入的完全不同的。

# javascript - Aptana - 公开声明

> ID：10909359
> 
> 赞同：1
> 
> 时间：2012-06-06T06:45:21.810
> 
> 标签：javascript, find, aptana

所以我下载了 Aptana，因为很多人都说它是 javascript 的最佳 IDE。从 github 上抓取一个项目，转到代码中的方法调用行，右键单击它并注意到“打开声明 - F3”。尝试了它和 F3，但 Aptana 完全没有响应....Aptana 已卸载。

出于好奇，Aptana 中是否有任何方法可以从方法调用或变量到其声明？如果第 3 版的某些东西不能开箱即用，我想知道为什么要大肆宣传？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-26T19:09:10.523

实际上，您可以做到这一点，尽管它并不完美。如果您看到它正在查找函数的路径，请 ctrl+将鼠标悬停在函数上，它应该会弹出一个路径列表，指向您工作区中定义函数的位置。单击一个，它将跳转到该声明。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-04T14:27:00.240

在不久前对 v2 感到失望后，我最近也尝试了第 3 版。

如果方法在同一个文件中，则打开声明有效。否则它会在同一个项目中的多个文件中失败。

回答部分到此结束，休息只是我愤怒的咆哮：

更糟糕的是，在函数调用上使用 HOVER 它实际上显示了函数所在的位置，即它显示了确切的目录和文件名，但是 F3 或 open 声明没有像 OP 所说的那样做任何事情。

这意味着，必须有某种方式来触发对同一项目中其他文件的函数查找。

Aptana 怎么会知道函数的位置，却无法在同一个项目中打开呢？

APTANA 开发人员在哪里？

# php - 如何使用 javascript 禁用鼠标右键单击和 ctrl+v & ctrl+c 按键

> ID：10909365
> 
> 赞同：-3
> 
> 时间：2012-06-06T06:46:07.020
> 
> 标签：php, javascript, javascript-events

> **可能重复：**
> [如何禁用右键单击我的网页？](https://stackoverflow.com/questions/737022/how-do-i-disable-right-click-on-my-web-page)

我想使用 javascript 在网页上禁用右键单击和`Ctrl`+ `V`& `Ctrl`+按键。`C`我有一个页面，客户必须在其中输入查询详细信息。我不希望他们复制一些数据并将其粘贴到某些字段中。任何人请帮助我

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T06:53:39.810

试试这个：

检查此链接[Disabling-the-right-click-on-web-page](http://www.codeproject.com/Articles/11222/Disabling-the-right-click-on-web-page)

```
<script language="javascript">
document.onmousedown=disableclick;
status="Right Click Disabled";
Function disableclick(e)
{
  if(event.button==2)
   {
     alert(status);
     return false;  
   }
}
</script> 
```

# javascript - 元素边框上的html鼠标悬停事件

> ID：10909366
> 
> 赞同：3
> 
> 时间：2012-06-06T06:46:22.940
> 
> 标签：javascript, html

我想知道是否可以将 mouseover 事件绑定到 HTML 元素边框之一，例如 div 的左边框。

div 是其他复杂 html 元素的容器，并且为其子元素附加了 mouseover 事件。将 mouseover 事件绑定到整个容器 div 本身是一种方法，但是用户将无法区分他选择的是容器还是子元素。

我想要一个非常明显的方法来表明可以选择容器，例如当他将鼠标悬停在左边框区域时突出显示容器。

或者有没有其他解决问题的好方法？

谢谢你。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-06T06:49:41.600

边框不是元素，因此您不能将 mouseenter 事件绑定到它们。如果您想要这种类型的功能，您需要在元素的边缘周围（或至少靠近目标边缘）放置一系列元素，并绑定到它。

Dropbox 在其基于 Web 的上传功能中采用了这种特殊方法。当您将文件从桌面拖到他们的页面上时，您会注意到`div`顶部、底部和侧面的元素都消失在视图中。`div`这是通过放置在视口边缘附近的四个元素来完成的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T07:06:00.023

你想要这样吗

[http://jsfiddle.net/GBpcg/](http://jsfiddle.net/GBpcg/)

**编辑：http:** [//jsfiddle.net/GBpcg/2/](http://jsfiddle.net/GBpcg/2/)

# android - 三星 Galaxy SII 中的密码错误问题

> ID：10909367
> 
> 赞同：1
> 
> 时间：2012-06-06T06:46:23.080
> 
> 标签：android, sip, voip, asterisk

我正在开发一个基于 SIP 的应用程序来拨打和接听电话。我使用共享偏好来存储所有与注册相关的数据，如用户名、密码、上下文等。这些数据也存储在[A2billing](http://www.asterisk2billing.org/)中。我使用了[Asterisk](http://www.asterisk.org/) [实时](http://www.voip-info.org/wiki/view/Asterisk+RealTime)在应用程序中注册 sip 用户。

主要问题是，当我运行我的应用程序时，它在除三星 Galaxy S2 之外的所有其他设备上都能正常工作。在此设备上 SIP 用户未注册，并且在**星号控制台上它给我一个错误密码错误。**

我无法配置实际问题是什么，因为它**可以在 Galaxy SII(4.0.3) 以外的其他设备上完美运行。目前我已经尝试使用 HTC 手机和 Galaxy SII(2.3.6)，它运行良好**

如果您对此有任何想法和建议，请与我分享，以便我可以解决此问题。

提前致谢

**解决了：**

最后，当我从设备上卸载 Avast Antivirus 时，问题就解决了。我认为 Avast 在从 sharedPrefrences 访问数据时引起了问题，不知道为什么。是的，但现在我需要搜索一下，我们如何避免这种问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:04:09.150

您是在使用本机 Android SIP 堆栈还是您自己的，链接在您的应用程序中？如果您使用的是本机版本，则可能是固件中的错误。调试您的应用程序并检查它是否正在读取/写入正确的密码。然后使用 Wireshark 等捕获流量，并检查通过电线（更少）发送的确切内容。然后与其他有效设备的流量进行比较。冲洗并重复，直到您查明错误是谁的错。

# c# - 如何在 C# 中复制列表成员？

> ID：10909370
> 
> 赞同：1
> 
> 时间：2012-06-06T06:46:30.680
> 
> 标签：c#, list

```
int x = 9; 
List<string> list = new List<string> {"a", "b"}; 
```

我希望列表是：ababa ...直到list.Count = x。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T06:50:24.730

您可以使用 LINQ 轻松完成：

```
List<string> result = (from ignored in Enumerable.Range(0, int.MaxValue)
                       from item in list
                       select item).Take(count).ToList(); 
```

或者不使用查询表达式：

```
List<string> result = Enumerable.Range(0, int.MaxValue)
                                .SelectMany(ignored => list)
                                .Take(count)
                                .ToList(); 
```

这里的使用`Enumerable.Range`只是为了强制重复——就像阿尼的使用方法一样`Enumerable.Repeat`，当然也可以。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T06:51:24.383

怎么样：

```
var result= Enumerable.Repeat(new[] { "a", "b" }, int.MaxValue)
                      .SelectMany(strArray => strArray)
                      .Take(x)
                      .ToList(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T06:50:46.253

像这样的东西应该工作。我没有检查它，让它成为你的练习:)

```
int currentCount = list.Count;

for (int i=0; i<x; ++i)
{
     list.Add(list[i%currentCount]);  
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T06:51:43.603

```
int x = 9;
List<string> list = new List<string> {};

for (int i = 0; i < x; i++)
{
    list.Add("a");
    list.Add("b");    
}

// verify    
foreach (var item in list)
{
    Console.WriteLine(item);    
} 
```

# grails - Grails Release 插件未在远程 Maven 存储库上部署插件

> ID：10909371
> 
> 赞同：7
> 
> 时间：2012-06-06T06:46:31.943
> 
> 标签：grails, maven, repository, grails-plugin

我在`maven-deploy`远程仓库上使用命令部署插件时遇到问题。我安装了最新版本的 Release 插件（2.0.2）。

我收到此错误：

```
| Loading Grails 2.0.4
| Configuring classpath.
| Environment set to development.....
| Packaging Grails application.....
| Compiling 33 GSP files for package [myPackage].....
| Plugin packaged grails-plugin-myPlugin.jar
| Skipping POM generation because 'pom.xml' exists in the root of the project..
| Error Error executing script MavenDeploy: : Error downloading wagon provider from the remote repository: Missing:
----------
1) org.apache.maven.wagon:wagon-http:jar:1.0-beta-2
Try downloading the file manually from the project website.
Then, install it using the command: 
  mvn install:install-file -DgroupId=org.apache.maven.wagon -DartifactId=wagon-http -Dversion=1.0-beta-2 -Dpackaging=jar -Dfile=/path/to/file
Alternatively, if you host your own repository you can deploy the file there: 
  mvn deploy:deploy-file -DgroupId=org.apache.maven.wagon -DartifactId=wagon-http -Dversion=1.0-beta-2 -Dpackaging=jar -Dfile=/path/to/file -Durl=[url] -DrepositoryId=[id]
Path to dependency: 
1) unspecified:unspecified:jar:0.0
2) org.apache.maven.wagon:wagon-http:jar:1.0-beta-2
----------
1 required artifact is missing.

for artifact: 
 unspecified:unspecified:jar:0.0
from the specified remote repositories:
 central (http://repo1.maven.org/maven2)
(Use --stacktrace to see the full trace) 
```

谢谢你的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-21T19:05:23.127

我有同样的问题，可以这样处理：

*   安装 Maven2
*   [按照此处](http://maven.apache.org/guides/mini/guide-proxies.html)所述配置代理

这足以解决您的问题。

如果您的 Maven 服务器需要身份验证，您可以按照[此处](https://github.com/grails-plugins/grails-maven-publisher-plugin)或[此处的说明进行操作](http://maven.apache.org/settings.html#Servers)

~/.m2/settings.xml：

```
<settings>
  <proxies>
   <proxy>
      <active>true</active>
      <protocol>http</protocol>
      <host>proxyserver.mydomain.com</host>
      <port>8080</port>
      <username>user</username>
      <password>pass</password>
      <nonProxyHosts>*.bla.com.br|*.blabla.biz</nonProxyHosts>
    </proxy>
  </proxies>
  <servers>
    <server>
      <id>myrepo</id>
      <username>user</username>
      <password>pass</password>
    </server>
  </servers>
</settings> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:36:56.257

这看起来像一个 Maven 问题：

> Maven 无法 `org.apache.maven.wagon:wagon-http:jar:1.0-beta-2`从 [http://repo1.maven.org/maven2下载所需的依赖项](http://repo1.maven.org/maven2)

由于可以在[Maven 中心](http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-http/1.0-beta-2/)找到所需的工件，这可能是网络问题的结果

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-02-02T12:05:27.447

我找到了解决此问题的方法。由于某些东西试图使用[已弃用](https://support.sonatype.com/hc/en-us/articles/360041287334)`wagon-http`的 maven 存储库 url 检索依赖项，因此我们可以在本地存储库中手动预安装此依赖项： `http`

```
mvn org.apache.maven.plugins:maven-dependency-plugin:2.1:get -Dartifact=org.apache.maven.wagon:wagon-http:1.0-beta-2 -Dpackaging=jar -DrepoUrl=https://repo1.maven.org/maven2 
```

之后该`publish-plugin`命令应该起作用。

该问题的可能解决方法是将`grails-release`插件升级到`v3.1.3`（对我不起作用）：[link](https://github.com/grails/grails-core/issues/11469)

# php - 检查是否设置了对象属性 - SimpleXML

> ID：10909372
> 
> 赞同：9
> 
> 时间：2012-06-06T06:46:42.770
> 
> 标签：php, xml, object, simplexml

我有一些 XML 我正在使用 PHP 的 SimpleXML 类，并且我在 XML 中有元素，例如：

```
<condition id="1" name="New"></condition>
<condition id="2" name="Used"></condition> 
```

但是它们并不总是在那里，所以我需要先检查它们是否存在。

我试过了..

```
if (is_object($bookInfo->page->offers->condition['used'])) {
    echo 'yes';
} 
```

也..

```
if (isset($bookInfo->page->offers->condition['used'])) {
    echo 'yes';
} 
```

但两者都不起作用。它们仅在我删除属性部分时才有效。

那么如何检查属性是否设置为对象的一部分？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-06T07:19:32.023

您正在查看的是属性值。您需要查看属性（`name`在这种情况下）本身：

```
if (isset($bookInfo->page->offers->condition['name']) && $bookInfo->page->offers->condition['name'] == 'Used')
    //-- the rest is up to you 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-27T10:36:52.013

实际上，您应该真正使用[SimpleXMLElement::attributes()](http://php.net/manual/en/simplexmlelement.attributes.php)，但您应该在之后使用[isset()](http://php.net/isset)检查对象：

```
$attr = $bookInfo->page->offers->condition->attributes();
if (isset($attr['name'])) {
    //your attribute is contained, no matter if empty or with a value
}
else {
    //this key does not exist in your attributes list
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T07:09:39.200

您可以使用[SimpleXMLElement::attributes()](http://php.net/manual/en/simplexmlelement.attributes.php)

```
$attr = $bookInfo->page->offers->condition->attributes();

if ($attr['name'] == 'Used') {
  // ... 
```

# ios - 使用特定时区将 NSDate 转换为 Unix 时间戳

> ID：10909387
> 
> 赞同：3
> 
> 时间：2012-06-06T06:48:09.257
> 
> 标签：ios, cocoa-touch, time, timezone, nsdate

我正在尝试使用特定时区（不一定与系统时区相同）获取 Unix 时间戳

我试过这个：

```
 NSDateFormatter *dateFormatter = [[[NSDateFormatter alloc] init] autorelease];
[dateFormatter setDateFormat:@"yyyy-MM-dd HH:mm:ss"];

NSTimeZone *gmt = [NSTimeZone timeZoneWithName:@"Australia/Melbourne"];
[dateFormatter setTimeZone:gmt];
NSString *timeStamp = [dateFormatter stringFromDate:[NSDate date]];
NSDate *curdate = [dateFormatter dateFromString:timeStamp];

int unix_timestamp =  [curdate timeIntervalSince1970]; 
```

这显然应该给出澳大利亚的 Unix 时间戳（最多秒）。但是，当我登录时`curdate`，它仍然是格林威治标准时间，`timeStamp`是澳大利亚/墨尔本的时间。

这里可能是什么问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T07:20:06.563

该方法返回自**GMT 时间**`timeIntervalSince1970`1970 年 1 月 1 日午夜以来的秒数。

 ****如果您想要自 1970 年 1 月 1 日墨尔本**时间午夜以来的秒数，您只需要确定 1970 年 1 月 1 日墨尔本格林威治标准时间的偏移量。

为此，您可以使用[NSTimeZone 实例](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSTimeZone_Class/Reference/Reference.html)

```
 NSDate* referenceDate = [NSDate dateWithTimeIntervalSince1970: 0];
   NSTimeZone* timeZone = [NSTimeZone timeZoneWithName:@"Australia/Melbourne"];
   int offset = [timeZone secondsFromGMTForDate: referenceDate];
   int melbourneTimestamp = unix_timestamp - offset; 
```

或者，也许最后一行应该**加上**偏移量。只需测试代码并查看。我现在不在我的 Mac 上。

* * *

**编辑：**请参阅下面的 Ayush 评论。看起来偏移量是要**添加**的，而不是减去的。

**编辑#2：与发帖人聊天后***，墨尔本时间*自 1970 年以来的时间戳可能实际上并不需要。大多数应用程序可能永远不需要在 GMT 以外的任何其他时区跟踪这样的时间戳。当需要向用户显示时间时转换为时区。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T08:50:38.210

```
time_t unixTime = (time_t) [[NSDate date] timeIntervalSince1970]; 
```**

# c# - CAL、Prism、MEF 何时何地？

> ID：10909388
> 
> 赞同：0
> 
> 时间：2012-06-06T06:48:15.617
> 
> 标签：c#, wpf, prism, mef, cal

从前几天开始，我正在阅读有关 PRISM、CAL 和 MEF 的信息。所有这些都支持组合、模块化、引导程序、外壳和区域等。

所以我想到的问题是。这些都支持模块化的主要功能，以便使用哪个框架以及它们最适合的位置。

有人可以指导我比较这些技术吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T07:03:15.340

CAL 是不再使用的 PRISM 的旧名称。PRISM 使用 MEF、Unity 或任何其他反转控制库来实现组合和依赖注入。MEF 比 Unity 更新且更易于使用，但这完全取决于您决定使用的模板。

或许您应该查看[Prism 开发人员指南，](http://msdn.microsoft.com/en-us/library/gg406140)以便更好地了解 PRISM。PRISM 对 IoC/DI 的使用在[模块化应用程序开发/依赖注入和模块化应用程序中进行了描述](http://msdn.microsoft.com/en-us/library/gg405479%28v=pandp.40%29#sec10)

您还应该注意，PRISM 被认为是过度设计的，即使您认为您的应用程序符合复合应用程序定义（它可能不符合）。

[如果您使用更简单的框架，例如Caliburn.Micro](http://caliburnmicro.codeplex.com/)或[MVVM Light](http://mvvmlight.codeplex.com/)，那么上手 MVVM 和 WPF 开发会容易得多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:04:18.563

CAL 是 Prism 框架的旧称。MEF 是一个 IoC 容器（其中之一）。Prism 可以使用不同的 IoC 容器（Unity 和 MEF 开箱即用）。

所以，你的问题没有任何意义。

# php - 我们如何在 SQL 查询中搜索多个部分匹配项，每个匹配项由“OR”分隔

> ID：10909389
> 
> 赞同：-1
> 
> 时间：2012-06-06T06:48:15.703
> 
> 标签：php, mysql, sql

我正在为我的网站编写用户搜索功能，目前它返回结果，但仅限于完全匹配。

当前的 SQL 查询是：

```
SELECT * FROM users WHERE firstname='$term' OR lastname='$term' OR url='$term' OR firstname='".$termExploded[0]."' ORDER BY hits DESC 
```

我将如何更改此查询，以便它还检查 $term （或相关的 $termExploded[0] ）的开头是否与术语匹配？

这是我自己想出的，但这不起作用：

```
SELECT * FROM users WHERE firstname='$term' LIKE '$term%' OR lastname='$term' LIKE '$term%' OR url='$term' LIKE '$term%' OR firstname='".$termExploded[0]."' LIKE '$term%' ORDER BY hits DESC 
```

首先十分感谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:49:50.710

```
SELECT *
FROM users
WHERE firstname LIKE '$term%' OR
      lastname LIKE '$term%' OR
      url LIKE '$term%' OR
      firstname LIKE '$termExploded[0]%'
ORDER BY hits DESC 
```

显然，您需要注意正确转义所有变量。

# java - 错误：org.hibernate.PropertyNotFoundException：类中没有合适的构造函数：com.a.offering.dto.SellerDetailsDto

> ID：10909405
> 
> 赞同：2
> 
> 时间：2012-06-06T06:49:39.050
> 
> 标签：java, spring, hibernate, orm

我正在使用以下查询 String queryString = "select NEW com.h.offering.dto.SellerDetailsDto(p.productId,p.sellerId, p.sellerSku, p.sellPrice, " + "p.transferPrice, p.sellerMRP,p. aCommission,p.baseShippingFee,p.addnShippingFee, " + "p.propogationLevel,p.propogationValue,a.warehouseName,a.quantity,a.maxShippingTime,a.minShippingTime) " + "来自 PriceDetails p，AvailabilityDetails a " + "其中a.productId = p.productId " + "和 a.sellerSku = p.sellerSku " + "和 a.sellerId = :sellerId";

执行时我收到错误

org.hibernate.hql.ast.QuerySyntaxException：无法在类 [com.a.offering.dto.SellerDetailsDto] 上找到适当的构造函数 [从 com.a 中选择新的 com.s.offering.dto.SellerDetailsDto(p.productId)。 offer.db.domain.PriceDetails p, com.a.offering.db.domain.AvailabilityDetails a 其中 a.productId = p.productId and a.sellerSku = p.sellerSku and a.sellerId = :sellerId] at org.hibernate。 hql.ast.QuerySyntaxException.convert(QuerySyntaxException.java:54) 在 org.hibernate.hql.ast.QuerySyntaxException.convert(QuerySyntaxException.java:47) 在 org.hibernate.hql.ast.ErrorCounter.throwQueryException(ErrorCounter.java: 82) 在 org.hibernate.hql.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:185) 在 org.hibernate.hql.ast 的 org.hibernate.hql.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:261)。QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)

等等...

我无法弄清楚错误。帮帮我

```
The code for SellerDetailsDto.java is 

package com.a.offering.dto;
public class SellerDetailsDto {
    public String productId;
    public String sellerId;
    public String sellerSku;
    public Double sellPrice;
    public Double transferPrice;
    public Double sellerMRP;
    public Double a;
    public Double baseShippingFee;
    public Double addnShippingFee;
    public String propogationLevel;
    public String propogationValue;
    public String warehouseName;
    public int quantity;
    public int maxShippingTime;
    public int minShippingTime;

    public String getProductId() {
        return productId;
    }

    public void setProductId(String productId) {
        this.productId = productId;
    }

    public String getSellerId() {
        return sellerId;
    }

    public void setSellerId(String sellerId) {
        this.sellerId = sellerId;
    }

    public String getSellerSku() {
        return sellerSku;
    }

    public void setSellerSku(String sellerSku) {
        this.sellerSku = sellerSku;
    }

    public String getWarehouseName() {
        return warehouseName;
    }

    public void setWarehouseName(String warehouseName) {
        this.warehouseName = warehouseName;
    }

    public int getQuantity() {
        return quantity;
    }

    public void setQuantity(int quantity) {
        this.quantity = quantity;
    }

    public int getMaxShippingTime() {
        return maxShippingTime;
    }

    public void setMaxShippingTime(int maxShippingTime) {
        this.maxShippingTime = maxShippingTime;
    }

    public int getMinShippingTime() {
        return minShippingTime;
    }

    public void setMinShippingTime(int minShippingTime) {
        this.minShippingTime = minShippingTime;
    }

    public Double getSellPrice() {
        return sellPrice;
    }

    public void setSellPrice(Double sellPrice) {
        this.sellPrice = sellPrice;
    }

    public Double getTransferPrice() {
        return transferPrice;
    }

    public void setTransferPrice(Double transferPrice) {
        this.transferPrice = transferPrice;
    }

    public Double getSellerMRP() {
        return sellerMRP;
    }

    public void setSellerMRP(Double sellerMRP) {
        this.sellerMRP = sellerMRP;
    }

    public Double a() {
        return a;
    }

    public void a(Double aa) { 
```

一种 }

```
 public Double getBaseShippingFee() {
        return baseShippingFee;
    }

    public void setBaseShippingFee(Double baseShippingFee) {
        this.baseShippingFee = baseShippingFee;
    }

    public Double getAddnShippingFee() {
        return addnShippingFee;
    }

    public void setAddnShippingFee(Double addnShippingFee) {
        this.addnShippingFee = addnShippingFee;
    }

    public String getPropogationLevel() {
        return propogationLevel;
    }

    public void setPropogationLevel(String propogationLevel) {
        this.propogationLevel = propogationLevel;
    }

    public String getPropogationValue() {
        return propogationValue;
    }

    public void setPropogationValue(String propogationValue) {
        this.propogationValue = propogationValue;
    }

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T06:56:54.927

Hibernate 需要一个至少具有包私有（即默认）可见性的构造函数。

通常无参数构造函数是必要的（您隐含地拥有），但对于您的`select new ...`SellerDetailsDto 需要一个具有您在 select 语句中提供的 15 个参数的构造函数。（认为​​错误消息需要一个仅将 id 作为参数的构造函数 - 看起来错误是否来自不同的`select new`语句。）您没有这样的构造函数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:02:25.587

问题是您在 SellerDetailsDto 中没有接受您在 hql 查询中传递的参数的构造函数。将此构造函数添加到您的类中：

```
public SellerDetailsDto(String productId, String sellerId,
            String sellerSku, Double sellPrice, Double transferPrice,
            Double sellerMRP, Double tradusCommission, Double baseShippingFee,
            Double addnShippingFee, String propogationLevel,
            String propogationValue, String warehouseName, int quantity,
            int maxShippingTime, int minShippingTime) {
        this.productId = productId;
        this.sellerId = sellerId;
        this.sellerSku = sellerSku;
        this.sellPrice = sellPrice;
        this.transferPrice = transferPrice;
        this.sellerMRP = sellerMRP;
        this.tradusCommission = tradusCommission;
        this.baseShippingFee = baseShippingFee;
        this.addnShippingFee = addnShippingFee;
        this.propogationLevel = propogationLevel;
        this.propogationValue = propogationValue;
        this.warehouseName = warehouseName;
        this.quantity = quantity;
        this.maxShippingTime = maxShippingTime;
        this.minShippingTime = minShippingTime;
    } 
```

这可能会使您不得不停止工作的其他一些代码，因为现在不会有可用的默认构造函数。为了解决这个问题，也添加一个默认构造函数：

```
public SellerDetailsDto() {} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-08-25T09:36:16.427

实际上这是您的根 pom 文件的问题。你想在你的 IDE 中安装 lombok 并在根 pom 文件中添加 lombok 的依赖项我希望它会工作

# php - 使用面向对象编程概念的 php 表单处理问题

> ID：10909407
> 
> 赞同：0
> 
> 时间：2012-06-06T06:49:46.433
> 
> 标签：php

我对 PHP 很陌生。我被要求使用 OOPS 在 PHP 中创建一个非常简单的表单。我设法创建了一个带有 2 个文本字段（名称和 ID）的单页表单，但我现在面临的问题是，当用户单击提交按钮时，只有名称存储在数据库中，而不是 ID。你能帮我解决这个问题吗？下面是示例代码提前谢谢你

PERSON.PHP

```
<?php
class person
{
    var $id;
    var $name;
    function set_id($new_id)
    {
        $this->id=$new_id;
    }

    function get_id()
    {
        return $this->id;
    }

    function set_name($new_name)
    {
        $this->name=$new_name;
    }

    function get_name()
    {
        return $this->name;
    }
}
?> 
```

DBINPUT.PHP

```
 <?php
 include 'person.php';
 ?>
 <html>
 <body>
 <form action="dbinsert.php" method="post">
  NAME<input type="text" name="name" >/
  ID<input type="text" name="ID" />
  <input type="submit" value="submit">
  </form>
  </html>
    </body> 
```

DBINSERT.PHP

```
 <?php
    include("person.php");
    $con = mysql_connect("localhost", "cgiadmin", "cgi");
    if (!$con)
    {
        die("couldn't connect ".mysql_error());
    }
    mysql_select_db("oops", $con);

    $person = new person;
    $person->set_name($_POST['name']);

    $person1 = new person;
    $person1->set_id($_POST['id']);

    $sql="INSERT INTO smallprogramusingoops (NAME ,ID ) VALUES ('".$person->get_name()."','".$person1->get_id()."')";
    if (!mysql_query($sql, $con))
    {
    die('Error in inserting '.mysql_error());
    }

    ?> 
```

你能纠正我的错误吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T06:56:09.217

“id”字段的名称属性是大写字母，而当您通过 dbinsert.php 访问它时，您使用“id”而不是“ID”。变量/索引区分大小写。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-06T06:56:31.673

您创建两个对象。不确定 PHP 如何处理它，它可能会覆盖您现有的变量。

测试运行此代码：

```
<?php
include("person.php");
$con = mysql_connect("localhost", "cgiadmin", "cgi");
if (!$con)
{
    die("couldn't connect ".mysql_error());
}
mysql_select_db("oops", $con);

$person = new person();
$person->set_name($_POST['name']);
$person1->set_id($_POST['id']);

$sql="INSERT INTO smallprogramusingoops (NAME ,ID ) VALUES ('".$person->get_name()."','".$person1->get_id()."')";
if (!mysql_query($sql, $con))
{
die('Error in inserting '.mysql_error());
}

?> 
```

# collections - 推进 - 合并集合

> ID：10909408
> 
> 赞同：0
> 
> 时间：2012-06-06T06:49:47.637
> 
> 标签：collections, propel

使用 Propel ORM 1.5，我缺少一种合并两个`PropelCollections`.

一个简短的建议可能是：

```
public function mergeCollection($collection){

    foreach($collection as $i => $item){
         if( ! $this->contains($item)){
             // append item
             $this->append($item);
         }
    }
} 
```

所以我是Propel的新手，我想问你，是否有更好的方法来做到这一点？
或者这个功能是否已经包含在 Propel 中，但我还没有发现？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:39:43.210

它似乎在邮件列表中被[分发](https://groups.google.com/forum/?fromgroups#!topic/propel-development/oNQqokRqZpg) [了两次](https://groups.google.com/forum/?fromgroups#!topic/propel-development/rk1tbE33mjc)，但我找不到票。

至少，您可以尝试此代码和/或[在 Github 上打开票证](https://github.com/propelorm/Propel/issues/new)。

```
 /**
     * Add a collection of elements, preventing duplicates
     *
     * @param     array $collection The collection
     *
     * @return    int the number of new element in the collection
     */
    public function addCollection($collection)
    {
        $i = 0;
        foreach($collection as $ref) {
            if ($this->add($ref)) {
                $i = $i + 1;
            }
        }
        return $i;
    }

    /**
     * Add a an element to the collection, preventing duplicates
     *
     * @param     $element The element
     *
     * @return    bool if the element was added or not
     */
    public function add($element)
    {
        if ($element != NULL) {
            if ($this->isEmpty()) {
                $this->append($element);
                return true;
            } else if (!$this->contains($element)) {
                set_error_handler("error_2_exception");
                try {
                    if (!method_exists($element, 'getPrimaryKey')) {
                        restore_error_handler();
                        $this->append($element);
                        return true;
                    }
                    if ($this->get($element->getPrimaryKey()) != null) {
                        restore_error_handler();
                        return false;
                    } else {
                        $this->append($element);
                        restore_error_handler();
                        return true;
                    }
                } catch (Exception $x) {
                    //il semble que l'element ne soit pas dans la collection
                    restore_error_handler(); //restore the old handler
                    $this->append($element);
                    return true;
                }
                restore_error_handler(); //restore the old handler
            }
        }
        return false;
    }

}

function error_2_exception($errno, $errstr, $errfile, $errline,$context) {
    throw new Exception('',$errno);
    return true;
} 
```

# android - 在更改设备方向时重新创建列表视图

> ID：10909419
> 
> 赞同：0
> 
> 时间：2012-06-06T06:50:28.067
> 
> 标签：android, listview, orientation, indexoutofboundsexception

在我的应用程序中有一个列表视图，每次我向下滚动到底部时它都会动态增加 10 个项目。因此，在使用纵向时，我向下滚动到 100 个项目，然后当我将方向更改为横向时，我的列表视图再次被创建（仅显示前 10 个项目）。这里的问题是当我回到肖像应用程序崩溃时说：

```
06-06 12:06:54.849: E/AndroidRuntime(4684): java.lang.RuntimeException:
Unable to start activity 
ComponentInfo{com.Android.MyApp/com.Android.MyApp.ListViewActivity}:
 java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0 
```

即使更改方向，如何使列表视图恢复？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:59:18.347

你有两个选择。

**选项1**

包括`android:configChanges="orientation"`两个防止活动重启但这会阻止您为不同的方向设置不同的 UI。

**选项 2**

如果你想为不同的方向设置不同的用户界面，那么你将不得不编写更多的代码。

阅读 onSaveInstanceState 并`onRestoreInstanceState`在重新启动活动时保存和检索值。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-06T06:55:14.277

答案很简单：您必须更改 Activity 的 AndroidManifest-entry 并添加

```
android:configChanges="orientation" 
```

这将确保如果发生方向更改，您的 Activity 不会被重新创建。

确保覆盖[onConfigurationChanged](http://developer.android.com/reference/android/app/Activity.html#onConfigurationChanged%28android.content.res.Configuration%29)方法以对更改做出反应（如果您想做出反应；））

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-06-06T06:54:10.893

发生这种情况是因为您的活动在方向更改时重新创建。
为避免这种情况，请将其添加到您`AndroidManifest.xml`的活动标签下：

```
android:configChanges="orientation" 
```

并将此方法包含在您的活动中：

```
@Override
public void onConfigurationChanged(Configuration newConfig) {
    super.onConfigurationChanged(newConfig);
    } 
```

希望能帮助到你 ！！！

# c++ - 我如何在 C++ 上使用 Interop 创建一个 excel 文件

> ID：10909422
> 
> 赞同：1
> 
> 时间：2012-06-06T06:50:42.857
> 
> 标签：c++, excel, visual-c++, interop, excel-2007

我搜索了很多信息，关于创建和编辑 excel 文件以保存我的程序的一些登录名和密码的最简单方法。我见过很多 C# 方法，但我不太了解。

我添加了对 Visual Studio 2010 的引用`Microsoft.Office.Interop.Excel`（我使用的是 Office 2010）。

但是，我不知道如何更进一步。我应该添加哪些标题，我还应该做什么？我在他们的项目中找不到任何使用它的 C++ 教程。我只是想要一些简单的东西。

**编辑：**

我将在安装了 Office 2010 的电脑上运行我的程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:06:04.180

运行您的应用程序的系统是否安装了 Excel？

如果是这样，您确实可以使用 Excel 作为 COM 组件。 [http://www.wilmott.com/messageview.cfm?catid=10&threadid=26137](http://www.wilmott.com/messageview.cfm?catid=10&threadid=26137)包含有关如何执行此操作的示例。

如果您的系统没有安装 Excel，您需要使用第三方库为您创建 Excel 文件。只需谷歌“创建没有 excel 的 excel 文件”，您就会找到数十个示例代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:22:08.510

阅读这些

[http://support.microsoft.com/kb/216686/en-us?fr=1](http://support.microsoft.com/kb/216686/en-us?fr=1)

[http://www.codeguru.com/cpp/data/mfc_database/microsoftexcel/article.php/c11745/Microsoft-Excel-Automation-Class.htm](http://www.codeguru.com/cpp/data/mfc_database/microsoftexcel/article.php/c11745/Microsoft-Excel-Automation-Class.htm)

# c++ - 使用 C++ 拆分“[General Setting]”格式的节字符串

> ID：10909423
> 
> 赞同：3
> 
> 时间：2012-06-06T06:50:43.930
> 
> 标签：c++

我是 C++ 新手，我想读取具有节和键值对的 ini 文件。根据部分，我想读取相应键的值。首先，我想阅读方括号中的部分。请帮忙。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:57:38.320

对于真正的 INI 文件解析，我强烈建议使用[iniparser 库](http://ndevilla.free.fr/iniparser/)。它有很好的文档记录并且易于在 C*和*C++ 程序中使用。

如果您只对解析 form 的字符串感兴趣`[Section name]`，您可以执行以下操作：查找字符串的第一个 '[' 和最后一个 ']' 并标记位置。如果找到了两个字符，则将部分名称作为您标识的位置之间的子字符串。

假设您使用的是`std::string`，您可以执行以下操作：

```
std::string myString = " [Section name] ";

std::size_t start = myString.find_first_of( '[' );
std::size_t end   = myString.find_last_of( ']' );

std::string sectionName;
if( start != std::string::npos && end != std::string::npos )
{
  sectionName = myString.substr(start + 1, end - 1);
}

std::cout << sectionName << std::endl; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:35:52.067

该片段应该向您展示解析 ini 文件和跳过 # 或 ; 的基本逻辑。被视为注释的前缀行

这需要对组名、名称和值进行健全性检查，但应该足以作为演示：

```
#include <iostream>
#include <string>
#include <map>
//
//   a simple ini file parser (doesn't check for validity of name field length wise or if it has = char
//   to demonstrate basic parsing
//
class IniFile
{
public:
    enum { MAX_LINE_LEN = 10*1024 };
    class MalformedInputException : public std::exception
    {
    public:
        const char* what() const throw() { return "Input is not a valid or well formed ini file"; }
    };
    typedef std::map<std::string, std::string> Properties;
    IniFile(){}
    virtual ~IniFile(){}

    std::istream& load(std::istream& in)
    {
        char lineBuffer[MAX_LINE_LEN];
        std::string curGroup = "";
        while(!in.eof())
        {
            in.getline(lineBuffer, MAX_LINE_LEN);
            //std::cout<<"line buffer : {"<<lineBuffer<<"}"<<std::endl;
            std::string line = trim(lineBuffer);
            //std::cout<<"trimmed : {"<<line<<"}"<<std::endl;
            // we process only non-empty / non-comment lines
            if(line.size() > 0 && line[0] != '#' && line[0] != ';')
            {
                if(line[0] == '[' && line[line.size() - 1] == ']')
                {
                    curGroup = trim(line.substr(1, line.size() - 2));
                }
                else if(curGroup.size() > 0)
                {
                    size_t index = line.find_first_of('=');
                    //todo: needs checks for valid name=value format here
                    Properties& props = m_props[curGroup]; // this will create new Properties if none exists
                    props[line.substr(0,index)] = line.substr(index+1);
                }
                else
                {
                    throw MalformedInputException();
                }

            }
        }
        return in;
    }
    std::ostream& save(std::ostream& os) const
    {
        std::map<std::string, Properties>::const_iterator iter = m_props.begin();
        while(iter != m_props.end())
        {
            os<<"["<<iter->first<<"]"<<std::endl;
            Properties::const_iterator propIter = iter->second.begin();
            while(propIter != iter->second.end())
            {
                os<<propIter->first<<"="<<propIter->second<<std::endl;
                propIter++;
            }
            iter++;
        }
        return os;
    }
    std::string trim(const std::string& input)
    {
        static std::string WHITESPACES = "\r\n \t\b\a";
        if(input.size() == 0){ return input; }
        else
        {
            size_t start = 0;

            for(size_t index = 0; index < input.size(); index++)
            {
                if(WHITESPACES.find(input[index]) < WHITESPACES.size())
                {
                    start = index;
                }
                else
                {
                    break;
                }
            }
            size_t endIndex = input.size() - 1;
            if(start == endIndex){ return ""; }
            for(; endIndex > start; endIndex--)
            {
                char c = input.at(endIndex);
                if(WHITESPACES.find_first_of(c) >= WHITESPACES.size())
                {
                    break;
                }
            }
            size_t length = endIndex - start + 1;
            return input.substr(start, length);
        }
    }
private:
    std::map<std::string, Properties> m_props;
};

inline std::ostream& operator << (std::ostream& os, const IniFile& iniFile)
{
    return iniFile.save(os);
}
inline std::istream& operator >> (std::istream& in, IniFile& iniFile)
{
    return iniFile.load(in);
}
#include <sstream>
int main(int argc, char** argv)
{
    std::ostringstream ss;
    ss<<"# sample ini file"<<std::endl;
    ss<<"[Group1]"<<std::endl;
    ss<<"foo=bar    \n"<<std::endl;
    ss<<"baz=foz"<<std::endl;
    ss<<"; this is another comment"<<std::endl;
    ss<<"[Group2]"<<std::endl;
    ss<<"blanga=kukoo"<<std::endl;

    std::string buf = ss.str();
    std::istringstream sin(buf);

    IniFile iniFile;
    iniFile.load(sin);

    iniFile.save(std::cout<<"Ini File Loaded : "<<std::endl);
    return 0;
} 
```

# hadoop - 我是否必须迭代图像文件路径作为自定义 RecordReader 中 nextkeyvalue() 中的键才能读取许多图像文件？

> ID：10909428
> 
> 赞同：0
> 
> 时间：2012-06-06T06:51:07.510
> 
> 标签：hadoop, mapreduce

我正在尝试从 hdfs 读取图像。我已经编写了自己的 imageinputformat 和 imageRecordReader 的自定义实现。

在 ImageRecordReader 中，在 nextkeyvalue 方法（）中——这是[一个 RecordReader](http://hadoop.apache.org/mapreduce/docs/r0.21.0/api/org/apache/hadoop/mapreduce/RecordReader.html#nextKeyValue%28%29) API，我是否必须指定用于读取图像的 for 循环，例如。for(Path path:paths) 等，因为我将输入表单 HDFS 指定为图像目录。或者它会自己读取图像，因为图像被分成各种地图任务，每个地图都会得到图像。

我在这里有点困惑。我必须在方法 initialize 或 nextkeyvalue() 中使用 for 循环吗？如果是的话，我应该在哪里使用它——在 intialize() 方法和 nextkeyvalue() 中？（检查上面的链接方法详细信息）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T10:16:53.553

你为什么不直接写一个`SequenceFile`with`<Text,BytesWritable>`而不是实现你自己的格式呢？

一些随机图像的示例，您应该将路径存储在`yourImagePaths`：

```
// omitted try / catch and finally statements
Configuration conf = new Configuration();
FileSystem fs = FileSystem.get(conf);
Path output = new Path("/tmp/out.seq");

List<String> yourImagePaths = new LinkedList<>();
    // TODO fill your image paths here
SequenceFile.Writer writer = new SequenceFile.Writer(fs, conf, output,
    Text.class, BytesWritable.class);

for (String file : yourImagePaths) {
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    org.apache.hadoop.io.IOUtils.copyBytes(fs.open(new Path(file)), out, conf);
    writer.append(new Text(file), new BytesWritable(out.toByteArray()));
}

writer.close(); 
```

基本上它将路径写为键（以识别你的图像）和图像中的原始字节作为值。

现在您可以在 Hadoop 作业中读取它，它会自动被拆分。您只需要说输入键是`Text`，值是`BytesWritable`并且 `SequenceFileInputFormat`必须使用。

# java - 高效的正则表达式来拆分成分度量和单位

> ID：10909433
> 
> 赞同：3
> 
> 时间：2012-06-06T06:51:18.830
> 
> 标签：java, regex, parsing

## 背景

手工制作的成分表可能类似于：

```
180-200g/6-7oz flour
3-5g sugar
6g to 7g sugar
2 1/2 tbsp flour
3/4 cup flour 
```

## 问题

这些项目必须标准化如下：

```
180 to 200 g / 6 to 7 oz flour
3 to 5 g sugar
6 g to 7 g sugar
2 1/2 tbsp flour
3/4 cup flour 
```

## 代码

这是我到目前为止所拥有的：

```
text = text.replaceAll( "([0-9])-([0-9])", "$1 to $2" );
text = text.replaceAll( "([^0-9])/([0-9])", "$1 / $2" );
return text.replaceAll( "([0-9])([^0-9 /])", "$1 $2" ); 
```

## 问题

分割数据最有效的正则表达式是什么？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:01:06.900

您可以使用`\b`在单词边界处插入空格：

```
return text.replaceAll( "([0-9])-([0-9])",  "$1 to $2" )
           .replaceAll( "\\b", " ")
           .replaceAll( " {2,}", " ")
           .trim(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T14:28:23.650

这是一个只使用环视插入空格的单行代码：

```
text = text.replaceAll("(?=-)|(?<=-)|(?<=[^\\d ])(?=/)|(?<=\\d/?)(?=[^\\d /])|(?<=\\D/)(?=\\d)", " "); 
```

这适用于您的所有情况。这是一些测试代码：

```
public static void main(String[] args) {
    String[] inputs = { "180-200g/6-7oz flour", "3-5g sugar", "6g to 7g sugar", "2 1/2 tbsp flour", "3/4 cup flour" };
    String[] outputs = { "180 - 200 g / 6 - 7 oz flour", "3 - 5 g sugar", "6 g to 7 g sugar", "2 1/2 tbsp flour", "3/4 cup flour" };

    int i = 0;
    for (String input : inputs) {
        String output = input.replaceAll("(?=-)|(?<=-)|(?<=[^\\d ])(?=/)|(?<=\\d/?)(?=[^\\d /])|(?<=\\D/)(?=\\d)", " ");

        if (!output.equals(outputs[i++])) {
            System.out.println("Failed with input: " + input);
            System.out.println("Expected: " + outputs[i - 1]);
            System.out.println("  Actual: " + output);
        }
    }
} 
```

正如预期的那样，输出什么也不是。

如果测试失败，这将帮助您了解哪里出了问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T13:35:37.313

你可以结合

```
text = text.replaceAll( "([^0-9])/([0-9])", "$1 / $2" );
return text.replaceAll( "([0-9])([^0-9 /])", "$1 $2" ); 
```

通过使用类似的东西：

```
text.replaceAll("\\D(?=/\\d)|(?<=\\D)/(?=\\d)|\\d(?=[^0-9 /])", "$0 "); 
```

我不知道这是否会更快。

如果经常使用这种方法，您可能会通过预编译所有模式并在此处使用已编译的模式来获得更多收益。

# android - 如何使用声纳纠正我的错误

> ID：10909434
> 
> 赞同：0
> 
> 时间：2012-06-06T06:51:22.217
> 
> 标签：android, eclipse, sonarqube

我已经为 Eclipse 安装了声纳插件。

在使用声纳配置我的应用程序时，它显示项目 'HelloWorld' 的 GroupId 为空。

我应该怎么做才能纠正这个错误？

它的本地主机为**http://localhost:9000**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:21:03.990

您必须对项目的 Sonar 服务器进行第一次分析（[如我们的文档中所述](http://docs.codehaus.org/display/SONAR/Configuring+Sonar+in+Eclipse)），否则您将无法将项目从 Eclipse 关联到 Sonar。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-24T11:07:26.147

组 ID 只不过是 sonar.projectkey 中提到的值的第一部分。第二个值是 artifactID 参考下面的链接

[http://docs.codehaus.org/display/SONAR/Analyzing+with+Ant+Task](http://docs.codehaus.org/display/SONAR/Analyzing+with+Ant+Task)

# authentication - 为特定页面设置 httpd 身份验证

> ID：10909435
> 
> 赞同：0
> 
> 时间：2012-06-06T06:51:22.777
> 
> 标签：authentication, apache

我有一个脚本为我安装了这一切，但我正在尝试将它配置为我喜欢的方式。

问题是它在 web 目录的根目录中执行我希望它到目录中的特定文件夹...我将如何处理...

这就是我现在所拥有的

```
 ServerName localhost
<VirtualHost *:80>

    ServerAdmin admin@rutorrent
    ServerName localhost
    DocumentRoot /var/rutorrent/

    <Directory />
        AllowOverride None
        Order deny,allow
        Deny from all
    </Directory>
    <Location />
        AuthType Basic
        AuthName "My ruTorrent web site"
        AuthUserFile "/etc/httpd/rutorrent_passwd"
        Require valid-user
        Order allow,deny
        Allow from all
    </Location>
    <Location ~ "^/rutorrent/(conf|share)">
        Order deny,allow
        Deny from all
    </Location>
    <Location ~ "/\\.svn">
        Order deny,allow
        Deny from all
    </Location>
    <Location "/RPC00001">
        AuthType Basic
        AuthName "My ruTorrent web site"
        AuthUserFile "/etc/httpd/rutorrent_passwd"
        Require user torrent
    </Location>
</VirtualHost>
<VirtualHost *:443>
    SSLEngine On
    SSLCertificateFile /etc/httpd/rutorrent.pem
    ServerAdmin admin@rutorrent
    ServerName localhost
    DocumentRoot /var/rutorrent

    <Directory />
        AllowOverride None
        Order deny,allow
        Deny from all
    </Directory>
    <Location />
        AuthType Basic
        AuthName "My ruTorrent web site"
        AuthUserFile "/etc/httpd/rutorrent_passwd"
        Require valid-user
        Order allow,deny
        Allow from all
    </Location>
    <Location ~ "^/rutorrent/(conf|share)">
        Order deny,allow
        Deny from all
    </Location>
    <Location ~ "/\\.svn">
        Order deny,allow
        Deny from all
    </Location>
    <Location "/RPC00001">
        AuthType Basic
        AuthName "My ruTorrent web site"
        AuthUserFile "/etc/httpd/rutorrent_passwd"
        Require user torrent
    </Location>
</VirtualHost>
#SCGIMount /RPC00001 127.0.0.1:23876 
```

我想这样做，所以它要求在 /var/rutorrent/passwordarea 中输入密码

我也不介意为 /var/rutorrent 使用单独的密码和用户名，所以如果有人能分享如何做到这一点，我将不胜感激。

谢谢

# mysql - MySql - 获取所有发生的

> ID：10909439
> 
> 赞同：0
> 
> 时间：2012-06-06T06:51:26.777
> 
> 标签：mysql, sql

我有一个 MySql 数据库。我的主表是一系列 5 本书的所有句子，有本书的索引，书中的章节，章节中的句子。

示例 - 对于哈利波特第五本书，第 1 章，第 3 句，我会有这样的一行。

```
BookID   ChapterID   SentenceID   Text
   4         1           3          Deprived of their usual car-washing and lawn-mowing pursuits, the inhabitants of Privet Drive had retreated into the shade of their cool houses, windows thrown wide in the hope of tempting in a nonexistent breeze. 
```

我需要检索所有出现的字母或单词。因此，如果我搜索“e”，我将获得 17 次相同的行。'e' 在这一行中出现了 17 次。

我已经简化了场景，我可以为每个字母检索更多信息。

到目前为止，我一直无法获得有用的东西。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:00:37.560

我 90% 确定 SQL 查询不会为给定的数据库行返回超过一行，除非您使用 JOIN。但这对于您的目的来说效率很低。

这通常实现的方式是使用类似 的查询`SELECT * FROM books WHERE Text LIKE '%e%'`，它将返回文本中至少有一个“e”的所有行；然后您的应用程序将遍历行并计算出现次数。

# java - 使用Java中的正则表达式删除边距，填充属性

> ID：10909440
> 
> 赞同：2
> 
> 时间：2012-06-06T06:51:27.153
> 
> 标签：java, css, regex

我有一个 css 文件，我想使用 java 中的正则表达式删除所有边距属性（左、右、下）和填充（左、右）属性。请帮我解决这个问题

这是我的CSS

```
.calibre {
        background-color: white;
        display: block;
        font-family: Times New Roman;
        font-size: 1em;
        margin-bottom: 0;
        margin-left: 20pt;
        margin-right: 20pt;
        margin-top: 0;
        padding-left: 0;
        padding-right: 0;
        text-align: justify
        } 
```

输出将是这样的

```
.calibre {
        background-color: white;
        display: block;
        font-family: Times New Roman;
        font-size: 1em;
        text-align: justify
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T06:57:08.287

这对我有用：

```
String str = ".calibre {"+
     "   background-color: white;"+
     "   display: block;"+
     "   font-family: Times New Roman;"+
     "   font-size: 1em;"+
     "   margin-bottom: 0;"+
     "   margin-left: 20pt;"+
     "   margin-right: 20pt;"+
     "   margin-top: 0;"+
     "   padding-left: 0;"+
     "   padding-right: 0;"+
     "   text-align: justify"+
     "   }";

     System.out.println(str.replaceAll("(margin|padding).+?;", "")); 
```

它打印：

```
.calibre {   background-color: white;   display: block;   font-family: Times New Roman;   font-size: 1em;                     text-align: justify   } 
```

# search - 如何隐藏在 liferay 搜索容器中显示结果文本？

> ID：10909441
> 
> 赞同：7
> 
> 时间：2012-06-06T06:51:31.363
> 
> 标签：search, liferay, liferay-6

我正在使用 liferay 搜索容器来显示信息列表，但在该 liferay 搜索容器中默认显示记录数，例如**"Showing 2 results"**。但就我而言，我不想显示这个。我怎样才能删除这个？还附上了搜索容器的图像。

![在此处输入图像描述](../Images/70434787535b4f6fa4b48d26208c20d8.png)

欢迎提出建议。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-07T02:59:37.757

[您可以按照Felix Christy](https://stackoverflow.com/users/1105221/felix-christy)的建议使用 Javascript 执行此操作：

以下是快速步骤：

*   转到所需页面的“管理页面”部分（您不想显示此文本的页面）
*   转到 javascript 部分添加以下内容，它的[Alloy UI](http://deploy.alloyui.com/api/) javascript 框架与 liferay 捆绑在一起：

    ```
    AUI().ready(        

        function(customA) {
            customA.all('.taglib-page-iterator').hide(); // this would hide **all** the elements which have the class "taglib-page-iterator"
        }
    ); 
    ```

*   上面的 javascript 代码可以包含在自定义 portlet 的 JSP 本身中（注意我已更改的方法和选择器），例如：

    ```
    <aui:script>
        AUI().ready(        

            function(customA) {
                customA.one('#my-portletID .taglib-page-iterator').hide(); // this would hide only **one** element (the first it finds) which has the css class "taglib-page-iterator" under an element with id="my-portletID".
            }
        );
    </aui:script> 
    ```

**通过 Hook 的另一种可能的解决方案：**

[您可以像Sandeep Nair](https://stackoverflow.com/users/348285/sandeep-nair)提到的那样创建一个挂钩来隐藏结果文本，但您可以设置一个条件来检查隐藏，仅当您想要隐藏此页面的 URL 或者可以有条件检查要隐藏此结果文本的特定 portlet。

所以它对其他页面和 portlet 可以正常工作，但会为您的页面和您定义的某些 portlet 隐藏。这是一个想法，还没有尝试过，但我认为它会奏效。您可以使用`themeDisplay`JSP 页面上可用的对象来检索 portlet-id。

希望这可以帮助。

感谢[Felix Christy](https://stackoverflow.com/users/1105221/felix-christy)通过 Javascript 提出解决方案。

我想将我的评论转换为答案，以便更好地了解这个精彩社区的其他成员。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-06T07:24:23.780

这是因为您在搜索容器中使用了页面迭代器。当记录超过默认增量时，上面的消息将替换为显示 x-of-y-results 以及页码和导航到下一页的控件。

如果你不想要这个，那么你必须使用钩子修改jsp页面。jsp 的名称是showing_x_results.jspf，下面的代码片段就是您要在其中修改的内容。

```
<c:otherwise>
            <c:choose>
                <c:when test="<%= total != 1 %>">
                    <%= LanguageUtil.format(pageContext, "showing-x-results", numberFormat.format(total)) %>
                </c:when>
                <c:otherwise>
                    <%= LanguageUtil.format(pageContext, "showing-x-result", numberFormat.format(total)) %>
                </c:otherwise>
            </c:choose>
        </c:otherwise> 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-06T13:08:54.150

目前，hook（或 ext，如果你想要一个极端的解决方案）是你可以做到的唯一方法。覆盖showing_x_results.jspf 片段并注释/删除不必要的内容。可通过 portal-ext.properties 配置的唯一“属性”是这些（LR 6.0.5）

```
 #
    # Set the available values for the number of entries to display per page. An
    # empty value, or commenting out the value, will disable delta resizing.
    # The default of 20 will apply in all cases.
    #
    # Always include 20, since it is the default page size when no delta is
    # specified. The absolute maximum allowed delta is 200.
    #
    search.container.page.delta.values=5,10,20,30,50,75

    #
    # Set the maximum number of pages available above and below the currently
    # displayed page.
    #
    search.container.page.iterator.max.pages=25

    #
    # Set this to false to remove the pagination controls above or below
    # results.
    #
    search.container.show.pagination.top=true
    search.container.show.pagination.bottom=true 
```

您可以在此处找到最新的（LR 6.1GA）搜索容器属性：[http ://www.liferay.com/es/documentation/liferay-portal/6.1/user-guide/-/ai/search-container](http://www.liferay.com/es/documentation/liferay-portal/6.1/user-guide/-/ai/search-container)

我不建议从客户端隐藏它，因为如果您决定升级 Liferay 安装，它很可能会中断。挂钩是安全的出路。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-06-06T08:56:17.810

为了删除某些特定页面的字符串，请在页面上放置一个 jQuery/javascript，这将隐藏显示该文本的特定 div/span。

在这种情况下，它不会显示在该页面上，但它将可用并在其他地方呈现。

以下是快速步骤：

1.  转到所需页面的“管理页面”部分（您不想显示此文本的页面）
2.  去 javascript 部分添加这个`$('.taglib-page-iterator').hide();`

这只有在您的主题中包含 jquery.js 时才有效。所以请这样做。

# sql-server-2008 - 如何在Sql的Where子句中设置If条件

> ID：10909442
> 
> 赞同：1
> 
> 时间：2012-06-06T06:51:31.920
> 
> 标签：sql-server-2008

我想显示一个具有多个条件的条件，但如果任何条件为空或没有任何值，则比如何在 where 子句中设置。例子：

```
where
SR.fk_Designation_ID = @pk_Designation_ID
and SR.fk_SeniorityCategory_ID = @pk_SeniorityCategory_ID
and SR.IsCurrent_Appointment = 1 and SR.fk_SeparationType_ID is null
order by Senority_Joining_For_Order,E.Date_Of_Birth 
```

这里 if `@pk_SeniorityCategory_ID`is `null`than 我不想在子句中包含`and SR.fk_SeniorityCategory_ID = @pk_SeniorityCategory_ID`条件。`where`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:04:36.683

尝试这个：

```
WHERE
SR.fk_Designation_ID = @pk_Designation_ID
AND (@pk_SeniorityCategory_ID IS NULL 
     OR 
     SR.fk_SeniorityCategory_ID = @pk_SeniorityCategory_ID)
AND SR.IsCurrent_Appointment = 1 AND SR.fk_SeparationType_ID IS NULL
ORDER BY Senority_Joining_For_Order,E.Date_Of_Birth 
```

# android - 为什么android seekbar 进展不顺利？

> ID：10909446
> 
> 赞同：1
> 
> 时间：2012-06-06T06:51:37.193
> 
> 标签：android, android-layout

我很好奇为什么一旦我开始弄乱它的背景并用不同的图像（你点击移动的球）替换正常的滑块图像，搜索栏就没有顺利进行。

搜索栏看起来正是我想要的样子，但它并不平滑，它会跳跃而不是像标准搜索栏那样平滑流动。

这是3个xml文件：

seekbar_progress_bg.xml

```
 <?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android" >

    <item>
        <clip>
            <shape>
                <corners android:radius="5dip" />
                <gradient
                    android:angle="270"
                    android:centerColor="#FF32a0d2"
                    android:centerY="0.1"
                    android:endColor="#FF13729e"
                    android:startColor="#FF5e8ea3" />
            </shape>
        </clip>
    </item>
</layer-list> 
```

seekbar_progress.xml

```
 <?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android" >

    <item android:id="@android:id/background">
        <shape>
            <corners android:radius="5dip" />
            <gradient
                android:angle="270"
                android:centerColor="#FFFFFF"
                android:centerY="0.75"
                android:endColor="#FFFFFF"
                android:startColor="#FFFFFF" />
        </shape>
    </item>
    <item android:id="@android:id/secondaryProgress">
        <clip>
            <shape>
                <gradient
                    android:angle="270"
                    android:centerColor="#80127fb1"
                    android:centerY="0.75"
                    android:endColor="#a004638f"
                    android:startColor="#80028ac8" />
            </shape>
        </clip>
    </item>
    <item
        android:id="@android:id/progress"
        android:drawable="@drawable/seekbar_progress_bg"/>

</layer-list> 
```

主要的.xml

```
 <?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <TextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/hello" />

    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_weight="0.64" >

        <SeekBar
            android:id="@+id/frequency_slider"
            android:layout_width="919dp"
            android:layout_height="wrap_content"
            android:layout_alignParentTop="true"
            android:layout_centerHorizontal="true"
            android:layout_marginTop="136dp"
            android:max="20"
            android:progress="0"
            android:progressDrawable="@drawable/seekbar_progress"
            android:secondaryProgress="0"
            android:thumb="@drawable/triton_slider_handle" />

    </RelativeLayout>

</LinearLayout> 
```

# jquery - 使用 jquery 将 json 数据拆分为多个 json 数据

> ID：10909451
> 
> 赞同：0
> 
> 时间：2012-06-06T06:51:56.787
> 
> 标签：jquery, json, split

我有具有如下 json 数据的 **变量数据：**

```
{  
   "label":["ch1","ch2","ch3"],  
   "data": [  
             [-0.001000, -0.562500, 0.001875, 0.002188],  
             [-0.000998, -0.687500, 0.000937, 0.001875]  
           ]   
} 
```

我想使用 jquery 在 json 数据之上拆分并将它们存储在三个**变量 data1、data2、data3**中，其中 json 数据如下：

```
{  
   "label":["ch1"],  
   "data": [  
             [-0.001000, -0.562500],  
             [-0.000998, -0.687500]  
           ]  
} 
```

和

```
{  
    "label":["ch2"],  
    "data": [  
                [-0.001000, 0.001875],  
                [-0.000998, 0.000937]  
            ]  
} 
```

和

```
{  
   "label":["ch3"],  
   "data": [  
             [-0.001000, 0.002188],  
             [-0.000998, 0.001875]  
           ]  
} 
```

请告诉我如何使用 jquery 将常见的 json 数据拆分为上述三个不同的 json 数据？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T07:18:29.823

要求很模糊，但这就是我认为您的意思：

```
var main = {  
   "label":["ch1","ch2","ch3"],  
   "data": [  
             [-0.001000, -0.562500, 0.001875, 0.002188],  
             [-0.000998, -0.687500, 0.000937, 0.001875]  
           ]   
}

for (var i in main.label) {
  var k = +i + 1, // make k a 1-based value
  data = [];

  for (var j = 0; i < 2; ++j) {
      data.push([main.data[j][0], main.data[j][k]);
  }

  window['data' + k] = {
    "label": [ main.label[i] ],
    "data": data
  }
}

console.log(data1, data2, data3); 
```

# c# - SendMessage 到窗口句柄

> ID：10909453
> 
> 赞同：2
> 
> 时间：2012-06-06T06:52:06.650
> 
> 标签：c#, c++, sendmessage

我尝试使用 sendmessage 将消息从我的 c++ 应用程序传递到 c#

我的 C++ 代码是这样的

```
int _tmain(int argc, _TCHAR* argv[])
{

 COPYDATASTRUCT cpd;
 cpd.dwData = 0;    
 LPCWSTR strDataToSend = L"http://google.com";;

     cpd.cbData = (wcslen(strDataToSend) + 1) * 2;
     cpd.lpData = (PVOID)strDataToSend; 
 SendMessage((HWND)0x0020073C,5555,0,(LPARAM)&cpd);

return 0;
} 
```

我尝试使用 SendMessageW 我也硬编码了正确的句柄我正在回拨但没有得到任何数据

我的 C# 应用程序是这样的

```
 public struct COPYDATASTRUCT
    {
        public IntPtr dwData;
        public int cbData;
        [MarshalAs(UnmanagedType.LPStr)]
        public string lpData;
    }

    protected override void WndProc(ref Message m)
    {
        // Listen for operating system messages.

        switch (m.Msg)
        {
            // The WM_ACTIVATEAPP message occurs when the application
            // becomes the active application or becomes inactive.
            case 5555:

                COPYDATASTRUCT mystr = new COPYDATASTRUCT();
                Type mytype = mystr.GetType();
                mystr = (COPYDATASTRUCT)m.GetLParam(mytype);
                MessageBox.Show ( mystr.cbData.ToString());
                MessageBox.Show(mystr.lpData);
                break;
             }
             base.WndProc(ref m);
           } 
```

我将消息框变为空白......我尝试不使用 COPYDATASTRUCT 只有我传递的字符串请任何人帮助我.. 提前致谢

* * *

```
 int _tmain(int argc, _TCHAR* argv[])
  {

  COPYDATASTRUCT cpd;
  cpd.dwData = 0;    
  LPCWSTR strDataToSend = L"http://google.com";;

   cpd.cbData = (wcslen(strDataToSend) + 1) * 2;
   cpd.lpData = (PVOID)strDataToSend; 
   SendMessage((HWND)0x0020073C,WM_COPYDATA,0,(LPARAM)&cpd);

 return 0;
} 
```

C# 代码

```
public struct COPYDATASTRUCT
{
    public IntPtr dwData;
    public int cbData;
    [MarshalAs(UnmanagedType.LPStr)]
    public string lpData;
}
 public const int WM_COPYDATA = 0x4A;

protected override void WndProc(ref Message m)
{
    // Listen for operating system messages.

    switch (m.Msg)
    {
        // The WM_ACTIVATEAPP message occurs when the application
        // becomes the active application or becomes inactive.
        case WM_COPYDATA:

            COPYDATASTRUCT mystr = new COPYDATASTRUCT();
            Type mytype = mystr.GetType();
            mystr = (COPYDATASTRUCT)m.GetLParam(mytype);
            MessageBox.Show ( mystr.cbData.ToString());
            MessageBox.Show(mystr.lpData);
            break;
         }
         base.WndProc(ref m);
       } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T07:58:41.667

您正在尝试做的是一些基本的 IPC（进程间通信）。

这对于 C# 来说不是问题，但对于 C++ 来说却是。

也许一些基本的 COM 会帮助你。这很简单，您不再需要使用 SendMessage、窗口句柄等

[COM简介](http://www.codeproject.com/Articles/633/Introduction-to-COM-What-It-Is-and-How-to-Use-It)

[COM 简介第 2 部分](http://www.codeproject.com/Articles/901/Introduction-to-COM-Part-II-Behind-the-Scenes-of-a)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T07:48:56.493

我稍微修改了源代码，它正在工作。从 C++ 代码中我使用了这个调用

`SendMessage((HWND)0x0020073C,WM_COPYDATA,0,(LPARAM)&cpd);`

在 C# 应用程序中，我使用了以下

```
public const int WM_COPYDATA = 0x004A; 
```

并且`COPYDATASTRUCT`是

```
 [StructLayout(LayoutKind.Sequential)]
        public struct COPYDATASTRUCT
        {
            public IntPtr dwData;
            public int cbData;
            public IntPtr lpData;
        } 
```

并且消息处理程序被这样修改

```
 case WM_COPYDATA:        

                    COPYDATASTRUCT mystr = new COPYDATASTRUCT();             

                    mystr = (COPYDATASTRUCT)Marshal.PtrToStructure(m.LParam, typeof(COPYDATASTRUCT));

                    if (mystr.cbData > 0)
                    {
                        byte[] data = new byte[mystr.cbData];
                        Marshal.Copy(mystr.lpData, data, 0, mystr.cbData);
                        Encoding unicodeStr = Encoding.Unicode;
                        char[] myString = unicodeStr.GetChars(data);
                        string returnText = new string(myString);
                        MessageBox.Show("Text is " + returnText);
                    }

                    break; 
```

# c - C - win32: AttachThreadInput & SetFocus, 64bit: 不知道

> ID：10909458
> 
> 赞同：8
> 
> 时间：2012-06-06T06:52:24.607
> 
> 标签：c, winapi, 64-bit, setfocus

我已经评论了我所知道的大部分内容。我相当有信心这个问题出现在 AttachThreadInput。我认为它仅设计为在 32 位下运行。相信我，如果我能自己解决这个问题，我会很高兴。我阅读了 Windows 中事件的完整文档（[此处](http://msdn.microsoft.com/en-us/library/ms644927)），但我离解决方案还差得远。如果您有任何想法，我很想听听。

```
#include <stdio.h>
#include <windows.h>

int main()
{
    //Structure prereqs for CreateProcess
    STARTUPINFO         siStartupInfo;
    PROCESS_INFORMATION piProcessInfo;
    memset(&siStartupInfo, 0, sizeof(siStartupInfo));
    memset(&piProcessInfo, 0, sizeof(piProcessInfo));
    siStartupInfo.cb = sizeof(siStartupInfo);

    if(CreateProcess("c:\\windows\\notepad.exe", "", 0, 0, FALSE, CREATE_DEFAULT_ERROR_MODE, 0, 0, &siStartupInfo, &piProcessInfo) == FALSE)
    {
        GetLastError();
    }
    Sleep(1000);

    //Target thread, I can't seem to get this to return anything !0
    DWORD dwTargetThread = GetWindowThreadProcessId(piProcessInfo.hProcess,NULL);
    //For example:
    //if(dwTargetThread == 0) return -1;

    //Print debugging info
    if (GetCurrentThreadId() == dwTargetThread) return -1; else printf("\nMy thread: %u\n\npiProcessInfo.hThread: %u\n\nDWORD dwTargetThread: %u\n\nunsigned int dwTargetThread: %u", GetCurrentThreadId(), piProcessInfo.hThread,dwTargetThread, GetWindowThreadProcessId(piProcessInfo.hProcess,NULL));

    //I've tried using piProcessInfo.hThread for AttachTo but I can't cast it to a DWORD as it's 64bit
    AttachThreadInput(GetCurrentThreadId(),dwTargetThread,TRUE);
    printf("\n\nAttached...\n");
    Sleep(1000);

    //Set the focus & bring to foreground
    SetFocus(piProcessInfo.hProcess);
    printf("Focus set...\n");
    Sleep(1000);
    SetForegroundWindow(piProcessInfo.hProcess);
    printf("Brought to foreground...\n");
    Sleep(1000);

    //I know I shouldn't use PostMessage for keyboard input but it's just for the example
    PostMessage(piProcessInfo.hProcess, WM_CHAR,  'g', 0);
    printf("Message queued\n");

    //No better than SetForegroundWindow:
    //SetWindowPos(piProcessInfo.hProcess, HWND_TOPMOST, 0, 0, 0, 0, SWP_NOMOVE | SWP_NOSIZE);
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T08:19:12.397

GetWindowThreadProcessId 接收一个窗口句柄作为输入。您正在传递一个完全不同的节拍的进程句柄。这自然会导致失败。随后对 SetFocus、SetForegroundWindow、PostMessage 和 SetWindowPos 的调用犯了同样的错误。

使用 EnumWindows 或 FindWindow 来获取记事本窗口句柄。

AttachThreadInput 使用线程 ID 进行操作。您尝试将句柄传递给函数，在 64 位进程中，句柄为 64 位宽，线程 ID 仍为 32 位宽。当然， AttachThreadInput 在 64 位下工作得很好。这里要吸取的教训是强制转换表示编程错误。如果您需要将参数转换为适当的类型，那么通常这意味着您将错误的东西传递给函数。避免铸造。

# delphi - 我可以使用 IdUDPClient 发送 M-SEARCH 请求吗？

> ID：10909462
> 
> 赞同：5
> 
> 时间：2012-06-06T06:52:41.520
> 
> 标签：delphi, indy, ssdp

我的网络中很少有 uPNP 设备。我正在尝试向网络发送 M-SEARCH 请求并希望收到一些响应。这就是我正在尝试的：

```
var sIP, sOut: string;
    iPort: Word;
    S: TStringBuilder;
begin
  S := TStringBuilder.Create;
  try
    S.Append('M-SEARCH * HTTP/1.1').AppendLine
     .Append('HOST: 239.255.255.250:1900').AppendLine
     .Append('MAN: "ssdp:discover"').AppendLine
     .Append('MX: 10').AppendLine
     .Append('ST: ssdp:all').AppendLine;

    IdUDPClient1.ReceiveTimeout := 3000;
    IdUDPClient1.Broadcast(S.ToString, 1900, '239.255.255.250');
    sOut := IdUDPClient1.ReceiveString(sIP, iPort);
    Memo1.Lines.Add(sIP);
    Memo1.Lines.Add(IntToStr(iPort));
    Memo1.Lines.Add(sOut);
  finally
    S.Free;
  end;
end; 
```

我没有收到来自 UDP 客户端的任何信息。我使用 Wireshark 来监控网络流量，并且没有从我的主机发送消息。

有任何想法吗？谢谢你。

我终于找到了答案：

```
uses
  System.SysUtils, IdUDPClient, IdStack;

var S: TStringBuilder;
    U: TIdUDPClient;
    iPeerPort: Word;
    sPeerIP, sResponse: string;
begin
  U := TIdUDPClient.Create(nil);
  S := TStringBuilder.Create;
  try
    S.Append('M-SEARCH * HTTP/1.1').AppendLine
     .Append('HOST: 239.255.255.250:1900').AppendLine
     .Append('MAN: "ssdp:discover"').AppendLine
     .Append('MX: 3').AppendLine
     .Append('ST: ssdp:all').AppendLine
     .AppendLine;

    U.BoundIP := GStack.LocalAddress;
    U.Send('239.255.255.250', 1900, S.ToString);

    U.ReceiveTimeout := 1000;
    repeat
      sResponse := U.ReceiveString(sPeerIP, iPeerPort);
      if iPeerPort <> 0 then begin
        WriteLn(Format('%s:%d', [sPeerIP, iPeerPort]));
        WriteLn(sResponse);
      end;
    until iPeerPort = 0;
    ReadLn;
  finally
    S.Free;
    U.Free;
  end;
end. 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T20:19:48.800

`AppendLine()`在字符串生成器结束时调用两次。HTTP 请求标头由两个 CRLF 对终止，但您仅附加一对，因此您发送的请求不完整。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-06T15:28:04.097

Quick and Dirty solution using TIdUDPServer (Indy 9).

Drop the TIdUDPServer component on the form, and using Object Inspector set Bindings to your local IP eg. 10.1.0.78:0, set BroadcastEnabled and Active to true. Drop a TMemo and TButton on the form.

Complete the OnClick and UDPRead Events as follows:

```
uses IdSocketHandle;
...
procedure TForm1.Button1Click(Sender: TObject);
begin
  IdUDPServer1.Send('239.255.255.250', 1900, 'M-SEARCH * HTTP/1.1' + #13#10 +
     'HOST: 239.255.255.250:1900' + #13#10 +
     'MAN: "ssdp:discover"'+ #13#10 +
     'MX: 3'+ #13#10 +
     'ST: ssdp:all'+ #13#10 +
     #13#10);
end;

procedure TForm1.IdUDPServer1UDPRead(Sender: TObject; AData: TStream; ABinding: TIdSocketHandle);
var 
   data: string;
begin

   setlength(data, Adata.Size - AData.Position); //No fragmentation :)        
   AData.ReadBuffer(data[1], length(data));

   memo1.Lines.Add('Read: ' + inttostr(AData.Position) + ' / ' + inttostr(AData.Size) + ' PeerIP: ' + ABinding.PeerIP);       
   memo1.Lines.Add(data);
end; 
```

Save, Run and Bob's your uncle.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-26T21:13:27.077

对于多播 M-SEARCH，消息格式定义如下。* * 之间的值是实际值的占位符。

```
M-SEARCH * HTTP/1.1
HOST: 239.255.255.250:1900
MAN: "ssdp:discover"
MX: *seconds to delay response*
ST: *search target*
USER-AGENT: *OS/version UPnP/1.1 product/version* 
```

因此，您需要将 ReceiveTimeout 修复为

```
U.ReceiveTimeout := 3000; 
```

它至少应该等于您的请求延迟 (MX:3) 3 sec = 3000 毫秒

# jquery - 我们可以从变量中设置控件的值吗

> ID：10909465
> 
> 赞同：0
> 
> 时间：2012-06-06T06:53:10.873
> 
> 标签：jquery, jquery-selectors, controls

是否可以设置控件 ID 保存在变量中的控件的值。代码看起来像

```
var textmonth = $(this).parent().find('input[id$=txtmonths]').attr("id"); 
```

我正在尝试做这样的事情

```
textmonth.val("Only numbers"); 
```

真的有可能吗？

演示代码如下：

html代码是：

```
<div id="pagecontent">
<h1>
        Collection Master</h1>

    <table cellpadding="1" cellspacing="2" style="padding-left:40px; font-size:medium; padding-right:20px"
        width="100%" border="0">
        <tr>
                <td colspan="2" style="width: 100%">
                    <asp:GridView ID="grdFees" runat="server" AllowPaging="false" CssClass="Grid" AutoGenerateColumns="false"><Columns>

                            <asp:TemplateField HeaderText="SI NO" HeaderStyle-HorizontalAlign="center"
                                ItemStyle-HorizontalAlign="center" ItemStyle-Width="3%">
                                <ItemTemplate>
                                    <%# Container.DataItemIndex + 1%>
                                </ItemTemplate>
                            </asp:TemplateField>
                            <asp:BoundField HeaderText="Sub Category" DataField="SUB_CAT" ItemStyle-CssClass="subcat" ItemStyle-Width="15%"
                                HeaderStyle-HorizontalAlign="center" ItemStyle-HorizontalAlign="center" />
                            <asp:BoundField HeaderText="Fees Paid (Months,Quarters)" DataField="PAID_FEES" ItemStyle-Width="15%"
                                HeaderStyle-HorizontalAlign="center" ItemStyle-HorizontalAlign="center" />
                                <asp:BoundField HeaderText="Pending Fees" DataField="PEND_FEES" ItemStyle-Width="5%"
                                HeaderStyle-HorizontalAlign="center" ItemStyle-HorizontalAlign="center" />
                            <asp:TemplateField HeaderText="Current Payment" HeaderStyle-HorizontalAlign="center" ItemStyle-HorizontalAlign="center"
                                ItemStyle-Width="10%">
                                <ItemTemplate>
                                    <asp:TextBox ID="txtmonths" Width="80%" runat="server" 
                                     CssClass="Textbox"></asp:TextBox>
                                    <a href="#" class="openModalLink">
                                        <img style="vertical-align: middle; border: none" width="9%" alt="" 
                                        src="../Images/ico_map.gif"  id="imgmap" class="zoom"/></a>
                                </ItemTemplate>
                            </asp:TemplateField>
                        </Columns>
                    </asp:GridView>
                </td>
            </tr>
</table>
    <div id="overlay" class="web_dialog_overlay">
        </div>
        <div id="dialog" class="web_dialog">
            <table style="width: 100%; border: 0px;" cellpadding="3" cellspacing="0">
                <tr>
                    <td class="web_dialog_title" style="height: 16px">
                        Month Chooser</td>
                        <td class="web_dialog_title align_right" style="height: 16px">
                        <a href="#" id="btnClose">Close</a>
                    </td>
                </tr>
                <tr>
                <td colspan="2">
                <asp:GridView ID="grdpopup" runat="server" TabIndex="5">
                        <Columns>
                        <asp:TemplateField HeaderText="Select" HeaderStyle-HorizontalAlign="center"
                                ItemStyle-HorizontalAlign="center" ItemStyle-Width="2%">
                                <ItemTemplate>
                                    <asp:CheckBox ID="chkselect" runat="server" CssClass="checkbox" 
                                    Width="15px" Checked="false" />
                                </ItemTemplate>
                            </asp:TemplateField>
                            <asp:BoundField HeaderText="Term" DataField="TERM" ItemStyle-Width="35%" HeaderStyle-HorizontalAlign="center" ItemStyle-HorizontalAlign="Left" ItemStyle-CssClass="term" />
                            <asp:BoundField HeaderText="Fee Amt." DataField="FEE_AMT" ItemStyle-Width="35%" HeaderStyle-HorizontalAlign="center" ItemStyle-HorizontalAlign="center" ItemStyle-CssClass="feeamt" />

                        </Columns>
                    </asp:GridView>
                </td></tr>
                <tr>
                    <td rowspan="2" colspan="2" style="text-align: center; vertical-align:middle">
                        <input id="btnSubmit1" type="button" value="Submit" class="button" />
                    </td>
                </tr>
                </table>
                </div>

</div> 
```

JS代码是

```
<script src="../Jquery Autocomplete/jquery-1.7.2.min.js" type="text/javascript"> 
</script>
<script src="../Jquery Autocomplete/jquery.json-2.2.min.js" type="text/javascript"> 
</script>
    <script type="text/javascript">
$(document).ready(function() 
    {
        var textmonth;
        var textamount;

        $(".openModalLink").click(function()
        {
            textmonth = $(this).parent().find('input[id$=txtmonths]').attr("id");
            textamount = $(this).parent().parent().find('input[id$=txtAmount]').attr("id");
            ShowDialog();
        });
        $("#btnClose").click(function(e) 
        {
            textmonth = null;
            textamount = null;
            HideDialog();
        });
        $('#btnSubmit1').click(function(e) 
        {
            var month = null;
            var amount = 0;
            $(':checkbox:checked').each(function(i) 
            {

                var amt=$(this).closest("tr").find(".feeamt").text();
                if(amt != '')
                {
                    amount = amount + parseInt(amt,10);
                    if(month == null)
                    {
                        month = $(this).closest("tr").find(".term").text();
                    }
                    else
                    {
                        month = month + ',' + $(this).closest("tr").find(".term").text();
                    }
                }
            });
            $("#"+textamount).val(amount);
            $("#"+textmonth).val(month);
            HideDialog();
        });
    });
    function ShowDialog(modal)
    {
        $("#overlay").show();
        $("#dialog").fadeIn(300);
        if (modal) {
            $("#overlay").unbind("click");
        }
    }
    function HideDialog() 
    {
        $("#overlay").hide();
        $("#dialog").fadeOut(300);

    }
    </script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:01:35.513

```
$(this).parent().find('input[id$=' + txtmonths +']').val('foo'); 
```

`txtmonths`期望的终点在哪里`id`。

[**现场演示**](http://jsfiddle.net/LNput/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T06:55:36.353

您需要创建一个选择器并通过它获取元素：

```
var textmonth = $('#'+$(this).parent().find('input[id$=txtmonths]').attr("id")); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T06:59:41.577

1.  首先获取元素ID
2.  然后通过连接 ID 选择器将该 ID 与 Jquery 选择器一起使用

    ```
    var textmonth = $(this).parent().find('input[id$=txtmonths]').attr("id");

    $('#'+ textmonth).val('your value'); 
    ```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T07:19:22.793

像这样使用

```
var textmonth = $(this).parent().find('input[id$=txtmonths]')
 remove .attr("id") 
```

那么你可以使用

```
textmonth.val("only numbers") 
```

# java - 在一个线程上初始化的 jmethodID 可以在另一个线程中使用吗？

> ID：10909468
> 
> 赞同：1
> 
> 时间：2012-06-06T06:53:36.783
> 
> 标签：java, multithreading, java-native-interface

我们可以`jmethodID`在另一个线程的一个线程上使用初始化吗？我问这个是因为当我运行 jni 程序时我的 jvm 崩溃了，我在一个线程上初始化`jmethodID`并在另一个线程中使用它。我在想这是否可能是一个原因。

我`jmethodID`通过在顶部声明来保持全局变量。然后在其中一个调用中初始化它，在随后的调用中我尝试重用它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:39:18.633

引用[JNI 规范](http://docs.oracle.com/javase/6/docs/technotes/guides/jni/spec/design.html#wp715)：

> 字段或方法 ID 不会阻止 VM 卸载从中派生 ID 的类。类卸载后，方法或字段 ID 失效。因此，本机代码必须确保：
> 
> ```
> keep a live reference to the underlying class, or
> 
> recompute the method or field ID 
> ```
> 
> 如果它打算长时间使用方法或字段 ID。

# tomcat - Tomcat Web 应用程序管理器 - 是否可以限制每个用户角色可以看到的内容？

> ID：10909471
> 
> 赞同：0
> 
> 时间：2012-06-06T06:54:05.047
> 
> 标签：tomcat, web-applications, access-control

我在互联网上找不到任何关于此的信息，因此希望这里的专家可以帮助回答我的问题。

我已经在我的测试服务器上设置了 Tomcat Web 应用程序管理器，创建了一些角色/用户，`tomcat-users.xml`如下所示：

```
<role rolename="manager"/>
<user username="admin" password="admin" roles="manager"/>
<user username="user1" password="password" roles="manager"/> 
```

`admin`应该对 WebApp Manager 拥有完全权限，而`user1`（可能还有后续用户）适用于已被授予上传/部署其 WAR 文件权限的用户。

现在他们具有相同的角色，因此很明显他们在登录时看到相同的 UI，但我只想`user1`看到部署/上传选项 - 本质上是对 WebApp 管理器的访问受限。

有可能实现这样的目标吗？如果是，如何？如果不是，什么是可以接受的妥协？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-07T18:23:19.413

如果你找不到这个，你看起来并不难。它位于 Tomcat 用户指南的“管理器”部分下：

[http://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html#Configuring_Manager_Application_Access](http://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html#Configuring_Manager_Application_Access)

使用标准的用户访问角色，您无法做您想做的事情。幸运的是，没有什么能阻止你发明一些东西。

假设您想为`deploy`和设置不同的角色`undeploy`。只需`tomcat-users.xml`像这样添加它们：

```
<role rolename="deploy"/>
<role rolename="undeploy"/> 
```

现在，修改`manager`webapp 的 web.xml 并添加一些`auth-constraints`允许这些新角色访问某些特定功能的内容：

```
<security-constraint>
  <web-resource-collection>
    <web-resource-name>Manual Deployment</web-resource-name>
    <url-pattern>/html/deploy</url-pattern>
  </web-resource-collection>
  <auth-constraint>
     <role-name>manager-gui</role-name>
     <role-name>deploy</role-name>
  </auth-constraint>
</security-constraint>

<security-constraint>
  <web-resource-collection>
    <web-resource-name>Manual Deployment</web-resource-name>
    <url-pattern>/html/undeploy</url-pattern>
  </web-resource-collection>
  <auth-constraint>
    <role-name>manager-gui</role-name>
    <role-name>undeploy</role-name>
  </auth-constraint>
</security-constraint> 
```

请注意，您还必须修改现有`<web-resource-collection>`的 for`/html/*`以便具有任何适当角色的用户（例如，仅具有“部署”角色的用户）可以访问 GUI 本身，以便使用上面配置的那些功能。

# iphone - MPMoviePlayerController 慢速前进和后退运动

> ID：10909478
> 
> 赞同：4
> 
> 时间：2012-06-06T06:54:55.553
> 
> 标签：iphone, ios, xcode, video, mpmovieplayercontroller

> **可能重复：**
> [以 2x 3x 4x 速度播放/转发视频 - iPhone SDK](https://stackoverflow.com/questions/10514185/play-forward-video-in-2x-3x-4x-speed-iphone-sdk)

我目前正在开发基于视频的应用程序。我`MPMoviePlayerController`用来播放我在我的应用程序中录制的视频。我的问题是我必须做什么才能以慢速前进和后退的方式播放视频`MPMoviePlayerController`？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T07:10:51.317

```
-(IBAction) playSlow:(UIButton *)sender{

    if (frameRate > 1) 
        frameRate -= 0.5;
    else
        frameRate -= 0.25;

    if (frameRate < 0) {
        frameRate=0;
    }

    queuePlayer.rate = frameRate;
}

-(IBAction) playFast:(UIButton *)sender{

    if (frameRate < 1) 
        frameRate += 0.25;
    else
        frameRate += 0.50;

    if(frameRate > 4)
        frameRate = 4;
    queuePlayer.rate = frameRate;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:38:08.993

[请参阅此处](https://stackoverflow.com/questions/10514185/play-forward-video-in-2x-3x-4x-speed-iphone-sdk)的链接。它可能会对您有所帮助。此外，[此处](http://developer.apple.com/library/ios/#documentation/mediaplayer/reference/MPMoviePlayerController_Class/Reference/Reference.html)的苹果文档为您提供有关 MPMoviePlayerController 的完整参考。

# java - 泽西岛泛型类型的编组

> ID：10909482
> 
> 赞同：5
> 
> 时间：2012-06-06T06:55:36.097
> 
> 标签：java, jaxb, jersey

我需要返回少数结果和结果总数的客户列表。我必须在具有不同实体的几个地方执行此操作，因此我希望有一个具有这两个属性的通用类：

```
@XmlRootElement
public class QueryResult<T> implements Serializable {
    private int count;
    private List<T> result;

    public QueryResult() {
    }

    public void setCount(int count) {
        this.count = count;
    }

    public void setResult(List<T> result) {
        this.result = result;
    }

    public int getCount() {
        return count;
    }

    public List<T> getResult() {
        return result;
    }
} 
```

和服务：

```
@GET
@Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})
public QueryResult<TestEntity> findAll(
    QueryResult<TestEntity> findAll = facade.findAllWithCount();
    return findAll;
} 
```

实体不重要：

```
@XmlRootElement
public class TestEntity implements Serializable {
    ...
} 
```

但这会导致：`javax.xml.bind.JAXBException: class test.TestEntity nor any of its super class is known to this context.`

仅返回集合很容易，但我不知道如何返回我自己的泛型类型。我尝试使用`GenericType`但没有成功 - 我认为这是收藏品。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-01T12:08:55.280

在我自己与这个斗争之后，我发现答案相当简单。在您的服务中，返回相应键入的 GenericEntity ( [http://docs.oracle.com/javaee/6/api/javax/ws/rs/core/GenericEntity.html](http://docs.oracle.com/javaee/6/api/javax/ws/rs/core/GenericEntity.html) )的构建响应。例如：

```
@GET
@Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})
public Response findAll(){
    return Response.ok(new GenericEntity<TestEntity>(facade.findAllWithCount()){}).build();
} 
```

请参阅这篇文章，了解为什么不能简单地返回 GenericEntity：[Jersey GenericEntity Not Working](https://stackoverflow.com/questions/6015970/jersey-genericentity-not-working)

更复杂的解决方案可能是直接返回 GenericEntity 并创建您自己的 XmlAdapter ( [http://jaxb.java.net/nonav/2.2.4/docs/api/javax/xml/bind/annotation/adapters/XmlAdapter.html](http://jaxb.java.net/nonav/2.2.4/docs/api/javax/xml/bind/annotation/adapters/XmlAdapter.html) ) 来处理编组/解组。不过，我还没有尝试过，所以这只是一个理论。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:25:47.263

我使用`@XmlSeeAlso`注释解决了它：

```
@XmlSeeAlso(TestEntity.class)
@XmlRootElement
public class QueryResult<T> implements Serializable {
    ...
} 
```

另一种可能性是使用`@XmlElementRefs`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T07:19:21.007

我有完全相同的问题。该问题是由于 Java 的类型擦除而发生的。

我的第一种方法是为每个实体类型生成一个结果类：

```
public class Entity1Result extends QueryResult<Entity1> { ... }

public class Entity2Result extends QueryResult<Entity2> { ... } 
```

`QueryResult<>`我在我的服务中只为内置类型返回了泛型，例如`QueryResult<String>`, 或`QueryResult<Integer>`

但这很麻烦，因为我有很多实体。所以我的另一种方法是只使用 JSON，我将结果类更改为非泛型并使用`Object`结果字段：

```
public class QueryResult {
   private Object result;
} 
```

它工作正常，Jersey 能够将我给它的所有内容序列化为 JSON（注意：我不知道它是否重要，但`QueryResult`我的所有实体仍然有`@Xml...`注释。这也适用于具有自己的实体类型的列表。

如果收藏有问题，也可以看[这个问题](https://stackoverflow.com/questions/818327/jaxb-how-should-i-marshal-complex-nested-data-structures)

# actionscript-3 - AS3 - 在 stage.focus 之后输入文本从 KeyboardEvent 接收不需要的键

> ID：10909486
> 
> 赞同：1
> 
> 时间：2012-06-06T06:55:41.697
> 
> 标签：actionscript-3, text, input

我在游戏中的聊天课程遇到了一个相当令人沮丧的问题。

基本上这是正在发生的事情：

1）我为字母“t”收听KeyboardEvent.KEY_DOWN。（“t”调出团队聊天）

2）然后调用一个类以使输入文本字段可见（已创建时间线）。

3）然后我 stage.focus 到该输入文本。

一切正常，除了字母“t”出现在我的输入文本字段中。

因此，我认为它正在捕获 KeyboardEvent 并输入“t”，因此我创建了一个事件侦听器以在输入文本字段为 stage.focus'd 后触发，以通过调用 inputText.text =“”来清除该输入文本字段；

但是，它不起作用，而不是将其清除为“”，而是留下“t”。

我进行了更多实验，并尝试在焦点事件之后设置 inputText.text = "CLEAR"。

发生了一些奇怪的事情，毕竟说完，输入文本字段显示“tCLEAR”，光标在 t 之后，当我输入更多时，它会将“CLEAR”推到右侧。

据我所知，任何文本字段动态或输入，如果您将其设置为“”，它应该清除它。但是在这种情况下它不是，它只是在 t 之后推动“”。

无论如何，我已经做了很多搜索，但无济于事。

我什至尝试在 TextEvent.TEXT_INPUT 之后清除“”，甚至在按下“t”后删除了 KeyListener，仍然没有乐趣。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:06:08.343

您可以添加`event.stopImmediatePropogation()`您的`KeyboardEvent.KEY_DOWN`处理程序。或者，如果这无助于尝试使用事件在其处理程序`KeyboardEvent.KEY_UP`中捕获按下的按钮。`event.stopImmediatePropogation()`

**编辑**

好吧，我不知道为什么在按键事件中这样做对您很重要。但我可以建议这个解决方案：

1）`TextEvent.TEXT_INPUT`在您的按键处理程序中将侦听器添加到 TextField 。

2）并在文本输入处理程序中添加`event.preventDefault();`和删除`TextEvent.TEXT_INPUT`侦听器。

像这样的东西：

```
function keyDownHandler(event:KeyboardEvent):void
{
    ...
    stage.focus = tf;
    tf.addEventListener(TextEvent.TEXT_INPUT, tf_textInputHandler);

}

function tf_textInputHandler(event:TextEvent):void
{
    event.preventDefault();
    tf.removeEventListener(TextEvent.TEXT_INPUT, tf_textInputHandler);
} 
```

你的文本字段在哪里`tf`。

# ruby-on-rails - 在源代码控制之外配置域名

> ID：10909490
> 
> 赞同：0
> 
> 时间：2012-06-06T06:56:10.923
> 
> 标签：ruby-on-rails, configuration

我有一个 Rails 应用程序，我现在计划将许多实例部署到不同的域。最初我只打算让它在一个域上。

我意识到对于每个域，我必须替换各个地方的所有硬编码值。这些包括：

*   资产主机路径（资产位于同一域中）
*   每当-gem 的 :application 设置（因为两个域可以共享同一个服务器，这是为了避免 crobtab 更新冲突）
*   一些使用 curl 到自己的地址来触发事件的任务
*   在计算没有请求对象的图像完整 url 时，carrierwave 需要硬编码值。

***问题***

有没有设置这个的策略，所以：

*   该设置不应提交到源代码管理（如`database.yml.example`）
*   Rails 外部的代码可以访问它（只要-gem 不加载 Rails 环境）
*   访问域的方式可以是一致的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:16:21.927

您可以采取的一种方法是拥有一个包含每个部署属性的 YAML 文件。您甚至可以签入开发版本并使用正确的版本覆盖您的部署脚本。

通常我会将该配置文件放在 shared/config 中（假设采用 capistrano 样式布局），然后在部署期间将其符号链接到当前版本中。

# hibernate - 如何在primefaces中的文件上传期间传递参数

> ID：10909492
> 
> 赞同：3
> 
> 时间：2012-06-06T06:56:19.317
> 
> 标签：hibernate, file-upload, jsf-2, primefaces

我正在使用带有 primfaces 的 jsf2.0 并使用 p:fileupload 来上传照片。这里我需要在支持 bean 中传递参数。因为没有通过 p:fileupload 传递参数的选项。我也使用了绑定选项，但它在支持 bean 上返回空值...

这是我的 fileupload.xhtml

```
 <h:form  enctype="multipart/form-data">
            <p:panel  header="Upload Photos" id="getImageId" 
             style="font-size:12px;height:499px">
            <p:messages id="messages" for="imaload"></p:messages>
                 <p:fileUpload id="imaload" fileUploadListener="#  
       {ngoPhotoUpload.photoUpload}"  
                           mode="advanced"  multiple="true"   
     immediate="true"
                          update="messages" 
                           allowTypes="/(\.|\/)(gif|jpe?g|png)$/"/>

                 <!--  <p:growl life="1000" id="messages"/>   -->

            </p:panel>
        </h:form> 
```

这是我的支持 bean 方法

```
public void photoUpload(FileUploadEvent event) throws IOException,
        InterruptedException {

    BufferedImage bufferedImage;
    String tmpFile = scontext.getRealPath(("/ngoPhotos/")
            + event.getFile().getFileName());
    File result = new File(tmpFile);

    byte[] imageByte = event.getFile().getContents();

    storeImage(imageByte, tmpFile);

    String imageName = event.getFile().getFileName();
    String createdby = loginBean.getEmail();

    if (loginBean.getType().equals("admin")
            || loginBean.getType().equals("ngo_coordinator")) {
        if (ngoRegnPojo.getNgo_id() != 0) {
            ngoPhotoBean.setNgo_id(ngoRegnPojo.getNgo_id());
        } else {
            ngoPhotoBean.setNgo_id(loginBean.getUser_id());
        }
    } else {
        ngoPhotoBean.setNgo_id(loginBean.getUser_id());
    }

    ngoPhotoBean.setImageName(imageName);
    ngoPhotoBean.status = "status";
    ngoPhotoBean.setCreatedDate(new Date());
    ngoPhotoBean.setCreatedby(createdby);
    //ngoPhotoBean.setPathName(tmpFile);
    ngoPhotoBean.disable = "false";
    bufferedImage = ImageIO.read(result);
    if (bufferedImage.getWidth() <= 400 && bufferedImage.getHeight() <= 400) {

        ngoPhotoBean.disable = "false";
        getMthd(imageByte, tmpFile);

    } else {

        try {

            ngoPhotoBean.disable = "false";
            bufferedImage = ImageIO.read(result);
            ImageIO.write(resize(bufferedImage, 400, 400), "jpg", new File(
                    tmpFile));
            photoUploadDaoService.uploadNgoPhoto(ngoPhotoBean);
            NgoPhotoBean ngoPhotoBean = new NgoPhotoBean();
            FacesContext.getCurrentInstance().getExternalContext()
                    .getSessionMap().put("ngoPhotoBean", ngoPhotoBean);
            FacesMessage msg = new FacesMessage("Successfully Uploaded");

            FacesContext.getCurrentInstance().addMessage(null, msg);

        } catch (Exception e) {
            e.printStackTrace();
            FacesMessage error = new FacesMessage(
                    FacesMessage.SEVERITY_ERROR,
                    "The files were not uploaded!", "");
            FacesContext.getCurrentInstance().addMessage(null, error);
        }
    }
} 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-07T07:25:20.470

您可以使用**p:remotecommand**，例如使用文件上传的 oncomplete 可以调用 p:remote 命令并调用传递参数的函数。我在我的项目中做了类似的事情，效果很好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:02:48.657

您需要传递什么样的参数？如果它只是某种常量，您可以在表单中放置一个[隐藏字段](http://www.mkyong.com/jsf2/jsf-2-hidden-value-example/)，以便在提交后接收它的值。

# c# - 匹配另一个表中的多行时更新多行

> ID：10909493
> 
> 赞同：1
> 
> 时间：2012-06-06T06:56:21.410
> 
> 标签：c#, .net, ado.net

我有一个存储表，其中有一个名为 Quantity 的列，其中包含更多行，我也有 tempStore 表，我将数据插入到这个 tempStore 表中，它也有一个名为 Quantity 的列，当我将所有数据输入到 tempStore 然后我有一个发送按钮，可以将我的数据发送到 Store 表以仅更新 Quantity 列，例如在 Store table Quantity=20 中为一行，在 tempStore Quantity=10 中为一行，我可以在按下时轻松更新此行发送按钮，Store 表中的 Quantity 列将是 30，但为什么我不能更新所有匹配的行？它只更新一行。这是我的代码：

```
SqlConnection con = null;
con = new SqlConnection(@"Data Source=.\SQLEXPRESS;Initial Catalog=SuperMarketDB;Integrated Security=True; MultipleActiveResultSets=True");
con.Open();

SqlCommand cmd = new SqlCommand("SELECT * FROM [Store]", con);
SqlDataReader dr = null;
dr = cmd.ExecuteReader();

int inID = 0;
Int64 itemNo = 0;
int iQuantity = 0;

while (dr.Read())
{
    inID = int.Parse(dr[0].ToString());
    itemNo = Int64.Parse(dr[1].ToString());
    iQuantity = int.Parse(dr[4].ToString());

    for (int i = 0; i <= tempStoreDataGridView.Rows.Count-1; i++)
    {
        if (tempStoreDataGridView.Rows[i].Cells[1].Value != null)
        {
            Int64 barcode = Int64.Parse(tempStoreDataGridView.Rows[i].Cells[1].Value.ToString());
            if (barcode == itemNo)
            {                   
                iQuantity = iQuantity + int.Parse(quantityTextBox.Text.ToString());
                inItemsTableAdapter1.UpdateQuery(iQuantity, itemNo, inID);
                tempStoreTableAdapter.DeleteQuery();
                tempStoreTableAdapter.Fill(this.tempStoreDataSet.TempStore);
                lblWarning.Visible = true;
            }
        }
    }
} 
```

# ruby - 将块传递给方法 - Ruby

> ID：10909496
> 
> 赞同：2
> 
> 时间：2012-06-06T06:56:34.090
> 
> 标签：ruby, block

我对传球有一个小问题。

```
def a_method(a, b)
  a + yield(a, b)
end 
```

这工作正常。

```
k = a_method(1, 2) do |x, y| 
  (x + y) * 3 
end
puts k 
```

但这行不通。

```
puts a_method(1, 2) do |x, y| 
  (x + y) * 3 
end
# LocalJumpError: no block given (yield) 
```

任何人都可以向我解释一下吗？

谢谢。示例取自 Paolo Perrotta 的 Metaprogramming Ruby。很棒的书。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T07:25:40.597

`do .. end`花括号和花括号的区别在于**花括号绑定到最右边的**表达式，而**`do .. end`绑定到最左边**的表达式。请注意以下示例：

```
def first(x=nil)
  puts "  first(#{x.inspect}): #{block_given? ? "GOT BLOCK" : "no block"}"
  "f"
end

def second(x=nil)
  puts "    second(#{x.inspect}): #{block_given? ? "GOT BLOCK" : "no block"}"
  "s"
end

first second do |x| :ok end #   second(nil): no block
                            # first("s"): GOT BLOCK

first second {|x| :ok }     #   second(nil): GOT BLOCK
                            # first("s"): no block 
```

在第一种情况下，使用的块`do..end`将绑定到第一个函数（最左边）。在第二种情况下，用大括号制作的块将绑定到第二个函数（最右边）。

如果您有两个函数和一个块，通常最好使用括号 - 只是为了可读性和避免错误。

`puts`就像您的问题一样，很容易意外地将块传递给方法。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-06T07:11:15.590

那是因为块被传递给`puts`而不是传递给`a_method`.
这应该这样做：

```
puts (a_method(1, 2) { |x, y| (x + y) * 3 })

# if you want to keep it multilines
puts (a_method(1, 2) { |x, y|
  (x + y) * 3
}) 
```

# android - Android：textwatcher 在输入单个数字后自动将键盘从数字切换到 qwerty？

> ID：10909497
> 
> 赞同：0
> 
> 时间：2012-06-06T06:56:35.543
> 
> 标签：android

我想使用一个文本观察器，它应该同时接受字母数字字符和仅数字字符，最初我的键盘是 qwerty 但是当我想输入所有数值并按下数字时，我的键盘会自动切换回 qwerty。为什么会这样？你能帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:07:22.557

如果您只想输入数字值，请将您的 Editext inputMethod 更改为这样

```
 android:inputType="phone" 
```

你想显示qwerty键盘把它改成

```
android:inputType="text" 
```

如果你面临同样的问题意味着你需要在手机设置中将 InputMethod 更改为**AndroidKeyboard**。

*否则在 * onTextChanged* * 方法中添加代码

```
@Override
    public void onTextChanged(CharSequence s, int start, int before,
            int count) {
        editextobj.setInputType(InputType.TYPE_CLASS_TEXT);
    } 
```

# javascript - 在 JavaScript 中使用 encfs

> ID：10909500
> 
> 赞同：2
> 
> 时间：2012-06-06T06:57:00.103
> 
> 标签：javascript, encryption

我正在尝试使用 JavaScript 从 encfs 文件系统中读取，但没有正确使用它。我使用[CryptoJS](http://code.google.com/p/crypto-js/)库。

具有标准设置和密码 123456 的 .ecnfs6.xml：

```
<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE boost_serialization>
<boost_serialization signature="serialization::archive" version="9">
<cfg class_id="0" tracking_level="0" version="20">
  <version>20100713</version>
  <creator>EncFS 1.7.4</creator>
  <cipherAlg class_id="1" tracking_level="0" version="0">
    <name>ssl/aes</name>
    <major>3</major>
    <minor>0</minor>
  </cipherAlg>
  <nameAlg>
    <name>nameio/block</name>
    <major>3</major>
    <minor>0</minor>
  </nameAlg>
  <keySize>192</keySize>
  <blockSize>1024</blockSize>
  <uniqueIV>1</uniqueIV>
  <chainedNameIV>1</chainedNameIV>
  <externalIVChaining>0</externalIVChaining>
  <blockMACBytes>0</blockMACBytes>
  <blockMACRandBytes>0</blockMACRandBytes>
  <allowHoles>1</allowHoles>
  <encodedKeySize>44</encodedKeySize>
  <encodedKeyData>
A2MxizkB27kOot67DqX/ftXoAiO0P8ORF4BqbKnbMeHuIusJl5y36Qy8o8w=
  </encodedKeyData>
  <saltLen>20</saltLen>
  <saltData>
z59o4aHs2QaKGdoEMEigtqSkXyw=
  </saltData>
  <kdfIterations>97742</kdfIterations>
  <desiredKDFDuration>500</desiredKDFDuration>
</cfg>
</boost_serialization> 
```

我创建了一个名称和内容为“test”的文件，并试图解密它但没有成功：

```
var data = "Q75cZB2ok,JdXDqvWh8HbwHI";  // filename
var key = "123456";
var salt = "z59o4aHs2QaKGdoEMEigtqSkXyw=";

data = CryptoJS.enc.Base64.parse(data);
salt = CryptoJS.enc.Base64.parse(salt);

var cipher = CryptoJS.AES.decrypt(data, key, {keySize: 192/32}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-01T06:37:08.120

EncFS 的工作方式是它创建一个卷密钥（根据您的配置为 192 位）并使用从用户密码派生的另一个密钥加密卷密钥（用于派生密码密钥的算法称为 PBKDF2 - 基于密码密钥导出函数）。

鉴于该配置文件，您要做的是：

*   获取用户的密码，输入 PBKDF2 计算以及 salt 和迭代计数（都存在于配置文件中）以取回密码密钥。
*   使用密码密钥，从配置的 encodedKeyData 字段中解密卷密钥（AES 流解密）

获得卷密钥后，您可以使用它来解密文件名和文件内容。

有关如何完成此操作的示例，您可以查看我用 Java 编写的以下库： [https ://github.com/mrpdaemon/encfs-java](https://github.com/mrpdaemon/encfs-java)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-19T18:55:27.953

*Current JavaScript implementations are far too slow to generate a PBKDF2 with more than `1000 - 2000` (not noticeably delayed) to `10000` (noticeable delay) iterations. An iteration count like in your example `97742` would take hours to finish...*

**Update**: Only when using CryptoJS apparently: [see JSPerf](http://jsperf.com/pbkdf2-sjcl-cryptojs) and [JSFiddle](http://jsfiddle.net/joscha/rz6yu/) for PBKDF2.

# javascript - 如何将 2 个处理程序附加到同一个事件？

> ID：10909503
> 
> 赞同：25
> 
> 时间：2012-06-06T06:57:12.577
> 
> 标签：javascript, backbone.js, backbone-events, backbone-views

我可以将处理程序附加到主干视图，例如：

```
var TodoView = Backbone.View.extend({
    events: {
        "xxx": "eventHandler1"
        "yyy": "eventHandler2"
    }
}); 
```

但是如果我想将多个处理程序附加到同一个事件怎么办？

```
var TodoView = Backbone.View.extend({
    events: {
        "xxx": "eventHandler1"
        "yyy": "eventHandler2"
        "xxx": "eventHandler3" // this isn't valid ... at least in CoffeeScript
    }
}); 
```

我可以创建一个自定义处理程序，例如

```
function compositeXXX() { eventHandler1(); eventHandler2 } 
```

但这似乎并不理想...

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-06-06T15:46:35.540

这个：

```
events: {
    "xxx": "eventHandler1",
    "yyy": "eventHandler2",
    "xxx": "eventHandler3"
} 
```

不起作用，因为`events`它是一个对象文字，并且您最多可以在一个对象中有一个 (key,value) 对。这可能与说：

```
events: {
    "xxx": "eventHandler3",
    "yyy": "eventHandler2"
} 
```

这个咖啡脚本：

```
events:
    "xxx": "eventHandler1"
    "yyy": "eventHandler2"
    "xxx": "eventHandler3" 
```

在功能上与 JavaScript 版本相同，并且出于相同的原因无法工作。

Andy Ray 的使用理念

```
'event selector': 'callback1 callback2'` 
```

也不起作用，因为 Backbone 不明白它应该在空格上拆分值；同样，这：

```
'event selector': [ 'callback1', 'callback2' ] 
```

不起作用，因为 Backbone 不知道在这种情况下如何处理数组。

视图通过绑定它们的事件[`delegateEvents`](https://github.com/documentcloud/backbone/blob/master/backbone.js#L1223)，看起来像这样：

```
delegateEvents: function(events) {
  // Some preamble that doesn't concern us here...
  for (var key in events) {
    var method = events[key];
    if (!_.isFunction(method)) method = this[events[key]];
    if (!method) throw new Error('Method "' + events[key] + '" does not exist');
    // And some binding details that are of no concern either...
  }
} 
```

所以`method`从 的值开始`'event selector'`。如果它是来自以下内容的函数：

```
'event selector': function() { ... } 
```

然后按原样使用，否则将其转换为 的属性`this`：

```
method = this[events[key]]; // i.e. method = this[method] 
```

如果是粗体，则可以调整`delegateEvents`以理解数组或空格分隔的字符串：

```
// Untested code.
var methods = [ ];
if (_.isArray(method))
  methods = method;
else if (_.isFunction(method))
  methods = [ method ];
else
  methods = method.split(/\s+/);
for (var i = 0; i < methods.length; ++i) {
  method = methods[i];
  if (!_.isFunction(method))
    method = this[method];
  // And the rest of the binding stuff as it is now with a possible adjustment
  // to the "method does not exist" exception message...
} 
```

像这样一个相当简单的补丁将允许您使用以空格分隔的处理程序列表：

```
'event selector': 'callback1 callback2' 
```

或一组处理程序：

```
'event selector': [ 'callback1', 'callback2' ] 
```

甚至是方法名称和函数的混合数组：

```
'event selector': [ 'callback_name1', function() { ... }, 'callback_name2' ] 
```

如果您不想修补您的 Backbone 或将此类补丁转发给 Backbone 维护者，那么您可以使用您最初的“手动调度”想法：

```
'event selector': 'dispatcher'
//...
dispatcher: function(ev) {
    this.handler1(ev);
    this.handler2(ev);
} 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-04-28T18:13:52.250

我通过使用[jQuery 的事件命名空间解决了这个问题](http://docs.jquery.com/Namespaced_Events)

```
var TodoView = Backbone.View.extend({
    events: {
        "xxx.handler1": "eventHandler1",
        "yyy": "eventHandler2",
        "xxx.handler3": "eventHandler3"
    }
}); 
```

这不是事件名称空间最初的用途，但只要它们不与其他名称空间发生冲突，就不会造成问题。

主要问题是对象中的每个键只能有一个值，这使得键是唯一的。

# php - 如何在 Joomla 中删除 MyBlog 扩展中的首选项、统计信息和评论菜单？

> ID：10909508
> 
> 赞同：0
> 
> 时间：2012-06-06T06:58:02.203
> 
> 标签：php, joomla, joomla-extensions, joomla2.5

我将 Joomla 2.5.4 用于我的 Web 项目，并且我正在使用 MyBlog 扩展来实现我的 Web 的博客功能。现在，我想删除 MyBlog 中的 3 个菜单按钮（Preferences、Statistics 和 Comments）。我查看了 MyBlog 配置，但那里没有关于如何删除它的配置。

任何人都可以帮助我在哪里可以使用配置删除此菜单？

提前致谢 ...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T17:35:11.373

联系此扩展程序的开发人员可能是一个想法。将其视为商业扩展，您将很幸运能得到答案。如果扩展使用“views”文件夹而不是 admin.extensionname.html.php，那么我会认为您要查找的代码将在特定视图文件夹中的文件中。对不起，它没有多少去。

# html - 如何为 html 页面设置字符集标题？

> ID：10909509
> 
> 赞同：1
> 
> 时间：2012-06-06T06:58:04.093
> 
> 标签：html, character-encoding, content-type, meta-tags

即使我使用下面的元标记来设置内容类型和字符集，我也没有在 firefox firebug 调试器中看到字符集标头。

```
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"> 
```

任何帮助都是有帮助的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T07:53:18.723

该`meta`标记不会影响发送的 HTTP 标头。（很久以前，它就打算做这样的事情，但除了一些被遗忘的实验之外，它从来没有这样做过。）它指定了*如果*HTTP 标头未指定编码则隐含的编码；所以它实际上并不等同于 HTTP 标头（正如名称“http-equiv”所暗示的那样），而是 HTTP 标头的替代、代理、Ersatz。

设置 HTTP 标头的方式取决于服务器软件及其设置。

但是如果标头没有指定编码，那么`meta`标签就会生效。您可以通过 Firefox 中的查看 → 编码菜单检查正在应用哪种编码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:36:27.247

```
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" /> 
```

这是您为 HTML 文件设置字符集标题的方式，没有错。

你为什么要使用萤火虫来检查字符集？只需右键单击鼠标键并从上下文菜单中选择`view page info`，它将为您提供页面字符集。

# visual-studio-2008 - 我是否需要在用户定义类型中重新定义成员选择器运算符？

> ID：10909510
> 
> 赞同：0
> 
> 时间：2012-06-06T06:58:07.723
> 
> 标签：visual-studio-2008, c++-cli, operator-overloading

我可能在这里做一些愚蠢的事情，我想要一个指针（请原谅双关语）。

我定义了以下类：

```
ref class CoordinatePair {
public:
    int x;
    int y;
    CoordinatePair();
    CoordinatePair(int xInput, int yInput);
    CoordinatePair(CoordinatePair ^Other);
    //CoordinatePair& operator->();
}; 
```

相当简单。我发现我可以`->`在类的命名空间中使用运算符选择成员，而不会产生不良影响。例如，以下编译：

```
CoordinatePair::CoordinatePair(CoordinatePair ^Other) {
    x = Other->x;
    y = Other->y;
} 
```

时髦的。然而，当我尝试编译它时，我遇到了问题。

```
CoordinatePair^ Coordinates::TranslateCoords(CoordinatePair^ WorldCoords) {
    CoordinatePair^ newCoords = gcnew CoordinatePair();
    float coordsRatio = 0.0;
    //Translate X
    coordsRatio = (float) WorldCoords->x / WorldBounds->x;
    newCoords->x = (int) (coordsRatio * PixelBounds->x);
    //Translate Y
    coordsRatio = 0.0;
    coordsRatio = (float) WorldCoords->y / WorldBounds->y;
    newCoords->y = (int) (coordsRatio * PixelBounds->y);
    return newCoords;
} 
```

（注意，在上面的代码中，`WorldBounds`是`Coordinates`类的成员。它本身就是`CoordinatePair`为我的项目定义平面的。）

具体来说，我收到此错误：

```
.\Coordinates.cpp(95) : error C2819: type 'CoordinatePair' does not have an overloaded member 'operator ->' 
```

嗯。哦，那好吧。我试图研究这个问题促使我尝试超载操作员。因此，我在类声明中添加了以下内容：

```
CoordinatePair^ operator->(); 
```

我这样定义它：

```
CoordinatePair^ CoordinatePair::operator->() {
    return this;
} 
```

这让编译器**更加愤怒！**:-(

```
.\Coordinates.cpp(17) : error C2818: application of overloaded 'operator ->' is recursive through type 'CoordinatePair'
        y:\documents\wende-project\c3\wende_c3_executioncode\wende_c3_executioncode\c3_display\c3_app\Coordinates.h(7) : see declaration of 'CoordinatePair'
.\Coordinates.cpp(17) : warning C4280: 'operator ->' was self recursive through type 'CoordinatePair'
        y:\documents\wende-project\c3\wende_c3_executioncode\wende_c3_executioncode\c3_display\c3_app\Coordinates.h(7) : see declaration of 'CoordinatePair'
.\Coordinates.cpp(18) : error C2818: application of overloaded 'operator ->' is recursive through type 'CoordinatePair'
        y:\documents\wende-project\c3\wende_c3_executioncode\wende_c3_executioncode\c3_display\c3_app\Coordinates.h(7) : see declaration of 'CoordinatePair'
.\Coordinates.cpp(18) : warning C4280: 'operator ->' was self recursive through type 'CoordinatePair'
        y:\documents\wende-project\c3\wende_c3_executioncode\wende_c3_executioncode\c3_display\c3_app\Coordinates.h(7) : see declaration of 'CoordinatePair'
.\Coordinates.cpp(62) : error C2818: application of overloaded 'operator ->' is recursive through type 'CoordinatePair'
        y:\documents\wende-project\c3\wende_c3_executioncode\wende_c3_executioncode\c3_display\c3_app\Coordinates.h(7) : see declaration of 'CoordinatePair'
.\Coordinates.cpp(62) : warning C4280: 'operator ->' was self recursive through type 'CoordinatePair'
        y:\documents\wende-project\c3\wende_c3_executioncode\wende_c3_executioncode\c3_display\c3_app\Coordinates.h(7) : see declaration of 'CoordinatePair'
.\Coordinates.cpp(62) : error C2818: application of overloaded 'operator ->' is recursive through type 'CoordinatePair'
        y:\documents\wende-project\c3\wende_c3_executioncode\wende_c3_executioncode\c3_display\c3_app\Coordinates.h(7) : see declaration of 'CoordinatePair'
.\Coordinates.cpp(62) : warning C4280: 'operator ->' was self recursive through type 'CoordinatePair'
        y:\documents\wende-project\c3\wende_c3_executioncode\wende_c3_executioncode\c3_display\c3_app\Coordinates.h(7) : see declaration of 'CoordinatePair'
.\Coordinates.cpp(62) : error C2818: application of overloaded 'operator ->' is recursive through type 'CoordinatePair'
        y:\documents\wende-project\c3\wende_c3_executioncode\wende_c3_executioncode\c3_display\c3_app\Coordinates.h(7) : see declaration of 'CoordinatePair'
.\Coordinates.cpp(62) : warning C4280: 'operator ->' was self recursive through type 'CoordinatePair'
        y:\documents\wende-project\c3\wende_c3_executioncode\wende_c3_executioncode\c3_display\c3_app\Coordinates.h(7) : see declaration of 'CoordinatePair'
.\Coordinates.cpp(62) : error C2818: application of overloaded 'operator ->' is recursive through type 'CoordinatePair'
        y:\documents\wende-project\c3\wende_c3_executioncode\wende_c3_executioncode\c3_display\c3_app\Coordinates.h(7) : see declaration of 'CoordinatePair'
.\Coordinates.cpp(62) : warning C4280: 'operator ->' was self recursive through type 'CoordinatePair'
        y:\documents\wende-project\c3\wende_c3_executioncode\wende_c3_executioncode\c3_display\c3_app\Coordinates.h(7) : see declaration of 'CoordinatePair'
.\Coordinates.cpp(95) : error C2818: application of overloaded 'operator ->' is recursive through type 'CoordinatePair'
        y:\documents\wende-project\c3\wende_c3_executioncode\wende_c3_executioncode\c3_display\c3_app\Coordinates.h(7) : see declaration of 'CoordinatePair'
.\Coordinates.cpp(95) : warning C4280: 'operator ->' was self recursive through type 'CoordinatePair'
        y:\documents\wende-project\c3\wende_c3_executioncode\wende_c3_executioncode\c3_display\c3_app\Coordinates.h(7) : see declaration of 'CoordinatePair'
.\Coordinates.cpp(95) : error C2818: application of overloaded 'operator ->' is recursive through type 'CoordinatePair'
        y:\documents\wende-project\c3\wende_c3_executioncode\wende_c3_executioncode\c3_display\c3_app\Coordinates.h(7) : see declaration of 'CoordinatePair'
.\Coordinates.cpp(95) : warning C4280: 'operator ->' was self recursive through type 'CoordinatePair'
        y:\documents\wende-project\c3\wende_c3_executioncode\wende_c3_executioncode\c3_display\c3_app\Coordinates.h(7) : see declaration of 'CoordinatePair' 
```

[查找错误](http://msdn.microsoft.com/en-us/library/kty7akd3%28v=vs.80%29.aspx)给了我以下定义：

> *重载 'operator ->' 的应用是通过类型 'type' 递归的*
> 
> 类成员访问运算符的重新定义包含递归返回语句。要使用递归重新定义 -> 运算符，您必须将递归例程移动到从运算符覆盖函数调用的单独函数中。

我显然不知道我在这里做什么，需要朝着正确的方向前进。帮助？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T17:51:26.963

正如帕特里克在评论中所说，当它应该`WorldBounds`是. 正如您所提到的，该修复会导致其他编译器错误，您需要遍历您当前所做的所有地方并将其替换为.`CoordinatePair``CoordinatePair^``WorldBounds.x``WorldBounds->x`

对于 a `ref class`，您几乎总是想使用`^`. 在某些情况下，您会想要将其关闭，但这种情况很少见。

# ios - 如何将我的 ios 应用程序语言设置为阿拉伯语？

> ID：10909515
> 
> 赞同：0
> 
> 时间：2012-06-06T06:58:20.947
> 
> 标签：ios, ios5, ios4

下面是我用来设置我的应用程序语言的代码，有些我无法找到 AppleLanguages 的正确值。有人可以指导我，我在哪里可以获得 AppleLanguages 的值列表？

NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults]; [默认 setObject:[NSArray arrayWithObject:@"arabic"] forKey:@"AppleLanguages"];

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:54:19.317

遵循本教程：[http ://www.raywenderlich.com/2876/how-to-localize-an-iphone-app-tutorial](http://www.raywenderlich.com/2876/how-to-localize-an-iphone-app-tutorial)

这是代码（如上一教程所示）[http://www.loc.gov/standards/iso639-2/php/English_list.php](http://www.loc.gov/standards/iso639-2/php/English_list.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-17T12:26:12.523

在您的应用程序中尽早执行此操作，例如在您的 main() 函数中。

```
 [[NSUserDefaults standardUserDefaults] setObject:[NSArray arrayWithObject:@"ar"] forKey:@"AppleLanguages"]; 
```

# c++ - udp (boost::asio) 在 async_receive_from 之后读取错误

> ID：10909517
> 
> 赞同：1
> 
> 时间：2012-06-06T06:58:37.997
> 
> 标签：c++, udp, boost-asio

处理程序有时会在远程 UDP 套接字关闭后给出错误，错误是 --> “无法建立连接，因为目标机器主动拒绝了它”。

我的问题是：不是 UDP connection-less 吗？它关心远程端的任何东西吗？

顺便说一句，我在 Windows 7 上得到了这个。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T16:20:01.063

UDP is a connectionless protocol.

The confusing error message is the result of `asio` having to provide portable errors. Some context is loss when having to go from platform specific errors to portable errors. In this case, `asio` receives [`ERROR_PORT_UNREACHABLE`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms681383%28v=vs.85%29.aspx#error_port_unreachable) and maps it to `boost::asio::error::connection_refused`.

# iphone - 核心情节 1.0 与 iPhone 5 和 Xcode 4.2 - 'CorePlot0' 不包含有效的 pid 编译错误

> ID：10909518
> 
> 赞同：0
> 
> 时间：2012-06-06T06:58:42.203
> 
> 标签：iphone, xcode4.2, core-plot

我已按照应用程序url中[核心图的](http://code.google.com/p/core-plot/wiki/UsingCorePlotInApplications)安装步骤进行操作。如主题中所定义，核心绘图版本为 1.0，已在 Xcode 4.2 中使用 iPhone 5.0 Simulator 进行了尝试。

我做了什么 ：

1) 我只是将CorePlot 示例之一（即：CPTTestApp-iphone）从CorePlot_1.0/Source/Example 文件夹复制到我的Xcode 项目工作区。

2) 在我的示例应用程序中从 CorePlot_1.0/Source/ 拖放框架文件夹。

3) 使用字符串更改标题搜索路径和用户标题搜索路径

> "${PROJECT_DIR}/框架"/**

[4) 并从应用程序 url 中的核心图](http://code.google.com/p/core-plot/wiki/UsingCorePlotInApplications)开始执行其他步骤，例如设置其他链接器标志，在目标依赖项和链接二进制文件部分中添加核心图和核心图 cocoaTouch。

5）“构建选项”中的 C 编译器是“默认编译器（Apple LLVM 编译器 3.0）”，

“CorePlot-CocoaTouch.h”文件也被正确导入。

但在编译时，应用程序因错误“'CorePlot0' 不包含有效的 pid”而崩溃，该 pid 来自“checkformisalignedlayers.d”文件。

**注意：**当从 CorePlot_1.0/Source/examples 文件夹执行时，相同的示例运行良好。

是否缺少任何步骤或安装步骤有什么问题？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:25:24.113

问题已解决。CorePlot 安装现在工作正常。

根据现有的 example.header 路径详细信息是使用框架路径设置的。我在应用程序中添加了框架目录。

但无需在应用程序中添加框架目录，只需添加**CorePlotHeaders**目录。

希望，回答可以帮助别人。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-08T02:26:37.397

我也遇到了类似的错误，但是只将 CorePlotHeaders 文件夹添加到我的 xcode 项目中解决了这个问题。早些时候我有我在项目中下载的整个框架，它给了我这个错误。现在它起作用了！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-14T10:46:39.693

“CorePlot0”不包含有效的 pid

当我们验证项目并从 GCC 更改为 LLVM 时引起

从项目中删除了 checkformisalignedlayers.d 参考。

建好了。不确定它如何影响图表。

# wpf - 将在后台线程中创建的 wpf 按钮添加到 Mainwindow

> ID：10909519
> 
> 赞同：1
> 
> 时间：2012-06-06T06:58:46.477
> 
> 标签：wpf, multithreading

这是我的场景：我有一个带有按钮的简单 wpf 窗口。当用户单击按钮时，我想创建另一个窗口（我们称之为子窗口），然后在后台线程上创建一个 wpf 按钮，将其添加到子窗口并显示子窗口。这是此的代码：

```
 Button backgroundButton = null;
        var manualResetEvents = new ManualResetEvent[1];
        var childWindow = new ChildWindow();
        manualResetEvents[0] = new ManualResetEvent(false);
        var t = new Thread(x =>
        {
            backgroundButton = new Button { Content = "Child Button" };
            childWindow.Dispatcher.BeginInvoke(DispatcherPriority.Normal, (Action)(()                   => childWindow.MainPanel.Children.Add(backgroundButton)));
            manualResetEvents[0].Set();
        });
        t.SetApartmentState(ApartmentState.STA);
        t.Start();

        WaitHandle.WaitAll(manualResetEvents);
        childWindow.ShowDialog(); 
```

当我调用 ShowDialog() 时，我收到此错误“**调用线程无法访问此对象，因为不同的线程拥有它。** ”。我知道这个错误是因为添加到子窗口的按钮是在后台线程上创建的，因此我们得到了这个错误。问题是：我如何克服这个错误并且仍然在后台线程上创建我的按钮

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:13:35.393

当您想从另一个线程访问父窗口时，您必须`Dispatcher`每次都使用。我在您的线程中看到了，您使用`backgroundButton`. 因此，您必须在`Dispathcer.BeginIvoke`语句 [EDIT] Change Thread action to this 中对您的按钮执行任何操作

```
var t = new Thread(x =>
    {
        backgroundButton.Dispatcher.BeginInvoke(DispatcherPriority.Normal, (Action)(()                   => backgroundButton = new Button { Content = "Child Button" }));
        childWindow.Dispatcher.BeginInvoke(DispatcherPriority.Normal, (Action)(()                   => childWindow.MainPanel.Children.Add(backgroundButton)));
        manualResetEvents[0].Set();
    }); 
```

我是根据你的代码写的。我不检查你的代码，但希望它是对的。

# html - 在椭圆形区域中包含文本

> ID：10909520
> 
> 赞同：10
> 
> 时间：2012-06-06T06:58:48.477
> 
> 标签：html, css

我有一个 html 页面，如下所示：

![在此处输入图像描述](../Images/666aef961584110fe47e8c5fcdcdfe76.png)

我想在左窗格上显示一些文本，但问题是**文本应该只在椭圆形区域内**。我如何实现这一目标？请注意，椭圆形图像是背景图像，但是如果需要，`<img>`如果有帮助，我也可以为它使用标签。一种蹩脚的方法是使用`<p>`带有填充的标签，但这不是一种有效的方法，所以请提出一些好的方法。

**编辑：** `HTML:`

```
<div id="leftStage" class="rounded-corners">
  <div id="questionDisp" align="center">

  </div>
</div> 
```

`CSS:`

```
#leftStage {
position: relative;
width: 34%;
height:86%;
float: left;
}
#questionDisp {
display:none;
} 
```

`JS:`（当调用适当的函数时：）

```
$("#questionDisp").fadeIn(1000);
$("#questionDisp").html(quesArr.q1);  //data read from xml 
```

**编辑：我需要的是一个 div 或椭圆背景上方的东西，并且文本应该适合它。我从 xml 文件中获取文本，所以并不是我要显示固定的文本大小**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-12T05:26:37.250

实际上，在 csstextwrap 上有一个[纯 CSS/XHTML 代码生成器](http://www.csstextwrap.com/#export)，可以完全满足您的需求。

编辑：

这里的概念是`<div>`在文本的任一侧浮动 '，以便您的内容被迫在它们之间“流动”。通过设置浮动的宽度`<div>`，您可以创建各种级联“模板”。

请参阅此处说明的概念：[小提琴](http://jsfiddle.net/cjuSB/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-12T13:11:00.270

也许你可以试试 jQuery 插件`Text Fill`

另见：[https ://stackoverflow.com/a/688362/753676](https://stackoverflow.com/a/688362/753676)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T07:39:27.823

如果它是背景图像，则使用具有适当边距（顶部和左侧）的位置：绝对，并将宽度设置为小于椭圆背景图像的宽度。然后显示属性“块”。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-14T19:36:00.987

我删除了我的答案，因为只有左浮动有效。

如果你粘贴这段代码：它会告诉你它是如何工作的。我做了一个边界半径而不是创建一个圆形 png。

```
<div style="width:250px;height:230px; border-radius:125px;background:#efefef;padding-top:20px; text-align:center">
The code for my<br /> fix isn't pretty but it should<br />work It's not automatic, but it<br /> does the job that you need it<br /> to do.
</div> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-06T07:34:45.873

您还没有共享任何 HTML，工作代码是有一些假设的

HTML是，

```
<div id="main">
<div class="text">This is text</div>
</div>​ 
```

其中 div with class`text`是文本容器。

同样的CSS将是，

```
#main{
    background-image:url('http://i.stack.imgur.com/bw2HK.png');
    height:563px;
    width:691px;
}
#main .text{
    color:#FF0000;
    width:240px;
    text-align:center;
    top:100px;
    border:1px solid;
    float:left;
    position:absolute;
} 
```

这`.text`是代表文本样式的类。主要部分是`position:absolute;`。这会将文本 div 位置设置为绝对位置。现在您可以使用顶部和左侧样式将 div 移动到图像 div 上方。

[请在此处](http://jsfiddle.net/umesha/m3GaF/)查看工作示例

**PS**边框、颜色等样式可以根据需要进行更改。

# ios - 无法在本地存储中设置和获取值

> ID：10909524
> 
> 赞同：2
> 
> 时间：2012-06-06T06:59:00.737
> 
> 标签：ios, cordova, local-storage

我正在使用 Phonegap 在 iPhone 中开发一个 Web 应用程序。在这个应用程序中，我想在同一个 index.html 文件中将数据从一个页面发送到另一个页面。我正在使用本地存储来发送数据，但我无法发送值。每当遇到本地存储语句时，它也会跳过该 javascript 函数中的剩余语句。请告诉我解决方案。我是否需要添加任何插件才能使用本地存储？

```
{
    var name = document.getElementById("usernameTextField").value;   //TextField of page1
    var fullname = document.getElementById("nameLabel").innerHTML;  //label of page1
    localstorage.setItem("userName", name);
    localstorage.setItem("fullname1", fullname); 
    var getusername = localstorage.getItem("userName");
    var getname = localstorage.getItem("fullname1");
    fullnameLabel.innerHTML = getname.value;  //label of page2
    userNameLabel.innerHTML = getusername.value;  //label of page2
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:21:10.820

试试这个

```
{
    var name = document.getElementById("usernameTextField").value;   //TextField
    var fullname = document.getElementById("nameLabel").innerHTML;  //label
    localStorage.setItem("userName", name);
    localStorage.setItem("fullname1", fullname); 
    var getusername = localStorage.getItem("userName");
    var getname = localStorage.getItem("fullname1");
    alert(getname + " " + getusername);  //label

} 
```

[请在此处](http://jsfiddle.net/dhavaln/tQdAa/)查看完整代码

# jquery - 动态添加的 Jquery 删除按钮不起作用

> ID：10909533
> 
> 赞同：1
> 
> 时间：2012-06-06T06:59:48.480
> 
> 标签：jquery, button, document-ready

这无疑很简单，但是我对 jquery 的了解不足，这对我来说很复杂。基本上我有这个代码：

```
$(document).ready( 
    function() {
    $( "#remove")
    .click(function() {
        alert("I have been clicked!");
        $(this).parent().parent().remove();
    }); 
}); 
```

我在表格中添加了一个按钮来删除它的行（见上面的代码）。按钮如下：

```
<td ><button id='remove' type='button'>Remove</button></td> 
```

但是，单击时它什么也不做。我认为这可能与加载文档后创建按钮的事实有关......不过，不知道该怎么做。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T07:00:27.297

```
$( "td").on('click', '#remove', function() {
        alert("I have been clicked!");
        $(this).parent().parent().remove();
    }); 
```

当您尝试动态添加按钮时，您需要委托事件处理程序（又名实时事件）。

***jQuery > 1.7***中的委托事件声明为

```
$(container).on(eventName, target, handlerFunction); 
```

有关更多详细信息，请参阅[`.on()`](http://api.jquery.com/on)

您还有另一个选项[`.delegate()`](http://api.jquery.com/delegate)，它的声明过程是：

```
$(container).delegate(target, eventName, handlerFunction); 
```

因此，对于您的情况，它将如下所示：

```
$('td').delegate('#remove', 'click', function() {
      alert("I have been clicked!");
      $(this).parent().parent().remove();
}); 
```

### 笔记

这里指的是页面加载时属于 DOM`container`的按钮的持有者。`#remove`从您的帖子看来`td`，您可能还有其他东西（任何有效的[jQuery 选择器](http://api.jquery.com/category/selectors)）

### 如果您无法检测到您`container`，请`#remove`使用`$(document)`or`$('body')`代替`$('td')`.

# opencv - 无法在 64 位 Windows 7 上运行 Opencv GPU

> ID：10909534
> 
> 赞同：0
> 
> 时间：2012-06-06T06:59:52.333
> 
> 标签：opencv, cuda, gpu, gpgpu, windows-7-x64

我正在 Visual Studio 2008 中创建一个 opencv gpu 应用程序。该应用程序是 win32 应用程序，操作系统是 Windows 7 64 位。该应用程序正在成功构建，但是当我尝试运行该程序时，程序崩溃了。显示的错误消息是“应用程序无法启动”。

请给我建议。我使用了依赖walker，似乎应用程序正在尝试调用windows的64位dll。

如何克服这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T19:18:07.753

如果您运行 64 位版本的 depends.exe，Dependency Walker 会显示 32 位应用程序的混乱信息。我认为它并不真正了解 WoW（Windows 上的 Windows）系统。另外，我认为任何链接到 64 位库的尝试都会在编译时被捕获。很可能，您的应用程序没有找到所有必需的 DLL。事件查看器应该有更多关于错误是什么的信息。转到 Windows 日志 | 应用。如果很难找到您的应用的条目，请使用日志过滤。

# asp.net - 用于数据插入的 windows 服务

> ID：10909535
> 
> 赞同：0
> 
> 时间：2012-06-06T07:00:00.033
> 
> 标签：asp.net

我已经为数据插入创建了 Windows 服务。时间间隔为一分钟。一分钟后，数据插入表中。数据多次插入表中。我不想那样，只有一次。怎么做？我可能需要在数据库中检查条目是否存在或不添加。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:06:34.593

您可以在插入数据之前使用此查询。

```
IF EXISTS(SELECT * FROM dbo.YourTable WHERE Name = @Name)
 RETURN 
```

-- 在这里，检查后，执行 INSERT 您可能还想在 Name 列上创建一个 UNIQUE INDEX 以确保不存在具有相同值的两行：

```
CREATE UNIQUE NONCLUSTERED INDEX UIX_Name
ON dbo.YourTable(Name) 
```

希望这对您有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:22:43.970

//你可以在你的代码中这样做

```
if (ChkRecordExist() == true)
        {
            //Do nothing
        }
        else               
        {
             // insert operation     
        }

protected bool ChkRecordExist()
    {    
       //here logic for record exist or not.
      //if record is exist return true else return false
    } 
```

# android - 在两部安卓手机之间建立 P2P 连接？

> ID：10909537
> 
> 赞同：0
> 
> 时间：2012-06-06T07:00:03.597
> 
> 标签：android, real-time, p2p

我正在尝试开发一个android应用程序，通过我可以实时共享一些文件或其他应用程序（可以认为是远程桌面共享的微型版本）。所以我正在尝试在两部手机之间建立 P2P 连接，但对于那部手机来说，它们需要彼此的 IP 地址。有什么方法可以通过电话号码获取其他设备的IP地址。如果没有，那么我将如何知道设备的 IP 地址？

您能否发布一些其他关于设置实时 P2P 连接的建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:14:58.937

这些电话没有公共 IP 地址，并且（通常）不在同一个子网中，因此您不能直接将 IP 数据包从一个发送到另一个。您需要一个服务器来中继数据包。我这样做的一种方法是使用[asmack](http://code.google.com/p/asmack/)库和像[OpenFile](http://www.igniterealtime.org/projects/openfire/)这样的 XMPP 服务器。

# webview - loadurl后如何获取webview内容android

> ID：10909538
> 
> 赞同：0
> 
> 时间：2012-06-06T07:00:08.800
> 
> 标签：webview, android-webview

这是我的代码。

我只想在加载 URL 后从 Webview 获取页面内容。

在 Android 上，我有一个显示页面的 WebView。

如何在不再次请求页面的情况下获取页面源？

看来 WebView 在 Android 3.0 中应该有某种 WebResourceResponse() 方法，但不知道如何使用它。

```
 public class WebActivity extends Activity {
WebView mWebView;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    mWebView = (WebView) findViewById(R.id.webView);
    mWebView.getSettings().setJavaScriptEnabled(true);
    mWebView.loadUrl("https://xyz.com");
    mWebView.setWebViewClient(new HelloWebViewClient());

 }

       private class HelloWebViewClient extends WebViewClient  {

      public WebResourceResponse shouldInterceptRequest (WebView view, String url)
      {
        return null;

      }

      @Override
        public void onPageFinished(WebView view, String url)
        {
           /* This call inject JavaScript into the page which just finished loading. */
           mWebView.loadUrl("javascript:window.HTMLOUT.processHTML('<head>'+document.getElementsByTagName('html')[0].innerHTML+'</head>');");

        }
    @Override
    public boolean shouldOverrideUrlLoading(WebView view, String url) {
        view.loadUrl(url);
        return true;
    }
}
    public boolean shouldOverrideUrlLoading(WebView view, String url) {
    view.loadUrl(url);
    return true;
}

@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if ((keyCode == KeyEvent.KEYCODE_BACK) && mWebView.canGoBack()) {
        mWebView.goBack();
        return true;
    }
    return super.onKeyDown(keyCode, event);
}} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-17T20:40:56.900

我知道这已经过时了，但对于未来的访客来说，以下应该可以工作。

首先，您需要定义一个接口，例如：

```
final class LoadingInterface {
    @JavascriptInterface 
    public void outputHTML(final String html){
        //do what ever you want with html
    }
} 
```

然后在您的 WebView 通话中
`webView.addJavascriptInterface(new LoadingInterface(), "INTERFACE");`

投入`onPageFinished`：

```
String js = "javascript:"
        +"var html = document.getElementsByTagName('html')[0].innerHTML;"
        +"window.INTERFACE.outputSchedule(html);";
        webView.loadUrl(js); 
```

如果您只需要页面的一部分，则可以替换`getElementsByTagName('html')[0]`为`getElementById('partOfPage')`

# java - JNI 赋值给数组

> ID：10909539
> 
> 赞同：0
> 
> 时间：2012-06-06T07:00:10.383
> 
> 标签：java, java-native-interface

我有这个 jvalue 类型的数组，我想分配字符串值。

我正在统一尝试使用 JNI 库将参数传递给我的 Java 函数

```
 jvalue[] myArray = new jvalue[2];
        myArray[0]="abcd";
        myArray[1]="khan";
        gui.text=   AndroidJNI.CallStaticStringMethod(obj_Activity, startAdsMethod, myArray); 
```

如何实现上面的代码？

我在为数组赋值时遇到错误，因为数组不是字符串类型，我的函数采用字符串参数，而 jni 希望它们以数组的形式出现。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-01T03:28:16.070

以下代码创建一个数组并分配一些字符串以在任何以下 JNI 调用中使用：

```
var arguments = new object[2];
foreach( var entry in variables ) {
    using( var key = new AndroidJavaObject( "java.lang.String", entry.Key ) ){
        using( var val = new AndroidJavaObject( "java.lang.String", entry.Value ) ){
            arguments[0] = key;
            arguments[1] = val;
                    [... do something with the array ...]
        }
    }
} 
```

# linux - 我可以将 QtMobility 移植到 IMX 平台吗？

> ID：10909540
> 
> 赞同：2
> 
> 时间：2012-06-06T07:00:14.637
> 
> 标签：linux, qt, nokia

在 FreescaleIMX6 平台上使用 QtMobility 的任何已知问题/依赖性。我打算在 IMX6 板上运行 Linux。

# regex - Asp 正则表达式结果列表

> ID：10909541
> 
> 赞同：-1
> 
> 时间：2012-06-06T07:00:15.507
> 
> 标签：regex, listview, asp-classic

```
 strDeger1 = """ >"
strDeger2 = "</a>"
strBaslikBul = VeriBul(strDeger1, strDeger2)
Response.Write strBaslikBul
Response.Write "<hr>" 

Set RegEx = New RegExp
 RegEx.IgnoreCase = True
 RegEx.Global = True
 RegEx.Pattern = "(" & BaslangicDegeri & ")(.+?)(" & BitisDegeri & ")"
Set Sonuc = RegEx.Execute(Trim(tr(Mid(HTTPObj2.GetURL,29600,254000))))
For Each i In Sonuc
 VeriBul =  i.SubMatches(1)
Next

If IsEmpty(VeriBul) Then VeriBul = "Sonuc Yok"
Set RegEx = Nothing
Set Sonuc = Nothing
Set objXmlHttp = Nothing
End Function 
```

我喜欢这段代码，我正在尝试列出所有记录。但只是其中一个记录查看。

我该如何解决这个问题？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T09:17:13.517

还需要为每场比赛连接。修改 `VeriBul = i.SubMatches(1)`行`VeriBul = VeriBul & i.SubMatches(1)`

# css - 如何制作垂直的CSS步骤菜单

> ID：10909542
> 
> 赞同：0
> 
> 时间：2012-06-06T07:00:15.620
> 
> 标签：css, menu

有没有关于如何制作垂直css步骤菜单的教程，比如这个[水平步骤](http://codylindley.com/blogstuff/css/stepmenu/)但垂直方向

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:03:29.273

这是该页面的 CSS。如果你删除`float:left`你做的工作！

```
#mainNav li {
background-color: #EBEBEB;
background-image: url("images/navBtn.gif");
background-position: right top;
background-repeat: no-repeat;
float: left; <!-- REMOVE ME! -->
height: 71px;
list-style: none outside none;
} 
```

# iphone - 创建包含许多标签和文本的 pdf 查看 pdf 中视图的完整内容

> ID：10909547
> 
> 赞同：-1
> 
> 时间：2012-06-06T07:00:51.383
> 
> 标签：iphone, objective-c, ios, core-graphics, pdf-generation

我的问题是我必须创建我的屏幕文本的 pdf。我的视图包含一个可滚动的文本视图。我的视图上有许多控件，如日期标签、位置标签等。还有文本视图。我能够创建我的文本视图的 pdf 填充文本，但我不知道如何在我的 pdf 页面中添加日期标签、位置标签和其他带有文本视图的内容。我的 pdf 创建代码是：

CGRect savedFrame = txtView.frame;

```
UIGraphicsBeginImageContext(txtView.contentSize);
{
    CGPoint savedContentOffset = txtView.contentOffset;

    txtView.contentOffset = CGPointZero;
    txtView.frame = CGRectMake(0, 0, txtJEntry.contentSize.width, txtView.contentSize.height);

    CGRect f = txtView.frame;
    CGContextRef ctx = CGPDFContextCreateWithURL((__bridge CFURLRef)[NSURL fileURLWithPath:newFilePath isDirectory:NO], &f, NULL);

    CGPDFContextBeginPage(ctx, NULL);
    CGContextScaleCTM(ctx, 1, -1);
    CGContextTranslateCTM(ctx, 0, -txtView.frame.size.height);
    [txtJEntry.layer renderInContext:ctx];
    CGPDFContextEndPage(ctx);
    CFRelease(ctx);

    txtJEntry.contentOffset = savedContentOffset;
    txtJEntry.frame = savedFrame;
}
UIGraphicsEndImageContext(); 
```

如图所示，这是我的视图的屏幕截图。我需要在我的 pdf 中添加天气、位置星星和日期，如图所示，这意味着这些标签的位置在 pdf 中也应该相同。我无法截取整个屏幕的屏幕截图，因为文本视图文本是可滚动的并且有更多数据。

请帮助我如何在我的 pdf 中显示这些内容。

任何建议将不胜感激。提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:42:32.377

据我了解，您希望获取 UIView 的全部内容并将其转换为 PDF。我有一个类别，`UIView`可以将视图上的所有内容呈现为 PDF 文件。我在我的一个应用程序中成功使用了它。

```
//UIView+RenderPDF.h
@interface UIView (RenderPDF)
- (void)renderInPDFFile:(NSString*)path;
@end

//UIView+RenderPDF.m
#import "UIView+RenderPDF.h"
#import <QuartzCore/QuartzCore.h>

@implementation UIView (RenderPDF)

- (void)renderInPDFFile:(NSString*)path {

CGRect mediaBox = self.bounds;
CGContextRef ctx = CGPDFContextCreateWithURL((CFURLRef)[NSURL fileURLWithPath:path isDirectory:NO], &mediaBox, NULL);
CGPDFContextBeginPage(ctx, NULL);
CGContextScaleCTM(ctx, 1, -1);
CGContextTranslateCTM(ctx, 0, -mediaBox.size.height);
[self.layer renderInContext:ctx];
CGPDFContextEndPage(ctx);
CFRelease(ctx);
}
@end 
```

* * *

现在，为了使用它，一旦你`#import UIView+RenderPDF.h`要做的就是

```
NSArray* documentDirectories = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask,YES);
NSString* documentDirectory = [documentDirectories objectAtIndex:0];
NSString* documentDirectoryFilename = [documentDirectory stringByAppendingPathComponent:[NSString stringWithFormat:@"export.pdf"]];

[someView renderInPDFFile:documentDirectoryFilename]; 
```

导致`export.pdf`被保存到您的`Documents`目录中。**将视图中的所有**元素截屏到`PDF`文件中。

希望这可以帮助！

# full-text-search - Sphinx - 如何仅索引有限数量的单词？

> ID：10909553
> 
> 赞同：0
> 
> 时间：2012-06-06T07:01:12.420
> 
> 标签：full-text-search, search-engine, sphinx

我的行业数量有限（大约 300 个行业），我想创建一个索引，该索引将给出这些关键字在索引文档中的频率。有没有办法在狮身人面像中做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T14:55:27.700

There is a trick in Sphinx to get keyword statistics from the index. BuildKeywords API call ( [http://sphinxsearch.com/docs/current.html#api-func-buildkeywords](http://sphinxsearch.com/docs/current.html#api-func-buildkeywords) ) with *hits* flag set will return per keyword frequencies from given index.

Hope this helps

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T10:42:51.363

并不真地。

但是 indexer 的 --buildstops 函数会生成索引中最常见关键字的列表。

所以可以看看它的输出，并与你的行业列表进行比较。从理论上讲，我认为您的行业应该靠近列表的顶部，因此不必太长。

# java - 页面加载后如何预填充jsf输入组件？

> ID：10909554
> 
> 赞同：1
> 
> 时间：2012-06-06T07:01:23.110
> 
> 标签：java, jsf, richfaces, seam

我正在尝试`JSF`在页面加载后使用特定的默认值预先填充输入组件。我怎样才能做到这一点？

我正在设置所有输入字段的提交值，但它不起作用，也许视图尚未初始化。我读到了阶段监听器，但我不知道我可以在哪里做这些。

顺便说一句，我使用 Seam Entity Home 来绑定每个输入组件的值。

例子：

```
 <h:inputText value="#{entityHome.instance.name}" /> 
```

像这样的东西。

有没有人知道如何在 JSF 1.2 中做到这一点？谢谢。:))

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T07:36:57.253

尝试

```
<f:metadata> 
 <f:event listener="#{backBean.method()}" type="preRenderView"/>
<f:metadata> 
```

在你的方法（）中应该有检索数据的逻辑并将其设置在 entityHome.instance 中。

根据您的要求，类型可以是 preRenderView 或 preRenderComponent，甚至`<f:metadata>`在某些情况下也不需要包装器，它也取决于您要如何调用方法的要求。

# asp.net - checkbox.checked 在 IE 的网格视图中始终为 false

> ID：10909555
> 
> 赞同：0
> 
> 时间：2012-06-06T07:01:31.530
> 
> 标签：asp.net, gridview

我在`GridView`. 当我单击保存按钮时，我会检查选中复选框以将记录保存在 dbms 中的代码。但`Checkbox.checked`财产永远是`false`。

```
foreach (GridViewRow row in GridView1.Rows)
{
    CheckBox chbx = (CheckBox)row.FindControl("chk1");
    if (chbx.Checked)
    {
        // ...
    }
} 
```

但是它在 Mozilla 中运行良好，但在 IE 中却不行。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-06-06T07:15:35.300

您的服务器端代码在一个浏览器上运行而不在另一个浏览器上运行是非常罕见的，但这个问题的最常见原因是您可能`GridView`在`Page_Load`没有检查`IsPostback`属性的情况下绑定您的，您的代码应该是这样的

```
protected void Page_Load(object sender, EventArgs e)
{
        if (!IsPostBack)
            BindYourGridView();// Bind your grid here only during first page load not every time
} 
```

# mysql - 如何在mysql中通过join替换union

> ID：10909561
> 
> 赞同：2
> 
> 时间：2012-06-06T07:01:56.917
> 
> 标签：mysql, join, union

```
select service_type from service_type as s union select service_type
from cust_service_type as cs 
```

我想替换`UNION`为`JOINS`. 请让我知道需要进行的更改。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:09:25.903

`MySQL`不支持`FULL JOIN`，所以不可能在`MySQL`.

在其他系统中，您可以使用以下语法：

```
SELECT  DISTINCT COALESCE(service_type, cust_service_type)
FROM    service_type s
FULL JOIN
        cust_service_type cs
ON      cs.service_type = s.service_type 
```

或者

```
SELECT  DISTINCT service_type
FROM    service_type s
FULL JOIN
        cust_service_type cs
USING   (service_type) 
```

对于支持的系统`JOIN ... USING`

请注意，这`UNION`比此解决方案更有效。

**更新：**

如果您想要两个表中的所有字段，请使用以下命令：

```
SELECT  *
FROM    service_type s
UNION ALL
SELECT  *
FROM    cust_service_type cs
WHERE   service_type NOT IN
        (
        SELECT  service_type
        FROM    service_type
        ) 
```

# jquery - 文本中的 fullcalendar 上一年和下一年按钮

> ID：10909564
> 
> 赞同：3
> 
> 时间：2012-06-06T07:02:09.993
> 
> 标签：jquery, button, text, fullcalendar, next

两年多前，这里有人问过这个问题，但作为菜鸟，我不知道如何使用 Joel Potter 发布的方法作为对这个 URL 中问题的答案：

[Fullcalendar jquery plugin 在 nextYear 按钮上显示年份](https://stackoverflow.com/questions/2835953/fullcalendar-jquery-plugin-show-years-on-nextyear-buttons)

到目前为止，这是我的代码中的内容：

```
$('.fc-button-prevYear span').click(function(){
           setYearButtons();
        });

        $('.fc-button-nextYear span').click(function(){
           setYearButtons();
        });

        function setYearButtons(){
            var currentDate = $("#calendar").fullCalendar( 'getDate' );

            // I'm not 100% sure on these class names, but you can inspect the dom and figure those out
            $(".fc-button-prevYear span").text(currentDate.getYear()); 
            $(".fc-button-nextYear span").text(currentDate.getYear() + 2);
        } 
```

如何初始化代码，以便在日历开始时，我将不再看到下一年和上一年的箭头，而是在文本中看到下一年和上一年？

此外，计算年份的逻辑似乎有效，但我看到的文字是错误的。例如，如果当前年份是 2012 年（最初我看到箭头按钮，我需要单击上一年或下一年按钮才能更改为文本），当我单击下一年或上一年转到 2013 年时，我的文本按钮上一年显示 112，下一年显示 114，而不是上一年显示 2012，下一年显示 2014。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-08T03:20:58.283

只需将其添加到日历初始化中：

```
$('#calendar').fullCalendar({
        theme: false,
        header: {
            left: 'prev,next today',
            center: 'title',
            right: 'prevYear, nextYear'
        }, 
        buttonText: {
            prevYear: parseInt(new Date().getFullYear(), 10) - 1,
            nextYear: parseInt(new Date().getFullYear(), 10) + 1
        },
        viewDisplay: function(view) {
            var d = $('#calendar').fullCalendar('getDate');
            $(".fc-button-prevYear .fc-button-content").text(parseInt(d.getFullYear(), 10) - 1);
            $(".fc-button-nextYear .fc-button-content").text(parseInt(d.getFullYear(), 10) + 1);
        }
}); 
```

# c# - 车辆编号文本框的正则表达式

> ID：10909574
> 
> 赞同：-1
> 
> 时间：2012-06-06T07:03:00.993
> 
> 标签：c#, asp.net, regex

我在 asp.net detailsview 中有一个文本框。此文本框只能采用车辆编号，例如：

ABG-999
ATG-9090
AB-122
B-9999
J-111
880099
88221

有人可以生成一个我可以在文本框上应用的正则表达式吗？我希望使用只添加“-”符号，不应允许使用空格或句号。

**编辑-1**

```
<asp:TextBox ID="TextBox1" runat="server" Text='<%# Bind("bowzer_no") %>' ControlToValidate="TextBox1" />
<asp:RegularExpressionValidator ControlToValidate = "TextBox1" ID="RegularExpressionValidator1" runat="server" ErrorMessage="Invalid" ></asp:RegularExpressionValidator> 
```

我不知道在 ValidationExpression 中输入什么来实现我的目标。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T08:39:36.110

试试这个：

`[0-9]{6,7}|[a-zA-Z]{1,3}-[0-9]{1,6}`

第一部分（之前`|`）仅用于数字代码（最少 6 位，最多 7 位）。第二部分接受 min 1 char, max 3 chars before`-`和 min 1 digit, max 6 numbers after `-`。

它应该适合你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:09:07.453

这应该有效：

```
([a-zA-Z]+-)?\d{3,6} 
```

您可以调整位数。我的示例期望最少 3 个，最多 6 个。

# dojo - Dojo - ScrollingTabControllerMenuButton 在 Firefox 中冻结 TabContainer

> ID：10909580
> 
> 赞同：0
> 
> 时间：2012-06-06T07:04:02.347
> 
> 标签：dojo, tabcontainer, dijit.layout

我最近偶然发现了一个完全使用 dojo 制作的 Web 应用程序的问题。

我有一个 TabContainer 和一个带有按钮的工具栏，每个按钮在 TabContainer 中添加一个 Tab。这些新标签中的每一个都作为子标签以编程方式创建，具有以下一项或多项`BorderContainers, ContePanes, Editors, FilteringSelects, Uploader and Buttons`。我应该指出我没有 parseonLoad: true byt false 并且我在需要时手动调用了 parrs.parse。我应该指出，在内容属性的 ContentPanes 中，我还放置了声明性的过滤选择和验证文本以及上传器，我希望这不是问题。

除了 Firefox 12 中的一件事之外，即使在 IE9 中，所有浏览器中的一切都运行良好。当我创建许多新选项卡并创建 ScrollingTabController 时（标签条的左/右和下拉箭头），当我使用 ScrollingTabControllerMenuButton 时（位于最右边）TabContainer 行为错误并最终冻结。当我通过选项卡条的此菜单选择不同的选项卡时，Firebug 会显示奇怪的错误。我在这些选项卡中的按钮错误，奇怪的错误提到`StackController`或`ScrollingTabController`

[例如

按钮未定义

```
if(this._selectedTab === button.domNode){  StackController.js (line 222) ] 
```

每次都不一样...

这种奇怪的行为只发生在 Firefox 中。IE9 和 Chrome 完全没有问题！

谁能知道可能是什么问题？这是一个已知的错误吗？每个选项卡中有很多小部件是否有问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T08:06:04.013

看来这确实是浏览器特有的错误，据我所知，它应该在以下版本中修复

我首先向 dojo 社区报告了它，然后他们从那里向 Firefox 团队报告了它

[http://bugs.dojotoolkit.org/ticket/15496](http://bugs.dojotoolkit.org/ticket/15496)

# jquery - 如何获得来自不同域的响应？

> ID：10909582
> 
> 赞同：0
> 
> 时间：2012-06-06T07:04:09.920
> 
> 标签：jquery, html, json, iframe

我有一个包含多个字段的表单，在该表单中，我还有一个 iframe，它正在调用来自不同域的另一个页面，该页面也包含一个表单，现在在提交主表单时，我需要检查 iframe 表单是否已提交。如何验证？

主页
`<iframe src="http://www.differntdomain.com/index.html"></iframe>`

index.html 也有一个表单

我需要检查表单是否在主页表单提交中提交。

请帮忙！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:06:56.450

我认为您最好的选择是绑定到 iframe 的 onload 事件。每次更改位置时都会触发此事件（提交表单时可能就是这种情况）。更多信息： [iFrame src 更改事件检测？](https://stackoverflow.com/q/2429045/508702)

# objective-c - iAd 问题：--> 每次出现空 iAd 横幅而不是 AdMobView

> ID：10909587
> 
> 赞同：-5
> 
> 时间：2012-06-06T07:04:39.493
> 
> 标签：objective-c, cocoa, admob

```
#pragma mark - iAd method.

/*Starts:iAd*/

-(void)willAnimateRotationToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration
{

    Class cls = NSClassFromString(@"ADBannerView");
    if(cls!=nil)
    {
        [self layoutForCurrentOrientation:YES];
    }   

}

-(void)createADBannerView
{

    NSString *contentSize = UIInterfaceOrientationIsPortrait(self.interfaceOrientation) ? ADBannerContentSizeIdentifierPortrait : ADBannerContentSizeIdentifierPortrait;

    CGRect frame;
    frame.size = [ADBannerView sizeFromBannerContentSizeIdentifier:contentSize];
    frame.origin = CGPointMake(0.0, CGRectGetMaxY(self.view.bounds));

    // Now to create and configure the banner view
    ADBannerView *bannerView = [[ADBannerView alloc] initWithFrame:frame];
    // Set the delegate to self, so that we are notified of ad responses.
    bannerView.delegate = self;
    // Set the autoresizing mask so that the banner is pinned to the bottom
    bannerView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight | UIViewAutoresizingFlexibleTopMargin;
    bannerView.requiredContentSizeIdentifiers = [NSSet setWithObjects:ADBannerContentSizeIdentifierPortrait, ADBannerContentSizeIdentifierPortrait, nil];

    // At this point the ad banner is now be visible and looking for an ad.
    [self.view addSubview:bannerView];
    self.banner = bannerView;
    [bannerView release];
}

-(void)layoutForCurrentOrientation:(BOOL)animated
{

    CGFloat animationDuration = animated ? 0.2 : 0.0;
    // by default content consumes the entire view area
    CGRect contentFrame = self.view.bounds;
    CGPoint bannerOrigin = CGPointMake(CGRectGetMinX(contentFrame), CGRectGetMaxY(contentFrame));
    CGFloat bannerHeight = 0.0;

    banner.currentContentSizeIdentifier = ADBannerContentSizeIdentifierPortrait;
    bannerHeight = 55.0;

    if(banner.bannerLoaded)
    {
        contentFrame.size.height -= bannerHeight;
        bannerOrigin.y -= bannerHeight;
    }
    else
    {
        bannerOrigin.y += bannerHeight;
    }

    // And finally animate the changes, running layout for the content view if required.

    NSLog(@"[UIApplication sharedApplication].statusBarOrientation = %d",[UIApplication sharedApplication].statusBarOrientation);

    [UIView animateWithDuration:animationDuration
                     animations:^{
                         contentView.frame = contentFrame;
                         [contentView layoutIfNeeded];

                         banner.frame = CGRectMake(0,361, banner.frame.size.width, banner.frame.size.height);   
                     }];
}

/*Ends:iAd*/

/*Starts:Added By:CP.Date:26-Dec-2010.
 AdMob methods*/

#pragma mark - AdMobDelegate methods

-(NSString *) publisherIdForAd:(AdMobView *)adView

{

    return @"a14f91029b8c719"; // this should be prefilled; if not, get it from www.admob.com
}

-(UIViewController *) currentViewControllerForAd:(AdMobView *)adView
{

    return self;
}

-(UIColor *)adBackgroundColorForAd:(AdMobView *)adView 
{

    return [UIColor colorWithRed:0 green:0 blue:0 alpha:1]; // this should be prefilled; if not, provide a UIColor
}

-(UIColor *)primaryTextColorForAd:(AdMobView *)adView 
{

    return [UIColor colorWithRed:1 green:1 blue:1 alpha:1]; // this should be prefilled; if not, provide a UIColor
}

-(UIColor *)secondaryTextColorForAd:(AdMobView *)adView 
{

    return [UIColor colorWithRed:1 green:1 blue:1 alpha:1]; // this should be prefilled; if not, provide a UIColor
}

-(void) didReceiveAd:(AdMobView *)adView
{

    adMobAd.frame = CGRectMake(0,361,320,55);

    //adMobAd = [AdMobView requestAdOfSize:ADMOB_SIZE_748x110 withDelegate:self];
    [self.view addSubview:adMobAd];
}

// Sent when an ad request failed to load an ad

-(void)didFailToReceiveAd:(AdMobView *)adView 
{

    Class cls = NSClassFromString(@"ADBannerView");
    if(cls!=nil)
    {
        if(banner == nil)
        {
            [self createADBannerView];
        }
        [self layoutForCurrentOrientation:NO];
    }   

    [adMobAd removeFromSuperview];  // Not necessary since never added to a view, but doesn't hurt and is good practice
    [adMobAd release];
    adMobAd = nil;
    // we could start a new ad request here, but in the interests of the user's battery life, let's not
}

/*Ends:Added By:CP.Date:26-Dec-2010.
 AdMob methods*/ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:29:48.140

首先要清楚 iad 或 admob ，它们是用于在您的应用中显示广告的两种不同平台。我认为您正在尝试整合 admob adv。您需要执行以下步骤。

[http://www.edumobile.org/iphone/iphone-programming-tutorials/how-to-admob-integrate-in-your-application-in-iphone/](http://www.edumobile.org/iphone/iphone-programming-tutorials/how-to-admob-integrate-in-your-application-in-iphone/)

# css - vertical-align: middle 到底有什么作用？它的参考在哪里？

> ID：10909588
> 
> 赞同：1
> 
> 时间：2012-06-06T07:04:43.510
> 
> 标签：css

当您有两个内联元素共享同一行时，一个较大的一个`vertical-align: baseline`较小的一个是`vertical-align: middle`为什么中间对齐的元素会出现在基线元素的下方？

我整理了一个演示，说明了我在说什么：http: [//jsfiddle.net/mLSG2/](http://jsfiddle.net/mLSG2/)

看起来较小元素的中线与较大元素的基线对齐，但这对我来说似乎没有多大意义。如果这是真的，其背后的理性是什么？

更一般地说，有人可以解释当不同行高和不同垂直对齐声明的元素共享同一行时如何计算对齐？规范中是否有定义这一点的地方？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:38:19.570

按照[规范](http://www.w3.org/TR/CSS2/visudet.html#line-height)，`vertical-align: middle`应该“将框的垂直中点与父框的基线加上父框的 x 高度的一半对齐”。在这种情况下，斜体文本的行框的垂直中间应与元素的基线`div`加上该元素的 x 高度的一半对齐。这使得它非常接近那个基线，真的。

由于此处未设置字体，浏览器通常会使用默认字体大小，例如 16 像素。x-height 取决于字体，但让我们假设粗略的平均值：字体大小的一半，8px。其中一半是 4px，差异很小。（元素的字体大小`div`不会因存在较大字体的内部元素而改变。）

浏览器错误可能会掩盖这种情况。该`vertical-align`物业有一个错误的历史。通常最好使用相对定位。

# android - 如何从 sqlite db 访问图像并使用光标适配器在 android 的图库中显示这些图像？

> ID：10909591
> 
> 赞同：0
> 
> 时间：2012-06-06T07:04:49.477
> 
> 标签：android, sqlite

我已经在代码中实现了这一点，但它给出了一个无法将 BLOB 转换为 long 的错误。在这里，我有一段已实现的代码，但出现错误：

```
Cursor cur = myDbHelper.getImages();  //images has been recieved in cursor

ImageAdapter adapter = new ImageAdapter(this, cur);

lst.setAdapter(adapter);

/* ImageAdapter Class*/
public ImageAdapter(Context context, Cursor cursor) {
        super(context, cursor);
        this.context = context;
        this.cursor = cursor;
    }

public View newView(Context context, Cursor cursor, ViewGroup arg2) {

                LayoutInflater inflater = (LayoutInflater) context.getSystemService(context.LAYOUT_INFLATER_SERVICE);
        View view = inflater.inflate(R.layout.residentgallery, null);
        ImageView iv = (ImageView) view.findViewById(R.id.iv1);
        if(cursor.moveToFirst())  
        {  
           do  
           {  
               System.out.println("byte array");
               byte[] data = cursor.getBlob(cursor.getColumnIndex("images"));  
               ByteArrayInputStream imageStream = new ByteArrayInputStream(data);  
               Bitmap theImage = BitmapFactory.decodeStream(imageStream);  
               iv.setImageBitmap(theImage);
               System.out.println("Imageview");
           }  
           while(cursor.moveToNext());  
        }

        return view;
    } 
```

运行此代码后，我收到此错误：

`android.database.sqlite.SQLiteException: unknown error: Unable to convert BLOB to long`

我在 BLOB 数据类型的 sqlite 中保存了图像。伙计们，请帮帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:09:48.667

如果您想**从标准图库中获取图像/照片**：

```
String[] selectFields = new String[] {
    MediaStore.Images.Media._ID,
    MediaStore.Images.Media.DISPLAY_NAME,
    // other fields you interested in
    };

Cursor cursor = contentResolver.query(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,selectFields ,where,null,orderBy);
if(cursor!=null && cursor.moveToFirst()){
    int col_id = cursor.getColumnIndex(MediaStore.Images.Media._ID);
    while (!cursor.isAfterLast()) {
        int imageID = cursor.getInt(col_id);
        Uri uri = Uri.withAppendedPath(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, String.valueOf(imageID));
        InputStream istr = contentResolver.openInputStream(uri);
        Bitmap bitmap= BitmapFactory.decodeStream(istr);
        cursor.moveToNext();
    }
    cursor.close();
} 
```

* * *

如果您想稍后存储和获取**应用的私有图像**：

将图像存储为单独的文件并将仅文件名和与该图像相关的其他元数据插入数据库是一种很好的做法。您始终可以从 db 中选择文件名，然后从文件中读取图像。

此外，在内存中存储许多大文件也不好。可能你可以使用sdcard吗？

# android - 从地图视图中删除特定的叠加层

> ID：10909594
> 
> 赞同：0
> 
> 时间：2012-06-06T07:05:14.943
> 
> 标签：android, android-mapview, overlays

我的问题如下。

我正在创建多个逐项叠加。（因为每个覆盖都有不同的可绘制对象）我自定义了逐项覆盖类，但是当我将它添加到地图视图覆盖时，该类被转换为覆盖类。更糟糕的是，我有 3 个班级在同一张地图上创建叠加层。每个类都代表地图上的一个项目，其背后有自己的智能。

我现在遇到的问题是我想删除覆盖，但我不能确定我插入它的索引也是我尝试删除它时的索引。（其他类可能同时插入了一个覆盖）

这些类是自我更新的，所以我不想要一个从主类触发更新或删除事件的解决方案。（重点是添加一个类并忘记它）

所以我的问题是：当我想在该层上调用删除时，如何确定哪一层是哪一层。我认为信息是可用的，但我不知道如何获得它。这是我用来添加叠加层的代码

```
 OverlayItem overlayitem = new OverlayItem(p,myNaam ,myOmschrijving );

    LocationOverlay = new MyLocationOverlay(drawable, myContext);

    LocationOverlay.SetLocation(i,overlayitem);

    myOverlays.add(LocationOverlay); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:06:58.253

您不必删除特定图层。您可以删除由其引用指定的覆盖（例如**myOverlay**）。

`LocationOverlay myOverlay = new MyLocationOverlay(drawable, myContext); //you forgot the name of variable`

`mapView.getOverlays().remove(myOverlay);`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-04-08T07:57:57.860

您可以将某个整数设置为每个叠加层的位置，如下所示：

```
mapView.getOverlays().add(0,myScaleBarOverlay); 
```

当你想要 ro 删除这个调用时：

```
mapView.getOverlays().remove(0);
mapView.invalidate(); 
```

看待

# php - 使用PHPExcel按行和列将Excel中的单元格合并在一起

> ID：10909598
> 
> 赞同：17
> 
> 时间：2012-06-06T07:05:23.503
> 
> 标签：php, excel-2007, phpexcel

我需要按行合并 Excel (xlsx) 中的单元格，然后使用[`PHPExcel`](http://phpexcel.codeplex.com/downloads/get/212184). 我尝试了以下。

```
$sheet->mergeCells("G".($row_count+1).":G".($row_count+4));             
$sheet->mergeCells("H".($row_count+1).":H".($row_count+4));             
$sheet->mergeCells("I".($row_count+1).":I".($row_count+4)); 
```

其中变量`$row_count`具有一些不可预测的动态值，例如 25、50、75 等（无规则模式）。

![在此处输入图像描述](../Images/aedadcb8938772bcdff76df46793b219.png)

它合并单元格，如前面的[快照](https://i.stack.imgur.com/hQBjc.png)所示，可以在**Note**单元格的正下方看到。按行合并这些单元格后，我尝试按列合并它们，如下所示。

```
$sheet->mergeCells("G".($row_count+1).":I".($row_count+1)); 
```

但它不起作用。当我尝试打开 excel 文件时，它要求确认（带有确认框）

> Excel 在“report.xlsx”中发现了不可读的内容。是否要恢复此工作簿的内容？如果您信任此工作簿的来源，请单击“是”。

那么如何在Excel中按行和列将单元格合并在一起呢？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-06-06T07:54:38.947

合并只需要一个有效范围的单元格，如 A1:B2，所以你的

```
$sheet->mergeCells("G".($row_count+1).":I".($row_count+1)); 
```

应该可以正常工作。

您能否尝试一个简单的测试用例来证明这会导致您出现问题，而不是脚本中的其他问题

**编辑**

重新阅读您的问题后：您的问题可能是您正在尝试合并已经属于合并范围的单元格，而不是合并每一行，然后尝试按列合并，尝试一次合并整个范围。

```
$sheet->mergeCells("G".($row_count+1).":I".($row_count+4)); 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2016-02-11T09:38:35.063

单元格合并还有另一种方法

```
 /**
 * Set merge on a cell range by using numeric cell coordinates
 *
 * @param   int $pColumn1   Numeric column coordinate of the first cell
 * @param   int $pRow1      Numeric row coordinate of the first cell
 * @param   int $pColumn2   Numeric column coordinate of the last cell
 * @param   int $pRow2      Numeric row coordinate of the last cell
 * @throws  Exception
 * @return PHPExcel_Worksheet
 */
     public function mergeCellsByColumnAndRow($pColumn1 = 0, $pRow1 = 1, $pColumn2 = 0, $pRow2 = 1) 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-10-19T15:52:06.840

```
function cellsToMergeByColsRow($start = -1, $end = -1, $row = -1){
    $merge = 'A1:A1';
    if($start>=0 && $end>=0 && $row>=0){
        $start = PHPExcel_Cell::stringFromColumnIndex($start);
        $end = PHPExcel_Cell::stringFromColumnIndex($end);
        $merge = "$start{$row}:$end{$row}";
    }
    return $merge;
} 
```

案例补充：

```
$objPHPExcel->getActiveSheet()->mergeCells(cellsToMergeByColsRow(0,2,3)) 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-06-03T20:55:06.433

我做了一个简单的函数来计算单元格以按列和行合并。

```
function cellsToMergeByColsRow($start = NULL, $end = NULL, $row = NULL){
    $merge = 'A1:A1';
    if($start && $end && $row){
        $start = PHPExcel_Cell::stringFromColumnIndex($start);
        $end = PHPExcel_Cell::stringFromColumnIndex($end);
        $merge = "$start{$row}:$end{$row}";

    }

    return $merge;
} 
```

并打电话

```
$sheet->mergeCells(cellsToMergeByColsRow($col, $col+5, $row)); 
```

谢谢@马克贝克

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-01-18T16:58:47.180

我也在寻找这个问题的解决方案。我想合并单元格并将内容（值）放在上面。经过几次搜索，我得到了一些解决方案。但没有检查，因为我正在使用**Maatawebsite**获取**Excel**文件。

但是任何人都可以尝试。解决方案是基于 **PHPExcel**的，当然，它可以在**Maatawebsite**上运行。

[来源链接](http://consistentcoder.com/merge-cells-in-phpexcel)

**从A列第1行合并到E列第1行**

```
$objPHPExcel->getActiveSheet()->mergeCells('A1:E1');

// add some text
$objPHPExcel->getActiveSheet()->setCellValue('A1','The quick brown fox.'); 
```

**从A列第1行合并到E列第3行**

```
$objPHPExcel->getActiveSheet()->mergeCells('A1:E3');

// add some text
$objPHPExcel->getActiveSheet()->setCellValue('A1','The quick brown fox.'); 
```

我检查了 maatawebsite 文档，它们具有相同的方法**mergeCells**。所以我想我会工作。

这个来自 Maatawebste 的解决方案。

```
$sheet->cells('A1:C1', function($cells) {
    $cells->setBorder('thin', 'thin', 'thin', 'thin');
});
$sheet->mergeCells('A1:C1'); 
```

解决方案二

```
$sheet->setMergeColumn(array(
'columns' => array('A','B','C','D'),
'rows' => array(
array(2,3),
array(5,11),
)
)); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2020-01-27T18:50:41.730

```
$sheet -> mergeCellsByColumnAndRow($col1, $row1, col2, row2); 
```

是函数。

# redis - Redis Db 是否有内置压缩选项

> ID：10909602
> 
> 赞同：12
> 
> 时间：2012-06-06T07:05:45.390
> 
> 标签：redis

Redis 是“内存怪物”。将数据存储为“压缩的 json 字符串”可以最大限度地减少内存使用量。Redis Db 中是否有任何内置压缩选项？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-06T10:02:42.433

Redis 在转储时使用 LZF 轻型数据压缩器，因此不会减少内存消耗。暗示redis不压缩内存中的数据，将其存储为字符串。必须部署自己的客户端压缩代码。
lua 脚本也提供了压缩算法，但该分支相对较新，因此不建议在生产级别使用。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-02-26T20:08:25.580

不，没有任何运行时压缩选项。但是，正如 dan-boa 所说 - 在应用程序端实现压缩可能是一个好主意。这样做可以节省 Redis 服务器上的 CPU。您的数据库服务器不会受到压缩所需的 CPU 时间的影响。

在我们的一个 Redis 集群中，由于 GZIPing 我们基于 json 的 blob，我们节省了大约 82% 的内存（从大约 340GB 到 60GB）。在我们的文章中可以找到更多关于它的想法和其他优化内存使用的方法：

[http://labs.octivi.com/how-we-cut-down-memory-usage-by-82/](https://web.archive.org/web/20180421151235/http://labs.octivi.com/how-we-cut-down-memory-usage-by-82/)

> **注意：**链接已移至[archive.org 备份](https://web.archive.org/web/20180421151235/http://labs.octivi.com/how-we-cut-down-memory-usage-by-82/)

# android - 如何在网格布局中将文本恰好对齐在图像下方，并在超过图像宽度时使其占据第二行？

> ID：10909603
> 
> 赞同：2
> 
> 时间：2012-06-06T07:05:45.843
> 
> 标签：android, android-layout, android-imageview, textview

我的 XML：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#FFFFFF"
    android:orientation="vertical" >

    <ImageView
        android:id="@+id/imageMenu"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_below="@id/signOut"
        android:layout_centerInParent="true"
        android:layout_marginLeft="10dip"
        />

    <TextView
        android:id="@+id/gridtext"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/imageMenu"
        android:layout_marginLeft="10dip"
        android:layout_marginTop="10dip"
        android:layout_centerHorizontal="true"
        android:text="TextView"
        android:textAppearance="?android:attr/textAppearanceMedium"
        android:textColor="#000" />

</RelativeLayout> 
```

我可以在此网格布局中将文本设置在图像的正下方，但如果文本太大，我也希望它将文本换行到下一行。例如，我有一张“血库”的图片，文字是“最近的血库”。我希望它包含在图像的宽度内。怎么做？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-06T07:14:09.167

试试这个。

```
<TextView
    android:id="@+id/gridtext"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignRight="@+id/imageMenu"
    android:layout_alignLeft="@+id/imageMenu"
    android:layout_below="@+id/imageMenu"
    android:layout_marginTop="10dip"
    android:text="TextView"
    android:textAppearance="?android:attr/textAppearanceMedium"
    android:textColor="#000"
    android:singleLine="false" /> 
```

# mysql - 需要将 Query 与 Distinct 和 Count 结合起来

> ID：10909604
> 
> 赞同：0
> 
> 时间：2012-06-06T07:05:47.080
> 
> 标签：mysql, select, count, distinct

我有一个要清理的查询：

我的原始查询如下：

```
SELECT h.userid, c.firstname, c.lastname, h.domain, h.nextduedate, h.domainstatus, 
    (SELECT COUNT(status) 
     FROM tblinvoices i, tblinvoiceitems ii
     WHERE i.userid =h.userid
            AND i.id = ii.invoiceid
        AND i.STATUS LIKE  'Unpaid'
        AND i.TOTAL = 80
        AND ii.description LIKE  'Hosted Domain%')
     AS invoice_count 
 FROM tblclients c, tblhosting h 
 WHERE h.userid=c.id AND c.status='Active' 
    AND c.id NOT IN (1,2,3,4,5)
    AND h.domain LIKE '%thisdomain.com' 
    AND h.nextduedate<='2012-06-06' 
 ORDER BY h.domainstatus, h.nextduedate DESC 
```

它工作得相当好，但它不是100％准确的。我让所有用户的“nextduedate”早于今天的日期，但是，有些用户的未付发票的 nextduedate 为 NULL（帐户已取消，但他们仍有未付发票）。

这个查询给了我 22 个用户，但是如果我运行：

```
SELECT DISTINCT i.userid, COUNT(i.status) 
     FROM tblinvoices i, tblinvoiceitems ii
     WHERE i.id = ii.invoiceid
        AND i.STATUS LIKE  'Unpaid'
        AND i.TOTAL = 80
        AND ii.description LIKE  'Hosted Domain%') 
```

然后我得到了 26 个用户（以及大约 8 个丢失的发票）。

下一个到期日期实际上是显示他们有多晚，此查询的主要重点是显示所有未付发票的用户。我试图以几种不同的方式将第二个查询与第一个查询结合起来，但我无法弄清楚，我想我锁定了我的服务器。

理想情况下，我的返回行如下所示：

userid、firstname、lastname、domain、domainstatus、“duedate”（理想情况下，这将是最旧发票的日期，我使用 nextduedate 因为它很简单）、invoicecount（未付发票的数量）

仅供参考，发票日期在 i.invoicedate

我将非常感谢帮助弄清楚如何优化此查询！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:38:17.887

您可以尝试替换`DISTINCT`为`GROUP BY`

```
SELECT h.userid, c.firstname, c.lastname, h.domain, h.nextduedate, h.domainstatus, count(i.status) AS invoice_count

FROM tblclients c, tblhosting h 
LEFT JOIN tblinvoices i ON i.userid =h.userid         
    AND i.STATUS LIKE  'Unpaid'
    AND i.TOTAL = 80
LEFT JOIN tblinvoiceitems ii ON i.id = ii.invoiceid
    AND ii.description LIKE  'Hosted Domain%'

WHERE h.userid=c.id AND c.status='Active' 
    AND c.id NOT IN (1,2,3,4,5)
    AND h.domain LIKE '%thisdomain.com' 
    AND h.nextduedate<='2012-06-06'
GROUP BY h.userid 
ORDER BY h.domainstatus, h.nextduedate DESC 
```

# asp.net - 禁用 HTML 按钮的主题

> ID：10909610
> 
> 赞同：0
> 
> 时间：2012-06-06T07:06:00.437
> 
> 标签：asp.net, css

在我的 Web 应用程序中，我为所有按钮设置了 CSS 样式，例如，

```
input[type=button], button
{
  //
} 
```

如果我想为特定按钮使用其他 CSS 类，如果它是 ASP 按钮，我可以简单地使用属性`EnableTheming="false"`。

但我有一个`html button`，为此我需要禁用主题。我试过`EnableTheming`了，但它不起作用。我该怎么做，有人可以在这里帮助我。

我尝试使用 jQuery 设置 removeClass，例如，

```
 <script type="text/javascript">
      $(document).ready(function () {
          $(":button").removeClass("marked");

      });
  </script> 
```

但是，它不起作用

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T07:11:23.353

您可以使用 jquery 删除 css 类

```
$(":button").removeClass("marked"); 
```

如果你想添加类

```
$(":button").addClass("marked"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-07T07:48:01.707

如果你的班级有这样的事情

```
input[type=button], button
{
  border:1px solid #fco;
  padding : 0;
  margin:0;
} 
```

这样做可以使样式默认

```
$(document).ready(function () {
          $(":button").css({"border":"", "padding":"", "margin":""});
      }); 
```

# php - 如何在php中解析固定宽度的列文本？

> ID：10909612
> 
> 赞同：3
> 
> 时间：2012-06-06T07:06:04.803
> 
> 标签：php, parsing

如何在php中解析和显示下面的文本并在hmtl中输出？

我需要的是提示如何处理分隔列的空间。空格数不固定，所以我不能使用`explode(" ",$string);`而且我不确定下面输出的结构是否真的有固定宽度的列。我想让解析函数通用。

输出来自`db2 list applications`

```
Auth Id  Application    Appl.      Application Id                                                 DB       # of
         Name           Handle                                                                    Name    Agents
-------- -------------- ---------- -------------------------------------------------------------- -------- -----
DB2INST1 db2jcc_applica 11446      10.0.0.209.51406.120606004531                                  WEI      1    
DB2INST1 db2jcc_applica 11448      10.0.0.209.51407.120606004536                                  WEI      1    
DB2INST1 db2jcc_applica 13762      10.0.0.206.57473.120606024909                                  DOM_BUGS 1    
ADMIN    db2jcc_applica 15220      10.0.0.210.52248.120606045402                                  RATIONAL 1    
DB2INST1 php-fpm: pool  16546      127.0.0.2.35530.120606065726                                   KON      1    
DB2INST1 db2jcc_applica 16547      10.0.0.202.52042.120606065813                                  KON      1 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T15:54:17.210

首先，有[`sscanf`](http://php.net/sscanf)：

```
$vars = sscanf($string, '%s %s %d %s'); 
```

它针对空格分隔值进行了优化，并且您已经可以指定变量类型（`%s`= string；`%d`= integer）（；甚至命名变量，但示例中未演示）。

示例/[演示](http://codepad.org/RhbW4bn8)：

```
$lines = explode("\r\n", $input);

foreach($lines as &$line)
{
    $line = sscanf($line, '%s %s %d %s');
}

var_dump($lines); 
```

输出：

```
array(6) {
  [0]=>
  array(4) {
    [0]=>
    string(8) "DB2INST1"
    [1]=>
    string(14) "db2jcc_applica"
    [2]=>
    int(11446)
    [3]=>
    string(29) "10.0.0.209.51406.120606004531"
  }
  [1]=>
  array(4) {
    [0]=>
    string(8) "DB2INST1"
    [1]=>
    string(14) "db2jcc_applica"
    [2]=>
    int(11448)
    [3]=>
    string(29) "10.0.0.209.51407.120606004536"
  }
  [2]=>
  array(4) {
    [0]=>
    string(8) "DB2INST1"
    [1]=>
    string(14) "db2jcc_applica"
    [2]=>
    int(13762)
    [3]=>
    string(29) "10.0.0.206.57473.120606024909"
  }
  [3]=>
  array(4) {
    [0]=>
    string(5) "ADMIN"
    [1]=>
    string(14) "db2jcc_applica"
    [2]=>
    int(15220)
    [3]=>
    string(29) "10.0.0.210.52248.120606045402"
  }
  [4]=>
  array(4) {
    [0]=>
    string(8) "DB2INST1"
    [1]=>
    string(8) "php-fpm:"
    [2]=>
    NULL
    [3]=>
    NULL
  }
  [5]=>
  &array(4) {
    [0]=>
    string(8) "DB2INST1"
    [1]=>
    string(14) "db2jcc_applica"
    [2]=>
    int(16547)
    [3]=>
    string(29) "10.0.0.202.52042.120606065813"
  }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T07:13:05.527

你可以[preg_split](http://www.php.net/manual/en/function.preg-split.php)按空间

```
$words = preg_split("/[\s]+/", $input);

//if your lines seperated by `\n` new line you could:
$inputArr = preg_split("/\R+/", $input);
foreach($inputArr as $value) {
   $out = preg_split("/\s+/", $value);
   var_dump($out);
}

Thanks 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T07:11:16.270

您可以`preg_match`像这样在每条数据线上使用：

```
preg_match('~^(\S+)\s+(\S+)\s+(\S+)\s+(\S+)$~', $line, &$matches); 
```

`1`如果匹配，则返回，否则返回`0`。而且 - 更重要的是 - 中的列内容`$matches`，如下所示：

```
array (
  0 => 'DB2INST1 db2jcc_applica 11446      10.0.0.209.51406.120606004531',
  1 => 'DB2INST1',
  2 => 'db2jcc_applica',
  3 => '11446',
  4 => '10.0.0.209.51406.120606004531',
) 
```

该模式仅匹配由空白序列分隔的非空白序列。因此，只要数据本身没有空格，这应该适用于任何随机列长度。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-08-23T07:29:08.363

这是一篇可以帮助你的文章。

```
//To parse an example like the following categorized columns:
/*
col1          col2    col3
====          ====    ====
1 a b c d e   103     14 as d9
2 a           103     14 as d9
3 a           103     14 as d9
*/

$headings = array('col1','col2','col3');
$header = "col1 col2 col3";
//get the $heading_pos_list by parsing the headings of each column with
list($heading_pos_list, $lengths) = parse_heading($headings, $header);
//Parse each line into a row structure
$start_position = $heading_pos_list[0][$heading_key];
$length_of_heading = $heading_pos_list[1][$heading_key];
$line = '1 a b c d e 103 14 as d9';
$row = parse_line($line, $headings, $start_position, $length_of_heading);
//this works for each column and line
echo $row('col1');
//output:
//1 a b c d e
//continue on for each line. 
```

您可以在本文中找到这些函数：http: [//boulderapps.co/parsing-unevenly-spaced-columns-from-text-in-php](http://boulderapps.co/parsing-unevenly-spaced-columns-from-text-in-php)

# pointers - 如何将 Platform::IntPtr 从 WinRT 传递到 C#？

> ID：10909614
> 
> 赞同：1
> 
> 时间：2012-06-06T07:06:06.870
> 
> 标签：pointers, windows-8, windows-runtime, microsoft-metro

我需要将 void* 指针从 WinRT 传递到 C#，我可以使用 Platform::IntPtr，还是有其他方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T13:22:37.763

使用 unsigned __int64/long 可能会取得一些成功，它大到足以在当前支持的操作系统中保存一个指针。

# java - 使用半透明纹理来“掩盖”一部分背景

> ID：10909617
> 
> 赞同：3
> 
> 时间：2012-06-06T07:06:22.893
> 
> 标签：java, opengl, lwjgl, stencil-buffer

我正在尝试创建一个“雾中的洞”效果。我有一个背景网格图像，重叠在上面我有一个“雾”纹理，用于显示某些区域不在视图中。我正在尝试从“雾”中切出一大块，以显示当前可见的区域。我试图“掩盖”屏幕上的一部分雾。

我制作了一些图片来帮助解释我所追求的：
背景：

![BG](../Images/6054493ea90d23817728c53aae5427d9.png)

“蒙版图像”（完全透明必须在内部而不是外缘，因为我将使用它）：

![面具](../Images/87b17ee0a694e5a3cb93c334097d9110.png)

雾（抱歉，很难看到......大部分是透明的）：

![多雾路段](../Images/2c8dbf462283af84e0612bd3d708a72e.png)

我想要的最终产品：

![完成品](../Images/0490f81d04f66a86df16c60ff84969a7.png)

我试过了：

*   Stencil-Buffer：除了一个事实外，我完全可以正常工作......我无法弄清楚如何保留“蒙版”图像的褪色透明度。
*   glBlendFunc：我尝试了许多不同版本的参数和许多其他方法（glColorMask、glBlendEquation、glBlendFuncSeparate）我首先使用了我在这个网站上找到的一些参数：[here](http://www.machwerx.com/2009/02/11/glblendfunc/)。我使用了“glBlendFunc(GL_ZERO, GL_ONE_MINUS_SRC_ALPHA);” 因为这似乎是我一直在寻找的但是......这就是最终发生的结果：（很难说这里发生了什么，但是......背景中有雾覆盖网格。虽然，当它应该是雾中的透明部分时，面具只是最终成为一个完全不透明的黑色斑点。
    ![glBlendFunc 的结果](../Images/a769669a9b9ddb20136d46c38743ec3f.png)

之前的一些代码：

```
glEnable(GL_BLEND); // This is not really called here... It is called on the init function of the program as it is needed all the way through the rendering cycle.
renderFogTexture(delta, 0.55f); // This renders the fog texture over the background the 0.55f is the transparency of the image. 
glBlendFunc(GL_ZERO, GL11.GL_ONE_MINUS_SRC_ALPHA); // This is the one I tried from one of the many website I have been to today.
renderFogCircles(delta); // This just draws one (or more) of the mask images to remove the fog in key places. 
```

（我会发布更多代码，但在我尝试了很多东西之后，我开始删除一些旧代码，因为它变得非常混乱（我在块评论中“支持它们”））

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T11:22:41.857

这是可行的，前提是您当前没有对帧缓冲区的*alpha进行任何操作。*

**第 1 步：**确保帧缓冲区的 alpha 被清除*为零*。因此，您的 glClearColor 调用需要将 alpha 设置为零。然后像往常一样调用 glClear 。

**第 2 步：**在绘制“雾”*之前*绘制蒙版图像。正如蒂姆所说，一旦你融入了你的迷雾，你就无法撤消它。所以你首先需要那里的掩码数据。

但是，您还需要专门渲染蒙版。您*只*希望掩码修改帧缓冲区的 alpha。您不希望它与 RGB 颜色混淆。为此，请使用此功能：[`glColorMask(GL_FALSE, GL_FALSE, GL_FALSE, GL_TRUE)`](http://www.opengl.org/wiki/GLAPI/glColorMask). 这将关闭对颜色的 RGB 部分的写入；因此，只有 alpha 会被修改。

您的蒙版纹理在可见的地方似乎为零，而在不可见的地方似乎为零。但是，算法需要相反，因此您应该修复纹理或使用`glTexEnv`有效翻转 alpha 的模式。

在这一步之后，您的帧缓冲区应该有一个 0 的 alpha 值，我们希望看到雾，而我们不希望看到的 alpha 值为 1。

另外，不要忘记在渲染掩码后*撤消调用。`glColorMask`*你需要找回那些颜色。

**第 3 步：**渲染雾。这很容易；要使蒙版起作用，您需要一个特殊的混合模式。像这个：

```
glEnable(GL_BLEND);
glBlendEquation(GL_FUNC_ADD);
glBlendFuncSeparate(GL_ONE_MINUS_DST_ALPHA, GL_DST_ALPHA, GL_ZERO, GL_ONE); 
```

RGB 和 A 混合部分之间的分离很重要。您不想*更改*帧缓冲区的 alpha（以防万一您想要渲染多于一层的雾）。

你完成了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:17:09.840

您当前采用的方法将不起作用，因为一旦您在整个屏幕上绘制雾，就无法“擦除”它。

如果您使用的是固定管道：

您可以使用具有固定管道的多重纹理 (glTexEnv) 将雾纹理和圆形纹理组合在一个通道中。如果您以前没有使用过此功能，可能会有些困惑，您可能需要花一些时间研究手册页。您将执行一些操作，例如将雾绑定到 glActiveTexture 0，将掩码绑定到 glActiveTexture 1，启用多重纹理，然后将它们与 glTexEnv 组合。我不记得完全正确的参数。

如果您使用着色器：

使用多纹理着色器，将雾 Alpha 与圆形纹理相乘（将圆形区域中的 Alpha 置零），然后将这个组合纹理一次性混合到背景中。这可能是一种概念上更简单的方法，但不确定您是否使用着色器。

我不确定有没有一种方法可以在单独的通道中绘制雾和蒙版，因为它们都有自己的 alpha 值，很难将它们组合起来以获得正确的颜色结果。

# asp.net - 切换到另一个 div 时暂停播放视频

> ID：10909619
> 
> 赞同：0
> 
> 时间：2012-06-06T07:06:51.037
> 
> 标签：asp.net, video

我有 2 个 div，一个 div 有 swf 对象，其他有表格数据。两者都在同一页面上。我想切换它们，如果视频显示表 div 是隐藏的，如果表然后视频 div 将隐藏。

这工作正常，但是当切换到表格 div 视频时，从头开始。我想暂停现有视频。

所以请让我知道如何在不重新启动的情况下暂停它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:57:05.703

If you are hiding the div with CSS (display:none;) the SWF file will start rendering as if you are opening the page for the first time or reloading it. First try to use (visibility:hidden;) but you will have to set the position to absolute because this way will preserve div's space on the page.

If this didn't help there is a bridge between javascript in the page and SWF files where you can ask for where the video is playing now before you hide the div, store this on the page, then when you restore the div you can tell SWF to seek to the stored time.

check this as a sample for javascript/AS3 interactions: [http://circlecube.com/2010/12/actionscript-as3-javascript-call-flash-to-and-from-javascript/](http://circlecube.com/2010/12/actionscript-as3-javascript-call-flash-to-and-from-javascript/)

# mysql - mysql 是否可以在 varchar 列中使用 IN 语句

> ID：10909623
> 
> 赞同：2
> 
> 时间：2012-06-06T07:07:17.247
> 
> 标签：mysql

mysql 是否可以在 varchar 列中使用 IN 语句

就我而言

```
SELECT `custids` FROM user WHERE id = 1; 
```

它返回 custids 列，它是 varchar，值以逗号分隔，如 1,2,3

当我运行这个查询

```
SELECT * FROM `user` WHERE user.id IN(`custids`); 
```

它没有像我预期的那样运行。

实际上我要像这样运行查询：

```
SELECT * FROM `user` WHERE user.id IN(1,2,3); 
```

但我认为它的运行方式如下：

```
SELECT * FROM `user` WHERE user.id IN('1,2,3'); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T07:13:50.737

如果您无法使用 1,2,3 而不是 '1,2,3' 构建查询，您可以尝试使用 FIND_IN_SET

[http://dev.mysql.com/doc/refman/5.5/en/string-functions.html#function_find-in-set](http://dev.mysql.com/doc/refman/5.5/en/string-functions.html#function_find-in-set)

```
 SELECT * FROM `user` WHERE FIND_IN_SET(user.id, '1,2,3') IS NOT NULL; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:10:28.000

尝试

```
 SELECT * FROM `user` WHERE user.id in('1','2','3'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-12-02T08:35:52.423

我认为问题是，我们可以使用或不使用吗？而不是寻找替代品？在我的查询中，我正在使用`CASE`子句：-

```
case
when customer_location.city in('bangalore','Mumbai')
              then cond1
              else cond2
              end 
```

所以它也适用于 Varchar，但你需要用双引号写。

# python - python string.remove中是否有这样的功能？

> ID：10909625
> 
> 赞同：0
> 
> 时间：2012-06-06T07:07:23.383
> 
> 标签：python

C# - String.Remove Ex。

```
int j = 4;
string pages = "/.././ewcwe/";
pages = pages.Remove(j, 2);
// pages = "/../ewcwe/";
// delete ./ 
```

python string.remove中是否有这样的功能？

抱歉，***** *** ./ ****** -> ./

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T07:11:54.033

字符串是不可变的，因此您需要提取所需的部分并从中创建一个新字符串：

```
s = pages[:4] + pages[10:] 
```

或者，您可以覆盖现有字符串（如下面的评论中所指出的）：

```
pages = pages[:4] + pages[10:] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:23:23.640

您可以编写自己的方法。

```
>>>s="vivek"
>>> def rep(s,st,ed):
...  return s[:st]+s[ed:]
...
>>> rep(s,2,3)
'viv' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T07:19:41.233

没有字符串没有这样的方法

但是，如果您使用字节数组，则很容易删除切片

```
pages = bytearray(pages)
del pages[4:10] 
```

使用正则表达式可能会更好地实现您想要实现的目标

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-06-06T08:08:15.883

根本没有

需要使用正则表达式以获得更快的性能

# jquery - jQuery改变css类

> ID：10909630
> 
> 赞同：1
> 
> 时间：2012-06-06T07:07:39.860
> 
> 标签：jquery, ajax

我有一个 jQuery 脚本的问题。我使用这段代码：

```
<span class="follow" data-id="<?=$m['id']; ?>" ></span> 
```

-

```
 $('.follow').click(function(){

        $.ajax({
            type: "POST",
            url:"../ajax/settings/follow.php", 
            async: false,
            dataType:'html',
            data: {'id':$(this).attr('data-id')},
            success:function(rs){
               $(this).removeClass("follow"); 
                $(this).addClass("unfollow"); 

            },

            error:function (xhr, ajaxOptions, thrownError){
                alert("ERROR !!!");
                alert(xhr.status);
                alert(ajaxOptions);
                alert(thrownError);

            }  
        });   

    }); 
```

单击样式图像 TICK 更改为 CROSS 的跨度后，将 attr 类更改为取消关注。单击取消关注类后必须更改为关注，但不起作用。

```
 $('.unfollow').click(function(){

        $.ajax({
            type: "POST",
            url:"../ajax/settings/follow.php", 
            async: false,
            dataType:'html',
            data: {'id':$(this).attr('data-id')},
            success:function(rs){
               $(this).removeClass("unfollow"); 
                $(this).addClass("follow"); 

            },

            error:function (xhr, ajaxOptions, thrownError){
                alert("ERROR !!!");
                alert(xhr.status);
                alert(ajaxOptions);
                alert(thrownError);

            }  
        });   

    }); 
```

怎么了？

我为我的英语道歉！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T07:10:13.970

```
 $('.unfollow').click(function(){

   // you need keep a reference of '.unfollow' here
   // otherwise you can't get it within success()
   // because success() is another scope

   var reference = this; 

   $ajax({
      ...
      success: function() {  
        $(reference ).removeClass("unfollow"); 
        $(reference ).addClass("follow"); 
        ....
      }
   });
  }); 
```

并为您的关注做同样的事情：

```
 $('.follow').click(function(){

   // you need keep a reference of '.unfollow' here
   // otherwise you can't get it within success()
   // because success() is another scope

   var reference = this; 

   $ajax({
      ...
      success: function() {  
        $(reference ).removeClass("follow"); 
        $(reference ).addClass("unfollow"); 
        ....
      }
   });
  }); 
```

### 这里需要注意的一件重要事情是，更改类不是通过单击立即完成的，因为您正在 ajax 成功函数中更改类，这将需要一些时间来更改类。如果您想在单击时立即更改类，请在 ajax 成功函数之外删除那些更改语句。

## 另一个重要说明

当您更改类时，`span`它将成为 DOM 的动态元素。假设您有`span`上课`follow`和`click`活动，`span.follow`您将其更改`class`为`unfollow`. 由于`.unfollow`在页面加载时它不属于 DOM，所以它变成了一个动态元素，普通绑定在这里不起作用。`class`当您从更改为 时也是`unfollow`如此`follow`。

因此，在这两种情况下，您都需要委托事件处理程序（又名实时）事件处理程序，如下所示：

```
$(document).ready(function() {
    $('#container').on('click', 'span.follow', function() {
        var reference = this;
        alert('follow');
        $(reference).removeClass("follow");
        $(reference).addClass("unfollow");
    }).on('click', 'span.unfollow', function() {
        var reference = this;
        alert('unfollow');
        $(reference).removeClass("unfollow");
        $(reference).addClass("follow");
    });
}); 
```

**[演示](http://jsfiddle.net/KGsqH/9/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:10:11.793

`.click()`不是活的手；*它仅将事件绑定到执行时*与这些类一起存在的元素。尝试使用实时处理程序：

```
$('body').on('click', '.follow', function() { });
$('body').on('click', '.unfollow', function() { }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T07:16:20.163

您是否在寻找更多类似的东西？

```
$("div.follow").click(function () {
    $(this).toggleClass("unfollow").toggleClass("follow");
}); 
```

**演示**：http: [//jsfiddle.net/mikecruz/b6ggd/](http://jsfiddle.net/mikecruz/b6ggd/)

以下是使用 ajax 的方法： 我使用 test2.php 作为测试，只回显一个随机数以将内部文本更改为随机数。使用红色/蓝色类（将代码更改为您的类名）只是为了更改字体颜色以显示更改（参见小提琴，但不能将 php ajax 调用放在那里）

```
$(document).ready(function(){
    $("div.red").click(function () {
        var t = this;
        $.ajax({
            type: "POST",
            url: "./test2.php",
            cache: false,
            success: function(text){
                $(t).toggleClass("blue").toggleClass("red");
                $(t).text(text);
            }
        });     
    });
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T07:23:45.570

你在找这个吗？

```
 $('.follow').live('click',function(){
    var t=$(this);
    $.ajax({
        type: "POST",
        url:"../ajax/settings/follow.php", 
        async: false,
        dataType:'html',
        data: {'id':$(this).attr('data-id')},
        success:function(rs){
           t.addClass("unfollow"); 
           t.removeClass("follow"); 

        },

        error:function (xhr, ajaxOptions, thrownError){
            alert("ERROR !!!");
            alert(xhr.status);
            alert(ajaxOptions);
            alert(thrownError);

        }  
    });   

});

    $('.unfollow').live('click',function(){
    var t=$(this);
    $.ajax({
        type: "POST",
        url:"../ajax/settings/follow.php", 
        async: false,
        dataType:'html',
        data: {'id':$(this).attr('data-id')},
        success:function(rs){
          t.addClass("follow"); 
          t.removeClass("unfollow"); 

        },

        error:function (xhr, ajaxOptions, thrownError){
            alert("ERROR !!!");
            alert(xhr.status);
            alert(ajaxOptions);
            alert(thrownError);

        }  
    });   

}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-06T07:31:38.067

函数内部的“this”不会指向您的对象，请尝试将其保存在变量中或使用 id 属性尝试

```
 $('.unfollow').click(function(){
            var _my_obj=$(this);
            $.ajax({
                type: "POST",
                url:"../ajax/settings/follow.php", 
                async: false,
                dataType:'html',
                data: {'id':$(this).attr('data-id')},
                success:function(rs){
                    _my_obj.removeClass("unfollow"); 
                    _my_obj.addClass("follow"); 

                },
... 
```

或者

```
<span id='myspan' class="follow" data-id="<?=$m['id']; ?>" ></span>

$('myspan').removeClass('unfollow');
$('myspan').addClass('follow'); 
```

# c# - 为什么表单的工具事件默认是私有的？

> ID：10909631
> 
> 赞同：0
> 
> 时间：2012-06-06T07:07:55.567
> 
> 标签：c#, winforms, scope

如果我双击一个新的 winform 按钮`uxHelloButton`，则会出现以下内容：

```
private void uxHelloButton_Click(object sender, RoutedEventArgs e) 
```

为什么默认是私有的？如果我删除私​​有并保留以下内容，它仍然可以正常工作：

```
void uxHelloButton_Click(object sender, RoutedEventArgs e) 
```

添加此范围是否可以避免潜在问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:17:45.727

问题是：您为什么要使其易于访问？一般来说，最好为每个元素提供所需的最严格的权限。如果你不这样做，你就冒着一些类可以在不应该调用这个函数的风险。

即使从 OOP 的角度来看，这也必须是私有的。此函数是表单用于处理按钮单击的回调。它并不意味着由您或任何外部类显式调用。

如果要调用此方法，请改用以下内容：

```
private void uxHelloButton_Click(object sender, RoutedEventArgs e)
{
    SomethingToDo(...);
}
protected void SomethingToDo(...)
{
    ....
} 
```

Ps：C#中实例方法的默认作用域是私有的，你没有通过删除private关键字来扩展它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:13:11.083

AFAIK，这些事件仅由该表单的实例调用。这在课堂外无法使用。所以它是这样设计的。

# c# - 以下代码/设计是否存在并发问题

> ID：10909632
> 
> 赞同：2
> 
> 时间：2012-06-06T07:07:57.590
> 
> 标签：c#, concurrency

我已经使用字典类实现了一个简单的缓存：

```
private Dictionary<int, byte[]> cache = new Dictionary<int, byte>();

public void SetPicture(int id, byte[] bytes)
{
    cache[id] = bytes;
}

public byte[] GetPicture(int id)
{
    if (cache.Contains(id)) {
        return cache[id];
    }
    return null;
} 
```

SetPicture 仅从单个后台线程调用。（此后台线程正在从活动目录查询中更新用户个人资料图片）。

GetPicture 从多个其他线程（处理 http 请求的线程）调用。

**项目永远不会从缓存中删除。**

那么这个代码线程安全吗？或者我是否需要在 SetPicture 中写入时阻止对内部字典的访问？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T07:13:23.680

不，这不安全；所有对字典的访问都需要同步，因为 a 的内容`Dictionary<,>`不能*保证*读者与作者的对抗。此外，单独的包含/获取检查是明显的线程竞争。

选项：

*   使用 1.1 样式`Hashtable`- 支持一个写入器**和**多个并发读取器**而不** 同步（这里的缺点是您的键 ,`int`是一个值类型，因此需要装箱；`Hashtable`使用引用类型键时更有吸引力，例如作为`string`）
*   用一个`ConcurrentDictionary<,>`
*   用于`ReaderWriterLockSlim`同步（假设读取比写入更常见）
*   用于`lock`同步（假设非平凡的写入）

然而！如果您使用该`Hashtable`方法**，请不要**单独执行`Contains`/ 获取 - 只需使用索引器。如果你得到`null`它不在那里。否则你有一个竞争条件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T07:14:59.463

不是线程安全的。使用并发字典。如果找不到条目，​​GetPicture 也必须返回一些东西。

# android - 如何使用 Android 中的片段在同一活动中显示 customlistview 中的选定项目？

> ID：10909642
> 
> 赞同：0
> 
> 时间：2012-06-06T07:08:53.610
> 
> 标签：android, android-listview, android-fragments

我已经使用基适配器类在自定义列表视图中显示了 itemimage 和 itemname。我从 listview 中选择一个 itemimage 意味着当时屏幕分为两半。

所有列表视图项目的一半我想显示选定项目的另一半窗口。我怎样才能做到这一点？

用于在自定义列表视图代码中显示 itemimage、itemname、itemdesc、rate

```
public class Appetizerlist extends BaseAdapter {
public static ArrayList<String> arr = new ArrayList<String>();
public static ArrayList<String> itemprice = new ArrayList<String>();
public static ArrayList<Bitmap> image = new ArrayList<Bitmap>();

public Context Context;
String qrimage;
Bitmap bmp, resizedbitmap;
Bitmap[] bmps;
Activity activity = null;
private LayoutInflater inflater;

private ImageView[] mImages;
String[] itemimage;
TextView[] tv;
String itemname, price, desc, itemno;
String[] itemnames, checkeditems, itemnos;
String[] prices;
String[] descs;
HashMap<String, String> map = new HashMap<String, String>();

public Appetizerlist(Context context, JSONArray imageArrayJson) {
    Context = context;
    // inflater =
    // (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    // imageLoader=new ImageLoader(activity);
    inflater = LayoutInflater.from(context);
    this.mImages = new ImageView[imageArrayJson.length()];
    this.bmps = new Bitmap[imageArrayJson.length()];
    this.itemnames = new String[imageArrayJson.length()];
    this.prices = new String[imageArrayJson.length()];
    this.descs = new String[imageArrayJson.length()];
    this.itemnos = new String[imageArrayJson.length()];
    try {

        for (int i = 0; i < imageArrayJson.length(); i++) {
            JSONObject image = imageArrayJson.getJSONObject(i);
            qrimage = image.getString("itemimage");
            itemname = image.getString("itemname");
            itemno = new Integer(i + 1).toString();
            price = image.getString("price");
            desc = image.getString("itemdesc");
            System.out.println(price);
            itemnames[i] = itemname;
            prices[i] = price;
            descs[i] = desc;
            itemnos[i] = itemno;

            byte[] qrimageBytes = Base64.decode(qrimage.getBytes());

            bmp = BitmapFactory.decodeByteArray(qrimageBytes, 0,
                    qrimageBytes.length);
            int width = 100;
            int height = 100;
            resizedbitmap = Bitmap.createScaledBitmap(bmp, width, height,
                    true);
            bmps[i] = bmp;

            mImages[i] = new ImageView(context);
            mImages[i].setImageBitmap(resizedbitmap);

            mImages[i].setScaleType(ImageView.ScaleType.FIT_START);

            // tv[i].setText(itemname);
        }
        System.out.println(map);

    } catch (Exception e) {
        // TODO: handle exception
    }
}

public Appetizerlist() {
    // TODO Auto-generated constructor stub
}

public int getCount() {
    return mImages.length;
}

public Object getItem(int position) {
    return position;
}

public long getItemId(int position) {
    return position;
}

public View getView(final int position, View convertView, ViewGroup parent) {
    View view = convertView;
    final ViewHolder viewHolder;
    if (view == null) {
        view = inflater.inflate(R.layout.appetiserlistview, null);
        viewHolder = new ViewHolder();
        viewHolder.image = (ImageView) view
                .findViewById(R.id.appetiserimage);
        viewHolder.text = (TextView) view.findViewById(R.id.appetisertext);
        viewHolder.desc = (TextView) view.findViewById(R.id.appetiserdesc);
        viewHolder.price = (TextView) view
                .findViewById(R.id.appetiserprice);
        viewHolder.appitemnum = (TextView) view
                .findViewById(R.id.appitemno);
        // viewHolder.checkbox = (CheckBox) view.findViewById(R.id.bcheck);

        view.setTag(viewHolder);
    } else {
        viewHolder = (ViewHolder) view.getTag();
    }
    viewHolder.image.setImageBitmap(bmps[position]);
    viewHolder.appitemnum.setText(itemnos[position]);
    viewHolder.price.setText(prices[position]);
    viewHolder.desc.setText(descs[position]);
    // viewHolder.checkbox.setTag(itemnames[position]);
    ViewHolder holder = (ViewHolder) view.getTag();
    holder.text.setText(itemnames[position]);

     */
    return view;
}

static class ViewHolder {

    protected TextView text, price, desc, appitemnum;
    protected ImageView image;
    public static CheckBox checkbox = null;
}

 } 
```

这是我的活动代码

```
 public class Appetizers extends Activity {
ImageView back;
String url;
String Qrimage;
Bitmap bmp;
GridView list;
Appetizerlist adapter;
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.appetizers);
    url=getIntent().getStringExtra("url");

    ArrayList<HashMap<String, String>> mylist = new ArrayList<HashMap<String, String>>();

    InputStream is = null;
    String result = "";
    JSONObject jArray = null;   
    try {
        HttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(url+"Appetiser.php3");
        HttpResponse response = httpClient.execute(httpPost);
        HttpEntity entity = response.getEntity();
        is = entity.getContent();
    } catch (Exception e) {
        // TODO: handle exception
        Log.e("Log", "Error in Connection" + e.toString());
        Toast.makeText(getApplicationContext(), "Error in Connection",
                Toast.LENGTH_SHORT).show();
        //Intent intent = new Intent(ViewQRCode.this, PimCarder.class);

        //startActivity(intent);

    }
    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        result = sb.toString();
        jArray = new JSONObject(result);
        JSONArray json = jArray.getJSONArray("appetiser");
        list=(GridView)findViewById(R.id.appetiserlist);
         adapter=new Appetizerlist(this, json);
         list.setAdapter(adapter);     
      /*  list.setOnItemClickListener(new OnItemClickListener() {

            public void onItemClick(AdapterView<?> arg0, View arg1,
                    int arg2, long arg3) {
                // TODO Auto-generated method stub
                Toast.makeText(getApplicationContext(), "prakash", 3000).show();

            }
        });*/

        // ListView g = (ListView) findViewById(R.id.gallery);
          //  g.setAdapter(new ImageAdapter(this, json));

    } catch (Exception e) {
        // TODO: handle exception
        Log.e("log", "Error in Passing data" + e.toString());
    }
}
} 
```

上面的代码我可以显示自定义列表视图。我想在自定义列表视图中选择一项意味着窗口已分为两半。一个用于相同的自定义列表视图，另一半我想显示所选项目的详细信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:12:10.557

请参考这个链接

如果没有为手机/平板电脑使用不同的布局............

[http://developer.android.com/guide/topics/fundamentals/fragments.html#Example](http://developer.android.com/guide/topics/fundamentals/fragments.html#Example)

```
void showDetails(int index) {
        mCurCheckPosition = index;

            // We can display everything in-place with fragments, so update
            // the list to highlight the selected item and show the data.
            getListView().setItemChecked(index, true);

            // Check what fragment is currently shown, replace if needed.
            DetailsFragment details = (DetailsFragment)
                    getFragmentManager().findFragmentById(R.id.details);
            if (details == null || details.getShownIndex() != index) {
                // Make new fragment to show this selection.
                details = DetailsFragment.newInstance(index);

                // Execute a transaction, replacing any existing fragment
                // with this one inside the frame.
                FragmentTransaction ft = getFragmentManager().beginTransaction();
                ft.replace(R.id.details, details);
                ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE);
                ft.commit();
            }

    } 
```

# iphone - UItextfield 删除文本

> ID：10909647
> 
> 赞同：1
> 
> 时间：2012-06-06T07:09:17.993
> 
> 标签：iphone, objective-c, ios, ipad, sdk

我有一个奇怪的问题。

我有 3 节表格视图

一个我用了 uitextfield，一个是类型按钮，最后一个是搜索按钮。

问题是假设我在 uitextfield 上输入“波士顿”，然后当我点击按钮类型（另一个视图）时，我可以在选择类型后选择搜索类型，当我回到家时，我在 uitextfield 中输入了波士顿，它消失了离开我的意思是它变成空白然后我必须再次输入波士顿，我如何才能保持它，因为它是从类型视图到主视图，而不会从任何文本字段中自动删除。

请帮忙

提前致谢

**已编辑**

我将不得不重新加载表格视图，因为我选择的任何类型都显示在按钮上作为标签子视图，并且按钮位于表格视图上，因此表明我将不得不重新加载表格视图，但重新加载表格视图也会重新加载 uitextfield 部分。

有没有什么可以指定应该重新加载哪个部分或类似的东西

谢谢是提前

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:18:53.020

没有更多信息有点难，但是 -

1）您是否确认文本字段的委托不会删除文本字段？检查文本字段是否完成编辑。

2）在第一个表视图中放置一个断点。在 tableviewcell 的单元格中，也许您的 tableview 已重新加载，并且您将文本字段替换为新字段。

祝你好运。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:23:11.030

`UITextField`当您转到您的搜索按钮类型时，您可能应该保存 的值。在您的`viewWillAppear:`方法中，您重新填充该文本。

```
-(void)viewWillAppear:(BOOL)animated {

    if([tmpText length] > 0)
       [yourTextField setText:tmpText];
}

-(void)typeOfSearchAction {
  ....
  tmpText = [yourTextField text];
} 
```

因此，现在当您收到 viewWillAppear 调用时，假设它位于不同的位置，`UIViewController`您可以重新填充文本。否则，您可以采用逻辑，并将 UITextField 的文本值存储到字符串中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T07:26:51.893

弹出主视图时，我认为您正在 -(void)viewWillApear{} 方法中重新加载表格或 UITextField 的文本。不要在 viewWillApear{} 中重新加载表格或 UITextField 的文本。它将重置与表格单元格或 UITextField 关联的值，因为当您弹出 viewController 时，会调用 viewWillApear 方法。

希望这可以帮助..

# android-intent - 在 android 中的活动、服务和应用程序之间传递变量

> ID：10909658
> 
> 赞同：2
> 
> 时间：2012-06-06T07:09:49.757
> 
> 标签：android-intent, android

有人可以为我提供以下活动/服务/应用程序组合的示例。我有这三个，但我已经把我的应用程序变成了一个混乱的地方，试图在这个地方传递一堆变量，现在我不知道发生了什么。请注意，我是 android 新手，我最近一直在努力解决这个问题，因为有很多方法可以实现它。

我只想看看发生以下情况的 3 类活动、服务和应用程序：

*   Activity 将变量 x 存储在 Application 中，启动 Service，并启动 Activity 2。

*   服务从应用程序中检索变量 x。

*   活动 2 从应用程序中检索变量 x。

请注意，变量 x 可以是从 Int 到 ArrayList 的任何内容，并且在我的实际程序中，有很多变量（因此需要应用程序类）。

我真的很感激这个具体例子的一个很好的例子，因为我一直试图弄清楚这一切。如果有人愿意花时间整理一个可靠的答案，我将不胜感激。

对于任何问为什么的人，整个事情都是一个音乐播放器。用户选择一首歌曲，并且艺术家/专辑等（希望）存储在应用程序中。然后启动服务，控制歌曲播放，从应用程序获取歌曲路径。第二个活动显示带有歌曲信息（也来自应用程序）的 UI，并具有下一个/上一个按钮，这将更改应用程序中某些变量的值，并指示服务检索新值。如果用户导航离开，变量将始终存在于应用程序中，因此如果创建另一个 UI，则可以轻松设置歌曲信息。

我是否使用了正确的方法？

我可以提供一个我所拥有的例子，但目前它是一团糟。无论如何，如果您认为它会帮助您帮助我，请在下面提出要求。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T07:30:52.693

你不需要为此扩展`Application`。您可以在某个类中使用静态成员变量，如下所示：

```
public class Globals {
    public static String myVariable;
}

public class Activity1 extends Activity implements View.OnClickListener {
    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        ...
    }

    public void onClick(View view) {
        // Save song name and stuff
        Globals.myVariable = "SongNameAndStuff"; // Save in static global variable
        startService(); // with appropriate parameters
        startActivity(); // with appropriate parameters

    }
}

public class Activity2 extends Activity {
    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        // Get song name from Globals
       String mySongName = Globals.myVariable;
        ...
    }

public class MyService extends Service {
    // Access to song name from whatever method needs it:
    String mySongName = Globals.myVariable;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:15:07.903

我只是使用 sharedpreferences tbh。听起来像您需要的...使类静态可访问，然后使静态 getter 和 setter 方法。

```
 import android.content.Context;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.util.Log;

public class OurPreferences {
    private static final String TAG = OurPreferences.class.getSimpleName();
    private final String PREFERENCES = "MobilityPreferences";
    private Context mContext;

private OurPreferences() {
}

private static SharedPreferences getPrefs(Context ctx) {
    return ctx.getSharedPreferences("PREFERENCES", Context.MODE_PRIVATE);
}
public static void setRegistrationId(String registrationId,
        long timeChanged, Context ctx) {
    if (registrationId != null) {
        Editor editor = getPrefs(ctx).edit();
        editor.putString("registrationId", registrationId);
        editor.putLong("timeChanged", timeChanged);
        editor.commit();
    }
}

public static boolean isRegistered(Context ctx) {
    boolean registered = getPrefs(ctx).getString("registrationId", null) != null;
    return registered;
}

public static long getRegistrationTimeInMilis(Context ctx){
   return getPrefs(ctx).getLong("timeChanged", -1L);
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T07:23:54.937

[http://developer.android.com/resources/faq/framework.html#3](http://developer.android.com/resources/faq/framework.html#3)

可以在 Application 文件中放置一个 WeakReferences 到 Objects 的 HashMap 并在其中设置值...

现在您可以使用 ((YOUR_APPLICATION_NFILE_NAME)this.getApplication()) 从 Activity 以及从服务中访问应用程序。获取器/设置器；

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T07:31:47.697

使用以下片段：

应用类：

```
public class ManagerName extends Application {
private static ManagerName singleton;
private String merchant;

public synchronized static ManagerName getInstance(Context context) {
    if (null == singleton) {
        singleton = new ManagerName();
    }
    return singleton;
}

public void setMerchant(String merchant) {
    this.merchant = merchant;
}

public String getMerchant() {
    return merchant;
}
} 
```

在 Activity 中存储和检索值：

```
public class ActivityName extends Activity  {

private ManagerName cacheManager;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.user_details);

    cacheManager = ManagerName.getInstance(ActivityName.this);

    String merchant = cacheManager.setMerchant("Hello");// Store data in Application Class
    String storedValue=cacheManager.getMerchant();  // Retrieve Value from Application class    
}
} 
```

你的清单应该是这样的：

```
<application
    android:name=".ManagerName"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name" >
    <activity>......</activity>
</application> 
```

从应用程序存储和取回价值的概念非常简单：

1.  在 Application 类名中创建变量 -> private ManagerName cacheManager ;
2.  将其初始化为 -> cacheManager = ManagerName.getInstance(ActivityName.this);
3.  使用此实例保存并获取值：

**cacheManager.setMerchant("你好");**

**缓存管理器.getMerchant();**

如需进一步参考，请检查此链接[应用程序类。](http://trace.adityalesmana.com/2010/08/declare-global-variable-in-android-via-android-app-application/)

# gwt - 如何使用 Errai 将 GWT 与 JAX-RS/RESTEasy 服务器集成？

> ID：10909665
> 
> 赞同：6
> 
> 时间：2012-06-06T07:10:19.500
> 
> 标签：gwt, jboss, resteasy, errai

我想从 GWT 客户端应用程序调用使用 RESTEasy 和 JAX-RS 创建的 REST 服务。使用 Errai 为服务器和客户端使用单一代码库的最佳流程是什么？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-06-06T07:10:20.217

我们都喜欢 REST。它是供应商、平台和语言中立的；调试、实现和访问都很简单；它为您的云、浏览器、移动和桌面应用程序提供了可靠的后端。

Java 开发人员可以使用支持[JAX-RS 的](http://docs.oracle.com/javaee/6/tutorial/doc/giepu.html)库，如[RESTEasy](http://www.jboss.org/resteasy)，在几分钟内启动并运行 REST 服务器。然后，[使用 JAX-RS 客户端](http://docs.jboss.org/resteasy/docs/2.3.4.Final/userguide/html_single/#RESTEasy_Client_Framework)，只需几行代码就可以从 Java 客户端应用程序调用这些 JAX-RS REST 服务器。

但尽管 GWT 与 Java 有很多共同点，但从 GWT 调用 REST 服务可能是一种痛苦的体验。使用[RequestBuilder](https://developers.google.com/web-toolkit/doc/1.6/DevGuideServerCommunication#DevGuideHttpRequests)类包括指定正确的 HTTP 方法、对 URL 进行编码，然后解码响应或创建[Overlay](http://code.google.com/p/google-web-toolkit/wiki/OverlayTypes)对象来表示 REST 服务器发回的数据。对于调用一两个 REST 方法，这可能不是很大的开销，但在将 GWT 与更复杂的 REST 服务集成时，它确实代表了很多工作。

这就是[Errai](http://www.jboss.org/errai.html)的用武之地。 Errai 是一个 JBoss 项目，除其他外，[它在 GWT 中实现了 JAX-RS 标准](http://docs.jboss.org/errai/2.0.CR2/errai/reference/html_single/#sid-19398997)。从理论上讲，这意味着您可以在 Java 和 GWT 项目之间共享您的 JAX-RS 接口，提供定义 REST 服务器功能的单一源。

从 Errai 调用 REST 服务器只涉及几个简单的步骤。首先，您需要 REST JAX-RS 接口。这是一个带有 JAX-RS 注释的 Java 接口，它定义了 REST 服务器将提供的方法。这个接口可以在您的 Java 和 GWT 项目之间共享。

```
@Path("customers")
public interface CustomerService {
  @GET
  @Produces("application/json")
  public List<Customer> listAllCustomers();

  @POST
  @Consumes("application/json")
  @Produces("text/plain")

  public long createCustomer(Customer customer);
} 
```

然后将 REST 接口注入到您的 GWT 客户端类中。

```
@Inject
private Caller<CustomerService> customerService; 
```

定义了响应处理程序。

```
RemoteCallback<Long> callback = new RemoteCallback<Long>() {
  public void callback(Long id) {
    Window.alert("Customer created with ID: " + id);
  }
}; 
```

最后调用 REST 方法。

```
customerService.call(callback).listAllCustomers(); 
```

很简单吧？

您可能会从这个示例中相信 Errai 将为您当前的 JAX-RS 基础架构提供一个简单的解决方案，但不幸的是，这个简单的示例没有涉及您在尝试组合您的GWT 和 Java REST 代码库。以下是使用 Errai 和 JAX-RS 时需要注意的一些问题。

**您需要实施 CORS**

通常在实现 GWT JAX-RS 客户端时，您将针对外部 REST 服务器调试 GWT 应用程序。[除非您实现CORS](http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/) ，否则这将不起作用，因为默认情况下，托管 GWT 应用程序的浏览器将不允许您的 JavaScript 代码联系不在同一域中运行的服务器。事实上，您甚至可以在本地开发 PC 上运行 REST 服务器，但仍然会遇到这些跨域问题，因为不同端口之间的调用也受到限制。

如果您使用的是 RESTEasy，则可以使用两种方法来实现 CORS。第一个是使用[MessageBodyInterceptors](http://docs.jboss.org/resteasy/docs/2.3.4.Final/userguide/html_single/#MessageBodyInterceptors)接口完成的。您提供 write() 方法，并使用 @Provider 和 @ServerInterceptor 注释来注释您的类。然后使用 write() 方法将“Access-Control-Allow-Origin”标头添加到任何简单请求的响应中（“简单”请求不设置自定义标头，请求正文仅使用纯文本）。

第二种方法处理 CORS 预检请求（对于可能对用户数据造成副作用的 HTTP 请求方法 - 特别是对于 GET 以外的 HTTP 方法，或者对于某些 MIME 类型的 POST 使用）。这些请求使用 HTTP OPTIONS 方法，并期望在回复中收到“Access-Control-Allow-Origin”、“Access-Control-Allow-Methods”和“Access-Control-Allow-Headers”标头。这在下面的 handleCORSRequest() 方法中得到了演示。

*笔记*

*下面的 REST 接口允许任何和所有 CORS 请求，从安全角度来看，这可能不适合。但是，假设在此级别阻止或限制 CORS 将提供任何程度的安全性是不明智的，因为[设置代理](http://developer.yahoo.com/javascript/howto-proxy.html)来代表客户端发出这些请求非常简单。*

```
@Path("/1")
@Provider
@ServerInterceptor
public class RESTv1 implements RESTInterfaceV1, MessageBodyWriterInterceptor
{
    @Override
    public void write(final MessageBodyWriterContext context) throws IOException, WebApplicationException
    {   context.getHeaders().add(RESTInterfaceV1.ACCESS_CONTROL_ALLOW_ORIGIN_HEADER, "*");
        context.proceed();      
    }

    @OPTIONS
    @Path("/{path:.*}")
    public Response handleCORSRequest(@HeaderParam(RESTInterfaceV1.ACCESS_CONTROL_REQUEST_METHOD) final String requestMethod, @HeaderParam(RESTInterfaceV1.ACCESS_CONTROL_REQUEST_HEADERS) final String requestHeaders)
    {
        final ResponseBuilder retValue = Response.ok();

        if (requestHeaders != null)
            retValue.header(RESTInterfaceV1.ACCESS_CONTROL_ALLOW_HEADERS, requestHeaders);

        if (requestMethod != null)
            retValue.header(RESTInterfaceV1.ACCESS_CONTROL_ALLOW_METHODS, requestMethod);

        retValue.header(RESTInterfaceV1.ACCESS_CONTROL_ALLOW_ORIGIN_HEADER, "*");

        return retValue.build();
    }

} 
```

有了这两种方法，对 REST 服务器的任何调用都将提供适当的响应以允许跨源请求。

**您需要接受并使用简单的 POJO 进行响应**

介绍说明了一个简单的 REST 接口，该接口以 Long 响应。JAX-RS 的 Java 和 GWT 实现都知道如何序列化和反序列化原语和简单的类，如 java.util 集合。

在现实世界的示例中，您的 REST 接口将响应更复杂的对象。这是不同实现可能发生冲突的地方。

首先，JAX-RS 和 Errai 使用不同的注解来自定义 JSON 和 Java 对象之间的对象编组。Errai 有像 @MapsTo 和 @Portable 这样的注解，而 RESTEasy（或 Jackson，[JSON 编组](http://docs.jboss.org/resteasy/docs/2.0.0.GA/userguide/html_single/index.html#json)器）使用像 @JsonIgnore 和 @JsonSerialize 这样的注解。这些注解是互斥的：GWT 会抱怨 Jackson 的注解，而 Jackson 不能使用 Errai 的注解。

简单的解决方案是在您的休息界面中使用一组简单的 POJO。简单来说，我的意思是类没有参数构造函数，并且只有 getter 和 setter 方法，这些方法与 JSON 对象通过网络传输时将出现的属性直接相关。Errai 和 Jackson 都可以使用其默认设置编组简单的 POJO，从而无需处理不兼容的注释。

Errai 和 Jackson 还从不同的地方获取 JSON 字符串中结果属性的名称。Jackson 将使用 getter 和 setter 方法的名称，而 Errai 将使用实例变量的名称。因此，请确保您的实例变量和 getter/setter 方法名称完全相同。还行吧：

```
public class Test
{
    private int count;
    public int getCount() {return count;}
    public void setCount(int count) {this.count = count;}
} 
```

这会导致问题：

```
public class Test
{
    private int myCount;
    public int getCount() {return myCount;}
    public void setCount(int count) {this.myCount = count;}
} 
```

其次，向这些 REST 数据对象添加其他方法以实现某些业务功能是很诱人的。但是，如果您这样做，很快就会尝试使用 GWT 不支持的类，并且您可能会对[GWT 不支持](https://developers.google.com/web-toolkit/doc/latest/DevGuideCodingBasicsCompatibility)的内容感到惊讶：日期格式、克隆数组、将字符串转换为byte[]... 这个列表还在继续。因此，最好坚持 REST 数据对象中的基础知识，并使用诸如组合或基于组件的设计之类的东西完全在 REST 数据对象继承树之外实现任何业务逻辑。

*笔记*

*如果没有 @Portable 注释，您将需要[在 ErraiApp.properties 文件中调用 REST 接口时手动列出所有使用 Errai 的类](http://docs.jboss.org/errai/2.0.CR2/errai/reference/html_single/#sid-5931328_Marshalling-AliasedMappingsofExistingInterfaceContracts)。*

*笔记*

*您还需要远离地图。有关详细信息，请参阅[此错误](https://issues.jboss.org/browse/ERRAI-295)。*

*笔记*

*您不能在 JSON 服务器返回的对象层次结构中使用嵌套参数化类型。有关详细信息，请参阅[此错误](https://issues.jboss.org/browse/ERRAI-319)和[此论坛帖子](https://community.jboss.org/thread/200995)。*

*笔记*

*Errai 有 byte[] 的问题。请改用列表。有关更多详细信息，请参阅[此论坛帖子](https://community.jboss.org/message/742912)。*

**您需要使用 Firefox 进行调试**

当涉及到使用 GWT 通过 REST 接口发送大量数据时，您将不得不使用 Firefox 调试您的应用程序。根据我自己的经验，即使将一个小文件编码为一个字节 [] 并通过网络发送它也会在 Chrome 中引起各种错误。当 JSON 编码器尝试处理损坏的数据时，会抛出各种不同的异常；在 GWT 应用程序的编译版本中或在 Firefox 上调试时看不到的异常。

不幸的是，谷歌没有设法让他们的 Firefox GWT 插件与 Mozilla 的新发布周期保持同步，但你经常可以在 GWT Google Groups 论坛中找到 Alan Leung 发布的非官方版本。[这个链接](https://groups.google.com/forum/#!starred/google-web-toolkit/7OR5LM1POzI)有一个 Firefox 12 的 GWT 插件版本，[这个链接](https://groups.google.com/forum/?fromgroups#!topic/google-web-toolkit/EoTbKTvJRyk)有一个 Firefox 13 的版本。

**您需要使用 Errai 2.1 或更高版本**

[只有 Errai 2.1 或更高版本会生成与 Jackson 兼容的 JSON，](https://issues.jboss.org/browse/ERRAI-295)如果您尝试将 GWT 与 RESTEasy 集成，这是必须的。杰克逊编组可以使用启用

```
RestClient.setJacksonMarshallingActive(true); 
```

或者

```
<script type="text/javascript">
  erraiJaxRsJacksonMarshallingActive = true;
</script> 
```

**您需要为高级功能创建单独的 JAX-RS 接口**

如果您的 JAX-RS REST 接口返回高级对象，例如[ATOM](http://docs.jboss.org/resteasy/docs/2.0.0.GA/userguide/html_single/index.html#Atom)（或者更重要的是，导入 org.jboss.resteasy.plugins.providers.atom.Feed 之类的类），您需要将 REST 接口拆分为两个 Java接口，因为 Errai 不知道这些对象，并且类可能不处于可以轻松导入 GWT 的状态。

一个接口可以保存普通的 JSON 和 XML 方法，而另一个可以保存 ATOM 方法。这样，您就可以避免在 GWT 应用程序中使用未知类引用接口。

*笔记*

*[Errai 目前仅支持 JSON 编组](http://docs.jboss.org/errai/2.0.0.Final/errai/reference/html_single/#sid-9470133)，尽管将来您可能能够定义自定义编组器。*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T04:46:22.213

为了实现 CORS（所以我当然可以获得跨站点请求），因为我正在使用 RESTEasy，我遵循了接受的答案建议的类，并且需要对其进行一些更改才能工作。这是我使用的：

```
//@Path("/1")
@Path("/") // I wanted to use for all of the resources
@Provider
@ServerInterceptor
public class RESTv1 implements RESTInterfaceV1, MessageBodyWriterInterceptor
{

    /* Enables the call from any origin. */
    /* To allow only a specific domain, say example.com, use "example.com" instead of "*" */
    @Override
    public void write(final MessageBodyWriterContext context) throws IOException, WebApplicationException
    {   context.getHeaders().add(RESTInterfaceV1.ACCESS_CONTROL_ALLOW_ORIGIN, "*");
        context.proceed();      
    }

    /* This is a RESTful method like any other.
    The browser sends an OPTION request to check if the domain accepts CORS.
    It sends via header (Access-Control-Request-Method) the method it wants to use, say 'post',
    and will only use it if it gets a header (Access-Control-Allow-Methods) back with the intended
    method in its value.
    The method below then checks for any Access-Control-Request-Method header sent and simply
    replies its value in a Access-Control-Allow-Methods, thus allowing any method to be used.

    The same applies to Access-Control-Request-Headers and Access-Control-Allow-Headers.
    */
    @OPTIONS
    @Path("/{path:.*}")
    public Response handleCORSRequest(
        @HeaderParam(RESTInterfaceV1.ACCESS_CONTROL_REQUEST_METHOD) final String requestMethod,
        @HeaderParam(RESTInterfaceV1.ACCESS_CONTROL_REQUEST_HEADERS) final String requestHeaders)
    {
        final ResponseBuilder retValue = Response.ok();

        if (requestHeaders != null)
            retValue.header(RESTInterfaceV1.ACCESS_CONTROL_ALLOW_HEADERS, requestHeaders);

        if (requestMethod != null)
            retValue.header(RESTInterfaceV1.ACCESS_CONTROL_ALLOW_METHODS, requestMethod);

        retValue.header(RESTInterfaceV1.ACCESS_CONTROL_ALLOW_ORIGIN, "*");

        return retValue.build();
    }
} 
```

小心，因为它将允许来自任何来源的请求（在两种方法中都`ACCESS_CONTROL_ALLOW_ORIGIN_HEADER`设置为`"*"`）。

这些常量的值如下：

```
public interface RESTInterfaceV1 {
    // names of the headers
    public static final String ACCESS_CONTROL_ALLOW_ORIGIN = "Access-Control-Allow-Origin";
    public static final String ACCESS_CONTROL_ALLOW_METHODS = "Access-Control-Allow-Methods";
    public static final String ACCESS_CONTROL_ALLOW_HEADERS = "Access-Control-Allow-Headers";
    public static final String ACCESS_CONTROL_REQUEST_HEADERS = "Access-Control-Request-Headers";
    public static final String ACCESS_CONTROL_REQUEST_METHOD = "Access-Control-Request-Method";
} 
```

就是这样！

- 一个

# php - 如何获取当前控制器名称和方法？

> ID：10909669
> 
> 赞同：1
> 
> 时间：2012-06-06T07:10:22.663
> 
> 标签：php, zend-framework, zend-framework2

在 Zend Framework 1 中，我可以通过以下方式获得它们：

```
$this->actionName = $this->getRequest()->getActionName();
$this->controllerName = $this->getRequest()->getControllerName(); 
```

在 Zend Framework 2 中，我不知道。如何获得`controllerName`and `actionName`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T14:39:55.187

在控制器中：

`$this->getEvent()->getRouteMatch()->getParam('action', 'NA'); $this->getEvent()->getRouteMatch()->getParam('controller', 'NA');`

（第二个参数是默认值）

# php - 如何从 Select Distinct 中排除表

> ID：10909672
> 
> 赞同：1
> 
> 时间：2012-06-06T07:10:32.573
> 
> 标签：php, mysql, arrays, select, distinct

我要疯了...

我想生成一个需要通过循环的表数组，但我不希望包含表“ClientData”。但是，无论我做什么，它都会不断出现在数组中...

我试过这个：

```
SELECT DISTINCT TABLE_NAME FROM INFORMATION_SCHEMA.COLUMNS
WHERE COLUMN_NAME IN ('QuoteID') AND
COLUMN_NAME NOT REGEXP '\\([^\\)]*ClientData.*\\)'
    AND TABLE_SCHEMA='$db'; 
```

我试过这个：

```
SELECT DISTINCT TABLE_NAME 
FROM INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_SCHEMA='$db' OR
`COLUMN_NAME` LIKE 'Training%' OR 
`COLUMN_NAME` LIKE 'Development%' OR  
`COLUMN_NAME` LIKE 'Hardware%' OR 
`COLUMN_NAME` LIKE 'MobilityL%' 
```

在第二种情况下，我尝试使用 LIKE 函数仅拉取我需要的表，但它仍然拉取 ClientData。我什至添加了：

```
`COLUMN_NAME` NOT LIKE 'ClientData' 
```

'Client%'的每一个变体......

我花光了。将不胜感激任何人有任何帮助。

* * *

虚拟现实，

你为我打破了大坝，谢谢！由于某种原因，我被 Column_name 所困扰，并且应该一直在思考 Table_name。尴尬...

我抄袭了您的 Table_name != 'ClientData' 并用 Table_name 替换了 Column_Name 过滤器，它非常完美。这是决赛：

```
SELECT DISTINCT TABLE_NAME 
FROM INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_SCHEMA='$db' OR
TABLE_NAME LIKE 'Training%' OR 
TABLE_NAME LIKE 'Development%' OR  
TABLE_NAME LIKE 'Hardware%' OR 
TABLE_NAME LIKE 'MobilityL%'  AND
TABLE_NAME != 'ClientData' 
```

**仅**使用TABLE_NAME != 'ClientData' 不是一个足够严格的过滤器，因为我还需要过滤掉一些其他表，但这是完美的。再次感谢。我的连续编码已经超过 50 小时以赶上最后期限（需要退出志愿服务！），这让我离睡眠更近了大约 2 小时。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:32:04.270

```
SELECT DISTINCT TABLE_NAME FROM INFORMATION_SCHEMA.COLUMNS
WHERE COLUMN_NAME IN ('QuoteID') AND
TABLE_NAME != 'ClientData'
AND TABLE_SCHEMA='$db'; 
```

# mysql - PowerDesigner CDM、PDM 和 MySQL

> ID：10909674
> 
> 赞同：0
> 
> 时间：2012-06-06T07:10:42.433
> 
> 标签：mysql, powerdesigner

我目前正在尝试使用 PowerDesigner，我想问两件事：

1.  从概念数据模型生成物理数据模型（PDM）和直接创建 PDM 有什么区别吗？
2.  有没有办法从 PowerDesigner 生成数据库到 MySQL。我尝试了但无法为 MySQL 创建 ODBC，因为在尝试创建数据源时没有可用的选项？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T13:46:08.637

1.  PowerDesigner 尝试跟踪 CDM 和 PDM 对象之间的链接。如果您更改（非规范化或重命名） PDM 中的某些内容、更改 CDM 中的某些内容并再次生成，它将使用此链接信息正确更新您的 PDM，而不仅仅是从 CDM 生成默认 PDM。

2.  您使用的是哪个版本的 PowerDesigner？您应该能够创建一个针对 MySQL DBMS 的 PDM；安装 Connector/ODBC 后，在 PowerDesigner 外部创建 ODBC 数据源；`Database > Connect`使用;连接到您的数据源 并在您的数据库中生成您的模型`Database > Generate Database`。

3.  不知道...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-11-09T22:30:46.533

广告 1：是的，有：工作量更大，您正在创建遗留代码，而不是可移植和持久的独立于数据库的设计。如果您的概念模型实际上看起来与您的数据库模型相同，则说明有问题。

正常的步骤是：CDM 到 LDM 到 PDM。我通常在 PowerDesigner 之外进行 CDM，因为 PowerDesigner 真的没有得到它，并且在他们的建模支持中做出了一些糟糕的选择。LDM 是您创建的第一个模型。这是一个独立于数据库的项目，您可以在其中为数据库建模适当的约束，包括超类型和子类型。如果您不使用它，您可能不会对所有约束进行建模，并且您最终可能会得到包含许多可选字段和“类型”字段的表。

如果您从 PDM 开始，那么您会丢失一些选项并将其绑定到数据库。虽然您可以很容易地更改这一点，但从 Oracle PDM 开始确实会限制您的选择，而不是从 SQL Server 等开始。它还倾向于支持与应用程序需求而非业务需求密切相关的建模选择，因此当应用程序被替换时，您最终不得不重新建模。

广告 2：见另一个答案。

# linux - “Linux”外壳中的引号中的引号中的引号

> ID：10909676
> 
> 赞同：1
> 
> 时间：2012-06-06T07:10:50.530
> 
> 标签：linux, shell, syntax, quotes

假设我有 shell 程序 a、b、c，每个程序都执行另一个程序的命令。由于某些原因，我需要引号。例子：

```
a 'b 'c 'echo test''' 
```

所以a 将调用b，b 将调用c，c 将调用'echo test'。您已经看到我的报价将被错误解释。另外，请注意 a、b 和 c 是调用 system() 的 C 程序。

有没有办法做到这一点，保留引号？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T08:17:48.523

您必须转义内部引号。不幸的是，单引号实际上是不可能的，所以我会对所有外部级别使用双引号，对最里面的引号使用单引号，因为双引号字符串可以包含单引号而不会转义。所以结果应该是：

```
a "b \"c 'echo test'\"" 
```

请注意，您需要为需要通过的每个级别添加反斜杠，因此如果 " 在最后一个级别使用，您需要

```
a "b \"c \\\"echo test\\\"\"" 
```

下一级将达到 7 个反斜杠，依此类推。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T08:44:31.733

我没有针对 C 的现成解决方案，但在这种情况下，建议将要引用的字符串替换为每个字符串`'`并将`'\''`所有内容包含在`'`.

1.  最里面的部分是`echo test`可以愉快地放入`''`并给予`c`：`c 'echo test'`。
2.  然后你想把那个字符串给`b`. 从这里开始，因为所说的字符串包含`'`s，所以你做`'`++你给 b `c '\''echo test'\''`: 。这里会发生什么？您已经为 的参数连接了几个连接部分：`'``b 'c '\''echo test'\'''``b`

    1.  `'c ', which becomes just`c`,
    2.  `\'`，变成`'`
    3.  `'echo test'`，这是`echo test`在剥离引号之后，
    4.  `\'`再次 ->`'`和
    5.  `''`这什么都不是，只是因为`'`原始字符串的末尾有一个而存在。如果手动处理它可以省略，但不值得在算法中付出努力。

    所以你`c 'echo test'`在取消引用之后得到，这表明所述算法应该有效。

3.  现在您`b 'c '\''echo test'\'''`再次执行此过程，以便为`a`: 提供参数，因此您将得到`a 'b '\''c '\''\'\'''\''echo test'\''\'\'''\'''\'''`.

4.  更棘手的是：你现在想把它放在一个 C 字符串中，所以你必须加倍`\`s: `system("a 'b '\\''c '\\''\\'\\'''\\''echo test'\\''\\'\\'''\\'''\\'''");`。

如果你对开始、结束和连续`'`s 进行上述优化，你会得到

```
b 'c '\''echo test'\' 
```

和

```
a 'b '\''c '\''\'\'\''echo test'\''\'\' 
```

分别

```
system("a 'b '\\''c '\\''\\'\\'\\''echo test'\\''\\'\\'"); 
```

.

或者，您可以不使用`'`并仅引用空格和 '\'，但这可能会更棘手......

让我尝试：

1.  c: `echo test`-> `echo\ test`-> `c echo\ test`。
2.  乙：`b c\ echo\\\ test`。
3.  一个：`a b\ c\\\ echo\\\\\\\ test`。
4.  系统：`system("a b\\ c\\\\\\ echo\\\\\\\\\\\\\\ test")`。

引用丑陋，但它的作品。

经测试

```
#!/usr/bin/env python
import sys

import subprocess
sp=subprocess.Popen(sys.argv[1], shell=True, stdout=subprocess.PIPE)
for line in sp.stdout:
    print "%s> %s" % (sys.argv[0], line),
exit(sp.wait()) 
```

作为`a`,`b`和`c`和

```
import os
print 1
os.system("a 'b '\\''c '\\''\\'\\'''\\''echo test'\\''\\'\\'''\\'''\\'''")
print 2
os.system("a 'b '\\''c '\\''\\'\\'\\''echo test'\\''\\'\\'")
print 3
os.system("a b\\ c\\\\\\ echo\\\\\\\\\\\\\\ test") 
```

作为`test.py`并调用

```
PATH=.:$PATH python -m test 
```

由于在这种情况下 python 具有与 C 相同的引用规则，因此这是一个足够的测试。

# sql - 如何根据 SQL Server Express 中的查询结果更新列值

> ID：10909679
> 
> 赞同：0
> 
> 时间：2012-06-06T07:10:58.203
> 
> 标签：sql, triggers, sql-server-express

我有两张桌子`Product`和`ProductInventory`. 我创建了一个 FULL Join 并进行了查询，它为我提供了`Makeflag`所有数量为零的产品。

如何操作输出，以便我可以将`Makeflag`所有数量变为 0 的产品的值更改为 1？

下面的查询实际上影响的`Makeflag`不仅仅是数量为零的产品的所有值。

我做错了什么......请帮忙！

```
Use AdventureWorks2008R2

Select 
    Quantity, MakeFlag 
from Production.ProductInventory
FULL Join AdventureWorks2008R2.Production.Product
ON ProductInventory.ProductID = Product.ProductID where Quantity = 0

update AdventureWorks2008R2.Production.Product set MakeFlag = 1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:17:47.107

这应该可以解决问题

```
update AdventureWorks2008R2.Production.Product set MakeFlag = 1 
WHERE ProductID IN (
  SELECT ProductID FROM from Production.ProductInventory where Quantity = 0
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:25:28.840

```
UPDATE AdventureWorks2008R2.Production.Product SET MakeFlag = 1
WHERE AdventureWorks2008R2.Production.Product.ProductId IN
(SELECT Product.ProductID from Production.ProductInventory FULL Join AdventureWorks2008R2.Production.Product ON ProductInventory.ProductID = Product.ProductID where Quantity = 0) 
```

# android - 在没有主 Activity 的情况下启动 Android 应用程序并在启动应用程序时启动服务

> ID：10909683
> 
> 赞同：97
> 
> 时间：2012-06-06T07:11:22.853
> 
> 标签：android, android-activity, android-service

我的应用程序中有以下场景。我的应用程序中没有 UI；相反，有一个服务在启动时启动并将持续运行。

如何在没有主 Activity 的情况下配置清单文件？我可以在没有任何活动的情况下启动我的应用程序吗？在启动我的应用程序时，我的服务应该启动。这可能吗？

我不想做一个半透明的活动来启动服务。

* * *

## 回答 #1

> 赞同：131
> 
> 时间：2012-06-06T07:14:29.510

你说你不想使用半透明的活动，但这似乎是最好的方法：

1.  在您的清单中，将活动主题设置为`Theme.Translucent.NoTitleBar`。
2.  不要为你的 Activity 布局而烦恼，也不要调用`setContentView()`.
3.  在您的 Activity 中`onCreate()`，使用 启动您的服务`startService()`。
4.  `finish()`启动服务后退出活动。

换句话说，您的 Activity 不必是可见的；它可以简单地确保您的服务正在运行然后退出，这听起来像您想要的。

我强烈建议至少向用户显示一个[Toast 通知](http://developer.android.com/reference/android/widget/Toast.html)，表明您正在启动服务，或者它已经在运行。启动器图标在您按下它时似乎没有任何作用，这是非常糟糕的用户体验。

* * *

## 回答 #2

> 赞同：35
> 
> 时间：2012-06-06T07:15:53.710

是的，您可以通过创建一个在应用程序启动时`BroadcastReceiver`调用您的方法来做到这一点。`Service`这是我给出的完整答案。
[**Android - 在启动时启动服务**](https://stackoverflow.com/questions/7690350/android-start-service-on-boot/7690600#7690600)

如果您不想要任何图标/启动器为您的应用程序，您也可以这样做，只是不要创建任何活动

```
<intent-filter>
    <action android:name="android.intent.action.MAIN" />
    <category android:name="android.intent.category.LAUNCHER" />
</intent-filter> 
```

只需声明您`Service`的正常声明即可。

* * *

## 回答 #3

> 赞同：19
> 
> 时间：2018-06-28T11:09:36.420

制作一个没有活动或服务的应用程序的原因可能是制作一个不需要启动的主屏幕小部件应用程序。
一旦你开始一个项目，不要创建任何活动。创建项目后，只需点击运行。Android工作室会说`No default activity found`。

单击**Edit Configuration**（从**Run**菜单中）并在*Launch 选项*部分中将**Launch**值设置为**Nothing**。然后单击确定并运行应用程序。

> **注意**：由于应用程序没有*启动器活动*，因此应用程序菜单中不会显示任何图标。相反，在设备的应用程序管理器中查找它。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2017-10-19T23:57:59.357

安卓工作室 2.3 版

您可以通过几个简单的步骤来创建没有主活动的服务。您将能够通过 Android Studio 安装此应用并像普通应用一样对其进行调试。

首先，在 Android Studio 中创建一个没有活动的项目。然后创建您的服务类并将服务添加到您的 AndroidManifest.xml

```
<application android:allowBackup="true"
    android:label="@string/app_name"
    android:icon="@mipmap/ic_launcher"
    android:roundIcon="@mipmap/ic_launcher_round"
    android:supportsRtl="true"
    android:theme="@style/AppTheme">
    <service android:name="com.whatever.myservice.MyService">
        <intent-filter>
            <action android:name="com.whatever.myservice.MyService" />
        </intent-filter>
    </service>
</application> 
```

现在，在“运行”按钮（绿色箭头）旁边的下拉菜单中，转到“编辑配置”并在“启动选项”中选择“无”。这将允许您安装您的服务，而 Android Studio 不会抱怨没有主 Activity。

安装后，该服务将不会运行，但您将能够使用此 adb shell 命令启动它...

```
am startservice -n com.whatever.myservice/.MyService 
```

可以检查它是否正在运行...

```
ps | grep whatever 
```

我还没有尝试过，但您也可以让 Android Studio 自动启动该服务。这将在“编辑配置”菜单中完成。

# linux - 在同一终端中一次运行并行多个命令

> ID：10909685
> 
> 赞同：86
> 
> 时间：2012-06-06T07:11:24.587
> 
> 标签：linux, bash

我想运行一些命令，在按下 Ctrl-C 之前每个命令都不会退出。有什么我可以运行一次运行所有它们，并且 Ctrl-C 会退出它们吗？他们可以共享终端输出。

具体来说，我有 compass 编译器、coffeescript 编译器和一个监视文件更改的自定义命令，所有这些命令都在运行监视文件更改。我不想为每个命令加载一个终端。

* * *

## 回答 #1

> 赞同：136
> 
> 时间：2012-06-06T07:23:08.790

此 bash 脚本适用于 N 个并行线程。每个参数都是一个命令。

`trap`当 SIGINT 被捕获时将杀死所有子进程。
`wait $PID_LIST`正在等待每个过程完成。当所有进程都完成后，程序退出。

```
#!/bin/bash

for cmd in "$@"; do {
  echo "Process \"$cmd\" started";
  $cmd & pid=$!
  PID_LIST+=" $pid";
} done

trap "kill $PID_LIST" SIGINT

echo "Parallel processes have started";

wait $PID_LIST

echo
echo "All processes have completed"; 
```

将此脚本另存为`parallel_commands`并使其可执行。
这是如何使用这个脚本：

```
parallel_commands "cmd arg0 arg1 arg2" "other_cmd arg0 arg2 arg3" 
```

例子：

```
parallel_commands "sleep 1" "sleep 2" "sleep 3" "sleep 4" 
```

启动 4 个并行睡眠并等待“睡眠 4”完成。

* * *

## 回答 #2

> 赞同：102
> 
> 时间：2016-07-24T16:51:58.697

基于@alessandro-pezzato 的评论。通过在命令之间使用来运行多个`&`命令。

例子：

```
$ sleep 3 & sleep 5 & sleep 2 & 
```

它将在后台执行命令。

* * *

## 回答 #3

> 赞同：38
> 
> 时间：2014-07-25T17:22:34.167

使用[GNU 并行](https://savannah.gnu.org/projects/parallel/)：

```
(echo command1; echo command2) | parallel
parallel ::: command1 command2 
```

杀死：

```
parallel ::: command1 command2 &
PID=$!
kill -TERM $PID
kill -TERM $PID 
```

参考[gnu.org 站点](https://www.gnu.org/software/parallel/)。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2018-04-11T13:00:17.343

可以使用简单的 Makefile 来完成：

```
sleep%:
        sleep $(subst sleep,,$@)
        @echo $@ done. 
```

使用`-j`选项。

```
$ make -j sleep3 sleep2 sleep1
sleep 3
sleep 2
sleep 1
sleep1 done.
sleep2 done.
sleep3 done. 
```

如果没有`-j`选项，它会串行执行。

```
$ make -j sleep3 sleep2 sleep1
sleep 3
sleep3 done.
sleep 2
sleep2 done.
sleep 1
sleep1 done. 
```

您也可以使用 `-n' 选项进行试运行。

```
$ make -j -n sleep3 sleep2 sleep1
sleep 3
sleep 2
sleep 1 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-04-10T06:19:41.747

我建议使用我刚刚编写的更简单的实用程序。它目前称为 par，但很快将重命名为 parl 或 pll，尚未决定。

[https://github.com/k-bx/par](https://github.com/k-bx/par)

API 很简单：

```
par "script1.sh" "script2.sh" "script3.sh" 
```

前缀命令可以通过以下方式完成：

```
par "PARPREFIX=[script1] script1.sh" "script2.sh" "script3.sh" 
```

* * *

## 回答 #6

> 赞同：-14
> 
> 时间：2017-06-03T10:28:05.800

要运行多个命令，只需`&&`在两个命令之间添加，如下所示：`command1 && command2`

如果您想在两个不同的终端中运行它们，那么您可以这样做：

```
gnome-terminal -e "command1" && gnome-terminal -e "command2" 
```

这将打开 2 个终端`command1`并`command2`在其中执行。

希望这对您有所帮助。

# wpf - 根据内部内容的可见性隐藏网格行

> ID：10909688
> 
> 赞同：0
> 
> 时间：2012-06-06T07:11:43.587
> 
> 标签：wpf, grid, height

我有一个带有一些行的网格。行的高度是相对于窗口大小设置的，如下所示：

```
<Grid>
    <Grid.RowDefinitions>
        <RowDefinition Height="0.3*" />
        <RowDefinition Height="0.2*" />
        <RowDefinition Height="0.2*" />
        <RowDefinition Height="0.1*" /> <!-- hide this row -->
        <RowDefinition Height="0.2*" />
    </Grid.RowDefinitions>
</Grid> 
```

现在我想根据绑定属性隐藏一行的内容。因此我将`Visiblity`内容对象的属性设置为`Collapsed`. 内容的`Visiblity`工作正常，但该行仍然需要原始空间。

当内容的可见性折叠时，有没有办法隐藏该行？注意：我不想在 to 中设置`Height`，`RowDefinition`因为`Auto`我无法将`Height`相对设置为 Window 大小，并且行的高度会调整为行内内容的高度。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:34:09.313

您可以将行的 Height 属性绑定到绑定的属性。

然后你需要一个从 typeof(binded property) 到 System.Windows.GridLength 的转换器（IValueConverter 的实现）。

也许像

```
[ValueConversion(typeof(System.Windows.Visibility), typeof(System.Windows.GridLength))]
public class VisibToHeightConv : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        bool b = (boolean)value;

        if (b == true)
            return new System.Windows.GridLength(0, System.Windows.GridUnitType.Star);
        else
            return new System.Windows.GridLength(80, System.Windows.GridUnitType.Star);
    }

    public object ConvertBack(object value, Type targetType, object parameter,   System.Globalization.CultureInfo culture)
    {
        throw new NotImplementedException();
    }
} 
```

# markdown - 降价列表标识

> ID：10909690
> 
> 赞同：0
> 
> 时间：2012-06-06T07:11:46.940
> 
> 标签：markdown

我想知道在使用列表时如何在降价中打破标识。

*   清单 1

    *   清单 2

        *   清单 3

            1.  新名单

使用的代码是

```
* List 1
    * List 2
       * List 3
1\. New list 
```

问题是我希望 1.New 列表位于行首。

```
* List 1  
   * List 2   
      * List 3
1\. New List 
```

我知道，如果我在行首包含一些未标识的文本，则新列表项放置正确。

* * *

例子

*   清单 1
    *   清单 2
        *   清单 3

中间的文字

1.  新名单

* * *

但我怎么能用一个空行呢？

助教

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T15:38:03.487

[在这里](https://stackoverflow.com/questions/7976324/markdown-lists-under-each-other "降价列表彼此下方 - Thinbug")找到可能的解决方案，可能并不优雅，但它似乎有效。

还有什么建议吗？

# java - maven 没有构建父 pom

> ID：10909692
> 
> 赞同：2
> 
> 时间：2012-06-06T07:11:55.863
> 
> 标签：java, maven-3

我已经为子 pom 包含了一个父 pom ..但是在构建子 pom 时 ..而不是构建 parent ..它尝试从存储库下载它并给出无法下载它的错误，因此失败。这是孩子的pom：

```
 <parent>
        <groupId>com.mygroup1</groupId>
        <artifactId>base</artifactId>
        <relativePath>../Base/pom.xml</relativePath>
        <version>1.0</version>
   </parent>

  <modelVersion>4.0.0</modelVersion>
  <groupId>com.mygroup2.client</groupId>
  <artifactId>client</artifactId>
  <packaging>jar</packaging>
  <version>some-version</version> 
```

基础 pom 为：

```
<groupId>com.mygroup1</groupId>
  <artifactId>base</artifactId>
  <packaging>pom</packaging>
  <version>1.0</version> 
```

在父级之前先构建子级..而不是构建父级，它会给出这个错误：`Could not find artifact com.mygroup1:base:pom:1.0 in <artifactory name>` 那么应该先显式地构建父级吗？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T07:45:26.033

您的项目结构如何？这只有在它是聚合器的一部分时才有效。仅仅指定 a`<parent/>`不会自动让 Maven 构建它，它只会告诉它使用哪个父级。另一方面，如果父模块和子模块都定义为`<modules/>`聚合器，则父模块将首先构建。

此外，如果您有一个聚合器，但您只是尝试从子模块中构建，则不会构建父模块。

# spring - 用于 Spring webflow 和 JSP 的 AJAX

> ID：10909693
> 
> 赞同：0
> 
> 时间：2012-06-06T07:11:57.540
> 
> 标签：spring, jsp, spring-webflow-2

我想在我正在处理的 Web 表单中添加 JavaScript 自动完成功能。我正在使用 NetBeans 7.1、Spring Framework 3.0.6 和 Webflow 2.3。如果可能的话，我宁愿使用 JSP（而不是 Tiles）。

如果您可以建议我遵循的方法或一些书面指南。我已经有一个五页表单的网络流。我认为如果我可以添加此功能，自动完成将使相当复杂的表单更加用户友好。AJAX 需要首先从服务器返回一个 ID 和名称（目前是第 1 页），然后验证输入的用户是否已经存在（可能在两页后再次使用自动完成以避免重复的数据库条目）。

任何有关方法和/或指南的建议将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T13:38:33.630

因此，您正在尝试自动完成之前在表单中输入的内容？

Webflow 允许有状态 bean，如果您的表单都在同一个流中，请确保您的 bean 设置为 flowScope，并通过 ajax 调用从该 bean 返回您需要的信息。

# ios - 如何在 iOS 设备上播放具有多个备用音轨的视频？

> ID：10909695
> 
> 赞同：1
> 
> 时间：2012-06-06T07:12:14.350
> 
> 标签：ios

我有一个包含多个备用音轨（不同语言）的视频文件。在 Flash 中，使用 OSMF，可以为客户端提供在不同音轨之间进行选择的选项。如何在 iOS 设备上获得相同的功能？本地播放器可以处理吗？

谢谢， 阿普尔瓦

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-08T06:08:40.963

**不幸的是，您无法在 iOS 上播放 Flash。本机播放器无法播放不同的音轨。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-23T05:33:12.420

如果将视频中的音轨分离到单独的文件中，则可以使用单独的播放器（分别为 MPMoviePlayerController 和 AVAudioPlayer）并行播放视频和音频。当然，你必须做一些编程才能同步播放音频和视频。

# drupal - 在 Drupal 7 中删除日历选项卡

> ID：10909696
> 
> 赞同：1
> 
> 时间：2012-06-06T07:12:21.447
> 
> 标签：drupal, drupal-7

我想在 Drupal 7 的日历模块上删除或隐藏（没有 CSS 显示方法）[月] [年] [周] [日] 的选项卡。

我附上了这张图片：

![在此处输入图像描述](../Images/d1b58024102c19f55f9c8d0e1312036a.png)

有人知道怎么删除吗？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T09:15:13.767

日历视图的页面设置中有一个选项可以显示或不显示菜单项！您可以检查每个选项卡的“无菜单条目”类型，它是隐藏的！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:20:51.540

您可以使用 tab tamer 模块[http://drupal.org/project/tabtamer](http://drupal.org/project/tabtamer)。因为该模块将帮助您隐藏或删除选项卡。

# php - CodeIgniter 在同一个控制器中加载多个模型

> ID：10909697
> 
> 赞同：7
> 
> 时间：2012-06-06T07:12:22.447
> 
> 标签：php, oop, codeigniter

这些是控制器

```
class Dashboard extends CI_Controller{
public function __construct(){
    parent::__construct();
    $this->load->model("admin/post_model");
    $this->load->model("admin/comment_model");
}
    public function index(){
    $data['post_res'] = $this->post_model->getPost();
    $data['com_res']  = $this->post_model->getComments();
    }
 } 
```

我无法在同一个控制器中加载 2 个模型。它给了我一个错误

```
Fatal error: Call to a member function getComments() on a non-object in C:\xampp\htdocs\blog\application\controllers\ram-admin\dashboard.php on line 13 
```

我怎么可能加载模型？

提前非常感谢您！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T07:18:33.097

尝试这个

```
class Dashboard extends CI_Controller {
 function __construct() {
      parent::__construct(); 

    $this->load->model("admin/post_model","post_model");
    $this->load->model("admin/comment_model","comment_model");
  }

public function index(){

    $data['post_res'] = $this->post_model->getPost();
    $data['com_res']  = $this->comment_model->getComments();
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-23T05:28:23.350

检查模型是否正确扩展了`CI_Model`for`comment_model`和`post_model`

**示例**：

```
 class comment_model extends CI_Model{    

   }

  class post_model extends CI_Model{    

   } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-06T07:16:37.273

*getComments(* ) 是**comment_model**，而不是 post_model..

您可以通过传递第二个参数来命名您的模型；

```
$this->load->model('admin/comment_model', 'comments');
$data['com_res'] = $this->comments->getComments(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T08:00:50.330

这很奇怪

我只是把这行代码

```
 $this->load->model("admin/comment_model","comment_model"); 
```

在这之前

```
 $this->load->model("admin/page_model","page_model"); 
```

现在它工作正常:)

谢谢大家的回复！

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-06-06T07:16:47.357

对于多个模型，您可以这样做：

```
$models = array(
    'menu_model' => 'mmodel',
    'user_model' => 'umodel',
    'admin_model' => 'amodel',
);

foreach ($models as $file => $object_name)
{
    $this->load->model($file, $object_name);
} 
```

但如前所述，您可以创建文件 application/core/MY_Loader.php 并编写自己的加载模型的方法。我认为这可能有效（未经测试）：

```
class MY_Loader extends CI_Loader {

    function model($model, $name = '', $db_conn = FALSE)
    {
        if (is_array($model))
        {
            foreach ($model as $file => $object_name)
            {
                // Linear array was passed, be backwards compatible.
                // CI already allows loading models as arrays, but does
                // not accept the model name param, just the file name
                if ( ! is_string($file)) 
                {
                    $file = $object_name;
                    $object_name = NULL;
                }
                parent::model($file, $object_name);
            }
            return;
        }

        // Call the default method otherwise
        parent::model($model, $name, $db_conn);
    }
} 
```

从上面使用我们的变量：

```
$this->load->model($models); 
```

您还可以允许在数组中传递单独的数据库连接，但是您需要有一个多维数组，而不是我们使用的简单数组。无论如何，您并不经常需要这样做。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-06-06T07:17:56.647

只需使用上述数组中的模型名称即可。

```
$this->load->model(array("admin/post_model", "admin/comment_model")); 
```

# forms - 提交期间的 Alfresco 表单验证

> ID：10909698
> 
> 赞同：0
> 
> 时间：2012-06-06T07:12:23.477
> 
> 标签：forms, validation, alfresco

我想使用表单引擎添加表单验证。此链接显示 alfresco 表单字段验证示例[http://blog.mwrobel.eu/field-validation-alfresco-share-form/](http://blog.mwrobel.eu/field-validation-alfresco-share-form/)。但我想知道如何在提交期间验证表单。你能给我看一些代码示例吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T11:56:44.597

不小心我是 mwrobel.eu ;)

你真的确定你需要在提交时验证一些东西吗？由于表单引擎和冲浪引擎，您必须深入挖掘露天资源才能做到这一点。扩展 Share 的最佳方式是使用 JS 来实现。

请记住，我在博客文章中所说的不仅仅是使用 JS 验证表单的方法。例如，您还可以覆盖 control&forms .ftl 并在其中嵌入您自己的验证 JS 代码。这肯定比深入 alfresco 共享 java 类更容易。

[在这里您可以找到可以覆盖的 .ftls 列表](http://wiki.alfresco.com/wiki/Forms)

# php - 在这种情况下如何进行测试？

> ID：10909704
> 
> 赞同：1
> 
> 时间：2012-06-06T07:13:10.400
> 
> 标签：php

有两个`array`：

```
$tClasseMenu = array();
$tDroitsClassMenu = array();
for ($i = 0; $i < $data['user']['classMenus']['cnt']; $i++)
{
    $tClasseMenu[$i] = $data['user']['classMenus'][$i]['class_menu_code'];
    for ($j = 0; $j < $data['user']['droit']['cnt']; $j++)
    {
        $tDroitsClassMenu[$i][$j] = $data['user']['droit'][$j]['class_menu_code'];
    }
} 
```

这些数组中的数据示例如下：

```
class_menu_code = 7 , droit classmenucode = 6
class_menu_code = 7 , droit classmenucode = 6
class_menu_code = 7 , droit classmenucode = 6
class_menu_code = 7 , droit classmenucode = 6
class_menu_code = 7 , droit classmenucode = 6
class_menu_code = 7 , droit classmenucode = 4
class_menu_code = 7 , droit classmenucode = 4
class_menu_code = 7 , droit classmenucode = 4
class_menu_code = 7 , droit classmenucode = 4
class_menu_code = 7 , droit classmenucode = 4
class_menu_code = 7 , droit classmenucode = 2
class_menu_code = 7 , droit classmenucode = 2
class_menu_code = 7 , droit classmenucode = 2
class_menu_code = 7 , droit classmenucode = 2
class_menu_code = 7 , droit classmenucode = 2
class_menu_code = 7 , droit classmenucode = 2
class_menu_code = 8 , droit classmenucode = 6
class_menu_code = 8 , droit classmenucode = 6
class_menu_code = 8 , droit classmenucode = 6
class_menu_code = 8 , droit classmenucode = 6
class_menu_code = 8 , droit classmenucode = 6
class_menu_code = 8 , droit classmenucode = 4
class_menu_code = 8 , droit classmenucode = 4
class_menu_code = 8 , droit classmenucode = 4
class_menu_code = 8 , droit classmenucode = 4
class_menu_code = 8 , droit classmenucode = 4
class_menu_code = 8 , droit classmenucode = 2
class_menu_code = 8 , droit classmenucode = 2
class_menu_code = 8 , droit classmenucode = 2
class_menu_code = 8 , droit classmenucode = 2
class_menu_code = 8 , droit classmenucode = 2
class_menu_code = 8 , droit classmenucode = 2
class_menu_code = 3 , droit classmenucode = 6
class_menu_code = 3 , droit classmenucode = 6
class_menu_code = 3 , droit classmenucode = 6
class_menu_code = 3 , droit classmenucode = 6
class_menu_code = 3 , droit classmenucode = 6
class_menu_code = 3 , droit classmenucode = 4
class_menu_code = 3 , droit classmenucode = 4
class_menu_code = 3 , droit classmenucode = 4
class_menu_code = 3 , droit classmenucode = 4
class_menu_code = 3 , droit classmenucode = 4
class_menu_code = 3 , droit classmenucode = 2
class_menu_code = 3 , droit classmenucode = 2
class_menu_code = 3 , droit classmenucode = 2
class_menu_code = 3 , droit classmenucode = 2
class_menu_code = 3 , droit classmenucode = 2
class_menu_code = 3 , droit classmenucode = 2
class_menu_code = 1 , droit classmenucode = 6
class_menu_code = 1 , droit classmenucode = 6
class_menu_code = 1 , droit classmenucode = 6
class_menu_code = 1 , droit classmenucode = 6
class_menu_code = 1 , droit classmenucode = 6
class_menu_code = 1 , droit classmenucode = 4
class_menu_code = 1 , droit classmenucode = 4
class_menu_code = 1 , droit classmenucode = 4
class_menu_code = 1 , droit classmenucode = 4
class_menu_code = 1 , droit classmenucode = 4
class_menu_code = 1 , droit classmenucode = 2
class_menu_code = 1 , droit classmenucode = 2
class_menu_code = 1 , droit classmenucode = 2
class_menu_code = 1 , droit classmenucode = 2
class_menu_code = 1 , droit classmenucode = 2
class_menu_code = 1 , droit classmenucode = 2
class_menu_code = 5 , droit classmenucode = 6
class_menu_code = 5 , droit classmenucode = 6
class_menu_code = 5 , droit classmenucode = 6
class_menu_code = 5 , droit classmenucode = 6
class_menu_code = 5 , droit classmenucode = 6
class_menu_code = 5 , droit classmenucode = 4
class_menu_code = 5 , droit classmenucode = 4
class_menu_code = 5 , droit classmenucode = 4
class_menu_code = 5 , droit classmenucode = 4
class_menu_code = 5 , droit classmenucode = 4
class_menu_code = 5 , droit classmenucode = 2
class_menu_code = 5 , droit classmenucode = 2
class_menu_code = 5 , droit classmenucode = 2
class_menu_code = 5 , droit classmenucode = 2
class_menu_code = 5 , droit classmenucode = 2
class_menu_code = 5 , droit classmenucode = 2
class_menu_code = 6 , droit classmenucode = 6
class_menu_code = 6 , droit classmenucode = 6
class_menu_code = 6 , droit classmenucode = 6
class_menu_code = 6 , droit classmenucode = 6
class_menu_code = 6 , droit classmenucode = 6
class_menu_code = 6 , droit classmenucode = 4
class_menu_code = 6 , droit classmenucode = 4
class_menu_code = 6 , droit classmenucode = 4
class_menu_code = 6 , droit classmenucode = 4
class_menu_code = 6 , droit classmenucode = 4
class_menu_code = 6 , droit classmenucode = 2
class_menu_code = 6 , droit classmenucode = 2
class_menu_code = 6 , droit classmenucode = 2
class_menu_code = 6 , droit classmenucode = 2
class_menu_code = 6 , droit classmenucode = 2
class_menu_code = 6 , droit classmenucode = 2
class_menu_code = 4 , droit classmenucode = 6
class_menu_code = 4 , droit classmenucode = 6
class_menu_code = 4 , droit classmenucode = 6
class_menu_code = 4 , droit classmenucode = 6
class_menu_code = 4 , droit classmenucode = 6
class_menu_code = 4 , droit classmenucode = 4
class_menu_code = 4 , droit classmenucode = 4
class_menu_code = 4 , droit classmenucode = 4
class_menu_code = 4 , droit classmenucode = 4
class_menu_code = 4 , droit classmenucode = 4
class_menu_code = 4 , droit classmenucode = 2
class_menu_code = 4 , droit classmenucode = 2
class_menu_code = 4 , droit classmenucode = 2
class_menu_code = 4 , droit classmenucode = 2
class_menu_code = 4 , droit classmenucode = 2
class_menu_code = 4 , droit classmenucode = 2
class_menu_code = 2 , droit classmenucode = 6
class_menu_code = 2 , droit classmenucode = 6
class_menu_code = 2 , droit classmenucode = 6
class_menu_code = 2 , droit classmenucode = 6
class_menu_code = 2 , droit classmenucode = 6
class_menu_code = 2 , droit classmenucode = 4
class_menu_code = 2 , droit classmenucode = 4
class_menu_code = 2 , droit classmenucode = 4
class_menu_code = 2 , droit classmenucode = 4
class_menu_code = 2 , droit classmenucode = 4
class_menu_code = 2 , droit classmenucode = 2
class_menu_code = 2 , droit classmenucode = 2
class_menu_code = 2 , droit classmenucode = 2
class_menu_code = 2 , droit classmenucode = 2
class_menu_code = 2 , droit classmenucode = 2
class_menu_code = 2 , droit classmenucode = 2
class_menu_code = , droit classmenucode = 6
class_menu_code = , droit classmenucode = 6
class_menu_code = , droit classmenucode = 6
class_menu_code = , droit classmenucode = 6
class_menu_code = , droit classmenucode = 6
class_menu_code = , droit classmenucode = 4
class_menu_code = , droit classmenucode = 4
class_menu_code = , droit classmenucode = 4
class_menu_code = , droit classmenucode = 4
class_menu_code = , droit classmenucode = 4
class_menu_code = , droit classmenucode = 2
class_menu_code = , droit classmenucode = 2
class_menu_code = , droit classmenucode = 2
class_menu_code = , droit classmenucode = 2
class_menu_code = , droit classmenucode = 2
class_menu_code = , droit classmenucode = 2 
```

如何测试 $tClasseMenu 中的值是否存在于 $tDroitsClassMenu 中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:19:41.787

PHP 的原生[`array_intersect`](http://php.net/manual/en/function.array-intersect.php)函数会告诉您一个数组中的哪些值出现在另一个数组中：

```
$result = array_intersect( $tClassMenu, $tDroitsClassMenu ); 
```

如果`$result`为空，则您没有相交点。否则，`$result`将填充两个数组之间相交的所有点。

来源： http: [//php.net/manual/en/function.array-intersect.php](http://php.net/manual/en/function.array-intersect.php)

# objective-c - exportAsynchronouslyWithCompletionHandler: 不工作

> ID：10909709
> 
> 赞同：0
> 
> 时间：2012-06-06T07:13:17.547
> 
> 标签：objective-c, ios, ios4, cocos2d-iphone

我正在创建视频剪辑并将其导出到文档目录中的新文件。它适用于视频总时长的一半。但是如果我在后半部分选择剪辑时间，它不会执行 [export exportAsynchronouslyWithCompletionHandler::^{}];

一段时间后，它会给出错误消息 MP AVAudioSessionDelegateMediaPlayerOnly 结束中断。中断器类别可恢复 <0>，_state = 0

我无法弄清楚为什么它会这样。类似的方式，如果我正在编辑音频文件，它对双方都很好。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T14:53:55.490

你也可以看看这个线程：[https ://stackoverflow.com/a/9524291/1179680](https://stackoverflow.com/a/9524291/1179680)

使用此代码：

```
 [exportSession exportAsynchronouslyWithCompletionHandler:^(void) 
   {
     dispatch_async(dispatch_get_main_queue(), ^{
     NSLog(@"Export Complete %d %@", exportSession.status, exportSession.error);
    });

  }]; 
```

至于我，如果没有它，`dispatch_async`我无法让它在 iOS 5.0.1 中运行，但它在 iOS 6.0 中运行良好，只需添加该`dispatch_async`行以确保您在正确的线程上运行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T09:51:27.527

未正确选择剪辑持续时间。视频剪辑选择的结束时间超过了持续时间。更正时间选择后，它工作正常。

# java - 了解多重继承和接口

> ID：10909717
> 
> 赞同：0
> 
> 时间：2012-06-06T07:14:07.693
> 
> 标签：java, oop, interface, multiple-inheritance

我在一定程度上理解多重继承和接口。是否可以使用多重继承来实现我的要求？

我有分别实现接口 InterA、InterB、InterC、InterD 的 A、B、C、D 类。我想要一个类 ABCD，它应该具有 A、B、C、D 的所有方法。然后我想要在类 ABCD 中可用的 InterA、InterB、InterC、InterD 中声明的方法。

我已经在 A、B、C、D 类中定义了 InterA、InterB、InterC、InterD 中的方法实现，我不想在 ABCD 类中再次定义这些方法。我怎样才能在 Java 中做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:23:58.437

接口的目的是确保实现该接口的类将实现该接口中声明的所有方法。

例如：

```
public interface Flyer {

    public void fly();
} 
```

上面的接口保证了任何实现 Flyer 接口的 Java 类都会有 fly 方法的实现，而不管飞行是如何实现的。

例如：

```
public class Bird implements Flyer {

    public void fly() {
        System.out.println("Bird is flapping");
    }
} 
```

另一个例如：

```
public class Eagle implements Flyer {

    public void fly() {
        System.out.println("Eagle is soaring");
    }
} 
```

有了接口，我确信尽管实现不同，fly() 方法仍然存在。

因此，如果您想要一个具有 4 个不同接口行为的类 ABCD，如接口 A、B、C 和 D 中指定的，那么您可以实现：

```
public class ABCD implements A,B,C,D {

    // methods here
} 
```

通常，我们使用接口来继承行为，使用父/子类来继承模型。

那么我们如何使用 Flyer 界面呢？

示例代码：

```
public class FlyerTest {

    public static void main (String [] args) {
        Flyer flyer = new Eagle();
        flyer.fly();    // Prints out "Eagle is soaring"

        flyer = new Bird();
        flyer.fly();    // Prints out "Bird is flapping"
    }

} 
```

如您所见，只要我有一个 Flyer，我就确信“fly”方法会有一个实现。这让我无需怀疑该方法是否真的存在。

这就是我们使用接口来继承行为的原因。

希望您对多重继承有更好的理解。

为了回答您的核心问题，面向对象的编程通常有助于促进代码重用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:21:04.567

由于**Java 中没有多重继承，**因此您必须求助于**聚合**：

```
class ABCD implements InterA, InterB, InterC, InterD
{
   A implA;
   B implB;
   C implC;
   D implD;

   ABCD(A pimplA, B pimplB, C pimplC, D pimplD)
   {
     implA = pimplA;
     implB = pimplB;
     implC = pimplC;
     implD = pimplD;
  }

  // @overidde methods from InterA as return implA ->method();
  // @overidde methods from InterB as return implB ->method();
  // @overidde methods from InterC as return implC ->method();
  // @overidde methods from InterD as return implD ->method();
} 
```

这样你只需要创建一些 A、B、C 和 D 的实例，并在构建 ABCD 时传递它们。然后**ABCD 只需要调用他们的方法**。

通过这样做，您将**重用 A、B、C 和 D 的实现**。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T07:20:42.723

java中没有“真正的”多重继承这样的东西。你不能做某事。你`public class D extends C,B,A {}` 所能做的就是实现多个接口，或者你可以让 B 扩展 A，C 扩展 B 和 D 扩展 C

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T07:26:10.560

java中没有多重继承。为什么不直接在 ABCD 中创建这些类的对象并使用它们来访问这些类的方法呢？

# objective-c - 具有自定义初始化的子类 UIView - 这是理智的吗？

> ID：10909720
> 
> 赞同：0
> 
> 时间：2012-06-06T07:14:12.503
> 
> 标签：objective-c, uiview

我一直在寻找最佳实践以及创建自定义、可重用视图组件的方法。到目前为止，似乎自定义 UIView 子类是要走的路。

在这种情况下，我所需要的只是一个可以轻松访问标签的固定大小的视图，并且方便的初始化程序会很棒。我可以标记标签并使用常量，但考虑到这一点似乎没有必要（删除了 UIKit 导入的样板）（使用 ARC）：

```
// .h file
@interface MyView : UIView
@property (nonatomic, weak) IBOutlet UILabel *label;
+ (id)withText:(NSString *)text;
@end

// .m file
@implementation MyView
+ (id)withText:(NSString *)text {
    MyView *view = [[[NSBundle mainBundle] loadNibNamed:NSStringFromClass([self class])
                                                  owner:nil
                                                options:nil] objectAtIndex:0];
    view.label.text = text;
    return view;
}
@end 
```

（编辑：更改为类方法。我的担忧仍然没有改变，尽管总体上不那么可疑）

MyView.xib 文件的唯一顶级元素（UIView）有一个自定义类设置为 MyView，并且插座连接到 FileOwner。

而且……这行得通。完美。它在我使用它的任何地方都能正确呈现，没有例外，没有剪裁，我看不到任何有趣的事情。

至今。我有点担心：

1.  我还没有在任何地方看到这种技术。当然，我一直在寻找相对较短的时间（几个小时，被动地）。
2.  我没有对 initWithFrame: / Coder: 等进行任何推荐的覆盖。
3.  我现在只在一个极其有限的领域使用它，因此对于视图消失、绘图性能未知、我没有彻底检查内存泄漏等情况，它还没有*经过*很好的测试。
4.  我几乎可以肯定我错过了什么。很可能我会在更多使用它时很快找到它，但我可能找不到所有这些。

有比我更多的 UIView 经验的人介意借用他们的大脑吗？这是一个好主意吗？一个可怕的“天哪，你在想什么”的想法？有惊喜等着我吗？关于如何创建这样的简单自定义视图，我应该阅读一些内容吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:10:35.833

您应该阅读[有关初始化程序的 Apple 文档](https://developer.apple.com/library/mac/#documentation/General/Conceptual/CocoaEncyclopedia/Initialization/Initialization.html#//apple_ref/doc/uid/TP40010810-CH6)，并且还有[Mike Ash 的关于它们的帖子](http://www.mikeash.com/pyblog/the-how-and-why-of-cocoa-initializers.html)。初始化器并不难，但有一些微妙的问题可能会困扰您，正如您在当前代码中所发现的那样，正如评论中已经提到的那样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-21T07:13:33.637

一般来说，这种技术应该没问题。由于您将类方法称为“便利初始化程序” `self`，因此指的是类对象并且不会更改，因此可以在此处引用它。这与在初始化程序中混合 self 不同，这更棘手，但可以正确完成。

在上面的例子中，只有`initWithCoder:`初始化器会被调用，因为你从一个 Nib 加载视图。

# html - 如何在 css 属性中拉伸正文背景图像取决于内容

> ID：10909722
> 
> 赞同：1
> 
> 时间：2012-06-06T07:14:14.323
> 
> 标签：html, css

我有一个带有正文背景图像的 html 页面。身体`<div>`内部有一个水平选项卡，内部有一个水平选项卡。Tab1 和 Tab2 的内容长度不同。所以取决于我必须增加和减少身体背景图像的内容。

感谢您！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:20:03.837

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Stretched Background</title>
<style type="text/css">
/* Remove margins from the 'html' and 'body' tags, and ensure the page takes up full screen height */
html, body {height:100%; margin:0; padding:0;}
/* Set the position and dimensions of the background image. */
#page-background {position:fixed; top:0; left:0; width:100%; height:100%;}
/* Specify the position and layering for the content that needs to appear in front of the background image. Must have a higher z-index value than the background image. Also add some padding to compensate for removing the margin from the 'html' and 'body' tags. */
#content {position:relative; z-index:1; padding:10px;}
</style>
<!-- The above code doesn't work in Internet Explorer 6\. To address this, we use a conditional comment to specify an alternative style sheet for IE 6 -->
<!--[if IE 6]>
<style type="text/css">
html {overflow-y:hidden;}
body {overflow-y:auto;}
#page-background {position:absolute; z-index:-1;}
#content {position:static;padding:10px;}
</style>
<![endif]-->
</head>

<body>
    <div id="page-background"><img src="http://www.htmlcodes.me/images/backgrounds/background-image-3.gif" width="100%" height="100%" alt="Fireworks"></div>
    <div id="content">
    <h2>Stretched Background Example</h2>
    <p>The background image here has been acheived using an HTML/CSS hack. The page is layered. The image uses the HTML <code>img</code> tag - not the CSS <code>background-image</code> property.</p>
    <p>This text appears in front of the background image. This is because we've used CSS to layer the content in front of the background image. The background image will stretch to fit your browser window. You can see the image grow and shrink as you resize your browser.</p>
    <p>Go ahead - resize your browser!</p>
        <p>Back to the <a href="http://www.htmlcodes.me/backgrounds/stretch-background-image.cfm">stretch background tutorial</a>.</p>
    </div>
</body>
</html> 
```

或者你可以试试这个链接

```
http://www.htmlcodes.me/backgrounds/stretch-background-image.cfm 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:20:15.030

虽然您可以使用该[`background-size`](http://www.w3.org/TR/2002/WD-css3-background-20020802/#background-size)属性，[但很少有浏览器支持它](http://caniuse.com/#search=background-size)。

如果它是一个小图像（类似于纹理），您应该使用[`background-repeat`](http://www.w3.org/TR/2002/WD-css3-background-20020802/#properties2). 如果没有，也许使用足够大的图像来覆盖整个 div 而无需拉伸。

或者，考虑使用 prash 中详述的 HTML/CSS hack。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T07:30:14.800

你可以使用重复属性..`background-image:repeat:` 否则我认为你可以使用

```
width:100%;
height:100%; 
```

# linux - linux引导期间登录前的ncurses

> ID：10909727
> 
> 赞同：2
> 
> 时间：2012-06-06T07:14:55.433
> 
> 标签：linux, passwords, ncurses, tty

我正在调试一个 ncurses 程序，回显和行缓冲被禁用

```
initscr();
cbreak();
noecho(); 
```

当我在控制台（连接到它的显示器和键盘）和通过 ssh 连接的终端中运行它时效果很好。

但是，它需要在登录前的 Linux 引导过程中运行，由 /etc/init.d/rc3.d/ 下的脚本调用。该程序询问安装磁盘的密码。

根本不调用 cbreak 和 noecho 等程序行为。密码是回显的，输入是行缓冲的，因为在按 ENTER 之前我看不到程序的输出。

我怀疑这是因为 getty 还没有开始在启动过程中初始化 tty，这是诅咒所必需的，但我不确定。

关于如何在这种情况下使用诅咒的任何想法？

此致。

# php - 使用 .htaccess for php 重写 url

> ID：10909731
> 
> 赞同：0
> 
> 时间：2012-06-06T07:15:07.360
> 
> 标签：php, .htaccess

当我尝试使用 .htaccess 重写 url 时，我的页面 css 受到干扰。我不知道为什么会这样。任何人请帮助..

```
RewriteBase /
RewriteEngine On
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^([^\.]+)$ $1.php [L]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)/(.*)$ index.php?$1=$2 [L,QSA] 
```

这是 [没有重写url的例子](http://dreameducation.in/index.php?field=1)

[有重写规则](http://dreameducation.in/field/1)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:20:53.033

您的 CSS 源是相对于当前文档的。

确保它是一个绝对 URL .. 因为

在重写的情况下，它的请求是 field/stylesheets/style.css 而不是 stylesheets/style.css

你的CSS源应该是：

```
<link href="http://[yoururlhere]/stylesheets/style.css" media="all" rel="stylesheet" type="text/css" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:20:18.560

你的路断了。给出 css 的绝对路径并将一个 .htaccess 文件放在 css 目录中

```
RewriteEngine Off 
```

在里面

# r - 如何有条件地选择与多个因素匹配的 data.frame 的所有元素

> ID：10909733
> 
> 赞同：2
> 
> 时间：2012-06-06T07:15:23.023
> 
> 标签：r, dataframe, data.table

我必须根据某些条件从数据框中选择一堆数据。数据框大致如下所示：

```
 F1 F2 D1 D2
1 A1 B1  1  0
2 A1 B1  1  1
3 A1 B1  0  0
4 A1 B2  1  0
5 A1 B2  0  0
6 A2 B2  1  0
7 A2 B2  1  1 
```

是`Fx`因子，`Dx`是数据值。我要做的是以下几点：

1.  查找数据值与特定模式匹配的行。
2.  对于与该模式匹配的每一行，查找具有相同因子的所有行
3.  对于每个唯一的因子组合，对具有该组合的所有行应用一些操作

例如，

```
factors <- unique(data[D1==1 & D2 == 1, c("F1","F2")]) 
```

会给我第 1 步和第 2 步中的大部分。

与

```
data[data$F1 %in% factors$F1 & data$F2 %in% factors%F2,] 
```

我越来越接近解决方案，但是使用上面的示例数据，这将选择所有行。但不应选择第 4 行和第 5 行，因为它们不是完全匹配的。如何添加某种要求 %in% 匹配发生在同一行的条件？

我觉得这应该是一个常见的操作，因此 R 可能有一个聪明的方法来做到这一点。

有任何想法吗？？？？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T14:36:07.183

您可以使用`data.table`包的索引来选择所有必须操作的行。

```
data <- data.table(data,key="F1,F2")
data[unique(data[D1 == 1 & D2 == 1,list(F1,F2)])] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:55:24.843

感觉就像一个工作......例如`tapply`，`paste`让我们将 data2 定义为与您的数据对象相同但具有“Val”列（您没有说您可能想要执行哪种行操作，所以这只是帮助说明）...

```
 F1 F2 D1 D2 D3 D4 Val
1 A1 B1  1  1  0  1   7
2 A1 B1  1  0  1  1  19
3 A2 B1  1  1  1  1  43 
```

现在检查以下命令：

```
tapply(data2$Val,paste(data2$F1,data2$F2,sep="~"),sum) 
```

你应该得到这个输出：

```
A1~B1 A2~B1 
   26    43 
```

应该清楚的是，R 正在计算 F1 和 F2 的每个可能组合的 Val 的总和（实际上，正如命令所示，它查看的是 F1 和 F2 的粘贴，这相当于同一件事）......对于 A1~ B1 的总和是 26 (7 + 19)，而 A2~B1 的总和是 43（只有一个这样的行）。在 tapply 中更改`sum`为`length`，您将获得此类行的数量，依此类推。

希望这可以帮助... ：）

**编辑**：刚刚看到你的修改。如果您只是在数据中的所有行之后，其中 F1 和 F2 的组合是您的因素对象中列出的 F1 和 F2 的组合之一......您可以使用`paste`：

```
data[paste(data$F1,data$F2,sep="~") %in% paste(factors$F1,factors$F2,sep="~"),] 
```

`sep="~"`不是严格需要，只是习惯的力量。上面的行应该给你我认为你想要的行。如果您想对具有特定 F1/F2 组合的行的每个子集执行一个函数，请使用上述的 tapply :)

* * *

为方便起见，data2 的 dput 如下所示：

```
structure(list(
F1 = structure(c(1L, 1L, 2L), .Label = c("A1", "A2"), class = "factor"), 
F2 = structure(c(1L, 1L, 1L), .Label = "B1", class = "factor"), 
D1 = c(1L, 1L, 1L), D2 = c(1L, 0L, 1L), D3 = c(0L, 1L, 1L), 
D4 = c(1L, 1L, 1L), Val = c(7, 19, 43)), 
.Names = c("F1", "F2", "D1", "D2", "D3", "D4", "Val"), 
row.names = c(NA, -3L), class = "data.frame") 
```

# actionscript-3 - 如何将文件添加到 importXml 方法？

> ID：10909734
> 
> 赞同：0
> 
> 时间：2012-06-06T07:15:30.970
> 
> 标签：actionscript-3, sdk

我正在尝试在 actionscript 中导入 xml。我正在使用 indesgin SDK。

现在 SDK 告诉我以下内容：

> importXML(fromParam:File = null):void 将指定的 XML 文件导入 InDesign 文档。

在我这样做的那一刻：

```
document.importXML(File.desktopDirectory.resolvePath("baseXml.xml")); 
```

但问题是我不能要求用户将 xml 文件添加到他们的桌面，以便我可以在需要时导入它。所以我将xml添加到我的项目中。我将它添加到包中：

```
resources/xml/baseXml.xml 
```

现在我的问题是我似乎无法将我的`File`对象指向此路径，因此无法选择 xml 文件。谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T14:05:04.270

XML 文件不在您的桌面目录中，而是在应用程序文件夹中。尝试：

```
document.importXML(File.applicationDirectory.resolvePath("resources/xml/baseXml.xml")); 
```

但是，应用程序目录中的文件是只读的，因此如果您打算修改 XML 文件，可以将其复制到`applicationStorageDirectory`using `copyTo`.

另一个选项是允许用户使用`file.browseForOpen`.

# emacs - emacs 自定义命令行参数

> ID：10909738
> 
> 赞同：4
> 
> 时间：2012-06-06T07:15:38.333
> 
> 标签：emacs, elisp

我希望能够通过提供命令行参数来告诉 emacs 以只读模式或自动恢复模式打开文件，例如：

```
emacs -A file1 file2 file3 ... 
```

应该以自动恢复模式打开文件

```
emacs -R file1 file2 file3 ... 
```

应该以只读模式打开文件

我发现了以下内容：

```
(defun open-read-only (switch)
  (let ((file1 (expand-file-name (pop command-line-args-left))))
  (find-file-read-only file1)))
(add-to-list 'command-switch-alist '("-R" . open-read-only))

(defun open-tail-revert (switch)
  (let ((file1 (expand-file-name (pop command-line-args-left))))
  (find-file-read-only file1)
  (auto-revert-tail-mode t)))
(add-to-list 'command-switch-alist '("-A" . open-tail-revert)) 
```

这样做的问题是它一次只适用于一个文件。

IE

```
emacs -R file1 
```

有效，但是

```
emacs -R file1 file2 
```

不起作用。

如何更改上述功能，以便它们可以在指定模式下同时打开多个文件？有人可以提出一个简单而优雅的解决方案吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T09:35:23.483

只需消耗物品，`command-line-args-left`直到下一次切换：

```
(defun open-read-only (switch)
  (while (and command-line-args-left
              (not (string-match "^-" (car command-line-args-left))))
    (let ((file1 (expand-file-name (pop command-line-args-left))))
      (find-file-read-only file1)))) 
```

顺便说一句，请注意，这将打开相对于前一个目录的每个文件。

# cordova - 用于 PhoneGap/Cordova 的 getUserMedia() 垫片？

> ID：10909748
> 
> 赞同：40
> 
> 时间：2012-06-06T07:16:23.723
> 
> 标签：cordova, stream, camera

我已经使用 Cordova 创建了一个 Web 应用程序，我需要在我的背景中显示一个实时摄像头流。Cordova 的摄像头/视频 API 似乎只是打开了本机摄像头/视频应用程序，而不是返回实时摄像头数据。我真正需要的`getUserMedia()`是仅在 Opera 和 Chrome 上可用的东西（2012 年 6 月）。

`getUserMedia()`在 Cordova 或任何行为相似的插件中是否有 shim 可以使用？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-18T16:45:34.973

有一个用于捕获相机流的[插件](https://github.com/daraosn/Cordova-CanvasCamera)，它用于`AVCaptureVideoDataOutput`创建捕获会话。每个帧都经过 base64 编码并传递给 Cordova UIWebView。它是实验性的，并且比任何原生方法都慢。

# jquery - 打印 Fancybox 的内容（插件 1.3.4.）

> ID：10909749
> 
> 赞同：0
> 
> 时间：2012-06-06T07:16:35.860
> 
> 标签：jquery, jquery-plugins, fancybox

我使用 FancyBox[现金流预测](http://www.firstfactoruk.com/Cash-flow-forecast-template/Cash-Flow.asp)（点击视图预测）构建了一个计算器。现在我做到了，我遇到了一个问题，如何打印 Fancybox 的内容。理想情况下，我希望用户在他们的浏览器中点击打印并打印 Fancybox 的内容。但我就是找不到或想出一个解决方案。

或者，当用户通过图标查看 Fancybox 的内容时，为他们提供打印选项会很棒。

我试图设置这两个选项，但都失败了。有任何想法吗？谢谢

我试过纯CSS。最好的尝试是这样的：

```
 @media print {
body * {
display: none!important;
background: none!important;
}
body {
background: none!important;
}
#fancybox-wrap, #fancybox-wrap * {
display: block!important;
top: 0!important;
left: 0!important;
}
#fancybox-title, #fancybox-close {
display: none!important;
}
} 
```

问题是表格布局不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-10T10:50:31.527

这有效：

```
 @media print 
   { 
       body * { visibility: hidden; } 
       #fancybox-content * { visibility: visible; } 
       #fancybox-content {position:fixed; top: 5px; left: 5px; } 
   } 
```

# lua - 物体移动一定角度

> ID：10909752
> 
> 赞同：0
> 
> 时间：2012-06-06T07:16:47.157
> 
> 标签：lua, collision-detection, coronasdk

我有一个物理体（气球），我正在施加碰撞脉冲。

我想要的是，当“玩家”与气球碰撞时，它应该向上移动（效果很好），但它应该根据气球的形状在被击中时采取一些角度。它不应该总是垂直向上移动。

只有当击中气球的最顶部时，它才应该笔直向上移动。在其他情况下，它应该以某个角度向上移动。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-07T03:30:47.820

根据我认为您的要求，这是一种方法：

您可以从两个对象（您的播放器和气球）的位置找到撞击角度。所以你得到了 balloon.x、balloon.y、player.x、player.y。

```
-- Two sides of a triangle opp and adj to the angle
sideO = balloon.y-player.y  -- the opposite side
sideA = balloon.x-player.x  -- the adjacent side

-- To get the angle
angle = math.atan(sideO/sideA) 
```

这可能与您想要的相反。如果它只是尝试 player.x-balloon.x 代替（y 相同）。

[这就是我得到数学的地方。](http://www.mathopenref.com/trigprobslantangle.html) 此外，[lua 数学库](http://lua-users.org/wiki/MathLibraryTutorial)

# java - 如何处理 java.lang.AbstractMethodError: com.mysql.jdbc.JDBC4CallableStatement.closeOnCompletion()

> ID：10909756
> 
> 赞同：1
> 
> 时间：2012-06-06T07:16:54.247
> 
> 标签：java

我将 mysql-connector-java-5.1.20-bin.jar 与 jdk7 和 tomcat7 一起使用，但我的代码在执行 callableStatement.closeOnCompletion() 时给出了 abstractMethodError。代码如下：

尝试 {

```
 Session session = HibernateUtil.currentSession();
    CallableStatement st = session.connection().prepareCall(
    "{call getOfflineNodes('" + strDevice + "',"
    + System.currentTimeMillis() + "," + polltime + ","+ status + ")}");
    ResultSet rs = st.executeQuery();
    Transaction tx = session.beginTransaction();
    st.closeOnCompletion();
    tx.commit();
    HibernateUtil.closeSession();
    return rs;
} 
```

完全例外是：

```
java.lang.AbstractMethodError: com.mysql.jdbc.JDBC4CallableStatement.closeOnCompletion()V
at com.clearcube.util.DMLLayer.getOfflineNodes(DMLLayer.java:90)
at com.clearcube.logging.ShutBladeAlertService.<init>(ShutBladeAlertService.java:80)
at com.clearcube.common.CMSServiceLoaderServlet.init(CMSServiceLoaderServlet.java:95)
at javax.servlet.GenericServlet.init(GenericServlet.java:160)
at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1266)
at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1185)
at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1080)
at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5015)
at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5302)
at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1566)
at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1556)
at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
at java.util.concurrent.FutureTask.run(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
at java.lang.Thread.run(Unknown Source) 
```

谁能告诉我为什么会出现这个异常以及如何处理。

我使用这个返回的结果集的代码是：

```
timer.scheduleAtFixedRate(new TimerTask() {
          public void run()
          {
            String bladeMacs = "";
            String vmMacs = "";
            try
            {
              int poll = Integer.parseInt(
                ServerConfigurationService.getProperty("blade.refresh.time"));

              Calendar callendar = Calendar.getInstance();

              String strblade = "";
              String strvm = "";
              String Ip = "";
              ResultSet BladeRs = (ResultSet)DMLLayer.getOfflineNodes(
                "Blade", poll, 1);
              if (BladeRs != null) {
                boolean isBladeAlive = false;
                int x = 0;
                try {
                  while (BladeRs.next()) {

                    String mac = BladeRs.getString("macAddress");
                    String ip = BladeRs.getString("Ip");
                    isBladeAlive = 
                      EchoUDPClientDiscoveryObjectResponse.echo(InetAddress.getByName(BladeRs
                      .getString("Ip")), 6502, "any", 
                      3, 500);

                    if (!isBladeAlive) {

                      if (x > 0)
                      {
                        strblade = strblade + "\n";
                        bladeMacs = bladeMacs + "\n";
                      }

                      strblade = strblade + ip;
                      x = 2;
                      bladeMacs = bladeMacs + mac;
                    }
                    else
                    {
                        String query = "update DiscoveredNode set DateModified=:DateModified where MacAddress=:MacAddress";

                      ShutBladeAlertService.objTypeVector.removeAllElements();
                      ShutBladeAlertService.objFieldVector.removeAllElements();
                      ShutBladeAlertService.objValueVector.removeAllElements();

                      ShutBladeAlertService.objTypeVector.add("Long");
                      ShutBladeAlertService.objFieldVector.add("DateModified");
                      ShutBladeAlertService.objValueVector.add(
                        Long.valueOf(System.currentTimeMillis()));
                      ShutBladeAlertService.objTypeVector.add("String");
                      ShutBladeAlertService.objFieldVector.add("MacAddress");
                      ShutBladeAlertService.objValueVector.add(mac);

                      DMLLayer.runUpdateQuery(query, 
                        ShutBladeAlertService.objFieldVector, ShutBladeAlertService.objValueVector, 
                        ShutBladeAlertService.objTypeVector);
                    }
                  }

                  BladeRs.close();

                }
                catch (Exception ex1) {
                  ex1.printStackTrace();
                }

              }
          }
      } 
```

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T07:20:27.983

`closeOnCompletion()`自 Java 7 以来就存在。驱动程序已使用以前版本的接口实现。所以这个方法不是MySQL驱动实现的。

查找是否存在支持此方法的更新版本（但似乎不存在），或避免调用此方法。

# wordpress - 在 Wordpress 中具有自定义帖子类型的永久链接

> ID：10909765
> 
> 赞同：0
> 
> 时间：2012-06-06T07:17:35.907
> 
> 标签：wordpress, mod-rewrite, url-rewriting

我正在尝试创建一个名为“项目”的新自定义类型，但我的永久链接不起作用。这是我的代码：

```
function register_post_types() {
        $labels = array(
                    ...
                );

        $args = array(
            'labels' => $labels,
            'public' => true,
                        'has_archive' => false,
                        'rewrite' => array('with_front' => false, 'feeds' => false, 'pages' => false),
                        'supports' => array(
                            'title',
                            'editor',
                            'thumbnail',
                            'excerpt',
                            'comments'
                            )
                );

        register_post_type( 'projects', $args); 
```

即使通过手动更改永久链接（帖子名称 => 数字 => 帖子名称），我也会得到带有 url [http://website.com/projects/my-project的 404。](http://website.com/projects/my-project)

调试时（我使用 Dev4press 技巧： http: [//www.dev4press.com/2012/tutorials/wordpress/practical/debug-wordpress-rewrite-rules-matching/](http://www.dev4press.com/2012/tutorials/wordpress/practical/debug-wordpress-rewrite-rules-matching/)）这是我的结果：

```
<!-- Request: projects/my-project -->
<!-- Matched Rewrite Rule: projects/([^/]+)(/[0-9]+)?/?$ -->
<!-- Matched Rewrite Query: projects=my-project&amp;page= -->
<!-- Loaded Template: 404.php --> 
```

你能帮我吗 ？

**编辑：** 奇怪的是，如果我更换

```
'rewrite' => array('with_front' => false, 'feeds' => false, 'pages' => false) 
```

和

```
'rewrite' => array('slug' => 'p', 'with_front' => false, 'feeds' => false, 'pages' => false) 
```

我可以访问[http://website.com/p/my-project/](http://website.com/p/my-project/)，但如果我用“项目”更改 slug 我无法访问[http://website.com/projects/my-project/](http://website.com/projects/my-project/)： (

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T09:58:47.193

转到管理面板中的设置 > 永久链接。点击保存按钮。看看会发生什么......

# oracle - 如何在具有多个服务器的 Oracle JDBC 长 TNSNAME 样式 URL 中使用不同的服务名称

> ID：10909771
> 
> 赞同：0
> 
> 时间：2012-06-06T07:17:56.470
> 
> 标签：oracle, url, jdbc, cluster-computing, tnsnames

当我尝试使用 JDBC 长 TNSNAME 样式 URL 连接数据库服务器时遇到问题。我们有两台 Oracle 集群服务器。这是我的 TNSNAME 样式 URL。

```
jdbc:oracle:thin:@(DESCRIPTION=
  (LOAD_BALANCE=ON)(FAILOVER=ON)(ADDRESS_LIST=
    (ADDRESS=(PROTOCOL=TCP)(HOST=host1)(PORT=1250))
    (ADDRESS=(PROTOCOL=TCP)(HOST=host2)(PORT=1250))
  )
  (CONNECT_DATA=
    (SERVICE_NAME= DEV1)
  )
) 
```

我的问题是当我们的 DBA 创建数据库时，他为 host1 和 host2 使用了不同的服务名称。host1 是 DEV1，host2 是 DEV2_B，如果我切换主机序列，它似乎无法工作。喜欢

```
jdbc:oracle:thin:@(DESCRIPTION=
  (LOAD_BALANCE=ON)(FAILOVER=ON)(ADDRESS_LIST=
    (ADDRESS=(PROTOCOL=TCP)(HOST=host2)(PORT=1250)) /*host2 now come first, it would be cause connect failure.*/
    (ADDRESS=(PROTOCOL=TCP)(HOST=host1)(PORT=1250))
  )
  (CONNECT_DATA=
    (SERVICE_NAME= DEV1)
  )
) 
```

我认为在这种情况下，故障转移和负载平衡是没有用的。我的问题是，如何在我的 URL 中单独设置 service_name？（这两个数据库也使用不同的 SID。DEVA 和 DEVB）请帮忙，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-08-31T22:26:12.070

```
(DESCRIPTION_LIST=
            (FAILOVER=true)
            (LOAD_BALANCE=false)
            (DESCRIPTION=
            (ADDRESS= (PROTOCOL=TCP) (HOST=TEST_DB) (PORT=1521))
            (CONNECT_DATA=
            (SERVICE_NAME=saibal)))             
            (DESCRIPTION=
            (ADDRESS= (PROTOCOL=TCP) (HOST=MY_DB) (PORT=1521))
            (CONNECT_DATA=
            (SERVICE_NAME= test_saibal))
) 
```

# ios - 如何关闭我所有的应用程序声音？

> ID：10909774
> 
> 赞同：0
> 
> 时间：2012-06-06T07:18:20.017
> 
> 标签：ios, audio

我的应用程序视图中有一些按钮，当用户单击一个按钮时它会播放声音。我想在应用程序设置视图中添加一个开关，当用户关闭开关时，用户单击按钮时不会播放任何声音。然后开关打开，声音将再次播放。我该怎么办？先感谢您！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:40:56.160

```
MPMusicPlayerController *musicPlayer = [MPMusicPlayerController iPodMusicPlayer];
if ([switch isOn]){
   [musicPlayer setVolume:1.0];
} else {
    [musicPlayer setVolume:0.0];
} 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:58:18.290

一种选择是通过单个类路由所有声音播放并向此类添加一个属性以用于静音或声音跳过：

```
@interface Jukebox : NSObject
@property(assign, getter=isMuted) BOOL muted;
- (void) playSoundWithID: (NSString) soundID;
@end

@implementation Jukebox
@synthesize muted;

- (void) playSoundWithID: (NSString) soundID
{
    if (!muted) {
        // …
    }
}

@end 
```

或者您可以在播放之前包装`AVAudioPlayer`并使其检查一些应用程序范围的布尔标志：

```
@implementation CustomAudioPlayer

- (BOOL) play
{
    return ([[AppSettings sharedInstance] playSounds]) ?
        [super play] : NO;
} 
```

# xml - 在 sql server 2005 中将 xml 结构与表连接起来

> ID：10909785
> 
> 赞同：0
> 
> 时间：2012-06-06T07:19:07.370
> 
> 标签：xml, sql-server-2005

```
<C1003Data xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <LTV>-1</LTV>
      <CLTV>-1</CLTV>
      <bIncludeSpouse>false</bIncludeSpouse>
      <bNotIncludeSpouse>false</bNotIncludeSpouse>
      <BorrowerCreditScore>
        <Experian />
        <TransUnion />
        <Equifax />
      </BorrowerCreditScore>
      <CoBorrowerCreditScore>
        <Experian />
        <TransUnion />
        <Equifax />
      </CoBorrowerCreditScore>
      <SubFinancing>
        <FirstOrSecondMortgage>-1</FirstOrSecondMortgage>
        <OtherMortgage>-1</OtherMortgage>
      </SubFinancing>
      <MortgageType>
        <strLoanApplied>01</strLoanApplied>
        <dLoanAmount>-1</dLoanAmount>
        <dInterestRate>-1</dInterestRate>
        <nNumberofMonths>360</nNumberofMonths>
        <strAmortizationType>05</strAmortizationType>
        <dGPMRate>-1</dGPMRate>
        <strLoanPosition>1</strLoanPosition>
        <dPurchasePrice>-1</dPurchasePrice>
        <dAppraisedValue>-1</dAppraisedValue>
        <dTotalLoanAmt>-1</dTotalLoanAmt>
        <dMIPorFF>-1</dMIPorFF>
        <dQualRate>-1</dQualRate>
        <nDueIn>360</nDueIn>
        <dMonthlyPmt>-1</dMonthlyPmt>
      </MortgageType>
      <PropertyInfo>
        <strAddress />
        <strCity />
        <strState />
        <strZip />
        <strCounty />
        <Warrantable>true</Warrantable>
        <strLoanPurpose>16</strLoanPurpose>
        <dCashout>-1</dCashout>
        <strPropertyWillBe>1</strPropertyWillBe>
        <dGrossRent>-1</dGrossRent>
        <dOccupRent>-1</dOccupRent>
        <nPeriod>-1</nPeriod>
        <dConstructionYearLotAcquired>-1</dConstructionYearLotAcquired>
        <dConstructionAmountExistingLiens>-1</dConstructionAmountExistingLiens>
        <dConstructionCostofImprovements>-1</dConstructionCostofImprovements>
        <dConstructionOriginalCost>-1</dConstructionOriginalCost>
        <dConstructionValueofLot>-1</dConstructionValueofLot>
        <dConstructionTotalValue>-1</dConstructionTotalValue>
        <dRefinanceYearAcquired>-1</dRefinanceYearAcquired>
        <dRefinanceAmountExistingLiens>-1</dRefinanceAmountExistingLiens>
        <dRefinanceOriginalCost>-1</dRefinanceOriginalCost>
        <dRefinanceCostofImprovements>-1</dRefinanceCostofImprovements>
      </PropertyInfo>
      <BorrowerInfo>
        <strFirstName>MARTIN</strFirstName>
        <strMidName />
        <strLastName>TESTCO</strLastName>
        <strSocSecNo>000-06-0914</strSocSecNo>
        <strHomePhone />
        <strCell />
        <strEmail />
        <strDOB />
        <strMaritalStatus>Married</strMaritalStatus>
        <strCitizenship>US Citizen</strCitizenship>
        <bPresentAddressOwnt>false</bPresentAddressOwnt>
        <bPresentAddressRent>false</bPresentAddressRent>
        <strPresentAddressStreet>4527 COWBOY LN</strPresentAddressStreet>
        <strPresentAddressCity>Santa Ana</strPresentAddressCity>
        <strPresentAddressState>CA</strPresentAddressState>
        <strPresentAddressZip>92702</strPresentAddressZip>
        <bMailingSameAsPresent>false</bMailingSameAsPresent>
        <bFormerAddressOwn>false</bFormerAddressOwn>
        <bFormerAddressRent>false</bFormerAddressRent>
      </BorrowerInfo>
      <bSameAsBorrower>false</bSameAsBorrower>
      <CoBorrowerInfo>
        <strFirstName />
        <strMidName />
        <strLastName />
        <strSocSecNo />
        <strHomePhone />
        <strCell />
        <strEmail />
        <strDOB />
        <strMaritalStatus>Married</strMaritalStatus>
        <strCitizenship>US Citizen</strCitizenship>
        <bPresentAddressOwnt>false</bPresentAddressOwnt>
        <bPresentAddressRent>false</bPresentAddressRent>
        <bMailingSameAsPresent>false</bMailingSameAsPresent>
        <bFormerAddressOwn>false</bFormerAddressOwn>
        <bFormerAddressRent>false</bFormerAddressRent>
      </CoBorrowerInfo>
      <BoEmploymentInfo>
        <bSelfEmployed>false</bSelfEmployed>
        <strWorkPhone />
      </BoEmploymentInfo>
      <CoEmploymentInfo>
        <bSelfEmployed>false</bSelfEmployed>
        <strWorkPhone />
      </CoEmploymentInfo>
      <BoFormerEmpInfo>
        <CFormerEmploymentInformation>
          <bSelfEmployed>false</bSelfEmployed>
        </CFormerEmploymentInformation>
      </BoFormerEmpInfo>
      <CoFormerEmpInfo>
        <CFormerEmploymentInformation>
          <bSelfEmployed>false</bSelfEmployed>
        </CFormerEmploymentInformation>
      </CoFormerEmpInfo>
      <SREO>
        <CSchedule>
          <dMarketValue>-1</dMarketValue>
          <dAmtOfMtg>-1</dAmtOfMtg>
          <dGrossRent>-1</dGrossRent>
          <dMtgPayment>-1</dMtgPayment>
          <dInsTaxMisc>-1</dInsTaxMisc>
          <dNetRent>-1</dNetRent>
        </CSchedule>
      </SREO>
      <GrossMonthlyIncome>
        <dBorrowerBaseIncome>-1</dBorrowerBaseIncome>
        <dBorrowerOvertime>-1</dBorrowerOvertime>
        <dBorrowerBonuses>-1</dBorrowerBonuses>
        <dBorrowerCommissions>-1</dBorrowerCommissions>
        <dBorrowerDividends>-1</dBorrowerDividends>
        <dBorrowerNetRentalIncome>-1</dBorrowerNetRentalIncome>
        <dBorrowerOtherIncome>-1</dBorrowerOtherIncome>
        <dBorrowerOtherIncome1>-1</dBorrowerOtherIncome1>
        <dBorrowerTotal>-1</dBorrowerTotal>
        <dCoBorrowerBaseIncome>-1</dCoBorrowerBaseIncome>
        <dCoBorrowerOvertime>-1</dCoBorrowerOvertime>
        <dCoBorrowerBonuses>-1</dCoBorrowerBonuses>
        <dCoBorrowerCommissions>-1</dCoBorrowerCommissions>
        <dCoBorrowerDividends>-1</dCoBorrowerDividends>
        <dCoBorrowerNetRentalIncome>-1</dCoBorrowerNetRentalIncome>
        <dCoBorrowerOtherIncome>-1</dCoBorrowerOtherIncome>
        <dCoBorrowerOtherIncome1>-1</dCoBorrowerOtherIncome1>
        <dCoBorrowerTotal>-1</dCoBorrowerTotal>
        <dTotalBaseIncome>-1</dTotalBaseIncome>
        <dTotalOvertime>-1</dTotalOvertime>
        <dTotalBonuses>-1</dTotalBonuses>
        <dTotalCommissions>-1</dTotalCommissions>
        <dTotalDividends>-1</dTotalDividends>
        <dTotalNetRentalIncome>-1</dTotalNetRentalIncome>
        <dTotalOtherIncome>-1</dTotalOtherIncome>
        <dTotalOtherIncome1>-1</dTotalOtherIncome1>
        <dTotalTotal>-1</dTotalTotal>
        <dOtherIncome1>-1</dOtherIncome1>
        <dOtherIncome2>-1</dOtherIncome2>
        <dOtherIncome3>-1</dOtherIncome3>
        <dPresentRent>-1</dPresentRent>
        <dPresentFirsMortgage>-1</dPresentFirsMortgage>
        <dPresentOtherFinancing>-1</dPresentOtherFinancing>
        <dPresentHazardInsurance>-1</dPresentHazardInsurance>
        <dPresentRealEstateTaxes>-1</dPresentRealEstateTaxes>
        <dPresentMortgageInsurance>-1</dPresentMortgageInsurance>
        <dPresentHomeownerAssociationDues>-1</dPresentHomeownerAssociationDues>
        <dPresentOtherExpenses>-1</dPresentOtherExpenses>
        <dPresentTotal>-1</dPresentTotal>
        <dProposedFirsMortgage>-1</dProposedFirsMortgage>
        <dProposedOtherFinancing>-1</dProposedOtherFinancing>
        <dProposedHazardInsurance>-1</dProposedHazardInsurance>
        <dProposedRealEstateTaxes>-1</dProposedRealEstateTaxes>
        <dProposedMortgageInsurance>-1</dProposedMortgageInsurance>
        <dProposedHomeownerAssociationDues>-1</dProposedHomeownerAssociationDues>
        <dProposedOtherExpenses>-1</dProposedOtherExpenses>
        <dProposedTotal>-1</dProposedTotal>
      </GrossMonthlyIncome>
      <ScheduleOfRealEstate>
        <bCurrentResidence>false</bCurrentResidence>
        <bBubjectProperty>false</bBubjectProperty>
        <dPresentMarketValue>-1</dPresentMarketValue>
        <dMortgageLiens>-1</dMortgageLiens>
        <dMortgagePayments>-1</dMortgagePayments>
        <dMaintTaxesIns>-1</dMaintTaxesIns>
        <dGrossRentalIncome>-1</dGrossRentalIncome>
        <dNetRentalIncome>-1</dNetRentalIncome>
        <bAddAnotherProperty>false</bAddAnotherProperty>
        <bCurrentResidence1>false</bCurrentResidence1>
        <bBubjectProperty1>false</bBubjectProperty1>
        <dPresentMarketValue1>-1</dPresentMarketValue1>
        <dMortgageLiens1>-1</dMortgageLiens1>
        <dMortgagePayments1>-1</dMortgagePayments1>
        <dMaintTaxesIns1>-1</dMaintTaxesIns1>
        <dGrossRentalIncome1>-1</dGrossRentalIncome1>
        <dNetRentalIncome1>-1</dNetRentalIncome1>
        <bAddAnotherProperty1>false</bAddAnotherProperty1>
        <bCurrentResidence2>false</bCurrentResidence2>
        <bBubjectProperty2>false</bBubjectProperty2>
        <dPresentMarketValue2>-1</dPresentMarketValue2>
        <dMortgageLiens2>-1</dMortgageLiens2>
        <dMortgagePayments2>-1</dMortgagePayments2>
        <dMaintTaxesIns2>-1</dMaintTaxesIns2>
        <dGrossRentalIncome2>-1</dGrossRentalIncome2>
        <dNetRentalIncome2>-1</dNetRentalIncome2>
        <bAddAnotherProperty2>false</bAddAnotherProperty2>
        <dTotalPresentMarketValue>-1</dTotalPresentMarketValue>
        <dTotalMortgageLiens>-1</dTotalMortgageLiens>
        <dTotalGrossRentalIncome>-1</dTotalGrossRentalIncome>
        <dRentalIncome>-1</dRentalIncome>
        <dTotalMortgagePayments>-1</dTotalMortgagePayments>
        <dTotalMaintTaxesIns>-1</dTotalMaintTaxesIns>
        <dTotalreportedNetRentalIncome>-1</dTotalreportedNetRentalIncome>
        <dEffectiveNetRentalIncome>-1</dEffectiveNetRentalIncome>
      </ScheduleOfRealEstate>
      <AssetsInfo>
        <bJointly>false</bJointly>
        <dAmountOfDeposit>-1</dAmountOfDeposit>
        <dAmountOfDeposit1>-1</dAmountOfDeposit1>
        <dTotalBankDeposits>-1</dTotalBankDeposits>
        <dMarketValueOfRealEstate>-1</dMarketValueOfRealEstate>
        <dVestedInterest>-1</dVestedInterest>
        <dNetWorthOfBusiness>-1</dNetWorthOfBusiness>
        <dLifeInsuranceFaceAmount>-1</dLifeInsuranceFaceAmount>
        <dLifeInsuranceMarketValue>-1</dLifeInsuranceMarketValue>
        <dSubtotalLiquidAssets>-1</dSubtotalLiquidAssets>
        <dAutomobileOwned1>-1</dAutomobileOwned1>
        <dAutomobileOwned2>-1</dAutomobileOwned2>
        <dAutomobileOwned3>-1</dAutomobileOwned3>
        <dStocksAndBond1>-1</dStocksAndBond1>
        <dStocksAndBond2>-1</dStocksAndBond2>
        <dStocksAndBond3>-1</dStocksAndBond3>
        <dOtherAssest1>-1</dOtherAssest1>
        <dOtherAssest2>-1</dOtherAssest2>
        <dOtherAssest3>-1</dOtherAssest3>
        <dOtherAssest4>-1</dOtherAssest4>
        <dTotalAssest>-1</dTotalAssest>
        <dAlimony>-1</dAlimony>
        <dJobRelated1>-1</dJobRelated1>
        <dJobRelated2>-1</dJobRelated2>
        <dNetWorth>0</dNetWorth>
        <dBalanceTotal>-1</dBalanceTotal>
        <dPaymentTotal>-1</dPaymentTotal>
        <dMarketValue>-1</dMarketValue>
        <dMtgAmount>-1</dMtgAmount>
        <dCrossRentInc>-1</dCrossRentInc>
        <dMtgPayment>-1</dMtgPayment>
        <dInsTaxExp>-1</dInsTaxExp>
        <dNetRent>-1</dNetRent>
        <dAccountNumber1>-1</dAccountNumber1>
        <dAccountNumber2>-1</dAccountNumber2>
      </AssetsInfo>
      <BankDeposite>
        <CBankDeposite>
          <dBankValue>-1</dBankValue>
        </CBankDeposite>
      </BankDeposite>
      <Liabilities>
        <CLiabilities>
          <bResubordinated>false</bResubordinated>
          <bOmitted>false</bOmitted>
          <dLiabilitiesBalance>-1</dLiabilitiesBalance>
          <dLiabilitiesPayment>-1</dLiabilitiesPayment>
          <dLiabilitiesMosLeft>-1</dLiabilitiesMosLeft>
          <bLiabilitiesPaidOff>false</bLiabilitiesPaidOff>
        </CLiabilities>
      </Liabilities>
      <TransactionDetails>
        <dPurchasePrice>-1</dPurchasePrice>
        <dAlterations>-1</dAlterations>
        <dLand>-1</dLand>
        <dRefinance>-1</dRefinance>
        <dPrepaidItems>-1</dPrepaidItems>
        <dClosingCosts>-1</dClosingCosts>
        <dPMIandMIP>-1</dPMIandMIP>
        <dDiscount>-1</dDiscount>
        <dTotalCosts>-1</dTotalCosts>
        <dSubordinateFinancing>-1</dSubordinateFinancing>
        <dPaidBySeller>-1</dPaidBySeller>
        <dOtherCredits>-1</dOtherCredits>
        <dOtherCredits1>-1</dOtherCredits1>
        <dOtherCredits2>-1</dOtherCredits2>
        <dOtherCredits3>-1</dOtherCredits3>
        <dClosingCost>-1</dClosingCost>
        <dLoanAmount>-1</dLoanAmount>
        <dPMIandMIPFinanced>-1</dPMIandMIPFinanced>
        <dLoanAmountAutomatic>-1</dLoanAmountAutomatic>
        <dCashFromToBorrower>0</dCashFromToBorrower>
      </TransactionDetails>
      <Declarations />
      <MonitoringPurposes>
        <bBorrowerFurnish>false</bBorrowerFurnish>
        <bCoBorrowerFurnish>false</bCoBorrowerFurnish>
      </MonitoringPurposes>
      <Other>
        <TSBalloon>false</TSBalloon>
        <TSBiweekly>false</TSBiweekly>
        <TSCommunityLending>false</TSCommunityLending>
      </Other>
      <RequestForAppraisal>
        <Appraiser />
        <Lender />
        <From />
        <EscrowCompany />
        <TitleCompany />
        <ListingAgent />
        <SellingAgent />
        <AppraisalType>
          <Full>false</Full>
          <ExteriorOnly>false</ExteriorOnly>
          <MarketRentAnalysis>false</MarketRentAnalysis>
          <LandAppraisal>false</LandAppraisal>
        </AppraisalType>
        <EstimateOfValue>
          <AsIs>false</AsIs>
          <AsCompleted>false</AsCompleted>
        </EstimateOfValue>
        <FannieMae>
          <FM1004>false</FM1004>
          <FM1004C>false</FM1004C>
          <FM1004D>false</FM1004D>
          <FM1007>false</FM1007>
          <FM1025>false</FM1025>
          <FM1073>false</FM1073>
          <FM1075>false</FM1075>
          <FM2000>false</FM2000>
          <FM2000A>false</FM2000A>
          <FM2055>false</FM2055>
          <FM216>false</FM216>
          <FM2075>false</FM2075>
          <FM2090>false</FM2090>
          <FM2095>false</FM2095>
          <FMNA>false</FMNA>
        </FannieMae>
        <VeteransAdministration>
          <VA1805>false</VA1805>
          <VA8712>false</VA8712>
        </VeteransAdministration>
        <AppraisalCost>-1</AppraisalCost>
        <PaymentMethod>
          <COD>true</COD>
          <CreditCard>false</CreditCard>
          <InvoiceClient>false</InvoiceClient>
          <Bill>false</Bill>
          <Other>false</Other>
        </PaymentMethod>
      </RequestForAppraisal>
      <RequestForTitle>
        <Seller />
        <InsuredLenderMortgage />
        <Attachment>
          <PriorTitlePolicy>false</PriorTitlePolicy>
          <WarrantyDeed>false</WarrantyDeed>
          <TitleInsRequirements>false</TitleInsRequirements>
          <Survey>false</Survey>
          <Contract>false</Contract>
        </Attachment>
        <MailAway>false</MailAway>
      </RequestForTitle>
      <RequestForHazard>
        <MinReplacementCost>-1</MinReplacementCost>
      </RequestForHazard>
      <SollenAdditionalInfo>
        <LockPrice>-1</LockPrice>
        <LockPeriod>21</LockPeriod>
        <PrepayPenalty>No</PrepayPenalty>
        <BorrowerEmp>W-2</BorrowerEmp>
        <IRSForm>Yes</IRSForm>
      </SollenAdditionalInfo>
      <FloodReport>
        <IsInFloodArea>false</IsInFloodArea>
      </FloodReport>
    </C1003Data> 
```

在这个 XML 结构中，我使用以下查询来选择名字和姓氏：

```
SELECT
   a.b.value('(strFirstName)[1]', 'Varchar(50)') FirstName,
   a.b.value('(./strLastName)[1]', 'VARCHAR(8000)') LastName
FROM dbo.FormData
CROSS APPLY C1003.nodes('//BorrowerInfo') a(b) 
```

它正确执行。现在我需要将此结构与其他具有名字和姓氏的表连接起来。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:27:42.670

`.nodes()`由于您只有一个节点，因此我们不确定您是否会打扰通话`<BorrowerInfo>`- 要将名字和姓氏加入关系表，请使用以下内容：

```
;WITH XmlData As
(
    SELECT 
       FirstName = C1003.value('(/C1003Data/BorrowerInfo/FirstName)[1]', 'varchar(50)'),
       LastName = C1003.value('(/C1003Data/BorrowerInfo/LastName)[1]', 'varchar(50)')
    FROM
       dbo.FormData
    WHERE
        .... -- possibly define a WHERE clause here!
)
SELECT
    t.a, t.b, t.c  -- whatever columns you need here .....
FROM 
    dbo.YourTable t
INNER JOIN
    XmlData x ON t.FirstName = x.FirstName AND t.LastName = x.LastName 
```

# java - 避免整数数组中的重复整数

> ID：10909787
> 
> 赞同：1
> 
> 时间：2012-06-06T07:19:21.493
> 
> 标签：java, arrays, int, duplicates

如何在不使用任何集合（即 Arraylist 或 Set 等）的情况下避免将重复整数添加到整数数组中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-15T05:11:43.383

解决方案取决于您的要求。如果您的数组大小较小*(n<10^6)*，则在每次插入时扫描数组就足够了，但如果您的数组很大且插入频繁，我会提出不同的解决方案。

在每次插入时扫描数组将需要**O(n)**的复杂度。对于较小的数字，开销是可以忽略的，但是随着数组大小的增加，每次插入的遍历都是低效的。

如果您需要性能并且内存不是您的约束，您可以采用布尔数组并将所有元素初始化为**false**。然后每当你得到一个数字时，将它在布尔数组中的索引值设置为**true**，并在插入时检查该布尔值是否在被插入元素的索引号处。

这是初始化布尔数组的代码（初始化它会使所有元素都为假）：

```
boolean [] duplicateValuesArray = new boolean[Integer.MAX_VALUE]; 
```

这是在数组中插入元素的函数：

```
 public void insertElement(int elementToBeInserted) {
        if(!duplicateValuesArray[elementToBeInserted])  //check if element already in array
            duplicateValuesArray[elementToBeInserted] = true;
            mainArray[index++] = elementToBeInserted;
    } 
```

这样，每当您获得一个数字时，布尔数组中该索引的值就会设置为**true**，并且在插入时，每次检查索引时，如果 value 为**true**，则该元素存在于数组中，不要插入它。

如果你有一个大的**mainArray** *(n>10^6)*并且你有频繁的插入，那么它的复杂性要低得多。这是因为，初始化一个布尔数组是一次**O(n)**复杂度，之后，检查布尔数组中的元素并插入元素只是**O(1)**操作，发生在恒定时间内。

因此，有效的复杂性被降低到仅仅初始化布尔数组。即使在内存占用方面，我也不介意，因为布尔原语只占用内存中的一位。

PS：基本上这是内存与性能的权衡，这是无处不在的通用计算权衡。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:30:59.373

如果您的问题是返回一个`Integer[]`，而不是任何其他集合，那么您可以使用`Set<Integer>` `private`ly 来避免重复值，然后返回`Set<Integer>.toArray(new Integer[0])`。

恕我直言，这是最简单的方法...

例如：

```
private Set<Integer> intSet = new HashSet<Integer>();

public void setIntArray(Integer[] i){
    intSet = new HashSet<Integer>(Arrays.asList(i));
}

public Integer[] getIntArray(){
    return intSet.toArray(new Integer[0]);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T07:32:37.257

您可以创建另一个布尔类型的数组，我们称之为它`exists`。然后每次将整数添加到主列表时，检查 if `exists[newNumber]`。如果值为真，则它已经存在，否则将数字添加到整数数组并将布尔值设置为真。

如果数字范围的界限很小，则此解决方案效果很好。请注意，我的示例还假设整数是正数。一些优化是使用 long[] 数组并将每个位用作标志。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-07T15:08:58.990

我建议您首先执行**Arrays.Sort(int[])**。然后使用**Arrays.binarySearch( int [] ,int )**检查元素是否存在。

根据javadoc：

```
/**
 * Sorts the specified array of ints into ascending numerical order.
 * The sorting algorithm is a tuned quicksort, adapted from Jon
 * L. Bentley and M. Douglas McIlroy's "Engineering a Sort Function",
 * Software-Practice and Experience, Vol. 23(11) P. 1249-1265 (November
 * 1993).  This algorithm offers n*log(n) performance on many data sets
 * that cause other quicksorts to degrade to quadratic performance.
 *
 * @param a the array to be sorted
 */
public static void sort(int[] a) {
sort1(a, 0, a.length);
} 
```

对于 BinarySearch：

```
 /**
 * Searches the specified array of ints for the specified value using the
 * binary search algorithm.  The array must be sorted (as
 * by the {@link #sort(int[])} method) prior to making this call.  If it
 * is not sorted, the results are undefined.  If the array contains
 * multiple elements with the specified value, there is no guarantee which
 * one will be found.
 *
 * @param a the array to be searched
 * @param key the value to be searched for
 * @return index of the search key, if it is contained in the array;
 *         otherwise, <tt>(-(<i>insertion point</i>) - 1)</tt>.  The
 *         <i>insertion point</i> is defined as the point at which the
 *         key would be inserted into the array: the index of the first
 *         element greater than the key, or <tt>a.length</tt> if all
 *         elements in the array are less than the specified key.  Note
 *         that this guarantees that the return value will be &gt;= 0 if
 *         and only if the key is found.
 */
public static int binarySearch(int[] a, int key) {
return binarySearch0(a, 0, a.length, key);
} 
```

你知道元素是否存在，休息对你来说很容易。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-06T07:20:29.417

> 不使用任何集合，即 Arraylist 或 Set 等？

只需在插入之前检查数组，

您可以使用[插入排序](http://en.wikipedia.org/wiki/Insertion_sort)并进行[二进制搜索](http://en.wikipedia.org/wiki/Binary_search_algorithm)，它会快一点

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-06T07:20:43.130

1.  编写一个将值添加到数组的方法。
2.  添加之前，扫描数组是否存在值。
3.  如果确实存在，请跳过添加。
4.  *仅*使用该方法将值添加到数组中。
5.  理想情况下，将数组和方法捆绑在一个类中。瞧：封装！

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-06T18:49:36.037

首先假设数组是一个缓冲区并且有额外的空间。

只需循环检查每个值。如

```
 for(int i=0;  i<endpointer  &&i < buffer.length  ; i++){
        if(buffer[i]==valueToPutInArray){
            valueExists=true;
            break;
        }
    }
    if(!valueExists)    {
        buffer[endpointer++]=valueToPutInArray;

    } 
```

如果必须重新分配数组，那么您必须执行以下操作：

```
 int i=0;
    Integer[] outputArray = new Integer[buffer.length+1];
    for(Integer value : buffer) {
        if(value==valueToPutInArray){
            valueExists=true;
            break;
        }
        outputArray[i++]=value;
    }
    if(!valueExists)    {
        outputArray[i]=valueToPutInArray;

    } 
```

# java - 如何在同一视角创建多个日食视图..？

> ID：10909789
> 
> 赞同：2
> 
> 时间：2012-06-06T07:19:25.737
> 
> 标签：java, eclipse, eclipse-plugin

我创建了一个 Eclipse 视图插件。
我想在同一个角度制作这个视图的多个实例。我做了一些搜索，我发现为了制作我必须设置的任何视图的多个实例

```
allowMultiple="true" 
```

在`plugin.xml by using the org.eclipse.ui.views extension point`

但它不工作..

那么创建多个视图实例的方法是什么。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T12:19:55.013

如果要在同一个透视图中多次添加同一个视图，则必须为每个视图指定一个“辅助 id”。你如何解释这个 id 取决于你。对于特定的视图 ID，从第一个冒号 (:) 开始的所有内容都被视为辅助 ID。例如“org.eclipse.ui.views.ProgressView:go home”被拆分为视图 ID="org.eclipse.ui.views.ProgressView" 和次要 ID="go home"...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:53:37.500

如果您的意思是 Eclipse 中的类编辑器，您必须在 plugin.xml 中添加 org.eclipse.ui.editors 扩展点，并且您的类应该从 org.eclipse.ui.part.EditorPart 扩展。看到它[（单击）](http://www.vogella.com/articles/EclipseEditors/article.html)。

# makefile - make 执行未在 makefile 中指定的命令

> ID：10909798
> 
> 赞同：1
> 
> 时间：2012-06-06T07:19:48.340
> 
> 标签：makefile

假设我有以下生成文件：

```
TARGETS = a b c

all: $(TARGETS)
    @echo Done.

%.o: %.cpp
    @echo Compiling $@...
    touch $@

%: %.o
    @echo Building $@...
    touch $@ 
```

我希望这应该没有问题运行：该`all`规则将触发`%`, 规则，该规则将触发该`%.o`规则，生成`a.o`,`b.o`和`c.o`文件，然后最终生成`a`,`b`和文件。`c`

但是，运行`make`会导致以下输出：

```
ghb@Nemo:~/Downloads$ make
g++     a.cpp   -o a
/usr/lib/x86_64-linux-gnu/gcc/x86_64-linux-gnu/4.5.2/../../../crt1.o: In function `_start':
(.text+0x20): undefined reference to `main'
collect2: ld returned 1 exit status
make: *** [a] Error 1 
```

`g++`为什么我突然想跑？我对此没有任何规定。此外，运行`make a.o`后跟`make a`运行正常，但运行`make a`会导致上述行为。

我能做些什么来防止`make`试图“想出”它认为适合目标的命令？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T00:08:43.403

这里涉及三个规则，你写的两个：

```
%.o: %.cpp
    @echo Compiling $@...
    touch $@

%: %.o
    @echo Building $@...
    touch $@ 
```

还有一个是“内置”的：

```
%: %.cpp
    $(CXX) $< -o $@     # There's a little more to it, but never mind. 
```

当您尝试构建`a`时，Make 会检查其规则列表并提出两个候选者：

```
%: %.o    # yours
%: %.cpp  # built in 
```

如果`a.o`已经存在，那么您的规则优先（这就是为什么您的链`make a.o`首先起作用的原因）。如果不是，则 Make 选择第二个，因为`a.cpp` *确实*存在。

如果您不希望 Make 在构建目标时考虑这些内置规则，请使用`make -r`，也称为`make --no-builtin-rules.`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:20:32.997

最后一条规则似乎被忽略或误解了，因此 make 回退到它对 cpp 文件[的隐式规则（请参阅隐式规则目录](http://gnu.org/software/make/manual/make.html#Catalogue-of-Rules)）。
可以使用以下语法解决它：

```
TARGETS := a b c

all: $(TARGETS)
        @echo Done.

%.o: %.cpp
        @echo Compiling $@...
        touch $@

define make_target
$(1): $(1).o
        @echo Building $$@...
        touch $$@
endef
$(foreach tgt, $(TARGETS), $(eval $(call make_target, $(tgt)))) 
```

顺便说一句，使用`make all`代替`make`或仅构建第一个目标。

# java - 将按钮添加到 Android 列表视图

> ID：10909800
> 
> 赞同：0
> 
> 时间：2012-06-06T07:19:51.507
> 
> 标签：java, android

我使用以下代码实现了一个简单的 Android 列表视图。

```
package com.listTester;

import android.app.ListActivity;
import android.os.Bundle;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;
import android.widget.AdapterView.OnItemClickListener;

public class ListTestActivity extends ListActivity {

@Override
public void onCreate(Bundle savedInstanceState) {
String[] STOCK = new String[] {...};

super.onCreate(savedInstanceState);

ListView listView = getListView();
listView.setCacheColorHint(R.drawable.bckimage);
listView.setBackgroundResource(R.drawable.bckimage);
listView.setTextFilterEnabled(true);
getListView().setBackgroundResource(R.drawable.bckimage);

setListAdapter(new ArrayAdapter<String>(this, R.layout.list_stock,STOCK));
     . . .
}
} 
```

布局代码

```
<?xml version="1.0" encoding="utf-8"?>
<TextView xmlns:android="http://schemas.android.com/apk/res/android"
 android:layout_width="fill_parent"
 android:layout_height="fill_parent"
 android:padding="10dp"
 android:textSize="20sp"
 android:gravity="center_vertical|center_horizontal">
</TextView> 
```

现在我想将下面的按钮添加到列表元素中，如图所示（这是一个编辑过的图像）。

![这就是我想要的](../Images/f3da406c16f279433ba07392bbc7a381.png)

我该怎么做？请帮帮我！

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:07:10.663

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >

    <ListView
        android:id="@+id/listView"
        android:layout_width = "fill_parent"
        android:layout_height= "360dp"  
     >
    </ListView>

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="horizontal"
    >
        <Button
             android:id = "@+id/btn_check"
             android:text="Check Another"
             android:layout_width = "0dp"
             android:layout_height = "wrap_content"
             android:layout_weight="50"
             android:layout_gravity="center"
        />
        <Button
             android:id = "@+id/btn_ok"
             android:text="OK"
             android:layout_width = "wrap_content"
             android:layout_height = "wrap_content"
             android:layout_gravity="center"
             android:layout_weight="50"
        />
    </LinearLayout>
</LinearLayout> 
```

修复 listView 高度

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:40:02.873

您可以为此使用合并样式您可以使用[http://developer.android.com/resources/articles/layout-tricks-merge.html](http://developer.android.com/resources/articles/layout-tricks-merge.html)链接了解有关合并的更多知识。

```
<?xml version="1.0" encoding="utf-8"?>

<merge
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:okCancelBar="http://schemas.android.com/apk/res/com.example.android.merge">

    <ListView
        android:id="@+id/listView"
        android:layout_width = "fill_parent"
        android:layout_height= "fill_parent"  
     >
    </ListView>

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
         android:layout_gravity="bottom"

    >
        <Button
             android:id = "@+id/btn_check"
             android:text="Check Another"
             android:layout_width = "0dp"
             android:layout_height = "wrap_content"
             android:layout_weight="50"
             android:layout_gravity="center"
        />
        <Button
             android:id = "@+id/btn_ok"
             android:text="OK"
             android:layout_width = "wrap_content"
             android:layout_height = "wrap_content"
             android:layout_gravity="center"
             android:layout_weight="50"
        />
    </LinearLayout>

</merge> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T07:24:16.130

不要试图让它们成为 ListView 的一部分。包含 ListView 的活动通常没有 XML 布局。因此，在您的 Activity 中实例化一个 ListFragment，并将按钮放置在您的布局中的 Fragment 下方。或者，或者，完全忽略按钮并使用 ActionBar 操作。您的“确定”按钮的作用并不明显，但看起来您可以使用“返回”。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T08:03:08.510

您应该使用页脚视图。你可以这样做：

```
ListView listView = getListView();
listView.setCacheColorHint(R.drawable.bckimage);
listView.setBackgroundResource(R.drawable.bckimage);
listView.setTextFilterEnabled(true);
getListView().setBackgroundResource(R.drawable.bckimage);

LayoutInflater layoutInflater = LayoutInflater.from(getContext());

RelativeLayout bottomButtonsLayout = new RelativeLayout(getContext());
    layoutInflater.inflate(R.layout.your_buttons_layout, bottomButtonsLayout, true);
listView .addFooterView(bottomButtonsLayout);

setListAdapter(new ArrayAdapter<String>(this, R.layout.list_stock,STOCK)); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-06T07:26:20.753

不要使用 listactivity....仅使用活动，并在那里放置一个 listview 并添加其他组件。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-06T07:40:44.807

不要使用 listactivity....仅使用活动，并添加一个布局 xml 文件并将以下代码添加到新的布局 xml 文件中。

```
<ListView
    android:id="@+id/mLstView1"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_above="@+id/mLlayout1" />

<LinearLayout
    android:id="@+id/mLlayout1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:orientation="horizontal" >

    <Button
        android:id="@+id/mBtn1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="Check Another" />

    <Button
        android:id="@+id/mBtn2"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_toRightOf="@+id/mBtn1"
        android:layout_weight="1"
        android:text="OK" />
</LinearLayout> 
```

并使用自定义适配器。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-06T07:42:16.333

您可以使用`setContentView(R.layout.myxml);`

myxml.xml::

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >

    <ListView
        android:id="@android:id/list"
        android:layout_width = "fill_parent"
        android:layout_height= "fill_parent"  
     >
    </ListView>

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="horizontal"
    >
        <Button
             android:id = "@+id/btn1"
             android:text="Check Another"
             android:layout_width = "0dp"
             android:layout_height = "wrap_content"
             android:layout_weight="50"
             android:layout_gravity="center"
        />
        <Button
             android:id = "@+id/btn2"
             android:text="OK"
             android:layout_width = "wrap_content"
             android:layout_height = "wrap_content"
             android:layout_gravity="center"
             android:layout_weight="50"
        />
    </LinearLayout>
</LinearLayout> 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-06-06T07:44:09.107

使用根据您的代码修改的活动。按照以下xml代码...

代码：

```
 <?xml version="1.0" encoding="utf-8"?>
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >

   <ListView
    android:id="@+id/listView1"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" 
    android:layout_weight="1">
  </ListView>

  <LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="horizontal" 
    android:layout_weight="1">

      <Button
          android:id="@+id/button1"
          android:layout_width="wrap_content"
          android:layout_height="wrap_content"
          android:text="Button" />

      <Button
          android:id="@+id/button2"
          android:layout_width="wrap_content"
          android:layout_height="wrap_content"
          android:text="Button" />

  </LinearLayout>

 </LinearLayout> 
```

# wpf - WPF DataGrid：CellEditingTemplate ComboBox 多个数据到 CellTemplate TextBox

> ID：10909801
> 
> 赞同：3
> 
> 时间：2012-06-06T07:19:58.467
> 
> 标签：wpf, datagrid, combobox, celltemplate, celleditingtemplate

我用谷歌搜索，但运气非常有限。我有一个关于可编辑 WPF DataGrid 的问题；在 CellEditingTemplate 中显示了一个 ComboBox，但在 CellTemplate 中显示了一个具有相应 ComboBox 值的 TextBox。我的代码看起来像这样：

```
<DataGridTemplateColumn Header="Unit">
  <DataGridTemplateColumn.CellEditingTemplate>
    <DataTemplate>
      <ComboBox Name="comboBoxUnit" ItemsSource="{Binding ...}" SelectedValue="{Binding UnitId, ValidatesOnDataErrors=True}" SelectedValuePath="Id">
        <ComboBox.ItemTemplate>
          <DataTemplate>
            <StackPanel Orientation="Horizontal">
              <TextBlock Text="{Binding Id}" />
              <TextBlock Text=" " />
              <TextBlock Text="{Binding Name}" />
            </StackPanel>
          </DataTemplate>
        </ComboBox.ItemTemplate>
      </ComboBox>
    </DataTemplate>
  </DataGridTemplateColumn.CellEditingTemplate>
  <DataGridTemplateColumn.CellTemplate>
    <DataTemplate>
      <TextBlock Text="<would like to have selected Unit's Id and Name here>"  />
    </DataTemplate>                                    
  </DataGridTemplateColumn.CellTemplate>
</DataGridTemplateColumn> 
```

我怎样才能做到这一点？类中的单独属性（具有 UnitId 和 UnitName 属性）不是问题，我可以添加它，但是如何将两者绑定到 ComboBox 呢？我可以在 CellTemplate 中访问 CellEditingTemplate ComboBox 吗？似乎它们在“不同的名称空间”中，因为我可以用相同的名称命名两个控件......

任何想法，指针？提前致谢， DB

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T10:22:06.077

实现相同目的的最简单方法是使用`DataGridComboBoxColumn`.

然而，在我目前的项目中，我们遇到了很多问题，`DataGridComboBoxColumn`以至于我们不再使用它。相反，我们使用`DataGridTemplateColumn`a `ComboBox`in the`CellEditingTemplate`和 a `TextBlock`in the `CellTemplate` *(就像你正在做的那样)*。

为了能够基于 Id 显示数据（在 中获得与 中相同的功能`TextBlock`），`ComboBox`我们使用了一个名为`CodeToDescriptionConverter`. 可以这样使用

```
<TextBlock>
    <TextBlock.Text>
        <MultiBinding>
            <MultiBinding.Converter>
                <con:CodeToDescriptionConverter CodeAttribute="Id"
                                                StringFormat="{}{0} - {1}">
                    <con:CodeToDescriptionConverter.DescriptionAttributes>
                        <sys:String>Id</sys:String>
                        <sys:String>Name</sys:String>
                    </con:CodeToDescriptionConverter.DescriptionAttributes>
                </con:CodeToDescriptionConverter>
            </MultiBinding.Converter>
            <Binding Path="UnitId"/>
            <Binding Path="Units"/>
        </MultiBinding>
    </TextBlock.Text>
</TextBlock> 
```

*   第一个`Binding`是我们寻找的值（Id）
*   第二个`Binding`是`IList`我们看的
*   `CodeAttribute`是我们要与 id 比较的属性的名称（第一个`Binding`）
*   `DescriptionAttributes`是我们想要返回的属性，格式为`StringFormat`

在您的情况下：找到`Units`属性`Id`具有相同值的`UnitId`实例，对于该实例，返回值`Id`并`Name`格式化为`{0} - {1}`

`CodeToDescriptionConverter`使用反射来实现这一点

```
public class CodeToDescriptionConverter : IMultiValueConverter
{
    public string CodeAttribute { get; set; }
    public string StringFormat { get; set; }
    public List<string> DescriptionAttributes { get; set; }

    public CodeToDescriptionConverter()
    {
        StringFormat = "{0}";
        DescriptionAttributes = new List<string>();
    }

    public object Convert(object[] values, Type targetType, object parameter, CultureInfo culture)
    {
        if (values.Length != 2 ||
            values[0] == DependencyProperty.UnsetValue ||
            values[1] == DependencyProperty.UnsetValue ||
            values[0] == null ||
            values[1] == null)
        {
            return null;
        }

        string code = values[0].ToString();
        IList sourceCollection = values[values.Length - 1] as IList;
        object[] returnDescriptions = new object[DescriptionAttributes.Count];
        foreach (object obj in sourceCollection)
        {
            PropertyInfo codePropertyInfo = obj.GetType().GetProperty(CodeAttribute);
            if (codePropertyInfo == null)
            {
                throw new ArgumentException("Code Property " + CodeAttribute + " not found");
            }
            string codeValue = codePropertyInfo.GetValue(obj, null).ToString();
            if (code == codeValue)
            {
                for (int i = 0; i < DescriptionAttributes.Count; i++)
                {
                    string descriptionAttribute = DescriptionAttributes[i];
                    PropertyInfo descriptionPropertyInfo = obj.GetType().GetProperty(descriptionAttribute);
                    if (descriptionPropertyInfo == null)
                    {
                        throw new ArgumentException("Description Property " + descriptionAttribute + " not found");
                    }
                    object descriptionObject = descriptionPropertyInfo.GetValue(obj, null);
                    string description = "";
                    if (descriptionObject != null)
                    {
                        description = descriptionPropertyInfo.GetValue(obj, null).ToString();
                    }
                    returnDescriptions[i] = description;
                }
                break;
            }
        }

        // Ex. string.Format("{0} - {1} - {2}", arg1, arg2, arg3);
        return string.Format(StringFormat, returnDescriptions);
    }

    public object[] ConvertBack(object value, Type[] targetTypes, object parameter, CultureInfo culture)
    {
        throw new NotSupportedException();
    }
} 
```

我在这里上传了一个示例应用程序：[CodeToDescriptionSample.zip](https://dl.dropbox.com/u/39657172/CodeToDescriptionSample.zip)。
它包括 a `DataGridTemplateColumn`with`CodeToDescriptionConverter`和 a `DataGridComboBoxColumn`that 做同样的事情。希望这可以帮助

# .net - 在这种情况下使用什么：服务或 EventAggregator

> ID：10909804
> 
> 赞同：0
> 
> 时间：2012-06-06T07:20:04.167
> 
> 标签：.net, silverlight, caliburn.micro, infrastructure

我在模块化 Silverlight 应用程序中偶然发现了这种特殊情况。

我需要从应用程序屏幕之一填充上下文菜单，问题是多个模块可能想要在此处添加菜单条目。

我们提出的2个解决方案是：

*   使用事件聚合器并发布 ContextMenuLoadEvent，模块侦听该事件并在上下文菜单中添加菜单条目
*   使用 IOC 容器并从模块中注册 IPopulateContextMenu 服务，然后在屏幕中获取所有 IPopulateContextMenu 服务并在它们上调用 Populate。

您认为最好的方法是什么，为什么？

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:11:18.370

我认为第二种方法更接近它应该完成的方式。您不希望应用程序外壳告诉模块存在上下文菜单。如果您希望重新构想 UI 并使用不同的控件怎么办？您必须更改消息类型以及订阅该消息的所有模块。

相反，例如，使用 MEF，您可以拥有一个`IContextOptions`接口或类似的东西，它具有检索上下文选项集合的方法。在 MEF 发现实现此接口的每个模块后，您可以依次调用每个模块的方法来填充上下文菜单。

# javascript - 响应代码 0 从网站获取 JSON

> ID：10909807
> 
> 赞同：0
> 
> 时间：2012-06-06T07:20:15.803
> 
> 标签：javascript

我在使用下面的代码时遇到问题，每当我尝试从网站请求 JSON 数据时，我总是会返回响应代码 0。有人知道为什么吗？如果我要访问该网站，我只需输入正确的登录信息即可获取数据。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <title></title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="Base64.js" type="text/javascript"></script>
    <script type="text/javascript">

        function alertContents(HTTPobj) {

            if (HTTPobj.readyState == 4) {
                // everything is good, the response is received
                if ((HTTPobj.status == 200) || (HTTPobj.status == 0)) {
                    // FIXME: perhaps a better example is to *replace* some text in the page.
                    var htmlDoc = document.createElement('div'); // Create a new, empty DIV node.
                    htmlDoc.innerHTML = HTTPobj.responseText; // Place the returned HTML page inside the new node.
                    alert("The response was: " + HTTPobj.status + HTTPobj.responseText);
                    //var jsonData = eval('(' + HTTP.responseText + ')');
                    //parseJson(HTTP.responseText);

                }
                else {
                    alert('There was a problem with the request. ' + HTTPobj.status + HTTPobj.responseText);
                }
            }
        }

        }

        function makeBaseAuth(user,password) {
            var tok = user + ':' + password;
            var hash = Base64.encode(tok);
            alert(hash);
            return "Basic " + hash;
        }

        function getInput() {

            var getUser = document.input.user.value;
            var getPass = document.input.pass.value;
            var logData = makeBaseAuth(getUser, getPass);
            var url = 'http://www.tt-galaxi.com/thubrest/login';
            //  var url = 'http://www.tt-galaxi.com/thubrest/users/%@/trips',username;
            //    var url = 'http://www.tt-galaxi.com/thubrest/parkingbays';
            var HTTPobj = new XMLHttpRequest();
            HTTPobj.onreadystatechange = function () { alertContents(HTTPobj); };
            var test = HTTPobj.open('GET', url);
            HTTPobj.setRequestHeader('Authorization', logData);
            HTTPobj.send();

        }

    </script>
    </head>
    <body>

    <form name="input" action="">
    Username: <input type="text" name="user" />
    <br />
    Password:<input type="text" name="pass" />    
    <br />
    <input id="Button1" type="button" value="Submit"  onclick="getInput()"/>
    </form>
    </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:48:58.157

看起来您正在尝试从与您的来源不同的主机请求数据。为了详细说明这一点，如果您有一个名为 www.example.com 的站点在主机 A 中运行，并且您尝试向主机 B 中运行的 wwww.somethingelse.com 发出请求，您将无法从主机 B 获取数据，因为大多数现代浏览器都执行[相同的来源策略](http://en.wikipedia.org/wiki/Same_origin_policy)，禁止以跨站点方式使用 AJAX 请求。如果浏览器检测到这种“非法请求”，它会阻止来自不同主机的传入数据。

但是，如果您拥有该其他主机，则可以显式将标头传递给浏览器，该标头基本上告诉浏览器允许来自该其他主机的跨站点数据。[在此处](https://developer.mozilla.org/en/http_access_control#Access-Control-Allow-Headers)阅读有关此内容的更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:52:23.363

该`status`代码将`0`用于[非法跨域请求](http://en.wikipedia.org/wiki/Same_origin_policy)，请参阅[XMLHttpRequest 状态 0（responseText 为空）](https://stackoverflow.com/q/5005960/1048572)和[XMLHTTPRequest.status 返回 0 并且 responseText 在 FireFox 3.5 中为空](https://stackoverflow.com/q/1980880/1048572)。

此外，在 FF 上，状态代码将`0`用于[local `file://`requests](https://bugzilla.mozilla.org/show_bug.cgi?id=331610)。

# c# - 使用反射调用方法

> ID：10909811
> 
> 赞同：0
> 
> 时间：2012-06-06T07:20:33.503
> 
> 标签：c#, c#-4.0, reflection, dll, dllimport

我创建了一个类库项目并构建它。现在我将 Dll 复制到“C:\”。现在我想用反射打开这个 Dll：

```
using System.Reflection;

        byte[] assem = System.IO.File.ReadAllBytes(@"c:\Company.dll");
        var loadedAssem = Assembly.Load(assem);
        Type thePersonType = loadedAssem.GetType();
        var theObj = loadedAssem.CreateInstance("Company.Person");
        // or  var theObj = loadedAssem.CreateInstance("Company.Person")as IPlugin ;
        Type[] paramTypes = new Type[1];
        paramTypes[0] = Type.GetType("System.String");
        MethodInfo PersonInfo = thePersonType.GetMethod("FullName", paramTypes);
        Object[] parameters = new Object[1];
        parameters[0] = "Mr. ";
        Object returnVal = PersonInfo.Invoke(theObj, parameters);
        MessageBox.Show(returnVal.ToString()); 
```

我不能调用我的“FullName”方法。这是我的界面：

```
public interface IPlugin
{
    String FullName(String PreName);
} 
```

这是我的 DLL 中的 Person 类：

```
public class Person:IPlugin
{
    public int PersonID { get; set; }
    public String PersonName { get; set; }
    public String PersonLName { get; set; }
    public String FullName(String PreName)
    {
        return PreName+this.PersonName + this.PersonLName;
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:25:18.763

您的问题出在这一行：

```
Type theMathType = loadedAssem.GetType(); 
```

theMathType 是Assembly，所以它没有实现FullName。

你应该做：

```
Type theMathType = loadedAssem.GetType("Company.Person"); 
```

顺便说一句，如果您使用以下命令实例化 theObj：

```
IPlugin theObj = Activator.CreateInstance(theMathType) as IPlugin; 
```

那么您可以简单地编写（不使用反射来调用该方法）：

```
theObj.FullName("Mr. "); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T07:29:10.573

您正在调用`GetType()`，它`Assembly`作为类型返回。这显然不是您要寻找的类型。要枚举程序集中声明的类型，请使用该`Assembly.GetTypes()`方法。
要查找实现的所有类型`IPlugin`，您可以使用以下代码：

```
Type[] iPluginTypes = (from t in loadedAssem
                       where !t.IsInterface && !t.IsAbstract
                       where typeof(IPlugin).IsAssignableFrom(t)
                       select t).ToArray(); 
```

另外（如果尚未完成）我建议您在程序集中声明接口`IPlugin`，该程序集可由加载插件的代码以及插件本身访问（可能是一个单独的程序集，仅用于类似的可扩展性类型）。

这样您就可以将结果转换为界面并正常使用它。不得不用反射类型调用接口方法违背了需要这样一个接口的目的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T11:57:19.713

我用这段代码解决了这个问题。我们应该在单独的类库中使用接口“IPlugin”并在其他项目中使用。

```
 Assembly objAssembly = Assembly.LoadFrom("Company.dll");
        Type objAssemblyType = objAssembly.GetType();

        foreach (Type type in objAssembly.GetTypes())
        {
            if (type.IsClass == true)
            {
                var classInstance = objAssembly.CreateInstance(type.ToString()) as IPlugin;
                lblFullName.Text = classInstance.FullName("Mr. ");

            }
        } 
```

# python - 如何将大数据从任何文件系统迁移到 plone 站点 plone 4.1？

> ID：10909812
> 
> 赞同：1
> 
> 时间：2012-06-06T07:20:41.447
> 
> 标签：python, plone

我想为我的文件系统上的现有文件实施 DMS。如何将此类现有文件/图像导入我的 Plone DMS。我不想使用 Products.Reflecto，因为我无法添加任何版本控制/编辑上传的文件和其中的图像。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:05:03.517

你使用了迁移这个词。如果您想从文件系统“提供”文件，则此选项不适合您。

FunnelWeb 是一个基于 transmogrifier 的内容迁移工具，可以提供帮助。它旨在抓取网站并从那里导入内容，但也可以使用 file:// 类型的 url 来抓取文件系统。

见[http://pypi.python.org/pypi/funnelweb](http://pypi.python.org/pypi/funnelweb)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T12:08:03.893

如果您没有其他想法，可以使用 WebDAV 访问复制它们。（但请注意，之后要打包数据库：虽然 Plone4 支持 blob，但我认为通过 WebDAV 上传的文件会在数据库中留下陈旧的副本。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T16:18:29.273

正如 djay 已经指出的那样，问题是您要迁移还是只提供这些文件？如果您想将这些文件迁移/导入到 Plone 中，请查看 transmogrifier ，更具体的是 transmogrify.filesystem：

[http://pypi.python.org/pypi/collective.transmogrifier](http://pypi.python.org/pypi/collective.transmogrifier) http://pypi.python.org/pypi/transmogrify.filesystem

在 Plone 中拥有这些文件后，您可以启用版本控制并编辑文件/图像。

# odbc - 从 Teradata 12 升级到 Teradata 13 后出错....terasso.dll

> ID：10909824
> 
> 赞同：3
> 
> 时间：2012-06-06T07:21:30.807
> 
> 标签：odbc, teradata

我们目前正在将 Teradata 客户端从 v12 升级到 v13。为此，从系统中卸载了旧安装的 Teradata 12，并安装了 TTU13。

安装后，当我尝试使用新的 Teradata 驱动程序添加 ODBC 连接时，出现以下错误。

> terasso 库中出现未知错误

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T13:03:55.623

您需要为 Teradata 12 和 Teradata 13.x ODBC 驱动程序卸载 Teradata GSS 和 Shared ICU Libraries。卸载所有这些项目后，重新启动计算机，然后安装 Teradata GSS 和 Shared ICU Libraries for Teradata 13.x，然后再安装 Teradata 13.x ODBC 驱动程序。

通常，Teradata 的安装包会提示您哪些包将被静默安装，并为您提供选项，为通常静默安装的任何包单独禁用静默安装。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-07-03T16:57:06.557

使用 TTUExpress/TTUBase.exe 升级我的 Teradata 工具后

**还必须使用 TTUExpress/TTU_DBM.exe 升级 ODBC 驱动程序**

在此之前 - SQL 助手无法连接，给出一些模糊的消息。并且 - “ODBC 管理员”程序在“terasso 库中发生未知错误”消息中更加明确。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-10-25T13:49:59.663

检查您是否有文件夹：\Teradata\Teradata GSS\nt-i386**LCLIENT**

静默安装后丢失了那个。我至少在一台机器上看到过这种情况，唯一的解决方法是从 cmd 窗口执行完全相同的安装命令，而不是使用 Powershell 脚本。

在默认安装后，LCLIENT 似乎是某种重定向的东西，这就是为什么如果不复制内容、删除“快捷方式”并在同一位置重新创建正确的 LCLIENT*文件夹*，您无法正确 AppV 这个东西的原因，将内容复制回来。

正确操作的顺序是 1) GSS、2) ICU、3) ODBC。如果你不这样做，它总是会出错。

# ruby - 如何在 .gemspec 文件中指定运行时依赖项？

> ID：10909826
> 
> 赞同：1
> 
> 时间：2012-06-06T07:21:36.140
> 
> 标签：ruby, ruby-on-rails-3, rubygems, gem

我创建了一个 gem（apple_store_search）。它取决于另外两个 gem（curl 和 json）。我的 .gemspec 看起来像

```
# -*- encoding: utf-8 -*-
$:.push File.expand_path("../lib", __FILE__)
require "apple_store_search/version"

Gem::Specification.new do |s|
  s.name        = "apple_store_search"
  s.version     = AppleStoreSearch::VERSION
  s.authors     = "Shamith c"
  s.email       = "shamithc@gmail.com"
  s.homepage    = ""
  s.summary     = %q{This is for searching in app in apple store}
  s.description = %q{Exited to watch its progress}

  s.rubyforge_project = "apple_store_search"

  s.files         = `git ls-files`.split("\n")
  s.test_files    = `git ls-files -- {test,spec,features}/*`.split("\n")
  s.executables   = `git ls-files -- bin/*`.split("\n").map{ |f| File.basename(f) }
  s.require_paths = ["lib"]

  # specify any dependencies here; for example:
  #s.add_development_dependency "rspec"
  s.add_dependency('curl', '0.0.9')
  s.add_dependency('json', '1.7.3')
  s.add_runtime_dependency('curl', '0.0.9')
  s.add_runtime_dependency('json', '1.7.3')
end 
```

我成功地构建了这个宝石。然后我试图在 irb 上加载这个 gem，我得到了错误

```
NameError: uninitialized constant AppleStoreSearch::Search::CURL 
```

此错误是由于 curl gem。

如果我需要“curl”和“json”，我的 gem 会正确执行。

如何在加载“apple_store_search”gem 时默认加载这些 gem（json 和 curl）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T10:16:46.377

您需要在代码中引用顶级命名空间 ::CURL 而不是 CURL

# java - 为什么在 Hibernate 中使用 org.hibernate.TransactionException 并避免

> ID：10909827
> 
> 赞同：5
> 
> 时间：2012-06-06T07:21:36.887
> 
> 标签：java, hibernate

我是休眠的新手。

我试图编写一个小程序来将数据插入 mysql 数据库服务器。

这是我的程序的源代码：

```
private int insertRelateNew(int newId, List<DocSimilar> relateNews) {
    Session session = HibernateUtils.currentSession();
    Transaction tx = session.beginTransaction();
    RelatedArticles relatedArticles = null;
    try {
        relatedArticles = new RelatedArticles();
        for (DocSimilar doc : relateNews) {
            ApplicationPK appPK = new ApplicationPK(newId,
                    (int) doc.getDocid());
            relatedArticles.setApplicationPK(appPK);
            relatedArticles.setRelated_score(doc.getPercent());
            session.save(relatedArticles);
            tx.commit();
            session.flush();
        }
    } catch (Exception e) {
        e.printStackTrace();
        tx.rollback();
    }
    return newId;
} 
```

运行时，插入成功，但有时会抛出 TransactionException。

这是异常控制台：

```
org.hibernate.TransactionException: Transaction not successfully started
    at org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:131)
    at com.ant.crawler.dao.hibernate.SqlNewsPersistencer.insertRelateNew(SqlNewsPersistencer.java:56)
    at com.ant.crawler.dao.hibernate.SqlNewsPersistencer.insertNews(SqlNewsPersistencer.java:40)
    at com.ant.crawler.dao.hibernate.SqlPersistencer.store(SqlPersistencer.java:44)
    at com.ant.crawler.core.AbstractCrawler.crawl(AbstractCrawler.java:186)
    at com.ant.crawler.core.Worker.run(Worker.java:14)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:662) 
```

我搜索了问题，有人建议捕获异常和回滚（）。

但是这种方式可能会丢失我想要插入数据库的记录。

我想找出为什么会发生异常以避免它。

我在 Hibernate Java Doc 中搜索了异常：[http ://www.dil.univ-mrs.fr/~massat/docs/hibernate-3.1/api/org/hibernate/TransactionException.html](http://www.dil.univ-mrs.fr/~massat/docs/hibernate-3.1/api/org/hibernate/TransactionException.html)

它说：“表示事务无法开始、提交或回滚。”

它没有解释为什么会发生异常。

请为我解释为什么会发生异常以及如何避免它。

非常感谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T07:34:47.533

解释很简单：你只启动一次事务，但提交了多次：

```
Transaction tx = session.beginTransaction();
...
for (DocSimilar doc : relateNews) {
    ...
    tx.commit();
} 
```

要么您希望每个文档有一个单独的事务，并且该事务必须在 for 循环内开始，或者您希望所有文档都有一个事务，并且提交必须在 for 循环之外。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-02-12T22:52:53.157

我收到了和你一样的错误信息，我发现即使是回滚也会给你带来问题。

就我而言，当我调用“ `tx.rollback()`”时，它会抛出错误“org.hibernate.TransactionException：事务未成功启动”。

因此，当我意识到这一点时，我添加了以下内容...

```
if (tx!=null && tx.isActive()) {
 tx.rollback();
} 
```

然后它向我揭示了另一个例外，现在更好，现在我可以看到真正的问题在哪里，这是我插入的一些标准我没有满足......

希望这会有所帮助，干杯。

# php - PHP鼠标悬停图像更改

> ID：10909830
> 
> 赞同：-4
> 
> 时间：2012-06-06T07:22:07.050
> 
> 标签：php, javascript, css, mouseover

我有代码：

```
<?php
function imagecode($url,$x,$y,$h='auto') {
?>
<div style="display:block;position:absolute;left:<?php echo $x; ?>;top:<?php echo $y; ?>;">
<img src="<?php echo $url; ?>" style="height:<?php echo $h; ?>;">
</div>
<?php
}
imagecode('/index_files/images/loga/same-off.png',110,-140,36);
?> 
```

我需要在鼠标悬停时将该图像更改为另一个图像，例如可能使用 $rollover_url 。如何修改代码？此外，图像需要是网站的链接。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T07:30:18.337

需要注意的是，您的 PHP 代码并不存在于浏览器中，而浏览器是发生鼠标悬停效果的地方。您的 PHP 代码仅存在于服务器上，在那里它被处理成将发送到浏览器的代码。

为了实现鼠标悬停效果，您可以采用使用 JavaScript 的传统方法，并执行以下操作：

```
var kitten = document.getElementById("kitten");

kitten.addEventListener("mouseover", function(){
    this.src = "overImage.png";
}, false);

kitten.addEventListener("mouseout", function(){
    this.src = "originalImage.png";    
}, false); 
```

小提琴：http: [//jsfiddle.net/jonathansampson/ZPqPy/](http://jsfiddle.net/jonathansampson/ZPqPy/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T16:25:30.093

如果您将图像命名为 1.png、2.png、...、13.png，假设您只有 13 个图像，这可能会起作用。

```
var image = document.getElementById("image");
var counter = 1;
image.addEventListener("mouseover", function(){
   counter = counter +1;
   this.src = counter + ".png";
}, false);

image.addEventListener("mouseout", function(){
    this.src = counter + ".png";
}, false); 
```

也就是说，假设所有图像都与 javascript 所在的网页位于同一目录中。它会在鼠标悬停时更改图像，但在鼠标悬停时不会更改。

你可以随心所欲地改变它。

# regex - Eclipse如何在方法声明的右括号上搜索和替换

> ID：10909834
> 
> 赞同：1
> 
> 时间：2012-06-06T07:22:25.237
> 
> 标签：regex, eclipse, multiline

我认为这在 Eclipse 中不受支持，但我想找到我声明的每个方法的每个右括号，并在它关闭之前用另外一个代码行替换它。

我试图通过正则表达式“ `public.*\}`”或“ `public[.\s]*\}`”来查找，但它没有找到单个方法声明。

尽管有些帖子声明 Eclipse 具有多行搜索和替换功能，但使用正则表达式。我认为并非如此。
当正则表达式知道预期的位置时，通常给出的示例仅识别特定的换行符。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T07:42:24.930

这是可能的，但不能使用正则表达式。相反，编写一个小型 Java 程序并添加`org.eclipse.jdt.core_3*.jar`到类路径中。`plugins/`您可以在Eclipse 安装文件夹中找到此 JAR 。

JAR 包含 Eclipse 编译器，该编译器具有将 Java 源代码转换为[AST](https://en.wikipedia.org/wiki/Abstract_syntax_tree)的 API 。遍历 AST，对所有方法进行区域设置并使用 AST 节点添加新代码。有一些方法可以将 AST 转换为字符串。使用它来生成新的源代码。

如果您不知道新的 AST 节点应该是什么样子，请将代码添加到单个方法并打印结果。

另一种选择是使用[AOP](https://en.wikipedia.org/wiki/Aspect-oriented_programming)，它允许您在运行时包装方法。

**[编辑]**查看`org.eclipse.jdt.internal.corext.refactoring.surround.SurroundWithTryCatchRefactoring` 示例中的代码（[grepcode 上的源代码](http://www.grepcode.com/file/repository.grepcode.com/java/eclipse.org/3.7/org.eclipse.jdt/ui/3.7.0/org/eclipse/jdt/internal/corext/refactoring/surround/SurroundWithTryCatchRefactoring.java?av=f)）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:26:07.827

由于嵌套的，这是不可能的`{}`。正则表达式无法处理嵌套。

尝试在every*前面*插入一个新行`}\s*public`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T08:45:11.420

您可以像这样匹配和替换嵌套括号：

搜索模式：({(?:{?(?:\s|.)}?)*?)(})

替换模式：$1\t//我的代码\n$2

但是，这在 Eclipse 中不起作用，而在 Java 中起作用。

# javascript - 是否可以同时使用 CodeMirror: Velocity 模式和 CodeMirror: HTML 混合模式？

> ID：10909835
> 
> 赞同：10
> 
> 时间：2012-06-06T07:22:25.373
> 
> 标签：javascript, editor, codemirror

有没有人为 codemirror 制作了“htmlmixed”+“Velocity”模式？或者任何人都可以建议如何实现这一目标？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-10-13T09:01:14.673

我可以使用 overlay.js 插件轻松实现这一点：

```
CodeMirror.defineMode("velocityOverlay", function(config, parserConfig) {
  return CodeMirror.overlayMode(CodeMirror.getMode(config, "htmlmixed"), CodeMirror.getMode(config, "velocity"));
}); 
```

然后在编辑器中将模式选项设置为“velocityOverlay”，你就完成了。

但是，速度模式会将 <、> 等字符突出显示为您可能不想要的速度运算符，因为它会使您的 html 高亮看起来难看。为了解决这个问题，我更改了velocity.js 中的以下代码行：

```
var isOperatorChar = /[+\-*&%=<>!?:\/|]/; 
```

到

```
var isOperatorChar = /[+\*&%=?:|]/; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-11T09:05:53.913

如果您想使用特定的字符串来打开模式，您可能可以使用[mode-multiplexer到达某个地方。](http://codemirror.net/doc/manual.html#util_multiplex)但看起来 Velocity 需要更高级的东西。所以你必须编写自己的超级模式，类似于 htmlmixed 模式所做的，它可以智能地在模式之间切换。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-08T06:36:41.130

我认为您不能同时使用[CodeMirror: Velocity 模式](http://codemirror.net/mode/velocity/index.html) 和[CodeMirror: HTML 混合模式。](http://codemirror.net/mode/htmlmixed/index.html) 模式是以特定方式做事的方式。你怎么能把两种模式混在一起？我不认为有可能。

# java - 文本文件的字符串比较

> ID：10909837
> 
> 赞同：1
> 
> 时间：2012-06-06T07:22:41.170
> 
> 标签：java, android

> **可能重复：**
> [比较2个java语言文本文件的内容](https://stackoverflow.com/questions/1510520/compare-the-content-of-2-text-files-in-java-language)

我正在尝试在 android 应用程序中比较两个 .txt 文件的字符串。你能告诉我如何进行吗？我想在其中插入代码

```
try {
     URL url = new URL("httpurl");                             
     URLConnection ucon = url.openConnection();
     InputStream is = ucon.getInputStream();
     BufferedInputStream bis = new BufferedInputStream(is);
     ByteArrayBuffer baf = new ByteArrayBuffer(50);
     int current = 0;
     while ((current = bis.read()) != -1) {
           baf.append((byte) current);
     }

     FileOutputStream fos = new FileOutputStream("/mnt/sdcard/random.txt");
     fos.write(baf.toByteArray());
     fos.close();
} catch (IOException e) {
     Log.d("ImageManager", "Error: " + e);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T07:45:27.833

您不应该将整个文件读入内存然后进行比较！

您可以按块**读取这两个文件**，比较每个块对并在块不同时停止读取。此外，您应该为块重用内存缓冲区。

这种方法可以让您提前停止（有利于性能）并管理内存（因此您可以比较非常大的文件）

请记住，这是一个耗时的操作，因此**您不应该在 UI 线程中执行此**操作。为此使用[AsyncTask 。](http://developer.android.com/reference/android/os/AsyncTask.html)

另外，我建议**在读取文件之前比较文件大小**。这非常快，并且可以在文件大小不同的情况下让您尽早停止（非常有利于性能）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T07:44:45.907

```
 File dir = Environment.getExternalStorageDirectory();

       File yourFile1 = new File(dir, "path/to/the/file/inside/the/textfile1.txt");
       File yourFile2 = new File(dir, "path/to/the/file/inside/the/textfile2.txt");

       put the check for file exists ..........

       FileInputStream fstream1 = new FileInputStream(yourFile1 );  
       FileInputStream fstream2 = new FileInputStream(yourFile2 );  

     DataInputStream in1 = new DataInputStream(fstream1);  
      BufferedReader br1 = new BufferedReader(new InputStreamReader(in1));  

    DataInputStream in2 = new DataInputStream(fstream2);  
      BufferedReader br2 = new BufferedReader(new InputStreamReader(in2));  

    String strLine1, strLine2;  
     boolean isSame = true;
    while ((strLine1 = br1.readLine()) && strLine2 = br2.readLine()) ) != null)   {  
          if(strLine1.equals(strLine2))  
               System.out.println(strLine1)
          else{                     //optional just try to optimize can remove
                  //not same 
                  isSame = false;
                   break;
                }  
    } 
```

# air - 调整和重新打包空气应用程序

> ID：10909839
> 
> 赞同：1
> 
> 时间：2012-06-06T07:22:57.620
> 
> 标签：air, adobe, packaging, tweak

我有一个 AIR 应用程序，我想稍微调整一下。我只有 .air 包，没有原始源代码树。

我注意到它只是一个包含内容的 ZIP 文件。当我操作内容时，AIR 不再接受该包。我认为这是因为 META-INF/AIR/hash 和签名不再是最新的。

我可以从修改后的树创建一个新的（自签名）AIR 包吗？如何？我一直在查看 adt 工具，但找不到太多关于这个用例的信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:51:58.810

只需使用 adt 就可以了。首先创建用于自签名的密钥库：

`adt.bat -certificate -cn dummy 1024-RSA test.p12 password`

然后创建包：

`adt.bat -package -storetype pkcs12 -keystore test.p12 -tsa none -target air test.air META-INF/AIR/application.xml`

...然后列出要包含在包中的所有资源。

# silverlight - ASync CTP 稳定吗？

> ID：10909841
> 
> 赞同：1
> 
> 时间：2012-06-06T07:23:01.663
> 
> 标签：silverlight, silverlight-4.0, async-ctp

在我们当前的项目中，我们必须使用 Silverlight 4（我们的客户还不能分发 SL5）。我们还使用 MVVM 4.0。

由于 Silverlight4，我们遇到了许多异步处理，我们希望在链接所有异步事件时防止“意大利面条”代码。我们正在寻找一个框架，比如微软的 ASync 框架来处理这种“意大利面条”代码。

问题是 ASync 框架是 CTP 并且可能存在错误，并且当此版本成为 RTM 时可能会更改 API。

当前的 ASync 框架 CTP 版本是否足够稳定，可以投入生产？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T08:16:14.650

AsyncCTP 相当稳定，但迁移到 Silverlight 5 似乎是一个更好的主意。
在 Visual Studio 2012 中的 Silverlight 4 项目中也不支持 Async/Await（还没有？）。要开发 Silverlight 4，您应该坚持使用支持 Silverlight 4 的 Visual Studio 2010 和 AsyncCTP v3，或者将您的项目更新到 Silverlight 5 并使用[Async Targeting Pack](http://www.microsoft.com/en-us/download/details.aspx?id=29576) for Visual Studio 2012。

# css - 使用 CSS 表达式是好是坏？

> ID：10909846
> 
> 赞同：1
> 
> 时间：2012-06-06T07:23:28.210
> 
> 标签：css, css-expressions

我需要一些关于在 css 中应用表达式的说明。有些人建议不要使用 css 表达式。请澄清我的疑问。谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T07:42:13.640

您不应该**使用 CSS 表达式**，因为它们会在整个网页上的许多用户交互中不断进行评估。

此外，由于 IE 8 以来的此类复杂性，Microsoft 已弃用此功能。

## 请参阅以下文章：

摘自YDN的[Steve Souders发表的一篇文章](http://stevesouders.com/)

[高性能网站：规则 7 – 避免使用 CSS 表达式](http://developer.yahoo.com/blogs/ydn/posts/2007/07/high_performanc_6/)

> 表达式的问题在于，它们的求值频率超出了大多数人的预期。它们不仅会在页面呈现和调整大小时进行评估，而且还会在页面滚动时甚至当用户将鼠标移到页面上时进行评估。

* * *

从[MSDN](http://msdn.microsoft.com/en-us/library/ms537634%28v=vs.85%29.aspx)：

> 从 Windows Internet Explorer 8 开始，动态属性已被弃用，仅支持以 IE5（Quirks）模式或 IE7 标准模式显示的网页...

**重要的**

> Internet Explorer 8 及更高版本、IE8 标准模式及更高版本不再支持动态属性（也称为“CSS 表达式”）。做出此决定是出于标准合规性、浏览器性能和安全原因

* * *

[你可以在这里](http://blog.dynatrace.com/2010/02/16/the-real-performance-overhead-of-css-expressions/)看到一个简单的`CSS expressions`性能测试！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:41:08.233

[http://msdn.microsoft.com/en-us/library/ms537634(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/ms537634(v=vs.85).aspx)

我想这应该足以回答。我不建议使用它们。

# javascript - 使用 svg 清除内存泄漏

> ID：10909849
> 
> 赞同：0
> 
> 时间：2012-06-06T07:23:43.423
> 
> 标签：javascript, ipad, cordova, svg, raphael

我正在使用 svg 在 ipad phonegap 应用程序中的图像上涂鸦。
初始化 svg 的代码是：

```
function initDrawing(){ 
var paper;
var masterBackground ;
    paper = Raphael(document.getElementById('scroller'),780,1500);
    masterBackground = paper.image("data:image/jpg;base64,"+test,0,0,780,1500);
} 
```

我正在使用 raphael.js 库来创建 svg 元素。
一切正常。我有下一个和上一个按钮。如果我再次单击下一步按钮，则会调用函数 initDrawing()。新图像已加载，现在手写变得更慢。每次我单击下一个按钮时，涂鸦都会变得越来越慢。为什么会这样？哪里发生了内存泄漏？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T17:54:43.777

你检查过你的 DOM 是什么样子的吗？看起来您可能只是继续添加图像，而不是替换现有图像。

如果你真的想保留旧图像，你至少应该设置`display="none"`它们。

# android - 如何获得最多 3 个小数点的 GPS 经度和纬度值？

> ID：10909852
> 
> 赞同：1
> 
> 时间：2012-06-06T07:23:53.530
> 
> 标签：android, gps

我开发了一个 GPS 应用程序，我得到的值如下：

**78.38582246667-17.4532826666**

但我需要像：

**78.385 - 17.453**

我也在使用 DecimalFormating。但我没有得到小数点后 3 位的 Logitude 和 Latitude。

这是我的示例代码：

```
if (location != null) {         
    String credits = String.format("Current Location \n Longitude: %1$s \n Latitude: %2$s", location.getLongitude(), location.getLatitude());       
    Double number = Double.valueOf(credits);
    DecimalFormat dec = new DecimalFormat("#.000 EUR");
    String message = dec.format(number);
    Toast.makeText(Clockin.this, message, Toast.LENGTH_SHORT).show();
    //txt.setText(message); 
    System.out.println("GPS.."+message);
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-06T07:28:29.357

使用下面的代码行

```
DecimalFormat dec = new DecimalFormat("#.###"); 
```

代替

```
DecimalFormat dec = new DecimalFormat("#.000 EUR"); 
```

# java - 如何从 servlet 获得对 jsp 的响应？

> ID：10909855
> 
> 赞同：1
> 
> 时间：2012-06-06T07:24:02.843
> 
> 标签：java, jsp, servlets, response

我正在尝试从 servlet 使用中获得响应

```
request.setAttribute(error, error);
request.getRequestDispatcher("http://localhost:8080/redicted_test/Home.jsp").forward(request, response);

String redictedURL="http://localhost:8080/redicted_test/Home.jsp";
response.sendRedirect(redictedURL); 
```

但得到错误

```
java.lang.IllegalStateException: Cannot call sendRedirect() after the response has been committed 
```

我知道我发送了两次回复，但我该怎么做呢？你能告诉我最简单的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:26:19.883

您已经转发了请求，现在您正在重定向它

```
request.getRequestDispatcher("http://localhost:8080/redicted_test/Home.jsp").forward(request, response);
..
response.sendRedirect(redictedURL); 
```

如果你想从 servlet 中设置一些属性并需要在 jsp 上显示，那么只需将请求转发到 jsp 并显示这些属性

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:28:08.787

在您的示例中，您已经执行了 jsp，并且渲染的 jsp 被发送到响应缓冲区中。并且由于您已经开始发送响应，因此响应标头已发送。但就在那之后，您想要发送重定向，并且重定向是一种头操作（更改 http 状态代码和位置头）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T07:35:28.860

我认为你应该使用`include`而不是`forward`..

```
forward is used to forward a request, that is control is transfered to the
new servler/jsp. u shud take care to not put any our.println() statements 
in the servlet from where u plan to call forward method. in fact u cant even 
fire response.getWriter() method in this case. u can only do that in the servlet
to which the control is bein fwded 
```

**如果您要将请求转发到另一个 servlet 或 JSP，请不要写任何东西来响应。例如，如果 Servlet1 将请求转发给 Servlet2，则 Servlet1 不应该写任何东西来响应，也不应该调用 response.getOutputStream() 方法。这是不允许的，并且无论 servlet1 写入响应的任何内容都不会输出，否则您将得到 IllegalStateException .**

```
include - means that the new servlet/jsp will be procesed and any
out.println()/html stuff will be included and then control will come
back to the servlet/jsp that called include method. 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T07:35:34.587

在 a 之后`RequestDispatcher.forward()`，响应将被提交并关闭。您不能将任何标题/内容写入响应。

这就是为什么你不能`redirect`或`do operation which adds header or response content`在做之后`RequestDispatcher.forward()`。

您拥有的替代方法是使用包含而不是转发。

但是，我不明白你的用例。您正在转发和重定向到同一页面。

# python - 如果我打开一个不是 Django 根目录的目录，PyCharm 找不到正确的路径

> ID：10909857
> 
> 赞同：44
> 
> 时间：2012-06-06T07:24:14.687
> 
> 标签：python, django, pycharm

我们的项目通常是结构化的：

```
/project-name
  /src
    /django-project-name
      etc..
readme.md
requirements.txt 
```

如果我打开`/project-name`而不是`/django-project-name`PyCharm 强调我的导入说他们找不到，它会尝试引用导入，因为`src.django-project-name.app_name.models.Thing`在运行 Django 时实际上无法找到。

我怎样才能让它像我安装`/djang-project-name`在正确的地方一样工作？

* * *

## 回答 #1

> 赞同：98
> 
> 时间：2012-06-06T08:15:46.673

我通过在树中`File -> Preferences -> Project Structure`选择并单击添加它来修复它。`/django-project-name``sources`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-24T13:51:50.933

我遇到了 PyCharm 找不到现有 Django 项目的模板文件夹的问题。于是我创建了一个测试项目，看到只有在设置项目时才添加模板文件夹设置（应该在project-root/.idea/project-name.iml）

复制相同的设置并将文件夹更改为正确的设置为我解决了这个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T08:02:08.467

Python 需要`__init__.py`在作为模块或项目一部分的每个目录中都有一个文件，在 pycharm 中，您可以通过首选项添加额外的路径

# php - PHP将密码存储在服务器根目录中

> ID：10909859
> 
> 赞同：-1
> 
> 时间：2012-06-06T07:24:20.483
> 
> 标签：php, security

如果我将一组登录凭据存储在我的服务器根目录中，如果我只是将其存储在 PHP 文件中，那么不对其进行哈希处理是否存在任何安全风险？

```
$user = 'user';
$password = 'password'; 
```

我将登录凭据存储到我网站上具有锁定内容的页面，用户必须单击链接才能接收，以防您想知道。当用户登录时，我可以像这样授权登录，对吗？

```
include('../logininfo.php');
if ($_POST['user'] == $user) {
//...etc 
```

这种方法有问题吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-06T07:26:26.307

是的，您应该避免这样做。有一种可能性（我根据经验说话）您的虚拟主机可能会搞砸并开始以纯文本形式提供 PHP 文件，而不是执行它们。

您应该将凭证文件放在您的 Web 根目录之外。您仍然可以包含它，但它不会通过浏览器提供。

如果您位于不允许您在 Web 根目录之外访问的共享虚拟主机上，请将凭证文件放在它自己的目录中，并使用`.htaccess`文件阻止对该目录的访问。有关执行此操作的步骤，请参见此处：[拒绝直接访问 PHP 文件](https://stackoverflow.com/questions/10855318/deny-direct-access-to-php-file/10855365#10855365)

*您应该使用 MySQL 数据库来存储用户名和散列密码的事实超出了此答案的范围。我会假设你有充分的理由去做你正在做的事情。*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T07:27:13.500

只要没有人可以访问您的服务器，我认为没有任何风险。但我还是建议你散列你的密码！

# c# - c#中的嵌套锁定误解？

> ID：10909864
> 
> 赞同：5
> 
> 时间：2012-06-06T07:24:59.700
> 
> 标签：c#, .net, multithreading, .net-4.0, locking

有人可以解释一下为什么我们需要嵌套锁定吗？

看看这个例子：

```
lock (locker)
  lock (locker)
    lock (locker)
      {
        ...
      } 
```

![在此处输入图像描述](../Images/5637ecccf07261be6ba7b8486db6c257.png)

有人可以解释一下（+示例将不胜感激）。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-06T07:28:10.293

> 有人可以解释一下为什么我们需要嵌套锁定吗？

这只是一个问题，因为您可能对需要锁定的方法进行了嵌套（例如相互递归）调用。这些方法必须允许在资源已锁定但不能依赖它的情况下调用。所以嵌套锁定是*允许*的，而不是*需要*的。

您发布的代码（以及您参考的书）通过将其简化为内联场景来展示它是如何工作的。那不是“真正的”代码。

简单的规则是已经拥有锁的线程可以再次锁定它，并且退出的数量必须与进入的数量相匹配才能释放锁。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-06T07:32:41.720

在某些情况下，在同一线程上嵌套锁的能力是否非常实用。

假设您有一个具有多个方法的类。假设您想要一个非常简单的锁定方案，如下所示：

```
class A
{
    public void MethodOne()
    {
        using (locker)
        {
            ...body...
        }
    }

    public void MethodTwo()
    {
        using (locker)
        {
            ...body...
        }
    }
} 
```

现在，如果`MethodOne`调用，如果监视器中没有可重入锁定功能`MethodTwo`，您将在 开始时出现死锁。`MethodTwo`线程只会通过`locker`.

幸运的是，此示例仅适用于 .NET。储物柜“知道”哪个线程将其锁定以及锁定了多少次，它将（仅）让拥有的线程通过。该计数用于确保从其他等待线程的角度来看，解锁仅在退出时发生，`MethodOne`而不是在退出时发生`MethodTwo`。所以这是一个有用的嵌套锁定的例子。

另一方面，问题中提到的示例似乎来自[这本书](http://books.google.co.il/books?id=VENrFSQFco8C&pg=PA813&lpg=PA813&dq=%22A%20thread%20can%20repeatedly%20lock%20the%20same%20object%20in%20a%20nested%20%28reentrant%29%20fashion%22&source=bl&ots=3uU4rnd_9P&sig=5NNh4Jbi7pVEZrLydrrs_bOhsBc&hl=en&sa=X&ei=qQbPT5zGNorV8gP0q424DA&ved=0CC0Q6AEwAQ#v=onepage&q=%22A%20thread%20can%20repeatedly%20lock%20the%20same%20object%20in%20a%20nested%20%28reentrant%29%20fashion%22&f=false)。作者想清楚地表明嵌套锁定在 .NET 中是可能的，自动的；但是他们的示例代码是人为的，不打算出现在任何人的代码中，除非试图了解锁定是如何在幕后工作的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-06T08:27:49.600

您的问题的直接答案是：您*不需要*嵌套锁定。但是，编译器允许这样做是为了使某些场景更易于编码。

在问题的示例代码中，内锁将*始终*成功 - 因为要获得内锁，您必须已经成功获得外锁。您的线程已经锁定`locker`，因此内部锁定“自动”成功。

这从来都不是*必需*的，并且不提供额外的线程安全性。

但是，在 Jirka Hanika 的回答中发布的场景中，这种行为意味着一个线程安全成员可以被另一个线程安全成员调用，而不必担心死锁。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-06T07:30:30.810

正如您所提到的，您根本不需要嵌套锁定。

但为了清楚起见，值得指出的是，有些锁*可以*嵌套。查看[ReaderWriterLockSlim](http://msdn.microsoft.com/en-us/library/system.threading.readerwriterlockslim.aspx)类，您可以在其中作为读锁输入，然后在该范围内，您可以将其升级为写锁。

编辑：正如 Royi Namir 指出的那样，调用嵌套函数*每个都有自己的 lock*，从概念上讲会产生上述场景，但是提出问题的方式，看起来 3 个锁在同一个范围内完成，一个接一个其他的意义不大。

# android - android中的setAnimation与startAnimation

> ID：10909865
> 
> 赞同：15
> 
> 时间：2012-06-06T07:25:02.097
> 
> 标签：android, animation, layout

我基本上想将一个视图从一个位置移动到另一个位置，另外我还想逐渐增加它的高度，那么我应该使用 setAnimation 还是 startAnimation。

```
TranslateAnimation ta = new TranslateAnimation(0, 0, Animation.RELATIVE_TO_SELF, -otherview.getHeight());
ta.setDuration(1000);
ta.setFillAfter(true);

myview.startAnimation(ta); //or, which one to use and what is the difference. 

myview.setAnimation(ta); 
```

问题：如何移动这个相对布局？

我试过`myview.scrollTo(x,y)`但没有用。是否可以逐渐增加视图高度？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-06-06T07:36:26.630

使用开始动画。

以下是示例代码段

```
trans = new TranslateAnimation(0, 100, 0, 100);
trans.setDuration(250);
trans.setInterpolator(new AccelerateInterpolator(1.0f));
someView.startAnimation(trans); 
```

> 另外我也想逐渐增加它的高度，

为此，您将缩放动画。

如果要将它们组合成单个文件，请使用 Set。

```
<?xml version="1.0" encoding="utf-8"?> 
<set xmlns:android="schemas.android.com/apk/res/android"
android:interpolator="@android:anim/linear_interpolator">
   <scale android:fromXScale="0.0" android:fromYScale="0.0"
          android:toXScale="1.0" android:toYScale="1.0" 
          android:duration="700" android:fillBefore="false" />
   <translate android:fromXDelta="-200" android:fromYDelta="-200"
          android:duration="700" />
</set> 
```

将以下代码放入 java 文件中：

```
Animation logoMoveAnimation = AnimationUtils.loadAnimation(this, R.anim.logoanimation); 
logoIV.startAnimation(logoMoveAnimation); 
```

**设置动画**

设置为此视图播放的下一个动画。但视图动画尚未开始。

**开始动画**

如果您希望动画立即播放，请使用 startAnimation。此方法允许对开始时间和失效进行细粒度控制，但您必须确保

1）动画有一个开始时间设置，

2）当动画应该开始时，视图将失效。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-12-11T09:28:35.443

这是我的理解。

设置动画

当视图被添加到视图组时，动画将被调用。当视图被添加时，动画将不会被调用

开始动画

即使添加了视图，动画也会一直被调用。

# asp.net - 我们如何通过asp.net将word文档转换为pdf

> ID：10909866
> 
> 赞同：0
> 
> 时间：2012-06-06T07:25:07.870
> 
> 标签：asp.net

我们如何通过asp.net将word文档转换为pdf。我通过 FileUpload 浏览了一个 ms-word 文件，当我点击 OK 时，它会自动将该文件转换为 PDF。谁能指导我怎么可能。我通过谷歌得到了一些代码，但那是不完整的。如果有人知道解决方案，请与我分享。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:53:11.507

来自：[将word doc转换为pdf](http://social.msdn.microsoft.com/Forums/en/vsto/thread/f8989c05-d04a-4b4a-be0f-fc0055691de7)

```
private Microsoft.Office.Interop.Word.ApplicationClass MSdoc;       

        //Use for the parameter whose type are not known or say Missing
        object Unknown = Type.Missing;

  private void word2PDF(object Source, object Target)
        {   //Creating the instance of Word Application          
       if (MSdoc == null)MSdoc = new Microsoft.Office.Interop.Word.ApplicationClass();

            try
            {  
                MSdoc.Visible = false;               
                MSdoc.Documents.Open(ref Source, ref Unknown,
                     ref Unknown, ref Unknown, ref Unknown,
                     ref Unknown, ref Unknown, ref Unknown,
                     ref Unknown, ref Unknown, ref Unknown,
                     ref Unknown, ref Unknown, ref Unknown, ref Unknown, ref Unknown);
                MSdoc.Application.Visible = false;
                MSdoc.WindowState = Microsoft.Office.Interop.Word.WdWindowState.wdWindowStateMinimize;               

                object format = Microsoft.Office.Interop.Word.WdSaveFormat.wdFormatPDF;

                MSdoc.ActiveDocument.SaveAs(ref Target, ref format,
                        ref Unknown, ref Unknown, ref Unknown,
                        ref Unknown, ref Unknown, ref Unknown,
                        ref Unknown, ref Unknown, ref Unknown,
                        ref Unknown, ref Unknown, ref Unknown,
                       ref Unknown, ref Unknown);
            }
            catch (Exception e)
            {
                MessageBox.Show(e.Message);
            }
            finally
            {
                if (MSdoc != null)
                {
                    MSdoc.Documents.Close(ref Unknown, ref Unknown, ref Unknown);
                    //WordDoc.Application.Quit(ref Unknown, ref Unknown, ref Unknown);
                }               
                // for closing the application
                WordDoc.Quit(ref Unknown, ref Unknown, ref Unknown);
            }
        } 
```

请参阅以下内容：在 c# 中将[word](http://social.msdn.microsoft.com/Forums/en-US/worddev/thread/afad1a12-731f-4a2e-a986-30d2d2af979b/)[转换为](https://stackoverflow.com/questions/10442772/convert-word-to-pdf-using-free-third-party-dll)[pdf](https://stackoverflow.com/questions/8772169/convert-doc-to-pdf)
[文件，以便在 asp.net 中进行代码隐藏](http://social.msdn.microsoft.com/Forums/hu/worddev/thread/5afa8b64-06f9-4385-a674-03ad4ba73430)

iTextSharp 也是一种选择。

希望这有帮助..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:58:00.630

@Niranjan Kala's answer is a well and good option

still if you need an another option you can go for: which provides SDK's for the same..

[http://www.pdfonline.com/](http://www.pdfonline.com/)

# asp.net - 在 asp.net 页面中查看 pdf 页面

> ID：10909867
> 
> 赞同：2
> 
> 时间：2012-06-06T07:25:09.957
> 
> 标签：asp.net, vb.net

我正在分页逐页读取pdf文件并在浏览器中打开页面我尝试使用itextsharp和itext但它以文本形式返回页面有没有办法读取pdf文件页面并在broser中查看它，就像在pdf中一样格式化

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:29:21.603

您可以使用[可嵌入的 Google 文档查看器吗](http://googlesystem.blogspot.co.uk/2009/09/embeddable-google-document-viewer.html)

```
<iframe src="http://docs.google.com/gview?url=http://infolab.stanford.edu/pub/papers/google.pdf&embedded=true" style="width:600px; height:500px;" frameborder="0"></iframe> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:28:31.353

使用 iframe 并将其 src 指向 PDF。它仍然会调用客户端的 PDF 阅读器，但会嵌入到您的页面中。

# java - 在 ruby 中通过“DES-EDE3-CBC”加密并在 Java 中解密

> ID：10909871
> 
> 赞同：3
> 
> 时间：2012-06-06T07:25:23.297
> 
> 标签：java, ruby, encryption

我正在尝试通过 Ruby 中的密码“DES-EDE3-CBC”加密数据，然后在 Java 中解密加密数据。

这是我进行加密的Ruby代码：

```
require 'digest'
require 'openssl'
require 'base64'

ALG = "DES-EDE3-CBC"
key = "80f28a1ef4aa9df6ee2ee3210316b98f383eb344"
cipher = OpenSSL::Cipher::Cipher.new(ALG)
cipher.pkcs5_keyivgen(key, nil)
cipher.encrypt
data = "hello"
result = cipher.update(data)
result << cipher.final
# Write the data to file.
File.open("enc.txt", "wb"){|f| f.write result} 
```

然后用Java解密：

```
import java.security.*;
import java.*;
import java.io.*;
import javax.crypto.*;
import javax.crypto.spec.*;

public class Test{
  public static void main(String[] args) throws Exception {
    String key = "80f28a1ef4aa9df6ee2ee3210316b98f383eb344";

    // Init the key
    DESKeySpec desKeySpec = new DESKeySpec(key.getBytes());
    SecretKeyFactory keyFactory = SecretKeyFactory.getInstance("DES");
    Key secretKey = keyFactory.generateSecret(desKeySpec);

    Cipher cipher = Cipher.getInstance("DES/ECB/PKCS5Padding");
    cipher.init(Cipher.DECRYPT_MODE, secretKey);

    byte[] buf = new byte[1024];
    InputStream input = new FileInputStream(new File("enc.txt"));
    FileOutputStream output = new FileOutputStream(new File("dec.txt"));

    int count = input.read(buf);

    // Read and decrypt file content
    while (count >= 0) {
        output.write(cipher.update(buf, 0, count)); 
        count = input.read(buf);        
    }
    output.write(cipher.doFinal());
    output.flush();

  }
} 
```

但是我在运行 Java 代码时总是遇到异常：

```
Exception in thread "main" javax.crypto.BadPaddingException: Given final block not properly padded
  at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:811)
  at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:676)
  at com.sun.crypto.provider.DESCipher.engineDoFinal(DESCipher.java:314)
  at javax.crypto.Cipher.doFinal(Cipher.java:1969)
  at Test.main(Test.java:29) 
```

我认为问题在于 Ruby 中的“DES-EDE3-CBC”密码与 Java“DES/ECB/PKCS5Padding”不兼容。我该怎么做？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T13:08:00.287

`Cipher#key_ivgen`在 Ruby 方面，除非有严格要求，否则不要使用。它已被弃用，应使用[OpenSSL::PKCS5代替基于密码的加密。](http://www.ruby-doc.org/stdlib-2.0/libdoc/openssl/rdoc/OpenSSL/PKCS5.html)您的密钥似乎是十六进制的，40 个字符，最多产生 20 个字节的熵。为什么它具有这种特殊形式？三重 DES 密钥长 24 个字节，创建安全密钥的最简单方法是：

```
cipher = OpenSSL::Cipher.new("DES-EDE3-CBC")
cipher.encrypt
key = cipher.random_key 
```

这样做时，您还应该始终在加密之前[生成一个随机 IV ：](http://www.ruby-doc.org/stdlib-2.0/libdoc/openssl/rdoc/OpenSSL/Cipher.html)

```
iv = cipher.random_iv 
```

为了将密钥和 IV 传递给 Java，如果您需要它们的十六进制表示：

```
hex_key = key.unpack("H*")[0] 
```

在 Java 中，您错误地使用 DES 而不是 DESede，并且您在 ECB 模式下使用它，而在 Ruby 中您使用的是 CBC。不要使用欧洲央行。您还必须`Cipher`使用 Ruby 中使用的密钥和 IV 来初始化 。为此，您需要一个适当的十六进制编码/解码器（在网上搜索），我已经采用了我能找到的第一个代码示例，但请注意，这不是最有效的方法，一个表格 -基于查找会快得多。但是我们需要一些东西来帮助您入门，所以这里是：

```
public static byte[] hexDecode(String hex) {
    ByteArrayOutputStream bas = new ByteArrayOutputStream();
    for (int i = 0; i < hex.length(); i+=2) {
        int b = Integer.parseInt(hex.substring(i, i + 2), 16);
        bas.write(b);
    }
    return bas.toByteArray();
}

byte[] key = hexDecode("<hex representation of the Ruby key>");
byte[] iv = hexDecode("<hex representation of the Ruby IV>");

DESedeKeySpec desKeySpec = new DESedeKeySpec(key);
SecretKeyFactory keyFactory = SecretKeyFactory.getInstance("DESede");
Key secretKey = keyFactory.generateSecret(desKeySpec);
IvParameterSpec ivSpec = new IvParameterSpec(iv);
Cipher cipher = Cipher.getInstance("DESede/CBC/PKCS5Padding");
cipher.init(Cipher.DECRYPT_MODE, secretKey, ivSpec);
... /* do the decryption */ 
```

# android - 如何控制用户构建中的详细日志？

> ID：10909873
> 
> 赞同：2
> 
> 时间：2012-06-06T07:25:38.330
> 
> 标签：android

我可以看到 LOGV 消息是 USER 构建（在 logcat 中）。

在用户构建中，通常禁用详细日志记录？或者至少我是这么想的。我们如何确保我们的 LOGV 消息显示在 userdebug 而不是用户构建中？

谢谢 Himanshu

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T11:16:00.727

构建您自己的 Log 类来检测它是否是调试构建，然后将其用于所有日志。

看看： http: [//developer.android.com/reference/android/content/pm/PackageManager.html#getPackageInfo](http://developer.android.com/reference/android/content/pm/PackageManager.html#getPackageInfo(java.lang.String,%20int) (java.lang.String,%20int )

[http://developer.android.com/reference/android/content/pm/PackageInfo.html](http://developer.android.com/reference/android/content/pm/PackageInfo.html)

[http://developer.android.com/reference/android/content/pm/ApplicationInfo.html](http://developer.android.com/reference/android/content/pm/ApplicationInfo.html)

它可能看起来像这样：

```
public void logv(String tag, String message) {

        if(isDebug()) {
            Log.v(tag,message);
        }

        private boolean isDebug() {
            return (0 != (myContext.getPackageManager().getPackageInfo("com.myapp",0).applicationInfo.flags &= ApplicationInfo.FLAG_DEBUGGABLE)); 
        }
    }
} 
```

或者使用 Log.d 而不是 Log.v

# eclipse - Eclipse Indigo 不显示 Windows -> 首选项 -> Java

> ID：10909878
> 
> 赞同：0
> 
> 时间：2012-06-06T07:26:08.693
> 
> 标签：eclipse, bdd, mockito

我想基于现有的测试模板将 BDDMockito 与 Eclipse 一起使用，以自动生成 BDD 样式注释和静态导入的 BDDMockito 成员。为此，我需要从该位置设置模板 -

修改模板，导航到 Window > Preferences > Java > Editor > Templates。

但是，我看不到这个选项。请建议我如何查看这个。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T12:47:26.300

如果您使用对话框左侧 TreeView 控件上方的文本框，并输入“模板”，这是否会在展开的过滤树中显示 Java 模板视图？

# sql - 由于通过分组连接表而存在空行

> ID：10909884
> 
> 赞同：1
> 
> 时间：2012-06-06T07:26:19.980
> 
> 标签：sql, sql-server-2005

我正在努力`Group By`和`Null`，如下所示。

我有两个如下表

```
Table : 1 accountmast       
companyID   accname             category    
102         PURCHASE ACCOUNT    Purchase Account    
102         LOCAL PURCHASE      Purchase Account    
102         SALES ACCOUNT       Sales Account   

Table: 2 ledger     
companyID   name                debit   credit
102         PURCHASE ACCOUNT    4742.3  
102         LOCAL PURCHASE      51106   
102         SALES ACCOUNT               8010
102         SALES ACCOUNT               4330000
102         PURCHASE ACCOUNT    5480000 
```

我查询如下：

```
select  
case    
when a.catagory ='Purchase Account' then    
l.name  
end as PurchaseAccount, 

case    
when a.catagory ='Purchase Account' then    
sum(coalesce(l.debit,0))-sum(coalesce(l.credit,0) ) 
end as PurAmt,  

case    
when a.catagory = 'Sales Account' then  
l.name      
end as SalesAccount,    
case    
when a.catagory = 'Sales Account' then  
sum(coalesce(l.credit,0))-sum(coalesce(l.debit,0) ) 
end as SalesAmt 

from ledger l join accountmast a    
on l.companyID=a.companyID  
and l.name = a.accname  
where l.companyID=102   
and a.catagory IN('Purchase Account','Sales Account')   
group by l.name,a.catagory 
```

结果是：

```
Purchase Account    PurAmt          Sales Account   SalesAmt
LOCAL PURCHASE      51106.00         NULL           NULL
PURCHASE ACCOUNT    5484742.30       NULL           NULL
NULL                NULL            SALES ACCOUNT  4338010.00 
```

并且要求是：

```
Purchase Account    PurAmt           Sales Account   SalesAmt
LOCAL PURCHASE      51106.00         SALES ACCOUNT   4338010.00
PURCHASE ACCOUNT    5484742.30 
```

解决办法是什么？。

如果我使用`Group By`它，它允许`Null`值关联表的列。

如果我使用`MAX`，`MIN`那么它会显示单个记录。我需要做什么？

如果有人有更好的解决方案，请提出建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:42:50.597

```
WITH    q AS
        (
        SELECT  am.category, l.name,
                CASE am.category WHEN 'Purchase Account' THEN amt ELSE -amt END
        FROM    accountmast am
        CROSS APPLY
                (
                SELECT  name, SUM(COALESCE(credit, 0) - COALESCE(debit, 0)) AS amt
                FROM    ledger l
                WHERE   l.name = am.accname
                        AND l.companyId = am.companyId
                GROUP BY
                        name
                ) l
        WHERE   am.companyId = 102
        )
SELECT  l1.name, l1.amt, l2.name, l2.amt
FROM    (
        SELECT  *, ROW_NUMBER() OVER (ORDER BY name) AS rn
        FROM    q
        WHERE   category = 'Purchase account'
        ) l1
FULL JOIN
        (
        SELECT  *, ROW_NUMBER() OVER (ORDER BY name) AS rn
        FROM    q
        WHERE   category = 'Sales account'
        ) l2
ON      l2.rn = l1.rn 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T13:21:42.713

**注意：这不是答案它是 Quassnoi 考虑的参考。**

我在此作了一些更正供您考虑。

```
WITH    q AS
(
SELECT  am.catagory, l.name,
CASE am.catagory WHEN 'Purchase Account' THEN Amount ELSE -Amount     END as Amount -- Here I provide the column name and alter the Column
FROM    accountmast am
    CROSS APPLY
    (
    SELECT  name, SUM(COALESCE(debit, 0) - COALESCE(credit, 0)) AS Amount --Reverse the sum function which is oppose of yours. And your's shows the value in minus.
    FROM    ledger l
    WHERE   l.name = am.accname
    AND l.companyId = am.companyId
    GROUP BY
             name
    ) l
    WHERE   am.companyId = 102
)
SELECT  l1.name as PurACC, l1.Amount as PurAmt, l2.name as SalACC, l2.Amount as SalAmt -- alter the columns for Binding Purpose.
FROM
    (
        SELECT  *, ROW_NUMBER() OVER (ORDER BY name) AS rn
        FROM    q
        WHERE   catagory = 'Purchase account'
    ) l1
FULL JOIN
    (
        SELECT  *, ROW_NUMBER() OVER (ORDER BY name) AS rn
        FROM    q
        WHERE   catagory = 'Sales account'
    ) l2
ON l2.rn = l1.rn 
```

上述更改很重要，否则您的答案仍然不正确并引发错误检查。

# maven-plugin - 按需设置部署/创建自己的虚拟机

> ID：10909893
> 
> 赞同：0
> 
> 时间：2012-06-06T07:26:55.690
> 
> 标签：maven-plugin, virtual-machine

我需要部署电子邮件服务器并随后为其创建 java 插件。

我得到了一台二手 HP Proliant 服务器。

我计划通过以下方式使用它：

1.  在服务器上部署一个设置，该设置将按需创建和提供虚拟机，以便可以维护不同版本的构建以测试本地代码更改和实验。怎么做，什么开源包最适合这里？

2.  因为我使用 maven 项目，所以我需要使用什么最好的插件，以便仅通过 maven 命令我可以将我的项目部署在 #1 提供的虚拟机上并在其上运行我的测试用例。（这是从开发人员本地构建的角度来看），CI 等是单独设置的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-12-16T08:28:21.430

一个有趣的方法是让云来做到这一点 - 有各种实用程序和服务允许您使用代码创建基础架构。

根据您想要配置的虚拟机/应用程序，不同的服务/实用程序可能是相关的（例如 AWS 的 cloudformation、Openstack 的热量等）。

[Ravello Systems](http://www.ravellosystems.com)提供了一个有趣的解决方案，它基本上可以让您轻松地在云中创建应用程序的完整副本，他们甚至实现了一个 maven 插件来帮助实现自动化。看看[http://www.ravellosystems.com/blog/ravello_maven_plugin/](http://www.ravellosystems.com/blog/ravello_maven_plugin/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-10T15:22:37.033

**对于 #1**

我正在使用 Sun 虚拟机来运行我的虚拟机，因为 Xen Cloud 平台、OpenStack 等其他解决方案仍然不是开箱即用的解决方案，并且需要陡峭的学习曲线。

Vmware 播放器提供有限的功能并且不提供虚拟机的克隆。

**对于 #2**

仍然无法通过 Maven 插件自动化复杂的部署，仍然使用自定义 shell 脚本。

# asp.net - Web.config 安全级别

> ID：10909894
> 
> 赞同：0
> 
> 时间：2012-06-06T07:26:58.320
> 
> 标签：asp.net, windows, azure, web-config

我对 web.config 文件有一点疑问。它是一个安全文件吗，我的意思是这个文件可以从外部访问吗？
我看到很多系统来保护它，但它似乎只是为了开发安全。
但是“外部安全”呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:14:46.043

这是安全的，除非他们有权访问您的 Windows Live ID（弱点）或获取 .rdp 文件，否则任何人都无法进入您的云服务（Web 角色），他们仍然需要知道您的用户名和密码来记住你。如果您担心为什么不遵循开发人员的安全性并加密其中的字段。

IMO 比有人闯入您的企业源代码控制系统并从那里窃取它们更安全。

Windows Azure 信任中心更详细，可以肯定地说它是世界上最安全的数据中心之一：[https ://www.windowsazure.com/en-us/support/trust-center/security/](https://www.windowsazure.com/en-us/support/trust-center/security/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T12:32:58.353

实际上，web.config 文件不受 Azure 或 WebRole 保护。它受 IIS 本身的保护。所有匹配“*.config”通配符的文件默认映射到 HttpForbiddenHandler（除了 *.dll.config 和 *.exe.config，它们有另一个注册的处理程序）

您可以在全局（您的所有 w.configs 的父级）web.config 文件中找到所有默认映射，该文件位于此处“c:\<Windows>\Microsoft.NET\Framework\<v4.0.30319>\Config\web. config" 你可以看到很多默认为不同文件掩码注册的处理程序：

```
<configuration><system.web><httpHandlers>
    <add path="*.config" verb="*" type="System.Web.HttpForbiddenHandler" validate="True" /> 
```

如果需要，您可以在自己的配置中重新定义此行为，但强烈建议不要将其用于“安全敏感”文件。因此，对 web.config 的“保护”内置在 IIS 本身中。

# dojo - 道场仪表无变化

> ID：10909895
> 
> 赞同：0
> 
> 时间：2012-06-06T07:26:58.790
> 
> 标签：dojo, gauge

[我使用 Dojo参考](http://dojotoolkit.org/reference-guide/1.7/dojox/gauges/GlossySemiCircularGauge.html#dojox-gauges-glossysemicirculargauge)站点上的示例在 dojox 中实现了一个仪表。我希望仪表不对用户的输入做出反应。示例中的文档表明应该传递“noChange”参数来完成此操作。但是，当我这样做时，仪表仍然接受用户的输入。

我是 Dojo 的新手，我唯一改变的是为 Dojo 1.7 加载模块的方式，如[文档](http://dojotoolkit.org/reference-guide/1.7/dojo/require.html#)中突出显示的那样。

```
 require(["dojox/gauges/GlossySemiCircularGauge", "dijit/form/Button"], function (GlossySemiCircularGauge, Button) {

        makeGauge = function () {
            var glossyCircular = new dojox.gauges.GlossySemiCircularGauge({
                background: [255, 255, 255, 0],
                title: 'Value',
                id: "semiGlossyGauge",
                width: 300,
                height: 300,
                value: 40,
                noChange: false,
            }, dojo.byId("SemiCircularGauge"));
            glossyCircular.startup();
        };
        dojo.ready(makeGauge); 
```

我正在运行托管在 ajax.googleapis.com 上的 Dojo 1.7.1。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T09:07:40.417

如果您不希望用户输入，我相信 noChange 应该是正确的。

示例： http: [//fiddle.jshell.net/9kEE9/1/](http://fiddle.jshell.net/9kEE9/1/)

# php - 使用php将mp3文件上传到服务器

> ID：10909900
> 
> 赞同：0
> 
> 时间：2012-06-06T07:27:23.023
> 
> 标签：php, file-upload

我正在尝试使用 php 代码将 mp3 文件上传到服务器，如图所示。

```
$audio=basename($_FILES['file']['name']);
$audio=str_replace(' ','|',$audio);
$tmppath1="audios/".$audio;
move_uploaded_file($_FILES['file']['tmp_name'],$tmppath1);
$query="INSERT INTO `appinstaller`.`tbl_audio` (`audioname`) VALUES ('$audio')";
$res=mysql_query($query); 
```

在此文件中成功上传，但上传到服务器需要更多时间。

有什么方法可以更快地上传 MP3 文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:30:09.923

可能不会 - 您展示的内容没有显示任何明显的瓶颈。很可能只是客户端连接需要很长时间。

您*需要*修复的是`$audio`. 见[http://php.net/manual/en/security.database.sql-injection.php](http://php.net/manual/en/security.database.sql-injection.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:39:30.490

文件越大，所需的时间就越长。你可以使用像[uploadify](http://www.uploadify.com/)这样的脚本来给你一个上传百分比，所以它看起来不像浏览器挂起，但是上传文件时有一些安全考虑，你的脚本有人可以上传任何东西，即使是PHP，也不要直接访问文件或允许文件被 php 解析..

您还应该使用准备好的查询，因为这些`mysql_*`函数处于弃用过程中。[http://news.php.net/php.internals/53799](http://news.php.net/php.internals/53799)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T08:31:48.283

通常缓慢的上传速度是由于有限的 TCP 窗口（在任何给定时间可以在两个网络位置之间传输的数据包的最大数量）。此值通常由低级 OS 驱动程序确定，并且不受您的控制。

通过并行数据传输可以实现更快的上传速度；一个文件被分成几部分，然后并行传输。您需要确定同时上传两组数据是否会真正减少传输时间。

现代浏览器公开了一个 JavaScript 接口，以二进制流的形式访问本地文件；有些将允许您（有效地）将文件的切片读入内存并通过 AJAX 传输这些切片。这也称为分块。

在服务器端，您还需要进行更改以支持分块。在并行上传期间使用会话会导致锁定；这可能是也可能不是问题，具体取决于您的要求。

希望这能让您对“让您的上传速度更快”的方法有所了解:)

# git - 使用 git reset --hard 撤消我的错误

> ID：10909901
> 
> 赞同：2
> 
> 时间：2012-06-06T07:27:24.223
> 
> 标签：git, version-control

我不小心添加了一些使用`git add .`. 我想使用删除更改`git reset --hard`。当我键入时，我收到此错误消息。

```
fatal: Failed to resolve 'HEAD' as a valid ref 
```

我试着打字`git reset --hard HEAD^`。仍然无法解决它。

我该如何解决？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T07:36:31.460

听起来您正在尝试在新创建的存储库中构建初始提交。

由于您实际上还没有提交任何内容，您可以通过删除`.git`目录并再次运行来`git init`重新开始。

* * *

或者，您可以尝试`git rm --cached .`从索引中删除文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:37:57.053

你试过`git reset origin/master`吗？

或者`origin/master`如果您有一些想要保留的未推送提交，则更改为提交 ID。

# postgresql - 如何在 postgresql 日期时间中添加天数

> ID：10909902
> 
> 赞同：106
> 
> 时间：2012-06-06T07:27:26.747
> 
> 标签：postgresql, datetime

我有一张下表`projects`。

```
id title        created_at               claim_window
1  Project One  2012-05-08 13:50:09.924  5
2  Project Two  2012-06-01 13:50:09.924  10 
```

A）我想通过计算找到截止日期`deadline = created_at + claim_window(No. of days)`。

类似于以下的东西。

```
id title        created_at               claim_window  deadline
1  Project One  2012-05-08 13:50:09.924  5             2012-05-13 13:50:09.924
2  Project Two  2012-06-01 13:50:09.924  10            2012-06-11 13:50:09.924 
```

B) 我也想找到截止日期已经过去的项目

```
id title        created_at               claim_window  deadline
1  Project One  2012-05-08 13:50:09.924  5             2012-05-13 13:50:09.924 
```

我尝试如下。

```
SELECT * FROM "projects" 
WHERE (DATE_PART('day', now()- created_at) >= (claim_window+1)) 
```

但由于某种原因，它不起作用。

* * *

## 回答 #1

> 赞同：175
> 
> 时间：2012-06-06T07:36:52.270

这将为您提供最后期限：

```
select id,  
       title,
       created_at + interval '1' day * claim_window as deadline
from projects 
```

或者，`make_interval`可以使用该功能：

```
select id,  
       title,
       created_at + make_interval(days => claim_window) as deadline
from projects 
```

要获取截止日期已过的所有项目，请使用：

```
select *
from (
  select id, 
         created_at + interval '1' day * claim_window as deadline
  from projects
) t
where localtimestamp at time zone 'UTC' > deadline 
```

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2018-06-13T06:13:35.037

对我来说，我必须将整个区间放在单引号中，而不仅仅是区间的值。

```
select id,  
   title,
   created_at + interval '1 day' * claim_window as deadline from projects 
```

代替

```
select id,  
   title,
   created_at + interval '1' day * claim_window as deadline from projects 
```

[Postgres 日期/时间函数](https://www.postgresql.org/docs/current/static/functions-datetime.html)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2021-08-30T11:02:41.707

您可以使用以下代码附加或减去任何日期字段

选择日期（'08/30/2021'）+ 180 ---它将给出下一个 180 天的日期

选择 current_date + 180 ---它将给出下一个 180 天的日期

选择 current_date - 180 ---它将在 180 天之前给出

# java - Java中的二项式检验

> ID：10909903
> 
> 赞同：7
> 
> 时间：2012-06-06T07:27:30.013
> 
> 标签：java, binomial-coefficients

我正在寻找一个高效的 Java 库（甚至是一个函数）来执行臭名昭著的精确二项式检验。[类似于此处](http://stat.ethz.ch/R-manual/R-patched/library/stats/html/binom.test.html)描述的 R 函数“binom.test” 。

你能帮助我吗？非常感谢！:-)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-09T10:20:25.863

除了 BinomialDistribution Apache commons.math3 3.3（在撰写本文时未发布）之外，还有一个[BinomialTest](https://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math3/stat/inference/BinomialTest.html)可以为您提供 p 值和[BinomialConfidenceInterval](http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math3/stat/inference/BinomialConfidenceInterval.html)。与您命名的 stats R 包相比，它并不多，但它不仅仅是上面提到的发行版。

在我遇到您的问题时发布此问题，以寻找一种仅获取已知二项分布的 p val 的方法，上面的链接就是答案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-07T14:42:19.853

也许你应该检查[http://sourceforge.net/projects/parallelcolt/](http://sourceforge.net/projects/parallelcolt/)这个包和 apache Math 是最常见的统计计算

# delphi - 将数据共享到 LinkedIn 用户的个人资料

> ID：10909909
> 
> 赞同：1
> 
> 时间：2012-06-06T07:28:09.740
> 
> 标签：delphi, linkedin

我正在开发一个将数据共享到 LinkedIn 用户个人资料的程序。我正在使用 Delphi XE2、OAuth 和 LinkedIn API。我能够访问令牌。但是我在尝试时遇到错误。
我正在为 Delphi 使用[OAuth](http://chuckbeasley.wordpress.com/2009/04/29/using-oauth-for-delphi/)。对于我正在使用的 SSL，`TIdSSLIOHandlerSOcketOpenSSL`使用方法 sslvSSLv3。我正在尝试发布以下内容：

我`(https://api.linkedin.com/v1/people/~/shares)`以 Url 和
`(<?xml version=1.0 encoding=UTF-8?>';<share> <comment> hiSir</comment><visibility><code>anyone</code></visibility></share>)`Xml 的形式发布。

还有我的 Idhttp 标头* *** * `'Authorization: OAuth realm =https://api.linkedin.com/’', oauth_consumer_key=xxxx&oauth_nonce=A7CB896D776BA2FEC05E9FBB66AD06B2&oauth_signature_method=HMAC-SHA1&oauth_signature=K%2F7uzf%2FjEvQ3u12a0Olimf%2FZxG4%3D&oauth_timestamp=1338019026&oauth_token=xxxx&oauth_version=1.0&oauth_verifier=53326`

我从 Indy Http 得到的结果是：`Http/1.1 401 – Unauthorized` 谁能帮我解决这个问题？

# php - PHP setlocale 没有效果

> ID：10909911
> 
> 赞同：78
> 
> 时间：2012-06-06T07:28:11.063
> 
> 标签：php, date, setlocale

该`setlocale()`函数未设置所需的语言（德语）。

* * *

目标是输出月份名称。

到目前为止，这是我的测试代码：

```
<?php

date_default_timezone_set('Europe/Berlin');
setlocale(LC_ALL, 'de_DE.utf8');
// Or
setlocale(LC_ALL, 'de_DE@euro');
// Or
setlocale(LC_ALL, 'de_DE');
// Or
setlocale(LC_ALL, 'de');
// Or
setlocale(LC_ALL, 'ge');

echo strftime('%B'); 
```

*输出：*

> 六月

*代替*

> 朱尼

有什么建议么？

*   我没有 ssh 或其他 shell 访问权限。
*   该脚本在 linux 服务器上运行。

PHP 版本 5.6

* * *

## 回答 #1

> 赞同：109
> 
> 时间：2012-06-06T07:34:52.093

您运行脚本的服务器上很可能未安装德语语言环境 - 您是否具有对服务器的 shell 访问权限？然后尝试

```
locale -a 
```

查看安装了哪些语言环境。也看看这里[依赖 setlocale 并依赖安装的语言环境是否可行？](https://stackoverflow.com/questions/1941956)

* * *

## 回答 #2

> 赞同：35
> 
> 时间：2013-07-15T20:30:19.727

你的代码是正确的。您可能只需要在运行脚本的服务器上安装正确的语言包。

在终端中，如果在运行命令后没有列出您要使用的语言`sudo locale -a`，那么您必须通过运行以下命令来安装缺少的语言：

```
sudo /usr/share/locales/install-language-pack de_DE 
```

（`sudo`如果您的用户有 root 权限，这里是可选的）

然后，如果您仔细检查，`sudo locale -a`您应该会看到`de_DE.utf8`.

如果要安装法语语言包运行

```
sudo /usr/share/locales/install-language-pack fr_FR 
```

然后，您将被允许通过`setlocale(...)`完全像您所做的那样在 PHP 中将您的语言设置为这些。

**注意：** 如果您在非 utf8 项目中，则需要从已安装的包中生成其他格式。以下是如何在 ubuntu 上进行操作（这也适用于 debian）：

编辑***/var/lib/locales/supported.d/cs***并添加以下行

```
 fr_FR.iso88591 ISO-8859-1
  fr_CA.iso88591 ISI-8859-1 
```

并运行

```
 sudo dpkg-reconfigure locales 
```

然后再次运行，`sudo locale -a`您应该会在列表中看到**fr_FR.iso88591**和**fr_CA.iso88591**，您可以通过调用在 php 中使用它`setlocale(LC_ALL, 'fr_FR.iso88591');`

* * *

## 回答 #3

> 赞同：35
> 
> 时间：2016-11-24T00:10:03.937

对于那些来这里寻找`date()`不本地化月份和工作日名称的人：

==注意==

date() 只能返回英文的月/日名称，无法为您提供其他语言的翻译。

改用`strftime()`！

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2012-06-06T07:38:43.440

试试这个：

```
date_default_timezone_set('Europe/Berlin');
$loc=setlocale(LC_ALL, 'de_DE@euro', 'de_DE', 'deu_deu');
echo strftime('%B'); 
```

* * *

## 回答 #5

> 赞同：13
> 
> 时间：2012-06-06T07:52:18.197

**如果您没有对服务器的 shell 访问权限，此解决方案可能会有所帮助。**

**如果您有 shell 访问权限，那么[本杰明·塞勒的答案](https://stackoverflow.com/a/10910009/1387233)是最好的！**

由于我没有任何其他可能性（shell），因此我通过使用[IntlDateFormatter 类](http://php.net/manual/en/class.intldateformatter.php)找到了仅使用 PHP 的解决方案。

```
<?php

// Example vars
$month = '6';
$year = '2014';

$fmt = new IntlDateFormatter('de_DE',
    IntlDateFormatter::FULL,
    IntlDateFormatter::FULL,
    'Europe/Berlin',
    IntlDateFormatter::GREGORIAN);

$lastMonth = mktime(0, 0, 0, $month -1, 1, $year);

$showLastMonth =  $fmt->format($lastMonth);
echo $showLastMonth; 
```

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2014-05-12T15:12:30.387

['setlocale' sais 的 PHP 手册页](http://www.php.net/manual/en/function.setlocale.php)：

> 注意：setlocale() 的返回值取决于 PHP 运行的系统。它准确地返回系统 setlocale 函数返回的内容。

如果你有 root 访问权限（debian），这里是解决方案：

编辑

```
/etc/locale.gen 
```

您可以添加/删除您需要使用的语言环境。保存文件后运行：

```
locale-gen 
```

你应该没事。在我的服务器上，我必须重新启动 Apache 才能看到更改。

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2019-05-25T08:54:53.253

就我而言，这不起作用：

```
setlocale(LC_ALL, 'de_AT'); // false 
```

虽然这确实有效：

```
Locale::setDefault('de_AT'); // true 
```

这确实有效：

```
setlocale(LC_ALL, 'de_AT.utf-8'); // true 
```

语言环境程序的输出：

```
$ locale -a
[...]
C.UTF-8
de_AT.utf-8
de_DE.utf-8
en_AG
[...] 
```

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2019-07-10T07:41:26.670

```
apt-get install -y locales locales-all 
```

* * *

## 回答 #9

> 赞同：5
> 
> 时间：2020-03-31T20:34:03.910

这太痛苦了。

我想将日期翻译成西班牙语，它在我的本地主机上工作，但不在服务器上（Ubuntu 18）。原来我没有正确的语言环境包。

首先，我检查了已安装的软件包以确保它们丢失

```
locale -a 
```

然后我使用脚本安装了西班牙语 UTF

```
sudo pkg-reconfigure locales 
```

然后我花了几个小时把头撞在桌子上，直到我意识到**你需要重新启动 APACHE！**

```
sudo service apache2 restart 
```

我的故事就这样结束了。希望能帮助到你。

* * *

## 回答 #10

> 赞同：4
> 
> 时间：2014-06-26T08:17:51.820

取决于底层操作系统`"de_DE"`和其他可能是错误的字符串。

在 Windows 下，请参阅此列表：

*   [http://msdn.microsoft.com/en-us/library/39cwe7zf(v=vs.90).aspx](http://msdn.microsoft.com/en-us/library/39cwe7zf%28v=vs.90%29.aspx)
*   [http://msdn.microsoft.com/en-us/library/cdax410z%28v=vs.90%29.aspx](http://msdn.microsoft.com/en-us/library/cdax410z%28v=vs.90%29.aspx)

Win下通常是“DEU”或“GERMAN”。

已经提到：

在 Linux 下，您可以使用 shell 命令查看所有语言环境：

```
locale -a 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2021-12-11T05:21:39.153

`setlocale()`PHP对不同版本有奇怪的支持。

*以下测试在 Windows（同一台机器）、Apache 2.4 x64（同一 Web 服务器）、PHP x64 TS（不同版本）上进行。*

[`setlocale()`](https://www.php.net/manual/en/function.setlocale.php)返回：

> 返回新的当前语言环境，或者`false`如果您的平台上没有实现语言环境功能，则指定的语言环境不存在或类别名称无效。

所以，我将在不同版本的 PHP 上使用下面的测试。在 PHP 7.0 - 8.1 上测试。

```
var_dump(setlocale(LC_ALL, 'en_US')); 
```

PHP 7.0、7.1 返回`'en_US'`.
PHP 7.2+（或更新版本）返回`false`.

```
var_dump(setlocale(LC_ALL, 'en-US')); 
```

PHP 7.0+ 返回`'en-US'`.

并用于测试多个值以查看哪个值将被`setlocale()`函数接受。
我使用这个数组。

```
$locale = ['en_US.UTF-8', 'en-US.UTF-8', 'en.UTF-8', 'en-US', 'en_US', 'en'];
var_dump(setlocale(LC_ALL, $locale)); 
```

PHP 7.0、7.1 返回`'en_US.UTF-8'`.
PHP 7.2+ 返回`'en-US.UTF-8'`.

如您所见，如果`'en_US'`旧版本支持 PHP，并不意味着新版本会支持 PHP。

对于 OP 的情况，也许可以尝试使用此数组来查看将接受哪个语言环境。

```
$locale = ['de_DE.UTF-8', 'de-DE.UTF-8', 'de.UTF-8', 'de_DE', 'de-DE', 'de', 'ge'];
var_dump(setlocale(LC_ALL, $locale)); 
```

结果在 Linux 或其他操作系统上可能不同。

* * *

## 回答 #12

> 赞同：-1
> 
> 时间：2016-12-04T20:24:54.740

感谢 Rico Neitzel 的提示。与其尝试格式化 php 日期，不如使用 strftime。要查看您的语言中月份名称的前 3 个字母（例如 Dez 而不是来自 Dezembro 的 Dec 而不是十二月），请按照上面的语言环境安装说明进行操作，然后：

~~date command: date('d M Y')~~ // 不可能从英文改成

```
setlocale( LC_ALL, "pt_BR"); // Portuguese, replace with your locale
echo strftime('%e %b %G');
result: "4 Dez 2016"

/**
 * datelo funcion (date with locale)
 * Credits: Sergio Abreu 
 * http://sites.sitesbr.net
 * NOTE: Depend on availability of the locale in server.
 *
 */

function datelo( $str, $locale='en_US', $time=null){

  if( $time === null){  $time = time(); }

  if ( preg_match("/[DlFM]/", $str)){

     setlocale(LC_ALL, $locale);

     $dict = array( 'd'=>'%d', 'D'=>'%a', 'j'=>'%e', 'l'=>'%A', 'N'=>'%u', 'w'=>'%w', 'F'=>'%B', 
      'm'=>'%m', 'M'=>'%b', 'Y'=>'%G', 'g'=>'%l', 'G'=>'%k', 'h'=>'%I', 'H'=>'%H', 'i'=>'%M', 
      's'=>'%S', 'S'=>'', 'z'=>'%j', 'n'=>'%m', ' '=>' ', '-'=>'-', '/'=>'/', ':'=>':', ','=>',');

     $chars = preg_split("//", $str);
     $nstr = '';

     foreach ($chars as $c){
        if ($c){ //skip empties
          $nc = $dict[$c];
          if( $c === 'n'){ // Fixes the extra zero
            $nc = preg_replace("/^0+/", '', strftime( $nc));   
          }
          elseif( $c === 'z'){ // Fixes the extra zero and decrease 1
            $nc = preg_replace("/^0+/", '',  strftime( $nc)); // 023 turns 23
            $nc = intval($nc) - 1;
          }          
          $nstr .= $nc;
        }
   }
   return strftime( $nstr);     

  }else{ // not localized
    return date( $str, $time);
 } 
} 
```

* * *

## 回答 #13

> 赞同：-1
> 
> 时间：2017-11-17T09:48:17.270

如果您在**Red Hat 机器上**，您可以运行：

```
localedef -v -c -i de_DE -f UTF-8 de_DE.UTF-8 
```

然后重新启动您的 Apache 服务器

* * *

## 回答 #14

> 赞同：-1
> 
> 时间：2022-02-17T18:37:50.180

我希望这对 php 7.4 有所帮助

当我尝试用西班牙语打印日期时，它给了我英文版本。

所以我在终端打印我所有的语言包：

```
# locale -a 
```

它没有给我西班牙语，所以运行：

```
# sudo /usr/share/locales/install-language-pack es_ES 
```

并将代码中的 te setlocale 更改为：

```
<?php 
setlocale (LC_TIME, "es_ES", "es_ES.iso88591", "spanish");
?> 
```

之后，使用以下命令重新启动 php 服务：

```
/etc/init.d/php7.4-fpm restart 
```

就是这样

# search - 野字符中的 SOLR 搜索问题

> ID：10909918
> 
> 赞同：1
> 
> 时间：2012-06-06T07:28:38.507
> 
> 标签：search, solr

我在 SOLR 中有一个带有 wild char 的搜索查询。我的需要是我需要设置字符长度。SOLR 有可能吗？

例如

status:(d*mo) - 我只需要得到一个有 4 个字符的单词，即一个字符应该被替换到第二个位置

请帮忙

谢谢

* * *

伟大的 ！还有一个疑问。我们是否需要在“？”之前放回斜杠？? 即需要 d\?mo 吗？同样在 SOLR 中是否支持单斜线？例如：我可以检查“杰克”这个词吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T07:45:26.897

通配符有两种形式：

*   `asterisk ("*")`这将匹配零个或多个任意字符和
*   `question mark ("?")`这将完全匹配一个任意字符。

如果你想检查单个任意字符，你应该使用`?`

因此`d?mo`将匹配具有 4 个字符的单词，其中第二个字符是可变部分。

有关详细信息，请参阅[通配符查询](http://lucidworks.lucidimagination.com/display/lweug/Wildcard+Queries)

# project-management - 管理具有成功故事的旧项目

> ID：10909920
> 
> 赞同：-1
> 
> 时间：2012-06-06T07:28:53.110
> 
> 标签：project-management

我带着 4 岁的孩子来到了一个成功的项目，它已经在生产中。问题是，该项目不再有文档记录，它只依赖于 2 个高级开发人员，他们了解系统，他们测试，他们处理请求的变化。

我需要知道什么是最佳实践，或者为了记录从高级设计到组件分析和设计、代码注释直到配置管理的所有模块，我必须执行哪些主要步骤。

传统的项目管理流程并没有让我清楚地了解如何收回旧项目的控制权。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T11:02:13.497

如果你让他们整天写文档，那么高级开发人员很容易被打扰，所以你最终可能会失去他们。

如果我是你，我会聘请一名技术作家/初级开发人员并将其作为首要任务。我也会让他或她与高级人员密切合作，而不会占用他们太多的时间（比如汇总问题，每天进行一小时的会议或类似的事情）。

一开始它可能会受到伤害，但如果执行得当，最后应该是一个不错的选择。

**注意**：您的高级人员和将编写文档的新人员之间的合作水平可能会有所不同，这取决于一些内部“政治”事情，例如开发人员是否因为您试图降低他们对文档的重要性而感到威胁项目，新人 / gal 对他们来说是多么不堪重负等等。所以在开始之前回答这些问题。

再一次 - 这是我对给定主题的个人看法，它的成功肯定取决于各种因素。所以你应该决定这是否是一个好方法。

# c# - NHibernate 并发线程插入具有唯一约束

> ID：10909927
> 
> 赞同：1
> 
> 时间：2012-06-06T07:29:13.327
> 
> 标签：c#, multithreading, nhibernate, concurrency

我有一个多线程应用程序，它可能会同时插入一些具有标记为唯一属性的相同类型对象。

```
public class Foo(){
...
    string PropertyThatshouldBeUnique {get;set;}
...
} 
```

每个线程都有自己的会话并执行以下操作：

```
Foo myFooInstance = new Foo();
myFooInstance.PropertyThatshouldBeUnique = "Bar";
myThreadSession.SaveOrUpadte(myFooInstance); 
```

*   我的数据库表有一个独特的约束，可以防止多次插入，因此我在第二次插入时遇到异常，触发整个事务的回滚（这不好）
*   并发插入可能非常接近（几毫秒）
*   我没有配置任何特定的[Nhibernate 并发策略](http://www.nhforge.org/doc/nh/en/index.html#transactions)（不确定这是否可以解决我的问题或使用哪一个）

我的问题是：

**我应该如何以及在代码中的何处检查先前插入的具有相同属性值的 Foo 对象？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-17T13:58:14.593

这是很久以前发布的，但是当我发现自己处于同样的情况时，让我告诉你我找到了哪些解决方案。

对于 DB 操作，它们不是让每个线程通过 来完成工作，而是`Nhibernate`将请求发送到另一个正在执行某种服务工作的线程。它公开了一些方法，如插入。

线程 1 想要插入 Object1

线程 2 想要插入 Object1

他们同时在做类似 Thread3.Insert(Object1) 的事情。

第一次调用`Thread3`接收，它打开一个到数据库的会话（无成本），它检查 Object1 不在数据库中`SELECT`，然后添加它。

第二个调用`Thread3`接收，即使是一纳秒后，它也会做同样的事情，但在之后停止`SELECT`并且什么也不做或发回异常。

等待第一个调用被处理的成本非常低，毕竟你通过需要检查的数据库约束来限制你的多线程速度（因此数据库访问）

这就像说，嗯，我有 2 台速度非常快的 PC 和 1 台低服务器。

我认为它更多的是设计问题而不是`Nhibernate`功能。

线程之间的同步已经很复杂了，但是使用 UnitOfWork 模式的线程之间的 DB 同步是一种痛苦。

（这是您的问题之一，因为您每次插入时都不会提交交易）

不过，也许这里的一些大师有更好的想法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-07T00:40:45.310

你能在 NHibernate 中做这样的事情而不破坏你当前的架构吗？

```
if(!Update(connection))
{
    using (var command = new SqlCommand(@"INSERT INTO foo VALUES (Bar, ...)", connection))
    {
        try
        {   
            command.ExecuteNonQuery(); 
        }               
        catch (BlahUniqueConstraintException) // dummy exception, please replace with relevant
        {
            // very rarely will get in here
            Update(connection);
        }           
    }
}           

private bool Update(SqlConnection connection)
{
    // use update to do two things at once: find out if the record exists and also ... update
    using (var command = new SqlCommand(@"UPDATE foo SET ... WHERE PropertyThatshouldBeUnique = 'Bar'", connection))
    {
        // if the record exists and is updated then returns 1, otherwise 0
        return command.ExecuteNonQuery() > 0;
    }   
} 
```

# javascript - 切换 div 与相同的类，但单独，而不是一次？

> ID：10909934
> 
> 赞同：4
> 
> 时间：2012-06-06T07:29:22.500
> 
> 标签：javascript, jquery

我有以下 HTML，因为我使用的是 Wordpress，所以我无法更改每个 div 的类。

```
<div class="show_hide">content1</div>
<div class="extended">extension of content 1</div>
<div class="show_hide">content2</div>
<div class="extended">extension of content 2</div> 
```

我的 jQuery 脚本如下：

```
 <script type="text/javascript">

    $(document).ready(function(){

        $(".sliding").hide(0);
        $(".show_hide").show(0);

    $('.show_hide').click(function(){
    $(".sliding").slideToggle(0);
    });

});

</script> 
```

现在，当单击 show_hide div 时，两个带有“扩展”类的 div 都会显示。我只想显示 div 点击的扩展名。谁能帮我这个？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-06T07:32:15.893

如果`.extended`元素是元素的紧随其后的兄弟`.show_hide`元素，则可以使用[`next`](http://api.jquery.com/next/)：

```
$('.show_hide').click(function(){
    $(this).next().slideToggle(0);
}); 
```

如果中间还有其他元素，可以使用[`nextAll`](http://api.jquery.com/nextAll/)，然后将选择减少到第一个匹配项（使用[`eq`](http://api.jquery.com/eq/)）：

```
$('.show_hide').click(function(){
    $(this).nextAll('.extended').eq(0).slideToggle(0);
}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T07:32:52.390

在回调函数中，变量`this`将包含对触发事件的 DOM 节点的引用：

```
$(this).next().slideToggle(0); 
```

# ruby - 如何在有和没有 javascript 的情况下运行黄瓜场景避免代码重复

> ID：10909935
> 
> 赞同：1
> 
> 时间：2012-06-06T07:29:23.540
> 
> 标签：ruby, testing, selenium, cucumber, capybara

我想知道是否有任何方法可以在不复制代码的情况下使用和不使用 javascript 运行黄瓜场景。

我开发利用 html5 导航的网站。但是，如果浏览器不支持 html5 功能，它应该可以找到。

我想编写测试导航的黄瓜测试。我知道我可以用简单的黄瓜场景测试基本的 html 导航。而且我可以使用相同的场景但使用@javascript 标记来测试html5 导航。

我真的很想避免这种代码重复。我正在试验周围的钩子，希望我可以简单地调用块，然后用

```
Capybara.using_driver(Capybara.javascript_driver) { block.call } 
```

但是，这不起作用。

任何人都知道如何实现这一点？

PS我对Ruby很陌生，刚开始使用黄瓜。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T15:49:57.060

根据 Jon M 使用环境变量的解决方案，您需要在每个场景运行之前设置 current_driver（这似乎比更改 default_driver 更好）。

```
Before do
  if ENV['USE_JS_DRIVER']
    Capybara.current_driver = Capybara.javascript_driver
  end
end 
```

然后运行

```
cucumber .
USE_JS_DRIVER=1 cucumber . 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:40:09.533

看起来你需要两个不同的场景。我会使用[背景](https://www.relishapp.com/cucumber/cucumber/docs/background)功能来避免步骤定义，但这只是个人喜好问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T08:29:23.057

如果您不想创建单独的功能来处理两种类型的浏览器，那么一种解决方案是使用环境变量告诉 cucumber 使用哪种类型的浏览器驱动程序，并调用 cucumber 两次。

您需要查询环境变量以设置正确的驱动程序，可能在`env.rb`：

```
if ENV['USE_JS_DRIVER']
    Capybara.current_driver = Capybara.javascript_driver
end 
```

然后你可以运行其中一个/两个：

```
cucumber .
USE_JS_DRIVER=1 cucumber . 
```

您必须找到一些有用的方法来合并两个黄瓜运行的结果，但是根据您的需要，这可能是比复制场景更简单的解决方案。

# c++ - SDL 中的真正全屏

> ID：10909936
> 
> 赞同：1
> 
> 时间：2012-06-06T07:29:23.850
> 
> 标签：c++, sdl, fullscreen

将 C++ 与 SDL 一起用于图形，我想知道全屏使用情况。当我调用 SDL_SetVideoMode 时使用 SDL_FULLSCREEN 标志可以很好地使其全屏显示，但是如果选择的分辨率小于系统的分辨率，则所有内容周围都会有黑色边框。如何使图像拉伸为真正的全屏？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:35:56.693

尝试将 SDL_SWSURFACE 标志添加到 SDL_SetVideoMode 调用。

您使用的是哪个操作系统？

# actionscript-3 - 使用 Flex4 和动作脚本 3 将图像添加到 TextInput

> ID：10909943
> 
> 赞同：0
> 
> 时间：2012-06-06T07:30:00.823
> 
> 标签：actionscript-3, apache-flex, flex4

嗨，请帮助我使用 Flex 4 和动作脚本 3 将 .png 图像添加到 TextInput 的当前光标位置。我已经 google 了，但我无法从那里得到正确的想法。请任何人建议我一些将图像添加到 TextInput 的想法。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:34:21.013

您必须创建一个显示图像的新 TextFlow 子/实例。在此处查找有关该主题的一些信息[（livedocs@adobe.com - 使用 TLF 添加图像）](http://help.adobe.com/en_US/flex/using/WS02f7d8d4857b1677-165a04e1126951a2d98-7ff4.html)

# ios - iOS 构建一个正则表达式以与 NSRegularExpression 一起使用

> ID：10909954
> 
> 赞同：1
> 
> 时间：2012-06-06T07:30:33.560
> 
> 标签：ios, regex, nsregularexpression

我试图阅读苹果文档，但我永远不会使用正则表达式，我不明白如何解决这个问题。我需要编写一个正则表达式来检查用户是否选择了与此规则匹配的字符串：第一个字母可以是 s 或 S 并且它是可选的第二个字符可以是 a 。（字符点），它是可选的 4 位数字，可以从 1 到 4，并且必须始终存在于数字可以存在于 az 的任何单个字符之后，并且在我可以拥有 . （字符点）并且它是可选的最后 2 必须是一个数字必须始终是 2 数字并且可以是可选的

我试着这样写

```
NSString *regexStr = @"(s|S)?(\\.)?(\\d+){,4}([a-z]?(\\.)?(\\d+){2}?"; 
```

但是控制台给出了这个错误

```
Error making regex: Error Domain=NSCocoaErrorDomain Code=2048 
"The operation couldn’t be completed. (Cocoa error 2048.)" UserInfo=0x6d3e9b0  
{NSInvalidValue=(s|S)?(\.)?(\d+){,4}([a-z]?(\.)?(\d+){2}?} 
```

任何人都可以帮助我吗？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:55:39.230

干得好：

```
(s|S)?(\.)?(\d){0,4}[a-z]?(\.)?(\d){2}? 
```

你有一个额外的左括号，使语法无效，并在 s`+`之后签名`\d`，这使得正则表达式接受无限数量的数字。

[正则表达式非常适合调试正则表达式： http](http://regexpal.com/) ://regexpal.com/

# c++ - 错误 C2893：无法专门化函数模板 C++

> ID：10909955
> 
> 赞同：1
> 
> 时间：2012-06-06T07:30:38.560
> 
> 标签：c++, string, split, tokenize

我尝试创建如下所示的字符串拆分模板，但出现错误。

```
struct splitX
{
  enum empties_t { empties_ok, no_empties };
};

template <typename Container>
Container& split(
  Container&                                 result,
  const typename Container::value_type&      s,
  typename Container::value_type::value_type delimiter,
  splitX::empties_t                           empties = splitX::empties_ok )
{
  result.clear();
  std::istringstream ss( s );
  while (!ss.eof())
  {
      typename Container::value_type field;
      getline( ss, field, delimiter );
      if ((empties == split::no_empties) && field.empty()) continue;
      result.push_back( field );
  }
  return result;
} 
```

当我尝试将它与下面的矢量类一起使用时，这会失败并显示标题中的错误：

```
std::getline(myfile,line);
std::vector<std::string> fields;
split(fields,line,' ');

// Test split function
std::cout << line << std::endl;
for(int i = 0; i < fields.size();i++)
  std::cout << fields[i]; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T08:18:55.910

好的，Microsoft Visual C++ 2008 不喜欢你的`Container::value_type::value_type`.

你可以使用这个可怕的结构：

```
template <typename T>
struct vte /*value_type_extractor*/
{
    typedef typename T::value_type type;
};

template <typename Container>
Container& split(
   Container&                                 result,
   const typename Container::value_type&      s,
   typename vte<typename vte<Container>::type>::type delimiter,
   splitX::empties_t                           empties = splitX::empties_ok )
{
  typedef typename Container::value_type string_type;
  typedef typename string_type::value_type elem_type;
  std::basic_istringstream<elem_type> ss( s );
  ...
} 
```

或者，您可以使用 STL 样式：

```
#inlcude <iterator>

template <typename OutputIterator, typename StringType>
OutputIterator split(
  OutputIterator                  out,
  const StringType&               s,
  typename StringType::value_type delimiter,
  splitX::empties_t               empties = splitX::empties_ok )
{
  typedef typename StringType::value_type elem_type;
  std::basic_istringstream<elem_type> ss( s );
  while (!ss.eof())
  {
      StringType field;
      std::getline( ss, field, delimiter );
      if ((empties == splitX::no_empties) && field.empty()) continue;
      *out++ = field;
  }
  return out;
}

//somewhere in code
{
    ...
    split(std::back_inserter(your_container), line, ' ');
} 
```

或者，你可以停止伪装成模板大神，编写两个重载函数：

```
template <typename Container>
Container& split(
   Container&              result,
   const std::string&      s,
   char                    delimiter,
   splitX::empties_t       empties = splitX::empties_ok )
{
  std::istringstream ss(s);
  ...
}

template <typename Container>
Container& split(
   Container&              result,
   const std::wstring&     s,
   wchar_t                 delimiter,
   splitX::empties_t       empties = splitX::empties_ok )
{
  std::wistringstream ss(s);
  ...
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T07:55:49.710

目视检查您的代码，我并没有真正发现任何问题。我对您的程序进行了剪切和粘贴，`main`在您的测试代码周围放置并编译它（FC 15 上的股票 g++）。

编译器在您的`split`函数中发现了一个错字。`split::no_empties`应该是`splitX::no_empties`。此外，在启用警告的情况下，它报告`for`循环正在将有符号类型与无符号类型进行比较。

在修正了那个错字和编译器警告之后，该例程编译并运行良好。

# spring - 如何在休息时解析spring post数据？

> ID：10909966
> 
> 赞同：1
> 
> 时间：2012-06-06T07:31:07.737
> 
> 标签：spring, rest, spring-mvc

我正在开发一个应用程序，我在其中使用 spring 框架 3.1.1 和 rest api。在其中，我开发了一个休息控制器，它将在接收到 url“/rest/host/{id}”的“GET”请求时将控件重定向到我的视图（表单）。现在，在用户填写表单后，发布的数据也使用 rest 处理。但是在我为处理发布请求而编写的方法中，我在一个字符串中获取了所有参数，我想解析并插入到数据库中。谁能说出解析这个春季数据的正确方法？我可以使用 String.split("&") 来做到这一点，但我认为这不是正确的方法。这是我的代码。

```
<form:form method="POST" action="/nagios-sms-1.0/rest/snooze/host/" commandName="snoozeBean">
        <table width="100%" border="5" cellpadding="0" cellspacing="0">
            <tr>
                <td align="center">
                    <table width="50%" border="5">
                        <tr>
                            <td colspan="3"></td>
                        </tr>
                        <tr>
                            <td width="30%"><form:label path="contactNumber">Enter host address</form:label></td>
                            <td width="30%"><form:input path="contactNumber" /></td>
                            <td />
                        </tr>
                        <tr>
                            <td width="30%"><form:label path="snoozeTimeoutValue">Enter Snooze time</form:label></td>
                            <td width="30%"><form:input path="snoozeTimeoutValue" /></td>
                            <td />
                        </tr>
                        <tr>
                            <td colspan="3">
                                <div id="buttons"
                                    style="margin-left: 20Px; margin-right: 100px;">
                                    <input type="submit" value="ok" /> <input type="reset" />
                                </div>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table> 
```

休息代码..

1) GET 处理方法

```
@RequestMapping(value = "/host/{hostId}", method = RequestMethod.GET)
public String snoozeHost(@PathVariable int hostId, ModelMap map) {

    Snooze snooze = new Snooze();
    snooze.setHost_id(hostId);
    map.put("snoozeBean", snooze);
    return "host";

} 
```

2) POST 处理方法

```
 @RequestMapping(value = "/host", method = RequestMethod.POST)   
    @ResponseBody
    public String snoozeHostOK(@RequestBody String payload) {

            // i want to parse this payload data which contains my form fields.
        System.out.println("data : " + payload);
        return payload;
    } 
```

任何形式的帮助将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T08:13:57.837

除了请求正文，您可以使用 @ModelAttribute 并将所有表单数据绑定到一个由 Spring Framework 在表单发布时填充的 pojo(snooze) 中。

您需要在 get 和 post 请求映射方法中将 snooze 声明为 @ModelAttribute。这将使您从表单中获取所有值。

**更新**

在此处查看您修改后的代码。

1.  GET 处理程序方法

    ```
    @RequestMapping(value = "/host/{hostId}", method = RequestMethod.GET) 
    public String snoozeHost(@PathVariable int hostId, @ModelAttribute Snooze snooze, ModelMap map) { 

    snooze.setHost_id(hostId); 
    return "host"; 

    } 
    ```

2.  POST 处理程序方法

    ```
    @RequestMapping(value = "/host", method = RequestMethod.POST)    
    @ResponseBody 
    public String snoozeHostOK(@ModelAttribute Snooze snooze) { 

    // you can use the setter methods of snooze object to retrieve the field values.
    return payload; 
    } 
    ```

希望这对您有所帮助。干杯。

# workflow - 将 Sitecore 与外部工作流引擎集成

> ID：10909968
> 
> 赞同：1
> 
> 时间：2012-06-06T07:31:20.467
> 
> 标签：workflow, sitecore, k2, skelta

是否可以将 Sitecore 与外部工作流引擎（K2、Skelta）集成，如果可以，如何将外部工作流与 Sitecore 内容项连接，我是否需要在 Sitecore 中实现新界面（如工作箱）。

我之所以需要这个，是因为当前的 Sitecore 工作流程不具备其他工作流程引擎所具有的所有功能，例如升级工作流程项目或并行批准步骤。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T17:32:43.140

至少有两种方式。最常见的方法是使用 Sitecore 工作流操作将项目移交给外部工作流系统。另一种方法是实现 IWorkflowProvider 和可能的相关接口，以完全抽象外部工作流引擎。我个人从未尝试过这两种方法，所以我无法提供任何细节。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T14:14:18.960

根据 sitecore 网站，他们将开放式架构列为一项优势。他们甚至说。

“与第三方系统集成：Sitecore CMS 提供完整的数据集成和抽象层，允许您连接到任何数据库、Web 服务或其他外部系统”

所以理论上是可以的。（完全披露，我为 K2 工作）我会四处打听，看看是否有人在内部做过这件事。

还有其他人做过类似的事情吗？

# emacs - 是否可以将文本从另一个应用程序推送到 Emacs 的当前缓冲区？

> ID：10909969
> 
> 赞同：5
> 
> 时间：2012-06-06T07:31:22.147
> 
> 标签：emacs

我想制作一个可以像这样使用的命令行应用程序：

`$push_to_emacs_buffer "some text"`

然后当前运行的 Emacs 将追加`some text`到它当前的活动缓冲区中。

关于如何实现这一目标的任何想法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T09:11:53.213

尝试

```
emacsclient -e '(with-current-buffer (window-buffer (selected-window)) (insert "some text"))' 
```

在 Linux 上，`push-to-emacs-buffer`可以这样实现：

```
#!/bin/sh

emacsclient -e "(with-current-buffer (window-buffer (selected-window)) \
                  (insert \"$@\"))" 
```

# java - 选中复选框的问题

> ID：10909970
> 
> 赞同：0
> 
> 时间：2012-06-06T07:31:30.017
> 
> 标签：java, android

我用[它](http://www.vogella.com/articles/AndroidListView/article.html#listadvanced_interactive)来设置列表视图中的复选框，我按照给定的教程遵循了所有步骤，但是输出存在一些关键问题，当我选择第一个复选框并向下滚动时，它会更改所选项目并自动出现第三个。

所以我认为getview有问题。所以请帮我解决这个....

这是我的代码::

```
package com.AppFavorits;

import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

import android.app.ListActivity;
import android.graphics.drawable.Drawable;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.CompoundButton;
import android.widget.ListView;
import android.widget.RatingBar;

public class Favorites extends ListActivity {
    protected static final String TAG = "Favorites";
    CommentsDataSource datasource;
    ListView lstFavrowlistv;
    ArrayList alAppName;
    float[] rate;
    boolean[] bSelected;
    ArrayList<Comment> alPackagenm;
    Drawable[] alIcon;
    ViewHolder holder;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
    }

    @Override
    protected void onResume() {
        super.onResume();
        datasource = new CommentsDataSource(this);
        datasource.open();

        alAppName = datasource.getAllComments();
        alPackagenm = datasource.getAllPackage();

        Log.i(TAG, "values >>>" + alAppName);
        Log.i(TAG, "values >>>" + alPackagenm);
        int inc = 0;
        alIcon = new Drawable[200];
        for (int i = 0; i < alPackagenm.size(); i++) {
            Log.i(TAG, "Appname >>>" + GetAllApp.lstpinfo.get(i).pname);
            for (int j = 0; j < GetAllApp.lstpinfo.size(); j++) {
                if (alPackagenm
                        .get(i)
                        .toString()
                        .equalsIgnoreCase(
                                GetAllApp.lstpinfo.get(j).pname.toString())) {
                    alIcon[inc] = GetAllApp.lstpinfo.get(j).icon;
                    Log.i("TAG", "sqlPackagename"
                            + alPackagenm.get(i).toString());
                    Log.i("TAG", "from getAllapp"
                            + GetAllApp.lstpinfo.get(j).pname.toString());
                    inc++;
                }

            }
        }

        ArrayList<RowModel> list = new ArrayList<RowModel>();
        ArrayList<Model> Mlist = new ArrayList<Model>();
        rate = new float[alAppName.size()];
        bSelected = new boolean[alAppName.size()];
        Iterator itr = alAppName.iterator();
        String strVal = null;
        while (itr.hasNext()) {
            strVal += itr.next().toString() + ",";

        }

        int lastIndex = strVal.lastIndexOf(",");
        strVal = strVal.substring(0, lastIndex);
        System.out.println("Output String is : " + strVal);
        String strAr[] = strVal.split(",");

        for (int i = 0; i < strAr.length; i++) {
            System.out.println("strAr[" + i + "] " + strAr[i]);
        }

        for (String s : strAr) {
            list.add(new RowModel(s));
        }
        for (String s : strAr) {
            Mlist.add(new Model(s));
        }
        setListAdapter(new RatingAdapter(list, Mlist));
        datasource.close();
    }

    class RowModel {
        String label;
        float rating = 0.0f;

        RowModel(String label) {
            this.label = label;
        }

        public String toString() {
            if (rating >= 3.0) {
                return (label.toUpperCase());
            }

            return (label);
        }
    }

    private RowModel getModel(int position) {
        return (((RatingAdapter) getListAdapter()).getItem(position));

    }

    class RatingAdapter extends ArrayAdapter<RowModel> {
        private ArrayList<Model> mlist;

        RatingAdapter(ArrayList<RowModel> list, ArrayList<Model> mlist) {
            super(Favorites.this, R.layout.outbox_list_item,
                    R.id.txvxFavrowiconappname, list);
            this.mlist = mlist;
        }

        public View getView(final int position, View convertView,
                ViewGroup parent) {
            View row = super.getView(position, convertView, parent);
            holder = (ViewHolder) row.getTag();
            if (holder == null) {
                holder = new ViewHolder(row);
                row.setTag(holder);

                RatingBar.OnRatingBarChangeListener l = new RatingBar.OnRatingBarChangeListener() {
                    public void onRatingChanged(RatingBar ratingBar,
                            float rating, boolean fromTouch) {
                        Integer myPosition = (Integer) ratingBar.getTag();
                        RowModel model = getModel(myPosition);

                        model.rating = rating;
                        rate[position] = rating;

                    }
                };
                holder.chkbxFavrowsel
                        .setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {

                            @Override
                            public void onCheckedChanged(
                                    CompoundButton buttonView, boolean isChecked) {
                                Model element = (Model) holder.chkbxFavrowsel
                                        .getTag();
                                element.setSelected(buttonView.isChecked());
                                bSelected[position] = isChecked;

                            }
                        });
                holder.chkbxFavrowsel.setTag(mlist.get(position));
                holder.ratingBar1.setOnRatingBarChangeListener(l);
            } else {
                row = convertView;
                ((ViewHolder) row.getTag()).chkbxFavrowsel.setTag(mlist
                        .get(position));
            }

            RowModel model = getModel(position);
            ViewHolder holder = (ViewHolder) row.getTag();
            holder.ratingBar1.setTag(new Integer(position));
            holder.ratingBar1.setRating(model.rating);
            holder.imgvFavrowiconappicon.setImageDrawable(alIcon[position]);
            holder.txvxFavrowiconappname.setText(alAppName.get(position)
                    .toString());
            holder.chkbxFavrowsel.setChecked(mlist.get(position).isSelected());

            return (row);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:54:48.087

在 MainActivity.java 文件中使用以下代码。

```
public class ListViewActivity extends Activity {

    ListView mLstView1;
    Button mBtn1;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        mLstView1 = (ListView) findViewById(R.id.mLstView1);
        String[] lv_items = { "Dipak", "Rahul", "Hiren", "Nandlal", "Keyur",
                "Kapil", "Dipak", "Rahul", "Hiren", "Nandlal", "Keyur",
                "Kapil" };
        ;
        mLstView1.setAdapter(new ArrayAdapter<String>(this,
                android.R.layout.simple_list_item_multiple_choice, lv_items));
        mLstView1.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE);

        mBtn1 = (Button) findViewById(R.id.mBtn1);
        mBtn1.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                // Using a List to hold the IDs, but could use an array.
                List<Integer> checkedIDs = new ArrayList<Integer>();
                // Get all of the items that have been clicked - either on or
                // off
                final SparseBooleanArray checkedItems = mLstView1
                        .getCheckedItemPositions();
                for (int i = 0; i < checkedItems.size(); i++) {
                    // And this tells us the item status at the above position
                    final boolean isChecked = checkedItems.valueAt(i);
                    if (isChecked) {
                        // This tells us the item position we are looking at
                        final int position = checkedItems.keyAt(i);
                        // Put the value of the id in our list
                        checkedIDs.add(position);
                        System.out.println("Position is:- " + position);
                    }
                }
            }
        });
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:02:05.230

我真的不明白你的代码到底是你想要做什么。在此之前我还没有看到你正在检查`holder == null`它应该在哪里`convertView == null`。如果您有滚动问题，可以查看我的[**博客文章**](http://www.lalit3686.blogspot.in/2012/06/today-i-am-going-to-show-how-to-deal.html)

```
 holder = (ViewHolder) row.getTag();
            if (holder == null) {
                holder = new ViewHolder(row);
                row.setTag(holder);
               ...
            }
           else {
                row = convertView;
                ((ViewHolder) row.getTag()).chkbxFavrowsel.setTag(mlist
                        .get(position));
            } 
```

# magento - 如何订购商品显示在 Checkout / Onepage / Success 的页面上

> ID：10909974
> 
> 赞同：0
> 
> 时间：2012-06-06T07:31:48.687
> 
> 标签：magento

Magento Checkout 过程中，支付页面一般有这样的信息：

============================================

您的订单已收到。
感谢您的购买！

您的订单号是：100 000 018。

您将收到一封订单确认电子邮件，其中包含您的订单详细信息以及用于跟踪其进度的链接。

单击此处打印您的订单确认副本。

============================================

如果要增加订单商品信息，如：

============================================

项目 订购
产品名称 SKU 价格 数量 小计
ProductXXX XXX NT $ 543 1 NT $ 543

小计
NT $543

============================================

请问如何使用模块完成？

我目前知道，有三大难点

1.  结帐支付购物车为空
2.  结帐和订单屏幕 (sales_order_view) 是不同的类别
3.  Success_checkout_Onepage，布局 phtml 是通过 XML 指定的，可能无法将覆盖改成

我希望你能帮帮我

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T13:26:53.050

希望它会帮助别人，因为我回复很晚。

已购买产品订单网格类似于“结帐购物车”、“结帐评论”和“记下我的订单”。可以在结帐成功页面显示网格。

[此链接](http://www.magentocommerce.com/boards/viewthread/293713/)中给出了所有必要的步骤。

谢谢， 卡希夫

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T11:48:15.127

更好的方法是创建自己的模块来重写 Magento 的标准操作。
首先重写success.phtml文件（到你的前端布局文件）：

```
<checkout_onepage_success translate="label">
  <reference name="content">
    <reference name="checkout.success">
      <action method="setTemplate"><template>your_module/success.phtml</template></action>
    <reference>
  </reference>
</checkout_onepage_success> 
```

重写 Mage_Checkout_Block_Onepage_Success （到模块的 config.xml 文件中）：

```
<global>
  <blocks>
    <checkout>
      <rewrite>
        <onepage_success>Your_module_name_Block_Success</links>
      </rewrite>
    </checkout>
  ... 
```

然后我们必须创建这个应该从 Mage_Checkout_Block_Onepage_Success 扩展的块（到我们的模块中），例如：

```
class Your_module_name_Block_Success extends Mage_Checkout_Block_Onepage_Success
{
  // Write here only your methods example get last order's products
  // All parent's methods also will work
} 
```

然后，您将描述从订单中获取产品的方法并将其执行到您的 phtml 文件中（见上文）。提示：从原始文件中复制 html（一切正常），然后对其进行自定义。

# django - Django跨站点ajax（get）没有得到响应

> ID：10909975
> 
> 赞同：0
> 
> 时间：2012-06-06T07:31:52.030
> 
> 标签：django, jquery, cross-domain

我需要获取登录到我的 django 站点的用户的用户 ID。我正在使用 Django 1.3.1。

**模板**

```
$.get(http://www.tomjoyapp.com/pinTag/, { URL: document.URL},
    function(data){
        alert("Data Loaded: " + data.responseText);
    }); 
```

**看法**

```
import os
from django.template.loader import get_template
from django.http import HttpResponse,HttpResponseRedirect
from django.shortcuts import render_to_response, get_object_or_404
from django.template import Context, RequestContext
from django.conf import settings
from django.views.decorators.csrf import csrf_exempt
@csrf_exempt
def pinTag(request):
    user=request.user.id
    return HttpResponse(str(user)) 
```

如果他登录到我的 django 应用程序，我需要获取用户 ID 作为响应。

我的状态为 200 OK。但没有回应。

# string - 为什么看似空的文件和字符串会产生 md5sum？

> ID：10909976
> 
> 赞同：52
> 
> 时间：2012-06-06T07:31:54.630
> 
> 标签：string, null, md5sum

考虑以下：

```
% md5sum /dev/null
d41d8cd98f00b204e9800998ecf8427e  /dev/null
% touch empty; md5sum empty
d41d8cd98f00b204e9800998ecf8427e  empty
% echo '' | md5sum
68b329da9893e34099c7d8ad5cb9c940  -
% perl -e 'print chr(0)' | md5sum
93b885adfe0da089cdf634904fd59f71  -
% md5sum ''
md5sum: : No such file or directory 
```

首先，我对所有这些命令的输出感到惊讶。如果有的话，我希望他们所有人的总和都是一样的。

* * *

## 回答 #1

> 赞同：100
> 
> 时间：2012-06-06T07:39:45.787

“无”（零长度字符流）的 md5sum 是 d41d8cd98f00b204e9800998ecf8427e，您在前两个示例中看到了它。

第三个和第四个例子是处理单个字符。在“回声”的情况下，它是一个换行符，即

```
$ echo -ne '\n' | md5sum
68b329da9893e34099c7d8ad5cb9c940 - 
```

在 perl 示例中，它是一个值为 0x00 的单字节，即

```
$ echo -ne '\x00' | md5sum
93b885adfe0da089cdf634904fd59f71 - 
```

您可以使用“echo”重现空校验和，如下所示：

```
$ echo -n '' | md5sum
d41d8cd98f00b204e9800998ecf8427e - 
```

...并使用 Perl 如下：

```
$ perl -e 'print ""' | md5sum
d41d8cd98f00b204e9800998ecf8427e  - 
```

在所有四种情况下，您应该期望对相同数据进行校验和得到相同的输出，但不同的数据应该会产生截然不同的校验和（这就是重点——即使它只是一个不同的字符。）

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2014-12-15T21:51:55.387

*为什么看似空的文件和字符串会产生 md5sum？*

因为*md5sum中的“* *sum* ”有些误导。它不像CRC32校验和，对于空文件为零。

 *MD5 是一种消息摘要算法。你可以把它想象成一个盒子，它根据内部状态产生固定长度的随机值（散列）。您可以通过输入数据来更改内部状态。

并且该盒子的内部状态是预定义的，因此即使在输入任何数据之前它也会产生随机外观的哈希值。对于 MD5，它恰好是`d41d8cd98f00b204e9800998ecf8427e`.

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-06T07:46:16.720

不需要惊喜。前两个产生真正的空输入到 md5sum。echo 产生一个换行符（`echo -n ''`应该产生一个空输出；我这里没有 linux 机器可以检查）。perl 产生单个零字节（不要与 C 混淆，其中零字节标记字符串的结尾）。最后一个命令正在寻找一个以空字符串作为文件名的文件。*

# javascript - 当我在代码中使用样式类时，为什么 javascript 代码不起作用？

> ID：10909977
> 
> 赞同：0
> 
> 时间：2012-06-06T07:31:57.017
> 
> 标签：javascript, class, checkbox

```
<label for="q11"><input type="checkbox" class="styled" value=" Good" name="q11[]" id="q11_1">Good</label>
<label for="q11"><input type="checkbox" class="styled" value=" Poor" name="q11[]" id="q11_2">Poor</label>
<label for="q11"><input type="checkbox" class="styled" value=" Good" name="q11[]" id="q11_1">Good</label>
<label for="q11"><input type="checkbox" class="styled" value=" Poor" name="q11[]" id="q11_2">Poor</label> 
```

这是我的代码代码，我想要这样的东西。意味着当我选中一个复选框时，另一个复选框应该是 unech。

```
<input type="checkbox" class="styled" onclick="document.getElementById(q11_2).checked=false;" value="Transfer of risk > Poor" name="q11[]" id="q11_1">Poor</label>
<input type="checkbox" class="styled" onclick="document.getElementById(q11_1).checked=false;" value="Transfer of risk > Poor" name="q11[]" id="q11_2">Poor</label> 
```

但问题是，当我使用样式类时，此代码不起作用。

```
onclick="document.getElementById(q11_1).checked=false 
```

但是当我删除样式类时，它可以正常工作。我的样式类代码是这样的。

```
 if(inputs[a].checked == true) {
                if(inputs[a].type == "checkbox") {
                    position = "0 -" + (checkboxHeight*2) + "px";
                    span[a].style.backgroundPosition = position;
                } else {
                    position = "0 -" + (radioHeight*2) + "px";
                    span[a].style.backgroundPosition = position;
                }
            }
            inputs[a].parentNode.insertBefore(span[a], inputs[a]);
            inputs[a].onchange = Custom.clear;
            if(!inputs[a].getAttribute("disabled")) {
                span[a].onmousedown = Custom.pushed;
                span[a].onmouseup = Custom.check;
            } else {
                span[a].className = span[a].className += " disabled";
            }
        }
    }
    inputs = document.getElementsByTagName("select");
    for(a = 0; a < inputs.length; a++) {
        if(inputs[a].className == "styled") {
            option = inputs[a].getElementsByTagName("option");
            active = option[0].childNodes[0].nodeValue;
            textnode = document.createTextNode(active);
            for(b = 0; b < option.length; b++) {
                if(option[b].selected == true) {
                    textnode = document.createTextNode(option[b].childNodes[0].nodeValue);
                }
            }
            span[a] = document.createElement("span");
            span[a].className = "select";
            span[a].id = "select" + inputs[a].name;
            span[a].appendChild(textnode);
            inputs[a].parentNode.insertBefore(span[a], inputs[a]);
            if(!inputs[a].getAttribute("disabled")) {
                inputs[a].onchange = Custom.choose;
            } else {
                inputs[a].previousSibling.className = inputs[a].previousSibling.className += " disabled";
            }
        }
    }
    document.onmouseup = Custom.clear;
},
pushed: function() {
    element = this.nextSibling;
    if(element.checked == true && element.type == "checkbox") {
        this.style.backgroundPosition = "0 -" + checkboxHeight*3 + "px";
    } else if(element.checked == true && element.type == "radio") {
        this.style.backgroundPosition = "0 -" + radioHeight*3 + "px";
    } else if(element.checked != true && element.type == "checkbox") {
        this.style.backgroundPosition = "0 -" + checkboxHeight + "px";
    } else {
        this.style.backgroundPosition = "0 -" + radioHeight + "px";
    }
},
check: function() {
    element = this.nextSibling;
    if(element.checked == true && element.type == "checkbox") {
        this.style.backgroundPosition = "0 0";
        element.checked = false;
    } else {
        if(element.type == "checkbox") {
            this.style.backgroundPosition = "0 -" + checkboxHeight*2 + "px";
        } else {
            this.style.backgroundPosition = "0 -" + radioHeight*2 + "px";
            group = this.nextSibling.name;
            inputs = document.getElementsByTagName("input");
            for(a = 0; a < inputs.length; a++) {
                if(inputs[a].name == group && inputs[a] != this.nextSibling) {
                    inputs[a].previousSibling.style.backgroundPosition = "0 0";
                }
            }
        }
        element.checked = true;
    }
},

    clear: function() {
    inputs = document.getElementsByTagName("input");
    for(var b = 0; b < inputs.length; b++) {
        if(inputs[b].type == "checkbox" && inputs[b].checked == true && inputs[b].className == "styled") {
            inputs[b].previousSibling.style.backgroundPosition = "0 -" + checkboxHeight*2 + "px";
        } else if(inputs[b].type == "checkbox" && inputs[b].className == "styled") {
            inputs[b].previousSibling.style.backgroundPosition = "0 0";
        } else if(inputs[b].type == "radio" && inputs[b].checked == true && inputs[b].className == "styled") {
            inputs[b].previousSibling.style.backgroundPosition = "0 -" + radioHeight*2 + "px";
        } else if(inputs[b].type == "radio" && inputs[b].className == "styled") {
            inputs[b].previousSibling.style.backgroundPosition = "0 0";
        }
    }
},
choose: function() {
    option = this.getElementsByTagName("option");
    for(d = 0; d < option.length; d++) {
        if(option[d].selected == true) {
            document.getElementById("select" + this.name).childNodes[0].nodeValue = option[d].childNodes[0].nodeValue;
        }
    }
} 
```

} window.onload = Custom.init;

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:36:06.100

你有没有尝试过：

```
document.forms['foo'].bar[0].checked=false; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:14:15.037

您的样式类代码中可能存在一些错误，因此您的复选框事件无法正常工作。您应该在 firebug 或其他调试工具中测试此代码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T07:38:01.070

我认为您需要引用标识符。

```
onclick="document.getElementById('q11_2').checked=false" 
```

此外，您可能希望在属性中转义`>`to 。`&gt;``value`

# android - 可以在具有高分辨率图形的 android 上构建 2 个 apk

> ID：10909979
> 
> 赞同：1
> 
> 时间：2012-06-06T07:32:04.213
> 
> 标签：android, apk, assets

我是一名 Android 开发人员，在 GooglePlay 上发布了一些游戏。实际上，我有 2 个操作系统版本的 apk 文件（一个支持多点触控 2.0+，另一个不支持多点触控 1.5+）使用 GooglePlay 上现有的多点支持。

2 apk 具有适用于高清设备的高分辨率资产，但在一些旧手机中会导致内存问题加载和重新调整高清图像。

为了解决这个问题，我想用低分辨率资产（更多的兼容性，更好的内存分配）构建我的 apk，并只用高分辨率资产构建另一个 apk。

APK 1：游戏（低分辨率图形） APK 2：游戏的高分辨率资产

用户下载游戏，当游戏启动时，游戏会检查屏幕分辨率并询问用户是否要下载和安装高分辨率资产。

我不想使用多个 apk，因为它太难维护（4 个 apk）。我可以用什么解决方案来做到这一点？

类似于扩展包但在内部存储器中的东西（应用程序的结构）

谢谢。里卡德。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:52:13.317

1.  限制工作超载的方法是拥有两个[Android 库](http://developer.android.com/guide/developing/projects/projects-eclipse.html#SettingUpLibraryProject)，一个带有小图形，一个带有高清，并让您的应用程序在编译时使用一个或另一个库。当然，您需要确保可绘制的名称、布局和 ID 完全相同。这会创建更多的 apk，但可以立即完成。请注意，您可以通过以编程方式检测操作系统版本将其限制为 2 个 APK：

    ```
    if (VERSION.SDK_INT < VERSION_CODES.ECLAIR) {
        // use single touch
    } else {
        // use multi touch
    } 
    ```

2.  您还可以使用从市场上下载的 HD 包的想法，其中包含您的可绘制对象。您可以使用以下代码从您的第二个应用程序访问资源：

    ```
    Resources res = context.getPackageManager().getResourcesForApplication("com.example.foo") 
    ```

    然后，您需要确切知道正确的可绘制 id 以加载正确的 id 或仅使用反射。

3.  另一种选择是存储所有可绘制文件的存档，将它们从您自己的服务器下载到应用程序沙箱中，然后从磁盘而不是资源中读取它们。

# android - 用户选择时从 URL 中查看图像并在 ImageView 中放置

> ID：10909994
> 
> 赞同：1
> 
> 时间：2012-06-06T07:33:25.473
> 
> 标签：android, image, url, imageview

我正在开发 Frame 应用程序。为此，我想从 url 显示图像（帧）。该网址有超过 50 张图片。为此我使用gridview，但它缺少一些要点，例如，

1.加载图片速度很慢。

2.我们在代码时声明了图片的名称和大小，这样我们在发布应用程序后就不会在url中添加图片了。

我需要尽快解决这些问题。请任何人给我建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:56:49.867

使用下面的延迟加载列表视图链接，这将对您有所帮助。

[延迟加载 ListView](https://github.com/thest1/LazyList)

使用上面的链接代码并添加另一个活动和另一个布局来显示选定的图像，如果你有任何问题而不是告诉我，我会把完整的代码放在这里。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:47:29.090

**1.加载图片速度很慢。**

> 这将取决于您的带宽和设备缓存。

**2.我们在代码时声明了图片的名称和大小，这样我们发布应用后就不会在url中添加图片了。**

您可以预先定义 URL，因此在代码时您可以将图像名称附加到 url。一旦您准备好 URL，使用 AsyncTask 就可以一张一张下载图像 \

**以下片段将为您提供帮助。**

**下载Helper.java**

```
public interface DownloadHelper
{
    public void OnSucess(Bitmap bitmap);
    public void OnFailure(String response);
} 
```

**MainActivity.java**

```
public class GalleryExample extends Activity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle icicle) {
        super.onCreate(icicle);
        setContentView(R.layout.main);

        DownloadHelper downloadHelper = new DownloadHelper()
        {
            @Override
            public void OnSucess(Bitmap bitmap)
            {
                ImageView imageView=(ImageView)findViewById(R.id.imageView);
                imageView.setImageBitmap(bitmap);
            }

            @Override
            public void OnFailure(String response)
            {
                Toast.makeText(context, response, Toast.LENGTH_LONG).show();
            }
        };
        new MyTask(this,downloadHelper).execute("image url");
    } 
```

**我的任务.java**

```
public class DownloadTask extends AsyncTask<String, Integer, Object>
{
    private Context context;
    private DownloadHelper downloadHelper;
    private ProgressDialog dialog;

    public DownloadTask(Context context,DownloadHelper downloadHelper)
    {
        this.context = context;

    }

    @Override
    protected void onPreExecute()
    {
        dialog = new ProgressDialog(context);
        dialog.setTitle("Please Wait");
        dialog.setMessage("Fetching Data!!");
        dialog.setCancelable(false);
        dialog.show();
        super.onPreExecute();
    }

    @Override
    protected Object doInBackground(String... params)
    {
        URL aURL = new URL(myRemoteImages[position]);
        URLConnection conn = aURL.openConnection();
        conn.connect();
        InputStream is = conn.getInputStream();

        BufferedInputStream bis = new BufferedInputStream(is);
        /* Decode url-data to a bitmap. */
        Bitmap bm = BitmapFactory.decodeStream(bis);
        bis.close();
        is.close();
        return bm;
    }

    @Override
    protected void onPostExecute(Object result)
    {
        dialog.dismiss();
        if (result != null)
        {
            downloadHelper.OnSucess((Bitmap)result);
        } 
        else
        {
            downloadHelper.OnFailure("Error in Downloading Data!!");
        }
        super.onPostExecute(result);
    }
} 
```

# c# - 在 NHibernate 中使用字符串枚举 - GetValue 永远不会被解雇

> ID：10909996
> 
> 赞同：0
> 
> 时间：2012-06-06T07:33:33.240
> 
> 标签：c#, nhibernate, orm

在我的 NHibernate 驱动的应用程序中，我有一些类的某些属性不是完整实体的类。即，我有一个具有客户类型属性的客户类。为客户类型属性创建一个单独的类似乎是一种资源浪费。我要做的是使用代码映射将客户类型映射到 NHibernate 3.2 中的枚举字符串。在 StackOverflow 上搜索，我找到了一个可能的解决方案，代码如下：

```
 public class Customer
    {
        public virtual int Id { get; set; }
        public virtual string Name { get; set; }
        public virtual CustomerType CustomerType { get; set; }
    }

    public class CustomerMap : ClassMapping<Customer>
    {

        public CustomerMap()
        {
            Id(x => x.Id);
            Property(x => x.Name, m => m.Length(100));
            Property(x => x.CustomerType, m =>
                     {
                         m.Column("CustomerTypeId");
                         m.Type(typeof (CustomerTypeMap), null);
                     });

        }
    }

    public enum CustomerType
    {
        Big_Customer,
        Small_Customer
    }

    public class CustomerTypeMap : EnumStringType<CustomerType>       
    {
        public override object GetValue(object code)
        {
            return code == null
                    ? string.Empty
                    : code.ToString().Replace('_', ' ');
        }

        public override object GetInstance(object code)
        {

            var str = (string)code;

            if (string.IsNullOrEmpty(str)) return StringToObject(str);
            else return StringToObject(str.Replace(" ", "_"));
        }
    } 
```

此解决方案仅部分有效。正如您从代码中看到的那样，我试图通过替换下划线来使枚举字符串看起来不错，以便获得“大客户”而不是“大客户”。这行不通。将换行符放入代码中，我注意到被覆盖的 GetInstance 函数被调用，但 GetValue 函数从未被触发。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:11:54.570

我同意你不应该为像 CustomerType 这样的东西创建一个新实体。NHibernate 也不希望您这样做。Fluent NHibernate 默认将枚举映射为字符串（我假设您使用的是最新版本），但显然您希望拥有更细粒度的控制。

自从我使用 Fluent NH 以来已经有一段时间了，但也许可以试试这个（除非 API 已更改）：

```
Map(x => x.CustomerType).Column("CustomerTypeId").CustomType<CustomerTypeMap>(); 
```

再一次，不确定这是否（仍然）有效，因为 API 更改/更改了很多。

# jquery - jQuery：悬停时更改img

> ID：10909997
> 
> 赞同：2
> 
> 时间：2012-06-06T07:33:42.870
> 
> 标签：jquery, background, hover

我使用 jQuery 背景拉伸器，其中背景设置为图像，id="bg" 紧跟在正文之后。但是当有人用class=selector和alt=pathToImage悬停一个div时，我想更改背景图像。我知道 alt 不是最好在 div 中使用，但我需要找到一个“容器”来存储路径。

背景拉伸器完全可以，但是当我悬停某些东西时，它会将背景图像设置为 display="none"。我真的希望有人能帮助我。

代码是：

```
$(window).load(function(){
$('.selector').hover(function() {
    var img = document.createElement('img');
    img.src = $(this).attr('alt');
    img.onload = function() {
        $('#bg').fadeOut(function() {
            $(this).setAttribute('src', img.src).fadeIn();
        }); }; return false; }); }); 
```

先感谢您 ：）

编辑！抱歉花了这么长时间，但让 html 阅读起来不那么痛苦：http: [//jsfiddle.net/gaFfD/](http://jsfiddle.net/gaFfD/) 由于某些奇怪的原因，悬停效果在 jsfiddle 中不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T08:11:32.940

**更新**

试试这个小提琴：http: [//jsfiddle.net/gaFfD/14/](http://jsfiddle.net/gaFfD/14/)

应该

```
$(this).attr('src', img.src).fadeIn() 
```

代替

```
$(this).setAttribute('src', img.src).fadeIn(); 
```

我用

```
jQuery(document).ready(function () { 
```

代替

```
$(window).load(function() { 
```

文档就绪和窗口加载之间的区别： [window.onload 与 $(document).ready()](https://stackoverflow.com/questions/3698200/window-onload-vs-document-ready)

# django - 使用重定向的东西时没有名为 django.contrib.auth 的模块

> ID：10909998
> 
> 赞同：12
> 
> 时间：2012-06-06T07:34:08.543
> 
> 标签：django, redirect, importerror

`ImportError "No module named django.contrib.auth"`当我尝试使用该`django.shortcuts` `redirect`功能和尝试使用时，我都得到了：

```
(r'^logout/$', 'django.contrib.auth.views.logout', {'next_page': '/'}), 
```

我认为我遇到此错误的唯一地方是页面被重定向的地方并不是巧合，但也许确实如此。我知道用户实际上并没有被注销，所以在你到达任何重定向代码之前就发生了错误。

下面是我的 urls.py 文件。

```
import django.contrib.auth.views
from django.conf.urls.defaults import *
import django.contrib.auth

from django.contrib import admin
admin.autodiscover()

urlpatterns = patterns('karma.views',
(r'^$', 'homepage'),
(r'^logout/$', 'django.contrib.auth.views.logout', {'next_page': '/'}),
(r"^opportunities/nearby$", 'draw_map'),

(r'^admin/', include(admin.site.urls)),
url(r'', include('social_auth.urls')),
(r'^profile/', include('karmup.profile.urls')),
) 
```

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-06-06T09:24:54.040

您在`urlpatterns`.

```
urlpatterns = patterns('karma.views',
  (r'^$', 'homepage'),
  (r'^logout/$', 'django.contrib.auth.views.logout', {'next_page': '/'}),
  (r"^opportunities/nearby$", 'draw_map'),
) 
```

在您的情况下，Django 尝试查找与给定 URL 前缀相关的视图`'karma.views'`。`'django.contrib.auth.views.logout'`在这个模块中，没有`ImportError`.

将注销 URL 移动到第二个块，例如：

```
urlpatterns += patterns('',
  (r'^logout/$', 'django.contrib.auth.views.logout', {'next_page': '/'}),
) 
```

那应该可以解决您的问题。