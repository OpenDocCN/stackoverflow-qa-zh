# StackOverflow 问答 12171000-12171999

# streaming - RTSP 错误 - 分段错误

> ID：12171003
> 
> 赞同：0
> 
> 时间：2012-08-29T04:40:28.517
> 
> 标签：streaming, video-streaming, gstreamer, rtsp

播放以下 RTSP 插件时出现“分段错误”错误：

```
./TEST "( v4l2src always-copy=FALSE input-src=composite ! video/x-raw-yuv,format=\(fourcc\)NV12, width=320,height=240 ! queue ! dmaiaccel ! dmaienc_h264 encodingpreset=2 ratecontrol=2 intraframeinterval=23 idrinterval=46 targetbitrate=1000000 ! rtph264pay name=pay0 pt=96 )" 
```

TEST 是来自 rtsp 示例的测试启动应用程序。我收到以下错误：

```
davinci_resizer davinci_resizer.2: RSZ_G_CONFIG:0:1:124
vpfe-capture vpfe-capture: IPIPE Chained
vpfe-capture vpfe-capture: Resizer present
tvp514x 1-005d: tvp5146 (Version - 0x03) found at 0xba (DaVinci I2C adapter)
vpfe-capture vpfe-capture: dma_alloc_coherent size 7168000 failed
Segmentation fault 
```

谁能告诉我出了什么问题。

谢谢，马兹

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T06:09:32.343

See vpfe-capture vpfe-capture: dma_alloc_coherent size 7168000 failed

memory allocation has failed somewhere in your capture driver. This question is better suited for TI's e2e list, no? I don't think this ia a gstreamer generic issue but issue specific to the embedded hardware.

Why don't you get a simple filesrc ! h264parse ! rtph264pay pipeline up first and then slowly make it more and more complicated. [replace bitstream with yuv and do encoding, then add the capture]

# php - 使用 eval() 作为条件赋值的 PHP 变量

> ID：12171012
> 
> 赞同：-5
> 
> 时间：2012-08-29T04:41:03.147
> 
> 标签：php, eval

> **可能重复：**
> [php 变量作为条件赋值](https://stackoverflow.com/questions/12170527/php-variable-as-conditional-assignment)

我正在尝试通过这样的 php 变量连接条件赋值

```
$cndtnal='&& $x==4';

if($y==5 eval($cndtnal)){
   print 'Hello World';
} 
```

但是我收到 Parse 错误：语法错误，意外 $end in : eval()'d code on line 1。

我也试过：

```
$cndtnal='&& $x==4';

if (eval('$y==5'.$cndtnal)){
       print 'Hello World';
    } 
```

但我得到同样的错误。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T04:51:20.123

你不见了`return`，还有一个分号。

但实际上，你应该***避免`eval`***.

```
<?php
$foo = 1;
$bar = 2;
$test = ' && $bar == 2';
if(eval('return $foo == 1' . $test . ';')) {
    echo "That horribly eval()'d code worked!";
}
?> 
```

# python - HttpResponse 对象错误

> ID：12171014
> 
> 赞同：0
> 
> 时间：2012-08-29T04:41:10.877
> 
> 标签：python, django, django-views

我收到了**视图 registration.views.login 没有返回 HttpResponse 对象的错误。**

我正在制作一个登录应用程序，我希望当我点击登录按钮时，主页会显示给我。

当我按照给定的方式运行 view.py 时，我收到**Page not found localhost:8000/registration/home.html的错误**

```
from django.template import  loader
from django.shortcuts import render
from registration.models import Registration
from django.http import HttpResponse
from django.template import RequestContext

def login(request):
    t = loader.get_template('registration/login.html')

    return render(request, 'registration/login.html') 
```

urls.py 文件如下：

```
from django.conf.urls import patterns, include, url
from django.contrib import admin
admin.autodiscover()

    urlpatterns = patterns('',
        url(r'^polls/$', 'polls.views.index'),
        url(r'^polls/(?P<poll_id>\d+)/$', 'polls.views.detail'),
        url(r'^polls/(?P<poll_id>\d+)/results/$', 'polls.views.results'),
        url(r'^polls/(?P<poll_id>\d+)/vote/$', 'polls.views.vote'),
        url(r'^admin/', include(admin.site.urls)),
        url(r'^registration/$', 'registration.views.login'), 
```

当我尝试运行 view.py 时：

```
from django.template import  loader
from django.shortcuts import render
from registration.models import Registration
from django.http import HttpResponse
from django.template import RequestContext

def login(request):
   t = loader.get_template('registration/login.html')
   if request.method == "POST":
    username = request.POST['user_name']
    password = request.POST['password']
    user = authenticate(username=username, password=password)
    if user is not None:
      if user.is_active:
        login(request, user)
        # success
        return render_to_response(request,'registration/login.html') 
```

然后我收到错误**视图 registration.views.login 没有返回 HttpResponse 对象。** 此 view.py 的 urls.py 文件保持不变

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T05:11:27.627

您不需要在每个方法中加载模板；django 会为你解决这个问题。Django 要求所有的方法都从`urls.py`返回一个`HttpResponse`对象中调用。

您的方法有很多条件永远不会达到 return 语句。例如，如果用户不活跃怎么办？如果请求不是`POST`怎么办？

试试这个版本，如果任何条件失败，它会将用户重定向回注册页面：

```
def login(request):
   # t = loader.get_template('registration/login.html') - not needed
   if request.method == "POST":
    username = request.POST.get('user_name')
    password = request.POST.get('password')
    user = authenticate(username=username, password=password)
    if user is not None:
      if user.is_active:
        login(request, user)
        # success
        return render(request,'registration/login.html')
      else:
        # user was not active
        return redirect('registration/')
    else:
        # not a valid user
        return redirect('registration/')
   else:
       # URL was accessed directly
       return redirect('registration/') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T04:52:15.847

样本授权

视图.py

```
def loginto(request):
    if request.method == "POST":
        username = request.POST['username']
        password = request.POST['password']
        user = authenticate(username=username, password=password)
        if user is not None:
        if user.is_active:
           login(request, user)
           return render_to_response('index1.html')
        else:
           return render_to_response('error1.html')
        else:
        return render_to_response('error2.html') 
    else:
        return render_to_response('error2.html') 
```

网址.py

```
url(r'^login', 'mytests.views.loginto', name='loginto'), 
```

登录.html

```
<form method="POST" action="{% url loginto %}">
  Username: <input type="text" name="username" size="15" /><br />
  Password: <input type="password" name="password" size="15" /><br />
  <div align="center">
    <p><input type="submit" value="Login" /></p>
  </div>
</form> 
```

# iphone - 加载对 UIWebview 问题-iPhone 的肥皂响应

> ID：12171017
> 
> 赞同：0
> 
> 时间：2012-08-29T04:41:25.007
> 
> 标签：iphone, uiwebview

我想显示对 UIWebview 的肥皂响应..

**我的肥皂反应是，**

> <p><img src="http://img.gawkerassets.com/img/17u1vg3xyeuipjpg/xlarge.jpg" width="410" data-size="large"/></p><p><a rel ="lytebox" href="http://img.gawkerassets.com/img/17u1vg3xyeuipjpg/original.jpg"> <a href="http://img.gawkerassets.com/img/17u1vg3xyeuipjpg/original.jpg" 相关="modal"></a> <p></a>在与喜欢的人分享歌曲播放列表之前只需点击几下就可以了，混音带是一种爱的劳动；一个耗时的项目。每首歌都经过仔细考虑。当然，现在这一切都过去了，但是这个由 MakerBot 变出的 DIY MP3 播放器可以帮助它恢复原状。<img src="http://feeds.feedburner.com/r/GizmodoAustralia/4/zFs- k-3__1I" height="1" width="1"/>

像上面一样。。

我正在使用此代码将肥皂响应加载到 UIWebview

```
[webView loadHTMLString:soapresponse baseURL:nil]; 
```

在 webview 我想清除标签并显示内容。

任何人都请帮我这样做..

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:17:07.187

**编辑**解码 HTML 实体，如 & lt; to < : 使用[NSString+HTML](https://github.com/mwaterfall/MWFeedParser/blob/master/Classes/NSString+HTML.m)

```
NSString *strEncodeHTML = @"&lt;p&gt;&lt;img src=&quot;img.gawkerassets.com/img/17u1vg3xyeuipjpg/xlarge.jpg&quot; width=&quot;410&quot; data-size=&quot;large&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;a rel=&quot;lytebox&quot; href=&quot;img.gawkerassets.com/img/17u1vg3xyeuipjpg/…; &lt;a href=&quot;img.gawkerassets.com/img/17u1vg3xyeuipjpg/original.jpg&quot; rel=&quot;modal&quot;&gt;&lt;/a&gt; &lt;p&gt;&lt;/a&gt;content here.img src=&quot;feeds.feedburner.com/r/GizmodoAustralia/4/zFs-k-3__1I&quot; height=&quot;1&quot; width=&quot;1&quot;/&gt;";

strEncodeHTML = [[[strEncodeHTML stringByReplacingOccurrencesOfString:@"&lt;" withString:@"<"] stringByReplacingOccurrencesOfString:@"&gt;" withString:@">"] stringByReplacingOccurrencesOfString:@"&quot;" withString:@"\""];
NSLog(@"%@",strEncodeHTML);
NSString *strHTML = [NSString stringWithFormat:@"<html><body>%@<body></html>",strEncodeHTML] ;

[webView loadHTMLString:strHTML baseURL:nil]; 
```

* * *

像这样加载html内容：

```
NSString *strHTML = [NSString stringWithFormat:@"<html><body>%@</html>/<body>",yourSoapresponse];

[webView loadHTMLString:strHTML baseURL:nil]; 
```

下面给出示例：

```
NSString *strHTML = [NSString stringWithFormat:@"<html><body><p><img src=\"http://img.gawkerassets.com/img/17u1vg3xyeuipjpg/xlarge.jpg\" width=\"410\" data-size=\"large\"/></p><p><a rel=\"lytebox\" href=\"http://img.gawkerassets.com/img/17u1vg3xyeuipjpg/original.jpg\"> <a href=\"http://img.gawkerassets.com/img/17u1vg3xyeuipjpg/original.jpg\" rel=\"modal\"></a> <p></a>Before sharing a playlist of songs with a crush was as simple as a few clicks, the mixtape was a labour of love; a time-consuming project. Every song was carefully considered. That&#8217;s all gone now, of course, but this DIY MP3 player conjured up by MakerBot can help bring it back.<img src=\"http://feeds.feedburner.com/r/GizmodoAustralia/4/zFs-k-3__1I\" height=\"1\" width=\"1\"/></html>/<body>"];

[webView loadHTMLString:strHTML baseURL:nil]; 
```

# windows - 为什么我的萤火虫没有显示所有 javascript 错误

> ID：12171021
> 
> 赞同：2
> 
> 时间：2012-08-29T04:42:05.220
> 
> 标签：windows, firefox, google-chrome, firebug

我清楚地记得 2 个月前，每当我遇到任何 javascript 错误时，它都会在 Firefox 控制台中显示为红色文本，我知道是什么问题。

但现在它没有这样做。

我有一个未定义的变量，我正在使用它。但我不知道。我不得不浪费 1 个小时来找到它。

但是萤火虫没有在控制台上显示任何内容。它在 2-3 个月前显示

在 Firefox 和 Google chrome 中相同

我应该怎么办

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T04:50:09.837

[请从http://getfirebug.com/releases/firebug](http://getfirebug.com/releases/firebug)尝试 firebug 1.2b12 。请检查您是否启用了控制台并检查了控制台 > 选项 > Javascript 错误。

如果您仍然有问题，请打开错误报告并附上完整的测试用例。

来源：[https ://groups.google.com/forum/?fromgroups=#!topic/firebug/HgpEGNLZ18c](https://groups.google.com/forum/?fromgroups=#!topic/firebug/HgpEGNLZ18c)

# ruby-on-rails-3 - Rails 将部分添加到 Simpleform 自定义输入

> ID：12171023
> 
> 赞同：0
> 
> 时间：2012-08-29T04:42:23.263
> 
> 标签：ruby-on-rails-3, simple-form

我正在创建一个自定义 SimpleForm 输入。它利用 javascript 模式弹出窗口来选择值。

如果我在表单视图中包含模态部分，我基本上可以让它工作，但理想情况下我希望自定义输入将部分推送到模板。

但是，我无法让它工作。我正在尝试这个，但它不能正确渲染部分。

```
class ProductCategoryImageSelectInput < SimpleForm::Inputs::CollectionSelectInput
  def input

  html = ''
  html << '<a href="#myModal" role="button" data-toggle="modal">Launch demo modal</a>'

  File.open("#{Rails.root}/app/views/product_categories/_browse_modal.html.erb", 'r') do |f|
    html << f.read
  end

  end
end 
```

有什么想法吗？

**编辑**

我显然太新用户发布屏幕截图，但这里是功能差异的链接：

当我在表单中嵌入模态代码时，我得到了这个，这是所需的功能： [工作](http://i.stack.imgur.com/8FxEQ.jpg)

当我尝试将模式代码放在自定义输入中时，我得到了这个： [不工作](http://i.stack.imgur.com/Q4hpk.jpg)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2015-04-15T20:40:54.223

您还可以使用`SimpleForm::FormBuilder`分配给名为的实例变量的实例从自定义输入中呈现部分内容`@builder`：

```
class ProductCategoryImageSelectInput < SimpleForm::Inputs::CollectionSelectInput
  def input
    @builder.template.render(partial: 'product_categories/browse_modal', locals: { foo: 'bar'})
  end
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T03:23:56.333

奇怪的是，我似乎已经在[这里](https://stackoverflow.com/questions/8567841/rails-3-haml-how-can-i-output-haml-raw-from-a-variable/8570839#8570839)回答过了。这对你有用吗？

```
ERB.new(f.read).result(binding) 
```

PS：更新为 ERB 而不是 HAML。

# python - 如何在python中获取指向当前函数的指针？

> ID：12171025
> 
> 赞同：0
> 
> 时间：2012-08-29T04:42:32.527
> 
> 标签：python, function

> **可能重复：**
> [将当前函数放入变量的 Python 代码？](https://stackoverflow.com/questions/4492559/python-code-to-get-current-function-into-a-variable)

有没有方便的方法来获取当前函数的指针？

例如：

```
current_func_ref = None
def func():
    current_func_ref = ___ #something need to fill
    do something.. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T05:10:04.037

好的，这有点厚颜无耻，不像你想要的那样非常通用，但无论如何都是这样：

```
current_func_ref = None
def func():
    global current_func_ref
    current_func_ref = func 
```

# php - fopen() 并另存为 - php

> ID：12171026
> 
> 赞同：1
> 
> 时间：2012-08-29T04:42:37.483
> 
> 标签：php

我有这个问题，我想用另一个名字创建一个新文件。

现在我打开了文件 CLPRE.txt 并将更改保存在同一个文件中，我想像这样从原始文件创建一个新文件

> 伪代码：
> 
> $unique=sha1(uniqid(phc));
> 
> $newFile = $unique.CLPRE.txt

实际代码是这样恢复的：

```
$myFile = $loja."/CL.xml";
$fh = fopen($myFile, 'w') or die("can't open");
$pre= file_get_contents('CLPRE.txt');
$writeThis = "some text";
fwrite($fh, $pre.$writeThis);
fclose($fh); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T04:46:17.330

利用[`file_put_contents`](http://php.net/manual/en/function.file-put-contents.php)

> 该函数等同于依次调用 fopen()、fwrite() 和 fclose() 将数据写入文件。
> 
> 如果文件名不存在，则创建文件。否则，现有文件将被覆盖，除非设置了 FILE_APPEND 标志。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T04:45:56.987

嗯，你基本上已经这样做了，你只需要再打电话并通过以下方式创建它：

```
$new = fopen($unique.'CLPRE.txt', 'w') or die("can't open"); 
```

然后添加您想要的内容，并关闭：

```
fwrite($new , $pre.$writeThis);
fclose($new ); 
```

参考**fopen()** - [http://www.decompile.com/cpp/faq/fopen_write_append.htm](http://www.decompile.com/cpp/faq/fopen_write_append.htm)

# vb.net - VB.net 在字符串中搜索术语？

> ID：12171030
> 
> 赞同：2
> 
> 时间：2012-08-29T04:43:01.167
> 
> 标签：vb.net, string, console, readline

```
 Dim keys1() As String = {"corrupt", "selfish", "power", "lying", "lies", "media"}
    Dim terms1 As Integer = 0
    Dim terms1string As String = ""
    terms1string = Console.ReadLine()
    For Each st As String In keys1
        terms1 = terms1 + 1
    Next
    If terms1 < 2 Then
        Console.WriteLine("yay!")
    Else
        Console.WriteLine("YouFail")
    End If 
```

这是我的代码。我希望如果您输入的字符串包含两个以上的术语，那么它会写成“Yay”——否则它会写成“YouFail”。

---更新 8/29/12---

```
 Function StageTwo(ByVal fname, ByVal lname, ByVal city)
    Console.WriteLine("Describe the U.S. Government.")
    Dim overall As Integer = 0
    Dim keys1() As String = {"corrupt", "selfish", "power", "lying", "lies", "media"}
    Dim terms1 As Integer = 0
    Dim terms1string As String = ""
    terms1string = Console.ReadLine()
    For Each st As String In keys1
        If InStr(terms1string, st) > 0 Then '<<<this line right here!
            terms1 = terms1 + 1
        End If
    Next
    If terms1 < 0 Then
        Console.WriteLine("yay!")
        overall = overall + 1
    End If
    Console.WriteLine()
    Console.WriteLine("Describe the economic status in the U.S.")
    Dim keys2() As String = {"broken", "backed", "failed", "skewed", "tilted", "99%", "rigged", "unfair"}
    Dim terms2 As Integer = 0
    Dim terms2string As String = ""
    terms2string = Console.ReadLine()
    For Each st As String In keys2
        If InStr(terms2string, st) > 0 Then '<<<this line right here!
            terms2 = terms2 + 1
        End If
    Next
    If terms2 < 0 Then
        Console.WriteLine("yay!")
        overall = overall + 1
    End If
    If overall = 2 Then
        Console.WriteLine()
        Console.WriteLine("Enter a username.")
        Dim username As String = ""
        username = Console.ReadLine()
        Console.WriteLine("Please wait.")
        IsURLValid(username, overall)
    Else
        Console.WriteLine("Test Failed.")
    End If
    System.Threading.Thread.Sleep(2000)
End Function 
```

那是我的新代码。仍然无法正常工作，在第一个输入损坏后第二个输入损坏后，它的打印测试失败。再帮忙？非常感谢你们。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:06:29.767

为什么这么复杂？只需使用[`Count`](http://msdn.microsoft.com/en-us/library/bb535181.aspx)：

```
Dim keys1() As String = {"corrupt", "selfish", "power", "lying", "lies", "media"}
Dim terms1string = Console.ReadLine()

Dim terms1 = keys1.Count(function(key) terms1string like "*" & key & "*")

If terms1 < 2 Then
    Console.WriteLine("yay!")
Else
    Console.WriteLine("YouFail")
End If 
```

如果要匹配单个单词（`foobar power lies`是 2 个匹配项，`foobarpowerlies`是 0 个匹配项），可以改用这一行：

```
Dim terms1 = keys1.Count(function(key) terms1string.Split().Contains(key)) 
```

* * *

为了完整起见，这是一个正则表达式版本：

```
' generous match ('foobarpowerlies' => 2 matches)
Dim pattern = String.Join("|", keys1)
Dim terms1 = Regex.Matches(terms1string, pattern).Count 
```

或者

```
' strict match using word boundaries ('foobarpowerlies' => 0 matches, but 'foobar power lies' => 2 matches)
Dim pattern = String.Join("|", keys1.Select(function(key) "\b" & key & "\b"))
Dim terms1 = Regex.Matches(terms1string, pattern).Count 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T07:46:53.753

“Austin Powers”应该匹配“power”，“uncorrupt”应该匹配“corrupt”吗？假设“否”
“POWER”应该匹配“power”吗？假设“是”

最安全的方法是使用正则表达式

```
Function WordCount(keys() As String, terms As String) As Integer
    Dim pattern As String = "\b(" + Regex.Escape(keys(0))
    For Each key In keys.Skip(1)
        pattern += "|" + Regex.Escape(key)
    Next
    pattern += ")\b"

    Return Regex.Matches("terms", pattern, RegexOptions.IgnoreCase).Count
End Function

Sub Main()
    Dim keys1() As String = {"corrupt", "selfish", "power", "lying", "lies", "media"}
    Dim count As Integer
    count = WordCount(keys1, "lying son of a corrupt . . .") ' returns 2
    count = WordCount(keys1, "Never caught lying and uncorrupt . . .") ' returns 1
End Sub 
```

该`Regex.Escape`功能确保您的键中的任何正则表达式特定字符都将被转义，并且不会被视为正则表达式命令。

该`RegexOptions.IgnoreCase`选项告诉它进行不区分大小写的匹配。

这`\b`是一个单词边界，所以在匹配之前和之后必须有一个单词边界（空格、标点符号、换行符、字符串开头、字符串结尾等）。

把键放在这个结构中`(key1|key2|key3)`表示它可以匹配`key1` *或* `key2` *或* `key3`

希望这可以帮助

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T06:34:56.453

我有东西给你。

你父亲的 INSTR()。这是 QuickBasic 4.5 黑客的武器。不像正则表达式那样笨拙或随机；更文明时代的优雅武器。

```
Module Module1

  Sub Main()
    Dim keys1() As String = {"corrupt", "selfish", "power", "lying", "lies", "media"}
    Dim terms1 As Integer = 0
    Dim terms1string As String = ""
    terms1string = Console.ReadLine()
    For Each st As String In keys1
      If InStr(terms1string, st) > 0 Then '<<<this line right here!
        terms1 = terms1 + 1
      End If
    Next st
    If terms1 < 2 Then
      Console.WriteLine("yay!")
    Else
      Console.WriteLine("YouFail")
    End If
    Console.ReadKey()

  End Sub

End Module 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T05:22:49.640

也许太简单了，但是如果您使用[IndexOf](http://msdn.microsoft.com/en-us/library/k8b1470s%28v=vs.100%29.aspx)，您可以将您的 For 循环更改为：

```
 If Not String.IsNullOrEmpty(terms1string) Then
        For Each st As String In keys1
            If terms1string.IndexOf(st) <> -1 Then
                terms1 = terms1 + 1
            End If
        Next
    End If 
```

这很简单，因为它不会对输入进行标记......所以像“腐败”和“谎言”这样的词将注册匹配。如果您需要完全匹配，请查看[String.Split](http://msdn.microsoft.com/en-us/library/system.string.split.aspx)以获取输入单词，然后有许多算法选项可以将该列表与您的键列表进行比较。

# box-api - 登录，创建文件夹并将文件上传到 Box 帐户作为服务帐户

> ID：12171031
> 
> 赞同：1
> 
> 时间：2012-08-29T04:43:01.293
> 
> 标签：box-api

我查看了 Box 身份验证文档以及其他 StackOverflow 问题，但我仍然无法找到明确的答案。

我的客户是一个企业 Box 客户，想构建一个公司的内部 Web 应用程序，该应用程序将使用 service/admin 帐户登录 Box.com 并创建文件夹并上传文件。上传的文件夹将可供特定客户使用，他们将登录 Box 并上传其他文件。

我创建了一个序列图来描述相同的内容。

![在此处输入图像描述](../Images/3ab02dd7a6f19981dc87064c7f125e86.png)

如果这是受支持的 Box 身份验证模型，您能告诉我吗？Box 2.0 Beta API Token 可以用来作为服务帐号登录并创建文件/文件夹/共享吗？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T06:19:23.957

有几个选项可以为您工作。让我先建议最简单的一种，如果这还不够，那么我可以建议其他方法来实现您的目标。

您可以为您的解决方案使用常规 Box 身份验证。为此，只需为您的应用程序获取 API 密钥和身份验证令牌。然后，在您上传文件后，使用 V2 API 为您的文件创建一个[共享链接](http://developers.box.com/docs/#files-create-a-shared-link-for-a-file)。您可以将该共享链接通过电子邮件发送给客户，他们可以使用该链接访问该文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-14T21:19:04.587

自从这个问题发布以来已经有了新的发展，现在可以使用 JWT (JSON Web Token) 和 Box Developers Edition 来访问 Box。

如果您创建开发者帐户，您将能够创建应用程序用户并使用企业 ID 和私钥文件登录。查看文档以获取更多信息：[Box Developer Edition](https://developers.box.com/developer-edition/)

此外，[boxsdk 还](https://github.com/box/box-python-sdk)支持 Box Developer Edition

# mysql - 将文本文件中的数据导入 MySQL 中的特定列

> ID：12171046
> 
> 赞同：0
> 
> 时间：2012-08-29T04:45:40.987
> 
> 标签：mysql

我有一个名为的表`system_settings`，其中有 3 列，`ID`即`Actual_Setting`& `Standards_Setting`。

在该`ID`列中有 3 行，`'Virtual Machine 1'`即`'Virtual Machine 2'`& `'Virtual Machine 3'`。

`'Actual_Setting'`我希望将文本文件中的数据导入`ID = 'Virtual Machine 1'`.

我试过使用这个查询：

```
LOAD DATA LOCAL IN FILE 'C:/Program Files/MySQL/MySQL Server 5.5/bin/syspolicy.txt'
INTO system_settings(Actual_Setting)
WHERE ID LIKE 'Virtual Machine 1'; 
```

但它返回一个错误。

我使用 MySQL Server 5.5、MySQL Query Browser 和一台 Windows 7 PC。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T05:02:34.507

[`LOAD DATA`](http://dev.mysql.com/doc/en/load-data.html)将始终将数据插入*新*行，而不是更新现有行。

但是，如果发生键冲突，它可以通过使用其关键字首先*删除现有行。*`REPLACE`如果列上有`UNIQUE`键`ID`并且您不需要保留 的值`Standards_Setting`，则可以利用此功能：

```
LOAD DATA LOCAL INFILE 'C:/Program Files/MySQL/MySQL Server 5.5/bin/syspolicy.txt'
  REPLACE INTO TABLE system_settings
  FIELDS TERMINATED BY '' ENCLOSED BY '' ESCAPED BY ''
  LINES STARTING BY '' TERMINATED BY ''
  (Actual_Setting)
  SET ID = 'Virtual Machine 1' 
```

（请注意，由于要将整个文件读入单个字段，因此必须覆盖默认值并明确指定没有字段或行终止/引用/转义字符。）

否则，如果您需要*更新*现有记录，我建议您将文件加载到临时表中，然后使用内容更新表：

```
CREATE TEMPORARY TABLE foo (content LONGTEXT);

LOAD DATA LOCAL INFILE 'C:/Program Files/MySQL/MySQL Server 5.5/bin/syspolicy.txt'
  INTO TABLE foo
  FIELDS TERMINATED BY '' ENCLOSED BY '' ESCAPED BY ''
  LINES STARTING BY '' TERMINATED BY ''
  (content);

UPDATE system_settings
  SET Actual_Setting = (SELECT content FROM foo)
WHERE ID = 'Virtual Machine 1';

DROP TEMPORARY TABLE foo; 
```

# c# - 从 BackgroundWorker 调用未处理的 ObjectDisposedException

> ID：12171051
> 
> 赞同：0
> 
> 时间：2012-08-29T04:45:58.420
> 
> 标签：c#, multithreading, backgroundworker, objectdisposedexception

如果我不在 VisualStudio 2010 中使用调试，我的应用程序将按预期工作，但我在调试模式下收到 ObjectDisposedException 投诉。我已经阅读了 MS 文档和其他几个线程，但我无法发现问题。异常点在代码中注明，堆栈跟踪如下。谢谢你的帮助。

```
 Form1.cs

        using System;
        using System.Collections.Generic;
        using System.ComponentModel;
        using System.Data;
        using System.Drawing;
        using System.Linq;
        using System.Text;
        using System.Windows.Forms;
        using System.Threading;
        using CSharpJExcel.Jxl;

        namespace Importer
        {
            public partial class Form1 : Form
            {
                public Form1()
                {
                    InitializeComponent();
                    openFileDialog1.Filter = "Text Files (.xls)|*.xls|All Files (*.*)|*.*";
                    openFileDialog1.FilterIndex = 1;
                    openFileDialog1.FileName = as400TextBox.Text;
                }

                delegate void messageBoxCallback(string text);

                private void button1_Click(object sender, EventArgs e)
                {
                    openFileDialog1.FileName = as400TextBox.Text;
                    if (openFileDialog1.ShowDialog() == DialogResult.OK)
                    {
                        as400File = openFileDialog1.FileName;
                        as400TextBox.Text = as400File;
                        buildDataView(as400TextBox.Text);
                    }
                    else
                    {
                        as400TextBox.Text = "";
                        openFileDialog1.FileName = as400TextBox.Text;
                    }

                }

                private void uploadButton_Click(object sender, EventArgs e)
                {

                    Workbook workbook = Workbook.getWorkbook(new System.IO.FileInfo(as400TextBox.Text));
                    var sheet = workbook.getSheet(0);
                    uploadProgress.Maximum = sheet.getRows();
                    workbook.close();

                    backgroundWorker1.RunWorkerAsync((String)as400TextBox.Text);

                }

                private string as400File;

                private void backgroundWorker1_DoWork(object sender, DoWorkEventArgs e)
                {

                    appendMessage(((string)e.Argument));
                    Workbook workbook=null;            
                    workbook = Workbook.getWorkbook(new System.IO.FileInfo(((String)e.Argument)));
                    appendMessage("Workbook opened");            
                    var sheet = workbook.getSheet(0);
                    int r = 1;
                    string barcode, fname, lname, adname, student_id;
                    Cell[] row;
                    //uploadProgress.Maximum = sheet.getRows();

                    while (true)//process xls to SQL
                    {
                        try
                        {
                            row = sheet.getRow(r);
                        }
                        catch (IndexOutOfRangeException)
                        {
                            appendMessage("Processed: " + r);
                            workbook.close();
                            break;

                        }

                        student_id = ((string)row[0].getContents()).Trim();
                        barcode = ((string)row[1].getContents()).Trim();
                        lname = ((string)row[2].getContents()).Trim();
                        fname = ((string)row[3].getContents()).Trim();
                        adname = ((string)row[4].getContents()).Trim() + ((string)row[5].getContents()).Trim();

                        appendMessage(lname + " " + fname + " " + barcode + " " + adname + " " + student_id);
                        backgroundWorker1.ReportProgress(++r);
                    }

                }

                private void backgroundWorker1_ProgressChanged(object sender, ProgressChangedEventArgs e)
                {
                    uploadProgress.Value = e.ProgressPercentage;
                    appendMessage("Status: " + (int)e.UserState);
                }

                private void backgroundWorker1_RunWorkerCompleted(object sender, RunWorkerCompletedEventArgs e)
                {
                    appendMessage("Done!");
                }

                private void appendMessage(string msg)
                {

                    if (InvokeRequired)
                    {
                        messageBoxCallback mb = new messageBoxCallback(appendMessage);

                       this.Invoke(mb, new object[] { msg });//<---ObjectDisposedException

                       return;
                    }

                    messageBox.Text += (msg + Environment.NewLine);

                }

                private void openFileDialog1_FileOk(object sender, CancelEventArgs e)
                {

                }

            }
        }

        Program.cs:

        using System;
        using System.Collections.Generic;
        using System.Linq;
        using System.Windows.Forms;

        namespace Importer
        {
            static class Program
            {
                /// <summary>
                /// The main entry point for the application.
                /// </summary>
                [STAThread]
                static void Main()
                {
                    Application.EnableVisualStyles();
                    Application.SetCompatibleTextRenderingDefault(false);
                    Application.Run(new Form1());//<--TargetInvocationException (after ObjDisp is swallowed)
                }
            }
        }

    Stack Trace:
    System.ObjectDisposedException was unhandled by user code
      Message=Cannot access a disposed object.
    Object name: 'Form1'.
      Source=System.Windows.Forms
      ObjectName=Form1
      StackTrace:
           at System.Windows.Forms.Control.MarshaledInvoke(Control caller, Delegate method, Object[] args, Boolean synchronous)
           at System.Windows.Forms.Control.Invoke(Delegate method, Object[] args)
           at Importer.Form1.appendMessage(String msg) in C:\Users\Administrator\Google Drive\prj_tmp\Importer\Importer\Form1.cs:line 188
           at Importer.Form1.backgroundWorker1_DoWork(Object sender, DoWorkEventArgs e) in C:\Users\Administrator\Google Drive\prj_tmp\Importer\Importer\Form1.cs:line 163
           at System.ComponentModel.BackgroundWorker.OnDoWork(DoWorkEventArgs e)
           at System.ComponentModel.BackgroundWorker.WorkerThreadStart(Object argument)
      InnerException: 

If I swallow this exception I get:

System.Reflection.TargetInvocationException was unhandled
  Message=Exception has been thrown by the target of an invocation.
  Source=mscorlib
  StackTrace:
       at System.RuntimeMethodHandle._InvokeMethodFast(Object target, Object[] arguments, SignatureStruct& sig, MethodAttributes methodAttributes, RuntimeTypeHandle typeOwner)
       at System.RuntimeMethodHandle.InvokeMethodFast(Object target, Object[] arguments, Signature sig, MethodAttributes methodAttributes, RuntimeTypeHandle typeOwner)
       at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture, Boolean skipVisibilityChecks)
       at System.Delegate.DynamicInvokeImpl(Object[] args)
       at System.Windows.Forms.Control.InvokeMarshaledCallbackDo(ThreadMethodEntry tme)
       at System.Windows.Forms.Control.InvokeMarshaledCallbackHelper(Object obj)
       at System.Threading.ExecutionContext.runTryCode(Object userData)
       at System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup(TryCode code, CleanupCode backoutCode, Object userData)
       at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
       at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
       at System.Windows.Forms.Control.InvokeMarshaledCallback(ThreadMethodEntry tme)
       at System.Windows.Forms.Control.InvokeMarshaledCallbacks()
       at System.Windows.Forms.Control.WndProc(Message& m)
       at System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message& m)
       at System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message& m)
       at System.Windows.Forms.NativeWindow.DebuggableCallback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)
       at System.Windows.Forms.UnsafeNativeMethods.DispatchMessageW(MSG& msg)
       at System.Windows.Forms.Application.ComponentManager.System.Windows.Forms.UnsafeNativeMethods.IMsoComponentManager.FPushMessageLoop(Int32 dwComponentID, Int32 reason, Int32 pvLoopData)
       at System.Windows.Forms.Application.ThreadContext.RunMessageLoopInner(Int32 reason, ApplicationContext context)
       at System.Windows.Forms.Application.ThreadContext.RunMessageLoop(Int32 reason, ApplicationContext context)
       at System.Windows.Forms.Application.Run(Form mainForm)
       at AlphaCardImporter.Program.Main() in C:\Users\Administrator\Google Drive\prj_tmp\Importer\Importer\Program.cs:line 18
       at System.AppDomain._nExecuteAssembly(Assembly assembly, String[] args)
       at System.AppDomain.ExecuteAssembly(String assemblyFile, Evidence assemblySecurity, String[] args)
       at Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly()
       at System.Threading.ThreadHelper.ThreadStart_Context(Object state)
       at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
       at System.Threading.ThreadHelper.ThreadStart()
  InnerException: System.NullReferenceException
       Message=Object reference not set to an instance of an object.
       Source=AlphaCardImporter
       StackTrace:
            at AlphaCardImporter.Form1.backgroundWorker1_ProgressChanged(Object sender, ProgressChangedEventArgs e) in C:\Users\Administrator\Google Drive\prj_tmp\Importer\Importer\Form1.cs:line 173
            at System.ComponentModel.BackgroundWorker.OnProgressChanged(ProgressChangedEventArgs e)
            at System.ComponentModel.BackgroundWorker.ProgressReporter(Object arg)
       InnerException: 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T04:57:54.053

当您在没有调试器的情况下运行时也可能发生异常，只是没有收到通知。在非调试运行中，当后台线程发生异常时，您不会收到通知，后台线程只是退出。

编辑代码以在异常发生时写入日志文件或其他内容，您可能会看到相同的行为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T05:02:30.830

找到了！我在做实验时把垃圾称为垃圾。

这是有问题的行：

```
appendMessage("Status: " + (int)e.UserState); <-- there is no (int)e.UserState 
```

当我在 VS2010 中没有调试的情况下运行时，我收到了一条更有意义的 JIT 运行时消息，这使我进入了那条线。

# file - h:commandLink JSF 文件下载

> ID：12171053
> 
> 赞同：0
> 
> 时间：2012-08-29T04:46:05.293
> 
> 标签：file, jsf, download

我正在尝试在 JSF 页面中创建下载链接。该页面有许多启用了验证的richfaces 字段。有些附加了验证器方法，有些只是将 required 属性设置为 true。下载链接是一个 h:commandlink 元素。该链接应该从服务器下载文件。当我单击链接时，会触发一些字段的验证。我怎样才能避免这种情况？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T11:11:52.677

要么把它放在一个单独的表格中，

```
<h:form>
    ... other input fields ...
</h:form>
<h:form>
    <h:commandLink value="Download" action="#{bean.download}" />
</h:form> 
```

或使用`immediate="true"`以便在此过程中跳过所有*未设置此属性的输入字段*

```
<h:commandLink value="Download" action="#{bean.download}" immediate="true" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-09T19:48:39.490

问题出在服务器端的文件上。问题解决了。

# css - 在 1140 网格的移动视图中更改堆栈顺序？

> ID：12171056
> 
> 赞同：1
> 
> 时间：2012-08-29T04:46:11.487
> 
> 标签：css, html, layout, mobile, fluid-layout

我想在我的站点上实现 1140grid。布局非常简单：

```
100% header
25% sidebar 75% page
100% footer 
```

另见[http://jsfiddle.net/KB5Nq/](http://jsfiddle.net/KB5Nq/)

问题是我想在网站处于移动视图时更改堆栈顺序：

```
100% header
100% page
100% sidebar
100% footer 
```

但是，默认情况下，它会按照它们在源代码中出现的顺序排列块：页眉、侧边栏、页面、页脚。

是否有一个简单的仅 css 修复？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T21:34:41.523

你可以试试这个。重新排序文档流中的 Main 和 Sidebar 以及具有负边距的 hack 框架样式：

```
.container .eightcol {margin-left:34.55% !important;}
.container .fourcol {margin-left:-100% !important;} 
```

[http://jsfiddle.net/KB5Nq/2/](http://jsfiddle.net/KB5Nq/2/)

尽管如此，我还是不建议首先使用不能满足您需求的黑客框架。对于简单的布局，有时编写干净整洁的 vanilla 代码会更快。

# java - Java如何访问一个类中的一个类

> ID：12171057
> 
> 赞同：1
> 
> 时间：2012-08-29T04:46:15.937
> 
> 标签：java, class

这基本上是我所拥有的：

```
public class Game extends Activity{
    public class Work{
        public class Shuffle{
            *Class I need to access*
        }
    }
} 
```

这是我将从中访问 Shuffle 的课程：

```
public class Deck extends Game {
    public int shuffle() {
        //WHAT DO I NEED TO DECLARE HERE IN ORDER TO ACCESS Shuffle.getShuffle()?
        int[] shuffDeck = (MY SHUFFLE CLASS).getShuffle();
        int x = shuffDeck[i];
        String y = String.valueOf(x);
        i += 1;

        return x;
    }
} 
```

我需要声明什么才能在我的 Deck 类中访问 Shuffle.getShuffle() ？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-29T05:12:52.720

现在采用嵌套类的**两种**类型：

**1.** `Inner Classes`（非静态）

**2.** `Top Level Classes`（静态）

**-** `Inner Clas` s（非静态）**对其** `Outer Class`（封闭类）有一个隐式引用。要从外部访问内部类，您需要**使用外部类对象访问它**。

**例如：**

```
 public class Outer{

     class Inner{

     }

 }

public class Test{

   public static void main(String[] args){

         Outer o = new Outer();
         Outer.Inner i = o.new Inner();

    }
} 
```

**-** A `Top-Level Class`（静态）就像外部类中的一个**单独**的类。 `Top-level`类**需要创建外部类的对象来访问其非静态成员**，但它**可以**`Static methods and Static variables`直接访问外部类的。

**例如：**

```
public class Outer{

         class Inner{

         }

     }

    public class Test{

       public static void main(String[] args){

             Outer.Inner i = new Outer.Inner();

        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T04:50:04.530

您不能直接从外部类访问内部类方法和字段。但是，您可以在内部类内部访问外部类方法。

要访问内部类，您需要创建一个内部类对象，而不是只有您可以访问内部类字段。有关更多说明，请参见嵌套类：

[http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html](http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T05:03:17.710

您正在谈论嵌套类，请尝试阅读这篇文章。也许它可以提供帮助。

[http://en.wikibooks.org/wiki/Java_Programming/Nested_Classes](http://en.wikibooks.org/wiki/Java_Programming/Nested_Classes)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-29T05:03:44.340

嵌套类应该只存在于服务器外部类。您不应该将内部类暴露给外部世界。

```
public class Game extends Activity{

public static class Shuffle
        {
            // provide shuffle method here which will use internal implementation of
            // shuffle.
        }

int[] shuffle()
    {
        // call inner class method from here. Also declare inner class as
        // static since I guess your inner class does not require instance
        // of outer class.
       return null;
    } 
```

`shuffle()`以及使用游戏对象的游戏访问方法

```
 int[] shuffDeck = (Game object).getShuffle(); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-12-23T06:39:38.553

```
 public class Outer{
        class Inner{

       }
    }

    Outer.Inner art = (new Outer()).new Inner(); 
```

* * *

```
import android.content.Context;
import android.widget.Toast;

public class Outer{
    private Context context;
    public Outer(Context con) {
        context = con;
        String text = "Hello, I'm dbManager.";
        int duration = Toast.LENGTH_SHORT;
        Toast.makeText(context, text, duration ).show();
    }

    public class Inner{
        public Inner() {
            String text = "Hello, I'm «Art dbManager».";
            int duration = Toast.LENGTH_SHORT;
            Toast.makeText(context, text, duration ).show();
        }
    }
}

    Outer.Inner art = (new Outer(this)).new Inner(); 
```

# c# - 在应用程序的所有 WPF 表单中使用串行端口通信

> ID：12171062
> 
> 赞同：1
> 
> 时间：2012-08-29T04:46:42.687
> 
> 标签：c#, wpf

我有两个 WPF 表单（主要和预订时间）。一旦应用程序从串行端口接收到前缀为“EMPXXXX”的员工数据，主窗体将处理调用并更新 UI。然后将根据用户的日志显示“开始工作”和“切换工作”两个按钮。现在用户将按下开始或切换按钮，这将带来预约时间屏幕。现在用户将扫描以“JOBXXXX”为前缀的工作表。预订时间屏幕应在文本框中显示作业代码，并在用户按下按钮屏幕中的“是”或“否”按钮时更新数据库。

请有人告诉我在两个 WPF 表单之间共享接收数据并基于“EMP”或“JOB”前缀更新它们的适当方法。

我正在考虑创建一个通用类，它将在 serialdatareceive 事件中接收数据并基于前缀调用适当的处理方法。

```
Class SerialDataReceive {

    Serialport SP = new serialport("COM1",9600);
    SP.DataReceived += New SerailPortDataReceiveHandler(DataReceiveHandler);
}

private voif SerialPortDataReceiveHandler(object sender, serialdatareceiveeventArg e)
{
    SerialPort SP1 = new serialport(sender);
    sCommdata = Sp1.ReadExisting();

    If(ScommData.substring(0,3)== "EMP")
    {
        //call the function in Main form

    }
    else 
    {
        // call function in BookTime.XAML.Cs and update the UI
    }
    }
} 
```

这是一个可行的解决方案吗？

# ruby-on-rails - counter_cache 列返回 0 的 Rspec 测试

> ID：12171067
> 
> 赞同：7
> 
> 时间：2012-08-29T04:47:20.523
> 
> 标签：ruby-on-rails, ruby, rspec, rspec2, counter-cache

几天来，我一直在努力找出应该很容易做到的接缝的底部……但是，我对 rails 和 ruby​​ 的世界还是很陌生，我只是无法解决这个问题。 .. :p

无论如何，我遇到的问题是我的模型中有许多 :counter_cache 列，在手动测试它们时它们都工作得很好。但是，我想做 TDD 的事情，但由于某种未知原因，我无法在 rspec 中测试它们？

无论如何，这是我的模型（用户、评论和媒体）的一个例子：

```
class User < ActiveRecord::Base
  has_many :comments
  has_many :media, dependent: :destroy
end  

class Comment < ActiveRecord::Base
  attr_accessible :content, :user_id
  belongs_to :commentable, polymorphic: true, :counter_cache => true
  belongs_to :user, :counter_cache => true

  validates :user_id, :presence => true
  validates :content, :presence => true, :length => { :maximum => 255 }
end

class Medium < ActiveRecord::Base
 attr_accessible :caption, :user_id

 belongs_to :user, :counter_cache => true

 has_many :comments, as: :commentable

 validates :user_id, presence: true
 validates :caption, length: { maximum: 140 }, allow_nil: true, allow_blank: true 

 default_scope order: 'media.created_at DESC'  
end 
```

以下是表模式设置的示例：

```
create_table "users", :force => true do |t|
  t.integer  "comments_count",         :default => 0,  :null => false
  t.integer  "media_count",            :default => 0,  :null => false
end

create_table "comments", :force => true do |t|
  t.text     "content"
  t.integer  "commentable_id"
  t.string   "commentable_type"
  t.datetime "created_at",       :null => false
  t.datetime "updated_at",       :null => false
  t.integer  "user_id"
end

create_table "media", :force => true do |t|
  t.integer  "user_id"
  t.string   "caption"
  t.datetime "created_at",                    :null => false
  t.datetime "updated_at",                    :null => false
  t.integer  "comments_count", :default => 0, :null => false
end 
```

现在这是我尝试过的 rspec 示例的示例：

```
require 'spec_helper'

describe "Experimental" do

  describe "counter_cache" do 
    let!(:user) { FactoryGirl.create(:user)}

    subject { user }

    before do
      @media = user.media.create(caption: "Test media")
    end

    its "media array should include the media object" do 
      m = user.media
      m.each do |e|
        puts e.caption # Outputting "Test media" as expected
      end

      user.media.should include(@media) #This works
    end

    it "media_count should == 1 " do # This isnt working? 
      puts user.media_count #Outputting 0
      user.media_count.should == 1
    end
  end
end 
```

最后是 rspec 给我的错误信息：

```
Failures:

  1) Experimental counter_cache media_count should == 1 
     Failure/Error: user.media_count.should == 1
       expected: 1
            got: 0 (using ==)
     # ./spec/models/experimental_spec.rb:24:in `block (3 levels) in <top (required)>'

Finished in 0.20934 seconds
2 examples, 1 failure 
```

另请注意，这发生在我所有模型中的所有 counter_cache 列中。我也尝试了许多不同的测试方法，但它们都返回了上述错误消息。

真的希望有人可以帮助我解决这个问题。:)

提前致谢！卢克

更新：这会以同样的方式影响 counter_culture，下面的解决方案也解决了 counter_culture 的问题。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-08-29T05:16:52.307

`counter_cache`直接在数据库中更新。这不会影响您已加载到内存中的模型副本，因此您需要重新加载它：

```
it "media_count should == 1 " do 
  user.reload
  user.media_count.should == 1
end 
```

但是，我不认为这就是我要测试的方式。正如您所拥有的那样，您的测试与设置代码非常紧密地耦合，看起来它根本不需要在那里。对于独立规格来说，这样的事情怎么样：

```
it "has a counter cache" do
    user = FactoryGirl.create(:user)
    expect { 
      user.media.create(caption: "Test media") 
    }.to change { User.last.media_count }.by(1)
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-09-09T07:24:33.937

对于 testng counter_cache，您可以使用 Shoulda-Matchers gem，有开箱即用的[方法](https://github.com/thoughtbot/shoulda-matchers/blob/master/lib/shoulda/matchers/active_record/association_matcher.rb#L183)

# python - 计算电子商务网站的所有订单商品

> ID：12171070
> 
> 赞同：0
> 
> 时间：2012-08-29T04:47:49.327
> 
> 标签：python, django, model, one-to-many, counter

我正在建立一个食品配送网站。我目前已经全部设置好了，但是我正在构建管理页面来汇总每种食物的订单总量。

“位置”属性有 6 个可能的下车点。我有 3 个送货时间。我想计算每个交货时间/地点的所有单个食品。我不确定如何使用 django 做到这一点。

最好的方法是什么？

我将实际的“订单”模型与“订单项”模型分开。

```
class Order(models.Model):
    # each individual status 
    SUBMITTED = 1
    PROCESSED = 2
    SHIPPED = 3
    CANCELLED = 4

    # set of possible order statuses 
    ORDER_STATUSES = ((SUBMITTED,'Submitted'), (PROCESSED,'Processed'),
                        (SHIPPED,'Shipped'), (CANCELLED,'Cancelled'),)

    # order info
    date = models.DateTimeField(auto_now_add=True)
    status = models.IntegerField(choices=ORDER_STATUSES, default=SUBMITTED)
    last_updated = models.DateTimeField(auto_now=True)
    transaction_id = models.CharField(max_length=20)

    #user info
    user = models.ForeignKey(User, null=True)
    full_name = models.CharField(max_length=20, blank=True)

    # contact info
    email = models.EmailField(max_length=50) 
    phone = models.CharField(max_length=20)

    # Drop point info
    location = models.CharField(max_length=50)

    #time of the drop info
    time = models.IntegerField()

    # billing information
    billing_name = models.CharField(max_length=50) 
    billing_address_1 = models.CharField(max_length=50) 
    billing_address_2 = models.CharField(max_length=50, blank=True) 
    billing_city = models.CharField(max_length=50)
    billing_state = models.CharField(max_length=2)
    billing_country = models.CharField(max_length=50)
    billing_zip = models.CharField(max_length=10)

    def __unicode__(self):
        return 'Order #' + str(self.id) 
```

订购项目：

```
class OrderItem(models.Model):
    product = models.ForeignKey(Food)
    quantity = models.IntegerField(default=1)
    price = models.DecimalField(max_digits=7,decimal_places=2)
    order = models.ForeignKey(Order) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T09:49:32.947

尝试[注释和计数](https://docs.djangoproject.com/en/dev/topics/db/aggregation/#aggregations-and-other-queryset-clauses)：

```
orders = orders.annotate(num_items=Count('orderitem_set'))

for order in orders:
    print order.pk, order.num_items 
```

# java - 如何在扩展视图的类中使用 startActivity？

> ID：12171073
> 
> 赞同：0
> 
> 时间：2012-08-29T04:48:58.970
> 
> 标签：java, android, sudoku

我有一个扩展视图的类 PuzzleView。当 if 语句返回 true 时，我希望能够从此视图中打开一个新活动 Congratulations。

```
public class PuzzleView extends View { 
/*Code here blah blah blah then*/
 @Override
 public boolean onKeyDown(int keyCode, KeyEvent event) 
{
  if (game.isSolved()== true)
  {
    Context context = getContext();
    Intent i = new Intent(PuzzleView.this, Congratulations.class);
    getContext().startActivity(i);
  } 
```

我得到的错误是“构造函数 Intent(PuzzleView, Class) 未定义”这里

```
new Intent(PuzzleView.this, Congratulations.class); 
```

作为对@imrankhan 的回复，这里是整个 onKeyDown()

```
@Override
   public boolean onKeyDown(int keyCode, KeyEvent event) 
   {

       if (game.isSolved()== true)
       {
           Context context = getContext();
           Intent i = new Intent(context, Congratulations.class);
           context.startActivity(i);
       }
       else
       {
      Log.d(TAG, "onKeyDown: keycode=" + keyCode + ", event="
            + event);
      switch (keyCode) {
      case KeyEvent.KEYCODE_DPAD_UP:
         select(selX, selY - 1);
         break;
      case KeyEvent.KEYCODE_DPAD_DOWN:
         select(selX, selY + 1);
         break;
      case KeyEvent.KEYCODE_DPAD_LEFT:
         select(selX - 1, selY);
         break;
      case KeyEvent.KEYCODE_DPAD_RIGHT:
         select(selX + 1, selY);
         break;
      case KeyEvent.KEYCODE_0:
      case KeyEvent.KEYCODE_SPACE: setSelectedTile(0); break;
      case KeyEvent.KEYCODE_1:     setSelectedTile(1); break;
      case KeyEvent.KEYCODE_2:     setSelectedTile(2); break;
      case KeyEvent.KEYCODE_3:     setSelectedTile(3); break;
      case KeyEvent.KEYCODE_4:     setSelectedTile(4); break;
      case KeyEvent.KEYCODE_5:     setSelectedTile(5); break;
      case KeyEvent.KEYCODE_6:     setSelectedTile(6); break;
      case KeyEvent.KEYCODE_7:     setSelectedTile(7); break;
      case KeyEvent.KEYCODE_8:     setSelectedTile(8); break;
      case KeyEvent.KEYCODE_9:     setSelectedTile(9); break;
      case KeyEvent.KEYCODE_ENTER:
      case KeyEvent.KEYCODE_DPAD_CENTER:
         game.showKeypadOrError(selX, selY);
         break;
      default:
         return super.onKeyDown(keyCode, event);
      }
      return true;
       }

   } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T04:57:04.380

我同意这里的其他答案。但看起来他们缺乏关于为什么不允许这样做的信息。让我简单地说。

当您启动一个 Intent 时，它需要两个参数，一个是上下文或 Activity 引用，另一个是下一个 Activity 类。

但是您要做的是，您试图将**this**引用传递给扩展 View 的类，这就是您收到此错误的原因。

上下文对象实际上充当堆栈中的引用，从控制转移的位置开始。因此，您需要将上下文对象或 Activity 对象本身连同它一起传递。

> 最后但同样重要的是，Activity 实际上是从 Context Class 扩展而来的。因此，他们中的任何一个都会为您完成任务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T05:00:08.157

您需要在视图类中保留应用程序上下文，以便以下代码回答您。

```
 public class PuzzleView extends View { 
    Context mContext;
        public PuzzleView (Context context, AttributeSet attrs) {
        super(context, attrs);  
        mContext=context;// keep the context

        } 
     @Override
     public boolean onKeyDown(int keyCode, KeyEvent event) {
        if (game.isSolved()== true){
              Intent i = new Intent(mContext, Congratulations.class);
               mcontext.startActivity(i);
      } 
```

**编辑**

你的观点应该是这样的。

```
<com.yourpackage.PuzzleView  
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/yourid"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T04:50:37.267

尝试作为

```
 @Override
 public boolean onKeyDown(int keyCode, KeyEvent event) 
{
  if (game.isSolved()== true)
  {
    Context context = getContext();
    Intent i = new Intent(context, Congratulations.class);
    context.startActivity(i);

  }
 return super.onKeyDown(keyCode, event);    
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T04:51:04.350

你为什么不试试这个 -

```
Context context = getContext();
Intent i = new Intent(context, Congratulations.class);
context.startActivity(i); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-29T04:55:13.650

您需要在视图的构造函数中传递活动引用，您可以稍后使用此引用。所以定义一个构造函数，如下所示：

```
public class PuzzleView extends View
{
    Activity mActivity;
    public PuzzleView(Activity activity, Context context)
    {
         super(context);
         this.mActivity=activity;
    }
} 
```

现在使用此活动参考开始活动：

```
Intent i = new Intent(mActivity, Congratulations.class);
    getContext().startActivity(i); 
```

# django - Django 1.4：在 django 管理站点中实现链接下拉列表（管理站点的自定义小部件）

> ID：12171076
> 
> 赞同：0
> 
> 时间：2012-08-29T04:49:34.630
> 
> 标签：django, django-admin

我有3个模型：

```
class Customer (models.Model):
     name = models.CharField (max_length = 20)

class Vehicle (models.Model):
     make = models.CharField (max_length = 20)
     customer = models.ForeignKey(Customer)

class Appointment (models.Model):
    customer = models.ForeignKey (Customer)
    vehicle = models.ForeignKey (Vehicle) 
```

在 Appointment 管理站点中，它目前显示了两个下拉列表，一个显示所有客户，另一个显示所有车辆。

我想实现它，首先选择一个客户，然后在第二个下拉列表中填充客户拥有的车辆列表。我知道如何使用 jQuery 在标准模板中执行此操作，但我在管理站点中找不到任何有关如何执行此操作的文档。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T05:23:20.773

[https://github.com/digi604/django-smart-selects](https://github.com/digi604/django-smart-selects)

编辑：还有一个小应用程序，它提供了一个可以在 django admin 中使用的小部件，并且不需要更改模型（ChainedForeignKey 等）。

[https://github.com/runekaagaard/django-admin-flexselect](https://github.com/runekaagaard/django-admin-flexselect)

# xml - 在 QTP 中从 Oracle 数据库中检索 XML 类型记录

> ID：12171077
> 
> 赞同：1
> 
> 时间：2012-08-29T04:49:47.093
> 
> 标签：xml, database, testing, qtp

我想从其中包含 XML 文件的 Oracle 数据库中获取记录。当我尝试从同一个表中获取其他列时，它会成功返回，例如数字或文本，但具有 XML 类型记录的列在执行查询时会出现非特定错误。

代码：

```
Dim strConn
strConn = //conn string 

Dim obConnect
Dim obRecset 

Set obConnect =CreateObject("ADODB.Connection")
Set obRecset = CreateObject("ADODB.Recordset")

obConnect.Open strConn

Dim queryStr

Dim i,j
For j=1 to 10 

  datatable.SetCurrentRow(j)

  i= datatable.Value("A","Global") ------------->>>>>> taking value from datatable

  queryStr = "select  tran_doc_xml from transaction where tran_doc_xml like 

  '%Metadata%' and uniq_descr_value_desc = '"&i&"'" ----------->>>>> fetching XML type record

  Set obRecset = obConnect.Execute(queryStr) ----->>>>>>> Error in this line

  msgbox obRecset.Fields.Item(0)

Next 
```

关于如何从数据库中检索 XML 记录有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-27T15:14:38.397

如何使用类似的查询

```
SELECT t.tran_doc_xml
FROM transaction t
WHERE t.tran_doc_xml.extract('/NodeLevel1/NodeLevel2/text()').getStringVal()
    like '%Metadata%'; 
```

# c# - 我如何检查/检测何时运行新的 exe 进程？

> ID：12171078
> 
> 赞同：0
> 
> 时间：2012-08-29T04:49:52.730
> 
> 标签：c#

例如游戏战场 3。文件名为 bf3.exe 我希望我的应用程序能够检测到我第一次运行游戏的时间以及退出游戏的时间。

我在我的 Form1 中做了：

```
private ProcessStartInfo bf3; 
```

在构造函数中：

```
 bf3 = new ProcessStartInfo("bf3.exe"); 
```

我不确定使用 ProcessStartInfo 是否是个好主意以及下一步该做什么。

编辑：

这是我现在的代码：

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using System.Diagnostics;
using DannyGeneral;

namespace CpuUsage
{
    public partial class Form1 : Form
    {

        private DateTime dt;
        private DateTime dt1;
        private PerformanceCounter theCPUCounter;
        private PerformanceCounter theMemCounter;
        private PerformanceCounter specProcessCPUCounter;
        private float cpuUsage;
        private float memUsage;
        private List<float> Values;

        public Form1()
        {
            InitializeComponent();

            isProcessRunning();

            dt = DateTime.Now;

            Values = new List<float>();
                theCPUCounter = new PerformanceCounter("Processor", "% Processor Time", "_Total");
                theMemCounter = new PerformanceCounter("Memory", "Available MBytes");
                specProcessCPUCounter = new PerformanceCounter("Process", "% Processor Time", Process.GetCurrentProcess().ProcessName);

        }

        private void Form1_Load(object sender, EventArgs e)
        {

        }

        private void timer1_Tick(object sender, EventArgs e)
        {
            memUsage = theMemCounter.NextValue();
            label1.Text = memUsage.ToString();
            Logger.Write("Memory Usage   " + memUsage.ToString());
            cpuUsage = this.theCPUCounter.NextValue();
            label2.Text = cpuUsage.ToString();
            Logger.Write("Cpu Usage   " + this.cpuUsage.ToString());
            Values.Add(cpuUsage);
        }

        private void Form1_FormClosing(object sender, FormClosingEventArgs e)
        {
            dt1 = DateTime.Now;
            float Maximum = Values.Max();
            float Minimum = Values.Min();
            float Average = Values.Average();
            string t = string.Format("Maximum --- {0} , Minimum --- {1} , Average --- {2}", Maximum, Minimum, Average);
            Logger.Write(t);

            TimeSpan ts = (dt1 - dt);
            string time = ts.ToString(@"hh\:mm\:ss");
            Logger.Write("Time The Program Was Running ---   " + time);

        }

        private void isProcessRunning()
        {
            while (true) 
            {
                Process[] proclist = Process.GetProcessesByName("bf3.exe");
                if (proclist.Length > 0)
                {
                    Logger.Write("Battlefield 3 Started");
                }
                else
                {
                    Logger.Write("Battlefield 3 Exited");
                }
            } 

        }

    }
} 
```

现在的问题是它进入了while循环并且永远不会做它停留在循环中的计时器。我也需要使用计时器代码，同时检查/等待以查看 bf3.exe 是否启动或结束。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:02:35.703

你想检查天气 bf3.exe 正在运行或退出还是什么？然后你应该尝试下面的代码。

```
 Process[] _process = null;
        _process = Process.GetProcessesByName("bf3");
        foreach (Process proc in _process)
        {
            proc.Kill();
            MessageBox.Show(proc.ToString());
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T05:15:55.893

在任何情况下，您都想检测正在运行的 .exe 文件，对吗？在 c# 中，也许这个链接也可以帮助你。

[使用 C# .net 检测进程已在 Windows 中运行](https://stackoverflow.com/questions/187915/detecting-a-process-is-already-running-in-windows-using-c-sharp-net)

[检查 Windows 应用程序是否正在运行](https://stackoverflow.com/questions/4722198/checking-if-windows-application-is-running)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T04:57:54.450

您可以检测此 msdn 文章中提到的应用程序退出：

[http://social.msdn.microsoft.com/Forums/en-US/csharpgeneral/thread/707e9ae1-a53f-4918-8ac4-62a1eddb3c4a/](http://social.msdn.microsoft.com/Forums/en-US/csharpgeneral/thread/707e9ae1-a53f-4918-8ac4-62a1eddb3c4a/)

要检查应用程序的启动，您需要使用挂钩。

参考： http: [//www.codeplex.com/easyhook](http://www.codeplex.com/easyhook)

希望这可以帮助

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T05:30:22.967

如果要测量该 EXE 运行时间的时间，您可以使用秒表并在运行 exe 之前启动它，并在 EXE 停止时停止它。

粗略的代码是：

```
Stopwatch run_time = new Stopwatch();
run_time.Start();

Process.Start("bf3.exe");  //You will need to enter full path here

while(true)
{
            Process[] pListofProcess = Process.GetProcesses();

            bool bRunning = false;

            foreach (Process p in pListofProcess)
            {
                string ProcessName = p.ProcessName;

                ProcessName = ProcessName.ToLower();

                if (ProcessName.CompareTo("bf3.exe") == 0)
                {
                    bRunning = true;
                }

            }
            if (bRunning == false)
            { 
                run_time.Stop();
                //Show elapsed time here.
                break;

            }
          Thread.Sleep(1000);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-29T04:59:58.040

您可以使用以下命令按名称获取正在运行的进程：

```
Process[] processes = Process.GetProcessesByName("process name"); 
```

您可以定期检查，也可以使用前面答案中提到的钩子。如果您在 BF3 之后启动应用程序，则必须在启动期间获取一次进程。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-29T05:02:26.033

检查以下链接：

[C# 进程终止 - SO Post](https://stackoverflow.com/questions/2237628/c-sharp-process-killing)

[如果它正在运行，则杀死一个进程 - dreamin 代码](http://www.dreamincode.net/code/snippet1543.htm)

此致

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-29T05:03:18.057

您可以从以下方式开始：

```
System.Diagnostics.Process.Start(@"C:\Program Files (x86)\Origin Games\Battlefield 3\bf3.exe"); //modify the start path for wherever your copy is located at 
```

虽然我很确定运行该 exe 只会启动 Origin，然后启动 Web 客户端/服务器选择器，从而启动游戏。

在启动它的方法中，您可以立即运行一个无限循环来检查“bf3.exe”进程是否正在运行，例如：

```
while (true) // Run in a separate thread to prevent blocking if that will be a problem
{
Process[] proclist = Process.GetProcessByName("bf3.exe");
if (proclist.Length > 0)
    {
        //BF3 is running, do something here
    }
else
    {
        //BF3 isn't running any more, do something here
    }
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-03-26T09:17:33.560

您需要按名称获取所有进程，然后检查长度。

```
Process[] proc = Process.GetProcessesByName("process_name");
        if (proc.Length > 0) Console.Write("Process is Running");
        else Console.Write("Not running"); 
```

# windows-phone-7 - WP7 WebBrowser 控件的 NavigateToString 不显示 html 数据

> ID：12171080
> 
> 赞同：0
> 
> 时间：2012-08-29T04:49:56.847
> 
> 标签：windows-phone-7

我正在处理 WP7 中的 WebBrowser 控件 这是我编写的示例 HTML，并要求 webBrowser 导航到字符串而不是它的工作正常但是当我将此 html 存储到变量中并要求导航到字符串而不是输出时是 html 格式。我的 HTML 字符串来自网络服务，所以我无法直接传递字符串。

我的 C# 代码是：

```
 JObject cityblog1 = (JObject)cityblog[0];
            string cityimg = (string)cityblog1["CityImage"];
            string citydetail = (string)cityblog1["CityDetail"];

            City_Blog cb = new City_Blog();
            cb.CityImage = cityimg;
            cb.CityDetail = citydetail;
            lstcityblogdetail.Add(cb);
            setimg();

            //"\u003cbody style=\"text-align:justify\"\u003e\u003cp\u003e\r\n\tname\u003c/p\u003e\r\n\u003cp\u003e\r\n\t\u003ca href=\"36\" style=\"color: red\"\u003emovieplex\u003c/a\u003e\u003c/p\u003e\r\n\u003cp\u003e\r\n\t\u003ca href=\"47\" style=\"color: red\"\u003etest\u003c/a\u003e\u003c/p\u003e\r\n\u003c/body\u003e"
            webBrowser1.NavigateToString(citydetail); 
```

当我传递这个字符串而不是它给出正确的输出时，看到这个字符串来自网络服务，但是当我将此字符串存储到 citydetail 变量并传递时，它比它在 html 格式上给出输出。

我该如何解决这个问题给出一些指导。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T05:36:11.163

要删除`nbsp;`使用此`citydetail.Replace("nbsp;","");`. `Regex Expressions`您还可以根据自己的应用了解使用方法。

# php - 为什么 PDO 在这里只返回一行？

> ID：12171084
> 
> 赞同：1
> 
> 时间：2012-08-29T04:50:14.987
> 
> 标签：php, database, pdo

将逗号分隔的 id 列表绑定到我准备好的语句时，我只返回一行，而我期望的是 3。

```
<?php

$dbh = new PDO("mysql:host=127.0.0.1;dbname=database", "user", "password");
$stmt = $dbh->prepare('SELECT * FROM Person WHERE PersonID IN (:p)');
$stmt->bindValue(":p", "3,4,5");
$stmt->execute();
$result =  $stmt->fetchAll(PDO::FETCH_ASSOC);

?>

<pre>
<?php print_r($result); ?>
</pre> 
```

如果我将 stmt 更改为

```
SELECT * FROM Person WHERE PersonID IN (3,4,5) 
```

我按预期返回了 3 行，我很困惑！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T04:53:18.837

因为 bind 本质上会将其包装在引号中并将其视为单个值。然后 MySQL 将其转换回整数，因此它仍然可以找到第一项的匹配项。

您需要分别执行 IN (:p1, :p2, :p3) 和绑定值

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T05:12:00.527

这应该可以工作，它会动态构建您应该在语句中使用的占位符：

```
$idList = array(3, 4, 5);
$argList = join(',', array_fill(0, count($idList), '?'));

$stmt = $dbh->prepare("SELECT * FROM Person WHERE PersonID IN ($argList)");
$stmt->execute($idList);
$result =  $stmt->fetchAll(PDO::FETCH_ASSOC); 
```

# javascript - 如何在表格中划掉一条线？

> ID：12171087
> 
> 赞同：0
> 
> 时间：2012-08-29T04:50:57.663
> 
> 标签：javascript, jquery, html-table

我创建了一个 jQuery 脚本：

```
<script type="text/javascript">
    $(document).ready(function () {
        $('tr.inactive').each(function (index) {
            var tr = $(this);
            tr.find('td:first').after(function () {
                return '<hr style="position: relative;top: -' + tr.height() + 'px;">';
            });
        });
    });
</script> 
```

如果 tr 处于非活动状态，则应越过它；这一行在脚本中由 hr 添加，但可惜它没有添加到屏幕上。如果您只是将屏幕放在 html 中，则一切正常。

```
 <tr class="inactive">
        <td>
            <h5>
                Add NuGet packages and jump start your coding</h5>
            NuGet makes it easy to install and update free libraries and tools. <a href="http://go.microsoft.com/fwlink/?LinkId=245153">
                                                                                    Learn more</a>
           <hr style="position: relative;top: -66px;">

        </td>

    </tr> 
```

如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T04:52:27.573

不需要 jQuery。只需将其添加到您的`.inactive h5`CSS 中：`text-decoration: line-through`

[http://jsfiddle.net/PN3ce/](http://jsfiddle.net/PN3ce/)

# php - mysql中的rowCount处理具有值的某些列

> ID：12171089
> 
> 赞同：0
> 
> 时间：2012-08-29T04:51:01.193
> 
> 标签：php, mysql, count, pdo, row

当我在 mysql 中有值和空值时，有人可以帮我 rowCount()

例如：

```
id        column1          column2           idcolumn
1           2                                   1  
2           3                                   1
3           1                                   1
4           0                                   1

$CountQuery = "SELECT column1 FROM follow WHERE idcolumn= ?";
$Count = $dbh->prepare($CountQuery);
$Count -> execute(array($idcolumn)); //where $idcolumn = 1
$num_1 = $Count->rowCount();
echo $num_1; 
```

这应该给我一个计数 4，但我试图区分 column1 和 column2，所以我可以找到计数，如果我想用 $num_2 创建一个查询，它应该给我一个计数 0。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T04:54:08.820

用于`COUNT(column)`计算该列中具有非 NULL 值的行数。

```
$CountQuery = "SELECT COUNT(column1) AS `count1`, COUNT(column2) AS `count2` FROM follow WHERE idcolumn = ?";
$Count = $dbh->prepare($CountQuery);
$Count->execute(array($idcolumn)); //where $idcolumn = 1
$row = $Count->fetch(PDO::FETCH_ASSOC);

$num_1 = $row['count1'];
$num_2 = $row['count2']; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T04:59:58.717

从手册来看，[ROW_COUNT()](http://dev.mysql.com/doc/refman/5.5/en/information-functions.html#function_row-count)不适用于`SELECT`查询。

> 如果是 UPDATE、DELETE 或 INSERT，ROW_COUNT() 返回最后一条语句更改、删除或插入的行数。对于其他语句，该值可能没有意义。

或者，您可以使用：

```
SELECT SQL_CALC_FOUND_ROWS column1 FROM follow WHERE idcolumn= ?

SELECT FOUND_ROWS(); 
```

您可以使用此查询来获取非空值的计数：

```
SELECT column(column) FROM follow WHERE idcolumn= ?; 
```

或者您可以使用此查询来获取所有行的计数：

```
SELECT column(1) FROM follow WHERE idcolumn= ?; 
```

# javascript - HTML 防止在浏览器中默认单击和拖动

> ID：12171092
> 
> 赞同：1
> 
> 时间：2012-08-29T04:51:36.067
> 
> 标签：javascript, html, browser

将 onmousedown 和 onmouseup 事件添加到 div 时，我注意到默认情况下，如果我不单击 div 外部并尝试用鼠标再次拖动它，浏览器会自动拾取 div，就好像通过一些默认拖动和丢东西。这是什么，有什么方法可以防止这种情况发生吗？

我正在使用 Firefox、HTML5，并且在将 mousedown 事件添加到空时我再次注意到了这个问题（不确定在填充的 div 上是否会发生同样的事情）。光标变成一只闭合的手，浏览器自动拖动一个褪色的 div 副本。

编辑：我找到了一个完全相同的副本，并通过使用来防止该问题

```
event.preventDefault ? event.preventDefault() : event.returnValue = false; 
```

# real-time - 从主机 A 向主机 B 发送消息的最快（最低延迟）消息队列解决方案是什么？

> ID：12171094
> 
> 赞同：2
> 
> 时间：2012-08-29T04:51:42.937
> 
> 标签：real-time, messaging, rabbitmq, message-queue, zeromq

好吧，不计算以太网速度（Infinitband）、内核绕过或任何其他花哨的东西，只是普通的 TCP/IP（以太网上的 TCP/UDP）网络。可以将消息从主机 A 传递到主机 B 的最快消息队列实现是什么？

让我们假设 10G 以太网卡将两台机器与最新架构和 CPU 连接起来。对于 1472 字节的消息（MTU - IP/UDP 标头），我们在这里谈论的延迟是多少微秒？

* * *

正如@Sachin 很好地描述的那样，我正在寻找的是**消息队列和**从 A 发送消息到 B 的延迟数，如下所示：

主机 A <-------TCP--------> 消息队列（进程、路由等） <--------TCP-------> 主机 B

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T02:48:35.630

如果您在两者之间不需要代理，0MQ 为我们提供了最佳性能（您需要在您的平台/用例上测试数字）。如果在两者之间使用代理，则 ActiveMQ 和 RabbitMQ 都在同一范围内执行。使用 Redis 作为消息服务器对我们来说并不适用。
如果不使用消息服务器，Netty、J-groups 等选项可能有用（不确定您的编程语言）。

如果使用直接套接字连接，您也可以研究可靠的 UDP。

希望能帮助到你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T12:39:35.537

下限将是至少 2 个 TCP 连接和消息队列服务器内的路由时间（意味着与这些相关的延迟）

主机 A <-------TCP--------> 消息队列（进程、路由等） <--------TCP-------> 主机 B

当然，如果你建立了冗余、容错等，那么你肯定会超过这个下限。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-08T21:05:32.397

看起来您在谈论基于 UDP 的 MQ，因为您提到了 MTU。嗯，对于基于 UDP 的 MQ，这个时间通常被测量为发布消息并在消息总线中看到它所需的时间。所以这是一个往返时间，而不是你描述的单程时间。这通常可以在 6 微秒内完成，当然这取决于您选择的 LAN。

# c++ - C++ 常量字符 *

> ID：12171101
> 
> 赞同：-1
> 
> 时间：2012-08-29T04:53:05.060
> 
> 标签：c++, class, abstract-class, linker-errors

**编辑**

这是我的新代码：

```
class LibItem
{
public:
    //LibItem();
    //LibItem(string setItemTitle, string setItemAuthor, string setItemReleaseDate, string setItemCopyright, string setItemGenre, string setItemStatus)
    //{
    //  Title = setItemTitle;
    //  Author = setItemAuthor;
    //  ReleaseDate = setItemReleaseDate;
    //  Copyright = setItemCopyright;
    //  Genre = setItemGenre;
    //  Status = setItemStatus;
    //}
    //~LibItem(); //DO ******************
    virtual void PrintDetails() = 0;
    void setDetails(string setItemTitle, string setItemAuthor, string setItemReleaseDate, string setItemCopyright, string setItemGenre, string setItemStatus)
    {
        Title = setItemTitle;
        Author = setItemAuthor;
        ReleaseDate = setItemReleaseDate;
        Copyright = setItemCopyright;
        Genre = setItemGenre;
        Status = setItemStatus;
    }
    void setTitle(string TitleName)
    {
        Title = TitleName;
    }
    string getTitle()
    {
        return Title;
    }
    void setReleaseDate(string date)
    {
        ReleaseDate = date;
    }
    string getReleaseDate()
    {
        return ReleaseDate;
    }
    void setAuthor(string AuthorName)
    {
        Author = AuthorName;
    }
    string getAuthor()
    {
        return Author;
    }
    void setCopyright(string CopyrightDetails)
    {
        Copyright = CopyrightDetails;
    }
    string getCopyright()
    {
        return Copyright;
    }
    void setGenre(string GenreDetails)
    {
        Genre = GenreDetails;
    }
    string getGenre()
    {
        return Genre;
    }
    void setStatus(string StatusDetails)
    {
        Status = StatusDetails;
    }
    string getStatus()
    {
        return Status;
    }
private:
    string Title;
    string ReleaseDate;
    string Author;
    string Copyright;
    string Genre;
    string Status;
};

class Book : public LibItem
{
public:
    Book(string setItemTitle, string setItemAuthor, string setItemReleaseDate, string setItemCopyright, string setItemGenre, string setItemStatus, string setItemISBN)
    {
        setDetails(setItemTitle, setItemAuthor, setItemReleaseDate, setItemCopyright, setItemGenre, setItemStatus);
        setISBN(setItemISBN);
    }
    void setISBN(string ISBNDetails)
    {
        ISBN = ISBNDetails;
    }
    string getISBN()
    {
        return ISBN;
    }
    void PrintDetails()
    {
        cout << "Title: " << getTitle() << endl;
        cout << "Author: " << getAuthor() << endl;
        cout << "Release Date: " << getReleaseDate() << endl;
        cout << "Copyrite: " << getCopyright() << endl;
        cout << "Genre: " << getGenre() << endl;
        cout << "Status: " << getStatus() << endl;
        cout << "ISBN: " << getISBN() << endl;
    }

private:
    Book();
    string ISBN;

};

class DVD : public LibItem
{
public:
    DVD(string setItemTitle, string setItemAuthor, string setItemReleaseDate, string setItemCopyright, string setItemGenre, string setItemStatus, int setItemRunningTime, string setItemDirector, string setItemStudio, string setItemProducer)
    {
        setDetails(setItemTitle, setItemAuthor, setItemReleaseDate, setItemCopyright, setItemGenre, setItemStatus);
        setRunningTime(setItemRunningTime);
        setDirector(setItemDirector);
        setStudio(setItemStudio);
        setProducer(setItemProducer);
    }
    void setRunningTime(int RunningTimeDetails)
    {
        RunningTime = RunningTimeDetails;
    }
    int getRunningTime()
    {
        return RunningTime;
    }
    void setDirector(string DirectorDetails)
    {
        Director = DirectorDetails;
    }
    string getDirector()
    {
        return Director;
    }
    void setStudio(string StudioDetails)
    {
        Studio = StudioDetails;
    }
    string getStudio()
    {
        return Studio;
    }
    void setProducer(string ProducerDetails)
    {
        Producer = ProducerDetails;
    }
    string getProducer()
    {
        return Producer;
    }
    void PrintDetails()
    {
        cout << "Title: " << getTitle() << endl;
        cout << "Author: " << getAuthor() << endl;
        cout << "Release Date: " << getReleaseDate() << endl;
        cout << "Copyrite: " << getCopyright() << endl;
        cout << "Genre: " << getGenre() << endl;
        cout << "Status: " << getStatus() << endl;
        cout << "Running Time: " << getRunningTime() << endl;
        cout << "Director: " << getDirector() << endl;
        cout << "Studio: " << getStudio() << endl;
        cout << "Producer: " << getProducer() << endl;
    }

private:
    DVD();
    int RunningTime;
    string Director;
    string Studio;
    string Producer;

}; 
```

这是我使用上述类的代码：

```
LibItem *test;
test = new DVD("TestDVD","Test Author","01-01-2012","TestCopyright","TestGenre","TestStatus","120","TestDirector","TestStudio","TestProducer");
test->PrintDetails(); 
```

我收到此错误：

> [BCC32 错误] 问题 5.cpp(200): E2285 找不到匹配 'DVD::DVD(const char *,const char *,const char *,const char *,const char *,const char *,const char *,const char *,const char *,const char *)'

我能否提供一些有关为什么会发生此错误以及如何修复它的信息？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T04:54:49.507

> **为什么是这样？**

您刚刚为您的类声明了一个构造函数`LibItem()`，但没有定义它。自然，链接器找不到它并抱怨相同。
您还需要定义它。

```
LibItem()::LibItem()
{
} 
```

析构函数也是如此。
请注意，如果您没有为您的类显式声明构造函数或析构函数，则编译器会隐式生成它们的定义，但如果您显式声明它们，则为它们提供定义的责任是您的。

> **有人可以向我解释如何在两个单独的文件中实现这些类**

通常，在 C++ 中，类定义放在头文件 (.h/.hpp) 中，而成员函数的定义放在源文件 (.cpp/.cc) 中。使用范围解析运算符允许您这样做。

一个例子：

**//Myclass.h**

```
class Myclass
{
    public:
       void doSomething();
}; 
```

**//Myclass.cpp**

```
void Myclass::doSomething()
{

} 
```

此外，请阅读***[Namespaces](http://www.cplusplus.com/doc/tutorial/namespaces/)***，将自定义类放在命名空间中以避免符号名称冲突是一个好习惯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T05:10:20.913

您已经为您的类声明并定义了所有函数。另一方面，您只声明了构造函数，但没有定义构造函数。这就是链接器错误告诉您的内容。

由于您已询问将您的代码分成 .h 和 .cpp 文件，因此我不会详细介绍链接器错误。相反，我将向您展示如何开始分离您的代码。

首先，我建议您只使用声明创建 .h。您还可以包含模板和内联函数。但是，在您了解这些工作原理之前，让我们坚持基础知识。我将用你`LibItem`类的前几个函数来说明：

```
class LibItem
{
    public:
        LibItem();
        ~LibItem(); //DO ******************
        virtual void PrintDetails() = 0;
        void setDetails(string setItemTitle, string setItemAuthor, string setItemReleaseDate, string setItemCopyright, string setItemGenre, string setItemStatus);
        // The rest of your function declarations here.

    private:  
        string Title;  
        string ReleaseDate;  
        string Author;  
        string Copyright;  
        string Genre;  
        string Status;  
}; 
```

请注意，类声明中每个成员函数只包含一行。这只是告诉编译器函数的名称、返回类型和参数类型。它没有给出函数的实际作用。*这*在 .cpp 文件中作为函数定义出现，如下所示：

```
void LibItem::setDetails(string setItemTitle, string setItemAuthor, string setItemReleaseDate, string setItemCopyright, string setItemGenre, string setItemStatus)
{
    Title = setItemTitle;
    Author = setItemAuthor;
    ReleaseDate = setItemReleaseDate;
    Copyright = setItemCopyright;
    Genre = setItemGenre;
    Status = setItemStatus;
} 
```

请注意类名和“::”运算符如何处理成员函数名。这告诉编译器该`setDetails()`函数是`LibItem`该类的成员。

最后，您需要能够编译和链接所有代码。具体细节取决于您的环境。如果您`g++`在命令行上使用，则可以使用以下命令编译代码：

```
g++ main.cpp library.cpp 
```

假设您有一个名为 的文件`main.cpp`，`main()`并且您在 OP 中发布的代码位于名为 library.cpp 的文件中。

当您开始创建更复杂的程序时，您将需要使用可帮助您管理源文件的工具。`make`是一个非常强大的工具来做到这一点。许多 C++ IDE 在后台使用它。谈论 IDE：这些允许您创建“项目”，帮助您管理多个源文件并将它们编译并链接到单个可执行文件中。

**ps**作为旁注，您应该使用空格而不是制表符来格式化您的代码。后者不可移植，尤其是对于像这样的问答网站；他们经常创建与您在编辑器中看到的不同的格式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T09:22:14.763

您最近的错误是因为您的构造函数`DVD`需要 6`string`秒，1 秒，`int`然后是 3`string`秒。

顺便

```
test = new DVD("TestDVD","Test Author","01-01-2012",
  "TestCopyright","TestGenre","TestStatus","120","TestDirector",
  "TestStudio","TestProducer"); 
```

你给了 10`string`秒。`"120"`并且`120`是非常不同的东西——第一个是 a`string`表示 120，第二个是一个`int`值 120。C++ 不会在它们之间自动转换。

试试这个：

```
test = new DVD("TestDVD","Test Author","01-01-2012",
  "TestCopyright","TestGenre","TestStatus",120,"TestDirector",
  "TestStudio","TestProducer"); 
```

# php - Fuelphp属于关系，不同的模型

> ID：12171103
> 
> 赞同：2
> 
> 时间：2012-08-29T04:53:19.770
> 
> 标签：php, mysql, orm, fuelphp

使用fuelphp的ORM，是否可以在模型中有一个字段parent_id和另一个字段parent_type，然后创建一个belongs_to关系，其中parent_id可能来自Model_A Model_B或Model_C，模型类型存储在parent_type中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T12:13:16.760

不是直接的，但是您可以使用三个关系定义来解决它，其中条件是过滤 parent_type 值。

请注意，当前条件仅适用于急切加载。

# javascript - 指定应保存/打印 HTML 页面的哪些部分

> ID：12171104
> 
> 赞同：0
> 
> 时间：2012-08-29T04:53:27.527
> 
> 标签：javascript, html

如果页面包含 Flash 元素和您不想保存/打印的其他内容，有没有办法指定应该保存和打印 HTML 页面的哪些部分。

页头中的`<style>`元素允许您分别指定用于显示和打印的 CSS 样式，但我正在寻找一种过滤 HTML 元素以进行显示/保存/打印的方法。

# ios - 为什么我在尝试显示 GKPeerPickerController（ARC 已打开）时崩溃并说 EXC-BAD_ACCESS

> ID：12171108
> 
> 赞同：1
> 
> 时间：2012-08-29T04:53:43.377
> 
> 标签：ios, memory-management, automatic-ref-counting, exc-bad-access, gkpeerpickercontroller

最近我在开发的应用程序中遇到了一个问题。该应用程序因 EXC_BAD_ACCESS 而崩溃。这没有意义，因为自动引用计数已打开。

在应用程序中，我有一个链接到显示 GKPeerPickerController 的 IBAction 的按钮。

```
-(IBAction)showPicker:(id)sender
{
picker = [[GKPeerPickerController alloc ] init];
picker.delegate = self;
picker.connectionTypesMask = GKPeerPickerConnectionTypeNearby;

[picker show];
} 
```

这没有任何意义，因为如果我尝试使用诸如释放之类的调用来管理内存，它会给我一个错误，说 ARC 禁用了该调用。所以据我所知，我对此无能为力。当它崩溃时，EXC_BAD_ACCESS 位于分配和初始化 GKPeerPickerController 的行上。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:25:46.713

这是否仅在您第二次尝试启动 GKPeerPicker 时发生？

`EXC_BAD_ACCESS`当您的应用程序尝试访问它不“拥有”的内存位置时抛出。这可能以多种不同的方式发生，即使使用 ARC，这也使得它很难诊断出崩溃。

查看这个问题，例如[EXC_BAD_ACCESS (SIGSEGV) 崩溃](https://stackoverflow.com/questions/1733317/exc-bad-access-sigsegv-crash)- 使用 NSZombies 可能是跟踪正在发生的事情的一种方式。

但是，对正在发生的事情有更多的了解可能会帮助您了解此崩溃并修复它。

第一个问题是——当我们仅仅分配一个新分配的对象时，怎么可能得到 EXC_BAD_ACCESS？好吧 - 'ARC 的魔力'正在发挥作用......这个简单的赋值语句正在将一个新对象分配给一个实例变量。编译器会看到并说 - 啊...... ivar 可能已经分配了一个对象，在这种情况下我最好释放它......所以它会添加一些代码供您检查`nil`和释放 ivar ，在它分配新值之前。

所以 - 我发现 alloc/init 不太可能导致你的问题，更有可能是它当前存储在你的`picker`ivar 中......如果你创建`picker`一个局部变量而不是 ivar 会发生什么？

```
-(IBAction)showPicker:(id)sender
{
     GKPeerPickerController *localPicker = [[GKPeerPickerController alloc ] init];
     localPicker.delegate = self;
     localPicker.connectionTypesMask = GKPeerPickerConnectionTypeNearby;

     [localPicker show];
} 
```

# javascript - 用于将其他语言的数字更改为英文数字的正则表达式

> ID：12171113
> 
> 赞同：2
> 
> 时间：2012-08-29T04:55:10.740
> 
> 标签：javascript, regex, unicode

我想检查一个数字是否为阿拉伯数字，并将其所有数字替换为英文，以便我可以对其进行计算。我正在尝试这个 Function ，但我不知道什么正则表达式适合它：

```
function enNumber(num)
{
for (var i=0;i<10;i++)
num=num.replace(*[regular expression]*,i);
return num;} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T05:10:44.487

# 所提问题的最低解决方案

这应该可以解决您的要求：

```
function fromArabicToASCII(arabic) {
  return arabic.replace(
    /[\u0660-\u0669\u06F0-\u06F9]/g,
    function(a) {
      return String.fromCharCode((a.charCodeAt(0)&15)+48);
    }
  );
}; 
```

# Unicode 类 Nd（数字，十进制数字）中所有已知数字的通用函数

下面的函数支持 Unicode 类 Nd（数字，十进制数字）： *Adlam、Ahom、Arabic-indic、Balinese、Bengali、Bhaiksuki、Brahmi、Chakma、Cham、Devanagari、Extended Arabic-indic、Fullwidth、Gujarati、Gurmukhi、Javanese , Kannada, Kayah Li, Khmer, Khudawadi, Lao, Lepcha, Limbu, Malayalam, Mathematical Bold, Mathematical Double-struck, Mathematical Monospace, Mathematical Sans-serif Bold, Mathematical Sans-serif, Meetei Mayek, Modi, Mongolian, Mro, Myanmar掸族，缅甸 Tai Laing，缅甸，New Tai Lue，Newa，Nko，Ol Chiki，Oriya，Osmanya，Pahawh Hmong，Saurashtra，Sharada，Sinhala Lith，Sora Sompeng，Sundanese，Tai Tham Hora，Tai Tham Tham，Takri，泰米尔语，泰卢固语、泰语、藏语、Tirhuta、Vai、Warang Citi。*

不支持罗马数字和其他非十进制数字，因为它们不是十进制的。

```
// This function takes an UTF16 encoded string as input,
// and returns with all suported digits from Unicode
// class 'Nd' (Number, Decimal Digit) replaced with their
// equivalent ASCII digit.
// Source : http://stackoverflow.com/a/12171250/36866
// License: MIT
// Author : some@domain.name
// Note   : If you are going to use this code I would appreciate to
//          get an email to some@domain.name. You don't have to but
//          it would make me happier!
var digitsToASCII=
  (function () {
    // Regexp that matches all supported digits.
    // Most Unicode digit classes have the zero digit at a codepoint
    // where the four least significant bits are ether zero or six.
    // The notable exception is the Math-class where several classes
    // have sequential codepoints. The information about the offset
    // is needed when decoding, and by using groups in the RexExp
    // no lookup is needed.
    var reDigit = new RegExp(
      '('+ // Offset 0
        '['+
          '\u0030-\u0039\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9'+
          '\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049'+
          '\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u19D0-\u19D9'+
          '\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9'+
          '\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9'+
          '\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59'+
          '\uABF0-\uABF9\uFF10-\uFF19'+
        ']'+
        '|\uD801[\uDCA0-\uDCA9]'+
        '|\uD804[\uDCF0-\uDCF9\uDDD0-\uDDD9\uDEF0-\uDEF9]'+
        '|\uD805['+
          '\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59'+
          '\uDEC0-\uDEC9\uDF30-\uDF39'+
        ']'+
        '|\uD806[\uDCE0-\uDCE9]|\uD807[\uDC50-\uDC59]'+
        '|\uD81A[\uDE60-\uDE69]|\uD81A[\uDF50-\uDF59]'+
        '|\uD83A[\uDD50-\uDD59]'+
      ')|('+ // Offset 6
        '['+
          '\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF'+
          '\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF'+
          '\u0D66-\u0D6F\u0DE6-\u0DEF\u1946-\u194F'+
        ']'+
        '|\uD804[\uDC66-\uDC6F\uDD36-\uDD3F]'+
      ')|('+ // Math
        '\uD835[\uDFCE-\uDFFF]'+
      ')',
      'g'
    );

    function replace(match, offset0, offset6, offsetMath) {
      // 'match' contains the whole match and can therefore have
      // a length longer than one character if surrogate pairs is used.
      // By getting the last character from 'match' the operation is simplified.
      var raw = match.charCodeAt( match.length - 1);
      var digit =
        offset0 ? raw & 0xF : // use 4 bits
        offset6 ? (raw -6) & 0xF : // subtract 6, use 4 bits
        offsetMath ? ((raw - 0xCE) & 0x3F) % 10 : // subtract CE, use 6 bits
        null;

      return String.fromCharCode(48 + digit); // Digit to ASCII
    }

    return function replaceDigits(input) {
      return input.replace(reDigit, replace);
    }
  })(); 
```

用法：

```
myAsciiVariable = digitsToASCII( myForeignVariable ); 
```

# node.js 的模块

与此类似的功能现在可以在名为 .js 的 node.js 模块中使用`unicodedigits`。该函数可以从任何支持的数字转换为 ASCII 或任何支持的范围。

您可以安装它或在[github.com/somec/unicodedigits](https://github.com/somec/unicodedigits)`npm install unicodedigits --save`上找到它

# c - 添加车道中的所有元素

> ID：12171117
> 
> 赞同：6
> 
> 时间：2012-08-29T04:55:16.120
> 
> 标签：c, arm, simd, neon

是否存在允许将所有元素添加到通道中的内在函数？我正在使用 Neon 将 8 个数字相乘，我需要对结果求和。这是一些解释代码来显示我目前正在做的事情（这可能会被优化）：

```
int16_t p[8], q[8], r[8];
int32_t sum;
int16x8_t pneon, qneon, result;

p[0] = some_number;
p[1] = some_other_number; 
//etc etc
pneon = vld1q_s16(p);

q[0] = some_other_other_number;
q[1] = some_other_other_other_number;
//etc etc
qneon = vld1q_s16(q);
result = vmulq_s16(p,q);
vst1q_s16(r,result);
sum = ((int32_t) r[0] + (int32_t) r[1] + ... //etc ); 
```

有一个更好的方法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-07-10T05:05:42.780

如果您的目标是较新的 arm 64 位架构，那么 ADDV 正是适合您的指令。

这是您的代码将如何使用它。

```
qneon = vld1q_s16(q);
result = vmulq_s16(p,q);
sum = vaddvq_s16(result); 
```

而已。只需一条指令即可汇总向量寄存器中的所有通道。

遗憾的是，这条指令在较旧的 32 位 arm 架构中不具备。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T05:27:48.293

像这样的东西应该工作得非常好（注意：未经测试）

```
const int16x4_t result_low = vget_low_s16(result); // Extract low 4 elements
const int16x4_t result_high = vget_high_s16(result); // Extract high 4 elements
const int32x4_t twopartsum = vaddl_s16(result_low, result_high); // Extend to 32 bits and add (4 partial 32-bit sums are formed)
const int32x2_t twopartsum_low = vget_low_s32(twopartsum); // Extract 2 low 32-bit partial sums
const int32x2_t twopartsum_high = vget_high_s32(twopartsum); // Extract 2 high 32-bit partial sums
const int32x2_t fourpartsum = vadd_s32(twopartsum_low, twopartsum_high); // Add partial sums (2 partial 32-bit sum are formed)
const int32x2_t eightpartsum = vpadd_s32(fourpartsum, fourpartsum); // Final reduction
const int32_t sum = vget_lane_s32(eightpartsum, 0); // Move to general-purpose registers 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-06-27T05:51:36.150

```
temp = vadd_f32(vget_high_f32(variance_n), vget_low_f32(variance_n)); 
sum  = vget_lane_f32(vpadd_f32(variance_temp, variance_temp), 0); 
```

# ios - IOS应用的木偶效果

> ID：12171120
> 
> 赞同：1
> 
> 时间：2012-08-29T04:55:29.163
> 
> 标签：ios, xcode, character, effect, shake

我正在尝试构建一个以可移动角色为主要思想的应用程序。

这个概念：

每次摇晃 Iphone 时，都会通过关节摇晃角色的多个部位（手臂、腿、躯干、头部）。

我设法使用加速度计来检测抖动效果，但我无法就如何增加角色的身体部位得出结论性的方法。

理想情况下，每次摇动手机时，角色都会像重力一样四处移动。

关于如何在 xcode 中实现这种效果的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:03:50.263

您是否考虑过使用物理引擎？

查看 Box2D：

[http://box2d.org](http://box2d.org)

如果您想要类似重力的效果，您可以将四肢攻击到躯干物理体，然后将力施加到角色的“躯干”以获得布娃娃类型的效果。您可以根据设备的摇动方式施加力。我不确定这是否是你想要的，但不是为了震动效果。

# java - 防止在控制台上打印 jsf 验证消息

> ID：12171124
> 
> 赞同：0
> 
> 时间：2012-08-29T04:55:45.530
> 
> 标签：java, jsf, jsf-2

jsf 验证提供了这种按摩

> INFO [javax.enterprise.resource.webcontainer.jsf.renderkit] 警告：FacesMessage(s) 已入队，但可能尚未显示。sourceId=null[severity=（ERROR 2），summary=（您的用户名或密码不正确。），detail=（您的用户名或密码不正确。）]

但我的`login.xhtml`页面显示`Your User Name or Password is incorrect.`按摩。这有什么问题。

**编辑**：**我想防止在控制台中打印此按摩**

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T04:58:43.797

**编辑** 如果您不希望在日志中打印消息...关闭`javax.enterprise.resource.webcontainer.jsf.renderkit`. 我相信你正在使用`log4j`. 我们已在您的以下条目中将其关闭**`jboss-log4j.xml`**：

```
<category name="javax.enterprise.resource.webcontainer.jsf.renderkit">
    <priority value="OFF" />
</category> 
```

如果不是`log4j`这取决于您使用的日志库。尝试将默认日志记录级别设置为 ERROR 或 FATAL。否则，只需将日志级别设置为`javax.enterprise.resource.webcontainer.jsf.renderkit`高于 INFO 的级别。

因此，您需要配置**另一个**日志库以控制输出的内容。

如果您的`WEB-INF/lib`目录包含`log4j.jar`，那么您将需要在您的目录中添加一个`log4j.properties`或`log4j.xml`文件`WEB-INF/classes`来配置 log4j。有关更多说明，请参阅 log4j 项目。

如果您的`WEB-INF/lib`目录不包含`log4j.jar`，那么这可能是通过`java.util.logging`java 标准库中提供的实现记录的。所以你需要配置它；有关详细信息，请参阅`java.util.logging`类的 javadoc。

希望这能给你足够的信息。

# image - JFreechart 图像不是使用 OpenJDK 创建的

> ID：12171127
> 
> 赞同：1
> 
> 时间：2012-08-29T04:55:53.977
> 
> 标签：image, jfreechart, openjdk

我已经在 ubuntu 中编译了 OpenJDK，并将 JRE 安装到了另一个 Linux 系统。

我正在使用 jFreechart 使用 openjdk 创建图表图像并将其保存为 JPG。输出图像只有白色背景，并且缺少图表线。相同的代码在带有 openjdk 的 Windows 中运行良好。

1.  我猜一些依赖项丢失了，但我找不到它。任何人都可以列出openjdk的依赖关系。它需要Linux中的本机库。

2.  我也收到与字体相关的异常（sun.awt.X11FontManager.getDefaultPlatformFont(X11FontManager.java:779)）。OpenJDK 的默认字体位置是什么？它没有查看 fontconfig.properties 文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T20:30:21.950

虽然我不知道如何帮助您解决确切的问题，但您可以考虑尝试不同的 Java Charting API。我更喜欢[XChart](https://github.com/timmolter/XChart)，如果你只需要一个折线图或散点图并且 PNG 格式也可以，那么在 Ubuntu 上快速尝试一下就很容易了。取自[此处](http://xeiam.com/xchart_examplecode.jsp)（示例 1），这是您需要的所有代码：

```
// Sample Data
Collection<Number> xData = Arrays.asList(new Number[] { 0.0, 1.0, 2.0 });
Collection<Number> yData = Arrays.asList(new Number[] { 0.0, 1.0, 2.0 });

// Create Chart
Chart chart = new Chart(500, 400);
chart.setChartTitle("Sample Chart");
chart.setXAxisTitle("X");
chart.setYAxisTitle("Y");
chart.addSeries("y(x)", xData, yData);

BitmapEncoder.savePNG(chart, "./Sample_Chart.png"); 
```

# ios - UISplitView 横向模式

> ID：12171129
> 
> 赞同：2
> 
> 时间：2012-08-29T04:56:07.433
> 
> 标签：ios, uisplitviewcontroller

我从[这里](http://www.stanford.edu/class/cs193p/cgi-bin/drupal/system/files/sample_code/Psychologist%20with%20Dr%20Pill_0.zip)下载了一个示例代码并进行了测试。我无法理解的是，当我将方向设置为仅陆地空间并以纵向模式运行时，没有任何变化。我的意思是我仍然应该能够看到左侧的菜单，而心理学家按钮不应该在那里。

PS：使用 iOS6，它运行良好，但较低的版本给了我相同的结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-02T19:38:56.827

它看起来像在 RoatatableViewController.m 文件中的方法

```
- (BOOL)shouldAutorotateToInterfaceOrientation: 
```

告诉应用程序在各个方向上都可以旋转。

您应该使用它来阻止 iOS 5 和更早版本的横向模式：

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return UIInterfaceOrientationIsLandscape(interfaceOrientation);
} 
```

看起来在斯坦福创建这个项目的人忽略了这一点。

# ruby-on-rails - 完成 Rails 项目后是否有良好的迁移管理/清理策略？

> ID：12171130
> 
> 赞同：2
> 
> 时间：2012-08-29T04:56:07.987
> 
> 标签：ruby-on-rails, ruby-on-rails-3

在我开发应用程序时，在我的开发环境中，我会犯错误并创建需要稍后修改的表——因为我使用该应用程序并看到早期设计决策的愚蠢。

但是当我推动生产时，我不想在一次迁移中创建“完美”表时复制所有这些更改。

有什么策略或我可以使用的东西可以帮助我做到这一点吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T05:05:07.297

如果这是对生产的初始推动，您应该能够将您的`schema.rb`内容（应在应用所有迁移后反映架构）复制到一个巨大的迁移文件中，并删除所有以前的迁移文件。

如果您的生产环境已经创建并且数据库已经迁移到某个点，那么您将需要使用更智能的东西来弥合当前状态和最新模式之间的差距。不幸的是，我目前不知道有任何此类项目。

# c - 避免在 printf 周围的包装器中发出警告

> ID：12171132
> 
> 赞同：8
> 
> 时间：2012-08-29T04:56:11.387
> 
> 标签：c, string, compiler-warnings, string-literals

我正在编写的小 C 库中有一个错误报告功能。`errorf`除了普通函数之外，我还想提供一个函数，`error`以便轻松地将信息嵌入错误消息中。

```
/*
 * Prints a formatted error message. Use it as you would use 'printf'. See the
 * 'sio_error' function.
 */
void sio_errorf(const char *format, ...) {
    // Print the error prefix                           
    if (g_input == STDIN) fputs("error: ", stderr);
    else fprintf(stderr, "%s: ", g_progname);

    // Pass on the varargs on to 'vfprintf'. 
    va_list arglist;
    va_start(arglist, format);
    // This may produce the following warning -- ignore it:
    //     warning: format string is not a string literal
    vfprintf(stderr, format, arglist);
    va_end(arglist);
    fputc('\n', stderr);
} 
```

问题是，我收到了这个警告（使用`-Weverything`开关编译 clang 4.0）：

> 警告：格式字符串不是字符串文字

我明白为什么这样做会很糟糕。有什么办法可以摆脱这个警告吗？我可以以某种方式强制`format`参数`sio_errorf`是字符串文字，以便编译器知道它总是会这样，并且我只是将它传递下去吗？

我知道我可以使用`-Wno-format-nonliteral`，但只有当其他人也打算手动编译它时，他们才不会这样做。我宁愿在源代码中添加一些可以消除警告的内容。

`sio_errorf` *理想情况下，如果我传递给的字符串实际上*不是文字，我仍然会收到警告，但我不确定这是否可能。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-29T05:07:04.487

如果您使用的是 GCC 或其亲属之一，请尝试声明中的属性：

```
void sio_errorf(const char *format, ...) __attribute__((format(printf, 1, 2))); 
```

要将属性添加到定义中，您可以使用以下命令：

```
__attribute__((format(printf, 1, 2)))
    static void sio_errorf(const char *format, ...) {
      .... 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-08-29T05:11:21.000

许多编译器允许您以一种或另一种方式设置警告级别。例如，gcc 允许`-W`在调用编译器时通过命令行上的标志进行控制。

希望这是您使用的编译器，因为这样的程序：

```
#include <stdio.h>
int main (void) {
    char *s = "xyzzy\n";
    printf (s);
    return 0;
} 
```

生成您描述的*确切*消息（假设您已使用`-Wformat`和启用警告`-Wformat-nonliteral`）。

您要查找的特定命令行参数是：

```
-Wno-format-nonliteral 
```

这将防止有关在这些函数中使用非文字字符串的投诉。

但是，您可能正在寻找更细粒度的东西，因此它还允许您使用 pragma*在代码中动态指定某些诊断消息的处置：*

```
#include <stdio.h>
#pragma GCC diagnostic ignored "-Wformat-nonliteral"
int main (void) {
    char *s = "xyzzy\n";
    printf (s);
    return 0;
}
#pragma GCC diagnostic warning "-Wformat-nonliteral" 
```

如果你用 编译它`-Wformat -Wformat-nonliteral`，你*不会*看到警告，因为你已经告诉 gcc 忽略该`main`函数的特定警告。

比我运行的更高版本的 gcc 具有以下选项：

```
#pragma GCC diagnostic push
#pragma GCC diagnostic pop 
```

这将推送和弹出诊断的状态。这解决了我上面代码中的问题，您可能会将警告配置为*错误*- 我的第二个编译指示会将其更改为警告。

使用 push/pop 将允许通过以下方式恢复其原始配置：

```
#include <stdio.h>
#pragma GCC diagnostic push
#pragma GCC diagnostic ignored "-Wformat-nonliteral"
int main (void) {
    char *s = "xyzzy\n";
    printf (s);
    return 0;
}
#pragma GCC diagnostic pop 
```

# iphone - 谷歌在 iPhone 中映射注册的 URL 方案

> ID：12171134
> 
> 赞同：0
> 
> 时间：2012-08-29T04:56:23.167
> 
> 标签：iphone, objective-c, google-maps

是否有在 iPhone 中注册为 URL 方案的谷歌地图应用程序启动链接？我知道我可以使用[http://maps.google.com](http://maps.google.com)启动 Google 地图 ……但这需要互联网连接。我正在寻找一个不需要互联网连接的启动链接，如 Waze (waze://?ll ...)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:04:08.417

谷歌地图应用程序已经可以从地图 URL 启动：http: [//developer.apple.com/library/ios/#featuredarticles/iPhoneURLScheme_Reference/Articles/MapLinks.html](http://developer.apple.com/library/ios/#featuredarticles/iPhoneURLScheme_Reference/Articles/MapLinks.html)

这样，如果没有安装谷歌地图，那么用户将被重定向到一个网站，从而提供一个优雅的服务降级。

请注意，在 iOS6 中，新的地图应用程序意味着上述某些内容会有所不同 - 如果您有开发者帐户，请查看 iOS6 文档，或者等到其公开信息。

但是，您是否需要互联网连接的问题是不同的。如果地图部分被缓存，那么谷歌地图不一定需要互联网连接 - 但这绝不是保证，而且你无法启动应用程序来改变这一点。

您可以启动 Waze（如果已安装） - 查看他们的 API 文档以了解如何执行此操作的详细信息： [http ://world.waze.com/dev/documentation/](http://world.waze.com/dev/documentation/)

# image - 图像大小调整 - 没有 css 或 js ......？

> ID：12171136
> 
> 赞同：0
> 
> 时间：2012-08-29T04:56:34.263
> 
> 标签：image, png

谁能告诉我这张图片是如何调整大小的？如果您使用 firebug 从页面中删除 bg，您将清楚地看到图像。

[http://canvas.is/images/logo_solid.png](http://canvas.is/images/logo_solid.png)

我注意到当页面被缩放时，宽度和高度属性应用并开始缩放图像。我浏览了页面，没有显示百分比宽度或高度的 css，也没有看到 js。

这是如何工作的？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:48:23.967

我暂时说这是一个浏览器内置功能，因为 url 以图像扩展名结尾，浏览器知道它不是 html 页面，所以它会以不同的方式呈现它。

好吧，我仍然不认为有什么神奇之处，在普通的 html 页面中，如果您为图像设置固定宽度，浏览器将自动调整其高度。更像是这样的场景：

```
<div class="image-wrapper">
   <img width="100%" src="..."/>
</div> 
```

图像将根据其原始比例调整大小，宽度变化为`image-wrapper`

# c# - 如何从视频文件中捕获视频帧

> ID：12171137
> 
> 赞同：1
> 
> 时间：2012-08-29T04:56:53.953
> 
> 标签：c#, asp.net

任何人都可以帮助我使用 ac# 代码从视频文件中抓取帧，

我正在（Asp.Net & c#）上的直播服务器上工作。所以当用户在直播后上传他的文件时，我必须捕获一个视频帧，以便它可以以以下格式列出youtube 视频列表...

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-03-31T10:12:04.887

你应该试试这个效果很好：

```
private Capture capture = null;

private void btnStart_Click(object sender, System.EventArgs e)
        {
            try
            {
                if ( capture == null )
                    throw new ApplicationException( "Please select a video and/or audio device." );
                if ( !capture.Cued )
                    capture.Filename = txtFilename.Text;
                capture.Start();
                btnCue.Enabled = false;
                btnStart.Enabled = false;
            }
            catch (Exception ex)
            {
                MessageBox.Show( ex.Message + "\n\n" + ex.ToString() );
            }
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T11:37:41.320

看看[AForge.NET——](http://www.aforgenet.com/framework/samples/video.html)它是一组成熟的用于处理图像和视频的库。

# scala - 当 A 扩展 Ordered[A] 时，为子类 B < A 排序 Array[B] 的优雅方式？

> ID：12171138
> 
> 赞同：4
> 
> 时间：2012-08-29T04:56:55.503
> 
> 标签：scala, boilerplate

定义了扩展 Ordering[A] 的类 A 和 A 的子类 B，如何自动对 B 数组进行排序？Scala 编译器抱怨它“找不到参数 ord: Ordering[B] 的隐含值”。这是一个具体的 REPL 示例（Scala 2.8），其中 A = Score 和 B = CommentedScore：

```
class Score(val value: Double) extends Ordered[Score] {
  def compare(that: Score) = value.compare(that.value)
}
defined class Score

trait Comment { def comment: String }
defined trait Comment

class CommentedScore(value: Double, val comment: String) extends Score(value) with Comment
defined class CommentedScore

val s = new CommentedScore(10,"great")
s: CommentedScore = CommentedScore@842f23

val t = new CommentedScore(0,"mediocre")
t: CommentedScore = CommentedScore@dc2bbe

val commentedScores = Array(s,t)
commentedScores: Array[CommentedScore] = Array(CommentedScore@b3f01d, CommentedScore@4f3c89)

util.Sorting.quickSort(commentedScores)
error: could not find implicit value for parameter ord: Ordering[CommentedScore]
       util.Sorting.quickSort(commentedScores)
                             ^ 
```

我该如何解决这个问题（也就是说，“免费”对 Array[B] = Array[CommentedScore] 进行排序，因为我知道如何对 Array[A] = Array[Score] 进行排序），以一种避免样板的优雅方式?

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T05:29:24.880

自己添加所需的隐式：

```
implicit val csOrd: Ordering[CommentedScore] = Ordering.by(_.value) 
```

您可以将其放在`CommentedScore`伴随对象中，以便在使用站点没有样板。

* * *

编辑：如果您希望仅在继承树的顶部定义排序方法，您仍然必须`Ordering`为每个子类提供一个，但您可以根据对象中的一个定义`compare`方法。IE`Ordering``Score`

```
object Score {
  implicit val ord: Ordering[Score] = Ordering.by(_.value)
}

object CommentedScore {
  implicit val csOrd = new Ordering[CommentedScore] { 
    def compare(x: CommentedScore, y: CommentedScore) = Score.ord.compare(x, y)
  }
} 
```

如果您不想为每个子类重新定义它，您可以使用通用方法来生成`Ordering`：

```
object Score {
  implicit def ord[T <: Score]: Ordering[T] = Ordering.by(_.value)
} 
```

这效率有点低，因为它是 a`def`而不是 a ，每次需要时`val`它都会创建一个新的。`Ordering`然而，开销可能很小。还要注意，现在我们有了s就不需要`Ordered`trait 和method 了。`compare``Ordering`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T07:54:32.910

您可以使用`Order`from scalaz，它是逆变的，因此您不需要为每个子类定义它。这是一个例子：

```
import scalaz._
import Scalaz._

class Score(val value: Double)
object Score {
  implicit val scoreOrd: Order[Score] = orderBy(_.value)
}
trait Comment { def comment: String }
class CommentedScore(value: Double, val comment: String) extends Score(value) with Comment {
  override def toString = s"cs($value, $comment)"
} 
def quickSort[E: Order](list: List[E]): List[E] = list match {
  case Nil => Nil
  case head :: tail =>
    val (less, more) = tail partition { e => implicitly[Order[E]].order(e, head) == LT }
    quickSort(less) ::: head :: quickSort(more) 
}
println(quickSort(List(
  new CommentedScore(10,"great"),
  new CommentedScore(5,"ok"),
  new CommentedScore(8,"nice"),
  new CommentedScore(0,"mediocre")
))) // List(cs(0.0, mediocre), cs(5.0, ok), cs(8.0, nice), cs(10.0, great)) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T05:14:31.323

这有效：

```
val scoreArray: Array[Score] = Array(s, t)
util.Sorting.quickSort(scoreArray) 
```

或者，如果您从以下位置开始`Array[CommentedScore]`：

```
val scoreArray: Array[Score] = commentedScores.map(identity)
util.Sorting.quickSort(scoreArray) 
```

请注意，您可以使用以下命令进行更简单的排序：

```
scoreArray.sorted 
```

# android - 使用 Tabs 的应用程序崩溃

> ID：12171140
> 
> 赞同：2
> 
> 时间：2012-08-29T04:57:25.980
> 
> 标签：android, android-tabhost

我正在构建一个使用 tabs 实现 Bluetooth、Wifi、Phone call 和 Sms 的应用程序。MainActivity.java 文件如下所示。

```
package com.example.servicesdemo;

import android.os.Bundle;
import android.app.Activity;
import android.app.TabActivity;
import android.content.Intent;
import android.view.Menu;
import android.view.MenuItem;
import android.widget.TabHost;
import android.widget.TabHost.TabSpec;
import android.support.v4.app.NavUtils;

public class MainActivity extends TabActivity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    TabHost tabHost = getTabHost();

    TabSpec btspec = tabHost.newTabSpec("Bluetooth");
    btspec.setIndicator("Bluetooth");
    Intent btIntent = new Intent(getBaseContext() , BtActivity.class);
    btspec.setContent(btIntent);

    TabSpec wifispec = tabHost.newTabSpec("Wifi");
    wifispec.setIndicator("Wifi");
    Intent wifiIntent = new Intent(getBaseContext(),WifiActivity.class);
    wifispec.setContent(wifiIntent);

    TabSpec callspec = tabHost.newTabSpec("Phone Call");
    callspec.setIndicator("Phone Call");
    Intent callIntent = new Intent(getBaseContext(),CallActivity.class);
    wifispec.setContent(callIntent);

    TabSpec smsspec = tabHost.newTabSpec("SMS");
    wifispec.setIndicator("SMS");
    Intent smsIntent = new Intent(getBaseContext(),SmsActivity.class);
    smsspec.setContent(smsIntent);

    tabHost.addTab(btspec);
    tabHost.addTab(wifispec);
    tabHost.addTab(callspec);

    tabHost.addTab(smsspec);
    tabHost.setCurrentTab(0);
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

} 
```

我创建了 4 个 XML 文件和 4 个 Activity 文件（上面提到的每个服务一个）。例如，我为蓝牙选项卡创建了一个 BtActivity.java 文件，如下所示（稍后我将编写更多代码）。

BtActivity.java

```
package com.example.servicesdemo;

import android.app.Activity;
import android.os.Bundle;

public class BtActivity extends Activity{
public void onCreate(Bundle savedInstanceState){
    super.onCreate(savedInstanceState);
    setContentView(R.layout.bt_layout);
}

} 
```

现在，当我尝试运行应用程序时，它只会崩溃。LogCat 错误如下所示。

```
 08-29 10:44:33.810: D/AndroidRuntime(369): Shutting down VM
08-29 10:44:33.810: W/dalvikvm(369): threadid=1: thread exiting with uncaught exception (group=0x40015560)
08-29 10:44:33.830: E/AndroidRuntime(369): FATAL EXCEPTION: main
08-29 10:44:33.830: E/AndroidRuntime(369): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.servicesdemo/com.example.servicesdemo.MainActivity}: java.lang.IllegalArgumentException: you must specify a way to create the tab content
08-29 10:44:33.830: E/AndroidRuntime(369):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
08-29 10:44:33.830: E/AndroidRuntime(369):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
08-29 10:44:33.830: E/AndroidRuntime(369):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
08-29 10:44:33.830: E/AndroidRuntime(369):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
08-29 10:44:33.830: E/AndroidRuntime(369):  at android.os.Handler.dispatchMessage(Handler.java:99)
08-29 10:44:33.830: E/AndroidRuntime(369):  at android.os.Looper.loop(Looper.java:130)
08-29 10:44:33.830: E/AndroidRuntime(369):  at android.app.ActivityThread.main(ActivityThread.java:3683)
08-29 10:44:33.830: E/AndroidRuntime(369):  at java.lang.reflect.Method.invokeNative(Native Method)
08-29 10:44:33.830: E/AndroidRuntime(369):  at java.lang.reflect.Method.invoke(Method.java:507)
08-29 10:44:33.830: E/AndroidRuntime(369):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
08-29 10:44:33.830: E/AndroidRuntime(369):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
08-29 10:44:33.830: E/AndroidRuntime(369):  at dalvik.system.NativeStart.main(Native Method)
08-29 10:44:33.830: E/AndroidRuntime(369): Caused by: java.lang.IllegalArgumentException: you must specify a way to create the tab content
08-29 10:44:33.830: E/AndroidRuntime(369):  at android.widget.TabHost.addTab(TabHost.java:202)
08-29 10:44:33.830: E/AndroidRuntime(369):  at com.example.servicesdemo.MainActivity.onCreate(MainActivity.java:43)
08-29 10:44:33.830: E/AndroidRuntime(369):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
08-29 10:44:33.830: E/AndroidRuntime(369):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
08-29 10:44:33.830: E/AndroidRuntime(369):  ... 11 more
08-29 10:49:53.781: D/AndroidRuntime(378): Shutting down VM
08-29 10:49:53.781: W/dalvikvm(378): threadid=1: thread exiting with uncaught exception (group=0x40015560)
08-29 10:49:53.790: E/AndroidRuntime(378): FATAL EXCEPTION: main
08-29 10:49:53.790: E/AndroidRuntime(378): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.servicesdemo/com.example.servicesdemo.MainActivity}: java.lang.IllegalArgumentException: you must specify a way to create the tab content
08-29 10:49:53.790: E/AndroidRuntime(378):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
08-29 10:49:53.790: E/AndroidRuntime(378):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
08-29 10:49:53.790: E/AndroidRuntime(378):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
08-29 10:49:53.790: E/AndroidRuntime(378):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
08-29 10:49:53.790: E/AndroidRuntime(378):  at android.os.Handler.dispatchMessage(Handler.java:99)
08-29 10:49:53.790: E/AndroidRuntime(378):  at android.os.Looper.loop(Looper.java:130)
08-29 10:49:53.790: E/AndroidRuntime(378):  at android.app.ActivityThread.main(ActivityThread.java:3683)
08-29 10:49:53.790: E/AndroidRuntime(378):  at java.lang.reflect.Method.invokeNative(Native Method)
08-29 10:49:53.790: E/AndroidRuntime(378):  at java.lang.reflect.Method.invoke(Method.java:507)
08-29 10:49:53.790: E/AndroidRuntime(378):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
08-29 10:49:53.790: E/AndroidRuntime(378):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
08-29 10:49:53.790: E/AndroidRuntime(378):  at dalvik.system.NativeStart.main(Native Method)
08-29 10:49:53.790: E/AndroidRuntime(378): Caused by: java.lang.IllegalArgumentException: you must specify a way to create the tab content
08-29 10:49:53.790: E/AndroidRuntime(378):  at android.widget.TabHost.addTab(TabHost.java:202)
08-29 10:49:53.790: E/AndroidRuntime(378):  at com.example.servicesdemo.MainActivity.onCreate(MainActivity.java:43)
08-29 10:49:53.790: E/AndroidRuntime(378):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
08-29 10:49:53.790: E/AndroidRuntime(378):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
08-29 10:49:53.790: E/AndroidRuntime(378):  ... 11 more
08-29 10:49:56.110: I/Process(378): Sending signal. PID: 378 SIG: 9 
```

我之前遇到过类似的问题，但在那种情况下，我试图在选项卡中显示的一个类没有扩展 Activity 类（这是用户告诉我的）。

这是我上一个问题[的链接](https://stackoverflow.com/questions/12143127/tab-application-crash-during-runtime)以供参考。

但是现在，我已经使用了所有扩展 Activity 类的类，所以在运行时应该没有问题。请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T05:12:02.233

你已经使用了 wifispec.setContent(); 对于电话使用 callspec.setContent(callIntent); 等等

```
TabSpec callspec = tabHost.newTabSpec("Phone Call");
    **callspec.setIndicator("Phone Call");** 
    Intent callIntent = new Intent(getBaseContext(),CallActivity.class);
    **wifispec.setContent(callIntent);**  ---> callspec.setContent(callIntent);

    TabSpec smsspec = tabHost.newTabSpec("SMS");
    **wifispec.setIndicator("SMS");**  ---> smsspec.setIndicator("SMS");
    Intent smsIntent = new Intent(getBaseContext(),SmsActivity.class);
    **smsspec.setContent(smsIntent);** 
```

# css - 如何在另一个 div 中对齐 2 个 div？

> ID：12171142
> 
> 赞同：2
> 
> 时间：2012-08-29T04:57:44.560
> 
> 标签：css, html

我的要求是我在左侧有两个链接，如果我点击一个链接，相应的页面应该显示在右侧。如何使用标签进行这种安排。我尝试如下，但它没有并排显示。DisplayData 出现在链接底部的位置。提前致谢..

```
<div id="accountstabs-1">
     <div id="links" style="text-align:left">
         <li><a href="#DisplayData" id="settings1" onclick="manage(this.id)">Manage</a></li>
         <li><a href="#DisplayData-2" id="settings2" onclick="manage(this.id)">Users</a></li>
     </div>
     <div id="DisplayData" style="text-align:right">
         <table class="data">
              <thead>
                <tr> 
                  <th>
                    First Name
                  </th>
                  <th>
                    Last Name
                  </th>
                </tr>
              </thead>
         </table>
     </div>
</div> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T05:00:25.527

CSS：

```
#accountstabs-1>div {
    float : left;
} 
```

[http://jsfiddle.net/T4E88/](http://jsfiddle.net/T4E88/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T05:02:25.180

您需要使用浮动而不是`text-align`定位元素。（`text-align`只能用于文本。）

查看[这个 JSFiddle 示例](http://jsfiddle.net/Tvumq/)。

我像这样更新了您的 HTML：

```
<div id="accountstabs-1">
    <div id="links" >
        <li><a href="#DisplayData" id="settings1" onclick="manage(this.id)">Manage</a></li>
        <li><a href="#DisplayData-2" id="settings2" onclick="manage(this.id)">Users</a></li>
     </div>
     <div id="DisplayData" >
         <table class="data">
              <thead>
                <tr> 
                  <th>First Name</th>
                  <th>Last Name</th>
                </tr>
              </thead>
         </table>
     </div>
    <div class="clr"></div>
</div>​ 
```

请注意，我从 div 中删除了两个`text-align`内联样式，并在底部附近添加了带有 class 的新 div `clr`。

然后 CSS 看起来像这样：

```
#links {
    width: 50%;
    float: left;
}

#DisplayData {
    width: 50%;
    float: right;
}

/* clearfix */
.clr { clear: both; } 
```

“clearfix”的目的是确保在右列之后添加的任何元素都正确显示在列下方。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T05:02:43.660

您应该将样式放在单独的 CSS 文件中，但以下应该可以；

```
<div id="accountstabs-1" style="width:400px">
     <div id="links" style="display:block;float:left;width:200px">
         <li><a href="#DisplayData" id="settings1" onclick="manage(this.id)">Manage</a></li>
         <li><a href="#DisplayData-2" id="settings2" onclick="manage(this.id)">Users</a></li>
     </div>
     <div id="DisplayData" style="display:block;float:right;width:200px">
         <table class="data">
              <thead>
                <tr> 
                  <th>
                    First Name
                  </th>
                  <th>
                    Last Name
                  </th>
                </tr>
              </thead>
         </table>
     </div>
</div> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T05:06:58.857

div 是一个块元素，它占据了整个位置，要并行放置另一个 div，您需要使用 css 属性 float left 。使用样式属性`style="float:left"`。

`<div id="accountstabs-1"> <div id="links" style="text-align:left; float:left"> <li><a href="#DisplayData" id="settings1" onclick="manage(this.id)">Manage</a></li> <li><a href="#DisplayData-2" id="settings2" onclick="manage(this.id)">Users</a></li> </div> <div id="DisplayData" style="text-align:right"> <table class="data"> <thead> <tr> <th> First Name </th> <th> Last Name </th> </tr> </thead> </table> </div> </div>`

# android - 如何执行 Scrollable Gallery 的 ImageView 的 setOnCLickListener

> ID：12171143
> 
> 赞同：0
> 
> 时间：2012-08-29T04:57:45.737
> 
> 标签：android, android-gallery

我正在尝试实现包含`TextView`on 的库`ImageView`。当用户单击其中任何一个时，我需要调用其他一些活动。

我试图调用`setonclickListener`画廊，但它总是返回画廊中最后一项的结果。如果我`onclicklistener`在 Imageview 上设置，画廊将停止滚动。

有什么方法可以同时单击两者并检索相同的结果，同时使画廊可滚动。

任何帮助都是适当的。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:01:14.007

最好的方法是在 GalleryView 上设置 onItemClickListener，在这个类的 onItemClick() 回调方法中，会有一个整数参数表示项目的位置。使用此参数，获取已单击的项目。但是要使用它，您需要将单个项目 imageview 的 Clickable 和 focusable 属性设置为 false。

# asp.net - 新窗口的钻取报告

> ID：12171147
> 
> 赞同：1
> 
> 时间：2012-08-29T04:57:59.163
> 
> 标签：asp.net, reporting-services

我在使用 MS Reporting Services 时遇到了一个问题。我创建了一个带有报表查看器控件的 asp.net 页面。报表查看器控件在 MS Reporting Services 上呈现报表。我在报告的文本框中创建了一个动作。这个动作是“去报告”。此操作会调用另一个报告。就我而言，我想用被调用的报告创建一个新窗口。但我不想使用转到 url。因为我不想在 url 中显示我的参数。我怎样才能做到这一点？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T18:22:14.197

我目前无法对此进行测试，但我认为将`HyperlinkTarget`属性设置为`_blank`on`ReportViewer`应该可以解决问题。

[http://msdn.microsoft.com/en-us/library/microsoft.reporting.webforms.reportviewer.hyperlinktarget.aspx](http://msdn.microsoft.com/en-us/library/microsoft.reporting.webforms.reportviewer.hyperlinktarget.aspx)

# android - 来自 com.google.zxing.client.android 源代码的应用程序不起作用

> ID：12171148
> 
> 赞同：0
> 
> 时间：2012-08-29T04:58:16.270
> 
> 标签：android, barcode, barcode-scanner

[我从http://code.google.com/p/zxing/source/browse/trunk](http://code.google.com/p/zxing/source/browse/trunk)下载了完整的源代码并将其构建到一个 android apk 文件中，而 eclipse 没有任何问题，但是在我将 apk 安装到我的手机后，它不起作用，而是显示：“应用程序条码扫描器（进程 com.google.zxing.client.android）已意外停止，请重试”

我错过了什么吗？提前致谢

这是logcat：（抱歉太长了）

```
08-29 09:45:48.797: E/Trace(652): error opening trace file: No such file or directory (2)
08-29 09:45:49.027: W/dalvikvm(652): VFY: unable to resolve static field 56 (ISSUE_NUMBER) in Lcom/google/zxing/ResultMetadataType;
08-29 09:45:49.027: D/dalvikvm(652): VFY: replacing opcode 0x62 at 0x0017
08-29 09:45:49.048: W/dalvikvm(652): VFY: unable to find class referenced in signature (Lcom/google/zxing/Result;)
08-29 09:45:49.077: W/dalvikvm(652): VFY: unable to find class referenced in signature (Lcom/google/zxing/ResultPoint;)
08-29 09:45:49.077: W/dalvikvm(652): VFY: unable to find class referenced in signature (Lcom/google/zxing/ResultPoint;)
08-29 09:45:49.087: I/dalvikvm(652): Could not find method com.google.zxing.ResultPoint.getX, referenced from method com.google.zxing.client.android.CaptureActivity.drawLine
08-29 09:45:49.097: W/dalvikvm(652): VFY: unable to resolve virtual method 329: Lcom/google/zxing/ResultPoint;.getX ()F
08-29 09:45:49.097: D/dalvikvm(652): VFY: replacing opcode 0x6e at 0x0000
08-29 09:45:49.097: W/dalvikvm(652): VFY: unable to find class referenced in signature (Lcom/google/zxing/Result;)
08-29 09:45:49.107: I/dalvikvm(652): Could not find method com.google.zxing.Result.getResultPoints, referenced from method com.google.zxing.client.android.CaptureActivity.drawResultPoints
08-29 09:45:49.117: W/dalvikvm(652): VFY: unable to resolve virtual method 325: Lcom/google/zxing/Result;.getResultPoints ()[Lcom/google/zxing/ResultPoint;
08-29 09:45:49.117: D/dalvikvm(652): VFY: replacing opcode 0x6e at 0x0003
08-29 09:45:49.127: W/dalvikvm(652): VFY: unable to find class referenced in signature (Lcom/google/zxing/Result;)
08-29 09:45:49.157: I/dalvikvm(652): Could not find method com.google.zxing.Result.toString, referenced from method com.google.zxing.client.android.CaptureActivity.handleDecodeExternally
08-29 09:45:49.157: W/dalvikvm(652): VFY: unable to resolve virtual method 328: Lcom/google/zxing/Result;.toString ()Ljava/lang/String;
08-29 09:45:49.167: D/dalvikvm(652): VFY: replacing opcode 0x74 at 0x0057
08-29 09:45:49.167: I/dalvikvm(652): Could not find method com.google.zxing.Result.getText, referenced from method com.google.zxing.client.android.CaptureActivity.handleDecodeExternally
08-29 09:45:49.177: W/dalvikvm(652): VFY: unable to resolve virtual method 326: Lcom/google/zxing/Result;.getText ()Ljava/lang/String;
08-29 09:45:49.177: D/dalvikvm(652): VFY: replacing opcode 0x74 at 0x014d
08-29 09:45:49.187: W/dalvikvm(652): VFY: unable to find class referenced in signature (Lcom/google/zxing/Result;)
08-29 09:45:49.207: I/dalvikvm(652): Could not find method com.google.zxing.Result.getBarcodeFormat, referenced from method com.google.zxing.client.android.CaptureActivity.handleDecodeInternally
08-29 09:45:49.207: W/dalvikvm(652): VFY: unable to resolve virtual method 322: Lcom/google/zxing/Result;.getBarcodeFormat ()Lcom/google/zxing/BarcodeFormat;
08-29 09:45:49.207: D/dalvikvm(652): VFY: replacing opcode 0x74 at 0x004c
08-29 09:45:49.247: W/dalvikvm(652): VFY: unable to find class referenced in signature (Lcom/google/zxing/Result;)
08-29 09:45:49.277: W/dalvikvm(652): VFY: unable to find class referenced in signature (Lcom/google/zxing/Result;)
08-29 09:45:49.277: W/dalvikvm(652): VFY: unable to find class referenced in signature (Lcom/google/zxing/Result;)
08-29 09:45:49.287: W/dalvikvm(652): VFY: unable to find class referenced in signature (Lcom/google/zxing/Result;)
08-29 09:45:49.297: W/dalvikvm(652): VFY: unable to find class referenced in signature (Lcom/google/zxing/Result;)
08-29 09:45:49.307: W/dalvikvm(652): VFY: unable to find class referenced in signature (Lcom/google/zxing/Result;)
08-29 09:45:49.307: W/dalvikvm(652): VFY: unable to find class referenced in signature (Lcom/google/zxing/Result;)
08-29 09:45:49.317: W/dalvikvm(652): VFY: unable to find class referenced in signature (Lcom/google/zxing/Result;)
08-29 09:45:49.328: I/dalvikvm(652): Could not find method com.google.zxing.Result.getText, referenced from method com.google.zxing.client.android.CaptureActivity.handleDecode
08-29 09:45:49.328: W/dalvikvm(652): VFY: unable to resolve virtual method 326: Lcom/google/zxing/Result;.getText ()Ljava/lang/String;
08-29 09:45:49.328: D/dalvikvm(652): VFY: replacing opcode 0x6e at 0x0061
08-29 09:45:49.337: W/dalvikvm(652): VFY: unable to find class referenced in signature (Lcom/google/zxing/Result;)
08-29 09:45:49.349: W/dalvikvm(652): VFY: unable to find class referenced in signature (Lcom/google/zxing/Result;)
08-29 09:45:49.349: W/dalvikvm(652): VFY: unable to find class referenced in signature (Lcom/google/zxing/Result;)
08-29 09:45:49.397: W/dalvikvm(652): Exception Ljava/lang/NoClassDefFoundError; thrown while initializing Lcom/google/zxing/client/android/CaptureActivity;
08-29 09:45:49.397: W/dalvikvm(652): Class init failed in newInstance call (Lcom/google/zxing/client/android/CaptureActivity;)
08-29 09:45:49.397: D/AndroidRuntime(652): Shutting down VM
08-29 09:45:49.407: W/dalvikvm(652): threadid=1: thread exiting with uncaught exception (group=0x40a13300)
08-29 09:45:49.439: E/AndroidRuntime(652): FATAL EXCEPTION: main
08-29 09:45:49.439: E/AndroidRuntime(652): java.lang.ExceptionInInitializerError
08-29 09:45:49.439: E/AndroidRuntime(652):  at java.lang.Class.newInstanceImpl(Native Method)
08-29 09:45:49.439: E/AndroidRuntime(652):  at java.lang.Class.newInstance(Class.java:1319)
08-29 09:45:49.439: E/AndroidRuntime(652):  at android.app.Instrumentation.newActivity(Instrumentation.java:1053)
08-29 09:45:49.439: E/AndroidRuntime(652):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1974)
08-29 09:45:49.439: E/AndroidRuntime(652):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
08-29 09:45:49.439: E/AndroidRuntime(652):  at android.app.ActivityThread.access$600(ActivityThread.java:130)
08-29 09:45:49.439: E/AndroidRuntime(652):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
08-29 09:45:49.439: E/AndroidRuntime(652):  at android.os.Handler.dispatchMessage(Handler.java:99)
08-29 09:45:49.439: E/AndroidRuntime(652):  at android.os.Looper.loop(Looper.java:137)
08-29 09:45:49.439: E/AndroidRuntime(652):  at android.app.ActivityThread.main(ActivityThread.java:4745)
08-29 09:45:49.439: E/AndroidRuntime(652):  at java.lang.reflect.Method.invokeNative(Native Method)
08-29 09:45:49.439: E/AndroidRuntime(652):  at java.lang.reflect.Method.invoke(Method.java:511)
08-29 09:45:49.439: E/AndroidRuntime(652):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
08-29 09:45:49.439: E/AndroidRuntime(652):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
08-29 09:45:49.439: E/AndroidRuntime(652):  at dalvik.system.NativeStart.main(Native Method)
08-29 09:45:49.439: E/AndroidRuntime(652): Caused by: java.lang.NoClassDefFoundError: com.google.zxing.ResultMetadataType
08-29 09:45:49.439: E/AndroidRuntime(652):  at com.google.zxing.client.android.CaptureActivity.<clinit>(CaptureActivity.java:103)
08-29 09:45:49.439: E/AndroidRuntime(652):  ... 15 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T08:23:11.827

它确实有效：[https ://play.google.com/store/apps/details?id=com.google.zxing.client.android](https://play.google.com/store/apps/details?id=com.google.zxing.client.android)

您修改了应用程序并导致崩溃，或者您正在安装在无法通过手动侧面加载运行应用程序的设备上。

如果不提供最重要的信息，您将无法获得任何进一步的帮助：堆栈跟踪！

# java - 通过 File 对象引用 blob

> ID：12171154
> 
> 赞同：1
> 
> 时间：2012-08-29T04:59:09.170
> 
> 标签：java, file, google-app-engine, blob

有什么方法可以通过对象引用 blobstore 中的*blob*`File`？我有 blob 密钥。现在如何在此处引用 blob？

```
// Let the blob key be 'squuheaeinlie'
File blobReference = new File(...?....); 
```

我实际上指的是一个 xml 文件，它是一个 blob。我想读取和写入该 xml 文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T05:47:42.087

是的，您可以`File`通过[`AppEngineFile`](https://developers.google.com/appengine/docs/java/javadoc/com/google/appengine/api/files/AppEngineFile).

这是有关如何[通过此 API 写入和读取 blob 的完整示例。](https://developers.google.com/appengine/docs/java/blobstore/overview#Writing_Files_to_the_Blobstore)

**编辑：**您可以通过 blob-key 加载现有的 blob：

```
FileService fileService = FileServiceFactory.getFileService();
AppEngineFile file = fileService.getBlobFile(blob-key); 
FileReadChannel channel = fileService.openReadChannel(file, false);
// now read from channel 
```

# google-maps - 可以使用 FTP 托管 KML 以通过地图 API 进行覆盖吗？

> ID：12171156
> 
> 赞同：0
> 
> 时间：2012-08-29T04:59:25.340
> 
> 标签：google-maps, ftp, overlay, kml

Google Maps API 声明 KML（或 KMZ）文件可以托管在可公开访问的 Web 服务器上。这确实推断该文档应该可以通过 HTTP(S) 获得，但实际上并未说明协议。您能否确认协议是否必须是 HTTP / HTTPS，或者 FTP 可以用作原型期间的临时选项。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:05:33.247

无法确认，但如果他们说您的 KMZ 可以托管在可公开访问的**网络服务器上**，那么这意味着**HTTP(S)**而**不是 FTP**。您可以将您的 FTP 位置设置为也可以通过 URL 访问吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T13:43:20.800

如果您在地图搜索框中输入 ftp url

```
We could not understand the location ftp://test... 
```

表明他们不理解 ftp url。如果它理解 url，那将是一个“无法在 ... 处读取文件”

Google 地图和 API 使用相同的系统进行 KML 渲染。

# java - 标签错误中的文本对齐？

> ID：12171164
> 
> 赞同：1
> 
> 时间：2012-08-29T05:00:21.680
> 
> 标签：java, swing, alignment, jlabel, layout-manager

现在我正在尝试在框架旁边添加标签。我有一个标签文本，想把它对齐到中心，但它失败了，总是左对齐。请帮我！

```
Simulation sm = new Simulation(dm);
JFrame simulation = new JFrame();
simulation.setTitle("Traffic light and Car park Siumulation");

simulation.setSize(800,600);
simulation.setResizable(false);
simulation.setVisible(true);
simulation.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
simulation.add(sm, BorderLayout.CENTER);

//Carpark label
JLabel carparklb = new JLabel("abcd");
carparklb.setPreferredSize(new Dimension(200,600));

carparklb.setVerticalTextPosition(JLabel.CENTER);
carparklb.setHorizontalTextPosition(SwingConstants.CENTER);

simulation.add(carparklb, BorderLayout.EAST); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T05:04:51.193

来自 Java 文档

> setVerticalTextPosition(int textPosition)
> 
> 设置标签文本**相对于其图像**的垂直位置。

改用[JLabel.setVerticalAlignment](http://docs.oracle.com/javase/6/docs/api/javax/swing/JLabel.html#setVerticalAlignment%28int%29)和[JLabel.setHorizo](http://docs.oracle.com/javase/6/docs/api/javax/swing/JLabel.html#setHorizontalAlignment%28int%29) ​​ntalAlignment

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T05:09:08.000

尝试：

`carparklb.setAlignmentY(JLabel.CENTER_ALIGNMENT);` `carparklb.setAlignmentX(JLabel.CENTER_ALIGNMENT);`

这将使文本水平和垂直对齐标签的中心。如果您只想将其水平居中，您可以尝试：

`JLabel carparklb = new JLabel("abcd", JLabel.CENTER_ALIGNMENT);`

或者

`carparklb.setAlignmentX(JLabel.CENTER_ALIGNMENT);`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T07:15:28.413

使用 html 代码作为：

```
 "<html><font size=\"5\"><P ALIGN =\"CENTER\">ARGHYA</P></font></html>" 
```

并将其用作标签中的字符串。

# iphone - 我们打算支持 iPhone 5，是否需要将 Xcode 升级到 v4.5 并使用 iOS 6 SDK？

> ID：12171167
> 
> 赞同：4
> 
> 时间：2012-08-29T05:00:34.383
> 
> 标签：iphone, ios, sdk

我们想要更新我们的游戏以支持 iPhone 5。我们是否需要将 Xcode 升级到 v4.5 并使用 iOS 6 SDK？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T04:11:46.963

[编辑]Apple 现在明确拒绝使用 iOS 5.x SDK 和 iPhone 5 默认图像提交的应用程序，称“您的应用程序包含一个带有大小修改器的启动图像，该修改器仅支持使用 iOS 6.0 SDK 或更高版本构建的应用程序。 "

旧答案：是的，您可以使用 Xcode 4.4 或更低版本来支持 iPhone 5。

如果您的资源中没有 640x1136 的初始屏幕图像，iOS (6) 将以信箱模式运行应用程序。该图像必须称为 Default-568h@2x.png（如果您的启动画面是 Info.plist 中的 Default.png）。

因此，只需将此图像添加到您的 Xcode 项目中，无论它是什么版本，应用程序都会以全屏模式运行。

话虽如此，Apple 可能不会让您在 iOS 6 设备上安装使用 Xcode 4.4 或更低版本编译的应用程序（当然也没有适用于 Xcode 4.4 及更低版本的 iPhone 5 模拟器）。[编辑] 正如评论中所说，是的，您可以使用 Xcode4.4 安装在 iPhone 5 / iOS6 上。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T08:01:32.443

使用旧 SDK 创建的所有应用程序都可以在较新的 iOS 版本上完美运行，因此 iPhone 5 也应该可以毫无问题地运行所有现有应用程序，因此您无需使用 iOS 6.0 SDK 来支持 iPhone 5。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T07:32:44.300

所有关于 iOS 6 的信息都在保密协议下，iPhone 5 甚至都没有公布。

但有传言称，iPhone 5 的屏幕分辨率将达到 1136*640。那里有[针对 Xcode 4.4.1 的 hack，](http://www.cocoanetics.com/2012/08/a-taller-iphone-is-a-giraffe/)可以在 iPhone 模拟器中创建屏幕分辨率。因此，我认为这将是测试传闻中的新决议的可行方法。

关于 iOS 6：如果你是付费 iOS 开发者，你可以下载 iOS 6 来测试你的应用程序（我们这里不讨论 NDA 下的产品）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T05:31:31.050

我认为你的意思是要求支持 iOS 5。如果是这样，那么你真的不需要升级你的 Xcode 版本。您可以使用包含 Xcode 4.2 和 4.3 版本的 iOS SDK 5.0 或 iOS SDK 5.1。

你真的不需要使用 iOS SDK 6.0 beta。我希望这可以帮助你。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-12T19:48:19.213

您可以使用此收据[http://0xced.blogspot.co.at/2012/08/prepare-your-apps-for-new-iphone.html](http://0xced.blogspot.co.at/2012/08/prepare-your-apps-for-new-iphone.html)来启动具有新屏幕尺寸的 iOS 模拟器（仅限 iOS 5）。

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2012-08-31T10:54:44.440

是的，您需要更新您的 Xcode 才能为 iPhone5 构建。为此执行以下步骤：

*   下载带有 iOS 5.1 SDK 的 Xcode 4.5。
*   使用 Xcode 4.5 构建您的应用程序。

# facebook - 网站上有关 Facebook Connect 的查询

> ID：12171175
> 
> 赞同：0
> 
> 时间：2012-08-29T05:01:42.713
> 
> 标签：facebook, login, registration, facebook-login

我有一个网站，允许用户使用普通注册进行注册以及通过 facebook 登录。

如果用户使用正常注册进行注册，那么我想为他提供通过 facebook 连接的选项。在这种情况下，只有当他已经使用普通登录方式登录时，我才会给他这个连接选项。

所以我的问题是，在这种情况下，如何链接两个可能没有相同电子邮件 ID 的帐户？换句话说，我想在我的系统上链接这两个帐户。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:04:28.220

他们根本不需要相同的电子邮件。通常的做法是拥有这样的数据库模式。

第一桌: `users`:`id, display_name, registration_date, ...`
第二桌: `auth_email`:`user_id, email, password, salt`
第三桌: `auth_facebook`:`user_id, facebook_id`

所以你看 - 你可以`user_id`在你的网站上找到 Facebook 用户 ID 并对用户进行身份验证。

以类似的方式：从登录表单中获取电子邮件 + 密码 - 您可以找到`user_id`并验证用户

如果您想添加另一个身份验证模式 - 只需添加具有`user_id`外键的对应表。

# custom-controls - 在 XPage 上动态包含自定义控件

> ID：12171182
> 
> 赞同：2
> 
> 时间：2012-08-29T05:02:30.960
> 
> 标签：custom-controls, xpages

我正在尝试根据某些条件在 XPage 上包含自定义控件。这些条件取决于某些用户选择字段。因此，当用户更改他的选择时，我正在填充自定义控件名称，并尝试将其包含在 XPage 中。我读到了，但它在页面加载期间加载了给定页面，我无法动态加载它。

示例代码片段：

```
<xp:button id="button3" value="Change Page to Include CC 2">
    <xp:eventHandler event="onclick" submit="true"
        refreshMode="partial" disableValidators="true" refreshId="pnlRefresh">
        <xp:this.action><![CDATA[#{javascript:sessionScope.ccPageName = "content_CC2"}]]></xp:this.action>
    </xp:eventHandler>
</xp:button>
<xp:panel id="pnlRefresh">
    <xp:include>
        <xp:this.pageName><![CDATA[${javascript:sessionScope.ccPageName + ".xsp";}]]> </xp:this.pageName>
    </xp:include>
</xp:panel> 
```

有没有可能达到这个要求？或者使用 JAVA 我们如何在 XPage 代码中动态注入页面？

我不想使用 ExtLib 中的动态内容控件或切换控件，因为我需要包含所有必需的自定义控件（硬编码），然后我才能根据标准显示特定的 CC。

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T08:58:47.080

有两种方法可以实现您想要的：

1.  使用动态内容控件 - 您必须包含所有控件才能使其正常工作，这不是真的 - 有一个 hack 允许您简单地重建此控件的内容（使用 null 参数调用 show 方法），这是一个示例: [http://pastebin.com/VEDAjdDJ](http://pastebin.com/VEDAjdDJ)

2.  使用自定义控件生成器从 java 构建您的控件。可以在扩展库源代码（com.ibm.xsp.extlib.builder.ControlBuilder 类）中找到这方面的一个示例。这比第一种方式更难，所以我建议您使用动态内容控制！

请记住，在重建控件内容后，控件中未保存的所有数据都将丢失！处理此问题的最佳方法是使用托管 bean 使您的数据远离 UI 控件。

# actionscript-3 - 如何从as3中的数组中获取数值？

> ID：12171187
> 
> 赞同：0
> 
> 时间：2012-08-29T05:02:50.930
> 
> 标签：actionscript-3, flash

我有一个这样的数组

```
var records:Object = {};
var arr:Array = [
                records["nh"] = { medinc:66303},
                records["ct"] = { medinc:65958},
                records["nj"] = { medinc:65173},
                records["md"] = { medinc:64596},
                records["kk"] = { medinc:61321} 
            ];

arr.sortOn("medinc", Array.NUMERIC); 
```

我对数组进行了数字排序。我的问题是如何从每条记录中获取数值？我想使用该值来设置不同影片剪辑的宽度。

就像是

```
object1.width=(record for the [0] position in the array)
object2.width=(record for the [1] position in the array)
object3.width=(record for the [2] position in the array) 
```

ETC...

我希望这足够清楚。谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T05:34:57.370

```
trace(arr[0]['medinc']); // 61321 
```

基本上，要寻址嵌套对象中的某个字段，您可以将其寻址为具有字符串类型索引的关联数组。

# php - 如何只接受移动应用程序（iOS）来让来自 PHP 脚本的数据？

> ID：12171188
> 
> 赞同：1
> 
> 时间：2012-08-29T05:02:51.260
> 
> 标签：php, ios, http

我只想让移动应用程序（iOS）让我`HTTP_USER_AGENT`在这里使用的服务器端 PHP 脚本中的数据

```
$userAgent = $_SERVER['HTTP_USER_AGENT']; 
```

它显示`App Name`, `CF Network Info`,`Darwin OS Info`

我得到了一些关于使用[这个](http://zce-solve-one-question-every-week.blogspot.com/2012/03/week-271.html)的 HTTP 传输信息的信息。但我需要更多细节。

有什么方法可以获取有关我的应用程序的更多详细信息并且只接受移动应用程序（iOS）从服务器端 PHP 脚本获取数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:50:56.787

将服务器端脚本锁定到仅运行您的应用程序的移动设备的唯一体面方法是[使用客户端证书验证实现 HTTPS](https://stackoverflow.com/questions/3749429/how-to-use-client-certificate-authentication-in-ios-app)。

除此之外，任何表明设备正在运行的东西都`iOS`可以很容易地从任何设备发送出去。这里最明显的情况是在设备上运行 Safari 并从那里访问您的脚本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:00:33.673

我们在我们的应用程序中也遇到了这个问题。事实证明，解决方案实际上非常简单。

只有两个步骤：

**1）生成一次 MD5 密钥并作为字符串存储在应用程序中（任何 MD5 密钥生成都可以）**

**2) 当向 Web 服务发出 POST（不要使用 GET，更安全）请求时，传递此密钥**

完成此操作后，您的 Web 服务将知道该请求是从应用程序发出的。

这种方法还有一个额外的好处。

假设您有两个版本的应用程序，付费版本和免费版本，每个版本使用不同的 MD5 密钥，您可以确定发出请求的是免费版本还是付费版本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T05:12:48.663

这不是 100% 可能的，因为移动应用程序信息可以模拟到浏览器中。检查[Firefox 插件](https://addons.mozilla.org/en-US/firefox/addon/user-agent-switcher/)。

但作为一个小检查：

```
function isMobileiOS($useragent){
    if(stripos($useragent, 'iPod') !== false || stripos($useragent, 'iPhone') !== false || stripos($useragent, 'iPad') !== false){
        return true;
    }
    return false;
}

$mobile = isMobileiOS($_SERVER['HTTP_USER_AGENT']); 
```

这将捕获 iOS 设备。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T05:16:44.660

尝试

```
$iphone = strpos($_SERVER['HTTP_USER_AGENT'],"iPhone"); 
```

如果浏览器是从 iPhone 使用的，则返回 true。我不确定它是否适用于 iPhone 中的 chrome 等第三方浏览器。

# python - SQLAlchemy column_property 基础知识

> ID：12171189
> 
> 赞同：7
> 
> 时间：2012-08-29T05:02:53.450
> 
> 标签：python, orm, sqlalchemy, declarative

我有两个模型：

```
class Report(Base):
    __tablename__ = 'report'
    id = Column(Integer, primary_key=True)

class ReportPhoto(Base):
    __tablename__ = 'report_photo'
    id = Column(Integer, primary_key=True)
    report_id = Column(Integer, ForeignKey(Report.id), nullable=False)

    report = relationship(Report, uselist=False, backref=backref('report_photo', uselist=True)) 
```

我想在报告模型中添加列，表明 ReportPhoto 中是否有任何记录。我尝试以这种方式使用[column_property](http://docs.sqlalchemy.org/en/rel_0_7/orm/mapper_config.html#sqlalchemy.orm.column_property)：

```
class Report(Base):
    __tablename__ = 'report'
    id = Column(Integer, primary_key=True)

    has_photo = column_property(
        select(ReportPhoto.any())
    ) 
```

但得到一个错误`NameError: name 'ReportPhoto' is not defined`。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-31T23:23:41.340

类似的东西应该有效：

```
 class ReportPhoto(Base):
        __tablename__ = 'report_photo'
        id = Column(Integer, primary_key=True)
        report_id = Column(Integer, ForeignKey('report.id'), nullable=False)

    class Report(Base):
        __tablename__ = 'report'
        id = Column(Integer, primary_key=True)
        report_photos = relationship(ReportPhoto, backref='report')
        has_photo = column_property(
            exists().where(ReportPhoto.report_id==id)
        ) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-01-06T04:57:06.683

我将在@Vladimir lliev 的回复中添加一些说明，以澄清其他可能看不到如何执行此操作的人。

将具有“外部表引用”column_property 的表放在它引用的表*之后。*在这种情况下，这意味着将 Report 放在ReportPhoto*之后。*这将解决您的 NameError，但是，您的 ReportPhoto 外键引用会留下一个新错误。要解决这个问题，请将您的外键表引用放在引号中。您可以通过参考声明性文档（例如，declarative.py）并查看“配置关系”来阅读更多信息——具体来说，阅读引用您的外国参考文献的部分。

使用您的代码，这将如下所示：

```
class ReportPhoto(Base):
    # This now goes first
    __tablename__ = 'report_photo'
    id = Column(Integer, primary_key=True)
    # Notice the quotations around Report references here
    report_id = Column(Integer, ForeignKey("Report.id"), nullable=False)

    # Notice the quotations around Report references here
    report = relationship("Report", 
           uselist=False, 
           backref=backref("report_photo", uselist=True))

class Report(Base):
    # This is now _after_ ReportPhoto
    __tablename__ = 'report'
    id = Column(Integer, primary_key=True)

    # ReportPhoto now exists and we will not trip a NameError exception
    has_photo = column_property(
        select(ReportPhoto.any())
    ) 
```

# opengl - 为什么 glOrtho 后镜面反射不起作用？

> ID：12171195
> 
> 赞同：0
> 
> 时间：2012-08-29T05:03:29.717
> 
> 标签：opengl

我尝试了许多不同的 GL_SPECULAR，但没有一个能提供我期望的闪亮效果。

代码有什么问题？

```
GLfloat mat_ambient[]={0.329412, 0.223529, 0.027451};                                                                                                                                                                                                                         
GLfloat mat_diffuse[]={0.780392, 0.568627, 0.113725};
GLfloat mat_specular[]={0.992157, 0.941176, 0.807843};
GLfloat mat_shininess[]={0.21794872 * 128};

GLfloat light_position[]={1.0,1.0,1.0,0.0};
GLfloat light_ambient[]={1.0,1.0,1.0,1.0};
GLfloat light_diffuse[]={1.0,1.0,1.0,1.0};
GLfloat light_specular[]={1.0,1.0,1.0,1.0};

unsigned char last_key = 0;
unsigned char channel = 'r';

void init(void) {
    glClearColor(0.0, 0.0, 0.0, 0.0);
    glShadeModel(GL_SMOOTH);

    glMaterialfv(GL_FRONT,GL_SPECULAR,mat_specular);
    glMaterialfv(GL_FRONT,GL_SHININESS,mat_shininess);
    glMaterialfv(GL_FRONT,GL_AMBIENT,mat_ambient);
    glMaterialfv(GL_FRONT,GL_DIFFUSE,mat_diffuse);

    glLightfv(GL_LIGHT0,GL_POSITION, light_position);
    glLightfv(GL_LIGHT0,GL_AMBIENT, light_ambient);
    glLightfv(GL_LIGHT0,GL_DIFFUSE, light_diffuse);
    glLightfv(GL_LIGHT0,GL_SPECULAR, light_specular);

    glEnable(GL_LIGHTING);
    glEnable(GL_LIGHT0);
    glEnable(GL_DEPTH_TEST);
}

void display(void) {
    glClear(GL_COLOR_BUFFER_BIT|GL_DEPTH_BUFFER_BIT);
    const int length = 100;
    glBegin(GL_QUADS);
        glVertex2f(50, 50);
        glVertex2f(50 + length, 50);
        glVertex2f(50 + length, 50 + length);
        glVertex2f(50, 50 + length);
    glEnd();
    glFlush();
}

void reshape(int w, int h) {
    glViewport(0,0,(GLsizei) w,(GLsizei) h);
    glMatrixMode(GL_PROJECTION);
    glLoadIdentity();
    glOrtho(0, w, 0, h,-10.0,10.0);
    glMatrixMode(GL_MODELVIEW);
    glLoadIdentity();
}

int main(int argc,char**argv) {
    glutInit(&argc,argv);
    glutInitDisplayMode(GLUT_SINGLE|GLUT_RGBA|GLUT_DEPTH);
    glutInitWindowSize(500,500);
    glutInitWindowPosition(100,100);
    glutCreateWindow("lighting demo");
    init();
    glutDisplayFunc(display);
    glutReshapeFunc(reshape);
    glutMainLoop();
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T12:44:50.017

您没有[为](http://www.opengl.org/sdk/docs/man/xhtml/glNormal.xml). `GL_QUADS`您可能还需要考虑`glEnable(GL_NORMALIZE)`在模型视图转换后保留单位长度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:22:36.833

我认为该代码没有任何问题，但您没有显示您正在绘制的内容。如果您没有正确的顶点法线，那么光泽将不起作用。

# c# - C# Linq to SQL - IEnumerable 连接两个数据表/上下文

> ID：12171205
> 
> 赞同：2
> 
> 时间：2012-08-29T05:04:52.570
> 
> 标签：c#, linq-to-sql

我正在使用带有 SQL 2008 R2 数据库的 Visual Studio 2010、ASP.NET MVC 3。

我相信这是一项简单的任务，但我不知道如何措辞。这是我拥有的当前代码。

```
 public static IEnumerable GetAPCBundledCodesData(string CPTCode)
    {

        var result = (from item in new VADataContext().CPT2MODs
                      where item.CPT == CPTCode
                      select new { item.MOD }).ToList();
        return result;
    } 
```

这将拉取 CPTSMODs 表中的项目列表并将其返回。我想要做的是获取该结果并获取另一个列表，其中包含与具有相同字段 MOD 的另一个名为 Modifiers 的另一个表中具有相同值的每个项目匹配的列表。我不确定如何做这部分。

我希望我已经解释得足够好。让我知道是否需要任何澄清。

我一直在寻找答案，发现我的问题是我可以在 on 语句中有两个 DataContext。如果不是两个 DataContext，我什至不确定这是否可行，但我尝试这样做：

```
public static IEnumerable GetAPCBundledCodesData(string CPTCode)
    {

        var result = (from mod in new VADataContext().MODIFIERs
                      join cpt2mod in new VADataContext().CPT2MODs on mod.MOD equals cpt2mod.MOD
                      where cpt2mod.CPT == CPTCode
                      select new { mod.MOD, mod.SHORT }).ToList();
        return result;
    } 
```

这导致错误提示我无法从两个不同的来源提取数据。有不同的处理方法吗？

这里有一些示例数据来显示这里发生了什么。

表 CPT2MOD

```
CPT**   MOD**
31624   TC
31624   A
31624   DC
99213   B
99213   T
00100   AS 
```

表修饰符

```
MOD**   SHORT**
TC      TC Desc
A       A Desc
DC      DC Desc
B       B Desc
T       T Desc
AS      AS Desc 
```

CPT 代码将被传递给 GetAPCBundledCodesData（例如 99213），它将从 CPT2MOD 表（B，T）中查找与其关联的所有 MOD 值。然后它将从 MODIFIERs 表中返回这些 MOD 以及描述。（B，B 描述；T，T 描述）。

我希望你现在能更好地看到我在问什么。

**解决方案**

```
public static IEnumerable GetAPCBundledCodesData(string CPTCode)
        {
            using (var dc = new VADataContext()){
            var result = (from a in dc.CPT2MODs
                          where a.CPT == CPTCode
                          join b in dc.MODIFIERs on a.MOD equals b.MOD
                          select new { b.MOD, b.SHORT }).ToList();
            return result;
            }
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:21:23.307

仅使用一个 ObjectContext - 并使用`using`（非常重要）：

```
using(var dc = new VADataContext()){
  var result = (from mod in dc.MODIFIERs 
                  join cpt2mod in dc.CPT2MODs on mod.MOD equals cpt2mod.MOD 
                  where cpt2mod.CPT == CPTCode 
                  select new { mod.MOD, mod.SHORT }).ToList(); 
  return result; 
} 
```

顺便说一句- 实体框架通常不会调用它生成的类`DataContext`- 这是 Linq to SQL 的事情 - 你确定你实际上正在使用实体框架吗？它实际上与修复没有任何关系，它只是要求澄清。

# android - 更改 listSeparatorTextViewStyle 中使用的线条颜色

> ID：12171209
> 
> 赞同：10
> 
> 时间：2012-08-29T05:05:09.560
> 
> 标签：android

我有以下代码

```
 <TextView
            android:text="@string/hello"
            style="?android:attr/listSeparatorTextViewStyle" /> 
```

我会得到以下效果。

![在此处输入图像描述](../Images/61da8a1422a3167f4378352f11382266.png)

但是，我对颜色线不满意。我想要类似的东西

![在此处输入图像描述](../Images/b383325467234390e2297c609f964b3f.png)

我希望它像全息一样有蓝色线条。我尝试以下自定义样式。

```
<style name="MyOwnListSeperatorTextViewStyle">        
<item name="android:background">@android:drawable/list_section_divider_holo_light</item>        
<item name="android:textAllCaps">true</item>    

<!-- Copy from Widget.TextView.ListSeparator -->

<item name="android:background">@android:drawable/dark_header_dither</item>
    <item name="android:layout_width">match_parent</item>
    <item name="android:layout_height">wrap_content</item>
    <item name="android:textStyle">bold</item>
    <item name="android:textColor">?textColorSecondary</item>
    <item name="android:textSize">14sp</item>
    <item name="android:gravity">center_vertical</item>
    <item name="android:paddingLeft">8dip</item>        
</style> 
```

但它不起作用，因为我收到以下错误。

**错误：错误：资源不公开。（在 'android:background' 处，值为 '@android:drawable/dark_header_dither'）。**

知道如何更改中使用的线条颜色`listSeparatorTextViewStyle`吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-29T07:04:27.160

我需要这样做来覆盖典型的 Holo Spinner 样式（我不想要带下划线的项目 - 我只想要箭头），我认为这可以以完全相同的方式被覆盖：

首先，您想在 android 样式源中找到您希望覆盖的项目。有一个非常有用的 SO 答案，其中包含所有样式（以及覆盖它们的名称）：[Set Dialog theme to parent Theme in Android](https://stackoverflow.com/questions/10679819/set-dialog-theme-to-parent-theme-in-android/11397502#11397502)

我相信你的是以下行：

```
<item name="listSeparatorTextViewStyle">@android:style/Widget.Holo.Light.TextView.ListSeparator</item> 
```

这使我们踏上了寻找风格 Widget.Holo.Light.TextView.ListSeparator 的旅程，它应该存在于您自己的计算机上的某个地方！但我会让它变得简单，只需 c&p 它：

```
<style name="Widget.Holo.Light.TextView.ListSeparator" parent="Widget.TextView.ListSeparator">
    <item name="android:background">@android:drawable/list_section_divider_holo_light</item>
</style> 
```

现在，您可能想留下足够好的东西，然后**看看**那个背景可绘制对象。你会发现它是一个灰色的 9patch 文件，看起来像你想要避免的险恶的灰线。

我们需要覆盖它。我确信有很多方法可以做到这一点，但我通过自定义应用程序的主题来做到这一点。这是themes.xml 文件：

```
<style name="AppTheme" parent="@android:style/Theme.Holo.Light.NoActionBar">
    <item name="android:listSeparatorTextViewStyle">@style/MyOwnListSeperatorTextViewStyle</item>
</style>

<style name="MyOwnListSeperatorTextViewStyle" parent="Widget.TextView.ListSeparator">
    <item name="android:background">@drawable/make_your_own_blue_9_patch_here</item>
</style> 
```

请注意我们如何使用`listSeparatorTextViewStyle`之前的 SO 帖子中的 ？自定义样式的父级是`Widget.TextView.ListSeparator`来自android的样式源吗？都非常重要。

现在你只需要将这个主题应用到你的应用程序中，但我假设你已经有了一个主题。如果您还没有，您将需要*制作自己的 9patch*，但我只会查看您计算机上的 list_section_divider_holo_light.9.png 文件，将灰色部分设为蓝色，然后复制并放入您自己的可绘制文件夹。

希望这有效并且有帮助！

# sql - Oracle：使用 REGEXP_LIKE 的 SQL

> ID：12171211
> 
> 赞同：0
> 
> 时间：2012-08-29T05:05:26.703
> 
> 标签：sql, oracle

我需要从 Oracle 表中的单元格值中提取字符串。我怎样才能做到这一点？

```
VALUE
--------
/var1/var2/var3/C751994ZP1QT11/var4.itp 
```

我想使用 SQL 从值中提取“C751994ZP1QT11”。我搜索了一些类似 REGEXP_LIKE 的函数，但我不太明白如何使用它。

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:17:31.010

如果要提取字符串，则需要使用`regexp_substr()`. `regexp_like()`将返回一个布尔值，指示某个正则表达式是否与您的字符串匹配，而`regexp_substr()`实际上返回匹配的字符串。

在您的情况下，假设您想要 and 之间的字符串`/**`，`**/`您可以使用如下内容：

```
select 
  regexp_substr(
    '/var1/var2/var3/**C751994ZP1QT11**/var4.itp', 
    '/\*\*.*\*\*/') 
from dual 
```

有关 Oracle 正则表达式的一些有用快捷方式，请参阅[此处。](http://psoug.org/reference/regexp.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T05:25:51.163

```
select REGEXP_REPLACE('/var1/var2/var3/**C751994ZP1QT11**/var4.itp','.*\*\*(.*)\*\*.*','\1') result from dual 
```

# android - ndk 中无法解析类型

> ID：12171212
> 
> 赞同：1
> 
> 时间：2012-08-29T05:05:27.863
> 
> 标签：android, android-ndk, java-native-interface

在 android ndk 中，当我使用由帮助工具生成的头文件时，`javah`它工作正常。但是当我创建一个带有 .h 扩展名和包含的普通文件`jni.h`以及任何其他必需的头文件时，我无法使用包含的头文件中的类型或关键字或任何函数，它总是向我显示“Type ' *whatever* ' 不能得到解决”，而我可以在机器生成的头文件中使用`javah`工具毫无理由地做同样的事情。

虽然我在 C/C++ General -> Paths and Symbols -> Include 中包含了 arm 平台库。它一直向我显示此错误。

考虑以下代码。

```
#include "store.h"
#include <jni.h>
#include <stdint.h>
#include <pthread.h>

#ifndef _STOREWATCHER_H_
#define _STOREWATCHER_H_

#define SLEEP_DURATION 5
#define STATE_OK 0
#define STATE_KO 1
#ifdef __cplusplus
   extern "C" {
#endif
    typedef struct{
        Store* mStore;
        JavaVM* mJavaVM;
        jobject mStoreFront;
        pthread_t mThread;
        int32_t mState;
    }StoreWatcher;
#ifdef __cplusplus
} 
#endif
#endif 
```

它在这段代码中向我显示，，，，`Store`无法解决。请帮我。`JavaVM``jobject``pthread_t`

任何形式的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T06:05:44.773

在 C 中，与 Java 不同，您有名称为 like`storewatcher.c`的文件和名称为`storewatcher.h`. 这些`.h`文件不是自己编译的，您必须在一个或多个文件中使用`#include`指令才能使编译器识别该文件，例如`.c``.h`

```
#include "storewatcher.h" 
```

# sql - SQL单元测试为不一定返回值的存储过程创建测试

> ID：12171214
> 
> 赞同：0
> 
> 时间：2012-08-29T05:06:29.030
> 
> 标签：sql, tsql, unit-testing

我是 sql 单元测试的新手，但我已经编写了我的第一个测试并试图确保这是一个合理的测试。所以我有一个存储过程，它执行简单的更新（如果存在）或插入（如果不存在）。使用 TSQLUnit，我编写了下面的测试来测试我的名为**spModifyData**的存储过程。测试的目的是验证当现有 ID 通过时，不会在数据库中创建新记录。

```
ALTER PROCEDURE [dbo].[ut_TestspModifyData] 
AS
BEGIN 
    SET NOCOUNT ON;
     -- Setup the test conditions by inserting test data
     DECLARE 
                @newidone uniqueidentifier,
                @newidtwo uniqueidentifier,
                @newidthree uniqueidentifier,
                @ExpectedID uniqueidentifier,
                @ActualID uniqueidentifier

                SET @ActualID = '13E7C741-9A04-4E84-B604-141874A6A9B4'
                SET @ExpectedID = '13E7C741-9A04-4E84-B604-141874A6A9B4'
                SET @newidone = newID()
                SET @newidtwo = newID()
                SET @newidthree = newID()

                 INSERT INTO DataSource( [DataSourcePrimarySource],[DataSourceName],[DataSourceRecordCreateDate] 
          ,[DataSourceStatus] ,[DataSourceIsActive]) VALUES ('PRIMARY SOURCE ONE', 'XYZ', GETDATE() , @newidone, 1)

  -- Exercise the test
 EXEC  spModifyDataSource @ActualID , 'PRIMARY SOURCE ONETWO', 'BBB', @newIDone, 0  

 -- Assert expectations
 IF (@ExpectedID != @ActualID)
                EXEC dbo.tsu_Failure 'ModifyData failed.' 

-- Teardown
 -- Implicitly done via ROLLBACK TRAN

END 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T06:11:14.900

As this test is testing a functional part of your stored procedure, then yes it is a "sensible" unit test - it doesn't have to test parameters to be valid.

That being said - I'm not sure it's the best way of testing what you are trying to. You appear to be using `@ActualID` as a variable which you set early on but don't specify as an `OUTPUT` parameter, so I would always expect this test to pass (either I'm reading that wrong, or there's a bug in the test).

Your question stated your test aim was : "verify that when an existing ID is passed, **a new record is not created in the database.**"

I would actually approach the assert section of this test slightly differently - I'd check the result in the `DataSource` table directly rather than checking the returned parameter - as you are then checking what's created in the database. I would additionally check any output parameter, but usually I'd regard output parameters as a separate test to data checks, or at least a separate assert - and therefore separate message - in the test.

I think you will find it helpful if you can use more descriptive messages - as per the example in [the TSQLUnit cookbook](http://sourceforge.net/apps/trac/tsqlunit/wiki/CookBook)

I find it easier to resolve tests that only test one thing - and therefore I know what needs to be fixed. They are often simpler to write, too!

Does that help?

# html - 页面上的 HTML 垂直可调整大小区域

> ID：12171215
> 
> 赞同：0
> 
> 时间：2012-08-29T05:06:33.397
> 
> 标签：html, css, resize, vbox, hbox

我正在尝试创建这样的页面[布局](http://livedocs.adobe.com/flex/3/html/help.html?content=layouts_04.html)

但我不确定如何实现它。我的意思是说; 在该页面中，您可以看到页面中有两个区域，您可以使用它们之间的栏来调整区域的大小。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:35:19.960

是的，这当然是可能的。那里可能有一个 JQuery 或 MooTools 插件可以做到这一点。否则，我为您提供了一个使用 JQuery 的简单示例，您可以使用它。请参阅[此 JSFiddle](http://jsfiddle.net/QEkwN/2/)。

基本上HTML是这样的：

```
<div id="left">Left column!</div>
<div id="verticalresizer">&nbsp;</div>
<div id="right">Right column!</div>​ 
```

然后它们被绝对定位（为简单起见，示例剪切中的额外 CSS）：

```
html, body { 
    height: 100%; 
}

#left { 
    width: 200px; /* default starting width */
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
}
#right { 
    position: absolute;
    top: 0;
    bottom: 0;
    right: 0;
    left: 204px; /* width of left col + 4 pixel wide resizer */
}
#verticalresizer { 
    background-color: black; /* so it can be seen */
    width: 4px;
    height: 100%;
    cursor: col-resize;
    position: absolute;
    top: 0;
    left: 200px; /* width of left col */
    bottom: 0;
} 
```

​ 然后是 JavaScript。先解释一下。代码几乎都在监听用户点击垂直调整大小。一旦发生这种情况，它就会监听鼠标的移动。每次鼠标移动时，相应地调整列的大小并将滑块保持在鼠标下方。当用户放开鼠标（mouseup）时，停止监听/调整大小。

```
var left = 200; // starting left col width
var isClicked = false;
var startX = 200; // starting horizontal position of resizer bar
var isMouseDown = false;

// attach listeners to the document itself
$(document).mousedown(function() {
    isMouseDown = true;
}).mouseup(function() {
    isMouseDown = false;
}).mousemove( function(event) {
    if (isClicked && isMouseDown) {
        var newX = event.pageX;

        if (startX != newX) {
            left += (newX - startX);
            if (left < 0) {
                left = 0; // keep from moving the slider beyond the left edge of the screen
                newX = 0;
            }
            setWidthOfLeftColumn( left );
            startX = newX;
        }
    }
});

// attach click listeners to the resizer slider
$("#verticalresizer").mousedown( function(event) {
    isClicked = true;
    startX = event.pageX;
}).mouseup( function (event) {
    isClicked = false;  
});

// function to resize everything
function setWidthOfLeftColumn( value ) {
    $("#left").css("width", "" + left + "px");
     $("#right").css("left", "" + (left + 4) + "px");
     $("#verticalresizer").css("left", "" + left + "px");
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T05:31:19.423

尝试使用 HTML 框架集标记。

[http://www.w3schools.com/tags/tag_frameset.asp](http://www.w3schools.com/tags/tag_frameset.asp)

# c# - 当发生错误时，我们如何从 ServiceStack 的 JSON Serializer 访问数据？

> ID：12171217
> 
> 赞同：2
> 
> 时间：2012-08-29T05:06:42.817
> 
> 标签：c#, json, error-handling, deserialization, servicestack

[当ServiceStack 的 JSON 序列化](https://github.com/ServiceStack/ServiceStack.Text)器被配置为抛出异常时，我们如何获得有关 JSON 反序列化异常的更多信息：

```
JsConfig.ThrowOnDeserializationError = true; 
```

默认情况下，JSON 序列化器将记录并忽略非关键异常，或者可以配置为使用上述配置抛出。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T05:07:12.910

当[ServiceStack 的 JSON 序列化](https://github.com/ServiceStack/ServiceStack.Text)器被配置为遇到反序列化错误时抛出：

```
JsConfig.ThrowOnDeserializationError = true; 
```

它捕获能够反序列化的信息，并将它们存储在`ex.Data`字典中抛出的序列化异常中。

```
try {
    string json = @"{""idBad"":""abc"", ""idGood"":""2"" }";
    JsonSerializer.DeserializeFromString(json, typeof(TestDto));
    Assert.Fail("Exception should have been thrown.");
} catch (SerializationException ex) {
    Assert.That(ex.Data, Is.Not.Null);
    Assert.That(ex.Data["propertyName"], Is.EqualTo("idBad"));
    Assert.That(ex.Data["propertyValueString"], Is.EqualTo("abc"));
    Assert.That(ex.Data["propertyType"], Is.EqualTo(typeof(int)));
} 
```

# html - HTML5+jQuery+phonegap 移动应用安全

> ID：12171227
> 
> 赞同：4
> 
> 时间：2012-08-29T05:07:57.797
> 
> 标签：html, cordova, jquery-mobile, oauth, restful-authentication

我是这个领域的新手，我正在开发一个`HTML5`移动应用程序，它调用一个 restful webservices api 并交换 JSON 对象。

我想对客户端进行一次身份验证并提供一个密钥/令牌，以后可以使用该密钥/令牌，直到预定义的到期日期。我有4个问题：

1.  如何保护服务器端 Web 服务 api？有什么工具吗？
2.  我可以使用本地存储来存储密钥/令牌吗？
3.  我可以在客户端使用哪些 phonegap 安全工具？
4.  在这种情况下如何使用 OAUTH？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-08-29T19:27:44.470

# 如何保护服务器端 Web 服务 api？有什么工具吗？

OAuth 可能对您的需求来说太过分了，请确认您确实需要使用如此强大（且复杂）的标准。

您可以使用的 PHP 服务器端软件的两个示例：

*   [Solberg-OAuth](https://github.com/andreassolberg/solberg-oauth)
*   [简单SAMLphp](https://simplesamlphp.org/)

# 我可以使用本地存储来存储密钥/令牌吗？

是的！请注意，您必须使用 OAuth 2.0 隐式授权流程才能在客户端获取令牌。

# 我可以在客户端使用哪些 phonegap 安全工具？

ChildBrowser 是一个插件，用于为身份验证过程打开一个单独的浏览器窗口。

我编写了一个可以为您执行 OAuth 2.0 的 JavaScript 库 JSO。其他库也存在。

*   [https://github.com/andreassolberg/jso](https://github.com/andreassolberg/jso)

# 在这种情况下如何使用 OAUTH？

### 将 JSO 与 Phonegap 和 ChildBrowser 一起使用

使用 JSO 在混合环境下运行在移动设备上的 WebApps 中执行 OAuth 2.0 授权是 JSO 的一个重要部署场景。

这是关于使用 Phonegap for iOS 设置 JSO 并使用 Google 配置 OAuth 2.0 的详细说明。您也可以将它与 Facebook 或其他 OAuth 提供商一起使用。

### 准备工作

*   从 App Store 和 iOS 开发工具包安装 XCode
*   安装[Phonegap 2.0、Cordova 2.0](https://phonegap.com/download/)

### 设置应用程序

创建一个新的应用程序

```
./create  /Users/andreas/Sites/cordovatest no.erlang.test "CordovaJSOTest" 
```

### 安装子浏览器

原始的 ChildBrowser 插件可在此处获得。

*   [https://github.com/purplecabbage/phonegap-plugins/tree/master/iPhone/ChildBrowser](https://github.com/purplecabbage/phonegap-plugins/tree/master/iPhone/ChildBrowser)

但是，它与 Cordova 2.0*不*兼容。相反，您可以使用应该与 Cordova 2.0 一起使用的 ChildBrowser 的这个分支：

*   [https://github.com/Shereef/ChildBrowserOnCordova200](https://github.com/Shereef/ChildBrowserOnCordova200)

您需要做的是复制这些文件：

*   [https://github.com/Shereef/ChildBrowserOnCordova200/tree/master/ChildBrowserOnCordova200/Plugins](https://github.com/Shereef/ChildBrowserOnCordova200/tree/master/ChildBrowserOnCordova200/Plugins)

通过拖放到 XCode 中的 Plugins 文件夹中，进入您的 WebApp 项目区域。

现在您需要编辑`Resources/Cordova.plist`在您的 WebApp 项目区域中找到的文件。

在此文件中，您需要将一个带有“*”的数组条目添加到 ExternalHosts 中，并将两个条目添加到插件中：

*   ChildBrowser -> ChildBrowser.js
*   ChildBrowserCommand -> ChildBrowserCommand

如屏幕截图所示。

[![](../Images/f3673a9a675f32bdb01ecb56a09dcdf1.png)](https://i.stack.imgur.com/jl2w5.jpg)
[（来源：[erlang.no](http://clippings.erlang.no/ZZ6D3C032F.jpg)）]

### 使用 ChildBrowser 设置 WebApp

我建议在继续使用 OAuth 之前测试并验证您是否让 ChildBrowser 工作。

在您的`index.html`文件中尝试此操作，并使用模拟器进行验证。

```
<script type="text/javascript" charset="utf-8" src="cordova-2.0.0.js"></script>
<script type="text/javascript" charset="utf-8" src="ChildBrowser.js"></script>
<script type="text/javascript">

    var deviceready = function() {
        if(window.plugins.childBrowser == null) {
            ChildBrowser.install();
        }
        window.plugins.childBrowser.showWebPage("http://google.com");
    };

    document.addEventListener('deviceready', this.deviceready, false);

</script> 
```

### 设置 JSO

下载最新版本的 JSO：

*   [https://github.com/andreassolberg/jso](https://github.com/andreassolberg/jso)

JSO 的文档也可以在那里找到。

回调 URL 需要指向某个地方，一种方法是将回调 HTML 页面放在某个地方，尽管您信任的主机在哪里并不重要。并在那里放一个漂亮的空白页：

```
<!doctype html>
<html>
    <head>
        <title>OAuth Callback endpoint</title>
        <meta charset="utf-8" />
    </head>
    <body>
        Processing OAuth response...
    </body>
</html> 
```

现在，设置您的应用程序索引页面。这是一个工作示例：

```
<script type="text/javascript" charset="utf-8" src="cordova-2.0.0.js"></script>
<script type="text/javascript" charset="utf-8" src="ChildBrowser.js"></script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="jso/jso.js"></script>
<script type="text/javascript">

    var deviceready = function() {

        var debug = true;

        /*
         * Setup and install the ChildBrowser plugin to Phongap/Cordova.
         */
        if(window.plugins.childBrowser == null) {
            ChildBrowser.install();
        }

        // Use ChildBrowser instead of redirecting the main page.
        jso_registerRedirectHandler(window.plugins.childBrowser.showWebPage);

        /*
         * Register a handler on the childbrowser that detects redirects and
         * lets JSO to detect incomming OAuth responses and deal with the content.
         */
        window.plugins.childBrowser.onLocationChange = function(url){
            url = decodeURIComponent(url);
            console.log("Checking location: " + url);
            jso_checkfortoken('facebook', url, function() {
                console.log("Closing child browser, because a valid response was detected.");
                window.plugins.childBrowser.close();
            });
        };

        /*
         * Configure the OAuth providers to use.
         */
        jso_configure({
            "facebook": {
                client_id: "myclientid",
                redirect_uri: "https://myhost.org/callback.html",
                authorization: "https://www.facebook.com/dialog/oauth",
                presenttoken: "qs"
            }
        }, {"debug": debug});

        // For debugging purposes you can wipe existing cached tokens...
        // jso_wipe();

        // jso_dump displays a list of cached tokens using console.log if debugging is enabled.
        jso_dump();

        // Perform the protected OAuth calls.
        $.oajax({
            url: "https://graph.facebook.com/me/home",
            jso_provider: "facebook",
            jso_scopes: ["read_stream"],
            jso_allowia: true,
            dataType: 'json',
            success: function(data) {
                console.log("Response (facebook):");
                console.log(data);
            }
        });

    };

    document.addEventListener('deviceready', this.deviceready, false);

</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:31:21.440

**如何保护服务器端 Web 服务 api？有什么工具吗？** 取决于编写 Web 服务的语言，php 具有用于创建 Web 服务 / nusoap 等的 zend 框架。因此，所有语言都提供了有关如何保护 Web 服务的信息。

**我可以使用本地存储来存储密钥/令牌吗？** 是的，您可以使用本地存储查看 phonegap[文档](http://docs.phonegap.com/en/1.2.0/phonegap_storage_storage.md.html#localStorage)

**我可以在客户端使用哪些 phonegap 安全工具？** 我认为没有，但您可以搜索一些插件或创建自己的插件。取决于您要实现哪种安全性。

**在这种情况下如何使用 OAUTH？** 这是[OAuth](http://code.google.com/p/oauth-signpost/)的库，这似乎很有帮助。您可以创建电话间隙插件以与库交互或使用 javascript [oauth 库](http://oauth.googlecode.com/svn/code/javascript/)（它也带有示例）。

# ruby-on-rails - Rails：用户在使用 :remote => true 销毁不相关的对象后注销

> ID：12171230
> 
> 赞同：4
> 
> 时间：2012-08-29T05:08:10.447
> 
> 标签：ruby-on-rails, ruby, ajax, authentication, railscasts

我正在关注[http://railscasts.com/episodes/250-authentication-from-scratch](http://railscasts.com/episodes/250-authentication-from-scratch)进行简单的身份验证。它按预期工作。我的应用程序中有一个模型，其中包含以下内容`partial`：

```
<%= content_tag_for(:li, post) do %>
  <%= link_to 'Delete', post, :confirm => 'Are you sure?', :method => :delete, :remote => true %>
<% end %> 
```

在内部调用`index.html.erb`如下：

```
<%= render :partial => @posts.reverse %> 
```

`destroy.js.erb`如下，对象销毁成功时调用。

```
$('#<%= dom_id(@post) %>').css('background', 'red');
$('#<%= dom_id(@post) %>').hide(); 
```

单击`delete`按钮后，`post`对象将被正确删除，并且`destroy.js.erb`也被正确渲染。但不知何故，用户已注销。以下是我的代码`posts_controller.rb`：

```
 def destroy
    logger.error 'in destroy'
    @post = Job.find(params[:id])
    @post.destroy

    respond_to do |format|
      format.html { redirect_to(posts_url) }
      format.xml  { head :ok }
      format.js
    end
  end 
```

任何线索为什么会出现这种行为？

而且，如果我`:remote => true`从`delete`链接中删除 ，那么用户仍然处于登录状态。我在该`destroy`方法中的日志语句在`session`任何一种情况下都不会被调用，但是如果 '`:remote=>true`则会话以某种方式搞砸了。在检查 cookie 时，我发现 cookie 没有被破坏，但是在调用`destroy`on 方法时它确实被修改了`posts`。不知道为什么会发生这种情况。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T05:53:45.780

听起来您遇到了旨在防止[跨站点请求伪造](http://guides.rubyonrails.org/security.html#cross-site-request-forgery-csrf)的 rails 安全功能。添加`:remote => true`会导致请求通过没有 CSRF 安全令牌的 ajax 提交，因此 rails 会破坏会话，因为它认为这是 CSRF 攻击。要解决这个问题，您有几个选择：

1.  一个快速而肮脏（且不安全）的解决方案是关闭该请求的安全检查。为此，请将此行添加到控制器的顶部：

    `skip_before_filter :verify_authenticity_token, :only => [:destroy]`

2.  更安全的解决方案是使用 AJAX 调用提交`CSRF`令牌。我认为如果您将远程链接更改为`button_to`. [在这里](http://guides.rubyonrails.org/ajax_on_rails.html)阅读更多。

    `<%= button_to 'Delete', post, :confirm => 'Are you sure?', :method => :delete, :remote => true %>`

3.  您还可以使用 cookie 来存储 current_user 而不是会话。这对安全性的影响将取决于您的应用程序的详细信息。

# c++ - 将 4 个整数的组合映射到单个值

> ID：12171237
> 
> 赞同：0
> 
> 时间：2012-08-29T05:08:55.017
> 
> 标签：c++, hash, containers

我有 4 个单独的整数需要映射到任意的常量值。

例如，4,2,1,1 将映射到数字 42

数字 4,2,1,2 将映射到数字 86。

无论如何我可以通过使用#define 或某种std::map 来实现这一点。这个概念看起来很简单，但由于某种原因，我想不出一个好的、有效的方法来做到这一点。我尝试过的方法不起作用，所以我正在寻找一些关于实施的指导。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T05:13:27.250

利用 a `std::map<std::vector<int>, int>`，使`vector`包含`{4,2,1,1}`的值为 42，依此类推。

编辑：我同意`std::tuple`如果你有一个支持 C++11 的编译器，那将是一个更好的方法。我使用 a 是`std::vector`因为它在这个阶段可以说更便携。您也可以使用`std::array<int, 4>`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T05:41:12.763

如果您无权访问`boost::tuple`,`std::tuple`或`std::array`，您可以实现一个包含 4 个整数的类型，并使用合适的小于比较满足[严格的弱排序](http://www.sgi.com/tech/stl/StrictWeakOrdering.html)：

```
struct FourInts {
  int a,b,c,d;
  FourInts() : a(), b(), c(), d() {}
  bool operator<(const FourInts& rhs) const {
    // implement less-than comparison here
  }
}; 
```

然后使用[std::map](http://en.cppreference.com/w/cpp/container/map)：

```
std::map<FourInts, int> m; 
```

如果您在标准库容器数组中组织整数，则可以使用[std::lexicographical_compare](http://en.cppreference.com/w/cpp/algorithm/lexicographical_compare)进行小于比较。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T06:10:28.057

一个简单的功能就足够了吗？

```
int get_magic_number( int a, int b , int c, int d)
{
   if( (a==4)&&(b==2)&&(c==1)&&(d==1) ) return 42;
   if( (a==4)&&(b==2)&&(c==1)&&(d==2) ) return 86;
   ...
   throw SomeKindOfError();
} 
```

现在这可能看起来很难看，但您可以轻松地创建一个宏来美化它。（或者一个助手类或其他什么......我只会展示宏，因为我认为它很容易。

```
int get_magic_number( int a, int b , int c, int d)
{
   #DEFINE MAGIC(A,B,C,D,X) if((a==(A))&&(b==(B))&&(c==(C))&&(d==(D))) return (X);
   MAGIC(4,2,1,1,  42);
   MAGIC(4,2,1,2,  86);
   ...
   #UNDEF MAGIC
   throw SomeKindOfError();
} 
```

如果您真的很在意，您可能也可以制作一个 constexpr 版本，您将永远无法使用`std::map`基于解决方案的解决方案。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T05:24:48.003

如果您知道总是有 4 个整数映射到 1 个整数，我建议您使用：

```
std::map< boost::tuple<int, int, int, int>, int > 
```

已经为元组定义了比较（字典式）。

# android - 获取设备 ID 时出现空指针异常

> ID：12171238
> 
> 赞同：0
> 
> 时间：2012-08-29T05:09:05.623
> 
> 标签：android

在运行 Android GingerBread 2.3.6 应用程序的 Samsung Galaxy Player 3.6 中获取设备 ID 时崩溃。使用的代码行：

```
((TelephonyManager) activity.getSystemService( Context.TELEPHONY_SERVICE )).getDeviceId(); 
```

这行代码返回一个空值。它不适用于上述设备。我们已经在 HTC One X、LG 设备和 Morola Droid 以及三星 Ace 和三星 S 上进行了测试。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T05:12:17.817

请检查您是否在清单文件中向应用程序提供了 READ_PHONE_STATE 权限。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T05:54:11.710

这是因为 Galaxy Player 不是电话。因此它没有`TELEPHONY_SERVICE`.

要获取每个 Android 设备的唯一标识符，请参阅此官方博客文章：

[http://android-developers.blogspot.com/2011/03/identifying-app-installations.html](http://android-developers.blogspot.com/2011/03/identifying-app-installations.html)

# playframework-2.0 - 如何与非播放应用程序共享模型

> ID：12171243
> 
> 赞同：1
> 
> 时间：2012-08-29T05:09:54.197
> 
> 标签：playframework-2.0

我有一个播放应用程序，我正在构建一个应用程序，该应用程序将在前端使用播放框架，但也会有一些“工作节点”，播放将通过 JMS 队列进行通信。

这些工作节点是轻量级的，因此不会运行完整的框架。

我想在播放框架应用程序和工作节点中嵌入相同的模型，以便通过 JMS 轻松传递对象但是要在播放框架中使用 ebean，我需要扩展对象`play.db.ebean.Model`，这在工作节点，因为它们没有在游戏中运行。

做这个的最好方式是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T16:02:04.443

Play的[play.db.ebean.Model 类](http://www.playframework.org/documentation/api/2.0.3/java/play/db/ebean/Model.html)只是一个帮助器，它提供了一些有用的方法（save()、update()、delete()...）。他们只是调用 Ebean 的静态方法，例如`play.db.ebean.Model`类的 save() 方法实现是：

```
/**
 * Saves (inserts) this entity.
 */
public void save() {
    Ebean.save(this);
} 
```

您可以在不继承模型的情况下创建模型对象：

```
@Entity
public class User {

   @Id
   private Long id;

   @Column
   private String name;

   // getters and setters
} 
```

但是，如果您不想依赖 Ebean 类，您应该编写包含静态方法的其他类（在 Java EE 世界中也称为“服务”或“DAO”层）：

```
public class UserDAO {

   public static Finder<Long,User> find = new Finder<Long,User>(Long.class, User.class); 

   public static void save(User aUser) {
      Ebean.save(aUser);
   } 
} 
```

然后，您必须将模型对象打包到 JAR 中，并在 Play 和 JMS 系统中添加此依赖项。但是在您的 JMS 系统中，不要忘记向模型对象中导入的 JPA 注释添加依赖关系。

# java - 卡尺：JVM 抛出 OutOfMemoryError 异常

> ID：12171246
> 
> 赞同：0
> 
> 时间：2012-08-29T05:10:14.163
> 
> 标签：java, jvm, caliper

我正在使用 google caliper 对一种方法运行一个非常简单的基准测试。我收到以下异常。

```
Exception in thread "main" java.lang.OutOfMemoryError: Java heap space
    at com.code4refernce.caliper.SimpleCaliperTest.timeStringLen(SimpleCaliperTest.java:24)
    at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:616)
    at com.google.caliper.SimpleBenchmark$1.run(SimpleBenchmark.java:125)
    at com.google.caliper.TimeMeasurer.measureReps(TimeMeasurer.java:174)
    at com.google.caliper.TimeMeasurer.warmUp(TimeMeasurer.java:62)
    at com.google.caliper.TimeMeasurer.run(TimeMeasurer.java:122)
    at com.google.caliper.InProcessRunner.run(InProcessRunner.java:74)
    at com.google.caliper.InProcessRunner.run(InProcessRunner.java:49)
    at com.google.caliper.InProcessRunner.main(InProcessRunner.java:103) 
```

我不明白为什么我会得到这个例外。我试图增加 JVM 内存然后我也得到了这个异常。

基准代码如下。

```
package com.code4refernce.caliper;
import java.util.Random;
import java.util.regex.Pattern;

import com.google.caliper.Param;
import com.google.caliper.SimpleBenchmark;

public class SimpleCaliperTest extends SimpleBenchmark {
    String regex = "(\\d{3}-\\d{3}-\\d{4})|(\\d{10})";
    Pattern REGEX_PATTERN = Pattern.compile(regex);

    String mdn[];
    Random random;
    @Param
    int index;

    @Override 
    protected void setUp() {
         random = new Random(0);
        mdn = new String[4];
            mdn[0] = "098412sdfasdf8000";
            mdn[1] = "11345";
            mdn[2] = "1423567890";
            mdn[3] = "123-456-7890";
    }

    public Boolean[] timeStringLen(int reps){
        Boolean results[] = new Boolean[reps];

        for(int i = 0; i<reps; i ++){

            results [i]= mdnCheckRegularMethod(mdn[index]);
        }
        return results;
    }
    public Boolean[] timeRegex(int reps){
        Boolean results[] = new Boolean[reps];
        for(int i = 0; i<reps; i ++){

            results[i]=mdnCheckRegEx(mdn[index]);
        }
        return results;
    }
    private boolean mdnCheckRegularMethod(String mdn){
        boolean result = false;

        if(mdn.length()==10){
            try{
                Integer.parseInt(mdn);
                result = true;
            }catch(Exception e){
                result = false;
            }
        }
        else if(mdn.length() == 13){
            byte[] bmdn = mdn.getBytes();
            for(int i = 0; i<bmdn.length; i++){
                if((i == 3 || i == 6) && bmdn[i] == '-'){}
                else if(bmdn[i] >= '0' && bmdn[i]<='9'){}
                else{
                    result = false;
                    break;
                }
            }
        }
        else{
            result = false;
        }
        return result;
    }

    private boolean mdnCheckRegEx(String mdn){
        return REGEX_PATTERN.matcher(mdn).matches();
    }
} 
```

以及运行 caliper 基准测试的主类。

```
package com.code4refernce.caliper;
import com.google.caliper.Runner;

    public class CaliperRunner {
        public static void main(String[] args) {
            String myargs[] = new String[2];
            myargs[0] = new String("-Dindex=0,1,2,3");
            myargs[1] = new String("-Jmemory=-Xms1024m ");
            Runner.main(SimpleCaliperTest.class, myargs);
        }
    } 
```

我不明白这里出了什么问题。有人可以指出吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T10:54:39.480

您的方法最多`timeStringLen(int reps)`可以调用. 您可以通过开关为 VM 提供更多内存，但最好不要分配不必要的大数组，因为它根本不需要：`reps``Integer.MAX_VALUE``-Xmx`

```
public boolean timeStringLen(int reps){
    boolean result = false;

    for(int i = 0; i<reps; i ++){
        result ^= mdnCheckRegularMethod(mdn[index]);
    }
    return result;
} 
```

这做同样的工作，返回值的唯一原因是防止 JIT 完全优化它。异或在这里就足够了，计算方法返回 true 的情况是另一种可能性。

* * *

但是您的基准测试很可能还有另一个问题：`reps`used 的高值表明它的运行速度比我预期的要快。每次迭代的结果似乎都是一样的，我猜你的循环被优化为类似的东西

```
result[i] = Boolean.TRUE 
```

我认为您不想测量。使用类似的东西

```
Random random = new Random(0);
mdn = new String[4][1<<16];
for (int i=0; i<mdn.length; ++i) {
    mdn[0][i] = String.format("%03ddsfasdf00000", random.nextInt(1000));
    mdn[1][i] = String.format("%04d", random.nextInt(10000));
    mdn[2][i] = String.format("%10d", random.nextInt((int) 1e10));
    mdn[3][i] = String.format("%03d-%03d-%03d", random.nextInt(1000), random.nextInt(1000), random.nextInt(1000));
} 
```

有助于。

# jquery - jquery 切换按钮添加删除类

> ID：12171248
> 
> 赞同：0
> 
> 时间：2012-08-29T05:10:20.477
> 
> 标签：jquery, button, checkbox

我试图遵循 jquery 文档上的规范，但我无法以编程方式初始化按钮的标签并向其添加/删除类。

请看一下这个jsbin中的几行。

[http://jsbin.com/akinod/2/edit](http://jsbin.com/akinod/2/edit)

**HTML**

```
<label for="xAxisToggleBtn"></label>
<input type="checkbox" id="xAxisToggleBtn"/> 
```

**CSS**

```
.on {
    background-color: green;
    color: white;   
}

.off {
    background-color:brown;
    color: white;   
} 
```

**Javascript**

```
 $(window).load(function() {

      $("#xAxisToggleBtn").button();

      $('#xAxisToggleBtn').die('click').live('click', function(){

                if($(this).is(':checked')){
                    $(this).button('option', 'label', 'Turn Off');

                  //why I cannot add/remove classes to change the theme?
                    $(this).addClass('on');
                    $(this).removeClass('off');

                } else {
                    $(this).button('option', 'label', 'Turn On');

                   //why I cannot initialize add/remove classes to change the theme?
                    $(this).addClass('off');
                    $(this).removeClass('on');

                }
        });

});

//why I cannot initialize the label here?
$("#xAxisToggleBtn").button('option', 'label', 'Turn Off');
$("#xAxisToggleBtn").attr('checked', true);
$("#xAxisToggleBtn").addClass('on'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:46:46.387

您必须将类添加到按钮小部件，您的样式将需要覆盖 jQuery-UI 自己的，并确保在尝试操作之前加载元素。

```
$(function() {
    $("#xAxisToggleBtn").attr('checked', true)
      .addClass('on').button({'label': 'Turn Off'})
      .button('widget')
      .addClass('off');        

      $('#xAxisToggleBtn').on('click', function(){                
                if($(this).is(':checked')){
                    $(this).button('option', 'label', 'Turn Off');
                } else {
                    $(this).button('option', 'label', 'Turn On');
                }
                $(this).button('widget').toggleClass('on off');
        });

}); 
```

```
.on {
    background: green!important;
    color: white!important;    
}

.off {
    background:brown !important;
    color: white !important;    
} 
```

[演示](http://jsfiddle.net/mowglisanu/TCycA/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T05:35:30.407

我在这里再次进行了更改：http: [//jsfiddle.net/5g2Y6/2/](http://jsfiddle.net/5g2Y6/2/)

注意：这是一个黑客。按钮插件没有任何 CSS 选项。请查看更多关于按钮插件的文档。

PS：不要使用已弃用的“实时”方法。使用 jquery "on" 方法。

# jquery - 无法显示隐藏跨度

> ID：12171252
> 
> 赞同：0
> 
> 时间：2012-08-29T05:11:00.363
> 
> 标签：jquery, html

我想在单击按钮时显示隐藏的跨度。我的 html 看起来像：

```
<ul>
    <li>
         <span  class="sfFormlabel" style="display:none" >show</span>
        <div id="div1">
          <input type="button" value="show" class="show">
        </div>
    </li>
    <li>
         <span  class="sfFormlabel" style="display:none" >show1</span>
        <div id="div2">
          <input type="button" value="show" class="show">
        </div>
    </li>
</ul> 
```

和jQuery：

```
$('.show').live("click", function () {
    alert('test');
$(this).parent('li').children('span').show();
}); 
```

但我没有显示隐藏的跨度。
[jsfiddle](http://jsfiddle.net/shree/b43V7/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:16:39.123

您需要使用`.parents`or`.closest`代替`.parent`.

```
$(this).parents('li').children('span').show(); 
```

或者

```
$(this).closest('li').children('span').show(); 
```

***PS：*** `.live` is 已弃用，请`.on`改用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T05:16:14.067

这是一个简单的解决方案：

```
$(document).ready(function() {
    $("#about").css("background-color","#222222");  

    $('.show').live("click", function () {
    alert('test');
$('.sfFormlabel').show();
});

}); 
```

# android - 如何以编程方式在android中拨打电话时显示联系人姓名

> ID：12171253
> 
> 赞同：1
> 
> 时间：2012-08-29T05:11:01.510
> 
> 标签：android, phone-call, dialing

在 Android 中拨打电话时无法显示联系人姓名。

**这是我的代码：**

```
String callTo = "9999900000";
String callername="xxx";    
Intent callIntent = new Intent(Intent.ACTION_CALL);                 
callIntent.setData(Uri.parse("tel:"+ callTo));                  
String srvname=Context.TELEPHONY_SERVICE;    
TelephonyManager tm=(TelephonyManager)getSystemService(srvname);                     
startActivity(callIntent); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-12-18T14:19:00.350

为此，您需要创建一个广播接收器并在*OnReceive*方法中检查一个`OUTGOING CALL`状态，然后从中获取呼叫者号码，然后创建另一个方法来检查您的手机中是否存在联系人，以便在该方法中传递该联系人号码。

下面是来电者姓名广播接收器的代码

```
package com.example.user.caller;

import android.content.BroadcastReceiver;
import android.content.ContentResolver;
import android.content.Context;
import android.content.Intent;
import android.database.Cursor;
import android.net.Uri;
import android.os.Bundle;
import android.provider.ContactsContract;

import android.telephony.TelephonyManager;
import android.widget.Toast;

/**
 * Created by Vinod Dirishala on 11/27/2016.
 */
public class MyReceiver extends BroadcastReceiver {

    String phoneNumber;
    String name;

    @Override
    public void onReceive(Context context, Intent intent) {
        String action=intent.getAction();
        Bundle extras=intent.getExtras();
        if(action.equals("android.intent.action.PHONE_STATE")){
            String state=extras.getString(TelephonyManager.EXTRA_STATE);
            if(state.equals(TelephonyManager.EXTRA_STATE_RINGING)){

                String incomingnumber=extras.getString(TelephonyManager.EXTRA_INCOMING_NUMBER);
                String msg = "";
                //  String person = getCname(context,msg);

                String names = getContactDisplayNameByNumber(incomingnumber,context);

                //  Toast.makeText(context,"Caller Name"+person,Toast.LENGTH_SHORT).show();

                displayToast(context,"phone is ringing"+incomingnumber+ "calling you mr."+names);

                Intent intent1  = new Intent(context,
                        MainActivity.class);
                intent.putExtra("contactname", names);  //<<< put sms text
                context.startActivity(intent);
                //  displayToast(context,"phone is ringing"+person);
                // displayToast(context,"Vinod your  phone is ringing"+contacname);
            }else if(state.equals(TelephonyManager.EXTRA_STATE_IDLE)){
                Toast.makeText(context,"phone in idle",Toast.LENGTH_SHORT).show();
            }else if(state.equals(TelephonyManager.EXTRA_STATE_OFFHOOK)){
                Toast.makeText(context,"phone in offhook",Toast.LENGTH_SHORT).show();
            }

        }else if(action.equals("android.provider.Telephony.SMS_RECEIVED")){

            displayToast(context,"SMS Recived");
        }
    }

    private void displayToast(Context context,String msg){
        Toast.makeText(context,msg,Toast.LENGTH_LONG).show();
    }
    public String getCname(Context context,String name)
    {
        ContentResolver cr=context.getContentResolver();
        Cursor phones = cr.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null,null,null, null);
        while (phones.moveToNext())
        {
            name = phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));
            phoneNumber = phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
            System.out.println(" Phone Nuber.................."+phoneNumber);
            //  aa.add(name);
            // aa.add(phoneNumber);

        }
        return name;
    }

    public String getContactDisplayNameByNumber(String number,Context context) {
        Uri uri = Uri.withAppendedPath(ContactsContract.PhoneLookup.CONTENT_FILTER_URI, Uri.encode(number));
        name = "Incoming call from";

        ContentResolver contentResolver = context.getContentResolver();
        Cursor contactLookup = contentResolver.query(uri, null, null, null, null);

        try {
            if (contactLookup != null && contactLookup.getCount() > 0) {
                contactLookup.moveToNext();
                name = contactLookup.getString(contactLookup.getColumnIndex(ContactsContract.Data.DISPLAY_NAME));
                // this.id =
                // contactLookup.getString(contactLookup.getColumnIndex(ContactsContract.Data.CONTACT_ID));
                // String contactId =
                // contactLookup.getString(contactLookup.getColumnIndex(BaseColumns._ID));
            }else{
                name = "Unknown number";
            }
        } finally {
            if (contactLookup != null) {
                contactLookup.close();
            }
        }

        return name;
    }

} 
```

要下载代码，请访问Vinod Dirishala 完成的此[链接](https://github.com/VinodDirishala/AndroidApplicationDevelopment/blob/master/Caller.zip)

# html - 在 Firefox 中启用 sqlite HTML5

> ID：12171255
> 
> 赞同：0
> 
> 时间：2012-08-29T05:11:13.540
> 
> 标签：html, sqlite, firefox

我想在 Firefox 中使用 HTML5 sqlite，但无法使用代码生成数据库。

我发现 Firefox 不支持它。有没有办法在firefox中使用它。

这在 chrome 中运行良好（我正在使用两种浏览器的最新版本 - Chrome 和 Firefox）。下面的代码是在sqlite中创建db的代码

```
var db = openDatabase("chartDB", "1.0", "this is vendorbuyer database", 200000); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:52:05.970

Firefox 不支持 WebSQL（浏览器中的 SQLite）并且永远不会支持它（它已被 W3C 贬低）。您可以改用 IndexedDB ( [https://developer.mozilla.org/en-US/docs/IndexedDB](https://developer.mozilla.org/en-US/docs/IndexedDB) ) 或 localStorage ( [https://developer.mozilla.org/en-US/docs/DOM/Storage](https://developer.mozilla.org/en-US/docs/DOM/Storage) )，它们是 (或将）在所有浏览器中都支持。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-10T23:07:37.913

Having several applications based on webSql, it frustrated me i couldn't run them on Firefox at all. As the [Firefox Add-On for WebSQL](https://addons.mozilla.org/de/firefox/addon/html5-websql-for-firefox/) didn't work at all for me, i started on a [WebSQL Polyfill](https://github.com/Philzen/WebSQL-Polyfill).

# eclipse - 无法使用 EGit 向上游推送

> ID：12171261
> 
> 赞同：2
> 
> 时间：2012-08-29T05:11:28.450
> 
> 标签：eclipse, git, egit

我在 Eclipse 中使用 EGit 来拉和推。

我的配置是：

```
 [remote "origin"]  
    fetch = refs/heads/*:refs/remotes/origin/*
    push = refs/heads/*:refs/remotes/origin/* 
```

本地分支是 master 远程跟踪分支是 origin/master

当我推送时，它会出现“origin/master:master[最新]”。实际上远程分支不是最新的。如果我配置错误的方式，我会徘徊。

有时我更改不同的配置，我会得到“创建一个新分支”（这是错误的，因为我只是推送一些提交）或“拒绝 - 不快进”（这很奇怪，因为我是遥控器的唯一用户存储库，我已经在推送之前获取）

![一只忙碌的猫](../Images/6a4382a0909ade1fb45ec62629d2196f.png) ![一只忙碌的猫](../Images/d03528382d29a6e668fac88d5d5ad1fe.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T05:44:33.520

如果您没有处于[分离的 HEAD 模式](http://wiki.eclipse.org/EGit/User_Guide#Resetting_to_a_Branch_or_a_Tag)，请与 Egit 联系：

![签出 EGit 中的分支](../Images/6f7cc94b449104abc9cccf5b3c457f50.png)

> 如果 HEAD 是“分离的”，即不是指向本地分支的尖端，而是指向提交或标记，则树中可能不会出现或出现多个“签出”标记，因为任何数量的远程分支或标记可能指向当前签出的提交。
> 任何分支都不会记录您在 HEAD 分离时所处的状态（这是自然的 --- 您不在任何分支上）。

（有关可能的原因，请参阅“[为什么 git 分离了我的头？ ”，以及“](https://stackoverflow.com/a/3965714/6309) [Git：如何协调分离的 HEAD 与主/原点？](https://stackoverflow.com/questions/5772192/git-how-can-i-reconcile-detached-head-with-master-origin) ”以进行协调）。

这是推送到远程仓库时出现“最新”消息的常见原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T00:45:35.097

![](../Images/35e0a072a5d5a1db96ffb355093ee50a.png)

成功推送到上游后，比如0.3.9版本，我继续在本地修改代码，提交0.5.0版本。本次提交应基于 0.3.9 版本。我不知道为什么。这就是为什么我每次都必须进行合并，有时合并会使我的代码变得混乱。

# c# - 要在字符串中更改的格式

> ID：12171262
> 
> 赞同：0
> 
> 时间：2012-08-29T05:11:29.707
> 
> 标签：c#, datetime

我的字符串包含值：`08/20/2012-10.32.19`

我希望字符串数据类型本身的输出为`08/20/2012 10:32:19`[格式为`MM/dd/yyyy HH:mm:ss`]。

请帮忙！！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-29T05:12:48.827

您可以将字符串转换为`DateTime`然后使用`.ToString()`所需的格式。

```
DateTime dt = DateTime.ParseExact("08/20/2012-10.32.19", "M/d/yyyy-HH.mm.ss",CultureInfo.InvariantCulture);
string test = dt.ToString("MM/dd/yyyy HH:mm:ss"); 
```

测试会有

```
08/20/2012 10:32:19 
```

**编辑：** 基于评论

您可以指定多种日期格式，然后进行相应的解析。

```
string[] formats = new string[] { "M/d/yyyy-HH.mm.ss", "yyyy-M-d-HH.mm.ss" };
string dtTest1 = DateTime.ParseExact("08/20/2012-10.32.19",
                                     formats, 
                                     CultureInfo.InvariantCulture, 
                                     DateTimeStyles.None)
                                     .ToString("MM/dd/yyyy HH:mm:ss"); 
```

或者在一行中

```
string dtTest2 = DateTime.ParseExact("08/20/2012-10.32.19",
                                     new string[] { "M/d/yyyy-HH.mm.ss", "yyyy-M-d-HH.mm.ss" }, 
                                     CultureInfo.InvariantCulture, 
                                     DateTimeStyles.None)
                                     .ToString("MM/dd/yyyy HH:mm:ss"); 
```

这将满足您的两种日期情况：

```
08/20/2012-10.32.19
2012-08-20-10.32.19 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T05:34:15.580

您可以使用非常简单的字符串，因为您的字符串只需要格式化

```
String a="08/20/2012-10.32.19".Replace('-', ' ').Replace('.', ':'); 
```

我希望这对你有用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T05:42:40.943

我们有各种内置格式`ToLongDateTime`，如`ToShortdateTime`.Net

```
string formatDate = txtdte.ToShortDateTime(); 
```

这将返回字符串，因此不需要任何其他转换。如果您对格式有特定的要求，则 ToString 采用类似的参数`ToString("dd/mm/yyyy")`

# jqplot - jqplot使用rails不渲染饼图

> ID：12171263
> 
> 赞同：0
> 
> 时间：2012-08-29T05:11:42.323
> 
> 标签：jqplot

我正在尝试在 jqplot 中创建一个饼图。我不确定我是否在这里遗漏了任何东西，但图表根本没有呈现。

下面是我在 Rails 中的dashboard_controller 中的一种操作方法：

```
def index
    @trans = Transaction.joins(:category).group("categories.name").sum(:amount)
    respond_to do |format|
      format.html # index.html.erb
      format.json { render json: @trans }
    end
 end 
```

这是我执行action方法后得到的json数据。

```
{"Bills & Utilities":1019.11,"Uncategorized":196.57,"Home":30.29,"Entertainment":300.0,"Food & Dining":465.45,"Personal Care":63.92,"Auto & Transport":571.44} 
```

这是我的 html 和 javascript

```
<script type="text/javascript" src="/assets/jqplot/jqplot.js"></script>
<script type="text/javascript" src="/assets/jqplot/plugins/jqplot.pieRenderer.min.js"></script>
<script type="text/javascript" src="/assets/jqplot/plugins/jqplot.ciParser.js"></script>
<script type="text/javascript" src="/assets/jqplot/plugins/jqplot.json2.js"></script>
<link rel="stylesheet" type="text/css" href="/assets/jqplot/jqplot.css" />

<div id="chart10" style="margin-top:20px; margin-left:20px; width:460px; height:300px;"></div>

<script class="code" type="text/javascript">
    $(document).ready(function() {
        $.getJSON('/dashboard/index.json', function(data){
            //var data = [['Heavy Industry', 12],['Retail', 9], ['Light Industry', 14]];
            plot = jQuery.jqplot('chart10', data, {
                title: ' ',
                //dataRenderer: $.jqplot.ciParser,
                seriesDefaults: {
                    shadow: true,
                    renderer: $.jqplot.PieRenderer,
                    rendererOptions: {
                        fill: false,
                        sliceMargin: 4,
                        showDataLabels: true
                        }
                },
                legend: { show:true }
            });
        });
    }); // document.ready
</script> 
```

有什么想法可能是错的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T13:42:04.037

我错过了什么吗？您的 json 返回变量`data`如下所示：

```
{"Bills & Utilities":1019.11,"Uncategorized":196.57,"Home":30.29,"Entertainment":300.0,"Food & Dining":465.45,"Personal Care":63.92,"Auto & Transport":571.44} 
```

虽然 jqPlot 想要这样：

```
[["Bills & Utilities",1019.11],["Uncategorized",196.57],["Home",30.29],["Entertainment",300.0],["Food & Dining",465.45],["Personal Care",63.92],["Auto & Transport":571.44]] 
```

**编辑评论**

以正确的格式放置数据：

```
data = {"Bills & Utilities":1019.11,"Uncategorized":196.57,"Home":30.29,"Entertainment":300.0,"Food & Dining":465.45,"Personal Care":63.92,"Auto & Transport":571.44};

jqData = []
$.each(data, function(k,v){jqData.push([k,v]);}); 
```

[在这里](http://jsfiddle.net/5dFYW/)看小提琴。

# android - ImageView 填充不同的屏幕尺寸，但保持纵横比

> ID：12171265
> 
> 赞同：0
> 
> 时间：2012-08-29T05:11:57.350
> 
> 标签：android, android-layout, fullscreen

我在图像视图中有一个矩形图像。我想在保持**纵横比**的同时将图像适合**不同的屏幕尺寸**。

 **在较小的屏幕上它工作正常，但在较大的屏幕上它不会被拉伸。图像底部仍然存在一些间隙。

这是我的代码：

```
LayoutParams params = new LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.FILL_PARENT); 
LayoutParams params1 = new LayoutParam(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);

mMainLayout = new LinearLayout(context);
mMainLayout.setLayoutParams(params);

backgroundImage = new ImageView(context);
backgroundImage.setId(0);
backgroundImage.setAdjustViewBounds(true);
backgroundImage.setScaleType(ScaleType.FIT_CENTER);
backgroundImage.setLayoutParams(params1);
backgroundImage.setImageResource(R.drawable.background_circles_en); 

mMainLayout.addView(backgroundImage); 
```

我使用了多种 scaleTypes:的多种组合，`fill_parent`并且它们都以正确的纵横比绘制图像，但它们都没有真正放大图像和 ImageView 本身，导致 TextViews 一直被推下屏幕、ImageView 内的空白区域或未缩放的图像。`wrap_content``fitCenter``centerInside`

请给出正确的组合，以便它适用于不同的屏幕尺寸。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T05:15:55.367

Privide ScaleType FIT_XY，它将图像缩放到 x 和 y 维度，而与纵横比无关。**

# objective-c - UITableView 代表没有被调用

> ID：12171266
> 
> 赞同：0
> 
> 时间：2012-08-29T05:11:57.553
> 
> 标签：objective-c, ios, uitableview, delegates

我在运行时创建一个视图并添加一个 UITableView 作为它的子视图。我还将 tableview 的委托定义为 self 。

但是仍然没有调用 UITableView 代表

@interface cViewController : UIViewController

```
RouteShowView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 320, 460)];
[RouteShowView setBackgroundColor:[UIColor blueColor]];

table = [[UITableView alloc] initWithFrame:CGRectMake(0, 50, 320, 410) style:UITableViewStylePlain];
table.delegate = self;
UIButton * Go = [UIButton buttonWithType:UIButtonTypeRoundedRect];
Go.frame = CGRectMake(0, 4, 70, 42);
[Go setTitle:@"<< BACK" forState:UIControlStateNormal];
[Go addTarget:self action:@selector(goBack) forControlEvents:UIControlEventTouchUpInside];
[Go setBackgroundColor:[UIColor blackColor]];

[RouteShowView addSubview:table];
[RouteShowView addSubview:Go];

[self.view addSubview:RouteShowView]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:20:06.897

假设您在**.h文件中添加了****UITableViewDelegate、UITableViewDataSource** ......我认为您在**.m**文件中错过了这段代码

 ****```
table.dataSource = self; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T08:26:56.300

缺少的东西是

```
//.h file
@interface SimpleTableView : UITableView <UITableViewDelegate, UITableViewDataSource>
{
}
@end

// in .m file
table = [[UITableView alloc] initWithFrame:CGRectMake(0, 50, 320, 410) style:UITableViewStylePlain];

// set delegated object
table. delegate = self;

// set source for data
table.dataSource = self; 
```

并实现在 UITableView 文档下定义的 @required 协议

```
@protocol UITableViewDataSource<NSObject>

@required

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section;
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T05:36:47.070

首先尝试通过 xcode 上的代码完成来检查委托方法，如果您在类中获得了正确的委托，xcode 会自动检测您的委托方法。

我猜你可能不会被宣布

```
@interface SimpleTableView : UITableView <UITableViewDelegate, UITableViewDataSource> 
```****

# mysql - IBM Worklight - 运行时：org.apache.commons.dbcp.SQLNestedException：无法加载 JDBC 驱动程序类 'com.mysql.jdbc.Driver

> ID：12171276
> 
> 赞同：0
> 
> 时间：2012-08-29T05:13:06.063
> 
> 标签：mysql, sql, ibm-mobilefirst, worklight-adapters

我是 IBMWorklight 的初学者。我收到此错误：运行时：org.apache.commons.dbcp.SQLNestedException：无法加载 JDBC 驱动程序类 'com.mysql.jdbc.Driver' 当我右键单击时 - 运行方式 - 调用适配器名称上的 Worklight 过程：SQLAdapter1。我的 SQLAdapter1.xml 文件具有以下提到的编码：

```
<connectivity>
        <connectionPolicy xsi:type="sql:SQLConnectionPolicy">
                <dataSourceDefinition>
                    <driverClass>com.mysql.jdbc.Driver</driverClass>
                    <url>jdbc:mysql://localhost:3306/prem</url>
                    <user>myPassword</user>
                    <password>myPassword</password>
                </dataSourceDefinition>
        </connectionPolicy>
        <loadConstraints maxConcurrentConnectionsPerNode="5" />
    </connectivity>
    <procedure name="getAccounts" /> 
```

我的 SQLAdapter1-impl.js 文件有下面提到的编码

```
var getAccountsTransactionsStatement = WL.Server.createSQLStatement(
" select * from accounts"
);
function getAccounts(){
return WL.Server.invokeSQLStatement({
preparedStatement : getAccountsTransactionsStatement ,
parameters : []
});
} 
```

任何帮助。请紧急。非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T08:24:06.753

将 MySQL Connector/J 驱动程序 .jar 文件添加到项目的 server\lib 文件夹中。
您可以从以下网址下载驱动程序：[http ://dev.mysql.com/downloads/connector/j/](http://dev.mysql.com/downloads/connector/j/)

# ruby-on-rails-3 - 2 级嵌套表单，带有acts_as_commentable 和nested_form gem

> ID：12171277
> 
> 赞同：1
> 
> 时间：2012-08-29T05:13:09.490
> 
> 标签：ruby-on-rails-3, haml, nested-forms, acts-as-commentable

我正在使用[nested_form](https://github.com/ryanb/nested_form)和[acts_as_commentable](https://github.com/jackdempsey/acts_as_commentable)

我希望能够向问题或解决方案添加评论。一个问题有很多解决方案（想想stackoverflow，你不会错的）。

对于下面的嵌套表单，我如何将 Solution.comments 传递给 link_to_add 帮助器（请参阅#comment 4th line from end）？目前，在特定解决方案下方输入的评论被分配给父问题（提交时），即使帮助程序嵌入在解决方案字段的 fields_for 中。

（**注意**：如果我在 Rails 控制台中通过 Solution.comments.create 添加评论，则当我重新显示时，评论会在解决方案下正确显示，所以我很确定这只是我需要修复的 link_to_add 帮助器调用。

有人有什么想法吗？

这是（haml）嵌套形式

```
= nested_form_for @question, :html => { :class => 'form' } do |f|
  .control-group
    = f.fields_for :comments do |comment_form|
      = comment_form.text_field :comment
      = comment_form.link_to_remove "Remove Comment"
    %p= f.link_to_add "Add a comment", :comments
  .form-actions
    = f.submit nil, :class => 'btn btn-primary'
  .control-group
    = f.fields_for :solutions do |solution_form|
      = solution_form.text_area :solution
      = solution_form.link_to_remove "Remove Solution"
      %br
      = solution_form.fields_for :comments do |comments_form|
        = comments_form.text_field :comment
        = comments_form.link_to_remove "Remove Comment"
      # I believe the below line is the problem
      %p= solution_form.link_to_add "Add Comment", :comments
    %p= f.link_to_add "Add Solution", :solutions
  .form-actions
    = f.submit nil, :class => 'btn btn-primary' 
```

# ios - 团队中的项目太少

> ID：12171278
> 
> 赞同：17
> 
> 时间：2012-08-29T05:13:25.960
> 
> 标签：ios, certificate, refresh, provisioning, organizer

我正在尝试使用 XCode 和我的开发人员帐户设置一台新机器，并在尝试从 Organizer 刷新配置文件时遇到以下错误：

> 属性/团队/实体/开发人员中的项目太少

我已遵循[此线程](https://stackoverflow.com/questions/11616493/xcode-too-few-items-in-teams-error-when-refreshing-provisioning-profiles)中的所有建议，但无济于事。

似乎这是钥匙串中存在多个/不正确身份的问题，但到目前为止我还无法修复它，而且在野外似乎很少有关于这个问题的信息。

我已经尝试了以下所有方法：

1.  删除我的钥匙串中所有与开发相关的证书
2.  通过 iOS 开发中心撤销/重新颁发开发证书。
3.  注销所有其他 Apple 相关服务（iTunes、App Store 等）。
4.  通过 App Store 重新安装 XCode。

有没有其他人有这个问题？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-29T13:09:06.497

这东西真是太令人沮丧了。不确定它是否会有所帮助，但我快照了我在 KeyChain 中的内容。当您看到一个披露三角形时，这意味着证书下有一个密钥。

![在此处输入图像描述](../Images/9645f975e25c73090caad3f5ba7dc124.png) ![第二枪](../Images/f590a403c32946d7d33da59463c768ad.png)

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-08-29T20:09:32.107

通过遵循另一个开发者论坛的一些建议，现在能够解决这个问题。

这对我有用：

1.  退出所有需要 Apple ID 的服务（iTunes、App Store 等）
2.  从您的钥匙串中删除任何现有的开发者身份证书。
3.  打开钥匙串并从所有钥匙串中删除所有包含“daw2.apple.com”和“daw.apple.com”的钥匙。
4.  关闭并重新打开 XCode。
5.  打开管理器并单击刷新。系统将提示您输入您的帐户信息。确保输入与您的开发者帐户关联的 Apple ID。选中“存储在钥匙串中”复选框。
6.  它应该从您的开发人员帐户中获取证书和配置文件，并且错误应该消失了！

感谢 Ronald Lee 的回答。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-30T10:29:57.927

有一个更简单的方法：

1.  打开你的钥匙串
2.  按“类别”中的“所有元素”
3.  现在在钥匙串选项卡中选择“登录”
4.  在搜索栏中输入“daw.apple.com”
5.  删除此搜索的所有结果。
6.  重启 Xcode
7.  打开组织者
8.  刷新“配置文件”页面
9.  输入您的用户名和密码。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-20T08:16:19.010

@mutexmark 是对的:)

顺便说一句，这是苹果文档：

[https://developer.apple.com/legacy/library/technotes/tn2250/_index.html](https://developer.apple.com/legacy/library/technotes/tn2250/_index.html)

供应配置文件刷新故障排除：

如果您收到错误消息：

**Teams 中的项目太少**

执行以下步骤：

1.  打开钥匙串访问>密码类别。

2.  删除 daw.apple.com 和 daw2.apple.com 的条目

3.  重试供应配置文件刷新过程。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-01T00:23:38.740

在遵循此页面上的其他答案后，我仍然遇到了同样的问题。这是我需要做的事情才能使事情正常进行。

确保您已完全接受加入 Apple Developer 计划的邀请电子邮件。您的帐户管理员可以通过管理面板验证您的状态。

1.  单击“请验证您的电子邮件地址”电子邮件中的链接
2.  点击“提交”按钮完成注册

# apache - .htaccess RewriteRule 国家代码和网址

> ID：12171282
> 
> 赞同：5
> 
> 时间：2012-08-29T05:13:38.000
> 
> 标签：apache, .htaccess, url, mod-rewrite, url-rewriting

我正在使用以下 .htaccess 代码：

```
RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ca/(.+)$ /index.php?p=$1&c=ca [L,QSA]
RewriteRule ^fr/(.+)$ /index.php?p=$1&c=fr [L,QSA]
RewriteRule ^(.+)$ /index.php?p=$1 [L,QSA] 
```

为了达到以下效果：

```
http://xyz.com/ca/test -> http://xyz.com/index.php?p=test&c=ca
http://xyz.com/fr/test -> http://xyz.com/index.php?p=test&c=fr
http://xyz.com/test    -> http://xyz.com/index.php?p=test 
```

但它因服务器错误而失败。关于如何解决它的任何想法？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T05:29:11.607

`RewriteCond`条件仅适用于`RewriteRule`紧跟条件的情况。您的最后两条规则没有任何条件，并且规则正在循环。只需在最后 2 条规则前面添加 2 个条件：

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ca/(.+)$ /index.php?p=$1&c=ca [L,QSA]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^fr/(.+)$ /index.php?p=$1&c=fr [L,QSA]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.+)$ /index.php?p=$1 [L,QSA] 
```

# sql - 使用 TSQLUNIT 进行 SQL 单元测试

> ID：12171283
> 
> 赞同：0
> 
> 时间：2012-08-29T05:13:40.683
> 
> 标签：sql, sql-server, tsql, unit-testing, tsqlunit

在 SQL Server 2012 上使用 TSQLUNIT 对更新/插入存储过程进行单元测试时，我注意到一些奇怪的事情。当我调用**Exec tsu_RunTests**时，我的测试过程运行但出现意外行为。代码中调用我的原始存储过程的行已执行，但没有按预期对数据库表进行实际更新或插入。这种行为有正当理由吗？或者这是一个我需要非常注意的错误？我注意到，当我在测试过程之外执行相同的原始存储过程时，它工作正常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T06:04:55.563

您可以为每个存储过程使用 Default 参数，并`@IsTest`在 tsu_RunTests 中使用这些存储过程时将此参数设置为 true。

```
CREATE PROCEDURE orginal_proc
    --@parameter_name 
    @IsTest BIT = 0
AS
    if @IsTest <> 1 Begin
    --  Test statements
    End Else Begin
    --  statements
    End 
GO 
```

您还可以`@@NESTLEVEL`用于检查您的程序是直接执行还是由其他程序执行。

```
CREATE PROCEDURE orginal_proc
    --@parameter_name 
AS

    if @@NESTLEVEL <> 1 Begin
    --  Test statements
    End Else Begin
    --  statements
    End
GO 
```

**编辑：**存储过程代码必须如下所示：

```
If @@NESTLEVEL <> 1 Print 'Befor Update Message'
If @@NESTLEVEL = 1 Begin
   Update YourTable
   Set ...
End
If @@NESTLEVEL <> 1 Print 'After Update Message' 
```

# audio - ffmpeg 音频复制因管道失败

> ID：12171285
> 
> 赞同：2
> 
> 时间：2012-08-29T05:14:07.960
> 
> 标签：audio, ffmpeg, pipe

在命令行中，如果我运行：

```
ffmpeg -i inputVideo.mp4 -vn -f mp4 -acodec copy outputAudio.aac 
```

一切正常。但是，如果我做同样的事情，除了标准输出而不是输出文件（“pipe:1”而不是“outputAudio.aac”），那么我会收到这个错误：“无法为输出文件 #0 写入标头（不正确的编解码器参数？）”

非常感谢任何有 ffmpeg 经验的人的帮助

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:04:36.077

那么问题是你要一个文件名为 outputAudio.aac 的 mp4 文件。所以如果你检查 outputAudio.aac 它实际上是一个 mp4 文件。要编写 mp4 文件，ffmpeg 将需要一个可查找的文件描述符，而 stdout 不是。[这是因为 mp4 moov atom 写在文件开头的末尾。
如果您希望将 aac 转储到标准输出，则应要求提供 adts 文件

```
ffmpeg -i input.mp4 -acodec copy -vn -f adts -strict -2 - 
```

如果你需要它在一个 mp4 .. 之后将它混合到一个文件中

mp4 不是流媒体格式：请参阅此处[从 Android 媒体记录器流式传输后修复 3GP 文件，](https://stackoverflow.com/questions/11994470/fix-3gp-file-after-streaming-from-android-media-recorder/12167100#12167100)了解我对解释这一点的不同问题的回答。

# drop-down-menu - chrome的下拉对齐问题

> ID：12171286
> 
> 赞同：0
> 
> 时间：2012-08-29T05:14:09.420
> 
> 标签：drop-down-menu

我对 Stackoverflow 的第一个问题。请帮助解决我的问题。我的项目有垂直下拉菜单（顶部）功能。它最初运作良好。但是当我在同一页面中包含第三方模态脚本时，下拉菜单（顶部）在 Chrome 和 Firefox 中未对齐，但在 IE 中运行良好。我的 chrome 版本 21.0.xxxx

这是我的网址[http://www.tcarts.in/dep_tamil.php](http://www.tcarts.in/dep_tamil.php)（在学院下，在页面中间，我包含了模态脚本）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T05:39:51.217

将*子* `div`菜单放在它们的*父菜单*之后，`td`然后在*css*上工作。. 您将获得*父菜单**下*的子菜单。

# android - OnItemClick 侦听器未响应操作

> ID：12171290
> 
> 赞同：0
> 
> 时间：2012-08-29T05:14:54.420
> 
> 标签：android

我有两个自动完成小部件，我已经像这样注册了 setOnItemClickListener

```
productTextView = (AutoCompleteTextView) findViewById(R.id.prodName_CB)
productTextView.setOnItemClickListener(this);

supplierTextView = (AutoCompleteTextView) findViewById(R.id.supplierName_CB);
supplierTextView.setOnItemClickListener(this);

    @Override
public void onItemClick(AdapterView<?> adapter, View view, int pos, long rowId) {
    Log.d("-----", "listener");
    if (view.getId() == R.id.supplierName_CB) {
        Log.d("-----", "inside Supplier wigdet");
        loadFilteredProducts(supplierTextView.getText().toString());
    }
    else if(view.getId() == R.id.prodName_CB)
    {
        //getSupplierName(productTextView.getText().toString());
        Log.d("-----", "inside Product wigdet");
    }
} 
```

我看到 Log.d("-----", "listener") 的 Log.d 消息，但我没有进入 if/else。我的代码有什么问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:25:07.770

尝试这个。对 AutoCompleteTextView 使用单独的 setOnItemClickListener。

```
 productTextView.setOnItemClickListener(new OnItemClickListener() 
 {
      public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,long arg3) 
      {
           // TODO Auto-generated method stub
      }
 });

 supplierTextView.setOnItemClickListener(new OnItemClickListener() 
 {
      public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,long arg3) 
      {
           // TODO Auto-generated method stub
      }
 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-11T17:56:38.210

在搜索了同样的问题后看到了这个帖子，但经过一些试验和错误后想出了我自己的解决方案。

我有两个列表视图，一个是自定义列表视图，另一个只是标准的多项目单击。

我的实现通过使用父级来捕获这两个事件

```
ListView obj1List;
List<Object1> selectedObject1s = new ArrayList<Object1>();
ListView obj2List;
List<Object2> selectedObject2s = new ArrayList<Object2();
@Override
public void onItemClick(AdapterView<?> parent, View view, int position,
        long id) {
    switch (parent.getId()) {
    case R.id.obj1_list:
        Object1 obj1 = (Object1) obj1List.getAdapter().getItem(position);
        CheckedTextView ctv = (CheckedTextView) view;
        if (ctv.isChecked()) {
            ctv.setChecked(false);
            selectedObject1s.remove(obj1);
        } else {
            ctv.setChecked(true);
            selectedObject1s.add(obj1);
        }
        break;
    // This catches the custom ListView w/ custom row cb_row_checked
    case R.id.obj2_list:
        Obj2 obj2 = ((Obj2ListAdapter) obj2List.getAdapter()).getItem(position);
        CheckBox cb = (CheckBox) view.findViewById(R.id.cb_row_checked);
        if (cb.isChecked()) {
            cb.setChecked(false);
            selectedObj2s.remove(obj2);
        } else {
            cb.setChecked(true);
            selectedObj2s.add(obj2);
        }
        break;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T06:38:08.193

您应该使用`adapter.getChildAt(position).getId()`代替`adapter.getId()`or `view`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T05:19:49.293

您应该使用 AdapterView.getId() 而不是 View.getId()。

原因 View 是 AutoCompleteTextView 的子级，而不是 AutoCompleteTextView。因此将 onItemClick 更改为以下内容：

```
public void onItemClick(AdapterView<?> adapter, View view, int pos, long rowId) {
    Log.d("-----", "listener");
    if (adapter.getId() == R.id.supplierName_CB) {
        Log.d("-----", "inside Supplier wigdet");
        loadFilteredProducts(supplierTextView.getText().toString());
    }
    else if(adapter.getId() == R.id.prodName_CB)
    {
        //getSupplierName(productTextView.getText().toString());
        Log.d("-----", "inside Product wigdet");
    }
} 
```

# objective-c - 如何用空值初始化字符串对象？

> ID：12171308
> 
> 赞同：2
> 
> 时间：2012-08-29T05:17:07.110
> 
> 标签：objective-c, nsstring, null

是否可以用值初始化`NSString`对象`null`？
就像是：

```
NSString *strNullTest = [[NSString alloc]initWithString:[NSNull null]]; 
```

当我这样做时，它会发出警告：

> 实例方法 - “null”未找到返回类型默认为 id。

有谁知道用 初始化字符串对象的正确方法`null`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T05:28:29.980

objc 中不存在“空字符串”。为什么你想要一个空字符串？

您可以使用空字符串`@""`或只使用`nil`

如果您想将字符串放入数组或字典中，那`[NSNull null]`很好。您需要做的就是将值与`[NSNull null]`拳头进行比较`object == [NSNull null]`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-29T05:27:30.483

您不能`NSString`使用`NSNull`实例初始化一个。

目前还不清楚你到底想要什么。也许你想要一个 nil 指针：

```
NSString *str = nil; 
```

`nil`与 相同`NULL`，但我们通常在需要对象指针的地方使用它。

或者，也许您想要一个空（零长度）字符串：

```
NSString *str = @""; 
```

该字符串是一个真实的对象 ( `str != nil`)，但不包含任何字符。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T05:28:20.037

这个怎么样：

```
NSObject *obj1 = @"string";
NSObject *obj2 = [NSNull null]; 
```

然后检查 null 你使用 [isKindOfClass:](https://developer.apple.com/library/mac/ipad/#documentation/Cocoa/Reference/Foundation/Protocols/NSObject_Protocol/Reference/NSObject.html)方法。

# css - 为什么 Firefox 处理 CSS 填充的方式与 Safari 或 Chrome 不同？

> ID：12171313
> 
> 赞同：1
> 
> 时间：2012-08-29T05:17:36.430
> 
> 标签：css

我有一个小 div，里面有一个数字。Firefox 的显示方式与 Safari 或 Chrome 不同。

以下是 Safari 显示的内容： ![在此处输入图像描述](../Images/076b50c68092189dd51377e17259099a.png)

以下是 Firefox 显示的内容：![在此处输入图像描述](../Images/53d8a08af222b31b6f0576c6be6dd005.png)

CSS是这样的：

```
background: red; 
height: 20px;   
width: 20px; 
float: left; 
margin: 7px; 
padding-top: 0px; 
color: white; 
text-align: center; 
```

为什么会这样？我能做些什么来防止它？

提前非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T05:20:40.010

显式设置文本本身的行高和边距。

# php - 需要 PHP 帮助：尝试从记录匹配变量中提取 MySQL 数据。变量由 If-Then 语句设置。部分工作

> ID：12171314
> 
> 赞同：3
> 
> 时间：2012-08-29T05:17:45.817
> 
> 标签：php, mysql, variables, if-statement

首先让我说我对 php 真的很陌生。我只是在学习用它编码。因此，如果有人对设置此代码的更有效方法有任何建议，我将很乐意接受。

好，进入正题：

对于这个站点，我们有一个脚本来检查会话、cookie 和数据库中的名称。如果在这些位置中的任何一个找到该名称，则将其分配给一个变量。如果不是，则名称取自 URL 或用户提交，然后添加到数据库和 cookie。这一切都是通过 if-then-elseif 语句完成的，并且在除注册页面之外的所有页面上似乎一切正常。注册页面是唯一实际使用从该脚本中提取的信息的页面。所有其他页面只需检查 cookie 和 db 记录，如果找不到则创建它们。

注册页面应该从前面的脚本中获取名称变量，检查数据库中名称等于名称变量的记录。此脚本首先检查名称提交（来自此页面上的单独表单）。如果找到一个，它将设置名称变量等于名称提交。接下来，它检查会话，然后从会话变量中提取名称变量。第三，它检查前一个脚本中的名称变量。它要么来自 cookie、数据库，要么来自创建这两个条目时设置的变量。

这就是问题所在：从会话中提取的变量或从 cookie 中提取的变量总是提取正确的信息。但是，对于提交名称、数据库中的名称或创建 cookie/db 时设置的变量，这些信息根本不会被提取出来。我设置了一个回显语句来在数据库查询中运行之前显示名称变量，并且名称总是正确显示。但是，似乎没有从数据库中提取任何内容。这是数据库查询：

```
echo $name_variable."<br>";
    $query=mysql_query("SELECT * FROM db WHERE name='$name_variable' OR email='$name_variable'"); 
```

有什么想法可以解决这个问题吗？我希望这只是我忽略的一些简单的事情。如果需要，我可以发布代码，但它相当长。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:23:23.850

$query=mysql_query("SE......

你在做 mysql_fetch_assoc

然后 mysql_array

使用索引访问变量..请在事情不工作的地方提供更多代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T18:11:01.597

哇...我不想承认，但这只是一个新手错误。

使用包含文件打开数据库。此页面有多个包含，其中一个还包含数据库文件（带有 require_once 函数）。此页面还打开了数据库（使用 require_once）来比较数据。

无论如何，我将此页面上的 required_once 更改为 just required 并且一切正常。

感谢大家的回应！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T05:22:25.330

尝试这个

```
 mysql_query("SELECT * FROM db WHERE name='".$name_variable."' OR email='".$name_variable."'"); 
```

# opengl - 如何在 Visual Studio 2012 中安装 GLUT 和 OpenGL？

> ID：12171317
> 
> 赞同：49
> 
> 时间：2012-08-29T05:18:02.683
> 
> 标签：opengl, visual-studio-2012, glut

我今天刚刚安装了 Visual Studio 2012，我想知道如何在平台上安装 GLUT 和 OpenGL？

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2013-03-26T16:04:05.963

OpenGL 应该已经存在 - 它可能是 Freeglut / GLUT 丢失了。

GLUT 现在已经过时并且没有得到积极的支持 - 所以你当然应该使用 Freeglut。您根本不必更改代码，并且可以使用一些附加功能。

您可以从这里 找到**预打包的文件集：http:** [//freeglut.sourceforge.net/index.php#download](http://freeglut.sourceforge.net/index.php#download) 如果您没有看到“lib”文件夹，那是因为您没有下载预套装。“Martin Payne 的 Windows 二进制文件”发布在上面的链接中，在撰写本文时可在 Windows 8.1 和 Visual Studio 2013 上运行。

当您下载这些文件时，您会发现 Freeglut 文件夹包含三个子文件夹： - bin 文件夹：其中包含运行时的 dll 文件 - include：用于编译的头文件 - lib：包含用于编译/链接的库文件

安装说明通常建议将这些文件移动到 Visual Studio 文件夹和 Windows 系统文件夹中：最好避免这样做，因为它会降低您的项目的可移植性，并且如果您需要更改库的哪个版本，则会变得更加困难您正在使用（旧项目可能会突然停止工作等）

相反（对于任何不一致之处，我深表歉意，我将这些说明基于 VS2010）... - 将 freeglut 文件夹放在其他位置，例如 C:\dev - 在 Visual Studio 中打开您的项目 - 打开项目属性 - 应该有一个选项卡**VC++ 目录**，在这里你应该添加适当的 include 和 lib 文件夹，例如：C:\dev\freeglut\include 和 C:\dev\freeglut\lib - （几乎）最后一步是确保 opengl lib 文件实际链接在编译期间。仍在项目属性中，展开链接器菜单，然后打开输入选项卡。对于**附加依赖**项添加 opengl32.lib （您会假设这将通过将包含 GL/gl.h 添加到您的项目中自动链接，但由于某种原因，这似乎不是这种情况）

在这个阶段，您的项目应该可以编译。要实际运行它，您还需要将 freeglut.dll 文件复制到您的项目文件夹中

* * *

## 回答 #2

> 赞同：34
> 
> 时间：2013-12-13T04:42:31.883

这是 GLUT 安装说明。不是免费的过剩

[首先从这里](http://www.xmission.com/~nate/glut/glut-3.7.6-bin.zip)下载这个 118 KB 的 GLUT 包

提取下载的 ZIP 文件并确保找到以下内容

> 过剩的
> 
> glut32.lib
> 
> glut32.dll

如果您有 32 位操作系统，请将 glut32.dll 放置到`C:\Windows\System32\`，如果您的操作系统是 64 位，请将其放置到 'C:\Windows\SysWOW64\'（到您的系统目录）

放置 glut.h `C:\Program Files\Microsoft Visual Studio 12\VC\include\GL\`（注意：这里的 12 是指你的 VS 版本，可能是 8 或 10）

如果您没有找到 VC 和以下目录.. 继续创建它。

将 glut32.lib 放到`C:\Program Files\Microsoft Visual Studio 12\VC\lib\`

现在，打开 Visual Studio 和

1.  在 Visual C++ 下，选择 Empty Project（或您已经存在的项目）
2.  转到项目-> 属性。从左上角的配置下拉菜单中选择“所有配置”
3.  选择链接器 -> 输入
4.  现在右键单击右侧面板上的“附加依赖项”，然后单击编辑

现在输入

> opengl32.lib
> 
> glu32.lib
> 
> glut32.lib

（注意：每个 .lib 都在新行中）

就是这样...您已经成功安装了OpenGL..继续运行您的程序。

相同的安装说明适用于头文件位于 GL 文件夹中的 freeglut 文件，lib 文件夹中的 lib 和 System32 文件夹中的 dll。

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2014-10-08T21:51:53.740

OpenGL 与 Visual Studio 捆绑在一起。你只需要安装 GLUT 包（freeglut 就可以了），它可以在 NuGet 中找到。

打开您的解决方案，单击工具->NuGet 包管理器->包管理器控制台以打开 NuGet 控制台，键入`Install-Package freeglut`.

--

对于 VS 2013，请改用`nupengl.core`package。

--

现在是2020年。使用 VCPKG。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2017-10-17T06:21:19.477

对于 Microsoft Visual Studio 2017 Community GLUT 安装 -

1.  [从glutdlls37beta](https://www.opengl.org/resources/libraries/glut/glutdlls37beta.zip)下载头文件、dll 和 lib 文件（在[此处](https://www.opengl.org/resources/libraries/glut/glut_downloads.php)链接）

2.  **将glut.h**粘贴到`C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\VC\Tools\MSVC\{14.11.25503}\include\GL` 创建 GL 文件夹中（如果尚未存在）。{thing} 可能不同。

3.  **将 glut.lib**粘贴到`C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\VC\Tools\MSVC\{14.11.25503}\lib\x64`. **将 glut32.lib**粘贴到`C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\VC\Tools\MSVC\{14.11.25503}\lib\x86`. {thing} 可能不同。

4.  **将 glut32.dll**粘贴到`C:\Windows\System32`. **将 glut.dll**和**glut32.dll**粘贴到`C:\Windows\SysWOW64`.

5.  接下来按照 Vishwanath gowda k 的回答。转到项目->属性（所有配置选项）->链接器->输入->附加依赖项->编辑（右端的向下箭头）类型-> opengl32.lib glu32.lib glut32.lib 点击确定->应用。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-02-17T10:34:57.433

[要以一种简单且适当的方式执行此操作，请首先从此处](http://freeglut.sourceforge.net/index.php#download)下载预打包的 freeglut 版本。然后阅读它的 Readme.txt。

[我在这里复制了该软件包](http://files.transmissionzero.co.uk/software/development/GLUT/freeglut-MSVC.zip)的一些重要部分：

> ... 在您的 PC 上创建一个所有用户均可读取的文件夹，例如典型 Windows 系统上的“C:\Program Files\Common Files\MSVC\freeglut\”。将此 zip 存档中的“lib\”和“include\”文件夹复制到该位置... freeglut DLL 可以放置在与您的应用程序相同的文件夹中...
> 
> ...打开项目属性，然后选择“所有配置”（这是确保我们的更改适用于调试和发布版本所必需的）。打开“C/C++”下的“general”部分，将上面创建的“include\”文件夹配置为“Additional Include Directory”。如果您有多个包含“glut.h”文件的 GLUT 包，请务必确保 freeglut 包含文件夹出现在所有其他 GLUT 包含文件夹之上...打开“链接器”下的“常规”部分，然后将您在上面创建的“lib\”文件夹配置为“附加库目录”...

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-08-29T07:53:51.870

下载 GLUT 库。第一步复制 glut32.dll 并将其粘贴到 C:\Windows\System32 文件夹中。第二步复制 glut.h 文件并将其粘贴到 C:\Program Files\Microsoft Visual Studio\VC\include 文件夹中，第三步复制 glut32 .lib 并将其粘贴到 c:\Program Files\Microsoft Visual Studio\VC\lib 文件夹中。现在您可以创建可视化 c++ 控制台应用程序项目并包含 glut.h 头文件，然后您可以为 GLUT 项目编写代码。如果您使用的是 64 位 Windows 机器，则路径和 glut 库可能不同，但过程相似。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-07-19T06:06:13.463

1.  下载并安装 Visual C++ Express。

2.  [从http://www.transmissionzero.co.uk/software/freeglut-devel/](http://www.transmissionzero.co.uk/software/freeglut-devel/)下载并解压“freeglut 2.8.0 MSVC Package”

3.  Windows 32 位安装：

(a) 从 include/GL 文件夹中复制所有文件并粘贴到 C:\Program Files\Microsoft SDKs\Windows\v7.0A\Include\gl 文件夹中。

(b) 从 lib 文件夹中复制所有文件并粘贴到 C:\Program Files\Microsoft SDKs\Windows\v7.0A\Lib 文件夹中。

(c) 复制 freeglut.dll 并粘贴到 C:\windows\system32 文件夹中。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-02-18T06:44:11.863

是的，Visual Studio 2012 Express 内置了 opengl 库。标头位于文件夹 C:\Program Files\Windows Kits\8.0\Include\um\gl 中，lib 文件位于文件夹 C:\Program Files\Windows Kits\8.0\Lib\win8\um\x86 & C: \Program Files\Windows Kits\8.0\Lib\win8\um\x64\. 但问题是将 glut 与现有的集成在一起。我从[http://www.xmission.com/~nate/glut/glut-3.7.6-bin.zip](http://www.xmission.com/~nate/glut/glut-3.7.6-bin.zip)下载了库.. 并将文件部署到 . ....\gl 和 ....\lib\win8\um\x32 和 dll 分别到 %system%/windows 文件夹。希望这样可以解决问题...

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2015-10-14T22:42:32.613

使用[NupenGL Nuget 包](https://www.nuget.org/packages/nupengl.core/)。它正在积极更新并适用于 VS 2013 和 2015，而 Freeglut Nuget 包仅适用于早期版本的 Visual Studio（截至 2015 年 10 月 14 日）。

此外，请按照此[博客文章](http://mycodelog.com/2015/10/08/opengl-freeglut-in-visual-studio-2015/)获取有关在 VS 中使用 OpenGL 和 Glut 的简单说明。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2013-08-28T17:59:40.237

the instructions for Vs2012

To Install FreeGLUT

1.  Download "freeglut 2.8.1 MSVC Package" from [http://www.transmissionzero.co.uk/software/freeglut-devel/](http://www.transmissionzero.co.uk/software/freeglut-devel/)
2.  Extract the compressed file freeglut-MSVC.zip to a folder freeglut

3.  Inside freeglut folder:

On 32bit versions of windows

copy all files in include/GL folder to C:\Program Files\Windows Kits\8.0\Include\um\gl

copy all files in lib folder to C:\Program Files\Windows Kits\8.0\Lib\win8\um\ (note: Lib\freeglut.lib in a folder goes into x86)

copy freeglut.dll to C:\windows\system32

On 64bit versions of windows:(not 100% sure but try)

copy all files in include/GL folder to C:\Program Files(x86)\Windows Kits\8.0\Include\um\gl

copy all files in lib folder to C:\Program Files(x86)\Windows Kits\8.0\Lib\win8\um\ (note: Lib\freeglut.lib in a folder goes into x86)

copy freeglut.dll to C:\windows\SysWOW64

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2016-06-18T06:04:09.580

1.  创建一个空的win32控制台应用程序c++
2.  从 Nuget 包管理器（PM->“Install-Package nupengl.core”）下载一个名为 NupenGL Core 的包，除了 glm 一切都已配置
3.  创建 Source.cpp 并开始工作 Happy Coding

# ios - 具有多个 XIB 的 UIPageViewController

> ID：12171318
> 
> 赞同：0
> 
> 时间：2012-08-29T05:18:14.270
> 
> 标签：ios, ipad, ios5, xib, uipageviewcontroller

我正在为新的 Ipad 使用 uipageviewcontroller 构建一个图书应用程序。每一页都是棘手的，例如每一页都有声音文件，按一个按钮就可以播放。

我的问题是我在这本书中使用了 20 个 xib，使用这么多 xib 可以吗？还是我必须重用xib？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T05:24:33.033

如果每个页面上的内容都在重复，那么您绝对应该重用相同的类或连接到控制器的 XIB。

即使您为每个页面使用不同的 XIB，那么 UIPageViewController 也不应该有任何问题，但您必须确保当该页面被关闭时，您正在释放连接到 XIB 文件和该页面中使用的其他资源的所有出口并且您没有在任何地方保留该页面对象。

我希望这将使人们正确理解它。

# android - 按下后退按钮时保存状态

> ID：12171320
> 
> 赞同：12
> 
> 时间：2012-08-29T05:18:35.503
> 
> 标签：android, sharedpreferences, android-lifecycle, savestate

我正在开发一个安卓应用程序。如果我按下后退按钮，我的应用程序的状态应该被保存。我应该用什么来保存状态..我对所有这些感到困惑`onPause()`，，`onResume()`或`onRestoresavedInstance()`？？？我应该使用哪些来保存我的应用程序的状态？例如，当我按下退出按钮时，我的整个应用程序应该退出我使用了 finish() 吗？

```
 public void onCreate(Bundle savedInstanceState)
   {   

    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    s1=(Button)findViewById(R.id.sn1);
    s1.setOnClickListener(this);
    LoadPreferences();
    s1.setEnabled(false);
    }

    public void SavePreferences()
 {
        SharedPreferences sharedPreferences = getPreferences(MODE_PRIVATE);
        SharedPreferences.Editor editor = sharedPreferences.edit();
        editor.putBoolean("state", s1.isEnabled());
       }
 public void LoadPreferences()
 {
     System.out.println("LoadPrefe");
        SharedPreferences sharedPreferences = getPreferences(MODE_PRIVATE);
        Boolean  state = sharedPreferences.getBoolean("state", false);
        s1.setEnabled(state);
       }
 @Override
 public void onBackPressed()
 {
    System.out.println("backbutton");
    SavePreferences();
     super.onBackPressed();
 } 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-29T05:37:10.897

您需要做的是，您已经在 Activity 中覆盖了以下方法，而不是使用 KeyCode Back，

```
@Override
public void onBackPressed() {

    super.onBackPressed();
} 
```

**并使用SharedPreference**保存 Button 的状态，下次进入 Activity 时从**Sharedpreference**获取值并相应地设置按钮的启用状态。

例子，

```
private void SavePreferences(){
    SharedPreferences sharedPreferences = getPreferences(MODE_PRIVATE);
    SharedPreferences.Editor editor = sharedPreferences.edit();
    editor.putBoolean("state", button.isEnabled());
    editor.commit();   // I missed to save the data to preference here,. 
   }

   private void LoadPreferences(){
    SharedPreferences sharedPreferences = getPreferences(MODE_PRIVATE);
    Boolean  state = sharedPreferences.getBoolean("state", false);
    button.setEnabled(state);
   }

   @Override
public void onBackPressed() {
    SavePreferences();
    super.onBackPressed();
}

onCreate(Bundle savedInstanceState)
{
   //just a rough sketch of where you should load the data
    LoadPreferences();
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-29T05:35:14.093

你可以用这种方式

```
public void onBackPressed() {
    // Save settings here   
}; 
```

当活动检测到用户按下返回键时调用。默认实现只是完成当前活动，但您可以覆盖它来做任何您想做的事情。

在此方法中保存您的应用程序状态。

# mysql - 如何为mysql中的字段设置预定义值

> ID：12171322
> 
> 赞同：0
> 
> 时间：2012-08-29T05:19:28.737
> 
> 标签：mysql

我正在创建一个包含问题和答案（目标类型）的应用程序，以便我将问题和 4 个答案存储在问题表中，并将正确答案存储在答案表中

表结构

**问题**

```
id int(4) primary key
question text
answer1 text
answer2 text
answer3 text
answer4 text 
```

**答案**

```
id int(4) Foreign Key
answer int(1) 
```

现在我需要的是答案表中答案的值应该只是（1或2或3或4）所以我必须预先定义它并且用户不应该输入其他值......如何做到这一点......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T05:30:37.327

将`enum`or`set`用于预定义的允许值：

像：`answers ENUM('1','2','3','4')`

见：[mysql SET & ENUM](http://dev.mysql.com/doc/refman/5.0/en/constraint-enum.html)

# iphone - 如何在 ios 项目中显示 GADInterstitial？

> ID：12171323
> 
> 赞同：1
> 
> 时间：2012-08-29T05:19:29.970
> 
> 标签：iphone, objective-c, ios, admob

## 如何在 ios 项目中显示 GADInterstitial？我收到错误“请求错误：没有广告可显示”，但 admob 正在我的另一个项目中工作。

```
//  ViewController.h
#import <UIKit/UIKit.h>
#import "GADBannerView.h"
#import "GADCustomEventBanner.h"
#import "GADInterstitial.h"

@interface ViewController : UIViewController <GADInterstitialDelegate>
{
    UIButton *interstitialButton_;
    GADInterstitial *interstitial_;
}

@property(nonatomic, retain) IBOutlet UIButton *interstitialButton;
@property(nonatomic, retain) GADInterstitial *interstitial_;

- (IBAction)showInterstitial:(id)sender;

@end

//ViewController.h
#import "ViewController.h"

@implementation ViewController
@synthesize interstitialButton ;
@synthesize interstitial_;

- (void)dealloc {
    interstitial_.delegate = nil;
    [interstitial_ release];
    [interstitialButton_ release];
    [super dealloc];
}

- (void)interstitial:(GADInterstitial *)interstitial
didFailToReceiveAdWithError:(GADRequestError *)error {
    // Alert the error.
    UIAlertView *alert = [[[UIAlertView alloc]
                           initWithTitle:@"GADRequestError"
                           message:[error localizedDescription]
                           delegate:nil cancelButtonTitle:@"Drat"
                           otherButtonTitles:nil] autorelease];
    [alert show];

    interstitialButton_.enabled = YES;
}

-(void)interstitialWillPresentScreen:(GADInterstitial *)ad{
    NSLog(@"on screen");
}
- (void)interstitialDidReceiveAd:(GADInterstitial *)interstitial {
    [interstitial presentFromRootViewController:self];
    interstitialButton_.enabled = YES;
    [self showInterstitial:nil];
}

- (IBAction)showInterstitial:(id)sender {

    self.interstitial_ = [[[GADInterstitial alloc] init] autorelease];

    self.interstitial_.delegate = self;

    self.interstitial_.adUnitID = MY_ADMOB_KEY;   // this key is working in admob //   
    GADRequest *request = [GADRequest request];
    request.testing = YES;
    [self.interstitial_ loadRequest: request];
    interstitialButton_.enabled = NO;
}

@end 
```

![在此处输入图像描述](../Images/c2426b96bb3d2d1c4d79148ebeca0241.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T04:49:34.150

在 admob 网站的设置中将广告尺寸更改为全屏。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-09T08:17:58.717

self.interstitial_.adUnitID = MY_ADMOB_KEY; // 这个键在 admob 中工作

检查此评论，并将其替换为：

self.interstitial_.adUnitID = @"ca-app-pub-xxxxxxxxxxx"; // 这个键在 admob 中工作

你应该得到你自己的 adUnitID 表单 admob

# c - 链表没有正确删除节点

> ID：12171324
> 
> 赞同：1
> 
> 时间：2012-08-29T05:19:38.683
> 
> 标签：c, list, linked-list

我目前在创建链接列表时遇到问题。基本上发生的事情是当我在函数中释放头节点时，它在函数本身中工作。但是当我尝试从我的主函数访问我的链表时，我访问了最近释放的头，但只释放了一个有效负载。

以下是我的代码片段：

```
struct item  
{
   UINT   time ;          
   UINT   id ;            
   UINT   event ;          
   struct item  *next ;    
}; 
```

这是我的节点结构，其中包含 3 个不同的有效负载。这是我的初始化。请注意，我已经手动初始化了 3 个节点以供练习：

```
struct item *head=NULL, *tail=NULL, *trail=NULL, *end=NULL;    
head=malloc(sizeof(struct item));
trail=head;
trail->next=NULL;

//TEST
{
    head=malloc(sizeof(struct item));
    trail=head;
    trail->next=NULL;

    head->time=50;
    head->event=100;
    head->id=1989;

        //printf("head->time: %d\nhead->event: %d\nhead->id: %d\n",head->time,          head->event, head->id);
        //printf("trail->time: %d\ntrail->event: %d\ntrail->id: %d\n",trail->time,     trail->event, trail->id);

    //this line of code produces a single payload in the linked list
    tail=malloc(sizeof(struct item));
    trail->next=tail;
    tail->time=1;
    tail->event=2;
    tail->id=3;
    trail=tail;
    //up until here
    /*
    tail=malloc(sizeof(struct item));
    trail->next=tail;
    trail=tail;
    // three lines of code needed to create a linked list
    */

    //this is linked to the code above
    tail=malloc(sizeof(struct item));
    trail->next=tail;
    tail->time=5;
    tail->event=7;
    tail->id=60;
    trail=tail;

    trail->next=NULL;
    end=trail;//end of the linked list
        //printf("tail->time: %d\ntail->event: %d\ntail->id: %d\n\n\n",tail->time, tail->event, tail->id);

    //this code prints out the entire linked list
    trail=head;
    do
    {
        TEST printf("trail->time: %d\ntrail->event: %d\ntrail->id:     %d\n\n",trail->time, trail->event, trail->id);      
        trail=trail->next;    
    }
    while(trail!=NULL);
}
//creation of linked list complete
//test to traverse the linked list 
```

忽略我最近几个小时前才开始做链表的评论。现在这是我的问题。当我在函数中使用 free 删除链表的头部时，它确实释放了它，但是当我在主函数中遍历我的链表时，它将输出 3 个节点。这是我用来在主函数中遍历我的链表的代码行：

```
trail=head;
int item=0;
do
{
    item++;
    printf("item %d = %d %d %d\n",item ,trail->time, trail->id, trail->event);
    trail=trail->next;
}
while(trail!=NULL); 
```

这是我用来删除我的头的功能：

```
void list_head_delete(struct item *head)
{
    struct item *trail;    
    trail=head;
    trail=trail->next;    
    free(head);
    head=trail;
} 
```

当遍历我的链表时，它通常会输出：

```
item 1 = 50 1989 100
item 2 = 1 3 2
item 3 = 5 60 7 
```

如果我调用我的函数来删除头部并再次遍历链表，我将得到以下输出：

```
item 1 = 0 1989 100
item 2 = 1 3 2
item 3 = 5 60 7 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T05:25:19.760

您的删除功能签名是：`void list_head_delete(struct item *head)`. 使用此签名，您将指针传递给`head`节点，因此您可以更改`struct node`指针引用的值，但*不能*更改指针本身。在 C 中，函数参数是*按值传递的*，因此您传递的实际指针只是一个副本，对它的更改，例如`head=trail;`，只会是函数中指针的*副本*。当函数返回时，`head`将包含它的原始地址，该地址现在引用已释放的内存。

如果要更改头指针指向*的*内容，则需要将指针传递给指针：

```
void list_head_delete(struct item **head); 
```

使用参数时，您需要更改删除函数以处理此额外级别的引用`head`。

或者，您可以将新列表作为函数返回值传回：

```
struct node *list_head_delete(struct item *head);

// ... and to use it:
head = list_head_delete(head); 
```

# android - 从我在 Android 中使用日历从 datepicker 中选择的日期开始获取最后 30 天

> ID：12171326
> 
> 赞同：0
> 
> 时间：2012-08-29T05:19:46.623
> 
> 标签：android, datepicker

我想从我从 datepicker 中选择的日期开始获得最后 30 天。谁能建议我如何获得它。

我可以使用当前日期执行此功能，但从 datepicker 中选择日期我不明白我该怎么做。

```
final Calendar cal = Calendar.getInstance();
cal.setTime(new Date());
cal.roll(Calendar.DAY_OF_YEAR, -30);
Date daysBeforeDate = cal.getTime(); 
```

我正在使用上面的代码处理当前日期到**DatePickerDialog.OnDateSetListener datePickerListener。**

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:35:39.567

例如，您将使用这样的代码：

```
final Calendar cal = Calendar.getInstance();
DatePickerDialog.OnDateSetListener d=new DatePickerDialog.OnDateSetListener() {
  public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth)
  {
      cal.set(Calendar.YEAR, year);
      cal.set(Calendar.MONTH, monthOfYear);
      cal.set(Calendar.DAY_OF_MONTH, dayOfMonth);
      cal.roll(Calendar.DAY_OF_YEAR, -30);
  }
}; 
```

# sql - 从 Websphere 消息代理 6 连接到 Oracle11g 数据库

> ID：12171328
> 
> 赞同：1
> 
> 时间：2012-08-29T05:19:48.887
> 
> 标签：sql, oracle11g, ibm-integration-bus, extended-sql

我正在尝试来自计算节点的 websphere 消息代理 6 的简单插入命令。消息代理的 odbc.ini 文件中提供的数据源名称在计算节点的节点属性中指定。并编写了以下 ESQL 代码。

```
SET TABLE = 'MYTABLE';
SET MYVALUE = 'TESTVALUE';

INSERT INTO Database.TABLE VALUES(MYVALUE); 
```

连接 url 在 tnsnames.ora 中提供。url 是集群 url。其中指向 3 个数据库实例。

当我运行查询时，我收到异常，即跟踪中不存在表或视图。但是当我使用 3 个直接 url 中的任何一个连接到 db 时，我可以看到该表。
注：数据库为oracle11g

谁能解释我发生了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T14:09:21.710

问题是我的应用程序使用了我的代理使用的相同 DSN。在创建代理时，提供的用户名和密码指向不同的模式，它没有我的应用程序的表。

解决方案是创建一个新的 DSN，并使用 mqsisetdbparams 将其指向正确的架构。

# ipad - 图像保存在画廊的动态创建文件夹中

> ID：12171329
> 
> 赞同：1
> 
> 时间：2012-08-29T05:20:03.957
> 
> 标签：ipad

我在这里尝试将图像保存在图库中。我这样做了，但现在我想将捕获的图像保存在画廊的日期文件夹中。

```
- (IBAction)saveImage:(id)sender {

UIGraphicsBeginImageContextWithOptions(drawingSlate.bounds.size, drawingSlate.opaque, 0.0);
[drawingSlate.layer renderInContext:UIGraphicsGetCurrentContext()];
UIImage * img = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();

UIImageWriteToSavedPhotosAlbum(img, nil, nil, nil);

 } 
```

这里图像保存在照片中，但我想用正确的名称和日期文件夹保存。

谢谢

# node.js - 在 Mongoose/node 中保存对象（使用默认值）

> ID：12171336
> 
> 赞同：0
> 
> 时间：2012-08-29T05:20:37.293
> 
> 标签：node.js, mongoose

我有一个传递给函数的对象，并希望使用这些值保存一个 DB 条目，并可以选择具有一些默认值。

实际上...

我在猫鼬中有这样的模式：

```
var Log = new Schema({
  workspaceId    : { type: String, index: true },
  workspaceName  : { type: String, index: true },
  loginSession   : { type: String, index: true },
  loginToken     : { type: String, index: true },
  logLevel       : { type: Number, enum:[0,1] },
  errorName      : { type: String, index: true },
  message        : { type: String, index: true },
  reqInfo        : { type: String },
  data           : { type: String },
  loggedOn       : { type: Date, index: true },
});
mongoose.model('Log', Log); 
```

要在这张桌子上写东西，我有类似的东西：

```
exports.Logger = function(logEntry){
  var Log = mongoose.model("Log"),
      req = logEntry.req;

  log = new Log();

  // Sorts out log.reqInfo
  if ( logEntry.req){
    log.reqInfo = JSON.stringify({
      info   : req.info,
      headers: req.headers,
      method : req.method,
      body   :req.body,
      route  :req.route,
      params: req.params    
    });
  } else {
    logEntry.reqInfo = {};
  }

  // Sorts out all of the other fields with sane defaults.
  // FIXME: improve this code, it's grown into something ugly and repetitive
  log.workspaceId = logEntry.workspaceId ? logEntryworkspaceId. : '';
  log.workspaceName = logEntry.workspaceName ? logEntry.workspaceName : '';
  log.loginSession = logEntry.loginSession ? logEntry.loginSession : '';
  log.loginToken = logEntry.loginToken ? logEntry.loginToken : '';
  log.logLevel = logEntry.logLevel ? logEntry.logLevel : 0;
  log.errorName = logEntry.errorName ? logEntry.errorName : '';
  log.message = logEntry.message ? logEntry.message : '';
  log.data = logEntry.data ? logEntry.data : {};

  // Sorts out log.loggedOn
  log.loggedOn = new Date();
  log.save();
} 
```

这绝对是糟糕的代码。没有重复的更好的写作方式是什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-29T08:45:43.747

我不明白你的代码。因此，如果未设置值，您希望将其设置为空字符串`''`吗？

如果你想要默认值，最简单的方法是在你的模式中定义它们。

```
var Log = new Schema({
  workspaceId    : { type: String, index: true, default: 'your default here' },
  //...
  loggedOn       : { type: Date, index: true, default: Date.now }
}); 
```

来自[文档](http://mongoosejs.com/docs/api.html#schematype_SchemaType-default)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T05:32:55.823

像这样的东西可能更优雅一点：

创建一个包含默认值的字典

```
defaults = {
  workspaceName: 'foo',
  loginSession: 'bar',
  loginToken: 'baz'
};

console.log(defaults) 
```

给定一些值

```
values = {
  workspaceName: 'WNAME1',
  loginSession: 'LS1',
  somethingElse: 'qux'
};

console.log(values) 
```

如果 values 不包含任何指定默认值的条目，则将默认值添加到 values

```
for(i in defaults){
  if(!values[i]){
    values[i] = defaults[i];
  }
}

console.log(values) 
```

# python - 我的 python 模块（matplotlib，numpy）不起作用

> ID：12171340
> 
> 赞同：0
> 
> 时间：2012-08-29T05:21:16.940
> 
> 标签：python, module, numpy, matplotlib, osx-mountain-lion

我正在使用 mac 山狮（10.8.1）和 python（2.7.3）。我想使用 python matplotlib、numpy 模块来计算图形。但是山狮没有matplotlib，numpy ver。我已经用 matplotlib(1.1.1)、numpy(1.7.0b1) 进行了测试。他们已经安装好了。但它不像下面那样工作。我只需要一张图表。山狮用户可以用python画图吗？

```
>>>import numpy

Traceback (most recent call last):
  File "<pyshell#0>", line 1, in <module>
    import numpy
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/numpy/__init__.py", line 137, in <module>
    import add_newdocs
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/numpy/add_newdocs.py", line 9, in <module>
    from bumpy.lib import add_newdoc
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/numpy/lib/__init__.py", line 4, in <module>
    from type_check import *
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/numpy/lib/type_check.py", line 8, in <module>
    import numpy.core.numeric as _nx
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/numpy/core/__init__.py", line 5, in <module>
    import multiarray
ImportError: dlopen(/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/numpy/core/multiarray.so, 2): no suitable image found. Did find:
        /Libraray/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/numpy/core/multiarray.so: no matching architecture in universal wrapper 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:56:10.413

没有特定的“针对 Mountain Lion”的 numpy 或 matplotlib。唯一的兼容性考虑是 python 版本，在你的情况下它很好。我的猜测是你只需要强制它只构建 64 位：

```
ARCHFLAGS="-arch x86_64" pip install numpy 
```

# iphone - MPMusicPlayerController 缓冲/预加载

> ID：12171343
> 
> 赞同：1
> 
> 时间：2012-08-29T05:21:37.137
> 
> 标签：iphone, ios, ipad, mpmediaplayercontroller

在我调用 -play 之前，有没有办法让 MPMusicPlayerController 缓冲内容？还是在您设置队列时默认执行此操作？AVAudioPlayer 有 -prepareToPlay 方法，我听说 AVQueuePlayer 开始自动缓冲下一个项目，但 MPMusicPlayerController 有相同的行为吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:31:23.750

这个问题的答案在 iOS 6 beta 文档中，如果有人想知道的话。由于保密协议，不能说更多。

**编辑：**根据要求，由于 NDA 已被取消，答案如下：从 iOS 6 开始，`MPMusicPlayerController`, 就像`MPMoviePlayerController`实现了[MPMediaPlayback](http://developer.apple.com/library/ios/#documentation/mediaplayer/reference/MPMediaPlayback_protocol/Reference/Reference.html#//apple_ref/occ/intf/MPMediaPlayback)协议，该协议具有类似`-prepareToPlay`.

# mysql - SQL 子查询中的语法错误

> ID：12171354
> 
> 赞同：1
> 
> 时间：2012-08-29T05:22:26.363
> 
> 标签：mysql, syntax

我收到语法错误，谁能告诉我为什么？

```
SELECT  c.clientid, c.clientname, c.billingdate, 
      (SELECT TOP 1 previousbalance FROM invoice i 
          WHERE i.client = c.clientid ORDER BY i.invoiceid DESC) AS remaining 
FROM client c 
ORDER BY clientname 
```

二级选择正在做的是`clientid`在发票表中获取最新记录。

程序 - HediSQl

SQL

这是错误：

> SQL 错误 (1064)：您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的“1 previousbalance FROM invoice i WHERE i.client = c.clientid ORDER BY i.invoicei”附近使用正确的语法 */

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T05:32:54.263

只是猜测，但它可能表明您应该替换`TOP 1`为`LIMIT 1`or `WHERE ROWNUM < 2 LIMIT 1`。你用的是什么类型的数据库？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T05:39:25.250

你只需要像这样`LIMIT`使用`TOP`：

```
SELECT  c.clientid, c.clientname, c.billingdate, 
   (SELECT previousbalance FROM invoice i 
     WHERE i.client = c.clientid ORDER BY i.invoiceid DESC LIMIT 1) AS remaining 
FROM client c 
ORDER BY clientname 
```

# [*看到这个 SQLFiddle*](http://sqlfiddle.com/#!2/07c0e/3)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T05:34:47.413

您拥有的语法将在 SQL Server 中工作。您的错误消息来自 MySQL。

尝试这个：

```
SELECT c.clientid, 
       c.clientname, 
       c.billingdate, 
       (
       SELECT previousbalance 
       FROM invoice i 
       WHERE i.client = c.clientid 
       ORDER BY i.invoiceid DESC
       LIMIT 1  
       ) AS remaining 
FROM client c 
ORDER BY clientname 
```

# javascript - 以给定格式解析字符串到日期

> ID：12171356
> 
> 赞同：1
> 
> 时间：2012-08-29T05:22:34.613
> 
> 标签：javascript, datetime

我想以 ddMMyyhhmm 格式（例如 2804121530 表示 2012 年 4 月 28 日下午 3:30）将日期解析为 javascript Date() 对象。

有没有oneliner解决方案？我正在寻找这样的东西：

```
var date = Date.parse('2804121530', 'ddMMyyhhmm'); 
```

或者

```
var date = new Date('2804121530', 'ddMMyyhhmm'); 
```

感谢帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T05:37:12.077

对于一个快速的解决方案，您可以将该字符串分解成碎片并从这些碎片中创建日期

```
function myDateFormat(myDate){
    var day = myDate[0]+''+myDate[1];
    var month = parseInt(myDate[2]+''+myDate[3], 10) - 1;
    var year = '20'+myDate[4]+''+myDate[5];
    var hour = myDate[6]+''+myDate[7];
    var minute = myDate[8]+''+myDate[9];
    return new Date(year,month,day,hour,minute,0,0);
}

var myDate = myDateFormat('2804121530'); 
```

或更简单的解决方案：

```
function myDateFormat(myDate){
    return new Date(('20'+myDate.slice(4,6)),(parseInt(myDate.slice(2,4), 10)-1),myDate.slice(0,2),myDate.slice(6,8),myDate.slice(8,10),0,0);
}
var myDate = myDateFormat('2804121530'); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T05:57:44.063

这里一个有用的库是[DateJs](http://www.datejs.com/)。只需添加参考：

```
<script src="http://datejs.googlecode.com/files/date.js"
        type="text/javascript"></script> 
```

并使用[Date.parseExact](http://code.google.com/p/datejs/wiki/APIDocumentation#parseExact)：

```
var dateStr = '2804121530';
var date = Date.parseExact(dateStr, 'ddMMyyHHmm'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T05:34:15.657

```
(new Date(1381344723000)).toUTCString() 
```

如果我穿了，请纠正我...

# linux - 获取 Xorg 中活动客户端的完整列表

> ID：12171362
> 
> 赞同：8
> 
> 时间：2012-08-29T05:23:13.397
> 
> 标签：linux, xorg, xserver

有人可以指点我一个地方（PDF），在那里我可以找到有关 Xserver（Xorg）的详细描述，例如 DIX 层、OS 层等。

具体来说，我正在寻找如何从 Xserver(Xorg) 中获取所有活动客户端的完整列表。Xorg 如何维护这个列表？每当一个新请求到达 Xorg 时，在接受连接后，它会将有关该客户端的信息放在哪里？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-20T17:16:08.163

运行`xlsclients`。

[http://cgit.freedesktop.org/xorg/app/xlsclients](http://cgit.freedesktop.org/xorg/app/xlsclients)

关于 Xorg 内部的文档：

*   [http://cgit.freedesktop.org/xorg/xserver/tree/doc](http://cgit.freedesktop.org/xorg/xserver/tree/doc)
*   [http://cgit.freedesktop.org/xorg/xserver/tree/hw/xfree86/doc](http://cgit.freedesktop.org/xorg/xserver/tree/hw/xfree86/doc)
*   [http://cgit.freedesktop.org/](http://cgit.freedesktop.org/) -> 许多应用程序和库都包含自己的文档

不过，阅读源代码通常是最好的方法，因为有关 Xserver 内部的文档不会定期更新。

# java - 黑莓中的声音配置文件更改/音量更改侦听器

> ID：12171363
> 
> 赞同：2
> 
> 时间：2012-08-29T05:23:19.327
> 
> 标签：java, audio, blackberry

我想制作一个应用程序来监听黑莓中的声音配置文件变化/音量变化。目标版本是 5、6、7 我在 Blackberry 的文档中进行了搜索，但一无所获。我在搜索过程中发现了两件事。

1.  globaleventlistener 这需要该事件的 GUID，该事件未[记录](http://www.blackberry.com/knowledgecenterpublic/livelink.exe/fetch/2000/348583/800332/800620/What_Is_-_System_Global_Events.html?nodeid=1163085&vernum=0)在事件 GUID 列表中。

2.  通知管理器 Notificationmanager 可能会帮助注册其中一个。但我不知道如何用系统事件注册它。它还需要 GUID。

如果我错过了什么，请分享资源。我是黑莓开发的新手。请帮帮我。

谢谢，帕思沙阿

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T10:51:06.530

```
package mypackage;

import net.rim.device.api.system.Application;
import net.rim.device.api.system.ApplicationDescriptor;
import net.rim.device.api.system.ApplicationManager;
import net.rim.device.api.system.Characters;
import net.rim.device.api.system.GlobalEventListener;
import net.rim.device.api.system.KeyHandlerRegistry;
import net.rim.device.api.system.KeyHandlerRegistryException;
import net.rim.device.api.ui.Keypad;
import net.rim.device.api.ui.UiApplication;

/**
 * This class extends the UiApplication class, providing a
 * graphical user interface.
 */
public class MyApp extends Application
{
    /**
     * Entry point for application
     * @param args Command line arguments (not used)
     */ 
    public static void main(String[] args)
    {
        // Create a new instance of the application and make the currently
        // running thread the application's event dispatch thread.
        MyApp theApp = new MyApp(); 
        theApp.enterEventDispatcher();

    }

/**
 * Creates a new MyApp object
 */
public MyApp()
{        

    //Attach the keylistener to handle buttons pressed  
    addKeyListener(new Logger());

    super.addGlobalEventListener(new GlobalListener());
    try {
          //Any Keypad Button will work to catch everything
        KeyHandlerRegistry.register(getApplication(), Keypad.KEY_CONVENIENCE_1);
            } catch (IllegalArgumentException e) {
        // TODO Auto-generated catch block
        System.out.println(e.toString());
        e.printStackTrace();
    } catch (KeyHandlerRegistryException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

}  

class GlobalListener implements GlobalEventListener{

    public void eventOccurred(long guid, int data0, int data1, Object object0,
            Object object1) {
                    //will catch and output all Global events to console
        System.out.println("[GLOBAL LISTENER] Event = "+guid);

    }

} 
```

}

这应该可以处理你们俩都在寻找的东西。至于自定义keyListner：

```
package mypackage;

import net.rim.device.api.system.Characters;
import net.rim.device.api.system.EventInjector.KeyCodeEvent;
import net.rim.device.api.system.KeyListener;
import net.rim.device.api.ui.Keypad;
import net.rim.device.api.ui.container.MainScreen;

public final class Logger implements KeyListener {
//Set return to false to allow the program to pass the data to next keylistner
//All output to the console.
//Yet from testing only KeyUp and KeyDown are ever called and handle all special buttons 
//Volume, Dial, EndCall, etc...
    public boolean keyChar(char key, int status, int time) {
        System.out.println("CHAR PRESSED: <"+key+"/>");
        return false;
    }

    public boolean keyDown(int keycode, int time) {
        System.out.println("KEY PRESSED (DOWN): < BUTTON="+getKey(keycode)+" ID="+keycode+" KEY VALUE= "+Keypad.key(keycode)+"/>");
        return false;
    }

public boolean keyRepeat(int keycode, int time) { 
    System.out.println("KEY REPEAT: < BUTTON="+getKey(keycode)+" ID="+keycode+"/>");
    return false;
}

public boolean keyStatus(int keycode, int time) {
    System.out.println("KEY STATUS: < BUTTON="+getKey(keycode)+" ID="+keycode+"/>");
    return false;
}

public boolean keyUp(int keycode, int time) {
    System.out.println("KEY PRESSED (UP): < BUTTON="+getKey(keycode)+" ID="+keycode+" KEY VALUE= "+Keypad.key(keycode)+"/>");
    return false;
}

public String getKey(int keycode){
    System.out.println("[EVENT ID] = "+ keycode);
    //Converts the provided keycode into a value which can be compared to the keypad 
    //constants
    keycode = Keypad.key(keycode);

    System.out.println("[KEY ID] = "+ keycode);

    String Result = null;
    switch (keycode) {
    case Keypad.KEY_ALT:
        Result = "ALT";
        break;
    case Keypad.KEY_BACKLIGHT:
            Result = "BACKLIGHT";
            break;
    case Keypad.KEY_BACKSPACE:
        Result = "BACKSPACE";
        break;
    case Keypad.KEY_BACKWARD:
        Result = "BACKWARD";
        break;
    case Keypad.KEY_CAMERA_FOCUS:
        Result = "CAMERA_FOCUS";
        break;
    case Keypad.KEY_MIDDLE:
        Result = "CONVENIENCE_1";
        break;
    case Keypad.KEY_CONVENIENCE_2:
        Result = "CONVENIENCE_2";
        break;
    case Keypad.KEY_DELETE:
        Result = "DELETE";
        break;
    case Keypad.KEY_END:
        Result = "END_CALL_BUTTON";
        break;
    case Keypad.KEY_ENTER:
        Result = "ENTER";
        break;
    case Keypad.KEY_ESCAPE:
        Result = "ESCAPE";
        break;
    case Keypad.KEY_FORWARD:
        Result = "FORWARD";
        break;
    case Keypad.KEY_LOCK:
        Result = "LOCK";
        break;
    case Keypad.KEY_MENU:
        Result = "MENU";
        break;

    case Keypad.KEY_NEXT:
        Result = "NEXT";
        break;
    case Keypad.KEY_RIGHT_3:
        Result = "RIGHT_3";
        break;
    case Keypad.KEY_SEND:
        Result = "DIAL";
        break;
    case Keypad.KEY_SHIFT_LEFT:
        Result = "SHIFT_LEFT";
        break;
    case Keypad.KEY_SHIFT_RIGHT:
        Result = "SHIFT_RIGHT";
        break;
    case Keypad.KEY_SHIFT_X:
        Result = "SHIFT_X";
        break;
    case Keypad.KEY_SPACE:
        Result = "SPACE";
        break;
    case Keypad.KEY_SPEAKERPHONE:
        Result = "SPEAKERPHONE";
        break;
    case Keypad.KEY_VOLUME_DOWN:
        Result = "VOLUME_DOWN";
        break;
    case Keypad.KEY_VOLUME_UP:
        Result = "VOLUME_UP";
        break;
    default:
        Result = null;
        break;
    }

    return Result;
} 
```

}

# java - JRE 7 上的 Xalan Java 扩展“找不到类”错误

> ID：12171365
> 
> 赞同：0
> 
> 时间：2012-08-29T05:23:21.927
> 
> 标签：java, xslt, xalan

我遇到了“找不到类'pkg.XSLTFunctions'。JRE 7 上的错误导致使用 Xalan 编译 XSL 失败。这在 JRE 6 中完美运行。以下是我的应用程序的一些细节。

该应用程序是一个 Win32 本机 EXE，它使用 JNI 加载 JVM，向系统类加载器添加一个 JAR，并使用 JNI 在该 JAR 中运行一个类。Java 类然后从 JAR 中取出一个 XSL 并尝试编译它。

JAR 还包含一个 Java 类，它是 Xalan Java 扩展，并在 XSL 中如此指定（如下所示）。

```
<xsl:stylesheet version="2.0"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:xalan="http://xml.apache.org/xalan"
    xmlns:util="xalan://testSoe.XSLTFunctions"                
    exclude-result-prefixes="p util xalan"> 
```

但是，Xalan 找不到这个回调类，XSL 的编译失败。它出错了

```
ExecGroup-0:err:ERROR:  'Cannot find class 'testSoe.XSLTFunctions'.' 
```

这在 JRE 6 上有效，而这个问题仅在 JRE 7 上可见。关于 JRE 6 和 7 之间可能导致这种行为的不同之处的任何指针？

谢谢，兰吉特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T22:02:33.557

想通了问题。如果在 JVM 中设置了“SecurityManager”，Xalan 引擎（JRE 内部）具有在 boostrap 类加载器中查找回调类的逻辑，否则它将在系统类加载器中查找它。我上面提到的 Win32 EXE 也是我们的 RMI 服务器（一旦加载了 JVM，等等）。JRE 7 可能将 SecurityManager 设置为将 RMI 设备设置为该进程的 RMI 服务器的一部分。我正在研究关闭它的影响，但我有一个解决方法可以进一步进行！对 JDK 源代码进行了一些调试以解决这个问题！

# jquery - .fadeOut() 方法使用可见性属性而不是显示属性

> ID：12171371
> 
> 赞同：16
> 
> 时间：2012-08-29T05:23:40.097
> 
> 标签：jquery, css, fadeout

.fadeOut() 方法动画匹配元素的不透明度。一旦不透明度达到 0，显示样式属性将设置为无，因此该元素不再影响页面的布局，fadeIn() 也是如此。

我的问题是他们可以使用可见性属性，以便元素占据页面布局中的空间并且不仅仅是可见的吗？

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-08-29T05:26:38.020

使用 jQuery 的[fadeTo()](http://api.jquery.com/fadeTo/)然后有一个回调设置可见性。例子：

```
$('#fade').on("click", function(){
    $(this).fadeTo(500, 0, function(){
        $(this).css("visibility", "hidden")
    }) // duration, opacity, callback
})
```

```
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<a href="#" id="fade">Click to Fade</a>
<div>This won't move</div>
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-17T12:21:54.793

只需覆盖回调中的属性

```
$('Element').on("click", function() {
    $(this).fadeOut(500, function() {
        $(this).css({"display": "block","visibility": "hidden"});  // <-- Style Overwrite 
    }); 
})​ 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2014-04-21T22:42:51.603

animate with css opacity 似乎达到了类似的效果。

```
$('#element').animate({opacity: 0}, 1000); 
```

运行同样的 opacity: 1 以淡入。

[信用](https://stackoverflow.com/a/7350370/462002)。

# neo4j - Neo4j Cypher：在 WHERE 子句中查找与数组节点属性的完全匹配

> ID：12171372
> 
> 赞同：5
> 
> 时间：2012-08-29T05:23:41.223
> 
> 标签：neo4j, cypher

给定具有数组属性的 Neo4J 节点，如何创建 Cypher 查询以仅返回与数组文字匹配的节点？

使用控制台，我创建了一个带有名为“list”的数组属性的节点：

```
neo4j-sh (0)$ create n = {list: [1,2,3]};
==> +-------------------+
==> | No data returned. |
==> +-------------------+
==> Nodes created: 1
==> Properties set: 1
==> 83 ms

neo4j-sh (0)$ start n=node(1) return n;
==> +-----------------------+
==> | n                     |
==> +-----------------------+
==> | Node[1]{list:[1,2,3]} |
==> +-----------------------+
==> 1 row
==> 1 ms 
```

但是，我的查询不会返回刚刚创建的节点，因为它有一个匹配数组文字的 WHERE 子句：

```
neo4j-sh (0)$ start n=node(1) where n.list=[1,2,3] return n;
==> +---+
==> | n |
==> +---+
==> +---+
==> 0 row
==> 0 ms 
```

我完全有可能误用了 Cypher。在 Cypher 中进行精确数组属性匹配的任何提示都会有所帮助。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-30T08:07:56.937

控制台始终运行 Neoj4 的最新 SNAPSHOT 版本。该版本指的是密码语法解析器，我们会更清楚地指出:)

现在，Cypher 中的数组处理有一些修复，请参阅[https://github.com/neo4j/community/pull/815](https://github.com/neo4j/community/pull/815)和[https://github.com/neo4j/community/issues/818](https://github.com/neo4j/community/issues/818)，这可能是使控制台工作的那些。这已在 1.8.M07 之后合并，因此为了使其在本地工作，请下载最新的 1.8.-SNAPSHOT 之一，从 GITHUB 构建它或等待即将到期的 1.8.M08。

/彼得

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-29T14:08:51.447

Which version of Neo4j are you using?

Your same code works for me in 1.8M07.

[http://console.neo4j.org/?id=p9cy6l](http://console.neo4j.org/?id=p9cy6l)

*Update:* I get the same result (no results) in a local install via the web client. Maybe it's a web client issue?

# javascript - 在 chrome 中关闭转义键上的模态框

> ID：12171373
> 
> 赞同：0
> 
> 时间：2012-08-29T05:23:47.847
> 
> 标签：javascript, jquery, jquery-ui

我有一个模态框，我使用了“modal-window.min.js”。

我想关闭转义键上的模态框。为此我写了这段代码

```
document.getElementById('email').focus();
    jQuery(document).keydown(
        function(e){
        if(e.keyCode == 27){            
            parent.jQuery.modal().close();      
        }
        }
        ); 
```

此代码适用于 firefox 和 IE，但不适用于 chrome。

请给我一个适用于所有浏览器的解决方案。如果有人通过“modal-window.min.js”文件有解决方案，那就更好了。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T05:33:07.680

在 Jquery Escape 插件上试用（[参见示例](http://ben.ferit.im/)）

```
$(document).escape(function() { 
 alert('ESC button pressed'); 
}); 
```

# python - 用于运行任务并在任务完成后关闭的 Shell 脚本

> ID：12171375
> 
> 赞同：2
> 
> 时间：2012-08-29T05:24:08.727
> 
> 标签：python, linux, bash, sysadmin

我想运行一个运行 python 程序并在程序完成后关闭的 shell 脚本。这是我写的

```
#!/bin/bash
python program
sudo shutdown -h now 
```

这只是关闭系统而无需等待程序完成。是否有不同的命令可以等待程序完成？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T05:30:40.067

您在示例中所拥有的内容实际上应该只在 python 命令完成后关闭，除非 python 程序提前分叉或背景。

运行它的另一种方法是使关闭以第一个命令的成功为条件

```
python command && sudo shutdown -h now 
```

当然，如果 python 程序执行诸如分叉或守护进程之类的操作，这仍然无济于事。只需尝试单独运行 python 脚本并注意控制是否立即返回到控制台。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T05:36:56.087

您可以运行命令[`halt`](http://linux.about.com/library/cmd/blcmdl8_halt.htm)来停止您的系统：

```
 #!/bin/sh
   python program
   sudo halt 
```

首先`python program`运行，并`halt`在完成后运行（您可以测试 python 程序的退出代码）。如果它的行为不像预期的那样，请尝试了解原因。您可以在系统日志中写入内容之前添加一个[记录器](http://linux.about.com/library/cmd/blcmdl1_logger.htm)命令。`halt`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-10-05T18:21:11.950

或者，您可以`command substitution`像这样使用：

> `$(command to run your program)`

脚本一直等到包装的命令完成，然后再移动到下一个！

```
#!/bin/sh
$(python program.py)
sudo shutdown -P 0 
```

# c++ - 如何使用将 errno 转换为异常

> ID：12171377
> 
> 赞同：62
> 
> 时间：2012-08-29T05:24:19.507
> 
> 标签：c++, exception, c++11

我阅读了一系列关于C++11中新标头的深思熟虑[的博客文章。](http://blog.think-async.com/2010/04/system-error-support-in-c0x-part-1.html)`<system_error>`它表示标头定义了一个`error_code`类，该类表示操作（例如系统调用）返回的特定错误值。它说头部定义了一个`system_error`类，它是一个异常类（继承自`runtime_exception`），用于包装`error_codes`s。

我想知道的是如何将系统错误从实际转换`errno`为 a`system_error`以便我可以抛出它。例如，POSIX`open`函数通过返回 -1 和设置来报告错误`errno`，那么如果我想抛出异常，我应该如何完成下面的代码？

```
void x()
{
    fd = open("foo", O_RDWR);
    if (fd == -1)
    {
        throw /* need some code here to make a std::system_error from errno */;
    }
} 
```

我随机尝试：

```
errno = ENOENT;
throw std::system_error(); 
```

但结果异常在`what()`被调用时不返回任何信息。

我知道我可以做`throw errno;`，但我想以正确的方式做，使用新的`<system_error>`标题。

有一个构造函数`system_error`将单个`error_code`作为其参数，所以如果我可以转换`errno`为`error_code`那么其余的应该是显而易见的。

这似乎是一个非常基本的东西，所以我不知道为什么我找不到一个好的教程。

我在 ARM 处理器上使用 gcc 4.4.5，如果这很重要的话。

* * *

## 回答 #1

> 赞同：61
> 
> 时间：2012-08-29T05:48:29.397

您走在正确的轨道上，只需将错误代码和一个[`std::generic_category`](http://en.cppreference.com/w/cpp/error/generic_category)对象传递给`std::system_error` [构造函数](http://en.cppreference.com/w/cpp/error/system_error/system_error)，它应该可以工作。

例子：

```
#include <assert.h>
#include <errno.h>
#include <iostream>
#include <system_error>

int main()
{
    try
    {
        throw std::system_error(EFAULT, std::generic_category());
    }
    catch (std::system_error& error)
    {
        std::cout << "Error: " << error.code() << " - " << error.what() << '\n';
        assert(error.code() == std::errc::bad_address);
    }
} 
```

我系统上上述程序的输出是

```
错误：通用：14 - 错误地址

```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2021-04-18T20:07:22.240

要添加到出色的接受答案，您可以在第三个参数中使用一些上下文信息来丰富错误消息，例如失败的文件名：

```
std::string file_name = "bad_file_name.txt";
fd = open(file_name, O_RDWR);
if (fd < 0) {
    throw std::system_error(errno, std::generic_category(), file_name);
} 
```

然后当被抓到时，`e.what()`会返回，例如：

```
bad_file_name.txt: file not found 
```

# javascript - 尝试制作 youtube 视频的缩略图并在单击时放大

> ID：12171394
> 
> 赞同：2
> 
> 时间：2012-08-29T05:26:25.303
> 
> 标签：javascript, asp.net, html, youtube, youtube-javascript-api

有没有办法将 youtube 视频的缩略图嵌入到我的 html 中，点击后会放大到全尺寸？这样，我可以拥有一排视频缩略图，这就是我想要做的。

例如，[http](http://www.youtube.com/embed/Jxsl5DZtdcg?wmode=opaque) ://www.youtube.com/embed/Jxsl5DZtdcg?wmode= opaque ..... 是我想放入缩略图中的视频之一，但我不确定如何执行此操作。任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:33:06.360

Youtube 已经为每个视频创建了 4 个缩略图，您可以通过以下格式访问它们：

```
http://img.youtube.com/vi/<youtube-id>/0.jpg 480x360
http://img.youtube.com/vi/<youtube-id>/1.jpg 120x90
http://img.youtube.com/vi/<youtube-id>/2.jpg 120x90
http://img.youtube.com/vi/<youtube-id>/3.jpg 120x90 
```

因此，对于您的视频，它将是：

```
http://img.youtube.com/vi/Jxsl5DZtdcg/0.jpg
http://img.youtube.com/vi/Jxsl5DZtdcg/1.jpg
http://img.youtube.com/vi/Jxsl5DZtdcg/2.jpg
http://img.youtube.com/vi/Jxsl5DZtdcg/3.jpg 
```

# ruby-on-rails-3 - 用于比较的 rails 3 临时用户输入

> ID：12171395
> 
> 赞同：1
> 
> 时间：2012-08-29T05:26:28.823
> 
> 标签：ruby-on-rails-3

我不确定如何研究这个问题，所以也许一些很棒的 Rails 开发人员可以为我指明正确的方向。

我有一个模型，其中包含一个问题和正确答案。在显示视图中，我希望用户在输入字段中输入他们的答案，并在按下提交后，将他们的答案与模型中保存的答案进行比较。我不需要保存他们的答案。

想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T05:41:01.173

您可以为此使用非 ActiveRecord 模型。像这样的东西：

```
class UserAnswer # note that this class doesn't inherit from ActiveRecord::Base
  attr_accessor :question_id, :answer

  def initialize(params)
    @question_id = params[:question_id]
    @answer = params[:answer]
  end

  def correct?
    q = QuestionAnswerModel.find(self.question_id)
    q.answer == self.answer
  end
end 
```

然后在您的控制器中，您可以执行以下操作：

```
user_answer = UserAnswer.new(params) # params contains :question_id and :answer
user_answer.correct? # returns true or false 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T05:41:08.510

一种简单的方法是仅当答案确认等于答案时才保存答案确认。

```
Model:
  question
  answer
  answer_confirmation 
```

然后像往常一样继续制作表格。

在模型中添加

```
validate :check_answer

def check_answer
  errors.add(:answer, "Must be the same as answer confirmation") if answer!= answer_confirmation
end 
```

# php - PHP的array_key_exists - 在数组访问上使用@是一个可行的选择吗？

> ID：12171401
> 
> 赞同：0
> 
> 时间：2012-08-29T05:27:07.263
> 
> 标签：php, performance

我想知道简单地使用 PHP 的错误抑制语法是否比 array_key_exists 更快速、更简单，因为它不确定特定键是否存在。

也就是说，而不是：

```
if (array_key_exists($array, $key)) {
    $myval = $array[$key];
    [... do something with $myval ...]
} 
```

只需使用：

```
if ($myval = @$array[$key]) {
    [... do something with $myval ...]
} 
```

看起来这既更有效也更简洁，但也许它引入了我还没有看到的微妙问题或边缘情况。

这种方法的潜在问题是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T05:30:10.987

最大的问题是数组中的值可能是虚假的。

如果`$array[key] === false`那么第一种情况会进入，`if`但第二种情况不会。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T05:32:54.923

顺便说一句，您也可以使用`isset()`.

PHP 中的错误抑制运算符也大大降低了它的速度，大约是通常速度的一半。

最后，您最终会遇到一个您正在抑制错误的情况，并发现您打错了并且`$aray`也不存在，您甚至永远不会发现，因为您阻止了所有错误。

# python - 如何在python中使用正则表达式提取精确位置？

> ID：12171402
> 
> 赞同：0
> 
> 时间：2012-08-29T05:27:21.513
> 
> 标签：python, regex

> **可能重复：**
> [Python Regex Use - How to Get Positions of Matches](https://stackoverflow.com/questions/250271/python-regex-use-how-to-get-positions-of-matches)

我是 python 新手。我编写了程序，我使用正则表达式使用命令行参数从网页中提取确切数字。第一个参数应该是“金额”第二个应该是“从”第三个应该是“到”。我应该从网站“ [http ”中提取确切数字://www.xe.com/ucc/convert/?Amount=1&From=INR&To=USD](http://www.xe.com/ucc/convert/?Amount=1&From=INR&To=USD) " 应提取转换后的金额。代码是：

```
import requests
import re
import sys

amount=sys.argv[1]
from_=sys.argv[2]
to=sys.argv[3]
r = requests.get("http://www.xe.com/ucc/convert/?Amount=%(amount)s&From=%(from_)s&To=%(to)s"%{"amount":amount,"from_":from_,"to":to})
dataCrop=re.findall('[0-9,]+\.[0-9]+',r.text)
if amount<'1':
    print dataCrop[15]
else:
    print dataCrop[11] 
```

但问题是我不应该使用确切的位置

```
if amount<'1':
    print dataCrop[15]
else:
    print dataCrop[11] 
```

相反，我应该修改我的正则表达式。我该如何为此编写正则表达式？我不能用漂亮的汤。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T05:37:59.783

[*re.search*](http://docs.python.org/library/re.html#re.search)方法返回[*一个*](http://docs.python.org/library/re.html#match-objects)MatchObject 。您可以使用它的[*span*](http://docs.python.org/library/re.html#re.MatchObject.span)方法来查找匹配的位置。希望这可以帮助 ：-）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:47:47.283

在您的情况下，正则表达式匹配的位置不是很有用的信息。尽管正如@Raymond Hettinger 所建议的那样，它可以通过`re.MatchObject`.

你可以把你的任务分成三个步骤。

### 构造网页的url

```
import sys
import urllib

if len(sys.argv) != 4:
    sys.exit(2)

params = urllib.urlencode(zip("Amount From To".split(), sys.argv[1:]))
url = "http://example.com/path/?" + params 
```

`urlencode()`提供正确的编码`sys.argv`。

### 检索网页

```
from selenium.webdriver import Firefox as Browser # pip install selenium

browser = Browser()
try:
    browser.implicitly_wait(3) # seconds
    browser.get(url)
    page = browser.page_source
finally:
    browser.quit() # quit no matter what 
```

`selenium.webdriver`负责使用 javascript 生成的页面。

### 在其中查找相关数据

```
import re

print re.findall(r'(\d+.\d+).*?"uniq_class_near_data"', page) 
```

如果页面标记更改，它将中断。

这是`BeautifulSoup`用于比较的变体：

```
from bs4 import BeautifulSoup # pip install beautifulsoup4

soup = BeautifulSoup(page)
print [span.find_previous_sibling(text=re.compile(r'\d+.\d+')).strip()
       for span in soup('span', class_="uniq_class_near_data", limit=2)] 
```

# hibernate - 使用复合键、计数和 netbeans 进行休眠查询

> ID：12171406
> 
> 赞同：0
> 
> 时间：2012-08-29T05:27:38.090
> 
> 标签：hibernate, netbeans, composite-primary-key

我有 DLawUserMaster 表，其中包含 UserID、LoginId 和密码字段。其中 UserId 和 LoginId 是复合键。当用户尝试使用用户 ID 和密码登录时，我想验证用户并获取用户 ID 以将其存储在会话中，以便在应用程序中进一步使用。

我尝试在 netbeans HQL 查询编辑器中使用查询来获取用户 ID，如下所示。

1.  select count(*) from DLawUserMaster user where user.id.loginId='admin' and user.password='admin'

2.  select count(user.id.loginId) from DLawUserMaster user where user.id.loginId='admin' and user.password='admin'

3.  从 DLawUserMaster 用户中选择 user.id.userId，其中 user.id.loginId='admin' 和 user.password='admin'

* * *

## 长 | 长 | 长 | 字符

## 空白 | 空白 | 空白 | 空白的

空白表示为空，但它显示选择了 1 行。

这是代码 UserMaster.java

```
public class DLawUserMaster  implements java.io.Serializable {

 private DLawUserMasterId id;
 private String userFirstName;
 private String userMiddleName;
 private String userLastName;
 private String password;

public DLawUserMaster() {
}

public DLawUserMaster(DLawUserMasterId id, String userFirstName, String userMiddleName, String userLastName, String password, String address1, String address2, String address3, String city, String state, String pincode, String mobileNo, String stdCode, String phoneNo, String emailId, String hintQuestion, String hintAnswer, Date registrationDate, Date expiryDate, Boolean activate, Integer noOfClientAllowed, Date createdDate, Date modifiedDate) {
   this.id = id;
   this.userFirstName = userFirstName;
   this.userMiddleName = userMiddleName;
   this.userLastName = userLastName;
}

public DLawUserMasterId getId() {
    return this.id;
}

public void setId(DLawUserMasterId id) {
    this.id = id;
}
public String getUserFirstName() {
    return this.userFirstName;
}

public void setUserFirstName(String userFirstName) {
    this.userFirstName = userFirstName;
}
public String getUserMiddleName() {
    return this.userMiddleName;
}

public void setUserMiddleName(String userMiddleName) {
    this.userMiddleName = userMiddleName;
}
public String getUserLastName() {
    return this.userLastName;
}

public void setUserLastName(String userLastName) {
    this.userLastName = userLastName;
}
public String getPassword() {
    return this.password;
}

public void setPassword(String password) {
    this.password = password;
}
} 
```

用户主ID.java

```
public class DLawUserMasterId  implements java.io.Serializable {

 private long userId;
 private String loginId;

public DLawUserMasterId() {
}

public DLawUserMasterId(long userId, String loginId) {
   this.userId = userId;
   this.loginId = loginId;
}

public long getUserId() {
    return this.userId;
}

public void setUserId(long userId) {
    this.userId = userId;
}
public String getLoginId() {
    return this.loginId;
}

public void setLoginId(String loginId) {
    this.loginId = loginId;
}

public boolean equals(Object other) {
     if ( (this == other ) ) return true;
     if ( (other == null ) ) return false;
     if ( !(other instanceof DLawUserMasterId) ) return false;
     DLawUserMasterId castOther = ( DLawUserMasterId ) other; 

     return (this.getUserId()==castOther.getUserId())
&& ( (this.getLoginId()==castOther.getLoginId()) || ( this.getLoginId()!=null &&     castOther.getLoginId()!=null && this.getLoginId().equals(castOther.getLoginId()) ) );
}

public int hashCode() {
     int result = 17;

     result = 37 * result + (int) this.getUserId();
     result = 37 * result + ( getLoginId() == null ? 0 :     this.getLoginId().hashCode()      );
     return result;
} 
} 
```

谁能给我建议以获取 userID 值。还有关于如何在其中使用计数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T07:11:23.293

netbeans 显示的第一件事

```
Long | Long | Long | Char
Blank | Blank | Blank | Blank 
```

没关系，因为当你使用它时它会返回正确的值

查询 q = session.createQuery(SQL_QUERY); 列表 = q.list()

在列表中它将返回计数。

其次，当我们使用复合键时，我们使用了在 bean 中定义的主键类的对象

如果您需要通过查询从 DLawClientMaster 客户端中选择 client.id.clientId 的结果，其中 client.id.userId='1' 和 client.id.clientId='1'

如果您使用的是标准 API，那么

```
Criteria criteria = session.createCriteria(DLawClientMaster.class);
criteria.add(Restrictions.eq("id.userId", client.getId().getUserId()));
criteria.setProjection(Projections.max("id.clientId"));
List list = criteria.list(); 
```

谢谢

# c# - 如何断言两个列表包含 NUnit 中具有相同公共属性的元素？

> ID：12171411
> 
> 赞同：21
> 
> 时间：2012-08-29T05:27:55.450
> 
> 标签：c#, .net, unit-testing, nunit, assertion

我想断言两个列表的元素包含我期望的值，例如：

```
var foundCollection = fooManager.LoadFoo();
var expectedCollection = new List<Foo>() 
{
    new Foo() { Bar = "a", Bar2 = "b" },
    new Foo() { Bar = "c", Bar2 = "d" }
};

//assert: I use AreEquivalent since the order does not matter
CollectionAssert.AreEquivalent(expectedCollection, foundCollection); 
```

但是上面的代码不起作用（我猜是因为 .Equals() 不会为具有相同值的不同对象返回 true ）。在我的测试中，我只关心公共属性值，而不关心对象是否相等。我能做些什么来做出我的主张？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-08-29T08:19:20.820

**重新设计的答案**

有一个`CollectionAssert.AreEqual(IEnumerable, IEnumerable, IComparer)`重载断言两个集合以相同的顺序包含相同的对象，使用`IComparer`实现来检查对象等价性。

在上述场景中，顺序并不重要。但是，为了充分处理两个集合中存在多个等价对象的情况，有必要首先对每个集合中的对象进行排序，并使用一对一比较来确保等价对象的数量也相同在两个集合中。

`Enumerable.OrderBy`提供带`IComparer<T>`参数的重载。为了确保两个集合以相同的顺序排序，或多或少需要标识属性的类型实现`IComparable`。下面是一个比较器类的示例，它同时实现了`IComparer`和`IComparer<Foo>`接口，并且假定`Bar`在排序时优先：

```
public class FooComparer : IComparer, IComparer<Foo>
{
    public int Compare(object x, object y)
    {
        var lhs = x as Foo;
        var rhs = y as Foo;
        if (lhs == null || rhs == null) throw new InvalidOperationException();
        return Compare(lhs, rhs);
    }

    public int Compare(Foo x, Foo y)
    {
        int temp;
        return (temp = x.Bar.CompareTo(y.Bar)) != 0 ? temp : x.Bar2.CompareTo(y.Bar2);
    }
} 
```

要断言两个集合中的对象相同并且数量相同（但不一定以相同的顺序开始），以下几行应该可以解决问题：

```
var comparer = new FooComparer();
CollectionAssert.AreEqual(
    expectedCollection.OrderBy(foo => foo, comparer), 
    foundCollection.OrderBy(foo => foo, comparer), comparer); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-08-29T07:47:15.037

不，NUnit 没有像当前状态这样的机制。您必须推出自己的断言逻辑。作为单独的方法，或利用`Has.All.Matches`：

```
Assert.That(found, Has.All.Matches<Foo>(f => IsInExpected(f, expected)));

private bool IsInExpected(Foo item, IEnumerable<Foo> expected)
{
    var matchedItem = expected.FirstOrDefault(f => 
        f.Bar1 == item.Bar1 &&
        f.Bar2 == item.Bar2 &&
        f.Bar3 == item.Bar3
    );

    return matchedItem != null;
} 
```

这当然假设您预先知道所有相关属性（否则，`IsInExpected`将不得不求助于反射）并且元素顺序不相关。

（并且您的假设是正确的，NUnit 的集合断言使用类型的默认比较器，在大多数情况下，用户定义的比较器将是 object's `ReferenceEquals`）

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2014-04-22T21:30:50.300

使用 Has.All.Matches() 非常适合将**找到**的集合与**预期**的集合进行比较。但是，不必将 Has.All.Matches() 使用的谓词定义为单独的函数。对于相对简单的比较，可以像这样将谓词作为 lambda 表达式的一部分包含在内。

```
Assert.That(found, Has.All.Matches<Foo>(f => 
    expected.Any(e =>
        f.Bar1 == e.Bar1 &&
        f.Bar2 == e.Bar2 &&
        f.Bar3 == e.Bar3))); 
```

现在，虽然这个断言将确保**找到**的集合中的每个条目也存在于**预期**的集合中，但它并不能证明相反的情况，即**预期**集合中的每个条目都包含在**找到**的集合中。因此，当知道**found**和**expected** contains 在语义上是等价的（即它们包含相同的语义上等价的条目）很重要时，我们必须添加一个额外的断言。

最简单的选择是添加以下内容。

```
Assert.AreEqual(found.Count(), expected.Count()); 
```

对于那些喜欢更大的锤子的人，可以使用以下断言。

```
Assert.That(expected, Has.All.Matches<Foo>(e => 
    found.Any(f =>
        e.Bar1 == f.Bar1 &&
        e.Bar2 == f.Bar2 &&
        e.Bar3 == f.Bar3))); 
```

通过将上面的第一个断言与第二个（首选）或第三个断言结合使用，我们现在已经证明这两个集合在语义上是相同的。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-08-29T06:40:41.987

你有没有尝试过这样的事情？

```
Assert.That(expectedCollection, Is.EquivalentTo(foundCollection)) 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-10-15T11:47:54.950

我有一个类似的问题。列出贡献者，其中包含“评论者”和其他人......我想获得所有评论并从中派生创作者，但我只对独特的创作者感兴趣。如果有人创建了 50 条评论，我只希望她的名字出现一次。所以我写了一个测试，看看评论者是否在 GetContributors() 结果中。

我可能是错的，但我认为你之后的事情（我发现这篇文章时的事情）是断言在一个集合中的每个项目中都有一个，在另一个集合中找到。

我这样解决了这个问题：

```
Assert.IsTrue(commenters.All(c => actual.Count(p => p.Id == c.Id) == 1)); 
```

如果您还希望结果列表不包含预期之外的其他项目，您也可以比较列表的长度..

```
Assert.IsTrue(commenters.length == actual.Count()); 
```

我希望这是有帮助的，如果是这样，如果你能评价我的回答，我将非常感激。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-08-29T06:10:36.420

要对复杂类型执行等价操作，您需要实现 ICmaprable。

[http://support.microsoft.com/kb/320727](http://support.microsoft.com/kb/320727)

或者，您可以使用不太理想的递归反射。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-08-29T07:53:36.347

一种选择是编写自定义约束来比较项目。这是一篇关于这个主题的好文章：[http ://www.davidarno.org/2012/07/25/improving-nunit-custom-constraints-with-syntax-helpers/](http://www.davidarno.org/2012/07/25/improving-nunit-custom-constraints-with-syntax-helpers/)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-02-10T12:30:15.200

我建议不要使用反射或任何复杂的东西，它只会增加更多的工作/维护。

序列化对象（我推荐 json）和字符串比较它们。我不确定您为什么反对订购，但我仍然推荐它，因为它会为每种类型保存自定义比较。

它会自动处理域对象的变化。

示例（SharpTestsEx for fluent）

```
using Newtonsoft.Json;
using SharpTestsEx;

JsonConvert.SerializeObject(actual).Should().Be.EqualTo(JsonConvert.SerializeObject(expected)); 
```

您可以将其编写为简单的扩展并使其更具可读性。

```
 public static class CollectionAssertExtensions
    {
        public static void CollectionAreEqual<T>(this IEnumerable<T> actual, IEnumerable<T> expected)
        {
            JsonConvert.SerializeObject(actual).Should().Be.EqualTo(JsonConvert.SerializeObject(expected));
        }
    } 
```

然后使用您的示例调用它，如下所示：

```
var foundCollection = fooManager.LoadFoo();
var expectedCollection = new List<Foo>() 
{
    new Foo() { Bar = "a", Bar2 = "b" },
    new Foo() { Bar = "c", Bar2 = "d" }
};

foundCollection.CollectionAreEqual(foundCollection); 
```

您将收到如下断言消息：

...:"a","Bar2":"b"},{"Bar":"d","Bar2":"d"}]

...:"a","Bar2":"b"},{"Bar":"c","Bar2":"d"}]

... ***_* __ *_* __ *_* __ *_* __ *_* __ *_* __****^* ***_* __ *_* _***

 ** * *

## 回答 #9

> 赞同：0
> 
> 时间：2018-04-10T01:27:16.810

解释如何使用 IComparer 的简单代码

```
using System.Collections;
using System.Collections.Generic;
using Microsoft.VisualStudio.TestTools.UnitTesting;

namespace CollectionAssert
{
    [TestClass]
    public class UnitTest1
    {
        [TestMethod]
        public void TestMethod1()
        {
            IComparer collectionComparer = new CollectionComparer();
            var expected = new List<SomeModel>{ new SomeModel { Name = "SomeOne", Age = 40}, new SomeModel{Name="SomeOther", Age = 50}};
            var actual = new List<SomeModel> { new SomeModel { Name = "SomeOne", Age = 40 }, new SomeModel { Name = "SomeOther", Age = 50 } };
            NUnit.Framework.CollectionAssert.AreEqual(expected, actual, collectionComparer);
        }
    }

    public class SomeModel
    {
        public string Name { get; set; }
        public int Age { get; set; }
    }

    public class CollectionComparer : IComparer, IComparer<SomeModel>
    {
        public int Compare(SomeModel x, SomeModel y)
        {
            if(x == null || y == null) return -1;
            return x.Age == y.Age && x.Name == y.Name ? 0 : -1;
        }

        public int Compare(object x, object y)
        {
            var modelX = x as SomeModel;
            var modelY = y as SomeModel;
            return Compare(modelX, modelY);
        }
    }
} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2020-04-20T01:54:13.420

`Assertion`这使用程序集中的 NUnit类解决了我的问题`NUnitCore`：

```
AssertArrayEqualsByElements(list1.ToArray(), list2.ToArray()); 
```*

# c++ - 获取dll中的应用程序路径

> ID：12171416
> 
> 赞同：0
> 
> 时间：2012-08-29T05:28:08.997
> 
> 标签：c++, dll, wxwidgets

我的主机应用程序是使用 wxWidgets 开发的，我需要纯 C++ dll 中的应用程序路径。如果我正在开发一个可执行应用程序，我可以从 argv[0] 获取应用程序路径。但是，如果我正在开发一个 dll，我如何仅使用 C++ 来获取应用程序路径？是否可以？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T05:56:36.653

由于您提到 .dll，您很可能正在开发 Windows .dll。如果您想要使用 .dll 的 .exe 路径，请调用[`GetModuleFileName(NULL, ...)`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms683197%28v=vs.85%29.aspx). 如果你想要.dll的路径，你可以传入`HINSTANCE`传递给的参数`DllMain`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T21:18:51.957

如果您希望获取主机中的应用程序路径（并将其传递到 DLL 代码中取消方法），那么您可以按照其他回答者的建议使用 windows API GetModuleFileName()。或者，您可以使用 wxWidgets 方法 wxStandardPaths:: [GetExecutablePath](http://docs.wxwidgets.org/2.9.3/classwx_standard_paths.html#aca76479d42511c0b45f39b0cfbb35c6b) ()

# java - 使用 Tomcat 的基于 ADF 的应用程序：无法在 IE 中登录

> ID：12171417
> 
> 赞同：0
> 
> 时间：2012-08-29T05:28:17.107
> 
> 标签：java, internet-explorer, tomcat, login, oracle-adf

我支持一些项目，使用`ADF (using JDeveloper 11.1.2.2.0)`并部署到`Tomcat 7.0.28.`

在登录之前和之后，IT 存在问题`JSessionID:`
应该有所不同。为了解决这个问题，在我的方法`validate()`中（在用户提交登录表单时执行）我执行以下操作：

```
ExternalContext ec = FacesContext.getCurrentInstance().getExternalContext();
HttpSession session = (HttpSession)ec.getSession(false);
session.invalidate();
session = (HttpSession)ec.getSession(true);
//setting some special session attributes
ec.redirect("nextPage"); 
```

当我到达时，`nextPage`我可以获得具有上面设置的特殊属性的会话并走得更远。当我从 Firefox 或 Chrome 登录时，一切正常。

但是，当我使用 IE 8.0 登录并重定向到 时`nextPage`，我的代码会在没有这些特殊属性的情况下获取会话并将我返回到登录页面。

使用 Wireshark 我意识到，当 Firefox 登录时，它会发送带有用户输入（用户名/密码）的 POST 请求，使用 new 接收答案，使用 new`JSessionID in SetCookie parameter`发送另一个请求`Adf-Window-id`并接收答案，然后将其重定向到`nextPage`.

但是对于 IE 流程是不同的：登录时 IE 发送`two POST request in a row` `(first with user input, second with Adf-Window-id)`，然后收到两个答案，每个答案都有不同的`JSessionID`. 它存储最后一个并被重定向到`nextPage`. 显然，最后一个 JSessionID 不属于我设置特殊属性的会话。

我已经花了几天时间试图通过挖掘配置和谷歌来解决这个问题，但没有成功。我所看到的 - IE 有时可以按预期登录（在这种情况下，上面提到的两个答案是以相反的顺序收到的），但它很少发生。

也许您遇到过同样的问题并解决了？或者，也许我做错了/期待错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T05:45:12.000

实际上，您所做的事情是行不通的。当您执行 Java EE 容器管理的身份验证时，您需要对用户会话进行身份验证。如果您使会话无效，则用户身份验证也将消失。唯一可行的方法是使用基本身份验证，在这种情况下，浏览器会随每个请求发送使用凭据。

Oracle WLS 对此有一个专有方法，允许更新会话 ID 而不会使其无效。Tomcat 似乎也存在类似情况，请参见此处：[http ://www.koelnerwasser.de/?p=11](http://www.koelnerwasser.de/?p=11)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T07:23:10.883

我通过实现自己的 servlet 解决了所描述的问题。

成功登录后，设置了必要的会话属性，并且会话**不会**失效。然后，用户被重定向到我自己的 servlet 的上下文中，它保存所有会话属性、使会话无效、创建新会话并恢复旧属性。之后，这个 servlet 进一步重定向用户，他应该在登录后到达哪里。当然，有一些安全技巧。

# c# - ASP 中继器 - 不重复来自 xPath 的数据

> ID：12171420
> 
> 赞同：0
> 
> 时间：2012-08-29T05:28:41.470
> 
> 标签：c#, asp.net, xpath

我有一个提供转发器控件的 XML 数据源。但是，我在获取要显示的实际数据时遇到了一些问题。

XML DataSource 包含材料厚度列表（取自较大的 XML 文件），以及价格、尺寸和尺寸数据：

```
<Thickness>
  <Thick>
    <Size label="Thickness: 12"><![CDATA[12]]></Size>
    <Price>5778</Price>
    <From>0</From>
    <To>0</To>
  </Thick>
  <Thick>
    <Size label="Thickness: 22"><![CDATA[22]]></Size>
    <Price>5919</Price>
    <From>0</From>
    <To>0</To>
  </Thick>
  ...
</Thickness> 
```

我使用以下代码加载 DataSource：

```
myThickness.XPath = "/Item[@label='" + tvwMaterials.SelectedNode.Text + "']/Thickness/*";
myThickness.DataBind(); 
```

（其他 XPath 的东西只是为了得到厚度的东西）。然后我尝试将它加载到转发器（数据绑定到 XML 数据源）并使用以下代码显示它：

```
<ItemTemplate>
    <table>
        <tr>
            <td><asp:Label ID="lblThickness" runat="server" Text="Thickness: " />
            <asp:TextBox ID="txtThickness" runat="server" Text='<%# XPath("Thick/Size") %>' />
        </tr><tr>
            <td><asp:Label ID="Label2" runat="server" Text="From: " />
            <asp:TextBox ID="TextBox1" runat="server" Text='<%# XPath("Thick/From") %>' />

         /tr>
    </table>
</ItemTemplate> 
```

这正确加载了控件的数量，但控件不显示任何数据。如果我将加载事件中的 xPAth 更改为：

```
myThickness.XPath = "/Item[@label='" + tvwMaterials.SelectedNode.Text + "']/Thickness"; 
```

然后控件确实显示数据，但仅针对第一条记录（12 和 0）。我对 xPAth 还不够熟悉，还不清楚是否需要 /* 后面的厚度，如果需要，我将如何在中继器中构造 xPAth 以读出值。任何人有任何指针，请？

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:04:28.130

像这样加载它：

```
myThickness.XPath = "/Item[@label='" + tvwMaterials.SelectedNode.Text + "']/Thickness/Thick";
myThickness.DataBind(); 
```

您的数据源路径必须引用 xml 文档中的重复元素。

```
<ItemTemplate>
    <table>
        <tr>
            <td><asp:Label ID="lblThickness" runat="server" Text="Thickness: " />
            <asp:TextBox ID="txtThickness" runat="server" Text='<%# XPath("Size") %>' />
        </tr><tr>
            <td><asp:Label ID="Label2" runat="server" Text="From: " />
            <asp:TextBox ID="TextBox1" runat="server" Text='<%# XPath("From") %>' />

         /tr>
    </table>
</ItemTemplate> 
```

# c# - mschart 缩放和滚动

> ID：12171423
> 
> 赞同：2
> 
> 时间：2012-08-29T05:29:22.063
> 
> 标签：c#, asp.net, webforms, jqplot

这一定是一个愚蠢的问题，但我有点陷入困境。我需要使用 c# 为 Web 应用程序在 mschart 上显示 6000 多条记录。但他的问题是它显示时没有空格，但这是不可接受的，因为我想查看每个记录的单独列。我浏览了许多在线提供的解决方案，但不适用于我的问题，我试过了，

```
//Set automatic zooming
chart1.ChartAreas["Default"].AxisX.ScaleView.Zoomable = true;
chart1.ChartAreas["Default"].AxisY.ScaleView.Zoomable = true;

// Set automatic scrolling 
chart1.ChartAreas["Default"].CursorX.AutoScroll = true;
chart1.ChartAreas["Default"].CursorY.AutoScroll = true; 
```

但是 AxisX, AxisY 命令给出了一个错误，说不可用。请帮助我，我尽我所能，但它不起作用。我什至试过这个，

[http://nuget.org/packages/MSChartExtension](http://nuget.org/packages/MSChartExtension)

尽管它适用于 Windows 窗体，但没有运气..请帮助我..我非常感谢。:)

编辑：这是我在参考之后想出的代码..但它没有显示任何内容:(我是这个菜鸟请帮忙:)

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org /TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <link rel="stylesheet" type="text/css" href="jquery.jqplot.css" />
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head id="Head1" runat="server">
        <title></title>
    </head>
    <body>
        <form id="form1" runat="server">

        <div>

        </div>
               <div id="chartdiv" style="height:400px;width:300px; ">
               <!--[if lt IE 9]><script language="javascript" type="text/javascript" src="excanvas.js"></script><![endif]-->
               <script language="javascript" type="text/javascript" src="jquery.min.js"></script>
               <script language="javascript" type="text/javascript" src="jquery.jqplot.min.js"></script>

               <script language="javascript" type="text/javascript">

                     $.jqplot('chartdiv', [[[1, 2], [3, 5.12], [5, 13.1], [7, 33.6], [9, 85.9], [11, 219.9]]]);
               </script>
        </div>
        </form>
    </body>
    </html> 
```

我将从这里下载的所有 javascript 放到我的项目文件夹中，即 C:\Users\DELL\Documents\Visual Studio 2010\WebSites\WebSite1 .. 如果我错了，请纠正我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:45:55.357

如果您仍处于开发初期，我强烈建议您使用[jqPlot](http://www.jqplot.com/tests/) ，因为它有很多选项和出色的视觉效果。它也很容易与 ASP.NET 一起使用。

**编辑：** 从您的代码看来，您忘记添加对脚本文件的引用，如此处[所述](http://www.jqplot.com/docs/files/usage-txt.html)

您应该将这些添加到`<head></head>`您的页面中：（将**src**更改为项目中文件的位置）

```
 <!--[if lt IE 9]><script language="javascript" type="text/javascript" src="excanvas.js"></script><![endif]-->
<script language="javascript" type="text/javascript" src="jquery.min.js"></script>
<script language="javascript" type="text/javascript" src="jquery.jqplot.min.js"></script>
<link rel="stylesheet" type="text/css" href="jquery.jqplot.css" /> 
```

# android - 转换为 Dalvik 格式失败，出现错误 1：- 没有解决方案有效

> ID：12171426
> 
> 赞同：2
> 
> 时间：2012-08-29T05:29:26.783
> 
> 标签：android, admob, andengine, dalvik

我在我的项目中添加 admob 外部 jar 并且我使用 andengine 作为库项目但是当我尝试导出项目时出现此错误。另外添加andengine库项目也在android依赖项中添加andengine.jar。假设会发生这种情况吗？

我在stackoverflow上尝试了几乎所有其他答案，但似乎没有任何效果。

如果有人可以帮助我吗？

以下是我的项目图片

![我的项目截图](../Images/52193387b5027b69e9281d149178bedb.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-29T09:30:04.597

刚刚解决了这个问题。我将我的 sdk 更新到最新版本，这解决了问题！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:19:32.357

尝试退出 eclipse，如果需要，请备份，删除 gen 和 bin 文件夹。再次启动eclipse，构建然后导出。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-25T08:40:43.687

这通常发生在我运行了很长时间之后，或者在我成功构建了一个签名的 apk 之后。要修复它，我只需重新启动 Eclipse。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-25T08:43:55.110

在`Eclipse`中，选择导致错误**的项目 - 转到菜单项目 -> 属性 -> java 构建路径 -> 库**并删除所有 jars，包括 android jars。

然后，右键单击项目，**转到 android tools -> fix project properties**。**然后，按照相同的菜单项目 -> 属性 -> java 构建路径 -> 库**，将要添加的任何其他外部 jar 添加到构建路径中。确保没有由于缺少库而导致的错误。

然后，对菜单项目进行“清理”并再次构建。它应该工作。

# javascript - 当 wsdl 位于客户端本身时，在 javascript 中调用 Web 服务方法

> ID：12171427
> 
> 赞同：1
> 
> 时间：2012-08-29T05:29:39.393
> 
> 标签：javascript, web-services

我是 JavaScript 新手。我的系统上有一个与 Web 服务相对应的 wsdl 文件。我需要使用该 wsdl 文件调用 Web 方法。由于 wsdl 在我的系统上，Javascript 不允许访问本地系统。

谁能让我知道如何调用网络服务的方法？

请尽快回复。

# c++ - 使用 wxBoxSizer 在 wxWindow 上居中 wxStaticText

> ID：12171429
> 
> 赞同：0
> 
> 时间：2012-08-29T05:29:46.267
> 
> 标签：c++, wxwidgets

我想将我的 wxStaticText 集中在 wxWindow 上，但似乎这不起作用。这是我的代码：

```
#include <iostream> 
#include <wx/wx.h>
#include <wx/gbsizer.h>

using namespace std;

class MyApp: public wxApp
{
    virtual bool OnInit();
};

bool MyApp::OnInit()
{
 wxFrame *frame = new wxFrame(NULL,wxID_ANY,wxT("fenetre"));
 wxWindow *win = new wxWindow(frame,wxID_ANY);
 win->SetWindowStyle(wxBORDER_RAISED);
 wxStaticText *text = new wxStaticText(win,wxID_STATIC,wxT("Mon texte"));
 wxBoxSizer *b = new wxBoxSizer(wxVERTICAL);
 wxGridBagSizer *box = new wxGridBagSizer();
 wxButton *button = new wxButton(frame,wxID_ANY,wxT("salut"));
 b->Add(text,0,wxALIGN_CENTRE);
 win->SetSizer(b);
 box->Add(win,wxGBPosition(0,0),wxDefaultSpan,wxALL|wxALIGN_CENTER|wxGROW);
 box->Add(button,wxGBPosition(1,0),wxDefaultSpan,wxALL|wxGROW);
 box->AddGrowableCol(0);
 box->AddGrowableRow(0);
 box->AddGrowableRow(1);
 frame->SetSizer(box);
 frame->Show(true);
 return true; 
}

DECLARE_APP(MyApp)
IMPLEMENT_APP(MyApp) 
```

我不知道出了什么问题，但是 wxStaticText 并没有以我的 wxWindow 为中心。请告诉我缺少什么。

我的 wxStaticText 代码直接在框架上。

```
#include <wx/gbsizer.h>

using namespace std;

class MyApp: public wxApp
 {
     virtual bool OnInit();
 };

 bool MyApp::OnInit()
 {
   wxFrame *frame = new wxFrame(NULL,wxID_ANY,wxT("fenetre"));
   //wxFrame *win = new wxFrame(frame,wxID_ANY,wxT("hh"));
   wxStaticText *text = new       wxStaticText(frame,wxID_STATIC,wxT("Mon texte"),wxDefaultPosition,wxDefaultSize,wxALIGN_CENTER_HORIZONTAL);
  text->SetWindowStyle(wxBORDER_RAISED);
  //wxBoxSizer *b = new wxBoxSizer(wxVERTICAL);
  wxGridBagSizer *box = new wxGridBagSizer();
  wxButton *button = new wxButton(frame,wxID_ANY,wxT("salut"));
  //b->Add(text,0,wxALIGN_CENTRE);
  //win->SetSizer(b);
  box->Add(text,wxGBPosition(0,0),wxDefaultSpan,wxALL|wxALIGN_CENTER);
  box->Add(button,wxGBPosition(1,0),wxDefaultSpan,wxALL|wxGROW);
  box->AddGrowableCol(0);
  box->AddGrowableRow(0);
  box->AddGrowableRow(1);
  frame->SetSizer(box);
  frame->Show(true);
  return true;
 }

 DECLARE_APP(MyApp)
 IMPLEMENT_APP(MyApp) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T14:59:44.790

不要将控件直接放在框架上，即作为框架的子级。

不要这样做：

```
wxStaticText *text = new       wxStaticText(frame,wxID_STATIC,wxT("Mon texte"), 
```

最好将 wxPanel 创建为框架的单个子项，并将控件放置为面板的子项。

请，请，请，请查看示例应用程序并按照其中的方式进行操作。

如果您使用示例应用程序代码作为起点，那么您将节省大量时间，包括您自己和其他人的时间。

# android - 我只想从初始状态开始我的应用程序

> ID：12171433
> 
> 赞同：0
> 
> 时间：2012-08-29T05:30:15.853
> 
> 标签：android, android-layout

当我在 1 个活动上按下图像时，我有 2 个活动，它会启动 2 个活动。每次启动 2 个活动时，它都会触发`http`请求并形成表格。

它工作正常，但是当我按下“返回”按钮然后再次启动应用程序并进入 2 活动时。

它不会清除表的先前数据并添加来自http请求的数据。我没有使用数据库，它只是一个`xml`表格布局。

只是我只想从初始状态开始我的应用程序。

当我支持整个应用程序时，我不希望 android 系统记住活动的先前状态。

请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:33:25.330

在清单中，对于第二个活动 write `android:noHistory="true"`，它不会记住历史。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T10:25:23.857

那么我可能认为您应该在后按时完全关闭应用程序，这样您的问题就会得到解决。这是代码：-

```
 @Override
 public void onBackPressed() 
 {
    finish();
    android.os.Process.killProcess(android.os.Process.myPid());
 } 
```

这种方法会杀死应用程序，当然你的问题！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T06:00:52.783

如果我是正确的（根据您的问题），您需要在进行 http 调用之前检查视图，例如让我们说您在表格布局中有一个 textview，然后在进行 http 调用之前检查如下：

```
 if(getthevalueoftextview!=null){ 

           textview.setText("");
       } 
```

# java - 带有 Junit 的 EMMA，我应该使用检测类还是 java 类进行测试？

> ID：12171438
> 
> 赞同：0
> 
> 时间：2012-08-29T05:30:50.267
> 
> 标签：java, ant, junit, emma

我一直在为我的 ant 脚本 for emma/junit阅读本[教程，它指出](http://wiki.metawerx.net/wiki/UsingEMMAWithANTForJUnitTestCoverageReporting)

> 在 的`<classpath>`元素中`<junit>`，更改真实类的位置，以便指向 ${instr.dir} 属性而不是正常的目标/类文件夹。

这是我的 Apache Ant 的 build.xml 中的 emma 部分（[pastebin](http://pastebin.com/raw.php?i=AzsuRHa1)链接到完整的 build.xml）

```
<!-- =================================================================== -->
<!-- Run the tests with EMMA
* depends from  compile                                                                                                                        -->
<!-- =================================================================== -->
<target name="emmatest" depends="compile" description="Tests the project with Emma Query" >
    <!-- ======================================================================= -->
    <!-- EMMA INSTRUMENTATION -->
    <!-- ======================================================================= -->
    <emma enabled="${emma.enabled}" >
        <instr instrpathref="emma.coverage.classes"
             destdir="${instr.dir}"
             metadatafile="${coverage.dir}/metadata.emma"
             merge="true"
             >
            <filter value="${emma.filter}" />
        </instr>
    </emma> 
    <junit fork="true" forkmode="once" >
         <test name="test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.AppenderLayoutTest" todir="${coverage.dir}">
          <formatter type="xml"/>
          </test>
         <classpath>
                <path refid="emma.lib" />
                <pathelement location="${instr.dir}"/>
                <fileset dir="${lib.dir}">
                   <include name="**/*.jar"/>
                </fileset>
        </classpath>
         <jvmarg value="-Demma.coverage.out.file=${coverage.dir}/coverage.emma" />
         <jvmarg value="-Demma.coverage.out.merge=false" />
    </junit>
</target> 
```

构建部分结果`emma`：**JUNIT 失败结果，指向`${instr.dir}`**

```
 emmatest:
 [instr] processing instrumentation path ...
 [instr] instrumentation path processed in 109 ms
 [instr] [6 class(es) instrumented, 0 resource(s) copied]
 [instr] metadata merged into [C:\Users\Michael\workspace\log4jassignment.s06005586\build\emma-reports\metadata.emma] {in 42 ms}
 [junit] Test test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.AppenderLayoutTest FAILED 
```

构建部分结果为`junitreport`：**JUNIT Pass Result，指向`real classes ${build.classes}`**

```
test:
[junit] Running test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.AppenderLayoutTest
[junit] Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 0.504 sec
[junit] Running test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.StressTest
[junit] Tests run: 6, Failures: 0, Errors: 0, Time elapsed: 0.526 sec 
```

我想知道为什么我的 JUNIT 测试`AppenderLayoutTest`在 emma 上失败但在 junit 上通过了。我也很有信心我`coverage file`没有被创建，因为 JUNIT for`AppenderLayoutTest`失败了。

我是否使用错误的类集进行测试？还是我错过了什么？

**更新：2012 年 8 月 28 日下午 6:21**

然后我改变了

```
<test 
name="test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.AppenderLayoutTest"
todir="${coverage.dir}"> 
```

和

```
<batchtest>
    <fileset dir="${instr.dir}" includes="**/*Test.class" />
</batchtest> 
```

以及更新的构建部分结果`emma`：**JUNIT Fail Result，指向`${instr.dir}`**哪里..

```
emmatest:
[instr] processing instrumentation path ...
[instr] instrumentation path processed in 105 ms
[instr] [6 class(es) instrumented, 0 resource(s) copied]
[instr] metadata merged into [C:\Users\Michael\workspace\log4jassignment.s06005586\build\emma-reports\metadata.emma] {in 89 ms}
[junit] TEST test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.AppenderLayoutTest FAILED
[junit] TEST test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.StressTest FAILED
[junit] Tests FAILED 
```

**更新：下午 7:02**

我添加了`<formatter type="plain" usefile="false" />`，这是输出

```
emmatest:
[instr] [EMMA v2.1, build 5320 (stable) (2005/06/20 22:08:27)]
[instr] instrumentation path:
[instr] {
[instr]   C:\Users\Michael\workspace\log4jassignment.s06005586\build\classes
[instr] }
[instr] instrumentation output mode: copy
[instr] metadata output file: C:\Users\Michael\workspace\log4jassignment.s06005586\build\emma-reports\metadata.emma
[instr] metadata output merge mode: true
[instr] processing dir path entry [C:\Users\Michael\workspace\log4jassignment.s06005586\build\classes] ...
[instr] instrumentation path processed in 147 ms
[instr] [6 class(es) instrumented, 0 resource(s) copied]
[instr] metadata contains 6 entries
[instr] metadata merged into [C:\Users\Michael\workspace\log4jassignment.s06005586\build\emma-reports\metadata.emma] {in 49 ms}
[junit] Running test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.AppenderLayoutTest
[junit] Testsuite: test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.AppenderLayoutTest
[junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec
[junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec
[junit]     Caused an ERROR
[junit] Illegal local variable table length 17 in method test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.AppenderLayoutTest.<init>()V
[junit] java.lang.ClassFormatError: Illegal local variable table length 17 in method test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.AppenderLayoutTest.<init>()V
[junit]     at java.lang.Class.forName0(Native Method)
[junit]     at java.lang.Class.forName(Unknown Source)
[junit] TEST test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.AppenderLayoutTest FAILED
[junit] Running test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.StressTest
[junit] Testsuite: test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.StressTest
[junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec
[junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec
[junit]     Caused an ERROR
[junit] Expecting a stackmap frame at branch target 11 in method test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.StressTest.<init>()V at offset 4
[junit] java.lang.VerifyError: Expecting a stackmap frame at branch target 11 in method test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.StressTest.<init>()V at offset 4
[junit]     at java.lang.Class.forName0(Native Method)
[junit]     at java.lang.Class.forName(Unknown Source)
[junit] TEST test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.StressTest FAILED
[junit] Tests FAILED 
```

什么是 `[junit] java.lang.ClassFormatError: Illegal local variable table length 17 in method test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.AppenderLayoutTest.<init>()V`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:18:45.257

你可以尝试更换

```
<test 
name="test.nz.ac.massey.cs.sdc.log4jassignment.s06005586.AppenderLayoutTest"
todir="${coverage.dir}"> 
```

和

```
<batchtest>
    <fileset dir="${instr.dir}" includes="**/*Test.class" />
</batchtest> 
```

最后，我会要求您`sysout`在测试中添加一些内容，看看测试中出了什么问题。这可能与我感觉的配置有关。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:13:53.657

查看您共享的最新跟踪似乎可以使用

```
-XX:-UseSplitVerifier 
```

作为VM参数来摆脱与JDK7相关的错误。

或[检查一下](https://stackoverflow.com/questions/7010665/testng-emma-cobertura-coverage-and-jdk-7-result-in-classformaterror-and-verif)

# windows - 隐藏组合框中的下拉箭头 Windows 8

> ID：12171439
> 
> 赞同：0
> 
> 时间：2012-08-29T05:30:54.123
> 
> 标签：windows, c#-4.0, microsoft-metro

如何在 Metro 风格应用程序（Windows 8）的组合框中禁用下拉箭头

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T00:28:03.160

如果您要永久禁用它，只需编辑 ControlTemplate。您可以删除此弹出窗口...或进行各种其他基本模板编辑以使其不再起作用。

特别是命名实体 DropDownGlyph：

```
<TextBlock x:Name="DropDownGlyph" Grid.Column="1" 
    Foreground="{StaticResource ComboBoxArrowForegroundThemeBrush}" 
    FontWeight="Bold" 
    FontSize="{StaticResource ComboBoxArrowThemeFontSize}" 
    FontFamily="{StaticResource SymbolThemeFontFamily}" 
    HorizontalAlignment="Right" IsHitTestVisible="False" 
    Margin="0,0,6,4" Text="&#xE011;" 
    VerticalAlignment="Center"/> 
```

如果这是暂时的事情，考虑到您想要切换的场景，那么最简单的方法是使用两个控件， a`TextBlock`和 a `ComboBox`。根据另一个属性（例如）切换可见性（使用许多 VS2012 模板中包含的`BooleanToVisibilityConverter`和）。将 TextBlock 和 ComboBox 绑定到同一个属性。只要两个控件共享一个共同的父级和位置，它应该看起来不错。`BooleanNegationConverter``ShowAsComboBox`

# iphone - 在 iphone 中读取文本文件

> ID：12171440
> 
> 赞同：2
> 
> 时间：2012-08-29T05:31:16.237
> 
> 标签：iphone, ios, nsstring

我想读取放置在服务器上的文本文件。例如我的文件放在这个链接上： http: [//mysite.com/files/objects.txt](http://mysite.com/files/objects.txt) 我怎样才能读入这个文件的内容`NSString`？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-29T05:36:59.327

试试这个：

```
NSError* e;
NSString* str = [NSString stringWithContentsOfURL:@"http://mysite.com/files/objects.txt" encoding:NSASCIIEncoding error:&e]
if(e != nil) {
  //There was an error
}
//Everything good 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-12T03:00:13.067

请注意，随着最近的 iOS 更新，语法已经改变......

```
NSError* err;
NSURL* url = [NSURL URLWithString:@"<your URL goes here>"];
NSString* str = [NSString stringWithContentsOfURL:url
                                             encoding:NSASCIIStringEncoding
                                                error:&err]; 
```

# pdf - 从 WinJS 应用程序打开 PDF 文件

> ID：12171444
> 
> 赞同：6
> 
> 时间：2012-08-29T05:31:32.647
> 
> 标签：pdf, windows-8, winjs

我有一个应用程序，用户在其中单击一个按钮，并且应该显示一个存储在应用程序中的 PDF。

他们可以在应用程序内部查看 PDF，或者启动本机 Windows PDF 查看器，无论哪种方式都可以。

如何为按钮单击提供链接/事件处理程序以启动 PDF 文件的视图？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-29T09:20:48.257

使用 Launcher 类的[LaunchFileAsync 函数](http://msdn.microsoft.com/en-us/library/windows/apps/hh701465.aspx)，

描述：使用指定的选项启动与指定文件关联的默认应用程序。

示例代码：

```
Windows.System.Launcher.launchFileAsync(file, options).done( /* Your success and error handlers */ ); 
```

# c++ - 使用 COCOS2D-X 进行文件 I/O

> ID：12171445
> 
> 赞同：6
> 
> 时间：2012-08-29T05:31:41.710
> 
> 标签：c++, xcode, cocos2d-x

我正在尝试加载一个名为`POSDATA.GAMEDATA`. 我在互联网上查找了几个地方，结果发现我需要做一些调整和/或不同的课程。

我尝试使用`ifstream`. 但是，它无法打开该文件。Xcode 4.3.2 似乎找不到我的`POSDATA.GAMEDATA`文件。我也尝试使用文件制作文件，`ofstream`但是当我`open()`在这两种情况下使用时，文件都没有打开。

我的代码是这样的：

```
using namespace std;
void FileLoader::loadFile( string p_WhichFile ) {
   // Local Variables
   string thisLine;

   // Open POSDATA.GAMEDATA
   ifstream dataStream;
   dataStream.open( p_WhichFile.c_str( ) );

   // Check if file is opened
   if ( !dataStream ) {
      cerr << "[ ERROR ] Cannot load file:" << p_WhichFile.c_str( ) << endl;
      exit( 1 );
   }

   // Get lines of strings
   while ( getline( dataStream, thisLine ) ) {
      fileContents.push_back( thisLine ); // fileContents is a vector< string > object
   }

   dataStream.close( );
   cout << "[ NOTICE ] Finished reading file" << p_WhichFile << endl;
} 
```

我见过`CCFileUtils`，但我似乎不知道如何使用它。

**编辑**：我试过提供绝对路径（`/Users/LanceGray/Documents/LanceDev/COCOS2DX/cocos2dx/TestGame/Data/POSDATA.GAMEDATA`）并且它有效。但是，我不能这样做，因为该游戏应该在 iOS 设备和 Android 设备中使用，因此每个设备上的路径并不总是相同的。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-08-29T06:33:56.517

我通过使用开始工作`CCFileUtils( )::sharedFileUtils( ) -> fullPathFromRelativePath( "POSDATA.GAMEDATA" );`

更详细的解释：

1.  通过转到左侧的项目树和`Right-click -> Add Files`. 我所做的是添加了一个与and文件夹`Data`同级的新文件夹，并将我的文件放在那里。在 Xcode 中，我添加了一个新组并将该文件添加到该组中。`Resources``Classes``POSDATA.GAMEDATA`
2.  然后我用来`ifstream`打开文件。
3.  打开文件时，使用`CCFileUtils( )::sharedFileUtils( ) -> fullPathFromRelativePath( )`获取文件的绝对路径。`fullPathFromRelativePath( )`在as 参数上提供文件名。
4.  尝试运行它，它应该可以正常工作。

一个小例子：

```
// FileReader.h
#include "cocos2d.h"

using namespace std;
using namespace cocos2d;

class FileReader {
private:
   vector< string > mFileContents;

public:
   FileReader( string pFileName, char pMode = 'r' );
};

// FileReader.cpp
#include "FileReader.h"
#include <fstream>
#include "cocos2d.h"

using namespace cocos2d;
using namespace std;

FileReader::FileReader( string pFileName, char pMode ) {
   // Create input file stream
   ifstream inputStream;
   string thisLine;

   // Open file
   inputStream.open( CCFileUtils( )::sharedFileUtils( ) -> fullPathFromRelativePath( pFileName ).c_str( ) );

   // Check if it is open
   if ( !inputStream.is_open( ) ) {
      cerr << "[ ERROR ] Cannot open file: " << pFileName.c_str( ) << endl;
      exit( 1 );
   }

   while ( getline( inputStream, thisLine ) ) {
      // Put all lines in vector
      mFileContents.push_back( thisLine );
   }

   inputStream.close( );
   cout << "[ NOTICE ] Finished opening file: " << pFileName.c_str( ) << endl;
} 
```

此类将加载具有名称的文件`pFileName`并将其放在其成员变量`mFileContents`中。（请注意，它应该具有访问的`public get`功能，因为它是）`vector< string > getFileContents( )``mFileContents``private`

**编辑**：上面的示例适用于 iOS，但不适用于 Android 设备。所以要解决这个问题，而不是使用`ifstream`，`CCFileUtils::sharedUtils( ) -> getFileData( )`而是使用。结合`CCFileUtils::sharedUtils( ) -> fullPathFromRelativePath( )`，我们将能够实现读取适用于 iOS 和 Android 的纯文本文件的目标。

然后`FileReader`类将是这样的：

```
// FileReader.cpp
#include "FileReader.h"
#include <fstream>
#include "cocos2d.h"

using namespace cocos2d;
using namespace std;

FileReader::FileReader( string pFileName, char pMode ) {
   // Initialize variables needed
   unsigned long fileSize = 0;
   unsigned char * fileContents = NULL;
   string thisLine, result, fullPath, contents;

   // Get absolute path of file
   fullPath = CCFileUtils::sharedFileUtils( ) -> fullPathFromRelativePath( pFileName.c_str( ) );

   // Get data of file
   fileContents = CCFileUtils::sharedFileUtils( ) -> getFileData( fullPath.c_str( ) , "r", &fileSize );
   contents.append( ( char * ) fileContents );

   // Create a string stream so that we can use getline( ) on it
   istringstream fileStringStream( contents );

   // Get file contents line by line
   while ( getline( fileStringStream, thisLine ) ) {
      // Put all lines in vector
      mFileContents.push_back( thisLine );
   }

   // After this, mFileContents will have an extra entry and will have the value '\x04'.
   // We should remove this by popping it out the vector.
   mFileContents.pop_back( );

   // Delete buffer created by fileContents. This part is required.
   if ( fileContents ) {
      delete[ ] fileContents;
      fileContents = NULL;
   }

   // For testing purposes
   cout << "[ NOTICE ] Finished opening file: " << pFileName.c_str( ) << endl;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T05:45:58.870

```
// For versions less than v2.0.1
// The version I am using is 0.12.0
unsigned long fileSize = 0;
char* pBuffer = CCFileUltils::getFileData("relative_path","r",&fileSize);
CCLOG("Data is %s",pBuffer); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-01T04:44:35.293

可以参考 Cocos 的 wiki [Read/write file in cocos2d](http://www.cocos2d-x.org/wiki/How_to_read_and_write_file_on_different_platforms)

# eclipse - Backberry Java 字段监听器不监听

> ID：12171447
> 
> 赞同：0
> 
> 时间：2012-08-29T05:32:19.533
> 
> 标签：eclipse, blackberry, java-me

我的代码中有 2 个按钮，“清除”和“登录”，问题是无法单击登录按钮，但清除按钮可以正常工作。我的错误在哪里？

下面的代码是整个项目

```
public MyScreen()
{        
    // Set the displayed title of the screen       
    Bitmap logo = Bitmap.getBitmapResource("icon.png");
    bitField = new BitmapField(logo, Field.FIELD_HCENTER);
    userField = new EditField("Username :", "");
    passField = new PasswordEditField("Password :", "");
    ddlDomain = new ObjectChoiceField("Domain :", new String[] {"Home", "Work"});
    chkRemember = new CheckboxField("Remember Password", false);
    btnClear = new ButtonField("Clear", ButtonField.CONSUME_CLICK);
    btnLogIn = new ButtonField("Log In", ButtonField.CONSUME_CLICK);
    add(bitField);
    add(new SeparatorField());
    add(new LabelField("Please enter your credentials:"));
    add(userField);
    add(passField);
    add(ddlDomain);
    add(chkRemember);
    HorizontalFieldManager btnManager = new HorizontalFieldManager(Field.FIELD_RIGHT);
    btnManager.add(btnClear);
    btnManager.add(btnLogIn);
    add(btnManager);

    btnClear.setChangeListener(this);
}

public void fieldChanged(Field field, int context) {
    if(field == btnClear){
        clearTextFields();
    }
    else if(field == btnLogIn){
        login();
    }
}
private void clearTextFields(){
    userField.setText("");
    passField.setText("");
}
private void login(){
    if(userField.getTextLength() == 0 || passField.getTextLength() == 0){
        Dialog.alert("You must enter a username and password");
    }
    else{
        String username = userField.getText();
        String selectedDomain = (String)ddlDomain.getChoice(ddlDomain.getSelectedIndex());
        SuccessScreen loginSuccess = new SuccessScreen(username, selectedDomain);
        UiApplication.getUiApplication().pushScreen(loginSuccess);
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T05:45:01.550

嗨亲爱的你需要添加

```
btnLogIn.setChangeListener(this); 
```

尝试这个

# vba - 使用上一条记录中的值更新空表值

> ID：12171449
> 
> 赞同：0
> 
> 时间：2012-08-29T05:32:30.253
> 
> 标签：vba, ms-access

有一个名为 sample 的表，它有两列 id 和 id2。id2 上的一些记录是用数字填充的，但有些是空的。所以我需要用与他们最接近的记录相同的数字来填充它们。也就是说，如果id2上的每条记录都不为空，则继续下一条，如果id2上的每条记录都为空，则用上一条填写。我怎么能用vba做到这一点？

样本

```
id    id2
1     100
2     
3     500
4     600
5     
6     800 
```

样本结果

```
id    id2
1     100
2     100
3     500
4     600
5     600
6     800 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:25:52.297

在 Access 中，我不确定它是否可以在纯 SQL 中完成，但我认为这应该让你接近你想要的：

```
UPDATE sample AS s
SET    s.id2 = Dmax("id2", "sample", "id <" & [s].[id])
WHERE  (( ( s.id2 ) IS NULL )); 
```

# mysql - 选择所有行，直到日期差异条件与分组匹配

> ID：12171451
> 
> 赞同：1
> 
> 时间：2012-08-29T05:32:46.687
> 
> 标签：mysql

关于这个问题

[选择所有行，直到日期差异从底部开始为 4](https://stackoverflow.com/questions/12170706/select-all-the-rows-until-date-diff-is-4-from-bottom)

解决方案效果很好，但是如何按 customer_id 和每个 customer_id 组按 4 天差异、8 天差异分组

[http://sqlfiddle.com/#!2/93d75/3](http://sqlfiddle.com/#!2/93d75/3)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:25:44.997

您只需要跟踪最新的`customer_id`并对其执行“好的”逻辑：

```
SELECT   amount, customer_id, updated_at, date_diff
FROM (
  SELECT   *,
           @b:=NOT @c<=>customer_id
               OR (@b AND DATEDIFF(@t,updated_at)<=date_diff) AS okay,
           @c:=customer_id,
           @t:=updated_at
  FROM     my_table, (SELECT 4 AS date_diff) init
  ORDER BY customer_id, updated_at DESC
) t
WHERE    okay
ORDER BY customer_id, updated_at, id 
```

在[sqlfiddle](http://sqlfiddle.com/#!2/36b22/1/0)上查看。

# javascript - Kendo-knockoutjs 集成

> ID：12171456
> 
> 赞同：2
> 
> 时间：2012-08-29T05:33:05.080
> 
> 标签：javascript, knockout.js, kendo-ui

我正在为即将推出的 web 应用程序开发一个 POC，我们必须进行大约 2 年的开发工作，现在我正在努力对 KendoUI MVVM 绑定和 KnockoutJS 绑定做出决定。

我使用两种技术开发了两个 POC，这里是示例代码。

网格的 KendoUI MVVM 绑定

```
<table id="kendoUiGridMvvmTest" height="600px" width="1153px">
<tr>
    <td>
        <h4>KendoUI Grid - Native MVVM Implementation</h4>
        <div data-role="grid"
            data-sortable="true" data-source='{"schema":{"model":{"fields":{"Name":{}, "Price":{"type":"number"}, "UnitsInStock":{"type":"number"}}}}}' data-filterable="true" data-editable="true" data-groupable="true" data-scrollable="true" data-selectable= "multiple cell"
    data-resizable="true"
    data-reorderable="true" data-pageable='{ "pageSize": 10 @*events: {change: onPage}*@}'
            data-columns='[{"field":"Name", "filterable":true}, {"field":"Price", "filterable":false}, "UnitsInStock", {"command": "destroy"}]'
            data-bind="source: gridSource"></div>
    </td>
</tr> 
```

这是 ViewModel 代码。

```
var viewModel = kendo.observable({
    gridSource: [
        { Name: "Item1", Price: 18.00, UnitsInStock: 39 },
        { Name: "Item2", Price: 19.00, UnitsInStock: 17 },
        { Name: "Item3", Price: 18.00, UnitsInStock: 39 },
        { Name: "Item4", Price: 19.00, UnitsInStock: 17 },
        { Name: "Item5", Price: 18.00, UnitsInStock: 39 },
        { Name: "Item6", Price: 19.00, UnitsInStock: 17 },
        { Name: "Item7", Price: 18.00, UnitsInStock: 39 },
        { Name: "Item8", Price: 19.00, UnitsInStock: 17 },
        { Name: "Item9", Price: 18.00, UnitsInStock: 39 },
        { Name: "Item10", Price: 19.00, UnitsInStock: 17 },
        { Name: "Item11", Price: 18.00, UnitsInStock: 39 },
        { Name: "Item12", Price: 19.00, UnitsInStock: 17 },
        { Name: "Item13", Price: 18.00, UnitsInStock: 39 },
        { Name: "Item14", Price: 19.00, UnitsInStock: 17 },
        { Name: "Item15", Price: 18.00, UnitsInStock: 39 },
        { Name: "Item16", Price: 19.00, UnitsInStock: 17 },
        { Name: "Item17", Price: 97.00, UnitsInStock: 29 },
        { Name: "Item18", Price: 97.00, UnitsInStock: 29 },
        { Name: "Item19", Price: 97.00, UnitsInStock: 29 },
        { Name: "Item20", Price: 97.00, UnitsInStock: 29 }
    ],

});

kendo.ui.Grid.fn.options.filterable = false;
kendo.bind($("#kendoUiGridMvvmTest"), viewModel); 
```

这段代码完美运行，我可以在我的 Kendo Grid 中显示数据。

但我想做的是使用 KnockoutJS ViewModel 将数据绑定到 Kendo Grid。所以我想要这样的代码。

```
var viewModel = {
    gridSource: [
        { Name: "Item1", Price: 18.00, UnitsInStock: 39 },
        { Name: "Item2", Price: 19.00, UnitsInStock: 17 },
        { Name: "Item3", Price: 18.00, UnitsInStock: 39 },
        { Name: "Item4", Price: 19.00, UnitsInStock: 17 },
        { Name: "Item5", Price: 18.00, UnitsInStock: 39 },
        { Name: "Item6", Price: 19.00, UnitsInStock: 17 },
        { Name: "Item7", Price: 18.00, UnitsInStock: 39 },
        { Name: "Item8", Price: 19.00, UnitsInStock: 17 },
        { Name: "Item9", Price: 18.00, UnitsInStock: 39 },
        { Name: "Item10", Price: 19.00, UnitsInStock: 17 },
        { Name: "Item11", Price: 18.00, UnitsInStock: 39 },
        { Name: "Item12", Price: 19.00, UnitsInStock: 17 },
        { Name: "Item13", Price: 18.00, UnitsInStock: 39 },
        { Name: "Item14", Price: 19.00, UnitsInStock: 17 },
        { Name: "Item15", Price: 18.00, UnitsInStock: 39 },
        { Name: "Item16", Price: 19.00, UnitsInStock: 17 },
        { Name: "Item17", Price: 97.00, UnitsInStock: 29 },
        { Name: "Item18", Price: 97.00, UnitsInStock: 29 },
        { Name: "Item19", Price: 97.00, UnitsInStock: 29 },
        { Name: "Item20", Price: 97.00, UnitsInStock: 29 }
    ],

};

ko.applyBindings(viewModel); 
```

在这里你可以看到我已经使用`ko.applyBindings`而不是`kendo.bind`

所以，简单来说，我想要的是将 KnockoutJS 模型绑定到 KendoUI Grid 而不使用 KendoUI 的 MVVM 绑定。

我在[这里](http://demos.kendoui.com/web/integration/index.html)找到了 kendoUI 集成的淘汰赛，但它不适用于我的网格。欢迎任何意见。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T01:36:59.310

派对有点晚了，但这是我玩过的小提琴，使用你的数据

[http://jsfiddle.net/Q4hGe/2/](http://jsfiddle.net/Q4hGe/2/)

数据绑定现在看起来像这样

```
data-bind="kendoGrid: { data: gridSource, columns: [{'field':'Name', 'filterable':true}, {'field':'Price', 'filterable':false}, 'UnitsInStock', {'command': 'destroy'}], scrollable: false, sortable: true, pageable: false }"> 
```

# php - 如何在几秒钟内像 Urban Airship 一样发送数百万条苹果推送通知

> ID：12171460
> 
> 赞同：6
> 
> 时间：2012-08-29T05:33:59.150
> 
> 标签：php, iphone, ios, push-notification

我需要在几秒钟内像 Urban Airship 一样发送数百万个苹果推送通知

我使用了以下

*   [http://code.google.com/p/apns-php/](http://code.google.com/p/apns-php/)
*   [http://www.easyapns.com/](http://www.easyapns.com/)
*   [http://developer.apple.com/library/mac/#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/ApplePushService/ApplePushService.html](http://developer.apple.com/library/mac/#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/ApplePushService/ApplePushService.html)

我有几台专用服务器，我可以在几秒钟内发送数千条推送通知，但是如何在几秒钟内发送像 Urban Airship 一样的数百万条苹果推送通知？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-29T05:53:36.287

每台服务器执行特定任务的能力都是有限的。您不能假设具有某些 xyz 配置的专用服务器将为您的应用程序实现每个 NFR。您必须进行服务器容量规划才能实现应用程序 NFR。如果您的专用服务器能够在 1 秒内发送 10K 的推送通知并优化服务器和应用程序的配置，并且您希望在 1 秒内实现 20K 的通知，则您必须对服务器进行水平/垂直缩放。

在水平扩展中，您放置另一个并行实例并在它们之间划分任务，但是在垂直扩展中，您可以扩展同一服务器以获得更高的配置。不推荐垂直缩放，因为它具有单点故障。

为了扩展您的问题，您必须并行放置另一个实例，以在它们之间划分推送通知发送任务。例如，如果您想在一秒钟内为 20K 设备发送 20K 推送通知，您可以将前 10K 分配给第一台服务器，将接下来的 10K 分配给另一台服务器。这将实现您在一秒钟内发送 20K 推送通知的 NFR。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-07T10:02:10.707

我的 2cents 价值。

最大 Apple 推送负载 = 255 字节

100 万台 iOS 设备 = 1,000,000

将其打包成一个文件 = 255,000,000 字节 = 255MB。

打开 TCP 连接 + 将所有内容转发到 APNS 网关。这是我能想到的最快的方法。在将您的有效负载分派到目标 APNS 服务器网格之前，将它们预处理并预打包到本地的单个或多个文件中。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-29T05:55:23.137

这取决于您的带宽和服务器的处理速度。单个服务器无法每秒发送 142857 个数据包，包括有效负载，这就是您看到限制的原因。

您将需要多个专用服务器和一个控制服务器，该控制服务器将通过内部 API 将单个作业发送到 APN 服务器，这样可以分发作业。

# sockets - ZeroMQ 在 NAT/防火墙后面的不同网络中使用发布-订阅模式

> ID：12171461
> 
> 赞同：0
> 
> 时间：2012-08-29T05:34:00.937
> 
> 标签：sockets, networking, zeromq

Publish-Subscribe 方法在以下情况下是否有效：

1.  发布者和订阅者位于不同的网络中（我检查过一次 - 它有效）
2.  订阅者在 NAT\firewall 后面

在这两种情况下，数据包路由都能正常工作。

据我了解 PUB\SUB 使用相同的 TCP 传输，所以如果 PUB\SUB 不起作用，那么标准 Windows winsock 也不起作用？如果仅未定义数据包路由机制，是否需要PUB\SUB 代理（如[http://zguide.zeromq.org/page:all#toc34 ）？](http://zguide.zeromq.org/page:all#toc34)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-04T11:49:26.290

我发现一些代码使用 PUB\SUB 模型并在此处与 NAT 一起使用[http://grokbase.com/t/zeromq/zeromq-dev/112q9934vg/nat-firewall-pub-sub-traversal](http://grokbase.com/t/zeromq/zeromq-dev/112q9934vg/nat-firewall-pub-sub-traversal)：

连接而不是绑定的发布者：

```
import zmq
ctxt = zmq.Context()
pub = ctxt.socket(zmq.PUB)
pub.connect("tcp://127.0.0.1:2000")
while 1:
pub.send(os.urandom(5)) 
```

绑定而不是连接的订阅者：

```
import zmq
ctxt = zmq.Context()
sub = ctxt.socket(zmq.SUB)
sub.bind("tcp://127.0.0.1:2000")
while 1:
sub.rcv() 
```

# mysql - 如果第一列相等，Mysql 按第二列分组？

> ID：12171462
> 
> 赞同：0
> 
> 时间：2012-08-29T05:34:04.760
> 
> 标签：mysql, group-by

我有一张看起来像这样的桌子

```
id | rating
1  | 1
1  | 3
1  | 1
1  | 2
2  | 3
2  | 3
2  | 1 
```

等等，你明白了。

无论如何，我想以这个结果集结束

```
id | rating | num
1  | 1      | 2
1  | 3      | 1
1  | 2      | 1
2  | 3      | 2
2  | 1      | 1 
```

所以，我想要做的是将评级组合在一起**，只要 id 相同**！

我想我可以这样做`group by id, rating`，只是假设它只会在两列相同的情况下分组，但如果任一列相同，它就不会分组，所以我最终得到

```
id | rating | num
1  | 1      | 7 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T05:40:13.037

我不明白你遇到的问题。这个查询对我有用：

```
select 
  id, rating, COUNT(rating) as num 
FROM rating 
GROUP BY id, rating 
ORDER BY id, rating ASC; 
```

而且，为了彻底，这是我的整个测试过程：

```
mysql> create table rating (id int, rating int);
Query OK, 0 rows affected (0.04 sec)

mysql> insert into rating values (1,1),(1,3),(1,1),(1,2),(2,3),(2,3),(2,1);
Query OK, 7 rows affected (0.00 sec)
Records: 7  Duplicates: 0  Warnings: 0

mysql> select id, rating, COUNT(rating) as num FROM rating GROUP BY id, rating;
+------+--------+-----+
| id   | rating | num |
+------+--------+-----+
|    1 |      1 |   2 | 
|    1 |      2 |   1 | 
|    1 |      3 |   1 | 
|    2 |      1 |   1 | 
|    2 |      3 |   2 | 
+------+--------+-----+
5 rows in set (0.00 sec) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-29T05:46:14.543

你可以试试

```
SELECT id,rating,COUNT(rating) AS num 
FROM table1 
GROUP BY id,rating
ORDER BY id ASC 
```

# [*SQLFiddle 演示*](http://sqlfiddle.com/#!3/b6520/4)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T05:37:56.250

```
SELECT id,rating,count(rating) from table group by id,rating 
```

# mysql - MySQL 字段总和除以其他两个乘积

> ID：12171467
> 
> 赞同：0
> 
> 时间：2012-08-29T05:34:18.287
> 
> 标签：mysql, math, sum

我对 MySQL 的了解非常有限，所以我希望我不是在问一个非常愚蠢的问题。

我试图做的是计算一个字段的值除以另外两个字段的乘积。

就像是：

```
(sum(salesorderlinedetail.rate) / (salesorderlinedetail.metalweight) * 
(salesorderlinedetail.spotprice) AS `Premium` 
```

这可能看起来像原始数字是：

```
850 / (1646 * 0.5) = 1.03281 
```

我试图使该结果显示为查询返回的每一行数据的另一列。

我猜这可能需要某处的子选择语句。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:49:19.383

让我们以您的“原始数字”示例为例，简单地进行替换（提示：都在括号中）：

```
850 / (1646 * 0.5)
850  ==> salesorderlinedetail.rate
1646 ==> salesorderlinedetail.metalweight
0.5  ==> salesorderlinedetail.spotprice

salesorderlinedetail.rate / ( salesorderlinedetail.metalweight * salesorderlinedetail.spotprice) 
```

不需要 SUM()，因为这会引入不分青红皂白的聚合（除非您尚未与我们分享详细信息 :-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T05:53:22.003

select column1, column2, (sum(salesorderlinedetail.rate) / (salesorderlinedetail.metalweight * salesorderlinedetail.spotprice) AS Premium from salesorderlinedetail;

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T05:42:02.557

试试这个

```
select column1,column2,(    
UPDATE TableName 
SET Column2 = sum(salesorderlinedetail.rate) / ((salesorderlinedetail.metalweight) *   (salesorderlinedetail.spotprice)) from TableName; 
```

# iphone - 在地址簿选择器视图的搜索栏中设置文本

> ID：12171471
> 
> 赞同：0
> 
> 时间：2012-08-29T05:34:48.543
> 
> 标签：iphone, ios, abaddressbook

我已按照 Apple 的[编程指南](http://developer.apple.com/library/ios/#DOCUMENTATION/ContactData/Conceptual/AddressBookProgrammingGuideforiPhone/Introduction.html)从用户的通讯录中提取电话号码。我想做的是在地址簿的选择器视图的搜索栏中设置一个搜索值来缩小列表。可以做到吗？

注意：我不想“导入”整个通讯录并从那里进行搜索。

# java - 如何修改和删除地图对象

> ID：12171473
> 
> 赞同：0
> 
> 时间：2012-08-29T05:34:57.697
> 
> 标签：java

我定义了一个 Map ，并存放在里面的对象，我想修改里面的键，值怎么修改？代码如下：

```
package maptest;

/**
 * test Map
 * 
 * @author admin
 *@version 2012.8.29
 */

public class TestA {

private String name;
private String password;
private String idnum;

// name.
public void setName(String name) {
    this.name = name;
}

public String getName() {
    return name;
}

// password

public void setPassword(String password) {
    this.password = password;
}

public String getPassword() {
    return password;
}

// idnum

public void setIdnum(String idnum) {
    this.idnum = idnum;
}

public String getIdnum() {
    return idnum;
}

}

===========================================================

    package maptest;

import java.util.HashMap;
import java.util.Map;

/**
 * Test Map
 * 
 * @author admin
 *@version 2012.8.29
 */

public class TestB {

Map<Object, Object> map = new HashMap<Object, Object>();// map.

public void show() {
    TestA tes = new TestA();
    tes.setName("a");// name
    tes.setPassword("a123");// password
    tes.setIdnum("01");// idnum

    map.put(tes, tes);// add map.

    TestA tes1 = new TestA();

    tes1.setName("b");// name
    tes1.setPassword("a1234");// password
    tes1.setIdnum("02");// idnum

    /*
     * Assuming in accordance setIdnum ("02"), how to delete the name and
     * password of it belongs to?
     */

    map.put(tes1, tes1);// add map.

    TestA tes2 = new TestA();

    tes2.setName("c");// name
    tes2.setPassword("a12345");// password
    tes2.setIdnum("03");

    /*
     * Assuming in accordance setIdnum ("03") to find the name and password,
     * and then modify one of the password, concrete should be how to
     * achieve?
     */

    map.put(tes2, tes2);// add map.
}

public void showmap() {// show map
    for (Object c : map.keySet()) {
        System.out.println("Name>>>:" + ((TestA) map.get(c)).getName());
        System.out.println("Password>>>:"
                + ((TestA) map.get(c)).getPassword());
        System.out.println("Idnum>>>:" + ((TestA) map.get(c)).getIdnum());
        System.out.println("---------------------");
    }
    System.out.println("end.");
}

public static void main(String[] args) {
    // TODO Auto-generated method stub
    TestB te = new TestB();
    te.show();
    te.showmap();
}

}

========================================== 
```

List and Set 删除和修改以及 Map？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T05:43:56.873

你可以利用

```
map.keySet().remove(obj); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T05:40:43.410

你`java.util.Map.put(K k, V v)`实际上做了两件事。

> 1）如果在地图中找不到密钥，它会添加一个条目
> 
> 2) 如果它为提到的键找到一个条目，它会修改一个条目的值。

当我们调用时会发生移除`java.util.Map.remove(K k)`。它删除包含键值对的条目。

# jquery - 根据 div id 淡入淡出

> ID：12171474
> 
> 赞同：2
> 
> 时间：2012-08-29T05:35:00.037
> 
> 标签：jquery

我有一个 jquery 代码来区分两个 div

```
$("#addresslink").click(function() {
    $("#main").find("div").each(function(n,i){
        var id = this.id;
        if(id == "addressdiv")
        {
            $('#' + id).fadeIn(300);
        }
        else
        {
            $('#' + id).fadeOut(250);
        }
    });

});

$("#storylink").click(function() {
    $("#main").find("div").each(function(n,i){
        var id = this.id;
        if(id == "storydiv")
        {
            $('#' + id).fadeIn(300);
        }
        else
        {
            $('#' + id).fadeOut(250);
        }    
    });

}); 
```

有没有更好的方法将 a 绑定到 div 而不是将每个硬编码到 a 然后显示和隐藏其他 div？

PS：我已经完成了代码只是询问我是否可以优化这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T05:38:16.460

你的意思是 ：

```
$("#addresslink, #storylink").click(function() {
    $("#main").find("div").each(function(n,i){
        var id = this.id;
        if(id == "addressdiv")
        {
            $('#' + id).fadeIn(300);
        }
        else
        {
            $('#' + id).fadeOut(250);
        }
    });
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T05:39:10.063

在不更改任何内容的情况下进行优化的一种方法是将通用代码移至功能：

```
$("#addresslink").click(function() {
   fadeDiv('addressdiv');
});

$("#storylink").click(function() {
    fadeDiv('storydiv');     
});

function fadeDiv(divName) {
  $("#main").find("div").each(function(n,i){
            var id = this.id;
            if(id == divName)
            {
                $('#' + id).fadeIn(300);
            }
            else
            {
                $('#' + id).fadeOut(250);
            }    
        });
} 
```

或者

你也可以这样做：

```
$("#addresslink,#storylink").click(function() {
    fadeDiv(($(this).attr('id')=='addresslink')?'addressdiv':'storydiv');
});

function fadeDiv(divName) {
  $("#main").find("div").each(function(n,i){
            var id = this.id,
$id = $('#' + id);
            (id == divName)? $id.fadeIn(300):$id.fadeOut(250);
        });
}​ 
```

# c++ - GDI+ 是否支持图形加速？

> ID：12171475
> 
> 赞同：2
> 
> 时间：2012-08-29T05:35:00.273
> 
> 标签：c++, winapi, gpu, hardware-acceleration

我正在尝试使用 C++ 和 Win API 为 Windows 平台编写屏幕保护程序。为了渲染图形，我正在使用 GDI+，但问题是渲染带有少量动画（淡入和淡出）的 png 变得非常“CPU 沉重”。

所以我想知道是否有办法为 GDI+ API 启用 GPU 加速？如果不可能，我是否可以从支持 GPU 加速的非托管代码中使用一些东西（除了 OpenGL 或 DirectX）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T05:57:26.403

没有。归根结底，GDI 主要是关于内存位图的操作。如果您想要更高级的功能，请使用 Direct3D/2D。

# algorithm - 从排序链表构造 BST 的迭代解决方案

> ID：12171479
> 
> 赞同：5
> 
> 时间：2012-08-29T05:35:13.897
> 
> 标签：algorithm

我想从一个排序的链表中创建一个 BST。我已经解决了递归问题，但想知道如何在不改变问题复杂性的情况下编写迭代解决方案。

[编辑]

注意：我不想实现自己的堆栈。

[编辑2]

递归调用自身的函数是 f。伪代码如下。用头指针调用 f 从`main`

```
node * f(int start_index, int end_index, node *ptr) {
     if ( start>end) return NULL
     middle_index = start_index + (end_index-start_index)/2
     node *l_child = f(start_index, middle_index-1, ptr)
     initialize parent with ptr's value 
     parent->left = l_child
     ptr = ptr->next
     parent->right = f(middle_index+1, end, ptr)
     return parent
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T08:01:19.700

提前假设您希望它是这样的，大致如下：

```
 _______
   /       \
  / \     / \
 /   \   /   \
/ \ / \ / \ /
1 2 3 4 5 6 7 
```

然后你可以明确地解决结构。在这种情况下，对于某个整数 N 的长度 L<2 ^N的列表，并假设您创建所有节点并将一些叶子保留为“null”（或者甚至不构造这些节点），您有树中的节点等于 (2*2 ^N )-1。您的节点将如下所示：

```
 12345678
   /       \
  1234    5678
  / \     / \
 12  34  56  78
/ \ / \ / \ / \
1 2 3 4 5 6 7 
```

我提到了节点的大小，因为它应该让我们了解如何进行：应该有一些方法来枚举`{1,2}->12, {3,4}->34, {12,34}->1234, ...`. 一种方法是从底部开始对节点进行分组。例如，我们可以在 N (3) 次中执行此操作：

```
step 1:    1  2   3  4    5  6   7
step 2:   (1  2) (3  4)  (5  6) (7   )
step 3:  ((1  2) (3  4))((5  6) (7   ))
step 4: (((1  2) (3  4))((5  6) (7   ))) 
```

另一种选择是在我们分组时使用堆栈来跟踪更高级别的节点。

另一种方法是为结构创建一个明确的公式。我们创建 7 个节点并设置它们的子节点如下`{1,2}, {3,4}, {5,6}, {7,null}, {12,34}, {56,78}, {1234,5678}`：特别是如果我们以线性方案索引节点，则此模式将是：`9={1,2}, 10={3,4}, 11={5,6}, 12={7,null}, 13={9,10}, 14={11,12}, 15={13,14}`. 简单地递增似乎给出了平衡二叉树的确切模式。这不会使用额外的内存。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-29T05:38:19.720

您可以通过模拟堆栈将任何递归解决方案转换为“迭代”解决方案。

# javascript - 运行时不存在 Javascript 函数

> ID：12171486
> 
> 赞同：0
> 
> 时间：2012-08-29T05:35:53.097
> 
> 标签：javascript, jsp, jstl

我有一个单独的Javascript函数`jsp file:`（用于`<jsp:include>`文件包含）

```
function tickMembership(code){} 
```

在 html 元素中调用 using 时`onclick`，会发生以下错误：

> 未捕获的 ReferenceError：未定义 tickMembership

关于这可能如何发生的任何想法？即使在浏览器中检查源代码时，脚本也存在。我正在使用谷歌浏览器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T05:35:33.027

在加载 dom 时附加 eventListener。

或者，如果您要动态插入 html，则可以使用 jquery 'on' 方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T05:31:04.640

这是一个缓存问题，浏览器正在缓存 .JS 文件清除浏览器缓存并尝试

快乐编码。

# arrays - Cake PHP 中的数组

> ID：12171489
> 
> 赞同：1
> 
> 时间：2012-08-29T05:36:12.213
> 
> 标签：arrays, cakephp

目前我有这个数组：

```
Array
(
  [0]=>Array
             (
                 [name]=> Name 1
             )
  [1]=>Array
             (
                 [name]=> Name 2
             )
) 
```

我怎样才能操纵这个数组像这样显示

```
Array(
      [0] =>Name 1
      [1] =>Name 2
      ) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T05:40:56.800

使用`Set`类：

```
Set::extract('/name', $data); 
```

# r - 如何用实际值替换索引？

> ID：12171491
> 
> 赞同：1
> 
> 时间：2012-08-29T05:36:17.683
> 
> 标签：r

假设我有以下数据：

```
 [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
   [1,]  983  362  170  303  914  843  480  489  474   355
   [2,]  204  205  810  762  758  404   24  111  265   586 
```

这些值中的每一个都对应于另一个名为 的集合中的索引`labels`。我想创建与上面完全相同的结构，但我想要的不是索引，而是值。

到目前为止，我已经尝试过：

```
labels[attr(k,"nn.index")[1,]] 
```

它返回`[1] 2 2 2 2 2 2 2 2 2 2`，我想要的第一行结果，并且：

```
labels[attr(k,"nn.index")[2,]] 
```

它返回`[1] 0 0 0 0 0 0 0 0 0 0`，我想要的第二行结果。

我的问题是，如果我尝试对所有行执行此操作，我会得到以下结果：

```
labels[attr(k,"nn.index")[1:2,]]
 [1] 2 0 2 0 2 0 2 0 2 0 2 0 2 0 2 0 2 0 2 0 
```

我必须改变什么才能得到下面的结果？

```
 [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
   [1,]   2    2    2    2    2    2    2    2    2    2
   [2,]   0    0    0    0    0    0    0    0    0    0 
```

此外，在现实生活中，有数千行，而不仅仅是两行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T05:40:13.067

做：

```
apply(attr(k,"nn.index"), 2, function(col) labels[col]) 
```

[但是我在你之前的问题](https://stackoverflow.com/questions/12153255/how-to-view-the-nearest-neighbors-in-r)中没有给你这个准确的答案吗？（见`closest.labels`变量）。

# iphone - 用Objective C方式编写for循环

> ID：12171497
> 
> 赞同：0
> 
> 时间：2012-08-29T05:37:07.397
> 
> 标签：iphone, objective-c, ios, xcode, cocoa-touch

我对以 Objective C 方式编写 for 循环有疑问。我可以在传统的 C for 循环中执行相同的循环，但是我正在尝试学习 Objective C。这是我的问题。
listdata 是一个可变数组，包含 ofi_vc_modal_ab_user_info 对象的对象，我想将列表数据的每封电子邮件与电子邮件进行比较，直到列表数据计数并找到它的位置，如果找到我想从列表数据中删除该对象。

```
 for (ofi_vc_modal_ab_user_info *loc_obj in listData)
    {
        if (strcasecmp(loc_obj->email, email) == 0) {
           // What need to do here.
        }
    } 
```

如何在此处进行...感谢您的帮助:)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-29T05:41:08.193

你可以只使用 C's `for`。

事实上，在使用`for (e in collection)`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T05:44:16.207

```
BOOL foundObject = NO; 
ofi_vc_modal_ab_user_info *loc_found_obj = nil; 
for (ofi_vc_modal_ab_user_info *loc_obj in listData)
{
    if (strcasecmp(loc_obj->email, email) == 0) {
       // Set your flag here
       loc_found_obj = loc_obj;
        foundObject = YES;
        break;
    }
}
if(foundObject) {
// Do your stuffs as object is found
// Your found object is in loc_found_obj
 [listData removeObject:loc_found_obj];
} 
```

我希望下面的代码能解释你想要什么。如果您需要更多帮助，请多解释一下。

编辑：如果您正在使用，`NSMutableArray`那么您不需要对象的索引。您可以直接删除我编辑的代码中提到的对象。

# twitter-bootstrap - 具有响应功能的 Twitter Bootstrap div 分层

> ID：12171501
> 
> 赞同：2
> 
> 时间：2012-08-29T05:37:24.817
> 
> 标签：twitter-bootstrap, html, responsive-design

在我的网站上，我有一个显示表单的英雄单元。在表格后面，许多图像一个接一个地显示，平滑淡入淡出。

我正在尝试通过将容器 div 设置为`position: relative`并将保存图像的 div 设置为`position: absolute`. 像这样的东西：

```
<div class="container">
   <div class="row">
      <div class="hero"
         <div class="images">
            <img ... />
         </div>

         <div class="form">

         </div>
      </div>
   </div>
</div> 
```

和`container`类`row`来自 Bootstrap。我的课程有以下风格：

```
.hero {
   position: relative;
}

.images {
   position: absolute;
} 
```

这行得通。但是，当我开始调整浏览器窗口的大小并且响应性质开始时，`images`div 内的图像不再调整大小，而是保持相同的固定大小。

如何在 Bootstrap 中拥有这种类型的 div 层，同时仍然充分利用 Bootstrap 的响应特性？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T14:18:45.667

```
<div class="container">
   <div class="row">
      <div class="hero custom-image"
         <div class="form">
         </div>
      </div>
   </div>
</div> 
```

也许你可以添加 .custom-image CSS。`width`以百分比设置 .custom-image 。

另一种可能性，在您的自定义 CSS 中添加媒体查询：

```
/* Landscape phone to portrait tablet */

@media (max-width: 767px) {
.custom-image{
width:50%;
}
}

/* Landscape phones and down */

@media (max-width: 480px) {
.custom-image{
width:50%;
}
} 
```

# html - Safari 中 Word Doc 的超链接

> ID：12171502
> 
> 赞同：1
> 
> 时间：2012-08-29T05:37:26.303
> 
> 标签：html, macos

一个非常简单的问题，但我似乎无法解决这个问题。

我有一个 HTML 文件，其中包含指向 word 文档的链接。

在 IE/PC 中，它在 mac 上的 Safari 中运行良好我得到一个打开的空白选项卡。

```
The HTML Code:
<a href=-"./MyDoc.docx">Open Word File</a> 
```

有任何想法吗 ？

其他文件类型的结构相同，例如 .mp4 和 pdf，但不是 DOCX 或 PPT

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:05:56.200

我没有Mac，但我建议这样做：

```
<a href=-"./MyDoc.docx" target="_self">Open Word File</a> 
```

# android - Android 设计依赖

> ID：12171504
> 
> 赞同：2
> 
> 时间：2012-08-29T05:37:38.327
> 
> 标签：android, android-layout

我动态创建了 LinearLayout 并在该布局中设置了可绘制的背景

当该布局空闲时，它看起来不错

![空闲时](../Images/c19a71531c47799f8f6ed5003d967544.png)

问题是当我点击用户名edittext时布局已经分裂

![当用户名点击](../Images/a9b407ae6e75720348cecfa2cb63f826.png)

当我单击布局折叠的密码编辑文本时

![点击密码时](../Images/212eec4bac934cb5faceaa927bb86ff2.png)

如果可以解决请给点建议

可绘制：button_shape.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<shape
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">
    <solid android:color="#ffffffff"/> 
   <corners android:bottomRightRadius="7dp" android:bottomLeftRadius="7dp" 
     android:topLeftRadius="7dp" android:topRightRadius="7dp"/>
</shape> 
```

笔记：

用户名和密码是分开的 LinearLayout

Login和SignUp按钮是分开的LinearLayout；

动态线性布局代码

```
LinearLayout mainlayout = new LinearLayout(con);
        mainlayout.setOrientation(1);
        mainlayout.setBackgroundDrawable(drawable);

        for(int i=0;i<data.size();i++){
            TextView tv = new TextView(con);
            EditText et = new EditText(con);
            tv.setText(data.get(i));
            tv.setHeight(50);
            tv.setPadding(22, 0, 0, 0);
            tv.setTextColor(0xff000000);
            mainlayout.addView(tv);
            et.setHint("Tap To Type");
            mainlayout.addView(et);
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T06:33:25.627

![在此处输入图像描述](../Images/c1b1d677de2bd07768b3d0d0041a9574.png)您已将背景应用于用户名和密码布局。以同样的方式尝试应用背景`editText`。如果你不这样做，那么`editText`将使用它的默认属性并在聚焦时与它的父级一起折叠。希望能帮助到你。

编辑：我自己运行代码。它工作正常。

```
LinearLayout mainlayout = new LinearLayout(this);
    mainlayout.setOrientation(1);
    mainlayout.setBackgroundDrawable(getResources().getDrawable(R.drawable.shape_xml));

    for(int i=0;i<2;i++){
        TextView tv = new TextView(this);
        EditText et = new EditText(this);
        tv.setText(""+i);
        tv.setHeight(50);
        tv.setPadding(22, 0, 0, 0);
        tv.setTextColor(0xff000000);
        mainlayout.addView(tv);
        et.setHint("Tap To Type");
        et.setBackgroundDrawable(getResources().getDrawable(R.drawable.normal));
        mainlayout.addView(et);
    }

    addContentView(mainlayout, new LinearLayout.LayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT))); 
```

可用于editText

```
<?xml version="1.0" encoding="UTF-8"?>
<shape
xmlns:android="http://schemas.android.com/apk/res/android"
android:shape="rectangle">
<solid android:color="#ffffffff"/> 
```

# jquery - 点击事件没有触发（或者我看不到？）

> ID：12171509
> 
> 赞同：1
> 
> 时间：2012-08-29T05:37:58.940
> 
> 标签：jquery, asp.net

我找不到，我创建了一个新的 web 项目并编写了最简单的 jquery 代码，但它不起作用，下面的按钮没有提示“Hello World”的原因是什么？

```
<%@ Page Title="Home Page" Language="C#" MasterPageFile="~/Site.master" AutoEventWireup="true"
    CodeBehind="Default.aspx.cs" Inherits="WebApplication1._Default" %>

<asp:Content ID="HeaderContent" runat="server" ContentPlaceHolderID="HeadContent">
</asp:Content>
<asp:Content ID="BodyContent" runat="server" ContentPlaceHolderID="MainContent">
    <h2>
        Welcome to ASP.NET!
    </h2>
    <script src="Scripts/jquery-1.4.1.min.js" type="text/javascript"></script>
    <script src="Scripts/jquery-1.4.1.js" type="text/javascript"></script>
    <script src="Scripts/jquery-1.4.1-vsdoc.js" type="text/javascript"></script>
    <script type="text/javascript">

        $(document).ready(function () {
            $("#Button1").click(function () {
                alert("Hello world!");
            });
        });

    </script>

<asp:Button ID="Button1" runat="server" Text="Button" />
</asp:Content> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T05:42:05.093

因为您在 aspx 页面上有一个母版页。在 Web 浏览器上渲染时 button1 的 id 将被更改。因此具有 id 属性“Button1”的元素将不存在。

因此，如果您想使用按钮的新渲染 ID，您应该从浏览器中检查并放置该 ID 而不是 Button1，或者您可以在不知道生成的 ID 的情况下尝试此操作。

```
$(document).ready(function () {
      $("#Button1").click(function () {
          alert("Hello world!");
      });
}); 
```

至

```
$(document).ready(function () {
      $("[id$=Button1]").click(function () {
          alert("Hello world!");
      });
}); 
```

Selector `[id$=Button1]`，搜索，一个元素，它的 id 以单词“Button1”结尾。

或者您可以通过 Button1 服务器控件的 ClientID 属性获取生成的 id。要使用它，您应该将您的功能更改为，正如@nunespascal 在他的回答中所建议的那样。

```
$("#<%= Button1.ClientID %>").click(function () {
      alert("Hello world!");
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T05:44:43.943

Asp.net 为所有控件生成一个 javascript ClientID。

您应该对控件的所有 javascript 引用使用 ClientID。

```
<script type="text/javascript">

    $(document).ready(function () {
        $("#<%= Button1.ClientID %>").click(function () {
            alert("Hello world!");
        });
    });

</script> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T05:49:18.897

click 事件没有触发，因为您提供了错误的 jQuery 选择器。

```
<asp:Button ID="Button1" runat="server" Text="Button" /> 
```

将在 html 中呈现如下内容：

```
<input type="submit" name="ctl00$MainContent$Button1" value="Buttom" onclick="..." id="ctl00_MainContent_Button1" class="button" /> 
```

你在 jquery 中有错误的选择器：

```
$(document).ready(function () {
            $("#Button1").click(function () {//Bad selector
                alert("Hello world!");
            });
        }); 
```

但它应该是这样的：

```
$(document).ready(function () {
    //Css Class
    $(".button").click(function () {
            alert("Hello world!");
        });
    });
}); 
```

或像这样：

```
$(document).ready(function () {
    //input where id contains 'Button1'
    $("input[id~='Button1']").click(function () {
            alert("Hello world!");
        });
    });
}); 
```

# android - android应用程序中所有活动的标签栏

> ID：12171511
> 
> 赞同：0
> 
> 时间：2012-08-29T05:38:01.437
> 
> 标签：android, android-tabhost

我需要在所有活动中添加一个标签栏，并且我已经通过在所有活动中使用添加到 xml 部分。我对java中的编码部分感到震惊。我应该在java中的每个活动中为此编写代码吗？或者有没有其他方法可以做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T06:19:34.630

如果您正在为 Android 3.2 及更高版本实施，我建议使用操作栏。如果您正在实现 3.2 以下的 android 版本，请使用操作栏 sherlock（您可以从 Internet 下载并将其包含在您的应用程序中）

# objective-c - 网络混乱

> ID：12171512
> 
> 赞同：1
> 
> 时间：2012-08-29T05:38:04.667
> 
> 标签：objective-c, afnetworking

我有一些这样的代码：在 a`viewcontroller`中，我有 a`table view`和 a `scrollview`（那里有一些按钮），
在表格视图单元格中：

```
-(void) setImageOfImageView: (NSURL *) _imageURL
{
    [_imageView setImageWithURL:_imageURL 
               placeholderImage:[UIImage imageNamed:@"document-placeHolder-Image.png"]];
    [self setNeedsLayout];
} 
```

按钮是这样的：

```
for(...)
{
    _request = ....;
    _buttonRequestOperation=[AFImageRequestOperation imageRequestOperationWithRequest:_request
   imageProcessingBlock:nil
   success:^(NSURLRequest *request, NSHTTPURLResponse *response, UIImage *image) 
{
 //create an uibutton,use the image for background
}
     failure:nil];
    [[[self class] sharedButtonRequestOperationQueue] addOperation:_buttonRequestOperation];
} 
```

表格视图单元格中的图像有时会显示按钮图像，而按钮则显示表格视图单元格的图像。你有什么建议吗？
谢谢

# prism - Eventaggreagtor 在 Prism 框架中的作用是什么？

> ID：12171515
> 
> 赞同：0
> 
> 时间：2012-08-29T05:38:21.200
> 
> 标签：prism, eventaggregator

我有一些想法，为了降低发布和订阅事件的复杂性，Eventaggregator 充当单一来源。这方面还有什么可以理解的。我只想要一个一般性的描述，而不是通过代码的例子。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T08:32:31.970

的想法`EventAggregator`是您不需要知道引发事件的源对象。通常要订阅/收听事件，您必须将源对象带到您的班级，然后像这样订阅事件：

```
// Object will raise event
public class EventSourceClass
{
   public event EventHandler<EventArgs> OnMyEvent;
} 
```

现在 - 想要订阅事件的类/对象必须以某种方式*知道*这样的`EventSourceClass`类：

```
// Object will listen to events from very specific (EventSourceClass) class
public class EventListenerClass
{
   ...
   EventSourceClass eventSourceClass = new EventSourceClass(....);
   eventSourceClass.OnMyEvent += ......
   ...
 } 
```

`EventAggregator`简单点：

*   您定义描述事件的类（类继承自`CompositePresentationEvent<>`.
*   然后在事件引发者课程中，您就`EventAggregator.GetEvent<event-type>().Publish(build-your-event-here)`在准备引发事件时。
*   在事件侦听器类中，您只需关注`EventAggregator.GetEvent<event-type>().Subscribe(function-that-will-start-to-work)`此事件。

    它被称为将源对象与侦听器解耦，因为引发事件的类和事件侦听器类都不必相互了解——它们都应该只知道`EventAggregator`——最终的事件传递/事件总线对象。

    如果您发现此信息对您有用，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T12:20:26.380

从 EventAggregator [MSDN 页面](http://msdn.microsoft.com/en-us/library/ff921122%28v=pandp.20%29.aspx)的第一行开始：

* * *

EventAggregator 服务主要是一个事件容器，允许发布者和订阅者解耦，以便它们可以独立发展。这种解耦在模块化应用程序中很有用，因为可以添加新模块来响应 shell 或更可能是其他模块定义的事件。

* * *

阅读该页面的其余部分以了解更多关于它的工作原理以及如何使用它的示例。我喜欢遵循的一般规则是，对于 Model->ViewModel 通信，标准 .NET 事件是好的，但对于 ViewModel->ViewModel（或 Module->Module）通信（两者都不应该真正“了解”彼此）， EventAggregator 很好。

# mysql - 在同一数据库（MySql）中复制大型 Innodb 数据库表

> ID：12171520
> 
> 赞同：2
> 
> 时间：2012-08-29T05:38:48.953
> 
> 标签：mysql

> **可能重复：**
> [如何快速复制大型 innodb 表](https://stackoverflow.com/questions/3758334/how-to-fast-copy-a-large-innodb-table)

我想在同一个数据库中复制我的 Innodb 表。表包含大约 400 万条记录。我想要新的表格副本仅用于测试目的。在新复制的表中，我只想稍微改变结构（就像我想删除旧的主键，然后创建一个新的复合主键并按 RANGE 添加逻辑分区）但内容将保持不变。

我尝试使用 Phpmyadmin 复制该 innodb 表，但时间太长，然后我决定故意终止该进程，因为它占用了服务器资源。

在结构上进行一些更改（删除旧的 PK 并添加新的复合 PK 并按 RANGE 添加逻辑分区）复制该表的最佳方法是什么？

如果我首先复制结构并对其进行必要的更改然后复制数据，有什么办法吗？请记住，该表是 Innodb，其中包含大约 400 万条记录！！！

据我得出的结论，PHPMyadmin 不是一个好方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T05:50:51.950

您可以创建新的表结构并设置 PK 和索引。

然后使用 INSERT ... SELECT 查询将另一个表中的数据获取到新表中。

[http://dev.mysql.com/doc/refman/5.5/en/insert-select.html](http://dev.mysql.com/doc/refman/5.5/en/insert-select.html)

# api - 适用于 Windows 8 Metro 的远程桌面/终端服务 API

> ID：12171530
> 
> 赞同：1
> 
> 时间：2012-08-29T05:39:42.257
> 
> 标签：api, microsoft-metro, remote-desktop, rdp, terminal-services

我很难在 Visual Studios 2012 中为 Metro 风格应用程序找到一个 API 来利用 RDP，这可用吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:33:55.580

以下是有关 Metro 风格应用程序远程桌面的一些文档 -

[http://msdn.microsoft.com/en-us/library/windows/apps/hh994983.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/hh994983.aspx)

[http://msdn.microsoft.com/en-us/library/windows/apps/hh994406.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/hh994406.aspx)

# string - wp7 在网络浏览器控件中显示字符串

> ID：12171532
> 
> 赞同：-1
> 
> 时间：2012-08-29T05:40:03.143
> 
> 标签：string, windows-phone-7, windows-phone-7.1

```
string a="<body style="text-align:justify"><p>"+
    "&amp;nbsp;</p>"+
"<p>"+
    "<a href="44" style="color: red">my web site</a></p>"+
"<p>"+
    "T&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; est</a></p>"+
"<p>"+
    "&amp;#39;</p>"+
"</body>"; 
```

如何避免这种情况？

当前输出如下：`my web site test`

我正在使用网络浏览器控件，我的代码是：

```
webBrowser1.NavigateToString(a); 
```

我当前的输出是   那么我该如何删除它呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:14:38.330

尝试在你的字符串中用   替换 nbsp

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T05:46:49.743

您可以调用 NavigateToString 在 WebBrowser 控件中呈现自定义 HTML：

字符串 html = ".......";

webBrowser.NavigateToString(html);

* * *

点击[这里](https://stackoverflow.com/questions/7618979/wp7-display-string-in-webbrowser-or-otherway)

* * *

尝试这个...

```
 private static string ConvertExtendedASCII(string HTML)
 {
      string retVal = "";
      char[] s = HTML.ToCharArray();

       foreach (char c in s)
        {
         if (Convert.ToInt32(c) > 127)
            retVal += "&#" + Convert.ToInt32(c) + ";";
        else
            retVal += c;
       }

   return retVal;
  } 
```

strind a= "你的 HTML 字符串..."

字符串 tmp_a = ConvertExtendedASCII(a);

webBrowser1.NavigateToString(tmp_a);

# android - 是否可以使用 phoengap 浏览 android 的手机内存？

> ID：12171544
> 
> 赞同：5
> 
> 时间：2012-08-29T05:41:12.753
> 
> 标签：android, html, cordova, jquery-mobile, file-upload

我想上传一个可能是 .doc 或 .pdf 或 .jpeg 或任何文件的文件。我想要一个浏览功能，点击打开我的android手机或平板电脑中存在的所有文件和文件夹，然后我从中选择一个文件并上传它。我见过很多例子，但我所看到的只是上传一个来自画廊的图片。谁能帮助我如何使用phonegap在android中获得浏览功能。

谢谢你。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-08-29T07:10:37.393

你可以看看这个解决方案这可以帮助你解决你的问题。

[类似问题](https://stackoverflow.com/questions/9940667/how-to-open-sdcard-of-android-using-phonegap)

# c# - 网站中的 FileIOPermission

> ID：12171552
> 
> 赞同：0
> 
> 时间：2012-08-29T05:42:16.820
> 
> 标签：c#, asp.net

```
if (!Directory.Exists(Request.PhysicalApplicationPath + "Images//Products//" + ddlCategory.SelectedValue.ToString().Trim() + "//" + ProductMasterId.ToString().Trim() + "//OriginalImages"))
{
    Directory.CreateDirectory(Request.PhysicalApplicationPath + "Images//Products//" + ddlCategory.SelectedValue.ToString().Trim() + "//" + ProductMasterId.ToString().Trim() + "//OriginalImages");
}
if (File.Exists(Request.PhysicalApplicationPath + "Images//Products//" + ddlCategory.SelectedValue.ToString().Trim() + "//" + ProductMasterId.ToString().Trim() + "//" + fuImageName.FileName.ToString()))
{
    File.Delete(Request.PhysicalApplicationPath + "Images//Products//" + ddlCategory.SelectedValue.ToString().Trim() + "//" + ProductMasterId.ToString().Trim() + "//" + fuImageName.FileName.ToString());
}
if (File.Exists(Request.PhysicalApplicationPath + "Images//Products//" + ddlCategory.SelectedValue.ToString().Trim() + "//" + ProductMasterId.ToString().Trim() + "//OriginalImages//" + fuImageName.FileName.ToString()))
{
    File.Delete(Request.PhysicalApplicationPath + "Images//Products//" + ddlCategory.SelectedValue.ToString().Trim() + "//" + ProductMasterId.ToString().Trim() + "//OriginalImages//" + fuImageName.FileName.ToString());
}
fuImageName.SaveAs(Request.PhysicalApplicationPath + "Images//Products//" + ddlCategory.SelectedValue.ToString().Trim() + "//" + ProductMasterId.ToString().Trim() + "//" + fuImageName.FileName.ToString());

if (!Directory.Exists(Request.PhysicalApplicationPath + "Images//Products//" + ddlCategory.SelectedValue.ToString().Trim() + "//" + ProductMasterId.ToString().Trim() + "//ThumbNailImages"))
{
    Directory.CreateDirectory(Request.PhysicalApplicationPath + "Images//Products//" + ddlCategory.SelectedValue.ToString().Trim() + "//" + ProductMasterId.ToString().Trim() + "//ThumbNailImages");
}

string Path = Request.PhysicalApplicationPath + "Images//Products//" + ddlCategory.SelectedValue.ToString().Trim() + "//" + ProductMasterId.ToString().Trim() + "//" + fuImageName.FileName.ToString();
Bitmap bmp1 = CreateThumbnail(Path, 400, 500);

string OutputFilename1 = fuImageName.FileName.ToString();
bmp1.Save(Request.PhysicalApplicationPath + "Images//Products//" + ddlCategory.SelectedValue.ToString().Trim() + "//" + ProductMasterId.ToString().Trim() + "//OriginalImages//" + OutputFilename1.ToString(), System.Drawing.Imaging.ImageFormat.Jpeg);

bmp1.Dispose();

Bitmap bmp = CreateThumbnail(Path, 100, 100);

string OutputFilename = "Thumb_" + fuImageName.FileName.ToString();
bmp.Save(Request.PhysicalApplicationPath + "Images//Products//" + ddlCategory.SelectedValue.ToString().Trim() + "//" + ProductMasterId.ToString().Trim() + "//ThumbNailImages//" + OutputFilename.ToString(), System.Drawing.Imaging.ImageFormat.Jpeg);

bmp.Dispose();

ClearAll(); 
```

这是我的代码..我在服务器上运行得到这个错误

> *System.Security.SecurityException：请求“System.Security.Permissions.FileIOPermission，mscorlib，版本=2.0.0.0，文化=中性，PublicKeyToken=b77a5c561934e089”类型的权限失败......*

请解决这个错误......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:48:19.113

检查 IIS 应用程序池的 Windows 标识。

检查应用程序正在访问的文件夹和文件的安全设置。

检查 Web 应用程序是否使用模拟。

根据需要调整权限。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-06-27T09:13:32.940

检查您的托管面板并更改 IIS 用户对上传图像文件夹的权限。

快乐编码:)

# iphone - 我如何知道用户是否在应用商店对应用进行了评分

> ID：12171553
> 
> 赞同：1
> 
> 时间：2012-08-29T05:42:17.327
> 
> 标签：iphone, ios, app-store

我有一个功能可以在应用程序中对应用程序中的应用程序进行评分，点击该应用程序将打开哪个 iTunes 链接。当用户评价应用程序时，我想奖励用户一些分数。有没有办法知道用户是否对应用程序进行了评分？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:57:08.933

无法真正检查用户是否对您的应用进行了评分。您只能做一些类似屏幕的操作来要求评分并将其链接到您在商店中的应用程序。但是你永远不会知道他是否在点击商店链接后评价了你的应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:22:42.733

虽然我没有测试过这个，但看看我发现的这个。
[这里](http://www.binpress.com/app/irate-prompt-users-to-rate-your-app/616)
[和这里](https://github.com/arashpayan/appirater/)......可能会得到一些帮助..

# java - 在 Java 中通过 UUID 生成唯一数字？

> ID：12171558
> 
> 赞同：4
> 
> 时间：2012-08-29T05:42:57.627
> 
> 标签：java, uuid

我正在查看一段代码，我可以看到已经编写了以下代码，它生成了一个字符串，并且该字符串已被设置为表的主键。

```
return new BigInteger(UUID.randomUUID().toString().replaceAll("-", ""), 16).toString(36); 
```

到目前为止，有很多记录，并且它们似乎是唯一的，因为没有违反主键约束。

我知道这个数字是随机的，但它会是唯一的吗？

谢谢

图科

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T05:46:30.913

无法保证这些数字是唯一的，但是由于范围如此之大，因此极不可能生成重复的数字。

即使考虑到[生日悖论](http://en.wikipedia.org/wiki/Birthday_problem)，这个机会也非常低。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T05:52:13.443

引用迈克尔·博格沃特的话

> UUID 使用`java.security.SecureRandom`，它应该是“加密强”。虽然未指定实际实现并且在 JVM 之间可能会有所不同（这意味着所做的任何具体语句仅对一个特定的 JVM 有效），但它确实要求输出必须通过统计随机数生成器测试。

您还可以阅读[java 的 UUID.randomUUID 有多好？](https://stackoverflow.com/questions/2513573/how-good-is-javas-uuid-randomuuid)UUID[有多独特？](https://stackoverflow.com/questions/1155008/how-unique-is-uuid)了解更多信息

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T05:47:58.807

该`randomUUID`函数使用“加密强伪随机数生成器”（来自 Javadoc）。这意味着随机生成背后有一些数学运算可以最大限度地降低碰撞风险（两个数字匹配）。

不能 100% 保证这些数字是完全唯一的；但是，两个数字匹配的可能性很小。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T05:46:54.573

UUID 实际上是通用唯一标识符。它的一些用途是用于创建随机文件名、Web 应用程序中的会话 ID、事务 ID 以及用于替换序列或自动生成的数字的数据库中记录的主键。

# bash - 通过 cron 作业执行脚本时遇到问题

> ID：12171559
> 
> 赞同：0
> 
> 时间：2012-08-29T05:42:58.557
> 
> 标签：bash, shell

直接在 shell 上执行以下脚本可以正常工作，但是通过 cronjob 执行时会出错。

```
bash-3.00$ cat scr.sh 
#!/usr/local/bin/bash
DATE=$(date +%g%m%e)
INPUT_FILES=$DATE"_*.txt"
ALL_FILES=$DATE"*.txt"
echo INPUT=$INPUT_FILES
echo FILES=$ALL_FILES
for i in $(ls $INPUT_FILES); do echo $i; done 
```

直接执行时工作正常。

通过 crontab 安装并执行时，我收到以下错误消息：

```
INPUT=120828_*.txt
FILES=120828*.txt
ls: 120828_*.txt: No such file or directory 
```

由于某种原因，for 循环中的 ls 无法解释嵌入的“*”。

关于可能出错的任何想法。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T05:45:50.363

`CWD`从 cron 运行时，当前工作目录 ( ) 会有所不同。在脚本中你可能要先`cd`进入目录。

# cmis - 如何判断 CmisObject 是代表文件还是文件夹？

> ID：12171560
> 
> 赞同：1
> 
> 时间：2012-08-29T05:43:20.837
> 
> 标签：cmis, dotcmis, opencmis

在 OpenCMIS（或 DotCMIS）中，如何判断 CmisObject 代表文件还是文件夹？

规范：[http ://chemistry.apache.org/java/0.5.0/maven/apidocs/org/apache/chemistry/opencmis/client/api/CmisObject.html](http://chemistry.apache.org/java/0.5.0/maven/apidocs/org/apache/chemistry/opencmis/client/api/CmisObject.html)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T16:31:49.300

这有效：

```
if (cmisObject instanceof Folder) { ... }
if (cmisObject instanceof Document) { ... } 
```

这有效：

```
if (cmisObject.getBaseTypeId() == BaseTypeId.CMIS_FOLDER) { ... }
if (cmisObject.getBaseTypeId() == BaseTypeId.CMIS_DOCUMENT) { ... } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:51:02.857

这是我找到的方法（C# 语法）：

```
cmisObject is DotCMIS.Client.Impl.Folder 
```

欢迎任何更好的想法！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-05-14T12:52:30.797

Florian Müller 的答案针对 DotCMIS 进行了改编和测试：

```
if (cmisObject is IFolder) { ... }
if (cmisObject is IDocument) { ... } 
```

# iphone - UIWebView 在运行时设置用户代理

> ID：12171561
> 
> 赞同：0
> 
> 时间：2012-08-29T05:43:28.140
> 
> 标签：iphone, uiwebview

> **可能重复：**
> [UIWebView iOS5 更改用户代理](https://stackoverflow.com/questions/8487581/uiwebview-ios5-changing-user-agent)

有些网站需要在桌面版和移动版中打开。如何在 UIWebView 的委托“webView:shouldStartLoadWithRequest:navigationType”中设置不同的用户代理。提前致谢。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-08-29T06:02:22.097

请参阅[allow-overriding-of-user-agent-on-uiwebview](https://www.cocoanetics.com/2012/06/radar-allow-overriding-of-user-agent-on-uiwebview/)链接。

请参阅[iphone-ipad-get-user-agent-for-uiwebview](http://blog.sallarp.com/iphone-ipad-get-user-agent-for-uiwebview/)链接

另请参阅[uiwebview-ios5-changeing-user-agent](https://stackoverflow.com/questions/8487581/uiwebview-ios5-changing-user-agent) SO 链接。

# python - python django - 加载自定义模板标签时出错

> ID：12171563
> 
> 赞同：0
> 
> 时间：2012-08-29T05:43:39.263
> 
> 标签：python, django, templates

我肯定做错了什么，但我不确定是什么！

在我的 django 项目中，我创建了一个名为“templatetags”的文件夹，在该文件夹中我有：

```
__init__.py
tags.py 
```

在标签.py 中：

```
from datetime import datetime
from django import template
register = template.Library()

@register.filter("timestamp")
def timestamp(value):
    try:
        return datetime.fromtimestamp(value)
    except AttributeError:
        return '' 
```

在我的一个模板中，我调用：

```
{{record.date|timestamp|date:"D d M Y"}} 
```

然而，当我运行模板时，我得到以下输出错误：

```
Exception Type: TemplateSyntaxError
Exception Value:    
Invalid filter: 'timestamp' 
```

有人可以让我知道我做错了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:48:07.620

需要检查的 2 件事 1\. 您的应用程序是否在 INSTALLED_APPS 中列出 2\. 您是否在文件中加载了自定义标签？IE`{% load tags %}`

# java - 这个 Perl http POST 的 Java 等价物是什么

> ID：12171564
> 
> 赞同：0
> 
> 时间：2012-08-29T05:43:54.440
> 
> 标签：java, perl, http, post

（第一个 Stack Overlflow 问题！）我很难根据下面的 Perl 示例在 Java 中编码等效的表单数据 http POST。我什至使用 WireShark 来尝试捕获这个工作示例，这样我就可以研究发布的 XML 数据，这样我就可以用 Java 编写代码，但没有骰子。有谁知道下面代码中的 XML 是什么样子的？我可以很好地进行身份验证，但表单数据在我的 Java 代码中一直被拒绝。

```
my $ua = LWP::UserAgent->new();
$ua->timeout($MYTIMEOUT);
$ua->credentials("myweb03:80","mydomain.com",$user, $password);

my $response = $ua->post($PEPSURL, 'content-type' => 'form-data',
                                 Content => {
                                 username => $user,
                                 prep_id => $prep_id,
                                 project => $project,
                                 upfile  => [ $uploadfile ],
                                 discussion => $discussion,
                                 silentsave => int($silentFlag)

             }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-09T17:40:54.047

感谢那些回答这个问题的人以及来自[http://indiwiz.com/2009/02/11/multi-part-content-upload-in-apache-http-components-http-的关键代码示例，我让它工作了客户/](http://indiwiz.com/2009/02/11/multi-part-content-upload-in-apache-http-components-http-client/)。这是一个如何做一个多部分/表单数据发布的例子，在这个过程中上传一个文本文件：

```
package upfile;

import java.io.*;
import java.nio.charset.Charset;
import org.apache.http.*;
import org.apache.http.auth.AuthScope;
import org.apache.http.auth.UsernamePasswordCredentials;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.entity.mime.MultipartEntity;
import org.apache.http.entity.mime.content.FileBody;
import org.apache.http.entity.mime.content.StringBody;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.util.EntityUtils;

public class Upfile {
    public static void main(String[] args) throws ClientProtocolException, IOException {
        DefaultHttpClient httpclient = new DefaultHttpClient();
        try {
            httpclient.getCredentialsProvider().setCredentials(
                new AuthScope("<host>", 80, "<realm>", "basic"),
                new UsernamePasswordCredentials("<username>", "<password>"));
            HttpPost httpPost = new    HttpPost("<url>");
            MultipartEntity entity = new MultipartEntity();
            entity.addPart("username", new StringBody("<username>", Charset.forName("UTF-8")));
            entity.addParPart("id", new StringBody("86815", Charset.forName("UTF-8")));
            entity.addPart("project", new StringBody("GIZMO", Charset.forName("UTF-8")));
            entity.addPart("discussion", new StringBody("Discussion text; uploaded via Java!", Charset.forName("UTF-8")));
            File f = new File("/Users/sjd/myFile.txt");
            FileBody fileBody = new FileBody(f, "text/plain");
            entity.addPart("upfile", fileBody);
            httpPost.setEntity(entity);
            HttpResponse response = httpclient.execute(httpPost);

            System.out.println("----------------------------------------");
            System.out.println(response.getStatusLine());
            if (entity != null) {
                System.out.println("Response content length: " + 
                     entity.getContentLength());
                ByteArrayOutputStream outstream = new ByteArrayOutputStream();
                response.getEntity().writeTo(outstream);
                byte[] responseBody = outstream.toByteArray();
                System.out.println(responseBody.toString());
            }
            EntityUtils.consume(entity);
        } finally {        
            httpclient.getConnectionManager().shutdown();
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T07:32:19.873

德罗斯特：

您正在使用这种形式的 LWP::UserAgent->post：

```
$ua->post( $url, $field_name => $value,... Content => \%form ) 
```

根据[LWP::UserAgent](http://metacpan.org/pod/LWP%3a%3aUserAgent)的文档：

> 此方法将在给定的 $url 上发送一个 POST 请求，其中 %form 或 @form 为填写的表单内容提供键/值对。其他标题和内容选项与 get() 方法相同。
> 
> 此方法将使用 HTTP::Request::Common 中的 POST() 函数来构建请求。有关如何传递表单内容和其他高级功能的详细信息，请参阅 HTTP::Request::Common。

从[HTTP::Request::Common](http://metacpan.org/pod/HTTP%3a%3aRequest%3a%3aCommon)：

```
POST 'http://www.perl.org/survey.cgi',
       Content_Type => 'form-data',
       Content      => [ name  => 'Gisle Aas',
                         email => 'gisle@aas.no',
                         gender => 'M',
                         born   => '1964',
                         init   => ["$ENV{HOME}/.profile"],
                       ] 
```

创建：

```
 POST http://www.perl.org/survey.cgi
  Content-Length: 388
  Content-Type: multipart/form-data; boundary="6G+f"

  --6G+f
  Content-Disposition: form-data; name="name"

  Gisle Aas
  --6G+f
  Content-Disposition: form-data; name="email"

  gisle@aas.no
  --6G+f
  Content-Disposition: form-data; name="gender"

  M
  --6G+f
  Content-Disposition: form-data; name="born"

  1964
  --6G+f
  Content-Disposition: form-data; name="init"; filename=".profile"
  Content-Type: text/plain

  PATH=/local/perl/bin:$PATH
  export PATH

  --6G+f-- 
```

所以其他海报是正确的。格式不是 XML。

希望这会有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T05:52:32.613

Java中的post方法没有“内置”。您可以构建一个，或者您可以尝试[Apache 的 HttpComponents](http://hc.apache.org/) API，特别是`HttpClient`

# stm - 在 JAVA 中使用 STM 实现 pi 演算

> ID：12171570
> 
> 赞同：1
> 
> 时间：2012-08-29T05:44:49.493
> 
> 标签：stm, transactional-memory, pi-calculus

我想在 JAVA 中实现 `pi-calculus。对于并发，我使用**Deuce STM library**。更改 JAVA 语法会很困难，因此我计划使用带注释的变量和通用函数/类。

例如。

```
    类频道{
         私有变量1；
         私有变量2；
         @Atomic // 这是由 Deuce 处理的
         公共无效发送（）{
         }
         @原子
         公共无效接收（）{
         }
    }

```

所以一个通道将是这个类的一个实例。

我对如何对流程进行建模以允许它们通过这些渠道进行交互感到困惑。

有什么帮助/建议吗？

谢谢你。

# android - 添加超越错误 Lint 'NewApi' 除了在 android 操作栏中使用向后兼容性

> ID：12171572
> 
> 赞同：0
> 
> 时间：2012-08-29T05:44:57.530
> 
> 标签：android, android-actionbar, backwards-compatibility

我正在处理操作栏。我遇到了一个奇怪的问题。我的最低 sdk 版本是 8，目标是 15。我正在使用 android-support-v4.jar。这样操作栏就可以在低于 API 11 的设备上运行。但是我遇到了类似的错误![在此处输入图像描述](../Images/2616af35bf2c45dfc531ddc420f2ef22.png)

我无法解决这个问题。最重要的是我怀疑 android 的向后兼容性，它不会在所有版本和硬件中都有效

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:09:07.487

您正在使用

> 我的最低 sdk 版本是 8，目标是 15

即使使用 android-support-v4.jar ，Action BAr 也无法在低于 Android 3.0（API 级别 11）的 API 上运行。

作为一种解决方案，您可以使用 action bar sherlock 来实现向后兼容性。

网站：[http ://actionbarsherlock.com/](http://actionbarsherlock.com/)

> 该库将在适当时自动使用本机操作栏，或者会自动围绕您的布局包装自定义实现。这使您可以轻松地为 2.x 及更高版本的每个版本的 Android 开发带有操作栏的应用程序。

# c# - 如何在 Razor 视图中写评论？

> ID：12171576
> 
> 赞同：167
> 
> 时间：2012-08-29T05:45:20.710
> 
> 标签：c#, asp.net-mvc-3, razor, comments

如何在 MVC 视图中编写不会传输到最终 HTML 的注释（即，到浏览器、响应）。可以通过以下方式发表评论：

```
<!--<a href="/">My comment</a> --> 
```

但是，它在浏览器的页面源代码中可见。

是否可以在“.cshtml”文件中留下评论仅供内部使用？

* * *

## 回答 #1

> 赞同：291
> 
> 时间：2012-08-29T05:46:39.713

*请注意，一般来说，像 Visual Studio 这样的 IDE 会在当前语言的上下文中标记注释，方法是选择要转换为注释的文本，然后使用`Ctrl`++快捷方式，或者如果您使用的是 Resharper / `K` `Ctrl`Intelli- `C`J 风格的快捷键，然后`Ctrl`+ `/`。*

*服务器端评论：*

**剃刀.cshtml**

[像这样：](http://weblogs.asp.net/scottgu/asp-net-mvc-3-server-side-comments-with-razor)

```
@* Comment goes here *@ 
```

**.aspx**
对于那些寻找旧`.aspx`视图（和 Asp.Net WebForms）[服务器端注释语法的](http://msdn.microsoft.com/en-us/library/4acf8afk(v=vs.100).aspx)人：

```
<%-- Comment goes here --%> 
```

*客户端评论*

**HTML 注释**

```
<!-- Comment goes here --> 
```

**Javascript 评论**

```
// One line Comment goes Here
/* Multiline comment
   goes here */ 
```

*正如 OP 所提到的，虽然没有显示在浏览器上，但仍然会为服务器上的页面/脚本文件生成*客户端注释，并由页面通过 HTTP 下载，除非将其删除（例如缩小），否则将*浪费 I/O*，并且, 由于用户可以通过查看页面源或使用浏览器的 Dev Tools 或 Fiddler 或 Wireshark 等工具拦截流量来查看评论, 也可能*带来安全风险*, 因此首选在服务器上使用服务器端评论生成代码（如 MVC 视图或 .aspx 页面）。

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2012-08-29T05:47:34.003

此注释语法应该适合您：

```
@* enter comments here *@ 
```

# mysql - MySQL 字符串函数

> ID：12171581
> 
> 赞同：8
> 
> 时间：2012-08-29T05:46:02.800
> 
> 标签：mysql, string, function

我有一张包含以下数据的表格：

```
reservno || icode || location
00004    || 00021 || Bohol - Cebu
00004    || 00022 || Cebu - Manila
00004    || 00014 || Manila - Bohol 
```

我使用此查询来检索位置的串联值。

```
SELECT GROUP_CONCAT(location) from location_list where reservno='00004'; 
```

查询结果如下所示：

```
GROUP_CONCAT(location)
Bohol - Cebu,Cebu - Manila,Manila - Bohol 
```

但我想要做的是让查询看起来像这样：`Bohol - Cebu - Manila - Bohol`. 我想像这样合并结果。我怎样才能做到这一点？我对 MySQL 字符串函数不太熟悉，所以我需要一些关于如何使其工作的想法。任何帮助将不胜感激。非常感谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-29T06:08:12.433

您需要`SEPARATOR`在`GROUP_CONCAT`函数中使用：

```
SELECT  GROUP_CONCAT(IF((@var_ctr := @var_ctr + 1) = @cnt, 
                        location, 
                        SUBSTRING_INDEX(location,' - ', 1)
                       ) 
                       ORDER BY loc_id ASC
                       SEPARATOR ' - ') AS locations

FROM location_list, 
     (SELECT @cnt := COUNT(1), @var_ctr := 0 
      FROM location_list 
      WHERE reservno='00004'
     ) dummy
WHERE reservno='00004'; 
```

# 示例：[SQLFIDDLE](http://sqlfiddle.com/#!2/3b7b4/3)

在同一列中存储多个值不是一个好习惯，更好的方法可能是：

```
reservno || icode || location_from || location_to
00004    || 00021 || Bohol         || Cebu
00004    || 00022 || Cebu          || Manila
00004    || 00014 || Manila        || Bohol 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-29T05:57:46.730

这是一种方法。它从您的单列中分离出两个位置`location`，区分它，然后将其重新组合在一起[SQL Fiddle](http://sqlfiddle.com/#!2/53039/8)：

```
SELECT GROUP_CONCAT(DISTINCT loc SEPARATOR ' - ')
FROM 
(
    SELECT SUBSTRING_INDEX(location, ' - ', 1) AS loc
    FROM location_list 
    WHERE reservno='00004'
    UNION ALL
    SELECT SUBSTRING_INDEX(location, ' - ', -1) AS loc
    FROM location_list 
    WHERE reservno='00004'
) separatedLocs 
```

不过，您可能正在寻找更智能的东西？我觉得“位置”更像是一种“从到到”的东西？`location`我也质疑像这样在您的列中存储多个值的决定。`location1`将 a和`location2`作为单独的列存储会更好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-05T09:05:24.860

由于[当前接受的答案](https://stackoverflow.com/a/12171808/1468366)似乎稍后[会引起问题](https://stackoverflow.com/questions/12243779/mysql-order-by-problems)，因此这是另一种选择。它在很大程度上基于[lc 的解决方案。](https://stackoverflow.com/a/12171703/1468366)但负责订购。

首先：SQL 表*没有明确定义的行顺序*。当您查询表的所有行时，这些行将按特定顺序返回，但该顺序未定义，可能与添加行的顺序相关，也可能不相关，并且可能会意外更改。因此，当您想按给定顺序处理行时，您应该添加一列以包含某种序列号或 smilar。这就是为什么 lc. [一直在烦你](https://stackoverflow.com/questions/12171581/mysql-string-functions/12171808#comment16291931_12171703)关于位置的顺序。

如果您有这样的列，称为`seq`，那么您可以使用以下查询：

```
SELECT GROUP_CONCAT(loc SEPARATOR ' - ')
FROM (
 (SELECT 1 half, seq, SUBSTRING_INDEX(location, ' - ', 1) loc
  FROM location_list
  WHERE reservno='00004'
  ORDER BY seq
  LIMIT 1)
 UNION ALL
 (SELECT 2 half, seq, SUBSTRING_INDEX(location, ' - ', -1) loc
  FROM location_list
  WHERE reservno='00004')
 ORDER BY half, seq
) locs 
```

联合将产生一个不同位置的列表，使用最外层的选择将其组合成一个字符串。联合的第一部分产生路线第一部分的前半部分，而联合的第二部分将为您提供所有部分的后半部分。到目前为止联合结果的顺序是未定义的，所以我们需要一个整体的排序规则。我们还需要前半部分的排序规则，以便我们真正选择带有限制子句的路线的前半部分。

[这](http://sqlfiddle.com/#!2/3b7b4/9)是一个基于 Omesh 设置的 sqlfiddle。由于缺少`seq`列，它使用`icode`列来排序。因此，结果与您预期的不同，`Manila - Bohol - Cebu - Manila`而是产生了。

如果添加`seq`列，则必须更改数据库模式，因此您不妨更改它，使每个部分的两个端点变成两个不同的列。使用组合列`CONCAT`很简单，但是拆分它们会增加开发人员和数据库引擎的查询的复杂性。

如果您无法添加序列列，因为您无法控制数据库模式，那么您就有麻烦了。[您在这里的评论](https://stackoverflow.com/questions/12171581/mysql-string-functions/12171808#comment16292117_12171703)表明您一直在寻找一个循环，但是从无序数据中找到这样一个循环最好使用[map](http://en.wikipedia.org/wiki/Associative_array)来完成，这在 SQL 级别并不容易获得。如果必须，您可以通过存储过程来实现这一点，为陪审团的每个部分执行一个选择，但如果我是你，我宁愿在应用程序级别解决这个问题。

# asp.net - 表单身份验证未使用正确的凭据登录

> ID：12171583
> 
> 赞同：0
> 
> 时间：2012-08-29T05:46:15.640
> 
> 标签：asp.net, vb.net, forms, authentication, login

我正在尝试将表单身份验证配置为密码保护文件夹。即使凭据正确，它当前也没有登录任何用户。

这是我的代码...

网络配置：

```
<authentication mode="Forms">
  <forms name=".ASPXAUTH" loginUrl="login.aspx" protection="All" timeout="999999">
    <credentials passwordFormat="MD5">
      <user name="admin" password="passwordhashhere" />
    </credentials>
  </forms>
</authentication>
<authorization>
  <allow users="?" />
</authorization> 
```

然后在最后一个 system.web 之外：

```
<location path="Admin">
  <system.web>
    <authorization>
      <allow users="admin" />
      <deny users="*" />
    </authorization>
  </system.web>
</location> 
```

然后在我的aspx中：

```
<div class="user">
    <p>Username:</p>
    <br />
    <asp:TextBox ID="TextBoxUser" runat="server"></asp:TextBox>
</div>

<div class="pass">
    <p>Password:</p>
    <br />
    <asp:TextBox ID="TextBoxPass" runat="server" TextMode="Password"></asp:TextBox>
</div>

<div class="login">   
    <asp:Button ID="ButtonLogin" runat="server" Text="Log In" />
    <asp:Label ID="LabelError" runat="server" Text=""></asp:Label>
</div> 
```

然后在我的代码隐藏中：

```
Protected Sub ButtonLogin_Click(sender As Object, e As System.EventArgs) Handles ButtonLogin.Click
    If Membership.ValidateUser(TextBoxUser.Text, TextBoxPass.Text) Then
        If Request.QueryString("ReturnUrl") IsNot Nothing Then
            FormsAuthentication.RedirectFromLoginPage(TextBoxUser.Text, False)
        Else
            FormsAuthentication.SetAuthCookie(TextBoxUser.Text, False)
        End If
    Else
        LabelError.Text = "Invalid UserID and Password"
    End If
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:07:40.610

尝试

```
<deny users="?" /> 
```

而不是`<deny users="*" />`在你的第二个代码块中......

并且

```
<allow users="*" /> 
```

而不是`<allow users="?" />`在第一个代码块中或不需要..

# c# - 在 UInt32 中计算设置位的最快方法是什么

> ID：12171584
> 
> 赞同：15
> 
> 时间：2012-08-29T05:46:16.447
> 
> 标签：c#, count, set, bits, uint32

`UInt32`在不使用查找表的情况下计算设置位的数量（即计算 1 的数量）的最快方法是什么？有没有办法算进去`O(1)`？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-08-29T05:56:41.443

[bit-twiddling hacks](http://graphics.stanford.edu/~seander/bithacks.html#CountBitsSetNaive)页面有许多选项。

当然，您可以争辩说遍历所有 32 个可能的位是 O(N)，因为每次的成本都相同 :)

为简单起见，我会考虑按字节查找表的方法，或 Brian Kernighan 的巧妙想法，它迭代的次数与设置的位数一样多，我将其写为：

```
public static int CountBits(uint value)
{
    int count = 0;
    while (value != 0)
    {
        count++;
        value &= value - 1;
    }
    return count;
} 
```

如果您不喜欢填充 256 项查找表的想法，那么每 nybble 查找仍然会很快。请注意，8 个数组查找可能比 32 个简单位操作慢。

当然，在采用特别深奥的方法之前，测试应用程序的真实性能是值得的……这真的是你的瓶颈吗？

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2012-08-29T10:28:51.943

是以下内容的副本： [how-to-implement-bitcount-using-only-bitwise-operators](https://stackoverflow.com/questions/3815165/how-to-implement-bitcount-using-only-bitwise-operators) 或 [best-algorithm-to-count-the-number-of-set-bits-in-a-32-bit-integer](https://stackoverflow.com/questions/109023/best-algorithm-to-count-the-number-of-set-bits-in-a-32-bit-integer)

这个问题有很多解决方案。我使用的是：

```
 int NumberOfSetBits(int i)
    {
        i = i - ((i >> 1) & 0x55555555);
        i = (i & 0x33333333) + ((i >> 2) & 0x33333333);
        return (((i + (i >> 4)) & 0x0F0F0F0F) * 0x01010101) >> 24;
    } 
```

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2019-09-15T00:30:10.573

在 .NET Core 3.0[中，x86`popcnt`内在函数](https://docs.microsoft.com/en-us/dotnet/api/system.runtime.intrinsics.x86.popcnt.popcount?view=netcore-3.0)已公开，允许您对 uint 或 uint64 执行单指令填充计数计算。

```
int setBits = System.Runtime.Intrinsics.X86.Popcnt.PopCount(value); 
```

还有一个 64 位版本`System.Runtime.Intrinsics.X86.Popcnt.X64.PopCount()`可以在`ulong`64 位 CPU 上运行时使用。

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2018-07-24T12:50:07.667

> 这是java中获取给定数字的设置位的解决方案。

```
import java.util.*;

public class HelloWorld {

static int setBits(int n) {
    int count = 0;
    while(n != 0) {
        count+= ((n & 1) == 1) ? 1 : 0;
        n >>= 1;

    }
    return count;
}

 public static void main(String []args){
     Scanner sc = new Scanner(System.in);
     int n = sc.nextInt();
     System.out.println("Results: " + HelloWorld.setBits(n)); 
 }
} 
```

# mongodb - mongoDB 如何杀死/终止 map_reduce 作业？

> ID：12171586
> 
> 赞同：4
> 
> 时间：2012-08-29T05:46:20.310
> 
> 标签：mongodb, pymongo

我不确定这是否可能，但想知道我们是否有解决此问题的方法。我定义了一个 map_reduce 作业（已采取额外措施进行增量查询，以便数据集最小化），如果需要很长时间我想使用 pymongo API 或在 mongoDB shell 中终止该作业......并且还优雅地删除所有临时表。这可以做到吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T08:32:01.270

在杀死操作方面，您需要`currentOp()`找到op ID，然后`killOp()`在shell中找到杀死操作的命令。有关详细信息，请参见此处：

[http://www.mongodb.org/display/DOCS/Viewing+and+Terminating+Current+Operation#ViewingandTerminatingCurrentOperation-KillinganInProgressOperation](http://www.mongodb.org/display/DOCS/Viewing+and+Terminating+Current+Operation#ViewingandTerminatingCurrentOperation-KillinganInProgressOperation)

一旦操作被杀死，删除临时集合是安全的，只需调用集合`drop()`列表即可。我可以将一些 javascript 放在一起在 shell 中自动完成，但考虑到错误和丢弃错误集合的可能性，这可能是个坏主意。

# javascript - 转换 html 表单以使用 django 表单库

> ID：12171588
> 
> 赞同：0
> 
> 时间：2012-08-29T05:46:36.730
> 
> 标签：javascript, django, django-forms, django-views

我是 django 的新手，我不知道它包含一个表单库。我用 html 和 javascript 编写了一个显示复选框的动态表单，如果单击，它们会显示更多输入字段。

我想知道是否有一种简单的方法可以调整我已经编写的代码以使用 django 的表单库，因为使用 djangos 内置方法访问表单数据更加容易和清洁。

另外，如果我希望表单是动态的，我需要使用 formset 还是表单库具有这些功能？

这是我想转换为使用 Forms 库的代码：

```
<script language="javascript"> 
        function ifChecked(id, id2){
        var ele = document.getElementById(id);
        var ele2 = document.getElementById(id2);

        if(ele.checked){
            ele2.style.display = "block";
        }
        else{
            ele2.style.display = "none";
        }
    }

    function ifCheckedLine(id, id2){
        var ele = document.getElementById(id);
        var ele2 = document.getElementById(id2);

        if(ele.checked){
            ele2.style.display = "inline";
        }
        else{
            ele2.style.display = "none";
        }
    }
</script>

<body>
<form name="myform" action="resultsget" method = "get" >            
        <fieldset>
            <input type="checkbox" value="total_money" id = "money_check" name="check" onchange="javascript:ifChecked('money_check','money');" /> Filter by Total Money</br>

                <div id="money" style="display:none" name="option">  

                    <input type="checkbox" value="more" id="money_condition" onchange="javascript:ifCheckedLine('money_condition', 'money_text');"  name="condition"/> <label for="condition" > > </label>

                        <div id = "money_text" style="display:none"  >
                            <input type="text" id="money_box" name="money_name" value="lower limit" />
                        </div></br>

                    <input type="checkbox" value="less" id="money_condition1" onchange="javascript:ifCheckedLine('money_condition1', 'money_text1');" name="condition"/> <label for="condition1"> < </label>

                        <div id = "money_text1" style="display:none;"  >
                            <input type="text" id="money_box1" name="money_name1" value="upper limit" />
                        </div>

                </div> 
</fieldset>

    <input type="submit" value="Submit" />
</form>​ 
```

我还想知道我必须在 views.py 文件中放入什么来读取表单信息

谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T05:59:08.153

使用 django 表单，您可以构建一个包含所需字段的表单，并使用模板渲染它。当您构建 django 表单时，表单的处理将变得容易。请参阅[使用表单](https://docs.djangoproject.com/en/dev/topics/forms/)

对于动态启用/禁用字段，您编写的代码可以与使用 django 为表单字段输入的“id”的更改一起使用。我会建议使用[jQuery](http://jquery.com/)为元素设置事件处理程序。

# c# - 如何将值从 c# 传递到 javascript 到 ascx 页面

> ID：12171596
> 
> 赞同：4
> 
> 时间：2012-08-29T05:47:09.727
> 
> 标签：c#, javascript, asp.net

我正在研究 asp.net c#。我想将字符串值从 c# 发送到 ascx page 。我正在使用以下代码来做到这一点，

```
string one = @"\'" + names[0, 0] + "\'" + "," + @"\'" + names[1, 0] + "\'";
string[] splitted = one.Split('\'');
string onces =  splitted[1] + ","  + splitted[3] ;
inpHide.Value =onces; 
```

在 ascx 页面中，我应该将此值传递给 javascript，我确实喜欢这样，

```
$(document).ready(function () {
  var hiddenControl = '<%= inpHide.ClientID %>';
  var values = document.getElementById(hiddenControl).value;
  alert(values);

  var tweetUsers = [values];
});
<input id="inpHide" type="hidden" runat="server" /> 
```

当我使用类似 [""twitter","microsoft""] 的 firebug 值调试 javascript 但 " 引号被自动添加到 javascript 中。但由于这个字符串 javascript 我应该像这样 ["twitter","microsoft"]不工作。我该如何解决这个问题？请帮我解决这个问题。提前谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:37:17.743

您应该尝试使用 JSON，并将该字符串传递给客户端：使用此函数将您的字符串序列化为 JSON：

```
 public string ToJSON(this object obj)
    {
        JavaScriptSerializer serializer = new JavaScriptSerializer();
        return serializer.Serialize(obj);
    } 
```

然后将返回字符串传递给您的客户端，尝试使用公共字符串并在 javascript 中使用该公共字符串而不是隐藏控件

# php - 根据浏览器分辨率重定向 URL

> ID：12171598
> 
> 赞同：0
> 
> 时间：2012-08-29T05:47:15.700
> 
> 标签：php, jquery, css

如果用户使用小于 1024x600 的分辨率，我希望它能够将他们重定向到我网站的移动版本。现在我正在使用 JQuery 这样做，如果分辨率小于 1024x600，它将被重定向到移动版本。我担心这是否是一个好习惯（使用脚本重定向），如果它现在是你的建议（因为据我所知 PHP 无法检测浏览器分辨率）？

任何建议将不胜感激，谢谢。

PS。我正在使用一个全高网站，它在 1024x600 或更大的分辨率下看起来不错，但在较小的网站上却不行，所以我制作了移动版本以提供全高网站和移动支持。我不想使用浏览器检测，因为我希望具有大分辨率的移动设备访问标准网站。

编辑：我被传下来了一个全高单页水平站点的设计，我很难让它响应（如果内容是流畅的，那么它不会是全高的，没有垂直滚动）所以我做了一个手机版。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T05:55:06.293

根据某些情况重定向到另一个页面绝对没问题。但是还有一些其他更好的方法可以做到这一点。

要解决您的问题，请了解[布局类型](http://coding.smashingmagazine.com/2009/06/02/fixed-vs-fluid-vs-elastic-layout-whats-the-right-one-for-you/)。

流体布局最适合您的要求。理想情况下，您应该为各种视口使用相同的样式表集。

看看[jQuery mobile](http://jquerymobile.com/demos/1.1.1/)的网站。尝试更改您的浏览器窗口大小并查看内容如何自动“适合”您的窗口。你必须做同样的事情。:)

它是一个流畅的布局。:)

PS：我建议不要使用 CSS 媒体查询。当然，它们会让你的生活更轻松，但如果你想真正提高你的技能，只要 CSS 还在，试着用最少的高级特性来构建你的东西​​。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T05:48:36.120

最好的做法可能是使用 CSS 媒体查询来根据用户的屏幕尺寸提供不同的 CSS，除非您的移动网站和桌面网站完全不同。

没错，PHP 无法确定最终用户的屏幕尺寸。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T05:53:28.333

最简洁的设计是您从服务器获取一组 HTML/JS/CSS，然后页面使用 CSS 媒体查询和/或 javascript 的某种组合来适应可用的屏幕尺寸。

如果你不能这样做，或者如果你有其他原因想要从服务器获取不同的 HTML，那么最好找到一种方法来避免客户端重定向，因为那些额外的往返是不可取的（尤其是在移动的）。

一些网站在浏览器中设置了一个带有屏幕分辨率的cookie，除了第一次访问该网站外，服务器可以在呈现网站之前看到cookie中的屏幕分辨率，您可以避免客户端重定向并可以根据 cookie 中的分辨率呈现所需的页面。

对于第一次访问（当 cookie 尚未设置时），您执行客户端重定向并设置 cookie。

然后，如果用户更改他们的屏幕分辨率（这种情况并不经常发生），您还必须修改该 cookie。

# c# - 浏览器唯一 ID asp.net

> ID：12171599
> 
> 赞同：1
> 
> 时间：2012-08-29T05:47:32.253
> 
> 标签：c#, asp.net, .net

我需要在两个网站之间导航。

从一个站点登录并将会话传递到另一个站点（这是极不可能的）。

所以我需要识别浏览器（不喜欢`Request.browser.browser or Request.browser.Id`）并维护两个Web应用程序之间的识别。

那可能吗？如果可能，我如何识别浏览器？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:03:54.250

我认为你走错路了，你应该使用[SSO](http://en.wikipedia.org/wiki/Single_sign-on)来解决这种问题

[这](http://www.codeproject.com/Articles/27576/Single-Sign-on-in-ASP-NET-and-Other-Platforms)是用 asp.net 实现的好文章

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:31:45.587

请浏览以下网址以供参考

[http://www.asp101.com/articles/jayram/sharestate/default.asp](http://www.asp101.com/articles/jayram/sharestate/default.asp)

[http://www.codeproject.com/KB/aspnet/Sharing_session_state.aspx](http://www.codeproject.com/KB/aspnet/Sharing_session_state.aspx)

[http://blogs.msdn.com/toddca/archive/2007/01/25/sharing-asp-net-session-state-across-applications.aspx](http://blogs.msdn.com/toddca/archive/2007/01/25/sharing-asp-net-session-state-across-applications.aspx)

登录仍然是最好的解决方案。

# sql - 从 sql-vb.net 检索最大值

> ID：12171604
> 
> 赞同：-1
> 
> 时间：2012-08-29T05:47:51.847
> 
> 标签：sql, vb.net, oracle

我正在尝试从 sql - vb.net 中检索最大值

这是我的代码：我收到此错误：

> *无法将“System.DBNull”类型的对象转换为“Oracle.DataAccess.Client.OracleDataReader”类型*

请帮忙。:(

```
Dim cmd2 As New OracleCommand
cmd2.Connection = conn
'SELECT MAX(LASTNO) FROM d001005 where lbrcode = '104' and CODE1 = 'CASH' and lnodate = '14-NOV-08' 
Dim datepara As String = Date.Now.ToString("dd-MMM-yy")
'datepara = "14-NOV-08"
cmd2.CommandText = "SELECT MAX(LASTNO) FROM d001005 where lbrcode = '" + lbr + "' and CODE1 = 'CASH' and lnodate = '" + datepara + "'"
cmd2.CommandType = CommandType.Text
Dim dr2 As OracleDataReader = cmd2.ExecuteScalar
Dim result As Decimal = dr2.Item("LASTNO") 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T05:49:35.903

方法`ExecuteScalar()`返回`System.Object`所以改变你的代码。

```
 Dim value=cmd2.ExecuteScalar()
 IF Not IsNoThing(value) Then
    result=Decimal.Parse(value.ToString())
 End IF 
```

或者你可以使用 ExecuteReader，

```
 Dim dr2 As OracleDataReader = cmd2.ExecuteReader()
    Dim value as Decimal
    If dr2.Read() Then
       IF Not dr2.IsDbNull(0)
           Value=dr2.GetDecimal(0)
       End IF
    End If 
```

并且*始终*使用参数而不是硬编码的 sql 字符串。

```
cmd2.CommandText = "SELECT MAX(LASTNO) FROM d001005 where lbrcode=@lbrcode and CODE1='CASH' and lnodate=@lnodate"
cmd2.Parameters.Add("@lbrcode",SqlDbType.VarChar,20).Value=lbr
..... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T06:06:14.267

没有**名称为“LASTNO”的项目，**因为您正在使用*聚合函数*来找出最大值。此外[**ExecuteScalar**](http://msdn.microsoft.com/de-de/library/system.data.oracleclient.oraclecommand.executescalar.aspx)返回*第一行的第一个值*！另一点是，您应该将**[OracleParameter](http://msdn.microsoft.com/de-de/library/system.data.oracleclient.oracleparameter.aspx)**用于任何类型的动态语句，**以防止 SQL 注入**！

```
Dim cmd2 As New OracleCommand
cmd2.Connection = conn
Dim datepara As String = Date.Now.ToString("dd-MMM-yy") ' see hint below

cmd2.CommandText = "SELECT MAX(LASTNO) as maxLastNo FROM d001005 where lbrcode = :lbr and CODE1 = 'CASH' and lnodate = :lnodate"

' add parameter value directly
cmd2.Parameters.AddWithValue("lbr", lbr)   ' lbr seems to be your var which holds the according value

' or create parameter object and set type and add it afterwards
Dim param as new OracleParameter
param.ParameterName = "lnodate"
param.Value = datepara    ' or any other value (furthermore: no need to convert to string)
param.ParameterType = OracleType.DateTime ' or OracleType.Varchar which is set by default
cmd2.CommandType = CommandType.Text

Dim val = cmd2.ExecuteScalar()
if Not val is Nothing then
    Dim maxValue as Decimal = Convert.ToDecimal(val)
    Console.WriteLine(maxValue)
End if 
```

# php - 统计信息如何与动态生成的帖子相关联？

> ID：12171605
> 
> 赞同：1
> 
> 时间：2012-08-29T05:47:52.077
> 
> 标签：php, javascript, html, ajax

我的问题是，我们如何将统计信息与帖子相关联，例如，点赞数如何与每个 Facebook 帖子唯一关联，或者与 Stackoverflow 上的问题相关联的点赞和点赞统计信息。进一步详细说明，假设在 stackoverflow 上有一个问题，我单击 Upvote 按钮，系统如何识别单击 upvote 按钮以将统计信息发送到后端数据库的问题？由于每个问题都是由用户动态生成的，如何给与每个问题相关联的按钮一个唯一的 ID 呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:09:45.660

In the DB you would have an auto-incrementing ID field, when a question is generated and inserted into the db it is given an ID automatically, and in php + mysql you can get this id with the function mysql_insert_id().

Then when you output the html for the question, you add the id of the question into the html somehow.

It can be in a hidden field in a html form eg `<input type='hidden' name='questionid' value='52'></input>` and then have it accessible in $_POST or $_GET in the php

or as part of the id or name of another element having an element with id or name of upvote52 and then you either extract it from the id/name via javascript before POSTing it to the php or you can just send it like that to the php and extract the ID from the rest of the string in the backend

or if its a anchor tag you can add it to the href as a paramater eg mysite.com/upvote.php?question=52 and then access it via $_GET in the php

# objective-c - 如何从网站动态获取数据并将其添加到 iPhone 应用程序？

> ID：12171608
> 
> 赞同：0
> 
> 时间：2012-08-29T05:48:04.017
> 
> 标签：objective-c, ios, database, content-management-system

有人让我创建一个[网站](http://www.laloyolan.com/) 并提取其中的故事、图像、功能（例如民意调查）的提要，然后将这些数据输出到移动应用程序中。

有人告诉我该网站是由 Wordpress 提供支持的，但这可能是一个错误，因为该网站链接[到此](http://www.townnews365.com/content_management_solutions/about_blox/)。无论哪种方式，该网站都是使用所见即所得工具设计的。

我对 PHP、数据库、JSON 或 XML 没有任何经验，因此我试图找到最快的方法来学习如何完成这项任务。

另一个[SO question](https://stackoverflow.com/questions/4486692/acessing-a-wordpress-database-from-an-iphone-app)讨论了类似的内容，但使用的是 Wordpress。除了特定于 wordpress 的链接之外，我希望我能得到更彻底的解释，以便像我这样的初学者能够理解。

此外，还有一些为网站提供支持的公司的[文档](http://docs.townnews.com/kbpublisher/)，但我不知道我应该搜索什么。

我希望我不会像一个要求别人为我做所有工作的人那样表现出来。我在互联网上寻找了一些资源，但我仍然对如何开始这个过程感到困惑。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T11:34:35.950

这里有一篇很好的文章如何做到这一点：[教程：构建一个 RSS 阅读器](http://maniacdev.com/2011/01/tutorial-building-an-rss-reader/)

# php - 从动态生成键的多维数组中提取值

> ID：12171609
> 
> 赞同：0
> 
> 时间：2012-08-29T05:48:04.650
> 
> 标签：php, arrays, multidimensional-array

我有一个数组

```
$array1 = Array (
       [a1] => Array  (
               [a_name] => aaaaa
               [a_value] => aaa
             )

       [b1] => Array (
               [b_name] => bbbbb
               [b_value] => bbb
           )
       [c1] => Array (
               [c_name] => ccccc
               [c_value] => ccc
           )

     ) 
```

现在我想提取 $array1[b1][b_name] 的值。但这里的关键是密钥（b1 和 b_name）将动态生成。这里的情况是我有一个多维数组和我想要值的键。那么我如何获得价值。

例如。

```
$array1[b1][b_name] 
```

应该返回

```
bbbbb 
```

和

```
$array1[c1] 
```

应该返回

```
array([c_name]=>ccccc
       [c_value]=>ccc
   ) 
```

等等...

**编辑**

让我们保持这种方式，第二个数组是

```
$array2 = Array (
         [b1] => Array (
               [b_name]=> zzzzz
             )
      ) 
```

现在相交 $array1 和 $array2，我想要 $array1 的值，即。bbbb

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T06:08:28.170

尝试这个

```
<?php
   //you will have $firstkey and $secondkey as index values of $array1
   if (isset($firstkey) && array_key_exists($firstkey, $array1)) {
       if (isset($secondkey) && array_key_exists($secondkey, $array1[$firstkey])) {
           print_r($array1[$firstkey][$secondkey]);
       }
       else {
           print_r($array1[$firstkey]);
           echo "$secondkey does not exist";           
       }
   }
   else {
       echo "$firstkey does not exist";
   }
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T05:53:17.283

您可以使用 foreach 循环来获取键和值。如果您只想要特定的并且您不知道如何识别它们，我不确定它是否会对您有所帮助：

```
foreach ($array1 as $key => $value) {
    echo "Key: $key; Value: $value<br />\n";
}

// From your example of the array inside a1:
// the $key would be: a_name
// the $value would be: aaaaa 
```

# java - 序列化 java.util.Enumeration

> ID：12171614
> 
> 赞同：2
> 
> 时间：2012-08-29T05:48:25.420
> 
> 标签：java, serialization

我怎么能`serialize` `Enumeration`反对一个文件，然后`deserialize`呢？我尝试将其转换为，`ArrayList`但此选项对我不起作用。我尝试了以下代码：

```
FileOutputStream fos            = null;
ObjectOutputStream outs         = null;
Enumeration<TreePath> stateEnum = com.jidesoft.tree.TreeUtils.saveExpansionStateByTreePath(tree);
ArrayList<TreePath> pathList    = new ArrayList<TreePath>();

while(stateEnum.hasMoreElements()){
    pathList.add(stateEnum.nextElement());
}
try {
    fos = new FileOutputStream(TREE_STATE_FILE);
    outs = new ObjectOutputStream(fos);
    outs.writeObject(pathList);
    outs.close();
} catch (IOException e) {
    _log.info("Failed to create " + TREE_STATE_FILE + " file: ", e);
} 
```

但是当我尝试`serialize`它时，我得到了空值。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:20:00.590

IMO，序列化`Enumeration`并没有多大意义。An`Enumeration`只是数据结构或其他业务逻辑之上的浮动视图。为了序列化，你最好坚持序列化后台接口。为了可视化我正在写的内容，我设置了一个小代码片段：

```
import java.io.*;
import java.util.*;

import javax.swing.tree.TreePath;

public class EnumTest {

  public class MyEnumerator<T> {

    // set holding data
    List<T> data;

    public MyEnumerator(List<T> data) {
      this.data = data;
    }

    public List<T> getData() {
      return data;
    }

    public Enumeration<T> enumerate() {
      return new Enumeration<T>() {
        transient int i = 0;

        @Override
        public boolean hasMoreElements() {
          return i < data.size();
        }

        @Override
        public T nextElement() {
          return data.get(i++);
        }
      };
    }
  }

  public EnumTest() throws Exception {
    List<TreePath> TreePaths = Arrays.asList(new TreePath[] { new TreePath("3"), new TreePath("4"), new TreePath("5") });
    MyEnumerator<TreePath> myEnum1 = new MyEnumerator<TreePath>(TreePaths);
    print(myEnum1);

    FileOutputStream fos = new FileOutputStream("test.out");
    ObjectOutputStream oos = new ObjectOutputStream(fos);
    oos.writeObject(myEnum1.getData());
    oos.close();
    fos.close();

    System.out.println("* Serialization complete");

    FileInputStream fis = new FileInputStream("test.out");
    ObjectInputStream ois = new ObjectInputStream(fis);
    @SuppressWarnings("unchecked")
    List<TreePath> data = (List<TreePath>) ois.readObject();
    MyEnumerator<TreePath> myEnum2 = new MyEnumerator<TreePath>(data);
    print(myEnum2);

    System.out.println("* Deserialization complete");
  }

  private void print(MyEnumerator<TreePath> myEnum1) {
    Enumeration<TreePath> enm = myEnum1.enumerate();
    while (enm.hasMoreElements()) {
      System.out.println(enm.nextElement());
    }
  }

  public static void main(String[] args) throws Exception {
    new EnumTest();
  }
} 
```

这解决了`Enumeration`通过持久化包含的数据并在之后重建包装类来序列化自身的主题`MyEnumerator`。通过序列化/反序列化循环，您将获得一个不同的对象，但在语义上是相同的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T05:56:19.400

为了使您的代码正常工作，TreePath 还必须是可序列化的，因为 pathList 的元素是 TreePath 对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T05:56:39.167

我不确定这是否是您的意思，但请查看以下代码：

```
import java.util.ArrayList;
import java.util.Collection;
import java.util.Enumeration;
import java.util.NoSuchElementException;

@SuppressWarnings("unchecked")
public class SerializableEnumeration
   extends ArrayList
   implements Enumeration
{
   /** The serialVersionUID */
   private static final long serialVersionUID = 8678951571196067510L;
   private int index;

   public SerializableEnumeration () {
      index = 0;
   }

   public SerializableEnumeration (Collection c) {
      super(c);
      index = 0;
   }

   public SerializableEnumeration (int initialCapacity) {
      super(initialCapacity);
      index = 0;
   }

   public boolean hasMoreElements() {
      return (index < size());
   }

   public Object nextElement() throws NoSuchElementException
   {
      try {
         Object nextObj = get(index);
         index++;
         return nextObj;
      }
      catch (IndexOutOfBoundsException e) {
         throw new NoSuchElementException();
      }
   }

   private void writeObject(java.io.ObjectOutputStream out)
      throws java.io.IOException
   {
      // the only thing to write is the index field
      out.defaultWriteObject();
   }

   private void readObject(java.io.ObjectInputStream in)
      throws java.io.IOException, ClassNotFoundException
   {
      in.defaultReadObject();
   }
} 
```

从[这里](http://www.java2s.com/Tutorial/Java/0140__Collections/SerializableEnumeration.htm)

# php - phpmyadmin html 连接

> ID：12171622
> 
> 赞同：1
> 
> 时间：2012-08-29T05:49:01.363
> 
> 标签：php, javascript

我目前正在创建一个 Web 应用程序。这里的问题是纯粹用 HTML 和 JScript 编码的。是否也可以使用 php 脚本连接到 PHPmyadmin？我遇到了同样的问题，脚本显示为文本文件

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:05:28.660

事实上 phpMyAdmin 是一个用 PHP 编写的软件工具，旨在通过万维网处理 MySQL 的管理。我认为您想创建数据库，因此您应该直接使用 MySQL。

当然你可以使用 PHP 。但

如果您将使用 php，那么请记住 PHP 是面向服务器的语言，并且只能由像 Apache 这样的服务器解析。因此，如果您只使用 HTML 和 JScript，这将是您的开销。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:13:39.257

由于 PHP 是一种服务器端脚本语言，因此您需要有一个服务器，例如 apache 或 tomcat。是的，您可以使用 php 文件访问 mysql 数据库。

# sql-server-2008 - 是否可以根据部署到的数据库更改 TSQL 脚本？

> ID：12171636
> 
> 赞同：0
> 
> 时间：2012-08-29T05:50:11.427
> 
> 标签：sql-server-2008, tsql

在 c# 项目中，有预处理器指令的概念，它允许您根据您是构建 app/dll/etc 的调试版本还是发布版本来更改编译的代码。TSQL 脚本和数据库项目是否有类似的选项？具体来说，我创建的一些 TSQL 脚本创建了可以在远程数据库中运行的动态 sql 语句。用于开发和生产的远程数据库不同，因此两个构建之间的动态 SQL 需要不同。每次我在部署到 dev 和部署到 prod 之间切换时，不必手动更新代码会很好。

干杯，乔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:01:48.637

`.dbproj`VS 使用[SQLCMD](http://msdn.microsoft.com/en-us/library/ms162773.aspx)部署项目，因此您可以使用[SQLCmd 脚本变量](http://msdn.microsoft.com/en-us/library/ms188714.aspx)。

例如：

```
CREATE PROC MyProc
AS
   SELECT * FROM $(ServerVar).$(DbVar).dbo.MyTable 
```

您可以`Properties/Database.sqlcmdvars`在 .dbproj 下的 VS 中设置这些。

然后在部署这些变量时将其替换到 .sql 脚本中。

[http://msdn.microsoft.com/en-us/library/ms188714.aspx](http://msdn.microsoft.com/en-us/library/ms188714.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-11-01T20:45:39.237

如果您使用大量动态 SQL，我建议您编写自己的 SP 来执行代码 - 并通过 VARCHAR(MAX) 输入参数将其传递给 SP。然后，您使用占位符而不是您的数据库名称 - 类似于 #DBNAME# 并在您的 SP 中放入一个 REPLACE，该 REPLACE 在执行代码之前实际写入了真实的数据库名称。并且您将数据库名称保存在参数表中，以便您的 SP 可以通过查询全局变量 @@SERVERNAME 来找出正确的数据库名称。这具有在每个环境中运行完全相同的代码的优势，以及我在博客中描述的其他好处。[https://wordpress.com/post/Dimensionmodelingblog.wordpress.com/92](https://wordpress.com/post/dimensionalmodelingblog.wordpress.com/92)

# c# - 通过 Activator.CreateInstance 从外部创建时无法访问 WCF（ServiceHost）

> ID：12171637
> 
> 赞同：2
> 
> 时间：2012-08-29T05:50:11.793
> 
> 标签：c#, .net, wcf, plugins, tcp

我创建了一个在我自己的运行时完美运行的服务主机。此外，我添加了一个插件接口，我可以从外部调用它作为插件。在记录时我可以看到服务主机已正确启动但无法访问？！？

我的服务主机：

```
_myHost = new ServiceHost(typeof(MyHostClass));
ServiceEndpoint endpoint = _myHost.AddServiceEndpoint(typeof (IMyHost), new NetTcpBinding(), "net.tcp://localhost:1234/MyHost");
_myHost.Description.Behaviors.Find<ServiceDebugBehavior>().IncludeExceptionDetailInFaults = true;
_myHost.Open(); 
```

这毫无例外地工作。国家**开放**

我也用 http-address 尝试过，但该网站不可调用：

```
_myHost = new ServiceHost(typeof(MyHostClass), new Uri("http://localhost:7777/MyHost")); 
```

来自外部的插件调用者：

```
Instance = (IPlugIn)Activator.CreateInstance(pluginAssembly.GetType(pluginType.ToString()))
Instance.Initialize(); 
```

该实例已正确创建并且可以正常工作

我的 WCF 连接器看起来像这样：

```
NetTcpBinding binding = new NetTcpBinding();
EndpointAddress address = new EndpointAddress("net.tcp://localhost:1234/MyHost");
ChannelFactory<IMyHost> factory = new ChannelFactory<IMyHost>(binding);
_proxy = factory.CreateChannel(address); 
```

超时，因为无法访问

# c# - System.Net.WebException：远程服务器返回错误：（403）访问谷歌API时被禁止

> ID：12171638
> 
> 赞同：4
> 
> 时间：2012-08-29T05:50:18.633
> 
> 标签：c#, asp.net, c, api, google-maps-api-3

我在我的网站上使用 Google API。它在我的本地主机上运行良好，但在实时服务器上我收到以下错误：

```
System.Net.WebException: The remote server returned an error: (403)
Forbidden.
at System.Net.HttpWebRequest.GetResponse()
at GoogleUrlShortnerApi.Shorten(String url) 
```

我正在使用此处找到的代码： [http ://www.thecyberwizard.com/index.php/5/google-analytics-api-in-c-part-1/](http://www.thecyberwizard.com/index.php/5/google-analytics-api-in-c-part-1/)

从调试中，我看到错误发生在

```
HttpWebResponse myResponse = (HttpWebResponse)myRequest.GetResponse(); 
```

命令。

有谁知道可能导致错误的原因（同样，错误仅发生在服务器上。当我在计算机上本地运行此代码时，它运行良好并检索到一个短 url）。

我必须关闭计费仍然收到以下错误：

```
System.Net.WebException: The remote server returned an error: (403) 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T06:47:11.880

它通过将 _autoPostData 值更改为`"â?accountType=HOSTED_OR_GOOGLE&Email={0}&Passwd={1}&service=analytics&source=thecyberwizard.comâ"`.

# javascript - JQGrid - 动态更改列的宽度

> ID：12171640
> 
> 赞同：6
> 
> 时间：2012-08-29T05:50:31.927
> 
> 标签：javascript, jqgrid

我了解 jqgrid 每一列的宽度是使用`colModel`参数定义的。假设我想在单击按钮后调整列的大小，我该如何执行此操作？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-29T06:44:34.213

您可以使用两种方法设置列的新宽度 - setColProp 和 setGridWidth。

这是设置列数量的新宽度的示例：

```
$("#mygrid").jqGrid('setColProp','amount',{width:new_width});

var gw = $("#mygrid").jqGrid('getGridParam','width');

$("#mygrid").jqGrid('setGridWidth',gw); 
```

PS 请注意，为了工作，shrinkToFit 应该为 true，或者您应该使用第二个参数 true 调用 setGridWidth

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-29T06:17:29.297

您好，这可以分两步完成：

a) 更改标题单元格的宽度：

`$('.ui-jqgrid-labels > th:eq(0)').css('width','200px')`

b）更改列中单元格的宽度：

`$('#grid tr').find("td:eq(0)").each(function(){$(this).css('width','200px');})`

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-18T17:28:20.900

此代码不影响表格视图，仅更改以下列`width`的属性`colModel`：

```
$("#[grid_id]").jqGrid('setColProp','[column_name]',{width:[new_width]}); 
```

哟可以`width`用这个动态改变列**（[column_index] 从 1 开始）**：

```
$('#[grid_id]_[column_name], #[grid_id] tr.jqgfirstrow td:nth-child([column_index])').width([new_width]) 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-11-13T12:44:52.617

例如，如果您有很多列要更改：

在这种情况下，在 jqgrid 构建完成后，您可以直接进入生成的表格并手动更改列标题的所有列宽和相应的数据，而无需编写繁琐的代码。

```
 var tabColWidths ='70px|125px|125px|125px|125px|125px|125px|125px|125px|125px|125px|125px|125px|125px|125px|125px|125px|125px|125px|125px|125px|125px';

function reDefineColWidth(){
        var widthsArr = tabColWidths.split('|');

    for(var j=0; j < widthsArr.length ; j++ ){
            $('.ui-jqgrid-labels > th:eq('+j+')').css('width',widthsArr[j]);
            $('#grid tr').find('td:eq('+j+')').each(function(){$(this).css('width',widthsArr[j]);})
        }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-11-26T10:37:19.687

```
$('#gbox_list_requisitos').css('width','1300px');
$('#gview_list_requisitos').css('width','1300px');
$('#gview_list_requisitos').css('width','1300px');
$('.ui-state-default').css('width','1300px');
$('.ui-jqgrid-hdiv').css('width','1300px');
$('.ui-jqgrid-bdiv').css('width','1300px');
$('#pager_requisitos').css('width','1300px'); 
```

这是我的答案它可以修复我遇到了同样的问题，就像在 shrinkFit = true 中一样，我有 2 个水平滚动条并且这个解决方案正在工作，你可以使用窗口宽度而不是 1300

我的表 ID 是`list_requisitos` ，寻呼机 ID 是`pager_requisitos`

# javascript - jquery 在通过 ajax 提交表单之前通过 ajax 验证电子邮件

> ID：12171642
> 
> 赞同：0
> 
> 时间：2012-08-29T05:50:36.423
> 
> 标签：javascript, jquery, ajax

我有一个配置文件创建表单，其中包含一个电子邮件地址字段。我需要确保用户输入的电子邮件地址格式有效，并且还没有被使用。对于格式检查，我有一个由 isValidEmailAddress 函数执行的简单客户端验证，效果很好。对于我需要检查电子邮件地址是否不存在的另一部分，我将 jquery post 发送到控制器方法，如果电子邮件已被某人使用，则返回字符串“电子邮件地址已在使用中”......但在第一个“return false”下方的代码不会阻止表单提交。这是一个异步的jQuery吗？

```
 $(document).ready(function(){

    $("#new_profile").submit(function(){
      var email = $("#user_email").val();    
      if(isValidEmailAddress(email)){
        jQuery.post('/profiles/validate_email', {email: email}, function(data){
          if(data.match(/in use/)){
            $(".email-check-message").html(data);
            return false;
          }
        });
      }
      else{
        $(".email-check-message").html('please enter a valid email address');
        return false;
      }
    });    
  }); 
```

此外，上述函数中的 jquery 帖子似乎不起作用..因为我没有看到服务器日志中发生服务器调用。有谁知道发生了什么？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T05:36:32.663

就用这个：

```
$(document).ready(function(){

  $("#new_profile").submit(function(event){
    var email = $("#user_email").val();    
    if(isValidEmailAddress(email)){
      jQuery.post('/profiles/validate_email', {email: email}, function(data){
        if(data.match(/in use/)){
          $(".email-check-message").html(data);
          event.preventDefault();
        }
      });
    }
    else{
      $(".email-check-message").html('please enter a valid email address');

    }
  });    
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T06:11:36.147

can ı offer different solution.

first check mail with your function after send it to php,asp file to control is already in use.

```
$("#new_profile").submit(function(event){

  var email = $("#user_email").val();    
  if(isValidEmailAddress(email)){

        $.post(
                'control.php?do=mail',
                {mail:email},
                function(answer){ 
```

// do something with answer

```
 }
          );

       });

} else{
        $(".email-check-message").html('please enter a valid email address');
        return false;
      } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T05:53:03.770

尝试：

```
$(document).ready(function(){

  $("#new_profile").submit(function(event){
    var email = $("#user_email").val();    
    if(isValidEmailAddress(email)){
      jQuery.post('/profiles/validate_email', {email: email}, function(data){
        if(data.match(/in use/)){
          $(".email-check-message").html(data);
          event.preventDefault();
        }
      });
    }
    else{
      $(".email-check-message").html('please enter a valid email address');
      event.preventDefault();
    }
  });    
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T06:15:55.133

您必须无条件地取消提交，因为提交处理程序将在 ajax 请求返回之前完成执行（除非您将 async 设置为 false），因此您无法阻止已经发生的操作。您可以设置一个标志来指示电子邮件是否有效，然后提交表单

```
$(document).ready(function(){
    $("#new_profile").submit(function(e){
        if (!$('#new_profile').data('validemail')){
            e.preventDefault();
            var email = $("#user_email").val();    
            if(isValidEmailAddress(email)){
                jQuery.post('/profiles/validate_email', {email: email}, function(data){
                    if(data.match(/in use/)){
                        $(".email-check-message").html(data);
                    }
                    else{
                        $('#new_profile').data('validemail', true).submit();
                    }
                });
            }
            else{
                $(".email-check-message").html('please enter a valid email address');
            }
        }
    });     
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-29T06:02:02.070

您可以使用

```
event.preventDefault() 
```

当您检查有效电子邮件失败或电子邮件已被使用时，停止提交表单。

这是一个有关其工作原理的[示例。](http://api.jquery.com/event.preventDefault/)

# php - 使用 preg_matches 进行多个数组匹配

> ID：12171643
> 
> 赞同：1
> 
> 时间：2012-08-29T05:50:37.967
> 
> 标签：php, mysql, mongodb, sphinx

我们正在做一个基于成员数据的标签分析项目。但是我们需要知道如何在 php.ini 中使用 preg_matches 匹配多个数组值。因为每个标签都有多个值。如果其中任何一个值与成员数据匹配，我们需要为该成员分配该标签。我们还需要一个计数，即给定字符串中有多少单词匹配。

所以请分享你的想法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-06T14:17:15.863

可能您已经想出了一种方法或另一种方法，因为这个问题已经很老了。

如果它对您有帮助，那么我建议您使用[array_map()](http://www.php.net/manual/en/function.array-map.php)这使您可以将用户定义的函数应用于您传递给它的所有数组的所有元素。

您可以通过一些技巧将其用于匹配目的，它将为您提供所需的结果集。

此外，如果您想出了更好的方法或做任何您想做的事情的方法，您也可以与我们分享。:)

# objective-c - 如何将for循环中的int解析为xcode中的方法？

> ID：12171645
> 
> 赞同：1
> 
> 时间：2012-08-29T05:50:52.803
> 
> 标签：objective-c, ios, xcode

嗨，伙计们，我想做的是创建 6 个精灵并将它们均匀地隔开，我编辑了一些我从书中得到的代码，但目前卡在我需要将精灵均匀隔开的部分

```
 [groundNode setPosition:CGPointMake(45, 20)]; 
```

这会将所有 6 个精灵堆叠在哪里？我怎样才能让它变成这样

```
 [groundNode setPosition:CGPointMake(45*x, 20)]; 
```

其中 x 是从 for 循环中获取的 int。我的代码列在底部。太感谢了！！

```
-(id)init{
    self = [super init];
    if(self !=nil){
        for(int x=0;x<6;x++){
            [self createGround];
        }   
    }
    return self;
}

-(void) createGround{
    int randomGround = arc4random()%3+1;
    NSString *groundName = [NSString stringWithFormat:@"ground%d.png", randomGround];
    CCSprite *groundSprite = [CCSprite spriteWithFile:groundName];
    [self addChild:groundSprite];
    [self resetGround:groundSprite];
}

-(void) resetGround:(id)node{
    CGSize screenSize =[CCDirector sharedDirector].winSize;
    CCNode *groundNode = (CCNode*)node;
    [groundNode setPosition:CGPointMake(45, 20)];

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:02:15.077

第一步是构建这些方法以获取 offsetIndex 参数：

```
-(void) createGroundWithOffsetIndex: (int) offsetIndex {
-(void) resetGround: (CCNode *) node withOffsetIndex: (int) offsetIndex { 
```

然后，在 createGround 中，将其传递：

```
[self resetGround:groundSprite withOffsetIndex: offsetIndex]; 
```

并从循环中传入：

```
for(int x=0;x<6;x++){
  [self createGroundWithOffsetIndex:x];
} 
```

最后，你知道你会使用的代码位（在 resetGround:withOffsetIndex:) 内：（注意 +1，因为偏移量（按语义）从零开始）

```
[groundNode setPosition:CGPointMake(45 * offsetIndex+1, 20)]; 
```

一些注意事项：

*   仔细考虑这里需要多少传递，并尝试考虑改进的架构：如果您正在平铺相同的图像，也许 createGround 应该采用 CGRect 并负责填充那么多区域？

*   这只是水平的；我把它作为一个练习来传递 CGPoints（或类似的 {x,y} 结构）作为 offsetIndex。

*   你的铸造模式是临界的。为什么将它作为 id 传递，然后将其转换为另一个本地 var，而它一直以另一种类型出现？我会认为那个结束...

# mysql - SQL：行为空时无法回显结果

> ID：12171647
> 
> 赞同：0
> 
> 时间：2012-08-29T05:51:22.347
> 
> 标签：mysql, sql, pdf-generation, fpdf, coalesce

```
$pdf->Table('select @N:=@N+1 AS no,
                    A.department as "DEPARTMENT", 
                    A.no as "ASSET NUMBER" , 
                    A.total as "ASSET TOTAL PRICE" , 
                    B.no as "INVENTORY NUMBER" ,  
                    B.total as "INVENTORY TOTAL PRICE" 
                from 
                    (select  h.department , coalesce(count(h.id),0) as no,coalesce(sum(h.price),0) as total 
                        from asset h 
                        where h.department = "'.$department.'" 
                        and  year(h.date_accepted) = '.$year.' 
                        GROUP BY year(h.date_accepted)) as  A , 
                    (select coalesce(count(i.id),0) as no,coalesce(sum(i.price),0) as total 
                        from inventory i 
                        where i.department = "'.$department.'"
                        and  year(i.date_accepted) = '.$year.' 
                        GROUP BY year(i.date_accepted)) as B   ',$prop); 
```

我正在做一个 PDF 文件，它将生成从 SQL 读取的表。问题是当数据库中的任何行为空时，即使其他表中有数据，PDF 表也不会生成任何输出。

例如，对于 2009 年，只有资产被接受，而库存则没有。回显时，即使数据库的资产表中有数据，生成的表也是空的。

我已经尝试了从 ISNULL、IFNULL、COALESCE 到将 sum()/count() 的值设置为 0（我认为生成的表为空的原因）的所有方法，但仍然无法生成数据。

为什么 COALESCE 函数不起作用，是因为使用了别名吗？例如 COALESCE(sum(i.price),0))（如 i.variable）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T06:44:18.863

更改您的PHP代码而不是db表，使用“”或任何内容自行检查和设置数据，如果这些在回显之前为空。

# constructor - CakePHP 使用参数调用组件构造函数

> ID：12171648
> 
> 赞同：1
> 
> 时间：2012-08-29T05:51:27.847
> 
> 标签：constructor, components, cakephp-2.1

我正在使用 cakephp 2.1 版本并创建了一个组件作为 GoogleApiComponent 如下。

```
class GoogleApiComponent extends Component {
  public $client;
  public $analytics;
  function __construct($prompt = null) {
      $this->client = new apiClient();
      $this->client->setApprovalPrompt($prompt);
      $this->analytics = new apiAnalyticsService($this->client);
  } 
```

}

然后在 AppController 中，我包含了上述组件。

```
public $components = array('GoogleApi'); 
```

用户登录后，我必须检查 AppController 的 beforeFilter() 方法中的一些条件，并根据这些条件更改 GoogleAPiComponent 构造函数的参数。那么这是如何完成的呢？作品更值得欣赏。。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T09:06:16.557

您可以将`$settings`数组传递给您的组件。

请参阅[http://book.cakephp.org/2.0/en/controllers/components.html#configuring-components](http://book.cakephp.org/2.0/en/controllers/components.html#configuring-components)

在您的组件内部，您可以通过`$this->settings`

# java - 用于稳健统计的 Java 统计包

> ID：12171649
> 
> 赞同：7
> 
> 时间：2012-08-29T05:51:28.843
> 
> 标签：java, statistics

我正在寻找“稳健统计”的 java 包。请注意此处[“稳健”](http://en.wikipedia.org/wiki/Robust_statistics)的含义。

我知道 Apache commons 数学 [描述性统计](http://commons.apache.org/math/apidocs/index.html)和汇总统计，但它们只提供非稳健统计。

这里的一个例子是[中值绝对偏差](http://en.wikipedia.org/wiki/Median_absolute_deviation)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-02-11T02:04:02.217

我不确定这是否会给你一个确切的解决方案。但是您可以使用 apache 数学库派生这些功能。这是导出平均绝对偏差的示例。

```
public double mad(double [] autoCorrelationValues){
    double [] tempTable = new double[autoCorrelationValues.length];
    Median m = new Median();
    double medianValue = m.evaluate(autoCorrelationValues);
    for(int i=0 ; i<autoCorrelationValues.length ;i++){
        tempTable[i] = Math.abs(autoCorrelationValues[i] - medianValue);
    }
    return m.evaluate(tempTable); 
} 
```

# java - Java GUI、JFrames 和对话框

> ID：12171650
> 
> 赞同：2
> 
> 时间：2012-08-29T05:51:39.470
> 
> 标签：java, swing, user-interface, awt, event-dispatch-thread

我读到你不应该`.show()`在主线程上框架以避免死锁，这是一个真正的问题。是否应该始终避免这种情况？此外，一旦您显示任何类型的对话框，例如 ProgressMonitorInputStream，即使它关闭并完成，您还必须调用`System.exit()`以终止应用程序吗？JDialog 呢？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-29T06:04:55.907

> 我读到您不应该在主线程上使用 .show() 帧以避免死锁

它会停止阅读那本书/帖子/网页。

要解决您的第一点：

我认为您可能遗漏了一些要点。

所有 UI 代码都**必须**在[事件调度线程](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html)(EDT) 上执行，这包括尚未出现在屏幕上的 UI 组件。

您不应该**在**EDT 中执行耗时的任务，因为这会阻止屏幕更新并使您的应用程序无响应，这是用户非常非常讨厌的。

耗时的任务应该在自己的线程中执行（这实际上是一个完全不同的主题），使用诸如[SwingWorker](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)或[SwingUtilities.invokeLater](http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingUtilities.html#invokeLater%28java.lang.Runnable%29) / [andWait 之](http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingUtilities.html#invokeAndWait%28java.lang.Runnable%29)类的东西来重新同步/更新 UI。

```
public class BackgroundTask implements Runnable { // extends Thread {

    public void run() {
        for (int i = 0; i < noQueries; i++) {
            runDatabaseQuery(i);
            updateProgress(i);
        }
    }

    private void updateProgress(final int queryNo) {
        SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                statusLabel.setText("Query: " + queryNo);
            }
        });
    }
} 
```

* * *

为了解决您的第二点：

是和不是。该类`JFrame`提供了一个[defaultCloseOperation](http://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html#setDefaultCloseOperation%28int%29)，您可以使用它来终止主应用程序。

但是，如果您显示的只是`JDialog`或其他类型的窗口，是的，您需要调用`System.exit`以终止 JVM。

在受支持的情况下，您可以使用[WindowListener.windowClosed](http://docs.oracle.com/javase/7/docs/api/java/awt/event/WindowListener.html#windowClosed%28java.awt.event.WindowEvent%29)事件来监视窗口何时关闭并采取适当的措施。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T06:04:45.823

关闭`JFrame`应用程序中的 main 应该让您调用 System.exit(); 但是，您可以让 main`JFrame`关闭应用程序本身：

```
setDefaultCloseOperation(EXIT_ON_CLOSE); 
```

Modal`JDialog`正在阻塞调用它们的线程。不过，这也有好处。当您在执行操作时依赖用户的回答时`JDialog`，您必须等待。

# javascript - 寻找从 JSON/object 构建 DOM 客户端的 JS 库

> ID：12171652
> 
> 赞同：2
> 
> 时间：2012-08-29T05:51:56.777
> 
> 标签：javascript, dom

乍一看，我似乎在寻找一个简单的 JS 模板引擎，但我正在寻找更复杂的东西。起初我想自己编写代码，但我想得越多，但我无法想象以前没有这样做过。

简而言之：我正在寻找可以采用以下对象文字并构建以下 HTML 的东西。

```
{
    tagName   : 'div',
    className : 'container',
    children  :
    [
        {
            tagName   : 'h1',
            className : 'page-title',
            text      : 'My Awesome Page!'
        },
        {
            tagName   : 'a',
            className : 'class-i-gave-to-this-link',
            text      : 'Check out my other awesome page!',
            attr      : 
            {
                href: 'http://my.awesome-page.com/'
            }
        }
    ]
} 
```

所需的结果 HTML：

```
<div class="container">
    <h1 class="page-title">My Awesome Page!</h1>
    <a class="class-i-gave-to-this-link" href="http://my.awesome-page.com/">Check out my other awesome page!</a>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:28:25.540

这是我对递归解决方案的破解：

```
var jsonToHtml = function(node) {
    var tag = document.createElement(node.tagName);
    tag.className = node.className || "";
    if(node.text) {
        tag.innerHTML = node.text;
    }
    if(node.children) {
        for(var i = 0; i < node.children.length; i++) {
            tag.appendChild(jsonToHtml(node.children[i]));
        }                
    }
    if(node.attr) {
        for(var key in node.attr) {
            tag.setAttribute(key, node.attr[key]);
        }            
    }
    return tag;
}; 
```

这是一个[jsFiddle](http://jsfiddle.net/EqAjd/)

# javascript - 如何动态获取值？

> ID：12171653
> 
> 赞同：0
> 
> 时间：2012-08-29T05:52:04.687
> 
> 标签：javascript, asp.net, google-analytics

我从哪里得到这些值？

下面是跟踪用户类型的脚本，这里我使用自定义变量来跟踪用户类型..

```
pageTracker._setCustomVar(1, "Usertype", <<dynamically fill Usertype>>, 1) 
```

在上面的脚本中，我如何动态获取值

示例：如果是guest用户，我需要填写动态值为“guest”

```
pageTracker._setCustomVar(1, "Usertype", guest, 1) 
```

如果用户登录后是会员，我需要将动态值填写为“会员”

```
pageTracker._setCustomVar(1, "Usertype", member, 1) 
```

请任何人帮助我或给我一个解决方案

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T05:59:29.280

在 aspx 部分中放置隐藏字段：

```
<asp:HiddenField ID="User" runat="server" ></asp:HiddenField> 
```

从后面的代码

```
User.Value = "XXXXXX"; 
```

并且在脚本中

```
var varuser = document.getElementById("User").value;
pageTracker._setCustomVar(1, "Usertype", varuser, 1) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:44:51.170

您还可以在设计器视图中调用方法或属性：

```
pageTracker._setCustomVar(1, "Usertype", <%= Helper.GetUserType() %>, 1) 
```

# excel - MouseUp 被 DoubleClick 中断

> ID：12171656
> 
> 赞同：0
> 
> 时间：2012-08-29T05:52:41.143
> 
> 标签：excel, vba

单击框架时，我试图模仿一些动画

```
Private Sub frameGo_MouseDown ...
frameGo.Top = frameGo.Top - 2

Private Sub frameGo_MouseUp ...
frameGo.Top = frameGo.Top + 2 
```

但是在 doubleClik 框架上，框架会持续上升，而不会回到原来的最高值。
我怎样才能防止这种情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:54:08.013

Cancel the `DblClick` action in the event

```
Private Sub frameGo_DblClick(ByVal Cancel As MSForms.ReturnBoolean)
    Cancel = True
End Sub 
```

# monitoring - 远程节点监控建议

> ID：12171658
> 
> 赞同：4
> 
> 时间：2012-08-29T05:52:50.087
> 
> 标签：monitoring, nagios, ganglia

我正在寻找一种解决方案来监控多个（至少 50 个）远程节点。这些远程节点位于防火墙后面，因此我无法从中央服务器轮询信息。

连接需要来自节点 -> 中央服务器。我以前使用过 ganglia 和 nagios，但它们都来自 Server-> 节点。感谢是否有人可以提供一些开源建议。远程节点和中央服务器都是基于 linux 的系统。

我想收集的指标是：

1.  正常运行时间
2.  运行状况监视器（如果节点在可配置的时间内未与服务器通信，请通过发送电子邮件发出警报）
3.  CPU/内存/网络/磁盘使用率
4.  进程监视器（例如 apache 或 ssh）
5.  像 puppet 这样的配置管理将是一个额外的好处，但也是一个很棒的功能。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T14:37:39.790

我会考虑使用 NSCA 或 NRDP 对 Nagios 使用被动检查。这两种方法都可以让您将结果从远程机器推送到中央服务器。

[http://nagios.sourceforge.net/docs/3_0/passivechecks.html](http://nagios.sourceforge.net/docs/3_0/passivechecks.html)

或者您可以使用 NRDP，它通过标准的 http 和 https 协议进行通信。 [http://assets.nagios.com/downloads/nagiosxi/docs/NRDP_Overview.pdf](http://assets.nagios.com/downloads/nagiosxi/docs/NRDP_Overview.pdf)

一旦您使用其中任何一个设置了一个系统，使用 puppet 甚至 rsync 克隆设置就不难了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T12:03:19.313

如果您可以访问防火墙后面的单个服务器，则可以使用[Mod-Gearman](http://labs.consol.de/nagios/mod-gearman/)对该远程主机上的特定主机组运行检查。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-26T16:49:22.077

如果您可以为该网络上的单个主机插入防火墙漏洞 (tcp/5666)，则可以将该主机用作一种“NRPE 网关”。

然后，您可以使用 check_nrpe 让*该*主机针对防火墙后面的其他 50 个左右节点执行所有检查（包括将 check_nrpe 链接在一起以进行“内部”检查）。

如果您走这条路，请确保为所有这些服务建立服务依赖关系（考虑使用服务组），以依赖“网关”上的 NRPE。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-19T10:08:02.410

1.  如果您的防火墙允许 HTTP(S)，您可以尝试使用 Nagira API (RESTful) 提交被动检查。有几个使用它实现的设置示例。请检查[http://dmytro.github.com/nagira](http://dmytro.github.com/nagira)

2.  或者，您可以使用相同的 API 来轮询客户端。如果您的防火墙允许传出 HTTP(S)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-09-24T20:58:51.707

看看*Uptime*，一个用 Node.js 和 MongoDB 编写的开源远程监控工具：[https](https://github.com/fzaninotto/uptime) ://github.com/fzaninotto/uptime 。可能非常适合您的需求。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-05-26T15:43:50.873

您可以使用 Pandora FMS 监控此服务器。为此，您可以在每台机器上安装软件代理，在防火墙中为触手协议配置一个例外，并将信息发送回 Pandora 服务器。您可以使用本地模块监控上面提到的所有参数。对于 puppet，pandora fms 博客站点中有一篇特定的文章，您可以在其中逐步阅读有关如何监控 puppet 的信息。更多关于pandora fms的信息，您可以访问以下网站：[Pandora FMS Unified Monitoring Tool](http://pandorafms.com/)

问候伊沃·约尔丹诺夫

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-16T12:47:40.307

现在回答这个问题可能为时已晚。然而，

1.  需要监控的[nodeJs](http://nodejs.org/ "节点JS")服务器在每台机器上实现一组集群节点（更好地控制目标机器以采取正确的措施，而不仅仅是监控。）。
2.  单个 nodejs 服务器接收来自多个节点的输入，这些节点通过html 文档中的[socket.io](http://socket.io/ "Socket.IO 客户端和服务器示例")等库进行简单连接。

干杯。

# c# - 如何从复杂 JSON 对象中获取值

> ID：12171660
> 
> 赞同：0
> 
> 时间：2012-08-29T05:53:09.823
> 
> 标签：c#, .net, json, json.net

我从[http://www.viki.com/api/v2/channels.json收到 JSON 请求](http://www.viki.com/api/v2/channels.json)

现在，我有以下来自 JSON 的类：

```
public class RootObject
{
    public int id { get; set; }
    public string title { get; set; }
    public string description { get; set; }
    public string uri { get; set; }
    public List<Episode> episodes { get; set; }
    public Thumbnails2 thumbnails { get; set; }
    public string timestamp { get; set; }
    public List<object> genres { get; set; }
    public string origin_code { get; set; }
}

public class Thumbnails2
{
    public string c_220_160 { get; set; }
    public string c_102_102 { get; set; }
    public string c_180_130 { get; set; }
    public string c_110_80 { get; set; }
    public string xl { get; set; }
    public string large { get; set; }
    public string medium { get; set; }
    public string small { get; set; }
    public string c_320_300 { get; set; }
    public string c_640_600 { get; set; }
    public string c_95_70 { get; set; }
    public string c_190_140 { get; set; }
    public string c_280_200 { get; set; }
    public string c_560_400 { get; set; }
} 
```

现在我想从 Thumbnails2 中的大中型和 List 中的所有剧集中获取值。

我试过：

```
using (var wc = new WebClient())
{
  var json = wc.DownloadString(jsonRequestURL);

  dynamic vikiDesrialized = JsonConvert.DeserializeObject(json);
  foreach (var item in vikiDesrialized)
  {
     //Console.WriteLine(item.title);

     foreach (var thumnails in item.thumbnails)
     {
          JsonConvert.DeserializeObject(thumbNails);
     }
  }
} 
```

但是得到一个意味着其他东西的异常：

> '对与指定绑定约束匹配的'Viki.MainWindow'类型的构造函数的调用引发了异常。行号“3”和行位置“9”。

我可以使用 LINQ 获得这些值吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:04:10.130

您不需要第二次反序列化`JsonConvert.DeserializeObject(thumbNails);`

要么使用

```
foreach (var item in dynObj)
{
    Console.WriteLine(item.title);
    Console.WriteLine(item.thumbnails.small);
} 
```

或者

```
using (var wc = new WebClient())
{
    var json = wc.DownloadString("http://www.viki.com/api/v2/channels.json");
    var rootObj = JsonConvert.DeserializeObject<RootObject[]>(json);

    var obj = rootObj.Select(r=>new 
                {
                    Title = r.title,
                    Thumbnail = r.thumbnails.small
                }).ToArray();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:40:13.200

[使用 DataContracts 和使用DataContractJsonSerializer](http://msdn.microsoft.com/en-us/library/system.runtime.serialization.json.datacontractjsonserializer%28v=vs.100%29)不是更简单的方法吗

到目前为止，我仅将它与来自文件的 JSON 对象的反序列化一起使用，但它非常简单。

只需声明具有属性 [DataContract] 的类以及应使用 [DataMember] 反序列化的每个成员

例如（来自我的代码）

```
[DataContract]
public class CharacteristicManager
{
  [DataMember(Order = 1)]
  public Characteristic[] characteristics;
  private Dictionary<String, Characteristic> characteristic_dictionary;
 } 
```

反序列化如下所示：

```
DataContractJsonSerializer ser = new DataContractJsonSerializer(typeof(CharacteristicManager));

CharacteristicManager cm = (CharacteristicManager)ser.ReadObject(stream); 
```

DataContractJsonSerializer 将递归地构建整个对象，包括数组、列表、字典。

最佳托马斯

# php - preg_match 变量空格和固定字符串之间的数字

> ID：12171663
> 
> 赞同：2
> 
> 时间：2012-08-29T05:53:24.053
> 
> 标签：php, regex

我正在尝试提出一个符合`25`此字符串中的正则表达式：

```
Always       -       25 (Lifetime 
```

`-`和之间的空间量`25`可以是可变的，但尾随`(Lifetime`将始终存在。

我试过这个：`preg_match('/\s(.*)\s\(Lifetime',$sString,$aMatch);`但它符合它`25`之前的一切。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T05:58:06.527

尝试以下操作：

```
preg_match('~\s+(\d+)\s\(Lifetime~', $sString, $aMatch); 
```

它匹配一个或多个空格字符，后跟一个数字，最后是`(Lifetime`字符串。

# visual-studio-2010 - 如果文件存在，则 Visual Studio 安装项目有条件 - 搜索用户文件夹

> ID：12171666
> 
> 赞同：0
> 
> 时间：2012-08-29T05:53:32.447
> 
> 标签：visual-studio-2010, setup-project

我已阅读以下帖子：

[如果文件存在，则 Visual Studio 安装项目有条件](https://stackoverflow.com/questions/4102503/visual-studio-setup-project-conditional-if-file-exists)

我需要的是在当前用户的应用程序数据文件夹中搜索一个文件。MS说你可以使用带括号的特殊文件夹名称，例如[ProgramFilesFolder]： http: [//msdn.microsoft.com/en-us/library/cdh0hak4](http://msdn.microsoft.com/en-us/library/cdh0hak4(v=vs.100).aspx) (v=vs.100).aspx 现在我找到了特殊文件夹的列表名称： http: [//msdn.microsoft.com/en-us/library/s2esdf4x (v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/s2esdf4x(v=vs.100).aspx)

所以，现在我不知道如何从“用户的应用程序数据”中创建一个带括号的名称。有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T10:51:56.663

这似乎不太可能，所以我改用自定义操作。诀窍是将我的自定义操作添加到安装和提交阶段，尽管它只在提交阶段搜索文件。如果它只添加到提交阶段，那么我得到“MyInstallHelper.InstallState not found”错误。

# android - Android：文件未从亚马逊 s3 下载

> ID：12171674
> 
> 赞同：2
> 
> 时间：2012-08-29T05:54:33.313
> 
> 标签：android, amazon-s3, download

在我的 Android Application Image 文件中，音频文件和视频文件是从 Amazon S3 下载的。
它适用于 Android 手机，但在平板电脑中，它会给出如下异常：

```
08-29 11:16:08.021: I/System.out(6793): Status Code: 403, AWS Service: Amazon S3, AWS Request ID:   
31FC5A42FF86E0DC, AWS Error Code: RequestTimeTooSkewed, AWS   
Error Message: The difference between the request time and the current time is too large.,   
S3 Extended Request ID: hAySod5LYjYZEzHQDtqzVpBuWneufepFqmjhmeqlEefyra285CbnXxJK7UP8Ye0p 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:25:06.760

**RequestTimeTooSkewed** - 你的 android 手机的日期时间和实际的 amazon s3 服务器时间不同。所以更正你的android手机时间然后重试。

或者你可以...

1.  连接到 AWS 服务器以获取响应标头。
2.  如果连接成功得到 200 响应码
3.  根据 AWS 检索时间，基于 Date 标头
4.  根据 AWS 计算当前时间与根据您的计算机时钟计算当前时间之间的差异。

# android - 在 EditText 中阻止除英语以外的其他语言

> ID：12171676
> 
> 赞同：31
> 
> 时间：2012-08-29T05:54:48.980
> 
> 标签：android, android-edittext

我的 android 应用程序有一个 EditText 字段，用户可以在其中提供输入。但现在我希望用户不能提供除英语以外的其他输入（即日语、链式）。

* * *

## 回答 #1

> 赞同：56
> 
> 时间：2012-08-29T07:42:22.203

您可以限制用户在编辑文本中仅输入特定字符，

```
<EditText
    android:id="@+id/nameText"
    android:layout_width="177dp"
    android:layout_height="wrap_content"
    android:inputType="text"
    android:digits="abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ" /> 
```

这样，用户只能输入英文单词和空格，不能输入其他内容。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-08-29T06:01:54.623

您可以[添加一个 TextWatcher](https://stackoverflow.com/a/6013195/14955)来检查用户尝试输入的内容（并拒绝您不想要的内容）。

但是，您无法真正检查语言，但我想您只是想限制字符集（到 ASCII 或者可能是 Latin-1）。

# c# - 如何测试我的插件架构功能？

> ID：12171677
> 
> 赞同：1
> 
> 时间：2012-08-29T05:54:59.400
> 
> 标签：c#, .net, integration-testing, .net-assembly, plugin-architecture

我正在应用程序中实现一个简单的插件架构。基本上，将有一个简单的字符串定义插件各自主类的程序集名称和完全限定类型，并且主机应用程序应该加载主类并调用`Initialize`插件类的方法。

如何为此进行 NUnit 样式集成测试？我可以在测试运行时创建一个存根 MyPlugin 类型并将其保存为程序集（dll 文件）吗（这可以使用某些库吗？）？还是你有更好的主意？

# c# - 关于 System.Runtime.Serialization 的说明

> ID：12171688
> 
> 赞同：0
> 
> 时间：2012-08-29T05:56:24.080
> 
> 标签：c#, serialization

请分享您对**System.Runtime.Serialization**的看法。

我的问题和疑问是：

1.  类及其包含的所有对象必须在类顶部具有**[Serializable]关键字。**
2.  如果某个对象是静态类型怎么办。
3.  序列化如何处理静态对象。
4.  dll 版本控制如何影响序列化对象。（例如，我已经序列化了一个对象，然后在服务器上上传了新版本，在这种情况下，对先前序列化的对象有任何影响。）

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:37:13.297

序列化是一个非常广泛的话题，你问的不是一个问题。
我建议开始阅读 msdn 库，它会给你一个好的开始 -
[http://msdn.microsoft.com/en-us/library/7ay27kt9(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/7ay27kt9(v=vs.100).aspx)
[http://msdn.microsoft。 com/en-us/magazine/cc301761.aspx](http://msdn.microsoft.com/en-us/magazine/cc301761.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:10:41.723

1）并非所有成员都需要可序列化，您可以使用标记它们`[NonSerialized()]`

2, 3) 静态不起作用，请参阅 [serialize-a-static-class](https://stackoverflow.com/questions/1293496/serialize-a-static-class)

4）我对序列化的经验是，序列化对象的任何变化都会破坏反序列化。

更新： Jon Skeet 的评论（那是我学习新东西）确实处理了 4）。但要注意网站的底部。您必须非常小心更改属性 [版本容错序列化](http://msdn.microsoft.com/en-us/library/ms229752%28v=vs.80%29.aspx)

# javascript - 基于用户的弹出窗口？

> ID：12171695
> 
> 赞同：0
> 
> 时间：2012-08-29T05:57:01.817
> 
> 标签：javascript, jquery

基本上，我正在寻找一种方法来创建一个提示用户问题的弹出窗口，并且在窗口中我希望有一个复选框，上面写着“不再显示此消息”。我不太确定该怎么做，我做了一些研究，但我什么也没找到，我很想知道如何帮助社区获得结果！

所以总结一下，我想要一个弹出窗口来检查用户是否“检查”不显示，然后它不会执行该功能，该功能和jquery很好我可以做到所有这些，但至于“每用户”请求，我不知道:(

我很想得到帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:05:48.277

对于弹出窗口，您可以`Twitter Bootstarp Modol`在此处使用链接 - [http://twitter.github.com/bootstrap/javascript.html#modals](http://twitter.github.com/bootstrap/javascript.html#modals)。您还可以在模型中添加条件并检查用户是否检查。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T06:10:40.127

假设 PHP：

```
$('.checkbox').on('change', function(){
   if($(this).is(':checked')){
       var doNotShow = TRUE;
       //the chekbox has been checked, the user does not want to see this again.
       $.ajax({
         url: 'path/to/my/controller.ext',
         data: 'doNotShow='+doNotShow,
         success: function(data){
           //the data has been sent to the server, close the popup box, do whatever is necessary here.
           // change the window location, whatever.
         }
       });

   }
}); 
```

服务器端 PHP 代码 (path/to/my/controller.ext) --

```
if(isset($_POST['doNotShow']) && $_POST['doNotShow'] == TRUE):
  $_SESSION['doNotShow'] = $_POST['doNotShow'];
endif; 
```

现在，在加载该对话框之前，您需要添加一些 PHP 条件化它。

```
<?php
if(!isset($_SESSION['doNotShow'])):
?>
    //javascript to launch the popup, the session is not set.
<?php
elseif(isset($_SESSION['doNotShow']) && ($_SESSION['doNotShow'] == TRUE)):
?>
    //don't launch the popup, they don't want to see it, whatever..
<?php
endif; 
```

# asp.net-mvc - Web API 部署问题

> ID：12171700
> 
> 赞同：0
> 
> 时间：2012-08-29T05:57:33.767
> 
> 标签：asp.net-mvc, asp.net-mvc-4, asp.net-web-api, visual-studio-2012

我用默认模板创建了一个全新的带有 Visual Studio 2012 Ultimate 的 API。我试图将它托管在我们的服务器上（我在服务器上安装了 .NET 4.5），但它给了我以下异常

```
Could not load type 'System.Web.Http.RouteParameter' from assembly 'System.Web.Http, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35'. 
```

Mvc-4 beta 之前安装在服务器上。我尝试卸载它，但它也没有解决问题并且异常消息仍然存在。我怎样才能解决这个问题？我在哪里可以下载要安装在服务器上的 mvc-4 RTM 独立安装程序？
谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:44:32.050

> 我在哪里可以下载要安装在服务器上的 mvc-4 RTM 独立安装程序？

这是您可以在服务器上安装的 RTM 下载链接：http: [//www.microsoft.com/en-us/download/details.aspx?id=30683](http://www.microsoft.com/en-us/download/details.aspx?id=30683)

这些二进制文件与使用 VS2012 和 .NET 4.5 创建的 ASP.NET MVC 4 项目兼容。

还要确保您已经卸载了您可能已经安装的所有以前的 Beta 和 RC。

# c# - 无需放大 WinRT 的 GirdView / ScrollViewer

> ID：12171701
> 
> 赞同：3
> 
> 时间：2012-08-29T05:57:35.937
> 
> 标签：c#, windows, xaml, windows-runtime, winrt-xaml

我在我的 C# 应用程序中使用了 ScrollViewer，并在此使用了 GridView。不可能放大和缩小，但就我而言，我不需要这个功能。如何禁用放大和缩小？

这是一个小例子：

```
<ScrollViewer VerticalScrollMode="Disabled" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled" Grid.Row="1">
    <GridView x:Name="Cards" Margin="4,0,0,0" ItemsSource="{Binding EmergencyCards}" ItemTemplate="{StaticResource EmergencyCardTemplate}"/>
</ScrollViewer> 
```

非常感谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-29T06:23:42.347

`ZoomMode="Disabled"`在`ScrollViewer`标签中设置。-

```
<ScrollViewer ZoomMode="Disabled"/> 
```

# c++ - 如何传递字符串或类似于结构或对象名称的内容？

> ID：12171704
> 
> 赞同：0
> 
> 时间：2012-08-29T05:57:47.623
> 
> 标签：c++, string, class, object, struct

我正在编写一个程序，该程序将从服务器中提取可变数量的数据。我将使用三种不同的结构来保存三组不同的变量（尽管我想知道这是否也可以用一个类来完成）。因为不同的服务器会有不同数量的数据集，所以我希望能够用字符串命名结构或能够做类似的事情。

有什么办法可以解决这个问题，或者有什么好的做法可以做类似的事情吗？提前致谢。

快速示例：

```
struct foo {
    std::string name;
    std::string ipAddress;
    std::string macAddress;
};

struct bar {
    std::string dhcpServer;
    std::string tftpServer;
};

foo [string_as_name_one];  
bar [string_as_name_two]; 
```

我希望任意命名结构。`map`看起来与我正在寻找的相似，所以我现在正在阅读它。

感谢您的帮助和快速响应，`map`这正是我想要的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:04:41.913

如果你想要一个有名字的结构：

```
struct Foo {
  std::string name;
  Foo(const std::string& name) : name(name) {}
};

Foo f1("Bob");
Foo f2("Mary");
std::cout << f2.name << "\n"; 
```

如果您想要的只是一个可以存储在集合中并根据名称查找的结构，那么您可以使用`std::map`or `std::unordered_map`：

```
struct Bar{};
std::map<std::string, Bar> m;
Bar b1, b2;
m["Bob"] = b1;
m["Mary"] = b2; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:05:28.287

如果你可以用一个结构来做，你可以用一个类来做。我假设“名称结构”是指按键存储它们？`map`为此，您可以使用 a 。如果你打算用类（我推荐）来做这件事，你可以使用 a并为不同的变量集`map<string, BaseDataClass*>`派生。`BaseDataClass`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T06:13:07.503

> 因为不同的服务器会有不同数量的数据集，所以我希望能够用字符串命名结构或能够做类似的事情。

您不需要“用字符串命名结构”，只需将检索到的数据放入某种键值存储中。

```
#include <map>
#include <string>

typedef std::map<std::string, std::string> server_result;
struct server
{
   server(std::string uri): uri(uri) {}
   server_result get(){ server_result result; /* retrieve results, put them in result[name]= value; */ return result; }

   private:
   std::string uri;
};

// or

class server
{
   std::string uri;

   public:
   server(std::string uri): uri(uri) {}
   server_result get(){ server_result result; /* retrieve results, put them in result[key]= value; */ return result; }
};

// use it like

#include <iostream>
#include <ostream>
int main(){ server_result result= server("42.42.42.42").get(); std::cout<< result["omg"]; } 
```

# php - 过滤具有特定内容的 RSS 项目 使用 SimplePie 的属性

> ID：12171707
> 
> 赞同：1
> 
> 时间：2012-08-29T05:58:07.923
> 
> 标签：php, wordpress, rss, simplepie

我正在获取一个 RSS 提要，但我只希望它显示标签内包含特定图像 url 的项目。这是我要搜索的特定位：

```
<media:thumbnail url="http://media.publicbroadcasting.net/wfpl/events/images/ourPick5.gif"/> 
```

这是我在这个应用程序中使用的特定代码。它是基本的，而且我对 Simplepie 或 PHP 并不是非常熟练（我假设对于 PHP 知识更丰富的人来说，有更优雅的方法可以做到这一点）：

```
<?php include_once(ABSPATH . WPINC . '/feed.php');
$rss = fetch_feed('http://www.publicbroadcasting.net/wfpl/.eventsfeed');
if (!is_wp_error( $rss ) ) :  
$maxitems = $rss->get_item_quantity(5); 
$rss_items = $rss->get_items(0, $maxitems); 
endif; ?>

<ul id="events">
    <?php if ($maxitems == 0) echo '<li>No items.</li>';
    foreach ( $rss_items as $item ) :  ?>

    <li>
        <div><?php echo $item->get_title(); ?></div>
        <div><?php echo $item->get_description(); ?></div>
    </li>
    <?php endforeach; ?>
</ul> 
```

同样，我只想在“media:thumbnail”标签中显示具有该特定图像 url 的项目并丢弃所有其他项目。而且我不需要显示图像本身。我只是想利用它的存在来决定要过滤掉哪些项目。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T06:36:27.620

如果要检查指定标记内的某个 url 是否在解析描述中，请使用 preg_match()。在您的特定情况下，将部分更改`echo $item->get_description();`为

```
$strDesc = $item->get_description();
if (preg_match('/<media:thumbnail\surl\="http:\/\/media.publicbroadcasting.net\/wfpl\/events\/images\/ourPick5.gif".+?>/i', $strDesc))
    echo $strDesc; 
```

[编辑]

我意识到`<media>`标签不在`<description>`标签中。在这种情况下，这应该有效。

```
<?php 
include_once './inc/autoloader.php'; 
$feed = new SimplePie();
$feed->set_feed_url('http://www.publicbroadcasting.net/wfpl/.eventsfeed');
$feed->enable_cache(false);
$feed->init();
$feed->handle_content_type();

foreach ($feed->get_items() as $item)
{
    if ($enclosure = $item->get_enclosure())
        if ($enclosure->get_thumbnail() != "http://media.publicbroadcasting.net/wfpl/events/images/ourPick5.gif")
            continue;
    ?>
    <ul>
        <li>
            <div><?php echo $item->get_title(); ?></div>
            <div><?php echo $item->get_description(); ?></div>
        </li>
    </ul>
    <?
}
?> 
```

# java - Java 异常处理

> ID：12171708
> 
> 赞同：-3
> 
> 时间：2012-08-29T05:58:13.457
> 
> 标签：java, parsing, exception, date-parsing

您好我正在尝试使用以下代码我遇到解析异常并且需要知道如何处理

```
DateFormat formatter1 = new SimpleDateFormat("dd/MM/yyyy");
Date date1 = (Date)formatter1.parse(startDate);
Date date2 = (Date)formatter1.parse(endDate);               
DateFormat formatter2=new SimpleDateFormat("yyyy-MM-dd");
String startDate1=formatter2.format(date1);
String endDate1=formatter2.format(date2); 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:07:30.110

尝试使用[getErrorOffset()](http://docs.oracle.com/javase/1.4.2/docs/api/java/text/ParseException.html#getErrorOffset%28%29)：

```
DateFormat formatter1 = new SimpleDateFormat("dd/MM/yyyy");
try
{
   Date date1 = (Date)formatter1.parse(startDate);
   Date date2 = (Date)formatter1.parse(endDate);              
}catch(ParseException e)
{
  // Handle Exception, take a look at e.ErrorOffset to know where the problem occurs
  // if the Message doesnt give enough information
}            
DateFormat formatter2=new SimpleDateFormat("yyyy-MM-dd");            
String startDate1=formatter2.format(date1);             
String endDate1=formatter2.format(date2); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:08:29.347

你需要把你的异常味精，

```
 Date date1 = null, date2= null;
    DateFormat formatter1 = new SimpleDateFormat("dd/MM/yyyy");

    try {
        date1 = (Date)formatter1.parse("08/01/1988");
        date2 = (Date)formatter1.parse("08/01/2000");
    } catch (ParseException ex) {
        //Handle Exception here
    }
    DateFormat formatter2=new SimpleDateFormat("yyyy-MM-dd");
    String startDate1=formatter2.format(date1);
    String endDate1=formatter2.format(date2);

    System.out.println(startDate1);
    System.out.println(endDate1); 
```

# php - 访问 mysql_result 对象的结果

> ID：12171709
> 
> 赞同：0
> 
> 时间：2012-08-29T05:58:25.943
> 
> 标签：php, database, object, mysqli, resultset

我需要以关联数组形式获取要查询的表中每个单元格的值。这是我的查询

```
$sqlStatemnt = "SELECT artist, track_name 
FROM Tracks where artist like 'bong' and track_name like 'bong' LIMIT 5"; 
```

这就是我的 php 处理它的方式

```
$rs = $mySQL->query($sqlStatemnt);
print_r($rs); 
```

print_r 向我展示了这个

```
mysqli_result Object ( [current_field] => 0 [field_count] => 2 [lengths] => [num_rows] => 0 [type] => 0 ) 
```

我将如何访问表 "track_name" 和 "artist" ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:04:38.383

```
$result = $mysqli->query($query);
/* numeric array */
$row = $result->fetch_array(MYSQLI_NUM); //To get Indexed array
$row = $result->fetch_array(MYSQLI_ASSOC);//To get associative array 
```

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:01:01.630

有一个`fetch_assoc`与 mysqli 结果对象相关的对象。你可以试试这样的

```
artist = array();
track_name = array();
while(($row = $result->fetch_assoc()) !== FALSE) {
    $artist[] = $row['artist'];
    $track_name[] = $row['track_name'];
} 
```

我希望这与您的实施相匹配。

在此处查找有关 fetch_assoc 的更多信息[http://php.net/manual/en/mysqli-result.fetch-assoc.php](http://php.net/manual/en/mysqli-result.fetch-assoc.php)

# opengl-es - Android，使用 NDK 优雅地关闭 OpenGL？

> ID：12171714
> 
> 赞同：3
> 
> 时间：2012-08-29T05:58:52.003
> 
> 标签：opengl-es, resources, android-ndk, java-native-interface, release

我的应用程序包含两个活动：一个具有典型 Android UI 小部件的正常活动，另一个具有基于 JNI 的 OpenGL ES 视图的活动。

该应用程序切换了两个活动，所以我认为我必须在退出活动之前优雅地释放 OpenGL 资源。（通过调用 glDeleteProgram、glDeleteBuffers、glDeleteTextures ...）

我参考了 hello-gl2 示例，但只有 OpenGL 设置代码，没有 OpenGL 销毁/关闭代码。所以我不知道应该在哪里调用原生 OpenGL 发布方法。

我尝试了以下两个位置，但收到错误消息：

**E/libEGL(7224)：在没有当前上下文的情况下调用 OpenGL ES API（每个线程记录一次）**

```
class MyGLView extends GLSurfaceView
{
    ...
    private static class ContextFactory implements GLSurfaceView.EGLContextFactory {
        public EGLContext createContext(EGL10 egl, EGLDisplay display, EGLConfig eglConfig) { ... }

        public void destroyContext(EGL10 egl, EGLDisplay display, EGLContext context) {
            // call native shutdown method, location #1
        }
    }

    public void surfaceDestroyed(SurfaceHolder holder)
    {
        // call native shutdown method, location #2
    }
    ...

    public class Renderer implements GLSurfaceView.Renderer
    {
        public void onSurfaceCreated(GL10 gl, EGLConfig config)
        {
            // call native initialization method here: Works fine!
        }

        // no surface destroy callback method in GLSurfaceView.Renderer
    }
} 
```

我在哪里可以优雅地释放 OpenGL 资源？或者在本机部分设置当前 OpenGL 上下文的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:58:53.793

真的没必要。当 GLSurfaceView 被销毁时，它将释放其 EGL 上下文，这将释放与其关联的所有资源。

# android - 将布局 xml 文件保存在 layout-xlarge-land 文件夹中时应用程序未启动

> ID：12171715
> 
> 赞同：1
> 
> 时间：2012-08-29T05:59:02.430
> 
> 标签：android, android-layout

我正在创建一个仅在横向模式下针对平板电脑用户的应用程序。所以我创建了一个`res`名为 as的文件夹，`layout-xlarge-land`并将所有`layout xml`文件放入其中并保持为`layout folder`空。我还在清单文件中设置了支持屏幕属性

```
<supports-screens
    android:anyDensity="true"
    android:largeScreens="true"
    android:xlargeScreens="true"
    android:normalScreens="false"
    android:smallScreens="false" /> 
```

我还将所有活动的方向设置为横向

```
activity
        android:name=".HomeActivity"
        android:label="@string/title_activity_main" 
        android:screenOrientation="landscape">
    </activity> 
```

当我启动我的应用程序时，它不会开始显示意外停止的消息。

但是当我将所有`layout xml`文件放入`layout folder`我的应用程序时运行良好。

为什么会有这种行为？在我看来`Android system`，应该首先查看 `layout-xlarge-land`文件夹以获取 UI。如果找不到，请查看“布局文件夹”。有人可以解释我是对还是错？

日志猫：

```
08-29 12:06:15.040: E/AndroidRuntime(3468): java.lang.RuntimeException: Unable to    
start activity ComponentInfo{com.abs.qpr/com.abs.qpr.LauncherActivity}: 

android.content.res.Resources$NotFoundException: Resource ID #0x7f030001

08-29 12:06:15.040: E/AndroidRuntime(3468):     at   
android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1751)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1767)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
android.app.ActivityThread.access$1500(ActivityThread.java:122)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
android.app.ActivityThread$H.handleMessage(ActivityThread.java:1005)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
android.os.Handler.dispatchMessage(Handler.java:99)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
android.os.Looper.loop(Looper.java:132)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at    
android.app.ActivityThread.main(ActivityThread.java:4028)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at  
java.lang.reflect.Method.invokeNative(Native Method)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
java.lang.reflect.Method.invoke(Method.java:491)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:844)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
com.android.internal.os.ZygoteInit.main(ZygoteInit.java:602)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
dalvik.system.NativeStart.main(Native Method)

08-29 12:06:15.040: E/AndroidRuntime(3468): Caused by: 
android.content.res.Resources$NotFoundException: Resource ID #0x7f030001

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
android.content.res.Resources.getValue(Resources.java:1014)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
android.content.res.Resources.loadXmlResourceParser(Resources.java:2039)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
android.content.res.Resources.getLayout(Resources.java:853)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
android.view.LayoutInflater.inflate(LayoutInflater.java:389)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
android.view.LayoutInflater.inflate(LayoutInflater.java:347)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:245)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
android.app.Activity.setContentView(Activity.java:1780)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
com.abs.qpr.LauncherActivity.onCreate(LauncherActivity.java:17)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1048)

08-29 12:06:15.040: E/AndroidRuntime(3468):     at 
android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1715)

08-29 12:06:15.040: E/AndroidRuntime(3468):     ... 11 more` 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:44:21.810

正如其他用户提到`layout-xlarge-land`的，支持的 API 级别高于 9。随着清单的更改，我猜您还必须将构建目标设置为 2.3。

项目 -> 属性 -> android -> 将目标更改为 2.3

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:03:11.593

尝试添加这个。

```
android:xlargeScreens="true"
android:anyDensity="true" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T06:05:25.657

```
 <supports-screens android:resizeable=["true"| "false"]
          android:smallScreens=["true" | "false"]
          android:normalScreens=["true" | "false"]
          android:largeScreens=["true" | "false"]
          android:xlargeScreens=["true" | "false"]
          android:anyDensity=["true" | "false"]
          android:requiresSmallestWidthDp="integer"
          android:compatibleWidthLimitDp="integer"
          android:largestWidthLimitDp="integer"/>

 check this link once 
```

[http://developer.android.com/guide/topics/manifest/supports-screens-element.html](http://developer.android.com/guide/topics/manifest/supports-screens-element.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T06:10:39.970

正如您所拥有的`layout-xlarge-land`，您还应该声明您支持`xlarge`屏幕，而不仅仅是屏幕`large`。所以添加`android:largeScreens="true"`到你的`<supports-screens>`.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-29T08:59:31.403

我得到了解决方案。您必须至少保留一个，即`layout xml`附加到文件夹`Launcher Activity`内的`layout`文件，其余`layout xml`文件可以保留在`layout-xlarge-land`文件夹内。

# c# - 在框架 2.0 和 asp.net 中完成百分比的进度条

> ID：12171723
> 
> 赞同：1
> 
> 时间：2012-08-29T06:00:12.913
> 
> 标签：c#, asp.net, .net

我正在asp.net 2.0和c#中开发应用程序，我在服务器上上传文件，在上传文件时，我想显示进度条，显示上传完成的百分比，有人可以帮助我或建议我如何做到这一点ASP.NET 2.0

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:10:17.310

Have a look at the `AjaxFileUpload` control in the ***Asp.Net Ajax control toolkit***. It supports async file uploading and will display a progress bar in browsers that supports the HTML5 File API (not IE9 unfortunately).

Anyway, instead of me repeating what's on the page, [go have a look yourself](http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/AjaxFileUpload/AjaxFileUpload.aspx).

**Edit:** Oops, just realized that you wrote you are using .Net 2.0\. I think the Ajax control toolkit needs at least .Net 3.5 nowadays.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:10:01.773

I think you want this kind of stuff.. if you want to add this on web site.

then you need to:

1) add reference(System.Windows.Forms) in solution

2)Then add line:

```
 System.Windows.Forms.ProgressBar progressbar1;
        progressBar1.Minimum = 0;
        progressBar1.Maximum = 2000;
        for (int i = 0; i < progressBar1.Maximum; i++)
        {
            progressBar1.Value = i;
        } 
```

# javascript - 您如何在 d3js 中可视化具有多个属性的主题？

> ID：12171725
> 
> 赞同：3
> 
> 时间：2012-08-29T06:00:20.070
> 
> 标签：javascript, visualization, d3.js

假设我有一个具有各种属性的主题列表，例如。

```
topic1  - a,b,c,d
topic2  - b,d,z,y
topic3  - m,n,y,a,z
topic4  - u,i,v,a 
```

每个主题可能具有可变数量的属性。

我见过一个mxn网格。

我真正想做的是显示所有数据，然后允许用户选择特定属性。然后显示/突出显示具有该属性的主题。完成分析后，我想返回查看所有主题

我也希望主题显示清楚。

d3js 示例中的交互式树就是这样做的。但是，我不确定它是否可以在这种情况下使用。

# python - 访问实例变量，但不是 Python 中的实例方法

> ID：12171729
> 
> 赞同：0
> 
> 时间：2012-08-29T06:00:41.600
> 
> 标签：python, string, class, variables, instantiation

我是 python 的新手，我认为有人问过类似的问题（包括这个问题：[你可以使用字符串在 python 中实例化一个类吗？](https://stackoverflow.com/questions/553784/can-you-use-a-string-to-instantiate-a-class-in-python)），但我不明白答案或如何应用它们。

我正在尝试使用列表中的“实例名称”来创建一个类的多个实例。

这是我正在尝试做的一个例子：

```
class InstanceNames():
    def __init__(self):
        self.names = ['inst1', 'inst2', 'inst3']

class DoSomething():
    instances = []
    def __init__(self):
        DoSomething.instances.append(self)

instance_names = InstanceNames()
for x in range(len(instance_names.names)):
    print x
    # following line not working at creating instances of DoSomething
    instance_names.names[x] = DoSomething()

print DoSomething.instances 
```

我更改了循环列表，现在我得到以下输出：

```
0
1
2
[<__main__.DoSomething instance at 0x10cedc3f8>, <__main__.DoSomething instance at 0x10cedc440>, <__main__.DoSomething instance at 0x10cedc488>] 
```

它起作用了吗？我很困惑，我不确定。

好的。这是一些丑陋的代码，但这是我现在拥有的：

```
class InstanceNames():
    def __init__(self):
        self.i_names = {'inst1': None, 'inst2': None, 'inst3': None}
        self.o_names = ['foo', 'bar', 'baz']

class DoSomething():
    instances = []
    def __init__(self, blah_blah):
        DoSomething.instances.append(self)
        self.name = blah_blah

    def testy(self, a):
        a = a * 2

instance_names = InstanceNames()

for x in range(len(instance_names.i_names)):
    print x
    instance_names.i_names[x] = DoSomething(instance_names.o_names[x])

print "\n"

print DoSomething.instances

print "\n"

for y in DoSomething.instances:
    print y.name
    print y.testy(4)
    print "\n" 
```

这是我的输出：

```
0
1
2

[<__main__.DoSomething instance at 0x10dc6c560>, <__main__.DoSomething instance at 0x10dc6c5a8>, <__main__.DoSomething instance at 0x10dc6c5f0>]

foo
None

bar
None

baz
None 
```

为什么'name'变量打印，但'testy'方法不是？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:07:18.960

您似乎在问“我如何获取字符串'inst1'并创建一个名为'inst1'的变量”。

答案是你不想那样做。相反，创建一个字典或列表，将您的字符串映射到相关对象。有关一些示例，请参[见此问题](https://stackoverflow.com/questions/2320945/python-using-vars-to-assign-a-string-to-a-variable)。

（如果这不是您要问的，请澄清您的问题。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:07:21.203

并不是说我不知道​​您真正想要做什么，为了解决您的特定代码，列表只是值的集合。您将其视为一个字典，它是键和值之间的关联。

为了使您的示例正常工作，您将使用 dict：

```
class InstanceNames():
    def __init__(self):
        self.names = {'inst1': None, 'inst2': None, 'inst3': None} 
```

现在，这将允许以下表达式成功：

```
instance_names.names[x] = DoSomething() 
```

...因为`names`现在是一个 dict 并且您正在访问一个键并为其分配一个值。

再次声明，我不知道这段代码试图做什么......感觉它可能不好......但没有从判断它的角度。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T06:15:44.647

`instance_names.names`是一个需要数字作为索引的[列表。](http://docs.python.org/py3k/tutorial/introduction.html#lists)实际上，您发布的 TypeError 也说了同样的话。

但是，您想使用字符串 in 设置元素`instance_names.names[x]`- where`x`是字符串。列表不允许这样做，您需要为此使用[字典](http://docs.python.org/py3k/tutorial/datastructures.html#dictionaries)。

有几种方法可以解决您的问题：

1.  您可以首先为 instance_names.names 使用字典。但是，您必须使用保留对象，`None`例如尚未创建的实例的占位符：'self.names = {'inst1': None, 'inst2': None, 'inst3': None} `, and you must iterate through the keys of the dictionary:`for x in instance_names.names.keys():`

2.  您可以为实例使用单独的字典并在循环中设置其内容：`self.instances = {}`.`instance_names.instances[x] = ...`

为了进一步了解 Python 的数据类型，我推荐[Dive Into Python](http://getpython3.com/diveintopython3/native-datatypes.html)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-29T06:17:20.700

您可以使用[`type`](http://docs.python.org/library/functions.html#type)动态创建类：

```
type_names = ["Class1", "Class2", "Class3"]
storage = {}
for t in type_names:
    storage[t] = type(t, (object, ), {"your": "instance", "attributes": "here"})

for type_name in storage:
    print type_name, "=>", storage[type_name] 
```

[`collections.namedtuple`](http://docs.python.org/library/collections.html#collections.namedtuple)或者，如果你真正需要的是一堆属性，你可以用来生成轻量级类。

您*当前*所拥有的是创建该类的三个实例，并将类属性`DoSomething`中的字符串值（您不使用）替换为.`InstanceNames``names``DoSomething`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-29T06:07:11.657

这是什么意思`or x`？

`self.names`范围内不存在，请`instance_names.names`改用。

# apache - 是否可以从 AD 获取全名而不是 svn 日志中的 svn 用户名

> ID：12171730
> 
> 赞同：1
> 
> 时间：2012-08-29T06:00:42.363
> 
> 标签：apache, svn, active-directory

我们正在通过 Apache Web 服务器使用颠覆，并通过活动目录检查用户凭据。当用户进行提交时，它会记录在他的用户名下。

我们希望在日志文件中包含全名，以便更容易找到提交的人。这个服务器设置有可能吗？

# java - “不幸的是‘应用程序’已停止”错误

> ID：12171731
> 
> 赞同：0
> 
> 时间：2012-08-29T06:00:46.497
> 
> 标签：java, android, eclipse, android-manifest, alarm

**这个想法是在警报开始时启动游戏。我在下面展示了 Manifest.xml。如果我犯了错误，请纠正我。由于我是Android新手，所以我无法弄清楚。** PS：我已经搜索了其他类似的问题并纠正了许多其他错误，但问题仍然存在。

这是我从教程（AndroidTimeActivity）中得到的警报代码：

```
public class AndroidTimeActivity extends Activity {

    TimePicker myTimePicker;
    Button buttonstartSetDialog;
    TextView textAlarmPrompt;

    TimePickerDialog timePickerDialog;

    final static int RQS_1 = 1;

    @Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    textAlarmPrompt = (TextView)findViewById(R.id.alarmprompt);

    buttonstartSetDialog = (Button)findViewById(R.id.startSetDialog);
    buttonstartSetDialog.setOnClickListener(new OnClickListener(){

                        public void onClick(View v) {
                textAlarmPrompt.setText("");
                openTimePickerDialog(false);

            }});

}

    private void openTimePickerDialog(boolean is24r){
        Calendar calendar = Calendar.getInstance();

        timePickerDialog = new TimePickerDialog(
                AndroidTimeActivity.this, 
                onTimeSetListener, 
                calendar.get(Calendar.HOUR_OF_DAY), 
                calendar.get(Calendar.MINUTE), 
                is24r);
        timePickerDialog.setTitle("Set Alarm Time");  

        timePickerDialog.show();

    }

OnTimeSetListener onTimeSetListener= new OnTimeSetListener(){

        public void onTimeSet(TimePicker view, int hourOfDay, int minute) {

            Calendar calNow = Calendar.getInstance();
            Calendar calSet = (Calendar) calNow.clone();

            calSet.set(Calendar.HOUR_OF_DAY, hourOfDay);
            calSet.set(Calendar.MINUTE, minute);
            calSet.set(Calendar.SECOND, 0);
            calSet.set(Calendar.MILLISECOND, 0);

            if(calSet.compareTo(calNow) <= 0){
                //Today Set time passed, count to tomorrow
                calSet.add(Calendar.DATE, 1);
            }

            setAlarm(calSet);
        }};

    private void setAlarm(Calendar targetCal){

        textAlarmPrompt.setText(
                "\n\n***\n"
                + "Alarm is set@ " + targetCal.getTime() + "\n"
                + "***\n");

Intent intent = new Intent(getBaseContext(), AlarmReceiver.class);
PendingIntent pendingIntent = PendingIntent.getBroadcast(getBaseContext(),RQS_1,                  
intent, 0);     
AlarmManager alarmManager = (AlarmManager)getSystemService(Context.ALARM_SERVICE);
alarmManager.set(AlarmManager.RTC_WAKEUP, targetCal.getTimeInMillis(),                                                            
pendingIntent);

    }

} 
```

这是 AlarmReceiver 类：

```
 public class AlarmReceiver extends BroadcastReceiver {

@Override
    public void onReceive(Context context, Intent arg1) {
         Intent activityIntent = new Intent(context, Manager.class);                    
        activityIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        context.startActivity(activityIntent);

}

 } 
```

这是当警报接收器收到意图时我想调用的 Manager 类：

```
 public class Manager extends Activity {
       private static int ROW_COUNT = -1;
    private static int COL_COUNT = -1;
    private Context context;
    private Drawable backImage;
    private int [] [] cards;
    private List<Drawable> images;
    private Card firstCard;
    private Card seconedCard;
    private ButtonListener buttonListener;

    private static Object lock = new Object();

    int turns;
    private TableLayout mainTable;
    private UpdateCardsHandler handler;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        handler = new UpdateCardsHandler();
        loadImages();
        setContentView(R.layout.main);

       backImage =  getResources().getDrawable(R.drawable.icon);

 /*
       ((Button)findViewById(R.id.ButtonNew)).setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            newGame();

        }

    });*/

       buttonListener = new ButtonListener();

       mainTable = (TableLayout)findViewById(R.id.TableLayout03);

       context  = mainTable.getContext();

        Spinner s = (Spinner) findViewById(R.id.Spinner01);
     ArrayAdapter adapter = ArrayAdapter.createFromResource(this, R.array.type,  
     android.R.layout.simple_spinner_item);                     

     adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
            s.setAdapter(adapter);

            s.setOnItemSelectedListener(new OnItemSelectedListener(){

              public void onItemSelected(
                      android.widget.AdapterView<?> arg0, 
                      View arg1, int pos, long arg3){

                  ((Spinner) findViewById(R.id.Spinner01)).setSelection(0);

                int x,y;

                switch (pos) {
                case 1:
                    x=4;y=4;
                    break;
                case 2:
                    x=4;y=5;
                    break;
                case 3:
                    x=4;y=6;
                    break;
                case 4:
                    x=5;y=6;
                    break;
                case 5:
                    x=6;y=6;
                    break;
                default:
                    return;
                }
                newGame(x,y);

            }

            public void onNothingSelected(AdapterView<?> arg0) {
                // TODO Auto-generated method stub

            }

        });
    }

    private void newGame(int c, int r) {
        ROW_COUNT = r;
        COL_COUNT = c;

        cards = new int [COL_COUNT] [ROW_COUNT];

        mainTable.removeView(findViewById(R.id.TableRow01));
        mainTable.removeView(findViewById(R.id.TableRow02));

        TableRow tr = ((TableRow)findViewById(R.id.TableRow03));
        tr.removeAllViews();

        mainTable = new TableLayout(context);
        tr.addView(mainTable);

         for (int y = 0; y < ROW_COUNT; y++) {
             mainTable.addView(createRow(y));
          }

         firstCard=null;
         loadCards();

         turns=0;
         ((TextView)findViewById(R.id.tv1)).setText("Tries: "+turns);

    }

    private void loadImages() {
        images = new ArrayList<Drawable>();

        images.add(getResources().getDrawable(R.drawable.card1));
        images.add(getResources().getDrawable(R.drawable.card2));
        images.add(getResources().getDrawable(R.drawable.card3));
        images.add(getResources().getDrawable(R.drawable.card4));
        images.add(getResources().getDrawable(R.drawable.card5));
        images.add(getResources().getDrawable(R.drawable.card6));
        images.add(getResources().getDrawable(R.drawable.card7));
        images.add(getResources().getDrawable(R.drawable.card8));
        images.add(getResources().getDrawable(R.drawable.card9));
        images.add(getResources().getDrawable(R.drawable.card10));
        images.add(getResources().getDrawable(R.drawable.card11));
        images.add(getResources().getDrawable(R.drawable.card12));
        images.add(getResources().getDrawable(R.drawable.card13));
        images.add(getResources().getDrawable(R.drawable.card14));
        images.add(getResources().getDrawable(R.drawable.card15));
        images.add(getResources().getDrawable(R.drawable.card16));
        images.add(getResources().getDrawable(R.drawable.card17));
        images.add(getResources().getDrawable(R.drawable.card18));
        images.add(getResources().getDrawable(R.drawable.card19));
        images.add(getResources().getDrawable(R.drawable.card20));
        images.add(getResources().getDrawable(R.drawable.card21));

    }

    private void loadCards(){
        try{
            int size = ROW_COUNT*COL_COUNT;

            Log.i("loadCards()","size=" + size);

            ArrayList<Integer> list = new ArrayList<Integer>();

            for(int i=0;i<size;i++){
                list.add(new Integer(i));
            }

            Random r = new Random();

            for(int i=size-1;i>=0;i--){
                int t=0;

                if(i>0){
                    t = r.nextInt(i);
                }

                t=list.remove(t).intValue();
                cards[i%COL_COUNT][i/COL_COUNT]=t%(size/2);

                   Log.i("loadCards()", "card["+(i%COL_COUNT)+"]["+(i/COL_COUNT)+"]="+  
                   cards[i%COL_COUNT][i/COL_COUNT]);  
            }
        }
        catch (Exception e) {
            Log.e("loadCards()", e+"");
        }

    }

    private TableRow createRow(int y){
         TableRow row = new TableRow(context);
         row.setHorizontalGravity(Gravity.CENTER);

         for (int x = 0; x < COL_COUNT; x++) {
                 row.addView(createImageButton(x,y));
         }
         return row;
    }

    private View createImageButton(int x, int y){
        Button button = new Button(context);
        button.setBackgroundDrawable(backImage);
        button.setId(100*x+y);
        button.setOnClickListener(buttonListener);
        return button;
    }

    class ButtonListener implements OnClickListener {

        public void onClick(View v) {

            synchronized (lock) {
                if(firstCard!=null && seconedCard != null){
                    return;
                }
                int id = v.getId();
                int x = id/100;
                int y = id%100;
                turnCard((Button)v,x,y);
            }

        }

        private void turnCard(Button button,int x, int y) {
            button.setBackgroundDrawable(images.get(cards[x][y]));

            if(firstCard==null){
                firstCard = new Card(button,x,y);
            }
            else{ 

                if(firstCard.x == x && firstCard.y == y){
                    return; //the user pressed the same card
                }

                seconedCard = new Card(button,x,y);

                turns++;
            ((TextView)findViewById(R.id.tv1)).setText("Tries: "+turns);

                TimerTask tt = new TimerTask() {

                    @Override
                    public void run() {
                        try{
                            synchronized (lock) {
                              handler.sendEmptyMessage(0);
                            }
                        }
                        catch (Exception e) {
                            Log.e("E1", e.getMessage());
                        }
                    }
                };

                  Timer t = new Timer(false);
                    t.schedule(tt, 1300);
            }

           }

        }

    class UpdateCardsHandler extends Handler{

        @Override
        public void handleMessage(Message msg) {
            synchronized (lock) {
                checkCards();
            }
        }
     public void checkCards(){
        if(cards[seconedCard.x][seconedCard.y] == cards[firstCard.x][firstCard.y]){
                    firstCard.button.setVisibility(View.INVISIBLE);
                    seconedCard.button.setVisibility(View.INVISIBLE);
                }
                else {
                     seconedCard.button.setBackgroundDrawable(backImage);
                    firstCard.button.setBackgroundDrawable(backImage);
                }

                firstCard=null;
                seconedCard=null;
            }
    }

    } 
```

这是我的清单，我确实为 Manager 类创建了一个活动，但是*“AndroidTime 已停止”*错误仍然存​​在。

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.exercise.AndroidTime"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk android:minSdkVersion="10" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name" >
    <activity
        android:name="com.exercise.AndroidTime.AndroidTimeActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <receiver android:name=".AlarmReceiver" android:process=":remote" />
    <activity android:name="com.exercise.AndroidTime.Manager"></activity>
</application>

</manifest> 
```

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:20:07.400

```
public class AlarmReceiver extends BroadcastReceiver {

@Override
public void onReceive(Context context, Intent arg1) {
  Intent activityIntent = new Intent(context,
                            Manager.class);
            activityIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
            context.startActivity(activityIntent);

    }

 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:22:00.603

为什么你不能尝试 AlarmManager 来做到这一点？详见此处：http: [//developer.android.com/reference/android/app/AlarmManager.html](http://developer.android.com/reference/android/app/AlarmManager.html)

# asp.net-mvc - mvc4相同的db编译模型

> ID：12171735
> 
> 赞同：1
> 
> 时间：2012-08-29T06:01:42.313
> 
> 标签：asp.net-mvc, entity-framework-4, sql-server-ce

> **可能重复：**
> [在 MVC4 中添加控制器不起作用](https://stackoverflow.com/questions/12172074/add-controller-in-mvc4-not-working)

我正在使用 VS 2010 高级版。我有一个使用带有实体框架模型的 SqlCe 4.0 的 MVC4 项目。

型号为：

```
public class ProjectBuild
{
  public int ProjectBuildID {get;set;}
} 
```

当我尝试使用内置脚手架创建新控制器时，我收到以下错误：

> “无法检索 ProjectBuild 的元数据”。“不支持使用相同的 DbCompiledModel 针对不同类型的数据库服务器创建上下文。相反，为正在使用的每种类型的服务器创建单独的 DbCompiledModel”。

下面是我的连接字符串

# regex - 为什么在正则表达式中需要 + 来进行 ksh 变量模式操作

> ID：12171741
> 
> 赞同：1
> 
> 时间：2012-08-29T06:02:21.767
> 
> 标签：regex, ksh

假设如果我想从字符串 daaaaab* *aabdcd * 中提取后缀字符串“* **aabdcd** ” ，则在 KSH 中使用以下表达式，

 *> ${ex## **+** ([!b])+([b])}

这意味着匹配并删除除“b”以外的任何字符，然后贪婪地跟随字符“b”。我不明白的是前面的 +（以粗体突出显示）。为什么需要它？没有它，正则表达式无法完成预期的工作。

```
#ex=daaaaabaabdcd
#echo ${ex##([!b])+([b])}
daaaaabaabdcd
#echo ${ex##+([!b])+([b])}
aabdcd 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T08:33:31.063

+ 表示结果的[正则表达式量词](http://www.well.ox.ac.uk/~johnb/comp/unix/ksh.html#regexp)。因此，使用 + 您可能会收到多个结果。以下是可以使用的其他量词：

```
?(pattern) matches zero or one times the pattern.
*(pattern) matches any time the pattern.
+(pattern) matches one or more time the pattern.
@(pattern) matches one time the pattern.
!(pattern) matches string without the pattern. 
```*

# java - 不同类的 GWT 类方法不调用 & 获取 UmbrellaException

> ID：12171744
> 
> 赞同：1
> 
> 时间：2012-08-29T06:02:42.000
> 
> 标签：java, gwt, exception, uibinder, typeerror

我想从不同的类中调用方法来导航页面。

所以我通过“用户ID”和“密码”进行身份验证，之后它将导航到下一页。

我的代码：

```
public class Test2 extends Composite {

HelloUIBinder hb;

AnimationHelper animationHelper;
TestPage tp;

String strEmail, strPass;

private static Test2UiBinder uiBinder = GWT.create(Test2UiBinder.class);

interface Test2UiBinder extends UiBinder<Widget, Test2> {
}

@UiField TextBox txtEmail;
@UiField PasswordTextBox txtPass;
@UiField Button btnLogin;

public Test2() {
    initWidget(uiBinder.createAndBindUi(this));

    btnLogin.addClickHandler(new ClickHandler() {

        @Override
        public void onClick(ClickEvent event) {
            // TODO Auto-generated method stub

            strEmail = txtEmail.getText().toString();
            strPass = txtPass.getText().toString();

            Window.alert(strEmail);
            Window.alert(strPass);

            GWT.setUncaughtExceptionHandler(new GWT.UncaughtExceptionHandler() {

                @Override
                public void onUncaughtException(Throwable e) {
                    // TODO Auto-generated method stub
                    Throwable un = unwrap(e);

                    Window.alert(un.toString());
                }
            });

            hb.onLogin(strEmail, strPass);
        }
    });
}

public Throwable unwrap(Throwable e)
{
    if(e instanceof UmbrellaException)
    {
        UmbrellaException ue = (UmbrellaException) e;
        if(ue.getCauses().size() == 1)
        {
            return unwrap(ue.getCauses().iterator().next());
        }
    }
    return e;
}
} 
```

通过这段代码，我想通过传递两个参数来调用 HelloUIBinder 类的 onLogin() 方法。

onLogin 的代码：

```
public void onLogin(String email, String pass)
{
    Window.alert(email);
    Window.alert(pass);

    if(email == "abc@yahoo.com" && pass == "abc123")
    {
        RootPanel.get().clear();

        tp = new TestPage();
        RootPanel.get().add(tp);

        animationHelper.goTo(tp, Animation.SLIDE);
    }
    else
    {
        Window.alert("Authentication Failed");
    }
} 
```

但是，在运行应用程序时，我收到错误消息：

```
"com.google.gwt.core.client.JavaScriptException: (TypeError): 'null' is not an object" 
```

那么这个错误有什么问题呢？

请尽快告诉我任何解决方案。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T09:05:48.637

本质上我们有一个 NullPointerException。到目前为止，onLogin 中唯一可以为空的似乎是animationHelper，并且您没有发布任何代码来初始化它。但是，如果有堆栈跟踪，事情会更可靠。你真的应该改变你的代码来提供跟踪。如果您需要更多信息，您应该

*   发布堆栈跟踪
*   贴出用于初始化animationHelper的代码

# java - 在 EJB3 WebService 中将 Hashmap 作为参数传递

> ID：12171745
> 
> 赞同：0
> 
> 时间：2012-08-29T06:02:48.960
> 
> 标签：java, web-services, jakarta-ee, jax-ws, ejb-3.0

我已经将 EJB3 bean 的 api 作为 WebService 公开，并将 java 的 HashMap 作为参数，但是在从 hashMap 获取 WebService Bean 中的值时，我得到了 null 值。

```
@EJB(mappedName = "ODBillGenerationSession",name = "ODBillGenerationSession")
IODBillGenerationSessionRemoteHome iodBillGenerationSessionRemoteHome = null;
IODBillGenerationSessionRemote iodBillGenerationSessionRemote = null; 
public String echo(@WebParam(name="hashMap") HashMap hashMap) {
    return "Hello "+hashMap.get("name");
} 
```

我从 SOAP UI 执行的请求 XML 如下：-

```
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:int="http://interfaces.billingengine.ws.billingengine.elitecore.com/"> <soapenv:Header/>    <soapenv:Body>
      <int:echo>
         <!--Optional:-->
         <arg0>Test</arg0>
      </int:echo>    </soapenv:Body> </soapenv:Envelope> 
```

当我传递 java String 对象时，相同的 Web 服务工作正常。

我想我在这里遗漏了一些我搜索但没有找到的注释。

```
<definitions name="ODBillGenerationWsSessionFacadeService" targetNamespace="http://session.billingengine.ws.billingengine.elitecore.com/">
<import location="http://10.105.1.6:8180/odbillgeneration-ws/ODBillGenerationWsSessionFacade?wsdl&resource=IODBillGenerationWsSessionRemote_PortType6834015600007002099.wsdl" namespace="http://interfaces.billingengine.ws.billingengine.elitecore.com/"/>
    <service name="ODBillGenerationWsSessionFacadeService">
        <port binding="ns1:IODBillGenerationWsSessionRemoteBinding" name="ODBillGenerationWsSessionFacadePort">
            <soap:address location="http://10.105.1.6:8180/odbillgeneration-ws/ODBillGenerationWsSessionFacade"/>
        </port>
    </service> 
```

正确的 WSDL

```
<definitions name="ODBillGenerationWsSessionFacadeService" targetNamespace="http://interfaces.billingengine.ws.billingengine.elitecore.com/">
    <types>
        <xs:schema targetNamespace="http://interfaces.billingengine.ws.billingengine.elitecore.com/" version="1.0">
            <xs:element name="echo" type="tns:echo"/>
            <xs:element name="echoResponse" type="tns:echoResponse"/>
            <xs:complexType name="echo">
                <xs:sequence>
                    <xs:element minOccurs="0" name="arg0" type="tns:hashMap"/>
                </xs:sequence>
            </xs:complexType>
            <xs:complexType name="hashMap">
                <xs:complexContent>
                    <xs:extension base="tns:abstractMap">
                        <xs:sequence/>
                    </xs:extension>
                </xs:complexContent>
            </xs:complexType>
            <xs:complexType abstract="true" name="abstractMap">
                <xs:sequence/>
            </xs:complexType>
            <xs:complexType name="echoResponse">
                <xs:sequence>
                    <xs:element minOccurs="0" name="return" type="xs:string"/>
                </xs:sequence>
            </xs:complexType>
        </xs:schema>
    </types>
    <message name="IODBillGenerationWsSessionRemote_echoResponse">
        <part element="ns1:echoResponse" name="echoResponse"/>
    </message>
    <message name="IODBillGenerationWsSessionRemote_echo">
        <part element="ns1:echo" name="echo"/>
    </message>
    <portType name="IODBillGenerationWsSessionRemote">
        <operation name="echo" parameterOrder="echo">
            <input message="ns1:IODBillGenerationWsSessionRemote_echo"/>
            <output message="ns1:IODBillGenerationWsSessionRemote_echoResponse"/>
        </operation>
    </portType>
    <binding name="IODBillGenerationWsSessionRemoteBinding" type="ns1:IODBillGenerationWsSessionRemote">
        <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
        <operation name="echo">
            <soap:operation soapAction=""/>
            <input>
                <soap:body use="literal"/>
            </input>
            <output>
                <soap:body use="literal"/>
            </output>
        </operation>
    </binding>
</definitions> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T11:37:38.877

您没有发送键值对，因此您的 Web 方法无法读取所需的键“名称”。用这个替换你的 SOAP 主体：

```
<soapenv:Body>
      <int:echo>
         <hashMap>
            <!--Zero or more repetitions:-->
            <arg0>
               <key>name</key>
               <value>someValue</value>
            </arg0>
         </hashMap>
      </int:echo>
   </soapenv:Body> 
```

此外，将输入参数的类型从 更改`HashMap`为`HashMap<String,String>`。这应该够了吧。

# javascript - 如果要添加的元素预先存在于列表中，jQuery appendTo 会替换元素而不是添加它们

> ID：12171748
> 
> 赞同：0
> 
> 时间：2012-08-29T06:03:21.940
> 
> 标签：javascript, jquery, html

```
<select id="name" >
    <option value="" selected="selected">Please select</option>
    <option value="Alex">Alex</option>
    <option value="Greg">Greg</option>
</select> 
```

如果我们尝试向它附加一个选项，通过

`$('<option>Hi</option>').appendTo($('#name'))`

然后，正如预期的那样，该选项被添加到选择框中。但是，如果我们执行以下操作：

```
var a = $('#name option')[1];
$(a).appendTo($('#name')); 
```

然后，该选项不会附加到选项中。相反，“亚历克斯”现在出现在最后。我的问题是最后应该附加另一个“Alex”选项，原来的“Alex”保留在它的位置

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-29T06:07:22.847

```
$('#name option')[1] 
```

**选择**元素。

当您**选择**一个元素时，您选择了它。哈哈..

它没有被**复制**。要获得所需的结果，您必须这样做

```
var a = $('#name option')[1];
$(a).clone().appendTo($('#name')); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:10:04.163

尝试

```
               $('#name').appendChid(option element);
```

或尝试这样

```
 var container1 = document.getElementById('keylist');
            var new_element1 = document.createElement('OPTION');
            new_element1.text= m1[h1];
            container1.insertBefore(new_element1, container1.lastChild); 
```

# android - 如何在 Android 的 Tabbar 内添加图标？

> ID：12171749
> 
> 赞同：3
> 
> 时间：2012-08-29T06:03:34.620
> 
> 标签：android, icons, android-tabhost

目前我在Android应用程序中工作，使用TabHost设置五个标签，然后我尝试在标签栏中添加图标，但我不知道，如何设置它？请帮我

提前致谢

我试过这里提到供您参考：

```
//firstTab.setIcon(R.drawable.help);            
//firstTab.setIconSelected(R.drawable.help_selected);

TabHost tabHost = getTabHost();
tabHost.addTab(tabHost.newTabSpec("tab1").setIndicator("1").setContent(new Intent(this, First.class)));

tabHost.addTab(tabHost.newTabSpec("tab2").setIndicator("2").setContent(new Intent(this, Second.class)));

tabHost.addTab(tabHost.newTabSpec("tab3").setIndicator("3").setContent(new Intent(this, Third.class)));   

tabHost.addTab(tabHost.newTabSpec("tab4").setIndicator("4").setContent(new Intent(this, Fourth.class)));

tabHost.addTab(tabHost.newTabSpec("tab5").setIndicator("5").setContent(new Intent(this, Fifth.class)));

tabHost.setCurrentTab(2); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:07:31.923

使用也接受 Drawable 参数的重载 setIndicator() 方法：

```
tabHost.addTab(tabHost.newTabSpec("tab5").setIndicator("5", YOUR_DRAWABLE).setContent(new Intent(this, Fifth.class))); 
```

例子：

```
tabHost.addTab(tabHost.newTabSpec("tab5").setIndicator("5", getResources().getDrawable(android.R.drawable.arrow_down_float)).setContent(new Intent(this, Fifth.class))); 
```

# java - 使用java检索隐藏的输入值

> ID：12171757
> 
> 赞同：0
> 
> 时间：2012-08-29T06:04:31.740
> 
> 标签：java, html

我有一个要求。我在我的 HTML 中放置了一个隐藏字段。我想从 Java 中检索隐藏的文本值。有什么办法吗？我知道我们可以在 javascript 中做到这一点，但我需要从 java 中提取值。我创建了一个隐藏的文本字段，如下所示：

```
<input type="HIDDEN" name="X" value="2356544"> 
```

我想通过java检索2356544。请让我知道如何做到这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:44:05.010

如果您使用的是 Servlets，您可以使用

```
request.getParameter("X"); 
```

或者如果你有一个 JSP 然后使用

```
Hello <c:out value="${param.X}" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-03T06:53:30.560

试试这样

在隐藏字段中创建 id 属性为 id="X" 然后在 javascript 中使用 id 取值

```
var value=document.getElementById('X').value; 
```

**或者**

使用名称

```
 var value=document.getElementsByName('X').value; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T06:52:41.140

这必须是一个 Web 应用程序，因为它使用的是 html。所以在一个网络应用程序中你有请求对象，所以你可以使用

request.getParameter("X") 来自您的 servlet 或操作。

# android - 用于 Android 的 HTML5 中的图表？

> ID：12171761
> 
> 赞同：0
> 
> 时间：2012-08-29T06:04:39.490
> 
> 标签：android, html, canvas, charts

我想在我的 android 移动应用程序中使用不同类型的图表展示一些年度分析。谁能提供一些好的链接来帮助我实现这些东西。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T06:07:04.737

试试这个。[适用于 Android 的图表和图形库](http://www.jjoe64.com/2011/07/chart-and-graph-library-for-android.html)。这是一个示例代码：

```
GraphView graphView = new GraphView(
  this // context
  , new GraphViewData[] {
    new GraphViewData(1, 2.0d)
    , new GraphViewData(2, 1.5d)
    , new GraphViewData(2.5, 3.0d) // another frequency
    , new GraphViewData(3, 2.5d)
    , new GraphViewData(4, 1.0d)
    , new GraphViewData(5, 3.0d)
  } // data
  , "GraphViewDemo" // heading
  , null // dynamic labels
  , null // dynamic labels
);
LinearLayout layout = (LinearLayout) findViewById(R.id.graph1);
layout.addView(graphView); 
```

要使用 JScript 和 HTML 创建图表，请参阅本[教程](http://w2davids.wordpress.com/android-charts-the-html5-and-javascript-way/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:10:29.250

Android 的图表解决方案之一是 AChartEngine。您可以在他们的[网站](http://www.achartengine.org/)和他们的开发[网站](http://code.google.com/p/achartengine/)上找到信息。

但是，请注意，您甚至可以制作离线图表，还请注意，这不是使用 HTML5 完成的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T06:15:08.917

检查下面的链接。它确实有一些很好的例子。

[http://www.highcharts.com/](http://www.highcharts.com/)

希望它可以帮助您获得所需的形式。

如果您还有任何问题，请告诉我。

# jquery - 使用 jQuery 模板进行数组迭代

> ID：12171763
> 
> 赞同：0
> 
> 时间：2012-08-29T06:04:44.040
> 
> 标签：jquery, jquery-templates

我有一个 JavaScript 数组：

```
var personDetails = [
{firstName: "Anup", lastName: "Vasudeva", City: "Delhi"},
{firstName: "Vikas", lastName: "Kumar", City: "Banglore"},
{firstName: "Dannis", lastName: "Richie", City: "Texas"},
{firstName: "Ajay", lastName: "Sharma", City: "Pune"},
{firstName: "Deepak", lastName: "Aggarwal", City: "Delhi"},
{firstName: "Ajay", lastName: "Sharma", City: "Banglore"} 
```

]

这是我打算设计的模板：

```
<div class="left">
     <!-- Should display the first half of the rows -->
     {{tmpl($data) "#someTemplate"}}
</div>
<div class="right">
    <!-- Should display the rest half of the rows -->
    {{tmpl($data) "#personTemplate"}}   
</div>

<script id="personTemplate" type="text/x-jquery-tmpl">
{{each personDetails}}
    <div class="person">
        <div>${firstName}</div>
        <div>${lastName}</div>
        <div>${city}</div>
    </div>
{{/each}} 
```

如何操作包含前半部分行并包含后半部分行的数组。

编辑：实际上问题是用户将按原样传递数组，并且模板逻辑将数组切成两半。

谢谢阅读。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T06:12:37.230

使用[Array.slice](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/slice)将您的输入分成两半：

```
var input = [
    {firstName: "Anup", lastName: "Vasudeva", City: "Delhi"},
    {firstName: "Vikas", lastName: "Kumar", City: "Banglore"},
    {firstName: "Dannis", lastName: "Richie", City: "Texas"},
    {firstName: "Ajay", lastName: "Sharma", City: "Pune"},
    {firstName: "Deepak", lastName: "Aggarwal", City: "Delhi"},
    {firstName: "Ajay", lastName: "Sharma", City: "Banglore"}
];

var half_point = Math.floor(input.length / 2);
var first_half  = input.slice(0, half_point);
var second_half = input.slice(half_point+1)

console.log(first_half, second_half) 
```

### 更新

我不确定您为什么要在模板本身中执行此操作，我建议您将此逻辑移动到数据旁边，也许可以通过向`Array`对象添加方法：

```
Array.prototype.chunk = function(chunk_count, chunk_no) {
    var chunk_size = Math.floor(this.length / chunk_count);
    return this.slice(chunk_no * chunk_size, chunk_size + chunk_no * chunk_size);
} 
```

...并从模板的 each 方法中调用它，如下所示：

```
<script id="personTemplate" type="text/x-jquery-tmpl">
<div class="left">
    {{each data.chunk(2, 0)}}
    <div class="person">
        <div>${firstName}</div>
        <div>${lastName}</div>
        <div>${city}</div>
    </div>
    {{/each}}
</div>
<div class="right">
    {{each data.chunk(2, 1)}}
    <div class="person">
        <div>${firstName}</div>
        <div>${lastName}</div>
        <div>${city}</div>
    </div>
    {{/each}}
</div>
</script> 
```

扩展（在其他圈子中为“monkeypatching”）核心类是否是一个好主意是有争议的，您也可以将相同的函数直接添加到您的`input`变量中。然而，在渲染之前使用分配给模板的两个单独的变量可能会导致更少的意外，因此可能会更有利。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:25:53.093

不要使用模板以这种方式操作数据。在将用户给定的数组提供给模板之前，请在外部执行此操作。您不想这样做的原因是，如果您让模板来处理这样的逻辑，那将比在外部执行它要慢得多。这对于 10-20 个项目的数组来说并不明显，但如果数组由于某种原因而变大，那么模板会明显变慢。

# java - 如何将 HTML 字符串转换为 XML DOM

> ID：12171765
> 
> 赞同：0
> 
> 时间：2012-08-29T06:04:46.447
> 
> 标签：java, xml, html-parsing

我正在使用 HTTP 客户端 4.1.2。我想访问 Outlook Web 并获取邮件数据。这是我完成的代码。

```
CredentialsProvider credsProvider = new BasicCredentialsProvider();
    credsProvider.setCredentials(new AuthScope(AuthScope.ANY_HOST,         
            AuthScope.ANY_PORT,AuthScope.ANY_REALM, AuthPolicy.BASIC),
    new UsernamePasswordCredentials(Username, password));
DefaultHttpClient Client= new DefaultHttpClient();
HttpContext localContext = new BasicHttpContext();

 HttpGet get= new HttpGet(uri);
 HttpEntity entity = response.getEntity();

String html=null;   
if(!entity.equals(null)){
html=EntityUtils.toString(entity,HTTP.UTF_8);
} 
```

输出是来自 String 的 HTML 页面。如何将其转换为 XML？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:12:50.060

从技术上讲，格式良好的 HTML 是 XML 的一种形式，或者至少这是目标。

但我们在这里谈论的是微软......

我使用[Cobra](http://lobobrowser.org/cobra.jsp)与 HTML 进行交互，就像它是 XML 一样，允许我使用[xPath](http://en.wikipedia.org/wiki/XPath)之类的东西来搜索文档或访问普通的旧 DOM。

# javascript - 为什么 jslint 报告 Unexpected 'variable'

> ID：12171768
> 
> 赞同：0
> 
> 时间：2012-08-29T06:04:58.373
> 
> 标签：javascript, jslint

我有以下代码

```
/*globals define,console*/
define(
  function(param) {
    'use strict';
    var v1 = v1 || {};
    console.log(v1);
  }
); 
```

和 jslint 报告：

```
jslint:accessibility2.js:5:18:Unexpected 'v1'.

jslint: ignored 0 errors. 
```

我想知道为什么 jslint 不喜欢这些`var v1 = v1 || {};`东西？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:15:56.130

```
var v1; 
v1 = v1 || {}; 
```

应该做的伎俩。
为什么？
在左侧声明之前使用右侧的 v1。

# windows - delphi 如何直接从内存中执行代码？

> ID：12171769
> 
> 赞同：3
> 
> 时间：2012-08-29T06:05:00.080
> 
> 标签：windows, delphi, api, loadlibrary

是否可以模仿该`loadlibrary`功能？我想从 BLOB 字段加载一个库而不先将其写入临时文件，并且我需要一个不依赖于特定版本的 delphi 编译器或 windows 的解决方案，并且不会触发防病毒软件。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-29T06:21:21.847

是的，您可以，并且您不需要`loadlibrary`从内存中执行代码 - 您需要使用设置了[PAGE_EXECUTE](http://msdn.microsoft.com/en-us/library/windows/desktop/aa366786%28v=vs.85%29.aspx)标志的[VirtualAlloc](http://msdn.microsoft.com/en-us/library/windows/desktop/aa366887%28v=vs.85%29.aspx)函数来分配内存

* * *

更新：这里是从内存中为 32 位 Delphi 执行的代码的快速而肮脏的演示 - 我只测试了它的工作原理：

```
type
  TIncMe = procedure(var I: Integer);

var
  IncMeProc: TIncMe;

procedure IncMe(var I: Integer);
begin
  Inc(I);
end;

procedure CopyIncMe;
var
  Size: LongWord;
  Tmp: Pointer;

begin
  Size:= LongWord(@CopyIncMe) - LongWord(@IncMe);
  Tmp:= VirtualAlloc(nil, Size, MEM_COMMIT or MEM_RESERVE, PAGE_EXECUTE_READWRITE);
  Move(Pointer(@IncMe)^, Tmp^, Size);
  IncMeProc:= Tmp;
end;

procedure TForm1.Button1Click(Sender: TObject);
var
  J: Integer;

begin
  J:= 0;
  CopyIncMe;
  while J < 10 do begin
    IncMeProc(J);
    ShowMessage(IntToStr(J));
  end;
  VirtualFree(@IncMeProc, 0, MEM_RELEASE);
end; 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-29T15:26:54.380

dzlib 包含一个现成的对象，用于将 dll 从资源读取到内存并使用它，而无需将其保存到磁盘：

这是主文件...

[http://sourceforge.net/p/dzlib/code/147/tree/dzlib/trunk/src/u_dzResourceDllLoader.pas](http://sourceforge.net/p/dzlib/code/147/tree/dzlib/trunk/src/u_dzResourceDllLoader.pas)

..但它需要来自同一存储库的其他文件。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-08-29T08:25:38.447

[delphi.about.com](http://delphi.about.com/od/windowsshellapi/a/delphi-load-resource-dll-into-memory.htm)上有一篇文章，展示了如何从资源中加载 dll。

它首先将资源加载到内存中，然后使用[Memory Module从资源中加载 dll](http://www.dsplayer.de/dspweb/downloads/?view=downloads&start=5&limit=5&id=&layout=)

您可以使用数据库或要从中加载 dll 的任何源来代替资源。一旦它在内存流中，您可以使用以下代码加载和执行 dll 函数，这看起来非常像调用 dll 的“普通”代码：

```
var
  btMM: PBTMemoryModule;
begin
  btMM := BTMemoryLoadLibary(mp_DllData, m_DllDataSize);
  try
    if btMM = nil then Abort;
    @m_TestCallstd := BTMemoryGetProcAddress(btMM, 'TestCallstd');
    if @m_TestCallstd = nil then Abort;
    m_TestCallstd('This is a Dll Memory call!');
  except
    Showmessage('An error occoured while loading the dll: ' + BTMemoryGetLastError);
  end;
  if Assigned(btMM) then BTMemoryFreeLibrary(btMM);
end; 
```

# java - 即使类存在也找不到符号

> ID：12171771
> 
> 赞同：2
> 
> 时间：2012-08-29T06:05:03.090
> 
> 标签：java

这确实可能是一个非常简单的问题，但我对 Java 完全陌生，不知道如何解决它。

我有一个 stdlib.jar 文件，其中定义了一些像 StdRandom 这样的类，我必须在我的程序中使用它们。我读到，要使用像 stdlib.jar 这样的文件，我必须使用默认包。所以我从下面的程序中删除了“包 algs4”。但它没有用。

```
package algs4;
public class PercolationStats
{
   //Some method declarations
   public static void main(String[] args)
   {
      //Some code
      for(int counter=0; counter<T; counter++)
      {
        while(!p.percolates())
        {
            iIndex = StdRandom.uniform(N);
            jIndex = StdRandom.uniform(N);
            ...
        }
      }

} 
```

每次我使用以下方法编译此程序时：

```
javac -cp . algs4/PercolationStats.java 
```

我得到错误：

```
algs4/PercolationStats.java:30: cannot find symbol
symbol  : variable StdRandom
location: class algs4.PercolationStats
                iIndex = StdRandom.uniform(N); 
```

我还尝试使用以下方法进行编译：

```
javac -cp .:stdlib.jar algs4/PercolationStats.java 
```

但错误仍然相同。

虽然这不是一个好的做法，但我也从 .jar 文件中提取了文件，这给了我 StdRandom.java 文件，但它仍然不起作用。

我所有的文件，包括 stdlib.jar 都在同一个目录中。

我应该怎么做？

编辑：只是为了让问题更加详细，以供将来参考：程序中使用的 stdlib.jar 位于“默认”包中。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-29T06:06:46.283

编辑：如果`StdRandom`不在包中，那么您可能确实也需要将代码从包中取出。（我会试一试 - 自从我不得不使用不在包中的类以来已经有很长时间了。）

一般来说，获得一个在包中包含类的版本会好得多*。*`stdlib.jar`

* * *

我们不知道里面有什么包`StdRandom`。你可能只想要一个`import`声明：

```
import foo.bar.StdRandom; 
```

...`foo.bar`包含`StdRandom`. 或者，您可以使用通配符导入包中的所有类：

```
import foo.bar.*; 
```

有关更多详细信息，请参阅 Java 教程的[“创建和使用包”](http://docs.oracle.com/javase/tutorial/java/package/packages.html)部分。

你肯定需要`stdlib.jar`在你的类路径中，所以坚持你的第二种编译方法。

您可能还想考虑使用 IDE（例如 Eclipse），它可以让您更轻松地完成所有这些工作，甚至可以根据需要制定导入语句。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:26:10.703

尝试编译

```
java -classpath "lib/*:." my.package.Program 
```

或者

```
java -cp "Test.jar:lib/*" my.package.MainClass 
```

有关更多信息，请参阅[在 java 类路径中设置多个 jar](https://stackoverflow.com/questions/219585/setting-multiple-jars-in-java-classpath)

# git - 从本地服务器存储库进行 GIT 克隆时面临的问题

> ID：12171781
> 
> 赞同：1
> 
> 时间：2012-08-29T06:05:51.493
> 
> 标签：git, version-control, git-clone

我正在尝试将 git 存储库设置为服务器存储库，以便用户签入和签出他们的更改。

我正在尝试做一个 poc，以便本地和远程存储库都在一台机器上。

这是我为创建存储库（作为远程服务器存储库）所做的一切：

*   使用 GIT Gui 创建了一个存储库（现在我有一个包含 .git 文件夹的目录）。
*   运行命令**git --bare init --shared myRepo.git**使其裸露以推送到存储库
*   现在我使用 Windows 共享和安全性共享了 myRepo.git 文件夹。
*   然后我将此共享文件夹映射到网络驱动器 z：

在位置 d:/myrepository 我使用 GIT Gui 创建了一个存储库（本地，将在所有将签入和签出服务器的机器上）。

在这里，我的一个新蜜蜂 GIT 用户出现了。我尝试了各种可能有意义也可能没有意义的事情。请告诉我为什么我尝试的东西是对还是错，如果你能帮我解决。这是我在 local(myrepository) 上尝试过的：

```
$ git clone \\z:\myRepo.git 
Cloning into 'myRepo'...
ssh: \\z: no address associated with name
fatal: The remote end hung up unexpectedly**

$ git clone file:///z:\myRepo.git
Cloning into 'myRepo'...
fatal: 'z:myRepo.git' does not appear to be a git repository
fatal: The remote end hung up unexpectedly**

$ git clone file:///myRepo.git
Cloning into 'myRepo'...
fatal: 'C:/Program Files/Git/myRepo.git' does not appear to be a git repository
fatal: The remote end hung up unexpectedly**

$ git clone git@\\z:\myRepo.git
Cloning into 'myRepo'...
ssh: \\z: no address associated with name
fatal: The remote end hung up unexpectedly**

$ git clone ssh://git@\\z:\myRepo.git
Cloning into 'myRepo'...
ssh: connect to host  port 22: Bad file number
fatal: The remote end hung up unexpectedly**

$ git clone ssh://z:\myRepo.git
Cloning into 'myRepo'...
ssh: connect to host  port 22: Bad file number
fatal: The remote end hung up unexpectedly**

$ git clone ssh://z:\myRepo.git
Cloning into 'myRepo'...
ssh: connect to host  port 22: Bad file number
fatal: The remote end hung up unexpectedly**

$ git clone \\z:\myRepo.git
Cloning into 'myRepo'...
ssh: \\z: no address associated with name
fatal: The remote end hung up unexpectedly**

$ git clone ssh://git@172.16.70.177/git1/myRepo.git
Cloning into 'myRepo'...
ssh: connect to host 122.16.30.127 port 22: Bad file number
fatal: The remote end hung up unexpectedly** 
```

请告诉我需要做什么才能使其工作。

谢谢，玛雅克巴特拉

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-31T06:46:34.633

使用 git bash，它应该是：

```
cd c:/path/to/parent/folder
git clone z:/myRepo
# or
git clone file:///z:/myRepo.git 
```

这假设目录“”中已经不存在 repo 文件夹`c:/path/to/parent/folder`，repo 即将被克隆。

使用 cmd 会话：

```
git clone z:\myRepo 
```

* * *

与[git 1.9/2.0 (Q1 2014)](https://github.com/git/git/blob/bd3e186d811a13d8687584856f345a767e3e4d67/Documentation/RelNotes/1.9.txt#L261-L262)不同，您可以为克隆的目的地指定一个尚不存在的路径。

所以：

```
git clone z:/myRepo c/path/to/parent/folder/myRepo 
```

即使 ' `parent`' 和 ' `folder`' 是两个*尚不存在*的目录，它也会起作用。

* * *

> Windows 上的“ `git clone $origin foo\bar\baz`”无法创建前导目录（即“ `mkdir -p`”的道德等价物）。

参见[最近 GitHub 员工](https://github.com/blog/1691-michael-haggerty-is-a-githubber)[Michael Haggerty (](https://github.com/mhagger) )的[提交 0f52740，2013](https://github.com/git/git/commit/0f5274033ecb0262dc77e4ed48fdb1ab07181bd8)[年 11 月](https://github.com/mhagger)[成名](https://github.com/mhagger/git-imerge)，基于[Sebastian Schuberth (](https://github.com/sschuberth) [)](https://github.com/sschuberth)的[补丁](http://www.spinics.net/lists/git/msg218815.html)： [`mhagger`](https://github.com/mhagger)[`git imerge`](https://github.com/mhagger/git-imerge)[`sschuberth`](https://github.com/sschuberth)

## `safe_create_leading_directories()`: 在 Windows 上，`\`可以分隔路径组件

> 从 Windows 的 cmd.exe 克隆到“foo”尚不存在的目录“C:\foo\bar”时，Git 会抛出如下错误

```
fatal: could not create work tree dir 'c:\foo\bar'.: No such file or directory 
```

> 通过不将特定于平台的目录分隔符硬编码到 safe_create_leading_directories() 中来解决此问题。
> 
> 这个补丁，包括它的全部提交信息，来自[Sebastian Schuberth ( `sschuberth`)](https://github.com/sschuberth)的一个补丁。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:08:33.923

试试这个：`git clone z:\` 如果你使用 git bash： `git clone /z`

在这种情况下，您需要了解更多关于 DOS 的知识，而不是 Git。DOS 文件路径就像我在上面显示的那样。

PS：一个 git 存储库类似于这样：

```
COMMIT_EDITMSG HEAD           config         hooks          info           objects        refs
FETCH_HEAD     ORIG_HEAD      description    index          logs           packed-refs 
```

# django - 在 django 中如何基于相同模型的现有查询集查询模型

> ID：12171786
> 
> 赞同：1
> 
> 时间：2012-08-29T06:06:14.123
> 
> 标签：django, django-models, django-queryset

我想在 django 中执行以下操作：

假设我有模型称为`Account`

`accountset1 = Account.objects.filter(some query)`

`accountset2 = Account.objects.filter(some other query)`

`accounts = Account.objects.filter("account in either of accountset1 accountset2")`

我怎样才能做到这一点

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:15:08.137

您可以使用[`Q`对象](https://docs.djangoproject.com/en/dev/topics/db/queries/#complex-lookups-with-q-objects)并在一行中进行查询。

```
from django.db.models import Q
accounts = Account.objects.filter(Q(some query) | Q(some other query)) 
```

# android - 在android中显示所有带有电话号码的联系人列表？

> ID：12171790
> 
> 赞同：-1
> 
> 时间：2012-08-29T06:06:42.860
> 
> 标签：android, listview, adapter, contactscontract

> **可能重复：**
> [如何在 Android 2.0 上读取联系人](https://stackoverflow.com/questions/1721279/how-to-read-contacts-on-android-2-0)

是否可以在电话簿中创建`List`我的全部`Contacts`内容`PhoneNumber`，但条件是如果没有，`PhoneNumber`则仅显示该记录的名称。我希望所有这些都在我的 android 应用程序中。我一直坚持这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T06:27:03.340

> **阅读所有联系人**

```
 public void readContacts() {
 ContentResolver cr = getContentResolver();
 Cursor cur = cr.query(ContactsContract.Contacts.CONTENT_URI, null,
 null, null, null);

 if (cur.getCount() > 0) {
 while (cur.moveToNext()) {
 String id = cur.getString(cur
 .getColumnIndex(ContactsContract.Contacts._ID));
 String name = cur
 .getString(cur
 .getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));
 if (Integer
 .parseInt(cur.getString(cur
 .getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER))) > 0) {
 System.out.println("name : " + name + ", ID : " + id);

 // get the phone number
 Cursor pCur = cr.query(
 ContactsContract.CommonDataKinds.Phone.CONTENT_URI,
 null,
 ContactsContract.CommonDataKinds.Phone.CONTACT_ID
 + " = ?", new String[] { id }, null);
 while (pCur.moveToNext()) {
 String phone = pCur
 .getString(pCur
 .getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
 System.out.println("phone" + phone);
 }
 pCur.close();

 // get email and type

 Cursor emailCur = cr.query(
 ContactsContract.CommonDataKinds.Email.CONTENT_URI,
 null,
 ContactsContract.CommonDataKinds.Email.CONTACT_ID
 + " = ?", new String[] { id }, null);
 while (emailCur.moveToNext()) {
 // This would allow you get several email addresses
 // if the email addresses were stored in an array
 String email = emailCur
 .getString(emailCur
 .getColumnIndex(ContactsContract.CommonDataKinds.Email.DATA));
 String emailType = emailCur
 .getString(emailCur
 .getColumnIndex(ContactsContract.CommonDataKinds.Email.TYPE));

 System.out.println("Email " + email + " Email Type : "
 + emailType);
 }
 emailCur.close();

 // Get note.......
 String noteWhere = ContactsContract.Data.CONTACT_ID
 + " = ? AND " + ContactsContract.Data.MIMETYPE
 + " = ?";
 String[] noteWhereParams = new String[] {
 id,
 ContactsContract.CommonDataKinds.Note.CONTENT_ITEM_TYPE };
 Cursor noteCur = cr.query(
 ContactsContract.Data.CONTENT_URI, null, noteWhere,
 noteWhereParams, null);
 if (noteCur.moveToFirst()) {
 String note = noteCur
 .getString(noteCur
 .getColumnIndex(ContactsContract.CommonDataKinds.Note.NOTE));
 System.out.println("Note " + note);
 }
 noteCur.close();

 // Get Postal Address....

 String addrWhere = ContactsContract.Data.CONTACT_ID
 + " = ? AND " + ContactsContract.Data.MIMETYPE
 + " = ?";
 String[] addrWhereParams = new String[] {
 id,
 ContactsContract.CommonDataKinds.StructuredPostal.CONTENT_ITEM_TYPE };
 // Cursor addrCur =
 // cr.query(ContactsContract.Data.CONTENT_URI,
 // null, null, null, null);
 Cursor addrCur = cr.query(
 ContactsContract.Data.CONTENT_URI, null, addrWhere,
 addrWhereParams, null);

 while (addrCur.moveToNext()) {
 String poBox = addrCur
 .getString(addrCur
 .getColumnIndex(ContactsContract.CommonDataKinds.StructuredPostal.POBOX));
 String street = addrCur
 .getString(addrCur
 .getColumnIndex(ContactsContract.CommonDataKinds.StructuredPostal.STREET));
 String city = addrCur
 .getString(addrCur
 .getColumnIndex(ContactsContract.CommonDataKinds.StructuredPostal.CITY));
 String state = addrCur
 .getString(addrCur
 .getColumnIndex(ContactsContract.CommonDataKinds.StructuredPostal.REGION));
 String postalCode = addrCur
 .getString(addrCur
 .getColumnIndex(ContactsContract.CommonDataKinds.StructuredPostal.POSTCODE));
 String country = addrCur
 .getString(addrCur
 .getColumnIndex(ContactsContract.CommonDataKinds.StructuredPostal.COUNTRY));
 String type = addrCur
 .getString(addrCur
 .getColumnIndex(ContactsContract.CommonDataKinds.StructuredPostal.TYPE));

 // Do something with these....

 }
 addrCur.close();

 // Get Instant Messenger.........
 String imWhere = ContactsContract.Data.CONTACT_ID
 + " = ? AND " + ContactsContract.Data.MIMETYPE
 + " = ?";
 String[] imWhereParams = new String[] {
 id,
 ContactsContract.CommonDataKinds.Im.CONTENT_ITEM_TYPE };
 Cursor imCur = cr.query(ContactsContract.Data.CONTENT_URI,
 null, imWhere, imWhereParams, null);
 if (imCur.moveToFirst()) {
 String imName = imCur
 .getString(imCur
 .getColumnIndex(ContactsContract.CommonDataKinds.Im.DATA));
 String imType;
 imType = imCur
 .getString(imCur
 .getColumnIndex(ContactsContract.CommonDataKinds.Im.TYPE));
 }
 imCur.close();

 // Get Organizations.........

 String orgWhere = ContactsContract.Data.CONTACT_ID
 + " = ? AND " + ContactsContract.Data.MIMETYPE
 + " = ?";
 String[] orgWhereParams = new String[] {
 id,
 ContactsContract.CommonDataKinds.Organization.CONTENT_ITEM_TYPE };
 Cursor orgCur = cr.query(ContactsContract.Data.CONTENT_URI,
 null, orgWhere, orgWhereParams, null);
 if (orgCur.moveToFirst()) {
 String orgName = orgCur
 .getString(orgCur
 .getColumnIndex(ContactsContract.CommonDataKinds.Organization.DATA));
 String title = orgCur
 .getString(orgCur
 .getColumnIndex(ContactsContract.CommonDataKinds.Organization.TITLE));
 }
 orgCur.close();
 }
 }
 }
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:09:55.107

By this way you found all contact name that have no contact number.

```
while (cur.moveToNext()) {
                String id = cur.getString(cur
                        .getColumnIndex(ContactsContract.Contacts._ID));
                String name = cur
                        .getString(cur
                                .getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));
} 
```

Thanks.

# java - failed.org.hibernate.HibernateException

> ID：12171794
> 
> 赞同：1
> 
> 时间：2012-08-29T06:07:00.550
> 
> 标签：java, database, hibernate

我是休眠的新手。我创建了一个简单的程序来使用 Hibernate 向 db 插入值。

我的文件结构看起来像

`src -> com.visolve -> AddStudent.java and student.java`

`src -> com.xml -> hibernate.cfg.xml and student.hbm.xml`

我使用以下代码从 AddStudent.java 传递配置文件

```
 String file = "/src/com/xml/hibernate.cfg.xml";
 sessionFactory = new Configuration().configure(new File(file)).buildSessionFactory(); 
```

我的 hibernate.cfg.xml 文件是

```
<?xml version='1.0' encoding='utf-8'?>
 <!DOCTYPE hibernate-configuration PUBLIC
  "-//Hibernate/Hibernate Configuration DTD//EN"
  "http://hibernate.sourceforge.net/
   hibernate-configuration-3.0.dtd">

   <hibernate-configuration>
    <session-factory>
     <property name="hibernate.connection.driver_class">
       com.mysql.jdbc.Driver</property>
       <property name="hibernate.connection.url">
       jdbc:mysql://localhost:3306/hibernateExamples</property>
      <property name="hibernate.connection.username">
       root</property>
      <property name="hibernate.connection.password">
      </property>
      <property name="hibernate.connection.pool_size">
      10</property>
       <property name="show_sql">true</property>
       <property name="dialect">
       org.hibernate.dialect.MySQLDialect</property>
       <property name="hibernate.hbm2ddl.auto">
         update</property>

           <!-- Mapping files -->

     <mapping resource="com/xml/student.hbm.xml"/>
     </session-factory>
   </hibernate-configuration> 
```

如果我检查 new File(file).exists() 意味着它返回 true .. 但这里它返回以下异常

```
Initial SessionFactory creation failed.org.hibernate.HibernateException: Could not parse configuration: src/com/xml/hibernate.cfg.xml
Exception in thread "main" java.lang.NullPointerException
at com.visolve.AddStudent.main(AddStudent.java:44) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-12T05:21:33.433

```
 <?xml version='1.0' encoding='utf-8'?>

 <!DOCTYPE hibernate-configuration PUBLIC "-//Hibernate/Hibernate Configuration DTD//EN" 
   "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd">

   <hibernate-configuration>
      <session-factory>
      <property name="hibernate.connection.driver_class">
         com.mysql.jdbc.Driver</property>
       <property name="hibernate.connection.url">
            jdbc:mysql://localhost:3306/hibernateexamples</property>
       <property name="hibernate.connection.username">
          root</property>
       <property name="hibernate.connection.password">
           admin</property>
       <property name="hibernate.connection.pool_size">
            10</property>
       <property name="show_sql">true</property>
       <property name="dialect">
              org.hibernate.dialect.MySQLDialect</property>
       <property name="hibernate.hbm2ddl.auto">
            update</property>

       <!-- Mapping files -->

       <mapping resource="com/xml/student.hbm.xml" />
   </session-factory> 
```

# sql-server-2008 - 如何在 SSMS 中生成更改、更新和创建脚本？

> ID：12171797
> 
> 赞同：1
> 
> 时间：2012-08-29T06:07:03.747
> 
> 标签：sql-server-2008, sql-server-2008-r2, sql-server-2008r2-express

您好我正在使用 SQL SERVER 2008 R2，我有 2 个数据库

```
1] ABC (with only structure like schemas, tables but no data in the table) 
2] ABC1 (with schemas, tables and data in the tables) 
```

我在 Schema 和 Tables 级别进行了比较，我发现 #2 中的表已更改但 #1 中没有，我想知道如何生成更改脚本以更改 #1 中的表？以及如何生成 #1 中缺少的 Alter、Update 和 Create 脚本？第一个是旧数据库，第二个是新数据库。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:40:58.503

该`ALTER To`选项在脚本表中被禁用为菜单选项！所以如果你想生成一个脚本，你会怎么做呢？好吧，当您更改表格时，您不能这样做。

为了生成脚本，首先右键单击要更改的表并选择设计。

> ![在此处输入图像描述](../Images/e6f13703e7cff254defc23577fdaff37.png)

现在继续添加新列，更改字段类型等。更改完成后，您想右键单击任何列或空白区域，您将看到选项 Generate Change Script 现在可用。

> ![在此处输入图像描述](../Images/4509462c490f6bb3776efa168db55d5d.png)

现在继续保存该文件，您将拥有 ALTER TABLE 脚本！

资料来源：[如何在 SQL 中生成 Alter Table 脚本](http://helpdeskgeek.com/how-to/script-table-as-alter-to-disabled/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:37:44.780

正如 SSMS 所说，您将要查看脚本，但您需要做的就是右键单击 #2 中的表，选择 Script Table as > DROP And Create To > File...

然后在#1 上运行脚本。

根据您在#2 中有多少数据（以及您错过两个数据库之间的一些差异的可能性），恢复#2 的备份然后运行截断所有表的脚本可能会更容易。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T08:01:41.277

您可以使用[软件来比较相同的数据库模式](https://stackoverflow.com/a/12157613/1407421)。该软件在比较多 DB 之间的数据库模式后，为您提供统一 DB 的脚本。

例如在 redgate 软件中：

![在此处输入图像描述](../Images/6fc741706dcf8e852a10a858dcd588a9.png)

1.  请参阅比较选定对象的结果
2.  选择要统一的对象
3.  开始统一 dbs

# ruby-on-rails - 任何类似于 amazon s3 的东西来存储来自 rails 的图像

> ID：12171803
> 
> 赞同：0
> 
> 时间：2012-08-29T06:07:26.487
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我有一个页面，我在其中存储每个帖子的图像，并使用回形针将图像存储在文件中，但我想将其存储在 amazon s3 中，而不是将其存储在文件夹中。我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T08:07:23.437

让我试着解释一下。

1.  添加`gem 'aws-sdk'`到您的gemfile。（不要忘记捆绑安装）

2.  `{APP FOLDER}/config/s3.yml`使用以下内容创建一个新文件： access_key_id: xxxxxYOUR_ACCESS_KEY_IDxxxxx 在此处输入代码secret_access_key: xxxxxYOUR_SECRET_ACCESS_KEYxxxxx

3.  相应地更新您的模型：

    ```
     has_attached_file :file_field_name,
                  :storage => :s3,
                  :s3_credentials => "#{Rails.root}/config/s3.yml",
                  :url => '/path/tofile/:basename.:extension',
                  :path => '/path/tofile/:basename.:extension',
                  :bucket => 'YOUR_BUCKET' 
    ```

4.  最后在你看来：

    ```
    <div class="field">
      <%= f.label :logo, "file_field_name" %>
      <%= f.file_field :file_field_name %>
    </div> 
    ```

任何问题让我知道。

至于 S3、Windows Azure Storage 和 Nimbus.io 的替代品。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:15:19.913

这里有一个相当详尽的文档[，](http://rubydoc.info/gems/paperclip/Paperclip/Storage/S3)看看。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T07:43:11.480

[这](http://dchua.com/2012/04/25/update-amazon-s3-paperclip-and-a-curious-case-of-singapore-buckets/)是一个最小的操作方法。

对于测试和开发，您可以使用 fake-s3

来自[github 页面](https://github.com/jubos/fake-s3)的描述：“FakeS3 是一个轻量级服务器，它响应 Amazon S3 响应的相同调用。它对于在沙盒环境中测试 S3 非常有用，而无需实际调用 Amazon，这不仅需要网络，而且成本你宝贵的美元。”

我认为您应该在生产中继续使用 Amazon S3。我不知道更好的选择。有用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T11:47:16.790

根据我对 Amazon S3 的理解，没有什么叫做文件夹来存储数据。我们仅将 S3 用于字符串图像，但它存储在称为存储桶的虚拟文件夹 S3 中，有 C# API 可用于读取这些虚拟文件夹（存储桶）信息以访问数据。还有适用于 C# 的 AWS 开发工具包。

# c# - 如何在实体框架中加入两个实体？

> ID：12171806
> 
> 赞同：1
> 
> 时间：2012-08-29T06:07:40.657
> 
> 标签：c#, entity-framework, join

我是实体框架的新手，这是我为一个实体加入而编写的代码。

```
BioStarEntities BS = new BioStarEntities();
TB_USER tuser = BS.TB_USER.SingleOrDefault(p => p.sUserID=="11");
foreach (var tTemplates in tuser.TB_USER_TEMPLATE)
{
    byte[] tempp2 = tTemplates.bTemplate;
} 
```

这里我想获取所有用户实体而不是 UserId == 11，那么我必须使用什么来代替关键字 SingleOrDefualt？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:22:40.737

```
 BioStarEntities BS = new BioStarEntities();
        var tuserS = BS.TB_USERS.ToList(); 
```

如果您在 从数据库生成实体时检查了**复数，这将起作用。**如果您还没有，您可以**从数据库更新模型**并标记我建议的**Pluralize 和 Singularize**复选框。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:16:13.243

如果您在数据库和数据库中定义了关系，`EDMX`并且如果它是一对多的关系`TB_USER`，`TB_USER_TEMPLATE`那么您将在`TB_USER`类型对象中有一个属性，该属性将包含相关`TB_USER_TEMPLATES`（可能，您可能需要在智能中检查名称）。

```
TB_USER tuser = BS.TB_USER.SingleOrDefault(p => p.sUserID=="11");
var TemplatesForUsers = tuser.TB_USER_TEMPLATES; 
```

以上将为您提供特定用户的所有模板。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T06:12:45.310

`BS.TB_USER.FindAll(r => r.userID = "11")`将检索所有值。但是我想知道 TB_User 的类型，以便我可以帮助您解决问题。

# c# - 颜色混合与 Alpha 混合

> ID：12171809
> 
> 赞同：0
> 
> 时间：2012-08-29T06:08:15.270
> 
> 标签：c#, .net, graphics, xna, alphablending

在试验 XNA BlendState 类时，我发现它有**两种**状态分组：
一种用于**Alpha 混合**，另一种用于**颜色混合**（正如框架所称的那样）。

每个组的可变成员称为`*BlendFunction`、`*DestinationBlend`和 *SourceBlend
（其中`*`替换为`Alpha`或`Color`）。

我了解如何混合两种 RGBA 颜色，我认为这就是颜色混合功能的用途

* * *

**XNA 显然支持的这种“阿尔法混合”的目的是什么？它是如何工作的？**

**不是所有 4 个颜色分量，包括 alpha 值，都被颜色混合修改了吗？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:15:13.820

是的，所有四个组件都通过颜色混合进行混合。Alpha 混合允许您设置自定义混合，该混合将仅覆盖 Alpha 通道的颜色混合。

因此，如果您希望所有通道具有相同的混合功能，则无需将 Alpha 混合设置为任何不同的。它只是一个自定义选项，用于在 Alpha 通道上使用不同的混合。

# c++ - 访问模板参数 T 的嵌套类型，即使 T 是指针

> ID：12171810
> 
> 赞同：4
> 
> 时间：2012-08-29T06:08:21.037
> 
> 标签：c++, templates, pointers

基础结构：

```
struct Foo{
    typedef int inner_type;
};

template<class T>
struct Bar{
    typename T::inner_type x;
}; 
```

主要：

```
Bar<Foo>();  // Compiles OK
Bar<Foo*>(); // Doesn't compile: template T becomes a pointer-to-class and is not a valid class anymore. 
```

如何解决这个问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-29T06:11:44.450

Specialize the `Bar` struct for a pointer-to-`T` type:

```
//non-specialized template for generic type T
template<class T>
struct Bar{
    typename T::inner_type x;
};

//specialization for pointer-to-T types
template<class T>
struct Bar<T*>{
    typename T::inner_type x;
}; 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-08-29T06:18:05.153

如果您需要在专门模板会很尴尬的情况下执行此操作，您还可以计算类型以与一些适当的模板一起使用：

```
template<class T> struct remove_all_pointers {
    typedef T type;
};
template<class T> struct remove_all_pointers<T*> {
    typedef typename remove_all_pointers<T>::type type;
};
template<class T> struct remove_all_pointers<T* const> {
    typedef typename remove_all_pointers<T>::type type;
};
template<class T> struct remove_all_pointers<T* volatile> {
    typedef typename remove_all_pointers<T>::type type;
};
template<class T> struct remove_all_pointers<T* const volatile> {
    typedef typename remove_all_pointers<T>::type type;
};

struct Foo {
    typedef int inner_type;
};

template<class T>
struct Bar {
    typename remove_all_pointers<T>::type::inner_type x;
}; 
```

# warnings - VHDL 综合警告 FF/Latch 的常数值为 0

> ID：12171815
> 
> 赞同：4
> 
> 时间：2012-08-29T06:08:35.940
> 
> 标签：warnings, vhdl, synthesis

我正在尝试一些基本上涉及使用 FPGA 并从温度传感器读取值的代码。

代码如下：

```
library IEEE;
use IEEE.STD_LOGIC_1164.ALL;
use IEEE.STD_LOGIC_ARITH.ALL;
use IEEE.STD_LOGIC_UNSIGNED.ALL;

---- Uncomment the following library declaration if instantiating
---- any Xilinx primitives in this code.
--library UNISIM;
--use UNISIM.VComponents.all;

entity ds18b20 is
    Port ( clk      : in  STD_LOGIC;        --50Mhz oscillator onboard
       dq       : inout  STD_LOGIC;
       temp_h : out  STD_LOGIC_VECTOR (7 downto 0);
       temp_l : out  STD_LOGIC_VECTOR (7 downto 0);
          temperature   : out STD_LOGIC_VECTOR (11 downto 0));
end ds18b20;

architecture Behavioral of ds18b20 is

--RESET  :  RESET AND PRESENCE PULSE
--CMD_CC :  SKIP ROM [CCh]
--WRITE_BYTE   :  WRITE SCRATCHPAD COMMAND
   --WRITE_LOW
   --WRITE_HIGH
--READ_BIT  :  

TYPE STATE_TYPE is     (RESET,CMD_CC,WRITE_BYTE,WRITE_LOW,WRITE_HIGH,READ_BIT,CMD_44,WAIT800MS,CMD_BE,GET_TMP,WAIT4MS); 
signal STATE: STATE_TYPE:=RESET; 

signal clk_temp : std_logic:='0'; 
signal clk1m : std_logic; 

signal write_temp : std_logic_vector(7 downto 0) := (others => '0'); 

signal TMP : std_logic_vector(11 downto 0); 
signal tmp_bit : std_logic; 

signal WRITE_BYTE_CNT : integer range 0 to 8:=0; 
signal WRITE_LOW_CNT : integer range 0 to 2:=0; 
signal WRITE_HIGH_CNT : integer range 0 to 2:=0; 
signal READ_BIT_CNT : integer range 0 to 3:=0; 
signal GET_TMP_CNT : integer range 0 to 12:=0; 

signal cnt : integer range 0 to 100001:=0; 
signal count : integer range 0 to 25:=0; 

signal WRITE_BYTE_FLAG : integer range 0 to 4:=0; 

begin 

ClkDivider: process (clk) 
            begin 
            if rising_edge(clk) then 
                if (count = 24) then 
                    count <= 0; 
                    clk_temp<= not clk_temp; 
                else 
                    count <= count +1; 
                end if; 
            end if;  
            clk1m<=clk_temp; 
            end Process; 

STATE_TRANSITION:   process(STATE,clk) 
                    begin 
                    if rising_edge(clk) then 
                        case STATE is 

                            --Master issues RESET pulse
                            when RESET=> 
                                if (cnt>=0 and cnt<500) then 
                                    dq<='0'; 
                                    cnt<=cnt+1; 
                                    STATE<=RESET;

                                --Master waits for PRESENCE pulse
                                elsif (cnt>=500 and cnt<1000) then 
                                    dq<='Z'; 
                                    cnt<=cnt+1; 
                                    STATE<=RESET; 
                                elsif (cnt>=1000) then 
                                    cnt<=0; 
                                    STATE<=CMD_CC;              -- SKIP ROM COMMAND STATE
                                end if; 

                            when CMD_CC=>                       -- SKIP ROM COMMAND
                                write_temp<="11001100";     -- SKIP ROM BINARY COMMAND
                                STATE<=WRITE_BYTE;             -- modified here

                            --Master issues write scratchpad command
                            when WRITE_BYTE=> 
                                case WRITE_BYTE_CNT is 
                                    when 0 to 7=> 
                                        if (write_temp(WRITE_BYTE_CNT)='0') then 
                                            STATE<=WRITE_LOW; 
                                        else 
                                            STATE<=WRITE_HIGH; 
                                        end if; 
                                            WRITE_BYTE_CNT<=WRITE_BYTE_CNT+1; 
                                    when 8=> 
                                        if (WRITE_BYTE_FLAG=0) then -- ????0XCC?? 
                                            STATE<=CMD_44;          --CONVERT TEMPERATURE
                                            WRITE_BYTE_FLAG<=1; 
                                        elsif (WRITE_BYTE_FLAG=1) then --?0X44?? 
                                            STATE<=RESET; 
                                            WRITE_BYTE_FLAG<=2; 
                                        elsif (WRITE_BYTE_FLAG=2) then --????0XCC?? 
                                            STATE<=CMD_BE;          -- READ SCRATCHPAD
                                            WRITE_BYTE_FLAG<=3; 
                                        elsif (WRITE_BYTE_FLAG=3) then --?0XBE?? 
                                            STATE<=GET_TMP; 
                                            WRITE_BYTE_FLAG<=0; 
                                        end if; 
                                        WRITE_BYTE_CNT<=0; 
                                end case; 

                                when WRITE_LOW=> 
                                    case WRITE_LOW_CNT is 
                                        when 0=> 
                                            dq<='0'; 
                                            if (cnt=78) then 
                                                cnt<=0; 
                                                WRITE_LOW_CNT<=1; 
                                            else 
                                                cnt<=cnt+1; 
                                            end if; 
                                        when 1=> 
                                            dq<='Z'; 
                                            if (cnt=2) then 
                                                cnt<=0; 
                                                WRITE_LOW_CNT<=2; 
                                            else 
                                                cnt<=cnt+1; 
                                            end if; 
                                        when 2=> 
                                            STATE<=WRITE_BYTE; 
                                            WRITE_LOW_CNT<=0; 
                                        when others=>WRITE_LOW_CNT<=0; 
                                    end case; 

                                    when WRITE_HIGH=> 
                                     case WRITE_HIGH_CNT is 
                                         when 0=> 
                                             dq<='0'; 
                                             if (cnt=8) then 
                                                 cnt<=0; 
                                                 WRITE_HIGH_CNT<=1; 
                                             else 
                                                 cnt<=cnt+1; 
                                             end if; 
                                         when 1=> 
                                             dq<='Z'; 
                                             if (cnt=72) then 
                                                 cnt<=0; 
                                                 WRITE_HIGH_CNT<=2; 
                                             else 
                                                 cnt<=cnt+1; 
                                             end if; 
                                         when 2=> 
                                             STATE<=WRITE_BYTE; 
                                             WRITE_HIGH_CNT<=0; 
                                         when others=>WRITE_HIGH_CNT<=0; 
                                    end case; 

                                    when READ_BIT=> 
                                        case READ_BIT_CNT is 
                                             when 0=> 
                                                 dq<='0'; 
                                                 if (cnt=4) then 
                                        READ_BIT_CNT<=1; 
                                        cnt<=0; 
                                                 else 
                                                     cnt<=cnt+1; 
                                                 end if; 
                                             when 1=> 
                                                 dq<='Z'; 
                                                 if (cnt=4) then 
                                                     READ_BIT_CNT<=2; 
                                                     cnt<=0; 
                                                 else 
                                                     cnt<=cnt+1; 
                                                 end if; 
                                             when 2=> 
                                                 TMP_BIT<=dq; 
                                                 if (cnt=1) then 
                                                     READ_BIT_CNT<=3; 
                                                     cnt<=0; 
                                                 else 
                                                     cnt<=cnt+1; 
                                                 end if; 
                                             when 3=> 
                                                 if (cnt=45) then 
                                                     cnt<=0; 
                                                     READ_BIT_CNT<=0; 
                                                     STATE<=GET_TMP; 
                                                 else 
                                                     cnt<=cnt+1; 
                                                 end if; 
                                             when others=>READ_BIT_CNT<=0; 
                                         end case; 

                                        when CMD_44=>                    -- CONVERT TEMPERATURE
                                             write_temp<="01000100";        -- CONVERT TEMPERATURE BINARY COMMAND
                                             STATE<=WRITE_BYTE; 

                             when WAIT800MS=> 
                                             if (cnt>=100000) then 
                                                 STATE<=RESET; 
                                                 cnt<=0; 
                                             else 
                                                 cnt<=cnt+1; 
                                                 STATE<=WAIT800MS; 
                                             end if; 

                                        when CMD_BE=>                       -- READ SCRATCHPAD
                                             write_temp<="10111110";      -- READ SCRATHPAD BINARY COMMAND
                                             STATE<=WRITE_BYTE; 

                             when GET_TMP=> 
                                             case GET_TMP_CNT is 
                                                 when 0 to 11=> 
                                                     STATE<=READ_BIT; 
                                                     TMP(GET_TMP_CNT)<=TMP_BIT; 
                                                     GET_TMP_CNT<=GET_TMP_CNT+1; 
                                                 when 12=> 
                                                     GET_TMP_CNT<=0; 
                                                     STATE<=WAIT4MS; 
                                            end case; 

                                            when WAIT4MS=> 
                                                 if (cnt>=4000) then 
                                                     STATE<=RESET; 
                                                     cnt<=0; 
                                                 else 
                                                     cnt<=cnt+1; 
                                                     STATE<=WAIT4MS; 
                                                 end if; 
                                                when others=>STATE<=RESET; 
                                            end case; 
                                        end if; 
                                    end process; 

                                    temp_h<='0'&TMP(11 downto 5); 
                                    temp_l<="0000"&TMP(4 downto 1); 
                                    temperature <= TMP;

end Behavioral; 
```

我得到的警告是

```
WARNING:Xst:1293 - FF/Latch <write_temp_0> has a constant value of 0 in block     <ds18b20>. This FF/Latch will be trimmed during the optimization process.
WARNING:Xst:1710 - FF/Latch <Mtridata_dq> (without init value) has a constant value of 0 in block <ds18b20>. This FF/Latch will be trimmed during the optimization process. 
```

write_temp 是一个保存传感器二进制命令的变量。所以本质上，我将通过“dq”双向端口将这些命令发送到传感器。现在，警告指出 write_temp 始终为 0，这意味着我无法指示传感器执行任何操作，因为它始终为 0。

任何人都可以阐明如何克服这个问题吗？非常感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-29T07:10:16.300

这里没有错。警告表示`write_temp_0`始终为 0 - 也就是说，警告仅适用于 的第 0 位`write_temp`，而不适用于其他 7 位。

这是意料之中的，因为您从来没有将位 0 ​​设置`write_temp`为除 0 之外的任何值。合成器对此进行了处理，并通过简单地将其修整为常数 0 而不是连接到逻辑来对其进行优化。

所以试试代码，看看它是否有效 - 如果没有，可能是由于其他原因。

此外，在编写和验证这样的代码时，模拟器是一个很棒的工具 - 它可以让您非常轻松地定位代码中的逻辑错误。所以没有理由不去了解如何使用它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-06T16:53:10.537

亲爱的同样的问题我在 fir 上运行我的代码时遇到同样的问题，我已经运行了你的代码，它合成但由于警告它显示你的输入和 clk 的未定义值，不要分配 0 值，尝试输入不同的值，如 write_temp 7到 1\. 我不是 vhdl 的完整专家，但是当我以类似的方式进行此更改时，我克服了这些警告，希望这对您也有用。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2020-04-02T23:04:37.247

我猜，这个警告（FF/Latch）发生在我们忘记为某些信号赋值时（或者甚至我们认为没有必要赋值），特别是当有一些条件比如 if-else 时。预计对于所有条件，我们都会分配一个值。因此，它使我们的代码在每个条件下都重复一些分配变得整洁且冗长，但我们可以在进程开始之后和上升之前为所有这些信号（FF/Latch 警告指的是它们）设置一个初始值-边缘。例如，在 STATE_Transition 过程中，在 begin 和 ifrising_edge 之间，您应该写 write_temp <= (others=>'0')。

# c++ - 使用 3x3 结构元素执行两个形态膨胀是否等于使用 6x6 结构元素执行两个形态膨胀？

> ID：12171816
> 
> 赞同：5
> 
> 时间：2012-08-29T06:08:37.950
> 
> 标签：c++, image-processing, opencv, morphological-analysis

我的问题很简单。可能太简单了。但问题是在处理我的一个项目时，我使用以下几行来扩大二进制图像。

```
cv::dilate(c_Proj, c_Proj, Mat(), Point(), 2); 
```

这基本上是用 3x3 矩形结构元素扩展二进制图像。从最后一个参数您可以看到我正在执行此操作的 2 次迭代，相当于：

```
cv::dilate(c_Proj, c_Proj, Mat(), Point(), 1);
cv::dilate(c_Proj, c_Proj, Mat(), Point(), 1); 
```

我的问题是：如果我只使用 6x6 结构元素执行一次迭代，而不是执行两次迭代，这在准确性和性能方面是否等同于上述代码？图像只迭代一次会更快吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-29T06:43:32.637

具有相同核的 Dilation 可以用两个卷积操作来表示：

```
("YourImage" convolve "DilationKernel") convolve "DilationKernel" 
```

由于卷积的特性，该操作等价于：

```
"YourImage" convolve ( "DilationKernel" convolve "DilationKernel") 
```

3x3 内核与其自身的卷积将产生 5x5 矩阵，因此您的 6x6 假设是错误的。

在性能方面，有很多需要考虑的地方。在我之前的实习中，我们的目标是使用尽可能小的内核，因为较大的内核会造成性能损失。经验法则是小内核对图像的反应更快，因为您可以使用 CPU 寄存器存储和检索它们，而无需访问 L1 或 L2 缓存。此外，如果您的内核适合寄存器，您可以轻松使用 SSE 指令。

卷积的并行化是另一回事，我没有太多关于它的实用信息。所以我不知道如果使用并行实现，这个经验事实仍然成立。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:24:15.273

您必须自己测量性能，但使用 6x6 元素进行一次膨胀应该更快似乎是合乎逻辑的。[维基百科](http://en.wikipedia.org/wiki/Dilation_%28morphology%29)说二元膨胀是关联的。这意味着，如果一个 3x3 矩形与另一个这样的矩形扩张得到一个 6x6 矩形，那么实际上两个 3x3 的扩张等于一个 6x6 的扩张。

# machine-learning - 如何从这么多的id中找到异常的id

> ID：12171817
> 
> 赞同：5
> 
> 时间：2012-08-29T06:08:54.533
> 
> 标签：machine-learning, spam, spam-prevention

我们运行一个联盟计划。注册的用户在成功招募其他用户时可以获得积分。但是，垃圾邮件发送者正在滥用该程序，并自动注册大量帐户。我们希望通过关闭明显由机器生成的帐户来防止这种情况发生。我的想法是编写一个程序来识别机器生成的帐户名称，或者至少选择一个子集进行手动检查。

到目前为止，我们发现异常id有两种：

1.  第一个是有一些 id 看起来与其他的非常相似，例如：

    *   wss12345
    *   wss12346
    *   wss12347
    *   测试1
    *   测试2
    *   ...
2.  第二个是有一些id看起来像是随机生成的，没有规则，例如：

    *   MiDjiSxxiDekiE
    *   NiMjKhJixLy
    *   DAFDAB7643
    *   ...

对于第一个，我使用 Levenshtein(edit) 距离。这个方法可以找出一些id，在type 1中说明了。（我做过这个，可以得到很好的性能）

对于第二个，我可以计算 id 的概率，就像：

```
id = "DAFDAB7643:
p(id) = p(D)*p(A|D)*p(F|A)*p(D|F)*...*p(3|4) 
```

所以我可以用概率来过滤掉异常的id。（只是一个想法；我还没有尝试过。）

谁能给我关于这个话题的其他建议？我还能如何解决这个问题？你能看出我尝试中的缺陷或遗漏吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T20:43:09.433

1.  假设这些新帐户回溯到招聘人员的 ID，我会查看与给定招聘人员关联的新帐户的比率和/或绝对数量。

2.  对 IP 地址或类似地址的一些分析也可能表明多个用户是否来自同一台计算机。

3.  我会使用单词字典，并且与检测不良密码相反——人类用户名应该有字典单词、个人姓名、缺少标点符号、不包含重复字符、大部分是小写等。

4.  有点回到上面的 1\. ——如果招聘人员有一个异常紧密的 ID 集群，使用您已经确定的功能，将是一个很好的标志。我认为这可能是，本质上，@larsmans 直接在问题下发表评论。

我很想知道重新使用密码检查算法（第 3 项）是否有任何好处。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-30T03:42:26.740

你没有告诉我们你在运行什么样的网站，所以这有点投机；但是将 Stack Overflow 视为通过使用用户声誉系统成功促进良好行为并清除多种不良行为的主要示例。

一个快速的、骇人听闻的解决方法可能是在休眠招募帐户的数量增加时逐步从分数中扣除，但更有价值和引人注目的解决方法是为实际为网站内容做出贡献的人授予更高的声誉分数。但是，这取决于您拥有的网站类型；例如，股市提示网站显然与技术论坛的运作方式截然不同。

# html - CSS drop-down submenu text issue

> ID：12171824
> 
> 赞同：1
> 
> 时间：2012-08-29T06:09:39.003
> 
> 标签：html, css

Ok. So I have started to build a website, and I have tried to build a dropdown menu using css and html. The hover function for the submenu works. My only issue is, when you mouse over the menu to get to the submenu, I can't figure out how to change the font to black so it is visible.Here is a page where I am testing the code: [http://mcbtaytest.zymichost.com/](http://mcbtaytest.zymichost.com/)

Here is my code:

CSS:

```
body {margin:0;
    padding:0;
    background:#000000
}

.image{
    border: none;
    border:0px;
    margin:0px;
    padding:0px;
    z-index: -1;
}

.menu{
    border:none;
    border:0px;
    margin:0px;
    padding:0px;
    font: 67.5% "Lucida Sans Unicode", "Bitstream Vera Sans", "Trebuchet Unicode MS", "Lucida Grande", Verdana, Helvetica, sans-serif;
    font-size:14px;
    font-weight:bold;
    z-index:2;
}
.menu ul{
    background:#FFFFFF;
    height:50px;
    list-style:none;
    margin:0;
    padding:0;
    -webkit-border-radius: 15px;
    -moz-border-radius: 15px;
    border-radius: 15px;
    -webkit-box-shadow: inset 0px 16px 0px 0px rgba(255, 255, 255, .1);
    -moz-box-shadow: inset 0px 16px 0px 0px rgba(255, 255, 255, .1);
    box-shadow: inset 0px 16px 0px 0px rgba(255, 255, 255, .1);
}
.menu li{
    float:left;
    padding:0px 0px 0px 15px; 
}
.menu li a{
    color:#000000;
    display:block;
    font-weight:normal;
    line-height:50px;
    margin:0px;
    padding:0px 25px;
    text-align:center;
    text-decoration:none;
}
.menu li a:hover{
    background:#000000;
    color:#FFFFFF;
    text-decoration:none;
    -webkit-box-shadow: inset 0px 0px 7px 2px rgba(0, 0, 0, .3);
    -moz-box-shadow: inset 0px 0px 7px 2px rgba(0, 0, 0, .3);
    box-shadow: inset 0px 0px 7px 2px rgba(0, 0, 0, .3);
}
.menu ul li:hover a{
    background:#000000;
    color:#FFFFFF;
    text-decoration:none;
}
.menu li ul{
    display:none;
    height:auto;
    padding:0px;
    margin:0px;
    border:0px;
    position:absolute;
    width:200px;
    z-index:200;
}
.menu li:hover ul{
    display:block;      
}
.menu li li {
    display:block;
    float:none;
    margin:0px;
    padding:0px;
    width:200px;
    background:#FFFFFF;
    /*this is where the rounded corners for the dropdown disappears*/
}
.menu li:hover li a{
        background:none;
}
.menu li ul a{
                display:block;
        height:50px;
        font-size:12px;
        font-style:normal;
        margin:0px;
        padding:0px 10px 0px 15px;
        text-align:left;
}
.menu li ul a:hover, .menu li ul li:hover a{
    border:0px;
    color:#ffffff;
    text-decoration:none;
    background:#000000;
    -webkit-box-shadow: inset 0px 0px 7px 2px rgba(0, 0, 0, .3);
    -moz-box-shadow: inset 0px 0px 7px 2px rgba(0, 0, 0, .3);
    box-shadow: inset 0px 0px 7px 2px rgba(0, 0, 0, .3); 
} 
```

HTML:

```
<div class="image">   
    <img src="/Resources/img/Header.png" width=100% style={margin:0;padding:0;}/></img>
</div> 
<div class="menu">
    <ul>
        <li><a href="#" >Home</a></li>
        <li>
            <a href="#" id="current">About</a>
            <ul>
                <li><a href="#">Company Info</a></li>
            </ul>
</div> 
```

I for some reason can't figure out how to solve this.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:33:34.083

我对你的 html 做了一些更改（它被破坏了，一些元素是多余的）和你的 css （删除了一些选择器并重写了其他的）。

这和[你](http://jsfiddle.net/9aZ9r/)想要的一样吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:15:01.363

**编辑：**

更改以下行

```
.menu ul li:hover a 
```

用这条线；

```
.menu ul li:hover > a 
```

现在更具体了。

## [看演示](http://jsfiddle.net/akhurshid/AyQyV/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T06:21:49.527

补充：`color:#000`_`.menu li:hover li a`

```
.menu li:hover li a{
    background:none;
    color:#000;

 } 
```

# mongodb - why I can't create an index in mongodb?

> ID：12171825
> 
> 赞同：2
> 
> 时间：2012-08-29T06:09:40.457
> 
> 标签：mongodb, database

I have a collection in mongodb where i can't create an index

this is a field, i want make index.

```
"indexContents" : ["‘", "‘e", "‘ea", "‘eat", "e", "ea", "eat", "a", "at", "t", "&", "d", "dr", "dri", "drin", "drink", "drink’", "r", "ri", "rin", "rink", "rink’", "i", "in", "ink", "ink’", "n", "nk", "nk’", "k", "k’", "’"] 
```

what's wrong in my field?

I can index, title, street, everything just fine.

However when I created index that contain indexContents I got this error:

```
Wed Aug 29 05:50:33 Socket recv() errno:104 Connection reset by peer 127.0.0.1:27017
Wed Aug 29 05:50:33 SocketException: remote: 127.0.0.1:27017 error: 9001 socket exception [1] server [127.0.0.1:27017]
Wed Aug 29 05:50:34 DBClientCursor::init call() failed
Wed Aug 29 05:50:34 query failed : hello.$cmd { getlasterror: 1.0 } to: 127.0.0.1
Wed Aug 29 05:50:34 Error: error doing query: failed shell/collection.js:151
Wed Aug 29 05:50:34 trying reconnect to 127.0.0.1
Wed Aug 29 05:50:34 reconnect 127.0.0.1 failed couldn't connect to server 127.0.0.1 
```

I think one of the data is "messed up" but which one out of 1.6 million data?

update: I already repairDatabase but i got the same resutl, can't create indexContent

Notice other ensure index is fine.

For example, I can index indexContents alone fine

I can index {LongitudeLatitude:"2d",Prominent:1}

{indexContents:1} fine

Things fail if when I tried to index

{LongitudeLatitude:"2d",indexContents:1,Prominent:1}

# java - 如何创建适用于 Google App Engine 和本地 tomcat 服务器的应用程序？

> ID：12171835
> 
> 赞同：1
> 
> 时间：2012-08-29T06:10:31.127
> 
> 标签：java, google-app-engine

我正在创建一个基于 java 的应用程序，我想使用谷歌应用引擎进行部署。但我希望这个应用程序可以移动到我本地或其他机器上的其他服务器，如 tomcat 等。所以我虽然想使用谷歌应用引擎。但是想让我的应用程序独立于任何谷歌特定的东西。有人可以总结一下我必须注意的要点。我想让它独立于应用程序和数据库层的角度。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T06:29:04.947

虽然我不是谷歌应用引擎的大师，但是让你的 webapp 可移植的经验法则是使用标准规范 API 而不是供应商特定的 API。例如，如果您的应用正在使用 google 应用引擎 UserServive (com.google.appengine.api.users.UserService) 或数据存储 com.google.appengine.api.datastore.DatastoreService ，如果与 Google 应用引擎紧密绑定并且不能迁移到独立的tomcat引擎。要松散耦合您的数据库以进行进一步迁移，您应该考虑在谷歌应用引擎中使用 MySQl 模式。因为将来您可以通过转储在任何地方托管您的数据库。此外，您应该使用 JDBC apis/JPA 从您的应用程序中使用[MySQL JDBC JAR进行数据库操作](http://www.mysql.com/downloads/connector/j/)

总而言之，您应该避免任何在您的源代码中导入了 com.google.appengine* 的 API 调用。此外，您应该在谷歌应用引擎云中运行自己的 mysql 架构。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T16:17:28.657

我认为你可以，这只是设计问题。举个例子：如果你的应用需要用户认证，你可以创建一个接口`AuthenticationService`和两个实现：

*   `GAEAuthenticationService`谷歌应用引擎
*   `FakeAuthenticationService`*对于使用码头*运行的本地测试（例如）
*   `DataSourceAuthenticationService`用于基于 a 的身份验证`DataSource`

您可以对持久性、调度程序等进行同样的思考……唯一要做的是：

***定义所需的对象并在需要依赖于平台的不同实现时使用接口***

# drupal - Drupal 7 User Edit White Screen Page?

> ID：12171838
> 
> 赞同：2
> 
> 时间：2012-08-29T06:10:37.100
> 
> 标签：drupal, admin, edit

In Drupal 7, when i goto `http://....com/admin/people` and then click `Edit` on any user there, then a blank white screen is appearing.

This user edit url is like: `http://......com/user/1234/edit?destination=admin/people`

Not even a line of error. Just blank white.
What should i do?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T04:03:37.357

您可以在点击白屏后转到 /admin/reports/dblog，您应该会在该报告中看到错误。

这将帮助您找到破坏页面的错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-01T12:28:59.533

我知道这可能会迟到，但它帮助了我。大多数时候一个模块会导致 WSOD，我不能只禁用模块来测试它是什么，因为我可能在这个过程中丢失了数据。我所做的是在 module.inc 中编辑这个函数

```
function module_invoke_all($hook) {
  $args = func_get_args();
  // Remove $hook from the arguments.
  unset($args[0]);
  $return = array();
  foreach (module_implements($hook) as $module) {

        print "Starting loading $module <br />";

        $function = $module . '_' . $hook;
        if (function_exists($function)) {
          $result = call_user_func_array($function, $args);
          if (isset($result) && is_array($result)) {
            $return = array_merge_recursive($return, $result);
          }
          elseif (isset($result)) {
            $return[] = $result;
          }
        }

        print "Finished loading $module <br />";

  }

  return $return;
} 
```

我在上面的代码中添加了这 2 个打印语句，然后刷新页面，没有达到“完成加载 $module”语句的模块是有问题的模块......在我的情况下是开发的。

找到模块后，您可以进入系统表并查找该模块，将其设置为 status = 0 和 bootstrap = 0 或运行查询：

```
UPDATE system SET status = 0, bootstrap = 0 WHERE name = 'module_name' LIMIT 1 
```

# php - php conditional mixed insert and update of mysql from csv

> ID：12171843
> 
> 赞同：0
> 
> 时间：2012-08-29T06:11:08.493
> 
> 标签：php, mysql, csv, import, insert-update

I have a set of csv files to add to or update several tables. The csv data is a mix of old (possibly changed) records and new.

That means during the import I have to check whether that record exists - updating if it does and inserting if not. To add to the fun the unique columns are mostly guid format and are not the first in the listing.

Ultimately I want to use an array of file names and the column used in each for searching and iterate through that to automate the import.

So I have been adapting ideas found in my searches here and have succeeded in getting the insert to work but I just cannot construct an effective update instruction.

In the code I am echoing the mysql so I can see (and check via phpAdmin) what is going on. I just cannot get any content out of $settin

```
$con= mysql_connect("my_connection_details");
mysql_select_db('issuetest');
function csv_file_to_mysql_table($source_file, $target_table, $fieln, $max_line_length=0) {
    if (($handle = fopen("$source_file", "r")) !== FALSE) {
        $columns = fgetcsv($handle, $max_line_length, ",");
        $key = array_search($fieln, $columns);
        foreach ($columns as &$column) {
            $column = str_replace(".","",$column);
        }
        $insert_prefix = "INSERT INTO $target_table (".join(",",$columns).")\nVALUES";
        $update_prefix = "UPDATE $target_table SET ";
        while (($data = fgetcsv($handle, $max_line_length, ",")) !== FALSE) {
            while (count($data)<count($columns)){
            array_push($data, NULL);
            }
            $sql="SELECT $fieln FROM  $target_table WHERE $fieln='$data[$key]'";
            if(mysql_num_rows(mysql_query($sql))=='0'){
                $query = "$insert_prefix (".join(",",quote_all_array($data)).");";
                }else{
                $settin='';
                $i='0';
                reset($data);
                reset ($columns);
                while (count($data)<count($columns)){
                    if($i=='0'){$settin.="$columns[$i] ='".$data[$i]."'";   
                        }else{$settin.=",$columns[$i]='".$data[$i]."'"; 
                    }
                    $i++;
                }
                $query = "$update_prefix $settin  WHERE $fieln='$data[$key]';";
            }
            echo $query;
        }
        fclose($handle);
    }
}

function quote_all_array($values) {
    foreach ($values as $key=>$value)
    if (is_array($value))
    $values[$key] = quote_all_array($value);
    else
    $values[$key] = quote_all($value);
    return $values;
}

function quote_all($value) {
    if (is_null($value))
    return "NULL";
    $value = "'" . mysql_real_escape_string($value) . "'";
    return $value;
} 
//$fiel is name of field to check 
//fileN ia name of csv file
//$tabname is table to insert into
$fiel='my_field';
$tabname='my_table';
$fileN='my_csv';

$fg=csv_file_to_mysql_table($fileN,$tabname,$fiel); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:40:41.653

我不明白这是怎么回事

```
while(count($data)<count($columns)) 
```

会永远改变也许你的意思是

```
$min= min(count($data),count($columns));
    while($i<$min) 
```

# mysql - 在 SELECT 语句的其他列中使用别名

> ID：12171846
> 
> 赞同：3
> 
> 时间：2012-08-29T06:11:16.707
> 
> 标签：mysql, select, alias

我希望对我的`SELECT`查询和列做一些基本的数学运算..

```
SELECT Rider, 
COUNT(if(Result = 1, Result, NULL)) AS "Firsts", 
COUNT(if(Result = 2, Result, NULL)) AS "Seconds", 
COUNT(if(Result = 3, Result, NULL)) AS "Thirds", 
COUNT(if(Result = " ", Result, NULL)) AS "NP",
COUNT(*) AS "Total",
"Firsts"/"Total"*100 AS "S/R"
FROM meeting_master
WHERE RaceDayDate>="2012-01-01"
GROUP BY meeting_master.Rider
ORDER BY Firsts DESC
LIMIT 100 
```

我的问题（并且缺乏 MySQL 知识）是让`S/R`列计算第 7 行中的数学...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:15:48.550

你不应该像这样使用*别名*`SELECT`：

```
"Firsts"/"Total"*100 AS "S/R" 
```

而是像这样直接计算：

```
COUNT(if(Result = 1, Result, NULL))/COUNT(*) * 100 AS "S/R" 
```

所以你的查询应该是：

```
SELECT Rider, 
COUNT(if(Result = 1, Result, NULL)) AS "Firsts", 
COUNT(if(Result = 2, Result, NULL)) AS "Seconds", 
COUNT(if(Result = 3, Result, NULL)) AS "Thirds", 
COUNT(if(Result = " ", Result, NULL)) AS "NP",
COUNT(*) AS "Total",
COUNT(if(Result = 1, Result, NULL))/COUNT(*) * 100 AS "S/R"
FROM meeting_master
WHERE RaceDayDate>="2012-01-01"
GROUP BY meeting_master.Rider
ORDER BY Firsts DESC
LIMIT 100 
```

[只需在此处查看 SQLFiddle 示例。](http://sqlfiddle.com/#!2/ff99b/15)

# blackberry - Distinguish events from different button fields

> ID：12171852
> 
> 赞同：-1
> 
> 时间：2012-08-29T06:11:51.217
> 
> 标签：blackberry, java-me

I have a `for` loop that creates ButtonFields with identical text values. I want to get a distinct event from each of those buttons, which tells me which index of the `for` loop created the button. I don't want to create an anonymous class for each ButtonField.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:29:42.530

如果他们一一进行（我从您的帖子中假设），您可以记住`fieldChanged`方法中下一个代码中第一个使用的索引：

```
if (field instanceof ButtonField) {
   int buttonIndex = field.getManager().getFieldIndex(field) - zeroButtonInex;
} 
```

不要忘记分配`FieldChangeListener`给这些按钮中的每一个。

或者确保您可以从`ButtonField`（可以匿名）创建新课程，您可以在其中保存索引并为其设置吸气剂。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-29T06:30:08.267

您已将按钮添加到数组中。我会给你一个想法来试试这个：

```
private ButtonField buttonsObj[]; 
```

在`for`循环之前的代码中，您知道按钮的数量，因此您可以初始化数组长度。

```
int size = 10;
buttonsObj = new ButtonFields[size];
for(int i = 0; i < size; i++)
{
    buttonsObj[i] = new ButtonFields["btn"];

    buttonsObj[i].setChangeListener(this);
    add(buttonsObj[i]);
}

public void fieldChanged(Field field, int context) {
    for(int i=0;i<size;i++) {
        if(field == buttonsObj[i]) {
            // you can trigger your event 
        }
    }
} 
```

# php - 多维关联数组交集php

> ID：12171855
> 
> 赞同：4
> 
> 时间：2012-08-29T06:12:04.990
> 
> 标签：php, multidimensional-array

我有两个多维数组

```
$array1 = Array (
   [a1] => Array  (
           [a_name] => aaaaa
           [a_value] => aaa
         )

   [b1] => Array (
           [b_name] => bbbbb
           [b_value] => bbb
       )
   [c1] => Array (
           [c_name] => ccccc
           [c_value] => ccc
       )

 )

$array2 = Array (
     [b1] => Array (
           [b_name]=> zzzzz
         )
  ) 
```

`$array1`我想要和的键的交集`$array2`。结果必须来自`$array1`。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-29T08:26:44.123

```
function recursive_array_intersect_key(array $array1, array $array2) {
    $array1 = array_intersect_key($array1, $array2);
    foreach ($array1 as $key => &$value) {
        if (is_array($value) && is_array($array2[$key])) {
            $value = recursive_array_intersect_key($value, $array2[$key]);
        }
    }
    return $array1;
} 
```

演示[在这里](http://codepad.org/CiJc7n2m)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:44:21.277

```
$output = array_intersect_key($array1, $array2); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-17T21:45:50.540

## PHP中二维关联数组交集的演示

**编码：**

```
<?php
    function compare_states($a1, $a2){
        $diff1 = strcasecmp($a1['state_id'], $a2['state_id']);
        $diff2 = strcasecmp($a1['state_name'], $a2['state_name']);
        if ($diff1 != 0) return $diff1;
        if ($diff2 != 0) return $diff2;
        return 0;
    }
    function calculate_intersection($a1, $a2){
        return array_uintersect($a1, $a2, 'compare_states');
    }
?> 
```

**如何运行它：**

```
<?php
    $a = Array(Array("state_id"=>14, "state_name"=>"Illinois"));
    $b = Array(Array("state_id"=>14, "state_name"=>"Illinois"));
    $new = calculate_intersection($a, $b);
    print_r($a);
    //in this simple case, the intersection is equivalent to $a.
    $a = Array(Array("state_id"=>14, "state_name"=>"Illinois"));
    $b = Array(Array("state_id"=>14, "state_name"=>"Foobar"));
    $new = calculate_intersection($a, $b);
    print_r($a);
    //in this case, the intersection is empty.
?> 
```

**单元测试以证明上述代码按设计工作：**

```
$a = Array();
$b = Array();
$new = calculate_intersection($a, $b);
print "\nGroup1\n";
print ((count($new) == count($a) && count($a) == count($b)) ? "." : "FAIL");
print ((count($new) == 0) ? "." : "FAIL");
//==============================================
$a = Array(Array("state_id"=>14, "state_name"=>"Illinois"));
$b = Array(Array("state_id"=>14, "state_name"=>"Illinois"));
$new = calculate_intersection($a, $b);
print "\nGroup2\n";
print ((count($new) == count($a) && count($a) == count($b)) ? "." : "FAIL");
print ((count($new) == 1) ? "." : "FAIL");
print (($new[0]['state_id'] == 14 ? "." : "FAIL"));
print (($new[0]['state_name'] == "Illinois" ? "." : "FAIL"));
//==============================================
print "\nGroup3\n";
$a = Array(Array("state_id"=>14, "state_name"=>"Illinois"), Array("state_id"=> "22", "state_name"=>"Massachusetts"));
$b = Array(Array("state_id"=>14, "state_name"=>"Illinois"), Array("state_id"=> "22", "state_name"=>"Massachusetts"));
$new = calculate_intersection($a, $b);
print ((count($new) == count($a) && count($a) == count($b)) ? "." : "FAIL");
print (($new[0]['state_id'] == 14 ? "." : "FAIL"));
print (($new[0]['state_name'] == "Illinois" ? "." : "FAIL"));
print (($new[1]['state_id'] == 22 ? "." : "FAIL"));
print (($new[1]['state_name'] == "Massachusetts" ? "." : "FAIL"));
//==============================================
$a = Array(Array("state_id"=>"14", "state_name"=>"Illinois"));
$b = Array(Array("state_id"=>"22", "state_name"=>"Massachusetts"));
$new = calculate_intersection($a, $b);
print "\nGroup5\n";
print ((count($new) == 0) ? "." : "FAIL");
//==============================================
$a = Array(Array("state_id"=>"14", "state_name"=>"Illinois"));
$b = Array(Array("state_id"=>"14", "state_name"=>"Illinois"), Array("state_id"=>"22", "state_name"=>"Massachusetts"));
$new = calculate_intersection($a, $b);
print "\nGroup6\n";
print ((count($new) == 1) ? "." : "FAIL");
print (($new[0]['state_id'] == 14) ? "." : "FAIL");
print (($new[0]['state_name'] == "Illinois") ? "." : "FAIL");
//==============================================
$a = Array(Array("state_id"=>"14", "state_name"=>"Illinois"));
$b = Array(Array("state_id"=>"22", "state_name"=>"Massachusetts"), Array("state_id"=>"14", "state_name"=>"Illinois"));
$new = calculate_intersection($a, $b);
print "\nGroup7\n";
print ((count($new) == 1) ? "." : "FAIL");
print (($new[0]['state_id'] == 14) ? "." : "FAIL");
print (($new[0]['state_name'] == "Illinois") ? "." : "FAIL");
//==============================================
$a = Array(Array("state_id"=>"14", "state_name"=>"Illinois"));
$b = Array(Array("state_id"=>"22", "state_name"=>"Massachusetts"), Array("state_id"=>"14", "state_name"=>"Fromulate"));
$new = calculate_intersection($a, $b);
print "\nGroup8\n";
print ((count($new) == 0) ? "." : "FAIL");
//==============================================
$a = Array(Array("state_id"=>"14", "state_name"=>"Illinois"), Array("state_id"=>"14", "state_name"=>"Illinois"));
$b = Array(Array("state_id"=>"14", "state_name"=>"Illinois"), Array("state_id"=>"14", "state_name"=>"Illinois"));
$new = calculate_intersection($a, $b);
print "\nGroup9\n";
print ((count($new) == 2) ? "." : "FAIL");
print (($new[0]['state_id'] == 14) ? "." : "FAIL");
print (($new[0]['state_name'] == "Illinois") ? "." : "FAIL");
print (($new[1]['state_id'] == 14) ? "." : "FAIL");
print (($new[1]['state_name'] == "Illinois") ? "." : "FAIL");
//==============================================
$a = Array(Array("state_id"=>"14", "state_name"=>"Illinois"), Array("state_id"=>"22", "state_name"=>"Massachusetts"));
$b = Array(Array("state_id"=>"22", "state_name"=>"Massachusetts"), Array("state_id"=>"14", "state_name"=>"Illinois"));
$new = calculate_intersection($a, $b);
print "\nGroup7\n";
print ((count($new) == 2) ? "." : "FAIL");
print (($new[0]['state_id'] == 14) ? "." : "FAIL");
print (($new[0]['state_name'] == "Illinois") ? "." : "FAIL");
print (($new[1]['state_id'] == 22) ? "." : "FAIL");
print (($new[1]['state_name'] == "Massachusetts") ? "." : "FAIL");
?> 
```

**上面的代码打印：**

```
eric@dev $ php a.php
Group1
..
Group2
....
Group3
.....
Group5
.
Group6
...
Group7
...
Group8
.
Group9
.....
Group7
..... 
```

所有的点意味着一切都过去了。

**此代码处理哪些情况？**

1.  两个数组都是空的。路口是空的。
2.  一个是空的，另一个是物品。路口是空的。
3.  两个数组都有相同的项目，set: 1 和 set: n。交集相当于第一个数组。
4.  两个数组是相同的，除了洗牌。交集相当于第一个数组。
5.  除了 state_name 在每种情况下不同之外，这些数组都是相同的，并且 state_id 是相同的。路口是空的。
6.  数组 a 有 b 不常见的项目，b 有共同的项目。数组 b 有 a 不常见的项目和 A 共同的项目。交集是 a 和 b 共同的项目。

**它不做什么：**

它不会测试空值/未定义/不同深度数组，也不会测试 2 层或更多层深的数组。如果数据类型被交换，将字符串与整数进行比较，或者将浮点数与八进制进行比较，它可能会失败。很难让 PHP 正确地做相等。[http://eev.ee/blog/2012/04/09/php-a-fractal-of-bad-design/](http://eev.ee/blog/2012/04/09/php-a-fractal-of-bad-design/)

尽你所能尝试在数据库中完成这项工作，在 PHP 中完成这项工作会吹响号角来召唤失败的鲸鱼。这是低效的，所以你最好不要对超过几百个项目进行操作。在意外情况下左戳你会让你感到惊讶，而且很难阅读/理解它在幕后所做的事情。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2014-05-26T17:46:50.577

我认为您也应该检查 $array2[$key] 是否也是一个数组。

```
function recursive_array_intersect_key(array $array1, array $array2) {
    $array1 = array_intersect_key($array1, $array2);
    foreach ($array1 as $key => &$value) {
        if (is_array($value) && is_array($array2[$key])) {
            $value = recursive_array_intersect_key($value, $array2[$key]);
        }
    }
    return $array1;
} 
```

# opengl - is there any way to bin an 3d surface created in CUDA to an OpenGL texture?

> ID：12171857
> 
> 赞同：1
> 
> 时间：2012-08-29T06:12:34.217
> 
> 标签：opengl, cuda, glsl, textures

here is the scenario: I pass an 3D OpenGL Texture to CUDA by cudaBindTextureToArray transforming it with a non rigid transformation and writed it to a 3d surface and then I want to pass it by a texture to GLSL shader for volume rendering. and GLSL only knows texture id?how I use this 3d surface as an ordinary OpenGL texture?

**pseudo code**

craete a texture with opengl like this

```
glTexImage3D(GL_TEXTURE_3D, 0,............); 
```

pass it to cuda

create and fill a surface with

```
cutilSafeCall(cudaBindSurfaceToArray(volumeTexOut, outTexture->content));
......
..
  cutilSafeCall( cudaMalloc3DArray(&vol->content, &vol->channelDesc, dataSize,  cudaArraySurfaceLoadStore ) ); 
```

after transformation,..

```
 surf3Dwrite(short(voxel), volumeTexOut, sizeof(short)*x1,y1, z1); 
```

and now i want to use this surface as an opengl Texture and pass it to GLSL

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-31T02:46:23.570

更新：下面建议的 API 相当陈旧，已被弃用。请参阅 CUDA 的当前[图形互操作 API](https://docs.nvidia.com/cuda/cuda-runtime-api/group__CUDART__INTEROP.html#group__CUDART__INTEROP)

CUDA OpenGL 互操作（不幸的是）是一种单向 API：要在 CUDA 和 OpenGL 之间进行互操作，您必须使用 OpenGL 分配 GL 代码中所需的所有内存，然后将其绑定到 CUDA 数组或设备指针，以便在 CUDA 中访问它。您不能做相反的事情（使用 CUDA 分配内存并从 OpenGL 访问它）。这适用于由 CUDA 读取或写入的数据。

因此，对于您的输出，您希望在 OpenGL 中分配 3D 纹理，*而不是*使用`cudaMalloc3DArray()`. 然后您想使用 调用`cudaGraphicsGLRegisterImage`，`cudaGraphicsRegisterFlagsSurfaceLoadStore`然后使用 将表面绑定到结果数组`cudaBindSurfaceToArray`。这在 CUDA 4.2 CUDA C 编程指南的第 3.2.11.1 节中进行了讨论。CUDA 参考指南提供了关于我提到的功能的完整文档。

请注意，表面写入需要计算能力 2.0 或更高的 GPU。

# objective-c - 无需在 iPad 中实际滑动即可滑动？

> ID：12171858
> 
> 赞同：0
> 
> 时间：2012-08-29T06:12:35.227
> 
> 标签：objective-c, ipad, swipe, uiswipegesturerecognizer

当我点击一个按钮时，是否可以在 iPad 中让视图向左或向右移动，而不是在视图上实际滑动。

当我在搜索屏幕后的屏幕中时可以在 iPad 上看到这一点，我安装了一个应用程序，屏幕自行向左移动，应用程序位于正确的位置并开始安装。

任何建议都会有所帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:22:26.553

主屏幕实际上是`UIScrollView`启用了分页的。`scrollRectToVisible`因此，如果安装了新应用程序，它只会移动到下一页（带有）。所以如果你想要这样的东西，我想你必须实现一个 paging `UIScrollView`。只需搜索它，您就会发现很多很好的教程。

一些进一步的资源：

*   [`UIScrollView`参考文件](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIScrollView_Class/Reference/UIScrollView.html)

*   [分页`UIScrollView`教程](http://eureka.ykyuen.info/2010/05/22/iphone-uiscrollview-with-paging-example/)

# file - 设置文件路径在 在 Struts2 中打开编辑模式

> ID：12171865
> 
> 赞同：1
> 
> 时间：2012-08-29T06:12:55.820
> 
> 标签：file, file-upload, struts2, struts

我的 struts2 表单中有一个文件上传字段，例如：

`<s:file label="Upload" name="file" id="file" size="40" cssClass="width284" value="%{file}"/>`

这非常适合上传文件，现在当我`open this form again in edit mode`编辑信息时，`i got this file field empty`即在文件浏览器文本框中找不到文件名（带路径）。我有文件对象的 getter/setter 方法，并且我在 pojo 对象中设置了文件，我得到了结果。

我还在文件标签中设置了值，但仍然没有在文件标签的文本框中获取文件名。

我不知道这是怎么发生的，任何人都知道。
先谢谢了。

**编辑了**
我的 JSP 文件：-

```
<form name="library" id="library" method="post" action="addlibrary" enctype="multipart/form-data" >
<div><s:textfield name="title" value="%{title}" id="title" label="Title" cssClass="width284"/><span class="red">*</span><div>
<div><s:file label="Upload" name="file" id="file" size="40" cssClass="width284" value="%{file}" /></div>
<div><span class="submit" ><s:submit name="submit" value="Add to Library" cssStyle="width:130px;"></s:submit></span> </div> 
```

打开编辑时我的动作类代码：-

```
private File file;
private String fileContentType;
private String fileFileName;    

public String edit() {
    if (this.object.getId() == 0) {
        this.object = null;
        return SUCCESS;
    } else {
        this.object = this.objectDAO.getobjectContent(this.object.getId());
        String filePath = "d:\\myProject\\Documents\\"+ this.object.getFileName();
        this.file = new File(filePath);
        return INPUT;
    }
} 
```

# php - PHP 和编译

> ID：12171867
> 
> 赞同：-1
> 
> 时间：2012-08-29T06:13:00.310
> 
> 标签：php

据我所知，PHP 是解释性语言，虽然它是一种解释性语言，但它如何检测整个项目的编译错误，如果它在不生成目标代码的情况下编译，那么编译需要什么？仅用于语法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:20:35.950

我相信 PHP 被编译成一个内部数据结构，而这个内部结构就是被执行的。运行时在执行时不会逐行读取实际的程序源代码。因此，“编译”阶段意味着源代码正在被转换为这种内部数据结构。那时，语法也会被验证，语法错误将阻止页面执行。

通常，PHP 必须对每个请求进行此解析。这使得 PHP 有点慢。但是，您可以使用 http://php.net/manual/en/book.apc.php 来缓存已解析的代码，这样可以避免每次都重新解析，从而显着提高速度。

此外，还有各种 PHP 实现实际上将 PHP 源代码编译为字节码或本机代码。从我看到的性能信息来看，编译对速度没有太大影响，但它确实（在 Facebook 的编译器的情况下）显着减少了 RAM 消耗。

# java - 如何使用 Dozer 将简单的 ArrayList 映射到 VO

> ID：12171868
> 
> 赞同：0
> 
> 时间：2012-08-29T06:13:05.317
> 
> 标签：java, dozer

我正在使用 Dozer 转换我的对象。但是我在映射一个简单的列表时遇到了问题......我`ResultSet`从`Hibernate`一个中检索一个`Object List`，我想将它映射到我的复杂类型对象。

所以，我的来源是这样的：

```
List < Object > list = new ArrayList< Object > ();
list.add("Name");
list.add("Address"); 
```

我的价值对象是：

```
public class MyClass 
{ 
    public String name; 
    public String address; 
} 
```

我只想映射`list[0]`==>`MyClass.name`和`list[1]`==>`MyClass.address`属性，但我不知道如何...

谢谢你的帮助 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T16:55:20.240

出于某种原因，Dozer**不**支持这一点（理想情况）：

```
<mapping>
    <class-a>MyClass</class-a>
    <class-b>java.util.List</class-b>       
    <field>          
        <a is-accessible="true">name</a>
        <b>this[0]</b>
    </field>        
</mapping> 
```

它只会映射到`name`的整个字符串表示形式`List`，因此您的`name`属性最终会得到值*[Name, Address]*。

您最好的选择是将您`List`放入一个**持有者**类并像这样映射它：

```
<mapping>
    <class-a>MyClass</class-a>
    <class-b>MyHolder</class-b>     
    <field>          
        <a is-accessible="true">name</a>
        <b>holded[0]</b>
    </field>
    <field>          
        <a is-accessible="true">address</a>
        <b>holded[1]</b>
    </field>    
</mapping> 
```

`MyHolder`类只`List`在字段中包含您的实例，`holded`并使用 getter 方法提供对它的访问。

在字段中映射`is-accessible="true"`是必需的，因为`MyClass`属性是`public`并且没有访问器。我建议您创建这些属性`private`并创建访问器方法。

# java - Eclipse：构造函数调用必须是第一条语句

> ID：12171878
> 
> 赞同：1
> 
> 时间：2012-08-29T06:13:42.367
> 
> 标签：java

为什么即使第一条语句是构造函数调用，我也会收到“this(10)”的此错误。我正在使用日食。

```
public class MaxIndependentSet {
    private ArrayList<Integer> inputArr = new ArrayList<Integer>();

    public void MaxIndependentSet(int size) {
        inputArr.ensureCapacity(size);
    }

    public void MaxIndependentSet() {
        this(10);
    }
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-29T06:14:25.823

您在`void`构造函数中添加了不正确的返回类型。

构造函数的返回类型是它的类类型，它是隐式声明的，如下所示：

```
public MaxIndependentSet() {
    // blah
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:21:54.623

```
public void MaxIndependentSet() {
        this(10);
    } 
```

在您的代码中，您添加了 void 类型，但它是一个构造函数。

构造函数和方法在签名的三个方面有所不同：修饰符、返回类型和名称。与方法一样，构造函数可以具有任何访问修饰符：public、protected、private 或 none（通常称为包或友好）。与方法不同，构造函数只能使用访问修饰符。因此，构造函数不能是抽象的、最终的、本机的、静态的或同步的。

构造函数没有返回类型，甚至没有 void。

只写代码

```
public MaxIndependentSet() {
        this(10);
    } 
```

# php - 将字符串拆分为数组并按块显示

> ID：12171881
> 
> 赞同：0
> 
> 时间：2012-08-29T06:13:55.363
> 
> 标签：php, string

```
foreach($files as $file) {
    $xname = basename($file['name'],'.jpg');
    $tmp = preg_split("/[\s,-]+/",$xname,-1, PREG_SPLIT_NO_EMPTY);

    echo "<pre>";
    print_r($tmp);
    echo "</pre>"; 
```

这是示例字符串“LR-147-TKW FLOWER RECT MIRROR FRAME”

我有这行代码将我的字符串拆分为数组。我想要它做的是获取前 3 个单词，即“LR-147-TKW”并将其存储到一个变量中。我怎样才能做到这一点？我的数组输出是这个`0] => BR [1] => 139 [2] => TKW [3] => DRESSER [4] => BUFFET [5] => MIRROR`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:26:41.660

您可以使用[explode()](http://php.net/manual/en/function.explode.php)，这里有一些示例：

```
<?php 
$str = 'LR-147-TKW FLOWER RECT MIRROR FRAME';
$parts = explode(' ',$str);

print_r($parts);
/*
Array
(
    [0] => LR-147-TKW
    [1] => FLOWER
    [2] => RECT
    [3] => MIRROR
    [4] => FRAME
)

*/

$serial_parts = explode('-',$parts[0]);
print_r($serial_parts);
/*
Array
(
    [0] => LR
    [1] => 147
    [2] => TKW
)

*/

$full = array_merge($serial_parts,$parts);
print_r($full);
/*
Array
(
    [0] => LR
    [1] => 147
    [2] => TKW
    [3] => LR-147-TKW
    [4] => FLOWER
    [5] => RECT
    [6] => MIRROR
    [7] => FRAME
)

*/
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:19:58.217

这实际上对您当前的输入有用。执行这行代码后，$tmp 将包含 LR-147-TKW：

```
list($tmp) = explode(' ', $input); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T06:20:03.447

如何使用[`explode`](http://il.php.net/manual/en/function.explode.php)：

```
$arr = explode(' ',$file);
echo arr[0]; 
```

对于这样一个简单的任务，使用`preg_split`有点矫枉过正......

如果要避免使用数组，可以使用[strpos](http://www.php.net/manual/en/function.strpos.php)和[substr](http://il.php.net/manual/en/function.substr.php)来完成：

```
$pos = strpos($file, ' ');
echo substr('abcdef', 0, $pos); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T06:21:19.247

这是因为`preg_split("/[\s,-]+/",...`在出现逗号、减号或空格的地方拆分字符串。将其更改为`preg_split("/[\s,]+/",...)`，它应该为您提供正确的数组。

请注意，如果您这样做，您的函数将不会拆分像`WELL-SPOKEN`. 它将成为您数组中的一个条目。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-29T06:21:46.547

考虑到您的字符串具有相同的模式。

$str = "LR-147-TKW 花矩形镜框";

$str1 = 爆炸(' ',$str);

回声 $str1[0];

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-08-29T06:20:39.697

添加到您的代码中：

```
$tmp = array_slice($tmp,0,3); 
```

# cocoa - 适用于 Mac 的 Tweetbot 就像捕捉窗口一样

> ID：12171885
> 
> 赞同：1
> 
> 时间：2012-08-29T06:14:21.420
> 
> 标签：cocoa, nswindow, snapping

我正在尝试重现最后一个 Mac 版 Tweetbot 的窗口捕捉/合并功能。如果您有 2 个窗口并且将一个窗口靠近另一个窗口，它们会捕捉并合并在一个窗口中。

你知道我该怎么做吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-03T00:45:27.363

Indragie Karunaratne (@Indragie) 创建了一个 NSWindow 子类来做到这一点。

[https://github.com/indragiek/INDockableWindow](https://github.com/indragiek/INDockableWindow)

# visual-studio-2010 - Visual Studio 2010 for C++ 中使用 Visual Assist X 的缩进

> ID：12171886
> 
> 赞同：1
> 
> 时间：2012-08-29T06:14:24.930
> 
> 标签：visual-studio-2010, indentation, visual-assist

我在 C++ 中遇到了一些令人讨厌的缩进（使用 Visual Studio 2010 和 Visual Assist X）。

问题是每次我想在输入`ctrl+enter`and后开始新行时`ctrl+shift+enter`，光标都会从新行的开头开始。在使用任何大括号内的热键时，这个事实让我非常恼火。例如，

```
for (int i = 0; i < n; i ++) {
    std::cout << "say something" /* press `ctrl+shift+enter` here*/ << std::endl;
!   |<--
} 
```

按下热键后（不在行尾的地方，例如上面的注释`/*...*/`处），光标将位于起始位置（参见`!`上面的代码）。我想要的是自动将光标放在与前一行相同的缩进的新行中（请参阅 参考资料`|<--`）。

我怎样才能做到这一点？非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-30T03:14:36.553

这是[全番茄软件支持论坛的答案](http://forums.wholetomato.com/forum/topic.asp?whichpage=1&TOPIC_ID=10899)

# django - Django：django模型的建议

> ID：12171892
> 
> 赞同：1
> 
> 时间：2012-08-29T06:14:39.817
> 
> 标签：django, orm, django-models, tags

我正在使用 django 模型来创建我的数据库。

这是我的用户类

```
class User(models.Model):
    user_name = models.CharField(max_length=100,null = False)   
    first_name = models.CharField(max_length=100)
    middle_name = models.CharField(max_length=100)
    last_name = models.CharField(max_length=100)
    tags = here what to do ? 
```

现在我计划为用户添加标签，以便用户可以选择标签（也可以是多个标签）这是我的标签类

```
Class Tags(models.Model)

   tag = models.CharField() 
```

我的问题是我应该使用哪个关系来引用用户表中的标签（外键或 Manytomany）

注意：将来我将根据标签搜索用户，所以请建议我更好的方法来做到这一点

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:35:30.023

使用多对多关系：不同的用户可能使用相同的标签，而单个用户`User`将有多个标签：

```
tags= models.ManyToManyField(Tags, verbose_name="list of tags") 
```

无论如何，您不必为 实现模型`User`，django 附带了一个用户模型。请参阅文档：

*   [Django 文档](https://docs.djangoproject.com/en/dev/topics/auth/)
*   [姜戈书](http://www.djangobook.com/en/beta/chapter12/)

# javascript - 带有滚动导航的对角视差

> ID：12171893
> 
> 赞同：1
> 
> 时间：2012-08-29T06:14:45.933
> 
> 标签：javascript, jquery, css, scrollto, parallax

我正在尝试使用 scrollTo 导航控件创建一个具有视差类型效果的网站。

类似于[http://www.nike.com/jumpman23/aj2012/](http://www.nike.com/jumpman23/aj2012/)但是我只需要左右滚动（上下）。我可以做水平和垂直视差，而 scrollTo 我只是不能让对角视差工作（用鼠标滚动）

我目前使用 scrollTo 让它工作，但是这使用户无法用鼠标滚动。我正在创建一个动态的单页网站，因此有时页面内容可能比其他区域长，因此用户需要向下滚动，一旦他们到达该内容的末尾，视差效果就会生效。

谁能建议一种方法来做到这一点？或者指出我正确的方向。

# ruby-on-rails - 将参数传递到模块的类中后，参数哈希发生变化

> ID：12171895
> 
> 赞同：0
> 
> 时间：2012-08-29T06:14:49.293
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我的代码看起来像这样

```
class MyController

  def my_action
    #params hash gets passed here
      ...

    logger.debug "PARAMS >> #{params.inspect}" #first inspect

    @a = MyModule::MyClass.new(params).my_func #some operations done with the argument

    logger.debug "PARAMS >> #{params.inspect}" #second inspect

  end

end 
```

我的问题是，“第二次检查”中的参数哈希与“第一次检查”中的不同。当在类的初始化程序中传递参数散列时，会添加更多的键值对，当我对参数进行“第二次检查”时，我也会在其中找到相同的键值对！这怎么可能？我什至尝试传递一个包含操作参数哈希的单独变量，但徒劳无功！

首先检查：`{"action"=>"report", "controller"=>"member/monitoring", "offset"=>"0"}`

第二次检查：`{"new_key1"=>"new_val1", "action"=>"report", "controller"=>"member/monitoring","new_key2"=>"new_val2", "new_key3"=>"new_val3", "offset"=>"0"}`

new_key* 被添加到类中，但它们也出现在操作的参数散列中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:19:31.127

作为参数传递给方法的值在 Ruby 中是通过引用，而不是通过值。因此，它们可能具有破坏性，并且可以更改您的哈希值。您可以通过将`params.dup`其用作方法的参数来轻松解决此问题`new`。

编辑：正如 mu 所指出的，实际上让`new`方法本身执行`dup`，而不是在传递之前复制更合适`params`。

# java - 有没有关于 Spring MVC vs Struts 2 和其他框架的使用统计数据？

> ID：12171896
> 
> 赞同：1
> 
> 时间：2012-08-29T06:14:52.470
> 
> 标签：java, jakarta-ee, web-applications, spring-mvc, struts

我正在对基于请求的 Web 应用程序框架进行分析，以确定哪个最适合特定项目，并且我被要求提供一些确凿的证据表明我们的选择与其他框架相比得到了广泛的使用和支持构架。

有没有关于此事的统计数据？或者甚至是使用每一个或其他东西的主要公司的列表？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T07:00:07.040

很难说哪个框架最适合您的需求，因为只有您可以根据您的要求进行分析，并根据您的要求查看哪个框架提供最接近的匹配。

Matt Raible 基于一些预定义的矩阵进行了非常深入的分析，您可以对一些框架有所了解

*   [my_comparing_jvm_web_frameworks](http://raibledesigns.com/rd/entry/my_comparing_jvm_web_frameworks)

最后，我建议您不要使用其他说法，因为那些可能存在个人喜好，最好花时间寻找更适合您的说法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T07:05:59.487

Spring 提供了其他更多功能，例如安全性、依赖注入、AOP 和事务。所以无论如何你都需要在你的应用程序中使用spring。

所以我认为当 Spring 本身提供它时，为什么你需要一个不同的框架，比如 Struts，只是用于 MVC 前端。

想想看。如果您使用 struts，您将不必要地添加对另一个框架的依赖。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T06:37:05.840

他们各自主页上的一些信息

[http://www.springsource.org/case-studies](http://www.springsource.org/case-studies)

[https://cwiki.apache.org/S2WIKI/projects-using-webwork-or-struts2.html](https://cwiki.apache.org/S2WIKI/projects-using-webwork-or-struts2.html)

# jakarta-ee - 在一个项目中使用 iText-1.4.3 和 iText-2.1.0

> ID：12171898
> 
> 赞同：0
> 
> 时间：2012-08-29T06:15:03.820
> 
> 标签：jakarta-ee, itext

我需要在单个项目中使用 iText-1.4.3.jar 和 iText-2.1.0.jar。它是一个瘦客户端应用程序，如果我使用 iText-2.1.0.jar，我在打印 pdf 文件时会遇到一些错误，如果没有这个 jar，我会在其他地方的某些文本打印中遇到错误。我怎么解决这个问题？

***更新：***

如果我使用 iText-2.1.0.jar 我收到错误

> “java.lang.NoSuchMethodError：com.lowagie.text.Image.plainWidth()F”

在打印 pdf 文件时。没有它我得到

> java.lang.RuntimeException: java.lang.Error: 未解决的编译问题：方法 getHeight() 未定义类型 Rectangle 方法 getWidth() 未定义类型 Rectangle

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-01-06T10:02:01.603

某些方法签名在较新版本中发生了更改。

1.  删除/移除较旧的 iText 版本 1.4.3
2.  替换方法调用： `plainWidth() -> getPlainWidth()`

# git - 可执行文件“git”不在路径中

> ID：12171903
> 
> 赞同：0
> 
> 时间：2012-08-29T06:15:27.680
> 
> 标签：git, review-board

我在 linux RH6 上设置了 Review Board。
当我尝试在管理员仪表板中“添加存储库”（一个 git 存储库）时，我收到以下错误 -

> “可执行文件“git”不在路径中。”

在服务器上，root 帐户在 PATH EV 中有 git 路径。
我还应该检查什么？

安装 Review Board 的服务器上的 Git 版本为 1.7.10.2

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T10:16:04.000

尝试将 git 可执行文件的路径添加到 apache 用户的 PATH 中。

这可能会奏效。

# ios - 想要在 ios sdk 中使用 AirPlay Apl 在 Apple TV 上流式传输我的应用程序视图？

> ID：12171904
> 
> 赞同：3
> 
> 时间：2012-08-29T06:15:39.387
> 
> 标签：ios, api, airplay, apple-tv

我想使用 AirPlay API 在 APPLE TV 上流式传输我的应用程序。？怎么用？它可以同时通过 iPhone 和 iPad 运行吗？如果是，请分享一些关于相同的文档或演示

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T08:21:31.123

您可以非常轻松地实现对外部显示器的支持。这是 Matt Gemmell 的一篇博客文章：http: [//mattgemmell.com/2010/06/01/ipad-vga-output/](http://mattgemmell.com/2010/06/01/ipad-vga-output/)

如果用户使用 Apple TV 启用 AirPlay（通过单击主页按钮两次，然后向左滑动以显示 AirPlay 快捷方式），您的应用程序将检测到另一个屏幕，即 Apple TV。然后，您可以使用上面博客文章中描述的 API 将您的应用程序的视图流式传输到 Apple TV。

不过，我不知道直接在您的应用程序中添加 AirPlay 按钮。

# sharepoint-2010 - 如何根据单独的 SharePoint 列表验证 InfoPath 中的字段

> ID：12171905
> 
> 赞同：0
> 
> 时间：2012-08-29T06:15:40.400
> 
> 标签：sharepoint-2010, infopath2010

我有两个 SharePoint 列表。一个是带有标题和描述的简单项目列表，另一个是包含工作流的请求列表。这些请求是添加或更新列表 A 中的项目的请求。

我想验证请求列表的添加新项目表单上的标题字段。我想检查列表 A 中是否不存在该标题。

我知道可以将属性设置为仅允许列表 A 的标题上的唯一值，但由于这些请求将进入单独的列表，我不确定如何检查该项目是否已存在于列表 A 中。

我正在为 InfoPath 中的请求列表创建表单。

任何想法都会很棒。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T02:15:23.070

这是一个粗略的想法，但您可以将列表 B 加载到数据表单中，并将文本框设置为列表的值，并由列表 A 中的标题字段过滤。如果该字段为空白，则您知道它不存在已经。

这个博客可以帮助加载和过滤列表数据： http: [//pravahaminfo.blogspot.com/2011/05/filtering-sharepoint-list-data-using.html](http://pravahaminfo.blogspot.com/2011/05/filtering-sharepoint-list-data-using.html)

# iphone - 我想在一个 IBAction 中启用滚动视图，然后在该操作之前我想禁用它。我该怎么做？

> ID：12171907
> 
> 赞同：0
> 
> 时间：2012-08-29T06:15:44.847
> 
> 标签：iphone, objective-c, ios

我想在一个 IBAction 中启用滚动视图，然后在该操作之前我想禁用它。我该怎么做？

我从 xib 禁用了滚动视图，但它也不起作用

```
-(IBAction)editClick
{
    scrview.contentSize = CGSizeMake(262,textView.contentSize.height+20+imageHeight);
    myView.frame= CGRectMake(myView.frame.origin.x, myView.frame.origin.y, myView.frame.size.width, 5000);
    [scrview setContentMode:UIViewContentModeRedraw];
     NSLog(@"scrview content height%f",scrview.contentSize.height);
     //[scrview setNeedsDisplay];
     oneFingerSwipeLeft.enabled=NO;
     oneFingerSwipeRight.enabled=NO;
     swipe=NO;
     //NSLog(@"edit Click");
     //textView.editable= YES;
} 
```

这是我的 viewdidload

```
- (void)viewDidLoad
{
    scrview.contentSize = CGSizeMake(262,308); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:18:06.410

试试这个.... 在你的 viewDidLoad

```
your_scrollView.scrollEnabled=NO; 
```

然后在你 IBAction

```
your_scrollView.scrollEnabled=YES; 
```

# linux - 是什么取代了最新 Linux 内核中的 get_sb_nodev 和 get_sb？

> ID：12171910
> 
> 赞同：3
> 
> 时间：2012-08-29T06:15:53.333
> 
> 标签：linux, kernel, superblock

我想知道Linux 内核中的哪个函数取代[了 get_sb_nodev和 get_sb 函数？](http://lxr.free-electrons.com/source/include/linux/fs.h?v=2.6.38#L1825)

它不再在 3.5+ 内核中可用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-22T09:30:53.843

`get_sb`曾经出现在的函数`struct file_system_type`，在最新的 Linux 内核中，它被一个`mount`函数替换

`struct dentry *(*mount) (struct file_system_type *, int, const char *, void *);`

# android - 按下后退按钮

> ID：12171914
> 
> 赞同：2
> 
> 时间：2012-08-29T06:16:09.407
> 
> 标签：android, android-tabhost

我有`TabActivity`其中包含 4 个选项卡。每个选项卡都有一个`FragmentActivity`和 2-3 `Fragments`。

从 Fragment，我要去一个`Activity`不是`Tabs`.
在单击 Back 按钮时`Activity`，我想回到上一个`Fragment`，而不破坏该 Activity。

我正在覆盖该`public boolean onKeyDown(int keyCode, KeyEvent event)`方法，但问题是它显示没有标签的前一个片段。我希望显示标签...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:23:21.190

在您的活动类中使用 onBackPressed 方法。

```
 @Override
    public void onBackPressed(){
       if(you wanto go back){
           super.onBackPressed();
       }else{
           //if you dont want to go back 
           // do what you need hear....
       }  
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:25:05.547

您需要做的是，您已经在 Activity 中覆盖了以下方法，而不是使用 KeyCode Back，

```
@Override
public void onBackPressed() {

super.onBackPressed(); 
```

并使用 SharedPrefrence 保存 Button 的状态，下次进入 Activity 时从 Sharedpreference 中获取值并相应地设置按钮的启用状态。

例子，

```
private void SavePreferences(){
SharedPreferences sharedPreferences = getPreferences(MODE_PRIVATE);
SharedPreferences.Editor editor = sharedPreferences.edit();
editor.putBoolean("state", button.isEnabled());
}

private void LoadPreferences(){
SharedPreferences sharedPreferences = getPreferences(MODE_PRIVATE);
Boolean  state = sharedPreferences.getBoolean("state", false);
button.setEnabled(state);
}

@Override
public void onBackPressed() {
SavePreferences();
super.onBackPressed();
}

onCreate(Bundle savedInstanceState)
{
//just a rough sketch of where you should load the data
LoadPreferences();
} 
```

# coldfusion - 显示源代码的 Coldfusion Server 独立服务器

> ID：12171915
> 
> 赞同：2
> 
> 时间：2012-08-29T06:16:09.770
> 
> 标签：coldfusion, webserver

我需要在本地 Windows 7 PC 上安装 Coldfusion 8，以进行一些测试。我采取了简单的方法并安装了独立服务器，其中包括一个内置的 Web 服务器。我真的不需要一个完全成熟的 Web 服务器，只需要测试。

因此，经过一段时间的 Coldfusion 工作正常。它开始显示页面的源代码。换句话说，Coldfusion 没有解析页面。仅显示源代码。

我已经弄清楚以下行将使页面显示源代码

```
<?xml version="1.0" encoding="utf-16"?> 
```

即使我从源代码中删除了这一行，仍然会显示源代码。因此，我必须使用除上述行之外的所有代码制作另一个 .cfm 文件，以便它运行。

我的问题是，如何清除 Coldfusion Standalone Web Server 的缓存？我已经尝试过通常重新启动 Coldfusion 无济于事。

**更新**：我最终使用了一种只是重命名文件的解决方法，即：testing1.cfm、testing2.cfm。对于遇到此问题的其他任何人，只需使用像 Apache 这样的独立 Web 服务器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T12:35:17.353

您是否尝试过重新启动 ColdFusion？

您是否尝试过清除浏览器中的缓存？

就其价值而言，即使在进行开发时，我也更喜欢使用 Web 服务器。我发现使用 CF Web 服务器并将我的所有项目都放在 CF Web 根目录下可能会导致生产中的路径问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T15:23:25.527

不确定您是否已修复此问题，但 ColdFusion 管理员中有一个选项位于设置 > 缓存选项下。底部是一个名为*Clear Template Cache Now*的按钮。单击该按钮将清空（删除）ColdFusion 缓存的所有模板。如果该模板已被修改，则对该模板的下一个请求将强制 ColdFusion 重新编译它。

# google-analytics - 使用自定义变量与谷歌分析收集数据不一致

> ID：12171918
> 
> 赞同：1
> 
> 时间：2012-08-29T06:16:12.863
> 
> 标签：google-analytics, phonegap-plugins

我正在为我目前在本地运行的网站使用谷歌分析。我在注册页面和登录页面上设置了自定义变量。问题是我在谷歌分析中得到的自定义变量的数据不一致。它确实显示了一些结果，但非常不一致。我正在为 PhoneGap 使用谷歌分析插件。当检查插件部分中的 NSLog 时，数据被传递很好。谁能帮我解决这个问题。谢谢

# iphone - 将非 ARC 项目切换为 ARC

> ID：12171922
> 
> 赞同：0
> 
> 时间：2012-08-29T06:16:32.110
> 
> 标签：iphone, objective-c, ios, automatic-ref-counting

我是 iphone 开发的新手。我了解到ARC是IOS现在引入的一个新特性。我的问题是，我有一个手动编写的旧版非 ARC 项目，是否可以将此项目从非 ARC 切换到 ARC ？

谢谢，

拉吉

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-29T06:19:18.923

确保您使用的是版本控制，然后使用：

> 编辑 > 重构 > 转换为 Objective-C ARC…</p>

# php - Opencart Multistore - 将其中一个商店重定向到帐户/登录

> ID：12171923
> 
> 赞同：0
> 
> 时间：2012-08-29T06:16:42.497
> 
> 标签：php, opencart

我使用 Opencart 版本 1.5.4.1，并且我已经安装了商店模块并在下拉列表中有 3 个商店（默认示例、商店 1、商店 2）。

我的要求是将最后一个商店（示例 Store2）重定向到`account/login`.

我试图修改`\catalog\controller\module\store.php`from `index.php?route=common/home`to中的路径，`index.php?route=account/login`但 Store1 和 Store2 都被重定向到`account/login`.

我还尝试使用以下`if`条件：如果我从默认选择 Store1 和 Store1 到 Store2，它可以工作，但如果从默认选择 Store2，它就不起作用。

```
foreach ($results as $result) {
    if((int)$this->config->get('config_store_id')==1)
    {
        $this->data['stores'][] = array(
            'store_id' => $result['store_id'],
            'name'     => $result['name'],
            'url'      => $result['url'] . 'index.php?route=account/login'
        );
    }
    else
    {
        $this->data['stores'][] = array(
            'store_id' => $result['store_id'],
            'name'     => $result['name'],
            'url'      => $result['url'] . 'index.php?route=common/home'
        );
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T07:55:51.233

您可以使用以下内容`vqmod code`：

1.  将其复制到带有`.xml`扩展名的文件中。
2.  上传到`vqmod\xml`文件夹。
3.  Store id 设置为 1，如果您的商店编号不同，请更改它。

* * *

```
<modification>
    <id>Force Customer Login</id>
    <version>152.1</version>
    <vqmver>2.1.5</vqmver>
    <author>Qphoria</author>
    <file name="catalog/controller/common/header.php">
        <operation>
            <search position="after"><![CDATA[function index()]]></search>
            <add trim="true">
                <![CDATA[//Q: Force Customer Login
                    $match = false;
                    if (!empty($this - > request - > get['route'])) {

                        $skip = array(
                            'payment',
                            'feed',
                            'forgotten',
                            'login',
                            'register', );

                        foreach($skip as $s) {
                            if (strpos($this - > request - > get['route'], $s) !== false) {
                                $match = true;
                                break;
                            }
                        }
                    }

                    if (!$match) {
                        if (!$this - > customer - > isLogged()) {
                            if ($this - > config - > get('config_store_id') == 1) {
                                $this - > redirect($this - > url - > link('account/login', 'SSL'));
                            }
                        }
                    }
                ]]>
            </add>
        </operation>
    </file>
</modification> 
```

# java - 从java运行一个vb生成的exe文件并等待执行结束

> ID：12171925
> 
> 赞同：1
> 
> 时间：2012-08-29T06:16:46.077
> 
> 标签：java

> **可能重复：**
> [运行可执行文件，然后等待该特定 exe 文件不再运行](https://stackoverflow.com/questions/5761652/running-an-executable-file-and-then-waiting-for-that-particular-exe-file-to-no-l)

我想从java运行一个vb生成的exe文件并等待文件完成执行。

我尝试使用`p.waitFor()`但没有成功。

还有其他选择吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:20:36.963

这实际上应该有效：

```
Runtime.getRuntime().exec(<file.exe>).waitfor(); 
```

除非涉及子进程的标准输入/标准输出，否则您可能会陷入死锁：

JDK 的 Javadoc 文档提供了以下信息：

> 一些原生平台只为标准输入输出流提供有限的缓冲区大小，未能及时写入子进程的输入流或读取输出流可能会导致子进程阻塞，甚至死锁。

这很好解释[here](http://www.javaworld.com/jw-12-2000/jw-1229-traps.html?page=2)

# asp.net - 带有分页的 Microsoft 索引服务和 OLEDB

> ID：12171926
> 
> 赞同：1
> 
> 时间：2012-08-29T06:17:10.733
> 
> 标签：asp.net, sql, filesystems, indexing, oledb

我有一个 ASP.net 2.0 Intranet 站点，它在文件夹及其内容上使用索引服务。[OLEDB 用于通过使用此处](http://www.codeproject.com/Articles/23299/Microsoft-Indexing-Service-and-OLEDB)讨论的相同技术来查询此文件夹中的文件。这是由另一位开发人员编写的，但我开始了解他的工作方式。

但是现在客户抱怨页面加载时间长，因为文件夹中的所有文件都被一次查询。他们对它很慢的事实是正确的，所以我考虑使用分页（就像在 linq Skip().Take() 中一样）。我知道在 SQL 中这翻译为：

```
SELECT col1, col2 
FROM 
(
   SELECT col1, col2, ROW_NUMBER() OVER (ORDER BY ID) AS RowNum
   FROM MyTable
)
AS MyDerivedTable
WHERE MyDerivedTable.RowNum BETWEEN @startRow AND @endRow 
```

但由于某种原因，这在与 OLEDB 一起使用时不起作用。这使用了哪个版本的 SQL，或者你们有没有关于如何实现分页的建议？

编辑：因为上述方法仅在使用 sql Server 2005 或更高版本时可用，所以我将尝试 2005 年之前的方法。我认为 OLEDB 不支持 Row_Number() 或 Over。打算试试：

```
SELECT ... FROM Table WHERE PK IN 
  (SELECT TOP @PageSize PK FROM Table WHERE PK NOT IN
    (SELECT TOP @StartRow PK FROM Table ORDER BY SortColumn)
   ORDER BY SortColumn)
ORDER BY SortColumn 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T09:21:23.140

似乎 MSIDXS 不支持太多 SQL 函数。只有“选择”、“位置”、“排序依据”等基础知识才有效。“Top”、“Rowcount”、“Over”等其他功能不起作用。它甚至在“计数（*）”上失败。

我使用带有 2 个整数的 DataAdapter.Fill() 方法实现了分页；开始记录和最大记录。这并不理想，但在这种情况下是最好的解决方案。现在将收集所有记录，但只有我需要的那些将存储在数据集中，然后将其转换为我自己的类的集合。

这适用于第一页，因为只有第一行会被循环和返回。但是当你有 20 页时，最后一页会花费更长的时间，因为它之前的所有记录都会被循环。

我用 20 和 400 个结果的页面大小对此进行了测试。第一页花费了 200 毫秒，而最后一页花费了大约 1.6 秒。一个明显的滞后，但现在它只发生在最后一页而不是前 10 页。有一个搜索和排序机制，所以最后一页不会被访问那么多。

# solr - Solr 中的增量备份

> ID：12171927
> 
> 赞同：0
> 
> 时间：2012-08-29T06:17:19.990
> 
> 标签：solr, solrj

我需要备份 Apache-Solr 保存的数据。我在 solrconfig.xml 中启用了复制并通过 http-api 进行备份。无论如何都要进行增量备份吗？那就是我有 5 GB 的数据。第一次进行备份。当数据量增加到 5.5GB 时，第二次只需要额外增加 0.5GB 的数据作为备份。有什么办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T08:10:11.023

您可以通过[HTTP Api 获取](http://wiki.apache.org/solr/SolrReplication#HTTP_API)完整索引（非增量）的快照。
您还可以配置要维护的备份数量以及在什么条件下备份索引。

# .net - 是否可以在 Visual Studio 2010 中添加音乐播放器或视频播放器？

> ID：12171929
> 
> 赞同：0
> 
> 时间：2012-08-29T06:17:23.337
> 
> 标签：.net, vb.net, vb.net-2010

如何在 Visual Studio 2010 的应用程序中添加音乐或视频播放器？有可能吗？但我该怎么做呢？

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T07:49:58.233

这里有一些链接供您查看

[http://www.csharphelp.com/archives4/archive680.html](http://www.csharphelp.com/archives4/archive680.html)

[http://www.c-sharpcorner.com/UploadFile/mgold/PoormansIPod01172007144720PM/PoormansIPod.aspx](http://www.c-sharpcorner.com/UploadFile/mgold/PoormansIPod01172007144720PM/PoormansIPod.aspx)

[http://www.developerfusion.com/article/62/build-an-mp3-player/](http://www.developerfusion.com/article/62/build-an-mp3-player/)

希望他们有所帮助！

# android - 未知意图

> ID：12171931
> 
> 赞同：1
> 
> 时间：2012-08-29T06:17:29.600
> 
> 标签：android, eclipse, nfc

这是我在 Eclipse 上为 NFC 运行 TagViewer.java 时在我的 logcat 上显示的错误。我正在运行一个 NFC 程序，基本上它运行，但是在某个时间段程序会自行关闭。

`08-29 14:06:33.677: E/ViewTag(22056): Unknown intent Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.example.android.nfc/.TagViewer }`

这是来自我的 Android 清单。我猜测错误来自这里，因为错误`android.intent.action.MAIN`等。

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
 package="com.example.android.nfc"
 android:versionCode="1"
 android:versionName="1.0" >

 <uses-permission android:name="android.permission.NFC" />
 <uses-permission android:name="android.permission.CALL_PHONE"/>
 <uses-feature android:name="android.hardware.nfc" android:required="true"/>

 <uses-sdk
    android:minSdkVersion="9"
    android:targetSdkVersion="16" />

 <application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name=".TagViewer"
        android:label="@string/title_activity_main" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />                

            <intent-filter> 
              <action android:name="android.nfc.action.TAG_DISCOVERED"/>    
              <category android:name="android.intent.category.DEFAULT"/>
            </intent-filter>

        </intent-filter>

    </activity>
 </application>
</manifest> 
```

这是来自我的 java 并且基本上是最后一行，当我输入 // 程序不会关闭但它会显示为白页。但是标题 NFC 仍在显示，所以我知道它正在轻微工作

```
@Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
       mTagContent = (LinearLayout) findViewById(R.id.tag_viewer);
        mTitle = (TextView) findViewById(R.id.title);
      resolveIntent(getIntent());
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T10:37:03.430

更改您的声明活动`"TagViewer"`而不是`".TagViewer"`

# unit-testing - 运行单元测试

> ID：12171933
> 
> 赞同：19
> 
> 时间：2012-08-29T06:17:35.327
> 
> 标签：unit-testing, visual-studio-2012

在我们的解决方案中，我们有几个测试项目。它们中的大多数包含运行速度很快的单元测试，但有些用于集成、验收和 UI 测试，需要相当长的时间才能完成。现在我想要一种只运行单元测试的便捷方式。通过使用热键运行全部或使用新功能在每次构建后运行测试。

不幸的是，VS 也运行所有慢速测试。在 VS10 中，我将测试视图中的测试按项目分组，并仅选择包含单元测试的测试。这并不像我希望的那么容易，但至少它是可能的。现在似乎没有办法在解决方案中运行所有测试。

我目前看到的唯一选择是从解决方案中删除除单元测试之外的所有内容，但这会限制重构能力。

那么有谁知道如何在新的 VS 中轻松地对单元测试进行分组和运行？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-12T21:15:22.810

在 Visual Studio 2012 Update 1 CTP 中，测试资源管理器添加了按项目或特征（类别）对测试进行分组的选项。

请转到此链接以查看[那里有](http://blogs.msdn.com/b/visualstudioalm/archive/2012/10/08/visual-studio-2012-update-1-ctp.aspx)什么新内容。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-27T14:15:50.610

您可以使用单元文本资源管理器中的搜索过滤器。

![在此处输入图像描述](../Images/d5166c23a2258dd70032a9c644b4d6aa.png)

在 2012 年附带的新 Test Exlorer 中，您可以按“测试结果”、“文件名”等对测试进行分组，但在 RTM 构建组/按“TestCategory”搜索时，测试资源管理器中不存在。但是，命令行和 TeamBuild 中有一个过滤器，基于 VS2012 中的 TestCategory（在 VS 2012 RC 中使用 TestCaseFilter 运行选择性单元测试）。

从 VS 开发团队的一名成员那里，他们了解了这个缺失功能​​的重要性。它在积压中，应该可以在未来的构建/更新中使用。

以下博客提供了更多详细信息：http: [//blogs.msdn.com/b/vikramagrawal/archive/2012/07/23/running-selective-unit-tests-in-vs-2012-rc-using-testcasefilter.aspx](http://blogs.msdn.com/b/vikramagrawal/archive/2012/07/23/running-selective-unit-tests-in-vs-2012-rc-using-testcasefilter.aspx)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-26T18:37:56.160

从 Visual Studio 2012 Update 2（目前在 CTP 上）开始，我们现在能够使用“播放列表”或基于“列表和类”运行单元测试的子集。更多信息在这里：http: [//blogs.msdn.com/b/visualstudioalm/archive/2013/01/30/first-ctp-for-visual-studio-update-2.aspx#playlists](http://blogs.msdn.com/b/visualstudioalm/archive/2013/01/30/first-ctp-for-visual-studio-update-2.aspx#playlists)

原答案：

AFAIK，VS2012中的新单元测试框架“支持通过TestCaseFilter根据过滤条件选择性执行”。不幸的是，目前不支持通过用户界面执行此操作，但它在产品组的积压中。您可以通过测试构建或命令行使用此方法。请参考以下博客：http: [//blogs.msdn.com/b/vikramagrawal/archive/2012/07/23/running-selective-unit-tests-in-vs-2012-rc-using-testcasefilter.aspx](http://blogs.msdn.com/b/vikramagrawal/archive/2012/07/23/running-selective-unit-tests-in-vs-2012-rc-using-testcasefilter.aspx)

编辑：按照 MSDN 文档使用测试类别对测试进行分组。

[http://msdn.microsoft.com/en-us/library/dd286595.aspx](http://msdn.microsoft.com/en-us/library/dd286595.aspx)

另外，请参阅此问题：[如何在 Visual Studio 2012 测试运行程序中排除某些测试？](https://stackoverflow.com/questions/12582025/how-to-exclude-tests-from-vs2012-test-runner/12584731#12584731)

它显示了基于测试路径的过滤示例。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-29T07:05:54.380

我建议使用[TestDriven.Net](http://www.testdriven.net/)。将所有单元测试项目分组在一个解决方案文件夹中，并将所有其他测试分组在另一个文件夹中。然后只需右键单击“单元测试”文件夹并选择“运行所有测试”。我总是喜欢这个伟大的 VS 原生测试工具的测试运行器。

另一种方法是使用[NCrunch](http://www.ncrunch.net/) - 它在您编写代码时在后台运行您的所有测试。它可以很好地处理集成测试，因为它们在后台并行运行，因此不会阻止您（您还可以选择运行哪些测试项目）。不过有一个问题——我相信它还不支持 VS2012，但可能很快。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-21T12:01:56.740

我也错过了这个功能......（我们做了和你一样的事情：按项目或有时按名称空间分组）。但我发现我可以使用测试资源管理器搜索功能以某种方式解决这个问题：

[https://msmvps.com/blogs/deborahk/archive/2012/09/16/searching-and-grouping-in-vs-2012-test-explorer.aspx](https://msmvps.com/blogs/deborahk/archive/2012/09/16/searching-and-grouping-in-vs-2012-test-explorer.aspx)

在我的情况下，我可以使用 FullName 上的搜索过滤器确定我需要运行的特定测试（使用搜索框上的下拉菜单，或输入 FullName:"UnitTest"）

它不一样，但它对我有用

# ios - 在 XIB 中淡入/淡出 UISegmentedControl

> ID：12171934
> 
> 赞同：0
> 
> 时间：2012-08-29T06:18:00.293
> 
> 标签：ios, xcode, xib

我在我的 XIB 中设置了 UISegmentedControl。我希望它出现在 viewDidLoad 上，如果用户点击它所在的屏幕区域，然后如果用户再次点击它就会消失，或者如果用户不理会它就会淡出。

在四处寻找如何管理这个问题时，我发现了很多关于淡化 UIViews 的东西，但在淡化单个子视图方面却没有那么多，在 XIB 中的淡化元素方面几乎没有。我试图调整 UIView 的东西但失败了。

我怎样才能使这项工作？

**编辑：** 好的，我在 viewDidLoad 的外观和淡出工作。但是当用户点击 UISegmentedControl 所在的区域时（现在不可见，因为 alpha=0），什么也没有发生。这是我正在使用的代码：

```
- (IBAction)tapInvisibleSegContr
//This is connected to the UISegmentedControl with the action Touch Up Inside.  Until now, the segmented control has been at alpha=0 since fading after viewDidLoad.
{
    self.segContrAsOutlet.alpha=1.0;
    [self fadeMethodThatWorksInViewDidLoad];
    NSLog(@"Yup, tapped.");
} 
```

我什至没有得到 NSLog。我已经将动作连接到 UISegmentedControl，动作 Touch Up Inside。我错过了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:28:23.310

如果它驻留在 xib 中，只需将他的 alpha 设置为 0，进行正确的连接：一个 Outlet 和一个 IBAction 以改变值
然后在`viwDidLoad`右侧`[super viewDidLoad]`写入：

```
[UIView animateWithDuration:1 animations:^{self.mySegOutlet.alpha = 1;}]; 
```

`}`在最后一次写入之前编码答案之后的 IBAction 内部：

```
[UIView animateWithDuration:1 animations:^{self.mySegOutlet.alpha = 0;}]; 
```

这是最简单的方法。
再见

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:23:45.830

在 xib 中将控件的 alpha 设置为 0.0，然后使用`UIView`动画方法将其 alpha 设置为 1.0。例如：

```
[UIView animateWithDuration:1.0 animations:^{
    self.segmentedControl.alpha = 1.0f;
}]; 
```

编辑：对于您没有调用操作的问题，请尝试将其附加到值更改控制事件 - 我认为 UISegmentedControl 不会发送内部修饰。

# testing - 便携式、独立于工具的测试自动化

> ID：12171941
> 
> 赞同：2
> 
> 时间：2012-08-29T06:18:44.593
> 
> 标签：testing, language-agnostic, automated-tests

我们的代码库包含多种语言的代码，从 Python 到 C# 到 MATLAB 和 LaTeX。目前，我们对每种单独的语言都有单元测试（使用特定于语言的框架）。这使得测试自动化很麻烦，尤其是收集和检查所有不同的报告。

因此，我正在寻找一种测试自动化工具

*   可移植（至少 Windows + Linux）
*   与语言无关
*   可以扩展（自定义报告，其他语言，...）

理想情况下，该工具将通过插件连接到现有的特定于工具的框架，如 Python `unittest`、C#`NUnit`等。

有这样的工具吗？如果没有，你如何处理这样的测试场景？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-30T13:32:51.983

也许您正在寻找类似[Test Anything Protocol](http://en.wikipedia.org/wiki/Test_Anything_Protocol)的东西？

> Test Anything Protocol (TAP) 是一种允许在单元测试和测试工具之间进行通信的协议。它允许单个测试（TAP 生产者）以与语言无关的方式将测试结果传达给测试工具。

它并没有避免对特定语言测试的需要，但它确实确保您的测试结果都采用统一的格式，以便您可以构建跨语言报告。它也相当简单，所以如果您选择的语言没有 TAP 生产者，那么编写一个（并且可能将其分享给世界）并不是很困难。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-10T21:11:54.173

如果您按照已经建议的那样使用 TAP，那么围绕它的完整测试基础架构就是[Tapper](http://tapper-testing.org/)。

当您需要它的自动化层时，中央服务器会采用一些外部 Linux 工具，但除此之外，其他一切都是独立于语言和操作系统的。它可以接收 TAP 报告，无论它们是如何启动的：手动测试、crontab 驱动或可以从头开始设置机器或通过 ssh 启动测试的内置自动化。

有关更多信息，请参见上面的链接，尤其是查看链接的演示文稿。

概括：

*   TAP 作为编写测试的协议
*   基础设施的 Tapper

# joomla - 如何在joomla2.5的组件区域中获取模块参数

> ID：12171947
> 
> 赞同：2
> 
> 时间：2012-08-29T06:19:38.960
> 
> 标签：joomla, joomla1.5, joomla2.5, joomla1.7

我想在 joomla 2.5 的组件区域中获取模块参数

这是我的代码：

> jimport('joomla.application.module.helper');
> $module = &JModuleHelper::getModule('mod_module');
> $moduleParams = new JParameter($module->params);
> print_r($moduleParams);

我尝试打印`$moduleParams`...它什么都不显示。
我从网站[http://www.themepartner.com/blog/25/retrieving-plugin-module-component-and-template-parameters/获得此代码](http://www.themepartner.com/blog/25/retrieving-plugin-module-component-and-template-parameters/)

有没有其他方法可以使用模块名称获取参数。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-29T12:20:48.130

对于 joomla 1.6 及更高版本

```
 jimport( 'joomla.application.module.helper' ); 
    $module = JModuleHelper::getModule('mod_name');
    $moduleParams = new JRegistry();
    $moduleParams->loadString($module->params);
    $param = $moduleParams->get('paramName', 'defaultValue'); 
```

希望这有助于导致 jparameter 在 j1.5 更高版本中被弃用

你错过了我认为 1.7 的实际链接是[http://www.themepartner.com/blog/56/get-joomla-17-plugin-module-component-and-template-parameters/](http://www.themepartner.com/blog/56/get-joomla-17-plugin-module-component-and-template-parameters/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-10-20T10:13:02.140

对于 Joomla 3，您只需要：

```
$module = JModuleHelper::getModule('mod_name');
$moduleParams = new JRegistry($module->params);
$param = $moduleParams->get('param_name', 'default_value'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T06:24:39.363

我发现了错误

这里是正确的代码

> jimport('joomla.application.module.helper');
> jimport('joomla.html.parameter');
> $module = &JModuleHelper::getModule('mod_randomads');
> $moduleParams = new JParameter($module->params);

问题`jimport( 'joomla.html.parameter' );`是错过了

# android - 名称存储在 SQLiteDatabase 的数据库表中，而不是其 ID

> ID：12171949
> 
> 赞同：0
> 
> 时间：2012-08-29T06:19:47.143
> 
> 标签：android, database, sqlite, insert

我遇到了麻烦`SQLiteDatabase`。我已经设法将数据存储到表中。不幸的是，我将 name 存储在 table 而不是`id`. 我需要把`id`桌子里面的东西存放起来。

请查看我的代码，看看代码中是否有任何问题或缺失。

这是我的数据库代码 `LikesDBAdapter.java`

```
public class LikesDBAdapter extends AnniversaryDBAdapter
{
    public static final String KEY_ROWID = "likes_id";
    public static final String KEY_LIKES = "like";  
    public static final String KEY_NAME = "name_id";
    private static final String TAG = "DBAdapter";
    private static final String CREATE_TABLE_LIKES = "likes";

    //private SQLiteDatabase db;

    public LikesDBAdapter(Context ctx)
    {
        super(ctx);

    }

        public long insertLikes(String likes, String name)
        {
            ContentValues initialValues = new ContentValues();
            initialValues.put(KEY_LIKES, likes);
            initialValues.put(KEY_NAME, name);
            return db.insert(CREATE_TABLE_LIKES, null, initialValues);
        }// end insertContact()

        public boolean deleteLikes(long rowId)
        {
            return db.delete(CREATE_TABLE_LIKES, KEY_ROWID + "=" + rowId, null) > 0;
        }// end deleteContact()

        public Cursor getAllLikes()
        {
            return db.query(CREATE_TABLE_LIKES, new String[] 
                    { KEY_ROWID, KEY_LIKES, KEY_NAME }, null, null, null, null, null);
        }// end getAllContacts()

        public Cursor getLikes(long rowId) throws SQLException
        {
            Cursor mCursor = db.query(true, CREATE_TABLE_LIKES, new String[] {
                    KEY_ROWID, KEY_LIKES, KEY_NAME }, KEY_ROWID + "=" + rowId,
                    null, null, null, null, null);
            if (mCursor != null)
            {
                mCursor.moveToFirst();
            }
            return mCursor;
        }// end getContact()

}//end DBAdapter 
```

哦，这是另一个`database`类，其中一个`DBAdapter`类中创建了 5 个表

```
public class AnniversaryDBAdapter
{

    private static final String DATABASE_NAME = "Tables";
    private static final int DATABASE_VERSION = 2;

     private static final String CREATE_TABLE_TITLE = "create table titles(title_id integer primary key autoincrement, title text not null, image text not null);";
    private static final String CREATE_TABLE_BUDDIESLIST = "create table buddiesList(name_id integer primary key autoincrement, name text not null);";
    private static final String CREATE_TABLE_LIKES = "create table likes(likes_id integer primary key autoincrement,like text not null, name text not null);";
    private static final String CREATE_TABLE_DISLIKES = "create table dislike(dlike_id integer primary key autoincrement, dislike text not null, name text not null);";
    private static final String CREATE_TABLE_EVENTS = "create table events" +
            "(event_id integer primary key autoincrement, " +
            "title text not null, location text not null, " +
            "starttime text not null, " +
            "endtime text not null, " +
            "desc text not null, " +
            "alarm text not null, " +
            "date text not null, " +
            "name_id integer not null);"; 
```

这是我需要将信息插入数据库表的另一个代码

```
btnSave = (Button) findViewById(R.id.btnSave);
        btnSave.setOnClickListener(new View.OnClickListener()
            {

                @Override
                public void onClick(View v)
                {
                    likeDB.open();
                    long like_id;

                    Spinner nameSpinner = (Spinner) findViewById(R.id.nameSpinner);
                    String NameValue = nameSpinner.getSelectedItem().toString();

                    EditText txtLikes = (EditText) findViewById(R.id.txtLikes);
                    String LikeValue = txtLikes.getText().toString();

                    like_id = likeDB.insertLikes(LikeValue, NameValue);
                    likeDB.close();

                    dlikeDB.open();
                    long dlike_id;

                    Spinner names = (Spinner) findViewById(R.id.nameSpinner);
                    String NamesValue = names.getSelectedItem().toString();

                    EditText txtDislikes = (EditText) findViewById(R.id.txtDislikes);
                    String DislikeValue = txtDislikes.getText().toString();

                    dlike_id = dlikeDB.insertDislikes(DislikeValue, NamesValue);
                    dlikeDB.close();

                    Toast.makeText(getBaseContext(), "Your information is saved successfully! :D", Toast.LENGTH_LONG).show();

                }
            }); 
```

我已经声明`likeDB`了`dlikeDB`上述`onCreate()`方法

```
LikesDBAdapter likeDB = new LikesDBAdapter(this);
DislikesDBAdapter dlikeDB = new DislikesDBAdapter(this); 
```

**更新**
我已经编辑了代码。我在帖子中删除了 AnniversaryDBAdapter 类的一些代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:00:19.223

你为什么惊讶？您在 insertLikes 函数中的数据库中插入名称

```
 public long insertLikes(String likes, String name)
    {
        ContentValues initialValues = new ContentValues();
        initialValues.put(KEY_LIKES, likes);
        ***initialValues.put(KEY_NAME, name);***
        return db.insert(CREATE_TABLE_LIKES, null, initialValues);
    }// end insertContact() 
```

# php - 多维数组

> ID：12171953
> 
> 赞同：0
> 
> 时间：2012-08-29T06:20:03.753
> 
> 标签：php, arrays, multidimensional-array

我有一个像这样的多维数组

```
$role = array (
                  'Dashboard' => null,
                  'Students' => 
                    array (
                      'Admission' => array ( 0 =>  'Entry' ,1 =>  'Review' , 2 =>  'Approved/Reject'
                       ),
                     'Search' => null,
                     'AdvanceSearch' => null,
                     'Courses' => null
                    ),
                  'HR' => array ('Settings' => null),
                  'Employee Management' => array ( 0 =>  'Entry',1 =>  'Association',2 =>  'Search' ),
                  'Employee Attendance' => null,
                  'Payroll' => array (0 =>  'Generate Pay Slip',1 =>  'Payroll Run' , 2 =>  'Payroll Revert',3 =>  'View Pay Slips'),
                  'Finance' => null,
                  'More' => null); 
```

我想在我的html中打印这个数组结果

![这是想要的解决方案](../Images/3f4a2f28cb75446b6a5d3c349e2c0599.png)

我试图通过使用递归来做到这一点，但由于 DIV 没有正确关闭而无法做到这一点.. 这是我在我的 html 中尝试的代码

```
<?php 

                             $child = 0;
                            function RecursiveWrite($array, $child ) {
                                $parent_array_size =  count($array);
                                foreach ($array as $key => $vals) {
                                    if(is_array($vals)){
                                        $inner_array_size = count($vals);
                                        echo "<div class='main clear'><input type='checkbox'/> ".$key." &nbsp; &nbsp; ";
                                        RecursiveWrite($vals,$child);
                                    }else{
                                        $child = 0;
                                        if(is_numeric($key)){
                                            echo " &nbsp; <div class='left'> &nbsp; &nbsp; <input type='checkbox' class=''/> ".$vals." &nbsp; &nbsp; </div></div>";
                                        }else{
                                            echo "<div class='clear'><input type='checkbox'/> ".$key." </div></div>";
                                        }
                                    }
                                    //
                                }
                            }
                            RecursiveWrite($role, $child);
                        ?> 
```

这是[工作代码](http://codepad.viper-7.com/ecz6fK#)

我怎样才能得到这个任何建议......？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T07:00:12.113

您的问题是递归后缺少关闭 div 试试这个函数

```
function RecursiveWrite($array, $child )
{
    $parent_array_size =  count($array);
    foreach ($array as $key => $vals)
     {
        if(is_array($vals))
        {
            $inner_array_size = count($vals);
            echo "<div class='deep'><div class='extra'><input type='checkbox'/> ".$key."</div>";
            RecursiveWrite($vals,$child);
            echo "</div>";
        }
        else
        {
            if(is_numeric($key)){
                echo "<span class='single'><input type='checkbox' class=''/> ".$vals."</span>";
            }else{
                echo "<div class='single'><input type='checkbox'/> ".$key." </div>";
            }

        }
    }
} 
```

使用这个 CSS

```
<style type="text/css">
    .parent {border: solid 1px #000;}
    .parent div {border: solid 1px #000; margin:5px;}
    .extra {border:0px !important;}
    .single {margin-left:10px !important; border:0px !important;}
    span.single {display:inline-block; margin-left:20px;}
</style> 
```

用它来调用你的函数

```
<div class="parent"><? RecursiveWrite($role, $child);?></div> 
```

将提供的所有代码与您的数组放在一页中。

为了获得更好的编码标准，您应该将您的样式 html 和 php 分开来试试运气；）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:53:07.310

在调用递归时，您没有`div`在正确的位置关闭，在结束递归之后您需要编写结尾`div`：

*   打开 div
*   运行递归
*   关闭 div

同样，您有两个不必要的 div 关闭。始终确保打开与关闭一样多的 div，反之亦然。我已经在代码中标记了需要更改的地方。

代码：

```
<?php 
    $child = 0;
    function RecursiveWrite($array, $child ) {
        $parent_array_size =  count($array);
        foreach ($array as $key => $vals) {
            if(is_array($vals)){
                $inner_array_size = count($vals);
                echo "<div class='main clear'><input type='checkbox'/> ".$key." &nbsp; &nbsp; ";
                RecursiveWrite($vals,$child);
                echo "</div>"; /* <== ADD THIS */
            }else{
                $child = 0;
                if(is_numeric($key)){
                    echo " &nbsp; <div class='left'> &nbsp; &nbsp; <input type='checkbox' class=''/> ".$vals." &nbsp; &nbsp; </div>"; /* <== REMOVE EXTRA DIV */
                }else{
                    echo "<div class='clear'><input type='checkbox'/> ".$key." </div>";  /* <== REMOVE EXTRA DIV */
                }
            }
            //
        }
    }
    RecursiveWrite($role, $child);
?> 
```

[您可以在http://codepad.viper-7.com/507rLc](http://codepad.viper-7.com/507rLc)找到一个工作示例

# clearcase - 如果我们从集成流中删除最新版本，会有任何副作用吗？

> ID：12171955
> 
> 赞同：2
> 
> 时间：2012-08-29T06:20:21.970
> 
> 标签：clearcase, clearcase-ucm

我们已经向测试团队交付了一些包，他们完成了测试。

在其中一个包中，他们报告了一个缺陷，它已被修复并交付给集成流。但是在交付时，它要求重新设置基准，并且交付包含重新基准活动。

由于合并问题，在 rebase 活动中，其中一个文件在没有缺陷的包中被修改。

由于测试已经完成并且不需要更改交付，我们的团队希望在集成流中删除文件的最新版本 [这是无意添加的]。

如果我删除文件的版本，它会产生任何不良影响吗？（例如，再次进行变基时）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:41:32.737

删除一个版本几乎**从来都不**是一个好主意。

*   如果该版本有任何超链接：**不要删除它**！
    （您可以通过查看它的版本树来查看它：查找任何来自该版本的红色箭头）
*   如果那个版本有任何标签：**不要删除它**。
    该标签可能是基线的结果，这会破坏所述基线的完整性。

我建议签出该文件，并用正确的内容替换其内容，然后再将其签入 ClearCase。

也可以看看：

*   “[如何在 ClearCase 远程客户端中撤消签入](https://stackoverflow.com/questions/4257402/how-do-i-undo-a-checkin-in-clearcase-remote-client/4259212#4259212)”：rmver 很危险
*   “[如何回滚签入到 Clearcase 的文件？](https://stackoverflow.com/questions/2147055/how-do-i-roll-back-a-file-checked-in-to-clearcase) ”：减法合并更适合在新版本中恢复正确的内容

# jsoup - 是否可以通过 Jsoup.connect(url) 方法发送要获取其数据的标签的 ID？

> ID：12171959
> 
> 赞同：0
> 
> 时间：2012-08-29T06:20:49.897
> 
> 标签：jsoup

我想从特定网站获取数据。与其获取整个 DOM，然后对其进行迭代以获取数据，是否可以发送标签的 id 并获取该特定数据？请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T14:05:11.987

不，Jsoup 中没有内置方法仅从 URL 中获取与选择器匹配的元素。只是通常的：

```
Document doc = Jsoup.connect("http://example.com/").get();
Elements section = doc.select("#id-you-are-interested-in"); 
```

是要走的路。不用担心; 即使 Jsoup 确实包含类似的方法，在 Jsoup 返回该部分`Elements section = Jsoup.connect("http://example.com", "#id-you-are-interested-in");`之前，仍需要获取并解析整个文档。`#id-you-are-interested-in`也许这不是您想要的，但我只是说 Jsoup 不会有可衡量的性能优势，包括这样的方法。这只是为了方便。

# hadoop - 为什么组合器输入记录的数量多于地图的输出数量？

> ID：12171965
> 
> 赞同：4
> 
> 时间：2012-08-29T06:21:28.667
> 
> 标签：hadoop, mapreduce, combiners

Combiner 在 Mapper 之后和 Reducer 之前运行，它将接收给定节点上 Mapper 实例发出的所有数据作为输入。然后它向 Reducers 发出输出。所以组合器输入的记录应该少于地图输出。

```
12/08/29 13:38:49 INFO mapred.JobClient:   Map-Reduce Framework

12/08/29 13:38:49 INFO mapred.JobClient:     Reduce input groups=8649

12/08/29 13:38:49 INFO mapred.JobClient:     Map output materialized bytes=306210

12/08/29 13:38:49 INFO mapred.JobClient:     Combine output records=859412

12/08/29 13:38:49 INFO mapred.JobClient:     Map input records=457272

12/08/29 13:38:49 INFO mapred.JobClient:     Reduce shuffle bytes=0

12/08/29 13:38:49 INFO mapred.JobClient:     Reduce output records=8649

12/08/29 13:38:49 INFO mapred.JobClient:     Spilled Records=1632334

12/08/29 13:38:49 INFO mapred.JobClient:     Map output bytes=331837344

12/08/29 13:38:49 INFO mapred.JobClient:     **Combine input records=26154506**

12/08/29 13:38:49 INFO mapred.JobClient:     **Map output records=25312392**

12/08/29 13:38:49 INFO mapred.JobClient:     SPLIT_RAW_BYTES=218

12/08/29 13:38:49 INFO mapred.JobClient:     Reduce input records=17298 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T17:55:41.537

我认为这是因为Combiner 也可以在先前的Combine 步骤的输出上运行，因为您的Combiner 运行并生成新记录，然后将这些记录与来自您的Mappers 的其他记录相结合。也可能是 Map 输出记录是在 Combiner 运行之后计算的，这意味着记录较少，因为有些记录已被合并。

# python - view.py 的问题

> ID：12171966
> 
> 赞同：-1
> 
> 时间：2012-08-29T06:21:46.473
> 
> 标签：python, django, django-views

我收到以下错误：`view_page() takes exactly 2 arguments (1 given)`

view.py 的代码是：

```
from wiki.models import Page
from django.shortcuts import render_to_response

def view_page(request, page_name):
   try:
         page = Page.objects.get(pk=page_name)
   except PageDoesNotExist:
         return render_to_response("create.html", {"page_name":page_name}) 
```

url.py 中给出的 url 是：

```
url(r'^wiki/$', 'wiki.views.view_page'), 
```

但是，当我给出下面给出的 url 并删除上面的那个时，我得到了找不到页面的错误。

```
url(r'^wiki/(?P<page_name>[^/]+)/$','wiki.views.view_page'), 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T10:08:59.047

这是因为 view_page() 的第二个参数是在 url 中传递的

例子

```
url(r'^wiki/(?P<page_name>[^/]+)/$','wiki.views.view_page')

something.com/wiki/2   #here 2 is the second parameter which is like

def view_page(request, 2) 
```

如果你用这个

```
url(r'^wiki/$', 'wiki.views.view_page'),

something.com/wiki/  #The second parameter is not passed to the function 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T09:45:23.277

我认为您的查询集是错误的。如果您在 URL 中传递 page_name，那么它应该如下所示：

```
Page.objects.get(name=page_name) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T09:52:28.033

也许第二个参数应该是可选的？

```
def view_page(request, page_name="Default value"): 
```

# java - 如何通过java程序从windows读取远程linux目录中的文件属性？

> ID：12171971
> 
> 赞同：1
> 
> 时间：2012-08-29T06:22:05.663
> 
> 标签：java, windows, linux

我在远程 Linux 系统中有一个目录，我想通过 java 程序从我的 Windows 系统中读取所有文件元数据（文件名、大小、所有者等）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T06:30:39.273

您需要以某种方式使用 SSH、SAMBA、NFS 连接到 Linux 文件系统……如果您使用 SAMBA 将 Linux 文件系统映射到本地驱动器，则可以像读取本地文件一样读取远程文件。您可能需要使用 Java 7 中的 java.nio.file.Files 来获取高级文件属性（如所有者）。

# c# - SL 5 Out of Browser, Elevated Trust - 从任何本地目录显示 PNG

> ID：12171972
> 
> 赞同：2
> 
> 时间：2012-08-29T06:22:11.710
> 
> 标签：c#, silverlight, xaml, silverlight-5.0

我的理解是，当我将 SL5 设置为运行 OOB 并提升信任时，我应该对本地系统上的任何目录/文件具有广泛的开放访问权限。如果外部系统将 png 图像文件放入用户的 c:\images 文件夹，我如何将各种 png 文件加载到 XAML Image 元素中？

这条线有效：

```
image.UriSource = new Uri(value as string); 
```

如果我将值设置为“http://blah.com/image1.png”之类的字符串

但如果我尝试将其设置为：

```
ImageUrl = new Uri(@"C:\images\image3.png") 
```

当它碰到

```
image.UriSource = new Uri(value as string); 
```

线。

如何从运行 OOB 提升应用程序的系统上的任何本地路径在 SL5 中显示 png 文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:33:04.453

如果您正确设置了提升的权限，这样的事情应该可以工作

```
 var bmp = new BitmapImage();
  var stream = new FileStream(@"c:\dir\folder\image.png", FileMode.Open);
  bmp.SetSource(stream);
  stream.Close(); 
```

如果您需要使用 uri，这应该可以工作：

```
 var bmp = new BitmapImage();      
  var uri = new Uri("c:/dir/folder/image.png");
  bmp.UriSource = uri; 
```

请注意，路径是不同的。uri 路径需要使用正斜杠。

然后，您可以将图像控件的源设置为 bmp

```
 image.Source = bmp; 
```

如果您遇到“不允许文件操作”异常，您需要仔细检查是否在浏览器外设置中检查了提升的权限

项目 -> 属性 -> '浏览器设置不足'

选中“需要提升信任...”

# android - 如何使用 HttpClient/HttpURLConnection 在 android 中调用 .net webservice

> ID：12171974
> 
> 赞同：-1
> 
> 时间：2012-08-29T06:22:15.640
> 
> 标签：android, web-services, http-post, httpclient

我编写了一个 .net Web 服务，它基本上连接到远程数据库、查询数据库并以 JSON 格式返回记录。我已经在 Android 中完成了客户端使用 ksoap2 库来使用 Web 服务。我发现它很慢。我发现可以使用 http post 或 http get 来代替此[链接](https://stackoverflow.com/questions/6498563/webservice-on-android-with-ksoap2-too-slow)中的 SOAP 。我搜索了网络，但找不到任何代码片段或分步指南来使用 http post/get 调用网络服务。请帮助我提供任何代码片段或分步指南。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-29T06:31:42.343

使用 JSON 响应非常简单。我的一位办公室同事为初学者写了一篇关于“带有 WCF 服务的 Android”的博文以及演示代码。

以下是来自源代码的代码片段：

```
 DefaultHttpClient client = new DefaultHttpClient();

    // http get request
    HttpGet request = new HttpGet(EMPLOYEE_SERVICE_URI
            + evEmployeeId.getText());
    // set the hedear to get the data in JSON formate
    request.setHeader("Accept", "application/json");
    request.setHeader("Content-type", "application/json");
    // get the response
    HttpResponse response = client.execute(request);
    HttpEntity entity = response.getEntity();
    // if entity contect lenght 0, means no employee exist in the system
    // with these code
    if (entity.getContentLength() != 0) {
        // stream reader object
        Reader employeeReader = new InputStreamReader(response.getEntity()
                .getContent());
        // create a buffer to fill if from reader
        char[] buffer = new char[(int) response.getEntity()
                .getContentLength()];
        // fill the buffer by the help of reader
        employeeReader.read(buffer);
        // close the reader streams
        employeeReader.close();
        // for the employee json object
        JSONObject employee = new JSONObject(new String(buffer));
    } 
```

[链接到博客文章](http://wyousuf.wordpress.com/2012/03/01/android-with-wcf-services/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-29T06:32:37.250

我只是把 Web 服务的 URL 和它工作正常 :)

```
URL u = new URL("http://www.blabla.com/Webservice.svc?anyParam=hello&param2=Hahah");

HTTPURLConnection conn = (HTTPURLConnection) u.openConnection();
InputStream response = conn.getInputStream();

/* Do the rest */ 
```

# java - 在 PreparedStatement 和 ResultSet 中操作 setter & getter

> ID：12171979
> 
> 赞同：0
> 
> 时间：2012-08-29T06:22:42.037
> 
> 标签：java, prepared-statement, ibm-midrange, resultset

以下情况：我们的旧 AS400 DB 无法处理 UTF8，因此我确实需要操作每个选择/插入/更新。我的第一个想法是：嘿，为什么不覆盖我处理 set- 和 getString 的 AS400JDBCPreparedStatement 和 AS400JDBCResultSet。听起来很简单，但不起作用（由于构造函数可见性，甚至无法扩展类）。

有谁知道如何创建一种简单的方法来操作 resultset.getString(i) 和preparedstatement.setString(1, string) 方法，并让它们通过我的方法来运行。

提前致谢！

@edit：实际的问题是，我们正在丢失像 č 这样的字符的信息。我们的数据库只能处理 ISO-8859-1。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T08:00:43.960

尝试研究可能的 JDBC 驱动程序属性以配置字符集以向服务器发送/接收。

[JDBC 属性](http://publib.boulder.ibm.com/infocenter/iadthelp/v7r1/index.jsp?topic=/com.ibm.etools.iseries.toolbox.doc/javadoc/com/ibm/as400/access/AS400JDBCDriver.html)可以在代码中设置，如果在 Java EE 容器（例如 Websphere）中运行，则可以附加到数据源配置中。

我没有 AS400 经验，但这个[驱动程序属性列表](http://publib.boulder.ibm.com/infocenter/iseries/v5r4/index.jsp?topic=%2Frzahh%2Fjdbcproperties.htm)可能会有所帮助。它特别提到

> `package ccsid`= 指定用于 SQL 包和发送到服务器的任何语句的字符编码。
> 
> 选项有：“1200”（UCS-2）、“13488”（UTF-16）

另请参阅[我的程序必须处理哪些字符转换问题？](http://www-03.ibm.com/systems/i/software/toolbox/faqjdbc.html#faqB3)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:30:58.307

连接连接 = null; PreparedStatementpreparedStatement = null; ResultSet generatedKeys = null;

```
try {
connection = m_Connection;
preparedStatement = (PreparedStatement) connection.prepareStatement(qString, Statement.RETURN_GENERATED_KEYS);

// ...

int affectedRows = preparedStatement.executeUpdate();
if (affectedRows == 0) {
    throw new SQLException("Creating user failed, no rows affected.");
}

generatedKeys = preparedStatement.getGeneratedKeys();
int id = -1;
if (generatedKeys.next()) {
    id = generatedKeys.getInt(1);
    id = -1;
} else {
    throw new SQLException("Creating user failed, no generated key obtained.");
}
} finally {

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T14:27:46.877

不知道你的“AS400”到底有多老，但 IBM i 平台已经支持 UTF8 有一段时间了。让 IBM 方面的人员创建一个测试表。假设他们使用的是 DDS（他们会知道这意味着什么），这里是 UTF8 和 UTF16：

```
 A            CHARUTF8      10A         COLHDG('UTF8') 
 A                                      CCSID(1208)    
 A                                      ALWNULL        
 A            CHARUTF16     10G         COLHDG('UTF16')
 A                                      CCSID(1200)    
 A                                      ALWNULL 
```

如果他们使用 SQL DDL 定义表，请让他们尝试 VARGRAPHIC CCSID 1208 用于 UTF-8 和 VARGRAPHIC CCSID 1200 用于 UTF-16。

# ruby-on-rails - Rails 引擎：命名空间多态 URL

> ID：12171982
> 
> 赞同：7
> 
> 时间：2012-08-29T06:23:09.153
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1, ruby-on-rails-3.2

我有一个`MyEngine`没有独立命名空间的 Rails 引擎。[根据文档](http://apidock.com/rails/ActionDispatch/Routing/PolymorphicRoutes)，我正在尝试使用多态助手生成资源链接。

引擎路线：

```
# config/routes.rb
...
  namespace :admin do
    resources :my_resource
  end
... 
```

`rake app:routes`（记住，这是一个引擎）的示例输出：

```
 admin_my_resources GET    /admin/my_resources(.:format)          my_engine/admin/my_resources#index
                       POST   /admin/my_resources(.:format)          my_engine/admin/my_resources#create
 new_admin_my_resource GET    /admin/my_resources/new(.:format)      my_engine/admin/my_resources#new
edit_admin_my_resource GET    /admin/my_resources/:id/edit(.:format) my_engine/admin/my_resources#edit
     admin_my_resource PUT    /admin/my_resources/:id(.:format)      my_engine/admin/my_resources#update
                       DELETE /admin/my_resources/:id(.:format)      my_engine/admin/my_resources#destroy 
```

如果`my_resource`是`MyResource`具有 ID 的模型实例`12345`，我希望：

```
polymorphic_url([my_engine, :admin, my_resource]) 
```

渲染：

```
/my_engine/admin/my_resource/12345 
```

但是我错了。相反，我得到一个例外：

```
undefined method `admin_my_engine_my_resource_path'... 
```

所以，`polymorphic_url`正在尝试使用`admin_my_engine_my_resource_path`它真正应该使用的东西更像`my_engine.admin_my_resource_path(my_resource)`

Rails 似乎添加`:admin`了错误的方式......还是我做错了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-03T19:12:17.013

您是否尝试过通过范围而不是命名空间来执行此操作？

请参阅此 SO 文章以获得更好的解释。[Rails 范围路由](https://stackoverflow.com/questions/4581887/rails-3-routing-how-to-use-scope-to-create-admin-prefix)

设计宝石就是一个很好的例子。

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-29T06:39:48.943

运行`rake routes`并从那里获取 url 辅助函数名称。您也可以在此处共享`rake routes`输出。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-03-07T12:17:01.377

我最近在 Rails 5 中遇到了这个问题，并找到了以下通用解决方案。

鉴于我的引擎名为 YamsCore，它会生成常见的 url 帮助程序，格式为：

```
url_for(yams_core.album_tracks_path) 
```

您可以编写一个接受任何模型的通用视图助手并通过以下方式生成 url：

```
path = polymorphic_path([view.yams_core, my_resource]) 
```

如果您需要指定操作

```
path = polymorphic_path([view.yams_core, my_resource], action: :edit) 
```

IE

```
path = polymorphic_path([view.engine_prefix, my_resource]) 
```

# iphone - 如何将 UISplitViewController 添加到 UINavigationController？

> ID：12171986
> 
> 赞同：2
> 
> 时间：2012-08-29T06:23:57.697
> 
> 标签：iphone, objective-c, ios, xcode

在我的应用程序中。我必须使用`UISplitViewController`并且我想做添加`UISplitViewController`到`UINavigationController`但我不能这样做。

我也知道继承`UISplitViewController`是不可能的。但这对我来说很重要`UINavigationController`。

提前致谢 ：）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-29T06:38:34.277

**注意**： UISplitViewController 必须是应用程序的根视图（或者更具体地说，可能是窗口）。它不能存在于 UINavigationController 或其他任何东西中。

参考[can-a-uisplitviewcontroller-be-the-root-controller-in-a-uinavigationcontroller](https://stackoverflow.com/questions/3723342/can-a-uisplitviewcontroller-be-the-root-controller-in-a-uinavigationcontroller)链接

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T06:43:35.557

我已经能够使用开源[MGSplitViewController](http://mattgemmell.com/2010/07/31/mgsplitviewcontroller-for-ipad/)做到这一点。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-29T08:05:19.693

您可以添加`MGSplitViewController`委托，例如：- 在 .m 文件中

```
 self.splitViewController = [[[MGSplitViewController alloc] init] autorelease];

    //
    MasterPage *aMasterPage = [[[MasterPage alloc] initWithNibName:@"MasterPage" bundle:[NSBundle mainBundle]] autorelease];

    aMasterPage.splitViewController = self.splitViewController;
    self.splitViewController.delegate = aMasterPage;

    UINavigationController *navCntrl = [[[UINavigationController alloc] aMasterPage] autorelease];
    [navCntrl.navigationBar setBarStyle:UIBarStyleBlackOpaque];

    DetailPage *aDetailPage = [[[DetailPage alloc] initWithNibName:@"DetailPage" bundle:[NSBundle mainBundle]] autorelease];               

    UINavigationController *navCntrl2 = [[[UINavigationController alloc] initWithRootViewController:aDetailPage] autorelease];

    [navCntrl2.navigationBar setBarStyle:UIBarStyleBlackOpaque];
    [self.splitViewController setViewControllers:[NSArray arrayWithObjects:navCntrl, navCntrl2, nil]];

    [self.window addSubview:self.splitViewController.view]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-08-07T07:14:39.227

请参阅此问答 -[是否可以在 iOS 应用程序的导航控制器中实现拆分视图控制器？](https://stackoverflow.com/questions/23014348/is-it-possible-to-implement-a-split-view-controller-within-a-navigation-controll)

这违反了 Apple 的准则（[https://developer.apple.com/library/archive/documentation/WindowsViews/Conceptual/ViewControllerCatalog/Chapters/SplitViewControllers.html#//apple_ref/doc/uid/TP40011313-CH7](https://developer.apple.com/library/archive/documentation/WindowsViews/Conceptual/ViewControllerCatalog/Chapters/SplitViewControllers.html#//apple_ref/doc/uid/TP40011313-CH7)）

拆分视图控制器必须始终是您创建的任何界面的根。换句话说，您必须始终将 UISplitViewController 对象中的视图安装为应用程序窗口的根视图。然后，拆分视图界面的窗格可能包含导航控制器、选项卡栏控制器或实现界面所需的任何其他类型的视图控制器。拆分视图控制器不能以模态方式呈现。

# iphone - 暂停和恢复 NSTimer

> ID：12171990
> 
> 赞同：1
> 
> 时间：2012-08-29T06:24:32.203
> 
> 标签：iphone, ipad

我在我的程序中使用 NSTimer 来播放视频，NSTimer 连续运行以在函数中运行我如何暂停和恢复 NSTimer 的操作，我的操作是-

```
-(void)handleTap
{
    if(pause==YES)
    {
      //resume ;
    }
    else
    {
      //pause;
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-29T06:32:25.530

NSTimer 中没有暂停和恢复功能。你可以像下面提到的代码那样做。

```
- (void)startTimer {
    m_pTimerObject = [NSTimer scheduledTimerWithTimeInterval:1.0f target:self selector:@selector(fireTimer:) userInfo:nil repeats:YES];
}
- (void)fireTimer:(NSTimer *)inTimer {
    // Timer is fired.
}
- (void)resumeTimer {
     if(m_pTimerObject) {
         [m_pTimerObject invalidate];
         m_pTimerObject = nil;        
 }
 m_pTimerObject = [NSTimer scheduledTimerWithTimeInterval:1.0f target:self selector:@selector(fireTimer:) userInfo:nil repeats:YES];
}
- (void)pauseTimer {
    [m_pTimerObject invalidate];
    m_pTimerObject = nil;
} 
```

我希望这些代码片段对您有所帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T06:29:56.867

你不能暂停计时器。

您可以：

*   使计时器无效并在您想要恢复时创建另一个（在大多数情况下最好）
*   或在您的程序中设置一个标志/变量以注意应忽略计时器操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T06:29:22.673

nstimer 中没有暂停和恢复的特定方法。如果您想停止计时器，则需要使计时器无效

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-29T06:30:10.527

在执行操作时，您可以使用`[timer invalidate];`，当您想恢复时，您只需重新启动计时器

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-29T06:33:56.370

您不能暂停计时器。您可以保存计时器的 fireDate 以及当前日期。在此之后，您使计时器无效。当需要恢复计时器时，您创建一个新的计时器对象并将触发日期设置为旧触发日期加上用户在菜单中的时间（oldTime + currentTime）。

请参阅[how-to-pause-and-resume-nstimer-in-iphone](https://stackoverflow.com/questions/4144242/how-to-pause-and-resume-nstimer-in-iphone)链接

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-03-13T09:28:47.803

```
- (IBAction)pauseResumeTimer:(id)sender {

    if (timerRunning == NO) {
        timerRunning = YES;

    [pauseTimerBtn setTitle:@"Resume" forState:UIControlStateNormal];
    NSString *stringVal = [NSString stringWithFormat:@"%@",timeTxt.text];
    stringVal = [stringVal stringByReplacingOccurrencesOfString:@":" withString:@"."];

    float tempFloatVal = [stringVal floatValue];
    int minuteValue = floorf(tempFloatVal);
    float tempSecVal = [stringVal floatValue] - floorf(tempFloatVal);
    int secondVal = tempSecVal*100;
    minuteValue = minuteValue*60;

    oldTimeValue = minuteValue + secondVal;
    [timer invalidate];
    timer = nil;
}
else
{
    timerRunning = NO;
    [pauseTimerBtn setTitle:@"Pause" forState:UIControlStateNormal];
    startDate = [NSDate date];
    timer = [NSTimer scheduledTimerWithTimeInterval:0.25 target:self selector:@selector(timer:) userInfo:nil repeats:YES];
    }    
}

- (void)runTimer:(NSTimer *)timer {
    NSInteger secondsAtStart = (NSInteger)[[NSDate date] timeIntervalSinceDate:startDate];
    secondsAtStart = secondsAtStart + oldTimeValue;
    NSInteger seconds = secondsAtStart % 60;
    NSInteger minutes = (secondsAtStart / 60) % 60;
    NSInteger hours = secondsAtStart / (60 * 60);
    NSString *result = nil;
    result = [NSString stringWithFormat:@"%02ld:%02ld",(long)minutes,(long)seconds];
    timeTxt.text   =  result;

} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-05-14T22:34:14.717

我编写了一个可以处理暂停和取消暂停计时器的控制器类。你可以在这里找到它：[https ://github.com/LianaChu/LCPausableTimer](https://github.com/LianaChu/LCPausableTimer)

它的工作原理与 BornCoder 的答案非常相似。如果您发现自己需要在项目中经常暂停和取消暂停计时器，则此控制器类会很有用。

如果您使用它，我将不胜感激任何评论或反馈，例如您如何使用它、您希望看到哪些更改或您希望我添加的任何功能。请不要犹豫，在这里回复您的评论，或在 github 页面上的问题选项卡上发布。

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2012-08-29T06:31:31.753

请看下面的链接

[如何以编程方式暂停 NSTimer？](https://stackoverflow.com/questions/347219/how-can-i-programmatically-pause-an-nstimer)

我在苹果上找到了这个答案

> 您可以存储自计时器启动以来经过的时间量......当计时器启动时，将日期存储在 NSDate 变量中。然后当用户切换时……使用 NSDate 类中的方法 timeIntervalSinceNow 来存储经过了多少时间……注意这会给 timeIntervalSinceNow 一个负值。当用户返回时，使用该值设置适当的计时器。

# jsp - html在同一行显示div

> ID：12171992
> 
> 赞同：3
> 
> 时间：2012-08-29T06:24:45.337
> 
> 标签：jsp, html

我希望在我的 jsp 页面上显示一个文本：

```
Sample date: <div id="sampleDate"/> 
```

所以我希望它显示为`Sample date: 29-Aug-2012`

但它是这样出现的：

`Sample Date:`

`29-Aug-2012`

谁能帮我这个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-29T06:25:57.520

写成——

```
Sample date: <span id="sampleDate"></span> 
```

我不会推荐这个，但如果你想保留 DIV 那么你必须使它成为内联元素 -

```
Sample date: <div id="sampleDate"></div>

#sampleDate{ display: inline; } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-29T06:29:33.430

css for sampleDate should be

```
#sampleDate { 
   display:inline;
} 
```

Also you could use `float:left;` for Sample date: and for #sampleDate block `float:right;` put both blocks inside other block and set width ( then there wont be a huge space between these two )

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-29T06:28:44.587

# javascript - 在 jquery 中突出显示页面和匹配选项卡

> ID：12171994
> 
> 赞同：6
> 
> 时间：2012-08-29T06:24:55.440
> 
> 标签：javascript, jquery, hyperlink

我有一个标签导航链接（tab1，tab2，tab3），页面底部有每个标签的页面链接导航。

**对于标签突出显示**

```
$(document).ready(function(){
  var str=location.href.toLowerCase();
     $(".tabs li a").each(function() {
         if (str.indexOf(this.href.toLowerCase()) > -1  ) {
            $("li.highlight").removeClass("highlight");
            $(this).parent().addClass("highlight");
         }
      });
}) 
```

**用于页面突出显示**

```
$(document).ready(function(){
   var str=location.href.toLowerCase();
   $(".paging li a").each(function() {
      if (str.indexOf(this.href.toLowerCase()) > -1  ) {
        $("li.hp").removeClass("hp");
        $(this).parent().addClass("hp");
      }
    });            
 }) 
```

尽管每个功能都正确突出显示了页面链接和选项卡链接，但如何同时突出显示当前选项卡（单击页面链接后）和当前页面？我可以使用上述功能吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:38:56.367

是的，您可以使用相同的函数，只需绑定一个函数来调用上述函数到页面链接标签给一个 id 到一个 html 元素，例如`<Div id="myId"></Div>` ，试试这个

```
$("myId").live('click',function(){
  // call whichever function you want to
 }) ; 
```

# web-services - 从 wso2 esb 调用 HTTPS 端点

> ID：12171995
> 
> 赞同：2
> 
> 时间：2012-08-29T06:24:57.723
> 
> 标签：web-services, security, wso2, wso2esb

如何从 WSO2 ESB 调用 HTTPS 端点。我在 weblogic 服务器上部署的 web 服务受策略保护， `Wssp1.2-2007-Https-UsernameToken-Plain.xml` 并且 WSDL 中指定的 SOAP 地址是
`https://172.16.91.21:7102/WLSAMLPack_62_64/CustomAsTAPIOnBuildingSAMLService`

当我尝试从 WSO2 esb 创建端点并访问它时，它会引发以下错误：

> [2012-08-29 11:43:49,769] 错误 - ClientHandler I/O 错误：一般 SSLEngine 问题对于：172.16.91.21:7102 对于请求：Axis2Request [消息 ID：urn:uuid:59ebea16-dcb0-4b25-8074- b78605e2ff55] [状态已完成：false] [状态 SendingCompleted：true] javax.net.ssl.SSLHandshakeException：com.sun.net.ssl.internal.ssl.Handshaker.checkThrown(Handshaker.java:938) 中的一般 SSLEngine 问题.sun.net.ssl.internal.ssl.SSLEngineImpl.checkTaskThrown(SSLEngineImpl.java:465) 在 com.sun.net.ssl.internal.ssl.SSLEngineImpl.writeAppRecord(SSLEngineImpl.java:1064) 在 com.sun.net .ssl.internal.ssl.SSLEngineImpl.wrap(SSLEngineImpl.java:1036) at javax.net.ssl.SSLEngine.wrap(SSLEngine.java:452) at org.apache.http.impl.nio.reactor.SSLIOSession.doHandshake (SSLIOSession.java:154) 在 org.apache.http.impl.nio。reactor.SSLIOSession.isAppInputReady(SSLIOSession.java:265) at org.apache.http.impl.nio.SSLClientIOEventDispatch.inputReady(SSLClientIOEventDispatch.java:229) at org.apache.http.impl.nio.reactor.BaseIOReactor.readable( BaseIOReactor.java:158) 在 org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:340) 在 org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java: 318) 在 org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) 在 org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:278) 在 org .apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:542) at java.lang.Thread.run(Thread.java:619) 引起：javax.net.ssl.SSLHandshakeException：com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174) 中的一般 SSLEngine 问题 com.sun.net.ssl.internal.ssl.SSLEngineImpl.fatal(SSLEngineImpl.java:1427) com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:189) 在 com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:181) 在 com.sun。 net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1035) 在 com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:124) 在 com.sun.net.ssl。 internal.ssl.Handshaker.processLoop(Handshaker.java:516) at com.sun.net.ssl.internal.ssl.Handshaker$1.run(Handshaker.java:458) at java.security.AccessController.doPrivileged(Native Method)在 com.sun.net.ssl.internal.ssl.Handshaker$DelegatedTask.run(Handshaker.java:875) 在 org.apache.http.impl.nio.reactor.SSLIOSession.doHandshake(SSLIOSession.java:171) ... 9 更多原因：sun.security.validator.ValidatorException：PKIX 路径构建失败：sun.security。 provider.certpath.SunCertPathBuilderException：无法在 sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:191) 的 sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:285) 中找到请求目标的有效证书路径sun.security.validator.Validator.validate(Validator.java:218) 在 com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:126) 在 com.sun.net.ssl.internal。 ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:209) 在 com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:249) 在 com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1014) ... 15 更多原因：sun.security.provider.certpath.SunCertPathBuilderException：无法找到有效的证书路径在 sun.security.validator.PKIXValidator.doBuild(PKIXValidator .java:280) ... 21 更多engineBuild(SunCertPathBuilder.java:174) 在 java.security.cert.CertPathBuilder.build(CertPathBuilder.java:238) 在 sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:280) ... 21 更多engineBuild(SunCertPathBuilder.java:174) 在 java.security.cert.CertPathBuilder.build(CertPathBuilder.java:238) 在 sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:280) ... 21 更多

谢谢。阿卜杜勒

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T12:51:26.023

在以下链接中更新了解决方案。[使用 wso2 esb 调用 HTTPS 安全端点](http://briskwalk.wordpress.com/2012/08/31/invoking-secured-web-service-through-wso2-esb/)

希望这可以帮助。谢谢，阿卜杜勒。

# visual-c++ - 发送操作的 Winsocket 超时

> ID：12171999
> 
> 赞同：0
> 
> 时间：2012-08-29T06:25:33.560
> 
> 标签：visual-c++, tcp, winsockets

我在 vc++ 2008 中编写了一个 TCP Socket 应用程序。如果需要超过 x 秒，我希望“发送”操作超时。为此，我尝试使用

`char *optValue = "5000";
setsockopt(socket, SOL_SOCKET, SO_SNDTIMEO, optValue, sizeof(optValue));`

它返回成功，但“发送”没有按预期运行。然后尝试使用

`tv.tv_sec = 10; tv.tv_usec = 0; FD_SET(accept_socket, &write_mask); select(socket, (fd_set *)0, &write_mask, (fd_set *)0, &tv);`

仍然“发送”未按照设置的超时值运行。请检查这是正确的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-29T06:46:01.570

,`setsockopt`虽然接受 a`char *`实际上并不希望将值作为字符串。您应该将值作为指向整数的指针传递，类型转换为`char *`：

```
int optValue = 5000;
setsockopt(socket, SOL_SOCKET, SO_SNDTIMEO, (const char *) &optValue, sizeof(optValue)); 
```

PS。您的使用`sizeof`并没有按照您的想法进行。它返回*指针*的大小，而不是它指向的大小。