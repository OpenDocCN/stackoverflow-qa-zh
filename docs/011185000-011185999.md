# StackOverflow 问答 11185000-11185999

# javascript - 在选择时更改 p:graphicImage 边框颜色

> ID：11185002
> 
> 赞同：0
> 
> 时间：2012-06-25T07:19:43.640
> 
> 标签：javascript, jsf-2, primefaces

我有以下代码来显示图像

```
<ui:repeat id="repeat5" value="#{getData.imageThumbnail1}" var="imagesLst2" varStatus="loop">
    <h:panelGroup>
        <p:commandLink id="cl3" action="#{getData.imageID(imagesLst2.imageID)}" styleClass="ovr" update=":mainForm:tabView:example">
            <p:graphicImage id="gi3" value="#{imagesStreamer.image}" styleClass="bord" alt="image not available3"  width="60" height="60" >
                <f:param name="id5" value="#{imagesLst2.imageID}" />
            </p:graphicImage>
        </p:commandLink>
    </h:panelGroup>
</ui:repeat> 
```

我有一个 css 文件来显示 p:graphicImage .bord {border-style:solid; 的边框。边框宽度：2px；边框颜色：#00FFFF；}

我可以查看多个图像，当我选择一个图像时，它需要更改该图形图像的边框颜色（在任何时候只有一个选定的图像），我如何在 PrimeFaces 中做到这一点我尝试使用 javascript 但是无法弄清楚如何更改现有组件的边框。

**更新：1**

我使用以下代码完成了上述任务

```
 <p:graphicImage id="gi3" value="#{imagesStreamer.image}" onmousedown="mouseDown(this)" styleClass="bord" alt="image not available3"  width="60" height="60" > 
```

和 javascript

```
function mouseDown(element) {
    var element1 = (element);
    element1.style.borderColor="#ff0000";
} 
```

现在我的问题是如何在新选择上更改先前选择的边框颜色。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T11:00:59.680

我认为这是一个更清洁的解决方案，您不必使用全局变量。

在 ui:repeat 周围添加一个。然后简单地用jquery解决。

标记：

```
<p:graphicImage id="gi3" value="#{imagesStreamer.image}" alt="image not available3"  width="60" height="60" onclick="setBorder(this)"> 
```

javascript:

```
function setBorder(element) {
    $('#imageContainer .bord').removeClass('bord'); // Removes the border from all images that has it.
    $(element).addClass('bord'); // Adds the border class to the clicked image.
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T10:50:26.577

这就是我做上述事情的方式

jsf代码

```
<p:graphicImage id="gi3" value="#{imagesStreamer.image}" onmousedown="mouseDown(this)" styleClass="bord" alt="image not available3"  width="60" height="60" > 
```

javascript

```
var elementOld;

function mouseDown(element) {
    var element1 = (element);
    element1.style.borderColor="#ff0000";

    if(elementOld != null){
        elementOld.style.borderColor="#739E39"
    }
    elementOld = element1;
} 
```

感谢 BalusC 的回复 [How to reference a JSF component Id in jquery?](https://stackoverflow.com/questions/7132061/how-to-refer-to-a-jsf-component-id-in-jquery)

# java - Vaadin 检查哪个组件有焦点

> ID：11185003
> 
> 赞同：5
> 
> 时间：2012-06-25T07:19:47.103
> 
> 标签：java, focus, vaadin

有没有办法找出哪个组件在 Vaadin 窗口中具有实际焦点！？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-27T05:28:34.137

不，至少不是直接的（这令人惊讶）。请[按照 Vaadin 论坛主题中的链接和讨论进行操作](https://vaadin.com/forum#!/thread/81657)。

你可以绕过它，但它需要一定的工作量。一个起点[是`Focusable`界面](https://vaadin.com/api/com/vaadin/ui/Component.Focusable.html)。基本上，您应该捕获所有组件中的所有焦点事件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-04-01T08:32:40.420

您可以为每个组件添加一个 focusListener 和一个 blurListener。如果组件具有焦点，则将对象设置为当前组件，如果调用 blurListener，则将其设置为 null。

如果对象是 != null 您只需要检查它是哪个组件并且您知道哪个组件具有焦点。

# sql - ORA-00001: 唯一约束检查 数据源

> ID：11185007
> 
> 赞同：0
> 
> 时间：2012-06-25T07:20:00.760
> 
> 标签：sql, oracle, constraints, unique, ora-00001

执行过程时出现 ORA-00001：唯一约束错误。我检查了表名，它有四个主键。(a.sr_date, a.int_key, b.cli_no, b.act_no) from table1 a, table2 b 我想知道我将如何检查源表，以便知道导致问题。感谢任何帮助。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:47:41.563

如果要从另一个 SOURCE 表向 table1、table2 插入数据，您可以连接或联合您的 src 和目标表，计算相等的字段。

请在此处输入所有涉及的表格的描述；

```
Select count(1), f1, f2, f3 FROM <tables> GROUP BY f1, f2, f3 HAVING count(*) > 1; 
```

会给你重复的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:01:56.687

我的猜测是您未能阅读完整的错误消息。根据[Oracle 文档](http://docs.oracle.com/cd/E11882_01/server.112/e17766/e0.htm)，错误文本具有以下格式：

> ORA-00001: 违反唯一约束 (string.string)

...其中`string.string`可能包含被违反的确切常量的名称。

# entity-framework - 实体框架 - 交易失败后模型不更新

> ID：11185011
> 
> 赞同：0
> 
> 时间：2012-06-25T07:20:23.523
> 
> 标签：entity-framework, transactions, transactionscope, rollback

使用 Entity Framework (4.3.1.0) 处理项目。我试图弄清楚如何使我的代码作为事务工作，但对我来说，事务失败后我的模型似乎没有更新。

让我演示给你看：

```
using (TransactionScope trans = new TransactionScope())
{
    _database.Units.Add(new Unit{ ... });
    var a = false;
    if (a)
    {
        trans.Complete();
        Refresh();
    }
}

Refresh(); 
```

我的经验是，在事务范围完成后，它不会回滚到以前的状态。当我运行刷新方法时，我会遍历 Units 中的所有项目并将值插入到一个 ObservableCollection 中，我在 WPF 窗口的屏幕上显示它。

此机制适用于我成功执行事务时，但是当我运行上面的代码时，网格会使用新添加的单元更新，但在事务后运行 Refresh 后它并没有消失。

我觉得我在这里做的事情根本上是错误的:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:33:33.380

实体框架不支持内存中跟踪实体的事务 - 您在 ObjectContext 中看到的“ObjectStateManager”不是事务资源。TransactionScope 仅“适用于”在其中完成的数据库操作（查询、更新），而不适用于内存中的操作，例如操作对象图（这就是您所做的）。

# direct3d - FrontBuffer 有 alpha 值吗？

> ID：11185012
> 
> 赞同：0
> 
> 时间：2012-06-25T07:20:35.907
> 
> 标签：direct3d, alpha, swap, tga

我试图使用 GetFrontBufferData 方法保存 .tga 图像，但是 alpha 值丢失了。它们完全是一个。我可以从 RenderTarget 或 BackBuffer 获得正确的 alpha 值，但不是 rgb 值不正确。即使是现在的场景也可以立即显示,backbuffer 似乎仍然比 frontbuffer 暗。
现在我得到 2 个问题：
Q1：FrontBuffer 有 alpha 值吗？
Q2：当你尝试渲染透明的东西时，后台缓冲区和前台缓冲区的数据有什么区别？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T21:51:14.907

渲染透明对象时，其 alpha 值用于执行 alpha 混合。混合完成后，将新值写入后台缓冲区。如果要保留 alpha 值，则后台缓冲区的格式应为`D3DFMT_A8R8G8B8`. 您还应该记住在调用时清除 Alpha 通道`IDirect3DDevice9::Clear()`。渲染完成后，简单地翻转后缓冲区和前缓冲区指针（[阅读更多](http://msdn.microsoft.com/en-us/library/windows/desktop/bb206356%28v=vs.85%29.aspx)）。因此，两个缓冲区具有相同的格式（因此，如果您使用 RGBA 格式创建后缓冲区，则前缓冲区也将是 RGBA）。顺便说一句，您可以获取后端缓冲区并将其锁定，而不是获取前端缓冲区。

默认情况下，Alpha 混合在 R、G、B 和 A 通道上执行相同的操作，但您可以仅为 Alpha 通道指定单独的操作 -[请参阅此](http://msdn.microsoft.com/en-us/library/windows/desktop/bb147328%28v=vs.85%29.aspx)。

# c++ - 搜索商业 C++ 许可库

> ID：11185018
> 
> 赞同：1
> 
> 时间：2012-06-25T07:20:46.503
> 
> 标签：c++, security, api, licensing

我正在寻找一个商业 C++ 库，它提供了在我的产品中使用的许可 API。它应该是：

*   根据硬件信息（例如 MAC、硬盘...）生成许可证
*   许可证可以携带额外的自定义信息
*   提供独立模式和客户端/服务器模式
*   选定功能的许可证（我的产品有几个功能，我想分别控制为它们颁发许可证）
*   稳定且跨平台（Windows 32/64、Linux 32/64）
*   配套服务好

我找到了 Nglogic 的产品：[http](http://nglogic.com/products/LicenceLib/product_master) ://nglogic.com/products/LicenceLib/product_master 非常符合我的要求，但我对这家公司一无所知。如果有人以前用过，请给我你的意见。

我欢迎其他建议。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:51:28.340

我们使用X-Formation 的[LM-X License Manager](http://www.x-formation.com/lm-x_license_manager/index.html)。它提供了您列出的所有功能。客户支持非常好，响应时间非常快。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T07:26:21.513

我相信 FlexNet Publisher（以前称为 FlexLM）会符合这些标准。它们已经存在了很长时间（10 年以上）并且被广泛使用。

# qt - 如何在 Qt 中保存对话框的状态？

> ID：11185020
> 
> 赞同：5
> 
> 时间：2012-06-25T07:20:47.860
> 
> 标签：qt

假设对话框中有复选框、选项等控件，我如何在 Qt 中保存对话框的状态？

我应该使用 QSettings 还是其他东西？

谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-16T19:35:02.910

我遇到了同样的问题。谷歌搜索并没有太大帮助。所以最后我写了自己的解决方案。

我创建了一组函数，分别在创建和销毁时读取和写入对话框的每个子控件的状态。它是通用的，可用于任何对话框。

它是这样工作的：

```
Dialog::Dialog(QWidget *parent) :
    QDialog(parent),
    ui(new Ui::Dialog)
{
    ui->setupUi(this);
    QMoMSettings::readSettings(this);
}

Dialog::~Dialog()
{
    QMoMSettings::writeSettings(this);
    delete ui;
}

...

void QMoMSettings::readSettings(QWidget* window)
{
    QSettings settings;

    settings.beginGroup(window->objectName());
    QVariant value = settings.value("pos");
    if (!value.isNull())
    {
        window->move(settings.value("pos").toPoint());
        window->resize(settings.value("size").toSize());
        recurseRead(settings, window);
    }
    settings.endGroup();
}

void QMoMSettings::writeSettings(QWidget* window)
{
    QSettings settings;

    settings.beginGroup(window->objectName());
    settings.setValue("pos", window->pos());
    settings.setValue("size", window->size());
    recurseWrite(settings, window);
    settings.endGroup();
}

void QMoMSettings::recurseRead(QSettings& settings, QObject* object)
{
    QCheckBox* checkbox = dynamic_cast<QCheckBox*>(object);
    if (0 != checkbox)
    {
        checkbox->setChecked(settings.value(checkbox->objectName()).toBool());
    }
    QComboBox* combobox = dynamic_cast<QComboBox*>(object);
    if (0 != combobox)
    {
        combobox->setCurrentIndex(settings.value(combobox->objectName()).toInt());
    }
    ...

    foreach(QObject* child, object->children())
    {
        recurseRead(settings, child);
    }
}

void QMoMSettings::recurseWrite(QSettings& settings, QObject* object)
{
    QCheckBox* checkbox = dynamic_cast<QCheckBox*>(object);
    if (0 != checkbox)
    {
        settings.setValue(checkbox->objectName(), checkbox->isChecked());
    }
    QComboBox* combobox = dynamic_cast<QComboBox*>(object);
    if (0 != combobox)
    {
        settings.setValue(combobox->objectName(), combobox->currentIndex());
    }
    ...

    foreach(QObject* child, object->children())
    {
        recurseWrite(settings, child);
    }
} 
```

希望这对我之后的人有所帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T09:16:34.420

QSettings 可以很好地满足您的需要，但您实际上只是在启动时序列化选项并重新加载它们，因此在 Qt 中有大量关于这样做的文档。

# svg - 为什么过滤器会破坏半像素技巧以获得清晰的 1px 笔画？

> ID：11185031
> 
> 赞同：2
> 
> 时间：2012-06-25T07:21:30.357
> 
> 标签：svg, svg-filters

[我正在使用该问题的第二个答案中](https://stackoverflow.com/questions/7589650/drawing-grid-with-jquery-svg-produces-2px-lines-instead-of-1px)讨论的“将所有内容偏移半个像素”技巧来在形状上获得清晰的 1px 笔划。

（涉及到圆形边缘，因此`shape-rendering: crispEdges`解决方案在这里不可行 - 它使笔划的弯曲部分看起来很糟糕。）

添加过滤器（我使用高斯模糊+偏移过滤器来实现投影）如何打破半像素偏移黑客？

你可以玩[jsfiddle](http://jsfiddle.net/hVWAy/4/)。

```
<svg xmlns="http://www.w3.org/2000/svg" version="1.1">
  <defs>
    <filter id="f1" x="-20%" y="-20%" width="160%" height="160%">
      <feOffset result="offOut" in="SourceAlpha" dx="10" dy="10" />
      <feGaussianBlur result="blurOut" in="offOut" stdDeviation="2" />
      <feBlend in="SourceGraphic" in2="blurOut" mode="normal" />
    </filter>
  </defs>
  <g transform="translate(5.5,5.5)">
    <!-- This one has a blurry stroke -->
    <rect width="50" height="50" rx="5" ry="5" stroke="black" stroke-width="1" fill="steelblue" filter="url(#f1)" />
    <!-- This one has a crisp stroke -->
    <rect x="150" width="50" height="50" rx="5" ry="5" stroke="black" stroke-width="1" fill="steelblue" />
  </g>
</svg> 
```

显然我不能以新用户的身份发布内联图像，但你可以[这是 svg 如何为我寻找的图像](https://i.imgur.com/MdqUu.png)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-07T04:21:21.937

如果您不喜欢模糊的边缘，您可以随时尝试使用 feFuncA 添加 feComponentTransfer 来手动操作边缘模糊。又名：

```
<filter id="fee" x="-20%" y="-20%" width="160%" height="160%">
    <feComponentTransfer>
          <feFuncA type="table" tableValues="0 0 1" />
    </feComponentTransfer>
</filter> 
```

# android - 如何获得修订数量？

> ID：11185034
> 
> 赞同：1
> 
> 时间：2012-06-25T07:21:39.420
> 
> 标签：android, git, repository

如何使用[`repo`](http://source.android.com/source/using-repo.html)命令获取修订号？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:59:27.860

提到的修订[`repo init`](http://source.android.com/source/using-repo.html#init)是标签的名称：

```
-b: specify a revision, i.e., a particular manifest-branch. 
```

[您可以在诸如platform/development](https://android.googlesource.com/platform/development)或[platform/build](https://android.googlesource.com/platform/build)之类的项目中看到那些（标签）。

但是，如“[`repo init`特定提交](https://stackoverflow.com/a/10820464/6309)”中所述，-b 选项不采用 SHA1：

> 因此，获取特定构建的存储库源的正确方法是获取它的清单。
> 即清单，它将包含 SHA（或标签，如果它们存在的话，它们实际上是相同的）而不是分支名称

# assembly - 在宏程序集中定位独立代码

> ID：11185039
> 
> 赞同：0
> 
> 时间：2012-06-25T07:21:49.190
> 
> 标签：assembly, x86, nasm

编写一个 NASM 宏：divide，它有 2 个参数，指定任何寻址模式下的无符号整数。宏计算其第一个参数的上限，除以第二个参数，并将结果放入寄存器 edx。如果第二个参数为 0（要在运行时测试），则结果应为 0，并且应将消息“除以零”打印到标准输出。

这是我写的代码。如何编写没有标签的代码？（位置独立于代码）

```
%macro divide 2

section .rodata
        LC1: DB "divide by zero ", 10, 0

section .text

  mov eax, %1
  mov ebx, %2
  cmp ebx, 0 ; divide by zero
  jne rest1
  push LC1
  call printf
  add esp,4
  mov edx, 0
  jmp end1

rest1:
  mov edx, 0
  div ebx
  add eax, edx
  mov edx , eax ; the result should be in edx

end1:
 %endmacro 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T11:08:04.500

“无标签”和“位置无关代码”之间存在很大差异。你可以拥有一个，但不能拥有另一个，你可以拥有两个，你也可以两个都拥有。

让上面的代码没有标签并不是很容易。我看不出你为什么想要这样的充分理由。你能解释一下你在做什么，这个任务背后的更大目标吗？

制作与位置无关的宏也很不寻常。通常，像整个子程序这样的东西是与位置无关的。再说一次，你为什么认为你需要它？

尽管如此，上述代码中的所有跳转和调用指令都是`eip`相对的（请参阅文档中的 jmp/jcc 和调用指令的详细信息）。

出于这个原因`jne rest1`，`jmp end1`不要让宏观位置依赖。`eip`无论代码位于何处，这些跳转总是以恒定的量前进。

OTOH，出于同样的原因`call printf`（并且可能`push LC1`）确实使宏位置相关。`printf`您可以通过将和的地址作为附加参数传递到宏中来避免这种情况`LC1`（显式（与其他两个参数一样）或隐式（例如，在某个预定义的位置、寄存器或堆栈位置））。

# html - 对 Web 服务的 XMLHttpRequest 在 Web Worker 中不起作用

> ID：11185043
> 
> 赞同：2
> 
> 时间：2012-06-25T07:22:04.567
> 
> 标签：html, xmlhttprequest, web-worker

如果从主 javascript 调用下面的代码可以完美运行，但它不会在 web worker 中运行。

```
 function getSpecData(detailLvl, startWeek, endWeek, mkt) {
        var params = { "detailLvl": detailLvl, "startWeek": startWeek, "endWeek": endWeek, "mkt": mkt };
        var xhr;
        var url = "WebServices/wsSProgress.asmx/GetSpecProgressTable";
        try {
            xhr = new XMLHttpRequest();
            xhr.open('POST', url, false);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    var result = JSON.parse(xhr.responseText);
                    $('#specProgTbl').html(result.d);
                }
            };
            xhr.send(JSON.stringify(params));
        } catch (e) {
            alert('Error occured in XMLHttpRequest: ' + xhr.statusText + '  ReadyState: ' + xhr.readyState + ' Status:' + xhr.status);
        }
    } 
```

web worker 代码的唯一区别是它使用 postMessage 来返回结果：

```
<script id="worker" type="javascript/worker">

    self.onmessage = function (e) {
        var data = e.data;
        //self.postMessage(data.mkt + " " + data.detailLvl + " " + data.refreshMin + " " + data.isRotate +" "+data.weekNum);

        var startWeek=data.weekNum-3;
        var endWeek=data.weekNum;
        self.postMessage(getSpecData(1,startWeek,endWeek,data.mkt));

    }; 
    function getSpecData(detailLvl, startWeek, endWeek, mkt) {
        self.postMessage('DetailLvl '+detailLvl+' Start '+startWeek+' End '+endWeek+' Mkt '+mkt); 
        var params = { "detailLvl": detailLvl, "startWeek": startWeek, "endWeek": endWeek, "mkt": mkt };
        var xhr;
        var url = "WebServices/wsSpecProgress.asmx/GetSpecProgressTable";
        try {
            xhr = new XMLHttpRequest();
            xhr.open('POST', url, false);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    var result = JSON.parse(xhr.responseText);
                    self.postMessage(result.d);
                }
            }; 
            xhr.send(JSON.stringify(params));
        } catch (e) {
            self.postMessage('Error occured in XMLHttpRequest: ' + xhr.statusText + '  ReadyState: ' + xhr.readyState + ' Status:' + xhr.status);
        }
    }

</script> 
```

启动worker的主要javascript：

```
 $(function initialize() {
        $('#options').hide();
        $("[id$='btnViewOpt']").val("View Options");
        var mkt = $("[id$='lstMkt'] :selected").text();
        var detailLvl = $("[id$='lstDetailLvl'] :selected").val();
        var refreshMin = $("[id$='lstRefresh'] :selected").val();
        var isRotate = $("[id$='chkRotate']").is(":checked");

        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;
        window.URL = window.URL || window.webkitURL;
        if (BlobBuilder) {
            var bb = new BlobBuilder();
            bb.append(document.querySelector('#worker').textContent);
            wUrl = window.URL.createObjectURL(bb.getBlob());
            worker = new Worker(wUrl);
            alert("Web worker started");
            worker.addEventListener('message', dispMsg, false);
            worker.addEventListener('error', onError, false);
            worker.postMessage({ 'mkt': mkt, 'detailLvl': detailLvl, 'refreshMin': refreshMin, 'isRotate': isRotate, 'weekNum': getCurrentWeekNumber() }); // Start the worker.
        }
        else
            alert("Your browser does not support web workers");
 });

  function onError(e) {
        alert('ERROR in WebWorker: Line ' + e.lineno + ' in ' + e.filename + ': ' + e.message);
    }
    function dispMsg(e) {
        alert("Message from worker: " + e.data);
        $('#specProgTbl').html(e.data);

    } 
```

网络工作者启动并且参数正确但**result.d 是 undefined**。catch 没有 statusText ，只有**readyState=0**和**status=0**。

这是什么法术？？？

**如果从主 Javascript 调用更新**

**xhr.responseText**是：

```
 {"d":"\u003ctable border=\u00271px\u0027 cellpadding=\u00275\u0027 cellspacing=\u00270\u0027\u003e\u003ctr height=\u002710\u0027 \u003e\u003cth height=\u002710\u0027 colspan=\u002712\u0027\u003ePAS\u003c/th\u003e\u003c/tr\u003e\u003ctr height=\u002710\u0027 \u003e\u003ctd align=\u0027center\u0027 width=\u0027200\u0027\u003eManufacturer\u003c/td\u003e\u003ctd align=\u0027center\u0027 width=\u0027150\u0027\u003eMake\u003c/td\u003e\u003ctd align=\u0027center\u0027 width=\u0027100\u0027\u003eNoSpec W22\u003c/td\u003e\u003ctd align=\u0027center\u0027 width=\u0027100\u0027\u003eComplete% W22\u003c/td\u003e\u003ctd align=\u0027center\u0027 width=\u0027100\u0027\u003eNoSpec W23\u003c/td\u003e\u003ctd align=\u0027center\u0027 width=\u0027100\u0027\u003eComplete% W23\u003c/td\u003e\u003ctd align=\u0027center\u0027 width=\u0027100\u0027\u003eNoSpec W24\u003c/td\u003e\u003ctd align=\u0027center\u0027 width=\u0027100\u0027\u003eComplete% W24\u003c/td\u003e\u003ctd align=\u0027center\u0027 width=\u0027100\u0027\u003eNoSpec W25\u003c/td\u003e\u003ctd align=\u0027center\u0027 width=\u0027100\u0027\u003eComplete% W25\u003c/td\u003e\u003ctd align=\u0027center\u0027 width=\u0027100\u0027\u003eNoSpec W26\u003c/td\u003e\u003ctd align=\u0027center\u0027 width=\u0027100\u0027\u003eComplete% W26\u003c/td\u003e\u003c/tr\u003e\u003ctr height=\u002710\u0027 \u003e\u003ctd align=\u0027left\u0027  class=\u0027default\u0027  height=\u002710\u0027 \u003eAAD\u003c/td\u003e\u003ctd align=\u0027left\u0027  class=\u0027default\u0027  height=\u002710\u0027 \u003eCHERY\u003c/td\u003e\u003ctd align=\u0027left\u0027 class=\u0027noSpecSame\u0027  height=\u002710px\u0027 \u003e0\u003c/td\u003e\u003ctd align=\u0027center\u0027  class=\u0027percSame\u0027  height=\u002710\u0027 \u003e\u003cdiv style=\u0027background-image: linear-gradient(left , rgba(8,68,250,1) 18%, rgba(240,241,250,1) 92%, rgba(240,241,250,0) 8%);background-image: -o-linear-gradient(left , rgba(8,68,250,1) 18%, rgba(240,241,250,1) 92%, rgba(240,241,250,0) 8%);background-image: -moz-linear-gradient(left , rgba(8,68,250,1) 18%, rgba(240,241,250,1) 92%, rgba(240,241,250,0) 8%);background-image: -webkit-linear-gradient(left , rgba(8,68,250,1) 18%, rgba(240,241,250,1) 92%, rgba(240,241,250,0) 8%);background-image: -ms-linear-gradient(left , rgba(8,68,250,1) 18%, rgba(169,199,245,1) 92%, rgba(240,241,250,0) 8%);background-image: -webkit-gradient(linear,left bottom,right bottom,color-stop(0.18, rgba(8,68,250,1)),color-stop(0.92, rgba(240,241,250,1)),color-stop(1, rgba(240,241,250,0)));\u0027\u003e92\u003c/div\u003e\u003c/td\u003e\u003ctd align=\u0027left\u0027 class=\u0027noSpecSame\u0027  height=\u002710\u0027 \u003e0\u003c/td\u003e\u003ctd align=\u0027center\u0027  class=\u0027percSame\u0027 height=\u002710\u0027 \u003e\u003cdiv style=\u0027background-image: linear-gradient(left , rgba(8,68,250,1) 18%, rgba(240,241,250,1..............."} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-26T07:59:21.987

好吧，我在这里真的很愚蠢。我得到的原因

```
 DOMException: INVALID_STATE_ERR 
```

是因为根据[W3 文档，如果](http://www.w3.org/TR/2006/WD-XMLHttpRequest-20060405/)**xhr.readyState**具有无效值，则**xhr.status**属性会引发异常：

 **```
 Exceptions on retrieval
    DOMException  INVALID_STATE_ERR exception SHOULD be raised if this attribute is accessed when readyState has an inappropriate value. 
```

**我的xhr.readyState** 无效，因为我没有指定我正在调用的 Web 服务的完整路径。**需要 web**服务的完整路径，因为 webworker 在“动态”创建的单独**Blob 文件**中运行。

无论如何，下面是带有工作 web 服务调用脚本的 webwoker 代码：

```
<script id="worker" type="javascript/worker">

    self.onmessage = function (e) {
        var param = e.data;
        var url="http://localhost:54071/WebServices/wsSProgress.asmx/GetSpecProgressTable";
        var data=getSpecData(param.detailLvl,param.startWeek,param.endWeek,param.mkt,url)
        self.postMessage(data);
    }; 
    function getSpecData(detailLvl, startWeek, endWeek, mkt, url) {
        var params = { "detailLvl": detailLvl, "startWeek": startWeek, "endWeek": endWeek, "mkt": mkt };
        var xhr;
        try {
            xhr = new XMLHttpRequest();
            xhr.open('POST', url, false);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    var result = JSON.parse(xhr.responseText);
                    self.postMessage(result.d);
                }
            }; 
            xhr.send(JSON.stringify(params));
        } catch (e) {
            self.postMessage('Error occured in XMLHttpRequest: ' + xhr.statusText + '  ReadyState: ' + xhr.readyState + ' Status:' + xhr.status + ' E: ' +e+' Msg:'+e.message);
        }
    }
    </script> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T10:32:55.710

从评论中，您的例外是：

```
DOMException: INVALID_STATE_ERR 
```

这意味着您的消息内容被回发给父级不能被序列化。

根据我的经验，这通常是因为对象中存在循环引用或函数。在不知道服务器给出的响应的情况下，这就是我可以为您提供的尽可能多的帮助。**

# ios - 如何从 iOS 使用 yammer 的 oauth2？

> ID：11185049
> 
> 赞同：1
> 
> 时间：2012-06-25T07:22:39.917
> 
> 标签：ios, oauth-2.0, yammer

我正在尝试让 iOS 客户端使用 Yammer 的 Oauth2 来验证用户。我首先尝试了 GTM-OAuth2 代码，但我无法理解 Yammer 的响应。似乎 GTM 代码期望 access_code 作为查询参数，而 Yammer 将其作为 uri 片段返回。我破解了他的 GTM 代码以查看该片段，但现在它似乎认为存在错误，因为代码和消息字段不在 Yammer 的响应中。

我也尝试使用 OAuth2Client api，但问题是 Yammer 似乎不想使用我传递给它的 redirect_uri，因此 Safari 永远不会获取自定义 url，因此永远不会回调应用程序。

有人有使用 Yammer 的 OAuth2 的工作示例吗？

如果有人让 GTM-OAuth2 与 Facebook 一起工作，我也会感兴趣吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:36:15.237

是的，Yammer 的 oAuth 实现很糟糕。看起来每个服务都采用了自己的 oauth 实现。无论如何，yammer 要求用户从其网站复制 4 位代码，返回到您的服务，将该代码粘贴到您的网站中。只有这样您才能请求访问代码。

检查这个 - [http://www.tutorialjinni.com/2011/04/yammer-api-example.html](http://www.tutorialjinni.com/2011/04/yammer-api-example.html)（它在 php 但希望你能得到要点）。

除了有趣的阅读之外，您无能为力 - [Yammer API 很烂](http://pointbeing.net/weblog/2009/03/ways-in-which-the-yammer-api-sucks.html)

# android - 返回另一个活动时出现 NPException

> ID：11185053
> 
> 赞同：0
> 
> 时间：2012-06-25T07:23:12.967
> 
> 标签：android

我有一些活动是用户通过它并最终将选定的数据发送到服务器以保存在数据库中。过程是这样的

活动 1 用户登录到应用程序，如果成功，则单击确定 - 活动 2 客户列表从远程服务器加载到 AutoCompleteTextView 中。用户选择客户并转到下一个活动 3 在活动 3 中，用户选择一些数据并将其发送到服务器。现在，当发送成功时，我希望用户看到活动 2，我能够看到。但是当我再次选择一个来自自动完成的客户，我得到了 NPEx。为什么？？当我从一个活动移动到下一个活动时，数据会被删除。所以在我的情况下，从远程数据库加载到活动2 中的数据不再可用，即当我返回它时，arraylist 为空。

我在这条线上得到了错误---对于（客户客户：客户）

```
 @Override
    public void onItemClick(AdapterView<?> adapter, View view, int pos, long rowId) {       
        String cusAddr = null;

            int cusID = BaseKaizenActivity.getStorageManager().getCustomerId(customerTextView.getText().toString());
            Log.d("CUSTOMER ID", Integer.toString(cusID));
            for (Customer customer : customers) { 
                if (Integer.parseInt(customer.getId()) == cusID) { 
                     cusAddr = customer.getAddress(); 
                }
            }

        customerAddr.setTypeface(tf); 
        customerAddr.setText(Farsi.Convert(cusAddr)); 

        //customerAddr.setText(cusAddr);    

    } 
```

* * *

这是错误的日志

```
06-25 07:46:42.854: W/dalvikvm(572): threadid=1: thread exiting with uncaught exception      (group=0x40015560)
06-25 07:46:42.864: E/AndroidRuntime(572): FATAL EXCEPTION: main
06-25 07:46:42.864: E/AndroidRuntime(572): java.lang.NullPointerException
06-25 07:46:42.864: E/AndroidRuntime(572):  at     com.pda.kaizen.activity.MainMenuActivity.onItemClick(MainMenuActivity.java:144)
06-25 07:46:42.864: E/AndroidRuntime(572):  at android.widget.AutoCompleteTextView.performCompletion(AutoCompleteTextView.java:952)
06-25 07:46:42.864: E/AndroidRuntime(572):  at android.widget.AutoCompleteTextView.access$1400(AutoCompleteTextView.java:92)
06-25 07:46:42.864: E/AndroidRuntime(572):  at android.widget.AutoCompleteTextView$DropDownItemClickListener.onItemClick(AutoCompleteTextView.java:1489)
06-25 07:46:42.864: E/AndroidRuntime(572):  at android.widget.AdapterView.performItemClick(AdapterView.java:284)
06-25 07:46:42.864: E/AndroidRuntime(572):  at android.widget.ListView.performItemClick(ListView.java:3513)
06-25 07:46:42.864: E/AndroidRuntime(572):  at android.widget.AbsListView$PerformClick.run(AbsListView.java:1812)
06-25 07:46:42.864: E/AndroidRuntime(572):  at android.os.Handler.handleCallback(Handler.java:587)
06-25 07:46:42.864: E/AndroidRuntime(572):  at android.os.Handler.dispatchMessage(Handler.java:92)
06-25 07:46:42.864: E/AndroidRuntime(572):  at android.os.Looper.loop(Looper.java:123)
06-25 07:46:42.864: E/AndroidRuntime(572):  at android.app.ActivityThread.main(ActivityThread.java:3683)
06-25 07:46:42.864: E/AndroidRuntime(572):  at java.lang.reflect.Method.invokeNative(Native Method)
06-25 07:46:42.864: E/AndroidRuntime(572):  at java.lang.reflect.Method.invoke(Method.java:507)
06-25 07:46:42.864: E/AndroidRuntime(572):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
06-25 07:46:42.864: E/AndroidRuntime(572):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
06-25 07:46:42.864: E/AndroidRuntime(572):  at dalvik.system.NativeStart.main(Native Method) 
```

公共类 MainMenuActivity 扩展 BaseKaizenActivity 实现 OnItemClickListener {

```
public AutoCompleteTextView customerTextView;
public EditText customerAddr;
private int customerId;
private List<Customer> customers;
private String customerName;
private Typeface tf;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.mainmenu);
    Log.d("INSIDE MAINMENU ACTIVITY", "INSIDE MAINMENU ACTIVITY");
    tf = Farsi.GetFarsiFont(this);

    customerTextView = (AutoCompleteTextView) findViewById(R.id.cusName_CB);
    customerTextView.setOnItemClickListener(this);
    customerTextView.setThreshold(0);
    customerTextView.setHint("Type Customer name");
    customerAddr = (EditText) findViewById(R.id.editText_cusAddress);

    // check loaded customers and products
    // if haven't loaded - need to load
    if (BaseKaizenActivity.getStorageManager().getCustomers().size() == 0) {
        progressDialog = ProgressDialog.show(this, "Please Wait", "Loading customer list");
        loadCustomers();
    }
    else {
        handleSuccess(BaseKaizenActivity.getStorageManager().getCustomers());
    }
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    MenuInflater inflater = getMenuInflater();
    inflater.inflate(R.menu.menu, menu);
    return true;
}

@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
        case R.id.order_menu:
            customerName = customerTextView.getText().toString();

            if (!customerName.isEmpty() && (customerId = BaseKaizenActivity.getStorageManager().getCustomerId(customerName)) != 0) {
                Log.d("----", " customer_id : " + customerId);
                showOrderScreen(customerId);
            }
            else {
                Toast.makeText(this, "Select a customer", Toast.LENGTH_LONG).show();
            }

            break;
        case R.id.customer_menu:
            //TODO - need implement 
            Toast.makeText(this, "You pressed the Customer!", Toast.LENGTH_LONG).show();
            break;
    }
    return true;
}

private void loadCustomers() {
    Thread thread = new Thread(new Runnable() {
        @Override
        public void run() {
            try{
                customers = getConnection().getCustomers();
                BaseKaizenActivity.getStorageManager().setCustomers(customers);
                Log.d("---", "loadedddddddd : customers: " + customers.size());
                for(Customer c : customers)
                {
                    Log.d("Customer name  ", c.getName());
                }
                handleSuccess(customers);

            }
            catch (Exception exc) {
                Log.d("--- ERROR ---", exc.getMessage());
                handleException(exc.getMessage());
            }
        }
    });
    thread.start();
}

private void handleSuccess(final List<Customer> customers) {
    runOnUiThread(new Runnable() {
        @Override 
        public void run() {
            final ArrayAdapter<Customer> customerSpinner = new ArrayAdapter<Customer>(MainMenuActivity.this,
                    android.R.layout.simple_spinner_item, customers);
            customerSpinner.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
            customerTextView.setAdapter(customerSpinner);

            if (progressDialog != null) {
                progressDialog.dismiss();
                progressDialog = null;
            }
        }
    });
}

@SuppressWarnings("unchecked")
private void showOrderScreen(int cusstomerId) {
    showActivity(OrderActivity.class, new Pair<String, Integer>("CUSTOMER_ID", cusstomerId));
}

@Override
public void onItemClick(AdapterView<?> adapter, View view, int pos, long rowId) {       
    String cusAddr = null;

        int cusID = BaseKaizenActivity.getStorageManager().getCustomerId(customerTextView.getText().toString());
        Log.d("CUSTOMER ID", Integer.toString(cusID));

        if(customers.isEmpty())
        {
            loadCustomers();
        }
        for (Customer customer : customers) { 
            if (Integer.parseInt(customer.getId()) == cusID) { 
                 cusAddr = customer.getAddress(); 
            }
        }

    customerAddr.setTypeface(tf); 
    customerAddr.setText(Farsi.Convert(cusAddr)); 

    //customerAddr.setText(cusAddr);    

} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-30T05:43:36.623

我解决了这个问题，问题是当我返回之前的活动时，arraylist 是空的，并且不包含它从之前的搜索中获得的数据。我通过在 OnCreate 方法中再次加载数据来解决此问题。

# actionscript-3 - 在自定义切换按钮栏中创建多行标签

> ID：11185055
> 
> 赞同：0
> 
> 时间：2012-06-25T07:23:13.290
> 
> 标签：actionscript-3, apache-flex

我有一个自定义的 toggleButtonBar 类，允许在按钮上放置标签，但是，我希望标签是多行的。我不擅长扩展默认组件。有没有人可以帮助我？

```
package com.vit2print.plugin.transvit.tools
{
    import mx.controls.Button;
    import mx.controls.ToggleButtonBar;
    import mx.core.IFlexDisplayObject;

    public class IconToggleButtonBar extends ToggleButtonBar
    {
        [Inspectable(enumeration="left,right,top,bottom", defaultValue="left")]
        public var labelPlacement:String = "left";

        override protected function createNavItem(label:String, icon:Class=null):IFlexDisplayObject {
            var b:Button = Button(super.createNavItem(label, icon));
            b.labelPlacement = labelPlacement;
            return b;
        }
    }
} 
```

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T09:27:40.453

如果您可以使用 Spark 组件，则可以通过 ButtonBar 按钮的自定义外观来完成此操作。为 ButtonBar 设置皮肤时，您必须创建 4 个皮肤：

*   一个用于 ButtonBar 本身
*   一个用于第一个按钮
*   一个用于中间按钮
*   一个用于最后一个按钮

除非所有按钮看起来都一样，在这种情况下，所有三种按钮只需要一个皮肤。

首先通过复制默认的 Spark ToggleButtonSkin 为按钮创建三个（或一个）外观。在 FlashBuilder 向导中，如下所示：

![在此处输入图像描述](../Images/9aa64920f953c1f0ae399dc340532628.png)

向下滚动到底部并找到带有 id 的标签标签`labelDisplay`。它的`masDisplayedLines`属性设置为`1`。将其删除或将其设置为对您的用例更方便的值。

现在通过复制默认的 Spark ButtonBarSkin 为 ButtonBar 本身创建一个外观。找到三个按钮工厂并将`skinClass`样式替换为您刚刚创建的按钮外观。

```
<fx:Declarations>
    <fx:Component id="firstButton">
        <s:ButtonBarButton skinClass="net.riastar.skins.MyButtonBarFirstButtonSkin" />
    </fx:Component>

    <fx:Component id="middleButton" >
        <s:ButtonBarButton skinClass="net.riastar.skins.MyButtonBarButtonSkin" />
    </fx:Component>

    <fx:Component id="lastButton" >
        <s:ButtonBarButton skinClass="net.riastar.skins.MyButtonBarLastButtonSkin" />
    </fx:Component>
</fx:Declarations> 
```

现在将此皮肤应用到您的 ButtonBar 上，一切就绪。

```
<s:ButtonBar dataProvider="{dp}" skinClass="net.riastar.so.MyButtonBarSkin" width="200" /> 
```

**请记住**，通常使用 Spark 组件：如果您希望它们*看起来*不同而不真正改变/自定义它们的行为，请使用蒙皮而不是自定义组件。

# netty - SslHandler 和“已建立的连接被主机中的软件中止”？

> ID：11185056
> 
> 赞同：7
> 
> 时间：2012-06-25T07:23:28.530
> 
> 标签：netty

我正在使用 netty 编写 SSL 服务器，遵循安全聊天示例。

我有自动化测试

1.  打开一个 ssl 连接
2.  来回交流一阵子
3.  关闭频道

（即客户端完成后关闭通道）

测试全部通过，我的管道中有另一个处理程序实现了“exceptionCaught”。有时，当客户端关闭通道时，这会在服务器上生成一个 ExceptionCaught 事件

```
java.io.IOException: An established connection was aborted by the software in your host machine
   at sun.nio.ch.SocketDispatcher.read0(Native Method)
   at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)
   at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:218)
   at sun.nio.ch.IOUtil.read(IOUtil.java:186)
   at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:359)
   at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:66)
   at org.jboss.netty.channel.socket.nio.AbstractNioWorker.processSelectedKeys(AbstractNioWorker.java:364)
   at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:238)
   at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:38)
   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
   at java.lang.Thread.run(Thread.java:722) 
```

通过在 SSLHandler 上方和下方添加一个简单的日志记录下游处理程序，我确定 SSLHandler 在客户端关闭通道后似乎正在生成下游写入事件，但我不确定这是否相关。

关于这里发生了什么的任何指示？

# objective-c - 核心图 - 全屏显示图表

> ID：11185063
> 
> 赞同：1
> 
> 时间：2012-06-25T07:23:53.200
> 
> 标签：objective-c, ios, graph, core-plot

我用 Core Plot 创建了一个基本图表。图表成功显示在视图的中心，只有我想全屏显示图表。我在哪里可以更改图表的框架大小？

我希望有人能帮帮忙。非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T23:02:17.933

该图将始终填充其托管视图。由于托管视图是 的子类`UIView`，因此您可以像放置任何其他视图一样定位和调整大小。

# c# - 我可以使用 LINQ 跳过一个集合并只返回 100 条记录吗？

> ID：11185068
> 
> 赞同：4
> 
> 时间：2012-06-25T07:24:13.010
> 
> 标签：c#, .net, linq, azure

我有以下内容从未实现的 Azure 表存储返回一个集合`Skip`。返回的行数约为 500。

```
ICollection<City> a = cityService.Get("0001I"); 
```

我想做的是能够根据一个参数返回以下范围：

```
records 1-100           passing in 0   as an argument to a LINQ expression
records 101-200         passing in 100 as an argument to a LINQ expression
records 201-300         passing in 200 as an argument to a LINQ expression
records 301-400         passing in 300 as an argument to a LINQ expression
etc 
```

有什么方法可以添加到上面并使用链接来返回这些记录范围：

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T10:57:28.147

正如您在问题中所述，Skip 方法未在 Windows Azure 表存储中实现。这意味着您还有 2 个选择：

**选项1**

从表存储中下载所有数据（通过使用 ToList，请参阅 abatishchev 的答案）并在此完整列表上执行 Skip 和 Take 方法。在您的问题中，您谈论的是 500 条记录。如果记录的数量没有增长太多，这个解决方案对你来说应该没问题，只要确保所有记录都具有相同的分区键。

如果数据增长，您仍然可以使用这种方法，但我建议您评估一个缓存解决方案来存储所有记录，而不是一遍又一遍地从表存储中加载它们（这将提高性能，但不要指望这会起作用具有非常大量的数据）。在 Windows Azure 中可以使用以下方法进行缓存：

*   [Windows Azure 缓存（预览版）](http://msdn.microsoft.com/en-us/library/windowsazure/hh914153.aspx)
*   [Windows Azure 共享缓存](http://msdn.microsoft.com/en-us/library/windowsazure/hh914133)

**选项 2**

CloudTableQuery 类允许您查询数据，但更重要的是接收延续令牌以构建分页实现。这使您可以检测是否可以查询更多数据，Scott 博客文章中的分页示例（请参阅 nemensv 的评论）使用此功能。

有关延续令牌的更多信息，我建议您查看 Jim 的博文：[Azure@home 第 7 部分：异步表存储分页](http://blogs.msdn.com/b/jimoneil/archive/2010/10/05/azure-home-part-7-asynchronous-table-storage-pagination.aspx)。通过使用延续令牌，您只需下载当前页面的数据，这意味着即使您拥有数百万条记录，它也能正常工作。但是你必须知道使用延续标记的缺点：

*   这不适用于开箱即用的 Skip 方法，因此它可能不是您的解决方案。
*   没有页码，因为您只知道是否有更多数据（而不是多少）
*   无法计算所有记录

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:33:53.210

如果底层引擎不支持分页，实现它的唯一方法是将所有数据加载到内存中，然后执行分页：

```
var list = cityService.Get("0001I").ToList(); // meterialize
var result = list.Skip(x).Take(y); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-25T07:34:33.707

尝试这样的事情：

```
cityService.Get("0001I").ToList().Skip(n).Take(100); 
```

这应该返回记录 201-300：

```
cityService.Get("0001I").ToList().Skip(200).Take(100); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-25T07:57:28.817

```
a.AsEnumerable().Skip(m).Take(n) 
```

# php - Jquery mobile - div 内容绑定滚动第一次不工作，但刷新页面后它工作

> ID：11185070
> 
> 赞同：0
> 
> 时间：2012-06-25T07:24:23.010
> 
> 标签：php, jquery-mobile

```
<div  data-role="page" id="one" data-theme="a" >
    <div  data-role="content" id="content">
       <script type="text/javascript" >

         $(document).ready(function() {
        $('#content').bind('scroll', function () {  
                alert(0);
            });
         }); 
```

在此我设置了滚动警报，但它不工作，但在手动刷新页面后它工作。

不知道是什么原因？任何帮助。

PS：div的位置CSS属性是“绝对的” - 这与上述问题有什么关系吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T22:37:31.020

您的问题在其他地方，以下 jsfiddle 可以正常工作[http://jsfiddle.net/mendesjuan/jBeE6/](http://jsfiddle.net/mendesjuan/jBeE6/)

```
<div  data-role="page" id="one" data-theme="a" >
    <div  data-role="content" id="content">        
       <script type="text/javascript" >    
         $(document).ready(function() {
            $('#content').bind('scroll', function () {  
                console.log("Here it is");
            });
         });
        </script>
        Here is a lot of content... a lot more goes here       
    </div>
</div>​ 
```

# python - 在python中查找给定的字符串是单词、字符还是数字

> ID：11185074
> 
> 赞同：2
> 
> 时间：2012-06-25T07:24:40.950
> 
> 标签：python, types

给定这个字符串

```
random_string= '4' 
```

我想确定它是一个整数、一个字符还是一个单词，尽管我可以这样做

```
test = int(random_string)
isinstance(test,int) == True 
```

但我意识到如果 random_string 不包含数字我会出错

基本上 random_string 可以是以下形式

```
random_string ='hello'
random_string ='H'
random_string ='r'
random_string ='56' 
```

任何人都知道这样做的方法，有点困惑，因为确定我所做的是一个角色

```
chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
random_string in chars == True 
```

我做了另一个字符串来检查它是否是小写字母。还要检查它是否是一个单词，我取了字符串的长度，如果长度大于一个，我确定它是一个单词还是一个数字

问题是我如何检查它是一个单词还是一个数字

请帮忙

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T07:27:50.387

字符串有方法`isalpha`，并`isdigit`分别测试它们是否由字母和数字组成：

```
>>> 'hello'.isalpha()
True
>>> '123'.isdigit()
True 
```

请注意，它们仅检查这些字符，因此带有空格或其他任何内容的字符串都将返回 false：

```
>>> 'hi there'.isalpha()
False 
```

但是，如果您希望将值作为数字，则最好只使用`int`. 请注意，检查`isinstance`结果是否确实是整数是没有意义的。如果`int(blah)`成功，它将始终返回一个整数；如果字符串不代表整数，则会引发异常。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T07:27:14.300

任你选。

```
>>> '4'.isdigit()
True
>>> '-4'.isdigit()
False
>>> int('-4')
-4
>>> 'foo'.isdigit()
False
>>> int('foo')
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ValueError: invalid literal for int() with base 10: 'foo' 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-25T07:32:57.390

为了实现您要求的逻辑，我想最 Pythonic 的方法是使用异常处理：

```
try:
  n = int(random_string)
except ValueError: 
  if len(random_string) > 1:
    # it's a word
  else:
    # it's a character (or the empty string) 
```

要检查大小写，可以使用字符串方法`islower()`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T09:24:05.717

为了获得更多控制权，尤其是如果您有某种类型的字符串不支持内置函数，您可以使用 re -

像下面这样的常规 exp 来检查它是否是一个数字 -

```
re.findall(r'^[-]?[0-9]*[\.]?[0-9]*$', s) 
```

以及以下常规 exp 以检查其是否为字符串-

```
r'^[a-zA-Z]+$' 
```

请注意，这只是为了演示，您应该根据需要修改常规 exp。

# tridion - 我可以使用哪个 API 来编写 SDL Tridion 工作流活动？

> ID：11185079
> 
> 赞同：6
> 
> 时间：2012-06-25T07:25:15.960
> 
> 标签：tridion, tridion-2011

我想使用 SDL Tridion 2011 SP1 创建工作流，并且正在浏览实时内容门户中的文档。

当我浏览以下文档时，我有几个问题：

1.  我可以使用**C# (TOM.NET)**进行自动化活动/决策吗？还是我应该只使用**VBScript (TOM)**？实时内容门户中是否有任何示例代码用于自动活动/决策？

2.  如果不允许在工作流中使用**C# (TOM.NET) ，为什么在 TOM.NET API 文件中给出了它的命名空间/类/成员引用？**

3.  如果 VBScript 只允许在 WF 中使用，我在哪里可以获得 SDL 实时内容中的代码/TOM API 参考？截至目前，我无法访问 SDL Tridion 服务器以从安装程序包中获取文档。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-25T10:57:13.437

## 我可以使用 C# (TOM.NET) 进行自动化活动吗？还是我应该只使用 VBScript (TOM)？

您可以在 C# 代码中使用 TOM 来编写自动化活动。为此目的提供了一个主要的互操作程序集（IIRC）。

## 是否允许在工作流中使用 TOM.NET？

支持从现有 TOM.NET 代码（即 TBB 或 DataExtender）中访问工作流项。因此，您可以查询工作流中的项目、启动工作流等。但**不支持使用 TOM.NET 编写自动化工作流活动**。

据我回忆，其原因与不兼容的线程模型有关。但我大多只是听从开发人员的话；他们一定比我更清楚。

## 我在哪里可以获得代码/TOM API 参考？

Tridion 的 API 参考文档不在 LiveContent 中，而是在 CHM（或压缩的 JavaDoc）文件中提供。TOM API 的最新文档可[在 SDL Tridion World 的 Tridion 2009 文档页面上](https://www.sdltridionworld.com/Login.aspx?ReturnUrl=/downloads/documentation/SDLTridion2009/index.aspx)的“SDL Tridion 2009 完整文档”zip 中找到（需要登录）。

感谢 Quirijn 和 Alvin 在评论中指出这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:14:50.850

您可以将 C# 用于自动化任务。创建一个类并使用以下命令对其进行签名：

```
[ProgId("[Namespace].[Class Name]")]
[ComVisible(true)] 
```

并使用带有参数的 RegAsm.exe 对程序集进行签名`/codebase`。

然后在自动化操作的脚本中你可以使用这个对象。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-25T11:36:06.087

1.  安装 visio 插件后使用 visio 创建工作流程图（根据需求）。
2.  通过提供凭据并选择相关出版物将工作流上传到 SDL Content Manager。
3.  对于自动化活动：创建 ac# 类库并引用 tridion dll，以及解决方案中的用户 progid 和 comvisible = true。
4.  为您的工作流程创建必要的功能。
5.  在 SDL Tridion Content Manager 服务器中注册程序集。
6.  在工作流“编辑脚本”中，使用 vb 脚本代码来获取 C# 对象及其方法。
7.  这将简化 VBScript 代码并为开发人员提供使用 c# 工作的灵活性。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-06-25T19:06:04.480

可以使用 TOM .Net API。但是我们必须考虑到我们需要创建 Session 实例，因为我们的新 TOM .Net for Workflow 不允许您从 VBScript（Visio 中用于自动活动的代码选项卡）传递 WorkItem 实例，并且您被迫传递 TcmUri那个工作项。会话创建是强制性的，以便实例化 Tridion 对象，因为您只有一个 tcmuri。这里的建议是使用 ComVisible 和 ProgId 属性注册为 COM 类的 C# 类，但使用 CoreServices 进行 Com Visible 类中的所有处理。

如果您使用核心服务进行处理，则无需处理会话创建，您的核心将更快且可扩展。您可能有兴趣使用 TCP 绑定或 Net Pipes 绑定来提高性能。

# android - 多字符手势搜索

> ID：11185088
> 
> 赞同：2
> 
> 时间：2012-06-25T07:26:28.137
> 
> 标签：android, android-gesture

我正在android中进行多字符手势搜索。我正在使用 Bound 算法（将每个笔划保持在一个矩形中并搜索交互）。但是这种算法的准确性较低。任何人都可以提出一种替代方法来实现这一点。如何在此处实现路径算法。

# java - 在不同线程使用时使 Web 方法同步是一种好习惯吗？

> ID：11185089
> 
> 赞同：0
> 
> 时间：2012-06-25T07:26:28.473
> 
> 标签：java, web-services, synchronization, eclipselink

我在 Code Review 论坛上问了一个类似的问题，但有人建议在这里问这个问题。我想知道`synchronized`下面的网络方法中的关键字。由于`setPerson`是从线程池调用的（意味着不同的线程可以调用它），我应该以某种方式同步它。当我的客户端对该方法进行 SOAP 调用时，EclipseLink 会使用 thead 池。我的问题是，制作 web 方法是否是一种好习惯，`synchronized`或者我可以与之同步`em.lock(person, WRITE)`吗？

```
@Override
public synchronized void setPerson(Person person) {
    EntityManagerFactory emf = Persistence.createEntityManagerFactory("PersonLibPU");            
    EntityManager em = emf.createEntityManager(); 
    if(!em.getTransaction().isActive()) {
       em.getTransaction().begin();
    }
    try {
         person.setPersonId(getLastInsertedId() + 1); // Get the last inserted ID and increment it by 1
         em.merge(person);
         em.getTransaction().commit();  
         emf.getCache().evict(Person.class);                    
    } catch (Exception ex) {
         if(em.getTransaction().isActive())
            em.getTransaction().rollback();
    } finally {
        em.close();
    }
} 
```

**编辑**
我在上面的代码中添加了一行，在其中设置了 person 对象的主键值。这就是同步的目的，而不是任何共享的 java 对象。我需要同步它，这样两个线程就无法获得相同的主键。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:12:21.650

你可能问错了问题。同步在这里对您没有帮助，因为唯一存在并发问题的部分是`getLastInsertedId()`：您不希望两个方法获取相同的值并尝试使用该 ID 持久化一个实例。

同步`setPerson`只有在它是唯一持续存在的方法时才能解决问题`Person`。

如果可能，请使用底层数据存储的自动递增功能；如果失败了，您的 ORM 解决方案是否会执行上下文范围的 ID 分配？最后的手段是有一个可以同步的方法`getNextId`并*返回*一个递增的值。这可能会导致数据库中的 ID 序列不连续（`getNextId`不知道持久化操作是否成功），但这会减少锁定的范围。

正如 JB Nizet 指出的那样，ID 分配需要持久化，并以某种方式提供给该数据存储的所有客户端。如果您的应用程序有两个实例持久化`Person`实例，则需要确保它们共享一个 ID 分配器。

# ios - 在目标c中保存带有图像和css的html页面？

> ID：11185090
> 
> 赞同：1
> 
> 时间：2012-06-25T07:26:38.090
> 
> 标签：ios, objective-c, xcode, uiwebview

如何保存带有 css 和图像的 html 页面，然后到本地显示 UIWebView？请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:30:56.143

[ASIHTTPRequest 项目](http://allseeing-i.com/ASIHTTPRequest/)有一个名为的类`ASIWebPageRequest`，旨在完全按照您的意愿行事。如果您可以在项目中添加额外的依赖项，那么我认为这对您来说是一个很好的解决方案：[ASIWebPageRequest](http://allseeing-i.com/ASIHTTPRequest/ASIWebPageRequest)。

上面提供的链接中有大量代码示例。

# android - 如何在 Android 中从一种语言翻译成另一种语言

> ID：11185093
> 
> 赞同：5
> 
> 时间：2012-06-25T07:26:44.330
> 
> 标签：android, google-app-engine, android-emulator, google-translate, google-translator-toolkit

我有一些疑问。我想从一种语言翻译成另一种语言。我正在关注本教程 [http://android-er.blogspot.in/2009/10/androidtranslate-using-google-translate.html](http://android-er.blogspot.in/2009/10/androidtranslate-using-google-translate.html)但我不是能够翻译文字。

我收到错误

```
E/ErrorGoogle(1420): java.lang.Exception: Google returned the following error: [403] Please use Translate v2\.  See http://code.google.com/apis/language/translate/overview.html 
```

谁能告诉我为什么我会收到这个错误。如果有人以前遇到过它，请帮助我？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T07:41:27.467

google v2 API 是付费 API，您需要 API 密钥才能翻译。

阅读[本文](https://developers.google.com/translate/v2/getting_started)了解更多详情。所以，我想你需要找到谷歌翻译的替代品。

# c# - 制作一个页面，每个用户都有自己的信息，gridview 等

> ID：11185094
> 
> 赞同：0
> 
> 时间：2012-06-25T07:27:00.150
> 
> 标签：c#, asp.net

用户登录后，我需要一个页面，每个注册用户都有自己的 gridview 和绑定到他的 gridview 的控件。该页面将包含一个绑定到 gridview 的 sqldatasource。

我考虑过在数据库中为每个用户创建一个新表，并在表单加载中获取用户登录后的用户名，获取表名并将 sqldatasource 绑定到他的表名和表名的其他控件字段替换为他的。

或者有没有其他方法可以做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:32:21.147

您当然不需要为每个用户提供单独的表！

为什么不向其中一个表添加一个附加**列**来存储用户名。这样，每条记录都被标记为属于特定用户。读取登录用户的数据只是表上的一个简单`Where`子句。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:35:18.337

不，那不对，您不能为每个用户创建一个表。想想如果您有 10,000 个用户，而不是您的数据库包含 10,000 个用户。

您只需创建一个保存所有用户信息的表。您必须将用户名或电子邮件等身份保存到您的数据库中，当用户通过其用户名或电子邮件登录您的应用程序时，将根据用户名或电子邮件从表中获取信息并设置为 gridview。

愿它帮助你...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T07:36:56.610

为每个用户创建一个表是不合逻辑的，将所有用户信息保存在一个表中会更好更快，因为您可以使用用户 ID 为用户信息创建一个表，为用户数据输入另一个表。并建立关系他们之间的船

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T07:37:55.593

您绝对*不想*为每个用户创建一个单独的表。您打算如何将其扩展到多个用户？

用户需要在他们的页面上看到哪些数据？了解 gridview 不必直接映射到数据库表。它可以映射到任何数据集。因此，您可以以一种有意义的方式将数据存储在数据库中（关系实体），然后以一种有意义的方式查询和显示它。

例如（这是一个人为的例子，因为我们不知道您拥有什么数据），如果您的用户需要查看他们订购的产品列表，那么您不会为*每个*用户。您可能会为每个实体（用户、产品、订单等）创建一个表：

```
Users
----------
ID
Name
etc.

Products
----------
ID
Name
etc.

Orders
----------
ID
UserID
DateOrdered
etc. 
```

而且由于每个订单都有一个产品列表，并且每个产品可以在多个订单上，这是一个多对多的关系。因此，您可以为该关系创建一个链接表：

```
OrderedProducts
----------
OrderID
ProductID 
```

然后，为了在 UI 中显示，您将查询数据以仅获取该用户订购的产品：

```
SELECT DISTINCT
  Products.ID,
  Products.Name,
  Orders.OrderedDate
FROM
  Users
  INNER JOIN Orders ON Users.ID = Orders.UserID
  INNER JOIN OrderedProducts ON Orders.ID = OrderedProducts.OrderID
  INNER JOIN Products ON OrderedProducts.ProductID = Products.ID
WHERE
  Users.ID = @userID 
```

这应该为您提供该用户订购的不同产品的列表以及订购时间。（请注意，此代码是徒手编写的，我没有方便的数据库来测试它。）

所以每个用户都会看到他们自己的特定信息。

您希望确保您的数据以可用的关系方式建模。定义您的实体（通常是您在数据中表示的真实事物）并定义表来表示这些实体。以自然的方式将它们联系在一起。关系数据库*擅长*处理针对定义明确的数据的复杂查询。不要试图从用户的角度围绕显示的性质设计您的数据库，而是围绕所存储信息的性质进行设计。

# javascript - 如何计算过滤表上的总计？

> ID：11185095
> 
> 赞同：2
> 
> 时间：2012-06-25T07:27:00.463
> 
> 标签：javascript, jquery

我刚刚创建了一个包含 30 多行数据的大表，可以通过它的列 - 名称列进行过滤。过滤器所做的事情是 - 它被放入`style="display: none;"`TR 标签中。

我的问题是 - 如何创建仅汇总非“显示：无”行的总计行？

这是我的表的示例：

```
<table class="sortable TF" id="table1" border="1">
    <thead>
        <tr class="fltrow">
            <td>
                <input class="flt" ct="0" id="flt0_table1" type="text">
            </td>
            <td>
                <input class="flt" ct="1" id="flt1_table1" type="text">
            </td>
            <td>
                <input class="flt" ct="2" id="flt2_table1" type="text">
            </td>
            <td>
                <input class="flt" ct="3" id="flt3_table1" type="text">
            </td>
        </tr>
        <tr>
            <th class="head_row">Person</th>
            <th class="head_row">Monthly pay</th>
            <th class="head_row">Monthly pay1</th>
            <th class="head_row">Monthly pay2</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Steve Nicol</td>
            <td>8,500</td>
            <td>51,000</td>
            <td>1,000</td>
        </tr>
        <tr>
            <td>Steve McMahon</td>
            <td>9,200</td>
            <td>3,000</td>
            <td>2,000</td>
        </tr>
        <tr style="display: none;">
            <td>Jan Molby</td>
            <td>12,000</td>
            <td>4,000</td>
            <td>11,000</td>
        </tr>
        <tr style="display: none;">
            <td>John Barnes</td>
            <td>15,300</td>
            <td>200</td>
            <td>12,000</td>
        </tr>
    </tbody>
    <tfoot>
        <tr>
            <td>Grand TOTAL</td>
            <td>???</td>
            <td>???</td>
            <td>???</td>
        </tr>
    </tfoot>
</table> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:39:01.907

```
var sum = [0, 0, 0];
$('table.sortable tbody tr:visible').each(function() {
    sum[0] += parseInt($('td:eq(1)', this).text().replace(',', ''), 10);
    sum[1] += parseInt($('td:eq(2)', this).text().replace(',', ''), 10);
    sum[2] += parseInt($('td:eq(3)', this).text().replace(',', ''), 10);
});

$('table.sortable tfoot tr td:gt(0)').each(function(i) {
    var text = sum[i].toString();
    if (text.length > 3) {  // checking length for 3 to insert comma
        text = text.replace(/(\S{3}$)/, ",$1");
    }
    $(this).text(text);
}); 
```

**[演示](http://jsfiddle.net/QStkd/491/)**

但是，如果您删除逗号，则更改为：

```
$('table.sortable tfoot tr td:gt(0)').each(function(i) {
    $(this).text(sum[i]);
}); 
```

**[演示](http://jsfiddle.net/QStkd/492/)**

# python-2.7 - 仅将日期格式应用于带有 xlwt 的日期列

> ID：11185104
> 
> 赞同：2
> 
> 时间：2012-06-25T07:27:40.103
> 
> 标签：python-2.7, export-to-excel, xlwt

我有来自数据库搜索的结果，其中一些列有日期，但其他列没有。我需要帮助写作

```
data = [['556644', 'Mr', 'So', 'And', 'So', Decimal('0.0000'), datetime.datetime(2012, 2, 25, 0, 0), '', False, datetime.datetime(2013, 6, 30, 0, 0)],...] 
```

到 Excel 电子表格中，以便

```
easyxf(num_format_str='DD/MM/YYYY') 
```

仅适用于日期时间列。我对 Python 还是很陌生，而且我已经为此苦苦思索了好几天了。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T23:36:01.553

这是使用 pyodbc 从 SQL 服务器导入的，所以这就是 cursor.fetchall() 的来源：

```
data = [list(n) for n in cursor.fetchall()]
for row_index, row_contents in enumerate(data):
    for column_index, cell_value in enumerate(row_contents):
        xf=None
        if isinstance(data[row_index][column_index], datetime.date):
            xf = easyxf(num_format_str='DD/MM/YYYY') # sets date format in Excel
        if xf:
            sheet1.write(row_index+1, column_index, cell_value, xf)
        else:
            sheet1.write(row_index+1, column_index, cell_value) 
```

完毕！:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-06T17:08:28.980

简化您的自我回答后：

```
date_xf = easyxf(num_format_str='DD/MM/YYYY') # sets date format in Excel
data = [list(n) for n in cursor.fetchall()]
for row_index, row_contents in enumerate(data):
    for column_index, cell_value in enumerate(row_contents):
        if isinstance(cell_value, datetime.date):
            sheet1.write(row_index+1, column_index, cell_value, date_xf)
        else:
            sheet1.write(row_index+1, column_index, cell_value) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-12T11:23:58.163

想要将日期写入 Excel 中的单元格：

向 write 调用添加一个额外的属性 - 单元格的样式：

```
import datetime
import xlwt

workbook = xlwt.Workbook()
worksheet = workbook.add_sheet('test')
date_style = xlwt.easyxf(num_format_str='YYYY/MM/DD')
worksheet.write(0, 0, 'Today')
worksheet.write(1, 0, datetime.date.today(), date_style)
workbook.save('C:\\data.xls') 
```

# android - 在android中找不到按钮的ID

> ID：11185116
> 
> 赞同：0
> 
> 时间：2012-06-25T07:29:00.370
> 
> 标签：android, android-button

我在 xml 文件中创建了一个按钮。但是当我尝试使用它时 java 使用`findViewById`它并没有出现。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T07:38:09.433

在 Activity xml 布局中添加带有 id 的按钮：

**步骤1：**

```
 <Button 
 android:id="@+id/btn_id" <--add button id here --> 
 /////.....
 ">
 </Button> 
```

**第 2 步：** 在 Button Layout.Clean 项目中添加 id 后，从 **Project->Clean..**

**第 3 步：** 在活动代码中：

```
public void onCreate(Bundle savedInstanceState) {
  super.onCreate(savedInstanceState);
  setContentView(R.layout.button_view); 
  Button btn = (Button)findViewById(R.id.btn_id);
  //code here... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T07:35:22.023

请发布您的 axml 文件的代码以及您尝试访问 UI 元素的代码。

也许您忘记了“+”或将其放在错误的位置：

```
...
android:id="@+id/myuielement
... 
```

# algorithm - n 叉树和 m 叉树之间有什么区别吗？

> ID：11185117
> 
> 赞同：2
> 
> 时间：2012-06-25T07:29:03.617
> 
> 标签：algorithm, data-structures, tree

也许这是一个愚蠢的问题，但我对以下问题感到困惑：和是同一件事吗
？ 我在各种帖子中看到关于树和其他树的讨论，但我不确定这些是相同的数据结构还是用于相同的问题 它们是同一件事吗？有人可以帮我解决这个问题吗？ `n-ary trees``m-way trees`
`m-way``n-ary`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-25T07:30:51.260

来自[维基百科](http://en.wikipedia.org/wiki/K-ary_tree)：

> 在图论中，k-ary 树是一个有根树，其中每个节点不超过 k 个子节点。它有时也被称为 k 路树、N 叉树或 M 叉树。二叉树是 k=2 的特殊情况。

所以你的问题的答案是：**是的，这是一回事。**

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-25T07:34:25.660

如果`n == m`，则没有区别。

# ruby-on-rails - 在运行“bundle exec rspec/requests/static_pages_spec.rb”之后，没有运行 drb 服务器

> ID：11185123
> 
> 赞同：0
> 
> 时间：2012-06-25T07:29:17.483
> 
> 标签：ruby-on-rails

我正在关注 ruby​​onrails 教程，然后我坚持[http://ruby.railstutorial.org/chapters/rails-flavored-ruby#code:home_page_base_title](http://ruby.railstutorial.org/chapters/rails-flavored-ruby#code:home_page_base_title)

当我输入“bundle exec rspec spec/requests/static_pages_spec.rb”时出现以下错误

> 没有 DRb 服务器正在运行。而是在本地进程中运行... FFFFFFFFF
> 
> 失败：
> 
> 1) 静态页面首页应该有 h1 'Sample App' Failure/Error: visit '/static_pages/home' ActionView::Template::Error: undefined local variable or method `page' for #<#<Class:0x007fd991bb7610>:0x007fd9928d8290> # ./app/helpers/application_helper.rb:6:in`full_title' # ./app/views/layouts/application .html.erb:4:in`_app_views_layouts_application_html_erb__2444475768180965445_70286215048520' # ./spec/requests/static_pages_spec.rb:8:in`块 (3 级) in '

在 .rspec 文件中

> --color --drb

错误是否来自后卫，运动（在第 3 章的最后部分）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-16T16:56:05.327

This probably wont help the OP anymore, but I had the same thing if the DRb server is not running it'll run in local process. For me the error was because I switched to postgresql (as per the end of chapter 3) and didn't start up the server. After I started the server, the test ran fine.

I hope that helps anyone who may end up here with the same problem.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:39:12.910

警告表明 spork 没有运行或无法联系（rspec 使用 drb 与 spork 对话），因此 rspec 恢复正常运行。

不管你的规范是否在 spork 下运行，你的规范都应该通过，所以这不太可能是他们失败的原因，只是他们需要几秒钟才能失败的原因。

# jquery - 为自动完成建议列提供标题名称

> ID：11185124
> 
> 赞同：0
> 
> 时间：2012-06-25T07:29:29.297
> 
> 标签：jquery, jsf-2, primefaces

我正在为多个列使用 primefaces 自动完成组件。

我能够显示多列结果，但我想要每列的标题名称。 [http://www.primefaces.org/showcase-labs/ui/autoCompletePojo.jsf](http://www.primefaces.org/showcase-labs/ui/autoCompletePojo.jsf) 正如您在此演示中看到的，自动建议中有两列名称和图像，

我想为 name 和 image 提供标题名称，这意味着它看起来像这样

```
Player_Name    Picture    (Header names for columns)

  Messi         (its image) 
```

我试图以这种方式使用标题名称，但没有奏效

```
<p:autoComplete value="#{autoCompleteBean.selectedPlayer2}" id="customPojo" completeMethod="#{autoCompleteBean.completePlayer}"  
                        var="p" itemLabel="#{p.name}" itemValue="#{p}" converter="player" forceSelection="true">  
                <p:column>  
                  <f:facet name="header">
            <h:outputText value="Player Image" />
            </f:facet> 

                   <p:graphicImage value="/images/barca/#{p.photo}" width="40" height="50"/>  
                </p:column>  

                <p:column>  
            <f:facet name="header">
            <h:outputText value="Player Name" />
            </f:facet>
            <h:outputText value="#{#{p.name}}" />

                </p:column>  
            </p:autoComplete> 
```

> 而且我想显示 5 列作为建议，就像在这个演示中一样，只有 2 列作为建议，但我有 5 列作为建议，所以它显示所有列，但默认情况下它需要水平滑块。但我不希望那里有一个滑块，至少应该显示 5 列而没有任何滑块。

我怎样才能实现它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:34:14.593

无法在自动完成组件中设置标题

[问题 3567：自动完成列的列标题](http://code.google.com/p/primefaces/issues/detail?id=3567)

关于滚动，您应该使用萤火虫`id`查看自动完成打开对话框的原因并应用于`overflow-x: hidden;`它

例如，在陈列柜中，它应该类似于

```
 #form:customPojo_panel table{
     overflow-x: hidden;
 } 
```

可能需要添加一些其他的 css 东西，比如`display: inline-block`或分配`min-width`

# c++ - 存储设置的最佳实践

> ID：11185131
> 
> 赞同：13
> 
> 时间：2012-06-25T07:30:10.560
> 
> 标签：c++, visual-c++, settings

我有一个相当大的 C++ 应用程序（在 Windows 上，没有计划其他平台），它当前将所有设置（甚至某种地址）存储在 Windows 注册表中。

有时这很不方便，因为用户很难更改注册表中的条目。我希望设置版本化，因此设置始终与当前代码匹配。目前我们对 reg 文件进行版本控制，但您永远无法确定是否所有 reg 文件都已添加到目标机器上。使用 C#，您可以在 app.config 中定义默认值，但不要覆盖现有设置。我不知道 C++ 是否存在这样的机制或库。

我想拥有以下“功能”：

*   设置可以版本化
*   目标机器上的简单更新（可由用户完成）
*   确保在更新时仅添加新设置，并且不使用默认值覆盖现有设置
*   为用户简单更改设置
*   Win XP 和 Win 7 下的工作流程相同

据我所知，在 Windows 上存储设置有 3 种可能性：

*   登记处
*   .ini文件
*   XML 文件

目前我们套件中只有一个应用程序使用 Qt，但 Boost 将可用。

对于地址，我们会将它们放在某种 XML 通讯簿中，但对于其他设置，我们不确定，最好的做法是什么。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-28T00:54:48.360

正如评论所提到的，基于树的键/值结构是一种常见的解决方案，并且库很容易找到。

[Boost 的 property_tree](http://www.boost.org/doc/libs/1_41_0/doc/html/property_tree.html)是一个很好的选择，因为它经过充分测试并且可以轻松导出为 XML 或 JSON

关于您的要求：

> *   设置可以版本化

是的！使“版本”成为顶级键。使其易于与其他版本进行比较。

您还可以将您的设置分类到各种树节点中，并为每个节点提供一个版本。

> *   目标机器上的简单更新（可由用户完成）

让您的应用程序在运行时执行此操作。见下文。

> *   确保在更新时仅添加新设置，并且不使用默认值覆盖现有设置
> *   为用户简单更改设置
> *   Win XP 和 Win 7 下的工作流程相同

随着设置从一个版本更改为另一个版本，这些更改通常分为三类。需要新属性，放弃旧设置，并且某些设置会更改其预期格式。例如，“32 华氏度”变为“0 摄氏度”

当您的应用程序初始化时：

*   加载现有配置文件，无论其版本如何。
*   如果版本与应用程序的当前版本不匹配：
    *   为新配置创建一个新的空白属性树
    *   对于树中的每个节点，如果旧文件的树中不存在该设置，则具有一组预期的属性名称和一个函数指针或类似的获取此设置。如果一个设置改变了它的格式，给它一个新的名字。
    *   在旧树中搜索每个设置，如果找到则复制它，如果没有则使用提供的函数的结果。
    *   保存新的设置文件。

您的“缺失设置”功能可以：

*   返回一个常量默认值。
*   查询树以获取不同的设置并将其转换（如果也找不到旧设置，则使用默认值）
*   询问用户

# joomla - Joomla2.5 k2 RSS 提要网址

> ID：11185141
> 
> 赞同：1
> 
> 时间：2012-06-25T07:31:13.553
> 
> 标签：joomla, rss

我有 joomla 2.5 站点。我正在使用 k2 组件。Eack K2 类别为提要 url 提供一个 url。例子

My_site_Url/index.php/component/k2/itemlist/category/26-us.feed

我可以获得一个类别的提要 URL。如何获得所有类别？请给我建议。对不起我的英语不好。感谢所有朋友

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T00:42:16.063

[您可以在Joomla K2 RSS Feed Creator](http://foobla.com/joomla/obrss)中使用专业的解决方案通过 obRSS 和 K2 为Joomla K2 创建 RSS Feed

# image - 是否有提供图像尺寸的生成器/软件 - 最好是电子表格？

> ID：11185143
> 
> 赞同：0
> 
> 时间：2012-06-25T07:31:28.437
> 
> 标签：image

随机问题，对不起，如果不适合stackoverflow，但我认为它不适合图形设计网站。

我有三个网站，我需要为它们制作一个包含所有图像及其尺寸的电子表格——其中有**很多**。是否有任何软件/生成器等可以批量自动执行此操作？如果没有，那将是漫长而痛苦的一天！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:58:23.060

1.  从相关网站获取所有图像。使用 wget：

    `wget -r -A .gif,.jpeg,.jpg,.png http://www.example.com/`

2.  使用获取尺寸[`identify`](http://www.imagemagick.org/script/identify.php)

    `find . -type f -name "\(*.gif|*.jp?g|*.png\)" -exec identify -format '%b,%w %h\n' {} \; > sizes.csv`

3.  打开`sizes.csv`

# c# - 优化公式以从任意点创建三角形

> ID：11185147
> 
> 赞同：0
> 
> 时间：2012-06-25T07:32:10.747
> 
> 标签：c#, windows-phone-7, optimization, xna

在我提出问题之前，我认为一些背景知识会有所帮助。我正在做的是在 xna 中创建我自己的小型 2D 物理库，不过是为了好玩。这也是我第一个独立的 xna 项目，也是我第一次使用 3D 工具，所以我可能会做一些古怪的事情。无论如何，我目前正在制作一个三角形类，其中构造函数以`Vector2s`. 在构造函数中，我必须将这些点按顺时针顺序排列（因此它们不会被剔除），然后找到它们应该对应的纹理坐标（因为我将`VertexPositionTextures`其用作顶点）。我有什么作品，但它似乎很长而且很复杂。我正在寻找缩短/简化代码的任何方法，即：

```
public PTriangle(Vector2 a, Vector2 b, Vector2 c)
    : base()
{
    //set up vertices
    VertexPositionTexture[] vertices = new VertexPositionTexture[3];

        //center vertices around origin
    Vector2 center = new Vector2((a.X + b.X + c.X) / 3, (a.Y + b.Y + c.Y) / 3);
    Vector2 newA = a - center;
    Vector2 newB = b - center;
    Vector2 newC = c - center;

        //get angle of each vertex (clockwise from -x axis)
    double angleA = MathHelper.Pi - Math.Atan((double)(newA.Y / newA.X));
    double angleB = MathHelper.Pi - Math.Atan((double)(newB.Y / newB.X));
    double angleC = MathHelper.Pi - Math.Atan((double)(newC.Y / newC.X));
    if (newA.X < 0)
    {
        if (newA.Y < 0)
        {
            angleA += MathHelper.Pi;
        }
        else
        {
            angleA -= MathHelper.Pi;
        }
    }
    if (newB.X < 0)
    {
        if (newB.Y < 0)
        {
            angleB += MathHelper.Pi;
        }
        else
        {
             angleB -= MathHelper.Pi;
        }
    }
    if (newC.X < 0)
    {
        if (newC.Y < 0)
        {
            angleC += MathHelper.Pi;
        }
        else
        {
            angleC -= MathHelper.Pi;
        }
    }

        //order vertices by angle
    Vector2[] newVertices = new Vector2[3];
    if (angleA < angleB && angleA < angleC)
    {
        newVertices[0] = newA;
        if (angleB < angleC)
        {
            newVertices[1] = newB;
            newVertices[2] = newC;
        }
        else
        {
            newVertices[1] = newC;
            newVertices[2] = newB;
        }
    }
    else if (angleB < angleA && angleB < angleC)
    {
        newVertices[0] = newB;
        if (angleA < angleC)
        {
            newVertices[1] = newA;
            newVertices[2] = newC;
        }
        else
        {
            newVertices[1] = newC;
            newVertices[2] = newA;
        }
    }
    else
    {
        newVertices[0] = newC;
        if (angleA < angleB)
        {
            newVertices[1] = newA;
            newVertices[2] = newB;
        }
        else
        {
            newVertices[1] = newB;
            newVertices[2] = newA;
        }
    }

        //set positions of vertices
    vertices[0].Position = new Vector3(newVertices[0] + center, 0);
    vertices[1].Position = new Vector3(newVertices[1] + center, 0);
    vertices[2].Position = new Vector3(newVertices[2] + center, 0);

        //get width and height of triangle
    float minX = 0;
    float minY = 0;
    float maxX = 0;
    float maxY = 0;
    foreach (Vector2 vertex in newVertices)
    {
        if (vertex.X < minX)
        {
            minX = vertex.X;
        }
        else if (vertex.X > maxX)
        {
            maxX = vertex.X;
        }
        if (vertex.Y < minY)
        {
            minY = vertex.Y;
        }
        else if (vertex.Y > maxY)
        {
            maxY = vertex.Y;
        }
    }
    float width = maxX - minX;
    float height = maxY - minY;

        //shift triangle so fits in quadrant IV, and set texture coordinates
    for (int index = 0; index < newVertices.Length; ++index)
    {
        newVertices[index].X -= minX;
        newVertices[index].Y -= minY;

        vertices[index].TextureCoordinate = new Vector2(
            newVertices[index].X / width,
            1 - (newVertices[index].Y / height));
    }

    this.Vertices = vertices;

    //set up indices
    this.Indices = new short[] { 0, 1, 2 };
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T10:09:21.133

要将 3 个点按顺时针顺序排列，可以使用逆时针测试（或左转测试）来检查 3 个点的方向。

[来自维基百科](http://en.wikipedia.org/wiki/Graham_scan#Pseudocode)的伪代码

```
# Three points are a counter-clockwise turn if ccw > 0, clockwise if
# ccw < 0, and collinear if ccw = 0 because ccw is a determinant that
# gives the signed area of the triangle formed by p1, p2 and p3.
function ccw(p1, p2, p3):
    return (p2.x - p1.x)*(p3.y - p1.y) - (p2.y - p1.y)*(p3.x - p1.x) 
```

如果 3 个点是逆时针的，你可以交换最后 2 个点，使 3 个点顺时针排列。

# java - Jenkins 的问题：无法运行 jUnit 测试。

> ID：11185148
> 
> 赞同：0
> 
> 时间：2012-06-25T07:32:12.553
> 
> 标签：java, junit, jenkins

所有创建或删除文件和目录的测试都失败了。我尝试使用 env var 从surefire插件（${WORKSPACE}）手动指向pom.xml（例如${env.WORKSPACE}）的根目录。我什至直接在测试代码中设置了那些工作区目录（String WORKSPACE="/ud/rpt_trunk_b"）。但无论如何测试都失败了。有人在 Jenkins 中使用 jUnit 吗？

谢谢。

# sql - IBMDB2 简单查询错误 901 - 系统错误

> ID：11185150
> 
> 赞同：3
> 
> 时间：2012-06-25T07:32:21.383
> 
> 标签：sql, db2, ibm-midrange

我正在开发 IBM iseries v6r1m0 系统。

我正在尝试执行一个非常简单的查询：

```
select * from XG.ART where DOS = 998 and (DES like 'ALB%' or DESABR like 'ALB%') 
```

这些列是：

```
DOS -> numeric (3,0)
DES -> Graphic(80) CCSID 1200
DESABR -> Garphic(25) CCSID 1200 
```

我得到：

```
SQL State : 58004
SQL Code : -901
Message : [SQL0901] SQL System error. 
Cause . . . . . :  An SQL system error has occurred. The current SQL statement cannot be completed successfully. The error will not prevent other SQL statements from being processed. Previous messages may indicate that there is a problem with the SQL statement and SQL did not correctly diagnose the error. The previous message identifier was CPF4204\. Internal error type 3107 has occurred. If precompiling, processing will not continue beyond this statement.
Recovery . . . : See the previous messages to determine if there is a problem with the SQL statement. To view the messages, use the DSPJOBLOG command if running interactively, or the WRKJOB command to view the output of a precompile. An application program receiving this return code may attempt further SQL statements. Correct any errors and try the request again. 
```

如果我将 DES 更改为 REF（图形（25）），它可以工作......

编辑 ：

今天下午我进行了一些测试，这很奇怪：

在创建表/索引之后，我没有错误。

*   如果我插入一些数据：错误
*   如果我清除表格：错误
*   如果我删除索引（见下文）：它可以工作（有或没有数据）！

指数为：

```
create index XG.GTFAT_ART_B on XG.ART(
DOS,
DESABR,
ART_ID
) 
```

编辑 2：

这是工作日志（对不起，它是法语...） ![工作日志](../Images/96f4c6429fab63955c0108ee9fcc861f.png)

它说：

```
Function error X'1720' in machine instruction. Internal snapshot ID 01010054
Foo file created in library QTEMP.
*** stuff with the printer
DBOP *** FAILED open. Exception from call to SLIC$
Internal error in the query processor file
Sql system error 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T17:38:48.260

我终于联系了 IBM。

这是 v5 中的一个旧错误。

我已经安装了最新的 PTF，现在它可以工作了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-26T02:59:58.700

您需要使用[GRAPHIC标量函数来转换](http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/topic/db2/rbafzscagraphic.htm)[LIKE](http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/topic/db2/rbafzch2like.htm)谓词上的字符文字。

```
CREATE TABLE QTEMP/TEST (F1 GRAPHIC(80))
INSERT INTO QTEMP/TEST (F1) VALUES (GRAPHIC('TEST'))
SELECT * FROM QTEMP/TEST WHERE F1 LIKE GRAPHIC('TE%') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-15T22:06:52.837

我知道这个人通过更新解决了他的问题。但这里有一些对我有用的东西，可能对这里有问题的下一个人有用。

我的问题查询有很多公用表表达式。他们中的大多数人没有创建包含大量记录的表。因此，如果我认为 CTE 最多可以创建 1000 条记录，我会在其中添加“仅获取前 9999 行”。我知道 CTE 不可能有比这更多的行。我猜查询优化器对添加的考虑更少。

如果您有这个问题并且您没有升级或与 IBM 交谈的选项，我希望这对您有所帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-04-06T13:26:18.877

对于遇到此错误的其他人，我在 IBM i 系列 v7r3 上遇到它，当`UPDATE`尝试`SELECT`使用`DISTINCT`. 我解决了在内部 SELECT 末尾删除`DISTINCT`和添加的问题。`FETCH FIRST 1 ROW ONLY`

例如：从

```
UPDATE MYTABLE AS T1  
SET T1.FIELD1 = (
    SELECT DISTINCT T2.FIELD5
    FROM MYTABLE AS T2       
    WHERE T1.FIELD2 = T2.FIELD2
      AND T1.FIELD3 = T2.FIELD3
    )
WHERE T1.FIELD4 = 'XYZ' 
```

到

```
UPDATE MYTABLE AS T1  
SET T1.FIELD1 = (
    SELECT T2.FIELD5
    FROM MYTABLE AS T2       
    WHERE T1.FIELD2 = T2.FIELD2
      AND T1.FIELD3 = T2.FIELD3
    FETCH FIRST 1 ROW ONLY
    )
WHERE T1.FIELD4 = 'XYZ' 
```

# fossil - 我如何看到化石的传出变化

> ID：11185151
> 
> 赞同：1
> 
> 时间：2012-06-25T07:32:24.850
> 
> 标签：fossil

凭借真实性和善变，您可以执行“传出”命令以查看将哪些更改推送到服务器。我怎么能用化石做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-08T15:05:47.350

Fossil 没有相当于 Mercurial 的`hg incoming`或`hg outgoing`（参见[Wikipedia](https://en.wikipedia.org/wiki/Comparison_of_revision_control_software#Advanced_commands)，因为缺乏更好的来源，并且来自个人经验）。虽然这有点烦人，但我还没有遇到任何通过脚本或类似的东西来模拟它的方法。

长话短说：你不能，句号。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-06T15:33:49.307

你可能想要这样的东西：

`fossil changes`报告当前结帐中所有文件的编辑状态，并可能`fossil diff`查看您将要提交和/或推送的更改的详细信息。

请记住，fossil 默认打开“自动同步”，因此除非您将其关闭，否则您在本地进行的任何提交也将转到您的服务器，以防您使用中央服务器设置版本。

# wcf - VS 2010 - 添加服务引用错误

> ID：11185152
> 
> 赞同：0
> 
> 时间：2012-06-25T07:32:29.903
> 
> 标签：wcf, visual-studio-2010, wcf-client

![H](../Images/8168654204f2a4c9770d2362a0ba1da7.png)

从上面的截图可以看出，VS 2010“添加服务引用”也添加了标准库类。我尝试使用 svcutil，但我们暂时不想使用 svcutil。有什么解决方案吗？

供您参考：我使用了“重用引用库”并且只选择了我们自己的数据合同库 dll，它在 wcf 和客户端之间共享

注意：在上面的 GQDPService 是服务的命名空间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:03:04.320

如果您想使用此服务引用，那么我认为您需要在项目中为所有引用添加`System.Text.StringBuilder`前缀`global::`。

```
global::StringBuilder 
```

`GQDPService.StringBuilder`照原样离开。

# php - 推送通知振动选项

> ID：11185153
> 
> 赞同：0
> 
> 时间：2012-06-25T07:32:38.043
> 
> 标签：php, iphone, notifications, push, vibration

我正在尝试在 php 中实现 iPhone 的推送通知。我已经通过以下代码完成：

```
 $body['aps'] = array(
                'alert' => $message,
                'badge' => 1,
                'sound' => 'default'
                ); 
```

这是发送警报、徽章和声音选项。现在，如何发送振动选项？请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:35:17.577

这是不可能的，您不能将通知设置为振动手机，请从[推送通知中的振动中了解更多信息](https://stackoverflow.com/questions/4345559/vibrate-in-push-notification)

# python - Python如何停止线程操作

> ID：11185158
> 
> 赞同：3
> 
> 时间：2012-06-25T07:33:15.920
> 
> 标签：python, multithreading

我想知道如何使用 CTRL+C 或类似的方法在控制台中停止我的程序。问题是我的程序中有两个线程。线程 1 爬取网络并提取一些数据，线程 2 以用户可读的格式显示这些数据。两个部分共享相同的数据库。我像这样运行它们：

```
from threading import Thread
import ResultsPresenter

def runSpider():
    Thread(target=initSpider).start()
    Thread(target=ResultsPresenter.runPresenter).start()

if __name__ == "__main__":
    runSpider() 
```

我怎样才能做到这一点？

好的，所以我创建了自己的线程类：

```
import threading

class MyThread(threading.Thread):
"""Thread class with a stop() method. The thread itself has to check
regularly for the stopped() condition."""

def __init__(self):
    super(MyThread, self).__init__()
    self._stop = threading.Event()

def stop(self):
    self._stop.set()

def stopped(self):
    return self._stop.isSet() 
```

好的，所以我将在这里发布 resultPresenter 和爬虫的片段。这是 resultPresenter 的代码：

```
# configuration
DEBUG = False
DATABASE = database.__path__[0] + '/database.db'

app = Flask(__name__)
app.config.from_object(__name__)
app.config.from_envvar('CRAWLER_SETTINGS', silent=True)

def runPresenter():    
    url = "http://127.0.0.1:5000"
    webbrowser.open_new(url)
    app.run() 
```

这里还有两个方法我省略了 - 其中一个连接到数据库，第二个方法加载 html 模板以显示结果。我重复此操作，直到满足条件或用户停止程序（我正在尝试实施）。还有另外两种方法——一种是从命令行获取初始链接，另一种是经过验证的参数——如果参数无效，我将不会运行 crawl() 方法。

这是爬虫的简短版本：

```
def crawl(initialLink, maxDepth):
#here I am setting initial values, lists etc

while not(depth >= maxDepth or len(pagesToCrawl) <= 0):

  #this is the main loop that stops when certain depth is 
  #reached or there is nothing to crawl
  #Here I am popping urls from url queue, parse them and 
  #insert interesting data into the database

parser.close()
sock.close()              
dataManager.closeConnection() 
```

这是在线程中启动这些模块的**初始化文件：**

```
import ResultsPresenter, MyThread, time, threading

def runSpider():

    MyThread.MyThread(target=initSpider).start()
    MyThread.MyThread(target=ResultsPresenter.runPresenter).start()

def initSpider(): 

    import Crawler
        import database.__init__
    import schemas.__init__
    import static.__init__
    import templates.__init__

    link, maxDepth = Crawler.getInitialLink()
    if link:
        Crawler.crawl(link, maxDepth)

killall = False

if __name__ == "__main__":    

global killall
runSpider()

while True:

    try:
        time.sleep(1)

    except:            

        for thread in threading.enumerate():
            thread.stop()

        killall = True
        raise 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T07:45:07.357

杀死线程不是一个好主意，因为（正如您已经说过的）它们可能正在对数据库执行一些关键操作。因此，您可以定义全局标志，它将向线程发出信号，表明它们应该完成它们正在做的事情并退出。

```
killall = False

import time
if __name__ == "__main__":
    global killall
    runSpider()
    while True:
        try:
            time.sleep(1)
        except:
            /* send a signal to threads, for example: */
            killall = True
            raise 
```

并在每个线程中检查一个类似的循环`killall`变量是否设置为`True`. 如果它关闭所有活动并退出线程。

**编辑**

首先：异常是相当明显的。您正在将`target`参数传递给`__init__`，但您没有在`__init__`. 像这样做：

```
class MyThread(threading.Thread):

    def __init__(self, *args, **kwargs):
        super(MyThread, self).__init__(*args, **kwargs)
        self._stop = threading.Event() 
```

其次：你没有使用我的代码。正如我所说：设置标志并在线程中检查它。当我说“线程”时，我实际上是指处理程序，即`ResultsPresenter.runPresenter`or `initSpide`。向我们展示其中之一的代码，我将尝试向您展示如何处理停止。

**编辑 2**

假设`crawl`函数的代码在同一个文件中（如果不是，那么你必须导入`killall`变量），你可以这样做

```
def crawl(initialLink, maxDepth):
    global killall
    # Initialization.
    while not killall and not(depth >= maxDepth or len(pagesToCrawl) <= 0):
        # note the killall variable in while loop!
        # the other code
    parser.close()
    sock.close()              
    dataManager.closeConnection() 
```

所以基本上你只是说：“嘿，线程，现在退出循环！”。或者，您可以从字面上打破一个循环：

```
while not(depth >= maxDepth or len(pagesToCrawl) <= 0):
    # some code
    if killall:
        break 
```

当然它仍然需要一些时间才能退出（必须完成循环并关闭解析器、套接字等），但它应该安全退出。至少是这样的想法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T07:47:20.787

尝试这个：

```
ps aux | grep python 
```

复制您要杀死的进程的 ID 并：

```
kill -3 <process_id> 
```

在您的代码中（改编自[此处](https://stackoverflow.com/questions/1112343/how-do-i-capture-sigint-in-python)）：

```
import signal
import sys
def signal_handler(signal, frame):
        print 'You killed me!'
        sys.exit(0)
signal.signal(signal.SIGQUIT, signal_handler)
print 'Kill me now'
signal.pause() 
```

# c++ - 使用带笛卡尔点的升压连接组件

> ID：11185164
> 
> 赞同：1
> 
> 时间：2012-06-25T07:33:39.247
> 
> 标签：c++, boost, boost-graph

我找到了[http://www.boost.org/doc/libs/1_49_0/libs/graph/example/incremental_components.cpp](http://www.boost.org/doc/libs/1_49_0/libs/graph/example/incremental_components.cpp)并想检查它是否对我有用。如何转换此示例以处理具有 (x,y) 或 (x,y,z) 的笛卡尔点。我在 boost 的文档中找不到这样的例子。

我看到我必须以某种方式重新定义顶点，因此需要更改 adjacency_list。尝试使用点定义更改 vecS，但我认为还需要对 add_edge 函数进行一些更改。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-29T04:22:38.120

我也对您指出的示例进行了一些小改动。专门将 adjacency_list 上的第 4 和第 5 个模板参数设置为包含任何附加顶点和边属性的类型。请参阅此处的文档：http: [//www.boost.org/doc/libs/1_48_0/libs/graph/doc/adjacency_list.html](http://www.boost.org/doc/libs/1_48_0/libs/graph/doc/adjacency_list.html)

```
struct point
{
 int x;
 int y;
 int z;
};

typedef adjacency_list <vecS, vecS, undirectedS, point > Graph; 
```

在节点和顶点之后，可以像这样设置附加点数据：

```
graph[0].x = 42; 
```

并在计算组件后在最后检索：

```
std::cout << child_index << " " << "x=" << graph[current_index].x << " "; 
```

完整代码：

```
//=======================================================================
// Copyright 1997, 1998, 1999, 2000 University of Notre Dame.
// Copyright 2009 Trustees of Indiana University.
// Authors: Andrew Lumsdaine, Lie-Quan Lee, Jeremy G. Siek, Michael Hansen
//
// Distributed under the Boost Software License, Version 1.0\. (See
// accompanying file LICENSE_1_0.txt or copy at
// http://www.boost.org/LICENSE_1_0.txt)
//=======================================================================
#include <iostream>
#include <vector>

#include <boost/foreach.hpp>
#include <boost/graph/adjacency_list.hpp>
#include <boost/graph/graph_utility.hpp>
#include <boost/graph/incremental_components.hpp>
#include <boost/pending/disjoint_sets.hpp>

/*

  This example shows how to use the disjoint set data structure
  to compute the connected components of an undirected, changing
  graph.

  Sample output:

  An undirected graph:
  0 <--> 1 4 
  1 <--> 0 4 
  2 <--> 5 
  3 <--> 
  4 <--> 1 0 
  5 <--> 2 

  representative[0] = 1
  representative[1] = 1
  representative[2] = 5
  representative[3] = 3
  representative[4] = 1
  representative[5] = 5

  component 0 contains: 4 1 0 
  component 1 contains: 3 
  component 2 contains: 5 2 

 */

using namespace boost;

struct point
{
  point() : x(0), y(0), z(0) {}
  int x;
  int y;
  int z;
};

int main(int argc, char* argv[]) 
{
  typedef adjacency_list <vecS, vecS, undirectedS, point > Graph;
  typedef graph_traits<Graph>::vertex_descriptor Vertex;
  typedef graph_traits<Graph>::vertices_size_type VertexIndex;

  const int VERTEX_COUNT = 6;
  Graph graph(VERTEX_COUNT);

  std::vector<VertexIndex> rank(num_vertices(graph));
  std::vector<Vertex> parent(num_vertices(graph));

  typedef VertexIndex* Rank;
  typedef Vertex* Parent;

  disjoint_sets<Rank, Parent> ds(&rank[0], &parent[0]);

  initialize_incremental_components(graph, ds);
  incremental_components(graph, ds);

  graph_traits<Graph>::edge_descriptor edge;
  bool flag;

  boost::tie(edge, flag) = add_edge(0, 1, graph);
  ds.union_set(0,1);

  boost::tie(edge, flag) = add_edge(1, 4, graph);
  ds.union_set(1,4);

  boost::tie(edge, flag) = add_edge(4, 0, graph);
  ds.union_set(4,0);

  boost::tie(edge, flag) = add_edge(2, 5, graph);
  ds.union_set(2,5);

  graph[0].x = 42;

  std::cout << "An undirected graph:" << std::endl;
  print_graph(graph, get(boost::vertex_index, graph));
  std::cout << std::endl;

  BOOST_FOREACH(Vertex current_vertex, vertices(graph)) {
    std::cout << "representative[" << current_vertex << "] = " <<
      ds.find_set(current_vertex) << std::endl;
  }

  std::cout << std::endl;

  typedef component_index<VertexIndex> Components;

  // NOTE: Because we're using vecS for the graph type, we're
  // effectively using identity_property_map for a vertex index map.
  // If we were to use listS instead, the index map would need to be
  // explicitly passed to the component_index constructor.
  Components components(parent.begin(), parent.end());

  // Iterate through the component indices
  BOOST_FOREACH(VertexIndex current_index, components) {
    std::cout << "component " << current_index << " contains: ";

    // Iterate through the child vertex indices for [current_index]
    BOOST_FOREACH(VertexIndex child_index,
                  components[current_index]) 
    {
      std::cout << child_index 
                << " {" << graph[child_index].x
                 << "," << graph[child_index].y
                 << "," << graph[child_index].z << "} ";
    }

    std::cout << std::endl;
  }

  return (0);
} 
```

# java - IText：如何在 pdf 中添加空白页？

> ID：11185172
> 
> 赞同：4
> 
> 时间：2012-06-25T07:34:10.757
> 
> 标签：java, itext

我有 pdf 文件，例如 25 页。如何在第 10 页和第 11 页之间添加一个空白页？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-25T07:40:12.967

第一次上谷歌：

```
/*
 * This class is part of the book "iText in Action - 2nd Edition"
 * written by Bruno Lowagie (ISBN: 9781935182610)
 * For more info, go to: http://itextpdf.com/examples/
 * This example only works with the AGPL version of iText.
 */

package part1.chapter05;

import java.io.FileOutputStream;
import java.io.IOException;

import com.itextpdf.text.Document;
import com.itextpdf.text.DocumentException;
import com.itextpdf.text.Paragraph;
import com.itextpdf.text.pdf.PdfWriter;

public class NewPage {

/** Path to the resulting PDF file. */
public static final String RESULT
    = "results/part1/chapter05/new_page.pdf";

/**
 * Main method creating the PDF.
 * @param    args    no arguments needed
 * @throws IOException 
 * @throws DocumentException 
 */
public static void main(String[] args) throws IOException, DocumentException {
    // step 1
    Document document = new Document();
    // step 2
    PdfWriter writer
        = PdfWriter.getInstance(document, new FileOutputStream(RESULT));
    // step 3
    document.open();
    // step 4
    document.add(new Paragraph("This page will NOT be followed by a blank page!"));
    document.newPage();
    // we don't add anything to this page: newPage() will be ignored
    document.newPage();
    document.add(new Paragraph("This page will be followed by a blank page!"));
    document.newPage();
    writer.setPageEmpty(false);
    document.newPage();
    document.add(new Paragraph("The previous page was a blank page!"));
    // step 5
    document.close();

    }
} 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-25T07:42:34.167

使用后，`document.newPage();`如果不添加任何内容，它将被忽略。因此，如果您需要空白页，请`writer.setPageEmpty(false);`在调用后立即添加`newPage()`。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-25T07:46:01.403

只需看一下 PdfWriter 的以下方法：

[http://api.itextpdf.com/itext/com/itextpdf/text/pdf/PdfWriter.html#setPageEmpty(boolean](http://api.itextpdf.com/itext/com/itextpdf/text/pdf/PdfWriter.html#setPageEmpty(boolean) )

应该像这样工作：

```
Document doc = new Document();
PdfWriter pdfWriter
        = PdfWriter.getInstance(document, new FileOutputStream("file.pdf"));
pdfWriter.setPageEmpty(false);
doc.newPage();
doc.close(); 
```

您告诉作者该页面不是空的，即使它是空的，所以将创建一个新页面。

# html - z-index 在 safari 中显示不正确

> ID：11185173
> 
> 赞同：1
> 
> 时间：2012-06-25T07:34:10.963
> 
> 标签：html, css, z-index

我创建了一个漂亮的小 CSS 样式，将三个图像放入 3D 显示中，将左右图像放入透视图，然后放置在中央图像后面。它在 Chrome 中完美运行，但在 Safari 中，顺序被颠倒了。我还在 Firefox 和 IE 中正确放置了它们，只是没有 3D 样式。

这是HTML

```
<!DOCTYPE html>
<html>
<head>
<title>triple screen css</title>
<link href="screen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div class="triple-panel">
  <div class="left-img shrink">
    <img src="images/img2.png"/>
  </div>
  <div class="center-img">
    <img src="images/img1.png"/>
  </div>
  <div class="right-img shrink">
    <img src="images/img3.png"/>
  </div>
</div> 
```

和 CSS

```
.triple-panel > div {
display:inline;
float:left;
perspective: 500;
-webkit-perspective: 500;
-webkit-transform-style: preserve-3d;
-webkit-transition-property: perspective;
}

.triple-panel img {
display:inline;
margin: 2em auto;
border:10px solid #fcfafa;
/* ADDS DROP SHADOW */
-moz-box-shadow:0 3px 10px #888;
-webkit-box-shadow:0 3px 10px #888;
box-shadow:0 3px 10px #888;
}

.shrink {
 transform-style: preserve-3d;
-webkit-transform-style: preserve-3d;
-moz-transform-style: preserve-3d;
-webkit-transform:scale(.75,.75);
-ms-transform:scale(.75,.75); /* IE 9 */
-moz-transform:scale(.75,.75); /* Firefox */
-webkit-transform:scale(.75,.75); /* Safari and Chrome */
-o-transform:scale(.75,.75); /* Opera */
}

.left-img img {
position:relative;
-webkit-transform: rotateY(-30deg);
left:50px;
 }

.center-img img{
position:relative;
top:0;
}

.right-img img {
position:relative;
-webkit-transform: rotateY(30deg);
left:-50px;
}

.left-img, .right-img {
position:relative;
z-index:1;
}

.center-img {
position:relative;
z-index:30;
} 
```

有任何想法吗？

# android - 如何在画布中旋转圆形动画

> ID：11185176
> 
> 赞同：5
> 
> 时间：2012-06-25T07:34:17.653
> 
> 标签：android, android-canvas

我想在 android 的画布上连续旋转圆圈。我正在使用画布绘制圆圈，并且我正在连续旋转圆圈。这是可能的，如果可能的话，如何使用代码或示例来帮助我非常感谢！

这是我在画布上绘制圆圈的代码：

```
 import android.app.Activity;
    import android.content.Context;
    import android.graphics.Canvas;
    import android.graphics.Color;
    import android.graphics.Paint;
    import android.os.Bundle;
    import android.view.View;

    public class AnimationActivity extends Activity {
        /** Called when the activity is first created. */
        @Override
        protected void onCreate(Bundle savedInstanceState)
        {
            super.onCreate(savedInstanceState);
            setContentView(new SampleView(this));
        }

    public class SampleView extends View
    {
        public SampleView(Context context)
        {
            super(context);
            // TODO Auto-generated constructor stub
        }

        @Override
        protected void onDraw(Canvas canvas)
        {
             Paint mPaint = new Paint();
             mPaint.setStyle(Paint.Style.STROKE);
             mPaint.setStrokeWidth(10);
             mPaint.setColor(Color.RED);
             canvas.drawCircle(75, 75, 75, mPaint);
        }
    }
  } 
```

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-09-20T12:57:22.400

您可以使用动画来旋转您绘制的圆圈（使用 Canvas）。下面的代码有效。我已经修改了您的代码并添加了必要的更改。

```
import android.app.Activity;
import android.content.Context;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.os.Bundle;
import android.view.View;

public class AnimationActivity extends Activity {

    public class SampleView extends View {

        Paint mPaint = new Paint();
        private Animation anim;

        public SampleView(Context context) {
            super(context);
            mPaint.setStyle(Paint.Style.STROKE);
            mPaint.setStrokeWidth(10);
            mPaint.setColor(Color.RED);
        }

        private void createAnimation(Canvas canvas) {
            anim = new RotateAnimation(0, 360, getWidth()/2, getHeight()/2);
            anim.setRepeatMode(Animation.RESTART);
            anim.setRepeatCount(Animation.INFINITE);
            anim.setDuration(10000L);
            startAnimation(anim);
       }

        protected void onDraw(Canvas canvas) {

             int cx = getWidth()/2; // x-coordinate of center of the screen
             int cy = getHeight()/2; // y-coordinate of the center of the screen

             // Starts the animation to rotate the circle.
             if (anim == null) 
               createAnimation(canvas)

             canvas.drawCircle(cx, cy, 150, mPaint); // drawing the circle.
        }        
    }

    protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(new SampleView(this));
    }
} 
```

享受！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T19:29:15.897

```
canvas.rotate(-rotate_angle, rotate_center_x, rotate_center_y);
paint.setStyle(Paint.Style.FILL);
paint.setColor(Color.RED);
RectF oval3 = new RectF(rotate_center_x-150, rotate_center_y-50, rotate_center_x+150, rotate_center_y+50);
canvas.drawOval(oval3, paint);
//resume original angle
canvas.rotate(rotate_angle, rotate_center_x, rotate_center_y); 
```

[欲了解更多信息，请点击此处.. ：）](http://android-coding.blogspot.in/2012/04/draw-rotated-oval-canvasdrawoval.html)

# php - PHP-activerecord - 关系 has_many (users, groups, users_groups)

> ID：11185178
> 
> 赞同：0
> 
> 时间：2012-06-25T07:34:25.830
> 
> 标签：php, codeigniter, codeigniter-2, phpactiverecord

我想按照我的观点这样做，但它不起作用：

```
<?php echo $user->group->name;?> 
```

我有 3 张桌子

```
- users (id, name)
- groups (id, name)
- users_groups (id, user_id, group_id) 
```

我有 2 个模型

```
class User extends ActiveRecord\Model
{
    static $belongs_to = array(
        array('group', 'through' => 'users_groups')
    );
}

class Group extends ActiveRecord\Model
{
    static $has_many = array(
        array('users' , 'through' => 'users_groups')
    );
} 
```

我的模型是错误的还是遗漏了什么？我需要另一个模型 users_groups？如果是，怎么称呼？

我需要帮助，我找不到正确的方法。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T11:04:47.480

解决方案是：

```
class User extends ActiveRecord\Model
{
    static $has_many = array(
    array('groups', 'through' => 'usersgroups', 'order'=>'id asc'),
        array('usersgroups')
    );
}

class Group extends ActiveRecord\Model 
{
    static $has_many = array(
        array('users' , 'through' => 'usersgroups'),
        array('usersgroups')
    );
}

class UsersGroup extends ActiveRecord\Model
{
    static $table_name = 'users_groups';

    static $belongs_to = array(
        array('user'),
        array('group')
    );
} 
```

问题在于第三个模型的名称（单数用户组）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:48:59.057

```
class User extends ActiveRecord\Model
{
    function get_group($user_id){
        $query = "SELECT name FROM groups 
                  LEFT JOIN users_groups ON (groups.id=users_groups.group_id)
                  LEFT JOIN users ON (users_groups.user_id=users.id)";
        $this->group = mysql_fetch_object($query);
    }
} 
```

将此功能添加到您的用户功能

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T09:12:12.253

我认为您的问题的答案在[手册](http://www.phpactiverecord.org/projects/main/wiki/Associations)中。这是您尝试实现的多对多关联的示例。在这种情况下，groups 是订单，users_groups 是付款。

![在此处输入图像描述](../Images/d2f379434dd959083ca58599868aac14.png)

```
 class Order extends ActiveRecord\Model {
   static $has_many = array(
     array('payments'),
     array('users', 'through' => 'payments')
   );
 }

 class Payment extends ActiveRecord\Model {
   static $belongs_to = array(
     array('user'),
     array('order')
   );
 }

 class User extends ActiveRecord\Model {
   static $has_many = array(
    array('payments')
   );
 }

 $order = Order::first();
 # direct access to users
 print_r($order->users); # will print an array of User object 
```

# bash - 过滤输入以删除某些字符/字符串

> ID：11185181
> 
> 赞同：2
> 
> 时间：2012-06-25T07:34:44.163
> 
> 标签：bash, sed, awk, sh

我有关于文本解析的快速问题，例如：

```
输入="abcdef g"
```

```
模式="ae g"
```

应修改 INPUT 变量，以便删除 PATTERN 字符，因此在此示例中：

```
输出="bcd f"
```

我试过用

```
tr -d $x
```

在'PATTERN'的for循环计数中，但我不知道如何为下一次循环迭代传递输出。

编辑：如果 INPUT 和 PATTERN 变量包含字符串而不是单个字符怎么办？？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T07:37:44.163

从哪里来`$x`？无论如何，你很接近：

```
tr -d "$PATTERN" <<< $INPUT 
```

要将结果分配给变量，只需使用

```
OUTPUT=$(tr -d "$PATTERN" <<< $INPUT) 
```

请注意，空格也会被删除，因为它们是 $PATTERN 的一部分。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T09:57:00.040

使用参数替换的纯 Bash：

```
INPUT="a b c d e f g"
PATTERN="a e g"

for p in $PATTERN; do
  INPUT=${INPUT/ $p/}
  INPUT=${INPUT/$p /}
done
echo  "'$INPUT'" 
```

结果：

```
'b c d f' 
```

# iphone - 当推送通知到来时，如果用户单击应用程序图标而不是单击通知来打开此应用程序

> ID：11185183
> 
> 赞同：2
> 
> 时间：2012-06-25T07:34:54.533
> 
> 标签：iphone, push-notification

当推送通知到来时，用户单击应用程序图标而不是单击通知来打开此应用程序。那我怎样才能得到通知有效载荷呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T00:17:16.807

正如其他人所提到的，你不能。

您只能在从通知中心启动时获取有效负载，因为这意味着用户对该特定通知感兴趣。如果您选择忽略通知并通过推送图标打开应用程序，您将无法获取推送负载。

他们似乎以这样一种方式设计了架构，以防止处理堆积的推送有效载荷（比如 10 次）。

这是被证明的，因为它们实际上只允许您通过单个通知来处理推送有效负载（当应用程序关闭或在后台时）。如果不是这种情况，他们将不得不允许所有应用程序的推送有效负载处理代码运行，即使它们已关闭或处于后台状态。

# python - Django - /blog 处的 ImportError。没有名为 urls 的模块

> ID：11185185
> 
> 赞同：4
> 
> 时间：2012-06-25T07:34:59.663
> 
> 标签：python, django

我是 django 新手，正在学习中。在做一些教程练习时，我遇到了一些需要帮助的错误。

错误：/blog 处的 ImportError。没有名为 urls 的模块

名为“blog”的应用程序下的 urls.py 文件是

```
from django.conf.urls.defaults import patterns, include, url
from mysite.blog.views import archive

urlpatterns = patterns('',
    url(r'^$',archive),
                       ) 
```

名为'blog'的应用程序下的views.py文件是

```
# Create your views here.
from django.template import loader, Context
from django.http import HttpResponse
from mysite.blog.models import Blogpost

def archive(request):
    posts = BlogPost.objects.all()
    t = loader.get_template("archive.html")
    c = context({'posts': posts })
    return HttpResponse(t.render(c)) 
```

项目“mysite”下的 urls.py 文件是

```
from django.conf.urls import patterns, include, url

# Uncomment the next two lines to enable the admin:
from django.contrib import admin
admin.autodiscover()

urlpatterns = patterns('',
# Examples:
# url(r'^$', 'mysite.views.home', name='home'),
url(r'^blog/', include('mysite.blog.urls')),

# Uncomment the admin/doc line below to enable admin documentation:
url(r'^admin/doc/', include('django.contrib.admindocs.urls')),

# Uncomment the next line to enable the admin:
url(r'^admin/', include(admin.site.urls)),
) 
```

追溯：

```
File "D:\Super Developer\Python\lib\site-packages\django\core\handlers\base.py" in get_response
  89\.                     response = middleware_method(request)
File "D:\Super Developer\Python\lib\site-packages\django\middleware\common.py" in process_request
  67\.             if (not urlresolvers.is_valid_path(request.path_info, urlconf) and
File "D:\Super Developer\Python\lib\site-packages\django\core\urlresolvers.py" in is_valid_path
  531\.         resolve(path, urlconf)
File "D:\Super Developer\Python\lib\site-packages\django\core\urlresolvers.py" in resolve
  420\.     return get_resolver(urlconf).resolve(path)
File "D:\Super Developer\Python\lib\site-packages\django\core\urlresolvers.py" in resolve
  298\.             for pattern in self.url_patterns:
File "D:\Super Developer\Python\lib\site-packages\django\core\urlresolvers.py" in url_patterns
  328\.         patterns = getattr(self.urlconf_module, "urlpatterns", self.urlconf_module)
File "D:\Super Developer\Python\lib\site-packages\django\core\urlresolvers.py" in urlconf_module
  323\.             self._urlconf_module = import_module(self.urlconf_name)
File "D:\Super Developer\Python\lib\site-packages\django\utils\importlib.py" in import_module
  35\.     __import__(name)

Exception Type: ImportError at /blog
Exception Value: No module named urls 
```

**项目/应用程序的结构：**

1.  我的网站
    *   管理.py
    *   *初始化*.py
    *   设置.py
    *   网址.py
    *   wsgi.py
    *   博客
        *   *初始化*.py
        *   模型.py
        *   视图.py
        *   网址.py
        *   测试.py
        *   模板 - archive.html

**蟒蛇路径**

> ['D:\Super Developer\Proj\mysite', 'C:\Windows\system32\python27.zip', 'D:\Super Developer\Python\DLLs', 'D:\Super Developer\Python\lib', 'D:\Super Developer\Python\lib\plat-win', 'D:\Super Developer\Python\lib\lib-tk', 'D:\Super Developer\Python', 'D:\Super Developer\Python \lib\site-packages']

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T08:41:31.663

```
url(r'^blog/', include('mysite.blog.urls')), 
```

这可能需要更改为

```
url(r'^blog/', include('blog.urls')), 
```

注意：没有“mysite”前缀。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T16:08:50.550

在博客的 urls.py 中，您导入

`from django.conf.urls.defaults import patterns, include, url`

但是在项目的 urls.py 中，你使用

`from django.conf.urls import patterns, include, url`

这是缩进的吗？后者似乎至少在我的环境中失败了。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-05T17:02:59.877

检查您是否在应用程序 url 文件中使用了媒体或静态 url 声明

```
url(r'^media/(?P<path>.*)$', 'django.views.static.serve'
, {'document_root': settings.MEDIA_ROOT}
  ), 
```

而不是在应用程序 url 文件中。

我遇到了同样的问题，换了这个，我就没有问题了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-20T20:45:21.387

A friend of mine was going through some django tutorial and got the same error. The mistake he made was in the file structures. In the new version of django, it creates two directory levels for example mysite/mysite and he tried putting the blog folder in mysite/blog instead of mysite/mysite/blog. After making that change, it all seemed to work well. Try to look at your structure and hope it helps.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-25T16:35:50.093

我认为`patterns`最后一个元素后不能有逗号：

```
urlpatterns = patterns('',
    url(r'^$',archive), <-- delete this comma
) 
```

也尝试运行`manage.py shell`，`import blog.urls`如果那里没有引发任何异常

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-25T09:46:22.013

也许您的博客文件夹中缺少**__ *init* __.py**文件。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-07-09T11:47:25.747

看起来您使用的是 Django 1.6 或更高版本。由于框架中的一些更改，此代码将无法正常工作。在博客的 urls.py 中使用 1.5 或此代码：

```
 from django.conf.urls import patterns, include, url
    from blog import views

    urlpatterns = patterns('',
        url(r'^$', views.archive),
    ) 
```

这在views.py中：

```
 from django.template import loader, Context
    from django.http import HttpResponse
    from blog import models 

    def archive(request):
        posts = models.BlogPost.objects.all()
        t = loader.get_template('archive.html')
        c = Context({ 'posts': posts })
        return HttpResponse(t.render(c)) 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-10-27T06:23:31.267

尝试给出这个：

```
url(r'^blog/', include('mysite.urls')), 
```

# c# - 如何根据代码中的另一个图表创建新的 ms 图表？

> ID：11185186
> 
> 赞同：-1
> 
> 时间：2012-06-25T07:35:15.177
> 
> 标签：c#, .net, mschart

如何在代码中基于另一个图表创建新图表？

有一个图表已设置外观，我想创建一个具有相同外观和不同数据源的新图表。如何在 .cs 文件中执行此操作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:39:24.110

通常：声明一个函数，该函数返回一个具有所需外观的新图表对象，并在从它获取图表对象后，将其绑定到数据源

# database - 通过 ADO 连接打开 csv 文件 - 列限制为 255 / 或仅使用其他文件类型？

> ID：11185191
> 
> 赞同：2
> 
> 时间：2012-06-25T07:35:22.413
> 
> 标签：database, csv, excel, ado, vba

我有一个相当大的 csv 文件（大约 800MB），我需要通过 VBA（我正在使用 Excel 2010）从 Excel 文件中访问它来运行一些计算。现在我想避免直接打开文件，因为 Excel 需要 aeons 来完成。

因此，我决定将其作为 ADO-Recordset 打开，如 [本文所述（也在 stackoverflow 上） 不幸的是](https://stackoverflow.com/questions/10509406/using-ado-in-access-to-import-csv-data)**，列数**似乎限制为 255至少这是我在调用该`AdoRecordset.Fields.count`方法时得到的数字。

我尝试在stackoverflow中搜索一些已解决的帖子，发现：

1.  [无法从 csv 文件传输超过 255 条记录以访问](https://stackoverflow.com/questions/10792875/cant-transfer-more-than-255-records-from-a-csv-file-to-access)
2.  [使用 Microsoft Jet OLEDB 对 CSV 的列限制](https://stackoverflow.com/questions/10509406/using-ado-in-access-to-import-csv-data)

还没有人回答第一个问题，我想知道除了第二篇文章中描述的以外，是否还有其他解决方案——如果可能的话，我想避免安装额外的软件。

**我的问题是：**

> 1.  有没有办法将 csv 文件打开为具有超过 255 个可用字段/列的 ADO 记录集 - 我需要大约 3000 列和 10000 行。
> 2.  如果不是这种情况，是否还有其他方法可以在不实际打开 csv 文件的情况下读取它（如果文件很大，这需要数年时间）？

csv 文件不是强制性的，我实际上可以将数据转换为任何必要的格式。Access 将不适用于我有 3000 列和 10000 行，而 MS Access 无法处理 3000 列。是否有一种文件类型可以更轻松、更快速地处理？（在使用 ExcelVBA 打开和阅读方面）

**这一定是常见的问题，我想知道为什么在网上找不到解决方案。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T16:21:53.077

3000 看起来很大，但有一个杂项：

```
Dim FileNum As Integer
Dim DataLine As String
Dim SplitData()

FileNum = FreeFile()
Open "Filename" For Input As #FileNum

While Not EOF(FileNum)
    Line Input #Filename, DataLine ' read in data 1 record at a time
    SplitData = Split(DataLine, ",")
    'Process big array
Wend 
```

读取数据的每一行都将进入*field1*`SplitData(0)`到*field3000*`SplitData(2999)`（从零开始的数组）

# asp.net-mvc - 如何在类库中获取 ControllerContext

> ID：11185192
> 
> 赞同：3
> 
> 时间：2012-06-25T07:35:25.240
> 
> 标签：asp.net-mvc, model-view-controller

我想访问类库中的 ControllerContext 。可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-10-08T08:15:24.427

这取决于您想从那里获得什么信息。它可能在其他地方可用。例如控制器名称和动作可以从

```
HttpContext.Current.Request.RequestContext.RouteData.Values["controller"]
HttpContext.Current.Request.RequestContext.RouteData.Values["action"] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T07:36:16.777

> 有可能吗？

不，我不建议您这样做。不要将您的类库绑定到任何 ASP.NET 特定的东西，例如控制器上下文。传递这个库需要的任何信息作为参数。

除了从类库中检索 ControllerContext 之外，还有其他方法可以实现您想要实现的任何目标。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T17:30:38.857

对的，这是可能的。您必须在类库中引用 System.Web.Mvc 程序集，然后将 ControllerContext 对象传递给您正在调用的方法。

是否推荐的问题取决于您在做什么。通常不建议将 MVC 基础对象传递给另一个处理模型的程序集。

# zend-framework - 如何在 Zend Framework 中用破折号分隔控制器名称？

> ID：11185193
> 
> 赞同：3
> 
> 时间：2012-06-25T07:35:32.710
> 
> 标签：zend-framework, controller

我只是 Zend 的新手，目前我正在尝试在我的控制器名称中添加一个破折号（-）。它

看起来像这个**module/first-controller/action**。请注意这是

**控制器名称不是动作名称**。有人可以给我一个解决这个问题的方法吗？谢谢

非常提前！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-25T07:47:38.497

类名出现在 URL 中`FirstControllerController`。`first-controller`

好吧，这是一个不好的例子。如果您想`user-address`在 URL 中包含并使用`zf`命令行工具创建控制器，您可以将其称为`zf create controller UserAddress`控制器的实际类名`UserAddressController`（因此文件名是`UserAddressController.php`）。

因此，CamelCase 名称中的每个*凹凸*都将在 URL 中用连字符分隔。动作名称 ( `getAddressAction()`-> `get-address`) 也是如此。

# drupal-7 - Drupal 视图只显示一行

> ID：11185194
> 
> 赞同：0
> 
> 时间：2012-06-25T07:35:44.263
> 
> 标签：drupal-7, views

我有一个用 3 个节点定义的视图，在*views-view-unformatted--my-view--default.tpl.php*我循环抛出 $rows 但只得到第一个结果，如果我尝试这个：

```
$view = views_get_current_view();
error_log(count($view->result)); //<- This returns only 1 row
error_log($view->total_rows); //<- This shows nothing, as if property didn't exist

foreach ($rows as $id => $row):
    print $row; //<- Only print first node
endforeach; 
```

问题是什么？为什么我找不到他们三个？

**编辑** 我发现它只为未经过身份验证的用户显示一行，实际上对于非管理员，我查看了视图访问限制并设置为无。据我所知，我没有任何内容访问限制，并且我查看了权限，一切似乎都很好。

我还能在哪里看？

谢谢

# objective-c - 在哪里存储常量字符串

> ID：11185199
> 
> 赞同：2
> 
> 时间：2012-06-25T07:36:05.610
> 
> 标签：objective-c, ios

在我的应用程序中，我想存储大约 30 个字符串。以后想在几节课上用，每节课只用一次。存放它的最佳位置在哪里？我在 ios 中阅读了有关单例类的信息，但我不确定这是否适合我。

我想做类似 NSArray 的东西，在***for***循环中我可以搜索数组。

我试图将其定义为：

```
NSArray *arr = [NSArray arrayWithObjects:@"something",@"else", nil]; 
```

但是我可以在 .h 文件中做到这一点，而且我不确定是否对于常量变量我想要一个类。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:02:26.460

好吧，如果您不介意，您可以拥有一个 plist 文件，其中包含一个`NSArray`和所有`NSStrings`内容，然后加载它们：

```
NSString *plistPath = [[NSBundle mainBundle] pathForResource:@"myArray" ofType:@"plist"];
NSArray *myArrayOfStrings = [NSArray arrayWithContentsOfFile:plistPath]; 
```

单例模式是一种解决方案，但是对于操作人员想要的，plist 就绰绰有余了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:01:51.343

对于一个数组，你不能！常量是在运行时创建的，您可以使用表达式对其进行初始化。您可以声明一个返回数组的便利类方法，并在该方法中使用静态 NSArray * arr，将其视为单例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T07:43:28.910

您应该考虑使用位于“Other Sources 文件夹”中的“MyProjectName_Prefix.pch”。所有包含和定义都包含在项目的每个类中。在您的情况下，最好的方法是，恕我直言，您将所有常量放入“myStringConstants.h”文件中，然后从“MyProjectName_Prefix.pch”中包含该文件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T07:49:53.020

您可以使用纯 C 样式：

```
NSString* const arr[] = {@"something",@"else"};
const int arrSize = sizeof(arr)/sizeof(arr[0]);

void printArr()
{
    for(int i=0; i<arrSize; i++) {
        NSLog(@"%@", arr[i]);
    }
} 
```

要在 .h 文件中声明原型，请使用`extern`：

```
extern NSString* const arr[];
extern const int arrSize; 
```

# javascript - jquery分页滚动如facebook状态

> ID：11185202
> 
> 赞同：0
> 
> 时间：2012-06-25T07:36:22.803
> 
> 标签：javascript, jquery, facebook

我正在尝试像 [本教程](http://wekeroad.com/2009/11/27/paging-records-sucks--use-jquery-to-scroll-just-in-time)一样进行分页滚动，而我使用

```
 if ($(window).scrollTop() == $(document).height() - $(window).height()) { 
```

它不工作，它没有显示任何动作。所以我搜索并找到了一个解决方案：

```
 if($(window).scrollTop() + $(window).height() >= $("#productlist").height()) { 
```

注意：#productlist 是我的容器 div 的 id。

但是当我这样做时，每当我滚动鼠标时，我的页面总是会附加数据。我想要的是，仅当滚动条位于页面底部时才加载新内容，例如 facebook 或 twitter 分页加载。

谁能告诉我，我该如何处理这个问题？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T07:42:37.160

```
 $('#yourcontainerId').bind('scroll', function(){

  if($(this).scrollTop() + $(this).innerHeight() >= $(this)[0].scrollHeight)  {
    alert('this will alert only when it reaches the end');
  }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T16:44:18.783

这个适用于窗口内的表格/div

```
elem[0].scrollHeight - elem.scrollTop() == elem.outerHeight()

var elem = $('#box');
if (elem[0].scrollHeight - elem.scrollTop() == elem.outerHeight()) {
  // We're at the bottom.
} 
```

更多：[http ://www.yelotofu.com/2008/10/jquery-how-to-tell-if-youre-scroll-to-bottom/](http://www.yelotofu.com/2008/10/jquery-how-to-tell-if-youre-scroll-to-bottom/)

# html - 使用多部分表单上传的文件保存在哪里？

> ID：11185203
> 
> 赞同：0
> 
> 时间：2012-06-25T07:36:25.870
> 
> 标签：html, cgi, server-side

我想知道客户端上传的文件将保存在哪里，如果我使用多部分表单，并且这些文件也将被永久保存，如果 2 个或更多用户同时尝试上传文件，那么这两个文件都将保存在哪里被保存或覆盖？？

我的 cgi 脚本是一个 .py 脚本

提前 Tnx

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:43:49.587

我认为上传的文件不会“自动”保存。您的脚本需要处理请求并保存它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:44:46.717

这些文件将保存在一个临时目录中，您需要手动保存它们。

您可以使用 PERL 控制文件，如下所示：

```
require "cgi-lib.pl";
$uploadDirectory = "YOUR_DIRECTORY";
open (OUTPUT_FILE, ">$upload_dir\/$in{'file'}") || & Die("Could not open file: $!");
undef $Buffer;
while (read($in{'file'},$Buffer,1024)) {
     print OUTPUT_FILE $Buffer;
}
close(OUTPUT_FILE); 
```

要处理多个上传，您可以确保为它们提供单独的名称（例如，包括 user_id 或随机名称）。

# java - 过滤 不区分大小写

> ID：11185204
> 
> 赞同：2
> 
> 时间：2012-06-25T07:36:29.437
> 
> 标签：java, jqgrid, struts2

我正在使用一个 struts2jquery 网格，其中我给出了 filter="true"。所以它在客户端过滤数据。但它只过滤大小写敏感。我需要在没有大小写的情况下获取数据。那么我应该为此添加什么。期待一些建议。谢谢 ！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T14:15:05.713

我找到了一个使用 javaScript 的解决方案：

```
<%@ taglib prefix="s" uri="/struts-tags"%>
<%@ taglib prefix="sj" uri="/struts-jquery-tags"%>
<%@ taglib prefix="sjg" uri="/struts-jquery-grid-tags"%>

   <s:url var="remoteurl" action="jsontable" />

    <sjg:grid id="gridtableID" 

        caption="Primjer JSON TABELE" 
        dataType="json"
        href="%{remoteurl}" 
        gridModel="gridModel" 
        viewrecords="true"
        pager="true"
        pagerPosition="centar"
        navigator="true"
        navigatorSearch="true"
        filter="true"
        filterOptions="{stringResult:true}"
        loadonce="true"

         >

        <sjg:gridColumn name="id"
            index="id" title="ID" 
            formatter="integer"
            search="false"
            searchoptions="{sopt:['cn','eq','ne','bw','bn','ew','en','nc']}"
            editable="false" />
        <sjg:gridColumn name="name" index="name" title="Name" sortable="true"
            search="true"
            searchoptions="{sopt:['cn','eq','ne','bw','bn','ew','en','nc']}" />
        <sjg:gridColumn name="country" index="country" title="Country"
            search="true"
            searchoptions="{sopt:['cn','eq','ne','bw','bn','ew','en','nc']}"/>
        <sjg:gridColumn name="city" index="city" title="City" search="true"
            searchoptions="{sopt:['cn','eq','ne','bw','bn','ew','en','nc']}" />
        <sjg:gridColumn name="creditLimit" index="creditLimit"
            title="Credit Limit" formatter="currency" search="true"
            searchoptions="{sopt:['cn','eq','ne','bw','bn','ew','en','nc']}"/>

    </sjg:grid>

    <script>
    $(document).ready(function(){
        $("#gridtableID").jqGrid('setGridParam', { ignoreCase: true});
        });
    </script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-09T19:21:46.083

这可能有点晚了，但这里有一个更简单的解决方案：

第 1 步：将 onCompleteTopics 添加到 sgj:grid 标签。

```
<sjg:grid
...
onCompleteTopics="loadComplete"
...
> 
```

第 2 步：将 .subscribe 添加到您的 .jsp，其中包含以下代码。

```
<script>
    $.subscribe('loadComplete', function (event, data){
         $("#gridtable").jqGrid('setGridParam', { ignoreCase: true});
    });
</script> 
```

这应该关闭网格顶部过滤器行的区分大小写。这严格用于客户端过滤。

# android - 首次运行 Zxing 显示白色背景的相机

> ID：11185205
> 
> 赞同：0
> 
> 时间：2012-06-25T07:36:30.417
> 
> 标签：android

我已将 ZXing 代码集成到我自己的应用程序中，并且我已注释代码以在首次启动时显示帮助屏幕。

我已经开始使用“showHelpOnFirstLaunch()”方法并尝试运行它，它显示如下：

![在此处输入图像描述](../Images/ddbff47d17105e1127e6ca61398aa4b8.png)

但是从 secong 时间开始它很好用......我不知道如何解决这个问题.. 任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:01:48.937

在 showHelpOnFirstLaunch() 中，您将看到以下代码段：

```
if (currentVersion > lastVersion) {
            prefs.edit()
                    .putInt(PreferencesActivity.KEY_HELP_VERSION_SHOWN,
                            currentVersion).commit();
            Intent intent = new Intent(this, HelpActivity.class);
            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET);
            String page = lastVersion == 0 ? HelpActivity.DEFAULT_PAGE
                    : HelpActivity.WHATS_NEW_PAGE;
            intent.putExtra(HelpActivity.REQUESTED_PAGE_KEY, page);
            startActivity(intent);
            return true;
} 
```

只需在 showHelpOnFirstLaunch() 中注释此代码；也调用 showHelpOnFirstLaunch() 方法

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T12:29:08.813

终于得到了解决方案：

这只是因为背景颜色：在 captureActivity，onResume() 方法 -> ViewFinderView id 初始化的地方，我刚刚将 viewFinderView 的颜色设置为：

```
 ViewFinderView.setBackgroundColor(0); 
```

就是这样......现在它工作正常:)

# c# - 如何知道控件正忙于在窗口应用程序中执行任何任务？

> ID：11185206
> 
> 赞同：0
> 
> 时间：2012-06-25T07:36:35.813
> 
> 标签：c#, windows

我正在使用 C# 开发一个基于窗口的应用程序，并运行一个计时器，该计时器在 Main MDI Parent 控件上运行，许多子控件从该控件打开/编辑/关闭。现在，我想知道整个应用程序是忙还是闲的计时器代码。如果任何控件正在执行任何任务，例如从数据库访问数据，或者执行插入查询或删除数据等，那么我应该知道应用程序正忙，如果不是，应用程序空闲。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:47:57.153

如果您使用的是 Windows 窗体 Timer ( `System.Windows.Forms.Timer`)，那么`Tick`当 UI 线程忙时，计时器代码 ( event) 永远不会执行，除非有人`Application.DoEvents()`在某事中间调用。但是，如果您有后台工作人员或其他类型的线程来执行某些任务，那么就没有明确的方法可以知道其他线程是否正忙于做某事。

您应该使用[线程同步](http://msdn.microsoft.com/en-us/library/ms173179.aspx)机制来确保您不会弄乱计时器事件中的某些内容。您还可以使用一些保护变量。最好考虑一些架构修复。

**编辑：** 您无法在计时器中检查应用程序空闲情况。如果一个操作在你的计时器注意到之前的几分之一秒内开始和完成怎么办？

最好的方法是拥有一个全局`lastOperationTime`变量，并在`DateTime.Now`每次采取行动时将其设置为。然后使用计时器检查从以下经过的时间`lastOperationTime`：

```
void idleTimer_Tick (object sender, EventArgs e)
{
    if ((DateTime.Now - lastOperationTime).TotalMinutes > 50)
    {
        ...
    }
} 
```

最困难的部分是如何在每个执行一些有用操作的方法中注入一行代码！如果您有一个具有适当组织的基类的良好框架，则可能存在您应该将代码更新的特定（有限）点`lastOperationTime`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:40:51.053

您应该将所有耗时的任务放在后台工作者 ( `BackgroundWorker`) 类中。这样您就可以持续监控、获取进度并在需要时退出，而不会对 UI 产生任何影响。

这是示例应用程序的链接，

[http://msdn.microsoft.com/en-us/library/system.componentmodel.backgroundworker.aspx](http://msdn.microsoft.com/en-us/library/system.componentmodel.backgroundworker.aspx)

# authentication - 使用图形 API 时，我对好友列表有一些疑问

> ID：11185207
> 
> 赞同：0
> 
> 时间：2012-06-25T07:36:43.623
> 
> 标签：authentication, facebook-graph-api

在朋友方面使用图形 API 时

```
https://graph.facebook.com/me/friends?access_token=AAAAAAITEghMBAC5qwrWuygObxXEkI71qQQMWplrplgIiehNQZC9CzlepI2sQoZCPIeKMpbdP7IwiVdwKY49BmJYH9E3Y8jQzD89sCoeWXRVSoUPlnW 
```

如果输入此 URL，我可以看到我的朋友列表，但我想查看我朋友的朋友列表，所以我输入这样的 URL（将我替换为朋友的 id）

```
https://graph.facebook.com/(FRIEND'SID)/friends?access_token=AAAAAAITEghMBAC5qwrWuygObxXEkI71qQQMWplrplgIiehNQZC9CzlepI2sQoZCPIeKMpbdP7IwiVdwKY49BmJYH9E3Y8jQzD89sCoeWXRVSoUPlnW 
```

当输入这样的 URL 时，我发生了某种授权问题，还有其他解决方案吗？或者其他方式来导入我朋友的朋友列表？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:41:13.563

如果你的意思是错误

```
{
   "error": {
      "message": "(#604) Can't lookup all friends of .... Can only lookup for the logged in user or the logged in user's friends that are users of your app.",
      "type": "OAuthException",
      "code": 604
   }
} 
```

这是不言自明的。要查看朋友的朋友列表，他必须是您应用的用户。另一种方法是生成他的`access_token`. 没有其他方法可以访问朋友的朋友列表。

# sql - 如何显示员工没有参与的测验？

> ID：11185211
> 
> 赞同：0
> 
> 时间：2012-06-25T07:37:00.497
> 
> 标签：sql, sql-server-2008-r2

我有以下数据库设计：

```
Employee Table: Username, Name
Quiz Table: QuizID, Title, IsSent, Description
UserQuiz Table: UserQuizID, QuizID, Score, Username 
```

（IsSent 是一个标志（位类型），指示测验是否已发送给所有员工）

我现在需要编写一个查询，显示已发送给员工但他没有参与的测验的标题和描述。因此，当员工进入系统中的个人资料时，他会看到他参与的测验（如果有的话）。**怎么做？**

我写了一个通用查询，显示了所有员工都没有参与的测验。它应该特定于给定/指定的员工。**那么如何修改呢？**

**询问：**

```
SELECT     Title, Description
FROM         dbo.Quiz
WHERE     (NOT EXISTS
                          (SELECT     QuizID
                            FROM          dbo.UserQuiz
                            WHERE      (dbo.Quiz.QuizID = QuizID))) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:43:12.270

试试这种方式： -

```
SELECT Q.Title, Q.Description 
FROM Quiz Q
WHERE     
    (NOT EXISTS                           
        (SELECT UQ.QuizID 
         FROM UserQuiz UQ, Employee E
         WHERE Q.QuizID = UQ.QuizID and E.Username = UQ.Username)
     ) 
```

# ruby - ruby 解析数组以散列

> ID：11185214
> 
> 赞同：-1
> 
> 时间：2012-06-25T07:37:29.247
> 
> 标签：ruby, arrays, parsing, hash

像这样的数组：

```
a = ["<root>", 
"<products>", 
"<product>", 
"<id>", "1", "</id>",
"<name>", "name1", "</name>", 
"</product>",
"<product>", 
"<id>", "2", "</id>",
"<name>", "name2", "</name>", 
"</product>",
"</products>", 
"</root>"] 
```

和这样的哈希：

```
b = {
"products" => {
  "product" => [
     {"id" => "1", "name" => "name1"},
     {"id" => "2", "name" => "name2"}
   ]
  }
} 
```

怎么把这个hash`c`取出来：< `a`/ `b`p>

```
c = {
"products" => {
  "product" => [
     {"id" => "1", "name" => "name1", "id_index" => 4, "name_index" => 7},
     {"id" => "2", "name" => "name2", "id_index" => 12, "name_index" => 15}
   ]
  }
} 
```

4、7、12、15是数组中“1”、“name1”、“2”、“name2”的索引`a`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:59:09.703

我想它看起来像：

```
c = {'products' => {'product' => b['products']['product']
  .map{|o| o.merge({'id_index' => a.index(o['id']), 'name_index' => a.index("name#{o['id']}")})}}} 
```

# android - Spatialite for Android NDK 构建

> ID：11185221
> 
> 赞同：3
> 
> 时间：2012-06-25T07:38:13.240
> 
> 标签：android, android-ndk, cygwin, spatialite, geos

我在构建现有项目时遇到了一些麻烦：

```
http://code.google.com/p/spatialite-android/ 
```

我正在使用 Win7 和 Cygwin

我通过使用“GIT for Windows”进行克隆来获取源代码。将其放入：C:\temp\ECLIPSE\workspace\SA1

我下载以下内容：

*   [http://download.osgeo.org/geos/geos-3.2.2.tar.bz2](http://download.osgeo.org/geos/geos-3.2.2.tar.bz2)
*   [ftp://ftp.remotesensing.org/proj/proj-4.7.0.tar.gz](ftp://ftp.remotesensing.org/proj/proj-4.7.0.tar.gz)

我把它们放在：C:\temp\ECLIPSE\workspace\SA1\spatialite-android-library\jni

然后我启动 Cygwin 并执行以下操作：

```
$ cd c:/temp/eclipse/workspace/sa1/spatialite-android-library/jni
$ tar xvjf geos-3.2.2.tar.bz2
$ cd geos-3.2.2
$ ./configure --build=x86_64-pc-linux-gnu --host=arm-linux-eabi 
```

在 Cygwin 之外，我在编辑器中打开： C:\temp\ECLIPSE\workspace\SA1\spatialite-android-library\jni\geos-3.2.2\source\headers\geos\platform.h 并进行一些更改它类似于下面

```
/* Set to 1 if you have `int64_t' type */
/* #undef HAVE_INT64_T_64 */

/* Set to 1 if `long int' is 64 bits */
/* #undef HAVE_LONG_INT_64 */

/* Set to 1 if `long long int' is 64 bits */
/* #undef HAVE_LONG_LONG_INT_64 */

/* Set to 1 if you have ieeefp.h */
/* #undef HAVE_IEEEFP_H */

/* Has finite */
#define HAVE_FINITE 1

/* Has isfinite */
/* #undef HAVE_ISFINITE */

/* Has isnan */
#define HAVE_ISNAN 1 
```

保存并关闭

然后我回到 Cygwin 并执行以下操作：

```
$ cd ..
$ tar xvzf proj-4.7.0.tar.gz
$ cd proj-4.7.0
$ ./configure --build=x86_64-pc-linux-gnu --host=arm-linux-eabi
$ cd ..
$ /cygdrive/c/android-ndk-r8/ndk-build 
```

与 Compile++ 行一起，以下编译

```
StaticLibrary  : libiconv.a
StaticLibrary  : libproj.a 
```

但是，当它通过**geos**时，会出现以下错误：

```
Compile++ thumb  : geos <= TaggedLineSegment.cpp
Compile++ thumb  : geos <= TaggedLinesSimplifier.cpp
Compile++ thumb  : geos <= TaggedLineString.cpp
Compile++ thumb  : geos <= TaggedLineStringSimplifier.cpp
Compile++ thumb  : geos <= TopologyPreservingSimplifier.cpp
Compile++ thumb  : geos <= Assert.cpp
Compile++ thumb  : geos <= GeometricShapeFactory.cpp
Compile++ thumb  : geos <= math.cpp
Compile++ thumb  : geos <= Profiler.cpp
Prebuilt       : libgnustl_static.a <= <NDK>/sources/cxx-stl/gnu-libstdc++/libs/armeabi/
StaticLibrary  : libgeos.a
make: execvp: /cygdrive/c/android-ndk-r8/toolchains/arm-linux-androideabi-4.4.3/prebuilt/windows/bin/arm-linux-androideabi-ar: Argument list too long
make: *** [/cygdrive/c/temp/eclipse/workspace/sa1/spatialite-android-library/obj/local/armeabi/libgeos.a] Error 127
HFisher@Toshiba500 /cygdrive/c/temp/eclipse/workspace/sa1/spatialite-android-library/jni
$ 
```

有人可以帮助我解决这个问题吗？非常感谢任何帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-24T17:39:12.317

该问题可以通过缩短 ndk 和 spatialite-android 文件夹的路径来解决。

我将 ndk 移动到 c:\cygwin 文件夹并将其从 android-ndk-r8b 重命名为 ndk。同样，我将 android-spatialite 文件夹移至 c:\cygwin 并将其重命名为 sla

然后 cd 进入 /sla/spatialite-android-library/jni 文件夹并运行 /ndk/ndk-build -j8

它编译:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-30T14:08:11.603

尝试将以下内容添加到生成文件中。

```
LOCAL_SHORT_COMMANDS := true 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T18:07:36.230

这似乎是 NDK 的问题。当提供的参数列表太长时会发生此错误。通常这可以使用选项文件来解决。请参阅 arm-linux-androideabi-ar 的 @ 参数。

搜索互联网似乎已向 Google 报告此问题。我能提供的唯一解决方法是使用 Ubuntu VM 来编译本机代码。

# c++ - std::set 在运行时选择更少或更大的比较器

> ID：11185223
> 
> 赞同：5
> 
> 时间：2012-06-25T07:38:50.947
> 
> 标签：c++, stl, set, predicate

我正在重构一些代码，发现有两个地方可以用相同的代码编写，除了一个集合的比较器`less<double>`在一个地方和另一个地方`greater<double>`。就像是：

```
double MyClass::Function1(double val)
{
    std::set<double, less<double> > s;
    // Do something with s
}

double MyClass::Function2(double val)
{
    std::set<double, greater<double> > s;
    // Do the same thing with s as in Function1
} 
```

所以我想这样做：

```
double MyClass::GeneralFunction(double val, bool condition)
{  
    if(condition)  
    {  
        // Select greater as comparator  
    }  
    else
    {  
        // Select less as comparator  
    }  

    set<double, comparator> s;  
    // common code
} 
```

我通过使用我的自定义比较器函数使其工作，如下所示：

```
bool my_greater(double lhs, double rhs)
{
    return lhs > rhs;
}

bool my_less(double lhs, double rhs)
{
    return lhs < rhs;
}

double MyClass::GeneralFunction(double val, bool condition)
{ 
    typedef bool(*Comparator) ( double,  double);
    Comparator comp = &my_less;
    if (condition)
    {
        comp = &my_greater;
    }

    std::set<double, Comparator > s(comp);  

    //....
} 
```

但我想使用内置的。问题是我不知道如何声明比较器并将其分配给内置谓词。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T08:38:29.333

问题是您无法在 tuntime 选择比较器的*类型*，`std::less`并且`std::greater`具有不相关的类型。类似地，作为比较器`std::set`实例化的 with`std::less`具有与实例化 with 无关的类型`std::greater`。有几种可能的解决方案，但最简单的（也是唯一一个不涉及继承、虚函数和动态分配的解决方案）与您正在做的事情一致：

```
class SelectableCompare
{
    bool myIsGreater;
public:
    SelectableCompare( bool isGreater ) : myIsGreater( isGreater ) {}
    bool operator()( double d1, double d2 ) const
    {
        static std::less<double> const less;
        return myIsGreater
            ? less( d2, d1 )
            : less( d1, d2 );
    }
}; 
```

我使用了这个标准`std::less`，`std::greater`因为你表达了这样做的兴趣。在 的情况下`double`，坦率地说，这是矫枉过正的；我通常只写`d1 > d2`and `d1 < d2`。然而，上面的模板版本可能有意义，因为某些类型可能有专门的`std::less`. 这也是为什么我只使用 `std::less`; 可以想象，程序员只专攻 `std::less`，知道这是标准库中唯一用于排序的程序员。

为了完整起见：显而易见的替代方法是在比较器中使用策略模式，并带有抽象的比较器基础：

```
class Comparator
{
public:
    virtual ~Comparator() {}
    virtual bool isLessThan( double d1, double d2 ) const = 0;
}; 
```

，用于不同比较的相当明显的派生类，以及管理内存的包装器：

```
class ComparatorWrapper
{
    std::shared_ptr<Comparator> myComparator;
public:
    ComparatorWrapper( Comparator* newed_comparator )
        : myComparator( newed_comparator )
    {
    }
    bool operator()( double d1, double d2 ) const
    {
        return myComparator->isLessThan( d1, d2 );
    }
}; 
```

对于您需要的二元选择，这绝对是矫枉过正，但如果有更多选择可能是合适的；例如`set`，可能会在许多不同字段之一（所有不同类型）上排序。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-25T07:50:39.913

你真的需要运行时检查吗？

```
template <class Comp> double MyClass::Function(double val)
{
    std::set<double, Comp > s;
    // Do something with s
} 
```

即使你这样做了，你仍然可以使用

```
double MyClass::Function(double val, bool comp)
{
   return comp ? Function<std::less<double> >(val) : Function<std::greater<double> >(val);
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-25T08:32:59.047

只需使用

```
std::set<double, std::function<bool(double,double)>> 
```

作为您的集合，并像这样实例化它：

```
typedef std::set<double, std::function<bool(double,double)> > RTSet;

RTSet choose_ordering(bool increasing)
{
    if (increasing)
        return RTSet( std::less<double>() );
    else
        return RTSet( std::greater<double>() );
} 
```

* * *

请注意，一般来说，您的权衡是：

*   检查每次比较的顺序，或
*   在实例化时检查一次，但*也会*在每个函数调用上产生间接调用（例如虚拟函数调用）

我更喜欢第二个选项，这样您就不会在使用集合时意外更改排序，从而破坏其所有不变量。

* * *

只是一个快速的想法，因为这可能是一个单独的答案（甚至是问题），但是您提到除了排序顺序之外，两位代码是相同的。

我在某些情况下使用的另一种方法是使用单个排序方向，并将在集合上*操作*的代码模板化（按迭代器类型），所以你可以这样做

```
if (increasing)
    do_stuff(set.begin(), set.end());
else
    do_stuff(set.rbegin(), set.rend()); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-25T07:49:27.030

为什么不做

```
template <typename Compare>
double MyClass::GeneralFunction(double val)
{
    std::set<double, Compare> s;

    //....
} 
```

通过形式参数选择模板并不是 C++ 处理得很好。通过让调用者提供模板参数，尽可能多地进入编译阶段。

然后你可以提供一个包装器，如果你真的想在运行时选择一个：

```
double MyClass::GeneralFunction(double val, bool condition)
{
    return condition ?
        GeneralFunction<std::greater<double> >(val) :
        GeneralFunction<std::less   <double> >(val);\
} 
```

# django - PyCharm 中 Django 的 manage.py ANSI 颜色代码输出

> ID：11185224
> 
> 赞同：0
> 
> 时间：2012-06-25T07:38:57.170
> 
> 标签：django, pycharm

我在 PyCharm 2.5.2 的远程解释器上通过 SSH 连接运行 django 服务器。在 PyCharm 控制台设置中有 ANSI 颜色定义，所以 PyCharm 似乎*应该*支持它们，但是在我的控制台窗口中我看不到颜色，只是破坏了 ANSI 转义序列，例如：

![在此处输入图像描述](../Images/ffd9db0e81004a5a741dc2ac6c1321e5.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T12:19:19.877

目前不支持，并且[YouTrack 中已存在此功能请求](http://youtrack.jetbrains.com/issue/PY-1925)。

# php - 在 iFrame 中显示 Facebook 登录对话框

> ID：11185226
> 
> 赞同：1
> 
> 时间：2012-06-25T07:39:10.440
> 
> 标签：php, facebook, iframe, login

我有一个 HTML 页面，其中包含一个 iFrame，在 iFrame 中我有类似 facebook 示例的代码：http: [//developers.facebook.com/docs/authentication/server-side/](http://developers.facebook.com/docs/authentication/server-side/)

```
<?php 

   $app_id = "YOUR_APP_ID";
   $app_secret = "YOUR_APP_SECRET";
   $my_url = "YOUR_URL";

   session_start();
   $code = $_REQUEST["code"];

   if(empty($code)) {
     $_SESSION['state'] = md5(uniqid(rand(), TRUE)); //CSRF protection
     $dialog_url = "http://www.facebook.com/dialog/oauth?client_id=" 
       . $app_id . "&redirect_uri=" . urlencode($my_url) . "&display=popup&state="
       . $_SESSION['state'];

     echo("<script> top.location.href='" . $dialog_url . "'</script>");
   }

   if($_SESSION['state'] && ($_SESSION['state'] === $_REQUEST['state'])) {
     $token_url = "https://graph.facebook.com/oauth/access_token?"
       . "client_id=" . $app_id . "&redirect_uri=" . urlencode($my_url)
       . "&client_secret=" . $app_secret . "&code=" . $code;

     $response = file_get_contents($token_url);
     $params = null;
     parse_str($response, $params);

     $graph_url = "https://graph.facebook.com/me?access_token=" 
       . $params['access_token'];

     $user = json_decode(file_get_contents($graph_url));
     echo("Hello " . $user->name);
   }
   else {
     echo("The state does not match. You may be a victim of CSRF.");
   }

 ?> 
```

我不确定这是否可能（Facebook 可能会阻止它？）或者我是否做得不正确。当我试图改变时：

```
echo("<script> top.location.href='" . $dialog_url . "'</script>"); 
```

到

```
echo("<script> parent.changeIframeSrc('myIframe', '" . $dialog_url . "'); </script>"); 
```

我的父页面（显示 IFrame 的页面）将具有如下的 javascript 函数：

```
function changeIframeSrc(iframeName, url) {
    var $iframe = $('#' + iframeName);
    if ( $iframe.length ) {
        $iframe.attr('src',url);
    }
} 
```

如果我已经登录 Facebook，它工作正常，问题是当它尝试重定向到 Facebook 登录页面时，我的 iframe 只显示一个空白页面。从 Firebug 我可以看到它确实向 [https://www.facebook.com/login.php?api_key=XXXXXXXX&skip_api_login=1&display=popup&cancel_url=XXXXXX&fbconnect=1&next=XXXXX&rcount=1](https://www.facebook.com/login.php?api_key=XXXXXXXX&skip_api_login=1&display=popup&cancel_url=XXXXXX&fbconnect=1&next=XXXXX&rcount=1)提交了一个请求，响应为 http 200，但我的 iframe只是空白。

我的问题是，是因为不允许在 iFrame 中显示登录页面吗？或者我在这里做错了什么？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T08:05:49.977

Facebook 不允许标准 iFrame 调用 - iFrame 必须完全重定向，否则 FB 根本不会授权它们。使用 target=top 重定向到登录 url，这应该允许用户授权/登录。

# iphone - 在相册中查找图像的文件名

> ID：11185234
> 
> 赞同：0
> 
> 时间：2012-06-25T07:39:36.493
> 
> 标签：iphone

我正在做一个贺卡应用程序。我在我的视图上做各种各样的事情，比如在我的视图上添加剪贴画、消息等。我已经使用 UIImageWriteToSavedPhotosAlbum() 函数将由此创建的图像保存到我的相册中。

现在我想让用户通过电子邮件发送卡片。我没有任何方法可以访问图像文件。这是我添加附件的电话。

```
[mailViewController addAttachmentData:myData mimeType:@"image/png" fileName:@""]; 
```

有没有其他方法可以添加附件，或者任何人都可以告诉我获取文件名的方法。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:47:03.317

此函数的文件名是电子邮件附件中的显示名称。

如果需要将图片数据附加到邮件中，只需将UIImage通过`UIImagePNGRepresentation`or转换为NSData，`UIImageJPEGRepresentation`并将对应的mimeType设置为该函数即可。

```
NSData *imageData = UIImagePNGRepresentation(image);
[mailViewController addAttachmentData:imageData mimeType:@"image/png" fileName:@"attachmentNameDisplayInEmail"]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:48:25.720

UIImageWriteToSavedPhotosAlbum 将图像添加到相机胶卷相册。当保存到应用程序的本地存储位置时，存储在那里的所有图片都有特殊代码而不是您给它们的名称。您无法按名称从相机胶卷中获取图像。您可以通过 UIImagePicerController 要求用户从相册中选择图片，或者将所有卡片存储在应用程序的本地存储中。

# integration - 使用 Web 代理 Portlet 集成外部 Web 应用程序

> ID：11185239
> 
> 赞同：1
> 
> 时间：2012-06-25T07:39:56.383
> 
> 标签：integration, liferay, portlet, liferay-6, websphere-7

我正在尝试使用[Web 代理 portlet](http://www.liferay.com/community/wiki/-/wiki/Main/Web+Proxy+Portlet)在 Liferay 门户中嵌入外部 Web 应用程序。[文档](http://www.liferay.com/documents/guest/Whitepapers/Technical%20-%20Architect/Liferay%20Application%20Integration%20Strategies.pdf)（在“WEB PROXY INTEGRATION”下）说：

> 通过 Web 代理 portlet 提供的嵌入式应用程序中的链接会自动重写，这样当单击时，用户不会脱离门户上下文。

我想在我的 portlet 中使用同样的东西。单击任何链接后，我希望它保留在 portlet 窗口中。但是，整个 URL 重写是行不通的。例如，当我单击提交 HTTP 表单的按钮时，我收到以下错误，并且在新页面上也是如此

```
Error 404: com.ibm.ws.webcontainer.servlet.exception.NoTargetForURIException: No target servlet configured for uri: /liferay-portal-6.1.0-ce-ga1-20120106155615760.war/pbhs/eDJwyo10G037pWyJ1/login.form 
```

“ *liferay-portal-6.1.0-ce-ga1-20120106155615760.war* ”是部署在 WAS v7.0 上的 Liferay 门户 .war 文件的名称

外部应用程序中的 HTML 表单如下所示

```
<FORM METHOD="POST" ACTION="/login.form" name="LoginPage"> 
```

我在这里错过了什么吗。我需要在这里完成其他配置/设置吗？我怎样才能做到这一点？任何帮助/链接表示赞赏。

**[编辑]**：我刚刚在 liferay-portal-6.1.0-ce-ga1-20120106155615760.war 文件中看到 web.xml 并找到以下条目：

```
<servlet-mapping>
    <servlet-name>Portlet Bridge Servlet</servlet-name>
    <url-pattern>/pbhs/*</url-pattern>
</servlet-mapping> 
```

我的 URL 包含“pbhs”。知道为什么会说“*没有为 uri 配置目标 servlet* ”（参见上面的异常）。

***环境：*** *WebSphere Application Server v7.0，Liferay Portal 6.1.0*

# javascript - 具有可变高度和 Ajax 内容的 jQuery 动画滑块

> ID：11185244
> 
> 赞同：2
> 
> 时间：2012-06-25T07:40:12.443
> 
> 标签：javascript, jquery, ajax, tabs, sequence

我在浮动 div 上有一系列链接（因此它们始终可见）。当用户单击一个时，我希望按顺序发生以下情况：

1.  页面向上滚动到顶部（ajax 容器所在的位置）
2.  当前内容滑出
3.  新内容加载（ajax）
4.  新内容滑入

**注意：由于每个 ajax 文件中的内容不同，ajax 容器需要扩展/收缩以适应。**

我想在没有 jQuery UI 的情况下做到这一点，并尽可能保持代码精简。

我整天都在谷歌上搜索并尝试使用回调和队列函数来做到这一点，但很难让它按预期工作。如果有人可以帮助我了解如何构建这些功能以使其正常工作，我将不胜感激。

**我已经抽象出我的代码来告诉你我在哪里：http:** [//pastebin.com/xbJKPmnw](http://pastebin.com/xbJKPmnw)

它当前滑动页面顶部，并加载内容。但我还没有让过渡顺利且有序地进行。

提前谢谢了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-27T10:16:04.460

如果我理解正确，除了转换本身之外，您已经整理好所有内容（正文滚动、ajax 获取内容）。

这是我的原型，可以满足您的需求：

1.  使旧内容滑出
2.  使新内容滑入
3.  调整动态内容容器的大小以适应新内容

工作 jsFiddle：http: [//jsfiddle.net/dipish/vhd8e/](http://jsfiddle.net/dipish/vhd8e/)

该代码非常hackish，但提供了建议方法的主要思想。我使用链接的“rel”属性来引用静态模拟内容。在现实生活中，您会发出 ajax 请求，获取数据，然后启动转换。

示例 html：

```
<div id="primarynav">
              <ul id="navigation">
                  <li><a href="page1.html" class="selected" rel="content1">Page 1</a></li>
                  <li><a href="page2.html" rel="content2">Page 2</a></li>
                  <li><a href="page3.html" rel="content3">Page 3</a></li>
              </ul>
          </div>

<div id="ajax-content"></div>

<div class="preload">
    <div id="content1">I have a series of links on a floating div (so they're always visible). When a user clicks one, I would like the following to happen in sequence:

The page scrolls up to the top (where the ajax container is located)
The current content slides out
The new content loads (ajax)
The new content slides in
NB: As the content in each ajax file is different, the ajax container will need to expand/contract to fit.

I would like to do this without jQuery UI, and keep the code as lite as possible.

I've been googling and attempting to do this with callbacks and queue functions all day, but struggle to get it working as intended. If anyone can please help me understand how to structure these functions to get it working I'd be incredibly grateful.

I've abstracted my code to show you where I'm at: http://jsfiddle.net/Cz5kg/1/

It currently slides the top of the page, and loads the content. But i'm yet to get the transitions working smoothly and in sequence.

Many thanks in advance.</div>

    <div id="content2">I'm writing a simple javascript to calculate the time difference between server and user time. But something is going wrong.

If I catch the javascript and php date i have:

date("M d Y h:i:s A")
php date : Wed Jun 27 2012 04:10:41 AM  

new Date()
J S date : Wed Jun 27 2012 10:10:40 GMT+0200 (CEST)   
This is correct! I have two different time for local and server time.

Now if I take the seconds time... something goes wrong:

(php: date("U"))
sec PHP: 1340784640    

(js new Date().getTime()/1000 )
sec J S: 1340784640
I got the same time!

Can you help me to fix it ?

Thanks!
    </div>

    <div id="content3">I've been given a big project by a big client and I've been working on it for 2 months now. I'm getting closer and closer to a solution but it's just so insanely complex that I can't quite get there, and so I need ideas.

The project is quite simple: There is a 1mil+ database of lat/lng coordinates with lots of additional data for each record. A user will visit a page and enter some search terms which will filter out quite a lot of the records. All of the records that match the filter are displayed (often clustered) on a Google Maps.

The problem with this is that the client demands it's fast, lean, and low-bandwidth. Hence, I'm stuck. What I'm currently doing is: Present the first clusters, and when they hover over a cluster, begin loading in the data for that clusters children.

However, I've upped it to 30,000 of the millions of listings and it's starting to drag a little. I've made as many optimizations that I possibly can. When the filter is changed, I AJAX a query to the DB and return all the ID's of the matches, then update the map to reflect this.

So, optimization is not an option. I need an entirely new conceptual model for this. Any input at all would be highly appreciated, as this is an incredibly complex project of which I can't find anything in history even remotely close to it- I even looked at MMORPG's which have a lot of similar problems, and I have made a few, but the concept of having a million players in one room is still something MMORPG makers cringe at.

I'll be awarding 500 rep as soon as it becomes available for anything that solves this.

Thanks- Daniel.        
    </div>
</div> 
```

一些 CSS（大部分保持不变）：

```
ul li { float: left;margin: 0 15px 0 0; }

#ajax-content { 
    width:500px; /* fixed width just for viewing convenience */
    clear:both; 
    border: solid 1px black; /* border just for debugging purposes */
    position: relative; /* to contain absolutely positioned children */
    height: 100px; /* initial height */
}

.preload { /* for test purposes */
    display: none;
}

.item-container {/* style your inner content*/} 
```

最后，您修改后的 JavaScript 带有很多注释：

```
$(document).ready(function() {

    var $navlinks = $('#navigation li a'),
        $ajaxcontent = $('#ajax-content'),
        animDur = 5000, // animation duration
        isTransitionRunning = false;

    $navlinks.click(function(e) {        
        e.preventDefault(); // prevent default action
        // block actions until current transition finishes
        if(isTransitionRunning) {
            return false;
        }                
        var contentWidth = $ajaxcontent.width(),
            newContent = $('#' + $(this).attr('rel')).html(), // mock content                
            $newItem = $(document.createElement('div')), // nested container for new content
            newItemHeight,
            newContentHeight,
            $oldItem = $ajaxcontent.children('.item-container');

        // set the flag indicating that the transition is running
        isTransitionRunning = true;

        $newItem.addClass('item-container');

        $('html, body').animate({scrollTop:0}, 'slow');              

        //$ajaxcontent.empty().append("<div id='loading'><img src='http://expression.ws/stackoverflow/load.gif' alt='Loading Content' /></div>");
        $navlinks.removeClass('selected');
        $(this).addClass('selected');

        /*$.ajax({ url: this.href, success: function(html) {
            $ajaxcontent.empty().append(html);
            }
        });*/

        // freeze current ajax container height
        $ajaxcontent.height($ajaxcontent.height());
        $ajaxcontent.css('overflow', 'hidden');

        // slide away old item (if any)
        if($oldItem.length) {
            $oldItem
                 // fix width so no wrapping occurs during transision
                .width(contentWidth) 
                // position absolutely
                .css('position', 'absolute')
                .animate({
                    left: -contentWidth // move new content at the right edge of container
                },
                animDur,
                function() {
                    // remove old content at the end
                    // you may want to cache it instead
                     $oldItem.remove();
                });
        }

        // append new content to container
        $newItem.html(newContent);
        $ajaxcontent.append($newItem);
        // fix new content width
        $newItem.width(contentWidth);
        // determine height of new content when it's appended to DOM
        newItemHeight = $newItem.height();

        // set up new content
        $newItem
            // move it to the right
            .css('position', 'absolute')
            .css('left', $ajaxcontent.width() + 'px')
            // sliding animation
            .animate({
                left: 0
            }, 
            animDur,
            function() {
                // restore css
                $newItem.css('position', 'static');
                $newItem.css('width', 'auto');
            });

        // change ajax container height
        $ajaxcontent.animate({
            height: newItemHeight
        },
        animDur,
        function() {
            // now let ajax container naturally wrap around its content
            $ajaxcontent.css('height', 'auto');
            $ajaxcontent.css('overflow', 'auto');

            // unset the transition running flag
            isTransitionRunning = false;
        });

        return false;
    });

    //$ajaxcontent.empty().append("<div id='loading'><img src='http://expression.ws/stackoverflow/load.gif' alt='Loading Content' /></div>");
    $.ajax({ url: 'page1.html', success: function(html) {
            $ajaxcontent.empty().append(html);
    }
    });
}); 
```

​</p>

应该清楚那里发生了什么，但当然可以随时提出任何问题。我不是 jQuery 忍者，所以我在那里做的一些事情可能效率稍低，但想法保持不变。

实现的本质是：

*   **在**向容器添加新内容之前，先修复它的尺寸并制作它`overflow: hidden;`
*   将新内容插入 DOM 后，您要测量其高度（将其设置为容器的宽度后）。这将是容器的目标宽度
*   完成过渡后，删除所有强制位置/尺寸恢复自然元素流的 CSS（并非总是必要的，但通常推荐）；​</li>

**原型限制**：

1.  假设内容已经通过 ajax 获取并准备插入
2.  只向一个方向滑动
3.  如果您的元素具有填充和边距，则没有测试此代码的工作原理，您通常需要在此处进行一些调整，因为 jquery 设置尺寸和定位元素的方法并不总是像您期望的那样自动处理。

希望这可以帮助！

**UPD。** 如果当前正在运行转换，我添加了阻止执行的简单逻辑，您可以通过 StackOverflow 上的编辑历史记录查看差异。通常这不是一个好方法，但很容易实现。实现一个真正的抗点击雪崩小部件需要更多的努力和更好的代码架构，让我知道您是否仍想这样做，或者您是否打算为此使用 3rd 方小部件。

至于将其与 AJAX 数据获取联系起来，您应该在已经获取内容时运行转换。这是伪代码：

```
$navlinks.click(function(e) {        
    e.preventDefault(); // prevent default action
    // block actions until current transition finishes
    if(isTransitionRunning) {
        return false;
    }  

    // If content is static, you don't want to fetch it everytime,
    // consider implementing some caching mechanism
    $.ajax({ url: this.href, success: function(html) {
        // this function is basically all the code posted above 
        // except that it takes new html content as parameter
            switchContent(html);
        }
    });
});
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-27T08:49:13.270

[http://explosion-pills.com/11185244.php](http://explosion-pills.com/11185244.php)

这个页面做了我*认为*你在问的（我没有做任何样式；我会留给你）。

我认为您非常接近，您只需要稍微更改元素的排队方式即可。在某些情况下，您所做的也比我认为您需要做的要多（`.empty().append`例如`.html()`）。

让我知道我是否偏离了标准。

# actionscript-3 - 自动选择 TextInput (FormItem)？

> ID：11185252
> 
> 赞同：1
> 
> 时间：2012-06-25T07:40:53.707
> 
> 标签：actionscript-3, apache-flex

我有一个登录表单，其中包含一个带有两个 TextInput 的表单。我希望在用户输入时自动选择表单或*用户名*TextInput 字段，因此他不必在输入*用户名*之前左键单击 TextInput 字段。有谁知道我怎么能做到这一点？

> ```
> <mx:Form x="223" y="186" defaultButton="{submitButton}">
>     <mx:FormItem label="Username">
>         <mx:TextInput id="userName"/>
>     </mx:FormItem>
>     <mx:FormItem label="Password">
>         <mx:TextInput id="password" displayAsPassword="true"/>  
>     </mx:FormItem>
>     <mx:FormItem>
>         <mx:Button id="submitButton" label="Login" click="submitLogin()"/>
>     </mx:FormItem>
> </mx:Form> 
> ```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:57:07.980

尝试使用：

```
focusManager.setFocus(userName); 
```

# java - 无需换屏即可启动服务

> ID：11185256
> 
> 赞同：0
> 
> 时间：2012-06-25T07:41:13.303
> 
> 标签：java, android, service

我有以下代码：

```
Intent serviceIntent = new Intent(this, ServiceClass.class);
startService(serviceIntent); 
```

我有两节课：

1.  开始活动.class
2.  服务类.class

我从 StartActivity 类启动服务，但是当我使用“startService()”方法启动服务时，屏幕会发生变化，当服务在“onCreate()”方法中处理其内容时，我无法执行任何操作.

与“活动”方式相比，“服务”方式不应该在没有 UI 干扰的情况下使用吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:58:01.390

您在 ServiceClass 的某处没有不定式（或长时间运行）循环吗？您正在同一上下文（线程）中运行服务，因此如果您有不定式循环，则线程被占用并且 Activity 无法执行任何操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:46:45.563

在 ServiceClass 中创建一个新线程并执行其中的所有代码。像现在一样从活动启动服务，但 Service#onStartCommand 中的代码需要在另一个线程中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T07:48:35.527

试试这个

```
Intent serviceIntent = new Intent();
serviceIntent.setAction("com.testApp.service.MY_SERVICE");
startService(serviceIntent); 
```

# android - 运行Android应用程序时如何自动登录

> ID：11185260
> 
> 赞同：-3
> 
> 时间：2012-06-25T07:41:31.777
> 
> 标签：android

假设我已经使用PHP + MySQL登录系统，然后，退出应用程序后，我再次运行应用程序，无需再次登录和自动登录，请帮助解决问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T07:44:20.747

这是您应该为自动登录执行的操作：

1.从登录用户网络服务中获取一个会话ID。这个会话ID与您进行的每个网络服务调用相关联。

2.只需将会话ID存储在SharedPreferences或其他形式的持久存储中。当应用程序重新启动时，检查会话ID是否已定义。确保在每次注销时将其初始化为null。如果会话ID在SharedPreferences定义为自动登录用户。

3\. 使用此会话 ID 进行任何进一步的 Web 服务调用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T07:56:31.320

第一次登录时，您会在响应中获得用户名或用户 ID，而不是将用户名或用户 ID 存储在 sharedpreference 中，如下所示

```
 SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(YourActivity.this);

  prefs.edit().putInt("userid",userid).commit(); 
```

在成功登录后，这将优先存储您的用户 ID，您可以检查您是否已经登录

```
int Userid;
prefs = PreferenceManager.getDefaultSharedPreferences(YourActivity.this);
Userid= mPrefs.getInt("userid", 0);  which will return defalut value 0 if u are not login 
```

检查后

```
 if(Userid>0){
  // Means  u are already logged in  do here code what u want if u are login 
  }else{
    // Means  u are not logged in than go to your login pageview from here
 } 
```

这只是做你想做的事情的简单方法假设如果你想要在按钮点击上注销功能而不是 onclick 事件你必须添加以下代码进行注销，这将清除偏好

```
 prefs = PreferenceManager.getDefaultSharedPreferences(MyAccountActivity.this);
 prefs.edit().clear().commit(); 
```

# c++ - 在 C++ 中使用正则表达式检查字符串

> ID：11185261
> 
> 赞同：2
> 
> 时间：2012-06-25T07:41:33.957
> 
> 标签：c++, regex, string

我将在 C++ 应用程序中使用正则表达式，但我对正则表达式没有经验。我特别想检查一些字符串是否属于以下类别之一：

X.anystring -> X 必须是唯一且唯一的字母（不是数字）。

XY.anystring -> X, Y 必须是数字 0-9（不是字母）。

如何使用正则表达式检查它们？为了让我熟悉正则表达式，您可以推荐什么正则表达式教程？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T07:55:57.133

说真的，在这种情况下， regexp:s 不是适合您的解决方案。

首先，regexp:s 不是 C++ 语言的一部分，因此您需要使用特定的 regexp 库。（C++11，不管是谁，都包括对 regexp:s 的支持。）

其次，您的两个用例都可以简单地用纯 C++ 编码，您需要做的就是遍历字符串中的字符并检查它们是否符合您的要求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-12T14:12:37.270

```
#include <regex>

std::string str = "OnlyLetter,12345";

std::string x = "([a-z]|[A-Z])+";
std::string y = "[0-9]+";
std::string expression = std::string(x).append(",").append(y);
std::tr1::regex rx(expression);
bool match = std::tr1::regex_match(str.c_str(),rx);
// match = true. Valid String
// match = false. Invalid String. ex.: "OnlyLetter,12s345" 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T07:48:11.540

当前的 C++11 标准支持正则表达式，但我不确定哪些编译器支持它并准备好使用。

同时，Boost 库为 C++ 提供了一个很好的正则表达式系统（[链接在这里](http://www.boost.org/doc/libs/1_49_0/libs/regex/doc/html/index.html)）。

在学习正则表达式方面，[这](http://onlamp.com/pub/a/onlamp/2006/04/06/boostregex.html)可能会有所帮助（专注于使用 Boost 正则表达式）。

对于您的情况可能更简单的替代解决方案就是自己编写代码。就像是：

```
bool check_first(const string& myString)
{
    if (!isalpha(myString[0]) || myString[1] != '.') return false;
    return true;
}

bool check_second(const string& myString)
{
    if (!isdigit(myString[0]) || !isdigit(myString[1]) || myString[2] != '.') return false;
    return true;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-25T07:48:32.007

> X.anystring -> X 必须是唯一且唯一的字母（不是数字）。

所需的正则表达式是

```
[a-zA-Z]\.[\w]+ 
```

> XY.anystring -> X, Y 必须是数字 0-9（不是字母）。

所需的正则表达式是

```
[0-9]{2}\.[\w]+ 
```

[在此处](http://www.regular-expressions.info/)了解有关正则表达式的更多信息。一旦您大致了解了正则表达式，您就可以应用到您选择的任何语言。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-25T08:49:28.320

如果您只想知道一个字符串是否匹配一个或另一个，但您不在乎它匹配哪个，您可以使用：

```
"(?:(?:[a-zA-Z])|(?:[0-9]{2}))\..*" 
```

使用 C++11`regex`和`ECMAScript`语法。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-25T08:15:53.580

这取决于您使用的正则表达式库。但以下内容应该适用于 Boost 和 C++11：

对于 X.anystring（X 是 alpha）：

```
"[[:alpha:]]\\..*" 
```

对于 XY.anystring：

```
"[[:digit:]][[:digit:]]\\..*" 
```

这些用于`regex_match`; 如果你想使用`regex_search`，你必须将表达式“锚定”到字符串的开头，方法是在它前面加上一个 '^'（但你可以去掉最后的 '.*'）。

# javascript - 我如何将javascript中的进度条限制为100％，并且所有上传都应在100％之前完成。现在超过100％

> ID：11185262
> 
> 赞同：0
> 
> 时间：2012-06-25T07:41:36.313
> 
> 标签：javascript, jsp

这是一小段代码。请帮帮我..

```
percentComplete = msg.split(":")[0];
stepNumber = msg.split(":")[1];

if(stepNumber == "100" || stepNumber == "200") {
    doRefresh = false;
    enableButtons();
    $("#progressBar").hide(400);

    return 0;
} else {
    doRefresh = true;
    $("#progressBar").fadeIn(300);
    disableButtons();
}

$("#progBar").html(percentComplete + "%");
document.getElementById("progBar").style.width = percentComplete + "%"; 
```

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:46:08.610

尚不清楚为什么在整个代码中使用 jQuery 时`document.getElementById()`，最后使用，但没关系。

要解决您的问题，请使用[`Math.min()`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Math/min)将值固定为 100：

```
percentComplete = msg.split(":")[0];
percentComplete = Math.min(percentComplete, 100); 
```

您还应该考虑使用[`parseInt()`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/parseInt)以确保您的`split()`ed 值是整数。浓缩成一行：

```
percentComplete = Math.min(parseInt(msg.split(":")[0], 10), 100); 
```

但是请记住，这只能解决问题的症状，而不是问题本身。检查你的其他代码，看看你在哪里得到大于 100 的值。

# java - 休眠和 MappingNotFoundException

> ID：11185271
> 
> 赞同：0
> 
> 时间：2012-06-25T07:42:22.337
> 
> 标签：java, xml, hibernate, mapping

我使用 Netbeans IDE。

我的 hibernate.cfg.xml 看起来像这样：

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-configuration PUBLIC "-//Hibernate/Hibernate Configuration DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd">
<hibernate-configuration>
  <session-factory>
    //properties

    <mapping resource="entities.Employee"/>
    <mapping resource="entities.Human"/>
  </session-factory>
</hibernate-configuration> 
```

hibernate.cfg.xml 在

```
NetBeansProjects\HibernateTest\build\web\WEB-INF\classes\ 
```

我初始化 SessionFactory 的代码如下所示：

```
static {
    try { 
        String configFilePath = "/hibernate.cfg.xml";
        URL configFileURL = SessionFactory.class.getResource(configFilePath);
        sessionFactory = new Configuration().configure(configFileURL).buildSessionFactory();
    } catch (Throwable ex) {
        // Log the exception. 
        throw new RuntimeException(ex);
    }
} 
```

和实体（Employee.class 和 Human.class）在

```
\NetBeansProjects\HibernateTest\build\web\WEB-INF\classes\entities\ 
```

班级员工：

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package entities;

import java.io.Serializable;
import javax.persistence.*;

@Entity
@Table(name = "EMPLOYEE")
public class Employee implements Serializable {

    public Employee(){
    }

    @Id
    @GeneratedValue(strategy = GenerationType.TABLE)
    @Column(name = "EMPLOYEE_ID")
    private int employeeId;

    @Column(name = "SALARY")
    private double salary;

    @OneToOne(cascade = CascadeType.ALL, fetch= FetchType.LAZY)
    @PrimaryKeyJoinColumn
    private Human humDate;

    public int getEmployeeId() {
        return employeeId;
    }

    public void setEmployeeId(int employeeId) {
        this.employeeId = employeeId;
    }

    public Human getHumDate() {
        return humDate;
    }

    public void setHumDate(Human humDate) {
        this.humDate = humDate;
    }

    public double getSalary() {
        return salary;
    }

    public void setSalary(double salary) {
        this.salary = salary;
    }

} 
```

类人：

```
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

    package entities;

    import java.io.Serializable;
    import javax.persistence.*;

    @Entity
    @Table(name = "HUMAN")
    public class Human implements Serializable {

        public Human(){
        }

        public Human(String name){
            this.name = name;
        }

        private static final long serialVersionUID = 1L;
        @Id
        @GeneratedValue(strategy = GenerationType.TABLE)
        private int id;

        @Column(name = "HUM_NAME")
        private String name;

        public String getName() {
            return name;
        }

        public void setName(String name) {
            this.name = name;
        }

        public int getId() {
            return id;
        }

        public void setId(int id) {
            this.id = id;
        }

        @Override
        public int hashCode() {
            int hash = 0;
            hash += (int) id;
            return hash;
        }

        @Override
        public boolean equals(Object object) {
            // TODO: Warning - this method won't work in the case the id fields are not set
            if (!(object instanceof Human)) {
                return false;
            }
            Human other = (Human) object;
            if (this.id != other.id) {
                return false;
            }
            return true;
        }

        @Override
        public String toString() {
            return "com.nsn.Human[ id=" + id + " ]";
        }

    } 
```

这里有什么问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T08:15:18.600

您应该使用`<mapping class = ... />`而不是`<mapping resource = ... />`：

```
<mapping class = "entities.Employee" />
<mapping class = "entities.Human" /> 
```

`<mapping resource = ... />`用于映射`.hbm.xml`文件而不是注释。

# asp.net - 更新链接变量时会更新会话

> ID：11185273
> 
> 赞同：1
> 
> 时间：2012-06-25T07:42:25.910
> 
> 标签：asp.net, session-state

我在这里看到了很多关于在会话中存储列表然后检索它们的帖子。大多数答案都遵循这种技术：

```
if(Session["Strings"]==null)
{
      //Create List
      List<string> strings = new List<string>();
      ...
      Session["Strings"] = strings;
}
else
      strings =   Session["Strings"] as List<string>

//Add item to list
strings.Add("asdf"); 
```

我已经尝试过了，但是一旦更新列表，会话变量也会更新，并且在回发时，我会在 Session 中获得更新的值。这是预期的行为吗？如何使用它以使会话不更新？我什至尝试在使用后将“字符串”变量设置为空，但会话仍然在每个回发时添加了项目。

也许我可以添加一些具体的代码来解释。

假设我的页面上有一个按钮单击事件：

```
 protected void GoClicked(object sender, EventArgs e)
 {

    List<string> a;
    if(Session["data"] == null)
    {
        a = new List<string>();
        a.Add("abc");
        a.Add("def");
        a.Add("ghi");

        Session["data"] = a;
    }
    else
    {
        a = (Session["data"] as List<string>);
    }
    a.Add("jkl");
    foreach (string s in a)
    {
        lblTest.Text += s + "<br />";
    }
} 
```

每次单击按钮时，我应该期望“a”仅包含 4 个值，因为我从 Session 中获取它并且它是一个局部变量。但实际上每次单击它时，都会添加值“jkl”，因此值的数量会不断增加。我不希望这种情况发生。我希望我更清楚。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T09:04:37.543

我认为 ViewState 是您搜索的那个。尝试将它们保留在 ViewState 上以将此变量保留在页面内。这是您可以使用的代码：

```
const string _cListWStringsName = "cListWStrings_cnst";

public List<string> cListWStrings
{
    set
    {
        ViewState[_cListWStringsName] = value;
    }
    get
    {
        if (ViewState[_cListWStringsName] is List<string>)
        {
            return (List<string>)ViewState[_cListWStringsName];
        }
        else
        {
            var NewOne = new List<string>();

            ViewState[_cListWStringsName] = NewOne;

            return NewOne;
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T11:27:14.127

第一次单击按钮时，会添加四个值“abc”、“def”、“ghi”和“jkl”。并且在每次连续点击时都会添加“jkl”，因为 a.Add("jkl") 位于 if 子句之外。您需要将其移动到 if 子句中，这里是：

```
 protected void GoClicked(object sender, EventArgs e)
 {

    List<string> a;
    if(Session["data"] == null)
    {
        a = new List<string>();
        a.Add("abc");
        a.Add("def");
        a.Add("ghi");
        a.Add("jkl");//Move here
        Session["data"] = a;
    }
    else
    {
        a = (Session["data"] as List<string>);
    }

    foreach (string s in a)
    {
        lblTest.Text += s + "<br />";
    }
} 
```

**更新：* *Session 持有对 List 的引用，a 也是如此。两者都引用同一个列表，因此如果您在会话中或会话中进行更改，引用的列表将被更改。请记住，Session 存储的是引用而不是值。现在，为什么“ijk”不断添加？因为列表永远不会超出范围（即使在您的方法完成执行之后），只要 Session 存在，它就会一直存在，所以当您的代码将“ijk”添加到“a”时，它实际上会将值添加到列表中。因此它不断将值“ijk”添加到 Session 引用的列表中。

# jquery - Ajax jquery 调用获取 NetworkError: 403 Forbidden error in response

> ID：11185285
> 
> 赞同：4
> 
> 时间：2012-06-25T07:43:28.727
> 
> 标签：jquery, ajax, web-services, tomcat

我正在使用 apache tomcat 作为 Web 服务器。我已经在 tomcat 上部署了 web 服务。如果我通过 jquery ajax 从本地文件系统向 tomcat webservice 发布请求作为响应，我会收到 403 错误。

如果我从同一个容器运行相同的脚本，我将从 web 服务获得有效的响应。

我正在使用以下代码。

```
function callservice() 
    {
    jQuery.support.cors = true;
        var mobNo = document.getElementById('mobileNo').value;
        var acctNo = document.getElementById('accountNo').value;
        //var id = document.getElementById('id').value;
        var custNo = document.getElementById('customerId').value;

        //var mobNo = document.getElementById('txt_name').value;
        //alert("mobileNo" + mobNo+"accountNo" + acctNo+"customerId "+custNo);

        var url = "http://localhost/mobile-services/rest/user/";        
        var dataVal = {};
        dataVal["mobileNo"] = mobNo;
        dataVal["accountNo"] = acctNo;
        dataVal["customerId"] = custNo;

        var forminput = JSON.stringify(dataVal);

    $.ajax({
        url: url,
        type: "POST",
        data:forminput,
        processdata: true,
        contentType: "application/json;",
        beforeSend: function () { },
        headers : 
        {
            "Content-Type"  : "application/json",
            "Accept" : "application/json"               
        },
        success: function (data) 
        {          
            if (data.authenticated==true)
            {
                window.location.replace("http://localhost:8080/mobile-services/selected_services.jsp?userId="+data.id);
            }
        },
        error: function (XMLHttpRequest, textStatus, errorThrown) 
        {
            try 
            {
                alert(JSON.stringify(XMLHttpRequest) + "\n" + textStatus + "\n" + errorThrown);
            }
            catch (ex) { alert("Exception occured.. "); }
            finally { }
        }
    });
} 
```

请建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T07:48:58.320

因为网络服务器假设它是跨域通信，所以你得到 403。

您需要为此使用 JSONP

[https://github.com/jaubourg/jquery-jsonp](https://github.com/jaubourg/jquery-jsonp)

基本用法。

```
$.jsonp({
      var url  = "abc.do";
      success: function(jsonData, textStatus) {
          $.jsonp({
              url: url+"?callback=?",
              success: function(jsonData, textStatus) {

              },
              error: function(xOptions, textStatus){

              }
        });

      },
      error: function(xOptions, textStatus){

      }
}); 
```

# c# - asp.net 将代码分解为 aspx 页面上的单独行

> ID：11185291
> 
> 赞同：0
> 
> 时间：2012-06-25T07:44:10.233
> 
> 标签：c#, asp.net

如果您想将非常长的代码行分解为更易读的格式，aspx 页面的语法是什么。

例子：

```
 <asp:Label runat="server" ID="lblTest" CommandName="Sort" CommandArgument="Efficiency" ForeColor="White" Text="<img src='images/bluecell.png' /> = 66 - 100 % <br><img src='images/greencell.png' /> = 33 - 66 % <br> <img src='images/ambercell.png' /> = 0 - 33%"> </asp:Label> 
```

变成类似的东西：

```
<asp:Label runat="server" ID="lblTest" CommandName="Sort" CommandArgument="Efficiency"
 ForeColor="White" Text="<img src='images/bluecell.png' /> = 66 - 100 % <br><img
 src='images/greencell.png' /> = 33 - 66 % <br> <img src='images/ambercell.png' /> = 0 - 33%">
 </asp:Label> 
```

还是不能分解单个属性的值？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T07:47:06.770

您只需按 CTRL+k+D 即可完成此操作。Visual Studio 自己进行格式化和缩进。

愿它对你有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:15:17.600

对此进行了快速尝试，我惊讶地发现仅将 Text 属性分散到多行确实会产生有效的标记（据我所知）。

```
<asp:Label runat="server" 
           ID="lblTest" 
           CommandName="Sort" 
           CommandArgument="Efficiency" 
           ForeColor="White" 
           Text="<img src='images/bluecell.png' /> = 66 - 100 % <br>
                 <img src='images/greencell.png' /> = 33 - 66 % <br>
                 <img src='images/ambercell.png' /> = 0 - 33%" /> 
```

它确实与 VS 中的颜色格式有点矛盾，但是当它显示在浏览器中时，它会产生：

```
<span id="ctl00_ContentPlaceHolder1_lblTest" CommandName="Sort" CommandArgument="Efficiency" style="color:White;"><img src='images/bluecell.png' /> = 66 - 100 % <br><img src='images/greencell.png' /> = 33 - 66 % <br><img src='images/ambercell.png' /> = 0 - 33%</span> 
```

因此，只需尝试将其放在不同的行上，忽略 VS 尝试对它不理解的内容进行颜色编码，然后看看你得到了什么。

（顺便说一下，使用`<br />`代替`<br>`）

# assembly - 汇编中的内存访问

> ID：11185292
> 
> 赞同：0
> 
> 时间：2012-06-25T07:44:10.590
> 
> 标签：assembly, x86

以下指令在最坏情况下需要多少内存访问：

```
add edx, (to_printf-next_i) ; where to_printf and next_i are labels defined in .text
inc dword [myarray + ebx*4] ; where myarray is a label defined in .data 
```

我的回答是真的吗？

```
 1\. 0 , since we do not access memory here
  2\. fetch: 4 bytes for the address : myarray + ebx*4 -> 2 memory accesses in the worst case
     write: 4 bytes because of "dword" -> 2 memory accesses in the worst case
     read? 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:34:06.387

`inc`做 3 件事：读取操作数，加 1，写回操作数。如果操作数在内存中，通常有 1 个读访问和 1 个写访问。

如果操作数越过缓存线边界，则每次访问都会变成 2 次访问。

但是当启用页面转换和虚拟内存并且该指令引用的内存在磁盘上时，情况可能会更糟。TLB 未命中、其他缓存未命中以及操作系统为让指令执行而需要执行的所有页表和 I/O 活动可能会导致更多的内存访问。对于这种最坏的情况，几乎不可能说出需要多少个。

# jquery - 将内页重定向到主页并在Fancybox中打开内页

> ID：11185298
> 
> 赞同：0
> 
> 时间：2012-06-25T07:44:41.653
> 
> 标签：jquery, mod-rewrite, redirect, fancybox

我正在使用 Fancybox 1.3 我需要能够将 www.domain.com/inner.html 重定向到 www.domain.com/index.html 并在 Fancybox 中打开 inner.html 页面。我怎样才能简单地做到这一点？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-26T19:35:57.207

1）。您需要在里面编写一个脚本`inner.html`来评估它是否已在fancybox 中打开。如果在fancybox外部打开，它将重定向到....但如果来自重定向，`index.html`它还需要告诉打开fancybox，否则应该正常打开（不是fancybox）`index.html``index.html`

在里面`inner.html`你必须至少有：

```
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script>
if(!parent.jQuery().fancybox) {
 alert("opened OUTSIDE of fancybox");
 // redirect to index.html and set the hash value to "inner"
 window.location = "http://domain.com/index.html#inner"
}
</script> 
```

2）。现在，在里面`index.html`你需要评估页面是否已经从重定向的结果中打开（URL 有`hash`“#inner”），所以它会`inner.html`在页面加载时在 fancybox 中打开页面，否则它将正常打开（如果 URL除了“#inner”之外没有`hash`- 或 - 有）`hash`

此外，您还必须加载所有 fancybox js 和 css 文件以及至少这个 html：

```
<a class="fancybox" href="http://domain.com/inner.html">open inner page</a> 
```

这个脚本：

```
<script>
 $(document).ready(function(){
  $(".fancybox").fancybox({
   "width": 830, // or whatever
   "height": 320,
   "type": "iframe"
  });
  // check hash
  if(window.location.hash){
   var url = window.location.hash, thisHash = new Array();
   // extract hash from URL
   thisHash  = url.split("#",2); 
   if(thisHash[1] == "inner") {
    alert("the hash is inner");
    // hash = "inner" so open "inner.html" in fancybox
    $(".fancybox").trigger("click");
   }
  }
 });//ready
</script> 
```

请记住，为了评估`parent`fancybox 变量（如`inner.html`），两者`inner.html`和`index.html`应该属于同一个域。更多信息请查看[同源政策](http://en.wikipedia.org/wiki/Same_origin_policy)。

# android - android 2.3.6 中的相机方向

> ID：11185299
> 
> 赞同：4
> 
> 时间：2012-06-25T07:44:42.750
> 
> 标签：android, orientation, android-camera

我在 android 2.3.6 设备中显示相机预览时遇到问题。我已使用此代码更改相机方向，但对于 2.3.6，它不起作用，而对于其他版本，它工作正常。

![在设备 2.2.1](../Images/2540b7fbf9e36e9e37ca84177cb61bbf.png)

![在设备 2.3.6](../Images/8312bbbd6de8c3963d433b78a58cca9f.png)

设备 2.2.1 中的第一个图像，设备 2.3.6 中的第二个图像。我希望相机预览与设备 2.3.6 中的 2.2.1 相同。下面是我的代码

```
if (Integer.parseInt(Build.VERSION.SDK) >= 8)
            {
         mCamera.setDisplayOrientation(90);

       }
        else
        {
            if (getResources().getConfiguration().orientation == Configuration.ORIENTATION_PORTRAIT)
            {

               p.set("orientation", "portrait");
               p.set("rotation", 90);

            }
           if (getResources().getConfiguration().orientation == Configuration.ORIENTATION_LANDSCAPE)
            {

                p.set("orientation", "landscape");
                p.set("rotation", 90);

            }
     } 
```

我已经在清单中指定了屏幕方向肖像。请建议我一个解决方案。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-27T11:04:32.037

请参考以下代码：

```
private void setCameraDisplayOrientation(int cameraId, android.hardware.Camera camera) {
    int rotation = getWindowManager().getDefaultDisplay()
            .getRotation();
    int degrees = 0;
    int result;

    if(Build.VERSION.SDK_INT>10){
        android.hardware.Camera.CameraInfo info =
                new android.hardware.Camera.CameraInfo();
        android.hardware.Camera.getCameraInfo(cameraId, info);
        switch (rotation) {
        case Surface.ROTATION_0: degrees = 0; break;
        case Surface.ROTATION_90: degrees = 90; break;
        case Surface.ROTATION_180: degrees = 180; break;
        case Surface.ROTATION_270: degrees = 270; break;
        }

        if (info.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {
            result = (info.orientation + degrees) % 360;
            result = (360 - result) % 360;  // compensate the mirror
        } else {  // back-facing
            result = (info.orientation - degrees + 360) % 360;
        }
        camera.setDisplayOrientation(result);

    }else{
        if(cameraId==CAMERA_FACING_BACK){
            camera.setDisplayOrientation(90);
        }else{
            camera.setDisplayOrientation(270);
        }
    }
} 
```

您可以使用获取相机 ID

```
@TargetApi(Build.VERSION_CODES.GINGERBREAD)
private Camera openFrontFaceCamera() {
    int cameraCount = 0;
    Camera cam = null;
    Camera.CameraInfo cameraInfo = new Camera.CameraInfo();
    cameraCount = Camera.getNumberOfCameras();
    for ( int camIdx = 0; camIdx < cameraCount; camIdx++ ) {
        Camera.getCameraInfo( camIdx, cameraInfo );
        if ( cameraInfo.facing == Camera.CameraInfo.CAMERA_FACING_FRONT  ) {
            try {
                mCameraId=camIdx;
                cam = Camera.open( camIdx );
            } catch (RuntimeException e) {
                Log.e("Custom Camera", "Camera failed to open: " + e.getLocalizedMessage());
            }
        }
    }

    return cam;
}

@TargetApi(Build.VERSION_CODES.GINGERBREAD)
private Camera openRearFaceCamera() {
    int cameraCount = 0;
    Camera cam = null;
    Camera.CameraInfo cameraInfo = new Camera.CameraInfo();
    cameraCount = Camera.getNumberOfCameras();
    for ( int camIdx = 0; camIdx < cameraCount; camIdx++ ) {
        Camera.getCameraInfo( camIdx, cameraInfo );
        if ( cameraInfo.facing == Camera.CameraInfo.CAMERA_FACING_BACK  ) {
            try {
                mCameraId=camIdx;
                cam = Camera.open( camIdx );
            } catch (RuntimeException e) {
                Log.e("Custom Camera", "Camera failed to open: " + e.getLocalizedMessage());
            }
        }
    }

    return cam;
} 
```

# java - 如何在 Eclipse 中更改布局 (XML) 编辑器的字体？

> ID：11185300
> 
> 赞同：47
> 
> 时间：2012-06-25T07:44:45.070
> 
> 标签：java, xml, eclipse, xml-editor

我知道如何在 Eclipse 中的菜单*Windows* → *Preferences* → *Appearance* → *Colors and Fonts*中更改“Java 编辑器”的字体，但我找不到更改 myLayout.xml 或字符串等文件的“布局编辑器”字体的选项.xml。

它在哪里？

* * *

## 回答 #1

> 赞同：81
> 
> 时间：2012-06-25T08:05:15.763

使用菜单`Windows`→ `Preferences`→ `Appearance`→ `Colors and Fonts`→ `Basic`→ `Text Font`。这是默认情况下应用于 XML 文件编辑器的常见文本字体设置。

我也发现[了这个消息](http://www.myeclipseide.com/index.php?name=PNphpBB2&file=viewtopic&t=10865&start=0&postdays=0&postorder=asc&highlight=)。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-09-15T08:54:20.583

对于我的 Eclipse v4.4 (Luna) 安装，XML 编辑器字体大小更改为：

菜单*窗口*→*首选项*→*常规*→*外观*→*颜色和字体*→*结构化文本编辑器*→*结构化文本编辑器文本字体*。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-09-24T18:09:02.137

我必须扩展 General 才能到达 Appearance ......我在大约 3.2 秒内弄清楚了，但以防万一有人想保存 3.2 秒：

**Windows->常规->首选项->外观->颜色和字体->基本->文本字体->编辑...**

这是在 Eclipse IDE for Android Developers v23.0.2 中。我很确定这会改变编辑器中所有内容的所有字体大小..？但我假设如果您希望 XML 字体更大，您希望所有文件都是该字体大小。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-08-08T15:17:36.433

我想在 XML 编辑器中为 XML 属性值设置粗体。它位于窗口 -> 首选项 -> XML -> XML 文件 -> 编辑器 -> 语法着色中。

# jquery - jquery.html() 加载 codeigniter 视图 - 只有一行文件

> ID：11185302
> 
> 赞同：1
> 
> 时间：2012-06-25T07:44:51.467
> 
> 标签：jquery, codeigniter

我正在通过 jquery 命令将视图 , 加载`extra.php`到div 中：`#extra`

```
$('#extra').html("<?php $this->load->view('extra'); ?>"); 
```

`extra.php`是一个长文件，并且`jquery.html()`只加载一行代码

例如，它加载正常：

```
<table><tr></tr><tr></tr><tr></tr></table> 
```

但它根本不加载：

```
<table>
<tr>....</tr>
<tr>....</tr>
<tr>....</tr>
</table> 
```

如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:43:31.447

好的，我在 codeigniter 板上找到了一些额外的解决方案，这简直太搞笑了：

[http://codeigniter.com/forums/viewthread/219780/](http://codeigniter.com/forums/viewthread/219780/)

:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:33:03.737

您需要转义从视图输出的每一行，这样您就可以将多行字符串传递给函数。要逃脱，您只需要在`\`每行的末尾附加 a ，以便您拥有以下内容：

```
$('#extra').html("<table>\
<tr>....</tr>\
<tr>....</tr>\
<tr>....</tr>\
</table>"); 
```

您可以看到它在[jsfiddle](http://jsfiddle.net/cchana/gWcmU/)上运行。

# mysql - 从可能存在空列的两个外部连接表中选择

> ID：11185311
> 
> 赞同：0
> 
> 时间：2012-06-25T07:45:46.420
> 
> 标签：mysql, left-join, outer-join

类似这样的问题：

[从链接列可以为空的两个表中选择](https://stackoverflow.com/questions/9763922/select-from-two-tables-where-linked-column-can-be-null)

```
column1tab1 column2tab1 order_number product amount
 xx            yy            123      p1      2
 xx            yy            456      p3      4
 xx            yy            NULL    NULL    NULL
 xx            yy            789      p2      1
 etc... 
```

海报的输出就像上面一样。但是，当我添加 WHERE `product`= 'p1' 或 WHERE `product`= NULL 时，两者都返回一个空集。最后，我想拥有

```
SELECT            *
FROM              `t1`
  LEFT OUTER JOIN `t2`
  ON              (`t1`.`id` = `t2`.`id2`)
WHERE             `t2`.`product` = NULL
  AND             `t2`.`product` <> 'p1' 
```

我做错了哪一部分？加入还是在哪里？或者是其他东西？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:50:43.213

代替

```
`t2`.`product` = NULL 
```

和

```
`t2`.`product` IS NULL 
```

[看这里](http://dev.mysql.com/doc/refman/5.6/en/comparison-operators.html#operator_is-null)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T07:48:57.743

`t2.product = NULL`总是假的。改为使用`t2.product IS NULL`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T07:50:19.383

如果 t2.product 为 null，则它始终与字符串“p1”不同。我不认为需要 and 。

# c# - asp.net 从受保护的服务器下载文件

> ID：11185317
> 
> 赞同：0
> 
> 时间：2012-06-25T07:46:17.800
> 
> 标签：c#, asp.net

我搜索了各种论坛和链接，但还没有任何有用的信息。

实际上，我正在努力使用 C# 在 ASP.net 中开发一个 Web 应用程序，该应用程序可以用来登录远程服务器，然后从该服务器下载文件。

目前我能够登录到该服务器并查看受保护页面的内容。

但是在下载文件时，我收到了 Unauthorize access 错误。

我可以从服务器下载图像，但这些图像不受保护。

到目前为止我开发的代码是

```
 protected void Unnamed1_Click(object sender, EventArgs e)
{
    try
    {

        string LOGIN_URL = "https://some.server/";

        // first, request the login form to get the value

        HttpWebRequest webRequest = WebRequest.Create(LOGIN_URL) as HttpWebRequest;
        webRequest.ContentType = "application/x-www-form-urlencoded";
        webRequest.KeepAlive = true;
        webRequest.UserAgent = userAgent;
        String received = Encoding.ASCII.GetString(Request.BinaryRead(Request.ContentLength));
        webRequest.ContentLength = received.Length;
        webRequest.Proxy.Credentials = new NetworkCredential("usrname", "password", "domain");
        StreamReader responseReader = new StreamReader(webRequest.GetResponse().GetResponseStream(), Encoding.ASCII);
        string responseData = responseReader.ReadToEnd();
        responseReader.Close();
        string postData = "user=usr&password=pass&switch=Login";
        Response.Write(webRequest.Address);

        // have a cookie container ready to receive the forms auth cookie

        CookieContainer cookies = new CookieContainer();

        // now post to the login form

        webRequest = WebRequest.Create(LOGIN_URL) as HttpWebRequest;
        webRequest.Method = "POST";
        webRequest.ContentType = "application/x-www-form-urlencoded";
        webRequest.CookieContainer = cookies;

        // write the form values into the request message

        StreamWriter requestWriter = new StreamWriter(webRequest.GetRequestStream());
        requestWriter.Write(postData);
        requestWriter.Close();

        // we don't need the contents of the response, just the cookie it issues 

        webRequest.GetResponse().Close();

        // Download files

        WebProxy myProxy = new WebProxy("server.https.com", 443);
        //WebRequest request = WebRequest.Create("https://some.server/file.zip");
        WebRequest request = WebRequest.Create("https://some.server/file.zip");
        request.Proxy.Credentials = new NetworkCredential("usrname", "password", "domain");

        string filename = "file.zip";
        string filepath = "C:\\Documents and Settings\\user\\Desktop\\" + filename.ToString();

        WebClient client = new WebClient();
        client.Credentials = new NetworkCredential("usrname", "password", "domain");
        client.DownloadFile("https://some.server/file.zip", filepath);
    }
    catch (Exception exp)
    {
        Response.Write(exp.ToString());
    }
} 
```

## “/WebSite1”应用程序中的服务器错误。

远程服务器返回错误：(401) Unauthorized。说明：执行当前 Web 请求期间发生未处理的异常。请查看堆栈跟踪以获取有关错误及其源自代码的位置的更多信息。

异常详细信息：System.Net.WebException：远程服务器返回错误：（401）未经授权。

源错误：

第 80 行：WebClient 客户端 = new WebClient();

第 81 行：client.Credentials = new NetworkCredential("username", "password", "domain");

第 82 行：client.DownloadFile("https://some.server/file.zip", filepath);

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T09:35:51.860

使用从 WebClient 派生的此类。它总是会在每个请求中传递 cookie。

```
class WebClientWithCookies: WebClient
{
    private CookieContainer _container = new CookieContainer();

    protected override WebRequest GetWebRequest(Uri address) 
    {
        HttpWebRequest request = base.GetWebRequest(address) as HttpWebRequest; 

        if (request != null) 
        { 
            request.Method = "Post";
            request.CookieContainer = _container; 
        } 

        return request;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:54:08.317

尝试检查这个库：[http ://www.rebex.net/default.aspx](http://www.rebex.net/default.aspx)

# sql - 如何将字符串分成不同的列？

> ID：11185318
> 
> 赞同：6
> 
> 时间：2012-06-25T07:46:29.603
> 
> 标签：sql, sql-server, sql-server-2008

我有一张表，里面有这样的条目。

```
 MachineName
-----------------------

    Ab bb zecos
    a zeng
    zeng
    empty 
```

表中的 4 行。

我如何将这 4 行分开以获得类似的输出。

```
 M1       M2       M3
-----------------------------------
       Ab       bb      zecos
       a        zeng     NULL
       zeng     NULL     NULL
       NULL     NULL     NULL 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-25T08:52:30.193

除了使用 split 函数，还有一个名为 ParseName 的函数，它返回对象的指定部分，该部分将由 . 分隔的字符串拆分**。** 请浏览帮助我编写此查询的[ParseName链接](http://www.sqlteam.com/article/using-the-parsename-function-to-split-delimited-data)

```
Declare @Sample Table
(MachineName varchar(max))

Insert into @Sample
values 
('Ab bb zecos'),('a Zeng')

  SELECT 
  Reverse(ParseName(Replace(Reverse(MachineName), ' ', '.'), 1)) As [M1]
 , Reverse(ParseName(Replace(Reverse(MachineName), ' ', '.'), 2)) As [M2]
 , Reverse(ParseName(Replace(Reverse(MachineName), ' ', '.'), 3)) As [M3]

  FROM  (Select MachineName from @Sample
  ) As [x] 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-03-18T04:15:27.547

使用 Parsename() 函数

```
with cte as(
    select 'Aria Karimi' as FullName
    Union
    select 'Joe Karimi' as FullName
    Union
    select 'Bab Karimi' as FullName
)

SELECT PARSENAME(REPLACE(FullName,' ','.'),2) as Name, PARSENAME(REPLACE(FullName,' ','.'),1) as Family from cte 
```

结果

```
Name    Family
-----   ------
Aria    Karimi
Bab     Karimi
Joe     Karimi 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-25T08:49:32.627

试试这个：

```
 CREATE FUNCTION [dbo].[SplitIndex](@Delimiter varchar(20) = ' ', @Search varchar(max), @index int)
    RETURNS varchar(max)
    AS
    BEGIN
          DECLARE @ix int,
                      @pos int,
                    @rt varchar(max)

          DECLARE @tb TABLE (Val varchar(max), id int identity(1,1))

          SET @ix = 1
          SET @pos = 1

          WHILE @ix <= LEN(@search) + 1 BEGIN

                SET @ix = CHARINDEX(@Delimiter, @Search, @ix)

                IF @ix = 0
                      SET @ix = LEN(@Search)
                ELSE
                      SET @ix = @ix - 1

                INSERT INTO @tb
                SELECT SUBSTRING(@Search, @pos, @ix - @pos + 1)

                SET @ix = @ix + 2
                SET @pos = @ix
          END

          SELECT @Rt = Val FROM @Tb WHERE id = @index
          RETURN @Rt     
    END 
```

像这样使用：

```
SELECT dbo.SplitIndex(' ', 'hello World', 1) 
```

将它与 Dems 的答案结合起来，你应该很高兴

（注意如果指定的索引不存在会返回NULL）

例如

```
SELECT dbo.SplitIndex(' ', 'Hello World', 3) 
```

将返回 NULL，因为索引 3 不存在

虽然不确定性能如何，我只是修改了一个我已经完成的表值拆分函数，因此可能值得重写为更像 MySql 版本

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-02-15T11:16:15.217

```
DECLARE @Tmp TABLE (empid INT,joined nchar(10))

INSERT @Tmp SELECT 1,'1990, 1111' 
INSERT @Tmp SELECT 2,'2000, 2222' 

INSERT @Tmp SELECT 3,'1993, 3333' 

INSERT @Tmp SELECT 4,'1899, 4444' 
INSERT @Tmp SELECT 5,'1999, 5555' 

INSERT @Tmp SELECT 6,'2001, 6666 ' 

--Using PARSENAME 

SELECT empid, joined,
       PARSENAME(REPLACE(joined,',','.'),2) join1, 
       PARSENAME(REPLACE(joined,',','.'),1) join2 
FROM @Tmp 
```

* * *

## 回答 #5

> 赞同：-6
> 
> 时间：2012-06-25T08:15:32.883

如果您使用 C++ 编程，请执行以下操作：

```
#include <cstring>
#include <iomanip>

using namespace std;
int main () {
string machine[12];
for (int i = 0; i < 12; i++) {
    if (machine[i] == "")
        machine[i] = "NULL";
}

for (int i = 0; i < 3; i++) {
    cout << setw(10) << machine[i] << setw(10) << machine[i+1] << setw(10) << machine[i+2] << endl;
}
return 1;
} 
```

# iphone - Core Data、iCloud 和 App 因系统文件锁定而暂停

> ID：11185319
> 
> 赞同：4
> 
> 时间：2012-06-25T07:46:41.323
> 
> 标签：iphone, ios, ipad, core-data, icloud

我有一个使用 Core Data 和 iCloud 的应用程序：事务日志在用户无处不在的容器、数据库存储文件以及 .nosync 文件夹中。

通常没有问题，但有时应用程序崩溃并显示“应用程序因锁定系统文件而暂停”。我注意到当应用程序获取 iCloud`NSPersistentStoreDidImportUbiquitousContentChangesNotification`然后应用程序更新其数据库时会发生这种情况。

使用 iCloud 和 Core Data 的最佳做法是什么？我没有在 Apple 文档中看到任何建议，例如在进入后台时关闭数据库或删除 iCloud 通知的观察者——无论如何，Apple 声称即使应用程序没有运行，iCloud 基础设施也会不断更新数据，所以我想我需要保持观察者。

*PS：我正在尝试从崩溃报告中添加一些信息，但由于“格式错误”，StackOverflow 不想接受它。*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-09T10:55:57.547

当您尝试使用 iCloud 和 Core Data 时，应用程序随机崩溃是经常发生的事情。

我可以让它工作的唯一方法是模仿这个例子的实现：[https ://github.com/alekseyn/iCloudStoreManager](https://github.com/alekseyn/iCloudStoreManager)

我使用了提供的 UbiquityStoreManager 类（在我的情况下适用于非 ARC），并在 AppDelegate/ViewControllers 中调整了所有与 iCloud 相关和与核心数据相关的代码。

重构努力是值得的。

# java - 什么时候应该使用布尔值的空值？

> ID：11185321
> 
> 赞同：161
> 
> 时间：2012-06-25T07:46:56.997
> 
> 标签：java, boolean

Java`boolean`允许 和 的值，`true`而`false`布尔值允许`true`,`false`和`null`. 我已经开始将我`boolean`的 s 转换为`Boolean`s。这可能会导致测试崩溃，例如

```
Boolean set = null;
...
if (set) ... 
```

而测试

```
if (set != null && set) ... 
```

似乎做作且容易出错。

什么时候，如果有的话，将`Boolean`s 与空值一起使用是否有用？如果从来没有，那么包裹对象的主要优点是什么？

更新：有很多有价值的答案，我在自己的答案中总结了一些。我充其量只是 Java 的中级，所以我试图展示我认为有用的东西。请注意，问题是“措辞不正确”（布尔值不能“具有空值”），但我将其保留以防其他人有同样的误解

* * *

## 回答 #1

> 赞同：249
> 
> 时间：2012-06-25T07:53:24.377

使用`boolean`而不是`Boolean`每次都使用。这将避免许多`NullPointerException`s 并使您的代码更加健壮。

`Boolean`很有用，例如

*   将布尔值存储在集合中（列表、地图等）
*   表示一个可为空的布尔值（例如，来自数据库中的一个可为空的布尔值列）。在这种情况下，空值可能意味着“我们不知道它是真还是假”。
*   每次方法需要一个对象作为参数时，您都需要传递一个布尔值。例如，当使用反射或类似`MessageFormat.format()`.

* * *

## 回答 #2

> 赞同：59
> 
> 时间：2012-06-25T07:53:16.100

我几乎从不使用`Boolean`，因为它的语义模糊不清。基本上你有三态逻辑：真、假或未知。有时，当您让用户在两个值之间进行选择并且用户根本没有回答并且您真的想知道该信息时使用它很有用（想想：NULLable 数据库列）。

我认为没有理由从 to 转换`boolean`，`Boolean`因为它引入了额外的内存开销、NPE 可能性和更少的输入。通常我会使用尴尬[`BooleanUtils.isTrue()`](http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/BooleanUtils.html#isTrue%28java.lang.Boolean%29)来让我的生活更轻松`Boolean`。

存在的唯一原因`Boolean`是能够拥有`Boolean`类型的集合（泛型不允许`boolean`，以及所有其他原语）。

* * *

## 回答 #3

> 赞同：33
> 
> 时间：2012-06-25T14:42:55.583

哇，到底是什么？只是我还是所有这些答案都是错误的或至少具有误导性？

Boolean 类是 boolean 原始类型的包装器。此包装器的用途是能够在接受对象或泛型的方法中传递布尔值。即向量。

布尔对象永远不能有 null 值。如果您对布尔值的***引用***为空，则仅表示您的布尔值从未被创建。

您可能会发现这很有用：http: [//grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Boolean.java](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Boolean.java)

空布尔引用仅应用于触发您有任何其他空引用的类似逻辑。将它用于三态逻辑是笨拙的。

编辑：注意，这`Boolean a = true;`是一个误导性的陈述。这真的等于更接近`Boolean a = new Boolean(true);` 请在此处查看自动装箱：[http ://en.wikipedia.org/wiki/Boxing_%28computer_science%29#Autoboxing](http://en.wikipedia.org/wiki/Boxing_%28computer_science%29#Autoboxing)

也许这就是很多混乱的来源。

EDIT2：请阅读下面的评论。如果有人知道如何重组我的答案以纳入这一点，请这样做。

* * *

## 回答 #4

> 赞同：26
> 
> 时间：2012-06-25T07:52:39.847

有三个快速的原因：

*   表示数据库布尔值，可以是`true`，`false`或`null`
*   表示用声明的 XML Schema 的`xsd:boolean`值`xsd:nillable="true"`
*   能够使用泛型类型：`List<Boolean>`- 你不能使用`List<boolean>`

* * *

## 回答 #5

> 赞同：11
> 
> 时间：2012-06-26T17:19:23.970

回答自己的问题：我认为回答我自己的问题会很有用，因为我从答案中学到了很多东西。这个答案旨在帮助像我这样对这些问题没有完全理解的人。如果我使用了不正确的语言，请纠正我。

*   空“值”不是一个值，与 and 根本`true`不同`false`。这是没有指向对象的指针。因此认为布尔值是 3 值是根本错误的
*   Boolean 的语法被缩写并隐藏了引用指向对象的事实：

    `Boolean a = true;`

`true`掩盖了它是一个对象的事实。其他等效的分配可能是：

```
Boolean a = Boolean.TRUE; 
```

或者

```
Boolean a = new Boolean(true); 
```

*   缩写语法

    `if (a) ...`

与大多数其他赋值不同，并隐藏了 a 可能是对象引用或原语的事实。如果一个对象有必要进行测试`null`以避免NPE。对我来说，如果有平等测试，在心理上更容易记住这一点：

`if (a == true) ...`

我们可能会被提示测试是否为空。所以缩短的形式只有在`a`是原语时才是安全的。

对于我自己，我现在有以下建议：

*   切勿将 null 用于 3 值逻辑。只用真假。
*   永远不要从一个方法返回`Boolean`，因为它可能是`null`。只有返回`boolean`。
*   仅`Boolean`用于将元素包装在容器中，或用于需要对象的方法的参数

* * *

## 回答 #6

> 赞同：10
> 
> 时间：2012-06-25T07:52:54.437

原语的包装类可以在需要对象的地方使用，集合是一个很好的例子。

想象一下，由于某种原因，您需要存储一个`boolean`in 的序列`ArrayList`，这可以通过装箱来`boolean`完成`Boolean`。

[这里](http://en.wikipedia.org/wiki/Primitive_wrapper_class)有几句话

从文档：

> 正如任何 Java 程序员都知道的那样，您不能将 int（或其他原始值）放入集合中。集合只能保存对象引用，因此您必须将原始值装入适当的包装类（在 int 的情况下为 Integer）。当你从集合中取出对象时，你会得到你放入的 Integer；如果需要 int，则必须使用 intValue 方法对 Integer 进行拆箱。所有这些装箱和拆箱都是一种痛苦，并且会使您的代码混乱。自动装箱和拆箱功能使过程自动化，消除了痛苦和混乱。

[http://docs.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html](http://docs.oracle.com/javase/1.5.0/docs/guide/language/autoboxing.html)

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2012-06-25T07:52:56.857

我想在某些情况下，您应该有一种机制来区分已经设置值与否的布尔字段。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2012-06-25T07:53:20.460

`Boolean``true`当您想要除and之外是否分配了值时，包装器很有用`false`。它有以下三种状态：

*   真的
*   错误的
*   未定义哪个是`null`

而`boolean`只有两种状态：

*   真的
*   错误的

上述差异将使其在`Boolean`值列表中有所帮助，其中可以有`True`，`False`或`Null`。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2012-06-25T07:54:08.950

Boolean 的主要用途是空值。**Null 值表示，该属性未定义**，例如取数据库可为空的列。

如果您真的需要将所有从原始布尔值转换为包装布尔值，那么您可以使用以下代码来支持旧代码：

```
Boolean set = Boolean.FALSE; //set to default value primitive value (false)
...
if (set) ... 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2012-06-26T22:24:29.227

布尔包装器中的 **null** 值有很多用途！:)

例如，您可能在表单中有一个名为“newsletter”的字段，该字段指示用户是否想要来自您的站点的时事通讯。如果用户未在此字段中选择值，您可能希望针对该情况实施默认行为（发送？不发送？，再次提问？等）。显然，未设置（或未选中或**null**），不等于true或false。

但是，如果“未设置”不适用于您的模型，请不要更改布尔原语；）

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2014-01-23T17:25:35.537

在布尔元素的严格定义中，只有两个值。在一个完美的世界里，这是真的。在现实世界中，元素可能丢失或未知。通常，这涉及用户输入。在基于屏幕的系统中，它可以通过编辑来强制执行。在使用数据库或 XML 输入的批处理世界中，该元素很容易丢失。

因此，在我们生活的不完美世界中，布尔对象非常棒，因为它可以将缺失或未知状态表示为空。毕竟，计算机只是对现实世界进行建模，应该考虑所有可能的状态并通过抛出异常来处理它们（主要是因为在某些用例中抛出异常是正确的响应）。

就我而言，布尔对象是完美的答案，因为输入 XML 有时会丢失元素，我仍然可以获得一个值，将其分配给布尔值，然后在尝试对其使用真假测试之前检查是否为空.

只是我的2美分。

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2015-07-04T18:56:03.710

对于上面所有好的答案，我将在 Java servlet`HttpSession`类中给出一个具体的例子。希望这个例子有助于澄清您可能仍然有的一些问题。

如果您需要为会话存储和检索值，请使用`setAttribute`(String, Object) 和`getAttribute`(String, Object) 方法。因此，对于布尔值，如果要将其存储在 http 会话中，则必须使用 Boolean 类。

```
HttpSession sess = request.getSession(false);
Boolean isAdmin = (Boolean) sess.getAttribute("admin");
if (! isAdmin) ... 
```

`NullPointerException`如果未设置属性值，最后一行将导致 a 。（这就是导致我写这篇文章的原因）。因此，无论您是否喜欢使用它，这 3 个逻辑状态都将保留。

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2016-01-11T17:27:27.070

当您需要三种状态时，布尔值非常有用。就像在软件测试中一样，如果测试通过发送 true，如果失败发送 false，如果测试用例中断发送 null，这将表示测试用例未执行。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2012-06-25T07:57:57.850

最好的方法是完全避免布尔值，因为每个布尔值都意味着您在代码中的其他任何地方都有一个条件语句（请参阅[http://www.antiifcampaign.com/](http://www.antiifcampaign.com/)和这个问题：[Can you write any algorithm without an if statement ?](https://stackoverflow.com/questions/1937362/can-you-write-any-algorithm-without-an-if-statement) )。

但是，务实地你必须不时使用布尔值，但是，正如你自己已经发现的那样，处理布尔值更容易出错，也更麻烦。所以我建议尽可能使用布尔值。例外情况可能是具有可为空布尔列的旧数据库，尽管我也会尝试将其隐藏在我的映射中。

# mysql - 特殊字符在 MySQL 导出/导入中丢失

> ID：11185324
> 
> 赞同：4
> 
> 时间：2012-06-25T07:47:06.590
> 
> 标签：mysql, utf-8, character-encoding, latin1

我正在尝试将 MySQL 3.23.58 数据库移动到运行 5.5.19 的不同服务器。

旧版本指定了 latin1 编码，据我所知，底层数据确实是 latin1。我尝试了很多东西，主要是：

*   使用 mysqldump 和 latin1 编码标志从终端导出。
*   在 vim 中编辑以将“TYPE=InnoDB”更改为“ENGINE=InnoDB”以兼容 MySQL 5。
*   从终端导入到新服务器。

浏览旧服务器（在 Mac 上的 Sequel Pro 或 PC 上的 MySQL 查询浏览器中），特殊字符并不总是正确显示，但它们就在那里（查看十六进制的二进制文件）。（在任何情况下，它都适用于 PHP Web 应用程序。）

浏览新服务器时，所有特殊字符似乎都已被问号替换。我知道如果指定了错误的编码，有时特殊字符会显示为问号（或 �）。但这些似乎是二进制级别的真正直接编码的 ASCII 问号。特殊字符（主要是弯引号和破折号）似乎在导出/导入中丢失或损坏。

知道为什么吗？

我知道编码有很多地方会出错，有很多不同的地方有问题。我已经阅读了几天（这里和其他地方）并尝试设置所有正确的字符编码，尝试 UTF-8，尝试转换和转换，尝试 Sequel Pro 的导出/导入（而不是终端）等等。但是我难住了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-26T09:35:50.860

很好，看来我们已经缩小了您的问题范围。我找到[了这篇文章](http://www.unix.com/shell-programming-scripting/175390-removing-92-character.html)

> 如果您的文本编辑器是 vim，那么“<92>”很可能是扩展 ASCII 字符的十六进制代码。在这种情况下，它是 Hex(92) 或 Oct(222) 或 Dec(146) ，即“右单引号”；不要与 ASCII Dec 代码 39 的“单引号”混淆。
> 
> 从文件中删除所有非 ASCII 字符的一种方法可能是 -
> 
> `perl -plne 's/[^[:ascii:]]//g' <your_file>`

否则，只需在导出的文件中搜索并用适当的字符替换“<92>”和“<97>”。

**[编辑]**

我不是 VIM 用户，但这篇文章解决了[替换 <92> 智能引号字符的问题](http://aditya.sublucid.com/2008/01/18/replacing-those-pesky-smart-quotes-in-vim/)

> 对于您在文件中看到的每个值，只需进行字符串替换，如下所示：
> 
> `:%s/<93>/\’/g`
> 
> 当然，您不能只在其中键入 <93>，因此要在其中输入它，请使用
> 
> CTRL-V x 93
> 
> 它将十六进制 93 插入到位。
> 
> 在最近从 excel 导出的 CSV 中，我看到了十六进制 91-97。

# php - MySql 查询中的错误 1054

> ID：11185330
> 
> 赞同：0
> 
> 时间：2012-06-25T07:47:51.847
> 
> 标签：php, mysql, sql

我有以下查询：

```
 $query="SELECT language_value, votes, user_id FROM labels WHERE approved=1 AND label_value=".
            $data[$i]['label_value']." AND language=".$language_id; 
```

我得到了错误：

```
Error Number: 1054
Unknown column 'AccountPagesView.a_book' in 'where clause' 
```

但是 'AccountPagesView.a_book' 是 $data[$i]['label_value'] 的值，不是一列。我在哪里犯了错误？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T07:50:46.240

您应该将 MySQL 中的任何字符串值包含在`'`：

```
$query= "SELECT language_value, votes, user_id FROM labels WHERE approved=1 AND label_value='".
        $data[$i]['label_value']."' AND language='".$language_id."'"; 
```

（我只是猜测了一下，它们是类似字符串的列。）

**编辑**

正如@vstm 所指出的：确保您在此处插入的值已正确转义。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T07:51:09.950

试试这个

```
$query="SELECT language_value, votes, user_id FROM labels WHERE approved=1 AND label_value='".$data[$i]['label_value']."' AND language='".$language_id."'"; 
```

# .net - 枚举 ConcurentDictionary

> ID：11185337
> 
> 赞同：1
> 
> 时间：2012-06-25T07:48:06.373
> 
> 标签：.net, multithreading, concurrent-programming

如果我在多线程访问方法中使用 ConcurentDictionary dic，我可以确定在这样的构造中：

```
foreach (Subscription sub in subscriptions[ex].Values)
                    {
                      ....
                    } 
```

`subscriptions`是不是`ConcurrentDictionary<string, ConcurrentDictionary<long, Subscription>>`通过几种方法运行时都不会改变，所以它会被线程保存？或者我应该像这样使用锁：

```
lock(padLock)
{   
foreach (Subscription sub in subscriptions[ex].Values)
                        {
                          ....
                        }
} 
```

让它正常工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T07:55:56.873

> ConcurrentDictionary 的所有公共和受保护成员都是线程安全的，并且可以从多个线程同时使用。

`Values`因此，是的，即使在您迭代集合时其他线程修改了集合，您也无需额外的锁就可以安全。

通过*修改*，我的意思是它添加新的对或更改字典中的现有值。

# android - 如何获取可绘制的文件实例？

> ID：11185348
> 
> 赞同：9
> 
> 时间：2012-06-25T07:49:05.573
> 
> 标签：android, file, uri, drawable, fileinputstream

下面是我处理徽标打印的代码。徽标放置在 res/drawable 文件夹中。当我运行该应用程序时，它会抛出：

```
java.io.FileNotFoundException: /android.resource:/com.android.test/2130837505 (No such file or directory). 
```

有什么建议吗？

```
 public  boolean printLogo()
    {
      Uri logo_path = Uri.parse("android.resource://com.android.test/" + R.drawable._logo);
      File logo = new File(logo_path.toString());
      byte[] logo_bytes = new byte[(int) logo.length()];
      System.out.print("Length:" + logo.length());
      FileInputStream fs;
      try {
          fs = new FileInputStream(logo);
          fs.read(logo_bytes);
          fs.close();
          mChatService.write(logo_bytes);
      } catch (FileNotFoundException e) {
          e.printStackTrace();
      }catch (IOException e) {
          e.printStackTrace();
      }
      return true;
    } 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-25T08:07:36.317

是的，您应该在资产或原始目录下添加此类资源...

但是如果你`have any limitation`只需要字节数组可以试试

```
Bitmap bmp= BitmapFactory.decodeResource(context.getResources(),
                                           R.drawable.icon_resource);

  ByteArrayOutputStream stream = new ByteArrayOutputStream();
  bmp.compress(Bitmap.CompressFormat.PNG, 100, stream);
   byte[] byteArray = stream.toByteArray(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:00:05.123

先把你的图片资源放到assets文件夹下，然后就可以用`AssetManager`for get `InputStream`from resource了。

```
AssetManager mgr = context.getAssets(); 
FileInputStream fin = (FileInputStream)mgr.open("path/filename"); 
```

`path`不应包含资产文件夹。

# java - 比较对象中的元素

> ID：11185350
> 
> 赞同：0
> 
> 时间：2012-06-25T07:49:22.787
> 
> 标签：java, collections, comparable

当我们比较单个`Collection`对象中的元素时，我们是否总是需要覆盖`equals`方法？如果是，我们为什么要这样做。

实际上，我们通过`CompareTo`整数方法将元素`1,0,-1`与它们的返回类型进行比较。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:54:32.200

如果使用集合，Java 将使用该`equals()`方法来比较对象。如果您使用的是排序集合，则`Comparable`必须实现该接口。

默认情况下，`equals()`如果两个对象实例相同，则为 true，如果要在比较中实现更多逻辑，则必须实现给定方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:00:45.703

如果您不覆盖类中的 equals 方法，`java.lang.Object`则将调用超类的（通常是 ）方法。如果这是您想要的，那么您不需要覆盖`equals`.

现在，`Object.equals()` [所做](http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals%28java.lang.Object%29)的可能不是您想要的：

> Object 类的 equals 方法实现了对象上最有区别的可能等价关系；也就是说，对于任何非空引用值 x 和 y，当且仅当 x 和 y 引用同一个对象（x == y 的值为 true）时，此方法才返回 true。

例如，`Integer`确实覆盖了 equals 方法，所以这有效：

```
Integer a = new Integer(3);
Integer b = new Integer(3);
assert(a.equals(b)); //Succeeds 
```

如果不是，那么 a 将不等于 b（根据 Object.equals）。所以，这取决于你需要做什么。大多数 Java 标准类已经有一个适当的 equals 方法，您不需要重写它。但是，您的自定义类将默认为 Object.equals() ，它将检查对象是否是相同的对象（相同的实例，内存中的相同字节串），这通常不是您想要的。

另外，请注意 HashMap 不会使用 equals 进行比较，而是使用 hashCode，例如 TreeSet 将使用`Comparable`接口方法。通常，如果您覆盖*equals*，请不要忘记同时覆盖*hashCode*（如果您愿意，Eclipse 有很好的自动生成选项）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T08:06:23.610

确实需要重写 equals 方法以便进行更复杂的比较，然后只检查两个实例是否相同。

假设您有一个 Person 类，并且您希望具有相同社会安全号码的 Person 彼此“相等”。那么一个简单的实现可能如下所示：

```
public boolean equals(Object obj) {
    if (this.getSocialSecurityNumber() == obj.getSocialSecurityNumber())
       return true;
    else
       return false;
} 
```

这将导致每个 Person 对象“相等”，因为它们具有相同的社会安全号码。请注意，除非您想要特定的行为，否则覆盖 equals 不是必需的，例如此示例

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-25T08:06:33.273

> 当我们比较单个集合对象中的元素时，我们是否总是需要覆盖 equals 方法？

不。在一般情况下，*您*不必覆盖。`equals(Object)`对于您的特定应用程序，覆盖等于（和哈希码）*可能*是合适的/必要的，但这取决于该方法的非覆盖版本的作用以及您的应用程序需要什么行为。

> 实际上，我们通过 CompareTo 方法将整数作为 1,0,-1 与它们的返回类型进行比较。

如果您使用的 Collection 类使用`compareTo`or`compare`而不是，那么您*显然*`equals`不必覆盖。但是，类和方法保持一致是一种很好的做法。未来的开发人员可能会认为它们是一致的，但实际上却不一致。（当然，不一致可能有务实的原因......但你不应该因为懒惰而让方法不一致。）*`equals``equals``compareTo`*

 ** * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-25T08:15:35.187

好吧，如果你已经实现了 compareTo() 方法，那么你就不需要再实现 equals() 了，因为 compareTo() 本身会检查相等性。

即使您已经单独实现了 equals()，compareTo() 也会隐藏其实现，并且您的对象将永远不会针对 equals() 方法进行测试。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-25T08:07:39.897

**是的。我们总是需要重写equals方法。**

**例如。**如果您在集合中添加**null**，我们不能使用**compareTo**，因为它会抛出**NullPointerException**。但是， equals() 不会抛出**NullPointerException**。

重写 equals() 以避免 NullPointerException 更安全。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-25T08:07:53.000

我想您正在谈论的是`Comparable`接口，强烈建议其实现与对象的`equals()`方法保持一致，但仍然不是必需的。 [可比描述](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Comparable.html)*

# android - 如何找到文件资源管理器的位置？

> ID：11185353
> 
> 赞同：0
> 
> 时间：2012-06-25T07:49:46.740
> 
> 标签：android, system

我正在使用 Eclipse。我可以在 Eclipse 中看到文件资源管理器。文件资源管理器包含许多文件夹和文件。在此文件中存储在我的计算机中的位置。例如`data`和`mnt`。如何在计算机中找到他们的位置。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:57:39.243

不知道我明白。如果你想要你的源代码文件，那么

> 右键单击项目->单击属性。属性“位置”有一个值字段，它将为您的文件提供

如果您想查看 sdcard.img、cache.img 等

> 转到 AVD 管理器-> 查找 .android 的位置并转到您的特定模拟器文件夹

数据和 mnt 在您的虚拟设备中-在您的模拟器上，保存在 sdcard 上的东西在上面的 sdcard 图像上，而不是在您的计算机上

如果要从 mnt 或此类文件夹中提取文件，可以在 DOS cmd 行上执行此操作

> adb pull /mnt/sdcard/filename.ext

# java - 是否可以在 Javacv 或 opencv 中计算特定行的宽度？

> ID：11185357
> 
> 赞同：3
> 
> 时间：2012-06-25T07:50:01.207
> 
> 标签：java, image-processing, opencv, javacv

我正在做一个使用图像处理技术的项目，我使用 javacv 包作为调用 opencv 方法的接口。而且我想知道如何识别线的两侧可能有两条曲线（如下图所示）。此图像以特定比例淹没。因此，如果我可以计算该线的宽度，则可以计算实际宽度。

![在此处输入图像描述](../Images/a8d1577ca2dc0cdbb7481a5eaafeec06.png)

在上图中，我需要计算总长度（粉红色海峡而不是虚线）请有人分享您的经验，以使用 javacv 或 opencv 识别和计算这种线宽。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-26T18:52:43.310

首先，您必须只找到直线上的点。也许您可以使用形态运算符来做到这一点。然后，您可以使用[cvContours](http://opencv.itseez.com/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html#findcontours)获取您的线的点列表。

arcLength函数为您[提供](http://opencv.itseez.com/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html#arclength)线的长度。

# c# - 如何将网页保存为来自 Web 应用程序的图像

> ID：11185358
> 
> 赞同：0
> 
> 时间：2012-06-25T07:50:05.517
> 
> 标签：c#

是否可以使用 Web 应用程序将网页保存为图像？如果是，那么如何？。我搜索了又搜索了，但我发现的所有示例都是针对 Windows 应用程序的，在将代码转换为 Web 应用程序时我遇到了很多麻烦。

任何帮助或建议将不胜感激。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-06-25T07:54:35.030

我建议你通过javascript来做。有一个选项。如果它是针对 IE 的，您也可以考虑使用 activeX。

请查看以下链接以获取 JS 截图，

[使用 javascript 的截图](http://learningthreejs.com/blog/2011/09/03/screenshot-in-javascript/)

# coldfusion - 如何区分coldfusion 9未投递邮件文件夹中两个Web应用程序的邮件？

> ID：11185363
> 
> 赞同：-1
> 
> 时间：2012-06-25T07:50:28.237
> 
> 标签：coldfusion, coldfusion-9

Coldfusion应用服务器有什么配置吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T19:20:27.760

我认为在 cf 管理员中识别发送电子邮件的应用程序不是一个选项。

您可能必须在发送电子邮件时使用 <cfmailparam> 标记来识别应用程序：

```
<cfmailparam name="x-app" value="name_of_my_application"> 
```

然后，您必须检查文本文件的内容以确定哪个应用程序发送了电子邮件。

# java - 在 Jenkins 中运行自定义数据库脚本

> ID：11185380
> 
> 赞同：6
> 
> 时间：2012-06-25T07:51:41.407
> 
> 标签：java, database, jenkins

到目前为止，我已经在 J​​enkins 中看到了与构建过程相关的不同选项和工作。我想知道是否有一种方法可以创建一个可以连接到数据库并运行脚本的作业，该脚本将执行一些操作。也许，Jenkins 可以运行一个脚本文件或者只存储一些要运行的操作。提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T08:15:33.107

您有两个主要选择：

*   使用**Execute shell**或**Execute Windows 批处理命令**构建步骤

*   使用基于 java 的工具，例如 liquibase、ant tasks、maven 插件等等。您甚至可以将其作为 JUnit 测试的一部分。考虑搜索“数据库迁移 java”

其中哪个是“正确”的解决方案取决于构建的目的：

您需要数据库进行一些测试吗？那么您可能应该使用基于 java 的解决方案，因为它独立于平台，并且很可能适用于任何操作系统。

您想在将数据库脚本交给管理员进行部署之前实际测试它们吗？然后，您可能想要使用管理员将要使用的确切工具并在管理员使用的操作系统上执行它。他们很可能不太热衷于使用基于 Java 的工具来完成这项工作。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T07:58:19.800

开箱即用，Jenkins 中没有数据库插件或作业。

最简单的方法是使用 Ant 任务。Jenkins 中有对 ant 任务的原生支持。检查 Ant的[SQLTask](http://ant.apache.org/manual/Tasks/sql.html)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T07:58:42.730

*执行 shell*（在类 Unix 系统上）和*执行 Windows 批处理命令*（在 Windows 上）构建步骤可用于在 Jenkins 上运行任意脚本。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T08:01:19.207

您可能想查看[LiquiBase](http://www.liquibase.org/)，它可以通过 Maven 执行与平台无关的脚本。这可能不适合您的用例，但我过去曾成功地使用它来管理与特定软件构建相关的数据库更改，以及环境之间构建的升级。

# c++ - STL 映射迭代器运行时错误

> ID：11185386
> 
> 赞同：1
> 
> 时间：2012-06-25T07:52:29.477
> 
> 标签：c++, map, iterator, runtime

我需要帮助解决一个奇怪的运行时错误。这是给出它的代码：

```
JacobianCol &diag_index_column = J[diag_index];
JacobianColData::iterator &diagonal_element = diag_index_column.find(diag_index);
Jacobian J2 = J; //added to reveal the problem
J[diag_index].divide_by(diagonal_element); 
```

我想要的是。我想保存迭代器**对角元素**并将其传递给**divide_by**函数。但是当我调用**J**变量时，迭代器会下降。指向内存的指针仍然存在（我已在调试器中检查过），但迭代器的内容已损坏（未引用的变量）。

我究竟做错了什么？

更多代码：

**雅可比 J：**

```
class Jacobian
{
private:
   std::vector<JacobianCol> _J;
...
public: 
...
   JacobianCol& operator [](int i); //return _J[i];
}; 
```

**雅可比列：**

```
typedef std::map<int, Submatrix> JacobianColData;

class JacobianCol
{
private:
...
 JacobianColData _col_data;
public:
...
 JacobianColData::iterator &find(int key, bool need_append = false);
}; 
```

**找到实现：**

```
JacobianColData::iterator &JacobianCol::find(int key, bool need_append)
{
 if(need_append)
  this->insert(key);
 JacobianColData::iterator &res = this->_col_data.find(key);
 return res;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T07:59:21.943

您的代码甚至无法使用像样的编译器进行编译。 `diagonal_element` 不应该是参考，而是价值。您不能使用临时值初始化引用。

（迭代器具有值语义，在极少数情况下您需要对迭代器的引用——然后几乎总是作为参数。）

# javascript - 正确的 jQuery 图像加载（）？

> ID：11185390
> 
> 赞同：0
> 
> 时间：2012-06-25T07:52:47.357
> 
> 标签：javascript, jquery, image, load

```
<script type="text/javascript">
jQuery(document).ready(function(){
setTimeout(function(){
    jQuery('.my-image').each(function(){
        jQuery(this).greyScale({
            fadeTime: 200,
            reverse: false
        });
        $(this).animate({ 'opacity' : 1 }, 1000);
        $(this).load(function(){
            jQuery(this).greyScale({
                fadeTime: 200,
                reverse: false
            });
            $(this).animate({ 'opacity' : 1 }, 1000);
        });
    });
}, 200);
});
</script> 
```

在上面的示例中，我使用 grayScale() 函数将图像复制到画布中并保留两个版本（灰色 = 默认，颜色 = 悬停）。

它在 99% 的情况下都能正常工作，但是当浏览器首次运行时，它有时无法加载 1 张图片、2 张图片或类似的东西。就像“加载”和“正常事件”都无法正常工作。

有人可以确认我是否做对了吗？如果图像已经存在或者不存在，我会尝试加载该事件，然后有替代的“load()”以确保它在加载后执行。从逻辑上讲，这似乎是一个很好的解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:09:27.197

测试图像是否已加载的一个好方法是尝试访问其尺寸，如果您可以获得图像的高度或宽度，则可以假设它已加载并对其进行灰度化。因此，您可以修改代码来执行此操作：

```
jQuery('.my-image').each(function()
{
    var greyscale = function(image)
    {
        jQuery(image).greyScale({
            fadeTime: 200,
            reverse: false
        });
    }

    if ( jQuery(this).width() )
    {
        // it's loaded, greyscale its ass
        greyscale( this );
    }
    else
    {
        // wait for the load
        $(this).load(greyscale);
    }
}); 
```

在这种情况下，由于您希望图像首先是灰度的，我建议以编程方式插入图像：

您的`<img>`标签所在的位置，将它们替换为`<div>`您添加`data-src`属性的标签，这将包含图像的 URL。

加载文档后，使用遍历所有`<div>`标签的脚本并将标签插入`<img>`标签中`<div>`，例如：

```
jQuery('div.my-image').each(function()
{
    var el = jQuery( this );

    // get the src for the image
    var src = el.data( 'src' );

    // start loading the image
    var img = new Image();

    img.onload = function()
    {
        // greyscale it
        jQuery(img).greyScale({
            fadeTime: 200,
            reverse: false
        });

        // append it
        el.append( img );
    }

    // load the image by setting the src
    img.src = src;
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T07:59:13.657

`.load()`可能是一个棘手的问题，但这样的事情应该可以工作（注意 this.complete 检查）：

```
jQuery('.my-image').each(function(){
    $(this).load(function(){
        jQuery(this).greyScale({
            fadeTime: 200,
            reverse: false
        });
        $(this).animate({ 'opacity' : 1 }, 1000);
    });

    if (this.complete) {
      $(this).trigger('load');
    }
}); 
```

尽量避免重复代码，这不是最佳实践。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T08:10:24.923

不要依赖`.load()`图像的功能。

甚至 jQuery 都这么说。

> 与图像一起使用时加载事件的注意事项
> 
> 开发人员尝试使用 .load() 快捷方式解决的一个常见挑战是在图像（或图像集合）完全加载时执行一个函数。应该注意几个已知的警告。这些都是：
> 
> 它不能始终如一地工作，也不能可靠地跨浏览器如果图像 src 设置为与以前相同的 src，则在 WebKit 中无法正确触发它没有正确地冒泡 DOM 树可以停止为已经存在的图像触发在浏览器的缓存中

[在这里](http://api.jquery.com/load-event/)阅读

如果可以的话，用这个，

```
$(window).load(function(){
    // Images are now loaded for sure
}) 
```

**编辑：**

或者使用 Paulirish 非常精简的 jQuery 插件

[图像加载](https://gist.github.com/268257)

# iphone - 在 Xcode 4 中创建一个弹出视图

> ID：11185395
> 
> 赞同：0
> 
> 时间：2012-06-25T07:53:04.103
> 
> 标签：iphone, ios, uipopovercontroller

我的一个视图中有一个点击识别，点击它我应该从现有的 nib 文件中显示一个弹出视图。我添加了以下代码

```
FeedTabReplyView *d = [[FeedTabReplyView alloc]initWithNibName:@"FeedTabReplyView" bundle:nil];
//d.delegate = self;
//create popover and put V2 in the popover view
UIPopoverController *popoverController = [[UIPopoverController alloc] initWithContentViewController:d]; 
//popoverController.delegate = self;  //optional
CGSize size = CGSizeMake(325, 75);
popoverController.popoverContentSize = size;
[popoverController presentPopoverFromRect:recognizer.view.frame inView:self.view permittedArrowDirections:UIPopoverArrowDirectionAny animated:YES]; 
```

但它会引发异常：

> 'NSInvalidArgumentException'，原因：'-[UIPopoverController initWithContentViewController:] 未在 UIUserInterfaceIdiomPad 下运行时调用。'

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T07:54:42.997

`UIPopoverController`仅适用于 iPad，但对于 iPhone，有一个非常好的类[WEPopover](https://github.com/werner77/WEPopover)

它非常易于使用，并且具有几乎所有的`UIPopoverController`方法和属性

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T12:57:17.490

**奥马尔**是对的。

来自苹果文档：

> Popover 控制器专用于 iPad 设备。尝试在其他设备上创建一个会导致异常。

你为什么不使用第三方 API 而不是使用`UIActionSheet`?

如果您需要基于界面习惯开发通用应用程序，您可以只创建一个弹出框 (iPad) 或一个操作表 (iPhone)。

# javascript - jQuery 和 document.ready() 触发两次

> ID：11185399
> 
> 赞同：3
> 
> 时间：2012-06-25T07:53:24.110
> 
> 标签：javascript, jquery

我知道这是一个很常见的问题，但即使经过研究，我也无法理解我调用 document.ready() Javascript 函数时出了什么问题。

出于某种原因，它被调用了两次，即使我除了警报之外没有执行任何其他操作。

正如我在标题中所说，我使用的是 jQuery，并且认为某些东西可能来自 $(function(){})，所以我也删除了其中的任何执行。没有任何变化， document.ready() 仍然被调用了两次。

这个问题的根源是什么？如何解决/解决它？

提前致谢！

这是我尝试过的代码：

```
$(function(){
    //$( "#tabs" ).tabs();
});

$(document).ready(function() {
    //getTableEntity("organisation", "getentitytable", "#testtable");
    //standardDataTable('#tableOrga');
    alert("document.ready");
}); 
```

编辑：我知道我两次使用相同的功能。将所有内容放在一个函数中并不能解决问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-25T08:07:29.030

您是否使用模板引擎，例如 smarty 或 .net 或其他东西？可能是 jquery 有一个双脚本源。然后有副作用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T08:05:04.913

您可以使用此代码检查 dom 是否已准备好。将代码放在您的 javascript 源文件中。

```
// If the DOM is already ready
if ( jQuery.isReady ) {
// Execute the function immediately
fn.call( document, jQuery );
} // ... 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T07:59:50.023

应该使用其中之一...并将您的代码放在以下 jquery 函数之一上

```
$(function(){
    //$( "#tabs" ).tabs();
}); 
```

或者

```
$(document).ready(function() {
    //getTableEntity("organisation", "getentitytable", "#testtable");
    //standardDataTable('#tableOrga');
    alert("document.ready");
}); 
```

`$(function(){` 等于`$(document.ready)`

[在jquery](http://api.jquery.com/ready/)上阅读这里

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T08:16:16.570

我认为这个演示会帮助你

```
<script>
    $(function(){
        $('#test1').appendTo('#test2');
        console.log(1);
    })
</script>
<div id="test1">
<script>
    $(function(){
        console.log(2);     
    });
</script>
</div>

<div id="test2"></div> 
```

console.log(2) 将触发两次。

# android - 如何找到支持的视频格式？

> ID：11185401
> 
> 赞同：0
> 
> 时间：2012-06-25T07:53:27.077
> 
> 标签：android, video

有什么方法可以检测 Android 手机支持的视频格式吗？当我尝试播放 .mp4 视频时，其中一部测试手机显示错误“抱歉此视频无法播放”。在这种情况下，我想检测支持的视频格式并将 .mp4 转换为该格式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T07:56:31.487

您可以尝试[Android 支持的媒体格式](http://developer.android.com/guide/appendix/media-formats.html)，或者您可以直接通过 Google 搜索您设备的规格以获取更多说明。

[http://www.gsmarena.com/](http://www.gsmarena.com/)是查看设备规格的非常好的网站之一

# google-maps - 如何在谷歌地图信息窗口中触发事件？

> ID：11185408
> 
> 赞同：0
> 
> 时间：2012-06-25T07:54:15.143
> 
> 标签：google-maps, google-maps-api-3

我想在地图上有一个默认标记来指示地址，而用户可以将用户标记拖到他们认为正确的地方。（适用于一些地图修正情况...）

```
<script type="text/javascript"><!--
var geocoder;
var map;
var point;
function mapLoad() {
geocoder = new google.maps.Geocoder();
var myOptions = {
  zoom: 16,
  mapTypeControl: false, 
  mapTypeId: google.maps.MapTypeId.ROADMAP
}

map = new google.maps.Map(document.getElementById("map"), myOptions);
var address = "LS2 2RD"; //default postcode
geocoder.geocode( { 'address':address,region:"UK",language:"en"}, function(results, status) {
  if (status == google.maps.GeocoderStatus.OK) {
    point=results[0].geometry.location;
    map.setCenter(point);
    var defaultMarker = new google.maps.Marker({map: map, position: point}); //default marker
    var marker = new google.maps.Marker({
        map: map, 
        position: point,
  draggable: true
    }); //The marker for users to drag

    var DefaultContent ='<h4>Default Location</h4><h6>You can drag it to anywhere you think it is right or confirm here is the right place</h6><div class="confirm"><input type="button" value="This location is correct"></div>'
    var DefaultInfo = new google.maps.InfoWindow({content: DefaultContent,maxWidth:200});
    DefaultInfo.open(map,marker); //default infowindow

      var TargetContent='<h4>New Location</h4><h6>Are you sure here is the right place?</h6><div class="confirm"><input type="button" value="Yes, I confirm" />'+
      '<input type="button" value="Cancel" onclick="clsMark()" /></div>'; //here cancel button is not working
      var infobox = new google.maps.InfoWindow({content: TargetContent}); //after drag ended, the new infowindow

google.maps.event.addListener(marker, 'drag', function(){
        DefaultInfo.close();
        });
google.maps.event.addListener(marker, 'dragend', function() {
      infobox.open(map, marker);
    });

function clsMark(){if (infobox != null) {infobox.close();}//if user cancel, clear the infowindow, and put the marker back to default position
        marker.setPosition(point);}

  } else {
    alert("Geocode was not successful for the following reason: " + status);
  }
}); 
```

}

问题是我无法让这些按钮在信息窗口中工作。我无法使用以下方法将点击事件绑定到按钮：

```
google.maps.event.addListener(buttonID, 'click', function(){...} 
```

如果我将 onclick 添加到按钮，则会出现函数未定义错误，就像上面的代码一样，在这种情况下，它会显示“clsMark 未定义”。

所以我完全不知道如何让按钮在信息窗口中工作。请帮帮我...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:54:29.817

您在传递给 geocoder.geocode() 的匿名函数中声明 clsMark() 函数*，*这就是为什么它在全局范围内不可用（onclick 处理程序正在寻找它）。

*尝试在 geocoder.geocode 调用之前*移动函数 clsMark()以使其对 onclick 处理程序可见。

至于您尝试使用 'addListener(buttonID,..'，请注意 addListener 不适用于 ID，您必须提供 'object' 作为第一个参数，因此这只适用于使用谷歌地图对象。

# matlab - Matlab函数返回子系统的父系统？

> ID：11185414
> 
> 赞同：2
> 
> 时间：2012-06-25T07:54:46.017
> 
> 标签：matlab, simulink

在 simulink 子系统中，我想用父系统中的相应和一个-block 替换所有`From`-blocks 。是否有一个 MATLAB 函数可以返回子系统的父系统，或者是一种方便的方法来实现这一点而无需调整路径字符串？`In-/Outports``From`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-26T02:50:17.600

对于任何模块（包括子系统），您可以询问参数**Parent**的值，

```
>> get_param('model/ParentSystem/ChildSystem', 'Parent');

ans =

'model/ParentSystem'

>> 
```

# asp.net - 在新线程中使用 Ninject

> ID：11185418
> 
> 赞同：4
> 
> 时间：2012-06-25T07:55:24.033
> 
> 标签：asp.net, multithreading, ninject

我需要为长时间运行的任务（写入文档存储、触发重新索引等）启动一个新线程。

我在 ASP.Net MVC 网站中使用 Ninject。本质上，我想从我的 Http 请求中生成一个新线程，它实例化它自己的对象，确保新线程中的 Http 请求中没有使用数据库连接等。我不确定使用什么来生成线程或如何配置 Ninject 以不从 Web 请求上下文中重新使用我的数据库会话。

下面是问题的基本时序图

我在 Ninject 中读过一些关于命名作用域的信息，但我不确定是否有任何相关性。

![Ninject 线程范围](../Images/a8b3384ca6f14df8cb67f6fcf687c062.png)

将产生新线程的 CommandProcessor 的代码是：

```
public class CommandProcessor
{
   private IKernel _serviceLocator;

   public CommandProc(IKernel serviceLocator)
   {
       _serviceLocator = serviceLocator;
   }

   public void Process<TCommand>(TCommand command) where T : ICommand
   {
       var commandHandlers = _serviceLocator.Get<ICommandHandler<TCommand>>();

       foreach (var commandHandler in commandHandlers)
       {
           // I want this call to be asynchronous
           commandHandler.Handle(command);
       }
   }
} 
```

提前致谢，

哈米什。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-15T15:23:30.633

当您生成新线程时，从 Ninject 创建一个新的激活上下文以在线程中使用：

```
 Thread thread = new Thread(new ThreadStart(() =>
            {
                using (IActivationBlock activation = kernel.BeginBlock())
                {
                    var commandHandlers = activation.Get<ICommandHandler<TCommand>>();

                    foreach (var commandHandler in commandHandlers)
                    {
                        commandHandler.Handle(command);
                    }
                }
            }));
        thread.Start(); 
```

# sql - Stored procedure that does not filter if a variable is null

> ID：11185427
> 
> 赞同：0
> 
> 时间：2012-06-25T07:55:59.017
> 
> 标签：sql, crystal-reports-2008

I have this stored procedure that I want to use for my SAP crystal report.

```
SELECT
    t0.DocNum AS ReceiptNo, t2.DocEntry AS InvoiceNo, 
    t0.DocDate, t1.CheckAct,
    t1.CheckNum, t3.AcctName, 
    CASE 
        WHEN (t0.CardName IS NULL) THEN t0.Address
                                   ELSE t0.CardName
    END AS CustName,
    CASE 
        WHEN ((t1.CheckNum IS NULL OR t1.CheckNum = 0)
               AND t0.TrsfrRef IS NULL) THEN 'Cash'
        WHEN (t1.CheckNum > 0
               AND t0.TrsfrRef IS NULL) THEN 'Cheque'
        ELSE 'Transfer'
    END AS PayType, 
    CASE 
        WHEN (t1.CheckNum > 0 AND t0.TrsfrRef IS NULL) THEN t1.CheckSum
        ELSE t0.DocTotal
    END AS DocTotal
FROM
    ORCT t0
LEFT OUTER JOIN 
    RCT1 t1 ON t1.docnum = t0.docnum
LEFT OUTER JOIN 
    RCT2 t2 ON t0.DocEntry = t2.DocNum
LEFT OUTER JOIN 
    OACT t3 ON t1.CheckAct = t3.AcctCode
WHERE
    t0.DocDate BETWEEN @BeginDate AND @EndDate
    AND t0.Canceled = 'N'
    AND t3.AcctCode = @Account 
```

On the last line, I have declared a variable `@Account` that filters results by account number. I want my report to work such that if an account is not selected(null), results of all account numbers are returned.

How do I achieve this?

Any help appreciated.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T08:02:47.377

It sounds like you want the last clause to be effectively omitted if `@Account` is null. If so, then try this:

```
... AND t0.Canceled = 'N' AND
(@Account IS NULL OR t3.AcctCode = @Account) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T07:59:55.717

add to the end

```
or t3.AcctCode is null 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T08:06:53.883

You could use `IF ELSE` e.g.

```
IF @Account IS NULL
    BEGIN
        --Your Query without "AND t3.AcctCode = @Account"
    END
ELSE
    BEGIN
        -- Your Query
    END 
```

You could also change your last line to:

```
AND (t3.AcctCode = @Account OR @Account IS NULL) 
```

# phpdoc - phpDocumentor 目录不存在

> ID：11185430
> 
> 赞同：2
> 
> 时间：2012-06-25T07:56:17.083
> 
> 标签：phpdoc

我尝试使用以下命令在新服务器上运行 phpDocumentor：

```
phpdoc -d /var/www/vhosts/mysite.com/httpdocs/source -t /var/www/vhosts/mysite.com/httpdocs/docs 
```

但它总是说：

```
[InvalidArgumentException]                                                                     
The "/var/www/vhosts/mysite.com/httpdocs/source" directory does not exist. 
```

我为 source 和 docs 文件夹授予 777 权限，但这不起作用。

# jquery - historyjs / HTML5 pushState“数据”参数不保存作为函数的对象的属性

> ID：11185435
> 
> 赞同：0
> 
> 时间：2012-06-25T07:56:38.113
> 
> 标签：jquery, pushstate, history.js

我正在尝试在我的 Web 应用程序中使用 pushState，如下所示：

```
//default settings
    var ds = {
        path: window.module.Globals.prototype.base_url, //location misc variable for my app
        type: 'POST',
        dataType: 'html',
        data: {},
        target: 'main_swap_area',
        pre_ajax_callback: function(scope){ console.log('pac'); },
        post_success_callback: function(data, textStatus, jqXHR, scope){ console.log('psc'); },
        scope: this
    };

    History.pushState(ds, 'Title 1', ds.path); 
```

我有一个回调函数监听“ `statechange`”事件

```
jQuery(window).bind('statechange',function(){

        var
            State = History.getState(),
            url = State.url;

        console.log(State); // State.data is object with all original properties EXCEPT properties that contained functions as values

    }); // end onStateChange 
```

我的控制台的输出是一个包含我所有原始属性/值的对象，但所有具有值函数的属性除外。为什么这些被丢弃/不被退回？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-26T00:27:17.203

在某一时刻，许多`pushState`实现使用 JSON 来序列化和反序列化对象。较新的浏览器版本使用称为[结构化克隆算法的](https://developer.mozilla.org/en/DOM/The_structured_clone_algorithm)东西。

在这两种情况下，`Error`对象`Function`都不受支持，因此您不能将它们用作`pushState`状态的一部分。尝试这样做通常会导致 DATA_CLONE_ERR 异常，但错误事件可能不会冒泡。

如果您真的想存储一个函数，我看到结构化克隆算法支持`Blob`克隆，因此您可以将函数加载为`<script>`节点，并可能将此文本 blob 存储为`Blob`本地存储。您必须`eval`使用它（如果使用不当可能会很危险），但即使不是完全优雅，我也可以看到这样的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T01:15:20.807

只是一个想法为什么不通过json传递函数名，如果它存在于数据中创建一个新函数然后执行它

```
temp = new Function(State.data.pre_ajax_callback);
temp(); 
```

# android - android paypal应用内支付：初始化paypal库失败

> ID：11185441
> 
> 赞同：1
> 
> 时间：2012-06-25T07:57:23.637
> 
> 标签：android, paypal

下面显示了我用于在我的 android 应用程序中初始化 paypal 对象的代码。运行时错误是由 doInBackground() 引起的，所以我认为这可能是由于 payPal.isLibraryInitialized() 返回的错误。

你们有在 android 应用程序中集成 paypal 的经验吗？

```
private class PayPalInitializer extends AsyncTask<Void, Void, Boolean> {

    private static final String APP_ID = "APP-80W284485P519543T";
    private Context mContext;
    private ProgressDialog mProgressDialog;

    public PayPalInitializer(Context context) {
      mContext = context;
    }

    @Override
    protected void onPreExecute() {
      super.onPreExecute();
      mProgressDialog = new ProgressDialog(mContext);
      mProgressDialog.setMessage("...");
      mProgressDialog.show();
    }

    @Override
    protected Boolean doInBackground(Void... params) {
      boolean success = false;
      PayPal payPal = PayPal.getInstance();
      if (payPal == null) {
        payPal = PayPal.initWithAppID(mContext, APP_ID, PayPal.ENV_SANDBOX);
        payPal.setFeesPayer(PayPal.FEEPAYER_EACHRECEIVER);
        // Set to true if the transaction will require shipping.
        payPal.setShippingEnabled(true);
        if (payPal.isLibraryInitialized()) {
          success = true;
        }
      }
      return success;
    }

    @Override
    protected void onPostExecute(Boolean result) {
      super.onPostExecute(result);
      mProgressDialog.hide();
      mProgressDialog = null;
      if (result) {
        setupButton();
      } else {
        Toast.makeText(getApplicationContext(), "", Toast.LENGTH_SHORT).show();
      }
    }
  }; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:04:04.933

如果您添加了jar文件但未正确包含，则会出现此类错误。右键单击您的项目，然后转到属性--java构建路径--order和export。检查jar旁边是否有复选框。应该是检查。再次运行您的应用程序并检查是否存在相同的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-06T14:29:58.217

也许你忘了把这个权限放在 AndroidManifest.xml

```
<uses-permission android:name="android.permission.INTERNET"/>
<uses-permission android:name="android.permission.READ_PHONE_STATE"/>   
<uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/>
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/> 
```

# crash - FT_Init_FreeType 上的 FreeType2 崩溃

> ID：11185444
> 
> 赞同：2
> 
> 时间：2012-06-25T07:57:30.350
> 
> 标签：crash, sdl, freetype2

我目前正在尝试学习如何使用 FreeType2 库通过 OpenGL 绘制字体。但是，当我启动程序时，它立即崩溃并出现以下错误：“（无法正确启动应用程序（0xc000007b））”

评论 FT_Init_FreeType 消除了错误，我的游戏开始就好了。我想知道这是我的代码还是与加载 dll 文件有关。

我的代码：

```
#include "SpaceGame.h"
#include <ft2build.h>
#include FT_FREETYPE_H

//Freetype test
FT_Library library;

Game::Game(int Width, int Height)
{

    //Freetype
    FT_Error error = FT_Init_FreeType(&library);
    if(error)
    {
        cout << "Error occured during FT initialisation" << endl;
    } 
```

还有我目前使用的 FreeType2 文件。在我的 bin 文件夹内（调试 .exe 所在的位置）是：freetype6.dll、libfreetype.dll.a、libfreetype-6.dll。在 Code::Blocks 中，我已链接到 FreeType 2.3.5.1 版本的 lib 和 include 文件夹。并包含一个编译器标志：-lfreetype

如果我注释掉 FT_Init 函数，这意味着包含和库文件应该没问题，我的程序将完全正常启动。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-14T06:44:33.823

对于那些可能偶然发现同样的问题并且找不到它的人。我将发布我的解决方案：

似乎错误代码通常是在加载 .dll 时出现的。我使用进程资源管理器检查我的程序是否实际加载了正确的 .dll，但事实并非如此。我删除了我的 FreeType dll，并将它们替换为专门为我的 windows 版本编译的版本，以确保我拥有正确的 dll。用新的替换旧的有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-14T12:48:30.397

我有同样的问题，原来我忘了复制 zlib1.dll 文件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-10-02T00:46:58.713

我有同样的“无法正确启动”错误。原来我的程序在 c:\intel\wifi\bin 之类的东西中找到了一个 zlib1.dll，DependencyWalker 标记为 AMD64（我的 PC 是 Win7 64，但我的应用程序是 32 位。）当我复制 freeType 时它已修复zlib1.dll 到 SysWOW64。难啃的骨头！

# c# - 如何从物理路径（本地磁盘）获取图像

> ID：11185446
> 
> 赞同：-1
> 
> 时间：2012-06-25T07:57:41.467
> 
> 标签：c#, asp.net

```
filename = Path.GetFileName(FileUpload.FileName);
HttpPostedFile pf = FileUpload.PostedFile;
System.Drawing.Image img2 = System.Drawing.Image.FromStream(pf.InputStream);

System.Drawing.Image bmp2 = img2.GetThumbnailImage(200, 210, null, IntPtr.Zero);

Imagename = objUser.UserID + filename;
Imagepath = "D:\\Shopy_Web_21-6-12\\Shopy\\Images" + Imagename;
bmp2.Save(Path.Combine(@"D:\Shopy_Web_21-6-12\Shopy\Images", Imagename)); 
```

我已将文件上传转换为两个缩略图并将它们保存在本地，但现在我需要检索图像以将其显示在用户的个人资料中。如何让图像从我存储的位置显示？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T08:10:47.513

您可以在您的应用程序中创建一个虚拟路径，例如：`..Images/`并将您的图像保存在该文件夹中。

然后使用下面的来获取图像 URL：

```
string str = Server.MapPath("Images/" + Filename); 
```

现在您将获得可以直接显示的图像的 url。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:02:35.070

将您的图像文件夹 ( `...\Shopy\Images`) 链接到应用程序下的虚拟文件夹，以便您可以在`<img>`元素中链接到它们。

# java - Android：使用 Java 反射更改私有静态最终字段

> ID：11185453
> 
> 赞同：19
> 
> 时间：2012-06-25T07:58:24.923
> 
> 标签：java, android, reflection

[使用 Java 反射更改私有静态最终字段](https://stackoverflow.com/questions/3301635/change-private-static-final-field-using-java-reflection)

我按照上面链接中的说明使用 java 反射更改了私有静态最终字段。我有一个名为“数据”的对象。在“数据”中，有一个名为“类型”的私有静态最终变量。我想将“类型”设置为空。这是我的代码。

```
Field field = data.getClass().getDeclaredField("type");
field.setAccessible(true);
Field modifiersField = Field.class.getDeclaredField("modifiers");
modifiersField.setAccessible(true);
modifiersField.setInt(field, field.getModifiers() & ~Modifier.FINAL);
field.set(data, null); 
```

我尝试使用类似的代码在 Java 1.7 上执行此操作，并且成功了。但在 Android 上运行此代码会产生以下错误： **java.lang.NoSuchFieldException: modifiers**

我猜“修饰符”不是 Android 上 Field 类中的一个字段。

我该如何解决？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-27T20:10:31.737

这适用于非静态字段。

```
Field field = data.getClass().getDeclaredField("type");
field.setAccessible(true);
field.set(data, null); 
```

# iphone - 如何在 Visual Studio 2010 中为 iPhone 制作网站

> ID：11185454
> 
> 赞同：-2
> 
> 时间：2012-06-25T07:58:32.763
> 
> 标签：iphone, asp.net, web

我想为 iPhone 制作一个网站，我是一个 .net 开发者，我不想为此使用 Desh Code，我的问题是如何在 Visual Studio 2010 中为 iphone 制作我的网站。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-27T13:33:18.490

我面临同样的问题，我有解决方案可能对您有用，但是如果您要求应用程序，则此解决方案适用于 Web 开发而不是适用于 iphone方法受保护的 void checkdivice() {

```
 string strUserAgent = Request.UserAgent.ToString().ToLower();
    if (strUserAgent != null)
    {
        if (Request.Browser.IsMobileDevice == true || strUserAgent.Contains("iphone") ||
            strUserAgent.Contains("blackberry") || strUserAgent.Contains("mobile") ||
            strUserAgent.Contains("windows ce") || strUserAgent.Contains("opera mini") ||
            strUserAgent.Contains("palm") || strUserAgent.Contains("nokia") || strUserAgent.Contains("opera mobi"))
            {

            }
            else { Response.Redirect("mob/default.aspx"); }
        }
        else {  }
    }
    else { }
} 
```

这个方法只是检查设备是否是移动的，现在你必须创建一个网页来决定屏幕分辨率和宽度 css3 就像： `@media screen and (min-device-width: 480px) @media only screen and (min-device-width : 320px) and (max-device-width : 479px) @media only screen and (max-device-width : 319px)`

# c# - 使用mvc3 c#将图表创建到excel中

> ID：11185461
> 
> 赞同：2
> 
> 时间：2012-06-25T07:58:51.030
> 
> 标签：c#, asp.net-mvc-3

我正在尝试使用 C# 创建图表。当我创建它的视图时它工作正常。但是有人可以告诉我如何将此图表放入excel文件中吗？我正在为我的 MVC3 应用程序使用 nHibernate 和 ninject。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T18:07:53.000

过去我使用过 MS 的 OpenXML SDK。我会从那里开始。

[http://msdn.microsoft.com/en-us/library/hh180830.aspx#odc_Office14_ta_GenerateExcelWorkbookswithOpenXMLSDK20_Introduction](http://msdn.microsoft.com/en-us/library/hh180830.aspx#odc_Office14_ta_GenerateExcelWorkbookswithOpenXMLSDK20_Introduction)

# mysql - mysql存储过程不接受外键约束

> ID：11185470
> 
> 赞同：0
> 
> 时间：2012-06-25T08:00:11.683
> 
> 标签：mysql, stored-procedures

我在mysql中使用StoredProcedure创建了一个表，当我尝试应用外键约束时我也应用了主键约束..iam得到错误'Cant create table dbname.tablename'..这是我的简单StoredProcedure

```
delimiter |
CREATE PROCEDURE SP_CREATE_TABLE_SAMP()
BEGIN
CREATE TABLE  anan_user  (
   user_id  bigint(15) NOT NULL AUTO_INCREMENT,
   name  varchar(70) DEFAULT NULL,
   last_name  varchar(70) DEFAULT NULL,
   gender  varchar(10) DEFAULT NULL,
   username  varchar(40) DEFAULT NULL,
   password  varchar(40) DEFAULT NULL,
   dateofbirth  date DEFAULT NULL,
   email  varchar(100) DEFAULT NULL,
   phone  varchar(25) DEFAULT NULL,
   mobile  varchar(25) DEFAULT NULL,
   address  varchar(250) DEFAULT NULL,
   pincode  varchar(15) DEFAULT NULL,
   state_id  bigint(15) DEFAULT NULL,
   district_id  bigint(15) DEFAULT NULL,
   constituency_id  bigint(15) DEFAULT NULL,
   profile_Img  varchar(100) DEFAULT NULL,
   is_pwd_changed  varchar(10) DEFAULT 'false',
   registered_time  timestamp NULL DEFAULT NULL,
   updated_date  timestamp NULL DEFAULT NULL,
  PRIMARY KEY ( user_id )

  ) ENGINE=InnoDB DEFAULT CHARSET=utf8;
END; 
```

如何在存储过程中给出外键约束？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T14:01:08.173

[对照MySQL 参考外键约束](http://dev.mysql.com/doc/refman/5.5/en/innodb-foreign-key-constraints.html)检查您的语法。发布您尝试过的内容以及您尝试设置外键约束的方式也会对您有所帮助。

一个示例约束定义是：

```
CREATE TABLE parent (id INT NOT NULL,
                 PRIMARY KEY (id)
) ENGINE=INNODB;
CREATE TABLE child (id INT, parent_id INT,
                INDEX par_ind (parent_id),
                FOREIGN KEY (parent_id) REFERENCES parent(id)
                  ON DELETE CASCADE
) ENGINE=INNODB; 
```

相关语法是`FOREIGN KEY (parent_id) REFERENCES parent(id)`.

# python - 如何在 Python 中编写多列文件？

> ID：11185475
> 
> 赞同：0
> 
> 时间：2012-06-25T08:00:53.183
> 
> 标签：python, file-io

我想浏览一个复数列表并将实部写为文件中的行。以下代码无法完成工作

```
for (column1, column2) in zip(t_inter, tp_inter):
    file_t.write("%s\t\n" % column1.real)
    file_tp.write("%s\t\n" % column2.real) 
```

怎么了？我猜该`\n`命令会换行，但如果我删除它，所有数据都会写在一行中。主要问题是我现在没有先验 t_inter 和 tp_inter 列表中的元素数量，通常在 2 到 20 之间。因此，是否有任何命令在不指定元素数量的情况下写入行`%/s\t`？最后，我想添加一个常量作为第一列，怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:12:11.597

我认为`pprint`是你的方式：

```
>>> import pprint
>>> pprint.__doc__
"Support to pretty-print lists, tuples, & dictionaries recursively.\n\nVery simp
le, but useful, especially in debugging data structures.\n\nClasses\n-------\n\n
PrettyPrinter()\n    Handle pretty-printing operations onto a stream using a con
figured\n    set of formatting parameters.\n\nFunctions\n---------\n\npformat()\
n    Format a Python object into a pretty-printed representation.\n\npprint()\n
   Pretty-print a Python object to a stream [default is sys.stdout].\n\nsaferepr
()\n    Generate a 'standard' repr()-like value, but protect against recursive\n
    data structures.\n\n"
>>> 
```

# php - 像系统一样保护发表评论

> ID：11185476
> 
> 赞同：-1
> 
> 时间：2012-06-25T08:00:54.367
> 
> 标签：php, mysql, security

我有一个非常类似于评论系统的 PHP 脚本，但需要先确认建议的评论。

例子：

1) 用户输入评论。
2) 用户被发送到显示评论的确认页面并要求用户确认它是正确的。
3) 用户确认并将评论插入数据库。

我的问题是，哪些 PHP 函数最适合确保在确认页面上显示评论，然后将其插入数据库。在从数据库中获取它以供之后显示之后，我是否还需要一些东西来保护它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:09:48.147

我对你的意思有点困惑，但我假设你试图确保防止 SQL 注入？IE; 用户不能输入'; 更新用户 SET 密码 = 'abc' WHERE 用户 = 'admin'; ETC？

如果是这样，您正在寻找[http://www.php.net/manual/en/mysqli.real-escape-string.php](http://www.php.net/manual/en/mysqli.real-escape-string.php)。或者 mysql_real_escape_string() 如果您使用的是已弃用的函数。

希望这会有所帮助 - 如果没有，请提供更多关于您正在寻找的内容的说明:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:10:01.877

如果您谈论代码安全性，则应始终遵守黄金法则：

*   **过滤**所有输入（[filter_var()](http://fr.php.net/manual/en/function.filter-var.php)或任何框架包含的类）
*   **转义**所有输出（至少[htmlspecialchars()](http://fr2.php.net/manual/en/function.htmlspecialchars.php)）

有许多级别可以保护表单或整个应用程序。这两个只是入门。

# javascript - Drupal - Jquery 更新版本与灯箱冲突

> ID：11185477
> 
> 赞同：-2
> 
> 时间：2012-06-25T08:01:02.253
> 
> 标签：javascript, jquery-ui, drupal, drupal-6, drupal-modules

我的 drupal 版本是 6，当前运行 jquery 版本 1.6.2。我一次使用 Lightbox 和 jquery UI，我认为 jquery 1.6 不支持 UI 功能。当我更新我的 jquery 版本时，所有链接都转到 lightbon 并显示找不到图像。那么如何一次实现jquery上版本和lightbox呢。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:34:13.513

不要手动更新 jQuery 库，它会导致一些 js 代码崩溃。

相反，您可以使用[jQuery Update](http://drupal.org/project/jquery_update)来执行此操作。它更安全。此模块将您的 Drupal 6 jQuery 版本更新到 v.1.3.2

希望这会有所帮助......穆罕默德

# java - Java swing GUI 冻结

> ID：11185485
> 
> 赞同：5
> 
> 时间：2012-06-25T08:01:37.157
> 
> 标签：java, swing, sockets, user-interface, concurrency

我正在使用套接字编写 Java 客户端/服务器 GUI 应用程序，这就是问题所在：

我有一个按钮可以开始监听指定端口：

按钮操作执行方法

```
private void listenButtonActionPerformed(java.awt.event.ActionEvent evt) {                                             
    int port = Integer.parseInt(portTextfield.getText(), 10);

    try {
        socket.listen(port);
    } catch (IOException ex) {
    }
} 
```

这是 socket.listen 方法

```
public static void listen() throws IOException {
    ServerSocket ss = new ServerSocket(port);

    while (true)
        new socket(ss.accept());
} 
```

“socket”类扩展“Thread”
所以在 ss.accept() 返回一个值之后，它会在单独的线程中创建新的套接字实例。

单击按钮后，GUI 冻结，因为在 socket.listen 方法中有一个无限循环。我怎样才能避免这种情况？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T08:36:35.887

您的设计中有两个陷阱：

1.  `ss.accept()`是一个阻塞呼叫，因此您的 UI 将冻结，直到有传入连接
2.  永远不要在 EDT 中运行`while(true)`循环。

而是执行以下操作：

*   单击按钮时，创建一个线程，该线程将开始侦听传入连接。
*   每当您有传入连接时，请创建另一个线程来接收传入的客户端连接并进行处理。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-25T08:41:34.817

只要你的

```
new socket(ss.accept()); 
```

立即返回，您只需更改您的

```
while (true) 
```

这会将 EDT（事件调度线程）置于无限循环中，并且您的 GUI 变得无响应。所以，删除这一行。

如果您不能使用 SwingWorker 类 ( [http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html#process(java.util.List](http://docs.oracle.com/javase/7/docs/api/javax/swing/SwingWorker.html#process(java.util.List) ) 创建一个嵌套类范围 SwingWorker。只需在您的*listenButtonActionPerformed(java.awt.event.ActionEvent evt)*方法中调用一个*swingWoker.execute();*（在您创建了它的对象之后）。

 *请参阅教程：[http ://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)

**永远不要创建新线程并从 Swing EDT 运行它**

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-25T08:08:23.110

看看这个：http: [//javarevisited.blogspot.ro/2012/02/what-is-blocking-methods-in-java-and.html](http://javarevisited.blogspot.ro/2012/02/what-is-blocking-methods-in-java-and.html)

> 1) 如果您正在编写 GUI 应用程序，则可能在 Swing 中永远不会在事件调度程序线程或事件处理程序中调用阻塞方法。例如，如果您在单击按钮时正在读取文件或打开网络连接，请不要在 actionPerformed() 方法上执行此操作，而只需创建另一个工作线程来完成该工作并从 actionPerformed() 返回。这将使您的 GUI 保持响应，但是如果操作需要用户等待而不是考虑使用 invokeAndWait() 进行同步更新，这又取决于设计。

使用多个线程：http: [//javarevisited.blogspot.ro/2011/02/how-to-implement-thread-in-java.html](http://javarevisited.blogspot.ro/2011/02/how-to-implement-thread-in-java.html)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-06-25T08:03:46.317

您将需要使用多线程。如果我在哪里，我会将 GUI 代码和服务器代码分开，当按下按钮时，我只需将服务器代码作为新线程启动。

您的代码基本上冻结了 GUI，因为所有事件都在事件调度程序线程 (EDT) 上执行，该线程负责处理所有 GUI 内容和相应的事件。如果您阻止它，停止它或抛出循环，它将影响其性能。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-06-25T15:08:40.783

试试这些...

`1\. During getting the initial connection delay can occur, so first create and empty` `socket,then try to connect to the server.`

```
 `Socket s = new Socket();`

   `s.connect(new InetSocketAddress("ip_addr",port_nos),1000);` 
```

`2\. And Secondly always keep the Non-UI work out of Your UI thread..`

这是我的服务器示例-客户端通信..

**客户端代码：**

```
public class ClientWala {

    public static void main(String[] args) throws Exception{

        Boolean b = true;
    Socket s = new Socket();
    s.connect(new InetSocketAddress("127.0.0.1", 4444),1000);

    System.out.println("connected: "+s.isConnected());

    OutputStream output = s.getOutputStream();
    PrintWriter pw = new PrintWriter(output,true);

    // to write data to server
    while(b){

        if (!b){

             System.exit(0);
        }

        else {
            pw.write(new Scanner(System.in).nextLine());
        }
    }

    // to read data from server
    InputStream input   = s.getInputStream();
    InputStreamReader isr = new InputStreamReader(input);
    BufferedReader br = new BufferedReader(isr);
    String data = null;

    while ((data = br.readLine())!=null){

        // Print it using sysout, or do whatever you want with the incoming data from server

    }

    }
} 
```

**服务器端代码：**

```
import java.io.*
import java.net.*;

public class ServerTest {

    ServerSocket s;

    public void go() {

        try {
            s = new ServerSocket(44457);

            while (true) {

                Socket incoming = s.accept();
                Thread t = new Thread(new MyCon(incoming));
                t.start();
            }
        } catch (IOException e) {

            e.printStackTrace();
        }

    }

    class MyCon implements Runnable {

        Socket incoming;

        public MyCon(Socket incoming) {

            this.incoming = incoming;
        }

        @Override
        public void run() {

            try {
                PrintWriter pw = new PrintWriter(incoming.getOutputStream(),
                        true);
                InputStreamReader isr = new InputStreamReader(
                        incoming.getInputStream());
                BufferedReader br = new BufferedReader(isr);
                String inp = null;

                boolean isDone = true;

                System.out.println("TYPE : BYE");
                System.out.println();
                while (isDone && ((inp = br.readLine()) != null)) {

                    System.out.println(inp);
                    if (inp.trim().equals("BYE")) {
                        System.out
                                .println("THANKS FOR CONNECTING...Bye for now");
                        isDone = false;
                        s.close();
                    }

                }
            } catch (IOException e) {
                // TODO Auto-generated catch block
                try {
                    s.close();
                } catch (IOException e1) {
                    // TODO Auto-generated catch block
                    e1.printStackTrace();
                }
                e.printStackTrace();
            }

        }

    }

    public static void main(String[] args) {

        new ServerTest().go();

    }

} 
```*

# iphone - 如何在运行时在 plist 文件中给出 MainWindow.xib 文件的名称？

> ID：11185492
> 
> 赞同：0
> 
> 时间：2012-06-25T08:02:01.303
> 
> 标签：iphone

我想通过代码在 plist 文件中给出 MainWindow.xib 文件的名称，我怎么能做到这一点，有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:10:46.030

无法在 pList 中更新 MainWindow.xib。罪过 plist 已加载并将其复制到应用程序包中，您将无权对其进行写访问。

# java - wso2 解决缺少的依赖项

> ID：11185497
> 
> 赞同：2
> 
> 时间：2012-06-25T08:02:10.677
> 
> 标签：java, wso2

我已经成功地在本地主机上的 GReg 服务器上使用 carbon studio、maven 和 m2e 运行了本教程中的代码：

[http://www.smartjava.org/content/access-wso2-registry-programatically](http://www.smartjava.org/content/access-wso2-registry-programatically)

[现在我想按照http://docs.wso2.org/wiki/display/Governance450/Configurable+Governance+Artifacts+with+API](http://docs.wso2.org/wiki/display/Governance450/Configurable+Governance+Artifacts+with+API)上的文档创建一个新的 Artefact

问题是我不知道这些导入要包含哪些库，而我用 maven 构建的项目没有它们。（我使用第一个教程中的 pom.xml）

```
import org.wso2.carbon.governance.api.generic.GenericArtifactManager;
import org.wso2.carbon.governance.api.generic.dataobjects.GenericArtifact; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T09:46:49.867

这是由于治理 API 依赖项不可用而发生的。请将以下依赖项添加到您的 pom.xml

```
`<dependency>
 <groupId>org.wso2.carbon</groupId>
 <artifactId>org.wso2.carbon.governance.api</artifactId>
 <version>4.0.3</version>
 </dependency>` 
```

# jquery - jQuery 不会更改标签的 Css 或者可能找不到标签

> ID：11185500
> 
> 赞同：0
> 
> 时间：2012-06-25T08:02:14.210
> 
> 标签：jquery, css, jquery-selectors

我有下面的代码，我使用`clone()`和`delegate()`. 代码正在一个带有链接的 jQuery UI 对话框中加载。问题是 Ajax 被正确触发，它按预期调用成功方法，但没有显示 Ok 或 noOk div，我的意思是警报触发但 div 的 css 没有改变，你认为我的问题在哪里? 选择器有问题吗？谢谢

```
 <input id="TaskId" name="TaskId" type="hidden" value="18" />
    <div id="MainDiv">
        <div id="toClone">
            <div style="display: inline;">
                <select id="Tasksess">
                    <option value="">لطفاً کار را انتخاب کنيد</option>
                    <optgroup label="کار های جديد">
                            <option value="16"style="">q3fe</option>
                            <option value="18"style="">fjhv j</option>
                            <option value="19"style="">wref</option>
                            <option value="25"style="">ff</option>
                    </optgroup>
                    <optgroup label="کار های در دست اقدام">
                            <option value="13"style="">rr</option>
                            <option value="15"style="">yy</option>
                    </optgroup>
                    <optgroup label="کار های تمام شده">
                            <option value="14"style="">tt</option>
                            <option value="18"style="">fjhv j</option>
                    </optgroup>
                </select>
            </div>
            <div style="display: inline;">
                <select id="Statusess" name="Statusess">
                    <option value="">لطفاً وابستگی را انتخاب کنيد</option>
                    <option value="1">پيشنياز</option>
                    <option value="2">همنياز</option>
                </select>
            </div>
            <div style="display: none;" id="Ok">
                ok
            </div>
            <div style="display: none;" id="noOk">
                تکراری
            </div>
            <div id="loadingGif" style="display: none;">
                <img src="/Content/Images/ajax-loader/253L.gif" alt=""/>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function () {

            var Maindiv = $("#MainDiv");
            var toClone = $("#toClone");

            //$("#Statusess").each(function () {
                $("#MainDiv").delegate('#Statusess', 'change', function () {
                    if ($(this).find(":selected").val() != "") {                    
                        if ($(this).parent().prev().find(":selected").val() != "") {
                            $(this).parent().parent().find("#loadingGif").attr("style", "display: inline;");
                            $.ajax({
                                url: '/ProjectAdmin/Project/AddTaskDependency?MainTaskId=' + $("#TaskId").val() + '&DependentTaskId=' + $(this).parent().prev().find(":selected").val() + '&Status=' + $(this).find(":selected").val(),
                                type: 'GET',
                                success: function (data, status) {
                                    if (data != "0") {
                                        $(this).parent().parent().find("#Ok").css('display', 'inline');
                                        $(this).parent().parent().find("#noOk").css('display', 'none');
  alert("1");
                                    }
                                    else if (data == "0") {
                                        $(this).parent().parent().find("#Ok").css('display', 'none');
                                        $(this).parent().parent().find("#noOk").css('display', 'inline');
  alert("2");
                                    }
                                    var div = $('div:eq(0)', Maindiv).clone();
                                    Maindiv.append(div);
                                }
                            });
                            $(this).parent().parent().find("#loadingGif").attr("style", "display: none;");

                        }
                    }
                });
            //});

        });
    </script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-27T10:49:54.907

我不能肯定地说这是问题所在，但肯定是您应该纠正的问题。如果我正确理解了您的代码，那么您正在克隆`#toClone`div。但是，在该 div 中有许多具有 id 的孩子，包括 your`#Ok`和`#noOk`. *Id 应该是page**唯一***的，因此一旦克隆，您就不再拥有唯一的项目。因此，您应该将它们全部更改为类：

*   `id="toClone"`到`class="toClone"`
*   `id="Tasksess"`到`class="Tasksess"`
*   `id="Statusess"`到`class="Statusess"`
*   `id="Ok"`到`class="Ok"`
*   `id="noOk"`到`class="noOk"`
*   `id="loadingGif"`到`class="loadingGif"`

（但是，我确实有疑问，如果您真的希望`Ok`,`noOk`和`loadingGif`成为`toClone`div 的孩子，或者您只是希望它们成为 div 的唯一孩子`MainDiv`。您的代码似乎如此。如果是后者，那么您需要更改您的关闭`</div>`为您的 div 标记`toClone`不包装独特`Ok`的`noOk`、 和`loadingGif`元素。在这种情况下，您可以将 id 留给那些独特的孩子。）

更改后，您将需要更改其余代码以选择类，而不是 id；但也适用于作为新克隆子级的特定类。更改为类可能会解决您的问题，因为克隆创建的多个 id 项目可能会导致您的 jquery 找不到这些项目。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T01:21:12.823

我相信您的主要问题在于您的选择器，是的。您可以添加额外的警报以在每个引用处吐出值，以查看哪里出错了。

我对这种方法感到恼火，因此我对您的设置进行了一些更改，并且（除了没有您的 AskTaskDependancy 文件我无法测试的 ajax 部分）我相信它可以正常工作，正如您所期望的那样。

首先，[jsFiddle](http://jsfiddle.net/h6qLL/)

注意：我将所有文本更改为英文。这与您的代码无关，我只是不懂英语，因此请随时将其更改回来，因为它对代码没有影响。

**变更日志**

*   `alert()`如果 a`select`的值为空，则添加 error s
*   `$(this).find(":selected").val()`简单地`$(this).val()`
*   camelCase 的几个参考名称
*   MainDiv 中的所有 ID 到类
*   将类名从选择元素移动到包含每个元素的 div
*   `.parent.prev()`to `.parent.children(".tasksess")`（以及其他元素的类似参考方案）
*   设置一个 var 以便于参考每个 div/select
*   将 css() 更改为 attr() （用于隐藏/显示 ok/notOk）
*   我在单独的行上构建了 ajax url，以便于阅读。
*   移动了`clone()`ajax 请求的外部以验证它是否有效（根据需要随时将其移回 - 请注意，如果您不先隐藏它，每个副本中仍会显示 loadingGif）
*   注释掉了测试的ajax请求

**新的 HTML**

```
<input id="TaskId" name="TaskId" type="hidden" value="18" />
<div id="MainDiv">
    <div class="toClone">
        <div class="tasksess" style="display: inline;">
            <select name="tasksess">
                <option value="">Select a Task</option>
                <optgroup label="Group 1">
                        <option value="16"style="">q3fe</option>
                        <option value="18"style="">fjhv j</option>
                        <option value="19"style="">wref</option>
                        <option value="25"style="">ff</option>
                </optgroup>
                <optgroup label="Group 2">
                        <option value="13"style="">rr</option>
                        <option value="15"style="">yy</option>
                </optgroup>
                <optgroup label="Group 3">
                        <option value="14"style="">tt</option>
                        <option value="18"style="">fjhv j</option>
                </optgroup>
            </select>
        </div>
        <div class="statusess" style="display: inline;">
            <select name="statusess">
                <option value="">Select a Status</option>
                <option value="1">opt8</option>
                <option value="2">opt9</option>
            </select>
        </div>
        <div class="ok" style="display: none;">
            Everything looks good!
        </div>
        <div class="notOk" style="display: none;">
            Something went wrong!
        </div>
        <div class="loadingGif" style="display: none;">
            Loading...
            <img src="/Content/Images/ajax-loader/253L.gif" alt=""/>
        </div>
    </div>
</div>​ 
```

**新的 jQuery/JavaScript**

```
$(document).ready(function () {

    var Maindiv = $("#MainDiv");
    var toClone = $(".toClone");

    $("#MainDiv").delegate('.statusess', 'change', function () {
        var thisSel = $(this).children("select");
        var prevSel = $(this).parent().children(".tasksess").children("select");
        var divOk = $(this).parent().children(".ok");
        var divNotOk = $(this).parent().children(".notOk");
        var divLoad = $(this).parent().children(".loadingGif");

        if (thisSel.val() != "") {
            console.log("status changed to val " + thisSel.val());
            if (prevSel.val() != "") {
                console.log("task is val "+prevSel.val());

                divLoad.attr("style", "display: inline;");
                var url = '/ProjectAdmin/Project/AddTaskDependency';
                url += '?MainTaskId=' + $("#TaskId").val();
                url += '&DependentTaskId=' + prevSel.val();
                url += '&Status=' + thisSel.val();
                console.log("URL= "+url);
                /*
                $.ajax({
                    url: url, type: 'GET',
                    success: function (data, status) {
                        if (data != "0") {
                            divOk.attr("style","display:inline;");
                            divNotOk.attr("style","display:none;");
                        }
                        else if (data == "0") {
                            divOk.attr("style","display:none;");
                            divNotOk.attr("style","display:inline;");
                        }
                    }
                });
                */
                divLoad.attr("style", "display: none;");
                var div = $('div:eq(0)', Maindiv).clone();
                Maindiv.append(div);

            } else { alert("Select 1 val is empty"); }
        } else { alert("Select 2 val is empty"); }
    });

});​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T08:11:29.193

以下行不正确：

```
$$("#MainDiv").delegate('#Statusess', 'change', function () { 
```

更改`$$("#MainDiv")`为`$("#MainDiv")`。

# java - Hibernate：在一对多映射中更新父级

> ID：11185504
> 
> 赞同：0
> 
> 时间：2012-06-25T08:02:44.193
> 
> 标签：java, database, hibernate, annotations, mapping

如果我有一个父级及其两个子级，并且删除孤儿处于打开状态，并且如果我删除父级的一个子级然后将其持久化，则休眠应该从数据库中删除一个子级。但是hibernate只运行更新查询，没有删除查询，两个孩子都保留在数据库中。你有什么想法，这背后的可能原因是什么？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T09:12:24.667

我认为问题在于休眠对象状态。当你在做持久化状态时，hibernate 会运行更新查询。最好的办法是获取对象并运行 session.delete()。

# asp.net - 如何在sql中将varchar转换为int

> ID：11185509
> 
> 赞同：1
> 
> 时间：2012-06-25T08:03:10.920
> 
> 标签：asp.net, sql, sql-server-2000

我有桌子叫`ExamInfo`。在该表中，该列`Sub1`的类型为`VARCHAR(50)`。Sub1 列包含**数字**、**空**和**非数字**数据。

我想从 Sub1 中的数据大于 81 的 ExamInfo 中进行选择。

这是我的查询：

```
select * 
from Exam 
where cast(sub1 as int) > 81`. 
```

但它无法投射导致错误。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T08:07:22.817

由于您的列包含混合信息并且转换应用于整个列，因此您需要确保仅尝试转换实际数值：

```
select * 
from Exam 
where case when ISNUMERIC(sub1) =1
            and CHARINDEX('.', sub1) = 0 
            and sub1 >= -2147483648 
            and sub1 <= 2147483647
           then cast(sub1 as int) 
           else 0 
      end > 81 
```

这是有关如何在 SQL Server 中执行此操作的示例。

在这个查询中还有一个注意点，那就是“全球化”。这 '。' 我们正在检查，因为小数点并非到处都用作小数点。如果您有本地化的 SQL Server，您可以通过执行获取正确的小数分隔符

```
DECLARE @decimal_separator char(1)
set @decimal_separator = SUBSTRING(CONVERT(CHAR(3), CONVERT(NUMERIC(2,1), 1.0/2)), 2, 1) 
```

这会将查询变成：

```
DECLARE @decimal_separator char(1)
set @decimal_separator = SUBSTRING(CONVERT(CHAR(3), CONVERT(NUMERIC(2,1), 1.0/2)), 2, 1)

select * 
from Exam 
where case when ISNUMERIC(sub1) =1
            and CHARINDEX(@decimal_separator, sub1) = 0 
            and sub1 >= -2147483648 
            and sub1 <= 2147483647
           then cast(sub1 as int) 
           else 0 
      end > 81 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:05:33.103

看起来 sub1 中的某些数据无法转换为 int。检查非数字数据的数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T09:28:18.033

尝试这个：

```
 SELECT * FROM ExamInfo
 WHERE  CAST( (CASE 
                WHEN ISNUMERIC(Sub1) <> 1 
                    THEN NULL
                --Ignore any decimal value
                WHEN ISNUMERIC(Sub1 + '.0e0') <> 1                  
                    THEN NULL
                WHEN CAST(Sub1 AS NUMERIC(38, 0)) BETWEEN -2147483648 AND 2147483647
                    THEN Sub1       
                ELSE null 
              END) AS INT ) > 81; 
```

# javascript - 如何为 JavaScript 对象设置类名

> ID：11185510
> 
> 赞同：6
> 
> 时间：2012-06-25T08:03:21.543
> 
> 标签：javascript, instanceof, ecmascript-5

我有一些测试课

```
TestKlass = (function() {

    function TestKlass(value) {
      this.value = value != null ? value : 'hello world';
      console.log(this.value);
    }

    return TestKlass;

})();

x = new TestKlass;
x instanceof TestKlass; (gives true) 
```

我有新的空对象

```
y = {}
y instanceof Object 
```

我可以找到任何方法来为**y**设置任何属性，比如这样

```
y.__proto__ = x.__proto__
y.constructor.prototype = x.constructor.prototype 
```

为了得到这个结果

```
y instanceof TestKlass => true 
```

==================================================== ==

**升级版：**

所以。我的主要目标是创建 CLONE 功能。现在我的解决方案对我有用。请看这段代码：

JavaScript JS 对象克隆

```
Object._clone = function(obj) {
  var clone, property, value;
  if (!obj || typeof obj !== 'object') {
    return obj;
  }
  clone = typeof obj.pop === 'function' ? [] : {};
  clone.__proto__ = obj.__proto__;
  for (property in obj) {
    if (obj.hasOwnProperty(property)) {
      value = obj.property;
      if (value && typeof value === 'object') {
        clone[property] = Object._clone(value);
      } else {
        clone[property] = obj[property];
      }
    }
  }
  return clone;
}; 
```

CoffeeScript JS 对象克隆

```
# Object clone
Object._clone = (obj) ->
  return obj if not obj or typeof(obj) isnt 'object'
  clone = if typeof(obj.pop) is 'function' then [] else {}

  # deprecated, but need for instanceof method
  clone.__proto__ = obj.__proto__

  for property of obj
    if obj.hasOwnProperty property
      # clone properties
      value = obj.property
      if value and typeof(value) is 'object'
        clone[property] = Object._clone(value)
      else
        clone[property] = obj[property]

  clone 
```

现在你可以尝试这样做

```
A = new TestKlass
B = Object._clone(A)
B instanceof TestKlass => true 
```

它适用于 Moz FF 13。但我认为它不是跨浏览器。并且**proto**已被弃用。

我认为没有通用的解决方案。但也许它会对某人有所帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:58:15.017

`obj instanceof SomeConstructor`检查是否在 obj 的原型链中的任何位置找到 SomeConstructor。

如果要继承，则需要将 FirstConstructor 的 .prototype 设置为新创建的 SomeConstructor 对象。

```
SomeConstructor = function() {}
FirstConstructor = function() {}
FirstConstroctor.prototype = new SomeConstructor();

var y = new FirstConstroctor();
y instanceof FirstConstructor; // true
y instanceof SomeConstructor ; // true, it bubbles from FirstConstructor.__proto__ to SomeConstructor 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T09:11:11.290

也许您应该先阅读以下[答案](https://stackoverflow.com/a/8096017/783743 "JavaScript继承和构造函数属性 - 代码日志")。您要实现的目标非常简单。但是，在我解释之前，让我们看看您的解决方案：

**解决方案 1**

```
y.__proto__ = x.__proto__; 
```

我不建议这样做，因为该`__proto__`属性现已[弃用](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/Proto "__proto__ - MDN")。[上面的代码在Rhino](http://www.mozilla.org/rhino/ "Rhino - Java 的 JavaScript")中不起作用。

**解决方案 2**

```
y.constructor.prototype = x.constructor.prototype; 
```

这是一个非常糟糕的解决方案。原因是`y.constructor`is 实际上`y.__proto__.constructor`，因为`y`is 一个对象`y.__proto__`与`Object.prototype`. 这意味着这与您本质上是在`y.constructor`更改. 这可能会破坏您页面上的其他代码。我强烈反对这种做法。`Object``prototype``Object`

**解决方案3（我的解决方案）**

您要做的只是更改对象的内部`[[proto]]`属性。由于没有跨平台的方式，所以我们需要使用 hack。一个简单的解决方案是创建一个具有所需`__proto__`属性的新对象，并在其上设置 getter 和 setter 以更改原始对象。如下所示：

```
function setPrototypeOf(object, prototype) {
    var constructor = function () {
        for (var key in object) {
            if (object.hasOwnProperty(key)) {
                (function (key) {
                    Object.defineProperty(this, key, {
                        get: function () {
                            return object[key];
                        },
                        set: function (value) {
                            object[key] = value;
                        },
                        enumerable: true
                    });
                }).call(this, key);
            }
        }
    };

    constructor.prototype = prototype;

    return new constructor;
} 
```

在此之后，您需要做的就是：

```
y = setPrototypeOf(y, TestKlass.prototype); 
```

这是一个工作[小提琴](http://jsfiddle.net/mnVGm/)。

**编辑：**

您的克隆函数的问题在于它只克隆对象和数组。您忘记考虑也通过引用传递的函数。因此，当您克隆具有[关闭](http://en.wikipedia.org/wiki/Closure_(computer_science) "闭包（计算机科学） - 维基百科，免费的百科全书")对象内部状态的方法的对象时，该对象及其克隆将共享相同的内部状态。请参阅以下[小提琴](http://jsfiddle.net/DTdCN/)：

```
function Value(value) {
    this.get = function () {
        alert(value);
    };
    this.set = function (newValue) {
        value = newValue;
    };
}

var a = new Value(5);
var b = Object._clone(a);
b.set(10);                // setting b to 10 also sets a to 10
a.get();                  // alerts 10, should alert 5 
```

JavaScript 中绝对没有办法克隆对象的内部状态，因此在 JavaScript 中克隆对象和数组仅适用于不将闭包作为方法公开的对象。

要了解有关在 JavaScript 中克隆对象的问题的更多信息，请阅读此[答案](https://stackoverflow.com/a/728694/783743 "在 Javascript 中复制对象_javascript_帮酷编程问答")。单击以下[链接](http://tinyurl.com/JSCopyObject "jquery - 克隆 JavaScript 对象的最有效方法是什么？ - 堆栈溢出")以阅读 John Resig 的答案。

# android - 即使在加载视图后，我的 ProgressDialog 也不会关闭。

> ID：11185511
> 
> 赞同：1
> 
> 时间：2012-06-25T08:03:30.623
> 
> 标签：android, android-dialog

我想在我的视图加载之前显示一个进度对话框。首先，我在 onCreate() 中编写了代码，但在这种情况下不会出现对话框。所以我在 onResume() 中写了它，但在这种情况下，即使在视图加载后它也不会消失。谁能告诉这里出了什么问题？

```
 protected void onResume() {
    // TODO Auto-generated method stub

    super.onResume();
    dialog = ProgressDialog.show(this, "", "Please wait...", true); 
    //dialog.cancel();
    new Thread() 
    {
      public void run() 
      {

         try
           {

            sleep(1500);

      // do the background process or any work that takes time to see progress dialog

           }  
        catch (Exception e)
        {
            Log.e("tag",e.getMessage());
        }
    // dismiss the progressdialog   
     dialog.dismiss();
     }
    }.start();
    citySelected.setText(fetchCity);
    spinner.setSelection(getBG);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:08:48.010

您无法从其他线程更新 UI（在主 UIthread 中）。如果要在后台运行任何查询，可以使用 AsyncTask。

在 onPreExecute 方法中，显示对话框和 onPostExecute 可以关闭对话框。

如果要使用 Thread，则使用处理程序更新 UI。

使用异步任务

```
public class MyAsyncTask extends AsyncTask<String, Void, String> {
    ProgressDialog dialog = new ProgressDialog(ActivityName.this);
    @Override
    protected void onPreExecute() {
        dialog.show();
        super.onPreExecute();
    }

    @Override
    protected String doInBackground(String... params) {
        try {
            Thread.sleep(3000);
        } catch (InterruptedException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        return null;
    }

    @Override
    protected void onPostExecute(String result) {
        dialog.dismiss();
        super.onPostExecute(result);
    }

} 
```

在 Activity 的 onCreate 方法中，

```
MyAsyncTask task = new MyAsyncTask();
    task.execute(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:06:08.060

您可以使用异步任务。它比线程好

```
private class DownloadingProgressTask extends
        AsyncTask<String, Void, Boolean> {

    private ProgressDialog dialog = new ProgressDialog(ShowDescription.this);
    protected void onPreExecute() {
         this.dialog.setMessage("Please wait");
         this.dialog.show();

    }
    protected Boolean doInBackground(final String... args) {
        try {
                downloadFile(b.getString("URL"));
                return true;
        } catch (Exception e) {
                Log.e("tag", "error", e);
                return false;
        }
    }
    @Override
    protected void onPostExecute(final Boolean success) {

         if (dialog.isShowing()) {
         dialog.dismiss();
         }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T08:13:04.677

更好地使用`Asynctask`......但如果你仍然想要相同或想要`know the solution only`那么可以尝试

```
new Thread() 
    {
      public void run() 
      {

         try
           {

            sleep(1500);

      // do the background process or any work that takes time to see progress dialog

           }  
        catch (Exception e)
        {
            Log.e("tag",e.getMessage());
        }

  YourActivity.this.runOnUIThread(new Runnable(){
                         @Override
                         public void run(){
                             // dismiss the progressdialog   
                              dialog.dismiss();
                        });

     }
    }.start(); 
```

# javascript - 我在 javascript 中的自动执行匿名函数有什么问题

> ID：11185513
> 
> 赞同：-1
> 
> 时间：2012-06-25T08:03:49.907
> 
> 标签：javascript, function, anonymous

我尝试写一个javascript`Self-Executing Anonymous Function`

```
window.App = window.App || {}

    (function (global) {
        global.test = function () {
            console.log('test');
        }
    })(App);

$(function () {
    App.test();
}) 
```

但火虫告诉我：`({}) is not a function`

然后我尝试搬进去`(app)`，比如：

```
(function (global) {
    global.test = function () {
        console.log('test');
    }
}(App)); 
```

然后萤火虫告诉我：

```
App is not defined 
```

那么我的代码有什么问题？我怎样才能以正确的方式做到这一点？

这是[演示](http://jsfiddle.net/hh54188/rhdkU/1/)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-25T08:05:28.200

试试这个：

```
window.App = window.App || {}; 
```

你在那里少了一个分号！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:10:01.393

在第一行添加分号

```
window.App = window.App || {}; 
```

JS 认为第 3 行的括号是第 1 行的新空对象的一部分。

# python - 条件参数传递的 Pythonic 解决方案

> ID：11185516
> 
> 赞同：44
> 
> 时间：2012-06-25T08:03:51.677
> 
> 标签：python

我有一个带有两个可选参数的函数：

```
def func(a=0, b=10):
    return a+b 
```

在我的代码的其他地方，我正在做一些条件参数传递，例如：

```
if a and b:
   return func(a, b)
elif a:
   return func(a)
elif b:
   return func(b=b)
else:
   return func() 
```

无论如何要简化这种模式中的代码？

**编辑**：

假设我**不允许在**内部实现默认参数逻辑`func`。

我可能有几个函数，比如`func`: `func1`，`func2`并且`func3`都包含

```
a = a or 0
b = b or 10 
```

陈述。

但我正在调用这一系列函数来消除重复。（使用装饰器）

* * *

## 回答 #1

> 赞同：63
> 
> 时间：2012-06-25T09:12:51.513

如果您不想更改任何内容，`func`那么明智的选择是将参数的字典传递给函数：

```
>>> def func(a=0,b=10):
...  return a+b
...
>>> args = {'a':15,'b':15}
>>> func(**args)
30
>>> args={'a':15}
>>> func(**args)
25
>>> args={'b':6}
>>> func(**args)
6
>>> args = {}
>>> func(**args)
10 
```

要不就：

```
>>>func(**{'a':7})
17 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T08:13:17.763

根据现在已删除的对检查的目的是针对变量`None`而不是错误的问题的评论，进行更改`func`以使其处理以下参数`None`：

```
def func(a=None, b=None):
   if a is None:
      a = 0
   if b is None:
      b = 10 
```

然后`func(a, b)`每次都打电话。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-25T08:21:19.887

您可以添加一个装饰器来消除`None`参数：

```
def skip_nones(fun):
    def _(*args, **kwargs):
        for a, v in zip(fun.__code__.co_varnames, args):
            if v is not None:
                kwargs[a] = v
        return fun(**kwargs)
    return _

@skip_nones
def func(a=10, b=20):
    print a, b

func(None, None) # 10 20
func(11, None)   # 11 20
func(None, 33)   # 10 33 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-25T08:13:09.350

为了解决您的具体问题，我会这样做：

```
args = {'a' : a, 'b' : b}
for varName, varVal in args.items():
    if not varVal:
        del args[varName]
f(**args) 
```

但最 Pythonic 的方法是使用 None 作为函数中的默认值：

```
f(a=None, b=None):
    a = 10 if a is None else a
    ... 
```

然后打电话`f(a, b)`

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-25T08:13:57.437

默认情况下，Python 中的所有方法都采用[可变参数](http://docs.python.org/tutorial/controlflow.html#arbitrary-argument-lists)。

当你在方法的签名中定义一个参数时，你明确地使它成为必需的。在您的代码段中，您正在做的是给它一个默认值 - 而不是让它们成为可选的。

考虑以下：

```
>>> def func(a,b):
...    a = a if a else 0
...    b = b if b else 10
...    return a+b
...
>>> a = b = None
>>> func(a,b)
10
>>> a = 5
>>> b = 2
>>> func(a,b)
7
>>> func()
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: func() takes exactly 2 arguments (0 given) 
```

在此代码段中，两者`a`都是`b`必需的*，*因为我没有定义任何默认值。它们不是*可选*的。

但是在您的代码段中，因为您在方法签名中为它们提供了默认值，所以它们*看起来*是可选的，但实际上它们只是分配了默认值。

```
>>> def func(a=0,b=10):
...    return a+b
...
>>> func()
10 
```

您可以通过检查方法主体内的参数列表来确认这一点：

```
>>> def func(a=b,b=10):
...    print locals().keys()
...
>>> func()
['a', 'b'] 
```

让你的函数接受*任意*数量的参数的一种方法（换句话说，使它们都是可选的）：

```
>>> def func(*args,**kwargs):
...    print len(args),args
...    print len(kwargs),kwargs
...
>>> func("hello","world",a=5,b=10)
2 ('hello', 'world')
2 {'a': 5, 'b': 10}
>>> func()
0 ()
0 {}
>>> func(1,2)
2 (1, 2)
0 {}
>>> func(a)
1 (5,)
0 {}
>>> func(foo="hello")
0 ()
1 {'foo': 'hello'} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-25T08:08:12.400

为什么不将该逻辑传递给函数？

```
def func(a, b):
    a = a or 0
    b = b or 10
    return a + b 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-25T08:35:21.457

要回答您的字面问题：

```
func(a or 0, b or 10) 
```

**编辑：** 请参阅评论为什么这不能回答问题。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-05-22T20:44:32.343

您可以使用三元 if-then 运算符将条件论证传递给函数 [https://www.geeksforgeeks.org/ternary-operator-in-python/](https://www.geeksforgeeks.org/ternary-operator-in-python/)

例如，如果您想在传递之前检查密钥是否确实存在，您可以执行以下操作：

```

    def func(arg):
        print(arg)

    kwargs = {'name':'Adam')

    func( kwargs['name'] if 'name' in kwargs.keys() else '' )       #Expected Output: 'Adam'
    func( kwargs['notakey'] if 'notakey' in kwargs.keys() else '' ) #Expected Output: ''

```

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2012-06-25T08:35:50.313

这可能有效：

```
def f(**kwargs):
    a = get(kwargs, 0)
    b = get(kwargs, 10)
    return a + b 
```

# ruby - 为什么 Test::Unit.test_order= 没有按预期工作？

> ID：11185517
> 
> 赞同：4
> 
> 时间：2012-06-25T08:04:01.113
> 
> 标签：ruby, unit-testing

有一个问题[在 Ruby 中，如何控制 Test::Unit 测试的运行顺序？](https://stackoverflow.com/questions/1772890/in-ruby-how-to-i-control-the-order-in-which-testunit-tests-are-run)并想通过参考来回答`test_order = :defined`，

的[文档`Test::Unit::TestCase.test_order`](http://test-unit.rubyforge.org/test-unit/en/Test/Unit/TestCase.html#test_order=-class_method)说：

> 设置当前测试顺序。
> 
> 以下是可用订单：
> 
> *   :字母默认值。测试按字母顺序排序。
> *   :random 测试以随机顺序排序。
> *   :defined 测试按定义的顺序排序。

所以我认为这会按照方法定义的顺序执行测试：

```
gem 'test-unit'
require 'test/unit'
class Mytest < Test::Unit::TestCase
  test_order = :defined
  #~ test_order = :random
  #~ test_order = :alphabetic #default
  def test_b
    p :b
  end
  def test_a
    p :a
  end
  def test_c
    p :c
  end
end 
```

但是当我执行它时（用 test-unit 2.4.9 和 2.5 测试），我得到了字母顺序：

```
Started
:a
.:b
.:c
. 
```

有什么问题？我的代码中是否缺少某些内容，文档是否错误或是否存在错误？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-12T21:13:39.603

我发现了解决方案，或者更好的是我的错：

```
gem 'test-unit'
require 'test/unit'
class Mytest < Test::Unit::TestCase
  self.test_order = :defined
  #~ self.test_order = :random
  #~ self.test_order = :alphabetic #default
  def test_b
    p :b
  end
  def test_a
    p :a
  end
  def test_c
    p :c
  end
end 
```

区别：我`test_order = :defined`在课堂上使用过。发生了什么：创建了一个局部变量`test_order`。

用`self.test_order = :defined`方法`test_order=`调用。

# liferay - 用于创建 Web 内容的 Liferay portlet

> ID：11185519
> 
> 赞同：2
> 
> 时间：2012-06-25T08:04:06.467
> 
> 标签：liferay, portlet

我使用 Liferay 来管理网页内容。我希望我的最终用户创建 Web 内容，但我不希望他们去后台管理它。

所以我想要一个可以在公共页面中设置的 portlet，它允许最终用户直接在公共页面中创建 web 内容。

是否有使用 Liferay 6.1 的简​​单方法或需要代码？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T08:53:48.193

您是否尝试过 OOTB Web 内容显示 portlet？您可以在任何页面上添加 Web 内容显示 portlet，并且可以在该 portlet 本身中创建内容，在发布时（如果不涉及工作流）将在页面上可见。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T13:48:22.757

如果 Sandeep 的答案不是您想要的（但我怀疑是），那么您可以编写一个自定义 portlet，使用 Liferay 的 JournalArticleLocalServiceUtil 方法与 Liferay Web Content 进行交互。但是我会先接受 Sandeep 的建议，因为它不涉及编码！:)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-26T09:48:02.647

如果您想在控制面板中开发另一个 Web 内容 portlet。您必须创建自定义 portlet 并使用数据库表，如 JournalArticle、JournalArticleImage、JournalArticleStructure 和 JournalArticleTemplate。

# perl - 如何验证（或转义）用户的姓名字段，以免破坏我的电子邮件发送软件？

> ID：11185521
> 
> 赞同：6
> 
> 时间：2012-06-25T08:04:15.997
> 
> 标签：perl, security, email, web

发送消息时，我可以有这样的东西来设置 To 字段：（在 Perl 中）

```
To: "$name" <$email> 
```

在 Perl 中，我可以使用 Email::Valid 验证 $email 部分，但是如何确保 $name 部分接受 Unicode 字符但不能被欺骗发送到多个地址或做一些其他讨厌的事情？例如这个

```
$email = 'bar@me.com';
$name = 'Foo" <foo@other.com>, "Bar'; 
```

似乎创建了一个像这样的 To 字段：

```
To: "Foo" <foo@other.com>, "Bar" <bar@me.com> 
```

向两个地址发送电子邮件。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-25T08:20:13.970

```
use Email::Address qw();
use Encode qw(encode);

s{\R}{}g for $email, $name; # newlines be-gone
my $to = Email::Address->new($name => $email)->format;
print encode 'MIME-Header', $to; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T08:31:17.187

对此可能没有简单的解决方案。我建议手动使用保守的解决方案。

```
/\p{L}/ 
```

匹配任何语言的任何 unicode 字母。根据您的软件的文化背景，随意添加点或破折号。

# jquery - 防止jQuery中的滚动事件

> ID：11185522
> 
> 赞同：5
> 
> 时间：2012-06-25T08:04:18.483
> 
> 标签：jquery, scroll

是否可以防止 jQuery 中的滚动事件？

我试过这段代码，但没有用。

```
$('*').scroll(function(event){
  event.stopPropagation();
  event.preventDefault();
  return false;
}) 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-26T11:16:49.997

您可以使用以下方法禁用某些元素区域内的滚动：

```
$("element,element2").bind("touchmove",function(e){
    e.preventDefault();
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T08:19:30.050

只需将`body`CSS 设置为禁用滚动即可。

```
body {    
   overflow: hidden; 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T12:31:38.573

好吧..我处理了错误的事件。touchmove 正是我想要的。所以

```
$('body').bind('touchmove', function(e){
  e.preventDefault();
}); 
```

# arrays - 将 R 数组列表与暗名称一起绑定？

> ID：11185524
> 
> 赞同：2
> 
> 时间：2012-06-25T08:04:30.523
> 
> 标签：arrays, r, list

所以我有一个数组列表，非常大。简化版本如下所示：

```
> array_list <- list ( 'a1' = matrix(c(1,2,3,4),c(2,2)),
                       'a2' = matrix(c(5,6,7,8),c(2,2))) 
```

我可以用它`abind`来制作一个 3 维数组：

```
> array3 <- abind(array_list, along=0) 
```

我可以给出维度坐标名称：

```
> array3 <- abind(array_list, along=0, 
                  new.names=list(c('one','two'), c('a','b'), c('u','v')))
> str(array3)
 num [1:2, 1:2, 1:2] 1 5 2 6 3 7 4 8
 - attr(*, "dimnames")=List of 3
  ..$ : chr [1:2] "one" "two"
  ..$ : chr [1:2] "a" "b"
  ..$ : chr [1:2] "u" "v" 
```

但我不在乎坐标。我真正想做的是给维度本身命名（就像列表一样）。也就是说，像这样：

```
array3 <- abind(array_list, along=0, dim.names=c('array', 'x', 'y')
R> str(array3)
 num [1:2, 1:2, 1:2] 1 5 2 6 3 7 4 8
 - attr(*, "dimnames")=List of 3
  ..$ array: chr [1:2] "a1" "a2"
  ..$ x    : NULL
  ..$ y    : NULL 
```

（注意 之间的位`$ ... :`）

这可能吗？如果是这样，怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:19:31.013

由于`dimnames()`返回一个列表，您可以使用它`names(dimnames(x)) <- ...`来更改维度的名称。

例如，更改内置数据集的名称`Titanic`：

```
str(Titanic)
 table [1:4, 1:2, 1:2, 1:2] 0 0 35 0 0 0 17 0 118 154 ...
 - attr(*, "dimnames")=List of 4
  ..$ Class   : chr [1:4] "1st" "2nd" "3rd" "Crew"
  ..$ Sex     : chr [1:2] "Male" "Female"
  ..$ Age     : chr [1:2] "Child" "Adult"
  ..$ Survived: chr [1:2] "No" "Yes" 
```

现在更改名称`dimnames`：

```
names(dimnames(Titanic)) <- paste0("Dim_", 1:4) 
```

结果：

```
str(Titanic)
 table [1:4, 1:2, 1:2, 1:2] 0 0 35 0 0 0 17 0 118 154 ...
 - attr(*, "dimnames")=List of 4
  ..$ Dim_1: chr [1:4] "1st" "2nd" "3rd" "Crew"
  ..$ Dim_2: chr [1:2] "Male" "Female"
  ..$ Dim_3: chr [1:2] "Child" "Adult"
  ..$ Dim_4: chr [1:2] "No" "Yes" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:04:30.973

在为这个问题编写代码的过程中（正如我正在完成的那样）我想出了如何去做，所以我想我会发布它，以造福他人：

```
> array3 <- abind(array_list, along=0)
> dimnames <- c('array', 'x', 'y')
> str(array3)
 num [1:2, 1:2, 1:2] 1 5 2 6 3 7 4 8
 - attr(*, "dimnames")=List of 3
  ..$ array: NULL
  ..$ x    : NULL
  ..$ y    : NULL 
```

这会删除坐标名称，但这对我的目的无关紧要。如果这对您很重要，您可以执行以下操作：

```
> array3 <- abind(array_list, along=0)
> array_names <- dimnames(array3)
> names(array_names) <- c('array', 'x', 'y')
> dimnames(array3) <- array_names
> str(array3)
 num [1:2, 1:2, 1:2] 1 5 2 6 3 7 4 8
 - attr(*, "dimnames")=List of 3
  ..$ array: chr [1:2] "a1" "a2"
  ..$ x    : NULL
  ..$ y    : NULL 
```

# jquery - 上次不显示后的jquery

> ID：11185526
> 
> 赞同：1
> 
> 时间：2012-06-25T08:04:34.307
> 
> 标签：jquery

我正在创建一个 jquery ajax 应用程序.. 我被卡住了

我上传了图片以便更好地理解。

图 1

![在此处输入图像描述](../Images/1a0680e35a921c44702bad531b5a24d4.png)

图 2

![在此处输入图像描述](../Images/61fb240f843fdd9a5facfe48ed23aa45.png)

下面是我用于检索获取数据的代码

```
$.post("ajx_dynamic.php", {st: start1, ed: end1}, function(return_data2){
    $(".main_div_class .single_div_class").last().after(html(return_data2));
}); 
```

陈述是否正确

```
$(".main_div_class .single_div_class").last().after(html(return_data2)); 
```

因为它在最后一个 div 之后没有显示结果。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T08:06:23.723

我认为应该是

```
$(".jobs_container_class .single_job_class").last().after(return_data2); 
```

**或者**

```
$(return_data2).insertAfter(".jobs_container_class .single_job_class:last") 
```

# hadoop - 什么是 Hive：从 org.apache.hadoop.hive.ql.exec.MapRedTask 返回代码 2

> ID：11185528
> 
> 赞同：73
> 
> 时间：2012-06-25T08:04:58.940
> 
> 标签：hadoop, mapreduce, hive

我正进入（状态：

```
FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.MapRedTask 
```

在尝试使用 hive 控制台中的命令创建分区表的副本​​时：

```
CREATE TABLE copy_table_name LIKE table_name;
INSERT OVERWRITE TABLE copy_table_name PARTITION(day) SELECT * FROM table_name; 
```

我最初遇到了一些语义分析错误，不得不设置：

```
set hive.exec.dynamic.partition=true
set hive.exec.dynamic.partition.mode=nonstrict 
```

虽然我不确定上述属性是做什么的？

来自 hive 控制台的完整输出：

```
Total MapReduce jobs = 1
Launching Job 1 out of 1
Number of reduce tasks determined at compile time: 1
In order to change the average load for a reducer (in bytes):
  set hive.exec.reducers.bytes.per.reducer=<number>
In order to limit the maximum number of reducers:
  set hive.exec.reducers.max=<number>
In order to set a constant number of reducers:
  set mapred.reduce.tasks=<number>
Starting Job = job_201206191101_4557, Tracking URL = http://jobtracker:50030/jobdetails.jsp?jobid=job_201206191101_4557
Kill Command = /usr/lib/hadoop/bin/hadoop job  -Dmapred.job.tracker=master:8021 -kill job_201206191101_4557
2012-06-25 09:53:05,826 Stage-1 map = 0%,  reduce = 0%
2012-06-25 09:53:53,044 Stage-1 map = 100%,  reduce = 100%
Ended Job = job_201206191101_4557 with errors
FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.MapRedTask 
```

* * *

## 回答 #1

> 赞同：124
> 
> 时间：2012-06-28T16:07:18.853

这不是真正的错误，这里是如何找到它：

转到 hadoop jobtracker web-dashboard，找到失败的 hive mapreduce 作业并查看失败任务的日志。这会告诉你**真正的**错误。

控制台输出错误是无用的，主要是因为它没有查看单个作业/任务来提取真正的错误（多个任务中可能存在错误）

希望有帮助。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2015-04-07T19:14:08.423

我知道我在这个线程上迟到了 3 年，但是仍然为将来的类似案件提供 2 美分。

我最近在集群中遇到了同样的问题/错误。JOB 总是会减少 80% 以上，并因同样的错误而失败，执行日志中也没有任何内容。经过多次迭代和研究，我发现在加载的大量文件中，有些不符合为基表提供的结构（用于将数据插入分区表的表）。

这里要注意的一点是，每当我对分区列中的特定值执行选择查询或创建静态分区时，它都可以正常工作，因为在这种情况下会跳过错误记录。

TL；DR：检查传入数据/文件的结构是否不一致，因为 HIVE 遵循 Schema-On-Read 理念。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-09-09T08:56:17.453

在此处添加一些信息，因为我花了一段时间才在 HDInsight（Azure 的 Hadoop）中找到 hadoop jobtracker web-dashboard，一位同事终于向我展示了它在哪里。头节点上有一个名为“Hadoop Yarn Status”的快捷方式，它只是指向本地 http 页面的链接（在我的例子中是[http://headnodehost:9014/cluster](http://headnodehost:9014/cluster)）。打开仪表板后是这样的：

[![在此处输入图像描述](../Images/098dfb5480f0c7df704a64f076f69ef7.png)](https://i.stack.imgur.com/UDG2H.png)

在该仪表板中，您可以找到失败的应用程序，然后单击它后，您可以查看各个地图的日志并减少作业。

在我的情况下，reducer 中的内存似乎*仍然*不足，即使我已经在配置中启动了内存。出于某种原因，它没有出现我之前遇到的“java outofmemory”错误。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-04-10T10:55:05.620

我从 S3 的 EMR 输出路径中删除了 _SUCCESS 文件，它运行良好。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2017-09-14T06:58:26.753

最佳答案是正确的，错误代码没有给你太多信息。我们在团队中看到此错误代码的常见原因之一是查询没有得到很好的优化。一个已知的原因是当我们在左侧表的大小大于右侧表的情况下进行内部连接时。在这种情况下，交换这些表通常可以解决问题。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2017-09-15T08:43:17.727

当我将数据插入指向 Elastic 搜索集群的 HIVE 外部表时，我也遇到了同样的错误。

我将旧 JAR 替换`elasticsearch-hadoop-2.0.0.RC1.jar`为`elasticsearch-hadoop-5.6.0.jar`，一切正常。

我的建议是请根据弹性搜索版本使用特定的 JAR。如果您使用较新版本的弹性搜索，请不要使用较旧的 JAR。

感谢这篇文章[Hive-Elasticsearch Write Operation #409](https://github.com/elastic/elasticsearch-hadoop/issues/409)

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-03-29T15:02:19.177

即使我遇到了同样的问题 - 在仪表板上检查时，我发现以下错误。由于数据来自 Flume 并且在两者之间中断，因此可能是少数文件中存在不一致。

```
Caused by: org.apache.hadoop.hive.serde2.SerDeException: org.codehaus.jackson.JsonParseException: Unexpected end-of-input within/between OBJECT entries 
```

在更少的文件上运行它可以工作。格式一致性是我的原因。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2020-05-07T20:33:15.690

我遇到了同样的问题，因为我没有权限查询我试图查询的数据库。

如果您没有查询表/数据库的权限，除了`Return Code 2 from org.apache.hadoop.hive.ql.exec.MapRedTask`错误之外，您还会看到 Cloudera Manager 甚至没有注册您的查询。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-06-15T12:57:30.097

连接两个表时收到此错误。一个表很大，另一个表很小，可以放入磁盘内存中。在这种情况下，使用

`set hive.auto.convert.join = false`

这可能有助于摆脱上述错误。有关此问题的更多详细信息，请参阅以下主题

1.  [Hive Map-Join 配置之谜](https://stackoverflow.com/questions/54726128/hive-map-join-configuration-mystery)
2.  [Hive.auto.convert.join = true 这个有什么意义？](https://www.quora.com/Hive-auto-convert-join-true-what-is-the-significance-of-this)

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2022-01-05T11:09:21.450

我在直线中创建配置单元表时遇到了同样的错误，然后尝试通过引发实际错误的 spark-shell 创建。在我的情况下，错误是 hdfs 目录的磁盘空间配额。

> org.apache.hadoop.ipc.RemoteException：/user/hive/warehouse/XXX_XX.db 的磁盘空间配额已超出：配额 = 6597069766656 B = 6 TB 但磁盘空间已消耗 = 6597493381629 B = 6.00 TB

# forms - Symfony2 Forms：是否可以以“非常规方式”绑定表单？

> ID：11185530
> 
> 赞同：1
> 
> 时间：2012-06-25T08:05:10.247
> 
> 标签：forms, symfony

想象一下这样的场景：我们公司有一个员工在“玩”图形、css、html等。
我们的新项目将在 symfony2 下诞生，所以我们正在尝试一些愚蠢但“真实”的东西（比如来自 db 的身份验证、从表单提交数据并将其持久化到 db 等等..）

**问题**

据我所知，从我在网站上找到的 symfony2 “书”中了解到（[您可以在此处找到）](http://symfony.com/doc/current/book/index.html)，有一种“自动”的方式来创建和呈现表单：

1）以这种方式将表单构建为控制器

```
$form = $this->createFormBuilder($task)
       ->add('task','text'),
       ->add('dueDate','date'),
       ->getForm();

return $this->render('pathToBundle:Controller:templateTwig',
        array('form'=>$form->createview()); 
```

2）进入`templateTwig`渲染模板

```
{{ form_widget(form) }} // or single rows method 
```

3）进入一个控制器（同样有一个可以提交数据的路由），取回提交的信息

```
if($rquest->getMethod()=='POST'){
 $form->bindRequest($request);
 /* and so on */
} 
```

**返回场景**

我们的图形员工不想访问控制器、编写 php 和其他类似的东西。因此，他将使用“非常规”（从 symfony2 的角度来看，但从 HTML 的角度来看是传统的）方法编写一个 twig 模板：

```
/* into twig template */
<form action="{{ path('SestanteUserBundle_homepage') }}" method="post" name="userForm">
    <div>
        USERNAME: <input type="text" name="user_name" value="{{ user.username}}"/>
    </div>
    <div>
        EMAIL: <input type="text" name="user_mail" value="{{ user.email }}"/>
    </div>
    <input type="hidden" name="user_id" value="{{ id }}" />
    <input type="submit" value="modifica i dati">
  </form> 
```

现在，如果进入处理数据提交的控制器，我们会执行类似的操作

```
public function indexAction(Request $request)
    {
     if($request->getMethod() == 'POST'){ // sono arrivato per via di un submit, quindi devo modificare i dati prima di farli vedere a video
      $defaultData = array('message'=>'ho visto questa cosa in esempio, ma non capisco se posso farne a meno');
      $form = $this->createFormBuilder($defaultData)
           ->add('user_name','text')
           ->add('user_mail','email')
           ->add('user_id','integer')
           ->getForm();
      $form->bindRequest($request); //bindo la form ad una request
      $data = $form->getData(); //mi aspetto un'array chiave=>valore
      /* .... */ 
```

我们预计`$data`它将包含一个数组，其中包含来自提交表单的键、值。
我们发现这不是真的。在谷歌搜索了一段时间并尝试了其他“坏”想法之后，我们被冻结了。

所以，如果你有一个不能直接处理 php 代码的“图形办公室”，我们如何从表单连接到控制器？

**更新**
似乎 Symfony2 对表单的字段名称和查找使用不同的约定，一旦您提交了该约定。特别是，如果我的表单名称为`addUser`且字段名称为`userName`，则该字段的名称`AddUser[username]`可能为“动态”查找方法，该方法将提取表单名称、字段名称、连接它们并查找值。
可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-27T00:52:09.893

您可以强制 Symfony2 设置表单字段的名称，但我不建议这样做：`$formBuilder->add('dummyfield', 'text', array( 'attr' => array('name' => 'yournamehere') ) );`

或者（也是一个坏主意），你可以这样做，它甚至不会让你使用表单 API：`$this->getRequest()->get('whatever_the_field_name_is');`

或者，您可以在绑定之前根据 Sf2 生成的名称将元素添加到请求中（复制存在的值）。

或者，您可以使用[此处](http://api.symfony.com/2.0/Symfony/Component/Form/Form.html#method_bind)记录的表单组件的绑定方法（而不是 bindRequest） 。

但说真的……只需使用 formbuilder api。你的生活会更轻松，这不就是框架的用途吗？:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T10:56:58.507

Symfony 2 基于 twig 作为模板语言。让他使用它：

```
{{ form_label(form.field) }} 
```

会产生这样的东西：

```
<label for="field">field</label> 
```

您可以使用所有可用功能来呈现表单：

```
{{ form_label() }}
{{ form_widget() }}
{{ form_errors() }} 
```

如果您想自定义这些函数呈现的内容，您可以覆盖[Symfony2 文档](http://symfony.com/doc/current/cookbook/form/form_customization.html)中定义的 twig 模板。

否则，如果你真的想要**丑陋**的东西，你可以使用这种语法：

```
{{ myform.vars.value.myField }} 
```

# playframework-2.0 - play 2.0 如何从 Model 访问错误信息

> ID：11185537
> 
> 赞同：1
> 
> 时间：2012-06-25T08:05:55.097
> 
> 标签：playframework-2.0

我已经定义了一些错误消息，我的问题是，如何正确访问它们？！

模型：

```
@Entity
public class Task extends Model {

    @Constraints.Required(message="Start Date is required")
    public Date start;

} 
```

现在，如果您在我的控制器 save() 方法中遇到验证错误，如您所见：

```
public class Tasks extends Controller {

    public static Result save() {
        Form<Task> filledForm = taskForm.bindFromRequest();
        if (filledForm.hasErrors()) {
            return badRequest(
                    create.render("create", filledForm)
        }
    }

} 
```

现在，在我看来：

```
@if(taskForm.hasErrors) {
        <div class="alert alert-error">
            @taskForm.errors
        </div>
} 
```

我在屏幕上收到如下错误消息：

```
{name=[ValidationError(start, Start Date is required,[])]} 
```

那么，我现在如何直接访问“需要开始日期”消息？我认为“@taskForm.erros”是一张地图，但我不确定。

非常感谢你。

干杯，

马可

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:17:46.250

该[`errors()`](https://github.com/playframework/Play20/blob/master/framework/src/play-java/src/main/java/play/data/Form.java#L474)方法确实返回 a `Map`，具体来说是 a `Map<String, List<ValidationError>>`。

要直接访问消息，请使用 方法[`error(String key)`](https://github.com/playframework/Play20/blob/master/framework/src/play-java/src/main/java/play/data/Form.java#L481)。所以在这种情况下使用`@taskForm.get("start")`

# java - 为什么我没有关于 pagecontext 的异常？

> ID：11185540
> 
> 赞同：0
> 
> 时间：2012-06-25T08:06:18.283
> 
> 标签：java, jsp, jakarta-ee, websphere-8

我收到此错误消息

```
pageContext cannot be resolved 
```

但我没有可变的页面上下文。这是代码（我知道这里还有其他问题超出了这个问题的范围）：

```
<%@page import="se.prv.pandora.arendeprocess.util.PandoraPersonHandler"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@ taglib uri="http://java.sun.com/jstl/fmt" prefix="fmt"%>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<%@ page import="org.apache.log4j.Logger" %>
<%@ page import="java.util.List" %>
<%@ page import="java.util.ArrayList" %>
<%@ page import="java.util.HashMap" %>
<%@ page import="java.util.Set" %>
<%@ page import="java.util.Map" %> 
<%@ page import="se.prv.pandora.arendeprocess.general.ArendeProcessLocator"%>
<%@ page import="se.prv.pandora.arendeprocess.page.ArendeProcessPageController" %>
<%@ page import="se.prv.pandora.arendeprocess.page.GrunduppgifterPageController" %>
<%@ page import="se.prv.pandora.arendeprocess.obj.Navigation" %>
<%@ page import="se.prv.pandora.arendeprocess.obj.AnsokanInfo" %>
<%@ page import="se.prv.pandora.arendeprocess.obj.Oversikt" %>
<%@ page import="se.prv.pandora.arendeprocess.obj.PersonInfo" %>
<%@ page import="se.prv.pandora.arendeprocess.obj.PersonInfoIndex" %>
<%@ page import="se.prv.pandora.arendeprocess.obj.Land" %>
<%@ page import="se.prv.pandora.arendeprocess.obj.ArendesokInfo" %>

<%@ page import="se.prv.pandora.arendeprocess.entity.Prioritet" %>
<%@ page import="se.prv.pandora.arendeprocess.util.PandoraFieldConstants" %>
<%@ page import="se.prv.pandora.arendeprocess.entity.Deposition" %>
<%@ page import="se.prv.pandora.arendeprocess.util.ArendeComparatorManager" %>
<%@ page import="se.prv.pandora.arendeprocess.obj.ArendeSearchAdmin" %>
<%@ page import="se.prv.framework.forms.IFormData" %>
<%@ page import="se.prv.framework.general.Action" %>
<%@ page import="java.util.Iterator" %>
<%@ page import="java.text.DateFormat" %>
<%@ page import="java.text.SimpleDateFormat" %>
<%@page import="se.prv.pandora.arendeprocess.obj.ArendeProcessSessionData"%>
<%@ page import="se.prv.pandora.arendeprocess.util.PandoraConstants" %>
<%@page import="se.prv.pandora.arendeprocess.entity.PRVNummerPerson"%>

<%@ page import="se.prv.pandora.arendeprocess.entity.Region" %>
<%@ page import="se.prv.pandora.arendeprocess.obj.Land" %>
<%@ page import="se.prv.pandora.arendeprocess.entity.LandKod" %>
<%@ page import="se.prv.pandora.arendeprocess.util.MessageHandler" %>
<%@page import="se.prv.pandora.arendeprocess.general.PandoraManager"%>
<html>
<head><link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css">
    <link href="css_js/styles.css" rel="stylesheet" type="text/css">
    <link href="css_js/positions.css" rel="stylesheet" type="text/css">
    <link href="css_js/dialog_box.css" rel="stylesheet" type="text/css">
    <link href="css_js/floats.css" rel="stylesheet" type="text/css"> 
    <script language="JavaScript1.2" src="css_js/jquery-1.7.1.min.js" type="text/javascript"></script>
        <script language="JavaScript1.2" src="css_js/jquery-ui-1.8.17.custom.min.js" type="text/javascript"></script>   
    <script language="JavaScript1.2" src="css_js/sorttable.js" type="text/javascript"></script>
    <script language="JavaScript1.2" src="css_js/general_arendeprocess.js" type="text/javascript"></script>
    <script language="JavaScript1.2" src="css_js/dialog_box.js" type="text/javascript"></script>
    <script language="JavaScript1.2" type="text/javascript">
    function ingVar(x) { 
    var applicationDependence;
    applicationDependence = x;
    document.getElementById('ff').style.display='none';
    document.getElementById('avd').style.display='none';
    document.getElementById('utb').style.display='none';
    document.getElementById('oepa').style.display='none';
    document.getElementById('aooep').style.display='none';
    if (applicationDependence == 'ff'){ 
            document.getElementById('ob').style.display='none';
            document.getElementById('ff').style.display='';
            }
    if  (applicationDependence == 'avd'){
            document.getElementById('ob').style.display='none';
            document.getElementById('avd').style.display='';
            }
    if  (applicationDependence == 'utb'){
            document.getElementById('ob').style.display='none';
            document.getElementById('utb').style.display='';
            }       
    if  (applicationDependence == 'oepa'){
            document.getElementById('ob').style.display='none';
            document.getElementById('oepa').style.display='';
            }
    if  (applicationDependence == 'aooep'){
            document.getElementById('ob').style.display='none';
            document.getElementById('aooep').style.display='';
            }       
    if  (applicationDependence == 'ob'){
            document.getElementById('ob').style.display='';
            }       
    }

function popup() {
    //alert('opening popup');
    var popup = $('.newpopup');
    popup.draggable();
    //popup.resizable();
    //popup.html('<p>Where is pancakes house?</p>');
    //popup.show('fast');

    //Comment me out and use the version below to show working

  $.ajax({url:'/PandoraArendeWeb/popup.jsp',
            error: function() {
                alert('Error');
            },
            success: function(data) {   
                popup.html(data); 
                popup.show('fast');
            }
       }
   ); 

   /*
    popup.html("test"); 
    popup.show('fast');
    */
    var screen_width = $(document).width();
var screen_height = $(document).height();
var box_width = popup.width();
var box_height = popup.height();

var top = (screen_height - box_height) / 2; // you might like to subtract a little to position it slightly higher than half way
var left = (screen_width - box_width) / 2;
    popup.css({ 'position': 'absolute', 'top':top, 'left':left, 'overlayShow':true,'transitionIn'  : 'elastic','transitionOut' : 'elastic','opacity'       : '0.80' });
}

$(".newpopup").css('background-color', 'white');

$(document).ready(function(){
  $('button').click(function(){
     popup();
  });
})

function popup2() {
    alert('test');
    var popup = $('.newpopup');
    popup.draggable();

    //popup.resizable();
    //popup.html('<p>Where is pancakes house?</p>');
    //popup.show('fast');

       $.get('/PandoraArendeWeb/popup.jsp', function(data) {   

        popup.html(data); 
        popup.show('fast'); 
    }); 

    var screen_width = $(document).width();
var screen_height = $(document).height();
var box_width = popup.width();
var box_height = popup.height();

var top = (screen_height - box_height) / 2; // you might like to subtract a little to position it slightly higher than half way
var left = (screen_width - box_width) / 2;
    popup.css({ 'position': 'absolute', 'top':top, 'left':left });
}
$(document).ready(function(){
  $('#mypopup').click(function(){
     popup();
  });
})

    $(document).ready(function() {
        var $dialog = $('<div></div>')
            .html('This dialog will show every time!')
            .dialog({
                autoOpen: false,
                title: 'Basic Dialog'
            });

        $('#opener').click(function() {
            $dialog.dialog('open');
            // prevent the default action, e.g., following a link
            $("#opener").load('PandoraArendeWeb/popup.jsp').dialog({modal:true}); 
            return false;
        });

    });

    </script>
    <title>Ingivningsdag - NAT. - Pandora </title>
</head>
<%
    final Logger logger = Logger.getLogger("arendeprocess_grunduppgifter.jsp");
    ArendeProcessPageController apc = new ArendeProcessPageController(request);
    GrunduppgifterPageController pc = new GrunduppgifterPageController(request);
    ArendeProcessSessionData sessionData =(ArendeProcessSessionData) PandoraManager.getSessionData(request);

    String arendeTyp = apc.getArendeTyp();
    boolean showSearch = false;
    boolean showSearchD = false;
    boolean showSearchP = false;
    boolean showSearchI = false;
    boolean showSearchR = false;
    boolean showSearch2 = false;
    boolean showSearchF = false; 
    boolean showSearchA = false;  
    boolean showSearchU = false;  
    boolean showSearchO = false;
    boolean showSearchEPa = false;
    boolean showSearchEPn = false;
    AnsokanInfo ansokanInfo = apc.getAnsokanInfo();
    PersonInfo editPerson = new PersonInfo();
    PersonInfo editOmbud = new PersonInfo();
    String chosenPersonTyp = "";
    String chosenPersonOrdNr = "";
    if(ansokanInfo != null && ansokanInfo.hasEditPersonInfo()) {
        editPerson = ansokanInfo.getEditPersonInfo();
        Action latestAction = sessionData.getLatestAction();
        chosenPersonTyp = latestAction.getActionModifier();
        //+1 eftersom listindex börjar på 0
        chosenPersonOrdNr = latestAction.getCurrIndexAsInt()+1+"";
    } else {
        editPerson.setFornamn(apc.getNyregPerson().getFornamn());
        editPerson.setEfternamn(apc.getNyregPerson().getEfternamn());
        editPerson.setForetag(apc.getNyregPerson().getForetag());
        //editPerson.setOrgnr(apc.getNyregPerson().getOrgnr());
        editPerson.setLandKod(apc.getNyregPerson().getLandKod());
        editPerson.setReferens(apc.getNyregPerson().getReferens());
    }
    if(apc.getLatestAction().equals("Namnsokning") && apc.getLatestActionCommand().equals("search")) {
        showSearch = true;    
    }
    if(apc.getLatestAction().equals("Arendesokning") && apc.getLatestActionCommand().equals("search")) {
        showSearchF = true;   
    }
    int nbOfRelatedPersons = 0;
    String relatedPersons = "";
    if(editPerson.getPersonTyp().containsKey(PandoraConstants.PERSONTYP_OMBUD)) {
        editOmbud = editPerson;

        PersonInfoIndex pii = editOmbud.getPersonTyp().get(PandoraConstants.PERSONTYP_OMBUD);
        if(pii!=null) {
            nbOfRelatedPersons = pii.getRelatedPersons().size();
            //Ska bara skrivas ut om inte ombudet gäller för alla sökande 
            if(ansokanInfo.getSokandeList().size()> nbOfRelatedPersons)
                relatedPersons = pii.getRelatedPersonsAsString();
        }   

        editPerson = new PersonInfo();
    }

    int vectr = 0; // får bara användas i errormessages.jspf
    IFormData ifData = sessionData.getFormData();

%>

<body id="content" onload="if(document.getElementById('beroende') != null) { ingVar(document.getElementById('beroende').value); }">

<br><br>S&ouml;k person/<br>f&ouml;retag:<br>
<input type="button" value="S&ouml;k" onClick="document.getElementById('popupF').style.display='';">

<div class="popup" id="popupF" 
<% if(!showSearchF) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/fullfoljd_fran_sok.jspf" %>

</div></div></div>

<div class="popup" id="popupSokNamn2" 
<% if(!showSearch2) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/namnuppgifter_sok2.jspf" %>
</div></div></div>

<div class="popup" id="popupSokNamn" 
<% if(!showSearch) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/namnuppgifter_sok.jspf" %>
</div></div></div>

<div class="popup" id="popupD" 
<% if(!showSearchD) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/handlaggare_sok.jspf" %>
</div></div></div>

<div class="popup" id="popupI" 
<% if(!showSearchI) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/ingivningsdag_sok.jspf" %>
</div></div></div>

<div class="popup" id="popupP" 
<% if(!showSearchP) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/prioriteter_sok.jspf" %>
</div></div></div>

<div class="popup" id="popupR" 
<% if(!showSearchR) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/rabattgrundande_sok.jspf" %>
</div></div></div>

</form>
<%@ include file="WEB-INF/jspf/arendeprocess_messages_inc.jspf" %>

<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p>
</body>
</html> 
```

当我添加这部分时，它开始抱怨页面上下文：

```
<div class="popup" id="popupF" 
<% if(!showSearchF) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/fullfoljd_fran_sok.jspf" %>

</div> 
```

我什至在弹出窗口中都没有 JSP 代码，我将其简化为纯 HTML 以证明不是我的 JSP 导致了此错误：

```
<table width="100%" border="1" cellspacing="0" cellpadding="2" align="center" class="TB_nb">
  <tr>
  <td colspan="3" class="pusher TB_nb"><h2>Sök efter ärende</h2> 
</td>
  <td><a href="javascript:void(0)" onclick="document.getElementById('popupF').style.display = 'none';" align="right">X</a></td>
</tr>
</table>
<br><br>
<h2 class="pusher">Sök efter ärende</h2>
<div id="FVsok">

<div style="text-align: right; width: 100%; padding-right: 5%; padding-top: 5px;">
<span onClick="getElementById('FsokF').style.display='', getElementById('FbottomA').style.display='none', getElementById('FbottomV').style.display='', getElementById('FVsok').style.display='none'" class="link_sm">Visa s&ouml;kformul&auml;r</span>
</div>

</div>

<div id="FsokF">

<div style="text-align: right; width: 100%; padding-right: 5%; padding-top: 5px;; padding-bottom: 5px;">
<span onClick="getElementById('FsokF').style.display='none', getElementById('FbottomA').style.display='none', getElementById('FbottomV').style.display='', getElementById('FVsok').style.display=''" class="link_sm">D&ouml;lj s&ouml;kformul&auml;r</span>
</div>

<div style="width: 100%; margin-left: 15px; margin-right: 80px;" class="fontS80">

<div class="fl30">&nbsp;S&ouml;k efter ärende</div><div class="clear"></div>
<div class="fl30"><input type="text" size="60" name=""></div>
<div class="clear"></div>

<div class="fl30"><input type="button" value="Avbryt"></div>
<div class="fl10"><input type="button" value="  S&ouml;k  " onclick="javascript:doSubmit('Arendesokning', 'search')"></div>
<div class="clear">&nbsp;</div>
</div>

</div>
<div style="width: 100%; margin-left: 15px; margin-right: 15px;">
<table width="100%" border="0" cellspacing="0" cellpadding="4" align="center">
<tr>    
    <td><h3>Sökresultat:</h3></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
</tr>
<tr>    
    <td colspan="4">En massa text <span class="link">Hj&auml;lp!</span> </td>
</tr>
<tr>    
    <td><input type="button" value="Visa alla"></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
</tr>

<tr class="smallb">
    <td>Antal &auml;renden: <%= resultList.size() %></td>
    <td>&nbsp;</td>
    <td>Visa &auml;renden: <a class="link" href="javascript:doSubmit('MenyNavigation', 'REW_<%= thisPage %>')" > 

        </a>
        &nbsp;

        &nbsp;
        <a class="link" href="javascript:doSubmit('MenyNavigation', 'FWD_<%= thisPage %>')" > 

        </a> </td>
<td>&nbsp;</td>
</tr>
</table>

<table width="100%" cellspacing="0" align="center" class="sortable" id="unique_id">
<tr>
    <th class="thkant">Ärende</th>
    <th class="thkant">Ingivningsdag</th>
    <th class="thkant">Sökande1</th>
    <th class="thkant">Uppfinnare1</th> 
    <th class="thkant">Ombud1</th><!--
    <th class="thkant">Region</th>
    <th class="thkant">Land</th>
    <th class="thkant">Telefonnummer</th>-->
</tr>

<tr  class="g2" onmouseover="javascript:setStoreStyle(this)"; onmouseout="javascript:getStoreStyle(this)" <%}else{%>class="g1" onmouseover="javascript:setStoreStyle(this)" onmouseout="javascript:getStoreStyle(this)"<%} %> onclick="javascript:goToOversikt('','','','','','')" style="cursor:pointer;">

    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>

</tr>

</table>

<div id="FbottomV">
<table width="100%" align="center">
<tr>
<td align="left"><input type="button" id="visaknapp" value="Visa" disabled style="width:150px;" onClick="getElementById('sokR').style.display='', getElementById('bottomA').style.display='', getElementById('bottomV').style.display='none', getElementById('Vsok').style.display='', getElementById('sokF').style.display='none'"></td>
<td align="right"><input type="button" value="Avbryt" style="width:150px;" class="checkmargin"><input type="button" value="Infoga" disabled style="width:150px;"></td>
</tr>
</table>
</div>

<div id="FbottomA" style="display: none">
<table width="100%" align="center">
<tr>
<td align="left"><input type="button" value="&Auml;ndra i register" style="width:150px;"></td>
<td align="right"><input type="button" value="Avbryt" style="width:150px;" class="checkmargin"><input type="button" value="Infoga" style="width:150px;"></td>
</tr>
</table>
</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T08:08:39.477

我认为这是因为您的 JSP 中有脚本。您可能有一些没有正确关闭块的 scriptlet。

或者可能是您的一些 jspf 没有适当的大括号。查看生成的 Java 代码并调试出错的地方。

应该避免在 JSP 中使用 Java 代码来摆脱这些问题。Java 代码应该放在 Sevlets 中，EL 应该放在 JSP 中。

# javascript - 茉莉花正则表达式使用 toContain 函数

> ID：11185543
> 
> 赞同：2
> 
> 时间：2012-06-25T08:06:24.363
> 
> 标签：javascript, jasmine

我正在使用[jasmine](http://pivotal.github.com/jasmine/)来测试 JavaScript 代码。
我想以这种方式检查渲染函数的内容：

```
expect(this.view.el.innerHTML).toContain('<a href="#link">'+ 'regexp(any text)' +'</a>'); 
```

可以将一些参数作为正则表达式传递吗？
如果是，如何？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-30T19:27:20.637

我认为您需要使用`toMatch`带有正则表达式的匹配器（`toContain`需要一个字符串参数）并通过连接固定字符串和可变字符串来构建您的正则表达式，如下所示：

```
var searchString = ...
expect(innerHTML).toMatch(new RegExp('<a href="#link">' + searchString + '</a>')); 
```

# iphone - 动态加载具有计算大小的 Tableview 标题

> ID：11185545
> 
> 赞同：0
> 
> 时间：2012-06-25T08:06:33.557
> 
> 标签：iphone, ios, ios4

大家好，我正在开发一个应用程序。我想显示一个带有标题视图的表格视图。当我从根视图导航到下一个视图（表格视图）时，如下所示。但我的问题是当我从根视图传递一些文本时到下一个视图（表格视图）作为下一个视图的标题，它以适当的格式显示如下。我需要解决方案来显示一些更好的格式。以下我用于此的代码。![在此处输入图像描述](../Images/4b371760a7e09f340600cf0b2398716c.png)

```
- (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section 
{

/*   NSString *str_header1;
 str_header1=[[NSString alloc]initWithString:@"Heading : "];
 str_header1=[str_header1 stringByAppendingFormat:str_code1];
 str_header1=[str_header1 stringByAppendingFormat:@" - "];
 str_header1=[str_header1 stringByAppendingFormat:str_header]; */

// Create label with section title
UILabel *tmpTitleLabel = [[UILabel alloc] initWithFrame:CGRectMake(10, 15, 300, 20)];
UILabel *titleLabel = tmpTitleLabel;
titleLabel.font = [UIFont boldSystemFontOfSize:12];
titleLabel.numberOfLines = 0;
titleLabel.textColor = [UIColor colorWithRed:0.30 green:0.34 blue:0.42 alpha:1.0];
titleLabel.shadowColor = [UIColor whiteColor];
titleLabel.shadowOffset = CGSizeMake(0.0, 1.0);
titleLabel.backgroundColor=[UIColor clearColor];
titleLabel.lineBreakMode = UILineBreakModeWordWrap;
titleLabel.text = str_combine;

//Calculate the expected size based on the font and linebreak mode of label
CGSize maximumLabelSize = CGSizeMake(300,9999);
expectedLabelSize= [str_combine sizeWithFont:titleLabel.font constrainedToSize:maximumLabelSize lineBreakMode:titleLabel.lineBreakMode];

//Adjust the label the the new height
CGRect newFrame = titleLabel.frame;
newFrame.size.height = expectedLabelSize.height;
titleLabel.frame = newFrame;

// Create header view and add label as a subview
UIView *view = [[UIView alloc] initWithFrame:CGRectMake(10, 0, 320, expectedLabelSize.height+30)];
[view addSubview:titleLabel];

return view; 
```

}

```
- (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection: (NSInteger)section 
{
return expectedLabelSize.height+30;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T09:38:03.540

您的代码假定`-tableView:viewForHeaderInSection:`之前总是调用它，`-tableView:heightForHeaderInSection:`但事实并非如此。您可以将尺寸计算移至`-tableView:heightForHeaderInSection:`解决该问题。

更好的是，您似乎只使用了一个表头视图：您可以使用`UITableView`调用的属性。`tableHeaderView`将您的方法重命名`- (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section`为`-(UIView *)headerView`，删除该方法`-tableView:heightForHeaderInSection:`并在视图控制器方法的末尾添加以下行`-viewDidLoad`：

```
self.tableView.tableHeaderView = [self headerView]; 
```

# c# - 提取接口

> ID：11185547
> 
> 赞同：0
> 
> 时间：2012-06-25T08:06:48.107
> 
> 标签：c#, visual-studio, resharper

我经常为我现有的类使用 Resharper 的“提取接口”功能，但是有没有办法为我没有源代码的其他类型执行此操作，只是一个参考，使用 resharper 或任何其他工具？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-19T18:32:37.147

是的...反编译 dll/类型可能使用 ReSharper 7.x 中内置的 DotPeek，然后将反编译类中的代码复制并粘贴到项目中的新本地类中，然后重构 -> 提取接口。

temp类代码甚至不用编译，只需提取接口并删除这个“temp”类，然后将所有using语句添加到接口中即可编译。

希望这可以帮助。

阿提夫

# jsp - 可以做些什么来解决这个错误。请帮帮我

> ID：11185550
> 
> 赞同：-3
> 
> 时间：2012-06-25T08:07:05.327
> 
> 标签：jsp, using

```
<code><html>
<head>
<title>Insert title here</title>
</head>
<body>
<%@page import="java.io.*"%>
<%@page import="java.sql.*"%>
<%@page import="java.util.*,java.sql.*,java.io.*"%>

  <%   
   Connection conn= null;   
    //Statement stmt= null;
    Statement stmt2= null;
    ResultSet rs=null;
            int sno=0,c=0;  
            String tsno;
            int cform=0;

            String fc=(String)session.getAttribute("fclass");
            String fy=(String)session.getAttribute("fyear");
            //String srno=(String)hs.getValue("srlno");
            String sid1=(String)session.getAttribute("sid");
            String spwd1=(String)session.getAttribute("spwd");
            //String shat2=(String)hs.getValue("shat");

            System.out.println("update = "+sid1);
//          System.out.println("update = "+spwd);
//          System.out.println("update = "+shat2);
            sno=c;
            int shat=0;

                if( sid1==null || spwd1==null || sno==0)
                {
                 sid1  = request.getParameter("tsid2");
                 System.out.println(sid1);
                 spwd1= request.getParameter("tspwd2");
                 fc   = request.getParameter("tclass");
                 fy   = request.getParameter("tyear");
                 tsno  = request.getParameter("tc");
                 sno=Integer.parseInt(tsno);    
                }

            int i=0, k=0;
// Previous Form 
                    String ht02="g2",ht03="g3",ht04="g4",ht05="g5",ht06="g6",ht07="g7",ht08="g8",ht09="g9";//,ht10="g10",ht11="g11",ht12="g12",ht13="g13";
// New  form
                    String ft2,ft3,ft4,ft5,ft6,ft7,ft8,ft9;//ft10,ft11,ft12,ft13;

                    int gt4,gt5,gt6,gt7,gt8,gt9;//,gt10,gt11,gt12,gt13;
                    String fs=new String("y");
                    int up=0;
                    //------------------------------------------------------------------------------                            

                            try
                            {
                                Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
                                conn=DriverManager.getConnection("jdbc:odbc:aec","Vinayaka","Vinayaka");

                                stmt2=conn.createStatement();
                                String Sq="select   *From STUDENTS_INFO where STUDENTID='"+sid1+"' and PWD='"+spwd1+"' ";

                                rs = stmt2.executeQuery(Sq);

                                while(rs.next())
                                {   
                                if (fs.equals(rs.getString("FORMSUBMITT")))
                                {
                                    System.out.println(" Status in get"+fs);
                                    up=1;
                                    response.sendRedirect("errorpage.html");
                                }

                                }
                            }
                            catch(Exception e2){
                            e2.printStackTrace();}
                    //----------------------------------------------------------------------------- 
            if (up==0 && sid1!=null)
            {
            while (k<sno)
            {           System.out.println("This loop in"+i+"times"+" "+sid1);
                        ht02="ht02+i"; ht03=ht03+i; ht04=ht04+i; ht05=ht05+i; ht06=ht06+i;
                        ht07=ht07+i; ht08=ht08+i; ht09=ht09+i;// ht10=ht10+i; ht11=ht11+i; ht12=ht12+i; ht13=ht13+i;

                        ft2 = request.getParameter(ht02); ft3 = request.getParameter(ht03); ft4 = request.getParameter(ht04);
                        ft5 = request.getParameter(ht05); ft6 = request.getParameter(ht06); ft7 = request.getParameter(ht07);
                        ft8 = request.getParameter(ht08); ft9 = request.getParameter(ht09); /*ft10 = req.getParameter(ht10);
                        ft11 = req.getParameter(ht11);ft12 = req.getParameter(ht12);ft13 = req.getParameter(ht13);*/

                        gt4=Integer.parseInt(ft4); gt5=Integer.parseInt(ft5); gt6=Integer.parseInt(ft6);
                        gt7=Integer.parseInt(ft7); gt8=Integer.parseInt(ft8); gt9=Integer.parseInt(ft9);
                        /*gt10=Integer.parseInt(ft10); gt11=Integer.parseInt(ft11); gt12=Integer.parseInt(ft12);
                        gt13=Integer.parseInt(ft13);*/
                        float tot=((float)(gt4+gt5+gt6+gt7+gt8+gt9))/6;

                         try
                            {
                                stmt2=conn.createStatement();   

                                    stmt2.executeUpdate( "Insert into SUB_DET values("+i+",'"+ft3+"','"+ft2+"','"+fc+"','"+fy+"',"+gt4+","+gt5+","+gt6+","+gt7+","+gt8+","+gt9+","+tot+")");    
                                    response.sendRedirect("logout.html");

                            }
                            catch(Exception e){
                            e.printStackTrace();}
            i=i+1;
            }
                            try
                            {

                                    stmt2.executeUpdate("update STUDENTS_INFO set formsubmitt='"+fs+"' where STUDENTID='"+sid1+"' and pwd='"+spwd1+"' ");  
                                    cform=1;

                            }
                            catch(Exception e1){
                            e1.printStackTrace();}

                    /*try
                            {
                                if(sid!=null)
                                {
                                    stmt2=conn.createStatement();   
                                    stmt2.executeUpdate("update STUDENTS_INFO set formsubmitt='"+fs+"' where STUDENTID='"+sid+"' and pwd='"+spwd+"' ");  
                                }
                            }
                            catch(Exception e){
                            e.printStackTrace();}*/
                    if(rs!=null)
                    {
                     rs.close();
                     System.out.println("Feed  back rs is Closed");
                    }

                    if(stmt2!=null)
                    {
                     stmt2.close();
                     System.out.println("Feed  back statement is Closed");
                    }

                    if(conn!=null)
                    {
                    conn.close();
                    System.out.println("Feed back update Connection2 Closed");
                    }
            }

                    }
                    finally
                    {
                    System.out.println("tinku");
                }

%>
</body>
</html>
</code> 
```

**这是错误：**

```
type Exception report
message 
description The server encountered an internal error () that prevented it from fulfilling this request.
exception 
org.apache.jasper.JasperException: Unable to compile class for JSP: 
An error occurred at line: 229 in the generated java file
Syntax error on token "catch", Identifier expected

An error occurred at line: 231 in the generated java file
out cannot be resolved

An error occurred at line: 231 in the generated java file
_jspx_out cannot be resolved

An error occurred at line: 232 in the generated java file
out cannot be resolved

An error occurred at line: 232 in the generated java file
out cannot be resolved

An error occurred at line: 233 in the generated java file
out cannot be resolved

An error occurred at line: 234 in the generated java file
_jspx_page_context cannot be resolved

An error occurred at line: 234 in the generated java file
_jspx_page_context cannot be resolved

An error occurred at line: 236 in the generated java file
Syntax error on token "finally", { expected

An error occurred at line: 237 in the generated java file
_jspx_page_context cannot be resolved

Stacktrace:
    org.apache.jasper.compiler.DefaultErrorHandler.javacError(DefaultErrorHandler.java:92)
    org.apache.jasper.compiler.ErrorDispatcher.javacError(ErrorDispatcher.java:330)
    org.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:439)
    org.apache.jasper.compiler.Compiler.compile(Compiler.java:349)
    org.apache.jasper.compiler.Compiler.compile(Compiler.java:327)
    org.apache.jasper.compiler.Compiler.compile(Compiler.java:314)
    org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:592)
    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:326)
    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)
    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:717) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:11:54.950

评论`finally { System.out.println("tinku"); }` 它会起作用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:12:37.573

这正是 Java 代码不应该放在 JSP 中的原因。为 Java 代码使用 servlet，并且只使用 JSP 中的 EL、JSTL 和其他 JSP 标记，其唯一目的应该是生成 HTML 标记。

当 Java 代码在 servlet 中时，它会被预编译，您的 IDE 会帮助您识别和修复编译问题。IDE 还将帮助您格式化和缩进您的 Java 代码以使其可读。

# php - php dom 控制

> ID：11185560
> 
> 赞同：0
> 
> 时间：2012-06-25T08:08:08.920
> 
> 标签：php, dom

我打印 Javascript 函数以通过 PHP 脚本打开底部日志区域。这会使 Ajax、Excel 生成等非 dom 脚本崩溃。是否有像`isDom()`PHP 那样的服务器端 dom 函数？

**当前脚本：**

```
if (System::$isDebug == 1 && self::$_registeredJsFunctions == false)
        $this->registerJsFunctions(); 
```

**registerJs函数：**

```
protected function registerJsFunctions() {

    self::$_registeredJsFunctions = true;

    echo <<<EOD

  <script type="text/javascript">
        function printSystemLog(msg) {
            if (!document.getElementById('ie-log')) {
                $(document.body).append('<style type="text/css">'
                + '#ie-log { z-index:9999 !important; position:fixed; bottom:0;  border-top: double 2px #939399; background:none #FDFDF0;width:100%;font-size:11px; font-family: "Courier New", Courier, monospace;overflow:hidden;}'
                + '#ie-log #debug-level { position: absolute; height: 25px; right:0px; top:0; width: auto; background:#ECF1EF; padding: 2px; color:#8B8378; z-index:9999;border: double 2px #939399;border-top: none;}'
                + '#ie-log #larea{ height:180px;padding:3px;overflow-y:scroll !important; overflow-x:hidden !important; }'
                + '#ie-log #lclose{ margin-left: 16px;}'
                + '#ie-log h3 { margin: 8px 5px; }'
                + '#ie-log #lclose a { padding: 3px; padding-left:17px; background:url(theme/standart/images/delete.png) left center no-repeat; color:inherit;}'
                + '#ie-log #lclose a:hover { background-color:#F1EDC2; text-decoration:none; color: #8B6914;}'
                + '#larea div.log-row { position:relative; margin: 3px 10px; border-bottom: solid thin #C4C49C; margin-left:20px; overflow: visible !important; }'
                + '#larea div.log-row span.arrright {position:absolute; height:16px; left: -20px; display:inline-block; width:16px; background: transparent url(theme/standart/images/arrow_right.png) left center no-repeat;} '
                + '</style>');
                $(document.body).append('<div id="ie-log"><h3>Sistemin Anlık Log Görüntüsü</h3><div id="debug-level"><span>Seviye: <select onchange="logFilter(this.value)"><option value="">Hepsi</option><option value="EMERG">Emergency</option><option value="ALERT">Alert</option><option value="CRIT">Critical</option><option value="ERR">Error</option><option value="WARN">Warning</option><option value="NOTICE">Notice</option><option value="INFO">İnformation</option><option value="DEBUG">Debug</option></select></span><span id="lclose"><a href="#" onclick="closeLogArea();return false;" title="Çerez atar, bir dahakine açmaz">Kapat</a></span></div><div id="larea"></div></div>');

                if (getCookie('TASARIMICI_LOG_SEVMEZ') == 1)
                    $('#ie-log').hide();
            }
        $('#larea').prepend('<div class="log-row"><span class="arrright"></span>'+msg + '</div>');
    }
</script>
EOD;
    } 
```

# mysql - MYSQL：更新一行而不提及字段名称

> ID：11185568
> 
> 赞同：0
> 
> 时间：2012-06-25T08:08:30.320
> 
> 标签：mysql, sql

我有办法在不提及字段名称的情况下更新一行吗？
我的意思是：

```
UPDATE table SET VALUES(1, 'name', 'family') 
```

代替：

```
UPDATE table SET id=1, name='name', family='family' 
```

**更新**
我正在使用`INSERT ON DUPLICATE KEY UPDATE`并且不想使用`REPLACE`函数，因为`REPLACE`函数会导致记录被删除，并在最后插入，这会导致索引被破坏，降低表的效率。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T08:12:49.207

如果您以与表定义相同的顺序指定值，则可以使用

```
REPLACE INTO table VALUES(1, 'name', 'family'); 
```

请注意，这将替换整行，因此您必须指定所需的所有值！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T08:11:12.817

你不能用 mysql 那样做，因为 set 子句指示要修改哪些列以及应该给它们的值

仅供参考：[http ://dev.mysql.com/doc/refman/5.0/en/update.html](http://dev.mysql.com/doc/refman/5.0/en/update.html)

# database - 将 dmp 文件导入到新安装的 oracle xe

> ID：11185575
> 
> 赞同：0
> 
> 时间：2012-06-25T08:08:49.930
> 
> 标签：database, oracle, import, dmp

我正在尝试将客户端数据库中的 *​​.dmp 文件导入到新安装的 Oracle XE 11.2.0 中。

我是Oracle DB的新手，我一直使用MySQL，所以我搜索了论坛并使用了cmd中的命令

```
C:\oraclexe\app\oracle\product\11.2.0\server\bin>imp 'system/root AS SYSDBA' file=c:\export.dmp full=yes log=implog.txt 
```

没有运气。implog.txt 如下：

```
Connected to: Oracle Database 11g Express Edition Release 11.2.0.2.0 - Production

Export file created by EXPORT:V09.02.00 via conventional path
import done in WE8MSWIN1252 character set and AL16UTF16 NCHAR character set
import server uses AL32UTF8 character set (possible charset conversion)
export client uses UTF8 character set (possible charset conversion)
. importing SYSTEM's objects into SYSTEM
IMP-00015: following statement failed because the object already exists:
"CREATE UNDO TABLESPACE "UNDOTBS1" BLOCKSIZE 8192 DATAFILE  '/home/app/oracl"
"e/oradata/ANA/undotbs01.dbf' SIZE 2000M       AUTOEXTEND ON NEXT 5242880  M"
"AXSIZE 32767M EXTENT MANAGEMENT LOCAL "
IMP-00015: following statement failed because the object already exists:
"CREATE TEMPORARY TABLESPACE "TEMP" BLOCKSIZE 8192 TEMPFILE  '/home2/oradata"
"/ANA/temp01.dbf' SIZE 2916M       AUTOEXTEND ON NEXT 655360  MAXSIZE 32767M"
" EXTENT MANAGEMENT LOCAL  UNIFORM SIZE 1048576"
IMP-00017: following statement failed with ORACLE error 1119:
"CREATE TABLESPACE "INDX" BLOCKSIZE 8192 DATAFILE  '/home/app/oracle/oradata"
"/ANA/indx01.dbf' SIZE 1048576       AUTOEXTEND ON NEXT 1310720  MAXSIZE 327"
"67M EXTENT MANAGEMENT LOCAL  AUTOALLOCATE  ONLINE PERMANENT  NOLOGGING SEGM"
"ENT SPACE MANAGEMENT AUTO"
IMP-00003: ORACLE error 1119 encountered
ORA-01119: error in creating database file '/home/app/oracle/oradata/ANA/indx01.dbf'
ORA-27040: file create error, unable to create file
OSD-04002: unable to open file
O/S-Error: (OS 3) Impossibile trovare il percorso specificato.
IMP-00017: following statement failed with ORACLE error 1119:
"CREATE TABLESPACE "TOOLS" BLOCKSIZE 8192 DATAFILE  '/home/app/oracle/oradat"
"a/ANA/tools01.dbf' SIZE 209715200       AUTOEXTEND ON NEXT 327680  MAXSIZE "
"32767M EXTENT MANAGEMENT LOCAL  AUTOALLOCATE  ONLINE PERMANENT  NOLOGGING S"
"EGMENT SPACE MANAGEMENT AUTO"
IMP-00003: ORACLE error 1119 encountered
ORA-01119: error in creating database file '/home/app/oracle/oradata/ANA/tools01.dbf'
ORA-27040: file create error, unable to create file
OSD-04002: unable to open file
O/S-Error: (OS 3) Impossibile trovare il percorso specificato.
IMP-00015: following statement failed because the object already exists:
"CREATE TABLESPACE "USERS" BLOCKSIZE 8192 DATAFILE  '/home/app/oracle/oradat"
"a/ANA/users01.dbf' SIZE 1048576       AUTOEXTEND ON NEXT 1310720  MAXSIZE 3"
"2767M EXTENT MANAGEMENT LOCAL  AUTOALLOCATE  ONLINE PERMANENT  NOLOGGING SE"
"GMENT SPACE MANAGEMENT AUTO"
IMP-00017: following statement failed with ORACLE error 1119:
"CREATE TABLESPACE "XDB" BLOCKSIZE 8192 DATAFILE  '/home/app/oracle/oradata/"
"ANA/xdb01.dbf' SIZE 209715200       AUTOEXTEND ON NEXT 655360  MAXSIZE 3276"
"7M EXTENT MANAGEMENT LOCAL  AUTOALLOCATE  ONLINE PERMANENT  NOLOGGING SEGME"
"NT SPACE MANAGEMENT AUTO"
IMP-00003: ORACLE error 1119 encountered
ORA-01119: error in creating database file '/home/app/oracle/oradata/ANA/xdb01.dbf'
ORA-27040: file create error, unable to create file
OSD-04002: unable to open file
O/S-Error: (OS 3) Impossibile trovare il percorso specificato.
IMP-00017: following statement failed with ORACLE error 1119:
"CREATE TABLESPACE "A00" BLOCKSIZE 8192 DATAFILE  '/home2/oradata/A/a00.dbf'"
" SIZE 1048576000       EXTENT MANAGEMENT LOCAL  AUTOALLOCATE  ONLINE PERMAN"
"ENT  NOLOGGING"
IMP-00003: ORACLE error 1119 encountered
ORA-01119: error in creating database file '/home2/oradata/A/a00.dbf'
ORA-27040: file create error, unable to create file
OSD-04002: unable to open file
O/S-Error: (OS 3) Impossibile trovare il percorso specificato.
IMP-00017: following statement failed with ORACLE error 1119:
"CREATE TABLESPACE "D00" BLOCKSIZE 8192 DATAFILE  '/home2/oradata/A/d00.dbf'"
" SIZE 5000M       EXTENT MANAGEMENT LOCAL  AUTOALLOCATE  ONLINE PERMANENT  "
"NOLOGGING"
IMP-00003: ORACLE error 1119 encountered
ORA-01119: error in creating database file '/home2/oradata/A/d00.dbf'
ORA-27040: file create error, unable to create file
OSD-04002: unable to open file
O/S-Error: (OS 3) Impossibile trovare il percorso specificato.
IMP-00015: following statement failed because the object already exists:
"CREATE USER "OUTLN" IDENTIFIED BY VALUES '4A3BA55E08595C81' TEMPORARY TABLE"
"SPACE "TEMP" PASSWORD EXPIRE ACCOUNT LOCK"
IMP-00015: following statement failed because the object already exists:
"CREATE USER "ANONYMOUS" IDENTIFIED BY VALUES 'anonymous' DEFAULT TABLESPACE"
" "XDB" TEMPORARY TABLESPACE "TEMP" PASSWORD EXPIRE ACCOUNT LOCK"
IMP-00017: following statement failed with ORACLE error 959:
"CREATE USER "A00" IDENTIFIED BY VALUES 'DB7EF8D464FCEC4D' DEFAULT TABLESPAC"
"E "A00" TEMPORARY TABLESPACE "TEMP""
IMP-00003: ORACLE error 959 encountered
ORA-00959: tablespace 'A00' does not exist
IMP-00017: following statement failed with ORACLE error 959:
"CREATE USER "D00" IDENTIFIED BY VALUES '546A075B8012922B' DEFAULT TABLESPAC"
"E "D00" TEMPORARY TABLESPACE "TEMP""
IMP-00003: ORACLE error 959 encountered
ORA-00959: tablespace 'D00' does not exist
IMP-00015: following statement failed because the object already exists:
"CREATE ROLE "SELECT_CATALOG_ROLE""
IMP-00015: following statement failed because the object already exists:
"REVOKE "SELECT_CATALOG_ROLE" FROM SYSTEM"
IMP-00015: following statement failed because the object already exists:
"CREATE ROLE "EXECUTE_CATALOG_ROLE""
IMP-00015: following statement failed because the object already exists:
"REVOKE "EXECUTE_CATALOG_ROLE" FROM SYSTEM"
IMP-00015: following statement failed because the object already exists:
"CREATE ROLE "DELETE_CATALOG_ROLE""
IMP-00015: following statement failed because the object already exists:
"REVOKE "DELETE_CATALOG_ROLE" FROM SYSTEM"
IMP-00015: following statement failed because the object already exists:
"CREATE ROLE "RECOVERY_CATALOG_OWNER""
IMP-00015: following statement failed because the object already exists:
"REVOKE "RECOVERY_CATALOG_OWNER" FROM SYSTEM"
IMP-00015: following statement failed because the object already exists:
"CREATE ROLE "GATHER_SYSTEM_STATISTICS""
IMP-00015: following statement failed because the object already exists:
"REVOKE "GATHER_SYSTEM_STATISTICS" FROM SYSTEM"
IMP-00015: following statement failed because the object already exists:
"CREATE ROLE "LOGSTDBY_ADMINISTRATOR""
IMP-00015: following statement failed because the object already exists:
"REVOKE "LOGSTDBY_ADMINISTRATOR" FROM SYSTEM"
IMP-00015: following statement failed because the object already exists:
"CREATE ROLE "AQ_ADMINISTRATOR_ROLE""
IMP-00015: following statement failed because the object already exists:
"CREATE ROLE "AQ_USER_ROLE""
IMP-00015: following statement failed because the object already exists:
"REVOKE "AQ_USER_ROLE" FROM SYSTEM"
IMP-00017: following statement failed with ORACLE error 439:
"CREATE ROLE "GLOBAL_AQ_USER_ROLE" IDENTIFIED GLOBALLY "
IMP-00003: ORACLE error 439 encountered
ORA-00439: feature not enabled: Enterprise User Security
IMP-00015: following statement failed because the object already exists:
 "CREATE ROLE "OEM_MONITOR""
IMP-00015: following statement failed because the object already exists:
 "REVOKE "OEM_MONITOR" FROM SYSTEM"
IMP-00015: following statement failed because the object already exists:
 "CREATE ROLE "HS_ADMIN_ROLE""
IMP-00015: following statement failed because the object already exists:
 "REVOKE "HS_ADMIN_ROLE" FROM SYSTEM"
IMP-00015: following statement failed because the object already exists:
 "CREATE ROLE "XDBADMIN""
IMP-00015: following statement failed because the object already exists:
 "REVOKE "XDBADMIN" FROM SYSTEM"
IMP-00015: following statement failed because the object already exists:
 "CREATE ROLE "AUTHENTICATEDUSER""
IMP-00015: following statement failed because the object already exists:
 "REVOKE "AUTHENTICATEDUSER" FROM SYSTEM"
IMP-00017: following statement failed with ORACLE error 1917:
 "GRANT UNLIMITED TABLESPACE TO "A00""
IMP-00003: ORACLE error 1917 encountered
ORA-01917: user or role 'A00' does not exist
IMP-00017: following statement failed with ORACLE error 1917:
 "GRANT CREATE PROCEDURE TO "D00""
IMP-00003: ORACLE error 1917 encountered
ORA-01917: user or role 'D00' does not exist
IMP-00017: following statement failed with ORACLE error 1917:
 "GRANT EXECUTE ANY PROCEDURE TO "D00""
IMP-00003: ORACLE error 1917 encountered
ORA-01917: user or role 'D00' does not exist
IMP-00017: following statement failed with ORACLE error 1917:
 "GRANT CREATE TRIGGER TO "D00""
IMP-00003: ORACLE error 1917 encountered
ORA-01917: user or role 'D00' does not exist
IMP-00017: following statement failed with ORACLE error 1917:
 "GRANT CREATE SNAPSHOT TO "D00""
IMP-00003: ORACLE error 1917 encountered
ORA-01917: user or role 'D00' does not exist
IMP-00017: following statement failed with ORACLE error 1917:
 "GRANT CREATE TYPE TO "D00""
IMP-00003: ORACLE error 1917 encountered
ORA-01917: user or role 'D00' does not exist
IMP-00017: following statement failed with ORACLE error 1917:
 "GRANT "CONNECT" TO "A00""
IMP-00003: ORACLE error 1917 encountered
ORA-01917: user or role 'A00' does not exist
IMP-00017: following statement failed with ORACLE error 1917:
 "GRANT "DBA" TO "A00""
IMP-00003: ORACLE error 1917 encountered
ORA-01917: user or role 'A00' does not exist
IMP-00017: following statement failed with ORACLE error 1917:
 "GRANT "CONNECT" TO "D00""
IMP-00003: ORACLE error 1917 encountered
ORA-01917: user or role 'D00' does not exist
IMP-00017: following statement failed with ORACLE error 1918:
 "ALTER USER "D00" DEFAULT ROLE ALL"
IMP-00003: ORACLE error 1918 encountered
ORA-01918: user 'D00' does not exist
IMP-00017: following statement failed with ORACLE error 1918:
 "ALTER USER "A00" DEFAULT ROLE ALL"
IMP-00003: ORACLE error 1918 encountered
ORA-01918: user 'A00' does not exist
IMP-00017: following statement failed with ORACLE error 1918:
 "ALTER USER "A00" QUOTA UNLIMITED ON "TEMP" QUOTA UNLIMITED ON "A00""
IMP-00003: ORACLE error 1918 encountered
ORA-01918: user 'A00' does not exist
IMP-00017: following statement failed with ORACLE error 1918:
 "ALTER USER "D00" QUOTA UNLIMITED ON "TEMP" QUOTA UNLIMITED ON "D00""
IMP-00003: ORACLE error 1918 encountered
ORA-01918: user 'D00' does not exist
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "MVIEW$_ADVSEQ_GENERIC" MINVALUE 1 MAXVALUE 4294967295 INCR"
 "EMENT BY 1 START WITH 1 CACHE 50 NOORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "MVIEW$_ADVSEQ_ID" MINVALUE 1 MAXVALUE 4294967295 INCREMENT"
 " BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "LOGMNR_SEQ$" MINVALUE 1 MAXVALUE 9999999999999999999999999"
 "99 INCREMENT BY 1 START WITH 1 CACHE 20 ORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "LOGMNR_UIDS$" MINVALUE 1 MAXVALUE 999999999999999999999999"
 "999 INCREMENT BY 1 START WITH 100 CACHE 20 ORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "REPCAT$_FLAVORS_S" MINVALUE -2147483647 MAXVALUE 214748364"
 "7 INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "REPCAT$_FLAVOR_NAME_S" MINVALUE 1 MAXVALUE 999999999999999"
 "999999999999 INCREMENT BY 1 START WITH 1 NOCACHE NOORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "REPCAT$_REPPROP_KEY" MINVALUE 1 MAXVALUE 99999999999999999"
 "9999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "REPCAT_LOG_SEQUENCE" MINVALUE 1 MAXVALUE 99999999999999999"
 "9999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "REPCAT$_REFRESH_TEMPLATES_S" MINVALUE 1 MAXVALUE 999999999"
 "999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "REPCAT$_USER_AUTHORIZATIONS_S" MINVALUE 1 MAXVALUE 9999999"
 "99999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "REPCAT$_TEMPLATE_REFGROUPS_S" MINVALUE 1 MAXVALUE 99999999"
 "9999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "REPCAT$_TEMPLATE_OBJECTS_S" MINVALUE 1 MAXVALUE 9999999999"
 "99999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "REPCAT$_TEMPLATE_PARMS_S" MINVALUE 1 MAXVALUE 999999999999"
 "999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "REPCAT$_USER_PARM_VALUES_S" MINVALUE 1 MAXVALUE 9999999999"
 "99999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "REPCAT$_TEMPLATE_SITES_S" MINVALUE 1 MAXVALUE 999999999999"
 "999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "REPCAT$_TEMP_OUTPUT_S" MINVALUE 1 MAXVALUE 999999999999999"
 "999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "REPCAT$_RUNTIME_PARMS_S" MINVALUE 1 MAXVALUE 9999999999999"
 "99999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "TEMPLATE$_TARGETS_S" MINVALUE 1 MAXVALUE 99999999999999999"
 "9999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE"
IMP-00015: following statement failed because the object already exists:
 "CREATE SEQUENCE "REPCAT$_EXCEPTIONS_S" MINVALUE 1 MAXVALUE 9999999999999999"
 "99999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE"
. importing WMSYS's objects into WMSYS
. importing A00's objects into A00
 "ALTER SESSION SET CURRENT_SCHEMA= "A00""
IMP-00003: ORACLE error 1435 encountered
ORA-01435: user does not exist
IMP-00000: Import terminated unsuccessfully 
```

现在我正在阅读的是：

- 该脚本删除了用户 SYSTEM 的所有权限，但即使导入失败，在我执行导入后，我不再能够以 SYSTEM 身份登录

- 我正在尝试在 Windows XP 32 位虚拟机上导入 *.dmp，我认为导出是在 Windows Vista 机器上创建的（不知道 x86 或 x64），但我不明白的是日志中的位置显示“创建数据库文件'/home/app/oracle/oradata/ANA/indx01.dbf'时出错”。这里似乎是一个unix路径......

- 几乎所有地方Oracle都说它不能创建用户/表/索引，因为它们已经存在。这是一个全新的安装，或者至少是我第一次尝试导入的时候。在第一次失败后，我尝试以 SYSTEM 身份登录，但不能，所以我删除了 Oracle XE 并从头开始重新安装，所以我认为这是全新安装。难道我做错了什么？有没有办法在不删除和重新安装所有内容的情况下重新创建 SYSTEM 权限？

预先感谢您的帮助

编辑：刚收到导出日志，我省略了表名：

```
Connected to: Oracle9i Enterprise Edition Release 9.2.0.8.0 - Production
JServer Release 9.2.0.8.0 - Production
Export done in UTF8 character set and AL16UTF16 NCHAR character set

About to export the entire database ...
. exporting tablespace definitions
. exporting profiles
. exporting user definitions
. exporting roles
. exporting resource costs
. exporting rollback segment definitions
. exporting database links
. exporting sequence numbers
. exporting directory aliases
. exporting context namespaces
. exporting foreign function library names
. exporting PUBLIC type synonyms
. exporting private type synonyms
. exporting object type definitions
. exporting system procedural objects and actions
. exporting pre-schema procedural objects and actions
. exporting cluster definitions
. about to export SYSTEM's tables via Conventional Path ...
. about to export OUTLN's tables via Conventional Path ...
. about to export DBSNMP's tables via Conventional Path ...
. about to export WMSYS's tables via Conventional Path ...
. about to export ANONYMOUS's tables via Conventional Path ...
. about to export A00's tables via Conventional Path ...
. about to export D00's tables via Conventional Path ...

. exporting synonyms
. exporting views
. exporting referential integrity constraints
. exporting stored procedures
. exporting operators
. exporting indextypes
. exporting bitmap, functional and extensible indexes
. exporting posttables actions
. exporting triggers
. exporting materialized views
. exporting snapshot logs
. exporting job queues
. exporting refresh groups and children
. exporting dimensions
. exporting post-schema procedural objects and actions
. exporting user history table
. exporting default and system auditing options
. exporting statistics
Export terminated successfully without warnings. 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T10:51:09.213

要确定您需要创建哪些表空间，您需要找出需要哪些表和索引，然后查看这些表空间是针对哪些表空间构建的。您需要找出的第一件事是您需要重新创建哪些模式（用户）。从看起来像的导出日志`A00`，`D00`或两者兼而有之。

您可以获得表和索引的 DDL，其中将包括它们内置的表空间 - 通过`imp`使用`INDEXFILE`参数运行，例如：

```
imp 'system/root AS SYSDBA' file=c:\export.dmp full=n rows=n fromuser=A00 touser=A00 indexfile=c:\indexfile.sql 
```

这将为您提供一个带有表和索引的 DDL 的文本文件，但表创建命令用`rem`. 您可以在记事本或其他文本编辑器中查看该文件，并搜索所有`TABLESPACE`参考。您只需要所有不同的值。在您的情况下，可能所有`A00`拥有的对象都在`A00`表空间中，但您需要检查。

获得该信息后，您可以手动创建在新数据库中标识的具有相同名称的表空间。您还需要创建要导入的用户，并确保它可以创建对象；例如，在您为tablespace`quota unlimited`设置的原始导入日志中，还要查看它正在尝试的命令。`A00``A00``grant`

构建完成后，您可以再次运行导入：

```
imp 'system/root AS SYSDBA' file=c:\export.dmp full=n rows=y fromuser=A00 touser=A00 log=import.log 
```

表、索引等应该构建好，数据将被导入其中。

您应该阅读导入命令和参数以了解这些示例将做什么，并根据您的最终目标决定是否需要任何其他人来修改导入的行为方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:21:13.087

也许这个出口来自 Linux 机器？因为表空间的路径：'/home/app/oracle/oradata/*' 在 Windows 机器中似乎不正确。您可以先创建表空间，然后再导入 dmp。只是一个想法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T08:23:37.883

尝试以下步骤：

*   `TOOLS`手动创建表空间
*   使用`FROM_USER`/`TO_USER`参数`imp`仅导入此用户的架构数据。

从 Oracle 9 到 Oracle 11 的导入`SYSTEM`和其他表空间将破坏该表空间中的许多与系统相关的表/对象。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-03-24T14:36:52.897

打开命令提示符（这里 GLOBAL 是用户名和密码）仅将 11g 文件导入到 11g 数据库，将 10g 文件仅导入到 10g。

```
> IMP GLOBAL/GLOBAL
password:global
it will give some error ORA-0107
again it will ask for logon username:GLOBAL
Password:global
Import Data Only (yes/no):no
Import file:EXPDAT.DMP > C:\Downloads\global_tables.dmp (location of dump file)
Enter insert buffer size (minimum is 8192) 30720>  

30720
List contents of import file only (yes/no): no >  

no
Ignore create error due to object existence (yes/no): no >  

no
Import grants (yes/no): yes >  

yes
Import table data (yes/no): yes >  

yes
Import entire export file (yes/no): no >  

yes 
```

# memory - 使用显存的OpenGL DisplayList

> ID：11185584
> 
> 赞同：1
> 
> 时间：2012-06-25T08:09:52.130
> 
> 标签：memory, opengl, video, displaylist

是否可以将显示列表数据存储在视频卡内存中？我只想使用像视频缓冲区对象（VBO）这样的视频内存来存储 DisplayList。但是当我尝试它时，它总是使用主内存而不是视频内存。我在 nVidia geForce 8600GTS 和 GTX260 上进行了测试。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:30:05.043

显示列表是一个非常古老的功能，可以追溯到 OpenGL-1.0。它们很久以前就被弃用了。无论如何，出于兼容性原因，您仍然可以使用它们。

OpenGL 的工作方式防止显示列表仅保存在 GPU 内存中。图形*服务器*（正如 OpenGL 所称的）是一个纯粹的抽象事物，并且规范保证，您放在显示列表中的内容始终可用。然而，在现代 GPU 中，内存量有限，因此可以根据需要交换有效载荷数据。

实际上，GPU 内存是系统 RAM 中数据的*缓存*（与系统 RAM 应作为存储缓存相同的方式）。

更重要的是，现代 GPU 可能会崩溃，驱动程序将执行完全重置，给用户一种一切正常的印象。但在重置后，GPU 内存上的所有数据都必须重新初始化。

因此 OpenGL 有必要在内存中保留每个有效载荷数据的副本以支持平滑操作。

因此，您的数据也显示为消耗系统 RAM 是完全正常的。尽管很可能显示列表也*缓存*在 GPU 内存中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:14:16.453

不推荐使用显示列表。您可以使用带有顶点索引的 VBO 来使用图形内存，并使用`glDrawElements`.

# c# - 使用 Result-Event 将方法转换为异步方法的 Visual Studio 插件

> ID：11185592
> 
> 赞同：2
> 
> 时间：2012-06-25T08:10:27.513
> 
> 标签：c#, .net, visual-studio-2010, resharper, add-in

是否有一个 Visual Studio 插件，我可以使用它将方法转换为带有结果事件的异步方法？我知道这不是很困难，但它会是一个很好的帮手。

Resharper没有这个功能吗？

我想转换的东西

```
 public MyClass Start()
    {
            // lots of work
            return myObject;
    } 
```

对此：

```
 public void Start()
    {
            // lots of work
            OnEndCreatingEvent(myObject);
    }

    internal delegate void EndCreatingEventHandler(MyClass myObject);
    public event EndCreatingEventHandler EndCreatingEvent;
    private void OnEndCreatingEvent(MyClass myObject)
    {
        if (EndCreatingEvent != null)
        {
            this.EndCreatingEvent(myObject);
        }
    } 
```

克里斯

# bash - Bash sed 循环

> ID：11185596
> 
> 赞同：0
> 
> 时间：2012-06-25T08:10:53.673
> 
> 标签：bash, sed

我正在尝试使用以下内容在几个文件中用逗号替换选项卡：

```
#!/bin/sh 
for i in *output_*.txt  
do   
sed 's/ /;/g' $i > $i 
done 
```

但它不起作用，因为在输出文件中我仍然有制表符分隔符。当我在没有 for 循环的单个文件上使用它时，它才起作用。

有什么帮助吗？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T08:15:03.563

有几件事是错误的。Unqouted 变量和输出重定向到同一个文件。也不需要循环。

尝试： `sed -i 's/ /;/g' *output_*.txt`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-26T06:21:01.110

您需要的正确脚本如下：

```
find . -name '*output_*.txt' | while read FILENAME; do
    (sed -e "s/\\t/;/g" <${FILENAME} >${FILENAME%.txt}.tmp) && (mv ${FILENAME%.txt}.tmp ${FILENAME});
done 
```

这个脚本有几个重要的特点：

1.  它查找`*output_*.txt`在当前目录和所有子目录中调用的所有文件。如果您*不想*递归到子目录，请使用：

    ```
    find . -maxdepth 1 -name '*output_*.txt' | while read FILENAME; do 
    ```

    作为第一行。

2.  如果遇到错误，它**不会覆盖**您的原始输入文件。将其输出生成到一个临时文件 ( )，并且只有在成功时才会替换原始文件。`sed``sed``<filename>.tmp`

3.  正如其他海报所指出的，*制表符*`\t`在`sed`脚本中由 表示。

此脚本执行的示例转换如下（序列`<tab>`表示一个*制表*符）：

输入：

```
    <tab><tab><tab><tab><tab>第 1 行<tab><tab>
    <tab><tab><tab>第 2 行<tab><tab>
    <tab><tab>第 3 行<tab><tab>
    <tab><tab><tab>第 4 行<tab><tab>
    <tab><tab><tab><tab><tab>行<tab><tab> 5

```

输出：

```
 ;;;;line 1;;
    ;;;line 2;;
    ;;line 3;;
    ;;;line 4;;
    ;;;;;line;; 5 
```

# java - Java 的独立 XML-RPC/SOAP/etc 实现

> ID：11185597
> 
> 赞同：1
> 
> 时间：2012-06-25T08:11:06.000
> 
> 标签：java, soap, xml-rpc

如果存在任何用于 Java 的独立 XML-RPC 实现，谁能给我一个提示？

在“独立”下，我的意思是不依赖于任何传输实现和/或 servlet 容器的库。

理想的解决方案应该类似于[json-rpc base](http://software.dzhuvinov.com/json-rpc-2.0-base.html)，因此它应该允许将任何类的任何实例注册为调用目标，然后解析任何字符串/字节数组并调用适当的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:19:50.443

[Apache XML-RPC](http://ws.apache.org/xmlrpc/)或[Delight](http://delight.opendfki.de/)怎么样？

# javascript - 单击按钮时水平滚动

> ID：11185598
> 
> 赞同：1
> 
> 时间：2012-06-25T08:11:08.127
> 
> 标签：javascript, jquery, html, scroll

我想通过单击左右按钮水平滚动 div 但它不起作用

```
$('#left').live('click' , function(){
$('#myDiv').scrollLeft(300)

})
$('#right').live('click' , function(){
$('#myDiv').scrollLeft(-300)

}) 
```

​ 如何通过点击滚动 div。我也想去掉滚动条

[JS小提琴](http://jsfiddle.net/ranasaani/57wdH/39/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T08:20:54.243

如果您不想摆脱滚动条，为什么不直接更改裁剪内容的 CSS（即它的`margin-left`）？

给出包装`div`a`overflow:hidden`并使用以下 JS：

```
$('#left').click(function(){
    $('#myDiv').css('margin-left','-300px');
});
$('#right').click(function(){
    $('#myDiv').css('margin-left','0');
}); 
```

看起来像**[这样](http://jsfiddle.net/57wdH/54/)**。

​</p>

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-25T08:29:04.090

这是你想要的吗？

[jsfiddle](http://jsfiddle.net/57wdH/78/)

我使用 css 和边距进行滚动，溢出隐藏隐藏栏，浮动对齐图片并更改了一些 css...

# iphone - 在 Objective-C++ 中使用 NSLog 和 C++ 对象

> ID：11185604
> 
> 赞同：0
> 
> 时间：2012-06-25T08:11:25.997
> 
> 标签：iphone, ios, objective-c++, nslog

我有一个如下的程序结构：

```
int firstFunction(unsigned char *firstValue, int s, int t)
{
       CppFunction *cpp=CppFunction::create(firstValue, s, t, 0);

} 
```

我将如何采取 NSLog 的`cpp`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:15:15.763

您可以记录某些值`CppFunction`，查看示例

```
int firstFunction(unsigned char *firstValue ,int s,int t)
{
    CppFunction *cpp=CppFunction::create(firstValue, s, t,0);

    NSLog(@"Log some integers %d", cpp->SomeInteger);
    //charArray[100] for example
    NSLog(@"Log some char array %s", cpp->charArray);

    //or for example log a string description function
    //myDescription will return a custom char array description of your class
    NSLog(@"Log some char array %s", cpp->myDescription());
} 
```

# javascript - 无法使用 java 代码中的 window.location 加载新页面

> ID：11185605
> 
> 赞同：0
> 
> 时间：2012-06-25T08:11:27.713
> 
> 标签：javascript, spring, javascript-engine

我有一个拦截器，如果会话无效，我会在其中重定向到主页。我想使用 window.location 相同，但给出错误。

我的拦截器是：

```
@Override
    public boolean preHandle(HttpServletRequest request,
            HttpServletResponse response, Object handler) throws Exception {
        if ((null == request.getSession(false))
                || (null == request.getSession(false).getAttribute(
                        "user"))) {
            System.out.println("user logged out...");
            ScriptEngineManager factory = new ScriptEngineManager();
            ScriptEngine engine = factory.getEngineByName("JavaScript");

            engine.eval("window.location='logout.do'");
        return false;
        }
        return super.preHandle(request, response, handler);
    } 
```

错误 ：

```
 javax.script.ScriptException: sun.org.mozilla.javascript.internal.EcmaError: ReferenceError: "window" is not defined. (<Unknown source>#1) in <Unknown source> at line number 1
        at com.sun.script.javascript.RhinoScriptEngine.eval(RhinoScriptEngine.java:110)
        at com.sun.script.javascript.RhinoScriptEngine.eval(RhinoScriptEngine.java:124)
        at javax.script.AbstractScriptEngine.eval(AbstractScriptEngine.java:247)
        at com.snstech.mocktest.util.MyInterceptor.preHandle(MyInterceptor.java:23)
        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:761)
        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:716)
        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:647)
        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:552)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)
        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:928)
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)
        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:539)
        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:300)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.Thread.run(Thread.java:662) 
```

或者他们是否有任何其他方式来做同样的事情......

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T09:40:22.527

我认为这是无法做到的，我的意思是，使用 Java 中的 JS 重定向到页面。无论如何，这没有任何意义。

你应该改变策略。[在这里](https://stackoverflow.com/questions/2999829/redirect-to-another-action-in-an-interceptor-in-struts-2)，您可以找到一种方法来使用 Struts 和[这里](http://www.mkyong.com/spring-mvc/spring-mvc-handler-interceptors-example/)的 Spring。如果您对更多解决方案感兴趣，请咨询 Google。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T10:01:16.747

`ScriptEngineManager`在服务器端运行脚本。`window`是一个客户端对象，你不能从服务器访问它。

如果您想这样做，您可以发送重定向，请参阅[HttpServletResponse sendRedirect Permanent](https://stackoverflow.com/questions/9034149/httpservletresponse-sendredirect-permanent)

# android - Android应用支持CDMA设备

> ID：11185609
> 
> 赞同：7
> 
> 时间：2012-06-25T08:11:39.567
> 
> 标签：android

我创建了一个 facebook android 应用程序。它在 GSM 上运行良好。当我在 CDMA 设备上运行它时，它甚至没有登录。我找到了这个：

> “谷歌停止了对 CDMA 设备的支持。目前该应用程序仅支持在 GSM 网络上运行的手机。CDMA 网络（例如 Sprint 和 Verizon）手机和 Torch 9800 尚不兼容。”

参考： [http ://www.theregister.co.uk/2012/02/07/google_android_cdma/](http://www.theregister.co.uk/2012/02/07/google_android_cdma/)

[http://www.spotify.com/int/help/faq/mobile/](http://www.spotify.com/int/help/faq/mobile/)

那么我不能在 CDMA 网络上运行我的应用程序吗？

# objective-c - 开发移动应用-支付信息

> ID：11185612
> 
> 赞同：1
> 
> 时间：2012-06-25T08:12:13.690
> 
> 标签：objective-c, ios, web-services, payment

我们即将开发新的移动应用程序，要求最终用户填写其支付信息，这些信息将被重定向到第三方门户网站以通过应用程序支付某些服务（使用 Web 服务）

用户使用网络服务发送计费信息，这对苹果来说是否合法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:24:21.917

只要您*不*向您的应用出售服务、扩展等，就可以在您的应用中集成第三方信用卡支付系统（例如 PayPal、亚马逊支付等或您自己的系统）。正如您所说，您要销售*实物*商品，这对Apple来说是可以的。亚马逊应用程序做同样的事情。顺便说一句，甚至明确禁止使用应用内付款来销售*实物*商品。

编辑：更多回答评论中的详细问题

恕我直言（见免责声明）：

*   实体商品的运费和实体服务的注册费*不是*服务或扩展 - 在 Apple 使用它的意义上，它仅适用于您的应用程序的一些附加功能，例如游戏中的新关卡或游戏中的新地图地图应用
*   要合法存储、传输、处理信用卡信息，您必须符合[支付卡行业数据安全标准](http://en.wikipedia.org/wiki/Payment_Card_Industry_Data_Security_Standard)。在这里，Apple 无事可做，但 Visa 和 Mastercard（可能还有其他发卡机构）*都要求*您实施这些做法，如果您希望处理他们卡的信用卡数据
*   最后一个要求可能很棘手，所以我真的建议您寻找一些现成的解决方案，而不是实现自己的解决方案。另请参阅此问题的第一个答案：[Use In App Purchase For Real Goods](https://stackoverflow.com/questions/9228869/use-in-app-purchase-for-real-goods)

免责声明：我不是法律权威或苹果公司的人，所以我只能给你提示，但不是法律建议 - 必须向律师寻求“官方”答案:)

# php - PHP 回调函数用于类似的 exec() 每个输出行实时

> ID：11185614
> 
> 赞同：4
> 
> 时间：2012-06-25T08:12:30.790
> 
> 标签：php

我正在寻找一个 php 函数或解决方法，它允许您为执行输出的每一行创建一个回调函数。我能找到的最好的是 proc_open()，但它只允许我在调用 fgets() 时输出每个指定的字节，以获取输出。如果我在 fgets() 中放置的字节太小，它会将一行分成多行；太大会延迟回调。

PHP 中是否有一个函数允许我在每个输出行调用我的回调函数，类似于 proc_open？Exec() 函数是一个很好的例子，因为它可以将每一行放入一个数组中，但它没有选项提供回调，因为它创建了每个索引。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T08:22:31.620

`exec`您可以通过使用回调调用返回的每一行来制作自己的。见下文

```
function exec_callback($command, $callback){
    $array = array();
    exec($command, $array, $ret);
    if(!empty($array)){
        foreach ($array as $line){
            call_user_func($callback, $line);
        }
    }
}

// example to use
function print_lines($line){
    echo "> $line\n";
}

exec_callback("ls -l /", 'print_lines'); 
```

# icloud - 删除的 UIDocument 经常从云端重新出现

> ID：11185615
> 
> 赞同：7
> 
> 时间：2012-06-25T08:12:33.470
> 
> 标签：icloud

我正在处理云中的文档... * 将文档添加到云 * 从云中删除该文档 * 不知何故，该文档在几秒钟后重新出现。

这是详细信息：

我像这样创建一个 UIDocument 的实例

```
 NSURL *ubiq = [[NSFileManager defaultManager] URLForUbiquityContainerIdentifier:nil];
    NSURL *ubiquitousPackage = [[ubiq URLByAppendingPathComponent:@"Documents"] URLByAppendingPathComponent:@"somenewfilename"];

    MyDoc* docTemp = [[MyDoc alloc] initWithFileURL:ubiquitousPackage];
    docTemp.mapContent = [NSString stringWithString:self.currentdocument.mapContent];

    [docTemp saveToURL:[docTemp fileURL] 
      forSaveOperation:UIDocumentSaveForCreating 
     completionHandler:^(BOOL success) {            
         if (success) {
             DLog(@"New document %@ saved/added: %@", newFilename, docTemp);
         }
         else {
             DLog(@"Failed saving new document: %@", newFilename);
         }
         [docTemp release];
     }]; 
```

然后像这样稍后删除它：

```
 NSURL* fileURL = self.currentdocument.fileURL;
    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^(void)       {
    NSFileCoordinator* fileCoordinator = [[NSFileCoordinator alloc] initWithFilePresenter:nil];
    NSError* error = nil;
    [fileCoordinator coordinateWritingItemAtURL:fileURL options:NSFileCoordinatorWritingForDeleting error:&error byAccessor:^(NSURL* writingURL) {
        if (error != nil) {
            DLog(@"Error with %@! %@", fileURL, error);
            return;
        }
        DLog(@"Got writingURL: %@", writingURL);
        NSFileManager* fileManager = [[NSFileManager alloc] init];
        if ([fileManager removeItemAtURL:writingURL error:nil]) {
            DLog(@"Deleted %@!", writingURL);
        }
        else {
            DLog(@"ERROR Failed deleting %@!", self.currentdocument);
        }
        [fileManager release];
        [fileCoordinator release];
    }];
}); 
```

现在，尽管执行了上述操作，但文件似乎被删除了一段时间（很短），但有几次，删除的文档会在一秒或几秒后重新出现在云中。（我可以通过另一台设备上的 iCloud 设置或通过发送更新通知的查询来检查这一点）。仅在某些情况下，该文件仍被删除。这是怎么回事？

我应该注意，即使从 Settings->iCloud 中删除文件也会导致上述模式。该文件在几秒钟后神奇地重新出现。时间问题？同步问题？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-12T13:20:10.083

不要在文档打开时删除它们。:-P

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-07-10T09:51:05.403

这方面问题的一个可能来源是 UIDocument 的 documentState 在删除时按顺序通过这些状态...

> 8 (UIDocumentStateEditingDisabled)
> 
> 然后 0 (UIdocumentStateNormal) 可能更新文件名，
> 
> 然后 4 (UIDocumentStateSavingError) 删除。

因此，删除可能会与您收到 UIDocumentStateChangedNotification 状态正常时触发的代码作斗争。

我希望这可以帮助别人。

更新

而不是试图从 DocumentState 驱动一切，因为我尝试了一个月但没有成功（按照 Wenderlich 的例子）......

对我来说，关键是将**适应**PresentedItemDeletionWithCompletionHandler 添加到子类UIDocument 中，其中包含一个closeWithCompletionhandler: 调用，该调用会在检测到删除时关闭所有设备上的打开文件。然后它会向我的经理发布通知，以从源数据数组中删除该项目的实例。

This seems much more robust and predictable. I do still see several DocumentState 8 and State 9s arriving to each device following a deletion, where I would expect to only see one, but that may be a different issue.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-12T03:42:19.503

在我的例子中，“accommodatePresentedItemDeletionWithCompletionHandler:”通过在 UIDocument 被无意识地打开时强制关闭来阻止曾经删除的文件重新出现。您可以在此处查看它的用法：[iCloud - 在另一台设备上重命名打开的文档有时会失败](https://stackoverflow.com/questions/8656504/icloud-renaming-open-documents-on-another-device-sometimes-fails)

# html - 浏览器将同时建立的最大连接数是多少？

> ID：11185618
> 
> 赞同：14
> 
> 时间：2012-06-25T08:12:51.463
> 
> 标签：html, css, browser

浏览器为下载 HTML 页面中指定的资源而建立的最大并发连接数是多少？它是否因浏览器而异/浏览器/连接速度？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-06-25T08:17:00.563

简短的回答是“每个域大约 4 到 6 个连接”

有关更多详细信息，请查看[每个浏览器将对给定域建立多少并行连接的精彩汇总](http://www.stevesouders.com/blog/2008/03/20/roundup-on-parallel-connections/)

结果总结如下...

```
+------------+------------+------------+
|浏览器 | HTTP/1.1 | HTTP/1.0 |
+------------+------------+------------+
|IE 6,7 | 2 ## | 4 #### |
|IE 8 | 6 ###### | 6 ###### |
|火狐2 | 2 ## | 8 ######## |
|火狐3 | 6 ###### | 6 ###### |
|野生动物园 3,4 | 4 #### | 4 #### |
|铬 1,2 | 6 ###### | ? |
|铬 3 | 4 #### | 4 #### |
|铬 4+ | 6 ###### | ? |
|iPhone 2 | 4 #### | ? |
|iPhone 3 | 6 ###### | ? |
|iPhone 4 | 4 #### | ? |
|Opera 9.63,10.00alpha | 4 #### | 4 #### |
|歌剧 10.51+ | 8 ######## | ? |
+------------+------------+------------+

```

# assembly - 指令的汇编最短代码

> ID：11185624
> 
> 赞同：1
> 
> 时间：2012-06-25T08:13:15.537
> 
> 标签：assembly, x86

列出 SHORTEST POSSIBLE CODE（计算指令数），定义如下，得到值 1。对于 80*86 的机器

```
x:   dw   0xff00
y:   resb 1
z:   resw 1 
```

**编辑：** 我认为答案应该是这样的：

```
MOV  DWORD [x+1], 0x01010001  ; 
```

;查看：

```
mov eax , 0
mov al , byte[y]
print_d eax ; print 0

mov eax , 0
mov ax , word[x]
print_d eax ; print 256

mov eax , 0
mov ax , word[z]
print_d eax ; print 257 
```

但。这不好...应该打印 1

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T10:00:53.693

这是您的`x`,`y`和`z`以字节形式列出的内存（从低地址 ( `x`) 到高地址 ( `z`)）：

```
xx XX yy zz ZZ 
```

其中`xx`是`x`(0) 的最低有效字节，`XX`是`x`(0xFF) 的最高有效字节，对于 和 也是`y`如此`z`。

如果我理解正确，`y`并且`z`没有初始化（`res*`提示内存保留关键字的 NASM 语法）。

所以你想改变这个：

```
00 FF yy zz ZZ 
```

进入这个：

```
01 00 01 01 00 
```

对？

`MOV DWORD [x+1], 0x01010001`将其转换为：

```
00 01 00 01 01 
```

所以，这是不正确的。并且您需要超过 1 条指令来更改 5 个字节，因为 32 位指令一次最多写入 4 个字节。

我想说指令数量最短的是2 `MOVs`（NASM语法）：

```
mov dword [x], 0x01010001
mov byte [x+4], 0 
```

# iphone - 当前图像未使用 UIScrollview 显示在照片库中

> ID：11185626
> 
> 赞同：0
> 
> 时间：2012-06-25T08:13:19.297
> 
> 标签：iphone, xcode, uiscrollview, photolibrary

我必须使用 UIScrollview 显示照片库中的图像。除了第一张图片，其余的都不会在运行时被选中。要查看它们，必须滚动到选定的图像。如何查看我选择的图像，而不是从第一张图像本身开始？谢谢你。

```
- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info{
UIImage *img = [info valueForKey: @"UIImagePickerControllerOriginalImage"];
[imagearray addObject:img];
[self dismissModalViewControllerAnimated:YES];
for (int i =0; i<[imagearray count]; i++) 
{ 
   CGFloat yOrigin = i * self.view.frame.size.width;
   image = [[UIImageView alloc] initWithFrame:CGRectMake(yOrigin, 0, self.view.frame.size.width, self.view.frame.size.height)];
   [image setImage:[imagearray objectAtIndex:i]];
   [image setUserInteractionEnabled:YES];
   [scrollView1 addSubview:image];
   scrollView1.contentSize = CGSizeMake(self.view.frame.size.width * [imagearray count], 350.0);} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:17:54.120

您应该为 contentOffset 属性分配适当的值。它的滚动视图将变得可见的点。默认情况下，它位于 Origin。但是您可以将它设置在您想要显示滚动视图的位置。

# android - 如何替换标准的 Android 拨号器

> ID：11185634
> 
> 赞同：-1
> 
> 时间：2012-06-25T08:14:45.650
> 
> 标签：android

> **可能重复：**
> [如何拦截来电android 2.3.x](https://stackoverflow.com/questions/11180727/how-to-intercept-incoming-calls-android-2-3-x)

我正在制作一个覆盖默认电话屏幕的应用程序，它需要与 Android 2.3 及更高版本兼容。

目前我有这个代码：

```
private void answerCallAidl() throws RemoteException {
    // telephonyService.silenceRinger();       -------not work on 2.3
    // telephonyService.answerRingingCall();   -------not work on 2.3

    Intent headSetUnPluggedintent = new Intent(Intent.ACTION_HEADSET_PLUG);
    headSetUnPluggedintent.addFlags(Intent.FLAG_RECEIVER_REGISTERED_ONLY);
    headSetUnPluggedintent.putExtra("state", 1); // 0 = unplugged  1 = Headset with microphone 2 = Headset without microphone
    headSetUnPluggedintent.putExtra("name", "Headset");

    // TODO: Should we require a permission?
    sendOrderedBroadcast(headSetUnPluggedintent, null);

    Intent buttonDown = new Intent(Intent.ACTION_MEDIA_BUTTON);           
    buttonDown.putExtra(Intent.EXTRA_KEY_EVENT, new KeyEvent(KeyEvent.ACTION_DOWN,
                          KeyEvent.KEYCODE_HEADSETHOOK));
    sendOrderedBroadcast(buttonDown, "android.permission.CALL_PRIVILEGED");

    // froyo and beyond trigger on buttonUp instead of buttonDown
    Intent buttonUp = new Intent(Intent.ACTION_MEDIA_BUTTON);             
    buttonUp.putExtra(Intent.EXTRA_KEY_EVENT, new KeyEvent(KeyEvent.ACTION_UP,
                           KeyEvent.KEYCODE_HEADSETHOOK));
    sendOrderedBroadcast(buttonUp, "android.permission.CALL_PRIVILEGED");
} 

private void ignoreCallAidl() throws RemoteException {
    // telephonyService.silenceRinger();     -------not work on 2.3
    // telephonyService.endCall();           -------not work on 2.3
    Intent buttonUp = new Intent(Intent.ACTION_MEDIA_BUTTON);             
    buttonUp.putExtra(Intent.EXTRA_KEY_EVENT, new KeyEvent(KeyEvent.ACTION_DOWN,
                        KeyEvent.KEYCODE_HEADSETHOOK));
    sendOrderedBroadcast(buttonUp, "android.permission.CALL_PRIVILEGED");
} 
```

我的问题是：

1.  我无法拒绝来电。
2.  它不适用于版本 2.3.5。
3.  我希望我的应用程序替换默认的电话屏幕。

我将非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T09:29:40.140

简而言之 - 这是不可能的。

以前在 JAVA 中有一个作弊（使用反射），但现在它不再可用。请参考下文，

```
Class c = Class.forName(tm.getClass().getName());
Method m = c.getDeclaredMethod("getITelephony");
m.setAccessible(true);
telephonyService = (ITelephony)m.invoke(tm); 
```

你应该参考[这个](http://blog.wangling.me/2009/08/why-it-is-impossible-to-intercept-incoming-calls-on-android/)链接；这说明这是不可能的。我建议在阅读完这篇文章后尽快放弃这个想法。

# nosql - 使用复合键插入 cassandra 列族

> ID：11185642
> 
> 赞同：5
> 
> 时间：2012-06-25T08:15:20.880
> 
> 标签：nosql, cassandra, composite-primary-key, hector

我有一个列族`AllLog`创建

```
create column family LogData
  with column_type = 'Standard'
  and comparator = 'CompositeType(org.apache.cassandra.db.marshal.UTF8Type,org.apache.cassandra.db.marshal.UTF8Type)'
  and default_validation_class = 'UTF8Type'
  and key_validation_class = 'CompositeType(UTF8Type,UTF8Type)'; 
```

但是当我使用 mutator 插入时：

```
 String key0 = "key0";
    String key1 = "key1";

    Composite compositeKey = new Composite();
    compositeKey.addComponent(key0, StringSerializer.get());
    compositeKey.addComponent(key1, StringSerializer.get());

    // add
    mutator.addInsertion(compositeKey, columnFamilyName, HFactory.createColumn("name", "value"));
    mutator.execute(); 
```

总是通过异常：

```
me.prettyprint.hector.api.exceptions.HInvalidRequestException:
InvalidRequestException(why:Not enough bytes to read value of component 0) 
```

请有人帮助我，我在这段代码中的错误在哪里？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T17:40:50.127

架构将比较器指定为复合类型，但插入会创建一个带有单个字符串（“名称”）的列。

# ios - RouteMe 标记

> ID：11185643
> 
> 赞同：0
> 
> 时间：2012-06-25T08:15:24.453
> 
> 标签：ios, map, route-me

我正在尝试从地图上的标记中获取事件。这是包含 mapView 的 MainViewController 中的一些代码。

```
UIImage* labelView = [self snapshotImage:theView];
UIImageView *imageView=[[UIImageView alloc]initWithImage:labelView];
CGRect rect=CGRectMake(0,0,imageView.image.size.width,imageView.image.size.height);
MyRMView *myrm = [[MyRMView alloc]initWithFrame:rect];

UIButton *sens = [UIButton buttonWithType:UIButtonTypeRoundedRect];
[sens addTarget:self 
           action:@selector(DoSomething:)
 forControlEvents:UIControlEventTouchUpInside];
sens.frame = rect;

[myrm addSubview:imageView];
[myrm addSubview:sens];
MyRMMarker* newMarker = [[MyRMMarker alloc] initWithUIImage:nil anchorPoint:CGPointMake(0.0, 1.0)];
newMarker.label = myrm; 
```

`MyRMMarker`继承自`RMMarker`其继而继承自`CALayer`。该`label`属性本质上是一个 UIView 。

问题是，我没有从`DoSomething`.

任何帮助将不胜感激。
谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T11:03:30.427

解决了：

[https://github.com/dguerri/route-me/commit/8dc751724a2b231c2b26dde93c94bd607509da27#L1R192](https://github.com/dguerri/route-me/commit/8dc751724a2b231c2b26dde93c94bd607509da27#L1R192)

这包含来自 RouteMe 的所有缺失代码。

# diff - p4diff 和 p4diff2 之间的区别

> ID：11185646
> 
> 赞同：6
> 
> 时间：2012-06-25T08:15:26.383
> 
> 标签：diff, perforce

P4 diff 和 P4 diff2 有什么区别？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-25T09:56:00.923

`p4 diff`在客户端上使用，例如将本地修改的文件与仓库上的版本进行比较。`p4 diff2`用于比较**服务器上的**两个文件。

从手册：

```
$ p4 help diff

On the client machine, diff a client file against the corresponding
revision in the depot. The file is compared only if the file is
opened for edit or a revision is provided. See 'p4 help revisions'
for details about specifying revisions.

$ p4 help diff2

'p4 diff2' runs on the server to compare one set of depot files (the
'source') to another (the 'target').  Source and target file sets
can be specified on the 'p4 diff2' command line or through a branch
view. 
```

# c# - TimeSpan.Add() 与 TimeSpan.FromMinutes(1) 一起使用

> ID：11185647
> 
> 赞同：0
> 
> 时间：2012-06-25T08:15:30.123
> 
> 标签：c#, c#-4.0, timespan

早上，我试图向现有的 TimeSpan 对象添加 1 分钟。我想避免声明一个新的 TimeSpan 对象，并认为以下代码可以工作：

```
ts3.Add(TimeSpan.FromMinutes(1)); 
```

MSDN 信息将 TimeSpan.Add 方法签名声明为：

```
public TimeSpan Add(TimeSpan ts) 
```

和 TimeSpan.FromMinutes 方法为：

```
public static TimeSpan FromMinutes(double value) 
```

Add 需要一个 TimeSpan 对象，而 FromMinutes 返回一个 TimeSpan 对象，所以我不明白为什么我不能将两者结合使用，如第一个代码块中所述。

如果有人能指出我哪里出错了，我将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-25T08:20:12.323

你*可以*结合使用它们——但你需要知道它`TimeSpan`本身是不可变的——你需要使用返回值：

```
TimeSpan result = ts3.Add(TimeSpan.FromMinutes(1)); 
```

或者你总是可以分配回同一个变量：

```
ts3 = ts3.Add(TimeSpan.FromMinutes(1)); 
```

我个人会使用运算符重载：

```
TimeSpan result = ts3 + TimeSpan.FromMinutes(1); 
```

或者

```
ts3 += TimeSpan.FromMinutes(1); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:21:15.037

您必须创建一个新的 TimeSpan 才能将一分钟添加到现有的 TimeSpan。

唯一的方法是 myTimeSpan.Add(TimeSpan.FromMinutes(xxx)) 并使用返回的值作为加法的结果

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T08:19:37.367

您当然可以按照您指示的方式使用时间跨度。您的问题中没有任何内容表明有任何问题。

# bash - 如何查找和执行？

> ID：11185648
> 
> 赞同：1
> 
> 时间：2012-06-25T08:15:32.030
> 
> 标签：bash, find, execute

所有[find](http://linux.die.net/man/1/find)和 execute 示例都是这个的变体（带有`/bin/rm`）：

```
find /tmp -name core -type f -print0 | xargs -0 /bin/rm -f 
```

但我找不到如何查找和执行文件（假设它们是可执行的）。

那么，如何从 bash 脚本中查找和执行文件呢？

我试过这样（和类似的变体）：

```
find $ROOT_PATH -executable  -name unittests_runner.exe -exec {} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T08:20:30.333

您只需要添加一个“\;” 在您的行尾，例如：

```
find $ROOT_PATH -executable  -name unittests_runner.exe -exec {} \; 
```

等等...

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T08:16:47.240

试试这个：

```
for `find $ROOT_PATH -executable  -name unittests_runner.exe`; do 
    `$i`
done 
```

顺便一提：

```
`something` 
```

是简写

```
${something} 
```

它的意思是“执行里面的任何东西”

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T08:20:23.300

我会尝试类似的东西：

```
find $ROOT_PATH -executable -type f | xargs /bin/bash 
```

# javascript - 在Javascript中生成html链接

> ID：11185664
> 
> 赞同：0
> 
> 时间：2012-06-25T08:16:38.003
> 
> 标签：javascript, html, hyperlink

我有一个简单的 javascript 问题（我不是 javascript 专家，所以请原谅这个简单的问题；）。我们目前正在迁移一个系统，在旧系统上应该有一个简单的 HTML 链接，可以将您引导到新系统（具有相同的路径）。我目前的方法效果不太好：

```
Information can be found<a href="javascript:'('http://theNewServername:8080/'+(window.location.pathname));">here </a> 
```

这并不代表我正确的href-link。你能帮我解决这个“单线”吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:18:56.390

像这样？

```
<a href="javascript:void(window.location.href='http://theNewServername:8080/'+(window.location.hostname))">here </a> 
```

# javascript - jQuery UI 布局调整大小错误

> ID：11185665
> 
> 赞同：0
> 
> 时间：2012-06-25T08:16:46.153
> 
> 标签：javascript, jquery, layout, user-interface

我正在尝试使用 jQuery UI 布局插件。当我从开发者网站打开简单的演示（[http://layout.jquery-dev.net/demos/simple.html](http://layout.jquery-dev.net/demos/simple.html) ）时，它看起来很完美。但是，如果我从本地 Web 服务器运行此演示（以及任何其他布局演示），则会显示一些不必要的元素。

[截图](http://s17.postimage.org/l591c60gf/layout_err.jpg) （我是新手，所以我不能在那里发布图片）

我在 Firebug 中浏览了这个页面，发现它是面板调整大小（class="ui-layout-resizer"），显示在错误的位置。

我怎样才能解决这个问题？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-04T14:23:07.370

这个确切的问题可以通过将`box-sizing`窗格的 CSS 属性设置为`content-box`.

这个问题似乎出现在最新的候选版本（1.3.0 – RC30.75）中。在不了解有关您的情况的更多详细信息的情况下，我不知道这是否会影响您，但是，这是针对此特定问题的修复程序。

用以下内容替换`cssWidth`函数（RC30.75 中的第 448 行未缩小，但这可能会改变。注意方法名称前的逗号）：

```
cssWidth: function ($E, outerWidth) {
        // a 'calculated' outerHeight can be passed so borders 
        // and/or padding are removed if needed
        if (outerWidth <= 0) return 0;

        if (!$.layout.browser.boxModel) return outerWidth;

        var b = $.layout.borderWidth
            ,   n = $.layout.cssNum
            ,   W = outerWidth

        // depending on the level of box-sizing used, strip 
        // padding and/or margins from the width
        var boxSizing = $E.css("box-sizing")

        if (boxSizing !== "border-box") {
            W = W - n($E, "paddingLeft")
                - n($E, "paddingRight");
            if (boxSizing !== "padding-box") {
                W = W - b($E, "Left")
                      - b($E, "Right");
            }
        }

        return max(0,W);
    } 
```

我已将此编辑提交给那边的小组。如果我没有做傻事，并且这确实解决了他们满意的问题，那么希望这些更改最终会出现在产品中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-04T16:42:09.713

其他解决方案：将 box-sizing 设置为“content-box”。

* * *

有关更多详细信息，在 lib 的源代码中，它已在最新代码 1.4.1 中修复，但还有另一个错误会禁用该修复。

代码 v.1.4.1：

```
 var lb  = $.layout.browser
    ,   bs  = !lb.boxModel ? "border-box" : lb.boxSizing ? $E.css("boxSizing") : "content-box"
    ,   b   = $.layout.borderWidth
    ,   n   = $.layout.cssNum
    ,   W   = outerWidth
    ;
    // strip border and/or padding from outerWidth to get CSS Width
    if (bs !== "border-box")
        W -= (b($E, "Left") + b($E, "Right"));
    if (bs === "content-box")
        W -= (n($E, "paddingLeft") + n($E, "paddingRight")); 
```

但

```
bs = $s.boxSizing !== undefined ? $s.boxSizing : $s.boxSizingReliable 
```

chrome 总是错误的，因为 $s.boxSizingReliable() => false。

# sencha-touch-2 - 如何在sencha touch 2中单击按钮打开新视图

> ID：11185667
> 
> 赞同：0
> 
> 时间：2012-06-25T08:16:48.307
> 
> 标签：sencha-touch-2

我有两种观点

1.  带有项目字段集和按钮的 Search.js
2.  ContactList.js 与联系人列表

我有一个控制器 Main.js

我想在 Sencha Touch 2 中实现一个功能，当单击 Search.js 上的按钮时，应该显示来自 ContactList.js 的联系人列表。我该怎么做呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T10:01:41.690

首先，在视图中的“搜索”按钮中添加一个操作或一个 ID

```
{
    title: "My Button",
    xtype: 'button',
    action: 'call-contact-list',
} 
```

然后在您的控制器中，您需要实现单击按钮时会发生什么。以下面的代码为例。代码需要在控制配置中：

```
control: {
   'button[action=call-contact-list]': {
            tap: 'myFunction'
        }
}

myFunction: function() {
    //Code to run when the button has been clicked. 
    //In this case, loading ContactList.js which should be something like this:
     Ext.Viewport.add({
         xtype: 'contactlist' //the xtype for the ContactList.js
     });
}, 
```

# android - 图形布局编辑器是否缩放？

> ID：11185676
> 
> 赞同：0
> 
> 时间：2012-06-25T08:18:19.333
> 
> 标签：android

我使用我认为的最佳实践、dp、fill_parent、wrap_parent 等设计了一个布局。当设置为 3.7 英寸 WVGA（Nexus One）时，它在图形编辑器中看起来正确，但如果我选择 7 英寸 WSVGA（平板电脑），比例已关闭。一个在 3.7 英寸上占据了一半屏幕的元素，在 7 英寸上看起来只占据了大约 1/4 的屏幕。图形编辑器没有缩放还是我的布局有问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:24:18.757

嗯，这可能是因为几件事。使用 DP 时，不同屏幕的密度会发生变化。因此，您有几个可绘制文件夹。在此处阅读有关密度像素和其他图形内容的更多信息：http: [//developer.android.com/guide/practices/screens_support.html/](http://developer.android.com/guide/practices/screens_support.html/)

设备的比例也关闭了，并`fill_parent`填充了一个视图，而`wrap_content`只使用了组件所需的最小宽度和高度。因此，它与此无关，因为您使用了屏幕的 1/2 或 1/4。所以，规模没有关闭。直接从上面的网站查看下面的一些 dp 信息：

xlarge 屏幕至少 960dp x 720dp 大屏幕至少 640dp x 480dp 普通屏幕至少 470dp x 320dp 小屏幕至少 426dp x 320dp

# android - 以前设置的变量值正在变为空

> ID：11185677
> 
> 赞同：-1
> 
> 时间：2012-06-25T08:18:25.543
> 
> 标签：android

我有一个名为 global 的类，它扩展了 Application，以维护在第一个活动中获得的值到下一个活动，我通过使用 getter 和 setter 函数来使用这个类。每当我想从当前活动中获取或设置任何值时，我都会创建一个全局类的静态对象。应用程序将在第一次启动和半小时后正常运行。如果我想在半小时后恢复应用程序，则全局类中贴花的所有变量都变为空，并且恢复活动的变量也变为空。

我确信我的代码中存在一些问题。我请求任何人帮助我摆脱这个错误。

请在此处查看我的代码 package com.globalnest；

导入android.app.Application；

公共类 GlobalClass 扩展应用程序 { public int displayTab = 0;

```
public int getDisplayTab() {
    return displayTab;
}

public void setDisplayTab(int displayTab) {
    this.displayTab = displayTab;
}

public boolean isLeaddetails;

public boolean isLeaddetails() {
    return isLeaddetails;
}

public void setLeaddetails(boolean isLeaddetails) {
    this.isLeaddetails = isLeaddetails;
}

public static boolean startedApp;

public boolean isStartedApp() {
    return startedApp;
}

public void setStartedApp(boolean startedApp1) {
    startedApp = startedApp1;
}

public String accessToken;
public String boothId;
public String eventBrite;
public String scanedQR;
public String fname;
public String lname;
public String cname;
public String Id;
public String emailId;
public String ph;
public String note;
public String title;
public String date;
public String cat;
public String booth_fname;

public void setMyBoothFirstName(String booth_fname) {
    this.booth_fname = booth_fname;
}

public String getMyBoothFirstName() {
    return booth_fname;
}

public void setMyCategory(String cat) {
    this.cat = cat;
}

public String getMyCategory() {
    return cat;
}

public void setMyDate(String date) {
    this.date = date;
}

public String getMyDate() {

    return date;
}

public void setMyTitle(String title) {
    this.title = title;
}

public String getMyTitle() {
    return title;
}

public void setMyNote(String note) {
    this.note = note;
}

public String getMyNote() {
    return note;
}

public void setMyPh(String ph) {
    this.ph = ph;
}

public String getMyPh() {
    return ph;
}

public void setMyEmailId(String emailId) {
    this.emailId = emailId;
}

public String getMyEmailId() {
    return emailId;
}

public void setMyScanedId(String Id) {
    this.Id = Id;
}

public String getMyScanedId() {
    return Id;
}

public void setMyfname(String fname) {
    this.fname = fname;
}

public String getMyfname() {
    return fname;
}

public void setMylname(String lname) {
    this.lname = lname;
}

public String getMylname() {
    return lname;
}

public void setMycname(String cname) {
    this.cname = cname;
}

public String getMycname() {
    return cname;
}

public void setMyAccessToken(String accessToken) {
    this.accessToken = accessToken;
}

public String getMyAccessToken() {
    return accessToken;
}

public void setMyBoothId(String boothId) {
    this.boothId = boothId;
}

public String getMyBoothId() {
    return boothId;
}

public void setMyEventBrite(String eventBrite) {
    this.eventBrite = eventBrite;
}

public String getMyEvetBrite() {
    return eventBrite;
}

public void setMyScanedQR(String scanedQR) {
    this.scanedQR = scanedQR;
}

public String getMyScanedQR() {
    return scanedQR;
} 
```

}

公共类 AutoSearchText 扩展 ListActivity {

```
static String rFirstName = null, rLastName = null, rCompanyName = null,
        string_qrcode;
private static final String TABLE_NAME = "qr";
private ListView listView;
static AutoCompleteTextView et;
String resp;
int a;
private MyArrayAdapter adapter;
static ProgressDialog progressDialog;
private static List<String> data, fname;
private static List<String> newdata, newdata1, qrcode, sorted_qrcode;
private static List<String> data1, sorted_visits, company;
static GlobalClass global;
Cursor cur = null;
String s = null;
String result = null;
String[] array1, array2;
String[] array, arry_qrcode;
static EditText textView;
static String clickQR = null;
TextView total;
Runnable r;
Bundle inBundle;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    inBundle = savedInstanceState;
    setContentView(R.layout.list_main);

    r = new Runnable() {

        @Override
        public void run() {

            data = new LinkedList<String>();
            fname = new LinkedList<String>();
            sorted_visits = new LinkedList<String>();
            data1 = new LinkedList<String>();
            company = new LinkedList<String>();
            newdata = new LinkedList<String>();
            newdata1 = new LinkedList<String>();
            qrcode = new LinkedList<String>();
            sorted_qrcode = new LinkedList<String>();
            global = (GlobalClass) getApplication();
            System.out.println("Start posting");
            runOnUiThread(new Runnable() {

                @Override
                public void run() {
                    progressDialog = ProgressDialog.show(getParent(),
                            "Loading...", "Leads");
                }
            });

            // TODO Auto-generated method stub
            get_leads();
            total = (TextView) findViewById(R.id.textView1);
            final TextView tv = (TextView) findViewById(R.id.txt_lead);
            // Cursor cur = null;

            // data.add(s);
            System.out.println("data" + data);

            if (data != null && result != null) {
                // tv.setText(data.size()+" Leads");
                runOnUiThread(new Runnable() {

                    @Override
                    public void run() {
                        tv.setText(data.size() + " Leads");
                    }
                });

                // tv.setText(a+" Leads");

                array = new String[data.size()];
                array1 = new String[data1.size()];
                array2 = new String[company.size()];
                arry_qrcode = new String[qrcode.size()];

                for (int i = 0; i < data.size(); i++) {
                    array[i] = data.get(i);
                    array1[i] = data1.get(i);
                    array2[i] = company.get(i);
                    arry_qrcode[i] = qrcode.get(i);
                }
                String[] a = { "1", "2" };
                adapter = new MyArrayAdapter(AutoSearchText.this, array,
                        array1, array2, arry_qrcode);
                runOnUiThread(new Runnable() {

                    @Override
                    public void run() {
                        setListAdapter(adapter);
                        progressDialog.dismiss();

                    }
                });

            }

            listView = getListView();
            listView.setItemsCanFocus(false);
            listView.setTextFilterEnabled(true);
            listView.setChoiceMode(ListView.CHOICE_MODE_SINGLE);

            listView.setOnItemClickListener(new OnItemClickListener() {

                @Override
                public void onItemClick(AdapterView<?> arg0, View arg1,
                        int arg2, long arg3) {
                    ViewHolder holder = (ViewHolder) arg1.getTag();
                    clickQR = holder.getQrcode();
                    global.setMyScanedQR(clickQR);
                    if (isOnline()) {
                        progressDialog = ProgressDialog.show(getParent(),
                                "Verifying ..", "Please Wait..");

                        try {
                            InputMethodManager imethodManager = (InputMethodManager) getApplicationContext()
                                    .getSystemService(
                                            Context.INPUT_METHOD_SERVICE);
                            imethodManager.hideSoftInputFromWindow(
                                    textView.getWindowToken(), 0);
                        } catch (Exception e) {
                            e.printStackTrace();
                        }

                        new GetDataTask().execute();
                    } else {
                        alert("Warning",
                                "Please check your Data Connection");
                    }
                    // Toast.makeText(AutoSearchText.this,
                    // holder.getQrcode(),Toast.LENGTH_LONG).show();

                }
            });

        }
    };

    textView = (EditText) findViewById(R.id.et_search);

    textView.addTextChangedListener(new TextWatcher() {
        public void onTextChanged(CharSequence s, int start, int before,
                int count){
            int textlength=0;
            if(s!=null){
             textlength = s.length();
            }
            else{
                Toast.makeText(getApplicationContext(), "EDit text  is null", 600000).show();
                return;

            }

           newdata.clear();
           newdata1.clear();

           sorted_visits.clear();
           sorted_qrcode.clear();
            for (int i = 0; i < array.length; i++) {
                if (textlength <= array[i].length()) {
                    if (array[i].subSequence(0, array[i].length())
                            .toString().toUpperCase()
                            .indexOf(s.toString().toUpperCase()) != -1) {
                        newdata.add(array[i]);
                        newdata1.add(array2[i]);
                        sorted_visits.add(array1[i]);
                        sorted_qrcode.add(arry_qrcode[i]);
                    }
                }
            }
            if (newdata.size() > 0) {
                listView.setVisibility(View.VISIBLE);
                String[] a = { "1", "2" };
                adapter = new MyArrayAdapter(getParent(),
                        (String[]) newdata.toArray(new String[0]),
                        (String[]) sorted_visits.toArray(new String[0]),
                        (String[]) newdata1.toArray(new String[0]),
                        (String[]) sorted_qrcode.toArray(new String[0]));
                setListAdapter(adapter);
                listView = getListView();
            } else {

                listView.setVisibility(View.INVISIBLE);
            }

            listView.setItemsCanFocus(false);
            listView.setChoiceMode(ListView.CHOICE_MODE_SINGLE);
        }

        public void beforeTextChanged(CharSequence s, int start, int count,
                int after) {
            // TODO Auto-generated method stub

        }

        public void afterTextChanged(Editable s) {
            /*
             * if (newdata != null&&result!=null) { array = new
             * String[newdata.size()]; array1= new String[newdata.size()];
             * for (int i = 0; i < newdata.size(); i++) { array[i] =
             * newdata.get(i); array1[i]=newdata.get(i); } String[]
             * a={"1","2"}; adapter = new MyArrayAdapter(getParent(),
             * array,array1); setListAdapter(adapter); } listView =
             * getListView(); listView.setItemsCanFocus(false);
             * listView.setChoiceMode(ListView.CHOICE_MODE_SINGLE);}
             */}
    });

}

/*******************************************************************
 * 
 * @Desc : This method to diplsy alert when connection not available and
 *       control navigate to scan
 * @param : String
 * @return : none
 * 
 *         ********************************************************
 */

private void alert(String title, String error) {

    if (progressDialog.isShowing())
        progressDialog.dismiss();
    AlertDialog alertDialog = new AlertDialog.Builder(getParent()).create();
    alertDialog.setCancelable(false);
    alertDialog.setTitle(title);
    alertDialog.setMessage(error);
    alertDialog.setCancelable(false);
    alertDialog.setButton("OK", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int which) {
            try {

                global.setDisplayTab(0);
                Intent i = new Intent(getParent(), AdminTabHost.class);
                startActivity(i);
            } catch (Exception e) {
                e.printStackTrace();
            }

        }
    });
    alertDialog.show();

}

private void get_leads() {
    // TODO Auto-generated method stub
    try {

        String url = "https://ap1.salesforce.com/services/apexrest/getLead?Id="
                + global.getMyBoothId();

        // URLEncoder.encode(textView.getText().toString(),"UTF-8"));
        HttpGet httpGet = new HttpGet(url);
        System.out.println("url" + url);
        // https://na7.salesforce.com/services/apexrest/GlobalNestEM/Verify_Lead?Id"+global.getMyBoothId()+"&Barcode=100000051
        HttpParams httpParameters = new BasicHttpParams();
        // set up time out connection 30s
        int timeoutConnection = 3000;
        HttpConnectionParams.setConnectionTimeout(httpParameters,
                timeoutConnection);
        int timeoutSocket = 3000;
        HttpConnectionParams.setSoTimeout(httpParameters, timeoutSocket);

        String token = "00DA0000000L49t!AQ8AQFxfw19eJBNw_NNxyesR.PTOiFMpZP4SrXkEpSZ3tl_Hr4btzhggN_KVwT5x3cS1o0ohcVSeIBYC1aLkhWMitSA05JUt";
        httpGet.addHeader("Authorization",
                "OAuth " + global.getMyAccessToken());
        // System.out.println("post acessToken"+global.getMyAccessToken());
        DefaultHttpClient httpClient = new DefaultHttpClient(httpParameters);
        HttpResponse httpResponse;

        httpResponse = httpClient.execute(httpGet);
        result = EntityUtils.toString(httpResponse.getEntity());
        System.out.println("res for getLead" + result);
        JSONArray ja;
        String s = null;
        // progressDialog.dismiss();
        try {
            ja = new JSONArray(result);
            // JSONObject j=new JSONObject(ja);
            ja.length();
            a = ja.length();
            System.out.println("xxxx" + ja.length());
            for (int i = 0; i < ja.length(); i++) {
                String visits = null;
                String date_global = null, temp = null;
                try {
                    visits = ja
                            .getJSONObject(i)
                            .get("Attendee_NextFollowUpDate__c")
                            .toString();

                    DateFormat df1 = new SimpleDateFormat("yyyy-MM-dd");
                    DateFormat df2 = new SimpleDateFormat("MM-dd-yyyy");
                    temp = df2.format(df1.parse(visits));
                    date_global = temp.replace('-', '/').toString();

                    // s=visits.replace('-','/').toString();
                } catch (Exception e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }

                rLastName = ja.getJSONObject(i)
                        .get("Attendee_LastName__c")
                        .toString();
                rCompanyName = ja.getJSONObject(i)
                        .get("Attendee_Company__c")
                        .toString();
                rFirstName = ja.getJSONObject(i)
                        .get("Attendee_FirstName__c")
                        .toString();

                System.out.println("rFirstName" + rFirstName + ja.length());
                try {
                    string_qrcode = ja.getJSONObject(i)
                            .get("Attendee_BarCode1__c")
                            .toString();
                } catch (Exception e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }

                fname.add(rFirstName);
                data.add(rFirstName + " " + rLastName);

                // data.add(rFirstName + "\n" + rLastName);
                // newdata.add(rFirstName+"\n"+rLastName);
                data1.add(date_global);
                company.add(rCompanyName);
                qrcode.add(string_qrcode);
            }
            // System.out.println(""+ja.getJSONObject(0).get("Attendee_LastName__c"));
        } catch (JSONException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        System.out.println("Result lead details" + result);

    } catch (ClientProtocolException e) {
        runOnUiThread(new Runnable() {
            @Override
            public void run() {
                alert("Warning", "Please check your Data Connection");

            }
        });
        e.printStackTrace();
    } catch (IOException e) {
        runOnUiThread(new Runnable() {
            @Override
            public void run() {
                alert("Warning", "Please check your Data Connection");

            }
        });
        e.printStackTrace();
    } catch (Exception e) {
        alert("Warning", "Please check your Data Connection");
    }
}

private Boolean isOnline() {
    ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);
    NetworkInfo ni = cm.getActiveNetworkInfo();
    if (ni != null && ni.isConnected())
        return true;

    return false;
}

private void alertDialog(String string) {
    // TODO Auto-generated method stub
    AlertDialog.Builder d1 = new AlertDialog.Builder(getParent());
    d1.setMessage(string);
    d1.setTitle("Search Result");
    d1.setPositiveButton("ok", null);
    d1.setCancelable(true);
    d1.create().show();
}

public static String postPost(String s) throws NoNetWorkException {
    System.out.println("Start posting");
    global.setMyfname(null);
    global.setMyEmailId(null);
    global.setMyNote(null);
    global.setMylname(null);
    global.setMyDate(null);
    global.setMycname(null);
    global.setMyPh(null);
    global.setMyTitle(null);
    String result = null;

    try {
        String url = "https://ap1.salesforce.com/services/apexrest/Verify_Lead?Id="
                + global.getMyBoothId()
                + "&Barcode="
                + clickQR
                + "&EventBrite=" + global.getMyEvetBrite() + "";
        HttpGet httpGet = new HttpGet(url);
        System.out.println("url" + url);
        // https://na7.salesforce.com/services/apexrest/GlobalNestEM/Verify_Lead?Id"+global.getMyBoothId()+"&Barcode=100000051
        HttpParams httpParameters = new BasicHttpParams();
        // set up time out connection 30s
   /*     int timeoutConnection = 30000;
        HttpConnectionParams.setConnectionTimeout(httpParameters,
                timeoutConnection);
        int timeoutSocket = 30000;
        HttpConnectionParams.setSoTimeout(httpParameters, timeoutSocket);*/
        httpGet.addHeader("Authorization",
                "OAuth " + global.getMyAccessToken());
        // System.out.println("post acessToken"+global.getMyAccessToken());
        DefaultHttpClient httpClient = new DefaultHttpClient(httpParameters);
        HttpResponse httpResponse;
        httpResponse = httpClient.execute(httpGet);
        result = EntityUtils.toString(httpResponse.getEntity());
        System.out.println("Verify result" + result);
        // return result;
    } catch (ClientProtocolException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
        throw new NoNetWorkException();
    } catch (IOException e) {
        e.printStackTrace();
        throw new NoNetWorkException();
    }

    return result;
}

private class GetDataTask extends AsyncTask<Void, Void, String> {

    @Override
    protected String doInBackground(Void... params) {
        if (isOnline()) {
            try {
                Thread.sleep(0);
                resp = postPost("");
                System.out.println(" post responceforVerify= " + resp);
            } catch (InterruptedException e1) {
                // TODO Auto-generated catch block
                e1.printStackTrace();
            } catch (NoNetWorkException e) {
                Log.d("No NetWork", "No NetWork");
                resp = "no network";
                return resp;

            }

        }
        return resp;
    }

    @Override
    protected void onPostExecute(String result) {
        progressDialog.dismiss();
        super.onPostExecute(result);

        if (resp.equalsIgnoreCase("no network")) {

            runOnUiThread(new Runnable() {
                @Override
                public void run() {
                    alert("Warning", "Please check your Data Connection");

                }
            });

        } else if (result != null) {
            if (!result.contains("Error__c")) {

                try {
                    // response manipulation
                    String currentDateTimeString = getdate();
                    JSONObject ja = new JSONObject(result);
                    global.setMyfname(ja.get(
                            "Attendee_FirstName__c")
                            .toString());
                    try {

                        try {
                            global.setMyCategory(ja
                                    .get("Attendee_LeadCategory__c")
                                    .toString());
                        } catch (Exception e) {
                            // TODO Auto-generated catch block
                            e.printStackTrace();
                        }
                        try {
                            global.setMyEmailId(ja.get(
                                    "Attendee_EmailId__c")
                                    .toString());
                        } catch (Exception e) {
                            // TODO Auto-generated catch block
                            e.printStackTrace();
                        }
                        try {
                            global.setMyNote(ja
                                    .get("Attendee_GatheredComments__c")
                                    .toString());
                        } catch (Exception e) {
                            // TODO Auto-generated catch block
                            e.printStackTrace();
                        }
                        try {
                            global.setMyTitle(ja
                                    .get("Attendee_Designation__c")
                                    .toString());
                        } catch (Exception e) {
                            // TODO Auto-generated catch block
                            e.printStackTrace();
                        }
                        try {
                            String v, d_g, t;
                            v = ja.get(
                                    "Attendee_NextFollowUpDate__c")
                                    .toString();

                            DateFormat df1 = new SimpleDateFormat(
                                    "yyyy-MM-dd");
                            DateFormat df2 = new SimpleDateFormat(
                                    "MM-dd-yyyy");
                            t = df2.format(df1.parse(v));
                            d_g = t.replace('-', '/').toString();
                            global.setMyDate(d_g);

                            // global.setMyDate(ja.get("Attendee_NextFollowUpDate__c").toString());
                        } catch (Exception e) {
                            // TODO Auto-generated catch block
                            e.printStackTrace();
                        }
                        try {
                            global.setMyPh(ja
                                    .get("Attendee_PhoneNumber__c")
                                    .toString());
                        } catch (Exception e) {
                            // TODO Auto-generated catch block
                            e.printStackTrace();
                        }
                        ja.get("Attendee_Company__c");
                        // global.setMyScanedId(ja.get("Id").toString());
                        global.setMycname(ja.get(
                                "Attendee_Company__c")
                                .toString());
                        global.setMylname(ja.get(
                                "Attendee_LastName__c")
                                .toString());
                        System.out.println("verify values" + resp);
                    } catch (Exception e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }
                    global.setDisplayTab(1);
                    global.setLeaddetails(true);
                    Intent edit = new Intent(getParent(), LeadDetails.class);
                    TabGroupActivity parentActivity = (TabGroupActivity) getParent();
                    parentActivity.startChildActivity("Verify", edit);

                } catch (Exception e) {
                    e.printStackTrace();
                    alertDialog("Invalid QR Code");

                }

            } else {
                try {
                    JSONObject ja = new JSONObject(result);
                    alertDialog(ja.get("Error__c").toString());
                    // startChildActivity("EditActivity", new
                    // Intent(this,LeadDetails.class));
                    /*
                     * Intent edit = new Intent(getParent(),
                     * LeadDetails.class); TabGroupActivity parentActivity =
                     * (TabGroupActivity)getParent();
                     * parentActivity.startChildActivity("LeadDetails",
                     * edit);
                     */
                } catch (JSONException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
            }
        } else {
            runOnUiThread(ne 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:25:04.767

我认为问题不一定出在您的代码中，当Android没有足够的内存用于前台应用程序并且它从后台应用程序的内存对象中释放时就会发生这种情况。我认为这也是您的情况。 .我认为唯一要做的就是检查您使用的对象是否为空，并使用一些默认值再次初始化它们。请参阅此处：[活动生命周期](http://developer.android.com/reference/android/app/Activity.html#Activity%20Lifecycle)以获取更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T09:32:00.140

好的，你去，

您可以`Application`使用在类中设置值`getApplicationContext()`

```
((GlobalClass)getApplicationContext()).setLastName("Poptani"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T08:28:07.453

问题肯定出在您的生命周期管理中。只要 JVM（在本例中为 Davlik）运行，静态变量的值就会存在。但是操作系统可以在它喜欢这个想法的时候杀死它——所以很可能你的变量在完全重启后是空的。

从您的源代码来看，您正在继承应用程序类。如果是这种情况，您也应该在清单中使用它。

我还在你的可运行文件中看到了问题——你在 run() 方法中执行 findViewById()——这是次优的（你应该在你的活动的 onCreateMethod() 中这样做）

您的全局存储类将无法在应用程序重新启动后继续存在 - 所有值都将丢失。

如果您喜欢状态持久性，您应该将值存储在其他地方（共享偏好是不错的选择）。为了让你的生活更轻松，你可以抓住我写的小图书馆：

[这里](https://github.com/ko5tik/andject)

我将使您的生活更轻松，将对象字段编组和解组为首选项对象。

# ruby-on-rails - 在不使用默认部分的情况下渲染具有不同类型元素的数组？

> ID：11185678
> 
> 赞同：1
> 
> 时间：2012-06-25T08:18:34.610
> 
> 标签：ruby-on-rails, ruby, partials

我从轮胎中获得了一组搜索结果，其中包含各种 activemodel 类型的对象，我需要将每个对象呈现为一个字符串。目前，我正在对这些结果进行循环，在每个结果上调用 render_to_string(result)。这将使用该 activemodel 对象的默认部分。

但是，这要求我为每个我希望可搜索的类设置默认部分作为搜索的表示。这意味着我需要在代码中的其他任何地方显式渲染一个集合（所有相同类型），我需要显式指定使用我的通用部分进行渲染，而实际上通用部分应该是默认值。它还提出了一个问题，如果我需要渲染不同类型的不同集合，我会做什么，因为它会使用与搜索相同的部分。

我真正想要的是能够将前缀传递给 render_to_string 告诉它寻找默认的部分，但在这个目录中 - 这意味着我可以保持我的搜索部分分开，同时仍然能够轻松地呈现对象.

有没有办法做到这一点或其他更好的解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T22:21:34.870

我会打电话给：

```
 render_to_string :partial => 'searches/result', :collection => @results 
```

然后在该部分中确定应如何显示单个结果：

```
case result.class.name
when 'Foo'
...
end 
```

这为我提供了结果格式和显示的单一位置。

# c++ - 模板类的非模板接口 C++

> ID：11185680
> 
> 赞同：0
> 
> 时间：2012-06-25T08:18:46.840
> 
> 标签：c++, templates, inheritance, linker-errors

我有一个模板类的层次结构，它们在一个地方构建并传递到其他地方以对它们进行一些操作。

例如，一个类可以被模板化为一些复杂的对象，该对象知道如何将自己转换为双精度，并且模板化的类具有将这个对象作为双精度输出的操作。效用函数的一个示例是将此类的集合输出为表的函数。

但是，我不想将这种类型作为模板类传递，因为实用程序函数应该适用于任何具体的类变体，因为它们都可以将自己表示为 double。因此，我想要一些具有“表示为双重”功能的非模板化界面。为什么以下不起作用？

```
#include "stdafx.h"

class Interface1
{
public:
    virtual int ReturnSomeInt();
};

template<typename myType>
class TClass1 : public Interface1
{
public:
    int ReturnSomeInt() {return 5;}
    void CalculateSomething(myType myValue) {}

    TClass1() {}
};

//---------------------------------------------

class Interface2 : public Interface1
{
public:
    virtual double ReturnSomeDouble();
};

template<typename myType>
class TClass2 : public TClass1<myType>, public Interface2
{
public:
    double ReturnSomeDouble() {return 9.2;}
    void CalculateSomethingElse(myType myValue) {}

    TClass2() {}
};

//---------------------------------------------

int _tmain(int argc, _TCHAR* argv[])
{
    Interface2 myInterface = TClass2<float>();
    int myInt = myInterface.ReturnSomeInt();
    double myDouble = myInterface.ReturnSomeDouble();
    return 0;
} 
```

我收到关于找不到符号的链接错误 2019 `Interface2::ReturnSomeDouble(void)`。可能是什么问题呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:23:55.213

`virtual``Interface2::ReturnSomeDouble()`如果实例化了该类型或其子类型的对象，则函数（此处）不能保持未实现。
因为，当对象被实例化时，它需要`vptr`用函数的地址/定义填充隐藏的类成员`virtual`，没有找到，所以链接器错误。

您必须定义它们的主体或使其成为纯`virtual`函数（以便定义成为可选）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:23:52.557

您在这里拥有的是[slicing](https://stackoverflow.com/questions/274626/what-is-the-slicing-problem-in-c)。当复制到变量“myInterface”中时，您的 TClass2 实例已被逐字切片（派生类部分已被丢弃）。您需要在堆上实例化 TClass2，然后将“myInterface”更改为指针或引用以使其正常工作。

（并且由于切片，您的代码正在调用未实现的基类函数。如果您将基类函数设为纯虚拟，那么您可能会收到更有用的错误消息）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T08:27:00.070

1 通过声明它们使接口函数成为纯虚拟的

```
virtual double ReturnSomeDouble() const = 0; 
```

这样链接器就不会为基类寻找相应的函数。

2 声明`interface1`为虚拟基础以避免在 中继承它两次`Tclass2`，尽管这对于您的代码编译并不重要

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T09:12:46.787

由于我的问题有很多好的答案，我决定重新发布我的代码，并实施所有有用的评论。

```
#include "stdafx.h"

class Interface1
{
public:
    virtual int ReturnSomeInt()=0;
};

template<typename myType>
class TClass1 : public Interface1
{
public:
    int ReturnSomeInt() {return 5;}
    void CalculateSomething(myType myValue) {}

    TClass1() {}
};

//---------------------------------------------

class Interface2 : public Interface1
{
public:
    virtual double ReturnSomeDouble()=0;
};

template<typename myType>
class TClass2 : public TClass1<myType>, public Interface2
{
public:
    int ReturnSomeInt() { return TClass1<myType>::ReturnSomeInt(); }
    double ReturnSomeDouble() {return 9.2;}
    void CalculateSomethingElse(myType myValue) {}

    TClass2() {}
};

//---------------------------------------------

void WriteClassToConsole(Interface2& myInterface)
{
    std::cout << "My int:\t" << myInterface.ReturnSomeInt() << std::endl;
    std::cout << "My dbl:\t" << myInterface.ReturnSomeDouble() << std::endl;
}

int _tmain(int argc, _TCHAR* argv[])
{
    TClass2<float> myClass;
    WriteClassToConsole(myClass);
    std::getchar();
    return 0;
} 
```

感谢所有帮助过的人。

# java - 将 json 发布到 java 服务器

> ID：11185681
> 
> 赞同：0
> 
> 时间：2012-06-25T08:18:49.110
> 
> 标签：java, json, jax-rs, inject

我一直在互联网上搜索一些（正确）方法来@Consume 在我的服务器上的网络资源中使用“应用程序/json”文件。

我正在使用 glassfish 应用服务器，所以它是一个 java 资源。

这是调用 javascvript 代码：

```
 var url="/MBC/pages/lives/";
        var mygetrequest=new ajaxRequest();
        mygetrequest.onreadystatechange=function(){
         if (mygetrequest.readyState==4){
          if (mygetrequest.status==200 || window.location.href.indexOf("http")==-1){
              var render="";

              var JsonIn =JSON.parse(mygetrequest.responseText);

              if(JsonIn.error==undefined){
                    render="generic error"; 
                  }
               }else
                  render=mygetrequest.responseText  ;

               document.getElementById(div).innerHTML=render;

            }else{
           render="An error has occured making the request";
          } 
        };
        var json2Send = "{" +
                "boss:\""+location.href.substring(location.href.length-5,location.href.length-4)+"\"," ;
        if(document.newLive.bval.value=='')
            json2Send+="bands:[],";
        else
            json2Send+="bands:["+document.newLive.bval.value+"],";

        json2Send+="data:\""+document.newLive.dateEvent.value+"\"," +
                "address:{street:\""+document.newLive.street.value+"\"," +
                        "number:\""+document.newLive.number.value+"\"," +
                        "city:\""+document.newLive.city.value+"\"," +
                        "region:\""+document.newLive.region.value+"\"," +
                        "state:\""+document.newLive.state.value+"\"}" +
                "}";
        mygetrequest.open("POST", url, true);
        mygetrequest.setRequestHeader("Content-type", "application/json");
        mygetrequest.send(json2Send); 
```

其中 json2Send 是客户端必须发送到服务器的 json 字符串。

这里是服务器端代码：

```
@POST
@Path("configLiveBand")
@Consumes("application/json")
@Produces("application/json")
public String liveBandInsert(String jsonIn, @Context HttpServletRequest request) throws ParseException{ 
```

我现在问你我必须做什么才能让服务器读取来自 javascript 的输入 json 字符串。显然，我上面描述的方式是行不通的。服务器返回

```
HTTP Status 405 -

type Status report

message

descriptionThe specified HTTP method is not allowed for the requested resource (). 
```

通过互联网查看我的问题，我找到了涉及“BufferedReader”类的“readline()”方法的解决方案。我不喜欢这个解决方案。如果有办法，我更喜欢注入 json 文件，而不是逐行读取输入字符串。

任何帮助都会被接受，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T21:21:09.493

问题是菲利普写道的json：

```
json2Send+="\"data\":\""+document.newLive.dateEvent.value+"\"," +
        "\"address\":{\"street\":\""+document.newLive.street.value+"\"," +
                "\"number\":\""+document.newLive.number.value+"\"," +
                "\"city\":\""+document.newLive.city.value+"\"," +
                "\"region\":\""+document.newLive.region.value+"\"," +
                "\"state\":\""+document.newLive.state.value+"\"}" +
        "}"; 
```

代替

```
json2Send+="data:\""+document.newLive.dateEvent.value+"\"," +
        "address:{street:\""+document.newLive.street.value+"\"," +
                "number:\""+document.newLive.number.value+"\"," +
                "city:\""+document.newLive.city.value+"\"," +
                "region:\""+document.newLive.region.value+"\"," +
                "state:\""+document.newLive.state.value+"\"}" +
        "}"; 
```

现在我可以读取、发布并将 json 结果发送回客户端。;-) 谢谢菲利普

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T22:27:49.300

很高兴我能帮上忙。

我仍然建议`json2Send`使用实际的 Javascript 对象表示法 (JSON) 而不是字符串连接来构建您的，例如：

```
// This creates an "empty" JS object, with no properties.
var json2Send = new Object();
var length = location.href.length;
// Adding a property is as easy as just setting it, it will be created by this.
json2Send.boss = location.href.substring(length - 5, length - 4);
if (document.newLive.bval.value == '') {
  json2Send.bands = [];
} else {
  json2Send.bands = [document.newLive.bval.value];
}
json2Send.data = document.newLive.dateEvent.value;
// Properties can also be other objects, here created with the
// object literal notation of { key:value, ...}.
json2Send.address = {
  // Inside, it's just another JS object again,
  // this time setting properties with literal notation key:value
  // Note how there's no need to quote anything here!
  street: document.newLive.street.value,
  number: document.newLive.number.value,
  city: document.newLive.city.value,
  region: document.newLive.region.value,
  state: document.newLive.state.value
}; 
```

然后将其转换为 HTTP POST 的字符串，如下所示：

```
mygetrequest.open("POST", url, true);
mygetrequest.setRequestHeader("Content-type", "application/json");
mygetrequest.send(JSON.stringify(json2Send)); 
```

This will catch syntax errors much earlier, relieves you from manually quoting all the different bits and pieces, is most likely faster and it sure makes the whole thing a lot more robust.

# android - 如何在 android 中以编程方式挂载 c:\ 的路径？

> ID：11185684
> 
> 赞同：-1
> 
> 时间：2012-06-25T08:19:01.167
> 
> 标签：android

我正在使用模拟器来运行我的应用程序。如何安装我的计算机驱动器 c:\ 路径。因为我需要直接从 c:\ 访问文件到我的 android 模拟器。您的评论和回答对我来说都是有价值的。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:20:58.343

Android 有自己的`File System`. 所以你不能像`"c:\ path "`直接在应用程序中那样访问你的系统路径。但是如果你想从你的系统中访问任何文件，那么制作一个`server-client architecture in application`是选项**（通过 http:// 或 ftp://）**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:21:07.580

您不能直接在android中访问C：驱动器。

因为 c: drive 不是您移动设备的一部分。

如果文件是静态的，您可以将该文件放入 `assets`或`row`文件夹中

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T08:24:31.433

你可以模拟你想要的行为。[使用mksdcard](http://developer.android.com/tools/help/mksdcard.html)创建磁盘映像，使用 emulators`-sdcard`选项挂载它。最后将磁盘映像也安装到您的电脑（[imdisk 之](http://www.ltr-data.se/opencode.html/#ImDisk)类的工具就可以了。然后您的电脑中将有一个您选择的新驱动器。您将要访问的文件复制到这个新驱动器。

* * *

## 回答 #4

> 赞同：-4
> 
> 时间：2012-06-25T08:21:49.273

你不能只使用Android。您应该编写一个 PC 端软件，并通过此软件与您的 Android 应用程序进行通信。

例如，PC 端软件读取您要访问的目录并将此信息发送到您的监听 Android 应用程序。这可以被认为是一个客户端-服务器应用程序，其中 PC 充当文件系统服务器，而 Android 应用程序充当客户端应用程序。

FTP 服务器-客户端对就是一个例子。

# iphone - 检查 iPhone 或模拟器上的设计

> ID：11185686
> 
> 赞同：0
> 
> 时间：2012-06-25T08:19:03.853
> 
> 标签：iphone, objective-c, ios, xcode

无论如何要在模拟器或 iPhone 上检查我的 iphone 应用程序的设计，实际上我正在开发一个 iPhone 应用程序，我的 colig 正忙于为我的应用程序设计，但在嵌入我的应用程序之前她如何检查该设计是否正常。请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:33:46.743

我认为您只需要`WireFrame`用于设计屏幕模型的工具。该设计完全基于 iPhone 屏幕内的“元素”。

去谷歌搜索`"Wireframe tools for iOS applications"`。

试试[LucidChart！](http://www.lucidchart.com/pages/examples/iphone_mockup_tool)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:22:35.900

您的同事可以为您提供图形资源，您可以检查它们在您的设备或模拟器上是否正常。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T08:25:31.807

设置一个共享的保管箱文件夹，这样您就可以轻松地在实际设备上检查您的设计。如果你想检查模拟器，你可以简单地在 safari 中打开它，这就是我以前的做法。

# svn - 在 subversion 中返回文件的先前版本

> ID：11185688
> 
> 赞同：1
> 
> 时间：2012-06-25T08:19:08.183
> 
> 标签：svn

如何在 subversion 中回到文件的上一个版本？这可能是第二个最正常的反向操作，所以它应该很容易，为什么没有清楚地记录呢？我已经恢复了，我需要回去更多。现在，如果我回到规范修订版，它与回到文件的先前版本不同，因为只是回到修订版可能是该文件最后一次更改之外的其他修订版，并且文件可能未更改。你知道我在找什么命令吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:27:52.000

如果您在`revision 2`，并且想要将文件还原为`revision 1`.

**你有**
`svn merge -c -2 my.file`，
**或者**
`svn merge -r 43:4 my.file`

然后 do `svn diff`，它似乎在**1**之前显示一个修订版（即**0**）；

只有当您这样做时`svn merge -c 1 myfile (without the -)`，看起来**myfile**才**恢复到 rev 1**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-27T22:25:11.660

1.  **svn log [file]** : 检查这个文件的最新版本是什么。
2.  **svn merge -c -NNNN [file]**：从第一步的日志中获取变更集编号并进行反向合并，以恢复该修订的增量更改。
3.  **svn ci [file]**：将本地所做的更改更新到存储库，以便 HEAD 修订也删除增量更改

# knockout.js - Bootstrap chechbox 和 Knockout：自定义绑定在模板中不起作用

> ID：11185689
> 
> 赞同：2
> 
> 时间：2012-06-25T08:19:08.927
> 
> 标签：knockout.js, twitter-bootstrap, custom-binding

在 Twitter Bootstrap 中，带有标签的复选框使用如下标记：

```
<label class="checkbox">
    <input type="checkbox" value="option1">
    Option 1
</label> 
```

标签的剔除标准“文本”绑定不起作用：复选框标记简单地替换为文本。我创建了一个自定义绑定：

```
ko.bindingHandlers['checkboxLabelText'] = {
    'update': function (element, valueAccessor) {
        var value = ko.utils.unwrapObservable(valueAccessor());
        if ((value === null) || (value === undefined))
            value = "";
        $(element).html($(element).html() + " " + _.escape(value));
    }
}; 
```

它适用于内联模板，

```
<!-- This code works -->
<div class="accordion-inner">
    <!-- ko foreach:categories -->
    <div class="control-group">
        <div class="controls">
            <label class="checkbox" data-bind="checkboxLabelText: title">
                <input type="checkbox" data-bind="checked: checked" />
            </label>
        </div>
    </div>
    <!-- /ko -->
</div> 
```

但不适用于命名模板：复选框出现但没有绑定。

```
<!-- This code does not work -->
<div class="accordion-inner" data-bind="template: {foreach: categories, name: 'checkboxEditorTemplate'}">
</div>
<script type="text/html" id="checkboxEditorTemplate">
    <div class="control-group">
        <div class="controls">
            <label class="checkbox" data-bind="checkboxLabelText: title">
                <input type="checkbox" data-bind="checked: $data.checked()" />
            </label>
        </div>
    </div>
</script> 
```

有什么帮助吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T12:55:35.717

如您所见，`text`绑定将用指定的文本替换其内容。在您的情况下，我觉得更好的选择是将您的标记构建为：

```
<label class="checkbox">
    <input type="checkbox" value="option1">
    <span data-bind="text: title"></span>
</label> 
```

使用这种结构，您可以避免自定义绑定并达到相同的结果。​​​​​​​​​​​​​​​​​​​​</p>

# ms-access - Access 2007 组合和验证来自多个来源的数据

> ID：11185690
> 
> 赞同：0
> 
> 时间：2012-06-25T08:19:25.847
> 
> 标签：ms-access

我有来自两个不同来源的数据，我需要合并它们。有些数据是完全复制的，这很好，易于处理。有些数据在两点上匹配，而在第三点上不同，所以在这些情况下，我需要决定保留哪些数据和丢弃哪些数据。是否可以运行查询来查找具有相同标识符和相同日期但描述不同的任何两行，然后如果一个描述是 A 而另一个是 B，则删除具有描述 B 的行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:24:40.160

在这种情况下，我建议你设置一个表单和子表单。该表单可以基于一个查询：

```
 SELECT FROM Table1
 INNER JOIN Table2
 ON Table1.ID = Table2.ID
 AND Table1.Date = Table2.Date
 WHERE Table1.=Description & "" <>  Table2.Description & "" 
```

在两侧添加“”可防止在一侧为空时遗漏不匹配。

子表单应基于 Table2，并将 ID 作为链接子字段和主字段。然后，您可以在决定采取行动之前查看这两个记录。

# php - PHP preg_match 车牌

> ID：11185695
> 
> 赞同：3
> 
> 时间：2012-06-25T08:19:38.087
> 
> 标签：php, preg-match

所以前几天我刚刚了解了 PHP 中的 preg_match，现在我正在尝试 preg_match 车牌。它应该检查这个：

`9a-4e-yy`, 所以 a`-`和之前和之后的数字或字母，然后是 a`-`和更多的数字或字母。但它必须恰好是 2 个彼此相邻的数字或字母，而不是更多。

现在我有这个代码：

```
return preg_match("/^([0-9])"."([0-9])"."(\-([0-9])"."([0-9]))"."(\-([0-9])"."([0-9]))$/", $kenteken ); 
```

但这仅检查数字。

我希望你们也能帮助我处理字母。

提前致谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-25T08:22:12.353

`[0-9]`只匹配数字。如果要匹配数字或字母，则需要`[0-9A-Za-z]`.

一个完整的正则表达式来做你想做的事`^[0-9A-Za-z]{2}(-[0-9A-Za-z]{2}){2}$`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T08:26:20.363

你可能想要：

```
preg_match('/^[0-9a-z]{2}-[0-9a-z]{2}-[0-9a-z]{2}$/i', $kenteken); 
```

`[0-9a-z]`表示任何数字“0”到“9”或任何（小写）字母“a”到“z”。`{2}`表示完全匹配 2 个字符。末尾的`/i`表示不区分大小写的匹配，因此它也会匹配大写字母。

# php - 带有 VCard 的 QR 码在 Blackberry 中不起作用

> ID：11185696
> 
> 赞同：0
> 
> 时间：2012-06-25T08:19:38.727
> 
> 标签：php, blackberry, qr-code, vcf-vcard

我在我的网站上生成了 VCard 的 QR 码，现在当我阅读它时，它可以在诺基亚和 Iphone 上运行，但不能在 Black Berry 上运行。

Bellow 是我创建的 QRCode 的简单 VCard 模板：

BEGIN:VCARD 版本:2.1 N:rahman;sohail;;Mr FN:Sohail Rahman END:VCARD

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-27T13:37:00.807

我假设您指的是 BlackBerry Messenger 应用程序中的 QR 码扫描仪。这只会读取 BBM 格式的 QR 码，仅支持几个字段：PIN、URL 和电话号码。

BBM 二维码不支持 VCARD 信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-16T16:56:50.980

尝试使用不同的[纠错](http://en.wikipedia.org/wiki/QR_code#Error_correction)设置进行编码。也许 BB 解码器无法处理您正在使用的解码器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T10:27:49.823

您可能需要在代码中添加换行符才能正确阅读。

```
BEGIN:VCARD
VERSION:2.1
N:rahman;sohail;;Mr
FN:Sohail Rahman
END:VCARD 
```

如果您使用 HTML 编码，则“回车”字符为 %0D

# embed - Soundcloud HTML5 小部件不能与 Xenforo 一起使用

> ID：11185698
> 
> 赞同：0
> 
> 时间：2012-06-25T08:19:55.537
> 
> 标签：embed, soundcloud

当尝试将 Soundcloud HTML5 小部件嵌入 Xenforo 论坛时，我注意到它需要页面 URL 中不可用的 Track ID。有没有办法在不必抓取源代码或强制用户从整个嵌入代码中获取它的情况下获取轨道 ID？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-26T08:33:27.203

您可以使用`/resolve`端点：http: [//developers.soundcloud.com/docs/api/reference#resolve](http://developers.soundcloud.com/docs/api/reference#resolve)

```
$ curl -v 'http://api.soundcloud.com/resolve.json?url=http://soundcloud.com/matas/hobnotropic&client_id=YOUR_CLIENT_ID'

< HTTP/1.1 302 Moved Temporarily
< Location: http://api.soundcloud.com/tracks/49931.json 
```

自己看看：http://api.soundcloud.com/resolve.json?url=http: [//soundcloud.com/matas/hobnotropic](http://api.soundcloud.com/resolve.json?url=http://soundcloud.com/matas/hobnotropic&client_id=YOUR_CLIENT_ID)

# extjs - 使用 ext js 3.3 将“textfield”设为只读条件

> ID：11185699
> 
> 赞同：0
> 
> 时间：2012-06-25T08:19:59.797
> 
> 标签：extjs, extjs3

我正在使用 ExtJS 3.3，我的代码如下`formpanel`：

```
Ext.apply(this, {
    items: [{
            xtype: 'textfield',
            fieldLabel: 'ApplicationGUID',
            labelAlign: 'right',
            name: 'Application_GUID',
            value: 0,
            readOnly: false,
            width: 300
        },
        {
            xtype: 'textfield',
            fieldLabel: 'ApplicationName',
            labelAlign: 'right',
            name: 'Application_Name',
            anchor: '-20',
            msgTarget: 'side'
        }

    ], //eof items
    tbar: [{
        xtype: 'mydeletebutton',
        scope: this,
        ownerCt: this,
        handler: this.deleteHandler,
        myAuth: {
            compBaseRights: {
                Delete: {
                    failProperty: {
                        disabled: false
                    }
                } /*eof Delete*/
            } /*eof compBaseRights*/
        } /*eof sgAuth*/
    }, {
        xtype: 'tbseparator'
    }, {
        xtype: 'trashcanbutton',
        scope: this,
        ownerCt: this,
        handler: this.setIsDeletedHandler,
        myAuth: {
            compBaseRights: {
                Insert: {
                    failProperty: {
                        disabled: false
                    }
                } /*eof Delete*/
            } /*eof compBaseRights*/
        }
    }, {
        xtype: 'mytrashcanrestorebutton',
        scope: this,
        ownerCt: this,
        handler: this.unsetIsDeletedHandler,
        myAuth: {
            compBaseRights: {
                Insert: {
                    failProperty: {
                        disabled: false
                    }
                } /*eof Delete*/
            } /*eof compBaseRights*/
        }
    }, {
        xtype: 'tbseparator'
    }, {
        xtype: 'mysavebutton',
        scope: this,
        handler: this.saveHandler,
        myAuth: {
            compBaseRights: {
                Write: {
                    failProperty: {
                        disabled: false
                    }
                } /*eof Delete*/
            } /*eof compBaseRights*/
        }
    }],
    bbar: {
        xtype: 'mystatusbar'
    }
}); 
```

我正在寻找的是对于`textfield`Application_GUID，`readOnly: true`如果值已经存在（例如当我从网格中双击现有的值以对其进行编辑时），并且如果我从我的`grid`,我需要`readonly`声明`false`。

如果有人可以帮助我，那就太感谢了。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-26T14:13:31.887

一个好的技术是设置一个布尔变量来初始化为假。然后根据您的需要将其设置为true。

然后像下面的示例代码一样添加所需的侦听器，例如在更改侦听器上：

```
listeners: {
    yourlistener: function(e) { //yourlistener can be change, select, etc...
        if (booleanVariable === true) Ext.getCmp('your-textbox-id').setReadOnly(true);
        else Ext.getCmp('your-textbox-id').setReadOnly(false);
    }
 } 
```

# sql - MyBatis RowBounds vs Oracle 分页查询使用 rownum 和嵌套子查询

> ID：11185705
> 
> 赞同：5
> 
> 时间：2012-06-25T08:20:25.340
> 
> 标签：sql, oracle, jdbc, ibatis, mybatis

我想知道以下哪一项在执行 100k+ 记录的查询方面表现更好

**1）Oracle的分页**

```
SELECT *
FROM  (
   SELECT id, col1, col2, rownum rn
   FROM (
      SELECT /*+ first_rows(50) */ id, col1, col2
      FROM   table1
      ORDER  BY id DESC
   )
   WHERE   rownum <= 50
)
WHERE  rn >= 20; 
```

**2) 使用 MyBatis RowBounds 进行分页**。

MyBatis RowBounds 使用普通的 JDBC 并在触发 select 后跳过前 20 条记录，然后获取接下来的 30 条记录（页面大小）。

另外，MyBatis 方法是否会随着页码的增加而变慢，因为需要跳过更多行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T01:58:50.067

通常，JDBC 驱动程序必须通过网络获取前 20 行，因此这通常比编写分页查询效率低。随着您获取更多页面，该惩罚将变得更大。

通常，当您获取后续页面时，这两种方法都会变慢。但这通常不是问题——如果您对结果进行分页，这意味着用户在放弃之前实际上不会获取超过几页的结果。

# xml - 如何在foreignObject中嵌入SVG？

> ID：11185715
> 
> 赞同：3
> 
> 时间：2012-06-25T08:21:18.850
> 
> 标签：xml, svg

[MDN 说](https://developer.mozilla.org/en/SVG/Element/foreignObject)：

**将不会绘制 foreignObject 中的任何 SVG 元素，除非递归嵌入具有正确 xmlns 属性规范的正确定义的 SVG 子文档。**

我尝试为所有后续元素设置正确的命名空间，但没有任何成功。

我想要完成的大致是这样的：

```
<svg>
   <foreignObject>
      some html text
      <svg width="10" height="10"><rect fill="red" width="10" height="10" /></svg>
   </foreignObject>
</svg> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T08:43:47.077

在 foreignObject 中必须有一个元素，尽管该元素可能有子元素。所以你可以这样做...

```
<svg xmlns="http://www.w3.org/2000/svg" version="1.1">
  <foreignObject width="100%" height="100%">
    <div xmlns="http://www.w3.org/1999/xhtml">some html text
        <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10"><rect fill="red" width="10" height="10" /></svg>
    </div>
  </foreignObject>
</svg> 
```

# parallel-processing - 处理 CUDA 中的大型 switch 语句

> ID：11185718
> 
> 赞同：5
> 
> 时间：2012-06-25T08:21:30.577
> 
> 标签：parallel-processing, cuda, switch-statement, statements

我知道不建议在 CUDA 中进行分支，因为它会对性能产生不利影响。在我的工作中，我发现自己必须实现包含几十个案例的大型 switch 语句。

有谁知道这会对性能造成多么严重的影响。（官方文档不是很具体）还有没有人有更有效的方式来处理这部分？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-26T05:20:36.780

GPU 以 32 个为一组运行线程，称为 warp。每当一个 warp 中的不同线程通过代码中的不同路径时，GPU 必须多次运行整个 warp，每个代码路径一次。

要处理这个称为warp 分歧的问题，您需要安排线程，以便给定warp 中的线程通过尽可能少的不同代码路径。当你这样做了，你几乎只需要咬紧牙关，接受任何剩余的经线分歧造成的性能损失。在某些情况下，您可能无法安排线程。如果是这样，并且如果不同的代码路径是内核或整体工作负载的重要组成部分，那么该任务可能不适合 GPU。

*如何*实现不同的代码路径并不重要。`if-else`, `switch`, 谓词（在 PTX 或 SASS 中）、分支表或其他任何东西——如果它归结为在不同路径中运行的经纱中的线程，你会受到性能的影响。

每条路径有多少线程通过也无关紧要，只是经线中不同路径的总数。

这是另一个更详细的[答案。](https://stackoverflow.com/questions/10980593/branch-divergence-cuda-and-kinetic-monte-carlo/10983058#10983058)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T09:33:23.103

避免多次切换的一个好方法是实现函数表并根据您的切换条件按索引从表中选择函数。`__device__`CUDA 允许您在内核中的函数上使用函数指针。

# javascript - javascript中代码的执行应该是一个接一个

> ID：11185720
> 
> 赞同：0
> 
> 时间：2012-06-25T08:21:45.967
> 
> 标签：javascript, cordova, for-loop

我在javascript中的一个函数中有两个for循环，它应该严格地一个接一个地执行：-

我已将第一个设置为超时，因为我需要在几秒钟后执行它。

这是代码： -

```
setTimeout(function () {
    for (var i = 0; i < myimg.length; i++) {
        // do something
    }
}, 5000);
for (var j = 0; j < myimg.length; j++) {
    // do something else
} 
```

我希望执行第一个 for 循环，然后只执行第二个循环。但目前情况并非如此。我试过用不同的函数编写它们并将它们执行为：-

```
for1();
for2(); 
```

但它也不能以这种方式工作。

请提出一些建议

问候阿布舍克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:24:32.377

```
setTimeout(function () {
  for (var i = 0; i < myimg.length; i++) {
    // do something
  }
  for (var j = 0; j < myimg.length; j++) {
    // do something else
  }

}, 5000); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:24:33.377

像这样？

```
setTimeout(function(){
  for (var i=0; i<myimg.length; i++)
  {
    // do something
  }                               

  for(var j=0;j<myimg.length;j++)
  {
    // do something else
  }
},5000); 
```

# javascript - 单击图像清除文本框

> ID：11185723
> 
> 赞同：2
> 
> 时间：2012-06-25T08:21:57.587
> 
> 标签：javascript, jquery, ajax, model-view-controller

似乎是一件简单的事情，但不知道如何去做。

我有这个 ReadOnly 文本框，当用户单击按钮并从模式框中选择一个值时，它会被填充。我需要另一个 image_click 来清除文本框。下面给出的是我的代码，不知道如何点击一个简单的图像按钮来做到这一点。

'SearchButton' 的 Html.SecurityTrimmedActionButton 工作正常。我遇到的问题是“删除按钮”。我是否需要在这里甚至 SecurityTrimmedAction，因为我真的不需要调用任何控制器，我有清除视图本身中的文本框的功能。我可以使用什么来代替 Html.SecurityTrimmedAction？

```
 <%: Html.TextBoxFor_Readonly(model => model.AdditionalEmailsSentTo, new { style    = "width:500px; height:40px;" })%>
        <%: Html.SecurityTrimmedActionButton(true, "Search Active Directory", "Index", "ActiveDirectory", "btnAdditionalEmailSearch", "clsSearchButton")%>
        <%: Html.SecurityTrimmedActionButton(true, "Clear AdditionalEmails", "Index", "ActiveDirectory", "btnRemoveAdditionalEmail", "clsDeleteButton")%> 
```

这是我清除文本框的脚本

```
$("#btnRemoveAdditionalEmail").click(function (event) {
            event.preventDefault();
            $("#AdditionalEmailsSentTo").val("");   

        }); 
```

单击图像时，整个文本框以及图像按钮都会消失。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T15:26:10.573

这是如何解决的

```
 <div class="editor-label">
        <%: Html.Label("Additional Email Address") %>
    </div>
    <div class="editor-field">
        <%: Html.TextBoxFor_Readonly(model => model.AdditionalEmailsSentTo, new {id="AdditionalEmailsSentTo", style = "width:500px; height:40px;" })%>
        <%: Html.SecurityTrimmedActionButton(true, "Search Active Directory", "Index", "ActiveDirectory", "btnAdditionalEmailSearch", "clsSearchButton")%>
        <button id='btnRemoveAdditionalEmailSearch' class='clsRemoveButton'>
            Clear Additional Emails</button>
    </div> 
```

这是我的javascript函数

```
 $("#btnRemoveAdditionalEmailSearch").click(function (event) {
            event.preventDefault();
            $("#AdditionalEmailsSentTo").val("");
        }); 
```

并且文本框消失了，因为我没有注意到按钮 clsDeleteButton 被钩住了。一位同事发现了这一点，并创建了另一个名为 clsRemoveButton。

# html - 在列底部对齐内容

> ID：11185735
> 
> 赞同：1
> 
> 时间：2012-06-25T08:22:36.737
> 
> 标签：html, css, vertical-alignment, equal-heights

我在我的网站中管理一个简单的列拆分部分，以显示一些内容的摘要。每列最后都有一个链接。这是一个例子：http: [//jsfiddle.net/CV4Yr/2](http://jsfiddle.net/CV4Yr/2)。

问题是：如何对齐该部分底部的那些阅读更多链接，以便所有三个阅读更多链接水平排列？请注意，列似乎具有相同的高度，但这只是使用负边距的一种技巧。

当然我可以想象很多 javascript hack，但我宁愿避免它们。

谢谢

编辑：我更正了指​​向正确版本小提琴的链接。现在列的高度相等。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T09:08:05.477

由于您使用的方法使列的高度相等，因此在底部放置链接会很困难。

如果您能找到一种替代方法，可以将这样简单的方法添加到您现有的代码中：

```
article {
    position: relative;
    padding-bottom: 30px;
}

article > a {
    position: absolute;
    bottom: 0; left: 0;
    height: 30px;
    padding: 0 10px;
    line-height: 30px;
} 
```

# c++ - MAKEINTRESOURCE 和 WM_NOTIFY 是如何工作的？

> ID：11185736
> 
> 赞同：1
> 
> 时间：2012-06-25T08:22:56.393
> 
> 标签：c++, windows, winapi, visual-c++

大家好，我对我们使用的一些 Win32 API 数据类型和宏有些困惑：

**首先-：** 关于**WM_NOTIFY**消息。*lparam*包含指向*NMHDR*结构的指针。因此，如果它是一个指针，为什么像这样访问 NMHDR 结构是非法的-：

```
(*lparam)->idFrom 
```

我的意思是，如果它是一个指针，那么我可以使用间接运算符来访问该结构。LPARAM 本身是从 LONG_PTR 类型定义的。为什么我必须编写这样的代码-：

```
((LPNMHDR)lparam)->idFrom 
```

什么是 LPNMHDR？LPNMHDR 的类型定义如下：

```
typedef NMHDR FAR * LPNMHDR; 
```

**FAR***再次以下列方式定义：

```
#define FAR _far 
```

什么是 _far 以及为什么我必须使用 LPNMHDR cast 来从 LPARAM 访问 NMHDR 结构？

**其次-：****MAKEINTRESOURCE**宏有 什么作用？我看到很多作者在为函数指定资源时使用纯字符串。例如-：

```
CreateDialog(hInst,"Dialog Box",
                hwnd,(DLGPROC)DialogFunc); 
```

但是在现代编译器中，我们使用-：

```
CreateDialog(hInst,MAKEINTRESOURCE(DIALOG_BOX),
                hwnd,(DLGPROC)DialogFunc); 
```

我知道，如果我们在资源文件中使用字符串标识符而不是数字，那么我们可以省略这个宏，这个宏也可以将数字转换为字符串。例如，它会将 23 转换为“23”吗？因为如果确实如此，那么我将能够使用-：

```
CreateDialog(hInst,"23",
                hwnd,(DLGPROC)DialogFunc); 
```

如果我的对话框资源是用 23 定义的。但这不起作用。

所以我想知道这个宏处理标识符后的结果是什么？它是如何工作的？我必须做什么才能在消息框中打印 MAKEINTRESOURCE 的值，因为我在使用 sprintf 函数将值复制到字符串时遇到问题。但我知道 MAKEINTRESOURCE 输出一个 LPSTR，因为它是按以下方式定义的：

```
#define MAKEINTRESOURCEA(i) ((LPSTR)((ULONG_PTR)((WORD)(i)))) 
```

我还没有找到任何关于这个宏如何工作的文档。msdn 声明 MAKEINTRESOURCE 是一个宏，它“*将整数值转换为与资源管理功能兼容的资源类型*”。谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T08:34:34.540

`lParam`不是指针，它是整数类型参数，因此在使用它之前必须将其转换为正确的指针类型。

`LPNMHDR`只是出于历史原因使用的 typedef。您也可以使用`NMHDR*`. FAR 和 _far 限定符用于 16 位 Windows，只是当时留下的噪音。

这`MAKEINTRESOURCE`是 Windows C 语言接口使用的一个技巧，用于模拟 C++ 中重载函数的作用。这样，您可以`CreateDialog`使用指针（指向字符串）参数或整数参数调用 。这使用了字符串永远不会分配在非常低的地址的知识，因此可以将它们保留为资源 ID 的别名。一个相当丑陋的黑客！

# c - 如何将字符串保存在列表项中？（C）

> ID：11185737
> 
> 赞同：0
> 
> 时间：2012-06-25T08:22:56.910
> 
> 标签：c

我无法将此字符串复制到列表中的一个数组，并且程序在到达该行时崩溃。你能帮忙解决这个问题吗？谢谢你。

这是代码。

```
typedef struct pedido pedido, *ppedido;

struct pedido{
    char id[5];
    int prioridade;
    int mesa, n_pratos;
    pprato prato[TAM];
    ppedido prox;
};

struct prato{
    char id[5];
};

ppedido AdicionaPratoMenu(ppedido lista, char ped[],char idprato[])
{
    int i,j=0,m=0;

    while(lista != NULL){
        if((strcmp(lista->id, ped)) == 0)
        {
            for(i=0;i<lista->n_pratos;i++)
            {
                m++;
            }

            strcpy(lista->prato[m]->id,idprato);   //This is where it goes wrong

        }
        lista=lista->prox;
    }

    return lista;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:32:54.893

如果出现以下情况，这是一个潜在的越界访问`TAM == lista->n_pratos`：

```
strcpy(lista->prato[m]->id,idprato); 
```

因为前一个`for`循环只会以`TAM == m`（C 中的数组索引从 0 开始）结束。要更正，请确保`m < TAM`在调用之前`strcpy()`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:26:29.903

我假设您忽略了在此处包含以下内容：

```
typedef struct prato pprato; 
```

有两个潜在的问题：

1.  什么`strlen(idprato)`等于？我的猜测是它是 5 或更大。
    改为使用`strncpy(lista->prato[m]->id, idprato, 4);`。
2.  `m`一定比`TAM`你做的时候少`strcpy`。当你`m`在你的 for 循环中递增时，你还应该添加`m < TAM`，或者只使用这个循环： `for (m = 0; m<lista->n_pratos; m++);`

一般提示：始终使用`strncmp`代替`strcmp`; 而`strncpy`不是`strcpy`. 即使`idprato`总是有 4 的长度。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T08:32:28.360

你需要检查

1.  在，`lista->prato[m]`“m”小于“TAM”`pprato prato[TAM];`
2.  长度`idprato`小于 5（这是您定义的）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T08:32:46.737

我假设'pprato'是一个指向'struct prato'的指针。如果是这样，你有一个指向“struct prato”的指针数组，但实际上没有为它们分配内存，然后你试图在你的 strcpy() 中取消引用它们。

# arrays - 如何从整数数组中找到一个整数？

> ID：11185739
> 
> 赞同：-2
> 
> 时间：2012-06-25T08:23:07.877
> 
> 标签：arrays, vb6

任何人都可以知道如何从 vb6 中的整数数组中找到一个整数吗？

```
 Dim myArray(2) As Integer
myArray(1) = 1001
myArray(2) = 1002

Dim searchTerm As Integer
searchTerm = 1005

Dim flag As Boolean
flag = True

Dim temp As Variant

For Each temp In myArray
If temp = searchTerm Then
flag = False
End If
Next temp

If flag = False Then
MsgBox "find"
End If 
```

我通过使用 For Each 语句得到了解决方案，但我想要使用 Do..Loop 的解决方案？

**编辑**

```
Dim myArray(2) As Integer 
myArray(0) = 1000 
myArray(1) = 1001 
myArray(2) = 1002 

'Initialise Search Term 
Dim searchTerm As Integer 
searchTerm = 1001 

'Check if a value exists in the Array 
If UBound(Filter(myArray, searchTerm)) >= 0 And searchTerm <> "" Then 
  MsgBox ("Search Term SUCCESSFULLY located in the Array") 
Else 
  MsgBox ("Search Term could NOT be located in the Array") 
End If 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T10:56:25.737

您可以简单地：

```
Dim i As Integer, found As Boolean
Do While i <= UBound(myArray) And Not found
    If (myArray(i) = searchTerm) Then
        found = True
    Else
        i = i+1
    End If
Loop

If (found) Then Msgbox "found @ " & i 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T10:57:53.603

下面的代码工作文件

```
Dim myArray(2) As Integer
myArray(0) = 1000
myArray(1) = 1001
myArray(2) = 1002

Dim searchTerm As Integer
searchTerm = 1005

Dim flag As Boolean
flag = True

Dim i As Integer
Dim lb As Integer
Dim hb As Integer
lb = LBound(myArray)
hb = UBound(myArray)

Do While (lb < hb)
  Dim j As Integer
  If searchTerm = myArray(j) Then
    flag = False
  End If
  j = j + 1
  lb = lb + 1
Loop

If flag = False Then
  MsgBox "find"
Else
  MsgBox "not find"
End If 
```

# playframework - H2 数据库在 playframework2 中失败

> ID：11185744
> 
> 赞同：2
> 
> 时间：2012-06-25T08:24:13.750
> 
> 标签：playframework, playframework-2.0, h2

我使用 play 2.0.1 开发小型应用程序，发现使用内部 H2 数据库进行客户预览非常有用。数据库中只有几行和一两个用户。在我的笔记本电脑中编译应用程序并制作 tar 以部署在测试服务器上非常方便。但看起来 H2 有时会下降。我在我的 application.log 中找到了这个：

> ！@6anj14ljo - 内部服务器错误，请求 [POST /admin] ->
> 
> play.core.ActionInvoker$$anonfun$receive$1$$anon$1：执行异常 [[PersistenceException：查询抛出 SQLException：未找到表“MANAGER”。

我知道使用 H2 进行生产不是一个好主意。但是我不想每次都配置mysql。这种H2行为的原因是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T10:39:38.850

用于`h2-browser`检查数据库的状态，以及结构是否与例外相同：

在终端/命令行中

1.  `play`
2.  `h2-browser`- 它将`h2-browser`在新的浏览器窗口中打开
3.  `~run`
4.  进行进化
5.  转到窗口并使用与您提供的`h2-browser`相同路径进行连接`application.conf``db.default.url`

另一方面，与您相反，我发现在开发和生产模式下使用不同的数据库可能很烦人。每个数据库引擎都有一些非常具体的事情，您需要解决一些问题两次，一次用于`H2`- 稍后用于`MySQL`. 这没有意义，更糟糕的是，每次在开发模式下重新启动应用程序时，都需要再次填充样本数据以进行调试。也许在重新启动之间您忘记添加一些记录等。

虽然最后一个问题可以通过在方法中使用[Global 对象](http://www.playframework.org/documentation/2.0.1/JavaGlobal)`onStart()`插入同一组测试数据来解决，但在重启之间将测试数据保留在 MySQL 中会更舒服。

当然，如果您仍然想要/需要使用`H2`，您也可以通过从 url 中`file mode`删除`mem`段来使用它，然后它将被持久化在磁盘上。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-08T11:49:19.733

您是否将数据库配置为在没有连接的情况下不删除表？从[文档](http://www.playframework.com/documentation/2.2.1/Developing-with-the-H2-Database)中可以看出，您必须`DB_CLOSE_DELAY=-1`在配置文件中附加到您的 db url 以防止此类行为。

当我在 docker 容器中运行带有内存数据库的“生产”应用程序时，我遇到了与您相同的错误。在我运行它而不与它交互一段时间后，这些表将被删除。

附加`DB_CLOSE_DELAY=-1`标志似乎已修复它

# c++ - 哪个更贵——数据库调用还是新调用？

> ID：11185747
> 
> 赞同：-3
> 
> 时间：2012-06-25T08:24:22.523
> 
> 标签：c++, database, dynamic-memory-allocation

我正在调试一个进程核心转储，我想做一个设计更改。C++ 进程使用 eSQL/C 连接到 informix 数据库。

目前，该应用程序使用从数据库中获取超过 2lacs 行的查询。`new`对于每一行，它使用并处理结果创建动态内存。它有时会导致`Out of memory`错误，可能是由于固有的内存泄漏。

我正在考虑一个选项，我一次只能从数据库中查询 500 行，分配动态内存并处理它。一旦它被取消分配，然后加载下一个 500，依此类推。但这会增加数据库查询的数量，即使一次所需的动态内存减少了。

所以我的问题是这个选项是否是一个可扩展的解决方案。更多的数据库调用是否会使应用程序的可扩展性降低？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:32:38.620

取决于查询。

您此时的单个调用需要一定的时间才能返回所有 200k 行。假设时间与数据库中的行数成正比，称之为`n`。

如果事实证明您的新的、较小的调用*仍然*需要与数据库中的行数成正比的时间，那么您的整体操作将需要与成正比的时间`n^2`（因为您必须以每次`n / 500`调用的成本进行调用`n`）。这可能不可扩展。

因此，您需要确保数据库中有正确的索引（或者更可能的是，确保根据已索引的某些字段的顺序将行分成 500 组），以便较小的调用所花费的时间大致与返回的行数成正比，而不是与数据库中的行数成正比。那么它可能是可扩展的。

无论如何，如果您确实有内存泄漏，那么它们就是错误，它们不是“固有的”，应该将它们删除！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:34:26.370

除非您正在处理少量记录，否则在处理时将所有记录保存在内存中的可扩展性不是很高。鉴于当前的解决方案已经失败，分页肯定会带来更好的可扩展性。虽然多次往返会由于网络延迟而导致更大的延迟，但分页将允许您处理更多的记录。

也就是说，您绝对应该解决内存泄漏错误，因为您仍然会遇到内存不足的异常，泄漏累积到发生异常的点需要更长的时间。

此外，您应该确保在分页时不要打开任何游标，否则可能会导致其他人出现阻塞问题。您应该创建一次只返回一页数据的 SQL 语句。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T08:39:31.523

首先确定您是否有内存泄漏，如果有，请修复它们。

内存泄漏不能很好地扩展。

其次，分配动态内存通常比访问数据库快得多——除非您分配大量内存并需要增加堆。

如果您请求很多（超过 100k 行）来执行处理 - 首先问自己**为什么需要获取所有这些**- 是否可以修改 SQL 以根据标准执行处理 - 如果您澄清我们可以提供的处理关于如何做到这一点的更好的建议。

获取和处理大量数据需要适当的考虑以确保其能够很好地扩展。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T08:29:29.157

DB 调用肯定比动态内存分配花费更多（尽管两者都很昂贵）。如果您无法修复内存泄漏，您应该尝试此解决方案并调整行数以获取最大效率。

无论如何，内存泄漏是个大问题，您的解决方案只是暂时的。您应该尝试使用智能指针。

# floating-point - 使用浮点数作为文字

> ID：11185754
> 
> 赞同：4
> 
> 时间：2012-06-25T08:24:52.890
> 
> 标签：floating-point, abap

我尝试使用浮点数来区分大小写，但点是问题。例如

```
CASE constant.
  WHEN 3.14\.   "<=============== after 3, problem.
    WRITE  / 'That's a pi'.
ENDCASE. 
```

我该如何解决？谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T08:50:47.723

在值之前和之后使用一些引号。这 '。' 不会作为代码分隔符的结尾。

```
WHEN '3.14'. 
```

问候

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-12-14T20:08:10.147

我可以建议您创建一个常量吗，'3.14' 的解决方案虽然正确，但每次评估时都会将字符串转换为浮点数。

```
CONSTANTS: c_pi TYPE f VALUE '3.14'. " conversion is done here, may not work on old releases

CASE constant.
  WHEN c_pi.
    WRITE/ 'That's a pi'. 
```

# axapta - 如何在 Dynamics AX 中选择一个单选按钮（通过代码）？

> ID：11185756
> 
> 赞同：2
> 
> 时间：2012-06-25T08:25:04.637
> 
> 标签：axapta, dynamics-ax-2012

预选单选按钮项的代码是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T11:05:09.803

使用方法`RadioButton.selection(i)`，`i`单选按钮的基于 0 的数组索引在哪里。

您可能需要将单选按钮属性“自动声明”设置为 true 才能访问选择方法。

# jquery - 打印在 ASP.NET MVC3 中显示的页面的最快方法

> ID：11185759
> 
> 赞同：0
> 
> 时间：2012-06-25T08:25:11.683
> 
> 标签：jquery, asp.net-mvc, asp.net-mvc-3, printing

我使用 ASP.NET MVC 3 和 Razor，并且我有一个视图页面需要打印`div`当前显示的特定内容。这个页面有很多css要这样显示，我不知道css，我只是想打印一个显示在页面中的div，所以我使用这样的`PrintElement`jQuery插件：

```
$('a.PrintBtn').click(function () {
 $('div#PrintMe').printElement();
 return false;
}); 
```

但这给我返回了一个所有元素、字体和方向都乱七八糟的页面，那么如何解决呢？我也看到了这个重载：

```
$("selector").printElement(
    {
    overrideElementCSS:[
'thisWillBeTheCSSUsed.css',
{ href:'thisWillBeTheCSSUsedAsWell.css',media:'print'}]
    }); 
```

但这是什么意思？我不了解 css，这是否意味着我需要为打印页面编写一个新的 css？我怎样才能做到这一点？还有其他简单的方法可以将其打印`div`为显示格式吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T16:26:37.707

最简单的方法是创建一个 print.css CSS 文件。您可以将不希望显示的项目的显示属性设置为 false。当您链接到 head 标签中的 print.css 文件时，请使用以下内容：

```
<link href="Styles/print.css" rel="stylesheet" type="text/css" media="print" /> 
```

这告诉浏览器仅在打印模式下使用 CSS。通过使用以下媒体选项将 CSS 拆分为多个文件，您可以变得更加花哨

*   media="print" -> 仅在打印时使用
*   media="screen" -> 仅在屏幕上显示时使用
*   media="all" -> 始终应用

这很可能是首选方法，因为您不必依赖使用 Javascript 的客户端来获取页面/项目/对象的打印版本。

# symfony - 使用 behat、mink 和 symfony2 进行功能测试

> ID：11185760
> 
> 赞同：0
> 
> 时间：2012-06-25T08:25:13.343
> 
> 标签：symfony, behat, mink

我正在尝试测试捆绑包 Behat 和 Mink，但我遇到了问题

*   我很好地安装了捆绑包

*   我已经启动了：php app/console test -e = Behat -init@AcmeDemoBundle，文件夹Features被创建

*   我在 essai.feature 中写了一个场景

*   我已经启动了：php app/console test -e @Behat AcmeDemoBundle，我得到了这个结果

> 功能：测试 为了测试作为开发人员，我需要能够提交联系表
> 
> 场景：导航到欢迎页面#src\Acme\DemoBundle\Features\>essai.feature: 6 Given I on "/crud/Article"
> 
> 场景1（1个未定义）1步（1个未定义）0m0.243s
> 
> 您可以使用片段论文为未定义的步骤实现步骤定义：
> 
>      / ** * @ Given / ^ 我在 "([^"] *) "$ / * / public function iAmOn($ argument1) { throw new PendingException(); }

*   当我尝试实现定义时，我已经启动了 php app / console test-e @ Behat AcmeDemoBundle -dl

但是，我什么都得不到！什么都没有执行，并且文件 FeatureContext 没有被修改

请帮我找到解决方案

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-07-21T18:01:52.457

看起来您还没有告诉 Behat 在哪里查找您的主上下文文件。您需要在 behat 配置文件中显式加载 FeatureContext.php：

```
# config/behat.yml
default:
autoload: [ %paths.base%/../features/bootstrap ]
suites:
  default:
      paths: [ %paths.base%/../features ]
      filters:
      contexts:
          - FeatureContext 
```

或者将 FeatureContext.php 放在 Behat 默认搜索它的位置。从 Behat 文档的[“上下文类要求”](http://docs.behat.org/en/latest/guides/4.contexts.html)部分：

> 上下文类应该可以被 Behat 发现和加载。这意味着你应该以某种方式告诉 Behat 你的类文件。Behat 带有一个开箱即用的 PSR-0 自动加载器，默认的自动加载目录是 features/bootstrap。这就是 Behat 如此轻松地加载默认 FeatureContext 的原因。您可以按照 PSR-0 约定将自己的类放在 features/bootstrap 下，甚至可以通过 behat.yml 定义自己的自定义自动加载文件夹。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-08T03:17:36.787

如果步骤定义有任何错误，则可能导致其中一种“什么都没有发生”的情况。在开始实施之前，最好从控制台输出复制新步骤 def 并将其粘贴到 FeatureContext 中。

# mysql - 如何使用sql从第三个表中获取列

> ID：11185761
> 
> 赞同：0
> 
> 时间：2012-06-25T08:25:20.927
> 
> 标签：mysql

```
$sql = "SELECT m.*,p.place_title
                FROM members_meetings mm,meetings m,places p
                WHERE mm.meeting_id=m.meeting_id AND mm.member_id=$member_id AND m.cat_id=$cat_id AND m.place_id=p.place_id AND m.meeting_status<>0
                ORDER BY mm.meeting_id DESC"; 
```

* * *

我有另一个表 meeting_time_poll 包含这些列：

```
poll_id
meeting_id
poll_closed
poll_dates
poll_times 
```

我需要 poll_id where meeting_time_poll.meeting_id=meeting.meeting_id 我怎样才能把它放在 sql 中？

**注意：**并非所有会议表中的 meeting_id 在 meeting_time 轮询中都有对应

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:38:40.433

这个怎么样？

```
$sql = "SELECT m.*,p.place_title, mp.poll_id
            FROM 
                members_meetings mm,
                meetings m,places p, 
                meeting_time_poll mp
            WHERE 
                mm.meeting_id=m.meeting_id
                AND mm.member_id=$member_id 
                AND m.cat_id=$cat_id 
                AND m.place_id=p.place_id 
                AND m.meeting_status<>0 
                AND mp.meeting_id=m.meeting_id
            ORDER BY mm.meeting_id DESC"; 
```

另外我建议使用`JOIN`.

# objective-c - UIBezierPath 的橡皮擦

> ID：11185763
> 
> 赞同：2
> 
> 时间：2012-06-25T08:25:29.347
> 
> 标签：uibezierpath, objective-c, ios, cocoa-touch, ipad, uibezierpath

我在 iPad 应用程序中使用 UIBezierPath 进行免费手绘。我想将橡皮擦应用到[uibezierpath](/questions/tagged/uibezierpath "显示标记为“uibezierpath”的问题")。

但是，我只想擦除其路径中的绘图*。*我**不能**使用路径颜色作为背景颜色，因为背景上有其他元素。

下面是我如何创建我的手绘图：

```
- (id)initWithFrame:(CGRect)frame {
    self = [super initWithFrame:frame];

    if (self) {
        self.backgroundColor = [UIColor clearColor];
        self.opaque = NO;
        lineWidths = 10;
        brushPattern = [UIColor greenColor]; 
        pathArray = [[NSMutableArray alloc]init];
        bufferArray = [[NSMutableArray alloc]init];
        self.multipleTouchEnabled = NO;
    }

    return self;
}

- (void)drawRect:(CGRect)rect {
    for (NSMutableDictionary *dictionary in pathArray) {
        UIBezierPath *_path = [dictionary objectForKey:@"Path"];
        UIColor *_colors = [dictionary objectForKey:@"Colors"];
        [_colors setStroke];
        _path.lineCapStyle = kCGLineCapRound;
        [_path stroke];
    }
}

- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {
    myPath = [[UIBezierPath alloc]init];
    myPath.lineWidth = lineWidths;
    CGPoint touchPoint = [[touches anyObject] locationInView:self];

    UITouch *mytouch = [[touches allObjects] objectAtIndex:0];
    [myPath moveToPoint:[mytouch locationInView:self]];
    [myPath addLineToPoint:CGPointMake(touchPoint.x, touchPoint.y)];

    dict = @{@"Path": myPath, @"Colors": brushPattern};
    [pathArray addObject:dict];

    [self setNeedsDisplay];

    [undoManager registerUndoWithTarget:self selector:@selector(undoButtonClicked) object:nil];
}

- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch *mytouch = [[touches allObjects] objectAtIndex:0];
    [myPath addLineToPoint:[mytouch locationInView:self]];
    [self setNeedsDisplay];
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-05-20T07:58:59.537

为擦除存储一个 BOOL 值：`BOOL _erase;`

```
BOOL eraseButtonIsTapped = ...
if eraseButtonIsTapped {
    _erase = yes;
} else{
    _erase = NO;
} 
```

绘图时：

```
[myPath strokeWithBlendMode:_erase?kCGBlendModeClear:kCGBlendModeNormal alpha:1.0f]; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-01T10:54:17.223

试试这个

```
 brushPattern = view.backgroundColor; 
```

这将绘制一条新线，其颜色正好在您绘制的路径后面。您可以使用相同的 pathArray 来执行此操作。这样以后您也可以实现重做/撤消操作。如果你愿意，我可以向你解释更多。

# xml - 混合 XSLT、普通 XML 和/或可能的 XSD

> ID：11185765
> 
> 赞同：0
> 
> 时间：2012-06-25T08:25:34.783
> 
> 标签：xml, xslt, xsd, xml-namespaces

当我将来自不同名称空间的 XML 元素添加到 XSLT 文件时，是否需要预料到问题？或者他们只是被忽略了（因为会很棒）？

背景：在大型项目中，用户可以使用用户定义的标签进行文本格式化等（例如`\textbf{bold}`。它们首先转换为 XML 中的特定方言（首先使用专有工具，然后使用 XSLT），然后可能转换为其他方言如latex、framemaker、BB码、...

因此，目前有以下文件：

1.  专有工具的配置文件，转换`\textbf{bold}`为`<Cmd Name="strong"><param Nr="1">bold</param></Cmd>`
2.  XSLT 文件将上面的 XML 代码转换为`<myns:strong>bold</myns:strong>`
3.  描述允许的标签和格式的 XSD 文件
4.  多个 xsl 文件，用于转换`<myns:strong>bold</myns:strong>`为不同的输出格式（例如返回到`\textbf{bold}`）

维护这些文件非常困难，因为没有真正的 1:1 映射，添加新命令需要以正确的方式更改多个文件。

因此我的想法是合并这些。例如，单个 XML 文件将包含：

```
<!-- config file for proprietary tool -->
<repl:Cmd Name="strong"><repl:Param Nr="1"/></repl:Cmd>

<!-- converting to XML dialect -->
<xsl:template mode="Text" match="Cmd[@Name = 'textbf']">
   <myns:strong>
       <xsl:apply-templates select="Param[@Nr='1']" mode="Text"/>
   </myns:strong>
</xsl:template>

<!-- XSD schema for validating XML -->
<xsd:element name="strong" type="tns:GenericTextType">
</xsd:element>

<!-- converting XML dialect to latex code -->
<xsl:template match="myns:strong" mode="Text_toLatex">
    <xsl:text disable-output-escaping="yes">\textbf{</xsl:text>
       <xsl:apply-templates mode="Text_toLatex"/>
    <xsl:text disable-output-escaping="yes">}</xsl:text>
</xsl:template> 
```

这将更容易维护。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T09:03:26.717

> 当我将来自不同名称空间的 XML 元素添加到 XSLT 文件时，是否需要预料到问题？或者他们只是被忽略了（因为会很棒）？

不会有任何问题。XSLT 程序是常规的 XML 文档，您通常可以将您喜欢的任何元素（名称空间或非名称空间）添加到文档中，它们将成为程序的一部分。

*请注意，您可以在任何地方使用具有命名空间的元素，但没有命名空间的元素不能是`<xsl:stylesheet>`.*

如果它们是 a 的孩子`<xsl:template>`，它们将被输出到结果中。如果它们是`<xsl:stylesheet>`自身的孩子，则它们不会被输出（即，它们被“忽略”）。

你所要做的就是

*   声明使用的命名空间，以便您的 XSLT 保持格式正确（这是基本的 XML 要求，您始终必须声明您使用的命名空间）
*   `exclude-result-prefixes`使用该指令防止将不需要的名称空间输出到结果文档中。

.

```
<xsl:stylesheet 
  version="1.0" 
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:repl="http//tempuri.org/repl"
  xmlns:tns="http//tempuri.org/tns"
  xmlns:myns="http//tempuri.org/myns"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
  exclude-result-prefixes="tns myns"
> 
  <!-- config file for proprietary tool -->
  <repl:Cmd Name="strong"><repl:Param Nr="1"/></repl:Cmd>

  <!-- converting to XML dialect -->
  <xsl:template mode="Text" match="Cmd[@Name = 'textbf']">
    <myns:strong>
      <xsl:apply-templates select="Param[@Nr='1']" mode="Text"/>
    </myns:strong>
  </xsl:template>

  <!-- XSD schema for validating XML -->
  <xsd:element name="strong" type="tns:GenericTextType">
  </xsd:element>

  <!-- converting XML dialect to latex code -->
  <xsl:template match="myns:strong" mode="Text_toLatex">
    <xsl:text>\textbf{</xsl:text>
      <xsl:apply-templates mode="Text_toLatex"/>
    <xsl:text>}</xsl:text>
  </xsl:template>

</xsl:stylesheet> 
```

除非您编写显式使用这些节点的 XSLT 代码，否则`<repl:Cmd>`不会发生任何事情。`<xsd:element>`它们将可以通过 XPath 访问`document('')/*/xsd:element`（例如`*`是 的快捷方式`xsl:stylesheet`）。

事实上，这是一种在 XSLT 文档中存储附加结构化数据（如配置或查找表）的常用技术。

* * *

旁注：您通常不应该使用`disable-output-escaping`. 在您的特定代码中，它甚至是多余的。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-25T09:59:59.127

来自除 XSLT 名称空间之外的名称空间的元素，作为 xsl:stylesheet 元素的子元素出现，将被忽略，除非它恰好是 XSLT 处理器识别的名称空间，例如，Saxon 处理器将特殊含义附加到名称空间中的元素[http://saxon.sf.net/](http://saxon.sf.net/)。

但是，不在任何命名空间中的元素是错误的。

# asp.net - ASP.NET 中的群发邮件

> ID：11185766
> 
> 赞同：1
> 
> 时间：2012-06-25T08:25:45.230
> 
> 标签：asp.net, bulk-mail

我们有一个在 ASP.NET 4.0 中运行的站点和一个专用的 Windows Server 2008R2。

因此，在用户成功注册到网站后，我们使用 Facebook 之类的朋友查找器，并为用户提供从 Facebook、Gmail、Yahoo! 导入朋友的选项。和/或 Hotmail，如果他们想要的话。在他们选择了他们想要邮寄的朋友之后，我们会向这些朋友发送邀请。由于我们不能让用户等到所有邀请都发送完毕，我们需要另一种机制来做到这一点。我们正在考虑

1.  [使用 MailChimp 之类的服务](https://stackoverflow.com/a/3750536/17447)
2.  使用 MSMQ 发送邮件
3.  使用 Windows 服务从数据库中检索 id 并发送它们？

我们研究发现，2和3可能会导致SMTP服务器被列入黑名单，也会导致服务器负载增加。我们的问题是

1.  这些假设正确吗？
2.  MailChimp 或类似的服务是要走的路吗？
3.  有没有更好的选择？

# bash - 用于迭代目录中的文件和模式匹配文件名的 Bash 脚本

> ID：11185771
> 
> 赞同：37
> 
> 时间：2012-06-25T08:26:25.393
> 
> 标签：bash, ubuntu

我需要处理目录中的大量文件。根据文件名，可以将文件分成几个组。也就是说，文件名可以与它们所属的“组”进行模式匹配。例如，名称是这样的：

*   YYYYMMDD_*_bulk_import.csv
*   YYYYMMDD_*_genstats_import.csv
*   YYYYMMDD_*allstats.csv

ETC ...

每个“组”都有不同的处理方法（即调用不同的命令进行处理）。

我想写一个 bash 脚本来：

1.  遍历目录中的所有 CSV 文件
2.  通过将文件名称与已知模式匹配来确定文件属于哪个“组”（如我上面给出的示例）
3.  根据确定的分组调用命令。

我在 Ubuntu 10.0.4 上运行。我是 bash 新手，希望能帮助我开始编写此脚本的框架代码片段。

* * *

## 回答 #1

> 赞同：72
> 
> 时间：2012-06-25T08:29:09.600

最简单的方法可能只是分别迭代每个组。这完全避开了解析问题。

```
DIRECTORY=.

for i in $DIRECTORY/YYYYMMDD_*_bulk_import.csv; do
    # Process $i
done

for i in $DIRECTORY/YYYYMMDD_*_genstats_import.csv; do
    # Process $i
done

for i in $DIRECTORY/YYYYMMDD_*allstats.csv; do
    # Process $i
done 
```

设置`DIRECTORY`为您要搜索的任何目录。默认`.`将搜索当前工作目录。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-06-25T08:46:27.480

这是文件的基本迭代，使用 switch 块来确定文件类型。

```
#!/bin/bash
for f in *; do
        case $f in 
                [0-9]*_bulk_import.csv)
                        echo $f case 1
                        ;;
                [0-9]*_genstats_import.csv)
                        echo $f case 2
                        ;;
                [0-9]*allstats.csv)
                        echo $f case 3
                        ;;
        esac
done 
```

# .htaccess - 友好的 URL 并删除 php 前缀

> ID：11185772
> 
> 赞同：0
> 
> 时间：2012-06-25T08:26:28.960
> 
> 标签：.htaccess, mod-rewrite, url-rewriting

我的 htaccess 中有这个

```
Options +MultiViews 

RewriteEngine On
RewriteRule ^([a-zA-Z0-9]+)$ dash.php?p=$1
RewriteRule ^([a-zA-Z0-9]+)/$ dash.php?p=$1 
```

我试图制作这个网址：

```
http://mywebdomain.com/dash.php?p=dash&mode=All 
```

看起来像这样：

```
http://mywebdomain.com/dash/All 
```

有没有办法做到这一点？

如果我有例如这个：

```
http://mywebdomain.com/user/manage.php?p=manage&mode=Me 
```

我怎么能让它看起来像这样：

```
http://mywebdomain.com/user/manage/Me 
```

我已经成功地通过**Options +Multiviews**命令删除了 .php 扩展名，但我正在努力弄清楚为什么它不能用于重写 url 的扩展部分。

也提前感谢您的帮助:) Jonny

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T09:58:44.543

使用`MultiViews`on，您无需`Rewrite`完成此操作。

由于`dash.php`文件存在于文档根目录中，Apache 会将请求传递`/dash/anything`到`dash.php`，并且该 php 脚本可以解析 URI（在 中找到`$_SERVER["REQUEST_URI"]`）以检查完整的 uri 调用的内容。

同样适用于`/user/manage.php`...

# java - Java 1.7 varargs 函数报告为未经检查的警告

> ID：11185774
> 
> 赞同：16
> 
> 时间：2012-06-25T08:26:31.353
> 
> 标签：java, java-7, javac, variadic-functions, heap-pollution

我们使用了一些可变参数函数，当我们迁移到 java 1.7 时，我们会收到一个奇怪的未经检查的警告。

接口ICache中的函数添加

```
public interface ICache<O> {
    void add(Object source, O... objects);
} 
```

在一个界面报告错误。

```
ICache.java:18: warning: [unchecked] Possible heap pollution from parameterized vararg type O
    void add(Object source, O... objects);
  where O is a type-variable:
    O extends Object declared in interface ICache
1 warning 
```

O 扩展了 Object，作为它的通用缓存类。

我阅读了 xlint 警告，我们在未选中的情况下进行编译，但[http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javac.html#xlintwarnings](http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javac.html#xlintwarnings)似乎暗示这个错误应该是[varargs] 类型不是未经检查的类型。

我错过了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-07-30T15:28:56.097

堆污染是一个术语，指的是指向一个对象的类型，当使用泛型类型的可变参数时，它不是超类型。当参数化类型的变量引用不属于该参数化类型的对象时，就会发生这种情况。[这篇](https://stackoverflow.com/questions/12462079/potential-heap-pollution-via-varargs-parameter)关于堆栈溢出的帖子准确地向您解释了这意味着什么以及您应该如何处理它，并提供了有关`@SafeVarargs`注释的详细信息。因此，在 interface 中`ICache`，vararg 类型`O`指向`Object`您的接口中，但`O`不是 的超类型`Object`，这会产生堆污染警告。注意它是如何说**可能的**堆污染的。如果您的代码没有引起任何问题，例如导致`ClassCastException`，它可能是安全的，不会污染堆，但是编译器没有办法证明这一点，也无法验证操作的正确性，所以它仍然会产生警告。这实际上是未检查警告的定义：当涉及参数化类型的操作的正确性无法验证时。有关更多信息，请参阅有关不可具体化类型的 Oracle 页面[。](http://docs.oracle.com/javase/tutorial/java/generics/nonReifiableVarargsType.html)如果你不想得到这个警告，你可以用 来阻止它`SafeVarargs`，或者简单地通过添加`@SuppressWarnings ({"unchecked", "varargs"})`到方法声明中来抑制它，但是如果方法确实不安全，你将不会得到警告。

# ios - 在 ipad 应用程序中将 wikitext 保存到服务器

> ID：11185776
> 
> 赞同：0
> 
> 时间：2012-06-25T08:26:46.987
> 
> 标签：ios, ipad, mediawiki-api

我正在尝试使用 textView 编辑页面的 wikitext 并使用 mediawiki API 将其保存在服务器上，如下所示：

```
- (void)saveAction{

NSString *savedString = textView.text;
NSString *baseurl=[[NSUserDefaults standardUserDefaults] stringForKey:@"url_preference"]; 
NSString *page=[[baseurl stringByAppendingString:@"/api.php?**action=edit&title=Testedit&text=savedString&token=**"] stringByAppendingString:[MySingleton sharedSingleton].token];
NSData *data=[savedString dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];
NSString *postlength=[NSString stringWithFormat:@"%d",[data length]];
NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString:page]];
[request setHTTPMethod:@"POST"];
[request setValue:postlength forHTTPHeaderField:@"Content-Length"];
[request setValue:@"application/x-www-form-urlencoded" forHTTPHeaderField:@"Content-Type"];
[request setHTTPBody:data];
NSError *error=nil;
NSURLResponse *response=nil;
NSData *result=[NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error];
NSString *HTMLString2 = [[NSString alloc] initWithData:result encoding:NSUTF8StringEncoding];
NSLog(@"%@", HTMLString2); 
```

}

但我收到一个错误： internal_api_error_MWException, Exception Caught: Detected bug in an extension！Hook iaifAPIEditBeforeSave 调用签名无效；iaifAPIEditBeforeSave() 的参数 1 应为参考。在谷歌上搜索错误，但我没有找到任何东西。请提出一些建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T09:43:32.690

该 wiki 似乎有一个过时的[Data Import Extension](https://www.mediawiki.org/wiki/Extension%3aData_Import_Extension)。根据需要更新/卸载。应该解决此特定错误的快速破解将替换`function iaifAPIEditBeforeSave(&$editPage, $text, &$resultArr)`为`function iaifAPIEditBeforeSave($editPage, $text, &$resultArr)`extensions/DataImport/IAI/includes/IAI_GlobalFunctions.php，但是我不知道那里还有什么可能过时/损坏。

# html - HTML5 ContentEditable：这个调整大小框在 IE 中来自哪里

> ID：11185778
> 
> 赞同：1
> 
> 时间：2012-06-25T08:26:51.307
> 
> 标签：html, contenteditable

我正在玩这个`html5 contentEditable="true"`功能。最好的例子是[HTML5 Demo: ContentEditable](http://html5demos.com/contenteditable)。现在这个功能在 IE 9.0 中效果最好（令人震惊，在 IE 中效果最好；）），并且它在所有 HTML 元素上显示了这个很酷的调整大小框（这很有趣，因为现在你不能点击按钮或任何链接^ ^（最好谈谈工作……））。

我复制了演示并将其归结为内容可食用部分，**但我找不到他们如何为元素调整大小框**。我错过了什么？

这是我的代码简单的html：

```
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset=utf-8>
        <title>HTML5 Demo: ContentEditable</title>
    </head>
    <body>
        <section contenteditable="true">
            <h2>Go ahead, edit away!</h2>
            <p>
                Here's a typical paragraph element
            </p>
            <ol>
                <li>
                    and now a list
                </li>
            </ol>
        </section>
    </body>
</html> 
```

来源：[HTML5 演示：ContentEditable](http://html5demos.com/contenteditable)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T09:12:00.797

Mozilla 也[为表格和图像提供了类似的调整大小句柄](http://jsfiddle.net/timdown/wmMaM/)。WebKit 和 Opera 没有内置的可编辑内容调整 UI。IE 更进一步，还为所有[具有 layout](http://www.google.co.uk/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&sqi=2&ved=0CGUQFjAA&url=http://www.satzansatz.de/cssd/onhavinglayout.html&ei=7yfoT4mVL8Sl8QPvu6jACg&usg=AFQjCNHMyhYsVpVv0XKD5DQmjrN5i7rHfw)的元素提供了调整大小的句柄。IE 也有[不同类型的选择对象](http://code.google.com/p/rangy/wiki/RangySelection#Control_selections_in_Internet_Explorer)来处理处于这种模式的可编辑元素。

# actionscript-3 - 为功能而持有的按键的顺序特定组合？

> ID：11185780
> 
> 赞同：0
> 
> 时间：2012-06-25T08:27:04.683
> 
> 标签：actionscript-3

我试图在平台游戏中为我的角色提供一种移动机制，在该机制中按住左键然后再按住右键将导致角色仍然向左移动但速度较慢（即 motionSpeed/2），就像在月球上行走一样（反之亦然）：

```
 public var leftKey:Boolean = false;
    public var rightKey:Boolean = false;
    public var upKey:Boolean = false;
    public var leftFlag:Boolean = false;
    function ifKeyDown(event:KeyboardEvent):void
    {
        if (event.keyCode == Keyboard.LEFT && rightKey == false)
        {
            leftKey = true;
            if (event.keyCode == Keyboard.LEFT && event.keyCode == Keyboard.RIGHT)
            {
                leftFlag = true;
                trace("leftFlag true");
            }
        }
        if (event.keyCode == Keyboard.RIGHT && leftKey == false)
        {
            rightKey = true;
        }
    }

    function ifKeyUp(event:KeyboardEvent):void
    {
        if (event.keyCode == Keyboard.LEFT)
        {
            leftKey = false;
            leftFlag = false;
        }
        if (event.keyCode == Keyboard.RIGHT)
        {
            rightKey = false;
        }
    }

    public function ifEnterFrame(event:Event):void
    {
        if (leftKey == true && leftFlag == false)
        {
            player1_mc.x -=  mainSpeed;
            trace("L");
        }

        if (rightKey == true && leftFlag == false)
        {
            player1_mc.x +=  mainSpeed;
            trace("R");
        }
        if (leftKey == true && rightKey == true)
        {
            if (leftFlag == true)
            {
                player1_mc.x -=  mainSpeed/2;
                trace("L + R");
            }
            else
            {
                player1_mc.x +=  mainSpeed/2;
                trace("R + L");
            }
        } 
```

我的输出看起来像这样： *我按住左键* L L L L *我放开左键。然后，我按住右键* R R R R *我放开右键。然后，我按住右然后也按住左* L R R+L L R R+L *我放开两者。然后，我左握右握* L R R+L L R R+L

虽然我通过我的痕迹知道 leftFlag 没有运行，但我花了几个小时试图找出为什么无济于事。:(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T19:42:54.227

我认为你的问题是这个表达式：

```
event.keyCode == Keyboard.LEFT && event.keyCode == Keyboard.RIGHT 
```

虽然我不熟悉 actionscript，但如果它是 Java 之类的，每次按键都会调用一次键盘事件。“事件”仅对应一个键，而不是两个不同的键，因此您的表达式将始终返回 false。

您的问题的解决方案可能会在按键按下和释放功能中涉及类似的内容。

```
if (event.keyCode == Keyboard.LEFT)
{
    if (leftFlag)
    {
        //code here
    }
    if (rightFlag)
    {
        //code here
    }
}
if (event.keyCode == Keyboard.RIGHT)
{
    if (leftFlag)
    {
        //code here
    }
    if (rightFlag)
    {
        //code here
    }
} 
```

希望有帮助！

# python - 如何检查输入是否在python的列表中？

> ID：11185781
> 
> 赞同：4
> 
> 时间：2012-06-25T08:27:05.230
> 
> 标签：python, list

我希望能够输入一个值并检查它是否在列表中，如果它在列表中，则运行所需的其余程序。

```
a=input('enter value')
b=(1,2,3,4)
c=(5,6,7,8,9)
if a is in b:
   print 'enter in code thats wanted' 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-25T08:30:00.933

你自己写的几乎是正确的，而不是 -

```
if a is in b: 
```

它应该是 -

```
if a in b: 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-25T08:29:23.077

条件应该是

```
if a in b:
    print 'enter in code thats wanted' 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-06-20T12:44:42.867

*   in 运算符：'in' 运算符用于检查值是否存在于序列中。如果找到指定序列中的变量，则评估为 true，否则评估为 false。

*   'is' 运算符：如果运算符两侧的变量指向同一对象，则计算结果为 true，否则计算结果为 false。

因此：

```
if a in b:
    print 'enter in the code that\'s wanted' 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-09-15T13:34:07.470

应该是这样的↓</p>

```
a=input('enter value')
b=(1,2,3,4)
c=(5,6,7,8,9)
if a in b:
print ('enter in code thats wanted') 
```

# c++ - 如何删除分配给基类的指针？

> ID：11185782
> 
> 赞同：0
> 
> 时间：2012-06-25T08:27:12.227
> 
> 标签：c++, inheritance, delete-operator

我有一个基类`A` 和一个派生类`B`。

```
class A
{
    A();
    virtual ~A();
    void func1();
    virtual void func2();
};

class B : public A
{
    B();
    ~B();
    void func2();
};

int main()
{
    A* lBaseobj = new A ( );

    lBaseobj->func1( );
    lBaseobj = new B( );
    lBaseobj->func2( );

    delete lBaseobj;
return;
} 
```

我的问题是：是否也`delete lBaseobj`释放分配给`lBaseobj`对象的内存`new A( )`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T08:29:55.180

> “删除 lBaseobj”是否也释放了 new A() 分配给 lBaseobj 对象的内存。

**NO**和**YES**，从你的例子。

下面你泄漏内存，因为`A`没有被删除：

```
...
lBaseobj->func1( );  // where is delete lBaseObj; ??
lBaseobj = new B( );
... 
```

下面是可以的，因为它`A::~A()`是虚拟的：

```
...
lBaseobj->func2( );
delete lBaseobj; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T08:28:13.950

不，初始对象没有被破坏：

```
A* lBaseobj = new A ( );
lBaseobj->func1( );
delete lBaseobj; // call delete here
lBaseobj = new B( ); 
```

您应该遵守一条经验法则：对于每个都`new`应该有 a `delete`，对于每个`new[]`应该有 a `delete[]`。

在您的代码中，您有 2 个`new`，但只有 1 个`delete`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T08:52:05.633

如果使用智能指针，内存不会泄漏：

```
std::unique_ptr<A> lBaseobj(new A());
// or: auto lBaseobj = std::make_unique<A>();
lBaseobj->func1();
lBaseobj.reset(new B()); // will delete resources allocated by new A()
lBaseobj->func2();
return 1; // destructor of lBaseobj will delete resources allocated by new B() 
```

# javascript - Page Speed Insights + 启用压缩与优化图像

> ID：11185785
> 
> 赞同：2
> 
> 时间：2012-06-25T08:27:26.090
> 
> 标签：javascript, web, performance-testing, pagespeed

我正在使用 Page Speed Insights [https://developers.google.com/speed/pagespeed/insights_extensions](https://developers.google.com/speed/pagespeed/insights_extensions)来分析我们的网络应用程序的页面加载时间。结果在“*高优先级*”部分下将“**启用压缩**”和**“优化图像**”都显示为待办事项。如果我在 Web 服务器上启用 gzip 压缩，它不会同时兼顾两者吗？

 *对于**启用压缩”** 页面速度显示“使用 gzip 或 deflate 压缩资源可以减少通过网络发送的字节数。”

对于**优化图像**页面速度说“正确格式化和压缩图像可以节省许多字节的数据。” 然后给出如下建议：

无损压缩`someImage.jpg` 可以节省 22.1KiB（减少 95%），并提供显示优化内容的链接。

我的问题： **“优化图像”不是“启用压缩”的子集吗？**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-25T08:33:17.040

> 我的问题：“优化图像”不是“启用压缩”的子集吗？

不，图像是二进制数据。即使 apache 通过 gzip 算法进行压缩，这也不是他们所裁判的。您需要通过删除所有元数据和评论来优化您的图像。这会丢失一些字节。并且图像的原始尺寸会小很多。

[这](http://developer.yahoo.com/performance/rules.html#opt_images)是雅虎的相关提示。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-12-30T21:43:27.597

任何网站的目标都是使其加载速度尽可能快。Google Page Speed Insights 只是一个无法判断网站用途的工具，但它附带了一系列可能不适合网站目的的建议。

我建议你们都启用压缩和优化图像。对于最后一个，这里的指南可能会帮助您[https://www.sitepoint.com/optimizing-images-for-the-web-with-photoshop/](https://www.sitepoint.com/optimizing-images-for-the-web-with-photoshop/)

同样，它是关于使网站尽可能用户友好，谷歌会适当地奖励它！*

# javascript - 如何在 PhpStorm 中启用 JS 库自动完成？

> ID：11185791
> 
> 赞同：10
> 
> 时间：2012-06-25T08:27:59.057
> 
> 标签：javascript, jquery, configuration, autocomplete, phpstorm

在一个 HTML 文件中，我通过

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" ></script> 
```

我通过上下文菜单下载了库，现在可以在`External Libraries`. 然而，似乎 jQuery 未被识别。

```
<script type="text/javascript">
    $(document).ready(function() {
    ..
    });
</script> 
```

`$`带有下划线并且代码提示要求我创建一个名为 的函数或方法`$`。代码本身虽然有效。

我应该怎么做才能让 PhpStorm 识别外部 JavaScript 库？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-26T08:02:27.417

正如 LazyOne 在他的评论中指出的那样，我必须查找设置，然后我意识到我必须再次下载该库，并将其设为全局。

![phpstorm的设置](../Images/9b8d6fe47a720f833bb6c1c4a9ffba0a.png)

# audio - 检测 MOV 文件中丢失的音频

> ID：11185793
> 
> 赞同：3
> 
> 时间：2012-06-25T08:28:08.493
> 
> 标签：audio, video, ffmpeg, mov

我很好奇是否有办法检测 MOV 视频文件中的音频是否丢失或损坏。最近有一个可以播放的 MOV 文件，但音频“丢失”。

我尝试 ffmpeg 来获取特定的错误，但它没有给我任何错误。我只注意到音频比特率非常低，2kb/s。除了检查音频比特率之外，还有没有办法用 ffmpeg 检测这种损坏的视频剪辑？

丢失的音频可能是由于文件复制不成功引起的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-15T22:48:25.150

```
ffmpeg -i movie.avi -af volumedetect -f null - 
```

这将打印出一个直方图，告诉您文件中的音量

# jquery - 删除 jQuery 中的元素会导致错误

> ID：11185795
> 
> 赞同：0
> 
> 时间：2012-06-25T08:28:15.557
> 
> 标签：jquery

我有一个包含很多表格的页面，每个表格里面都有一个链接。我必须检查他们是否死了，所以我构建了这个代码：

```
 function UrlExists(url)
    {
        var http = new XMLHttpRequest();
        http.open('HEAD', url, false);
        http.send();
        return http.status!=404;
    }

    $(document).ready(function() {
        $("table[id^='row']").each(function(){
            if(!UrlExists($(this).children("a:nth-child(2)").attr('href')))
                $(this).remove();
        })
    }); 
```

但这似乎不起作用，甚至错误控制台也无济于事：

```
Error: ($(parentElement) || document.body).getElementsByTagName is not a function
Source File: http://..../js/prototype.js
Line: 835 
```

我哪里错了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:34:44.957

由于错误来自一个名为 的文件`prototype.js`，我猜`$`它属于原型而不是 jQuery。

尝试：

```
jQuery(document).ready(function($) {
    $("table[id^='row']").each(function(){
        if(!UrlExists($(this).children("a:nth-child(2)").attr('href')))
            $(this).remove();
    })
}); 
```

# smtp - ASP.NET 中的 SMTP 邮件附件

> ID：11185797
> 
> 赞同：1
> 
> 时间：2012-06-25T08:28:58.920
> 
> 标签：smtp, sendmail

我的项目要求是以 .pdf 文件作为附件向客户发送电子邮件。我成功地做到了，我的问题是关于我发送的文件的文件名。它将文件的整个路径附加到文件名，这看起来一点也不专业。我怎样才能改变这种行为？

我的代码是：

```
 try
                {   string filename = "C:/MailFiles/Client-" + person.ToString() + ".pdf";
                    if (System.IO.File.Exists(filename))
                    {
                        var attachment = new Attachment(filename);
                        mail.Attachments.Add(attachment);
                        client.Send(mail);

                    }
                } 
```

# css - 当我将一个 CSS 与另一个 CSS 集成时，为什么一个 CSS 的字体样式会更改为另一个 CSS 的字体样式？

> ID：11185817
> 
> 赞同：0
> 
> 时间：2012-06-25T08:30:08.187
> 
> 标签：css

我有一个根据我的规范（字体样式、大小等）定制的图像滑块（基于 CSS）。然后我有另一个具有 6 个下载按钮的 CSS。但是当我尝试将它们组合并集成到我的 HTML 页面中时，为什么 CAPTION 的字体大小、样式、标题位置等会发生变化？

另请注意，在单个下载按钮页面中，当我将鼠标悬停在下载按钮上时，文本“下载”仍以白色显示。但是在整合了两个 CSS 页面之后，当我将鼠标悬停在下载按钮上时，它的颜色从白色变为黑色！为什么会这样？请查看以下页面： 个人滑块页面：[www.aamaodisha.org/nivoslider.html](http://www.aamaodisha.org/nivoslider.html) 个人下载按钮页面：[www.aamaodisha.org/button.html](http://www.aamaodisha.org/button.html)

当我将它们集成到一个页面中时，它们看起来像这样： [www.aamaodisha.org/both.html](http://www.aamaodisha.org/both.html)

对不起，这可能是我的一个非常愚蠢的疑问，但我对 CSS 属性非常陌生，我只是决定尝试设计自己的网站。我尝试在 Google 上查看 CSS 章节，但无法自拔。但就我对 CSS 的了解而言，我想它与文本的“ID”和“类”有关。我想如果我以某种方式将 nivoslider 中的 CAPTION 类更改为 ID，它可能不会干扰其他设置。或者可能会将下载页面 CSS 的类更改为某个 ID。但我找不到办法。请帮帮我。

这是滑块的 CSS：

```
a, a:visited {
    color:blue;
    text-decoration:none;
}
a:hover, a:active {
    color:#000;
    text-decoration:none;
}
a.nivo-nextNav {
    background-position:-30px 0;
    right:15px;
}
a.nivo-prevNav {
    left:15px;
}

#slider_wrapper {
  height: 390px;
}

#slider {
    margin:0px;
    position:absolute;
    left:0px;
    top:102px;
    width: 359px;
    height: 390px;
    background: url(images/loading.gif) no-repeat 50% 50%;
}

#slider img {
    position: absolute;
    top: 0;
    left: 0;
    display: none;
}
#slider a {
    border: 0;
    display: block;
}

.nivoSlider {
    position:relative;
    background:#ffffff url(loading.gif) no-repeat 50% 50%;
    margin-bottom:50px;
    -webkit-box-shadow: 0px 0px 0px 0px #4a4a4a;
    -moz-box-shadow: 0px 0px 0px 0px #4a4a4a;
    box-shadow: 0px 0px 0px 0px #4a4a4a;

}
.nivoSlider img {
    position:absolute;
    top:0px;
    left:0px;
    display:none;
}
.nivoSlider a {
    border:0;
    display:block;
}
/* If an image is wrapped in a link */
.nivoSlider a.nivo-imageLink {
    position:absolute;
    top:0px;
    left:0px;
    width:100%;
    height:100%;
    border:0;
    padding:0;
    margin:0;
    z-index:6;
    display:none;
}
/* The slices and boxes in the Slider */
.nivo-slice {
    display:block;
    position:absolute;
    z-index:5;
    height:100%;
}
.nivo-box {
    display:block;
    position:absolute;
    z-index:5;
}
/* Caption styles */
.nivo-caption {
    position:absolute;
    left:0px;
    bottom:0px;
    background:#091023;
    color:#fff;
    opacity:0.7; /* Overridden by captionOpacity setting */
    width:100%;
    z-index:8;
    }
.nivo-caption p {
    font:11px/1.5 Verdana;
    padding: 7px 50px;

}
.nivo-caption a {
    display:inline !important;
    color:#fff;
    border-bottom:1px dotted #fff;
}
.nivo-caption a:hover {
    color:#fff;
}
.nivo-html-caption {
    display:none;
}

/* Direction nav styles (e.g. Next & Prev) */
.nivo-directionNav a {
    position:absolute;
    top:45%;
    z-index:9;
    cursor:pointer;
    display:block;
    width:30px;
    height:30px;
    background:url(arrows.png) no-repeat;
    text-indent:-9999px;
    border:0;
}
.nivo-prevNav {
    left:0px;
}
.nivo-nextNav {
    right:0px;
}
.nivo-controlNav {
    position:absolute;
    left:73%;
    top:7px;
    margin-right:-4px; /* Tweak this to center bullets */
}
/* Control nav styles (e.g. 1,2,3...) */
.nivo-controlNav a {
    display:block;
    width:22px;
    height:22px;
    background:url(bullets.png) no-repeat;
    text-indent:-9999px;
    border:0;
    margin-right:3px;
    float:left;
    position:relative;
    z-index:9;
    cursor:pointer;
}
.nivo-controlNav a.active {
    background-position:0 -22px;
    font-weight:bold;
} 
```

这是下载按钮的 CSS：

```
.button {
  width: 115px;
}

.button1 {
    position:absolute;
    left:430px;
    top:410px;

}    
.button2 {
    position:absolute;
    left:632px;
    top:410px;

}  
.button3 {
    position:absolute;
    left:833px;
    top:410px;

}    
.button4 {
    position:absolute;
    left:430px;
    top:636px;

}    
.button5 {
    position:absolute;
    left:632px;
    top:636px;

}   
.button6 {
    position:absolute;
    left:833px;
    top:636px;

}   
.button a {
  display: block;
  height: 28px;
  width: 115px;

  /*TYPE*/
  color: white;
  font: bold 11px/28px Helvetica, Verdana, sans-serif;
  text-decoration: none;
  text-align: center;
  text-transform: uppercase; 

  /*GRADIENT*/  
  background: #00b7ea; /* Old browsers */
  background: -moz-linear-gradient(top, #00b7ea 0%, #009ec3 100%); /* FF3.6+ */
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#00b7ea), color-stop(100%,#009ec3)); /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top, #00b7ea 0%,#009ec3 100%); /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(top, #00b7ea 0%,#009ec3 100%); /* Opera 11.10+ */
  background: -ms-linear-gradient(top, #00b7ea 0%,#009ec3 100%); /* IE10+ */
  background: linear-gradient(top, #00b7ea 0%,#009ec3 100%); /* W3C */
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00b7ea', endColorstr='#009ec3',GradientType=0 ); /* IE6-9 */
}

.button a, p {
    -webkit-border-radius: 4px;
     -moz-border-radius: 4px;
          border-radius: 4px;

  -webkit-box-shadow: 2px 2px 8px rgba(0,0,0,0.2);
     -moz-box-shadow: 2px 2px 8px rgba(0,0,0,0.2);
          box-shadow: 2px 2px 8px rgba(0,0,0,0.2);
}

p {
  background: #222;
  display: block;
  height: 25px;
  width: 105px;
  margin: -27px 0 0 5px;

  /*TYPE*/
  text-align: center;
  font: bold 10px/28px Helvetica, Verdana, sans-serif;
  color: #ffffff;

  /*POSITION*/
  position: absolute;
  z-index: -1;

  /*TRANSITION*/  
  -webkit-transition: margin 0.4s ease;
     -moz-transition: margin 0.4s ease;
       -o-transition: margin 0.4s ease;
      -ms-transition: margin 0.4s ease;
          transition: margin 0.4s ease;
}

/*HOVER*/
.button:hover .bottom {
  margin: -4px 0 0 5px;
}

.button:hover .top {
  margin: -50px 0 0 5px;
  line-height: 22px;
}

/*ACTIVE*/
.button a:active {
background: #00b7ea; /* Old browsers */
background: -moz-linear-gradient(top,  #00b7ea 36%, #009ec3 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(36%,#00b7ea), color-stop(100%,#009ec3)); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top,  #00b7ea 36%,#009ec3 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top,  #00b7ea 36%,#009ec3 100%); /* Opera 11.10+ */
background: -ms-linear-gradient(top,  #00b7ea 36%,#009ec3 100%); /* IE10+ */
background: linear-gradient(top,  #00b7ea 36%,#009ec3 100%); /* W3C */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00b7ea', endColorstr='#009ec3',GradientType=0 ); /* IE6-9 */

}

.button:active .bottom {
  margin: -14px 0 0 5px;
}

.button:active .top {
  margin: -30px 0 0 5px;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:37:54.880

在下载按钮的 CSS 中，您有以下规则：

```
.button a, p {
    -webkit-border-radius: 4px;
     -moz-border-radius: 4px;
      border-radius: 4px;

  -webkit-box-shadow: 2px 2px 8px rgba(0,0,0,0.2);
 -moz-box-shadow: 2px 2px 8px rgba(0,0,0,0.2);
      box-shadow: 2px 2px 8px rgba(0,0,0,0.2);
} 
```

这会将所有这些声明应用于具有 class 的元素内的每个锚元素`button`，但也适用于每个段落元素，无论其父元素如何。滑块框中的标题放置在段落标签中。这就是应用这些附加样式的原因。解决此问题的一种快速方法是使用类为标题添加一些特殊性，并将声明应用于该类而不是所有段落元素。

了解样式声明来自何处的最佳方法是在 Chrome 或 Firefox 等现代浏览器中使用检查器。在 Chrome 中，尝试二次点击像标题这样的元素。`Inspect Element`从上下文菜单中选择。在 下`Computed Style`，您将看到浏览器已解释的每个声明，以及它的来源。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:38:08.677

```
<link href="button.css" type="text/css" rel="stylesheet" /> 
```

..................................................... .....................

```
<link href="nivo-slider.css" type="text/css" rel="stylesheet" /> 
```

这是您页面的一些来源。如您所见，滑块 css 的链接位于按钮链接之后。每次你放入一个 css 链接时，如果再次声明元素样式，之前定义的任何内容都会被覆盖。所以你有了

```
a:hover, a:active {
color:#000;
text-decoration:none; 
```

} 在您的滑块 css 中，这称为第二个。这将覆盖您在按钮中的样式，因为它是所有**a**元素的一般声明。颜色是#000（黑色）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T08:40:37.983

在`button.css`第 74 行中，将选择器从更改`p`为`.button p`

所以而不是

```
 p {
    -moz-transition: margin 0.4s ease 0s;
    background: none repeat scroll 0 0 #222222;
    color: #FFFFFF;
    display: block;
    font: bold 10px/28px Helvetica,Verdana,sans-serif;
    height: 25px;
    margin: -27px 0 0 5px;
    position: absolute;
    text-align: center;
    width: 105px;
    z-index: -1;
} 
```

它应该是

```
.button p {
    -moz-transition: margin 0.4s ease 0s;
    background: none repeat scroll 0 0 #222222;
    color: #FFFFFF;
    display: block;
    font: bold 10px/28px Helvetica,Verdana,sans-serif;
    height: 25px;
    margin: -27px 0 0 5px;
    position: absolute;
    text-align: center;
    width: 105px;
    z-index: -1;
} 
```

# c++ - 有关 cpp 中 .idl 文件的信息

> ID：11185820
> 
> 赞同：1
> 
> 时间：2012-06-25T08:30:17.500
> 
> 标签：c++, webkit, idl

我正在开发 webkit(webkit.org)，一个开源代码浏览器。

在查看 webcore 代码时，我发现有一些`.idl`文件，这些 idl 看起来与普通的 cpp/c 代码不同。

我想了解`.idl`文件的使用以及它们的用途。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:33:46.850

IDL 表示接口定义语言。它是 RPC（远程过程调用）的一部分。搜索 RPC。关于这个话题有很多信息..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-15T03:01:05.057

WebKit IDL 文件用于为 JavaScript、Objective-C 和 COM 生成绑定，因此使用 WebKit 的程序可以从这些语言获取 DOM。

例如，JavaScript 绑定将 DOM 暴露给网页中的脚本，而 Objective-C 绑定将 DOM 暴露给 Mac OS X 上的程序。

[您可以在此链接](http://trac.webkit.org/wiki/WebKitIDL "这个链接")中找到有关什么是 WebKit IDL 以及如何使用的详细信息。

# sandcastle - 沙堡和 SHFB，对 TOC 隐藏字段？

> ID：11185821
> 
> 赞同：0
> 
> 时间：2012-06-25T08:30:21.660
> 
> 标签：sandcastle, tableofcontents, shfb

我目前正在记录 WCF 服务，需要将 TOC 剥离到最低限度。是否可以从类的 TOC 中排除字段子主题？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-26T08:44:52.177

对 SHFB 讨论组的回答：[http ://shfb.codeplex.com/discussions/360799#post853302](http://shfb.codeplex.com/discussions/360799#post853302)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-09T16:29:32.780

现在有一个插件： [目录排除插件](http://ewsoftware.github.io/SHFB/html/d0e91b66-135e-446b-9239-c02fcafabd09.htm)

# objective-c - 谁应该调用 viewWillAppear 呢？

> ID：11185823
> 
> 赞同：-1
> 
> 时间：2012-06-25T08:30:25.430
> 
> 标签：objective-c, xcode4.3

```
-(void)Complete{
    CM(@"complete");
    [BNUtilitiesQuick UtilitiesQuick].startForm=0;
    [self.view removeFromSuperview]; //This remove superView and the new view will be listNewController

    [self setSearchLocationWhenChangeSearchBar];
    if([self.searchListTemp isEqualToString:[cachedProperties singleton].searchList] && [self.searchLocationTemp isEqualToString:[cachedProperties singleton].searchLocation]){
        CLog(@"Don't do anything");
    }
    else{
        ...
//Blablabla
        //[Timer searchCriteriaChanged];
    }
[[BNUtilitiesQuick ListController] viewWillAppear:true];//It's not called if I don't do this

} 
```

我的一部分觉得应该自动调用它。不知何故，当它没有被调用时，我一定做错了什么。

显然我也不希望事情被调用两次。

所以我最终明确地打电话给他们。怎么感觉都不对。我错了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:41:51.757

如果你想在你的视图消失之前发生一些动作，你可以在`viewWillDisappear`方法中编写你的代码。此方法通知视图控制器其视图即将从视图层次结构中删除。

```
- (void)viewWillDisappear:(BOOL)animated{} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:52:36.287

`viewWillAppear`在 中声明`UIViewController.h`，每次视图即将出现时都会自动调用它。在某些时候你必须在你的实现中使用 super 。这可能是它没有自动调用的原因，因为你`BNUtilitiesQuick`不是一个类`UIViewController`

# c++ - 声明没有大小的第二个数组

> ID：11185824
> 
> 赞同：1
> 
> 时间：2012-06-25T08:30:27.883
> 
> 标签：c++, arrays

如何在 C++ 中声明一个没有第一个大小的二维或多维数组？

```
class numeric 
{
    public:
    int int_array_numbers[][];
    ...
}; 
```

错误消息：将“int_array_numbers”声明为多维数组必须具有除第一个维度之外的所有维度的边界

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-25T08:32:04.543

你不能，C++ 不支持 VLA（可变长度数组）。

改用 a `std::vector<std::vector<int> >`。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-25T08:35:11.950

您可以从两个参数中将您的类声明为模板，如下所示

```
template <int N, int M>
class numeric 
{
public:
     int int_array_numbers[N][M];
...
}; 
```

# visual-studio-2010 - SVN-update 后无法在 VS2010 中加载项目

> ID：11185825
> 
> 赞同：0
> 
> 时间：2012-06-25T08:30:29.843
> 
> 标签：visual-studio-2010, visual-studio, version-control, tortoisesvn

我更新了一个项目（SVN）。更新失败，因为无法打开文件，尽管该文件不再出现在提及的文件夹中（我怀疑我是通过右键单击而不是 SV-remove 删除它）。当我在 MakeAll 之后使用 VS 加载项目时，会发生错误：

```
error  : Project "D:\...\ExportDatasetCSV.vcxproj" could not be found. 
```

该文件`ExportDatasetCSV.vcxproj`确实不存在于文件夹树中的这个位置。但在更新之前，我能够毫无问题地编译代码。

你能帮我评论一下吗？

谢谢并恭祝安康。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:34:52.017

在项目的根文件夹中进行 SVN 清理。

# c - 释放后指针的状态

> ID：11185828
> 
> 赞同：0
> 
> 时间：2012-06-25T08:30:41.377
> 
> 标签：c, memory-management

`free()`调用函数后动态分配的内存指针指向什么。指针是否指向 NULL，或者它仍然指向它在释放之前指向的相同位置。free() 的实现是否对此有某种标准，或者它在不同平台上的实现方式不同。

```
uint8_t * pointer = malloc(12);
printf("%p", pointer); // The current address the pointer points to
free (pointer);
printf("%p", pointer); // must it be NULL or the same value as before ? 
```

编辑：我知道 printf 会产生相同的结果，我只想知道我是否可以依靠不同的实现。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T08:32:26.727

指针值未修改。您将指针（内存地址）*按值*传递给`free()`. 该`free()`函数无权访问该`pointer`变量，因此无法将其设置为`NULL`.

这两个`printf()`调用应该产生相同的输出。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-25T08:40:46.400

根据标准（C99的6.2.4/2）：

> 当指针指向的对象到达其生命周期的末尾时，指针的值变得不确定。

在实践中，我所知道的所有实现都会为您的示例代码打印两次相同的值。但是，*允许*当您释放内存时，指针值本身成为陷阱表示，并且当您尝试使用指针的值（即使您没有取消引用它）时，实现会做一些奇怪的事情。

假设一个实现想要做一些不寻常的事情，我认为硬件异常或程序中止将是最合理的。但是，您可能不得不想象一个实现/硬件会做很多额外的工作，因此每次将指针值加载到寄存器中时，它都会以某种方式检查地址是否有效。这可能是通过在内存映射中检查它（在这种情况下，我想我的假设实现只会在包含分配的整个页面已被释放和未映射时捕获），或其他方式。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T08:31:59.287

`free()`只释放内存。指针仍指向旧位置（悬空指针），您应手动将其设置为`NULL`.

将指针设置为`NULL`是一个好习惯。由于内存位置可能会被其他对象重用，您可能能够访问和修改不属于您的数据。这特别难以调试，因为它不会产生崩溃，或者在某些不相关的点产生崩溃。如果您访问不存在的对象，设置为`NULL`将保证可重现的崩溃。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-05-06T15:44:30.947

我在 C++ 中尝试了这段代码

```
#include<iostream>
using namespace std;
int main(void)
{
    int *a=new int;
    *a=5;
    cout<<*a<<" "<<a<<"\n";
    delete a;
    *a=45;
    cout<<*a<<" "<<a<<"\n";
} 
```

输出是这样的

```
5 0x1066c20
45 0x1066c20 
```

再次运行产生了类似的结果

```
5 0x13e3c20
45 0x13e3c20 
```

因此，似乎在 gcc 中，指针在释放后仍指向相同的内存位置。此外，我们可以修改该位置的值。

# php - CodeIgniter：为 foreach() 提供的参数无效

> ID：11185829
> 
> 赞同：0
> 
> 时间：2012-06-25T08:30:43.957
> 
> 标签：php, codeigniter

也许这是一个愚蠢的问题。我正在尝试学习 codeigniter 并收到此错误：

```
Invalid argument supplied for foreach() 
```

我很确定我在 if 语句中遇到了这个错误：

```
$q = $this->db->query("SELECT * FROM users");
if ($q->num_rows() > 0) {
    foreach ($q->result() as $row) {
        $data[] = $row;
    }
    return $data;
} 
```

**如果users**表上至少存在“1”或“超过 1”个用户，那么 if 语句是否会返回**TRUE ？**

 **当我将 foreach 代码移动到 else 语句中时，如下所示：

```
$q = $this->db->query("SELECT * FROM users");
if ($q->num_rows() > 0) {

} else {
    foreach ($q->result() as $row) {
        $data[] = $row;
    }
    return $data;
    } 
```

网络成功运行并回显所有用户，为什么会发生这种情况？为什么 if 语句返回**FALSE**？**

# php - 使用 POST 获取 Twitter 关注者

> ID：11185830
> 
> 赞同：0
> 
> 时间：2012-06-25T08:30:55.713
> 
> 标签：php, twitter

我编写了以下代码，用于检索特定用户的 100 多个 Twitter 关注者。

```
<?php
$cursor = -1;
$account_from = 'twitterapi';
do
{
$json = file_get_contents('http://api.twitter.com/1/followers/ids.json?cursor='.$cursor.'&screen_name='.$account_from.'');

$accounts = json_decode($json);

foreach ($accounts->ids as $account)
{

        $a[] = $account ; 

}
$cursor = $accounts->next_cursor;

}
while ($cursor > 0);

    $n = ceil(count($a) / 100) ; 
    $b = array_chunk($a, 100) ; 

    for($i=0 ; $i<$n ; $i++) {

        $user = ''; 

        for($j=0 ; $j<count($b[$i]) ; $j++) {

                    $user =  $user.$b[$i][$j].',' ;

        }

        $json=file_get_contents('http://api.twitter.com/1/users/lookup.json?user_id='.$user.'') ;
        $fo= json_decode($json);

        foreach ($fo as $key => $jsons) {

             foreach($jsons as $key => $value) {

                     if($key == 'screen_name'){

                             $arr[] = $value;

                    }

            }

        }

    }

    return $arr ; 

?> 
```

但是正如你所看到的，HTTP 请求中有太多的瓶颈，有时如果用户有很多关注者，由于 PHP 的最大执行限制，脚本会超时。

但是根据[这个](https://dev.twitter.com/docs/api/1/get/users/lookup)，我们应该使用 POST 来处理更大的请求。我不确定如何改用 POST。

任何帮助深表感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T23:03:48.067

使用 file_get_contents，您无法发送 POST 请求。我推荐使用[Guzzle](http://guzzlephp.org)，它本质上是一个围绕 cURL 的干净的 OOP 包装器。“旅游”页面上甚至还有一个 Twitter API 示例：[这里](http://guzzlephp.org/tour/http.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:45:20.850

使用[cURL 扩展名](http://php.net/manual/en/book.curl.php)。[在curl_setopt](http://www.php.net/manual/en/function.curl-setopt.php)中将 CURLOPT_POST 设置为 TRUE 。页面的示例部分中有示例

# php - php sqlite3 工作，但安装 php5-sqlite 后 sqlite3Database() 不工作

> ID：11185833
> 
> 赞同：1
> 
> 时间：2012-06-25T08:31:08.580
> 
> 标签：php, sqlite

我正在尝试使用 sqlite 使用 php 。

我已经安装了 sqlite 使用

```
sudo apt-get install php5-sqlite 
```

然后我添加了

```
extension = sqlite3.so to the php.ini file . 
```

这样做之后，

```
$db = new SQLite3("FgH"); 
```

上面的命令不起作用但是，PHP DETECTING SQLite3 above 。

但是，如果我使用

```
$db = new SQLiteDatabase("DfG"); 
```

上面的命令说 SQLiteDatabase is not found 。我尝试了 Sqlite3Database、SQLiteDatabase3、SQLiteDatabase 之类的组合，但它们都不起作用。

有什么解决办法，
谢谢

# php - 错误：未定义的变量：retval 和未定义的常量长度 - 假定为“长度”

> ID：11185835
> 
> 赞同：0
> 
> 时间：2012-06-25T08:31:18.670
> 
> 标签：php, undefined

如果我禁用错误，此功能可以正常工作。但我必须解决它们。所以我启用了错误并发现了以下错误：

> 注意：未定义变量：第 20 行 /home/content/79/9482579/html/gamelinkexchange.com/all/function.php 中的 retval
> 
> 注意：使用未定义的常量长度 - 在第 55 行的 /home/content/79/9482579/html/gamelinkexchange.com/all/function.php 中假定为“长度”

这是我的功能：

```
function time_ago($date,$granularity=2) {
date_default_timezone_set('Asia/Calcutta');
    $date = strtotime($date); 
    $difference = time() - $date;
    $periods = array('decade' => 315360000,
        'year' => 31536000,
        'month' => 2628000,
        'week' => 604800, 
        'day' => 86400,
        'hour' => 3600,
        'minute' => 60,
        'second' => 1);
foreach ($periods as $key => $value) {
        if ($difference >= $value) {
            $time = floor($difference/$value);
            $difference %= $value;
            $retval .= ($retval ? ' ' : '').$time.' '; /*error*/
            $retval .= (($time > 1) ? $key.'s' : $key);
            $granularity--;
        }
        if ($granularity == '0') { break; }
    }
    return $retval.' ago';      
}
function gethours($str)
{
     if(strpos($str, "decade"))
     {
        return 0;
     }
     else if(strpos($str, "year"))
     {
        return 0;
     }
     else if(strpos($str, "month"))
     {
        return 0;
     }
     else if(strpos($str, "week"))
     {
        return 0;
     }
     else if(strpos($str, "day"))
     {
        return 0;
     }
     else if(strpos($str, "hours"))
     {
        $strarr= explode(" ",$str);
        $j=0; /*error*/
        for($i=0;$i<$strarr.length;$i++)
        {
           if($strarr[$i]=="hours")
           { 
                 $j=$i-1;
           }
        }
        return $strarr[$j];
     }
else {   return 1; }
} 
```

这个函数运行很慢，所以我需要解决这些错误。我尝试了本网站其他页面和其他论坛提供的解决方案，但没有任何帮助。请提供一个消耗较少资源的好解决方案。
我需要一个解决方案。因为每一个条目都必须经过时间。

这是我的第一个问题，我是新手，请帮助。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:36:46.860

我看不到你在`$retval`任何地方初始化你的。`$retval = ''`根据它的价值，您可能应该在开始向其附加任何内容之前拥有类似的东西。

关于另一个错误，您误将**php**与**Java**。在 php 中，你得到一个数组的长度，`count($strarr)`而不是`$strarr.length`

**更新**
而不是

```
$retval .= ($retval ? ' ' : '').$time.' '; 
```

你可以简单地使用

```
$retval = $time.' '; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T11:45:24.643

换行：

```
$retval .= ($retval ? ' ' : '').$time.' '; /*error*/ 
```

对此：

```
$retval .= (isset($retval))? ' ':'';
$retval .= $time.' '; //you shouldn't have the error on that line again -- it's because
//the variable does not exist and you're sing it in a comparison 
```

更改以下这一行：

```
for($i=0;$i<$strarr.length;$i++) 
```

对此：

```
for($i=0;$i<count($strarr);$i++){....}
//arrays in PHP cannot be used like objects (-> not .) 
```

# c# - NerdDinner DinnerFormViewModel 错误 CS0030 错误

> ID：11185837
> 
> 赞同：1
> 
> 时间：2012-06-25T08:31:24.637
> 
> 标签：c#, asp.net-mvc

我正在关注 Book Professional ASP.NET MVC 2 中的 NerdDinner 部分。目前我处于需要实现 DinnerFormViewModel 和 Renderpartial Dinnerform 的部分。这本书在这里包含一些错误，所以我尝试在互联网上搜索并自己修复它。

我已将 DinnerFormViewModel 放在 Models 文件夹中，这是代码：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Mvc;

namespace NerdDinner.Models
{
    public class DinnerFormViewModel : Controller
    {
        private static string[] _countries = new[]{
        "USA",
        "Ireland",
        "Scotland",
        "Namibia"
    };

        //Properties
        public Dinner Dinner { get; private set; }
        public SelectList Countries { get; private set; }

        //Constructor
        public DinnerFormViewModel(Dinner dinner)
        {
            Dinner = dinner;
            Countries = new SelectList(_countries, dinner.Country);
        }

        // GET: /DinnerFormViewModel/

        public ActionResult Index()
        {
            return View();
        }

    }
} 
```

然后我制作了 DinnerForm.ascx（部分类）：

```
<%@ Control Language="C#" Inherits="System.Web.Mvc.ViewPage<NerdDinner.Models.DinnerFormViewModel>" %>

<%: Html.ValidationSummary("Please correct the errors and try again.") %>

<% using (Html.BeginForm()) { %>

    <fieldset>

        <p>
            <%: Html.LabelFor(m => m.Dinner.Title) %>
            <%: Html.TextBoxFor(m => m.Dinner.Title) %>
            <%: Html.ValidationMessageFor(m => m.Dinner.Title, "*") %> 
```

ETC...

我做了如下的edit.aspx：

```
<%@ Page Title="" Language="C#" MasterPageFile="~/Views/Shared/Site.Master" Inherits="System.Web.Mvc.ViewPage<NerdDinner.Models.DinnerFormViewModel>" %>

<asp:Content ID="Title" ContentPlaceHolderID="TitleContent" runat="server">
    Edit: <%: Model.Dinner.Title %>
</asp:Content>

<asp:Content ID="Edit" ContentPlaceHolderID="MainContent" runat="server">

    <h2>Edit Dinner</h2>

    <% Html.RenderPartial("DinnerForm"); %>

</asp:Content> 
```

现在，如果我启动应用程序，<% Html.RenderPartial("DinnerForm"); 处会出现错误 %> 会弹出说： c:\Windows\Microsoft.NET\Framework\v4.0.30319\Temporary ASP.NET Files\root\c8cca855\23406a1e\App_Web_dinnerform.ascx.32d6c807.tczxq3bd.0.cs(166): error CS0030 ：无法将类型“ASP.views_dinners_dinnerform_ascx”转换为“System.Web.Mvc.ViewUserControl”

我认为它与命名空间有关，但我无法修复错误，有人遇到同样的问题或有人可以帮助我吗？谢谢！：）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-25T08:36:03.577

您的局部视图应继承自 System.Web.Mvc.ViewUserControl。

ViewPage 用于完整视图。

# html - 为什么我的弹窗坏了？

> ID：11185840
> 
> 赞同：0
> 
> 时间：2012-06-25T08:31:31.907
> 
> 标签：html, css, jsp, jakarta-ee

我的第一个弹出窗口按预期工作，按下按钮会激活一个覆盖页面上其他元素的 div：

![在此处输入图像描述](../Images/01cee2898c75459f720e0bd088c014e6.png)

然后，如果我更改为另一个弹出窗口，则没有任何效果。第一种可行的方法是这样完成的

`<input type="button" value="S&ouml;k" onClick="getElementById('popupSokNamn').style.display='';">`

然后激活了 div 中的 JSP 包含

```
<div class="popup" id="popupSokNamn" 
<% if(!showSearch) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/namnuppgifter_sok.jspf" %>
</div> 
```

所以另一个弹出窗口应该以相同的方式工作，但当然没有任何工作，因为这是 HTML 和 CSS，其中所有内容都是运行时错误且无法调试：

```
<input type="button" value="S&ouml;k" onClick="getElementById('popupF').style.display='';"> 
```

这应该呈现另一个弹出窗口，但当然它不会，因为没有任何效果。

```
<div class="popup" id="popupF" 
<% if(!showSearchF) { %>
style="display: none;"
<% } %>
>
<%@ include file="includes/fullfoljd_fran_sok.jsp" %>
</div> 
```

为什么什么都不起作用？我之前问过这个问题，答案说这是我的 CSS，但我怀疑它，因为第一个弹出窗口正在加载，这应该是某个地方的一些微不足道的错误，但在哪里？

页面的最后一部分是我保存弹出窗口代码的地方，其中只有一个有效：

```
<div class="popup" id="popupSokNamn" 
<% if(!showSearch) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/namnuppgifter_sok.jspf" %>
</div>
<div class="popup" id="popupSokNamn2" 
<% if(!showSearch2) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/namnuppgifter_sok2.jspf" %>
</div>
<div class="popup" id="popupD" 
<% if(!showSearchD) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/handlaggare_sok.jspf" %>
</div>

<div class="popup" id="popupI" 
<% if(!showSearchI) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/ingivningsdag_sok.jspf" %>
</div>

<div class="popup" id="popupP" 
<% if(!showSearchP) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/prioriteter_sok.jspf" %>
</div>

<div class="popup" id="popupR" 
<% if(!showSearchR) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/rabattgrundande_sok.jspf" %>
</div>

<div class="popup" id="popupF" 
<% if(!showSearchF) { %>
style="display: none;"
<% } %>
>
<%//@ include file="includes/fullfoljd_fran_sok.jsp" %>
</div>
<div class="popup" id="popupA" 
<% if(!showSearchA) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/avdelad_fran_sok.jspf" %>
</div>
<div class="popup" id="popupU" 
<% if(!showSearchU) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/utbruten_fran_sok.jspf" %>
</div>
<div class="popup" id="popupO" 
<% if(!showSearchO) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/omvandlad_ep_sok.jspf" %>
</div>
<div class="popup" id="popupEPa" 
<% if(!showSearchEPa) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/ep_avdelad_fran_sok.jspf" %>
</div>
<div class="popup" id="popupEPn" 
<% if(!showSearchEPn) { %>
style="display: none;"
<% } %>
>
<%@ include file="WEB-INF/jspf/ep_ansokningsnummer_sok.jspf" %>
</div>
</form>
<%@ include file="WEB-INF/jspf/arendeprocess_messages_inc.jspf" %>

<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p>
</body>
</html> 
```

我可以在页面上看到内容实际上存在但未显示，并且只能将一个弹出窗口设置为可见。我可以在页面发生更改并呈现一些垃圾的状态下获得另一个弹出窗口，但在当前状态下，当我按下另一个弹出窗口的按钮时，什么也没有发生。我可以将激活代码移动到另一个按钮，然后按钮会出现相同的弹出窗口，但无论我做什么，我都无法显示任何其他弹出窗口。

关于这个烂摊子有什么想法吗？

我在 JSP 的 scriptlet 中为不同的显示保留布尔值：

```
boolean showSearch = false;
boolean showSearchD = false;
boolean showSearchP = false;
boolean showSearchI = false;
boolean showSearchR = false;
boolean showSearch2 = false;
boolean showSearchF = false; 
boolean showSearchA = false;  
boolean showSearchU = false;  
boolean showSearchO = false;
boolean showSearchEPa = false;
boolean showSearchEPn = false; 
```

这似乎都不是问题。请帮我解决问题！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-28T14:16:47.043

出于某种原因，您必须使用 CSS 并将位置设置为绝对。然后它将起作用。

# ruby-on-rails - Rspec Capybara在运行首次访问方法之前获取端口

> ID：11185841
> 
> 赞同：2
> 
> 时间：2012-06-25T08:31:46.033
> 
> 标签：ruby-on-rails, selenium, rspec, capybara

我尝试在所有测试之前运行 Capybara 服务器以获取服务器端口，我应该将其包含在 url 中，例如 'http://subdomain.domain.au:CURRENT_PORT_NUMBER/' 所以

```
# I create new session:
session = Capybara::Session.new(:selenium)
# then I start browser
session.driver.browser
# And try to get port number like some folks suggested
Capybara.current_session.driver.rack_server.port # => nil
# And get nil 
```

在我看来，当浏览器启动时，你应该有一些端口号。还是我错了？我不想为所有请求硬编码端口号。任何人都可以建议我如何获得端口来访问我的应用程序。

据我了解浏览器这是另一个过程，可以在没有本地服务器的情况下启动。只有当您通过网络查询服务器时，这才有意义。'selenium' 测试开始时应该有运行机架服务器的机制。不是吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T06:08:33.290

您可以使用`Capybara.default_port`获取/设置端口。

# asp.net-mvc - 如何在asp.net MVC中将日期时间从视图传递到控制器

> ID：11185847
> 
> 赞同：6
> 
> 时间：2012-06-25T08:32:18.910
> 
> 标签：asp.net-mvc

我试图将以下数据从我的视图传递给控制器​​。

**已编辑**

```
<script type="text/javascript">
    var pathname = 'http://' + window.location.host;
  var Student = [
  { Name: "Vijay", ID: 1, DOB: "2010-12-09T08:00:00.000Z" },
  { Name: "Anand", ID: 2, DOB: "2010-12-09T08:00:00.000Z" }
  ];

  $.ajax({
    url: pathname + "/Home/UpadetStu",
    type: "POST",
    dataType: "json",
    data: JSON.stringify(Student),
    contentType: "application/json; charset=utf-8",
    success: function (result) { }, 
    failure: function (r, e, s) { alert(e); } 
  });

</script>

   [ObjectFilter(Param = "stuData", RootType = typeof(Stu[]))]
    public JsonResult UpadetStu(Stu[] stuData)
    {
        return this.Json(new { success = true });
    }

[DataContract]
public class Stu
{
    [DataMember]
    public string Name { get; set; }

    [DataMember]
    public int ID { get; set; }

    [DataMember]
    public DateTime? DOB { get; set; }

} 
```

但是在控制器中 Name 和 ID 为空，DOB 的默认日期时间，我发现传递日期时间有问题。有没有更好的方法将日期时间从视图传递到控制器？我错过任何解析吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-25T10:11:36.993

问题是`Thu Dec 9 13:30:00 UTC+0530 2010`无法在 c# 中解析为有效的日期时间对象。您可以通过简单地调用它来尝试`DateTime.Parse("Thu Dec 9 13:30:00 UTC+0530 2010")`它会失败。

我建议不要从服务器返回该日期格式，而是可以更好地返回看起来像的[ISO 8601](http://en.wikipedia.org/wiki/ISO_8601)`2010-12-09T08:00:00.000Z`格式。

您可以通过以下方式轻松地将长日期时间格式从 javascript 转换为 ISO 8601，

```
new Date("Thu Dec 9 13:30:00 UTC+0530 2010").toJSON(); 
```

如果您使用的是[JSON.NET](http://james.newtonking.com/projects/json-net.aspx)库，则可以轻松控制必须序列化日期时间的方式。

**更新：**

```
<script type="text/javascript">

  var Student = [
  { Name: "Vijay", ID: 1, DOB: "2010-12-09T08:00:00.000Z" },
  { Name: "Anand", ID: 2, DOB: "2010-12-09T08:00:00.000Z" }
  ];

  $.ajax({
    url: "/Home/Index",
    type: "POST",
    dataType: "json",
    data: JSON.stringify(Student),
    contentType: "application/json; charset=utf-8",
    success: function (result) { }, 
    failure: function (r, e, s) { alert(e); } 
  });

</script>

[HttpPost]
public ActionResult Index(Student[] students)
{
  ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T10:00:41.313

如果您的控制器中的 studentData 对象为空，则 JSON.stringify(Student) 正在生成一个不是正确 JSON 的对象或无法解析为您的 Stu 对象的对象。

验证您的 JS Student 对象是否正确，然后验证您生成的 JSON 执行 JSON.stringify

# c++ - 用 Visual C++ 链接 DLL

> ID：11185854
> 
> 赞同：1
> 
> 时间：2012-06-25T08:32:47.623
> 
> 标签：c++, visual-c++, dynamic-linking, autoit

我正在尝试在 Visual C++ 2010 中使用外部 DLL（由 AutoItX 提供）。AutoItX 提供了一个 DLL，但由于某种原因不是 LIB，所以我用 Visual Studio 生成了一个。

问题是链接器似乎无法链接到库。我在 Properties->Linker -> Inputs 下添加了 AutoItX3.lib 作为附加依赖项，并将目录添加到 Properties -> Linker -> General -> Additional Library Directories。不管我做什么，我仍然得到这些错误：

```
1>main.obj : error LNK2019: unresolved external symbol _AU3_Send@8 referenced in function _WinMain@16
1>main.obj : error LNK2019: unresolved external symbol _AU3_WinWaitActive@12 referenced in function _WinMain@16
1>main.obj : error LNK2019: unresolved external symbol _AU3_Run@12 referenced in function _WinMain@16
1>main.obj : error LNK2019: unresolved external symbol _AU3_Sleep@4 referenced in function _WinMain@16 
```

AU3_Send、AU3_WinWaitActive、AU3_Run 和 AU3_Sleep 是程序 main.cpp 调用的函数。我真的没有想法，因为这些函数显然存在于 DLL 中。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-26T05:18:50.517

仅提供 DLL 作为接口的手段是很常见的。许多软件提供商都这样做。这样做会产生以下影响（后果）：

*   客户端应用程序只能动态链接到提供的库（因此称为动态链接库）。提供者（库）和消费者（应用程序或任何其他库）之间的绑定是动态进行的。
*   客户端必须使用 LoadLibray 和[GetProcAddress](http://msdn.microsoft.com/en-us/library/windows/desktop/ms683212%28v=vs.85%29.aspx)才能绑定库并检索所需的符号（函数）
*   图书馆和消费者之间的接口（合同）应通过头文件记录 - 例如参见 AutoIt3.h - （或任何其他文档，如帮助文件，..）
*   没有提供 LIB（因为不需要它），因为链接发生在运行时，而不是在编译器/链接器时

要解决您的问题，您只需删除您放入 Visual Studio 配置中的静态依赖项（LIB），并在运行时使用 LoadLibrary 和 GetProcAddress 设置依赖项

# iphone - iPhone - 为 NSSortDescriptor 创建一个定义......这可能吗？

> ID：11185855
> 
> 赞同：1
> 
> 时间：2012-06-25T08:32:53.930
> 
> 标签：iphone, ios, cocoa-touch, cocoa, ipad

我经常使用这个

```
NSSortDescriptor *descriptor = [NSSortDescriptor sortDescriptorWithKey:nil 
                       ascending:YES 
                       comparator:^(id obj1, id obj2) {
                       return [obj1 compare:obj2 options:NSNumericSearch];
                       }]; 
```

我想创建一个像这样的编译器定义

```
#define descriptor [NSSortDescriptor sortDescriptorWithKey:nil 
                       ascending:YES 
                       comparator:^(id obj1, id obj2) {
                       return [obj1 compare:obj2 options:NSNumericSearch];
                      }] 
```

所以我可以在我的代码的所有部分使用它，而不必一直声明它并将它用于类似的东西

```
mySortedArray = [myArray sortedArrayUsingDescriptors:[NSArray arrayWithObject:descriptor]]; 
```

. 我已经尝试过了，并从 Xcode 收到了大量错误。有没有办法定义它？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:43:03.990

你几乎在那里：

```
#define descriptor [NSSortDescriptor sortDescriptorWithKey:nil \
                                                 ascending:YES \
                                                comparator:^(id obj1, id obj2) { \
                                      return [obj1 compare:obj2 options:NSNumericSearch];}] 
```

然后：

```
NSArray *sorted = [myArray sortedArrayUsingDescriptors:[NSArray arrayWithObject:descriptor]]; 
```

你得到错误的原因是你应该在换行时使用**\ 。**还`-sortedArrayUsingDescriptors`需要一个数组...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:36:56.100

您可以创建以下两项之一：

1.  您的类别，您`NSObjects`可以在那里定义您的方法。
2.  一个带有类方法的 util 类，可以做你想做的事。

根据您对`NSSortDescriptor`类别的用途，可能是一个很好的解决方案。你总是可以把它作为一个`NSArray`类别而不是一个类别`NSObject`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-25T08:42:27.327

我看到它不起作用的原因是该函数
`[NSArray sortedArrayUsingDescriptors:];`
需要一个**数组**作为参数，但是您`NSSortDescriptor`直接传递了一个。
尝试使用相同的：

```
 myArray = [myArray sortedArrayUsingDescriptors:[NSArray arrayWithObject:descriptor]]; 
```

将`#define`是

```
 #define descriptor [NSSortDescriptor sortDescriptorWithKey:nil \
                       ascending:YES \
                       comparator:^(id obj1, id obj2) { \
                       return [obj1 compare:obj2 options:NSNumericSearch]; \
                      }] 

```

**或者**

```
 #define descriptor [NSSortDescriptor sortDescriptorWithKey:nil ascending:YES comparator:^(id obj1, id obj2) { return [obj1 compare:obj2 options:NSNumericSearch]; }] 

```

# perl - perl 中结构的替代方法是什么？

> ID：11185867
> 
> 赞同：6
> 
> 时间：2012-06-25T08:33:38.110
> 
> 标签：perl

Perl 默认没有 struct 的概念。我们需要导入结构类。我想知道为什么会这样？该语言提供的基本数据结构的哪种组合应该可以弥补这一点？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-25T08:38:05.817

哈希在 Perl 中的作用与在 C 中的结构几乎相同（就您使用它们的目的而言）。您还可以[嵌套散列](http://p3rl.org/dsc)以构建更复杂的数据结构。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-25T09:50:04.017

如果您有现有的带有结构的 C 头文件，请使用[Convert::Binary::C](http://p3rl.org/Convert%3a%3aBinary%3a%3aC)来访问基于它们的数据结构。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-05-14T01:16:44.400

Class::Struct 对我来说永远不适合 C 结构的角色。在我看来，C 结构是一种组织数据的已知内存结构，但对我来说最好的用途始终是将固定长度的输入记录自动解析为字段，只需将它们写入结构即可。

你可以用 unpack 做类似的事情。它仍然需要一个单独的解析调用 C 不需要，但如果你将它构建到你的记录读取中，它会非常有效。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T08:38:52.307

你可以试试这个模块作为结构的替代品 - [Class::Struct](http://search.cpan.org/~rjbs/perl-5.16.0/lib/Class/Struct.pm)

# php - 如果 MySQL 扩展已被弃用，为什么大多数示例仍在使用它？

> ID：11185868
> 
> 赞同：2
> 
> 时间：2012-06-25T08:33:38.627
> 
> 标签：php, mysql

...而不是使用 PDO 或 mysqli？

我看到很多新问题都可以通过使用旧扩展的示例得到解答。我确信一定有充分的理由，但我找不到。

谢谢

编辑：重新提出问题：我是否应该继续使用本网站上大多数示例所建议的 MySQL 扩展，而不是切换到 PDO/MySQLi？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T08:34:51.503

没有好的理由，只有坏习惯。大多数现有教程都是旧的，因此初学者认为旧的`mysql`-extension 是连接到 mysql-database*的方式。*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:34:30.840

习惯，加上大量的教程已经过时了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T10:08:33.447

直到 PHP 5.3，`mysqli`不支持持久连接。这意味着在此之前它还没有被用于真正的大量生产（不久前，考虑到在真正的大量生产中从 PHP 5.2 切换到 5.3 的痛苦）。也许现在没问题，但这个事实让我怀疑：它可能更多地是用 OOP 编写的，而不是考虑性能。OOP 在大型项目中不是问题，因为无论如何`mysql`//上面很可能会有一层。顺便说一句，准备好的语句似乎通常比未准备好的语句慢（例如，请参阅[此处](http://erlycoder.com/69/php-mysql-prepared-sql-statement-vs-sql-statement)`mysqli``PDO`)，还有其他防止 SQL 注入的方法。认为某些东西必须更好，因为它是更新的和大量宣传的，这与无条件地坚持旧的好东西一样糟糕。

也就是说，您的问题的答案可能是：因为许多经验丰富的编码人员仍在使用旧扩展。他们更习惯了，并且没有切换的冲动（因为`mysqli`/的优势`PDO`是微不足道的 - 当然，直到旧的`mysql`扩展被淘汰！）。

# c++ - SIP 中的 Out Of Dialog NOTIFY 消息

> ID：11185871
> 
> 赞同：1
> 
> 时间：2012-06-25T08:33:47.653
> 
> 标签：c++, sip

是否可以发送 Out Of Dialog NOTIFY 消息？我正在使用 PBX 并且 SIP 电话已连接到它。我需要在 PBX 发生一些变化时向手机发送 NOTFIY 消息。我知道电话必须订阅 PBX，并且 PBX 可以发送 NOTIFY 消息，该消息在对话消息中。

我需要的是 OUT Of Dialog NOTIFY 消息作为电话。手机已经有代码来理解 OOD NOTIFY。我知道对 REFER 等方法有隐式订阅。有没有类似的东西，所以我可以在不订阅手机的情况下发送 OOD NOTIFY？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T09:24:35.453

在没有必要订阅的情况下，没有标准的方式来发送 NOTIFY（我见过在没有订阅的情况下将 NOTIFY 请求用作 NAT 保持活动机制的情况，但这是一些顽皮的 ATA 的黑客行为）。

SIP 实现者上的这个[线程](https://lists.cs.columbia.edu/pipermail/sip-implementors/2004-April/006386.html)提供了一个很好的替代未经请求的 NOTIFY 的方法，即使用[PUBLISH](http://www.ietf.org/rfc/rfc3903.txt)请求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T13:11:49.667

```
#include "pjsip_event_notification.h"
#include <pjsip.h>
#include <pjsip_ua.h>
#include <pjlib-util.h>
#include <pjlib.h>
#include <pjlib.h>
#include <pjsua.h>
#include <pjsua-lib/pjsua_internal.h>

static EventCallBack* registeredCallbackObject = NULL;

extern "C" {

  pj_bool_t on_rx_response_wrapper(pjsip_rx_data *rdata){
          registeredCallbackObject->on_rx_response(rdata);
          return PJ_FALSE;
 }

  pj_bool_t on_rx_request_wrapper(pjsip_rx_data *rdata){
          registeredCallbackObject->on_rx_request(rdata);
          return PJ_FALSE;
  }

  /* The module instance. */
  static pjsip_module mod_event_handler =
  {
      NULL, NULL,             /* prev, next.      */
      { (char*)"mod-reg-event", 12 },  /* Name.        */
      -1,                 /* Id           */
      PJSIP_MOD_PRIORITY_TSX_LAYER - 1,  /* Priority         */
      NULL,               /* load()       */
      NULL,               /* start()      */
      NULL,               /* stop()       */
      NULL,               /* unload()     */
      &on_rx_response_wrapper,               /* on_rx_request()  */
      &on_rx_response_wrapper,               /* on_rx_response() */
      NULL,               /* on_tx_request.   */
      NULL,               /* on_tx_response() */
      NULL,               /* on_tsx_state()   */

  };

  PJ_DECL(pj_status_t) event_callback_init() {
      return pjsip_endpt_register_module(pjsua_get_pjsip_endpt(),
                          &mod_event_handler);
  }

 void setEventCallbackObject(EventCallBack* eventCallBack){
         registeredCallbackObject=eventCallBack;
 }

} 
```

相同 pjsip_event_notification.h 的 h 文件

```
#include <pj/config_site.h>
#include <pjsua-lib/pjsua.h>

class EventCallBack {

public:
        virtual ~EventCallBack() {}
        virtual void on_rx_response(pjsip_rx_data *rdata){
 // Target Call Back for Notify message
        }

        virtual void on_rx_request(pjsip_rx_data *rdata){

        }

};
extern "C" {
pj_status_t event_callback_init();

void setEventCallbackObject(EventCallBack* eventCallBack);
} 
```

# c# - 日志级别：你认为 DEBUG 比 TRACE 好吗？

> ID：11185872
> 
> 赞同：5
> 
> 时间：2012-06-25T08:33:51.293
> 
> 标签：c#, logging, log4net, nlog, common.logging

我的问题源于[这个](https://stackoverflow.com/questions/6011747/is-there-a-near-consensus-guideline-for-log-levels)问题，其中一条评论表明 DEBUG 日志级别比 TRACE 更细。看看 TRACE 和 DEBUG 在 .NET 中的含义，这似乎是有道理的，因为根据定义，DEBUG（作为一个概念）在生产中从未见过。这可能就是为什么它们在企业库中不用作事件类型的原因。另一方面，我所知道的所有其他实现（log4net、nlog、common.logging）都将 TRACE 作为比 DEBUG 更精细的级别。也就是说，在 DEBUG 日志级别运行的应用程序不会写入 TRACE 日志。

我们需要实现自己的日志框架，我想知道是否有更多的人认为 DEBUG 真的应该是最“垃圾”的日志级别？或者，如果我们的新框架应该为新开发人员提供一些易于使用的熟悉性等，您会认为这是一个错误吗？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T08:52:37.420

我同意 TRACE 比 DEBUG 更好。

示例：如果我使用 PostSharp 向应用程序中的每个方法调用添加自动日志记录语句，我希望在每个方法的开头注入此代码：

```
if (Log.IsTraceEnabled)
   Log.TraceFromat("Method {0} args {1}", method, string.Join(",", args)); 
```

也就是说，我将“TRACE”级别解释为帮助我跟踪应用程序中的调用，而 DEBUG 正在编写帮助开发人员调试程序*行为*的信息。不知道有没有道理？

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-25T09:11:06.487

请记住，log4net 来自 Java 世界，而 NLog 的许多想法都来自 log4net - 因此，对于这些框架，Trace 和 Debug 会有所不同，因为它们不是基于 .NET 框架设计者的日志世界观。 System.Diagnostics 命名空间。

我建议 .NET 中的 Trace 与 .NET 世界中的 Debug 是同义词，因为您启用了跟踪（通过 TRACE 编译器指令或在 web.config 中）以显示 Debug 信息。

显然，在 NLog 和 Log4Net 中，信息的严重性可能被解释为略有不同，但两者最终都将用于跟踪错误，而不是系统错误，因此它们具有基本相同的含义。

# python - python中的变量范围和Try Catch

> ID：11185873
> 
> 赞同：29
> 
> 时间：2012-06-25T08:33:55.413
> 
> 标签：python, variables, try-catch, scope, python-imaging-library

```
import Image
import os
for dirname, dirs, files in os.walk("."):
    for filename in files:
        try:
            im = Image.open(os.path.join(dirname,filename))
        except IOError:
            print "error opening file :: "  + os.path.join(dirname,filename)
        print im.size 
```

在这里，我试图打印目录（和子）中所有文件的大小。但我知道`im`在行的时候不在范围内`im.size`。`else`但是如果不使用or`finally`块，我该怎么做。

显示以下错误：

```
Traceback (most recent call last):
  File "batch.py", line 13, in <module>
    print im.size
NameError: name 'im' is not defined 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-06-25T08:40:50.613

“其他”子句有什么问题？

```
for filename in files:
    try:
        im = Image.open(os.path.join(dirname,filename))
    except IOError, e:
        print "error opening file :: %s : %s" % (os.path.join(dirname,filename), e)
    else:
        print im.size 
```

现在由于您处于循环中，您还可以使用“继续”语句：

```
for filename in files:
    try:
        im = Image.open(os.path.join(dirname,filename))
    except IOError, e:
        print "error opening file :: %s : %s" % (os.path.join(dirname,filename), e)
        continue

    print im.size 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-25T08:36:44.290

如果您无法将文件作为图像打开，并且只想处理有效图像，则[`continue`](http://docs.python.org/reference/simple_stmts.html#the-continue-statement)在您的 except 块中包含一条语句，该语句将带您进入`for`循环的下一次迭代。

```
try:
    im = Image.open(os.path.join(dirname, filename))
except IOError:
    print 'error opening file :: ' + os.path.join(dirname, filename)
    continue 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-25T08:36:16.053

```
import Image
import os
for dirname,dirs,files in os.walk("."):
    for filename in files:
        try:
            im = Image.open(os.path.join(dirname,filename))
            print im.size
        except IOError:
            print "error opening file :: "  + os.path.join(dirname,filename) 
```

此外，`;`在 Python 中没有。

# android - 获取Android中videoView的mediaPlayer

> ID：11185874
> 
> 赞同：19
> 
> 时间：2012-06-25T08:34:00.383
> 
> 标签：android, android-mediaplayer, android-videoview

是否可以获得对 videoView 正在使用的 mediaPlayer 实例的引用，最好是在其 ctor 内部？如果是这样，怎么做？

由于 videoView 没有 mediaPlayer 那么多的侦听器，我希望能够访问 mediaPlayer 以获得额外的控制和更好的事件处理。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-08T22:19:56.430

您可以从 VideoView 监听。

```
VideoView mVideoView=new VideoView();
mVideoView.setOnPreparedListener( new MediaPlayer.OnPreparedListener() {
  @Override
  public void onPrepared(MediaPlayer pMp) {
   //use a global variable to get the object
  }
}); 
```

或者，如果您只对媒体播放器事件感兴趣，您可以使用其中任何一个，并且这些事件在 VideoView 上实现，这些基本上是 MediaPlayer 事件。

```
void    setOnCompletionListener(MediaPlayer.OnCompletionListener l)
void    setOnErrorListener(MediaPlayer.OnErrorListener l)
void    setOnInfoListener(MediaPlayer.OnInfoListener l)
void    setOnPreparedListener(MediaPlayer.OnPreparedListener l) 
```

所有这些函数也将提供一个媒体播放器实例。

# asp.net - 从 ascx 在 aspx 页面中动态添加静态方法

> ID：11185876
> 
> 赞同：1
> 
> 时间：2012-06-25T08:34:03.343
> 
> 标签：asp.net, expandoobject

我正在搜索谷歌，有没有办法在运行时在我的页面中添加任何方法。我从stackoverflow 获得了一个链接……这是expando 对象。

我不熟悉expando对象。这是我得到和喜欢的一小段代码

```
namespace DynamicDemo
{
class ExpandoFun
{
public static void Main()
{
    Console.WriteLine("Fun with Expandos...");
    dynamic student = new ExpandoObject();
    student.FirstName = "John";
    student.LastName = "Doe";

 student.Introduction=new Action(()=>
Console.WriteLine("Hello my name is {0} {1}",student.FirstName,student.LastName);
);

);
    Console.WriteLine(student.FirstName);
    student.Introduction();
}
}
} 
```

根据我的情况，我需要在下面添加一个例程，就像在许多 aspx 页面中一样。

```
[WebMethod]
   public static string LoadData(string CountryCode,int PageIndex)
   {
       string strData = "";
       if (CountryCode != "")
       {
           strData = Left1.HavingCountry(CountryCode, PageIndex);
       }
       else
       {
           strData = Left1.WithoutCountry(PageIndex);
       }
       return strData;
   } 
```

所以我需要知道是否有任何方法可以在我的 ascx 页面中添加一些技术，这将在托管该特定 ascx 的所有 aspx 页面中添加上述方法。请帮助我实现它。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T10:12:15.663

```
I don't think it is possible.
Can you do this way

1\. create a `class` which extents `System.Web.UI.Page`.
2\. write you `WebMethod` in that class.
3\. Create your aspx pages by extending this class

public partial class _Default : TestUserControl
{
    protected void Page_Load(object sender, EventArgs e)
    {
    }
}

public class TestUserControl : System.Web.UI.Page
{
    [System.Web.Services.WebMethod]
    public static string LoadData(string CountryCode, int PageIndex)
    {
        string strData = "";
        if (CountryCode != "")
        {
             strData = Left1.HavingCountry(CountryCode, PageIndex);
        }
        else
        {
             strData = Left1.WithoutCountry(PageIndex);
        }
        return strData;
     }
  } 
```

# asp.net - 在 DotNetNuke 中使用 jQuery UI 日期选择器代替 Telerik RadCalendar

> ID：11185879
> 
> 赞同：4
> 
> 时间：2012-06-25T08:34:07.137
> 
> 标签：asp.net, jquery-ui, datepicker, dotnetnuke

如何在 DotNetNuke 6+ 中用 Telerik RadCalendar（默认）替换 jQueryUI Datepicker，以获取包括核心在内的所有内容？

Telerik RadCalendar 不支持我的日期格式。

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T18:38:34.673

这个过程非常简单。只需使用常规文本框即可。

```
$("#<%= txtMyControl.ClientID %>").datepicker(); 
```

你将准备出发！

您可能还需要在代码隐藏中请求注册 jQuery UI。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-12T07:29:59.353

DotNetNuke 提供了内置的 jquery.js 和 jquery-ui.js，因此您不必费心单独链接它们

如果您正在开发自定义 DNN 模块，请将其添加到您的用户控件 view.ascx 文件中。

我有 txtStartDate 作为表单上的文本字段，我希望我的日历在点击时呈现。

为了实现这一点，我在标准包含后的 ascx 页面顶部添加了此代码。

```
<script type="text/javascript" >
$(function () {
    $("#<%= txtStartDate.ClientID %>").datepicker();
});
</script> 
```

如果它看起来比您的预期更大，则日历会根据您的文本大小来调整大小

像这样设置它的样式

```
<style>
div.ui-datepicker{
font-size:10px;
}
</style> 
```

# sharepoint-2010 - 如何将母版页应用于所有页面，sharepoint 2010

> ID：11185886
> 
> 赞同：1
> 
> 时间：2012-06-25T08:34:18.170
> 
> 标签：sharepoint-2010

我在 SP 2010 中有一个门户，其中包含很多站点和子站点。对于特定站点及其所有子站点，我想应用相同的母版页，我是从 SharePoint 设计器 2010 中完成的。问题是子站点中的页面不采用母版页，我必须手动更改它们吗？TIA。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-26T05:25:50.687

您可以通过 Visual Studio 执行此操作，方法是创建站点范围功能，然后添加事件接收器。在其中，覆盖 FeatureActivated 以将客户母版页应用于网站集中的每个网站。这是我使用的一个片段：

```
var siteCollection = properties.Feature.Parent as SPSite;
if (siteCollection == null)
    return;
foreach (SPWeb site in siteCollection.AllWebs)
{
    using (site)
    {
            site.CustomMasterUrl = webAppRelativePath +
                     "_catalogs/masterpage/custommasterpage.master";
            site.SiteLogoUrl = webAppRelativePath +
                     "Style Library/Images/logo.gif";
            site.Update();
        }
    } 
```

或者，您可以按需修改此以使用 SharePoint PowerShell 界面：

```
$site = get-spsite "http://sps2010/sitecoll"
$site.AllWebs | foreach-object { `
             $_.CustomMasterUrl = "_catalogs/masterpage/custommasterpage.master";
             $_.SiteLogoUrl = "Style Library/Images/logo.gif";
             $_.Update();
} 
```

# jquery - 为什么我的 jquery 函数没有在 Firefox 上触发

> ID：11185888
> 
> 赞同：0
> 
> 时间：2012-06-25T08:34:22.483
> 
> 标签：jquery

我在使用一些 jquery 方法时遇到了一些问题（对于某些复选框，我希望它们在选中/未选中时触发，这样我就可以做一些事情了）。

此方法在 Chrome 和 IE 上完美运行，但不适用于最新的 FF。

```
jQuery(function () {
    jQuery(':checkbox').change(function () {
        var counter = jQuery('.count').text();
        var thisCheck = jQuery(this);
        if (thisCheck.is(':checked')) {
            counter++;
            //apply green color to the selected row
            jQuery(this).closest('tr').addClass('checked');
        } else {
            counter--;
            //remove green color to the selected row
            jQuery(this).closest('tr').removeClass('checked');
        }
        jQuery('.count').html(counter);

        //enable export button when there are selected emails to be exported
        if (counter > 0) {
            jQuery(".exportButton").removeAttr("disabled", "");
        } else {
            jQuery(".exportButton").attr("disabled", "disabled");
        }
    });
}); 
```

基本上它根本没有触发......即使使用 Debug 也没有捕捉到第一行（函数声明也没有其他行）。

如果我在 Firefox 上移动这个 javascript（没有`function`声明） `jQuery(document).ready(function ($) {`也可以很好地工作......

是的，我`jQuery.noConflict();`以前用过`jQuery(document).ready(function ($) {`

你知道为什么会这样吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T09:13:45.440

```
(function($) {
   // put your code in here
})(jQuery); 
```

试试这个。

# jquery - 如果窗口高度 > 1000，使用 jQuery 包含/需要不同的 php 文件？

> ID：11185891
> 
> 赞同：0
> 
> 时间：2012-06-25T08:34:26.810
> 
> 标签：jquery, include, window, height

如果 jQuery 包含/需要不同的 php 文件，你如何使用它`window height > 1000`？

```
if window height > 1000

    <?php require('a.php'); ?>

else

    <?php require('b.php'); ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:37:26.313

你不能`require`喜欢`php`JavaScript/jQuery。取而代之的是，您可以使用[`.load()`](http://api.jquery.com/load). 它将使用 AJAX 加载脚本。

例如：

```
if( $(window).height() > 1000 ) {
  $('#result').load('a.php', function() {
      alert('a.php load was performed.');
  });
} else {
  $('#result').load('b.php', function() {
      alert('b.php load was performed.');
  });
} 
```

但是如果你想重新加载页面，那么你需要`window.location`ie。

```
window.location = "some_url"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:54:31.753

您可以在 javascript 中检测宽度和高度，然后将页面重定向到您的实际页面。

```
location.href="myRealPage.php?height="+clientheight; 
```

然后你可以在服务器上使用这些变量来决定加载哪个页面。

```
if($_GET["height"]>1000)
{
   require("a.php")?
}
else
{
   require("b.php")?
} 
```

# c# - 从 SkyDrive 文件夹中获取文件列表 (Windows Phone)

> ID：11185892
> 
> 赞同：8
> 
> 时间：2012-06-25T08:34:30.577
> 
> 标签：c#, windows-phone-7, onedrive

有谁知道如何获取特定 SkyDrive 文件夹的文件列表？目前，我正在使用以下代码段尝试获取根 SkyDrive 文件夹的文件：

```
var client = new LiveConnectClient(e.Session);

client.GetCompleted += (obj, arg) =>
     {
      ...
     }

client.GetAsync("me/skydrive"); 
```

但它返回的只是一个包含大量信息但没有文件名列表的结果字典！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-03T21:53:21.050

根据[OneDrive 核心概念](http://msdn.microsoft.com/en-us/library/live/hh826545.aspx)（以前的 SkyDrive），您有两个选项来列出文件，在顶级目录或特定文件夹中。如您所见，您可以使用

```
liveClient.GetAsync("me/skydrive/files"); 
```

对于您使用的特定文件夹`folderId + "/files"`，例如

```
liveClient.GetAsync(folder.Id + "/files"); 
```

`GetCompleted`如果您可以列出数据键中的所有文件

```
private void onFilesInformationDownloaded(object sender,
                                          LiveOperationCompletedEventArgs e) {
    if (e.Result == null) {
        // check e.Error for reason why it failed
        return;
    }
    List<object> data = (List<object>)e.Result["data"];
    foreach (IDictionary<string, object> content in data) {
        string type = (string)content["type"];
        if (type == "folder") {
            // do something with folders?
        }
        string filename = (string)content["name"];
        string fileId = (string)content["id"];
        // use fileId to download a file or list files in a folder

        // there's a few more details available in content.Keys
        // such as created_time and updated_time for those interested
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T12:59:56.130

[在绝望并在这里](http://forums.create.msdn.com/forums/p/106163/625642.aspx#625642)提出问题之后

事实证明，要从根 skydrive 文件夹中获取文件列表，您需要使用魔术字符串 me/skydrive/files 而不仅仅是 me 或 me/skydrive

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-18T13:24:29.120

微软没有很好地记录实时内容 API 真的很糟糕。

1.  要获取根文件夹内容，请使用 URI：[https](https://apis.live.net/v5.0/me/skydrive/files?access_token=) ://apis.live.net/v5.0/me/skydrive/files?access_token= " + accessToken
2.  对于任何其他文件夹内容，请使用 URI：[https](https://apis.live.net/v5.0/folder.4ab680998d14f4e7.4AB680998D14F4E7!110/files?access_token=) ://apis.live.net/v5.0/folder.4ab680998d14f4e7.4AB680998D14F4E7!110/files?access_token= " + accessToken

`folder.4ab680998d14f4e7.4AB680998D14F4E7!110`您要列出的目标文件夹在哪里。

Java 代码示例：

```
public void listRootFolder(String accessToken) {
    String folderId = "folder.4ab680998d14f4e7.4AB680998D14F4E7!110/files";
    String url = "https://apis.live.net/v5.0/" + folderId + "?access_token=" + accessToken;
    HttpMethod method = new GetMethod(url);
    HttpClient client = new HttpClient();
    try {
        int returnCode = client.executeMethod(method);
        System.out.println("Return code " + returnCode);
        System.out.println(method.getResponseBodyAsString());
    } catch (HttpException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T08:53:07.447

您的文件直接在“我/skydrive”下吗？否则你需要调用它`client.GetAsync("me/skydrive/YOURFOLDER");`

然后，您使用 Result 字典将您的输出数据化为 key `data`。你可以在你的 completedEvent 处理程序中使用这段代码来获取它：

```
 var data = (List<object>)e.Result["data"];
       foreach (IDictionary<string, object> content in data)
       {                   
           var skyContent = new SkyDriveContent();
           skyContent.Name = (string)content["name"];
           ContentList.Add(skyContent);    // where ContentList is :     List<SkyDriveContent> ContentList = new List<SkyDriveContent>(); in your class                
       } 
```

希望这可以帮助。

# c# - 在资源中嵌入文本文件

> ID：11185904
> 
> 赞同：4
> 
> 时间：2012-06-25T08:35:09.533
> 
> 标签：c#, wpf, visual-studio-2010, embedded-resource

我试图将文本文件嵌入到我的资源文件中的应用程序中。不久前我一直在关注这个问题；

[如何在 .NET 程序集中嵌入文本文件？](https://stackoverflow.com/questions/433171/how-to-embed-a-text-file-in-a-net-assembly)

我将我的文本文件添加到 Resources.resx，但无法理解如何在代码中调用它。正如您所看到的，OP 遇到了同样的问题，并设法使其工作`My.Resources.TEXTFILENAME`，而不是`Resources.TEXTFILENAME`. 不幸的是，在我的应用程序中两者都没有被识别，我已经尝试添加 usings 但 VS 没有提出任何建议。自己编写`Resources`，它将其识别为 ResourceDictionary 和 FrameworkElement.Resources，但没有文本文件......有什么想法吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2014-05-15T06:09:07.620

像这样嵌入文本资源似乎可行（visual c# express）：

1.  打开您的项目属性
    ![在此处输入图像描述](../Images/7b92fbb3e70f5312aed3f1888a7a89f7.png)

2.  浏览到资源，单击添加新并选择创建或添加现有资源，以正确者为准。 ![在此处输入图像描述](../Images/2541f42b692acb757f19afe2a07773e2.png)

3.  出现一个野生资源文件夹 ![在此处输入图像描述](../Images/61ca54a8db82c8b47fb363c2abbb233a.png)

4.  像这样使用它们：

    ```
    string foo = global::[ProjectName].Properties.Resources.Muistio;
    string bar = global::[ProjectName].Properties.Resources.asd; 
    ```

资源 Build 操作是**None**并且 Copy to output directory 是**Do not copy**。

如果有人可以验证这一点，那就太好了，当 exe 传输到我的服务器 2k8 时它可以工作，但我仍然想要独立验证。特别是因为 ResourceHacker 没有看到字符串。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-25T16:33:36.033

将文本文件添加到您的项目中，然后将其定义为内容 ( `Build Action`= `Content`) 和`Copy always`输出。

如果您有项目的安装程序（标准安装程序），您可以设置文件系统，以便安装程序自动复制文本文件。

要获取运行应用程序的文件夹，我使用这个：

`Path.GetDirectoryName(System.Reflection.Assembly.GetExecutingAssembly.Location);`

如果您使用的是新的安装程序（ClicOnce），我无法帮助您，但祝您好运：=）

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-08-29T19:18:49.503

如果文件很小，则可以按照其他人的描述使用项目资源文件，但是这样只能将文件作为 Unicode 字符串检索，可能/可能比原始文件大两倍，并立即将其全部加载到内存中.

原始问题中提到的方法是将文本文件放在项目中的某个位置，在解决方案资源管理器中选择它，按 F4 以显示属性，然后将**Build Action**设置为**Embedded resource**并将**Copy to output directory**保留为**Do not copy**。

这与添加到 .csproj 相同：

```
<ItemGroup>
    <EmbeddedResource Include="Resources\TextFile.txt"/>
</ItemGroup> 
```

然后，您将需要一个正确的实例`Assembly`，或者一个`IFileProvider`按名称访问这些资源的实例。

通过组装：

```
typeof(Program).Assembly.GetManifestResourceNames()
typeof(Program).Assembly.GetManifestResourceStream(name)
typeof(Program).Assembly.GetManifestResourceInfo(name) 
```

这些名称是类似的类名，以点分隔。如果您的项目是`NamespaceName.ProjectName`，资源文件在`Resources`子文件夹中并被调用`TextFile.txt`，则资源名称将是

```
NamespaceName.ProjectName.Resources.TextFile.txt 
```

有一个重载`GetManifestResourceStream`需要一个类型，所以你可以做

```
typeof(Program).Assembly.GetManifestResourceStream(
    typeof(Program),
    "Resources.TextFile.txt") 
```

从不依赖默认命名空间或项目输出文件名。

这些的缺点是它们似乎无法从手表窗口工作。您可能会遇到异常

```
System.ArgumentException "Cannot evaluate a security function." 
```

在这种情况下，只需在可以随意执行它的地方编写该代码 - 例如在静态方法中。因此该代码从您的程序集运行，而不是调试器。

并通过`IFileProvider`：

```
dotnet add package Microsoft.Extensions.FileProviders.Embedded
using Microsoft.Extensions.FileProviders;
var fp = new EmbeddedFileProvider(typeof(Program).Assembly);
// get all resources as an enumerable
foreach (var fileInfo in fp.GetDirectoryContents(""))
    Console.WriteLine($"Name: {fileInfo.Name}, Length: {fileInfo.Length}, ...");
// get a specific one by name
var stream = fp.GetFileInfo("Resources.TextFile.txt").CreateReadStream(); 
```

作为`IFileProvider`.NET Core 网站，您可能会尝试从纯嵌入式资源托管。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-25T08:40:59.503

使用 .ResX 资源与将文本文件嵌入到程序集中略有不同。对于后者，您要检查其属性并使其成为*EmbeddedResource*（即，无需向 ResX 文件添加任何内容，只需将文本文件放入您的 VS 项目中）。要检索它，请使用：

```
Assembly.GetExecutingAssembly().GetManifestResourceStream(name); 
```

要获取*name*参数的正确值，请调用*GetManifestResourceNames()*并检查结果。

# html - 选择框箭头样式

> ID：11185906
> 
> 赞同：42
> 
> 时间：2012-06-25T08:35:14.077
> 
> 标签：html, css

我想让第二个选择框箭头与第一个相同。但我不知道为什么它们不同，因为我没有设计箭头。

![在此处输入图像描述](../Images/8b76609dd90057d8cf5b842448a990a1.png)

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-06-25T08:45:10.457

在大多数情况下，浏览器和操作系统决定了选择框的样式，仅使用 CSS 几乎不可能改变它们。您将不得不研究替换方法。主要技巧是应用`appearance: none`它可以让您覆盖一些样式。

我最喜欢的方法是这个：

[http://cssdeck.com/item/265/styling-select-box-with-css3](http://cssdeck.com/item/265/styling-select-box-with-css3)

它不会取代操作系统选择菜单 UI 元素，因此与此操作相关的所有问题都不存在（无法以长列表为主的浏览器窗口中断）。

祝你好运 ：）

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-25T08:38:43.523

您可以使用[jQuery 选择框替换](http://code.google.com/p/select-box/)。这是一个 jQuery 插件。

[http://cssglobe.com/post/8802/custom-styling-of-the-select-elements](http://cssglobe.com/post/8802/custom-styling-of-the-select-elements)

**纯** **CSS** [http://bavotasan.com/2011/style-select-box-using-only-css/](http://bavotasan.com/2011/style-select-box-using-only-css/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-11-21T19:13:41.047

对于使用 ie8 并且不想使用插件的任何 1，我制作了一些受 Rohit Azad 和 Bacotasan 博客启发的东西，我只是使用 JS 添加了一个跨度来显示所选值。

的HTML：

```
<div class="styled-select">
   <select>
      <option>Here is the first option</option>
      <option>The second option</option>
   </select>
   <span>Here is the first option</span>
</div> 
```

css（我只为 BG 使用了一个箭头，但你可以放置一个完整的图像并放弃定位）：

```
.styled-select div
{
    display:inline-block;
    border: 1px solid darkgray;
    width:100px;
    background:url("/Style Library/Nifgashim/Images/drop_arrrow.png") no-repeat 10px 10px;
    position:relative;
}

.styled-select div select
{
    height: 30px;
    width: 100px;
    font-size:14px;
    font-family:ariel;

    -moz-opacity: 0.00;
    opacity: .00;
    filter: alpha(opacity=00);
}

.styled-select div span
{
    position: absolute;
    right: 10px;
    top: 6px;
    z-index: -5;
} 
```

js：

```
$(".styled-select select").change(function(e){
     $(".styled-select span").html($(".styled-select select").val());
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-25T08:47:40.770

选择框箭头是本机 ui 元素，它取决于桌面主题或 Web 浏览器。使用 jQuery 插件（例如[Select2](http://ivaynberg.github.com/select2/)、[Chosen](http://harvesthq.github.com/chosen/)）或 CSS。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-08-01T07:22:49.017

在 Firefox 39 中，我发现为选择元素设置边框会将箭头呈现为 (2)。未设置边框，将箭头呈现为 (1)。我认为这是一个错误。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-10-07T17:06:43.457

[http://jsfiddle.net/u3cybk2q/2/](http://jsfiddle.net/u3cybk2q/2/) 检查 windows、iOS 和 Android（iexplorer 补丁）

```
.styled-select select {
   background: transparent;
   width: 240px;
   padding: 5px;
   font-size: 16px;
   line-height: 1;
   border: 0;
   border-radius: 0;
   height: 34px;
   -webkit-appearance: none;
}
.styled-select {
   width: 240px;
   height: 34px;
   overflow: visible;
   background: url(http://nightly.enyojs.com/latest/lib/moonstone/dist/moonstone/images/caret-black-small-down-icon.png) no-repeat right #FFF;
   border: 1px solid #ccc;
}
.styled-select select::-ms-expand {
    display: none;
}
```

```
<div class="styled-select">
   <select>
      <option>Here is the first option</option>
      <option>The second option</option>
   </select>
</div>
```

# android - 无法清除所有以前的活动并跳出应用程序

> ID：11185907
> 
> 赞同：0
> 
> 时间：2012-06-25T08:35:18.733
> 
> 标签：android, android-activity, activity-finish

我打了电话

```
Intent intent = new Intent(activity, Main_AllLatestNews.class);
intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
activity.startActivity(intent); 
```

但是，当我在课堂上单击后退按钮时`Main_AllLatestNews`，它应该退出应用程序而不是返回到以前的活动。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:38:47.070

```
Backpressed destroy the current activity 

public boolean onKeyDown(int keyCode, KeyEvent event) {
        if (keyCode == KeyEvent.KEYCODE_BACK && event.getRepeatCount() == 0) {
            // do something on back.
            this.finish();
            Intent intent = new Intent(activity, Main_AllLatestNews.class);

            startActivity(intent);
            return true;
        }

        return super.onKeyDown(keyCode, event);
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:39:33.240

试试这个：

```
Intent intent = new Intent(activity, Main_AllLatestNews.class);
intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
activity.startActivity(intent);
activity.finish(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-26T04:50:38.097

在活动 D 中使用代码如下所示

```
 public boolean onKeyDown(int keyCode, KeyEvent event) {
     if (keyCode == KeyEvent.KEYCODE_BACK && event.getRepeatCount() == 0) {
        // do something on back.
        this.finish();
        Intent i = new Intent(Dactivity.this, AActivity.class);
        i.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
        startActivity(i);
        return true;
    }

    return super.onKeyDown(keyCode, event);
} 
```

# java - 将 byte[] 数组转换为字节数

> ID：11185912
> 
> 赞同：-2
> 
> 时间：2012-06-25T08:35:36.833
> 
> 标签：java, bytearray, byte

我有一个偶数长度的 byte[] 数组。现在，我希望 byte[] 数组分成其长度的一半，其中 byte[] 数组中的前两个字节作为字节 b1，接下来的两个作为字节 b2，依此类推。

请帮忙。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:46:30.143

这是作业吗？我猜你的主要问题是将字节对组合成双字节。这是通过所谓的左移 ( `<<`) 实现的，字节为 8 位，因此移位八位：

```
int doubleByte = b1 + (b2 << 8); 
```

请注意，我`b1`用作低字节和`b2`高字节。

剩下的很简单：分配一个`int`长度为字节数组一半的数组，然后遍历字节数组以构建新`int`数组。希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T09:28:04.953

也许我完全理解你的问题是错误的。

```
public class Main {
    // run this
    public static void main(String[] args) {    

        // create the array and split it
        Main.splitArray(new byte[10]);
    }

    // split the array
    public static void splitArray(byte[] byteArray) {
        int halfSize = 0; // holds the half of the length of the array
        int length = byteArray.length; // get the length of the array
        byte[] b1 = new byte[length / 2]; // first half
        byte[] b2 = new byte[length / 2]; // second half
        int index = 0;

        if (length % 2 == 0) { // check if the array length is even
            halfSize = length / 2; // get the half length

            while (index < halfSize) { // copy first half
                System.out.println("Copy index " + index + " into b1's index " + index);
                b1[index] = byteArray[index];
                index++;
            }

            int i = 0; // note the difference between "i" and "index" !
            while (index < length) { // copy second half
                System.out.println("Copy index " + index + " into b2's index " + i);// note the difference between "i" and "index" !
                b2[i] = byteArray[index];// note the difference between "i" and "index" !
                index++;
                i++; //dont forget to iterate this, too
            }

        } else {
            System.out.println("Length of array is not even.");
        }
    }
} 
```

# c# - 如何在 SAPI 中赋予用户定义的语法比听写语法更高的优先级？

> ID：11185913
> 
> 赞同：1
> 
> 时间：2012-06-25T08:35:38.597
> 
> 标签：c#, speech-recognition, sapi

我有一个应用程序，我在其中使用听写语法和我定义的用于识别语音的语法。我需要用户定义的语法比听写语法具有更高的优先级，以便语音识别引擎仅在用户定义的语法中没有该单词时才查看听写语法。请给出您可能需要的任何想法来完成这项工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-29T19:51:41.517

[语法](http://msdn.microsoft.com/en-us/library/system.speech.recognition.grammar.aspx)类有两个属性**Weight**和**Priority**。您可以为您创建的语法分配更高的权重，为您使用的听写语法分配较低的权重。或者，如果您有多个用户定义的语法，您可以使用 priority 属性来指示一种语法优先于另一种语法。请参见以下示例；

```
// Create a Grammar for recognizing numeric digits.
Grammar digitsGrammar = CreateDigitsGrammar();
digitsGrammar.Name = "Digits Grammar";
digitsGrammar.Priority = 2;
digitsGrammar.Weight = 0.6f;

// Create a Grammar for recognizing fractions.
Grammar fractionsGrammar = CreateFractionsGrammar();
fractionsGrammar.Name = "Fractions Grammar";
fractionsGrammar.Priority = 1;
fractionsGrammar.Weight = 1f;

// Create an in-process speech recognizer.
SpeechRecognitionEngine recognizer = new SpeechRecognitionEngine();

recognizer.SpeechRecognized +=new EventHandler<SpeechRecognizedEventArgs>(
recognizer_SpeechRecognized);

// Load the digits and fractions Grammar objects.
 recognizer.LoadGrammar(digitsGrammar);
 recognizer.LoadGrammar(fractionsGrammar);

 // Start recognition.
 recognizer.SetInputToDefaultAudioDevice();
 recognizer.RecognizeAsync(RecognizeMode.Multiple); 
```

# switch-statement - 动态类型语言中的 switch case 语句

> ID：11185914
> 
> 赞同：2
> 
> 时间：2012-06-25T08:35:38.780
> 
> 标签：switch-statement

我想知道动态类型语言在找到匹配的大小写标签时会如何表现。它会继续评估尚未比较的其他标签值吗？（查找重复的案例标签或类型错误）。

常见的动态类型语言在那里表现如何？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:43:22.797

我在这里只能说 JavaScript，但是 JavaScript 会通过首先检查两个操作数是否属于同一类型来搜索匹配的标签，然后再检查值。如果找到匹配项，switch case 将执行与标签关联的语句并跳出 switch 语句（如果找到 break 语句）。

例子：

```
notANumber='0'

switch (notANumber) {
  case 0:
    alert("It's a number, Jim.");
    break;
  case '0':
    alert("It's a string, Jim.");
    break;
} 
```

这将导致显示一个弹出语句`It's a string, Jim.`。它实际上与 C 开关并没有太大区别（可悲的是 ;-)）。

**编辑**

运算符在`===`这里用于比较，它不仅测试值，还测试类型。如果`==`改为使用运算符，则将仅测试操作数的值（这将导致第一种情况为真）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-25T08:51:56.447

有两种众所周知的切换方法，尽管大小写标签通常是文字，但与动态无关。

发生什么取决于跌倒。

隐式失败将按照代码中的案例顺序执行所有匹配的案例。

显式失败将执行第一个匹配的 case 而不会执行其他匹配，除非您显式跳转到另一个 case 标签，该标签可以位于 switch 的任何位置。

# html - 如何根据分辨率更改宽度和高度

> ID：11185915
> 
> 赞同：0
> 
> 时间：2012-06-25T08:35:44.197
> 
> 标签：html, css

我正在尝试制作一个适应性强的网页，上面有一些圆圈。问题是：根据我使用的屏幕尺寸，圆圈看起来像鸡蛋或圆圈，这取决于你在它看到的屏幕。我已经解决了这个问题，这是因为我使用 % 宽度和高度，所以当你进入方形或矩形屏幕时，它会改变视图。

所以我决定使用固定尺寸，所以它适用于所有屏幕尺寸。但是，当然，当您使用不同的屏幕分辨率时，这个圆圈看起来会更大或更小。我试着把这个：

```
@media screen (min-width: 1620px)
{
    html
    {
        font-size: 100%;
    }
.circle-wrap 
{ 
    width:150px; 
    height:150px;   
    position:absolute; 
    float:left; 
    text-decoration:none; 

    /* Multiple compatibility with border radius */
    /* CSS 3 */
    border-radius: 50%;
    /* Firefox versiones 3.x */
    -moz-border-radius: 50%;
    /* Safari desde 3.2 hasta la 4 */
    -webkit-border-radius: 50%;
    /* Khtml Conqueror */
    -khtml-border-radius: 50%;
}
} 
```

因此，我想做的是创建一个类**circle-wrap**来调整我的像素大小，因为屏幕分辨率不同。但它没有按预期工作。我想由于某种原因你不能放在**@media ...**你自己的类或标识符上，所以我试图找到一个解决方案，解决如何因分辨率不同而动态地改变我的圆圈的像素宽度/高度。

任何帮助将非常感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:54:31.910

第一个选项，您可以使用动态尺寸单位[http://www.w3.org/TR/css3-values/#lengths](http://www.w3.org/TR/css3-values/#lengths)

或应用媒体查询

```
.circle-wrap { 
    position:absolute; 
    float:left; 
    text-decoration:none; 

    /* Multiple compatibility with border radius */
    /* CSS 3 */
    border-radius: 50%;
    /* Firefox versiones 3.x */
    -moz-border-radius: 50%;
    /* Safari desde 3.2 hasta la 4 */
    -webkit-border-radius: 50%;
    /* Khtml Conqueror */
    -khtml-border-radius: 50%;
}
@media screen and (min-width: 1620px) {
    .circle-wrap { 
        width:150px; 
        height:150px;
    }
}
@media screen and (max-width: 1620px) and (min-width: 1024px) {
    .circle-wrap { 
        width:125px; 
        height:125px;
    }
}
@media screen and (max-width: 1024px) {
    .circle-wrap { 
        width:100px; 
        height:100px;
    }
} 
```

# jquery - ASP MVC 将 jqWidget Drop 的选定值传递给控制器

> ID：11185916
> 
> 赞同：0
> 
> 时间：2012-06-25T08:35:50.113
> 
> 标签：jquery, asp.net-mvc, form-submit

我将 jqWidgets 与 ASP.MVC 一起使用。我正在填充一个下拉列表，当提交表单时，我想在按下按钮时将下拉列表中的选定值传递给我的控制器。

如果我硬编码如下值，一切正常：

```
@using (Html.BeginForm("GetRace", "Schedule", new { @id = "abc" },FormMethod.Post))    
{  
    <div id="okBtn">
         <input id="Search" type="submit" value="OK" />
    </div>        
} 
```

我希望能够调用 Javascript 函数，例如：

```
 function getListItem()
   {
     return selectItem;
   } 
```

但是，当我将 BeginForm 更改为

```
 @using (Html.BeginForm("GetRace","Schedule",@ID = new {onsubmit = "return  (getListItem());" })) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:39:59.507

您可以在表单中使用隐藏字段：

```
@using (Html.BeginForm("GetRace", "Schedule", new { id = "abc" }, FormMethod.Post, new { id = "myForm" }))
{
    @Html.Hidden("SelectedListItem")
    <div id="okBtn">
        <input id="Search" type="submit" value="OK" />
    </div>        
} 
```

然后`.submit()`不显眼地订阅这个表单的事件并设置隐藏字段的值：

```
$(function() {
    $('#myForm').submit(function() {
        var selectedItem = 'some value that you will read from the dropdown';
        $('#SelectedListItem').val(selectedItem);
    });
}); 
```

甚至更好的是，只需将下拉列表放在表单中。这样，您根本不需要使用任何 javascript，并且在提交表单时，选定的值将自动发布到控制器。

# android - 如何格式化列表视图文本元素

> ID：11185923
> 
> 赞同：0
> 
> 时间：2012-06-25T08:36:22.527
> 
> 标签：android

我正在使用列表视图并希望将文本格式化为金钱。我从光标中获取数值数据并将其加载到多个文本框中，即

```
 SimpleCursorAdapter adapter = new SimpleCursorAdapter(this, 
            R.layout.list_item_sales_order, 
            null,  //was mCursor 
            new String[]{MyobiliseData.Columns_TempOrders.SALES_ITEM_DESCRIPTION
            ,MyobiliseData.Columns_TempOrders.SALES_ITEM_QTY
            ,MyobiliseData.Columns_TempOrders.SALES_ITEM_PRICE_EXGST
            ,MyobiliseData.Columns_TempOrders.SALES_ITEM_TOTAL_INCGST},
            new int[] {R.id.liItemDescription, R.id.liItemQty, R.id.liItemPrice, R.id.liTotal}
            );
    theListView.setAdapter(adapter); 
```

我可以将文本格式化为货币，例如 $10.56 而不是现在显示的 10.56？

谢谢

安东

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T09:23:48.103

格式化货币值的正确方法是：

```
NumberFormat.getCurrencyInstance(Locale.US).format(YOUR_CURRENCY_VALUE)) 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:50:21.423

我认为数字格式应该这样做。

```
 DecimalFormat df = new DecimalFormat("\u00A4##,##"); //$
 System.out.println("Pattern: " + df.toPattern() + " -> " + df.format(value)); 
```

# iphone - 我应该为“无价值”声明写什么？

> ID：11185928
> 
> 赞同：0
> 
> 时间：2012-06-25T08:36:47.103
> 
> 标签：iphone, ios5, xcode4.3

我是 xcode 的初学者。如何为尚未完成写入信息或在 UILabel (labelDate) 中没有值的内容编写代码，然后弹出 UIAlertView 告诉您是否尚未输入信息？

我的 UILabel 从下面的代码中获取输入

```
- (void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component
{
    year = [picker selectedRowInComponent:0];
    month = [picker selectedRowInComponent:1];
    day = [picker selectedRowInComponent:2];
    date = @"";
    if(viewPicker.tag == 1)
        labelDate.text = [date stringByAppendingFormat:@"%d:%d:%d", year , month, day];
    else
    ... etc
} 
```

我的按钮是这样的

```
- (IBAction)readyBtn:(id)sender { 
    if ( ??? ) {
        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Alert" message:@"Please input date" delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
        [alert show];
    } 
```

我已经尝试过这样写，但我认为这不是一个好主意，因为如果年、月、日选择为 0，则会弹出 uialertview。

```
- (IBAction)readyBtn:(id)sender { 
    if (viewPicker.tag == 1) {
        year = month = day = 0;
        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Alert" message:@"Please input date" delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
        [alert show];
    } 
```

谢谢你教我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:42:17.873

如果您想检查您的 UILabel 是否没有价值，请在您的函数中执行以下操作

```
- (IBAction)readyBtn:(id)sender { 
    if ( [yourLabel.text isEqualToString:@""]) {
        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Alert" message:@"Please input date" delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
        [alert show];
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:42:36.970

检查输入的日期是否为零，如果为零则弹出警报视图。或者

```
if(entereddate.text isEqualToString:" ")
{
       UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Alert" message:@"Please input date" delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
            [alert show];

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T08:44:38.863

您的 Button 事件将是这样的：

```
 - (IBAction)readyBtn:(id)sender 
 { 
    if ( labelDate.text.length >0 ) // Add OR condition for any other lablel or textField
    {
    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Alert" message:@"Please input date" delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
    [alert show];
    }
} 
```

# sql-server - 如何禁用所有用户的更新表

> ID：11185932
> 
> 赞同：2
> 
> 时间：2012-06-25T08:37:05.013
> 
> 标签：sql-server, sql-server-2008, sql-server-2008-r2

我使用 SQL Server 2008 R2 并有一张我不想让任何人更新的表，换句话说，我想禁用此表的更新。为此，我知道两种方法，第一种是使用`instead of update`触发器来阻止更新，第二种是使用权限。

我想为此目的找出最佳实践。

编辑 1：我想拒绝所有用户的更新。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T08:38:36.387

恕我直言，使用权限来禁用对表的更新可能是最好的方法。

编辑：[检查 SQL Server 中的授予和删除权限](http://www.mssqltips.com/sqlservertip/1138/giving-and-removing-permissions-in-sql-server/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-04-13T09:19:20.870

在 MySQL 中，SQL`i-am-a-dummy`标志使 MySQL、SQL 引擎拒绝`UPDATE and DELETE`命令，除非该`WHERE`子句存在。

# java - 从 jdeveloper 的 xml+xslt 生成 html

> ID：11185935
> 
> 赞同：1
> 
> 时间：2012-06-25T08:37:23.740
> 
> 标签：java, xml, xslt, jdeveloper

当我尝试使用 java 类从 jdeveloper 10g 中的 XML+XSLT 生成 HTML 时，出现以下错误

```
XML-22108: (Error) Invalid Source - URL format is incorrect.

XML-22000: (Fatal Error) Error while parsing XSL file (no protocol: headerMenu.xsl) 
```

但是当我从命令行用另一个 jdk 编译文件时，它工作正常。

以下是我的代码片段

```
 TransformerFactory tFactory = TransformerFactory.newInstance();

        Transformer transformer = 
            tFactory.newTransformer(new javax.xml.transform.stream.StreamSource(xslHeaderMenu)); //takes the xsl

             System.out.println("...xsl for header navigation menu block included...");

        transformer.transform(new javax.xml.transform.stream.StreamSource(xmlDataFile), 
                              new javax.xml.transform.stream.StreamResult(new FileOutputStream(htmlHeaderMenu))); //takes the xml and generates html for header menu 
```

请建议我如何在 jdeveloper 中生成

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-25T12:58:38.497

在 StreamSource 的 javadoc 中，字符串方法说它“必须是符合 URI 语法的字符串”，而“headerMenu.xsl”不是。

我会尝试：

```
tFactory.newTransformer(
  new javax.xml.transform.stream.StreamSource(
    new File(xslHeaderMenu))); //takes the xsl 
```

因为 File 可以采用抽象文件名（也适用于其他流源）

# web-services - 如何使单元测试与 jax-ws 一起工作？

> ID：11185939
> 
> 赞同：1
> 
> 时间：2012-06-25T08:37:46.880
> 
> 标签：web-services, jakarta-ee, junit, glassfish, jax-ws

我有一个使用 jax-ws 2.2 创建的网络服务，我的目标是让测试连接到 glassfish 并表现得像一个真正的客户端，但我遇到了这个异常：

```
tried to access method com.sun.xml.ws.policy.PolicyMapMutator.connect(Lcom/sun/xml/ws/policy/PolicyMap;)V from class com.sun.xml.ws.policy.parser.WsitPolicyResolver
java.lang.IllegalAccessError: tried to access method com.sun.xml.ws.policy.PolicyMapMutator.connect(Lcom/sun/xml/ws/policy/PolicyMap;)V from class com.sun.xml.ws.policy.parser.WsitPolicyResolver 
```

我正在使用 junit 4/jax-ws 2.2 和 glassfish 3.1.1

谢谢。

# ios - 自定义视图替换横向模式下的 TableView

> ID：11185943
> 
> 赞同：0
> 
> 时间：2012-06-25T08:38:04.990
> 
> 标签：ios, uitableview, landscape, custom-view

我正在开发一个带有纵向模式小表格视图的 iOS 应用程序。我希望这个视图在横向模式下变得完全不同。我还没有编码，但是像[http://www.vertex42.com/ExcelArticles/Images/timeline/Timeline-for-Benjamin-Franklin.gif](http://www.vertex42.com/ExcelArticles/Images/timeline/Timeline-for-Benjamin-Franklin.gif)之类的东西（它将在滚动视图中）

我已经读过这样的内容：“[尝试在方向更改时加载新视图](https://stackoverflow.com/questions/4762967/trying-to-load-new-view-upon-orientation-change)”但是由于我的纵向视图是 UITableView 我不知道如何设置纵向视图...

我正在使用由 AppDelegate 启动的 UITableViewController 子类。

感谢您的回答，并为我糟糕的英语感到抱歉...

编辑：解决方案：您必须创建一个自定义 UIViewController，其中包含两个视图，这两个视图将是 tableView 的委托和数据源。然后在 - (BOOL)shouldAutorateTo.... 你设置“隐藏”属性来做你想做的事。

/!\ 不要忘记初始化你的 tableView 属性并设置它的委托和数据源属性

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:41:53.007

如果您想要更大的灵活性，请取出并`UITableViewController`放入内部。至于旋转，我可能会在旋转的那一刻切换a 。`UIViewController``UITableView``UITableView``UIScrollView`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:45:23.830

您可以将滚动视图添加为您的子级`self.view`，然后在您的 ViewController 中执行此操作

```
- (void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration
{
    if (UIDeviceOrientationIsLandscape(toInterfaceOrientation)) {
        tableView.hidden = YES;
        scrollView.hidden = NO;
    }
    else {
        tableView.hidden = NO;
        scrollView.hidden = YES;
    }
} 
```

# c# - 透明 WinForm 在最大化和还原后无法调整大小

> ID：11185948
> 
> 赞同：0
> 
> 时间：2012-06-25T08:38:18.180
> 
> 标签：c#, .net, winforms

我想创建一个 WinForm，它有一个正常的框架，但应用程序的很大一部分是透明的。我遇到了一个问题，即在最大化和还原窗口后，框架边框不再可点击——点击只是传递到我的应用程序后面的应用程序。通过执行以下操作，我已经能够用一个简单的 WinForms 应用程序重现这一点：

1.  创建一个新的 WinForms 应用程序。
2.  将默认表单的 TransparencyKey 和 BackgroundColor 设置为相同颜色。
3.  运行应用程序。
4.  单击运行窗体的最大化按钮。
5.  点击还原。
6.  表单边框不再可点击（尽管有时我似乎在一侧得到一个 1px 的可点击边框）。

网上有很多关于透明表单和控件的信息，但我没有发现这个错误。鉴于其复制简单，我怀疑我是第一个遇到这个问题的人。有什么办法绕过它吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-09-15T15:43:48.987

```
const int WM_SYSCOMMAND = 0x0112;
const int SC_MINIMIZE = 0xF020;
const int SC_MAXIMIZE = 0xF030;
const int SC_RESTORE = 0xF120;
const int SC_TOP = 0xF003;
const int SC_LEFTTOP = 0xF004;
const int SC_RIGHTTOP = 0xF005;
const int SC_DBCLICKTITLEBARMAX = 0xF122;
protected override void WndProc(ref Message m)
{
    base.WndProc(ref m); 
    if (m.Msg == WM_SYSCOMMAND)
    {
        int sc = m.WParam.ToInt32();
        if (sc == SC_RESTORE | sc == SC_LEFTTOP | sc == SC_TOP | sc == SC_RIGHTTOP | sc == SC_DBCLICKTITLEBARMAX )
        {
            FormBorderStyle oldvalue = this.FormBorderStyle;
            this.FormBorderStyle = FormBorderStyle.None;
            this.FormBorderStyle = oldvalue;
        }
    }
} 
```

# unicode - Crystal Reports for VS2008 中的亚洲语言 PDF 显示问题

> ID：11185953
> 
> 赞同：1
> 
> 时间：2012-06-25T08:38:40.380
> 
> 标签：unicode, crystal-reports, windows-server-2008-x64

这里是上下文：我们在 ASP.Net 应用程序中使用 Crystal Reports for Visual Studio 2008 来生成用户输入的文本中可能包含东亚字符（中文、日文）的报表。报告在 Windows Server 2003 上正确生成，而在 Windows Server 2008 上生成错误。

当我们第一次遇到这个问题时，我们发现我们需要：

*   在服务器上安装“东亚语言支持”
*   在 CR 中使用 Unicode 字体：*Arial Unicode MS*
*   在服务器上安装此字体

通过这些更改，可以在 WS2003 上正确生成报告。现在，我们正在迁移到 Windows Server 2008 x64，我们遇到了同样的问题：中文或日文文本没有正确显示（我们有小方块）。

我们没有更改报告（我们安装了相同的应用程序版本）。在服务器 WS2008 上，我们安装（测试）了中文语言包（应该相当于 WS2003 上的操作）。

有没有人知道可能是什么原因，或者下一步该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-27T09:00:49.240

我们终于找到了解决方案。

在 Windows Server 2008 下，某些字体是隐藏的。事实是：如果字体已安装但隐藏，则无法使用它......此外，“显示”或“隐藏”字体取决于用户......

我们在 WS 2008 上所做的是：

*   安装*Arial Unicode MS*字体
*   显示运行 ASP.Net 应用程序的用户的字体（AppPool 的标识）

不需要安装语言包。只需“启用”报告中使用的字体。

The only thing that upset me is: how do we do that (enable the font) if we cannot connect on the server as the user of the AppPool?

# c# - obout 树视图从 2.0 更新到 3.5

> ID：11185955
> 
> 赞同：3
> 
> 时间：2012-06-25T08:38:43.977
> 
> 标签：c#, asp.net, treeview, obout

当我从使用旧的 Treeview（来自程序集 obout_ASPTreeView_2_NET 2.0.0）升级到新的树视图（.net 3.5 中的 Obout.Ajax.UI 2.11.1026）时，如果我的编码（C# 和 JS）有任何重大更改，请提出建议。 .net 2.0 中的 41)

我们正在使用： - 使用辅助页面按需加载。- 虚拟滚动。

笔记：

1.  C# 代码更改看起来相对容易，服务器回调（无需辅助页面）看起来很方便。

2.  我正在寻找避免和/或重大代码更改（例如服务器回调）的可能陷阱

3.  2.11版本没有虚拟滚动的示例代码（网站有2.0.41版本的demo）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-01T02:14:59.000

我从 Obout 支持那里得到了这个答案：

> 新[`Obout.Ajax.UI.TreeView`](http://www.obout.com/obout.ajax.ui/treeview/docs/OboutTree.aspx)的与旧的 obout_ASPTreeView_2_NET 控件完全不同。不幸的是，没有简单的方法可以从一个升级到另一个。如果旧版本适合您，我建议不要升级到新版本。

因此，除非您在新页面中使用它，否则不要升级。

# sql - 传递一个 varchar 类型参数并在 set @SQL 中使用它

> ID：11185956
> 
> 赞同：1
> 
> 时间：2012-06-25T08:38:44.273
> 
> 标签：sql, sql-server

我有一个包含这一行的存储过程：

```
SET @SQL = 'SELECT path,title,tags
            FROM (
                  SELECT ROW_NUMBER() OVER(ORDER BY file_number) AS Row, *
                  FROM  files) AS tbl 
            WHERE file_number IN (SELECT tag_file_number 
                                  FROM tags 
                                  WHERE tag LIKE ' + @Conditions + '), Row >= '
                   + CONVERT(varchar(9), @StartIdx) + ' AND
                   Row <= ' + CONVERT(varchar(9), @EndIdx) 
```

当我将“总线”作为参数值传递时出现错误。我的目标是传递一段 SQL 查询并将其替换为`@conditions`.

我也可能通过'%bu% or tag Like %time% or tag Like %bus time%' 我认为这并不难做到，但我就是想不通。这是一个非常具体的问题，因此我什至无法搜索它。请帮我。如果您需要更多信息，请告诉我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:43:32.990

**您缺少引号**，请像这样尝试：

```
SET @SQL = 'SELECT path,title,tags
        FROM (
        SELECT  ROW_NUMBER() OVER(ORDER BY file_number) AS Row, *
              FROM  files ) AS tbl WHERE file_number in(select tag_file_number from tags where tag like "' + @Conditions + '"), Row >= '
                            + CONVERT(varchar(9), @StartIdx) + ' AND
               Row <=  ' + CONVERT(varchar(9), @EndIdx) 
```

现在发生的事情是`where tag like bus`，而且必须是`where tag like "bus"`。

# sysfs - 如何将 SHT11 传感器添加到 sysfs

> ID：11185959
> 
> 赞同：1
> 
> 时间：2012-06-25T08:38:50.000
> 
> 标签：sysfs

几天前，我决定在我的计算机 SHT11 传感器中连接到 SMBus 总线。我不知道如何将此传感器添加到 sysfs。该传感器非常具体，因为它使用地址 0x00，因此不能放入 new_device：

```
$ sudo bash -c 'echo sht15 0x00 >  /sys/bus/i2c/devices/i2c-0/new_device' 
```

bash：第 0 行：回显：写入错误：参数错误

当我尝试输入 0x50 时，没有错误：

```
$ sudo bash -c 'echo sht15 0x50 >  /sys/bus/i2c/devices/i2c-0/new_device' 
```

它创建文件夹/sys/bus/i2c/devices/0-0050，但没有测量

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T19:04:55.873

[Sensirion](http://www.sensirion.com/fileadmin/user_upload/customers/sensirion/Dokumente/Humidity/Sensirion_Humidity_SHT1x_Datasheet_V5.pdf)的SHT11 和 SHT15不是支持 I2C 的传感器。它们有 2 线通信（数据和时钟），但它们不是 I2C，您可以通过上面的链接进行验证。

当传感器绑定到 GPIO 时，Linux 有一个驱动程序 (sht15.c)。

# javascript - 在非事件上委托附加

> ID：11185967
> 
> 赞同：0
> 
> 时间：2012-06-25T08:39:20.550
> 
> 标签：javascript, jquery

我有一些 javascript 将更改应用到某些元素和加载更多此类元素的函数。像那样：

```
<ol id="test"><li>click</li></ol>
<script type="text/javascript">
    $(function() {
        $('OL').delegate("li","click",function(){
        $('#test').append('<li>click</li>');
    });
</script> 
```

这是委托的基本功能，它可以工作。我可以点击多个`<li>`元素。

问题是我想，**additonaly**做以下：

```
$(function() {
    $('li').css('color','red'); 
    //this is just an example, I don't need to paint the text red :)
}); 
```

对于所有`li`不仅仅是在页面加载时加载的那些。

我无法将这些更改附加到任何内容（没有事件表明我已经加载了上面附加中的元素）。此外，我知道`$('li').css('color','red');`每次调用 append 时我都能回忆起（或在 ajax 回调上，这是我真正正在工作的事情）。但是我有一个系统，其中包含许多返回不同 HTML 的 ajax 调用以及需要针对这些元素执行的大量插件和 jquery 人员。我不想在每次 ajax 成功时调用一个巨大的“刷新”函数。

现在我找到的唯一解决方案是将所有内容绑定到任意事件，并在每个 ajax 加载时对该事件进行触发调用，如下所示：

```
<ol id="test"><li>click</li></ol>
<script type="text/javascript">
    $(function() {
        $('OL').delegate("li","click",function(){
            $('#test').append('<li>click</li>');
            $('#test').children().trigger('load');
        });
</script>       
<script type="text/javascript">
    $(function() {
        $('OL').delegate("li","load",function(){
            $(this).css('color','red');
        });
    });
</script> 
```

这适用于第一个加载后的所有*元素*。所以我需要一些额外的代码，但它*可以工作*。

有人有更好的解决方案吗？有什么方法可以为非活动进行“现场直播”？

谢谢！

**编辑** 关于代码中的“红色”示例......我需要做的更改是许多其他更改：

```
('BODY').delegate(".mcs_container","load",function(){
        $(this).mCustomScrollbar("vertical",400,"easeOutCirc",1.05,"auto","no","no",0);
    }).trigger('load'); 
```

所以我认为只有触发一个功能才会起作用。

**编辑 2** 我在这里创建了一个工作示例：http: [//jsfiddle.net/THHNS/5/](http://jsfiddle.net/THHNS/5/) 我想要完成的是能够避免额外的触发器`$('LI').trigger('focus');`

**编辑 3** 我在 ON 应该足够和更好的时候使用委托。更新示例：http: [//jsfiddle.net/THHNS/26/](http://jsfiddle.net/THHNS/26/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T11:22:45.787

你可以这样做：

```
<head>
    <script type="text/javascript">
        $(function() {
            $(document).on("click","li", function(){
                $('#test li:first-child').clone().appendTo('#test');
            });
        });
    </script>
</head>
<body>
<ol id="test"><li style="color:red">click</li></ol>
</body> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:46:27.920

定义一个类不是更好吗？

```
.myredclass {color: red;} 
```

并将其添加到 LI 的创建中：

```
$('#test').append('<li class=\"myredclass\">click</li>'); 
```

我敢打赌它会快得多。

显然，这取决于您的 css 样式必须有多动态（如果您想为每个 LI 设置不同的 x 偏移量，这不是一个可行的方案，但对于简单且一致的样式，您可以这样做）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T11:49:43.637

好吧，似乎不可能将实时函数调用附加到不是事件的东西上。我发现的最佳解决方案如下。

```
<head>
<script type="text/javascript">
    $(function() {
        $(document).on("click","li", function(){
            //this click simulates an ajax call
            //the html appendend is generated and can have a lot of elements that need javascript work

            //this simmulates the html append
            $('#test').append('<li>click</li>');

            //in my proposed solution the function that attachs the HTML will recur all children of the attached element and trigger a custom event
            $('#test').children().trigger("myLoaded");
        });

        //all jquery functions that usually are called like:
        //$('LI').css('color','red');
        //are called inside the focus event
        //this functions could be anywhere and I don't need to know them prior to the ajax load        
        $(document).on("myLoaded","li", function(){             
            $(this).css('color','red');
        }); //(note 1)

        //Trigger the custom event once to paint red the first element
        $('LI').trigger('myLoaded'); //(note 2)
    });
</script>
</head>
<body>
<ol id="test"><li>click</li></ol>
</body> 
```

你可以在这里试试。

[http://jsfiddle.net/THHNS/33/](http://jsfiddle.net/THHNS/33/)

@charlietfl 建议可以将（注 2）中的触发器链接到（注 1）中的声明，但我无法使其工作。我相信无论如何都可以用更少的线来完成。但我想这个解决方案足以让我的代码组织在我正在工作的一页完整 ajax 加载项目中。

谢谢大家！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T09:39:49.820

这不会解决你所有的困境，但是一旦你创建了一个自定义事件，你也可以在同一个链中立即触发它，允许你对插件进行简单的设置，在页面加载时激活并准备好在 ajax 成功中使用

```
 $('OL').delegate("li","load",function(){
        $(this).css('color','red');
    }).trigger('load'); 
```

# javascript - 为什么这个 JavaScript cookie 不起作用？

> ID：11185971
> 
> 赞同：-1
> 
> 时间：2012-06-25T08:39:37.010
> 
> 标签：javascript, jquery, html, css, cookies

我知道这段代码可以正常工作，在重新排列由其他代码组成的 div 元素时，我一定是不小心更改了某些内容，因此它现在似乎不起作用。如果有人对此有所了解，我将不胜感激。我需要“显示：无；” 在窗口 div 上？抱歉我不记得了。

```
<script type="text/javascript">
    $(document).ready(function() {
     // If the 'hide cookie is not set we show the message
      if (!readCookie('hide')) {
        $('#window').show();
      }
      // Add the event that closes the popup and sets the cookie that tells us to
      // not show it again until one day has passed.
      $('#close').click(function() {
        $('#window').hide();
        createCookie('hide', true, 1)
        return false;
      });
    });
    // ---
    // And some generic cookie logic
    // ---
    function createCookie(name,value,days) {
      if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
      }
      else var expires = "";
      document.cookie = name+"="+value+expires+"; path=/";
    }
    function readCookie(name) {
      var nameEQ = name + "=";
      var ca = document.cookie.split(';');
      for(var i=0;i &amp;amp;amp;amp;amp;amp;amp;amp;lt; ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
      }
      return null;
    }
    function eraseCookie(name) {
      createCookie(name,"",-1);
    }
    </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:53:28.907

您的 for 循环条件有问题。

它应该是

```
 for(var i=0;i<ca.length;i++) 
```

# php - 排序多维数组

> ID：11185973
> 
> 赞同：1
> 
> 时间：2012-06-25T08:39:39.747
> 
> 标签：php, arrays

这是一种情况：

蒂姆、罗伯和吉姆住在一起。吉姆有一把吉他，他卖给了蒂姆。吉姆用这笔钱买了一双新的时髦鞋。Rob 不小心弄坏了 Tim 的吉他（他是从 Tim 那里买的），在这之后，Rob 送给愤怒的 Tim 一把玩具吉他，Tim 没有时间就弄坏了。

这是在房间里完成的一系列活动，最新的活动在前。

```
$all_users_activities = array( 
    case1 => array(username =>'Tim', activity => 'broken', object_type => 'toy', objectname=> 'Guitar'),
    case2 => array(username =>'Rob', activity => 'gifted', object_type => 'toy', objectname=> 'Guitar'),
    case3 => array(username =>'Rob', activity => 'broken', object_type => 'music', objectname=> 'Guitar'),
    case4 => array(username =>'Tim', activity => 'bought', object_type => 'music', objectname=> 'Guitar'),
    case5 => array(username =>'Jim', activity => 'bought', object_type => 'fashion', objectname=> 'shoes'),
    case6 => array(username =>'Jim', activity => 'sold', object_type => 'music', objectname=> 'Guitar')
    ); 
```

现在，我想根据以下方式对这些数据进行排序：

1.  用户名
2.  objectname（其中 'object_type' 相同：'toy''guitar' 与 'music''guitar' 不同）
3.  活动

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-25T08:45:14.973

看一下这个

```
function aasort (&$array, $key) {
    $sorter=array();
    $ret=array();
    reset($array);
    foreach ($array as $ii => $va) {
        $sorter[$ii]=$va[$key];
    }
    asort($sorter);
    foreach ($sorter as $ii => $va) {
        $ret[$ii]=$array[$ii];
    }
    $array=$ret;
    echo "<pre>";
    print_r($array);
}
$all_users_activities=array( 
    case1 => array('username' =>'Tim', activity => 'broken', object_type => 'toy', objectname=> 'Guitar'),
    case2 => array('username' =>'Rob', activity => 'gifted', object_type => 'toy', objectname=> 'Guitar'),
    case3 => array('username' =>'Rob', activity => 'broken', object_type => 'music', objectname=> 'Guitar'),
    case4 => array('username' =>'Tim', activity => 'bought', object_type => 'music', objectname=> 'Guitar'),
    case5 => array('username' =>'Jim', activity => 'bought', object_type => 'fashion', objectname=> 'shoes'),
    case6 => array('username' =>'Jim', activity => 'sold', object_type => 'music', objectname=> 'Guitar')
    );
aasort($all_users_activities,"username"); 
```

# forms - 在基于 POST 的表单 HTML 表单中，“action”应该指向什么 URL

> ID：11185974
> 
> 赞同：2
> 
> 时间：2012-06-25T08:39:42.400
> 
> 标签：forms, http, rest, post

HTML 规定 Web 表单可以使用“GET 和”POST“方法，因此交互式 Web 应用程序在想要修改现有资源时必须使用其中之一。HTTP 标准在 POST 上说服务器应该接受“ *...一个新的从属Request-URI 标识的资源...* "

因此，只要表单不创建新对象，我们就必须在技术上违反标准，哦，好吧。但是最不坏的方法是什么？

1.  始终访问下属： `POST /hounds/ {id="rover", ...}`创建或修改“/hounds/rover”
2.  始终直接访问：`POST /hounds/rover {...}`创建或修改“/hounds/rover”
3.  创建下属，但直接修改。所以你按照1中创建，按照2中修改。如果客户端尝试错误操作，则报告错误。
4.  支持 1\. 和 2 两种操作都不会出错。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-16T05:57:34.227

选项 2 `POST /hounds/rover?_method=PUT`：。

由于 HTML 不支持所有指定或扩展的 HTTP 动词，因此必须使用类似的变通方法。

# jquery - NodeJS jQuery“.find”方法无法解析包含“”的元素

> ID：11185977
> 
> 赞同：2
> 
> 时间：2012-06-25T08:40:03.617
> 
> 标签：jquery, html, node.js, find, selector

当我`$(something).find()`在 NODEJS 中使用时，当内容包含`&nbsp;`在里面时它会出错。像这样的错误：

```
node.js:201
        throw e; // process.nextTick error, or 'error' event on first tick
              ^
Error: Syntax error, unrecognized expression: &nbsp;
    at Function.error (/project_path/jquery.min.js:3:15266) 
```

*   它适用于`NOT`包含`&nbsp;`内部的内容。诡异的！
*   我怎样才能让它工作？:(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T17:05:49.613

您不能通过将 jquery javascript 文件放在节点项目中并在代码中使用它来直接使用 Jquery。因为 node.js 中没有 DOM（因为它基本上是服务器应用程序）。

您必须通过以下方式在服务器上安装 jquery：

```
npm install jquery 
```

它安装 node-jquery：[https](https://github.com/coolaj86/node-jquery) ://github.com/coolaj86/node-jquery ，
依赖 jsdom：[https](https://github.com/tmpvar/jsdom) ://github.com/tmpvar/jsdom和 htmlparser：[https ://github.com/tautologistics/node- html解析器](https://github.com/tautologistics/node-htmlparser)。

基本上，这些依赖项将为 jquery 创建假 DOM 以供使用。
理想情况下，您不应该在服务器上需要 jquery。

# svn - SVN-add 和 undo-add，有什么用？

> ID：11185979
> 
> 赞同：0
> 
> 时间：2012-06-25T08:40:09.073
> 
> 标签：svn, version-control, add

我是 SVN 的新手。SVN-add 是为了“准备要集成到 SVN 中的文件”，对吧？但是如果我希望它有效地集成到版本控制中，我必须提交它（在我执行 SVN-commit 时打勾）。那么我为什么要撤消添加（如果在提交后验证文件集成之前添加没有任何后果）？

另外，你能告诉我一些使用 SVN 的好参考吗？

谢谢并恭祝安康。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-13T14:23:09.217

我使用下一个 svn 命令，最后带有文件/s 名称：

```
svn del --keep-local 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-25T08:46:33.330

您添加了一个文件，然后认为您犯了一个错误，并且您真的不想将它添加到 SVN。因此，您在提交之前撤消添加（即恢复工作副本中的更改）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T08:46:29.487

您在 SVN 中进行的每个操作都是在您的工作区中本地进行的。

如果您不想提交新添加的文件，则应“取消”此添加，以获得干净的工作空间。这是“撤消添加”的目标。

这是一个关于 SVN 的非常好的讲座：http: [//svnbook.red-bean.com/](http://svnbook.red-bean.com/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-27T22:19:28.890

> 那么我为什么要撤消添加（如果在提交后验证文件集成之前添加没有任何后果）？

确实，如果您从不提交该文件，您将永远不会看到它被添加到您的 SVN 存储库中。但是不要考虑“准备集成”，而要考虑“将文件置于版本控制之下”。这意味着如果您在文件夹级别而不是文件级别执行 SVN 操作，您可以确保只有您有意更新的文件被触及。

如果您执行**svn up docs/**，并且您的本地文件夹包含与存储库中的文件同名的文件，则 svn 会抱怨。如果您的本地文件受版本控制，它可以将两者完全合并在一起，而您不会注意到。

同样，如果您想将整个文件夹提交到存储库，您会很高兴任何未明确标记为包含的文件（例如**.lck**或**.ds store**）不会被错误提交 - 充其量会导致不必要的混乱和最坏的情况是导致团队中的开发人员之间发生冲突。

在这种情况下，不使用 'undo-add' 意味着任何更高目录级别的 svn 提交都会将此文件添加到存储库中。可能在你忘记做'svn add'开始很久之后:)

# c# - 如何在任何分辨率下找到屏幕中心

> ID：11185980
> 
> 赞同：3
> 
> 时间：2012-06-25T08:40:26.687
> 
> 标签：c#, winforms

如何在任何分辨率下找到屏幕中心？

我希望我的程序出现在屏幕中间 -10（在 y 轴上）。

（我的程序不是最大尺寸）

我在 WinForm 中使用 C#。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-25T08:43:28.397

您可以将[`StartPosition`](http://msdn.microsoft.com/en-us/library/system.windows.forms.form.startposition.aspx)主 WinForm 的属性设置为`CenterScreen`. 然后，如果您希望它以某种方式出现在相对于此屏幕中心的不同位置，您可以使用[`Top`](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.top.aspx)and[`Left`](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.left.aspx)属性来添加或减去所需的像素数。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-25T08:46:41.493

但是，我会接受@DarinDimitrov 的建议……如果您需要知道屏幕边界：

```
System.Windows.Forms.Screen.PrimaryScreen.Bounds 
```

或者，考虑到任务栏：

```
System.Windows.Forms.Screen.PrimaryScreen.WorkingArea 
```

...或一些变体

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-25T08:45:14.310

这可能会帮助你

```
private void center_Load(object sender, System.EventArgs e)
{
// Position the Form on The screen taking in account
the resolution
//
Rectangle screenRect = Screen.GetBounds(Bounds);
// get the Screen Boundy
ClientSize = new Size((int)(screenRect.Width/2),

(int)(screenRect.Height/2)); // set the size of the form
Location = new
Point(screenRect.Width/2-ClientSize.Width/2,

screenRect.Height/2-ClientSize.Height/2); // Center the Location of
the form.
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T08:45:22.037

你应该可以这样做：

```
var screensize = Screen.PrimaryScreen.Bounds;
var programsize = Bounds;
Location = new Point( (screensize.X-programsize.X)/2,
                                  (screensize.Y-programsize.Y)/2 - 10 ); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-26T13:56:44.933

尝试这个：

```
new Point((this.Width + this.Location.X) / 2 - popupControlContainer1.Width / 2,
          (this.Height + this.Location.Y) / 2 - popupControlContainer1.Height / 2) 
```

希望能帮助到你

# c# - 使用 Freeimage api

> ID：11185985
> 
> 赞同：4
> 
> 时间：2012-06-25T08:40:55.933
> 
> 标签：c#, asp.net, freeimage

我正在尝试使用 freeimage 来调整 iamges 的大小并确保它们仍在 cmyk 中。

但是，我一直在使用 freeimage 的最基本步骤上停下来，我找不到有关此问题的任何答案或类似问题。

[我从这个站点http://freeimage.sourceforge.net/download.html](http://freeimage.sourceforge.net/download.html)下载了 freeimage dll ，并尝试引用 dist 文件夹中的 dll。这给了我一个错误说：“找不到类型库”

我尝试将库项目引用到我的项目中，这让我可以添加“使用 FreeImageAPI”和位图类型，但是当我构建我的项目时，我得到了 40 个错误：

```
"Error  20  Warning as Error: XML comment on 'FreeImageAPI.RGBQUAD.Equals(FreeImageAPI.RGBQUAD)' has a paramref tag for 'obj', but there is no parameter by that name" 
```

最后，我尝试在 wrapper 文件夹中运行解决方案，以查看其中的示例。但是构建此解决方案会产生与上述类似的近 500 个错误。

我错过了一些完全明显的东西吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-27T21:44:05.193

该错误必须归因于包装库将警告视为错误。由于项目设置，XML 文档并不完整，并且会生成此文档。

转到库项目的项目选项（Alt-Enter 或右键单击 -> 属性）并在“将警告视为错误”下选择“无”，如下图所示：

![FreeImage 项目，将警告作为错误禁用](../Images/bb1e9cd254434e40ab0025d026fb13cd.png)

这将允许您在没有导致错误的 XML 注释的情况下构建项目

# android - Android 用户界面设计 - 集成它的最佳方式？

> ID：11185990
> 
> 赞同：0
> 
> 时间：2012-06-25T08:41:20.947
> 
> 标签：android, user-interface

对于必须在应用程序中实施的设计，我需要一些建议。这是它应该看起来的样子（抱歉图像的低分辨率，但这是我现在所拥有的）。

![用户界面](../Images/069d878cb074634c7a5e7268914f0384.png)

所以设计的基本思想是：
我有一个 UI 组件，在我的情况下，我将使用 ProgressBar（带有红色填充的那个），它将保存有关某种用户数据的信息。例如，如果用户有歌曲列表，则进度条的最大值将是所有歌曲的数量，并且进度将由正在播放的曲目设置。如果我有 56 首歌曲并且我正在播放其中的第 23 首，则将根据该整数计算进度。进度条上方的点会指示我喜欢或不喜欢的歌曲。例如，如果我正在播放第 23 首歌曲并且它在我的收藏夹中，那么进度条上方的同一位置应该有一个点。

所以我的问题是，我应该使用什么 UI 组件在进度条上方添加点。我在考虑`RelativeLayout/LinearLayout/FrameLayout`，但据我所知，它们没有我可以执行的功能：坐标`layout.addView(view, x, y);`位置`x`和`y`坐标。还是这样做的正确方法？也许有更好的方法来做我想要实现的事情。使用其他`SubClass`一些`View`.

欢迎任何形式的帮助/建议/建议！

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T08:53:24.090

1.  在 Android 上，完全不建议使用特定值来定义布局位置（除非您使用屏幕尺寸作为参考）

2.  如果 FILL_PARENT 和 WRAP_CONTENT 不起作用，请始终使用 DP（与密度无关的像素）来定义间距和位置。

在 android 中，根据复杂性和需要，有不同类型的布局可以帮助您遵循上述规则。

在您的情况下，我建议使用垂直方向的线性布局，例如：

```
<LinearLayout>
<CustomView/>
<ProgressBar />
</LinearLayout> 
```

所以自定义视图实际上会有点。

因此，您可以为自定义视图扩展具有水平方向的 LinearLayout。有一个名为 weight 的参数，您可以将其设置为其每个子视图，这会将子视图的宽度（在您的情况下）设置为总布局宽度的特定百分比。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T08:49:26.320

您可以使用 RelativeLayout 来实现您所需要的。通过设置RelativeLayout 的上边距和左边距，您可以让您的子视图在布局中原点(x,y) 处查看algin。

```
 RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT, 
                                                                        RelativeLayout.LayoutParams.WRAP_CONTENT);
    params.leftMargin = x;
    params.topMargin = y;
    view.setLayoutParams(params); 
```

# linux - imagemagick 自动编号从 1 开始

> ID：11185993
> 
> 赞同：18
> 
> 时间：2012-06-25T08:41:36.120
> 
> 标签：linux, shell, imagemagick

我可以这样做来批量调整大小和重命名子文件夹中的图像：

```
convert '*.jpg' -resize 256 small/image_%02d.jpg 
```

它将创建从`image_00.jpg`

我的问题是，由于外部服务的导入规则，**我需要从** `image_01.jpg`

IM 允许吗？

否则，这是实现这一目标的最聪明方法？

我会`ls`反转`sort`然后重命名添加`1`

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-06-25T10:09:05.963

我从未尝试过，但记得读过一些关于 -scene 的内容。

```
convert '*.jpg' -resize 256 -scene 1 small/image_%02d.jpg 
```

-场景价值

设置场景编号。

此选项设置图像的场景编号或图像序列中的第一张图像。

# mysql - MySQL 存储浮点数

> ID：11185997
> 
> 赞同：5
> 
> 时间：2012-06-25T08:42:07.367
> 
> 标签：mysql, floating-point, latitude-longitude

我正在尝试保存一个这么长的浮点数

> 13.00386644742523

它基本上是 Lat 和 Lng 值。当我将它保存在数据库中时，它被存储为

> 13.0039

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-25T08:47:08.900

`DECIMAL` **您应该明确使用精度，并且类型不** 应该是`FLOAT` 因为小数点后的每个数字都很重要，并且您不能因为四舍五入而允许更改它们。

```
`lat`  DECIMAL(16,14) 
```

阅读[手册](http://dev.mysql.com/doc/refman/5.0/en/floating-point-types.html)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-25T08:47:54.597

根据经验，我为从 ARINC424 构建的导航数据库执行此操作，并最终使用 DECIMAL(18,12) 以弧度存储值。

*注意*：浮点数和双精度数不那么精确，可能会导致舍入错误

关键是，当使用度数或弧度时，我们知道值的范围——小数部分需要最多的数字。

最好的方法是使用[MySQL Spatial Extensions](http://dev.mysql.com/doc/refman/5.0/en/spatial-extensions.html)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-25T08:47:42.733

我认为该列的[数据类型](http://dev.mysql.com/doc/refman/5.5/en/floating-point-types.html)定义为`Float(N,4)`其中 N 是数字，4 是允许的小数位数。这就是它舍入存储值的原因。

存储 Lat/Long 的最佳方式是使用[空间数据类型](https://dev.mysql.com/doc/refman/8.0/en/spatial-type-overview.html)。POINT 几何类型将保存您的值

# php - Uploadify：如果检测到重复，则获取文件 id 并取消上传

> ID：11185998
> 
> 赞同：0
> 
> 时间：2012-06-25T08:42:11.207
> 
> 标签：php, jquery, uploadify

我在我的网站上运行uploadify。它按预期工作，但如果我检测到正在上传的文件已经在系统中，我希望它自动取消上传。

我在数据库中有一个表，记录了所有上传的文件。我可以找到该文件名，如果匹配，我会告诉uploadify 取消该文件。

说了这么多，我对如何告诉uploadify自动取消感到困惑。

我会使用事件 onUploadStart 来检查文件名是否存在于数据库中。然后我会使用文档中指示的取消方法。问题在于如何获取活动文件的文件 ID。

```
$('#file-upload').uploadify({
                'checkExisting' : '<? echo base_url('source/upload/check-exists.php'); ?>',
                'swf'      : '<? echo base_url('source/upload/uploadify.swf'); ?>',
                'uploader' : '<? echo base_url('source/upload/uploadify.php'); ?>',
                'fileTypeDesc' : 'PDF Files',
                'fileTypeExts' : '*.pdf',
                'onUploadComplete' : function (file) {
                    var fileid = file.id;
                    $(this).uploadify('cancel');
                }
                // Put your options here
            }); 
```

我不确定我做的是否正确。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T16:28:49.707

您可以使用[**`checkExisting`**](http://www.uploadify.com/documentation/uploadify/checkexisting/)uploadify 的选项。

根据官方文档：

> 检查目标文件夹中当前是否存在正在上传的文件名的文件的路径。如果文件名存在，脚本应该返回 1，如果文件名不存在，脚本应该返回 0。

上传后取消/删除文件是一项开销。使用`checkExisting`您可以验证数据库中是否存在文件并返回适当的值（ 1 或 0 ）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-29T08:38:02.833

> 只需编辑这些行

```
'onUploadComplete' : function (file) {
                    $('#file-upload').uploadify('cancel',''+file.id+'');
                } 
```