# StackOverflow 问答 1022000-1022999

# linux - msginit 电子邮件地址命令行参数？

> ID：1022003
> 
> 赞同：6
> 
> 时间：2009-06-20T16:49:23.117
> 
> 标签：linux, internationalization, gettext

msginit 提示输入电子邮件地址。有没有一种方法可以告诉 msginit 使用哪个电子邮件地址而无需提示，例如命令行参数？

```
cat >hellogt.cxx <<EOF
// hellogt.cxx
#include <libintl.h>
#include <locale.h>
#include <iostream>
int main (){
    setlocale(LC_ALL, "");
    bindtextdomain("hellogt", "./");
    textdomain( "hellogt" );
    std::cout << gettext("hello, world!") << std::endl;
}
EOF
g++ -ohellogt hellogt.cxx
xgettext -d hellogt -o hellogt.pot hellogt.cxx
msginit -l es_MX -o spanish.po -i hellogt.pot 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2009-06-20T17:05:43.750

您的问题是由于`msginit`使用`/usr/lib64/gettext/user-email`提示您的电子邮件。如果您改为`msginit`使用该`--no-translator`选项运行，它应该假定它正在以非交互方式运行并且不会提示您：

```
msginit --no-translator -l es_MX -o spanish.po -i hellogt.pot 
```

# eclipse - 为什么 GWT、Eclipse 和 Java 1.6.0_14 忽略了我的断点？

> ID：1022007
> 
> 赞同：4
> 
> 时间：2009-06-20T16:51:54.207
> 
> 标签：eclipse, gwt

升级到 Java 1.6.0_14 后，Eclipse 中的 GWT 应用程序不再在断点处停止，即使 Eclipse 显示断点处于活动状态。这个问题有解决方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-20T16:55:51.253

这是[GWT](http://code.google.com/p/google-web-toolkit/issues/detail?id=3724)和[Eclipse](https://bugs.eclipse.org/bugs/show_bug.cgi?id=279137)的一个已知问题。当前推荐的解决方法是[使用 Java 1.6.0_13 进行调试](http://gbacon.blogspot.com/2009/06/gwt-not-hitting-breakpoints-in-hosted.html)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-23T17:18:27.423

该错误通常发生在 JDK 1.6.0_14 中，可能与 GWT 无关。Swing 应用程序之前也遇到过类似的问题。以下是一些相关链接：

[Eclipse SWING 应用程序：仅在抛出未捕获的异常后才命中断点](https://stackoverflow.com/questions/1027002/eclipse-swing-app-breakpoint-hit-only-after-an-uncaught-exception-is-thrown)

[https://bugs.eclipse.org/bugs/show_bug.cgi?id=279137](https://bugs.eclipse.org/bugs/show_bug.cgi?id=279137)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-08-21T23:22:01.593

[JDK 早期版本 6u18](http://jdk6.java.net/6uNea.html)修复了这个问题 - 终于！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2011-04-20T20:03:49.483

好吧，我遇到了这个问题，发现它为什么不起作用。

首先请检查调试参数中列出的所有模块是否包含入口点，这意味着您在 Module.gwt.xml 中声明了`<entry-point/>`声明。如果调试参数中至少包含一个模块但它没有入口点，则 eclipse 插件调试将不起作用。（一定有）

还要检查带有值的参数“-startupUrl”是否位于调试参数中列出的模块之前。（很高兴有）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-08-26T20:39:00.710

我遇到了同样的问题并安装了最新版本（JDK 1.6.0_16），现在已修复。1.6.0_16 中修复的错误之一是断点不起作用。

——克里斯·诺瓦克

# c# - 和弦有什么用？

> ID：1022014
> 
> 赞同：3
> 
> 时间：2009-06-20T16:56:23.997
> 
> 标签：c#, .net, nemerle, chord

Nemerle 等语言支持和弦的概念。我想知道它们的实际用途是什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-21T02:37:59.173

和弦用于并发。该定义可[在此处](http://research.microsoft.com/en-us/um/cambridge/projects/comega/doc/comega_whatis.htm)获得。

您正在寻找的位：

> 在包括 C# 在内的大多数语言中，类签名中的方法与其实现的代码是双射对应的——对于声明的每个方法，都有一个单独的、不同的定义来说明调用该方法时会发生什么。然而，在 Cω 中，主体可能与一组（同步和/或异步）方法相关联。我们把这样的定义称为和弦，一个特定的方法可能出现在几个和弦的标题中。和弦的主体只能在其标头中的所有方法都被调用后才能执行。因此，当调用一个方法时，可能会启用零个、一个或多个和弦：
> 
> 如果没有启用和弦，则方法调用将排队。如果该方法是异步的，那么这只需将参数（消息的内容）添加到队列中。如果方法是同步的，则调用线程被阻塞。如果有一个启用的和弦，则匹配中涉及的调用的参数被取消排队，匹配中涉及的任何阻塞线程都被唤醒，并且主体运行。当一个只涉及异步方法的和弦运行时，它会在一个新线程中运行。如果启用了多个和弦，则选择其中未指定的一个来运行。类似地，如果对特定方法的多个调用排队，我们不会指定在匹配时哪个调用将出队。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-20T17:07:50.753

[至少根据 [Wikipedia]( http://en.wikipedia.org/wiki/Chord_(concurrency)](http://en.wikipedia.org/wiki/Chord_(concurrency)) )，该结构似乎也存在于[Cω](http://en.wikipedia.org/wiki/C%CF%89)语言（以及 Polyphonic C#）中。

*和弦*的主要用途似乎涉及数据库编程（更具体地说，[连接演算](http://en.wikipedia.org/wiki/Join_calculus)），鉴于它是一种并发构造，这并不奇怪。更何况，恐怕我不知道。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2011-03-08T08:55:28.750

试试 Nemerle 计算表达式：

[https://code.google.com/p/nemerle/source/browse/nemerle/trunk/snippets/ComputationExpressions/](https://code.google.com/p/nemerle/source/browse/nemerle/trunk/snippets/ComputationExpressions/)

一些例子：

```
 def upTo (n : int)
  {
    comp enumerable
    {
      mutable i = 0;
      while (i < n)
      {
        i ++;
        yield i
      }
    }
  }

  def manyTimes : IEnumerable [int] =
    comp enumerable
    {
      yieldcomp upTo(2);   // 1 2
      yield 100;           // 100
      yieldcomp upTo(3);   // 1 2 3
      yield 100;           // 100
      yieldcomp upTo(10);  // 1 2 3 .. 10
    } 
```

* * *

```
def fn(n)
  {
    comp async
    {
      if (n < 20)
        returncomp fn(n + 1);
      else
        return n;
    }
  }
  def f(n1, n2)
  {
    comp async
    {
      defcomp n1 = fn(n1);
      defcomp n2 = fn(n2);
      return $"$n1 $n2";
    }
  } 
```

* * *

```
private HttpGet(url : string) : Async[string]
{
  comp async
  {
    def req = WebRequest.Create(url);
    using (defcomp resp = req.AsyncGetResponse())
    using (stream = resp.GetResponseStream())
    using (reader = StreamReader(stream))
      return reader.ReadToEnd();
  }
} 
```

这里还有一些例子：（虽然文章是俄语但代码是英语:)）[http://habrahabr.ru/blogs/programming/108184/](http://habrahabr.ru/blogs/programming/108184/)

# iphone - 具有自定义 UINavigationBar 大小的 UITableView“自动调整大小”

> ID：1022021
> 
> 赞同：0
> 
> 时间：2009-06-20T17:00:59.687
> 
> 标签：iphone, cocoa-touch, uitableview, uinavigationbar

导热油？

我是 iphone SDK 的新手。对于导航栏和适用（来自NIB），例如。一个空的/新的基于导航的应用程序，在不剪切/重叠 uitableview 的情况下更改 uinavigationbar 高度的最佳方法是什么？我基本上只需要向下移动uitableview，我现在已经尝试了几乎所有东西。

Q1）最好使用例如。`navigationBar.frame = CGRectMake(0, 20, 320, 88);`还是我应该`navigationBar.bounds`改用？

Q2）你设置`tableView.bounds`还是`.frame`使用`CGRectMake`？还是我忽略了一些明显的东西？

我也尝试过不同的`autoresizingMask`组合

来吧人民！这应该很容易。我在这里做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-20T21:37:58.997

UINavigation 有一个固定的大小——它不容易改变，如果你改变它可能会违反 Apple 的 HIG。

除此之外，我不完全确定你在问什么。导航栏是否遮挡了表格视图的顶部？如果是这种情况，只需在表格视图上方留出 44 像素的空间。如果这不起作用，或者您的表格视图没有嵌入到另一个视图中，您可以在表格视图上设置 contentInset 属性，以显式地在表格视图的滚动视图顶部与表格视图中的内容之间留出空间。

# php - 有简单的、开源的、对学习友好的网络应用程序吗？

> ID：1022028
> 
> 赞同：2
> 
> 时间：2009-06-20T17:06:21.817
> 
> 标签：php, asp.net, open-source

我想知道我是否可以通过研究现有的功能更简单的开源应用程序来学习 ASP.net 或其他 Web 编程框架。例如，MediaWiki 的复杂性不高等等。可能是“简单论坛”或“简单网上商店”之类的东西。一些重要的东西并展示了有用的功能，但不会过于复杂并且难以理解功能膨胀。

那么，人们可以推荐一些此类应用程序进行学习吗？有人知道 ASP.net 中的一些简单的论坛应用程序对于经验丰富的程序员来说是一个很好的学习工具吗？或者类似的用于研究 PHP、JavaEE 和/或其他流行 Web 框架的优秀开源应用程序？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-06-20T17:10:57.490

FOR RUBY：除了 Ruby On Rails，看看

[Ramaze - Zen and the Art of Programming](http://antoniocangiano.com/2008/01/08/ramaze-a-ruby-framework-that-will-amaze/) (名字来自 Ruby Amaze..) Ramaze 主页在[Ramaze Home](http://ramaze.net/features)

对于 ASP.NET

[BlogEngine.net](http://www.dotnetblogengine.net/) 是一个很好的学习代码库。

同样，对于初学者，您可以参考其中的一些项目

[ASP.NET 社区项目](http://www.asp.net/community/projects/)，其中一些相当不错。这也参考了论坛应用程序。

Stephen Walther 有一篇关于在 ASP.NET MVC 中创建论坛应用程序的好帖子，您可以在此处找到 [论坛应用程序开发](http://stephenwalther.com/blog/archive/2008/09/05/asp-net-mvc-application-building-forums-1-create-the-perfect-application.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-20T17:12:26.067

大多数编程语言中有许多 Web 应用程序框架：

*   [CakePHP](http://cakephp.org/)
*   [催化剂](http://www.catalystframework.org/)
*   [姜戈](http://www.djangoproject.com/)
*   [导轨](http://rubyonrails.org/)

所有人都擅长快速完成工作。他们中的大多数都有截屏视频，可以引导您完成代码到成熟的 Web 应用程序。我认为您应该检查这些截屏视频。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-06-20T17:15:10.730

对于 Ruby on Rails 框架，此站点列出了一些开源应用程序： [http ://www.opensourcerails.com](http://www.opensourcerails.com/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-20T17:43:45.497

不同的框架有很大的不同。一个应用程序不会帮助您学习另一个框架，因此您可能需要先确定框架。通常，最好的框架介绍是它的教程，因为它们倾向于按逻辑顺序学习概念，而仅仅阅读代码要么难以理解，要么容易产生误解，从而给你以后的错误想法将不得不“忘记”。

我知道的一些非常容易上手的框架是 RubyOnRails、Django 和 Grok。

# jquery - jgGrid 不尊重我的 imgpath

> ID：1022034
> 
> 赞同：0
> 
> 时间：2009-06-20T17:09:50.173
> 
> 标签：jquery, asp.net-mvc, jqgrid

我正在尝试使用 jqGrid，但它不尊重 imgpath，它始终默认为

```
"\themes\default\images" 
```

我正在设置：

```
imgpath: "..\..\Content\themes\default\images"; 
```

但它不尊重这一点并使用默认路径，我错过了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-09-25T12:15:19.163

我错误地下载了一个古老版本的 jqGrid (v0.01)，它的所有内容都是硬编码的，这就是它不起作用的原因。

# apache - Apache HTTP Web 服务器请求

> ID：1022039
> 
> 赞同：1
> 
> 时间：2009-06-20T17:11:33.400
> 
> 标签：apache, concurrency, fastcgi

当 Apache Web 服务器处理一个 http 请求时，它通常会派生一个新进程，除非使用的是 fastcgi 之类的东西。

我的问题与使用 fastcgi 时的“同时请求”有关。

如果我正在使用 fastcgi 并且我在主内存中有一个树状数据结构，我是否需要担心对树的并发读/写访问？

或者我可以仅仅依靠请求按到达顺序处理的事实。

如果一个请求试图访问磁盘并且它被阻塞了怎么办？其他请求是否已处理或是否在队列中等待？

如果我不使用 fastcgi，事情似乎更清楚，因为我必须从数据库重新加载树数据结构来操作它，然后将其写回数据库 - 不需要并发。

本质上，我是否需要担心使用 Apache 对我的主内存数据结构进行多次读取/写入？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-06-20T17:29:11.303

> 当 Apache Web 服务器处理 http 请求时，它通常会创建一个新进程

不，通常预分叉进程之一接受连接并执行它。没有按请求分叉

如果你的 FastCGI 应用程序是单线程的，你不应该担心并发性，如果你在 mod-prefork 中运行也是如此。但是如果你在共享内存中管理你的数据结构，你应该担心并发性。

# xhtml - 为什么嵌套在 p 中的表单不验证为 XHTML

> ID：1022041
> 
> 赞同：32
> 
> 时间：2009-06-20T17:13:18.670
> 
> 标签：xhtml, forms

以这个 XHTML 片段为例：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>A webpage</title>
</head>
<body>
  <p>
    <form action="something.php" method="get">
      <input type="submit" value="Hello"/>
    </form>
  </p>
</body>
</html> 
```

树应该是有效的，但是这不会在浏览器中正确解析。

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2009-06-20T17:18:53.017

[查看使用http://validator.w3.org](http://validator.w3.org)尝试时收到的错误消息

除了没有指定字符编码的警告（因此假设为 UTF-8）之外，主要错误是 a`<p>`不允许包含非内联内容。您可以完全删除`<p>`and `</p>`，或者将它们移动到`<form>`.

至于“为什么”，这是因为它是在模式中定义的，该模式定义了什么是有效的 XHTML，什么是无效的 XHTML。如果您查看[XHTML 定义的这一部分，](http://www.w3.org/TR/2001/REC-xhtml-modularization-20010410/abstract_modules.html#s_textmodule)您会发现`<p>`它只允许包含文本或“内联”（而不是“块”）标签。但是，a[`<form>`](http://www.w3.org/TR/2001/REC-xhtml-modularization-20010410/abstract_modules.html#s_extformsmodule)算作“块”内容而不是“内联”内容。

换句话说，一个表单可以包含段落，但一个段落不能包含表单。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-20T17:16:09.590

据此[，](http://validator.w3.org/)因为：

> 第 8 行，第 44 列：文档类型在此处不允许元素“表单”；缺少“object”、“ins”、“del”、“map”开始标签之一 ✉ 所提到的元素不允许出现在您放置它的上下文中；其他提到的元素是唯一允许在那里并且可以包含提到的元素的元素。这可能意味着您需要一个包含元素，或者您可能忘记关闭前一个元素。
> 
> 此消息的一个可能原因是您试图将块级元素（例如“p”或“table”）放入内联元素（例如“a”、“span”或“font”）。
> 
> 第 9 行，第 40 列：文档类型在此处不允许元素“输入”；缺少“p”、“h1”、“h2”、“h3”、“h4”、“h5”、“h6”、“div”、“pre”、“address”、“fieldset”、“ins”之一, "del" start-tag input type="submit" value="Hello" 提到的元素不允许出现在你放置它的上下文中；其他提到的元素是唯一允许在那里并且可以包含提到的元素的元素。这可能意味着您需要一个包含元素，或者您可能忘记关闭前一个元素。
> 
> 此消息的一个可能原因是您试图将块级元素（例如“p”或“table”）放入内联元素（例如“a”、“span”或“font”）。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2009-06-20T17:18:14.623

尝试使用[W3C 标记验证器](http://validator.w3.org/#validate_by_input)，它会告诉您大多数 (X)HTML 和 CSS 文档的无效内容。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2009-06-20T17:17:28.573

你不能把表格放在段落里。像这样写：

```
<body>
  <form action="something.php" method="get">
  <p>
    <input type="submit" value="Hello"/>
  </p>
  </form>
</body> 
```

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2009-06-20T17:21:52.530

[我通过validator.w3.org](http://validator.w3.org/check)对您的 HTML 代码进行了测试，结果是您需要交换 P 和 FORM 标签才能将其作为有效的 W3C HTML 传递。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>A webpage</title>
</head>
<body>
  <form action="something.php" method="get">
    <p>
      <input type="submit" value="Hello"/>
    </p>
  </form>
</body>
</html> 
```

# iphone - iPhone SDK 多线程

> ID：1022053
> 
> 赞同：0
> 
> 时间：2009-06-20T17:20:13.267
> 
> 标签：iphone, cocoa-touch, multithreading

我正在为我的线程使用单独的 NSAutoReleasePool

```
NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init]; 
[self bulkyFunction]; // time consuming op
[self performSelectorOnMainThread: @selector(doneAll) withObject:nil waitUntilDone:NO];
[pool release]; 
```

我调用了一个分配两个字符串的函数（bulkyFunction）。

```
 currentTitle = [[NSMutableString alloc]init];
    currentSummary = [[NSMutableString alloc]init]; 
```

我使用后释放它们。

该线程被定期调用。但是当它被第二次调用时，访问 currentTitle 崩溃了。

是因为我的 [pool release] 语句释放了 [currentTitle release] 语句已经释放的 currentTitle 吗？因为，如果 [currentTitle release] 被注释掉，就没有问题。但我担心内存泄漏。

请指教。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-06-20T19:07:04.293

`[pool release]``currentTitle`除非你打电话给某个地方，否则不会释放`[currentTitle autorelease]` 。我认为如果您发布完整的`bulkyFunction`.

# logging - 最小开销的分布式事件日志库/框架？

> ID：1022054
> 
> 赞同：5
> 
> 时间：2009-06-20T17:20:33.577
> 
> 标签：logging

我们希望在我们的系统中保留所有重大事件的记录。例如，数据库可能存储当前用户状态，事件日志应记录对该状态的所有更改以及更改发生的时间。

事件记录工具应尽可能接近事件引发器的零开销，应容纳结构化信息（与文本日志消息相反），并应支持分布式部署（许多盒子引发许多事件）。

在过去的生活中，我们有一个基于 UDP 的系统运行良好，因为我们对系统有很好的控制（最小化数据包丢失）。偶数投掷者会发射 UDP 数据包，这些数据包会被其他机器捕获并记录在日志中。我正在寻找类似的东西，希望是开源的，现成的，可部署在更通用的网络中。或者，我对如何构建这样的东西持开放态度。

这应该适用于多种语言，但主要针对 Java 和 Python。参与（事件抛出）的应用程序会有所不同；有些是网络应用程序，有些是面向批处理的应用程序。结果可能会存在于 Hadoop/HDFS/HBase 中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-20T17:23:43.777

如果你想走 UDP 路由（你似乎对此很满意），并且 Java 是一个选项，那么请查看[Log4j](http://logging.apache.org/log4j/1.2/index.html)及其通过[Log4j UDPAppender](http://logging.apache.org/log4j/companions/receivers/apidocs/org/apache/log4j/net/UDPAppender.html)对 UDP 传输的支持。

LoggingEvent 将 java.lang.Object 作为消息，因此它非常通用，您可以将任何您想要的数据放入其中。如果您要通过网络，它应该（很可能）是可序列化的，并且鉴于您需要 UDP，它应该具有相应的大小 - 64k 或更少，然后取决于传输层）。您只需在服务器端拦截 LoggingEvent，然后根据需要处理它。

请注意，UDP appender 是 Log4j 的*配套*组件，您必须自己构建它。但这是微不足道的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-20T18:03:56.997

您可以考虑使用旧的好 *nix Syslog。它的开销非常小，主要用于 UDP 或本地 UNIX 套接字，但如果您需要可靠的日志记录，可以使用 TCP。适用于我的（主要是 Python/Perl，但它*完全*与语言/平台无关）就像一个魅力。

抱歉，我不熟悉 Java，但在功能方面，这似乎是我搜索过的一些不错的库：http: [//syslog4j.org/](http://syslog4j.org/)

**编辑**：快速谷歌搜索发现了一篇名为“[使用 Syslog 进行强大的事件日志记录](http://www.javaworld.com/javaworld/jw-04-2001/jw-0406-syslog.html)”的文章，该文章似乎对这个主题非常详细。抱歉，我在发布时误读了它，并认为它是一个 *nix syslog 库，但事实并非如此。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T17:51:14.817

这听起来像是消息传递的潜在候选者（即发即弃）。我主要是一个 .NET 人，所以不知道有哪些用于 Java 的日志记录框架。但是我快速查看了 log4j 是否有任何消息传递附加程序（我经常使用 log4net）-IBM 有一篇关于[WebSphere MQ JMS appender](http://www.ibm.com/developerworks/websphere/library/techarticles/0207_barcia/barcia.html)的文章，这可能对您有所帮助。

因此，与其将我的回答视为提倡使用 WebSphere MQ，不如将其视为考虑消息传递的建议——那里有很多开源消息传递框架[——RabbitMQ](http://www.rabbitmq.com/)只是一个例子。

# language-agnostic - 什么是类接口？

> ID：1022055
> 
> 赞同：9
> 
> 时间：2009-06-20T17:20:46.523
> 
> 标签：language-agnostic, interface, duplicates

我目前正在通过代码完成工作，“界面”这个词不断弹出！我试图弄清楚接口是什么。你能定义这个词吗？还有什么实际上构成了“类接口”？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2009-06-20T17:24:11.903

我认为定义接口的好方法如下

> 接口是指定一组方法、字段和属性的合同，这些方法、字段和属性可用于任何实现对象

不同语言的实际实现可能有一些有趣的小差异，但原则是成立的。

我考虑将已实现的接口添加到上面的列表中，但因为它似乎有点过于特定于语言，所以将其搁置。我认为这没关系，因为最终效果几乎相同。添加更多接口只是在合约中添加更多方法、字段和属性。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2009-06-20T17:27:04.583

一般来说，接口只是“类在世界其他地方的样子”。

例如，Java 中的这个类：

```
class MyClass {
  private string data;
  private string Foo() {...}
  public void Bar(string s){...}
} 
```

可以说它的界面中只有Bar功能。在内部，它还有一些其他成员，但它们是私有的，因此外部世界看不到它们。

更常见的是，接口也是语言中的特定类型，例如下面的 MyClass 实现了 IMyClass 接口：

```
interface IMyClass {
  public void Bar(string s);
}

class MyClass implements IMyClass {
  private string data;
  private string Foo() {...}
  public void Bar(string s){...}
} 
```

该接口现在用代码表示，因此任何时候需要 IMyClass 类型的变量，都可以使用 MyClass 类型的对象，因为它实现了正确的接口。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-06-20T17:28:10.790

类的接口是其他类可以看到的“公共面孔”。它将类的实现与它与其他类交互的方式分开。这样就可以换出不同的实现，并且其他类不需要知道接口背后的任何内容。

一个接口可以包括数据和函数成员。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-06-20T17:23:09.267

它是世界的外部面孔。通常是它公开的一组公共方法（成员）。

但是从技术上讲，它们将是两件不同的事情

接口将是一个公共合约。例如

```
interface ILogger
{
  void Log(String str);
} 
```

然后一个类将“实现”这个接口——在某种程度上说它提供了这个功能

```
class ConsoleLogger : ILogger
{
  public ConsoleLogger() { ... }
  public void Log(String str)
  {
    Console.WriteLine("Console Logger " + str);
  }
  // private stuff
} 
```

此服务/接口的用户不必关心它是如何实现的或谁在实现它？通过依赖接口，可以随意切换实际的实现。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-06-20T17:25:30.623

接口是类可以实现的一组方法的定义。它主要用于接口多态。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-09-30T04:46:32.663

接口就像一个类，但不完全是。它具有类似于类的特征，但它不是接口。接口具有变量和方法，“就像类一样，但接口中声明的方法默认是抽象的（只有方法签名，没有主体）”。

[http://beginnersbook.com/2013/05/java-interface/](http://beginnersbook.com/2013/05/java-interface/)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-08-24T10:46:52.090

接口有两个定义。这取决于在什么上下文中使用术语接口。

1.  类接口是指一个类的所有实现的公共方法。
2.  接口作为类型。即使用关键字interface 来声明一个接口。

    ```
    interface Movable{ 
        moveStraight();
        moveLeft();
        moveRight();
        stop();
    } 
    ```

    所以现在一个类，比方说，Car 可以实现接口 Movable。这就是所谓的合同。如果 Car 类实现了 Movable 接口，Car 保证为 Movables 声明中声明的所有方法提供实现。

总而言之，通常接口在特定语言的编程上下文中被称为类型（定义 2）。通常在理论或设计环境中，您会在较少的情况下找到第一个定义。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-05-25T00:30:07.213

接口的经典现实生活示例是控制汽车。

休息、加油和车轮将是界面。发动机和其他机械方面将是实施。这些机械方面可以改变，我们不知道，因为我们的界面保持不变。

这就是接口的力量，它隐藏了实现细节，因此我们可以在更高层次的抽象上工作。我们通常可以直接使用接口的功能，而不用担心它下面的代码是如何实现的。

# actionscript-3 - ActionScript 3.0 中的动态变量

> ID：1022065
> 
> 赞同：0
> 
> 时间：2009-06-20T17:23:59.907
> 
> 标签：actionscript-3

所以.... eval() 不可能，有什么想法吗？我也不知道如何在 actionscript 3 中使用“this”表达式或 set()（我似乎找不到任何完整的参考），只是通过 php 文件说一个多变量（test1、test2、test3、. ..) 由“echo”发送，flash 应用程序如何收到它？我试图不在 mysql 上使用 xml 到 php 来闪存应用程序。简单地如何将字符串更改为变量？

例子

（在 as3-actions 框架面板中）

```
function datagridfill(event:MouseEvent):void{
   var varfill:URLVariables = new URLVariables();
   varfill.tell = "do it";
   var filler:URLRequest = new URLRequest();
   filler.url = "http://127.0.0.1/flashdbas3/sendin.php";
   filler.data = varfill;
   var filling:URLLoader = new URLLoader();
   filling.dataFormat = URLLoaderDataFormat.VARIABLES;
   filling.load(filler);
   filling.addEventListener(Event.COMPLETE, datain);

   function datain(evt:Event){
      var arraygrid:Array = new Array();
      testing.text = evt.target.Name2 // worked
      // just say i = 1
      i=1;
      arraygrid.push({Name:this["evt.target.Name"+i],
                      Test:this.["evt.target.Test"+i]}); // error
      //or
      arraygrid.push({Name:this["Name"+i],
                      Test:this.["Test"+i]}); // error too
      // eval() noexistent, set() didn't worked on actions frame panel
      //?????
   }   
}; 
```

我希望它很清楚。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-20T17:50:18.533

如果我理解你的问题，你可以使用 this[varName] 。

因此，如果 varName 是一个包含应该是变量名称的字符串的变量，您可以像这样设置和读取该变量：

```
this[varName] = "someValue";
trace(this[varName]); 
```

更新：

在您的示例中，您可以尝试： evt.target["Test"+i] 而不是 Test:this.["evt.target.Test"+i]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T17:31:44.047

如果您有一组想要与值关联的字符串，标准的 AS3 方法是将对象用作哈希表：

```
var o = {}
o["test1"] = 7
o["test2"] = "fish"
print(o["test1"]) 
```

# .net - Win32 控制台应用程序与 CLR 控制台应用程序

> ID：1022072
> 
> 赞同：22
> 
> 时间：2009-06-20T17:27:14.427
> 
> 标签：.net, c++, visual-studio, debugging, console-application

我正在开发一个我不打算使用 .NET 库或工具开发或部署的 C++ 项目，这意味着使用 Visual Studio Win32 控制台应用程序创建它对我来说是有意义的。但是，我听说在 Visual Studio 下使用 CLR 应用程序时的调试能力要强大得多。所以我有几个问题：

1.  即使您不使用任何 .NET 库或其他资源，拥有 CLR 应用程序与 Win32 应用程序是否会为您的开发过程增加功能？

2.  如果是这样，即使我正在使用 STL 等开发纯 C++ 项目并且不利用任何 .NET 功能，我是否仍然能够将项目开发/编译为 CLR 项目以利用这些项目？或者这样的项目是否需要根本的差异，这将使得恢复变得不那么简单，这意味着我应该坚持使用 Win32 控制台应用程序？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2009-06-20T17:35:02.670

底线答案是，如果您从不打算在应用程序中使用 CLR 或任何 .Net 对象，只需使用普通的 Win32 C++ 库。做任何其他事情都会让你在路上痛苦。

现在，要回答有关调试的原始问题，是的，使用 CLR 进行调试比调试普通 C++ 应用程序具有一定的优势。从 Visual Studio 2005 开始，C# 和 VB.Net 都开始专注于使 locals/autos/watch 窗口中的变量显示更有价值。主要是通过引入 .Net 属性如 DebuggerDisplay、DebuggerTypeProxy 和可视化框架来完成的。

但是，如果您不使用任何 .Net 类型，您将不会获得这些好处。

C++ 表达式求值器没有利用任何这些。它有自己的自定义类型显示的方法。但它不像属性样式那样有特色（或潜在危险），因为它不允许代码在被调试进程中运行。

这并不是说调试 C++ 提供了糟糕的体验。它只是不同，对于许多 STL 容器类型有更好的显示。

调试 CLR 应用程序也有一些缺点。例如，调试优化代码有时几乎是不可能的，因为 JITer 会隐藏局部变量、参数，并且通常会隐藏“this”。调试一个类似构造的 C++ 应用程序也可能令人沮丧，但您总是可以抓住寄存器并拆开看看发生了什么。为 CLR 应用程序做同样的事情充其量是困难的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-21T04:05:11.487

我认为将本机 C++ 代码编译到 CLR 会打开一大堆蠕虫。除非您对现有 C++ 代码进行大量投资并且有必要使用托管类型运行代码，否则这是您想要避免的事情。

例如，C++/CLI 是将本机 C++ 代码直接捆绑到 CLR 程序集中的一种方式，但 C++/CLI 向 C++ 语言添加了非标准语法，并且使用与托管类型混合的本机 C++ 类型似乎是一个非常棘手的问题至少。

因此，总而言之，我会将其保留为本机应用程序。如果你有任何将它移植到 CLR 的计划并且你刚刚开始从事这个项目，我会认真考虑开始使用 C# 等 CLR 原生语言编写。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-04T22:54:51.447

这个答案从这里复制 - [http://social.msdn.microsoft.com/Forums/vstudio/en-US/895ecb47-8b34-4a1a-a20b-fda1e5e576eb/whats-the-difference-between-clr-console-application- and-win32-console-application](http://social.msdn.microsoft.com/Forums/vstudio/en-US/895ecb47-8b34-4a1a-a20b-fda1e5e576eb/whats-the-difference-between-clr-console-application-and-win32-console-application)

*CLR 控制台应用程序和 win32 控制台应用程序有什么区别？* - 前者使用公共语言运行时（即 .NET 框架）；后者没有。

*而且我不能在 win32 控制台应用程序模型下使用命名空间系统。* - 系统命名空间是 .NET 框架的一部分。

*当我想使用命名空间时应该怎么做？* - 您应该编写一个 .NET 应用程序。

*并且它没有输入提示，例如在 C# 模型中吗？* - 在 Visual Studio 的现有版本中确实没有 C++/CLI 的 IntelliSense。如果您想要一个 .NET 应用程序，C# 可能是更好的语言选择。

# php - 为什么我的 Ajax 应用程序不能在我的 localhost 计算机上运行？

> ID：1022075
> 
> 赞同：0
> 
> 时间：2009-06-20T17:28:36.017
> 
> 标签：php, ajax, xampp, localhost

我的 XAMPP 已激活，但 Ajax 脚本不工作。它应该真的有效，因为我从一本书中得到它并仔细检查了数据库的代码和连接，但它没有用。

到底有什么问题？

代码位于第 5 章[http://www.myphpbook.com/download](http://www.myphpbook.com/download) 我刚开始编程，所以我不知道如何使它工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-06-20T17:43:37.683

我假设您有 JavaScript 代码从 PHP 代码发出请求。JavaScript 是否发出请求？您可以使用 Firebug 设置断点并查看网络请求。

为请求提供服务的 PHP 代码是否正在运行？

第五章之前一切顺利吗？

# jquery - jQuery XML 解析/遍历

> ID：1022080
> 
> 赞同：16
> 
> 时间：2009-06-20T17:30:41.333
> 
> 标签：jquery, xml, parsing, xml-parsing, traversal

我有以下 XML-

```
<rows>
   <row id="5">
      <cell>Item1</cell>
   <attrs>
    <attr>
      <id>1</id>
      <type>CheckBox</type>
      <values>
        <value>
          <id>10</id>
        </value>
        <value>
          <id>11</id>
        </value>
      </values>
    </attr>
     <attr>
       <id>2</id>
       <type>CheckBox</type>
       <values>
         <value>
           <id>20</id>
         </value>
         <value>
           <id>21</id>
         </value>
       </values>
     </attr>
  </attrs>
   </row>
</rows> 
```

我想要做的是循环某一行的每一行。

我尝试这样做是为了获取所有 attr id，但我也得到了值 id。

```
function fillForm(id){
    var theRow = $(theXmlDoc).find('row[id='+id+']').get()

    $(theRow).find("attr").each(function(i) 
    {
        alert($(this).find("id").text());
    });
} 
```

我还想指出，主要目标是循环每个 attr，然后在我有 attr 的 id 时循环每个值。

PS如果您想到使用其他一些库的更简单/更简单的方法，我愿意接受建议。

提前致谢，

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2009-06-20T18:46:51.323

我不清楚您要循环什么，我认为您问题中的标签之一是乱码。你说：“我想做的是循环某一行的每一行。” 我想你那里有一个标签。

无论如何，这里有一些使用 jQuery 从解析的 xml 文档中提取数据的示例。评论显示将发出警报的内容。

我认为问题的一部分是您将 id 值作为兄弟姐妹而不是属性的孩子。看起来更连贯的结构可能是：

```
<rows>
    <row id="5">
        <cell>Item1</cell>
        <attrs>
            <attr id="1">
                <type>CheckBox</type>
                <values>
                    <value>
                        <id>10</id>
                    </value>
                    <value>
                        <id>11</id>
                    </value>
                </values>
            </attr>
            <attr id="2">
                <type>CheckBox</type>
                <values>
                    <value>
                        <id>20</id>
                    </value>
                    <value>
                        <id>21</id>
                    </value>
                </values>
            </attr>
        </attrs>
    </row>
</rows> 
```

但如果您无法控制 xml，请忽略该建议。:-)

好的，下面是一些遍历获取各种数据的示例：

首先让我们获取“Item1”

```
<script type="text/javascript">
// Item1
$.get('sample.xml', null, function (data, textStatus) {
    alert( $(data).find('rows row[id=5] cell').text());
}, 'xml');
</script> 
```

现在我们将得到 1 和 2：

```
<script type="text/javascript">
// 1
// 2
$.get('sample.xml', null, function (data, textStatus) {
    $(data).find('rows row[id=5] attrs attr > id').each( function(){
            alert($(this).text()); // 1, 2
    });
}, 'xml');
</script> 
```

最后，让我们提取主要的 attr id 并将它们绑定到值中：

```
<script type="text/javascript">
// rows row[id=5] attrs attr > id 1 has inner ids of 10,11
// rows row[id=5] attrs attr > id 2 has inner ids of 20,21
$.get('sample.xml', null, function (data, textStatus) {

        var out = ''
        $(data).find('rows row[id=5] attrs attr > id').each( function(){
                out += 'rows row[id=5] attrs attr > id ' + $(this).text();
                var innerIds = [];
                $(this).siblings('values').find('value id').each(function(){
                    innerIds.push($(this).text())
                });
                out += ' has inner Ids of ' + innerIds.join(',') + '\n';
        });
        alert(out);
    }, 'xml');
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-20T17:42:10.227

这应该适合你

```
function fillForm(id){
    var row = $(theXmlDoc).find('row#+'+ id);
    var ids = row.find( "attr > id");

    ids.each(function(i) 
    {
        alert($(this).text());
    });
} 
```

PS。您可以使用[xpath](https://developer.mozilla.org/en/Introduction_to_using_XPath_in_JavaScript)：

```
var ids = document.evaluate( '//rows/row[@id='+id + ']/attr/id/text( )', theXmlDoc, null, XPathResult.ANY_TYPE, null ); 
```

# ruby-on-rails - 如何在 Ruby on Rails 中为我的 rake 任务使用自定义日志？

> ID：1022093
> 
> 赞同：1
> 
> 时间：2009-06-20T17:37:54.337
> 
> 标签：ruby-on-rails, rake, logging

我有一个 rake 任务，它调用这样的函数：

```
namespace :blah do
    task :hello_world => :environment do
       logger.info("Hello World")
       helloworld2
    end
end

def helloworld2
   logger.info("Hello Again, World")
end 
```

我希望将日志输出到自定义日志，并且我真的不希望每次进行函数调用时都必须传递日志引用。我在某个地方找到了这个（再也找不到了）：

```
def logger
  @@logger ||= Logger.new("#{RAILS_HOME}/log/blah.log")
end 
```

但这对我不起作用，我不确定它甚至可以做什么，因为我很久以前就拿到了代码，直到现在才使用它。我无法在 google 上搜索 @@（尝试过 +"@@" rails）来查看它的作用。在这个问题上的任何帮助都会很棒。我希望有一个快速的解决方案，而不必安装 gem 或插件（除非有一个非常好的理由。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-10-30T05:29:13.723

rake 在生产模式下禁用日志记录。如果您希望它记录，请确保您在开发模式下运行

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-22T05:49:59.260

Advanced Rails Recipes Recipe 84 from @topfunky shows how to define a custom logger. He has some code in the environment config file (production would look like this): `RAILS_ROOT/config/environments/production.rb`:

`config.logger = RAILS_DEFAULT_LOGGER = Logger.new(config.log_path)`

I'd test that out instead of redefining the class variable as you have. He might have something on [http://nubyonrails.com](http://nubyonrails.com) to check as well.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T18:34:00.367

1.  “对我不起作用”是什么意思？我刚刚尝试了相同的代码并且它起作用了 - 创建了一个新的日志文件并在其中放入了一些文本。
2.  @@logger 是一个类变量，这是一个语言问题，而不是 Rails 的问题。我相信没有必要进一步解释:)
3.  你可能打错了“function helloworld2” :)

# eclipse - 将 Jetty 安装到 Eclipse 中

> ID：1022095
> 
> 赞同：16
> 
> 时间：2009-06-20T17:39:14.020
> 
> 标签：eclipse, jsp, jsf, jetty

我推荐 Jetty 作为快速和简单开发的好容器，在我的例子中是 Java Server Faces。我希望将它与我的 Eclipse IDE（版本：3.4.1）一起使用，但坦率地说，无法弄清楚如何。

我尝试了各种过时的插件，但结果却是大量的错误，所以我希望有人能指导我从下载正确的版本到安装它，并且能够按“运行”，然后看到一个简单的 Hello World在 JSP/JSF 工作中。

干杯。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2009-06-21T03:25:23.993

我使用[Run Jetty Run](http://code.google.com/p/run-jetty-run/)插件。它非常简单易用

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2009-06-20T18:34:03.270

您可以按照[eclipse 帮助页面](https://github.com/eclipse/webtools.jsf.docs/blob/master/plugins/org.eclipse.jst.jsf.doc.user/html/tasks/add_jsf_facet.html)中的教程进行操作。

但是请检查您的[jetty](http://www.mortbay.org/jetty/)版本。在[这个线程中，推荐使用 V6（来自](http://dev.eclipse.org/newslists/news.eclipse.webtools/msg17014.html)[Jacob](https://stackoverflow.com/users/84118/jacob)的[评论](https://stackoverflow.com/questions/1022095/installation-of-jetty-into-eclipse/1022194#comment19231834_1022194)，V9 也可以使用）。

![addprojectfacet.png](../Images/0c125e5916e4b173cde20f29dfff407a.png)

> 我相信 J2EE 预览服务器被硬编码为 Eclipse 提供的内部版本的 Jetty。
> 但是，您可以执行“ `Window -> Preferences`”并在“ `Server -> Server Runtime Environments`”页面上单击`Add`按钮。单击“ `Download additional server adapters`”链接，应该会出现一个对话框，并最终列出您可以尝试的 Jetty 通用服务器适配器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-08-11T05:58:06.937

我已按照以下步骤在我的 Eclipse 中设置 Jetty 服务器：

(1) 从以下 URL 下载“net.sourceforge.eclipsejetty.launcher”jar（插件）：http: [//sourceforge.net/projects/eclipse-jetty/](http://sourceforge.net/projects/eclipse-jetty/)

(2) 将下载的jar文件复制到你的eclipse 'plugins' 文件夹中（例如：C:\eclipse-jee-luna\plugins）

(3) 重启Eclipse

(4) 转到 Eclipse Workspace -> 右键单击​​您的 Web 项目 -> 运行 -> 运行配置 -> Jetty Web App -> 设置'WebApp Directory' -> 点击运行

[![在此处输入图像描述](../Images/c81fa2e80b19df2ea7925547a82c628d.png)](https://i.stack.imgur.com/itYUc.png)

完成上述步骤后，我可以在 Eclipse 中使用 Jetty Server 成功部署和运行我的 Web 项目。

我希望这是有帮助的。

# mysql - 无法从“丢失与 MySQL 服务器的连接”错误中恢复

> ID：1022096
> 
> 赞同：1
> 
> 时间：2009-06-20T17:39:39.700
> 
> 标签：mysql, ruby-on-rails, ruby, connection

我有一个这样的块：

```
begin
      # some SQL request
rescue Mysql::Error => e
      logputs "Mysql::Error occurred, retrying in 10s: #{e.message}"
      sleep 10
      retry
end 
```

但是当发生“Lost connection to MySQL server”错误时，该块无法捕获并重试（MySQL 服务器已重新启动）。知道如何正确捕获此异常吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-21T02:35:07.103

从您的评论看来，正在发生的事情是一个 Mysql::Error 异常被抛出，但随后被 ActiveRecord 捕获，然后抛出一个 ActiveRecord::StatementInvalid 异常（在这种情况下这不是很有帮助的行为！）。

我会说改变你的救援来捕捉 AR::StatementInvalid 异常，看看它对你有什么作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T21:25:53.033

Are you sure you are rescuing the correct type of exception?

Try using the following code:

```
rescue StandardError => e
  puts e 
```

That should output any exception that is raised and more importantly you will be able to see the specific type. Then you can adjust your rescue statement to be more specific.

# database - 开源 C++ 面向对象数据库

> ID：1022108
> 
> 赞同：5
> 
> 时间：2009-06-20T17:46:16.337
> 
> 标签：database, oop

是否有可用的 C++ 开源面向对象数据库？

我看过像这里发布的那些面向对象的关系映射 (ORM) 库： [https ://stackoverflow.com/questions/74141/good-orm-for-c-solutions](https://stackoverflow.com/questions/74141/good-orm-for-c-solutions)

这些也很有趣： [关系数据库中的面向对象的结构](https://stackoverflow.com/questions/600684/object-oriented-like-structures-in-relational-databases) [http://en.wikipedia.org/wiki/List_of_object-relational_mapping_software#C.2B.2B](http://en.wikipedia.org/wiki/List_of_object-relational_mapping_software#C.2B.2B)

到目前为止，我的经历是痛苦的。这些解决方案似乎并不成熟，我什至很难编译其中的一些，并且文档和支持可能很少。

我想在某种程度上我试图避免学习 SQL（我不是数据库开发人员）。另一方面，我的直觉是 ORM 是一种架构“解决方法”，因为它们在本质上不支持对象的数据库系统之上创建一个层。

我理想的数据库库将允许以下内容：

1.  允许基于类名指定对象层次结构树，可能在 XML 中或仅在 C++ 中。
2.  允许指定这些类的哪些字段应该是持久的。
3.  提供一个 API 来创建、更新、删除、检索对象的层次结构。
4.  理想情况下，为内存中的树本身提供一个 API，包括对树节点的并发访问。

我曾在具有这样一个自定义数据库和 api 的嵌入式系统上工作。

我几乎要创建自己的并将其开源。

只是想知道是否有现成的东西我可以使用。

我看到了这个： [http ://en.wikipedia.org/wiki/Comparison_of_object_database_management_systems](http://en.wikipedia.org/wiki/Comparison_of_object_database_management_systems)

并试图弄清楚这可能有效：

[http://www.fastdb.org/fastdb.html](http://www.fastdb.org/fastdb.html)

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-20T18:12:52.907

我不打算提出任何建议，因为我不知道高质量的 FOSS OO 数据库。但是，我会提出以下意见：

*   OO 数据库不是避免 SQL 的一种方式——两者都需要。坦率地说，如果您不太了解 SQL，那么您作为专业程序员的生活可能会很不愉快。

*   OO 数据库已经成熟——它们已经存在了 20 多年。15 年前，我个人第一次在金融行业的一个大型项目中使用了它。

*   OO 数据库最适合用于关系数据库失败的地方——我已经将它们用于复杂的金融工具建模、石油管道优化和电信工作。

*   ORM 数据库吸收了 OO 和关系模型的不良部分，使它们变得更糟。

*   我最喜欢的商业 OODB 是 ObjectStore，但我已经有一段时间没有使用它了。

希望这有点帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-20T18:01:58.357

老实说，除非您进入“前沿”，否则我会远离 OO 数据库。在几乎所有情况下，它们都没有得到很好的支持，不成熟，并且在客户端有各种支持问题。

问题是，只有关系数据库（和某些非关系数据库）获得了 99% 的关注，因此最终变得更加成熟。ORM 可能是一种解决方法，但如果您想要可靠性，它确实是您所需要的。

更新：

澄清一下，我确信那里有一些非常可靠的开源 OODB，但我对“可靠性”的要求不仅仅是它是否不会崩溃并且不会损坏数据。它包括客户端连接器的可靠性、与流行语言的对象模型集成的可靠性等......

这是关于开源 OODB 的，而不是商业的。

# windows - 为什么 SVN 命令行客户端会在 Win XP 上冻结而没有输出？

> ID：1022110
> 
> 赞同：0
> 
> 时间：2009-06-20T17:47:35.603
> 
> 标签：windows, svn, ssh

我正在尝试从 Windows XP 系统连接到 SVN 服务器，但我遇到了奇怪的行为。

当我运行这个...

```
svn ls svn+ssh://myusername@myhost.com/path/to/svn_repository 
```

...光标只是冻结，好像它是一个没有输出的长时间运行的过程。

我已经在 Windows 控制台和 MINGW32 控制台中尝试了上述方法。

我可以从 XP 机器 ping SVN 主机。我也可以使用 ssh 从 Windows 登录到 SVN 主机。（我设置了 ssh 密钥。）所以我认为这不是 DNS 问题或防火墙问题。

我可以在 OS X 系统上运行命令没问题。

OS X SVN 版本：1.5.4（效果很好）

Windows SVN 版本：1.5.5（不起作用）

存储库主机SVN版本：1.4.2

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-20T21:46:07.203

您将 SVN_SSH 环境变量设置为什么？您在 svn 配置文件中的 [tunnels] 下是否有任何设置？

您应该能够在 cmd 提示符下运行它：

> %SVN_SSH% -l myusername myhost.com

它应该给你一个登录提示而不提示输入密码。

此外，SVN_SSH 似乎需要正斜杠作为目录分隔符。

# monodevelop - MonoDevelop 的 .pidb 文件是什么？

> ID：1022111
> 
> 赞同：44
> 
> 时间：2009-06-20T17:47:55.260
> 
> 标签：monodevelop

MonoDevelop 为每个项目创建这些。我应该将它们包含在源代码控制中吗？

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2009-06-20T17:54:27.917

来自[MonoDevelop 博客文章](http://foodformonkeys.blogspot.com/2007/02/more-on-monodevelop-work.html)：

> 有几个长期未决的错误报告，我还想提高一点性能和内存使用。MonoDevelop 为每个程序集或项目创建一个解析器信息数据库 (pidb) 文件。该文件包含有关在程序集中实现的类的所有信息，以及从 Monodoc 中提取的文档。一个 pidb 文件有 3 个部分：第一个是包含文件格式版本的标头（在加载 pidb 时会检查该版本，如果文件与当前实现版本不匹配，将重新生成该文件） ）。第二部分是 pidb 文件的索引。它包含数据库中所有类的索引。索引总是完全加载在内存中，以便能够快速定位类。该文件的第三部分包含所有类信息：方法列表、字段、属性、每个这些的文档等等。索引中的每个条目都有一个文件偏移量字段，可以用来完整加载一个类的所有信息（索引只包含名称）。

所以听起来这实际上只是一个优化。*除非您发现它对性能有很大*影响，否则我个人不会将其包含在源代码控制中：我的猜测是，只有一次只有一个人在从事该项目时，它才会真正保持有效。（如果它很大并且定期更改，您会发现它也会给存储库增加大量开销。我还没有检查过实际大小，但值得检查。）

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2009-06-24T03:38:50.870

它们只是缓存的代码完成数据。正如 Jon 链接的帖子所解释的那样，主要原因是为了节省内存，尽管它们确实可以让您在打开项目时无需等待 MD 解析所有源文件和引用的程序集。

pidb 文件可以很快重新生成，因此将它们保存在 VCS 中没有任何好处。事实上，除了 VCS 存储库开销之外，如果人们使用具有不同 pidb 格式的不同版本的 MD 也可能会导致问题，因此我强烈建议不要将它们保留在源代码控制中。

# javascript - 为什么 document.cookie 不显示站点的所有 cookie？

> ID：1022112
> 
> 赞同：93
> 
> 时间：2009-06-20T17:49:17.190
> 
> 标签：javascript, cookies

我去一个使用 vBulletin 3.8 的论坛。当我登录时，我使用 firebug 查看设置了哪些 cookie。我看到了这些 cookie：

> __utmb, __utmc, __utma, __utmz, bbsessionhash, vbseo_loggedin, bbpassword, bbuserid, bblastactivity, bblastvisit

它们都有一个值集，并且域是相同的。

但是当我使用 JavaScript 查看它们时，它只看到了这些 cookie：

> __utmb、__utmc、__utma、__utmz、vbseo_loggedin、bblastactivity、bblastvisit

在 firebug 中，我只看到实际设置的这三个 cookie：bbsessionhash、bbpasword 和 bbuserid。HTTPOnly 列中的 HTTPOnly。这是什么意思，这就是我在 JavaScript 中看不到这些 cookie 的原因`document.cookie`吗？

* * *

## 回答 #1

> 赞同：144
> 
> 时间：2009-06-20T17:53:49.917

来自[http://en.wikipedia.org/wiki/HTTP_cookie](http://en.wikipedia.org/wiki/HTTP_cookie#Cookie_theft)：

> 如果 Cookie 是使用 HttpOnly 标志发送的，那么它们对于 JavaScript 等客户端程序是不直接可见的。从服务器的角度来看，与正常情况的唯一区别是 set-cookie 标题行添加了一个包含字符串 `HttpOnly' 的新字段：
> 
> `Set-Cookie: RMID=732423sdfs73242; expires=Fri, 31-Dec-2010 23:59:59 GMT; path=/; domain=.example.net; HttpOnly`
> 
> 当浏览器接收到这样的 cookie 时，它​​应该像往常一样在以下 HTTP 交换中使用它，但不让它对客户端脚本可见。 ~~该`HttpOnly`标志不是任何标准的一部分，也不是在所有浏览器中都实现。~~

*2017 年更新：*自 2009 年以来已经过去了很多时间，`HttpOnly`标头标志成为标准，在[RFC6265 的第 5.2.6 节中](https://www.rfc-editor.org/rfc/rfc6265#section-5.2.6)定义，存储语义在同一文档中描述（查找“http-only-flag”整个 RFC 文本）。

**无法**`HttpOnly`从“非 HTTP”API（例如 JavaScript）访问有关 cookie 的任何信息。按照设计，既不能读取也不能写入此类 cookie。

# ruby-on-rails - 模型中的 Rails 用户条件语句

> ID：1022118
> 
> 赞同：0
> 
> 时间：2009-06-20T17:53:21.837
> 
> 标签：ruby-on-rails, amazon-s3, attachment-fu

我正在使用 attachment_fu 和 Amazon S3 存储开发 Rails 应用程序。是否可以在创建对象时根据用户输入使 :s3_ 访问（has_attachment 选项的一部分）有条件。我希望用户能够选择附件是经过身份验证读取还是公开读取。这可能吗？您将如何设置条件语句？

我的模型如下所示：

```
has_attachment :content_type => :image,
               :storage => :s3,
               :size => 0.kilobytes..6144.kilobytes,
               :processor => 'Rmagick',
               :resize_to => '650x500>',
               :thumbnails => { :thumb => '75x75!' },
               :s3_access => ( [[conditional]] ? 'authenticated-read' : 'public-read' ) 
```

显然 [[conditional]] 是我要替换的内容，但我不知道如何根据模型中的用户操作正确设置项目的条件。也许这是这种类型语句的条件错误时间。有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-06-20T21:16:33.520

James, I've done this before. I was digging through my old code, trying to find a sample I could show here, but I can't seem to find it. Old client, code is probably gone, etc...

You are on the right track though. Remember, 'has_attachment' is just a method call with a hash for the parameters, so if you treat it as such, you can adjust which hash values are ultimately sent to the method.

Edit - Here is a code sample -

```
production = ENV['RAILS_ENV'] == 'production'

has_attachment :content_type => :image, 
  :max_size => 1.megabyte, 
  :resize_to => '800x600>', 
  :thumbnails => { :thumb => '146x146>', :small => '75x75' }, 

  # skip s3 for local development and testing
  :storage => (production ? :s3 : :file_system),
  :path_prefix => (production ? 'comment_images' : 'public/comment_images') 
```

In the above example, I wanted to store uploads locally while developing, but switch to S3 when in production. So you are very close to where you need to be...

# c - 我需要静态库来静态链接吗？

> ID：1022120
> 
> 赞同：10
> 
> 时间：2009-06-20T17:54:19.540
> 
> 标签：c, linux, static-libraries, static-linking

在“C”上，Linux，

我需要静态库来静态链接，还是我拥有的共享库就足够了？如果不是，为什么不呢？（它们不包含相同的数据吗？）

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2009-06-20T18:05:53.637

是的，您需要静态库来构建静态链接的可执行文件。

静态库是编译对象的捆绑包。当您静态链接到库时，它实际上与获取该库的编译结果，在当前项目中解压缩它们并像使用它们是您自己的对象一样使用它们。

动态库已链接。这意味着像搬迁这样的一些信息已经被修复并丢弃了。

此外，动态库必须编译为与位置无关的代码。这不是对静态库的限制，并且会导致在某些常见平台（如 x86）上的性能存在显着差异。

存在诸如[ELF Statifier 之](http://statifier.sourceforge.net/)类的工具，它们试图将动态链接的库捆绑到动态链接的可执行文件中，但是在所有情况下都很难生成正确工作的结果。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2009-06-20T17:59:02.933

没有静态编译，只有静态链接。为此，您需要静态库。静态链接和动态链接之间的区别在于，对于前者，名称在链接时（就在编译时之后）解析，而对于后者，它们在程序开始运行时解析。

静态库和动态库可能包含也可能不包含相同的信息，具体取决于许多因素。是静态链接还是动态链接代码的决定很重要，并且通常会影响应用程序架构。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-06-20T18:01:12.633

您链接到静态链接程序的所有库都必须是静态变体。虽然动态 (libfoo.so) 和静态 (libfoo.a) 库具有相同的功能，但它们是不同的格式文件，因此您需要与程序匹配的类型。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-07-23T07:29:44.453

另一种选择是 Ermine ( [http://magicErmine.com](http://magicErmine.com) )，它类似于 statifier，但能够处理内存随机化。

# python - 检查两个 python 函数（或方法）的兼容性

> ID：1022124
> 
> 赞同：3
> 
> 时间：2009-06-20T17:57:48.023
> 
> 标签：python, reflection

是否有可能检查两个 python 函数是否可以互换？例如，如果我有

```
def foo(a, b):
    pass
def bar(x, y):
    pass
def baz(x,y,z):
    pass 
```

我想要一个函数`is_compatible(a,b)`，它在传递 foo 和 bar 时返回 True，但在传递 bar 和 baz 时返回 False，所以我可以在实际调用它们之前检查它们是否可以互换。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-06-20T18:02:27.717

您将基于什么兼容性？参数的数量？Python 有可变长度的参数列表，所以你永远不知道两个函数在这个意义上是否兼容。数据类型？Python 使用鸭子类型，因此在您在函数内部使用 isinstance 测试或类似测试之前，兼容性测试可以基于的数据类型没有约束。

简而言之：不。

你应该编写好的文档字符串，这样你的 API 的任何用户都知道他给你的函数必须做什么，然后你应该相信你得到的函数行为正确。任何“兼容性”检查要么排除可能的有效功能，要么给您一种“一切都与它应有的完全一样”的错误感觉。

公开 API 的 Python 方式是：编写好的文档，让人们知道他们需要知道什么，并相信他们做的是正确的事情。在关键位置你仍然可以使用`try: except:`，但是任何因为不关心阅读文档而滥用你的 API 的人都不应该被赋予错误的安全感。并且确实阅读过您的文档并希望以完全可接受的方式使用它的人不应该因为他们声明函数的方式而被拒绝使用它的可能性。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-06-20T18:02:07.623

看看[`inspect.getargspec()`](http://docs.python.org/library/inspect.html#classes-and-functions)：

> ### `inspect.getargspec(func)`
> 
> 获取函数参数的名称和默认值。返回一个包含四件事的元组：*(args, varargs, varkw, defaults)*。args 是参数名称的列表（它可能包含嵌套列表）。varargs 和 varkw 是 * 和 ** 参数的名称或无。defaults 是默认参数值的元组，如果没有默认参数，则为 None；如果这个元组有 n 个元素，它们对应于 args 中列出的最后 n 个元素。
> 
> *在 2.6 版更改: 返回一个命名元组 ArgSpec(args, varargs, keywords, defaults)。*

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-07-28T12:59:20.400

虽然 Python 是*动态类型*语言，但是 Python 中有一个强类型的概念（*强类型*）。在引入类型提示之后，现在可以检查函数的可互换性。但首先让我们声明以下内容：

**[Liskov 替换](https://en.wikipedia.org/wiki/Liskov_substitution_principle)原则：**

如果 type`t2`是 type 的子类型，`t1`那么 type 的对象`t1`应该可以被 type 的对象替换`t2`。

**类型的反/协方差`Callable`：**

*   `Callable[[], int]`是`Callable[[], float]`(协方差) 的子类型。

    这很直观：最终评估为的可调用对象`int`可以替换评估为的函数`float`（暂时忽略 args 列表）。

*   `Callable[[float], None]`是`Callable[[int], None]`(Contravariance) 的子类型。

    这有点令人困惑，但请记住，对整数进行操作的可调用对象可能会执行未在浮点数上定义的操作，例如`>>` `<<`，，而对浮点数进行操作的可调用对象肯定不会执行任何未对整数定义的操作（因为整数是浮点数的子类型）。因此，对浮点数进行操作的可调用对象可能会替换对整数进行操作的可调用对象，但反之亦然（忽略返回类型）。

综上所述，我们得出结论：对于`c1`可被 callable 替换的可调用对象`c2`，应满足以下条件：

1.  `c2`返回类型应该是返回类型的子`c1`类型。
2.  对于 : 的参数列表和:`c1`的 `(a1, a2,...an)`参数列表，应该是subtype ，subtype of等等。`c2``(b1, b2,...bn)``a1``a1``b1``a2``b2`

**执行**

简单的实现将是（忽略`kwargs`和可变长度的参数列表）：

```
from inspect import getfullargspec

def issubtype(func1, func2):
  """Check whether func1 is a subtype of func2, i.e func1 could replce func2"""
  spec1, spec2 = getfullargspec(func1), getfullargspec(func2)

  if not issubclass(spec1.annotations['return'], spec2.annotations['return']):
    return False

  return all((issubclass(spec2.annotations[arg2], spec1.annotations[arg1]) for (arg1, arg2) in zip(spec1.args, spec2.args))) 
```

例子：

```
from numbers import Integral, Real

def c1(x :Integral) -> Real: 
  pass

def c2(x: Real) -> Integral:
  pass

print(issubtype(c2, c1))
print(issubtype(c1, c2))

class Employee:
  pass

class Manager(Employee):
  pass

def emp_salary(emp :Employee) -> Integral:
  pass

def man_salary(man :Manager) -> Integral:
  pass

print(issubtype(emp_salary, man_salary))
print(issubtype(man_salary, emp_salary)) 
```

输出：

```
True
False
True
False 
```

# android - 在 Android 上：使用浏览器应用程序拨打电话

> ID：1022125
> 
> 赞同：2
> 
> 时间：2009-06-20T17:57:59.567
> 
> 标签：android, phone-call

在`Android`设备上，是否有人检查过用户是否点击了链接

```
<a href='wtai://wp/mc;5551231367' title='Call'>555.123.1367</a> 
```

这会建议用户拨打这个电话号码吗？

如果没有，你知道怎么可能吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-06-20T18:10:00.713

链接必须是

```
<a href="tel:<number you want to have dialled"> Call </a> 
```

所以对于您使用的号码：

```
<a href="tel:5551231367"> Call 555.123.1367 </a> 
```

# .net - 在 .NET 应用程序中保留配置/用户信息的最佳实践

> ID：1022127
> 
> 赞同：0
> 
> 时间：2009-06-20T18:00:42.463
> 
> 标签：.net, persistence, settings

我的 .NET 应用程序中保留的数据量很少。例如，上次用户在附近时打开的文件。持久化和检索此类信息的最佳实践是什么？代码示例将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-20T18:05:25.293

有关一些建议，请参阅此问题。

[在 Windows 窗体应用程序中保存应用程序设置的最佳实践](https://stackoverflow.com/questions/453161/best-pratice-to-save-application-settings-in-windows-application)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T18:08:48.810

James 的指导很有帮助，但请记住，什么类型的应用程序？Web 应用程序和 Windows 应用程序之间存在差异。查看适用于 Web 应用程序的 cookie、会话状态。

一个有用的方法是扩展配置文件提供程序

[http://msdn.microsoft.com/en-us/library/taab950e.aspx](http://msdn.microsoft.com/en-us/library/taab950e.aspx)

配置文件提供者会在会话结束后记住信息。或者，sql server 为创建自己的状态处理程序提供了很好的永久存储

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T18:15:48.237

.NET 有这个内置的转到您的项目设置，您可以非常轻松地保持每个用户和每个应用程序设置。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-20T20:02:00.377

我已经为这个问题苦苦挣扎了很长时间，但最终我找到了一个对我来说非常有用的解决方案。

创建一个包含所有简单设置（即一个值）的设置类 为必须返回多个值的每个设置创建一个类

为自己找到一个不错的 ORM（我非常喜欢 xpo，但请记住，这是一个商业解决方案）。

ORM 完成所有工作（至少，如果你有一个不错的）。

# drupal - Drupal 6：分类学在托管领域出现？

> ID：1022139
> 
> 赞同：0
> 
> 时间：2009-06-20T18:05:19.723
> 
> 标签：drupal, hierarchy, cck, categories, taxonomy

所以你有两个分类法，即：“业务类型”和“位置”

这被分配给一个名为 BUSINESS 的节点。实际上，当用户创建业务节点时，她必须选择例如位置“纽约”并输入“信息服务”。我的问题是：a）捕获分类，b）显示分类

我希望这两个术语彼此分开。即我希望能够在 MANAGE FIELDS 视图中移动这两个术语的单独位置，以便可以将它们分组或单独放置。目前，Drupal 只允许一个条目，称为“TAXONOMY”，它实际上是两个相邻的术语。

这就是我所拥有的： [替代文字 http://www.namhost.com/have.jpg](http://www.namhost.com/have.jpg)

这就是我想要的： [替代文字 http://www.namhost.com/want.jpg](http://www.namhost.com/want.jpg)

请记住，我需要能够将其与 Hierarchical Select 一起使用，这意味着 Content Taxonomy 不是一个选项。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2010-06-16T01:27:58.830

您必须将问题分为两部分：

*   表格填写部分，将所有词汇表一起提供给编辑器。
*   内容显示部分，您将能够分离词汇表。

我将在这里更多地介绍第二部分，关于显示。

使用[CCK 计算域模块](http://drupal.org/project/computed_field)并为您要显示的每个词汇创建一个域。将此字段放置在您想要的位置。

配置每个字段如下：

1.  在**Computed Code**上，输入如下内容：

```
    # 从其管理 URL (/admin/content/taxonomy/edit/vocabulary/[VOCABULARY_ID]) 获取词汇 ID 并在此处设置：

$node_field[0]['value'] = "5";

# 另外，在显示字段上将此字段配置为“原始文本”

```

2.  在**Display Format**上，使用这个：

```
    $vocabulary_id=$node_field_item['value'];

$terms=taxonomy_node_get_terms_by_vocabulary($element['#node'], $vocabulary_id);

foreach ($terms as $tid => $details) {
      # taxonomy_get_textual_term_hierarchy_by_id() 在 SolutionHub 的主题 template.php 文件上实现
      $textualTerms .= taxonomy_get_textual_term_hierarchy_by_id($tid);
}

if (isset($textualTerms)) {
      $显示='';
      $display.=$textualTerms;
      $display.='';
}

```

taxonomy_get_textual_term_hierarchy_by_id() 函数特定于我的站点，并在 DRUPAL_ROOT/sites/default/themes/mytheme/template.php 中定义，并以一种奇特的方式简单地重写分类术语文本以显示其整个沿袭。所以我会得到类似“食物>沙漠>水果>苹果”的东西，而不是“苹果”。我不会在这里粘贴它，因为它超出了范围。

如果您的问题是在编辑表单中重新定位词汇表，我建议您使用 Content Taxonomy 模块。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-11-19T17:40:08.633

您被输入表单中同时出现的两个分类法困住了，它们作为一个包出现。分类学应该用作分类系统（如动物界分类），因此这些术语在物理空间中属于一起。

但是对于您问题的另一半，请记住您的用户将在输入表单中看到“业务类型”和“位置”标签，而不是您在管理字段时看到的通用“分类”标签。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-11-19T18:39:01.230

也许你可以用 cck 做得更好。通过启用文本（带有 cck），您可以添加文本字段。您可以轻松地单独使用它们，将它们与视图、模板等一起使用。

# python - 在 Python 中随机化字符串列表的最佳方法

> ID：1022141
> 
> 赞同：81
> 
> 时间：2009-06-20T18:05:44.760
> 
> 标签：python, string, random

我收到一个字符串列表作为输入，需要返回一个包含这些相同字符串但以随机顺序排列的列表。我必须允许重复 - 相同的字符串可能会在输入中出现一次或多次，并且必须在输出中出现相同的次数。

我看到了几种“蛮力”方法（使用循环，上帝保佑），我目前正在使用其中一种。但是，知道 Python 可能有一个很酷的单行代码可以完成工作，对吧？

* * *

## 回答 #1

> 赞同：213
> 
> 时间：2009-06-20T18:09:19.590

```
>>> import random
>>> x = [1, 2, 3, 4, 3, 4]
>>> random.shuffle(x)
>>> x
[4, 4, 3, 1, 2, 3]
>>> random.shuffle(x)
>>> x
[3, 4, 2, 1, 3, 4] 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2009-06-20T18:07:44.117

看起来这是最简单的方法，如果不是最真正随机的（[这个问题](https://stackoverflow.com/questions/3062741/maximal-length-of-list-to-shuffle-with-python-random-shuffle)更充分地解释了限制）：[http ://docs.python.org/library/random.html#random.shuffle](http://docs.python.org/library/random.html#random.shuffle)

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2010-08-25T17:45:50.107

给定一个字符串*item*，这是一个单行：

```
''.join([str(w) for w in random.sample(item, len(item))]) 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2009-06-20T18:12:13.157

您必须将字符串读入数组，然后使用洗牌算法。我推荐[Fisher-Yates 洗牌](http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-04-16T17:39:11.980

在 python 3.8 中，您可以使用海象来帮助将其塞入几行代码中。首先，您必须从字符串创建一个列表并将其存储到一个变量中。然后你可以使用随机来随机播放它。然后只需将列表重新加入字符串即可。

```
random.shuffle(x := list("abcdefghijklmnopqrstuvwxyz"))
x = "".join(x) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-09-26T08:01:15.370

```
import random

b = []
a = int(input(print("How many items you want to shuffle? ")))
for i in range(0, a):
    n = input('Please enter a item: ')
    b.append(n)

random.shuffle(b)

print(b) 
```

# wcf - WCF 服务的 IIS 发布 - 失败，没有错误消息

> ID：1022147
> 
> 赞同：0
> 
> 时间：2009-06-20T18:08:03.227
> 
> 标签：wcf, iis

我有一个从 Visual Studio 2008 发布到 IIS 6 的 WCF 服务。根据 VS 的输出窗口，发布成功，没有错误消息或警告。当我查看 IIS 时，创建了虚拟目录，但目录中没有列出 .svc。该目录只有我的 web.config 和一个 bin。任何调用我的 WCF 服务的尝试都会失败，因为它们不存在。我怎样才能看到出错信息？通过反复试验，我发现在发布之前更改我的 app.config 会使服务出现。即我的 app.config 文件有以下几行： `<binding ...> <security mode="Transport"> <transport clientCreditionalType="None"/> </security> </binding>`

如果我将“传输”切换为“无”，那么我的服务会显示在 IIS 上。但是我*确实*在服务器上的 IIS 上安装了一个证书，据我所知，服务器上的所有配置都正确。

事件日志中没有错误消息。

我如何才能找到更多关于服务无法显示的错误消息？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-18T08:30:57.880

要在 IIS 7 或 8 中发布 WCF 服务，您必须在**web.config中为****svc**扩展注册处理程序：

 **```
<system.webServer>
  <handlers>
    <add name="svc" path="*.svc" verb="*" type="System.ServiceModel.Activation.HttpHandler, System.ServiceModel.Activation, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
  </handlers>
</system.webServer> 
```

（System.ServiceModel，版本=3.0.0.0，文化=中性，PublicKeyToken=b77a5c561934e089 用于 .Net 3.5）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T23:28:45.733

要了解更多信息，请打开 wcf 日志记录。最简单的方法是使用 wcf 配置工具。

根据您的评论进行编辑：我们发布服务的方式是使用 setup 项目创建一个 msi 包。有几个输出需要包括在内：

1.  主要输出（即 dll 的）必须进入 bin 目录。
2.  内容输出。您必须创建 svc 文件并将它们标记为内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-21T15:06:34.637

尝试使用 IIS 6.0 将您的 WCF 项目复制到您的机器上，而不使用 VS 的发布。如果有帮助，那么问题出在 VS 内，否则问题出在 IIS 上。确保 .NET Framework 3.5 和 ASP.NET 安装在 IIS 计算机上。然后确保有 .svc 扩展名的映射处理程序。

希望它有所帮助**

# hadoop - HBase 是否稳定且可用于生产？

> ID：1022150
> 
> 赞同：9
> 
> 时间：2009-06-20T18:08:51.340
> 
> 标签：hadoop, hbase

对于已经在自己的集群上部署 HBase 的人，您是否觉得它对于生产使用足够稳定？您遇到了哪些类型的麻烦或问题？

我确实看到很多公司在生产中使用 HBase ( [http://wiki.apache.org/hadoop/Hbase/PoweredBy](http://wiki.apache.org/hadoop/Hbase/PoweredBy) )，但我很好奇是否需要进行大量维护、修补和防火练习保持 HBase 集群正常运行。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2009-06-25T22:06:04.577

HBase 即将通过 HBase-0.20 达到一个重要的里程碑。有一个 alpha 版，很快就会成为一个 RC。它有非常重大的性能改进。据报道，StumbleUpon 使用 HBase 的主干版本为他们的网站提供服务，没有额外的缓存层，其他人也是如此。所以我会说它绝对可以用于生产。

Ryan Rawson（StumbleUpon 的）最近在 nosql 会议上做了一个[很好的演讲](http://vimeo.com/5198411)，主要是关于过去 6 个月的进展情况。如果您不想观看整个内容，可以使用幻灯片。除了性能改进之外，另一个主要的补充是它现在与 zookeeper 集成，因此 master 不再是单点故障。

由于文件格式的限制，HBase 曾经因内存问题的小单元大小而失败。新的自定义文件格式也解决了这个问题，这也提高了性能。

我已经用 HBase 进行了大约一年的试验，我已经准备好将 0.20 用于生产服务，我不太喜欢旧版本。我建议在试验时至少使用 4 或 5 个节点的 devcluster。

我无法真正评论照顾生产集群的感觉，因为我们才刚刚开始生产集群。一个有帮助的方面是邮件列表非常活跃，并且 irc 一直在使用，因此至少有一个非常强大的社区可以提供帮助。

# asp.net - ASP.NET 成员资格提供程序的问题

> ID：1022153
> 
> 赞同：1
> 
> 时间：2009-06-20T18:10:03.363
> 
> 标签：asp.net

我刚刚将一个 ASP.NET 网站部署到我的托管服务提供商，但是当我尝试登录时，我不断收到以下错误：

> SQLExpress 数据库文件自动创建错误：连接字符串使用应用程序 App_Data 目录中的数据库位置指定本地 Sql Server Express 实例。

我已经在主机上设置了具有所需架构的数据库，我什至可以从我的开发机器上通过主机数据库登录，但不能在托管站点本身上登录。我的提供者配置如下：

```
<connectionStrings>
  <add name="Membership" connectionString="data source=localhost;initial catalog=bkelly_aspnetdb;user id=withheld; password=withheld;" />
</connectionStrings>
<system.web>
  <membership defaultProvider="SqlMembershipProvider">
    <providers>
      <clear/>
      <add name="SqlMembershipProvider" 
           type="System.Web.Security.SqlMembershipProvider, System.Web, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" 
           connectionStringName="Membership" 
... 
```

我在站点级别没有发现任何建议使用 App_Data DB，但该指令肯定应该整理任何机器级别的提供程序配置吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-09-23T00:05:57.350

不是100％，但尝试添加

```
<clear/> 
```

...在添加您的 connectionStrings 部分之前：

```
<connectionStrings>
  <clear/>
  <add name="Membership" connectionString="data source=localhost;initial catalog=bkelly_aspnetdb;user id=withheld; password=withheld;" />
</connectionStrings> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T18:46:16.740

问题可能是文件所在的磁盘被压缩。这会产生您遇到的错误

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T20:57:55.723

在单声道下，您必须在配置中将“SqlMembershipProvider”文本替换为其他内容（除非是其他内容，否则无关紧要）。我认为您的主机没有使用单声道，但值得一试。

# vim - 如何将新的文本宽度应用于 Vim 中的整个缓冲区

> ID：1022157
> 
> 赞同：14
> 
> 时间：2009-06-20T18:13:36.947
> 
> 标签：vim

我在`textwidth`文件中途更改了选项，我想重新格式化整个缓冲区以使用新宽度。最快的方法是什么？

* * *

### 解决方案 - Vim 文档主题

## [gq](http://vimdoc.sourceforge.net/htmldoc/change.html#gq)

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2009-06-20T18:17:49.650

看

```
:help gq 
```

如果有帮助。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2009-06-20T18:19:52.753

```
gq<motion> 
```

例如，如果您的文件包含 100 行，请移至第一行，然后按：

```
gq100<Down Arrow> 
```

您可以使用视觉模式来选择线条，然后`gq`也可以按下。

# php - 如何使用 Jquery 选择相邻隐藏输入的值？

> ID：1022166
> 
> 赞同：5
> 
> 时间：2009-06-20T18:18:54.080
> 
> 标签：php, javascript, jquery

当用户点击以下“li”末尾的img时，我想获取隐藏输入前两个元素的值。

```
<ul id="theLists">
    <li>
    <input class="checkbox" type="checkbox" name="row"/>
    <input class="contentId" type="hidden" value="64" name="id"/>
    <div id="64" class="editable">Peanuts for me</div>
    <img src="/img/delete.gif" alt="delete"/>
    </li>
</ul> 
```

我试过这个：

```
$(document).ready(function(){
    $("#theLists img").click(function(){
        var contentId = $(this).closest("input[name='id']").val();          
    }); 
```

无济于事。有任何想法吗？我需要使用行 id 设置一个 var，在本例中为“64”。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2009-06-20T18:22:19.080

最近（...）获取最近的父节点，而不是最近的兄弟节点。

事实上，有多种方法可以做你想做的事。

试试这些：

```
var contentId = $(this).siblings("input[name='id']").val();

var contentId = $(this).parent().children("input[name='id']").val();

var contentId = $(this).prev().prev().val(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-20T20:22:34.843

[在此处查看完整的解决方案。](http://code.betancourt.us/so-1022166.html)

您可以将`id`属性移动到包含`<li>`，删除隐藏字段并使用：

```
var contentId = $(this).parent().get(0).id; 
```

这里的好处是将来您可以添加其他操作，例如“编辑”等，而无需担心兄弟姐妹的位置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T18:23:55.647

又好又便宜：

```
var contentId = $(this).parents('li:first').find('.contentId').val(); 
```

# java - 从jar中高效提取文件

> ID：1022175
> 
> 赞同：1
> 
> 时间：2009-06-20T18:25:46.313
> 
> 标签：java, jar, copy, extract

我有一个用 Java 编写的应用程序，它使用一个 jar 文件（它使用多个，但这不是重点）。

事实是，我使用的 Jar 文件包含我绝对必须提取到文件系统的文件。

到目前为止，我使用的是 Class.getResourceAsStream 和 FileOutputStream，但是这种方法有点慢。请注意，其中一些文件是基于文本的，但其他文件只是二进制文件。

因此，除了尝试减少从 JAR 中提取文件的需要之外，是否有针对这些任务的任何优化（例如更充分的功能）。

请注意，我的应用程序是基于 Java 6 的，我希望将外部依赖项减少到最低限度。

编辑：为了将来参考，我的**旧**（低效率）代码是：

```
int c;
while((c = is.read())!=-1){
    fos.write(c);
} 
```

对于新的、更快的代码，请参阅接受的回复。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2009-06-20T18:29:51.250

您可以控制 jar 文件吗？如果您在未压缩的情况下创建它，那*可能会*使其更快。显然它会使jar文件更大......

另一件事要检查 - 你是如何提取文件的？例如，如果你一个字节一个字节地做，它会非常慢。使用这样的东西：

```
public static void copyStream(InputStream input, OutputStream output)
     throws IOException
{
    // Reads up to 8K at a time. Try varying this.
    byte[] buffer = new byte[8192];
    int read;

    while ((read = input.read(buffer)) != -1)
    {
        output.write(buffer, 0, read);
    }
} 
```

如果你已经这样做了，你能给我们更多的信息吗？“有点慢”有多慢？它与使用 jar 实用程序提取 jar 文件相比如何？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-20T18:34:23.813

呃。我不确定您真正想做什么-但是您是否考虑过使用winzip？

显然，如果您需要在运行时动态提取文件，这将不起作用 - 但我不确定您为什么需要这样做 - 这个 jar 文件多久更改一次？

当然，您可以将它们提取一次，然后将它们与应用程序一起分发？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T19:07:02.017

我同意乔恩的观点。两件事将使提取更快：

1.  降低压缩级别。
2.  增加复制/提取时使用的缓冲区大小。

我认为需要提取是由于需要从文件中写入/重新读取。如果文件足够小，内存就足够大并且文件的持久性不是必需的；您可能会考虑将整个资源映射到内存，而不是使用磁盘作为存储。

# wpf - WPF用按钮覆盖图像

> ID：1022176
> 
> 赞同：0
> 
> 时间：2009-06-20T18:26:29.867
> 
> 标签：wpf, button, wpf-controls, overlay, border

我有一个自定义 TabItem，上面有一个关闭按钮（用 X 表示），因此可以轻松关闭它。在此选项卡中，我想放置一个图像或边框项目，以左上角的关闭按钮为中心

控制模板是

```
 <ControlTemplate TargetType="{x:Type local:CloseableTabItem}">
      <Grid SnapsToDevicePixels="true">
        <Border x:Name="Bd" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="1,1,1,0" >
          <DockPanel x:Name="ContentPanel">
            <Button x:Name="PART_Close" Panel.ZIndex="1" HorizontalAlignment="Right" Margin="0,1,1,0" VerticalAlignment="Top" Width="16" Height="16" DockPanel.Dock="Right" Style="{DynamicResource CloseableTabItemButtonStyle}" ToolTip="Close Tab">
              <Path x:Name="Path" Stretch="Fill" StrokeThickness="0.5" Stroke="#FF333333" Fill="#FF969696" Data="F1 M 2.28484e-007,1.33331L 1.33333,0L 4.00001,2.66669L 6.66667,6.10352e-005L 8,1.33331L 5.33334,4L 8,6.66669L 6.66667,8L 4,5.33331L 1.33333,8L 1.086e-007,6.66669L 2.66667,4L 2.28484e-007,1.33331 Z " HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
            </Button>
            <ContentPresenter Panel.ZIndex="0" x:Name="Content" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" ContentSource="Header" RecognizesAccessKey="True" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="{TemplateBinding Padding}"/>
          </DockPanel>
        </Border>
      </Grid> 
```

（控制触发器已被删除）并将边框/图像插入该选项卡标题我使用以下

```
<TabControl Margin="0" TabStripPlacement="Left">
        <local:CloseableTabItem>
            <local:CloseableTabItem.Header>
                <Border Height="50" Width="50" Background="Red" BorderThickness="1" BorderBrush="Black" Margin="5" />
            </local:CloseableTabItem.Header>    
        </local:CloseableTabItem>
  </TabControl> 
```

使用这个我得到以下结果：

[替代文字 http://lloydsparkes.co.uk/files/CloseTab.png](http://lloydsparkes.co.uk/files/CloseTab.png)

似乎 Button 限制了 Border 元素的宽度，因此它没有达到我设置的全宽（它设置为 50x50，所以应该是正方形）。我试图将它们放在不同的 Z 水平上，但它似乎没有像我预期的那样工作。

所以问题是，我怎样才能让按钮覆盖边框控件而不影响边框控件的大小？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-20T18:49:01.647

这种行为是因为这里的 DockPanel：

```
<DockPanel x:Name="ContentPanel">
        <Button x:Name="PART_Close" Panel.ZIndex="1" HorizontalAlignment="Right" Margin="0,1,1,0" VerticalAlignment="Top" Width="16" Height="16" DockPanel.Dock="Right" Style="{DynamicResource CloseableTabItemButtonStyle}" ToolTip="Close Tab">
          <Path x:Name="Path" Stretch="Fill" StrokeThickness="0.5" Stroke="#FF333333" Fill="#FF969696" Data="F1 M 2.28484e-007,1.33331L 1.33333,0L 4.00001,2.66669L 6.66667,6.10352e-005L 8,1.33331L 5.33334,4L 8,6.66669L 6.66667,8L 4,5.33331L 1.33333,8L 1.086e-007,6.66669L 2.66667,4L 2.28484e-007,1.33331 Z " HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
        </Button>
        <ContentPresenter Panel.ZIndex="0" x:Name="Content" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" ContentSource="Header" RecognizesAccessKey="True" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="{TemplateBinding Padding}"/>
      </DockPanel> 
```

删除停靠面板并根据需要调整您的属性，问题将得到解决。

# algorithm - 如何在网格上画一个圆圈？

> ID：1022178
> 
> 赞同：13
> 
> 时间：2009-06-20T18:27:49.663
> 
> 标签：algorithm, geometry

我正在制作一个所有动作都是基于网格的游戏。我也不想制作可以绕圈旅行的实体。那么有没有人有任何建议从正方形网格中创建一个圆圈（就像MS Paint使用圆形工具从正方形像素中制作一个圆圈的方式一样）。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2009-06-20T18:29:39.503

查看[中点圆算法](http://en.wikipedia.org/wiki/Midpoint_circle_algorithm)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2011-10-14T09:42:58.373

这是我对 Bresenham 的中点圆算法的 Java 实现：

```
private void drawCircle(final int centerX, final int centerY, final int radius) {
    int d = 3 - (2 * radius);
    int x = 0;
    int y = radius;
    Color circleColor = Color.white;

    do {
        image.setPixel(centerX + x, centerY + y, circleColor);
        image.setPixel(centerX + x, centerY - y, circleColor);
        image.setPixel(centerX - x, centerY + y, circleColor);
        image.setPixel(centerX - x, centerY - y, circleColor);
        image.setPixel(centerX + y, centerY + x, circleColor);
        image.setPixel(centerX + y, centerY - x, circleColor);
        image.setPixel(centerX - y, centerY + x, circleColor);
        image.setPixel(centerX - y, centerY - x, circleColor);
        if (d < 0) {
            d = d + (4 * x) + 6;
        } else {
            d = d + 4 * (x - y) + 10;
            y--;
        }
        x++;
    } while (x <= y);
} 
```

完整的[类实现](http://rosettacode.org/wiki/Bitmap/Midpoint_circle_algorithm)和许多其他语言示例可以在 Rosetta Code 网站上找到。

# .net - IIS 7 中的应用程序池不显示 .NET Framework 3.5

> ID：1022179
> 
> 赞同：14
> 
> 时间：2009-06-20T18:29:01.283
> 
> 标签：.net, asp.net-mvc

我的系统上安装了 .NET Framework 3.5 SP1。当我创建一个新的应用程序池时，我只看到 .NET Framework V2.0.xxx。我有一个使用 ASP.NET MVC 的文件。它没有加载。我想这可能是原因。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2009-06-20T18:35:15.497

我认为它指的是 .Net 运行时版本，而对于 .Net 3.5 框架来说，它仍然是运行时版本 2.0，这有点令人困惑。

您可以在谷歌上搜索对此的解释，但它与以下内容类似。

*   .Net 2.0 框架——.Net 2.0 运行时
*   .Net 3.0 框架——.Net 2.0 运行时
*   .Net 3.5 框架——.Net 2.0 运行时
*   .Net 3.5 Sp1 -- .Net 2.0 运行时
*   .Net 4.0 框架——.Net 4.0 运行时

我注意到，如果 MVC 不使用“集成”托管管道模式运行，它有时会出现问题，因此可能想尝试一下。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2009-06-20T19:07:54.933

[Scott Hanselman 的 ComputerZen.com - 如何设置 IIS 应用程序或 AppPool 以使用 ASP.NET 3.5 而不是 2.0](http://www.hanselman.com/blog/HowToSetAnIISApplicationOrAppPoolToUseASPNET35RatherThan20.aspx)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2009-06-20T18:33:32.927

不确定问题到底是什么，如果您期望 IIS 中的框架 3.5 没有。IIS 中的两个框架是 1.1 和 2.0。所以框架 3.5 仍然只会在 IIS 中显示 2.0

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2010-04-19T19:35:37.053

如前所述，.NET 3.0 和 3.5 建立在 .NET 2.0 之上，因此不需要这些选择。现在 .NET 4.0 已经发布，它确实包含 ASP.NET 4.0 的条目，因为它包含一个新的运行时。

因此，您现在可能的选择包括：1.1.4322 (.NET 1.1) 2.0.50727 (.NET 2.0, 3.0, 3.5) 4.0.30319 (.NET 4.0)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2009-06-20T18:37:42.200

.NET 3.0 和 .NET 3.5 是对 .NET 2.0 的补充，核心运行时仍然相同，因此您不会在应用程序池设置中看到 3.5。问题可能出在其他地方。

您可以尝试通过在 3.0\Windows Communication Foundation 目录中运行 servicemodelreg 来重新注册 3.0 映射，但这只会解决 WCF 的问题

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2009-06-20T18:38:15.850

这里的问题是，在 .NET Framework 2.0 之后，它的所有其他版本都是增量的，而不是新的实现。

这就是 IIS 仅报告 .NET 2.0 的原因。

# wpf - PowerShell ISE WPF 控件内联

> ID：1022181
> 
> 赞同：2
> 
> 时间：2009-06-20T18:29:34.947
> 
> 标签：wpf, visual-studio-2010, powershell

我听说 PowerShell ISE 使用与 VisualStudio 2010 和 Oslo IntelliPad 相同的 WPF 文本编辑器。我知道您可以通过将自己的 WPF 控件插入到编辑器的 XAML 文件中来扩展 VisualStudio 中的此编辑器。我现在的问题是：PowerShellISE 也可以这样做吗？有人尝试过这样做吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-06-21T04:13:11.207

确实是同一个控件。我不相信您可以插入自己的 WPF 控件。但是，ISE 是完全程序化的，并且具有可用于自定义 ISE 的对象模型。您可以使用 $psise 变量访问对象模型。您可以使用 $psise.options 调整很多选项

```
1 >  $psise.options

SelectedScriptPaneState       : Right
ShowToolBar                   : True
TokenColors                   : {[Attribute, #FF84A7C1], [Command, #FFFFFF60], 
                                [CommandArgument, #FFFFFFFF], [CommandParameter
                                , #FFFFDE00]...}
DefaultOptions                : Microsoft.PowerShell.Host.ISE.ISEOptions
FontSize                      : 16
FontName                      : consolas
ErrorForegroundColor          : #FFFF0000
ErrorBackgroundColor          : #00FFFFFF
WarningForegroundColor        : #FFFF8C00
WarningBackgroundColor        : #00FFFFFF
VerboseForegroundColor        : #FF0000FF
VerboseBackgroundColor        : #00FFFFFF
DebugForegroundColor          : #FF0000FF
DebugBackgroundColor          : #00FFFFFF
OutputPaneBackgroundColor     : #FF000000
OutputPaneTextBackgroundColor : #FF000000
OutputPaneForegroundColor     : #FFFFFFFF
CommandPaneBackgroundColor    : #FF000000
ScriptPaneBackgroundColor     : #FF000000
ScriptPaneForegroundColor     : #FF000000
ShowWarningForDuplicateFiles  : True
ShowWarningBeforeSavingOnRun  : True
UseLocalHelp                  : True
CommandPaneUp                 : True 
```

# objective-c - 尝试将触摸重新定位到位置始终返回零 (0) 作为 x 位置

> ID：1022187
> 
> 赞同：1
> 
> 时间：2009-06-20T18:30:56.693
> 
> 标签：objective-c, iphone, cocoa-touch, uitouch

在为我的视图编写 touchesBegan 处理程序时，我遇到了这个有趣的错误。

代码：

```
...
UITouch *touch = [touches anyObject];
CGPoint point = [touch locationInView:self];
... 
```

问题是 point.x 始终为零，无论我“触摸”哪里，y 是一个巨大的数字，在 1070000000 和 1090000000 之间波动。

句柄在视图类中，它的工作原理相同，是我将 nil 而不是 self 传递给 locationInView。我还尝试循环所有的触摸，只有一个总是 x 为零。

那么我在这里做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-20T18:35:06.230

您使用 NSLog(@"%d, %d", point.x, point.y); 的任何机会 打印出点值？这听起来有点像 float -> int 转换错误。我已经使用 locationInView: 很多，而且我从来没有遇到过这样的问题。

您也可以尝试检查 [self frame] 以确保它不为零。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2011-04-24T07:28:59.347

本是对的。问题是当您尝试使用`%d`in打印值时`NSLog`，因为`point.x`and`point.y`是浮点值。

# google-app-engine - 如何设置动态子域跨服务器或在 DNS 设置

> ID：1022191
> 
> 赞同：1
> 
> 时间：2009-06-20T18:33:22.210
> 
> 标签：google-app-engine, dynamic, dns, subdomain

1.  我有 www.did5.com 指向 google appengine 服务器

2.  我想让 anyname.did5.com 指向 www.did5.com/anyname

3.  而且地址栏中的网址仍然是anyname.did5.com

我找不到使用 dns 设置（主机记录）的方法

任何人都可以吗？

请帮忙..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-20T19:46:59.237

有同样的愿望，但必须将 HTTP 301 从我的域托管重定向到 appengine 站点。它可以正常工作，但需要有一个工作主机，而不仅仅是域停放。因此，请尝试编辑“.htaccess”文件，该文件必须位于站点托管的根目录中，使用

```
Redirect 301 / http://anydomain.com/any 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-21T12:36:29.447

遗憾的是，App Engine 目前不支持“通配符”CNAME。您必须专门对要使用的每个域进行 CNAME，并在控制面板中对其进行配置。目前，做你想做的事情的唯一方法是托管你自己的反向代理。

# algorithm - 以用户友好的方式对包含数字的字符串进行排序

> ID：1022203
> 
> 赞同：22
> 
> 时间：2009-06-20T18:37:23.980
> 
> 标签：algorithm, sorting, text, numbers

习惯了字符串排序的标准方式后，当我注意到 Windows 以一种高级方式按文件名对文件进行排序时，我感到很惊讶。让我给你举个例子：

曲目1.mp3 曲目2.mp3 曲目
10.mp3
曲目
20.mp3

我认为这些名称是根据字母和数字分别比较的（在排序过程中）。

另一方面，以下是按标准方式排序的相同列表：
Track1.mp3
Track10.mp3
Track2.mp3
Track20.mp3

我想在 Delphi 中创建一个比较算法，让我以相同的方式对字符串进行排序。起初我认为比较两个字符串的连续字符就足够了，而它们是字母。当在两个字符串的某个位置找到一个数字时，我会读取它们后面的所有数字以形成一个数字，然后比较这些数字。

举个例子，我将用这种方式比较“Track10”和“Track2”字符串：
1）当它们相等并且它们是字母时读取字符：“Track”，“Track”
2）如果找到一个数字，读取以下所有数字：“10”、“2”
2a) 如果它们相等，则转到 1 否则完成
Ten 大于 2，因此“Track10”大于“Track2”

似乎一切都会好起来的，直到我注意到，在我的测试中，Windows 认为“Track010”低于“Track10”，而我认为第一个更大，因为它更长（更不用说根据我的算法字符串将相等，这是错误的）。

您能否告诉我 Windows 如何按名称对文件进行精确排序，或者您有一个我可以基于的即用型算法（在任何编程语言中）？

非常感谢！
马吕什

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2009-06-20T18:45:48.940

Jeff 在 Coding Horror 上写了一篇关于此的文章。这称为[自然排序](http://blog.codinghorror.com/sorting-for-humans-natural-sort-order/)，您可以有效地将一组数字视为单个“字符”。在阳光下，每种语言都有实现，但奇怪的是，它通常不是内置于大多数语言的标准库中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-04T21:39:47.690

各种妈妈：

`ls '*.mp3' | sort --version-sort`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-11-17T16:48:55.843

我发现，最简单的方法是隔离你想要的字符串，所以在 OP 的情况下，Path.GetFileNameWithoutExtension()，删除非数字，转换为 int，然后排序。使用 LINQ 和一些扩展方法，它是单行的。就我而言，我正在处理目录：

```
Directory.GetDirectories(@"a:\b\c").OrderBy(x => x.RemoveNonDigits().ToIntOrZero()) 
```

其中 RemoveNonDigits 和 ToIntOrZero 是扩展方法：

```
public static string RemoveNonDigits(this string value) {
    return Regex.Replace(value, "[^0-9]", string.Empty);
}

public static int ToIntOrZero(this string toConvert) {
    try {
        if (toConvert == null || toConvert.Trim() == string.Empty) return 0;            
        return int.Parse(toConvert);
    } catch (Exception) {
        return 0;
    }
} 
```

扩展方法是我到处使用的常用工具。YMMV。

# winforms - ALT-TAB 应用程序图标像素化

> ID：1022213
> 
> 赞同：3
> 
> 时间：2009-06-20T18:42:02.020
> 
> 标签：winforms, icons

当我的应用程序的子窗口打开并查看`ALT`+`TAB`菜单时，应用程序图标看起来像素化。我假设 Windows 使用低分辨率版本的图标（我认为是 16x16 像素）。如果 Windows 选择正确的 32x32 像素版本，我该怎么办？

我为有问题的窗口分配了一个图标，该图标具有 16x16、24x24、32x32、48x38 和 256x256 的真彩色。请注意，VS 在属性中说使用了 32x32，并且它适用于我分配完全相同图标的应用程序的主窗口。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2009-11-04T17:31:44.123

Windows 应用程序窗口的标题栏以 16x16 像素显示图标。但是，Alt-Tab 列表以 32x32 像素显示图标。它使用与为窗口设置的图标相同的图标。如果您只设置一个 32x32 的，则标题栏必须按比例缩小，这看起来很丑，因为它使用[最近邻插值法](http://en.wikipedia.org/wiki/Nearest-neighbor_interpolation)。那么如何支持两者呢？

答案是[ICO](http://en.wikipedia.org/wiki/ICO_%28file_format%29)文件！它支持在一个文件中嵌入多个图标，通常是不同大小的相同（或相似）图标，以及不太常见的颜色格式。

浏览器、Windows 和其他浏览器通常被设计为在给定的 ICO 文件中巧妙地使用适当大小的变体。所以答案是有一个 ICO 文件，里面有两种尺寸（或更多）。结果是标题栏正确使用了 16x16 版本，而 Alt-Tab 使用了较大的 32x32 版本。

保存内部包含多个图标的 ICO 文件的方法因程序而异。然而，[GIMP](http://www.gimp.org/windows/)可以很容易地做到这一点（而且它是免费的）。诀窍是将不同大小的图标作为单独的图层。当您将其保存为 ICO 文件时，GIMP 会提示您设置每个图层的大小和颜色格式。可以在[此处](http://egressive.com/tutorial/creating-a-multi-resolution-favicon-including-transparency-with-the-gimp)阅读带有图像的好教程。

如果有人对在其他程序中创建多图标 ICO 文件有任何链接或建议，请随时添加。另外，我不确定 Visual Studio 内置的图像编辑器是否可以做到——我很少为它烦恼。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-20T19:02:28.110

修复了问题。我把图标放在错误的表格上。因为我认为这个问题对任何人都没有任何帮助，请随意删除它。

# apache-flex - 在 Actionscript 代码中添加按钮：使用 Flex Builder

> ID：1022215
> 
> 赞同：1
> 
> 时间：2009-06-20T18:42:20.583
> 
> 标签：apache-flex, actionscript, flexbuilder

我使用 Flex Builder 3 创建了一个新的 actionscript 项目并尝试了

运行以下文件。我收到此错误：

定义： fl.controls:Button 找不到。我想做的就是向应用程序添加一个按钮。我怎么能做到？

```
package  {
        import PaperBase;
        import org.papervision3d.objects.primitives.Cone;
        import fl.controls.Button;
        import fl.controls.Label;
        import fl.events.ComponentEvent;

        public class cone1 extends PaperBase {
            public var cone:Cone = new Cone();
            protected var sceneWidth:Number;
            protected var sceneHeight:Number;
            public function cone1() {
                sceneWidth = stage.stageWidth
                sceneHeight = stage.stageHeight;
                init(sceneWidth*0.5,sceneHeight*0.5);//position of the cone
            }
            override protected function init3d():void {
                cone.scale = 5;
                cone.pitch(-40)
                default_scene.addChild(cone);
            }
            override protected function processFrame():void {
                cone.yaw(1);//rotation speed
            }
        }
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-21T03:52:45.100

fl.* 包是 Flash Professional 的一部分，而不是 Flex 的一部分。对于 Flex，您应该使用 mx.* 包中的组件。

现在，话虽如此，我相当肯定在 Flex 中使用 Flash 组件是可能的。我只是不确定它是如何从我的头顶上完成的。

此外，您不需要实际的按钮组件来获得“类似按钮”的 ui 元素 - 任何扩展 InteractiveObject 的类都可以。这包括 Sprite 和 MovieClip。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-23T20:39:26.863

Branden 是正确的，fl 包是 Flash IDE 的一部分。我也不确定，但如果你知道包在文件系统上的位置，你可以将包添加到类路径中。我猜在某个地方在 C:/程序文件/adobe/flash

如果您想在 flex builder 中使用组件，我认为您需要创建一个 flex 项目而不是 actionscript 项目

并将您的导入更改为：

```
import mx.controls.Button;
import mx.controls.Label;
import mx.events.FlexEvent; 
```

此外，如果您不需要使用组件，您也可以使用 Sprite 作为 Branden 所说的按钮，您可以只使用 TextField 作为标签。

如果你有flash IDE，另一个选择是制作一个SimpleButton，按F8选择按钮，点击回车。然后通过在库面板中右键单击它并选择链接名称来给它一个链接名称。然后导出 .swf 并将 swf 放入项目的 src 文件夹中，然后像这样嵌入：

```
[Embed(source="flashfile.swf")]
public var myButton:Class; 
```

您甚至可以通过这种方式导出 Flash IDE 组件，但不确定……实际上，如果 [Embed] 元数据适用于 actionscript 项目或只是 flex 项目，我并不是 100% 肯定，所以您必须检查并查看.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2010-03-12T17:42:13.850

这取决于您拥有的 IDE 版本，对于 CS4 和 Mac，位置将是 /Applications/Adobe Flash CS4/Common/First Run/Classes

将该文件夹或安装/操作系统的相关文件夹添加到 flashbuilder/eclipse 中的类路径，它将很好地解释类调用。

如果您正在编写纯动作脚本并且不想使用 flex 组件，或者在 IDE 方法中采用混合编码和设计，那么这是有道理的。

@philip 嵌入标签不能在纯动作脚本中使用

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-23T20:58:14.563

不知道为什么要这样做，但是如果您需要将 flash 库导入 flex，请尝试将您想要的内容拖到 flash 中的舞台并导出为 .swc 文件以导入到您的 flex 项目中。

# list - 中缀运算符的Scala匹配分解

> ID：1022218
> 
> 赞同：10
> 
> 时间：2009-06-20T18:45:05.087
> 
> 标签：list, scala, match, infix-operator

我试图了解`List`s 在 Scala 中的实现。特别是，我试图弄清楚如何使用中缀运算符编写匹配表达式，例如：

```
a match {
  case Nil => "An empty list"
  case x :: Nil => "A list without a tail"
  case x :: xs => "A list with a tail"
} 
```

匹配表达式如何允许为`x :: xs`而不是`List(x, xs)`？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2009-06-20T20:48:15.807

杰伊康拉德的回答几乎是正确的。重要的是，*某处*有一个名为的对象`::`，它实现了该`unapply`方法，返回类型`Option[(A, List[A])]`。因此：

```
object :: {
  def unapply[A](ls: List[A]): Option[(A, A)] = {
    if (ls.empty) None
    else Some((ls.head, ls.tail))
  }
}

// case objects get unapply for free
case object Nil extends List[Nothing] 
```

在 and 的情况下`::`，这个对象恰好来自一个扩展特征的案例类这一`List`事实。但是，正如上面的示例所示，它根本不必*是*一个案例类。`::``List`

 ** * *

## 回答 #2

> 赞同：7
> 
> 时间：2009-06-20T18:52:27.693

我相信[:: 实际上是一个类](http://bit.ly/scala-api-scala-coloncolon)（它是 List 的子类），所以说`x :: xs`主要相当于`List(x, xs)`.

您可以对具有运算符名称的其他案例类执行此操作。例如：

```
case class %%%(x: Int, y: Int)

a match {
  case x %%% y => x + y
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2010-12-19T21:43:23.370

> 匹配表达式如何允许为 x :: xs 而不是 List(x, xs)？

要回答这个问题：

> 当被视为一种*模式*时，诸如**p op q**之类的中缀操作等价于**op(p, q)**。也就是说，中缀运算符 op 被视为 *构造函数模式*。

（Scala 编程，第 1 版，第 331 页）

另请参阅[scala 案例类问题](https://stackoverflow.com/questions/1521011/scala-case-classes-questions)*

# visual-studio - 是否有禁用对象关键字的 Visual Studio 自动完成功能

> ID：1022219
> 
> 赞同：8
> 
> 时间：2009-06-20T18:45:30.797
> 
> 标签：visual-studio, visual-studio-2008, autocomplete, intellisense

短版 - 有没有办法为 object 关键字关闭 Visual Studio Intellisense。

长版——我使用的是 Visual Studio 2008，我基本上使用的是匿名类型。我开始输入类似的内容：

```
Assert.AreEqual("/SomePath/Stuff", GetOutboundUrl( 
```

我输入`new {`

然后我看到 Visual Studio 已经识别出该方法`GetOutboundUrl`接受一个对象并将代码更改为`new object{`. 现在必须的时间这很好，除了两个原因：

1）我很少有使用类型对象的代码。

2）我实际上是在尝试创建一个匿名类型而不是对象，所以这个特性实际上是一个障碍。

GetOutboundUrl 的签名如下（如果有人感兴趣，请参阅 Pro ASP.NET MVC 框架一书）：

```
private string GetOutboundUrl(object routeValues) 
```

我想知道是否有办法关闭此功能，但仅适用于关键字对象 - 我想看看我是否真的错过了对象的自动完成功能（我个人认为我不会）。

**我意识到我可以通过取消选中“将关键字放入完成列表”来关闭所有关键字，但我只想为对象关闭它。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-23T00:59:31.000

在不更改实际的 Visual Studio 设置（我怀疑是否存在）的情况下，您可以键入“new”，然后是 ESC，然后是“{”。这并不理想，但它使您不必每次都删除“对象”一词。

您可以通过编辑选项来解决这种特殊情况：“文本编辑器”->“C#”->“IntelliSense”=>“通过键入以下字符提交：”。去除 ”{”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2010-03-25T22:33:46.727

我制作了一个 ReSharper Live 模板：

```
Shortcut: new

Contents: 
new { $END$ } 
```

现在我可以输入 new-TAB 并最终得到“new { }”和我的光标在花括号之间。

这并不理想，但更好。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-07-08T21:04:31.093

当智能感知变得烦人时，我所做的就是注释掉一些空白行，将我的代码写在这些行上，作为注释，然后在我完成时取消注释。瞧，你可以写任何你想写的东西，智能感知不会介入。其他时候，当你想要智能感知时，它不会被禁用。我希望这可以帮助那里的人！

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-23T07:43:34.387

默认情况下关闭 IntelliSense 选项

在工具菜单上，单击选项。

选择文本编辑器文件夹。

选择要自定义 IntelliSense 的语言的文件夹。

在常规属性页中，清除不需要的 IntelliSense 功能的复选框：

```
Auto list members applies to List Members

 Parameter information applies to Parameter Info 
```

# nhibernate - 如何使用 Fluent NHibernate 映射实体 -> 接口关系？

> ID：1022227
> 
> 赞同：7
> 
> 时间：2009-06-20T18:49:18.823
> 
> 标签：nhibernate, fluent-nhibernate

给定以下类定义：

```
public class Order {
  public IProduct Product {get;set;}
} 
```

我有这个（流利的）映射

```
References(x=>x.Product, "ProductId"); 
```

并得到这个异常：来自表 Orders 的关联引用了一个未映射的类，这是有道理的，因为它不知道我将传递给它什么实现。

我明白为什么我必须在映射中定义类型（IProduct 可以是任何东西），但我不知道该怎么做。

谢谢，

凯尔

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-11-24T17:04:10.763

I think what you're looking for is `.References<Product>(x=>x.Product, "ProductId");`

Incidentally the same is true for `.HasMany<>`

This seems to do the same as `<... class="Product" />` in xml

I wouldn't recommend mapping to the interface as it breaks the whole point of using one - you run into problems as soon as it starts implementing IStorable and NH can't cope with the multiple inheritance.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-20T18:54:31.107

尝试映射接口`IProduct`而不是具体类`Product`。（注意，我不是在谈论映射`Product`class 的字段`Order`。）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-06-22T06:01:02.440

您可以使用适当的继承模型将接口->实现关系映射为继承关系。

这意味着映射 IProduct，然后在 IProduct 映射中创建 Product 的子类映射，例如使用 table-per-hierarchy。

这也可以让您在不属于 IProduct 接口的产品类中映射其他数据，如果您愿意，还可以以相同的方式映射其他 IProduct 实现。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-07-13T04:48:20.517

I've been working on improving the support for proxy interfaces in Fluent. There were a couple of useful patches attached to issues 256 and 257, but they really needed everything specified manually. I've taken these a step further and added support for setting proxies and changing the types of references from the inferred (which would be the proxy) to the underlying mapped class, and added a new convention (ProxyConvention) to set it all up automatically - just instantiate it with a function to derive the proxy interface from a mapped class, and it should take care of the rest.

The one loophole at the moment is that it can't pick up any definitions specified explicitly in .hbm.xml files.

The patch is attached to [issue 256](http://code.google.com/p/fluent-nhibernate/issues/detail?id=256)

# javascript - Jquery验证插件和切换必填字段

> ID：1022232
> 
> 赞同：3
> 
> 时间：2009-06-20T18:52:31.593
> 
> 标签：javascript, jquery, validation, forms

是的，基本上，我正在构建一个 Web 表单，该表单需要根据所选国家/地区提供不同的所需表单和验证功能。

**我在用**

```
<script type="text/javascript" src=" jquery-1.3.2.min.js" charset="utf-8"></script>
<script type="text/javascript" src=" jquery.validate.js" charset="utf-8"></script> 
```

**这是我的JS代码**

```
 <script type="text/javascript" charset="utf-8">
 function updatRequreForm (STATE,ZIPCODE) {
    $("#frm_verification").validate({
            rules: {
              'form[country]' : "required",
              'form[state]' : {required: STATE},
              'form[zip]': {required: ZIPCODE},
               },

            messages: {
              'form[country]' : "This field is required.",
              'form[state]' : "This field is required.",
              'form[zip]': "This field is required.",
      });
 };

 function setRequreForm () {
    var _cs = $('#country_select')[0];

    if ('US' != _cs.value)
    {
        $('#state_star')[0].innerHTML = '';
        $('#zip_star')[0].innerHTML = '';
        updatRequreForm (false,false);
    }
    else
    {
        $('#state_star')[0].innerHTML = '*';
        $('#zip_star')[0].innerHTML = '*';
        updatRequreForm (true,true);
    }
 };    

 $(document).ready(function() {
    setRequreForm ();
    $('#country_select').change(function(){
        setRequreForm ();
    });
 });

</script> 
```

**这是我的 HTML：**

```
<form id="frm_verification" action="some.php" method="POST">

<label for="country_select"><sup>*</sup>Country:</label>
<select name="form[country]" id="country_select">
    <option value="">- Select -</option>
    <option value="US" selected="selected">United States</option>
    <option value="ZM">Zambia</option>
    <option value="ZW">Zimbabwe</option>
</select>

<label for="select-state"><sup id="state_star">*</sup>State/Province/Region:</label>
    <span id="states_select">
        <select id="select-state" name="form[state]">
            <option value="">- Select -</option>
            <option value="AK">Alaska</option>
        </select>
    </span>

    <span id="states_text" style="display:none;">
    <input type="text" name="form[state]" value="" id="state" />
    </span>

<label for="zip_code"><sup id="zip_star">*</sup>ZIP/Postal Code:</label>
<input type="text" id="zip_code" name="form[zip]" value="" id="zip">

<input type="submit" value="Submit" id="submit_btn" class="submit">
</form> 
```

基本上，我需要创建的是：

```
1.When user select US on country selection, the State and Zip area become required.
2.When user select Zambia on country selection, the State and Zip area become non-required. 
```

**问题**：

当我第一次加载页面并单击带有空字段的提交按钮时，表单成功验证了每个字段并显示警告。但是选择赞比亚，验证不起作用。

**猜测**：

我已删除“setRequreForm ();” 准备好的功能，如：

```
$(document).ready(function() {
  //setRequreForm ();
    $('#country_select').change(function(){
        setRequreForm ();
    });
 }); 
```

并尝试选择赞比亚，并尝试验证表格并且它有效。所以我认为调用“validate()”两次会导致错误。好吧，我坚持了一段时间。请帮我解决这个问题，我将非常感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-06-20T22:03:08.510

您不能调用多个验证，因为您运行的验证插件不止一个，这会导致错误。

你可以像这样设置你的验证器：

```
$("#myform").validate({
   ignore: ".ignore"
}) 
```

Ignore 告诉验证器：不应验证具有忽略 css 类的字段。

当您更改要求时，然后添加到指定的字段 css 类“忽略”：

```
$("#field1").addClass("ignore"); 
```

否则删除此类：

```
$("#field2").removeClass("ignore"); 
```

# java - Java中的数组排序

> ID：1022234
> 
> 赞同：3
> 
> 时间：2009-06-20T18:53:48.270
> 
> 标签：java, arrays, sorting

我想将 2 个数组传递给 Java 中的一个函数，并在调用函数中对它们进行排序。我如何使用函数来实现这一点？

我可以让函数返回一个包含 2 个数组的对象，但是有没有非面向对象的解决方案呢？

编辑：在这种特殊情况下，我不能在 Java 中使用内置的 Array.sort 函数。假设这两个数组是高度和重量。它们具有相同的长度，并且相同的索引对应于两个数组上相同的人的身高和体重。我想对高度数组进行升序排序，同时对高度数组对应的权重数组进行排序。所以使用 sort 函数会弄乱两个数组之间的关系。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-06-20T18:56:10.993

```
public void sort2(Object o1[], Object o2[])
{
  Arrays.sort(o1);
  Arrays.sort(o2);
} 
```

稍微复杂一点：

```
public <T> void sort2(T o1[], T o2[],  Comparator<? super T> c)
{
  Arrays.sort(o1, c);
  Arrays.sort(o2, c);
} 
```

编辑：通常，当您使用并行数组时，这意味着您没有正确使用对象。按照您的示例，您应该有一个具有身高和体重属性的 Comparable Person 类。当然，就像 Mehrdad 说的，你可以手动实现一个并行数组排序算法，但这确实不太理想。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2009-06-20T18:56:47.810

当您将数组传递给函数时，它不会被复制。只是它的引用被复制并传递给指向同一位置的函数。您只需要就地对数组进行排序。

编辑：要解决实际的排序问题，您可以使用任何排序算法对`height`数组进行排序。唯一的区别是，当你在排序过程中交换两个元素时，你还应该交换数组`height`中的相应元素。`weight`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-06-20T21:03:23.547

虽然使用两个单独的数组并保持它们的排序同步是可能的，但使用这种类型的解决方案可能会导致以后很难找到的错误。例如，如果数组之间的同步不能正常工作，那么错误的权重可能与高度匹配。

避免此类问题的一种方法是将身高/体重封装在一个类中，以便它们始终保持同步。在图 1 中有一个名为的类`Person`，它具有身高、体重和名称作为属性。如果您总是要按高度升序排序，那么您可以实现`compareTo()`如图 1 所示的方法。

图 2 显示了一个 junit 测试用例，用于演示如何对`Person`s 列表进行排序。测试用例还演示了如何按重量排序。在这两种情况下，重量和高度之间永远不会出现同步问题，因为排序是在封装它们的对象上。

图 1 -`Person`类

```
 public class Person implements Comparable {
    private Float height;
    private Float weight;
    private String name;

    public Person(){}

    public Person(Float height, Float weight, String name) {
        this.height = height;
        this.weight = weight;
        this.name = name;
    }

    public Float getHeight() {
        return height;
    }
    public void setHeight(Float height) {
        this.height = height;
    }
    public Float getWeight() {
        return weight;
    }
    public void setWeight(Float weight) {
        this.weight = weight;
    }

    public String getName() {
        return name;
    }
    public void setName(String name) {
        this.name = name;
    }

    public int compareTo(Person other) {
        //sort by height ascending
        return this.height.compareTo(other.getHeight());
    }
} 
```

图 2 - junit 测试类

```
 import junit.framework.TestCase;
import java.util.*;

public class PersonTest extends TestCase {

    private List personList = new ArrayList();

    public PersonTest(String name) {
        super(name);
    }

    public void testCompareTo() {
        personList.add(new Person(72F,125F,"Bob"));// expect 3rd when sorted by height asc
        personList.add(new Person(69.9F,195F,"Jack"));// expect 2nd when sorted by height asc
        personList.add(new Person(80.05F,225.2F,"Joe"));// expect 4th when sorted by height asc
        personList.add(new Person(57.02F,89.9F,"Sally"));// expect 1st when sorted by height asc
        Collections.sort(personList);
        assertEquals("Sally should be first (sorted by height asc)",personList.get(0).getName(),"Sally");
        assertEquals("Jack should be second (sorted by height asc)",personList.get(1).getName(),"Jack");
        assertEquals("Bob should be third (sorted by height asc)",personList.get(2).getName(),"Bob");
        assertEquals("Joe should be fourth (sorted by height asc)",personList.get(3).getName(),"Joe");

        Collections.sort(personList,new Comparator() {
            public int compare(Person p1, Person p2) {
                //sort by weight ascending
                return p1.getWeight().compareTo(p2.getWeight());
            }
        });
        assertEquals("Sally should be first (sorted by weight asc)",personList.get(0).getName(),"Sally");
        assertEquals("Bob should be second (sorted by weight asc)",personList.get(1).getName(),"Bob");
        assertEquals("Jack should be third (sorted by weight asc)",personList.get(2).getName(),"Jack");
        assertEquals("Joe should be fourth (sorted by weight asc)",personList.get(3).getName(),"Joe");      
    }

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-20T18:58:53.017

所以你想让函数A调用函数B。然后B对数组进行排序，A取回两个排序的数组？

由于参数在 Java 中是引用，如果您在 B 中修改对象，A 将看到修改后的版本。

在 C# 中，甚至可以用 out 关键字明确表示，告诉大家该函数将修改 out 参数。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-06-21T06:49:07.853

您可以返回一个数组数组或一个包含两个数组的对象。但是，听起来这两个数组中的值应该是相关的，因此您应该真正拥有一个包含这两个值的对象数组。

顺便说一句：我永远不会使用浮点数，我也会避免使用浮点数（因为它只能精确到 6 个位置）我建议使用 int、long 或 double。

# django - 链接到 django 管理站点

> ID：1022236
> 
> 赞同：58
> 
> 时间：2009-06-20T18:54:20.920
> 
> 标签：django, django-admin, django-templates, django-urls

非常基本的问题，但我无法在网上找到答案。我有一个模板，我想将它链接到 django 管理站点（即 localhost:8000/admin）。这个代码是什么？

我在想像

```
<a href="{% url admin.site.root %}">link to admin panel</a> 
```

但是，当我尝试上面的代码片段时，我得到：

```
Caught an exception while rendering:
  Reverse for 'project_name.django.contrib.admin.sites.root' with
  arguments '()' and keyword arguments '{}' not found. 
```

帮助？

* * *

## 回答 #1

> 赞同：110
> 
> 时间：2010-03-11T23:44:43.930

尝试 Oggy 的建议，然后在当前 Django 中使用 ':' 而不是 '_'：

```
<a href="{% url 'admin:index' %}">link to admin panel</a> 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2009-06-20T19:13:07.497

您使用的是哪个 django 版本？如果您使用的是主干，请将您的管理员 urlpatterns 更改为：

```
(r'^admin/(.*)', admin.site.root) 
```

至：

```
('^admin/', include(admin.site.urls)) 
```

然后你会得到一个名为“admin_index”的命名 URL 模式，你可以参考它。看

[http://docs.djangoproject.com/en/dev/ref/contrib/admin/#reversing-admin-urls](http://docs.djangoproject.com/en/dev/ref/contrib/admin/#reversing-admin-urls)

了解更多信息

# c++ - 仅在某些子类中覆盖相同的方法，如何避免重复？

> ID：1022242
> 
> 赞同：1
> 
> 时间：2009-06-20T18:56:24.003
> 
> 标签：c++, oop, polymorphism

我正在使用一个基类，目前有 5 个子类。其中 3 个孩子的某些功能相似，但不是全部。我无法引入新的层次结构，因为在子 1、2、3 和 2、3、4 中重复了一些方法。

我怎样才能最好地避免覆盖所有 3 个孩子的方法并重复代码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-20T19:08:33.417

当你不想使用多重继承时，你也可以使用**组合**。

将通用代码放入一个特殊的类中，并将该类的实例添加到需要该代码的子类中。然后，您可以导航到功能或将调用包装到访问方法（内联）中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-20T19:00:09.643

创建一个混合类，并让具有共同方法的子类也从它继承。例如：

```
class Base {
  public:
    virtual commonFunction() { /* default implementation */ };
}; 

class Mixin {
  public:
     virtual notSoCommonFunction() { /* default implementation */ };
};

class D1 : public Base {
  public:
     virtual commonFunction() { /* override implementation */ };
};

class D2 : public Base, public Mixin {
  public:
     virtual commonFunction() { /* override implementation */ };
     virtual notSoCommonFunction() { /* override implementation */ };
};

class D3 : public Base, public Mixin {
  public:
     virtual commonFunction() { /* override implementation */ };
     virtual notSoCommonFunction() { /* override implementation */ };
}; 
```

因此，所有类 D1、D2、D3 都实现（并且可选地覆盖）commonFunction，但只有 D2 和 D3 实现（并且可选地覆盖 notSoCommonFunction）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-06-20T19:02:23.150

您可以添加一个新的中间类，其中包含`protected`用于每个函数的不同实现的方法。然后在子类中覆盖原始基类的方法并`protected`从这个新的中间类调用适当的方法。

```
class Base {
    public void foo() { /* ... */ }
    public void bar() { /* ... */ }
}

class Middle extends Base {
    protected void foo1() { /* ... */ }
    protected void foo2() { /* ... */ }
    protected void bar1() { /* ... */ }
    protected void bar2() { /* ... */ }
}

class Child1 extends Middle {
    // Use default foo()
    public void bar() { bar1(); }
}

class Child2 extends Middle {
    public void foo() { foo1(); }
    public void bar() { bar2(); }
}

class Child3 extends Middle {
    public void foo() { foo2(); }
    // Use default bar()
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-06-20T19:09:10.907

或者你可以探索[策略模式](http://en.wikipedia.org/wiki/Strategy_pattern)。有时，HAS-A 关系是比 IS-A 更好的选择。当然，我不知道你的问题是否允许引入模式

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-06-24T15:58:01.977

代码审查可以等待你得到满意的答案，对吧？凉爽的。:-)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2009-06-20T19:13:46.903

上面的大多数答案都在谈论使用新类，但我使用的方法调用了该类的许多其他方法，并且还使用了一些类实例变量。如果我使用 mixin 或编写一个新类，我将无法实现该方法。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2009-06-20T19:22:20.410

如果您需要访问该类的其他成员，您可以使用指向适当类型`static_cast`的指针的模板化 mixins：`this`

```
template<class T>
class M1Mixin {
public:
   int m1() {
     return static_cast<T*>(this)->some_value;
   }
};

class Base {
public:
  int some_value;
  ...
};

class A : public Base, M1Mixin<A> {
  ...
}; 
```

它不漂亮，但它有效。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2009-07-13T18:51:59.007

另一个可能有效的解决方案如下：

假设基类名为 MyBaseClass，子类为 ChildClass1 到 ChildClass5，您要复制的函数如下所示：

```
public int foo(Object args)
{...} 
```

现在您可以做的是使用静态方法创建一个单独的类（称为“HelperFunctions”或类似的名称）：

```
public static int fooHelper(BaseClass theClass, Object args)
{insert duplicated code here} 
```

然后让你想要调用该辅助函数的类中的 foo 函数。

这有几个优点：

1.  您没有创建新对象或更改类型层次结构。由于辅助函数是静态的，您可以在不需要任何新对象的情况下调用它。
2.  你仍然可以调用类的方法，因为你传入的是 BaseClass 类型的对象，所以你可以像在类中一样调用它的方法。

> 上面的大多数答案都在谈论使用新类，但我使用的方法调用了该类的许多其他方法，并且还使用了一些类实例变量。如果我使用 mixin 或编写一个新类，我将无法实现该方法。

我不确定我是否理解问题所在。至少在我的解决方案中，您正在传递对象，因此您可以调用任何方法并访问您想要的对象上的实例变量。您要访问的实例变量或方法是否是私有的，因此您无法在类外访问它们？在这种情况下，您可以通过将辅助函数声明为友元函数来轻松解决它（只需谷歌“c++ 友元函数”获取有关如何使用它们的教程）

# wcf - WCF 自托管性能

> ID：1022244
> 
> 赞同：1
> 
> 时间：2009-06-20T18:57:27.293
> 
> 标签：wcf, multithreading, windows-services, appdomain, nettcpbinding

我正在使用 WCF 和 NetTCP 服务编写企业级应用程序。我最初出于好奇选择了 NetTCP，但后来确定它对我来说是最佳选择，因为由于涉及的数据处理量，我可以拥有需要 5 个多小时才能返回结果的调用服务。

我目前产生我的服务的方式是一个多步骤的过程。我有一个配置部分（使用 System.Configuration），它指定了一些默认内容（端口号、连接客户端的服务器名称、是否启用 HTTP 以及 NetTCP 等），并且在下面有一个“服务”集合它。例如，这是一个基本的样子：

```
<serverConfiguration tcpListenerPortNumber="60000" httpGetEnabled="true" httpListenerPortNumber="6000" serverName="localhost" retryEnabled="true" retryInterval="5" maxRetryAttempts="3">
    <services>
        <add virtualDirectory="Service1" applicationName="Service1" assembly="SampleService" type="SampleService.Service1" />            
    </services>
</serverConfiguration> 
```

基本上这里发生的事情是我的 Windows 服务启动并查看 <services /> 集合中的所有内容，并为每个服务生成一个线程以加快启动时间，每个线程都包含一个 AppDomain 服务真正存在的地方，所以如果服务有某种类型故障它不会使系统停机。

我遇到的“问题”是这个应用程序托管了大约 20 个服务，并且所有服务都需要 15-20 秒才能启动并运行。我做了线程和 AppDomain 部分以将其降低到该值（过去通常需要一分钟，因为每个服务都是按顺序打开的），但在我看来，这实际上可以快得多。

有人有什么建议吗？~~谷歌~~必应有大量托管一项服务的示例，但我在现实世界的应用程序中没有找到太多的例子（遗憾的是，“Hello World”对最终用户没有吸引力）。如果您当前通过 Windows 服务和 NetTCP 托管多个服务，您是如何做到的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-25T21:26:46.310

我终于弄明白了，毕竟它与 WCF 或我的配置片段无关。当我创建 AppDomain 时，我从另一个项目中窃取了代码，该项目的大小要小得多，并发现创建 AppDomains 的部分正在使用 SingleDomain 选项。将其更改为 MultiDomain 使总负载和内存使用量从约 150MB 降至约 40MB 的时间超过 4 秒。

不过感谢您的帮助-至少它让我再次查看了代码！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T22:19:54.203

我有三个建议：

首先，如果一个电话可能需要 5 个多小时，我会考虑排队/回叫风格的架构。

考虑将您的服务拆分为 20 个 Windows 服务，每个服务在其自己的 Windows 服务中运行。这增加了复杂性并增加了内存使用量，但单个服务可能更快可用。

最后，检查服务构造函数中的代码是否有任何不需要的代码。

# visual-studio-2008 - 允许从 Windows 资源管理器拖放到 Visual Studio 2008

> ID：1022247
> 
> 赞同：6
> 
> 时间：2009-06-20T18:59:09.850
> 
> 标签：visual-studio-2008, drag-and-drop, windows-explorer

有什么方法可以让 Visual Studio 2008 接受来自 Windows 资源管理器的删除文件？

我数不清有多少次我本能地将文件拖入 VS 只是为了提醒这个明显的功能而不是似乎缺少的功能。

当然，必须有某种方法来做到这一点。

* * *

**编辑**

我在寻找答案时确实找到了[VS Explorer插件。](http://www.ssware.com/vsexplorer/vsexplorer.htm)我喜欢它，但是从资源管理器中拖放仍然很好。

* * *

**编辑二**

为了澄清，我希望能够通过删除项目/解决方案和单个文件（xml、.c、.cpp 等）来打开它们。就像现在一样，我有一个我想在 VS 中查看的 XML 文件。我打开了我的项目，但我无法将 XML 文件拖到 VS 中打开它。我必须归档...打开...

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2009-06-20T19:17:51.480

这是开箱即用的。

但是，如果您以管理员身份或其他用户（与您当前登录的 Windows 用户不同的用户）运行 Visual Studio，则 Windows 不允许此类操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T19:06:12.907

你能扩展你得到的东西吗，我可以做到这一点...从 Windows 资源管理器拖到 VS 解决方案中？

这是默认功能。拖动文件通常会打开。

当你尝试这样做时会发生什么？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2010-04-06T18:56:42.713

我发现了一个关于这个主题的很好的讨论，它涵盖了一个稍微不同的工作流程：

[拖放在 Visual Studio 2008 中不起作用，但不适用](http://social.msdn.microsoft.com/Forums/en/winforms/thread/b56afbcf-3f3c-4ea3-b23a-274505534de1)

# objective-c - 在这种情况下如何处理内存管理？

> ID：1022250
> 
> 赞同：0
> 
> 时间：2009-06-20T18:59:46.027
> 
> 标签：objective-c, memory-management, autorelease

我有两个类，一个处理数据库连接的类和一个实体类。db 类有一个名为 GetEntityByID:(int)entity_id 的实例方法。此方法执行一个简单的选择语句，并使用 init 方法创建一个 Entity 类实例。

这很好用，但是调用 GetEntityByID 的人必须记住释放它。由于 GetEntityByID 不是“init”方法，这似乎不对。在这种情况下，我如何最好地处理内存管理？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-06-20T19:01:58.393

如果实例没有被保留，您可以在类上调用`autorelease`您的方法来自动释放实例。`GetEntityID`

由于类的实例化是在您的数据库连接类的方法中完成的，因此返回实例的对象并不“拥有”它 - 您的数据库连接类。至此，按照[惯例](http://developer.apple.com/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmRules.html#//apple_ref/doc/uid/20000994)，您需要对实例进行内存管理：

> 如果您使用名称以“alloc”或“new”开头或包含“copy”（例如，alloc、newObject 或 mutableCopy）的方法创建对象，或者向其发送保留消息，则您将获得对象的所有权。您有责任放弃使用 release 或 autorelease 拥有的对象的所有权。任何其他时间您收到一个对象，您都不能释放它。

如果发送该`GetEntityID`方法的对象想要保留该对象，例如，如果要将其用作实例变量，则可以保留返回的对象，防止它在当前事件结束时被释放。如果它只是在本地使用，并且不需要在当前事件之后保留，那么该类不需要做任何事情；它将在当前事件结束时由自动释放池释放。

[本文](http://developer.apple.com/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmAutoreleasePools.html)解释了有关自动释放池的更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T19:50:34.770

要自动释放返回的对象，`GetEntityID`请执行以下操作`GetEntityID`：

```
...  // cool stuff in GetEntityID
return [[entity_id retain] autorelease];
} 
```

看看这篇非常[好的文章](http://www.stepwise.com/Articles/Technical/2002-06-11.01.html)，更详细地解释了 Objective-C 内存管理。

# asp.net-mvc - 在 ASP.NET MVC 站点中为子类进行输入的最佳方式

> ID：1022251
> 
> 赞同：0
> 
> 时间：2009-06-20T18:59:52.717
> 
> 标签：asp.net-mvc

我知道标题有点难以弄清楚，但我不知道如何描述问题，但它来了。

我有这个域实体：用户，它有一个子类地址的列表，因为用户可以有多个地址。家庭、工作等...

```
private class User{
   private string _FirstName;
   private string _LastName;
   private IList<Address> _addresses;

   public string FirstName{...}
   public string LastName{...}
   public IList<Addresses> Addresses {...}
}  

private class Address{
  private string _streetAddress1;
  private string _streetAddress2;
  ...

  public string StreetAddress1{...};
  public string StreetAddress2{...};
  ...
} 
```

我有一个看起来像这样的输入数据的验证。

```
[AcceptVerbs(HttpVerbs.Post)]
[ValidateModelAttribute(typeof(FormUser))]
public ActionResult CreateEdit([Bind(Prefix = "")] FormUser formUser)
{
    //-- Check so the input
    if (!ModelState.IsValid)
       return View();

    User modelUser = new UserMapper().MapToModel(formUser);
    _UserRepository.Save(modelUser);

    return RedirectToAction<SharedController>(m => m.Success());
} 
```

FormUser 是我的 PresentationEntity，看起来像这样。

```
public class FormUser
{
    [NonEmptyValidator("Field is required!")]   
    public string FirstName{get;set;}
    [NonEmptyValidator("Field is required!")]    
    public string LastName{get;set;}

    public List<Address> Addresses{get;set;}
} 
```

对于 FirstName 和 LastName 归档，这没问题，它非常简单，而且效果很好。但是现在我已将 Addresses 属性添加到我的 User 实体中，并希望通过轻松验证 Address 实体中的输入字段来以一种智能的方式进行此输入。

假设我的网页中有名字和姓氏文本框，现在我想为这个用户添加一个地址。我可以看到一种方法来做到这一点

它是打开一个具有自己的控制器的新网页，该控制器进行与我为用户所做的相同的验证。所以我的 AddressController 中有一个 FormAddress 类和 CreateEdit()- 方法。我在这里看到的问题是，当我完成数据验证后，如何将此地址数据添加给用户？

或者有没有更好的方法来做到这一点。在有状态的应用程序中这真的很容易，但在这里我看不到一个好的干净的方法来做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-06-23T15:52:46.680

视图上的表单可以包含用户和地址字段。让此表单转到需要用户和地址的单个 ActionResult。该框架会将表单中的字段映射到域模型类中的属性（只要您使用与类属性相同的名称命名表单字段）。

```
public ActionResult CreateEdit(User user, Address address)

{
//validate the user and the address here (how is up to you)

//add the user

//add the address to the user

//save to the db
} 
```

现在，在您的 ActionResult 中，您可以分别对 User 对象和 Address 对象执行验证。

# comments - 在 Notepad++ 中注释代码

> ID：1022261
> 
> 赞同：107
> 
> 时间：2009-06-20T19:03:15.347
> 
> 标签：comments, notepad++

我使用*Notepad++*作为编辑器在 Python 中编写程序。这听起来可能很愚蠢，但我在编辑器中环顾四周，找不到任何方法（不是手动方式，而是在 Emacs 中）在我的代码中进行块注释。

*由于Notepad++*支持这么多语言设置，我很想找到一种方法来阻止评论代码。

* * *

## 回答 #1

> 赞同：142
> 
> 时间：2009-06-20T19:06:48.273

`CTRL`+`Q`阻止评论/取消评论。

请参阅[键盘和鼠标快捷方式 - Notepad++ Wiki](http://docs.notepad-plus-plus.org/index.php?title=Keyboard_And_Mouse_Shortcuts)。

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2009-06-20T19:05:17.950

尝试以下快捷方式：

`Ctrl`+ `K`.

* * *

## 回答 #3

> 赞同：22
> 
> 时间：2014-01-11T15:41:17.040

这个链接正是我正在寻找的。

让我为他人的利益总结一下答案（**对于python和notepad++**）

1）`Ctrl`+`K`在多行（即选定区域）上允许您***阻止评论***。

另请注意，多次按下组合允许您添加多个“#”（有时我在测试时使用它来区分其他注释）

2）++ `Ctrl`（在注释区域）允许您执行***块取消注释***`Shift``K`

 *3) `Ctrl`+ `Shift`+`K`在未注释的选定区域***上不注释它***

4) `Ctrl`+`Q`允许您在***切换模式下*****阻止评论/取消评论**（意思是，您不能像 1) 一样添加多个'#'）

 *希望这可以帮助另一个流浪的灵魂。

*问题 - 如果没有快捷键，你将如何开发一种键盘组合来评论/取消评论？只是好奇。我不知道所以问。*

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2014-08-05T11:58:25.453

是的，在**Notepad++**中你可以做到这一点！

关于评论的一些热键：

*   `Ctrl`+`Q`切换块评论
*   `Ctrl`+`K`阻止评论
*   `Ctrl`+ `Shift`+`K` 阻止取消评论
*   `Ctrl`+ `Shift`+`Q` 流评论

来源：来自**评论/取消评论部分的**[shortcutworld.com](http://www.shortcutworld.com/en/win/Notepad-plus-plus_5.9.html)。

 **在链接上，您还会发现许多其他有用的快捷方式。

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2010-11-30T20:49:20.987

对于 .sql 文件`Ctrl`+`K`或`Ctrl`+`Q`不起作用。

在 Notepad ++中的 .sql 文件中插入注释尝试 `Ctrl`++`Shift``Q`

（虽然没有取消注释代码块的快捷方式。我已经在 v5.8.2 上尝试过）

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2015-11-04T16:48:42.963

使用快捷方式：`Ctrl`+ `Q`。您可以在*设置中自定义*

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2015-01-17T16:07:20.240

在您的 n++ 编辑器中，您可以转到 ***设置***>***快捷方式映射器*** 并找到所有快捷方式信息以及您可以编辑它们:)

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2015-11-03T18:56:48.087

块评论的两种方式：

1.  `Ctrl`+ `Shift`+`Q`

或者

1.  选择块
2.  `Alt`+ 右键单击
3.  选择块评论。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2018-04-18T07:17:12.727

要在 NOTEPAD++ 上的任何代码下添加注释，首先我们必须保存并定义编程或脚本文件类型。例如，将文件另存为 xml、html 等。文件以正确格式保存后，您将能够使用快捷键`ctrl`+直接添加评论`Q`

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2017-12-15T12:30:24.490

如果没有为您的文件选择语言类型，则没有定义样式。注释和块注释是特定于语言的样式偏好。如果那是皮塔...

要选择多行编辑，您可以使用

`shift`+ `alt`+`down arrow`

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2022-02-24T08:26:27.063

只需选择所需的行并单击`Ctrl`+ `Q` Ps：我正在使用Notepad ++****

# python - 循环中字符串的Python行为

> ID：1022264
> 
> 赞同：1
> 
> 时间：2009-06-20T19:05:08.837
> 
> 标签：python, string, loops

在尝试将分隔符处的字符串大写时，我遇到了我不理解的行为。有人可以解释为什么在循环期间字符串 s 会恢复吗？谢谢。

```
s = 'these-three_words'  
seperators = ('-','_')  
for sep in seperators:  
    s = sep.join([i.capitalize() for i in s.split(sep)])  
    print s  
print s  

stdout:  
These-Three_words  
These-three_Words  
These-three_Words 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2009-06-20T19:11:56.047

[`capitalize`](http://docs.python.org/library/stdtypes.html#str.capitalize)将第一个字符变为大写，将字符串的其余部分变为小写。

在第一次迭代中，它看起来像这样：

```
>>> [i.capitalize() for i in s.split('-')]
['These', 'Three_words'] 
```

在第二次迭代中，字符串被分成：

```
>>> [i for i in s.split('_')]
['These-Three', 'words'] 
```

因此，在两者上运行都会将 T 变成三个小写。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2009-06-20T19:14:28.133

你可以使用[`title()`](http://docs.python.org/library/stdtypes.html#str.title)：

```
>>> s = 'these-three_words'
>>> print s.title()
These-Three_Words 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-06-20T19:12:47.327

`str.capitalize`将第一个字符大写，其余字符小写。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2009-06-20T19:15:07.507

Capitalize() 将返回**仅第一个字符**大写的字符串副本。你可以使用这个：

```
默认上限：
    返回 s[0].upper() + s[1:]

```

# wcf - 使用 WCF 的多人游戏

> ID：1022267
> 
> 赞同：0
> 
> 时间：2009-06-20T19:06:25.123
> 
> 标签：wcf

我想使用 WCF 编写游戏。我正在使用所有消费者都使用的单个游戏对象。当其中一名玩家移动时，我如何通知所有其他玩家？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-20T19:10:09.920

我可以建议你看看 XNA。它是一个用于为 Windows、Xbox 360 和 Zune 编写游戏的托管框架，它支持多个玩家、处理图形等。更多信息请访问[http://creators.xna.com/en-US/](http://creators.xna.com/en-US/)

# objective-c - 命名以可预测顺序存储键的字典结构？

> ID：1022269
> 
> 赞同：10
> 
> 时间：2009-06-20T19:06:43.343
> 
> 标签：objective-c, data-structures, naming-conventions, api-design, chdatastructures

> **注意：**虽然我的特定上下文是 Objective-C，但我的问题实际上超越了编程语言的选择。此外，我将其标记为“主观”，因为否则肯定有人会抱怨，但我个人认为这几乎完全是客观的。另外，我知道[这个相关的 SO question](https://stackoverflow.com/questions/376090/nsdictionary-with-ordered-keys/)，但由于这是一个更大的问题，我认为最好将其作为一个单独的问题。请不要在没有完全阅读和理解的情况下批评这个问题。谢谢！

我们大多数人都熟悉存储键值关联的[**字典**抽象数据类型，根据我们选择的语言，我们是否将其称为映射、字典、关联数组、哈希等。](http://www.itl.nist.gov/div897/sqg/dads/HTML/dictionary.html)字典的简单定义可以概括为三个属性：

1.  通过键访问值（而不是通过索引，如数组）。
2.  每个键都与一个值相关联。
3.  每个键必须是唯一的。

任何其他属性都可以说是针对特定目的的便利或专业化。例如，某些语言（尤其是 PHP 和 Python 等脚本语言）模糊了字典和数组之间的界限，并且确实为字典提供了排序。尽管这很有用，但这样的添加并不是字典的基本特征。在纯粹意义上，字典的实际实现细节是无关紧要的。

对于我的问题，最重要的观察是**未定义枚举键的顺序**- 字典可以以它认为最方便的任何顺序提供键，并且由客户根据需要组织它们。

我[创建了强制特定键排序的自定义字典](http://dysart.cs.byu.edu/CHDataStructures/interface_c_h_lockable_dictionary.html)，包括*自然排序顺序*（基于对象比较）和*插入顺序*。很明显，将前者命名为**SortedDictionary**上的某个变体（我实际上已经实现了），但后者的问题更大。我见过[LinkedHashMap](http://java.sun.com/javase/6/docs/api/java/util/LinkedHashMap.html)和[LinkedMap](http://commons.apache.org/collections/api-3.1/org/apache/commons/collections/map/LinkedMap.html) (Java)、[OrderedDictionary](http://msdn.microsoft.com/en-us/library/system.collections.specialized.ordereddictionary.aspx) (.NET)、[OrderedDictionary](http://codeendeavor.com/gsdocs/net/guttershark/util/collections/OrderedDictionary.html) (Flash)、[OrderedDict](http://www.python.org/dev/peps/pep-0372/) (Python) 和[OrderedDictionary](http://cocoawithlove.com/2008/12/ordereddictionary-subclassing-cocoa.html) (Objective-C)。其中一些更成熟，一些更概念验证。

**LinkedHashMap**是根据 Java 集合传统中的实现来命名的——“linked”是因为它使用双向链表来跟踪插入顺序，而“hash”是因为它是 HashMap 的子类。除了用户不需要担心这一点之外，类名甚至没有真正表明它的作用。使用**有序**似乎是现有代码之间的共识，但关于这个主题的网络搜索也揭示了“有序”和“排序”之间的可以理解的混淆，我也有同感。.NET 实现甚至对明显的误称有评论，并建议它应该改为“IndexedDictionary”，因为您可以在排序的特定点检索和插入对象。

我正在设计一个框架和 API，我想尽可能智能地命名这个类。从我的角度来看，**索引**可能会起作用（取决于人们如何解释它，并基于字典的广告功能），**排序**不精确并且有太多混淆的可能性，并且**链接**“是正确的”（向 Monty Python 道歉）。;-)

作为用户，什么名称对您来说最有意义？是否有一个特定的名称可以准确地说明该类的功能？（如果合适的话，我不反对使用稍长一些的名称，例如 InsertionOrderDictionary。）

**编辑：**另一个很大的可能性（在我下面的回答中讨论）是**IndexedDictionary**。我不太喜欢“插入顺序”，因为如果您允许用户在特定索引处插入键、重新排序键等，这没有任何意义。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2009-06-30T17:55:54.273

我投票 OrderedDictionary，原因如下：

“Indexed”从不在 Cocoa 类中使用，除非在一个实例中。它总是以名词形式出现（NSIndexSet、NSIndexPath、objectAtIndex: 等）。只有一个实例是“Index”作为动词出现，它位于 NSPropertyDescription 的“indexed”属性上：isIndexed 和 setIndexed。NSPropertyDescription 大致类似于数据库中的表列，其中“索引”是指优化以加快搜索时间。因此，如果 NSPropertyDescription 作为核心数据框架的一部分，“isIndexed”和“setIndexed”就相当于 SQL 数据库中的索引。因此，将其称为“IndexedDictionary”似乎是多余的，因为创建数据库中的索引是为了加快查找时间，*有 O(1) 的查找时间。然而，称它为“IndexDictionary”也是用词不当，因为 Cocoa 中的“索引”指的是位置，而不是顺序。两者在语义上是不同的。*

 *我理解您对“OrderedDictionary”的担忧，但 Cocoa 已经开创了先例。当用户想要维护特定的序列时，他们使用“有序”：-[NSApplication orderedDocuments]、-[NSWindow orderedIndex]、-[NSApplication orderedWindows] 等。所以，John Pirie 的想法大多是正确的。

但是，您不想让插入字典成为用户的负担。他们会希望创建一次字典*，*然后让它保持适当的顺序。他们甚至不想按特定顺序请求对象。订单规范应在初始化期间完成。

因此，我建议将 OrderedDictionary 设为类集群，并使用 InsertionOrderDictionary 和 NaturalOrderDictionary 和 CustomOrderDictionary 的私有子类。然后，用户只需像这样创建一个 OrderedDictionary：

```
OrderedDictionary * dict = [[OrderedDictionary alloc] initWithOrder:kInsertionOrder];
//or kNaturalOrder, etc 
```

对于 CustomOrderDictionary，您可以让他们给您一个比较选择器，甚至（如果他们运行的是 10.6）一个块。我认为这将为未来的扩展提供最大的灵活性，同时仍保持适当的名称。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2009-06-20T19:15:10.083

我投票赞成`InsertionOrderDictionary`。你搞定了。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2009-06-27T14:47:08.837

强烈投票给 OrderedDictionary。

“有序”一词的含义正是您所宣传的内容：在遍历项目列表时，选择这些项目有一个定义的顺序。“索引”是一个实现词——它更多地谈论如何实现排序。索引、链表、树……用户无所谓；数据结构的这一方面应该被隐藏。“有序”是您提供的附加功能的确切词，无论您如何完成它。

此外，似乎订购的选择可以由用户选择。为什么你不能在你的数据类型上创建允许用户从字母顺序切换到插入时间顺序的方法？在默认情况下，用户会选择一个特定的排序并坚持使用它，在这种情况下，实现的效率不会低于为每个排序方法创建专门的子类。在一些不常用的情况下，开发人员实际上可能希望对相同的数据使用多种不同的排序方式，具体取决于应用程序上下文。（我可以想到我从事过的特定项目，我希望有这样的数据结构可用。）

称它为 OrderedDictionary，因为这正是它的本质。（坦率地说，我对“字典”这个词的使用有更多的问题，因为这个词在很大程度上暗示了排序，而流行的实现不提供它，但这是我最讨厌的。你真的应该能够说“字典”并知道排序是按字母顺序排列的——因为这就是字典的本质——但这个论点对于流行语言的现有实现来说为时已晚。）并允许用户以他选择的顺序访问。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2009-06-20T19:59:41.693

自从发布这个问题以来，我开始倾向于**IndexedDictionary**或**IndexableDictionary**之类的东西。虽然能够保持任意键排序很有用，但仅将其限制为插入排序似乎是不必要的限制。另外，我的班级已经支持`indexOfKey:`and `keyAtIndex:`，它们（有目的地）类似于 NSArray 的`indexOfObject:`and `objectAtIndex:`。我正在强烈考虑添加[`insertObject:forKey:atIndex:`](http://dysart.cs.byu.edu/flyspray/index.php?do=details&task_id=22)与 NSMutableArray 匹配的`insertObject:atIndex:`.

每个人都知道在数组中间插入是低效的，但这并不意味着我们不应该在极少数情况下允许它真正有用。（此外，如果需要，实现可以秘密使用双向链表或任何其他合适的结构来跟踪排序......）

最大的问题：“索引”或“可索引”是否像“有序”一样模糊或可能令人困惑？人们会想到数据库索引，还是书籍索引等？如果他们假设它是用数组实现的，那会是有害的吗？或者这会简化用户对功能的理解吗？

* * *

**编辑：考虑到我正在考虑在将来添加与**[NSIndexSet](http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSIndexSet_Class/)一起使用的方法，这个名字更有意义。（NSArray 具有[`-objectsAtIndexes:`](http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/occ/instm/NSArray/objectsAtIndexes:)为给定索引处的对象添加/删除观察者的方法。）

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2009-06-22T10:15:34.520

KeyedArray 呢？

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2009-06-20T19:16:30.407

正如您在上一段中所说，我认为 InsertionOrder(ed)Dict(ionary) 非常明确；除了密钥将按照插入的顺序返回之外，我看不出如何以任何方式解释它。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2009-06-21T05:40:03.713

乍一看，我同意第一个回复——InsertionOrderDictionary，尽管乍一看“InsertionOrder”的含义有点模棱两可。

您所描述的内容对我来说几乎与 C++ STL 映射完全一样。据我了解，地图是具有附加规则的字典，包括排序。STL 简单地称它为“地图”，我认为这很贴切。map 的诀窍在于，如果不使其冗余，就不能真正对继承表示认可——即“MapDictionary”。这太多余了。“地图”有点太基本了，留下了很大的误解空间。

尽管在查看您的文档链接后，“CHMap”可能不是一个糟糕的选择。

也许是“CHMappedDictionary”？=)

祝你好运。

编辑：感谢您的澄清，您每天都会学到新东西。=)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2009-06-22T07:26:13.783

通过将索引顺序与插入顺序分离，这不是简单地归结为将数组和字典保存在单个对象中吗？我想我对这类对象的投票是 IndexedKeyDictionary

在 C# 中：

```
public class IndexedKeyDictionary<TKey, TValue> { 

  List<TKey> _keys;
  Dictionary<TKey, TValue> _dictionary;
  ...

  public GetValueAtIndex(int index) {
    return _dictionary[_keys[index]];
  }

  public Insert(TKey key, TValue val, int index) {
    _dictionary.Add(key, val);

    // do some array massaging (splice, etc.) to fit the new key
    _keys[index] = key;
  }

  public SwapKeyIndexes(TKey k1, TKey k2) {
    // swap the indexes of k1 and k2, assuming they exist in _keys
  }
} 
```

真正酷的是索引值......所以我们有一种方法来对值进行排序并获得新的键顺序。就像这些值是图形坐标一样，当我们沿着坐标平面向上/向下移动时，我们可以读取键（bin 名称）。你会怎么称呼这种数据结构？索引值字典？

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2009-06-20T19:17:19.377

唯一的区别`allKeys`是以特定顺序返回键吗？如果是这样，我会简单地将`allKeysSorted`和`allKeysOrderdByInsertion`方法添加到标准`NSDictionary`API。

这个插入顺序字典的目标是什么？与数组相比，它给程序员带来了什么好处？*

# iphone - 从 iPhone 应用程序发送多部分电子邮件

> ID：1022275
> 
> 赞同：1
> 
> 时间：2009-06-20T19:08:18.380
> 
> 标签：iphone, cocoa-touch, email, multipart

我正在创建一个 iPhone 应用程序，用户可以在其中通过电子邮件将他们的工作发送给他们想要的任何人。使用 UIApplication 的 openURL 方法打开邮件应用程序很容易。

```
NSString* lsMailToStr = @"mailto:?subject=Subject!&body=Body";
[[UIApplication sharedApplication] openURL: [NSURL URLWithString:lsMailtoStr]]; 
```

但是，最好为那些不支持 HTML 电子邮件的电子邮件程序提供纯文本回退。有没有办法打开邮件应用程序并让它发送多部分的电子邮件（包含 text/plain 和 text/html）？

除了“body=”之外，还有其他参数可以提供给允许这样做的邮件应用程序吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-20T23:09:05.867

现在 iPhone OS 3.0 已经发布，有用于在应用程序内发送电子邮件的新 API。它似乎不支持您想要的，除非可能通过对添加附件的支持。我建议您提交一个请求此增强功能的错误。

# flash - 如何在增强现实中使用动画？

> ID：1022279
> 
> 赞同：2
> 
> 时间：2009-06-20T19:08:34.043
> 
> 标签：flash, actionscript-3, augmented-reality, flartoolkit

我可以使用 flash as3 中的 flarToolkit 在标记上显示图像，但是任何人都可以提出一个好的链接/教程来解释如何在 flash 中使用动画和增强现实？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-22T00:15:44.930

嗯，最重要的是，您需要了解 PaperVision3D 才能真正能够使用 flarToolkit 做一些很酷的事情。

从根本上讲，flarToolkit 正在分析相机的输出并确定标记在 3D 空间中的位置以及它的方向。然后，您可以获取该数据并将其与 PaperVision3D（或者实际上任何 3D 引擎，尽管我相信当前版本的 flarToolkit 与 PV3d 相当相关）一起使用。

首先，这里有一个 flarTookit 的基本教程：http: [//www.mikkoh.com/blog/? p=182](http://www.mikkoh.com/blog/?p=182)

然后你会想要了解 PV3D： [http ://blog.papervision3d.org/](http://blog.papervision3d.org/) [http://pv3d.org/](http://pv3d.org/)

您可以制作像 2D 动画一样简单的东西，这些动画本质上是 3D 空间中的平面，以充满 3D 角色 - 这取决于您和您的想象力！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-23T18:32:38.923

正如 Branden 所提到的，增强现实本质上是 PV3D/Away3D/Etc.. 代码的容器，然后运行代码并转换输出以适应 FLARToolkit 给它的值。

这是一篇向您展示如何使用 As3dMod 做一些基本动画 + 的帖子：[http ://www.harrynorthover.com/blog/2009/04/15/getting-started-with-augmented-reality-flartoolkit/](http://www.harrynorthover.com/blog/2009/04/15/getting-started-with-augmented-reality-flartoolkit/)

# development-environment - 您理想的 Web 开发 (ASP.NET) 环境由什么组成？

> ID：1022280
> 
> 赞同：0
> 
> 时间：2009-06-20T19:08:40.813
> 
> 标签：development-environment

我从星期一开始处理一个新客户。他们刚刚开始进行 Web 开发 (ASP.NET)，我将帮助他们建立适当的开发环境。

我不认为我会对开发人员将使用什么类型的机器发表意见，所以这更像是一个后端场景。

到目前为止，我想出的主要内容包括：

*   版本控制系统（源代码控制）。
*   错误数据库
*   Doc Repo / 项目管理 / 任务
*   （他们目前正在使用 37 个信号的 Base Camp，这对我来说是个好兆头。）*
*   开发/质量保证/暂存/构建服务器（web、db）

到目前为止，这就是我想出的。我不知道他们现在有多少预算，但是在您理想的开发环境中，您还有什么建议我建议的？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-20T19:16:55.600

你说你不会在机器上输入，但就 Web 开发或一般计算机使用的生产力而言，我会将双显示器放在列表上相当高的位置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-20T19:20:02.083

我认为，对此没有最终的答案。因为每个开发者都有自己的看法——他们用什么软件来做 VCS、Bug Tracking 等等……

这是我的意见:)

Microsoft Technologies 的理想选择是 TFS（[Team Foundation Server](http://msdn.microsoft.com/en-us/teamsystem/default.aspx)），它具有您想要的所有功能。

如果您不想要 TFS，这里是我的列表：

**版本控制系统**

*   [SVN](http://subversion.tigris.org/)
*   [水银](http://www.selenic.com/mercurial/)
*   [胃肠道](http://git-scm.com/)

**错误数据库 / 项目管理 / 任务**

*   [JIRA](http://www.atlassian.com/software/jira/)
*   [雾虫](http://www.fogcreek.com/FogBugz/)

**开发者环境**

*   双屏
*   强大的电脑
*   优质椅子
*   白板
*   免费咖啡

*   如果您将其与他们六个月的工资进行比较，这一切都非常便宜

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T19:19:06.533

开发机器：Visual Studio 2008 + VisualSVN/TortoiseSVN + Resharper

构建服务器：Teamcity

局域网测试服务器：由 buildserver 构建的 Web 服务器 + DB 每日实时副本

QA/Staging 取决于项目规模。

# objective-c - Core Data 实体中布尔属性的类型是什么？

> ID：1022284
> 
> 赞同：14
> 
> 时间：2009-06-20T19:10:14.320
> 
> 标签：objective-c, cocoa, core-data

我以与 Apple 的[Core Data Utility Tutorial](http://developer.apple.com/documentation/Cocoa/Conceptual/CoreDataUtilityTutorial/CoreDataUtilityTutorial.pdf)`.xcdatamodel`中描述的方式大致相同的方式以编程方式使用 Core Data（即不使用数据模型文件）。所以我的问题是，当我尝试将属性添加到具有 type 的实体时，它会出现一些问题。当我将它添加到我的子类头文件（在教程中，那将是）时`NSBooleanAttributeType``NSManagedObject``Run.h`

```
@property (retain) BOOL *booleanProperty; 
```

编译失败，说`error: property 'booleanProperty' with 'retain' attribute must be of object type`.

似乎 Cocoa 中的某些地方使用`NSNumber`对象来表示布尔值，所以我尝试将其设置为

```
@property (retain) NSNumber *booleanProperty; 
```

反而。但是，这会引发以下运行时错误：

```
*** -[NSAttributeDescription _setManagedObjectModel:]: unrecognized selector sent to instance 0x101b470
*** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '*** -[NSAttributeDescription _setManagedObjectModel:]: unrecognized selector sent to instance 0x101b470' 
```

使用 GDB，我可以将其追溯到源代码中将实体添加到托管对象模型的行：

```
[DVManagedObjectModel setEntities:[NSArray arrayWithObjects:myEntityWithABooleanAttribute, myOtherEntity]]; 
```

所以我的问题是：我应该在自定义类头中将 booleanProperty 设置为什么类型？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2009-06-20T19:38:27.477

尝试：

```
@property (nonatomic) BOOL booleanProperty; 
```

问题是您在属性定义中使用了保留。为此，您必须具有 Objective-C 类的属性（它应该能够理解“保留”方法）。BOOL 不是一个类，而是有符号字符的别名。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2010-10-14T14:33:59.603

我不推荐 Diederik Hoogenboom 建议的方法（即使我的核心数据属性设置为布尔值，我也遇到了错误）。

值得指出的是，虽然这一行适用于自定义对象，但不适用于 NSManagedObject 的子类：

```
@property (nonatomic) BOOL booleanProperty; 
```

您的属性应设置为：

```
@property (nonatomic, retain) NSNumber *booleanProperty; 
```

当我复制布尔类型的方法声明（使用 Jim Correia 建议的技术）时，getter 和 setter 的类型为：

```
NSNumber:-(NSNumber *)booleanProperty; 
-(void)setBooleanProperty:(NSNumber *)value; 
```

...这是核心数据中的布尔属性设置的内容，您需要使用以下内容验证您的属性：

```
-(BOOL)validateBooleanProperty:(NSNumber **)toValidate error:(NSError **)outError 
{
    int toVal = [*toValidate intValue];

    if ( (toVal < 0) || (toVal > 1) )
    {
        NSString *errorString = NSLocalizedStringFromTable(@"Boolean Property", @"TheObject", @"validation: not YES or NO");
        NSDictionary *userInfoDict = [NSDictionary dictionaryWithObject:errorString forKey:NSLocalizedDescriptionKey];

        NSError *error = [[[NSError alloc] initWithDomain:NSCocoaErrorDomain code:-1 userInfo:userInfoDict] autorelease];
        *outError = error;
        return NO;
    }
    return YES;
}//END 
```

…记得在头文件中包含 validateBooleanProperty 声明。setter 和 getter 方法使用 -(id)primitiveValueForKey:(NSString *)key 存储和检索您的属性。

最后，您需要从您设置对象的任何视图控制器/应用程序委托中显式调用 validate 方法：

```
 NSNumber *boolProp = [[[NSNumber alloc] initWithInt :0] autorelease];
    NSError *valError = nil;        
    if ([TheObject validateBooleanProperty:&boolProp error:&valError] == YES)
    {
        [TheObject setBooleanProperty :boolProp];   
    } 
```

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2012-03-27T23:21:23.713

在标题中，

```
@property (nonatomic, retain) NSNumber *booleanProperty; 
```

在实施中，

```
@dynamic booleanProperty; 
```

要将其设置为真...

```
self.booleanProperty = [NSNumber numberWithBool:YES]; 
```

要将其设置为假...

```
self.booleanProperty = [NSNumber numberWithBool:NO]; 
```

将其与字面真正的布尔值进行比较：...

```
self.booleanProperty.boolValue == YES; 
```

将其与文字假布尔值进行比较：...

```
self.booleanProperty.boolValue == NO; 
```

有关更多信息：[https](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/nsnumber_Class/Reference/Reference.html#//apple_ref/occ/clm/NSNumber/numberWithBool) ://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/nsnumber_Class/Reference/Reference.html#//apple_ref/occ/clm/NSNumber/numberWithBool ：

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2009-06-30T21:20:42.523

在 NSManagedObject 子类中生成正确访问器的最佳方法之一是在数据建模工具中打开属性或属性的上下文菜单并选择以下命令之一：

*   将方法声明复制到剪贴板
*   将方法实现复制到剪贴板
*   将 Obj-C 2.0 方法声明复制到剪贴板
*   将 Obj-C 2.0 方法实现复制到剪贴板

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2011-09-11T01:50:46.677

让 Xcode 4.0 为您决定。在 Xcode 中：从您的 *.xcdatamodel 文件视图中选择一个实体。
选择 Editor>Create NSMagedObject Subclass... Xcode 将您的 Boolean 对象声明为 NSNumber 类型。

编辑：我很好奇减轻 xcdatamodel 的动机是什么？任何人？

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2009-07-07T18:22:53.960

NSManagedObject 中布尔类型的属性是 NSCFBoolean 类型。这是 NSNumber 的私有子类。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2009-06-20T20:33:15.587

我不知道这是否只是您的错字，但是：

```
[NSArray arrayWithObjects:myEntityWithABooleanAttribute, myOtherEntity] 
```

肯定是错的。该方法的最后一个参数应始终为 nil。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2011-01-21T23:24:18.020

使用 NSNumber。CoreData 框架中没有 bool。

# ruby-on-rails - 为什么 form_helper 假定它应该调用 active_record_helper？

> ID：1022289
> 
> 赞同：1
> 
> 时间：2009-06-20T19:12:03.363
> 
> 标签：ruby-on-rails, ruby, activerecord

在我看来，这段代码会触发错误：

```
<% remote_form_for(mymodel) do |f| %>
  <%= f.error_messages %> 
```

**（mymodel 不是 ActiveRecord 对象）**

当我查看错误跟踪时，我看到这部分表明视图中的 error_messages 转换`error_messages_for`为`active_record_helper`：

```
C:/Ruby18/lib/ruby/gems/1.8/gems/
actionpack-2.3.2/lib/action_view/
helpers/active_record_helper.rb:179:in `error_messages_for'

C:/Ruby18/lib/ruby/gems/1.8/gems/
actionpack-2.3.2/lib/action_view/
helpers/form_helper.rb:984:in `error_messages' 
```

为什么`form_helper`认为它应该调用`active_record_helper`即使“mymodel”不是 ActiveRecord 对象？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-20T19:18:46.847

的实现`f.error_messages`在 ActiveRecordHelper 中，因为它取决于特定格式`ActiveRecord::Errors`（在`ActiveRecord::Base`子类上存储在 上`mymodel.errors`）。

如果您删除 error_messages，它应该可以工作。或者，您可以创建自己的类，它具有与 ActiveRecord::Errors 相同的接口，并在这种情况下替换为鸭子类型。

# php - 如何在定义的日期触发功能

> ID：1022296
> 
> 赞同：1
> 
> 时间：2009-06-20T19:14:18.447
> 
> 标签：php, javascript, triggers, cron

我正在做一个项目，如果他的帐户已过期，我需要通过电子邮件通知用户，即当用户注册他的注册日期并将过期日期插入数据库时

现在我需要做的是，当用户过期日期已过时，我需要触发一个函数，并发送一封电子邮件通知用户他的帐户过期。这需要通过函数自动完成。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-20T19:21:35.980

最简单的做法是创建一个定期（如每小时或每天）运行的基本 cron 作业，该作业运行一个 PHP 脚本，该脚本在数据库中查询任何新过期的用户，然后通过电子邮件发送给他们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-20T19:22:05.373

你可以有一个每隔一小时左右运行一次的 cronjob（如果需要，可以更快）。此 cronjob 将运行一个 PHP 脚本，该脚本获取所有过期帐户的列表并向它们发送电子邮件。

[这是一个](http://www.adminschoice.com/docs/crontab.htm)关于如何使用 crontab 的教程。

这是关于 Cronjob 和 PHP 的一个 SO 问题

*   [开始使用 cron 作业和 PHP（Zend 框架）](https://stackoverflow.com/questions/819148/getting-started-with-cron-jobs-and-php-zend-framework)
*   [PHP 中的定时任务（类似 cron）](https://stackoverflow.com/questions/318361/timed-tasks-cron-like-in-php)
*   [PHP：运行计划作业（cron 作业）](https://stackoverflow.com/questions/120228/php-running-scheduled-jobs-cron-jobs)
*   [PHP中计划任务的最佳方法是什么](https://stackoverflow.com/questions/190561/what-is-the-best-method-for-scheduled-tasks-in-php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T19:20:48.540

编写一个 cron 作业（按您认为合适的频率运行）来调用一个脚本（可能是 PHP CLI），该脚本对所有过期帐户进行选择并通过邮件发送它们。这与 JavaScript 有什么关系？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-20T19:23:50.110

可能最简单的方法是使用[at](http://unixhelp.ed.ac.uk/CGI/man-cgi?at)或[cron](http://unixhelp.ed.ac.uk/CGI/man-cgi?crontab)。其中一个可以设置为在过期时调用 PHP 或任何脚本，或者它可以每小时运行一次，每次检查是否有任何新过期的条目。

一种效率较低的方法是让页面的页眉或页脚脚本在每次加载任何页面时检查数据库，但我不推荐这种方法，除非您绝对不能使用 cron 或 at。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-06-20T20:14:54.190

顺便说一句，如果您使用的不是 unix / linux 系统而是 Windows 系统，您可以使用计划任务并调用脚本。

# java - 如何使用 + 或 - 拆分给定的字符串？

> ID：1022299
> 
> 赞同：3
> 
> 时间：2009-06-20T19:14:35.590
> 
> 标签：java, string

我想拆分一个多项式，如：

```
2x^7+x^2+3x-9 
```

进入其每一项 (2x^7, x^2, 3x, 9)

我考虑过使用 String.split()，但我怎样才能让它需要多个参数？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2009-06-20T19:17:23.290

[`split`](http://java.sun.com/javase/6/docs/api/java/lang/String.html#split(java.lang.String))接受一个[正则表达式](http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html#sum)，所以你可以这样做：

```
String[] terms = myString.split("[-+]"); 
```

当它遇到+或-时它会分裂。

**编辑：**请注意，正如 Michael Borgwardt 所说，当您像这样拆分时，您无法分辨哪个运算符（+ 或 -）是分隔符。如果这对您的使用很重要，您应该[`StringTokenizer`](http://java.sun.com/javase/6/docs/api/java/util/StringTokenizer.html)按照他的建议使用 a 。（如果你正在尝试编写一个数学表达式解析器，那么这些都不会有太大帮助。）

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2009-06-20T19:17:04.103

这听起来像是[StringTokenizer](http://java.sun.com/javase/6/docs/api/java/util/StringTokenizer.html)类的完美应用：

```
StringTokenizer st = new StringTokenizer("2x^7+x^2+3x-9", "+-", true); 
```

将返回标记（“2x^7”、“+”、“x^2”、“+”、“3x”、“-”、“9”） - 您确实需要这些标志才能获得有关多项式。如果不是，请省略最后一个构造函数参数。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-06-20T19:17:40.997

`String.split`接受正则表达式，所以试试`split("[-+]")`.

# wcf - IIS 中托管的 WCF 服务中的相对路径

> ID：1022311
> 
> 赞同：7
> 
> 时间：2009-06-20T19:17:20.233
> 
> 标签：wcf

我在 WCF 中整合了一个快速数据服务，供公共 Silverlight 2.0 应用程序访问。由于我的数据非常静态且相对简单，我只想将其存储在本地 XML 文件中（这更容易，因为编辑它的人数非常有限）。

我想知道从我的服务中找到相对路径的最佳方法是什么。在传统的 ASP.NET 中，我可以使用 Server.MapPath....在这个 WCF 服务中没有类似的东西可用。该解决方案最终将托管在我无法控制的托管服务提供商处，因此我无法对任何固定位置进行硬编码。我宁愿在我的 AppData 文件夹中获得一些 XML 文件的相对路径。

有什么建议么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2009-06-20T19:31:50.267

您可以尝试使用 Environment.CurrentDirectory 或 AppDomain.CurrentDomain.BaseDirectory

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2009-06-20T19:19:22.117

尝试使用[HostingEnvironment.ApplicationPhysicalPath](http://msdn.microsoft.com/en-us/library/system.web.hosting.hostingenvironment.applicationphysicalpath.aspx)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-06-20T19:37:02.127

WCF 服务仍然可以访问许多与您的 ASP.NET 页面相同的内容（因为最终仍然存在 HTTP 请求和响应）。您仍然可以像这样使用 Server.MapPath：

```
HttpContext.Current.Server.MapPath(...) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2011-08-05T10:36:29.420

您可以将文件存储在[IsolatedStorage](http://msdn.microsoft.com/en-us/library/system.io.isolatedstorage.isolatedstoragefile.aspx)中，而不是存储在应用程序的文件夹中。查看链接页面上的示例以了解其工作原理。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-06-20T20:48:42.030

首先，向服务添加一个操作以返回当前目录。让新操作返回 Environment.CurrentDirectory。在客户端中，检查您是否对当前目录感到惊讶。根据需要进行调整。

# jquery - 如何使用jquery对列表元素进行分组

> ID：1022316
> 
> 赞同：0
> 
> 时间：2009-06-20T19:18:22.587
> 
> 标签：jquery, list

有人可以帮我转换以下 html

```
<ul>
  <li>1</li>
  <li>2</li>
  <li>3</li>
  <li>4</li>
</ul> 
```

进入这个

```
<ul>
  <li class="li_group">
    <ul>
      <li>1</li>
      <li>2</li>
    </ul>
  </li>
  <li class="li_group">
    <ul>
      <li>3</li>
      <li>4</li>
    </ul>
  </li>
</ul 
```

使用 jQuery？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-20T20:12:36.253

以下应该可以解决问题...

```
var $liWrapper = $("<li class='li_group'><ul></ul></li>");
$("li").slice(0,2).wrapAll($liWrapper)
       .end()
       .slice(2,4).wrapAll($liWrapper); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-20T20:14:00.463

我猜您最终可能需要为不同数量的项目执行此操作。我的解决方案包括一个 while 循环。调整 while() 条件和 :lt(2) 的选择器中的数字以捕获不同数量的列表项。

```
<ul id="divide">
  <li>1</li>
  <li>2</li>
  <li>3</li>
  <li>4</li>
</ul>

<script type="text/javascript">
while ($('ul#divide > li[class!="li_group"]:lt(2)').length >= 1) {
    $('ul#divide > li[class!="li_group"]:lt(2)')
        .wrapAll('<li class="li_group"><ul></ul></li>');
}
</script> 
```

在调试时，我使用这个 CSS 来确保我生成了正确的 HTML。

```
<style type="text/css">
ul { border: 1px solid #f00; }
.li_group { border: 1px solid #00f; }
</style> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2011-08-22T20:11:43.943

这是我的解决方案：

jQuery函数：

```
jQuery.fn.groupListElement = function() {

    var $list = $(this[0]);
    var args = arguments[0] || {};
    var groupClassName = args.groupClassName || 'li_group';
    var size = args.size || 2;

    if ( $list.length > 0 ) {

        var wrapper = '<li class="' + groupClassName + '"><ul></ul></li>';

        while ( $('> li[class!="' + groupClassName + '"]',$list).slice(0, size).length >= 1) {
            $('> li[class!="' + groupClassName + '"]',$list).slice(0, size)
                .wrapAll(wrapper);
        }

    }

    return $list;

}; 
```

调用函数

```
$('ul').groupListElement({groupClassName: 'li_group', size : 3}); 
```

与 Jquery Cycle 一起使用：

```
$('ul')
 .groupListElement({groupClassName: 'li_group', size : 3})
 .cycle(); 
```

享受 ！

# c++ - 为什么在放置 new 时不隐式调用析构函数？

> ID：1022320
> 
> 赞同：3
> 
> 时间：2009-06-20T19:19:24.927
> 
> 标签：c++

正如本网站所引用的...... [http://www.parashift.com/c++-faq-lite/dtors.html#faq-11.10](http://www.parashift.com/c++-faq-lite/dtors.html#faq-11.10) 但我没有找到原因，为什么我们应该显式调用desturctor？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2009-06-20T19:32:52.107

您可以将其视为对删除的调用，但由于您使用了placement new，因此您不想使用delete，因为这会试图释放内存。如果您希望它被自动调用，您可以使用[RAII](http://en.wikipedia.org/wiki/Resource_Acquisition_Is_Initialization)：

```
// Could use a templated version, or find an existing impl somewhere:
void destroy_fred(Fred* f) {
   f->~Fred();
}

void someCode()
{
   char memory[sizeof(Fred)];
   void* p = memory;
   boost::shared_ptr<Fred> f(new(p) Fred(), destroy_fred);

   // ...

   // No need for an explicit destructor, cleaned up even during an exception
} 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2009-06-20T19:23:34.153

通常，`new`ed 对象在`delete`被调用时会被破坏。永远不会调用 delete 来放置 new，因此您必须自己弄清楚何时销毁对象，并明确地这样做。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2009-06-20T19:25:35.363

您不能调用普通删除，因为这会尝试释放未使用普通 new 分配的内存，因此您可以直接调用析构函数，然后根据您使用的体系结构处理底层内存分配。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2009-06-20T19:30:07.273

通常，对象是使用创建的`new`，并在您调用该对象时销毁`delete`。然而，因为'delete'也会尝试将底层内存释放回堆，所以你永远不应该调用`delete`一个使用placement实例化的对象`new`。

尽管如此，（无论它是如何分配的）每个对象都应该被销毁（因为它的析构函数可能会做一些重要的事情）。

`delete`因此，您必须自己销毁对象，并通过调用其析构函数明确地这样做，而不是使用销毁对象，如您引用的常见问题解答中所示。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2009-06-20T19:33:55.910

您链接中的示例：

```
void someCode()
 {
   char memory[sizeof(Fred)];
   void* p = memory;
   Fred* f = new(p) Fred();
   ...
   f->~Fred();   // Explicitly call the destructor for the placed object
 } 
```

“placement new”返回我们提供的内存偏移量。在*new*之后，编译器立即添加了对 ctor 的调用（“placement new”也是一种显式调用 ctor 的技巧）。

“内存”是在堆栈中分配的，所以我们不能*删除*它。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2009-06-20T19:51:21.147

```
string *ps = new string("Hello "); 
```

上述语句中的 new 称为**new operator** r，它做两件事

1.  调用运算符 new（*分配* 必要的内存，如 malloc）和
2.  在 operator new 创建的原始内存上调用构造函数进行*初始化*

    删除ps；

再次删除对应

1.  破坏对象和
2.  内存释放（即空闲）

在c++中，不允许用户直接调用构造函数，当你通过某种方式分配了原始内存并想用构造函数初始化位时使用放置new。因为内存分配过程不是通过operator new发生的，所以delete不能释放内存.

```
void someCode()
     {
       char memory[sizeof(Fred)];//memory allocated on stack
       void* p = memory;
       Fred* f = new(p) Fred();//placement new 
       ...
       f->~Fred();   // Explicitly call the destructor for the placed object
     } 
```

# embedded-resource - 如何发布游戏？

> ID：1022321
> 
> 赞同：2
> 
> 时间：2009-06-20T19:19:26.017
> 
> 标签：embedded-resource, publishing

我不只是指发布，而是从纯编码完成到发布第一个版本之间的几乎所有内容。例如，游戏如何使其保存文件隐藏/不可破解，它们如何在游戏中包含其资源而不是拥有包含所有精灵的资源文件等，它们是如何做到的有特殊的文件扩展名，如 .rect 和 .screen_mode 等等。

那么有没有人知道任何好的书籍、文章、网站等来解释从完成游戏的纯代码到发布它的过程？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-20T19:55:00.157

我不认为开发人员会付出太多努力来确保保存是隐藏的或不可破解的。PC游戏通常只是保存到一个文件夹中，每次保存一个文件，任何混淆都可能是使用二进制文件格式（需要一定程度的逆向工程）或没有意义的纯文本值的结果上下文，但不是故意试图规避黑客攻击。可能有大量的 PC 游戏附带了非常容易破解的文本或 XML 保存文件，但我从来都不是一个保存黑客，所以我没有任何具体的例子。在控制台上，保存文件将进入存储卡或控制台的硬盘驱动器，这使得它们本质上不方便访问，但除此之外，我认为控制台开发人员不会花费太多精力来加密或以其他方式混淆保存数据。

特殊文件扩展名来自仅使用您自己的扩展名和/或定义您自己的文件格式。您可以对任何文件使用任何扩展名，因此有大量“特殊”文件格式只是具有不同扩展名的文本文件，我自己已经做过很多次了。在其他情况下，如果他们定义了自己的二进制文件格式，这意味着他们也有自己的文件解析器来在运行时处理这些文件。

我不知道您想到的是什么平台，但对于 PC 和主机游戏，资源并未嵌入到可执行文件中。您通常会看到一个单独的可执行文件，然后是各种存档和配置文件。根据游戏的不同，它可能是单个资源包，也可能是一些相关资源包，如图形、声音、关卡数据等。作为一般观察，控制台游戏会更积极地存档（以最大限度地减少慢速光学上的文件操作媒体，也许是为了克服原生文件系统在更原始平台上的限制）。一些 PC 游戏的资产非常松散，甚至还有脚本文件公开。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-20T19:28:22.130

如果您为 Windows 或 Xbox 360 开发，Microsoft 可能会在此处提供一些帮助。查看他们的**Visual Studio C++ Express Edition**[游戏开发工具](http://www.microsoft.com/express/gamedevelopment/)。

 *** * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-06-20T19:37:27.540

如果您正在寻找书籍，[Game Development Essentials](http://www.amazon.com/s/ref=nb_ss_b?url=search-alias%3Dstripbooks&field-keywords=Game+Development+Essentials&x=0&y=0)系列应该可以回答您的问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-20T19:23:34.697

为了规避保存文件的修改，您可以实现一个简单的加密算法，并使用它来加密保存的文件，然后在加载时解密。文件扩展名只是一个选择问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-06-20T19:30:15.323

要在游戏中使用特殊文件扩展名，只需执行以下操作：

1.  以您选择的具有该扩展名的格式创建一些文件，然后
2.  编写一些知道如何读取该格式的代码，并将其指向这些文件。

文件扩展名是约定，仅此而已；他们没有什么神奇之处。

ETA：至于嵌入资源，有几种不同的方法可以解决这个问题。一种常见的技术是将所有资源捆绑在少量文件中 - 可能只有一个（激战采用这种方法）。

在另一个极端，您可以将资源分散在目录树中的许多文件中，可能采用需要特殊工具修改的自定义格式，也可能不需要。文明 4 就是这样做的，我熟悉的所有涡轮游戏也是如此。这是一个品味问题，无论哪种方式都不是很重要。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2009-06-20T19:39:36.303

我认为更好的解决方案是将图像分成已知大小的图块，然后以随机顺序将它们背靠背连接到一个新文件中。这种随机顺序只有您自己知道，因此只有您知道如何打乱拼贴以获取原始图像。

该方法将是维护一维数组并维护其中瓷砖的位置。知道使用 MIDP 的裁剪功能来提取每个图块并将每个图块渲染回控制台。

如果您需要，我可以为您发布代码。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2009-06-20T20:21:13.007

我建议查看 World of Goo（很棒的游戏）开发人员的演示文稿：http: [//2dboy.com/public/eyawtkagibwata.pdf](http://2dboy.com/public/eyawtkagibwata.pdf)。**

# php - PHP 中 session_set_save_handler() 的奇怪问题

> ID：1022331
> 
> 赞同：1
> 
> 时间：2009-06-20T19:23:33.387
> 
> 标签：php, session, persistence

我正在尝试在 PHP 中编写自定义会话持久性。但由于某种原因，只有我的会话读取函数被调用，而不是我的会话写入函数。因此会话不会持续存在。如果我切换回默认会话处理程序（文件），一切正常。如果我`session_write_close()`在测试脚本的末尾添加 - 一切正常。但是 PHP 手册明确指出您不需要显式调用 ，`session_write_close()`因为它会在脚本末尾自动调用。而且我不想将 session_write_close() 放在现有应用程序的每个可能的退出点！

这是一些说明问题的代码。我在 WinXP SP3 + Apache 2.2.9 + PHP 5.2.6 上运行它。日志文件仅包含`s_open()`和的条目`s_read()`。

```
<?php
function logger($str)
{
    file_put_contents('session_log.txt', date('Y-m-d h:i:s') . " $str\r\n", FILE_APPEND);
}

function s_open()
{
    logger('s_open');
    return true;
}

function s_close()
{
    logger('s_close');
    return true;
}

function s_read()
{
    logger('s_read');
    return @file_get_contents('session.txt');
}
function s_write($id, $data)
{
    logger("s_write: $id - $data");
    file_put_contents('session.txt', $data);
    return true;
}

function s_destroy()
{
    logger('s_destroy');
    return true;
}

function s_gc()
{
    logger('s_gc');
    return true;
}

session_set_save_handler('s_open', 's_close', 's_read', 's_write', 's_destroy', 's_gc');

session_start();

if ( isset($_SESSION['time']) )
    echo 'Session time: ' . date('Y-m-d h:i:s', $_SESSION['time']);
else
    echo 'Session empty';
echo '<br>';    
echo 'Session ID: ' . session_id();

$_SESSION['time'] = time();
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-20T19:36:49.727

布拉格！注意到 PHP 本身已经放在那里的通知！引用手册：

> **警告**
> 
> 如果会话在脚本终止时关闭，则当前工作目录会被一些 SAPI 更改。可以使用 提前关闭会话`session_write_close()`。

它确实在发生变化，对另一个目录的调用`s_write()`并`s_close()`记录在了另一个目录中！

# javascript - YUI 中缺少标题栏

> ID：1022335
> 
> 赞同：0
> 
> 时间：2009-06-20T19:24:26.490
> 
> 标签：javascript, yui, yui-editor

我在我的网站上使用 YUI 富文本编辑器。我正在使用来自 Google 的加载 javascript 加载它。当我尝试创建链接（或创建“设置”框的任何其他操作时，标题栏丢失，请参见[此处的图片。您可以](http://img150.imageshack.us/i/missing.png/)[在](http://developer.yahoo.com/yui/examples/editor/code_editor.html)Yahoos 网站上查看它应该如何查看YUI。

我在`<head>`-tag 中使用此代码：

```
<!--Include YUI Loader: --> 
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/yui/2.7.0/build/yuiloader/yuiloader-min.js"></script> 
<!--Use YUI Loader to bring in your other dependencies: --> 
<script type="text/javascript"> 
// Instantiate and configure YUI Loader: 
(function() { 
    var loader = new YAHOO.util.YUILoader({ 
        base: "http://ajax.googleapis.com/ajax/libs/yui/2.7.0/build/", 
        require: ["editor"], 
        loadOptional: true, 
        combine: false, 
        filter: "MIN", 
        allowRollup: true, 
        onSuccess: function() { 
            var Editor = new YAHOO.widget.Editor('content', {
                height: '300px',
                width: '802px',
            dompath: true, //Turns on the bar at the bottom
            animate: true //Animates the opening, closing and moving of Editor windows   
            });
            Editor.render(); 
    }     
});    

// Load the files using the insert() method. 
loader.insert(); 
})(); 
</script> 
```

在我的网页中：

```
<div class="sIFR-ignore yui-skin-sam">
    <textarea name="content" id="content" cols="50" rows="10">
    </textarea>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-28T18:35:17.537

我从 YUI RTE 的开发者之一 David Glass 那里得到了一些帮助。我犯的错误实际上是一个 CSS 问题，在我的 CSS 文件中，有一行写着“h3 {visibility: hidden;}”，导致了这个错误。无论如何，感谢您的帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-22T00:48:55.360

尝试为编辑器强制使用您自己的标题：

```
var Editor = new YAHOO.widget.Editor('content', {
                height: '300px',
                width: '802px',
            dompath: true, //Turns on the bar at the bottom
            animate: true //Animates the opening, closing and moving of Editor windows   
            });
            Editor._defaultToolbar.titlebar="<b>Use my title</b>";
            Editor.render(); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2009-06-20T20:23:37.790

我在这里可能错了，但是由于[SOP](http://en.wikipedia.org/wiki/Same_origin_policy)（同源策略），我认为托管在 Google 中的 JavaScript 无法修改 DOM（除非您是 google）。

尝试将 JavaScript 放入您的 Web 服务器并从那里链接：

```
<script type="text/javascript" src="http://your.web.server.com/yui/2.7.0/build/yuiloader/yuiloader-min.js"></script> 
```

# haskell - Haskell FFI：ForeignPtr 似乎没有被释放（可能是 GHC 错误？）

> ID：1022336
> 
> 赞同：2
> 
> 时间：2009-06-20T19:24:56.943
> 
> 标签：haskell, garbage-collection, ffi

考虑以下代码片段

```
import qualified Foreign.Concurrent
import Foreign.Ptr (nullPtr)

main :: IO ()
main = do
  putStrLn "start"
  a <- Foreign.Concurrent.newForeignPtr nullPtr $
    putStrLn "a was deleted"
  putStrLn "end" 
```

它产生以下输出：

```
start
end 
```

我本来希望在..`a was deleted`之后的某个地方看到“”`start`

我不知道发生了什么事。我有几个猜测：

*   程序结束时垃圾收集器不会收集剩余的对象
*   `putStrLn`完成后停止工作`main`。（顺便说一句，我尝试了与外国进口相同的事情`puts`并得到了相同的结果）
*   我的理解`ForeignPtr`不足
*   GHC 错误？（环境：GHC 6.10.3，英特尔 Mac）

当使用`Foreign.ForeignPtr.newForeignPtr`而不是`Foreign.Concurrent.newForeignPtr`它似乎工作时：

```
{-# LANGUAGE ForeignFunctionInterface #-}

import Foreign.C.String (CString, newCString)
import Foreign.ForeignPtr (newForeignPtr)
import Foreign.Ptr (FunPtr)

foreign import ccall "&puts" puts :: FunPtr (CString -> IO ())

main :: IO ()
main = do
  putStrLn "start"
  message <- newCString "a was \"deleted\""
  a <- newForeignPtr puts message
  putStrLn "end" 
```

输出：

```
start
end
a was "deleted" 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2009-06-21T05:52:21.790

从[Foreign.Foreign.newForeignPtr](http://haskell.org/ghc/docs/latest/html/libraries/base/Foreign-ForeignPtr.html#v:newForeignPtr)的文档：

> 请注意，不能保证在删除最后一个引用后多久执行终结器；这取决于 Haskell 存储管理器的详细信息。实际上，不能保证终结器会被执行。程序可能会在终结器未完成的情况下退出。

因此，您遇到了未定义的行为：即，任何事情都可能发生，并且它可能会因平台而异（正如我们在 Windows 下看到的那样）或发布到发布。

[Foreign.Concurrent.newForeignPtr](http://haskell.org/ghc/docs/latest/html/libraries/base/Foreign-Concurrent.html#v:newForeignPtr)的文档可能暗示了您在两个函数之间看到的行为差异的原因：

> 这些终结器必须在单独的线程中运行......

如果 Foreign.Foreign 版本的函数的终结器使用主线程，但 Foreign.Concurrent 使用单独的线程，则很可能是主线程关闭而不等待其他线程完成它们的工作，所以其他线程永远不会运行终结。

当然，Foreign.Concurrent 版本的文档确实声称，

> 唯一的保证是终结器在程序终止之前运行。

我不确定他们是否真的应该声称这一点，因为如果终结器在其他线程中运行，他们可以花费任意时间来完成他们的工作（甚至永远阻塞），因此主线程永远不会能够强制程序退出。这将与[Control.Concurrent](http://haskell.org/ghc/docs/latest/html/libraries/base/Control-Concurrent.html)冲突：

> In a standalone GHC program, only the main thread is required to terminate in order for the process to terminate. Thus all other forked threads will simply terminate at the same time as the main thread (the terminology for this kind of behaviour is "daemonic threads").

# java - GWT 应用程序/eclipse 插件使 JVM 崩溃

> ID：1022340
> 
> 赞同：3
> 
> 时间：2009-06-20T19:26:19.327
> 
> 标签：java, eclipse, gwt

我正在尝试设置 GWT 框架。我正在关注快速入门：[http](http://code.google.com/eclipse/docs/getting_started.html) ://code.google.com/eclipse/docs/getting_started.html 。操作系统是 Ubuntu 8.04。我创建了一个新应用程序并启动/调试该应用程序，几秒钟后 JVM 崩溃。有任何想法吗？生成的日志是：

```
#
# An unexpected error has been detected by Java Runtime Environment:
#
#  SIGSEGV (0xb) at pc=0x0625665c, pid=19531, tid=2421361552
#
# Java VM: Java HotSpot(TM) Server VM (10.0-b23 mixed mode linux-x86)
# Problematic frame:
# V  [libjvm.so+0x25665c]
#
# If you would like to submit a bug report, please visit:
#   http://java.sun.com/webapps/bugreport/crash.jsp
# The crash happened outside the Java Virtual Machine in native code.
# See problematic frame for where to report the bug.
#

---------------  T H R E A D  ---------------

Current thread (0x080ff000):  JavaThread "CompilerThread1" daemon [_thread_in_native, id=19544, stack(0x904b0000,0x90531000)]

siginfo:si_signo=SIGSEGV: si_errno=0, si_code=1 (SEGV_MAPERR), si_addr=0x00000000

Registers:
EAX=0x00000000, EBX=0x8a13e9ac, ECX=0x08929020, EDX=0xffffffff
ESP=0x9052ed80, EBP=0x9052edd8, ESI=0x8a13e978, EDI=0x00000000
EIP=0x0625665c, CR2=0x00000000, EFLAGS=0x00210202

Top of Stack: (sp=0x9052ed80)
0x9052ed80:   08929020 00000000 00000331 00000331
0x9052ed90:   9052eea0 8a7b2e64 00000000 9052eee0
0x9052eda0:   066a0bf0 ffffffff 0000000e 080966a8
0x9052edb0:   00000001 08929020 00000002 8a7b2e60
0x9052edc0:   00000011 9052f22c 01000312 000006fa
0x9052edd0:   9052eea0 9052f1c0 9052ef08 06255bb5
0x9052ede0:   9052f1c0 00000001 9052fb10 9052fb10
0x9052edf0:   0000010d 0000010d 9052ee38 9052f22c 

Instructions: (pc=0x0625665c)
0x0625664c:   5d dc 8b 03 53 8d 5e 34 ff 50 40 89 c7 8b 56 34
0x0625665c:   8b 00 21 c2 89 56 34 8b 47 04 8b 4b 04 21 c1 8b 

Stack: [0x904b0000,0x90531000],  sp=0x9052ed80,  free space=507k
Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)
V  [libjvm.so+0x25665c]
V  [libjvm.so+0x255bb5]
V  [libjvm.so+0x2a2acd]
V  [libjvm.so+0x29f950]
V  [libjvm.so+0x2471e9]
V  [libjvm.so+0x2a6e3a]
V  [libjvm.so+0x2a6846]
V  [libjvm.so+0x5b61ed]
V  [libjvm.so+0x4fe289]
C  [libpthread.so.0+0x54fb]

Current CompileTask:
C2:636      org.eclipse.jdt.internal.compiler.lookup.ParameterizedMethodBinding.<init>(Lorg/eclipse/jdt/internal/compiler/lookup/ParameterizedTypeBinding;Lorg/eclipse/jdt/internal/compiler/lookup/MethodBinding;)V (596 bytes)

---------------  P R O C E S S  ---------------

Java Threads: ( => current thread )
  0x08770400 JavaThread "btpool0-1" [_thread_blocked, id=19557, stack(0x8d206000,0x8d257000)]
  0x8e707400 JavaThread "Timer-1" [_thread_blocked, id=19552, stack(0x8ea79000,0x8eaca000)]
  0x08539400 JavaThread "btpool0-0 - Acceptor0 SelectChannelConnector@0.0.0.0:8080" [_thread_in_native, id=19551, stack(0x8f0ab000,0x8f0fc000)]
  0x082a3400 JavaThread "Timer-0" daemon [_thread_blocked, id=19548, stack(0x8f05a000,0x8f0ab000)]
  0x08100800 JavaThread "Low Memory Detector" daemon [_thread_blocked, id=19545, stack(0x9045f000,0x904b0000)]
=>0x080ff000 JavaThread "CompilerThread1" daemon [_thread_in_native, id=19544, stack(0x904b0000,0x90531000)]
  0x080fc800 JavaThread "CompilerThread0" daemon [_thread_in_native, id=19543, stack(0x90531000,0x905b2000)]
  0x080fb800 JavaThread "Signal Dispatcher" daemon [_thread_blocked, id=19542, stack(0x905b2000,0x90603000)]
  0x080dfc00 JavaThread "Finalizer" daemon [_thread_blocked, id=19541, stack(0x90649000,0x9069a000)]
  0x080de800 JavaThread "Reference Handler" daemon [_thread_blocked, id=19540, stack(0x9069a000,0x906eb000)]
  0x0805b800 JavaThread "main" [_thread_in_vm, id=19532, stack(0xb7da7000,0xb7df8000)]

Other Threads:
  0x080db800 VMThread [stack: 0x906eb000,0x9076c000] [id=19539]
  0x08102000 WatcherThread [stack: 0x903de000,0x9045f000] [id=19546]

VM state:not at safepoint (normal execution)

VM Mutex/Monitor currently owned by a thread:  ([mutex/lock_event])
[0x08059558/0x08059580] VMOperationQueue_lock - owner thread: 0x0805b800
[0x08059998/0x080599b0] Heap_lock - owner thread: 0x0805b800

Heap
 PSYoungGen      total 38848K, used 21504K [0xb1370000, 0xb4c50000, 0xb4c50000)
  eden space 19456K, 100% used [0xb1370000,0xb2670000,0xb2670000)
  from space 19392K, 10% used [0xb2670000,0xb2870000,0xb3960000)
  to   space 19392K, 0% used [0xb3960000,0xb3960000,0xb4c50000)
 PSOldGen        total 96576K, used 69074K [0x94c50000, 0x9aaa0000, 0xb1370000)
  object space 96576K, 71% used [0x94c50000,0x98fc4878,0x9aaa0000)
 PSPermGen       total 26624K, used 15975K [0x90c50000, 0x92650000, 0x94c50000)
  object space 26624K, 60% used [0x90c50000,0x91be9e88,0x92650000)

Dynamic libraries:
06000000-0665d000 r-xp 00000000 08:03 1005378    /usr/lib/jvm/java-6-sun-1.6.0.07/jre/lib/i386/server/libjvm.so
0665d000-066a1000 rwxp 0065c000 08:03 1005378    /usr/lib/jvm/java-6-sun-1.6.0.07/jre/lib/i386/server/libjvm.so
066a1000-06ac3000 rwxp 066a1000 00:00 0 
08048000-08052000 r-xp 00000000 08:03 1005321    /usr/lib/jvm/java-6-sun-1.6.0.07/jre/bin/java
08052000-08053000 rwxp 00009000 08:03 1005321    /usr/lib/jvm/java-6-sun-1.6.0.07/jre/bin/java
08053000-09d32000 rwxp 08053000 00:00 0          [heap]
89300000-893ec000 rwxp 89300000 00:00 0 
893ec000-89400000 ---p 893ec000 00:00 0 
89500000-89600000 rwxp 89500000 00:00 0 
89700000-897ff000 rwxp 89700000 00:00 0 
897ff000-89800000 ---p 897ff000 00:00 0 
89900000-899f0000 rwxp 89900000 00:00 0 
899f0000-89a00000 ---p 899f0000 00:00 0 
89a00000-89af9000 rwxp 89a00000 00:00 0 
89af9000-89b00000 ---p 89af9000 00:00 0 
89b00000-89bee000 rwxp 89b00000 00:00 0 
89bee000-89c00000 ---p 89bee000 00:00 0 
8a000000-8a0f9000 rwxp 8a000000 00:00 0 
8a0f9000-8a100000 ---p 8a0f9000 00:00 0 
8a100000-8a1ed000 rwxp 8a100000 00:00 0 
8a1ed000-8a200000 ---p 8a1ed000 00:00 0 
8a200000-8a2f9000 rwxp 8a200000 00:00 0 
8a2f9000-8a300000 ---p 8a2f9000 00:00 0 
8a300000-8a3f9000 rwxp 8a300000 00:00 0 
8a3f9000-8a400000 ---p 8a3f9000 00:00 0 
8a400000-8a4f9000 rwxp 8a400000 00:00 0 
8a4f9000-8a500000 ---p 8a4f9000 00:00 0 
8a500000-8a5f9000 rwxp 8a500000 00:00 0 
8a5f9000-8a600000 ---p 8a5f9000 00:00 0 
8a600000-8a6f9000 rwxp 8a600000 00:00 0 
8a6f9000-8a700000 ---p 8a6f9000 00:00 0 
8a700000-8a7f9000 rwxp 8a700000 00:00 0 
8a7f9000-8a800000 ---p 8a7f9000 00:00 0 
8a900000-8a9e1000 rwxp 8a900000 00:00 0 
8a9e1000-8aa00000 ---p 8a9e1000 00:00 0 
8aabb000-8ab00000 r-xp 00000000 08:03 954857     /usr/share/fonts/truetype/ttf-dejavu/DejaVuSerif-Bold.ttf
8ab00000-8ac00000 rwxp 8ab00000 00:00 0 
8ac3c000-8ac87000 r-xp 00000000 08:03 954858     /usr/share/fonts/truetype/ttf-dejavu/DejaVuSerif.ttf
8ac87000-8ac88000 ---p 8ac87000 00:00 0 
8ac88000-8b488000 rwxp 8ac88000 00:00 0 
8b488000-8b4bc000 r-xp 00000000 08:03 52538      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libmork.so
8b4bc000-8b4be000 rwxp 00034000 08:03 52538      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libmork.so
8b4be000-8b4c3000 r-xp 00000000 08:03 52577      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libxpcom_compat_c.so
8b4c3000-8b4c4000 rwxp 00005000 08:03 52577      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libxpcom_compat_c.so
8b4c4000-8b4c5000 ---p 8b4c4000 00:00 0 
8b4c5000-8bcc5000 rwxp 8b4c5000 00:00 0 
8bcc5000-8bcc6000 ---p 8bcc5000 00:00 0 
8bcc6000-8c4c6000 rwxp 8bcc6000 00:00 0 
8c4c6000-8c4c7000 ---p 8c4c6000 00:00 0 
8c4c7000-8ccc7000 rwxp 8c4c7000 00:00 0 
8ccc7000-8ccca000 r-xp 00000000 08:03 620228     /lib/libgpg-error.so.0.3.0
8ccca000-8cccb000 rwxp 00002000 08:03 620228     /lib/libgpg-error.so.0.3.0
8cccb000-8cd16000 r-xp 00000000 08:03 620226     /lib/libgcrypt.so.11.2.3
8cd16000-8cd18000 rwxp 0004a000 08:03 620226     /lib/libgcrypt.so.11.2.3
8cd18000-8cd27000 r-xp 00000000 08:03 818392     /usr/lib/libtasn1.so.3.0.12
8cd27000-8cd28000 rwxp 0000e000 08:03 818392     /usr/lib/libtasn1.so.3.0.12
8cd28000-8cde7000 r-xp 00000000 08:03 817682     /usr/lib/libasound.so.2.0.0
8cde7000-8cdeb000 rwxp 000be000 08:03 817682     /usr/lib/libasound.so.2.0.0
8cdeb000-8cdef000 r-xp 00000000 08:03 817594     /usr/lib/libORBitCosNaming-2.so.0.1.0
8cdef000-8cdf0000 rwxp 00003000 08:03 817594     /usr/lib/libORBitCosNaming-2.so.0.1.0
8cdf0000-8cdf2000 r-xp 00000000 08:03 637494     /lib/tls/i686/cmov/libutil-2.7.so
8cdf2000-8cdf4000 rwxp 00001000 08:03 637494     /lib/tls/i686/cmov/libutil-2.7.so
8cdf4000-8ce02000 r-xp 00000000 08:03 816254     /usr/lib/libavahi-client.so.3.2.4
8ce02000-8ce03000 rwxp 0000e000 08:03 816254     /usr/lib/libavahi-client.so.3.2.4
8ce03000-8ce0d000 r-xp 00000000 08:03 817895     /usr/lib/libavahi-common.so.3.5.0
8ce0d000-8ce0e000 rwxp 00009000 08:03 817895     /usr/lib/libavahi-common.so.3.5.0
8ce0e000-8ce7f000 r-xp 00000000 08:03 816405     /usr/lib/libgnutls.so.13.9.1
8ce7f000-8ce84000 rwxp 00071000 08:03 816405     /usr/lib/libgnutls.so.13.9.1
8ce84000-8ceb8000 r-xp 00000000 08:03 820345     /usr/lib/libdbus-1.so.3.4.0
8ceb8000-8ceba000 rwxp 00033000 08:03 820345     /usr/lib/libdbus-1.so.3.4.0
8ceba000-8ced4000 r-xp 00000000 08:03 817785     /usr/lib/libdbus-glib-1.so.2.1.0
8ced4000-8ced5000 rwxp 0001a000 08:03 817785     /usr/lib/libdbus-glib-1.so.2.1.0
8ced5000-8cfef000 r-xp 00000000 08:03 818875     /usr/lib/libxml2.so.2.6.31
8cfef000-8cff4000 rwxp 00119000 08:03 818875     /usr/lib/libxml2.so.2.6.31
8cff4000-8cff5000 rwxp 8cff4000 00:00 0 
8cff5000-8cffc000 r-xp 00000000 08:03 620275     /lib/libpopt.so.0.0.0
8cffc000-8cffd000 rwxp 00006000 08:03 620275     /lib/libpopt.so.0.0.0
8cffd000-8d01f000 r-xp 00000000 08:03 817692     /usr/lib/libaudiofile.so.0.0.2
8d01f000-8d022000 rwxp 00021000 08:03 817692     /usr/lib/libaudiofile.so.0.0.2
8d022000-8d034000 r-xp 00000000 08:03 817715     /usr/lib/libbonobo-activation.so.4.0.0
8d034000-8d036000 rwxp 00012000 08:03 817715     /usr/lib/libbonobo-activation.so.4.0.0
8d036000-8d087000 r-xp 00000000 08:03 817713     /usr/lib/libbonobo-2.so.0.0.0
8d087000-8d091000 rwxp 00050000 08:03 817713     /usr/lib/libbonobo-2.so.0.0.0
8d091000-8d0e7000 r-xp 00000000 08:03 817975     /usr/lib/libgnomevfs-2.so.0.2200.0
8d0e7000-8d0ea000 rwxp 00056000 08:03 817975     /usr/lib/libgnomevfs-2.so.0.2200.0
8d0ea000-8d0fe000 r-xp 00000000 08:03 817945     /usr/lib/libgnome-2.so.0.2200.0
8d0fe000-8d0ff000 rwxp 00013000 08:03 817945     /usr/lib/libgnome-2.so.0.2200.0
8d0ff000-8d1ba000 r-xp 00000000 08:03 52567      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libuconv.so
8d1ba000-8d1c0000 rwxp 000bb000 08:03 52567      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libuconv.so
8d1c0000-8d1ca000 rwxp 8d1c0000 00:00 0 
8d1cf000-8d1e4000 r-xp 00000000 08:03 52560      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libprofile.so
8d1e4000-8d1e5000 rwxp 00015000 08:03 52560      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libprofile.so
8d1e5000-8d1ff000 r-xp 00000000 08:03 52741      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/libxpcom_compat.so
8d1ff000-8d200000 rwxp 0001a000 08:03 52741      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/libxpcom_compat.so
8d200000-8d205000 r-xp 00000000 08:03 52565      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libtxmgr.so
8d205000-8d206000 rwxp 00004000 08:03 52565      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libtxmgr.so
8d206000-8d209000 ---p 8d206000 00:00 0 
8d209000-8d257000 rwxp 8d209000 00:00 0 
8d257000-8d25e000 r-xp 00000000 08:03 52555      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libp3p.so
8d25e000-8d25f000 rwxp 00006000 08:03 52555      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libp3p.so
8d25f000-8d269000 r-xp 00000000 08:03 52514      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libcookie.so
8d269000-8d26a000 rwxp 00009000 08:03 52514      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libcookie.so
8d26a000-8d26f000 r-xp 00000000 08:03 52743      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/plugins/libnullplugin.so
8d26f000-8d270000 rwxp 00004000 08:03 52743      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/plugins/libnullplugin.so
8d270000-8d299000 r-xp 00000000 08:03 52522      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libgkplugin.so
8d299000-8d29b000 rwxp 00028000 08:03 52522      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libgkplugin.so
8d29b000-8d2b3000 r-xp 00000000 08:03 52554      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/liboji.so
8d2b3000-8d2b4000 rwxp 00017000 08:03 52554      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/liboji.so
8d2b4000-8d2cd000 r-xp 00000000 08:03 52725      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/libjsj.so
8d2cd000-8d2cf000 rwxp 00018000 08:03 52725      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/libjsj.so
8d2cf000-8d2d6000 r-xp 00000000 08:03 52556      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libpipboot.so
8d2d6000-8d2d7000 rwxp 00007000 08:03 52556      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libpipboot.so
8d2d7000-8d34a000 r-xp 00000000 08:03 52508      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libappcomps.so
8d34a000-8d34d000 rwxp 00073000 08:03 52508      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libappcomps.so
8d34d000-8d399000 r-xp 00000000 08:03 52515      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libdocshell.so
8d399000-8d39c000 rwxp 0004c000 08:03 52515      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libdocshell.so
8d39c000-8d3cd000 r-xp 00000000 08:03 52519      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libgfx_gtk.so
8d3cd000-8d3cf000 rwxp 00031000 08:03 52519      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libgfx_gtk.so
8d3d2000-8d3d4000 r-xp 00000000 08:03 817804     /usr/lib/libavahi-glib.so.1.0.1
8d3d4000-8d3d5000 rwxp 00001000 08:03 817804     /usr/lib/libavahi-glib.so.1.0.1
8d3d5000-8d3de000 r-xp 00000000 08:03 817834     /usr/lib/libesd.so.0.2.38
8d3de000-8d3df000 rwxp 00008000 08:03 817834     /usr/lib/libesd.so.0.2.38
8d3e2000-8d3ed000 r-xp 00000000 08:03 52531      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libjar50.so
8d3ed000-8d3ee000 rwxp 0000a000 08:03 52531      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libjar50.so
8d3ee000-8d447000 r-xp 00000000 08:03 52523      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libhtmlpars.so
8d447000-8d44c000 rwxp 00058000 08:03 52523      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libhtmlpars.so
8d44c000-8d463000 r-xp 00000000 08:03 52512      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libchrome.so
8d463000-8d464000 rwxp 00017000 08:03 52512      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libchrome.so
8d464000-8d475000 r-xp 00000000 08:03 52573      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libwebbrwsr.so
8d475000-8d476000 rwxp 00011000 08:03 52573      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libwebbrwsr.so
8d476000-8d4be000 r-xp 00000000 08:03 817590     /usr/lib/libORBit-2.so.0.1.0
8d4be000-8d4c8000 rwxp 00047000 08:03 817590     /usr/lib/libORBit-2.so.0.1.0
8d4c8000-8d4f5000 r-xp 00000000 08:03 817879     /usr/lib/libgconf-2.so.4.1.5
8d4f5000-8d4f8000 rwxp 0002d000 08:03 817879     /usr/lib/libgconf-2.so.4.1.5
8d4f8000-8d520000 r-xp 00000000 08:03 52575      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libwidget_gtk2.so
8d520000-8d523000 rwxp 00028000 08:03 52575      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libwidget_gtk2.so
8d523000-8d538000 r-xp 00000000 08:03 817574     /usr/lib/libICE.so.6.3.0
8d538000-8d539000 rwxp 00014000 08:03 817574     /usr/lib/libICE.so.6.3.0
8d539000-8d53b000 rwxp 8d539000 00:00 0 
8d53b000-8d588000 r-xp 00000000 08:03 817651     /usr/lib/libXt.so.6.0.0
8d588000-8d58c000 rwxp 0004c000 08:03 817651     /usr/lib/libXt.so.6.0.0
8d58d000-8d59a000 r-xp 00000000 08:03 52382      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/libgwt-ll.so
8d59a000-8d59b000 rwxp 0000d000 08:03 52382      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/libgwt-ll.so
8d59b000-8d5c4000 r-xp 00000000 08:03 52561      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/librdf.so
8d5c4000-8d5c6000 rwxp 00028000 08:03 52561      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/librdf.so
8d5c6000-8d5f3000 r-xp 00000000 08:03 52525      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libimglib2.so
8d5f3000-8d5f4000 rwxp 0002d000 08:03 52525      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libimglib2.so
8d5f4000-8d62c000 r-xp 00000000 08:03 52524      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libi18n.so
8d62c000-8d62f000 rwxp 00037000 08:03 52524      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libi18n.so
8d62f000-8d630000 ---p 8d62f000 00:00 0 
8d630000-8de30000 rwxp 8d630000 00:00 0 
8de30000-8de74000 r-xp 00000000 08:03 52578      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libxpconnect.so
8de74000-8de77000 rwxp 00043000 08:03 52578      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libxpconnect.so
8de77000-8de78000 rwxp 8de77000 00:00 0 
8de78000-8e2f4000 r-xp 00000000 08:03 52521      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libgklayout.so
8e2f4000-8e32f000 rwxp 0047c000 08:03 52521      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libgklayout.so
8e32f000-8e335000 rwxp 8e32f000 00:00 0 
8e335000-8e3fa000 r-xp 00000000 08:03 52548      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libnecko.so
8e3fa000-8e400000 rwxp 000c4000 08:03 52548      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libnecko.so
8e400000-8e500000 rwxp 8e400000 00:00 0 
8e501000-8e514000 r-xp 00000000 08:03 52532      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libjsd.so
8e514000-8e515000 rwxp 00013000 08:03 52532      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libjsd.so
8e515000-8e52a000 r-xp 00000000 08:03 52511      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libcaps.so
8e52a000-8e52b000 rwxp 00014000 08:03 52511      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libcaps.so
8e52b000-8e53c000 r-xp 00000000 08:03 817631     /usr/lib/libXft.so.2.1.2
8e53c000-8e53d000 rwxp 00010000 08:03 817631     /usr/lib/libXft.so.2.1.2
8e53d000-8e547000 r-xp 00000000 08:03 816836     /usr/lib/libpangox-1.0.so.0.2002.3
8e547000-8e548000 rwxp 00009000 08:03 816836     /usr/lib/libpangox-1.0.so.0.2002.3
8e548000-8e54e000 r-xp 00000000 08:03 816837     /usr/lib/libpangoxft-1.0.so.0.2002.3
8e54e000-8e54f000 rwxp 00005000 08:03 816837     /usr/lib/libpangoxft-1.0.so.0.2002.3
8e551000-8e558000 r-xp 00000000 08:03 817598     /usr/lib/libSM.so.6.0.0
8e558000-8e559000 rwxp 00006000 08:03 817598     /usr/lib/libSM.so.6.0.0
8e559000-8e55d000 r-xp 00000000 08:03 52724      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/libgtkxtbin.so
8e55d000-8e55e000 rwxp 00003000 08:03 52724      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/libgtkxtbin.so
8e55e000-8e56a000 r-xp 00000000 08:03 52728      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/libmozz.so
8e56a000-8e56c000 rwxp 0000b000 08:03 52728      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/libmozz.so
8e56c000-8e57d000 r-xp 00000000 08:03 52559      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libpref.so
8e57d000-8e57e000 rwxp 00011000 08:03 52559      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libpref.so
8e57e000-8e5fc000 r-xp 00000000 08:03 52727      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/libmozjs.so
8e5fc000-8e600000 rwxp 0007e000 08:03 52727      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/libmozjs.so
8e600000-8e6df000 rwxp 8e600000 00:00 0 
8e6df000-8e700000 ---p 8e6df000 00:00 0 
8e700000-8e800000 rwxp 8e700000 00:00 0 
8e800000-8e8f9000 rwxp 8e800000 00:00 0 
8e8f9000-8e900000 ---p 8e8f9000 00:00 0 
8e900000-8e9f8000 rwxp 8e900000 00:00 0 
8e9f8000-8ea00000 ---p 8e9f8000 00:00 0 
8ea00000-8ea05000 r-xp 00000000 08:03 52563      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libsystem-pref.so
8ea05000-8ea06000 rwxp 00005000 08:03 52563      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libsystem-pref.so
8ea06000-8ea15000 r-xp 00000000 08:03 52566      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libtypeaheadfind.so
8ea15000-8ea16000 rwxp 0000e000 08:03 52566      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libtypeaheadfind.so
8ea16000-8ea41000 r-xp 00000000 08:03 52517      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libembedcomponents.so
8ea41000-8ea43000 rwxp 0002a000 08:03 52517      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/components/libembedcomponents.so
8ea43000-8ea64000 r-xp 00000000 08:03 52722      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/libgkgfx.so
8ea64000-8ea65000 rwxp 00021000 08:03 52722      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/mozilla-1.7.12/libgkgfx.so
8ea65000-8ea78000 r-xp 00000000 08:03 52385      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/libswt-mozilla-gtk-3235.so
8ea78000-8ea79000 rwxp 00012000 08:03 52385      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/libswt-mozilla-gtk-3235.so
8ea79000-8ea7c000 ---p 8ea79000 00:00 0 
8ea7c000-8eaca000 rwxp 8ea7c000 00:00 0 
8eaca000-8eb00000 r-xs 005cc000 08:03 25815      /home/toni/development/general_ws/HelloWorld/war/WEB-INF/lib/appengine-api-1.0-sdk-1.2.1.jar
8eb00000-8ebff000 rwxp 8eb00000 00:00 0 
8ebff000-8ec00000 ---p 8ebff000 00:00 0 
8ec00000-8ed00000 rwxp 8ec00000 00:00 0 
8ed00000-8edfa000 rwxp 8ed00000 00:00 0 
8edfa000-8ee00000 ---p 8edfa000 00:00 0 
8ee01000-8ee03000 r-xp 00000000 08:03 820803     /usr/lib/gconv/UTF-16.so
8ee03000-8ee05000 rwxp 00001000 08:03 820803     /usr/lib/gconv/UTF-16.so
8ee05000-8ee0a000 r-xp 00000000 08:03 52387      /home/toni/development/eclipse/plugins/com.google.gwt.eclipse.sdkbundle.linux_1.6.4.v200904062334/gwt-linux-1.6.4/libswt-mozilla17-profile-gtk-3235.so
8ee0a000-8ee0b0 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-11-17T14:26:13.683

我有同样的例外，我刚刚安装了最新的 VM 版本，现在编译成功完成了 :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T19:30:01.410

[这份](http://java.sun.com/javase/6/webnotes/trouble/TSG-VM/html/felog.html)关于诊断 JVM 转储的文档可能会有用。但是，在你开始之前：

1.  你能可靠地重新创建它，还是间歇性的？一次性？
2.  您使用的是最新的 VM 版本吗

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T19:30:08.243

如果您还没有，我会尝试从 sun 安装 vanilla J2SDK。

# .net - 使用 .NET 紧凑框架在运行时持久化/检索设置

> ID：1022341
> 
> 赞同：4
> 
> 时间：2009-06-20T19:26:39.683
> 
> 标签：.net, compact-framework, persistence, settings

我想在运行时保存/恢复我的 Windows Mobile 应用程序的设置。数据量微不足道，使用数据库是大材小用。

这样的任务的最佳实践是什么？我想到了类似 Settings : ApplicationSettingsBase class in .NET full framework 的东西，但在精简版中不支持。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-20T20:04:31.090

这个家伙为 Compact Framework 写了一个 AppSettings 的实现：http: [//www.codeproject.com/KB/mobile/SaveSettings.aspx](http://www.codeproject.com/KB/mobile/SaveSettings.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-10-21T19:14:06.157

如果你的设置类的结构不是太花哨，你可以使用 XmlSerializer。

XmlSerializer 的主要缺点是它不能处理抽象、接口或泛型的属性类型。

# xml - XSLT/XPath 中的当前节点与上下文节点？

> ID：1022345
> 
> 赞同：67
> 
> 时间：2009-06-20T19:29:07.823
> 
> 标签：xml, xslt, xpath

在 XSLT 中，“当前节点”和“上下文节点”有什么区别？您可以在此处找到这两个术语：http: [//www.w3.org/TR/xslt](http://www.w3.org/TR/xslt)。

您什么时候使用其中一种？你如何指代每一个？

* * *

## 回答 #1

> 赞同：77
> 
> 时间：2009-06-20T19:30:09.723

当前节点是模板当前正在操作的任何内容。通常这恰好也是上下文节点，但上下文节点在嵌套的 XPath 表达式（方括号中的部分）中具有特殊含义。在那里，它指的是当前正在测试匹配的任何节点。因此，上下文节点在 XPath 表达式内发生变化，但不是当前节点。

上下文节点可以用点 ( `.`) 缩写，有时也可以完全省略。这可能有点令人困惑，因为在嵌套表达式之外，点表示当前节点。（在这种情况下，当前节点恰好是上下文节点，所以有人可能会说它只是近似的当前节点，更恰当地称为上下文节点。但即使规范在这里也称其为当前节点。）

由于点为您提供了上下文节点，因此在嵌套的 XPath 表达式中，用户需要一种方法来引用当前节点，即当前模板正在处理的节点。您可以通过该`current()`功能执行此操作。

在某些情况下，区分这两者很有用。例如，假设您有一些这样的 XML：

```
<a>
    <b>
        <c>foo<footnote fn="1"/></c>
        <d>bar</d>
    </b>
    <b>
        <c>baz</c>
        <d>aak<footnote fn="2"/></d>
    </b>
    <b>
        <c>eep</c>
        <d>blech<footnote fn="2"/></d>
    </b>
    <footnote-message fn="1">Batteries not included.</footnote>
    <footnote-message fn="2">Some assembly required.</footnote>
</a> 
```

现在假设您想像这样将其转换为 LaTeX：

```
foo\footnote{Batteries not included.}
bar

baz
aak\footnote{Some assembly required.}

eep
blech\footnotemark[2] 
```

诀窍是判断脚注是否已被使用。如果这是你第一次遇到脚注，你想写一个`\footnote`命令；否则你想写一个`\footnotemark`命令。您可以像这样使用 XSL 代码：

```
<xsl:choose>
    <xsl:when test="count(preceding::*[./@fn = current()/@fn]) = 0">\footnote{...}</xsl:when>
    <xsl:otherwise>\footnotemark[...]</xsl:otherwise>
</xsl:choose> 
```

在这里，我们将上下文节点`fn`属性（来自`preceding::*`节点集的结果）与当前节点`fn`属性进行比较。（你实际上不必说`./@fn`；你可以说`@fn`。）

简而言之，上下文节点将您留在 XPath 谓词中；当前节点到达谓词之外，回到当前模板正在处理的节点。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2018-09-03T14:13:29.133

## *上下文*节点

***上下文节点***是***XPath*** [评估上下文](https://www.w3.org/TR/1999/REC-xpath-19991116/#section-Introduction)的一部分，并随每个[位置步骤](https://www.w3.org/TR/1999/REC-xpath-19991116/#section-Location-Steps)而变化：

```
step1 / step2 / step3 / ... 
```

每个在`step`哪里

```
axis::node-test[predicate] 
```

*   *每个步骤都根据前面*步骤设置的上下文节点进行评估。
*   *然后每个步骤选择成为后续*步骤的上下文节点的节点。
*   评估`predicate`时，上下文节点是`axis`已通过的节点`node-test`。
*   上下文节点可以作为 访问`.`。

* * *

## *当前*节点

当前***节点***() 是***XSLT*** [处理模型](https://www.w3.org/TR/1999/REC-xslt-19991116#section-Processing-Model)的一部分：¹

*   当前节点是源 XML 文档中与 XSLT 模板最匹配的节点。
*   当前节点成为匹配模板中每个 XPath 表达式的起始上下文节点。
*   可以`current()`在 XPath 谓词中访问当前节点。

* * *

^([¹尽管对于理解上下文节点和当前节点之间的基本区别无关紧要，但请注意，[在 XSLT 2.0](https://www.w3.org/TR/xslt20/#pervasive-changes) *中，评估上下文的描述已更改。当前节点和当前节点列表的概念已被[**上下文项**](https://www.w3.org/TR/xslt20/#dt-context-item)、上下文位置和上下文大小的 XPath 概念所取代。*])

# ruby-on-rails - cairngorm+flex 如何与 Rails 集成？

> ID：1022346
> 
> 赞同：0
> 
> 时间：2009-06-20T19:29:14.157
> 
> 标签：ruby-on-rails, ruby, apache-flex, model-view-controller, cairngorm

我的意思是，cairngorm 的 mvc 和 rails 的 mvc 不重叠它们的功能？我不确定我是否了解带有 rails 后端的 cairngorm 的需求。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-22T07:05:38.380

没有必要，这是一个选项，Cairgorm 将整个 Rails 视为一个模型。Rails 发送 xml 而不是 html，所以没有 browser-css-details 令人头疼的问题。

您可以将 Rails 用作 REST 层，并将您的业务逻辑置于 flex 中。

您可以将 cairgorm 用作复杂但经过良好测试的 rails 应用程序的糖果盖。

您可以找到适合您的中间解决方案。

我们确实在 Rails 中实现了大多数业务逻辑，但使用 flex/cairgorm 来向每个用户仅显示其任务的正确按钮/表单/控件，并以一种很好的独立于浏览器的方式来完成。

希望对你有帮助，有什么详细的可以咨询

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2009-06-22T22:03:57.627

Rails 是服务器的 MVC。对于足够复杂的客户端应用程序，您仍然需要一个架构。我们在客户端上使用 PureMVC 与 Rails 服务器的 REST (JSON) 接口，它运行良好。PureMVC 允许客户端的模型独立于客户端的视图组件，并且可以轻松地同时更新独立的视图组件。

# iphone - iPhone 登录通知

> ID：1022348
> 
> 赞同：0
> 
> 时间：2009-06-20T19:29:36.480
> 
> 标签：iphone, nsurlconnection, restful-authentication

有一个与使用异步 NSURLConnection 进行 iPhone 登录身份验证的最佳实践相关的问题。

由于相同的委托用于登录服务器，人们如何区分为身份验证请求返回的通知，与您为后续数据请求接收数据时的通知？

谢谢，

Sj

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-20T19:45:02.127

如果通过身份验证，您的意思是 HTTP 身份验证，那么它不会作为数据返回给您。它回来了`-connection:didReceiveAuthenticationChallenge:`。如果您谈论的是管理 HTTP 层之上的身份验证的更高级别的协议，那么您的工作就是跟踪连接的当前状态。

有关 HTTP Auth 的完整详细信息，请参阅[使用 NSURLConnection](http://developer.apple.com/documentation/Cocoa/Conceptual/URLLoadingSystem/Tasks/UsingNSURLConnection.html#//apple_ref/doc/uid/20001836-160393)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-21T00:37:30.803

使用的常见模式是为您拥有的每种类型的请求创建一个不同的类，并使其管理自己的生命周期`NSURLConnection`。然后它可以将事件发送回其委托。

另一种方法是记住`NSURLConnection`您创建的所有 s 并将它们与委托回调的第一个参数进行比较。

# c# - ASP.NET 中的文本转语音 - 访问被拒绝...怎么办？

> ID：1022356
> 
> 赞同：3
> 
> 时间：2009-06-20T19:31:04.167
> 
> 标签：c#, asp.net, windows-server-2003, text-to-speech

在我的个人网站上，我想让它“发音”一些东西

我解决了“概念”问题，就像在[这里](https://stackoverflow.com/questions/961546/text-to-speech-in-asp-net)一样，并且在我的桌面上，当从视觉 Web 开发人员启动时，它可以顺利运行。创建一个文件，然后页面中的嵌入式播放器将播放它。完美的。

所以，我把它上传到服务器上......我收到这个错误 500：

> “/sapi”应用程序中的服务器错误。访问被拒绝。（来自 HRESULT 的异常：0x80070005 (E_ACCESSDENIED)） 描述：在执行当前 Web 请求期间发生未处理的异常。请查看堆栈跟踪以获取有关错误及其源自代码的位置的更多信息。
> 
> 异常详细信息：System.UnauthorizedAccessException：访问被拒绝。（来自 HRESULT 的异常：0x80070005 (E_ACCESSDENIED)）
> 
> ASP.NET 无权访问请求的资源。考虑向 ASP.NET 请求标识授予对资源的访问权限。ASP.NET 有一个基本进程标识（通常是 IIS 5 上的 {MACHINE}\ASPNET 或 IIS 6 上的网络服务），如果应用程序不模拟，则使用该标识。如果应用程序通过 模拟，则身份将是匿名用户（通常是 IUSR_MACHINENAME）或经过身份验证的请求用户。
> 
> (...)
> 
> 源错误：
> 
> 请看下面
> 
> 源文件：c:\mypath\sapi\myfile.aspx.cs 行：21
> 
> 堆栈跟踪：
> 
> [UnauthorizedAccessException：访问被拒绝。（HRESULT 异常：0x80070005 (E_ACCESSDENIED)）]
> SpeechLib.SpVoiceClass.Speak(String Text, SpeechVoiceSpeakFlags Flags) +0 prova.Button1_Click(Object sender, EventArgs e) in c:\mypath\sapi\prova.aspx.cs:21 System.Web.UI.WebControls.Button.OnClick(EventArgs e) +111
> System.Web.UI.WebControls.Button.RaisePostBackEvent(String eventArgument) +110
> System.Web.UI.WebControls.Button.System.Web.UI。 IPostBackEventHandler.RaisePostBackEvent(String eventArgument) +10
> System.Web.UI.Page.RaisePostBackEvent(IPostBackEventHandler sourceControl, String eventArgument) +13 System.Web.UI.Page.RaisePostBackEvent(NameValueCollection postData) +36
> System.Web.UI.Page.ProcessRequestMain（布尔 includeStagesBeforeAsyncPoint，布尔 includeStagesAfterAsyncPoint）+1565
> 
> 版本信息：Microsoft .NET Framework 版本：2.0.50727.3053；ASP.NET 版本：2.0.50727.3053

这是来源

源错误：

第 19 行：`myfile.Open(@"C:\mypath\sapi\gen\hi.wav",SpeechStreamFileMode.SSFMCreateForWrite,false);`
第 20 行：`voice.AudioOutputStream = myfile;`
**第 21 行：** `voice.Speak("Hi",SpeechVoiceSpeakFlags.SVSFDefault);`

我在第 21 行，Voice.speak 上遇到错误

这可能意味着 aspnet worker 用户没有某些权限

生成文件夹具有所有正确的权限：创建一个空文件。

那么，我必须授予某些系统 dll 的执行权限吗？

你知道哪个dll吗？不是，在这一点**上** `bin\Interop.SpeechLib.dll`，aspnet 用户拥有完全控制权。

Ps：我对（Windows）服务器有完全控制权（我的意思是，RDC 访问，不是共享主机）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-20T21:35:38.537

我通过将 AppPool 设置为“本地系统”并在 machine.config 中设置为系统帐户来使其工作

当然，我觉得这是一个安全问题，因为我在（小型）公司服务器上托管我的个人网站（公司所有者明确授权员工这样做）

也许这不是一个好的解决方案？

我只为这个 webapp 设置了这个设置，而且我不太擅长编码（所以我的代码中有很多错误，以[100 WTF/分钟](http://www.osnews.com/story/19266/WTFs_m)测量（哈哈）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2011-01-17T15:48:48.447

我也遇到过类似的问题，经过多次头痛后，我确实设法解决了这个问题。我发现了两个问题，第一个是浏览器，我发现仅出于我的目的，即资源管理器可以工作，而不是其他浏览器，例如 mozilla。第二个问题最后是权限，即使我拥有正确的所有权限，我发现我必须删除互联网用户权限并检查作为本地帐户登录的选项，然后该选项才起作用。

# iphone - iPhone SDK：3.0 会清除 imageNamed 的缓存吗？因为 2.2.1 没有！

> ID：1022371
> 
> 赞同：1
> 
> 时间：2009-06-20T19:39:45.040
> 
> 标签：iphone

我正在为 iPhone 创建一个应用程序，其中包含多个按钮，这些按钮都为同一个 UIImageView 设置动画。它在模拟器中运行良好（就像几乎所有应用程序一样），但在设备上它可以很好地播放动画，但重复按下按钮应用程序退出。到目前为止，我已经实现了 2 个按钮。这是按下它们时会发生的情况。好的，当我的应用程序启动时，我有 44 MB 的可用内存，然后当我按下启动动画的 2 个按钮中的第一个时，可用内存下降到 31 并上升到 32，然后当我按下第二个按钮时可用内存下降到 9，然后爬升到 24，然后奇怪地缓慢下降到 10。如果然后按下第一个按钮，则可用内存将攀升至 14MB 并且在重复按下这些按钮的情况下，应用程序内存将下降至 4 到 3 MB 并退出。在仪器中没有泄漏。这是我的代码，以防任何人都可以发现我的内存问题潜伏在哪里。（顺便说一句，我仍在 2.2.1 上开发，因为如果我升级到 3.0，我将无法在设备上测试我的应用程序，因为我还没有注册苹果开发者计划，我按照在线教程获得应用到仅适用于 2.2.1 的设备上）

```
 @synthesize 123pig;
    - (IBAction)startClick:(id)sender{
    animationTimer = [NSTimer scheduledTimerWithTimeInterval:(1.00/30.00) target:self selector:@selector(tick) userInfo:nil repeats:NO];

        123pig.animationImages = [NSArray arrayWithObjects:
                                [UIImage imageNamed: @"123pigapple0001.png"],
                                 [UIImage imageNamed: @"123pigapple0002.png"],
                                 [UIImage imageNamed: @"123pigapple0003.png"],
                                 [UIImage imageNamed: @"123pigapple0004.png"],
                                  [UIImage imageNamed: @"123pigapple0005.png"],
                                  [UIImage imageNamed: @"123pigapple0006.png"],
                                  [UIImage imageNamed: @"123pigapple0007.png"],
                                  [UIImage imageNamed: @"123pigapple0008.png"],
                                  [UIImage imageNamed: @"123pigapple0009.png"],
                                  [UIImage imageNamed: @"123pigapple0010.png"],
                                  [UIImage imageNamed: @"123pigapple0011.png"],
                                  [UIImage imageNamed: @"123pigapple0013.png"],
                                  [UIImage imageNamed: @"123pigapple0014.png"],
                                  [UIImage imageNamed: @"123pigapple0015.png"],
                                  [UIImage imageNamed: @"123pigapple0016.png"],
                                  [UIImage imageNamed: @"123pigapple0017.png"],
                                  [UIImage imageNamed: @"123pigapple0018.png"],
                                  [UIImage imageNamed: @"123pigapple0019.png"],
                                  [UIImage imageNamed: @"123pigapple0020.png"],nil];

        [123pig setAnimationRepeatCount:1];
        123pig.animationDuration =.7;
        [123pig startAnimating];
}

    - (void)tick{
    [self animatePig];
}

    - (void)animatePig{

    UIImage *pigImage13=[UIImage imageNamed:@"123pigapple0020.png"];

    if(123pig.image == pigImage13)
        123pig.image = pigImage13;
    else
        123pig.image = pigImage13;

    }
    - (IBAction)startClick1:(id)sender{
    animationTimer1 = [NSTimer scheduledTimerWithTimeInterval:(1.00/30.00) target:self selector:@selector(tick1) userInfo:nil repeats:NO];
        123pig.animationImages = [NSArray arrayWithObjects:
                              [UIImage imageNamed: @"123pig0015.png"],
                              [UIImage imageNamed: @"123pig0016.png"],
                              [UIImage imageNamed: @"123pig0017.png"],
                              [UIImage imageNamed: @"123pig0018.png"],
                              [UIImage imageNamed: @"123pig0019.png"],
                              [UIImage imageNamed: @"123pig0020.png"],
                              [UIImage imageNamed: @"123pig0021.png"],
                              [UIImage imageNamed: @"123pig0022.png"],
                              [UIImage imageNamed: @"123pig0023.png"],
                              [UIImage imageNamed: @"123pig0024.png"],
                              [UIImage imageNamed: @"123pig0025.png"],
                              [UIImage imageNamed: @"123pig0026.png"],
                              [UIImage imageNamed: @"123pig0027.png"],
                              [UIImage imageNamed: @"123pig0028.png"],
                              [UIImage imageNamed: @"123pig0029.png"],
                              [UIImage imageNamed: @"123pig0030.png"],
                              [UIImage imageNamed: @"123pig0031.png"],
                              [UIImage imageNamed: @"123pig0032.png"],
                              [UIImage imageNamed: @"123pig0033.png"],
                              [UIImage imageNamed: @"123pig0034.png"],
                              [UIImage imageNamed: @"123pig0035.png"],
                              [UIImage imageNamed: @"123pig0036.png"],
                              [UIImage imageNamed: @"123pig0037.png"],
                              [UIImage imageNamed: @"123pig0038.png"],
                              [UIImage imageNamed: @"123pig0039.png"],
                              [UIImage imageNamed: @"123pig0040.png"],
                              [UIImage imageNamed: @"123pig0041.png"],
                              [UIImage imageNamed: @"123pig0042.png"],
                              [UIImage imageNamed: @"123pig0043.png"],
                              [UIImage imageNamed: @"123pig0044.png"],
                              [UIImage imageNamed: @"123pig0045.png"],
                              [UIImage imageNamed: @"123pig0046.png"],
                              [UIImage imageNamed: @"123pig0047.png"],
                              [UIImage imageNamed: @"123pig0048.png"],

                              nil];

    [123pig setAnimationRepeatCount:1];
    123pig.animationDuration =2.7;
    [123pig startAnimating];

      }
    - (void)tick1{
        [self animatePig1];
    }

    - (void) animatePig1{

        UIImage *pigImage11=[UIImage imageNamed:@"123pig0048.png"];

        if(123pig.image == pigImage11)
            123pig.image = pigImage11;
        else
            123pig.image = pigImage11;

    }
    - (void)stopTimer
    {
    [animationTimer invalidate];
    [animationTimer release];
    [animationTimer1 invalidate];
    [animationTimer1 release];
    }

    -(void) touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch *touch = [[event allTouches] anyObject];
    CGPoint location = [touch locationInView:touch.view];
    123pig.center = location; 
    }

    - (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    }

    - (void)dealloc {
    [super dealloc];
    [123pig release];
    }
@end 
```

我有一个想法，它是导致它的 imageNamed 并且即使在内存警告之后 2.2.1 也不会清除它的缓存，并且在另一个 SO 问题上有人说“我的理解是 +imageNamed: 缓存应该尊重 iPhone 上的内存警告操作系统 3.0。有机会时进行测试，如果发现情况并非如此，请报告错误。” 现在，即使我确实下载了 3.0 的固件和 SDK，我也不知道它是否正在清除 imageNamed 的缓存，因为我无法在设备上对其进行测试！顺便说一句，在回答时请记住我是 iPhone sdk 的新手。提前致谢。

----------------Edit---------------- 我刚刚被苹果 iphone 开发者计划录取。WOOOHOOO，我会检查 3.0 是否正确释放缓存的图像。

----------编辑-------- 是的，它确实会释放缓存的图像。在下面查看我的答案以获得进一步说明。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-21T15:12:12.363

好的，看起来 iPhone OS 3.0 确实会在收到内存警告命令时清除缓存的图像，哇哦！我 1，Xcode 0。更多细节：在 iPhone os 2.2.1 中，当您发布动画图像视图时，缓存的图像不会被释放，所以如果您的应用程序有大量动画，那么最终 iPhone 会用完记忆并退出。所以你只需要使用其他更复杂的动画方法，如果可以避免的话，没有人愿意这样做。但是现在释放确实清除了缓存！我可以说，因为当我在我的应用程序中按下一个按钮来为视图设置动画时，需要等待一段时间才能播放动画，然后如果再次按下它就没有等待（因为它缓存了它）但是如果你按下另一个按钮为该视图设置动画，之前缓存的动画将被释放！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T20:03:02.810

我真的对你的计时器的行为感到困惑。您启动猪 UIImageView 动画，然后 1/30 秒后，您的计时器触发并将猪图像设置为其他内容？

您可能希望合并这两种动画方法（UIImageView 动画图像和使用计时器的手动动画）。UIImageView 真的不打算播放长动画（见[这个问题](https://stackoverflow.com/questions/1008997/iphone-sdk-long-animations-with-animationimages-problem)）。我认为它会在您启动动画时立即预加载所有图像 - 因此会占用大量内存。

更好的选择可能是对所有事情都使用计时器并保持与当前帧相对应的局部变量。当您的计时器触发时，您可以使用 imageNamed: 仅加载一张图像并将其应用到 UIImageView。我不确定 UIImage 的缓存行为是什么，但我很确定将其中的 100 个放入 UIImageView 是一个坏主意。

您是否也有机会降低动画的帧速率？看来您正试图在 2.7 秒内翻阅猪动画中的所有 100 张图像 - 那是 37 fps！24 fps 可能会很好，并有助于降低您的内存占用。

另外 - 这是题外话，但我注意到你在你的 dealloc 函数中调用 [123pig dealloc] 。一般来说，你应该只调用release，如果对象的retain count为零（意味着不再使用对象），就会自动调用dealloc。手动调用它可能会导致您破坏应用程序中另一个对象仍在使用的东西。在这种情况下可能无关紧要，但在其他情况下可能会导致一些讨厌的错误。

抱歉，我对缓存问题没有明确的答案。希望那有所帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-21T15:27:46.323

您的 dealloc 代码不正确。您应该只释放 123pig，而不是释放它。您应该在调用之前这样做，`[super dealloc]`因为在调用之后，您的所有实例变量（包括 123pig）可能会失效。这可能表现为没有释放图像内存，因为存在对 123pig 的悬空引用。

# c - 为什么我不能使用 `=` 复制数组？

> ID：1022379
> 
> 赞同：7
> 
> 时间：2009-06-20T19:46:32.313
> 
> 标签：c, arrays

我开始通过阅读 K&R 并完成一些练习来学习 C。经过一番挣扎，我终于可以用下面的代码完成练习 1-19：

```
/* reverse: reverse the character string s */
void reverse(char s[], int slen)
{
  char tmp[slen];
  int i, j;

  i = 0;
  j = slen - 2;    /* skip '\0' and \n */

  tmp[i] = s[j];
  while (i <= slen) {
    ++i;
    --j;
    tmp[i] = s[j];
  }

  /* code from copy function p 29 */
  i = 0;
  while ((s[i] = tmp[i]) != '\0')
    ++i;

} 
```

我的问题是关于将`tmp`char 数组复制到的最后一段代码`s`。为什么不简单的`s = tmp;`工作呢？为什么必须逐个索引地遍历数组复制索引？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2009-06-20T21:26:05.420

也许我只是又老又脾气暴躁，但我看到的其他答案似乎完全没有抓住重点。

C 不做数组赋值，句号。与其他一些语言不同（例如，PL/1；Pascal 及其许多后代——Ada、Modula、Oberon 等），您不能通过简单的赋值将一个数组分配给另一个数组。C 也没有真正的字符串类型。它只有字符数组，如果不使用循环或函数调用，就不能复制字符数组（就像复制任何其他类型的数组一样）。[字符串文字并不真正算作字符串类型。]

复制数组的唯一时间是当数组嵌入到结构中并且您执行结构分配时。

在我的 K&R 2nd Edition 副本中，练习 1-19 要求函数`reverse(s)`；在我的 K&R 第 1 版副本中，它是练习 1-17 而不是 1-19，但提出了同样的问题。

由于现阶段尚未涵盖指针，因此解决方案应使用索引而不是指针。我相信这会导致：

```
#include <string.h>
void reverse(char s[])
{
    int i = 0;
    int j = strlen(s) - 1;
    while (i < j)
    {
        char c = s[i];
        s[i++] = s[j];
        s[j--] = c;
    }
}

#ifdef TEST
#include <stdio.h>
int main(void)
{
    char buffer[256];
    while (fgets(buffer, sizeof(buffer), stdin) != 0)
    {
        int len = strlen(buffer);
        if (len == 0)
            break;
        buffer[len-1] = '\0';  /* Zap newline */
        printf("In:  <<%s>>\n", buffer);
        reverse(buffer);
        printf("Out: <<%s>>\n", buffer);
    }
    return(0);
}
#endif /* TEST */ 
```

用 -DTEST 编译它以包含测试程序，而不是只`reverse()`定义函数。

使用问题中给出的函数签名，您可以避免`strlen()`每行输入调用两次。注意使用`fgets()`- 即使在测试程序中，使用`gets()`. `fgets()`比较的缺点`gets()`是`fgets()`不会删除尾随换行符`gets()`。这样做的好处`fgets()`是您不会遇到数组溢出，并且您可以在遇到换行符之前判断程序是否找到了换行符或者是否空间（或数据）不足。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2009-06-20T19:55:21.217

您的`tmp`数组是在[堆栈](http://en.wikipedia.org/wiki/Stack-based_memory_allocation)上声明的，因此当您的方法完成时，用于保存值的内存将因为[scoping](http://en.wikipedia.org/wiki/Scope_(programming))被释放。

`s = tmp`意味着`s`应该指向与 . 相同的内存位置`tmp`。这意味着当`tmp`被释放时，`s`仍将指向一个现在可能无效的、已释放的内存位置。

这种类型的错误称为[悬空指针](http://en.wikipedia.org/wiki/Dangling_pointer)。

**编辑：**这不是这个答案的评论中指出的悬空修饰符。问题是说`s = tmp`只会改变参数指向的内容，而不是传递的实际数组。

此外，您可以一次执行反向操作，而无需在内存中分配整个数组，只需将值一个接一个地交换到位：

```
void reverse(char s[], int slen) {
    int i = 0;        // First char
    int j = slen - 2; // Last char minus \n\0
    char tmp = 0;     // Temp for the value being swapped

    // Iterate over the array from the start until the two indexes collide.
    while(i < j) {
        tmp = s[i];  // Save the eariler char
        s[i] = s[j]; // Replace it with the later char
        s[j] = tmp;  // Place the earlier char in the later char's spot
        i++;         // Move forwards with the early char
        j--;         // Move backwards with the later char
    }
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2009-06-20T19:51:07.607

因为 s 和 tmp 都是内存地址。如果 s = tmp，则两个指针都指向同一个数组。

假设我们有

```
char s[] ="ab"; 

/*
* Only for explanatory purposes.
* 
*/
void foo(char s[]){ 
    char tmp [] = "cd";
    s= tmp;
 }

foo(s); 
```

在 s=tmp 你会有

```
s[0] : 'c'
s[1] : 'd'
s[2] : '\0' 
```

即使两个数组具有相同的数据，tmp 的变化也会影响它们，因为两个数组实际上是相同的。它们都包含相同内存地址中的数据。因此，通过更改 tmp 数组的任何位置，或破坏 tmp 数组，s 将以相同的方式受到影响。

通过遍历数组，您所做的就是将一段数据从一个内存地址移动到另一个内存地址。

在我的 K&R 副本中，第 4 章解释了指针。快速浏览第一页可能会有所帮助。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-06-20T20:25:48.677

为了完善这里的讨论，还有另外两种可能的反转为字符串的方法：

```
void reverse(char string1[], char string2[])
{
  int i = 0, len = 0;

  while(string2[len] != '\0')   // get the length of the string
      len++;

  while(len > 0)
  {
    string1[i] = string2[len-1]; // copy the elements in reverse
    i++;
    len--;
  }
  string1[i] = '\0'; // terminate the copied string 
} 
```

或递归：

```
void reverse (const char *const sPtr)
{
  //if end of string
  if (sPtr[0] == '\0')
  {
    return;
  }
  else  //not end of the string...
   {
    reverse(&sPtr[1]);  //recursive step
    putchar(sPtr[0]);   //display character
   }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-06-20T19:51:19.150

因为 tmp 是一个指针，你需要得到一个副本，而不是一个“链接”。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2009-06-20T19:55:26.677

在 s=tmp 的情况下，tmp 的值也是数组的起始地址，将被复制到 s。

这样 s 和 tmp 都将指向内存中的相同地址，我认为这不是目的。

干杯

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2009-06-20T19:57:28.733

在这个线程中有一个关于数组和指针的有趣子线程我在维基百科上找到[了这个链接](http://en.wikipedia.org/wiki/C_(programming_language)#Arrays)，其中有一个特殊的代码片段显示了“橡皮泥”C 的含义！

```
/* x designates an array */
x[i] = 1;
*(x + i) = 1;
*(i + x) = 1;
i[x] = 1; /* strange, but correct: i[x] is equivalent to *(i + x) */ 
```

当然，在 C 语言中更令人困惑的是我可以这样做：

```
unsigned int someval = 0xDEADD00D;
char *p = (char *)&someval;

p[2] = (char)0xF0; 
```

因此，指针和数组的互换性在 C 语言中似乎根深蒂固，几乎是有意为之。
其他人怎么看？

---Original Post---
s 和 tmp 都是指针，所以 s = tmp 只会让 s 指向 tmp 在内存中的地址。
您概述的另一个问题是 tmp 是一个局部变量，因此当它超出范围时（即函数返回时）将变为“未定义”。

确保你彻底掌握这三个概念，你不会走错路

1.  范围
2.  栈和堆的区别
3.  指针

希望有所帮助并继续前进！

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2009-06-20T20:16:15.653

尝试进行实验，看看当您执行以下操作时会发生什么：

```
void modifyArrayValues(char x[], int len)
{
    for (int i = 0; i < len; ++i)
        x[i] = i;
}

void attemptModifyArray(char x[], int len)
{
    char y[10];
    for (int i = 0; i < len; ++i)
        y[i] = i;
    x = y;
}

int main()
{
    int i = 0;
    char x[10];
    for (i = 0; i < 10; ++i)
        x[i] = 0;

    attemptModifyArray(x, 10);
    for (i=0; i < 10; ++i)
        printf("%d\n", x[i]); // x is still all 0's

    modifyArrayValues(x, 10);
    for (i=0; i < 10; ++i)
        printf("%d\n", x[i]); // now x has 0-9 in it
} 
```

当您直接修改数组时会发生什么`attemptModifyArray`，您只是覆盖了数组地址的本地副本`x`。当您返回时，原始地址仍在`main`x 的副本中。

当您修改 中的数组中的值时`modifyArrayValues`，您正在修改实际数组本身，该数组的地址存储在 的`modifyArrayValues`本地副本中`x`。当您返回时，`x`仍保留同一个数组，但您已修改该数组中的值。

* * *

## 回答 #9

> 赞同：-2
> 
> 时间：2009-06-20T19:52:42.533

一个非常直接的答案是 - s 和 tmp 都是指向内存位置的指针，而不是数组本身。换句话说，s 和 tmp 是存储数组值的内存地址，而不是值本身。访问这些数组值的常用方法之一是使用 s[0] 或 tmp[0] 之类的索引。

现在，如果您尝试简单地复制 s = tmp，则 tmp 数组的内存地址将被复制到 s。这意味着，原来的 s 数组将丢失，甚至 s 内存指针现在将指向 tmp 数组。

您将在适当的时候很好地理解这些概念，因此请继续阅读本书。我希望这个基本的解释会有所帮助。

# python - GAE 中的字符串列表属性

> ID：1022382
> 
> 赞同：1
> 
> 时间：2009-06-20T19:48:30.013
> 
> 标签：python, google-app-engine

有没有办法通过谷歌的数据查看器或其他一些聪明的方法来编辑 StringListProperty 字段？

最后我想做的是修改我的应用程序，因为它提供了特殊的一次性页面——我不觉得它是最佳解决方案。

干杯，

MH

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-20T20:17:27.320

我建议使用[远程 API](http://code.google.com/appengine/articles/remote_api.html)；您可以轻松编辑数据存储中的任何内容，无需特殊页面。

# semantics - 有哪些信息分析技术可用于用户生成数据的定性分析？

> ID：1022390
> 
> 赞同：0
> 
> 时间：2009-06-20T19:52:21.957
> 
> 标签：semantics, data-analysis

我们有一些算法用于对数据进行排序，找到最大值和最小值，找到节点之间的最短路径等。

我已经开始研究用户生成数据的定性分析，并且遇到了[潜在语义](http://en.wikipedia.org/wiki/Latent_semantic_analysis)分析。还有哪些其他技术可用于分析文本数据……以及可能的其他媒体？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-20T21:07:06.300

那是……一个相当广泛的问题。对用户生成的数据（文本或其他数据）的分析通常是通过通用[数据挖掘](http://en.wikipedia.org/wiki/Data_mining)技术的专门应用来完成的。如果您有兴趣了解有关这个极其广泛的领域的更多信息，我会从那个 wikipedia 链接开始，关注*它的*所有参考资料，然后点击 Google Scholar。到那时你应该知道你对哪种技术感兴趣。

如果您有特定的问题，请发布；SO上有一个人工智能社区，我们中的一个人可能会提出一种方法，或者至少是更集中的研究方向。

# web-services - 用于检测人员、地点或对象的 Web 服务或机制

> ID：1022402
> 
> 赞同：0
> 
> 时间：2009-06-20T19:56:09.360
> 
> 标签：web-services

是否有 Web 服务或工具来检测特定文本是名称还是人、地点或对象（设备）。

例如：

输入：比尔·克林顿 输出：人

输入：黑莓 输出：设备

输入：纽约输出：地点

准确度可能很低。我看过[opencyc](http://www.cyc.com/cyc/opencyc/overview)，但我无法让它工作。有没有办法可以为此使用维基百科？

首先，将一个人或一件事分开会很棒。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-20T20:36:54.613

我认为维基百科将是一个很好的来源。给定输入，您可以尝试在维基百科中找到一个条目并抓取结果页面（如果存在）。

人物和地点应该有相当不同的数据集 - 文章中的生日、位置等，您可以用来区分它们，其他任何东西都是对象。

无论如何都值得一试。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-20T20:41:38.753

使用搜索引擎怎么样？谷歌会很好，我认为雅虎！有用于构建您自己的搜索的工具。

我用谷歌搜索：

```
Results 1 - 10 of about 27,100,000 for "bill clinton" person
Results 1 - 10 of about 6,050,000 for "bill clinton" place
Results 1 - 10 of about 601,000 for "bill clinton" device 
```

他是个人！

```
Results 1 - 10 of about 391,000,000 for "new york" place.
Results 1 - 10 of about 280,000,000 for "new york" person.
Results 1 - 10 of about 84,100,000 for "new york" device. 
```

这是一个地方！

```
Results 1 - 10 of about 11,000,000 for "blackberry" person
Results 1 - 10 of about 36,600,000 for "blackberry" place
Results 1 - 10 of about 28,000,000 for "blackberry" device 
```

不幸的是，黑莓也是一个地方。：-/

请注意，只有在“黑莓”的情况下，“设备”才接近。也许您需要加权页面点击值。你的应用是什么？您知道必须对哪些“设备”进行分类吗？可能的输入范围是多少？

也许您想结合从不同来源获得的结果。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-06-20T20:47:28.773

查看[Wolfram Alpha](http://www.wolframalpha.com/)的输出，您似乎可以通过搜索[比尔克林顿生日](http://www76.wolframalpha.com/input/?i=bill+clinton+birthday)或仅[比尔克林顿](http://www02.wolframalpha.com/input/?i=bill+clinton)来识别一个人，或者您可以通过搜索[纽约 GPS 坐标](http://www76.wolframalpha.com/input/?i=new+york+gps+coordinates)或仅[纽约](http://www02.wolframalpha.com/input/?i=new+york)来识别位置，以获得更好的结果。黑莓对 Alpha 来说似乎是一个艰难的词，因为它一直想把它解释为一种水果。您可能会幸运地搜索 Froogle 来识别设备。

看起来 WA 会给你一个相当不错的准确性，至少如果你使用的是名人/地方。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2010-04-06T14:11:51.097

我认为您要完成的基本任务更正式地称为[命名实体识别](http://en.wikipedia.org/wiki/Named_entity_recognition)。这个任务很重要，而且只输入去掉任何上下文的名称，你就让它变得更加困难。

例如，我们想认为“比尔·克林顿”和“纽约”等示例显然是明确的，但查看它们在 Wikipedia 中的消歧页面表明它们可能引用了几个潜在的实体。“纽约”既是州名、城市名，也是电影名。如果你只看维基百科，“比尔·克林顿”就不会那么模棱两可了，但我相信你会在任何电话簿中找到几十个比尔·克林顿。它也可能是某人的帆船或宠物狗的名称。如果有人输入“华盛顿”怎么办？这可能是美国总统、州、地区、城市、湖泊、街道、岛屿、电影、几艘美国海军舰艇中的一艘、桥梁以及其他事物。确定哪个是您的“正确”用法

据 Cyc 所知，我想你会发现它仍然没有维基百科那么全面。然而，维基百科的主要缺点是它本质上是非结构化的。就我个人而言，我发现 Cyc 的 API 如此复杂且文档记录很差，以至于解析 Wikipedia 的自然语言似乎更容易。

如果我必须从头开始实现这样的 Web 服务，我会首先[下载](http://en.wikipedia.org/wiki/Wikipedia_database)Wikipedia 的快照，然后编写一个解析器来读取所有文章，并根据文章标题生成一个命名实体索引。您可以手动将几十个示例“分类”为人/地点/对象，并训练分类器（贝叶斯、Maxent、SVM）根据文章的词频自动分类其他示例。

# javascript - Grails：视图文件夹中的 Javascript 文件

> ID：1022408
> 
> 赞同：3
> 
> 时间：2009-06-20T19:58:47.793
> 
> 标签：javascript, grails, gsp

我想将 Grails 中的视图拆分为 2 个文件，一个 .gsp 文件和一个 .js 文件，以便从我的视图中获得更清晰的 Javascript 分离。所以这里有一个例子：

```
views/index.gsp
views/index.js
views/home/index.jsp
views/home/index.js 
```

但是当我像这样简单地添加 index.js 脚本引用时：

```
<script src="index.js" type="text/javascript"></script> 
```

我得到的只是404。

有谁知道如何处理这个？

一个很大的好处是能够使用 index.js 文件中的视图数据来生成所需的内容。

马蒂亚斯。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-06-20T22:47:00.950

实际上，完全可以将 JS 文件（或任何其他文件类型）作为 GSP 从您的`grails-app/views/`目录中提供。您唯一需要做的就是为这些 GSP 定义合适的 URL 映射，例如：

```
"/javascript/home/index"(view:'/home/index.js') 
```

使用此 URL 映射，您可以将 JS 代码放入`grails-app/views/home/index.js.gsp`（注意尾随的 .gsp），并且可以在 JS 源代码中使用任何 grails 标签。为确保您的 JS 以正确的内容类型交付，您可能需要放置

```
<%@ page contentType="text/javascript"%> 
```

在您的普惠制开始时。

不幸的是，该`createLink`标签不支持对视图的链接重写，但编写您自己的标签来创建这些链接应该很容易。

无论如何，请记住，这不会对您的应用程序的性能产生非常积极的影响。例如，在将动态内容作为参数传递给 JS 函数时，最好拥有静态 JS 文件（并将它们作为静态资源提供）。这也将使您免于头痛。缓存等

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T20:01:14.530

**更新 2：**

[Grails 提供了使用自定义事件](http://grails.org/doc/1.0.x/guide/4.%20The%20Command%20Line.html)连接到构建生命周期的可能性。

可以编写一个事件处理程序，将其下`grails-app/views`的所有 JavaScript 文件与`web-app/js`.

将自定义代码放在`$PROJECT/scripts/Events.groovy`. 这`PackagingEnd`是一个很好的调用目标，因为它发生在`web.xml`生成之后。

```
eventPackagingEnd = {  ->
     // for each js file under grails-app/views move to web-app/js
} 
```

* * *

**更新**

如果您希望 JavaScript 文件简单地“网格化”在一起，您可以使用符号链接来做到这一点，例如：

```
grails-app/views/view1/index.js -> webapp/js/view1/index.js 
```

据我所知，没有办法强制 grails 直接提供 web-app 之外的内容。

或者，您可以内联您的 JavaScript，但这可能会影响性能。

* * *

JavaScript 文件属于`web-app/js`.

然后你可以使用它们来引用它们`<g:javascript src="index.js" />`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-21T04:24:46.563

这个想法很好，但是 Grails 有这个目录结构是有原因的。视图文件夹适用于某种工件类型（视图）。

您可以在 web-inf 下克隆您的视图文件夹结构，但这会给您带来更多工作，因为我猜这背后的想法是为了方便起见将相关文件保持在一起。

尽管我对将 Javascript 与视图一起存储并不感到兴奋，但我喜欢 Robert 的想法，即通过使用构建事件将 javascript 源复制到正确的目录中来连接到构建过程！如果您决定走这条路，您不妨在使用时压缩源。[ShrinkSafe](http://dojotoolkit.org/docs/shrinksafe)是流行的库。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-25T04:52:03.003

我认为您不允许在视图中访问 js/

如果你需要这样做......这是诀窍

1.  创建你的 js 并用*myjs.gsp 重命名（使用“* ”） iniside _myjs.gsp 输入你的 js

...在这里写下你的js ...

2.  在你的 gsp 里面（例如：index.gsp、view.gsp 等）输入这个标签来上传你的 js

# html - HTML 中的复合对象价值属性

> ID：1022409
> 
> 赞同：1
> 
> 时间：2009-06-20T19:59:12.927
> 
> 标签：html, json

如果由于某种原因必须将 <button> 与多个值相关联，有没有好的方法呢？例如 ...

```
CSV: 
  <button value="Lancelot,Grail,blue">Answer</button>
JSON: 
  <button value="{'name':'Lancelot','quest':'Grail','color':'blue'}">Answer</button> 
```

在没有*好的*方法的情况下，有没有*传统*的方法？

**编辑：另一个用例**

HTML 的生产者服务器 M 知道用户的当前位置和最喜欢的类型、电影名称、最近的剧院和下一次放映时间。服务器 F 知道如何查询各种 3rd 方服务器如何从 A 点到达 B 点以便在时间 T 之前到达。用户只知道电影名称：单击*Drag Me to Hell*，并获取路线。服务器 M*可以*为每部电影生成一个表单，一个按钮显示电影的名称，多个隐藏字段包含开始和结束位置以及所需的到达时间，但这需要大量重复的代码。这些一键式迷你表单中的每一个都将具有相同的方法和操作以及相同的隐藏输入字段结构。样式将是迷你表单的集合而不是按钮的集合，因此 FIELDSET 和 LEGEND 不可用（因为 HTML 禁止嵌套表单）。将参数放入按钮的 value 属性中会更整洁。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-20T20:08:19.227

好吧，如果你必须有一个按钮元素，为什么不使用 JavaScript 来设置一个虚假的属性：

```
$('mybutton').compoundValue = { ... json ... }; 
```

然后在表单提交期间读取“compoundValue”等。

尽管实际上您可能想要考虑一组复选框或其他一些表单位来完成您要完成的工作。

# php - 如何在 PHP + MySQL 中正确实现自定义会话持久化器？

> ID：1022416
> 
> 赞同：11
> 
> 时间：2009-06-20T20:01:39.317
> 
> 标签：php, mysql, session, persistence

我正在尝试在 PHP + MySQL 中实现自定义会话持久性。大多数东西都是微不足道的——创建你的数据库表，创建你的读/写函数，调用`session_set_save_hander()`等等。甚至还有几个教程为你提供了示例实现。但不知何故，所有这些教程都方便地忽略了关于会话持久性的一个小细节——**锁定**。现在这才是真正有趣的开始！

我查看了 PHP 的[session_mysql](http://pecl.php.net/package/session_mysql) PECL 扩展的实现。这使用 MySQL 的函数`get_lock()`和`release_lock()`. 看起来不错，但我不喜欢它的做法。锁在*读函数中获得，并在**写*函数中释放。但是如果 write 函数永远不会被调用呢？如果脚本以某种方式崩溃，但 MySQL 连接保持打开状态（由于池化或其他原因）怎么办？或者如果脚本进入了致命的僵局怎么办？

我只是[遇到了一个问题](https://stackoverflow.com/questions/1001732/php-flock-whats-under-the-hood)，脚本打开了一个会话，然后尝试`flock()`通过 NFS 共享来访问一个文件，而另一台计算机（托管该文件）也在做同样的事情。结果是`flock()`-over-NFS 调用在每次调用时都会阻塞脚本大约 30 秒。它处于 20 次迭代的循环中！由于这是一个外部操作，因此 PHP 的脚本超时不适用，并且每次访问此脚本时会话都会被锁定超过 10 分钟。而且，幸运的是，这是每 5 秒由 AJAX 喊话箱轮询一次的脚本......主要的表演者。

我已经对如何以更好的方式实现它有了一些想法，但我真的很想听听其他人的建议。我没有太多使用 PHP 的经验，无法知道隐藏在阴影中的微妙边缘情况有朝一日会危及整个事情。

* * *

**添加：**

好吧，似乎没有人有什么建议。好吧，这就是我的想法。我想对这可能出错的地方提出一些意见。

1.  使用 InnoDB 存储引擎创建会话表。即使在集群情况下，这也应该确保对行进行适当的锁定。该表应具有列**ID**、**Data**、**LastAccessTime**、**LockTime**、**LockID**。我在这里省略了数据类型，因为它们直接来自需要存储在其中的数据。**ID**将是 PHP 会话的 ID 。**数据**当然会包含会话数据。**LastAccessTime**将是一个时间戳，将在每次读/写操作时更新，并将被 GC 用于删除旧会话。**锁定时间**将是在会话中获取的最后一个锁的时间戳，而**LockID**将是锁的 GUID。
2.  当请求*读取*操作时，将执行以下操作：
    1.  执行`INSERT IGNORE INTO sessions (id, data, lastaccesstime, locktime, lockid) values ($sessid, null, now(), null, null);`- 如果它不存在，这将创建会话行，但如果它已经存在，则不执行任何操作；
    2.  在变量$guid中生成一个随机锁id；
    3.  执行`UPDATE sessions SET (lastaccesstime, locktime, lockid) values (now(), now(), $guid) where id=$sessid and (lockid is null or locktime < date_add(now(), INTERVAL -30 seconds));`- 这是一个原子操作，它将获得会话行上的锁（如果它未锁定或锁已过期），或者什么也不做。
    4.  检查`mysql_affected_rows()`是否获得了锁。如果获得 - 继续。如果不是 - 每 0.5 秒重新尝试一次操作。如果 40 秒后仍未获得锁，则抛出异常。
3.  当请求*写*操作时，执行`UPDATE sessions SET (lastaccesstime, data, locktime, lockid) values (now(), $data, null, null) where id=$sessid and lockid=$guid;`这是另一个原子操作，它将使用新数据更新会话行，如果它仍然有锁则移除锁，但如果锁已经被取走，则不执行任何操作。
4.  当`gc`请求操作时，只需删除所有`lastaccesstime`太旧的行。

任何人都可以看到这个缺陷吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-02T21:51:27.273

好的。答案会更长一些 - 耐心等待！1）无论我要写什么，都是基于我过去几天所做的实验。可能有一些我可能不知道的旋钮/设置/内部工作。如果您发现错误/或不同意，请大声喊叫！

2）第一个澄清 - 当会话数据被读取和写入时

即使您的脚本中有多个 $_SESSION 读取，会话数据也将被读取一次。从会话中读取是基于每个脚本的。此外，数据获取是基于 session_id 而不是键发生的。

2）第二个澄清 - 写在脚本末尾总是被调用

A) 对会话 save_set_handler 的写入总是被触发，即使对于只从会话中“读取”并且从不进行任何写入的脚本也是如此。B) 写入只触发一次，在脚本结束时或者如果您明确调用 session_write_close。同样，写入是基于 session_id 而不是键

3）第三个澄清：为什么我们需要锁定

*   这是什么大惊小怪的事情？
*   我们真的需要锁定会话吗？
*   我们真的需要一个大锁包装 READ + WRITE

解释大惊小怪

脚本1

*   1: $x = S_SESSION["X"];
*   2：睡眠（20）；
*   3：如果（$x == 1）{
*   4: //做某事
*   5: $_SESSION["X"] = 3 ;
*   6：}
*   4：退出；

脚本 2

*   1: $x = $_SESSION["X"];
*   2: if($x == 1) { $_SESSION["X"] = 2 ; }
*   3：退出；

不一致之处在于脚本 1 正在执行基于会话变量（行：3）值的操作，该值已在脚本 1 已经运行时被另一个脚本更改。这是一个框架示例，但它说明了这一点。事实上，您正在根据不再正确的事情做出决定。

当您使用 PHP 默认会话锁定（请求级别锁定）时，script2 将在第 1 行阻塞，因为它无法从脚本 1 在第 1 行开始读取的文件中读取。所以对会话数据的请求是序列化的。当 script2 读取一个值时，保证读取的是新值。

说明 4：PHP 会话同步不同于变量同步

很多人谈论 PHP 会话同步，就好像它就像一个变量同步，一旦你覆盖变量值就会发生写入内存位置，并且任何脚本中的下一次读取都会获取新值。正如我们从澄清 #1 中看到的 - 这不是真的。该脚本在整个脚本中使用在脚本开始时读取的值，即使其他一些脚本更改了这些值，正在运行的脚本在下一次刷新之前不会知道新值。这是非常**重要的**一点。

另外，请记住，即使使用 PHP 大锁定，会话中的值也会发生变化。说“首先完成的脚本将覆盖值”之类的说法不是很准确。值变化还不错，我们追求的是不一致，即不应该在我不知情的情况下发生变化。

澄清 5：我们真的需要大锁吗？

现在，我们真的需要 Big Lock（请求级别）吗？与数据库隔离的情况一样，答案是它取决于您想要如何做事。对于 $_SESSION 的默认实现，恕我直言，只有大锁才有意义。如果我要使用我在整个脚本开头读到的值，那么只有大锁才有意义。如果我将 $_SESSION 实现更改为“始终”获取“新鲜”值，那么您不需要 BIG LOCK。

假设我们实现了一个会话数据版本控制方案，如对象版本控制。现在，脚本 2 写入将成功，因为脚本 1 尚未到达写入点。脚本 2 写入会话存储并将版本增加 1。现在，当脚本 1 尝试写入会话时，它将失败（第 5 行）——我认为这是不可取的，尽管可行。

====================================

从 (1) 和 (2) 可以看出，无论您的脚本多么复杂，X 读取和 Y 写入会话，

*   会话处理程序 read() 和 write() 方法只被调用一次
*   他们总是被称为

现在，网上有一些自定义 PHP 会话处理程序尝试执行“变量”级锁定等。我仍在尝试找出其中的一些。但是我不赞成复杂的方案。

假设带有 $_SESSION 的 PHP 脚本应该服务于网页并在几毫秒内处理，我认为额外的复杂性是不值得的。[就像 Peter Zaitsev 在这里提到](http://www.mysqlperformanceblog.com/2007/03/27/php-sessions-files-vs-database-based/)的那样，选择在写入后提交更新应该可以解决问题。

在这里，我包含了我为实现锁定而编写的代码。用一些“比赛模拟”脚本来测试它会很好。我相信它应该工作。我在网上找到的正确实现并不多。如果您能指出错误，那就太好了。我用裸mysqli做到了这一点。

```
<?php
namespace com\indigloo\core {

    use \com\indigloo\Configuration as Config;
    use \com\indigloo\Logger as Logger;

    /*
     * @todo - examine row level locking between read() and write()
     *
     */
    class MySQLSession {

        private $mysqli ;

        function __construct() {

        }

        function open($path,$name) {
            $this->mysqli = new \mysqli(Config::getInstance()->get_value("mysql.host"),
                            Config::getInstance()->get_value("mysql.user"),
                            Config::getInstance()->get_value("mysql.password"),
                            Config::getInstance()->get_value("mysql.database")); 

            if (mysqli_connect_errno ()) {
                trigger_error(mysqli_connect_error(), E_USER_ERROR);
                exit(1);
            }

            //remove old sessions
            $this->gc(1440);

            return TRUE ;
        }

        function close() {
            $this->mysqli->close();
            $this->mysqli = null;
            return TRUE ;
        }

        function read($sessionId) {
            Logger::getInstance()->info("reading session data from DB");
            //start Tx
            $this->mysqli->query("START TRANSACTION"); 
            $sql = " select data from sc_php_session where session_id = '%s'  for update ";
            $sessionId = $this->mysqli->real_escape_string($sessionId);
            $sql = sprintf($sql,$sessionId);

            $result = $this->mysqli->query($sql);
            $data = '' ;

            if ($result) {
                $record = $result->fetch_array(MYSQLI_ASSOC);
                $data = $record['data'];
            } 

            $result->free();
            return $data ;

        }

        function write($sessionId,$data) {

            $sessionId = $this->mysqli->real_escape_string($sessionId);
            $data = $this->mysqli->real_escape_string($data);

            $sql = "REPLACE INTO sc_php_session(session_id,data,updated_on) VALUES('%s', '%s', now())" ;
            $sql = sprintf($sql,$sessionId, $data);

            $stmt = $this->mysqli->prepare($sql);
            if ($stmt) {
                $stmt->execute();
                $stmt->close();
            } else {
                trigger_error($this->mysqli->error, E_USER_ERROR);
            }
            //end Tx
            $this->mysqli->query("COMMIT"); 
            Logger::getInstance()->info("wrote session data to DB");

        }

        function destroy($sessionId) {
            $sessionId = $this->mysqli->real_escape_string($sessionId);
            $sql = "DELETE FROM sc_php_session WHERE session_id = '%s' ";
            $sql = sprintf($sql,$sessionId);

            $stmt = $this->mysqli->prepare($sql);
            if ($stmt) {
                $stmt->execute();
                $stmt->close();
            } else {
                trigger_error($this->mysqli->error, E_USER_ERROR);
            }
        }

        /* 
         * @param $age - number in seconds set by session.gc_maxlifetime value
         * default is 1440 or 24 mins.
         *
         */
        function gc($age) {
            $sql = "DELETE FROM sc_php_session WHERE updated_on < (now() - INTERVAL %d SECOND) ";
            $sql = sprintf($sql,$age);
            $stmt = $this->mysqli->prepare($sql);
            if ($stmt) {
                $stmt->execute();
                $stmt->close();
            } else {
                trigger_error($this->mysqli->error, E_USER_ERROR);
            }

        }

    }
}
?> 
```

要注册对象会话处理程序，

```
$sessionHandler = new \com\indigloo\core\MySQLSession();
session_set_save_handler(array($sessionHandler,"open"),
                            array($sessionHandler,"close"),
                            array($sessionHandler,"read"),
                            array($sessionHandler,"write"),
                            array($sessionHandler,"destroy"),
                            array($sessionHandler,"gc"));

ini_set('session_use_cookies',1);
//Defaults to 1 (enabled) since PHP 5.3.0
//no passing of sessionID in URL
ini_set('session.use_only_cookies',1);
// the following prevents unexpected effects 
// when using objects as save handlers
// @see http://php.net/manual/en/function.session-set-save-handler.php 
register_shutdown_function('session_write_close');
session_start(); 
```

这是使用 PDO 完成的另一个版本。这个检查是否存在 sessionId 并进行更新或插入。我还从 open() 中删除了 gc 函数，因为它不必要地在每次页面加载时触发 SQL 查询。陈旧的会话清理可以通过 cron 脚本轻松完成。如果您使用的是 PHP 5.x，这应该是要使用的版本。如果您发现任何错误，请告诉我！

==========================================

```
namespace com\indigloo\core {

    use \com\indigloo\Configuration as Config;
    use \com\indigloo\mysql\PDOWrapper;
    use \com\indigloo\Logger as Logger;

    /*
     * custom session handler to store PHP session data into mysql DB
     * we use a -select for update- row leve lock 
     *
     */
    class MySQLSession {

        private $dbh ;

        function __construct() {

        }

        function open($path,$name) {
            $this->dbh = PDOWrapper::getHandle();
            return TRUE ;
        }

        function close() {
            $this->dbh = null;
            return TRUE ;
        }

        function read($sessionId) {
            //start Tx
            $this->dbh->beginTransaction(); 
            $sql = " select data from sc_php_session where session_id = :session_id  for update ";
            $stmt = $this->dbh->prepare($sql);
            $stmt->bindParam(":session_id",$sessionId, \PDO::PARAM_STR);
            $stmt->execute();
            $result = $stmt->fetch(\PDO::FETCH_ASSOC);
            $data = '' ;
            if($result) {
                $data = $result['data'];
            }

            return $data ;
        }

        function write($sessionId,$data) {

            $sql = " select count(session_id) as total from sc_php_session where session_id = :session_id" ;
            $stmt = $this->dbh->prepare($sql);
            $stmt->bindParam(":session_id",$sessionId, \PDO::PARAM_STR);
            $stmt->execute();
            $result = $stmt->fetch(\PDO::FETCH_ASSOC);
            $total = $result['total'];

            if($total > 0) {
                //existing session
                $sql2 = " update sc_php_session set data = :data, updated_on = now() where session_id = :session_id" ;
            } else {
                $sql2 = "insert INTO sc_php_session(session_id,data,updated_on) VALUES(:session_id, :data, now())" ;
            }

            $stmt2 = $this->dbh->prepare($sql2);
            $stmt2->bindParam(":session_id",$sessionId, \PDO::PARAM_STR);
            $stmt2->bindParam(":data",$data, \PDO::PARAM_STR);
            $stmt2->execute();

            //end Tx
            $this->dbh->commit(); 
        }

        /*
         * destroy is called via session_destroy
         * However it is better to clear the stale sessions via a CRON script
         */

        function destroy($sessionId) {
            $sql = "DELETE FROM sc_php_session WHERE session_id = :session_id ";
            $stmt = $this->dbh->prepare($sql);
            $stmt->bindParam(":session_id",$sessionId, \PDO::PARAM_STR);
            $stmt->execute();

        }

        /* 
         * @param $age - number in seconds set by session.gc_maxlifetime value
         * default is 1440 or 24 mins.
         *
         */
        function gc($age) {
            $sql = "DELETE FROM sc_php_session WHERE updated_on < (now() - INTERVAL :age SECOND) ";
            $stmt = $this->dbh->prepare($sql);
            $stmt->bindParam(":age",$age, \PDO::PARAM_INT);
            $stmt->execute();
        }

    }
}
?> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-07-22T17:01:24.140

我只是想补充一点（您可能已经知道）PHP 的默认会话存储（使用文件）确实会锁定会话文件。显然，使用文件进行会话有很多缺点，这可能就是您寻找数据库解决方案的原因。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-07-22T19:06:24.543

> 使用 mysql_affected_rows() 检查是否获得了锁。如果获得 - 继续。如果不是 - 每 0.5 秒重新尝试一次操作。如果 40 秒后仍未获得锁，则抛出异常。

我发现通过持续检查锁来阻止脚本执行存在问题。您建议 PHP 在每次会话初始化时运行最多 40 秒来寻找这个锁（如果我没看错的话。）

## 推荐

如果您有集群环境，我强烈推荐**[memcached](http://www.danga.com/memcached/)**。它支持服务器/客户端关系，因此所有集群实例都可以遵循 memcached 服务器。它没有您担心的锁定问题，而且速度非常快。从他们的页面引用：

> 无论您使用什么数据库（MS-SQL、Oracle、Postgres、MySQL-InnoDB 等），在 RDBMS 中实现 ACID 属性都会有很多开销，尤其是在涉及磁盘时，这意味着查询会阻塞. 对于不符合 ACID 的数据库（如 MySQL-MyISAM），不存在这种开销，但读取线程会阻塞写入线程。*memcached 从不阻塞。*

否则，如果您仍然致力于 RDBMS 会话存储（并且担心锁定会成为问题），您可以尝试基于粘性会话标识符的某种分片（在这里抓住稻草。）对您的架构一无所知，这是我能得到的最具体的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2010-12-14T10:06:20.357

我的问题是为什么要锁定？为什么不让最后一次写入成功？您不应该将会话数据用作缓存，因此写入往往很少，并且在实践中永远不会相互践踏。

# java - 休眠排序

> ID：1022427
> 
> 赞同：0
> 
> 时间：2009-06-20T20:08:46.120
> 
> 标签：java, hibernate

我有它的 Vehicles 类和映射文件，我想从按 ID desc 排序的车辆表中获取所有行（我的其他表也需要相同的行）。

我得到以下代码：

```
session = HibernateUtil.getSessionFactory().getCurrentSession();
tx = session.beginTransaction();

q = session.createQuery("from Vehicles order by ID DESC");

    for (Iterator it=q.iterate(); it.hasNext();){
         //some logic
    } 
```

但是我的集合不是按 ID 排序的，每次它都有不同的顺序，比如 RAND() 或其他东西。我想知道保持功能的最简单方法是什么，只是添加 order by 子句，因为我在很多地方都有相同的语法......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-21T01:39:36.047

我假设您的车辆类别看起来像这样？我在这里使用 JPA，因为这就是我所知道的......

```
class Vehicles {
    @Id
    @Column(name="vehicles_id")
    private int id;
    // other stuff here
} 
```

我不希望您的 session.createQuery 与我的不同，所以这样的事情不会起作用吗？

```
Query q = session.createQuery("select v from Vehicles v order by v.id desc"); 
```

如果你愿意，你也可以使用标准是吗？

```
class Main {
    List<Vehicles> cars;
}

Criteria main = session.createCriteria(Main.class);
Criteria secondary = main.createCriteria("cars");
secondary.addOrder(Order.asc("id")); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-21T05:25:01.937

在“q = session.createQuery(...);”之后尝试 部分：

```
List results = q.list()
//loop through results 
```

其他地方可能有问题，因为“按 id desc 排序”部分是正确的。如果您有正确的数据类型并且索引设置是否正确，请检查您的数据库/映射文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T20:14:16.030

您是否尝试过“from Vehicles v order by v.id desc”？另一种选择是将可比较的接口添加到实体，然后将查询创建的列表带入排序集中。这通常是我需要排序时所做的。

# python - 从 Python 编写 XML：Python 相当于 .NET XmlTextWriter？

> ID：1022429
> 
> 赞同：3
> 
> 时间：2009-06-20T20:10:28.863
> 
> 标签：python, xml, ironpython, jython

我有一些使用 XmlTextWriter 的 IronPython 代码，它允许我编写类似的代码

```
self.writer = System.Xml.XmlTextWriter(filename, None)
self.writer.Formatting = Formatting.Indented
self.writer.WriteStartElement(name)
self.writer.WriteString(str(text))
self.writer.WriteEndElement()

...

self.writer.Close() 
```

我想让我的代码可以跨 Python 实现（CPython、IronPython 和 Jython）移植。是否有一个流式 Python XML 编写器可以用于此目的，而无需使用打印语句或在将其写入文件之前构建整个 DOM 树？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2010-05-21T18:56:15.270

为此，我编写了一个名为 loxun 的模块：http: [//pypi.python.org/pypi/loxun/](http://pypi.python.org/pypi/loxun/)。它使用 CPython 2.5 和 Jython 2.5 运行，但我从未尝试使用 IronPython。

示例用法：

```
with open("...", "wb") as out:
  xml = XmlWriter(out)
  xml.addNamespace("xhtml", "http://www.w3.org/1999/xhtml")
  xml.startTag("xhtml:html")
  xml.startTag("xhtml:body")
  xml.text("Hello world!")
  xml.tag("xhtml:img", {"src": "smile.png", "alt": ":-)"})
  xml.endTag()
  xml.endTag()
  xml.close() 
```

结果：

```
<?xml version="1.0" encoding="utf-8"?>
<xhtml:html xlmns:xhtml="http://www.w3.org/1999/xhtml">
  <xhtml:body>
    Hello world!
    <xhtml:img alt=":-)" src="smile.png" />
  </xhtml:body>
</xhtml:html> 
```

除其他功能外，它还可以在您编写时检测未对齐的标签，使用内存占用少的流式 API，支持 Unicode 并允许禁用漂亮的打印。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-20T20:14:54.003

我从未使用过您所说的 .NET 实现，但听起来您将获得的最接近的是 Python 的[SAX 解析器](http://docs.python.org/library/xml.sax.html)（特别是[XMLGenerator 类——](http://docs.python.org/library/xml.sax.utils.html#xml.sax.saxutils.XMLGenerator)[这里](http://www.xml.com/pub/a/2003/03/12/py-xml.html)有一些示例代码）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-06-21T03:54:44.837

我编写了一个工具来促进从 Python 生成 XML（[代码](http://github.com/billzeller/xmlegant-for-python/tree/master)和[教程](http://www.from.bz/2009/03/28/announcing-xmlegant-for-python/)）

# jsp - 映射——定义问题

> ID：1022445
> 
> 赞同：0
> 
> 时间：2009-06-20T20:17:41.967
> 
> 标签：jsp, servlets

谁能告诉我以下行中**映射一词的含义：**

> 为 JSP 定义 servlet 时，还必须定义到 JSP 页面的映射。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-20T20:21:11.010

映射==关联==链接==参考。

# c++ - 如何更改可执行文件的属性？（视窗）

> ID：1022449
> 
> 赞同：27
> 
> 时间：2009-06-20T20:18:53.823
> 
> 标签：c++, windows, properties, exe, executable

当我创建一个 .exe 时，我可以右键单击它并转到属性-> 详细信息。然后我得到一个类似的列表：

> ```
> File Description | 
> Type             | Application
> File Version     | 
> Product Name     | 
> Product Version  |
> Copyright        | 
> Size             | 18.0 KB
> Date Modified    | 6/16/2009 8:23 PM
> Language         | 
> ```

如何更改这些属性？（顺便说一句，有没有办法改变图标？）

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2009-06-20T20:25:17.600

如果您使用的是 C/Win32，您可以将类似这样的内容添加到封装在 *.rc（资源）文件中的项目中：

```
VS_VERSION_INFO VERSIONINFO
 FILEVERSION    0,0,0,2
 PRODUCTVERSION 0,0,0,2
 FILEFLAGSMASK 0x3fL
 #ifdef _DEBUG
 FILEFLAGS 0x1L
 #else
 FILEFLAGS 0x0L
 #endif
 FILEOS 0x4L
 FILETYPE 0x1L
 FILESUBTYPE 0x0L
{
    BLOCK "StringFileInfo"
    { 
        BLOCK "040904b0"
        {
            VALUE "Comments",         "comment\0"
            VALUE "CompanyName",      "comment\0"
            VALUE "FileDescription",  "base file\0"
            VALUE "FileVersion",      "0.0.0.2 TP\0"
            VALUE "InternalName",     "testTP\0"
            VALUE "LegalCopyright",   "none\0"
            VALUE "OriginalFilename", "test.exe\0"
            VALUE "ProductName",      "test\0"
            VALUE "ProductVersion",   "0.0.0.2 TP\0"
        } 
    }
    BLOCK "VarFileInfo"
    {
        VALUE "Translation", 0x409, 1200
    }
} 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2016-02-03T23:47:02.160

如果您想更改已编译的可执行文件上的 FileDescription 或任何其他版本资源字符串，[rcedit](https://github.com/atom/rcedit)（一个小型​​开源工具）很容易做到：

```
$ rcedit MyApp.exe --set-version-string FileDescription "My Awesome App" 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-03-01T12:22:54.243

如果您使用的是 Visual Studio，则非常容易：

*   右键单击项目中的“资源文件”文件夹
*   单击“添加”，然后单击“资源”
*   从弹出对话框中选择“版本”

然后，您可以双击该文件以在 Visual Studio 中打开它，您将获得一个方便的编辑器来更改值。

然后，您的值会自动链接到 EXE。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2009-06-20T20:27:06.147

这是简单的文件版本信息资源。对于已经存在的文件，您可以使用任何资源编辑器编辑此信息（例如[Resource Hacker](http://angusj.com/resourcehacker/)，它已过时但仍然很好）。您也可以通过这种方式更改图标。

如果您创建自己的应用程序，那么设置它取决于您使用的工具。例如，在 Visual Studio 中，您必须查看项目属性。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2009-06-20T20:30:40.023

*   [可执行文件的资源](http://msdn.microsoft.com/en-us/library/ms632583.aspx)
*   [修改资源](http://msdn.microsoft.com/en-us/library/ms648004.aspx)

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2010-12-18T00:30:31.883

对于 .NET，谷歌“设置程序集属性”以获取有关可用属性的信息。然后，您可以像这样使用属性...

```
using System.Reflection;  // Needed to get to the attributes.

[assembly:AssemblyTitle("My File Description")]
[etc.] 
```

# mysql - 哪些因素应该决定在 MySQL 中优化表的频率？

> ID：1022450
> 
> 赞同：2
> 
> 时间：2009-06-20T20:19:37.347
> 
> 标签：mysql

我在 MySQL 中看到了许多不同的优化表的时间表：从删除后立即到每天一次，再到从不。我经常设置一个每天晚上运行的 cron 作业来优化所有表。

您使用哪些因素来确定表的优化频率？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-20T20:23:30.677

[MySQL本身](http://dev.mysql.com/doc/refman/5.1/en/optimize-table.html)的这句话也很好。

> 在大多数设置中，您根本不需要运行 OPTIMIZE TABLE。即使您对可变长度行进行了大量更新，您也不太可能需要每周或每月超过一次并且仅在某些表上执行此操作。

基于[这篇](http://www.dbtuna.com/article.asp?id=15)关于表优化的文章。

> 这具有对表进行碎片整理并将磁盘上的表大小减少到 105MB 的效果。它对查询性能也有非常积极的影响，将选择查询响应时间从 0.63 秒减少到 0.39 秒。注意 mysql 查询缓存已关闭以进行演示。

[这是“MySQL 管理员指南”](http://books.google.is/books?id=btfeDZZdiC4C&pg=PA321&lpg=PA321&dq=mysql+optimize+table+query+speed&source=bl&ots=rOle7x0jGr&sig=C3zomRqE3kqQD9fiGnPihRmJUJo&hl=is&ei=Lkg9SqbtPNTMjAeJiqgH&sa=X&oi=book_result&ct=result&resnum=4)中的另一句话

> OPTIMIZE TABLE 进行表修复和键分析，并对索引树进行排序，以便键查找更快。

只是因为这句话永远不会经常被告知。

> 过早的优化是万恶之源

你应该做的是先测量，做优化，然后再测量。然后在第二天做同样的事情，如果性能的提升很小，那么你应该在之后做同样的事情，看看你是否会在性能上有很大的提升。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T20:28:08.983

与运行优化表相比，其他因素很可能对查询时间的贡献更大。

如果性能是一个问题（并且仅当），那么您应该从优化实际瓶颈开始使用数据库分析应用程序。

# objective-c - 为什么 NSWindow 或 NSView 实例处理它自己的键事件，而不是它的委托？

> ID：1022457
> 
> 赞同：3
> 
> 时间：2009-06-20T20:22:52.050
> 
> 标签：objective-c, cocoa

作为 Cocoa 的新手，我很难理解为什么通用 NSResponder 子类会以它们看起来的方式实现关键事件。

在我的程序中，我有一个 NSWindow 子类，它占据了整个屏幕，并且必须处理关键事件。有几个主要的命令可以改变程序的整个状态（例如，当用户按下空格键时暂停计时器），拥有像 NSTextField 句柄这样的子视图是没有意义的。

在我看来，委托（控制器）应该得到这些事件。相反，我发现我必须编写一堆杂乱的胶水代码让窗口（通过其`keyDown:`和`interpretKeyEvents:`选择器）通知控制器，或者我必须将一堆控制器代码移动到 NSWindow 子类本身。

这很混乱，我的直觉告诉我我错过了一些东西。有更清洁的解决方案吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-06-20T20:45:23.723

如果您已正确设置，则`NSWindow`' 的代表将收到消息。Cocoa 使用响应者链来转发来自第一响应者的消息——关键消息的关键视图，以及被点击/悬停/等的视图。对于鼠标消息——通过超级视图返回，向上通过窗口，最终到达窗口的委托。[在Apple 的网站](http://developer.apple.com/documentation/Cocoa/Conceptual/EventOverview/EventArchitecture/EventArchitecture.html#//apple_ref/doc/uid/10000060i-CH3-SW26)上有一个很好的典型响应者链图。

你真的不应该继承子类`NSWindow`，除非你正在实现一些花哨的窗口绘图或其他类似的东西。Cocoa 提供`NSWindowController`类来充当窗口及其内容的控制器。

通常的模式是子类化`NSWindowController`并将你`IBOutlet`的 s 添加到它，然后使用 NIB 来布置你的窗口内容。您使您的`NSWindowController`子类成为 Interface Builder 中 File's Owner 代理的类。您还将窗口分配给`delegate`窗口控制器，以便它可以成为响应者链的一部分。最后，要创建窗口，请使用`NSWindowController`'`initWithWindowNibName:`方法，该方法会自动加载 NIB，并使用新的窗口控制器作为文件的所有者。

我建议阅读 Cocoa 文档中的窗口控制器，因为它们提供了您正在寻找的缺失链接。

# common-lisp - 如何将 Web 应用程序连接到 Hunchentoot

> ID：1022462
> 
> 赞同：5
> 
> 时间：2009-06-20T20:24:35.917
> 
> 标签：common-lisp, hunchentoot

我正在编写一个需要 hunchentoot 网络服务器的网络应用程序。我对 hunchentoot 或任何 Web 服务器几乎一无所知，我想知道我用 Common Lisp 编写的应用程序如何为 Web 客户端提供页面。我见过一些优秀的例子（例如[Hunchentoot Primer](http://www.newartisans.com/blog_files/hunchentoot.primer.php "Hunchentoot 底漆")、 Lisp for the Web），尤其是。Hunchentoot 页面上列出的那个。你知道我在哪里可以找到更多这样的例子吗？谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2009-06-20T23:08:34.480

> 我想知道我用 Common Lisp 编写的应用程序如何将页面提供给 Web 客户端。

Hunchentoot 服务于它的所有东西，`*dispatch-table*`它只是一个调度处理程序的列表。

最简单的做法是提供静态文件。一个典型的例子是 CSS 文件：

```
(push (create-static-file-dispatcher-and-handler "/example.css"
                                                 "example.css")
      *dispatch-table*) 
```

对于 Web 应用程序，您很可能希望动态创建网页。为此，您可以定义一个将页面作为字符串返回的函数（例如，使用 CL-WHO），然后为该函数创建一个处理程序：

```
(defun foo ()
  (with-html-output-to-string ; ...
  ))

(push (create-prefix-dispatcher "/foo.html" 'foo)
      *dispatch-table*) 
```

顺便说一句，您可以通过宏消除很多样板：

```
(defmacro 标准页 ((title) &body body)
  `(with-html-output-to-string (*standard-output* nil :prologue t :indent t)
     (:html :xmlns "http://www.w3.org/1999/xhtml"
          :xml\:lang "de"
          :lang "de"
          （：头
           (:meta :http-equiv "内容类型"
                      :content "text/html;charset=utf-8")
           （：标题，标题）
               （：链接：输入“文本/css”
              :rel "样式表"
              :href "/example.css"))
              （：身体
               ，@身体））））

(defmacro defpage (name (title) &body body)
  `（预测
     （定义方法，名称（）
       （标准页（，标题）
         ，@身体））
     (push (create-prefix-dispatcher ,(format nil "/~(~a~).html" name) ',name)
           *调度表*)))

```

您找到的示例应该足以让您入门，如果遇到问题，请阅读手册，然后提出具体问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-07-13T21:13:57.020

`define-easy-handler`在全局变量中自动注册您定义的处理程序，该变量在 HTTP 请求到达时进行检查（该变量称为`*easy-handler-alist*`）。所以它会被自动处理。您想使用与教程中定义的不同形式的处理程序吗？

我认为在 Elephant 发行版中有一个使用 Hunchentoot 的示例（[Elephant](http://common-lisp.net/project/elephant/index.html "大象") is a Persistent Object Database for Common Lisp。）

# php - 发件人地址被拒绝

> ID：1022472
> 
> 赞同：5
> 
> 时间：2009-06-20T20:28:02.010
> 
> 标签：php, email, smtp

我正在尝试使用 PHPMAILER，但我不断收到：

```
SMTP -> FROM SERVER:220 smart6.bol.com.br ESMTP
SMTP -> FROM SERVER: 250-smart6.bol.com.br 250-PIPELINING 250-SIZE 13312000 250-VRFY 250-ETRN 250-AUTH LOGIN PLAIN 250-AUTH=LOGIN PLAIN 250 8BITMIME
SMTP -> FROM SERVER:250 Ok
SMTP -> FROM SERVER:553 : Sender address rejected: not owned by user X
SMTP -> ERROR: RCPT not accepted from server: 553 : Sender address rejected: not owned by user deltrem1984@bol.com.br
SMTP Error: The following recipients failed: deltrem1984@bol.com.br 
```

我该怎么办？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2009-06-20T20:46:25.513

通常出于反垃圾邮件的目的，“$mail->From”需要与您用于登录 SMTP 服务器的地址相同。

如果是这种情况，您可以使用“$mail->AddReplyTo”字段作为发件人地址。只是一个建议。

如果不是解决方案，可以通过设置启用一些额外的调试信息

```
$mail->SMTPDebug = true; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2011-02-24T10:05:04.693

您还应该注意电子邮件地址别名，因为您的 SMTP 服务器可能会因此拒绝您的邮件（这取决于服务器配置）。

# mysql - 在 MySQL 中使用 SQL_CALC_FOUND_ROWS 对查询速度有影响吗？

> ID：1022482
> 
> 赞同：3
> 
> 时间：2009-06-20T20:33:10.440
> 
> 标签：mysql

前几天我在 MySQL 中找到了`FOUND_ROWS()`( [here](http://dev.mysql.com/doc/refman/5.0/en/information-functions.html#function_found-rows)`SQL_CALC_FOUND_ROWS` ) 函数，它是相应的选项。后者看起来特别有用（而不是运行第二个查询来获取行数）。

我想知道添加`SQL_CALC_FOUND_ROWS`查询对速度有什么影响？

我猜它会比运行第二个查询来计算行数要快得多，但会大不相同。此外，我发现限制查询以使其更快（例如，当您获得 1000 的前 10 行时）。添加`SQL_CALC_FOUND_ROWS`到具有小限制的查询会导致查询运行得更慢吗？

我知道我可以对此进行测试，但我想知道这里的一般做法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-20T20:41:30.453

当我在 2008 年的 MySQL 会议上时，一个会议的一部分专门讨论这个——基准测试`SQL_CALC_FOUND_ROWS`和单独的`SELECT`.

我相信结果是没有任何好处`SQL_CALC_FOUND_ROWS`——它并没有更快，事实上它可能更慢了。还有第三种方式。

此外，您并不总是需要这些信息，所以我会走额外的查询路线。

我会试着找到幻灯片...

**编辑：人力资源管理，谷歌告诉我，我实际上是从那次会议上直播的：** [http](http://beerpla.net/2008/04/16/mysql-conference-liveblogging-mysql-performance-under-a-microscope-the-tobias-and-jay-show-wednesday-200pm/) : //beerpla.net/2008/04/16/mysql-conference-liveblogging-mysql-performance-under-a-microscope-the-tobias-and [-jay-show-wednesday-200pm/](http://beerpla.net/2008/04/16/mysql-conference-liveblogging-mysql-performance-under-a-microscope-the-tobias-and-jay-show-wednesday-200pm/)。当记忆失败时，谷歌获胜。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-20T20:38:08.527

计算`SQL_CALC_FOUND_ROWS`查询将像`LIMIT`设置 no 一样执行，但发送给客户端的结果集将遵循`LIMIT`.

* * *

更新：对于仅使用索引的 COUNT(*) 操作，`SQL_CALC_FOUND_ROWS`速度较慢（[参考](http://www.mysqlperformanceblog.com/2007/08/28/to-sql_calc_found_rows-or-not-to-sql_calc_found_rows/)）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T20:35:54.210

我认为对于您需要知道行数的查询会稍微快一些，但对于您不需要知道的查询会产生开销。

我能给的最好的建议是在你的开发服务器上试用它并基准测试差异。每个设置都是不同的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-20T20:45:43.347

我建议在开发应用程序时尽可能少使用专有的 SQL 扩展（或者实际上根本不使用 SQL 查询）。进行单独的查询是可移植的，实际上我认为 MySql 在获取实际信息方面不会比重新查询更好。顺便提一句。正如页面所提到的，该命令在复制环境中使用时也有一些缺点。

# mysql - mysql 用某种内部连接搜索两个表

> ID：1022484
> 
> 赞同：0
> 
> 时间：2009-06-20T20:33:45.460
> 
> 标签：mysql

表`estate_common`-> 房地产的常见数据作为标题名称等房地产可能在种类上有所不同，例如种类 1 - 公寓种类 2 - 房屋等。

```
id  | kind | title     | name
596 | 1    | title 596 | name 596
597 | 1    | title 597 | some 597
598 | 1    | title 598 | some 598
599 | 1    | title 599 | some 599
600 | 1    | title 600 | some 600
601 | 5    | title 607 | some 601 
```

表`estate_kind_1`->不同种类的特定数据，每个`estate_kind_#`都有不同的结构列等。

```
id | estate_common_id | floor | flat | shell
1  | 596              | 250   | 9b   | pvc
2  | 597              | 156   | 10c  | abc
3  | 598              | 126   | 12a  | csd
4  | 599              | 226   | 2a   | add
5  | 600              | 198   | 15o  | fdd 
```

`id`from`estate_common`等于`estate_common_id`from `estate_kind_#`wherer`#`是`kind`表数`estate_common`

在准备查询之前，我知道我必须将表 Estate_common 中的数据和`estate_kind_1`

使用两个表中的数据获取简单的房地产详细信息，这很容易

```
SELECT `common`.*, `kind`.* FROM `estate_common` AS `common` INNER JOIN `estate_kind_1` AS `kind` ON common.id = kind.estate_common_id WHERE (common.id = '597') 
```

但现在我开始做一些 xml 导出，需要从两个表中`estate_common`选择`estate_kind_1`数据`estate_common id´s`

所以像这样查询

```
SELECT `common`.*, `kind`.* FROM `estate_common` AS `common`, `estate_kind_1` AS `kind` WHERE (common.id IN ('596,597')) 
```

但它给了我奇怪的结果

```
id  | kind | title     | name     | id | estate_common_id | floor | flat | shell
596 | 1    | title 596 | name 596 | 1  | 596              | 250   | 9b   | pvc
596 | 1    | title 596 | name 596 | 2  | 597              | 156   | 10c  | abc 
```

表格中的数据`estate_kind_1`意味着右侧的 id 1 a 2 可以，但左侧`estate_common`的两行相同

应该

```
id   | kind | title     | name   | id | estate_common_id | floor | flat | shell
596  | 1    | title 596 | name 596 | 1  | 596              | 250   | 9b   | pvc
597  | 1    | title 597 | name 597 | 2  | 597              | 156   | 10c  | abc 
```

我尝试按不同的方式分组，但可能以错误的方式会很高兴获得任何帮助

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-20T20:49:10.750

您的后一个查询没有明确`JOIN`的，因此`INNER JOIN`正在完成。由于也没有`ON`子句，所以发生的是一个完整的交叉产品，对一个表有限制。您应该得到的结果是，您的每一行都`kind`会有两个结果 - 一个对应 596 的结果`common`，一个对应 597 的结果。

我假设您已将结果裁剪为 2 行。

您想要的查询是：

```
SELECT `common`.*, `kind`.* 
  FROM `estate_common` AS `common`, `estate_kind_1` AS `kind` 
  ON common.id = kind.estate_common_id
  WHERE (common.id IN ('596,597')); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T21:49:53.343

solution is realy simple

```
SELECT common.*, kind.* FROM estate_common common, estate_kind_1 kind WHERE common.id = kind.estate_common_id AND (common.id IN (596,597)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T20:50:24.523

关于你的问题，我一定遗漏了一些东西。这是你想要的吗？

```
SELECT `common`.*, `kind`.*
FROM `estate_common` AS `common`
     INNER JOIN `estate_kind_1` AS `kind` ON common.id = kind.estate_common_id
WHERE common.id IN ('596,597') 
```

# visual-studio - 为什么 Visual Studio 2008 总是重建我的整个项目？

> ID：1022485
> 
> 赞同：12
> 
> 时间：2009-06-20T20:33:54.743
> 
> 标签：visual-studio, rebuild

我有一个包含大约 60 个 C++ 源文件的 Visual Studio 项目。我可以进行构建，并且它可以毫无错误地完成。但是如果我立即再次按 F7，它总是会重新编译大约 50 个源文件。它不会重新编译所有文件，这很奇怪。

我设置了“启用最小重建”(/Gm)。任何想法为什么它可能会这样做？这些文件都没有未来的修改日期。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2009-06-20T20:50:47.097

您的任何文件日期都在未来吗？如果您更改了时区或更改了系统时钟时间，就会发生这种情况。未来的日期会混淆 IDE 并在每次按下 F7 或 F5 时强制重建。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-01-18T16:46:12.787

我已经解决了同样的问题。

在我的情况下，编译器显示警告，如果指定了 /Gm，则需要 /Zi 选项。

/Gm 启用“最小重建”，这需要 .pdb 文件中的调试信息。因此，如果您不想使用 .pdb，请同时禁用最小重建 - 它解决了我的问题。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2009-06-20T20:51:48.420

很可能是依赖关系的问题。

考虑以下可能性：

*   如果您为解决方案中的某些文件定义了自定义构建工具，请确保输出属性包含正确的文件名。如果构建工具的输出与输出文件名中指定的不对应，构建器将重新构建该文件。

*   如果您有自定义构建事件，请检查这些构建事件的输出是否不会影响要构建的文件的依赖关系。

*   在构建后尝试将一些输出文件复制或移动到构建文件夹时遇到问题。影响构建过程输出文件时间戳的构建后操作将决定每次重建。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-03-02T14:34:52.077

项目属性->“C/C++”->“输出文件”->“程序数据库文件名”选项不能为空。通过从下拉框中选择来设置此选项。该选项将设置如下：$(IntDir)\vc90.pdb。并且行 ProgramDataBaseFileName="" 将从 vcproj 文件中删除。

然后，当您构建项目或解决方案时，只会重新编译更改的 *.cpp 文件。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2011-02-26T10:11:56.773

在我的这种效果（通过 VS2005 的 C++）的情况下，它仅在发布配置中，并且 Studio 在构建输出中告诉，如果 /Zi - 选项未设置，编译器选项 /Gm 将被忽略。设置 /Zi via 后

配置属性 -> C/C++ -> 常规 -> 调试信息格式：程序数据库（/Zi），

还可以。但是当发布配置需要一些关于调试的东西时，有什么问题吗？我还不清楚！

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2010-08-09T13:31:15.077

似乎这个问题可能是由很多事情引起的，但为我解决的问题是：

1.  关闭 Visual Studio
2.  手动删除*所有* `bin`文件夹`obj`（清理似乎不起作用）
3.  打开解决方案并运行 Clean（我不确定这是否有必要，但我这样做是为了以防万一......）
4.  正常建设

注意：这是针对 Visual Studio 2010 中的 C# 程序的。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2009-07-16T00:27:51.807

我遇到了同样的问题，似乎是因为我关闭了浏览信息。属性->C/C++->浏览信息->启用浏览信息->无。我发现的唯一解决方法是重新打开它。这是一个 xbox 360 项目，fwiw，我的其他项目没有问题。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2011-05-09T13:21:34.810

经过几天的谷歌搜索，我最终找到了解决问题的方法。

当我将项目移动到新 PC 时，我遇到了这个问题。我已经检查了几次文件的创建日期。这些日期是最新的，但是即使我更改了文件，修改日期也很糟糕（有点奇怪）。

文件的简单更新解决了这个问题。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2009-06-20T20:51:56.987

一个原因是，如果某个源文件的“上次修改日期”设置为将来的某个日期：它会重建，然后源文件仍然晚于可执行文件。

如果源文件位于远程计算机（网络共享）的目录中，则可能会发生日期问题，并且/或者如果您的计算机的时间与运行服务器的计算机的日期不同步，甚至可能会发生此问题您的源代码版本控制系统。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2011-08-31T03:55:22.140

检查您的项目是否包含磁盘上不存在的任何 .h 头文件。当我删除一个我实际上并没有包含在任何地方的头文件时，总是会发生在我身上，但忘记从我在 VS 中的解决方案导航器中删除它。注意：缺少的标头在构建过程中不会产生错误（当没有#included 时）。

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2011-10-21T15:55:35.267

检查项目的**程序数据库文件名**设置。`"$(IntDir)\"`出于某种原因，如果将其设置为目录的名称（例如”）。

这是 VS2008 中的一个错误；我还没有在 VS2010 中重现它，但是我的测试还不够彻底，所以我不确定说 VS2010 中不存在这种行为。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2010-08-16T10:18:37.123

导致我出现类似症状的原因是：我在一个解决方案中有几个项目。有 .cpp 文件被 >1 个项目引用（并因此编译）。不幸的是，Visual Studio 使用非常简单的命名创建 .obj 文件 - 它只是将“.cpp”替换为“.obj”。创建具有不同名称的包装器 .cpp-s 解决了该问题。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2011-01-05T15:02:05.020

我有类似的东西。尽管我确实有构建前后的事件，但它们并没有引起问题。事实证明，我在参考链中有许多项目的内容文件被标记为“总是复制”而不是“如果更新就复制”，这意味着这些项目总是被认为是“过时的”。通过将所有这些更改为“如果更新则复制”，对我的单元测试项目的更改不再强制重新编译所有其他项目。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2011-12-06T01:27:32.637

禁用“最小重建”（配置属性 > C/C++ > 代码生成）为我修复了它。编译器甚至留下了一条线索：

1>cl : 命令行警告 D9007 : '/Gm' 需要 '/Zi 或 /ZI'; 选项被忽略

尽管我必须指出，编译器并没有像它所说的那样忽略该选项。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2013-11-05T19:12:27.217

我们经常在这里：

*   手动删除所有中间和输出文件。vstudio 中的 clean 选项有时是不够的。从一个全新的开始做完整的构建。如果在完整构建后 vstudio 仍想重新编译某些文件，它可能与下一个项目符号有关。
*   如果在您的 vcxproj 中引用了一个不在磁盘上的头文件，则该项目也会被重新编译。您可以通过 MSDN 博客上描述的一些隐藏功能来检查这一点，或者只是触摸（即单击它以打开）项目爆炸器中的所有头文件，看看磁盘上是否不存在

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2014-09-02T06:59:06.813

有同样的问题。解决方法： -delete output folder (obj,exe, all files) -run cygwin -cd project folder -run "touch *", which reset file modify date/time -build and enjoy problem fixed

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2013-10-24T11:44:45.877

在我的情况下，我将系统数据时间更改为上一个日期，因此每次都在重建，因为文件的时间戳不同，一旦更改为当前时间，它不会每次都重建。

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2017-06-13T14:02:44.447

项目重建也有类似的问题。Visual Studio 不会重新编译，但每次按 F7 时都会重新链接项目。

修复很简单。尝试在编辑器中打开项目中包含的所有文件（从解决方案资源管理器中双击每个文件）并从解决方案中删除那些不存在的文件。

# sql - 尝试返回给定 id 和相同 id + 偏移量之间的行，大多数逻辑应该去哪里确定如何检索数据？：BLL 或 DAL

> ID：1022486
> 
> 赞同：0
> 
> 时间：2009-06-20T20:34:06.570
> 
> 标签：sql, sql-server, business-logic-layer, three-tier

在我的数据库中，我有一个名为`ThingsInACircle`. 每次将 a`Thing`添加到 时`ThingsInACircle`，都会添加一个`ThingId`自动递增的 a。

把这张表中的 想象`Things`成一个圆圈。
`SELECT Thing FROM ThingsInACircle WHERE ThingId = 10`旁边是
`SELECT Thing FROM ThingsInACircle WHERE ThingId = 11`。
还有……
`SELECT Thing FROM ThingsInACircle WHERE ThingId = min(ThingId)`旁边
`SELECT Thing FROM ThingsInACircle WHERE ThingId = max(ThingId)`

我想说：对于给定的 ThingId 和偏移量，返回 ThingsInACircle 中从 ThingId 到 (ThingId + offset) 的所有记录（偏移量可能为负数）。

因此，以此为例进行设置：

以下是我们的 ThingId 列表：1 2 3 4 5 6 7 8 9

如果我想要 @ThingId = 2 和 @offset = 3 的所有 ThingId，则没有问题

```
SELECT ThingId FROM ThingsInACircle WHERE
ThingId BETWEEN @ThingId AND (@ThingId + @offset) 
```

它会返回：2 3 4 5

但是，如果我想要 @ThingId = 8 和 @offset = 3 的所有 ThingId，那么就有问题了

该函数应返回：7 8 9 1

所以这是我的困境，我的**数据访问层**是否应该包含一个使用更**复杂的存储过程的查询** *（选择最小值、最大值并使用 if & else 来确定它们是否已被超过）*来确定要检索哪些记录以进行处理记录被链接成一个圆圈？

或者**业务逻辑层**是否应该确定用户是否请求了超过 min 或 max 的 id + 偏移量，然后**使用简单的 DAL 方法来完成**它需要返回的内容？

这可能只是一个见仁见智的问题。前两天刚开始学习三层结构，是跟着[微软教程](http://msdn.microsoft.com/en-us/library/aa581776.aspx)学的，所以我想了解一下有些人认为DAL和BLL应该如何形成：如果DAL应该简单，BLL应该做所有的验证......或者反过来......或者我一起错过的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-20T21:30:39.700

```
SELECT ThingId FROM ThingsInACircle 
WHERE
   ThingId BETWEEN @ThingId AND (@ThingId + @offset) 
   OR 
   ThingID BETWEEN 1 AND (@ThingID + @Offset - @MaxID) 
```

@MaxID is the maximum thing id (end of the circle).

You have two cases:

normal case is when you have no overflow on offset. This is covered entirely by the second between.

second case is when you have an overflow, and you need to apply the offset over the boundary. In this case you have the range @ThingID - @ThingID + @offset, handled by the first BETWEEN, and 1 - ((@ThingID + @offset) - @MaxID), handled by the second BETWEEN.

If offset is higher than @MaxID, then all the @ThingIDs have to be considered, and this case is also covered by the second between.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T22:11:03.237

大多数时候（在这种情况下），我建议从业务层中的业务逻辑开始（即圆圈中的最后一件事紧挨着第一件事）。

这意味着至少进行两次查询。第一个获取您的 thingID 范围：

```
int maxThingId = // select max(thingId) 'maxThingId' from ThingsInACircle
int minThingId = // select min(thingId) in the same query 
```

所以你的第二个查询通常是：

```
select thingId 
from ThingsInACircle 
where thingId > @lowerBound and thingId < @upperBound 
```

其中参数被预先计算为：

```
int lowerBound = requestedThingId;
int upperBound = lowerBound + offset; 
```

然后是第三个，如有必要：

```
if(upperBound > maxThingId) { 
  upperBound -= maxThingId - minThingId; 
  // third query:
  // select thingId from ThingsInACircle where thingId < @upperBound
} 
```

如果您开始看到性能问题或数据完整性等问题，您仍然可以考虑将此逻辑移至 DAL。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T21:57:45.167

我通常发现这些比 DAL 更容易在其他地方处理，尤其是在处理 RDBMS 时。其他类型的集合抽象（数组、集合、字典等）将更容易使用。

# c++ - 如何在 C++ 中创建临时文本文件？

> ID：1022487
> 
> 赞同：32
> 
> 时间：2009-06-20T20:34:31.933
> 
> 标签：c++, file

我正在尝试在 C++ 中创建一个临时文本文件，然后在程序结束时将其删除。我对谷歌的运气并不好。

你能告诉我要使用哪些功能吗？

* * *

下面的答案告诉我如何创建临时文件。如果我只想创建一个文件 (tmp.txt) 然后删除它怎么办？我该怎么做？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2009-06-20T20:39:53.017

也许这会有所帮助

```
FILE * tmpfile ( void ); 
```

[http://www.cplusplus.com/reference/clibrary/cstdio/tmpfile/](http://www.cplusplus.com/reference/clibrary/cstdio/tmpfile/)

> 打开一个临时文件
> 
> 创建一个临时二进制文件，打开以供更新（wb+ 模式——详见 fopen）。文件名保证与任何其他现有文件不同。当流关闭（fclose）或程序正常终止时，创建的临时文件会自动删除。

也可以看看

```
char * tmpnam ( char * str ); 
```

> 生成临时文件名
> 
> 生成一个包含与任何现有文件不同的文件名的字符串。此字符串可用于创建临时文件，而不会覆盖任何其他现有文件。

[http://www.cplusplus.com/reference/clibrary/cstdio/tmpnam/](http://www.cplusplus.com/reference/clibrary/cstdio/tmpnam/)

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2009-06-20T21:01:08.947

这是一个完整的例子：

```
#include <unistd.h>

int main(void) {
  char filename[] = "/tmp/mytemp.XXXXXX"; // template for our file.        
  int fd = mkstemp(filename);    // Creates and opens a new temp file r/w.
                                 // Xs are replaced with a unique number.
  if (fd == -1) return 1;        // Check we managed to open the file.
  write(fd, "abc", 4);           // note 4 bytes total: abc terminating '\0'
  /* ...
     do whatever else you want.
     ... */
  close(fd);
  unlink(filename);              // Delete the temporary file.
} 
```

如果您知道要创建的文件的名称（并且确定它不存在），那么您显然可以使用它`open`来打开文件。

`tmpnam`并且`tmpfile`可能应该避免，因为它们可能会受到竞争条件的影响 -[`man tmpfile(3)`](http://www.kernel.org/doc/man-pages/online/pages/man3/tmpfile.3.html)有关详细信息，请参阅。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2010-03-04T08:15:12.993

这可能有点离题，因为作者想创建一个 tmp.txt 并在使用后将其删除，但这很简单——您可以简单地 open() 并删除它（当然使用 boost::filesystem）。

mkstemp() 是基于 UNIX 的。在 Windows 中，您可以使用 GetTempFileName() 和 GetTempPath() 生成临时文件的路径。来自 MSDN 的示例代码：

[http://msdn.microsoft.com/en-us/library/aa363875%28VS.85%29.aspx](http://msdn.microsoft.com/en-us/library/aa363875%28VS.85%29.aspx)

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2014-10-06T20:35:32.937

在 Linux 上（从内核 3.11 开始），有一个 open(2) O_TMPFILE 标志，它创建一个没有名称的临时文件（即它不显示在文件系统中）。这有一些有趣的功能：

*   不用担心唯一名称，它只是一个 inode，没有名称。
*   创建期间没有竞争条件（例如符号链接攻击）。
*   如果您的应用程序崩溃，没有杂散文件，它总是会自动删除。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2009-06-20T20:51:58.780

如果您需要一个命名文件（例如，您可以将该名称传递给另一个进程，可能是编译器或编辑器），然后注册一个清理函数，使用`atexit()`. 您可以使用 C++`<iostream>`或 C `FILE *`( `<cstdio>`) 创建文件。不完全标准但广泛可用`mkstemp()`的函数创建一个文件并告诉您它的名称以及返回一个文件描述符（第三种 I/O 机制）；您可以使用该`fdopen()`函数将文件描述符转换为`FILE *`.

如果您不需要 C 样式的命名文件`FILE *`，则可以`tmpfile()`按照@Tom 的建议查看。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2009-06-20T22:28:41.237

我想知道为什么你们中的大多数人向他展示了 C 方式而不是 C++ 方式。
这是[fstream](http://www.cplusplus.com/reference/iostream/fstream/)。
试试看，删除文件取决于操作系统，但您可以使用[boost.filesystem](http://www.boost.org/doc/libs/1_39_0/libs/filesystem/doc/index.htm)让事情变得容易。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2020-12-19T18:35:54.737

一种创建临时文件的干净、可移植且不弃用的方法由以下方式提供[`Boost`](https://www.boost.org)：

```
auto temporary_file = boost::filesystem::temp_directory_path() / boost::filesystem::unique_path(); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2009-06-20T21:09:31.583

好了，假设你已经成功创建了临时文件，你可以使用remove函数来删除它。

该函数在 stdio.h 中声明 -

```
#include <stdio.h>

int remove(const char *pathname); 
```

例如，如果你想删除一个名为 myfile.txt 的文件，代码将是

```
#include<stdio.h>

int main()
{
  if(remove("myfile.txt") == -1)
  {
    fprintf(stderr,"Remove failed");
    exit(EXIT_FAILURE);
  }
  exit(EXIT_SUCCESS);
} 
```

我希望到目前为止，您已经知道如何创建临时文件，所以这应该可以解决您的查询。希望能帮助到你。

# c# - 将其 connectionStringName 设置为 LocalSqlServer 的元素的用途？

> ID：1022489
> 
> 赞同：1
> 
> 时间：2009-06-20T20:34:59.047
> 
> 标签：c#, asp.net, configuration, web-config, configuration-management

1）默认情况下，配置元素的*connectionStringName*属性设置为*LocalSqlServer*，据我所知，该属性是指在**machine.config*文件中 的元素。* 

 *a）我假设这个连接字符串是指数据库*aspnetdb.mdf*？！

b) 我了解*aspnetdb.mdf*用于我们不手动创建成员资格或配置文件数据库（通过调用*aspnet_regsql*）的情况，但我仍然不明白将*connectionStringName*属性设置为*LocalSqlServer*设置的配置元素的目的？即，他们何时以及为什么需要访问该数据库？

c) 如果我们通过*aspnet_regsql*手动设置成员数据库，因此不使用*aspnetdb.mdf*会发生什么？配置元素如何知道我们没有使用*aspnetdb.mdf*并因此尝试访问我们创建的数据库？

2) 如果我们希望*machine.config中的**LocalSqlServer*条目指向其他数据库文件，我们可以执行以下操作：

 *```
 <connectionStrings>
        <remove name="LocalSqlServer" />
        <add name=”LocalSqlServer” ...  />
      </connectionStrings> 
```

我知道 `<remove>`element 的目的是取消任何以前声明的同名元素，但在上面的例子中，我们只是改变了已经存在的连接的属性，因此*machine.config*没有两个同名的连接，所以为什么我们必须包含`<remove>`元素吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-20T21:47:37.963

从[MSDN 上的 connectionStrings 元素文章](http://msdn.microsoft.com/en-us/library/bf7sd233(VS.80).aspx)：

> 父配置文件中包含的连接字符串会被继承，除非子配置文件中使用了 clear 元素。以下默认 connectionStrings 元素在 Machine.config 文件中配置。复制代码
> 
> ```
> <connectionStrings>
>     <add name="LocalSqlServer" connectionString="data source=.\SQLEXPRESS;Integrated
>         Security=SSPI;AttachDBFilename=|DataDirectory|aspnetdb.mdf;User
>         Instance=true" providerName="System.Data.SqlClient" />
> </connectionStrings> 
> ```

因此，如果未修改配置文件的该部分，它会自动具有该连接字符串。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-20T21:05:08.707

使用的约定是可以选择完成相同任务的众多约定之一，但当时在 MS 的 ASP.NET 团队中的人确实是唯一能说出“为什么”那套约定的人用过的。我的理解是，当前配置的目的是让初学者尽可能容易上手。即运行一些向导，使用预先配置的设置自动生成数据库，拖放一些安全控件，它们可以使用。由于这是为初学者设计的，因此更有经验的开发人员会遇到与您现在遇到的相同的问题，因为深入研究这些部分如何组合在一起并不简单。

您会在 machine.config 中注意到的一件事是所有提供者（成员身份、角色、配置文件等）都使用此 LocalSqlServer 连接字符串名称，它再次支持初学者场景。因此，要使用自己的数据库，需要去掉LocalSqlServer的默认定义，自己定义。配置文件定义中没有替换元素，因此您必须使用删除/添加序列，这是逻辑等价的。通过更改连接字符串并将其名称保留为 LocalSqlServer，machine.config 中的所有提供程序都指向您的数据库。这为您提供了数据库的默认提供程序定义。

现在，如果您想自定义提供程序定义，您可以将它们添加到您自己的 Web.config 并更改它们的设置。此时，您可以将 LocalSqlServer 作为自定义提供程序定义的连接字符串，或者您可以创建自己的连接字符串，然后将自定义提供程序定义指向您自己的连接字符串，您将不再需要担心 LocalSqlServer。如果从 web.config 中删除 LocalSqlServer，则需要将自定义提供程序定义添加到引用数据库字符串的自己的 web.config。

希望这可以帮助，

乔**

# maven-2 - 托管 Maven 存储库和持续集成的最佳选择？

> ID：1022494
> 
> 赞同：10
> 
> 时间：2009-06-20T20:37:15.533
> 
> 标签：maven-2, continuous-integration, repository

谁能推荐一个好的托管服务提供商来托管我们的 Maven 2 存储库和持续集成过程？

我们对实施持非常开放的态度，并且愿意使用任何操作系统、CI 软件和存储库软件，只要它能很好地完成工作。

提前致谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-06-21T12:39:34.697

我们正在使用 nexus 社区版（@see [http://www.sonatype.com/products/nexus](http://www.sonatype.com/products/nexus)）来缓存外部工件并发布内部版本和快照。

我们评估了一些用于持续集成的工具（@see [http](http://continuum.apache.org) ://continuum.apache.org，@see [https://hudson.dev.java.net](https://hudson.dev.java.net)）并决定使用 hudson，因为它很简单。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-07-07T11:46:43.207

如果 Sonatype 是开源的，它将托管您的项目工件。有关详细信息，请参见[此处](https://docs.sonatype.com/display/NX/OSS+Repository+Hosting)。

[您可以从他们的合作伙伴之一](http://confluence.atlassian.com/pages/viewpage.action?pageId=162718)获得 Bamboo 托管

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2011-11-15T13:12:57.423

我不知道任何托管 maven/nexus/sonar 的 SaaS 提供商。我知道豆茎和弹簧圈。两者都是 SaaS 提供商，但不针对您的要求。也许，您可以使用 amazon ec2 并使用 nexus 部署您自己的虚拟机。 [EC2 上的 Nexus 开源和 Hudson](http://www.sonatype.com/people/2009/06/nexus-open-source-and-hudson-on-ec2/)

# python - 在 Python 中模拟成员资格测试：将 __contains__ 正确委派给包含对象

> ID：1022499
> 
> 赞同：6
> 
> 时间：2009-06-20T20:39:05.577
> 
> 标签：python, containers, delegation, emulation, iterable

我已经习惯了 Python 允许一些巧妙的技巧将功能委托给其他对象。一个例子是委托给包含的对象。

但是，当我想委托 __contains __ 时，我没有运气：

```
class A(object):
    def __init__(self):
       self.mydict = {}
       self.__contains__ = self.mydict.__contains__

a = A()
1 in a 
```

我得到：

```
Traceback (most recent call last):
File "<stdin>", line 1, in <module>
TypeError: argument of type 'A' is not iterable 
```

我做错了什么？当我调用 a.__contains __(1) 时，一切都很顺利。我什至尝试在 A 中定义一个 __iter __ 方法，以使 A 看起来更像一个可迭代的，但它没有帮助。我在这里错过了什么？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2009-06-20T20:42:37.457

特殊方法，例如`__contains__`仅在类上定义时才特殊，而不是在实例上定义（Python 2 中的遗留类除外，无论如何*都不应该使用）。*

所以，在课堂上做你的代表团：

```
class A(object):
    def __init__(self):
       self.mydict = {}

    def __contains__(self, other):
       return self.mydict.__contains__(other) 
```

我实际上更喜欢将后者拼写为`return other in self.mydict`，但这是一个次要的风格问题。

**编辑**：如果并且当“特殊方法的完全动态的每个实例重定向”（如提供的旧式类）是必不可少的，那么用新式类实现它并不难：您只需要每个具有这种特殊需要的实例被包裹在它自己的特殊类中。例如：

```
class BlackMagic(object):
    def __init__(self):
        self.mydict = {}
        self.__class__ = type(self.__class__.__name__, (self.__class__,), {})
        self.__class__.__contains__ = self.mydict.__contains__ 
```

本质上，在将一点点黑魔法重新分配`self.__class__`给一个新的类对象之后（它的行为与前一个类似，但有一个空的 dict 并且除了这个之外没有其他实例`self`），在旧式类中的任何地方，您将分配给`self.__magicname__`，分配改为`self.__class__.__magicname__`（并确保它是内置的 or `staticmethod`，而不是普通的 Python 函数，当然，除非在某些不同的情况下您确实希望它`self`在实例上调用时接收）。

顺便说一下，这个类`in`的实例上的操作符比以前提出的任何解决方案都要*快*——或者至少我用我通常的信任来测量（直接去，而不是遵循正常的查找涉及继承和描述符的路由，减少了一些开销）。`BlackMagic`*`-mtimeit``built-in method`*

 *一个自动执行`self.__class__`每个实例想法的元类并不难编写（它可以在生成的类的`__new__`方法中完成繁琐的工作，并且如果在实例上分配，也可以将所有魔术名称设置为实际分配给类，或者通过`__setattr__`或许多*许多*属性）。但这只有在对这个特性的需求真的很普遍的情况下才是合理的（例如，将一个巨大的古老的 Python 1.5.2 项目移植到现代 Python，包括 Python 3，该项目自由地使用“每个实例的特殊方法”）。

我*推荐*“聪明”还是“黑魔法”解决方案？不，我不这样做：几乎总是以简单、直接的方式做事更好。但是“几乎”在这里是一个重要的词，很高兴手头有这样先进的“钩子”，用于可能实际需要使用它们的罕见但并非不存在的情况。*

# python - 使用 Universal Feed Parser 获取日期的问题

> ID：1022504
> 
> 赞同：1
> 
> 时间：2009-06-20T20:42:09.843
> 
> 标签：python, parsing, feed

看起来[http://portland.beeandblog.com/feed/atom/](http://portland.beerandblog.com/feed/atom/)搞砸了（0.92 和 2.0 RSS 提要也是如此）。

Universal Feed Parser（来自[http://code.google.com/p/feedparser/source/browse/trunk/feedparser/feedparser.py?spec=svn295&r=295](http://code.google.com/p/feedparser/source/browse/trunk/feedparser/feedparser.py?spec=svn295&r=295)的最新版本）没有看到任何日期。

```
 <title>Beer and Blog Portland</title>
    <atom:link href="http://portland.beerandblog.com/feed/" rel="self" type="application/rss+xml" />
    <link>http://portland.beerandblog.com</link>
    <description>Bloggers helping bloggers over beers in Portland, Oregon</description>
    <pubDate>Fri, 19 Jun 2009 22:54:57 +0000</pubDate>
    <generator>http://wordpress.org/?v=2.7.1</generator>
    <language>en</language>
    <sy:updatePeriod>hourly</sy:updatePeriod>
    <sy:updateFrequency>1</sy:updateFrequency>
                    <item>
            <title>Widmer is sponsoring our beer for the After Party!!</title>
            <link>http://portland.beerandblog.com/2009/06/19/widmer-is-sponsoring-our-beer-for-the-after-party/</link>
            <comments>http://portland.beerandblog.com/2009/06/19/widmer-is-sponsoring-our-beer-for-the-after-party/#comments</comments>
            <pubDate>Fri, 19 Jun 2009 22:30:35 +0000</pubDate>
            <dc:creator>Justin Kistner</dc:creator>

            <category><![CDATA[beer]]></category> 
```

我正在努力

```
        尝试：
            已发布 = e.published_pa​​rsed
        除了：
            尝试：
                已发布 = e.updated_pa​​rsed
            除了：
                已发布 = e.created_pa​​rsed

```

它失败了，因为我无法约会。

关于如何以合理的方式提取日期的任何想法？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-20T23:14:58.600

为我工作：

```
>>> e = feedparser.parse('http://portland.beerandblog.com/feed/atom/')
>>> e.feed.date
u'2009-06-19T22:54:57Z'
>>> e.feed.date_parsed
(2009, 6, 19, 22, 54, 57, 4, 170, 0)
>>> e.feed.updated_parsed
(2009, 6, 19, 22, 54, 57, 4, 170, 0) 
```

也许您正在寻找`e.updated_parsed`您应该寻找的地方`e.feed.updated_parsed`？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-20T22:36:49.597

使用裸体`except`可能会掩盖代码中的问题。假设（我不使用提要解析器） AttributeError 是您应该检查的特定异常，请尝试（意外双关）这个：

```
try:
    published = e.published_parsed
except AttributeError:
    try:
        published = e.updated_parsed
    except AttributeError:
        published = e.created_parsed 
```

无论如何，请不要显示“它失败了”，而是显示错误消息和回溯。

**编辑** 我已经下载了最新版本（即不是来自 svn），并按照文档中的示例得到了这个结果：

```
C:\feedparser>\python26\python
Python 2.6.2 (r262:71605, Apr 14 2009, 22:40:02) [MSC v.1500 32 bit (Intel)] on
win32
Type "help", "copyright", "credits" or "license" for more information.
>>> import feedparser
>>> d = feedparser.parse('http://portland.beerandblog.com/feed/atom/')
>>> d.entries[0].updated
u'2009-06-19T22:54:57Z'
>>> d.entries[0].updated_parsed
time.struct_time(tm_year=2009, tm_mon=6, tm_mday=19, tm_hour=22, tm_min=54, tm_sec=57, tm_wday=4, tm_yday=170, tm_isdst=0)
>>> d.entries[0].title
u'Widmer is sponsoring our beer for the After Party!!'
>>> d.entries[0].published
u'2009-06-19T22:30:35Z'
>>> d.entries[0].published_parsed
time.struct_time(tm_year=2009, tm_mon=6, tm_mday=19, tm_hour=22, tm_min=30, tm_sec=35, tm_wday=4, tm_yday=170, tm_isdst=0)
>>> 
```

就像我说的，我不喜欢 RSS 和 Atoms 之类的，但对我来说似乎很简单。除了我不明白你从哪里获得`<pubDate>`标签和 arpanet 风格的时间戳；原始源中不存在的 AFAICT - 它具有`<published>`ISO 时间戳：

```
>>> import urllib
>>> guff = urllib.urlopen('http://portland.beerandblog.com/feed/atom/').read()
>>> guff.find('pubDate')
-1
>>> guff.find('published')
1171
>>> guff[1160:1200]
'pdated>\n\t\t<published>2009-06-19T22:30:35'
>>> 
```

“e.published_pa​​rsed”中的“e”是什么？考虑通过访问 feedparser 来展示完整的故事，就像我在上面所做的那样。

# mysql - Windows 上的 MySQL/Ruby

> ID：1022508
> 
> 赞同：0
> 
> 时间：2009-06-20T20:44:52.193
> 
> 标签：mysql, windows, ruby

我试图在 Windows XP 上使用 Rails 2.3.2 和 MySQL 5.0，但没有运气。
我已经安装了 MySQL，并且能够运行它、添加表等。
在 ruby​​ 中，require 'mysql' 语句通过了，但是它到达了第一个操作，然后我得到了

```
> C:/Development/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/mysql_adapter.rb:7:in `define_all_hashes_method!': Mysql not loaded (RuntimeError)
        from C:/Development/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/mysql_adapter.rb:71:in `mysql_connection'
        from C:/Development/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `send'
        from C:/Development/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `new_connection'
        from C:/Development/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:245:in `checkout_new_connection'
        from C:/Development/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:188:in `checkout' 
```

知道我做错了什么吗？

```
require 'rubygems'
require 'activerecord'
require 'mysql'

ActiveRecord::Base.establish_connection(
    :adapter => "mysql",
    :host => "127.0.0.1",
    :database => "ruby"
)

class Student < ActiveRecord::Base
end
Student.find(:all) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-06-21T07:28:51.470

如果您没有部署到 Windows，并且您的开发数据是合理的（<10k 行/表），我会切换到 SQLite。它足够通用，您应该能够在 MySQL 上轻松部署。[在 Windows 上安装 SQLite 非常简单](http://wiki.devchix.com/index.php?title=Server_2003#SQLite_and_the_SQLite_gem)——您只需要使用旧版本的 gem，因为最新版本已损坏。

Postgres 是另一回事。如果 SQLite 可以工作，我不会使用它。与 SQLite 或 MySQL 不同，它在使用 LIKE 时默认执行区分大小写的搜索。如果您确实使用它，请检查您的插件是否有 LIKE 查询。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T20:47:50.987

你不会得到任何其他错误，比如丢失 dll 文件等吗？通常使用数据库连接器，您必须将相应的 dll 文件（如 mysql.dll）添加到 PATH（或 ruby​​ 的“bin”目录中），这样 ruby​​ 才能找到它们。

# sql - 在 SQL 查询中选择第 N 条记录

> ID：1022514
> 
> 赞同：8
> 
> 时间：2009-06-20T20:47:10.240
> 
> 标签：sql, sql-server-2005

我有一个正在运行的 SQL 查询，但我只想选择一个特定的行。例如，假设我的查询是：

```
Select * from Comments 
```

假设这返回 10 行，我只想选择此查询返回的第 8 条记录。我知道我可以做到：

```
Select Top 5 * from Comments 
```

要获取该查询的前 5 条记录，但我只想选择某条记录，我可以在此查询中放入什么来做到这一点（类似于顶部）。

谢谢

杰克

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2009-06-20T20:51:53.460

这是一道经典的面试题。

在 Ms SQL 2005+ 中，您可以使用[ROW_NUMBER()](http://msdn.microsoft.com/en-us/library/ms186734.aspx)关键字并使用谓词 ROW_NUMBER = n

```
USE AdventureWorks;
GO
WITH OrderedOrders AS
(
    SELECT SalesOrderID, OrderDate,
    ROW_NUMBER() OVER (ORDER BY OrderDate) AS 'RowNumber'
    FROM Sales.SalesOrderHeader 
)  

SELECT * 
FROM OrderedOrders 
WHERE RowNumber = 5; 
```

在 SQL2000 中，您可以执行类似的操作

```
SELECT Top 1 *FROM
[tblApplications]
where [ApplicationID] In
(
    SELECT TOP 5 [ApplicationID]
    FROM [dbo].[tblApplications]
    order by applicationId Desc
) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2009-06-20T20:58:09.907

怎么样

```
SELECT TOP 1 * FROM 
   (SELECT TOP 8 * FROM Comments ORDER BY foo ASC)
ORDER BY foo DESC 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-06-20T20:54:06.170

首先，您应该说明您正在使用哪个 RDBMS。

其次，您应该仔细考虑您要完成的工作。关系数据库是基于集合的。通常，集合中元素的顺序无关紧要。您会想问为什么在这种情况下它很重要，然后看看是否有更好的方法将顺序的概念嵌入到查询本身中。

例如，在 SQL Server 2005（和其他 RDBMS）中，您可以使用 ROW_NUMBER 函数根据您指定的条件为返回的每一行分配一个序号。然后，您可以根据行号选择行。来自在线书籍的示例：

```
USE AdventureWorks;
GO
WITH OrderedOrders AS
(
    SELECT SalesOrderID, OrderDate,
    ROW_NUMBER() OVER (ORDER BY OrderDate) AS 'RowNumber'
    FROM Sales.SalesOrderHeader 
) 
SELECT * 
FROM OrderedOrders 
WHERE RowNumber BETWEEN 50 AND 60; 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2009-06-20T20:55:03.437

```
SELECT * FROM comments WHERE ...conditions... LIMIT 1 OFFSET 8 
```

OFFSET 对 MySQL 来说是件好事

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2009-06-20T20:54:01.910

那么，在 T-SQL（SQL Server 的方言）中，您可以执行以下操作：

```
SELECT TOP 1 *
  FROM (SELECT TOP 8 *
          FROM Table
         ORDER
            BY SortField)
 ORDER
    BY SortField DESC 
```

这样你就获得了第 8 条记录。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2009-06-20T20:57:53.713

对于 SQL Server 2005：

```
select rank() OVER (ORDER BY c.subject, c.date) as rank, c.subject, c.date
   from comments c
   where rank = 8 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2009-06-20T22:21:23.123

我已经阅读了问题和您对您想要下 3 条博客评论等的评论。

你的表格是如何组织的？
假设您有博客文章 ID 和评论 ID 是按每个博客文章的升序生成的，您可以根据当前 ID 进行 SELECT。

例如，如果 blogpostId = 101，您将获得按发布 ID 排列的前 3 条评论顺序。现在让我们说，您想要获得接下来的 3 条评论 - 您可以在显示到评论 id 的最后一条评论 id 之间执行 SELECT WHERE commentId - 3

但这一切都取决于您的表是如何定义的。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2009-06-20T22:38:12.807

在没有 ROW_NUMBER() 函数的 SQL 2000 中，您可以使用如下解决方法：

```
SELECT CommentsTableFieldList, IDENTITY(INT, 1,1) as seqNo 
INTO #SeqComments 
FROM Comments

SELECT * FROM #SeqComments 
WHERE seqNo = 8 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2012-04-02T05:31:13.980

```
select top 1 *
from TableName
where ColumnName1 in
(
    select top nth ColumnName1
    from TableName
    order by ColumnName1 desc
)
order by ColumnName1 desc 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2009-06-20T20:48:55.790

在[SELECT 参考](http://dev.mysql.com/doc/refman/5.1/en/select.html)中，使用 LIMIT 关键字：

```
SELECT * FROM tbl LIMIT 5,10;  # Retrieve rows 6-15
SELECT * FROM tbl LIMIT 5;     # Retrieve first 5 rows 
```

*注意：这是针对 MySQL 的，其他 SQL 引擎可能有不同的关键字。*

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2016-04-05T03:29:50.470

```
Select from tablename limit nthrow,1; 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2016-11-09T06:17:14.523

试试这个

让我们假设，我们要选择 WC_Video 表的第 5 行并且

```
Select * from (Select Row_Number() over (Order by Uploadedon) as 'rownumber',* from Wc_Video )as Temp where rownumber=5 
```

# linux - 从 Gnome 迁移到 XFCE

> ID：1022520
> 
> 赞同：0
> 
> 时间：2009-06-20T20:48:47.600
> 
> 标签：linux, gnome, xfce

我现在正在使用 Gnome 并想安装 XFCE。没什么复杂的，只是好奇 - 以前安装在 Gnome 上的所有应用程序也会被删除，或者在安装 XFCE 并删除 Gnome 后它们会在 XFCE 上正常工作吗？

操作系统：Linux Mint 7

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-09-02T19:17:08.857

不要卸载 Gnome，只需在图形登录屏幕中选择 XFCE

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-20T20:52:19.497

您*可能会*失去任何使用 Gnome 的桌面小部件的功能，但一般来说，您使用 GTK 的所有应用程序都不应受到您所使用的桌面环境的影响。

至少在 Ubuntu 下，我相当确定卸载 Gnome 只会影响桌面环境，它不应该删除任何未明确绑定到 Gnome 桌面的应用程序。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T13:16:51.783

安装 XFCE 很简单：以 root 身份运行：

```
yum groupinstall XFCE 
```

根据我的经验，所有 gnome 应用程序都可以与 XFCE 一起使用。但是，您应该确保 XFCE 在启动时为这些启动适当的服务。导航到菜单 -> 设置 -> 会话和启动。在“高级”选项卡上，选择相应的复选框。

无需卸载 GNOME。登录屏幕将允许您选择其中一个。

# http - J2ME 额外烦人的 HTTP 权限提示

> ID：1022523
> 
> 赞同：3
> 
> 时间：2009-06-20T20:50:08.847
> 
> 标签：http, java-me, midp, midlet

某些电话仅在第一次建立连接时提示用户许可。当 MIDlet 尝试建立 HTTP 连接时，其他人会弹出权限提示！如果我们想抑制提示，有哪些选项？

我们可以只使用一个 CA（证书颁发机构）签署 JAR 并让它在所有设备上工作吗？我们是否必须在每次发布时为签名付费？

是否可以创建我们自己的 CA 证书并告诉我们的客户将其安装在该设备上？

或者，普通的套接字连接似乎不会受到影响。J2ME 的 TCP 上是否有免费的 HTTP 实现？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-06-22T06:41:15.263

某些电话允许您手动更改设置以在每个会话中设置一次。或尝试添加

`MIDlet-Permissions: javax.microedition.io.connector.http`

到 jad 文件。

是的，如果构建使用大多数设备上可用的根证书进行签名，例如 Verisign Class 3 证书

作为一项安全措施，设备不允许您安装自己的证书，即使它是从 CA 获得的。

普通套接字连接可能会增加客户端处理数据的开销。此外，还涉及一些安全问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-22T12:42:10.183

签署 JAR 并不能保证在所有手机和所有网络上抑制这些提示。它可能对某些人有效。AFAIK，您通常需要为每个构建签名；因此，如果您在许多手机上使用相同的版本，您只需签名一次。

您可以通过套接字编写自己的 HTTP 实现，但请注意 Socket 实现不允许访问端口 80 和 8080（同样是 AFAIK）。

遇到多个 HTTP 提示时，您最好的选择是将用户引导至其手机菜单中的 MIDlet 权限设置；这应该改为“询问一次”。

HTH，时髦的兄弟

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-07-03T16:21:12.417

Java Verifieds UTI 根证书并非在所有手机/网络组合上，对于受信任第三方中的其他域也是如此，例如 Verisign 和 Thawte（对于这些机构，特别是摩托罗拉设备）

可以公平地说，UTI 证书可能是为您提供最多手机覆盖范围的证书

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-21T00:22:50.460

要禁止 HTTP 连接提示，签署应用程序是唯一的选择。另一种方法是在预售手机上预装，但即使是手机制造商也需要签名的 jad/jars。

让一组 jad/jar 在不同的设备上工作并不依赖于签名，而是你如何设计一个应用程序。如果你能解决这个问题，那么是的，你可以让一个签名的 jad/jar 在多个设备上工作。

我不知道创建我们自己的证书并要求客户安装它们。我不认为它有效，因为我认为这是不可能的。

如果您知道自己在做什么，那么基于 TCP 的 HTTP 是一个相当简单的实现，但我不知道它有任何免费的实现。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-06-24T19:37:14.510

获得 Java 验证，您会发现在所有网络和手机上 - 用户每次启动应用程序以授权连接时只会收到一次提示。

# iphone - iPhone、核心数据和 JSON

> ID：1022536
> 
> 赞同：2
> 
> 时间：2009-06-20T20:55:02.953
> 
> 标签：iphone, json, core-data

我有一个带有 API 的网站，它使用 JSON 发布信息。我可以很好地访问这个 API，但我真的很想使用 Core Data 将信息存储在 iPhone 应用程序中。有没有办法将 Persistent Store 连接到 JSON API，这样我就可以使用网站作为 Core Data 的后端，而不必使用某种算法使它们保持同步。

我希望这很清楚。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2009-06-30T21:24:18.803

如果您只想将 Core Data 用于其对象图管理工具，您可以解析 JSON 数据并创建与内存存储关联的对象图。

如果你想以序列化的 JSON 格式保存这些数据，Core Data 确实具有创建新的原子存储类型的功能。您可以编写 JSON 存储来替代 XML 存储格式。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-06-20T22:16:48.607

不，您只能使用 XML、SQLite 或内存存储。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2011-05-17T14:27:46.563

有一个库可以执行 JSON => 核心数据同步：[https ://github.com/sixdegrees/lidenbrock](https://github.com/sixdegrees/lidenbrock)

# php - 使用 php 包含外部内容的最佳方式是什么？（适用于喜欢最佳实践的 Web 开发人员）

> ID：1022544
> 
> 赞同：0
> 
> 时间：2009-06-20T20:59:05.707
> 
> 标签：php, jquery, include

我查看了很多关于使用**php "include"****包含页眉、导航和页脚的教程。**但我最终分离了我的 html 标签。例如，在“header.html”中，而结束标记在页脚中。当我使用 jQuery 并且看起来有点乱时，这给了我一些问题。是否有更好的做法来生成外部内容？（jQuery 是解决方案吗？）**`my <div id="content">``</div>`**

 ****索引.php**

```
<?php include("header.html"); ?>
<?php include("navigation.html"); ?>
<div id="content">
    <h2 class="clear">This is the contact page</h2>
        <p>
        Main content here... Main content here... Main content here... Main content here...
        Main content here... Main content here... Main content here... Main content here...
        Main content here... Main content here... Main content here... Main content here...
        Main content here... Main content here... Main content here... Main content here...
        Main content here... Main content here... Main content here... Main content here...
        Main content here... Main content here... Main content here... Main content here...
        </p>
    </div>
<?php include("footer.html"); ?> 
```

**header.html**

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <title>Study at Best</title>
    <script type="text/javascript" src="scripts/jquery-1.3.2.min.js"></script>
    <script type="text/javascript" src="scripts/jquery.corner.js"></script>
    <script type="text/javascript" src="scripts/jquery.dropshadow.js"></script>
    <script type="text/javascript" src="scripts/jqueryScripts.js"></script>
    <link rel="stylesheet" rev="stylesheet" href="styles/layout.css" />
    <link rel="stylesheet" rev="stylesheet" href="styles/ddm.css" />
</head>
<body>
<div id="container">
    <div id="header">
    This is the header
    </div> 
```

**页脚.html**

```
 <div id="footer">
        <p>BEST School &copy; Copyright 2009</p>
    </div>
</div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-06-20T21:02:43.407

这会导致什么问题？这是一个相当标准的做法（我使用它），我从来不知道它会产生任何问题。jQuery 不应该是一个问题，因为在所有的 html 无论如何都连接在一起之前不会运行 jQuery 代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T21:09:33.220

不应该造成任何问题。就个人而言，如果导航很简单，我会把它放在标题中，如果不是，我会通过 PHP 动态生成它并将它放在一个类中，并将该类包含在标题中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T21:13:27.533

我看不出这有什么问题。我以前多次使用过这种技术。对我来说，它让一切井井有条。就像 Jonathan Sampson 所说的，jQuery 应该没有任何问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-26T00:05:13.433

在我个人看来，这看起来不对。我的意思是不要对自己这样做。如果网站变得更加复杂，那将是一场噩梦。仅将页脚 div 放在与 header.html 相同的 footer.html 怎么样？其余的属于 index.php。如果 index.php 变得复杂，请将其拆分更多（javascript.html..）。– merkuro 6 月 20 日 21:22

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-07-06T21:17:38.710

嗯，好的，不确定这是否是更好的方法，但我倾向于做一个模板文件，其中包含页眉、页脚、菜单、左侧、右侧，以及其他任何不具体的内容只到一页，包括所有的js包括等等。然后 index.php 将简单地有一个内容变量，所有索引内容都在其中。在索引的末尾，我需要将“内容”变量放置在它所属的位置的模板文件，tada，你所有的头痛都结束了。**

# asp.net-mvc - 模型本身是否应该进行一些计算？

> ID：1022546
> 
> 赞同：4
> 
> 时间：2009-06-20T21:01:21.240
> 
> 标签：asp.net-mvc

我已经学习[ASP.NET MVC](http://www.asp.net/mvc)几个月了。我已经了解了视图和控制器以及模型和东西。为了设计一个视图，我们总是需要一个模型。通常模型只是一个类，我们用数据填充并传递给视图。我在这里有一个问题：模型本身应该进行一些计算，还是应该只是愚蠢的？

例如，我有一个`Book`按 s 加载 s的站点`User`。我的模型类如下：

```
public class FormViewModel
{
  public User MyUser {get; set;}
  public Books UserBooks {get; set;}

  //Constructor here. 
  public FormViewModel(User _user, Books _userBooks)
  {
    this.MyUser=_user;
    this.UserBooks=_userBooks;
  }
} 
```

这个类*不做*任何事情——它只是一个模板。现在如果我修改代码如下：

```
public class FormViewModel
{
  public User MyUser {get; set;}
  public Books UserBooks {get; set;}

  //Constructor here. 
  public FormViewModel(User _user)
  {
    this.MyUser=_user;
    this.UserBooks=_user.GetBooks();
  }
} 
```

收集哪些`Book`s 取决于`User`选择了哪些。现在它更容易使用。

我只想知道根据 MVC 模式和实践有什么好的方法。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-06-20T21:13:26.473

您希望将所有业务逻辑和数据验证分离到模型中。通常这包括“分组”数据集等或按某些标准过滤数据。

您希望在控制器中分离对模型的这些方法的所有调用，控制器的职责是从模型中检索和发送数据。然后控制器将适用的数据集传递到视图中。

Helpers 是视图用于执行*表示*逻辑（不是业务逻辑或验证）的逻辑，例如打印菜单等。

视图是您将使用 Helpers 的地方（或者不，它们不需要正确使用 MVC，但它们会“帮助”：p）将 HTML、CSS 和 JS 写入浏览器。您还可以将常用的视图模块分成部分视图，您可以将它们包含在多个视图中。

您可以进一步将事物分离到 ViewModel 中，但随后您将超出“严格”的 MVC。在这种情况下，您将使用 ViewModel 来帮助视图与模型交互 - 基本上 ViewModel 是一个模块化控制器。在这种情况下，控制器会做的比它已经做的少得多。

但是，这对于 Web 应用程序来说通常是多余的。因为 Web 应用程序只有一个执行流程（请求），所以没有必要将事物分离到 ViewModel 中。然而，在 GUI 代码中，ViewModel 变得更加有用（因为 GUI 不仅仅是单一的执行流程）。

您总是希望将业务逻辑分离到模型中。请记住，您不应该将您的控制器耦合到您的模型 - 这样您就可以在其他控制器的其他地方使用您的模型，甚至将其公开为 Web 服务。

希望这可以帮助 ：）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-20T21:11:22.000

一般来说，这种工作应该在模型中完成。这有几个原因。首先，如果获取用户书籍需要数据库连接，您不希望从视图中这样做——它只会减慢速度。要记住的另一件事是可能有多个视图，并且您需要在所有视图中复制该代码（Web 客户端，可能是富客户端等）。

在 MVC 模式中，视图应该是“愚蠢”的部分。这允许更轻松地使用多个视图并在需要时更改视图。当不需要视图时测试代码也更容易，因此您可以在不启动 Web 客户端的情况下测试模型。

杰夫

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-06-20T21:14:41.730

这是“愚蠢”的观点。它所做的只是显示被操纵的数据。

控制器只是从模型中获取视图的数据......再次，控制器只是一个中间人。

模型做一切。它存储数据并包含操作它的类和方法。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-06-20T21:15:47.157

您可以通过多种方式进行操作，但我想说最简单的方法是将您尝试访问的用户的参考标识符传递给控制器​​操作（如下所示）并让它处理所有数据访问呼叫。

```
public void GetUserAndDetails(Guid userId) { ... } 
```

然后在此控制器操作中，您可以查找该用户的用户详细信息和书籍，在视图模型实例上设置属性并将其返回给视图以进行访问。

```
FormViewModel model = new FormViewModel();
model.MyUser = GetUser(userId);
model.UserBooks = GetUserBooks(userId);
return View(model); 
```

这样，视图保持哑（它应该是）并且模型相对简单。这也有助于测试目的。

希望这可以帮助。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2009-06-21T10:22:52.307

当您的视图模型与域模型不同时，不应将域模型映射到视图模型内的视图模型。它会使 viewmodel 类负责不止一件事。您可以在控制器或服务层中进行映射。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2009-06-22T10:33:34.547

看看[这个](http://stephenwalther.com/blog/archive/2009/04/13/asp.net-mvc-tip-50-ndash-create-view-models.aspx)。您在谈论**VIEW**模型，而不是域模型。这是个很大的差异。视图模型应该是愚蠢的，它只是数据的占位符，它允许您的视图具有更强的类型。领域模型必须是您应用程序的核心，它必须包含**所有**业务逻辑。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2009-06-20T21:17:38.337

MVC 本身就是一种模式。我真的没有任何使用 ASP.NET MVC 的经验，但工作了几次并使用了 MVC 模式。有时，MVC 与其他开发模式相关联，如心跳、备忘录、状态......

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-09-28T10:45:45.973

模型不允许任何业务逻辑！这是一个糟糕的设计！您的逻辑必须在控制器中，更准确地说：将您的逻辑放入助手中（助手可能会消耗您的 BLL 和/或 DAL），然后在控制器中使用您的助手。

# subsonic - 使用 Subsonic 搜索查询

> ID：1022550
> 
> 赞同：0
> 
> 时间：2009-06-20T21:03:56.087
> 
> 标签：subsonic, full-text-search

好的，

今天我正在努力学习亚音速。很酷的东西。

我正在尝试在我的网站中构建一些搜索功能，但我正在为如何在 Subsonic 中实现这一点而苦苦挣扎。

我有一个可以包含多个关键字的搜索字段。我想返回匹配所有关键字的结果。搜索的目标是单个文本列。

到目前为止，我有这个（它运行但从不返回结果）：

```
return new SubSonic.Select().From(Visit.Schema)
            .InnerJoin(InfopathArchive.VisitIdColumn, Visit.VisitIdColumn)
            .Where(InfopathArchive.XmlDocColumn).Like(keywords)
            .ExecuteTypedList<Visit>(); 
```

访问表和 InfoPathArchive 表之间存在一对一的映射。我只想返回在相关 XMLDocColumn 中有关键字的访问集合。

如果我能做到这一点，那就太好了。现在第二个问题是，如果有人搜索“australia processmodel”，那么显然上面的代码应该只返回那个确切的短语。如何创建一个拆分我的搜索词的查询，以便它必须返回包含所有单个搜索词的文档？

任何帮助表示赞赏。

编辑：好的，所以基本搜索有效，但多关键字搜索无效。我按照亚当的建议做了，但似乎 Subsonic 只使用一个参数进行查询。

这是代码：

```
 List<string> wordsInQueryList = keywords.Split(' ').ToList();

        SqlQuery q = Select.AllColumnsFrom<Visit>()
            .InnerJoin(InfopathArchive.VisitIdColumn, Visit.VisitIdColumn)
            .Where(Visit.IsDeletedColumn).IsEqualTo(false);

        foreach(string wordInQuery in wordsInQueryList)
        {
            q = q.And(InfopathArchive.XmlDocColumn).Like("%" + wordInQuery + "%");
        } 
```

返回 q.ExecuteTypedList();

然后，如果我查看 Subsonic 生成的查询：

```
SELECT (bunch of columns)

 FROM [dbo].[Visit]
 INNER JOIN [dbo].[InfopathArchive] ON [dbo].[Visit].[VisitId] = [dbo].[InfopathArchive].[VisitId]
 WHERE [dbo].[Visit].[IsDeleted] = @IsDeleted
 AND [dbo].[InfopathArchive].[XmlDoc] LIKE @XmlDoc
 AND [dbo].[InfopathArchive].[XmlDoc] LIKE @XmlDoc 
```

所以最终只搜索最后一个关键字。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-21T02:03:09.947

您可以按照 Adam 的建议进行操作，或者使用 2.2，您可以简单地使用“Contains()”而不是 Like(“%...%”)。我们还支持 StartsWith 和 EndsWith() :)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-20T21:30:13.023

First question:

```
return new SubSonic.Select().From(Visit.Schema)
        .InnerJoin(InfopathArchive.VisitIdColumn, Visit.VisitIdColumn)
        .Where(InfopathArchive.XmlDocColumn).Like("%" + keywords + "%")
        .ExecuteTypedList<Visit>(); 
```

Second question:

Pass a List of words in your query to a function that builds a SubSonic query as follows

```
SqlQuery query = DB.Select().From(Visit.Schema)
        .InnerJoin(InfopathArchive.VisitIdColumn, Visit.VisitIdColumn)
        .Where("1=1");

foreach(string wordInQuery in wordsInQueryList)
{
  query = query.And(InfopathArchive.XmlDocColumn).Like("%" + wordInQuery + "%")
}

return query.ExecuteTypedList<Visit>(); 
```

Obviously this is untested but it should point you in the right direction.

# version-control - 评论中的旧代码

> ID：1022552
> 
> 赞同：17
> 
> 时间：2009-06-20T21:06:49.483
> 
> 标签：version-control, comments, maintenance

您应该在代码库中将旧代码注释掉多长时间？承包商通过将旧代码转换为注释来继续将旧代码保留在代码库中。这真的很令人沮丧，我希望他们只删除旧代码而不是将其注释掉。

是否有正当理由将代码库中的旧代码作为注释保留？我正在使用 Visual Sourcesafe 的版本控制

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2009-06-20T21:08:35.487

如果您使用 SVN 或 CVS 之类的东西，则不会。我会在视线范围内抹去它们。它们使代码的可读性降低。

应该有注释来帮助正在阅读代码、解释内容等的程序员。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2009-06-20T21:12:53.120

我能想到的一个正当理由是这个（虚构的）例子：

```
# removed the following test because this should work now that bug #12345 is fixed.
#assert a != 0
b = number / a 
```

基本上，是为了防止其他开发人员重新插入由于某种原因而被删除的代码。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2009-06-20T21:12:08.053

告诉承包商停止这样做。这是一种可怕的做法。

没有任何理由将旧代码保留在代码库中。它只是碍事。您的版本控制系统将向您显示每个文件的历史记录。

保留旧代码的唯一可能好的理由可能是用于历史参考（也许如果旧代码做了一些可能与当前情况相关的特别奇怪的事情）。

有时我会注释掉代码，因为我知道我正在进行临时更改（临时我的意思是少于几天），并且肯定打算回到它。

编辑：另一种相关做法是将更改的名称和日期放入文件中：

```
// 06/20/2009 - joe changed this #1245 
```

也不要这样做。在当时，查看谁进行了更改似乎很有价值，但随着时间的推移，它确实没有任何价值，而且还会使代码变得混乱。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2009-06-20T21:24:26.793

如果您正在使用您应该使用的源代码控制，则删除旧代码，因为副本将在源代码控制中准备好并等待您，如果您需要将其添加回来。将旧代码放在那里会降低阅读上述代码的能力并引入混乱。此外，如果您使用承包商编写代码，请告诉他们如何在您支付工资时编写代码。为他们定义编码标准并让他们有意识地编码，这应该改进方法、属性等的名称，并一起减少对注释的需求。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2009-06-20T21:57:02.533

你问“多久？” 如果这些地方是人们仍在工作的热点，我不会因为在一两个地方有旧代码而感到生气。

也许他们对新代码还没有信心。新代码“完成”了吗？是按应该写的吗？它通过测试吗？是否根据规范进行了评论和记录？表现在它应该在的地方吗？（我能想到同时拥有旧代码和新代码的最佳原因是当我在计时或分析一组特定案例时。）

旧代码有什么比新代码更可取的吗？

承包商是否感到匆忙？或者这只是版本控制前的旧习惯？

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2009-06-20T21:42:40.113

当您提醒承包商时，他们不必注释掉代码，因为 Sourcesafe 会保留历史，询问他们为什么这样做。

可能是出于某种原因他们不信任它。如果你能从他们那里得到这个原因，他们可能会注意。我知道当我们多年前从 VSS 迁移时，是因为他们可能也遇到了可靠性和可扩展性问题。如果您可以解决他们的担忧，或者通过证明 VSS 足以满足您的需求，或者说您将调查其他源代码控制解决方案（当然，如果您有预算），您应该赢得他们的支持。

说服胜于强迫。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2009-06-20T21:10:49.333

是的，一见钟情。除了表明评论它的开发人员不确定是否要删除它之外，它没有任何价值。或者他们不知道如何使用您的源代码控制软件。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2009-06-20T21:19:25.243

基本上，您只有 2 个选项。

1.  删除它 - 那是当您使用一些代码存储库时。您的存储库将准确地告诉您进行了哪些更改，因此无需在您的工作代码中保留很长的旧注释，这不会用简单的语言解释某些内容。
2.  另一方面，如果您出于多种原因希望保留该代码，例如，我将应用程序中的一些浮点计算代码注释掉，因为它不能在我正在编程的平台上工作。但由于我不希望我的应用程序仅限于该平台，因此我将代码保留在那里，因此当我将应用程序移植到支持浮点计算的平台时，它可以节省工作量。这只是保留旧代码的原因之一，可能适用于相同背景的人。

否则，上面提到的是您仅有的 2 个选择。你的来电！！

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2009-06-20T21:43:49.313

保留旧代码只会使阅读整个代码变得更加困难。只要项目有某种形式的版本控制，注释掉的代码就应该被删除。如果您没有修订控制并且无法进行任何设置，那么建议将旧代码放在不属于代码库一部分的文件中。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2009-06-20T21:46:26.173

我假设您指的是似乎具有一定价值的重要代码块，或者本身就是好的算法，而不仅仅是这里或那里的奇数行。

在这些情况下，如果您进行了较大的更改，保留旧代码作为代码审查的一种形式，就会有保留代码的自然趋势。任何获得最新版本的人都将能够立即看到所做的重大更改，如果出现问题，更容易看到以前的内容。如果问题出在新代码上，那么有一种非常简单的方法可以立即检查它。

因此，鉴于此，我倾向于注释掉第一次修订的旧代码，然后仅在随后再次更改代码时将其删除，此时更改将被“嵌入”并且不太可能成为错误。

这些注释是一种文档形式，对于任何纯粹的“干净”编码理想，无需删除它们。当它们不再需要时将它们移除，在它们可能有价值时保留它们。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2009-06-20T22:03:54.920

首先，我说摆脱它。

但我知道一个不这样做的原因：虽然它仍然存在于您的版本控制中，但这并不意味着任何人都可以看到它。如果您可能需要再次看到它，您首先必须知道它曾经存在过。有时你做了一个修改，未来的开发者需要同时看到旧的和新的方式，如果你删除了旧的方式，开发者怎么知道它曾经存在？大多数人没有足够好地记录版本控制中的更改以解决此类问题。

* * *

## 回答 #12

> 赞同：-1
> 
> 时间：2010-09-20T21:28:10.853

将旧代码留在那里的原因有很多。基本上 - 一旦它被删除，它实际上就消失了 - 除非有人真的记得它在那里。

作为一个邪恶的承包商，我不会删除代码，除非我对程序进行大量重写——废弃它并替换它而不是“修复”它。

* * *

## 回答 #13

> 赞同：-1
> 
> 时间：2013-04-25T11:49:12.140

我目前正在介绍的项目使用另一种方法 - 某种妥协......当您决定不再使用某些代码时，您只需将其注释掉，写下注释日期，并且（如果可能 - 例如在 Netbeans 或 VisualStudio 中）您将旧代码插入#region OLD_IMPL。影响？- 你仍然有一个旧代码以防万一 - 未使用的代码块正好占用 1 行 (#region OLD_IMPL) - 如果你看到，该代码没有使用一年（你有注释掉它的日期），你可以简单地删除它。

在任何危急情况下，您总是使用 SVN ;)

* * *

## 回答 #14

> 赞同：-2
> 
> 时间：2009-06-20T22:35:24.343

那些因为版本控制工具可以解决您可能遇到的任何问题而说摆脱注释代码的人是白痴。

你需要摆脱过时的代码，一旦你确定它真的真的过时了。

曾经因为“它并不完全糟糕，但可惜它也不完全好”而不得不修改修改？如果您仍然可以取出生产源并且知道之前版本的代码仍然在其中，以某种文本形式，它将为您节省大量时间，因为您无需求助于复杂、难以-控制，因此使用版本控制工具可能为您提供的任何“部分源合并”和“部分源合并”的过程非常容易出错。

不喜欢这种现实的人肯定在他们的整个职业生涯中都只编写了从未“不完全坏，但也不完全好”的代码，或者换句话说，只产生了要么完全坏要么完全完美的代码. 我们都知道实现后者的可能性有多大。

# java - GWT DecoratedTabPanel 选项卡按钮颜色

> ID：1022555
> 
> 赞同：1
> 
> 时间：2009-06-20T21:08:37.763
> 
> 标签：java, gwt

如何更改 DecoratedTabPanel 中选项卡的颜色？我指的不是内容，而是您单击以选择选项卡的按钮。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-06-20T21:35:04.947

您要做的是[更改 GWT tabBar Items 的 CSS](https://stackoverflow.com/questions/666564/change-css-of-gwt-tabbar-items)。我认为以下 CSS 代码将在您的特定情况下执行。

```
.gwt-DecoratedTab*Bar* .gwt-TabBarItem  { background:#FF0; } 
```

另外，看看[这个网站](http://www.ajaxprojects.com/ajax/tutorialdetails.php?itemid=434#start)和[这个参考](http://www.blogjava.net/rebel/archive/2007/01/10/92968.html)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-06-22T12:42:33.990

据我所知，确实没有一种简单的方法可以做到这一点。因为装饰标签面板使用嵌套表格层来获得花哨的圆角，所以看起来您需要更改所有内容*并*制作自己的圆角才能更改标签的颜色。

这是选项卡的 GWT 默认样式。应该很明显，您需要在样式表中覆盖什么以获得所需的效果（查找 bg 颜色）。

```
.gwt-TabBar {
}
.gwt-TabBar .gwt-TabBarFirst {
 width: 5px; /* first tab distance from the left */
}
.gwt-TabBar .gwt-TabBarRest {
}
.gwt-TabBar .gwt-TabBarItem {
 margin-left: 6px;
 padding: 3px 6px 3px 6px;
 cursor: pointer;
 cursor: hand;
 color: black;
 font-weight: bold;
 text-align: center;
 background: #d0e4f6;
}
.gwt-TabBar .gwt-TabBarItem-selected {
 cursor: default;
 background: #92c1f0;
}
.gwt-TabBar .gwt-TabBarItem-disabled {
 cursor: default;
 color: #999999;
}
.gwt-TabPanel {
}
.gwt-TabPanelBottom {
 border-color: #92c1f0;
 border-style: solid;
 border-width: 3px 2px 2px;
 overflow: hidden;
 padding: 6px;
}

.gwt-DecoratedTabBar {
}
.gwt-DecoratedTabBar .gwt-TabBarFirst {
 width: 5px; /* first tab distance from the left */
}
.gwt-DecoratedTabBar .gwt-TabBarRest {
}
.gwt-DecoratedTabBar .gwt-TabBarItem {
 border-collapse: collapse;
 margin-left: 6px;
}
.gwt-DecoratedTabBar .tabTopCenter {
 padding: 0px;
 background: #d0e4f6;
}
.gwt-DecoratedTabBar .tabTopLeft,
.gwt-DecoratedTabBar .tabTopRight {
 padding: 0px;
 zoom: 1;
}
.gwt-DecoratedTabBar .tabTopLeftInner,
.gwt-DecoratedTabBar .tabTopRightInner {
 width: 6px;
 height: 6px;
}
.gwt-DecoratedTabBar .tabTopLeft {
 background: url(images/corner.png) no-repeat 0px -55px;
 -background: url(images/corner_ie6.png) no-repeat 0px -55px;
}
.gwt-DecoratedTabBar .tabTopRight {
 background: url(images/corner.png) no-repeat -6px -55px;
 -background: url(images/corner_ie6.png) no-repeat -6px -55px;
}
* html .gwt-DecoratedTabBar .tabTopLeftInner,
* html .gwt-DecoratedTabBar .tabTopRightInner {
 width: 6px;
 height: 6px;
 overflow: hidden;
}
.gwt-DecoratedTabBar .tabMiddleLeft,
.gwt-DecoratedTabBar .tabMiddleRight {
 width: 6px;
 padding: 0px;
 background: #d0e4f6;
}
.gwt-DecoratedTabBar .tabMiddleLeftInner,
.gwt-DecoratedTabBar .tabMiddleRightInner {
 width: 1px;
 height: 1px;
}
.gwt-DecoratedTabBar .tabMiddleCenter {
 padding: 0px 4px 2px 4px;
 cursor: pointer;
 cursor: hand;
 color: black;
 font-weight: bold;
 text-align: center;
 background: #d0e4f6;
}
.gwt-DecoratedTabBar .gwt-TabBarItem-selected .tabTopCenter {
 background: #92c1f0;
}
.gwt-DecoratedTabBar .gwt-TabBarItem-selected .tabTopLeft {
 background-position: 0px -61px;
}
.gwt-DecoratedTabBar .gwt-TabBarItem-selected .tabTopRight {
 background-position: -6px -61px;
}
.gwt-DecoratedTabBar .gwt-TabBarItem-selected .tabMiddleLeft,
.gwt-DecoratedTabBar .gwt-TabBarItem-selected .tabMiddleRight {
 background: #92c1f0;
}
.gwt-DecoratedTabBar .gwt-TabBarItem-selected .tabMiddleCenter {
 cursor: default;
 background: #92c1f0;
}
.gwt-DecoratedTabBar .gwt-TabBarItem-disabled .tabMiddleCenter {
 cursor: default;
 color: #999999;
} 
```

# c++ - 寻找设计模式

> ID：1022556
> 
> 赞同：-1
> 
> 时间：2009-06-20T21:09:01.380
> 
> 标签：c++

我有一个问题，其中一个进程根据请求请求该状态的多个实例（进程），并在收集数据后，操纵数据并向请求者表示。

你能建议我解决这个问题的任何设计模式吗？

-谢谢哈里什

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-20T21:27:38.053

I recommend you to read a Design pattern book like GoF or Head First Design Patterns. You have to know where is good place for every pattern and the pattern "will come to you" when it is needed for your code.

It's a very bad practice try to use a pattern in every place.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-20T21:17:20.537

Your question is very hard to understand but it sounds like you could use the [Observer Pattern](http://en.wikipedia.org/wiki/Observer_pattern).

You might want to look at different [threading models (power point slides)](http://www.cercs.gatech.edu/multicore/images/f/f0/MultithreadingModels.ppt) as well.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T22:17:27.717

如果你想让一个进程在其他进程发生变化时自动更新，那么观察者模式就是你想要使用的模式，其中一个进程观察其他进程的状态并在何时检查更新时得到通知。即使您是根据用户的请求而不是自动执行此操作，观察者模式仍然是一个很好的使用模式。

对于这些其他进程，它们的状态是否决定了它们的行为？如果是这样，那么您可能想要研究[状态模式](http://en.wikipedia.org/wiki/State_pattern)，这样您就不必处理多个或嵌套的 if 语句。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-21T00:41:57.300

如果我们谈论的是在远程进程之间发送消息，以及某些服务将所有响应整理在一起，那么您可能正在寻找[Aggregator](http://www.eaipatterns.com/Aggregator.html)或[Scatter-Gather](http://www.eaipatterns.com/BroadcastAggregate.html)模式？

# javascript - JavaScript 和 Lua 之间的细微差别

> ID：1022560
> 
> 赞同：125
> 
> 时间：2009-06-20T21:10:56.807
> 
> 标签：javascript, lua

我只是喜欢 JavaScript。它是如此优雅（想象一下背景中失恋的歌迷叹息的安静声音）。

所以，最近我通过[löve2d](http://love2d.org)框架玩了 Lua（很好！）——我认为 Lua 也很棒。在我看来，这两种语言*非常*相似。

有明显的区别，比如

*   句法
*   问题域
*   图书馆
*   类型（有点）

但哪些是更微妙的？有没有什么 JavaScript 编码人员会认为在 Lua 中工作的东西只是略有不同？对于一种语言的经验丰富的编码人员在尝试另一种语言时，是否存在任何可能不明显的陷阱？

例如：在 Lua 中，数组和散列不是分开的（只有表）——在 JavaScript 中，它们是数值数组和散列对象。嗯，这是比较明显的区别之一。

但是变量范围、不变性或类似的东西有区别吗？

* * *

## 回答 #1

> 赞同：195
> 
> 时间：2009-06-20T22:13:03.297

**还有一些区别：**

*   *Lua*原生支持[协程](http://www.lua.org/manual/5.1/manual.html#2.11)。
    *   **更新**：JS 现在在生成器中包含 yield 关键字，从而支持协程。
*   *Lua* [不会](http://www.lua.org/manual/5.1/manual.html#2.5.2)在任何比较运算符的类型之间进行转换。在 JS 中，只`===`输入`!==`不输入 juggle。
*   *Lua*有一个求幂运算符 ( `^`)；*JS*没有。*JS*使用不同的运算符，包括三元条件运算符（`?:`vs `and/or`），以及从 5.3 开始的按位运算符（`&`、`|`等与[元方法](https://www.lua.org/manual/5.3/manual.html#2.4)）。
    *   **更新**： JS 现在有幂运算符`**`。
*   *JS*有递增/递减、类型运算符（`typeof`和`instanceof`）、附加赋值运算符和附加比较运算符。
*   在*JS*中，`==`, `===`,`!=`和`!==`运算符的优先级低于`>`, `>=`, `<`, `<=`。在 Lua 中，所有比较运算符的[优先级相同](http://www.lua.org/manual/5.1/manual.html#2.5.6)。
*   *Lua*支持[尾调用](http://www.lua.org/manual/5.1/manual.html#2.5.8)。
    *   **更新**： JS 现在[支持尾调用](http://2ality.com/2015/06/tail-call-optimization.html)。
*   *Lua*支持[对变量列表的赋值](http://www.lua.org/manual/5.1/manual.html#2.4.3)。*虽然它在Javascript*中还不是标准的，但 Mozilla 的 JS 引擎（在一定程度上也是 Opera 的）自 JS 1.7（作为 Firefox 2 的一部分提供）以“[解构赋值](https://developer.mozilla.org/en-US/docs/JavaScript/New_in_JavaScript/1.7#Destructuring_assignment_%28Merge_into_own_page.2Fsection%29)”的名称支持类似的功能。JS 中的解构更为通用，因为它可以在赋值以外的上下文中使用，例如[函数定义和调用](https://developer.mozilla.org/en-US/docs/JavaScript/New_in_JavaScript/1.7#Pulling_fields_from_objects_passed_as_function_parameter)以及[循环初始化程序](https://developer.mozilla.org/en-US/docs/JavaScript/New_in_JavaScript/1.7#Looping_across_values_in_an_array_of_objects)。[一段时间以来，解构赋值](http://wiki.ecmascript.org/doku.php?id=proposals:destructuring_assignment)一直是 ECMAScript（Javascript 背后的语言标准）的一项提议。
    *   **更新**：解构（和解构赋值）现在是 ECMAScript 规范的一部分 - 已经在许多引擎中实现。
*   在*Lua*中，您可以[重载运算符](http://www.lua.org/manual/5.1/manual.html#2.8)。
*   在*Lua*中，您可以使用Lua 5.1 或Lua [5.2](https://www.lua.org/manual/5.2/manual.html)[`getfenv`和`setfenv`](http://www.lua.org/manual/5.1/manual.html#2.9)[5.3](https://www.lua.org/manual/5.3/manual.html)操作环境。`_ENV`
*   在*JS*中，所有函数都是可变的。在*Lua*中，函数必须[显式声明为可变参数](http://www.lua.org/manual/5.1/manual.html#2.5.9)。
*   `Foreach`在*JS*中循环对象属性。*Lua*中的[Foreach](http://www.lua.org/manual/5.1/manual.html#2.4.5)（使用关键字）循环遍历迭代器并且更通用。 *`for`

    *   **更新**：JS 现在也有[Iterables](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators)，其中许多都内置在您期望的常规数据结构中，例如`Array`. 这些可以用`for...of`语法循环。对于常规对象，可以实现自己的迭代器函数。这使它更接近 Lua。* 
**   JS 具有全局和函数范围。*Lua*有[全局和块作用域](http://www.lua.org/manual/5.1/manual.html#2.6)。控制结构（例如`if`, `for`）`while`引入了新的[块](http://www.lua.org/pil/4.2.html)。

    *   由于作用域规则的不同，闭包对外部变量的引用（在 Lua 用语中称为“upvalues”）在 Lua 和*Javascript*中的处理方式可能不同。[这在循环中的](http://flightodyssey.blogspot.com/2013/09/closure.html)[闭包中`for`](http://flightodyssey.blogspot.com/2013/09/closure.html)最常见，并且让一些人感到意外。在*Javascript*中，`for`循环体不会引入新的作用域，因此在循环体中声明的任何函数都引用[相同的外部变量](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Closures#Creating_closures_in_loops.3A_A_common_mistake)。在 Lua 中，循环的每次迭代`for`都会为每个循环变量创建新的局部变量。

        ```
        local i='foo'
        for i=1,10 do
          -- "i" here is not the local "i" declared above
          ...
        end
        print(i) -- prints 'foo' 
        ```

        上面的代码等价于：

        ```
        local i='foo'
        do
          local _i=1
          while _i<10 do
            local i=_i
            ...
            _i=_i+1
          end
        end
        print(i) 
        ```

        因此，在单独的迭代中定义的函数对于每个引用的循环变量都有不同的上值。另请参阅 Nicolas Bola 对[在 Lua 中实现闭包的回答？](https://stackoverflow.com/a/7781507/90527)和“[循环变量上的闭包的正确语义是什么？](https://stackoverflow.com/a/14331073/90527) ”和“[通用 for 的语义](http://www.lua.org/pil/7.2.html)”。

        **更新**：JS 现在有块范围。`let`使用或`const`尊重块范围定义的变量。

        *   *JS*中的整数文字可以是八进制。*   *JS*具有明确的 Unicode 支持，并且内部字符串以[UTF-16](https://en.wikipedia.org/wiki/UTF-16)编码（因此它们是字节对的序列）。各种内置 JavaScript 函数使用 Unicode 数据，例如`"pâté".toUpperCase()`( `"PÂTÉ"`)。*Lua 5.3*及更高版本在字符串文字中具有 Unicode 代码点转义序列（与 JavaScript 代码点转义序列具有相同的语法）以及内置库，它为[UTF-8 编码](https://en.wikipedia.org/wiki/UTF-8)`utf8`提供基本支持（例如将代码点编码为 UTF-8 并将 UTF-8 解码为代码点，获取字符串中代码点的数量，以及对代码点进行迭代）。Lua 中的字符串是单个字节的序列，可以包含任何编码的文本或任意二进制数据。Lua 没有任何使用 Unicode 数据的内置函数；的行为`string.upper`取决于 C 语言环境。*   在*Lua*中，使用`not`, `or`,`and`关键字代替*JS*的`!`, `||`, `&&`。*   *Lua*使用`~=`“不相等”，而*JS*使用`!==`. 例如，`if foo ~= 20 then ... end`。*   *Lua 5.3*及更高`~`版本用于二进制按位异或，而*JS*使用 `^`.*   在*Lua*中，任何类型的值（除了`nil`and `NaN`）都可以用于索引表。在*JavaScript*中，所有非字符串类型（符号除外）在用于索引对象之前都会转换为字符串。例如，在评估以下代码后， 的值`obj[1]`将`"string one"`在 JavaScript 中，但`"number one"`在 Lua 中：`obj = {}; obj[1] = "number one"; obj["1"] = "string one";`。*   在*JS*中，赋值被视为表达式，但在*Lua*中它们不是。因此，JS 允许在 、 和 语句的条件中赋值`if`，`while`但`do while`Lua 不允许在`if`、`while`和`repeat until`语句中赋值。例如，`if (x = 'a') {}`是有效的 JS，但`if x = 'a' do end`无效的 Lua。*   *Lua*具有用于声明块作用域函数变量、作为字段的函数和方法 ( `local function() end`, `function t.fieldname() end`, `function t:methodname() end`) 的语法糖。*JS*用等号 ( `let funcname = function optionalFuncname() {}`, `objectname.fieldname = function () {}`) 声明这些。*

 ** * *

## 回答 #2

> 赞同：14
> 
> 时间：2009-06-22T06:15:40.137

一些细微的差异至少会吸引你一次：

*   不等于`~=`在 Lua 中拼写。在 JS 中是`!=`
*   Lua[数组是从 1](http://en.wikipedia.org/wiki/Lua_(programming_language)#As_array)开始的——它们的第一个索引是 1 而不是 0。
*   Lua 需要冒号而不是句点来调用对象方法。你写`a:foo()`而不是`a.foo()` ^†

^†如果需要，您可以使用句点，但必须`self`明确传递变量。`a.foo(a)`看起来有点麻烦。有关详细信息，请参阅[Lua](http://www.lua.org/pil/16.1.html)中的编程。

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2009-06-20T21:48:31.817

老实说，列出 Javascript 和 Lua 的共同点比列出差异更容易。它们都是动态类型的脚本语言，但这只是你能做到的。它们有完全不同的语法、不同的原始设计目标、​​不同的操作模式（Lua 总是编译为字节码并在 Lua VM 上运行，Javascript 各不相同），这样的例子不胜枚举。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2009-06-20T22:15:01.840

JavaScript 数组和对象比你想象的更接近。您可以使用数组表示法来获取其中任何一个的元素，并且可以向数组添加非数字索引。单个数组元素可以容纳任何东西，并且数组可以是稀疏的。他们几乎是同卵的表亲。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2011-12-22T08:09:28.663

我喜欢这个问题和提供的答案。这两种语言对我来说似乎比不相似的其他原因：

两者都将函数分配给变量，可以动态构建函数并定义闭包。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2009-06-20T22:11:22.830

在我的头顶

路亚...

1.  支持[协程](http://www.lua.org/manual/5.1/manual.html#2.11)
2.  没有限制仅将字符串/数字作为表的键。一切正常。
3.  错误处理有些笨拙。要么不处理任何事情，要么使用[pcall](http://www.lua.org/pil/8.4.html)方法
4.  我想我读到了一些关于词汇范围差异的东西，而 Lua 有更好的。
5.  如果我没记错的话，lua 中的正则表达式支持是有限的

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2009-07-03T09:21:20.167

Lua 和 JavaScript 都是原型基础语言。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2012-09-17T11:59:05.683

一项测试表明，当前的 Javascript 还返回对象，或者至少像 lua 一样返回来自逻辑表达式的字符串：

```
function nix(){
    alert(arguments[0]||"0");
} 
nix(); 
```*

# iterator - 迭代器和生成器有什么区别？

> ID：1022564
> 
> 赞同：34
> 
> 时间：2009-06-20T21:13:09.377
> 
> 标签：iterator, generator

迭代器和生成器有什么区别？

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2009-06-20T21:20:34.977

[迭代器](http://en.wikipedia.org/wiki/Iterator)一次遍历一个集合。

[生成器](http://en.wikipedia.org/wiki/Generator_(computer_science))生成一个序列，一次一个项目。

例如，您可能会迭代生成器的结果......

* * *

## 回答 #2

> 赞同：39
> 
> 时间：2009-06-20T21:19:35.150

生成器是迭代器，但并非所有迭代器都是生成器。

迭代器通常是具有从流中获取下一个元素的*next方法的东西。*生成器是与函数绑定的迭代器。

例如 python 中的生成器：

```
def genCountingNumbers():
  n = 0
  while True:
    yield n
    n = n + 1 
```

这样做的好处是您不需要在内存中存储无限的数字来迭代它们。

您可以像使用任何迭代器一样使用它：

```
for i in genCountingNumbers():
  print i
  if i > 20: break  # Avoid infinite loop 
```

您还可以遍历数组：

```
for i in ['a', 'b', 'c']:
  print i 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2009-06-21T05:28:20.967

这里有太多的 Python，也有太多人说生成器是实现无限迭代器的*唯一方法。*这是我提到的用 C# 实现的示例（所有自然数的平方）。ExplicitSquares 显式实现了一个迭代器（在 C# 中称为 IEnumerator）。ImplicitSquares 使用生成器来做同样的事情。两者都是无限迭代器并且没有支持集合。唯一的区别是状态机是拼写出来的，还是使用生成器。

```
using System.Collections;
using System.Collections.Generic;
using System;

class ExplicitSquares : IEnumerable<int>
{
    private class ExplicitSquaresEnumerator : IEnumerator<int>
    {
        private int counter = 0;

        public void Reset()
        {
            counter = 0;
        }

        public int Current { get { return counter * counter; }}

        public bool MoveNext()
        {
            counter++;
            return true;
        }

        object IEnumerator.Current { get { return Current; } }

        public void Dispose(){}
    }

    public IEnumerator<int> GetEnumerator()
    {
        return new ExplicitSquaresEnumerator();
    }

    IEnumerator IEnumerable.GetEnumerator()
    {
        return GetEnumerator();
    }
}

class ImplicitSquares : IEnumerable<int>
{
    public IEnumerator<int> GetEnumerator()
    {
        int counter = 1;
        while(true)
        {
            int square = counter * counter;
            yield return square;
            counter++;
        }
    }

    IEnumerator IEnumerable.GetEnumerator()
    {
        return GetEnumerator();
    }
}

public class AllSquares
{
    private static readonly int MAX = 10;

    public static void Main()
    {
        int i = 0;
        foreach(int square in new ExplicitSquares())
        {
            i++;
            if(i >= MAX)
                break;
            Console.WriteLine(square);
        }

        Console.WriteLine();

        int j = 0;
        foreach(int square in new ImplicitSquares())
        {
            j++;
            if(j >= MAX)
                break;
            Console.WriteLine(square);
        }
    }
} 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2009-06-20T21:20:01.717

生成器是迭代器的实现。它通常是一个例程，它为调用者产生多个值，而不是一个。

在c#中

```
// yield-example.cs
using System;
using System.Collections;
public class List
{
    public static IEnumerable Power(int number, int exponent)
    {
        int counter = 0;
        int result = 1;
        while (counter++ < exponent)
       {
            result = result * number;
            yield return result;
    }
}

static void Main()
{
    // Display powers of 2 up to the exponent 8:
    foreach (int i in Power(2, 8))
    {
        Console.Write("{0} ", i);
    }
}
} 
```

[查看维基百科的条目](http://en.wikipedia.org/wiki/Iterator#Generators)

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2009-06-20T21:39:02.163

生成器是一个特殊的函数，它可以作为一个迭代器，每次调用它都会返回一个值。因为它是一个函数，它可以按需计算每个值。而且因为它很特殊，它可以记住上次调用时的状态，所以生成的代码看起来很简单。

例如，python中的这个生成器将产生一个整数序列

```
def integers():
    int n = 0
    while True:
        yield n
        n += 1 
```

这个例子中最重要的是`yield n`语句。该函数将返回该值，并且下次调用它时，它将从该点继续。

这个链接对python中的生成器有更长的解释： [link text](http://www.ibm.com/developerworks/library/l-pycon.html)

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2016-08-21T07:38:39.777

（来自javascript useland，但与所有其他人一样）

插入器是具有 .next() 函数的*对象*

生成器是一个*函数*，一旦被调用，就会产生一个迭代器，它是一个迭代器的工厂。

在 javascript 中，生成器函数需要特殊的语法函数 *(){} 并使用 yield 关键字

请参阅 MDN：[https ://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators)

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2009-06-20T21:21:09.093

通常迭代器遍历现有序列（例如数组或列表），生成器在每次请求时计算一个新值。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2009-06-20T21:26:46.853

迭代器用于迭代集合中的对象，可以是数组、链表、树、哈希映射等。你有一堆对象，你想对它们中的每一个做一些事情。

生成器不只是从一些有限的对象集合中返回项目。相反，它会即时生成它们。您可以将其概念化为对在迭代时创建的集合的迭代器，*并且*可能没有有限的大小。

例如，您可以有一个生成器，它可以输出从 2 到无穷大的素数。您不可能拥有“所有素数”的集合并使用迭代器对其进行迭代。你需要一个发电机。

或者你可以有一个生成器，它接受一个整数并一次产生那个数字的因子。在这里，生成器将使您受益，因为您可以一一检查这些因素，而无需预先为所有因素分配内存。它还允许您在生成它们时使用它们，而不必预先生成整个列表，这可能比您喜欢的要慢。这是 Python 中此类生成器的示例：

```
def factors(n):
    for i in xrange(1, n+1):
        if n % i == 0:
            yield i

for n in factors(1234567890):
    print n 
```

如果你运行它，你可以看到计算出来的因子。我们实际上不需要在内存中维护所有因素的完整列表。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2009-06-20T21:22:20.620

迭代器通常用于在项目集合中移动。通常有 MoveNext() 和 Current() 方法。MoveNext() 会将指针移动到下一个集合项（如果可能）并根据成功返回真/假。Current() 将提供实际值。

生成器是迭代器的实现，但它不是指向预先存在的集合，而是在每次 MoveNext() 调用时创建新项目。

# java - maven 编译 groovy

> ID：1022567
> 
> 赞同：12
> 
> 时间：2009-06-20T21:13:43.337
> 
> 标签：java, maven-2, groovy, dependencies, gmaven-plugin

我有一种情况，我的一些 groovy 代码引用了我的 java 文件，但我也有不同的 java 文件引用相同的 groovy 代码。尝试在 maven 中编译时，我需要在 java 之前或之后编译 groovy，这不会真正起作用，因为 groovy 代码依赖于一些 java 文件，而不同的 java 文件依赖于 groovy 代码。有没有办法处理这种依赖？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2009-06-20T21:27:25.353

是的，只需使用[GMaven](http://groovy.codehaus.org/GMaven)。由于它是一个联合编译器，它会自动管理你的 java 到 groovy 和 groovy 到 java 的依赖关系。

简而言之，您将需要：

*   包括`gmaven-plugin`在你的`pom.xml`;
*   将你的 groovy 类保持在`src/main/groovy`or下`src/test/groovy`；
*   将 gmaven 插件绑定到相关的生命周期阶段。

有关更多详细信息，请参阅[构建 groovy 项目](http://docs.codehaus.org/display/GMAVEN/Building+Groovy+Projects)。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2009-06-20T21:28:30.810

您应该能够通过将[gmaven](http://groovy.codehaus.org/GMaven)插件添加到您的 maven pom.xml 来编译您的代码。它会为您的 groovy 代码生成 Java 存根，以处理您正在处理的跨语言引用类型。我经常使用它，而且效果很好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T21:23:22.087

您可以将代码分层并让较低层调用较高层，但反之亦然。例如，在 Web 应用程序中，您可以有一个视图层、一个服务层和一个持久层。视图层调用服务层，服务层调用持久层，但是持久层永远不会调用服务层或视图层。如果您希望 groovy/java 代码存在于同一层中，请确保一个调用另一个，但它们不会相互调用。底线是您应该避免双向依赖。

# c# - 在 Gridview 的列中隐藏/取消隐藏控件 - 移动问题

> ID：1022570
> 
> 赞同：0
> 
> 时间：2009-06-20T21:15:11.930
> 
> 标签：c#, asp.net, javascript, css

这是对我之前的问题的跟进： [link text](https://stackoverflow.com/questions/1021983/hiding-unhiding-control-in-gridviews-column-using-javascript)

在 gridview 的列中，我有一个链接按钮和一个标签。

单击链接按钮时，我想隐藏/取消隐藏标签。我使用 javascript 因为我不想要任何回发。编码：

```
protected void gvwComments_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        if (e.Row.RowType == DataControlRowType.DataRow)
        {
            LinkButton lButton =  ((LinkButton)e.Row.Cells[2].FindControl("lbtnExpand"));
            Label label = ((Label)e.Row.Cells[2].FindControl("lblBody"));
            lButton.Attributes.Add("onclick",  string.Format("HideLabel('{0}'); return false;", label.ClientID));

        }
    }

function HideLabel(button) {

            var rowObj = document.getElementById(button);

            if (rowObj.style.display == "none") {
                rowObj.style.display = "block";

            }
            else {
                rowObj.style.display = "none";

            }

        } 
```

问题是，当我通过单击按钮取消隐藏标签时，链接按钮会向上移动一点，它是单元格中的原始位置。是否可以在 gridviews 单元格中保留链接按钮的位置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-06-20T21:32:52.410

I would suggest you change your CSS from display:none to display:hidden which will hide the control but maintain the space preventing the jumping around.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-07-15T02:43:48.853

诀窍是使用关键字“this”，然后获取对该行的引用并从那里更改标签。

[我在这里](http://blog.digitaltools.com/post/2009/07/14/How-to-Work-With-a-GridView-Row-in-JavaScript.aspx)有一个帖子，其中有一个带有 CheckBox 列和一个 Name 列的 GridView。当 CheckBox 被选中时，该行上名称的背景颜色会发生变化。我从 CheckBox 列中的此属性开始执行此操作：

```
onclick="toggleSelected(this)" 
```

然后我有一个 JavaScript 函数，可以找到该行并更改下一个单元格：

```
function toggleSelected(sender) {
    // note that at this point the "this" is now "sender" -which is the checkbox
    // get a reference to the row using the helper function - see below.
    var row = GetParentElementByTagName(sender, "TR");

    if (sender.checked)
        row.cells[1].className = "selected";
    else
        row.cells[1].className = '';

} 
```

这使用了辅助函数：

```
function GetParentElementByTagName(element, tagName) {
    var element = element;
    while (element.tagName != tagName)
        element = element.parentNode;
    return element;
} 
```

你有一个稍微不同的要求，所以你会使用类似的东西：

```
var lbl = row.cells[1].childNodes[0].getElementsByTagName('label') 
```

获取对您的标签的引用。

# text-editor - TextMate 有什么了不起的？

> ID：1022579
> 
> 赞同：24
> 
> 时间：2009-06-20T21:17:50.333
> 
> 标签：text-editor, textmate

几乎每个使用 Mac 的开发者都崇拜 TextMate。为什么？它有哪些其他文本编辑器和 IDE 没有的非凡功能？我进行了快速搜索，发现大多数其他编辑器缺少的唯一真正有用的功能是列选择选项，但我不会为此使用某个编辑器。是什么让 TextMate 如此神奇？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2009-06-20T21:24:31.193

TextMate 是我几年前切换到 Mac 时购买的第一个应用程序。
我最喜欢的功能是：

*   捆绑支持
*   干净的用户界面
*   项目支持
*   外壳集成
*   小文件快速（快速启动时间）
*   内置 HTMLTidy
*   集成了 CSS 和 XHTML 验证（需要在线连接）

但它也有一些缺点：

*   大文件慢
*   缺乏更新（现在有一段时间了，但 TextMate 2.0 似乎[还活着](http://blog.macromates.com/2009/working-on-it/)）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2009-06-20T21:21:03.103

主要卖点是使用捆绑软件扩展 UI 的能力，捆绑软件基本上只是 shell 脚本。它也相当轻巧。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2009-06-23T07:02:59.737

我认为 TextMate 的吸引力在于它并不臃肿……它具有文本编辑/IDE 功能的正确组合，以正确的方式实现:)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2009-06-20T21:21:55.693

许多编辑都有栏目选择（尽管其中很多都深埋在心底）。TextMate 的真正受欢迎之处在于它的捆绑系统，这使得一些重复性的编程任务变得更加容易。它不被认为可以替代具有“intellisense”支持的 IDE-s 的语言（Java、C# 等），但如果您想用 ruby​​ 或 python 等脚本语言创建程序，它真的很有用。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2009-07-05T13:28:55.053

TextMate 非常强大，同时可用、直观、优雅和轻量级。

另一方面，例如两个最流行的 Unix 编辑器 Emacs 和 Vi(m) 都非常强大，但恕我直言（！）它们的可用性不符合当今的标准。（我使用所有这三个，但认为 TextMate 是迄今为止最好的。）

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2009-11-09T15:27:32.640

我一直在尝试使用 TextMate 作为 Emacs 的替代品。到目前为止，我还没有被卖掉，尽管我喜欢项目、更简单/更干净的 UI，以及它可以使用 python 扩展的*想法*等（我从未掌握过 elisp）。

我不喜欢的东西[与 Emacs 相比]：

*   无法交换点/标记或返回以前的标记。
*   移动键不会自动将您带出内联搜索。
*   标签不太好（例如：在没有类的 java 文件中找不到符号）。
*   完成只搜索当前文件。
*   不是开源的。

好吧，我仍然想给它一个公平的机会，但大多数情况下，我只是想念 Emacs 的卓越功能，并对其具有挑战性的 UI 感到越来越宽容，并且更愿意尝试真正学习 elisp。即使对于项目，在项目文件夹中使用 emacs desktop-save 也可以完成几乎相同的事情。

-塔拉纳基

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2009-11-09T15:31:35.363

Textmate 基本上具有 <在此处插入您最喜欢的 unix 编辑器> 的所有功能，并带有一个漂亮的 Mac OS X UI 和一个使用捆绑包的出色插件系统，其中数百个可用，大多数要么好要么很棒。

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2009-11-09T15:32:56.640

社区支持。

# jquery - 在jQuery中选择第N个上一个兄弟？

> ID：1022595
> 
> 赞同：11
> 
> 时间：2009-06-20T21:26:04.670
> 
> 标签：jquery, html, css-selectors

我正在尝试设置我的 jQuery 选择器，但我不确定我需要如何编写它。

我有一个看起来像这样的无序列表：

```
<ul>
    <li>something</li>
    <li>something</li>
    <li>something</li>
    <li>something</li>
    <li class="last">something</li>
</ul> 
```

现在我知道如果我想选择最后一个孩子，我可以使用“ul li.last”或“ul.li:last”来做到这一点，但如果我想要倒数第二个，第三个还是第 20 个？现在我会这样做吗？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2009-06-20T21:27:18.223

您使用[`eq`](http://docs.jquery.com/Core/eq)：

```
$('ul li').eq(X); 
```

其中 X 是您想要的元素的从 0 开始的索引。您还可以使用[选择器形式](http://docs.jquery.com/Selectors/eq#index)：

```
$('ul li:eq(X)'); 
```

您还可以使用以下方法获得类似的结果[`nth-child`](http://docs.jquery.com/Selectors/nthChild#index)：

```
$('ul li:nth-child(X)'); 
```

`nth-child`文档中有关于和之间的区别的说法`eq`：

> 虽然 :eq(index) 仅匹配单个元素，但匹配多个元素：每个具有索引的父元素匹配一个。每个父母的倍数，偶数，奇数或等式。与从零开始的 :eq() 相比，指定的索引是单索引的。

因此，通过这样做`$('ul li').eq(19);`，您将获得查询的第 20 个匹配元素（因此，如果文档中有多个列表，这不会让您获得“所有第 19 个孩子”，而`$('ul li:nth-child(20)');`会获得每个第 20 个匹配的列表元素`<ul>`在文档中。

**编辑**：

要执行“倒数第二”之类的操作，明智的做法是：

```
var $ul = $('#mylist > li');
var $el = $ul.eq($ul.length-2); 
```

但是您可能应该检查以确保 length-2 不小于 0。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-06-20T21:35:34.993

你要倒数第三个吗？

```
var $ul = $("ul li");
$ul.find(":eq(" + Math.max(0, $ul.length - 3) + ")"); 
```

快速解释：$ul（它是一个 jQuery 对象）的长度是找到了多少个 li。因此，您可以将它与 ":eq(n)" 选择器一起使用，以获取所需索引处的 li。

我使用 Math.max 以防列表太短（小于 3 li）。

这也可以，但显然不是最好的方法：

```
var $ul = $("ul li:last").prev().prev(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T21:28:45.193

对于第三和第二十，你可以做`ul li:eq(3)`和`ul li:eq(20)`。倒数第二个，你也许可以用[`nth-child`](http://docs.jquery.com/Selectors/nthChild)'s`equation`参数选项做一些事情，虽然我不确定。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-20T21:29:49.250

```
alert($('ul li').eq(3).text()); 
```

这将提醒第三个列表项的文本。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-04T03:56:19.427

jQuery 团队在 1.9 版本中添加了这个功能

您可以在[http://api.jquery.com/nth-last-child-selector/阅读有关它的信息](http://api.jquery.com/nth-last-child-selector/)

# php - any good php tutorial on how to send sms to phones?

> ID：1022597
> 
> 赞同：4
> 
> 时间：2009-06-20T21:26:27.913
> 
> 标签：php, sms

did some google searching on the topic and most of the api's that existed required a dedicated server.

ill be trying this on the local machine and am using wamp, would i need to go through a type of merchant (of some type) to be able to send sms's?

and if you know of any tutorials list them.

thanks

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-06-21T00:16:21.363

正如在另一个答案中提到的，您*将*需要一个第三方来发送您的消息，并且您*还*必须为发送它们支付一些费用。

我自己没有尝试过，但是[这个关于通过 HTTP 发送 SMS 的教程](http://www.codewalkers.com/c/a/Miscellaneous/Sending-SMS-Thru-HTTP/)似乎是一个不错的方法。它将使您能够

> 使用 PHP 和 HTTP 协议通过 SMS 网关从您的网站发送文本消息。

本教程使用了TM4B的[SMS API ，看起来非常直观。](http://www.tm4b.com/connectivity/php.php)TM4B 还为[专用机器提供网关软件](http://www.tm4b.com/sending-sms/sms-api.php)（尽管我知道您试图避免这种情况）。正如关于 TM4B 的教程中所述：

> *   它们是我所知道的唯一具有用于调整脚本的模拟模式的网关。
> *   他们没有任何设置费用。
> *   他们的价格很低。
> *   他们是可靠的。
> *   我用它们。

至少那是我开始的方式。我认为今晚的宣传已经足够了：）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-21T05:07:55.500

这就是我正在使用的。我不知道它是否在任何地方都有效，但在阿根廷（我住的地方）它有效。

基本上，您必须将电子邮件发送到一个特殊的电子邮件地址。我要发送四封邮件（每家公司一封），因为通常我不知道谁是客户承运人。

```
function prepararMail($tel, $msg) {
    enviarMail("$tel@emocion.net.ar", '', "$msg");
    enviarMail("$tel@personal-net.com.ar", '', "$msg");
    enviarMail("$tel@sms.ctimovil.com.ar", '', "$msg");
    enviarMail("$tel@page.nextel.com", '', "$msg");
}

function EnviarMail($dest, $subject, $msg) {
    $from_name = "Your name";
    $from_email = "your email";
    $headers = sprintf ("From: %s <%s>\nSender: %s <%s>\nContent-Type: text/plain; charset=\"UTF-8\"\nContent-Transfer-Encoding: 8bit\n", $from_name, $from_email, $from_name, $from_email);

    mail($dest, $subject, $msg, $headers);
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-06-20T21:32:11.710

I've had good experiences with sending SMS through the [gnokii](http://www.gnokii.org/) library on Linux by using a Bluetooth connection to a Nokia phone (the PC was running Asterisk too).

Of course, this does mean you will need your own phone to use to send the SMS messages, and some way to connect to it. Make sure you check the [supported phone list](http://wiki.gnokii.org/index.php/Config), which is mostly Nokia phones.

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2010-05-19T01:30:00.813

[Twilio 提供了一个简单且负担得起的 API 和一个 PHP 帮助程序库](http://www.twilio.com/docs/howto/sms-notifications-and-alerts)，使这变得非常容易。

[完全披露：我为 Twilio 工作，但在我开始这里之前是一个快乐的客户。]

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2009-06-20T21:32:13.957

You will always need some sort of 3rd party to send through (be it your phone or some mobile server with your carrier). Since mobile services differ and someone has to pay for that SMS. (in most cases)

# php - 您为网站推荐哪种 PHP CMS？

> ID：1022607
> 
> 赞同：6
> 
> 时间：2009-06-20T21:32:03.457
> 
> 标签：php, content-management-system

我正在建立一个网站，需要使用 CMS。如果我使用已经制作好的 CMS，我需要能够轻松扩展它。是否有您推荐的特定 CMS 或者我应该自己制作？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2009-06-20T21:44:08.347

[OpenSourceCMS](http://php.opensourcecms.com/scripts/show.php?catid=1&cat=CMS%20/%20Portals)是一个很好的起点。他们提供许多不同 CMS 系统的演示、用户排名等。

您还可以通过搜索“php cms”在 stackoverflow 上找到相关问题。

就个人而言，我喜欢[Drupal](http://www.drupal.org)、[MODx](http://www.modxcms.com)和[Concrete5](http://www.concrete5.com)。Drupal 和 MODx 因为它们的可扩展性，Concrete5 因为它的简单性。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2009-06-21T01:25:52.843

我发现[SilverStripe](http://www.silverstripe.com/)非常有用，在 Intranet 项目中使用它 - 内置授权，内置漂亮的内容编辑，简单的模板语言，工作流程，内容版本控制。我也喜欢他们有很好的文档和[帮助](http://help.silverstripe.com/)。[Demo](http://demo.silverstripe.com/)也令人印象深刻。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2009-06-20T21:42:53.327

强烈推荐[http://drupal.org/ 。](http://drupal.org/)

良好的社区和插件/插件。

乔什

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2009-09-28T19:56:36.900

如果您正在寻找简单性，请尝试 Concrete5 或 MODx。它们都易于安装和使用。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2009-06-20T21:52:33.697

有机会使用[Joomla](http://www.joomla.org/)，那里有很多插件/模板/教程和几本书。如果您精通 php，您会发现创建自己的插件或扩展现有功能非常容易。然而，最大的缺点是许多漏洞和一些限制（只有 mysql 作为数据库、文章版本控制、详细权限、多语言支持），希望这些都将在 Joomla 1.6 中得到修复。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2009-06-20T21:58:08.753

大多数优秀软件包的美妙之处在于，使用一些管理良好且易于安装的软件包来了解最适合您的软件包不会对您造成太大伤害。

我偶然发现了 Drupal 并最终选择了 Joomla。我发现 Drupal 非常强大且技术性很强。Joomla 是一样的，但似乎做简单的事情更容易一些。两者都工作得很好。

如果你的应用非常简单，Concrete5 绝对值得一看。我现在与 Joomla 一起进行大多数项目，并密切关注 Concrete5 ......

让我们知道您选择了什么以及为什么！

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2009-09-28T20:04:01.030

我真的很喜欢 SilverStripe 的管理和可扩展性。现在，我在 SilverStripe 上运行[http://gallery1401.com/ 。](http://gallery1401.com)它有很好的图像上传和自定义字段，以及类似 Rails 的关联和数据管理。在典型的 php/mysql 堆栈上运行，具有严格的面向对象架构。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2010-10-02T03:37:26.863

我很惊讶没有人提到[ExpressionEngine](http://expressionengine.com/)。它不是免费的（这可能就是为什么），但它是 PHP，有一个蓬勃发展的社区，有很多插件（好的插件不是免费的，但是一个 php 程序员可以认为这是一个可能的收入来源）。它建立在 PHP 框架 - Code Ignitor 之上。

我现在正在玩 Concrete5 - 我真的很喜欢页面编辑。它基于 MVC，可扩展。比 EE 更简单（到目前为止），EE 易于使用和模板化，比 Drupal 更简单。Drupal 非常强大，但正如其他人所指出的，学习曲线很陡峭。即使您是 php 高手，您也必须学习“Drupal 方式”来创建模板、编写代码等所有内容，这真的非常投入。也就是说，Drupal 真的可以做任何事情，并为一些非常强大和备受瞩目的网站提供支持，并且拥有一个庞大的社区。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2011-01-05T21:00:04.430

**UDPATE：** MODX Revolution (v2) 不再是“新品牌”。使用 v2 而不是 v1。

如果集成定制设计是一个重要因素，我强烈建议使用 MODx（v1，因为 v2 仍然是全新的品牌）。它深受设计师和开发人员的喜爱。不过，我听说过关于 EE、concrete5 和 SilverStripe 的好消息。不过我真的只知道MODx。设计集成规则（没有像许多其他 CMS 一样混乱的主题）。对于 PHP ninjas 来说也非常可扩展，而且社区非常乐于助人和友好。希望这对我认识的人有所帮助，我在上一篇文章一年半后回复！

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2009-06-20T22:56:49.463

遗憾的是，似乎没有人在这些讨论中包含 wordpress，我的推荐是[wordpress.org](http://wordpress.org/)，但它也可以是[wordpress MU](http://mu.wordpress.org/)和 MU 与[buddypress的组合](http://buddypress.org/)

wordpress 的一大优势是插件，如果不是最广泛的插件选择，最重要的是它的模板选择也是如此，请务必检查一下

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2010-12-22T17:03:31.700

到目前为止，我还没有对 CMSses 印象深刻，但是 Concrete5 和 MODx 绝对是两个值得一试的。

我希望看到 Concrete5 的文档和社区成长为与 Joomla 或 Drupal 一样大的东西。这只会发生在更多用户的情况下，但现在就可以开始了。

* * *

## 回答 #12

> 赞同：-1
> 
> 时间：2009-06-21T01:32:35.030

如果您想采用“Rails 方式”，您可能需要查看[CakePHP](http://cakedc.com/)，这是一个快速开发框架，它适应了 Rails 的大部分功能。也很容易扩展！

# winapi - 为什么调用带有 IRF_NO_WAIT 标志的 InternetReadFileEx 函数仍然等待？

> ID：1022611
> 
> 赞同：1
> 
> 时间：2009-06-20T21:34:08.397
> 
> 标签：winapi, wininet

我正在使用同步 wininet 请求并[`InternetReadFileEx()`](http://msdn.microsoft.com/en-us/library/aa385105.aspx)使用`IRF_NO_WAIT`标志调用，但该函数仍会阻塞等待数据。这是为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-20T21:38:50.010

在[MSDN docs](http://msdn.microsoft.com/en-us/library/aa385105(VS.85).aspx)中， 的含义`IRF_NO_WAIT`被描述为：

> 不要等待数据。如果有可用数据，该函数将返回请求的数据量或可用数据量（以较小者为准）。

神秘的是，它留下了*没有*数据未定义的情况。显然，如果*没有*数据，它会阻塞直到有一些数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-25T23:11:22.607

一种可能的解决方法是使用 InternetQueryOption() 获取 INTERNET_DIAGNOSTIC_SOCKET_INFO 结构，然后将 SOCKET 句柄传递给 ::select()，超时时间为 {0, 0} 以确定数据是否可用而不阻塞。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T21:36:33.307

IRF_NO_WAIT 的意思是不等待*所有*请求的数据缓冲区被填满。但是，它仍然会等待*一些*数据到达。如果没有数据到达，它会阻塞。

# c# - C# 子类返回未知类型（进一步：来自父类）

> ID：1022621
> 
> 赞同：2
> 
> 时间：2009-06-20T21:39:12.273
> 
> 标签：c#, types, return, parent

我有界面：

```
public interface Inx<T>
{
   T Set(Data data);
} 
```

使用这种方法的简单类

```
public class Base
{
   ??? Set(Data data) { ... }
} 
```

和这样的父类：

```
public class Parent : Base, Inx<Parent>
{
   ...
} 
```

我想从子类中的 Set 方法返回父类型这可能吗？我需要它做这样的事情：

```
list.Add(new Parent().Set(data)); 
```

现在我必须这样做：

```
T t = new T();
t.Set(data);
list.Add(t); 
```

而且它有点烦人，我必须使用它很多次

* * *

很抱歉发送垃圾邮件嗯我可以使用类似的东西：

```
this.GetType().GetConstructor(new System.Type[] { typeof(Data) }).Invoke(new object[] { data }) 
```

所以也许好的解决方案是从这个方法返回一个对象；\？

具有泛型接口的泛型类似乎会浪费大量内存......因为这个类的功能相同，只有返回类型不同

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-06-20T21:43:49.300

你可以做到这一点的唯一方法是制作`Base`泛型 ( `Base<T>`) 并`Set`返回`T`- 然后拥有`Parent : Base<Parent>`. 问题是......如何`Set`知道如何创建`T`？你可以有`where T : new()`条款...

这里有一个有用的地方是您可以将接口实现移动到`Base<T>`：

```
public class Base<T> : Inx<T> where T : new()
{
   public T Set(Data data) {
       T t = new T();
       ///
       return t;
   }
}
public class Parent : Base<Parent> { } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-21T04:44:22.183

这是你想要的吗？

```
interface Inx<T> { 
    T Set(Data data);
}
public class Base
{
    public virtual T Set<T>(Data data)
    {
        T t = default(T);
        return t;
    }
}
public class Parent : Base, Inx<Parent>
{
    public Parent Set(Data data)
    {
        return base.Set<Parent>(data);
    }
}
class Program
{
    static void Main(string[] args)
    {
        var data = new Data();
        var list = new List<Parent>();
        list.Add(new Parent().Set<Parent>(data));
        // or 
        list.Add(new Parent().Set(data));
    }
} 
```

编辑：最好将接口实现移动到基类，正如 Marc 所说：

```
interface Inx<T> { 
    T Set(Data data);
}
public class Base<T> : Inx<T>
{
    public virtual T Set(Data data)
    {
        T t = default(T);
        return t;
    }
}
public class Parent : Base<Parent>
{        
}
class Program
{
    static void Main(string[] args)
    {
        var data = new Data();
        var list = new List<Parent>();
        list.Add(new Parent().Set(data));            
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-21T12:55:25.773

好吧，如果我使用泛型基类，我不能将父类转换为一种类型，我不知道为什么我尝试在那里使用泛型......我现在找到了解决方案:)

谢谢帮助

```
interface Inx
{
   object Set(Data data);
}
class Base
{
   object Set(Data data)
   {
      // ...
      return (object) this;
   }
}
class Parent: Base, Inx
{
   // i don't have too write here Set (im using from base one)
}
class ManageParent<T> where T: Inx, new()
{
   // ...
      list.Add((T) new T().Set(data));
   // ...
} 
```

# c++ - 带有模板的 C++ 共享库：未定义符号错误

> ID：1022623
> 
> 赞同：44
> 
> 时间：2009-06-20T21:41:56.197
> 
> 标签：c++, templates, gcc, class, linker

我正在尝试使用模板类链接到共享库，但它给了我“未定义的符号”错误。我将问题压缩为大约 20 行代码。

**共享.h**

```
template <class Type> class myclass {
  Type x;
public:
  myclass() { x=0; }
  void setx(Type y);
  Type  getx();
}; 
```

**共享.cpp**

```
#include "shared.h"
template <class Type> void myclass<Type>::setx(Type y) { x = y; }
template <class Type> Type myclass<Type>::getx() { return x; } 
```

**主文件**

```
#include <iostream>
#include "shared.h"
using namespace std;

int main(int argc, char *argv[]) {
   myclass<int> m;
   cout << m.getx() << endl;
   m.setx(10);
   cout << m.getx() << endl;
   return 0;
} 
```

这就是我编译库的方式：

```
g++ -fPIC -c shared.cpp -o shared.o
g++ -dynamiclib -Wl,-dylib_install_name -Wl,libshared.dylib -o libshared.dylib shared.o 
```

和主程序：

```
g++ -c main.cpp
g++ -o main  main.o -L. -lshared 
```

只得到以下错误：

```
Undefined symbols:
"myclass<int>::getx()", referenced from:
  _main in main.o
  _main in main.o
"myclass<int>::setx(int)", referenced from:
  _main in main.o 
```

如果我删除 'template' 中的内容`shared.h/cpp`，并用 'int' 替换它们，一切正常。此外，如果我只是将模板类代码复制并粘贴到`main.cpp`中，并且不链接到共享库，那么一切正常。

如何让这样的模板类通过共享库工作？

我正在使用带有 GCC 4.0.1 的 MacOS 10.5。

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2009-06-20T22:11:19.757

除了其他答案之外，您还可以显式实例化模板类。仅当您事先知道模板参数可能采用的类型时，这才有用。您使用库中的所有这些类型实例化模板。

要编译您的示例，只需将以下内容添加到**shared.cpp**的末尾：

```
// Instantiate myclass for the supported template type parameters
template class myclass<int>;
template class myclass<long>; 
```

这将使用 Type=int 实例化模板并将实例化的代码放在共享库中。为您需要的所有类型添加尽可能多的显式实例化。

同样，如果您希望能够使用任意类型参数实例化模板，则**必须**将定义添加到头文件中，以便编译器在其他编译单元中实例化模板时知道模板的源代码。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2009-06-20T21:48:02.300

模板函数定义必须驻留在头文件中。将定义从 shared.cpp 移动到 shared.h。

因此，您不能将其编译为共享库然后链接到它。它只是不能那样工作。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2009-06-20T21:49:23.407

您还需要在头文件中包含模板类的实现。这是 C++ 中模板的约束。因此，要么包含 main (#include) 中的 shared.cpp，要么只是将 shared.cpp 中的代码移到 shared.h 中

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2009-06-20T21:53:25.457

编译器必须查看模板的所有代码，因此它可以为您要使用的实际类型生成适当的代码。所以你应该把所有的代码放在你的 .h 中。文件。

# visual-studio-2008 - 如何从当前项目中制作一个 vs 2008 模板？

> ID：1022625
> 
> 赞同：6
> 
> 时间：2009-06-20T21:42:47.850
> 
> 标签：visual-studio-2008

有没有办法将我设置好的当前项目（项目设置、附加库等）转换为 vs 2008 中的项目模板？

怎么办呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-20T21:50:44.760

文件 -> 导出模板 -> 项目模板

这将出现在 VS 的“我的模板”下

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T21:54:39.527

您需要的一切都在 MSDN 中

[http://msdn.microsoft.com/en-us/library/xkh1wxd8.aspx](http://msdn.microsoft.com/en-us/library/xkh1wxd8.aspx)

[http://msdn.microsoft.com/en-us/library/ms185291.aspx](http://msdn.microsoft.com/en-us/library/ms185291.aspx)

# django - Django admin -- 限制用户访问

> ID：1022635
> 
> 赞同：4
> 
> 时间：2009-06-20T21:47:00.180
> 
> 标签：django, django-admin

我想知道 django 管理页面是否可用于外部用户。

假设我有这些模型：

```
class Publisher(models.Model):
  admin_user = models.ForeignKey(Admin.User)
  ..

class Publication(models.Model):
  publisher = models.ForeignKey(Publisher)
  .. 
```

我不确定 admin_user 是什么——也许它可能是管理员用户的电子邮件？

无论如何。有没有办法允许管理员用户仅添加/编辑/删除发布者与该管理员用户关联的出版物？

-谢谢！-克里斯

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2009-06-21T19:42:26.557

如果您在自己的应用程序中需要更细粒度的权限，应注意 Django 的管理应用程序支持此功能，通过以下方法可以覆盖 ModelAdmin 的子类。请注意，所有这些方法都接收当前的 HttpRequest 对象作为参数，允许基于特定的经过身份验证的用户进行自定义：

*   `queryset(self, request):`应该返回一个 QuerySet 以在管理员的模型对象列表中使用。不会显示此 QuerySet 中不存在的对象。
*   `has_add_permission(self, request):`如果允许添加对象，则应返回 True，否则返回 False。
*   `has_change_permission(self, request, obj=None):`如果允许编辑 obj，则应返回 True，否则返回 False。如果obj 为None，则应返回True 或False，以指示是否允许编辑这种类型的对象（例如，如果False 将被解释为意味着不允许当前用户编辑任何这种类型的对象）。
*   `has_delete_permission(self, request, obj=None):`如果允许删除 obj，则应返回 True，否则返回 False。如果obj 为None，则应返回True 或False，以指示是否允许删除这种类型的对象（例如，如果False 将被解释为意味着不允许当前用户删除这种类型的任何对象）。

[[django.com]](http://code.djangoproject.com/wiki/RowLevelPermissions)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-12-18T07:50:11.433

我看到克里斯的回答在提出问题时很有用。`Django Admin panel`但现在快到 2016 年了，我想对最终用户启用受限访问会变得更加容易。

Django 认证系统提供：

> 组：将标签和权限应用于多个用户的通用方式。

可以通过管理面板或编写代码添加特定权限并将该组应用于用户。

将用户添加到这些特定组后，管理员需要`is_staff`为这些用户启用标志。

用户将能够在管理员中访问受限的注册模型。我希望这有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-21T16:13:37.257

django admin 可以在一定程度上受到限制。对于给定的用户，首先，他们必须具有管理员权限才能登录到管理站点。设置此标志的任何人都可以查看所有管理页面。如果你想限制观看，那你就不走运了，因为那只是没有实现。从那里，每个用户对管理站点中的每个模型都有许多权限，用于创建、更新和删除。处理此问题的最便捷方法是创建组，然后为组分配权限。

# iphone - 如何修改普通 UITableView 中“空”单元格的外观？

> ID：1022637
> 
> 赞同：22
> 
> 时间：2009-06-20T21:48:01.100
> 
> 标签：iphone, cocoa-touch, uitableview

如果您有一个单行的普通（未分组）UITableView，则屏幕的其余部分将填充空白或空单元格。你如何改变这些空白单元格的外观？首先，我认为他们会有表格视图中使用的单元格的外观，但似乎没有。

Cultured Code (Things) 的人在修改这些细胞方面做得很好，但我无法立即想出改变它们外观的方法。

有小费吗？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2009-06-22T00:56:09.137

虽然这不是您要查找的内容，但您也可以通过在表格上设置页脚视图将其更改为仅显示空白区域（而不是空白单元格）。高度为 0 的 UIView 可以解决问题。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2011-03-28T06:02:10.500

基于[samvermette 的](https://stackoverflow.com/users/87158/samvermette)回答，但修改为直接使用背景图像，而不是从 UITableViewCell 子类合成图像。Sam 的回答很好，但它的性能会不如直接创建背景图像。

创建一个 UIView 子类——在本例中，我将其命名为 CustomTiledView——并将以下代码添加到该类中：

```
- (void)drawRect:(CGRect)rect {
UIImage *image = [UIImage imageNamed:@"tableview_empty_cell_image"];
CGContextRef context = UIGraphicsGetCurrentContext();
CGContextScaleCTM (context, 1, -1); 
CGContextDrawTiledImage(context, 
                        CGRectMake(0, 0, rect.size.width, image.size.height), 
                        [image CGImage]); 
} 
```

将以下代码添加到您的 tableviewcontroller：

```
- (CGFloat)tableView:(UITableView *)tableView 
           heightForFooterInSection:(NSInteger)section {
    // this can be any size, but it should be 1) multiple of the 
    // background image height so the last empty cell drawn
    // is not cut off, 2) tall enough that footer cells
    // cover the entire tableview height when the tableview
    // is empty, 3) tall enough that pulling up on an empty
    // tableview does not reveal the background.
        return BACKGROUND_IMAGE_HEIGHT * 9; // create 9 empty cells
}

- (UIView *)tableView:(UITableView *)tableView 
            viewForFooterInSection:(NSInteger)section {
    CustomTiledView *footerView = [[CustomTiledView alloc] init];
    return [footerView autorelease];
} 
```

最后，您需要将 tableview 的底部内容插入设置为从返回的值的负数。`-tableView:heightForFooterInsection:`在此示例中，它将是`-1*BACKGROUND_IMAGE_HEIGHT*9`. 您可以从 Interface Builder 的 Size Inspector 或`self.tableView.contentInset`从 tableviewcontroller 设置属性来设置底部内容插图。

干杯!

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2010-11-04T03:53:59.557

我为我的 tableView 页眉和页脚视图设置了一个 ~300 像素高的 UIView 子类，调整了 tableView 插图，以便它们补偿这些视图（将顶部和底部插图设置为 -300 像素）。

我的 UIView 子类实现了 drawRect 方法，我用它来重复`CGContextDrawTiledImage()`绘制一个空：`UITableViewCell`

```
- (void)drawRect:(CGRect)rect {

    UIGraphicsBeginImageContextWithOptions(CGSizeMake(300, 46),NO,0.0);
    emptyCell = [[SWTableViewCell alloc] initWithFrame:CGRectZero];
    [emptyCell drawRect:CGRectMake(0, 0, 300, 46)];
    UIImage* newImage = UIGraphicsGetImageFromCurrentImageContext();
    [emptyCell release];
    UIGraphicsEndImageContext();

    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextScaleCTM (context, 1, -1); // this prevents the image from getting drawn upside-down
    CGContextDrawTiledImage(context, CGRectMake(0, 0, 300, 46), [newImage CGImage]);
} 
```

在我的例子中，我的 tableviewcells 是 46px 高，所以如果我想让 UIView 子类包含 8 个这些空单元格，我需要让它高 368px。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-04-23T08:01:20.663

来自[http://jomnius.blogspot.com/2011/03/hide-uitableview-empty-cell-separator.html](http://jomnius.blogspot.com/2011/03/hide-uitableview-empty-cell-separator.html) 简单的方法是定义该表没有单元格分隔线：

```
self.tableView.separatorStyle = UITableViewCellSeparatorStyleNone; 
```

如果您需要分隔线，困难的方法是定义该表没有分隔线并创建单元格分隔线作为自定义 UITableViewCell 的一部分。单元的底部，很明显，并且很可能使用非常薄的图形图像。请记住正确定义图像自动调整大小和模式。

另一种方法是定义一个空的 UITableView 的 tableFooterView：

```
UIView *footer =
    [[UIView alloc] initWithFrame:CGRectZero];
self.myTable.tableFooterView = footer;
[footer release]; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2011-12-08T14:59:25.130

如果您只是想在 TableView 中根本没有单元格时更改“空单元格”的高度：您需要设置`rowHeight`UITableView 的属性（的实现`tableView:heightForRowAtIndexPath:`对空 TableViews 没有影响）。如果您的 TableView 中有单元格并且您已经实现`tableView:heightForRowAtIndexPath:`，那么最后一行高度将用于空单元格。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2009-06-20T22:27:28.743

您可能必须创建一个 UITableView 的自定义子类，用空白单元格的外观填充背景。

```
- (void)drawRect:(CGRect)rect {
  [super drawRect: rect];

  // draw your background here if the rect intersects with the background area
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2011-10-28T21:21:15.450

我相信使用该`UITableView` `tableView:viewForFooterInSection:`方法的方法不适用于表格为空的情况，即没有单元格。在这种情况下，您可以使用[Answerbot](https://stackoverflow.com/users/257550/answerbot)提出的技术，可以将创建`UIView`的内容显式地填充到表的页脚视图中，如下所示：

```
 CGRect cellRect = CGRectMake(0, 0, table.bounds.size.width, table.bounds.size.height);
    CustomTiledView *footerView = [[[CustomTiledView alloc] initWithFrame:cellRect] autorelease];
    table.tableFooterView = footerView; 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2018-08-06T12:02:26.840

对于 swift **4.0**：

```
self.tableView.tableFooterView = UIView(frame: CGRect.zero)
```

# python - Weighted slope one algorithm? (porting from Python to R)

> ID：1022649
> 
> 赞同：7
> 
> 时间：2009-06-20T21:53:56.300
> 
> 标签：python, r, prediction, recommendation-engine

I was reading about the [Weighted slope one algorithm](http://en.wikipedia.org/wiki/Slope_One#Slope_one_collaborative_filtering_for_rated_resources) ( and more formally [here (PDF)](http://www.daniel-lemire.com/fr/documents/publications/lemiremaclachlan_sdm05.pdf)) which is supposed to take item ratings from different users and, given a user vector containing at least 1 rating and 1 missing value, predict the missing ratings.

I found a [Python implementation of the algorithm](http://www.serpentine.com/wordpress/wp-content/uploads/2006/12/slope_one.py.txt), but I'm having a hard time porting it to [R](http://www.r-project.org/) (which I'm more comfortable with). Below is my attempt. Any suggestions on how to make it work?

Thanks in advance, folks.

```
# take a 'training' set, tr.set and a vector with some missing ratings, d
pred=function(tr.set,d) {
    tr.set=rbind(tr.set,d)
    n.items=ncol(tr.set)

    # tally frequencies to use as weights
    freqs=sapply(1:n.items, function(i) {
        unlist(lapply(1:n.items, function(j) {
            sum(!(i==j)&!is.na(tr.set[,i])&!is.na(tr.set[,j])) })) })

    # estimate product-by-product mean differences in ratings
    diffs=array(NA, dim=c(n.items,n.items))
    diffs=sapply(1:n.items, function(i) {
        unlist(lapply(1:n.items, function(j) {
            diffs[j,i]=mean(tr.set[,i]-tr.set[,j],na.rm=T) })) })

    # create an output vector with NAs for all the items the user has already rated
    pred.out=as.numeric(is.na(d))
    pred.out[!is.na(d)]=NA

    a=which(!is.na(pred.out))
    b=which(is.na(pred.out))

    # calculated the weighted slope one estimate
    pred.out[a]=sapply(a, function(i) {
        sum(unlist(lapply(b,function (j) {
            sum((d[j]+diffs[j,i])*freqs[j,i])/rowSums(freqs)[i] }))) })

    names(pred.out)=colnames(tr.set)
    return(pred.out) }
# end function

# test, using example from [3]
alice=c(squid=1.0, octopus=0.2, cuttlefish=0.5, nautilus=NA)
bob=c(squid=1.0, octopus=0.5, cuttlefish=NA, nautilus=0.2)
carole=c(squid=0.2, octopus=1.0, cuttlefish=0.4, nautilus=0.4)
dave=c(squid=NA, octopus=0.4, cuttlefish=0.9, nautilus=0.5)
tr.set2=rbind(alice,bob,carole,dave)
lucy2=c(squid=0.4, octopus=NA, cuttlefish=NA, nautilus=NA)
pred(tr.set2,lucy2)
# not correct
# correct(?): {'nautilus': 0.10, 'octopus': 0.23, 'cuttlefish': 0.25} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2009-06-28T08:57:29.287

不久前，我使用相同的参考资料（Bryan O'Sullivan 的 python 代码）编写了 Slope One 的 R 版本。我正在粘贴下面的代码以防万一。

```
predict <- function(userprefs, data.freqs, data.diffs) {
    seen <- names(userprefs)

    preds <- sweep(data.diffs[ , seen, drop=FALSE], 2, userprefs, '+') 
    preds <- preds * data.freqs[ , seen]
    preds <- apply(preds, 1, sum)

    freqs <- apply(data.freqs[ , seen, drop=FALSE], 1, sum)

    unseen <- setdiff(names(preds), seen)
    result <- preds[unseen] / freqs[unseen]
    return(result[is.finite(result)])
}

update <- function(userdata, freqs, diffs) {
    for (ratings in userdata) {
        items <- names(ratings)
        n <- length(ratings)

        ratdiff <- rep(ratings, n) - rep(ratings, rep(n, n))
        diffs[items, items] <- diffs[items, items] + ratdiff

        freqs[items, items] <- freqs[items, items] + 1
    }
    diffs <- diffs / freqs
    return(list(freqs=freqs, diffs=diffs))
}

userdata <- list(alice=c(squid=1.0, cuttlefish=0.5, octopus=0.2),
                 bob=c(squid=1.0, octopus=0.5, nautilus=0.2),
                 carole=c(squid=0.2, octopus=1.0, cuttlefish=0.4, nautilus=0.4),
                 dave=c(cuttlefish=0.9, octopus=0.4, nautilus=0.5))

items <- c('squid', 'cuttlefish', 'nautilus', 'octopus')
n.items <- length(items)
freqs <- diffs <- matrix(0, nrow=n.items, ncol=n.items, dimnames=list(items, items))

result <- update(userdata, freqs, diffs)
print(result$freqs)
print(result$diffs)

userprefs <- c(squid=.4)
predresult <- predict(userprefs, result$freqs, result$diffs)
print(predresult) 
```

# jquery - 获取当前滚动位置并将其作为带有链接的变量传递？

> ID：1022652
> 
> 赞同：19
> 
> 时间：2009-06-20T21:56:32.517
> 
> 标签：jquery, scroll, scroll-position

老实说，我在这里超出了我的深度。我创建了一个分页系统，您单击一个链接它会重新加载页面，并且一定数量的列表项显示在无序列表中。当您再次单击它时，它将重新加载页面并显示更多项目。想想 Twitter 如何在您的提要中显示推文。

问题是当它重新加载页面时它停留在顶部。我想要的是它跳到它以前拥有的页面上的相同位置。

我已经为链接设置了一个选择器，我只是不知道如何获取当前滚动位置，然后将其传递给新页面以供其跳转。

到目前为止，这是我的代码：

```
jQuery(document).ready(function(){
    $("a[rel=more]").live("click", function(){
        //script...
    });
}); 
```

我从这里去哪里？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2009-06-20T22:23:11.123

1.  使用 AJAX 重新加载项目，而不是重新加载整个页面。

2.  `window.pageYOffset`使用和获取和设置滚动位置`window.scrollTo(0, y)`。

    我会将位置存储在 URL 的哈希中：

    ```
    // after loading the document, scroll to the right position
    // maybe location.hash has to be converted to a number first
    $(document).ready(function() {
        window.scrollTo(0, location.hash);
    });

    // I'm not quite sure if reload() does preserve the hash tag.
    location.hash = window.pageYOffset;
    location.reload(); 
    ```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-20T22:29:32.357

正如 gs 所说，通过 ajax 调用添加元素，而不是重新加载页面。

如果您不想使用[jQuery.ScrollTo](http://flesler.blogspot.com/2007/10/jqueryscrollto.html)插件。它支持您梦寐以求的与滚动相关的所有内容

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-12T04:45:58.057

我认为您需要的只是在链接末尾传递一个 HTML 锚。浏览器将自动滚动到匹配锚点旁边的元素。例子：

```
<a href="page2.html#myanchor">Next page</a> 
```

在 page2 中间的某个时间点：

```
<a name="myanchor">My item N</a> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2011-06-16T06:54:14.980

根据@Shawn Grigson 的链接，并非所有浏览器都支持 pageYOffset。

用于获取和设置元素垂直滚动的 jQuery 解决方案（希望真正跨浏览器兼容，尽管我还没有测试过）是[scrollTop()](http://api.jquery.com/scrollTop/)。

# css - 你如何在 CSS 中的一个元素中同时处理基于百分比和像素的大小？

> ID：1022662
> 
> 赞同：3
> 
> 时间：2009-06-20T22:03:17.340
> 
> 标签：css, xhtml

具体来说，我指的是您需要在 DIV 上具有 100% 的总宽度，但需要 10 像素填充和 1 像素边框的情况。（并且不要依赖浏览器自动将其设置为该宽度 - 例如它是向左浮动的。）

有没有不使用 JavaScript 的简单方法来完成此操作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-20T22:10:38.557

不，没有办法在当前主要浏览器的一个元素上设置它。

您可以使用 2 个嵌套`div`的 s。设置`100%`外层宽度，内层`div`设置内边距和边框`div`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-20T22:36:46.663

如果您使用`box-sizing: border-box`，您可以设置`width: 100%; border: 1px solid black; padding: 10px;`宽度、边框、边距和填充的总和将是为宽度指定的值。[来源](http://www.w3.org/TR/css3-ui/#box-sizing)

编辑：没错，浏览器支持有点有限。FF 3.5 和 Safari 4 支持它，不确定 IE8 或 Chrome。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T22:12:05.233

这只有在 CSS 3 中才有可能。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-20T22:12:07.853

那么下面的解决方案呢？

```
<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">   
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">     
    <head>      
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />   
        <title>Content with Menu</title>         
    <style type="text/css">
      .content .outer{
        width:100%;
        border:1px solid black;
        background-color:green;
      }
      .content .inner{
        margin-left:10px;
        margin-right:10px;
        background-color:red;
      }
    </style>          
    </head>
    <body>    
    <div class="content">
      <div class="outer">
        <div class="inner">  
          <p>Hi!</p>
        </div>
      </div>
    </div>
    </body>
</html> 
```

**更新** 好的，仅使用一个元素并不能完成您所说的。

# php - 在 PHP 中使用主/从 SQL 数据

> ID：1022679
> 
> 赞同：0
> 
> 时间：2009-06-20T22:11:37.683
> 
> 标签：php, sql, mysql

我是新手，所以请多多包涵。我正在做一个有趣的小论坛。核实：

**分类：**

```
 `id` int(10) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `position` int(11) NOT NULL,
   PRIMARY KEY (`id`) 
```

**论坛：**

```
 `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `description` text NOT NULL,
  `position` int(11) NOT NULL,
  `cat_id` int(11) NOT NULL,
   PRIMARY KEY (`id`) 
```

我想知道我应该如何构造它，以便循环出它下面的类别和分配的论坛：/

我在正确的道路上吗？

```
 <?php
  $query = mysql_query("SELECT * FROM forums JOIN...");
  while ($row = mysql_fetch_array($query)) {..
  ?> 
```

也许一些 sql guru 可以帮助我。

干杯!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-06-20T22:15:23.603

我认为您最好阅读[加入教程](http://www.tizag.com/mysqlTutorial/mysqljoins.php)以帮助您了解基础知识。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T22:19:06.543

我不了解 PHP，但看起来您想使用单个查询来循环遍历类别，然后针对每个类别循环遍历论坛。

关系数据库不是这样工作的。查询以表的形式返回一组行。它没有父/子结构。

如果 PHP 能够做到这一点，您应该有一个父查询来返回所有类别，并循环访问它。对于每个类别，调用子查询以返回具有该类别 ID 的论坛。然后循环过去。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-20T22:29:09.770

如果您想在页面中显示带有论坛的类别，我怀疑您需要先获取类别的结果集，然后使用论坛列表的另一个循环遍历此列表。

连接将为您提供一个记录集，其中一列中包含类别，而论坛在另一列中，为单个类别提供多行。正如另一个答案所说，您并不是真的在寻找加入:)

尝试这样的事情：

```
$cat_rs = mysql_query("select id, name from categories");
while($cat_row = mysql_fetch_array($cat_rs)){
     // print category name from $cat_row[1]
     $forum_rs = mysql_query("select name... from forums where cat_id = '" . $cat_row[0] ."'");
     while($forum_row = mysql_fetch_array($forum_rs)){
        //print forum stuff
     }
} 
```

# wcf - WCF 服务的代理服务器身份验证

> ID：1022692
> 
> 赞同：5
> 
> 时间：2009-06-20T22:17:48.903
> 
> 标签：wcf, proxy

我需要使用 WCF 服务，但我在代理服务器后面，并且此代理服务器需要用户名和密码。

我找不到设置它的方法，如果它是 Web 服务，我可以做类似的事情

```
ws.Proxy = myProxyServer; 
```

如何使用 WCF 服务做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2009-06-20T22:40:05.223

在 WCF 绑定配置中，使用 useDefaultWebProxy 属性使 WCF 使用 windows 默认代理（可以从 IE 网络配置中设置）：

```
<bindings>
<basicHttpBinding>
<binding name="ESBWSSL" ...everything...  useDefaultWebProxy="true"> 
```

然后在代码中，在使用连接之前，执行以下操作：

```
WebProxy wproxy = new WebProxy("new proxy",true);
wproxy.Credentials = new NetworkCredential("user", "pass"); 
```

并使用您的 webrequest 对象，在执行调用之前：

```
WebRequest.DefaultWebProxy = wproxy; 
```

我没有测试过代码，但我相信这应该可以。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T23:41:49.980

**注意**根据评论替换了以前的答案

实际上还有另一个 stackoverflow 答案涵盖了在代理上设置凭据。

[是否可以在您的 web.config 中指定代理凭据？](https://stackoverflow.com/questions/186800/is-it-possible-to-specify-proxy-credentials-in-your-web-config)

# python - 如何将环境从我的 Python Web 应用程序传递到 Perl 程序？

> ID：1022694
> 
> 赞同：1
> 
> 时间：2009-06-20T22:19:43.937
> 
> 标签：python, perl, environment

如何设置 Perl 的 %ENV 以将 Perl 脚本引入我的 Web 应用程序的上下文中？

我有一个网站，用不同于 Perl (Python) 的语言编写。但是我需要使用一个 Perl 应用程序，它由一个 .pl 文件组成：

```
 #!/usr/bin/env perl
    "$ENV{DOCUMENT_ROOT}/foo/bar.pm" =~ /^(.+)$/;
    require $1;
    my $BAR = new BAR(
        user    => 'foo',
    );
    print $bar->get_content; 
```

...和一个模块 bar.pm ，它依赖于`"$ENV{HTTP_HOST}"`、`"$ENV{REQUEST_URI}"`和 .`"$ENV{REMOTE_ADDR}"``"$ENV{DOCUMENT_ROOT}"`

我应该如何设置这个哈希？这是我第一次使用 Perl，所以我可能在这里遗漏了一些非常明显的东西 :)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-06-20T23:29:10.507

如果您从 Python 代码生成 Perl 进程（而不是“直接从网络服务器”），则有多种方法可以从 Python 父进程环境设置子进程环境，具体取决于您使用的“产卵”。

例如，如果您正在使用`subprocess.Popen`，则可以将`env=`参数集传递给您想要的字典，正如[文档](http://docs.python.org/library/subprocess.html)解释的那样：

> 如果 env 不是 None，它必须是定义新进程的环境变量的映射；这些用于代替继承当前进程的环境，这是默认行为。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-20T22:30:14.713

Perl 的特殊`%ENV`哈希是环境的接口。（在引擎盖下，它会调用`getenv`并`putenv`酌情调用。）

例如：

```
$ cat run.sh 
#! /bin/bash

export REMOTE_ADDR=127.0.0.1

perl -le 'print $ENV{REMOTE_ADDR}'

$ ./run.sh 
127.0.0.1 
```

您的 Web 服务器应该设置这些环境变量。

# css - CSS中@import和link的区别

> ID：1022695
> 
> 赞同：127
> 
> 时间：2009-06-20T22:19:52.377
> 
> 标签：css, import, hyperlink

我正在学习一些 CSS 来调整我的项目模板。我遇到了这个问题，并没有在网上找到明确的答案。在 CSS 中使用 @import 或 link 有区别吗？

使用@import

```
<style>@import url(Path To stylesheet.css)</style> 
```

链接的使用

```
<link rel="stylesheet" href="Path To stylesheet.css"> 
```

最好的方法是什么？为什么？谢谢！

* * *

## 回答 #1

> 赞同：151
> 
> 时间：2009-06-20T22:32:35.910

理论上，它们之间的唯一区别是`@import`包含样式表的 CSS 机制和`<link>`HTML 机制。但是，浏览器处理它们的方式不同，`<link>`在性能方面具有明显的优势。

Steve Souders 写了一篇广泛的博客文章，比较了两者`<link>`和`@import`（以及它们的各种组合）的影响，称为“[不要使用 @import](http://www.stevesouders.com/blog/2009/04/09/dont-use-import/) ”。这个标题几乎不言自明。

雅虎！还提到它是他们的性能最佳实践之一（由 Steve Souders 合着）：[选择`<link>`@import](https://developer.yahoo.com/performance/rules.html#csslink)

此外，使用`<link>`标签允许您定义[“首选”和备用样式表](https://alistapart.com/article/alternate/)。你不能用`@import`.

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2009-06-20T22:26:49.383

今天没有真正的区别，但`@import`旧浏览器（Netscape 4 等）没有正确处理，所以[`@import`黑客](https://web.archive.org/web/20140117190832/http://css-discuss.incutio.com/wiki/Import_Hack)可以用来隐藏这些旧浏览器的 CSS 2 规则。

同样，除非您支持非常旧的浏览器，否则没有区别。

但是，如果我是您，我会`<link>`在您的 HTML 页面上使用该变体，因为它允许您指定媒体类型（打印、屏幕等）之类的内容。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2009-06-20T22:30:56.940

您可以使用 import 命令在 css 文件中导入另一个 CSS，这是使用 link 命令无法实现的。真正的旧浏览器无法（部分 IE4、IE5）处理导入功能。此外，一些解析 xhtml/html 的库可能无法导入样式表。请注意，您的导入应该在所有其他 CSS 声明之前。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2009-06-26T01:18:59.807

<link> 指令可以允许异步加载和解释多个 css。

@import 指令强制浏览器* 等到导入的脚本被内联加载到父脚本之前，它的引擎才能正确处理它，因为从技术上讲，它只是一个脚本。

许多 css 最小化脚本（以及诸如 less 或 sass 之类的语言）会自动将链接的脚本连接到主脚本中，因为它最终会导致更少的传输开销。

*（取决于浏览器）

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2009-06-26T00:30:42.257

这篇文章可能在这里有用：[将 CSS 添加到 HTML 的 4 种方法：链接、嵌入、内联和导入](http://matthewjamestaylor.com/blog/adding-css-to-html-with-link-embed-inline-and-import)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2009-06-20T22:25:11.993

当我使用@import 规则时，通常是在现有样式表中导入样式表（尽管我不喜欢一开始就这样做）。但是要回答您的问题，不，我认为没有任何区别。只需确保将 URL 放在双引号中以符合有效的 XHTML。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2009-06-20T22:39:36.910

@import 通常用于外部样式表，而不是像您的示例中那样内联。如果您*真的*想从非常旧的浏览器中隐藏样式表，您可以将其用作防止他们使用该样式表的技巧。 

总体而言，`<link>`标签的处理速度比 @import 规则更快（就 css 处理引擎而言，这显然有点慢）。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-12-22T08:54:44.940

Microsoft Internet Explorer 9 (MSIE9) 似乎无法正确处理 @import。从我的 Apache 日志中观察这些条目（隐藏 IP 地址，但`whois`说它归微软自己所有）：链接到 screen.css 的主要 HTML

```
@import url("print.css") print;
@import url("speech.css") aural; 
```

我现在要更改为`link`HTML 中的元素，因为似乎 MSIE9 向服务器发出了两个不正确的请求，得到了 404 错误，我可以做到：

```
[ip] - - [21/Dec/2019:05:49:28 +0000] "GET /screen.css HTTP/1.1" 200 2592 "https://ssb22.user.srcf.net/zhimo/"; "Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0;  Trident/5.0)" ssb22.user.srcf.net
[ip] - - [21/Dec/2019:05:49:28 +0000] "GET /url(%22print.css%22)%20print HTTP/1.1" 404 7498 "https://ssb22.user.srcf.net/zhimo/"; "Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0;  Trident/5.0)" ssb22.user.srcf.net
[ip] - - [21/Dec/2019:05:49:28 +0000] "GET /url(%22speech.css%22)%20aural HTTP/1.1" 404 7498 "https://ssb22.user.srcf.net/zhimo/"; "Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0;  Trident/5.0)" ssb22.user.srcf.net 
```

之后对这些文件有适当*的*请求，但我们可以不用这种“先在服务器上拍摄，然后再解析`url`”的逻辑。

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2021-03-13T11:20:33.753

一个 html，另一个 css 代码 如果您没有使用过鞍 html 标签，那么您需要使用 @import

# ruby - 创建自己的编码

> ID：1022698
> 
> 赞同：0
> 
> 时间：2009-06-20T22:21:31.127
> 
> 标签：ruby, encoding

如何在 Ruby (1.9) 中创建自己的编码？编码将用于在读取/写入文件时转换字符串，即通常用于操作非标准编码字符串中的数据（[http://en.wikipedia.org/wiki/Mazovia_encoding](http://en.wikipedia.org/wiki/Mazovia_encoding)）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-20T22:33:47.577

对于您更新的问题：目前您所能做的就是编写一些自定义代码来处理字节级别的文件读/写并进行所需的转换。

* * *

如果您提到如何在 1.9 版的 ruby​​ 中使用不同的字符编码，我会指出您

[在 Ruby 1.9](http://blog.nuclearsquid.com/writings/ruby-1-9-encodings)和

[了解 M17n](http://blog.grayproductions.net/articles/understanding_m17n)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-21T01:05:27.987

我在 ruby​​-docs 中找不到任何关于使用专有编码的参考，并且`Encoding`该类没有任何初始化程序（但`Encoding.find()`可以动态加载一些编码支持）不幸的是，即使在 中也不支持`IConv`afaik ，所以你被困住了实现你自己的类...`Mazovia``iconv`

# iphone - iPhone 通讯簿 - 自动选择电话所有者

> ID：1022704
> 
> 赞同：3
> 
> 时间：2009-06-20T22:27:45.683
> 
> 标签：iphone, cocoa, iphone-sdk-3.0

在 3.0 中，他们为 Safari 提供了自动填充功能。您进入设置应用程序将其打开，它需要绑定到地址簿中的条目。

我进入设置应用程序进行设置，我注意到它已经猜到我是谁了。是否使用 API 中的某些内容来执行此操作？如果是这样，我如何访问此功能？

我的 iPhone 与 Mac 上的通讯簿同步，桌面应用程序知道我是谁。iPhone 现在是否也在看同样的属性？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-20T22:43:18.697

不幸的是，没有用于识别手机所有者是谁的公共 API。

如果这是您想要的，我建议您向 Apple 开发人员联系提交错误报告。

否则，（虽然我不建议这样做）您可能能够从 [[NSHost currentHost] names] 返回的数组中推断出设备所有者是谁。

# iphone - 如何在 iPhone 中使用 Core 数据模型连接或创建 Sqlite DB

> ID：1022712
> 
> 赞同：5
> 
> 时间：2009-06-20T22:30:38.300
> 
> 标签：iphone, sqlite, core-data

我能够创建数据模型、实体和属性。我现在如何创建数据库？我是否必须手动创建它以确保所有属性和实体都已映射？

我正在关注Recipes Core Data 示例，并注意到RecipesAppDelegate.m 中的一个方法：

```
- (NSPersistentStoreCoordinator *)persistentStoreCoordinator {
} 
```

我可以在这里看到对 DB 文件的引用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-06-20T22:47:29.483

创建持久存储协调器时，如果您使用的是 SQLite 持久存储类型，如果数据库不存在，协调器将自动为您创建数据库。您不必自己创建商店文件。

**编辑：**澄清一下，您唯一应该修改的是核心数据对象模型（.xcdatamodel）文件。NSPersistentStoreCoordinator 对象，当它使用存储文件创建或在`addPersistentStore:`其上调用方法时，将完成后备存储的**所有**必要设置。这包括创建文件、它可能包含的任何表等。

SDK 和 Core Data 框架完全不支持自己创建或修改任何类型的持久存储（尤其是 SQLite 存储）。

# ios - NSMutableArray writeToUrl

> ID：1022714
> 
> 赞同：0
> 
> 时间：2009-06-20T22:30:58.673
> 
> 标签：ios, objective-c, url, nsmutablearray

是否可以使用：

```
[NSMutableArray writeToURL:(NSString *)path atomically:(BOOL)AuxSomething]; 
```

为了将文件 (NSMutableArray) XML 文件发送到 url，并更新 url 以包含该文件？

例如：我有一个数组，我想将它上传到一个特定的 URL，下次启动应用程序时我想下载该数组。

```
NSMutableArray *arrayToWrite = [[NSMutableArray alloc] initWithObjects:@"One",@"Two",nil];

[arrayToWrite writeToURL:

[NSURL urlWithString:@"mywebsite.atwebpages.com/myArray.plist"] atomically:YES]; 
```

在运行时：

```
NSMutableArray *arrayToRead = 

[[NSMutableArray alloc] initWithContentsOfURL:[NSURL           urlWithString:@"mywebsite.atwebpages.com/myArray.plist"]]; 
```

意思是，我想将一个 NSMutableArray 写入一个 URL，该 URL 位于一个网络托管服务（例如 batcave.net，该 URL 接收信息并相应地更新服务器端文件。像设置这样的高分，用户发送他的分数，服务器更新它的文件，其他用户在运行时下载高分。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-21T05:46:25.217

在这里，回答这个问题：
[Creating a highscore like system, iPhone side](https://stackoverflow.com/questions/1023289/nsmutablearray-writetourl)

我无法编辑我的帖子，因为我以匿名用户身份从我的 iPhone 发布，抱歉。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-21T00:47:33.077

至于您的问题的第一部分，我假设您想使用 NSMutableArray 的内容来形成某种 URL 请求（如[POST](http://en.wikipedia.org/wiki/POST_(HTTP))），您将发送到您的网络服务并期望返回一些信息......

没有预先构建的方法可以将 NSMutableArray 的内容发送到 URL，但有一些简单的方法可以自己完成。例如，您可以遍历数组的数据，并使用[NSURLRequest](http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSURLRequest_Class/Reference/Reference.html)创建一个符合 Web 服务接口的 URL 请求。一旦你构建了你的请求，你可以通过传递一个[NSURLConnection](http://developer.apple.com/DOCUMENTATION/Cocoa/Reference/Foundation/Classes/NSURLConnection_Class/Reference/Reference.html)对象来发送它。

考虑这个非常简单且不完整的示例，说明客户端代码使用 Obj-C 数组提供数据时的样子......

```
NSMutableData *dataReceived; // Assume exists and is initialized
NSURLConnection *myConnection;

- (void)startRequest{
    NSLog(@"Start");

    NSString *baseURLAddress = @"http://en.wikipedia.org/wiki/";

    // This is the array we'll use to help make the URL request
    NSArray *names = [NSArray arrayWithObjects: @"Jonny_Appleseed",nil];
    NSString *completeURLAsString = [baseURLAddress stringByAppendingString: [names objectAtIndex:0]];

    //NSURLRequest needs a NSURL Object
    NSURL *completeURL = [NSURL URLWithString: completeURLAsString];

    NSURLRequest *myURLRequest = [NSURLRequest requestWithURL: completeURL];

    // self is the delegate, this means that this object will hanlde
    // call-backs as the data transmission from the web server progresses
    myConnection = [[NSURLConnection alloc] initWithRequest:myURLRequest delegate: self startImmediately:YES];
}

// This is called automatically when there is new data from the web server,
// we collect the server response and save it
- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data
{
    NSLog(@"Got some");
    [dataReceived appendData: data];
}

// This is called automatically when transmission of data is complete
- (void)connectionDidFinishLoading:(NSURLConnection *)connection {
    // You now have whatever the server sent...
} 
```

为了解决您问题的第 2 部分，Web 请求的接收者可能需要一些脚本或基础设施才能做出有用的响应。

# compiler-construction - 跨平台构建/编译解决方案

> ID：1022726
> 
> 赞同：0
> 
> 时间：2009-06-20T22:39:53.973
> 
> 标签：compiler-construction, cross-platform, makefile

适用于 C++/Objective-C Mac、Windows、Linux

最强大的编译器/构建系统？

有 GCC 和 MakeFiles。

英特尔制造编译器，但他们不做 Objective-C 对吗？我读到英特尔构建的应用程序在数学和图形领域的速度提高了 30%。

MinGW 仅适用于 Windows？

LLVM/Clang 似乎还没有准备好黄金时间。

我不知道 Borland 有没有做任何东西。

我不是在寻找 IDE，因为我更喜欢命令行构建和文本编辑器。

我想我正在寻找可以在所有平台上使用的最佳工具集。所以我没有在平台 A 上使用工具 A，在平台 B 上使用工具 B 等。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-20T22:50:16.293

Qt 是一个很好的 C++ 跨平台开发系统（与许多其他语言的绑定）。我已经使用 Qt 开发了几个非常强大的应用程序，从 unicode 字符串、STL 替换，当然还有 GUI，让它在 mac、linux 和 windows 上运行从来都不是问题。通常，我在 Mac 和 Linux 上使用 GCC，在 Windows 上使用 VC++。对于简单的情况，基本的 qmake Makefile 实用程序可以正常工作，但对于更复杂的情况，cmake 是一个很好的解决方案。我知道为平台更改编译器通常是应该避免的，但是对于 Qt，这种切换几乎不会引起注意。

MinGW 只是 Windows 的 GCC，内置了 UNIXy 的东西（我记得），但它总是给我带来麻烦。Windows 和 *nix 有很大的不同，以我的经验，使用本机编译器通常更容易。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-21T01:05:48.657

我个人最喜欢的是[SCons](http://www.scons.org)和 Google 的[swtoolkit](http://code.google.com/p/swtoolkit/)用于跨平台编译

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-21T00:58:24.350

如果你想尝试 Objective-C 并保持跨平台，你可以看看[Cocotron](http://www.cocotron.org/)。[gcc](http://gcc.gnu.org/)已经能够编译 Objective-C 有一段时间了，对于 Cocotron：

> 该项目的目的是为 Objective-C 开发提供一个易于使用的跨平台解决方案。特别是与 Apple 框架的最新版本（OS X 10.4 和 10.5）的源代码级别兼容性。

# c# - WPF 鼠标点击关闭事件

> ID：1022728
> 
> 赞同：1
> 
> 时间：2009-06-20T22:40:35.470
> 
> 标签：c#, wpf, mouseevent

我知道每个控件都有一个鼠标单击事件，但是有没有办法确定鼠标单击何时不在控件上？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-20T23:09:09.330

您可以使用[此代码](https://stackoverflow.com/questions/974598/find-all-controls-in-wpf-window-by-type/978352#978352)在窗口上查找所有控件或目标类型的可视元素并处理它的鼠标事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T22:53:41.200

您可以检查 IsMouseOver 是否为 false，如果您想在 IsMouseOver == false 时挂钩某个操作，则可以覆盖该 dp 的元数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-09-11T18:57:28.587

您可以调用 CaptureMouse，然后该对象将接收所有鼠标事件。然后，您可以从鼠标向下的点确定它是否在您的控制范围内。或者，您可以改为监听 LostMouseCapture 事件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-14T13:23:52.933

这对事件不起作用`Click`（因为没有隧道版本，只有冒泡版本），但您可以处理类`PreviewMouseLeftButtonDown`上的路由`Window`并检查目标控件是否在命中树中。

# javascript - 将 XSLT 变量设置为 JavaScript 变量？

> ID：1022732
> 
> 赞同：1
> 
> 时间：2009-06-20T22:45:18.427
> 
> 标签：javascript, jquery, xslt

我将如何获取 XSLT 变量并使用它来设置 JavaScript 变量？

我正在研究一些 AJAX，为了使其充分发挥作用，我希望能够获取 XSLT 变量并使用这些变量来设置一些 JavaScript 变量的默认值，然后我将使用 jQuery 对其进行操作.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-20T23:21:18.993

在输出 JavaScript 的 XSLT 部分中粘贴类似以下内容。

```
<xsl:variable name="myvar" select="'red'" />
<xsl:text>var myobj="</xsl:text><xsl:value-of select="$myvar"></xsl:value-of><xsl:text>"</xsl:text> 
```

# java - WinXP 和 Mac OS X 中的 MySql

> ID：1022739
> 
> 赞同：4
> 
> 时间：2009-06-20T22:49:54.563
> 
> 标签：java, mysql, hibernate, macos, mysql-error-1062

我正面临这个奇怪的问题。我在我的机器上用 Win XP 编码，然后将所有代码移到 Mac OS X 机器上。使用 XP 机器上的 jar 运行它。我正在用java编码并使用hibernate进行数据库处理。

不知何故，我无法插入一行，而键是使用增量生成器类生成的。我也在 Mac 上尝试了本机但同样的错误。

这是调试模式。现在，我知道该错误是密钥违规，但在 WinXP 中不会发生同样的情况。我在运行代码之前截断了我的数据库。我认为它们是 Mac 中的一些生成器类依赖项。还是其他罐子？

以下是一些细节：

*   Mac OS X 10.5 (x86_64)
*   MYSQL 5.1.35 社区服务器
*   mysql-connector-java-5.1.7-bin.jar JDBC驱动
*   Java(TM) 2 运行时环境，标准版（内部版本 1.5.0_16-b06-284）
*   Java HotSpot(TM) Client VM（build 1.5.0_16-133，混合模式，共享）

## 请指教

```
2009-06-20 18:43:01,230 DEBUG [org.hibernate.type.IntegerType] - binding '11266' to parameter: 2
2009-06-20 18:43:01,230 DEBUG [org.hibernate.type.IntegerType] - binding '332' to parameter: 3
2009-06-20 18:43:01,281 DEBUG [org.hibernate.type.IntegerType] - binding '6' to parameter: 4
2009-06-20 18:43:01,281 DEBUG [org.hibernate.persister.entity.AbstractEntityPersister] - Inserting entity: [org.joshua.hibernate.dto.Pagedatecounts#289]
2009-06-20 18:43:01,281 DEBUG [org.hibernate.jdbc.AbstractBatcher] - Executing batch size: 1
2009-06-20 18:43:01,288 DEBUG [org.hibernate.jdbc.AbstractBatcher] - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
2009-06-20 18:43:01,288 DEBUG [org.hibernate.jdbc.AbstractBatcher] - closing statement
2009-06-20 18:43:01,289 DEBUG [org.hibernate.util.JDBCExceptionReporter] - Could not execute JDBC batch update [insert into wiki.page (langId, titleId, totalCounts, id) values (?, ?, ?, ?)]
java.sql.BatchUpdateException: Duplicate entry '1-11266' for key 'Page_lang_title'
    at com.mysql.jdbc.PreparedStatement.executeBatchSerially(PreparedStatement.java:1693)
    at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1108)
    at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:48)
    at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:246)
    at org.hibernate.jdbc.AbstractBatcher.prepareStatement(AbstractBatcher.java:92)
    at org.hibernate.jdbc.AbstractBatcher.prepareStatement(AbstractBatcher.java:87)
    at org.hibernate.jdbc.AbstractBatcher.prepareBatchStatement(AbstractBatcher.java:222)
    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2224)
    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2660)
    at org.hibernate.action.EntityInsertAction.execute(EntityInsertAction.java:56)
    at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:250)
    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:234)
    at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:141)
    at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:298)
    at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:27)
    at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1000)
    at org.joshua.hibernate.dao.PageDAO.batchSave(PageDAO.java:70)
    at org.joshua.businesservice.PageServiceImpl.savePageDateCountBatch(PageServiceImpl.java:61)
    at org.joshua.wikidumps.DumpHandler.endElement(DumpHandler.java:192)
    at org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source)
    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanEndElement(Unknown Source)
    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
    at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
    at javax.xml.parsers.SAXParser.parse(SAXParser.java:375)
    at javax.xml.parsers.SAXParser.parse(SAXParser.java:176)
    at org.joshua.wikidumps.PagesByNumberOfRecentEdits.execute(PagesByNumberOfRecentEdits.java:107)
    at org.joshua.wikidumps.PagesByNumberOfRecentEdits_ur.main(PagesByNumberOfRecentEdits_ur.java:19)
2009-06-20 18:43:01,290 WARN [org.hibernate.util.JDBCExceptionReporter] - SQL Error: 1062, SQLState: 23000
2009-06-20 18:43:01,290 ERROR [org.hibernate.util.JDBCExceptionReporter] - Duplicate entry '1-11266' for key 'Page_lang_title'
2009-06-20 18:43:01,290 ERROR [org.hibernate.event.def.AbstractFlushingEventListener] - Could not synchronize database state with session
org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2011-05-05T12:09:21.430

我遇到了同样的问题。不知道你是否已经解决了。无论如何，就我而言，这是 MySQL 如何创建表和执行表名比较的问题。在 MacOsX 上，我必须将“lower_case_table_names”MySQL 变量设置为 1（默认为 0），这是使用 InnoDB 时的建议值。这解决了我的问题（就像你一样，Hibernate 似乎没有拾取自动生成的 ID）。

希望这可能会有所帮助，里卡多。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-22T18:11:56.157

几乎没有什么可做的，但这是我能做到的：

1.  被违反的唯一键是标题和语言列上的组合键。（从堆栈跟踪中显示的名称（Page_lang_title，其中 lang_id 和 title_id 是列名）和键的值（1-11266，实际上是两个值的组合）来看）。
2.  您维护一个页面（请求？）计入一个 wiki 页面。这当然容易出现并发问题，因为多个线程（请求）同时访问同一个页面。
3.  您可能正在执行批量更新（或其他操作）并且您已经两次击中相同的 <lang_id,title_id> 组合。您的逻辑类似于“来自 page_id=? 和 lang_id=? 的页面” 由于您在同一事务中运行批处理并在事务同步后使用休眠，因此您在表上的插入仅在您提交事务后处理，因此您尝试插入 lang_id 和 page_id 的相同组合两次。

现在你可以做一些事情：

1.  确保 Hibernate 的模式正常工作，以便在对该表进行查询*之前*`AUTO_FLUSH`需要插入新实体时刷新会话。要使这项工作按预期进行，您必须确保 Hibernate 知道已启动的事务。
**   维护您自己为每个事务创建的 Pagedatecount 缓存，并在使用 Hibernate 检查数据库之前对其进行查询。*

 ** * *

想一想：Pagedatecount 实体不是缺少日期列吗？它似乎没有被插入。*

# javascript - 匹配单个特殊字符或特定序列的正则表达式

> ID：1022745
> 
> 赞同：2
> 
> 时间：2009-06-20T22:54:08.907
> 
> 标签：javascript, regex

不知道我这样做是否正确：

```
/(https?:\/\/\S+)(\s|(& nbsp;))?/g; 
```

这应该匹配以 http(s):// 开头并以空格字符或   结尾的 URL。

所以问题出在这部分：

```
(\s|(& nbsp;))? 
```

这应该意味着：匹配一个空格或一个   但它不起作用。它从不匹配一个   并继续直到它找到一个空白。

我不是在寻找任何其他 http 正则表达式，我不是在寻找 javascript 库解决方案，我对此很满意，我只想弄清楚最后一部分。

**编辑：**本网站的代码格式存在某种错误，& 和 nbsp; 之间没有空格。但是如果我摆脱那个分隔空间，这个网站就会把它变成一个空间。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2009-06-20T22:58:16.043

该`\S+`位是贪心的，并且会匹配尽可能多的非空格字符，**包括**`&nbsp;`可能存在的任何字符。将其更改为不贪婪的等价物`\S+?`，您可能会有更好的运气：

`/(https?:\/\/\S+?)(\s|&nbsp;|$)/g;`

*（更新是因为我忽略了尾随`?`。）*

# iphone - “无法读取符号”错误

> ID：1022747
> 
> 赞同：4
> 
> 时间：2009-06-20T22:54:58.547
> 
> 标签：iphone, xcode, console

当我在设备上“构建并运行”时，控制台显示：

```
warning: Unable to read symbols for ""/Users/Steve/Blue/build/Debug-iphoneos"/Blue.app/Blue" (file not found).
warning: Unable to read symbols for ""/Users/Steve/Blue/build/Debug-iphoneos"/Blue.app/Blue" (file not found). 
```

这是我应该担心的事情吗？如果是这样，我应该在哪里寻找问题的根源？该应用程序运行良好，但我只是担心这可能是 AppStore 批准问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2011-04-14T14:39:00.977

我知道这个线程非常古老，但我想分享对我有用的东西 - 希望它可以帮助将来阅读这篇文章的人。

这只是删除应用程序路径中的空格的问题。问题是，你看不到控制台中的空间在哪里——它在空间处将其切断。您将不得不手动查看该流氓空间的路径！

控制台可能会显示如下内容：

```
users/yourname/desktop/my/myapp.app/ 
```

当您的路径实际上看起来像这样时：

```
users/yourname/desktop/my app/myapp.app/ 
```

删除空格（或添加下划线）并使其：

```
users/yourname/desktop/my_app/myapp.app/ 
```

为我工作！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-07-07T17:44:34.240

这本身不是一个答案，但它可能会提供更多线索和额外的弹药。

我也收到了完全相同的警告 - 两次 - 并且仅适用于“Device - 3.0 | Debug”构建。使用模拟器时，不会出现此类警告。

在我的例子中，这条消息读起来像你的，在某种程度上表明某些东西被放在了太多的引号中：

> 警告：无法读取“/Users/jdandrea/path/to/MyApp/build/Debug-iphoneos”/MyApp.app/MyApp 的符号（找不到文件）。
> 
> 警告：无法读取“/Users/jdandrea/path/to/MyApp/build/Debug-iphoneos”/MyApp.app/MyApp 的符号（找不到文件）。

就好像在某个地方，“/Users/jdandrea/path/to/MyApp/build/Debug-iphoneos”带有明确的引号，但是在哪里？

此外，调试目标设置*确实*选中了“生成调试符号”。

另外，我有两个全局断点：[NSException raise] 和 objc_exception_throw。如果我禁用这些，我仍然会收到上述消息。再说一次，如果我*启用*它们，我（有时？）会得到这个：

> 警告：无法提升请求的 shlib 的负载状态：断点 1 的“libobjc.A.dylib”。
> 
> 警告：无法提升请求的 shlib 的负载状态：断点 2 的“CoreFoundation”。

这一切都被添加到一个股票 Cocoa Touch 应用程序中。我一直在查看目标设置和代码库，但我不确定有什么问题。即使是仪器和其他分析也没有抱怨泄漏。

（我提到关于断点的第二部分，如果它是相关的。如果不是，那么这是一个单独的问题。同样，它只在设备上调试时出现。）

简而言之，我也很困惑。希望这有助于为某人提供更多线索来帮助破案！

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2009-06-21T07:10:06.720

这似乎是对丢失文件的投诉。如果您还没有尝试过，您将需要清理项目（Shift-Command-K），然后再次构建它。尽管我怀疑 App Store 会因此拒绝您的应用程序，但发布带有构建警告的应用程序很少是最佳实践，因此您需要在提交之前解决此问题。

# cocoa - 调整窗口大小后保持绘图的边距

> ID：1022751
> 
> 赞同：0
> 
> 时间：2009-06-20T22:56:30.447
> 
> 标签：cocoa, math, graphics

我正在编写一个应用程序在另一个应用程序的窗口中绘制（这是在带有 Cocoa 的 OS X 下，但这个问题很笼统，我希望它不会被操作系统/框架问题所困扰），我遇到了一个看起来应该有一个简单答案的问题，但它让我绝对发疯。这是问题所在：

我在另一个应用程序的窗口内绘制了一个矩形，该矩形必须位于相对于窗口顶部和左侧的某个位置（即，我的矩形与目标窗口的顶部和左侧之间的边距必须保持固定）。我可以计算所需的相对 x,y 坐标占窗口大小的百分比，效果很好：矩形显示正确。但是，用户然后调整窗口大小，我可以通过使用基于新高度和宽度与旧高度和宽度之比的转换来正确调整矩形的大小，但是我失去了我的相对定位：矩形的坐标现在不正确（见图 - 这是问题的粗略模型）。

[图片 http://img30.imageshack.us/img30/5273/resizeexample.png](http://img30.imageshack.us/img30/5273/resizeexample.png)

现在，我不知道如何计算相对于窗口顶部和左侧的新 x,y 坐标。窗户不是方形的；它的调整大小受其他应用程序的限制，但纵横比宽度/高度会因某些未知函数而变化。当我以相对方式测量所需的 y 坐标时，当窗口调整大小时，百分比会发生变化。从数值上看，它看起来像这样：

调整大小前：
窗口大小：h=>760，w=>546
矩形原点：x=>355，y=>84（例如 84/546 = 高度的 15.3%）

调整大小后：
窗口大小：h=>1009，w => 717
矩形原点应该是：？（我可以将其测量为 x=>474,y=>99，但我无法*预测*这些值；现在 99/717 = 13.8% 的高度）。

我已经尝试了我能想到的两个窗口测量值的每个比率；我也遇到过平移到原点，缩放，然后平移回以避免缩放移动坐标的问题的想法 - 但我不知道在哪里翻译回来！这可能有一些简单的几何/三角函数解决方案，但无论我画了多少图表，我都没有想到。如果他们能在这里指出我正确的方向，我愿意接受有人指出这个问题的一些单线解决方案的不可避免的尴尬！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-06-20T23:03:10.277

如果您希望它是`left`左侧的`top`单位和顶部的单位，请尝试将原点设为：

> x：`left`
> 是的：`window.frame.size.height - rectangle.frame.size.height - top`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-21T08:03:02.290

对于后代：我真的不知道Apple（或其他任何人）如何做到这一点 - 老实说，我认为我试图与之交互的应用程序无论如何都没有考虑到这一点，因为它远非可访问。为了解决这个问题，我最终对一大堆不同的 (x,y) 对进行了采样，并构建了一个线性模型来预测任意坐标的正确坐标。有点像大锤，但这是我能想到的最好的。

# architecture - 我在哪里可以找到一个可以为成千上万的并发用户流式传输音乐的网站的系统架构？

> ID：1022756
> 
> 赞同：2
> 
> 时间：2009-06-20T22:57:34.313
> 
> 标签：architecture, scalability

有谁知道我在哪里可以找到一个网站的系统架构，该网站可以为成千上万的并发用户流式传输音乐并且还可以扩展。另外我更喜欢使用开源系统组件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-20T23:14:07.090

您可以从阅读流行的开源项目开始，例如 Darwin、[VideoLAN](http://www.videolan.org/)、[FFserver](http://www.ffmpeg.org/ffserver-doc.html)、Helix、[Catra Streaming Platform](http://www.catrasoftware.it/Streaming/CatraStreamingPlatform.htm)、[LScube](http://live.polito.it/)，当然还有[Icecast](http://www.icecast.org/)。HTH。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-21T17:05:01.803

我发现 Flickr 的架构师 Cal Henderson 所著的《[构建可扩展的网站：构建、扩展和优化下一代 Web 应用程序](https://rads.stackoverflow.com/amzn/click/com/0596102356)》一书很好地概述了与扩展站点有关的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-21T01:23:53.113

我会推荐[gstreamer](http://www.gstreamer.net/)。它有一个基于插件的架构，允许你只加载你需要的东西，但它可以很容易地适应未来的变化。您甚至可以使用它进行转码和过滤，但是对于数以千计的同时流，我会避免添加额外的处理。

# objective-c - NSOutlineView、NSTreeController 和 willDisplayCell

> ID：1022763
> 
> 赞同：1
> 
> 时间：2009-06-20T23:04:32.787
> 
> 标签：objective-c, cocoa, nsoutlineview, nstreecontroller

我对 Obj-C 和 Cocoa 的东西还很陌生，所以请原谅任何愚蠢。

我正在使用带有 NSTreeController 的 NSOutlineView，它为它提供了我自己的对象数组。我的委托人正在使用大纲视图的 willDisplayCell 来设置单元格的图标（我使用的是 NSBrowserCell）。不过，我终其一生都无法弄清楚如何在该实例中获取对象数据，以便检查要绘制的图像。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-21T00:46:05.967

我想到了。

你必须使用

```
[item representedObject]; 
```

# excel - Excel 公式给出#VALUE！移植到 Mac 时出错

> ID：1022766
> 
> 赞同：5
> 
> 时间：2009-06-20T23:06:24.733
> 
> 标签：excel, macos

我希望能够总结一个范围内具有非空值的单元格的数量。在运行 XP 和 Excel 的 PC 上，我输入`=SUM(IF(G$19:G$1034="",0,1))`并吐出正确答案。现在，运行 Excel 2004 for Mac 的 Mac 上的同一个电子表格给出了一个`#VALUE!`错误。关于为什么的任何想法？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2011-10-13T13:07:32.163

我意识到该帖子很久以前就已经发布了，但我最近经常遇到同样的问题 - 我似乎总是忘记解决方案：选择包含数组公式的单元格或单元格区域，按`CONTROL`+`U`编辑公式，然后按`⌘</kbd>+`RETURN`.`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-20T23:44:08.633

您需要将其作为数组（矩阵）公式输入。输入公式后，不要按回车键，而是按任意一个

`CMD`+ `SHIFT`+`ENTER`或 `CTRL`+ `SHIFT`+`ENTER`

其中 CMD 是苹果键。我不确定mac上的组合键是什么。但是您可以查看帮助文件。输入数组公式

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-06-20T23:20:39.820

它可能是控制分隔符的设置。那个“，”是一台机器上的分隔符和其他东西，例如“;” 是另一个分隔符。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-20T23:19:06.737

我不确定这是否是特定于 mac 的。我一直用

```
=COUNTA(G$19:G$1034) 
```

以此目的。

# c# - What is the difference in speed between the DLR languages and C# in Silverlight 2?

> ID：1022770
> 
> 赞同：0
> 
> 时间：2009-06-20T23:09:57.987
> 
> 标签：c#, silverlight, ironpython, silverlight-2.0, ironruby

For Silverlight 2, it looks like programming choices are:

*   C#
*   VB
*   DLR scripting languages
    *   IronRuby
    *   IronPython
    *   A sadly neglected (if not cancelled) Managed jScript

Is this a case where the native languages (C# and VB) are faster than the DLR languages by an order of magnitude or so?

Any hope of "living" in IronPython when I do Silverlight client programming, or should I expect to drop into C# for processor-intensive work?

My survey of languages comes from [this set of examples for C# and VB](http://silverlight.net/learn/tutorials.aspx) and [this page discussing the DLR](http://silverlight.net/learn/dynamiclanguages.aspx/).

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2009-06-21T00:29:55.127

Unfortunately there is no hard and fast answer to this question. Performance of even the same language varies greatly based on a number of parameters.

Yes, in **general** VB.Net and C# will be faster than DLR based languages. Static languages do more work at compile time such as method binding. This type of work must be done at runtime for DLR based languages and hence they have a bit more cost at runtime.

However, lots of work goes into optimizing the DLR and DLR based languages. Much of this work is mitigated by various caches and so forth. In many types of applications, the performance difference will be negligable.

I would not rule out a DLR based language based solely on performance unless a profiler told me it was actually a problem.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-06-22T23:51:33.587

Typically optimizing an algorithm will have a much greater effect than rewriting in a static language.

You might be interested in [Show #429](http://www.dotnetrocks.com/default.aspx?showNum=429) of .NET Rocks, an interview with Michael Foord. Here's a relevant excerpt from the [transcript](http://perseus.franklins.net/dotnetrocks_0429_michael_foord.pdf):

> Dynamic languages are a lot easier to test, they 're really suited for the Test Driven Development approach that the developers were taking at that time. But I assumed that for performance reasons, they would have to rewrite in C# at some point, and then three and a bit years later we got 40,000 lines of IronPython code, we've got about 140.000 lines in a test code, we've got some type of about 300 lines of C# and every time they come to look at the performance, every time they come and said locate an operation that's not working fast enough, we've been able to get the speed we need by improving our algorithms, by improving our Python code and not having to drop into C#, and the reasons programs run slow is usually not the fault of the language, it's the fault of the programmer, the developer.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-06-24T06:20:33.190

Also you could use Boo. Here is sample [Silverlight Tetris with boo](http://groups.google.com/group/boolang/browse_thread/thread/c25dd139c6ee3a0e/bf98ddc772d46004?lnk=gst&q=silverlight#bf98ddc772d46004)

# xml - 如何使用 XSLT 删除重复节点？

> ID：1022779
> 
> 赞同：1
> 
> 时间：2009-06-20T23:18:27.733
> 
> 标签：xml, xslt

如果系统发现重复，它应该完全消除两个节点。我有原始的xml：

```
<?xml version="1.0" encoding="utf-8"?>
<RESPONSE>
  <RECORD>
    <COUNTRY_ID>2111</COUNTRY_ID>
    <CITY id="2:">0</CITY>
    <LOCATION id="1:14404388">LA11CFTXX</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>2121</COUNTRY_ID>
    <CITY id="2:">0</CITY>
    <LOCATION id="1:14404388">LA11CFTXX</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>2211</COUNTRY_ID>
    <CITY id="2:">0</CITY>
    <LOCATION id="2:14048042">LAZ1129YY</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>2221</COUNTRY_ID>
    <CITY id="2:">0</CITY>
    <LOCATION id="2:14048042">LAZ1129YY</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>3111</COUNTRY_ID>
    <CITY id="3:">30</CITY>
    <LOCATION id="1:14404388">LA11CFTXX</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>3121</COUNTRY_ID>
    <CITY id="3:">30</CITY>
    <LOCATION id="1:14404388">LA11CFTXX</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>3211</COUNTRY_ID>
    <CITY id="3:">30</CITY>
    <LOCATION id="2:14048042">LAZ1129YY</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>3221</COUNTRY_ID>
    <CITY id="3:">30</CITY>
    <LOCATION id="2:14048042">LAZ1129YY</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>2111</COUNTRY_ID>
    <CITY id="2:">0</CITY>
    <LOCATION id="1:14404388">LA11CFTXX</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>2121</COUNTRY_ID>
    <CITY id="2:">0</CITY>
    <LOCATION id="1:14404388">LA11CFTXX</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>2211</COUNTRY_ID>
    <CITY id="2:">0</CITY>
    <LOCATION id="2:14048042">LAZ1129YY</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>2221</COUNTRY_ID>
    <CITY id="2:">0</CITY>
    <LOCATION id="2:14048042">LAZ1129YY</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>2311</COUNTRY_ID>
    <CITY id="2:">0</CITY>
    <LOCATION id="3:14048629">LAZ11B91AA</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>2321</COUNTRY_ID>
    <CITY id="2:">0</CITY>
    <LOCATION id="3:14048629">LAZ11B91AA</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>3111</COUNTRY_ID>
    <CITY id="3:">30</CITY>
    <LOCATION id="1:14404388">LA11CFTXX</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>3121</COUNTRY_ID>
    <CITY id="3:">30</CITY>
    <LOCATION id="1:14404388">LA11CFTXX</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>3211</COUNTRY_ID>
    <CITY id="3:">30</CITY>
    <LOCATION id="2:14048042">LAZ1129YY</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>3221</COUNTRY_ID>
    <CITY id="3:">30</CITY>
    <LOCATION id="2:14048042">LAZ1129YY</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>3311</COUNTRY_ID>
    <CITY id="3:">30</CITY>
    <LOCATION id="3:14048629">LAZ11B91AA</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>3321</COUNTRY_ID>
    <CITY id="3:">30</CITY>
    <LOCATION id="3:14048629">LAZ11B91AA</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>4111</COUNTRY_ID>
    <CITY id="4:">100</CITY>
    <LOCATION id="1:14404388">LA11CFTXX</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>4121</COUNTRY_ID>
    <CITY id="4:">100</CITY>
    <LOCATION id="1:14404388">LA11CFTXX</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>4211</COUNTRY_ID>
    <CITY id="4:">100</CITY>
    <LOCATION id="2:14048042">LAZ1129YY</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>4221</COUNTRY_ID>
    <CITY id="4:">100</CITY>
    <LOCATION id="2:14048042">LAZ1129YY</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>4311</COUNTRY_ID>
    <CITY id="4:">100</CITY>
    <LOCATION id="3:14048629">LAZ11B91AA</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>4321</COUNTRY_ID>
    <CITY id="4:">100</CITY>
    <LOCATION id="3:14048629">LAZ11B91AA</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
</RESPONSE> 
```

并且所需的输出应如下：

```
<?xml version="1.0" encoding="utf-8"?>
<RESPONSE>
<RECORD>
    <COUNTRY_ID>2311</COUNTRY_ID>
    <CITY id="2:">0</CITY>
    <LOCATION id="3:14048629">LAZ11B91AA</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
<RECORD>
    <COUNTRY_ID>2321</COUNTRY_ID>
    <CITY id="2:">0</CITY>
    <LOCATION id="3:14048629">LAZ11B91AA</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
<RECORD>
    <COUNTRY_ID>3311</COUNTRY_ID>
    <CITY id="3:">30</CITY>
    <LOCATION id="3:14048629">LAZ11B91AA</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>3321</COUNTRY_ID>
    <CITY id="3:">30</CITY>
    <LOCATION id="3:14048629">LAZ11B91AA</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>4111</COUNTRY_ID>
    <CITY id="4:">100</CITY>
    <LOCATION id="1:14404388">LA11CFTXX</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>4121</COUNTRY_ID>
    <CITY id="4:">100</CITY>
    <LOCATION id="1:14404388">LA11CFTXX</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>4211</COUNTRY_ID>
    <CITY id="4:">100</CITY>
    <LOCATION id="2:14048042">LAZ1129YY</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>4221</COUNTRY_ID>
    <CITY id="4:">100</CITY>
    <LOCATION id="2:14048042">LAZ1129YY</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>4311</COUNTRY_ID>
    <CITY id="4:">100</CITY>
    <LOCATION id="3:14048629">LAZ11B91AA</LOCATION>
    <REPID id="1:">1</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
  <RECORD>
    <COUNTRY_ID>4321</COUNTRY_ID>
    <CITY id="4:">100</CITY>
    <LOCATION id="3:14048629">LAZ11B91AA</LOCATION>
    <REPID id="2:">2</REPID>
    <FLIGHTID id="1:1091513">ALK</FLIGHTID>
  </RECORD>
</RESPONSE> 
```

我们可以写一个 xsl 来做到这一点吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-20T23:52:42.113

试试这个：

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

  <xsl:template match="/">
    <xsl:apply-templates select="RESPONSE"/>
  </xsl:template>

  <xsl:template match="RESPONSE">
    <RESPONSE>
      <xsl:apply-templates select="RECORD"/>
    </RESPONSE>
  </xsl:template>

  <xsl:template match="RECORD">
    <xsl:variable name="this" select="."/>
    <xsl:variable name="country" select="COUNTRY_ID/text()"/>
    <xsl:if test="not(../RECORD[COUNTRY_ID/text() = $country and generate-id($this) != generate-id(.)])">
      <xsl:copy-of select="."/>
    </xsl:if>
  </xsl:template>

</xsl:stylesheet> 
```

这一切都假设当您说“重复”时，您的意思是 COUNTRY_ID 具有相同的内容。我的 XSLT 似乎可以生成您想要的输出。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-21T00:07:58.290

此选择将为您提供重复的 COUNTRY_ID 时的集合。(> 1)

```
select="/RESPONSE/RECORD/COUNTRY_ID/*[count(.|key('x',name())[1])>1]"> 
```

使用该集合从您的选择中排除那些。

我没有进行测试，但它应该为您提供可以使用的设置。

# maven-2 - emma maven 插件代码高亮

> ID：1022794
> 
> 赞同：1
> 
> 时间：2009-06-20T23:29:44.343
> 
> 标签：maven-2, emma

是否可以让输出 html 报告突出显示 maven 构建中的代码覆盖位置？我知道你可以在独立的 emma 和 ant 中使用，但我还没有弄清楚如何使用 maven 和 emma 来做到这一点。谢谢。

杰夫

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-07-30T15:50:40.467

我不知道 Emma Maven 插件是否可以做到这一点，但这是[Cobertura Maven 插件](http://mojo.codehaus.org/cobertura-maven-plugin/)的默认行为。它还为您提供了一条线被击中的次数，这对于确定您的测试最少的地方很有用。有关输出示例，请参阅此[报告。](http://mojo.codehaus.org/cobertura-maven-plugin/sample-maven-shared-io-report/index.html)

我发现 Cobertura 和 Emma 在覆盖检查方面基本上可以互换，只是在我看来 Cobertura 有一个更好的 Maven 插件，而 Emma 有一个更好的 Eclipse 插件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2010-01-27T00:20:16.443

这是 EMMA 插件在运行`mvn emma:emma`或添加到`<reporting>`元素时的默认行为。您可以在这里找到一个工作示例：http: [//github.com/brettporter/centrepoint/blob/master/centrepoint/modules/pom.xml](http://github.com/brettporter/centrepoint/blob/master/centrepoint/modules/pom.xml)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-21T01:10:54.373

如果我没记错的话，您需要在标签上设置`sourcepath=`属性，并在 html 标签上`report`至少指定（？）覆盖率。`depth="method"`

# css - 垂直对齐浮动 div

> ID：1022795
> 
> 赞同：48
> 
> 时间：2009-06-20T23:30:24.980
> 
> 标签：css

我正在尝试浮动两个具有不同字体大小的 div。我找不到在同一基线上对齐文本的方法。这是我一直在尝试的：

```
<div id="header">
    <div id="left" style="float:left; font-size:40px;">BIG</div>
    <div id="right" style="float:right;">SMALL</div>
</div> 
```

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2009-06-20T23:36:32.737

好的，首先是纯 CSS 方式。您可以使用[相对+绝对定位](http://stopdesign.com/archive/2003/09/03/absolute.html)来垂直对齐底部，如下所示：

```
<div id="header">
  <div id="left">BIG</div>
  <div id="right">SMALL</div>
</div>
<style type="text/css">
html, body { margin: 0; padding: 0; }
#header { position: relative; height: 60px; }
#left { font-size: 40px; position: absolute; left: 0; bottom: 0; }
#right { position: absolute; right: 0; bottom: 0; }
</style> 
```

您可能对此有一些问题，例如 IE6 行为以及诸如菜单之类的 z-index 问题（上次我尝试这个时，我的菜单出现**在**绝对内容下）。

此外，根据是否所有元素都需要绝对定位，您可能需要开始做一些事情，例如明确指定包含元素的高度，这通常是不可取的。理想情况下，您希望容器为其子级自动调整大小。

问题是不同大小字体的基线将不匹配，我不知道这样做的“纯”CSS 方式。

但是，使用表格的解决方案是*微不足道*的：

```
<table id="header">
<tr>
  <td id="left">BIG</td>
  <td id="right">SMALL</td>
</tr>
</table>
<style type="text/css">
#header { width: 100%; }
#header td { vertical-align: baseline; }
#left { font-size: 40px; }
#right { text-align: right; }
</style> 
```

试试看，你会发现它工作得很好。

反表人群会尖叫蓝色谋杀，但以上是最简单，最兼容浏览器的方式（特别是如果需要 IE6 支持）这样做。

哦，总是更喜欢使用类来内联 CSS 样式。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2009-06-21T11:57:44.003

*编辑*只是重新阅读问题并看到一个框需要向右浮动......所以下面的内容不起作用......但可能会适应

首先，您应该使用跨度而不是 div，因为内容将内联以完成。我不知道原因的来龙去脉，但这意味着您的元素在浏览器中的表现会更友好一些。

完成此操作后，即使在 ie6 和 7 中，这也是一种享受：

```
#header {height:40px;line-height:40px;}
#left, #right {display:-moz-inline-stack;display:inline-block;vertical-align:baseline;width:auto;} /*double display property is fora  fix for ffx2 */
#left {font-size:30px;}
#right{font-size:20px;}

<div id="header">
  <span id="left">BIG</span>
  <span id="right">SMALL</span>
</div> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-06-21T11:58:50.660

您可以使用 line-height 执行此操作，但它仅适用于内联元素并且文本不换行。

```
<div id="header" style="overflow:hidden;">
    <span id="left" style="font-size:40px;">BIG</span>
    <span id="right" style="line-height:48px;">SMALL</span>
</div> 
```

我将其更改`div`为`span`. 如果你想保持`div`只是添加`display:inline`到你的风格。

```
<div id="header" style="overflow:hidden;">
    <div id="left" style="font-size:40px;display:inline;">BIG</div>
    <div id="right" style="line-height:48px;display:inline;">SMALL</div>
</div> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-20T23:50:41.447

Do you mean baseline in the typographic sense? (That is, each line of text is level with a corresponding line in the other column) If that's the case, the font sizes need to be multiples of each other -- for example, 12 and 18px (1:1.5).

If you mean the divs need to be the same height, there isn't an easy way to do this. You can manually set a height (height:100px;), or use javascript to adjust one as the other changes.

Or, you can fake the same height by enclosing the two divs in a container, and then applying a background style to the container that mimics the look of the columns, setting it to repeat vertically. That way, you get faux columns. For an in-depth look, see this [classic A List Apart article](http://www.alistapart.com/articles/fauxcolumns/).

Did you mean, you have two pieces of text, and both need to be at the bottom of the columns? (sorry, can't post an image yet)

One way you can do this is using the Faux Columns method above.

The other way is to set up the text in its own container inside the text. Then, position both absolutely at the bottom of the columns ... here's a long snippet:

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title></title>
        <style type="text/css" media="screen">

        .col { width:200px; float:left;  }
        .short { height:200px; background:#eee; margin-bottom:20px; }
        .long { background:#ddd; margin-bottom:100px; /* margin equal to height of #big */  }

        #container { overflow:hidden; width:400px; margin:0px auto; position:relative; border:1px solid green;}

        #big, #small { position:absolute; bottom:0px; width:200px; }
        #big { height:100px; background:red; }
        #small { height:20px; background:green; right:0px; }

        </style>
    </head>
    <body>

    <div id="container">
        <div class="col long">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
        </div>

        <div class="col short">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor
        </div>

        <div id="big" >BIG</div>

        <div id="small">small</div>

    </div>
    </body>
</html> 
```

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2009-06-20T23:34:25.487

如果在 HTML 中将右浮动 div 放在左浮动 div 之前，它们会垂直排列。

或者，您可以将两个 div 都向左浮动 - 这是完全有效的 - 以及大多数 CSS 设计的编码方式。

# crystal-reports - 如何操作水晶报表 X 中的数组？

> ID：1022798
> 
> 赞同：1
> 
> 时间：2009-06-20T23:32:47.190
> 
> 标签：crystal-reports

我正在阅读 G. Peck 的“Crystal Reports X - The complete reference”，以了解工作中的一个项目，我想知道如何在 Crystal Reports 公式中操作数组。我无法在书中轻易找到答案。

例如 - 我如何执行以下任何/所有操作：

-) 创建一个具有固定数量（比如 10 个）元素
的数组 -) 创建一个动态数组（其大小根据需要扩展）
-) 获取动态数组的大小
-) 从中间、开头和数组结束
-) 清空数组

学习 Crystal Formula 语言语法的最全面的资源/书籍是什么？

感谢您提供任何帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-06-21T00:17:56.990

看看这个链接是否有帮助 - [http://www.scribd.com/doc/6998296/Basic-vs-Crystal-Syntax](http://www.scribd.com/doc/6998296/Basic-vs-Crystal-Syntax)

在 VBScript 中，您可以这样做

1) dim tenItems(0 to 9)
2) redim preserve tenItems(0 to 12) - 不确定这是否适用于 CR 基本语法。
3) Ubound(tenItems) - 为您提供数组的上限 - 检查语法是否正确。
4）您必须编写代码才能做到这一点。我不认为VB支持那种数组。我不确定用于数组操作的 CR 公式。
5）不知道。

编辑：这里还有 1 个链接（水晶语法）。
[http://sfarea.org/JLum1105.ppt](http://sfarea.org/JLum1105.ppt)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-07-15T02:50:14.007

水晶报告语法：

1）创建一个具有固定数量（比如 10 个）元素的数组

```
//arrays in Crystal Reports are 1-based.  1000 elements maximum
Stringvar Array myArray[10]; 
```

2）创建一个动态数组（其大小根据需要扩展）

```
Redim Preserve myArray[Ubound(myArray)+1];
myArray[Ubound(myArray)]:="x"; 
```

3) 获取动态数组的大小

```
Ubound(myArray); 
```

4) 从数组的中间、开头和结尾添加和删除元素 您将需要手动操作数组。

5) 清空数组

```
Stringvar Array empty;
myArray:=empty; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-21T17:05:44.923

虽然 shahkalpesh 提供的链接非常有用（尤其是他引用的那个 powerpoint）——这里还有一个值得一提的资源（就在我的眼皮底下）：水晶报告应用程序附带的帮助文件。

它是水晶报表中公式语言的基本语法和水晶语法的绝佳资源。

# vim - 如何在尊重缩进的同时在 vim 中发表评论？

> ID：1022799
> 
> 赞同：4
> 
> 时间：2009-06-20T23:33:34.163
> 
> 标签：vim

我正在尝试在 vim 中进行映射以插入注释（例如，“#” - 带空格的框），同时尊重缩进。所以，不要像这样评论：

```
class MyFrame(wx.Frame):   
    def __init__(self, title, pos, size):   
#        wx.Frame.__init__(self, None, -1, title, pos, size)   
#        menuFile = wx.Menu() 
```

我想在这样的代码中插入“#”，

```
class MyFrame(wx.Frame):   
    def __init__(self, title, pos, size):   
        # wx.Frame.__init__(self, None, -1, title, pos, size)   
        # menuFile = wx.Menu() 
```

因此尊重缩进（可以是制表符或空格）。

我试图让它与 vim 的 0（零）命令一起工作，该命令可以让你到达行中的第一个字符，但一直无法。请帮忙。我将不胜感激所有的想法和实用的建议。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2009-06-20T23:34:25.767

尝试使用`^`命令而不是`0`. 或者，使用`I`命令在该行的第一个非空格字符之前插入。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2009-06-21T08:28:10.227

我建议直接使用[NERDcommenter 插件](http://www.vim.org/scripts/script.php?script_id=1218)。它根据源文件的语言和您想要的方式正确注释/取消注释。

只需按“正常”方式安装即可，即放入 ~/.vim/plugin 然后您可以使用 V 选择几行，然后按 ,cc 注释整个区域，按 ,cu 取消注释整个区域。

# api - 如何找到链接到特定长 URL 的缩短 URL？

> ID：1022803
> 
> 赞同：2
> 
> 时间：2009-06-20T23:35:53.580
> 
> 标签：api, url, bit.ly

这与通常的扩展短 URL 问题相反。

对于给定的长 URL，我如何找到链接到它的短 URL？

如果这需要通过缩短器的 API，那么支持此类查询的指针将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-06-21T00:49:38.050

简单的答案：将 URL 提交给您感兴趣的每个 URL 缩短器。

*   如果 URL 在您收到与其他提交您的 URL 的人返回的相同的短 URL 之前已被缩短。
*   否则，您现在有一个新的短 URL！这真的没有坏处。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-20T23:43:55.517

I do not think that there is a direct way to do this. For example, I could write my own URL shortener tomorrow - and since the shortURL->longURL mapping is private, on my server, I would need to provide you with a way to access that information.

So if you have control of the website, you *might* be able to glean information from looking at the server logs - the REFERER header, in specific.

I know that for bit.ly, it would be easy for you to shorten the URL there, and that would give you its corresponding shortURL. This same short url is used for anyone who uses bit.ly, unless someone has registered an account.

# c++ - 如何在等待时保持消息泵送？

> ID：1022808
> 
> 赞同：3
> 
> 时间：2009-06-20T23:38:48.507
> 
> 标签：c++, message-queue, wait, threadpool

我有一个基于消息泵线程池架构的应用程序。每当有可能阻塞的动作时，它都会被实现为“完成/触发 evnet 时的回调”动作，因此它不会停止正在执行的线程。

虽然这种技术适用于大多数情况，但在某些情况下它会变得非常不方便并且会使代码过于复杂。

我想做的是，在等待时以透明的方式继续处理事件，而不会将功能分解为等待前/等待后的部分。

我该怎么做？

我有两个选择：

1.  在等待时从正在执行的函数中运行消息循环。
2.  在等待时创建一个新的工作线程，并在恢复时（以适当的方式）终止它。

这两种选择都有其缺陷，仅举几例：

对于 1：

*   可能会导致堆栈溢出。
*   可能最终陷入僵局。
*   如果内部消息导致等待第二个事件完成，而外部事件同时完成，则外部函数在第二个事件完成之前无法继续，这种情况可能会扩大。

选项 2 最终会导致创建越来越多的线程。

当然，可能还有其他我没有想到的选择。

**编辑：**语言是 C++，所以函数不能以简单（便携？）的方式进出。平台是 Windows (API)，虽然我不认为它是相关的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-22T11:09:29.840

对于可移植的 C++，这是不行的，但是既然你提到你的平台是 Windows，为什么不使用[MsgWaitForMultipleObjects](http://msdn.microsoft.com/en-us/library/ms684242(VS.85).aspx)呢？它的目的是让你完全按照你的问题所说的去做——在等待的时候继续发送消息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-20T23:47:48.033

EDIT: You mention not wanting to "breaking the function up into pre/post waiting parts."

What language are you developing in? If it has continuations (`yield return` in C#) then that provides a way to write code that appears to be procedural but which can easily be paused until a blocking operation makes its completion callback.

Here's an article about the idea: [http://msdn.microsoft.com/en-us/magazine/cc546608.aspx](http://msdn.microsoft.com/en-us/magazine/cc546608.aspx)

**UPDATE:**

> Unfortunatly, the language is C++

That would make a great T-shirt slogan.

Okay, so you might find it helpful to structure your sequential code as a state-machine, so it becomes interrupt/resume-capable.

e.g. your pain is needing to write two functions, the one that initiates and the one that acts as the handler for the completion event:

```
void send_greeting(const std::string &msg)
{
    std::cout << "Sending the greeting" << std::endl;
    begin_sending_string_somehow(msg, greeting_sent_okay);
}

void greeting_sent_okay()
{
    std::cout << "Greeting has been sent successfully." << std::endl;
} 
```

Your idea was to wait:

```
void send_greeting(const std::string &msg)
{
    std::cout << "Sending the greeting" << std::endl;

    waiter w;
    begin_sending_string_somehow(msg, w);
    w.wait_for_completion();

    std::cout << "Greeting has been sent successfully." << std::endl;
} 
```

In that example, `waiter` overloads operator() so it can serve as a callback, and `wait_for_completion` somehow hangs up until it sees that the operator() has been called.

I'm assuming that `begin_sending_string_somehow`'s second parameter is a template parameter that can be any callable type accepting no parameters.

But as you say, this has drawbacks. Any time a thread is waiting like that, you've added another potential deadlock, and you are also consuming the "resource" of a whole thread and its stack, meaning that more threads will have to be created elsewhere to allow work to be done, which is contradictory to the whole point of a thread pool.

So instead, write a class:

```
class send_greeting
{
    int state_;
    std::string msg_;

public:
    send_greeting(const std::string &msg)
        : state_(0), msg_(msg) {}

    void operator()
    {
        switch (state_++)
        {
            case 0:
                std::cout << "Sending the greeting" << std::endl;
                begin_sending_string_somehow(msg, *this);
                break;

            case 1:
                std::cout << "Greeting has been sent successfully." 
                          << std::endl;
                break;
        }
    }
}; 
```

The class implements the function call operator `()`. Each time it is called, it executes the next step in the logic. (Of course, being such a trivial example, this now is mostly state management noise, but in a more complex example with four or five states it may help clarify the sequential nature of the code).

**Problems:**

*   If the event callback function signature has special parameters, you'll need to add another overload of `operator()` that stores the parameters in extra fields and then calls onto the parameterless overload. Then it starts to get messy because those fields will be accessible at compile-time in the initial state, even though they are not meaningful at runtime in that state.

*   How do objects of the class get constructed and deleted? The object has to survive until the operation completes or is abandoned... the central pitfall of C++. I'd recommend implementing a general scheme to manage it. Create a list of "things that will need to be deleted" and ensure that this happens automatically at certain safe points, i.e. try to get as close as possible to GC as you can. The further away you are from that, the more memory you will leak.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-23T17:01:21.690

您的问题是同步线程对吗？如果这是您的问题，为什么不使用互斥锁？它可以用一个接口包裹起来。事实上，您可以使用 PIMPL 习惯用法来使互斥锁可移植。

[http://msdn.microsoft.com/en-us/library/system.threading.mutex(VS.71).aspx](http://msdn.microsoft.com/en-us/library/system.threading.mutex(VS.71).aspx)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-22T10:51:32.077

看来您的问题是根本性的，与 C++ 无关。其他语言在隐藏堆栈使用方面可能更好，但只要你没有从 Foo() 返回，你就需要 Foo() 的调用堆栈。如果你也在执行 Bar()，那也需要一个调用栈。

线程是一种很好的方法，因为每个线程都有自己的调用堆栈。延续是保存调用堆栈的一种聪明但复杂的方法，因此在可用的情况下，它们也是一种选择。但是，如果您不想要这些，则必须使用一个调用堆栈。

使用一个调用堆栈需要解决重入问题。在这里，没有关于什么是可能的通用答案。通常，您将拥有一组由函数 F1...Fy 处理的消息 M1..Mx，并带有一些特定于应用程序和可能依赖于状态的映射。使用可重入消息循环，当您收到 Mj 时，您可能正在执行 Fi。现在的问题是该怎么做。并非所有函数 F1...Fn 都可以调用；特别是 Fi 本身可能无法调用。然而，一些其他功能也可能不可用，例如因为它们共享资源。这取决于应用程序。

如果 Mj 的处理需要任何这些不可用的功能，您必须推迟它。你能接受队列中的下一条消息吗？同样，这取决于实现，它甚至可能与消息类型和内容有关。如果消息足够独立，则可以乱序执行它们。这很快变得相当复杂 - 要确定是否可以接受队列中的第 N 条消息，您必须检查它是否可以相对于前面的 N-1 条消息乱序执行。

一种语言可以通过不隐藏依赖关系来帮助您，但最终您必须做出明确的决定。没有灵丹妙药。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-06-21T15:16:09.563

在不了解您的特定应用程序的更多信息（即处理消息需要多长时间等）的情况下，将会有很多挥手：

*   这是托管还是非托管 C++？

*   您使用的是哪个线程池？

    *   队列用户工作项？
    *   您自己的池通过 CreateIoCompletionPort？
    *   还是 Vista 的 SubmitThreadpoolWork？

我认为平台有点相关，因为线程池的性质很重要。

例如：

如果您将（[完成端口](http://msdn.microsoft.com/en-us/library/aa365198(VS.85).aspx)）用于您的线程池（即 CreateIoCompletionPort）。您可以控制并发运行的线程数（以及最终创建的总线程数）。如果您将最大并发线程数设置为 4。Windows 将尝试只允许 4 个线程同时运行。如果所有 4 个线程都忙于处理并且您将第 5 个项目排队，那么 Windows 将不允许该项目运行，直到 4 个线程之一完成（重用线程）。只有当线程被阻塞（即等待 I/O）时，这条规则被打破，然后更多的线程被允许运行。

这是了解完成端口的重要事项，以及为什么平台是相关的。如果不涉及内核，很难实现这样的事情。了解繁忙线程和阻塞线程之间的区别需要访问线程状态。完成端口对于进入内核的上下文切换数量也非常有效。

**回到你的问题：**

似乎您应该有一个线程来处理/发送消息，并且消息处理都是通过将工作人员推入线程池来处理的。让完成端口处理负载平衡和并发。您的消息处理循环永远不会阻塞并且可以继续处理消息。

如果传入消息的速率远远超出您处理它们的能力，那么您可能必须注意队列大小并在它变得太大时阻塞。

# javascript - 为什么我的事件处理程序中没有重置变量？

> ID：1022815
> 
> 赞同：0
> 
> 时间：2009-06-20T23:45:29.553
> 
> 标签：javascript, jquery, ajax, variables

这是我的代码：

```
$(document).ready(function () {
    var default_var = 2;
    var show_var = default_var;
    var total_var = 8;
    var increment_var = 2;

    var start_var = show_var+1;
    var end_var = show_var+increment_var;

    $("a[rel=more]").live("click", function(){

        $("#timeshare-listings li:last").after("<li class='ajax'></li>");
        $("#timeshare-listings li.ajax").load("http://www.goodbuytimeshare.com/listings/ajax/"+start_var+"/"+end_var+"/");
        $("#timeshare-listings li.ajax").removeClass("ajax");

        var show_var = end_var+1;

        return false;
    });
}); 
```

我第一次单击按钮时，它完全符合我的要求。不幸的是，由于某种原因，`show_var`它永远不会改变它的价值。为什么不？我该怎么做才能改变它？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2009-06-20T23:48:46.177

```
 ...
var show_var = default_var;
 ...

$("a[rel=more]").live("click", function(){
     ...
    // declares and initializes entirely new variable named show_var 
    // that will never be used again...
    var show_var = end_var+1;
     ...
}); 
```

您将`show_var`在处理程序中重新声明实时`click`事件。不要那样做 - 只需引用外部范围内的那个，它应该做你想要的......

```
 ...
var show_var = default_var;
 ...
$("a[rel=more]").live("click", function(){
    ...
    show_var = end_var+1; // update value in outer scope
    ...
}); 
```

# fonts - 代码演示的好字体？

> ID：1022816
> 
> 赞同：74
> 
> 时间：2009-06-20T23:46:02.577
> 
> 标签：fonts

关于编码的屏幕字体有几个很好的问题。

我正在整理一些主题演讲，其中将包含

*   代码片段

*   终端窗口的屏幕转储

通常的 Courier 显示器看起来有点累。

每种字体都有哪些好字体？我对终端窗口转储特别感兴趣，以确保它们清晰易读。或者我可以从终端窗口剪切和粘贴字符并应用一些格式使其看起来像屏幕转储？

我的主要目标是

*   在屏幕上和印刷轮廓中清晰易读

*   屏幕转储尤其应该清晰易读，但仍可识别为屏幕转储

*   证明我是一个视觉品味和精致的人，哈哈。

* * *

## 回答 #1

> 赞同：80
> 
> 时间：2009-06-20T23:52:44.810

我更喜欢[康索拉斯](http://www.microsoft.com/Downloads/details.aspx?familyid=22E69AE4-7E40-4807-8A86-B3D36FAB68D3&displaylang=en)。

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2009-06-20T23:50:53.410

如果您正在做演示，并且您不关心排队的任何事情，那么 Verdana 是一个不错的选择。

如果您要分发您的演示文稿，请使用您知道每个人的机器上都存在的字体，因为使用其他字体会导致机器回退到一种常见的字体（如 Arial 或 Times）。

如果您确实关心排队的事情，并且不分发演示文稿，请考虑 Consolas：

![替代文字](../Images/338e05241166a3b4ee5d9087a5d23088.png)

它非常清晰，让人想起 Verdana，并且是等宽的。当然，颜色的选择是一个品味问题。

* * *

## 回答 #3

> 赞同：28
> 
> 时间：2009-06-21T00:00:25.293

我做了很多这样的演示，并使用 Monaco 编写代码，使用 Chalkboard 编写文本（在一个模板中，总体而言，与 Keynote 提供的 Blackboard 相比只有很小的变化）。查看我的任何演示文稿的 PDF（例如[这个](http://www.aleax.it/yt_pydi.pdf)），您可以决定是否喜欢这种效果。

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2009-06-20T23:51:39.713

我个人非常喜欢[Inconsolata](http://www.levien.com/type/myfonts/inconsolata.html)

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2009-06-21T12:14:42.377

你想让人们专注于内容，并证明你是一个有品味和理智的人吗？留在快递。不要仅仅因为你可以创新（否则，为什么不为每个幻灯片转换制作精美的动画，用跳舞的字母......？）。

快递有几个优点：

1.  在低分辨率下具有出色的可读性。
2.  固定宽度保留缩进。
3.  衬线字体链接字母，使人们能够将单词和标识符作为一个整体来理解（格式塔感知）。非衬线字体只能用于标题。
4.  久经考验：人们会立即理解它的代码。

如果要转储点 4，至少选择保留点 1-3 的替代方案。永远不要让形式胜过功能。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2009-06-20T23:48:57.143

*   Lucida 控制台（不错，但有点短）
*   Lucida Sans 打字机（更高、更小的字符集）
*   [Andale Mono](http://www.fonts.com/findfonts/detail.asp?pid=206105)很清晰

但这之前已经在这里回答[过](https://stackoverflow.com/questions/4689/recommended-fonts-for-programming)了。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2009-06-21T12:24:12.840

~~我使用16 码的[DejaVu Sans Mono](http://dejavu-fonts.org/wiki/index.php?title=Main_Page)。~~

更新：我已经切换到 Envy Code R 进行编码和 Anonymous Pro 进行终端

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2009-06-21T12:17:02.607

我喜欢 Calibri。

# c# - 高级 Sql 生成选项窗口已禁用单选按钮

> ID：1022818
> 
> 赞同：0
> 
> 时间：2009-06-20T23:47:42.700
> 
> 标签：c#, asp.net, gridview

如果我打开 GridView 的*Smart Tasks*弹出窗口 --> *Configure Data Source*，然后在*选择你的数据连接*窗口之后，我会看到*Configure the Select Statement*窗口。此窗口还有*Advanced*按钮，用于打开*Advanced Sql Generations Options*窗口。但是该窗口中的两个单选按钮都淡出，因此我无法选择这两个按钮中的任何一个。

知道为什么禁用了两个单选按钮吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-21T00:06:51.723

显然，最常见的原因是作为 SELECT 语句的一部分的数据库中定义的表没有主键。

确保：

1.  您有一个在列列表中选择的主键列
2.  您的主键列没有默认值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-21T00:09:44.607

您是否为表设置了主键？

# iphone - 从 NSTableView 中的数组中删除对象

> ID：1022823
> 
> 赞同：0
> 
> 时间：2009-06-20T23:49:34.973
> 
> 标签：iphone, cocoa, cocoa-touch, nstableview

快一个。我忽略了一些东西...

我有一个从 NSDictionary 中的数组构建的分组表视图。每个数组都是表的一部分。当处于编辑模式并且用户单击“删除”时，我调用

```
- (void)removeObject:(MyClass *)myObject 
```

如何确定要发送消息的数组 [myArray removeObject:myObject]？NSDictionary 没有 indexOfObject: 方法，但 NSArray 有。我想我可以遍历每个数组以查找所述对象，但这似乎不对。

有人可以敲响我的大脑吗？！？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-06-20T23:52:04.627

您应该知道哪个 tableView 发送了消息（因为有问题的方法在该对象的委托中） - 因此您可以在 tableView 委托的 viewDidLoad 方法中创建数组，或者找出它基于哪一个委托上下文。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-21T00:30:07.917

我认为遍历数组没有任何明显错误。人们多久删除一次东西，字典真的大到足以使这成为一笔巨大的开销吗？

作为参考点，NSArray 的`indexOfObject:`方法没有比遍历数组寻找匹配对象更有趣的了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-21T06:13:28.300

您可以实现标准 UITableView 协议并使用此方法：

```
(void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle<br> forRowAtIndexPath:(NSIndexPath *)indexPath {
     <br><br>//check the section according to your array, if(indexPath.section ==....
     <br><br>
    if(editingStyle == UITableViewCellEditingStyleDelete) {
     <br>
    [arrayFoundBefore removeObjectAtIndex:indexPath.row];
    <br> 
    }
    <br>} 
```

我认为这是这样做的方法，但不确定。谁能澄清一下？

# c# - 获取符号之间的文本，正则表达式？

> ID：1022842
> 
> 赞同：1
> 
> 时间：2009-06-21T00:02:09.567
> 
> 标签：c#, asp.net, regex

我有一个问题，我想不出一种方法来找出符号之间的文本。

```
site.com/hello-world/my-page-title/ 
```

我只想获得我的页面标题？如何？谢谢你的帮助，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-21T00:17:41.873

只要 URI 以斜杠终止，此正则表达式始终为您提供第一个捕获组中的最后一个 URI 段

```
.+/(.+)/ 
```

如果斜线有时会错过，您可以使用

```
.+/(.+)/? 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-21T00:05:26.283

此正则表达式会将“my-page-title”放在第二组中：

```
^([^/]*/){2}([^/]*)/$ 
```

如果您总是想要最后一组，您可以使用：

```
^.*/([^/]*)/$ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-21T00:17:59.783

好吧，我不太擅长正则表达式，但标题返回 null？

```
string url = /hello-world/my-page-text/    
string title = Regex.Match(url, @"^*./([^/])/$").Groups[1].Value; 
```

它确实有效，* 是正则表达式代码中的错误

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-21T00:21:25.440

您可以使用正则表达式或 String.Split

```
 //Regex
        string s = "site.com/hello-world/my-page-title/";
        Match match = Regex.Match(s, "([^/]+)/$");
        string matchedString = match.Groups[1].Value;

        //Split
        string[] sections = s.Split(new char[]{'/'},StringSplitOptions.RemoveEmptyEntries);
        string lastSection = sections[sections.Length - 1]; 
```

# c# - 为什么使用 Fiddler 时 HttpWebRequest 对象的性能会提高？

> ID：1022844
> 
> 赞同：10
> 
> 时间：2009-06-21T00:03:33.603
> 
> 标签：c#, .net, fiddler

我在使用 HttpWebRequest 时遇到了一些非常奇怪的行为，希望有人可以帮助我。我有一个控制台应用程序，它通过使用 HttpWebRequest 对象来检索目标网站的内容来完成一些聚合工作。由于要求的性质，该应用程序是多线程的，并尝试建立 10 到 30 个同时连接（我一直在尝试一系列值）。实际的网络请求结构如下：

```
var req = (HttpWebRequest)WebRequest.Create(url);
WebResponse resp = req.GetResponse();
Stream s = resp.GetResponseStream();
var sr = new StreamReader(s, Encoding.ASCII);
string doc = sr.ReadToEnd();
sr.Close();
resp.Close();
return doc; 
```

无论如何，奇怪的行为是，在正常情况下，应用程序每分钟可以实现大约 120 个请求，但如果我打开 Fiddler，它会跳到大约 600 个。使用 Windows 7 资源监视器，我可以看到网络活动相应增加。控制台进程的 TCP 连接现在将远程地址列为“IPv4 环回”，而不是目标服务器 IP 地址（预期）。我确实想知道机器允许的同时 HTTP 请求的最大数量，但在注册表中更改它似乎并没有什么不同。

所以问题是；运行 Fiddler 是怎么回事，它突然将吞吐量提高了五倍，我怎样才能在机器上本地实现这一点而无需启动另一个工具？

谢谢！

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2009-06-21T02:18:36.250

看起来我现在已经能够通过在 App.config 中设置最大连接数来提高吞吐量（实际上是打开 Fiddler 时得到的两倍）：

```
<system.net>
  <connectionManagement>
    <add address="*" maxconnection="30" />
  </connectionManagement>
</system.net> 
```

对结果非常满意，但对于为什么打开 Fiddler 会如此显着地改变结果，我仍然有些困惑。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2009-06-21T00:26:10.483

我立即注意到的一件事是您没有使用块来实现。这增加了一个随机因素，可能会乘以请求的数量，所以我建议你解决这个问题：

```
var req = WebRequest.Create(url);
using (WebResponse resp = req.GetResponse())
{
    using (Stream s = resp.GetResponseStream())
    {
        using (var sr = new StreamReader(s, Encoding.ASCII))
        {
            return sr.ReadToEnd();
        }
    }
} 
```

接下来，仅供参考，Fiddler 充当代理。如果您的默认代理设置为使用脚本来设置代理配置，那么我想知道运行 Fiddler 是否可能不会消除执行脚本设置所需的时间。这可能只发生一次，而不是在每个请求上发生。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-10-23T20:04:40.793

我遇到了与您类似的问题，并想分享我的解决方案。

简而言之，我有一个控制台程序正在发出 HTTP 请求，并且会在 15 分钟左右后超时。但是，如果我使用 Fiddler，那么即使在连续运行了几天之后，我也从未遇到过超时。

我尝试在 App.config 中设置 maxconnections 属性，但这似乎根本没有帮助。然后，我进入了对 HttpWebRequest、HttpWebResponse 和用于在 using 块中读取/写入这些对象的数据的流对象的每一个引用。

这*似乎*成功了。我已经运行了将近 24 小时，没有超时，也没有运行 Fiddler。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2010-03-30T08:04:34.110

您查询的方式会导致为每个调用创建一个新会话，这是开销，可能是提琴手将会话添加到您的查询中......

尝试

私有静态 CookieContainer _cookieContainer = new CookieContainer();

_httpWebRequest.CookieContainer = _cookieContainer; //回收cookie容器

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2011-04-22T13:25:14.737

我们遇到了同样的问题，将您的 httpWebRequest.PreAuthenticate 设置为 true。

你不应该再有 401 响应，所以你会打开更少的连接......

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2011-12-09T17:56:41.580

我有同样的问题。我下载了这个： [http](http://www.wowinterface.com/downloads/info13581-LeatrixLatencyFix.html) ://www.wowinterface.com/downloads/info13581-LeatrixLatencyFix.html 这是HttpWebRequest性能的原因。它修改了 TCPAckFrequency 并完全搞砸了一切。我删除了它，现在它可以工作了。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-27T18:42:15.197

对我来说，我正在设置`request.ProtocolVersion = HttpVersion.Version10;`

默认设置为 HttpVersion.Version11。当我将其设置回默认值时，我的请求在没有提琴手的情况下变得更快。

我希望这对其他人有帮助，我花了整个上午才弄清楚这一点！

# iphone - What causes frame rate loss?

> ID：1022845
> 
> 赞同：2
> 
> 时间：2009-06-21T00:03:47.223
> 
> 标签：iphone, cocos2d-iphone, frame-rate

I'm writing a game with cocos2d and I have noticed that the frame rate drops as the game progresses. I've checked for leaks but everything looks fine so I'm at a loss as to what to do next. Sorry if this is a really basic question but what sort of factors cause frame rate loss?

The problem seems to get worse when I clear the sprites from a layer. Sometimes the framerate jumps back to 60 but occasionally it drops down to 30 or lower and never recovers. After a few minutes the animations are noticably slower and the game pretty much grinds to a halt. I'm not sure if this is specific to cocos2d or a common issue in game development, but it renders the game unplayable :(

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-21T03:16:57.877

您如何测试内存泄漏？在您完全确定之前，我认为您不应该将其排除为原因，因为这听起来像是经典的“内存泄漏行为”。

还要确保你没有像日志这样的东西，或者内存中的东西，每帧都在不断变大（我这么说是因为过去发生在我身上）。

还要确保你不会随着游戏的进行不断地加载新的对象和/或精灵。尝试将所有加载调用保留在逻辑的初始化部分中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-21T00:17:34.713

如果你添加更多的精灵，你的帧率将会下降，显然，因为它有更多的处理。

现在，我对 cocos2d 一无所知，但是当您“从图层中清除精灵”时，听起来好像除了存储它们现在隐藏的事实之外，它只是将它们隐藏在视图之外。

也许尝试使用更少的精灵？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-07-01T20:52:04.470

您是否在重复使用预加载的纹理？如果你不是，你应该。一次又一次地加载相同的纹理既慢又是泄漏。

此外，您是否发布了已完成的纹理？即使精灵消失了，纹理仍然存在。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-20T20:03:59.000

我最近遇到了一个涉及图形光栅化逐渐减慢的 Flash 问题，因此这里可能会发生类似的事情。当系统必须执行太多工作时，通常会出现减速。内存泄漏是显而易见的，因为内存的过度分配和碎片从来都不是好事，但考虑一下：

我发现我忘记在 Graphics 对象上调用“clear”，所以每次我重绘精灵的边框时，它都会绘制另一个圆角矩形，并且绘制命令是累积的。经过几十次交互后，它在自身上画了一百次填充的圆角矩形。着色器、代码等都占用了不到 1% 的渲染时间，但过度光栅化正在扼杀我的帧率。

所以我建议检查对象创建、忘记清除东西、绘制方法等。确保系统没有做不必要的工作或积累不必要的操作，而不仅仅是内存对象。

# java - 持有对活动线程的引用的对象的垃圾收集

> ID：1022849
> 
> 赞同：2
> 
> 时间：2009-06-21T00:06:01.757
> 
> 标签：java, multithreading, garbage-collection

我有一个包含对 2 个守护线程的引用的对象。我正在考虑未取消初始化的极端情况，因此我可以确定是否需要终结器。用于取消初始化的函数会停止线程。我可以继续添加一个终结器，但我很好奇：

1.  当上述线程处于活动状态时，对象可以被垃圾收集吗？

2.  如果它可以收集垃圾，线程会被中断吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-21T00:25:18.957

您不应该在完成时停止线程，因为**不**
应该使应用程序的行为依赖于垃圾收集。

 **垃圾收集是**非常**不确定的：

*   不同的JVM，
*   不同的JVM开关，
*   不同的操作系统，
*   不同的硬件架构，
*   不同的硬件细节（CPU、内核、内存）......

一切都会影响垃圾收集。

因此，只需重新考虑您的概念，并为我们提供更多信息，为什么应该停止线程以及何时停止。**

# asp.net - 奇怪的字符出现在 XML > ASP.NET > Javascript > HTML

> ID：1022851
> 
> 赞同：0
> 
> 时间：2009-06-21T00:07:18.400
> 
> 标签：asp.net, javascript, xml, vb.net

我有一个读取 xml 文件的脚本，然后生成一些 document.write javascript 行并将它们发送到请求。我得到了一个奇怪的角色（仅在 Internet Explorer 中显示，而不是在 firefox 中显示）。我似乎无法追踪它。

这是正在使用的脚本的 URL（在 IE 中有奇怪的字符）：[http ://www.voyagertravelguides.com/test.htm](http://www.voyagertravelguides.com/test.htm)

javascript 标记的来源是 .net 脚本所在的位置

有谁知道怎么回事？我已经尝试在脚本和元标记中使用 ISO-8859-1。我尝试在 .NET 脚本中替换 chr(194)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2009-07-27T04:28:28.287

如果您使用 WriteAllText 或 WriteAllLines 创建 xml 文件，如果您不指定编码方案，它可能会引入奇数字符。

例如，而不是

```
 File.WriteAllText(fName, sText) 
```

利用

```
 File.WriteAllText(fName, sText, System.Text.Encoding.Default) 
```

# javascript - jquery id 获得帮助

> ID：1022874
> 
> 赞同：-1
> 
> 时间：2009-06-21T00:27:18.860
> 
> 标签：javascript, jquery

我想将 id 放入此代码 nom 下方的颜色框中，但带有链接的页面是

```
$("#recent_activity").load("activity.php?id="+id+"&random=" +unique_requestid()); 
```

这就是它调用页面的方式，并且链接在该页面上。

```
var id = $.query.get('id');

$("a[href='write_comment.php?act=write&id="+id+"']").colorbox({width:"500", height:"350", iframe:true}); 
```

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-21T12:52:09.010

我不确定我是否完全理解你的问题，但如果你想要做的只是设置元素的 id，你可以使用[attr(key, value) 方法](http://docs.jquery.com/Attributes/attr#keyvalue)。例如：

```
foo.attr('id', id); 
```

这是你想要做的吗？

# eclipse - 如何说服 Eclipse 在 Ubuntu 9.04 下为 openjdk 显示 javadoc 文档？

> ID：1022877
> 
> 赞同：6
> 
> 时间：2009-06-21T00:31:17.433
> 
> 标签：eclipse, ubuntu, javadoc

我在这方面很难过！

我已将 java 文档安装在：

> 文件：///usr/share/doc/openjdk-6-jre/api/index.html

并且加载该文件确实向我显示了所有文档。

但是，当我将鼠标悬停在一个类上时，我想直接从 eclipse 中浏览它并查看文档。例如，当我将鼠标悬停在“javax.servlet.http.HttpServletRequest”上时，我想查看它的文档。我得到的是：

> 注意：此元素没有附加源，并且在附加的 Javadoc 中找不到 Javadoc。

任何人都可以帮助纠正我的开发环境吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2009-06-21T01:20:59.110

`javax.servlet.http.HttpServletRequest`不是 OpenJDK 的一部分，因此 OpenJDK 文档不会包含有关它的信息。

您需要安装[Servlet API](http://www.jcp.org/aboutJava/communityprocess/mrel/jsr154/)文档，然后在 Package Explorer 选项卡的 library 部分中，右键单击`servlet-api.jar`并选择 Properties。然后，您将能够为此选择一个 javadoc 位置。

或者，对于 Ubuntu 友好的解决方案，安装`libservlet2.5-java-doc`包，然后使用上述过程将 javadoc 添加到您的 Servlet API jar 文件中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2011-01-02T00:43:58.977

在属性下，您可以输入托管 servlet API 的 URL，例如：

[http://tomcat.apache.org/tomcat-5.5-doc/servletapi/](http://tomcat.apache.org/tomcat-5.5-doc/servletapi/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2010-05-22T14:47:43.180

当您将鼠标悬停在某个 Java 类上时，以下过程将使 Java 文档在 Eclipse 中可用。[从http://www.google.co.in/url?sa=t&source=web&ct=res&cd=4&ved=0CC0QFjAD&url=https%3A%2F%2Fcds.sun.com%](http://www.google.co.in/url?sa=t&source=web&ct=res&cd=4&ved=0CC0QFjAD&url=https%3A%2F%2Fcds.sun.com%2Fis-bin%2FINTERSHOP.enfinity%2FWFS%2FCDS-CDS_Developer-Site%2Fen_US%2F-%2FUSD%2FViewProductDetail-Start%3FProductRef%3Djdk-6u10-docs-oth-JPR%40CDS-CDS_Developer&ei=T-z3S87CAYuyNq3UweAF&usg=AFQjCNH54wkg50p7PJGmv6dEJd0zxXTGRA&sig2=Pv8-OZ7ZQEAsh89kUFhvUw)下载 Java 文档（适用于版本 6） [2Fis斌％2FINTERSHOP.enfinity％2FWFS％2FCDS-CDS_Developer站点％2Fen_US％2F-％2FUSD％2FViewProductDetail启动％3FProductRef％3Djdk-6u10中-文档-OTH-JPR％40CDS-CDS_Developer＆EI = T-z3S87CAYuyNq3UweAF＆USG = AFQjCNH54wkg50p7PJGmv6dEJd0zxXTGRA＆SIG2 = PV8 -OZ7ZQEash89kUFhvUw](http://www.google.co.in/url?sa=t&source=web&ct=res&cd=4&ved=0CC0QFjAD&url=https%3A%2F%2Fcds.sun.com%2Fis-bin%2FINTERSHOP.enfinity%2FWFS%2FCDS-CDS_Developer-Site%2Fen_US%2F-%2FUSD%2FViewProductDetail-Start%3FProductRef%3Djdk-6u10-docs-oth-JPR%40CDS-CDS_Developer&ei=T-z3S87CAYuyNq3UweAF&usg=AFQjCNH54wkg50p7PJGmv6dEJd0zxXTGRA&sig2=Pv8-OZ7ZQEAsh89kUFhvUw) 这是一个压缩文件 jdk-*-docs.zip（* 表示版本号，例如，6u18 表示 Java 版本 6.18）。打开 Eclipse。单击窗口 > 显示视图 > Javadoc 右键单击​​ Javadoc 控制台。选择打开输入。单击“更改附加源”。选择“外部文件”。导航到 jdk-*-docs.zip 所在的目录。打开它。有了它 - 整个文档触手可及（鼠标提示？）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2011-12-29T11:05:51.747

Eclipse 中的 Android 项目需要稍微不同的方法，您可以在**"Java Build Path"**中指定 JavaDoc 位置，而不是**"JavaDoc Location"**设置。在此处查看对我有用的答案：

[javadoc 的问题](https://stackoverflow.com/questions/4980002/problems-with-javadoc)

（当我删除旧的 Android SDK 文件夹时，JavaDoc 问题开始发生在我身上。）

# wcf - WCF服务登录失败未知用户名或密码错误

> ID：1022879
> 
> 赞同：1
> 
> 时间：2009-06-21T00:37:01.103
> 
> 标签：wcf, service, login

我是 WCF 服务的新手

我有 WCF 服务，我用它对共享驱动器进行文件操作。当我尝试写入/读取共享位置时，它会抛出一个异常，提示“登录失败未知用户名或密码错误”

我可以在运行良好的代码中进行文件操作，问题是我已将所有代码移至 WCF 服务，现在我得到了上述异常。

任何帮助将不胜感激

谢谢维诺德

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-21T04:06:31.267

如果当您说 WCF 服务时，您的意思是托管 WCF 服务的 Windows 服务。然后我会检查 Windows 服务的身份，如果名称和密码写入正确。

如果 WCF 服务托管在 IIS 中，则它可能是应用程序池的标识或充当 IIS 匿名帐户的帐户。

在上述两种情况下，也可能是调用 WCF 服务的方式，如果您使用的是 Windows 身份验证，请确保正确设置了身份。

根据您的评论，它看起来像是尝试访问文件的登录用户的凭据。同时文件在不同的磁盘上。我最好的猜测是您使用的用户帐户无权访问文件位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-21T14:58:10.253

Vinod，用于访问文件系统的帐户是 System.Security.Principal.WindowsIdentity.GetCurrent()，检查一下。如果您看到 ASPNET，那么您不会被冒充。

```
 <identity impersonate="true"/> 
```

无效，因为默认情况下 WCF 服务不使用 ASP.NET 的管道（因此您无权访问 HttpContext）。[如果这不是您想要的，请按照此处](http://msdn.microsoft.com/en-us/library/aa702682.aspx)所述打开 aspnet 兼容性。

> ASP.NET 模拟：默认情况下，WCF 请求始终作为 IIS 进程标识运行，即使 ASP.NET 设置为使用 System.Web 的配置选项启用模拟。

解决方案 ：

```
<system.serviceModel>        
    <serviceHostingEnvironment aspNetCompatibilityEnabled=”true” />    
</system.serviceModel> 
```

还有另一种模拟用户的方法（更好，因为它不依赖于 ASP.NET，所以如果您决定使用 Windows 服务而不是 ASP.NET，这不足为奇，但我还没有测试过），看看[这里](http://msdn.microsoft.com/en-us/library/ms730088.aspx)。

# java - 从另一个类访问变量

> ID：1022880
> 
> 赞同：33
> 
> 时间：2009-06-21T00:37:24.317
> 
> 标签：java, variables

非常简单的问题，但我做不到。我有 3 节课：

**`DrawCircle`班级**

```
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

class DrawCircle extends JPanel
{
    private int w, h, di, diBig, diSmall, maxRad, xSq, ySq, xPoint, yPoint;
    public DrawFrame d;

    public DrawCircle()
    {
        w = 400;
        h = 400;
        diBig = 300;
        diSmall = 10;
        maxRad = (diBig/2) - diSmall;
        xSq = 50;
        ySq = 50;
        xPoint = 200;
        yPoint = 200;
    }

    public void paintComponent(Graphics g)
    {
        super.paintComponent(g);
        g.setColor(Color.blue);
        g.drawOval(xSq, ySq, diBig, diBig);

        for(int y=ySq; y<ySq+diBig; y=y+diSmall*2)
        {
            for(int x=xSq; x<w-xSq; x=x+diSmall)
            {
                if(Math.sqrt(Math.pow(yPoint-y,2) + Math.pow(xPoint-x, 2))<= maxRad)
                    {
                        g.drawOval(x, y, diSmall, diSmall);
                    }               
            }
        }

        for(int y=ySq+10; y<ySq+diBig; y=y+diSmall*2)
        {
            for(int x=xSq+5; x<w-xSq; x=x+diSmall)
            {
                if(Math.sqrt(Math.pow(yPoint-y,2) + Math.pow(xPoint-x, 2))<= maxRad)
                {
                    g.drawOval(x, y, diSmall, diSmall);
                }   
            }
        }
    }
} 
```

**`DrawFrame`班级**

```
public class DrawFrame extends JFrame
{
    public DrawFrame()
    {
        int width = 400;
        int height = 400;

        setTitle("Frame");
        setSize(width, height);

        addWindowListener(new WindowAdapter()
        {
            public void windowClosing(WindowEvent e)
            {
                System.exit(0);
            }
        });

        Container contentPane = getContentPane();
        contentPane.add(new DrawCircle());
    }
} 
```

**`CircMain`班级**

```
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class CircMain 
{
    public static void main(String[] args)
    {
        JFrame frame = new DrawFrame();
        frame.show();
    }
} 
```

一个类创建一个框架，另一个类绘制一个圆圈并用较小的圆圈填充它。在`DrawFrame`我设置宽度和高度。在`DrawCircle`我需要访问的宽度和高度`DrawFrame`。我该怎么做呢？

我试过制作一个对象并尝试使用`.getWidth`但`.getHeight`无法让它工作。我在这里需要特定的代码，因为我尝试了很多东西但无法让它工作。我在声明宽度和高度错误`DrawFrame`吗？是否以错误的方式创建对象`DrawCircle`？

另外，我使用的变量`DrawCircle`，我应该在构造函数中使用它们吗？

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2009-06-21T00:44:55.300

您可以将变量设为公共字段：

```
 public int width;
  public int height;

  DrawFrame() {
    this.width = 400;
    this.height = 400;
  } 
```

然后，您可以像这样访问变量：

```
DrawFrame frame = new DrawFrame();
int theWidth = frame.width;
int theHeight = frame.height; 
```

然而，更好的解决方案是使变量私有字段向您的类添加两个访问器方法，从而将 DrawFrame 类中的数据保持封装：

```
 private int width;
 private int height;

 DrawFrame() {
    this.width = 400;
    this.height = 400;
 }

  public int getWidth() {
     return this.width;
  }

  public int getHeight() {
     return this.height;
  } 
```

然后你可以像这样得到宽度/高度：

```
 DrawFrame frame = new DrawFrame();
  int theWidth = frame.getWidth();
  int theHeight = frame.getHeight(); 
```

我强烈建议您使用后一种方法。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-13T19:40:02.090

我有同样的问题。为了修改来自不同类的变量，我让它们扩展了它们要修改的类。我还将超类的变量设为静态，因此它们可以被继承它们的任何东西更改。我还对它们进行了保护以获得更大的灵活性。

**资料来源：**糟糕的经历。良好的教训。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-06-21T01:29:01.123

> 我试过制作一个对象并尝试使用 .getWidth 和 .getHeight 但无法让它工作。

那是因为您没有在 JFrame 中设置宽度和高度字段，而是在局部变量上设置它们。字段 HEIGHT 和 WIDTH 继承自 ImageObserver

```
Fields inherited from interface java.awt.image.ImageObserver
ABORT, ALLBITS, ERROR, FRAMEBITS, HEIGHT, PROPERTIES, SOMEBITS, WIDTH 
```

见 [http://java.sun.com/javase/6/docs/api/javax/swing/JFrame.html](http://java.sun.com/javase/6/docs/api/javax/swing/JFrame.html)

如果宽度和高度表示框架的状态，那么您可以将它们重构为字段，并为它们编写 getter。

然后，您可以创建一个接收两个值作为参数的构造函数

```
public class DrawFrame extends JFrame {
 private int width;
 private int height;

 DrawFrame(int _width, int _height){

   this.width = _width;
   this.height = _height;

   //other stuff here
}
 public int getWidth(){}
 public int getHeight(){}

 //other methods
} 
```

如果宽度和高度将保持不变（创建后），那么您应该使用**final**修饰符。这样，一旦为它们分配了值，就无法对其进行修改。

> 另外，我在 DrawCircle 中使用的变量，我应该在构造函数中使用它们吗？

现在的写法，只允许你创建**一种类型的圆**。如果你不想创建不同的圆圈，你应该用一个带参数的构造函数重载）。

例如，如果你想改变属性 xPoint 和 yPoint，你可以有一个构造函数

```
public DrawCircle(int _xpoint, int _ypoint){
  //build circle here.
 } 
```

编辑：

```
Where does _width and _height come from? 
```

这些是构造函数的参数。当您调用 Constructor 方法时，您可以在它们上设置值。

> 在 DrawFrame 我设置宽度和高度。在 DrawCircle 中，我需要访问 DrawFrame 的宽度和高度。我该怎么做呢？

```
DrawFrame(){
   int width = 400;
   int height =400;

   /*
   * call DrawCircle constructor
   */
   content.pane(new DrawCircle(width,height));

   // other stuff

} 
```

现在，当 DrawCircle 构造函数执行时，它将接收您在 DrawFrame 中使用的值，分别为 _width 和 _height。

编辑：

尝试做

```
 DrawFrame frame = new DrawFrame();//constructor contains code on previous edit.
 frame.setPreferredSize(new Dimension(400,400)); 
```

[http://java.sun.com/docs/books/tutorial/uiswing/components/frame.html](http://java.sun.com/docs/books/tutorial/uiswing/components/frame.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-21T05:30:08.013

我希望我正确地理解了这个问题，但看起来你没有从 DrawCircle 对 DrawFrame 对象的引用。

尝试这个：

更改 DrawCircle 的构造函数签名以接收 DrawFrame 对象。在构造函数中，将类变量“d”设置为您刚刚接受的 DrawFrame 对象。现在将 getWidth/getHeight 方法添加到 DrawFrame，如前面的答案中所述。看看这是否能让你得到你正在寻找的东西。

您的 DrawCircle 构造函数应更改为：

```
public DrawCircle(DrawFrame frame)
{
    d = frame;
    w = 400;
    h = 400;
    diBig = 300;
    diSmall = 10;
    maxRad = (diBig/2) - diSmall;
    xSq = 50;
    ySq = 50;
    xPoint = 200;
    yPoint = 200;
} 
```

DrawFrame 中的最后一行代码应类似于：

```
contentPane.add(new DrawCircle(this)); 
```

然后，尝试在 DrawCircle 中使用 d.getheight()、d.getWidth() 等。当然，这假设您仍然可以在 DrawFrame 上使用这些方法来访问它们。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-06-21T04:17:11.910

如果您需要的是圆圈中框架的宽度和高度，为什么不将 DrawFrame 宽度和高度传递给 DrawCircle 构造函数：

```
public DrawCircle(int w, int h){
    this.w = w;
    this.h = h;
    diBig = 300;
    diSmall = 10;
    maxRad = (diBig/2) - diSmall;
    xSq = 50;
    ySq = 50;
    xPoint = 200;
    yPoint = 200;
} 
```

您还可以向 DrawCircle 添加几个新方法：

```
public void setWidth(int w) 
   this.w = w;

public void setHeight(int h)
   this.h = h; 
```

甚至：

```
public void setDimension(Dimension d) {
   w=d.width;
   h=d.height;
} 
```

如果您沿着这条路线走，您将需要更新 DrawFrame 以创建 DrawCircle 的本地 var 来调用这些方法。

**编辑：**

按照我的帖子顶部所述更改 DrawCircle 构造函数时，不要忘记将宽度和高度添加到对 DrawFrame 中的构造函数的调用中：

```
public class DrawFrame extends JFrame {
 public DrawFrame() {
    int width = 400;
    int height = 400;

    setTitle("Frame");
    setSize(width, height);

    addWindowListener(new WindowAdapter()
    {
            public void windowClosing(WindowEvent e)
            {
                    System.exit(0);
            }
    });

    Container contentPane = getContentPane();
    //pass in the width and height to the DrawCircle contstructor
    contentPane.add(new DrawCircle(width, height));
 }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-07-06T18:53:49.833

Java 内置库仅支持 AIFC、AIFF、AU、SND 和 WAVE 格式。这里我只讨论了仅使用 Clip 播放音频文件，并查看了 Clip 的各种方法。

1.  创建一个主类`PlayAudio.java`。
2.  创建助手类`Audio.java`。

**播放音频.java**

```
import java.io.IOException;
import java.util.Scanner;
import javax.sound.sampled.LineUnavailableException;
import javax.sound.sampled.UnsupportedAudioFileException;
public class PlayAudio {
public static void main(String[] args) throws 
UnsupportedAudioFileException, IOException, 
LineUnavailableException {

    PlayMp3 playMp3;
    playMp3=new PlayMp3();

    Scanner sc = new Scanner(System.in);

    while (true) {
        System.out.println("Enter Choice :-");
        System.out.println("1\. Play");
        System.out.println("2\. pause");
        System.out.println("3\. resume");
        System.out.println("4\. restart");
        System.out.println("5\. stop");

        System.out.println(PlayMp3.status);
        System.out.println(":::- ");
        int c = sc.nextInt();

        if (c ==5){

            playMp3.stop();
            break;
        }

        switch (c) {
            case 1:
                playMp3.play();
                break;
            case 2:
                playMp3.pause();
                break;
            case 3:
                playMp3.resume();
                break;
            case 4:
                playMp3.restart();
                break;
            case 5:
                playMp3.stop();
            default:
                System.out.println("Please Enter Valid Option :-");

        }
    }
    sc.close();
   }
} 
```

**音频.java**

```
import javax.sound.sampled.*;
import java.io.File;
import java.io.IOException;

public class Audio {

private String filePath="mp.snd";
public static String status="paused";
private Long currentFrame=0L;
private Clip clip;

private AudioInputStream audioInputStream;

public Audio() throws UnsupportedAudioFileException, IOException, LineUnavailableException {

    audioInputStream = AudioSystem.getAudioInputStream(new File(filePath));

    clip = AudioSystem.getClip();

    clip.open(audioInputStream);

}

public void play(){
    clip.start();
    status = "playing";
}

public void pause(){

    if (status.equals("paused")) {
        System.out.println("audio is already paused");
        return;
    }
    currentFrame = clip.getMicrosecondPosition();
    clip.stop();
    status = "paused";
}
public void resume() throws UnsupportedAudioFileException, IOException, LineUnavailableException {
    if (status.equals("play"))
    {
        System.out.println("Audio is already being playing");
        return;
    }
    clip.close();

    //starts again and goes to currentFrame
    resetAudioStream();
    clip.setMicrosecondPosition(currentFrame);
    play();
    status="playing";

}

public void restart() throws UnsupportedAudioFileException, IOException, LineUnavailableException {
    clip.stop();
    clip.close();
    resetAudioStream();
    currentFrame = 0L;
    clip.setMicrosecondPosition(0);
    play();
    status="Playing from start";
}

public void stop(){

    currentFrame = 0L;
    clip.stop();
    clip.close();
    status="stopped";
}

private void resetAudioStream() throws IOException, UnsupportedAudioFileException, LineUnavailableException {

    audioInputStream = AudioSystem.getAudioInputStream(new File(filePath).getAbsoluteFile());
    clip.open(audioInputStream);

   }

} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-08-01T07:30:48.940

文件名=url.java

```
public class url {

    public static final String BASEURL = "http://192.168.1.122/";

} 
```

如果你想调用变量，只需使用这个：

**url.BASEURL** + "你的代码在这里";

# open-source - 成为商业应用程序程序员的优秀开源项目？

> ID：1022883
> 
> 赞同：-3
> 
> 时间：2009-06-21T00:39:38.180
> 
> 标签：open-source

我在考虑 OpenOffice。如果我是一名商业应用程序程序员，你对开源项目有什么其他建议会比 OpenOffice 更好或更好吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-21T00:57:44.757

实际上，我认为 OpenOffice 并不是您真正想要的，它并不能真正代表大多数商业应用程序，这更像是一种办公自动化的东西，坦率地说，大多数企业只是购买它，而不是开发它。

您可能想要的是某种 CRM（客户关系管理）、POS（销售点）、HR 或财务类型的系统。

（谷歌搜索这些术语中的任何一个都会得到很多点击）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-21T00:57:05.133

[Kexi](http://www.kexi-project.org/)可能是一个很好的项目。有点类似于 OpenOffice Base，它努力成为 Microsoft Access 的替代品（我认为它正在用于整个商业世界的大大小小的内部项目。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-21T01:10:59.333

如果您的业务是金融服务，那么可能像[OFX](http://xml.coverpages.org/ofx.html)这样的东西会是您的理想选择。

或者也许有帮助交换病史数据的项目。那里有很多东西。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-21T01:24:18.090

您可以看看这个[ERP 软件包列表](http://en.wikipedia.org/wiki/List_of_ERP_software_packages)。
里面有一些开源的。

# objective-c - NSScanner - 将下一行扫描成字符串

> ID：1022884
> 
> 赞同：1
> 
> 时间：2009-06-21T00:39:43.420
> 
> 标签：objective-c, cocoa

我正在使用 NSScanner 来解析逗号和行分隔的数据。实现起来相当简单，但我遇到了一个非常简单的问题。我想在下一行扫描，即使它是空的。我现在遇到的问题是，如果有一个空行，它将跳过它并读取下一行。然后我的解析被关闭，因为错误的数据最终出现在错误的位置。这是我现在拥有的代码：

```
NSCharacterSet *setToIgnore = [NSCharacterSet characterSetWithCharactersInString:@",\r\n"];
[scanner setCharactersToBeSkipped:setToIgnore];

NSInteger levelID, campaignID;
NSString *title, *about, *gameBoard;
BOOL aTest = [scanner scanInteger:&levelID] && [scanner scanInteger:&campaignID];
aTest = [scanner scanUpToString:@"\r\n" intoString:&title];
aTest = [scanner scanUpToString:@"\r\n" intoString:&about];
aTest = [scanner scanUpToString:@"\r\n" intoString:&gameBoard]; 
```

所以数据的格式如下： int,int string string string

有时，第二个字符串 (about) 是空的，NSScanner 会跳过它并将 gameBoard 字符串读入 about。我如何告诉 NSScanner 读取下一行？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-21T10:22:17.330

解决方案 1：删除`setToIgnore`语句并手动扫描分隔符：

```
NSInteger levelID, campaignID;
NSString *title, *about, *gameBoard;
BOOL aTest = [scanner scanInteger:&levelID]

[scanner setScanLocation:[scanner scanLocation]+1]; // skip comma
aTest=[scanner scanInteger:&campaignID];
[scanner setScanLocation:[scanner scanLocation]+2]; // skip line break
aTest = [scanner scanUpToString:@"\r\n" intoString:&title];
[scanner setScanLocation:[scanner scanLocation]+2]; // skip line break
aTest = [scanner scanUpToString:@"\r\n" intoString:&about];
[scanner setScanLocation:[scanner scanLocation]+2]; // skip line break
aTest = [scanner scanUpToString:@"\r\n" intoString:&gameBoard];
[scanner setScanLocation:[scanner scanLocation]+2]; // skip line break 
```

解决方案 2：将整个批次替换为：

```
NSArray *lines=[file componentsSeparatedByString:@"\r\n"]; 
```

然后循环遍历并单独解析这些行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-21T03:41:21.247

不要忽视`\r`和`\n`。

# c# - 创建未定义长度的 c# 对象数组？

> ID：1022885
> 
> 赞同：16
> 
> 时间：2009-06-21T00:40:45.213
> 
> 标签：c#, arrays

我想在 C# 中创建一个未定义长度的对象数组，然后像这样在循环中填充数组......

```
 string[] splitWords = message.Split(new Char[] { ' ' });

    Word[] words = new Word[];
    int wordcount = 0;
    foreach (string word in splitWords)
    {
        if (word == "") continue;
        words[wordcount] = new Word(word);
        wordcount++;
    } 
```

但是，我收到错误...“数组创建必须具有数组大小或数组初始值设定项”

为了简洁起见，我在 foreach 循环中做了更多的逻辑。

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2009-06-21T00:43:45.363

你想要做的是创建：

```
List<Word> words = new List<Word>(); 
```

进而：

```
words.Add(new Word(word)); 
```

最后，如果您需要一个数组，则在循环完成时：

```
words.ToArray(); 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2009-06-21T00:44:06.843

如果您使用的是 C# 3.5，则可以执行以下操作。

```
var words = message
  .Split(new char[]{' '}) 
  .Where(x => x != "")
  .Select(x => new Word(x))
  .ToArray(); 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2009-06-21T00:44:04.647

您不能创建未定义长度的数组。这是您使用通用列表的地方。

```
List<Word> words = new List<Word>(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-06-21T03:05:16.357

一个友好的说明，您可以通过选项来拆分以忽略空条目。假设没有其他逻辑可以删除条目，您可以像这样预初始化数组：

```
string[] splitWords = message.Split(new Char[] {' '},
  StringSplitOptions.RemoveEmptyEntries);
Word[] words = new Word[splitWords.Length]; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-06-21T00:49:08.240

实际上，您可以先使用 list 填充您的单词，然后将其轻松转换为数组，如下所示：

```
string[] splitWords = message.Split(new Char[] { ' ' });

List<Word> words = new List<Word>();
int wordcount = 0;
foreach (string word in splitWords)
{
    if (word == "") continue;
    words.add(new Word(word));
    //wordcount++;
}

wordcount = words.count;
return words.ToArray(); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-05-30T09:44:23.890

我想知道为什么我们不能只使用一个字符串变量（比如`x`），初始化它并在其中检索逗号分隔的数据，然后使用`string[]`变量（比如`y[]`）并将其初始化为等于`x.Split(',')`而不必初始化一个空白数组，如下所示：

```
string x = string.Empty;
string msg = "hi,how,r,u,xyz";

void Page_Load(object sender, EventArgs e)
     x = msg;
     string[] y = msg.Split(','); 
```

我认为这应该可以根据需要工作，但我没有尝试运行它，所以我不确定。如果有人认为我的解决方案是错误的，请纠正我。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-07-29T04:31:38.470

您可以定义一个新列表并转换为数组...

```
var words = new List<Word>().ToArray(); 
```

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2009-06-21T00:45:50.977

我通过使用 ArrayList 解决了它，然后在迭代后将其转换为对象数组......

```
 string[] splitWords = message.Split(new Char[] {' '});
    ArrayList wordList = new ArrayList();
    int wordcount = 0;
    foreach (string word in splitWords)
{
        if (word == "") continue;
        Word newWord = new Word(word);
        wordList.Add(newWord);
        wordcount++;
}
    Word[] words = (Word[])wordList.ToArray(typeof(Word)); 
```

我听说整个“创建问题/答案只是为了为他人记录它”是可以接受的。另外，我想听听是否有更好的建议。谢谢。

# java - 是否可以在不同物理服务器上的 oracle 数据库和 postgresql 数据库之间使用数据库链接

> ID：1022887
> 
> 赞同：3
> 
> 时间：2009-06-21T00:42:06.070
> 
> 标签：java, sql, oracle, postgresql, dblink

我正在尝试简化一个 Intranet 应用程序，其中一些数据本地存储在 Intranet 服务器的 postgresql 数据库中，而其他相关数据存储在我们的企业 oracle 10g2r2 数据库中。

我想做的是在任一数据库框上创建一个视图，这并不重要，为了简单起见，将每个数据库中的一个表组合成两者的平面视图。这将允许我从 Intranet 应用程序中进行简单的查询。

目前，我必须将两个数据库中的数据提取到一个对象结构中，然后针对这些对象运行查找/搜索。我真的不喜欢这样做，并且希望能够创建一个视图。

如果这是不可能的，那么也许有一些关于处理这种情况的最佳方法的建议。

我的内网堆栈是 Linux、postgresql、tomcat (java)、apache。再次，oracle db 是 10gr2

蒂姆

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-06-21T08:13:18.463

从 Oracle 连接到 postgresql， http: [//download.oracle.com/docs/cd/B19306_01/server.102/b14232/toc.htm](http://download.oracle.com/docs/cd/B19306_01/server.102/b14232/toc.htm)，这个论坛也可以帮助：[http ://forums.oracle.com/forums /forum.jspa?forumID=63](http://forums.oracle.com/forums/forum.jspa?forumID=63)

# php - 有条件的 SimpleXML 可能吗？

> ID：1022891
> 
> 赞同：0
> 
> 时间：2009-06-21T00:43:55.050
> 
> 标签：php, html, xml, simplexml

我正在使用 SimpleXML 从 XML 文件中提取内容。

我想知道是否可以根据节点的内容显示某个节点，例如

```
<article>
    <title>PHP</title>
    <content>yada yada yada</content>
</article>

<article>
    <title>JAVASCRIPT</title>
    <content>yodo yodo yodo</content>
</article> 
```

SimpleXML 能否找到特定的标题，然后显示该标题的文章？

显示标题为“PHP”的文章。

我真的希望这是可能的。

感谢任何回复的人。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2009-06-21T01:10:36.900

您可以使用 XPath 表达式，例如`//article[title='PHP']/content`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-06-21T06:14:29.017

请参阅[PHP DevCenter](http://www.onlamp.com/pub/a/php/2004/01/15/simplexml.html)，这是一个示例：

```
$article_list = new SimpleXMLElement($article_xml);  
foreach ($article_list->xpath("//article[title='PHP']/content") as $content) { 
    print "$content\n";
} 
```

此外，如果您知道文章节点的确切位置，最好避免`//`在 XML 的所有级别中搜索的符号。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2009-06-21T00:57:54.990

```
$article_list = new SimpleXMLElement($article_xml);
foreach($article_list->article as $i => $article) {
    if('PHP' == $article->title) {
        //code to display article.
    }
} 
```

这是假设文章标签位于父元素中。

# .net - NHibernate SchemaExport 和 Configure() catch-22

> ID：1022894
> 
> 赞同：3
> 
> 时间：2009-06-21T00:44:38.107
> 
> 标签：.net, nhibernate, hbm2ddl, schemaexport

我想在一个新项目中使用[DDD](http://en.wikipedia.org/wiki/Domain-driven_design)并首先对我的类进行建模，然后根据类库生成数据库模式。我的计划是使用 NHibernate hbm2ddl 工具来做到这一点`SchemaExport`。

问题是我无法`SchemaExport`工作，因为它让我陷入了一个奇怪的 catch-22 问题。`SchemaExport`需要一个`Configuration`对象，该对象本身需要一个有效的 NHibernate 配置文件以及一组数据库映射。

这里的第 22 条问题是，当我执行 Configure() 时，它会抱怨`"Could not determine the name of the table for entity 'MyEntity'; remove the 'table' attribute or assign a value to it."`所以该`Configure()`方法需要表存在，而`SchemaExport`应该根据`Configuration`我无法创建的表来创建它，因为表不存在不存在。

那么，我到底应该如何创建一个有效的 NHibernate ，其中包含实际做一些有用的事情`Configuration`所需的映射，而不会抛出并抱怨它找不到要创建的表？是否有一个“模式”我可以设置对象，这样它就不会检查数据库是否存在给定的表，还是我需要做其他事情？`SchemaExport``Configure()``SchemaExport``Configuration`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2009-06-21T01:01:29.180

你可以发布你的配置文件吗？

我一直使用这种方法，没有表，并且能够动态生成模式。我的猜测是您的 .hbm 文件之一可能有问题。尝试将您的架构缩减为 1 个表，让它工作，然后从那里构建它。作为参考，这里是我用来生成 db 模式的代码：

```
 var cfg = new Configuration();
    cfg.Configure();
    var schema = new SchemaExport(cfg);
    schema.Create(true, true); 
```

这还将为您将脚本推送到控制台，因此您可以查看针对 db 生成的 SQL。

# ruby-on-rails - 这种不推荐使用的方法是如何工作的？

> ID：1022901
> 
> 赞同：8
> 
> 时间：2009-06-21T00:48:34.323
> 
> 标签：ruby-on-rails, ruby, activerecord, metaprogramming

我试图理解这个电话：

```
deprecate :new_record?, :new? 
```

它使用这种弃用的方法：

```
 def deprecate(old_method, new_method)
      class_eval <<-RUBY, __FILE__, __LINE__ + 1
        def #{old_method}(*args, &block)
          warn "\#{self.class}##{old_method} is deprecated," + 
                "use \#{self.class}##{new_method} instead"
          send(#{new_method.inspect}, *args, &block)
        end
      RUBY
    end 
```

我不太了解这里使用的元编程。但是，这只是别名`new_record?`方法的另一种方式吗？实际上，`new_record?`它仍然可用，但在您使用它时会发出警告？有人想解释一下这是如何工作的吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2009-06-21T01:01:50.477

好的，所以这里发生的事情是程序员将 old_method 的所有功能都移到了 new_method 中。为了使两个名称都指向相同的功能，但要注意弃用，程序员会插入`deprecate`一行。这会导致 <-RUBY heredoc ( [http://en.wikipedia.org/wiki/Heredoc](http://en.wikipedia.org/wiki/Heredoc) ) 中指定的字符串在类级别被解释为代码（已评估）。字符串插值的工作方式与普通 ruby​​ 字符串一样。

然后代码看起来像这样（如果我们要扩展元编程）

```
class SomeClass
  def new?; true; end

  deprecate :new_record?, :new? # this generates the following code

  def new_record?(*args, &block)
    warn "SomeClass#new_record? is deprecated," + 
            "use SomeClass#new? instead"
    send(:new?, *args, &block)
  end
end 
```

我希望这是有道理的

# iphone - 为了在 iPhone 应用程序中访问 SQLite DB，您需要什么扩展？

> ID：1022907
> 
> 赞同：0
> 
> 时间：2009-06-21T00:53:01.337
> 
> 标签：iphone, sqlite

我遇到的问题是，当使用“MyDB.sqlite”时，应用程序似乎没有正确读取数据库（根据 NSLogs 在这一行停止，而不是错误）：

```
if(sqlite3_prepare_v2(database, sqlStatement, -1, &compiledStatement, NULL) == SQLITE_OK) { 
```

而如果我将数据库重命名为“MyDB.sql”（注意缺少“ite”），它将很好地读取数据库。我是否以某种方式错误地导入了数据库？我使用了错误的库吗？我确实添加了 sqlite 框架并将其导入到头文件中，如下所示：

```
#import <sqlite3.h> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-21T01:03:19.800

听起来，至少在这种情况下，iPhone（或 SQLite）只支持文件名上的三个字符扩展名。那是破坏交易吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-21T01:07:28.997

我使用 sqlite 作为我的 db 文件的扩展名，所以应该没有任何问题。您为什么不提供更多详细信息，例如您实际提供文件路径的位置。很可能您只是在某处遗漏了一些小而烦人的细节。

# windows - 大尺寸日志文件的文本查看器

> ID：1022913
> 
> 赞同：1
> 
> 时间：2009-06-21T00:59:05.147
> 
> 标签：windows

我有一个应用程序来生成具有三个日志标志的日志文件（文本文件）：调试、警告和错误。调试标志用于记录有关应用程序执行的详细信息，例如对象值和状态。此标志的目的是用于调试和支持。

问题是如果标志打开，那么就有可能获得一个大的文本日志文件。上次我得到 1GB 大小的文件。使用记事本查看文件非常困难。不确定是否有任何文本文件查看工具（最好是开源的）来查看大尺寸文本文件？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-06-21T01:02:00.570

[Notepad++](http://notepad-plus.sourceforge.net/uk/site.htm)可以处理大文件。它有很好的正则表达式搜索功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-21T01:05:08.660

我不确定大小限制，但我经常使用 TextPad（它是免费的）来查看大量日志文件。如果你真的想要开源，我只会使用 VIM。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-06-21T01:08:57.730

[UltraEdit](http://www.ultraedit.com/support/tutorials_power_tips/ultraedit/large_file_handling.html)使用 64 位句柄，因此通过设置正确的选项没有真正的限制。根据我自己的经验，它在打开和浏览这些文件时保持真正的响应。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2009-06-21T01:03:23.013

[Textpad](http://www.textpad.com)是一个免费的文本查看器，用途非常广泛（正则表达式、超链接查找文件等），并且可以打开大文件。无论如何，我建议使用拆分实用程序将文件分成更小的部分，并在您选择的任何实用程序上使用 find-in-files 选项。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-08-05T23:00:07.513

怎么样是经典的，并[为 Windows 少花钱](http://gnuwin32.sourceforge.net/packages/less.htm)？
我不知道它对文本文件的分页有任何大小限制。
它是一个命令行工具，因此您需要了解或学习它的键盘快捷键（类似于 VI）。

# python - 部署 Django

> ID：1022914
> 
> 赞同：2
> 
> 时间：2009-06-21T01:00:04.097
> 
> 标签：python, ruby-on-rails, django

在为 Rails 应用程序寻找网络托管时，托管者必须支持 ruby​​ on rails ——这很明显。托管 Django 怎么样？托管方需要提供哪些支持？Python，还是不仅仅是 Python？

这似乎是一个显而易见的问题，但我是 web 开发框架的新手，所以我必须问:)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2009-06-21T01:04:55.273

它只需要支持 Python 2.3 或更高版本（但还不是 3.0），最好`mod_wsgi`支持（尽管如果需要，它也可以与[许多其他选项](http://code.djangoproject.com/wiki/ServerArrangements)一起使用）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-06-21T05:22:15.077

从技术上讲，正如其他响应者所说，主机只需要很少的东西（嘿，Django 甚至可以使用 Google 应用引擎运行，因为后者的所有限制！-）。但是如果你想要更多（比如，*支持*你可能遇到的任何问题！），我建议你也阅读[这个网站](http://djangohosting.org/)——它只需要你很短的时间，而且它可能会被证明是真的有用的信息。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2009-06-22T15:47:24.380

其他回复已经涵盖了技术问题，但还应该提到[djangofriendly.com](http://djangofriendly.com)是选择 Django 网络主机的宝贵资源。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2009-06-21T01:10:17.447

只需要 Python 即可。

我认为有一个 cPanel 插件允许您的用户创建和部署 Django 应用程序，因此如果您有 VPS 或经销商帐户，或者您的主机正在运行 cPanel，您可以简单地告诉他们安装它。如果我找到插件的链接，我会在这里发布。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2009-12-07T02:06:17.420

好吧，**如果您运行专用服务器，Python****并不是***唯一*需要的东西。

 **你需要（如果我遗漏了什么，请纠正我）：

*   将与您的 Django Web 应用程序通信的网络服务器，例如：带有 mod_wsgi 的 Apache。
*   数据库接口，例如 MySQL 或 PostgreSQL（仅提及一些流行的）。
*   Python。
*   （依赖项、库等）

您可能想阅读[本文](http://code.djangoproject.com/wiki/ServerArrangements)或[一些一般资源](http://code.djangoproject.com/wiki/DjangoResources#CheatSheetsandQuickStarts)

**如果您使用一些托管服务**，那么您可能需要找到声称能够运行 Django 的提供商；）**

# c# - e.Item.FindControl 抛出未设置为对象实例的对象引用

> ID：1022926
> 
> 赞同：1
> 
> 时间：2009-06-21T01:05:48.690
> 
> 标签：c#, asp.net, repeater, findcontrol

这是引发异常的Repeater代码部分......“Computer.Administrators”是StringCollection对象。调试器显示“AdminsEnumerator.Current”获取正确的字符串值，但是当“txtAdministrators.Text”尝试设置值时 - 抛出异常。请帮忙出出主意。

```
<asp:Repeater ID="repeatAdministrators" OnItemDataBound="repeatAdministrators_ItemDataBound" runat="server">
    <HeaderTemplate>
        <tr>
            <td class="formLabel">
                Administrators:
            </td>
            <td class="formInputText">
    </HeaderTemplate>
    <ItemTemplate>
        <asp:TextBox ID="txtAdministrators" runat="server" MaxLength="50" Enabled="False"></asp:TextBox><br />
    </ItemTemplate>
    <FooterTemplate>
        </td> </tr>
        <tr>
    </FooterTemplate>
</asp:Repeater> 
```

这是后面的代码。

```
 protected void btnPing_Click(object sender, EventArgs e)
    {
        //...

        repeatAdministrators.DataSource = Computer.Administrators;
        repeatAdministrators.DataBind();
    }

    protected void repeatAdministrators_ItemDataBound(object sender, RepeaterItemEventArgs e)
    {
        TextBox txtAdministrators = e.Item.FindControl("txtAdministrators") as TextBox;
        StringEnumerator AdminsEnumerator = Computer.Administrators.GetEnumerator();

        while (AdminsEnumerator.MoveNext())
        {
            txtAdministrators.Text = AdminsEnumerator.Current;
        }
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-21T01:07:45.410

您需要确保您不在标题项中：

```
if(e.Item.ItemType == ListItemType.Item || e.Item.ItemType == ListItemType.AlternatingItem)
{
} 
```

（对不起，这是从内存中获得的，但这应该在您的 ItemDataBound 方法中）

# javascript - Javascript/jQuery 字符串操作？

> ID：1022929
> 
> 赞同：1
> 
> 时间：2009-06-21T01:08:41.273
> 
> 标签：javascript, jquery, url, string

我正在尝试仅获取此 URL 的一部分或将部分字符串注入其中（以最简单的为准）。

这是网址：

```
http://www.goodbuytimeshare.com/listings/min:1000/max:150000/agreements:rent,buy/properties:apartment,condo,hotel,resort/show:4/ 
```

我想我要么需要能够将其计时到：

```
/listings/min:1000/max:150000/agreements:rent,buy/properties:apartment,condo,hotel,resort/ 
```

或者把它变成：

```
http://www.goodbuytimeshare.com/listings/ajax/min:1000/max:150000/agreements:rent,buy/properties:apartment,condo,hotel,resort/show:4/start:1/end:100/ 
```

（相同的 URL，但在“.com/”之后会添加“ajax/”）

其中哪一个会更简单？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-21T01:13:18.440

简单，使用正则表达式！

```
var myString = "http://www.goodbuytimeshare.com/listings/min:1000/max:150000/agreements:rent,buy/properties:apartment,condo,hotel,resort/show:4/";
var matches = (/^http:\/\/[a-zA-Z0-9\.]+(\/.+)$/).exec(myString);
var mySubString = matches[1]; 
```

虽然，[现在你有两个问题](http://regex.info/blog/2006-09-15/247)。;-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2009-06-21T02:23:03.307

这是非正则表达式解决方案。当然，正则表达式很简洁。

```
var original = "http://www.goodbuytimeshare.com/listings/min:1000/max:150000/agreements:rent,buy/properties:apartment,condo,hotel,resort/show:4/";

// split into an array of separate fields

var fields = original.split("/")

var results = "";

for (i=0;i < fields.length;i++) {
// Insert ajax/ in the fourth position

if (i == 3) {
   results += "ajax/";
}

results += fields[i] 

// don't put the slash on the last item

if (i < (fields.length -1)) {
   results += "/";
}
}

// write out the results and append more

document.write(results + "start:1/end:100/"); 
```

# iphone - 在协议方法之外更改 UITableViewCell

> ID：1022938
> 
> 赞同：0
> 
> 时间：2009-06-21T01:14:51.197
> 
> 标签：iphone, uitableview

UITableViewCell 通常使用 UITableViewDelegate 或 UITableViewDataSource 协议方法绘制，例如

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath 
```

但是我将如何在这些方法之外更改单元格？例如，如果我想使用同一屏幕上的按钮将 UITableViewCell 的 textLabel 颜色变为红色，我将如何引用该单元格并对其进行更改？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-21T07:23:02.870

如果我正确理解了您的问题，假设您知道要更改的单元格的行索引，您可以简单地让您的按钮使用以下方法：

```
- (UITableViewCell *)cellForRowAtIndexPath:(NSIndexPath *)indexPath 
```

...获取要编辑的 UITableViewCell ，然后使用该指针更改单元格的 textColor 属性等。

```
UITableViewCell *firstCell = [someTableView cellForRowAtIndexPath:0];
firstCell.textColor = [UIColor redColor]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-07-14T00:35:14.420

最简单的方法可能是有一个变量来存储您希望该行是什么颜色。

按下按钮时，将变量更改为新颜色，然后调用 [tableview reloadData]

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-07-14T00:28:03.920

您可以从 tableView:cellForRowAtIndexPath: 方法访问按钮吗？如果是这样，您可以使用 NSNotificationCenter 在按下按钮时发布通知，并从表格视图单元格（您必须对其进行子类化）侦听这些通知。

# asp.net - 查找 ASP.NET 标签错误的工具？

> ID：1022945
> 
> 赞同：1
> 
> 时间：2009-06-21T01:25:13.983
> 
> 标签：asp.net, testing, automated-tests

是否有可以通过 ASP.NET 站点运行并在任何页面上报告错误的工具？

我们正在工作中开始一个新的 Web 应用程序项目，我正在考虑上次使用它会很方便的东西。我正在寻找那些从服务器标签的缝隙中爬出来的小错误——比如：

*   控件的包含路径是复制/粘贴的受害者
*   一段逻辑受到页面生命周期变化的影响
*   重构没有到达 .as[c|p]x 页面

我知道一些设计模式旨在解决其中一些问题，但我对可能遇到的问题持现实态度。

我在找什么？

*   我可以指定 URL 列表（站点完成后约 30 页）。
*   我也可以记录点击所有页面的顺序。
*   必须能够处理表单身份验证
*   咆哮式通知+命令行执行会很棒。
    *   （希望将其作为构建后任务包含在内）

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-21T02:42:55.827

您应该检查 VS 是否设置为 XHTML 兼容。这可以从页面的 ASPX 视图中完成。不合规的项目将显示在警告或错误部分。

# flash - 联合平台：保护管理员密码

> ID：1022954
> 
> 赞同：0
> 
> 时间：2009-06-21T01:32:07.763
> 
> 标签：flash

对于 Union Platform，管理员密码存储在 XML 文件中。我知道我可以重命名文件并告诉 swf 从那个新位置读取它，但是如果有人要反编译它，他们不仅会像平常一样获得源代码，而且还会被授予管理员访问权限。我知道我可以尝试更改管理 SWF 文件名或运行 Union 服务器的端口，但这是一种非常不安全的方法。

由于管理员 swf 可以在他们的网站上免费下载，任何可以访问 Internet 的人如果找到我的 XML 文件，就可以破解我的程序。

由于Union平台可能有点晦涩难懂，[这里](http://www.unionplatform.com/?page_id=331 "联合平台网站")是网站。

我只会用密码保护 xml 文件所在的目录，但这不会有太大的好处，因为 flash 文件不知道如何输入密码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-21T08:36:22.163

您正在谈论的配置 XML 文件不会靠近您的 Web 内容。它位于 UNION_HOME 文件夹中，您可以在该文件夹中解压缩应用程序进行安装。有关更多信息，请参阅[此页面](http://www.unionplatform.com/?page_id=414)。

因此，SWF 不会访问该配置文件来检查密码。SWF 使用套接字连接连接到服务器，并且服务器应用程序知道如何检查 XML 文件。不存在安全问题。

# c - 在C中获取终端宽度？

> ID：1022957
> 
> 赞同：110
> 
> 时间：2009-06-21T01:35:44.073
> 
> 标签：c, linux, terminal, width

我一直在寻找一种从我的 C 程序中获取终端宽度的方法。我一直想出的是类似的东西：

```
#include <sys/ioctl.h>
#include <stdio.h>

int main (void)
{
    struct ttysize ts;
    ioctl(0, TIOCGSIZE, &ts);

    printf ("lines %d\n", ts.ts_lines);
    printf ("columns %d\n", ts.ts_cols);
} 
```

但每次我尝试得到

```
austin@:~$ gcc test.c -o test
test.c: In function ‘main’:
test.c:6: error: storage size of ‘ts’ isn’t known
test.c:7: error: ‘TIOCGSIZE’ undeclared (first use in this function)
test.c:7: error: (Each undeclared identifier is reported only once
test.c:7: error: for each function it appears in.) 
```

这是最好的方法，还是有更好的方法？如果不是，我怎样才能让它工作？

编辑：固定代码是

```
#include <sys/ioctl.h>
#include <stdio.h>

int main (void)
{
    struct winsize w;
    ioctl(0, TIOCGWINSZ, &w);

    printf ("lines %d\n", w.ws_row);
    printf ("columns %d\n", w.ws_col);
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：146
> 
> 时间：2009-06-21T01:40:34.640

您是否考虑过使用[getenv()](http://www.opengroup.org/onlinepubs/000095399/functions/getenv.html)？它允许您获取包含终端列和行的系统环境变量。

或者使用您的方法，如果您想查看内核看到的终端大小（如果终端调整大小更好），您将需要使用 TIOCGWINSZ，而不是您的 TIOCGSIZE，如下所示：

```
struct winsize w;
ioctl(STDOUT_FILENO, TIOCGWINSZ, &w); 
```

和完整的代码：

```
#include <sys/ioctl.h>
#include <stdio.h>
#include <unistd.h>

int main (int argc, char **argv)
{
    struct winsize w;
    ioctl(STDOUT_FILENO, TIOCGWINSZ, &w);

    printf ("lines %d\n", w.ws_row);
    printf ("columns %d\n", w.ws_col);
    return 0;  // make sure your main returns int
} 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2010-08-12T21:04:07.853

This example is a bit on the lengthy side, but I believe it's the most portable way of detecting the terminal dimensions. This also handles resize events.

As tim and rlbond suggests, I'm using ncurses. It guarantees a great improvement in terminal compatability as compared to reading environment variables directly.

```
#include <ncurses.h>
#include <string.h>
#include <signal.h>

// SIGWINCH is called when the window is resized.
void handle_winch(int sig){
  signal(SIGWINCH, SIG_IGN);

  // Reinitialize the window to update data structures.
  endwin();
  initscr();
  refresh();
  clear();

  char tmp[128];
  sprintf(tmp, "%dx%d", COLS, LINES);

  // Approximate the center
  int x = COLS / 2 - strlen(tmp) / 2;
  int y = LINES / 2 - 1;

  mvaddstr(y, x, tmp);
  refresh();

  signal(SIGWINCH, handle_winch);
}

int main(int argc, char *argv[]){
  initscr();
  // COLS/LINES are now set

  signal(SIGWINCH, handle_winch);

  while(getch() != 27){
    /* Nada */
  }

  endwin();

  return(0);
} 
```

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2009-06-21T02:14:16.960

```
#include <stdio.h>
#include <stdlib.h>
#include <termcap.h>
#include <error.h>

static char termbuf[2048];

int main(void)
{
    char *termtype = getenv("TERM");

    if (tgetent(termbuf, termtype) < 0) {
        error(EXIT_FAILURE, 0, "Could not access the termcap data base.\n");
    }

    int lines = tgetnum("li");
    int columns = tgetnum("co");
    printf("lines = %d; columns = %d.\n", lines, columns);
    return 0;
} 
```

Needs to be compiled with `-ltermcap` . There is a lot of other useful information you can get using termcap. Check the termcap manual using `info termcap` for more details.

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2009-06-21T01:42:44.963

If you have ncurses installed and are using it, you can use `getmaxyx()` to find the dimensions of the terminal.

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2020-01-31T05:58:25.733

To add a more complete answer, what I've found to work for me is to use @John_T's solution with some bits added in from [Rosetta Code](https://rosettacode.org/wiki/Terminal_control/Dimensions#Library:_BSD_libc), along with some troubleshooting figuring out dependencies. It might be a bit inefficient, but with smart programming you can make it work and not be opening your terminal file all the time.

```
#include <stdio.h>
#include <stdlib.h>
#include <sys/ioctl.h> // ioctl, TIOCGWINSZ
#include <err.h>       // err
#include <fcntl.h>     // open
#include <unistd.h>    // close
#include <termios.h>   // don't remember, but it's needed

size_t* get_screen_size()
{
  size_t* result = malloc(sizeof(size_t) * 2);
  if(!result) err(1, "Memory Error");

  struct winsize ws;
  int fd;

  fd = open("/dev/tty", 0_RDWR);
  if(fd < 0 || ioctl(fd, TIOCGWINSZ, &ws) < 0) err(8, "/dev/tty");

  result[0] = ws.ws_row;
  result[1] = ws.ws_col;

  close(fd);

  return result;
} 
```

If you make sure not to call it all but maybe every once in awhile you should be fine, it should even update when the user resizes the terminal window (because you're opening the file and reading it *every* time).

If you aren't using `TIOCGWINSZ` see the first answer on this form [https://www.linuxquestions.org/questions/programming-9/get-width-height-of-a-terminal-window-in-c-810739/](https://www.linuxquestions.org/questions/programming-9/get-width-height-of-a-terminal-window-in-c-810739/).

Oh, and don't forget to `free()` the `result`.

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2009-06-21T01:40:53.190

Assuming you are on Linux, I think you want to use the [ncurses](http://en.wikipedia.org/wiki/Ncurses) library instead. I am pretty sure the ttysize stuff you have is not in stdlib.

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2019-04-18T06:34:15.580

So not suggesting an answer here, but:

`linux-pc:~/scratch$ echo $LINES`

49

`linux-pc:~/scratch$ printenv | grep LINES`

`linux-pc:~/scratch$`

Ok, and I notice that if I resize the GNOME terminal, the LINES and COLUMNS variables follow that.

Kinda seems like GNOME terminal is creating these environment variables itself?

* * *

## 回答 #8

> 赞同：-3
> 
> 时间：2009-06-21T01:59:17.583

Here are the function calls for the already suggested environmental variable thing:

```
int lines = atoi(getenv("LINES"));
int columns = atoi(getenv("COLUMNS")); 
```

# c# - asp:Repeater - 如何使“StringEnumerator”移动到“ItemDataBound”中的下一项？

> ID：1022958
> 
> 赞同：0
> 
> 时间：2009-06-21T01:36:01.233
> 
> 标签：c#, asp.net, repeater, itemdatabound

这是中继器代码的快照。我在获取所有值时遇到问题。结果我的“中继器”只打印集合中的第一个元素。

```
 <asp:Repeater ID="repeatAdministrators" OnItemDataBound="repeatAdministrators_ItemDataBound" runat="server">
            <HeaderTemplate>
                <tr>
                    <td class="formLabel">
                        Administrators:
                    </td>
                    <td class="formInputText">
            </HeaderTemplate>
            <ItemTemplate>
                <asp:TextBox ID="txtAdministrators" runat="server" MaxLength="50" Enabled="False"></asp:TextBox><br />
            </ItemTemplate>
            <FooterTemplate>
                </td> </tr>
                <tr>
            </FooterTemplate>
        </asp:Repeater> 
```

这里是我想更改集合中读取索引的代码。`AdminsEnumerator.MoveNext();`没有按我的预期工作。添加类似的东西`int t; i++; StringCollection[i]`很烦人。有更简单的解决方案吗？

```
 protected void repeatAdministrators_ItemDataBound(object sender, RepeaterItemEventArgs e)
    {
        if (e.Item.ItemType == ListItemType.Item || e.Item.ItemType == ListItemType.AlternatingItem)
        {
            TextBox txtAdministrators = e.Item.FindControl("txtAdministrators") as TextBox;
            StringEnumerator AdminsEnumerator = Computer.Administrators.GetEnumerator();

            AdminsEnumerator.MoveNext();
            txtAdministrators.Text = AdminsEnumerator.Current;
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-21T02:24:07.190

您的代码将无法工作，因为您将为每个数据绑定的项目获取一个新的枚举器，并从头开始。试试这个：

中继器项目模板：

```
<ItemTemplate>
    <asp:TextBox ID="txtAdministrators" runat="server" Text="<%#Container.DataItem %>"></asp:TextBox>
</ItemTemplate> 
```

代码（Page_Load）：

```
StringCollection administrators = new StringCollection();
administrators.AddRange(new string[] { "Bob", "Bill", "Frank" });
repeatAdministrators.DataSource = administrators;            
repeatAdministrators.DataBind(); 
```

# apache-flex - 如何在 flex 中本地化验证器消息？

> ID：1022959
> 
> 赞同：2
> 
> 时间：2009-06-21T01:38:34.100
> 
> 标签：apache-flex, internationalization

我正在开发一个 flex 3 应用程序，它最初只支持一种语言（不是英语），但以后可能需要支持英语和其他语言。所以我使用标准的本地化技术和资源包。现在，我在某个地方使用了像 EmailValidator 这样的验证器，它显示了一些错误消息，这些是英文的，并且带有 flex sdk。如何本地化这些消息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2009-06-21T02:11:33.487

既然我已经找到了答案，我会在这里发布，以防没有人提出更好的解决方案。[这篇博](http://www.chikaradev.com/blog/?p=17)文描述了如何本地化 flex 框架资源包。简而言之：

1.  复制英文资源包并将目录重命名为您需要的语言环境
2.  将它们编译为 swc

我遇到的问题是我必须为同一个项目保留两棵源代码树，一棵用于项目，另一棵用于资源包。

如果其他人有更好的解决方案，我会留下这个问题。

更新：事实证明，您可以将 flex 框架的英语语言环境中的 validators.properties 文件复制到您的项目中的其他语言环境属性所在的同一文件夹中，然后将其翻译到那里。这将覆盖框架语言环境中的属性。

# java - Eclipse 插件在 Eclipse 之外重用

> ID：1022966
> 
> 赞同：7
> 
> 时间：2009-06-21T01:45:04.773
> 
> 标签：java, eclipse, plugins

是否可以在 Eclipse 之外运行 Eclipse 插件？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-06-21T02:23:35.270

不是真的，因为您需要 Equinox 运行时容器。您可以使用 eclipse 可执行文件运行插件，作为应用程序，请参阅：

[http://wiki.eclipse.org/FAQ_How_do_I_create_an_application%3F](http://wiki.eclipse.org/FAQ_How_do_I_create_an_application%3F)

您正在有效地创建一个`org.eclipse.core.runtime.applications`扩展点。

您还可以将插件发布为 Eclipse 应用程序的一部分，然后将其导出为可执行文件，以便它可以在 Eclipse 之外运行。不过，这仍然将 Equinox 运行时和插件捆绑在一起。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-06-22T13:45:34.347

归根结底，插件仍然是 java 代码。您的插件是否在 Eclipse 之外运行取决于它的依赖关系。如果您的包更面向 OSGi，您可能可以在其他框架上运行，例如[Felix](http://felix.apache.org/site/index.html)。

如果你小心，你可以完全在 OSGi 之外运行。例如，Equinox Registry 可以在 OSGi 之外独立运行。（请参阅[此测试页面](http://wiki.eclipse.org/Equinox_Testing_-_3.3#Extension_Registry)，“第四部分。独立注册表运行”）

# oop - Getter 和 Setter：代码气味、必要的邪恶或没有它们就活不下去

> ID：1022970
> 
> 赞同：10
> 
> 时间：2009-06-21T01:49:57.693
> 
> 标签：oop

> **可能重复：**
> [Allen Holub 写了“你永远不应该使用 get/set 函数”，对吗？](https://stackoverflow.com/questions/996179/allen-holub-wrote-you-should-never-use-get-set-functions-is-he-correct)

是否有一个很好的，不，一个*很好*的理由来解决在面向对象语言中使用 getter 和 setter 的所有麻烦？仅使用对属性或方法的直接引用有什么问题？是否存在人们不想在礼貌的公司中谈论的某种“语义掩盖”？当有人走出来说“你应该编写大量的代码来获得 Getter 和 Setter”时，我是不是太累了，睡着了？

* * *

一年后的跟进：

这似乎在 Java 中很常见，而在 Python 中则较少。 [我开始怀疑这是否更像是一种文化现象（与语言的限制有关）而不是“圣人建议”。](http://cafe.elharo.com/programming/java-is-dead-long-live-python/) 因为我没有用 Java 编程（目前是选择），所以我无法做出这样的评估。

就我而言，当前（截至撰写本文时为 2010-03-22）-1 问题得分对于 lulz 来说是完整的。有趣的是，有些特定问题被否决了，不是因为它们是“坏问题”，而是因为它们触动了某人的*神经*。

因此，让我们来看看问题的本质。我再重复一遍：

`What's wrong with just using a direct reference to a property or method?`

这是不成文的推论：

`Are we so undisciplined as programmers that we can't keep our hands off of things that are clearly marked "no touchy"?`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-06-21T01:58:28.303

这里是[关于此事](http://www.javaworld.com/javaworld/jw-01-2004/jw-0102-toolbox.html?page=1)的 Allen Holub（他很聪明） 。[他在Holub on Patterns](https://rads.stackoverflow.com/amzn/click/com/159059388X)中更详细地介绍了这个主题。有些事情需要像序列化这样的公共 getter 和 setter 以及像[Data Transfer Object 模式这样的模式](http://msdn.microsoft.com/en-us/library/ms978717.aspx)。一般来说，我认为必要的邪恶，因为当你不使用它们时你的应用程序变得复杂。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2009-06-21T01:59:59.703

Getter 和 Setter 对类的用户隐藏你的类数据细节。

在许多情况下，它们并没有得到充分利用，但使用它们总是一个好主意。直接访问您的对象数据可减少封装。

如果您不使用 getter 和 setter，那么当您改变对数据成员的想法时，您会破坏类接口，并且必须更改代码库的其余部分以符合更改。在某些情况下，您的类代表公共 API 的一部分，这甚至是不可能的。如果您将属性包装在 getter 和 setter 中，您可以进行这些更改，并通过修改 getter 和 setter 方法来隐藏它们以防止使用代码。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-06-21T01:52:50.747

保护。有些属性/方法不应该在没有类的情况下被调用......永远。我相信你有唯一的权力告诉任何人你的社会安全号码，对吧？他们要问你（getter）？当然，您不会建议我们允许人们在我们自己的生活中直接访问私人数据/方法……为什么要区别对待您的应用程序？:)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-06-21T01:55:36.107

我发现它有用的一种方法是能够在集合上设置断点（比 get 更重要）。这可能意味着“我的编码错误”，但至少我可以准确地找出它何时发生变化。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2009-06-21T02:09:23.973

Getter 和 Setter 是实现[Open/Close 原则](http://www.eventhelix.com/RealtimeMantra/Object_Oriented/open_closed_principle.htm)的一个方面。如果您将所有功能封装在适当的属性后面，那么使用您的属性的代码将不会中断。它还使得将来可以用其他东西完全替换该对象 - 特别是如果您对接口而不是类进行编码。

它们非常重要，以至于 C# 竭尽全力使基本的 getter 和 setter 易于编写。

要进一步了解 OOD 的某些方面为何如此重要，请阅读Scott Bain的《[紧急设计》一书。](http://www.netobjectives.com/resources/books/emergent-design)

# c# - 相比严格的 OO 语言，您更喜欢 Python 的哪些应用程序或问题？

> ID：1022971
> 
> 赞同：4
> 
> 时间：2009-06-21T01:50:07.727
> 
> 标签：c#, java, c++, python, programming-languages

我在 C 风格的语言方面有很强的背景。并参与过多种不同类型的项目。[在阅读了Programming Collective Intelligence](http://oreilly.com/catalog/9780596529321/)之后，我刚刚开始认真研究 Python 。我知道 Python 可以解决 C# 可以解决的任何问题，反之亦然。但是我很想知道那些经常使用这两种方法的人，当他们选择一种而不是另一种时。去除其他因素，如同事经验等。

你什么时候选择用 Python 来创建应用程序，而不是像 C# 或 Java 这样的静态类型的纯 OO 语言？

## 编辑：

我担心我们会在这个问题上跑题。Python 是一种面向对象的语言。但是，如下所述，当您的应用程序将具有非常繁重的业务领域等时，它可能不是首选语言。我知道 Python 广泛使用对象，甚至函数也是对象，这在所有情况下都不是真的我之前提到的“OO”语言。

尽管我在问题中选择的单词很糟糕（几乎没有一种语言可以很好地适应两个或三个单词的描述，而且很难指出语言之间的差异，而不会显得你在与某一类开发人员交谈。），当你更喜欢 Python 而不是其他语言时，我仍然对你所说的话非常感兴趣。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2009-06-21T03:16:41.577

我的座右铭是（并且一直是）“我能用 Python，必须用 C++”（总有一天我会找到机会在一个真实世界的项目中实际使用 Java、C#、&c &C，但我还没有然而，除了 Java 1.1 中的一个试点项目，十多年前...;-) -- 代码必须在客户端浏览器中运行时使用 Javascript（使用 dojo），而当必须在数据库服务器中运行时使用 SQL ，当然，但是 C++ 和 Python 是我在我开发的“普通”服务器和客户端上的日常面包，在我工作了 4 年多的 Google 的所有部分都是这种情况（有很多部分使用 Java，同样，我只是从未碰巧在那里工作过；-)。嗯，当我在处理 Python 核心和相关扩展时，当然还有纯 C 语言；-)。

Python 和 C++ 都不是“严格的 OO”——它们是多范式的，其中很大一部分优势掌握在精通 OO*和*其他范式（例如函数式、泛型、声明式、等等。我认为 C# 也引入了其中的一些（有时超过了 C++，例如通过提供 lambdas），甚至 Java 也不得不在很小的程度上屈从于一些（至少是通用的），所以很明显“一个大小适合所有人”*不*——多范式编程是活得很好！-)

C++（如 C）迫使我仔细控制所有内存（我们的内部 c++ 风格指南禁止使用相当于垃圾收集的糟糕实现的“智能指针”！-），这大大增加了我的工作量，但有助于确保我m 在任何时候都不使用超过严格需要的内存：因此，当内存紧张和宝贵时，C++（或需要时使用 C）是选择。否则，Python 极高的生产力（如果您习惯使用 Ruby 或 Javascript，它们并没有什么不同）使其更可取。

我确信在垃圾收集但大部分是静态的语言之间存在一个利基，比如 Java（或 C#，在它开始积累越来越多的特性之前，包括 4.0 中的动态特性，我听说），或者其他那些语言和同源的不会那么普遍——我只是从来没有发现自己居住在那个特殊的领域，到目前为止。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2009-06-21T17:49:01.153

我尽可能多地选择 Python。它是我所知道的最有用和最高效的编程环境。

如果我遇到无法直接使用 Python 或无法用于整个项目的项目（例如基于 .NET 的应用程序服务器），我的方法通常是尽可能多地使用 Python。根据情况可能意味着：

*   嵌入python解释器
*   使用 Jython
*   使用 IronPython
*   使用一些 IPC 机制（通常是 http 或套接字）来调用外部 python 进程
*   导出数据 - 使用 python 处理 - 导入数据
*   使用 Python 生成代码

根据[我](https://stackoverflow.com/questions/819056/i-know-c-will-i-be-more-productive-with-python/824064#824064)对上一个问题的回答：[我知道 C#。使用 Python 会提高工作效率吗？](https://stackoverflow.com/questions/819056/i-know-c-will-i-be-more-productive-with-python)

* * *

以我的经验，让我在 Python 与 C# 中更高效的原因是：

*   它是一种动态语言。使用动态语言通常允许您从应用程序中删除整个架构层。Python 的动态特性允许您以比 C# 更自然和灵活（语法方面）的方式创建可重用的高级抽象。
*   图书馆。社区提供的标准库和很多开源库都是高质量的。Python 用于应用程序的范围意味着库的范围很广。
*   更快的开发周期。没有编译步骤意味着我可以更快地测试更改。例如，在开发 Web 应用程序时，开发服务器会检测更改并在保存文件时重新加载应用程序。从我的编辑器中运行单元测试只需一个按键，并且立即执行。
*   “轻松访问”常用功能：列表、列表推导、生成器、元组等。
*   不太冗长的语法。您可以使用比典型 .NET`web.config`文件更少的代码行来创建基于 WSGI 的 Python Web 框架 :-)
*   好的文档。好书。

* * *

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2009-06-21T02:16:06.723

我几乎只使用 Python 来支持我用其他语言开发软件。我应该强调，这不是 Python 失败的结果，而是我工作的软件领域往往有其他更合适的语言/框架，或者只是唯一的选择：

*   Web 开发：我很想在 Google App Engine 上查看 Python，但目前我正在使用 PHP 进行所有个人 Web 开发。
*   桌面应用程序开发：我使用[Ogre SDK](http://www.ogre3d.org/)开发 Windows 屏幕保护程序并使用 C++/Win32 开发。
*   服务器应用程序开发：专业地为 Windows 编写服务器端软件几乎总是使用 C++。

然而，对于所有这些应用程序领域，我经常使用 Python 编写工具、处理数据并通常简化我的开发工作。这里的一些示例可能是描述我倾向于如何使用 Python 的最佳方式：

*   从现有网站中[转义数据。](http://www.cannonade.net/blog.php?id=1418)
*   基于 XML 数据[生成报告。](http://www.cannonade.net/statistics.php)
*   生成 SQL 查询集以根据其他数据格式填充数据库。
*   解析整个 C++ 项目并提取一组不同的错误消息及其相应的错误代码。
*   [比较](http://www.cannonade.net/blog.php?id=1389)数据集以查找我无意中丢失的数据。
*   [图像处理](https://stackoverflow.com/questions/656981/what-software-for-your-own-personal-use-did-you-write/656989#656989)为其他软件生成数据。

Python 是如此强大和有用的语言，尽管我从未将它用作软件开发的主要语言，但我愿意这样做。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2009-06-21T02:34:20.460

JavaScript 和 Python 已经影响了我现在使用 C 语言进行编程的方式。我认为了解多种语言的最好的事情是你有更多的工具可以在心理上使用，因为你经常无法选择使用哪种语言。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2009-06-21T07:33:07.203

Python 比 Java 和 C# 更严格地面向对象。

但是，如果您的问题是何时使用 Python，何时使用 Java 或 C#，我发现 Python 对于基于现有库且不涉及太多领域建模的小型程序很有用。例如，使用 Python Gtk 绑定编写的小型桌面实用程序或使用 lxml 和 elementtree 编写的网站维护脚本。

当有很多应用程序域建模要做时，尤其是当域理解不足或变化迅速时，我发现 Python 的有限工具使得与 Java 相比更改代码非常困难（与 C# 不太相关，因为 .NET 工具支持落后于 Java几年）。所以对于这样的项目，我将使用 Java 和 IntelliJ。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2009-06-21T09:45:41.163

C 和 python 都是我选择的语言，但我几乎总是开始在 python 中做一些事情以确保正确性，然后在需要时深入研究 C。我主要将编程用于研究/数字代码，其中规范不断变化，而 C 是一种糟糕的原型设计语言（根据我的经验，大多数静态类型语言都是如此）。当您在 C 中工作时，您很少会对其进行重大更改以使其“更好”，因为您没有时间。但有时，当您需要控制资源（例如 CPU、内存等）时，C 比 python 更容易。

所以问题真的是“python什么时候不足以完成任务”，而不是相反。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2009-06-21T10:59:39.097

一般来说，语言是由工作决定的，谁想要完成这些事情，以及你和谁一起工作。我只使用 java 和 c/c++ 来满足我的编程需求，主要是因为与我一起工作的人使用它。话虽如此，我使用 python 进行快速原型设计等。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2009-08-29T22:42:47.340

**他们所有人**。

显然，除了已经用不同语言编写的代码。

即使某些东西看起来对 python 来说太大了，我通常还是会制作 Python 原型，主要是因为它运行得非常顺利。通常我会坚持使用 Python，只使用 C API 或 ctypes 来解决瓶颈问题（在我以一种非常干净的方式重写原型之后）。

# ruby-on-rails - Rails：虚拟属性和表单值

> ID：1022974
> 
> 赞同：5
> 
> 时间：2009-06-21T01:51:40.063
> 
> 标签：ruby-on-rails, activerecord, attributes, virtual

我有一个带有虚拟属性的模型书，用于从 Book 表单创建一个编辑器。代码如下所示：

```
class Book < ActiveRecord::Base
  has_many :book_under_tags
  has_many :tags, :through => :book_under_tags
  has_one  :editorial
  has_many :written_by
  has_many :authors, :through => :written_by

  def editorial_string
   self.editorial.name unless editorial.nil?
   ""
  end
  def editorial_string=(input)
    self.editorial = Editorial.find_or_create_by_name(input)
  end
end 
```

和新的形式：

```
<% form_for(@book,
            :html => { :multipart => true }) do |f| %>
  <%= f.error_messages %>

...
  <p>
    <%= f.label :editorial_string , "Editorial: " %><br />
    <%= f.text_field :editorial_string, :size => 30  %> <span class="eg">Ej. Sudamericana</span>
  </p>
 ... 
```

有了这个，当表单数据没有通过验证时，当表单重新显示时，我丢失了在编辑字段中提交的数据，并且还创建了一个新的编辑器。我该如何解决这两个问题？我对红宝石很陌生，我找不到解决方案。

更新我的控制器：

```
 def create
    @book = Book.new(params[:book])
    respond_to do |format|
      if @book.save
        flash[:notice] = 'Book was successfully created.'
        format.html { redirect_to(@book) }
        format.xml  { render :xml => @book, :status => :created, :location => @book }
      else
        format.html { render :action => "new" }
        format.xml  { render :xml => @book.errors, :status => :unprocessable_entity }
      end
    end
  end 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2009-06-21T02:11:19.070

我相信它的原因是您的 Book#editorial_string 方法将始终返回“”。可以简化为以下内容：

```
 def editorial_string
   editorial ? editorial.name : ""
  end 
```

根据评论更新：

听起来你想做嵌套表单。（请参阅[api docs 中的accepts_nested_attributes_for](http://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html#M002422)）注意这是 Rails 2.3 中的新功能。

因此，如果您更新 Book 课程

```
class Book < ActiveRecord::Base
  accepts_nested_attributes_for  :editorial
  ...
end 
```

（您现在也可以删除 editorial_string=, editorial_string 方法）

并将您的表格更新为以下内容

```
...
<% f.fields_for :editorial do |editorial_form| %>
  <%= editorial_form.label :name, 'Editorial:' %>
  <%= editorial_form.text_field :name %>
<% end %>
... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-21T02:07:32.700

第一个问题是

```
def editorial_string
  self.editorial.name unless editorial.nil?
  ""
end 
```

将始终返回 "" 因为那是最后一行。

```
def editorial_string
  return self.editorial.name if editorial
  ""
end 
```

会解决这个问题。至于为什么验证不通过，我不知道，你在控制器中做什么？你得到什么验证错误？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2009-06-25T20:42:48.910

看看这个播客[http://railscasts.com/episodes/167-more-on-virtual-attributes](http://railscasts.com/episodes/167-more-on-virtual-attributes)。我认为您应该将 find_or_create 从 editorial_string=(input) 方法移动到保存后回调。

# jquery - jQuery 插入之前

> ID：1022977
> 
> 赞同：2
> 
> 时间：2009-06-21T01:54:06.470
> 
> 标签：jquery

我有一个简单的 jQuery 问题。

我怎么不能这样做？

```
$("<div class='flora'></div>").insertBefore('</body>'); 
```

我只想在 HTML 页面的末尾添加一个新的 div。所以我想我会使用 .insertBefore 方法，但 jQuery 似乎不喜欢以`</body>`标签为目标。

想法？

谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2009-06-21T01:57:49.880

尝试类似的东西

```
$('body').append("<div class='flora'></div>"); 
```

如果你真的想在某些东西之前追加......你可以使用 before() 方法。

```
$('something').before("<div class='flora'></div>"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-21T01:57:30.503

您应该改用[.append()](http://docs.jquery.com/Manipulation/append#content)方法。

> [http://docs.jquery.com/Manipulation/append](http://docs.jquery.com/Manipulation/append)
> 
> "将内容追加到每个匹配元素的内部。此操作是在所有匹配元素的末尾插入元素的最佳方法。它类似于对所有指定元素执行 appendChild，将它们添加到文档中。 "

# frameworks - 是否值得费心学习一个框架来启动一个项目？

> ID：1022978
> 
> 赞同：3
> 
> 时间：2009-06-21T01:54:20.900
> 
> 标签：frameworks

我对框架的了解越多，似乎就越有人抱怨它们不值得花时间去学习。

是否有一个我应该知道的特定用例使框架有价值？还是我只是在浪费宝贵的时间学习一些我以后会放弃的东西？

编辑：为清楚起见更改了标题。哎呀，对不起。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2009-06-21T02:39:00.437

我发现在做一个大型项目时，即使您决定一开始不使用框架，但在项目进行到一半时，您最终还是会编写一个迷你框架，因为您会将为项目的一部分编写的函数重用于另一部分。

不过，问题在于您最终编写的迷你临时框架将是

*   设计不佳
*   基本没有文件
*   缺乏特色
*   只有您团队中的人会知道如何使用它，学习它似乎是浪费时间，因为它只用于您的项目
*   除非您向后了解源代码，否则很难扩展

另一方面，在开始项目时使用框架将：

*   节省您编写构成附加框架的实用程序功能所花费的所有时间
*   精心设计
*   有很多文档
*   很多人会知道如何使用它，其他人会更愿意学习，因为他们会看到它将在未来的项目中有用
*   功能齐全
*   易于为人们扩展（由于插件系统），即使他们不太了解它的源代码
*   不断更新，无需您付出任何努力

我认为对于任何中型或大型项目，使用框架（如果有好的框架）可以节省大量时间，只要您有足够的时间来实际学习如何使用它。我经常认为很多对框架的批评来自那些从未有时间学习如何正确使用它的人。尝试使用框架是非常痛苦的，因为你最终会不断地使用黑客来解决不存在的问题，如果你正确地了解框架，你甚至不会遇到问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2009-06-21T02:05:41.190

我们在项目中广泛使用[企业库](http://msdn.microsoft.com/en-us/library/dd203099.aspx)。对框架抱怨太多的人是想从头开始构建一切的类型。拥有一个可靠的框架来处理你正在做的事情（异常处理、日志记录、缓存、数据访问、策略注入、单元测试、依赖注入、监控和检测、加密等）是非常有价值的。

一个好的框架可以让你专注于你的业务问题，而不是你的应用程序中与你实际想要完成的事情正交的方面。此外，如果有成千上万的开发和 QA 工时以及可能有数十万生产时间的优秀框架存在，那么自己编写这些东西绝对是浪费时间。我可以 100% 证明使用 EntLib 的商业案例。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2009-06-21T02:20:15.107

刚开始时，如果没有框架，似乎会更快。

我把它比作装洗碗机。你迟早要完成这项工作。要么你事先有条理地装盘子，要么拿出来时花时间整理一下。

随着您构建、部署、扩展项目，您将越来越希望/开始以增加代码重用、结构和框架的方式进行构建。

看看是否有可以快速开始构建的框架。我认为这是值得的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-06-21T02:02:05.253

框架有什么好处？

如果您选择了正确的代码，那么它就是您不必编写的可靠代码。这比你自己做的事情要好。它由比您更有才华的开发人员编写，由比您的代码更广泛的受众进行测试，修复错误的历史比您的应用程序更长，并且比您编写的任何东西都有更长、更好的跟踪记录。

如果您能找到满足所有这些标准的框架，您的应用程序会更好。

框架是不平等的。明智地选择是很重要的。如果你选择了一个好的，你以后就不会放弃它。

这就是我过去五年一直在使用 Spring 的原因。

我建议您在实际项目中使用它之前学习该框架。你很可能在一个你不知道的框架上做得很差——这将是一个责备框架的方便借口。在第一个现场项目中放松之前，先进行一些培训并在重要的事情上进行试运行。找一位导师或领导者来指导你完成你的第一次努力。

在二读时，我会说这听起来你已经下定决心了。没有人强迫您使用框架。无论如何，一定要自己动手。积累足够的经验来为自己做决定。

但是，如果有队友、雇主或客户受此决定影响，请确保他们充分了解自己滚动的机会成本。

# c# - 比较两个不同长度的数组并显示差异

> ID：1022986
> 
> 赞同：10
> 
> 时间：2009-06-21T02:01:04.973
> 
> 标签：c#, arrays

**问题：**
我有两个长度可能不同的数组。我需要遍历这两个数组并找到相似之处、添加和删除。

在 C# 中完成此任务的最快和最有效的方法是什么？

*编辑：* 数组是预先排序的，它们可以包含 50-100 个项目。此外，对速度和/或内存使用没有任何限制（但是，没有人喜欢内存猪；）

* * *

**例如：**

```
String[] Foo_Old = {"test1", "test2", "test3"};
String[] Foo_New = {"test1", "test2", "test4", "test5"}; 
```

和

```
String[] Bar_Old = {"test1", "test2", "test4"};
String[] Bar_New = {"test1", "test3"}; 
```

* * *

**差异：**

*（关于 Foo_New 数组）*

```
[相同]“test1”
[相同]“test2”
[删除]“test3”
[添加]“test4”
[添加]“test5”

```

*（关于 Bar_New 数组）*

```
[相同]“test1”
[删除]“test2”
[删除]“test4”
[添加]“test3”

```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2009-06-21T02:13:31.157

您可以使用[除外](http://msdn.microsoft.com/en-us/library/bb919392.aspx)和[相交](http://msdn.microsoft.com/en-us/library/bb919779.aspx)...

```
var Foo_Old = new[] { "test1", "test2", "test3" }; 
var Foo_New = new[] { "test1", "test2", "test4", "test5" };

var diff = Foo_New.Except( Foo_Old );
var inter = Foo_New.Intersect( Foo_Old );
var rem = Foo_Old.Except(Foo_New);

foreach (var s in diff)
{
    Console.WriteLine("Added " + s);
}

foreach (var s in inter)
{
    Console.WriteLine("Same " + s);
}

foreach (var s in rem)
{
    Console.WriteLine("Removed " + s);
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2009-06-21T02:47:00.903

我继续手动编码，并在接受的答案中使用示例，手动编码的表现更好一些。我处理输出字符串的方式略有不同。其他要考虑的因素包括是否对数组进行排序副本（因为它不能假定它已排序）或是否进行某种散列或线性搜索（实际上仅限于 IEnumerable - 对于已经排序的非常大的数组，这可能是个问题）。您可以更改我的来比较 IEnumerable（更通用）而不是 IComparable[]。

```
static void ArrayCompare(IComparable[] Old, IComparable[] New)
{
    int lpOld = 0;
    int lpNew = 0;
    int OldLength = Old.Length;
    int NewLength = New.Length;
    while (lpOld < OldLength || lpNew < NewLength)
    {
        int compare;

        if (lpOld >= OldLength) compare = 1;
        else if (lpNew >= NewLength) compare = -1;
        else compare = Old[lpOld].CompareTo(New[lpNew]);

        if (compare < 0)
        {
            Debug.WriteLine(string.Format("[Removed] {0}", Old[lpOld].ToString()));
            lpOld++;
        }
        else if (compare > 0)
        {
            Debug.WriteLine(string.Format("[Added] {0}", New[lpNew].ToString()));
            lpNew++;
        }
        else
        {
            Debug.WriteLine(string.Format("[Same] {0}", Old[lpOld].ToString()));
            lpOld++;
            lpNew++;
        }
    }
}

static void ArrayCompare2(IComparable[] Old, IComparable[] New) {
    var diff = New.Except( Old );
    var inter = New.Intersect( Old );
    var rem = Old.Except(New);

    foreach (var s in diff)
    {
        Debug.WriteLine("Added " + s);
    }

    foreach (var s in inter)
    {
        Debug.WriteLine("Same " + s);
    }

    foreach (var s in rem)
    {
        Debug.WriteLine("Removed " + s);
    }
}

static void Main(string[] args)
{
    String[] Foo_Old = {"test1", "test2", "test3"};
    String[] Foo_New = {"test1", "test2", "test4", "test5"};
    String[] Bar_Old = {"test1", "test2", "test4"};
    String[] Bar_New = {"test1", "test3"};

    Stopwatch w1 = new Stopwatch();
    w1.Start();
    for (int lp = 0; lp < 10000; lp++)
    {
        ArrayCompare(Foo_Old, Foo_New);
        ArrayCompare(Bar_Old, Bar_New);
    }
    w1.Stop();

    Stopwatch w2 = new Stopwatch();
    w2.Start();
    for (int lp = 0; lp < 10000; lp++)
    {
        ArrayCompare2(Foo_Old, Foo_New);
        ArrayCompare2(Bar_Old, Bar_New);
    }
    w2.Stop();

    Debug.WriteLine(w1.Elapsed.ToString());
    Debug.WriteLine(w2.Elapsed.ToString());
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-06-21T02:11:31.927

由于您的数组已排序，因此您应该能够同时遍历数组，并且一次通过并确定每个元素是否在另一个数组中。（类似于合并排序中的合并步骤。）您可以在下面看到一个示例：

```
string[] oldVersion = { "test1", "test2", "test3" };
string[] newVersion = { "test1", "test2", "test4", "test5" };

int oldIndex = 0, newIndex = 0;

while ((oldIndex < oldVersion.Length) && (newIndex < newVersion.Length)) {
   int comparison = oldVersion[oldIndex].CompareTo(newVersion[newIndex]);

   if (comparison < 0)
      Console.WriteLine("[Removed]\t" + oldVersion[oldIndex++]);
   else if (comparison > 0)
      Console.WriteLine("[Added]\t\t" + newVersion[newIndex++]);
   else {
      Console.WriteLine("[Same]\t\t" + oldVersion[oldIndex++]);
      newIndex++;
   }
}

while (oldIndex < oldVersion.Length)
   Console.WriteLine("[Removed]\t" + oldVersion[oldIndex++]);

while (newIndex < newVersion.Length)
   Console.WriteLine("[Added]\t\t" + newVersion[newIndex++]); 
```

或者，您需要遍历一个数组，并且对于该数组中的每个元素，对另一个数组进行一次遍历以寻找匹配项。

编辑：JP 对如何使用框架执行此操作有一个很好的建议。尽管假设数组已排序，但我的方法的好处是您只需执行一次即可找到所有结果。您不必进行三遍。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2009-06-21T02:24:15.193

我前一阵子写了这个：

用法：

```
foreach (var diff in Foo_Old.Diff(Foo_New)){
   Console.WriteLine ("{0} action performed on {1}",diff.DiffAction,diff.Value);
} 
```

执行：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace LinqExtensions {

    enum DiffAction {
       Added,
       Removed,
       Same
    }

    class DiffPair<T> {
        public T Value { get; set; }
        public DiffAction DiffAction { get; set; }
    }

    static class DiffExtension {
        public static IEnumerable<DiffPair<T>> Diff<T>
                 (
                     this IEnumerable<T> original,
                     IEnumerable<T> target 
                 ) {

            Dictionary<T, DiffAction> results = new Dictionary<T, DiffAction>();

            foreach (var item in original) {
                results[item] = DiffAction.Removed;
            }

            foreach (var item in target) {
                if (results.ContainsKey(item)) {
                    results[item] = DiffAction.Same;
                } else {
                    results[item] = DiffAction.Added;
                }
            }
            return results.Select(
                pair => new DiffPair<T> {
                    Value=pair.Key, 
                    DiffAction = pair.Value
                });
        }
    }

} 
```

# iphone - 如何将 AVAudioPlayer 输出到扬声器

> ID：1022992
> 
> 赞同：33
> 
> 时间：2009-06-21T02:07:14.807
> 
> 标签：iphone, objective-c, audio, avaudioplayer, avaudiorecorder

我正在使用 AVAudioRecorder 录制音频，如[如何使用 AVAudioRecorder 在 iPhone 上录制音频？](https://stackoverflow.com/questions/1010343/how-do-i-record-audio-on-iphone-with-avaudiorecorder/1011273#1011273)

然后我使用 AVAudioPlayer 播放录音。然而，声音是从耳机发出的，而不是扬声器。我将如何将声音重定向到扬声器？

蒂亚！

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2015-05-19T14:34:08.567

我意识到这个问题已经相当老了，但是当我在同一个问题上苦苦挣扎时，我找到了一个简单的解决方案，希望能帮助其他希望使用更大声的媒体扬声器而不是接收器扬声器的人。我使用的方法是使用 AVAudioSessionCategoryOptions 中的 DefaultToSpeaker 选项设置音频会话：

在 Swift 中（假设您的音频会话名为`session`） -

```
session.setCategory(AVAudioSessionCategoryPlayAndRecord, withOptions:AVAudioSessionCategoryOptions.DefaultToSpeaker, error: nil) 
```

在 Obj-C 中 -

```
[[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryPlayAndRecord withOptions:AVAudioSessionCategoryOptionDefaultToSpeaker error: nil]; 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2009-07-07T04:07:01.683

来自[http://www.iphonedevsdk.com/forum/iphone-sdk-development-advanced-discussion/12890-audiosessionsetproperty-problem-playing-sound-listening-mic.html](http://www.iphonedevsdk.com/forum/iphone-sdk-development-advanced-discussion/12890-audiosessionsetproperty-problem-playing-sound-listening-mic.html) --

```
UInt32 sessionCategory = kAudioSessionCategory_MediaPlayback;
AudioSessionSetProperty(kAudioSessionProperty_AudioCategory, sizeof(sessionCategory), &sessionCategory);    
UInt32 audioRouteOverride = kAudioSessionOverrideAudioRoute_Speaker;
AudioSessionSetProperty (kAudioSessionProperty_OverrideAudioRoute,sizeof (audioRouteOverride),&audioRouteOverride); 
```

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2014-06-17T01:16:43.257

**斯威夫特 3**

在录制我设置的声音之前：

```
AVAudioSession.sharedInstance().setCategory(AVAudioSessionCategoryPlayAndRecord) 
```

在播放之前我设置：

```
AVAudioSession.sharedInstance().setCategory(AVAudioSessionCategoryAmbient) 
```

**目标 C**

录制前：

```
[[AVAudioSession sharedInstance] setCategory: AVAudioSessionCategoryRecord error:nil]; 
```

播放前：

```
[[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryAmbient error:nil]; 
```

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2015-12-24T17:19:37.480

这在 Swift2 中非常适合我

```
let session = AVAudioSession.sharedInstance()
try! session.setCategory(AVAudioSessionCategoryPlayAndRecord, withOptions: AVAudioSessionCategoryOptions.DefaultToSpeaker) 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2013-11-19T01:41:20.120

这是一个老问题，但另一个答案对我没有帮助......但是，我找到了一个解决方案，我将其发布以供将来参考，以防有人（或未来的我自己！）需要它。

该解决方案在以下博客文章中进行了描述：[iOS：在插入耳机时将音频输出到扬声器](http://uihacker.blogspot.fi/2013/08/ios-force-audio-output-to-speakers.html)。

您需要在项目中创建新的 Objective-C 类 AudioRouter。然后导入`AudioRouter.h`到您要启动音频功能的类的头文件中。接下来，在相应的`.m`文件中，在方法中添加以下行`viewDidLoad`：

```
AudioRouter *foobar = [[AudioRouter alloc] init];
[foobar initAudioSessionRouting];
[foobar forceOutputToBuiltInSpeakers]; 
```

现在你有音频（例如 AVAudioPlayer）输出到扬声器！请注意，如果您在应用程序运行时插入耳机**，**则所有音频输出都将定向到耳机。

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2015-10-05T01:09:57.770

**斯威夫特2：**

```
try session.setCategory(AVAudioSessionCategoryPlayAndRecord,
    withOptions:AVAudioSessionCategoryOptions.DefaultToSpeaker) 
```

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2020-03-11T05:04:06.730

斯威夫特 5

```
// Get the singleton instance.
let recordingSession = AVAudioSession.sharedInstance()
do {
    // Set the audio session category, mode, and options.
    try recordingSession.setCategory(.playAndRecord, mode: .default, options: [.defaultToSpeaker])
    try recordingSession.setActive(true)
} catch {
    print("Failed to set audio session category.")
} 
```

查看[开发人员文档](https://developer.apple.com/documentation/avfoundation/avaudiosession/categoryoptions)以获取有关*AVAudioSession.CategoryOptions*的更多信息。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2021-01-13T16:58:55.430

**Swift 5：要在蓝牙设备和默认扬声器上工作，请使用：**

```
let recordingSession = AVAudioSession.sharedInstance()
try recordingSession.setCategory(.playAndRecord, mode: .default, options: [.defaultToSpeaker, .allowBluetooth]) 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2017-04-03T16:21:40.170

**斯威夫特 3**

```
 let audioSession = AVAudioSession.sharedInstance()

    do {
        try audioSession.overrideOutputAudioPort(AVAudioSessionPortOverride.speaker)
    } catch let error as NSError {
        print("Audio Session error: \(error.localizedDescription)")
    } 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2018-03-01T19:08:16.267

Swift 4.0 的答案

```
func SetSessionPlayerOn()
{
    do {
        try AVAudioSession.sharedInstance().setCategory(AVAudioSessionCategoryPlayAndRecord)
    } catch _ {
    }
    do {
        try AVAudioSession.sharedInstance().setActive(true)
    } catch _ {
    }
    do {
        try AVAudioSession.sharedInstance().overrideOutputAudioPort(AVAudioSessionPortOverride.speaker)
    } catch _ {
    }
}
func SetSessionPlayerOff()
{
    do {
        try AVAudioSession.sharedInstance().setActive(false)
    } catch _ {
    }
} 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2019-03-22T07:14:17.030

这是在扬声器中而不是在麦克风中输出 auido 的关键线。请注意，它应该在录制时设置

```
try AVAudioSession.sharedInstance().overrideOutputAudioPort(AVAudioSessionPortOverride.speaker) 
```

以下是设置录制的完整功能

```
private func setupRecorder() {

    if isAudioRecordingGranted {
        let session = AVAudioSession.sharedInstance()
        do {

            if #available(iOS 10.0, *) {
                try! session.setCategory(.playAndRecord, mode:.spokenAudio)
            }
            else {
                // Workaround until https://forums.swift.org/t/using-methods-marked-unavailable-in-swift-4-2/14949 isn't fixed
               session.perform(NSSelectorFromString("setCategory:error:"), with: AVAudioSession.Category.playback)
            }
            try session.setActive(true)
            try session.overrideOutputAudioPort(AVAudioSession.PortOverride.speaker)

            let settings = [
                AVFormatIDKey: Int(kAudioFormatMPEG4AAC),
                AVSampleRateKey: 44100,
                AVNumberOfChannelsKey: 2,
                AVEncoderAudioQualityKey:AVAudioQuality.high.rawValue
            ]
            audioRecorder = try AVAudioRecorder(url: fileUrl(), settings: settings)
            audioRecorder.delegate = self
            audioRecorder.isMeteringEnabled = true
            audioRecorder.prepareToRecord()
            self.recorderState = .Ready
        }
        catch let error {
            recorderState = .error(error)
        }
    }
    else {
        recorderState = .Failed("Don't have access to use your microphone.")
    }
} 
```

# php - 在 2 个 PHP 脚本之间将加密的数据服务器传输到服务器

> ID：1022994
> 
> 赞同：0
> 
> 时间：2009-06-21T02:08:13.493
> 
> 标签：php, http, encryption, ssl, mcrypt

我需要将数据从本地服务器上的 PHP 脚本传输到托管服务器上的远程 API（也是用 PHP 编写的）。它基本上是一个原始的版本控制系统，我使用 HTTP GET 和 HTTP POST 来传输文件和字符串。

我希望连接加密，但我的（共享）网络主机告诉我我不能使用 SSL，因为我无法获得专用 IP 地址——即使我可以，我也不想再花钱了在上面。

我的问题是：有没有更好的方法来做到这一点？

我考虑过的一些可能性是使用 PHP 中的 mcrypt 扩展在一端加密数据并在另一端解密。

我还想到了 TLS，据我所知，它可以用来创建没有证书的安全连接？

编辑：请[将此问题](https://stackoverflow.com/questions/1036872/encrypted-and-signed-mime-messages-using-rfc-1847)视为有关 OpenPGP、GnuPG 和使用 MIME 传输的后续问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2009-06-21T02:25:16.593

如果您真的需要签名和全部，仅使用简单的对称加密（例如在 mcrypt 的帮助下）或使用公钥/私钥的东西有什么问题？另一种可能的解决方案是使用已安装的系统工具并将所有文件放在受密码保护的 zip 文件中。（php函数调用“system()”）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2009-06-21T02:10:58.103

您可以创建自签名证书以用于 SSL。如果您是唯一一个必须信任证书的人，那么您没有理由向威瑞信这样的人支付证书。

您可能还需要考虑以下内容。共享托管服务，例如 Dreamhost（我使用的），托管费用为每月 10 美元，静态 IP 每月费用为 4 美元，真正的 SSL 证书每年费用为 15 美元（每月 1.25 美元）。因此，对于具有由真实 CA 签署的真实证书的共享主机帐户，每月只需大约 15 美元。我不知道你现在和谁在一起，或者他们向你收取什么费用，但如果你对这个项目很认真，那么每月 15 美元也不算多。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2009-06-21T02:14:14.387

我认为你在这方面有点顺风顺水。对于共享主机，最明显的解决方案是 HTTPS，但如果他们不允许你这样做，你就会陷入困境。您找到的任何其他选项都需要您打开一个套接字，我怀疑您的共享主机是否也允许这样做。

您可能想研究一下亚马逊网络服务。我不知道您为托管支付了多少，但他们有虚拟服务器，每小时 10 美分（大约每月 72 美元）。然后你就可以自由地做任何你想做的事。