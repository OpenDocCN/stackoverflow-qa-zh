# StackOverflow 问答 10137000-10137999

# bounding-box - 在我旋转网格后变换这个 AABB，使它再次适合它

> ID：10137001
> 
> 赞同：1
> 
> 时间：2012-04-13T07:43:40.963
> 
> 标签：bounding-box, aabb

我有这个我在互联网上找到的 AABB 课程，它在网格移动时有效，但是当我旋转网格时它当然停止工作，我也注意到它有一个变换功能，所以我认为这是我必须要做的使用所以它在我旋转网格后工作，但我对矩阵有点新，我不知道如何使用它：

```
 #ifndef AABB_H
    #define AABB_H

    class aabb {
    public:
    aabb() { min.x = min.y = min.z = 1e24f; max.x = max.y = max.z = -1e24f; }
    aabb &operator =(const aabb &a) { min = a.min; max = a.max; return *this; }

    vec3d min, max;

    vec3d center() { return ((min + max) * 0.5f); }

    void empty() { min.x = min.y = min.z = 1e24f; max.x = max.y = max.z = -1e24f; }
    void add(const vec3d &pnt) {
        if (pnt.x < min.x) min.x = pnt.x;
        if (pnt.x > max.x) max.x = pnt.x;
        if (pnt.y < min.y) min.y = pnt.y;
        if (pnt.y > max.y) max.y = pnt.y;
        if (pnt.z < min.z) min.z = pnt.z;
        if (pnt.z > max.z) max.z = pnt.z;
    }
    void transform(const mat3x3 &m, const vec3d &trans) {
        vec3d oldmin = min, oldmax = max;
        min = max = trans;
        if (m.m11 > 0.0f) { min.x += m.m11 * oldmin.x; max.x += m.m11 * oldmax.x; }
            else { min.x += m.m11 * oldmax.x; max.x += m.m11 * oldmin.x; }
        if (m.m12 > 0.0f) { min.y += m.m21 * oldmin.x; max.y += m.m21 * oldmax.x; }
            else { min.y += m.m21 * oldmax.x; max.y += m.m21 * oldmin.x; }
        if (m.m13 > 0.0f) { min.z += m.m31 * oldmin.x; max.z += m.m31 * oldmax.x; }
            else { min.z += m.m31 * oldmax.x; max.z += m.m31 * oldmin.x; }
        if (m.m21 > 0.0f) { min.x += m.m12 * oldmin.y; max.x += m.m12 * oldmax.y; }
            else { min.x += m.m12 * oldmax.y; max.x += m.m12 * oldmin.y; }
        if (m.m22 > 0.0f) { min.y += m.m22 * oldmin.y; max.y += m.m22 * oldmax.y; }
            else { min.y += m.m22 * oldmax.y; max.y += m.m22 * oldmin.y; }
        if (m.m23 > 0.0f) { min.z += m.m32 * oldmin.y; max.z += m.m32 * oldmax.y; }
            else { min.z += m.m32 * oldmax.y; max.z += m.m32 * oldmin.y; }
        if (m.m31 > 0.0f) { min.x += m.m13 * oldmin.z; max.x += m.m13 * oldmax.z; }
            else { min.x += m.m13 * oldmax.z; max.x += m.m13 * oldmin.z; }
        if (m.m32 > 0.0f) { min.y += m.m23 * oldmin.z; max.y += m.m23 * oldmax.z; }
            else { min.y += m.m23 * oldmax.z; max.y += m.m23 * oldmin.z; }
        if (m.m33 > 0.0f) { min.z += m.m33 * oldmin.z; max.z += m.m33 * oldmax.z; }
            else { min.z += m.m33 * oldmax.z; max.z += m.m33 * oldmin.z; }
    }

    bool contains(const vec3d &a) { return (a.x >= min.x) && (a.x <= max.x) && (a.y >= min.y) && (a.y <= max.y) && (a.z >= min.z) && (a.z <= max.z); }
    vec3d closest(const vec3d &a) {
        vec3d r;
        if (a.x < min.x) r.x = min.x;
            else if (a.x > max.x) r.x = max.x;
                else r.x = a.x;

        if (a.y < min.y) r.y = min.y;
            else if (a.y > max.y) r.y = max.y;
                else r.y = a.y;

        if (a.z < min.z) r.z = min.z;
            else if (a.z > max.z) r.z = max.z;
                else r.z = a.z;
        return r;
    }
    };
    #endif 
```

另外作为附加数据，我只想在 Y-axix 中旋转网格，因为它是一款海军游戏。

感谢您的回答。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-28T22:24:04.800

我从用于图形和游戏开发的 3d 数学入门书中识别出该代码，但它并不完全相同。我可以看到翻译部分可以工作，但不能进行任何旋转。trans 是矩阵的翻译部分。在书中，边界框也被传递给该方法。在您找到的代码中，这被删除并替换为保存旧的最小值和最大值以在方法中开始。该代码会将最小值和最大值扩展到无穷大（只是不断地添加）。代码经过优化，因此并非所有 8 个角点都被转换，而是利用矩阵如何转换一个点，并找出其中哪一个在转换后具有最小值。

像这样的东西对我有用......

```
public void add(float[] p) {
    if (p[0] < mOriginalMin[0]) {
        mOriginalMin[0] = p[0];
    }
    if (p[0] > mOriginalMax[0]) {
        mOriginalMax[0] = p[0];
    }
    if (p[1] < mOriginalMin[1]) {
        mOriginalMin[1] = p[1];
    }
    if (p[1] > mOriginalMax[1]) {
        mOriginalMax[1] = p[1];
    }
    if (p[2] < mOriginalMin[2]) {
        mOriginalMin[2] = p[2];
    }
    if (p[2] > mOriginalMax[2]) {
        mOriginalMax[2] = p[2];
    }
}

public void transform(Matrix44 mat) {
    /** Get the translation part */
    mCurrMin[0] = mCurrMax[0] = mat.m[12];
    mCurrMin[1] = mCurrMax[1] = mat.m[13];
    mCurrMin[2] = mCurrMax[2] = mat.m[14];

    if (mat.m[0] > 0) {
        mCurrMin[0] += mat.m[0] * mOriginalMin[0];
        mCurrMax[0] += mat.m[0] * mOriginalMax[0];
     } else {
        mCurrMin[0] += mat.m[0] * mOriginalMax[0];
        mCurrMax[0] += mat.m[0] * mOriginalMin[0];
     }
            .....etc etc. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T18:41:44.513

我认为'trans'意味着翻译而不是变换（提示：这里没有执行矩阵运算）。说到变换和矩阵 - 这就是你的答案。如果对象被旋转、平移或缩放，那么你应该得到它的全局（世界）矩阵并将最小值和最大值乘以它。然后重新计算你的中心。

# json - 如何从 Extjs.Class 编码为 JSON 字符串？

> ID：10137006
> 
> 赞同：0
> 
> 时间：2012-04-13T07:44:12.133
> 
> 标签：json, extjs, extjs4

我想将 EXTjs 类编码为 Json，但是，我不能..

我使用 JSON.stringify，但这会给出类型错误的异常。

我怎样才能做到这一点？

谢谢，这是我的代码。

```
Ext.define('Text',{
    extend : 'Ext.Img',
    x : 50,
    y : 50,
    size : 100,
    text : 'Text',
    name : 'Text',
    src : ' ',
    tag : '',
    Events : []
});

var text = new Text();
var temp = JSON.stringify(text); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-13T08:00:15.233

尝试使用

```
Ext.encode(Object) 
```

它编码一个对象、数组或其他值并返回 JSON 字符串。

参考[Ext.JSON](http://docs.sencha.com/ext-js/4-0/#!/api/Ext.JSON)

[序列化对象](https://stackoverflow.com/questions/9382167/serializing-object-that-contains-cyclic-object-value)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-04-17T20:44:37.300

这里的问题是 ExtJS 在对象上创建了内部引用，结果是循环的。因此，默认的 JSON 序列化程序会失败。

您需要手动定义一个`toJSON`将被调用的方法`JSON.stringify`：

```
Ext.define('Text', {
    extend : 'Ext.Img',
    x : 50,
    y : 50,
    size : 100,
    text : 'Text',
    name : 'Text',
    src : ' ',
    tag : '',
    Events : [],

    toJSON: function () {
        return 'Whatever you like' + this.text + this.size // etc.
    }

});

JSON.stringify(new Text()); // "Whatever you likeText100" 
```

# c# - 如何获取我可以在我的机器上引用的所有程序集的列表？

> ID：10137008
> 
> 赞同：0
> 
> 时间：2012-04-13T07:44:33.460
> 
> 标签：c#

要在 Visual Studio 中为您的项目添加新的 .NET 引用，您只需在当前项目的引用上单击“添加引用...”，切换到“.NET”选项卡并进行操作。

现在，有没有办法以编程方式获取此列表？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-13T07:48:23.203

//需要访问GAC

```
List<string> gacFolders = new List<string>() { 
    "GAC", "GAC_32", "GAC_64", "GAC_MSIL", 
    "NativeImages_v2.0.50727_32", 
    "NativeImages_v2.0.50727_64" 
};

foreach (string folder in gacFolders)
{
    string path = Path.Combine(@"c:\windows\assembly", folder);
    if(Directory.Exists(path))
    {
        Response.Write("<hr/>" + folder + "<hr/>");

        string[] assemblyFolders = Directory.GetDirectories(path);
        foreach (string assemblyFolder in assemblyFolders)
        {
            Response.Write(assemblyFolder + "<br/>");
        }
    }
} 
```

来源：[枚举 GAC 中的程序集](https://stackoverflow.com/questions/1599575/enumerating-assemblies-in-gac)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T07:49:55.213

使用 gacutil 访问全局程序集缓存或使用[此 msdn 页面](http://blogs.msdn.com/b/junfeng/archive/2004/09/14/229649.aspx)上介绍的包装器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T07:51:11.683

我会选择固定路径，因为它可能会发生变化，但适用于或使用

[GacUtil](http://msdn.microsoft.com/it-it/library/ex0ss12c%28v=vs.80%29.aspx)

例如，从命令行可以使用

```
gacutil /l > assemblylist.txt 
```

并将`assemblylist.txt`拥有 GAC 中所有程序集的列表，其中包含您需要的所有信息。

* * *

或者可以尝试使用

[GAC Api](http://support.microsoft.com/default.aspx?scid=kb;en-us;317540)（未记录）您需要对此进行一些互操作，它不是 C#。

可以尝试使用这个 C# warpper

[GAC API 接口](http://www.codeproject.com/Articles/8285/GAC-API-Interface)

# objective-c - 当我可以使用内联变量时，为什么要声明 @property？

> ID：10137016
> 
> 赞同：1
> 
> 时间：2012-04-13T07:45:19.683
> 
> 标签：objective-c, memory-management, ios5, initialization

我花了几天时间学习 Objective-C 并且有一些关于`@property`. 我有 C# 的经验，所以了解指针、初始化等的需求。

举个例子：

```
 @interface MyClass : NSObject
 {
      IBOutlet UIImageView *image;
 }

 @property (retain, nonatomic) UIImageView *image

 @end

 @implementation MyClass
      @synthesise image
 @end 
```

我知道这`@synthesise`是用来创建`@property`. 但我有几个问题只是为了帮助我弄清楚：

1.  是否`@property`重复或替换了我原来的定义，或者它只是建立了原始定义的可变性和原子性？
2.  是否`@synthesise`消除了我使用的需要`image = [[UIImageView alloc] init]`？
3.  如果我不提供 a`@property`并且仍然继续手动创建和销毁我的变量，那有什么区别吗？

最终，两者之间的区别在于，@property 在内存管理和多线程方面为您提供了更大的灵活性，而普通的则为您提供了默认值。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:45:27.323

> @prototype 是否重复或替换了我的原始定义，或者它只是设置了原始定义的可变性和原子性？

*使用最新的编译器版本时*，ivar 声明`image`是多余的。

 *前者声明了一个 ivar（类型 + 名称 + 实例存储）。

属性声明指定类型、名称、存储（在最近的编译器版本中）、声明访问器方法（例如`- (UIImageView *)image;`和`- (void)setImage:(UIImageView *)pImage;`）和其他属性说明符（在编译器生成访问器时使用）。

> @synthesise 是否消除了我使用 image = [UIImageView alloc] 的需要？

不，您仍然需要`dealloc`适当地实现您的初始化程序和（在 MRC 中）。

> 如果我不提供@property 并且仍然继续手动创建和销毁我的变量，那有什么区别吗？

这很好，当您不希望/不需要为您生成样板访问器方法时。这是一个设计选择。并非每个 ivar 都需要访问器方法。

> 最终，两者之间的区别在于，@property 在内存管理和多线程方面为您提供了更大的灵活性，而普通的则为您提供了默认值。

它们存在的最大原因是方便。属性节省了大量的样板代码。

属性没有*更多的*灵活性——属性实现了最实际的用途。

原子性（在这种情况下）很少等同于适当的线程安全和正确的并发执行。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T08:10:17.113

1）该属性不替换类成员。属性是您希望类成员的访问器（getter 和 setter）*执行*某些“自动”任务并具有特定名称的声明。

例如：

```
@interface MyClass : NSObject
{
    NSInteger __myInt;
}
@property (assign) NSInteger myInt;
@end

@implementation MyClass
    @synthesize myInt=__myInt;
@end 
```

出于所有意图和目的，上述代码导致在编译时自动生成以下方法：

```
-(NSInteger) myInt
{
    return self->__myInt;
}
-(void) setmyInt:(NSInteger)val_
{
    self->__myInt = val_;
} 
```

当然，当 Xcode 编译你的程序时“在后台”发生的事情有点不同，而且更细微，但这基本上就是发生的事情。

2）我不完全清楚你的意思是什么......你总是需要`alloc`和`init`你的变量，无论访问器合成如何。

3) 不需要。属性/综合只是为了 a) 方便，无论是多线程的语法还是原子性，以及 b) 对类内成员的外部访问。

**编辑：**
为了澄清多线程和属性，声明属性`nonatomic`对线程安全有很大帮助。这，以及我对#3 的回复，解决了您对问题的最后一个担忧。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T07:56:10.557

你可以这样做：

```
 @interface MyClass : NSObject
 @property (retain, nonatomic) IBOutlet UIImageView *image;
 @end

 @implementation MyClass
 @synthesize image;
 @end 
```

> @prototype 是否重复或替换了我的原始定义，或者它只是设置了原始定义的可变性和原子性？

该属性在 ivar 之上添加了一些东西，比如 KVO 和线程安全（如果它是原子的）。

> @synthesise 是否消除了我使用 image = [UIImageView alloc] 的需要？

不

> 如果我不提供@property 并且仍然继续手动创建和销毁我的变量，那有什么区别吗？

如果你不创建一个属性，你就会失去一个属性让你喜欢 KVO 的东西，这是对如何使用变量的判断和 api 调用。在 arc 下，直接使用 ivar 要容易得多，因为您不必复制自动执行的保留和释放属性。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-13T08:39:22.970

@property (retain, nonatomic) UIImageView *image 行中的“图像”只是属性和 IBOutlet UIImageView *image 的名称；是您通过 self.image 访问的 ivar。我总是为与名称相同的属性命名一个 ivar，但添加 _ ：

```
UIImage * image_;
@property (retain, nonatomic) UIImageView *image;
@synthesize image = image_; 
```

如果您不为您的属性创建 ivar，Xcode 会自动为您创建（ivar 的名称将与属性的名称相同）*

# c# - 如何将 Datetimepicker 设置为仅月和年格式？

> ID：10137022
> 
> 赞同：24
> 
> 时间：2012-04-13T07:45:49.220
> 
> 标签：c#, datetimepicker

如何将`Datetimepicker`-Format 设置为 MM/YYYY？

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2012-04-13T07:47:01.830

使用`DateTimerPicker.Format`财产。查看[MSDN](http://msdn.microsoft.com/en-us/library/system.windows.forms.datetimepicker.format.aspx)

```
public void SetMyCustomFormat()
{
   // Set the Format type and the CustomFormat string.
   dateTimePicker1.Format = DateTimePickerFormat.Custom;
   dateTimePicker1.CustomFormat = "MM/yyyy";
} 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2016-07-05T11:11:37.463

您可以使用`DateTimerPicker.Format`以下属性：

```
DateTimerPicker.Format = DateTimePickerFormat.Custom;
DateTimerPicker.CustomFormat = "MMMM yyyy";
DateTimerPicker.ShowUpDown = true; 
```

注意：`DateTimerPicker.ShowUpDown = true;`用于使日历不可见

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2018-08-09T12:19:14.753

这将为您提供更多选项来显示具有差异格式的日期。

```
DateTimerPicker.Format = DateTimePickerFormat.Custom;
DateTimerPicker.CustomFormat = "MM/yyyy"; // this line gives you only the month and year.
DateTimerPicker.ShowUpDown = true; 
```

以下是在 Windows 应用程序 C# 的日期时间选择器控件上单独显示日期的不同格式

```
DateTimerPicker.CustomFormat = "MMMM yyyy"; 
```

上面的代码将显示完整的月份名称和年份，如“August 2018”

```
DateTimerPicker.CustomFormat = "MMMM yyyy"; 
```

上面的代码将显示完整的月份名称、日期和年份，如“2018 年 8 月 8 日”

```
DateTimerPicker.CustomFormat = "dd MM yyyy"; 
```

此行将以指定格式给出日期，不带正斜杠“08 08 2018”

```
DateTimerPicker.CustomFormat = "dd/MM/yyyy"; 
```

此行将为日期“08/08/2018”提供更具体的格式

```
DateTimerPicker.CustomFormat = "dd/MMM/yyyy"; 
```

此行以“08/Aug/2018”的格式给出日期

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2019-08-07T01:38:01.603

这条线对我有用

`DateTimePicker1.Value.ToString("MMMM dd yyyy")`

输出：2019 年 8 月

# log4net - 无法加载文件或程序集“log4net”

> ID：10137023
> 
> 赞同：0
> 
> 时间：2012-04-13T07:45:50.480
> 
> 标签：log4net

我的水晶报告页面出现错误“无法加载文件或程序集'log4net，版本=1.2.10.0，文化=中性，PublicKeyToken=692fbea5521e1304'或其依赖项之一。定位的程序集的清单定义与程序集引用不匹配。” 我必须在 bin 文件夹中有 1.2.10 或 1.2.11 的 ddl 吗？或者有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-19T07:39:02.893

如果您有一台 x86 开发机器并且您的 Web 服务器是 64 位机器，那么您可能会遇到[此线程中讨论](http://social.msdn.microsoft.com/Forums/en-US/vscrystalreports/thread/546059a6-7179-4027-8f16-822ac6dc189a/)的问题。

Visual Studio 会自动将 32 位 log4net.dll 部署到 64 位 Web 服务器中，即使您的项目中没有引用它也是如此。部署完成后，只需从 bin 目录中删除 log4net.dll，因为 CR 运行时实际上并不需要它来工作。

# python - 无法找到文本文件

> ID：10137026
> 
> 赞同：0
> 
> 时间：2012-04-13T07:46:03.447
> 
> 标签：python

所以我有这样的目录结构

```
 Execute_directory--> execute.py
  |
  Algorithm ---> algorithm.py
            |
            |--> data.txt 
```

所以我在执行目录中，并在我的 python 路径中包含了以下路径。

```
sys.path.append(os.path.dirname(os.path.abspath(__file__)) + "/../Algorithm") 
```

algorithm.py 有读取 data.txt 的代码

因此，当我运行 execute.py 时， execute.py 调用 algorithm.py 依次读取 data.txt 我认为上面的行应该已经完成​​了这项工作。它能够找到 algorithm.py 但不是 data.txt？

```
 IOError: [Errno 2] No such file or directory:'data.txt' 
```

任何线索我做错了什么？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T07:50:18.370

你是这样读`data.txt`的吗`algorithm.py`：

```
open('data.txt') 
```

因为那是相对于*工作目录*而不是相对于脚本目录的。

你可以试试`algorithm.py`这个：

```
open(os.path.join(os.path.dirname(__file__), 'data.txt')) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T07:52:35.987

这通常是相对文件名与您期望的位置不相关的问题。打印的内容`os.path.abspath(filename)`以检查这一点。如果它给你一些奇怪的东西，首先指定绝对路径（当你初始化时`filename`）应该修复它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-13T09:21:38.153

`sys.path`用于告诉 Python 在您使用`import`. 它不影响查找带有`open`. 打开文件时，相对路径是相对于“当前工作目录”的，您可以`os.getcwd`使用`os.chdir`.

奖励：如果您在启动时检查 的值`sys.path`，您会看到它包括`''`. 这告诉 Python 还要检查模块的当前工作目录（以及 中的硬编码绝对路径`sys.path`，这就是为什么如果您在“进入”（使用命令提示符）包含您的模块的文件夹时启动 Python 解释器，您不必告诉它在哪里寻找您的模块。

# mysql - MySQL，不小心删除了root用户

> ID：10137027
> 
> 赞同：0
> 
> 时间：2012-04-13T07:46:06.460
> 
> 标签：mysql, phpmyadmin

在 phpMyAdmin 中，当我添加 mysql_grant_tables 或任何它说它们仍然存在时，我不小心删除了 3 个 root 用户。

我尝试运行它，它说这个。

> mysql> 授予所有权限*。*到 'root'@'localhost' 由 "" 标识，带有授权选项；ERROR 1290 (HY000): MySQL 服务器使用 --skip-grant-tables 选项运行，因此无法执行此语句

有没有办法让这些用户重新启动并重新运行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-09T03:48:16.207

1.  从 MySQL 的数据文件夹手动备份（COMPY）您自己的数据库

2.  手动备份 (COMPY) 您的网站

卸载`XAMPP`并设置新的。

# tsql - 将字符串拆分为字典（表）

> ID：10137032
> 
> 赞同：1
> 
> 时间：2012-04-13T07:46:19.857
> 
> 标签：tsql, sql-server-2008-r2

我有`SplitDictionary`功能：

```
ALTER FUNCTION [dbo].[SplitDictionary]
(    
    @RowKey NVARCHAR(MAX),
    @RowData NVARCHAR(MAX),
    @Delimeter NVARCHAR(2)
)
RETURNS @RtnValue TABLE 
(
    ID INT IDENTITY(1,1),
    keyValue nvarchar(max), 
    Data NVARCHAR(MAX)
) 
AS
BEGIN 
    DECLARE @Iterator INT
    SET @Iterator = 1

    DECLARE @FoundIndex INT
    SET @FoundIndex = CHARINDEX(@Delimeter,@RowData)
    declare @keyFoundIndex int
    set @keyFoundIndex=charindex(@Delimeter, @RowKey)

    WHILE (@FoundIndex>0)
    BEGIN
        INSERT INTO @RtnValue (keyValue, data)
        SELECT KeyValue=LTRIM(RTRIM(SUBSTRING(@RowKey, 1, @FoundIndex - 1))),
            Data = LTRIM(RTRIM(SUBSTRING(@RowData, 1, @FoundIndex - 1)))

        SET @RowKey=substring(@RowKey, @FoundIndex + datalength(@Delimeter)/2, len(@RowKey))

        SET @RowData = SUBSTRING(@RowData,@FoundIndex + DATALENGTH(@Delimeter) / 2,LEN(@RowData))

        SET @Iterator = @Iterator + 1
        SET @FoundIndex = CHARINDEX(@Delimeter, @RowData)
    END

    INSERT INTO @RtnValue (keyValue, Data)
    SELECT keyValue=ltrim(rtrim(@RowKey)), Data = LTRIM(RTRIM(@RowData))

    RETURN
END 
```

当我使用此功能时：

```
SELECT ID, keyValue, Data from dbo.SplitDictionary('10,1','20,30', ',') 
```

结果是：

* * *

1 10 20

2 1 30

**这是真的**

当我使用此功能时：

```
SELECT ID, keyValue, Data from dbo.SplitDictionary('1,1','20,30', ',') 
```

结果是：

* * *

1 1, 20

2 空 30

**这是假的**

如何修复存储过程中的第二次调用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:24:09.037

这应该可以，试试吧：

```
ALTER FUNCTION [dbo].[SplitDictionary]
(    
    @RowKey NVARCHAR(MAX),
    @RowData NVARCHAR(MAX),
    @Delimeter NVARCHAR(2)
)
RETURNS @RtnValue TABLE 
(
    ID INT IDENTITY(1,1),
    keyValue nvarchar(max), 
    Data NVARCHAR(MAX)
) 
AS
BEGIN 
    DECLARE @Iterator INT
    SET @Iterator = 1

    DECLARE @FoundIndex INT
    SET @FoundIndex = CHARINDEX(@Delimeter,@RowData)
    declare @keyFoundIndex int
    set @keyFoundIndex=charindex(@Delimeter, @RowKey)

    WHILE (@FoundIndex>0)
    BEGIN
        INSERT INTO @RtnValue (keyValue, Data)
        SELECT KeyValue=LTRIM(RTRIM(SUBSTRING(@RowKey, 1, @keyFoundIndex - 1))),
            Data = LTRIM(RTRIM(SUBSTRING(@RowData, 1, @FoundIndex - 1)))

        SET @RowKey=substring(@RowKey, @keyFoundIndex + datalength(@Delimeter)/2, len(@RowKey))

        SET @RowData = SUBSTRING(@RowData,@FoundIndex + DATALENGTH(@Delimeter) / 2,LEN(@RowData))

        SET @Iterator = @Iterator + 1
        SET @FoundIndex = CHARINDEX(@Delimeter, @RowData)
        SET @keyFoundIndex = CHARINDEX(@Delimeter, @RowKey)
    END

    INSERT INTO @RtnValue (keyValue, Data)
    SELECT keyValue=ltrim(rtrim(@RowKey)), Data = LTRIM(RTRIM(@RowData))

    RETURN
END 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:28:00.140

如果您可以更改输入以便`varchar`遵循以下模式：

```
'key[0],value[1]:key[1],value[1]:...key[n]:value[n]' 
```

那会让你`varchar`像这样：

```
'10,20:1,30' 
```

然后给出这个拆分函数：

```
CREATE FUNCTION dbo.Split (@s varchar(512),@sep char(1))
RETURNS table
AS
RETURN (
    WITH Pieces(pn, start, stop) AS (
      SELECT 1, 1, CHARINDEX(@sep, @s)
      UNION ALL
      SELECT pn + 1, stop + 1, CHARINDEX(@sep, @s, stop + 1)
      FROM Pieces
      WHERE stop > 0
    )
    SELECT pn,
      SUBSTRING(@s, start, CASE WHEN stop > 0 THEN stop-start ELSE 512 END) AS s
    FROM Pieces
  )
GO 
```

您的 sql 查询非常简单。像这样：

```
DECLARE @varcharToSplit VARCHAR(512)
SET @varcharToSplit='10,20:1,30'
SELECT
    pvt.RowIndex,
    pvt.[1] AS [Key],
    pvt.[2] AS Value
FROM
(
    SELECT
        SplitColumns.pn AS ColumnIndex,
        SplitColumns.s AS ColumnValue,
        SplitRows.pn AS RowIndex
    FROM
        dbo.Split(@varcharToSplit,':') AS SplitRows
        CROSS APPLY dbo.Split(SplitRows.s,',') AS SplitColumns
) AS SourceTable
PIVOT
(
    MAX(ColumnValue)
    FOR ColumnIndex IN ([1],[2])
) AS pvt 
```

# html - eclipse上的错误标签的位置无效（b）

> ID：10137033
> 
> 赞同：1
> 
> 时间：2012-04-13T07:46:21.623
> 
> 标签：html, eclipse, syntax

我开始使用 Eclipse 调试器。我用两条不同的行编写了一个简单的 html 文件。

```
<h3 id="TitleField">Array Function </h3><b />
<p><h1>array_change_key_case</h1></p> 
```

我得到带有“标签（h1）的无效位置”的感叹号。和“标签 (b) 的位置无效。”。我究竟做错了什么 ？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T07:49:58.550

1.  `P`只能包含内联元素，不能包含块元素，例如`H1`.
    见[http://www.w3.org/TR/html4/struct/text.html#edef-P](http://www.w3.org/TR/html4/struct/text.html#edef-P)

2.  `<b />`应该`<br />`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T08:51:58.323

对于标题和段落，它会自动从新行开始，因此`<br>`不需要标记。`<h1>`, `<h2>`,`<h3>`等是标题，`<p>`是段落。

您在段落上方而不是在其中发布标题，如下所示：

```
<h1>array_change_key_case</h1>
<p>your text</p> 
```

# h2 - 删除数据库或删除表哪个更好？

> ID：10137034
> 
> 赞同：2
> 
> 时间：2012-04-13T07:46:22.210
> 
> 标签：h2

我有一个有 20 个表的数据库，有时我需要删除数据库的所有数据？那么，我应该删除数据库并重新创建它还是只删除所有表（表具有 FK）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T13:34:00.233

这取决于数据库的大小。对于较大的数据库（不确定具体大小，可能 100 MB 或更多），最快的方法是关闭数据库并删除文件。

对于较小的数据库，最快的解决方案可能是[截断](http://h2database.com/html/grammar.html#truncate_table)所有表，如`TRUNCATE TABLE TEST`，但您需要首先[禁用引用完整性](http://h2database.com/html/grammar.html#set_referential_integrity)。

# c - extern 声明和函数定义都在同一个文件中

> ID：10137037
> 
> 赞同：11
> 
> 时间：2012-04-13T07:46:36.807
> 
> 标签：c, declaration, extern, function-declaration

我只是浏览`gcc`源文件。在`gcc.c`中，我发现了类似的东西

```
extern int main (int, char **);

int
main (int argc, char **argv)
{ 
```

现在我的疑问是`extern`告诉编译器特定函数不在此文件中，但会在项目的其他地方找到。但是在这里，定义`main`是紧跟在`extern`声明之后。`extern`那么声明的目的是什么？

在这个特定的例子中， `extern`看起来就像`export`我们在汇编中使用的那样，我们在模块之外导出一个特定的符号

有任何想法吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-04-13T07:49:14.673

您误解了`extern`- 它*没有*告诉编译器定义在*另一个*文件中，它只是声明它存在而不定义它。*在同一个*文件中定义它是完全可以的。

C 有声明（声明某事物存在而不定义它）和定义（实际上是使其存在）的概念。您可以根据需要多次*声明*某些内容，但只能定义一次。

因为函数默认具有外部链接，所以`extern`在这种情况下关键字无关紧要。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-04-13T07:48:50.837

函数在 C 中是隐式外部的。包含`extern`只是一个视觉提示。旁注，要使函数不是外部的，您可以使用`static`关键字。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-13T07:49:27.033

在函数声明中，`extern`简单地声明该函数具有外部链接，这是默认的；在`extern`这种情况下，关键字完全没用，其效果与没有`extern`关键字的普通声明/原型相同。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-13T07:48:37.553

警告可能表明缺少函数原型。就这样。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-13T07:49:01.643

函数定义`main`：

```
int main(int argc, char **argv) { ... } 
```

已经是一个声明是`main`具有外部链接的函数的原型语法。`extern`这意味着在定义之前的原型声明`main`是多余的。

# c# - c# 程序从 Google 调用 Google+ API 和自定义搜索 API

> ID：10137046
> 
> 赞同：0
> 
> 时间：2012-04-13T07:47:14.037
> 
> 标签：c#, asp.net, .net, google-api

您能否通过代码示例告诉我如何编写一个调用
Google+ API 和 Google 的自定义搜索 API 的 C# 程序。

我知道在 ::::: 上有一个简短的描述

> 网址：https://developers.google.com/+/api/
> 网址：https://developers.google.com/custom-search/v1/using_rest
> 网址：http://code.google.com/p/google -api-dotnet-client/wiki/OAuth2

但是文档中给出的上述链接中提到的过程
并不是很清楚。
是否有通过 C# 代码进行的简单说明，可用于调用 Google+ API 和自定义
搜索 API？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T07:57:55.847

[Google API Dotnet 客户端项目](http://code.google.com/p/google-api-dotnet-client/)包含来自大多数 Google API 的 .NET 包装器，包括[Google+](http://code.google.com/p/google-api-dotnet-client/wiki/APIs#Google+_API)。

他们确实有[几个示例](http://code.google.com/p/google-api-dotnet-client/wiki/GettingStarted)，但还没有针对所有 API。

他们页面中用于查询公共活动的 Google+ 示例是：

```
CommandLine.EnableExceptionHandling();            
CommandLine.DisplayGoogleSampleHeader("PlusService API");     

// Create the service.             
var objService= new PlusService();
objService.Key = ""; //put in user key.

var acts = objService.Activities.Search();
acts.Query = "super cool";
acts.MaxResults = 10;

var searchResults = acts.Fetch();

if (searchResults.Items != null)
{
   foreach (Activity feed in searchResults.Items)
   {
      //extract any property of uer interest
      CommandLine.WriteResult(feed.Title, feed.Actor);
   }
} 
```

# c++ - 如何使用 Box2D 在 cocos2d iPhone 上调整 b2CircleShape 的大小

> ID：10137049
> 
> 赞同：0
> 
> 时间：2012-04-13T07:47:21.633
> 
> 标签：c++, cocos2d-iphone, box2d-iphone, physics-engine

我有一个带有一堆圆圈的 2D 物理沙箱，这些圆圈在接触时会调整大小（越大的越大，越小的越小）。我可以很好地调整精灵的大小，而且我知道您无法缩放 B2Body - 您需要销毁它并重新创建它，但我对 Box2D 还不够熟悉，无法做到这一点。

这是我正在做的调整精灵大小的方法：

```
std::vector<MyContact>::iterator pos;
for(pos = _contactListener->_contacts.begin(); 
    pos != _contactListener->_contacts.end(); ++pos) {
    MyContact contact = *pos;

    b2Body *bodyA = contact.fixtureA->GetBody();
    b2Body *bodyB = contact.fixtureB->GetBody();
    if (bodyA->GetUserData() != NULL && bodyB->GetUserData() != NULL) {
        PaintBlob *spriteA = (PaintBlob *) bodyA->GetUserData();
        PaintBlob *spriteB = (PaintBlob *) bodyB->GetUserData();

        NSLog(@"spriteA: %@ is touching spriteB: %@", spriteA, spriteB);

        if((spriteA.scale > spriteB.scale) && (spriteB.scale > 0)){
            spriteA.scale = spriteA.scale + kSCALE_INCREMENT;
            spriteB.scale = spriteB.scale - kSCALE_INCREMENT;
        }else if (spriteA.scale >0) {
            spriteB.scale = spriteB.scale + kSCALE_INCREMENT;
            spriteA.scale = spriteA.scale - kSCALE_INCREMENT;
        }

    }        
} 
```

如何调整（销毁/重新创建）Box2D 主体（b2CircleShape？）的大小。

我认为这就是你在 C 中的做法 - 来自[emanueleferonato.com](http://www.emanueleferonato.com/2009/12/12/scaling-objects-with-box2d/)（我不够开明，无法理解 C）：

```
// if I selected a body...
if (body) {
                // I know it's a circle, so I am creating a b2CircleShape variable
                var circle:b2CircleShape=body.GetShapeList() as b2CircleShape;
                // getting the radius..
                var r=circle.GetRadius();
                // removing the circle shape from the body
                body.DestroyShape(circle);
                // creating a new circle shape
                var circleDef:b2CircleDef;
                circleDef = new b2CircleDef();
                // calculating new radius
                circleDef.radius=r*0.9;
                circleDef.density=1.0;
                circleDef.friction=0.5;
                circleDef.restitution=0.2;
                // attach the shape to the body
                body.CreateShape(circleDef);
                // determine new body mass
                body.SetMassFromShapes();
            }
            return body; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T23:35:53.593

你好，英俊的恶魔。

就是这样：

```
 //Radius is worked out by scale * kBLOBDIAMETER /2 
    contact.fixtureA->GetShape()->m_radius = (spriteA.scale * kBLOBLDIAMETER / 2) /PTM_RATIO;
    contact.fixtureB->GetShape()->m_radius = (spriteB.scale * kBLOBLDIAMETER / 2) /PTM_RATIO;
    bodyA->ResetMassData();
    bodyB->ResetMassData(); 
```

# php - 简化进程创建的 PHP 库（fork）

> ID：10137050
> 
> 赞同：2
> 
> 时间：2012-04-13T07:47:25.657
> 
> 标签：php, fork

您知道任何可以简化流程、信号发送等工作的库吗？先感谢您！

编辑：我们正在 PHP 守护程序中从外部源加载一些数据。我们希望将 PHP 进程拆分为：

*   每个数据源加载一个进程，
*   一个处理来自每个数据源的数据的过程。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T10:30:27.233

您可能想查看[Spork](https://github.com/kriswallsmith/spork)，它旨在简化 php 中的分叉和后台处理。

它很新（仅在 3 天前宣布），但值得一试。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T07:51:30.580

您可以使用[过程控制](http://www.php.net/manual/en/book.pcntl.php)库，但它仅适用于 linux。

出于`fork`目的，它包含`pcntl_fork`功能。[示例](http://www.php.net/manual/en/function.pcntl-fork.php)：

```
$pid = pcntl_fork();
if ($pid == -1) {
     die('could not fork');
} else if ($pid) {
     // we are the parent
     pcntl_wait($status); //Protect against Zombie children
} else {
     // we are the child
} 
```

**UPD：**如果我正确理解您的目标，您可以在不分叉流程的情况下设计您的应用程序。您可以使用两个守护进程，其中第一个守护进程将处理数据源并将其添加到队列中。第二个守护进程将跟踪队列并对其进行处理。

Ps 据我所知，php 不能在 windows 平台上分叉进程。此外，您还可以在 php.ini 中使用[POSIX 函数](http://www.php.net/manual/en/book.posix.php)。

# node.js - 如何从node.js SMPP发送deliver_sm请求添加user_message_reference TLV

> ID：10137051
> 
> 赞同：1
> 
> 时间：2012-04-13T07:47:33.827
> 
> 标签：node.js, smpp, tlv

我正在使用[node-smpp](https://github.com/farhadi/node-smpp)并且想知道如何发送“deliver_sm”请求并将“TLV”响应添加到 user_message_reference。

[node-smpp / lib / smpp.js 的](https://github.com/farhadi/node-smpp/blob/master/lib/smpp.js)提取：

```
exports.addTLV = function(tag, options) {
    options.tag = tag;
    defs.tlvs[tlv] = options;
    defs.tlvsById[options.id] = options;
}; 
```

测试代码：

```
var tlv = new Object();
tlv.tag = 0x001E; // smpp.receipted_message_id;
tlv.lenght =  msgid.lenght;
tlv.value = msgid;

smpp.addTLV(tlv,tlv); 
```

结果：

```
defs.tlvs[tlv] = options;
       ^
ReferenceError: tlv is not defined 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T07:44:12.877

我是 node-smpp 模块的作者。

要将 tlv 参数或标准参数添加到您的 PDU，您只需向 pdu 添加一个具有适当名称的属性。

```
session.deliver_sm({
    source_addr: 'blahblah',
    destination_addr: 'blahblah',
    short_message: 'blahblah',
    receipted_message_id: 'blahblah',
    user_message_reference: msgid
}); 
```

这将发送带有上述参数以及其他必需参数设置为默认值的 Deliver_sm pdu。

一般来说，你根本不需要使用`smpp.addTLV`。它用于定义自定义供应商特定的 TLV（0x1400 和 0x3FFF 之间的标签）。

# c - 内联汇编错误：“asm”中的未知寄存器名称“%%ebx”

> ID：10137053
> 
> 赞同：1
> 
> 时间：2012-04-13T07:48:04.987
> 
> 标签：c, inline-assembly

我正在尝试创建 read() 包装器但收到此错误：

> 错误：第 23 行的 'asm' 中的未知寄存器名称 '%%ebx' //（粗线）

这是代码：

```
#include <sys/syscall.h>
typedef unsigned int size_t;
typedef signed ssize_t;

extern int errno;

int main(void) {
    int fd = 0;
    char buf[128];
    size_t count = 128;
    my_read(fd, buf, count);

    return 0;
}

int my_read(int fd, void *buf, size_t count) {
    long ret;

    asm("pushl %%ebx\n\t" // Line 23
        "movl %%esi,%%ebx\n\t"
        "int $0x80\n\t"
        "popl %%ebx"
        : "=a" (ret)/* output */
        : "0"(SYS_read), "S"((long) fd), "c"((long) buf), "d"((long) count)/* input */
        : "%%ebx"/* clobbered register */
        );
    if (ret >= 0) {
        return (int) ret;
    }
    errno = -ret;
    return -1;
} 
```

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-13T07:57:57.003

`%`从 clobbered 线上丢下一个

```
: "%%ebx"/* clobbered register */
   ^ 
```

您**必须**将其保留在所有其他行中。

### 编辑

删除`extern int errno;`并包含`errno.h`.

# ios - ios的语音应用怎么办？

> ID：10137057
> 
> 赞同：0
> 
> 时间：2012-04-13T07:48:33.753
> 
> 标签：ios, speech-recognition, text-to-speech, voice-recognition, speech-to-text

如何制作类似 Vlingo 的应用程序？有没有可以用来为ios制作应用程序的api？请提供一些指导方针或任何教程或帮助或评论将不胜感激提前谢谢

我也想知道会说话的本狗和会说话的汤姆猫在我们说话时是如何工作的，它以有趣的声音重复它。怎么可能？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T15:25:46.243

对于 iOS 上的语音识别，有很多类似的问题。请参阅[语音到文本的转换。？](https://stackoverflow.com/questions/6776402/speech-to-text-conversion)还是[文本到语音（语音生成）和语音到文本（语音识别）API？](https://stackoverflow.com/questions/6348770/text-to-speech-voice-generation-and-speech-to-text-voice-recognition-apis)或[支持西班牙语的 iOS 语音识别框架](https://stackoverflow.com/questions/7519947/speech-recognition-framework-for-ios-that-supports-spanish)或[ios 匹配少数关键字的当前最佳语音识别 API 是什么？](https://stackoverflow.com/questions/9202583/what-is-the-current-best-speech-recognition-api-for-ios-to-match-few-keywords)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:02:31.270

对于文本识别，您可以使用：

*   [https://bitbucket.org/sfoster/iphone-tts/src](https://bitbucket.org/sfoster/iphone-tts/src)

有关语音识别测试，请参见此处

*   [http://www.politepix.com/openears](http://www.politepix.com/openears)

# oracle - 循环更新列大小

> ID：10137060
> 
> 赞同：1
> 
> 时间：2012-04-13T07:48:42.770
> 
> 标签：oracle, plsql

我试图创建 PL/SQL 脚本来更新我的表的列大小。我的表如下所示：

```
| ID | TEXT | SIZE |
--------------------
| 1  | .... | null |
| 2  | .... | null |
| 3  | .... | null |
... 
```

我希望 PL/SQL 脚本根据某个文档的文本长度填充大小列，然后删除 TEXT 列的内容。

这是我尝试过的：

```
DECLARE 
cursor s1 is select id from table where size is null; 
BEGIN  for d1 in s1 loop
    update table set size = (select length(TEXT) from table where id = d1) where id=d1;  
end loop; 
END; 
/ 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-13T07:50:45.907

除非有充分的理由，否则请在纯 SQL 中执行此操作（或将以下语句放入 PL/SQL 中）：

```
UPDATE t
SET size = LENGTH(text),
    text = NULL
WHERE size IS NULL; 
```

这更容易阅读和更快。

# apache-flex - Flex：以日期为 x 轴，名称为 y 轴的堆叠条形图

> ID：10137068
> 
> 赞同：1
> 
> 时间：2012-04-13T07:49:17.350
> 
> 标签：apache-flex, date, charts, bar-chart, stacked

我正在制作一个图表，其中 x 轴需要有日期和 y 轴名称。日期越晚，条的长度越长。但是我想在彼此上堆叠多个条形图。例如

这是我到目前为止的代码

```
<fx:Script>
    <![CDATA[

        import mx.collections.ArrayCollection;

        [Bindable]
        private var medicines:ArrayCollection = new ArrayCollection([
            {name:"pil1", date:"05/01/2008"},
            {name:"pil2", date:"06/01/2008"},
            {name:"pil3", date:"07/01/2008"},
        ]);
    ]]>
</fx:Script>

<mx:BarChart id="myChart" width="758" height="448" dataProvider="{medicines}" showDataTips="true">

    <mx:verticalAxis>
        <mx:CategoryAxis categoryField="name"/>
    </mx:verticalAxis>

    <mx:horizontalAxis>
        <mx:CategoryAxis categoryField="date" dataProvider="{medicines}"/>
    </mx:horizontalAxis>

    <mx:series>

        <mx:BarSet type="stacked">
            <mx:BarSeries  xField="date"/>
            <mx:BarSeries  xField="date"/>
        </mx:BarSet>
    </mx:series>

</mx:BarChart> 
```

我用这段代码得到的是正确的轴，但没有绘制条形图。

我想得到一个像[这个](http://de-vry.be/Knipsel.PNG)图一样的图表，但在 X 轴上应该有固定日期。

仅供参考，它是一个移动应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T10:13:04.343

```
<fx:Script>
        <![CDATA[
            import mx.collections.ArrayCollection;
            import mx.events.FlexEvent;

            [Bindable]
            private var medicines:ArrayCollection = new ArrayCollection([
                {name:"pil1", date:new Date(2008, 5, 1).time},
                {name:"pil2", date:new Date(2008, 6, 1).time},
                {name:"pil3", date:new Date(2008, 7, 1).time},
            ]);

            protected function application3_creationCompleteHandler(event:FlexEvent):void
            {
                // TODO Auto-generated method stub
            }

            private function getLabel(catValue:*, prevCatValue:*, axis:*, catItem:*):String
            {

                return "Your date String";
            }

        ]]>
    </fx:Script>

    <mx:BarChart id="myChart" width="758" height="448" dataProvider="{medicines}" showDataTips="true">

        <mx:verticalAxis>
            <mx:CategoryAxis categoryField="name"/>
        </mx:verticalAxis>

        <mx:horizontalAxis>
            <mx:CategoryAxis categoryField="date" dataProvider="{medicines}" labelFunction="{getLabel}"/>
        </mx:horizontalAxis>

        <mx:series>

            <mx:BarSet type="stacked">
                <mx:BarSeries  xField="date"/>
                <mx:BarSeries  xField="date"/>
            </mx:BarSet>
        </mx:series>

    </mx:BarChart>

</s:Application> 
```

在标签功能中，您可以给标签您想在轴上显示的内容，希望这会有所帮助

# android - 限制 SQLiteDatabase 中的条目（行数）并从数据库中检索记录以创建 ListView

> ID：10137069
> 
> 赞同：0
> 
> 时间：2012-04-13T07:49:23.143
> 
> 标签：android, database, sqlite

我在 Android 中创建了一个简单的数据库。它有 3 列 RowID、UPCCode 和 Title。我已使用 youtube 上的 NewBoston 教程成功地将数据输入数据库。现在我想要将我的数据库限制为 10 条记录（例如最后 10 次搜索），并且我想在新活动中将它们显示到 ListView 中。

我在如何实现这一点方面遇到问题，找不到好的帮助.. 代码发布在下面...

TenSearches.java

```
package com.rhuf.brandscan;

import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.SQLException;
import android.database.sqlite.SQLiteDatabase;

public class TenSearches {
    public static final String KEY_ROWID="ID";
    public static final String KEY_UPC="upccode";
    public static final String KEY_TITLE="title";

    public static final String DATABASE_NAME="BrandscanDB";
    public static final String DATABASE_TABLE="ScanTable";
    public static final int DATABASE_VERSION=1;

    private DBHelper helper;
    private final Context context;
    private SQLiteDatabase BrandScanDB;

    public TenSearches(Context c)
    {
        context = c;
    }

    public TenSearches open() throws SQLException
    {
        helper = new DBHelper(context);
        BrandScanDB = helper.getWritableDatabase();
        return this;
    }

    public void close()
    {
        helper.close();
    }

    public long createEntry(String upc, String title)
    {
        ContentValues cv = new ContentValues();
        cv.put(KEY_UPC, upc);
        cv.put(KEY_TITLE, title);
        return BrandScanDB.insert(DATABASE_TABLE, null, cv);
    }

    public String getDataUPC()
    {
        String columns[]=new String[]{KEY_ROWID,KEY_UPC,KEY_TITLE};
        Cursor c = BrandScanDB.query(DATABASE_TABLE, columns, null, null, null, null, KEY_ROWID);
        String result;

        int iRow = c.getColumnIndex(KEY_ROWID);
        int iUPC = c.getColumnIndex(KEY_UPC);
        int iTitle = c.getColumnIndex(KEY_TITLE);

        //Make a listArray or Object Array from the Database entries
        return null;
    }
} 
```

DBHelper.java

```
package com.rhuf.brandscan;

import android.content.Context;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import com.rhuf.brandscan.TenSearches;

public class DBHelper extends SQLiteOpenHelper{

    public DBHelper(Context context) {
        super(context,TenSearches.DATABASE_NAME,null,TenSearches.DATABASE_VERSION);
        // TODO Auto-generated constructor stub
    }

    @Override
    public void onCreate(SQLiteDatabase db) {
        // TODO Auto-generated method stub
        db.execSQL("CREATE TABLE " +TenSearches.DATABASE_TABLE +" ("+
                TenSearches.KEY_ROWID +" INTEGER PRIMARY KEY AUTOINCREMENT, " +
                TenSearches.KEY_UPC +" TEXT NOT NULL, " +
                TenSearches.KEY_TITLE + " TEXT NOT NULL);");
    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        // TODO Auto-generated method stub
        db.execSQL("DROP TABLE IF EXISTS " + TenSearches.DATABASE_TABLE);
        onCreate(db);
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T07:51:52.633

不要只为 10 个条目使用数据库。列出最后十个条目（一个队列），并将其序列化到一个文件中。数据库是为许多条目和大量数据导致的问题而制作的，但您只想存储几行。

# android - Android：将 res/value 与 String[] 一起使用

> ID：10137076
> 
> 赞同：0
> 
> 时间：2012-04-13T07:49:59.540
> 
> 标签：android, android-resources

我知道如何在 Android 中将 strings.xml 用于全局字符串，但是 String[] 是什么？

有没有可能使用它，如果有，怎么用？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T07:52:38.997

如果您的意思是内部的字符串数组和 xml，请参阅[此处](http://developer.android.com/guide/topics/resources/string-resource.html#StringArray)

在你的 values 文件夹中创建一个文件，`arrays.xml`并像这样创建你的数组

```
<string-array name="colors">
    <item>red</item>
    <item>orange</item>
    <item>yellow</item>
    <item>green</item>
    <item>blue</item>
    <item>violet</item>
</string-array> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T07:53:39.113

不是直接在strings.xml 中，而是可以在string.xml 中完成类似的操作：

```
<string name="string1">str1</string>
<string name="string2">str2</string>

<string-array name="system">
    <item>@string/string1</item>
    <item>@string/string2</item>
</string-array> 
```

# jquery - 无法为此获得好的 jQuery ajax 代码

> ID：10137082
> 
> 赞同：0
> 
> 时间：2012-04-13T07:50:19.073
> 
> 标签：jquery, ajax

我制作了一段 jQuery 代码，用于动态追加一个新的文本字段。它还将检查字段的数量。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<head>
<style type="text/css">

    fieldset { 
        margin-bottom: 1em; 
    }

    input { 
        display: block; 
        margin-bottom: .25em; 
    }

    #print-output {
        width: 100%;
    }

    .print-output-line {
        white-space: pre;
        padding: 5px;
        font-family: monaco, monospace;
        font-size: .7em;
    }

    .enter {
        padding-bottom: 15px;72-96027-0008

    }

</style>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
</head>

<body onload="doIt ();">

<form>
    <div id="fields">
        <input id="input_'+ i +'" type="text" name="barcodes[]" class="target" /><span id="status_'+ i +'"></span><br />
    </div>
</form>

<script type="text/javascript">
    function doIt ()
    {
        var i = $('input').size() + 1;

        $("input:last").focus();
        $("input:last").keypress (function (e)
        {
            if (e.which == 13)
            {
                e.preventDefault();

                $("#input_'+ i +'").change(function(){

                var barcode = $("input_'+ i +'").val
                if(barcode.length > 0){
                    $("#status_'+ i +'").html('');

                    $.ajax({
                        type: "POST",
                        url: "text.txt",
                        data: "barcode="+ username,
                        success: function(server_response){
                            $("#status_'+ i +'").ajaxComplete(function(event, request){
                                if(server_response == '0'){
                                    $("#status_'+ i +'").html('<font color="red">On bekdende Barcode. probeer het opnieuw.</font>');
                                }else if(server_response == '1'){
                                    $("#status_'+ i +'").html('');

                                    $("#fields").append ('<div class="enter" id="input_'+ i +'"><input type="text" name="barcodes[]"  class="target" /><a href="#" onclick="verwijder (\'' + i + '\')">Delete</a><span id="status"></span></div><div id="error"></div>');
                                    $("#nItems").html("Er zijn " + (i - 1) + " items gescant");
                                }
                            });
                        }
                    });
                }
                doIt ();
            });
        }
    });

    doIt ();

    function verwijder (i)
    {
        $("#input_" + i).remove ();
    }
</script>

<span id="nItems">Er zijn nog geen items gescant</span>

</body>

</html> 
```

但现在我希望它检查字段中的输入是否存在。它必须说它是否不存在。我已经尝试了很多，但没有什么不起作用。

帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:03:07.473

尝试这个：

```
$.ajax({
    type: 'HEAD',
    url: 'link to chek with db',
    success: function() {
        alert('Item found.');
    },  
    error: function() {
        alert('Item not found.');
    }
}); 
```

# windows - 为什么在chrome和ie中右键单击后send_keys无法工作，但firefox很好？

> ID：10137087
> 
> 赞同：0
> 
> 时间：2012-04-13T07:50:36.003
> 
> 标签：windows, webdriver, watir, watir-webdriver

我想通过右键单击和 alt+y 复制页面中的图像，并且遵循代码在 firefox 中运行良好，但 chrome 和 ie。所以我无法从剪贴板中获取图像。

```
require 'watir-webdriver'
b = Watir::Browser.new :chrome
b.goto('www.baidu.com')
b.img(:src=>"http://www.baidu.com/img/baidu_sylogo1.gif").right_click
b.send_keys ("{alt}y") 
```

并且遵循代码可以很好地工作

```
require 'watir-webdriver'
b = Watir::Browser.new :chrome
b.goto('www.baidu.com')
b.send_keys :tab 
```

这可以很好地工作

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T16:48:33.090

When you do `b.send_keys ("{alt}y")`, you are just typing the letters {, a, l, etc.

Try this instead:

```
b.send_keys([:alt, 'y']) 
```

Watir and Watir-Webdriver use different inputs for send_keys - see [here](http://watirmelon.com/2011/07/19/sending-special-keys-to-watir-webdriver/).

Note: I did not test your full script with this. To be honest, I cannot figure out how to manually copy the image to clipboard using alt+y.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T20:25:21.200

不要浪费任何时间尝试自动化验证，例如验证码*（完全自动化的公共图灵测试以区分计算机和人类）*或其他旨在阻止自动化的身份验证系统。是的，它可以做到，但它正在有效地参与军备竞赛或在风车上倾斜。更重要的是，它不会给你的雇主带来任何价值。

围绕验证码或验证码进行自动化的正确方法是配置测试环境，使代码可预测。许多验证码工具或验证工具能够在“测试”模式下运行，并在其中设置响应。您永远不会以这种方式配置生产环境，但您可以轻松（并且应该）以这种方式配置测试环境。

与设置和控制测试环境的人交谈。他们只需要一些逻辑来知道它是一个测试环境，然后使用适当的 api 调用验证码或授权工具（如谷歌授权器，或每 5 分钟输出一次数字的小部件）将其置于测试模式，以便它使用可预测的验证响应。

这是我在谈论的一个例子：http: [//captcha.biz/doc/aspnet/api/captcha-configuration-reference.html#BotDetect.Configuration.ITestModeConfiguration](http://captcha.biz/doc/aspnet/api/captcha-configuration-reference.html#BotDetect.Configuration.ITestModeConfiguration)

如果您使用的东西不支持这一点，那么您可以将系统配置为完全跳过验证码，或者您可以将其配置为指向您创建的一些测试存根（而不是真正的验证码系统）。这将是您或您的开发人员创建的一小段代码，它使用与真实验证码相同的 api，但始终期望得到相同的答案。在这种情况下，一切的行为都与它与真正的验证码服务交谈时完全一样，但它正在与之交谈的小存根代码总是发送具有相同“答案”的相同图像，例如“测试”

这种事情对于测试环境来说是正常的，在这些环境中，各种第三方的东西要么被禁用，要么进入测试模式，要么连接到测试沙箱（例如验证码、广告、网站分析、跟踪像素、信用卡授权服务， ETC）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-13T16:05:29.793

这将有助于了解您为什么要保存图像。屏幕截图会起作用吗？如果会，试试这个：

```
b.driver.save_screenshot "#{Time.now.to_i}.png" 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-16T13:41:46.570

根据之前的评论之一，听起来您最终只需要一种保存图像的方法。我认为将其复制到剪贴板实际上并不重要。

因此，您在 Watir-Webdriver 中完成所有导航，然后切换到其他 Ruby gem 之一（例如 Open-URI 或 Net-Http）来下载图像。

以下是使用 Open-URI 的示例：

```
require 'watir-webdriver'
require "open-uri"

save_file = 'C:\Documents and Settings\Setup\Desktop\image.png'

b = Watir::Browser.new :chrome
b.goto('www.baidu.com')
image_location = b.img.src

File.open(save_file, 'wb') do |fo|
  fo.write open(image_location).read
end 
```

# api - REST API 设计 - 查询邮件数据 - 选择哪种毒药？

> ID：10137089
> 
> 赞同：6
> 
> 时间：2012-04-13T07:50:42.520
> 
> 标签：api, http, url, rest

我们目前正在设计一个内部 REST api。我们有以下用例：

1.  用户(109)想要阅读他发送给另一个用户(110)的消息
2.  阅读用户 (109) 通过他在验证后收到的令牌凭证（在执行 GET 请求时）为应用程序所知
3.  我们假设在这个例子中，用户 109 是发送者，110 是接收者

从用户的角度总结“给我我（109）发送给110的邮件”

我们想到了以下 URI，但我们无法决定采用哪一个：

```
a) GET http://localhost:9099/api/mails/109?receiverUserId=110
b) GET http://localhost:9099/api/mails?senderUserId=109&receiverUserId=110
c) GET http://localhost:9099/api/mails?receiverUserId=110
d) GET http://localhost:9099/api/mails/me/to/110 (when logged in as 109 via token credentials we know that "me" is 109)
f) GET http://localhost:9099/api/mails/109/to/110 (explicit request, e.g. for admins … has to be guarded against illegal access) 
```

所有链接都是“上下文敏感的”，将链接之一发送到接收器 (110) 将产生执行 GET 请求的不同结果。

我想知道您对使用什么网址的看法。

任何帮助高度赞赏。

干杯马塞尔

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T09:44:58.067

对不同客户端的不同响应，对于*相同*的URL 是可以的。

StackExchange 做到了：

```
GET /me/comments/{toid} 
```

这是记录[在这里](https://api.stackexchange.com/docs/me-comments-to)。

Twitter 也这样做：

```
GET /statuses/home_timeline 
```

这是记录[在这里](https://dev.twitter.com/docs/api/1/get/statuses/home_timeline)。

这两个 URL 都基于身份验证推断登录用户。是的，如果用户共享缓存，它会破坏缓存，但是 IMO，这没关系。这是否打破了 REST 的“资源识别”约束可能是值得商榷的。[这个](https://stackoverflow.com/questions/3408191/is-the-twitter-api-really-restful)问题的答案以及随后的评论向我展示了为什么它值得商榷。

事实上，在这些选项中，您*确实*提到了不“上下文敏感”的 URL：

```
GET /api/mails?senderUserId=109&receiverUserId=110 
```

这将始终返回从 109 到 110 的消息。但是，当一个客户端在查看“已发送”消息时希望看到此结果时，另一个客户端希望在查看“已接收”消息时看到此结果。有点奇怪吧？另外，在服务器上，您必须检查经过身份验证的用户是否为 109|110，否则抛出`401 UNAUTHORIZED`.

我会选择类似的东西：

```
GET /mail/sent 
```

返回所有发送的邮件。和：

```
GET /mail/sent?to=110 (like applying a 'filter' to /mail/sent)
OR
GET /mail/sent/110 (clean URL) 
```

返回发送到 110 的邮件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T11:29:15.767

“上下文敏感”链接对于*REST* API 来说是个坏主意（特别是，这会阻碍缓存）。如果您只想使用 HTTP，这没关系。

因此，我建议使用不依赖于当前用户的 URL，并根据您的规则限制对它们的访问。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T12:44:23.707

在我看来，你需要 2 层：

一个是内部层，它不需要用户身份验证，只能从内部组件访问。它包括 API，例如

`GET http://localhost:9099/api/mails?senderUserId=109&receiverUserId=110`

该层的优点是可测试性、可重用性和可缓存性。

另一层是外部层，它需要用户认证并且可以从外部客户端访问。它包括 API，例如

`GET http://localhost:9099/api/mails?receiverUserId=110`.

客户端必须登录才能获取令牌凭据，然后服务器可以从该令牌中获取用户信息，并将外部 API 调用映射到内部 API 调用。

你可能有不同种类的认证方式，但内部层不会改变，你只需要将不同的外部层映射到内部层。

# ios - 苹果ios应用图标问题

> ID：10137093
> 
> 赞同：0
> 
> 时间：2012-04-13T07:50:55.813
> 
> 标签：ios, ios-simulator

我想知道有什么方法可以显示具有透明背景的应用程序图标，例如一个白色圆圈和它周围的区域是透明的，认为图像是透明画布。但应用程序显示圆形图标的黑色背景。

欢迎所有的依赖。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:02:23.813

您的应用程序图标将显示为与所有其他应用程序相同大小的圆角方形按钮 - 例如，无法真正让它看起来像一个圆形按钮。

如果您控制将安装应用程序的设备，则可以为您的图标添加与设备上的墙纸相匹配的背景。不要忘记通过将 Info.plist 中的 UIPrerenderedIcon 标志设置为 YES 来关闭闪耀效果。

# php - 如何在opencart中的用户级别应用权限

> ID：10137096
> 
> 赞同：0
> 
> 时间：2012-04-13T07:51:06.467
> 
> 标签：php, opencart

我正在使用 Opencart 版本 1.5.1.3。我已经在用户组和用户模块中进行了一些更改和自定义。我在用户级别的权限中面临的问题。

当管理员创建任何普通用户后，该用户登录并转到**系统->用户**选项卡，然后他们可以看到所有用户列表，包括管理员和超级管理员。实际上，我不想授予用户查看所有用户并对其进行编辑的权限。

那么我如何才能获得许可，并仅显示由该特定用户创建的用户。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T10:13:59.350

首先确保他们有自己的用户组。其次，编辑用户组，确保访问和修改列表中的“用户/用户”值旁边没有复选框，然后保存

# opencv - 编译 Opengazer-0.1.2 并得到 vnl_cholesky.h 错误

> ID：10137099
> 
> 赞同：0
> 
> 时间：2012-04-13T07:51:10.100
> 
> 标签：opencv, compilation, computer-vision

经过这么多麻烦，我能够安装 VXL-1.14.0 并编译 opengazer [http://www.inference.phy.cam.ac.uk/opengazer/](http://www.inference.phy.cam.ac.uk/opengazer/)。[我按照它的 README 和 mirkrules http://www.mirkules.com/opengazer/vxl_install_notes.txt](http://www.mirkules.com/opengazer/vxl_install_notes.txt)的一个非常有用的注释来修改 opengazer 的 Makefile 和相关文件（例如“PointTracker.h”）。例如，在我的 Makefile 中，我将前几行更改为如下（vxl 标头在“/usr/local/include/vxl”中，共享库在“/usr/local/lib”中，其中有“ libvnl_algo.so”和“libvnl.so”）：

```
VXLDIR = /usr/local
VERSION = opengazer-0.1.2
CPPFLAGS = -Wall -g -O3
LINKER = -L$(VXLDIR)/lib -L/usr/local/lib -lm -ldl -lvnl -lmvl -lvnl_algo -lvgl -lgthread-2.0 

# change the following line if your vxl library is installed elsewhere
INCLUDES = $(foreach prefix,/usr/local/include $(VXLDIR)/include $(VXLDIR)/include/vxl, \
    $(foreach suffix,/core /vcl /contrib/oxl /core/vnl/algo,-I$(prefix)$(suffix))) 
```

===

不过，当我编译时，我得到如下错误：

```
LeastSquares.o: In function `LeastSquares::solve()':
/home/mycomp/Downloads/opengazer-0.1.2/LeastSquares.cpp:27: undefined reference to `vnl_cholesky::vnl_cholesky(vnl_matrix<double> const&, vnl_cholesky::Operation)'
/home/mycomp/Downloads/opengazer-0.1.2/LeastSquares.cpp:27: undefined reference to `vnl_cholesky::solve(vnl_vector<double> const&) const'
LeastSquares.o: In function `~vnl_cholesky':
/usr/local/include/vxl/core/vnl/algo/vnl_cholesky.h:45: undefined reference to `vnl_vector<double>::~vnl_vector()'
/usr/local/include/vxl/core/vnl/algo/vnl_cholesky.h:45: undefined reference to `vnl_matrix<double>::~vnl_matrix()'
LeastSquares.o: In function `LeastSquares::solve(double&, double&, double&)':
/home/mycomp/Downloads/opengazer-0.1.2/LeastSquares.cpp:39: undefined reference to `vnl_vector<double>::~vnl_vector()'
LeastSquares.o: In function `~vnl_cholesky':
/usr/local/include/vxl/core/vnl/algo/vnl_cholesky.h:45: undefined reference to `vnl_matrix<double>::~vnl_matrix()'
/usr/local/include/vxl/core/vnl/algo/vnl_cholesky.h:45: undefined reference to `vnl_vector<double>::~vnl_vector()'
/usr/local/include/vxl/core/vnl/algo/vnl_cholesky.h:45: undefined reference to `vnl_matrix<double>::~vnl_matrix()'
/usr/local/include/vxl/core/vnl/algo/vnl_cholesky.h:45: undefined reference to `vnl_matrix<double>::~vnl_matrix()'
collect2: ld returned 1 exit status
make: *** [opengazer] Error 1 
```

任何熟悉 VXL、Opengazer 或编译 C 库的人都可以告诉我这里可能发生了什么吗？谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-09T16:36:41.273

使用旧版本`gcc`似乎可以解决问题：

```
sudo apt-get install g++-4.4 
```

然后将 Makefile 中包含的行更改`g++`为`g++-4.4`.

如果之后遇到模棱两可的异常问题，请参阅[安装说明。](http://www.mirkules.com/opengazer/vxl_install_notes.txt)

# google-chrome-extension - chrome 扩展无法加载

> ID：10137102
> 
> 赞同：0
> 
> 时间：2012-04-13T07:51:15.280
> 
> 标签：google-chrome-extension

做了我的第一个分机。它在旧版上运行良好。现在用新的尝试加载解压的分机。它根本不起作用。我看到我的 ext 弹出广告 bg.html 但内容脚本根本没有加载，没有图像应该在目标页面上。其他解压的分机工作正常。但我的垃圾有效（请帮帮我！ `manifest.json`：

```
{
    "background_page": "bg.html",
    "name": "lardi trans",
    "version": "1.0",
    "icons": {
        "48": "icon_48.png"
    },
    "browser_action": {
        "default_icon": "icon_48.png",
        "default_title": "Lardi Trans",
        "default_popup": "popup.html"
    },
    "permissions": [
        "tabs",
        "notifications",
        "http://lardi-trans.com/gruz/*",
        "http://lardi-trans.com/trans/*",
        "unlimitedStorage"
    ],
    "content_scripts": [{
        "matches": [
            "http://lardi-trans.com/gruz/*",
            "http://lardi-trans.com/trans/*"
        ],
        "css": ["extent_styles.css"],
        "js": ["jq.js", "script.js"],
        "run_at": "document_end"
    }]
} 
```

应该是 ext 的页面的屏幕截图我标记了必须出现的地方我的表单 [控制台截图](http://dl.dropbox.com/u/28374703/ext1.PNG) 和其他 ext 脚本像这样加载！[screenshot2](http://dl.dropbox.com/u/28374703/ext_script.png)（5次相同的脚本？WTF？？）但无论如何我看不到我的ext script.js（为什么它不加载？）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:19:16.440

您不必将 css 的链接提供给 manifest.json 文件。只是，在 bg.html 中调用它

我的 manifest.json 文件

```
 {
  "name": "Example",
  "version": "2.0",
  "description": "Example.com Description",
  "icons": { "16":"Images/Example/16x16.png", "32":"Images/Example/32x32.png", "48": "Images/Example/48x48.png", "64": "Images/Example/64x64.png", "128": "Images/Example/128x128.png" },

  "app": 
  {
        "default_icon": "../Images/Example/icon.png",
        "launch": 
        {
            "local_path": "Pages/Index.html"
        }
  },

  "permissions": [ "http://www.Example.com/", 
                   "http://*.Example.com/", 
                   "https://www.Example.com/",
                   "https://*.Example.com/",
                   "unlimitedStorage",
                   "tabs",
                   "notifications"
                   ],
  "options_page": "Pages/Options.html",
  "background_page": "Pages/Background.html"
} 
```

如果该答案对您有帮助，请将其标记为答案...

如果您仍然有错误，请询问他们该答案的底部。

此致。

**编辑**：

*查看错误 - 步骤；*

单击您的扩展程序按钮将其打开。

使用 F12 键在 Google Chrome 中打开调试窗口。

单击“控制台”标签页。

对其进行截图，并将图片发布在您的问题中。

这样每个人都可以帮助你=）

编辑2：

好的，你的问题现在看起来有点不同了。

这是算法；

用jquery下载目标网页的站点源代码，用json在head标签中插入你的css行，在localStorage(html5)中存储新的源代码完成后，用js刷新页面，从localStorage中读取新的源代码并显示在html。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-14T11:00:52.697

如果有人感兴趣，问题解决了，由于某种原因在清单中添加 unprop whitespases`"content_scripts": [{ "matches": ["http://lardi-trans.com/gruz/*","http://lardi-trans.com/trans/*"],` 这行得通！））

# php - 如何使用 plesk 在 windows server 2008 上安装 red5

> ID：10137104
> 
> 赞同：1
> 
> 时间：2012-04-13T07:51:18.290
> 
> 标签：php, windows, red5, plesk

请告诉我如何使用 plesk 在 windows server 2008 上安装 red5 一步一步。

我已经阅读了“spatil”问题（我已经在我的服务器上安装了 red5。它在我的 IP 上运行良好，但是当我在不同的 IP（或客户端）上打开 red5 链接（http://myhost:5080）时它不起作用。请帮忙..）。

但我不知道如何在 Plesk Windows 2008 服务器上安装 red5 媒体服务器。

问候， 潘卡伊

# delphi - 用于显示数学表达式的 Delphi 组件或库

> ID：10137105
> 
> 赞同：19
> 
> 时间：2012-04-13T07:51:26.050
> 
> 标签：delphi, math

我正在寻找一个在 Delphi 中显示数学表达式的简单组件。当我开始时，我认为在网上找到一些东西很容易，但事实证明这比预期的要难。有很多很多的组件可以*解析*数学表达式，但很少（没有？）会显示它们。

理想情况下，我想要一个像 TLabel 这样简单的组件，我可以在其中将标题设置为某个表达式，并且它会正确显示，但是让我将表达式绘制到画布上的某种库也足以满足我的需要。

**更新：**

我不是在谈论绘制函数图或类似的东西。我想显示（例如）

> (X^2+3)/X

像这样：

> ![在此处输入图像描述](../Images/6218326a7865f48b52cd0f2986497348.png)

**解决方案：**

MBo 的答案正是我想要的。有些人可能会对所有评论和文档都是俄语的事实感到厌烦，但不要让这吓到你。它真的很容易使用。

安装：将文件（至少“ExprMake.pas”和“ExprDraw.pas”）解压缩到库路径中的目录。就是这样。

使用：我没有对它进行过广泛的实验，但是这几行代码证明了它是多么容易。

```
procedure TForm1.Button1Click(Sender: TObject);
var
  vExprC : TExprClass;
  vExprB : TExprBuilder;
begin
  vExprB := TExprBuilder.Create;
  try
    vExprC := vExprB.BuildExpr('(X^2+3)/X');
    vExprC.Canvas := Canvas;
    vExprC.Font.Size := 50;
    vExprC.Draw(10,10,ehLeft,evTop);
  finally
    vExprC.Free;
    vExprB.Free;
  end;
end; 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-04-13T11:47:33.840

[Anton Grigoriev 的本机 Delphi 模块](http://www.delphikingdom.com/zip/expr.zip)，用于绘制数学表达式。助理程序 - 俄语。[这就是它的样子](http://www.delphikingdom.com/asp/viewitem.asp?catalogid=718)。

关于学分的补充：模块是免费的。*作者只要求提及（AboutBox 等）数学表达式是通过 Anton Grigoriev 编写的 ExprDraw 和 ExprMake 模块绘制的* （来自 readme.txt 的原始翻译）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-13T11:15:52.420

我不知道原生的 Delphi 实现，但也许这个问题对你有帮助：[How to render a formula in WPF or WinForms](https://stackoverflow.com/q/8899204/256544)。它提到了一些可能翻译或用作 DLL 的 C/C# 解决方案（请参阅 OP 的解决方案）。

另一种选择可能是这个[Formulator ActiveX Control](http://www.mmlsoft.com/index.php?option=com_content&task=view&id=7&Itemid=8)。

此外，如果您使用其他一些搜索条件，尤其是没有“Delphi”关键字，它可能会扩大您的搜索结果。;-)

```
renderer, formula, math, MathML, expression, engine, tex, ... 
```

正如我们可以从[MBo 的回答](https://stackoverflow.com/a/10140214/256544)中学到的那样，用其他语言搜索也可能是个好主意:-)

```
delphi математических формул рисования 
```

我确定您搜索过类似的内容，但可能有一个关键字您忘记了。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-01T11:21:33.483

我一直在寻找类似的组件，而 MBo 的解决方案是可以接受的。

我确信它也可以通过另一种方式完成：嵌入 TWebBrowser 并为 LaTex 和 MathML 公式使用现有的 javascript 渲染器，但是......

我刚刚尝试[***了 QDSEquations***](https://github.com/karser/QDSEquations)，我认为它甚至是一个更好的解决方案！

> ⟪ Delphi 组件方程编辑器，允许您输入和显示任何复杂的数学公式，从简单的希腊符号到矩阵和复杂的积分表达式。您可以在 Delphi 环境中编写的项目中使用方程编辑器，例如，在测试不同数学领域（数学分析、离散数学、概率论等）、物理等知识的程序中。
> 
> 在其中输入公式非常容易：
> 
> *   简单符号的输入类似于在文本字段中输入数据
> *   在附加菜单的帮助下输入特殊符号和公式元素 ⟫</li>

更好的是，您可以借助附加按钮菜单组件和/或使用数学表达式字符串和/或使用预定义的方法直接在“文本字段”组件中编辑公式。

希望它有所帮助！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-13T12:05:00.653

几个月前我遇到了同样的问题，我通过获取可以从 Delphi 调用的 LaTeX 渲染器 DLL 解决了它。然后你只是调用它，将表达式作为字符串给它，它会返回一个位图，其中包含渲染的表达式。

不幸的是我忘记了这个名字:(但你应该能够通过寻找“latex dll delphi”再次找到它？

# asp.net-mvc-3 - 在 Viewbag 中放置字典

> ID：10137107
> 
> 赞同：0
> 
> 时间：2012-04-13T07:51:38.057
> 
> 标签：asp.net-mvc-3, model-view-controller

我正在尝试在我的 View 中访问 Dictionary 。但以下语法：

```
@{
    var indexList = Viewbag.IndexList as Dictionary<int,long>;
} 
```

不起作用：`The name 'Viewbag' does not exist in the current context`

PS：尝试在 Viewbag 之前放置“@”，仍然不起作用。

有人可以帮忙吗？提前致谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-13T07:53:37.293

不是 ViewBag 吗？

```
var indexList = ViewBag.IndexList as Dictionary<int,long>; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-03T00:51:17.853

试试这个方法：

```
var indexList = this.ViewBag.IndexList as Dictionary<int,long>; 
```

# php - 对于相同的值，对等于的 Mysql 字符串检查为假

> ID：10137113
> 
> 赞同：0
> 
> 时间：2012-04-13T07:52:05.347
> 
> 标签：php, mysql, strlen

我的 MySql 有问题我有一个表格，其中包含来自网站的解析信息。出现了一个奇怪的字符串解释：

查询

```
select id, address from pagesjaunes_test where address = substr(address,1,length(address)-1) 
```

返回一组值而不是无

一开始我执行的功能如下：

```
address = replace(address, '\n', '')
address = replace(address, '\t', '')
address = replace(address, '\r', '')
address = replace(address, '\r\n', '')
address = trim(address) 
```

但问题仍然存在。

字段“地址”的值有一些法语字符，但查询返回的值也只包含字母数字英语字符。

另一个测试：我试图检查字符串的长度...... PHP 的 strlen() 和 MYSQL 的 LENGTH() 显示不同的结果！某处差异是 2 个字符，某处是 1 个字符，没有特定的“规则”。

视觉我看不到任何空格或标签或其他东西。

在我手动修改了一个地址之后（我删除了所有字符串并重新编写了它），问题解决了，但我有〜6000个值，所以这不是一个解决方案:)

可能是什么问题？

我想字符串可以有“空字符”之类的东西，但是如何检测和删除它呢？

谢谢

PS问题不仅仅是长度。我需要将此表与另一个表连接起来，并使用一个条件来检查字段“地址”中的值是否相等。即使字段具有相同的排序规则并且表具有相同的排序规则，查询也会返回没有匹配的地址

例如

查询：

```
SELECT p.address,char_length(p.address) , r.address, char_length(r.address) 
FROM `pagesjaunes_test` p
LEFT JOIN restaurants r on p.name=r.name
WHERE  
p.postal_code=r.postal_code 
and p.address!=r.address
and p.phone='' 
and p.cuisines=''
LIMIT 10 
```

所以：***p.address!=r.address***

结果是：

```
+--------------------------------------+------------ ----------+--------------+--------- ---------------+
| 地址 | char_length(p.address) | 地址 | char_length(r.address) |
+--------------------------------------+------------ ----------+--------------+--------- ---------------+
| Dupin Marc13 quai Grands Augustins | 34 | 13 quai Grands 奥古斯丁 | 24 |
| 39 r 蒙彭西耶 | 16 | 39 r 蒙彭西耶 | 16 |
| 8 r 拜伦勋爵 | 14 | 3 r 巴尔扎克 | 10 |
| 162 r 沃吉拉尔 | 15 | 162 r 沃吉拉尔 | 15 |
| 32 r Goutte d'Or | 16 | 32 r Goutte d'Or | 16 |
| 2 r Casimir Périer | 18 | 2 r Casimir Périer | 18 |
| 20 r Saussier Leroy | 19 | 20 r Saussier Leroy | 19 |
| Senes Douglas22 r Greneta | 25 | 22 r 格雷内塔 | 12 |
| Ngov Ly Mey44 r Tolbiac | 23 | 44 r 托比亚克 | 12 |
| 33 r ND 拿撒勒 | 20 | 33 r ND 拿撒勒 | 20 |
+--------------------------------------+------------ ----------+--------------+--------- ---------------+

```

如您所见，“162 r Vaugirard”、“20 r Saussier Leroy”仅包含 ASCII 字符，长度相同但不相等！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T07:57:27.133

也许看看mysql文本字段的编码——UTF8用2个字节编码它的大部分字符——只有一小部分UTF8（例如ASCII字符）用一个字节编码。

MySQL 知道 UTF8 并且计数正确。PHP 文本函数不支持 UTF8 并计算字节本身。

所以如果 PHP 比 MYSQL 更重要，这可能是原因，你可以看看 utf8decode。

来自萨尔茨堡的兄弟！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:08:53.353

The [official documentation](http://dev.mysql.com/doc/refman/5.6/en/string-functions.html#function_length) says:

> Returns the length of the string str, measured in bytes. A multi-byte character counts as multiple bytes. This means that for a string containing five two-byte characters, LENGTH() returns 10, whereas CHAR_LENGTH() returns 5\.

So, use [`CHAR_LENGTH`](http://dev.mysql.com/doc/refman/5.6/en/string-functions.html#function_char-length) instead :)

```
select id, address from pagesjaunes_test
where address = substr(address, 1, char_length(address) - 1) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-17T08:21:50.713

最后，我发现了问题。将排序规则更改为 ascii_general_ci 后，所有非 ascii 字符都转换为“？”。一些空格也被替换为“？”。检查初始值后，来自 MySQL 的函数 ORD() 为这些空间返回 160（而不是 32）。所以，

```
UPDATE pagesjaunes_test SET address = TRIM(REPLACE(REPLACE(address, CHAR(160), ' '), '  ',' ') 
```

解决了我的问题。

# plsqldeveloper - (+) PLSQL 中的函数

> ID：10137116
> 
> 赞同：4
> 
> 时间：2012-04-13T07:52:13.933
> 
> 标签：plsqldeveloper

我现在正在与 PLSQL 开发人员打交道，这是我第一次。我发现这种查询

```
select * from tableA, tableB
where tableA.field1 = tableB.field1(+) 
```

我想知道`(+)`查询中的功能。各位大神能解释一下吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-13T07:53:55.683

```
where tableA.field1 = tableB.field1(+) 
```

这是旧的外连接语法，被 Oracle 采用，并且在 ANSI 实际标准化 SQL 语言时变得多余。Oracle 自己现在建议您`outer join`优先使用这种旧语法（来自下面的链接）：

> Oracle 建议您使用`FROM`子句`OUTER JOIN`语法而不是 Oracle 连接运算符。

有关更多详细信息，请参阅[Oracle 文档中的此条目。](http://docs.oracle.com/cd/B19306_01/server.102/b14200/queries006.htm#sthref3175)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-13T07:53:32.790

这是 Oracle SQL OUTER JOIN 语法

可以解释为

```
select * from tableA
OUTER JOIN tableB ON tableA.field1 = tableB.field1 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-13T07:54:30.303

来自 oracle 文档：

> (+) 表示前一列是连接中的外连接列。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-23T07:05:03.960

它可以用作

```
select * from tableA right outer join tableB where tableA.field1 = tableB.field1 
```

(+) 运算符表示它将返回右表中的所有行（匹配和不匹配）来自右表的两行。并且从左表返回匹配的行。
如果行与右表不匹配，则返回 null。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-09-29T15:35:03.820

`+`用于从表中检索经过数学处理和未处理的记录。

例子：

桌子`A`和桌子`B`

如果你使用喜欢`A.column1=B.column1(+)`

它从表中检索未处理的记录，`A`并将其称为左外连接。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-12-18T19:51:39.623

这是 LEFT OUTER JOIN 的 Oracle 特定符号

例子：

```
select ...
from a,b
where a.id=b.id(+) 
```

查询将被重写

```
SELECT ...
     FROM a
LEFT JOIN b ON b.id = a.id 
```

# mysql - 如何在mysql中进行完全外连接以组合两个表？

> ID：10137119
> 
> 赞同：1
> 
> 时间：2012-04-13T07:52:31.933
> 
> 标签：mysql, join, full-outer-join

我有两个表**payroll_advance**和**payroll_advrtn**，我应该做完全外连接来得到我需要的结果。但是，我确信在 mysql 中完全外连接是不可能的，而且我知道完全外连接可以通过使用union.But 我不知道如何在以下查询中加入。

我的**payroll_advance**表产生以下结果。

```
SELECT _id,_tid,_dt,sum(_amount) as _advance FROM payroll_advance WHERE YEAR( _dt )=YEAR(CURDATE()) AND MONTH(_dt) = MONTH(CURDATE()) group by _tid;

+-----+-------+------------+---------+
| _id | _tid  | _dt        | _advance|
+-----+-------+------------+---------+
|  17 | hjg   | 2012-04-18 |    2151 |
|  22 | RKT01 | 2012-04-10 |    2098 |
|  14 | RKT04 | 2012-04-18 |    1511 |
|  16 | RKT09 | 2012-04-09 |     250 |
|  15 | RKT10 | 2012-04-17 |    1313 |
|   8 | RKT21 | 2012-04-03 |    1321 |
|  19 | RKT31 | 2012-04-26 |    2512 |
|  20 | RKT33 | 2012-04-10 |    2250 |
|  25 | T01   | 2012-04-11 |    2500 |
+-----+-------+------------+---------+ 
```

payroll_advrtn 给出以下结果。

```
SELECT _id,_tid,_dt,sum(_amount) as _advrtn FROM payroll_advrtn WHERE YEAR( _dt ) = YEAR(CURDATE()) AND MONTH(_dt) = MONTH(CURDATE()) group by _tid;
+-----+-------+------------+---------+
| _id | _tid  | _dt        | _advrtn |
+-----+-------+------------+---------+
|   9 | RKT02 | 2012-04-10 |    2500 |
|   8 | RKT04 | 2012-04-20 |     150 |
+-----+-------+------------+---------+ 
```

但我想要通过结合上述两个结果得到类似以下结果。

```
 +------+-------+-------+------------+----------+---------+
| _id  | _tid  | _tid  | _dt        | _advance | _advrtn |
+------+-------+-------+------------+----------+---------+
|   17 | hjg   | NULL  | 2012-04-18 |     2151 |    NULL |
|   22 | RKT01 | NULL  | 2012-04-10 |      999 |    NULL |
|   14 | RKT04 | RKT04 | 2012-04-18 |       11 |     150 |
|   16 | RKT09 | NULL  | 2012-04-09 |      250 |    NULL |
|   15 | RKT10 | NULL  | 2012-04-17 |     1313 |    NULL |
|    8 | RKT21 | NULL  | 2012-04-03 |     1321 |    NULL |
|   19 | RKT31 | NULL  | 2012-04-26 |     2512 |    NULL |
|   20 | RKT33 | NULL  | 2012-04-10 |     2250 |    NULL |
|   25 | T01   | NULL  | 2012-04-11 |     2500 |    NULL |
| NULL | NULL  | RKT02 | NULL       |     NULL |    2500 |
+------+-------+-------+------------+----------+---------+ 
```

任何帮助将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:00:39.207

为了做到这一点，`FULL OUTER JOIN` [您可以](http://www.xaprb.com/blog/2006/05/26/how-to-write-full-outer-join-in-mysql/)使用`LEFT OUTER JOIN`and `UNION`with `RIGHT OUTER JOIN`（~~前提是`MySql`仍然不支持`FULL OUTER JOIN`~~）：

```
select * from A as a
    left outer join B as b on a.col = b.col
union
select * from A as a
    right outer join B as b on a.col = b.col 
```

请注意，您可以使用子查询`A`和`B`- 这应该适用于您的查询。在你的情况下：

```
select * from (SELECT * FROM t1) as a
    left outer join (SELECT * FROM t2) as b on a._tid = b._tid
union
select * from (SELECT * FROM t1) as a
    right outer join (SELECT * FROM t2) as b on a._tid = b._tid 
```

结果等于（前提是我在复制粘贴您的数据时没有错误）：

```
+------+-------+------------+----------+------+-------+------------+----------+
| _id  | _tid  | _dt        | _advance | _id  | _tid  | _dt        | _advartn |
+------+-------+------------+----------+------+-------+------------+----------+
|   17 | hjg   | 2012-04-18 |     2151 | NULL | NULL  | NULL       |     NULL |
|   22 | RKT01 | 2012-04-10 |     2098 | NULL | NULL  | NULL       |     NULL |
|   14 | RKT04 | 2012-04-18 |     1511 |    8 | RKT04 | 2012-04-20 |      150 |
|   16 | RKT09 | 2012-04-09 |      250 | NULL | NULL  | NULL       |     NULL |
|   15 | RKT10 | 2012-04-17 |     1313 | NULL | NULL  | NULL       |     NULL |
|    8 | RKT21 | 2012-04-03 |     1321 | NULL | NULL  | NULL       |     NULL |
|   19 | RKT31 | 2012-04-26 |     2512 | NULL | NULL  | NULL       |     NULL |
|   20 | RKT33 | 2012-04-10 |     2250 | NULL | NULL  | NULL       |     NULL |
|   25 | T01   | 2012-04-11 |     2500 | NULL | NULL  | NULL       |     NULL |
| NULL | NULL  | NULL       |     NULL |    9 | RKT02 | 2012-04-10 |     2500 |
+------+-------+------------+----------+------+-------+------------+----------+ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:25:19.633

像这样存储两个查询的结果：

```
create temporary table a as select ... ;
create temporary table b as select ... ; 
```

然后：

```
select * from a left join b using (_tid)
union
select * from a right join b using (_tid); 
```

# spring - 使用 Spring 依赖注入的原因

> ID：10137123
> 
> 赞同：-1
> 
> 时间：2012-04-13T07:52:46.657
> 
> 标签：spring, dependency-injection, dependencies

我目前正在学习 Spring，突然对 DI 产生了好奇

我的问题是**使用 DI 的主要原因是什么？**

抱歉重复的问题..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-13T07:57:37.263

DI 是实例化对象图的自动化、可配置方式。来自*Spring in Action，Craig Walls，Ryan Breidenbach*：

> 任何重要的应用程序都由两个或多个相互协作以执行某些业务逻辑的类组成。传统上，每个对象都负责获取自己对与之协作的对象（其依赖项）的引用。应用 DI 时，对象在创建时由协调系统中每个对象的某个外部实体赋予它们的依赖关系。换句话说，依赖项被注入到对象中。

您可能会阅读以下问题的答案：“[什么是依赖注入？](https://stackoverflow.com/q/130794/617996) ”。这样你就会得到更清晰的画面，使用它的主要原因是什么。

也许看看那篇很棒的[文章](http://codefornothing.wordpress.com/2007/11/11/why-use-dependency-injection/)。

# visual-studio - 如何使用 SVN 和 VS2010 解决机器相关配置问题？

> ID：10137129
> 
> 赞同：0
> 
> 时间：2012-04-13T07:53:15.670
> 
> 标签：visual-studio, svn, configuration

从一些背景开始，我是一个开发 ASP.NET 应用程序的小团队的成员。除了我们之外，还有另外 2 个团队正在为此工作，他们都来自不同的国家。源代码托管在共享的 SVN 服务器上，但没有中央测试环境。每个开发人员都在自己的机器上运行应用程序，并且每个团队都设置了数据服务。

不幸的是，我们的 SVN 工作流程存在一些缺陷：当有时间进行 SVN 更新时，就会出现烦恼。

主要是因为每个开发者和团队在磁盘目录结构和配置（IIS和app本身）方面的环境略有不同。因此，配置文件和其他地方的冲突本质上根本不是冲突 - 对于运行时配置 (XML) 和 *.suo。

**如果我们的目标是尽可能轻松地结帐、应用程序设置和更新，我们应该如何处理这个问题？**

一种选择显然是主副本。另一个在开发人员环境中建立统一性并保持它。但是第三种选择呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T07:58:44.140

要做的一件事是不要将`.suo`文件放入 SVN，没有理由这样做。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-18T12:09:09.083

对于 IIS 配置，不应该有任何争论 - 整个构建团队的统一环境。

对于app.config文件等，我倾向于将它们保存在项目的根目录中，并在需要的情况下使用预构建事件复制，这取决于我需要的项目和环境努力。

您可以有一个单独的构建任务将用户特定的配置复制到您的输出目录中。在您的根项目中添加一个名为“user.config 或其他内容的新目录，并将其留空。然后配置您的项目构建以检查此条目并将它们复制到输出目录。这很容易做到，然后每个开发人员都可以在不影响主副本的情况下拥有自己的配置。只要确保您在该文件夹上有一个忽略模式，这样您就不会提交特定于用户的配置。如果您对源代码存储库具有 svnadmin 访问权限，您可以设置一个挂钩来防止它永远不会发生。

还在根目录（递归）上为 .suo、.user、_Resharper 或您认为相关的任何其他扩展设置忽略模式。关于这个主题已经有一些 So 问题：

[最好的通用 SVN 忽略模式？](https://stackoverflow.com/questions/85353/best-general-svn-ignore-pattern)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-22T19:23:21.957

忽略 svn 中的 *.suo 和 *.user 文件。这很容易。之后在 subversion 中创建两种类型的配置文件。开发和服务器，如果在使用中添加测试也。请参见下面的示例。

```
ConnectionStringDevelopment.config
ConnectionStringServer.config

AppSettingsDevelopment.config
AppSettingsServer.config 
```

服务器文件将包含服务器信息。开发文件不包含在 svn 中并且在那里被忽略。每个新开发人员都会从复制服务器文件开始，并根据自己的环境进行更改。

查看以下示例站点 [http://code.google.com/p/karkas/source/browse/trunk/Karkas.Ornek/WebSite/web.config](http://code.google.com/p/karkas/source/browse/trunk/Karkas.Ornek/WebSite/web.config)

以下几行是兴趣。

```
<appSettings configSource="appSettingsDevelopment.config"/>
<connectionStrings configSource="ConnectionStringsDevelopment.config" /> 
```

[ConfigSource](http://msdn.microsoft.com/en-us/library/system.configuration.sectioninformation.configsource.aspx)几乎可以在 web.config 中的任何地方使用，因此您可以将每个配置更改为每个开发人员。仅使用以下命名约定。忽略颠覆中的 *Development.config。这样，不会将开发人员配置添加到 subversion。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-13T10:15:28.193

它不是一个完美的解决方案（只有在那些特殊文件不多的情况下才应该使用），但我所做的是为每种情况添加假文件，并将真实文件本地切换到它。详细说明：我有一个文件 foo 会产生问题。我还创建了 foo_1 和 foo_2，然后在本地将 foo 切换为 foo_1（我使用 tortoisesvn，所以我不能真正给你命令行来执行此操作）。然后我在我的机器上处理 foo，但实际上提交给 foo_1。然后其他方可以切换到 foo_2...

（我承认这基本上是您自己建议的主文件方法的一种变体；但是如果对这些文件没有太多实际更改，这至少可以减少您必须考虑的冲突数量）

# android - 如何读取资产文件夹中的 .pdf 文件

> ID：10137131
> 
> 赞同：2
> 
> 时间：2012-04-13T07:53:21.333
> 
> 标签：android, pdf

```
File file = new File("android.resource://com.baltech.PdfReader/assets/raw/"+filename);

                    if (file.exists()) {
                    Uri targetUri = Uri.fromFile(file);
                    Intent intent = new Intent(Intent.ACTION_VIEW);
                    intent.setDataAndType(targetUri, "application/pdf");
                        try {
                            startActivity(intent);
                        } 
                        catch (ActivityNotFoundException e) {
                            Toast.makeText(PdfReaderActivity.this, "No Application Available to View PDF", Toast.LENGTH_SHORT).show();
                        } 
```

我想阅读资产文件夹中的 .pdf 文件。我必须在文件名中给出什么路径。请帮忙。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T21:20:08.930

我不确定你是否已经得到了这个答案，看起来很老了，但这对我有用。

```
//you need to copy the input stream to a new file, so store it elsewhere
//this stores it to the sdcard in a new folder "MyApp"
String filename = Environment.getExternalStorageDirectory().getAbsolutePath() + "/MyApp/solicitation_form.pdf";

AssetManager assetManager = getAssets();

try {
    InputStream pdfFileStream = assetManager.open("solicitation_form.pdf");
    CreateFileFromInputStream(pdfFileStream, filename);

} catch (IOException e1) {
    e1.printStackTrace();
}

File pdfFile = new File(filename); 
```

CreateFileFromInputStream 函数如下

```
public void CreateFileFromInputStream(InputStream inStream, String path) throws IOException {
    // write the inputStream to a FileOutputStream
    OutputStream out = new FileOutputStream(new File(path));

    int read = 0;
    byte[] bytes = new byte[1024];

    while ((read = inStream.read(bytes)) != -1) {
        out.write(bytes, 0, read);
    }

    inStream.close();
    out.flush();
    out.close();

} 
```

真的希望这可以帮助其他阅读本文的人。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T08:08:06.443

```
File file = new File("file:///android_asset/raw/"+filename); 
```

用下面替换上面的行并尝试..

```
File file = new File("android.resource://com.com.com/raw/"+filename); 
```

并放置您的 PDF 文件原始文件夹而不是资产。还将 com.com.com 更改为您的包名称。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-13T08:14:01.773

由于资产文件存储在 apk 文件中，因此资产文件夹没有绝对路径。您可以使用一种解决方法来创建用作缓冲区的新文件。

您应该使用 AssetManager：

```
AssetManager mngr = getAssets();
InputStream ip = mngr.open(<filename in the assets folder>);
File assetFile = createFileFromInputStream(ip);

private File createFileFromInputStream(InputStream ip);

try{
   File f=new File(<filename>);
   OutputStream out=new FileOutputStream(f);
   byte buf[]=new byte[1024];
   int len;
   while((len=inputStream.read(buf))>0)
     out.write(buf,0,len);
  out.close();
  inputStream.close();

 }catch (IOException e){}
}
} 
```

# mysql - mysql查询顺序ASC从1开始然后全部显示为零

> ID：10137132
> 
> 赞同：4
> 
> 时间：2012-04-13T07:53:29.173
> 
> 标签：mysql

我有一个“顺序”列，我在其中存储文章，然后以特定顺序显示它们。我使用枚举类型'0'，'1'，'2'，'3'，默认为0。我需要一个查询来对结果进行排序：1、2、3、0、0、0、0 等等，以零为单位。是否可以？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-13T08:00:29.723

试试这个：

```
select * from table
order by val = '0', val 
```

即使您稍后将新值添加到枚举中，这也将起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T07:57:05.280

试试这个

```
select ...
from ...
order by case `order` when 0 then 4 else `order` end asc 
```

# matlab - Matlab：eps的反转？正重量的准确性？

> ID：10137137
> 
> 赞同：2
> 
> 时间：2012-04-13T07:53:43.000
> 
> 标签：matlab, noise, eps, computation

eps 返回从 1.0 到下一个最大双精度数的距离，所以我可以用它来解释负权重位置上的数字值。但是对于具有高正权重位置的非常大的数字，我可以用什么来解释？

我的意思是我需要一些参考来计算在 Matlab 上获得的数字的计算噪声。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-13T08:13:12.993

你读过[“每个计算机科学家应该知道的关于浮点运算的知识”](http://perso.ens-lyon.fr/jean-michel.muller/goldberg.pdf)吗？

它讨论了舍入误差（您称之为“计算噪声”）、用于表示浮点数的 IEEE 754 标准以及计算机上浮点数学的实现。

我相信阅读这篇论文会回答你的问题，或者至少让你更深入地了解浮点数学是如何工作的。

* * *

一些澄清以帮助您理解 - 太大而无法容纳@Richante 帖子的评论：

`realmin`首先，和之间的区别`eps`：

*   `realmin`是最小的*归一化*浮点数。您可以以非规范化形式表示较小的数字。
*   `eps`是不同数字之间的最小增量。`realmin`= `eps(realmin) * 2^52`。

上面链接的论文中解释了“标准化”和“非标准化”浮点数。

其次，舍入误差并不能表明您可以“信任”`n`数字的第几位。

举个例子，这个：

```
>> ((0.1+0.1+0.1)^512)/(0.3^512)

ans =

    1.0000 
```

我们`0.3^512`自己除，所以答案应该是一个，对吧？我们应该能够信任高达`eps(1)`.

这个计算中的错误实际上是`400 * eps`：

```
>> ((0.1+0.1+0.1)^512)/(0.3^512) - 1

ans =

  9.4591e-014

>> ans / eps(1)

ans =

   426 
```

计算**误差**，即`n`第 th 位不可信的程度，远大于`eps`答案表示中的浮点舍入误差。请注意，我们在这里只进行了六次浮点运算！您可以轻松累积数百万次 FLOP 以产生一个结果。

我再说一遍：`eps()`不是*您计算中错误的指标*。不要试图显示：“我的结果是 1234.567 +/- eps(1234.567)”。这是毫无意义且具有欺骗性的，因为这意味着您的数字比实际更精确。

`eps`*，您的答案表示*中的舍入误差仅为十亿分之一左右。您真正的敌人是每次执行浮点运算时累积的误差，而这正是您需要跟踪的，以便对误差进行有意义的估计。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T09:20:32.877

比 Li-aung Yip 推荐的论文更容易消化的是 Wikipedia 关于[machine epsilon](http://en.wikipedia.org/wiki/Machine_epsilon)的文章。然后阅读*每个计算机科学家的...*

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T08:16:27.437

您的问题措辞不是很好，但我认为您想要一些能够给出从数字到下一个最小双精度数字的距离的东西？如果是这种情况，那么您可以使用：

```
x = 100;
x + eps(x)  %Next largest double-precision number
x - eps(-x) %Next smallest double-precision number 
```

[双精度](http://en.wikipedia.org/wiki/Double-precision_floating-point_format)数只有一个符号位，因此从负数向上计数与从正数向下计数相同。

编辑：根据`help eps`，“对于所有 X，EPS(X) 等于 EPS(ABS(X))。” 这真的让我很困惑；我看不出这与具有单个符号位的 double 以及不等间距的值如何保持一致。

# php - 了解 vps v 共享主机

> ID：10137140
> 
> 赞同：-2
> 
> 时间：2012-04-13T07:53:57.177
> 
> 标签：php, shared-hosting, vps

我目前将我的网站部署在共享主机上，它很便宜并且有控制面板和帮助等。

我一直在查看 VPS 服务器并了解我将拥有完全控制权等。

切换到 VPS 是否容易 - 我是否需要从头开始安装所有东西，例如 mysql、php、控制面板等。我有点担心那种事情。

我进行更改的主要原因之一是我想涉足 zend 和其他框架。在我当前的共享主机 (hostpapa) 上，我可以更改 php.ini 设置。VPS 是一步之遥吗？

我的网站并不过分密集

塔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T07:57:00.717

如果它是托管 VPS，那么您不必担心安装，但如果它是非托管的，那么您将不得不担心很多事情，不仅是安全性，还有优化。如果您没有消耗您帐户的全部黑白并且您并没有那么大的*自由*，那么您肯定可以留在您的共享主机中。

# php - 程序中的不明错误：不友好的数字

> ID：10137142
> 
> 赞同：1
> 
> 时间：2012-04-13T07:54:22.820
> 
> 标签：php, algorithm, logic

面试街挑战有问题。也许是所有挑战中最简单的。“不友好的数字”，是这样的名字和问题。

有1个友好号码和N个不友好号码。我们想找出有多少数字正好整除友好数字，但不整除任何不友好数字。

输入格式：输入的第一行包含两个数字 N 和 K，用空格分隔。N是不友好号码的数量，K是友好号码。输入的第二行包含 N 个空格分隔的不友好数字。

输出格式：在一行中输出答案。

我做了这样的PHP编程：

```
<?php
/* Enter your code here. Read input from STDIN. Print output to STDOUT */
$handle = fopen ("php://stdin","r");
$input = fgets($handle);
$num_unfriendly_number=substr($input,0,1);
$friendly_number=substr($input,2,1);
$input2=fgets($handle);
for($i=0;$i<=($num_unfriendly_number); $i=$i+2){
    $unfriendly_numbers[$i]=substr($input2,$i,1);

}
//truncates additional input

//now getting divisiors of given friendly numbers

$check_num=1;
//one is always a divisor of any number
$divisior[0]=1;
$arrayindex=1;
for($check_num; $check_num<=$friendly_number; $check_num++){

    $hold_var=$friendly_number%$check_num;
    if($hold_var==0){
        $divisor[$arrayindex]=$check_num;
        $arrayindex++;
    }

}
$index=0;
foreach($divisor as $test_div){
    $output=true;
    foreach($unfriendly_numbers as $test_unfrnd){
        if($test_unfrnd%$test_div){
            $output=false;
        }
    }
    if ($output){
        $outputarray[$index]=$test_div;
        $index++; //edited afterwards after @Boris's suggestion but didn't work :(
    }
}
$num_of_output=count($outputarray);
define('STDOUT',fopen("php://stout","r"));  
fwrite(STDOUT,$num_of_output);
?> 
```

上面的程序对 2 个测试用例运行良好，但没有应用于其他测试。我做了一些研究，但没有发现任何错误。请有任何帮助。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:07:16.650

首先我要提一下，我不懂php。但是，我认为这很简单，我可以尝试提供帮助。

我看到的几个错误：

```
for($i=0;$i<=($num_unfriendly_number); $i=$i+2){
    $unfriendly_numbers[$i]=substr($input2,$i,1);
} 
```

在这里您使用`substr($input2,$i,1);`，但这假设您所有不友好的数字都是数字，但情况可能并非总是如此。更好地使用 php.ini 中的 split 函数。将整个 while 替换为以下内容：

```
$unfriendly_numbers = explode(" ", $input2); 
```

之后：

```
$index=0;
foreach($divisor as $test_div){
    $output=true;
    foreach($unfriendly_numbers as $test_unfrnd){
        if($test_unfrnd%$test_div){
            $output=false;
        }
    }
    if ($output){
        $outputarray[$index]=$test_div;
    }
} 
```

在这里，您永远不会增加`$index`变量。这不是意味着您将与其他除数一起覆盖除数吗？使用运算符`[]=`。它附加到 php 中的数组：

```
 if ($output){
     $outputarray []= $test_div;
 } 
```

**编辑**我看到的另一个错误是你指望友好的数字也是一个数字。你也可以解决这个问题：

```
$friendly_number=substr($input,2,1); 
```

->

```
$friendly_number=explode(" ", $input)[0]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-15T07:15:51.210

我有同样的问题，我不明白为什么这段代码不能在 16 秒内完成！我想听听你的把戏

`a = raw_input()`# 这将读取这一行：8 16 `b = raw_input()`# 这将读取这一行：2 5 7 4 3 8 3 18

```
al = a.split()

bl = b.split()

blint = []

fn = int(al[1])
fnlist = [fn] 
```

`half_fn = fn / 2`# 只有我去一半的数字来节省一些时间

```
k = 1

while k <= half_fn:
    if fn % k == 0:
        fnlist.append(k)
    k += 1

plist = []
for j in bl:
    blint.append(int(j)) # here I changed the bl list elements which are string to int

for i in fnlist:
    for j in blint: #I have the int elements so I don't need every time bring the string and change it to int
        if j % i == 0:
            plist.append(i)
            break
counter = len(fnlist) - len(plist)
print counter 
```

# powershell - 有没有办法通过双击 .ps1 文件来使 PowerShell 脚本工作？

> ID：10137146
> 
> 赞同：187
> 
> 时间：2012-04-13T07:54:45.590
> 
> 标签：powershell, powershell-2.0

我正在向我的团队分发 PowerShell 脚本。该脚本用于从 Vsphere 客户端获取 IP 地址，建立 mstsc 连接，并将其记录在共享文件中。

他们使用脚本的那一刻，他们就知道了机器的 IP 地址。之后，他们总是倾向于直接使用 mstsc 而不是运行 PowerShell 脚本。（由于他们使用的是 mstsc，我无法知道他们是否经常使用虚拟机。）

主要是他们告诉我运行 PowerShell 并不简单。

我为他们的懒惰感到恶心。

有没有办法通过双击 .ps1 文件来使 PowerShell 脚本工作？

* * *

## 回答 #1

> 赞同：170
> 
> 时间：2012-04-13T08:04:58.847

用类似这样的东西作为“目标”创建一个快捷方式：

```
powershell.exe -command "& 'C:\A path with spaces\MyScript.ps1' -MyArguments blah" 
```

* * *

## 回答 #2

> 赞同：100
> 
> 时间：2013-12-17T00:15:53.133

或者，如果您希望所有 PS1 文件都以 VBS 文件的方式工作，您可以像这样编辑注册表：

```
HKEY_CLASSES_ROOT\Microsoft.PowerShellScript.1\Shell\open\command 
```

将默认值编辑为类似...

```
"C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe" -noLogo -ExecutionPolicy unrestricted -file "%1" 
```

然后，您可以随意双击所有 .PS1 文件。在我看来，能够开箱即用。

我将把它称为“Powershell 去阉割黑客”。大声笑享受！

* * *

## 回答 #3

> 赞同：47
> 
> 时间：2017-08-23T05:06:40.547

这在 Windows 10 和 powershell 5.1 上对我有用：

*   右键单击 .ps1 文件
*   打开用...
*   选择其他应用
*   将powershell.exe的位置复制到地址栏（默认不显示windows文件夹）即C:\Windows\System32\WindowsPowerShell\v1.0
*   选择 powershell.exe
*   选择“始终使用此应用打开 .ps1 文件”
*   点击确定

* * *

## 回答 #4

> 赞同：22
> 
> 时间：2012-04-13T17:51:00.573

请注意，PowerShell 的一项安全功能是用户无法通过双击启动脚本。如果您修改此设置，请务必小心。另一种方法可能是打包您的脚本。一些像 PrimalScript 这样的编辑器可以做到这一点。用户仍然需要安装 PowerShell，但他们可以双击 exe。听起来你的团队需要一点教育。

* * *

## 回答 #5

> 赞同：18
> 
> 时间：2012-04-13T08:22:22.173

几年前我写了这个（以管理员权限运行）：

```
<#
.SYNOPSIS
    Change the registry key in order that double-clicking on a file with .PS1 extension
    start its execution with PowerShell.
.DESCRIPTION
    This operation bring (partly) .PS1 files to the level of .VBS as far as execution
    through Explorer.exe is concern.
    This operation is not advised by Microsoft.
.NOTES
    File Name   : ModifyExplorer.ps1
    Author      : J.P. Blanc - jean-paul_blanc@silogix-fr.com
    Prerequisite: PowerShell V2 on Vista and later versions.
    Copyright 2010 - Jean Paul Blanc/Silogix
.LINK
    Script posted on:
    http://www.silogix.fr
.EXAMPLE
    PS C:\silogix> Set-PowAsDefault -On
    Call Powershell for .PS1 files.
    Done!
.EXAMPLE
    PS C:\silogix> Set-PowAsDefault
    Tries to go back
    Done!
#>
function Set-PowAsDefault
{
  [CmdletBinding()]
  Param
  (
    [Parameter(mandatory=$false, ValueFromPipeline=$false)]
    [Alias("Active")]
    [switch]
    [bool]$On
  )

  begin
  {
    if ($On.IsPresent)
    {
      Write-Host "Call PowerShell for .PS1 files."
    }
    else
    {
      Write-Host "Try to go back."
    }
  }

  Process
  {
    # Text Menu
    [string]$TexteMenu = "Go inside PowerShell"

    # Text of the program to create
    [string] $TexteCommande = "%systemroot%\system32\WindowsPowerShell\v1.0\powershell.exe -Command ""&'%1'"""

    # Key to create
    [String] $clefAModifier = "HKLM:\SOFTWARE\Classes\Microsoft.PowerShellScript.1\Shell\Open\Command"

    try
    {
      $oldCmdKey = $null
      $oldCmdKey = Get-Item $clefAModifier -ErrorAction SilentlyContinue
      $oldCmdValue = $oldCmdKey.getvalue("")

      if ($oldCmdValue -ne $null)
      {
        if ($On.IsPresent)
        {
          $slxOldValue = $null
          $slxOldValue = Get-ItemProperty $clefAModifier -Name "slxOldValue" -ErrorAction SilentlyContinue
          if ($slxOldValue -eq $null)
          {
            New-ItemProperty $clefAModifier -Name "slxOldValue" -Value $oldCmdValue  -PropertyType "String" | Out-Null
            New-ItemProperty $clefAModifier -Name "(default)" -Value $TexteCommande  -PropertyType "ExpandString" | Out-Null
            Write-Host "Done !"
          }
          else
          {
            Write-Host "Already done!"
          }
        }
        else
        {
          $slxOldValue = $null
          $slxOldValue = Get-ItemProperty $clefAModifier -Name "slxOldValue" -ErrorAction SilentlyContinue
          if ($slxOldValue -ne $null)
          {
            New-ItemProperty $clefAModifier -Name "(default)" -Value $slxOldValue."slxOldValue"  -PropertyType "String" | Out-Null
            Remove-ItemProperty $clefAModifier -Name "slxOldValue"
            Write-Host "Done!"
          }
          else
          {
            Write-Host "No former value!"
          }
        }
      }
    }
    catch
    {
      $_.exception.message
    }
  }
  end {}
} 
```

* * *

## 回答 #6

> 赞同：16
> 
> 时间：2014-08-12T20:08:43.617

我同意设置系统设置可能有点多，但需要硬编码路径的快捷方式并不理想。一个bat文件实际上很好地解决了这个问题

RunMyPowershellScript.bat

```
 start powershell -command "& '.\MyPowershellScript.ps1' -MyArguments blah" 
```

现在可以双击此批处理文件，可以轻松地为批处理文件创建快捷方式，并且可以将脚本部署到任何文件夹。

* * *

## 回答 #7

> 赞同：16
> 
> 时间：2016-02-19T12:23:10.853

您需要调整注册表。首先，为 HKEY_CLASSES_ROOT 配置一个 PSDrive，因为这不是默认设置的。执行此操作的命令是：

```
New-PSDrive HKCR Registry HKEY_CLASSES_ROOT 
```

现在您可以在 HKEY_CLASSES_ROOT 中导航和编辑注册表项和值，就像在常规 HKCU 和 HKLM PSDrives 中一样。

要配置双击以直接启动 PowerShell 脚本：

```
Set-ItemProperty HKCR:\Microsoft.PowerShellScript.1\Shell '(Default)' 0 
```

要配置双击以在 PowerShell ISE 中打开 PowerShell 脚本：

```
Set-ItemProperty HKCR:\Microsoft.PowerShellScript.1\Shell '(Default)' 'Edit' 
```

恢复默认值（设置在记事本中双击打开 PowerShell 脚本）：

```
Set-ItemProperty HKCR:\Microsoft.PowerShellScript.1\Shell '(Default)' 'Open' 
```

* * *

## 回答 #8

> 赞同：12
> 
> 时间：2014-06-16T07:56:28.013

简单的 PowerShell 命令在注册表中设置它；

```
New-PSDrive -Name HKCR -PSProvider Registry -Root HKEY_CLASSES_ROOT
Set-ItemProperty -Path "HKCR:\Microsoft.PowerShellScript.1\Shell\open\command" -name '(Default)' -Value '"C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe" -noLogo -ExecutionPolicy unrestricted -file "%1"' 
```

* * *

## 回答 #9

> 赞同：8
> 
> 时间：2015-08-25T09:24:14.160

1.  将 REGEDIT 导航到 HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Microsoft.PowerShellScript.1\Shell
2.  在右侧窗格中，双击“（默认）”
3.  删除“Open”的现有值（启动记事本）并键入“0”（为零，直接启动 Powershell）。

如果您希望再次使用记事本作为默认值，请恢复该值。

* * *

## 回答 #10

> 赞同：8
> 
> 时间：2018-07-17T02:30:34.527

您可以将文件的默认文件关联设置为`ps1`允许`powershell.exe`您通过双击它来执行 powershell 脚本。

在 Windows 10 中，

1.  右键单击一个`ps1`文件
2.  点击`Open with`
3.  点击`Choose another app`
4.  在弹出窗口中，选择`More apps`
5.  滚动到底部并选择`Look for another app on this PC`。
6.  浏览并选择`C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe`。
7.  项目清单

这将更改文件关联，`ps1`文件将通过双击它们来执行。`notepad.exe`您可以通过设置为默认应用程序将其更改回其默认行为。

[来源](https://community.spiceworks.com/topic/2002133-always-automatically-execute-powershell-script-ps1-by-double-click)

* * *

## 回答 #11

> 赞同：7
> 
> 时间：2015-05-20T18:57:17.300

将一个简单的 .cmd 文件与我的 .ps1 文件同名放在我的子文件夹中，因此，例如，名为“foobar”的脚本将具有“foobar.ps1”和“foobar.cmd”。因此，要运行 .ps1，我所要做的就是从资源管理器中单击 .cmd 文件或从命令提示符运行 .cmd。我使用相同的基本名称，因为 .cmd 文件将使用自己的名称自动查找 .ps1。

```
::====================================================================
:: Powershell script launcher
::=====================================================================
:MAIN
    @echo off
    for /f "tokens=*" %%p in ("%~p0") do set SCRIPT_PATH=%%p
    pushd "%SCRIPT_PATH%"

    powershell.exe -sta -c "& {.\%~n0.ps1 %*}"

    popd
    set SCRIPT_PATH=
    pause 
```

pushd/popd 允许您从命令提示符启动 .cmd 文件，而无需更改到脚本所在的特定目录。它将更改为脚本目录，然后在完成后返回原始目录。

如果您希望命令窗口在脚本完成时消失，您也可以取消暂停。

如果我的 .ps1 脚本有参数，我会使用 .NET Forms 通过 GUI 提示来提示它们，但如果我想传递参数，也会使脚本足够灵活以接受参数。这样我就可以从资源管理器中双击它，而不必知道参数的详细信息，因为它会通过列表框或其他形式询问我需要什么。

* * *

## 回答 #12

> 赞同：7
> 
> 时间：2020-01-14T08:46:56.007

我尝试了这个问题的最高答案，但遇到了错误消息。然后我在这里找到了答案：

[PowerShell 说“在这个系统上禁用了脚本的执行”。](https://stackoverflow.com/questions/4037939/powershell-says-execution-of-scripts-is-disabled-on-this-system)

对我有用的是使用这个解决方案：

```
powershell -ExecutionPolicy Bypass -File script.ps1 
```

您可以将其粘贴到 .bat 文件中并双击它。

* * *

## 回答 #13

> 赞同：4
> 
> 时间：2020-12-15T22:50:41.097

与 UNIX shar（shell 存档）具有相同精神的解决方案。

您可以将您的 powershell 脚本放在带有`.cmd`扩展名（而不是`.ps1`）的文件中，并将其放在开头：

```
@echo off
Rem Make powershell read this file, skip a number of lines, and execute it.
Rem This works around .ps1 bad file association as non executables.
PowerShell -Command "Get-Content '%~dpnx0' | Select-Object -Skip 5 | Out-String | Invoke-Expression"
goto :eof
# Start of PowerShell script here 
```

* * *

## 回答 #14

> 赞同：3
> 
> 时间：2012-06-16T22:49:43.817

如果您熟悉高级 Windows 管理，那么您可以使用[此 ADM 包](https://www.microsoft.com/en-us/download/details.aspx?id=25119)（说明包含在该页面上）并允许在通过此模板和本地 GPO 双击后运行 PowerShell 脚本。在此之后，您可以简单地将与 .ps1 文件类型关联的默认程序更改为`powershell.exe`（使用搜索，它非常隐藏）并且您已准备好通过双击运行 PowerShell 脚本。

否则，我建议您坚持其他建议，因为您可能会使用这些管理工具弄乱整个系统。

我认为默认设置太严格了。如果有人设法在您的计算机上放置了一些恶意代码，那么他/她也能够绕过此限制（将其包装到 .cmd 文件或 .exe 中，或使用快捷方式进行欺骗），最终完成的只是为了防止您可以通过简单的方式运行您编写的脚本。

* * *

## 回答 #15

> 赞同：2
> 
> 时间：2015-06-04T13:21:09.740

我用过这个（只需要运行一次）；还要确保您有权执行：

来自具有提升权限的 PowerShell：

```
Set-ExecutionPolicy=RemoteSigned 
```

然后从 bat 文件中：

```
-----------------------------------------

 ftype Microsoft.PowerShellScript.1="C:\WINDOWS\system32\windowspowershell\v1.0\powershell.exe" -noexit ^&'%%1'

 assoc .ps1=Microsoft.PowerShellScript.1

-----------------------------------------
auto exit: remove -noexit 
```

瞧；双击 *.ps1 将执行它。

* * *

## 回答 #16

> 赞同：2
> 
> 时间：2015-06-12T19:10:52.297

这是基于 KoZm0kNoT 的回答。我修改它以跨驱动器工作。

```
@echo off
pushd "%~d0"
pushd "%~dp0"
powershell.exe -sta -c "& {.\%~n0.ps1 %*}"
popd
popd 
```

如果用户的 cwd 在不同的驱动器上，则需要两个 pushd/popd。如果没有外部设置，带有脚本的驱动器上的 cwd 将丢失。

* * *

## 回答 #17

> 赞同：2
> 
> 时间：2016-01-17T06:32:57.730

这是我用来让脚本默认以管理员身份运行的方法：

```
Powershell.exe -Command "& {Start-Process PowerShell.exe -Verb RunAs -ArgumentList '-File """%1"""'}" 
```

您需要将其粘贴到 regedit 作为默认值：

```
HKEY_CLASSES_ROOT\Microsoft.PowerShellScript.1\Shell\Open\Command 
```

或者这是一个可以为您完成的脚本：

```
$hive = [Microsoft.Win32.RegistryKey]::OpenBaseKey('ClassesRoot', 'Default')
$key = $hive.CreateSubKey('Microsoft.PowerShellScript.1\Shell\Open\Command')
$key.SetValue($null, 'Powershell.exe -Command "& {Start-Process PowerShell.exe -Verb RunAs -ArgumentList ''-File """%1"""''}"') 
```

* * *

## 回答 #18

> 赞同：1
> 
> 时间：2017-07-28T01:35:17.630

您可以使用 Windows 的“SendTo”功能来更轻松地运行 PS1 脚本。使用此方法，您可以右键单击 PS1 脚本并执行。这并不能完全回答 OP 问题，但很接近。希望这对其他人有用。顺便说一句..这对各种其他任务很有帮助。

*   定位/搜索 Powershell.exe
*   右键单击 Powershell.exe 并选择打开文件位置
*   右键单击 Powershell.exe 并选择创建快捷方式。暂时保存一些地方，比如你的桌面
*   您可能希望默认以管理员身份打开。选择快捷方式 > 属性 > 高级 > 以管理员身份打开
*   打开发送到文件夹。开始 > 运行 > Shell:Sendto
*   将 Powershell.exe 快捷方式移动到 Sendto 文件夹
*   您现在应该能够右键单击 PS1 脚本。
*   右键单击 PS1 文件，选择 SendTo 上下文选项 > 选择 Powershell 快捷方式
*   您的 PS1 脚本应该执行。

* * *

## 回答 #19

> 赞同：1
> 
> 时间：2019-06-14T14:03:32.330

在 Windows 10 中，您可能还想删除 Windows 资源管理器对文件扩展名关联的覆盖：

`HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\FileExts\.ps1\UserChoice`

除了`HKEY_CLASSES_ROOT\Microsoft.PowerShellScript.1\Shell\open\command`其他答案中提到的变化。

见[https://stackoverflow.com/a/2697804/1360907](https://stackoverflow.com/a/2697804/1360907)

* * *

## 回答 #20

> 赞同：1
> 
> 时间：2021-04-13T08:30:11.783

您可能不想这样做，但一种简单的方法就是创建一个 .BAT 文件并将您的命令放入：

```
powershell ./generate-strings-table-en.ps1
powershell ./generate-conjoined-tables-it.ps1 
```

然后双击所说的BAT文件。

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2015-11-26T22:04:05.433

来自[http://www.howtogeek.com/204166/how-to-configure-windows-to-work-with-powershell-scripts-more-easily](http://www.howtogeek.com/204166/how-to-configure-windows-to-work-with-powershell-scripts-more-easily)：

`HKEY_CLASSES_ROOT\Microsoft.PowerShellScript.1\Shell`为to设置默认值`0`

# ruby-on-rails - 从 Rails 3.0 升级到 3.1，然后升级到 3.2 - 但保持 3.0 正常工作

> ID：10137147
> 
> 赞同：2
> 
> 时间：2012-04-13T07:54:47.713
> 
> 标签：ruby-on-rails, upgrade

我有 3.0.5 rails 应用程序，而且它们越来越老了。我正在计划升级到 Rails 3.2

指南建议先从 3.0 到 3.1，然后再到 3.2，这就是我要尝试的。

但是，当我进行升级时，我希望保持项目完全正常工作，甚至可能使用当前的 3.0.5 应用程序对生产进行一些推动。

所以基本上我想在不干扰真实应用程序的情况下并行进行升级。

我将使用运行 Snow Leopard 的同一台机器。

我使用 RVM 进行 Ruby 管理。

任何建议如何设置此并行升级？git 分支实际上是一种选择吗，这么多潜在的变化是否适合 Git 分支的概念？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T19:27:46.543

你应该明确地使用 git 分支。一个可能好的 git 工作流程是这样的：

> *   假设您的**Master**分支当前在 Rails 3.0.x 上，并且正在生产中。
> *   从此主分支创建 2 个分支：**rails_30、rails_31。**
> *   您开始在**rails_31**分支中进行升级到 Rails 3.1.x 所需的所有必要更改（此来自 Ryan Bates 的截屏视频将对您有很大帮助：[http ://railscasts.com/episodes/282-upgrading-to-rails- 3-1](http://railscasts.com/episodes/282-upgrading-to-rails-3-1) )
> *   当你完成向 Rails 3.1.x 的迁移（提示：你所有的测试都通过了）你可以从这个分支创建一个新的**rails_32**分支。然后您可以继续升级到 Rails 3.2.x（查看其他 railscast：[http:](http://railscasts.com/episodes/318-upgrading-to-rails-3-2) //railscasts.com/episodes/318-upgrading-to-rails-3-2 ）
> *   当您需要对当前的 Rails 3.0.x 代码库进行更改时，您将使用**rails_30**分支。如果更改很好并经过测试，您可以将其推送给 master。推送后，您可以尝试将此分支合并或挑选代码到您的**rails_31**或**rails_32**分支（无论您此时正在使用哪个）

*请记住，升级 Rails 应用程序并不总是一件小事*，所以请花点时间并相应地计划。如果你被卡住了；不支持 gem，你的逻辑在新版本的 Rails 中失败（*相信它很可能会发生*）只要记住 Ruby on Rails 社区是巨大的，许多开发人员以前都经历过这个，并在 stackoverflow 和其他方面分享了他们的知识网站/博客。继续推动比赛。

*祝你好运。*

# ios - 发布照片 Facebook iOS

> ID：10137151
> 
> 赞同：1
> 
> 时间：2012-04-13T07:55:10.807
> 
> 标签：ios, facebook

我正在尝试将照片上传到 Facebook。我阅读了很多教程和示例，但仍然无法使其正常工作。很多时候我`EXC_BAD_ACCESS`在这一行得到一个：

```
[_facebook requestWithGraphPath:@"me/photos"
                                 andParams:photosParams
                             andHttpMethod:@"POST"
                               andDelegate:self]; 
```

其他时候什么都没有出现。我希望用户仅在单击 Facebook 中的“共享图像”时登录。这就是为什么我没有将代表放在`appDelegate`. 下面是我的代码：

```
if (_facebook != nil)  {
        [self fbDidLogin];
    }  

    _publishedImage = img;
    _facebook = [[Facebook alloc] initWithAppId:@"235694579858240" andDelegate:self];

    NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
    if ([defaults objectForKey:@"FBAccessTokenKey"] 
        && [defaults objectForKey:@"FBExpirationDateKey"]) 
    {
        _facebook.accessToken = [defaults objectForKey:@"FBAccessTokenKey"];
        _facebook.expirationDate = [defaults objectForKey:@"FBExpirationDateKey"];
    }

    if (![_facebook isSessionValid])
    {
        NSArray* permissions = [[NSArray alloc] initWithObjects:
                                @"offline_access", @"publish_stream", @"publish_actions", @"photo_upload", nil];

        [_facebook authorize:permissions];
    }

    UIImage *imgSource = img;
    NSString *strMessage = @"This is the photo caption";
    NSMutableDictionary* photosParams = [NSMutableDictionary dictionaryWithObjectsAndKeys:
                                         imgSource,@"source",
                                         strMessage,@"message",
                                         nil];

    [_facebook requestWithGraphPath:@"me/photos"
                                     andParams:photosParams
                                 andHttpMethod:@"POST"
                                   andDelegate:self]; 
```

我的 ViewController 有这些代表：

```
<UIImagePickerControllerDelegate, UIActionSheetDelegate, UIGestureRecognizerDelegate, MFMailComposeViewControllerDelegate, FBSessionDelegate, FBDialogDelegate, FBRequestDelegate> 
```

编辑：是否有任何插件可以轻松地在 Facebook、G+ 和其他所有内容中轻松分享照片？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:13:54.120

而不是使用图表为什么不尝试：

```
 if ([fbAppDelegate.facebook isSessionValid]) {
    NSMutableDictionary* params = [NSMutableDictionary dictionaryWithObjectsAndKeys:                                                                       @"http://hd.ipad-wallpapers.fr/thumbs/wooden_apple_logo_4-t1.jpg // but could also use UIImage", @"picture", nil]; // you don't

    [fbAppDelegate.facebook dialog:@"feed" andParams:params andDelegate:self];

}

// this is what I do ..... 
```

# ubuntu - 恢复 Filezilla 中保存的密码

> ID：10137154
> 
> 赞同：24
> 
> 时间：2012-04-13T07:55:56.733
> 
> 标签：ubuntu, passwords, filezilla, recover

不幸的是，我不记得 FTP 服务器的密码，但它保存在 FileZilla 站点管理器（Ubuntu）中。

如何*查看*保存的密码？

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2012-04-13T08:00:18.760

导出您的站点管理器信息，您会以纯文本形式找到它们：

```
File > Export > Export Site Manager entries 
```

它以 XML 格式导出所有内容，如下所示：

```
<Server>
 <Host>ftp.example.com</Host>
 <Port>21</Port>
 <Protocol>0</Protocol>
 <Type>0</Type>
 <User>root</User>
 <Pass>mypass</Pass>
 [etc]
</Server> 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-10-25T22:03:42.087

所有密码都以纯文本形式存储在此文件中：

```
/home/username/.filezilla/recentservers.xml 
```

而对于较新版本的 filezilla 和 ubuntu，`/home/username/.config/filezilla/recentservers.xml` 如果密码是 base64 编码的，可以使用[https://www.base64decode.org/获取原始密码。](https://www.base64decode.org/)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-09-17T08:48:15.730

Ubuntu Linux FileZilla SiteManager 文件：

> /home/用户名/.filezilla/sitemanager.xml

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-06-04T20:55:30.543

如果您没有将密码存储在站点管理器中，而仅使用“快速连接”，您仍然可以从历史记录中检索它们：它们存储在以下目录的 filezilla.xml 中：

Windows XP/2K：“C:\Documents and Settings\用户名\Application Data\FileZilla”</p>

Windows Vista：“C:\Users\用户名\AppData\Roaming\FileZilla\”</p>

Linux：“/home/username/.filezilla/”</p>

# javascript - 如何在移动设备上的文本框中捕获 textchange 事件

> ID：10137159
> 
> 赞同：0
> 
> 时间：2012-04-13T07:56:23.330
> 
> 标签：javascript, jquery

现在我正在开发移动网站上的自动完成器。我想在移动设备上捕捉文本框的 textchange 事件。但我不知道怎么做？现在我正在使用 focus、blur 和 setInterval 来捕捉文本框的变化，但我认为这对移动网站来说是个坏主意。请帮助我。

干杯，鲍勃钦

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:18:04.640

我用这个没问题

```
<input id="textbox1" type="text" onkeyup="search(this.value)" /> 
```

虽然仅在 android 上进行了测试..但不明白为什么其他移动浏览器会错过这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:30:42.680

为什么不听`change`活动？

```
<input type="text" id="textbox"></input>

$("#textbox").change(function() {...} ); 
```

# java - 服务器端的java附加了html

> ID：10137165
> 
> 赞同：0
> 
> 时间：2012-04-13T07:57:04.140
> 
> 标签：java, web-applications

我正在开发一款纸牌游戏。我用 html、jquery 和 javascript 编写了我的客户端（前端），服务器端是用 Java 编写的（洗牌、分发和游戏规则）

如何将我的 html 加入 Java 后端。这可能使用 JSP 或任何其他技术吗？

到目前为止，我通过扫描仪在 java 中输入，但在附加客户端后，它将来自 htmlpage。我怎么能做到呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-23T16:22:53.507

对于具有 Java 服务器的此类游戏，您有两种主要的解决方案类型：

1）使用像JSP这样的模板系统来生成页面服务器端

2）使用ajax客户端并使用JSON进行通信（使用标准ajax或websockets）

我使用了两种类型的解决方案。

现在我明确推荐使用 ajax，因为它可以为用户提供更流畅和快速的交互。如果您可以接受与旧浏览器不兼容，我会推荐 websockets，因为它们可以非常快速和轻松地将信息从服务器发送到浏览器，这在多人游戏中通常需要（这就是我现在正在使用的） .

看看这个：

[http://jwebsocket.org/](http://jwebsocket.org/)

[http://java.dzone.com/articles/creating-websocket-chat](http://java.dzone.com/articles/creating-websocket-chat)

# sql-server-2008 - 如何在 WHERE 子句中使用 DATENAME

> ID：10137167
> 
> 赞同：1
> 
> 时间：2012-04-13T07:57:11.927
> 
> 标签：sql-server-2008, where

我正在使用 Sql Server 2008，我的表中有一个名为 Date 的列，我想获取特定日期的数据....我需要在 WHERE 条件下给出这个日期。

例如，如果我想在给定日期获取特定月份的记录，如何在 WHERE 条件下使用此日期。

```
DATANAME(MONTH,'@Date') 
```

如果我在查询中这样给出，我可以从给定的 DATE 中获取月份，就像我尝试输入 WHERE 条件一样，

```
WHERE DATE=    DATANAME(MONTH,'@Date') 
```

在这里它报告转换错误...如何显示特定月份的数据，谁能帮助我

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:51:29.187

如果你想要一个表的一个月数据，你应该检查一个间隔。如果您在列上应用函数，则查询不能在日期列上使用索引。

使用类似的方法获取 2012 年 4 月的数据。

```
-- The date parameter
declare @Date datetime
set @Date = '2012-04-11'

declare @FromDate datetime
declare @ToDate datetime

-- set FromFate to first of april
set @FromDate = dateadd(month, datediff(month, 0, @Date), 0)
-- set ToDate to first of may
set @ToDate = dateadd(month, 1+datediff(month, 0, @Date), 0)

select *
from YourTable
where [Date] >= @FromDate and [Date] < @ToDate 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T08:02:40.793

如果要显示特定年份和月份的数据，可以使用[YEAR](http://msdn.microsoft.com/en-us/library/ms186313.aspx)和[MONTH](http://msdn.microsoft.com/en-us/library/ms187813.aspx)函数：

```
SELECT ...
FROM ...
WHERE YEAR(mydate) = 2012 AND MONTH(mydate) = 3 -- March, 2012 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-13T08:01:16.760

对我来说，您的字段似乎`Date`不是`varchar`or类型`nvarchar`，因此使用 Datetime = string 显然是错误的条件。

你有没有尝试过

```
WHERE DATE= @Date 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-13T08:01:49.817

不应该是：

```
DATENAME(MONTH, @Date) 
```

代替：

```
DATANAME(MONTH,'@Date') 
```

（注意 "DATA" 与 "DATE" 和 @Date 不在引号中）

然后要对日期/日期时间列使用它，您必须像下面这样对双方进行转换：

```
WHERE datename(Month, [Date]) = datename(Month, [Date]) 
```

警告：以上不使用任何索引，因此效率不如`"WHERE Date = Date"`

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-04-13T08:06:07.300

首先：从变量中删除 ''。@Date，而不是'@Date'

如果您想查找特定月份的日期。（您还必须记住年份条件）

```
WHERE DATANAME(MONTH, @Date) = 'April' 
```

如果你想找到确切的日期：

```
WHERE DATE = @date 
```

# jsf - JSF Richfaces getElementById

> ID：10137170
> 
> 赞同：1
> 
> 时间：2012-04-13T07:57:15.530
> 
> 标签：jsf, richfaces

我正在使用 jsf2 和richfaces 4.X 如何获得启用了richfaces 的输入字段的当前值？等于 getElementById('field_name').vlue

我尝试了一些名为 findcomponent.value 和 element.value 的方法，但它们给了我旧值，这是在加载页面时 b/c findcomponent 和 element 方法返回服务器端 UI.components 而不是客户端组件？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-13T08:58:40.313

我猜您将使用`rich:clientId`函数将正确的标识符呈现到您的 java 脚本中。

例如：

```
var myElement = document.getElementById("#{rich:clientId('field_name')}"); 
```

另见[RichFaces rich:clientId 在 facelets 中](https://stackoverflow.com/questions/2956983/richfaces-richclientid-within-facelets)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T13:44:36.640

如果您检查生成的 HTML，您会看到每个 JSF/RF 元素都有他的 id，例如：。例如：

```
<h:form id="frmSample">
    <h:inputText id="txtSample" value="#{mybean.someTextValue}" />
</h:form> 
```

生成的 HTML 将是：

```
<form method="POST">
    <input type="text" id="frmSample:txtSample" />
</form> 
```

因此，在 JavaScript 中，您可以通过此 id 引用元素。

```
var txtValue = document.getElementById('frmSample:txtSample').value; 
```

此外，对于 RF 复合 HTML 组件`rich:tab`，`rich:calendar`您可以使用 HTML 生成的组件 ID，但我会推荐`"#{rich:clientId('field_name')}"`@DRCB 在他的帖子中解释的那样。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T15:01:35.190

要获取richfaces 组件值，请使用rich:component 和getValue() 方法。
要获取 jsf 库组件值，请使用 rich:element 和 value JS 方法。

例子：

```
<h:form>
     <h:inputText id="textField" value="#{bean.value1}" />
     <a4j:commandButton value="displayTextField" action="doSomething()"
       onclick="alert('v:'+ #{rich:element('textField')}.value); return true;" />

     <rich:inplaceInput id="richField" value="#{bean.value1}" />
     <a4j:commandButton value="displayRichField" action="doSomething()"
       onclick="alert('v:'+ #{rich:component('richField')}.getValue()); return true;" />
</h:form> 
```

它们甚至都可以在 Rich:dataTable 中工作，而无需添加数据表的 id 或其他内容。Richfaces 非常聪明，可以找到“当前行”示例的 id：

```
<h:form>
     <rich:dataTable id="mydatatable" value="bean.findValues()" var="myvar">

         <rich:column>

              <h:inputText id="textField" value="#{myvar.text1}" />
              <a4j:commandButton value="displayTextField" action="doSomething()"
                   onclick="alert('v:'+ #{rich:element('textField')}.value); return true;" />
         </rich:column>

         <rich:column>

             <rich:inplaceInput id="richField" value="#{myvar.text2}" />
             <a4j:commandButton value="displayRichField" action="doSomething()"
                  onclick="alert('v:'+ #{rich:component('richField')}.getValue()); return true;" />
         </rich:column>

     </rich:dataTable>
</h:form> 
```

# java - 如何在黑莓中使用图库

> ID：10137171
> 
> 赞同：0
> 
> 时间：2012-04-13T07:57:16.943
> 
> 标签：java, blackberry

如何在屏幕底部水平添加图像。如果这些图像位于屏幕的水平中心，则将这些图像从右到左滑动到起点。我应该使用什么。

这是该滚动字段水平字段管理器的链接。 [http://appworld.blackberry.com/webstore/content/screenshots/56307/?lang=en](http://appworld.blackberry.com/webstore/content/screenshots/56307/?lang=en) 请单击此链接，在该链接中，您将在底部看到该图像中的图像，显​​示具有多个图像的水平字段管理器和从其他图像中查找的焦点图像。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T09:42:37.260

要在屏幕底部水平添加图像，您需要一个`VerticalFieldManager`显示在屏幕底部的自定义。您可以实现`sublayout`经理的这种压倒一切的方法。
在此 VerticalFieldManager 中，您添加一个`HorizontalFieldManager`包含所有图像的。

为了使图像从右向左滑动，我创建了一个自定义`HorizontalFieldManager`，其中添加的字段从左向右滚动。

```
public class CustomHorizontalField extends HorizontalFieldManager{

public boolean enableMoving = false;
private int focusOnIndex = 0;   

public void focusChangeNotify(int arg0) {

    super.focusChangeNotify(arg0);

    if(enableMoving)
    {
        int newFocusIndex = getFieldWithFocusIndex();
        if(newFocusIndex != focusOnIndex)
        {
            if( (newFocusIndex - focusOnIndex )> 0 )
            {
                startRotation(0, getFieldCount()-1);        
            }else
            {
                startRotation(getFieldCount()-1, 0);
            }
        }

    }else
    {
        focusOnIndex = getFieldWithFocusIndex();
    }

}
public int getPreferredWidth() {
    return Display.getWidth();
}
public int getPreferredHeight() {
    return super.getPreferredHeight();
}
protected void sublayout(int maxWidth, int maxHeight) {
    super.sublayout(Display.getWidth(), getPreferredHeight());
    setExtent(Display.getWidth(), getPreferredHeight());
}

private void startRotation(int from,int to)
{
    Field field = getField(from);
    delete(field);
    insert(field, to);
}   
} 
```

将您的图像添加到此`CustomHorizontalField`并将此管理器添加到`VerticalFieldManager`屏幕底部显示的自定义中。

**编辑**
这里是创建包含位图图像的自定义按钮的代码。
您可以将图像设置为看起来像位图字段的按钮，您可以`setChangeListener`为按钮设置并添加代码以在覆盖方法中单击图像时执行操作`fieldChanged(Field field, int context)`。

```
public class CustomBitmapButtomField extends ButtonField{

   private  Bitmap activeBtn = null;
   private  Bitmap normalBtn = null;
   private  Bitmap focusBtn = null;

   private int btnHeight = 0;
   private int btnWidth = 0;

   public CustomBitmapButtomField(Bitmap normal,Bitmap focus,Bitmap active) {
   activeBtn = active;
   normalBtn = normal ;
   focusBtn = focus;
   btnWidth = normalBtn.getWidth();
   btnHeight = normalBtn.getWidth();
   setMargin(0, 0, 0, 0);
   setPadding(0,0,0,0);
   setBorder(BorderFactory.createSimpleBorder(new XYEdges(0, 0, 0, 0)));
   setBorder(VISUAL_STATE_ACTIVE, BorderFactory.createSimpleBorder(new XYEdges(0, 0, 0, 0)));
   setBackground(BackgroundFactory.createSolidBackground(Color.WHITE));   
   }

   protected void paint(Graphics graphics) {
     Bitmap bitmap = null;
     switch (getVisualState()) {
    case VISUAL_STATE_NORMAL:
        bitmap = normalBtn;
        break;
    case VISUAL_STATE_FOCUS:
        bitmap = focusBtn;
        break;
    case VISUAL_STATE_ACTIVE:
        bitmap = activeBtn;
        break;
    default:
        bitmap = normalBtn;
        break;
    }
    graphics.drawBitmap(0, 0, bitmap.getWidth(), bitmap.getHeight(), bitmap, 0, 0);
}

   public int getPreferredWidth() {
    return btnWidth;
}
   public int getPreferredHeight() {
    return btnHeight;
}
   protected void layout(int width, int height) {
    setExtent(btnHeight,btnHeight);
}
 } 
```

# glsl - 使用 3rd 方着色器的 GLSL GPU 蒙皮

> ID：10137179
> 
> 赞同：1
> 
> 时间：2012-04-13T07:57:54.657
> 
> 标签：glsl, gpu, shader, skinning

我已经使用 Assimp 和我自己的 OpenGL 渲染器为 Collada 文件实现了 GPU 蒙皮。这工作正常。

现在，我的应用程序应该允许指定第 3 方顶点和片段着色器，并且应该与蒙皮一起使用。

一个示例用例可能是，这个外部着色器围绕 Y 轴弯曲空间并向场景中添加雾......等等。

使用 GPU 蒙皮时可以吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T15:09:47.377

可能的？是的。但并不简单。

做到这一点最不痛苦的方法是利用能够为着色器提供多个字符串的优势。使您的“蒙皮着色器”成为一个返回顶点的相机空间位置的函数。您甚至可能有此功能的多种变体。一种返回位置，一种返回位置和法线，另一种返回位置和 TBN 切线空间基矩阵。

用户提供的着色器将简单地调用此函数来获取相机空间位置/法线。编译着色器时，只需将您的蒙皮着色器字符串放在调用[`glShaderSource`](http://www.opengl.org/wiki/GLAPI/glShaderSource).

# maven - Maven 3 在错误的文件夹中寻找 maven-metadata.xml (Artifactory 2.5.1.1)

> ID：10137184
> 
> 赞同：1
> 
> 时间：2012-04-13T07:58:10.617
> 
> 标签：maven, artifactory, maven-metadata

```
[08:45:24]Downloading: http://maven-proxy.xxx.local:8081/artifactory/xxx-snapshots/xxx/xxx/xxx/some-lib/1.2.5-SNAPSHOT/maven-metadata.xml
[08:45:24][DEBUG] Could not find metadata xxx.xxx.xxx:some-lib:1.2.5-SNAPSHOT/maven-metadata.xml in xxx-snapshots (http://maven-proxy.xxx.local:8081/artifactory/xxx-snapshots) 
```

Maven 似乎正在寻找`some-lib/1.2.5-SNAPSHOT/maven-metadata.xml`. 但是，有一个`maven-metadata.xml`文件驻留在`some-lib/maven-metadata.xml`.

可能有什么问题？这个文件应该由 Artifactory 生成还是部署有问题？

```
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-deploy-plugin</artifactId>
    <version>2.7</version>
    <configuration>
        <updateReleaseInfo>true</updateReleaseInfo>
    </configuration>
</plugin> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T10:36:15.000

Maven 元数据可能位于 2 个级别：

1.  在*groupId/artifactId*文件夹下 - 存在基本修订的元数据详细信息（1.0、1.1、1.2-SNAPSHOT 等）
2.  在*groupId/artifactId/integrationRevision*文件夹下 - 存在特定集成修订的元数据详细信息；

后者是必需的，因为 Maven 的快照版本可能会聚合许多不同的唯一快照。因此，当请求 1.0-SNAPSHOT 时，Maven 必须发现存在哪些实际快照并确定要下载哪一个。

此元数据应由存储库自动生成，仅存在此类快照版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-01-19T01:25:33.890

根据[gradle.org 上的这个答案](https://discuss.gradle.org/t/could-not-find-metadata-maven-metadata-xml-in-remote/11720/2)，

当您**第一次**发布版本`maven-metadata.xml`时，它还不存在。 `SNAPSHOT`

 **（后续上传不应显示此消息，因为第一次发布应创建文件。）**

# flash - webkitgtk 支持 flash 吗？

> ID：10137186
> 
> 赞同：1
> 
> 时间：2012-04-13T07:58:28.730
> 
> 标签：flash, webkit, gtk

webkitgtk 支持 flash 吗？如果是，那么我需要一个示例代码来播放 Flash 文件。想知道我们是否可以在 WebView 中播放 flash 文件。

# php - 我可以在fuelPHP中设置没有任何数据的响应吗？

> ID：10137188
> 
> 赞同：0
> 
> 时间：2012-04-13T07:58:40.523
> 
> 标签：php, rest, fuelphp

在扩展的 API 控制器中`Controller_Rest`

我有一个测试功能：

```
public function get_arr_exists($arr = array())
{
    if (empty($arr))
    {
        $this->response(array(), 400);
    }
    else
    {
        $this->response(array(), 200);
    }
} 
```

我检查了燃料芯中的 rest.php，它要求第一个参数不能为空，否则它将返回 404。

但我希望我的应用程序检查 API 是否以 ok (200) 响应，或者不是 (400)。Rest Controller 会自动设置状态吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:01:15.473

设置响应状态。

```
$this->response->status = 200; 
```

# mysql - 奇怪的mysql错误

> ID：10137196
> 
> 赞同：0
> 
> 时间：2012-04-13T07:59:22.027
> 
> 标签：mysql

我有 2 个查询：

```
UPDATE dws_photogallery_albums a 
SET a.photoscount=(
    SELECT COUNT(*) FROM dws_photogallery_photos p 
    WHERE p.albumid=a.albumid)

UPDATE dws_photoportfolio_photos a 
SET a.photoscount=(
    SELECT COUNT(*) FROM dws_photoportfolio_photos p 
    WHERE p.albumid=a.albumid) 
```

第一个工作正常，但第二个给我错误：

```
#1093 - You can't specify target table 'a' for update in FROM clause 
```

表是相同的（仅在名称上有所不同）。会是什么？

UPD：男士们，我很抱歉，这只是我的印刷错误，查询必须是这样的：

```
UPDATE dws_photogallery_albums a 
    SET a.photoscount=(
        SELECT COUNT(*) FROM dws_photogallery_photos p 
        WHERE p.albumid=a.albumid)

    UPDATE dws_photoportfolio_albums a 
    SET a.photoscount=(
        SELECT COUNT(*) FROM dws_photoportfolio_photos p 
        WHERE p.albumid=a.albumid) 
```

他们都适合我。谢谢解答，需要更多咖啡

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:02:28.070

您正在更新您在嵌套选择中使用的同一个表。

你不能这样做：

```
update table X
where  ... ( Select ... from X ) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T08:03:10.560

这意味着，您无法更新正在读取的表。别名不能解决问题。它可能导致不一致。您必须使用临时表或在您的情况下使用变量。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-13T08:03:17.007

这并不奇怪您不能在 FROM 子句中指定要更新的目标表。

请注意，您在第二个查询中使用相同的表进行更新和选择

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-04-13T08:04:38.553

试试这个查询 -

```
UPDATE
  dws_photoportfolio_photos a
  JOIN (
    SELECT albumid, COUNT(*) cnt FROM dws_photoportfolio_photos GROUP BY albumid
  ) p
  ON p.albumid = a.albumid
SET a.photoscount = p.cnt; 
```

# php - 在 Zend Framwework 中将数据库表列字段下载为 CSV

> ID：10137200
> 
> 赞同：-2
> 
> 时间：2012-04-13T07:59:46.497
> 
> 标签：php, zend-framework

我想在 Zend Framework 中将数据库表列字段下载为 CSV。有这方面的 ZF 库吗？

这里还有其他关于 SO 的问题可以解决这个特定的主题，但没有一个能提供足够的细节。有人可以详细描述一下如何做吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T09:08:50.247

我假设您的表有一个标准的 DbTable 模型。[使用info() 方法](http://framework.zend.com/manual/en/zend.db.table.html#zend.db.table.info)获取表信息

```
//the following is pseudocode and not meant to be copied directly, intended to guide
public function indexAction() {
    $model = new Application_Model_DbTable_MyTable();
    //This returns an array of table info
    $info = $model->info();
    //prepare the data so each line can be saved
    $data = $info['name'] . ',' . $info['primary'];
    //then write each line to the database, I usually use a function from
    // a utility class or a protected function
    //I would normally build an array of the data I want saved and then
    //iterate over the array saving as I go.
    $save = $this->_writeToFile($filename, $data);
}

//the following function is not pseudocode
protected function _writeToFile($filename, $content) {
        // Let's make sure the file exists and is writable first.
        if (is_writable($filename)) {

            // In our example we're opening $filename in append mode.
            // The file pointer is at the bottom of the file hence
            // that's where $somecontent will go when we fwrite() it.
            if (!$handle = fopen($filename, 'a')) {
                echo "Cannot open file ($filename)";
                exit;
            }
            // Write $somecontent to our opened file.
            if (fwrite($handle, $content) === FALSE) {
                echo "Cannot write to file ($filename)";
                exit;
            }
            echo "Success, wrote ($content) to file ($filename) <br />";
            //close file
            fclose($handle);
        } else {
            echo "The file $filename is not writable";
        }
    } 
```

希望这能为您指明正确的方向。

# java - 在 Eclipse 中设置速度

> ID：10137201
> 
> 赞同：3
> 
> 时间：2012-04-13T07:59:52.713
> 
> 标签：java, eclipse, templates, installation, velocity

我需要在速度方面工作，我阅读了 velocity.apache.org 的入门部分，但它没有解释我应该如何安装、设置它。我已经从 eclipse 的更新管理器中安装了 Velocity UI。然后我在 java/lib/ext 中复制了 velocity-1.7.jar 和 velocity-1.7-dep.jar 并将它们包含在 Preferences/Java/Installed JRE's 的 jre6（标准 VM）中。（真的不知道这是否是正确的）。我制作了一个动态 Web 项目，并在其中尝试了来自 velocity 1.7 文件夹的示例类，但它不起作用，没有错误，但它无法识别资源。我与模板有什么关系，我必须将它放在项目文件夹中的什么位置。我是否必须做其他事情来设置 Velocity？在此先感谢您帮助初学者。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:11:19.327

对于 web 项目，您应该将 jars 放在`WEB-INF/lib`文件夹中。有关 WAR 打包的更多信息，请参阅[JEE5 教程中的 Web 模块](http://docs.oracle.com/javaee/5/tutorial/doc/bnadx.html)

在 Eclipse 中，您需要将它们添加到类路径中

> 右键单击项目，选择属性，Java-Build-Path，选项卡库，添加 JARS。

不建议将依赖 jar 放在 $JAVA_HOME/lib/ext 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:05:07.570

你看过[开发者指南](http://velocity.apache.org/engine/devel/developer-guide.html)吗，你可以从这个指南开始。

# java - 如何在我的 SWT 应用程序上使用 IBM 的小工具 (com.ibm.rcp.swt.swidgets)？

> ID：10137202
> 
> 赞同：2
> 
> 时间：2012-04-13T07:59:52.853
> 
> 标签：java, maven, swt, eclipse-rcp

我很想知道如何在我的应用程序上使用 com.ibm.rcp.swt.swidgets 小部件？（例如[这个小部件](http://publib.boulder.ibm.com/infocenter/ledoc/v6r1/index.jsp?topic=/com.ibm.rcp.personality.framework.javadoc/com/ibm/rcp/swt/swidgets/SButton.html)）

我在默认的 Apache Maven 存储库中找不到它们，但我猜它们不是封闭源代码，它们可供自己使用（IBM 最近也将Lotus Symphony 的源代码（使用这些小部件）[捐赠给了 Apache Foundation）。](http://www-03.ibm.com/software/lotus/symphony/buzz.nsf/web_DisPlayPlugin?open&unid=955E9C0EC712EC47852578CD0063A209&category=announcements)我认为向我展示与小工具相关`.jar`的位置就足够了。

谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:10:27.867

小工具是[IBM Expeditor 工具包](http://www.ibm.com/developerworks/lotus/library/expeditor-toolkit/)的一部分。这是一个[简单的例子](http://publib.boulder.ibm.com/infocenter/ledoc/v6r2/index.jsp?topic=/com.ibm.rcp.tools.doc.appdev/tuiswidgets.html)。

# html - 如何将由超链接组成的列表添加到 excel 或 word 文件中？

> ID：10137204
> 
> 赞同：0
> 
> 时间：2012-04-13T08:00:02.127
> 
> 标签：html, excel, hyperlink, web, app-store

所以我想从 App Annie 网站获取这些 Top Ranking 列表，该网站将 iTunes App Store 中的排名信息记录到标准的 excel 文件中。

这是链接： http: [//www.appannie.com/top/](http://www.appannie.com/top/)

Top Paid、Top Free、Top Grossing 中列出的每个应用程序都链接到应用程序详细信息页面。我基本上想在一个 excel 文件中获得这些前 100 个列表。我不想手动输入每日排名。

但我不知道如何做到这一点。

此外，如果有人知道一个简单地提供具有每日 App Store 排名的 excel 文件的来源，那就更好了。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:07:51.220

我很幸运可以从页面粘贴为可刷新的网络查询。

在 Excel 2010 中：转到粘贴 > 可刷新 Web 查询。在弹出的窗口中，加载您想要的网站，然后单击左上角的箭头以选择整个页面。然后点击导入。

产生的糊状物并不完全漂亮，但是一旦你从顶部和底部移除垃圾，你就会得到一个相当可行的结果。

# c# - C# ASP.net，使用字符串变量存储和编写 HTML

> ID：10137206
> 
> 赞同：2
> 
> 时间：2012-04-13T08:00:06.747
> 
> 标签：c#, html, asp.net-mvc, string

我有一个表单，用户可以在其中输入 YouTube 视频的 url。我的代码解析 url 并创建一个嵌入字符串，该字符串存储在我的数据库中。这看起来像：

```
string rawQuery = uri.Query;
int index = rawQuery.IndexOf("?");
if (index > 0)
                rawQuery = rawQuery.Substring(index).Remove(0, 1);
id = HttpUtility.ParseQueryString(rawQuery).Get("v");

string embedURL = "<iframe width=\"640\" height=\"360\" src=\"http://www.youtube.com/embed/" + id + "\" frameborder=\"0\" allowfullscreen></iframe>"; 
```

此字符串存储在数据库中，稍后检索并打印到 HTML 页面。但是，当我查看页面源时，输出最终看起来像这样：

```
&lt;iframe width=&quot;640&quot; height=&quot;360&quot; src=&quot;http://www.youtube.com/embed/AXaoi6dz59A&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt; 
```

如何打印此字符串，使其不会转义我的引号和小于/大于符号？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:03:03.087

我认为你应该使用`@Html.Raw(string)`

[http://haacked.com/archive/2011/01/06/razor-syntax-quick-reference.aspx](http://haacked.com/archive/2011/01/06/razor-syntax-quick-reference.aspx)

[http://www.arrangeactassert.com/using-html-raw-in-asp-net-mvc-razor-views/](http://www.arrangeactassert.com/using-html-raw-in-asp-net-mvc-razor-views/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:04:06.163

例如，如果您使用 ViewBag 在视图中输出字符串，请使用

```
@Html.Raw(ViewBag.EmbedURL) 
```

这告诉框架不对字符串进行编码

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T08:16:56.080

当您在页面中写入字符串时，它就会被编码。使用`<%= %>`server 标记输出字符串而不对其进行编码：

```
<%= embedURL %> 
```

您还可以将其包装在一个`HtmlString`对象中以避免自动编码：

```
HtmlString html = new HtmlString(embedURL) 
```

然后你可以正常输出它：

```
<%: html %> 
```

或使用剃须刀：

```
@html 
```

您还可以使用该`Html.Raw`方法将其包装在一个`HtmlString`对象中：

```
@Html.Raw(embedURL) 
```

# ios - 在 Cocos 2D 中放大和缩小后触摸位置变得混乱

> ID：10137207
> 
> 赞同：0
> 
> 时间：2012-04-13T08:00:11.417
> 
> 标签：ios, cocos2d-iphone

当我缩小或放大时，我无法选择我的精灵。我觉得在放大/缩小后缩放问题导致了这种情况。我不擅长数学，但我认为缩小和放大后可能有数学公式来计算触摸位置。O 的意思是说当比例为 1 => x,y = 51,85 并且当比例为 2 => x,y = -137,15 并且最后当比例为 0.5 => x,y = 146,123

请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T19:59:12.627

此代码将我的图层缩放 2 到特定位置

```
 [layer setScale:2];
    layer.position=ccp(240/2+40,160*1.5);
    double dx=(touchLocation.x*2-240);
    double dy=(touchLocation.y*2-160);
    layer.position=ccp(inGamePlay.position.x-dx,inGamePlay.position.y-dy); 
```

# c# - X509Certificate2.Verify() 方法始终为有效证书返回 false

> ID：10137208
> 
> 赞同：5
> 
> 时间：2012-04-13T08:00:13.763
> 
> 标签：c#, x509certificate2

我正在使用智能卡进行身份验证。

SecurityTokenService（身份验证服务）仅托管在我的机器上。智能卡有一个有效的证书，它的根证书也安装在我机器上的本地计算机存储中。

当我使用`X509Certificate2.Verify`方法验证服务中的证书时，它总是返回`false`.

**有人可以帮我理解为什么 X509Certificate2.Verify() 方法总是返回 false 吗？**

注意：我使用`X509Chain`并检查了所有标志 ( `X509VerificationFlags.AllFlags`)。当我构建 chanin 时，它`true`返回`ChainStatus`as `RevocationStatusUnknown`。

* * *

## 编辑1：

如果我在 Windows 窗体应用程序中编写此代码，我观察到该`X509Certificate2.Verify()` 方法返回。`true`它`false`仅在服务端代码中返回。为什么这样？奇怪但真实！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-07-06T16:21:32.483

X509VerificationFlags 值是抑制，因此指定`X509VerificationFlags.AllFlags`实际上可以防止 Build 在大多数情况下返回 false。

`RevocationStatusUnknown`回应似乎特别相关。无论它报告的哪个证书都无法验证为未被撤销。该`Verify`方法可以建模为

```
public bool Verify()
{
    using (X509Chain chain = new X509Chain())
    {
        // The defaults, but expressing it here for clarity
        chain.ChainPolicy.RevocationMode = X509RevocationMode.Online;
        chain.ChainPolicy.RevocationFlag = X509RevocationFlag.ExcludeRoot;
        chain.ChainPolicy.VerificationTime = DateTime.Now;
        chain.ChainPolicy.VerificationFlags = X509VerificationFlags.NoFlag;

        return chain.Build(this);
    }
} 
```

哪个，因为它没有断言`X509VerificationFlags.IgnoreCertificateAuthorityRevocationUnknown`或`X509VerificationFlags.IgnoreEndRevocationUnknown`在请求 X509RevocationMode 以外的时候`None`失败。

首先，您应该确定链中的哪些证书（/正在）失败：

```
using (X509Chain chain = new X509Chain())
{
    // The defaults, but expressing it here for clarity
    chain.ChainPolicy.RevocationMode = X509RevocationMode.Online;
    chain.ChainPolicy.RevocationFlag = X509RevocationFlag.ExcludeRoot;
    chain.ChainPolicy.VerificationTime = DateTime.Now;

    chain.Build(cert);

    for (int i = 0; i < chain.ChainElements.Count; i++)
    {
        X509ChainElement element = chain.ChainElements[i];

        if (element.ChainElementStatus.Length != 0)
        {
            Console.WriteLine($"Error at depth {i}: {element.Certificate.Subject}");

            foreach (var status in element.ChainElementStatus)
            {
                Console.WriteLine($"  {status.Status}: {status.StatusInformation}}}");
            }
        }
    }
} 
```

如果您在 Windows CertUI 中查看任何失败的证书（在资源管理器或证书 MMC 管理单元中双击 .cer），请查找名为“CRL 分发点”的字段。这些是将在运行时检索的 URL。也许您的系统有一个数据出口限制，不允许查询这些特定值。您始终可以尝试从您的 Web 服务发出 Web 请求，以查看它是否可以在没有位于证书子系统中的上下文的情况下获取 URL。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-30T12:49:06.367

我认为，问题是由于我的组织中的代理服务器和一些安全设置造成的。我无法给出为什么它可以在 WinForm 客户端运行以及为什么不能从 IIS 下托管的代码中运行的正当理由。

但我想让读者知道的事实是，`Verify()`当我在我常用域之外的机器上运行的 IIS 中托管服务时，该方法也适用于服务器端代码！因此，您可以检查您的域/组织的防火墙设置是否妨碍您。

# php - 如何设置将变量保存在 PHP 文件中？

> ID：10137211
> 
> 赞同：1
> 
> 时间：2012-04-13T08:00:24.787
> 
> 标签：php, javascript, html

例如，我有一个 config.php：

```
//default config
$name = 'default name';
$mail = 'default mail'; 
```

我想用一个表单让用户编辑变量，一切都和使用数据库一样，但在这种情况下，不同之处在于它是在 PHP 文件上实现的

那么，在我得到之后`$_POST['name']; $_POST['mail'];`，如何修改变量并将其保存在那个 PHP 中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:13:57.787

```
$config = file_get_contents('config.php'); 
```

那应该将配置文件读入字符串。然后您可以搜索字符串或使用正则表达式将`$name`值替换为`$_POST['name']`值。

这应该工作

```
$name = $_POST['name'];
$mail = $_POST['mail'];
$config = file_get_contents('config.php');
$pos = strpos($config, '$name');
$config = substr_replace($config, '$name = \'' . $name . '\'', $pos, strpos($config, ';', $pos) - $pos);
$pos = strpos($config, '$mail');
$config = substr_replace($config, '$mail = \'' . $mail . '\'', $pos, strpos($config, ';', $pos) - $pos);
file_put_contents('config.php', $config); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:41:44.840

配置文件需要在 PHP 中？您可以使用以下方法将快速配置数组组合到外部文件中[`var_export`](http://php.net/var_export)

配置文件`config.php`

```
$config = array(
  'name' => 'My Name',
  'email' => 'some@one',
); 
```

加载/保存配置文件：

```
include 'config.php';  // Bring config into the current namespace
if ($_SERVER['REQUEST_METHOD'] == 'POST') {  // Update on POST
 $config['name'] = $_POST['name'];
 $config['email'] = $_POST['email'];
 file_put_contents('config.php', sprintf("<?php\n%s\n", var_export($config, true)));
}
print_r($config); 
```

与任何用户输入一样，您应该确保根据白名单过滤输入以清除危险数据。例如，`preg_replace('/\W/', '', $_POST['name'])`将从用户提供的值中删除不安全的数据（非单词字符）。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-04-13T08:09:42.297

您可以使用 file_put_contents 函数将配置写入文件，并使用自定义函数来构建内容本身，如下所示：

```
function generateConfig(){
    return "//default config"
    . '$name' . " ='{$_POST['name']}';"
    . '$mail' . " ='{$_POST['mail']}';";
}

file_put_contents("file.config", generateConfig()); 
```

这是一种解决方案，但更好的是使用 JSON、XML 或数据库。

# c++ - 如何在不递增（递减）迭代器的情况下获取 std::list 中的下一个（上一个）元素？

> ID：10137214
> 
> 赞同：49
> 
> 时间：2012-04-13T08:00:34.110
> 
> 标签：c++, list, iterator

假设我有一个`std::list<int> lst`和一些`std::list<int>::iterator it`用于迭代列表。并取决于`it`我要使用的值`it + 1`或`it - 1`我的代码中的值。有什么好的方法可以做到这一点`next()`，`prev()`（我在 stl 文档中找不到这样的东西）？还是我应该`it`每次复制并增加（减少）副本？

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-04-13T08:04:32.517

是的，因为 C++11 有您正在寻找的两种方法称为`std::prev`和`std::next`. 您可以在迭代器库中找到它们。

来自 cppreference.com 的示例

```
#include <iostream>
#include <iterator>
#include <vector>

int main() 
{
    std::list<int> v{ 3, 1, 4 };

    auto it = v.begin();

    auto nx = std::next(it, 2);

    std::cout << *it << ' ' << *nx << '\n';
} 
```

输出：

```
3 4 
```

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-04-13T08:37:58.617

复制和增加/减少副本是唯一可以完成的方法。

您可以编写包装函数来隐藏它（正如答案中提到的，C++11 有 std::prev/std::next 可以做到这一点（并且 Boost 定义了类似的函数）。但它们是围绕这个“复制和增量”操作，所以你不必担心你做错了。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-04-13T08:03:32.580

一个简单的预先确定的解决方案是`prior`和`next`来自[`Boost.utility`](http://www.boost.org/doc/libs/1_46_1/libs/utility/utility.htm)。他们利用`operator--`但`operator++`不要求您创建临时文件。

# javascript - 将图像从 websocket 服务器 .NET 发送到客户端 (HTML5)

> ID：10137218
> 
> 赞同：0
> 
> 时间：2012-04-13T08:00:56.113
> 
> 标签：javascript, .net, html, canvas, websocket

我目前正在服务器（VB .NET）和客户端（网页）之间实现websocket通信

我成功地将文本从服务器发送到客户端并使用 JavaScript 和画布显示文本，

现在我想从服务器发送一个图像以显示在 HTML5 画布中，

我使用的 websocket 服务器实现是[Fleck](https://github.com/statianzo/Fleck)

有什么建议吗？我缺乏二进制/bmp 知识

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:24:25.573

快速查看 Fleck 源代码，您可以使用以下方式发送二进制数据

```
string imgFilePath = ...
socket.send(System.IO.File.ReadAllBytes(imgFilePath)); 
```

（其中套接字将是您存储在传递给服务器方法的`OnOpen`委托中的成员变量）`IWebSocketConnection``Start`

请注意，并非所有浏览器都支持读取二进制帧。最新版本的 Chrome 支持它；我不确定是否还有其他人这样做。

# java - JSF 日历选择整周

> ID：10137221
> 
> 赞同：1
> 
> 时间：2012-04-13T08:01:09.943
> 
> 标签：java, jsf, jsf-2, calendar, primefaces

有没有办法从 jsf 日历中选择整周。我知道它可以在日历中显示一年中的一周，但我不能选择它。

我将 primefaces 3.2 与 Apache MyFaces 2.0 一起使用。

最好的问候

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:16:04.503

Primefaces`p:calendar`组件的值`java.util.Date`是一个时间点，没有周期。

`Date`但是您可以通过将 转换为来获得一年中的一周`Calendar`。假设您的`p:calendar`值存储在支持 bean 变量中`java.util.Date date`：

```
Calendar cal = Calendar.getInstance();
cal.setTime(date); 
```

然后你会得到一年中的一周：

```
cal.get( Calendar.WEEK_OF_YEAR ) 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-04-13T11:35:46.610

尝试使用这样的东西：

```
<p:calendar value="#{bean.dateArray}" mode="inline" selection="multiple"/> 
```

在这种情况下，日期将作为日期数组传递给 JSF 支持 bean。

# android - Android RealViewSwitcher：如何从第二页开始？

> ID：10137223
> 
> 赞同：0
> 
> 时间：2012-04-13T08:01:15.787
> 
> 标签：android, swipe, viewswitcher

我正在使用从[该站点获得的 RealViewSwitcher。](http://marcreichelt.blogspot.com/2010/09/android-use-realviewswitcher-to-switch.html)

它在我的代码上完美运行，但我不知道**如何将初始当前屏幕设置**为第二个或第三个屏幕。

该方法`setCurrentScreen(int)`不会影响任何事情，如果我将 onLayout() 方法中的 for 循环从更改`for (int i = 0; i < count; i++) {...}`为`for (int i = 1; i < count; i++){...}`它确实从第二页开始，但您不能转到第一页。

知道如何从第二页开始吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T09:36:48.860

本地解决方案是添加新的类方法。如果您想从第二页开始 - 只需调用 snapToScreenFast(2)。

```
public void snapToScreenFast(int whichScreen) {
    if (!mScroller.isFinished())
        return;

    whichScreen = Math.max(0, Math.min(whichScreen, getChildCount() - 1));

    mNextScreen = whichScreen;

    final int newX = whichScreen * getWidth();
    final int delta = newX - getScrollX();
    mScroller.startScroll(getScrollX(), 0, delta, 0, 0);
    invalidate();
} 
```

# java - Jersey Test Framework - 为 grizzly 中的所有未知路径定义默认错误响应

> ID：10137228
> 
> 赞同：1
> 
> 时间：2012-04-13T08:01:30.590
> 
> 标签：java, testing, facebook-graph-api, jersey, grizzly

为了测试我们连接到 facebook 图形 API 的 API，我们使用基于 Jersey 测试框架和 grizzly 的模拟服务器设置：

```
@Path("/" + PostRest.RESOURCE)
@Produces("application/json")
public class PostRest {

    public static final String RESOURCE = "111_222";

    @GET
    public Response getPost(@QueryParam("access_token") String access_token) {
        if (access_token != VALID_TOKEN) {
            return Response.status(400).entity(createErrorJson()).build();
        }
        return Response.status(200).entity(createSomeJsonString()).build();
    } 
```

现在，虽然我可以使用正确的错误响应对无效或丢失的 access_token 做出反应，但我还想测试我的 API 在尝试访问**facebook 上的未知资源（**即未知路径）时是否正确反应。

现在，如果我尝试访问说“/111_2”，我显然会从我的灰熊那里得到一个 404，但 facebook 似乎捕获了该错误并将其包装在**Json 响应**中，其中包含**状态为 200**的字符串**“false”**。

 **所以...我如何设置测试框架以返回

```
Response.status(200).entity("false").build(); 
```

每次调用已知路径时？

基本示例：

```
@ContextConfiguration({ "classpath:context-test.xml" })
@RunWith(SpringJUnit4ClassRunner.class)
public class SomeTest extends JerseyTest {

    @Inject
    private SomeConnection connection;

    private String unkownId = "something";

    public SomeTest() throws Exception {
        super("jsonp", "", "com.packagename.something");
    }

    @Test(expected = NotFoundException.class)
    public void testUnkownObjectResponse() throws NotFoundException {
        // here it should NOT result in a 404 but a JSON wrapped error response 
        // which will be handled by the Connection class and 
        // result in a custom exception 
        connection.getObject(unkownId);
    } 
```

**或者，也许我可以设置 grizzly 以按需要行事..？！**

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-22T19:54:00.577

显然 facebook 有自己的服务来拦截错误。同样的事情应该在你的代码中完成。只需公开您自己的拦截所有请求的**测试服务**

```
@Path("/test/errorTrap")
public class ErrorTrapService{
 ....
} 
```

该服务将产生您想要的任何响应。因此，任何不存在的页面（如[http://mytest/test/errorTrap/111_2）](http://mytest/test/errorTrap/111_2)都将被测试服务拦截并为您产生预期的响应**

# jasper-reports - 参数列表多于一个时如何设置textfield

> ID：10137230
> 
> 赞同：0
> 
> 时间：2012-04-13T08:01:46.870
> 
> 标签：jasper-reports

我已经从我的参数中输入了名称 kem 的输入列表。它是`kem 1`, `kem 2`, `kem 3`. 我已经创建***`$x{in,pd_id,Kem}`***了一个参数，但结果只显示`kem 1`了三个 kem。我想要的是当我输入 kem 的列表名称时，数据将显示所有数据。即`kem 1`, `kem 2`, `kem 3`。这是我的代码：

```
<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="testspace" language="javascript" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
    <parameter name="kem" class="java.util.Collection">
        <defaultValueExpression><![CDATA[]]></defaultValueExpression>
    </parameter>
    <queryString>
        <![CDATA[select
PD_ID,
PD_NAME
from wf_proc_def where $X{IN,PD_ID,kem}]]>
    </queryString>
    <field name="PD_ID" class="java.math.BigDecimal"/>
    <field name="PD_NAME" class="java.lang.String"/>
    <background>
        <band splitType="Stretch"/>
    </background>
    <title>
        <band height="79" splitType="Stretch">
            <textField isBlankWhenNull="true">
                <reportElement x="118" y="24" width="334" height="20"/>
                <textElement/>
                <textFieldExpression><![CDATA[ ("1".equals($P{kem})) ? "kem1"
:("2".equals($P{kem})) ? "kem2"
:("3".equals($P{kem})) ? "kem3"
:("4".equals($P{kem})) ? "kem4"
:("5".equals($P{kem})) ? "kem5"
:null]]></textFieldExpression>
            </textField>
        </band>
    </title>
</jasperReport> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-16T06:33:19.277

我认为您的参数有问题，`kem`它必须包含值列表。您应该初始化此参数。

这是工作示例（它适用于 iReport 的示例数据库）：

```
<?xml version="1.0" encoding="UTF-8"?>
<jasperReport ..>
    <parameter name="cities" class="java.util.List">
        <defaultValueExpression><![CDATA[Arrays.asList(new String[] {"Dallas", "Lyon", "Paris"})]]></defaultValueExpression>
    </parameter>
    <queryString>
        <![CDATA[SELECT ID, CITY FROM ADDRESS WHERE $X{IN,CITY,cities}]]>
    </queryString>
    <field name="ID" class="java.lang.Integer"/>
    <field name="CITY" class="java.lang.String"/>
    <title>
        <band height="79" splitType="Stretch">
            <textField>
                <reportElement x="0" y="12" width="100" height="20"/>
                <textElement/>
                <textFieldExpression><![CDATA[$P{cities}]]></textFieldExpression>
            </textField>
        </band>
    </title>
    <detail>
        <band height="20" splitType="Stretch">
            <textField>
                <reportElement x="0" y="0" width="100" height="20"/>
                <textElement/>
                <textFieldExpression><![CDATA[$F{CITY}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="100" y="0" width="100" height="20"/>
                <textElement/>
                <textFieldExpression><![CDATA[$F{ID}]]></textFieldExpression>
            </textField>
        </band>
    </detail>
</jasperReport> 
```

`iReport`在预览功能 中生成的结果：![通过 iReport 预览生成的结果](../Images/811e9f84f24d7aeb19b96dcda9f9eb9f.png)

***更新***：

***[如何在google guava](http://code.google.com/p/guava-libraries/)库的帮助下通过键解析值***

样品：

```
<?xml version="1.0" encoding="UTF-8"?>
<jasperReport ..>
    <import value="com.google.common.collect.*"/>
    <import value="com.google.common.base.*"/>
    <parameter name="cities" class="java.util.List">
        <defaultValueExpression><![CDATA[Arrays.asList(new String[] {"1", "2", "3"})]]></defaultValueExpression>
    </parameter>
    <parameter name="citiesMap" class="java.util.Map">
        <defaultValueExpression><![CDATA[new ImmutableMap.Builder<String, String>().put("1", "Dallas").put("2", "Lyon").put("3", "Paris").build()]]></defaultValueExpression>
    </parameter>
    ...
    <title>
        <band height="79" splitType="Stretch">
            <textField>
                <reportElement x="0" y="12" width="100" height="20"/>
                <textElement/>
                <textFieldExpression><![CDATA[$P{cities}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="185" y="12" width="100" height="20"/>
                <textElement/>
                <textFieldExpression><![CDATA[Maps.filterKeys($P{citiesMap}, Predicates.in($P{cities})).values()]]></textFieldExpression>
            </textField>
        </band>
    </title>
    ...
</jasperReport> 
```

结果将是： ![在此处输入图像描述](../Images/f3df640bee8f29c6cc49fe776c04b110.png)

# vim - 如何从 vim 中的“operator-pending”映射内的搜索中删除突出显示？

> ID：10137233
> 
> 赞同：0
> 
> 时间：2012-04-13T08:02:05.160
> 
> 标签：vim

我正在尝试定义一个运算符挂起的映射（使用）来匹配上一个和下一个`onoremap`之间的所有文本。这是在 css 文件中使用的，因此我可以轻松地删除、更改或复制规则。`{``}``ir`

我使用了“Learn vimscript the hard way”中使用的语法，它是`execute`和的组合`normal`。我一直无法做的是在我上次搜索后清除突出显示搜索。使用映射后，`}`文件中的所有内容都会突出显示。

到目前为止，这就是我得到的：

```
au Filetype css noremap <buffer> ir :<C-U>execute "normal! ?{\rjV/}\rk"<CR> 
```

我知道我需要打电话`:nohlsearch`，但我不知道如何将其放入映射中。映射导致文本被视觉选择，因此当 `:nohlsearch`被调用时，它将应用于选择，这不起作用。

我需要一种清除`'<,'>`标记的方法，但我找不到如何 `<C-U>`在`normal`命令中编写以使其正确执行。另一种方法可能是离开可视模式，执行`:nohlsearch`然后重新选择最后选择的文本`gv`，但即使这样我也找不到如何`<Esc>`在我的`normal`语句中编写。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:52:04.283

在这种特殊情况下，使用类似的东西可能更容易：

```
au Filetype css noremap <buffer> ir :<C-U>call search('{', 'Wb')\|call search('}', 'Ws')\|normal! v''<CR> 
```

请注意，这是您的示例所做的，而不是正确的事情。例如，嵌套大括号将无法正确处理。

调用不带 's' 标志的搜索函数不会设置任何标记或更改搜索寄存器，因此您无需重置任何内容。

请注意，这并不是真正实现您想要的最佳方式 - 您可能需要`iB`or `i{`（它们是相同的）文本对象。

# ruby - 未初始化的常量 AWS::S3::Base 通过 AWS-SDK

> ID：10137235
> 
> 赞同：16
> 
> 时间：2012-04-13T08:02:19.630
> 
> 标签：ruby, amazon-web-services, amazon-s3, paperclip

这是我遇到的一个问题，在我使用较新版本的回形针升级到 AWS-SDK（而不是 aws-s3）后，我无法再调用 AWS::S3::Base.establish_connection！一点也不。

在我的代码中我调用的任何地方

```
AWS::S3::Base.establish_connection!(:access_key_id => '****', :secret_access_key => '***') 
```

我得到这个错误...

```
NameError (uninitialized constant AWS::S3::Base):
    app/models/asset.rb:28:in `move_upload_from_temp_to_final_resting_place' 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-04-14T15:54:53.213

是的，[aws-sdk](http://docs.amazonwebservices.com/AWSRubySDK/latest/AWS/S3.html)没有`AWS::S3::Base`. 我认为这是最接近的等价物：

```
s3 = AWS::S3.new(:access_key_id => '****', :secret_access_key => '***') 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-06-02T19:10:44.890

由于这是在我的谷歌搜索中为我弹出来解决这个问题的第一页，我将评论我是如何解决这个问题的。AWS SDK 2.0.47 下

```
require 'rubygems'
require 'aws/s3'

include AWS::S3

AWS::S3::Base.establish_connection!(
   :access_key_id => '',
   :secret_access_key => ''
) 
```

我只是错过了包含 AWS::S3。我怀疑很多人都遇到了这个问题，因为我还没有看到一个直截了当的答案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-20T08:46:06.197

我尝试了 Konstantino 解决方案，但不幸的是，它对我不起作用。使用`include AWS::S3`引发了以下异常。

`TypeError: wrong argument type Class (expected Module)`

这就是我解决相同问题的方法

```
AWS.send(:remove_const, :S3) if AWS::S3.class == Class
require Gem::Specification.find_by_name("aws-s3").gem_dir + "/lib/aws/s3.rb" 
```

当我在使用`aws-s3`启动的另一种方法中使用 的模块和方法时`delayed_job`，这个补丁在我的情况下没有产生问题。但这可能会在另一个用例中产生问题，因为`aws-sdk`' 类现在已替换为`aws-s3`' 模块。

# javascript - 骨干路由器和与 Web 服务器控制器的兼容性

> ID：10137241
> 
> 赞同：1
> 
> 时间：2012-04-13T08:02:41.047
> 
> 标签：javascript, url, backbone.js

如何在我的 Web 服务器的控制器和 Backbone 路由器之间获得兼容性？我已经设置了它，所以当用户单击链接时，会呈现一个视图，并且 URL 看起来像这样：`/test/1`，这就是我想要的。当用户尝试`test/1`通过将其输入地址栏中进行访问时，就会出现问题。我的后端有负责路由 URL 的控制器。

我将如何获得它以便它使用主干路由而不是后端路由？

一种有效的方法是当我访问 url 时`#test/1`。它是可收藏的，可以输入到地址栏中。问题是主干在加载时会带上#。

所以，我看到了我的问题的两种解决方案：

1.  让后端控制器与 Backbone 路由交互
2.  使其在地址栏中输入时不会删除#。

推荐上述哪种解决方案。而且，我将如何实施它们。第二种解决方案似乎更容易，但我将如何使其主干不会剥离散列的 URL？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-16T04:06:52.747

据我了解，当用户导航到根页面然后通过链接 test/1 时，逻辑由主干处理并呈现视图。但是当用户直接导航到 test/1 时，处理不正确。

要处理这个问题，您需要在服务器上设置一个路由，将骨干网处理的任何 URL 指向根页面。其逻辑取决于您未指定的服务器。要在 ASP 中做这样的事情，你可以设置这样的路由：

```
RouteTable.Routes.MapWebPageRoute("test/{id}", "~/Default.cshtml", new {}, new { id = "\\d+" }); 
```

这将导致诸如 test/1 之类的 URL 由默认页面处理，该默认页面与用户导航到 / 的处理程序相同。一旦页面加载到客户端，Backbone 路由器就会触发 test/1 路由。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-19T04:59:36.680

好吧，实际上，您希望 URL 始终包含 # 的原因有很多。它让很多事情变得更好。例如，无论您手动输入 URL、使用书签、使用来自另一个站点的链接，还是使用上的后退和前进按钮，Web 服务器都会自动选择正确的控制器，并自动向 Backbone 提供正确的路由。网页浏览器。所以选择2绝对是你想要的。这也是 Backbone 的标准行为。

所以我的问题是“你是如何让骨干首先停止使用 # 的？”

编辑：感谢 Chris Herring 为我们指出了一篇很好的文章，解释[了为什么 # 是坏的](http://danwebb.net/2011/5/28/it-is-about-the-hashbangs)。有了这个，我将把它作为练习留给读者，让他们了解他们想要忍受什么样的痛苦。我认为 # 仍然是要走的路，只要所有 Backbone 路由都在改变是页面上的信息是如何显示的，而不是页面上的信息是什么。如果不支持 JavaScript 的网络爬虫可以抓取所有相同的信息，而不管 # 后面是什么，那么我仍然看不到它有问题。

# oracle - 保护 Oracle 外部表数据文件

> ID：10137243
> 
> 赞同：2
> 
> 时间：2012-04-13T08:03:00.880
> 
> 标签：oracle

我刚刚学习了 Oracle 的一项功能：外部表。但是当我在我的应用程序中使用这个外部表时，我遇到了一个问题，想知道如何解决它。

问题是：外部表数据文件的安全性（它是文本格式）。

我怎样才能有效地保护这个数据文件？

目标环境是：Red hat Linux enterprise 5.4；甲骨文 10g。

由于那个环境，我不能使用 Oracle DBFS 来保护这个文件。我应该将 LOB 数据类型的外部数据文件保存在独立数据库中吗？你会为我的问题建议任何其他解决方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:22:01.750

确保只有启动 Oracle 服务/数据库的操作系统用户（通常是“oracle”）才能读取外部服务的输入文件。

那么其他用户将无法与他们相处。

# php - PHP preg_repalce 用文本替换 %var%

> ID：10137246
> 
> 赞同：0
> 
> 时间：2012-04-13T08:03:09.723
> 
> 标签：php, preg-replace

我正在尝试替换文本中的多个变量。我有例如这个文本：

```
This is an example text , my variables are:
%name%
%frontname%
%lastname%
%email% 
```

不，我想用 {$variable} 替换 % % 字符之间的每个变量。

所以我的输出看起来像这样：

```
This is an example text , my variables are:
{$name}
{$frontname}
{$lastname}
{$email} 
```

我尝试使用的模式是这样的：

```
$textResponder = preg_replace('#\%[^\%]+\%#', '{$$1}', $text); 
```

但这不起作用，因为我得到了这个输出：`{$} {$} {$}.`有人知道正确的模式是什么吗？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:06:58.880

```
$var = "Hello, %test% World %another test%!";
echo preg_replace('#%(.*?)%#', '{\$$1}', $var); 
```

[在这里测试](http://codepad.viper-7.com/YLCWPb)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:12:02.443

尝试

```
preg_replace('/%(.*?)%/', '{\$$1}', $text); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T08:12:38.597

@Gert Van de Ven 你需要逃避美元的特殊含义：

```
$var = "Hello, %test% World!";
echo preg_replace('#\%(.*?)\%#', '{\$$1}', $var); 
```

# java - Android OpenCV 列表 到垫

> ID：10137249
> 
> 赞同：1
> 
> 时间：2012-04-13T08:03:11.450
> 
> 标签：java, android, image, opencv

我正在尝试使用来自opencv for android的stereouncalibratedrectify

我没有找到在java中从List转换为Mat的方法，但是在opencv c++中我们可以从vector创建一个Mat

这是我做的步骤：

```
//find fundamental matrix
//srcmatchkey and dstmatchkey are List<Point> as required in findFundamentalMat function,    

they have been calculated using FLANN Matcher

Cali3D.findFundamentalMat(srcMatchKey, dstMatchKey, Calib3d.FM_8POINT);

//this is the strange part

Calib3D.stereoRectifyUncalibrated(Mat points1,Mat,points1,Mat fundamentalMatrix,Mat H1,Mat H2) 
```

据我了解，Mat points1 和 Mat points2 是由 srcMatchKey 和 dstMatchKey 制成的 Mat（或者我错了吗？？，如果错误请更正）并且没有 Mat 构造函数接受 List 或类似 c++ 中的向量， Mat c++ 有。

所以问题是有没有办法在android中从List创建Mat？感谢您的帮助...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T13:04:36.063

如果您使用适用于 Android 的 OpenCV 2.3.1，则将 List 转换为 Mat 的代码为：

```
 List<Point> lp = null;
  Mat mp = Converters.vector_Point_to_Mat(lp); 
```

或谈论`stereoRectifyUncalibrated()`它可以是：

```
 Mat mp = Converters.vector_Point2d_to_Mat(lp); 
```

在 Android 的 OpenCV 2.4.beta（最近发布）中，所有`List<T>`类型都被替换为`MatOfT`阻止在 Native 和 Java 之间来回复制数据的类型。

# testing - Selenium IDE 测试所有链接

> ID：10137250
> 
> 赞同：5
> 
> 时间：2012-04-13T08:03:12.297
> 
> 标签：testing, selenium, modal-dialog, selenium-ide

我正在尝试使用 Selenium IDE 来测试 Web 应用程序。在一页上，有几个链接会触发模态窗口。我想测试页面上的所有链接以确保所有导致模式弹出。

每个链接都有一个“模态”类，所以我想我可以在 IDE 中更改目标值，`css=a.modal`但只能找到第一个链接。

我找到了一些解决方案，但他们将 Selenium RC 与 Java/Python 结合使用，并且无法直接翻译到 IDE。

我知道 IDE 没有那么强大，但我正在设置它以供非程序员使用，到目前为止，这对他们来说真的很简单。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-14T06:12:30.270

我必须阅读很多内容，我要感谢@ohaal 和@aleh 的投入。我使用了他们建议的链接以及更多的外部阅读来达到这样的解决方案：

```
<tr>
<td>open</td>
<td>/logout</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=Forum</td>
<td></td>
</tr>
<tr>
<td>storeXpathCount</td>
<td>//p[3]/span/a[contains(@class, 'modal')]</td>
<td>users</td>
</tr>
<tr>
<td>store</td>
<td>1</td>
<td>i</td>
</tr>
<tr>
<td>while</td>
<td>storedVars.i&lt;=storedVars.users</td>
<td></td>
</tr>
<tr>
<td>click</td>
<td>//descendant::a[contains(@class, 'modal')][${i}]</td>
<td></td>
</tr>
<tr>
<td>waitForText</td>
<td>css=h2</td>
<td>You are not logged in</td>
</tr>
<tr>
<td>click</td>
<td>css=#cross_button &gt; a &gt; img</td>
<td></td>
</tr>
<tr>
<td>store</td>
<td>javascript{storedVars.i++}</td>
<td></td>
</tr>
<tr>
<td>endWhile</td>
<td></td>
<td></td>
</tr> 
```

我没有选择任何一个答案，因为他们都为最终解决方案做出了贡献。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:10:47.117

使用 while 循环，并将此 XPath 表达式用作定位器：`//a[contains(@class, 'modal')]`

`//a[contains(@class, 'modal')][1]`，`//a[contains(@class, 'modal')][2]`等等应该指向你所追求的链接。

如果您不熟悉 Selenium IDE，请参阅[此链接](http://kb.jaxara.com/simple-loop-selenium-ide)以获取有关如何在 Selenium IDE 中执行 while 循环的更多信息。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-13T10:31:20.887

试试这个（你必须下载这个[扩展](http://51elliot.blogspot.com/2008/02/selenium-ide-goto.html)）：

```
<tr>
    <td>storeCssCount</td>
    <td>css=a.modal</td>
    <td>links</td>
</tr>
<tr>
    <td>store</td>
    <td>0</td>
    <td>i</td>
</tr>
<tr>
    <td>label</td>
    <td>l1</td>
    <td></td>
</tr>
<tr>
    <td>getEval</td>
    <td>storedVars.i++</td>
    <td></td>
</tr>
<tr>
    <td>click</td>
    <td>//descendant::a[contains(@class, 'modal')][${i}]</td>
    <td></td>
</tr>
<tr>
    <td>gotoIf</td>
    <td>--storedVars.links</td>
    <td>l1</td>
</tr> 
```

在最后一个命令（gotoIf）之前插入您的断言和可能的弹出窗口关闭。

# javascript - Jquery Cookie 插件只能读取它设置的 cookie 吗？

> ID：10137251
> 
> 赞同：1
> 
> 时间：2012-04-13T08:03:15.393
> 
> 标签：javascript, jquery, cookies, jquery-mobile, jquery-cookie

Jquery Cookie 插件只能读取它设置的 cookie 吗？

我正在使用 an`IFrame`在`jQuery Mobile`页面 ( `date-role="page`) 中显示页面。Iframe 使用经过 asp.net 表单身份验证的页面。我想在导航到页面之前检查 cookie 是否存在并且没有过期。这样，只有在 cookie 不存在时，我才能处理登录过程。这可能吗？

我正在尝试读取 cookie

```
alert( $.cookie("example") ); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:41:47.837

> 它是一个不同的域。然而，情况并非总是如此

这就是这种情况下的问题 - cookie 只能从设置它们的同一域中读取。这是每个浏览器中都存在的安全功能。

# jquery - 如何编写仅在不支持 position:fixed 或 Jquery-test for position:fixed 时适用的 CSS 规则？

> ID：10137256
> 
> 赞同：0
> 
> 时间：2012-04-13T08:03:47.723
> 
> 标签：jquery, position, css

我有两个 CSS 文件，我只能编辑第二个文件。

我的 HTML 元素：

```
<div class="ui-header ui-header-fixed"></div> 
```

第一个 CSS 文件集：

```
.ui-header        { position: relative };
.ui-header-fixed  { position: fixed }; 
```

因此，当不支持*position:fixed*时，CSS 会退回到*position:relative*。但是，我需要它回退到**position:absolute**仅在这种特定情况下。

我正在寻找一种方法来使用*position:absolute*从第二个文件覆盖上述 CSS ，但前提**是**不支持*position:fixed 。*

**问题：**
这可能吗？我不能使用 Jquery 直接更改 CSS，但是如果有 JQuery 测试 position:fixed 被支持，那将是可用的（设置一个类添加一个 CSS 规则）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:06:37.267

您可以使用 jQuery 吸引 css-rules，如下所示：

```
var position = $("MyElement").css("position"); 
```

我不太确定这一点，但这应该返回的 css 值`position`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:30:22.800

行。我找到了一个很好的解决方案：

```
http://kangax.github.com/cft/#IS_POSITION_FIXED_SUPPORTED 
```

检测是否支持 position:fixed 。如果不是，我`noFix`将向 html 元素添加一个类，然后在第二个文件中编写我的 CSS 规则，如下所示：

```
 .noFix .ui-header { positon: absolute; } 
```

由于此规则在第二个文件中，因此`position:relative`仅当不支持位置固定时它才会覆盖第一个文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T08:42:17.507

你可以编辑元素吗？在您的第二个样式表中（假设它在头部第二个列出），添加

```
.ui-header-abs        { position: absolute }; 
```

并将元素本身更改为

```
<div class="ui-header ui-header-abs"></div> 
```

* * *

失败：如果您只针对一个文档，并且可以编辑其`<head>`元素，您可能想尝试插入

```
<style type="text/css">
.ui-header        { position: absolute }
.ui-header-fixed  { position: fixed }
</style> 
```

我相当肯定你实际上并不需要第二条规则。优先级规则有时仍然会让我感到困惑，但是 IIRC 文档中的样式元素会覆盖外部样式表（对于同一个选择器），因此这应该会覆盖第一个（不可编辑的）样式表中的两个规则。

如果您无法将该样式元素放入标题中，它可能会在正文元素中工作，但这是无效的。

* * *

我需要使用它，但这应该可以在没有 DOM 诡计的情况下使用普通的旧 CSS 及其优先规则来解决；我不明白为什么在这种情况下需要使 jQuery 复杂化。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-03-11T09:41:43.033

由于这个问题相当古老，这里有另一种方法可以更富有表现力地解决这个问题。（当时可能不可用）

```
.ui-header-fixed {
    position: fixed;
    @supports not (position:fixed) {
        position: absolute;
    }
} 
```

# python - 模型在models.py中一起出血？

> ID：10137257
> 
> 赞同：1
> 
> 时间：2012-04-13T08:03:48.150
> 
> 标签：python, django, model, django-forms

在 Django 中，我正在尝试为 ContactForm 编写 ModelForm，当我尝试加载包含表单的页面时，它说它不存在。然后，当我尝试渲染我之前写的另一种形式时，它说

```
Caught AttributeError while rendering: 'CashtextsForm' object has no attribute 'subject' 
```

“主题”是我试图在 ContactForm 中呈现的表单中的一个字段。那么我必须在models.py中列出它们吗？这是代码：

```
# Create your models here.
from django.db import models
from django.forms import ModelForm

class Cashtexts(models.Model):
    cashTexts = models.CharField(max_length=100, blank=True) #change me to a website filter
    superPoints = models.CharField(max_length=100, blank=True)#chance to "superPoints _Username"
    varolo = models.CharField(max_length=100, blank=True)
    swagbucks = models.CharField(max_length=100, blank=True)
    neobux = models.CharField(max_length=100, blank=True)
    topline = models.CharField(max_length=100, blank=True)
    Paidviewpoint = models.CharField(max_length=100, blank=True)
    cashcrate = models.CharField(max_length=100, blank=True)

    def __unicode__(self):
        return self.cashcode

class Contact(models.Model):
    sender = models.EmailField()
    subject = models.CharField(max_length=25)
    message = models.TextField()

class CashtextsForm(ModelForm):
    class Meta:
        model = Cashtexts

    def __unicode__(self):
        return self.subject

class ContactForm(ModelForm):
    class Meta:
        model = Contact 
```

我以前将它们排列为模型-模型形式，模型-模型形式，但[在这里](https://docs.djangoproject.com/en/dev/topics/forms/modelforms/)它以我现在拥有它们的方式显示它们。

另外，只写表格有什么好处吗？现在我更习惯于编写模型表单而不是表单（我不认为它们有什么不同）但是如果我只编写模型表单，我会错过功能吗？那么关于如何在models.py中编写多个表单或者我是否将它们写成wearg，我有什么遗漏的吗？或者我不能通过命令syncdb 创建它们吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T09:20:58.123

主题字段是在模型中而不是在模型表单中定义的，因为模型表单可以在没有模型实例的情况下进行初始化，因此执行以下操作是不安全的：

```
def __unicode__(self):
    return self.instance.subject 
```

你能做什么（但我真的不明白这样做的意义）：

```
def __unicode__(self):
    if getattr(self, 'instance') is not None:
        return self.instance.subject
    return super(CashtextsForm, self).__unicode__() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:32:19.027

该`__unicode__(self)`方法应该是您的`Contact`课程的一部分

```
class Contact(models.Model):
    sender = models.EmailField()
    subject = models.CharField(max_length=25)
    message = models.TextField()

    def __unicode__(self):
        return self.subject 
```

它在内部没有意义，`CashtextsForm`因为它不“知道”一个`subject`属性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T08:15:45.643

是的，您的表单确实没有`subject`，只需删除`__unicode__`定义，一切都会好起来的。

这是因为 django 代码的声明式风格。如果你想检查你的对象使用`pdb`模块和`dir`内置。

您几乎每次都会使用 ModelForm 子类，但有时您需要一个无法从模型构建的表单。在这种情况下，django 将帮助您描述此类表单并使用表单清理和字段验证。

# matlab - 使用 MATLAB 从图像中进行特征检测

> ID：10137258
> 
> 赞同：1
> 
> 时间：2012-04-13T08:03:50.970
> 
> 标签：matlab, image-processing, feature-detection, matlab-cvst

我想知道是否有任何算法可用于从图像中进行有效的特征检测，我目前在 MATLAB 中使用 SIFT 算法，但结果并不好！因此，如果有人可以建议我一个更好的算法，可以让我在 MATLAB 中的工作更轻松。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:08:41.607

我建议使用 SURF 算法，它更好更快，我认为它已经在 MATLAB 中实现

# ruby-on-rails - 如何将 JBuilder 视图的 JSON 表示形式呈现为字符串？

> ID：10137259
> 
> 赞同：25
> 
> 时间：2012-04-13T08:03:51.410
> 
> 标签：ruby-on-rails, json, jbuilder

我正在使用[JBuilder](https://github.com/rails/jbuilder)来返回一些 JSON。我有一个`index.json.jbuilder`生成数据的，我需要将它呈现为一个字符串。但是，我不确定如何执行此操作，因为：`@my_object.to_json`并且`@my_object.as_json`似乎没有通过 JBuilder。

如何将 JBuilder 视图呈现为字符串？

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2012-04-19T18:16:26.103

我在控制器中将用户集合呈现为 json 字符串，如下所示：

```
#controllers/users_controller.rb
def index
  @users = User.all
  @users_json = render_to_string( template: 'users.json.jbuilder', locals: { users: @users})
end

#views/users/users.json.jbuilder
json.array!(users) do |json, user|
  json.(user, :id, :name)
end 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-10-31T04:44:02.280

如果视图`users.json.jbuilder`位于相对于控制器的默认路径并且找不到模板，则可能是由于`format`差异，因为它可能正在尝试查找`html`格式文件。有两种方法可以解决此问题：

1.  让客户端 GET`/users/index.json`

    **或者**

2.  `formats`调用时指定选项`render_to_string`（也适用于`render`）：

* * *

```
#controllers/users_controller.rb
def index
  @users = User.all
  @users_json = render_to_string( formats: 'json' ) # Yes formats is plural
end 
```

这已在 Rails 4.1 中得到验证。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2015-10-05T03:14:47.083

如果您在控制器中执行此操作，一个更简单的选择是尝试将代码移动到控制器正在呈现的视图中。

我在这里描述了这个： [https ://github.com/shakacode/react-webpack-rails-tutorial/blob/master/docs/jbuilder.md](https://github.com/shakacode/react-webpack-rails-tutorial/blob/master/docs/jbuilder.md)

基本上你可以`render`在视图中调用，你就完成了。像这样：

```
<%= react_component('App', render(template: "/comments/index.json.jbuilder"),
    generator_function: true, prerender: true) %> 
```

如果您想将数据从控制器传递到视图，以下是关于会发生什么的注释：

```
class PagesController < ApplicationController
  def index
    @comments = Comment.all

    # NOTE: The below notes apply if you want to set the value of the props in the controller, as
    # compared to he view. However, it's more convenient to use Jbuilder from the view. See
    # app/views/pages/index.html.erb:20
    #
    #  <%= react_component('App', render(template: "/comments/index.json.jbuilder"),
    #     generator_function: true, prerender: true) %>
    #
    #
    # NOTE: this could be an alternate syntax if you wanted to pass comments as a variable to a partial
    # @comments_json_sting = render_to_string(partial: "/comments/comments.json.jbuilder",
    #                                         locals: { comments: Comment.all }, format: :json)
    # NOTE: @comments is used by the render_to_string call
    # @comments_json_string = render_to_string("/comments/index.json.jbuilder")
    # NOTE: It's CRITICAL to call respond_to after calling render_to_string, or else Rails will
    # not render the HTML version of the index page properly. (not a problem if you do this in the view)
    # respond_to do |format|
    #   format.html
    # end
  end
end 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-11-16T02:04:51.170

你也可以这样做，这会让你的控制器更干净一些。

```
# controller
def new
  @data = Data.all
end

# view
<% content_for :head do %>
  <script type="text/javascript">
    var mydata = <%= raw render :partial => 'path/to/partial', :locals => {data: @data} %>;
  </script>
<% end %>

# path/to/_partial.html.jbuilder
json.array!(@data) do |d|
  json.extract! field1, :field2, :field3, :field4
  json.url data_url(d, format: :json)
end

# layouts/application.html
<!DOCTYPE html>
<html>
<head>
  <%= yield :head %>
</head>
<body>
...
</body>
</html> 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-04-18T20:18:59.183

查看源代码，看起来你可以这样做：

```
json_string = Jbuilder.encode do |json|
  json.partial! 'path/to/index', @my_object
end 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2015-07-14T18:05:40.463

从控制台：

```
view = ApplicationController.view_context_class.new("#{Rails.root}/app/views")
JbuilderTemplate.encode(view){|json| json.partial!('path/to/index', @my_object) } 
```

通过[https://github.com/rails/jbuilder/issues/84#issuecomment-38109709](https://github.com/rails/jbuilder/issues/84#issuecomment-38109709)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-02-19T01:28:38.070

按照justingordon的提示。

如果您使用的是 React 组件，则可以执行以下操作。

在您的控制器中：

```
@users = User.all 
```

在您看来：

```
<%= react_component("YourComponentName",
                    props: render('your_template.json.jbuilder')) %> 
```

这是在 Rails 5.1 上测试的。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-09-04T09:36:55.663

在控制器中你可以这样做

```
def index
  json = JbuilderTemplate.new(view_context) do |json|
    json.partial! 'index'
  end.attributes!
  do_something(json)
  render json: json
end 
```

请注意，您需要“_index.json.jbuilder”，因为它调用部分渲染器

# spring - Hibernate hbm2ddl 模式创建和 Maven 测试

> ID：10137260
> 
> 赞同：0
> 
> 时间：2012-04-13T08:03:54.520
> 
> 标签：spring, hibernate, unit-testing, maven

我尝试使用以下 Hibernate 属性来创建数据库模式。

```
<property name="hibernate.hbm2ddl.auto" value="create"/> 
```

这是一个 Maven Java EE（Hibernate/Spring）项目，由 Maven 单元测试组成，它在开始时验证数据库模式。这意味着数据库模式在创建之前已经过验证（因此部署失败）。

我该如何克服这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T14:08:26.690

不确定你想要做什么，但是如果你的 DDL 是在测试阶段之前生成的（如果你在流程类阶段这样做应该是这种情况），它应该在你的测试运行时存在。

```
<execution>
        <phase>process-classes</phase>
        <goals>
          <goal>hbm2ddl</goal>
        </goals>
      </execution> 
```

# mongodb - 嵌套结构简化

> ID：10137261
> 
> 赞同：0
> 
> 时间：2012-04-13T08:03:57.707
> 
> 标签：mongodb, clojure

在这种结构中，我想从输出中删除该特定列**（** :i "" **）** ，这可能吗？？？

喜欢..输入是一样的

{

```
:aa {:a "a_val",:b "b_val"},

:qq {:abc 
        {
            :x1 {:x "abc",:u "ee"},
            :x2 {:y "abc",:i "ee"},
            :x3 {:x "abc",:i ""}
    }   
    },
:ww {:xyz {
            :y1 {:x "abc",:u "ee"},
            :y2 {:y "abc",:i ""},
            :y3 {:x "abc",:i "ee"}
          } 
    } 
```

}

但需要它的输出...

{

```
:aa {:a "a_val",:b "b_val"},
:qq {:abc 
        {
            :x1 {:x "abc",:u "ee"},
            :x2 {:y "abc",:i "ee"}
    }   
    },
:ww {:xyz {
            :y1 {:x "abc",:u "ee"},
            :y3 {:x "abc",:i "ee"}
          } 
    } 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T09:19:24.293

由于（相当可怕的）模式无法以通用方式实现。您的架构现在允许查询嵌入文档中的字段，因为您需要知道更高级别文档的字段名称。换句话说，您不能有一个查询“取消所有 'x' 其中 'i' 为空”，因为您的架构不适合它。

您将不得不重新设计您的架构以允许您需要做的事情。通常，首先写下您需要对数据执行的操作，然后设计一个最有效地允许最常见用例的模式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T09:43:29.647

根据您之前的问题构建......这既可以进行原始过滤，也可以消除深层子元素。

```
user> (defn vvals [m] (when (map? m) (vals m)))
'user/vvals
user> (into {}
        (for [[k v] xx
              :when (some #{"0"} (for [v (vvals v), v (vvals v)] (:i v)))
              :let [v (map (fn [[k v]] [k (into {} (remove #(= (:i (val %)) "0") v))]) v)]]
           [k (into {} v)])) 
```

这行得通，但它变成了一个丑陋的烂摊子。也许考虑@Remon van Vliet 给出的建议。还有可能适合您的任务的[zippers API 。](http://richhickey.github.com/clojure/clojure.zip-api.html)

# c++ - 将指向类的指针存储在引用中

> ID：10137266
> 
> 赞同：0
> 
> 时间：2012-04-13T08:04:21.890
> 
> 标签：c++, pointers, reference, wxwidgets

我有以下代码： -

```
wxSpinCtrl* m_spinner; 
```

where`wxSpinCtrl`是一个类并且`m_spinner`是一个指针，我需要的是我们拥有的东西：

```
int b;
int* a;
a = &b; 
```

是上述类型的代码可用于

```
wxSpinCtrl* m_spinner; 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:09:15.897

Of course

```
wxSpinCtrl b;
wxSpinCtrl* a;
a = &b; 
```

This will work only if wxSpinCtrl has a public default constructor

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:07:03.557

如果您想要对同一对象的另一个引用，请使用：

```
 wxSpinCtrl* m_spinner;
 wxSpinCtrl* other = m_spinner; 
```

如果你想要一个双指针使用：

```
 wxSpinCtrl* m_spinner;
 wxSpinCtrl** other = &m_spinner; 
```

正如所`Als`指出的，这也可以：

```
 wxSpinCtrl obj; 
 wxSpinCtrl* m_spinner = &obj; 
```

# android - 如何获取安卓手机的CDMA Pilot PN？

> ID：10137267
> 
> 赞同：1
> 
> 时间：2012-04-13T08:04:32.167
> 
> 标签：android, cdma

我们可以获得安卓手机的 CDMA Pilot PN 号码吗？PN码是CDMA手机的Pseudo-random Noise码，是CDMA系统非常重要的参数，但经过几周的搜索，我找不到方法。有人可以帮我吗？可以从 RIL 得到吗？但是怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-15T15:57:52.547

将`Motorola 4G RAZR Max`通过拨号进入测试模式`##387`。

您将收到一个请求`SPC Passcode`，输入`000000`并点击`Verify`。

第一个屏幕和显示的第一个项目将是`PN offset of the strongest active pilot`.

希望这会有所帮助。

# php - 输出用户输入 - 防止 xss

> ID：10137277
> 
> 赞同：0
> 
> 时间：2012-04-13T08:05:34.543
> 
> 标签：php, xss, htmlspecialchars

我的站点中有一个管理部分，可以存储项目。一旦它们被存储，它们就会显示在前端。我的部分展示涉及如下代码：

```
echo "<p>".$rose['description']."</p>"; 
```

这是否需要在其中包含 htmlspecialchars 以防止低级别的 xss？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:31:05.047

是的，当然，您应该始终在将用户输入输出回之前对其进行过滤，以防止 XSS 攻击。请记住，您应该在输出之前清理用户输入，而不是在将其保存到数据库之前，因为您并不总是需要输出 html

# asp.net - 使用分页打印列表视图

> ID：10137278
> 
> 赞同：0
> 
> 时间：2012-04-13T08:05:41.360
> 
> 标签：asp.net, listview

我有一个包含 300 多条记录的列表视图，我想打印这个列表视图，但每页中每 50 条记录。如何在 ASP.net 中执行此任务

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:06:51.513

您可以使用 Linq 仅获取您需要的记录

```
MyList.Skip(pageNo * totalPerPage).Take(totalPerPage).ToList() 
```

# c - INSERT INTO 语句中的语法错误

> ID：10137279
> 
> 赞同：1
> 
> 时间：2012-04-13T08:05:45.820
> 
> 标签：c, ms-access

当我与 access 数据库连接时遇到问题，然后我在 INSERT INTO 语句中收到错误语法错误。我的代码是：

```
 string str = ("Provider=Microsoft.ACE.OLEDB.12.0;Data Source=C:/Users/Geeta/Desktop/Database2.accdb;Persist Security Info=False;");
        OleDbConnection conn = new OleDbConnection(str);
        conn.Open();
        string query = "insert into data (FirstName,Email,Password,Address) values ('" + 
            txt_fstname.Text + "','" + txt_email.Text + "', '" + 
            txt_pass.Text + "', '" + txt_add.Text + "')";
        OleDbCommand cmd = new OleDbCommand(query,conn);
        cmd.ExecuteNonQuery();
        conn.Close();
        Response.Redirect("Default.aspx"); 
```

请建议我。

“谢谢”

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:32:12.240

密码是 Jet/ACE SQL 中的[保留字](http://support.microsoft.com/kb/248738)，因此您必须将其括在方括号中：

```
string query = "insert into data (FirstName,Email,[Password],Address) values ('" + 
```

# c# - .NET 中有 XML 表单生成器吗？

> ID：10137282
> 
> 赞同：2
> 
> 时间：2012-04-13T08:05:50.360
> 
> 标签：c#, xml, forms, generator

是否有任何用 .NET 编写的基于 XML 的表单生成器框架/库？基本上，我们希望能够在 xml 文件中定义字段、数据类型、控件、默认值、强制验证等，并加载将呈现数据输入表单的网页。这将包括可以在表单中重复 n 次的字段。（例如，配方数据库中的成分可以重复 n 次，或联系人数据库中的多个地址）来自此动态表单的数据条目将保存在 XML 输出文件中。

我正在尝试确定是否需要从头开始构建它，或者是否有人发明了可重复使用的轮子，可以这么说。

谢谢你的帮助

多发性硬化症

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:55:39.030

您可以查看 XForms。

作为一项技术，它似乎没有流行起来。这个想法是浏览器本身支持它，但今天没有多少支持。

也就是说，似乎有很多服务器端甚至 javascript 库能够将 xforms 呈现为传统的表单输入。

*   好的起点[在这里](http://en.wikipedia.org/wiki/XForms)
*   一个 .net 实现（没有使用过，所以不能说它是否好）[在这里](http://mvcxforms.codeplex.com/)
*   w3c wiki（很多实现）[在这里](http://www.w3.org/community/xformsusers/wiki/XForms_Implementations)

# objective-c - 正确实现图纸视图中的块

> ID：10137289
> 
> 赞同：0
> 
> 时间：2012-04-13T08:06:32.027
> 
> 标签：objective-c, ios, uiimageview, uiimage, draw

如何正确实现图纸视图中的块，以便他们可以将线分成两部分。使用 UIImageView 还是 UIImage？

[![在此处输入图像描述](../Images/6a356c4bbfb297f8d612772b27669dcc.png)](https://i.stack.imgur.com/Fx2NQ.png)

切割后的块应该受到物理的影响。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T09:45:41.937

首先，总共会发生多少次削减？会产生多少个独立的块？10？100？在实施任何这些之前，请在 iPhone 或 iPod touch 上测试移动该数量的对象。仅仅因为它在模拟器上工作并不意味着它在实际设备上足够快。

其次，正如已经提到的，有一些游戏图形和物理库可以为你做很多工作。 [Cocos2D](http://www.cocos2d-iphone.org/about)似乎是一个流行的选项，它将 OpenGL 绘图与相对容易访问的物理库相结合。

无论如何，要自己绘制，以下是选择：

1.  将所有图形移动到 OpenGL 中。这不应该掉以轻心——你会失去很多在 Cocoa Touch 中工作的便利性。您还可以最大程度地控制图形和动画，如果您花时间对其进行优化，则可以获得最流畅的性能。

2.  有一个 UIView，`CALayer`为每个独立的块添加子层到它的主层。CALayers 专为快速移动和合成而设计。但是，如果您正在运行物理模拟，您的第一步将是删除它们的动画行为。 [本教程系列](http://nachbaur.com/blog/core-animation-part-1)可能很有用。

3.  `UIView`每个块都有一个单独的。这将具有与使用 CALayer 类似的性能，因为 UIViews 实际上是使用 CALayer 绘制的。这个选项会消耗更多的内存，（你至少有和以前一样多的层和更多的视图），但你拥有 CALayers 的所有功能以及一些更容易在视图上绘制的选项。

4.  有一个, 并在其方法`UIView`期间绘制每个块。`drawRect`这看起来很容易实现，但几乎可以肯定它太慢了。

如果可能的话，测试每一个。在继续切割和物理部分之前，您可以在屏幕上设置多少块动画，然后它才会减慢太多？你能用它制作游戏吗？记住，你的物理系统在运行时会减慢游戏速度。

# vb.net - wsHTTPBinding over HTTPS 导致错误 400 'Bad Request'

> ID：10137294
> 
> 赞同：2
> 
> 时间：2012-04-13T08:06:53.103
> 
> 标签：vb.net, wcf, https, wcf-binding, bad-request

我一直在尝试创建一个简单的服务，以允许通过 WCF 将消息登录到远程服务器，在我将服务发布到使用 HTTPS 的实时环境之前，这一切都运行良好。

经过一番搜索，我发现我需要更改我的 ServiceConfig 以适应不同的协议。我结合使用了这两篇文章：

1.  [如何配置 WCF 服务以在没有 HTTP 绑定的情况下通过 HTTPS 工作？](https://stackoverflow.com/questions/4863590/how-to-configure-wcf-services-to-work-through-https-without-http-binding)
2.  [HTTPS 所需的 WCF 绑定](http://weblogs.asp.net/srkirkland/archive/2008/02/20/wcf-bindings-needed-for-https.aspx)

对我的配置进行了建议的更改后，我似乎处于可以将实时服务添加为 VS2010 中的 WCF 引用的状态，但是当我使用 IE 浏览到服务或 mex 地址时，我一直收到“HTTP 400 错误请求”错误。

在使用该服务方面，我似乎可以成功运行它，但 mex 只是不想通过 IE 工作。

服务本身托管在运行 IIS 6.0 且没有负载平衡的 Windows Server 2003 R2 Standard Edition SP2 上。

在这一点上我真的很茫然，我花了 3-4 天的时间来解决这个问题，但我似乎无法取得任何进展。因此，任何帮助将不胜感激。

请参阅下面有问题的服务器服务配置：

```
 <system.serviceModel> 
    <services>
      <service name="mycorp.Callback.SecPayService" behaviorConfiguration="mycorp.Callback.SecPayServiceBehavior">
         <endpoint address="https://myserver.co.uk/SecPay/SecPayService.svc"
                   binding="wsHttpBinding" bindingConfiguration="TransportBinding" 
                   contract="mycorp.Callback.ISecPayService"/>      
        <endpoint address="mex" binding="mexHttpsBinding" contract="IMetadataExchange" />        
      </service>
    </services>
    <behaviors>
      <serviceBehaviors>
        <behavior name="mycorp.Callback.SecPayServiceBehavior">
          <serviceMetadata httpsGetEnabled="true" />
          <serviceDebug includeExceptionDetailInFaults="true" />
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <bindings>
      <wsHttpBinding>
        <binding name="TransportBinding">
          <security mode="Transport">
            <transport clientCredentialType="None" />
          </security>
        </binding>
      </wsHttpBinding>
    </bindings>
  </system.serviceModel> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T16:06:02.283

如果您在 IIS 中托管服务，则只需将端点元素地址值设置为空字符串，因为端点的地址由 IIS 分配

# php - 使用 jQuery 读取复选框值

> ID：10137301
> 
> 赞同：0
> 
> 时间：2012-04-13T08:07:38.737
> 
> 标签：php, jquery

我从复选框读取数据有一点问题。

```
 {foreach value=artist2 from=$artist}
                <br />

                   <input type="checkbox" name="artist[]" value="{$artist2.MOVIE_ID}-{$artist2.PERSON_ID}" { in_array array=$item match=$artist2.NAME_SURNAME returnvalue="CHECKED" }>{$artist2.NAME_SURNAME}<br />

                <hr />
                {/foreach}
                   <p align="right">  <a style="float: right" href='javascript:void(null);' onclick="deleteData();" ><input type="submit" name="removeArtistFromMovie" onclick="showMessage('Seçilen oyuncu(lar) başarıyla silindi')" value="Seçilenleri Sil" id="value"</p></a>
                <br >
                  </form> 
```

我在我的 js 文件中生成这样的复选框：

我试试这个

```
function deleteData(){
    var artistIds = new Array();

    $("input[@type=artist[]][@checked]").each(function(){
        artistIds.push($(this).attr('id'));
    });

alert(artistIds);

$.post('/management/deleteDataAjax2', 
       { json: JSON.stringify({'artistIds': artistIds}) },
       function(response){
        alert("Başarıyla silindi");
        window.location.replace(window.location.pathname);
});

} 
```

但是，上面的代码不采用选中的复选框的值。为什么 ？

**最后**

我认为问题就在这里，因为页面没有转到 js。

```
<form name=form1 method=post action=# onsubmit='return validate(this)'>

                <br />

                   <input type="checkbox" name="artist[]" value="{$artist2.MOVIE_ID}-{$artist2.PERSON_ID}"  />{$artist2.NAME_SURNAME}<br />

                <hr />

                {/foreach}
                <p align="right">
                <a style="float: right" href='javascript:void(null);' onclick="deleteData();" ><br />
                    <input type="button" name="checkArtistButton" value="Seçilenleri Sil" id="ajaxCheckbox" /></a></p>
                <br >
                  </form> 
```

这是我的 js

```
function deleteData(){

    var artistIds = [];
$('#ajaxCheckbox').click(function() {
    $("input[name='artist[]']:checked").each(function() {
        artistIds.push($(this).attr('value'));
    });
    alert(artistIds);
});​
​    

$.post('/management/deleteDataAjax2', 
       { json: JSON.stringify({'artistIds': artistIds}) },
       function(response){
        alert("Başarıyla silindi");
        window.location.replace(window.location.pathname);
});

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:09:08.690

代替

```
$("input[@type=artist[]][@checked]").each(function(){ 
```

尝试

```
$("input[name='artist[]']:checked").each(function(){ 
```

[这里的工作示例](http://jsfiddle.net/9u9Xe/)

## 笔记

我认为您的意思是获取复选框的值-查看您的标记它们没有`id`属性-使用`.val()`而不是`attr('id')`获取值

## 更新

您现在正在单击锚点设置事件处理程序...更改此

```
function deleteData() {
    var artistIds = [];
    $('#ajaxCheckbox').click(function () {
        $("input[name='artist[]']:checked").each(function () {
            artistIds.push($(this).attr('value'));
        });
        alert(artistIds);
    });​​ 
```

对此

```
function deleteData() {
    var artistIds = [];
    $("input[name='artist[]']:checked").each(function () {
        artistIds.push($(this).val());
    });
    alert(artistIds); 
```

该`deleteData`函数已被调用`onclick`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:09:15.960

使用`:checked`选择器代替`[@checked]`（顺便说一句，您不要`@`在 CSS 属性选择器中使用）。您还为名称使用了错误的属性选择器。我还稍微简化了您的代码；您的用例非常适合使用`.map(..).get()`

```
var artistIDs = $("input[name='artist[]']:checked").map(function(){
    return this.id;
}).get(); 
```

演示：http: [//jsfiddle.net/ThiefMaster/sBmdC/](http://jsfiddle.net/ThiefMaster/sBmdC/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-13T08:09:55.443

试试下面的代码行：

```
var artistIds = Array();
$("input[name=artist[]]:checked").each(function(index){
     artistIds[index] = $(this).val();
}); 
```

这可能对你有用..

# asp.net-mvc - 如何升级实体框架以获取 system.data.EntityClient.dl？

> ID：10137303
> 
> 赞同：0
> 
> 时间：2012-04-13T08:07:45.133
> 
> 标签：asp.net-mvc, ado.net, entity-framework-4.1

我是实体框架的新手。我支持在 Visual studion2010、MVC 3 和实体框架中创建的项目。在我的 PC 中，当我在我的 PC 中构建该项目时，我有 VS 2010、Mvc 和 entityframwork。它构建成功。但给出错误“在配置中找不到指定的商店提供程序，或者无效。” 他们在连接字符串中使用了 providerName="System.Data.EntityClient"。如何解决这个问题...？

我检查了 [http://msdn.microsoft.com/en-us/library/system.data.entityclient.entityconnection.aspx](http://msdn.microsoft.com/en-us/library/system.data.entityclient.entityconnection.aspx) 并安装了一些工具，但它没有帮助......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:40:30.670

您需要将配置部分添加到您的 web.config，很可能是错误消息的“无法在配置中找到”部分导致此问题。将以下内容添加到您的 web.config 中，就在该部分之后：

```
<system.data>
        <DbProviderFactories>
            <add name="EF Caching Data Provider" invariant="EFCachingProvider" description="Caching Provider Wrapper" type="EFCachingProvider.EFCachingProviderFactory, EFCachingProvider, Version=1.0.0.0, Culture=neutral, PublicKeyToken=def642f226e0e59b"/>
            <add name="EF Caching Data Provider for Web" invariant="EFCachingProvider.Web" description="Caching Provider Wrapper for Web" type="EFCachingProvider.Web.EFCachingProviderFactory, EFCachingProvider.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=def642f226e0e59b"/>
            <add name="EF Generic Provider Wrapper" invariant="EFProviderWrapper" description="Generic Provider Wrapper" type="EFProviderWrapperToolkit.EFProviderWrapperFactory, EFProviderWrapperToolkit, Version=1.0.0.0, Culture=neutral, PublicKeyToken=def642f226e0e59b"/>
        </DbProviderFactories>
    </system.data> 
```

# vim - 如何找到哪个 VIM 插件因 CPU 过载而有罪

> ID：10137304
> 
> 赞同：20
> 
> 时间：2012-04-13T08:07:46.710
> 
> 标签：vim, vim-plugin

我刚刚完成了 Vim 的全新安装，这次我在我的 VIM 配置中添加了一些新插件。问题是现在，当我对文件进行第一次更改时，VIM 块和我的一个 CPU 达到 100% 负载。在我编辑文件时，这种情况也会时不时发生。这在以前的配置中从未发生过。如何找到正在杀死我的 CPU 的插件？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-04-13T13:44:55.470

作为[romainl](https://stackoverflow.com/users/546861/romainl)的（又好又简单的）[试错法的替代方法](https://stackoverflow.com/questions/10137304/how-can-i-find-which-vim-plugin-guilty-for-overloading-my-cpu/10142026#comment12996746_10137304)：

我曾经使用 vim 的内置分析器做过这样的事情：[`:he profile`](http://vimdoc.sourceforge.net/htmldoc/repeat.html#profiling).

您可能需要自己编译 vim 才能激活（在默认的 vim 发行版中未启用分析）。

然后

```
:profile start filename 
```

激活分析并将您的配置文件数据写入`filename`，编辑您的文件（将 CPU 推到 100%），一旦完成

```
:profdel 
```

停止分析。退出 vim，你会发现用`filename`.

# c# - Linq to Entities Inner Join to datagrid

> ID：10137305
> 
> 赞同：0
> 
> 时间：2012-04-13T08:07:48.957
> 
> 标签：c#, sql, linq-to-entities, wpfdatagrid, multiple-tables

我有两个表艺术家表（PK：ArtistID），电影表（PK：MovieID）和一个连接表ArtistMovie。
如何使用 Linq2Entities 在数据网格中显示表 Artist 和 Movie 中的一些列：

RentalEntities db = new RentalEntities();

以下是我的查询：

```
SELECT Movie.MovieName,
       Movie.Year, 
       Artist.ArtistName,
       Artist.Age 
       FROM Artist INNER JOIN ArtistMovie ON Artist.ArtistID = ArtistMovie.ArtistID
                   INNER JOIN Movie ON ArtistMovie.MovieID = Movie.MovieID 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T13:46:09.200

我认为这应该有效：

```
from a in db.Artist
join am in db.ArtistMovie on a.ArtistID equals am.ArtistID
join m in db.Movie on am.MovieID equals m.MovieID
select new {
    MovieName = m.MovieName,
    Year = m.Year,
    ArtistName = a.ArtistName,
    Age = a.Age
}; 
```

# facebook - Facebook 标签上的隐私政策

> ID：10137308
> 
> 赞同：10
> 
> 时间：2012-04-13T08:07:58.613
> 
> 标签：facebook, tabs, privacy-policy

我收到了一封来自 Facebook 的电子邮件，我需要在我的 Facebook 标签中包含隐私政策。我认为只有在 Facebook 应用程序中才需要隐私政策。

我能找到隐私政策的例子吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-12-22T12:02:29.220

简而言之，Facebook之所以严格要求，主要是因为他们想证明自己尽一切努力教育用户“我们告诉用户要有隐私政策”。因此，您收到该电子邮件可能不一定与您所做的任何与隐私相关的事情有关。

从理论上讲，仍然可以从带有输入表单的选项卡/页面中收集数据。

iubenda 一直专注于解决此类问题，为 Facebook 应用程序提供专用的隐私政策生成器，并为内置的隐私政策提供托管服务：http: [//iubenda.com/facebook/](http://iubenda.com/facebook/)

**这里还有一个基本的免费版本**用于一般隐私政策[http://iubenda.com](http://iubenda.com)（编辑：我没有指出免费版本只适用于网络政策，正如一位用户评论的那样）

（披露：我与 iubenda 团队合作，以保持这是最好的工具）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-12-21T08:29:20.127

我建议使用 [http://termsfeed.com/free/privacy-policy-generator](http://termsfeed.com/free/privacy-policy-generator) 而不是[http://www.freeprivacypolicy.com/free-privacy-policy-generator.php](http://www.freeprivacypolicy.com/free-privacy-policy-generator.php)因为后者有使用条款包括：

*授予许可......仅出于向 FreePrivacyPolicy.com 下订单或购买 FreePrivacyPolicy.com 产品的目的。除非 FreePrivacyPolicy.com 授权，否则严禁任何其他用途……。*

抱歉，我无法发送指向他们使用条款的链接，它以 javascript 弹出窗口的形式出现在他们的向导问卷末尾。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T10:39:52.667

我也收到了同样的邮件，我真的不明白为什么。我用这个来创建它：[http ://www.freeprivacypolicy.com/free-privacy-policy-generator.php](http://www.freeprivacypolicy.com/free-privacy-policy-generator.php)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-12T15:57:24.927

您是否从该特定选项卡收集任何数据（表格等）？他们可能只是改变了要求。

您应该尝试根据您收集（或不收集）的数据类型重新编写任何隐私政策。

您还可以使用来自 Termsfeed（免费生成器）的以下内容：http: [//termsfeed.com/free/privacy-policy-generator](http://termsfeed.com/free/privacy-policy-generator)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-13T09:02:58.267

[http://www.generateprivacypolicy.com/](http://www.generateprivacypolicy.com/) 我用它来创建隐私政策只需几秒钟。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-03-03T14:58:01.453

像页面插件（过去称为标签）这样的简单 Facebook 功能不需要隐私政策或 TOS。我在尝试解决这个问题时发现的基本事实是在常见问题解答中。您不需要“应用程序”，甚至不需要开发者帐户。[https://developers.facebook.com/docs/plugins/faqs](https://developers.facebook.com/docs/plugins/faqs)这么说。这意味着您不需要应用程序隐私政策或 TOS。

当您以开发人员身份登录并在[https://developers.facebook.com/docs/plugins/page-plugin/](https://developers.facebook.com/docs/plugins/page-plugin/)的向导中单击“获取代码”时会出现问题。它为您提供了 javascript SDK 的开发人员版本。它有一行`js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.12&appId=...&autoLogAppEvents=1'`，填写了您最近的 appId。

解决方法是在使用向导之前退出 Facebook。然后您将获得不需要 Privacy/TOS: 的正确代码`js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.12'`。

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-09-18T12:31:17.383

[我在这里](http://privacychoice.org/policymaker)通过[privatychoice.org](http://www.privacychoice.org/faq#mission)找到了一个很棒的（甚至可以生成并托管您的隐私政策）

# php - Codeigniter - 表单验证和表单下拉问题

> ID：10137309
> 
> 赞同：0
> 
> 时间：2012-04-13T08:08:00.173
> 
> 标签：php, codeigniter, validation

假设我的编辑用户表单上有一个选择标签。它包含一个用户可以分配到的学校列表。

```
<select 'school'>
    <option value='1'>School 1</option>
    <option value='2'>School 2</option>
</school> 
```

通过以下方式创建：`echo form_dropdown('school', $school_list)`

如果我正在编辑的用户已经分配了学校，我希望下拉菜单默认为该学校。

所以，我这样做了：

```
$school = $this->db->get_where('schools', $filters) # result object from database
echo form_dropdown('school', $school_list, $school->id); 
```

当然，问题是，当用户尚未分配学校并且`$school->id`为空时，这会引发错误。

所以我的问题是；在 codeigniter 中解决此类问题的最佳方法是什么？

我能想到的一种解决方法是在 NULL 上返回 NULL `$school->id`。所以，

```
empty($school->id) && ($school->id = NULL);
echo form_dropdown('school', $school_list, $school->id); 
```

但是，它看起来很不优雅，虽然，我还没有测试过。如果我想重新填充表单，我认为它不会很好地工作，以防万一它提交时有错误。

```
echo form_dropdown('school', $school_list, set_value('school', $school->id)); 
```

有人有更好的解决方案吗？

编辑：请注意，这不是我使用的实际代码。我刚刚输入了这个，所以如果有语法错误或诸如此类的错误，我很抱歉。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:13:35.797

只需使用`echo form_dropdown('school', $school_list, set_value('school', @$school->id));`

然后您知道`@`该值有时可能为空，如果该值丢失，它会抑制错误。

`NULL`如果您没有 id，这样做会向第三个参数发送一个值`<option>`，默认情况下它会选择第一个参数。

# iphone - 如何为一个非常大的 Core Data 数据库创建一个快速搜索机制？

> ID：10137310
> 
> 赞同：1
> 
> 时间：2012-04-13T08:08:03.167
> 
> 标签：iphone, database, search, core-data, nsdictionary

我正在尝试实现一种快速搜索的输入机制。

在我目前的实现中，当用户第一次启动应用程序时，他必须稍等片刻才能完成下载过程。在此期间，正在下载有关该应用销售的 20,000 种产品的信息。每个产品都由 NSManagedObject 的一个实例表示，并被添加到 Core Data 数据库中。

真正的问题是使用这些产品的方式。用户再次启动应用程序后（不是第一次），需要将产品加载到内存中，以便快速搜索。为了做到这一点，我遍历整个数据库并为每个包含其信息的产品创建一个 NSDictionary 实例，因为在我的程序中使用字典对象来检索有关产品的信息要容易得多。

因为字典存储在内存中，因此搜索过程非常快，但是迭代 20,000 个对象（每次启动一次）和创建字典需要很长时间（大约一分钟），所以这个解决方案并不好。

我想到了另一种实现快速搜索目标的方法：在输入每个字母后从数据库中获取对象。但我不知道它会有多快。

推荐的方法是什么？

谢谢， Sagiftw

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T09:14:54.577

我的应用程序中有类似的功能，但记录要少得多。我在所有搜索字段上都有索引，并从输入中创建尽可能简单（便宜）的 sql 查询（NSPredicate）（第二个 fetchedResultsController 仅用于搜索）。结果集包含“搜索项”。对于文本类型搜索键随机分布的大约 1000 个条目（测试数据大小），这至少足够快。在后台获取以防止 gui 无响应可能是一个好主意。

# iphone - iPad 和 iPhone 的启动方向不同？

> ID：10137312
> 
> 赞同：1
> 
> 时间：2012-04-13T08:08:08.237
> 
> 标签：iphone, ios, ipad, orientation

我正在制作一个通用应用程序，我想知道是否可以将初始方向设置为 iPad 的横向和 iPhone 的纵向？目前，我正在文件中进行设置`initial interface orientation`，`info.plist`但它似乎没有针对 iPad 和 iPhone 的不同选项。如果不能通过`info.plist`文件完成，那么如何以编程方式完成？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:12:06.910

以编程方式，您可以使用以下代码 -

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {

    if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) {

        if (interfaceOrientation == UIInterfaceOrientationLandscapeLeft || interfaceOrientation == UIInterfaceOrientationLandscapeRight) {
            return YES;
        } 

    }
    else {

        if (interfaceOrientation == UIInterfaceOrientationPortrait) {
            return YES;
        }
    }

return NO; 
```

}

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-18T19:02:18.613

看起来该`initial interface orientation`属性与`supported orientation`s 冲突。[不过，我在这里](https://stackoverflow.com/questions/402/iphone-app-in-landscape-mode)找到了解决方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T08:12:56.487

```
 UIDevice* thisDevice = [UIDevice currentDevice];
    if(thisDevice.userInterfaceIdiom == UIUserInterfaceIdiomPad)
    {
        [[UIDevice currentDevice] setOrientation: UIInterfaceOrientationLandscapeRight];
    }
    else
    {
        [[UIDevice currentDevice] setOrientation:UIInterfaceOrientationPortrait];
    } 
```

# c# - 在 WP7 中选择 ListPicker 值上设置文本

> ID：10137314
> 
> 赞同：2
> 
> 时间：2012-04-13T08:08:35.057
> 
> 标签：c#, .net, windows-phone-7, listpicker

嗨，我正在创建一个 WP7app，您可以在其中使用列表选择器选择类别。

```
 <toolkit:ListPicker Header="Choose Categories" 
                                    SelectionMode="Multiple" 
                                    FullModeHeader="CATEFORIES"
                                    x:Name="ListPickerCategories"
                                    CacheMode="BitmapCache"                                
                                    HorizontalAlignment="Left"
                                    Margin="24,482,0,0"
                                    VerticalAlignment="Top"
                                    Width="401"                                
                                    Grid.ColumnSpan="2"
                                    ItemsSource="{Binding Categories}">                
                </toolkit:ListPicker> 
```

![在此处输入图像描述](../Images/2029b0d222f3f3174bddc0164f97cccc.png)

选择类别时，我希望能够指定将在上方的框中显示哪些值。现在默认是始终显示第一个选择的值。

你如何指定这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T09:48:20.693

`ListPickerMode`将属性更改为`Expanded`然后设置`ItemCountThreshold`为您需要显示的项目数。

您可以在[这里找到更多信息](http://windowsphonegeek.com/articles/listpicker-for-wp7-in-depth)

# javascript - SC.oEmbed 在 Internet Explorer 中返回 null

> ID：10137317
> 
> 赞同：0
> 
> 时间：2012-04-13T08:08:51.430
> 
> 标签：javascript, soundcloud

使用[SoundCloud Javascript SDK](http://developers.soundcloud.com/docs/javascript-sdk)，我正在运行以下测试代码：

```
SC.initialize({
    client_id: MY_CLIENT_ID
});

SC.oEmbed(MY_TRACK_URL, function (results) {
    alert(results);
}); 
```

这会在所有现代浏览器上返回一个结果对象，但在 Internet Explorer（7 等）上返回 null

当前的 Javascript SDK 有问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T19:00:53.193

这个例子在 IE 9 中对我来说很好：http: [//jsfiddle.net/johannes/mJGQr/](http://jsfiddle.net/johannes/mJGQr/)

用于 IE 跨域请求的 Flash 回退可能存在问题。您运行的是哪个版本的 IE 和 Flash？

# c# - 让 VS2010 使用 IE9 打开 XBAP，即使 Chrome 是我的默认浏览器

> ID：10137324
> 
> 赞同：1
> 
> 时间：2012-04-13T08:09:06.360
> 
> 标签：c#, wpf, visual-studio, visual-studio-2010, xbap

谷歌浏览器被设置为我的默认浏览器（在 Windows 7 上）。但是，当我在 Visual Studio 2010 中编译和运行 XBAP 应用程序时，我希望它在 IE9 中运行。目前，VS2010 尝试在 Chrome 中查看。

有没有办法让 VS2010 将 IE9 用于 XBAP 项目？

我目前的解决方法是在测试时将 IE9 设置为我的默认浏览器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:14:11.653

默认情况下不是。

有一个可用于此 的[Visual Studio 扩展。](http://visualstudiogallery.msdn.microsoft.com/bb424812-f742-41ef-974a-cdac607df921/)

我认为在 Visual Studio vNext 中会有更好的内置体验（[源码](http://www.hanselman.com/blog/FeaturesNOONENOTICEDInVisualStudio11ExpressBetaForWeb.aspx)）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T08:13:47.413

您可以使用[Default Browser Switcher VS 扩展](http://visualstudiogallery.msdn.microsoft.com/bb424812-f742-41ef-974a-cdac607df921)来更改浏览器以在 VS 中运行您的站点。

# c# - Splitting a string from a specific point in C#

> ID：10137327
> 
> 赞同：1
> 
> 时间：2012-04-13T08:09:09.003
> 
> 标签：c#, .net, windows

I have looked at the split string methods in C#, such as:

```
string[] lines = Regex.Split(value, "\"); 
```

Although I have come across the situation where I need to extract a file name from a file path, so I dont want to have to split the string on all occurrences of "\" e.g.:

```
C:\Windows\System32\calc.exe 
```

Expected output:

```
calc.exe 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-13T08:10:30.793

```
new FileInfo(@"C:\Windows\System32\calc.exe").Name 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-13T08:12:02.973

Let the framework take the strain. Use the Path.GetFilename method.

[http://msdn.microsoft.com/en-us/library/system.io.path.getfilename.aspx](http://msdn.microsoft.com/en-us/library/system.io.path.getfilename.aspx)

# wpf - how to kill a ViewModel Instance from the ViewModelLocator (mvvmlight-toolkit)

> ID：10137331
> 
> 赞同：1
> 
> 时间：2012-04-13T08:09:20.687
> 
> 标签：wpf, viewmodel, mvvm-light

I'm developping a descktop application based en WPF (MVVM pattern) And i'm using MVVMLight-Toolkit, In my application there is a system of user authentication. The problem is: let's say that i have a ViewA, its dataContext is defined by a ViewModelA. Suppose tha User1 is logged to the application and navigates to the viewA, he does some stuff and after that he disconnects. when another user or the same user logon again and navigates to the same ViewA, he finds the lastest context of the previous user. I want to kill the instance of the ViewModel Created and create a new one for the new user. I tried to add a registration method to the ViewModelLocator

```
public static void RegisterViewModel<T>() where T : ViewModelBase
    {

        if (SimpleIoc.Default.IsRegistered<T>()
            SimpleIoc.Default.Unregister<T>();
        SimpleIoc.Default.Register<T>();
    } 
```

but it doesn't work, the context is stayed. can you help me to solve this problem ? thx

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-16T15:12:26.900

我找到了解决方案，我必须释放使用 ViewModel 实例作为数据上下文的视图当我打电话时

SimpleIoc.Default.Unregister();

为类型 T 创建的所有 ViewModel 实例将被自动删除

# logging - 为什么 TestComplete 不断更改状态图像名称

> ID：10137334
> 
> 赞同：0
> 
> 时间：2012-04-13T08:09:36.703
> 
> 标签：logging, automated-tests, testcomplete

我想以编程方式解析 TestComplele 7 日志。具体来说，我想获取每个测试的名称和状态（成功\失败\警告）。

根据手册，我使用以下命令获取测试运行日志：

```
Log["SaveResultsAs"] ("PathToMyFolder", 1); 
```

这会创建一堆文件和文件夹，包括可以由我的脚本解析的 XML。以下是此类 XML 的示例：

```
<ProjectLog>
  <ProjectLogItem id="0" pid="-1" nety="False">
    <Status>805039D.gif</Status>
    <No>1</No>
    <Name><![CDATA[Script Test Log [cTaStoring\cTaStoring_Start]]]></Name>
    <StartTime>13.04.2012 12:26:15</StartTime>
    <EndTime>13.04.2012 12:27:47</EndTime>
    <RunTime>0:01:32</RunTime>
    <Details></Details>
    <Messages/>
   </ProjectLogItem>
   <ProjectLogItem id="1" pid="-1" nety="False">
    <Status>905039C.gif</Status>
    <No>2</No>
    <Name><![CDATA[AutomaticStoring]]></Name>
    <StartTime>13.04.2012 12:27:47</StartTime>
    <EndTime>13.04.2012 12:30:42</EndTime>
    <RunTime>0:02:55</RunTime>
    <Details></Details>
    <Messages/>
   </ProjectLogItem>
</ProjectLog> 
```

正如你所看到的，我几乎可以得到我想要的一切，但最有价值的一条数据，一个测试的状态被写成一个显示相应图标的图片的文件名！例如，805039D.gif 包含一个复选标记，905039C.gif 包含一个感叹号。

在我的脚本中硬编码这些名称很容易，但问题是它们不断变化！

**问题**：

1.  为什么他们决定使用图像名称而不是一些枚举来输出状态？
2.  为什么图标会更改名称？
3.  如何获取测试的状态？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T17:21:16.773

导出日志的 HTML 格式不打算被解析。如果要解析导出的日志，需要使用 XML 格式：

```
Log["SaveResultsAs"] ("PathToMyResultsXMLFile", lsXML); 
```

以下是生成的日志文件的示例片段：

```
<Node name="message 0">
  <Prp name="date" type="D" value="41012.4210564815"/>
  <Prp name="priority" type="I" value="300"/>
  <Prp name="owner id" type="I" value="-1"/>
  <Prp name="color" type="I" value="-252645136"/>
  <Prp name="id" type="I" value="0"/>
  <Prp name="bkcolor" type="I" value="-252645136"/>
  <Prp name="message" type="S" value="This is a usual message"/>
  <Prp name="picture" type="S" value=""/>
  <Prp name="link" type="S" value=""/>
  <Prp name="unit id" type="I" value="0"/>
  <Prp name="remarks" type="S" value=""/>
  <Prp name="type" type="I" value="0"/>
  <Prp name="line no" type="I" value="2"/>
  <Prp name="child index" type="I" value="-1"/>
</Node> 
```

消息的顺序由“ **id** ”字段指定，消息的类型由“ **type** ”字段降级。

```
0 - Message
1 - Event
2 - Warning
3 - Error 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-23T19:46:02.047

我对同样的问题最恼火。所以我用 C# 写了这个来解决它：

我会得到图像引用的文件的长度，然后

```
 if (b.Length == 610) status = "Pass";
            if (b.Length == 1016) status = "Fail";
            if (b.Length == 353) status = "Inconclusive"; 
```

因此，如果它引用的文件长度为 610，则通过等...

# oberon - Status of Oberon readiness for application programming

> ID：10137336
> 
> 赞同：6
> 
> 时间：2012-04-13T08:09:46.740
> 
> 标签：oberon

I am getting interested in the Oberon language and I would like to know: is the language actually used by common programmers or is it still only used by researchers? Is it production-ready? What I have in mind are non-scientific applications requiring GUI support and possibly Internet connectivity (at least client-side POP3 and SMTP functionality). Also, which of the Oberon flavors would you recommend for my needs (Oberon2, Active Oberon, etc)? The simpler, the better, as long as it is well maintained and has some community. If possible, I would like to run my applications in a conventional host environment (Windows or Linux), without the need for a special runtime environment or a special operating system.

Thanks

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-01T01:46:49.957

BlackBox 有一些你想要的东西，可以在 Windows 上运行。

还有一些环境可以编译为 Java 字节码并以 JVM 为目标。

看看 POW 和 Gardens Point Component Pascal。

我碰巧在使用一些仅命令行工具，它们是 Oberon 编译器。

OO2C 是 Oberon 到 C 的编译器（但输出不供人使用）。

Ofront 是一个 Oberon to Human-Readable C，但我还没有设置一个 linux 机器来运行它。（否则，它应该在 Windows 上的 BlackBox 内运行）。

还有 Spivey 教授的 Oxford Oberon Compiler。一个非常有趣的编译器，可以编译到虚拟机，但整个目标代码是一个独立的应用程序（尽管是命令行）。

这是一个非常小的下载，适用于教育环境，保持一切清洁，并且适用于制作一些繁重的工作或代码的过程/模块的原型。它也应该只允许在 XWindows 中以黑白方式绘制位图，可能用于绘制图形等，但我还没有机会使用该功能。

它有一个基于 GUI 的调试器、分析和一些其他有趣的工具，与大多数现代编译器（如 gcc）相比，它仍然非常小。它也是完全独立的。

适用于 Mac、Win、Linux，并且有源代码。

相比之下，OO2C 花了我大约一天的时间进行调试和编译才能让它运行（但它正在工作）。

我现在没有 Windows 盒子，所以我不能运行我的 BlackBox 副本，但它有一个完整的 GUI，并且在 Component Pascal Collection 网站上有很多可用的源代码。

[http://www.zinnamturm.eu/index.htm](http://www.zinnamturm.eu/index.htm)

如果您正在寻找源代码，您还应该查看该站点，希望您不必重新发明轮子。

在不得不整天与 C/C++ 战斗以完成简单的事情之后，踏入 Oberon 真的很高兴。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-05-30T18:23:38.550

OBNC 是 Niklaus Wirth 为原始 Oberon 语言的最新版本 (2016) 的新编译器。它通过 C 编译，可以轻松连接到现有的 C 库。

> [https://miasap.se/obnc/](https://miasap.se/obnc/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-15T05:09:32.880

鉴于 Oberon [语言] 是作为一个完整的 [操作系统] 系统开发的，并且 ETH 的 CS 部门在其上运行所有计算机（甚至是秘书的计算机），我应该认为它已经为应用程序做好了准备。这根据以下PDF：

[http://www.ics.uci.edu/~franz/Site/pubs-pdf/BC03.pdf](http://www.ics.uci.edu/~franz/Site/pubs-pdf/BC03.pdf)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-11-23T14:12:48.923

> 是普通程序员实际使用的语言还是仅由研究人员使用？

在学术界之外几乎没有使用原始的 Oberon 语言；Oberon 方言有一些工业改编，例如 Component Pascal。

> 准备好生产了吗？

取决于你的要求。鉴于当今软件开发人员的期望，（原始）语言和可用工具链似乎非常简约。

> 需要 GUI 支持和可能的 Internet 连接的非科学应用程序......在传统的主机环境中......您会推荐哪种 Oberon 风格来满足我的需要？

传统主机环境中的 GUI 支持和网络编程例如由[https://blackboxframework.org](https://blackboxframework.org)支持，如前所述，它使用与 Oberon 相关的语言。

您还可以查看[https://github.com/rochus-keller/Oberon](https://github.com/rochus-keller/Oberon)，其中包括一个具有语义导航和源级调试器的平台独立 IDE，以及一个平台独立的外部函数接口作为语言扩展，它允许您直接使用任何 C 共享库，从而重用大量现有的经过验证的 GUI 或网络库，而无需在 C 中编程。它还提供了一种现代的、精简的语法变体，没有所有分号和大写的关键字，这应该特别有吸引力面向年轻的开发者；但当然也支持传统语法，甚至混合现代/传统语法项目。

# html - HTML：文本、标题、副线

> ID：10137343
> 
> 赞同：2
> 
> 时间：2012-04-13T08:10:35.100
> 
> 标签：html, css, tags

我有一些关于 html 样式的问题

目前我使用以下风格：

```
<h2>Headline</h2>
<h4>Subline</h4>
<p>text
tzext
text
text
</p> 
```

是否有一个只定义文本的推荐 html 标签，我可以自己定义标题，就像这样：

```
<text class="headline">Headline</text>
<text class="subline">Subline</text>
<text>
....
.....
</text> 
```

这不是更好的风格吗？

你怎么做到这一点？

问候

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:13:37.063

标题使用[`<h1>`through`<h6>`](http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements)。你真的不应该对标题使用其他任何东西，因为这些标签是专门为这个任务而存在的，如果你在一个页面上有多组标题，你应该将它们分组在[`<hgroup>`](http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-hgroup-element)and[`<header>`](http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-header-element)标签中。

请记住，您的代码必须是语义的，并且有意义。当屏幕阅读器浏览您的网站时，他们需要了解重要标题的位置。如果每个人都只使用通用标签，那么可访问性就不可能理解您的页面。搜索引擎和任何其他形式的数据程序化消费也是如此。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T08:43:41.683

使用 h1/2/3/4 标签是最好的方法。你也可以像这样给 h1 一个类：

```
<h1 class="yourclass"> 
```

然后，您可以通过选择 h1 类在 CSS 中选择特定的 h1

```
.youclass{your css} 
```

, 或者您可以通过键入在 css 中选择页面上的所有 h1

```
h1{ your css here}. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T08:15:34.630

在 html 5 中，您有新的 html 元素用于页眉、页脚，还有段落……还有更酷的功能。你应该检查一下......这也有助于语义......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-13T08:19:37.500

来自[CSS 规范](http://www.w3.org/TR/CSS21/selector.html#class-html)：

> 笔记。CSS 赋予“类”属性如此强大的功能，以至于作者可以想象设计自己的“文档语言”基于几乎没有相关表示的元素（例如 HTML 中的 DIV 和 SPAN）并通过“类”属性分配样式信息. 作者应该避免这种做法，因为文档语言的结构元素通常具有公认和接受的含义，而作者定义的类可能没有。

网页比它的外观更重要。人们使用屏幕阅读器访问它们。搜索引擎将它们编入索引。自动为它们生成目录。等等

所以不行。数以百计的`<text>`元素不会是更好的风格。

你原来的例子也不是很好。你没有`<h3>`（我假设`<h1>`出现在片段之前）。不要跳过标题级别。

如果`<h4>`应该是标题的副标题（而不是其中一个小节的开头），那么您也应该考虑使用[`<hgroup>`](http://www.w3.org/TR/html5/the-hgroup-element.html#the-hgroup-element)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-13T08:35:30.287

如果你使用 CSS 会更好，因为它减少了 HTML 文件所需的行数。有很多

# ant - how to use property ant?

> ID：10137344
> 
> 赞同：0
> 
> 时间：2012-04-13T08:10:35.757
> 
> 标签：ant

I would ask about property ant.After some action I got property

```
<property name="prop" value="test"/> 
```

in file **build.properties** .I have the property test

```
test=example 
```

I want to get value from build.properties but when I use

```
<echo>${${prop}}</echo> 
```

I got error Could somebody help me?How I can solve this problem?It's possible in general such way use property?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:36:43.723

假设您有一个包含以下内容的 build.properties 文件，这应该可以工作：

```
test=example 
```

构建文件可能如下所示：

```
<project basedir="." default="default">
 <property file="build.properties"/>
 <property name="prop" value="test"/>

 <target name="default">
  <echo>${test}</echo>
  <echo>${prop}</echo>
 </target>
</project> 
```

# c# - LINQ - '连接子句中的表达式之一的类型不正确。对“GroupJoin”的调用中的类型推断失败。

> ID：10137346
> 
> 赞同：13
> 
> 时间：2012-04-13T08:10:58.157
> 
> 标签：c#, .net, linq

我有这个查询与组加入：

```
 foreach (var item in someList)
    {
                    var result = (from t1 in someContext.Table1
                                  join t2 in someContext.Table2 on new { t1.SomeID, item.SomeName} equals new {t2.SomeID, t2.SomeName} into j1 
                                  ...
    } 
```

我想知道是否可以像上面那样加入一个小组？

```
new { t1.SomeID, item.SomeName} equals new {t2.SomeID, t2.SomeName} 
```

`item.SomeName`来自我正在迭代的列表。

如果没有，我将如何更改语句以获得所需的结果？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-04-13T08:14:45.363

与 equals 表达式一起使用的属性类型必须匹配。例如 is `Table1.SomeID`is`Int32`和`Table2.SomeID`is `Nullable<Int32>`，那么它们不匹配。

**编辑**

```
foreach (var item in someList)
    {
       var someName = item.SomeName;
       var result = (from t1 in someContext.Table1
                     join t2 in someContext.Table2 on 
                               new { t1.SomeID, SomeName = someName} 
                        equals new { t2.SomeID, t2.SomeName} into j1 
                                  ...
    } 
```

还要检查 item.SomeName 与 t2.SomeName 的类型相同

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-04-12T02:32:46.567

在这种情况下，您必须确保两个新匿名对象的属性和类型相同。我通常给出属性的具体名称。

前任。：

```
 var result = from t1 in someContext.Table1
              join t2 in someContext.Table2 on 
                          new { SomeID = t1.SomeID, SomeName = someName} equals 
                          new { SomeID = t2.SomeID, SomeName = t2.SomeName} into j1 
```

# ios - Restricting the number of characters entered in UiTextfield by user

> ID：10137348
> 
> 赞同：1
> 
> 时间：2012-04-13T08:11:18.597
> 
> 标签：ios, ios5, ios4

I am trying to restrict the number of characters entered in UITextfied,I want the user to enter the numbers in range 40.[0 to 9] to 250.[0 to 9] and the user can only one digit after the decimal point and also he cant enter multiple decimal points. I hope I have made my point clear, so far I have tried some code which is below

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string 
{
    NSCharacterSet *nonNumberSet = [[NSCharacterSet characterSetWithCharactersInString:@"0123456789."] invertedSet];

    // allow backspace
    if (range.length > 0 && [string length] == 0) {
        return YES;
    }
    // do not allow . at the beggining
    if (range.location == 0 && [string isEqualToString:@"."]) {
        return NO;
    }   
    // set the text field value manually
    NSString *newValue = [[textField text] stringByReplacingCharactersInRange:range withString:string];
    newValue = [[newValue componentsSeparatedByCharactersInSet:nonNumberSet] componentsJoinedByString:@""];
    textField.text = newValue;
    // return NO because we're manually setting the value
    return NO;
} 
```

So friends please help me further.

Regards Ranjit

# model-view-controller - 在 Zend Framework 2 中设置视图插件的最佳方法是什么？

> ID：10137350
> 
> 赞同：0
> 
> 时间：2012-04-13T08:11:24.713
> 
> 标签：model-view-controller, zend-framework, plugins, view, zend-framework2

我正在尝试设置一个视图插件来公开 Zend Framework 2 中的路由匹配。插件是这样的：

```
class GetRouteMatch extends AbstractHelper
{
    /**
    * Route match returned by the router.
    * 
    * @var RouteMatch.
    */
    protected $routeMatch;

    /**
    * Set route match returned by the router.
    * 
    * @param  RouteMatch $routeMatch
    * @return self
    */
    public function setRouteMatch(RouteMatch $RouteMatch)
    {
        $this->routeMatch = $RouteMatch;
        return $this;
    }

    public function __invoke($param)
    {
        return $this->routeMatch->getParam($param, false);
    }
} 
```

设置 RouteMatch 对象的最佳方法是什么？我必须在模块引导程序或控制器中进行吗？

目前我已经在控制器动作中以这种方式解决了

```
$renderer = $this->getLocator()->get('Zend\View\Renderer\PhpRenderer');
$routeMatch = $renderer->plugin('routeMatch');
$routeMatch->setRouteMatch($this->getEvent()->getRouteMatch()); 
```

RouteMatch 对象是手动注入的.. 但我确信有更好的方法

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-15T10:24:18.710

最好的办法是在你的模块类中初始化这样的代码。您可以在此处附加一个事件以注入路由匹配等依赖项。但是，路由匹配将很快可以注入。在服务定位器中设置路由匹配的工作正在进行中。这意味着您可以配置 DI，它将从服务定位器中提取路由匹配。然后你就不需要自己写这些东西了。

# facebook - Facebook not pulling my og:image images, though it is finding it

> ID：10137351
> 
> 赞同：0
> 
> 时间：2012-04-13T08:11:27.767
> 
> 标签：facebook, facebook-opengraph

Firstly, I know there is a similar question on SO but this is not a duplicate, as the issue there was different, though observed behaviour is the same.

I have added a few og:image tags and when I run my url through facebook debugger, it is finding the images but showing them as blank.

When I click the blank image tiles, it is showing me the image on the browser, so a little stumped here.

Here is what facebook sees for the images:

```
"image": [
       {
          "url":  "http://[MY_SERVER]/path/to/jpg"
       },
       {
          "url":  "http://[MY_SERVER]/path/to/jpg"
       },
 ], 
```

In the debugger section on object properties, under og:image, it is showing two blank tiles. However when I click the tiles, it redirects to the image url on my server and the browser renders the image corretly.

Why is facebook not able to show these images then? What am I doing wrong?

**UPDATE**

The size of these JPEG images is around 500KB and aspect ratio is 1024X768 (so less than 3:1). For a completely different image that was of size around 100KB and aspect ratio 500X375, facebook was showing the image in the share. Just wondering if there could be an issue with the size of the image?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T13:56:45.267

我发现我的大部分错误都可以使用 facebook 调试工具在

[http://developers.facebook.com/tools/debug/](http://developers.facebook.com/tools/debug/)

通常你遗漏了一些东西，或者你有相同代码的副本。

# android - 以编程方式显示动态按钮 Android

> ID：10137357
> 
> 赞同：0
> 
> 时间：2012-04-13T08:12:10.857
> 
> 标签：android, android-layout, android-button

我想以编程方式在屏幕上添加按钮，我通过解析获得值`API`，现在我想根据数组的长度显示按钮。我正在这样做，但我只显示最后一个按钮，但在`for`循环内我得到所有值正确但只显示最后一个按钮。这是我的代码：

```
RelativeLayout relate;

//...
relate = (RelativeLayout)findViewById(R.id.relative);

protected void onPostExecute(Void result) {
    if(dialog.isShowing() == true) {
        dialog.dismiss();
    }

    //int width = 100, height =50, x = 10, y = 20;

    for (int i =0;i<adapt_obj.city_name_array.length;i++){
        b1 = new Button(myref);

        b1.setText(adapt_obj.city_name_array[i]);

        relate.addView(b1);

        //relate.addView(b1, i,  new RelativeLayout.LayoutParams(width,height));

        //height = height+80;
    }

    listlocation.setAdapter(adapt_obj);
    adapt_obj.notifyDataSetChanged();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:20:01.253

A `RelativeLayout` will stack the views you add to it at the top-let corner if you don't specify some placement rules. Your buttons are added to the layout but they are placed one on top of each other and so the only visible is the last one you add. Here are some modification of your `for` loop:

```
RelativeLayout relate; relate = (RelativeLayout)findViewById(R.id.relative);
for (int i = 0; i < adapt_obj.city_name_array.length; i++){
    Button b1 = new Button(myref);
    b1.setId(100 + i);
    b1.setText(adapt_obj.city_name_array[i]);
    RelativeLayout.LayoutParams lp = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT, RelativeLayout.LayoutParams.WRAP_CONTENT);
    if (i > 0) {
        lp.addRule(RelativeLayout.BELOW, b1.getId() - 1);
    }   
    b1.setLayoutParams(lp);
    relate.addView(b1);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:19:30.710

您不能在 Android 中提供 x 和 y 值。您可以在项目的左上角添加按钮。您还应该使用 wrap_content 或 fill_parent 的布局参数。

```
 Button button = new Button(this);
    button.setText(@"text");
    button.setLayoutParams(new LayoutParams(WRAP_CONTENT,WRAP_CONTENT));
    layout.addView(button); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T08:19:40.227

我认为问题在于相对布局。您的按钮可能会堆叠在一起。尝试使父级成为线性布局。

# mysql - MySQL表索引优化

> ID：10137358
> 
> 赞同：0
> 
> 时间：2012-04-13T08:12:11.750
> 
> 标签：mysql, optimization, amazon-rds

我正在使用在 Amazon RDS 上具有 MySQL 数据库的应用程序。有问题的表格是这样设置的：

```
CREATE TABLE `log` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `timestamp` datetime NOT NULL,
  `username` varchar(45) NOT NULL,
  .. snip some varchar and int fields ..
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 
```

该系统已经处于测试阶段，并且数据集已经非常庞大并且查询开始变得相当慢。

```
SELECT COUNT(*) FROM log --> 16307224 (takes 105 seconds to complete) 
```

该表几乎仅用于根据这样的查询构建一个报告

```
SELECT timestamp, username, [a few more] FROM log 
WHERE timestamp  BETWEEN '2012-03-30 08:00:00' AND '2012-03-30 16:00:00' 
AND username='XX' 
```

这通常会给出 1000 到 6000 行之间的内容，大约需要 100-180 秒才能完成，这意味着 Web 应用程序经常会超时并留下一个空报告（我也会查看超时，但这个问题是针对根的原因）。

我对数据库不是很好，但我猜是 BETWEEN 在这里杀死了我。我在想的是，我或许应该以某种方式使用时间戳作为索引。时间戳与用户名一起应该仍然提供唯一性（我不使用 id 字段做任何事情）。

如果有人提出优化建议，我会全力以赴。

更新：

表现在更改为以下

```
CREATE TABLE `log` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `timestamp` datetime NOT NULL,
  `username` varchar(45) NOT NULL,
  .. snip ..
  `task_id` int(10) unsigned DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `index_un_ts` (`timestamp`,`username`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 
```

`EXPLAIN`的`SELECT`语句返回以下

```
id => 1
select_type => SIMPLE
table => log
type => range
possible_keys => index_un_ts
key => index_un_ts
key_len => 55
ref => 
rows => 52258
Extra => Using where; Using index 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:20:38.920

那么时间戳列和用户标识上的索引会很有帮助。您需要能够阅读 EXPLAIN 语句的输出。

转到 MySQL 并执行以下操作：

```
EXPLAIN SELECT timestamp, username, [a few more] FROM log 
WHERE timestamp  BETWEEN '2012-03-30 08:00:00' AND '2012-03-30 16:00:00' 
AND username='XX' 
```

这向您展示了 MySQL 用于执行查询的计划。将有一个名为 key 的列。这表明 MySQL 在查询中使用的索引。我怀疑你会在那里看到 ALL，这意味着 MySQL 正在从上到下扫描表，将每一行与你的 where 子句匹配。现在在时间戳和用户标识列上创建一个索引。再次运行 EXPLAIN 语句。您应该会在键列中看到您创建的索引。

如果 MySQL 使用索引，那么您的查询应该会快得多。请记住不要过度索引。索引使插入、更新和删除变得更慢。当您将新行插入表中并且表上有三个索引时，新行必须将 3 个值写入三个不同的索引。所以这是一把双刃剑。

# android - Android：为什么无法在一部手机上安装具有相同包名的第二个 apk？

> ID：10137360
> 
> 赞同：-1
> 
> 时间：2012-04-13T08:12:15.287
> 
> 标签：android, package

希望问题足够清楚。我在这里或网络上的某个地方找不到合适的东西，这解释了为什么不可能。也许你们中的一些人可以帮助我？

这是一个在后台没有问题的一般问题（但是您始终可以更改包的名称以避免这种情况），但我想了解这背后的想法。

**[更新]**
也许我对包名的表达有误？我认为包名称用于一起创建逻辑单元。因此，例如，我单独检查一个滑块和一个复选框，我创建了一个包名称，如 de.test 以将这些项目放在相同的包名称中。如果我创建一些客户项目，我会为我的所有项目使用像 de.company 这样的包名称。但是，如果它只是用于创建唯一修饰符的包名称，那么这是错误的……

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:16:05.223

简单的解释是，包名代表了应用程序的唯一标识符。它在mainfest文件的谷歌文档中给出

这是该页面的[链接](http://developer.android.com/guide/topics/manifest/manifest-intro.html)和一行。这个[链接](http://developer.android.com/guide/topics/manifest/manifest-element.html)也会给你更多的想法。

> 它为应用程序命名 Java 包。包名称用作应用程序的唯一标识符。

# json - javax.xml.bind.UnmarshalException 当请求与球衣客户端休息 json 服务

> ID：10137363
> 
> 赞同：2
> 
> 时间：2012-04-13T08:12:30.560
> 
> 标签：json, rest, jersey

我有一个返回 json 列表的休息网络服务（带球衣），如果我直接调用它，它会返回这个：

```
[{"success":false,"uri":"foo:22","message":"Unknown host : foo"},{"success":true,"uri":"localhost:8082","message":null}] 
```

由此代码段生成：

```
@GET
@Path("/opening/")
public List<OpeningResult> testOpenings(@QueryParam("uri") List<String> uris) {
    LOG.debug("testOpenings request uris :[" + uris + "]");
    List<OpeningResult> openingResults = infoService.testOpenings(uris);
    return openingResults;
} 
```

这是 Pojo 的集合，如下所示：

```
@XmlRootElement(name = "OpeningResult")
public class OpeningResult {

attributes
...
getter/setter

} 
```

这个 Pojo 通过服务器和客户端之间的公共 jar 共享。

我用这个片段调用网络服务：

```
Client client = Client.create();
WebResource resource = client.resource("http://localhost:8080/scheduler/rest/opening");
MultivaluedMap<String, String> params = new MultivaluedMapImpl();
for (String uri : uris) {
    params.add("uri", uri);
}
List<OpeningResult> results = newArrayList(resource.queryParams(params).get(OpeningResult[].class)); 
```

我在服务器端添加了一些跟踪，我看到我的休息服务是用好的参数调用的，但是在客户端，我有这个错误：

```
Caused by: javax.xml.bind.UnmarshalException: unexpected element (uri:"", local:"success"). Expected elements are <{}OpeningResult> 
```

我找不到它来自哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T14:17:48.133

修改您的代码以设置您的客户端，如下所示：

```
ClientConfig clientConfig = new DefaultClientConfig();
clientConfig.getFeatures().put(JSONConfiguration.FEATURE_POJO_MAPPING, true);
Client client = Client.create(clientConfig); 
```

我遇到了完全相同的问题，直到[这个问题及其答案](https://stackoverflow.com/q/9627170/356408)为我指明了正确的方向。

这种情况是由用于与 JSON 进行序列化的默认[jersey-json 模块](http://jersey.576304.n2.nabble.com/JSONConfiguration-FEATURE-POJO-MAPPING-td6020373.html)引起的，该模块无法正确处理某些 JSON 结构。

您可以将[`FEATURE_POJO_MAPPING`](http://jersey.java.net/nonav/documentation/latest/json.html#json.pojo.approach.section)标志设置为使用 Jackson 库的 JacksonJsonProvider 进行 JSON 序列化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-17T13:42:47.450

查看[有关使用 JSON 的 Jersey 客户端文档](http://jersey.java.net/nonav/documentation/latest/json.html)。看起来您至少缺少注释：

```
@Produces("application/json") 
```

但是您也可能缺少客户端和服务器端的 POJO 映射功能过滤器。这些似乎都是很小的配置更改。

# ruby-on-rails - 在 Rails 视图中分组

> ID：10137370
> 
> 赞同：0
> 
> 时间：2012-04-13T08:13:00.043
> 
> 标签：ruby-on-rails, group-by

在我的 Rails 应用程序中，我有以下模型

```
Transaction
  belongs_to :account
  belongs_to :agent
  belongs_to :program 
```

这是我用来获取数据的查询

```
def self.efficiency_report(starts=nil, ends=nil)
sql = "SELECT p.abbreviation,ag.name,
         t.miles, t.date
        FROM transactions t
        inner join accounts a on t.account_id = a.id
        inner join programs p on a.program_id = p.id
        inner join agents ag on t.agent_id = ag.id
        Group by p.id , ag.id" 
 result_array(sql)
end

def self.result_array(sql)
  conn = ActiveRecord::Base.connection
  res = conn.execute(sql)
  results = []
  res.each{|r|
    results << r
  }
  return results
end 
```

我想先按程序分组，然后按代理名称分组，然后按里程分组，就像这样

```
Program:AA
  Agent:Bob
    Miles          Date 
    1234           02/12/2012           
    5463           03/12/2012 
 Agent:Ben
    Miles          Date 
    234           02/22/2012           
    344           01/02/2012 

Program:BB
  Agent:Bob
    Miles          Date 
    1234           02/12/2012           
    5463           03/12/2012 
  Agent:Ben
    Miles          Date 
    234           02/22/2012           
    344           01/02/2012 
```

为此，我认为我正在做以下事情

```
%h2 Vendor Efficiency Report
- @transactions.group_by(&:row[0]).sort.each { |data, transaction|
%h2= data.row[0]
- transaction.group_by(&:row[1]).sort.each { |data, transaction|
%table#data_table.display{:cellpadding => "0", :cellspacing => "0"}
  %h3{:style => "clear:both;margin-left:10px"}= data.row[1]
  %thead
    %tr.odd
      %td.bold{:style => "width:60px;"} Miles
      %td.bold{:style => "width:60px;"} Date
  - for t in transaction
    %tbody
      %tr
       %td{:style => "width:60px;"}= row[2] 
       %td{:style => "width:60px;"}= row[3]
  -}
-}
= will_paginate @transactions 
```

但我收到这个错误

**错误的参数类型字符串（预期的过程）**

有人会告诉我我在这里做错了什么，或者还有其他更好的分组方式吗？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T09:17:16.917

问题是你的`group_by`电话。我不确定`&:row[0]`在做什么，但它正在传递一个字符串作为参数。我想这就是你要找的：

```
@transactions.group_by{ |r| r[0] }... 
```

**编辑**

才想明白`&:row[0]`在做什么。这是对该方法的调用，该`Symbol#[]`方法返回给定索引处的字符（本质上，就好像它是 a `String`）。该调用`:row[0]`返回字符串的第一个字符`"row"`。

所以基本上，就好像你在打电话：

```
@transactions.group_by(&"r") 
```

# windows - 如何检测 Windows Phone 7 中精灵的触摸？

> ID：10137371
> 
> 赞同：0
> 
> 时间：2012-04-13T08:13:04.723
> 
> 标签：windows, windows-phone-7

windows phone XNA 中是否有触摸开始功能？在这里，我使用的是 Texture2D，我想检测它的点击。如何在 xna 中做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T15:43:32.483

您需要使用`TouchCollection`该类并为 Texture2D 设置 TouchLocation

通过以下方式获取它的状态：

```
TouchCollection touch = TouchPanel.GetState() 
```

然后遍历您集合中的 TouchLocations，我想这将是您的 texture2D 的位置：

```
foreach(TouchLocation tl in touch) 
```

然后在这个循环中，您可以通过例如的`State`属性检查该位置是否被触摸`tl`

```
if(tl.State == TouchLocationState.Pressed)
{
    //Execute your code here
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-24T06:18:08.443

我们编写了自己的按钮类，并让某些精灵继承自这个按钮类。很好的方法，因为整个精灵然后充当一个按钮。

# c++ - Boost.Spirit 与 Boost.Variant 和 C++11：期望零参数构造函数

> ID：10137374
> 
> 赞同：3
> 
> 时间：2012-04-13T08:13:16.243
> 
> 标签：c++, boost, c++11, boost-spirit, boost-variant

我正在尝试使用 Boost.Spirit 编译一个简单的语法。我在 Arch Linux x86_64 上使用 g++ 4.7.0 和 boost 1.49.0-1.1。

这里的最终目标是汇编程序。将有多个操作数，每个操作数都有一个类。所有操作数类型一起存储在一个`boost::variant`类型中。

`direct`当它也是语法的 base_type 时，我已经成功地将这个示例编译为规则，但是引入`operand`规则（并使其成为基本类型）导致 g++ 4.7.0 抱怨：

```
example.cpp:61:7:   required from ‘Grammar<Iterator>::Grammar() [with Iterator = __gnu_cxx::__normal_iterator<char*, std::basic_string<char> >]’
example.cpp:76:21:   required from here
/usr/include/boost/spirit/home/qi/detail/attributes.hpp:23:63: error: no matching function for call to ‘DirectOperand::DirectOperand()’
/usr/include/boost/spirit/home/qi/detail/attributes.hpp:23:63: note: candidates are:
example.cpp:20:12: note: DirectOperand::DirectOperand(const DirectValue&)
example.cpp:20:12: note:   candidate expects 1 argument, 0 provided
example.cpp:16:7: note: DirectOperand::DirectOperand(const DirectOperand&)
example.cpp:16:7: note:   candidate expects 1 argument, 0 provided 
```

我不明白为什么它应该为 寻找默认构造函数`DirectOperand`，因为语义操作应该使用构造函数调用它。

我尝试了很多变化，包括

```
operand = directOp[_val = _1]; 
```

甚至编写一个辅助函数来“强制”该类型，例如：

```
static Operand makeDirectOperand( const DirectOperand& op ) { return op; }

// ...

operand = directOp[&makeDirectOp]; 
```

但无论我做什么，它都会抱怨缺少默认构造函数。

~~当我实际定义一个零参数构造函数时，我发现它已编译，但`DirectOperand::value_`从未改变我分配的默认值。~~

这是代码。它尽可能短。

```
#include <cstdint>
#include <iostream>
#include <string>

#include <boost/spirit/include/qi.hpp>
#include <boost/spirit/include/qi_uint.hpp>
#include <boost/spirit/include/phoenix_core.hpp>
#include <boost/spirit/include/phoenix_operator.hpp>
#include <boost/spirit/include/phoenix_fusion.hpp>
#include <boost/spirit/include/phoenix_stl.hpp>
#include <boost/variant.hpp>

typedef std::uint16_t DataWord;
typedef boost::variant<std::string, DataWord> DirectValue;

class DirectOperand {
private:
  DirectValue value_;
public:
  explicit DirectOperand( const DirectValue& value ) :
  value_( value ) {}

  const DirectValue& value() const { return value_; }
};

// For example purposes, but there will be multiple operand types
// here.
typedef boost::variant<DirectOperand> Operand;

namespace qi = boost::spirit::qi;
namespace ascii = boost::spirit::ascii;

template <typename Iterator>
struct Grammar : qi::grammar<Iterator, Operand(), ascii::space_type> {
   Grammar() : Grammar::base_type( operand ) {
      using qi::lexeme;
      using ascii::char_;
      using qi::uint_parser;
      using namespace qi::labels;

      uint_parser<DataWord, 16, 1, 4> uhex_p;
      uint_parser<DataWord, 10, 1, 5> uint_p;

      word =
        char_( "a-zA-Z._" ) [_val += _1]
        >> *char_( "a-zA-Z0-9._" ) [_val += _1]
        ;

      number = (
        "0x" >> uhex_p
        | uint_p
        )
        [_val = _1]
        ;

      direct %= ( word | number );

      directOp %= direct;

      // This would be ( directOp | indirectOp | etc)
      operand %= directOp;
   }

  qi::rule<Iterator, DataWord(), ascii::space_type> number;
  qi::rule<Iterator, std::string()> word;
  qi::rule<Iterator, DirectValue(), ascii::space_type> direct;
  qi::rule<Iterator, DirectOperand(), ascii::space_type> directOp;
  qi::rule<Iterator, Operand(), ascii::space_type> operand;
};

int main() {
   std::string line;

   typedef std::string::iterator iterator_type;
   typedef Grammar<iterator_type> Grammar;
   Grammar grammar {};
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:50:26.877

我相信属性的实例化`qi::rule`（`directOp`这里）需要一个默认的构造函数。

如果您不愿意在 中包含默认构造函数`DirectOperand`，则可以尝试将其包装在 a`boost::optional`中以延迟初始化。

# assembly - 解引用寄存器地址上的汇编程序分段错误

> ID：10137377
> 
> 赞同：0
> 
> 时间：2012-04-13T08:13:31.743
> 
> 标签：assembly, segmentation-fault, dereference

我对 x86 程序集 (AT&T) 有疑问。

因为我需要在汇编程序中实现数组查找，所以我在寄存器 %ebx 中有数组的第一项（比如 arr[0]），为了指向 arr[1]，例如我写道：

```
mov -4(%ebx), %eax 
```

问题是，当我尝试获取 ebx 的地址时出现分段错误，这很奇怪，因为我可以毫无问题地获取 ebx 的值（arr[0] 的值）。一些建议？

编辑：好的，我想我理解了这个错误。当我声明数组时，我必须将第一个元素的地址放在变量 arr 上：

```
mov -4(%ecx), %eax 
```

但是有了这个指令，我把值而不是地址。那么如何填写地址呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:21:41.287

`arr[1]`实际上*不太可能*在`-4[%ebx]`，它更可能在`+4`。

但根据你的问题，我不确定你是否理解。这仅在数组中第一个元素`%ebx`的*地址时才有效。*您的文字似乎表明您已将*值*`arr[0]`加载到其中，`ebx`在这种情况下，无法从那里获取其他元素。

您可能需要发布更多代码，以便我们可以看到您实际尝试执行的操作。对于编程问题，代码通常胜过描述性文本:-)

# java - ANDROID - 线程内的 While 循环

> ID：10137378
> 
> 赞同：0
> 
> 时间：2012-04-13T08:13:32.307
> 
> 标签：java, android, multithreading, loops, while-loop

我创建了一个线程来处理一些队列数据。在线程内部有一个无限的while循环。当循环工作时，界面总是冻结。

我对此感到困惑，我已经创建了线程，但为什么它仍然冻结？

```
Thread queue = new Thread(new Runnable() {
   public void run() {
        while(true) {
          ...
        }
    }
  }); 
  queue.start; 
```

这个问题有什么解决办法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:18:13.737

这不仅是您的界面变慢了，事实上您的手机也会变慢，因为您在一个 while 循环中消耗（不必要地浪费）所有的处理能力。要获得更好的方法，请使用[Handler](http://developer.android.com/reference/android/os/Handler.html)和/或[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)或至少`Thread.sleep`在线程中的 while-loop 内部使用。

# sql - SQL Server：运行目录中的每个 sql 脚本

> ID：10137379
> 
> 赞同：2
> 
> 时间：2012-04-13T08:13:32.560
> 
> 标签：sql, sql-server-2008

我在本地运行 SQL Server 2008。我有一堆要在本地数据库上运行的脚本。我可以连接到服务器并手动运行它们，但我有超过 100 个脚本，我确信有办法做到这一点。任何帮助表示赞赏，谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:27:32.813

您可以迭代目录中的所有查询文件并使用[osql](http://msdn.microsoft.com/en-us/library/aa213087%28v=sql.80%29.aspx "osql")实用程序执行它们。

```
@echo off
for %%f in (*.sql) do (
    echo executing %%f
    osql -E -i %%f
)

pause 
```

# c# - SetTimeZoneInformation 不会为另一个 .NET 应用程序更新 DateTime.Now

> ID：10137383
> 
> 赞同：2
> 
> 时间：2012-04-13T08:13:46.350
> 
> 标签：c#, pinvoke

这是我更改 TimeZoneInfo (App #1) 的方法：

```
private static void ChangeTimeZone(TimeZoneInfo tzi)
{
    TIME_ZONE_INFORMATION actual = new TIME_ZONE_INFORMATION();
    NativeMethods.GetTimeZoneInformation(out actual);

    if (tzi == null || actual.StandardName == tzi.StandardName)
        return;

    TIME_ZONE_INFORMATION newZone = (TIME_ZONE_INFORMATION)tzi;

    RunWin32Method(() => NativeMethods.SetTimeZoneInformation(ref newZone));

    // Update .NET
    CultureInfo.CurrentCulture.ClearCachedData();
    TimeZoneInfo.ClearCachedData();

    // Notify all windows that we changed a Windows setting.
    // result is True
    IntPtr ptr;
    System.Diagnostics.Debug.WriteLine(NativeMethods.SendMessageTimeout(NativeMethods.HWND_BROADCAST, NativeMethods.WMI_SETTING_CHANGE,
        IntPtr.Zero, IntPtr.Zero, 0x00, 1000, out ptr));
} 
```

当我调用我的方法时：

```
ChangeTimeZone(TimeZoneInfo.GetSystemTimeZones().First(e => !e.SupportsDaylightSavingTime));
// Stopping debugger and watching other .NET App then continue to next instruction
ChangeTimeZone(TimeZoneInfo.GetSystemTimeZones().First(e => e.StandardName.Contains("Romance"))); 
```

这是另一个应用程序（应用程序＃2）：

```
static void Main(string[] args)
{
    while (true)
    {
        Console.WriteLine(DateTime.Now);
        Thread.Sleep(500);
    }
} 
```

DateTime 的输出永远不会更新到新的 TimeZone，为什么？

* * *

## 编辑

正如@Jon 所说，通过添加`CultureInfo.CurrentCulture.ClearCachedData();`新日期将被更新。但如前所述，我希望**所有**其他应用程序都使用这个新的 TimeZone。我有很多应用程序在后台运行，`DateTime.Now`在检索本地更新日期之前指定每次清除缓存会很糟糕......

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-13T08:17:27.443

我怀疑您的第二个应用程序只是使用缓存的时区数据。（毕竟它在一个单独的进程中 - 清除应用程序 1 中的缓存不会影响应用程序 2 中的任何进程内缓存。）尝试[`TimeZoneInfo.ClearCachedData`](http://msdn.microsoft.com/en-us/library/system.timezoneinfo.clearcacheddata.aspx)在应用程序 2 中调用，看看是否能解决问题。

# java - 使用 GWT 开发模式时对 servlet 的奇怪但可预测的三重交错调用

> ID：10137389
> 
> 赞同：0
> 
> 时间：2012-04-13T08:14:16.097
> 
> 标签：java, google-app-engine, gwt, google-chrome-devtools

我正在使用 Google Web Toolkit 和 Java Google App Engine 编写应用程序。我发现以下情况非常可预测地发生。我有一个 servlet app.yaml 条目，如下所示：

```
handlers:

- url: /foo/*
  name: FooServlet
  servlet: com.waga.server.FooServlet
  login: required 
```

此 servlet 检查用户是否已登录（冗余，我知道），在数据库中查找用户，如果找到，则包含 Bar.jsp 文件以呈现 HTML 页面，其中包含用于加载 GWT 模块的 javascript。这个 Bar.jsp 文件和 GWT 模块已经工作了一段时间，最近只有一些小的更改以允许 servlet 在渲染 Bar.jsp 之前进行检查，并且在 Bar.jsp 文件的顶部添加了一些代码以计算一些要包含在页面中的字符串。

我将 log.info 放在 servlet 的顶部、Bar.jsp 文件的顶部和 Bar.jsp 文件的底部。当我使用 GWT devmode 转到 servlet 时，我看到日志消息按以下顺序排列：

```
Foo servlet top
Bar.jsp top
Bar.jsp bottom
Foo servlet top
Foo servlet top
Bar.jsp top
Bar.jsp bottom
Bar.jsp top
Bar.jsp bottom 
```

也就是说，servlet 似乎被浏览器访问了 3 次，而不是同步访问（注意最后两次重叠）。每次我运行它时都会发生这种情况。

此外，Bar.jsp 文件表示它正在呈现页面，但 GWT javascript 从不加载和呈现客户端应用程序。它过去有，所以应该可以；也就是说，GWT 客户端代码正在工作，我刚刚重新安排了 url 如何映射到 servlet 以及 servlet 如何包含 .jsp 文件。此外，当 devmode 在将 Java 发送到客户端之前在服务器上将 Java 编译为 JavaScript 时，我的笔记本电脑风扇会启动，我可以看到 Java 使用了我的大部分 CPU 几秒钟来执行此操作；我现在没有看到。

我尝试摆脱 Servlet 并让 app.yaml 直接调用 .jsp（Servlet 检查我碰巧知道的所有内容都通过了，例如我已经登录，所以它什么也不做。）也就是说，我试过了让 app.yaml 这么说：

```
handlers:

- url: /foo/*
  jsp: Bar.jsp
  login: required 
```

现在日志这样说

```
Bar.jsp top
Bar.jsp botton
Bar.jsp top
Bar.jsp top
Bar.jsp bottom
Bar.jsp bottom 
```

似乎从未加载 GWT 模块的相同交错和相同症状。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-17T06:12:36.217

当我打印出 Bar.jsp 文件顶部的 request.getPathInfo() 时，这种情况变得更加明显。问题是我在开始项目时信任 GWT webAppCreator 生成合理的代码，我没有仔细考虑我的 URL 路径。特别是，webAppCreator 生成的 HTML 引用来自网页的已编译 javascript 客户端，如下所示：

```
<!--                                           -->
<!-- This script loads your compiled module.   -->
<!-- If you add any GWT meta tags, they must   -->
<!-- be added before this line.                -->
<!--                                           -->
<script type="text/javascript" language="javascript" src="waga/waga.nocache.js"></script> 
```

请注意 src URL 中的相对路径，而不是绝对路径。在我看来，生成绝对路径更有意义，因为如果您将带有前缀的 URL 映射到此 .jsp 文件，它们不会意外地在文件系统中移动目标，这正是我所做的；特别是生成的 javascript 客户端的路径作为相对路径毫无意义，因为编译器总是会将其放入文件系统中的特定位置。通过在前面加上斜杠使路径（以及我也使用过的 .css 文件的另一个相对路径）成为绝对路径可以解决问题。

# video - 网络浏览器中的叮当视频流

> ID：10137391
> 
> 赞同：0
> 
> 时间：2012-04-13T08:14:22.967
> 
> 标签：video, applet, web, libjingle

我正在考虑将我的实时视频流解决方案从开源 Red5 服务器转移到使用 XMPP/Jingle 的 P2P 解决方案。

我有一个 libJingle“呼叫”应用程序的修改版本，它在应用程序的 2 个实例之间提供实时视频流，但我确实需要将接收器嵌入到浏览器中。为此，我一直在考虑编写一个 Java Applet，并开始研究 Smack API 和 smackx-jingle，但看起来 Jingle 项目并不完整并且已被放弃。

我想知道有没有其他真正的选择可以让客户端进行 XMPP/Jingle 通信并在 Web 浏览器中显示视频源？

我目前的选择是将 libJingle 包装在 JNI 中，这将是一项艰巨的任务，如果可能的话我宁愿避免，或者自己在 Smack API 之上实现 Jingle 扩展。

提前感谢您的任何建议或指导。

问候，

菲尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-21T22:10:48.303

你考虑过使用 WebRTC 吗？[http://www.webrtc.org](http://www.webrtc.org)

# jquery - Datepicker总是简体中文显示？

> ID：10137392
> 
> 赞同：1
> 
> 时间：2012-04-13T08:14:24.053
> 
> 标签：jquery, internationalization, datepicker

我试图让 JQueryUI 日期选择器显示法语/英语本地化，但只显示简体中文。我究竟做错了什么？

谢谢

```
<html>
<head>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/i18n/jquery-ui-i18n.min.js"></script>
    <link type="text/css" rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/themes/ui-lightness/jquery-ui.css" />
    <script>
        $(document).ready(function () {
            $('#datepicker').datepicker();
            $.datepicker.setDefaults($.datepicker.regional['fr-FR']);
            $('#datepicker').datepicker($.datepicker.regional['fr-FR']);                
        });
    </script>
</head>

<body>
    <label for="datepicker">Date: </label>
    <input type="text" id="datepicker" />
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-13T08:46:10.463

[Datepicker 文档（本地化）](http://docs.jquery.com/UI/Datepicker#Localization)

> Datepicker 支持本地化其内容以适应不同的语言和日期格式。每个本地化都包含在其自己的文件中，并在名称后附加语言代码，例如 jquery.ui.datepicker-fr.js 表示法语。所需的本地化文件应包含在主日期选择器代码之后。他们将自己的设置添加到可用的本地化集中，并自动将它们应用为所有实例的默认设置。

（您需要包含正确的本地化文件）

`<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.1/i18n/jquery.ui.datepicker-fr.min.js"></script>`

然后改变：

`$.datepicker.setDefaults($.datepicker.regional['fr-FR']);`

至：

`$.datepicker.setDefaults($.datepicker.regional['fr']);`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-08-20T12:07:54.343

日期选择器的 jQuery UI 脚本中的命名（或缺少）本地化存在问题。例如，您可能会从浏览器语言或服务器端获得特定的文化“fr-FR”，但“区域”名称不包含每个后备文化的特定条目，例如只是“fr”而不是来自“ fr-FR”回到“fr”。

我建议包含完整的 jquery-ui-i18n.js 脚本（例如，在 NuGet 上以“jQuery.UI.i18n”的形式提供），然后创建一个全局帮助函数以在不受支持时引入回退和默认值（即使用“”，这是美国英语时not found 而不是返回导致中文出现的“未定义”）。

例如将此功能添加到您的站点/页面：

> /// <summary>
> /// 检索等效的日期选择器“region”（本地化名称） 
> /// 用于具有回退的 ISO 本地化名称，
> /// 例如，“de-DE”回退到“de”，en 或en-US 是默认值。
> /// 不支持的文化将返回默认值（美国英语）。
> /// </summary>
> /// <remarks>
> /// 假设“jquery-ui-i18n.js”组合库或单个区域脚本已加载。
> /// </summary>
> function GetDatePickerRegion(locale) {
>     
>     // 尝试直接获取区域（同名）
>     var region = $.datepicker.regional[locale];
>     if (region != undefined)
>         返回区域；
>     
>     // 特定区域时的回退（例如
>     if (locale.length > 2) {
>         region = $.datepicker.regional[locale.substring(0, 2)];
>         if (region != undefined)
>             返回区域；
>     }
>     
>     // 返回默认区域
>     region = $.datepicker.regional[""];
>     返回区域；
> }

然后在初始化期间调用它，如：

> // 相应地设置 jQuery 文化
>     var datePickerRegion = GetDatePickerRegion(browserLanguage);
>     $.datepicker.setDefaults(datePickerRegion);

同样相关的是您如何在浏览器、服务器和客户端脚本之间存储和传递您的语言。我更喜欢通过检测服务器端的浏览器语言来密切遵循 HTTP 和 HTML 标准，允许在 cookie 和/或服务器数据库中覆盖/持久化它，但最重要的是通过使用“语言”属性：

> // 从服务器发出的元标记中获取浏览器语言首选项。
>     // 应该由服务器使用 cookie 设置以允许语言覆盖和持久性。
>     var browserLanguage = $("\html").attr("lang");
>     if (!browserLanguage)
>         browserLanguage = "en-US"; // 未指定时使用默认值

将来您所要做的就是更新 jQuery UI 包或添加您自己的翻译（这将使用相同的例程）。HTML“lang”属性也将有助于搜索引擎优化（假设您的内容实际上是本地化的，而不仅仅是日期选择器）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-23T07:36:14.887

你需要这样做：

```
 $.datepicker.regional['fr'] = {clearText: 'Effacer', clearStatus: '',
    closeText: 'Fermer', closeStatus: 'Fermer sans modifier',
    prevText: '<Préc', prevStatus: 'Voir le mois précédent',
    nextText: 'Suiv>', nextStatus: 'Voir le mois suivant',
    currentText: 'Courant', currentStatus: 'Voir le mois courant',
    monthNames: ['Janvier','Février','Mars','Avril','Mai','Juin',
    'Juillet','Août','Septembre','Octobre','Novembre','Décembre'],
    monthNamesShort: ['Jan','Fév','Mar','Avr','Mai','Jun',
    'Jul','Aoû','Sep','Oct','Nov','Déc'],
    monthStatus: 'Voir un autre mois', yearStatus: 'Voir un autre année',
    weekHeader: 'Sm', weekStatus: '',
    dayNames: ['Dimanche','Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi'],
    dayNamesShort: ['Dim','Lun','Mar','Mer','Jeu','Ven','Sam'],
    dayNamesMin: ['Di','Lu','Ma','Me','Je','Ve','Sa'],
    dayStatus: 'Utiliser DD comme premier jour de la semaine', dateStatus: 'Choisir le DD, MM d',
    dateFormat: 'dd/mm/yy', firstDay: 0, 
    initStatus: 'Choisir la date', isRTL: false};
 $.datepicker.setDefaults($.datepicker.regional['fr']); 
```

# javascript - 在 html 属性中指定 javascript 方法？

> ID：10137393
> 
> 赞同：1
> 
> 时间：2012-04-13T08:14:24.070
> 
> 标签：javascript, jquery, html, callback

在一个网站中，我正在使用 jquery 工具。

在很多地方，我必须做同样的动作：

当我点击一个链接时，我会显示一个弹出窗口：

这很容易通过

```
$(".overlayTrigger[rel]").overlay({
    mask: {
        color: '#111',
        loadSpeed: 300,
        opacity: 0.9
    },

        closeOnClick: true
    }
); 
```

但问题是，在每种情况下，我都希望调用一个 javascript 方法来为我的弹出窗口加载一些数据。

我知道有一个可以设置的触发器参数：

```
onLoad: function() {
   //Call the method specified in data-load-method attribute
}, 
```

我的目标是在 中调用我的自定义方法，并且必须通过类似属性`onLoad: function(){}`的方式指定该方法：`<a href>`

```
<a href="#" class="overlayTrigger" rel="#MyPopupDiv" data-load-method="LoadPopupXYZData">Click here for the popup</a> 
```

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:20:28.187

如果我理解正确，你想做这样的事情：

```
onLoad: function() {
   var method = $(this).data('load-method');
   window[method]();
}, 
```

如果不是，请澄清。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:18:04.293

```
<a href="#" class="overlayTrigger" rel="#MyPopupDiv" onclick="LoadPopupXYZData()">Click here for the popup</a> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T08:18:59.477

使用这样的点击或悬停方法

```
$(".overlayTrigger[rel]").click(function(){
//inside this method u can access the element using
//$(this) and execute the overlay showing
//also u can accesss the element and its attributes using $(this)
}); 
```

# c# - 在 Visual Studio 中关闭表单后调试不停止

> ID：10137394
> 
> 赞同：8
> 
> 时间：2012-04-13T08:14:33.717
> 
> 标签：c#, visual-studio-debugging

当我关闭我用 C# 编写的表单时，Visual Studio 调试不会停止。关闭表单时如何停止调试过程。我在表单关闭事件中添加了 Application.Exit() 方法，但它不起作用。

谢谢你。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-13T08:28:59.930

[从这里](http://geekswithblogs.net/mtreadwell/archive/2004/06/06/6123.aspx)试试这个

```
If (System.Windows.Forms.Application.MessageLoop)
{
  // Use this since we are a WinForms app
  System.Windows.Forms.Application.Exit()
}
Else
{
  // Use this since we are a console app
  System.Environment.Exit(1)
} 
```

编辑：

如果有正在运行的`infinite`线程，则执行

```
Thread myThread = new Thread(...);
myThread.IsBackground = true; //set your running thread to background
myThread.Start(...); 
```

你可以看到怎么做？从[这里](http://msdn.microsoft.com/en-us/library/aa457093.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-01-19T16:01:18.933

我遇到了这个问题，因为当调试的应用程序关闭时 VS 并没有停止。

查看可能导致 ide 挂起的一种方法是单击暂停并在“调试位置”工具栏上查看仍在运行的任何线程。对我来说，我注意到还有一个 RabbitMq 上下文没有被处理掉。所以这就是我需要的线索。

在我进行代码更改后，一旦应用程序退出，VS 现在会停止它的调试会话。

我知道这不是您可能期望的解决方案，但是找出为什么应用程序没有正确退出或仍然保持后台进程处于活动状态是一个非常棘手的主题。活动线程下拉是查看恕我直言的最佳位置。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-12-01T05:31:00.737

好吧，这将为时已晚四年，但是，我想我会为遇到此问题的其他人发布此问题（就像我刚刚所做的那样），如果这是非常基本的，请提前抱歉，我对 C# 还很陌生，所以这让我有点失望。

我遇到了与 OP 相同的问题，在我的 FormClosing 事件中，Application.Exit() 或 Environment.Exit(0) 都不会结束调试器。

我发现的是查看我的 FormClosing 事件上方的引用计数，它显示“0 引用”。我刚刚从另一个论坛复制并粘贴了关闭事件，因此没有事件处理程序来实际处理我创建/复制的事件。

解决此问题的一种简单方法（除了不复制和粘贴代码）是创建事件处理程序：

*   首先转到“Form1.cs [设计]”选项卡
*   导航到“属性”框
*   点击“活动”
*   找到“FormClosing”并双击它

如果您遇到同样的问题，您现在应该能够看到至少有 1 个对该事件的引用。现在，当您关闭表单时，它也应该停止调试器。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-30T08:52:15.973

另一种可能性是，您的进程在未正确处理的异常中运行。我曾经在自建对话框中显示异常消息，但在一种情况下忘记显示创建的窗口。所以程序遇到了异常，创建了窗口，但没有显示任何迹象......所以即使我关闭了应用程序，进程也会继续运行。

# php - 在字符串中查找第一个大写字符的最快方法

> ID：10137397
> 
> 赞同：10
> 
> 时间：2012-04-13T08:14:39.947
> 
> 标签：php, string, character, uppercase

假设你有这个字符串：

`hiThere`

找到第一个大写字符在哪里的最快方法是什么？（`T`在这个例子中）

我担心性能，因为有些词很长。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-04-13T08:24:14.717

最简单的方法是使用 preg_match （如果只有 1 个匹配项）或 preg_match_all （如果你想要所有匹配项） [http://php.net/manual/en/function.preg-match.php](http://php.net/manual/en/function.preg-match.php)

```
preg_match_all('/[A-Z]/', $str, $matches, PREG_OFFSET_CAPTURE); 
```

不知道是不是最快..

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-04-13T08:27:28.323

为了找到第一个大写字符，我会使用以下`PREG_OFFSET_CAPTURE`标志[`preg_match`](http://php.net/manual/en/function.preg-match.php)：

```
$string = "hiThere";

preg_match( '/[A-Z]/', $string, $matches, PREG_OFFSET_CAPTURE );

print_r( $matches[0] ); 
```

它返回以下内容：

```
Array ( [0] => T [1] => 2 ) 
```

您可以将此逻辑包装到一个函数中并一遍又一遍地使用它：

```
function firstUC ( $subject ) {
  $n = preg_match( '/[A-Z]/', $subject, $matches, PREG_OFFSET_CAPTURE );
  return $n ? $matches[0] : false;
}

echo ( $res = firstUC( "upperCase" ) ) ? $res[1] : "Not found" ;
// Returns: 5

echo ( $res = firstUC( "nouppers!" ) ) ? $res[1] : "Not found" ;
// Returns: Not found 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-05-07T00:26:56.023

其他做法

```
$stringCamelCase = 'stringCamelCase';// hiThere 
```

preg_split() 的方式：

```
$array      = preg_split('#([A-Z][^A-Z]*)#', $stringCamelCase, null, PREG_SPLIT_DELIM_CAPTURE | PREG_SPLIT_NO_EMPTY);
echo strlen($array[0]);// $array = ['string', 'Camel', 'Case'] 
```

strpbrk() 的方式：

```
$CamelCase = strpbrk($stringCamelCase, 'ABCDEFGHIJKLMNOPQRSTUVWXYZ');
echo strpos($stringCamelCase, $CamelCase); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-04-13T08:27:33.993

我想这样做：

```
strlen(preg_replace("/^([a-z]*)[A-Z].*$/", "$1", $str)); 
```

`isThis`=> `2`
`largerWord`=>`6`

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-04-13T08:16:48.103

使用`strpos()`.

```
echo strpos($string, "T"); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-13T15:22:35.220

这是（或多或少）单行解决方案。

```
$pos = strcspn($string, 'ABCDEFGHJIJKLMNOPQRSTUVWXYZ'); 
```

[strcspn](http://www.php.net/manual/en/function.strcspn.php)将返回第二个参数中任何字符第一次出现的位置，如果没有字符出现，则返回字符串的长度。

> 返回不包含 str2 中任何字符的 str1 的初始段的长度。

```
$pos = strcspn($string, 'ABCDEFGHJIJKLMNOPQRSTUVWXYZ');
if ($pos < strlen($string)) {
    echo "capital letter as index $pos";
} 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-10-19T15:27:51.347

在我发现数组是多维的之前，我用这个函数度过了最糟糕的时光。没有看到任何人的代码提到这一点。要获得我使用的第一个大写字母的位置：

```
<?php

$field = "i_select_Interior_Quote";
preg_match( '/[A-Z]/', $field, $m, PREG_OFFSET_CAPTURE );

$posi=$m[0][1];

echo '<br><br>'.$posi; // outputs 9

?> 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-04-13T08:27:45.307

az 字符的解决方案。可能不会工作 unicode

```
 preg_match('/[A-Z]/', $str, $m);
 if(isset($m[1])) {
    echo 'First upper char is '.$m[1].' and located at '. strpos($string, "T");
 }
 else {
    'There is no upperchar';
 } 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2014-06-11T10:39:46.820

**我在自己的应用程序中使用的内容：**

```
function acronyms($s){
  $s=str_replace(array('& ','of ','the ','and '),'',strtolower($s));
  $s=ucwords(trim($s)); //Collecting data
  if(strlen($s)>0 && preg_match_all('/[A-Z]/',$s,$m))   return implode('',$m[0]);
return $s;
} 
```

# apache - 在 centos 上安装 httpd 2.4.1 时出现 apr-util 错误

> ID：10137399
> 
> 赞同：2
> 
> 时间：2012-04-13T08:14:41.237
> 
> 标签：apache, apr

我正在尝试在我的 CentOS 机器上安装 httpd-2.4.1（目前它有 2.2.15）。我做了以下...

```
sudo yum install gcc
sudo yum install perl
sudo yum install libbz2 libbz2-devel
sudo yum install bzip2-devel
sudo yum install curl-devel
sudo yum install libjpeg-devel
sudo yum install libpng-devel
sudo yum install libX11-devel gd-devel
sudo yum install libc-client-devel
sudo yum install libmcrypt-devel
sudo yum install bzip2
sudo yum install pcre-devel
sudo yum install openssl-devel
sudo yum install libxml2-devel
sudo yum install libmcrypt

#apache
wget http://mirror.nus.edu.sg/apache//apr/apr-util-1.4.1.tar.gz
wget http://mirror.nus.edu.sg/apache//apr/apr-1.4.6.tar.gz
extract and move to /srclib in httpd-2.4.1 directory
sudo ./configure --prefix=/usr/local/apache --enable-so --enable-mods-shared=most --with-included-apr --with-included-apr-util --enable-load-all-modules 
sudo make
sudo make install 
```

在这里我得到了错误：

```
/usr/bin/ld: /usr/local/apache/lib/libexpat.a(xmlparse.o): relocation R_X86_64_32S against `.text' can not be used when making a shared object; recompile with -fPIC
/usr/local/apache/lib/libexpat.a: could not read symbols: Bad value
collect2: ld returned 1 exit status
libtool: install: error: relink `libaprutil-1.la' with the above command before installing it 
```

如何使用上述命令重新链接 libaprutil-1.la？（我猜它指的是-fPIC？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T10:26:47.697

`--with-included-apr-util` 您在运行时未包含`./configure`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-07T06:45:04.617

./configure --with-included-apr --with-included-apr-util

# c# - SWFTools 的 pdf2swf：如果从 IIS 托管的网站启动，则不会转换文本

> ID：10137401
> 
> 赞同：2
> 
> 时间：2012-04-13T08:14:50.543
> 
> 标签：c#, iis, flash, pdf2swf

我在 Windows Server 2008 R2 上运行 IIS 7.5，并尝试使用 SWFTools 的 pdf2swf 将上传后的一些 PDF 转换为 SWF。如果我使用相同的参数手动启动转换器，一切都很好。但是，如果我从我的 HttpHandler 中启动转换器，则该过程不会返回任何输出（并且似乎根本没有启动）或转换没有任何文本的 PDF - 取决于我如何启动该过程。

这是我开始这个过程的方式：

```
System.Diagnostics.Process p = new System.Diagnostics.Process();
p.StartInfo.FileName = ToolsPath;
p.StartInfo.Arguments = arguments
p.StartInfo.UseShellExecute = false;
p.StartInfo.RedirectStandardOutput = true;
p.StartInfo.RedirectStandardError = true;
p.StartInfo.Password = secPw;
p.StartInfo.UserName = username;
p.StartInfo.Domain = domain;
p.Start();
p.WaitForExit(); 
```

以及我通过哪些论点：

```
"%%source%% -o %%target%% -v -v -v -f -T 9 -t -s storeallcharacters" 
```

非常感谢您的帮助！

**编辑：**我也尝试过没有额外的 StartInfo（用户凭据），这是我第一次尝试的，导致 SWF 没有文本。使用凭据（作为管理员或标准），我没有从转换器获得任何 SWF 或输出。

**编辑2：**我也尝试了这些论点：

```
"%%source%% -o %%target%% -f -T 9 -t -s storeallcharacters" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-14T16:14:37.190

好的，我通过添加具有管理权限的单独控制台应用程序解决了这个问题：我添加了一个应用程序清单

```
<requestedExecutionLevel level="requireAdministrator" uiAccess="false" /> 
```

这个控制台应用程序称为 pdf2swf.exe，由我的 HttpHandler 调用。

我还在 HttpHandler 中添加了对“中间人”的调用，这些代码行：

```
p.StartInfo.UseShellExecute = false;
if (System.Environment.OSVersion.Version.Major >= 6)
    p.StartInfo.Verb = "runas"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T09:54:45.640

仅供参考......我有一个类似的问题。升级到最新版本 pdf2swf (build 0857) 为我解决了这个问题。

# loops - .bat 文件循环遍历文件夹并附加文本文件

> ID：10137402
> 
> 赞同：2
> 
> 时间：2012-04-13T08:14:56.410
> 
> 标签：loops, batch-file, append, command-prompt, windows-xp-sp3

我想设置一个简单的批处理文件，它将遍历文件夹（放置批处理文件的文件夹）中的所有 .txt 文件，并为每个文件添加相同的标题行。标题行在单独的文本文件中定义。

例如，假设我有：

```
c:\SomeFolder\Headings.txt   
    --> I want to add this to the top of each of the text files in:

c:\SomeFolder\FolderWithTextFiles\
    --> ...by running the batch file:

c:\SomeFolder\FolderWithTextFiles\BatchFile.batch 
```

额外说明：
- 无需遍历子文件夹

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T12:03:02.150

Windows 批处理没有本地命令来编辑文件（除了向其附加数据）。因此，对于每个文件，您需要创建一个包含所需内容的临时文件，然后删除原始文件并将临时文件重命名为原始文件。删除和重命名可以用一个 MOVE 命令完成。

```
@echo off
set "header=c:\SomeFolder\Headings.txt"
set "folder=c:\SomeFolder\FolderWithTextFiles"
set "tempFile=%folder%\temp.txt"
for %%F in ("%folder%\*.txt") do (
  type "%header%" >"%tempFile%"
  type "%%F" >>"%tempFile%"
  move /y "%tempFile%" "%%F" >nul
) 
```

# c# - 如何在 C# 4 中对 T 执行动态 where lambda？

> ID：10137403
> 
> 赞同：2
> 
> 时间：2012-04-13T08:15:06.273
> 
> 标签：c#, linq, func

如何在此方法中使用 Lambda 表达式作为参数并在 where 子句中使用它？

一直在阅读有关 Func、动态和表达式树的信息，但不知道如何做到这一点。

问题是我不知道类型 T 也不知道调用者想要返回什么。如何在 C# 4.0 中做到这一点？一个让我开始的例子会很棒 - 谢谢。

这是我想要的一个非常简化的示例。

```
static public List<T> Match(string startfilelocation, ???)
{
    var filelist = Directory.GetFiles(startfilelocation, "*.*", SearchOption.AllDirectories);
    return filelist.Where(???);
} 
```

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:23:04.017

指定`List<string>`为返回类型，使用`Func<string, bool>`参数类型，然后`ToList`将结果转换为列表的方法：

```
static public List<string> Match(string startfilelocation, Func<string, bool> filter) {
  var filelist = Directory.GetFiles(startfilelocation, "*.*", SearchOption.AllDirectories);
  return filelist.Where(filter).ToList();
} 
```

例子：

```
List<string> files = Match(folder, s => s.Contains("candy")); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:21:00.213

```
static public IEnumerable<string> Match(string startfilelocation,Func<string,bool> selector) 
{ 
    var filelist = Directory.GetFiles(startfilelocation, ".", SearchOption.AllDirectories); 
    return filelist.Where(selector);
} 
```

我也建议`Directory.EnumerateFiles`不要使用`GetFiles`不将所有文件名加载到内存

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T08:22:14.330

LINQ 中的 Where 方法只能接受两个参数`Func<TSource,bool>`和`Func<TSource,int,bool>`. 在你的情况下 where `filelist`is a`string[]`因此你可以有两个重载的方法

```
static public IEnumerable<string> Match(string startfilelocation, Func<string,bool> predicate)
{
    var filelist = Directory.GetFiles(startfilelocation, "*.*", SearchOption.AllDirectories);
    return filelist.Where(predicate);
}

static public IEnumerable<string> Match(string startfilelocation, Func<string,int,bool> predicate)
{
    var filelist = Directory.GetFiles(startfilelocation, "*.*", SearchOption.AllDirectories);
    return filelist.Where(predicate);
} 
```

# windows - 批处理脚本打印将执行而不是执行的命令

> ID：10137404
> 
> 赞同：3
> 
> 时间：2012-04-13T08:15:08.233
> 
> 标签：windows, bash, batch-file, cmd

是否可以设置一个 cmd.exe shell / 批处理文件来打印将执行但不实际执行的内容？

例如，给定一个带有一些参数的批处理文件，基于这些参数选择一些其他批处理文件来运行，这些批处理文件执行一些命令，可能会或可能不会调用其他文件/命令等。

我希望能够使用其输入参数的所有可能组合运行顶级批处理文件，并捕获每个 arg 组合将执行的内容 - 而无需实际尝试执行它。

例如，在概念上希望能够产生类似的东西：

```
mybatchfile.bat 1 2 3 > mybatchfile_1_2_3.bat

mybatchfile.bat 99 3 42 > mybatchfile_99_3_42.bat 
```

其中 mybatchfile_99_3_42.bat 是运行 mybatchfile.bat 99 3 42 时将执行的所有内容的列表（不是执行这些命令的输出）

如果这不能单独使用 cmd.exe 完成，是否可以通过在 cygwin bash shell 中运行批处理脚本来实现这一点

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-19T21:59:58.477

在 bash 中，我们会使用 -x 之类的东西来打印所有可能的命令而不执行它们。[如何使 bash 脚本在执行之前打印出每个命令](https://serverfault.com/questions/16204/how-to-make-bash-scripts-print-out-every-command-before-it-executes)问题是据我所知，批处理脚本没有完全等效的命令。我建议您尝试放置：

```
@echo on 
```

在脚本的开头，并且：

```
@echo off 
```

在脚本的结尾，这是最好的起点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-19T22:24:19.397

如果您不希望批处理文件实际执行命令，则可以`echo`在每个命令之前插入。无论如何，这不是一个完美的解决方案，但它可能是相当简单脚本的解决方法。

# java - 将小数位设置为浮点值

> ID：10137406
> 
> 赞同：0
> 
> 时间：2012-04-13T08:15:24.787
> 
> 标签：java, number-formatting

```
float a= (float) 1846.4;

NumberFormat df = DecimalFormat.getInstance();
df.setMinimumFractionDigits(2);
df.setMaximumFractionDigits(2);

float b = Float.parseFloat( df.format(a)); 
```

为浮点数设置小数位的最佳方法是什么（我只想设置浮点值的 2 个小数位，可以是 2013.43452 或 2392.2）？现在我得到了像 E 这样的异常`xception in thread "main" java.lang.NumberFormatException: For input string: "1,846.40"`。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:19:00.380

我认为导致 NFE 的直接问题是字符串中的千位分隔符，而不是小数位数。您在字符串中有 a`','`和 a ，并且不喜欢那样。`'.'``parseFloat`

但是请注意，您无法修复值中的小数位数`float`- 这完全是格式问题。具体来说，尾随`0`' 在浮点值中没有意义，因此默认情况下不会显示。您需要在输出点根据您的意愿格式化该值（当将其转换为可显示时，`String`例如通过使用`DecimalFormat`您上面所做的）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:24:42.310

听起来您只想四舍五入到小数点后两位。

数字格式和乱搞字符串不是你想去的地方。

尝试这个：

```
float b = Math.round(a * 100)/100.0f; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-13T08:25:18.820

要使您的格式化+解析工作，只需`df`再次使用：

```
float b = df.parse( df.format(a)); 
```

但是，我仍然认为这没有任何意义。您*无法*定义浮点数中的小数位数。1846.40 与 1846.4 或 1846.400 相同，尾随零完全不相关。

当您有输出时，这些数字就会发挥作用，例如将数字写入字符串。但是还有其他工具可以做到这一点，例如字符串格式模式。

如果您需要在内部限制小数位数，请使用`BigDecimal`可以设置比例的地方，从而定义它所代表的小数位数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-13T10:04:20.380

> 为浮点数设置小数位的最佳方法是什么

没有一个。*浮点数*没有小数位。他们有二进制的地方。

如果你想要小数位，你必须使用小数基数，要么是 a 要么`BigDecimal`是`DecimalFormat.format()`.

# xpages - xPages 应用程序的更新删除了 Domino 服务器上的会话变量……怎么办？

> ID：10137410
> 
> 赞同：4
> 
> 时间：2012-04-13T08:15:43.040
> 
> 标签：xpages

在相当大的 xPages 应用程序开发过程中，意识到 Domino 会在应用程序设计发生任何更改后删除应用程序中的所有 sessionScope、viewScope、applicationScope 变量（这会导致服务器上的一些内部应用程序重新加载）。我在开发过程中理解这一点，但它在生产中确实是不可接受的，因为它对连接的用户造成了不一致。即使是代码或 xpage（在任何 xpage，而不是用户正在处理的 xpage）中的简单错字更正并将更改应用于生产应用程序也会导致此删除。有没有办法克服这种行为？（我知道我可以在工作时间以外更新应用程序，但是当您需要快速交付更改时，新应用程序会出现问题，例如错字修复......）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-13T10:07:36.623

必须这样做，因为应用程序中的任何更改都可能导致作用域变量（及其内容）无效。更新应用程序（任何不仅是 xpage 应用程序）应该在没有/有限数量的用户的指定 trimeframe 中完成。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T10:45:20.303

[这个](https://stackoverflow.com/questions/9992359/xpages-predestroy/10001321#10001321)对上一个问题的回答可能会为您提供一个选项。在原始问题的上下文中，定义侦听器的建议只是为了在范围被销毁之前提供进行一些清理的机会。然而，这些类型的侦听器也可用于保存和恢复这些范围的状态。由于 JJTB 提到的原因，我强烈建议您谨慎行事，但肯定在您进行完全不相关的更改（例如结构性、非逻辑性）的情况下，这将为您提供一种防止用户受到频繁范围清除影响的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T11:11:28.540

jjtbsomhorst 解释了原因。我想补充一点：不要依赖作用域变量并使用 bean。豆类含有“烹饪新鲜配方”，使用起来更安全。如果您按照问题中所述对应用程序进行更新，则根据特定事件（通常在加载时）计算的任何范围变量都将永远丢失。但是，如果您使用 bean - 它的值将在需要时重新创建。

# sql - 基本 SQL 更新触发器

> ID：10137412
> 
> 赞同：0
> 
> 时间：2012-04-13T08:15:48.147
> 
> 标签：sql, tsql

我想创建一个触发器，该触发器在更新表中的行之前运行，并在将行中的所有字段更新到存档表之前写入该行中的所有字段。在更新之前访问行字段所需的正确语法是什么，以便我可以将它们写入我的存档表？

编辑 ：

所以这应该做我想要的，但它似乎不起作用。我收到错误“数据库中已经有一个名为 config_SystemSettings 的对象：

```
CREATE TRIGGER [config].[UpdateSystemSettings] 
```

ON [config].[SystemSetting] 更新开始后

```
SET NOCOUNT ON;

SELECT old.settingId, old.campId, old.settingKey, old.settingValue
into [history].[config_SystemSettings]
FROM [config].[SystemSetting] AS old
INNER JOIN deleted AS del ON del.settingId = old.settingId 
```

结束

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T09:05:33.670

`SELECT ... INTO`总是想创建一个新表 - 所以`INSERT ... SELECT`改用：

```
CREATE TRIGGER [config].[UpdateSystemSettings]

ON [config].[SystemSetting] AFTER UPDATE AS BEGIN
SET NOCOUNT ON;

insert into [history].[config_SystemSettings] (settingId,campId,settingKey,settingValue)
SELECT old.settingId, old.campId, old.settingKey, old.settingValue
FROM [config].[SystemSetting] AS old
INNER JOIN deleted AS del ON del.settingId = old.settingId 
```

但是您必须先明确创建`[history].[config_SystemSettings]`。

# c++ - openMP 许可证信息

> ID：10137415
> 
> 赞同：0
> 
> 时间：2012-04-13T08:16:00.450
> 
> 标签：c++, licensing, openmp

我想将 openMP 与编译器 VS2010 一起使用。openMP 的许可证状态是什么？可以在商业软件中自由使用吗，能否指点一下相关文档？

谢谢和问候

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-13T09:02:14.370

OpenMP 本身就是一个 API 规范，因此没有使用它的许可。您的编译器提供的实现受后者相同的许可约束，因此您当然可以使用 Visual Studio 在商业软件中使用它。

找不到相关来源指出。

# c#-4.0 - C# 中的 Activator.CreateInstance 和通用方法

> ID：10137416
> 
> 赞同：2
> 
> 时间：2012-04-13T08:16:01.787
> 
> 标签：c#-4.0

```
interface IExecutor
{
   void Execute();
}

class Executor2<T> where T : IExecutor
{
    public void Execute()
    {
        var ex = (T)Activator.CreateInstance(typeof(T));
        ex.Execute();
    }
} 
```

这是面试时的一个问题。他们告诉我，有时这段代码会失败（导致异常），并且至少有 3 个可能导致问题的原因。不知道有什么例外。但是该方法`Execute`创建得很好，它的**实现**没有错误。

有人对此有什么建议吗？

**编辑：**至少有 3 个可能导致问题的原因。这些原因是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-13T08:25:27.560

从表面上看，我可以看到一些问题。

1.  该代码无法编译，但我可以忽略它并使其编译。
2.  代码没有做你认为的事情。

解释 2：您`T`在类定义中指定了一个带有约束的类型`IExecutor`，但是您随后`T`在没有约束的方法级别定义了另一个类型。这不编译。

如果我解决这个问题并`<T>`从方法中删除定义，我可以看到它失败的许多原因而没有太多警告：

1.  `ex`一片空白。
2.  类型`T`没有定义公共无参数构造函数。
3.  也许它无法加载包含`T`.

正如 Jakub 所发现的：

1.  `T`可能是一个接口（没有构造函数）。
2.  `T`可能是一个抽象类，这些不允许直接创建实例。

第一个可以防止使用空检查`if (ex != null)`，第二个可以防止使用另一个通用约束`new()`：

```
class Executor2<T> where T : IExecutor, new()
{
} 
```

显然，您还可以修改代码以包含异常日志记录。这可能有助于弄清楚**实际问题是**什么，而不是仅仅在黑暗中刺伤：

```
public void Execute<T>()
{
    try
    {
        var ex = (T)Activator.CreateInstance(typeof(T));
        ex.Execute();
    }
    catch (Exception ex)
    {
        Log(ex); // Mystical logging framework.
        throw;
    }
} 
```

考虑到我不明白这个问题，这是我可以拼凑起来的唯一答案。

如果我在一次采访中被问到这个问题，我可能会说我无法说出全部 3 个，但我知道如何更改代码以使其更易于维护并告诉我出了什么问题。然后我很可能会因为问一些毫无意义的面试问题而走路。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T08:48:30.090

`T`可能是**接口**或**抽象类**- 您不能创建它们的实例，或者`T`没有无参数构造函数。

也`var ex = (T)Activator.CreateInstance(typeof(T));`可以改写为`var ex = Activator.CreateInstance<T>();`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-13T08:52:25.880

是否假定 T 的设计没有错误？我的意思是，如果 T 定义了一个执行 Bad Stuff 的静态构造函数，则 T 的类型初始化将失败，给出与没有无参数构造函数时会发生的情况不同的异常。

就此而言，如果 T 定义了一个将失败的无参数构造函数，那么它也会被破坏。

此外，如果该类型具有私有构造函数，您将收到错误消息。或者，如果该类型继承自将导致 TypeInitialisationException 的类型

[编辑]

尝试这个：

```
namespace ConsoleApplication1
{
    class Program
    {
        static void Main(string[] args)
        {
            try { 
                new Executor2<IExecutor>().Execute();
            }
            catch { Console.WriteLine("Failed IExecutor"); }

            try { new Executor2<AbstractExecutorWithImpl>().Execute(); }
            catch { Console.WriteLine("Failed AbstractExecutorWithImpl"); }

            try { new Executor2<AbstractExecutorWithNoImpl>().Execute(); }
            catch { Console.WriteLine("Failed AbstractExecutorWithNoImpl"); }

            try { new Executor2<ConcreteExecutor>().Execute(); }
            catch { Console.WriteLine("Failed ConcreteExecutor"); }

            try { new Executor2<DerivedExecutor>().Execute(); }
            catch { Console.WriteLine("Failed DerivedExecutor"); }

            try { new Executor2<DerivedExecutorWithBadConstr>().Execute(); }
            catch { Console.WriteLine("Failed DerivedExecutorWithBadConstr"); }

            try { new Executor2<DerivedExecutorWithPrivateConstr>().Execute(); }
            catch { Console.WriteLine("Failed DerivedExecutorWithPrivateConstr"); }

            try { new Executor2<DerivedExecutorWithPublicBadConstr>().Execute(); }
            catch { Console.WriteLine("Failed DerivedExecutorWithPublicBadConstr"); }

            Console.ReadLine();
        }
    }

    interface IExecutor
    {
        void Execute();
    }

    abstract class AbstractExecutorWithImpl : IExecutor
    {
        public void Execute()
        {
            Console.Write("Executing AbstractExecutorWithImpl ");
        }
    }
    abstract class AbstractExecutorWithNoImpl : IExecutor
    {
        public abstract void Execute();
    }

    class ConcreteExecutor : IExecutor
    {
        public void Execute()
        {
            Console.WriteLine("Executing ConcreteExecutor");
        }
    }

    class DerivedExecutor : AbstractExecutorWithNoImpl
    {
        public override void Execute()
        {
            Console.WriteLine("Executing DerivedExecutor");
        }
    }

    class DerivedExecutorWithBadConstr : IExecutor
    {
        static DerivedExecutorWithBadConstr() { throw new Exception("Static initialisation Exception"); }
        public void Execute()
        {
            Console.WriteLine("Executing DerivedExecutorWithBadConstr");
        }
    }

    class DerivedExecutorWithPrivateConstr : DerivedExecutor
    {
        private DerivedExecutorWithPrivateConstr() { }
    }
    class DerivedExecutorWithPublicBadConstr : DerivedExecutorWithBadConstr
    {
        public DerivedExecutorWithPublicBadConstr() : base() { }
    }

    class Executor2<T> where T : IExecutor
    {
        public void Execute()
        {
            var ex = (T)Activator.CreateInstance(typeof(T));
            ex.Execute();
        }
    }
} 
```

# c# - 使用 Elements("ElementName") 将 XmlElement 转换为 XElement 不返回任何结果

> ID：10137419
> 
> 赞同：2
> 
> 时间：2012-04-13T08:16:13.590
> 
> 标签：c#, xml, xelement

我正在使用以下代码将 a 转换`XmlElement`为`XElement`

```
public staic XElement ToXElement(this XmlNode node) {
    XElement element = null;
    if (null != node) {
        element = XElement.Parse(node.OuterXml);
    }
    return element;
} 
```

但是，当我打电话`Elements()`或`Elements("ElementName")`我没有得到任何结果时。
但是，我确实从调用中得到了结果`Nodes()`。

为什么元素不是通过调用 Elements 出来的，这两种方法有什么区别？

这是我正在解析的 xml 的片段。

```
<Feature xmlns="http://schemas.microsoft.com/sharepoint/">
    <ElementManifests>
        <ElementFile Location="Path/file.xml"/>
    </ElementManifests>
</Feature> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T22:50:29.797

您可能没有正确使用命名空间。这两种方法都适合我：

```
XElement root = XElement.Load("test.xml"); //or result of ToXElement
foreach(var item in root.Elements())
{
    Console.WriteLine(item.Name);
}

XNamespace ns = "http://schemas.microsoft.com/sharepoint/";
var manifestsNode = root.Element(ns + "ElementManifests"); 
```

鉴于您不知道`Elements()`（获取所有直接子元素）和`Element()`（获取一个特定的直接子元素）之间的区别，您应该从 Linq to Xml 教程开始。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-11-21T12:44:23.057

测试这段代码：

```
var Status = xn["Feature"];
foreach (XmlElement element in Status) {
    XElement withoutXmlnsElement =RemoveAllNamespaces(XElement.Parse(element.OuterXml));
}

public static XElement RemoveAllNamespaces(XElement e) {
    return new XElement(e.Name.LocalName,
    (from n in e.Nodes()
    select ((n is XElement) ? RemoveAllNamespaces(n as XElement) : n)),
    (e.HasAttributes) ? (from a in e.Attributes() 
    where (!a.IsNamespaceDeclaration) select new     
    XAttribute(a.Name.LocalName,a.Value)) : null);
} 
```

# javascript - 使用带有 XML 和 XSLT 的 javascript 的问题

> ID：10137420
> 
> 赞同：0
> 
> 时间：2012-04-13T08:16:20.683
> 
> 标签：javascript, html, xml, xslt

嗨，我正在尝试让我的 xsl 从 xml 呈现数据我不确定我做错了什么我有一个博客条目页面，其中有我的所有博客文章然后我有特定于每个博客条目的评论。所有这些都存在于我的 xml 中，使用 XSL 可以很好地呈现我的问题是当我尝试使用 javascript 来显示和隐藏评论时，我只得到第一个博客条目的评论来显示和隐藏
这里是我的代码我将不胜感激任何帮助

博客数据.xsl

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

 <!-- This  is used to match everything thing rite up from the root element-->
 <xsl:param name="id" />
 <xsl:template match="/">
 <html>

<head>
<script language="javascript"> 
 function CommentHide() {

var ele = document.getElementById("toggleText");
var text = document.getElementById("displayText");
if(ele.style.display == "block") {
        ele.style.display = "none";
    a.innerHTML = "show Comments";
}
else {
    ele.style.display = "block";
    a.innerHTML = "hide";
}
   } 
   </script>
   <title>
   View Blog
   </title>
   </head>
    <!-- The body contains the entire formatting for the page in general , like color  font ect-->
  <body style="font-family:Arial;font-size:12pt; background-color:#FFE4E1">
  <!-- The document uses inline styling-->
   <div align="center">
<img src="banner.gif" alt="Banner Image"/>
</div>
    <table border="0">
    <tr>
    <!--This reduces the column one's with to fit 80% of the page leaving the rest for the profile section-->
    <td width="80%">
    <div style="align:left">
    <!-- use for each to indicate more than one blog entries that may be there i.e 3 in this page-->
    <xsl:for-each select="blog/BlogEntries">
    <!-- The sort just like for-each and value-of  will perform the task on the selected element in this case sorts the blog entries-->
    <xsl:sort select="CreationTime"/>

  <div style="margin-left:50px;margin-bottom:1em;font-size:10pt;margin-right:50px;">

    <h1><b> <xsl:value-of select="Title"/></b></h1>
    <hr/>
    <h3><b> <i> <xsl:value-of select="CreationTime"/></i></b></h3>
     <xsl:value-of select="Description"/>
      <script type="text/javascript">
              var ele = document.getElementById("toggleText");
              var a = document.createElement('a');
               a.title = "Show Comments";

              a.innerHTML = a.title;
              a.href = "javascript:CommentHide()";
              document.body.appendChild(a);

        </script>
        <div id="toggleText" style="display: none">
      <xsl:for-each select="Comments/Comment">
    <span style="font-style:italic">

     <h3><xsl:value-of select="Title"/></h3>
      <div style="position:relative;"><xsl:value-of select="Description"/>    </div>
      <div style="position:relative;left:350px;"><xsl:value-of select="Creator"/> </div>          
    </span>
     </xsl:for-each>
  </div>
  </div>

</xsl:for-each>
</div >  
</td>

  <div style="color:black;position:relative;line-height:20px;float:right;width:100%;height:100%;top:50px;padding:4px;align:right">
  <!-- this is the other column of the table which contains the profile where each element is just a value-of selcted type-->
  <td margin-left="75px" wigth="100%">

  <h3>Profile :</h3>
  <img src="me.gif" alt="display pic" width="100" height="100" />
 <br/><br/> <b>Name :</b><xsl:value-of select="blog/Profile/Name" /><br/>
    <br/><b>Age:</b><xsl:value-of select="blog/Profile/Age"/><br/>
     <br/><b>Birth Place :</b><xsl:value-of select="blog/Profile/BirthPlace"/><br/>
     <br/><b>Current Residence :</b><xsl:value-of select="blog/Profile/CurrentResidence"/><br/>
     <br/><b>Occupation :</b><xsl:value-of select="blog/Profile/Occupation"/><br/>
     <xsl:value-of  select="blog/Profile/gender"/>

     </td>
              </div>
     </tr>
     </table>     
      </body>

     </html>
     </xsl:template>
     </xsl:stylesheet> 
```

博客数据.xml

```
 <?xml version="1.0" encoding="ISO-8859-1"?>
    <?xml-stylesheet type="text/xsl" href="blogData.xsl"?> 
    <blog xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:noNamespaceSchemaLocation="blogData.xsd"> 

    <Profile>
<Name> Yaba</Name>
<Age>23</Age>
<BirthPlace> India. </BirthPlace>
<CurrentResidence>USA</CurrentResidence>
<Occupation>Student</Occupation>
<flag gender="f"/>
    </Profile>

     <BlogEntries id ="1">
<ID>1</ID>
<Title>Blog-1 : High Performance Web Sites </Title>  
<CreationTime> 1999-12-04T20:12:00.000</CreationTime>
<Description>Book Overview : The book has been written by Steve Souders, 
is one of the most elaborate one's discussing the performance parameters. 
In the words of  Nate Koechley, Senior Frontend Engineer Yahoo! User Interface (YUI) Team, 
Platform. As a frontend engineer, you hold a tremendous amount of power and responsibility.
Youre the users last line of defense.The decisions you make directly shape their experience.
I believe our number one job is to take care of them and to give them what they wantquickly.
This book is a toolbox to create happy users (and bosses, too).Best of all,
once you put these techniques in placein most cases, a one-time tweakyoull be reaping the rewards far into the future.</Description>

<Comments>
<Comment>
<Title>Comment - 1.1 </Title>
<Description> This is the first comment by the User written about the blog1</Description>
<Creator>User - 1.1</Creator>
</Comment>

<Comment>
<Title>Comment - 1.2 </Title>
<Description> This is the second comment by the User written about the blog1</Description>
<Creator>User - 1.2</Creator>
</Comment>
</Comments>

    </BlogEntries>

     <BlogEntries id="2">
<ID>2</ID>
<Title>Blog-2 :The Importance of Frontend Performance</Title>  
<CreationTime>03-01-12, 9 AM</CreationTime>
<Description>Most of my web career has been spent as a backend engineer.As such, I  dutifully
      approached each performance project as an exercise in backend optimization, concentrating
     on compiler options, database indexes, memory management, etc.Theres
     a lot of attention and many books devoted to optimizing performance in these areas,
      so thats where most people spend time looking for improvements.In reality, for
      most web pages, less than 1020% of the end user response time is spent getting the
      HTML document from the web server to the browser.If you want to dramatically
     reduce the response times of your web pages, you have to focus on the other 8090%
      of the end user experience.What is that 8090% spent on? How can it be reduced?
      The chapters that follow lay the groundwork for understanding todays web pages
      and provide 14 rules for making them faster.</Description>

<Comments>
<Comment>
<Title>Comment - 2.1 </Title>
<Description> This is the only comment by the User written about the blog2</Description>
<Creator>User - 2.1</Creator>
</Comment>
</Comments>

    </BlogEntries>

    <BlogEntries id="3" >
<ID>3</ID>
<Title>Blog-3 :Tracking Web Page Performance </Title>  
<CreationTime>02-01-2012, 6 PM</CreationTime>
<Description>In order to know what to improve, we need to know where the user spends her time
  waiting.Figure A-1 shows the HTTP traffic when Yahoo!s home page (http://www.
  yahoo.com) is downloaded using Internet Explorer.Each bar is one HTTP request.
   The first bar, labeled html, is the initial request for the HTML document.Th e
   browser parses the HTML and starts downloading the components in the page.In
   this case, the browsers cache was empty, so all of the components had to be     downloaded.
   The HTML document is only 5% of the total response time.The user spends
   most of the other 95% waiting for the components to download; she also spends a
   small amount of time waiting for HTML, scripts, and stylesheets to be parsed, as
   shown by the blank gaps between downloads.</Description>
<Comments>
<Comment>
<Title>Comment - 3.1 </Title>
<Description>This is the first comment by the User written about the blog3</Description>
<Creator>User - 3.1</Creator>
</Comment>
<Comment>
<Title>Comment - 3.2 </Title>
<Description> This is the second comment by the User written about the  blog3</Description>
<Creator>User - 3.2</Creator>
</Comment>
<Comment>
<Title>Comment - 3.3 </Title>
<Description> This is the third comment by the User written about the blog3</Description>
<Creator>User - 3.3</Creator>
</Comment>
</Comments>
    </BlogEntries>
     </blog> 
```

索引.html

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

        <html xmlns="http://www.w3.org/1999/xhtml">

        <head>
        <meta http-equiv="Content-type" content="text/html; charset=ISO-8859-1" />
        <link rel="stylesheet" type="text/css" href="style.css"/>
        <!-- This is the user login page that authenticates users-->

        <title>
        View Blog Page
        </title>
        <script>
        function loadXMLDoc(fname)
        {
        var xmlDoc;
        // code for IE
        if (window.ActiveXObject)   
        { xmlDoc = new ActiveXObject("Microsoft.XMLDOM"); }
        //code for Mozilla, Firefox, Opera, etc.
        else if (document.implementation.createDocument)
        { xmlDoc = document.implementation.createDocument("", "", null); }
        else
        { alert('Your browser cannot handle this script'); }
        xmlDoc.async=false;
        xmlDoc.load(fname);
        return(xmlDoc);
        }
        function displayResult()
        {
        xml=loadXMLDoc("blogData.xml");
        xsl=loadXMLDoc("blogData.xsl");
        // code for IE
        if (window.ActiveXObject)
        {
        ex = xml.transformNode(xsl);
        document.getElementById("example").innerHTML = ex;
        }
        // code for Mozilla, Firefox, Opera, etc.
        else if (document.implementation.createDocument)
        {
        xsltProcessor = new XSLTProcessor();
        xsltProcessor.importStylesheet(xsl);

        resultDocument = xsltProcessor.transformToFragment(xml,document);
        document.getElementById("example").appendChild(resultDocument);
        }
        }
        </script> </head>
        <div>
        <body  id="example" onLoad="displayResult()">
        </div>

        </body>

        </html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:51:41.450

这看起来很像[Applying Javascript to XSL](https://stackoverflow.com/questions/10100816/applying-javascript-to-xsl/10104170)。

看看那里 - 它可能是您正在寻找的答案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:56:17.020

首先，我假设您要做的是一次隐藏并显示所有评论，如果是这样的话，这里是一个工作副本：

*博客数据.xsl：*

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

    <!-- This  is used to match everything thing rite up from the root element-->
    <xsl:param name="id" />
    <xsl:template match="/">
    <html>

        <head>

            <title>View Blog</title>

        </head>
        <!-- The body contains the entire formatting for the page in general , like color  font ect-->
        <body style="font-family:Arial;font-size:12pt; background-color:#FFE4E1">

            <!-- The document uses inline styling-->
            <div align="center">
                <img src="banner.gif" alt="Banner Image" />
            </div>

            <table border="0">
                <tr>
                    <!--This reduces the column one's with to fit 80% of the page leaving the rest for the profile section-->
                    <td width="80%">
                        <div style="align:left">
                            <!-- use for each to indicate more than one blog entries that may be there i.e 3 in this page-->
                            <xsl:for-each select="blog/BlogEntries">
                                <!-- The sort just like for-each and value-of  will perform the task on the selected element in this case sorts the blog entries-->
                                <xsl:sort select="CreationTime" />

                                <div style="margin-left:50px;margin-bottom:1em;font-size:10pt;margin-right:50px;">

                                    <h1><b><xsl:value-of select="Title" /></b></h1>

                                    <hr />

                                    <h3><b><i><xsl:value-of select="CreationTime" /></i></b></h3>

                                    <xsl:value-of select="Description" />

                                    <div id="toggleText" class="commentBlock" style="display: none">
                                        <xsl:for-each select="Comments/Comment">
                                            <span style="font-style:italic">
                                                <h3><xsl:value-of select="Title" /></h3>
                                                <div style="position:relative;"><xsl:value-of select="Description" /></div>
                                                <div style="position:relative;left:350px;"><xsl:value-of select="Creator" /></div>          
                                            </span>
                                        </xsl:for-each>
                                    </div>

                                </div>

                            </xsl:for-each>
                        </div>
                    </td>

                    <div style="color:black;position:relative;line-height:20px;float:right;width:100%;height:100%;top:50px;padding:4px;align:right">
                        <!-- this is the other column of the table which contains the profile where each element is just a value-of selcted type-->
                        <td margin-left="75px" wigth="100%">

                            <h3>Profile :</h3>
                            <img src="me.gif" alt="display pic" width="100" height="100" />
                            <br /><br /> <b>Name :</b><xsl:value-of select="blog/Profile/Name" /><br />
                            <br /><b>Age:</b><xsl:value-of select="blog/Profile/Age" /><br />
                            <br /><b>Birth Place :</b><xsl:value-of select="blog/Profile/BirthPlace" /><br />
                            <br /><b>Current Residence :</b><xsl:value-of select="blog/Profile/CurrentResidence" /><br />
                            <br /><b>Occupation :</b><xsl:value-of select="blog/Profile/Occupation" /><br />
                            <xsl:value-of select="blog/Profile/gender" />

                        </td>
                    </div>

                </tr>
            </table>

            <a href="#" onclick="commentToggle(this); return false;" title="Show Comments">Show comments</a>

        </body>

        </html>
    </xsl:template>
</xsl:stylesheet> 
```

*博客数据.xml：*

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<?xml-stylesheet type="text/xsl" href="blogData.xsl"?>
<blog xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="blogData.xsd">

    <Profile>
        <Name>Husna</Name>
        <Age>23</Age>
        <BirthPlace>Hyderabad, India.</BirthPlace>
        <CurrentResidence>Tempe, AZ.</CurrentResidence>
        <Occupation>Student</Occupation>
        <flag gender="f" />
    </Profile>

    <BlogEntries id="1">
        <ID>1</ID>
        <Title>Blog-1 : High Performance Web Sites</Title>
        <CreationTime>1999-12-04T20:12:00.000</CreationTime>
        <Description>
            Book Overview : The book has been written by Steve Souders,
            is one of the most elaborate one's discussing the performance parameters.
            In the words of Nate Koechley, Senior Frontend Engineer Yahoo! User Interface (YUI) Team,
            Platform. As a frontend engineer, you hold a tremendous amount of power and responsibility.
            Youre the users last line of defense.The decisions you make directly shape their experience.
            I believe our number one job is to take care of them and to give them what they wantquickly.
            This book is a toolbox to create happy users (and bosses, too).Best of all,
            once you put these techniques in placein most cases, a one-time tweakyoull be reaping the rewards far into
            the future.
        </Description>

        <Comments>
            <Comment>
                <Title>Comment - 1.1</Title>
                <Description>This is the first comment by the User written about the blog1</Description>
                <Creator>User - 1.1</Creator>
            </Comment>
            <Comment>
                <Title>Comment - 1.2</Title>
                <Description>This is the second comment by the User written about the blog1</Description>
                <Creator>User - 1.2</Creator>
            </Comment>
        </Comments>
    </BlogEntries>

    <BlogEntries id="2">
        <ID>2</ID>
        <Title>Blog-2 :The Importance of Frontend Performance</Title>
        <CreationTime>03-01-12, 9 AM</CreationTime>
        <Description>
            Most of my web career has been spent as a backend engineer.As such, I dutifully
            approached each performance project as an exercise in backend optimization, concentrating
            on compiler options, database indexes, memory management, etc.Theres
            a lot of attention and many books devoted to optimizing performance in these areas,
            so thats where most people spend time looking for improvements.In reality, for
            most web pages, less than 1020% of the end user response time is spent getting the
            HTML document from the web server to the browser.If you want to dramatically
            reduce the response times of your web pages, you have to focus on the other 8090%
            of the end user experience.What is that 8090% spent on? How can it be reduced?
            The chapters that follow lay the groundwork for understanding todays web pages
            and provide 14 rules for making them faster.
        </Description>

        <Comments>
            <Comment>
                <Title>Comment - 2.1</Title>
                <Description>This is the only comment by the User written about the blog2</Description>
                <Creator>User - 2.1</Creator>
            </Comment>
        </Comments>
    </BlogEntries>

    <BlogEntries id="3">
        <ID>3</ID>
        <Title>Blog-3 :Tracking Web Page Performance</Title>
        <CreationTime>02-01-2012, 6 PM</CreationTime>
        <Description>
            In order to know what to improve, we need to know where the user spends her time
            waiting.Figure A-1 shows the HTTP traffic when Yahoo!s home page (http://www.
            yahoo.com) is downloaded using Internet Explorer.Each bar is one HTTP request.
            The first bar, labeled html, is the initial request for the HTML document.Th e
            browser parses the HTML and starts downloading the components in the page.In
            this case, the browsers cache was empty, so all of the components had to be downloaded.
            The HTML document is only 5% of the total response time.The user spends
            most of the other 95% waiting for the components to download; she also spends a
            small amount of time waiting for HTML, scripts, and stylesheets to be parsed, as
            shown by the blank gaps between downloads.
        </Description>
        <Comments>
            <Comment>
                <Title>Comment - 3.1</Title>
                <Description>This is the first comment by the User written about the blog3</Description>
                <Creator>User - 3.1</Creator>
            </Comment>
            <Comment>
                <Title>Comment - 3.2</Title>
                <Description>This is the second comment by the User written about the blog3</Description>
                <Creator>User - 3.2</Creator>
            </Comment>
            <Comment>
                <Title>Comment - 3.3</Title>
                <Description>This is the third comment by the User written about the blog3</Description>
                <Creator>User - 3.3</Creator>
            </Comment>
        </Comments>
    </BlogEntries>

</blog> 
```

*索引.html：*

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-type" content="text/html; charset=ISO-8859-1" />
    <link rel="stylesheet" type="text/css" href="style.css"/>
    <!-- This is the user login page that authenticates users-->

    <title>View Blog Page</title>

    <script>

        function loadXMLDoc(fname)
        {
            var xmlDoc;
            // code for IE
            if (window.ActiveXObject)   
            { xmlDoc = new ActiveXObject("Microsoft.XMLDOM"); }
            //code for Mozilla, Firefox, Opera, etc.
            else if (document.implementation.createDocument)
            { xmlDoc = document.implementation.createDocument("", "", null); }
            else
            { alert('Your browser cannot handle this script'); }
            xmlDoc.async=false;
            xmlDoc.load(fname);
            return(xmlDoc);
        }

        function displayResult()
        {
            xml=loadXMLDoc("blogData.xml");
            xsl=loadXMLDoc("blogData.xsl");
            // code for IE
            if (window.ActiveXObject)
            {
            ex = xml.transformNode(xsl);
            document.getElementById("example").innerHTML = ex;
            }
            // code for Mozilla, Firefox, Opera, etc.
            else if (document.implementation.createDocument)
            {
            xsltProcessor = new XSLTProcessor();
            xsltProcessor.importStylesheet(xsl);

            resultDocument = xsltProcessor.transformToFragment(xml,document);
            document.getElementById("example").appendChild(resultDocument);
            }
        }

        function commentToggle(linkToToggleCommentsElem)
        {
            if (document.getElementsByClassName)
            {
                var elems = document.getElementsByClassName("commentBlock");
                var wasHidden;

                for (var i = 0; i < elems.length; i++)
                {
                    var currentElement = elems[i];
                    wasHidden = currentElement.style.display == "none";
                    currentElement.style.display = wasHidden ? "block" : "none";
                }

                if (wasHidden)
                {
                    linkToToggleCommentsElem.innerHTML = "Hide Comments";
                }
                else
                {
                    linkToToggleCommentsElem.innerHTML = "Show Comments";
                }
            }
            else
            {
                // TODO - use jQuery? Or write your own implementation...
            }
        }

    </script> 
</head>

<body  id="example" onLoad="displayResult()">

</body>

</html> 
```

希望它是相当不言自明的，但如果不是：

*   我已经删除了在页面底部为每篇博客文章添加“显示评论”链接的原始脚本块
*   添加了硬编码链接以显示（切换）评论块
*   重命名原始方法以显示/隐藏评论并将其移至 index.html
*   假设浏览器有一个 getElementsByClassName 的实现，如果不是这种情况（IE 概率），请查看[jQuery](http://api.jquery.com/class-selector/)之类的东西或编写自己的自定义函数

有任何问题，请提出。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T09:32:52.567

对我来说，您似乎有多个 ID 为“toggleText”的节点。因此，当您 getElementByID("toggleText") 时，您只会得到第一次回击。所以解决这个问题的方法是通过 XSL 对注释块进行编号，并将其提供给 javascript hide 函数，以指定应该隐藏的节点。

```
function CommentHide(showHideLink) {

// comment DIV comes right after show hide A node
var commentDivNode = showHideLink.nextSibling; 

if(commentDivNode .style.display == "block") {
    commentDivNode.style.display = "none";
    showHideLink.innerHTML = "show Comments";
}
else {
    commentDivNode .style.display = "block";
    showHideLink.innerHTML = "hide";
}
} 
```

然后，再往下，通过使用传递对调用 A 节点的引用`self`。您应该能够省略 javascript 代码并用此 A 节点替换它：

```
<a href="javascript:CommentHide(self)"> Show Comments </a>
<div style="display: none">
    ...
</div> 
```

# asp.net - 从列表视图中获取文本框的新值

> ID：10137421
> 
> 赞同：1
> 
> 时间：2012-04-13T08:16:21.373
> 
> 标签：asp.net, vb.net, listview

我正在生成一个带有文本框的列表视图。文本框值来自数据库。当我想检索文本框的新值时，我的问题就出现了。这是我单击保存按钮时所做的事情。

```
 For Each item In mylistview.Items
     Dim tbLgName As TextBox = CType(item.FindControl("tbLgName"), TextBox)
     // code to encode into db ...    
 Next 
```

问题是它获取文本框但使用旧值（来自数据库），我怎样才能获得新值？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-06T15:57:54.110

我遇到了同样的问题，发现这是因为我在我的 UpdatePanel 中添加了一个 OnLoad，它绑定了这个 ListView。它很容易修复，因为我不再使用这种方式，只是将其删除。对于其他人来说，它可能不那么容易修复，但可能有助于找出导致它的原因。

（是的，我知道这篇文章有多老了，但其他人可能会从中受益）

# containers - UIPageViewController 在容器视图控制器中的旋转

> ID：10137426
> 
> 赞同：6
> 
> 时间：2012-04-13T08:16:29.903
> 
> 标签：containers, uipageviewcontroller, screen-rotation

我有一个包含其他 ViewControllers 的 UIViewController。初始 ViewController 在 vi​​ewDidLoad 中设置：

```
FirstViewController *first = [FirstViewController alloc] init];
first.view.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;
first.view.frame = m_content.frame;

[self addChildViewController:first];
[m_content.view addSubview:first.view];
[first didMoveToParentViewController:self];
m_activeViewController = first; 
```

这个容器控制器已经实现了**自动ForwardAppearanceAndRotationMethodsToChildViewControllers**来返回YES。它还实现了对非活动视图控制器的手动正向旋转更改

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return YES;
}
- (void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration
{
    for(UIViewController *vc in m_viewControllers)
    {
        if(vc != [m_activeViewController]
            [vc willRotateToInterfaceOrientation:toInterfaceOrientation duration:duration];
    }
}
- (void)didRotateFromInterfaceOrientation:(UIInterfaceOrientation)fromInterfaceOrientation
{
    for(UIViewController *vc in m_viewControllers)
    {
        if(vc != [m_activeViewController]
            [vc didRotateFromInterfaceOrientation:fromInterfaceOrientation];
    }
} 
```

当点击菜单按钮时，我会在 ViewControllers 之间进行转换。

```
- (void)onMenuItemTapped:(id)sender
{
    UIViewController *vc = [m_viewControllers objectAtIndex:sender.tag];

    vc.view.frame = m_content.frame;
    [self addChildViewController:vc];
    [self transitionFromViewController:m_activeViewController toViewController:vc duration:0 options:UIViewAnimationOptionTransitionNone animations:nil completion:^(BOOL finished) {
    [vc didMoveToParentViewController:self];
    [m_activeViewController removeFromParentViewController];
    m_activeViewController = vc;
    }];
} 
```

这种过渡适用于我的“普通”视图控制器，并且它们在方向更改后正确显示，即使它们未处于活动状态。但是，其中一个称为 SecondCV 的子视图控制器将**UIPageViewController**作为子视图控制器。我将**UIPageViewControllerDelegate**和**UIPageViewControllerDataSource**设置为此 SecondCV 并在**pageViewController:spineLocationForInterfaceOrientation 中：**我为纵向返回 UIPageViewControllerSpineLocationMin，为横向返回 UIPageViewControllerSpineLocationMid。此 SecondVC 的旋转在其处于活动状态时可以正常工作 - 有两个页面在横向模式下，一个在纵向模式下正确显示。但是当这个 SecondVC 不活动时，旋转是不正确的。即使**调用了 pageViewController:spineLocationForInterfaceOrientation:**，Portrait 和 Landscape 模式下仍然有一个页面。我正在尝试解决此问题一段时间，但我没有看到任何其他选项。你有任何想法如何解决这个问题吗？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T16:44:49.343

我已经解决了这种棘手的问题。

实际上，SecondVC 已正确旋转，或者至少，脊椎位置已正确更改。因此，当我旋转设备并且 SecondVC 在父视图中不是活动视图控制器时，它已收到旋转消息并且**pageViewController** **:spineLocationForInterfaceOrientation:**也被调用。我为新的界面方向设置了正确的脊椎位置，并将 setViewControllers 称为**SecondVC**的页面视图控制器。问题是，即使我为**UIPageViewControllerSpineLocationMid**设置了两个视图控制器，在显示 SecondVC 之后仍然只有一个，就像在 UIPageViewControllerSpineLocationMin 中一样。

**我已经“解决”了这个问题，通过在viewWillAppear**中将视图控制器设置为页面视图控制器：再次，因为当调用此方法时，页面视图控制器的脊椎位置是正确的，并且基于此信息我设置了一个或两个页面（查看控制器）

```
- (void)viewWillAppear:(BOOL)animated
{
if(m_pageController.spineLocation == UIPageViewControllerSpineLocationMid)
{
    LeftPageController *left;
    RightPageController *right;
    if(m_pageController.viewControllers.count > 0)
    {
        left = [m_pageController.viewControllers objectAtIndex:0];

        right = [m_storyboard instantiateViewControllerWithIdentifier:@"rightPage"];
        [right loadView];
    }

    [m_pageController setViewControllers:[NSArray arrayWithObjects:left, right, nil] direction:UIPageViewControllerNavigationDirectionForward | UIPageViewControllerNavigationDirectionReverse animated:NO completion:nil];

    [m_left hideGallery];
}

if(m_pageController.spineLocation == UIPageViewControllerSpineLocationMin)
{

    [m_pageController setViewControllers:[NSArray arrayWithObject:[m_pageController.viewControllers objectAtIndex:0]] direction:UIPageViewControllerNavigationDirectionForward | UIPageViewControllerNavigationDirectionReverse animated:NO completion:nil];
}

[super viewWillAppear:animated];
}

- (UIPageViewControllerSpineLocation)pageViewController:(UIPageViewController *)pageViewController spineLocationForInterfaceOrientation:(UIInterfaceOrientation)orientation
{
if(UIInterfaceOrientationIsPortrait(orientation))
{
    LeftPageController *left = [pageViewController.viewControllers objectAtIndex:0];
    [pageViewController setViewControllers:[NSArray arrayWithObject:left] direction:UIPageViewControllerNavigationDirectionForward | UIPageViewControllerNavigationDirectionReverse animated:NO completion:nil];

    pageViewController.doubleSided = NO;     

    return UIPageViewControllerSpineLocationMin;
}

if(UIInterfaceOrientationIsLandscape(orientation))
{    
    LeftPageController *left;
    RightPageController *right;
    if(pageViewController.viewControllers.count > 0)
    {
        left = [pageViewController.viewControllers objectAtIndex:0];
        right = [m_storyboard instantiateViewControllerWithIdentifier:@"rightPage"];
        [right loadView];
    }

    [pageViewController setViewControllers:[NSArray arrayWithObjects:left,right, nil] direction:UIPageViewControllerNavigationDirectionForward | UIPageViewControllerNavigationDirectionReverse animated:NO completion:nil];

    return UIPageViewControllerSpineLocationMid;
}

return UIPageViewControllerSpineLocationMin;
} 
```

我知道我做了两次同样的事情，但这就是我在这种情况下愿意付出的代价。为什么在调用**pageViewController:spineLocationForInterfaceOrientation:**并为 Landscape 设置两个视图控制器后，当 SecondVC 处于非活动状态时，**viewWillAppear:**中的 m_pageController 中只有一个 ViewController：激活 SecondVC 后对我来说仍然是一个谜。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T12:04:32.610

我在 iOS 6 中包含以下代码来解决此问题：

```
- (UIPageViewControllerSpineLocation)pageViewController:(UIPageViewController *)pageViewController spineLocationForInterfaceOrientation:(UIInterfaceOrientation)orientation
{

    NSArray *allPageControllers = pageViewController.viewControllers

    if (allPageControllers != nil) {
       [self setViewControllers:allPageControllers direction:UIPageViewControllerNavigationDirectionForward animated:NO completion:nil];
    }

    else {

       UIViewController *defaultViewController = [[UIViewController alloc] init];
       [self setViewControllers:[NSArray arrayWithObject:defaultViewController] direction:UIPageViewControllerNavigationDirectionForward animated:NO completion:nil];
       [defaultViewController release];
    }

    return UIPageViewControllerSpineLocationMin;
} 
```

希望它可以帮助某人！

# php - 如何运行长时间运行的php进程

> ID：10137427
> 
> 赞同：0
> 
> 时间：2012-04-13T08:16:32.583
> 
> 标签：php, timeout

我正在使用一些提供大量数据的 Web 服务。WS 回复的时间使我们下载它包含的数据（每天，作为 cronjob）。

但是，我在测试脚本以解析数据时遇到了困难。整个脚本可能会运行大约 1-2 小时。几分钟后脚本被打断。浏览器返回文件下载提示（文件名：“name_of_action”，不带扩展名）。

我在 apache 服务器（具体来说是 Zend 服务器）中将其作为网络服务器脚本运行。试过：

```
set_time_limit(0); 
ignore_user_abort(); 
```

并在 php.ini 中设置较长的执行时间 - 没有任何帮助。脚本不断被打断。

最好的问候，并提前感谢任何帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:24:23.407

如果您仍想坚持使用 PHP 来完成此类任务，您应该考虑通过 PHP cli 在服务器 shell 中执行您的脚本。

此外，还有一些工具可以帮助您在后台运行脚本，例如[屏幕](http://www.manpagez.com/man/1/screen/)，甚至可以通过 cronjob 执行。

# php - Phpmyadmin 冻结查询，数据库太大？

> ID：10137430
> 
> 赞同：2
> 
> 时间：2012-04-13T08:16:56.050
> 
> 标签：php, mysql, phpmyadmin

我有两张桌子（一张有 33k 行，另一张有 7k 行）。我想比较这两个表并删除两个 id 不匹配的行。但是当我发送查询时，它会冻结 phpmyadmin。桌子会不会太大？

```
SELECT * FROM likes LEFT OUTER JOIN uploads on likes.upload_id = uploads.upload_id WHERE uploads.upload_id IS NULL 
```

我知道数据库旨在处理数百万个数据，所以我不确定错误在哪里。

最好的问候， 马蒂亚斯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:24:32.680

我会做一个解释，这样你就可以看到 mysql 做了什么。这将很好地指示使用了多少行。

```
EXPLAIN SELECT * FROM likes LEFT OUTER JOIN uploads on likes.upload_id = uploads.upload_id WHERE uploads.upload_id IS NULL 
```

您还可以使用另一个浏览器或另一个会话来使用 show processlist 来查看查询是如何执行的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T08:38:38.347

表可能不是太大，但如果脚本需要很长时间才能完成，PhpMyAdmin 的查询超时可能是一个问题。尝试[更改超时](http://situsnya.wordpress.com/2008/09/11/change-script-timeout-in-phpmyadmin/)或根本不使用 PhpMyAdmin。看看您是否能够使用服务器（或其他工具）上的命令行进行查询。

也可以看看：

*   [如何通过 phpmyadmin 导入非常大的查询？](https://stackoverflow.com/questions/427297/how-to-import-a-very-large-query-over-phpmyadmin)
*   [Mysql phpMyadmin 超时问题](https://stackoverflow.com/questions/5499116/mysql-phpmyadmin-timeout-question)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-19T10:33:59.110

冻结是否暗示它正在工作但从不更新/从不“完成”任务？

如果是这样，
我有过类似的事情，发现它们是由于一列上有多个索引，例如一列有一个 PRIMARY 索引和一个以该列命名的索引，所以检查你的索引

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-11-16T04:54:00.067

我有时会运行可能需要几个小时才能处理的大型导入“查询”。（我取消勾选“部分导入 -> 允许中断导入...”。）

phpMyAdmin 不会在我开始查询的浏览器中响应，即使我尝试重新加载页面，但是如果我使用（我假设）不同 IP 地址的另一台机器上的浏览器，phpMyAdmin 响应很好。

然后，在另一个浏览器上，我发出 SQL 命令`SHOW FULL PROCESSLIST`来[监视](https://stackoverflow.com/questions/3638689/how-to-see-full-query-from-show-processlist)并在需要时终止那个长时间运行的查询。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-10-03T05:29:13.557

您可以取消选中导入中的两个选项

1 - 如果脚本检测到它接近 PHP 超时限制，则允许中断导入。（这可能是导入大文件的好方法，但它可能会破坏事务。）

2-启用外键检查

# java - 继承的一般混淆——Java

> ID：10137435
> 
> 赞同：1
> 
> 时间：2012-04-13T08:17:15.257
> 
> 标签：java, generics

所以我会为你省去巨大的代码块，直奔主题。我有两个类：一个是基础“AbstractNode”类，另一个是“TokenRingNode”类。AbstractNode 的签名是这样的：

```
public abstract class AbstractNode <E extends NetworkEvent> 
```

然后是 TokenRingNode 的签名：

```
public class TokenRingNode extends AbstractNode<TokenRingEvent> 
```

我在 AbstractNode 中有一个方法是：

```
public abstract void createEvent(AbstractNode<E> destinationNode); 
```

我也试过：

```
public abstract <N extends AbstractNode<E>> createEvent (N destinationNode) 
```

然后在 TokenRingNode 中，我重写了这个抽象方法：

```
public void createEvent(TokenRingNode destinationNode) { ... } 
```

问题是，编译器不相信这是一个有效的覆盖，我不确定为什么。TokenRingNode 扩展了 Abstract，所以有人可以向我说明为什么这个方法不是有效的覆盖吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:20:02.457

这不是一个有效的覆盖，但不是因为泛型。

如果您有一个`AbstractNode`，那么可以合理地期望您应该能够`createEvent()`使用另一个`AbstractNode`作为参数来调用它。但是你永远不会在`TokenRingNode`.

例如暂时忽略泛型：

```
AbstractNode n1 = new TokenRingNode();
AbstractNode n2 = new TokenRingNode();
n1.createEvent(n2); // this should work by the contract of AbstractNode, but you never define it 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T08:49:34.287

您可以尝试在 AbstractNode 中为此定义两个泛型：

```
public abstract class AbstractNode <E extends NetworkEvent, A extends AbstractNode>
...
public abstract void createEvent(A destinationNode); 
```

然后将其子类为

```
public class TokenRingNode extends AbstractNode<TokenRingEvent, TokenRingNode> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-13T08:49:26.170

您需要向 AbstractNode 添加一个更通用的类型，因为事件和目标节点可以有两种不同的类型：

```
public abstract class AbstractNode <E extends NetworkEvent, N extends AbstractNode<E, N>>
{
    public abstract void createEvent(N destinationNode);
} 
```

然后这将编译：

```
public class TokenRingNode extends AbstractNode<TokenEvent, TokenRingNode>
{
    public void createEvent(TokenRingNode destinationNode){
    }
} 
```

你不能只做

```
public abstract <N extends AbstractNode<E>> createEvent (N destinationNode) 
```

因为然后您声明 createEvent 方法以接受 ANY AbstractNode<E extends NetworkEvent> 作为参数。但是您希望它只接受 TokenRingEvent，这就是您需要将类型声明推高一级的原因。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-13T08:20:52.173

问题是超类合同承诺它接受`AbstractNode<E>`作为参数，但是，你期望一个`TokenRingNode` 特别的，它只是那些（所以它承诺接受的子类的子类。因此你的子类接受的类比超类少合同承诺。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-13T08:53:25.850

`AbstractNode<TokenRingEvent>`不一定是 a`TokenRingNode`因此你不能覆盖

```
public abstract void createEvent(AbstractNode<TokenRingEvent> destinationNode); 
```

和

```
public void createEvent(TokenRingNode destinationNode); 
```

它与泛型/类型擦除无关，签名只是不同。A`AbstractNode<TokenRingEvent> destinationNode`不是 a `TokenRingMode`（但相反，是的）。

# c# - SolrNet 模糊搜索多于一个词

> ID：10137437
> 
> 赞同：1
> 
> 时间：2012-04-13T08:17:26.603
> 
> 标签：c#, lucene, solrnet, fuzzy-search

我是 Solr 的新手，我想用 SolrNet 进行全文搜索。所以我以前用过MySql全文搜索，而且速度很慢。我找到了 Solr 解决方案。这是非常快速和可扩展的。但我不能在 Solr 中进行模糊搜索。我怎样才能做到这一点？我的例子和目标如下。原谅我的英语不好，谢谢你的建议。

我可以用一个词（文章）进行模糊搜索：例如：

```
var solr = ServiceLocator.Current.GetInstance<ISolrOperations<Article>>();
List<Article> search = solr.Query(new SolrQuery("segsource:article~") ).Cast<Article>().ToList(); 
```

但我想搜索的不仅仅是一个词（文章名称，bla bla bla - 就像 >

```
mysql> SELECT * FROM articles WHERE MATCH (title,body)
    -> AGAINST ('more than one word bla bla bla'); 
```

）。例如

```
var solr = ServiceLocator.Current.GetInstance<ISolrOperations<Article>>();
List<Article> search = solr.Query(new SolrQuery("segsource:article name ~") ).Cast<Article>().ToList(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T17:16:06.227

我会看看是否有更好的方法来做到这一点，但与此同时，以下方法对我有用。

segsource:(文章~名字~)

IE，您必须将查询拆分为空格并重新加入它们，并在每个空格上插入 tilda。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:40:53.483

我从来没有使用过 SolrNet，但是这样的东西会产生与你相关的任何东西：

```
new SolrQuery("segsource:article~ AND segsource:name~") 
```

# android - 如何在android的FrameLayout中显示一个活动

> ID：10137440
> 
> 赞同：0
> 
> 时间：2012-04-13T08:17:28.070
> 
> 标签：android, android-framelayout

我已经搜索过这个但无法得到解决方案。

我在一个活动中创建了 3 个选项卡（使用按钮）。每当我单击一个按钮时，相应的活动应显示在选项卡下方。我知道这可以通过 Tab Host 实现，但我不想使用它。如果我在选项卡下方声明一个框架布局，我如何将框架布局的内容设置为我想要的 Activity？我正在开发 Android 2.2。

请为此提供解决方案。

更新：我想在 TabHost 中有类似这样的自定义选项卡。 ![在此处输入图像描述](../Images/7056a88cb2b5403440a6c77697a663f8.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:21:04.123

如果没有 TabHost 或其他 Tab 容器，您将无法拥有此功能。

如果您想拥有这种功能，一个解决方案可能是让 3 个活动具有相同的顶部“选项卡”并每次启动各自的活动，正确调整选定的“选项卡”并处理活动生命周期。

希望这可以帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:26:54.337

实现这一点的正确方法是将您的 Activity（FrameLayout 中的那个）替换为[`Fragment`](http://developer.android.com/reference/android/app/Fragment.html). 要在 Android 2.2 中使用 Fragment，您必须使用[`support package`](http://developer.android.com/sdk/compatibility-library.html).

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-13T08:30:52.383

`Fragment`对于这种行为，我会考虑转移到s 。这样，您可以将一个设置`(Fragment)Activity`为构成实际内容的三个片段的主机。用另一个片段替换一个片段很容易。

由于您正在为 pre-Honeycomb 开发，请查看[支持库](http://developer.android.com/sdk/compatibility-library.html)，它提供了向后兼容（从我的头顶到 1.6）实现。如果您以前没有使用过 Fragment，那么您也值得花时间阅读一些与支持库相关的[API 演示，以及](http://developer.android.com/resources/samples/Support4Demos/index.html)[Fragments Fundamentals](http://developer.android.com/guide/topics/fundamentals/fragments.html)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-13T09:39:34.053

你好使用 ViewPager 而不是 tabhost。[这是viewpager Android ViewPager](http://manishkpr.webheavens.com/android-viewpager-example/)的示例和示例

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-13T09:59:00.280

使用[Actionbarsherlock](http://actionbarsherlock.com/index.html)它提供了你正在寻找的东西，你不需要创建自己的标签......这个库有很多不错的功能

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-07-08T11:35:45.660

您的活动应该扩展`FragmentActivity`并且在其中，您应该创建一个扩展的类，`FragmentPagerAdapter`因为您应该使用`ViewPager`.and 对于每个`tab`您应该创建其各自的`Fragment`

# c# - MVC业务逻辑访问模型

> ID：10137441
> 
> 赞同：2
> 
> 时间：2012-04-13T08:17:38.817
> 
> 标签：c#, asp.net-mvc

我目前在使用实体框架时在 ASP.NET MVC 4 中工作。我以前从未使用过 MVC，并且构建了一个包含以下层的项目：

*   GUI（模型、**视图、控制器**……）

*   DAL（实体数据库和存储库 + IRepository）

*   BL（我的疑问）

*   常见的

*   WCF

*   测试

现在，我正在尝试在我的 BL 中编写一个查询，该查询使用来自我的 GUI 层的模型。由于您不能简单地参考 GUI，我真的不知道在这里做什么。

这是我正在尝试的代码：

在我的 BL 中：

```
public static List<PSNAdres> GetAdres(IZoekRepository repo)
{
    List<PSNAdres> lijstTypes = (from t in repo.PSNAdres
                      select new PSNAdres {t.Gemeente, t.Straat, t.Postcode}).ToList(); 

    return lijstTypes;
} 
```

**正如我所说：我是 MVC 的新手。这个层布局是我们的 MVC 专家告诉我们使用的，因为这就是他的工作方式。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:57:06.153

我不确定你要求什么，但这是我的答案。显示地址列表的简单场景：

查看型号：

```
public class AddressListViewModel 
{
    public List<AddressViewModel> AddressList { get; set; }
    public bool CanAdd { get; set; }
}

public class AddressViewModel
{
    public string Country { get; set; }
    public string City { get; set; }
    public string Street { get; set; }
    public bool CanEdit { get; set; }
    public bool CanDelete { get; set; }
} 
```

提单：

```
public static List<Address> GetAddressList()//Doesn't take repository here, repositories are injected in constructor
{
    return adresRepo.PSNAdres.ToList(); 
} 
```

控制器

```
public class AddressController : BaseController
{
    public ActionResult List()
    {
        var addressList = blObject.GetAddressList();
        var model = new AddressListViewModel();
        model.AddressList = addressList.Select(a => 
            new AddressViewModel 
            {
                Country = a.Country.Name,
                City = a.City,
                Street = a.Street,
                CanDelete = ...check user access here...,
                CanEdit = ...check user access here...
            });

        model.CanAdd = ...check user access here...

        return View(model);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T09:27:52.193

您的 GUI 层只是其他层提供的功能的消费者。

结果，您的问题源于将模型放在其中。如果要将项目拆分为层，则应移动模型！

Visual Studio 创建的默认项目仅在 GUI 层中具有模型，以应对人们不打算将 GUI 项目拆分为层的情况。即，初学者。它与 MVC 方法无关。在拆分层时，您应该将模型移动到“域层”（见下文）。

**因此，事不宜迟，将模型移出 GUI 层。**

比您的设计更实用的方法是遵循 Steve Sanderson 和 Adam Freeman 倡导的域设计（Pro ASP.NET MVC 3.0 Framework，Apress [第 4 版的书尚未出版]）。它与您的设计相似，但更实用。在不深入细节的情况下，在这种方法中，您将模型和业务层分离到一个领域项目中。这为您提供了更实用的设计。

除非您有特定要求，否则我认为 WCF 也可能是矫枉过正。MVC 旨在在您需要的地方提供面向服务的方法。

我建议阅读 S Sanderson 和 A Freeman 的书。它会让你免于很多痛苦。

# java - 监视目录和子目录已更改

> ID：10137442
> 
> 赞同：0
> 
> 时间：2012-04-13T08:17:46.937
> 
> 标签：java

我已经制作了一些代码来检测目录中的更改，`C:/my_dir`它工作得很好。（[我按照这个链接](http://docs.oracle.com/javase/tutorial/essential/io/notification.html)）

但我也需要观察者检测所有子目录中的变化。

有`C:/my_dir/*`什么想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:27:20.170

您正在寻找的是递归。

您需要遍历目录中的每个子目录...伪代码：

```
function iteratePath(File root, List<File> registerMe) {
      if (root!= null && root.isDirectory())  {
          registerMe.add(root);
          for (File f : root.listFiles()) {
              iteratePath(f, registerMe);
          }
      }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T08:52:31.730

使用 Watch Service API，您必须为每个子目录注册一个单独的 watch。

我不确定您是否只想查看根目录的子目录，还是根目录下的整个目录树。

如果是前者，可以使用`Files.newDirectoryStream()`遍历目录的子目录：

```
for (Path subDir : Files.newDirectoryStream(rootPath,
        new DirectoryStream.Filter<Path>() {
            @Override
            public boolean accept(Path entry) throws IOException {
                return Files.isDirectory(entry);
            }
        }) {
    // add watcher
} 
```

如果是后者，那么您可以使用该`Files.walkFileTree()`方法代替。事实上，这就是他们在您链接到的示例中所做的事情。查看[WatchDir.java](http://docs.oracle.com/javase/tutorial/displayCode.html?code=http://docs.oracle.com/javase/tutorial/essential/io/examples/WatchDir.java)`registerAll()`中的方法。

不要忘记，如果稍后出现新的子目录，您可能还想为此添加一个观察者。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-13T08:54:07.377

您可能需要考虑使用Apache Commons IO 库中的[FileAlterationMonitor](http://commons.apache.org/io/apidocs/org/apache/commons/io/monitor/FileAlterationMonitor.html)。API 相当容易使用，这里有一些[示例](http://www.devdaily.com/java/jwarehouse/commons-io-2.0/src/test/java/org/apache/commons/io/monitor/FileAlterationMonitorTestCase.java.shtml)。

# c++ - 为什么不能以与指针相同的方式返回 const 引用？

> ID：10137444
> 
> 赞同：0
> 
> 时间：2012-04-13T08:17:51.487
> 
> 标签：c++, pointers

如果我们从函数返回指针，我们可以写

```
const X* f(); 
```

或者

```
X* const f(); 
```

，以这种方式控制是否可以重新分配指针或是否可以在内部修改类。但是在返回引用时，这两个似乎具有相同的含义：

```
const X& f();
X& const f(); 
```

似乎不可能返回可以修改 X 的引用，但不能重新分配它？如果这确实是不可能的，当指针在这个领域看起来很有效时，我们为什么要返回引用呢？

更新：正如所指出的，不能重新分配引用。然而，这让我更加困惑，因为下面的代码打印 33 55，而不是我期望的 33 33。那与不能重新分配引用的匹配如何？

```
struct X
{
   X(int i_) { i = i_;} 
   int i;
};

struct Y
{
    X& get2() {tmp2 = new X(55); return *tmp2;} 
    X& get() {tmp = new X(33); return *tmp;}    
    void print () {cout << tmp->i << endl;}
    X* tmp;
    X* tmp2;
};

int _tmain(int argc, _TCHAR* argv[])
{
    Y y;    
    X& tmp2 = y.get2();
    X& tmp = y.get();       
    y.print();
    tmp = tmp2;
    y.print();
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-04-13T08:22:14.527

**似乎不可能返回可以修改 X 的引用，但不能重新分配它？**

永远不能重新分配引用。他们一直引用他们在初始化时绑定的同一个引用。

**当指针在这方面看起来很有效时，我们为什么要返回引用？**

引用的使用更直观，函数的调用者可以像使用变量一样简单地使用引用，这与用户必须处理取消引用等的指针不同。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T08:51:51.473

重新更新问题：当你做 tmp = tmp2; 在 main 函数中，您没有将 tmp2 的引用分配给 tmp。相反，您正在复制整个对象。

要看到这一点，给 X 复制构造函数打印一些东西。像这样的东西应该工作：

```
X(X& that)
{
    std::cout << "X is being copied" << std::endl;
    *this = that;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-13T08:21:37.057

你的前两个例子不一样。你可能是说

```
const X* f();
X const* f(); 
```

实际上，您可以使用引用编写相同的内容：

```
const X& f();
X const& f(); 
```

声明`X* const f();`没有多大意义。无论如何，您都无法更改返回的指针。这只是一个值。您可以使用该值 (ie `f()->foo()`) 或存储它 (ie `X* copy = f();`)。如果您存储该值，则 const-ness 仅取决于您存储该值的变量，而不是值本身。比较`int x = 4;`-`x`不会因为`4`是常数而成为 const。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-13T08:41:23.387

> 似乎不可能返回可以修改 X 的引用，但不能重新分配它？

的确。引用是变量的别名，不能被重新定位（即，更改为另一个变量的别名）。

> 如果这确实是不可能的，当指针在这个领域看起来很有效时，我们为什么要返回引用呢？

与其说是效力问题，不如说是语义和责任问题。

一个指针：

*   可能为*空*
*   可能意味着您需要拥有该对象的所有权（即，它是由创建的`new`并且*您*必须处置它）

引用没有这些问题，因此**更简单**。而且*简单是好的*。因此，当您不需要指针的强大功能时，请省去它的麻烦并使用引用。

# java - 不在 Spring WS SOAP 正文中转义字符

> ID：10137450
> 
> 赞同：3
> 
> 时间：2012-04-13T08:18:12.007
> 
> 标签：java, xml, soap, apache-camel, spring-ws

我正在使用 Java 和 Spring-ws 构建 Web 服务。它工作正常，除了一件事。

当我组装要放入 SOAP 主体中的有效负载时，我想包含 CDATA 转义字符串。这就是我希望结果的样子：

```
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:_0="http://example.com/ns">
<soapenv:Header/>
<soapenv:Body>
 <_0:Message>
    <_0:StringPayload><![CDATA[<myxml>stuff</myxml>]]></_0:StringPayload>
 </_0:Message>
</soapenv:Body>
</soapenv:Envelope> 
```

但是，Spring-WS 在添加 SOAP 信封时似乎会篡改有效负载。这是我得到的结果：

```
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:_0="http://example.com/ns">
<soapenv:Header/>
<soapenv:Body>
 <_0:Message>
    <_0:StringPayload>&lt;myxml>stuff&lt;/myxml></StringPayload>
 </_0:Message>
</soapenv:Body>
</soapenv:Envelope> 
```

有没有办法确保 Spring WS 不会转义 XML 字符并尊重 CDATA 标记？

我将 Spring WS 与 Apache Camel 一起使用，因此我更喜欢不需要更改/扩展 spring-ws 类的解决方案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-09T12:43:44.330

我使用 MOXy 和 @XmlCDATA 注释来生成 CDATA 内容，实验表明 AxiomSoapMessageFactory 用转义的 XML 内容重新生成它（尽管 Jaxb2Marshaller 似乎产生了正确的 CDATA 内容）。

但是，它与 SaajSoapMessageFactory 配合得很好。

# c - strtok() 段错误

> ID：10137453
> 
> 赞同：1
> 
> 时间：2012-04-13T08:18:16.793
> 
> 标签：c, segmentation-fault, strtok

我已经看过其他问题等，我已经看到你在 strtok 中不能有第一个无法编辑的 arg，但我认为我在这段代码中没有，但仍然出现 seg 错误？我使用 strtok 错了吗？

此代码以 csv 逗号分隔格式获取标准输入，并将标准输入中的数字添加到标准输出中，ps 我让它在令牌不是指针时工作，例如。`i+= token;`但正如我所料，我得到了随机输出。

```
#include <stdio.h>
#include <string.h>
int main(){
char *token, input[256];
int i = 0;

scanf("%s" , input);
token = strtok (input, ",");

while(token != NULL){
    token = strtok(NULL, ","); 
    i += *token;

        }                

printf("%d\n", i);
return 0;
    } 
```

谢谢拉克兰

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-13T08:19:48.693

在某些时候`strtok`会返回`NULL`，您不会检查：

```
token = strtok(NULL, ","); 
i += *token; /* Will dereference NULL. */ 
```

相反，您应该这样做：

```
while(token != NULL){
    i += *token; /* We know `token` isn't NULL. */
    token = strtok(NULL, ","); 
} 
```

作为旁注，您正在做的事情 - 添加字符值 - 没有什么意义。你会想以某种方式转换它们，可能使用`strto(u)l`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:21:26.160

您需要先将字符串转换为整数，然后`i+=*token`再看一下函数，例如 `strtol`将字符串转换为整数。

# sitecore - Sitecore XSL 缓存

> ID：10137461
> 
> 赞同：0
> 
> 时间：2012-04-13T08:18:35.653
> 
> 标签：sitecore

嗨，谁能告诉我如何清除 Sitecore 6.2 中的 XSL 缓存。当我将我的 XSLT 代码文件从登台发布到生产时，我遇到了缓存问题，因为即使我之前没有打开特定的 URL，使用此 xslt 代码呈现的内容或图像也不会呈现。当我稍后使用 \sitecore\admin\cache.aspx 清除缓存时，我可以看到显示的内容。但是我不能建议我的客户在将新文件发布到生产环境时清除缓存。有什么方法可以清除 XSLT 文件完成的缓存。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T14:05:17.853

我不经常使用 XSL 渲染，但据我`XslWatcher`所知，当添加、删除、更改或重命名 XSL 文件时，应该清除 XSL 缓存。您能否确认您的 Web.config 中有以下配置元素？

在 system.web 或 system.webServer HTTP 模块中：

```
<add type="Sitecore.IO.XslWatcher, Sitecore.Kernel" name="SitecoreXslWatcher" /> 
```

在 /sitecore/watchers 中：

```
 <xsl>
    <folder>/</folder>
    <filter>*.xslt</filter>
  </xsl> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T10:06:27.607

您已经在做正确的事情：在将 XSLT 文件从登台发布到生产之后，您需要清除`\sitecore\admin\cache.aspx`页面的缓存。这是关于服务器端缓存的，因此它将清除所有访问者的缓存。

# scala - Scala REPL：查找给定类/特征的定义位置

> ID：10137462
> 
> 赞同：0
> 
> 时间：2012-04-13T08:18:41.940
> 
> 标签：scala

注意：以下讨论仅适用于 REPL。

如果我不知道某个给定类的完整包名，Eclipse 或 Netbeans 等 IDE 将有助于告诉我定义该类的可能路径。

示例我`foo.somePackage.someClass`在放入`SCALA_HOME\lib`目录的 jar 中定义了一些类。现在，当我这样做时`val a = new someClass`，Scala 找不到该课程。我需要做一个明确的`import foo.somePackage.someClass`.

`someClass`是否可以在无需事先知道的情况下找到所有定义的地方？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:42:05.537

据我所知，在纯 Scala REPL 中是不可能的。IntelliJ IDEA Scala 控制台可以自动导入必要的类[http://blog.jetbrains.com/scala/2011/10/19/scala-language-console-nika-builds/](http://blog.jetbrains.com/scala/2011/10/19/scala-language-console-nika-builds/)

# c# - 配置自托管 wcf 服务端点

> ID：10137463
> 
> 赞同：0
> 
> 时间：2012-04-13T08:18:47.950
> 
> 标签：c#, .net, wcf

我已经采取了设置托管端点的最基本示例... [http://msdn.microsoft.com/en-us/library/ms731758.aspx](http://msdn.microsoft.com/en-us/library/ms731758.aspx) ...从这里我想配置我的服务就像它在 IIS 中所做的那样......使用我的应用程序的配置文件。

在这种情况下，这似乎不是默认设置。

有任何想法吗？

编辑：

根据上面的链接，我有这样的东西......

```
// Create the ServiceHost.
using (ServiceHost host = new ServiceHost(typeof(HelloWorldService), baseAddress))
{
    // Enable metadata publishing.
    ServiceMetadataBehavior smb = new ServiceMetadataBehavior();
    smb.HttpGetEnabled = true;
    smb.MetadataExporter.PolicyVersion = PolicyVersion.Policy15;
    host.Description.Behaviors.Add(smb);

    // Open the ServiceHost to start listening for messages. Since
    // no endpoints are explicitly configured, the runtime will create
    // one endpoint per base address for each service contract implemented
    // by the service.
    host.Open();

    Console.WriteLine("The service is ready at {0}", baseAddress);
    Console.WriteLine("Press <Enter> to stop the service.");
    Console.ReadLine();

    // Close the ServiceHost.
    host.Close();
} 
```

现在我想使用配置分配“baseAddress”和 smb 对象信息。例如定义在[http://msdn.microsoft.com/en-us/library/ms733932.aspx](http://msdn.microsoft.com/en-us/library/ms733932.aspx) ...

```
<system.ServiceModel>

   <services>
   <!—- Define the service endpoints. This section is optional in the new
    default configuration model in .NET Framework 4\. -->
      <service>
         <endpoint/>
      </service>
   </services>

   <bindings>
   <!-- Specify one or more of the system-provided binding elements,
    for example, <basicHttpBinding> --> 
   <!-- Alternatively, <customBinding> elements. -->
      <binding>
      <!-- For example, a <BasicHttpBinding> element. -->
      </binding>
   </bindings>

   <behaviors>
   <!-- One or more of the system-provided or custom behavior elements. -->
      <behavior>
      <!-- For example, a <throttling> element. -->
      </behavior>
   </behaviors>

</system.ServiceModel> 
```

我的问题是，如果我使用浏览器浏览到配置的基地址，则端点不会按预期存在。

我没有收到任何错误，它的行为就像有一个活动端点......但它在哪里？

编辑2：附加信息：我使用的代码如上，我的配置文件看起来像这样......

```
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net"/>
    <section name="TaskServiceConfiguration" type="emedia.nemo.Configuration.XmlSerializerSectionHandler, emedia.nemo"/>
  </configSections>

  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.0"/>
  </startup>

  <TaskServiceConfiguration type="Emedia.TaskScheduler.Service.TaskServiceConfiguration, Emedia.TaskScheduler.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null">
    <PollInterval>5</PollInterval>
    <ServiceURL>http://localhost:10000/TaskSchedulerService.svc</ServiceURL>
  </TaskServiceConfiguration>

  <log4net>
    <appender name="FileAppender" type="log4net.Appender.FileAppender">
      <file value="log-file.txt"/>
      <appendToFile value="true"/>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date %-5level %logger - %message%newline"/>
      </layout>
    </appender>
    <appender name="DebugFileAppender" type="log4net.Appender.FileAppender">
      <file value="log-file.txt"/>
      <appendToFile value="true"/>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date %-5level %logger - %message%newline"/>
      </layout>
    </appender>
    <appender name="ColoredConsoleAppender" type="log4net.Appender.ColoredConsoleAppender">
      <mapping>
        <level value="ERROR"/>
        <foreColor value="Red"/>
      </mapping>
      <mapping>
        <level value="DEBUG"/>
        <foreColor value="Yellow"/>
      </mapping>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%-5level- %message%newline"/>
      </layout>
    </appender>
    <root>
      <level value="DEBUG"/>
      <appender-ref ref="FileAppender"/>
      <appender-ref ref="ColoredConsoleAppender"/>
    </root>
  </log4net>

  <system.diagnostics>
    <sources>
      <source name="System.ServiceModel.MessageLogging" switchValue="Warning, ActivityTracing">
        <listeners>
          <add name="Default" type="System.Diagnostics.DefaultTraceListener" />
          <add name="ServiceModelMessageLoggingListener" />
        </listeners>
      </source>
      <source name="System.ServiceModel" propagateActivity="true" switchValue="Warning, ActivityTracing">
        <listeners>
          <add name="Default" type="System.Diagnostics.DefaultTraceListener" />
          <add name="ServiceModelTraceListener" />
        </listeners>
      </source>
    </sources>
    <sharedListeners>
      <add name="ServiceModelMessageLoggingListener"
           initializeData="Web_messages.svclog"
           traceOutputOptions="Timestamp"
           type="System.Diagnostics.XmlWriterTraceListener, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"
           />
      <add name="ServiceModelTraceListener"
           initializeData="Web_tracelog.svclog"
           traceOutputOptions="Timestamp"
           type="System.Diagnostics.XmlWriterTraceListener, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"
           />
    </sharedListeners>
  </system.diagnostics>

  <system.serviceModel>
    <!-- Server side stuff -->
    <services>
      <service behaviorConfiguration="wsHttpBehaviour"
               name="Emedia.Messaging.Services.TaskSchedulerService">
        <endpoint address="http://localhost:10000/TaskSchedulerService.svc"
                  binding="wsHttpBinding"
                  bindingConfiguration="wsHttpBinding"
                  contract="Emedia.Messaging.Services.ITaskServiceContract"
                  />
      </service>
    </services>
    <behaviors>
      <serviceBehaviors>
        <behavior name="wsHttpBehaviour">
          <serviceMetadata httpGetEnabled="true" />
          <serviceDebug includeExceptionDetailInFaults="true" />
        </behavior>
        <behavior name="">
          <serviceMetadata httpGetEnabled="true" />
          <serviceDebug includeExceptionDetailInFaults="true" />
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <serviceHostingEnvironment multipleSiteBindingsEnabled="true"/>

    <!-- Client side stuff -->
    <bindings>
      <wsHttpBinding>
        <binding name="wsHttpBinding"
                 closeTimeout="00:01:00"
                 openTimeout="00:01:00"
                 receiveTimeout="00:10:00"
                 sendTimeout="00:01:00"
                 bypassProxyOnLocal="false"
                 transactionFlow="false"
                 hostNameComparisonMode="StrongWildcard"
                 maxBufferPoolSize="524288"
                 maxReceivedMessageSize="65536"
                 messageEncoding="Text"
                 textEncoding="utf-8"
                 useDefaultWebProxy="true"
                 allowCookies="false">
          <readerQuotas maxDepth="32"
                        maxStringContentLength="8192"
                        maxArrayLength="16384"
                        maxBytesPerRead="4096"
                        maxNameTableCharCount="16384"
                        />
          <reliableSession ordered="true"
                           inactivityTimeout="00:10:00"
                           enabled="false"
                           />
          <security mode="Message">
            <transport clientCredentialType="Windows"
                       proxyCredentialType="None"
                       realm=""
                       />
            <message clientCredentialType="Windows"
                     negotiateServiceCredential="true"
                     algorithmSuite="Default"
                     />
          </security>
        </binding>
      </wsHttpBinding>
    </bindings>

    <client>
      <endpoint address="http://localhost:10000/TaskSchedulerService.svc"
                binding="wsHttpBinding"
                bindingConfiguration="wsHttpBinding"
                contract="WCFTask.ITaskServiceContract"
                name="wsHttpBinding">
      </endpoint>
    </client>
  </system.serviceModel>
</configuration> 
```

编辑：有关范围的更多详细信息：

wcf 端点是在 Web 项目中定义的。Web 项目由托管它的实例的 Windows 服务引用。然后我有一个控制台应用程序，它引用并创建一个 Windows 服务实例以对其进行测试。

我的问题是关于让该控制台应用程序启动 Windows 服务，然后启动 WCF 端点，以便它可以在端点上进行调用，以便对我的解决方案执行一些端到端测试。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:53:28.543

**根据附加信息修改答案**

好的，如果我理解正确，您已经创建了一个 WCF Web 应用程序，以及一个单独的 Windows 服务，该服务创建了该 WCF 服务的实例。现在您正在尝试创建一个控制台应用程序来测试您的解决方案。

我认为你让事情变得比他们需要的更复杂。Windows 服务应该是调用 WCF 服务的客户端，或者它应该承载 WCF 服务本身。

在任何一种情况下，如果您正在编写一个控制台应用程序来对您的解决方案进行端到端测试，那么在我看来，控制台应用程序当然是*客户端*`ServiceHost`——正如我所说的，它与或托管无关服务。

只需从控制台应用程序中启动服务（或单独启动它并使其已运行），然后以与任何其他客户端相同的方式对 Windows 服务执行调用。

如果我仍然缺少某些东西，请告诉我，我会再试一次。我即将注销，所以请随时给我发电子邮件（我的地址在我的个人资料中），我明天会看看。

# c# - 在 .NET 应用程序中“重置”所有静态变量的最佳方式

> ID：10137467
> 
> 赞同：3
> 
> 时间：2012-04-13T08:19:14.067
> 
> 标签：c#, asp.net, static-members

除了可怕之外，如果我有一个 .NET webapp，它的静态变量分散在多个类中，那么将它们全部“清除”回 null 的最巧妙方法是什么。

在我的脑海中，这将是使用重新启动应用程序

```
System.Web.HttpRuntime.UnloadAppDomain() 
```

问题背后的原因 - 我们正在缓存一些非常大的 Dictionary 集合，这些集合的创建成本很高，并且偶尔需要重置。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-13T08:25:05.983

卸载听上去是最简单的方法，但你不想经常这样做；坦率地说，我会非常怀疑这样做的任何常规要求。

如果您想在*不*卸载的情况下执行此操作，则必须逐个查看以了解其含义。特别是，将静态构造函数/类型初始化程序/静态字段初始化程序设置为值的内容强制设置为 null 可能会彻底破坏您的应用程序。

请注意，静态变量很少适用于 Web 应用程序，也许缓存除外（然后必须小心管理）。

如果您确实有这样的数据，而不是多个静态变量，您可能会查看状态类上的*实例*变量，这有助于作为伪单例 - 那么您只有一个引用来交换每个数据集群。

*可能*值得考虑的事情是在某个地方有一个事件，静态代码**只能在初始化自己时订阅一次**，然后在需要时触发事件，即

```
myStaticData = new SomeExpensiveThreadSafeCacheDictionary();
GlobalKillSwitch.ResetCache += delegate { myStaticData.Clear(); }; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-09-24T09:14:37.943

我用这个

```
 public static void ResetAllStaticsVariables(Type type)
    {
        var fields = type.GetFields(BindingFlags.Static | BindingFlags.NonPublic | BindingFlags.FlattenHierarchy | BindingFlags.Public);
        foreach (var fieldInfo in fields)
        {
            fieldInfo.SetValue(null, GetDefault(type));
        }
    }

    public static object GetDefault(Type type)
    {
        if (type.IsValueType)
        {
            return Activator.CreateInstance(type);
        }

        return null;
    } 
```

# php - Symfony2 验证器，NotBlank 但允许 null

> ID：10137476
> 
> 赞同：7
> 
> 时间：2012-04-13T08:20:02.210
> 
> 标签：php, symfony, validation, silex

我在使用 Symfony2 验证器组件验证值以允许 NULL 但不允许空字符串时遇到问题。

我已将该组件集成到 Silex 应用程序中，并使用 Property Constraint 目标来验证我的应用程序实体（不是 Doctrine 实体）的一些属性。

我已将此静态方法添加到我的实体类中以验证实体上的名称和 service_id，问题是何时`service_id`为 NULL 应该是有效的`NotBlank`约束启动并报告违规。

```
static public function loadValidatorMetadata(ClassMetadata $metadata)
{
    // name should never be NULL or a blank string
    $metadata->addPropertyConstraint('name', new Assert\NotNull());
    $metadata->addPropertyConstraint('name', new Assert\NotBlank());

    // service_id should either be a non-blank string or NULL
    $metadata->addPropertyConstraint('service_id', new Assert\NotBlank());
} 
```

底线，我正在寻找如何允许 String 或 NULL 作为`service_id`但不允许空字符串。

PS：我也尝试过`MinLength(1)`约束，但不幸的是它允许空字符串。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-15T11:38:10.173

`NotBlank`约束被视为空白值，如[在此测试](https://github.com/symfony/symfony/blob/master/src/Symfony/Component/Validator/Tests/Constraints/NotBlankValidatorTest.php#L57)`null`中所见。

使用原则时，这可以通过使用[Valid](http://symfony.com/doc/current/reference/constraints/Valid.html)约束来解决。如果该字段的值不是`null`，它将尝试验证它。

由于您没有使用学说实体，您可能必须使用回调验证器或编写自己的约束。

# 编辑

要回答有关将回调约束添加为属性约束的新问题：不，不可能这样做。

回调约束作用于整个对象，而不仅仅是单个属性。这是一个如何使用回调约束的示例：

```
use Symfony\Component\Validator\Constraints as Assert;
use Symfony\Component\Validator\Mapping\ClassMetadata;
use Symfony\Component\Validator\ExecutionContext;

$app = new Silex\Application();

$app->register(new Silex\Provider\ValidatorServiceProvider());

class Person
{
    public $name;

    public function validateName(ExecutionContext $context)
    {
        if ('John Doe' === $this->name) {
            $context->addViolationAtPath('name', 'Name must not be "John Doe"');
        }
    }

    static public function loadValidatorMetadata(ClassMetadata $metadata)
    {
        $metadata->addConstraint(new Assert\Callback(array('validateName')));
        $metadata->addPropertyConstraint('name', new Assert\NotNull());
    }
}

$person = new Person();
$person->name = 'John Doe';
$violations = $app['validator']->validate($person);
var_dump('Violations for John Doe');
var_dump((string) $violations);

$person = new Person();
$violations = $app['validator']->validate($person);
var_dump('Violations for Person with name null');
var_dump((string) $violations);

$person = new Person();
$person->name = 'Igor Wiedler';
$violations = $app['validator']->validate($person);
var_dump('Violations for Igor Wiedler');
var_dump((string) $violations); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2019-02-02T08:44:01.837

对于在更高版本（4.3 及更高版本）上遇到此问题的任何人，您可以设置`allowNull = true`：

```
namespace App\Entity;

use Symfony\Component\Validator\Constraints as Assert;

class SomeEntity
{
    /**
     * @Assert\NotBlank(allowNull = true)
     */
    protected $someProperty;
} 
```

# git - 我可以列出已经定义的 bash 函数的源代码吗？

> ID：10137482
> 
> 赞同：1
> 
> 时间：2012-04-13T08:20:41.627
> 
> 标签：git, bash

我通过在不正确的目录中执行 git reset --hard head 意外地对我的 bash 配置进行了一些更改。特别是我使用的一些漂亮的功能。我有一个终端正在运行，它仍然加载了这些功能，我还能以某种方式从环境中重建它们吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:23:21.970

如果您将它们定义为文件中的函数，您的来源类似于，`.bashrc`或者`.profile`您应该能够使用 bash 的`type`命令。

```
$ type your_nifty_function 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T08:24:25.500

```
$ declare -f 
```

将列出当前 shell 中定义的*所有函数。*

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-13T08:24:50.267

```
declare 
```

`declare`将打印出所有定义的函数。（以及所有环境变量）。

```
alias 
```

`alias`将打印出所有定义的别名。

# python - 在 python 中使用 cx_Oracle 解析带有 PL/SQL 和 DML/DDL 的 SQL 文件

> ID：10137495
> 
> 赞同：5
> 
> 时间：2012-04-13T08:21:53.003
> 
> 标签：python, oracle, cx-oracle

我有一个 SQL 文件，我想使用`cx_Oracle`python 库在 oracle 中解析和执行它。SQL 文件包含经典的 DML/DDL 和 PL/SQL，例如。它看起来像这样：

`create.sql`：

```
-- This is some ; malicious comment
CREATE TABLE FOO(id numeric);

BEGIN
  INSERT INTO FOO VALUES(1);
  INSERT INTO FOO VALUES(2);
  INSERT INTO FOO VALUES(3);
END;
/
CREATE TABLE BAR(id numeric); 
```

如果我在 SQLDeveloper 或 SQL*Plus 中使用此文件，它将被拆分为 3 个查询并执行。

但是，cx_Oracle.connect(...).cursor().execute(...) 一次只能接受一个查询，而不是整个文件。我不能简单地使用拆分字符串`string.split(';')`（如此处建议[的从 cx_oracle 执行 sql 脚本文件？](https://stackoverflow.com/questions/7532534/execute-a-sql-script-file-from-cx-oracle)），因为注释都将被拆分（并会导致错误）并且 PL/SQL 块不会作为单个命令执行，因此导致错误。

在 Oracle 论坛（[https://forums.oracle.com/forums/thread.jspa?threadID=841025](https://forums.oracle.com/forums/thread.jspa?threadID=841025)）上，我发现 cx_Oracle 本身不支持解析整个文件。我的问题是——有没有工具可以为我做到这一点？例如。我可以调用一个 python 库来将我的文件拆分为查询？

编辑：最好的解决方案似乎直接使用 SQL*Plus。我用过这段代码：

```
# open the file
f = open(file_path, 'r')
data = f.read()
f.close()

# add EXIT at the end so that SQL*Plus ends (there is no --no-interactive :(
data = "%s\n\nEXIT" % data

# write result to a temp file (required, SQL*Plus takes a file name argument)
f = open('tmp.file', 'w')
f.write(data)
f.close()

# execute SQL*Plus
output = subprocess.check_output(['sqlplus', '%s/%s@%s' % (db_user, db_password, db_address), '@', 'tmp.file'])

# if an error was found in the result, raise an Exception
if output.find('ERROR at line') != -1:
    raise Exception('%s\n\nStack:%s' % ('ERROR found in SQLPlus result', output)) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-13T08:46:10.127

可以同时执行多个语句，但它是半hacky。您需要包装您的语句并一次执行一个。

```
>>> import cx_Oracle
>>>
>>> a = cx_Oracle.connect('schema/pw@db')
>>> curs = a.cursor()
>>> SQL = (("""create table tmp_test ( a date )"""),
... ("""insert into tmp_test values ( sysdate )""")
... )
>>> for i in SQL:
...     print i
...
create table tmp_test ( a date )
insert into tmp_test values ( sysdate )
>>> for i in SQL:
...     curs.execute(i)
...
>>> a.commit()
>>> 
```

正如您所指出的，这并不能解决分号问题，对此没有简单的答案。在我看来，您有 3 个选项：

1.  编写一个过于复杂的解析器，我认为这根本不是一个好的选择。

2.  不要从 Python 执行 SQL 脚本；将代码放在单独的 SQL 脚本中，因此解析很容易，在单独的 Python 文件中，嵌入在 Python 代码中，在数据库中的过程中......等等。这可能是我的首选选项。

3.  以这种方式使用`subprocess`和调用脚本。这是最简单和最快的选择，但根本不使用`cx_Oracle`。

    ```
    >>> import subprocess
    >>> cmdline = ['sqlplus','schema/pw@db','@','tmp_test.sql']
    >>> subprocess.call(cmdline)

    SQL*Plus: Release 9.2.0.1.0 - Production on Fri Apr 13 09:40:41 2012

    Copyright (c) 1982, 2002, Oracle Corporation.  All rights reserved.

    Connected to:
    Oracle Database 11g Release 11.2.0.1.0 - 64bit Production

    SQL>
    SQL> CREATE TABLE FOO(id number);

    Table created.

    SQL>
    SQL> BEGIN
      2    INSERT INTO FOO VALUES(1);
      3    INSERT INTO FOO VALUES(2);
      4    INSERT INTO FOO VALUES(3);
      5  END;
      6  /

    PL/SQL procedure successfully completed.

    SQL> CREATE TABLE BAR(id number);

    Table created.

    SQL>
    SQL> quit
    Disconnected from Oracle Database 11g Release 11.2.0.1.0 - 64bit Production
    0
    >>> 
    ```

# jquery - 传递函数名称，然后在事件处理程序中使用

> ID：10137506
> 
> 赞同：4
> 
> 时间：2012-04-13T08:22:38.493
> 
> 标签：jquery, function, event-handling

我想要做的是将函数 (X) 的名称作为参数传递给函数 Y，然后让函数 Y 创建一个触发函数 X 的事件处理程序。

我希望函数 Y 创建以下内容：

```
$('#form').submit(function(e){e.preventDefault();X();}); 
```

我试过了：

```
var name="X()";
X(name);

function Y(id){
    $('#element').submit(function(e){e.preventDefault();id;});
} 
```

可以预见的是，这是行不通的。（我真的不相信它会！）但是如何做到这一点，要么（1）按照我的方式去做，要么（2）将整个 X 函数 wholus-bolus 传递给 Y？

谢谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-04-13T08:25:17.997

[~~如果您感到怀疑~~，这里有一个演示（听起来更好）：D](http://jsfiddle.net/FeJ8x/)

```
//create x
function x(){
    alert('im from x');
}

//create y that receives the function
function y(callback){

    //bind your handler which calls callback (which was x)
    $('element').submit(function(){
        callback();
    });
}

//call y that sends over a reference of x
y(x); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:28:25.867

你的 X 对象必须是一个函数，而不是一个字符串。

```
function X() { /*code*/ } 
```

您可以通过在 X 末尾返回 false 来阻止默认操作；

```
function X() { 
  /*code*/ 
  return false;
} 
```

您可以在另一个函数中使用它，如下所示：

```
function Y(callback){
  $('#element').submit(callback);
}
Y(X); 
```

# c - 他们是如何编写第一个 IDE 的？

> ID：10137508
> 
> 赞同：4
> 
> 时间：2012-04-13T08:22:59.570
> 
> 标签：c

如果用 C 语言编写 Unix，那么用 C 语言编写什么程序？等等等等，即。他们是如何创建第一个程序的？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-13T08:27:35.607

第一个 c 编译器是用汇编语言编写的。汇编语言是用二进制语言编写的。而二进制语言是硬件语言，它是由硬件直接执行的。

我引用[大卫·拉比诺维茨的](https://stackoverflow.com/a/1653658/517491)话：

> 请阅读[编译器引导](http://en.wikipedia.org/wiki/Bootstrapping_%28compilers%29)和[编译器编写的历史](http://en.wikipedia.org/wiki/History_of_compiler_writing)
> 
> 这个想法是直接用机器代码编写一个非常简单的编译器，用它来编写一个更复杂的编译器，用第二个编译器构建第三个编译器，依此类推，直到你可以拥有一个功能齐全的编译器。

[在这里](https://stackoverflow.com/questions/1653649/how-was-the-first-compiler-written)查看完整的线程。

# php - 电子邮件地址 tld 正则表达式

> ID：10137514
> 
> 赞同：0
> 
> 时间：2012-04-13T08:23:38.930
> 
> 标签：php, regex, email

我很欣赏 SO 上有几个电子邮件正则表达式，但找不到任何适合我的情况。

我们的电子邮件系统使用此正则表达式失败：

```
 if (!ereg("^\[?[0-9\.]+\]?$", $email_array[1])) {
        $domain_array = explode(".", $email_array[1]);
        if (sizeof($domain_array) < 2) {
            $this->result = 0;
        }
        for ($i = 0; $i < sizeof($domain_array); $i++) {
          if
(!ereg("^(([A-Za-z0-9][A-Za-z0-9-]{0,61}[A-Za-z0-9])|?([A-Za-z0-9]+))$",
    $domain_array[$i])) {
            $this->result = 0;
          }
        }
      } 
```

尝试使用以下格式的电子邮件地址发送电子邮件：

```
my.name@some-text.value.subdomain.domain.co.uk 
```

我认为这是额外的.value。这导致了问题，我对正则表达式解决这个问题不是很有经验。谁能帮忙？

正则表达式..

```
^(([A-Za-z0-9][A-Za-z0-9-]{0,61}[A-Za-z0-9])|?([A-Za-z0-9]+))$ 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:27:32.877

如果您正在查看电子邮件验证，您应该求助于[filter_var()](http://www.php.net/manual/en/function.filter-var.php)函数，它比正则表达式恕我直言。

```
filter_var('my.name@some-text.value.domain.co.uk', FILTER_VALIDATE_EMAIL); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:29:02.787

或者你可以使用这个正则表达式：

```
^([0-9a-zA-Z]([-.\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\w]*[0-9a-zA-Z]\.)+[a-zA-Z]{2,9})$ 
```

它与您给定的电子邮件相匹配，并且可以与大多数电子邮件一起使用（99.99% 左右）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-13T09:46:26.800

正则表达式：

```
^(([A-Za-z0-9][A-Za-z0-9-]{0,61}[A-Za-z0-9])|?([A-Za-z0-9]+))$ 
```

应该匹配域名的各个部分。正确的？

所以如果你有*some-text.value.subdomain.domain.co.uk*作为域名。

您的代码按点拆分并尝试匹配每个子部分。

例如*some-text*或*subdomain*。

这适用于上述正则表达式；只是*？*之后*|* 正则表达式引擎会分散注意力。

我会尝试

```
^(([A-Za-z0-9][A-Za-z0-9-]{0,61}[A-Za-z0-9])|([A-Za-z0-9]+))$ 
```

反而。

尽管匹配域名的各个部分仍然不是一个好的正则表达式。但我猜你想在代码库中尽可能少地改变。

更好的应该只是交替的最后一部分

```
^[A-Za-z0-9-]+$ 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-09-24T19:49:37.640

我想知道您是否可以在接近尾声的正则表达式中使用 TLD 列表或允许的 TLD - 以匹配一些`xn--hgbk6aj7f53bba`新的 TLD 之类的东西？

在这种情况下，像这样的正则表达式 `^([a-zA-Z0-9_.\'+-])+\@([a-zA-Z0-9-])+(\.(ac|ad|aero|ae|af|ag|ai|al|am|an|ao|aq|arpa|ar|asia|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|biz|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|cat|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|coop|com|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|edu|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gov|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|info|int|in|io|iq|ir|is|it|je|jm|jobs|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mil|mk|ml|mm|mn|mobi|mo|mp|mq|mr|ms|mt|museum|mu|mv|mw|mx|my|mz|name|na|nc|net|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|org|pa|pe|pf|pg|ph|pk|pl|pm|pn|pro|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tel|tf|tg|th|tj|tk|tl|tm|tn|to|tp|travel|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|ye|yt|yu|za|zm|zw))+$`

应该可以工作-对于混乱的格式感到抱歉。

# html - CSS - 固定宽度 span/div

> ID：10137525
> 
> 赞同：15
> 
> 时间：2012-04-13T08:24:35.837
> 
> 标签：html, css

我正在尝试为弹出对话框布局内容，但运气不佳

我尝试过同时使用跨度和内联 div，但它们似乎都不尊重宽度或最小宽度 CSS

有任何想法吗？

这是HTML

```
<div id="MessageBox" class="ui-dialog-content ui-widget-content" style="width: auto; min-height: 40.8333px; height: auto;" scrolltop="0" scrollleft="0">

<div class="popupKey">Bank Reference</div>
<div class="popupValue"></div>
<br>
<div class="popupKey">Amount</div>
<div class="popupValue">650.00</div>
<br>
<div class="popupKey">Currency</div>
<div class="popupValue">GBP</div>
<br>
<div class="popupKey">PaymentDate</div>
<div class="popupValue">02/06/2011</div>
<br>
<div class="popupKey">Remitter</div>
<div class="popupValue"></div>
<br>
<div class="popupKey">Senders Reference</div>
<div class="popupValue"></div>
<br>
</div> 
```

和 CSS

```
.popupKey
{
    display : inline;
    min-width: 150px;
}

.popupValue
{
    display : inline;
    min-width: 150px;
} 
```

我想对齐 popupValue 列中的所有项目

这里有一个 JSFiddle：

[http://jsfiddle.net/NtK4Y/](http://jsfiddle.net/NtK4Y/)

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-04-13T08:29:10.803

内联内容不能定义宽度。尝试使用`display: inline-block`或使用`display: block; float: left;`

我已经更新了你的 jsfiddle；看看[http://jsfiddle.net/NtK4Y/1/](http://jsfiddle.net/NtK4Y/1/)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-04-13T08:30:12.527

使用`inline-block`而不是`inline`.

你可以看到更新的 jsfiddle [http://jsfiddle.net/NtK4Y/2/](http://jsfiddle.net/NtK4Y/2/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T08:40:36.880

A`float:left`也可能对您的问题有所帮助，它们将彼此相邻放置。

# php - SQLSTATE[00000] [1040] Max_used_connections 为 1001 的连接太多

> ID：10137527
> 
> 赞同：1
> 
> 时间：2012-04-13T08:24:40.633
> 
> 标签：php, mysql, apache, pdo, connection

昨天一切正常。我将 PHP 应用程序的链接发送给客户。几个小时后，我查看了该页面并在源代码中看到以下错误：

```
SQLSTATE[00000] [1040] Too many connections 
```

我还记录了错误，只看到上面的消息。

在 PHP 应用程序中，有许多请求，但只针对一个特定的表（没有连接 ...）。我还使用自己的类进行数据库连接。在其中我有一个手柄，如果之前没有设置，则设置它。

```
if($this->_handle == null){
    $this->Connect();
}
try{
    // make query
}
catch(PDOException $e){
    echo "An error occured: {$e->getMessage()}";
    file_put_contents('PDOErrors.txt', $e->getMessage(), FILE_APPEND);
} 
```

所以每个请求都不应该有一个新的连接。但我从不关闭连接（不知道我应该在哪里关闭它）。

1.  是为每个用户建立新连接还是为多个用户使用相同的连接？
2.  如果连接可用，我如何签入代码并向用户显示相应的消息而不是显示恶意页面？
3.  我的代码是否有问题，使用了太多连接？
4.  如果成功连接，我如何记录？

这是我的连接功能：

```
public function Connect(){
    try{
        $this->_handle = new PDO("mysql:host={$this->dbhost};dbname={$this->dbname}", $this->dbuser, $this->dbpasswd);
        $this->_handle->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    }
    catch(PDOException $e){
        echo "An error occured: {$e->getMessage()}";
        file_put_contents('PDOErrors.txt', $e->getMessage() . chr(10) . chr(13), FILE_APPEND);
    }
} 
```

比我在此错误后尝试搜索互联网。这是我发现的：

MySQL 服务器 5.0.77 ->[手动](http://dev.mysql.com/doc/refman/5.0/en/too-many-connections.html)

PHP 5.2.9 锁定 phpinfo()

`show variables like 'max_connections';`给我1000！

如果我使用`SHOW STATUS;`，我会看到以下内容：

```
Aborted_clients         16
Aborted_connects        15248
Connections             1694699
Max_used_connections    1001
Queries                 266398903
Table_locks_immediate   36136077
Table_locks_waited      40387
Threads_connected       2
Threads_created         1694698
Threads_running         2
Uptime                  2143256 
```

1.  我认为我一天内没有达到这个数量的查询，所以这是共享主机吗？
2.  对于连接过多的问题，我能做些什么？

目前一切正常，但如果系统上线并且更多用户将使用它，我不希望出现这个问题。

# math - 使用普通最小二乘法 (OLS)

> ID：10137529
> 
> 赞同：0
> 
> 时间：2012-04-13T08:24:43.003
> 
> 标签：math, linear-algebra, least-squares

我有等式**A** * **x** = **b**

**A**的大小是矩阵大小 nxm，**x**是 mx 1，**b**是 nx **1。A 的**行数多于列数 (n < m)。

我的未知数是**A**，因为 n != m，**A**没有逆。我知道的是两个向量**x**和**b**。基本上，我想找到使 ( **A** * **x** - **b** ) 接近于零的**A。**

 ****最小二乘似乎合适，但我不确定如何进行，因为它似乎不符合我的教科书或[维基百科条目](http://en.wikipedia.org/wiki/Ordinary_least_squares)；通常矩阵**A**是已知的。如果 OLS 不合适，那会是什么？奇异值分解？再次，请指点，我的线性代数生锈了。

希望能够实现这个（python/C）。指向良好可读代码的指针？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T11:35:34.330

对此有无数种解决方案，不需要像奇异值分解这样复杂的解决方案。

如果 n = m，那么 A 可能只是一个对角矩阵，但你有 n > m。所以我们不能这么简单。

我们可以将其视为寻找 n 个独立向量（A 的行）的问题，这样当您与 x 形成它们的点积时，它们会产生 b 的相应元素。因此 A*x=b（解将是精确的）等价于找到 A 的行，如果 A_i 是 A 的第 i 行，则 dot(A_i,x) = b(i)。

这样看，解决办法就很明显了！显然，它说明了为什么没有“解决方案”，但有无数这样的解决方案，所有这些都是微不足道的。

因此，例如，选择 x 的任何非零元素。说它是第k个元素。然后创建 A_i 作为全为零的向量，除了 x 的相应选择的非零元素。

```
A_i(k) = b(i)/x(k) 
```

A_i 的所有其他元素都为零。所以现在，形成点积。看到 A*x = b 是由一个矩阵 X 精确求解的，该矩阵只有一个非零列，而该列是一个相当微不足道的列。****

# android - 如何使 imageview 在另一个视图中正确居中以制作边框？

> ID：10137533
> 
> 赞同：0
> 
> 时间：2012-04-13T08:24:56.090
> 
> 标签：android, listview, layout, imageview, padding

我想要完成的只是在我的图像视图周围创建一个小的 2-4dp 填充边框。结果（在 ADT 中看起来是正确的，但这是它在设备上的样子）：

![在此处输入图像描述](../Images/f75d9a27ba3406a97af5dedc95f9f0a5.png)

请注意，顶部有 5 px，左/右/下有 7 px 空间（这是用于 hdpi 设备）

这是我的行的 xml：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:paddingLeft="5dp"
    android:paddingRight="5dp"
    android:paddingTop="2dp">
    <RelativeLayout
        android:layout_width="50dp"
        android:layout_height="50dp"
        android:background="@android:color/white"
        android:layout_alignParentRight="true"
        android:layout_centerVertical="true">
        <ImageView
            android:src="@android:color/black"
            android:id="@+id/row_image"
            android:scaleType="centerCrop"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:layout_margin="4dp"
            android:layout_centerInParent="true"/>  
    </RelativeLayout>
</RelativeLayout> 
```

我什么都试过了：Adjustviewbounds、centerCrop、wrap_content、match_parent、center、centerInside、height=46/width=46、。任何新的建议将不胜感激，layout_gravity=center。

编辑新信息：所以我尝试删除 android:layout_alignParentRight="true" 和 android:layout_centerVertical="true" 现在填充/边距看起来正确但它没有放在右侧。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:32:37.653

试试这个：

使用 ShapeDrawable 制作可绘制的 xml (bg.xml)。纯色白色和边框黑色。然后将其添加为 ImageView 的背景并将 ImageView 的填充设置为 2dp。这应该没问题。不需要 ReletiveLayouts..

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T09:05:44.777

所以罪魁祸首是 android:layout_centerVertical="true" 。它以某种方式移动布局，因此居中不正确。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T12:36:13.693

请检查：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:gravity="right|center_vertical" >

    <RelativeLayout
        android:layout_width="50dp"
        android:layout_height="50dp"
        android:background="@android:color/white"
        android:layout_margin="5sp"
        android:padding="5sp" >

        <ImageView
            android:id="@+id/row_image"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:src="@android:color/black" />
    </RelativeLayout>

</RelativeLayout> 
```

希望你正在寻找这个，如果没有，然后告诉你你想要什么。谢谢。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-02-24T08:00:39.100

你应该试试这段代码：

```
<ImageView
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_weight="1"
    android:contentDescription="@string/test"
    android:padding="1dp"
    android:src="@drawable/some_photo"
    android:cropToPadding="true"
    android:scaleType="centerCrop" 
    android:background="@color/grey_border"/> 
```

# c - 致命错误：sys/dpli_common.h 没有这样的文件

> ID：10137535
> 
> 赞同：0
> 
> 时间：2012-04-13T08:24:57.497
> 
> 标签：c

嗨我尝试编译这个程序：

 `````
 #include <sys/types.h>
   #include <sys/dlpi_ether.h>
   #include <sys/dlpi_common.h>
   #include <stropts.h>
   #include <unistd.h>

    int main(int argc,char *argv[])
{
    int fd, status;
    struct strioctl strcmd;
    unsigned char addr[6];
            fd = open(argv[1],0,0);
    if (fd == -1) {
        perror("enaddr: open");
        exit(1);
    }

    strcmd.ic_cmd = DLIOCGENADDR;
    strcmd.ic_timout = 0;
    strcmd.ic_len = sizeof(addr);
    strcmd.ic_dp = addr;

    status = ioctl(fd,I_STR,&strcmd);
    if (status == -1) {
        perror("enaddr: ioctl");
        exit(1);
    }

    printf("%02.2x:%02.2x:%02.2x:%02.2x:%02.2x:%02.2x\n",addr[0],addr[1],addr[2],addr[3],addr[4],addr[5]);
} 
````  `终端返回这个致命错误：

prova.c:3:30：致命错误：sys/dlpi_common.h：没有此类文件或目录编译终止。

为什么？这个图书馆在哪里？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:30:39.893

它*应该*`dlpi_ether.h`与您的系统没有抱怨的位置相同。

这不是一个真正的 C 问题，因为它在很大程度上取决于您正在工作的环境，而不是 C 本身。我们只能说你没有那个头文件。

如果您在类似 UNIX 的操作系统下，您可以通过以下方式查找它：

```
find /usr/include -name 'dlpi*.h' 
```

* * *

根据Oracle的[链接](http://developers.sun.com/solaris/articles/solaris_linux_app.html)，这些头文件似乎根本不在 Linux 中：

> Solaris OS 和 Linux 之间读取原始以太网的代码完全不同（libpcap 也可用于检查与其他系统的差异，例如 FreeBSD、HP-UX 和 AIX）。
> 
> libpcap 中的适用代码位于 pcap-linux.c 和 pcap-dlpi.c。DLPI 代码用于 Solaris、HP-UX、AIX 和其他操作系统。Linux 提供了一种通过标准套接字调用读取原始套接字数据包的机制。Solaris OS 使用 getmsg(2) 和 putmsg(2) 调用来接收和发送 DLPI 数据包。``

# html - Microsoft Outlook 中的中心 div

> ID：10137536
> 
> 赞同：23
> 
> 时间：2012-04-13T08:25:02.957
> 
> 标签：html, css, outlook

我曾经`<div style="width: 742px; margin: 0px auto; ">`将容器居中`div`。

在浏览器中它可以工作，但是当我在 Microsoft Outlook 中打开它时，它不在中心。

我也使用`!important`了，`margin`因为我认为它优先于 CSS。

如何`div`在浏览器和电子邮件中居中？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-04-13T08:26:36.297

```
<div align="center">

your code 

</div> 
```

仅适用于 Outlook

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-04-13T08:54:52.070

对于一般的电子邮件，最好使用 html 属性和不推荐使用的标签而不是它们的 CSS 等价物，因为某些消息传递系统会忽略内联样式。

例如，而不是：

```
<div style="width: 742px; margin: 0px auto; ">... 
```

您可以使用：

```
<body align="center"><table align="center" width="742">... 
```

或者

```
<div align="center">... 
```

示例 2，而不是：

```
<p style="font-family: Arial, Helvetica, Tahoma, sans-serif;">My text</p> 
```

你可以做：

```
<font face="Arial" size="4">My text</font> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-05-21T09:54:17.710

一个很好的反射是去官方微软文档网络：http: [//msdn.microsoft.com/en-us/library/aa338201.aspx](http://msdn.microsoft.com/en-us/library/aa338201.aspx)

在这里您可以看到最好的方法是使用.. div 元素之外的另一件事。

Use a table, it allow the maximum of css control.

# jsf - PrimeFaces Web 应用程序的设计

> ID：10137538
> 
> 赞同：0
> 
> 时间：2012-04-13T08:25:08.380
> 
> 标签：jsf, architecture, user-interface, primefaces

首先，我知道这个问题相对于 StackOverflow 可能被认为是题外话。以防万一，请告知它在 StackExchange 站点中更适合的位置。

我需要为以下（简单）情况开发一个简单但完整的用户界面：处理多个用户对多个事件的出席。这个应用程序的目标用户是超级用户，即需要监控和统计每个用户参与了多少事件，以及有多少用户参与了一个事件的人。超级用户应该能够对用户、事件、出席者进行任何类型的 CRUD 操作。

db 结构由表组成：**用户、事件、出席**。

**用户与****考勤**有`OneToMany`关系：一个用户与多个考勤相关联。

 ****活动与****出席**有`OneToMany`关系。

 **我想到的布局如下（使用 PrimeFaces 小部件）：带有 2 个选项卡的 TabView：用户和事件。每个选项卡显示其类型的所有记录，通过`DataTables`延迟加载、过滤和对每列排序。

每个 DataTable 都有附加的列，其中包含用于编辑-删除操作的按钮。此外，用户表中的附加列包含一个“查看事件”按钮，用于查看与该用户相关的事件。以一种特殊的方式，“查看用户”按钮出现在事件表中。

“查看事件”按钮打开一个模式对话框，其中包含另一个 DataTable，其中包含与用户相关的事件。

**问题来了**：让超级用户更新与所选用户相关的事件列表的合理方法是什么？我是否应该显示所有事件，包括不相关的事件，以及带有显示关系的单选按钮的列？还是应该只显示相关事件？超级用户将如何添加新的相关事件？我是否需要另一个数据表来显示尚未相关的事件？还是我应该使用 PickList？如果使用 PickList，当列表很长时会发生什么？我在 PickList 组件中看不到分页或过滤功能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T15:46:47.047

如果Primefaces不适合`pickList`在. 但用于大型数据集效率不高。改为使用。但是@Namphibian 已经说过了。`scroll``parent component``dataTables`

现在开始**设计**：

有`Users`和`Events`分开`tabs`是好的。如果我是你，我会`dataTables`在每个选项卡中放置 3 个，例如，对于`User`选项卡，我将拥有这些：

*   **所有用户**
*   **与特定**事件有关的事件**`User`**
***   **所有活动****

 **只有**所有用户** `dataTable`（带有`multiselection`）在选项卡的初始打开时可见。

这`table`将控制`buttons`其中`footer`将管理另一个 2 的显示`tables`，例如：“ ***RelatedEvents*** ”、“ ***AssignToEvent*** ”和“ ***AddUser*** ” `buttons`。

单击“ ***RelatedEvents*** ”后，将显示**相关事件** `dataTable`（例如，用 处理它`jQuery`）。这`table`将与从**所有用户**表`Events`中选择的所有相关。在这里，您可以管理事件的“***取消分配***” ，特定的“***更新***” ，当然还有“***隐藏***”这个（再次是 jQuery）。`User`***`User`*`Event`*`table`*****

 *****单击“ ***AssignToEvent*** ”后，将显示**所有事件（jQuery）。** `dataTable`在这`table`将是所有现有的`Events`。在这里，您将选择从**所有用户**`Event`中选择的特定然后“***确认分配***”以选择。它还将包含“***隐藏***”按钮。`Users`**`Event`**

 ***选项卡的类似方法`Event`。由于 dataTable 具有许多优点，例如过滤、排序、行高亮等。imo 它是最佳选择。

这样，您将能够让超级用户浏览所有内容`Users`并对其进行编辑，而不会让所有内容都`tables`可见，而且还可以让他在 2 次点击内管理所有内容。（事件相同）

这些只是我的想法。也许它会以某种方式激励你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:40:03.463

我会应用的简单经验法则是，对于更长的列表，数据表更容易使用。您可以对表格应用过滤器和排序。Picklist 通常更适合较小的列表。

拿起笔和纸草绘出您正在考虑的布局。我发现这是一种快速查看不同布局想法的方法，可以帮助快速消除有问题的设计。**************

# c# - 使用 RavenDB 和 LINQ 从子集中查找至少包含一个元素的对象

> ID：10137547
> 
> 赞同：3
> 
> 时间：2012-04-13T08:26:08.243
> 
> 标签：c#, .net, linq, ravendb

我有简单的类型`Question`：

```
public class Question
{
    public Question(string id)
    {
        Id = id;
        Tags = new List<string>();
    }

    public string Id { get; private set; }
    public IList<string> Tags { get; set; }            
} 
```

我已经定义了此类问题的样本集合：

```
var q1 = new Question("q1") { Tags = new List<string>() {"a"} };
var q2 = new Question("q2") { Tags = new List<string>() {"b"} };
var q3 = new Question("q3") { Tags = new List<string>() {"a", "b", "c"} };
var q4 = new Question("q4") { Tags = new List<string>() {"a", "b"} };
var q5 = new Question("q5") { Tags = new List<string>() {"z"} };
var q6 = new Question("q6");
var questions = new List<Question>() {q1, q2, q3, q4, q5, q6}; 
```

现在我需要**从给定的子集中找到所有包含至少一个标签的问题**。子集定义如下：

```
string[] tags = new[] {"a", "b"}; 
```

我希望返回**q1**、**q2**、**q3**和**q4**。我用来获得所需结果的查询是：

```
var questions = DocumentSession.Query<Question>().AsQueryable();
questions = GetQuestionsToContainingAtLeastOneTagFromSubset(questions, tags)
// some other query restrictions
var result = questions.ToList(); // (**) 
```

假设对我的收藏施加限制的功能如下：

```
private IQueryable<Question> GetQuestionsToContainingAtLeastOneTagFromSubset(IQueryable<Question> questions, IEnumerable<string> tags)
{
    var result = new List<Question>();
    foreach (var tag in tags)
    {
        var currentTag = tag;
        var resultForTag = questions.Where(x => x.Tags.Any(xTag => xTag == currentTag));
        result = result.Concat(resultForTag).ToList();
     }
     return result.GroupBy(x => x.Id).Select(grp => grp.First()).AsQueryable();
} 
```

我认为这是非常低效的。我想避免`.ToList()`在提供的函数中使用。据我了解，此`.ToList()`表达式查询 RavenDB 并返回部分结果（顺便说一句：我说得对吗？）。这效率不高。我只想在提供的函数中施加限制，并在施加所有限制后执行查询。这个`(**)`地方很适合我将批处理发送到 RavenDB 检索查询结果。

如何改善？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:54:58.620

试试这个代码：

```
 var q1 = new Question("q1") { Tags = new List<string>() {"aa", "bb"} };
 var q2 = new Question("q2") { Tags = new List<string>() {"aa"} };
 var q3 = new Question("q3") { Tags = new List<string>() {"aa", "bb", "cc"} };
 var q4 = new Question("q4");
 var questions = new List<Question>() {q1, q2, q3, q4};
 string[] tags = new[] { "bb", "cc" };

 var res = (from p in questions where 
           (from q in tags where p.Tags.Contains(q) == true select p).ToArray().Count() >= 1 
            select p).Distinct(); 
 //If you want more speed you can try to add .AsParallel() after .Distinct() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T11:18:48.370

您可以查询 lucene 以获取与您的标签数组匹配的标签的问题，如下所示：

```
string[] tags = new[] { "a", "b" };
string queryRange = "(" + string.Join(" OR ", tags) + ")";

var res = session.Advanced.LuceneQuery<Question>()
               .Where("Tags:" + queryRange).ToList(); 
```

请注意，这会查询整个索引问题，而不是子集。但我认为您可以将 - I GUESS - 附加到查询字符串表达式中。有关此类查询的更多信息，请参见 Lucene 文档：http: [//lucene.apache.org/core/old_versioned_docs/versions/3_0_0/queryparsersyntax.html](http://lucene.apache.org/core/old_versioned_docs/versions/3_0_0/queryparsersyntax.html)

# iphone - 选择器只会显示 3 个对象

> ID：10137552
> 
> 赞同：0
> 
> 时间：2012-04-13T08:26:41.723
> 
> 标签：iphone, ios, core-data, crash, picker

我有一个三组件选择器，第三个依赖于前两个。当每个组件中只有 3 个项目时，这种依赖关系非常有效。当最终组件中超过三个时（根据其他两个的值而变化，它会在尝试移动卷轴时崩溃。

收到的错误是“ *** Terminating app due to uncaught exception 'NSRangeException', reason: '*** -[_PFArray objectAtIndex:]: index (3) beyond bounds (3)'”

我无法弄清楚它从哪里得到这个 3 的界限。这不是完整的实现，我在视图中确实加载了填充使用的数组和一个带有逻辑的按钮来使用按钮按下时的值。如果您认为这些可能是问题，请告诉我。我感谢任何意见或帮助。谢谢

```
- (NSInteger)numberOfComponentsInPickerView:(UIPickerView *)pickerView {
    return 3;
}

-(NSInteger)pickerView:(UIPickerView *)pickerView numberOfRowsInComponent:(NSInteger)component {

    NSString *message = [[NSString alloc] initWithFormat:@"%d", moduleCount];

    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Module selected" message:message delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles:nil];

    [alert show];

    if (component == kPartComponent) {
        return [self.parts count];
    }
    else if (component == kSubjectComponent) {
        return [self.courses count];
    }
    else return moduleCount; // problem is likely to be here where i return the count, the picker is only showing 3 modules for each section not the full amount

}

#pragma mark Picker Delegate Methods
-(NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger)component {

    Parts *p = [self.parts objectAtIndex:row];

    Course *c = [self.courses objectAtIndex:row];

    Modules *m = [self.modules objectAtIndex:row];

    if (component == kPartComponent) {
        return p.part;
    }

    else if (component == kModuleComponent) {
        return m.name;
    }

    else return c.course;

}

- (CGFloat)pickerView:(UIPickerView *)pickerView widthForComponent:(NSInteger)component
{
    if(component == 0)
        return 40.0;
    else if(component == 1)
        return 85.0;
    else
        return 125.0;

}

-(void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component {

     if (component == kSubjectComponent) { 

     Course *selectedCourse;
     selectedCourse = [self.courses objectAtIndex:row];
     NSString *courseComp = [selectedCourse valueForKey:@"course"];

     AppDelegate *delegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];

     NSManagedObjectContext *context = [delegate managedObjectContext];

     NSEntityDescription *entityModules = [NSEntityDescription entityForName:@"Modules" inManagedObjectContext:context];

     NSFetchRequest *fetchRequestModules = [[NSFetchRequest alloc] init];
     [fetchRequestModules setEntity:entityModules];

     NSPredicate * modSubCondition = [NSPredicate predicateWithFormat:@"(courses.course == %@)", courseComp];
     NSPredicate * modPartCondition = [NSPredicate predicateWithFormat:@"(parts.part == %@)", globalPart];
     NSPredicate * compoundPredicate = [NSCompoundPredicate andPredicateWithSubpredicates:[NSArray arrayWithObjects:modSubCondition, modPartCondition, nil]];

     [fetchRequestModules setPredicate:compoundPredicate]; 

     NSSortDescriptor *sortDescriptorModules = [[NSSortDescriptor alloc] initWithKey:@"name" ascending:YES]; // This definitely works, proven by changing the ascending bool.
     NSArray *sortDescriptorsModules = [[NSArray alloc] initWithObjects:sortDescriptorModules, nil]; 

     [fetchRequestModules setSortDescriptors:sortDescriptorsModules];

     NSArray *modulesArray = [context executeFetchRequest:fetchRequestModules error:nil];

         globalSubject = courseComp;

     self.modules = modulesArray;

         moduleCount = [self.modules count];

     [picker selectRow:0 inComponent:kModuleComponent animated:YES];
     [picker reloadComponent:kModuleComponent];
     } 

     else if (component == kPartComponent) { 

     Parts *selectedParts;
     selectedParts = [self.parts objectAtIndex:row];
     NSString *partsComponent = [selectedParts valueForKey:@"part"];

     AppDelegate *delegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];

     NSManagedObjectContext *context = [delegate managedObjectContext];

     NSEntityDescription *entityModules = [NSEntityDescription entityForName:@"Modules" inManagedObjectContext:context];

     NSFetchRequest *fetchRequestModules = [[NSFetchRequest alloc] init];
     [fetchRequestModules setEntity:entityModules];

     NSPredicate * modSubCondition = [NSPredicate predicateWithFormat:@"(courses.course == %@)", globalSubject];
     NSPredicate * modPartCondition = [NSPredicate predicateWithFormat:@"(parts.part == %@)", partsComponent];
     NSPredicate * compoundPredicate = [NSCompoundPredicate andPredicateWithSubpredicates:[NSArray arrayWithObjects:modSubCondition, modPartCondition, nil]];

     [fetchRequestModules setPredicate:compoundPredicate]; 

     NSSortDescriptor *sortDescriptorModules = [[NSSortDescriptor alloc] initWithKey:@"name" ascending:YES]; // This definitely works, proven by changing the ascending bool.
     NSArray *sortDescriptorsModules = [[NSArray alloc] initWithObjects:sortDescriptorModules, nil]; 

     [fetchRequestModules setSortDescriptors:sortDescriptorsModules];

     NSArray *modulesArray = [context executeFetchRequest:fetchRequestModules error:nil];

         globalPart = partsComponent;

     self.modules = modulesArray;

         moduleCount = [self.modules count];

     [picker selectRow:0 inComponent:kModuleComponent animated:YES];
     [picker reloadComponent:kModuleComponent];

     } 

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:59:08.783

由于每个组件的内容似乎都依赖于其他组件，因此当您更改模块或主题时，您似乎应该重新加载整个选择器，否则您可能会冒着为您提供的计数设置错误大小的数组的风险，这确实会给你你得到的错误。

编辑 - 仔细查看您的代码！

您的实施 -

```
-(NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger)component 
```

...是错的！

您正在使用相同的行变量一次访问所有 3 个数组，而不检查需要哪一个，所以如果行是 16，对于组件，它也将尝试为您的模块数组获取 objectAtIndex:16。您需要检查您正在访问的数组，就像您在其他方法中所做的那样。

# rdf - Sparql 查询中的过滤器不起作用

> ID：10137556
> 
> 赞同：3
> 
> 时间：2012-04-13T08:27:18.510
> 
> 标签：rdf, sparql

我正在对我的一个仅支持 Sparql 1.0 的 sparql 端点运行 sparql 查询。
我正在尝试使用以下查询从商店获取用户列表：

```
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX tmp: <http://example.com/schema/temp#>
PREFIX resource: <http://example.com/2010/record/schema#>
Describe ?userURI
WHERE 
{
    ?userURI rdf:type resource:User.
    OPTIONAL
    {               
        ?userURI tmp:dataCleanupStatus ?cleanUpStatus.
        ?userURI tmp:lastDataCleanupDate ?cleanUpDate.                  
    }
    FILTER 
    ( 
        (!bound(?cleanUpStatus) || ?cleanUpStatus !="Running")
    )
                    FILTER(    
        (!bound(?cleanUpDate) || ?cleanUpDate < "2012-04-11" )
    )

} 
```

通过上述查询，我​​试图获取用户，其中：

1.  清理状态三元组不存在，或者状态不是“正在运行”
2.  clearnUpDate 三元组要么不存在，要么小于指定日期。

它没有返回它应该返回的记录。
你可能会说我应该使用**xsd**函数，但是，它们仅在 Sparql 1.1 中受支持

请指教。
**修改后的查询：**

* * *

```
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX tmp: <http://example.com/schema/temp#>
PREFIX resource: <http://example.com/2010/record/schema#>
Describe ?userURI
WHERE 
{
    ?userURI rdf:type resource:User.
    OPTIONAL
    {               
        ?userURI tmp:dataCleanupStatus ?cleanUpStatus.

    }

    OPTIONAL
    {               
        ?userURI tmp:lastDataCleanupDate ?cleanUpDate.                  
    }
    FILTER 
    ( 
        !bound(?cleanUpStatus) || ?cleanUpStatus !="Running"
    )
    FILTER
    (    
        !bound(?cleanUpDate) || ?cleanUpDate < "2012-04-11" 
    )

} 
```

## 

* * *

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-13T10:05:02.443

问题可能出在日期比较中，假设它`xsd:date`在原始数据中存储为类型化文字。如果没有类型转换，您无法将字符串与日期进行比较。

一些事情要尝试：

```
?cleanUpDate < "2012-04-11"^^xsd:date    # Compare against date
STR(?cleanUpDate) < "2012-04-11"         # Convert to string before comparison 
```

此外，根据数据的结构，您可能需要两个单独`OPTIONAL`的块用于`?cleanUpStatus`和`?cleanUpDate`。

# facebook - 如何在 App 的帖子中添加“分享”按钮？

> ID：10137560
> 
> 赞同：1
> 
> 时间：2012-04-13T08:27:30.130
> 
> 标签：facebook, facebook-graph-api, facebook-php-sdk

我的页面有一个发布计划应用程序，但如果我从这个应用程序发布，我看不到帖子上的“分享”按钮，这个功能非常重要......我该如何添加这个，有什么解决方案吗？

我只找到网站上分享按钮的代码，但尚未找到 Facebook PHP SDK 帖子的代码......

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-18T06:46:36.927

答案是这样的（我想通了）：

在发布方法中不要使用`$facebook->api('me/feed', 'POST', $variables);`，而是使用这个：`$facebook->api('me/links', 'POST', $variables);`

# doxygen - 如何显示定义的值

> ID：10137566
> 
> 赞同：5
> 
> 时间：2012-04-13T08:27:45.000
> 
> 标签：doxygen, c-preprocessor

在一些 doxygen 文档中，我想显示 a 的内容`#define`，而不是标签本身。例如，在一个 C 文件中，我有

```
#define REPEAT_N_TIMES 10 
```

现在在我的文档中我想显示：

> 动作进行 10 次。

如果我使用`\ref REPEAT_N_TIMES`，它会显示：

> 该操作已完成 REPEAT_N_TIMES 次

有没有办法显示链接的*内容*，而不是链接本身，例如喜欢`\ValueOf(\ref REPEAT_N_TIMES)`或`\contentOf(\ref REPEAT_N_TIMES)`？

**更新：**我的 Doxygen 的配置是：

```
// Configuration options related to the preprocessor

ENABLE_PREPROCESSING   = YES
MACRO_EXPANSION        = YES
EXPAND_ONLY_PREDEF     = YES
SEARCH_INCLUDES        = YES
INCLUDE_PATH           =
INCLUDE_FILE_PATTERNS  =
PREDEFINED             = WXUNUSED()=
EXPAND_AS_DEFINED      =
SKIP_FUNCTION_MACROS   = YES 
```

该`MACRO_EXPANSION`设置似乎改变了宏的“细节”。但是我看不到选择宏名称或其内容的方法。使用命令`\ref`似乎不是正确的方法：它指的是“某物”而不是“某物”的内容

是否有我可以使用的运算符或函数，可能类似于**C**，我可以使用类似的东西`\ref *something`而不是`\ref something`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:50:01.897

[关于预处理](http://www.doxygen.nl/manual/preprocessing.html)的 doxygen 手册页似乎包含您需要的所有信息。作为第一步，尝试将`MACRO_EXPANSION`doxygen 配置文件中的标志设置为`YES`，然后在您的文档中包括

```
The action is done REPEAT_N_TIMES times. 
```

如 doxygen 手册中所述，这将扩展所有宏定义（如果需要，递归），这通常太多了。`EXPAND_ONLY_PREDEF`因此，您可以使用配置文件中的和`EXPAND_AS_DEFINED`设置准确指定要扩展的宏。例如，尝试设置

> EXPAND_ONLY_PREDEF = YES
> EXPAND_AS_DEFINED = REPEAT_N_TIMES

在配置文件中。

**更新：**在@spamy 的评论之后，我对此进行了更多研究，似乎我上面提到的方法不适用于评论块中的宏*，*即仅扩展源代码中的宏。例如，参见doxygen sourceforge 页面上的[这篇文章。](http://sourceforge.net/mailarchive/message.php?msg_id=11649789)根据这篇文章，在注释块中实现宏扩展的唯一方法是使用`INPUT_FILTER`配置文件设置。使用类似的东西

```
INPUT_FILTER = sed /REPEAT_N_TIMES/10 
```

**警告：**以上`INPUT_FILTER`内容未经测试。

如果您不想使用，`INPUT_FILTER`那么[这个](https://stackoverflow.com/a/9299914/623518)对另一个线程的回答可能是您最好的选择。本质上它说*您可以记录宏，因此文档的读者将能够轻松找到真正的价值*。因此，将文档添加到您的文档中，`#define`并将`\ref`其添加到文档的其他位置。

# ios - viewWillDisappear 被调用两次

> ID：10137568
> 
> 赞同：3
> 
> 时间：2012-04-13T08:27:52.843
> 
> 标签：ios

我的应用程序使用带有 splitviewcontroller 的情节提要。在左侧，我有一个带有选项列表的表格视图。在右侧，我有一些关于左侧选项的信息。就像在设置应用程序中一样。当用户选择左侧的选项时，右侧的内容会发生变化。左侧的每个选项都有一个视图控制器。这些视图控制器嵌入在一个导航视图控制器中（每个视图控制器一个导航视图控制器）。

当用户在左侧选择一个选项时，将执行 segue。它的类型是“替换”，其目标是“详细拆分”。

我的问题是，每次用户选择左侧的选项时，右侧视图控制器的 viewWillDisappear 都会被调用两次。为什么会这样？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-02-26T04:32:43.557

我也有这个，原来我的问题是我调用了错误的超级方法，在我的情况下，在我覆盖的方法中调用方法`[super viewDidAppear:animated]`内部。`- (void)viewDidDisappear:(BOOL)animated`可能不是你的问题，但以防万一有一天有人偶然发现。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-20T03:52:34.713

首先，让我说，这很糟糕。我也遇到了这个问题，找到了你的帖子。经过实验，我们意识到`-viewDidDisappear:`只被调用一次。因此，任何导致双重调用的错误（当视图控制器位于 SplitView 中的 UINavigationController 内时）似乎都不会发生在 viewDidDisappear 上。

这是一个愚蠢的组合，但这个错误也很愚蠢。希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-06T12:37:17.060

好的，我花了一段时间对此进行调查，但最后我不得不采用一种解决方法。

在我的情况下，如果“离开”详细视图而不保存详细视图内容，我想显示警报。

我添加了一个实例变量 boolean，最初设置为 false (NO)。

然后，在 viewWillDisappear 中，如果布尔值为 NO，我将其设置为 YES，并显示警报。

然后我将布尔值重置为 NO is viewDidDisappear （这也可以在警报回调中完成）。

不是很优雅，但这似乎工作得很好。

```
- (void) viewWillDisappear:(BOOL)animated
{
    [super viewWillDisappear:animated];

    if ([self isDirty] && ![self showingAlert])
    {
        [self setShowingAlert:YES];

        UIAlertView *alert =
             [[UIAlertView alloc]
                    initWithTitle: @"Save Changes?"
                    message: @"Use it or lose it, matey."
                    delegate: self
                    cancelButtonTitle:@"Save"
                    otherButtonTitles:@"Don't Save",nil];

        [alert show];

        [alert release];
    }
}

- (void) viewDidDisappear:(BOOL)animated
{
    [super viewDidDisappear:animated];

    [self setShowingAlert:NO];
} 
```

# windows - 更改分辨率后排列窗口

> ID：10137571
> 
> 赞同：1
> 
> 时间：2012-04-13T08:27:57.777
> 
> 标签：windows, winapi

更改屏幕分辨率后，我面临移动\混合\洗牌窗口的问题。

我将分辨率从 1920x1080（3 个显示器）更改为 5760x1080（eyefinity）。

我可以编写一个脚本来正确放置窗口。（Python + winapi）

但也许有一个程序\脚本可以记住（对于不同的分辨率）窗口的位置？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T14:29:53.647

一个名为 Fences 的程序将允许您设置图标放置区域。它会记住每个决议的位置。不过，我还没有找到任何可以记住分辨率更改时的窗口位置的东西。

[http://www.stardock.com/products/fences/](http://www.stardock.com/products/fences/)

# c# - 如何设计方法的返回类型和存储过程的返回值？

> ID：10137575
> 
> 赞同：1
> 
> 时间：2012-04-13T08:28:13.493
> 
> 标签：c#, asp.net, .net, sql-server, tsql

让我们以基本场景为例，只有在数据库中不存在用户名的情况下，我才想在用户注册期间插入一条记录。

我的问题是，您将创建 2 个单独的存储过程并对数据库进行 2 次调用，一次检查用户名是否存在，第二次调用实际插入数据库，还是创建一个存储过程并在其中编写两个查询?

如果您创建一个存储过程，那么我的第二个问题应该从存储过程中实际返回什么？我通常从存储过程中返回硬编码数字，然后检查内部代码。这是一个好习惯吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-13T08:38:00.520

此操作最终需要是“原子的” - 检查不能与实际创建分离，否则您可能会遇到并发问题。虽然您可以通过两个或多个 SP 的事务和锁定来处理其中的一些问题，但恕我直言，最好的方法是使用一个 SP 并在插入发生的同时（在同一条语句中）执行检查。

我将返回一个包含插入用户的完整记录的记录集，如果存在名称冲突，则会引发错误。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-13T08:30:30.540

我将执行一个存储过程，该过程将返回新插入用户的 ID，如果没有插入则返回 -1

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-13T08:47:02.163

您可以执行以下操作：

```
CREATE PROCEDURE AddNewUser
(
  @Username         VARCHAR(30)
, @Password         VARCHAR(30)
, @UserExists       BIT OUTPUT
)

AS

-- CHECK IF THE USER EXISTS:
DECLARE @RowCount INT

SELECT @RowCount = COUNT(*) 
FROM Users
WHERE Username = @Username

IF (@RowCount > 0)
BEGIN
   SET @UserExists = 1
END
ELSE

BEGIN

   SET @UserExists = 0

   INSERT INTO Users
     (Username, [Password])
   VALUES
     (@Username, @Password)
END

GO 
```

然后在应用程序中你可以使用@UserExists 参数，1 表示用户已经存在，0 表示用户不存在并且已经创建。

为了获得良好的实践，您应该使用存储过程而不是内联 SQL，因为您将容易受到 SQL 注入攻击。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-13T09:40:27.413

`MERGE`声明可能会有所帮助。假设`MERGE`是有条件的`INSERT`/ `UPDATE`。在**单个**语句中，`INSERT`如果它不存在，您可以新用户，或者`UPDATE`如果存在，您可以新用户。

正如其他人所写：存储过程比动态SQL要好得多。裹`MERGE`成`CREATE PROCEDURE`.

在现实世界中，您的应用程序/网络应用程序中的用户交互/工作流程会告诉您是否需要一两个程序。

情景一）

*   给我你的用户数据
*   我将为您创建一个帐户或只是更新它（一个存储过程）

在场景 A 中，`MERGE`为条件`INSERT`/做`UPDATE`。

场景 B)

*   给我你的用户数据，然后决定你是想唱歌还是只登录
*   （你想注册） - 检查给定的登录是否是免费的（第一个存储过程或只是查询）
*   （它是免费的；注册！） - 创建一个帐户，但必须再次检查登录是否仍然免费（第二个存储过程）

在场景 B 中，您可以检查登录是否存在，然后在块中执行`INSERT`或（更好）执行。您可以在块中使用有用的消息/状态 - 因此您可以通过从 SQL 中抛出“异常”（而不是返回参数）并在应用程序代码中捕获它来报告创建帐户的问题。这种逻辑在编码中可能更有用。`INSERT``TRY .. CATCH``RAISERROR``CATCH`

# .net - 'System.InvalidOperationException' 的出现不一致 - 如何记录/跟踪发生了什么？

> ID：10137578
> 
> 赞同：0
> 
> 时间：2012-04-13T08:28:32.433
> 
> 标签：.net, exception-handling, webforms, invalidoperationexception

我在使用 ASP.NET WebForms 应用程序时遇到问题，抛出“System.InvalidOperationException”，导致网站崩溃（并暂时重新启动应用程序池“解决”问题）。

在我的开发环境中，我从未见过这种情况发生，因此我很难找到问题的根源。

**如何保存用户单击导致此问题的某种转储？**

有没有办法让我捕获所有异常，或者只是 InvalidOperation 类型的异常，并将它们保存到文件中，然后以编程方式重新启动应用程序池？（这样我可以在找到错误原因的同时进行“修复”..）

提前致谢

编辑

我让 ELMAH 工作，真的没那么难！我能够捕捉到错误和所有先前的错误。似乎服务器无法以足够快的速度提供页面，从而导致超时，这以某种方式导致 LINQ to SQL（使用 SubSonic ActiveRecord）中某些读/写事物的锁定保持锁定（它设置了一个“_invalid”标志使用对象时为真。

下次尝试使用该对象时，它已经被锁定并抛出了无效操作异常......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:32:02.807

我认为[ELMAH](http://code.google.com/p/elmah/)会做你想做的事。我们在我们的应用程序中大量使用它，包括在生产中。

# iphone - MKStoreKit4.1 Buy Feature 什么都不做？

> ID：10137580
> 
> 赞同：2
> 
> 时间：2012-04-13T08:28:42.457
> 
> 标签：iphone, in-app-purchase, subscription

我有一个 iphone 应用程序，我正在尝试使用 mkstorekit 4.1 实现订阅。除了这段代码之外，一切都很好。我成功地添加了订阅的视图。但它根本没有被调用。有人可以帮助我吗？

```
 [[MKStoreManager sharedManager] buyFeature:kFeatureAId onComplete:^(NSString* purchasedFeature) 
     { 
                     //isPurchased = YES;
         NSLog(@"Purchased: in commmmpletion %@", purchasedFeature);
         [self showsubscribedview];

    } onCancelled:^ { 

        //purchas = YES; 
        NSLog(@" User Cancelled Transaction");
        return; 

    }]; 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-04-13T09:55:52.917

你在关注这篇文章吗？？ [http://blog.mugunthkumar.com/coding/using-mkstorekit-in-your-apps/](http://blog.mugunthkumar.com/coding/using-mkstorekit-in-your-apps/)

我想你还没有注册你的购买。

# pdf-generation - mPDF 不转换 php 函数

> ID：10137581
> 
> 赞同：0
> 
> 时间：2012-04-13T08:28:42.440
> 
> 标签：pdf-generation, mpdf

我用 HTML 和 CSS 制作了一个网站，然后我使用此代码将其转换为 pdf：

```
<?php

include("mpdf/mpdf.php");

$mpdf=new mPDF('c','A4','','' , 0 , 0 , 0 , 0 , 0 , 0); 
$mpdf->SetDisplayMode('fullpage');

$mpdf->list_indent_first_level = 0; // 1 or 0 - whether to indent the
first level of a list

$mpdf->WriteHTML(file_get_contents('myhtmlcssfile.php'));
$mpdf->Output();

?> 
```

一切都很好，它很好地转换了 .php 文件，直到我使用这个函数：

```
<?php echo $_POST["something"]; ?> 
```

其中“某物”是表单中的一个字段。
所以它不打印发送的 POST 方法，只打印 php 代码。
我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T21:04:32.377

我发现当您使用“文件获取内容”命令时，它只会读取文件，不会执行文件。您需要将 HTML 实际编码到页面中。

```
 $mpdf->WriteHTML('put your page code here.'.$put your $_POST["something"] values here.' Continue page code.'); 
```

# ruby - 路由中间件导致的错误？

> ID：10137583
> 
> 赞同：2
> 
> 时间：2012-04-13T08:28:58.980
> 
> 标签：ruby, ruby-on-rails-3, middleware, rack-middleware

我有一个使用[公寓 gem](https://github.com/bradrobertson/apartment)的应用程序，我试图将由（公寓）中间件引起的错误路由到特定页面，但我不知道如何解决这个问题。我尝试将其放入控制器中，但没有帮助，因为它在中间件层引发了错误。将它放入路由也没有帮助，因为公寓中间件在路由之前执行。

# php - Symfony2 - 表单正在尝试验证未使用的字段

> ID：10137586
> 
> 赞同：1
> 
> 时间：2012-04-13T08:29:08.993
> 
> 标签：php, symfony

所以，我有一个表单，允许用户更新他们的个人资料详细信息（姓名、电子邮件等）

表单使用指向用户实体的表单类型 (UserType) 正确显示。UserType 使用用户名、电子邮件构建表单，然后扩展到 ProfileType - 另一种表单类型，包括他们的真实姓名、地址等。

正如我所提到的，表单正确显示在页面上。

现在，在我的 validation.yml 文件中，我指向 User 和 Profile 实体，对于 User，我定义了 3 个验证规则，分别用于用户名、电子邮件和密码。对于 Profile，我正在定义名称和公司名称的规则。所有规则都有 NotBlank，电子邮件也有检查以确保它是有效的，并且密码有最大和最小长度定义。

现在，最近添加了密码规则。以前，此表单工作正常，没有问题。

添加密码规则，当表单提交时，它会尝试检查这个验证规则，但是页面上没有呈现密码字段，甚至在表单类型中提到了用户类型。

当然，如果我不使用输入，它不应该根据验证规则检查它吗？

下面的代码：

验证.yml

```
DEMO\DemoBundle\Entity\User\Profile:
properties:
    name:
        - NotBlank: ~
    pubName:
        - NotBlank: ~

DEMO\DemoBundle\Entity\User\User:
    properties:
        username:
            - NotBlank:
                message: Username cannot be blank.
        email:
            - NotBlank: ~
            - Email:
                message: The email "{{ value }}" is not a valid email.
                checkMX: true
        password:
            - MaxLength: { limit: 20, message: "Your password must not exceed {{ limit }} characters." }
            - MinLength: { limit: 4, message: "Your password must have at least {{ limit }} characters." }
            - NotBlank: ~ 
```

用户类型.php

```
namespace DEMO\DemoBundle\Form\Type\User;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilder;
use Symfony\Component\Form\FormError;
use Symfony\Component\Form\CallbackValidator;

use DEMO\DemoBundle\Form\Type\User\ProfileType;

class UserType extends AbstractType
{
    public function buildForm(FormBuilder $builder, array $options)
    {
        $builder->add('username');
        $builder->add('email');
        $builder->add('profile', new ProfileType());
    }

    public function getDefaultOptions(array $options)
    {
        return array(
            'data_class' => 'DEMO\DemoBundle\Entity\User\User',
        );
    }

    public function getName()
    {
        return 'user';
    }
} 
```

配置文件类型.php

```
namespace DEMO\DemoBundle\Form\Type\User;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilder;
use Symfony\Component\Form\FormError;
use Symfony\Component\Form\CallbackValidator;

class ProfileType extends AbstractType
{
    public function buildForm(FormBuilder $builder, array $options)
    {
        $builder->add('name');
        $builder->add('companyName', null, array('label' => 'Company Name'));
        $builder->add('address1', null, array('label' => 'Address 1'));
        $builder->add('address2', null, array('label' => 'Address 2'));
        $builder->add('city');
        $builder->add('county');
        $builder->add('postcode');
        $builder->add('telephone');
    }

    public function getDefaultOptions(array $options)
    {
        return array(
            'data_class' => 'DEMO\DemoBundle\Entity\User\Profile',
        );
    }

    public function getName()
    {
        return 'profile';
    }
} 
```

仪表板控制器.php

```
public function profileAction(Request $request)
    {

        $user = $this->get('security.context')->getToken()->getUser();

        $form = $this->createForm(new UserType(), $user);

        if ($request->getMethod() == 'POST') {
            $form->bindRequest($request);

            if ($form->isValid()) {
                // Get $_POST data and submit to DB
                $em = $this->getDoctrine()->getEntityManager();
                $em->persist($user);
                $em->flush();

                // Set "success" flash notification
                $this->get('session')->setFlash('success', 'Profile saved.');
            }

        }

        $breadcrumbs = $this->get("white_october_breadcrumbs");
        $breadcrumbs->addItem("Home", $this->get("router")->generate("shop"));
        $breadcrumbs->addItem("My Account", $this->get("router")->generate("shop"));
        $breadcrumbs->addItem("My Profile", $this->get("router")->generate("shop"));

        return $this->render('DEMODemoBundle:User\Dashboard:profile.html.twig', array('form' => $form->createView()));
    } 
```

profile.html.twig

```
<div class="container">
    <div class="row">
        <div class="span12">
            {% form_theme form 'DEMODemoBundle:User\\Form:fields.html.twig' %}

            {{ form_errors(form) }}

            <form action="{{ path('tk_update_profile') }}" class="form-horizontal" method="post" {{ form_enctype(form) }} novalidate="novalidate">
                <fieldset>
                    <legend>Your Details</legend>
                    {{ form_row(form.username) }}
                    {{ form_row(form.profile.name) }}
                    {{ form_row(form.email) }}
                </fieldset>
                <fieldset>
                    <legend>Company Details</legend>
                    {{ form_row(form.profile.companyName) }}
                    {{ form_row(form.profile.address1) }}
                    {{ form_row(form.profile.address2) }}
                    {{ form_row(form.profile.city) }}
                    {{ form_row(form.profile.county) }}
                    {{ form_row(form.profile.postcode) }}
                    {{ form_row(form.profile.telephone) }}
                </fieldset>
                <fieldset>
                    <div class="form-actions">
                        {{ form_rest(form) }}
                        <input class="btn-primary" type="submit" value="Save" />
                        <input class="btn-warning" type="reset" value="Reset">
                    </div>
                </fieldset>
            </form>
        </div>
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-14T08:47:43.207

填写表单时，由 User 实体支持，系统将尝试创建一个新的 User 对象并验证属于该实体的每条规则。
您需要的是验证组，您基本上会说“只需检查在我执行“编辑”操作时适用的约束”。

你可以在这里查看： http: [//symfony.com/doc/current/book/validation.html#validation-groups](http://symfony.com/doc/current/book/validation.html#validation-groups)

# objective-c - UIScrollView 不在设备上滚动

> ID：10137588
> 
> 赞同：1
> 
> 时间：2012-04-13T08:29:14.853
> 
> 标签：objective-c, ios, uiscrollview, scroll

我使用 IB 在我的视图中添加了一个滚动视图。ScrollView 包含文本字段，当用户点击文本字段时，我以编程方式向上滚动 UIScrollView。我的源代码如下。

```
-(void)textFieldDidEndEditing:(UITextField *)textField{
     [inviteFriendScrollView setContentOffset:CGPointMake(0, 0) animated:YES];
}

-(void)textFieldDidBeginEditing:(UITextField *)textField{
    [inviteFriendScrollView setContentOffset:CGPointMake(0, 30) animated:YES]; 
```

}

此代码在模拟器上运行良好，但是当我在设备上尝试此操作（我的设备是 iOS 5.0）时，尽管执行了上面的代码，但滚动不会向上或向下移动。我注意到如果我将动画：YES 更改为动画：NO，代码在设备上也可以正常工作。

谁能告诉我为什么动画滚动在设备上不起作用？

此致

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-17T12:02:05.010

我有一个类似的问题 - UIScrollView 在模拟器上工作，但在我尝试调试它时无法在设备（iPad）上工作。它在我重建应用程序后得到修复（在 XCode 菜单 Product -> Clean，然后是 Build）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T09:31:17.920

我发现的唯一一件事是，如果您在 textFieldDidBeginEditing 设置断点然后继续，它往往会更频繁地工作。所以它可能是 UIScrollView API 动画的一些计时错误。

# java - 从嵌入式 Java 小程序获取移动事件

> ID：10137590
> 
> 赞同：1
> 
> 时间：2012-04-13T08:29:23.520
> 
> 标签：java, events, applet, awt

当嵌入式 Java 小程序因为浏览器移动而改变位置时，是否可以获得事件？

明显的方法不起作用：

```
applet.addComponentListener(new ComponentListener() {               
    public void componentMoved(ComponentEvent e) {
        System.out.println("componentMoved");
    }
    // snip
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:33:18.583

循环调用`getLocationOnScreen()`小程序中的任何固定元素。请注意，滚动包含小程序的页面时也会触发。

# python - Python - 仅获取连接的本地网卡的 MAC 地址

> ID：10137594
> 
> 赞同：1
> 
> 时间：2012-04-13T08:30:00.723
> 
> 标签：python, networking, ethernet

目标是收集**连接的本地网卡的 MAC 地址，而不是所有本地网卡的列表**:)

通过使用`socket`and `connect (to_a_website)`，我可以`getsockname()`用来获取用于连接到 Internet 的 IP。

但是如何从 IP 中获取本地 NIC 的 MAC 地址？

问题的主要原因是是否有多个 NIC。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-03T10:31:10.227

正如 vartec 建议的那样`netifaces`，从 IP->iface 开始应该可以很好地工作：

```
 import netifaces as nif
    def mac_for_ip(ip):
        'Returns a list of MACs for interfaces that have given IP, returns None if not found'
        for i in nif.interfaces():
            addrs = nif.ifaddresses(i)
            try:
                if_mac = addrs[nif.AF_LINK][0]['addr']
                if_ip = addrs[nif.AF_INET][0]['addr']
            except IndexError, KeyError: #ignore ifaces that dont have MAC or IP
                if_mac = if_ip = None
            if if_ip == ip:
                return if_mac
        return None 
```

测试：

```
 >>> mac_for_ip('169.254.90.191')
    '2c:41:38:0a:94:8b' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:39:11.350

您无法检索外部 IP 的 MAC 地址。

有关更多说明，请参阅[如何在 C# 中获取外部 IP 的 MAC 地址](https://stackoverflow.com/questions/3254126/how-to-get-mac-address-of-external-ip-in-c-sharp)的讨论。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-13T09:33:12.710

使用[netifaces](http://alastairs-place.net/projects/netifaces/)模块。它也在[PyPI 上](http://pypi.python.org/pypi/netifaces)，因此您可以通过`easy_install`或安装它`pip`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-13T09:05:44.313

您无法从套接字中捕获 MAC 地址。您需要一个[以太网帧](http://en.wikipedia.org/wiki/Ethernet_frame)，它可以在 tcp 处理链的最低层找到。要做到这一点，您需要监控（捕获）您的网络流量，通过解析数据包来查找一些数据包标题。并从中提取所需的信息，例如mac地址。

这是[有用的代码跨度](http://code.activestate.com/recipes/576678-packet-monitoring-with-pcap-and-dpkt/)，可以帮助您做到这一点。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-13T08:35:22.117

执行此操作的一种原始方法是使用操作系统上可用的命令行工具。`subprocess`使用模块（不是！）运行该工具`os.system()`，收集输出并解析它。

在 Windows 上，您想要的命令是`ipconfig /all`.

在大多数 Unices 上，包括 Linux、OSX 和 BSD，它是`ifconfig`.

可能有更好的方法可以做到这一点，而无需使用命令行实用程序，但我不知道......*但是*。

`ipconfig /all`Windows XP 上的示例输出：

```
D:\Documents and Settings\LAYip>ipconfig /all

Windows IP Configuration

        Host Name . . . . . . . . . . . . : <redacted>
        Primary Dns Suffix  . . . . . . . : <redacted>
        Node Type . . . . . . . . . . . . : Hybrid
        IP Routing Enabled. . . . . . . . : No
        WINS Proxy Enabled. . . . . . . . : No
        DNS Suffix Search List. . . . . . : <redacted>
                                            <redacted>

Ethernet adapter Local Area Connection:

        Connection-specific DNS Suffix  . : <redacted>
        Description . . . . . . . . . . . : Intel(R) 82579LM Gigabit Network Con
nection #2
        Physical Address. . . . . . . . . : 5C-26-0A-60-8D-C7
        Dhcp Enabled. . . . . . . . . . . : Yes
        Autoconfiguration Enabled . . . . : Yes
        IP Address. . . . . . . . . . . . : xxx.xxx.28.29
        Subnet Mask . . . . . . . . . . . : 255.255.255.0
        Default Gateway . . . . . . . . . : xxx.xxx.28.254
        DHCP Server . . . . . . . . . . . : xxx.xxx.23.13
        DNS Servers . . . . . . . . . . . : xxx.xxx.23.13
                                            xxx.xxx.23.11
        Lease Obtained. . . . . . . . . . : Thursday, 12 April 2012 9:14:41 AM
        Lease Expires . . . . . . . . . . : Friday, 20 April 2012 9:14:41 AM

Ethernet adapter VirtualBox Host-Only Network:

        Connection-specific DNS Suffix  . :
        Description . . . . . . . . . . . : VirtualBox Host-Only Ethernet Adapter
        Physical Address. . . . . . . . . : 08-00-27-00-28-E6
        Dhcp Enabled. . . . . . . . . . . : No
        IP Address. . . . . . . . . . . . : 192.168.56.1
        Subnet Mask . . . . . . . . . . . : 255.255.255.0
        Default Gateway . . . . . . . . . : 
```

`ifconfig`Linux下的输出：

```
lws@helios:~$ ifconfig
eth0      Link encap:Ethernet  HWaddr 00:25:22:db:8c:b6
          inet addr:10.1.1.2  Bcast:10.1.1.255  Mask:255.255.255.0
          inet6 addr: fe80::225:22ff:fedb:8cb6/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:322333 errors:0 dropped:0 overruns:0 frame:0
          TX packets:296952 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:40005876 (40.0 MB)  TX bytes:162343969 (162.3 MB)
          Interrupt:40 Base address:0x4000

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:362 errors:0 dropped:0 overruns:0 frame:0
          TX packets:362 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:31806 (31.8 KB)  TX bytes:31806 (31.8 KB) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-06-05T01:05:20.093

获取系统 mac id 的另一种迂回方法是使用 ping 命令 ping 系统名称，然后针对被 ping 的 IP 地址执行 arp -a 请求。这样做的缺点是你需要将 ping 响应写入 python 的内存并执行 readline 操作以检索 IP 地址，然后在写入系统名称、IP 地址和mac id 到有问题的机器到显示器或测试文件。

我试图做一些类似于系统验证检查的事情，以提高测试过程的自动化，并且脚本暂时在 python 中。

# jquery - Jquery 表单向导 - 强制单选按钮组

> ID：10137595
> 
> 赞同：0
> 
> 时间：2012-04-13T08:30:01.877
> 
> 标签：jquery, radiobuttonlist, formwizard

我想构建一个包含 4-5 个步骤的表单，每个步骤都有 2-3 个强制/必需的单选按钮。

选择的按钮决定下一步，所有步骤最终都会导致一个确认步骤。我遇到的问题是强制按钮：“第一步”提示选择，但后续步骤（例如，选择长发或短发）不会提示您选择长发或短发：

```
<div id="fieldWrapper">
            <span class="step" id="first">
                <span class="font_normal_07em_black">Dog or Cat?</span><br />
                Dog: <input id="dog_or_cat" type="radio" class="link required" value="dog" name="goto" /><br />
                Cat: <input id="dog_or_cat" type="radio" class="link" value="cat" name="goto" />

                <br />
            </span>

                    <span id="cat" class="step">
                        <span class="font_normal_07em_black">Cat: long or short hair?</span><br />
                        Long: <input id="cat_long_or_short" type="radio" class="link required" value="cat_long" name="goto" /><br />
                        Short:<input id="cat_long_or_short" type="radio" class="link" value="cat_short" name="goto" />  
                    </span>

                            <span id="cat_short" class="step">
                            <span class="font_normal_07em_black">Cat: Short Hair</span><br />
                            <input type="hidden" class="link" value="confirmation" />
                            </span>

                            <span id="cat_long" class="step">
                            <span class="font_normal_07em_black">Cat: Long Hair</span><br />
                            <input type="hidden" class="link" value="confirmation" />
                            </span>

                    <span id="dog" class="step">
                        <span class="font_normal_07em_black">Dog: Large or Small?</span><br />
                        Large: <input id="dog_large_or_small" type="radio" class="link required" value="dog_large" name="goto" /><br />
                        Small: <input id="dog_large_or_small" type="radio" class="link" value="dog_small" name="goto" />    
                    </span>

                            <span id="dog_large" class="step">
                            <span class="font_normal_07em_black">Dog: Large</span><br />
                            <input type="hidden" class="link" value="confirmation" />
                            </span>

                            <span id="dog_small" class="step">
                            <span class="font_normal_07em_black">Dog: Small</span><br />
                            <input type="hidden" class="link" value="confirmation" />
                            </span>

            </span>

            <span id="confirmation" class="step">
                <span class="font_normal_07em_black">Confirmation</span><br />
            </span>

            </div>
            <div id="demoNavigation">                           
                <input class="navigation_button" id="back" value="Back" type="reset" />
                <input class="navigation_button" id="next" value="Next" type="submit" />
            </div>
        </form>
        <hr />

        <p id="data"></p>
    </div> 
```

# python - 未解决的导入：webbrowser

> ID：10137596
> 
> 赞同：1
> 
> 时间：2012-04-13T08:30:02.167
> 
> 标签：python, aptana, python-webbrowser

当我在 Aptana Studio 3 中运行以下代码时，在运行 OS X 10.6(Snowleopard) 的 iMac 上构建：3.0.9.201202141038 我收到以下错误。

```
import webbrowser
webbrowser.open('http://google.com')

Traceback (most recent call last):   File
"/Users/gianl/Documents/Aptana Studio 3 Workspace/Thought Log 3 w
dropbox/src/webbrowser.py", line 1, in <module>
    import webbrowser   File "/Users/gianl/Documents/Aptana Studio 3 Workspace/Thought Log 3 w dropbox/src/webbrowser.py", line 3, in
<module>
    webbrowser.open('http://google.com') AttributeError: 'module' object has no attribute 'open' 
```

当我在终端中没有收到此错误时，为什么我在 Aptana 中收到此错误？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-13T10:51:24.757

您将文件命名为`webbrowser.py`. 它隐藏真实`webbrowser`模块并导入自身。

更改您的文件名并删除`webbrowser.pyc`也在同一目录中的文件，然后重试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-07-12T16:01:49.270

您所要做的就是将 python 脚本的名称从 webbrowser.py 更改为 my_web_browser.py 之类的名称。我不知道为什么会这样，我的猜测是这可能是一个指针问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-12-17T12:07:38.307

重命名您的 .PY 文件 .. 确保这不是 webbrowser.py ... 如果您正在导入 webbrowser，您可以将其命名为任何名称，然后您无法将文件另存为 webbrowser.py 如果您正在导入请求，那么您不能将您的文件名命名为 request.py

在镜头中永远不要将您的文件命名为导入的模块名称.. 是的，您可以输入 my_request.py 或 my_webbrowser.py 祝你好运

# javascript - 改变谷歌地图api v2的颜色

> ID：10137598
> 
> 赞同：0
> 
> 时间：2012-04-13T08:30:20.287
> 
> 标签：javascript, asp.net

如何在谷歌地图 api 中更改方向线的颜色我检查了 gdriection，但没有关于颜色的内容这是我的代码

```
function direction() 
{
    var txtAddress = document.getElementById("<%=txtAddress.ClientID %>");

    var address = txtAddress.value;

    var TextBox1 = document.getElementById("<%=TextBox1.ClientID %>");

    var address1 = TextBox1.value;

    directions = new GDirections(map, directionsPanel);
    directions.load("from: " + address1 + " to: " + address + "");

  //  var address =txtAddress.value + "  " + TextBox3.value;

} 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:51:19.853

在 Google 地图组中查看类似的答案：[https ://groups.google.com/forum/?fromgroups#!topic/google-maps-api/-1yGOmMwd7I](https://groups.google.com/forum/?fromgroups#!topic/google-maps-api/-1yGOmMwd7I)

似乎您在实例化 后无法更改颜色`GPolyLine`，因此您需要构建两个`GPolyLine`s 并从叠加层中添加/删除它们以显示不同的颜色。

在不知道更好的情况下，一种方法是：

1.  不要传递`GDirections`构造函数 a `GMap`，所以它不会添加任何`GPolyLine`s
2.  `GLatLng`构建一个顶点 数组`GDirections.getVertex(index)`
3.  `GPolyLine`用不同的颜色构建你自己的s
4.  用`GPolyLine`_ `GMap2.addOverlay(GOverlay)`

# sharepoint - 在 SharePoint 2010 中将上载更改为不同的文档库

> ID：10137601
> 
> 赞同：0
> 
> 时间：2012-04-13T08:30:33.053
> 
> 标签：sharepoint, sharepoint-2010

有没有办法将上传更改为文档库，以便将文件上传到另一个库？

我的要求是：如果用户将文档上传到库 A，它应该被上传到隐藏库 B，文件将以某种方式处理，然后处理后的文件被放入库 A。原始文件不应该在库 A 在任何时候，因此在库 A 中上传后处理文件只是一个后备选项，如果没有办法这样做的话。

它只需要从网站上工作。一种适用于办公室上传的方法会很好，但不是必需的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T09:43:29.293

您可以创建一个自定义操作，用您自己的指向您自己的 ASPX 页面来替换 doclib A 中的上传功能区按钮。此页面将允许发布文件以及您需要的任何其他内容。在后面的代码中，您将在 doclib B 中创建一个包含已发布文件内容的新文档。您可以使用工作流或其他方式来处理文档。

尚未解决的问题：多文件上传、Office 上传、WebDAV 上传。您可以为多文件处理创建另一个页面，但我无法想象如何处理后两个页面。

--- 费尔达

# c# - 在 WPF 中显示 Revit 模型

> ID：10137608
> 
> 赞同：1
> 
> 时间：2012-04-13T08:31:02.977
> 
> 标签：c#, wpf, revit-api

我目前正在从事一个项目，该项目进行传感器测量，然后显示它们的值并控制它们。这是很简单的东西。传感器放置在墙壁和天花板上的房屋外。我有房子的 Revit 计划，这就是我遇到困难的地方。从 Revit API 的阅读内容中，您可以为程序制作插件，但没有人使用它来获得在自己的应用程序中显示模型的功能（没有主要的只是缩放和旋转）。我正在寻找您认为对我有帮助的任何一种解决方案。如果 API 不支持此功能，您能否建议一种使用 DirectX 或 OpenGL 绘制模型的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-30T17:05:28.443

Revit 2013 SDK 中有一个新示例，它展示了 Revit View WPF API，它可以满足您的需求。

杰里米在这里写了关于样本的文章：http: [//thebuildingcoder.typepad.com/blog/2012/03/new-revit-2013-sdk-samples.html#4](http://thebuildingcoder.typepad.com/blog/2012/03/new-revit-2013-sdk-samples.html#4)

# html - 如何突出显示菜单中的菜单项

> ID：10137612
> 
> 赞同：-3
> 
> 时间：2012-04-13T08:31:35.833
> 
> 标签：html, css

我在网页中使用 CSS 菜单，我想知道如何突出显示 CSS 菜单的选定菜单项。我在下面粘贴了 HTML/CSS 代码。任何人都可以通过发布突出显示菜单项的代码片段来帮助我吗？

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <title>Generated by Pure CSS Menu.com : Free CSS Drop Down Menu Generator</title>
    <meta name="description" content="Online CSS Menu Maker. Create No-Javascript, 100% CSS Dropdown Menu in seconds! Horizontal css menu & Vertical css menu." />
</head>
<body bgcolor="#ffffff">

<!-- Start PureCSSMenu.com STYLE -->
<style>
#pcm{display:none;}
ul.pureCssMenu ul{display:none}
ul.pureCssMenu li:hover>ul{display:block}
ul.pureCssMenu ul{position: absolute;left:-1px;top:98%;}
ul.pureCssMenu ul ul{position: absolute;left:98%;top:-2px;}
ul.pureCssMenu,ul.pureCssMenu ul {
    margin:0px;
    list-style:none;
    padding:0px 1px 1px 0px;
    background-color:#A5A5A5;
    background-repeat:repeat;
    border-color:#A6A6A6;
    border-width:0px;
    border-style:solid;
}
ul.pureCssMenu table {border-collapse:collapse}ul.pureCssMenu {
    display:block;
    zoom:1;
    float: left;
}
ul.pureCssMenu ul{
    width:0px;
}
ul.pureCssMenu li{
    display:block;
    margin:1px 0px 0px 1px;
    font-size:0px;
}
ul.pureCssMenu a:active, ul.pureCssMenu a:focus {
outline-style:none;
}
ul.pureCssMenu a, ul.pureCssMenu li.dis a:hover, ul.pureCssMenu li.sep a:hover {
    display:block;
    vertical-align:middle;
    background-color:#FFFFFF;
    border-width:0px;
    border-color:#FCEEB0;
    border-style:solid;
    text-align:left;
    text-decoration:none;
    padding:5px;
    _padding-left:0;
    font:normal 11px Arial;
    color: #000000;
    text-decoration:none;
    cursor:pointer;
}
ul.pureCssMenu span{
    overflow:hidden;
}
ul.pureCssMenu li {
    float:left;
}
ul.pureCssMenu ul li {
    float:none;
}
ul.pureCssMenu ul a {
    text-align:left;
    white-space:nowrap;
}
ul.pureCssMenu li.sep{
    text-align:left;
    padding:0px;
    line-height:0;
    height:100%;
}
ul.pureCssMenu li.sep span{
    float:none; padding-right:0;
    width:3;
    height:100%;
    display:inline-block;
    background-color:#A6A6A6;   background-image:none;}
ul.pureCssMenu ul li.sep span{
    width:100%;
    height:3;
}
ul.pureCssMenu li:hover{
    position:relative;
}
ul.pureCssMenu li:hover>a{
    background-color:#FF1C1C;
    border-color:#4C99AB;
    border-style:solid;
    font:normal 11px Arial;
    color: #FFFFFF;
    text-decoration:none;
}
ul.pureCssMenu li a:hover{
    position:relative;
    background-color:#FF1C1C;
    border-color:#4C99AB;
    border-style:solid;
    font:normal 11px Arial;
    color: #FFFFFF;
    text-decoration:none;
}
ul.pureCssMenu li.dis a {
    color: #AAAAAA !important;
}
ul.pureCssMenu img {border: none;float:left;_float:none;margin-right:5px;width:16px;
height:16px;
}
ul.pureCssMenu ul img {width:16px;
height:16px;
}
ul.pureCssMenu img.over{display:none}
ul.pureCssMenu li.dis a:hover img.over{display:none !important}
ul.pureCssMenu li.dis a:hover img.def {display:inline !important}
ul.pureCssMenu li:hover > a img.def  {display:none}
ul.pureCssMenu li:hover > a img.over {display:inline}
ul.pureCssMenu a:hover img.over{display:inline}
ul.pureCssMenu a:hover img.def{display:none}
ul.pureCssMenu span{
    display:block;
    background-image:url(./images/arrv_blue_2.gif);
    background-position:right center;
    background-repeat: no-repeat;
   padding-right:8px;}
ul.pureCssMenu li:hover>a>span{ background-image:url(./images/arrv_white_2.gif);
}
ul.pureCssMenu a:hover span{    _background-image:url(./images/arrv_white_2.gif)}
ul.pureCssMenu ul span,ul.pureCssMenu a:hover table span{background-image:url(./images/arr_blue_2.gif)}
ul.pureCssMenu ul li:hover > a span{    background-image:url(./images/arr_white_2.gif);}
ul.pureCssMenu li a.pureCssMenui0{
font:n;
}
ul.pureCssMenu li a.pureCssMenui0:hover{
font:o;
}
</style>
<!-- End PureCSSMenu.com STYLE -->

<!-- Start PureCSSMenu.com MENU -->
<ul class="pureCssMenu pureCssMenum">
    <li class="pureCssMenui0"><a class="pureCssMenui0" href="#">Home</a></li>
    <li class="pureCssMenui0"><a class="pureCssMenui0" href="#">About us</a></li>
    <li class="pureCssMenui0"><a class="pureCssMenui0" href="#">FAQ</a></li>
    <li class="pureCssMenui0"><a class="pureCssMenui0" href="#">Gallery</a></li>
    <li class="pureCssMenui0"><a class="pureCssMenui0" href="#">Forums</a></li>
    <li class="pureCssMenui0"><a class="pureCssMenui0" href="#">Contact us</a></li>
</ul>
<a id="pcm" href="http://www.purecssmenu.com/">CSS Drop Down Menu by PureCSSMenu.com</a>
<!-- End PureCSSMenu.com MENU -->

<!-- (c) 2009, PureCSSMenu.com -->

<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:37:57.353

我想你想要的是上课

```
ul.pureCssMenuSelected {
   //whatever the selection should look like
} 
```

然后，在您访问的每个 html 页面中，将该类添加到该页面所引用的选项中。

```
<ul class="pureCssMenu pureCssMenum">
    <li class="pureCssMenui0"><a class="pureCssMenui0 pureCssMenuSelected" href="#">Home</a></li>
    <li class="pureCssMenui0"><a class="pureCssMenui0" href="#">About us</a></li>
    <li class="pureCssMenui0"><a class="pureCssMenui0" href="#">FAQ</a></li>
    <li class="pureCssMenui0"><a class="pureCssMenui0" href="#">Gallery</a></li>
    <li class="pureCssMenui0"><a class="pureCssMenui0" href="#">Forums</a></li>
    <li class="pureCssMenui0"><a class="pureCssMenui0" href="#">Contact us</a></li>
</ul> 
```

这当然是因为 html 无法猜测所选项目的含义。

PS：可能您可能不想在该选项上使用锚链接。

PPS：正如其他人提到的，如果您在同一页面中使用链接，则需要使用 javascript。在 jQuery 中，代码可以是：

```
$('a').click(function() { 
    $('.pureCssMenuSelected').removeClass('pureCssMenuSelected');
    $(this).addClass('pureCssMenuSelected'); 
} 
```

此外，直接在 HTML 中将类 pureCssMenuSelected 添加到最初选择的项目中。最后，如果您使用最后一个解决方案，请将其命名为*纯*CSS 菜单以外的名称 :)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:47:08.410

如果您在单个页面中使用此链接您也可以使用 jquery

```
$('.pureCssMenu li a').click(function () {
$('.pureCssMenu li a').removeClass('selected');
$(this).addClass('selected');
}); 
```

（或者）

您正在重定向到另一个页面，创建一个类并将该类添加到重定向页面中的相应链接。
我希望这能帮到您...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-13T08:51:58.423

如果您分别在所有页面中使用菜单，您可以添加一个`class`突出显示菜单中相关项目的选项，`webdreamer`如上所述。

如果您使用菜单作为母版页中的控件，您应该找到当前页面并手动添加类。如果您可以使用，您可以使用[.addClass()](http://api.jquery.com/addClass/)和 [.removeClass()](http://api.jquery.com/removeClass/)`JQuery`执行此项目[单击](http://api.jquery.com/click/)

# objective-c - 在 Xcode 中为 Mac OS X 创建安装程序

> ID：10137613
> 
> 赞同：11
> 
> 时间：2012-04-13T08:31:44.583
> 
> 标签：objective-c, xcode, macos, xcode4, dmg

我在 Xcode 中创建了一个小应用程序。我怎样才能将该应用程序作为安装程序 (.DMG)。我是这个 Mac OS x 和 Xcode 环境的新手。

我必须使用第三方软件还是 Xcode4 本身有任何方法来创建 .dmg。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:53:54.797

您可能需要考虑使用 PackageMaker，它会为您的应用程序创建.pkg 包，这对于用户通过 Apple 远程桌面在多台机器上部署您的应用程序很有用

[Apple PackageMaker 用户指南](https://developer.apple.com/legacy/library/documentation/DeveloperTools/Conceptual/PackageMakerUserGuide/Introduction/Introduction.html)

[Apple 远程桌面 - 软件分发](http://www.apple.com/remotedesktop/softwaredistribution.html)

# java - Eclipse Java 部署：如何将自动生成文件添加到 Jar 文件中

> ID：10137615
> 
> 赞同：0
> 
> 时间：2012-04-13T08:31:55.593
> 
> 标签：java, eclipse, deployment, executable-jar

我已经完成了我的项目，现在我已经将它部署到 jar 文件中。但是我遇到了一个问题：

我的程序在 Eclipse 中自动生成一个文件（例如：data.sav），它出现在最前面的项目文件夹中。当我部署时，这个文件不包含 jar 文件。所以，它从没有数据开始。

在我运行并做某事之后，它再次制作了data.sav。但是，我在那个 jar 文件中没有看到这个文件。我这样说是因为我希望将旧的 data.sav 覆盖为新的 data.sav。

所以，请教我，如何将“data.sav”包含到 jar 文件中。在 Eclipse 中部署时我没有看到这个选项。

这是我要编写文件的代码：

```
ObjectOutputStream writer = new ObjectOutputStream(
    new FileOutputStream("data.sav")); 
```

为了更清楚我为什么这样做。**例如**，一个游戏有一个包含最多 10 人高分的列表。当你第一次玩的时候，还没有人玩，所以我必须在这个高分榜上写一些人来“作弊”，所以我的程序有一些以前玩过的**“傻瓜玩家”**。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T09:01:06.230

罐子是只读的。请参阅[Java 程序如何使用 .jar 中的文件进行读写？](https://stackoverflow.com/q/5052311/418556)更多细节。

[`Preferences`](http://docs.oracle.com/javase/7/docs/api/java/util/prefs/Preferences.html)也许使用API可以更好地存储高分。它会自动处理“将信息放在哪里”。

否则，我将拥有该应用程序。将虚拟分数和任何后续真实分数写入`user.home`. 那是一个应该允许读/写标准 Java 应用程序的地方。

# c++ - Visual Studio 2008，检测内存泄漏，未定义符号“__FILE__”

> ID：10137616
> 
> 赞同：1
> 
> 时间：2012-04-13T08:32:01.097
> 
> 标签：c++, windows, visual-studio-2008, winapi

我正在尝试识别我的 c++ 程序中的 memleaks。我使用 Visual Studio 2008。

我发现了一些教程处理在使用 new 而不是 malloc 进行内存分配时识别 memleaks，这是我在主要内容之上定义的：

```
#define __STDC_CONSTANT_MACROS 

#ifdef _DEBUG
#define _CRTDBG_MAP_ALLOC
#include <stdlib.h>
#include <crtdbg.h>
#define DEBUG_NEW new(_NORMAL_BLOCK, __FILE__, __LINE__)
#define new DEBUG_NEW
#endif 
```

不幸的是，我得到了大量的错误，你可以在这里看到：http: [//pastebin.com/9ax90VTg](http://pastebin.com/9ax90VTg)

但我想我发现了问题：没有更近的`__FILE__`也没有`__LINE__`定义。当我点击“RMB->go to definition”或“RMB->go to declaration”，`__FILE__` 或者`__LINE__` 我得到：

```
the symbol '__FILE__' is not defined 
```

和

```
the symbol '__LINE__  ' is not defined 
```

分别。

我应该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:37:41.547

你找错树了。`__FILE__`并由`__LINE__`预处理器处理。他们不应该被定义。您没有向我们展示产生这些错误的实际代码，所以我不确定我们如何为您提供帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:39:29.543

符号`__FILE__`和`__LINE__`应始终由编译器定义。如果不是，您必须使用一些特殊选项来禁止它们。

另一方面，您发布的代码不能与标准库一起使用，因此应避免使用。这*不是*查找内存泄漏的好方法。

编辑：重读您的帖子：您似乎指望调试器向您展示定义；它不能，因为它们是由编译器自动生成的，在编译过程中会发生变化。另一方面，您看到的错误与您的宏以破坏标准库代码的方式重新定义关键字这一事实非常兼容。

# jquery-mobile - 带有双范围滑块的 jQuery Mobile

> ID：10137620
> 
> 赞同：2
> 
> 时间：2012-04-13T08:32:11.603
> 
> 标签：jquery-mobile, slider

我尝试在网站移动版本上使用两个滑块，如这篇文章中的双范围滑块：

[jQuery Mobile 双范围滑块工作但有问题](https://stackoverflow.com/questions/9237191/jquery-mobile-dual-range-slider-working-but-buggy)

它工作得很好但是当我加载第一页时我只有一个问题我没有问题但是当我转到另一个页面并返回我的第一页时它保持我的第一个范围限制。

例子 ：

首先将一个滑块的最小值设置为 0，最大值设置为 100，如果我将最小值滑块设置为 40，然后尝试将最大值滑到 40 以下，它会停止到 40，没关系。但是当我更改页面并返回时，我不能在 40 之后滑动最小滑块，在 40 下滑动最大滑块（它保持冲突所在的值）！

如果有人可以帮助我理解，那就太好了！谢谢，亚历克斯

# java - FacesConverter 的用例

> ID：10137623
> 
> 赞同：-1
> 
> 时间：2012-04-13T08:32:19.170
> 
> 标签：java, jsf, facelets, el, cdi

参考我以前的[问题](https://stackoverflow.com/questions/10058852/)，为什么 @PostConstruct 方法不可运行？

glassfish 给出：

```
INFO: MessageBean..
INFO: MessageBean.getModel..
INFO: SingletonNNTP.getMessages..
INFO: MessageBean.getModel..
INFO: SingletonNNTP.getMessages..
INFO: SingletonNNTP.setIndex..2,205
INFO: SingletonNNTP.setIndex..2,205
INFO: SingletonNNTP.setIndex..2,206
INFO: SingletonNNTP.setIndex..2,206
INFO: SingletonNNTP.setIndex..2,207
INFO: SingletonNNTP.setIndex..2,207
INFO: SingletonNNTP.setIndex..2,208
INFO: SingletonNNTP.setIndex..2,208
INFO: SingletonNNTP.setIndex..2,209
INFO: SingletonNNTP.setIndex..2,209
INFO: SingletonNNTP.setIndex..2,210
INFO: SingletonNNTP.setIndex..2,210
INFO: SingletonNNTP.setIndex..2,211
INFO: SingletonNNTP.setIndex..2,211
INFO: SingletonNNTP.setIndex..2,212
INFO: SingletonNNTP.setIndex..2,212
INFO: SingletonNNTP.setIndex..2,213
INFO: SingletonNNTP.setIndex..2,213
INFO: SingletonNNTP.setIndex..2,214
INFO: SingletonNNTP.setIndex..2,214
INFO: SingletonNNTP.setIndex..2,215
INFO: SingletonNNTP.setIndex..2,215
INFO: MessageBean.getModel..
INFO: SingletonNNTP.getMessages..
INFO: Detail..
WARNING: /foo/detail.xhtml @9,67 value="#{detail.id}": org.jboss.weld.exceptions.WeldException: WELD-000049 Unable to invoke [method] @PostConstruct public net.bounceme.dur.nntp.Detail.configBean() on net.bounceme.dur.nntp.Detail@c8e43a
javax.el.ELException: /foo/detail.xhtml @9,67 value="#{detail.id}": org.jboss.weld.exceptions.WeldException: WELD-000049 Unable to invoke [method] @PostConstruct public net.bounceme.dur.nntp.Detail.configBean() on net.bounceme.dur.nntp.Detail@c8e43a
    at com.sun.faces.facelets.el.TagValueExpression.getValue(TagValueExpression.java:114)
    at javax.faces.component.ComponentStateHelper.eval(ComponentStateHelper.java:194)
    at javax.faces.component.ComponentStateHelper.eval(ComponentStateHelper.java:182)
    at javax.faces.component.UIOutput.getValue(UIOutput.java:169)
    at javax.faces.component.UIInput.validate(UIInput.java:972)
    at javax.faces.component.UIInput.executeValidate(UIInput.java:1233)
    at javax.faces.component.UIInput.processValidators(UIInput.java:698)
    at javax.faces.component.UIViewParameter.processValidators(UIViewParameter.java:273)
    at javax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:1214)
    at javax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:1214)
    at javax.faces.component.UIViewRoot.processValidators(UIViewRoot.java:1172)
    at com.sun.faces.lifecycle.ProcessValidationsPhase.execute(ProcessValidationsPhase.java:76)
    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
    at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:593)
    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1542)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:281)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
    at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:655)
    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:595)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:161)
    at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:331)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:231)
    at com.sun.enterprise.v3.services.impl.ContainerMapper$AdapterCallable.call(ContainerMapper.java:317)
    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:195)
    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:849)
    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:746)
    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1045)
    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:228)
    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)
    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)
    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)
    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)
    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)
    at com.sun.grizzly.ContextTask.run(ContextTask.java:71)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)
    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)
    at java.lang.Thread.run(Thread.java:722)
Caused by: org.jboss.weld.exceptions.WeldException: WELD-000049 Unable to invoke [method] @PostConstruct public net.bounceme.dur.nntp.Detail.configBean() on net.bounceme.dur.nntp.Detail@c8e43a
    at org.jboss.weld.bean.AbstractClassBean.defaultPostConstruct(AbstractClassBean.java:508)
    at org.jboss.weld.bean.ManagedBean$ManagedBeanInjectionTarget.postConstruct(ManagedBean.java:174)
    at org.jboss.weld.bean.ManagedBean.create(ManagedBean.java:291)
    at org.jboss.weld.context.AbstractContext.get(AbstractContext.java:107)
    at org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:90)
    at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:79)
    at net.bounceme.dur.nntp.Detail$Proxy$_$$_WeldClientProxy.getId(Detail$Proxy$_$$_WeldClientProxy.java)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at javax.el.BeanELResolver.getValue(BeanELResolver.java:363)
    at com.sun.faces.el.DemuxCompositeELResolver._getValue(DemuxCompositeELResolver.java:176)
    at com.sun.faces.el.DemuxCompositeELResolver.getValue(DemuxCompositeELResolver.java:203)
    at com.sun.el.parser.AstValue.getValue(AstValue.java:138)
    at com.sun.el.parser.AstValue.getValue(AstValue.java:183)
    at com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:224)
    at org.jboss.weld.el.WeldValueExpression.getValue(WeldValueExpression.java:50)
    at com.sun.faces.facelets.el.TagValueExpression.getValue(TagValueExpression.java:109)
    ... 38 more
Caused by: java.lang.reflect.InvocationTargetException
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.jboss.weld.util.reflection.SecureReflections$13.work(SecureReflections.java:264)
    at org.jboss.weld.util.reflection.SecureReflectionAccess.run(SecureReflectionAccess.java:52)
    at org.jboss.weld.util.reflection.SecureReflectionAccess.runAsInvocation(SecureReflectionAccess.java:137)
    at org.jboss.weld.util.reflection.SecureReflections.invoke(SecureReflections.java:260)
    at org.jboss.weld.introspector.jlr.WeldMethodImpl.invoke(WeldMethodImpl.java:174)
    at org.jboss.weld.bean.AbstractClassBean.defaultPostConstruct(AbstractClassBean.java:506)
    ... 56 more
Caused by: java.lang.NumberFormatException: null
    at java.lang.Integer.parseInt(Integer.java:454)
    at java.lang.Integer.parseInt(Integer.java:527)
    at net.bounceme.dur.nntp.Detail.configBean(Detail.java:29)
    ... 66 more

INFO: Detail.. 
```

我之前得到了更好的输出，其中 bean 被实例化但使用默认值并且没有及时获取 URL 参数，因此一些字段被填充而一些没有。

如果我的 Java 代码不清楚，请告诉我不清楚的地方。例如，我知道没有更好的方法将字符串解析为整数。[请参阅此处](https://stackoverflow.com/questions/)的评论。

```
package net.bounceme.dur.nntp;

import java.io.Serializable;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.annotation.PostConstruct;
import javax.enterprise.context.ConversationScoped;
import javax.inject.Named;
import javax.mail.Message;

@Named
@ConversationScoped
public class Detail implements Serializable {

    private static final long serialVersionUID = 1L;
    private static final Logger LOG = Logger.getLogger(Detail.class.getName());
    private String id = null;
    private Message message = null;
    private SingletonNNTP nntp = SingletonNNTP.INSTANCE;
    private int forward = 0;
    private int back = 0;

    public Detail() {
        LOG.info("Detail..");
    }

    @PostConstruct
    public void configBean() {
        int intId = Integer.parseInt(id);
        try {
            nntp.setIndex(intId);
            message = nntp.getMessage();
        } catch (Exception ex) {
            LOG.info("Detail.configBean..failed to set message");
        }
        setForward(intId + 1);
        setBack(intId - 1);
    }

    public Message getMessage() throws Exception {
        LOG.info("Detail.getMessage.." + getId());
        return message;
    }

    public void setMessage(Message message) {
        LOG.info("Detail.setMessage..");
        this.message = message;
    }

    public String getId() throws Exception {
        LOG.info("Detail.getId.." + id);
        if (id == null) { //should never be null, should get from URL as param
            LOG.info("..setting default id");
            id = String.valueOf(2000);
        }
        return id;
    }

    public void setId(String id) throws Exception {
        LOG.info("Detail.setId.." + id);
        this.id = id;
    }

    public int getForward() throws Exception {
        LOG.info("Detail.getForward.." + forward);
        return forward;
    }

    public void setForward(int forward) {
        LOG.info("Detail.setForward.." + forward);
        this.forward = forward;
    }

    public int getBack() throws Exception {
        LOG.info("Detail.setBack.." + back);
        return back;
    }

    public void setBack(int back) {
        LOG.info("Detail.setBack.." + back);
        this.back = back;
    }
} 
```

和观点：

```
<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">
    <body>
        <f:metadata>
            <f:viewParam name="id" id="id" value="#{detail.id}" />
        </f:metadata>
        <ui:composition template="./complexTemplate.xhtml">
            <ui:define name="top">
                <div style="float: left">
                    <h:link value="back" outcome="detail" includeViewParams="true">
                        <f:param name="id" value="#{detail.back}"/>
                    </h:link>
                </div>
                <div style="float: right">
                    <h:link value="forward" outcome="detail" includeViewParams="true">
                        <f:param name="id" value="#{detail.forward}"/>
                    </h:link>
                </div>
                <p align="center"><h:outputText value="#{detail.message.messageNumber}" /></p>
            </ui:define>
            <ui:define name="left">
                <h:outputText value="#{detail.message.sentDate}" /><p/>
                <h:outputText value="#{detail.message.subject}"/><p/>
            </ui:define>
            <ui:define name="right">
            </ui:define>
            <ui:define name="content">
                <h:outputText value="#{detail.message.content}" escape="false"/>
            </ui:define>
            <ui:define name="bottom">
            </ui:define>
        </ui:composition>
    </body>
</html> 
```

我对此的看法是，在 @PostConstruct 之后调用将 URL 参数作为方法参数的 getter/setter 方法，导致 bean 处于不确定状态。bean 已被实例化，但尚未使用 URL 参数中的值初始化字段。这一点，我无法确定 bean 是否已使用 URL 参数初始化。

以前我有输出，这更清楚，但目前我只能产生这个错误。

出于实际目的，我刚刚将@PostConstruct 方法的内容移动到 Detail.setId(String)，这至少有效。查看 oracle[文档](http://docs.oracle.com/javaee/6/tutorial/doc/bnatn.html)，我只是没有直接看到这一点，但是我从这些文档中得出的含义是使用转换器，这也是之前建议的。

我更好奇而不是实际实现一个转换器，因为它似乎是一种非常复杂的方式来做一件简单的事情。但是，@PostConstruct 中的“逻辑”正确地属于转换器吗？

上面的代码不是我实际使用的，它只是针对这个问题，这就是为什么“逻辑”起作用的原因，不是在 @PostConstruct 方法中，而是在 setId() 方法中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:47:12.923

> 尝试使用 @PostConstruct 毫无意义，因为据我所知，该方法在读取参数的 CDI 魔术之前执行。

哎呀，那么规范[一定是错误](http://docs.jboss.org/cdi/spec/1.0/html_single/#fieldsinitializermethods)的:) 伙计，您的代码看起来很乱，您的项目设置可能也是如此？

# ora-00942 - ora-00942 我以用户身份创建了与 sys 的连接。但是我在使用时创建的任何表都会出现此错误

> ID：10137625
> 
> 赞同：0
> 
> 时间：2012-04-13T08:32:31.937
> 
> 标签：ora-00942

声明 REG_NO VARCHAR2(20) := & REG_NO; p_d VARCHAR2(50); 开始

从 Patient_Diagnosis d 中将 d.PROVISIONAL_DIGNOSIS 选择到 p_d 中，其中 d.Registration_No = REG_NO;

插入 D_DETAIL(reg_no, p_d) 值（reg_no, p_d）；

结尾;

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-29T15:55:17.503

您是否验证您的表已使用其他用户模式正确创建？尝试连接这个。您可以使用此查询来验证架构中存在的表：

```
 select * from user_objects where object_type = 'TABLE';

 select TABLE_NAME from ALL_ALL_TABLES; 
```

# sql-server-2008 - 在 SQL Server WHERE 子句中使用 CASE 语句

> ID：10137626
> 
> 赞同：0
> 
> 时间：2012-04-13T08:32:33.767
> 
> 标签：sql-server-2008

我正在尝试`WHERE`根据每个州或城市中存在的人数来更改条款。

如果一个州有超过 10 人，我希望`WHERE`是：

```
WHERE u.StateID = @StateID 
```

如果一个城市有超过 10 个人，我希望它是：

```
WHERE u.CityID = @CityID 
```

代替

```
WHERE u.StateID = @StateID 
```

如果城市或州的人数不超过 10 人，我希望它是：

```
WHERE u.CountryID = '1'

ALTER PROCEDURE GetHighscore
(@UserID int)
AS
BEGIN
Declare @StateCount int
Declare @CityCount int
Declare @StateID int
Declare @CityID int

SELECT @StateID=StateID FROM tblUser WHERE UserID = @UserID

SELECT @CityID=CityID FROM tblUser WHERE UserID = @UserID

SELECT  @StateCount=COUNT(DISTINCT tblUserTrix.UserID)
FROM            tblUserTrix INNER JOIN
                         tblUser ON tblUserTrix.UserID = tblUser.UserID
WHERE        (tblUser.StateID = @StateID)

SELECT @CityCount=COUNT(DISTINCT tblUserTrix.UserID)
FROM            tblUserTrix INNER JOIN
                         tblUser ON tblUserTrix.UserID = tblUser.UserID
WHERE        (tblUser.CityID = @CityID)

SELECT TOP 10        ut.UserID, SUM(t.Hardness) AS TotalTrixPoints, u.FirstName, u.LastName, u.StateID, u.CityID, tblSweCitys.CityName
FROM            tblUserTrix AS ut INNER JOIN
                         tblUser AS u ON ut.UserID = u.UserID INNER JOIN
                         tblState ON u.StateID = tblState.StateID INNER JOIN
                         tblCitys ON u.CityID = tblCitys.CityID LEFT OUTER JOIN
                         tblTrix AS t ON ut.TrixID = t.TrixID

WHERE CASE 
WHEN @StateCount > 10 
THEN u.StateID = @StateID

WHEN @CityCount > 10 
THEN u.CityID = @CityID
ELSE u.CountryID = '1'
        END = ?

GROUP BY ut.UserID, u.FirstName, u.LastName, u.CityID, u.StateID, tblCitys.CityName
ORDER BY TotalTrixPoints DESC   

END 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:37:20.260

您必须使用 AND/OR 运算符和嵌套条件而不是 CASE。

```
(@StateCount > 10 AND u.StateID = @StateID) OR (@CityCount > 10 AND CityID = @CityID) OR (CountryID = '1') 
```

有些像这样。

**更新**：

所以，这个例子真的不适合你。您需要更复杂的 where 子句。试试这个：

```
(@StateCount > 10 AND u.StateID = @StateID)
OR
(@CityCount > 10 AND @StateCount <= 10 AND CityID = @CityID)
OR
(@StateCount <= 10 AND @CityCount <= 10 AND CountryID = '1') 
```

**更新 2**

这更好一点：

```
(@StateCount > 10 AND u.StateID = @StateID)
OR
(@StateCount <= 10 
    AND
    (
        (@CityCount > 10 AND CityID = @CityID)
        OR
        (@CityCount <= 10 AND CountryID = '1')
    )   
) 
```

# objective-c - 如何使用 iOS 5 中的 Twitter 框架获取用户的 Twitter 个人资料？

> ID：10137628
> 
> 赞同：3
> 
> 时间：2012-04-13T08:32:37.653
> 
> 标签：objective-c, ios, ios5, twitter

我可以使用以下代码发布到 Twitter：

```
TWTweetComposeViewController *tweeter = [[TWTweetComposeViewController alloc] init];
        [tweeter setInitialText:@"message"];
        [tweeter addImage:image];
        [self presentModalViewController:tweeter animated:YES]; 
```

如何使用 iOS 5 中的 Twitter 框架获取用户的 Twitter 个人资料？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-08T23:05:56.180

好吧，假设您想在表格中显示用户在其设备上拥有的 Twitter 帐户。您可能希望在表格单元格中显示头像，在这种情况下您需要查询 Twitter 的 API。

假设您有一个`NSArray`对象`ACAccount`，您可以创建一个字典来存储每个帐户的额外配置文件信息。你的表视图控制器`tableView:cellForRowAtIndexPath:`需要一些这样的代码：

```
 // Assuming that you've dequeued/created a UITableViewCell...

    // Check to see if we have the profile image of this account
    UIImage *profileImage = nil;
    NSDictionary *info = [self.twitterProfileInfos objectForKey:account.identifier];
    if (info) profileImage = [info objectForKey:kTwitterProfileImageKey];

    if (profileImage) {
        // You'll probably want some neat code to round the corners of the UIImageView
        // for the top/bottom cells of a grouped style `UITableView`.
        cell.imageView.image = profileImage;

    } else {
        [self getTwitterProfileImageForAccount:account completion:^ {
            // Reload this row
            [self.tableView reloadRowsAtIndexPaths:[NSArray arrayWithObject:indexPath] withRowAnimation:UITableViewRowAnimationFade];
        }];            
    } 
```

所有这一切都是`UIImage`从字典字典中访问一个对象，由帐户标识符和静态键作为`NSString`键。如果它没有得到一个图像对象，那么它调用一个实例方法，传入一个完成处理程序块，它重新加载表行。实例方法看起来有点像这样：

```
#pragma mark - Twitter

- (void)getTwitterProfileImageForAccount:(ACAccount *)account completion:(void(^)(void))completion {

    // Create the URL
    NSURL *url = [NSURL URLWithString:@"users/profile_image" relativeToURL:kTwitterApiRootURL];

    // Create the parameters
    NSDictionary *params = [NSDictionary dictionaryWithObjectsAndKeys:
                            account.username, @"screen_name", 
                            @"bigger", @"size",
                            nil];

    // Create a TWRequest to get the the user's profile image
    TWRequest *request = [[TWRequest alloc] initWithURL:url parameters:params requestMethod:TWRequestMethodGET];

    // Execute the request
    [request performRequestWithHandler:^(NSData *responseData, NSHTTPURLResponse *urlResponse, NSError *error) {

        // Handle any errors properly, not like this!        
        if (!responseData && error) {
            abort();
        }

        // We should now have some image data
        UIImage *profileImg = [UIImage imageWithData:responseData];

        // Get or create an info dictionary for this account if one doesn't already exist
        NSMutableDictionary *info = [self.twitterProfileInfos objectForKey:account.identifier];
        if (!info) {
            info = [NSMutableDictionary dictionary];            
            [self.twitterProfileInfos setObject:info forKey:account.identifier];
        }

        // Set the image in the profile
        [info setObject:profileImg forKey:kTwitterProfileImageKey];

        // Execute our own completion handler
        if (completion) dispatch_async(dispatch_get_main_queue(), completion);
    }];
} 
```

因此，请确保您正常失败，但是，这将在下载配置文件图像时更新表格。在您的完成处理程序中，您可以将它们放在图像缓存中，或者以其他方式将它们保留在类的生命周期之外。

相同的过程可用于访问其他 Twitter 用户信息，[请参阅他们的文档](https://dev.twitter.com/docs/api)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-13T08:53:21.043

请注意，设备上可能设置了多个帐户；

```
// Is Twitter is accessible is there at least one account
  // setup on the device
  if ([TWTweetComposeViewController canSendTweet]) 
  {
    // Create account store, followed by a twitter account identifer
    account = [[ACAccountStore alloc] init];
    ACAccountType *accountType = [account accountTypeWithAccountTypeIdentifier:ACAccountTypeIdentifierTwitter];

    // Request access from the user to use their Twitter accounts.
    [account requestAccessToAccountsWithType:accountType withCompletionHandler:^(BOOL granted, NSError *error) 
    {
      // Did user allow us access?
      if (granted == YES)
      {
        // Populate array with all available Twitter accounts
        arrayOfAccounts = [account accountsWithAccountType:accountType];
        [arrayOfAccounts retain];

        // Populate the tableview
        if ([arrayOfAccounts count] > 0) 
          [self performSelectorOnMainThread:@selector(updateTableview) withObject:NULL waitUntilDone:NO];
      }
    }];
  } 
```

参考;

[http://iosdevelopertips.com/core-services/ios-5-twitter-framework-%E2%80%93-part-3.html](http://iosdevelopertips.com/core-services/ios-5-twitter-framework-%E2%80%93-part-3.html)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-20T04:42:06.937

上述方法过于复杂。只需使用：

```
ACAccount *twitterAccount = [accountsArray objectAtIndex:0];
NSLog(twitterAccount.accountDescription); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-13T09:08:36.477

获取详细信息的唯一可能类（在 Twitter 框架内）是`TWRequest`. 我不知道，但它似乎是对 twitter 服务的任何 API 请求的包装器。

[http://developer.apple.com/library/ios/#documentation/Twitter/Reference/TWRequestClassRef/Reference/Reference.html#//apple_ref/doc/uid/TP40010942](http://developer.apple.com/library/ios/#documentation/Twitter/Reference/TWRequestClassRef/Reference/Reference.html#//apple_ref/doc/uid/TP40010942)

# php - 为什么复选框未选中？

> ID：10137630
> 
> 赞同：-2
> 
> 时间：2012-04-13T08:32:41.973
> 
> 标签：php, html

请帮助我解决标题中指定的问题。

复选框代码如下：

```
 <input name="accurate" type="checkbox"  <?php if (isset($qry_event['accurate'])) { echo  
 'value="checked"'; }?>> 
```

需要注意的是，表中特定行的“准确”字段设置为 1。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-13T08:33:33.737

它应该是`checked="checked"`或平原`checked`

```
<input name="accurate" type="checkbox"  
       <?php if (isset($qry_event['accurate'])) {
         echo 'checked="checked"'; }?> > 
```

[`Reference`](https://developer.mozilla.org/en/HTML/Element/Input)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:38:45.003

```
<input name="accurate" type="checkbox"  <?php if (isset($qry_event['accurate'])) { echo 'value="checked" checked'; }?>> 
```

如果您希望在提交时将其作为该复选框的值，则可以简单地`checked`添加它。`value=checked`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T09:00:18.963

在静态页面 (HTML) 下面的 HTML 代码的工作正确。

`<input type="checkbox" checked="checked" />`

或者

`<input type="checkbox" checked />`

如果您的复选框未选中，则由于您的条件（ if (isset($qry_event['accurate'])) ）。

！准确检查您的状况！

# python - 使用类型化 uuid 而不是字符串 uuid 查询 portal_catalog

> ID：10137632
> 
> 赞同：3
> 
> 时间：2012-04-13T08:32:58.153
> 
> 标签：python, plone, uuid

我正在编写一个用于保留不同资源的 Plone 日历模块。该模块具有一个日历，其事件存储在 Postgresql 中。每个日历都是存储在 ZODB 中的 Dexterity 对象。

为了在 Plone 和 Postgresql 之间建立联系，我自然而然地转向了 Plone 对象的 uuid 属性。因此，Plone 中的每个 uuid 都作为 Postgresql 中的外键，后者原生支持 uuid。

在我开始使用 Plone 4.1.4 之前，这对我来说在过去的 6 个月里效果很好。*有了*它，plone.uuid 1.0.2 被引入，它将 uuid 的字符串表示从 uuid 更改为*不带*破折号的 uuid 。

这种变化的问题是我不能再确定在任何给定对象上将使用哪种表示。在 Plone 4.1.4 之前创建的对象包含与之后创建的对象不同格式的 uuid 字符串。

长话短说，为了确保我的代码适用于任何 uuid 表示，我希望能够使用 Python 的 uuid 类型进行搜索。

**所以代替这个：**

```
catalog.searchResults(UID='325dc47e-08f9-4fa1-bc18-3944a725adb4') 
```

它返回与此*不同的*结果：

```
catalog.searchResults(UID='325dc47e08f94fa1bc183944a725adb4') 
```

**我很想这样做：**

```
from uuid import UUID
catalog.searchResults(UID=UUID('325dc47e-08f9-4fa1-bc18-3944a725adb4')) 
```

这*相当于*：

```
catalog.searchResults(UID=UUID('325dc47e08f94fa1bc183944a725adb4')) 
```

有谁知道我如何从 uuid 在 Plone 中的表示中实现这种独立性？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-13T13:22:00.223

您必须同时查询这两种格式；一旦分配了 UID 字段，它就不应更改，真的。因此，您的选择是：

1.  创建一个给定 UID 的方法，该方法返回一个包含虚线和非虚线版本的元组，然后用于查询目录：

    ```
    def queryUID(UID):
        if '-' in UID:
            return (UID.replace('-', ''), UID)
        return (UID, '-'.join([
            UID[:8], UID[8:12], UID[12:16], UID[16:20], UID[20:]])) 
    ```

    使用该方法，查询就变成了：

    ```
    catalog.searchResults(UID=queryUID('325dc47e-08f9-4fa1-bc18-3944a725adb4')) 
    ```

2.  让您的数据库使用 Plone UID 有破折号的破折号版本，旧的 Plone 内容仍然有一个没有破折号的 UID 的非破折号版本。换句话说，将 UID 视为不透明的字符串。

    Plone 中的 UID 在任何情况下都不会更改，因此当生成虚线版本时，您不必搜索非虚线版本。一旦一个 UID 被分配给一个对象，它就永远不会改变，也永远不会获得破折号。

3.  **不推荐**遍历您的 ZODB 并将所有不带破折号的 UID 替换为虚线等效项。这很可能会破坏通过 UID 链接到这些项目的任何其他内容。

# iphone - 如何访问iphone中的网络设置页面

> ID：10137639
> 
> 赞同：1
> 
> 时间：2012-04-13T08:33:27.597
> 
> 标签：iphone, networking, setting

我想从我自己的应用程序访问网络设置页面。 `[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@"prefs://"]]` 有用？我试过但失败了。提前致谢。

我这个文件：[“Apple URL Scheme Reference”](http://developer.apple.com/library/ios/#featuredarticles/iPhoneURLScheme_Reference/Introduction/Introduction.html#//apple_ref/doc/uid/TP40007891-SW1/)我发现没有设置 url。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:37:51.620

此功能在 iOS 5 中被允许，但在 iOS 5.1 中被禁止。因此，如果您在 5.1 上进行测试，它将不再起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:40:01.710

正如您在问题中所说，没有访问设置应用程序的官方 URL 方案。

# python - Map reduce 存储“Nan”，同时依靠大对象

> ID：10137640
> 
> 赞同：1
> 
> 时间：2012-04-13T08:33:29.243
> 
> 标签：python, mongodb, nosql

地图：

```
function () { 
emit(this.thread, 
    {max_year:this.date.getFullYear(), 
     min_year:this.date.getFullYear(), 
     max_month:this.date.getMonth(), 
     min_month:this.date.getMonth(),count:1}); 
```

};

```
Reduce:
function (key, values) {
max_year= values[0].max_year;
min_year = values[0].min_year;
max_month= values[0].max_month;
min_month = values[0].min_month;
var sum = 0;
if (values.length > 1){
    for(i in values){
        if(values[i].max_year > max_year){
            max_year = values[i].max_year;
        };
        if(values[i].min_year < min_year){
            min_year = values[i].min_year;
        };
        if(values[i].max_month > max_month){
            max_month = values[i].max_month;
        };
        if(values[i].min_month < min_month){
            min_month = values[i].min_month;
        };
        sum+=values[i].count
    };
};

return {"max year":max_year, "min year":min_year, "max month":max_month, "min month":min_month, "No of posts": sum};
}
}; 
```

输出：

```
{u'_id': u'Sujet  Top 5 TED POST', u'value': {u'No of posts': 8.0, u'min month': 0.0, u'max month': 6.0, u'max year': 2011.0, u'min year': 2010.0}}
{u'_id': u'Sujet  Top 5 des meilleurs guitaristes de lhistoire du Rock', u'value':       {u'No of posts': 42.0, u'min month': 2.0, u'max month': 10.0, u'max year': 2011.0, u'min year': 2009.0}}
{u'_id': u'Sujet  Top ALEJANDRO GONZALEZ INARRITU', u'value': {u'No of posts': 29.0, u'min month': 0.0, u'max month': 9.0, u'max year': 2011.0, u'min year': 2008.0}}
{u'_id': u'Sujet  Top ANDY et LARRY WACHOWSKY', u'value': {u'No of posts': 40.0, u'min month': 0.0, u'max month': 11.0, u'max year': 2011.0, u'min year': 2008.0}}
{u'_id': u'Sujet  Top BRYAN SINGER', u'value': {u'No of posts': 50.0, u'min month': 0.0, u'max month': 11.0, u'max year': 2011.0, u'min year': 2006.0}}
{u'_id': u'Sujet  Top Cinma 2010', u'value': {u'No of posts': nan, u'min month': None, u'max month': None, u'max year': None, u'min year': None}}
{u'_id': u'Sujet  Top Cinma 2011', u'value': {u'No of posts': nan, u'min month': None, u'max month': None, u'max year': None, u'min year': None}} 
```

如您所见，对于某些字段（“帖子数”），它会打印“Nan”，而对于其他字段则打印“非”。当我 Map Reduce 只是为了计算帖子数量而不尝试处理时间戳时，不会发生这种情况。我还注意到，当“帖子数量”很大（大约 1000 个左右）时，正在打印 Nan。此外，如果没有“计数”和“总和”，所有对最大年份、最小年份和月份的操作都很好。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T15:04:12.533

您的 reduce 函数需要返回与第二个参数相同格式的值`emit()`- 由于 MongoDB Map-Reduce 的工作方式，reduce 函数的结果可能会再次传递给 reduce。我怀疑这就是`nan`and`None`的来源。具体来说，您只需要调整从 reduce 返回的对象中的键名：例如，而不是`"max year"`（在 reduce 中）您应该使用`max_year`.

有关编写正确 map 和 reduce 函数的更多信息，请参阅[MongoDB Map-Reduce 文档](http://www.mongodb.org/display/DOCS/MapReduce)。

# iphone - 在 ios 5 中找不到文件错误？

> ID：10137641
> 
> 赞同：0
> 
> 时间：2012-04-13T08:33:29.427
> 
> 标签：iphone, objective-c, ios5

我正在尝试在我的应用程序中添加文件。如果我尝试添加包含我的文件的文件夹，则获取文件未找到异常。但是，如果尝试添加没有该文件夹的文件，那么我可以运行该应用程序而不会出现任何错误。

但是如何在 ios 5 中直接添加包含所有文件的文件夹。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:46:12.293

在组和文件部分中右键单击您的应用程序，选择**将文件添加到“您的应用程序”...。**

完成后，选择要添加的文件夹，然后选择“**将项目复制到目标组的文件夹（如果需要）** ”，如下面的屏幕截图所示。

**注意**： 仅当文件物理位于其他文件夹而不是应用程序包或应用程序文件夹时，才选择**将项目复制到目标组的文件夹（如果需要） 。**

![在此处输入图像描述](../Images/e10c81ceda656d44fa872ef6e66f376a.png)

现在您将能够添加文件夹并正确引用它。

希望这可以帮助。

# sencha-touch-2 - 需要 Sencha Touch 2.0 MVC 教程

> ID：10137642
> 
> 赞同：1
> 
> 时间：2012-04-13T08:33:30.977
> 
> 标签：sencha-touch-2

我是 sencha touch 2.0.0 的新手，我想要解释一些登录系统和 crud 示例的教程，以便我掌握 sencha touch。有人可以从这个角度帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T12:51:24.683

抱歉，您的答案有点过于宽泛，无法准确回答。

但是当我还是 Sencha Touch 2 的新手时，我这样做了，发现它学起来很快。你可以作为参考：

*   了解模型和存储的工作原理。这非常重要，因为 ST2 中的 API 与 ST1 大不相同。多注意这些方法：（`add`创建新记录），`find`（`set`用于定位和更新记录），`remove`（用于删除记录）。

*   登录基本上是发送 a 的值`Ext.form.Panel`。另请阅读其文档，那里已经有一个示例。

**结论**：您应该首先尝试阅读和编写自己的代码。如果您遇到错误并且找不到任何方法来修复它们，请回到这里，炫耀您所做的事情，我会尽力帮助您。祝你好运。

# c# - VC++ 属于托管还是非托管类别？

> ID：10137648
> 
> 赞同：0
> 
> 时间：2012-04-13T08:34:09.230
> 
> 标签：c#, c++, visual-c++, clr

在阅读了一些关于托管和非托管代码的资料后，我意识到在托管编译器中会生成任何机器都可以理解的 IL。我们需要做的只是将程序集部署在任何其他机器上，CLR 会帮助它正确运行。

但是，我还读到 VC++ 不支持 CLR 及其非托管代码。但是我们可以在任何机器上运行 VC++ 二进制文件而无需任何修改。它不需要与我们构建 exe 的机器具有相同的配置。

请澄清究竟什么是非托管和托管代码？，如果非托管代码不应该在任何其他配置很少不同的机器上运行，比如不同的主板、芯片组等...... VC++ 二进制文件如何在那里运行？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-13T08:37:07.853

未经任何修改，您无法在任何机器上运行 VC++ 二进制文件。您只能在 Windows 机器上运行它，甚至不能在任何机器上运行它。例如，当前的 VC++ 64 位可执行文件将无法在较旧的 Win 95 下运行。

托管代码是转换为 IL 的代码，由 CLR 在运行时解释。非托管代码是转换*为本机*机器码的代码，由 CPU 直接运行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:39:51.737

通常 VC++ 会生成非托管二进制文件。它们可以在所有 Windows 计算机上运行（可能使用 c++-redist 包）。

要使用 c++ 创建托管 (.NET) 应用程序，您需要使用[C++/CLI](http://en.wikipedia.org/wiki/C++/CLI)。

在这种情况下，托管代码是 .NET，非托管代码是本机二进制文件。

要运行非托管二进制文件，您需要机器上的依赖库，要运行托管代码，您需要 .NET Framework。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T08:39:44.387

Visual C++**不是一种语言**，它是来自微软的 IDE，它带有一个编译器和一组库。您可以使用此编译器生成托管或非托管代码。如果是非托管代码，它将生成 Windows 可以理解的格式的 exe（或 dll 或其他二进制文件）。操作系统（在本例中为 Windows）从您那里抽象出所有其他细节，例如处理器、主板等。

# c++ - 如何在 python 中实现这个 C++ 源代码？

> ID：10137652
> 
> 赞同：-1
> 
> 时间：2012-04-13T08:34:37.490
> 
> 标签：c++, python

这是代码：

```
for(int i=1; i<=10; ++i)
    for(int j=1; j<=10; ++j)
        cin >> G[i][j]; 
```

这是一个二维数组 G，我想存储来自 G[1][1] 的数据，而不是从零开始。

如何在python中实现这段代码？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:39:29.947

```
for i in xrange(1, 11):
    for j in xrange(1, 11):
        G[i][j] = raw_input() 
```

~~或者更pythonic的方式，假设 G 在你的循环之前是空的：~~

 ~~```
G = [[raw_input() for j in xrange(1, 11)] for i in xrange(1, 11)] 
```~~  ~~（不起作用，这些列表将在元素 0 处具有第一个值，这不是 OP 想要的）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T08:41:23.357

初始化`G`：

```
G = [[0 for i in xrange(11)] for i in xrange(11)] 
```

~~或者`G = [[0]*11]*11`~~

填充`G`：

```
for i in xrange(10):
    for j in xrange(10):
        G[i+1][j+1] = int(raw_input()) 
```

如果要`G`就地构建，可以使用类似于初始化的嵌套列表理解来完成

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-13T08:49:23.383

```
>>> import random
>>> G = [[0]*11 for _ in range(11)]
>>> G
[[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]
>>> for i in range(1, 11):
        for j in range(1, 11):
            G[i][j] = random.randint(1,10)

>>> G
[[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 7, 8, 10, 5, 7, 9, 8, 10, 8, 3], [0, 7, 9, 7, 7, 6, 6, 10, 2, 8, 9], [0, 10, 6, 3, 7, 10, 7, 9, 6, 1, 7], [0, 5, 7, 1, 10, 3, 3, 1, 2, 5, 6], [0, 7, 3, 5, 4, 4, 2, 10, 10, 8, 1], [0, 10, 3, 3, 5, 4, 4, 2, 5, 3, 1], [0, 6, 6, 6, 6, 2, 3, 8, 1, 6, 4], [0, 7, 8, 5, 8, 1, 9, 5, 5, 2, 9], [0, 3, 2, 4, 1, 1, 4, 7, 7, 5, 5], [0, 3, 4, 10, 1, 2, 5, 3, 10, 9, 7]] 
```

`random.randint`被用来代替`input()`或`raw_input()`表明这有效。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-13T08:48:16.720

使用字典：

```
G = {}
for i in xrange(1, 11):
    G[i] = {}
    for j in xrange(1, 11):
        G[i][j] = raw_input() 
```

使用列表（但从 0 开始索引）：

```
G = []
for _ in xrange(1, 11):
    row = []
    G.append(row)
    for _ in xrange(1, 11):
        row.append(raw_input()) 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-04-13T09:27:17.607

如果可读性很重要，这也是相当可读的

```
G=[[0]*11 for _ in range(11)]
for (i,j) in itertools.product(range(1,11),range(1,11)):
    while True:
        try: 
            G[i][j]=int(raw_input())
            break
         except ValueError:
            None 
```~~

# php - iconv() 或 utf8_encode 如何使我的脚本对 UTF8 友好？

> ID：10137653
> 
> 赞同：2
> 
> 时间：2012-04-13T08:34:46.227
> 
> 标签：php, javascript

我有一个脚本（粘贴在下面），它从 UrLS 列表中提取元描述，然后我有一个导出功能，可以将该数据导出为 CSV 格式。

唯一的问题是我的导出功能在 UTF-8 设置之外的字符（例如控制字符，如 -

删除这些字符或替换它们以使其友好的最佳方法是什么？还有我如何将它放入我的脚本中？

```
<?php
error_reporting(E_ALL);
//ini_set( "display_errors", 0);
function parseUrl($url){
    //Trim whitespace of the url to ensure proper checking.
    $url = trim($url);
    //Check if a protocol is specified at the beginning of the url. If it's not,   prepend 'http://'.
    if (!preg_match("~^(?:f|ht)tps?://~i", $url)) {
            $url = "http://" . $url;
    }
    //Check if '/' is present at the end of the url. If not, append '/'.
    if (substr($url, -1)!=="/"){
            $url .= "/";
    }
    //Return the processed url.
    return $url;
}
//If the form was submitted
if(isset($_GET['siteurl'])){
    //Put every new line as a new entry in the array
    $urls = explode("\n",trim($_GET["siteurl"]));
    //Iterate through urls
    foreach ($urls as $url) {
            //Parse the url to add 'http://' at the beginning or '/' at the end if not   already there, to avoid errors with the get_meta_tags function
            $url = parseUrl($url);
            //Get the meta data for each url
            $tags = get_meta_tags($url);
            //Check to see if the description tag was present and adjust output    accordingly
            $tags = NULL;
$tags = get_meta_tags($url);
if($tags)
echo "<tr><td>Description($url)</td><td>" .$tags['description']. "</td></tr>";
else 
echo "<tr><td>Description($url)</td><td>No Meta Description</td></tr>";
    }
}
?> 
```

出口代码：

```
// ExportHTMLTable

function ExportHTMLTable(tableId)
{
    this.data=[];
    this.table='';
    this.tableId=tableId;

    this.formId='exportForm';

    this.configuration={url:'../export.php',dataType:'json'};

    this.blockSend=0;
    this.blockSize=100024;

    this.requestNumber=0;

    this.rowLastIndex=0;
    this.cellLastIndex=0;

    this.format='';

    // Export
    this.exportDocument=function() 
    {
        this.reset();
        if(!this.prepareData()) return(false);

        this.send();
    }       

    // Export to CSV
    this.exportToCSV=function() 
    {
        this.format='csv';
        this.exportDocument();
    }

    // Export to XML
    this.exportToXML=function() 
    {
        this.format='xml';
        this.exportDocument();
    }

    // Reset variables
    this.reset=function()
    {
        this.data=[];

        this.blockSend=0;
        this.rowLastIndex=0;
        this.cellLastIndex=0;       
        this.requestNumber=0;
    }

    // Get table
    this.getTable=function()
    {
        this.table=$('#'+this.tableId);
        if(this.table.length!=1) return(false);

        return(true);
    }

    // Get data length
    this.getDataLength=function()
    {
        var sum=0;
        for(var rows in this.data) 
            sum+=this.data[rows].length;

        return(sum);
    }

    // Remove form
    this.removeForm=function()
    {
        var form=$('#'+this.formId);
        if(form.length==1) form.remove();
    }

    // Create field
    this.createField=function(name,value)
    {
        var field=document.createElement('input');

        field.name=name;
        field.value=value;
        field.type='hidden';

        return($(field));
    }

    // Prepare (extract from HTML table) data
    this.prepareData=function()
    {
        if(!this.getTable()) return(false);

        var self=this;
        var r=0,c=0,tr=0,tc=0,length=0;

        // Processing rows
        this.table.children('tbody').children('tr').each(function()
        {
            c=0;
            if(!$.isArray(self.data[r])) self.data[r]=[];

            // Processing cells
            $(this).children('th,td').each(function()
            {       
                length=$(this).attr('colspan')+self.data[r].length;

                for(tc=0;tc<length;tc++)
                {
                    if(self.data[r][tc]) continue;
                    self.data[r][tc]=$(this).text();    
                }

                length=r+$(this).attr('rowspan');
                for(tr=r+1;tr<length;tr++) 
                {
                    if(!$.isArray(self.data[tr])) self.data[tr]=[];
                    self.data[tr][c]=$(this).text();
                }

                c++;
            });

            r++;
        }); 

        return(true);           
    }

    // Send data
    this.send=function()
    {
        var i=0,j=0;

        this.requestNumber++;

        this.removeForm();

        var rowsNumber=this.data.length;
        var form=$(document.createElement('form'));

        form.attr('method','post');
        form.attr('action',this.configuration.url);

        for(i=this.rowLastIndex;i<rowsNumber;i++)
        {   
            var cellsNumber=this.data[i].length;
            for(j=this.cellLastIndex;j<cellsNumber;j++)
            {   
                this.blockSend++;

                var field=this.createField('exportTable['+i+']['+j+']',this.data[i][j]);

                form.append(field);

                if(this.blockSend>=(this.requestNumber*this.blockSize)) break;
            }

            if(this.blockSend>=(this.requestNumber*this.blockSize))   break;
            this.cellLastIndex=0;
        }  

        this.rowLastIndex=i;
        this.cellLastIndex=j==0 ? 0 : j+1;

        form.appendTo('body');

        if(this.requestNumber==1)
            form.append(this.createField('requestFirst',1));

        if(this.blockSend==this.getDataLength()) 
        {       
            form.append(this.createField('requestLast',1));
            form.append(this.createField('format',this.format));
            form.submit().remove();
        }
        else   $.post(this.configuration.url,form.serialize(),$.delegate(this.send,this),'json'); 
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T09:02:43.753

我的天，你的帖子有很多问题。。

首先： - 不被视为控制字符。它出现在 UTF-8、latin1 甚至 ASCII 中。

如果您的字符串中确实有字节不是有效的 UTF-8，那么您必须处理一些其他编码。这很可能是 latin1，在这种情况下，您可以使用 utf8_encode 来转换字符串。

不过不要盲目地这样做，首先要弄清楚你的数据来自哪里，以及它是否真的是 latin1。有时 utf8_encode 被用作任何行为怪异的创可贴，但这不是处理事情的好方法。通常，这样考虑可能会有所帮助：

*   在您的应用程序中，确保*每个*字符串始终以 UTF-8 格式传递。
*   如果您从外部来源接收数据，请找出它们使用的字符集，并在需要时进行转换。

我不知道这与您发布的代码片段有何关系。

# iphone - 捕获音频到文件 ExtAudioFileWrite

> ID：10137654
> 
> 赞同：0
> 
> 时间：2012-04-13T08:34:49.697
> 
> 标签：iphone, objective-c, core-audio, audiounit, audiorecord

我正在尝试将原始缓冲区数据捕获到音频文件中。像这样：

```
dstFormat.mSampleRate = 224000; 
dstFormat.mFormatID = kAudioFormatMPEG4AAC;
dstFormat.mChannelsPerFrame = 1;
dstFormat.mBitsPerChannel = 16;
dstFormat.mBytesPerPacket = dstFormat.mBytesPerFrame = 2 * dstFormat.mChannelsPerFrame;
dstFormat.mFramesPerPacket = 1;
dstFormat.mFormatFlags = kLinearPCMFormatFlagIsPacked | kLinearPCMFormatFlagIsSignedInteger;      
OSStatus result = ExtAudioFileCreateWithURL((CFURLRef) inURL,
                                            kAudioFileM4AType,
                                            &dstFormat,
                                            0,
                                            kAudioFileFlags_EraseFile,
                                            &audioFileRef) 
```

我被一个具有以下参数的函数所吸引： `AudioUnit inUnit, AudioUnitRenderActionFlags * ioActionFlags, const AudioTimeStamp *inTimeStamp, UInt32 inOutputBusNumber, UInt32 inNumberFrames, AudioBufferList * ioData`

在其中我试图将数据写入文件，但出现错误的参数 -50 错误。结果 = ExtAudioFileWrite(audioFileRef, inNumberFrames, ioData);

如果我用自己的替换 ioData 参数：

```
 AudioBufferList *bufferList = (AudioBufferList*) malloc(sizeof(AudioBufferList));
    bufferList->mNumberBuffers = 1;// ioData->mNumberBuffers;
    for(UInt32 i=0;i<bufferList->mNumberBuffers;i++)
    {
        bufferList->mBuffers[i].mNumberChannels = 1; 
        bufferList->mBuffers[i].mDataByteSize = ioData->mBuffers[i].mDataByteSize; //ioData->mBuffers[i].mDataByteSize; // (1024*2) * dstFormat.mBytesPerFrame;
        bufferList->mBuffers[i].mData = ioData->mBuffers[i].mData;
    } 
```

..我第一秒得到大约 260MB 的文件。这里有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T09:36:29.413

我很惊讶 iPhone 甚至会使用这些参数创建一个音频文件，尽管我怀疑那是因为到目前为止你只在模拟器中而不是在硬件上测试过它。无论如何，您的流格式是这里的问题。

如果您正在捕获原始数据，那么为什么将格式 ID 设置为 m4a，然后将格式标志设置为使用线性 PCM？我也不确定您是如何达到 224kHz 的采样率的，但这会给您带来麻烦，并且至少部分解释了为什么输出文件大小如此之大。

我建议搜索一下以查看流描述结构的一些示例，因为它有点复杂。这个问题也可能会帮助您走上正轨：

[CoreAudio - kAudioFileUnsupportedDataFormatError](https://stackoverflow.com/questions/8597941/coreaudio-kaudiofileunsupporteddataformaterror)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T12:44:02.350

几天前我刚刚弄清楚如何写入 AAC 格式。此处的详细信息 + 代码： [从 RemoteIO 录制到 AAC：正在写入数据，但文件无法播放](https://stackoverflow.com/questions/10113977/recording-to-aac-from-remoteio-data-is-getting-written-but-file-unplayable/10129169#10129169)

我只在 iPad Simulator + iPad 2 上的 iOS 5 上对此进行了测试。性能非常好，我非常尊重 Core Audio 的功能，但是天啊……Apple 可以记录更多。

# android - 在 TranslateAnimation 之后移动 ImageButton 后的 OnClickListener 问题

> ID：10137657
> 
> 赞同：1
> 
> 时间：2012-04-13T08:35:04.207
> 
> 标签：android, onclicklistener

**我应该怎么做才能将 imageButton 移动到新位置并保留 OnClick 事件？**

我对此有两个问题：

1.  如果我使用 fillAfter(true)，onclick 将不会被带到新位置。
2.  如果使用 setAnimationListener(onAnimationEnd)，并调用 layout() 将 ImageButton 移动到新的位置，ImageButton 会回到新的开始位置，为什么？

这里的代码：

```
 tsla = new TranslateAnimation(0.0f,(float) (imgWidth * 0.45)-wh/2,0.0f,(float) (imgHeight * 0.566666667)-wh/2);
    tsla.setDuration(sleepX);

    tsla.setAnimationListener(new AnimationListener(){
        public void onAnimationStart(Animation arg0) {
        }
        public void onAnimationEnd(Animation arg0) {
             imgBtnChengdu.layout(
                (int) (imgWidth * 0.45),
                (int) (imgHeight * 0.566666667),
                (int) (imgWidth - wh - imgWidth * 0.45),
                (int) (imgHeight - wh - imgHeight * 0.566666667)
                );
        }
        public void onAnimationRepeat(Animation arg0) {
        }
    });

    imgBtnChengdu.setAnimation(tsla); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:45:05.220

问题是 Android 只会将按钮的图像动画到新位置。

这意味着 onClick 区域停留在旧位置。您还需要在动画结束时更改按钮的位置，以将整个按钮移动到新位置，而不仅仅是其视图。

# api - 开发谷歌浏览器插件（没有扩展！）

> ID：10137660
> 
> 赞同：5
> 
> 时间：2012-04-13T08:35:06.820
> 
> 标签：api, google-chrome, plugins, google-chrome-extension, ria

我想开发一个 RIA，我需要处理一些尚未支持的计算机硬件。所以，我想首先使用 Java 小程序，但我改变了我的选择，我更喜欢为 Web 浏览器开发插件的方式。我开始寻找一个 Chrome API 来开发像 Flash Player 这样的插件（在被集成到 chrome 中之前），我发现的只是用 HTML 和 Javascript 开发“扩展”......不是我真正想要的！因此，如果您知道我在哪里可以获得 Chrome API，我将不胜感激！在此先感谢，并为我糟糕的英语感到抱歉（如果你真的不明白我的回答，请问我）

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-04-13T09:07:32.267

您认为*在浏览器*中处理不受支持的硬件的最佳方法是插件是正确的；但是您可能会发现桌面应用程序更适合此目的。

Flash Player 和其他插件在 Chrome、Firefox、Safari 等中使用[**Netscape Plugin API** (NPAPI)](http://en.wikipedia.org/wiki/NPAPI) ，在 Internet Explorer 中使用[ActiveX 。](http://en.wikipedia.org/wiki/ActiveX)开始使用 NPAPI 的最佳位置实际上是[Mozilla Developer Network 上的插件页面](https://developer.mozilla.org/en/Plugins)。谷歌也有一些[关于特定于 Chrome 的插件的文档](https://developer.chrome.com/extensions/npapi)。

如果您对专门为 Chrome 开发插件感兴趣，值得注意的是 Google 已经开发了一个名为“Pepper Plugin API”的新 API，而 Adob​​e 已经宣布 Flash 将在某个时候转移到这个 API。

# javascript - 我的 json 请求不会触发 beforeSend 请求.. 似乎无法弄清楚为什么

> ID：10137667
> 
> 赞同：1
> 
> 时间：2012-04-13T08:35:43.127
> 
> 标签：javascript, jquery

**笔记**

1.  这是 jQuery 1.4.4
2.  这*不是*jsonp 请求。只是我域中的香草 json。

**我的请求**

```
$autocomplete_xhr = $.ajax({
  url: '/customers/filter.json',
  contentType: "application/json",
  data: { name: request.term },
  dataType: 'json',
  beforeSend: function(xhr) {
   console.log('Inside beforeSend');
   console.log(xhr);
  }, 
```

当我发送 AJAX 请求时，`console.log`不会触发。

你认为问题是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:38:36.907

在[文档中明确说明](http://api.jquery.com/jQuery.ajax/)

**beforeSend（jqXHR，设置）**

> 一个预请求回调函数，可用于在发送 jqXHR（在**jQuery 1.4.x**中，XMLHTTPRequest）对象之前对其进行修改。使用它来设置自定义标题等。jqXHR 和设置映射作为参数传递。这是一个 Ajax 事件。在 beforeSend 函数中返回 false 将取消请求。从 jQuery 1.5 开始，无论请求的类型如何，都将调用 beforeSend 选项。

# android - 通过蓝牙发送 mp3 文件？

> ID：10137670
> 
> 赞同：1
> 
> 时间：2012-04-13T08:35:53.937
> 
> 标签：android, bluetooth, mp3, send, transfer

我有一个音乐文件（mp3）。我实现了通过蓝牙连接发送文本，但我无法发送这个 mp3 文件。我搜索但找不到足够的材料。请有人帮助我。我怎样才能实现它？

# ajax - Ajax 删除整个 HTML 表格而不是刷新它

> ID：10137673
> 
> 赞同：0
> 
> 时间：2012-04-13T08:36:41.693
> 
> 标签：ajax, jquery, cakephp-2.0

我正在构建一个项目，并且是第一次使用 Ajax。目前，我有一个数据表，我使用 Ajax 从表中添加和删除记录，而无需重新加载页面。我要做的下一步是在从数据中添加或删除数据时刷新表中的数据。

在我的 Ajax 代码中，我有以下内容：

```
$(document).ready(function(){

$('form#TesttableIndexForm').submit(function(event){
    event.preventDefault();

    $.ajax({
        url:'/testing/save_ajax_data',
        type:'POST',
        data: $("form#TesttableIndexForm").serialize(),
        success: function(data) {
            $("#testtable").replaceWith(data);
        },

    });     
});

$('a.deleteajax').click(function(event){
    event.preventDefault();

    var answer = confirm("Delete this record?")
    if (answer){
        $.ajax({
            url:'/testing/delete_ajax_data/',
            type:'GET',
            data: $(this).attr("href"),
            success: function(data) {
                $("#testtable").replaceWith(data);
            },
        });
    }

    return false;  
});

}); 
```

表的 ID 是`#testtable`。我已经添加了代码的`$("#testtable").replaceWith(data);`内部`success`部分，以便在添加或删除数据时刷新表格。

但是，即使仍然可以使用该 Ajax 代码删除和添加数据，但当任一事件发生时，表就会消失。当我手动重新加载页面时，表格会重新显示修改后的数据。

我正在使用 CakePHP，表中的数据是从数据库生成的。这会给我带来问题吗？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T09:40:56.537

弄清楚问题出在哪里。

在我的 Ajax 文件中，我添加`var loadUrl = "/test-area/table/";`了将加载 HTML 表的控制器的 URL。然后我必须在我的控制器中创建一个函数来基本上再次查询数据库：

```
function testtable() {
    $this->layout = 'ajax';
    $this->loadModel('Testtable');

    $testing = $this->Testtable->find('all');
    $this->set('testing', $testing);
} 
```

我在玩这个时注意到的是，如果你不指定`$this->layout = 'ajax';`它会加载默认布局的页面。然后这会完全破坏页面。所以我创建了一个完全空白的布局文件，名为`ajax`.

然后，在 ajax 代码中，我删除了：

```
$("#testtable").replaceWith(data); 
```

和：

```
$("#testtable").load(loadUrl + "#testtable"); 
```

结合所有这些，当添加或删除记录时，表将重新加载而不会出现问题。

# php - 检查字符串中是否存在数组元素

> ID：10137674
> 
> 赞同：4
> 
> 时间：2012-04-13T08:36:42.763
> 
> 标签：php, arrays

我认为这对使用原生 php 函数来说是一件简单的事情，但我发现了人们试图实现它的一些不同的、非常复杂的方法。检查字符串是否包含数组中的一个或多个元素的最有效方法是什么？即，下面 - 其中 $data['description'] 是一个字符串。Obv 下面的 in_array 检查中断，因为它期望参数 2 是一个数组

```
$keywords = array(
            'bus',
            'buses',
            'train',
    );

    if (!in_array($keywords, $data['description']))
            continue; 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-13T08:42:11.337

## 假设 String 是一个折叠/分隔的值列表

```
function arrayInString( $inArray , $inString , $inDelim=',' ){
  $inStringAsArray = explode( $inDelim , $inString );
  return ( count( array_intersect( $inArray , $inStringAsArray ) )>0 );
} 
```

示例 1：

```
arrayInString( array( 'red' , 'blue' ) , 'red,white,orange' , ',' );
// Would return true
// When 'red,white,orange' are split by ',',
// the 'red' element matched the array 
```

示例 2：

```
arrayInString( array( 'mouse' , 'cat' ) , 'mouse' );
// Would return true
// When 'mouse' is split by ',' (the default deliminator),
// the 'mouse' element matches the array which contains only 'mouse' 
```

## 假设 String 是纯文本，并且您只是在其中查找指定单词的实例

```
function arrayInString( $inArray , $inString ){
  if( is_array( $inArray ) ){
    foreach( $inArray as $e ){
      if( strpos( $inString , $e )!==false )
        return true;
    }
    return false;
  }else{
    return ( strpos( $inString , $inArray )!==false );
  }
} 
```

示例 1：

```
arrayInString( array( 'apple' , 'banana' ) , 'I ate an apple' );
// Would return true
// As 'I ate an apple' contains 'apple' 
```

示例 2：

```
arrayInString( array( 'car' , 'bus' ) , 'I was busy' );
// Would return true
// As 'bus' is present in the string, even though it is part of 'busy' 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-13T08:41:10.383

您可以使用正则表达式执行此操作 -

```
if( !preg_match( '/(\b' . implode( '\b|\b', $keywords ) . '\b)/i', $data['description'] )) continue; 
```

结果正则表达式将是`/(\bbus\b|\bbuses\b|\btrain\b)/`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-21T07:26:28.120

# 假设正在搜索整个单词和短语

此函数将从字符串中的短语数组中查找（不区分大小写）短语。如果找到，则重新使用该短语并且 $position 返回其在字符串中的索引。如果未找到，则返回 FALSE。

```
function findStringFromArray($phrases, $string, &$position) {
    // Reverse sort phrases according to length.
    // This ensures that 'taxi' isn't found when 'taxi cab' exists in the string.
    usort($phrases, create_function('$a,$b',
                                    '$diff=strlen($b)-strlen($a);
                                     return $diff<0?-1:($diff>0?1:0);'));

    // Pad-out the string and convert it to lower-case
    $string = ' '.strtolower($string).' ';

    // Find the phrase
    foreach ($phrases as $key => $value) {
        if (($position = strpos($string, ' '.strtolower($value).' ')) !== FALSE) {
            return $phrases[$key];
        }
    }

    // Not found
    return FALSE;
} 
```

要测试功能，

```
$wordsAndPhrases = array('taxi', 'bus', 'taxi cab', 'truck', 'coach');
$srch = "The taxi cab was waiting";

if (($found = findStringFromArray($wordsAndPhrases, $srch, $pos)) !== FALSE) {
    echo "'$found' was found in '$srch' at string position $pos.";
}
else {
    echo "None of the search phrases were found in '$srch'.";
} 
```

有趣的是，该函数演示了一种查找整个单词和短语的技术，以便找到“bus”而不是“abuse”。只需将你的干草堆和针都用空间包围：

```
$pos = strpos(" $haystack ", " $needle ") 
```

# php - 如何在 interspire 购物车中更新跟踪号

> ID：10137677
> 
> 赞同：0
> 
> 时间：2012-04-13T08:36:50.253
> 
> 标签：php, interspire-shopping-cart

我正在定制 interspire 购物车。我需要做的是在订单发货后将跟踪号保存在系统中。这是我的代码

 `````
$orderID = (int)$_GET['order'];
        $status = (int)$_GET['code'];       

        $command = (string) $_GET['command'];
        $comments =(string) $_GET['comments'];
        $tracking =(string) $_GET['tracking'];
        $carrierData =(string) $_GET['carrier'];

        $update = array(
            'ordstatus' => $status,
            'command'=>$command,
            'comments'=>$comments,
            'tracking'=>$tracking,
            'carrierData'=>$carrierData
        );

        if (!$GLOBALS['ISC_CLASS_DB']->UpdateQuery('orders', $update, 'orderid = ' . $orderID)) {
            $this->outputError(70, "Order $orderID no longer exists.");
        } 
````  `所以它更新了订单状态，但我需要更新从第三方软件船厂返回的跟踪号。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:50:15.380

在 ISC 中，`isc_orders`表格上的跟踪号字段称为`ordtrackingno`not ，因此请在数组`tracking`中更改它。`$update`

您已经有了代码，只需更改数组中的字段：

```
 $update = array(
        'ordstatus' => $status,
        'ordtrackingno'=>$tracking
    );

    if (!$GLOBALS['ISC_CLASS_DB']->UpdateQuery('orders', $update, 'orderid = ' . $orderID)) { 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-16T11:56:33.393

免费版的 Interspire 购物车对此进行了修复。最新版本的 Interspire 购物车 6.1.8 中的所有已知错误已在免费版本中得到修复。

[您可以在http://iscexperts.com/viewtopic.php?f=2&t=11](http://iscexperts.com/viewtopic.php?f=2&t=11)下载免费版本``

# windows-7 - 如何从内核模式调用 NTDLL.DLL 函数 (x64, WIN7)

> ID：10137681
> 
> 赞同：1
> 
> 时间：2012-04-13T08:37:02.613
> 
> 标签：windows-7, kernel, call, 64-bit

我需要从内核模式进程中调用 ntdll.dll 函数（例如 ZwCreateThread，不是由内核导出的）。但 ntdll.dll 它是用户模式模块。我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-26T17:01:37.297

一般来说这是不可能的。DLL 不能在内核模式下使用。

您必须搜索该函数的内核模式等效项。对于 ZwCreateThread，它是 PsCreateSystemThread。

# .net - 将值存储在代码中而不是 web.config

> ID：10137683
> 
> 赞同：0
> 
> 时间：2012-04-13T08:37:10.410
> 
> 标签：.net, web-config

我最近开始研究一个相当大的应用程序，我注意到很多设置都存储在静态类/属性中，而不是 web.config 中：

```
public static class FormSettings
{
    public const string HttpPostContentType = "application/x-www-form-urlencoded";
    public const string HttpPostMethodValue = "POST";
} 
```

我可以看到这样做的唯一原因是由于大量设置会使将它们存储在单个文件中变得笨拙。

除了在不重新编译代码的情况下无法更改这些设置之外，这种方法还有其他缺点吗？

编辑：

好的，上面的例子不是最好的：

```
public static class ThirdPartyApiSettings
{
    public const string EmployeeXmlNodeName = "Employee";
    public const string FirstNameXmlNodeName = "FirstName";
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T10:11:00.957

存储设置实际上取决于应用程序和场景。使用您的方法，最大的问题是所有内容都是硬编码的。正如上面提到的那样，您必须考虑：

*   “变量”的使用频率
*   改变的可能性有多大
*   应用程序的哪一部分需要访问这个变量
*   你要存储什么信息（设置）

有几种存储设置的方法：

*   Web.config (appsettings) - 不推荐使用这种方法来存储大量设置（尽管它只是名称-值的集合）。你也不能真正在那里存储复杂的类型（嗯......你可以，但我从未见过有人序列化对象并保存到 web.config 中）。这种方式有利于存储字符串值。这种方法的最大问题（至少对我而言）是每次在 web.config 中添加/更改某些内容时都重新编译应用程序。
*   资源文件——这对于内容来说非常有用——尤其是如果你想本地化它。您也可以在那里存储设置。问题在于 - 它已编译，您无法轻松更新它。
*   自定义类 - 适合存储成本和枚举（不会经常更改），但如果您想存储可能会更改的内容，这不是最好的方法。
*   自定义 XML 文件 - 我真的很喜欢这种方法，因为它允许您在不重新编译应用程序的情况下更改它 - 问题是您必须编写自己的解析器并且非常小心 - 很容易错过 xml 文件的格式 :)
*   数据库 - 可本地化、远程、可被不同应用程序访问、易于更改

您可能还想考虑是否需要版本控制、审计和类似的东西。

希望能帮助到你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:42:17.717

你有更多的东西要编译，你有更多的依赖，你不能在不重建整个应用程序的情况下改变它们。

此外，它不是编程部分，应该分开。您也可以将您的控制器、视图、操作和 dao 放在一个文件中（在 web 应用程序中），它会起作用，但您只是不这样做:)

# drupal - 托管 CMS - 基于 Drupal

> ID：10137687
> 
> 赞同：0
> 
> 时间：2012-04-13T08:37:32.707
> 
> 标签：drupal, drupal-6, content-management-system, drupal-7

我只是想稍微澄清一下托管 CMS，例如 shopify.com、solidshops.com（我了解到 Shopify 在 Ruby on Rails 上运行）所以让我具体介绍一下基于 Drupal 的托管 CMS：www.buzzr.com、www.drupalgardens.com和 www.pagebuild.net 等。

我想知道的是

1.  他们是否使用 Drupal 中的多站点功能在用户注册时自动创建他们托管的所有这 1000 个站点？

2.  他们是否将这 1000 个站点创建为子站点（也称为子域）？

3.  除了 Drupal 中的多站点之外，他们使用不同的方式吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T12:02:07.807

我不知道 Buzzr 和 Drupal Gardens 是如何工作的，但是在这个[Pagebuild Case Study](http://drupal.org/node/993166)中有一些关于 Pagebuild 的信息。希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-14T21:38:40.203

Acquia 是一个基于 drupal 的 CMS 托管服务。

[http://www.acquia.com/](http://www.acquia.com/)

# android - 如何从资源 id 获取资源名称

> ID：10137692
> 
> 赞同：181
> 
> 时间：2012-04-13T08:37:55.933
> 
> 标签：android

在我的布局中，我定义了这样的东西。

```
<RadioButton
    android:id="@+id/radio1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Dnt want this text" /> 
```

假设活动中的某个函数返回我这个 id（radioButton 的 id）。现在我想从这个 id中获取这个文本**radio1 。**总之我想检索文本**radio1**写在`android:id="@+id/radio1"`

有人能告诉我怎么可能吗？

* * *

## 回答 #1

> 赞同：413
> 
> 时间：2012-04-13T09:01:17.597

在您的活动中，尝试这些：

1.  得到像这样的字符串`radio1`：

    ```
    getResources().getResourceEntryName(int resid); 
    ```

2.  得到像这样的字符串`com.sample.app:id/radio1`：

    ```
    getResources().getResourceName(int resid); 
    ```

现在在 Kotlin 中：

```
val name = v.context.resources.getResourceEntryName(v.id) 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-04-13T09:23:08.203

你有**id('long' type)**来自你想要访问单选按钮**id(name)**的 id ，即**radio1**。你用这个

```
getResources().getResourceEntryName(id); 
```

在上面使用中，您可以获得单选按钮的名称，即radio1。这里**的参数 id 是你拥有的（long type）**。试试这个，它会帮助你 100%。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2018-04-26T12:40:02.583

科特林：

```
val name = v.context.resources.getResourceEntryName(v.id) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-08-24T06:47:19.657

如果我是对的，那么您想要检索的是单词“radio1”（来自 id 本身？）所以如果是这种情况，那么首先您需要获取它的 id。

```
int intname= buttonname.getId(); 
```

然后得到它的结果

```
String stringname= getResources().getResourceEntryName(intname); 
```

希望我能帮上忙

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-04-13T08:43:31.760

你的意思是要取id的字符串文本？

既然你已经定义了它，你应该知道这是什么。

如果你有一个布局，你想查找一个 View 是否有特定的 id，你可以遍历整个布局并使用 getId() 检查每个 View 的 id 是否是你要查找的 id。

希望这会有所帮助（如果我理解正确你的问题.. :)）

# c++ - 在退出应用程序之前关闭线程

> ID：10137708
> 
> 赞同：0
> 
> 时间：2012-04-13T08:39:02.547
> 
> 标签：c++, winapi, thread-safety

我想在退出主程序之前停止线程。这段代码正确吗？（简化示例）

```
HANDLE hThread;
BOOL live = TRUE;

DWORD WINAPI Thread ( LPVOID lpParam )
{
..
while(live);
..
}

case WM_DESTROY:
{
live=FALSE;     
WaitForSingleObject(hThread, INFINITE);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T10:24:47.077

同步线程最安全的方法是使用一些内核对象。在您的情况下，您可以创建“终止”事件`CreateEvent`并在线程回调函数中等待它：

```
#include <Windows.h>
#include <iostream>
using std::cout;
using std::cerr;
using std::endl;

DWORD WINAPI Callback(LPVOID lpVoid)
{
    HANDLE hTerminateEvent = *(reinterpret_cast<HANDLE*>(lpVoid));

    bool terminate = false;

    while(!terminate)
    {
        DWORD retVal = WaitForSingleObject(hTerminateEvent, 0);

        switch(retVal)
        {
            case WAIT_OBJECT_0: 
                cout << "Terminate Event signalled" << endl;
                terminate = true;
                break;
            case WAIT_TIMEOUT:
                cout << "Keep running..." << endl;
                Sleep(1000);
                break;
            case WAIT_FAILED:
                cerr << "WaitForSingleObject() failed" << endl;
                terminate = true;
                break;
        }
    }

    return 0;
}

int main()
{
    DWORD threadID = 0;
    HANDLE hTerminateEvent = CreateEvent(0, FALSE, FALSE, 0);
    HANDLE hThread = CreateThread(0, 0, Callback, &hTerminateEvent, 0, &threadID);  

    // allow some time to thread to live
    Sleep(20000);

    // set terminate event
    if(!SetEvent(hTerminateEvent))
    {
        cerr << "SetEvent() failed" << endl;        
        return 1;
    }

    // wait for thread to terminate
    DWORD retVal = WaitForSingleObject(hThread, INFINITE);

    switch(retVal)
    {
        case WAIT_OBJECT_0: 
            cout << "Thread terminated" << endl;            
            break;
        case WAIT_FAILED:
            cerr << "WaitForSingleObject() failed" << endl;         
            break;
    }

    CloseHandle(hThread);
    CloseHandle(hTerminateEvent);

    return 0;
} 
```

输出：

```
Keep running...
Keep running...
Keep running...
Keep running...
Keep running...
Keep running...
Keep running...
Keep running...
Keep running...
Keep running...
Keep running...
Keep running...
Keep running...
Keep running...
Keep running...
Keep running...
Keep running...
Keep running...
Keep running...
Keep running...
Terminate Event signalled
Thread terminated 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T08:48:28.360

为了确保线程看到对您所做的更改，`live`您需要`live` `volatile`：

```
volatile BOOL live = TRUE; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T08:43:59.077

不，这是不正确的。您无法保证线程会看到更改。编译器可以自由优化：

```
DWORD WINAPI Thread ( LPVOID lpParam )
{
..
while(live);
..
} 
```

至：

```
DWORD WINAPI Thread ( LPVOID lpParam )
{
..
register bool temp=live;
while(temp);
..
} 
```

那显然行不通。

经验法则是——**永远不要**在一个线程中访问一个变量，而另一个线程可能正在修改它，除非你使用某种特定的机制来确保操作是安全的。如果你遵守这条规则，你就不会遇到麻烦。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-09T15:52:26.990

```
void onexxit() {
   /* do-it */
} 
```

`atexit( onexxit )`功能呢

[http://msdn.microsoft.com/pl-pl/library/tze57ck3.aspx](http://msdn.microsoft.com/pl-pl/library/tze57ck3.aspx)

# google-maps-api-3 - 在 Google Maps v3 中使用航点处理多条路线

> ID：10137712
> 
> 赞同：1
> 
> 时间：2012-04-13T08:39:11.673
> 
> 标签：google-maps-api-3, map-directions

我想使用可拖动的航路点显示多个方向，并在调用 Route.prototype.setWayPoints() 时将每个航路点与起点、目标关联到对象或数据库中。

这家伙正在使用带有可拖动航点的单条路线（并将它们保存在数据库中）。

[http://vikku.info/programming/google-maps-v3/draggable-directions/saving-draggable-directions-saving-waypoints-google-directions-google-maps-v3.htm](http://vikku.info/programming/google-maps-v3/draggable-directions/saving-draggable-directions-saving-waypoints-google-directions-google-maps-v3.htm)

我想要多条路线而不是一条。我用谷歌搜索了很多，但找不到任何东西！

这是我尝试过的。

* * *

```
function Route(origin, destination){
    this.origin = origin; // LatLng
    this.destination = destination; //LatLng
    this.way_points = null;
};

Route.prototype.drawRoute = function(){
                 this.dser.route({'origin': this.origin,
                   'destination': this.destination,
                   'waypoints': this.way_points,
                   'travelMode': google.maps.DirectionsTravelMode.DRIVING},
                   function(res,sts) {
                          if(sts=='OK'){
                              var dren = new google.maps.DirectionsRenderer({ 'draggable':true }); 
                              dren.setMap(map); //global variable 'map'
                              dren.setDirections(res);
                          }   
                  });
};

Route.prototype.setGMap = function(map){
　　    this.dren.setMap(map);
};

Route.prototype.setWayPoints = function(){
　　this.way_points =   //... what should I do?
};

/* --- main part --- */

r0 = new Route(new google.maps.LatLng( 30, 31 ), new google.maps.LatLng( 40, 41 ));
r0.drawRoute();

// User drags and drops the route on the browser

r0.setWayPoints(); // newly added waypoints should be stored in r0.way_points

r1 = new Route(new google.maps.LatLng( 50, 51 ), new google.maps.LatLng( 60, 61));
r1.drawRoute();

// User drags and drops the route on the browser

r1.setWayPoints(); // newly added waypoints should be stored in r1.way_points 
```

* * *

谁能告诉我如何实现 Route.prototype.setWayPoints 以便当前 googlemap 上的路线中的航点可以存储在 Route 对象中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T12:42:33.693

我稍微改变了方法，并`getPoints`在 Route 对象中添加了一个 -method。

此方法将返回一个由起点、航点和目的地组成的数组，因此您可以轻松地将其传递到某个地方。（数组的每个项目都是一个数组 [lat,lng]）

[**http://jsfiddle.net/doktormolle/fjUqK/**](http://jsfiddle.net/doktormolle/fjUqK/)

# c# - 如何在响应之前或之后刷新我的 Telrik 网格或页面。END

> ID：10137721
> 
> 赞同：0
> 
> 时间：2012-04-13T08:39:34.837
> 
> 标签：c#, .net, httpresponse

我有一个带有下载列的 Telerik 网格，用户可以通过单击下载来下载文件。下载后我希望网格刷新，以便我可以更改下载文件的状态。但是由于用于下载的 Response.end，即使我在 response.end 之前绑定了网格，我也无法刷新网格...

那么下载时是否有任何解决方法来刷新页面..

等待回复

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:52:34.020

当您执行下载时，文件内容会在响应中发送，而不是您的页面。因此，简短的回答是否定的，您在下载文件时无法更新页面。我建议当用户单击更新网格并注册一个脚本时，该脚本将对服务器执行另一个调用，该服务器会将文件发送到客户端。

# objective-c - iPhone：禁用应用程序的多点触控

> ID：10137725
> 
> 赞同：2
> 
> 时间：2012-04-13T08:39:44.653
> 
> 标签：objective-c, ios, multi-touch

我想为整个应用程序禁用多点触控。有没有财产`self.disableMultiTouchForAllScreens = YES`？我有很多屏幕，我不想分别为每个屏幕禁用多点触控。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-13T08:45:25.727

SimpleMan 的建议很好，为什么您要为禁用而烦恼只是不实施。

如果您出于某种原因仍想这样做，那么您可以执行以下操作-您可以创建 uiviewcontroller 的子类，例如 MyViewController ： UIViewController

在 MyViewController 的实现中，您可以禁用多点触控。现在你类的所有其他视图控制器都需要实现 MyViewController 而不是 uiviewcontroller。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-13T08:58:17.203

@吉姆：

我不认为这是可能的，因为它只是指观点。

**请参阅此 StackOverflow 帖子：**

[iPhone - 在整个应用程序中禁用多点触控](https://stackoverflow.com/questions/7190423/iphone-disable-multiple-touch-in-whole-application)

这是该帖子中用户**malinois**的回答“

> 查看Apple文档，我认为这是不可能的，因为触摸事件传递仅涉及视图：[Regulating Touch Event Delivery](http://developer.apple.com/library/ios/#documentation/EventHandling/Conceptual/EventHandlingiPhoneOS/MultitouchEvents/MultitouchEvents.html#//apple_ref/doc/uid/TP40009541-CH3-SW20)

恐怕如果你想禁用它。您必须单独进行。

**一个建议：（**这只是一个建议，可能更容易实现）

我不确定，但可能您可以将您在应用程序中使用的控件子类化，并在子类本身中默认禁用多点触控。然后，您可以将这些类用作控件的基类并使其工作。

希望这可以帮助你

# html5-canvas - 如何处理 Chrome 18 小画布限制？

> ID：10137727
> 
> 赞同：1
> 
> 时间：2012-04-13T08:39:52.613
> 
> 标签：html5-canvas

我以前工作的所有画布程序都会在 Chrome 18 上出现黑屏死机。我已经看到过关于复杂代码的讨论，但我什至得到了它：

```
<html><head><title>disaster</title></head><body>
<canvas id="canvas" height="257" width="257"></canvas>
<script type="application/javascript">
var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");
ctx.fillText("X",100,100);
</script></body></html> 
```

Opera 可以很好地处理这个问题，但 Chrome 18 仅在画布为 256x256 或更小时才为我这样做。如果是由硬件加速引起的（HP Support Assistant 说我在 Win 7 Pro 64 位中的 dv6 驱动程序是最新的）我应该关闭它吗？如何关闭？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T22:09:40.793

在我发帖之前卸载并重新安装 18 并没有解决问题。Richard 的帖子意味着我的 Chrome 已损坏，几乎可以肯定是由于一个加载器插件潜入我的 Chrome 并且我已经卸载了该插件。现在将 Chrome 的相关数据连同它一起卸载并重新安装即可解决问题。

# php - 对象未按预期启动 PHP OOP

> ID：10137730
> 
> 赞同：1
> 
> 时间：2012-04-13T08:40:00.080
> 
> 标签：php, oop, design-patterns, web

一般来说，我是 php 和 OOP 的新手，因此决定将我现有的网站变成 oo php 网站以获得一些经验。这是我目前面临的问题。

我有一个从 User 扩展而来的 Normaluser 类。User 类内部是一个 login 方法，它返回一个包含 Users 类属性数组的对象。

```
class NormalUser extends User {

public function __construct($loginarray){
    $email = $loginarray['email'];
    $pass = $loginarray['pass'];

    var_dump ( parent::login($email,$pass) );
    //return parent::login($email,$pass)
}
} 
```

当做一个 var_dump （如上）我得到

```
bool(false) 对象(用户)#8 (4)
{ ["user_id"]=> string(1) "1" ["first_name"]=> string(7) "Melanie" ["last_name"]=> string(6) "Janson" ["user_level"]=>字符串（1）“1”}

```

然而在我的 login.php 页面中调用代码之后：

```
$postdata = User::mysqli_array_escape($_POST);      

    $email = $postdata['email'];
    $pass = $postdata['pass'];

    $userstart = new NormalUser($postdata);
    var_dump($userstart); 
```

我认为`$userstart`作为新的 NormalUser 对象调用将返回正确的变量，但是当我执行 var_dump （如上文所述）时，我收到以下内容：

```
对象（普通用户）#5 (4)
{ ["user_id"]=> NULL ["first_name"]=> NULL ["last_name"]=> NULL ["user_level"]=> NULL }

```

我不明白我哪里出错了，如果有人能够指出我正确的方向，我将不胜感激。

谢谢你。

已编辑：根据要求添加了 user.php 登录方法

```
 public static function login($email, $pass) {
    global $database;
    $sql = "SELECT user_id, first_name, last_name, user_level FROM users WHERE (email='$email' AND pass=SHA1('$pass')) AND active IS NULL LIMIT 1";
    $results = self::find_by_sql($sql);
    //var_dump($results);
    if (!empty($results)) {

        return array_shift($results);
    } else {
        return false;
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T09:05:47.833

问题是您**在构造函数中返回一个对象**。这不是构造函数的工作方式。

我有两个选择：

1.  您可以创建一个返回 NormalUser 实例的静态方法（而不是使用构造函数）：

    ```
    // In your NormalUser class.
    static function createNormalUser($loginarray) {
      $email = $loginarray['email'];
      $pass = $loginarray['pass'];
      return parent::login($email,$pass);
    } 
    ```

2.  或者您坚持使用构造函数，而不是返回对象实例，而是将其属性分配给`$this`实例：

    ```
    function __construct($loginarray) {
      $email = $loginarray['email'];
      $pass = $loginarray['pass'];
      $temp = parent::login($email,$pass);

      $this->user_id = $temp->user_id;
      // etc...
    } 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T09:01:15.990

`new NormalUser()`创建一个对象，该对象与 .返回`NormalUser`的对象完全不同。该对象立即丢失，因为您没有将其分配给任何东西。`User``User::login()``User`

一种解决方案是手动分配每个字段：

```
class NormalUser extends User {

 public function __construct($loginarray){
  $email = $loginarray['email'];
  $pass = $loginarray['pass'];

  if($base = parent::login($email,$pass)) {
   $fields = array('user_id', 'first_name', 'last_name', 'user_level');
   foreach($fields as $fld) {
    $this->$fld = $base->$fld;
   }
  }
 }
} 
```

但这对我来说感觉不对。另一种选择是：

```
$email = $postdata['email'];
$pass = $postdata['pass'];

$userstart = NormalUser::login($postdata);
var_dump($userstart); 
```

如果我对您行为的猜测`find_by_sql`是正确的，那应该会产生您想要的结果。

# c# - 如何停止在 C# 中运行 exe 以启动新实例？

> ID：10137734
> 
> 赞同：1
> 
> 时间：2012-04-13T08:40:07.327
> 
> 标签：c#, running-other-programs

我有一个用 C# 编写的服务器软件。有时我会犯这个错误：

> 无法将文件“obj\x86\Debug\Server.exe”复制到“bin\Debug\Server.exe”。该进程无法访问文件“bin\Debug\Server.exe”，因为它正被另一个进程使用。

我怎么知道我的程序仍在后台运行并停止它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-13T08:43:00.743

这很可能不是由您的软件（您正在编写的软件）引起的，而是由 IDE 本身引起的。

我通常只是使用任务管理器来杀死`vshost`仍然挂起的任何进程，但这可能不是很安全。或者有时只需要重新启动 Visual Studio。

# ruby-on-rails - OmniAuth 1.1：nil:NilClass 的未定义方法“信息”

> ID：10137735
> 
> 赞同：6
> 
> 时间：2012-04-13T08:40:13.247
> 
> 标签：ruby-on-rails, omniauth

将 OmniAuth gem 更新到 1.1 后出现此错误：

```
Started GET "/users/auth/facebook" for 127.0.0.1 at 2012-04-13 11:31:37 +0300

NoMethodError (undefined method `info' for nil:NilClass):
  omniauth (1.1.0) lib/omniauth/strategy.rb:151:in `log'
  omniauth (1.1.0) lib/omniauth/strategy.rb:190:in `request_call'
  omniauth (1.1.0) lib/omniauth/strategy.rb:174:in `call!'
  omniauth (1.1.0) lib/omniauth/strategy.rb:157:in `call'
  omniauth (1.1.0) lib/omniauth/builder.rb:48:in `call' 
```

我正在使用omniauth 通过facebook 授权用户。进行了捆绑更新，现在单击“登录 Facebook”时出现此错误。

另一个问题 - 有没有办法回滚捆绑 gem 更新？也许每次都创建一个新的 rvm 集？

恢复到 OmniAuth 1.0.2 解决了这个问题。

以下是上次更新的 gem 的完整日志：

```
Using rake (0.9.2.2) 
Using i18n (0.6.0) 
Using multi_json (1.0.4) 
Installing activesupport (3.2.2) 
Using builder (3.0.0) 
Installing activemodel (3.2.2) 
Using erubis (2.7.0) 
Using journey (1.0.3) 
Using rack (1.4.1) 
Installing rack-cache (1.2) 
Using rack-test (0.6.1) 
Using hike (1.2.1) 
Using tilt (1.3.3) 
Using sprockets (2.1.2) 
Installing actionpack (3.2.2) 
Installing mime-types (1.18) 
Using polyglot (0.3.3) 
Using treetop (1.4.10) 
Installing mail (2.4.4) 
Installing actionmailer (3.2.2) 
Using arel (3.0.2) 
Installing tzinfo (0.3.33) 
Installing activerecord (3.2.2) 
Using activerecord-import (0.2.9) 
Installing activeresource (3.2.2) 
Using acts_as_list (0.1.5) 
Using addressable (2.2.7) 
Using bcrypt-ruby (3.0.1) 
Using bundler (1.0.10) 
Using cocaine (0.2.1) 
Installing coffee-script-source (1.3.1) 
Using execjs (1.3.0) 
Using coffee-script (2.2.0) 
Using rack-ssl (1.3.2) 
Installing json (1.6.6) with native extensions 
Using rdoc (3.12) 
Using thor (0.14.6) 
Installing railties (3.2.2) 
Using coffee-rails (3.2.2) 
Installing orm_adapter (0.0.7) 
Using warden (1.1.1) 
Using devise (2.0.4) 
Using multipart-post (1.1.5) 
Using faraday (0.7.6) 
Using hashie (1.2.0) 
Installing launchy (2.1.0) 
Installing netrc (0.7.1) 
Using rest-client (1.6.7) 
Installing rubyzip (0.9.7) 
Installing heroku (2.24.1) 
Installing jquery-rails (2.0.2) 
Using kaminari (0.13.0) 
Installing koala (1.4.0) 
Installing systemu (2.5.0) 
Using macaddr (1.5.0) 
Installing multi_xml (0.4.2) 
Using mysql (2.8.1) 
Using nifty-generators (0.4.6) 
Using oa-core (0.3.2) 
Using oauth (0.4.5) 
Using oauth2 (0.5.2) 
Using oa-oauth (0.3.2) 
Installing oauth-plugin (0.4.0) 
Installing omniauth (1.1.0) 
Using omniauth-oauth2 (1.0.0) 
Using omniauth-facebook (1.2.0) 
Using paperclip (2.7.0) 
Installing rails (3.2.2) 
Using sass (3.1.15) 
Installing sass-rails (3.2.5) 
Installing simple_form (2.0.1) 
Using sqlite3 (1.3.5) 
Using sqlite3-ruby (1.3.3) 
Installing uglifier (1.2.4) 
Using uuid (2.3.5) 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-04-15T09:56:43.477

我有同样的问题，我的工作是在初始化程序（omniauth.rb）中创建一个文件并添加：

```
 OmniAuth.config.logger = Logger.new(STDOUT)
  OmniAuth.logger.progname = "omniauth" 
```

# ios - Apple Push Notification Service 提交后不起作用，但在沙箱中一切正常

> ID：10137745
> 
> 赞同：4
> 
> 时间：2012-04-13T08:41:15.960
> 
> 标签：ios, apple-push-notifications

我已经在我的应用程序中实现了 APNS，它在开发过程中工作。我提交到 App Store 后，弹窗不显示，用于要求用户选择是否接收 APNS。任何人都可以给出任何想法吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-04-13T14:22:14.783

我会首先检查您提交的二进制文件是否在权利中启用了推送通知。在 iTunes 连接中查看应用程序二进制文件的详细信息：

![在此处输入图像描述](../Images/6c224c60a633bb3ac6ee89245e05c4df.png)

您应该看到`aps-environment`以“生产”为值的键。

![在此处输入图像描述](../Images/9ceefc0b3389577573f8a6754fa0c4ae.png)

您还可以在终端中运行以下命令以从本地计算机上的 .app 文件中获取信息：

```
codesign -d --entitlements - MyApp.app 
```

如果`aps-environment`密钥设置为“生产”，则您的应用程序在代码方面可能没有任何问题。它在沙盒环境中工作，因此它应该在生产环境中工作（因为两者的代码相同）。这是假设您的发布版本运行与调试版本相同的代码。

在您的代码中，您应该处理该`application:didFailToRegisterForRemoteNotificationsWithError:`方法并 NSLogging 任何错误。这将使您在设备的控制台中看到错误。

由于您的应用程序没有提示启用推送通知，因此在我看来好像缺少权利。或者以某种方式在设备上禁用了推送通知。

您还应该检查您的服务器（提供者）是否将通知发送到生产环境（`gateway.push.apple.com`），而不是沙盒环境（`gateway.sandbox.push.apple.com`）。虽然如果这是问题所在，应用程序仍会提示用户允许推送通知。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T10:09:59.520

您的 app-id 配置为在 ios 门户中使用 apns 生产环境？

您也可以在您的应用程序中检查日志，它应该记录特定原因的 apns 注册错误

# java - 创建android应用程序来远程控制我的电脑

> ID：10137746
> 
> 赞同：0
> 
> 时间：2012-04-13T08:41:20.557
> 
> 标签：java, android, remote-access

我想从我的安卓手机远程控制我的电脑。我知道应用程序可用于相同的。但是，如果我想自己开发一个怎么办？请有人建议可用的 API 从移动设备远程控制我的电脑并执行任务，例如关闭它、打开我的电脑的各种应用程序等。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T12:27:44.990

> 可用的 API 从移动设备远程控制我的电脑并执行任务，例如关闭它、打开我的电脑的各种应用程序

没有“可用的 API 可以从移动设备远程控制我的电脑并执行任务，例如关闭它、打开我的电脑的各种应用程序”。你会自己写所有这些。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-10-20T22:34:49.350

您可以使用套接字编程，您的计算机将成为服务器，而您的手机将成为客户端。您可以使用 TCP 连接和固定端口号连接到您的计算机。您需要为双方编写一个程序。

一旦您能够将特定消息从您的 android 设备发送到您的计算机。您应该在服务器端轻松执行必要的任务 ( `like shutting it down, opening various applications of my pc etc`)。

网上有很多android socket编程教程。

# apache - 使用 Apache HTTP 服务器进行国际化 (i18n)

> ID：10137750
> 
> 赞同：1
> 
> 时间：2012-04-13T08:41:25.447
> 
> 标签：apache, internationalization, apache2, documentum

**背景**

我的公司即将对其企业网站进行国际化（每种语言大约有 3000 多页静态内容）。我当前的问题是关于从 Apache Web 服务器 (v2.4.1) 提供国际化静态内容。

**阿帕奇文档**

在阅读文档时，我了解到 Apache 通过在文件名末尾添加语言代码来支持多语言内容的服务，例如：

```
index.html.en
index.html.zh
index.html.kr 
```

*（代码仅用于说明，它们很可能不正确）*

**内容结构**

然而，我们的静态内容是在 Documentum WCM 中管理的，我的 Documentum 团队告诉我，当将内容推送到我们的 Web 服务器时，WCM 会以以下结构输出它的数据：

```
.../en/full/content/tree.html
.../kr/full/content/tree.html
.../ja/full/content/tree.html
.../zh/full/content/tree.html 
```

**我的问题/问题**

所以，我想知道的是如何配置 Apache HTTP 服务器以根据用户请求的 TLD 提供来自不同内容树的内容，这意味着如果用户请求 URL：`http://www.mycompany.cn/full/content/tree.html`它将提供来自`.../zh/....`树。请注意，语言代码不会出现在 URL 中 - 实际上所有 URL 都应该保持不变，但域名除外。

换言之，***用于访问内容的 TLD 决定了所显示的语言***。

我们可能会从以下域 TLD 开始：

```
http://www.mycompany.com
http://www.mycompany.cn
http://www.mycompany.co.kr
http://www.mycompany.com.tw
http://www.mycompany.co.jp 
```

我确信这不是一种完全不常见的方法，但我对如何进行此操作有点不知所措，因此您可以提供的任何帮助将不胜感激。

谢谢，

***注意：**我不需要关于强制特定域为特定语言内容提供服务的方法是否是最佳方法的答案——这已经在内部进行了辩论并决定——我输了。*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-17T07:26:05.493

事实证明这很容易——只需定义多个`VirtualHost`'s，每个 TLD 一个，并将其指向不同的`DocumentRoot`.

# xpages - 即使在使用 XPagesPreload 之后，xPages 应用程序加载时间也很慢

> ID：10137757
> 
> 赞同：1
> 
> 时间：2012-04-13T08:41:51.860
> 
> 标签：xpages

我有一个带有 40 个 xpages、60 个自定义控件和 cca 的 xpages 应用程序。50 个 java 文件（在 src ... 包资源管理器中使用）为了加快应用程序加载，我在 notes.ini 中使用了这两个变量

```
XPagesPreload=1 
XPagesPreloadDB=account/w-apps.nsf 
(I use the latest 853FP1) 
```

在日志中我可以看到，这些变量正在被使用，但尽管如此，我总是必须等待 cca 7 秒才能显示第一页（下一次很快）。当我不使用该应用程序时，例如几个小时，在我看来它正在被卸载，然后我不得不再次等待。最后，当您每小时使用一次应用程序时，您总是需要等待一段时间，这很烦人。有没有办法加速/克服这些事情，或者至少避免应用程序卸载？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T09:58:59.653

这是 xPages 的常见问题。一段时间后，服务器会卸载您的应用程序以释放内存供其他应用程序使用。您正在搜索的设置是：

xsp.application.timeout

在 nsf / 服务器的 xsp.properties 文件中。如果您更改此数字，您的服务器超时将需要更长的时间，但请注意：

**这也意味着不会为可能导致内存不足错误的会话清除内存。**

如果您的应用程序需要 7 秒来加载，那么后台会发生很多事情。我认为首先看看你是否可以优化你的架构，优化服务器上​​的内存设置（jvm heapsize），看看你的服务器的规格是否可能是瓶颈是明智的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-14T06:03:38.883

您可以保持会话时间适度，但使用计划代理，该代理只需在一个可以匿名访问的页面上执行 @URLOpen。这可以防止应用程序超时。为此，请将 Anonymous 设置为“无访问权限”，但选中“阅读公共文档”，然后将一页检查为“可供公共访问用户使用”。页面不应该做任何事情，只是发回“OK - I got it”——但保持应用程序上下文处于活动状态。

如果您将代理安排在 08:00 - 18:00 运行，则您的应用程序在正常工作时间内启动

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-09-11T13:03:51.183

`XPagesPreload`在我看来，设置很奇怪而且完全没用。它只会在启动 HTTP 任务或服务器的极少数情况下预加载它们。如果 XPage 在 2.5 小时内未访问，它将被卸载。在使用 8.5.2 进行测试时，我注意到了这 2.5 小时。在 Domino 9 中我只知道它们在几个小时后被卸载，可能仍然是 2.5 小时。

我遇到的问题比 7 秒的加载时间要大得多。第一次加载某些 XPage 需要 1-3 分钟。David Leedy 也提到了类似的加载时间。

经过一些测试，我发现速度缓慢是由查看面板引起的，在该面板中，使用全文搜索获取文档并进行排序（不确定排序是否相关）。**当视图索引很大时，**这会导致很长的初始加载时间。在第一次页面加载 1-3 秒后，使用不同的全文搜索。我们的视图索引几乎是 0.7GB，因为 12 列可双向排序（客户要求）。缓慢在事件`beforeRenderResponse`之间`afterRenderResponse`。

我怀疑客户会使用所有这 24 个排序索引，所以我检查了每列中的“推迟索引创建直到第一次使用”选项。然后我丢弃了视图索引，到目前为止它一直很小，早上的第一次加载现在是几秒钟。

# javascript - 智能加载1000张图片

> ID：10137758
> 
> 赞同：14
> 
> 时间：2012-04-13T08:41:59.893
> 
> 标签：javascript, jquery, image, loading

我在同一页面上有 1000 张图片。不幸的是，我不能在它们上使用精灵，因为图像的数量不断增加。所以你可以想象它发送了 1000 个 HTTP 请求，所以加载图像需要很多时间，而且这对访问者来说不是很好的体验。

我看过一个名为*Lazy Load*的脚本，但我在想是否有***更智能***的加载图像的方式（对于[SEO](http://en.wikipedia.org/wiki/Search_engine_optimization)来说很好，加载图像更快并且有利于用户体验）。

有没有办法以更好的方式加载图像？

详细说明：

我必须在同一页面上加载所有 1000 张图像，没有其他出路。它会是什么样子或者我打算用它来做什么，我实际上已经在[http://bloghutsbeta.blogspot.com/2012/03/testing-2_04.html](http://bloghutsbeta.blogspot.com/2012/03/testing-2_04.html)为您制作了一个*测试页面*。

如您所见，我使用的是 Jacek Galanciak 制作的[jQuery Quicksand插件。](http://razorjack.net/quicksand/)我和这个插件没有很好的关系，就好像我要向它添加 jQuery 或脚本一样。它会要求一个回调函数，这对我来说是一个盲点。（这就是为什么我为它制作了一个 CSS 工具提示：D）

我的测试页中有很多图片，但没有 1000 张。当它们达到 1000 张时，就会变得一团糟。所以我不知道在这种情况下如何处理 1000 张图像。（顺便感谢大家的可爱评论）

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-04-13T09:19:56.893

很少有用例支持在单个页面上提供数百或数千张图像。一个这样的例子是谷歌图片。这是正确的做法：

[https://www.google.com/search?tbm=isch&q=jeff+atwood](https://www.google.com/search?tbm=isch&q=jeff+atwood)

1.  **延迟加载图像**这是一项要求。如果图像在折叠下方（可见文档区域之外），则没有理由加载它们。

2.  **使用分页**Google 图片将结果分解为当时仅加载少量图片的页面。Google 还使用一些 JavaScript-fu 来实现*无限滚动*——一旦浏览器接近当前结果的底部，它就会发送请求以加载更多结果页面并将它们注入页面底部。

3.  **SEO：没有 JavaScript，没问题**再次访问 Google 图片链接，但关闭 JavaScript。您仍然可以浏览结果页面 - 每页大约有 15 张图片。搜索引擎可以索引此图像内容。

4.  **最大图像显示**一旦显示超过 150 多个图像，请在页面底部放置一个按钮以“加载更多结果” - 此按钮重新加载整个页面，但从第 151 个图像而不是第一个图像开始。浏览器必须绘制的每张图像都会占用更多的内存和 CPU 周期。滚动一长串列表可以快速带来移动浏览器或适度的桌面进行爬网。

加载数以千计的图像是不好的——它会给你的服务器带来负担，从而破坏用户体验。对于用户想要浏览的任何大型数据集都是如此。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T09:21:27.707

我能想到的最佳答案：

**不要这样做**。不要在一个站点上加载 1000 张图像，并且要**使用**某种延迟加载或分页。

尽管如此，一个想法，不确定它是否合适，因为您从未给出具体的用例：运行一个[cron](http://en.wikipedia.org/wiki/Cron)作业，根据您的需要每 X 分钟将图像拼接成一个/一些更大的图像。使用更大的图像，就像使用精灵解决方案一样。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T09:20:55.240

当用户滚动页面加载图像集时，使用[延迟加载](http://en.wikipedia.org/wiki/Lazy_loading)来呈现这些图像。

这是一种复杂的方法，您首先加载几个（N 个）图像并检查用户是否在之前还剩下几行图像之前没有滚动`containerNode.offsetHeight`。如果用户向下滚动该限制，您将为接下来要加载的 n 个图像创建 N 个图像标签。

这个 N 可以根据图像文件的大小或尺寸而变化。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-13T09:51:59.287

试试插件[QueryLoader 2](http://www.gayadesign.com/diy/queryloader2-preload-your-images-with-ease/)。它不会帮助您更快地加载它们 - 正如您所说，数量的增加 - 但它会在元素仍在加载时显示“加载”屏幕，并可能为您提供更好的用户体验。

或者在其他一些答案中执行并在向下滚动时加载它们。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-13T09:00:33.127

几年前，我想是 2010 年，[新加坡国庆游行](http://www.ndp.org.sg/)网站的首页有多张图片，比如 20 x 20。每天在高峰时段，数据库 (MySQL) 和 Web 服务器 (Apache) 都会出现故障。

开发团队随后部署`memcached`以解决该问题。

# grails - 使用 ssl 在 Heroku 上的 Grails 应用程序

> ID：10137761
> 
> 赞同：0
> 
> 时间：2012-04-13T08:42:07.117
> 
> 标签：grails, heroku

我在 jetty runner 的 Heroku 上部署了一个 grails 应用程序。

我从 dnsSimple 购买了 SSL 证书并成功配置了它，考虑到当我点击“ [https://mydomainname.com](https://mydomainname.com) ”时，我可以看到证书信息。

现在我想强制在 https 上进行所有通信。
我尝试了以下方法，但到目前为止没有任何效果：
[grails - 用于测试 Heroku 上的 spring-security-core 安全通道的简单应用程序](https://stackoverflow.com/questions/9105084/grails-simple-app-to-test-spring-security-core-secure-channel-on-heroku)
[grails - spring-security-core 安全通道导致重定向循环（在 Heroku 上）](https://stackoverflow.com/questions/9090709/grails-spring-security-core-secure-channel-causing-redirect-loop-on-heroku)
和许多其他帖子建议对 https 使用过滤器，但没有运气。
你能帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T16:17:56.733

请参阅 Heroku 插件文档中讨论该`useHeaderCheckChannelSecurity`属性的“使用 Spring Security Core 插件”部分：http: [//grails-plugins.github.com/grails-heroku/docs/manual/guide/2%20Usage.html](http://grails-plugins.github.com/grails-heroku/docs/manual/guide/2%20Usage.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-03T10:46:41.213

此问题似乎是由于 spring 安全核心中使用的“'x-forwarded-proto”标头和 heroku 负载均衡器用于基于 https 的 url 的“X-FORWARDED-PROTO”标头的错误案例。以下链接对我有用。
[Heroku 论坛](https://discussion.heroku.com/t/grails-spring-security-core-securechannel-definition-causes-redirect-loop/219/2)

# c# - 在运行时在对象上添加属性没有发生

> ID：10137762
> 
> 赞同：3
> 
> 时间：2012-04-13T08:42:09.190
> 
> 标签：c#, object, attributes, typedescriptor

我尝试在某个对象上添加属性。这个对象可以是 int、string、List 或其他。

我尝试使用

`TypeDescriptor.AddAttributes(object, attrList.ToArray());`

但是当我这样做时，这个属性列表不会显示：

`object.GetType().GetCustomAttributes(false)`

怎么会？

最好的祝福，

加布里埃尔·保尔森

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-13T09:23:28.937

不幸的是，此方法不会动态更改类型的元数据，最终它只会为您返回一个包含您添加的属性的[TypeDescriptor 。](http://msdn.microsoft.com/en-us/library/system.componentmodel.typedescriptor.aspx)

您需要保留 AddAttributes 方法的返回值并从那里查询...

```
var myObject = { ... }

var typeDescriptionProvider = TypeDescriptor.AddAttributes(myObject, attrList.ToArray());

var attributes = typeDescriptionProvider.GetTypeDescriptor(myObject).GetAttributes(); 
```

您可以将类型描述符视为类型元数据本身（固定）和您在运行时添加的任何元数据（动态）的联合。

# ruby-on-rails - 很好地命名多态关系

> ID：10137764
> 
> 赞同：10
> 
> 时间：2012-04-13T08:42:11.337
> 
> 标签：ruby-on-rails, ruby-on-rails-3, coding-style, polymorphic-associations

这个问题是关于多态关系的*命名风格*。

我的数据库有三种类型的人：“公司”、客户和员工。这三个中的每一个都与任务和事件以及项目处于多态关系。

根据 Rails 指南，这将是这样完成的（为简洁起见，我省略了一些类）：

```
Person.rb
has_many :tasks, :as => :taskable
has_many :events, :as => :eventable
has_many :projects, :as => :projectable # awkward names

Task.rb
belongs_to :taskable, :polymorphic => true

These lead to the rather strange:
@person = @task.taskable 
```

我觉得以下内容会更加语法和优雅......它会起作用吗？如果是这样，官方消息来源是否有理由使用 like`projectable`而不是 like `owner`？

```
Person.rb
has_many :tasks, :as => :owner
has_many :events, :as => :owner
has_many :projects, :as => :owner

Task.rb
belongs_to :owner, :polymorphic => true

This creates the elegant:
@person_1 = @task.owner
@person_2 = @project.owner 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-13T09:01:00.897

我个人尽量保持它的通用性。

所以`:as => :owner`对我来说更有意义。

如有疑问，我会使用

```
:as => :parent 
```

我已经在一些项目中看到了。

# c# - MVC3 Validation with ComponentModel.DataAnnotations for UK date format（也使用jquery ui datepicker）

> ID：10137765
> 
> 赞同：6
> 
> 时间：2012-04-13T08:42:12.450
> 
> 标签：c#, asp.net-mvc-3, entity-framework, validation, data-annotations

我看到有一些类似的问题，但没有一个能解决我的问题。

我正在使用 Entity Framework 4.3 开发 MVC3 应用程序。我有一个英国日期字段，我计划允许用户使用 Jquery UI 日期选择器进行编辑（感谢[这个博客](http://blogs.msdn.com/b/stuartleeks/archive/2011/01/25/asp-net-mvc-3-integrating-with-the-jquery-ui-date-picker-and-adding-a-jquery-validate-date-range-validator.aspx)，我开始工作了）。

对我来说幸运的是，此博客包含有关使用英国格式制作日期选择器的说明，但是，EF 验证仍然告诉我需要输入有效的日期格式。奇怪的是，它并没有阻止我将日期提交给数据库，它只是启动并显示消息的不显眼的验证。

目前我有以下数据注释：

```
[DataType(DataType.Date)]
public System.DateTime Module_Date { get; set; } 
```

但我也尝试添加：

```
[DisplayFormat(DataFormatString="{0:dd/MM/yyyy}")] 
```

这根本没有效果。我希望有人有一个解决方案，因为我不喜欢关闭不显眼的验证来停止这个错误消息。

谢谢

**编辑**

在@Iridio 回答之后，我考虑添加一个模型绑定，事实上，从我读过的几篇像这样的帖子来看，这似乎是正确的做法，但我想出的却没有效果。这是我尝试过的：

```
public class DateTimeBinder : IModelBinder
{
    public object BindModel(ControllerContext controllerContext, ModelBindingContext bindingContext)
    {
        var value = bindingContext.ValueProvider.GetValue(bindingContext.ModelName);
        var date = value.ConvertTo(typeof(DateTime), CultureInfo.CurrentCulture);

        return date;
    }
} 
```

在文件的`Application_Start()`方法中使用这个`Global.asax.cs`：

```
ModelBinders.Binders.Add(typeof(DateTime), new DateTimeBinder());
ModelBinders.Binders.Add(typeof(DateTime?), new DateTimeBinder()); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-17T10:28:25.880

是的，问题在于坚持使用美国日期格式的 jquery 验证脚本。不过，我会克制自己不要对世界上大多数人使用 dd/mm/yyyy 的事实进行适当的咆哮。

[无论如何，最终我在一个类似问题](https://stackoverflow.com/questions/7438754/localizing-jquery-validation-with-asp-net-mvc-3)的答案的评论中找到了我的困境的答案，该问题的作者写了[一篇](http://vintem.com.br/en/2011/09/17/globalizacao-de-validacao-do-jquery-com-o-asp-net-mvc-3/)关于他如何解决这个问题的博客文章。

基本上我已经使用了[jquery globalize 脚本](https://github.com/jquery/globalize)并将文化设置为`en-GB`. 我应该提到，在他的博客中，他没有提到在哪里放置你指定文化的地方，所以我只是在页面中的脚本标签中插入了对全球化脚本的引用：

```
<script src="@Url.Content("~/Scripts/globalize.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/globalize.culture.en-GB.js")" type="text/javascript"></script>
<script type="text/javascript">
    Globalize.culture("en-GB");
    $.validator.methods.date = function (value, element) {
        return this.optional(element) || Globalize.parseDate(value);
    };
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:49:16.577

您必须为 DateTime 类型编写自己的 ModelBinder。

这是我为类似问题编写的活页夹，但使用的是 Decimal 类型（也许你会需要它）。您应该掌握这个想法并使其适应您的需要

```
public class DecimalModelBinder : IModelBinder
{
  public object BindModel(ControllerContext controllerContext, ModelBindingContext bindingContext)
  {
    ValueProviderResult valueResult = bindingContext.ValueProvider.GetValue(bindingContext.ModelName);
    ModelState modelState = new ModelState { Value = valueResult };
    object actualValue = null;
    try
    {
      actualValue = Convert.ToDecimal(valueResult.AttemptedValue, CultureInfo.CurrentCulture);
    }
    catch (FormatException e)
    {
      modelState.Errors.Add(e);
    }

    bindingContext.ModelState.Add(bindingContext.ModelName, modelState);
    return actualValue;
  }
} 
```

然后在 global.asax 中注册你的活页夹，你就完成了

```
protected void Application_Start()
{
  AreaRegistration.RegisterAllAreas();
  RegisterGlobalFilters(GlobalFilters.Filters);
  RegisterRoutes(RouteTable.Routes);
  //Here you tell how to hendle the specific type 
  ModelBinders.Binders.Add(typeof(decimal), new DecimalModelBinder());
} 
```

**更新**

在您澄清后[，这个答案](https://stackoverflow.com/a/8224046/394028)应该会有所帮助

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-13T09:06:19.940

我相信 mvc3 框架 (jquery-ui-1.8.11.js) 附带的 jquery ui datepicker 的脚本版本中存在一个错误。

如果您以 uk 格式指定日期（正如博客所述）：

```
$(document).ready(function () {
    $('.date').datepicker({dateFormat: "dd/mm/yy"});
}); 
```

然后 jquery-ui-1.8.11.js 似乎在验证日期方面存在问题，并不断要求提供有效的英国日期（但验证似乎是随机的）。如果您将日期格式更改为“mm/dd/yy”，那么这个问题就会消失，但这对英国日期没有好处。

该问题已在该库的更高版本中得到解决，因此请下载最新版本（我相信在撰写本文时为 1.8.18）或参考 cdn：

```
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js" type="text/javascript"></script> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-30T11:53:48.613

实际上我在这里找到了更好的解决方案.... by #fretje

[覆盖 jquery 日期](https://stackoverflow.com/questions/6866172/override-jquery-date)

我已经稍微修改了他/她的代码，以便它仍然可以采用日期格式，例如下面的 2012 年 5 月 30 日。

```
$(function () {
    $.validator.addMethod(
        "date",
        function (value, element) {

            //Added to validate dates like 31 May 2012
            if (value.split('/').length === 1) 
                return this.optional(element) || !/Invalid|NaN/.test(new Date(value));

            var bits = value.match(/([0-9]+)/gi), str;
            if (!bits)
                return this.optional(element) || false;
            str = bits[1] + '/' + bits[0] + '/' + bits[2];
            return this.optional(element) || !/Invalid|NaN/.test(new Date(str));
        },
        "Please enter a date in the format dd/mm/yyyy"
    );

    $global.init();
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-14T06:47:53.447

我刚才遇到了这个问题，花了我几个小时才找到原因。我不是说这是你的问题，但是在花了几个小时在所有事情上切换全球化等之后，我想我会在这里为任何像我一样挣扎的人发布这个问题。

无论如何，我项目中的问题实际上并不是我想的那样。我已经装饰了这个属性`[DataAnnotationsExtentions.Date]`，事实证明，当涉及到本地化时（即如果你想要在英格兰的 12 日之后的一天），它会在 chrome 中搞砸客户端验证，尽管它似乎在其他浏览器中工作正常。一旦我删除它就可以了

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-06-18T15:47:36.627

问题是，由于某种原因，如果您在文本框中放置了一个名为“date”的类，Chrome 就会变得如此疯狂，如[本博客](http://blog.mjjames.co.uk/2012/01/tricky-times-using-mvc3-date-validator.html)所述。我有同样的问题，我只是将类名更改为 customDate 并解决了。

# c++ - 将图像的区域复制到另一个图像中的另一个区域

> ID：10137766
> 
> 赞同：10
> 
> 时间：2012-04-13T08:42:16.873
> 
> 标签：c++, opencv, computer-vision

我想做一件非常简单的事情：将图像内的区域复制到新图像中的新区域。在 OpenCV 2.3 备忘单中，他们提出了以下解决方案：

> “示例 3\. 将图像 ROI 复制到另一个图像并进行转换”

```
Rect r(1, 1, 10, 20);
Mat dstroi = dst(Rect(0,10,r.width,r.height));
src(r).convertTo(dstroi, dstroi.type(), 1, 0); 
```

我的代码如下：

```
Mat frameO, frameS;

original >> frameO;
stabilized >> frameS;

Mat output(frameO.rows+40, frameO.cols*2+60, CV_32FC3);
output.setTo(0);            
Rect r(0,0, frameO.cols, frameO.rows);
Mat destROI = output(Rect(20,20, frameO.cols, frameO.rows));
frameO(r).copyTo(destROI); 
```

我只想`frameO`在 location 的输出中复制图像`Rect(20,20, frameO.cols, frameO.rows)`。
任何人都可以告诉我为什么这不起作用？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-05-18T00:35:30.780

实际上，这些命令在 OpenCV 2.3 中不起作用，但现在以下命令在 2.4 版本中可以正常工作：

```
Mat frame1 = imread(nameReading1);

Mat output(frame1.rows*2, frame1.cols*2, frame1.type());
output.setTo(0);

frame1.copyTo(output(Rect(0, 0, frame1.cols, frame1.rows))); 
```

`frame1`只要类型一致，这将在输出中复制，因此在创建输出时要小心。`frame1`将被复制到由 定义的输出中的 ROI 中`Rect(0, 0, frame1.cols, frame1.rows)`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-05-08T08:01:12.607

同一过程的另一种方法是使用[WarpAffine](https://docs.opencv.org/2.4/modules/imgproc/doc/geometric_transformations.html?highlight=warpaffine)函数。

由于您已经知道 ROI，您可以创建一个子 MAT 来存储临时数据并将其粘贴到任何所需大小的新图像中。

```
 Mat tempImage = imageTest.SubMat(rowStart, rowEnd, colStart, colEnd);
 Mat targetImage = new Mat(rowEnd - rowStart, colEnd - colStart, MatType.CV_64FC3);
 tempImage.CopyTo(targetImage); 
```

现在您可以将内容粘贴到新图像上，如下所示：

`double[,] transMatDynamicScaling = new double[2, 3] { { 1, 0, desiredROW }, { 0, 1, desiredCol } }; Mat transformationMAT = new Mat(2, 3, MatType.CV_64FC1, transMatDynamicScaling);`

最后你可以使用warpfunction粘贴newImage（记得在内存中创建一个新图像）

Cv2.WarpAffine(targetImage, addImage1, transformDynamicScaling, addImage1.Size());

我知道我玩游戏迟到了，也许它对未来的用户有用。

# ios - iPhone 应用程序中的 VOIP 实现

> ID：10137767
> 
> 赞同：0
> 
> 时间：2012-04-13T08:42:17.107
> 
> 标签：ios, objective-c, voip

我必须在 iPhone 应用程序中实现 VOIP，这是执行此操作的最佳方式。如果您有任何想法，请与我分享或给我一些指示，我可以从中探索并获得更好的解决方案。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T09:16:01.847

是的，您可以拥有 iPhone Voip 应用程序。您能否让我知道您希望在此应用程序中具有什么目的或功能。

如果您想使用 VoIP 拨打电话，请使用 SIP（​​会话启动协议）与 VoIP 或 VoIP 到 PSTN 进行通信。请按照以下 URL 获取 iPhone VoIP 客户端。

[http://code.google.com/p/siphon](http://code.google.com/p/siphon)

获取源代码并使用以下 URL 中的说明进行编译；

[http://code.google.com/p/siphon/wiki/Compilation](http://code.google.com/p/siphon/wiki/Compilation)

对于 VoIP 堆栈，请访问 www.pjsip.org。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T07:47:11.557

使用 pjsip。它是一个用 C 语言编写的 SIP 库。pjsip 使用 GPL 许可证。

您可能会找到这样做的[文档。](http://developer.apple.com/library/ios/#DOCUMENTATION/iPhone/Conceptual/iPhoneOSProgrammingGuide/AdvancedAppTricks/AdvancedAppTricks.html)

# jquery - 将自动完成添加到动态文本框

> ID：10137771
> 
> 赞同：0
> 
> 时间：2012-04-13T08:42:54.037
> 
> 标签：jquery, jquery-ui-autocomplete

它最初包含一个带有单个文本框的行，我向文本框添加了自动完成功能，它工作正常。然后我使用 javascript 添加了更多文本框，现在我想将自动完成功能添加到新创建的文本框。请帮我将自动完成添加到新创建的文本框

我的自动完成代码是

```
<script>
 $( ".productcode" ).autocomplete({ 
        minLength: 0,
           source: BASEURL1 + "sales/searchCustomer1/",
                    //source:projects1,
        focus: function( event, ui ) {
             $( ".productcode" ).val( ui.item.label);

                        //   var id= $(this).attr('id');
                        //     $( id ).val( ui.item.label);  
            return false;
        },
        select: function( event, ui ) {
                        //alert($(this).attr('id')); 
             $( "#product-code1" ).val( ui.item.label);
                              $( "#product-id1" ).val( ui.item.prod_id);
             $( "#product-name1" ).val( ui.item.prod_name);
                              $( "#product-mrp1" ).val( ui.item.mrp);
              $( "#product-price1" ).val( ui.item.sales_rate);

        }
    })
    .data( "autocomplete" )._renderItem = function( ul, item ) {
        return $( "<li></li>" )
            .data( "item.autocomplete", item )
            .append( "<a>Code:" + item.label + "<br>Name:" +
                                item.prod_name + ",MRP:"+  item.mrp+   ",Rate:" + item.sales_rate +  ",STk:" +item.stk +"</a>" )
            .appendTo( ul ); 
    };
}); 
```

用于生成新文本框的代码，如函数 addRow(tableID) {

```
 var table = document.getElementById(tableID);

        var rowCount = table.rows.length;
        var row = table.insertRow(rowCount);

        var cell1 = row.insertCell(0);
        var element1 = document.createElement("input");
        element1.type = "text";
    element1.id = "product-code"+(rowCount + 1);
    element1.name="product-code["+(rowCount + 1)+"]";
    element1.setAttribute('class','productcode'); 
         element1.setAttribute('style','width:100px; float:none');
       $("#product-code1").autocomplete({ });
        cell1.appendChild(element1);
        </script> 
```

我的表格是代码 id 名称 mrp 价格

```
 <tr>
    <td> <input type="text" id="product-code1" name="productcode[1]" class="productcode" style="width:100px;float:none"/></td>
    <td> <input type="text" id="product-id1" name="product-id[1]" readonly="readonly" style="width:100px;float:none"/></td>
<td><input type="text" id="product-name1" name="product-name[1]"  readonly="readonly" style="width:100px;float:none"/></td>
   <td> <input type="text" id="product-mrp1" name="product-mrp[1]"  readonly="readonly" style="width:100px;float:none"/></td>
<td><input type="text" id="product-price1" name="product-price[1]"  readonly="readonly" style="width:100px;float:none"/></td>

   <td width="10%"  align="left" nowrap="nowrap">
    <input type="button" style="display:none" name="btndelete" id="btnadd" class="blueBoxpsd" onClick="deleteRow1('dataTable','0')" value="delete"></td>
   <td> <input type="checkbox" name="chk[]" id="chk0" style="display:none"/></td>
   </tr>
   </table> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-29T09:33:00.223

使用这个。它有效

```
$('body').delegate(".class name", "focusin", function () {
            $(this).autocomplete({
                source: '@Url.Action("your method where is ur list","controller name")',

            minLength: 1,

            select: function (evt, ui) {

                alert("label"+ui.item.label);
                alert("id" + ui.item.id);

        });
        }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-29T09:37:31.203

整个代码用于具有自动完成功能的动态创建的文本框

```
<script type="text/javascript">

$(document).ready(function () {
    var i = 0;

    $("#lnkAddProduct").on("click", function () {

        var d = '<div class="addedProduct "><div class="control-group " style="margin-bottom:10px;"><input type="text" class="ProductName span2 pull-left" id="Product_Name_' + i + '" name="Product_Name" value="" placeholder="start typing to load products" )"/><input type="hidden" class="ProductId" name="Product_Id" id="Product_Id_' + i + '" value="" /><a href="#" class="clsremove font-midium" style="margin-left:5px;margin-top:5px;" id="remove_' + i + '">remove</a></div></div>';
        $('#ProductList').append(d);
        alert("newID:"+i);

        $(".clsremove").unbind("click").click(function () {
            $(this).closest(".addedProduct").remove();
        });

       $('body').delegate(".ProductName", "focusin", function () {
            $(this).autocomplete({
                source: '@Url.Action("NewvendorList","Product")',
              // source: '@Url.Action("your method where is ur list","controller name")',
            minLength: 1,

            select: function (evt, ui) {

                alert("label"+ui.item.label);
                alert("id" + ui.item.id);

        });
        });

        i = i + 1;          
    });

}); 
```

这是查看代码

```
 <div class="span10" style="margin-left:0px;">
                <a href="#" id="lnkAddProduct" style="font-size:14px;text-decoration:none;margin-right:10px;margin-left:30px;">Add Product</a>

            </div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T09:04:30.360

```
jQuery.fn.CreateAutocomplete = function(){
   $(this).autocomplete({ 
        minLength: 0,
           source: BASEURL1 + "sales/searchCustomer1/",
                    //source:projects1,
        focus: function( event, ui ) {
             $(this).val( ui.item.label);

                        //   var id= $(this).attr('id');
                        //     $( id ).val( ui.item.label);  
            return false;
        },
        select: function( event, ui ) {
                        //alert($(this).attr('id')); 
             $( "#product-code1" ).val( ui.item.label);
                              $( "#product-id1" ).val( ui.item.prod_id);
             $( "#product-name1" ).val( ui.item.prod_name);
                              $( "#product-mrp1" ).val( ui.item.mrp);
              $( "#product-price1" ).val( ui.item.sales_rate);

        }
    })
    .data( "autocomplete" )._renderItem = function( ul, item ) {
        return $( "<li></li>" )
            .data( "item.autocomplete", item )
            .append( "<a>Code:" + item.label + "<br>Name:" +
                                item.prod_name + ",MRP:"+  item.mrp+   ",Rate:" + item.sales_rate +  ",STk:" +item.stk +"</a>" )
            .appendTo( ul ); 
    };
}); 
```

然后像这样在 addRow 函数中创建自动竞争

```
$(element1).CreateAutocomplete(); 
```

你必须为作品改变一些功能:)

# android - 在顶部的android上显示带有白点的分页控件

> ID：10137773
> 
> 赞同：10
> 
> 时间：2012-04-13T08:42:59.373
> 
> 标签：android

我想显示这种类型的分页控件，如图所示，我正在获取字符串数组的长度，我想将长度显示为分页控件，白点作为页数。请帮助

![在此处输入图像描述](../Images/d61cc0d1968c0eec98999261ecb5c97d.png)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-04-13T08:49:17.203

我认为[这](http://viewpagerindicator.com/)就是你需要的

或者[这个](https://github.com/JakeWharton/Android-ViewPagerIndicator)。

它被称为 ViewPagerIndicatior，通常与 ViewPager 结合使用（当然你也可以单独使用它）。

希望这可以帮助！

# komodo - 在 Komodo Edit 7 中切换时的向下键行为

> ID：10137776
> 
> 赞同：2
> 
> 时间：2012-04-13T08:43:05.743
> 
> 标签：komodo, komodoedit

我最近从 v6 升级到 Komodo Edit 7。在以前的版本中，如果我在行首添加制表符，我可以按下，光标会自动移动到下一行的开头。净效果意味着要缩进一大堆行，我只需要反复按 DOWN 和 TAB

由于我已经升级它不再像这样工作。如果我在一行的开头按 TAB 然后向下，它会缩进第一行，然后移动到下一行，一个制表符宽度。

有谁知道如何在 Komodo Edit 7 上重新启用此功能，或者它是否已被完全删除？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T17:21:13.550

我遇到了同样的问题。正如 Paul Sweatte 所建议的那样，有另一种方法可以缩进一组行（在开头添加制表符），但在一组行的中间没有其他方法可以这样做。

我在这里提交了一个错误：http: [//bugs.activestate.com/show_bug.cgi ?id=94104](http://bugs.activestate.com/show_bug.cgi?id=94104)

**更新：**错误状态已更新为已解决。这应该在下一个版本（7.1.0）中修复，或者您可以下载每晚构建：http: [//downloads.activestate.com/Komodo/nightly/](http://downloads.activestate.com/Komodo/nightly/)

# file - 是否可以仅创建未提交给 SVN 的文件的副本？

> ID：10137779
> 
> 赞同：1
> 
> 时间：2012-04-13T08:43:23.677
> 
> 标签：file, svn, copy, backup

有时我需要还原许多文件 - 接近 20 - 50 个，但需要保存带有本地更改的文件 - 如果我将来会使用某些东西。
项目很大 - 超过 10 000 个文件。
是否可以仅创建未提交文件的副本？
手动查找更改和复制需要将近 2 个小时 - 项目树有许多嵌套文件夹。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-13T08:50:42.133

您可以使用创建差异，[`svn diff`](http://svnbook.red-bean.com/en/1.7/svn.ref.svn.c.diff.html)然后使用 重新应用差异[`svn patch`](http://svnbook.red-bean.com/en/1.7/svn.ref.svn.c.patch.html)。

然而，这并不是你应该如何使用 SVN。如果您可以使用您的更改创建分支，则更好，然后您可以稍后合并该分支并与您的同行共享内容。

请注意，在 SVN 中创建分支相对便宜。在服务器上，链接到原始文件的文件直到实际更改。只有您更改的文件会占用服务器上的空间。

**注意：**
`svn diff`只保存文件的更改行，而不是完整的文件。但是，如果您需要重新应用补丁，这就足够了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-14T13:13:35.427

如果你真的想要文件的副本（而不是使用 svn diff 或做一个分支），tne 方法（我们用于服务器配置文件备份的版本）是检查哪些文件被修改。下面的注释假设您处于回购的顶层。

例如，如果您运行，`svn status`您可能会得到如下输出：

```
?       plans/software/intro_jan12.log
?       plans/software/intro_jan12.dvi
?       plans/software/data.txt
?       plans/software/intro_jan12.nav
M       plans/software/intro_jan12.pdf
M       plans/software/jan12.tex
?       plans/software/jan12/flowRoot9298.png
?       plans/software/jan12/viewE_comments.pdf
?       plans/software/jan12/team.ps
?       plans/software/jan12/team.png
?       plans/it/plan.log 
```

（? 显示未知文件，M 显示修改后的文件。）

然后，您可以轻松地提取修改后的文件并通过执行类似`svn status | egrep '^M'`.

将其转换为将修改后的文件复制到其他地方的简短 shell 脚本非常容易：

```
# step 1
svn status | egrep '^M' | awk '{ print $2 }' > recipe_file
# step 2
rsync -a --files-from=recipe_file <repo> <dest> 
```

自然`<dest>`可以在远程机器上。

据推测，一旦您审核了副本文件，您就可以执行`svn revert -R`.

# android - 如何进行语音频率检测？

> ID：10137781
> 
> 赞同：0
> 
> 时间：2012-04-13T08:43:27.507
> 
> 标签：android, audio, signal-processing

我是初学者的android程序员。（我的母语不是英语，所以我的英语很差。）

我想制作应用程序，获取频率记录的人声并显示“C3”或“G#4”之类的音符......

所以，我想检测人的语音频率，但这太难了。

我尝试使用 FFT，它检测到钢琴（或吉他）的声音非常好（某些部分，超过 octave4，它没有检测到低频钢琴（或吉他）的声音。），但它无法检测到人声。

（我使用钢琴程序使用一般 MIDI）

查了很多资料，看不懂。

大多数人说使用音高检测算法和链接只是维基。

**请详细告诉我音高检测算法。**

（实际上我想要示例代码:(

或者

**有什么想法可以使用我的应用程序吗？**

这是我的源代码：

```
 public void Frequency(double[] array) {

    int sampleSize = array.length;  

    double[] win = window.generate(sampleSize);

    // signals for fft input
    double[] signals = new double[sampleSize];
    for (int i = 0; i < sampleSize; i++) {
        signals[i] = array[i] * win[i];
    }
    double[] fftArray = new double[sampleSize * 2];

    for (int i = 0; i < sampleSize - 1; i++) {
        fftArray[2 * i] = signals[i];
        fftArray[2 * i + 1] = 0;
    }

    FFT.complexForward(fftArray);
    getFrequency(fftArray);
}

private void getFrequency(double[] array) {

    // ========== Value ========== //

    int RATE = sampleRate;
    int CHUNK_SIZE_IN_SAMPLES = RECORDER_BUFFER_SIZE;
    int MIN_FREQUENCY = 50; // HZ
    int MAX_FREQUENCY = 2000; // HZ

    int min_frequency_fft = Math.round(MIN_FREQUENCY * CHUNK_SIZE_IN_SAMPLES / RATE);
    int max_frequency_fft = Math.round(MAX_FREQUENCY * CHUNK_SIZE_IN_SAMPLES / RATE);
    // ============================ //

    double best_frequency = min_frequency_fft;
    double best_amplitude = 0;
    for (int i = min_frequency_fft; i <= max_frequency_fft; i++) {

        double current_frequency = i * 1.0 * RATE / CHUNK_SIZE_IN_SAMPLES;

        double current_amplitude = Math.pow(array[i * 2], 2) + Math.pow(array[i * 2 + 1], 2);

        double normalized_amplitude = current_amplitude * Math.pow(MIN_FREQUENCY * MAX_FREQUENCY, 0.5) / current_frequency;

        if (normalized_amplitude > best_amplitude) {
            best_frequency = current_frequency;
            best_amplitude = normalized_amplitude;
        }
    }

    FrequencyArray[FrequencyArrayIndex] = best_frequency;
    FrequencyArrayIndex++;
} 
```

我指的是：[http ://code.google.com/p/android-guitar-tuner/](http://code.google.com/p/android-guitar-tuner/)

[Pitch_detection_algorithm](http://en.wikipedia.org/wiki/Pitch_detection_algorithm)

使用**Jtransforms**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T15:09:49.730

关于音高检测的维基百科页面链接到另一个解释自相关的维基百科页面： http: [//en.m.wikipedia.org/wiki/Autocorrelation#section_3](http://en.m.wikipedia.org/wiki/Autocorrelation#section_3)，这是您可以尝试的众多音高估计方法之一。

运行您发布的示例代码可以显示 FFT 峰值频率估计在音高检测和许多常见音高的估计方面非常差。

# html - Google Fusion 地图上未显示任何信息窗口

> ID：10137784
> 
> 赞同：1
> 
> 时间：2012-04-13T08:43:45.803
> 
> 标签：html, css, google-maps, fusioncharts

我已经发布了 Google Fusion 表格/地图。

[https://www.google.com/fusiontables/DataSource?docid=1bQud-ZGrJK9yBwfdasIcbU1rwJ5W9ZE53RBAeLk](https://www.google.com/fusiontables/DataSource?docid=1bQud-ZGrJK9yBwfdasIcbU1rwJ5W9ZE53RBAeLk)

我的问题是，在查看嵌入了地图的 html 内的地图时，不会出现信息窗口。如您所见，该表对所有用户完全公开。在我注意到这个问题之前，我将表格共享为“每个人都有链接”，并认为这是问题所在，但没有帮助将其更改为公开。

我的带有嵌入地图的 html：

```
<html>
<head>
<style type="text/css">
#map_canvas {
    height: 700px;
    width: 380px;
    background: #000000;
    float:left;
 }
</style>

<script type="text/javascript"
    src="http://maps.google.com/maps/api/js?sensor=true">
</script>

<script type="text/javascript">
  var layer;
  var map;
  var html;

  function initialize() {

    var latlng = new google.maps.LatLng(62.835089,17.556641);
    var myOptions = {
      zoom: 5,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

    // Add län
    var lanLayer = new google.maps.FusionTablesLayer(667529);
    lanLayer.setMap(map);
  }

  function clearOverlays() {
    if (layer != null) {
        layer.setMap(null);
        layer = null;
    }
  }

  function setMapLayer(fusionTableId) {
    if (layer != null) {
        layer.setMap(null);
        layer = null;
    }

    layer = new google.maps.FusionTablesLayer(fusionTableId);
    layer.setMap(map);
  }

</script>
</head>
<body onload="initialize()" class="map">

  <div id="map_canvas"></div>

  <div class="LayerManager">
    <form>
        <input type="radio" onclick="setMapLayer(3357208)">Antal skuldsatta<br />
        <input type="radio" onclick="clearOverlays()" checked="true" >Bara länsgränser<br />
    </form>
  </div>

</body>
</html> 
```

对于在初始化时加载的层，信息窗口可以正常运行，但在单选按钮被单击时加载的层则不行。为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-14T00:03:23.067

使用适当的[FusionTablesLayerOptions](https://developers.google.com/maps/documentation/javascript/reference#FusionTablesLayerOptions) -object 作为参数`google.maps.FusionTablesLayer`

```
layer = new google.maps.FusionTablesLayer({
      query: {
        select: 'Geocodable address',
        from: fusionTableId
      }
    }); 
```

# kml - 获取地标的纬度和经度值 - Google 地球

> ID：10137786
> 
> 赞同：2
> 
> 时间：2012-04-13T08:43:51.403
> 
> 标签：kml, google-earth-plugin

我正在使用谷歌地球 API，我是新手。我已经使用 kml 标记了一个地标，并为此添加了一个点击事件。我想获取这个地标的纬度和经度值。虽然我使用的是**getLatitude()**和 **getLongitude()**函数，但值并不准确。我想要与 kml 中定义的值完全相同的值。我得到的值因点而异。

有什么办法吗？

谢谢

舒布拉

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-15T21:21:20.580

我为您准备了以下示例。它获取一个 kml 文件并将一个点击事件附加到地标。警报的纬度和经度值与 kml 文件完全相同。希望能帮助到你。

```
<html>
<head>
<title>sample.html</title>
<script src="http://www.google.com/jsapi?key=ABQIAAAAwbkbZLyhsmTCWXbTcjbgbRSzHs7K5SvaUdm8ua-Xxy_-2dYwMxQMhnagaawTo7L1FE1-amhuQxIlXw"></script>
<script type="text/javascript">
  var ge;
  google.load('earth', '1');

  function init() {
     google.earth.createInstance('map3d', initCB, failureCB);
  }

  function initCB(instance) {
     ge = instance;
     ge.getWindow().setVisibility(true);

     var href = 'http://code.google.com/'
                + 'apis/earth/documentation/samples/kml_example.kml';

     google.earth.fetchKml(ge, href, function(kmlObject) {
           if (kmlObject)
           {
              ge.getFeatures().appendChild(kmlObject);
              google.earth.addEventListener(kmlObject, 'click', function(event) {
                var placemark = event.getTarget();
                alert('Latitude :' + placemark.getGeometry().getLatitude()
                     +' Longitude :' + placemark.getGeometry().getLongitude());
              });
           }
           if (kmlObject.getAbstractView() !== null)
              ge.getView().setAbstractView(kmlObject.getAbstractView());
     });                 
  }

  function failureCB(errorCode) {
  }   
  google.setOnLoadCallback(init);
</script>

</head>
<body>
    <div id="map3d" style="border: 1px solid silver; height: 400px; width: 600px;">  </div>
</body>
</html> 
```

# symfony - Symfony2：从父级设置实体值

> ID：10137787
> 
> 赞同：0
> 
> 时间：2012-04-13T08:43:53.037
> 
> 标签：symfony, fosuserbundle

我正在使用 FoSUserBundle。我有一个用户实体。我需要在注册期间使用用户名设置代码属性。我怎样才能做到这一点。

```
protected $code = parent::username; 
```

这个对吗？我对symfony了解不多。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T11:59:16.883

如果我正确理解您的问题，一种方法是创建`@PrePersist`回调。例如

```
/**
 * @ORM\Entity
 * @ORM\HasLifecycleCallbacks
 */
class User extends BaseUser
{
    /**
     * @ORM\PrePersist
     */
    public function setCodeValue() 
    {
        $this->code = $this->username;
    }
} 
```

欲了解更多信息，请查看[此处](http://symfony.com/doc/current/book/doctrine.html#lifecycle-callbacks)。

# magento - 产品的总税额

> ID：10137789
> 
> 赞同：0
> 
> 时间：2012-04-13T08:44:04.040
> 
> 标签：magento

有没有办法显示产品的税额。我想在产品页面上显示税额。

例如：价格为 119 欧元，税率为 19%。然后一个要显示的税额€ 19 欧元。

希望有人可以帮助我。

克，莱克斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T09:30:37.997

是的，这是可能的，但在您执行此操作之前，您需要了解用户的运输和账单数据，因为税收计算是基于账单或运输（国家、地区、邮政编码）信息，并且对于不同的位置可能会有所不同

# php - PHP 和 MongoDB - 高级查询

> ID：10137792
> 
> 赞同：0
> 
> 时间：2012-04-13T08:44:23.990
> 
> 标签：php, mongodb

如果有人知道我的“查询”的一些例子会很好。

如果有一个带有价格和时间戳的集合，我必须“仅”查询具有最新时间戳的记录。

我可以查询按时间戳排序的所有记录，并使用结果中的最新时间戳进行第二次查询，但我想这不是最好的方法（500.000 条记录）。有人知道用 mongoDB 和 PHP5 做这件事的好方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:53:46.860

如果您使用的是标准的、自动生成的默认“_id”主字段，即基于时间戳。`limit(1)`按降序获取单个 ( ) 将是最近的文档。

除此之外，取决于您使用的架构。

# java - 如何修复错误 502 状态

> ID：10137798
> 
> 赞同：0
> 
> 时间：2012-04-13T08:45:06.990
> 
> 标签：java, web, jsoup

我正在使用 Jsoup Java HTML 解析器从特定 URL 获取图像。但是有些图像会抛出状态 502 错误代码，并且没有保存到我的机器上。这是我使用的代码快照：-

```
String url = "http://www.jabong.com";
String html = Jsoup.connect(url.toString()).get().html();
Document doc = Jsoup.parse(html, url);
images = doc.select("img");

for (Element element : images) {
        String imgSrc = element.attr("abs:src");
        log.info(imgSrc);
        if (imgSrc != "") {
            saveFromUrl(imgSrc, dirPath+"/" + nameCounter + ".jpg");
            try {
                Thread.sleep(3000);
            } catch (InterruptedException e) {
                log.error("error in sleeping");
            }
            nameCounter++;
        }
} 
```

saveFromURL 函数如下所示：-

```
public static void saveFromUrl(String Url, String destinationFile) {
    try {
        URL url = new URL(Url);
        InputStream is = url.openStream();
        OutputStream os = new FileOutputStream(destinationFile);

        byte[] b = new byte[2048];
        int length;

        while ((length = is.read(b)) != -1) {
            os.write(b, 0, length);
        }

        is.close();
        os.close();
    } catch (IOException e) {
        log.error("Error in saving file from url:" + Url);
        //e.printStackTrace();
    }
} 
```

我在互联网上搜索了有关状态码 502 的信息，但它说错误是由于网关错误造成的。我不明白这一点。我认为此错误可能是因为我正在向循环中的图像发送获取请求。可能是网络服务器无法处理这么大的负载，因此在未发送前一个图像时拒绝对图像的请求。所以我在获取每张图像后尝试进入睡眠状态但没有运气:(请提供一些建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T13:39:31.607

您的问题听起来像 HTTP 通信问题，因此您最好尝试使用库来处理事物的通信方面。看看[Apache Commons HttpClient](http://hc.apache.org/httpclient-3.x/)。

关于您的代码示例的一些注释。您没有使用`URLConnection`对象，因此不清楚 Web/代理服务器和干净地关闭资源等方面的行为。提到的 HttpCommon 库将在这方面有所帮助。

似乎还有一些使用[J2ME 库](http://www.java-tips.org/java-me-tips/midp/how-to-download-an-image-from-a-web-server.html)做你想做的事的例子。不是我个人使用过的东西，但也可以帮助你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-18T10:28:08.177

这是一个适用于我的完整代码示例......

```
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.net.Authenticator;
import java.net.HttpURLConnection;
import java.net.InetSocketAddress;
import java.net.MalformedURLException;
import java.net.Proxy;
import java.net.SocketAddress;
import java.net.URL;

public class DownloadImage {

    public static void main(String[] args) {

        // URLs for Images we wish to download
        String[] urls = {
                "http://cdn.sstatic.net/stackoverflow/img/apple-touch-icon.png",
                "http://www.google.co.uk/images/srpr/logo3w.png",
                "http://i.microsoft.com/global/en-us/homepage/PublishingImages/sprites/microsoft_gray.png"
                };

        for(int i = 0; i < urls.length; i++) {
            downloadFromUrl(urls[i]);
        }

    }

    /*
    Extract the file name from the URL
    */
    private static String getOutputFileName(URL url) {

        String[] urlParts = url.getPath().split("/");

        return "c:/temp/" + urlParts[urlParts.length-1];
    }

    /*
    Assumes there is no Proxy server involved.
    */
    private static void downloadFromUrl(String urlString) {

        InputStream is = null;
        FileOutputStream fos = null; 

        try {
            URL url = new URL(urlString);

            System.out.println("Reading..." + url);

            HttpURLConnection conn = (HttpURLConnection)url.openConnection(proxy);

            is = conn.getInputStream(); 

            String filename = getOutputFileName(url);

            fos = new FileOutputStream(filename);

            byte[] readData = new byte[1024];

            int i = is.read(readData);

            while(i != -1) {
                fos.write(readData, 0, i);
                i = is.read(readData);
            }

            System.out.println("Created file: " + filename);
        }
        catch (MalformedURLException e) {
            e.printStackTrace();
        }
        catch (IOException e) {
            e.printStackTrace();
        }
        finally {
            if(is != null) {
                try {
                    is.close();
                } catch (IOException e) {
                    System.out.println("Big problems if InputStream cannot be closed");
                }
            }           
            if(fos != null) {
                try {
                    fos.close();
                } catch (IOException e) {
                    System.out.println("Big problems if FileOutputSream cannot be closed");
                }
            }
        }

        System.out.println("Completed");
    }
} 
```

您应该在控制台上看到以下输出...

```
Reading...http://cdn.sstatic.net/stackoverflow/img/apple-touch-icon.png
Created file: c:/temp/apple-touch-icon.png
Completed
Reading...http://www.google.co.uk/images/srpr/logo3w.png
Created file: c:/temp/logo3w.png
Completed
Reading...http://i.microsoft.com/global/en-us/homepage/PublishingImages/sprites/microsoft_gray.png
Created file: c:/temp/microsoft_gray.png
Completed 
```

这是一个不涉及代理服务器的工作示例。

**仅当您需要使用代理服务器进行身份验证时**，您才需要基于此[Oracle 技术说明的附加类](http://download.oracle.com/javase/6/docs/technotes/guides/net/http-auth.html)

```
import java.net.Authenticator;
import java.net.PasswordAuthentication;

public class ProxyAuthenticator extends Authenticator {

    private String userName, password;

    public ProxyAuthenticator(String userName, String password) {
        this.userName = userName;
        this.password = password;
    }

    protected PasswordAuthentication getPasswordAuthentication() {
        return new PasswordAuthentication(userName, password.toCharArray());
    }
} 
```

要使用这个新类，您将使用以下代码代替上面显示的对 openConnection() 的调用

```
...
try {
    URL url = new URL(urlString);

    System.out.println("Reading..." + url);

    Authenticator.setDefault(new ProxyAuthenticator("username", "password");

    SocketAddress addr = new InetSocketAddress("proxy.server.com", 80);
    Proxy proxy = new Proxy(Proxy.Type.HTTP, addr);

    HttpURLConnection conn = (HttpURLConnection)url.openConnection(proxy);

    ... 
```

# expressionengine - ExpressionEngine - 一些频道不输出内容

> ID：10137799
> 
> 赞同：0
> 
> 时间：2012-04-13T08:45:19.217
> 
> 标签：expressionengine, mediatemple

所以我之前创建了一些 EE 站点，但从未遇到过这个问题，最近在 mediatemple 网格主机上安装了 EE，在我创建多个频道之前一切似乎都工作正常，一些频道拒绝输出任何内容其他所有地方都可以很好地输出内容，使用最基本的代码，所以在实际的模板代码中肯定没有问题。

关于如何修复或调试此问题的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-14T18:34:06.757

打开模板调试和`Admin > System Administration > Output and Debugging`. 阅读这些日志应该可以让您非常清楚地了解是什么阻止了您的频道呈现内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T16:10:06.270

查看示例代码肯定会有所帮助 - 工作和不工作。我还会仔细检查您是否需要在频道条目标签中使用 dynamic="no"。另一件事确认不工作的通道实际上确实包含内容，并且字段名称在您的模板代码中没有拼写错误。

# c++ - 在 64 位上迁移 32 位应用程序的问题

> ID：10137800
> 
> 赞同：0
> 
> 时间：2012-04-13T08:45:21.177
> 
> 标签：c++, 32bit-64bit

我正在尝试使用 Visual Studio 2010 将现有的 c++ 32 代码迁移到 windows7 上的 64 代码。我以前从未做过 64 位编译。在 Internet 参考资料的帮助下，我完成了 64 位编译的设置。比如带有 64 位编译器的 VS2010 等以及其他配置更改。在预处理器中，我删除了 WIN32 并添加了 WIN64。我还有一些其他预处理器，例如 OS_WIN_32 和其他一些在我的代码中特定的预处理器。在使用 WIN32 的代码中，我添加了额外的条件为 || WIN64 这只是为了确保应用程序应该使用 win32 和 win64 编译。当我尝试编译代码时，我收到编译错误说

致命错误 C1189: #error : 只应定义 WIN32 和 WIN64 符号之一

这个错误来自本地代码，我们检查是否同时定义了 WIN32 和 WIN64。该代码如下所示。

```
#if defined WIN32 && defined WIN64
# error Only one of the WIN32 and WIN64 symbols should be defined
#endif 
```

在 VS2010 中，如果未启用宏，则宏内的代码将变灰。在我的代码中，上述错误也是灰色的。但我仍然收到该错误。

我添加WIN64的代码包括windows.h。供参考在下面给出。

```
#if defined WIN32 || defined WIN64
#include <windows.h>
#include <process.h>
#endif 
```

所以我的问题是为什么我会收到这个错误？我们不应该为 64 位编译添加 windows.h 吗？我试图通过评论这个包含，但我得到了代码中使用的 HANDLE 其他错误。如果我去WIN32定义VS2010指向windef.h文件中的定义。此文件存在于 Microsoft SDKs\windows\v7.0A\include 文件夹中，即不是我的本地代码。作为参考，下面给出了定义。

```
#ifndef WIN32
#define WIN32
#endif 
```

所以我想知道为什么编译器同时获得预处理器 WIN32 和 WIN64。

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-13T08:47:26.817

你不应该自己定义。应该用来检查的宏是

```
_WIN32 // always defined for Windows apps
_WIN64 // only defined for x64 compilation 
```

这些由编译器定义（参见[此处](http://msdn.microsoft.com/en-us/library/b0084kay%28v=vs.100%29.aspx)）。

通常，IDE 会将不带前缀的宏添加到命令行，以防止使用未记录的不带前缀版本的遗留项目无法构建。当存在记录的替代方案时，它们工作的事实并不是使用它们的理由。

* * *

归结为：

```
#ifdef _WIN32
  // We're on Windows, yay!
#ifdef _WIN64
  // We're on x64! Yay!
#else // _WIN64
  // We're on x86 (or perhaps IA64, but that one doesn't matter anymore). Yay!
#endif // _WIN64
#else // _WIN32
  // We're not on Windows, maybe WindowsCE or WindowsPhone stuff, otherwise some other platform
 #endif 
```

# php - php从https获取html源代码

> ID：10137805
> 
> 赞同：0
> 
> 时间：2012-04-13T08:45:43.387
> 
> 标签：php, curl, https, html-parsing

如何从 https 获取 html 源代码？我尝试使用`curl`而不是`get_file_contests`，但仍然没有得到`image src`

```
require dirname(__FILE__) . '/simple_html_dom.php';

$curl_handle=curl_init();
curl_setopt($curl_handle, CURLOPT_URL,'https://www.tumblr.com/');
curl_setopt($curl_handle, CURLOPT_RETURNTRANSFER, true);
curl_setopt($curl_handle, CURLOPT_BINARYTRANSFER, true);
curl_setopt($curl_handle, CURLOPT_SSL_VERIFYPEER, FALSE);
curl_setopt($curl_handle, CURLOPT_USERAGENT, "Mozilla/5.0 (Windows; U; Windows NT 5.1; rv:1.7.3) Gecko/20041001 Firefox/0.10.1");
$query = curl_exec($curl_handle);
curl_close($curl_handle);

$html = file_get_html($query);
foreach($html->find('img') as $element) {
   echo $element->src.'<br />';
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:54:28.057

改变

```
$html = file_get_html($query); 
```

到：

```
$html = str_get_html($query); 
```

file_get_html 函数需要一个文件（或 URL），而不是变量。

# executable - 通过基础机器在虚拟机中运行可执行文件

> ID：10137806
> 
> 赞同：0
> 
> 时间：2012-04-13T08:45:56.260
> 
> 标签：executable, vmware, virtual-machine, vmware-server

我想从我的基础机器在我的虚拟机（Windows Server 2003 操作系统并使用 VMWARE 工作站安装）中启动一个可执行文件

我尝试了以下命令

"C:\Program Files\VMware\VMware VIX\vmrun" -T server -h [https://machine-name.domain-name:8333/sdk](https://machine-name.domain-name:8333/sdk) -u username -p password -gu guestusername -gp guestpassword runProgramInGuest "[标准] vmname/vmname.vmx" -activeWindow "C:\windows\system32\notepad.exe"

在执行此记事本时没有显示，但在打开任务管理器时它显示 notepad.exe 在我的帐户下运行

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-18T06:43:09.097

"C:\Program Files\VMware\VMware VIX\vmrun" -T server -h [https://machine-name.domain-name:8333/sdk](https://machine-name.domain-name:8333/sdk) -u username -p password -gu guestusername -gp guestpassword runProgramInGuest "[标准] vmname/vmname.vmx" -activeWindow -interactive "C:\windows\system32\notepad.exe"

让它工作......

# windows-phone-7 - ScrollViewer 在 WP7 上回滚

> ID：10137809
> 
> 赞同：2
> 
> 时间：2012-04-13T08:46:06.893
> 
> 标签：windows-phone-7, grid, scrollviewer

我创建了一个页面，其中有很多来自用户的输入。所以用户应该能够向下滚动以便能够按下上传按钮。要在页面上向下滚动，我在网格外使用了 ScrollViewer。我可以滚动，但向下滚动后页面不断向后滚动。

这是我的代码：

```
 <!--ContentPanel - place additional content here-->
        <Grid x:Name="ContentPanelButtom" Grid.Row="1" >
            <ScrollViewer >
                <Grid x:Name="ContentPanel" Background="black">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="154" />
                        <ColumnDefinition Width="326" />
                    </Grid.ColumnDefinitions>
                    <Image Height="109" HorizontalAlignment="Left" Name="image1" Stretch="Fill" VerticalAlignment="Top" Width="167" Margin="23,19,0,0" Source="{Binding Path=ImageSoruce, Mode=TwoWay}" Grid.ColumnSpan="2" />
                    <TextBox Height="71" HorizontalAlignment="Left" Margin="12,161,0,0" Name="nameInput" Text="{Binding Path=Name, Mode=TwoWay}" VerticalAlignment="Top" Width="430" Grid.ColumnSpan="2" />
                    <TextBlock Height="56" HorizontalAlignment="Left" Margin="23,134,0,0" Name="nameLabel" Text="Name" VerticalAlignment="Top" Width="130" FontSize="25" />
                    <TextBlock FontSize="25" Height="60" HorizontalAlignment="Left" Margin="23,238,0,0" Name="descriptionLabel" Text="Description" VerticalAlignment="Top" Width="130" />
                    <TextBox Height="72" HorizontalAlignment="Left" Margin="12,265,0,0" Name="descriptionInput" Text="{Binding Path=Description, Mode=TwoWay}" VerticalAlignment="Top" Width="430" IsEnabled="True" Grid.ColumnSpan="2" />
                    <TextBlock FontSize="25" Height="60" HorizontalAlignment="Left" Margin="23,343,0,0" Name="locationLabel" Text="Location" VerticalAlignment="Top" Width="130" />
                    <TextBlock Height="46" HorizontalAlignment="Left" Margin="24,384,0,0" Name="locationInput" Text="{Binding Path=Location, Mode=TwoWay}" VerticalAlignment="Top" Width="401" Loaded="locationInput_Loaded" Grid.ColumnSpan="2" />
                    <toolkit:ListPicker SelectionMode="Multiple" FullModeHeader="CATEFORIES" x:Name="ListPickerCategories" CacheMode="BitmapCache" HorizontalAlignment="Left" Margin="25,492,0,0" VerticalAlignment="Top" Width="401" Grid.ColumnSpan="2" ItemsSource="{Binding Categories}" Height="78"></toolkit:ListPicker>
                    <TextBlock FontSize="25" Height="60" HorizontalAlignment="Left" Margin="24,436,0,0" Name="textBlock1" Text="Categories" VerticalAlignment="Top" Width="130" />
                    <Button Content="Upload" Height="86" HorizontalAlignment="Left" Margin="26,604,0,0" Name="UploadButton" VerticalAlignment="Top" Width="411" Click="UploadButton_Click" Grid.ColumnSpan="2" />
                </Grid>
            </ScrollViewer>
            </Grid> 
```

这个问题的原因可能是什么，我该如何解决？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-13T09:03:10.397

用于`StackPanels`将元素放在另一个之下。删除所有`margins`,`height`和`width`其他绝对定位的东西

```
<Grid x:Name="ContentPanelButtom" Grid.Row="1" >
    <ScrollViewer>
        <StackPanel>
            <!-- elements here -->
        </StackPanel>
    </ScrollViewer>
</Grid> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-20T08:43:19.583

我遇到过同样的问题。但最后我解决了它，我只是使用 Height 属性来做到这一点。请执行以下步骤

*   首先创建一个ScrollViewer
*   Indide ScrollViewer 创建一个容器（例如：Grid/StackPanel/Border 等...）并将每个控件放入其中。
*   为 ScrollViewer 和 Container 设置固定的高度（注意：容器的高度应该大于 ScrollViewer 的高度）

请参阅下面的代码

```
<ScrollViewer Height="500">
        <Grid Name="Container" Height="700">
            <TextBox/>
            <TextBox/>
            <TextBox/>
        </Grid>
</ScrollViewer> 
```

现在您可以滚动容器网格甚至显示的键盘，甚至可以将焦点放在文本框上。

# extjs - 如何隐藏网格面板的主体？

> ID：10137810
> 
> 赞同：2
> 
> 时间：2012-04-13T08:46:10.170
> 
> 标签：extjs, extjs4, gridpanel

我的网格有一些停靠的工具栏，我只想隐藏网格体。我试图像这样隐藏：

```
mygrid.body.hide(); 
```

行消失但容器高度没有改变。所以改为网格行我得到了空白空间..

那么如何折叠和展开网格面板主体呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-18T18:40:40.753

你可以这样尝试：

*   如果需要，使用 hide() 隐藏网格的 headercontainer（这包含网格标题行）
*   像你一样用 hide() 隐藏网格的主体。
*   将网格的高度设置为适当的值：grid.setHeight(grid_header_height + grid_toolbar_height)。如果需要，加上 grid_headercontainer_height 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-25T16:45:03.007

你有没有尝试过

```
mygrid.collapse(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T12:14:47.650

尝试调用`doLayout()`和/或`doComponentLayout()`在网格上

# sql - 计数空记录不起作用

> ID：10137814
> 
> 赞同：0
> 
> 时间：2012-04-13T08:46:23.260
> 
> 标签：sql, tsql

```
create table scoda(product varchar(25),price int,sale varchar(23))
insert into scoda values('watch',10,6)
insert into scoda values('socks',8,'NULL')

SELECT COUNT(*) AS GK FROM scoda WHERE sale IS NULL 
```

* * *

```
Expected output:1
Actual output:0 
```

需要帮助才能继续我是 sql 的初学者

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-13T08:47:13.440

利用

```
insert into scoda values('socks',8,NULL) 
```

（不带引号）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:48:10.010

问题出在插入语句中：

```
insert into scoda values('socks',8,NULL) 
```

# php - 拆分字符串 PHP

> ID：10137819
> 
> 赞同：3
> 
> 时间：2012-04-13T08:46:55.290
> 
> 标签：php

我找到了这个 php 脚本：

> // 剥离标签以避免破坏任何 html $string = strip_tags($string);
> 
> 如果 (strlen($string) > 500) {
> 
> ```
> // truncate string
> $stringCut = substr($string, 0, 500);
> 
> // make sure it ends in a word so assassinate doesn't become ass...
> $string = substr($stringCut, 0, strrpos($stringCut, ' ')).'... <a href="/this/story">Read More</a>';  } echo $string; 
> ```

由 webbiedave 创建。现在我的问题是如何在 strrpos 中指定找到空格或点？

因此，如果我将字符串限制为 22 并且如果我有类似 StackOverFlow 的东西是有史以来最好的网站 --> 将输出 StackOverFlow 是 ... 如果我有类似[http://stackoverflow.com](http://stackoverflow.com)的东西是有史以来最好的网站 -- > 只会输出 ... 因为他没有找到空格和字符串长度 > 22 。如果在字符串中找到一个点，我该如何修改这个脚本来剪切文本，所以[http://stackoverflow.com](http://stackoverflow.com)是最好的网站 - -> 变成[http://stackoverflow](http://stackoverflow) ... ?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:49:42.113

如果您想在不破坏单词的情况下拆分它，但在尊重行限制的同时，请使用[`wordwrap`](http://www.php.net/manual/en/function.wordwrap.php)而不是任何其他拆分方法。

```
$longText = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse ut purus a tellus ultrices vulputate. Aliquam posuere facilisis elit ut adipiscing. Nunc auctor dignissim porta. Vestibulum vitae tempor augue. Nam vel odio quis quam gravida ultrices sed a arcu. Phasellus nec odio massa. Duis imperdiet rutrum mi, vitae volutpat nulla convallis quis. Donec dignissim pulvinar mauris id molestie. Duis id mauris augue, id sagittis velit. Ut justo lectus, scelerisque egestas tempor et, facilisis vitae erat. Quisque ut mattis nulla. Donec a justo quis nisi tempus ultrices. Phasellus non dui non dolor tristique tincidunt vitae imperdiet libero. Pellentesque pretium luctus sem.";

$makeLine = wordwrap( $longText, 50, PHP_EOL );

echo $makeLine; 
```

之前和之后：[http ://codepad.org/Dqz8qzAy](http://codepad.org/Dqz8qzAy)

如果您只想要第一行，也许作为摘要文本，您可以分解结果字符串并将第一个结果从结果数组中移出：

```
$longText = "...";

$makeLine = wordwrap( $longText, 50, '\r\n' );
$firstSen = array_shift( explode( '\r\n', $makeLine ) );

echo $firstSen; // Lorem ipsum dolor sit amet, consectetur adipiscing... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:58:54.947

我会从末尾检查字符串，因为您需要删除不完整的单词。该不完整单词的条件是短字符串不以空格或结尾字符（例如“！”）结尾 或者只是点。下一个条件是查看字符串结尾后的 +1 符号是否也是这样的字符。如果是您只需将任何字符从末尾删除到下一个空格。这可以通过正则表达式来完成（类似于 /[:alfa]+$/ 的东西，可能必须做得更好）。

这是做基本事情的简单方法，但我认为这是一个好的开始。

它可能是什么的例子：

```
function word_wrap_custom($string, $limit){
$oneWord = explode(' ', $string);
if(count($oneWord) < 2 )
    return $oneWord[0];
$string = substr($string, 0, $limit + 2);

$endchar =  substr($string, $limit, $limit + 1);

$postendchar = substr($string, $limit + 1, $limit + 2);

$arrAccetpEndChar = array(' ', '!', '?', ',', '.', ';', ':');

if(in_array($postendchar, $arrAccetpEndChar) || in_array($endchar, $arrAccetpEndChar))
{
    return $string;
}
else
{
    return preg_replace('/[A-Za-z0-9]+$/', '', $string);
}
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T08:55:02.633

这不会断话：

```
function ShortenText($text, $chars)
{
    $chars = $chars;$text = $text." ";
    $countchars = strlen($text);
    if($countchars > $chars)
    {
        $text = substr($text,0,$chars);
        $text = substr($text,0,strrpos($text,' '));
        $text = $text."...";
    }
    return $text;
} 
```

# php - 你调用的对象是空的。请检查我的代码

> ID：10137826
> 
> 赞同：0
> 
> 时间：2012-04-13T08:47:17.233
> 
> 标签：php, soap

我不太熟悉使用肥皂。我想从肥皂服务器中提取数据，但似乎有问题（对象引用未设置为对象的实例。）。这是我的代码中的调试代码：

```
stdClass Object ( [GetSalesBannersResult] => stdClass Object ( [Result] => [Message] => Object reference not set to an instance of an object. [List] => stdClass Object ( ) ) )
Request :<?xml version="1.0" encoding="UTF-8"?> <SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns1="http://ws.ozsale.com.au/API/V2"><SOAP-ENV:Body><ns1:GetSalesBanners><ns1:saleCategoryID>40F80218-A9E1-43C4-96FF-4C046D192A21</ns1:saleCategoryID><ns1:getTopThree>true</ns1:getTopThree></ns1:GetSalesBanners></SOAP-ENV:Body></SOAP-ENV:Envelope>

Response:<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><GetSalesBannersResponse xmlns="http://ws.ozsale.com.au/API/V2"><GetSalesBannersResult><Result>false</Result><Message>Object reference not set to an instance of an object.</Message><List /></GetSalesBannersResult></GetSalesBannersResponse></soap:Body></soap:Envelope> 
```

到目前为止，这是我的代码：

```
<?php
// create a connection to the local host mono .NET pull back the wsdl to get the functions names
  // and also the parameters and return values
  $client = new SoapClient("http://www.ozsale.com.au/api/v2/api.asmx?WSDL",
    array(
      "trace"      => 1,    // enable trace to view what is happening
      "exceptions" => 0,    // disable exceptions
      "cache_wsdl" => 0) 
  );

  // get a response from the WSDL zend server function getQuote for the day monday
  print_r($client->GetSalesBanners(array(
    "saleCategoryID" => "40F80218-A9E1-43C4-96FF-4C046D192A21", 
    "getTopThree" =>"1"
    ))
  );
  //print_r($client);

  // display what was sent to the server (the request)
  echo "<p>Request :".htmlspecialchars($client->__getLastRequest()) ."</p>";
  // display the response from the server
  echo "<p>Response:".htmlspecialchars($client->__getLastResponse())."</p>";
  ?> 
```

然后这里的 api 文档[http://www.ozsale.com.au/api/v2/api.asmx?op=GetSalesBanners](http://www.ozsale.com.au/api/v2/api.asmx?op=GetSalesBanners)

任何人都可以帮助弄清楚这里是否有问题......

* * *

我的问题的新更新。现在文档 api 在这里[http://www.ozsale.com.au/api/v2/api.asmx?op=GetPublicSalesBanners](http://www.ozsale.com.au/api/v2/api.asmx?op=GetPublicSalesBanners)

我尝试使用以下信息提取数据：

```
'saleCategoryID' => '40F80218-A9E1-43C4-96FF-4C046D192A21',
'countryID'=> 'AS',
'languageID'=> 'EN', 
'getTopThree' =>'1' 
```

我的代码在这里：

```
<?php
// create a connection to the local host mono .NET pull back the wsdl to get the functions names
  // and also the parameters and return values
  $client = new SoapClient("http://www.ozsale.com.au/api/v2/api.asmx?WSDL",
    array(
      "trace"      => 1,    // enable trace to view what is happening
      "exceptions" => 0,    // disable exceptions
      "cache_wsdl" => 0) 
  );

  // get a response from the WSDL zend server function getQuote for the day monday
  print_r($client->GetPublicSalesBanners(array(
    'saleCategoryID' => '40F80218-A9E1-43C4-96FF-4C046D192A21',
    'countryID'=> 'AS',
    'languageID'=> 'EN', 
    'getTopThree' =>'1'
    ))
  );

  // display what was sent to the server (the request)
  echo "<p>Request :".htmlspecialchars($client->__getLastRequest()) ."</p>";
  // display the response from the server
  echo "<p>Response:".htmlspecialchars($client->__getLastResponse())."</p>";
  ?> 
```

当我试图看看它是如何工作的时，它的输出是这样的：

```
SoapFault Object ( [message:protected] => Server was unable to process request. ---> There was an error generating the XML document. ---> <>f__AnonymousType2a`2[System.String,System.Object[]] cannot be serialized because it does not have a parameterless constructor. [string:Exception:private] => [code:protected] => 0 [file:protected] => /Users/resarahman/Documents/xampp/htdocs/testing/soap/test.php [line:protected] => 17 [trace:Exception:private] => Array ( [0] => Array ( [file] => /Users/resarahman/Documents/xampp/htdocs/testing/soap/test.php [line] => 17 [function] => __call [class] => SoapClient [type] => -> [args] => Array ( [0] => GetPublicSalesBanners [1] => Array ( [0] => Array ( [saleCategoryID] => 40F80218-A9E1-43C4-96FF-4C046D192A21 [countryID] => AS [languageID] => EN [getTopThree] => 1 ) ) ) ) [1] => Array ( [file] => /Users/resarahman/Documents/xampp/htdocs/testing/soap/test.php [line] => 17 [function] => GetPublicSalesBanners [class] => SoapClient [type] => -> [args] => Array ( [0] => Array ( [saleCategoryID] => 40F80218-A9E1-43C4-96FF-4C046D192A21 [countryID] => AS [languageID] => EN [getTopThree] => 1 ) ) ) ) [previous:Exception:private] => [faultstring] => Server was unable to process request. ---> There was an error generating the XML document. ---> <>f__AnonymousType2a`2[System.String,System.Object[]] cannot be serialized because it does not have a parameterless constructor. [faultcode] => soap:Server [detail] => )
Request :<?xml version="1.0" encoding="UTF-8"?> <SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns1="http://ws.ozsale.com.au/API/V2"><SOAP-ENV:Body><ns1:GetPublicSalesBanners><ns1:saleCategoryID>40F80218-A9E1-43C4-96FF-4C046D192A21</ns1:saleCategoryID><ns1:countryID>AS</ns1:countryID><ns1:languageID>EN</ns1:languageID><ns1:getTopThree>true</ns1:getTopThree></ns1:GetPublicSalesBanners></SOAP-ENV:Body></SOAP-ENV:Envelope>

Response:<?xml version="1.0" encoding="utf-8"?><soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><soap:Body><soap:Fault><faultcode>soap:Server</faultcode><faultstring>Server was unable to process request. ---&gt; There was an error generating the XML document. ---&gt; &lt;&gt;f__AnonymousType2a`2[System.String,System.Object[]] cannot be serialized because it does not have a parameterless constructor.</faultstring><detail /></soap:Fault></soap:Body></soap:Envelope> 
```

知道为什么以及这里出了什么问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:57:17.503

您的输入看起来不错，除非有任何特殊要求，例如 SOAP 标头。这很可能是提供商需要修复的 Web 服务的问题，而不是您的客户端代码的问题。我建议联系他们。

# spring - Apache Tomcat 6 中的 JNDI 资源定义

> ID：10137828
> 
> 赞同：0
> 
> 时间：2012-04-13T08:47:22.200
> 
> 标签：spring, tomcat6, jndi

我对 Apache Tomcat 没有经验，所以如果我问的是一个微不足道的问题，请原谅我。

我的任务是更改一个相当大的程序，以便它使用来自 Tomcat 的连接而不是它自己的 bean，这样您就不必在数据库更改时重新构建代码。

这是原始的 bean 定义（略有更改 - 密码等......）：

```
<bean id="ProjectDS" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close" scope="singleton">
        <property name="url"
                  value="jdbc:as400://127.0.0.1/TEST2;prompt=false;naming=sql;errors=full;date format=usa;date separator=/;time format=hms;time separator=:;transaction isolation=read committed;"/>
        <property name="driverClassName" value="com.ibm.as400.access.AS400JDBCDriver"/>
        <property name="username" value="asdf"/>
        <property name="password" value="asdf"/>
        <property name="initialSize" value="${ProjectDS.initialSize}"/>
        <property name="maxActive" value="${ProjectDS.maxActive}"/>
        <property name="maxIdle" value="${ProjectDS.maxIdle}"/>
        <property name="minIdle" value="${ProjectDS.minIdle}"/>
        <property name="testOnBorrow" value="${ProjectDS.testOnBorrow}"/>
        <property name="removeAbandoned" value="${ProjectDS.removeAbandoned}"/>
        <property name="removeAbandonedTimeout" value="${ProjectDS.removeAbandonedTimeout}"/>
        <property name="logAbandoned" value="${ProjectDS.logAbandoned}"/>
    </bean> 
```

在阅读了一些关于 Tomcat 配置的教程后，我做了以下工作：

新豆：

```
<bean id="ProjectDS" class="org.springframework.jndi.JndiObjectFactoryBean">
        <property name="jndiName">
            <value>ProjectDS</value>
        </property>
        <property name="resourceRef" value="true"></property>
    </bean> 
```

服务器.xml：

```
<Resource name="ProjectDS" global="ProjectDS" auth="Container"
            type="org.apache.commons.dbcp.BasicDataSource"
            driverClassName="com.ibm.as400.access.AS400JDBCDriver"
            url="jdbc:as400://127.0.0.1/TEST2"
            username="asdf"
            password="asdf" /> 
```

上下文.xml：

```
<WatchedResource>WEB-INF/web.xml</WatchedResource>
    <ResourceLink global="ProjectDS" name="ProjectDS" type="org.apache.commons.dbcp.BasicDataSource"/> 
```

我得到的是：

> 异常处理全局 JNDI 资源 javax.naming.NamingException: 无法创建资源实例

我在某处读到我不应该将上述内容放入 server.xml 而是放入 web.xml，但我不知道具体在哪里。这可能是问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T09:37:15.763

首先，在你的 Tomcat 和/或中回滚你的`context.xml`和。`server.xml`这是一个工作配置：

`src/main/webapp/META-INF`在命名中创建一个文件，`context.xml`其中包含：

```
<?xml version="1.0" encoding="UTF-8"?>
<Context>
<Resource name="ProjectDS" auth="Container"
            type="javax.sql.DataSource"
            driverClassName="com.ibm.as400.access.AS400JDBCDriver"
            url="jdbc:as400://127.0.0.1/TEST2"
            username="asdf"
            password="asdf" /> 
</Context> 
```

然后，以这种方式编辑您的 bean：

```
<bean id="ProjectDS" class="org.springframework.jndi.JndiObjectFactoryBean">
    <property name="jndiName" value="java:comp/env/ProjectDS" />
    <property name="proxyInterface" value="javax.sql.DataSource" />
</bean> 
```

这里的区别是`java:comp/env/ProjectDS`和代理接口。

希望它对你有用！

# javascript - 聆听 Handlebars 渲染

> ID：10137831
> 
> 赞同：3
> 
> 时间：2012-04-13T08:47:35.783
> 
> 标签：javascript, templates, handlebars.js

我想要实现的是：

*   呈现模板后绑定到表单提交以添加微调器
*   在渲染模板之前移除微调器（如果存在）

我想如果有一种方法可以绑定 Handlebars 的渲染，那将很容易实现。我还没有找到任何可能的线索。

我试图解决这个问题的方法可能不是正确的方法，所以请随时提出其他方法。

[这是一个使用Davis](http://davisjs.com/)进行路由和 jQuery 进行 DOM 操作的单页应用程序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-18T14:12:14.460

绑定到表单提交的第一个问题可以通过 jQuery 的[on handler](http://api.jquery.com/on/) `$(document).on("submit", "form", function(event) { ... });`来解决。这适用于所有表单，只要它们附加到 DOM。

对于渲染部分，制作一个包装[.html()](http://api.jquery.com/html/)调用并[触发](http://api.jquery.com/trigger/)事件的小型 jQuery 插件。然后绑定内容元素来监听。例如`$("#content").bind("render", function() { /* REMOVE SPINNER */ });`和`$("#content").render(/* WHATEVER IT TAKES TO GET HTML OUT OF HANDLEBARS */);`。最后是插件：

```
(function($) {
  $.fn.render = function(htmlString) {
    var selector = this;
    selector.html(htmlString);
    selector.trigger("render");
  };
})(jQuery); 
```

我创建了一个[小提琴](http://jsfiddle.net/hleinone/fkUfG/)来演示后一种情况（没有把手）。

# objective-c - 在 Xcode 中查看控制器动画

> ID：10137835
> 
> 赞同：0
> 
> 时间：2012-04-13T08:47:49.640
> 
> 标签：objective-c, xcode, uiviewcontroller, uinavigationcontroller

当用户单击按钮时，我需要为视图设置动画。我正在使用以下代码制作动画

应用代理

```
ViewController2 *vc2_controller = [[ViewController2 alloc]init];

    UINavigationController *baseViewController = [[UINavigationController alloc]initWithRootViewController:vc2_controller];
    [self.window addSubview:baseViewController.view];
     self.window.rootViewController = vc2_controller;

    UINavigationController *navigationController = [[UINavigationController alloc] initWithRootViewController:self.viewController];  

    [self.window addSubview:navigationController.view];

    self.viewController = [[vc1controller alloc]initWithNibName:nil bundle:nil]; 
```

//ViewController1.m -- 这是有效的

```
[self.navigationController pushSlideViewController:self.navigationController]; 
```

我在类别中创建了函数定义 //Category

```
- (void)pushSlideViewController:(UIViewController *)viewController
{
   // NSLog(@"In Navigation Controller");

    //[UIView transitionWithView:viewController.view duration:0.5 options:UIViewAnimationOptionTransitionFlipFromLeft animations:nil completion:nil];
    CGRect screensize = [[UIScreen mainScreen]bounds];

    [UIView animateWithDuration:0.5 animations:^{

        NSLog(@"In View ANimatin");
        CGRect current_rect =  viewController.view.frame;
        viewController.view.frame = current_rect;
        current_rect.origin.x = screensize.size.width-50;
        viewController.view.frame = current_rect;

    }];

} 
```

现在我从 ViewController2.m 调用 ViewController1.m -- 动画不工作

```
ViewController1 *view_control = [[ViewController1 alloc]init];

[self.navigationController popSlideViewController:view_control];

//Category
-(void)popSlideViewController:(UIViewController *)viewController
{
    CGRect screensize = [[UIScreen mainScreen]bounds];
    //NSLog(@"In Pop");
    [UIView animateWithDuration:0.5 animations:^{

        //View is not coming to original position.
        CGRect current_rect =  viewController.view.frame;
        NSLog(@"In View ANimatin %f",current_rect.origin.x);
        viewController.view.frame = current_rect;
        current_rect.origin.x = 0.0;
        viewController.view.frame = current_rect;

    }]; 
} 
```

注意：我没有使用 ios5 :-)

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T09:08:41.480

您正在从 VC1 加载 VC2，正如您所说，它工作正常。然后，您尝试从 VC2 加载 VC1，这就是问题所在 - VC1 仍在加载，位于 VC2 后面，因此您只需要以与最初启动它的方式类似的方式关闭 VC2，只需设置动画即可它退出屏幕，将其从视图中移除，然后释放它（除非您在显示它时释放它）。或者，您可以使用内置方法，

```
presentViewController:animated:completion: 
```

和

```
dismissViewControllerAnimated:completion: 
```

有自己的动画。

# facebook - Internet Explorer Like 按钮疯狂

> ID：10137838
> 
> 赞同：5
> 
> 时间：2012-04-13T08:48:05.810
> 
> 标签：facebook, internet-explorer, iframe, facebook-like

我有一个带有图像的页面。当您将鼠标悬停在图像上时，会在其顶部出现一个略微透明的白色 div，并带有几个操作按钮和一些信息。当您将鼠标从图像上移开时，信息/按钮框会消失（显示：无）。

在那个隐藏/鼠标悬停框中是一个类似 facebook 的按钮。它在所有其他浏览器中显示得非常好，但正如您可能已经猜到的那样，它在臭名昭著的 IE 浏览器中具有奇怪的行为。在 IE7 - IE8 中，like 按钮会出现一秒钟然后消失。它仍然在设计中留下一个空间，就像它会在那里一样，它只是没有。我是否先翻车都没关系。按钮出现一秒钟，然后消失。然而，在 IE9 中，该按钮确实出现并停留在那里。但是，当我第二次翻转时，iframe 获得了白色背景，即使第一次翻转让我获得了透明背景。

**隐藏鼠标悬停div的html代码：**

```
<div id="hoverPopup">
    <div class="fbLikeWrapper">
        <div class="fb-like" data-send="false" data-layout="button_count" data-show-faces="false"></div>
    </div>
    <a href="javascript:reserveGift(#qry_kadoogle_detail.id_kadoogle_detail#, 1)">
        <div class="btn_small_prefix"></div>
        <div class="btn_gift_center">button1</div>
        <div class="btn_small_suffix"></div>
    </a>
    <a href="##">
        <div class="btn_small_prefix"></div>
        <div class="btn_gift_center">button2</div>
        <div class="btn_small_suffix"></div>
    </a>
</div> 
```

**CSS代码：**

```
.fbLikeWrapper
{
    /*width       : 50px;
    margin-left : auto;
    margin-right: auto;*/
}
.fbLikeWrapper div
{
    display    : block;
    line-height: normal;
} 
```

屏幕截图：

IE9

![在此处输入图像描述](../Images/a07c01f06eaff302024df7279af020fa.png)

IE7

![在此处输入图像描述](../Images/a86cf6c45517a36c150a582d2e181f30.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-26T21:15:36.527

试试这个：

```
#hoverPopup .fb-like {
    width: 47px;
}

.fbLikeWrapper
{
    display     : inline-block;
    width       : 51px;
    text-align  : center !important;
    margin      : 30px auto 10px;
    box-sizing  : border-box;
    -moz-box-sizing     : border-box;
    -webkit-box-sizing  : border-box;
    overflow    : hidden;
} 
```

如果这没有帮助，可能是导致问题的 javascript，而不是 css，您必须共享更多信息（javascript、html 等）...

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-03T12:11:24.180

我通过一位遇到类似问题的同事找到了答案。

加载页面时，需要隐藏弹出窗口，所以我给了他们一个说`display:none;`. 当我悬停时，我会打开和关闭课程。在每个使用类似 facebook 的按钮的浏览器中，使用 IE 则没有。

我还不完全知道为什么，但我确实发现如果我使用 jquery`.hide()`和`.show()`函数来切换并最初设置隐藏的 div 而不是使用类，它就像一个魅力。结案。IE 继续糟透了。

# c# - 验证 int、double 的通用方法。如何使用 GetType()？

> ID：10137848
> 
> 赞同：3
> 
> 时间：2012-04-13T08:48:38.393
> 
> 标签：c#, generics

我正在尝试编写验证方法。例如：对于 double 它看起来像这样：

```
 protected bool ValidateLoopAttributes(string i_value, double i_threshold)
       {
        double result;
        if (!(double.TryParse(i_value, out result) && result >= i_threshold))
        {
            return false;
        }
        return true;
    } 
```

是否可以这样写：

```
 protected bool ValidateLoopAttributes<T>(string i_value, T i_threshold) 
```

然后使用类似的东西

```
 T.GetType().TryParse() // how can i use here the type's methods?? 
```

使用 switch/if 语句是唯一的方法吗？例如：

```
 If (T.GetType() is int) 
        Int32.TryParse(i_threshold) 
```

有没有更优雅的方式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T09:10:13.393

试试这个：

```
static class Ext
{
    public static bool TryParse<T>(string s, out T value)
    {
        TypeConverter converter = TypeDescriptor.GetConverter(typeof(T));
        try
        {
            value = (T)converter.ConvertFromString(s);
            return true;
        }
        catch
        {
            value = default(T);
            return false;
        }
    }
    public static bool ValidateLoopAttributes<T>(string i_value, T i_threshold) 
           where T : IComparable
    {
        T outval;
        if (TryParse<T>(i_value, out outval))
            return outval.CompareTo(i_threshold) >= 0;
        else return false;
    }
} 
```

我的回答使用了 Marc Gravell 从[这里](https://stackoverflow.com/questions/1654871/generic-tryparse-extension-method)获取的回答。
有了这个你可以做

```
bool b1 = Ext.ValidateLoopAttributes<int>("5", 4);
bool b2 = Ext.ValidateLoopAttributes<double>("5.4", 5.5d); 
```

如果您觉得它有用，您还可以使用扩展方法

```
public static bool ValidateLoopAttributes<T>(this string i_value, T i_threshold) 
       where T : IComparable { } 
```

这导致您使用

```
bool b1 = "5".ValidateLoopAttributes<int>(4);
bool b2 = "5.4".ValidateLoopAttributes<double>(5.5d); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T09:31:32.757

```
public static bool ValidateLoopAttributes<T>(string value, T threshold)
    where T : IComparable
{
    try
    {
        var parseMethod = typeof(T).GetMethod("Parse", new[] {typeof (string)});
        var result = (T) parseMethod.Invoke(null, new object[] {value});
        return result.CompareTo(threshold) < 0;
    }
    catch (Exception)
    {
        return false;
    }
} 
```

显然，这只适用于具有静态 Parse 方法的类型。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-13T09:35:41.570

目前，您在方法中混合了两件事 - 解析和业务规则。考虑你调用`ValidateLoopAttributes(value, 4)`它并返回`false`. 可能的原因：

1.  字符串不包含值。例如空，一些字符等。
2.  字符串不包含整数值。例如，它具有双重价值。
3.  字符串包含整数值，但超过阈值。
4.  没有为您的类型定义转换器。

在第一种情况下，您的源中有无效数据。在第二种情况下，您的代码无效，应该使用 double 代替。在第三种情况下，代码还可以，但业务规则被破坏了。在最后一种情况下（对于双精度或整数来说不是这种情况，但是如果您编写没有类型限制的通用代码，则允许其他人以任何类型调用它）代码中也存在问题。

所以，考虑分离业务规则和解析数据。

```
Foo foo = Parse(xml);
RunBusinessRules(foo); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-13T09:01:24.150

可以尝试使用这样的东西来检查这是否是一个整数：

```
public static bool IsNumericValue(string val, System.Globalization.NumberStyles NumberStyle)
{
    double result;
    return Double.TryParse(val,NumberStyle,
        System.Globalization.CultureInfo.CurrentCulture,out result);
} 
```

很快

```
 IsNumericValue("1.2", System.Globalization.NumberStyles.Integer) // FALSE 
```

和上

```
 IsNumericValue("12", System.Globalization.NumberStyles.Integer)  // TRUE 
```

请注意，在我使用的*这个*示例中，如果它们不同，请`CurrectCulture`根据*您的需要进行调整。*

# mysql - 将 MySQL auto_increment 设置为依赖于另外两个主键

> ID：10137850
> 
> 赞同：0
> 
> 时间：2012-04-13T08:48:54.550
> 
> 标签：mysql, primary-key, auto-increment

我正在尝试建立一个 MySQL 数据库来存储生物数据。我必须从文件中提取这些数据，并且我有一个 perl 脚本。我遇到的问题是我需要三个主键才能使它们唯一，并且我希望其中一个是自动增量整数。但是，我希望每次前两个键的组合发生变化时都会重置自动递增的值。

```
sequence1 | hit1      | 1
sequence1 | hit1      | 2
sequence1 | hit2      | 1
sequence2 | something | 1
sequence2 | something | 2
sequence2 | something | 3
sequence3 | something | 1 
```

等等等等

这是可能的还是我必须直接在脚本中实现它？

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T12:57:32.230

这仅适用于 MyISAM 表，不适用于 InnoDB 或 MySQL 具有的任何其他存储引擎。

只需在 (col1, col2, id) 上创建一个主键并在 id 列上设置 auto_increment 标志。并确保仅对 id 没有唯一约束。MyISAM 将为每个唯一的 (col1, col2) 对生成一个新的值序列。

# javascript - 谷歌地理图表的自动选择区域

> ID：10137853
> 
> 赞同：2
> 
> 时间：2012-04-13T08:49:13.027
> 
> 标签：javascript, google-visualization

是否可以自动选择 google chart api geochart 的显示区域？

我不知道城市在哪里，所以我无法决定展示哪个地区。因此我想知道，是否有办法让图表 api 决定显示哪个区域。

看看这个例子：

[http://jsfiddle.net/2mEzV/](http://jsfiddle.net/2mEzV/)

所有城市都在欧洲，所以我只想展示欧洲大陆而不是整个世界。

我可以使用 Google 图表 api 实现这一点吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-18T19:17:11.767

是的，使用`region: 155`.

[http://jsfiddle.net/2mEzV/71/](http://jsfiddle.net/2mEzV/71/)

有关所有选项，请参阅[https://google-developers.appspot.com/chart/interactive/docs/gallery/geochart#Configuration_Options](https://google-developers.appspot.com/chart/interactive/docs/gallery/geochart#Configuration_Options)（向下滚动 2 页）。

# caching - Redis 只是一个缓存吗？

> ID：10137857
> 
> 赞同：277
> 
> 时间：2012-04-13T08:49:22.073
> 
> 标签：caching, redis

我一直在阅读一些 Redis 文档并尝试[http://try.redis-db.com/](http://try.redis-db.com/)上的教程。到目前为止，我看不出 Redis 与 Velocity 或 Enterprise Library Caching Framework 等缓存技术之间有任何区别

您实际上只是使用唯一键将对象添加到内存数据存储中。似乎没有任何关系语义......

我错过了什么？

* * *

## 回答 #1

> 赞同：665
> 
> 时间：2012-04-13T11:45:37.183

不，Redis 不仅仅是一个缓存。

像缓存一样，Redis 存储 key=value 对。但与缓存不同的是，Redis 允许您对值进行操作。Redis 中有 5 种数据类型——字符串、集合、哈希、列表和有序集合。每种数据类型都公开了各种操作。

理解 Redis 的最佳方式是对应用程序进行建模，而无需考虑如何将其存储在数据库中。

假设我们要构建 StackOverflow.com。为了简单起见，我们需要问题、答案、标签和用户。

## 建模问题、用户和答案

每个对象都可以建模为一个地图。例如，问题是包含字段 {id, title, date_asked, votes, ask_by, status} 的地图。类似地，An Answer 是一个包含 {id, question_id, answer_text, answers_by, votes, status} 字段的映射。同样，我们可以对用户对象进行建模。

这些对象中的每一个都可以作为 Hash 直接存储在 Redis 中。要生成唯一 ID，您可以使用 atomic increment 命令。像这样的东西-

```
$ HINCRBY unique_ids question 1
(integer) 1
$ HMSET question:1 title "Is Redis just a cache?" asked_by 12 votes 0
OK

$ HINCRBY unique_ids answer 1
(integer) 1
$ HMSET answer:1 question_id 1 answer_text "No, its a lot more" answered_by 15 votes 1
OK 
```

## 处理选票

现在，每当有人提出问题或答案时，您只需要这样做

```
$ HINCRBY question:1 votes 1
(integer) 1
$ HINCRBY question:1 votes 1
(integer) 2 
```

## 主页问题列表

接下来，我们要存储最近的问题以显示在主页上。如果您正在编写一个 .NET 或 Java 程序，您可以将问题存储在一个列表中。事实证明，这也是将其存储在 Redis 中的最佳方式。

每次有人提出问题时，我们都会将其 id 添加到列表中。

```
$ lpush questions question:1
(integer) 1
$ lpush questions question:2
(integer) 1 
```

现在，当您想要呈现您的主页时，您可以向 Redis 询问最近的 25 个问题。

```
$ lrange questions 0 24
1) "question:100"
2) "question:99"
3) "question:98"
4) "question:97"
5) "question:96"
...
25) "question:76" 
```

现在您有了 ID，使用管道从 Redis 检索项目并将它们显示给用户。

## 按标签的问题，按投票排序

接下来，我们要检索每个标签的问题。但是 SO 允许您在每个标签下查看投票最多的问题、新问题或未回答的问题。

为了对此建模，我们使用 Redis 的 Sorted Set 功能。排序集允许您将分数与每个元素相关联。然后，您可以根据它们的分数检索元素。

让我们继续为 Redis 标签执行此操作

```
$ zadd questions_by_votes_tagged:redis 2 question:1 
(integer) 1
$ zadd questions_by_votes_tagged:redis 10 question:2 
(integer) 1
$ zadd questions_by_votes_tagged:redis 5 question:613 
(integer) 1
$ zrange questions_by_votes_tagged:redis 0 5 
1) "question:1"
2) "question:613"
3) "question:2"
$ zrevrange questions_by_votes_tagged:redis 0 5 
1) "question:2"
2) "question:613"
3) "question:1" 
```

我们在这里做了什么？我们将问题添加到已排序的集合中，并为每个问题关联一个分数（投票数）。每次一个问题被投票时，我们都会增加它的分数。当用户点击“标记为 Redis 的问题，按投票排序”时，我们只需执行 a`zrevrange`并返回最热门的问题。

## 无需刷新页面的实时问题

最后，一个奖励功能。如果您保持问题页面打开，SO 会在添加新问题时通知您。Redis 如何在这里提供帮助？

Redis 有一个发布-订阅模型。您可以创建频道，例如“channel_questions_tagged_redis”。然后，您将`subscribe`用户转到特定频道。添加新问题时，您会`publish`向该频道发送消息。然后所有用户都会收到该消息。您将不得不使用 Web 技术（如 Web 套接字或 Comet）将消息实际传递到浏览器，但 Redis 可以帮助您完成服务器端的所有工作。

## 持久性、可靠性等

与缓存不同，Redis 将数据持久化在硬盘上。您可以进行主从设置以提供更好的可靠性。要了解更多信息，请在此处查看持久性和复制主题 - [http://redis.io/documentation](http://redis.io/documentation)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2018-05-08T14:48:17.190

不仅仅是缓存。

*   内存键值存储
*   支持多种数据类型（字符串、哈希、列表、集合、排序集、位图和超日志）
*   它提供了将缓存数据存储到物理存储中的能力（如果需要）。
*   支持发布订阅模型
*   Redis 缓存提供复制以实现高可用性（主/从）

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-09-28T10:26:16.230

Redis 具有独特的能力，例如超快的 lua 脚本。它的执行时间等于 C 命令的执行时间。这也为许多高级对象（如锁和信号量）工作所需的复杂 Redis 数据操作带来了原子性。

有一个基于内存数据网格的 Redis，称为[Redisson](https://redisson.org)，它允许在 Java 上轻松构建**分布式应用程序**。感谢分布式`Lock`, `Semaphore`, `ReadWriteLock`, `CountDownLatch`,`ConcurrentMap`对象和许多其他对象。

在云端完美运行，支持[AWS Elasticache](http://docs.aws.amazon.com/AmazonElastiCache/latest/UserGuide/Replication.html)、[AWS Elasticache Cluster](http://docs.aws.amazon.com/AmazonElastiCache/latest/UserGuide/Clusters.html)和[Azure Redis 缓存](https://azure.microsoft.com/en-us/services/cache/)支持

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-09-01T18:58:55.937

实际上，相对数据表示（或任何类型的数据表示）和数据库角色（缓存、永久持久性等）之间没有依赖关系。

Redis 对缓存很有用，这是真的，但它不仅仅是一个缓存。它是高速全内存数据库。它确实将数据保存在磁盘上。它不是关系型的，它是键值存储。

我们在生产中使用它。Redis 帮助我们构建每秒处理数千个请求的软件，并在整个自然生命周期中保留客户业务数据。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-11-13T07:10:56.100

Redis 是最适合分布式环境/微服务架构的缓存。

它快速、可靠、提供原子性和一致性，并具有一系列数据类型，如集合、哈希、列表等。

我从去年开始使用它，当您需要非常快速地提供生产就绪解决方案并解决任何与性能相关的问题时，它确实是一个救星，因为您可以随时使用它来缓存数据。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2020-06-21T04:45:40.870

Redis 支持数据结构，例如字符串、散列、列表、集合、具有范围查询的排序集合、位图、超日志、具有半径查询和流的地理空间索引。Redis 内置复制、Lua 脚本、LRU 驱逐、事务和不同级别的磁盘持久性，并通过 Redis Sentinel 和 Redis Cluster 自动分区提供高可用性。

用python实现

[https://beyondexperiment.com/vijayravichandran06/redis-data-structure-with-python/](https://beyondexperiment.com/vijayravichandran06/redis-data-structure-with-python/)

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2021-05-05T21:01:44.027

Redis的用法：

1.  具有多种数据结构的缓存，例如：字符串、集合、zset、列表、哈希和位图（可用于许多聚合用例）
2.  千伏数据库。Reids 内存中的数据可以存储在磁盘上：RDB 和 AOF 可以获取快照和编辑日志。
3.  消息队列。但是一条消息只能被一个消费者消费
4.  发布订阅
5.  分布式锁。依赖`setnx`命令，只有第一个成功执行它的线程才会持有锁。[https://redis.io/commands/setnx](https://redis.io/commands/setnx)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-03-28T02:19:51.840

除了作为缓存服务器之外，Redis 还专门用作数据结构服务器。作为数据结构服务器形式的缓存意味着很多，因为数据结构是程序或*应用程序*的基础。考虑到您正在使用 SQL 数据库作为存储技术，并且需要构建一个列表、一个哈希图、一个排名集或类似的东西，这有点让人头疼。Redis 可以以非常简单的方式*直接为您提供这些功能，从而高度简化开发。*

另一方面，数据结构服务器不必采用缓存的形式。有些项目与 Redis 兼容，但具有持久存储引擎。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-02-15T11:54:29.167

除了到目前为止做出的答案，然后总结

*   Redis 是一个非常快速的非关系型数据库，它存储键到五种不同类型值（字符串、散列、列表、集合、排序集、位图和超日志）的映射。这是由@Sripathi Krishnan 回答的详细信息解释的。

*   Redis 支持在磁盘上的内存中持久存储

*   复制以扩展读取性能

*   客户端分片以扩展写入性能

如果你想获得更多关于 Redis 的详细和深入的信息，可以查看**Redis In Action**和**Redis Essentials**的书籍。

# android - 如何只允许有效的浮点数进入android中的文本字段

> ID：10137860
> 
> 赞同：-1
> 
> 时间：2012-04-13T08:49:31.543
> 
> 标签：android

如何仅允许将有效的浮点数放入文本字​​段中的浮点数

2.353 -2.354 4444.45

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T09:04:10.737

在该字段上实现一个焦点侦听器。当焦点从文本字段更改到表单的任何其他部分时，只需使用正则表达式来检查输入的有效性。

就像是 ：

```
^(-)?\d*(\.\d*)?$ 
```

应该做的伎俩。

然后使用 Android 的模式匹配来查看输入是否与 regexp 匹配：

```
Pattern p = Pattern.compile("^(-)?\d*(\.\d*)?$");
Matcher m = p.matcher(inputString);
if (m.find()) { 
    ////Found
}
else {
  //Not found
} 
```

但请注意本地设置...例如在法国，用于分隔小数的点 (.) 实际上是逗号 (,)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T08:51:56.297

使用[OnFocusChangeListener](http://developer.android.com/reference/android/view/View.OnFocusChangeListener.html)来实现这一点。

```
//value pool
final String[] check = new String[]{"2.353","-2.354","4444.45"};

 yourEditText.setOnFocusChangeListener(new OnFocusChangeListener() {

        @Override
        public void onFocusChange(View v, boolean hasFocus) {
            String s = ((EditText)v).getText().toString().trim();

            for(String tmp : check){
                if(!TextUtils.isEmpty(s) && s.equals(tmp)){
                    //it ok
                    break;
                }
                else{
                    //do something
                }
            }
        }
    }); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-04-13T08:54:22.603

对于edittext使用`android:inputType="number"`

将结果字符串转换为整数（例如，Integer.parseInt(myEditText.getText().toString())`）。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2014-04-03T05:27:59.230

```
android:inputType="numberDecimal|numberSigned" 
```

# embedded-jetty - 使用附加的单独 JVM 启动嵌入式码头服务器

> ID：10137866
> 
> 赞同：1
> 
> 时间：2012-04-13T08:49:46.737
> 
> 标签：embedded-jetty

您好已经在我的 Java 代码中启动了 Embedded Jetty 服务器，但它连接到同一个 JVM。我们可以启动嵌入式 Jetty 服务器并附加一个单独的 JVM。

有没有办法做到这一点。请告诉我。谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T11:26:56.490

`Runtime.getRuntime().exec(command)`? 命令是脚本，在 Main.class 上启动 java 的调用等...

我不确定您为什么要这样做，但是如果您试图从“外部”控制运行 Jetty 的 JVM，那么您应该查看[Java Service Wrapper](http://wrapper.tanukisoftware.com/doc/english/download.jsp)。

包装器提供了一个 Java API，使您能够控制应用程序的生命周期。如果重要的话，3.2.3 版可以在不同的许可下使用。

# windows-phone-7 - NavigationService.Navigate 抛出 NullReferenceException WP7？

> ID：10137867
> 
> 赞同：0
> 
> 时间：2012-04-13T08:49:49.977
> 
> 标签：windows-phone-7, nullreferenceexception

昨天刚刚下载了 WP7 SDK - 我是 Silver light 的新手 - 和一般的应用程序开发。

我只是试图将我的用户定向到不同的页面，但我在一行代码上发生了 NullReferenceException 错误。愚蠢的事情-上面的代码完全相同-但不会抛出错误？

```
if (myISO.DirectoryExists("Logs") && myISO.DirectoryExists("DataStore"))
{
     NavigationService.Navigate(new Uri("Sign-in.xaml", UriKind.Relative));
}
else
{
     NavigationService.Navigate(new Uri("Welcome.xaml", UriKind.Relative));
     //Above Line Causes Exception^
} 
```

此外，我在 App.xaml.cs 中得到一个 NullRefernceException - 我什至没有更改 - 它正在工作 - 现在它没有：

```
PhoneApplicationService.Current.UserIdleDetectionMode = IdleDetectionMode.Disabled; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T08:56:52.387

应该是这样的

```
NavigationService.Navigate(new Uri("/Page1.xaml", UriKind.Relative)); 
```

你的**“/”**在哪里？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-13T13:26:54.073

您可以调试并确定行的哪一部分引发了异常吗？

此外，如果您使用 NavigationService.Navigate(new Uri("/Welcome.xaml", UriKind.Relative)); 使用“/”确保 Welcome.xaml 页面位于项目的根目录中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-22T14:09:09.277

实际上，

```
This problem occurs after you change the Assembly Name or Namespace in 
Project Properties. 
```

要修复它，请删除 Bin 和 obj 文件夹的所有内容并重新编译。看到这个[线程](http://forums.create.msdn.com/forums/p/92129/552104.aspx)。

这也可能是您创建新项目时它起作用的原因。

# performance - 玩！2.0 性能指标

> ID：10137868
> 
> 赞同：5
> 
> 时间：2012-04-13T08:49:54.460
> 
> 标签：performance, scala, metrics, playframework-2.0

我正在为 Play 开发我的第一个应用程序！2.0 框架。感觉非常好，喜欢 akka 演员，但我正在寻找的一件事是我可以挂钩一些性能指标。我正在寻找的是[API](http://api.rubyonrails.org/classes/ActiveSupport/Notifications.html)之类的 Rails 通知或 Twitter 的[finagle](http://twitter.github.com/scala_school/searchbird.html)提供的东西（查找用于检索 stats.txt 的 curl 命令）。

Play 中是否有任何烘焙内容！2.0？还是我应该开始自己做饭？如果没有准备好任何东西 - 欢迎任何指示和提示！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T17:31:29.500

获取 Akka 性能指标的官方方法如下：[http ://typesafe.com/products/console](http://typesafe.com/products/console)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T09:31:07.387

虽然我没有在 Play 中使用它！scala 应用程序，对于生产中的所有性能指标，我一直是[Newrelic的忠实粉丝。](http://newrelic.com)也就是说，我认为 Play 不会有什么不同！战争。它将通过免费帐户为您提供基本指标。对于我的大多数 scala 应用程序，我使用 newrelic 注释来收集我想要详细跟踪的特定方法的指标 - 我已经看到 newrelic 使用 Java 提供了比 Scala 更详细的结果，因此使用了注释。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-21T20:55:55.063

有一个 statsd play2 插件：[https](https://github.com/typesafehub/play-plugins/tree/master/statsd) ://github.com/typesafehub/play-plugins/tree/master/statsd 或 Codahale 的 Metrics Play2 插件：[https ://github.com/kenshoo/metrics-play](https://github.com/kenshoo/metrics-play)

我目前正在查看提供 JMX 数据的指标，尽管如果 statsd 是一个选项，您可能需要先查看它。

# c# - 为什么套接字文件传输比 windows 复制慢？

> ID：10137872
> 
> 赞同：0
> 
> 时间：2012-04-13T08:50:31.743
> 
> 标签：c#, sockets, networking, tcpclient

我有关于网络文件传输的问题。当有超过 1 个客户端时，Socket TCP/UDP 上传比本地 windows 复制慢。

我有一些具有 1Gbps 网络的 PC。

以下是 Windows 副本案例。

客户端从服务器拷贝一份，最大上传速度约100mbps。（应该高于100mbps，路由有瓶颈。）

两个客户端从服务器复制，最大上传速度约为 200mbps。

三个客户端从服务器复制，最大上传速度约300mbps。

以下是 Socket 案例。

一个客户端从服务器下载，最大上传速度在100mbps左右。

两个客户端从服务器下载，最大上传速度约100mbps。

三个客户端从服务器下载，最大上传速度约100mbps。

如您所见，随着客户端数量的增加，套接字服务器的上传速度并没有增加。

我们做了一个简单的程序来测试这个问题。它遇到了同样的问题。这只是非常简单的发送和接收调用。请检查代码。

```
 class Program
 {
   static List<TcpClient> sessions = new List<TcpClient>();

   static void Main(string[] args)
   {
      bool isServer = false;
      Console.WriteLine("Run as a server? (Y/N)");
      string answer = Console.ReadLine();
      if (answer.ToUpper().StartsWith("Y")) isServer = true;

      if (isServer)
      {
         TcpListener listener = new TcpListener(IPAddress.Any, 13579);
         Console.WriteLine("Listening at: " + ((IPEndPoint)listener.LocalEndpoint).ToString());
         listener.Start();
         Thread workerThread = new Thread(() => 
         {
           while (true)
           {
              lock (sessions)
              {
                 foreach (var client in sessions)
                 {
                   if (client.Available > 0)
                   {
                      byte[] buffer = new byte[client.Available];
                      int length = client.Client.Receive(buffer);
                      string filePath = Encoding.UTF8.GetString(buffer, 0, length);

                      if (File.Exists(filePath))
                      {
                         foreach (var receiver in sessions)
                            receiver.Client.SendFile(filePath, null, null, TransmitFileOptions.UseKernelApc | TransmitFileOptions.WriteBehind);
                      }
                   }
                 }
              } 
              Thread.Sleep(200);
           }

         });

         workerThread.IsBackground = true;
         workerThread.Start();

         while (true)
         {
             TcpClient client = listener.AcceptTcpClient();
             lock (sessions)
             {
                sessions.Add(client);
             }
         }
      }
      else
      {
         Console.WriteLine("Enter the server IP:");
         string ipAddress = Console.ReadLine();
         TcpClient client = new TcpClient(ipAddress, 13579);
         Console.WriteLine("Enter the file path on remote server:");
         string remoteFilePath = Console.ReadLine();
         if(remoteFilePath != "")
                   client.Client.Send(Encoding.UTF8.GetBytes(remoteFilePath));
         byte[] recvBuffer = new byte[32768];
         while(true)
         {
           try
           {
                    client.Client.Receive(recvBuffer, 32768, SocketFlags.None);
           }
           catch (SocketException e)
           {
                    Console.WriteLine("Transfer interrupted: {0}", e.Message);
                    break;
           }
         }
      }
   }
 } 
```

这阻碍了我们实现性能更好的套接字工具。希望stackoverflow的家伙可以帮助我们。谢谢先进。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T09:15:10.373

当然，它更慢。您正在使用同一个线程来轮询所有客户端。

您应该切换到服务器中的异步方法（`BeginRead`/ `EndRead`）

# asp.net - 如何为此 RC4 算法创建解密函数

> ID：10137875
> 
> 赞同：0
> 
> 时间：2012-04-13T08:50:51.393
> 
> 标签：asp.net, algorithm, function, encryption, vbscript

我从[http://personalsources.com/includes/functions.asp](http://personalsources.com/includes/functions.asp)中提取了这段 ASP 代码，并将所有密码编码为 RC4，编码的功能是：

```
function rc4(byref thestr, byref thekey)
  dim asciiarray(255)
  dim keyarray(255)
  if isnull(thestr) then exit function
  if len(thekey)=0 then exit function
  if len(thestr)=0 then thestr=" "
  if len(thestr)=0 then exit function
  zxlen=len(thekey)
  for ipos=0 To 255
    keyarray(ipos)=asc(mid(thekey, ((ipos) Mod (zxlen)) + 1, 1))
  next
  for ipos=0 To 255
    asciiarray(ipos)=ipos
  next
  vpos=0
  for ipos=0 To 255
    vpos=(vpos + asciiarray(ipos) + keyarray(ipos)) Mod 256
    tempa= asciiarray(ipos)
    asciiarray(ipos)=asciiarray(vpos)
    asciiarray(vpos)=tempa
  next
  ipos=0
  vpos=0
  for rcx=1 To len(thestr)
    ipos=(ipos + 1) Mod 256 
    vpos=(vpos + asciiarray(ipos)) Mod 256
    tempb=(asciiarray(ipos) + asciiarray(vpos)) Mod 256
    tempa=asciiarray(ipos)
    asciiarray(ipos)=asciiarray(vpos)
    asciiarray(vpos)=tempa
    tempc=asciiarray(tempb)
    rc4=rc4 & chr(asc(mid(thestr, rcx, 1)) xor tempc)
  next
end function 
```

你知道我们是否有加密密钥（RC4），所以我们可以很容易地解密密码，但我不知道这个功能是如何加密密码的？这个函数的确切算法是什么？这可以编写一个函数来解密这个 RC4 密码吗？

* * *

例如，这个函数的加密密码是这样的（它永远不像 RC4 密码！！！）：

```
&gt;r&#178;&#231;&#197;&#197; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T10:32:13.270

RC4 是一个流密码，所以它使用 XOR 来加密。运行 RC4 会产生一个随机的字节密钥流。

要加密你：

> 明文异或密钥流 -> 密文

要解密你：

> 密文异或密钥流 -> 明文

在这两种情况下，密钥流都是相同的，由 RC4 使用相同的密钥生成。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:55:31.627

密码未加密，因此您无法解密。

数据已加密。要解密它，您需要密码，并使用加密文本和原始密码（用于加密它的密码）运行相同的功能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T08:54:55.817

根据[维基百科](http://en.wikipedia.org/wiki/RC4)，解密 RC4 所需要做的就是使用相同的密钥再次运行相同的功能。

# matlab - 查找适合于其他位置的相同变量的测量值

> ID：10137877
> 
> 赞同：0
> 
> 时间：2012-04-13T08:50:52.783
> 
> 标签：matlab

如果我在大约 400 公里的地理半径内对 4 个不同位置进行了一年的风速测量，是否有一种方法可以确定哪种风速测量最适合所有位置，即其中一个位置是否具有与所有位置相似的风速其他地点？这可以实现吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T09:03:49.037

我想你可以找到一个提供最小例如二次损失的所有其他人：

```
speeds is an N-by-4 matrix, with N windspeed measurements for each location
%Loss will find the squared loss for location i. It subtracts column i from each column in speeds, and squares this difference (for column i, this will always be 0). Then average over all rows and the 3 non-zero columns.
loss = @(i)sum(mean((speeds - repmat(speeds(:, i), 1, 4)).^2)) ./ 3;
%Apply loss to each of the 4 locations, find the minimum.
[v i] = min(arrayfun(loss, 1:4)); 
```

损失函数采用每个风速与所有其他位置的速度之间的平均平方差。然后我们用它`arrayfun`来计算每个位置的损失。

# c# - 从数据集中的数据表中删除所有行

> ID：10137878
> 
> 赞同：1
> 
> 时间：2012-04-13T08:51:02.183
> 
> 标签：c#, asp.net, .net, sql-server

我想擦除位于数据集中的数据表中的所有行，然后使用`Update()`.`TableAdapter`

插入效果很好，我把它放了，所以你可以看到我在做什么。我尝试了`Clear()`datatable 的方法，该方法应该删除所有行，但目前它什么也没做。

我想使用一种 SQL 查询，`DELETE * FROM demande;`但我不知道该怎么做

```
protected void InsertDemande_Click(object sender, EventArgs e)
{
    //TB = textBox
    //Parsing date (5th row of my dataTable is type date)
    string[] tabdate = TB_date_demande.Text.Split('/');
    DateTime date = new DateTime(int.Parse(tabdate[2]), int.Parse(tabdate[1]), int.Parse(tabdate[0]));

    //In my dataset "Demande", on my table "Demande", i add a new row type "demande" with all good parameters
    ds_Demande.Demande.AddDemandeRow(TB_demande_ID.Text, TB_user_ID.Text, TB_nom_fichier.Text, int.Parse(TB_poids_fichier.Text), date);

    ta_Demande.Update(ds_Demande);//update the database
    LabelResponse.Text = "Ajout effectué avec succès";
    GridViewDemande.DataBind();//refresh gridview
}

protected void ClearTable_Click(object sender, EventArgs e)
{
    ds_Demande.Demande.Clear();//doesn't seem to do anything
    ta_Demande.Update(ds_Demande);
    GridViewDemande.DataBind();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T08:53:33.770

```
// Clear all rows of each table.
ds_Demande.Clear();

// alternatively:
foreach(var row in ds_Demande.Rows) {
   row.Delete();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:59:54.663

```
for(int i = 0; i<ds_Demande.Count; i++)
{
     ds_Demande.Rows[i].Delete();
} 
```

# linux - 如何检查 Linux 的 32 位/64 位内核

> ID：10137880
> 
> 赞同：9
> 
> 时间：2012-04-13T08:51:08.777
> 
> 标签：linux, linux-kernel, archlinux

我需要编写一个 bash 脚本，我必须在其中检查 Linux 内核是 32 位还是 64 位。

我正在使用**uname -a**命令，它给了我**x86_64**结果。但我相信我不能以通用方式使用它，因为如果有人使用非 x86 架构，结果可能会有所不同。

如何检查 Linux 的 32 位/64 位内核？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-04-13T12:38:16.297

The question is rather: what do you intend to achieve by knowing whether you are on 32 or 64? What are the consequences of being on a hypothetical 128-bit environment? And what part actually is being tested for N-bitness? A CPU may support running in 64-bit mode, but the environment be 32-bit. Furthermore, the environment itself may be a mixed-mode; consider running a 64-bit kernel with a 32-bit userspace (done on a handful of classic RISCs). And then, what if the userspace is not of a homogenous bitness/executable format? That is why `getconf LONG_BIT` is equally pointless to use, because it depends on how it was compiled.

```
$ /rt64/usr/bin/getconf LONG_BIT
64
$ /usr/bin/getconf LONG_BIT
32
$ file /usr/bin/getconf /rt64/usr/bin/getconf
/usr/bin/getconf:      ELF 32-bit MSB executable, SPARC32PLUS, V8+ Required, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.4, not stripped
/rt64/usr/bin/getconf: ELF 64-bit MSB executable, SPARC V9, relaxed memory ordering, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.4, not stripped
$ uname -m
sparc64 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-04-13T09:10:55.730

您可以向系统查询 a 的大小`long int`：

```
getconf LONG_BIT 
```

但我不确定这是否完全可移植到所有不同的架构。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-13T10:07:32.457

我想出了以下内容。它假定`init`已使用（一些发行版已切换到其他加载程序，但应该很容易获得合理经常使用的加载程序列表）并且您使用`ELF`, not`a.out`或其他现在异国情调的可执行格式。对于大多数系统来说，这些似乎是合理的假设，但可能在嵌入式系统等中它们可能会被破坏。不过，总体思路应该可以适应（进入`init`进程或等价物并使用 来检查它的位数`file`）。如果您以 root 身份运行，而不是通过文件的路径，您可以使用`file $(sudo readlink -e /proc/1/exe)`（PID 1`init`可能比假设它的路径更便携）。

```
if file /sbin/init | fgrep 'ELF 64-bit' &>/dev/null; then
    echo "64-bit"
else
    echo "not 64-bit"
fi 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-13T09:39:55.963

在 /proc/cpuinfo 中搜索 lm（长模式）标志。如果这是真的，这意味着你有一个 64 位处理器。一个简单的 grep 应该会为您提供这些信息。

关于内核版本，您始终可以在 uname -a 信息上使用 grep。最好找到 uname 程序的来源，这样我们就可以排除由于恶意主机名引起的差异。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-11-29T15:01:49.670

确定支持的可执行架构的一种非常可靠的方法：

执行此操作的特色功能：

```
# Gets the supported executable architecture
# >: 32-bit | 64-bit
getRunArch() {
  local arch
  local IFS=' '
  read -r _ arch _ <<< $(file --dereference --brief "$(which ls)")
  echo -n "${arch}"
} 
```

测试这个：

```
echo "Supported run-time architecture is: $(getRunArch)"
Supported run-time architecture is: 64-bit 
```

比以下更可靠：

```
getconf LONG_BIT 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-10-27T16:17:02.197

取决于您要查找的内容，我在 64 位 proc 上安装了 32 位的机器，在我的情况下，以上所有内容都将返回 32 位

但是如果我查看硬件，在 Ubuntu 上使用 lshw (lshw -c cpu)，cpu 的描述清楚地表明我有一个 64 位 CPU，所以我可以安装 64 位版本的 Ubuntu。

/proc/cpuinfo 也是有关硬件信息的良好来源，例如 lm 标志代表长模式。

祝你今天过得愉快。杰克。

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2012-04-13T08:52:57.683

在 uname 输出中为 '64' 使用 Grep

```
uname -a | grep 64 
```

# python - 在 Python 中同时拟合 N 个数据集

> ID：10137894
> 
> 赞同：0
> 
> 时间：2012-04-13T08:52:00.933
> 
> 标签：python, curve-fitting

我有一个函数，我想适应许多不同的数据集，所有数据集都具有相同的点数。例如，我可能想将多项式拟合到图像的所有行。是否有使用 scipy 或其他软件包执行此操作的有效且矢量化的方法，或者我是否必须求助于单个循环（或使用多处理来加快速度）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T09:32:15.103

您可以使用[numpy.linalg.lstsq](http://docs.scipy.org/doc/numpy/reference/generated/numpy.linalg.lstsq.html)：

```
import numpy as np

# independent variable
x = np.arange(100)

# some sample outputs with random noise
y1 = 3*x**2 + 2*x + 4 + np.random.randn(100)
y2 = x**2 - 4*x + 10 + np.random.randn(100)

# coefficient matrix, where each column corresponds to a term in your function
# this one is simple quadratic polynomial: 1, x, x**2
a = np.vstack((np.ones(100), x, x**2)).T

# result matrix, where each column is one set of outputs
b = np.vstack((y1, y2)).T

solutions, residuals, rank, s = np.linalg.lstsq(a, b)

# each column in solutions is the coefficients of terms
# for the corresponding output
for i, solution in enumerate(zip(*solutions),1):
    print "y%d = %.1f + (%.1f)x + (%.1f)x^2" % ((i,) + solution)

# outputs:
# y1 = 4.4 + (2.0)x + (3.0)x^2
# y2 = 9.8 + (-4.0)x + (1.0)x^2 
```

# visual-studio-2010 - VisualStudio 2010 MyProjectName.application 文件

> ID：10137895
> 
> 赞同：0
> 
> 时间：2012-04-13T08:52:02.707
> 
> 标签：visual-studio-2010

当我构建我的项目时，VisualStudio 会创建一个文件名 MyProjectName.application。这个文件是做什么用的？如何在 VisualStudio 中禁用此文件的创建？

使用 VisualStudio 2010。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-16T08:03:25.473

在旧版本的 Visual Studio (<2010) 中，您可以使用设置向导部署应用程序，但 ClickOnce 是更新且首选的部署方式。对于 ClickOnce 部署模型， ***.application***文件是您的应用程序的默认部署清单，即它们包含有关您在使用 ClickOnce 部署应用程序时所做选择的所有信息。[您可以在此处](http://msdn.microsoft.com/en-us/library/ff699352.aspx)和[此处](http://www.c-sharpcorner.com/uploadfile/mgold/deploying-windows-applications-using-visual-studio-2010/)找到更多信息

要禁用 ClickOnce，请打开项目的属性并执行以下操作：

1.  在**Signing 选项卡**下，取消选中“ *Sign the ClickOnce manifests* ”。
2.  在**安全选项卡**下，取消选中“*启用 ClickOnce 安全设置*”。

之后删除 .application 文件，它不应该重新出现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-16T07:46:35.380

.application 文件是 ClickOnce 应用程序的默认部署清单。

# jquery - 为什么部分标记文本时 Opera 不引发点击事件？

> ID：10137897
> 
> 赞同：8
> 
> 时间：2012-04-13T08:52:08.667
> 
> 标签：jquery, html, opera, jquery-click-event

给定以下 HTML：

```
<div contenteditable="true">Some text</div> 
```

还有一些用 JQuery 检测点击事件的 JS：

```
$("div").click(function() {
   alert('click!');
}); 
```

如果您选择了div 中的**部分文本，Opera 将***不会*引发 click 事件（在 Linux 上使用 Opera 11.61 和 Windows 上的 11.62 测试）。双击一个单词以部分标记它*确实*有效。

该事件*在*IE7-9、Firefox、Chrome 和 Safari 中引发。这里有一个稍微修改的[JSFiddle](http://jsfiddle.net/4yNxs/)。

这是预期的行为、JQuery 错误、Opera 错误还是其他？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T15:51:30.857

众所周知，点击事件在不同元素和不同浏览器之间具有不一致的行为。在它的核心，当单个元素记录一个 mousedown 和一个 mouseup 时，应该触发一个 click 事件，请参阅[jquery doc](http://api.jquery.com/click/)。

我听到的最好的建议来自[这里](http://www.quirksmode.org/js/events_mouse.html)：

> 这是否是一个问题取决于您想要的用户交互。但是你通常应该在鼠标按下/向上注册你的脚本，除非你完全确定你想要点击事件而不是别的。

因此，与您对问题的评论一致，最简单的解决方案是注册 mousedown 或 mouseup （取决于您正在寻找的行为，最接近“点击”的行为将是“mouseup”）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-27T08:34:44.653

哪种行为是“正确的”当然是一个有趣的问题。我的看法：我个人认为 Opera 的行为更有意义，因为用户在这里的意图显然不是“点击”某物，而是“选择”某物。

另一方面，我也认为 Opera 应该将其更改为与其他浏览器兼容（除非我们可以让其他浏览器匹配 Opera）。兼容性非常非常重要。所以，与我的 Opera 员工交谈：我认为我们是正确的，我认为我们应该解决这个问题：-p

# ios - ios5如何在推特上发帖？

> ID：10137905
> 
> 赞同：2
> 
> 时间：2012-04-13T08:52:57.220
> 
> 标签：ios, twitter

我想在 Twitter 上发布我的游戏分数和图片...如何使用新的 Twitter API 在 Twitter 上发布图片和文字？

请任何人帮助解决这个问题..

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-13T08:54:55.630

使用下面的代码：

```
TWTweetComposeViewController *tweeter = [[TWTweetComposeViewController alloc] init];
        [tweeter setInitialText:@"message"];
        [tweeter addImage:image];
        [self presentModalViewController:tweeter animated:YES]; 
```

# c# - 设置@@Error 时会抛出异常吗？

> ID：10137908
> 
> 赞同：0
> 
> 时间：2012-04-13T08:53:13.597
> 
> 标签：c#, sql-server

正如我在文档中所读到的，@@Error 全局变量是在发生异常时设置的。例如：外键违规等。

假设我有一个示例程序：

```
Create Procedure someName
Begin

    Insert Into something...
    return @@Error

End 
```

我想知道什么时候出现异常会`@@Error`执行return吗？或者控件会出现在`catch`我的 C# 代码中吗？真的让我`@@Error`很困惑。如果外键违反时没有抛出错误，那么为什么我们在 Sql Server 中有 Try Catch？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:56:16.457

是的，在 T-SQL 中，错误不会终止执行。我猜，Try-catch 是在较新的版本中添加的，因此您可以更好地处理错误。

# arrays - 数组大小小于号。存储在其中的元素

> ID：10137916
> 
> 赞同：0
> 
> 时间：2012-04-13T08:53:51.137
> 
> 标签：arrays

是否可以声明一个大小为 1 的数组并能够在其中存储 5 个元素然后检索它们？

我尝试了一个这样的代码，我声明了一个数组`arr[1]`，然后在其中存储了 5 个元素。实际上可以存储 5 个元素！它曾是怎样的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T08:58:32.317

如果这是 C（或 C++），您可以很容易地存储比数组大小更多的元素：

```
#include <stdio.h>

int main (void) {
    int x = 0;
    int a[1];    // so that a[0] is the only valid element
    a[1] = 7;    // write beyond end of array

    printf ("x=%d, &a[0]=%p, &a[1]=%p, &x=%p\n", x, &(a[0]), &(a[1]), &x);
    return 1;
} 
```

但是，这样做会导致未定义的行为，可能会覆盖*其他*一些信息，这并不是一个好主意。

在我的系统上，上面的代码打印：

```
x=7, &a[0]=0xbf9bb638, &a[1]=0xbf9bb63c, &x=0xbf9bb63c 
```

尽管我设置`x`为零并且从未明确更改它。`a[1]`这是因为超出数组末尾的写入影响了它（从和的两个相同地址可以看出`x`）。

# linq - OData $filter substringof 应用于字符串列表

> ID：10137917
> 
> 赞同：1
> 
> 时间：2012-04-13T08:53:52.843
> 
> 标签：linq, filter, odata, asp.net-web-api

我有一个 ASP.NET Web API 控制器，它公开了一个`IQueryable(Of String)`- 这是一个描述列表。这些字段可能有数万个，因此我使用`$top`并且`$skip`只获取其中的一部分——效果很好。

现在我正在尝试通过 OData`substringof('mydesc',Property)`过滤器过滤这些结果。如您所见，我需要传入要过滤的**属性**名称。但是，由于我要返回一个字符串列表，因此我实际上没有任何要过滤的属性。

这会导致服务器返回错误，例如 `No property or field 'tostring' exists in type 'String'`- 当使用`$filter=substringof('asd',tostring)`.

如果我将调用更改为 `$filter=substringof('asd','')`，则不会引发任何错误，但也不会产生任何结果。

我的问题是，我可以以某种方式格式化`$filter`运算符以在我的字符串列表中查找子字符串，而无需查找属性/字段，还是我必须声明一个具有单个属性的类，只是为了启用过滤？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-25T01:43:47.520

自从我上次回答这个问题以来，情况发生了变化。OData V3 支持使用“$it”查询基元集合。Asp.net Web API 也支持这种语法。例如，在您的控制器中，您可以返回`IQueryable<string>`并发送如下请求

$filter=substring('mydesc', $it) 或

$filter=length($it) ge 5

等。您还可以公开其他原语的集合，如 IQueryable 等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-24T21:05:54.383

不幸的是，声明一个具有单个属性的类似乎是我能想到的唯一解决方案。`OData $filter`不支持类似`this`参数的东西`C#`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-17T08:36:34.637

另一种不太明显的方法是公开表示列表的计算连接值，然后可以使用 substringof 将列表作为单个属性值查询

# c++ - Boost.Asio 在尝试加入多播组时抛出“没有这样的设备”异常

> ID：10137925
> 
> 赞同：3
> 
> 时间：2012-04-13T08:54:40.463
> 
> 标签：c++, network-programming, boost-asio

`"No such device"`以下代码在尝试加入多播组（`set_option`调用）时抛出异常。

```
#include <boost/asio.hpp>

int main(){
    const std::string recv_addr = "232.4.130.147";
    const int recv_port = 31338;

    boost::asio::io_service io_service;
    boost::asio::ip::udp::endpoint recv_endpoint(
                boost::asio::ip::address::from_string(recv_addr),
                recv_port);
    boost::asio::ip::udp::socket recv_sock(io_service, recv_endpoint);

    recv_sock.set_option(
            boost::asio::ip::multicast::join_group(
                boost::asio::ip::address::from_string(recv_addr).to_v4()
                ));
} 
```

无论网络管理器是否正在运行，它都会发生。并且不考虑IP地址设置。

当我手动设置 IP 地址连接到内部网络时，就会出现问题。在另一个网络上，IP 是从 DHCP 获得的，我观察到没有问题。

我一直都有`eth0`接口，这是唯一活跃的非本地接口。

我已经尝试指定监听接口，因为[它显示在这里](https://stackoverflow.com/questions/8675623/boostasioipmulticastjoin-group-does-not-work)，但是我得到了一个异常`"Invalid argument"`，并且 Boost.Asio 文档[没有说明任何关于设置接口的内容](http://www.boost.org/doc/libs/1_46_1/doc/html/boost_asio/reference/ip__multicast__join_group.html)。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-13T11:51:21.563

没有 DHCP 工作，就没有多播路由。

采用：

```
route add -net 224.0.0.0/4 dev eth0 
```

# java - 当我删除包名时，它从命令提示符中运行良好，但是当我包含包名时，它给了我错误

> ID：10137931
> 
> 赞同：0
> 
> 时间：2012-04-13T08:55:01.393
> 
> 标签：java, eclipse, command-prompt

我使用 Eclipse IDE 编写简单的程序

代码如下

```
package java_pr;

import java.io.Console;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class RegexTestHarness {

    /**
     * @param args
     */     
    public static void main(String[] args) {
        // TODO Auto-generated method stub
        Console console = System.console();
        if (console == null) {
            System.err.println("No Console !!");
            System.exit(1);
        }
        while (true) {
            Pattern pattern = Pattern.compile(console.readLine("%nEnter your regex: "));

            Matcher matcher = pattern.matcher("Enter input string to search: ");

            boolean found = false;

            while (matcher.find()) {
                console.format("I found the text" +
                        "\"%s\" starting at " +
                        "index %d and ending at index %d.%n",
                        matcher.group(),
                        matcher.start(),
                        matcher.end());
                found = true;
            }
            if (!found) {
                console.format("No match found.%n");
            }
        }
    }

} 
```

当我尝试从命令提示符运行此程序时，出现以下错误

> java.lang.ClassLoader.loadClass(Unknown Source) 处的 loadClass(Unknown Source) 找不到主类：RegexTestHarness。程序将会退出。

**在eclipse中运行良好**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T08:59:59.387

我猜这只是你从命令行运行的方式。

```
~/tmp# ls
java_pr
~/tmp# ls java_pr
RegexTestHarness.java RegexTestHarness.class
~/tmp# java -cp . java_pr.RegexTestHarness
Enter your regex: 
```

这应该适合您

# c# - 方法不起作用

> ID：10137933
> 
> 赞同：1
> 
> 时间：2012-04-13T08:55:02.943
> 
> 标签：c#, winforms

在我的主要形式中，我正在运行这个：

```
this.disableForm();
btnAbort.Enabled = true; 
```

disableForm 是我的程序中 Form 的扩展方法，定义如下：

```
public static void disableForm(this Form f)
{
    foreach (Control c in f.Controls)
    {
        f.Enabled = false;
    }

    f.Cursor = Cursors.WaitCursor;
} 
```

问题是下一个命令`btnAbort.Enabled = true;`没有做任何事情。

如果我将代码直接放在方法中而不是调用`disableForm()`. 为什么会这样？它与线程有关吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-13T08:59:10.507

这一行：

```
f.Enabled = false; 
```

应该

```
c.Enabled = false; 
```

问题是因为您不小心禁用了整个表单。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-13T09:02:58.487

```
public static void disableForm(this Form f)
    {
        foreach (Control c in f.Controls)
        {
            //f.Enabled = false;
              c.Enabled = false;
         }

        f.Cursor = Cursors.WaitCursor;
    } 
```

# html - 当 div 高度较小时，Firefox 滚动条不会出现

> ID：10137936
> 
> 赞同：1
> 
> 时间：2012-04-13T08:55:26.200
> 
> 标签：html, css

我在这里有一个例子：http: [//jsfiddle.net/d3E3M/](http://jsfiddle.net/d3E3M/)

我有 3 行（第 1 行、第 2 行和第 3 行）。您看不到第 2 行和第 3 行，因为高度太小。我希望看到一个滚动条，但除非我可以将高度增加到 35px

每当 div 的高度小于 35px 时，滚动条就会被移除。这是Firefox的错误吗？当它假设出现时，我能做些什么来获得一个滚动条

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T09:00:08.103

您的代码实际上正在运行。但是 35px 对于浏览器渲染滚动条来说太小了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-13T08:59:06.863

您至少需要几个像素才能显示滚动条

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T10:19:44.353

滚动条删除低于 35px 滚动条箭头图像具有一定宽度和高度的原因

如果您添加了一些高度以显示滚动条

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-13T09:03:54.280

你做得对，但我猜指定的高度太小，滚动条不可见，我猜滚动条的最小高度会生效。如果高度小于 35px，如果高度增加，第 2 行也开始可见。所以我想滚动条没有可用空间生效。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-11-05T17:02:56.223

这是15 年前 Firefox 中的一个[已知错误！！！](https://bugzilla.mozilla.org/show_bug.cgi?id=292284)请登录并关注它。也许这有帮助。

# c# - 将 DLL 合并到 EXE 中？

> ID：10137937
> 
> 赞同：69
> 
> 时间：2012-04-13T08:55:26.073
> 
> 标签：c#, dll, merge, ilmerge

我有两个 DLL 文件，我想将它们包含在我的 EXE 文件中，以便于分发它。我在这里和那里阅读了一些如何做到这一点，甚至在[这里](https://stackoverflow.com/questions/4631567/possible-to-merge-a-dll-into-a-net-exe)和[这里](https://stackoverflow.com/questions/7056486/how-to-use-ilmerge-to-merge-dlls-into-an-exe-file)找到了一个很好的线程，但这对我来说太复杂了，我需要关于如何做到这一点的真正基本说明。

我正在使用 Microsoft Visual C# Express 2010，请原谅我的“低标准”问题，但我觉得我比其他人的经验低一两个级别：-/ 如果有人能指出如何将这些 DDL 文件合并到我的 EXE 在一步一步的指南中，这**真的**很棒！

* * *

## 回答 #1

> 赞同：94
> 
> 时间：2012-04-13T09:08:11.523

对于 .NET 框架 4.5

```
ILMerge.exe /target:winexe /targetplatform:"v4,C:\Program Files\Reference Assemblies\Microsoft\Framework\.NETFramework\v4.0" /out:finish.exe insert1.exe insert2.dll 
```

[合并](http://microsoft.com/en-us/download/details.aspx?id=17630)

1.  打开 CMD 并 cd 到您的目录。比方说：`cd C:\test`
2.  插入上面的代码。
3.  `/out:finish.exe`替换`finish.exe`为您想要的任何文件名。
4.  在后面`/out:finish.exe`你必须给你想要合并的文件。

* * *

## 回答 #2

> 赞同：34
> 
> 时间：2016-11-24T12:15:57.420

使用[Costura.Fody](https://github.com/Fody/Costura)。

您只需要**安装[nuget](https://www.nuget.org/packages/Costura.Fody)然后进行构建**。最终的可执行文件将是**独立**的。

* * *

## 回答 #3

> 赞同：25
> 
> 时间：2013-02-21T23:48:23.703

下载[ilmerge](http://www.microsoft.com/en-us/download/details.aspx?id=17630%20%22IlMerge)和[ilmergre gui](http://ilmergegui.codeplex.com/)。使加入文件变得如此容易，我使用了这些并且效果很好

* * *

## 回答 #4

> 赞同：18
> 
> 时间：2012-04-13T09:31:24.613

将 DLL 引用到您的资源并使用 AssemblyResolve-Event 返回 Resource-DLL。

```
public partial class App : Application
{
    public App()
    {
        AppDomain.CurrentDomain.AssemblyResolve += (sender, args) =>
        {

            Assembly thisAssembly = Assembly.GetExecutingAssembly();

            //Get the Name of the AssemblyFile
            var name = args.Name.Substring(0, args.Name.IndexOf(',')) + ".dll";

            //Load form Embedded Resources - This Function is not called if the Assembly is in the Application Folder
            var resources = thisAssembly.GetManifestResourceNames().Where(s => s.EndsWith(name));
            if (resources.Count() > 0)
            {
                var resourceName = resources.First();
                using (Stream stream = thisAssembly.GetManifestResourceStream(resourceName))
                {
                    if (stream == null) return null;
                    var block = new byte[stream.Length];
                    stream.Read(block, 0, block.Length);
                    return Assembly.Load(block);
                }
            }
            return null;
        };
    }
} 
```

* * *

## 回答 #5

> 赞同：10
> 
> 时间：2012-04-13T09:10:37.163

下载

[合并](http://microsoft.com/download/en/details.aspx?id=17630)

称呼

```
ilmerge /target:winexe /out:c:\output.exe c:\input.exe C:\input.dll 
```

* * *

## 回答 #6

> 赞同：9
> 
> 时间：2012-04-13T09:15:51.127

1.  按照其他线程告诉您的方式[安装 ILMerge](http://microsoft.com/download/en/details.aspx?id=17630)

2.  然后进入安装文件夹，默认 `C:\Program Files (x86)\Microsoft\ILMerge`

3.  将您的 Dll 和 Exes 拖到该文件夹

4.  Shift-右键单击该文件夹并选择打开命令提示符

5.  写

    ```
    ilmerge myExe.exe Dll1.dll /out:merged.exe 
    ```

    请注意，您应该先编写您的 exe。

在那里你得到了合并的 exe。如果您要多次执行此操作，这可能不是最好的方法，但最简单的一次使用，我建议您将 Ilmerge 放在您的路径上。

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2013-10-03T13:24:14.677

```
static class Program
{
    /// <summary>
    /// The main entry point for the application.
    /// </summary>
    [STAThread]
    static void Main()
    {
    /* PUT THIS LINE IN YOUR CLASS PROGRAM MAIN() */           
        AppDomain.CurrentDomain.AssemblyResolve += (sender, arg) => { if (arg.Name.StartsWith("YOURDLL")) return Assembly.Load(Properties.Resources.YOURDLL); return null; }; 
        Application.EnableVisualStyles();
        Application.SetCompatibleTextRenderingDefault(false);
        Application.Run(new Form1());
    }
} 
```

首先将 DLL 添加到您的项目资源中。添加文件夹“资源”

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2019-12-28T11:43:50.547

**2019更新**（仅供参考）：

从**.NET Core 3.0开始，**[**开箱即可**](https://docs.microsoft.com/en-us/dotnet/core/whats-new/dotnet-core-3-0#single-file-executables)支持此功能。要利用单文件可执行文件发布，只需将以下行添加到项目配置文件中：

```
<PropertyGroup>
  <PublishSingleFile>true</PublishSingleFile>
</PropertyGroup> 
```

现在，`dotnet publish`应该在不使用任何外部工具的情况下生成单个 .exe 文件。

有关此功能的更多文档，请访问[https://github.com/dotnet/designs/blob/master/accepted/single-file/design.md](https://github.com/dotnet/designs/blob/master/accepted/single-file/design.md)。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2012-05-07T10:51:33.650

您也可以在带有 GUI 界面的 codeplex 中使用 [ilmergertool](http://ilmergertool.codeplex.com/releases)。

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2017-07-15T16:12:20.113

这是[官方文档](https://www.benjaminscabbia.co.uk/files/ILMerge.doc)。这也会在第 2 步自动下载。

下面是一个非常简单的方法，我已经成功地构建了我的应用程序`.NET framework 4.6.1`

1.  通过 gui 或命令行安装 ILMerge nuget 包：

    ```
    Install-Package ilmerge 
    ```

2.  确认您已下载它。现在安装（不确定此命令，但只需转到您的 nuget 包）： [![在此处输入图像描述](../Images/dfc5b933af0df25a2c49815750774534.png)](https://i.stack.imgur.com/L8XEf.png) 注意：如果您有多个解决方案，您可能只需要为您的一个解决方案安装它

3.  导航到您的解决方案文件夹，在包文件夹中，您应该会看到带有可执行文件的“ILMerge”：

    ```
    \FindMyiPhone-master\FindMyiPhone-master\packages\ILMerge.2.14.1208\tools 
    ```

    [![在此处输入图像描述](../Images/f939a312afdf66348a7b2537777dfbe7.png)](https://i.stack.imgur.com/JmTGR.png)

4.  现在这是可执行文件，您可以将其复制到您的`\bin\Debug`（或构建您的应用程序的任何地方），然后在命令行/powershell 中执行如下操作：

    ```
    ILMerge.exe myExecutable.exe myDll1.dll myDll2.dll myDlln.dll myNEWExecutable.exe 
    ```

您现在将拥有一个新的可执行文件，其中包含所有库！

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2012-04-13T09:11:04.630

我回答了一个类似的问题`VB.NET`。然而，转换应该不会太难。您将其`DLL's`嵌入到您的`Ressource`文件夹中，并在第一次使用 `AppDomain.CurrentDomain.AssemblyResolve`时触发该事件。

如果你想在开发过程中引用它，只需在`DLL`你的项目中添加一个正常的引用。

[将 DLL 嵌入到项目中](https://stackoverflow.com/a/10025506/1028323)

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2018-03-25T09:06:31.307

注意：如果您尝试加载非 ILOnly 程序集，则

```
Assembly.Load(block) 
```

将不起作用，并且将引发异常： [更多详细信息](https://stackoverflow.com/questions/5005409/exception-with-resolving-assemblies-attempt-to-load-an-unverifiable-executable)

我通过创建一个临时文件并使用

```
Assembly.LoadFile(dllFile) 
```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2018-05-03T13:53:07.383

**我发现以下解决方案是 Stpes：-**

1.  下载 ILMerge.msi 并将其安装在您的计算机上。
2.  打开命令提示符
3.  键入 cd C:\Program Files (x86)\Microsoft\ILMerge 按下 Enter
4.  C:\Program Files (x86)\Microsoft\ILMerge>ILMerge.exe /target:winexe /targetplatform:"v4,C:\Windows\Microsoft.NET\Framework\v4.0.30319" /out:NewExeName.exe SourceExeName.exe DLLName.dll

**对于多个DLL： -**

C:\Program Files (x86)\Microsoft\ILMerge>ILMerge.exe /target:winexe /targetplatform:"v4,C:\Windows\Microsoft.NET\Framework\v4.0.30319" /out:NewExeName.exe SourceExeName.exe DllName1.dll DllName2.dll DllName3.dll

* * *

## 回答 #14

> 赞同：-2
> 
> 时间：2017-02-02T10:52:34.520

该命令应该是以下脚本：

```
ilmerge myExe.exe Dll1.dll /target:winexe /targetplatform:"v4,c:\Program Files (x86)\Reference Assemblies\Microsoft\Framework\.NETFramework\v4.0\" /out:merged.exe /out:merged.exe 
```

# android - Android中的短信内容提供商？

> ID：10137938
> 
> 赞同：0
> 
> 时间：2012-04-13T08:55:28.443
> 
> 标签：android, android-contentprovider

SMS 内容提供程序中的时间戳和日期列有什么区别？谁能告诉我如何根据指定日期获取消息列表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T09:19:55.357

这里有关于列的详细信息：（但是，它确实取决于 URI，您将用于查询） [http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android /2.3.7_r1/android/provider/Telephony.java#Telephony.TextBasedSmsColumns](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.3.7_r1/android/provider/Telephony.java#Telephony.TextBasedSmsColumns)

```
The date the message was sent
Type: INTEGER (long)
public static final String DATE = "date"; 
```

获取给定日期消息的代码（您需要 READ_SMS 权限）：

```
final Cursor myMessages = context.getContentResolver().query(Uri.parse("content://sms"), new String[] { "address", "_id", "body", "type", "date", "read", "thread_id" }, "date > your_timestamp", null, "date ASC"); 
```

# documentation - 类索引表列 doxygen

> ID：10137942
> 
> 赞同：3
> 
> 时间：2012-04-13T08:55:43.477
> 
> 标签：documentation, doxygen

我正在使用 Doxygen 创建我的代码文档。问题是，有相当多的类，Doxygen 生成一个可以垂直和水平滚动的类索引。我的意思是，该 HTML 表中有大量列。如何将列数更改为 1 或 2，这将使类索引页面只能垂直滚动？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T09:17:14.960

请参阅[字母索引](http://www.doxygen.nl/manual/config.html#alphabetical_index)配置文件选项。具体来说，请参阅`COLS_IN_ALPHA_INDEX`选项。来自 doxygen 手册：

> 如果启用了字母索引...那么该`COLS_IN_ALPHA_INDEX`标签可用于指定拆分此列表的列数（可以是 [1..20] 范围内的数字）

# python - 在python中使用正则表达式时什么是单词边界

> ID：10137943
> 
> 赞同：2
> 
> 时间：2012-04-13T08:55:46.203
> 
> 标签：python

Python 正则表达式中的*单词边界是什么？*有人可以在这些例子中解释一下吗：

### 示例 1

```
>>> x = '456one two three123'
>>> y=re.search(r"\btwo\b",x)
>>> y
<_sre.SRE_Match object at 0x2aaaaab47d30> 
```

### 示例 2

```
>>> y=re.search(r"two",x)
>>> y
<_sre.SRE_Match object at 0x2aaaaab47d30> 
```

### 示例 3

```
>>> ip="192.168.254.1234"
>>> if re.search(r"\b\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\b",ip):
...    print ip
... 
```

### 示例 4

```
>>> ip="192.168.254.1234"
>>> if re.search(r"\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}",ip):
...    print ip
192.168.254.1234 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-04-13T09:13:04.743

“单词边界”的意思正是它所说的：单词的[边界](https://www.google.ca/search?q=define%3Aboundary)，即开头或结尾。

它不匹配输入中的任何实际字符，但仅当当前匹配位置位于单词的开头或结尾时才会匹配。

这很重要，因为与仅匹配空格不同，它还将匹配整个输入的开头或结尾。

所以`'\bfoo'`会匹配`'foobar'`and `'foo bar'`，`'bar foo'`但不是`'barfoo'`。

`'foo\b'`将匹配`'foo bar'`and `'bar foo'`，`'barfoo'`但不匹配`'foobar'`。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-04-13T09:12:26.093

尝试这个：

```
ip="192.168.254.1234"
res = re.findall("\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}",ip)
print(res) 
```

请注意我是如何**正确**转义这些点的。找到 ip 是因为正则表达式不关心最后 1-3 位数字之后的内容。

现在：

```
ip="192.168.254.1234"
res = re.findall("\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\b",ip)
print(res) 
```

这不起作用，因为最后 1-3 位数字没有在边界处结束。

# testing - 我可以将 jmeter 测试导出为脚本吗？

> ID：10137944
> 
> 赞同：0
> 
> 时间：2012-04-13T08:55:46.490
> 
> 标签：testing, automation, webpage, jmeter

我正在尝试为前端和后端服务构建测试框架。我想做的一项测试是某个网页是否加载良好。我在 jmeter 中做了一个简单的测试，现在我的问题是：我可以导出一个脚本，在命令上运行这个测试，而不必手动打开 jmeter？

这个想法是我将能够访问网页并从那里查看结果。但我也希望能够在我想远程运行测试时（显然后端服务器将触发 http 请求的脚本）..

那么可以导出一个jmeter测试脚本吗？如果没有，是否有其他工具可以做到这一点？

提前致谢！

编辑：

好的，我想我找到了我想要的东西..如果其他人需要这样的东西，请查看这个链接： http: [//www.programmerplanet.org/pages/projects/jmeter-ant-task.php](http://www.programmerplanet.org/pages/projects/jmeter-ant-task.php)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T11:22:57.860

是的，一旦您保存了测试，您就可以通过多种不同的方式启动 JMeter——从 Ant、Maven、通过 shell 脚本、从持续集成服务器等等。

# python - 如何在源代码预览中压缩/去除多个空行

> ID：10137948
> 
> 赞同：1
> 
> 时间：2012-04-13T08:56:14.500
> 
> 标签：python, doxygen

我的 doxygen 文档显示了每个类成员函数的源代码。我的源代码有时在函数之间包含多个空行。

如何让 doxygen*压缩*或*剥离*这些多条空白行？（而不是在预览中显示它们）

### 答案（从下方）

下面的答案为我指明了正确的方向：[INPUT_FILTER（doxygen 文档）](http://www.doxygen.nl/manual/config.html#cfg_input_filter)

> INPUT_FILTER 标记可用于指定 doxygen 应调用的程序来过滤每个输入文件。Doxygen 将通过执行（通过 popen()）命令来调用过滤程序：

```
<filter> <input-file> 
```

> 其中 是 INPUT_FILTER 标记的值， 是输入文件的名称。然后 Doxygen 将使用过滤器程序写入标准输出的输出。

我很快写了一个执行“压缩”的python脚本（我在Win7上）：

```
import re
import sys

if len(sys.argv) != 2:
  exit()

with open(sys.argv[1]) as f:
  original = f.read()
  compact = re.sub('\n\n\n+', '\n\n', original)
  print(compact) 
```

然后我将它添加到过滤器中：

```
INPUT_FILTER = "python ../DoxyCompact.py" 
```

这也为在 doxygen 读取源之前修改源提供了很多可能性！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-13T09:31:42.770

我能想到的唯一方法是在 doxygen 使用文档中的源代码之前定义一些预处理器来去除多个空行。要定义对源文件执行的操作（或过滤器），请使用[`INPUT_FILTER`](http://www.doxygen.nl/manual/config.html#cfg_input_filter)配置文件选项。

**警告：**以下内容未经测试。

来自问题[如何在 bash 中用一个空行替换多个空行？](https://stackoverflow.com/questions/922449/how-can-i-replace-mutliple-empty-lines-with-a-single-empty-line-in-bash)似乎可以使用

```
sed /^$/d 
```

去除多个空行，所以在你的配置文件中，设置

```
INPUT_FILTER = sed /^$/d 
```

# inheritance - XJC Java 类生成 非无界元素

> ID：10137968
> 
> 赞同：2
> 
> 时间：2012-04-13T08:57:53.797
> 
> 标签：inheritance, xsd, jaxb, xjc

在昨天这个类似的[问题](https://stackoverflow.com/q/10125966/602856)之后，我还有另一个关于 XML 模式和 XJC 绑定中的继承的问题。

给定以下选择元素，使 Book 和 Journal 具有共同的父类型 ( `Publication`)。

```
<xsd:choice >
    <xsd:element name="Book" type="Book" />
    <xsd:element name="Journal" type="Journal" />
</xsd:choice> 
```

生成的 Java 类属性如下：

```
private Book book;
private Journal journal; 
```

因为`<xsd:choice>`意味着可能有一个`Book`或一个`Journal`我更喜欢

```
private Publication bookOrJournal; 
```

如果我通过`maxOccurs="unbounded"`在选择元素中设置来获得出版物列表，它将以这种方式工作，我会得到

```
private List<Publication> bookOrJournal; 
```

如何使用非收藏属性来实现这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-13T13:19:35.623

您可以使用以下[XJC 绑定](http://onjava.com/pub/a/onjava/2003/12/10/jaxb.html?page=2)来实现此目的。

```
<xs:complexType name="myClass">
  <xs:sequence>
    <xs:choice>
      <xs:annotation>
        <xs:appinfo>
          <jaxb:property name="bookOrJournal"/>
        </xs:appinfo>
      </xs:annotation>
      <xs:element name="Book" type="Book"/>
      <xs:element name="Journal" type="Journal"/>
    </xs:choice>
  </xs:sequence>
</xs:complexType> 
```

执行后`xjc <XSD File> -extension`，这为我生成了以下 Java 类。

```
@XmlElements({
    @XmlElement(name = "Book", type = Book.class),
    @XmlElement(name = "Journal", type = Journal.class)
})
protected Publication bookOrJournal; 
```

为了使用 XJC 绑定，我在 XSD 的顶部添加了以下内容。

```
<xs:schema version="1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema"
  xmlns:jaxb="http://java.sun.com/xml/ns/jaxb"
  xmlns:xjc="http://java.sun.com/xml/ns/jaxb/xjc"
  jaxb:version="1.0" jaxb:extensionBindingPrefixes="xjc"> 
```

# asp.net - Microsoft Jet 数据库引擎找不到对象“Sheet1$”

> ID：10137970
> 
> 赞同：12
> 
> 时间：2012-04-13T08:57:58.353
> 
> 标签：asp.net, oledb, xls

我正在尝试读取一个名为的电子表格文件`Book1.xls`，其中包含一个名为`Sheet1`

但是我收到以下错误：

> Microsoft Jet 数据库引擎找不到对象“Sheet1$”。确保对象存在并且正确拼写其名称和路径名。

这是我正在使用的代码片段：

```
Dim dt As DataTable = New DataTable()
Select Case fileExt
    Case ".csv"
        Dim reader As New CsvReader
        dt = reader.GetDataTable(filePath)
    Case ".xls", ".xlsx"

        Dim oleDbConnStr As String
        Select Case fileExt
            Case ".xls"
                oleDbConnStr = "Provider=Microsoft.Jet.OLEDB.4.0;Data Source=" & filePath & ";Extended Properties=""Excel 8.0;HDR=Yes;IMEX=2"""
            Case ".xlsx"
                oleDbConnStr = "Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" & filePath & ";Extended Properties=""Excel 12.0;HDR=Yes;IMEX=2"""
        End Select

        Using oleDbConn As OleDbConnection = New OleDbConnection(oleDbConnStr)
            oleDbConn.Open()

            Dim oleDbCmd As New OleDbCommand("SELECT * FROM [Sheet1$]", oleDbConn)
            Dim oleDbDa As New OleDbDataAdapter(oleDbCmd)
            oleDbDa.Fill(dt)

            oleDbConn.Close()
        End Using

End Select 
```

我不明白为什么代码找不到我的工作表。为什么会这样，我该如何解决？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-04-13T11:05:48.403

我发现了问题。

电子表格似乎被保存到错误的位置，因此`filepath`没有指向存在的文件。

起初我没有检查这个，因为我认为会出现不同的错误消息。诸如“找不到Book1.xls”之类的东西。但是，如果它不存在，那么消息只会声明它找不到工作表。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2017-01-31T16:56:55.297

如果文件名有额外的点字符，如下所示：

```
sample.data.csv 
```

下一个选择语句：

```
SELECT * FROM [sample.data.csv] 
```

带连接字符串：

```
Provider=Microsoft.Jet.OLEDB.4.0;Data Source="C:\Data\"; Extended Properties="text;HDR=Yes;Format=Delimited;"; 
```

将失败，但有异常：

```
Additional information: The Microsoft Jet database engine could not find the object 'sample.data.csv'.  Make sure the object exists and that you spell its name and the path name correctly. 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-03-16T15:24:42.223

另外 - 确保您没有在 Excel 中打开文件。如果文件在其他地方打开，您将无法读取该文件。我有同样的错误，并意识到我在 Excel 中打开了文件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-13T09:06:28.860

不确定，我有一些运行良好的类似代码（C#）...

也许你能看出区别？

```
string connectionString = string.Format(Thread.CurrentThread.CurrentCulture, "Provider=Microsoft.ACE.OLEDB.12.0;Data Source={0};Extended Properties='Excel 12.0;HDR=YES;'", excelFilePath);
DbProviderFactory factory = DbProviderFactories.GetFactory("System.Data.OleDb");
using (DbConnection connection = factory.CreateConnection())
{
    connection.ConnectionString = connectionString;
    using (DbCommand command = connection.CreateCommand())
    {
        command.CommandText = @"SELECT [File], [ItemName], [ItemDescription], [Photographer name], [Date], [Environment site] FROM [Metadata$]";
        connection.Open();
        using (DbDataReader dr = command.ExecuteReader())
        {
            if (dr.HasRows)
            {
                while (dr.Read())
                {
                    .......
                }
            }
        }
        connection.Close();
    }
} 
```

尝试重命名您的工作表；或显式添加列；或检查它是否区分大小写。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-11-28T06:02:04.667

更改您的 Excel 文件位置，此错误将得到解决。可能会将您的文件放在您的源文件所在的同一文件夹中

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-02-06T02:15:09.103

通过此链接编码的 vb 的最佳解决方案，所有功劳归于这些人- [http://www.vbforums.com/showthread.php?507099-data-from-excel-sheet-to-datagrid-(vb)](http://www.vbforums.com/showthread.php?507099-data-from-excel-sheet-to-datagrid-(vb))

C#我预期的解决方案如下

```
string connString = "Driver={Microsoft Excel Driver (*.xls)};READONLY=FALSE;DriverId=790;Dbq=" + "C:\\Users\\BHARAVI\\Documents\\visual studio 2013\\Projects\\ERP\\ERPAutomation\\Assets\\Data\\Data.xls";

OdbcConnection conn = new OdbcConnection(connString);

conn.ConnectionTimeout = 500;
OdbcCommand CMD = new OdbcCommand("SELECT * FROM [Sheet1$]", conn);
OdbcDataAdapter myDataAdaptor = new OdbcDataAdapter(CMD);
DataSet ds = new DataSet();
myDataAdaptor.Fill(ds ,"Sheet1");
DataTable dt = ds.Tables[0];
foreach (DataRow dr in dt.Rows)
{
    loginId = dr["LoginId"].ToString();
    encryptedPassword = dr["PWD"].ToString();
    URL = dr["URL"].ToString();
} 
```

# javascript - 从下划线模板到 mustache.js

> ID：10137978
> 
> 赞同：5
> 
> 时间：2012-04-13T08:58:42.537
> 
> 标签：javascript, underscore.js, mustache

我想从 更改`underscore template`为`mustache.js`。

由于在 mustache.js 中没有`if statements`我如何更改这段代码才能使用`mustache.js`？

```
<% if (done) { %>
<span class="todo-clear">
    <a href="#">
    Clear <span class="number-done"><%= done %></span>
    completed <span class="word-done"><%= done === 1 ? 'item' : 'items' %></span>
    </a>
</span>
<% } %> 
```

我的解决方案是：

```
 {{#total}}
        <span class="todo-count">{{ total }}
          <span class="number">{{ remaining }}</span>
          <span class="word"><%= remaining == 1 ? 'item' : 'items' %></span> left.-->
        </span>
          <span class="hint">
          Drag tasks from one list into another and vice versa.
          </span>
 {{/total}} 
```

它适用于总变量，因为它可能是 0 或更多，但我不知道在剩余变量（可能是 1 或更多）上修复它的最佳方法是什么。

```
<span class="word"><%= remaining == 1 ? 'item' : 'items' %></span> left.</span> 
```

它应该是这样的：

```
<span class="word">
    {{#remaining}} 'items'  {{/remaining}} 
    {{^remaining}} 'item'  {{/remaining}}
</span> 
```

它不起作用，因为剩余可能是 1 或更多。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T13:00:02.467

在你看来，你可以做这样的事情：

```
Mustache.render(yourTemplate, {
     remaining: items.length > 1 ? true : false
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-14T07:52:16.253

如果您只是迁移到一个新的模板框架，我建议您使用[handlebars.js](http://handlebarsjs.com/)。这支持 if 语句，如下所示：

```
{{#if total}}
  <span>something</span>
{{else}}
  <span>something else</span>
{{/if}} 
```

# c# - 筛选 DataGridView

> ID：10137983
> 
> 赞同：3
> 
> 时间：2012-04-13T08:58:55.360
> 
> 标签：c#, .net-4.0, ado.net, datagridview, rowfilter

我正在尝试过滤 DataGridView，DataSource 是一个 DataSet。

所以我使用以下行来过滤网格：

```
DataTable dt = (dataGridViewMain.DataSource as DataSet).Tables[0];
dt.DefaultView.RowFilter = "CustomerName = 'My Customer'"; 
```

但是网格没有被过滤，所有行仍然显示。我错过了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T09:07:38.187

然后你需要重新绑定网格。我建议您调用函数数据获取数据集，然后应用行过滤器：

```
var view=GetDataSet().Tables[0].DefaultView
view.RowFilter = "CustomerName = 'My Customer'";
dataGridViewMain.DataSource=view;
dataGridViewMain.DataBind(); 
```

否则，您可能必须这样做：

```
var view=(dataGridViewMain.DataSource as DataSet).Tables[0].DefaultView
view.RowFilter = "CustomerName = 'My Customer'";
dataGridViewMain.DataSource=view;
dataGridViewMain.DataBind(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-04T19:18:42.653

绑定控件时，是将它们绑定到 DefaultView 还是 DataTable？绑定到 DataTable 将永远不会显示您对 DefaultView 拥有的 RowFilter。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-13T09:07:42.710

尝试将行状态过滤器设置为 DataViewRowState.ModifiedCurrent。同时接受数据表的更改并重新绑定数据网格。

```
(dataGridViewMain.DataSource as DataSet).Tables[0].AcceptChanges();
dataGridViewMain.DataBind(); 
```

# forms - 格式化 Symfony2 表单中的日期时间字段以显示完整的月份

> ID：10137984
> 
> 赞同：2
> 
> 时间：2012-04-13T08:58:55.917
> 
> 标签：forms, datetime, symfony, rendering

我在 Symfony2 中使用 formType，其中一个字段是 DateTime 类型。我想将月份显示为完整的月份（最好以英语以外的语言显示）。

如果我的字段类型是生日，因此没有时间，那就很容易了：

```
$builder->add('appointment', 'birthday', array
(
  'format' => 'dd - MMMM - yyyy',
  'widget' => 'choice'
  'required'  => true
)); 
```

但是该字段现在定义为：

```
$builder->add('appointment', 'datetime', array
(
  'required'  => true
  // ????
)); 
```

如何使用 5 个下拉列表（日、月、年、小时、分钟）呈现此字段类型，其中月份为全文项？以及如何用另一种语言定义带有月份名称的数组？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-05T15:47:33.657

我建议您通过选择生日类型作为父项来创建自己的字段类型。您可以按照这些简单的[步骤](http://symfony.com/doc/master/cookbook/form/create_custom_field_type.html)来执行此操作。

* * *

```
use Symfony\Component\Form\AbstractType;
use Symfony\Component\OptionsResolver\OptionsResolverInterface;

class AppointmentType extends AbstractType{

    //...

    public function getParent()
    {
        return 'birthday';
    } 
```

# sql - 如何解释 Oracle 的 CLOB 类型的 ALL_TAB_COLS.DATA_LENGTH = 4000？

> ID：10137992
> 
> 赞同：1
> 
> 时间：2012-04-13T08:59:33.437
> 
> 标签：sql, oracle, types, clob

当我创建一个包含 a 的表时`CLOB`，该`CLOB`列报告为`DATA_LENGTH`4000：

```
create table test (
  data clob
);

-- Returns 4000
select data_length from all_tab_cols
where table_name = 'TEST'; 
```

我该如何解释呢？`VARCHAR2`考虑到限制也是 4000 ，这是一些向后兼容的调整吗？或者这是否表明我只能插入/更新长度为 4000 的字符串文字？这种行为是否[`SYS.ALL_TAB_COLS`](http://docs.oracle.com/cd/B28359_01/server.111/b28320/statviews_2090.htm)记录在某处？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-13T09:11:21.153

最多可以在表空间中在线存储 4000 个字节。如果 CLOB 的长度超过 4000 字节，则必须通过特殊功能将其存储在 LOB 存储区中/从 LOB 存储区中读取。

也可以看看：

*   [http://www.dba-oracle.com/t_blob.htm](http://www.dba-oracle.com/t_blob.htm)
*   [http://www.dba-oracle.com/t_table_blob_lob_storage.htm](http://www.dba-oracle.com/t_table_blob_lob_storage.htm)