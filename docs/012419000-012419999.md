# StackOverflow 问答 12419000-12419999

# c# - 解析asp.net页面时出错

> ID：12419000
> 
> 赞同：0
> 
> 时间：2012-09-14T06:07:45.537
> 
> 标签：c#, asp.net, html

Sys.WebForms.PageRequestManagerParserErrorException：无法解析从服务器接收到的消息。此错误的常见原因是通过调用 Response.Write()、响应过滤器、HttpModules 或启用服务器跟踪修改响应时详细信息：错误解析附近`<HTML><HEAD><TITLE><`

请帮帮我，这让我很烦......

```
<body>
    <form id="form1" runat="server">
    <aspAtlas:ScriptManager ID="MyScriptManager" runat="server" AllowCustomErrorsRedirect="true">
    </aspAtlas:ScriptManager>
    <div class="headerborder" id="hd_SubmissionGuidelines">
        <aspAtlas:UpdatePanel ID="UpdatePanel1" runat="server">
            <ContentTemplate>
                <table width="100%" border="0" cellspacing="0" cellpadding="0" align="center">
                    <tr>
                        <td class="t_head">

                            <asp:HiddenField ID="hfdSizeAttached" runat="server" />
                            <asp:HiddenField ID="hfdConfidentialDoc" runat="server" />
                            <asp:HiddenField ID="hfdJustificationDoc" runat="server" />
                            <asp:HiddenField ID="hfdRedactedVersionDoc" runat="server" />
                            <asp:Button ID="btnHiddenAttachDoc" runat="server" Style="visibility: hidden" OnClick="btnHiddenAttachDoc_Click" />
                            <asp:HiddenField ID="hdnDocsAttached" runat="server"></asp:HiddenField>
                        </td>
                    </tr>
                </table>
            </ContentTemplate>
            <Triggers>
                <aspAtlas:AsyncPostBackTrigger ControlID="btnAgree" EventName="Click" />
                <aspAtlas:PostBackTrigger ControlID="btnSubmit" />
                <aspAtlas:AsyncPostBackTrigger ControlID="btnBack" EventName="Click" />
                <aspAtlas:AsyncPostBackTrigger ControlID="btnHiddenAttachDoc" EventName="Click" />
            </Triggers>
        </aspAtlas:UpdatePanel>
    </div>
    <aspAtlas:UpdatePanel ID="UpdPagePanel" runat="server">
        <ContentTemplate>
            <asp:Panel ID="pnlSubmissionGuidelines" runat="server">
                <div class="div_main" id="hd_MainGuidelines">
                    <div>
                        <table width="100%" border="0" cellspacing="0" cellpadding="0" align="center">
                            <tr>
                                <td class="t_guidelines_head">
                                    Doc Submit
                                </td>
                            </tr>
                            <tr>
                                <td class="t_guidelines_subhead">
                                    Definitions:
                                </td>
                            </tr>
                            <tr>
                                <td class="t_guidelines_text">
                                    Dummy lines
                                    <br />
                                    <br />
                                   Dummy lines
                                    <br />
                                    <br />
                                    dummy lines
                                    <br />
                                    <br />
                                   dummy lines
                                </td>
                            </tr>
                            <tr>
                                <td class="t_guidelines_subhead">
                                    dummy lines

                                </td>
                            </tr>
                            <tr>
                                <td class="t_guidelines_text">
                                    <font style="text-decoration: underline">Process</font>
                                    <br />
                                    <br />
                                    dummy lines
                                    <br />
                                    <br />
                                   dummy lines
                                    <br />
                                   dummy lines
                                    <br />
                                    <br />
                                    <font class="t_guidelines_ul">Trade Secret </font>
                                    <br />
                                    <font class="t_guidelines_ul">Sample </font><br />
                                    <font class="t_guidelines_ul">Sample text</font>
                                    <br />
                                    <br />
                                    dummy lines
                                                                       <br />
                                    <br />
                                    <font style="text-decoration: underline">Sample text</font>
                                    <br />
                                    <br />
                                     dummy lines
                                    <br />
                                    <br />
                                    <font class="t_guidelines_ul">Sample  ddffvdffvdfgvfv
                                        simple text; </font>
                                    <br />
                                    <font class="t_guidelines_ul">simple text; </font>
                                    <br />
                                    <font class="t_guidelines_ul">simple text; </font>
                                    <br />
                                    <font class="t_guidelines_ul">simple text;</font><br />
                                    <font class="t_guidelines_ul">simple text; </font>
                                    <br />
                                    <font class="t_guidelines_ul">and</font><br />
                                    <font class="t_guidelines_ul">simple text.</font><br />
                                    <br />
                                    <br />
                                    <font style="text-decoration: underline">simple text</font>
                                    <br />
                                    <br />
                                    simple text
                                    <br />
                                    <br />
                                </td>
                            </tr>
                            <tr>
                                <td align="center">
                                    <asp:Button ID="btnAgree" runat="server" CssClass="top_button" OnClick="btnAgree_Click"
                                        Text="I Agree" />
                                    <asp:Button ID="btnDisagree" runat="server" CssClass="top_button" Text="I Disagree"
                                        OnClientClick="javascript:window.close();" />
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </asp:Panel>
            <asp:Panel ID="pnlConfidentialDocuments" runat="server">
                <table width="99%" cellspacing="0" style="border-left: 1px solid #C3C3C3; border-right: 1px solid #C3C3C3;
                    border-bottom: 1px solid #C3C3C3;" cellpadding="0" align="center" id="Table1">
                    <tr class="headerborder">
                        <td class="t_head">
                            <span id="Conf_Docs_Close" style="cursor: hand" onclick="hideArea('Conf_Docs','Conf_Docs_Close','Conf_Docs_Open')">
                                -</span><span id="Conf_Docs_Open" onclick="showArea('Conf_Docs','Conf_Docs_Open','Conf_Docs_Close')"
                                    style="cursor: hand; display: none">+</span> Add Confidential Documents
                        </td>
                    </tr>
                    <tr id="Conf_Docs">
                        <td>
                            <table width="100%" border="0" cellspacing="0" cellpadding="0" align="left" id="Table2">
                                <tr valign="top">
                                    <td class="astrik">
                                    </td>
                                    <td class="form_field">
                                        <img style="vertical-align: top" alt="Required Field" src="../Images/MandatoryField.gif" />
                                        <asp:Label ID="LblDocType" runat="server"><label for='<%= ddlDocumentType.ClientID %>'>Document Type</label></asp:Label>
                                    </td>
                                    <td class="form_element">
                                        <asp:DropDownList ID="ddlDocumentType" runat="server" CssClass="form_select">
                                        </asp:DropDownList>
                                        <a id="lnkDocumentClassificationHelp" runat="server" onclick="window.open('http://google.com');return false;">
                                            <img src="<% =Request.ApplicationPath %>/images/help_icon.gif" alt='Document Classification Help'
                                                width='16' height='16' /></a>
                                    </td>
                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="astrik">
                                    </td>
                                    <td class="form_field" style="vertical-align: top">
                                        <img style="vertical-align: top" alt="Required Field" src="../Images/MandatoryField.gif" />
                                        <asp:Label ID="LblDocTitle" runat="server"><label for='<%= txtDocTitle.ClientID %>'>Document Title</label></asp:Label>
                                    </td>
                                    <td class="form_element" colspan="2">
                                        <asp:TextBox ID="txtDocTitle" runat="server" CssClass="textarea_Conf" TextMode="MultiLine"
                                            MaxLength="2000" Rows="10" />
                                        <br />
                                        <asp:Label ID="lblDocTitleLength" runat="server" CssClass="form_label_textareaLength"
                                            Text="Characters remaining: 2000"></asp:Label>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="4">
                                        <table width="92%" border="0" cellspacing="0" cellpadding="0" align="left" id="Table3">
                                            <tr>
                                                <td class="form_element" align="right">
                                                    <asp:Button ID="btnAttachDocs" runat="server" CssClass="top_button" Text="Attach Document"
                                                        OnClientClick="javascript:return OpenAttachDocPopup()" />
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr class="bottomborder">
                        <td class="toptr">
                            <asp:Button ID="btnSubmit" Text="Done" CssClass="top_button" runat="server" OnClientClick="javascript:return Validate();"
                                OnClick="btnSubmit_Click" />
                            <asp:Button ID="btnBack" Text="Back" CssClass="top_button" runat="server" OnClick="btnBack_Click" />
                        </td>
                    </tr>
                </table>
            </asp:Panel>
            <asp:Panel ID="pnlConfidentialDocsGrid" runat="server" Visible="false">
                <table width="100%" border="0" cellspacing="0" cellpadding="0" align="center">
                    <tr>
                        <td class="t_head">
                            Attached Documents
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <asp:DataGrid ID="dgdDocuments" runat="server" Width="100%" OnDeleteCommand="dgdDocuments_Delete"
                                DataKeyField="DocGuidName" AutoGenerateColumns="false" OnItemDataBound="dgdDocuments_ItemDataBound">
                                <HeaderStyle CssClass="t_grid_subheadin" />
                                <ItemStyle CssClass="t_grid_datain" />
                                <AlternatingItemStyle CssClass="t_grid_datainalt" />
                                <Columns>
                                    <asp:TemplateColumn ItemStyle-Width="3%" ItemStyle-HorizontalAlign="Center">
                                        <ItemTemplate>
                                            <asp:Image ID="ImgSecurity" runat="server" ToolTip="Confidential" ImageUrl='<%# DataBinder.Eval(Container.DataItem, "SecurityImageDisplay") %>' />
                                            <asp:Label ID="HiddenSecurity" runat="server" Visible="false" Text='<%# DataBinder.Eval(Container.DataItem, "SecurityImageDisplay") %>' />
                                            <asp:HiddenField ID="hfdIsJustification" runat="server" Value='<%# DataBinder.Eval(Container.DataItem, "IsJustificationDoc").ToString() %>' />
                                        </ItemTemplate>
                                    </asp:TemplateColumn>
                                    <asp:TemplateColumn ItemStyle-Width="3" ItemStyle-HorizontalAlign="Center">
                                        <ItemTemplate>
                                            <asp:Image ID="ImgMimeType" runat="server" ImageUrl='<%# DataBinder.Eval(Container.DataItem, "MimeTypeImagePath") %>' />
                                        </ItemTemplate>
                                    </asp:TemplateColumn>
                                    <asp:TemplateColumn HeaderText="Document Type" ItemStyle-Width="18%">
                                        <ItemTemplate>
                                            <asp:Label ID="LblType" runat="server" Text='<%# ((WSMatter.IDNameEntity)DataBinder.Eval(Container.DataItem, "DocType")).Name %>'></asp:Label>
                                        </ItemTemplate>
                                    </asp:TemplateColumn>
                                    <asp:TemplateColumn HeaderText="Document Title" ItemStyle-Width="50%">
                                        <ItemTemplate>
                                            <asp:Label ID="LblTitle" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "DocTitle")  %>'></asp:Label>
                                        </ItemTemplate>
                                    </asp:TemplateColumn>
                                    <asp:TemplateColumn HeaderText="File Name" ItemStyle-Width="16%">
                                        <ItemTemplate>
                                            <asp:Label ID="LblName" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "DocName") %>'></asp:Label>
                                        </ItemTemplate>
                                    </asp:TemplateColumn>
                                    <asp:TemplateColumn HeaderText="Size" ItemStyle-Width="10%" ItemStyle-HorizontalAlign="Right">
                                        <ItemTemplate>
                                            <asp:Label ID="LblSize" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "SizetoDisplay") %>'></asp:Label>
                                        </ItemTemplate>
                                    </asp:TemplateColumn>
                                    <asp:TemplateColumn ItemStyle-Width="3%" ItemStyle-HorizontalAlign="Center">
                                        <ItemTemplate>
                                            <asp:LinkButton ID="LnkDelete" runat="server" CommandName="Delete"><img src="../Images/nok.gif" alt="Delete"/></asp:LinkButton>
                                        </ItemTemplate>
                                    </asp:TemplateColumn>
                                </Columns>
                            </asp:DataGrid>
                            <asp:HiddenField ID="HdnTotalSizeAttached" runat="server" />
                        </td>
                    </tr>
                </table>
            </asp:Panel>
        </ContentTemplate>
        <Triggers>
            <aspAtlas:AsyncPostBackTrigger ControlID="btnAgree" EventName="Click" />
            <aspAtlas:PostBackTrigger ControlID="btnSubmit" />
            <aspAtlas:AsyncPostBackTrigger ControlID="btnBack" EventName="Click" />
            <aspAtlas:AsyncPostBackTrigger ControlID="btnHiddenAttachDoc" EventName="Click" />
        </Triggers>
    </aspAtlas:UpdatePanel>
    </form>
</body> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:03:58.867

根据您的代码，您似乎没有使用母版页，并且您没有向我们展示您的标签，所以我认为以下内容可以帮助您。

通常在 asp.net webforms 中，`<Head>`标签属性为 **runat="server"**，
所以你可以试试`<head runat="server">`

注意：我写了它作为答案，因为对答案有很多评论，它提醒版主。所以更好的新评论会在答案之后得到。

编辑：

在处理对异步回发的响应时，服务器上会发生此错误。有一些链接可以解决此问题，请检查它们是否有帮助：

*   [http://weblogs.asp.net/leftslipper/archive/2007/02/26/sys-webforms-pagerequestmanagerparsererrorexception-what-it-is-and-how-to-avoid-it.aspx](http://weblogs.asp.net/leftslipper/archive/2007/02/26/sys-webforms-pagerequestmanagerparsererrorexception-what-it-is-and-how-to-avoid-it.aspx)
*   [http://forums.asp.net/t/1038252.aspx/1/10](http://forums.asp.net/t/1038252.aspx/1/10)
*   [ASP.NET Ajax 错误：Sys.WebForms.PageRequestManagerParserErrorException](https://stackoverflow.com/questions/290121/asp-net-ajax-error-sys-webforms-pagerequestmanagerparsererrorexception)

# javascript - 阻止已执行的 js 函数执行

> ID：12419002
> 
> 赞同：0
> 
> 时间：2012-09-14T06:07:53.140
> 
> 标签：javascript, jquery

如果 sendMessageAppendData() 已在当前 js 会话中执行，我将如何防止 sendMessageAppendData() 被添加到“newMessageSpace”ID。

```
function sendMessageAppendData() {
return '<table id="newMessageBox1" cellpadding="0" cellspacing="0" style="border-radius: 3pt; width: 267px; border: 1px solid #CCCCCC">'+
           '<tr>'+
           '<td valign="top" class="font1" style="text-align: center; padding: 3pt">You are messaging <?php echo $row->firstname." ".$row->lastname ?></td>'+
           '</tr>'+
           '<tr>'+
           '<td valign="top" style="text-align: center; width: 253px; padding: 3pt">'+
           '<input autofocus placeholder="Type your message" id="responseMessage" spellcheck="false" autocomplete="off" class="textbox1" type="text" style="width: 185pt; height: 17px" /></td>'+
           '</tr>'+
           '</table>';
}

$('#clickSendAMessage').live('click', function() {
    $('#newMessageSpace').prepend(sendMessageAppendData());

}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T06:11:38.253

哦，这些很有趣 - 试试这个：

```
function sendMessageAppendData () {
   console.log("I ran!");
   sendMessageAppendData = function () {}
} 
```

只是为了一个“超级干净”的建议..

```
var clickSendAMessageHandler = function() {
    $('#newMessageSpace').prepend(sendMessageAppendData());
    $('#clickSendAMessage').die('click', clickSendAMessageHandler );
}
$('#clickSendAMessage').live('click', clickSendAMessageHandler); 
```

本质上是相同的想法-您使用自我引用来阻止它再次发生。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T06:11:16.387

在使用 javascript 全局 scopr 变量的帮助下

```
var Isexcuted=0;
function sendMessageAppendData() {
Isexcuted=1;
return '<table id="newMessageBox1" cellpadding="0" cellspacing="0" style="border-radius: 3pt; width: 267px; border: 1px solid #CCCCCC">'+
           '<tr>'+
           '<td valign="top" class="font1" style="text-align: center; padding: 3pt">You are messaging <?php echo $row->firstname." ".$row->lastname ?></td>'+
           '</tr>'+
           '<tr>'+
           '<td valign="top" style="text-align: center; width: 253px; padding: 3pt">'+
           '<input autofocus placeholder="Type your message" id="responseMessage" spellcheck="false" autocomplete="off" class="textbox1" type="text" style="width: 185pt; height: 17px" /></td>'+
           '</tr>'+
           '</table>';
}

$('#clickSendAMessage').live('click', function() {
    if(Isexcuted==0)
    $('#newMessageSpace').prepend(sendMessageAppendData());

}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-14T06:15:28.310

假设你不介意额外的依赖，[Underscore.js](http://underscorejs.org/#once)有一个`once`方法。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-14T06:19:21.473

这是一个小实用程序，您可以使用它来使任何函数只运行一次：

```
 function onceOnly(fn) {
     var executed = false;
     return function() {
         if (!executed) {
             executed = true;
             fn.apply(this, arguments);
         }
     };
 } 
```

然后，只需编写 sendMessageAppendData = onceOnly(sendMessageAppendData);

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-14T06:11:23.483

您可以检查该元素是否尚不存在：

```
$('#clickSendAMessage').live('click', function() {
    if(!$('#newMessageBox1')) {
        $('#newMessageSpace').prepend(sendMessageAppendData());
    }
}); 
```

一个更好的解决方案是只`live`用[一个](http://api.jquery.com/one/)替换：

```
$('#clickSendAMessage').one('click', function() {
   $('#newMessageSpace').prepend(sendMessageAppendData());
}); 
```

这种方式 jQuery 确保它只执行一次。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-14T06:15:30.803

你可以`.data()`用来保存状态。

```
$('#clickSendAMessage').live('click', function() {
    var newMessageSpace = $('#newMessageSpace');
    if (!newMessageSpace.data('prepended')) {
        newMessageSpace.prepend(sendMessageAppendData()).data('prepended', true);
    } 
}); 
```

注意`.live`已弃用，您可以`.on`改用。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-14T06:24:26.280

我更喜欢通过将执行变量附加到函数本身来在范围内完成所有操作：

```
function testFunc() {
  if(!arguments.callee.hasOwnProperty("executed")) {
    arguments.callee.executed = true;
    //alert("First Run");
  }
  else {
    //alert("Too late!");
  }
} 
```

# iphone - 从子视图 UIViewController Xcode 调用函数

> ID：12419013
> 
> 赞同：0
> 
> 时间：2012-09-14T06:09:53.907
> 
> 标签：iphone, objective-c, ios, xcode, ipad

我有 ADMINviewController，它包含一个 UITableView 并包含一个名为**Request**的函数，该函数从服务器加载设备并填充 UITableView，当我选择一个单元格时，它是一个设备名称，VehicleInfoViewController 作为一个子视图打开，让我更改设备名称。

所以我想要的是在显示设备名称已成功更改的消息后调用**请求函数，以便从服务器重新加载数据并使用新的设备名称更新 UITableView。**

如何从子视图调用**请求函数？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-06T09:57:17.057

上面的方法（由 Rafael）也可以被 subView 用来调用位于该 subView 的 viewController 中的方法。只需确保添加必要的方法以避免编译器警告，例如，使用

```
@synthesize adminController 
```

在上述示例的 VehicleInfoViewController 类的实现中。这也可以从任何具有 VehicleInfoViewController 实例的对象中调用。例如，假设 parentObject 包含一个 vehicleInfoViewController 成员变量，在 parentObject 中调用 Request 如下所示：

```
[parentObject.adminController performSelector:@selector(Request)]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-14T09:02:27.230

如果要从 VehicleInfoViewController 类调用 ADMINviewController 类中的 Request 方法，则应将 ADMINviewController 实例的指针传递给 VehicleInfoViewController。

像这样将 id 属性添加到 VehicleInfoViewController 类：

```
@property(nonatomic,assign)id adminController; 
```

然后在创建 VehicleInfoViewController 实例后，将 self 指针传递给它，如下所示：

```
vehicleInfoViewController = [[VehicleInfoViewController alloc] initWithNibName:@"vehicleInfoViewController" bundle:nil];
vehicleInfoViewController.adminController = self; 
```

当您需要在 vehicleInfoViewController 中调用 Request 方法时，请执行以下操作：

```
[self.adminController performSelector:@selector(Request)]; 
```

# visual-studio-2012 - 在 Windows 桌面的 VS 2012 Express 中找不到 MDbg

> ID：12419018
> 
> 赞同：1
> 
> 时间：2012-09-14T06:10:11.927
> 
> 标签：visual-studio-2012

以前我使用的是从 Dreamspark 获得的 VS 2010 Professional，我可以使用开箱即用的 cmd line MDbg。但在 VS 2012 中，安装目录中没有“MDbg.exe”。它是否从 Express 版本中排除，如果是，那么是否有可用的独立安装程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-25T02:08:09.333

MDbg.exe 是 .NET SDK 的一部分，可以从 Visual Studio 单独下载：

[http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&id=8279](http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&id=8279)

# xamarin.ios - 如何解决：错误 MT2002：无法解析参考：System.Void MonoTouch.Foundation.NSTimer::.ctor() (MT2002)

> ID：12419019
> 
> 赞同：1
> 
> 时间：2012-09-14T06:10:14.840
> 
> 标签：xamarin.ios, teechart

将 Steema TeeChart 用于 MonoTouch (5.4.0) 并编译以在物理设备上运行时，出现错误 MT2002: Can not resolve reference: System.Void MonoTouch.Foundation.NSTimer::.ctor() (MT2002)。

我已经知道答案，但把问题放在这里作为其他人的参考。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T06:12:44.743

问题是 Steema TeeChart 使用了错误版本的 NSTimer，Xamarin 在最新版本的 MonoTouch 中删除了该版本。

这里有一个关于这个问题的讨论：http: [//monotouch.2284126.n4.nabble.com/error-MT2002-Can-not-resolve-reference-when-building-for-iPhone-td4656884.html](http://monotouch.2284126.n4.nabble.com/error-MT2002-Can-not-resolve-reference-when-building-for-iPhone-td4656884.html)

在这里有一个修补程序： [https ://bugzilla.xamarin.com/show_bug.cgi?id=6987](https://bugzilla.xamarin.com/show_bug.cgi?id=6987)

从 MonoTouch 5.4.1 开始，将内置修补程序，无需安装修补程序。

# c#-4.0 - 如何从 app.config 文件的自定义配置部分检索项目作为集合？

> ID：12419020
> 
> 赞同：0
> 
> 时间：2012-09-14T06:10:20.037
> 
> 标签：c#-4.0, app-config, custom-configuration

我的 app.config 文件中定义了一个自定义配置部分。我需要将创建的自定义配置部分中的标签和子标签作为一个集合来获取。

我的配置部分如下，

```
 <configSections>
             <section name="myServices" type="NameSpace.ClassName, AssemblyName" />
        </configSections>
       <myServices>
           <Tag1>
              <subTag1 value="1"/>
              <subTag2 value="2"/>
           </Tag1>
           <Tag2>
              <subTag1 value="3"/>
              <subTag2 value="4"/>
           </Tag2>
       </myServices> 
```

我的要求是将每个标签下的子标签值作为一个集合。

如果有人以前经历过这个，请帮我解决这个问题..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T06:19:41.493

你可以在这里找到非常好的文章... [http://devlicio.us/blogs/derik_whittaker/archive/2006/11/13/app-config-and-custom-configuration-sections.aspx](http://devlicio.us/blogs/derik_whittaker/archive/2006/11/13/app-config-and-custom-configuration-sections.aspx)

# c++ - 为什么链接器不能识别此类构造函数？

> ID：12419022
> 
> 赞同：1
> 
> 时间：2012-09-14T06:10:39.923
> 
> 标签：c++, stl

`KarateMatch new_match;`使用以下命令编译`Driver.cpp`文件时，我在创建新对象时遇到此错误`g++ Driver.cpp KarateMatch.cpp -o output`：

```
Undefined symbols for architecture x86_64:
"KarateMatch::KarateMatch()", referenced from:
  _main in cc5G5Ak8.o
ld: symbol(s) not found for architecture x86_64
 collect2: ld returned 1 exit status 
```

`KarateMatch new_match;`

我无法弄清楚我做错了什么，因为我`#include <KarateMatch.h>`同时使用`Driver.cpp`and `KarateMatch.cpp`：

# 编辑：

我已经尝试过在我的系统（OS X 10.8.1）上完全显示的代码，但编译时没有出现相同的错误。

### 空手道比赛.h

```
#include <iostream>
#include <string>
#include <vector>

using namespace std;

class KarateMatch{

    public:
        KarateMatch();
}; 
```

### 空手道比赛.cpp

```
#include "KarateMatch.h"
#include <iostream>
#include <string>
#include <vector>

using namespace std;

KarateMatch::KarateMatch(){
    cout << "HI";
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T06:34:29.153

它在我的系统 g++-4.3 上运行良好。我认为它不是 KarateMatch.h 和 KarateMatch.cpp 文件的问题。

尝试先只编译 Driver.cpp 而不包括 KarateMatch.h 文件并且不创建其对象。

# perl - 为什么可以在布尔上下文中评估`defined $x && $x`？

> ID：12419036
> 
> 赞同：3
> 
> 时间：2012-09-14T06:11:36.600
> 
> 标签：perl, operators, boolean

```
my $target_type = (defined($item->{target_type}) && $item->{target_type}) 
                ? $item->{target_type} 
                : "";

my $target_id   = (defined($item->{target_id}) && $item->{target_id})
                ? $item->{target_id} 
                : ""; 
```

为什么开发人员`&&`在几乎相同的条件下使用？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-14T06:30:55.313

显然他是腰带和吊带式的。 `(defined($x) && $x)`几乎等同于 just `$x`，因为`undef`是假的。（不同之处在于 if `$x`is `undef`then`(defined($x) && $x)`将是 Perl 的特殊 false 值，该值已定义，但在这种情况下没有区别。）可能曾经有不同的条件（如`$x > 0`）并且`defined`测试是必要的以避免警告一个未初始化的值。然后有人删除了那个条件并且没有考虑删除 now-unnecessary `defined`。

使用的另一个原因`(defined($x) && $x)`（正如[onon15 指出的那样](https://stackoverflow.com/a/12419305/8355)`$x`）是为了向未来可能未定义的维护程序员强调。就个人而言，我会为此使用评论，但[TIMTOWTDI](https://en.wikipedia.org/wiki/There%27s_more_than_one_way_to_do_it)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-14T06:37:52.680

尽管 && 的右侧可以单独使用，但我已经多次看到这种用法作为人类读者的语义提示，这`$item->{target_type}`可能没有定义。

因此，即使可以删除 LHS 并保持类似的行为，维护者也可能很容易误认为不需要检查值是否已定义。（除非在一个紧密的循环中，额外评估的成本可以忽略不计，即使在一个循环内，它也可能通过解释器中的优化来消除）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-14T14:09:03.303

非常简短的回答：这是为了避免在旧的 perls 中出现“使用未初始化的值”警告，并在这种情况下分配一个默认定义的值。在 v5.10 及更高版本中，您将使用定义或运算符：

```
 $scalar //= ""; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-14T06:29:38.900

`&&`是一个“逻辑短路”运算符。首先，他正在测试`$item->{targ_type}`. 当且仅当它被定义（即左侧`&&`为真）时，他测试是否`$item->{target_type}`包含真值。如果这两个条件都为真，那么`$target_type`（以及以后`$target_id`）被分配保存在`$item->{target_type}`or中的值`$item->{target_id}`。如果这些条件之一为假，则分配一个空字符串。

更新：试图读懂提出这个结构的程序员的想法：也许代码的进化方式导致了这种情况，而程序员没有考虑足够长的时间来认识到它是不必要的。也许程序员对 Perl 中定义性、真实性、虚假性以及哪些类型的值是“虚假”之间的区别不安全。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-14T07:42:56.770

回答你的问题需要读心术，但这里有一些按概率排序的原因：

1.  作者不是 Perl 程序员，因此对 的真实性、计算结果并使得表达式的其余部分没有实际意义`undef`的事实感到不舒服，或者两者兼而有之。`defined undef && undef``""`
2.  该代码已经看到一个修订版，该修订版删除了需要`defined`测试才能正常工作的内容，例如`defined $x && $x ne ''`. 该`defined`测试是从该编辑中遗留下来的，对维护者具有负面价值。
3.  作者希望强调该元素可能已经`undef`过明确测试。有更好的方法可以做到这一点，不会让未来的读者猜测其意图可能是什么。比如说，评论。
4.  如果已定义，`$item->{target_type}`则可能包含一个具有重载布尔转换的对象，该对象的计算成本很高，并且您正在寻找一种自我挫败的微优化。这种情况极不可能。不过好笑。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-14T06:30:32.613

这不是同一个条件。

首先，他测试定义性

```
defined($item->{target_type}) 
```

当使用未定义的值进行操作时，某些操作毫无意义。

在第二个条件下，他测试一个真值或假值

```
$item->{target_type} 
```

但是，作为`undef`一个错误值，第二个测试涵盖了这两种情况。

在某些情况下，类似的模式是必要的，例如在针对参考内容进行测试时。

```
my $ref1 = "true";
my $ref2 = \("true");

if (ref $ref1 eq 'SCALAR' and $$ref1) {
  # This does not get executed
}
if (ref $ref2 eq 'SCALAR' and $$ref2) {
  # This does get executed
} 
```

# android - 如何从特定号码读取短信并以编程方式从收件箱中删除

> ID：12419041
> 
> 赞同：0
> 
> 时间：2012-09-14T06:12:15.500
> 
> 标签：android

我使用此代码从特定电话号码获取 SMS 消息，然后打开我的应用程序。

它工作正常，但在从特定电话号码获取短信后，它不会从收件箱中删除短信。

我正在使用模拟器进行测试，请帮助告诉我代码中的错误是什么？如何从特定号码中删除短信？？？

```
public class SmsReceiver extends BroadcastReceiver {

    String specificPhoneNumber = "15555215554";

    public void onReceive(Context context, Intent intent) 
    {
            //---get the SMS message passed in---
            Bundle bundle = intent.getExtras();        
            SmsMessage[] msgs = null;
            String str = "";  

            if (bundle != null)
            {         
                //---retrieve the SMS message received---
                Object[] pdus = (Object[]) bundle.get("pdus");
                msgs = new SmsMessage[pdus.length];            
                for (int i=0; i<msgs.length; i++){
                    msgs[i] = SmsMessage.createFromPdu((byte[])pdus[i]);
                    String phNum = msgs[i].getOriginatingAddress();  
                    str += msgs[i].getMessageBody().toString();
             if (specificPhoneNumber.equals(phNum))

            {
                Uri uri = Uri.parse("content://sms/inbox");

                ContentResolver contentResolver = context.getContentResolver();

                String where = "address="+phNum;
                Cursor cursor = contentResolver.query(uri, new String[] { "_id", "thread_id"}, where, null,
                                  null);

                while (cursor.moveToNext()) {

                    long thread_id = cursor.getLong(1);
                    where = "thread_id="+thread_id;
                    Uri thread = Uri.parse("content://sms/inbox");
                    context.getContentResolver().delete(thread, where, null);

                }
                        Intent l = new Intent(context,AgAppMenu.class);                  
                        l.putExtra("msg",str);                   
                        l.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                        context.startActivity(l);
                    }
                }
            }
     }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-10T17:39:52.553

只是不要让来自特定号码的消息传递到收件箱。为此，请执行以下操作：

1.  为您的 SmsReceiver 设置高优先级

    ```
    <receiver android:name="SmsReceiver">
        <intent-filter android:priority="999">
            <action android:name="android.provider.Telephony.SMS_RECEIVED"/>
        </intent-filter>
    </receiver> 
    ```

2.  用于`abortBroadcast()`防止特定消息传递到收件箱。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T06:21:43.090

您可以尝试以下更改 -

```
Uri uri = Uri.parse("content://sms/inbox"); 
```

对于查询 -

```
String where = "address="+phNum;
Cursor cursor = contentResolver.query(uri, new String[] { "_id", "thread_id"}, where, null,
                  null); 
```

线程 id 将是第二个元素 -

```
long thread_id = cursor.getLong(1);
where = "thread_id="+thread_id;
Uri thread = Uri.parse("content://sms/inbox");
context.getContentResolver().delete(thread, where, null); 
```

# java - 在 RESTFull Web 服务中使用 JMS

> ID：12419042
> 
> 赞同：0
> 
> 时间：2012-09-14T06:12:17.150
> 
> 标签：java, asynchronous, jms, spring-jms

我正在用**Java+Spring开发****Rest Full**服务，可供移动应用程序（iPhone+Android）和 Web 应用程序使用。

 **选择**JMS（Java Messasing 服务）**来向移动应用程序和 Web 应用程序发送异步和可靠的电子邮件消息是更好的选择，还是除了 JMS 之外还有更好的选择来进行**异步**消息传递。请帮忙。

**编辑 ：**

我希望我的 RESTFull Web 服务发送电子邮件消息，这些消息不仅提供电子邮件消息传递的保证，而且还使用异步消息传递模式，这样服务器就不会等待接收者接收消息。另外请建议如果我在服务器端使用 JMS 来发布/生成队列中的消息，移动应用程序将如何从 JMS 队列接收消息？iPhone/Android/PHP Web 应用程序是否可以接收 JAVA 服务器发布的消息。

谢谢，

阿伦·库马尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T06:18:09.493

JMS 不适用于移动应用程序。不能期望移动应用程序总是在运行并监听连接。由于这些原因，[推送通知](http://en.wikipedia.org/wiki/Push_technology)用于向移动设备发送消息。苹果和谷歌都提供这种服务。**

# php - MySQL - 简单搜索 ID 和返回名称

> ID：12419047
> 
> 赞同：1
> 
> 时间：2012-09-14T06:13:23.493
> 
> 标签：php, mysql, joomla

天，

我不熟悉 MySQL，这可能是一个简单的问题！

我正在尝试修改 Joomla 插件，并且正在使用适用于类似功能的代码：

```
$q="SELECT `".$naming."` AS naming FROM `#__users` WHERE `id`='".$jomsocial_event->creator."' ";
$db->setQuery($q);
$eventcreatorname = $db->loadResult();
$eventcreator = '<a href=\"'.CRoute::_('index.php?option=com_community&view=profile&userid='.$jomsocial_event->creator).'\">'.addslashes($eventcreatorname).'</a>'; 
```

我需要做的是`id`在表中查找字段`community_groups`并返回匹配的字段`name`。我所拥有的是（注意`$jomsocial_event->contentid`包含组 ID）：

```
$q="SELECT `".$naming."` AS naming FROM `#__community_groups` WHERE `id`='".$jomsocial_event->contentid."' ";
$db->setQuery($q);
$eventgroupname = $db->loadResult();
$eventgroup = '<a href=\"'.CRoute::_('index.php?option=com_community&view=groups&task=viewgroup&groupid='.$jomsocial_event->contentid).'\">'.addslashes($eventcreatorname).'</a>'; 
```

由于查询错误，它不返回任何内容；我的用法应该是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T06:21:40.553

我会从数据库向后工作。

即打开SQL 日志并查看实际到达数据库的内容。通过使用生成的 SQL 进行必要的调整，直到你得到你想要的（和期望的），然后在你的代码中实现它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T13:48:39.460

在 Joomla 的调试中查看您生成的查询。直接对mysql运行，看看哪里出错了。

另外，我会使用 JDatabaseQuery API，因为引用等错误的可能性要小得多。在我看来，您将 id 视为字符串而不是整数。

# jquery-plugins - 用于页面转换的 jquery 插件

> ID：12419049
> 
> 赞同：0
> 
> 时间：2012-09-14T06:13:31.427
> 
> 标签：jquery-plugins, css-transitions

我正在为 iPad 编写一个简单的 HTML5 应用程序，我正在寻找一个用于页面转换的简单 jquery 解决方案。我知道您会推荐**jQueryMobile**，但问题在于它使用 ajax 在当前页面中加载下一页然后开始转换，因此我尝试加载的页面的 css 受到干扰，[**请参阅我的问题**](https://stackoverflow.com/questions/12408506/jquerymobile-page-transition-not-loading-page-as-it-should/12408967#comment16680961_12408967)。我也试过**[这个](http://www.fasw.ws/faswwp/non-jquery-page-transitions-lightweight/)**，这个插件是我一直在寻找的东西，但问题是它不适用于 iPad，而且在转换时页面闪烁很多，所以我放弃了这个选项。我发现的另一个选项是 jQTouch，但据我所知 jQTouch 仅适用于 div 的过渡效果，不知道如何将其用于页面过渡。

我想要的是，点击 index.html 中的**Transition**链接时，`<a href="index.html">Transition</a>`应该会显示过渡效果，而不会出现 index.html 页面的闪烁和 css 干扰。

有人可以向我推荐一些插件，我可以使用它们来实现页面转换，而不会在转换时干扰 CSS。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:12:34.153

希望这对您有用...尽管需要 jQuery，但以下解决方案对我有用：

首先在body标签之后添加：

```
<div id="loading">
  <img id="loading-image" src="images/ajax-loader.gif" alt="Loading..." />
</div> 
```

然后将 div 和图像的样式类添加到您的 css 中：

```
#loading {
  width: 100%;
  height: 100%;
  top: 0px;
  left: 0px;
  position: fixed;
  display: block;
  opacity: 0.7;
  background-color: #fff;
  z-index: 99;
  text-align: center;
}

#loading-image {
  position: absolute;
  top: 100px;
  left: 240px;
  z-index: 100;
} 
```

最后将此javascript添加到您的页面（最好在页面末尾，当然在关闭body标签之前）：

```
<script language="javascript" type="text/javascript">   
$(window).load(function() {
$('#loading').hide();   }); 
</script> 
```

然后通过样式类调整加载图片的位置和加载div的背景颜色。

就是这样，工作得很好。但当然你必须在某个地方有一个 ajax-loader.gif。

试试 AJAXLoad 他们有一些很棒的 GIF 动画.. :)

# dataset - 从 vb.net 中的数据集中过滤记录

> ID：12419053
> 
> 赞同：4
> 
> 时间：2012-09-14T06:13:52.383
> 
> 标签：dataset, vb.net-2010, rowfilter

我想**从数据集中过滤值**。*它包含以零和非零值开头的*电话号码。如何从数据集中过滤电话号码（以非零开头）。下面是 vb.net 代码和产生的错误。

```
cmd = New OracleCommand("select  PHONE from  reports.renewal_contact_t where run_date=to_date('" + TextBox1.Text + "','mm/dd/yyyy') and  EXP_DATE =to_date('" + TextBox2.Text + "','mm/dd/yyyy') and  region not in('TNP')", cn)
ada = New OracleDataAdapter(cmd)
ada.Fill(ds, "reports.renewal_contact_t ")
Dim ds1 As New DataSet
ds1.Tables("reports.renewal_contact_t").DefaultView.RowFilter = "PHONE NOT like'0'" 
```

**错误：**对象引用未设置为对象的实例。行过滤器行中的错误

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T06:27:58.257

在您的 ds1 中**没有表***reports.renewal_contact_t*。将其更改为

```
cmd = New OracleCommand("select  PHONE from  reports.renewal_contact_t where run_date=to_date('" + TextBox1.Text + "','mm/dd/yyyy') and  EXP_DATE =to_date('" + TextBox2.Text + "','mm/dd/yyyy') and  region not in('TNP')", cn)
ada = New OracleDataAdapter(cmd)
ada.Fill(ds, "reports.renewal_contact_t")
' no need for a new dataset - as you fill ds (and not ds1)!!
ds.Tables("reports.renewal_contact_t").DefaultView.RowFilter = "PHONE NOT like'0'" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T19:08:34.763

这将适用于具有类似于“模式”的数据集

**数据示例>*

```
Id   Value

1    303-888-8888
2    0-418-895-9598

TryCast(filteredDS.Tables(0).Rows.Cast(Of DataRow).Where(Function(row) Not row.ItemArray(1).ToString().Substring(0, 1).Equals("0")), IEnumerable(Of DataRow)).ToList().ForEach(Sub(row) row.Delete()) 
```

--删除电话以非零开头的任何记录

# wcf - 绝对路径不适用于 WCF 服务

> ID：12419055
> 
> 赞同：1
> 
> 时间：2012-09-14T06:13:53.693
> 
> 标签：wcf

我在以下位置有一个服务文件。

> C:\Documents and Settings\U16990\My Documents\Visual Studio 2010\Projects\CalculationService\CalculationService\CalculationService.svc

当我浏览 svc 文件时，它工作正常。服务端点如下所列。它目前是用于地址的相对地址。

```
 <service name="CalculationService.CalculationService" behaviorConfiguration="MyServiceTypeBehaviors">
    <endpoint address="CalculationService" behaviorConfiguration=""
        binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding_CalculationServiceInterface"
        contract="ICalculationService" />
  </service> 
```

我机器的IP地址是10.10.179.180 //InterNetwork AddressFamily

当我将地址更改为使用绝对路径时，它会引发错误：

```
<services>
  <service name="CalculationService.CalculationService" behaviorConfiguration="MyServiceTypeBehaviors">
    <endpoint 
    address="http://10.10.179.180/C:/Documents and Settings/U16990/My Documents/Visual Studio 2010/Projects/CalculationService/CalculationService/CalculationService.svc/CalculationService"
    behaviorConfiguration=""
    binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding_CalculationServiceInterface"
    contract="ICalculationService" />
  </service>
</services> 
```

> 错误:: 没有协议绑定与给定地址“ [http://10.10.179.180/C:/Documents](http://10.10.179.180/C:/Documents) and Settings/U16990/My Documents/Visual Studio 2010/Projects/CalculationService/CalculationService/CalculationService.svc/CalculationService”匹配。协议绑定在 IIS 或 WAS 配置中的站点级别进行配置。说明：执行当前 Web 请求期间发生未处理的异常。请查看堆栈跟踪以获取有关错误及其源自代码的位置的更多信息。

我们能做些什么来纠正它？

注意：我正在使用**Visual Studio 2010**测试该服务。

参考：

1.  [在控制台中托管一个简单的 Wcf 服务](https://stackoverflow.com/questions/2251538/hosting-a-simple-wcf-service-in-console)
2.  [错误“没有协议绑定与给定地址匹配......”](https://stackoverflow.com/questions/4261180/error-no-protocol-binding-matches-the-given-address)
3.  [如何从 IIS 中托管的 WCF 服务派生网站绝对文件路径？](https://stackoverflow.com/questions/2046085/how-to-derive-a-website-absolute-file-path-from-a-wcf-service-hosted-in-iis?rq=1)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T08:04:21.327

端点地址不是文件的位置，而是客户端可以/将找到服务的 URI。你可能应该使用这样的东西：

```
<service name="CalculationService.CalculationService" behaviorConfiguration="MyServiceTypeBehaviors">
    <endpoint 
        address="http://10.10.179.180/CalculationService/CalculationService.svc"
        behaviorConfiguration="" binding="basicHttpBinding"
        bindingConfiguration="BasicHttpBinding_CalculationServiceInterface"
        contract="ICalculationService" />
</service> 
```

在这种情况下，您使用的是完整的 URI 而不是相对的。在您的客户端中，您必须确保端点引用相同的地址，并且一切顺利。

# java - 我正在寻找一个可以用“span”替换“small”标签的 HTML 解析器

> ID：12419056
> 
> 赞同：1
> 
> 时间：2012-09-14T06:13:54.760
> 
> 标签：java, jsoup

这是我的代码，它解析 HTML 并将`<small>`标签`<span>`的出现替换为

```
String html =
        "<html>"+
        "<body bgcolor=''>"+
                "<table class='tabletext'>" +
                "<tr align='center' style='background:#FFFFFF'>" +
                "<td class='classa'><span id='fd'><span>10</span></span></td>" +
                "<td>10.00</td>" +
                "<td><small>&pound;0.00</small></td>" +
                "<td>&pound;280.00</td>" +
                "<td>" +
                "<ul>"+
                "<li><a href=''>ok</a></li>"+
                "</ul>"+
                "<a href='/cart.php?action=add&qty=10&id=2628' title='Click here to add this item to your cart'>" +
                "<img alt='Click here to add this item to your cart' src='/images/addtocart.gif' border='0' />" +
                "</a>" +
                "</td>" +
                "</tr>" +
                "<tr><td><span>Hello2</span></td></tr>"+
                "</table>"+
                "</body>"+
                "</html>";
        Document doc = Jsoup.parse(html);

        Elements elements = doc.select("small");

        Element element2 = elements.get(0);
        System.out.println(element2.replaceWith("<span>")); 
```

但是上面的代码不能正常工作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T06:24:21.060

如果要替换所有`<small>`标签，`<span>`则应[`Node.replaceWith`](http://jsoup.org/apidocs/org/jsoup/nodes/Node.html#replaceWith%28org.jsoup.nodes.Node%29)正确使用。

```
Document doc = Jsoup.parse(html);
for (Element small: doc.select("small")) {
  small.replaceWith(new Element(Tag.valueOf("span"), "").text(small.text()));
}
System.out.println(doc.html()); // prints html with <small> replaced by <span> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-14T09:20:18.303

另一种解决方案是重命名标签：

```
Document doc = Jsoup.parse(html);
doc.select("small").tagName("span"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-01T05:40:32.743

它适用于所有标签：

```
Document html=Jsoup.parse(htmlString);
html.select("small").tagName("span"); 
```

# dart - Dart 中的 final 修饰符有什么作用？

> ID：12419058
> 
> 赞同：20
> 
> 时间：2012-09-14T06:14:00.360
> 
> 标签：dart

Dart 有一个`final`. 大多数动态语言没有这个概念。

什么是最终的，我用它做什么？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-09-14T06:14:00.360

`final`变量可以包含任何值，但是一旦分配，最终变量就不能重新分配给任何其他值。

例如：

```
main() {
  final msg = 'hello';
  msg = 'not allowed'; // **ERROR**, program won't compile
} 
```

`final`也可以用于对象中的实例变量。类的最终字段必须在构造函数主体运行之前设置。final 字段*不会*为其创建隐式 setter，因为您无法在 final 变量上设置新值。

```
class Point {
  final num x, y;
  Point(this.x, this.y);
}

main() {
  var p = new Point(1, 1);
  print(p.x); // 1
  p.x = 2; // WARNING, no such method
} 
```

重要的是要意识到这`final`会影响变量，但不会影响变量指向的对象。也就是说，`final`不会使变量的*对象*不可变。

例如：

```
class Address {
  String city;
  String state;
  Address(this.city, this.state);
}

main() {
  final address = new Address("anytown", "hi");
  address.city = 'waikiki';
  print(address.city); // waikiki
} 
```

在上面的例子中，`address`变量被标记为final，所以它总是指向`new Address("anytown", "hi")`构造函数实例化的对象。但是，对象本身的状态是可变的，因此更改城市是完全有效的。唯一阻止的`final`是重新分配`address`变量。

# java - 欧拉计划 #17 (java)

> ID：12419061
> 
> 赞同：3
> 
> 时间：2012-09-14T06:14:11.397
> 
> 标签：java

我正在Project Euler研究第[17题。](http://projecteuler.net/problem=17)使用下面的代码，我得到 21088 作为错误的答案。我无法弄清楚问题出在哪里。有人知道我要去哪里错了吗？谢谢。

```
public class Problem17 {

    public static void main(String[] args) {
        System.out.println(countLetters(1000));
    }

    public static long countLetters(int n) {
        long sum = 0;

        for (int i=1; i<=n; i++){
            sum += getLetters(i);
        }

        return sum;
    }

    public static int getLetters(int n) {
        int letters = 0;

        switch (n) {
            case 0: letters = 0; break;
            case 1: letters = "One".length(); break;
            case 2: letters = "Two".length(); break;
            case 3: letters = "Three".length(); break;
            case 4: letters = "Four".length(); break;
            case 5: letters = "Five".length(); break;
            case 6: letters = "Six".length(); break;
            case 7: letters = "Seven".length(); break;
            case 8: letters = "Eight".length(); break;
            case 9: letters = "Nine".length(); break;
            case 10: letters = "Ten".length(); break;
            case 11: letters = "Eleven".length(); break;
            case 12: letters = "Twelve".length(); break;
            case 13: letters = "Thirteen".length(); break;
            case 14: letters = "Fourteen".length(); break;
            case 15: letters = "Fifteen".length(); break;
            case 16: letters = "Sixteen".length(); break;
            case 17: letters = "Seventeen".length(); break;
            case 18: letters = "Eighteen".length(); break;
            case 19: letters = "Nineteen".length(); break;
            case 20: letters = "Twenty".length(); break;
            case 30: letters = "Thirty".length(); break;
            case 40: letters = "Forty".length(); break;
            case 50: letters = "Fifty".length(); break;
            case 60: letters = "Sixty".length(); break;
            case 70: letters = "Seventy".length(); break;
            case 80: letters = "Eighty".length(); break;
            case 90: letters = "Ninety".length(); break;
            case 100: letters = "OneHundred".length(); break;
            case 200: letters = "TwoHundred".length(); break;
            case 300: letters = "ThreeHundred".length(); break;
            case 400: letters = "FourHundred".length(); break;
            case 500: letters = "FiveHundred".length(); break;
            case 600: letters = "SixHundred".length(); break;
            case 700: letters = "SevenHundred".length(); break;
            case 800: letters = "EightHundred".length(); break;
            case 900: letters = "NineHundred".length(); break;
            case 1000: letters = "OneThousand".length(); break;
        }

        if (letters == 0){
            int length = (int)(Math.log10(n)+1); //how many digits does the number have? 
            int splitNumber;
            for (int i=1;i<=length;i++){
                if (i == 3) letters += 3; //add "and" to the total letters if necessary
                splitNumber = (int) (n % Math.pow(10, i)); 
                letters += getLetters(splitNumber);
                n -= splitNumber;
            }
        }

        return letters;
    }
} 
```

编辑：现在刚刚注意到它正在计算例如 111 为“一百零一”D'OH！直到今晚晚些时候才有时间调整这个，然后会更新。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-14T08:04:52.613

您的问题是，如果您没有从案例列表中获得匹配项，那么您总是将数字分成不同的数字，从较低的数字开始。所以，对于 114，你拿 4 个，剩下 110 个，然后你拿 10 个，剩下 100 个。如果你反过来做，那么对于 114，你移除最高部分（100），那么你剩下 14 个可以与你的开关一起使用。

作为旁注，这个问题非常对称，可能只需要几分钟就可以完成笔和纸。

# google-maps - 谷歌地图异步加载和一般脚本标签之间的区别

> ID：12419063
> 
> 赞同：3
> 
> 时间：2012-09-14T06:14:21.640
> 
> 标签：google-maps, google-maps-api-3

为了尝试异步加载谷歌地图，我查看了[谷歌的异步页面](https://developers.google.com/maps/documentation/javascript/tutorial#Loading_the_Maps_API)

本质上，我正在寻找 API 中 document.write 的替代方案，并且根据[此 google 群组帖子](https://groups.google.com/d/msg/google-maps-js-api-v3/upCw1dbyvvc/Tj-jckse2C8J)中的一些用户的说法，使用异步版本将处理这种情况。

我的问题是为什么这个脚本：

```
<script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&sensor=SET_TO_TRUE_OR_FALSE"
type="text/javascript"></script> 
```

与以下任何不同：

```
var script = document.createElement("script");
script.type = "text/javascript";
script.src = "https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&sensor=TRUE_OR_FALSE&callback=initialize";
document.body.appendChild(script); 
```

当第一个和第二个都调用同一个 js 文件时，其中显然包含 document.write？另外，如果写入通常违反内容安全策略，为什么更新的 API 要考虑使用 document.write 而不是 append？

作为一些背景信息，我正在尝试使用 Google 的打包应用程序，并且他们的[csp](http://developer.chrome.com/trunk/apps/app_csp.html)不允许 document.write。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-02T06:09:08.207

异步/动态加载脚本（或其他资源）的主要优点之一是它可以显着加快页面加载时间。

来自谷歌的开发者最佳实践：

[https://developers.google.com/speed/docs/best-practices/rtt#PreferAsyncResources](https://developers.google.com/speed/docs/best-practices/rtt#PreferAsyncResources)

> 当浏览器解析一个传统的脚本标签时，它必须等待脚本下载、解析和执行，然后再渲染它之后的任何 HTML。但是，使用异步脚本，浏览器可以继续解析和呈现异步脚本之后的 HTML，而无需等待该脚本完成。当一个脚本被异步加载时，它会尽快被获取，但它的执行被推迟到浏览器的 UI 线程不忙于做其他事情，比如渲染网页。

我用来决定是否异步加载脚本（例如 Google Maps API）的另一个技巧是，我问自己，“用户是否有可能看不到、受益或与加载的结果交互？脚本？”。如果答案是肯定的，那么我通常会将脚本的加载与一些 DOM 事件（例如按钮单击等）联系起来。

换句话说，如果用户必须单击我网页上的按钮才能查看我的 Google 地图；如果用户有可能永远看不到它，为什么还要加载所有额外的脚本呢？相反，单击按钮时异步加载脚本，然后加载我的地​​图。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-06-14T11:38:11.787

实际上，maps.googleapis.com/maps/api/js 上的 javascript 文件是动态文件。服务器使用不同的 js 文件响应不同的参数。要知道区别，只需从浏览器地址栏中加载以下文件。

[https://maps.googleapis.com/maps/api/js?v=3.exp](https://maps.googleapis.com/maps/api/js?v=3.exp) 和 [https://maps.googleapis.com/maps/api/js?v=3.exp&callback=initialize](https://maps.googleapis.com/maps/api/js?v=3.exp&callback=initialize)

您会注意到第一个 js 文件中有一个“document.write”，如下所示

```
function getScript(src) {
    document.write('<' + 'script src="' + src + '"' +
                   ' type="text/javascript"><' + '/script>');
  } 
```

而在第二种情况下有一个 document.createElement 如下

```
 function getScript(src) {
    var s = document.createElement('script');

    s.src = src;
    document.body.appendChild(s);
  } 
```

不同之处在于，当同步加载脚本时，浏览器会等待它完全加载，而当脚本调用 document.write 时，文本会附加到正在加载的文档中。但是一旦文档完全加载，就会进行异步调用。结果 document.write 将替换现有文档，因此浏览器会忽略来自异步加载脚本的此类调用。当你用“callback=initialize”加载js时，自执行函数已经包含了初始化的回调，以及一个可以异步加载更多脚本的修改函数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-17T15:12:04.653

您所要做的就是设置一个在地图脚本加载后执行的回调：

然后在您的应用程序的主`.js`文件中，定义回调：

```
window.myCallbackFuction = function() {
  return console.log("Loaded Google Maps!");
  // the rest of the maps initialization goes here, per the docs
}; 
```

棘手的部分是重构您的代码，以便在您确定已执行之前不会执行任何与地图相关的代码`myCallbacFuction()`。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-09-14T07:55:00.507

有一个关于[如何异步加载谷歌地图](https://google-developers.appspot.com/maps/documentation/javascript/examples/map-simple-async)的例子。基本思想是像你一样创建一个脚本标签，让这个函数在加载时执行。

# wpf - 水平滚动条防止文本框换行

> ID：12419065
> 
> 赞同：1
> 
> 时间：2012-09-14T06:14:27.770
> 
> 标签：wpf, scrollviewer, word-wrap

我正在尝试使`TextBox`文本换行并与`Window`. 如果我不设置`ScrollViewer`'`HorizontalScrollBarVisibility`属性，那将有效。但如果我这样做，`TextBox`将无限增长。该问题通过将`MaxWidth`属性设置为 TextBox 来解决，但在这种情况下`TextBox`不会超出该`MaxWidth`值。然后我的想法是绑定`MaxWidth`到`ColumnDefinition`'s `ActualWidth`，但这也不起作用，因为`ColumnDefinition`'s`ActualWidth`属性不是`DependencyProperty`. 这是我的代码：

```
<ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Row="0" Grid.Column="0" Text="Name:" Margin="5" />
            <TextBox MinWidth="200" Grid.Row="0" Grid.Column="1" TextWrapping="Wrap" AcceptsReturn="True" Margin="5"/>
        </Grid>
    </ScrollViewer> 
```

任何想法将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T06:57:42.517

尝试这个：

```
<Grid>
    <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="*" />
    </Grid.ColumnDefinitions>
    <TextBlock Text="Name:" Margin="5" />
    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto" Grid.Column="1">
        <TextBox MinWidth="200" TextWrapping="Wrap" AcceptsReturn="True" Margin="5" MaxWidth="{Binding Path=ActualWidth, RelativeSource={RelativeSource AncestorType={x:Type ScrollViewer}}}" />
    </ScrollViewer>
</Grid> 
```

# c# - 从数据库中检索时未显示数据

> ID：12419066
> 
> 赞同：0
> 
> 时间：2012-09-14T06:14:41.113
> 
> 标签：c#, asp.net, sql

我有一个显示 ID 的下拉菜单；从数据库中的 RSVP 表和 4 个标签中检索以显示日期、日期、时间和总计。当用户选择 4(Id) 时，标签应显示属于 Id 4 的所有数据。但我的代码不起作用。这是我的代码，希望你能帮助我。非常感谢。

```
 protected void Page_Load(object sender, EventArgs e)
{
     SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings["Connection"].ConnectionString);
     SqlCommand cmd = new SqlCommand("SELECT Date,Day,Time,Total FROM RSVP WHERE Id = @dummy",conn);

      cmd.Parameters.Add("@dummy", SqlDbType.Int).Value = DropDownList5.SelectedItem.Text;

            var dr = cmd.ExecuteReader();
            if (dr.HasRows == false)
            {
                throw new Exception();   
            }
            if (dr.Read())
            {
                Label1.Text = dr[0].ToString();
                Label2.Text = dr[1].ToString();
                Label3.Text = dr[2].ToString();
                Label4.Text = dr[3].ToString();
             }

 } 
```

错误：对象引用未设置为对象的实例。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T06:22:26.793

如果您在此行收到错误

```
cmd.Parameters.Add("@dummy", SqlDbType.Int).Value = DropDownList5.SelectedItem.Text; 
```

那么可能在下拉列表中没有选择任何内容，这就是您收到错误的原因。

您可以在该行之前添加一个检查以查看 SelectedItem 是否为空。

```
if(DropDownList5.SelectedItem != null)
    cmd.Parameters.Add("@dummy", SqlDbType.Int).Value = DropDownList5.SelectedItem.Text; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T06:39:55.540

```
 protected void Page_Load(object sender, EventArgs e)
    {
         SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings["Connection"].ConnectionString);
         SqlCommand cmd = new SqlCommand("SELECT Date, Day, Time, Total FROM RSVP WHERE Id = @dummy", conn);
         cmd.Parameters.AddWithValue("@dummy", DropDownList5.SelectedItem.Text);

         conn.open();
         var dr = cmd.ExecuteReader();
         if (dr.HasRows == false)
           throw new Exception("No data found!");   
         if (dr.Read())
         {
            Label1.Text = dr[0].ToString();
            Label2.Text = dr[1].ToString();
            Label3.Text = dr[2].ToString();
            Label4.Text = dr[3].ToString();
         }
         conn.close();
     } 
```

# android - 使用自定义状态栏通知获取默认图标背景

> ID：12419068
> 
> 赞同：2
> 
> 时间：2012-09-14T06:15:10.407
> 
> 标签：android, android-layout

我目前正在创建一个自定义状态栏通知，以通过事件通知用户进度。我的自定义通知工作正常，但是有一个进度条需要我通过 contentView 字段将我自己的一组 RemoteViews 传递给通知。

这很好，除了我希望能够将此布局基于默认布局。我的目标是 API 10，因此它必须与 Gingerbread 和 ICS 一起使用。Gingerbread 很好，因为我可以在布局的左侧放置一个图标，并且通知适合其他默认的。然而，在 ICS 中，通知图标在左侧都有一个包含图标的条纹方块（它有效地形成了一个 UI“句柄”，以帮助指示可以滑动通知以将其关闭）。

有谁知道我如何在代码中获取默认布局，然后对其进行编辑（这对于 remoteViews 来说很难），或者以某种方式访问​​默认布局视图（可能在运行时），然后复制它，并将通知文本替换为我的进度条？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-19T19:48:56.587

我已经看到人们创建通知并克隆布局的示例，但是要对此做任何有用的事情，您必须对布局有很多了解。我宁愿从您感兴趣的 android 版本中获取布局文件。[这里](http://androidxref.com/4.1.1/xref/frameworks/base/core/res/res/layout/notification_template_base.xml)有 JB 版本，找到其他版本应该没有任何问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-15T21:23:26.133

如果您想要自定义布局的唯一原因是获得进度条，您可以查看 [NotificationCompat.Builder.setProgress()](http://developer.android.com/reference/android/support/v4/app/NotificationCompat.Builder.html#setProgress%28int,%20int,%20boolean%29). 这比使用自定义通知布局更容易。如果您决定使用自定义布局，它们在 API v14 和 API v17 之间仅略有变化，我不知道 Honeycomb 的情况，但它们不太可能有很大不同。这意味着您应该能够在 layout-v11 文件夹中使用一种自定义通知布局，在您的默认布局文件夹中使用一种，并且您将捕获大多数情况（除了 Honeycomb 向上的图标背景，我没有我还没有让那部分在我自己的自定义通知中工作）并且只需要维护两种不同的布局。默认布局的位置见上面的答案；请注意，它在早期版本的 Android 中称为 status_bar_latest_event_content.xml。

由于 setProgress() 至少可以从 Honeycomb 向上使用，并且看起来它也适用于早期版本（文档没有另外说明），那么如果您没有任何其他自定义要求，您可能应该使用它。

# jquery - 切换元素类配置

> ID：12419070
> 
> 赞同：0
> 
> 时间：2012-09-14T06:15:17.967
> 
> 标签：jquery, twitter-bootstrap, toggle, toggleclass

我对如何配置切换类有疑问。

[这里](http://fiddle.jshell.net/nSGBm/2/) 的问题，我无法配置工具类。一切正常，直到 div 折叠，但是当 div 折叠时，如果你将鼠标放在 div ( `.accordionhover-group`) 上，我会出错。文本不是白色的，但它一直是红色粗体（这样我看不到文本），并且图标箭头不是应该的白色。当我在折叠后将鼠标悬停在 div ( ) 上时，如何使我的*文本变为白色粗体*并将*图标箭头变为白色？*`.accordionhover-group`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T06:58:57.673

为了使您的文本变为粗体和白色，这里是 css

```
.accordionhover-group:hover{
    color: #fff;
    font-weight: bold;        
} 
```

悬停时的箭头，这是我建议你用来达到预期效果的 css。

```
.clicked .accordionhover-group i: hover  {
    background-position: -311px -99px;
    background-image:url("http://tommywebdesigner.com/img/glyphicons-halflings-white.png");
    float: right;
}

.clicked .accordionhover-group:hover i {
    background-position: -288px -93px;
    background-image:url("http://tommywebdesigner.com/img/glyphicons-halflings-white.png");
    float:right;
}

.icon-arrow-down-white {
    background-position: -311px -99px;
    float :right;
    margin-top: 5px;
    background-image: url("http://tommywebdesigner.com/img/glyphicons-halflings-white.png");
}

.icon-arrow-up-white {
    background-position: -288px -93px;
    float :right;
    margin-top: 5px;
    background-image: url("http://tommywebdesigner.com/img/glyphicons-halflings-white.png");
} 
```

也不需要在样式之后使用重要的。这是一篇关于在css中使用重要的好文章 [http://css-tricks.com/when-using-important-is-the-right-choice/](http://css-tricks.com/when-using-important-is-the-right-choice/)

# objective-c - Objective-C：是否可以看到完整的错误路径？

> ID：12419075
> 
> 赞同：1
> 
> 时间：2012-09-14T06:15:35.257
> 
> 标签：objective-c, error-handling

如何知道全栈错误？

我想知道，如果可能的话，查看一整套被调用的函数。

我有一个功能层次结构，具有“一般”->“非常专业”的层次结构。

假设我有 5 级层次结构。

每个函数都有完成错误块，定义如下：

```
typedef (^ErrorBlock)(NSError*error)

FunctionWithManyParams:(Param1Type*)param1.... onError:(ErrorBlock)ErrorBlock; 
```

层次结构中的每个函数都有相同的代码部分：

```
onError(NSError*error){
    ErrorBlock(error);
} 
```

所以，如果我从**高层调用函数（假设 n）**，它将从**(n-1) 层**调用函数等等。

如果**1 级**的函数有错误，它会回调到调用它的非常高级的函数（非常专业）。

是否有可能知道这个调用的完整路径？（或一些技术）？

我想要完整跟踪函数调用，所以，我需要添加如下内容：

```
 onError(NSError*error){
       NSString*errorDescription = [self getNameOfFunction];
       NSMutableDictionary * errorDictionary = [NSMutableDictionary dictionary];
       NSString*previousErrorDescription = [error description];

       [errorDictionary setValue:[NSString stringWithFormat:@"%@ >> %@",previousErrorDescription,errorDescription ] forKey:NSLocalizedDescriptionKey];
            NSError * errorNew = [NSError errorWithDomain:vkDomain
                                                  code:errorCode
                                              userInfo:errorDictionary
                               ];
        ErrorBlock(errorNew);
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T08:01:29.833

也许你需要：

```
NSLog(@"%@",[NSThread callStackSymbols]); 
```

# iphone - 触摸ccsprite后如何改变cocos2d中box2d对象的移动速度

> ID：12419076
> 
> 赞同：0
> 
> 时间：2012-09-14T06:15:56.720
> 
> 标签：iphone, cocos2d-iphone, physics, game-physics

![在此处输入图像描述](../Images/a54dd0da8c1f9c81df428ad058aa4d2d.png)我正在使用 cocos2d 开发 ios 游戏。在我的场景中，云以不同的速度从右到左移动。1）我只想当用户点击云时它从左到右移动得更快。2）当云离开视野时，它会再次从左侧出现并开始以正常速度向左移动。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T19:31:02.880

1.）检测用户触摸的云，增加身体的速度。要立即提高速度，请设置与云相关的 b2body 的线速度。要逐渐提高速度，请施加力/脉冲。例如：

在 ccTouches 开始

```
UITouch *touch = [touches anyObject];
CGPoint location = [touch locationInView:[touch view]];
location = [[CCDirector sharedDirector] convertToGL:location];
for(Cloud *cloud in clouds) {

   if (CGRectContainsPoint( cloud.boudingBox, location )) {

      b2Body *b = cloud.b2Body;
      b2Vec2 *currentVelocity = b->GetLinearVelocity();
      b2Vec2 *newVelocity = b2Vec2(currentVelocity.x + addToSpeed, currentVelocity.y);
      b->SetLinearVelocity( newVelocity );

   }

} 
```

2.) 在更新方法中检测云 b2body 位置何时移出视图。然后您可以使用精灵破坏云体并在所需位置创建一个新的，或者使用 b2Body->SetTransform() 使用 SetLinearVelocity(startingSpeed) 将云体移动到新位置

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T19:25:04.333

你的云是如何从左向右移动的？使用 CCMoveTo 或 ApplyLinearVelocity？

如果是 CCMoveTo，则在用户点击时停止操作，然后以不同的速度再次运行 CCMoveTo。

# java - SWTChart 鼠标事件处理

> ID：12419077
> 
> 赞同：1
> 
> 时间：2012-09-14T06:16:21.483
> 
> 标签：java, swt, mouseevent, swtchart

我找到[了 SWTChart 库](http://www.swtchart.org)，只是想知道如何用鼠标在 x 轴上选择一个范围，例如 1 到 3，我会得到属于所选 x 值的所有 y 轴值。

[![一只忙碌的猫](../Images/17b3575cdddc2e698fc5e5788c62c456.png)](https://i.stack.imgur.com/srXar.png)
[（来源：[swtchart.org](http://www.swtchart.org/screenshots/img/area.png)）]

```
package org.swtchart.examples;

import org.eclipse.swt.SWT;
import org.eclipse.swt.layout.FillLayout;
import org.eclipse.swt.widgets.Composite;
import org.eclipse.swt.widgets.Display;
import org.eclipse.swt.widgets.Shell;
import org.swtchart.Chart;
import org.swtchart.ILineSeries;
import org.swtchart.ISeries.SeriesType;

/**
* An example for area chart.
*/
public class AreaChartExample {

    private static final double[] ySeries1 = { 0.1, 0.38, 0.71, 0.92, 1.0 };

    private static final double[] ySeries2 = { 1.2, 3.53, 3.1, 0.1, 0.5 };

    /**
    * The main method.
    * 
    * @param args
    *            the arguments
    */
    public static void main(String[] args) {
        Display display = new Display();
        Shell shell = new Shell(display);
        shell.setText("Area Chart");
        shell.setSize(500, 400);
        shell.setLayout(new FillLayout());

        createChart(shell);

        shell.open();
        while (!shell.isDisposed()) {
            if (!display.readAndDispatch()) {
                display.sleep();
            }
        }
        display.dispose();
    }

    /**
    * create the chart.
    * 
    * @param parent
    *            The parent composite
    * @return The created chart
    */
    static public Chart createChart(Composite parent) {

        // create a chart
        Chart chart = new Chart(parent, SWT.NONE);

        // set titles
        chart.getTitle().setText("Area Chart");

        // create line series
        ILineSeries lineSeries1 = (ILineSeries) chart.getSeriesSet()
                .createSeries(SeriesType.LINE, "line series 1");
        lineSeries1.setYSeries(ySeries1);
        lineSeries1.setLineColor(Display.getDefault().getSystemColor(
                SWT.COLOR_RED));
        lineSeries1.enableArea(true);

        ILineSeries lineSeries2 = (ILineSeries) chart.getSeriesSet()
                .createSeries(SeriesType.LINE, "line series 2");
        lineSeries2.setYSeries(ySeries2);
        lineSeries2.enableArea(true);

        // adjust the axis range
        chart.getAxisSet().adjustRange();

        return chart;
    }
} 
```

在上面的示例中，如何包含用于选择范围的鼠标事件？

先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T08:07:55.180

以下代码应该让您了解如何执行此操作。基本上，您必须获取 的`chartArea`，`chart`添加侦听器`SWT.MouseDown`并`SWT.MouseUp`记住这两个事件的位置。回答您的评论：是的，您可以使用`SWT.Paint`侦听器添加“突出显示”功能。

```
import org.eclipse.swt.SWT;
import org.eclipse.swt.graphics.GC;
import org.eclipse.swt.layout.FillLayout;
import org.eclipse.swt.widgets.Composite;
import org.eclipse.swt.widgets.Display;
import org.eclipse.swt.widgets.Event;
import org.eclipse.swt.widgets.Listener;
import org.eclipse.swt.widgets.Shell;
import org.swtchart.Chart;
import org.swtchart.IAxis;
import org.swtchart.ILineSeries;
import org.swtchart.ISeries.SeriesType;

    /**
    * An example for area chart.
    */
    public class AreaChartExample {

        private static final double[] ySeries1 = { 0.1, 0.38, 0.71, 0.92, 1.0 };

        private static final double[] ySeries2 = { 1.2, 3.53, 3.1, 0.1, 0.5 };

        /* Used to remember location point of mouse down */
        private static double startX;
        private static double startY;

        private static int startXPos;
        private static int startYPos;

        private static int currentX;
        private static int currentY;

        private static boolean drag = false;

        /**
        * The main method.
        * 
        * @param args
        *            the arguments
        */
        public static void main(String[] args) {
            Display display = new Display();
            Shell shell = new Shell(display);
            shell.setText("Area Chart");
            shell.setSize(500, 400);
            shell.setLayout(new FillLayout());

            createChart(shell);

            shell.open();
            while (!shell.isDisposed()) {
                if (!display.readAndDispatch()) {
                    display.sleep();
                }
            }
            display.dispose();
        }

        /**
        * create the chart.
        * 
        * @param parent
        *            The parent composite
        * @return The created chart
        */
        static public Chart createChart(Composite parent) {

            // create a chart
            final Chart chart = new Chart(parent, SWT.NONE);

            // set titles
            chart.getTitle().setText("Area Chart");

            // create line series
            ILineSeries lineSeries1 = (ILineSeries) chart.getSeriesSet()
                    .createSeries(SeriesType.LINE, "line series 1");
            lineSeries1.setYSeries(ySeries1);
            lineSeries1.setLineColor(Display.getDefault().getSystemColor(
                    SWT.COLOR_RED));
            lineSeries1.enableArea(true);

            ILineSeries lineSeries2 = (ILineSeries) chart.getSeriesSet()
                    .createSeries(SeriesType.LINE, "line series 2");
            lineSeries2.setYSeries(ySeries2);
            lineSeries2.enableArea(true);

            // adjust the axis range
            chart.getAxisSet().adjustRange();

            /* Get the plot area and add the mouse listeners */
            final Composite plotArea = chart.getPlotArea();

            plotArea.addListener(SWT.MouseDown, new Listener() {

                @Override
                public void handleEvent(Event event) {
                    IAxis xAxis = chart.getAxisSet().getXAxis(0);
                    IAxis yAxis = chart.getAxisSet().getYAxis(0);

                    startX = xAxis.getDataCoordinate(event.x);
                    startY = yAxis.getDataCoordinate(event.y);

                    startXPos = event.x;
                    startYPos = event.y;

                    drag = true;
                }
            });

            plotArea.addListener(SWT.MouseUp, new Listener() {

                @Override
                public void handleEvent(Event event) {
                    IAxis xAxis = chart.getAxisSet().getXAxis(0);
                    IAxis yAxis = chart.getAxisSet().getYAxis(0);

                    double endX = xAxis.getDataCoordinate(event.x);
                    double endY = yAxis.getDataCoordinate(event.y);

                    System.out.println(startX + " " + endX);
                    System.out.println(startY + " " + endY);

                    drag = false;

                    plotArea.redraw();
                }
            });

            plotArea.addListener(SWT.MouseMove, new Listener() {

                @Override
                public void handleEvent(Event event) {
                    if(drag)
                    {
                        currentX = event.x;
                        currentY = event.y;

                        plotArea.redraw();
                    }
                }
            });

            plotArea.addListener(SWT.Paint, new Listener() {

                @Override
                public void handleEvent(Event event) {
                    if(drag)
                    {
                        GC gc = event.gc;

                        gc.setBackground(Display.getDefault().getSystemColor(SWT.COLOR_RED));
                        gc.setAlpha(128);

                        int minX = Math.min(startXPos, currentX);
                        int minY = Math.min(startYPos, currentY);

                        int maxX = Math.max(startXPos, currentX);
                        int maxY = Math.max(startYPos, currentY);

                        int width = maxX - minX;
                        int height = maxY - minY;

                        gc.fillRectangle(minX, minY, width, height);
                    }
                }
            });

            return chart;
        }
    } 
```

# c - 需要明确在 OpenCV 中使用 cvCaptureFromFile

> ID：12419079
> 
> 赞同：3
> 
> 时间：2012-09-14T06:16:40.853
> 
> 标签：c, opencv, video-streaming, video-capture

我遇到了一个不寻常的问题。我使用`CvCapture *URL=cvCaptureFromFile("http://192.168.X.X:8080")`应该是网络上视频的链接来捕获视频。

现在的问题是：即使没有视频或该链接上没有任何内容，cvCaptureFromFile 也永远不会返回 NULL。我收到这条消息：`[tcp @ 0x609f20] TCP connection to 192.168.X.X:8080 failed: No route to host`。这会使我的程序陷入无限循环，因为它在`cvQueryFrame(URL)`

为什么当地址上什么都没有时它不返回NULL，更不用说有视频了（绝对没有，甚至PC都不会忘记应该流式传输视频的IPCam）。如果我能够获取 API 返回的错误，那么我可以处理其他部分。

请解释为什么会发生这种情况以及如何获取 API 报告的错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T06:58:48.083

为了处理错误，请编写如下内容：

```
CvCapture* URL= cvCaptureFromFile("rtsp://192.168.X.X:8080");  //uses real time streaming protocol instead of http
if(!URL) 
      { 
            exit(1);           
      } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T08:33:45.367

in cv::VideoCapture (the C++ interface to cv::CaptureFromFile), there is a function bool isOpened();

The structure is allocated, but you cannot grab frames from it.

# iphone - iOS - 如何在 iPhone 中成功交易后从贝宝中检索交易 ID

> ID：12419081
> 
> 赞同：1
> 
> 时间：2012-09-14T06:16:58.623
> 
> 标签：iphone, paypal

我是 iPhone 开发的新手，我已经在我的 iPhone 应用程序中实现了 paypal sdk 并检查了沙盒环境，一切都运行良好，但是我需要在成功完成后找到 paypal 返回的交易 ID。我在下面检查了这个功能

```
- (void)paymentSuccessWithKey:(NSString *)payKey andStatus:(PayPalPaymentStatus)paymentStatus 
{
     status = PAYMENTSTATUS_SUCCESS;
} 
```

但是它只向我显示状态。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:23:58.263

您是否查看过 PayPal 提供的示例应用程序。这是示例应用程序中的委托方法，按照此您可以从中获取 transactionId...

```
//paymentSuccessWithKey:andStatus: is a required method. in it, you should record that the payment
//was successful and perform any desired bookkeeping. you should not do any user interface updates.
//payKey is a string which uniquely identifies the transaction.
//paymentStatus is an enum value which can be STATUS_COMPLETED, STATUS_CREATED, or STATUS_OTHER
- (void)paymentSuccessWithKey:(NSString *)payKey andStatus:(PayPalPaymentStatus)paymentStatus 
{
    NSString* transactionId = [[NSString alloc] initWithString:[payKey substringFromIndex:3]];
    status = PAYMENTSTATUS_SUCCESS;

    [self messageAlert:[NSString stringWithFormat:@"%@",transactionId] 
             title:@"Transaction success" delegate:nil];
    [transactionId release];
} 
```

# android - ContentResolver.setSyncAutomatically(Account account, String authority, boolean sync) 它的第二个参数是什么意思？

> ID：12419082
> 
> 赞同：2
> 
> 时间：2012-09-14T06:17:03.450
> 
> 标签：android, android-contentresolver

我正在尝试以编程方式在日历中添加事件，事件立即出现在 android 手机的日历应用程序中，但在谷歌日历中它们会在一段时间后出现，我希望它们也立即出现在谷歌日历中。

我在网上搜索，发现一个帖子提到“ContentResolver.setSyncAutomatically(Account account, String authority, boolean sync) function can help.

但是我不明白，什么是String权限？ContentResolver 的文档说它是“行为受到控制的提供者”....这是什么意思？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-14T06:28:01.777

权限是 uri 类型之后的部分。这是您要查询的内容提供者的标识符。在日历的情况下，通常事件的 uri 将是

```
content://com.android.calendar/events/1 
```

那么权威是`com.android.calendar`

# ruby-on-rails - 为嵌套路由包装命名路由助手

> ID：12419083
> 
> 赞同：4
> 
> 时间：2012-09-14T06:17:09.413
> 
> 标签：ruby-on-rails, ruby, url-routing

因此，我刚刚与一位同事进行了激烈的宗教争论。

我们有对象模型和 routes.rb：

```
resources :orgs do
  resources :lists do
    resources :posts do
      resources :replies
    end
  end
end 
```

所有这些关系都是一对多的，即一个列表将始终恰好属于 1 个组织，一个帖子将始终恰好属于 1 个列表等。我们非常清楚对多嵌套路由的普遍厌恶，但有意识地决定朝这个方向走。

不幸的是，这意味着当您想要链接到编辑回复时，您必须编写：

`edit_org_list_post_reply_path( reply.post.list.org, reply.post.list, reply.list, reply )`

感觉很傻。

我希望能够做类似的事情：

`fast_path( action: :edit, model: reply, type: :path )`

并利用回复仅属于一个帖子、属于一个列表等这一事实来计算其余部分。就像是：

```
def fast_path options
  action = options[:action]
  model = options[:model]
  path_or_url = options[:type]

  model_fields = {
    reply: [:org, :list, :post]
    post: [:org, :list],
    list: [:org]
  }[model.class.name]

  arguments = model_fields.map { |field| model.send(field) } + [model]
  named_route_name = model_fields.join("_") + "_" + path_or_url
  named_route_name = action + "_" + named_route_name if action

  send(named_route_name, arguments)
end 
```

虽然我还没有验证这是否有效或者是特别好的代码。

但是，我的同事以前做过类似的事情，他重写了许多命名路线，以使它们更易于调用。他声称这只会导致痛苦、绝望和折磨，并且这次他正在竭尽全力将这些尝试排除在我们的代码之外。

我很高兴错了，所以请告诉我们您的想法！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-03T23:14:51.743

如果您不想覆盖路径助手（无疑有充分的理由不这样做），您可以向`Reply`模型添加一个方法，如下所示：

```
def path_args  
  [post.list.org, post.list, post, self]
end 
```

然后只需调用：`edit_org_list_post_reply_path(*reply.path_args)`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-12T03:06:38.547

你考虑过[浅嵌套](http://guides.rubyonrails.org/routing.html#shallow-nesting)吗？

```
resources :orgs, shallow: true do
  resources :lists, shallow: true do
    resources :posts, shallow: true do
      resources :replies
    end
  end
end 
```

然后你仍然会得到所有集合的深路径，但所有成员的浅路径：

```
+---------------------+-----------+---------------------------------------+-------------------+
| Helper              | HTTP Verb | Path                                  | Controller#Action |
+---------------------+-----------+---------------------------------------+-------------------+
| post_replies_path   | GET       | /posts/:post_id/replies(.:format)     | replies#index     |
|                     | POST      | /posts/:post_id/replies(.:format)     | replies#create    |
| new_post_reply_path | GET       | /posts/:post_id/replies/new(.:format) | replies#new       |
| edit_reply_path     | GET       | /replies/:id/edit(.:format)           | replies#edit      |
| reply_path          | GET       | /replies/:id(.:format)                | replies#show      |
|                     | PATCH     | /replies/:id(.:format)                | replies#update    |
|                     | PUT       | /replies/:id(.:format)                | replies#update    |
|                     | DELETE    | /replies/:id(.:format)                | replies#destroy   |
| list_posts_path     | GET       | /lists/:list_id/posts(.:format)       | posts#index       |
|                     | POST      | /lists/:list_id/posts(.:format)       | posts#create      |
| new_list_post_path  | GET       | /lists/:list_id/posts/new(.:format)   | posts#new         |
| edit_post_path      | GET       | /posts/:id/edit(.:format)             | posts#edit        |
| post_path           | GET       | /posts/:id(.:format)                  | posts#show        |
|                     | PATCH     | /posts/:id(.:format)                  | posts#update      |
|                     | PUT       | /posts/:id(.:format)                  | posts#update      |
|                     | DELETE    | /posts/:id(.:format)                  | posts#destroy     |
| org_lists_path      | GET       | /orgs/:org_id/lists(.:format)         | lists#index       |
|                     | POST      | /orgs/:org_id/lists(.:format)         | lists#create      |
| new_org_list_path   | GET       | /orgs/:org_id/lists/new(.:format)     | lists#new         |
| edit_list_path      | GET       | /lists/:id/edit(.:format)             | lists#edit        |
| list_path           | GET       | /lists/:id(.:format)                  | lists#show        |
|                     | PATCH     | /lists/:id(.:format)                  | lists#update      |
|                     | PUT       | /lists/:id(.:format)                  | lists#update      |
|                     | DELETE    | /lists/:id(.:format)                  | lists#destroy     |
| orgs_path           | GET       | /orgs(.:format)                       | orgs#index        |
|                     | POST      | /orgs(.:format)                       | orgs#create       |
| new_org_path        | GET       | /orgs/new(.:format)                   | orgs#new          |
| edit_org_path       | GET       | /orgs/:id/edit(.:format)              | orgs#edit         |
| org_path            | GET       | /orgs/:id(.:format)                   | orgs#show         |
|                     | PATCH     | /orgs/:id(.:format)                   | orgs#update       |
|                     | PUT       | /orgs/:id(.:format)                   | orgs#update       |
|                     | DELETE    | /orgs/:id(.:format)                   | orgs#destroy      |
+---------------------+-----------+---------------------------------------+-------------------+ 
```

# html - 为按钮添加活动状态

> ID：12419089
> 
> 赞同：0
> 
> 时间：2012-09-14T06:17:44.323
> 
> 标签：html, css, button

我有一个用于 Web 应用程序控制的垂直导航栏。导航栏用于作为选择性工具栏。

因此，除了按钮的正常和悬停状态外，在按下按钮时必须有一个 Active 状态。

活动状态应该让按下的按钮变为较暗的背景颜色，直到按下其他按钮。

我怎样才能做到这一点？可以在 CSS 中完成吗？还是需要 jQuery？我刚刚在 CSS 中尝试了 li:active 但不起作用。

下面是 HTML：

```
<div class="navigation">
            <ul class="app_button" >
                <li><a href="XXX" class="app_button"><span>]</span>Function1</a></li>
                <li><a href="#" class="app_button"><span>]</span>Function2</a></li>
                  <ul class="sub_app_button">
                   <li><a  href="aaa">subfunction1</a></li>
                   <li><a  href="bbb">subfunction2</a></li>
                   <li><a  href="ccc">subfunction3</a></li>
                   <li><a  href="ddd">subfunction4</a></li>
                  </ul>
                <li><a href="#" class="app_button"><span>]</span>Function3</a></li>
                  <ul class="sub_app_button">
                   <li><a  href="eee" >subfunction5</a></li>
                   <li><a  href="fff" >subfunction6</a></li>
                  </ul>
            </ul> <!-- end:app_button -->
        </div> <!-- end:navigation --> 
```

下面是CSS：

```
div.inner_page div.navigation  ul.app_button li{
   left:0;
   display: block;
   margin:0px;
   padding: 0;
}

div.inner_page div.navigation  ul.app_button li a 
{
    font-size:16px;
    display: block;
    width: 100%;
    padding: 8px 0px 6px 0px;
    color: #ffffff;
    text-decoration: none;
    background: #aaa;
    border-bottom:none;
    border-top:none;
}
div.inner_page div.navigation  ul.app_button li a:hover 
{    

    width: 150px;
    color: #9be163;
    background: #333333;
    top: 0px;
    border-bottom:none;
    border-top:none;

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T06:21:21.657

您可以使用`:active`伪选择器：

```
div.inner_page div.navigation  ul.app_button li a:active
{    
    background: #111;/*whichever color you prefer*/
} 
```

现在你的按钮应该有一个更暗的背景 onClick :)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T07:21:55.230

为了确保您必须确保在页面刷新时，该按钮被赋予一个“活动”或类似的实际类，然后正确地设置它的样式。正如凯尔所写，这将不得不依赖于您的 cms，而不仅仅是 css。

# ios - 源代码与编译代码

> ID：12419091
> 
> 赞同：0
> 
> 时间：2012-09-14T06:17:53.477
> 
> 标签：ios, compilation

我注意到一些我以前从未见过的东西，我希望有人能准确地澄清发生了什么。

我在我的开发设备上安装了 iOS 6，然后从 App Store 下载了我的应用程序。该应用程序是在没有 iOS 6 SDK 的旧版 Xcode 中创建的。当我去拿它时，它在我的设备上运行良好。

但是，我现在拥有带有 iOS 6 SDK 的 Xcode 4.5。我打开了我的旧 Xcode 项目，它具有用于在应用商店中构建应用程序的完全相同的源代码 - 对代码没有任何更改。当我从 Xcode 在我的 iOS 6 设备上再次运行该项目时，该应用程序存在错误，并且完全没有按预期运行。

我知道源代码是相同的，那么这是由于不同的 SDK 导致的不同编译二进制文件的结果吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:22:29.087

出于某种原因，在公开发布前几个月，每个主要版本都有一个开发者测试版。

Xcode 4.5 发生了很多变化。iOS SDK 6.0 有[**很多**变化](https://developer.apple.com/library/prerelease/ios/#releasenotes/General/iOS60APIDiffs/index.html)（需要 iOS Developer Program 打开链接），armv6 支持（iPhone 3G 和旧型号使用的架构）消失，编译器有一些新功能等等。

简而言之，当工具发生变化时，代码需要一些维护是很正常的。

# java - LOCAL_SRC_FILES 指向丢失的文件

> ID：12419093
> 
> 赞同：-11
> 
> 时间：2012-09-14T06:18:13.740
> 
> 标签：java, eclipse, cygwin, unix-ar

我正在做一个增强现实程序。我被交给了这个项目，我是 cygwin 和 android 编程的新手。我必须使用 cygwin 来编译我的一个 cpp 文件。但是，当我在 cygwin 上进行 ndk-build 时，会出现此错误：

```
$ ndk-build
Android NDK: ERROR:/cygdrive/c/project/jni/Android.mk:QCAR-prebuilt: LOCAL_SRC_FILES points to a missing file   
Android NDK: Check that /cygdrive/c/project/jni//../../../build/lib/armeabi/libQCAR.so exists  or that its path is correct
/cygdrive/c/android-ndk-r8b/build/core/prebuilt-library.mk:43: *** Android NDK: Aborting    .  Stop. 
```

这是我的 android.mk 代码：

```
LOCAL_PATH := $(call my-dir)

include $(CLEAR_VARS)
LOCAL_MODULE := QCAR-prebuilt
LOCAL_SRC_FILES = /../../../build/lib/$(TARGET_ARCH_ABI)/libQCAR.so
LOCAL_EXPORT_C_INCLUDES := $(LOCAL_PATH)/../../../build/include
include $(PREBUILT_SHARED_LIBRARY)
include $(CLEAR_VARS)

LOCAL_MODULE := ImageTargets
# The TARGET_PLATFORM defines the targetted Android Platform API level
TARGET_PLATFORM := android-5
# This variable determines the OpenGL ES API version to use:
# If set to true, OpenGL ES 1.1 is used, otherwise OpenGL ES 2.0.
USE_OPENGL_ES_1_1 := false
# Set OpenGL ES version-specific settings.
ifeq ($(USE_OPENGL_ES_1_1), true)
    OPENGLES_LIB  := -lGLESv1_CM
    OPENGLES_DEF  := -DUSE_OPENGL_ES_1_1
else
    OPENGLES_LIB  := -lGLESv2
    OPENGLES_DEF  := -DUSE_OPENGL_ES_2_0
endif

LOCAL_CFLAGS := -Wno-write-strings $(OPENGLES_DEF)

LOCAL_LDLIBS := \
    -llog $(OPENGLES_LIB)

LOCAL_SHARED_LIBRARIES := QCAR-prebuilt

LOCAL_SRC_FILES := ImageTargets.cpp SampleUtils.cpp Texture.cpp

LOCAL_ARM_MODE := arm

include $(BUILD_SHARED_LIBRARY)** 
```

我不是编程专家，所以我需要一些指导。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-12-21T17:37:16.223

有同样的问题，尝试了多条路径，但效果很好。最终解决了这个问题，只需将示例项目复制到 Development\Android\vuforia-sdk-android-2-0-30\samples 文件夹中，然后通过 cygwin 执行 ndk-build。希望有帮助:-)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-30T08:54:47.057

显然，默认`Android.mk`假定该`ImageTargets`文件夹位于`../vuforia-sdk-android-x-x-xx/samples/ImageTargets-x-x-x`，但是在我下载了示例并将它们解压缩到示例目录后，该位置如下：`../vuforia-sdk-android-x-x-xx/samples/vuforia-sampleapps-android-x-x-xx/ImageTargets-x-x-x`. 所以原来有一个额外的子目录，这就是构建失败的原因。为了使它工作，我编辑`Android.mk`如下：

```
LOCAL_SRC_FILES = /../../../build/lib/$(TARGET_ARCH_ABI)/libQCAR.so
LOCAL_EXPORT_C_INCLUDES := $(LOCAL_PATH)/../../../build/include 
```

应该改为

```
LOCAL_SRC_FILES = /../../../../build/lib/$(TARGET_ARCH_ABI)/libQCAR.so
LOCAL_EXPORT_C_INCLUDES := $(LOCAL_PATH)/../../../../build/include 
```

，其中额外的一组`/..`负责处理该额外的子文件夹。这个解决方案对我有用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-11-06T08:34:11.937

第 1 步：将示例复制到 C:\Development\Android\vuforia-sdk-android-2-0-31\samples

第 2 步：打开命令提示符

编写命令 1：cd C:\Development\Android\vuforia-sdk-android-2-0-31\samples\ImageTargets-2-0-7

编写命令 2：ndk-build

第 3 步：将项目导入 Eclipse

第 4 步：[https ://developer.vuforia.com/resources/dev-guide/step-3-compiling-running-vuforia-sample-app](https://developer.vuforia.com/resources/dev-guide/step-3-compiling-running-vuforia-sample-app)

所以构建成功。不要忘记在环境变量中设置 ndk 的路径。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-12-25T20:29:08.020

我有类似的问题，我将变量设置`NDK_TOOLCHAIN_VERSION`为 r9，而它必须是 4.8 或 4.4。我将其更改为 4.8 并且有效。

PS：检查丢失的文件是否确实存在会有所帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-05-11T08:27:26.937

我想添加我的 2c，以防万一它帮助一些可怜的灵魂。就我而言，ndk 不喜欢前导反斜杠。即从

```
LOCAL_SRC_FILES := /foo/foo.so 
```

至

```
LOCAL_SRC_FILES := foo/foo.so 
```

解决了我的问题。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-01-27T14:38:53.760

只是为工作解决方案列表做出贡献，以防万一上述所有方法都不起作用。

就我而言，事实证明我的路径中有一个**空间**。Cygwin 非常不喜欢路径中的空格。删除路径中的空格解决了这个问题。

作为提示，您可能希望将您的工作目录放在类似的路径中，`C:\projects\MyNativeProject`并将您的 Android SDK 和 NDK 放在没有空格的路径中。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-11-07T04:02:45.173

使用相对目录路径适用于 Mac：

```
-LOCAL_SRC_FILES := $(LOCAL_PATH)/lib/$(ARCH_PATH)/lib.so
+LOCAL_SRC_FILES := ./lib/$(ARCH_PATH)/lib.so 
```

# android - 如何从服务调用 Activity 的 onNewIntent()

> ID：12419094
> 
> 赞同：2
> 
> 时间：2012-09-14T06:18:17.853
> 
> 标签：android, android-intent

如何从服务执行 Activity 的 onNewIntent()？触发意图时要给出什么标志？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T06:37:18.187

你不能自己调用`onNewIntent`​​它会被系统调用。如果您的活动可以处理触发的意图，那么它将自动调用，检查您的意图和相关的意图过滤器。

仅当您的活动是单顶活动并且您的活动的 Oncreate 已被调用时才会调用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T07:36:14.343

例如，如果您想为通知做一些事情，则必须覆盖此方法

```
 NotificationManager notificationManager = (NotificationManager)context.getSystemService(Context.NOTIFICATION_SERVICE);
    Notification notification = new Notification(com.example.xyz.R.drawable.ic_launcher,message1, when);

    Intent notificationIntent = new Intent(context,com.example.xyz.DemoActivity.class);
    // set intent so it does not start a new activity
    notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP |Intent.FLAG_ACTIVITY_SINGLE_TOP);
    notificationIntent.putExtra("MESSAGE",pkgName);
    notificationIntent.putExtra("APP_STATUS", AppStatus);
    notificationIntent.putExtra("APP_NAME",AppName);
    //PendingIntent.FLAG_UPDATE_CURRENT will update the notification 
    PendingIntent intent=PendingIntent.getActivity(context, 0, notificationIntent,PendingIntent.FLAG_UPDATE_CURRENT );
    notification.setLatestEventInfo(context, title, message1, intent);
    notification.flags |= Notification.FLAG_AUTO_CANCEL;
    notificationManager.notify(0, notification); 
```

我的 DemoActivity.class 看起来像

```
 public class DemoActivity extends Activity{

 public static String BROADCAST_ACTION = "com.example.android.APP_CLOUD_DELETE_APK";
 private TextView  messsageText,NotificationHeader;
 private Button okButton;
 private int AppStatusId;
 private String PkgName,app_name,ApkFileName;
 private RegisterTask mRegisterTask;

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.demo_activity);
    //  if this activity is not  in stack , this mwthod will be called

}

@Override
protected void onNewIntent(Intent intent) {
    // TODO Auto-generated method stub
    // if this activity is in stack , this mwthod will be called
} 
```

# ruby-on-rails - 使用一些参数运行 rails runner

> ID：12419095
> 
> 赞同：13
> 
> 时间：2012-09-14T06:18:27.423
> 
> 标签：ruby-on-rails, ruby, linux, bash, command-line

这个命令是我的问题：

```
/usr/local/bin/ruby **script/runner** --environment=production app/jobs/**my_job.rb** -t my_arg

`my_job.rb` is my script, which handles command line arguments. In this case it is `-t my_arg`. 
```

`my_job.rb`也以 `--environment=production' 作为参数，应该是脚本/运行器的参数。
我想这可以使用一些括号来解决，但没有任何想法。

如果解决方案不涉及（或依赖于）Rails 或 Linux 的全局环境，那就更好了。

```
/usr/local/lib/ruby/1.8/optparse.rb:1450:in `complete': invalid option: --environment=production (OptionParser::InvalidOption)
  from /usr/local/lib/ruby/1.8/optparse.rb:1448:in `catch'
  from /usr/local/lib/ruby/1.8/optparse.rb:1448:in `complete'
  from /usr/local/lib/ruby/1.8/optparse.rb:1261:in `parse_in_order'
  from /usr/local/lib/ruby/1.8/optparse.rb:1254:in `catch'
  from /usr/local/lib/ruby/1.8/optparse.rb:1254:in `parse_in_order'
  from /usr/local/lib/ruby/1.8/optparse.rb:1248:in `order!'
  from /usr/local/lib/ruby/1.8/optparse.rb:1339:in `permute!'
  from /usr/local/lib/ruby/1.8/optparse.rb:1360:in `parse!'
  from app/jobs/2new_error_log_rt_report.rb:12:in `execute'
  from app/jobs/2new_error_log_rt_report.rb:102
  from /usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `eval'
  from /home/www/maldive/admin/releases/20120914030956/vendor/rails/railties/lib/commands/runner.rb:46
  from /usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
  from /usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
  from script/runner:3 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-14T06:30:36.717

[`script/runner`](http://guides.rubyonrails.org/v2.3.11/command_line.html#runner)不需要文件路径，而是需要一些 Ruby 来执行：

```
script/runner "MyClass.do_something('my_arg')" 
```

您始终可以使用环境变量设置 Rails 环境，例如：

```
RAILS_ENV=production script/runner "MyClass.do_something('my_arg')" 
```

如果你想运行一些复杂的任务，你最好把它写成一个 Rake 任务。例如，您可以创建文件`lib/tasks/foo.rake`：

```
namespace :foo do
  desc 'Here is a description of my task'
  task :bar => :environment do
    # Your code here
  end
end 
```

您可以使用以下命令执行此操作：

```
rake foo:bar 
```

与您一样，`script/runner`您可以使用环境变量设置环境：

```
RAILS_ENV=production rake foo:bar 
```

也可以[将参数传递给 Rake 任务](https://stackoverflow.com/questions/825748/how-do-i-pass-command-line-arguments-to-a-rake-task)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-14T07:09:55.030

我假设您使用的是较旧的 Rails，`script/runner`因为我不知道这是否适用于较旧的 Rails，但在较新的 Rails 中，您可以`require 'config/environment'`，它会加载应用程序。然后你可以在那里写你的脚本。

例如，我有一个脚本，它接受一个参数，如果提供了它就打印出来，然后打印出我的应用中有多少用户：

文件：app/jobs/my_job.rb

```
require 'optparse'

parser = OptionParser.new do |options|
  options.on '-t', '--the-arg SOME_ARG', 'Shows that we can take an arg' do |arg|
    puts "THE ARGUMENT WAS #{arg.inspect}"
  end
end

parser.parse! ARGV

require_relative '../../config/environment'

puts "THERE ARE #{User.count} USERS" # I have a users model 
```

不带参数调用：

```
$ be ruby app/jobs/my_job.rb 
THERE ARE 2 USERS 
```

使用 arg 速记调用：

```
$ be ruby app/jobs/my_job.rb -t my_arg
THE ARGUMENT WAS "my_arg"
THERE ARE 2 USERS 
```

使用 arg 长手调用：

```
$ be ruby app/jobs/my_job.rb --the-arg my_arg
THE ARGUMENT WAS "my_arg"
THERE ARE 2 USERS 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2021-09-28T12:41:34.440

只需使用以下语法：

```
rails runner <.rb file path> [..args] 
```

使用`ARGV`which is an `array`in your`.rb`来阅读论点。

# javascript - 本地存储中的字符串到字节数组转换

> ID：12419097
> 
> 赞同：0
> 
> 时间：2012-09-14T06:18:42.587
> 
> 标签：javascript, jquery, asp.net, ajax, local-storage

我正在asp.net中开发一个应用程序，当用户上传图像时，我在其中实现图像上传控制，它存储到localstorgae中并在本地存储中以字符串的形式保存，我想将它转换为字节数组所以我可以通过 javascript 文件中的 ajax post 将其发送到控制器，所以请告诉我它是如何可能的或如何将其转换为字节数组。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T06:25:49.620

我假设您将图像保存为数据 url，它是 base 64 编码。因此，您只需要将字符串发送到服务器并使用 base 64 对其进行解码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:31:29.010

在 .NET 中，您将使用 Encoding 类将字符串转换为字节，根据编码类型，您可能需要使用 UTF8 或 ASCII。

```
Encoding ascii = Encoding.ASCII;
bytes[] byteData = ascii.GetBytes("string"); 
```

# c# - 屏幕焦点和谁在顶部

> ID：12419102
> 
> 赞同：0
> 
> 时间：2012-09-14T06:19:24.240
> 
> 标签：c#, winforms, focus

我有一个 .net 4 WinForms 应用程序。主屏幕显示作业列表，这些作业要么通过轮询 WCF 服务检索，要么由用户手动输入。

用户还可以查看与工作有关的各种表格、执行工作的人员、工作地点等。

然而，当这些表单在主屏幕上弹出时，它们会间歇性地消失在主屏幕后面。我认为这是因为轮询刷新了主屏幕的工作列表并使其成为焦点。

我最初通过为所有“子”表单设置 TopMost = true 来解决这个问题，但是当我发现它甚至将 InputDialogs 发送到后面时，我开始认为我做错了。

是否有另一种方法可以阻止主屏幕向前方弯曲？我被告知不要在这个应用程序中使用 MDI，所以它不是一个选项。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T06:24:13.493

您需要设置[Child Forms Owner Property](http://msdn.microsoft.com/en-us/library/system.windows.forms.form.owner%28v=vs.100%29.aspx)。或者当您当时在父表单中[显示](http://msdn.microsoft.com/en-us/library/szcefbbd.aspx)表单时。

从上面的链接：

> 拥有的表单也永远不会显示在其拥有者表单的后面。You can use owned forms for windows such as find and replace windows, which should not disappear when the owner form is selected. 若要确定由父窗体拥有的窗体，请使用 OwnedForms 属性。

# java - 使用 2 个 JComboBoxes 做不同的数学方程，java

> ID：12419105
> 
> 赞同：0
> 
> 时间：2012-09-14T06:19:50.563
> 
> 标签：java, swing, if-statement, actionlistener, jcombobox

我正在尝试用 Java 获得一个简单的货币转换器。我的问题是我无法让不同的方程式起作用，我尝试将 ActionListener 用于 JComboBox 和 if 语句，但它似乎不起作用。有人可以帮助我吗？ [http://pastebin.com/RuM2jF5q](http://pastebin.com/RuM2jF5q) 是我的全部代码，如果有不清楚的地方请问我:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T06:47:09.387

我在您的代码中看到两个问题：

*   将 konvleft 和 konvright 文本字段添加到面板时，您颠倒了它们。您应该先添加 konvleft，然后再添加 konvright，否则它们会颠倒过来。

*   在第二个 ActionListener 中，您仍在解析相同的 konvleft.getText() 值，而不是解析 konvright 的值

修复上述问题，您将看到它正常工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T07:16:04.440

试试这个：

```
import java.awt.Container;
import java.awt.Font;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JTextField;

public class Copy {

    /**
     * @param args
     */
    public static void main(String[] args) {

        JFrame ramme = new JFrame("Valutakalkulator");
        ramme.setResizable(true);
        ramme.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        ramme.setBounds(200, 300, 400, 200);
        Container panel = ramme.getContentPane();
        panel.setLayout(new GridLayout(4,1,10,10));

        String[] Valutavalg = { "USD","NOK","EUR" };        

        final JComboBox<?> Valutavalg1 = new JComboBox<Object>(Valutavalg);
        final JComboBox<?> Valutavalg2 = new JComboBox<Object>(Valutavalg);

        final JTextField konvleft = new JTextField("0");
        final JTextField konvright = new JTextField("0");
        final JTextField utbytte = new JTextField ("Utbytte av valuta");

        JButton bleft = new JButton("Konverter  -->");
        JButton bright = new JButton("<--  Konverter");

        bleft.setFont(new Font("sansserif", Font.PLAIN + Font.BOLD, 14));
        bright.setFont(new Font("sansserif", Font.PLAIN + Font.BOLD, 14));

        panel.add(Valutavalg1);
        panel.add(Valutavalg2);
        panel.add(bleft);
        panel.add(bright);
        panel.add(konvleft);
        panel.add(konvright);
        panel.add(utbytte);

        ramme.setVisible(true);

        ActionListener ValutaLeft = new ActionListener() {
            public void actionPerformed(ActionEvent actionEvent) {

                double numl = Double.parseDouble(konvleft.getText());
                int combovalg1 = Valutavalg1.getSelectedIndex();
                int combovalg2 = Valutavalg2.getSelectedIndex();

                if (combovalg1==0){
                    if (combovalg2==0){
                        double totaltVerdi = numl*10;
                        setTotal(totaltVerdi, utbytte);
                    }
                    if (combovalg2==1){
                        double totaltVerdi = numl*100;
                        setTotal(totaltVerdi, utbytte);
                    }
                    if (combovalg2==2){
                        double totaltVerdi = numl*1000;
                        setTotal(totaltVerdi, utbytte);
                    }   
                }
                if (combovalg1==1){
                    if (combovalg2==0){
                        double totaltVerdi = numl*1000;
                        setTotal(totaltVerdi, utbytte);
                    }
                    if (combovalg2==1){
                        double totaltVerdi = numl*100000;
                        setTotal(totaltVerdi, utbytte);
                    }
                    if (combovalg2==2){
                        double totaltVerdi = numl*1000000;
                        setTotal(totaltVerdi, utbytte);
                    }   
                }
                if (combovalg1==2){
                    if (combovalg2==0){
                        double totaltVerdi = numl*1000000;
                        setTotal(totaltVerdi, utbytte);
                    }
                    else if (combovalg2==1){
                        double totaltVerdi = numl*1000000;
                        setTotal(totaltVerdi, utbytte);
                    }
                    else if (combovalg2==2){
                        double totaltVerdi = numl*10000000;
                        setTotal(totaltVerdi, utbytte);
                    }   
                }
            };
            public void setTotal(double totaltVerdi, JTextField text){
                totaltVerdi = Math.round(totaltVerdi*100)/100.0d;
                String total1 = Double.toString(totaltVerdi);
                utbytte.setText(total1);
            }
        };

        ActionListener ValutaRight = new ActionListener() {
            public void actionPerformed(ActionEvent actionEvent) {

                double numl = Double.parseDouble(konvright.getText());
                int combovalg1 = Valutavalg1.getSelectedIndex();
                int combovalg2 = Valutavalg2.getSelectedIndex();

                if (combovalg2==0){
                    if (combovalg1==0){
                        double totaltVerdi = numl*10;
                        setTotal(totaltVerdi, utbytte);
                    }
                    if (combovalg1==1){
                        double totaltVerdi = numl*100;
                        setTotal(totaltVerdi, utbytte);
                    }
                    if (combovalg1==2){
                        double totaltVerdi = numl*1000;
                        setTotal(totaltVerdi, utbytte);
                    }   
                }
                if (combovalg2==1){
                    if (combovalg1==0){
                        double totaltVerdi = numl*1000;
                        setTotal(totaltVerdi, utbytte);
                    }
                    if (combovalg1==1){
                        double totaltVerdi = numl*100000;
                        setTotal(totaltVerdi, utbytte);
                    }
                    if (combovalg1==2){
                        double totaltVerdi = numl*1000000;
                        setTotal(totaltVerdi, utbytte);
                    }   
                }
                if (combovalg2==2){
                    if (combovalg1==0){
                        double totaltVerdi = numl*1000000;
                        setTotal(totaltVerdi, utbytte);
                    }
                    if (combovalg1==1){
                        double totaltVerdi = numl*1000000;
                        setTotal(totaltVerdi, utbytte);
                    }
                    if (combovalg1==2){
                        double totaltVerdi = numl*10000000;
                        setTotal(totaltVerdi, utbytte);
                    }   
                }
            };
            public void setTotal(double totaltVerdi, JTextField text){
                totaltVerdi = Math.round(totaltVerdi*100)/100.0d;
                String total1 = Double.toString(totaltVerdi);
                utbytte.setText(total1);
            }
        };
        bleft.addActionListener(ValutaLeft);
        bright.addActionListener(ValutaRight);
    }
} 
```

# c# - WCF pub-sub 模型，一次调用订阅者

> ID：12419107
> 
> 赞同：1
> 
> 时间：2012-09-14T06:19:55.637
> 
> 标签：c#, wcf, publish-subscribe

我们有一个 WCF 发布-订阅模型应用程序，它工作正常。

但是这部分代码。

```
 foreach (SubList subscriber in subscribers.ToList())
        {
           try
             {
               object ClientResult;
               ClientResult = publishMethodInfo.Invoke(subscriber.CallBackId, new object[] { ClData });
                }
          } 
```

有什么方法可以一次调用所有订阅者。由于上面的代码在一个循环中获取每个订阅者并发布。这会导致其他订阅者等待之前执行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T07:12:06.867

为什么不并行调用它们？

```
Parallel.ForEach(subscribers.ToArray(), subscriber =>
{
    try
    {
        object ClientResult;
        ClientResult = publishMethodInfo.Invoke(
            subscriber.CallBackId, new object[] { ClData });
    }
    ...
}); 
```

# android - 谷歌关于开发金融安卓应用的政策和限制

> ID：12419114
> 
> 赞同：1
> 
> 时间：2012-09-14T06:20:59.190
> 
> 标签：android

我应该开发包含一些购买要求的 android 应用程序。我将向应用程序添加单独的 web 视图，并将网页（通过 url）加载到我的应用程序的 web 视图中，以便用户可以通过上面的网页从我的应用程序的 web 视图中购买。所以我的问题是谷歌开发这样一个应用程序的政策和限制是什么。我在谷歌上搜索过，我找不到一个很好的解释来解决我的情况，其中一些很复杂，所以任何人都可以简单地解释这些事情??

任何解释高度赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T08:56:59.847

~~我很确定~~唯一的限制是不要做类似“应用内”购买的事情，所以如果你销售的商品或服务与应用程序无关，你就可以了。

[http://play.google.com/about/developer-content-policy.html](http://play.google.com/about/developer-content-policy.html)上的详细信息

> 在从 Google Play 下载的应用程序中提供额外内容、服务或功能的开发者**必须使用 Google Play 的支付系统**作为付款方式，但以下情况除外：付款主要用于实物商品或服务（例如购买电影票；例如购买出版物价格还包括纸质订阅）；或者支付可能在应用程序本身之外消费的数字内容或商品（例如购买可以在其他音乐播放器上播放的歌曲）

# unicode - 在 Android 中使用马拉雅拉姆语 Ascii 字体显示英文文本？

> ID：12419115
> 
> 赞同：3
> 
> 时间：2012-09-14T06:21:13.880
> 
> 标签：unicode, blackberry, ascii

嗨，我正在开发一个应用程序来在我的应用程序中显示马拉雅拉姆语单词，并为此使用马拉雅拉姆语字体。我得到了正确的输出。但是当我尝试显示一些英文字母和马拉雅拉姆语时，我使用的字体不是 Thoolika.Ttf。那就是我给出的输入是“Y¢j¤lcÉd¤j«: one”所需的输出是：“തിരുവനന്തപുരം:One”但我得到的输出是：“തിരുവനന്തപുരം：这是什么问题：സഴ”

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-14T15:44:34.130

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-25T18:54:44.500

好吧，你不能……！正如**bobince**所说，你不能在一个字体字段中混合显示英语+“ascii字体的马拉雅拉姆语”（“视觉编码”）作为这个ascii字体（这里是“Thoolika.ttf”）......

只有当文本是 Unicode 编码 (UTF-8) 时，您才能实现这一点……尝试使用 Anjali old lipi (Unicode) 字体。从这里开始 :: [smc.org.in/](http://smc.org.in/)

# asp.net - 如何从 ASP.NET MVC button_click 调用 ASPX/ASCX 方法

> ID：12419116
> 
> 赞同：0
> 
> 时间：2012-09-14T06:21:16.983
> 
> 标签：asp.net, asp.net-mvc-3, jquery

不确定我的要求是否有点奇怪......但是，我需要在按钮单击时从 mvc 调用驻留在 .ascx.cs 页面中的方法

在 MVC 中

我在布局页面中有按钮

```
<input type="button" id="btnHomeSearch" value="Search Page" /> 
```

单击此按钮后，我有一个 jquery POST 方法，该方法旨在调用 .ascx（ASP.NET 用户控件方法）方法。

```
$('#btnHomeSearch').click(function () {
    $.ajax({
        url: 'SDLCSearch.ascx.cs/HomePageSearch',
        success: function (data) {
            debugger;
        }
    });
}); 
```

这是行不通的...有人可以帮忙吗..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T06:31:03.923

您正在混淆客户端和服务器代码。您还混合了 MVC 和 Web 表单，但猜您知道这一点，并将它们放在单独的项目中等。

如果要将数据发布到 UserControl (.ascx)，则需要将 UserControl 放置在普通页面 (.aspx) 上，并将方法调用从 .aspx.cs 传递到 .ascx.cs 文件适当地。

您拥有的发布方法应该发布到 .aspx 页面的 URL，例如“/SDLCSearch.aspx”

# jquery - Jquery not() 在上下文中

> ID：12419120
> 
> 赞同：0
> 
> 时间：2012-09-14T06:21:26.937
> 
> 标签：jquery, menu

我正在尝试制作一个下拉菜单，并希望所有其他打开的菜单在出现其他菜单时删除一个类。问题是，您必须在之前单击的菜单上单击两次才能再次打开它：

```
$(document).ready(function(){
$('li.dropdown').click(function(){
    //$('.dropdownmenu').hide() ;
    $('.dropdownmenu').not('ul', this).removeClass('opened');
    if($(' ul', this).hasClass('opened'))
    {
        $(' ul', this).removeClass('opened');
        $(' ul', this).hide();
    }
    else
    {
        $(' ul', this).addClass('opened') ;
        $(' ul', this).show() ;
    }

})
}) 
```

* * *

[这里是在 JSFiddle 中](http://jsfiddle.net/n2XBF/)，点击 Item 文本可以弹出菜单，如果你打开和关闭几个问题就会变得很明显。如果您知道更好的方法来做我想要实现的目标，请告诉我！

是的，如果你愿意，你可以：P 她是我最喜欢的哈哈

* * *

此外，如果再次单击菜单项，菜单应该会关闭。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T06:34:32.307

当我需要这样做时，我通常会从所有内容中删除该类，而不用担心应该保留它的类，与隐藏元素相同。

然后只需将必要的类添加到单击的元素并显示它。

如果您确实不需要，请执行以下操作：

```
var ul = $(this).closest('ul'); 
```

然后使用变量 in `not()`。

你实际上把事情颠倒了——你正在寻找一个 li 里面的 ul ，这与它应该是相反的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T06:39:59.107

谢谢@Ariel，你的想法没有马上奏效，但我做到了：

var innerul = $('ul', this);

相反，哪个有效。

# c# - index 和 count 必须引用缓冲区中的位置。参数名称字节

> ID：12419121
> 
> 赞同：2
> 
> 时间：2012-09-14T06:21:35.453
> 
> 标签：c#, bytearray, tcpclient

它抛出一个索引，并且计数必须引用缓冲区中的一个位置。当超过 3 个客户端连接到服务器并且字节数据被声明为全局变量时，参数名称字节异常。

```
private void OnReceive(IAsyncResult ar)        
{           
    try
    {
        clientSocket.EndReceive(ar);

        Data msgReceived = new Data(byteData);
        //Accordingly process the message received
        switch (msgReceived.cmdCommand)
        {
            case Command.Login:
                //lstChatters.Items.Add(msgReceived.strName);
                break;

            case Command.Logout:
                lstChatters.Items.Remove(msgReceived.strName);
                break;

            case Command.Message:
                break;

            case Command.List:
                lstChatters.Items.AddRange(msgReceived.strMessage.Split('*'));
                lstChatters.Items.RemoveAt(lstChatters.Items.Count - 1);
                txtChatBox.Text += "<<<" + strName + " has joined the room>>>\r\n";
                break;
        }

        if (msgReceived.strMessage != null && msgReceived.cmdCommand != Command.List)
            txtChatBox.Text += msgReceived.strMessage + "\r\n";

        byteData = new byte[1024];

        clientSocket.BeginReceive(byteData,
                                  0,
                                  byteData.Length,
                                  SocketFlags.None,
                                  new AsyncCallback(OnReceive),
                                  null);

    }
    catch (ObjectDisposedException)
    { }
    catch (Exception ex)
    {
        MessageBox.Show(ex.Message, "ClientTCP: " + strName, MessageBoxButtons.OK, MessageBoxIcon.Error);
    }
} 
```

这是用于管理服务器和客户端之间数据通信的类数据：

```
class Data
{
    //Default constructor
    public Data()
    {
        this.cmdCommand = Command.Null;
        this.strMessage = null;
        this.strName = null;
    }

    //Converts the bytes into an object of type Data
    public Data(byte[] data)
    {
        //The first four bytes are for the Command
        this.cmdCommand = (Command)BitConverter.ToInt32(data, 0);

        //The next four store the length of the name
        int nameLen = BitConverter.ToInt32(data, 4);

        //The next four store the length of the message
        int msgLen = BitConverter.ToInt32(data, 8);

        //This check makes sure that strName has been passed in the array of bytes
        if (nameLen > 0)
            this.strName = Encoding.UTF8.GetString(data, 12, nameLen);
        else
            this.strName = null;

        //This checks for a null message field
        if (msgLen > 0)
            this.strMessage = Encoding.UTF8.GetString(data, 12 + nameLen, msgLen);
        else
            this.strMessage = null;
    }

    //Converts the Data structure into an array of bytes
    public byte[] ToByte()
    {
        List<byte> result = new List<byte>();

        //First four are for the Command
        result.AddRange(BitConverter.GetBytes((int)cmdCommand));

        //Add the length of the name
        if (strName != null)
            result.AddRange(BitConverter.GetBytes(strName.Length));
        else
            result.AddRange(BitConverter.GetBytes(0));

        //Length of the message
        if (strMessage != null)
            result.AddRange(BitConverter.GetBytes(strMessage.Length));
        else
            result.AddRange(BitConverter.GetBytes(0));

        //Add the name
        if (strName != null)
            result.AddRange(Encoding.UTF8.GetBytes(strName));

        //And, lastly we add the message text to our array of bytes
        if (strMessage != null)
            result.AddRange(Encoding.UTF8.GetBytes(strMessage));

        return result.ToArray();
    }

    public string strName;      //Name by which the client logs into the room
    public string strMessage;   //Message text
    public Command cmdCommand;  //Command type (login, logout, send message, etcetera)
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T14:39:59.303

要解决第*一个*问题，不必`byteData`是全局的。改为本地：

```
private void OnReceive(IAsyncResult ar)        
{          
    byte[] byteData; 
```

然后，将其作为`state`参数传递给[`BeginReceive`](http://msdn.microsoft.com/en-us/library/dxkwh6zw.aspx)：

```
 byteData = new byte[1024]; //Line 1

 clientSocket.BeginReceive(byteData,
                                      0,
                                      byteData.Length,
                                      SocketFlags.None,
                                      new AsyncCallback(OnReceive),
                                      byteData); 
```

[`IAsyncResult`](http://msdn.microsoft.com/en-us/library/system.iasyncresult.aspx)并在您完成接收后从使用它之前恢复它：

```
clientSocket.EndReceive(ar);
byteData = (byte[])ar.AsyncState;

Data msgReceived = new Data(byteData); //Line2 
```

* * *

当然，解决了这个问题后，我在评论中还提到了另一个问题——不能保证有多少数据会返回到缓冲区中——你需要检查[`EndReceive`](http://msdn.microsoft.com/en-us/library/w7wtt64b). 您可能必须组合多次调用`Receive`（或它的道德等价物），直到您真正建立一条消息。`Send`一端的调用与另一端的调用之间没有一一对应的关系`Receive`。

最后，您已经表明您正在使用`TcpClient`，但您正在使用`Socket`类中的操作？为什么你不使用给你的任何`NetworkStream`理由`TcpClient`？（并不是说它在这里有太大的不同）。

# iphone - 使用 NSTimer 更新标签以在 10 秒内将 10000 显示为 0

> ID：12419123
> 
> 赞同：0
> 
> 时间：2012-09-14T06:21:42.000
> 
> 标签：iphone, ios, uilabel, nstimer

有一个标签在 10 秒内显示从 10,000 到 0 的分数 (lblPoints)

```
 NSTimer pointstimer=[[NSTimer scheduledTimerWithTimeInterval:0.001 target:self selector:@selector(pointstimermethod) userInfo:nil repeats:YES]retain];

    -(void)pointstimermethod
    {
        points=points-1;
        lblPoints.text=[NSString stringWithFormat:@"%d",points];
    } 
```

谁能告诉我如何在 10 秒内准确地显示 10,000 到 0？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T06:52:47.577

显示仅以 60 Hz 的最大值更新，并且 NSTimer 触发精度取决于 UI 运行循环中发生的情况，因此可能会有一到几个显示帧时间（超过 10 毫秒）的错误，当然不是 1 毫秒的分辨率。由于设备在 10 秒内最多只能显示 600 个唯一帧，因此将跳过 10000 到 0 之间的大量数字。

我会尝试使用 CADisplayLink 设置进行 60 Hz 显示更新（这是最大值），使用 mach_time 检查当前时间，从某个开始时间中减去该时间，从 10.0 中减去该时间以进行倒计时，并以秒为单位显示 1000 倍的差异，直到达到 0.0 秒。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T06:33:16.417

在 viewDidLoad 方法中粘贴下面的代码

```
NSTimer pointstimer=[[NSTimer scheduledTimerWithTimeInterval:10.0 target:self selector:@selector(pointstimermethod) userInfo:nil repeats:YES]retain];

    -(void)pointstimermethod
    {
        points=points-1;
        if(points >= 0 && points <= 10000){
              lblPoints.text=[NSString stringWithFormat:@"%d",points];
        }
    } 
```

我希望这对你有帮助..

:)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-14T06:36:44.553

声明以下 .h 文件。

```
int points; 
```

在实现文件中，有以下代码。

```
-(void)showScore:(id)sender {
    points = 10000;
    [NSTimer scheduledTimerWithTimeInterval:0.001 target:self selector:@selector(pointsTimerMethod:) userInfo:nil repeats:YES];
}

-(void)pointsTimerMethod:(NSTimer*)timer
{
    points=points-1;
    lblPoints.text=[NSString stringWithFormat:@"%d",points];

    if(points == 0) {
        [timer invalidate];
        timer = nil;
    }
} 
```

`showScore:`当您想显示从 10000 到 0 时，只需调用该方法。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-14T06:38:59.030

```
NSTimer pointstimer=[[NSTimer scheduledTimerWithTimeInterval:0.001 target:self selector:@selector(pointstimermethod) userInfo:nil repeats:YES]retain];

-(void)pointstimermethod
{
    if(pointstimer==0)
    {
       [pointstimer invalidate]; 
    }
    else
    {
        points=points-1;
        lblPoints.text=[NSString stringWithFormat:@"%d",points];
    }
} 
```

# plugins - 如何在 javascript 和 NPAPI 插件之间传输字节数组

> ID：12419128
> 
> 赞同：1
> 
> 时间：2012-09-14T06:22:24.977
> 
> 标签：plugins, npapi

我有一个 NPRuntime 插件，我需要在其中`byte array`在 javascript 和我的插件之间传输原始数据（'s）。据我了解，不能使用`NPVariant`对象发送字节数组。这就是我搜索解决方案并找到传输数据的原因：

1.  在 base64 编码中使用字符串；
2.  在字符串中逐字节打印（[http://code.google.com/p/npapi-file-io/](http://code.google.com/p/npapi-file-io/)），例如`[92, 32, 43...]`；
3.  NPStream 作为临时文件。

我的问题是如何从 javascript 调用 NPP_Write for NPStream。在“C”中，我有可用于传输数据的 NPP_Write（写入我的插件）、NPN_Write（写入浏览器）。 [http://www.podgoretsky.com/ftp/docs/internet/Netscape%20Plug-Ins/ch8.htm](http://www.podgoretsky.com/ftp/docs/internet/Netscape%20Plug-Ins/ch8.htm)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T13:23:26.350

您不能使用 NPStream 从 Javascript 向插件发送数据。我所知道的最接近的是可以在您的对象或嵌入标签上设置一个属性，并让它在插件上打开一个流以自动下载该文件（尽管我从未这样做过，所以我不能给你细节）。

可悲的事实是 NPAPI 没有可靠的方法来做你想做的事。选项 1 和 2 是您拥有的唯一选项，而且都不是很好。我想您可以做的另一件事是创建一个 Web 服务器以在插件内运行，然后使用 jsonp 从 javascript 与该服务器对话。[FireBreath](http://www.firebreath.org)在 HTTPService 库中有一个内置但未记录的网络服务器，曾经用于类似的事情。

# java - 如何在类和 jvm 中获取活动对象？

> ID：12419130
> 
> 赞同：0
> 
> 时间：2012-09-14T06:22:37.373
> 
> 标签：java, jvm

你好，我的问题是我们是否有 10 个类对象，其中三个传递给垃圾收集器。现在我们有七个活动对象。我们如何在类和 jvm 中获取活动对象的数量。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T06:27:33.587

您可以在类中使用`static`计数器并在构造函数中递增它并在终结器中递减它，但我不确定您为什么关心。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T06:26:39.773

你不能假设这样的事情，如果你这样做`object= null`，就不能保证 JVM 会进行垃圾收集。`But since you don't have reference now you will not able to access it.`

在java中，你不必关心内存，直到你的程序退出，`OutOfMemoryException`但标准的编程实践仍然适用:)

您可以阅读有关[**对象的可达性生命周期的更多信息**](http://www.artima.com/insidejvm/ed2/gcP.html)

您可以使用分析器查看活动对象计数，例如[JProfiler](http://blog.ej-technologies.com/2009/04/in-screencast-below-i-show-strategy-for.html)

作为一种解决方案，您可以使用[对象池模式](http://en.wikipedia.org/wiki/Object_pool_pattern)，但它是一种**反模式**

# sql - 如何在 SQL Server 2005 存储过程中的 INSERT 语句之前触发？

> ID：12419132
> 
> 赞同：0
> 
> 时间：2012-09-14T06:22:50.133
> 
> 标签：sql, sql-server-2005

我阅读了此[SQL Server 触发器帮助以在插入之前截断错误数据，](https://stackoverflow.com/questions/6102288/help-with-sql-server-trigger-to-truncate-bad-data-before-insert)但在存储过程时没有解决我的问题。

**更新**

由于我的问题[，当从 C# 代码调用存储过程时，为什么不能创建全局临时表或截断它？](https://stackoverflow.com/questions/12407728/why-cannot-create-global-temporary-table-or-truncate-it-when-call-a-stored-proce)当从 C# 代码调用时从存储过程中截断表。

**结束更新**

存储过程是

```
ALTER PROCEDURE [dbo].[aProcedure]
  @val1 VARCHAR(255),
  @val2 VARCHAR(255),
  ...
AS 
BEGIN
   SELECT @sql = '//Do SELECT statement'

    INSERT INTO dbo.MyTable(....)

    SELECT @paramList = ' /*list of parameters*/';

    EXEC sp_executesql @sql, @paramList, ... parameters
END 
```

还有我使用的触发器（我是 SQL 初学者）

```
CREATE TRIGGER MyTrigger ON dbo.MyTable
FOR INSERT
AS
BEGIN
    TRUNCATE dbo.MyTable
END 
```

如何触发，**当从存储过程中插入值时`dbo.MyTable`**，先截断我的表，然后再进行`INSERT`操作？

[我从MSDN](http://msdn.microsoft.com/en-us/library/aa258254%28v=sql.80%29.aspx)和[CodeProject](http://www.codeproject.com/Articles/38808/Overview-of-SQL-Server-database-Triggers)阅读了文档。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T06:25:26.747

在存储过程本身中截断表。**无需编写触发器**。触发器会减慢你的进程

```
ALTER PROCEDURE [dbo].[aProcedure]
  @val1 VARCHAR(255),
  @val2 VARCHAR(255),
  ...
AS 
BEGIN
   SELECT @sql = '//Do SELECT statement'

     TRUNCATE table  dbo.MyTable -- < add truncate here
    INSERT INTO dbo.MyTable(....)

    SELECT @paramList = ' /*list of parameters*/';

    EXEC sp_executesql @sql, @paramList, ... parameters
END 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T06:28:28.243

```
CREATE TRIGGER MyTrigger ON dbo.MyTable
AFTER INSERT
AS
BEGIN
    TRUNCATE dbo.MyTable
END 
```

# jquery - 如何使用 Ruby（用于 jQuery 验证）使用 json 发送假/真值？

> ID：12419134
> 
> 赞同：0
> 
> 时间：2012-09-14T06:23:03.067
> 
> 标签：jquery, ruby-on-rails, json

我有这样的问题：我正在检查用户电子邮件并且无法告诉验证器该值是否有效。

我有这样的动作：

```
def checkemail
 respond_to do |format|
 format.jsonr do
  if User.where(email: params[:email]).exists? 
    render :json => {
        :status  => :false,
        }.to_json
   else
     render :json => {
        :status  => :true,
        }.to_json
     end
    end
  end
end 
```

这是jQuery：

```
 $(".sign_up").validate({
    rules: {
         "user[email]": {
          remote: {
            url: "http://127.0.0.1:3000/checkemail.jsonr",
            type: "get",
            data: {
              email: function() { return $("#email").val(); }
            }
          }
        }
    }) 
```

这是控制台的结果：

```
 Processing by EditUserController#checkemail as JSONR
    Parameters: {"user"=>{"email"=>"use@mail.com"}, "email"=>"use@mail.com"}
    ←[1m←[36mUser Exists (0.0ms)←[0m  ←[1mSELECT 1 FROM "users" WHERE "users"."email" = 
   'use@mail.com' LIMIT 1←[0m 
```

所以验证没有通过，但应该。

还尝试传递页面状态代码，但失败了。

有人可以建议我的错误在哪里吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T06:26:24.020

尝试设置这些属性：

```
remote: {
  contentType: "application/json; charset=utf-8",  
  dataType: "json",
  ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:08:36.523

您应该使用 false/true 布尔值而不是 :false/:true

```
puts({:status => :false}.to_json)
{"status":"false"} 
```

对比

```
puts({:status => false}.to_json)
{"status":false} 
```

# c++ - 如何在windows中更改文件的所有权

> ID：12419136
> 
> 赞同：3
> 
> 时间：2012-09-14T06:23:37.630
> 
> 标签：c++, windows, ownership

我正在尝试通过 windows（windows 7 及更高版本）中的 c++ 将文件的所有权更改为特定用户。我已经阅读了[这个](http://msdn.microsoft.com/en-us/library/windows/desktop/aa379620%28v=vs.85%29.aspx)例子，但它似乎没有多大帮助。我希望能够创建一个像`SetFileOwner(LPTSTR user, LPTSTR fileStr)`这样将 fileStr 的所有者设置为指定用户的函数。

看来我需要一个 SID 来设置所有者，然后使用`SetNamedSecurityInfo`. 还有其他选项可以让我通过用户名设置所有权吗？有没有办法从用户名中获取 SID（对不起，如果这个问题很愚蠢 - 我并不真正了解 Windows 权限和所有权的工作方式）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T06:32:54.607

要将用户名转换为 SID，请使用[LookupAccountName](http://msdn.microsoft.com/en-us/library/aa379159%28v=vs.85%29.aspx)。

# ios - wait_fences：未能收到回复：10004003（仅在 iPad 上）

> ID：12419137
> 
> 赞同：0
> 
> 时间：2012-09-14T06:23:46.490
> 
> 标签：ios, uiview, uiviewcontroller, error-handling

我知道有很多关于这个的话题。关于我的情况的疯狂之处在于，我测试了 3GS、4S 和 iPad1，而且它始终只在 iPad1 上发生。它发生在启动时。该应用程序继续运行。但是，当我第一次打开[MBProgressHUD](https://github.com/jdg/MBProgressHUD)时，当我关闭它时，它并没有关闭，因此我的应用程序此时变得无响应。

请让我知道是什么原因造成的，以及为什么它只发生在 iPad 上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T06:25:30.273

每当我遇到这个问题时，这是因为您正在显示视图（如 a `UIAlertView`）或在视图正确完成加载之前更新视图。将对 MBProgressHUD 的调用移出`viewDidLoad`或移出应用程序代表以停止此消息。

我通常将我的`UIAlertView`调用移到`viewWillAppear`方法中。

这是一个类似的问题：['wait_fences: failed to receive reply: 10004003' on loading UIAlertView (iOS)](https://stackoverflow.com/questions/8337183/wait-fences-failed-to-receive-reply-10004003-on-loading-uialertview-ios)

当您尝试从后台线程更新 UI 时，也会出现此消息。[更多在这里](https://stackoverflow.com/questions/4241894/wait-fences-failed-to-receive-reply-10004003-error-uialert-without-uitextfie?rq=1)

# javascript - 如何将多个画布保存到一个图像中

> ID：12419141
> 
> 赞同：14
> 
> 时间：2012-09-14T06:24:16.850
> 
> 标签：javascript, jquery, asp.net, html5-canvas

我想使用 asp.net 将多个画布保存到一个图像中。我尝试使用两幅画布，但没有保存。

帆布：

```
 <div style="position:relative; width:456px; padding:0px; margin:0px;">
    <canvas id="boardcanvas" width="456" height="480" style="position: absolute; left: 0;   top: -220px; z-index: 0;"></canvas>
    <canvas id="layer2" width="456" height="480" style="position: absolute;left: 0;   top:-220px; z-index: 1;"></canvas>    
   </div>

 <input type="button" id="btnSave" style="width:150px ; text-align:center;height:30px" name="btnSave" value="Save as Image!" /> 
```

查询：

```
<script type="text/javascript">
     // Send the canvas image to the server.
     $(function () {
         $("#btnSave").click(function () {

             can1 = document.getElementById("broadcanvas");
             ctx1 = can1.getContext("2d");
             var coll = document.getElementById("layer2");
             ctx1.drawImage(coll, 0, 0);
             var image = can1.toDataURL("image/png");   

             alert(image);
             image = image.replace('data:image/png;base64,', '');
             $.ajax({
                 type: 'POST',
                 url: 'index.aspx/UploadImage',
                 data: '{ "imageData" : "' + image + '" }',
                 contentType: 'application/json; charset=utf-8',
                 dataType: 'json',
                 success: function (msg) {
                     alert('Image saved successfully !');
                 }
             });
         });
     });
</script> 
```

index.aspx.cs：

```
using System.IO;
using System.Web.Script.Services;
using System.Web.Services;

[ScriptService]
public partial class index : System.Web.UI.Page
{
    static string path = @"E:\Green\images\\";
    protected void Page_Load(object sender, EventArgs e)
    {

    }
    [WebMethod()]
    public static void UploadImage(string imageData)
    {
       string fileNameWitPath = path + DateTime.Now.ToString().Replace("/", "-").Replace(" ", "- ").Replace(":", "") + ".png";
       using (FileStream fs = new FileStream(fileNameWitPath, FileMode.Create))
        {
           using (BinaryWriter bw = new BinaryWriter(fs))
             {
                byte[] data = Convert.FromBase64String(imageData);
                bw.Write(data);
                bw.Close();
             }
         }
     }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-08T12:57:14.357

For the proper working of this code you have to do the below things

1.  Correct the spelling of the canvas id used in the javascript code.
2.  Change the position of the button. Currently button is under the canvas. So can't click on the button.
3.  Create directories Green and Images in E drive. It should be there E:\Green\Images

The working code is.

Javascript

```
<script type="text/javascript">
        // Send the canvas image to the server.
        $(function () {
            $("#btnSave").click(function () {
                can1 = document.getElementById("boardcanvas");
                ctx1 = can1.getContext("2d");
                var coll = document.getElementById("layer2");
                ctx1.drawImage(coll, 0, 0);
                var image = can1.toDataURL("image/png");

                alert(image);
                image = image.replace('data:image/png;base64,', '');
                $.ajax({
                    type: 'POST',
                    url: 'Default.aspx/UploadImage',
                    data: '{ "imageData" : "' + image + '" }',
                    contentType: 'application/json; charset=utf-8',
                    dataType: 'json',
                    success: function (msg) {
                        alert('Image saved successfully !');
                    }
                });
            });
        });
    </script> 
```

Html code

```
<div style="position: relative; width: 456px; padding: 0px; margin: 0px;">
        <canvas id="boardcanvas" width="456" height="480" style="position: absolute; left: 0;
            top: -220px; z-index: 0;">
        </canvas>
        <canvas id="layer2" width="456" height="480" style="position: absolute; left: 0;
            top: -220px; z-index: 1;">
        </canvas>
    </div>
    <input type="button" id="btnSave" style="position: absolute; left: 460px; width: 150px;
        text-align: center; height: 30px; z-index: 2;" name="btnSave" value="Save as Image!" /> 
```

Asp.Net side code is OK. Please Try with the above code. Sure it will work (Don't forget to create the directory).

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-06T03:47:14.400

这里的问题是您正在使用`var coll`in的画布`drawImage()`。您应该改用它的上下文。这是修复：

```
can1 = document.getElementById("broadcanvas");
ctx1 = can1.getContext("2d");
var coll = document.getElementById("layer2");
var ctx2 = coll.getContext("2d");
ctx1.drawImage(ctx2, 0, 0);
var image = can1.toDataURL("image/png"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-23T00:24:23.233

看起来您只将一张图像（“broadcanvas”）转换为数据 url。尝试这个：

```
var image = ctx1.toDataURL("image/png"); 
```

不相似的变量命名会帮助您更快地发现这一点。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-08-12T20:04:35.287

这是我做的一个技巧，我在*确保所有图像都已加载且可用*时遇到了很多问题。

创建图像后，立即使用`onload`事件来跟踪图像是否可以使用。我发现使用类似以下代码的东西会产生奇迹（未经测试，主要用作一般参考）：

```
//I set to the window event to make sure it stays available. This is handy in many applications that may need to wait.
window.image1 = document.getElementById('img1');
window.image2 = document.getElementById('img2');
window.canv1 = document.getElementById('canv1');
window.canv2 = document.getElementById('canv2');
window.ctx1 = window.canv1.getContext('2d');
window.ctx2 = window.canv2.getContext('2d');
window.imagesLoaded = 0; 

//load the images
window.image1.onload = function(){
  window.imagesLoaded++;
}
window.image2.onload = function(){
  window.imagesLoaded++;
}

//function to handle them all loading
function loaded(){
  if(window.imagesLoaded==2){

    //draw initial images
    ctx1.drawImage(image1,0,0);
    ctx2.drawImage(image2,0,0);

    //at this point you should have 2 canvas's with 2 different images, 
    //now as I understand it you want to save them both to one canvas. 
    //So first grab a new canvas element.
    var newImg1 = window.canv1.toDataURL('image/png');
    var newImg2 = window.canv2.toDataURL('image/png');
    window.canv3 = document.getElementById('canv3');
    window.ctx3 = window.canv3.getContext('2d');

    //this is the tricky part, side by side, 
    //overlapping or top/bottom by manipulating the x,y. 
    //I just make a general example here.
    ctx3.drawImage(newImg1,0,0);
    ctx3.drawImage(newImg2,10,10);

    //finally create the new image as an image, 
    //you can do whatever you need with this
    var newImg3 = window.canv3.toDataURL('image/png');
  }else{
    //set a timeout to retry this function if the images were not ready
    setTimeout(function(){
      loaded();
    },100);
  }
}
loaded(); 
```

在这个例子中我可能过度使用了窗口对象，很可能只需要在“imagesLoaded”变量上使用它来确保我可以看到它的更新，但是这样就不需要将参数传递给函数。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-08-08T15:57:50.503

当asp.Net和基本上所有服务器端库通常可以利用操作系统上的图像处理库（在Linux中，如GD、GD2、ImageMagick等）。

是为了避免将两个不同的文件上传到服务器吗？因为使用这种方法，您只会节省 HTTP 事务，而不必节省带宽。

只是一个想法，因为它听起来不像客户端固有的任何需要在这里完成的事情。那可能只是因为您的示例被精简了。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-07-26T13:11:27.357

这是一个工作示例：

```
<!DOCTYPE html>
<html>
<body>

<p>Image to use:</p>
<img id="scream" src="http://www.w3schools.com/tags/img_the_scream.jpg" alt="The Scream" width="220" height="277">

<p>Canvas:</p>
<canvas id="myCanvas" width="250" height="300" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.</canvas>

<p> Canvas2: </p>
<canvas id="myCanvas2" width="250" height="300" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.</canvas>

<script>

var c=document.getElementById("myCanvas");
var ctx=c.getContext("2d");

var img=document.getElementById("scream");
ctx.drawImage(img,30,5);
ctx.drawImage(img,5,30);

var c2=document.getElementById("myCanvas2");

var ctx2=c2.getContext("2d");

ctx2.drawImage(c,0,0)
ctx2.drawImage(img,-10,50);

var image = c2.toDataURL("image/png"); 
console.log(image);

image = image.replace('data:image/png;base64,', '');
console.log(image);

</script>

</body>
</html> 
```

这是一个带有工作示例的小提琴：[小提琴](http://jsfiddle.net/Q6PXk/)

# android - ActionBar中动作/菜单项的动态控制

> ID：12419142
> 
> 赞同：8
> 
> 时间：2012-09-14T06:24:19.640
> 
> 标签：android, android-actionbar

有没有办法在 ActionBar 中动态禁用、隐藏、添加/删除菜单项？例如，在用户在活动中填写有效的电话号码之前，将禁用操作。

我在 ActionBar API 中没有找到任何有用的方法，唯一的方法似乎是在 ActionBar 中使用自定义视图。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-09-14T06:29:29.300

告诉 ActionBar 刷新其菜单项：[invalidateOptionsMenu()](http://developer.android.com/reference/android/app/Activity.html#invalidateOptionsMenu%28%29)

然后启用/禁用菜单项：

```
@Override
public boolean onPrepareOptionsMenu(Menu menu) {
    MenuItem item= menu.findItem(R.id.men_1);
    //depending on your conditions, either enable/disable
    item.setEnabled(false);
    super.onPrepareOptionsMenu(menu);
    return true;
} 
```

并隐藏您拥有的操作栏：

```
getActionBar().hide(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-29T19:45:54.697

另一种选择：在 Activity 中有一个字段来存储菜单。这样，您可以在此活动中的任何位置调用 getMenuInflater().inflate() 和 menu.clear()

所以，它看起来像这样：

```
class MyActivity extends ActionBarActivity {

    Menu actionBar;

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        actionBar = menu;
        return true;
    }

    //Possible usage
    void showActionBar1 () {
        getMenuInflater().inflate(R.menu.menu_1, actionBar);
        actionBar.findItem(R.id.menu_1_btn_1).setOnMenuItemClickListener();
    }

    void showActionBar2 () {
        getMenuInflater().inflate(R.menu.menu_2, actionBar);
        ...
    }

    void clearActionBar () {
        if (actionBar != null) actionBar.clear();
    } 
```

# macos - 当 IKImageView 被 NSScrollView 包围时，它失去了拖放焦点

> ID：12419145
> 
> 赞同：0
> 
> 时间：2012-09-14T06:24:24.710
> 
> 标签：macos, cocoa, ikimageview

我有一个`IKImageView`封闭的`NSScrollView`和一个`NSSlider`用于放大和缩小图像。`IKImageView`当图像为正常大小时支持拖放，但当图像放大时它会失去焦点。（如果我滚动`IKImageView`到左下角它支持拖放）。我怎么解决这个问题 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-21T19:07:32.690

接受`NSDragOperation`虽然 the`NSScrollView`而不是`IKImageView`.
接下来`IKImageView`从`NSScrollView`子类更新。

# http - 许多代理仍然拒绝缓存带有问号的网址吗？

> ID：12419148
> 
> 赞同：0
> 
> 时间：2012-09-14T06:24:40.227
> 
> 标签：http, caching, proxy

我通过将静态资产移动到另一个域和服务器来优化网站，这将响应长`Expires`标题。我希望能够向网址添加版本令牌以强制客户端下载新版本，例如。`http://static.example.com/foo.min.js?v=123`.

**在静态资产 url 中使用查询字符串是否仍然存在问题？**早些时候我看到[教程告诉避免在静态资产中使用查询字符串](http://www.stevesouders.com/blog/2008/08/23/revving-filenames-dont-use-querystring/)，因为一些代理不会缓存这些 url。

现在还是这样吗？

我应该使用另一种命名方案，也许在 Web 服务器上重写一些 url？例如。`http://static.example.com/123/foo.min.js`. （为了保持部署过程简单，我不想实际创建一个`123`目录。）

我知道这是一个非常简单`mod_rewrite`（或类似）的规则，但我想让我的静态资产 Web 服务器保持简单且可替换，这就是为什么我首先更喜欢基于查询字符串的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T06:24:40.227

~~[经过一番挖掘……] 是的，至少 Squid 似乎仍然这样做。所以重写它是。~~

感谢 Julian，似乎[四年前默认配置已经改变，使用 Squid 2.7 和 3.1](http://wiki.squid-cache.org/ConfigExamples/DynamicContent)。

# visual-studio - windows 8 中的 windows phone 7 应用程序

> ID：12419150
> 
> 赞同：-1
> 
> 时间：2012-09-14T06:24:56.240
> 
> 标签：visual-studio, windows-phone-7, windows-8

我已经在我的笔记本电脑上安装了 Windows 8，我们可以使用 Visual Studio 2010 或 Visual Studio 2012 在 Windows 8 中创建 Windows Phone 7 应用程序吗？现在我的笔记本电脑上安装了 Visual Studio 2012

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T10:47:38.587

为了在您的 Windows 8 笔记本电脑上开发 Windows Phone 7，您需要在安装 Windows Phone SDK 7.1**之前安装**[Games for Windows Live ！](http://www.xbox.com/en-US/LIVE/PC/DownloadClient)

 **正确的安装工作流程是：

*   为 Windows Live 安装游戏
*   安装 Windows Phone 7.1 SDK
*   安装 Windows Phone 7.1.1 更新

注意：Visual Studio 2012 不支持 Windows Phone 7.1 SDK，因此除非您已经安装了 Visual Studio 2010 版本，否则这将安装 Visual Studio 2010 Express，您必须使用它来制作 WP7 应用程序！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:07:49.480

暂时还可以在visual studio 2012上安装windows phone 7.1 sdk，开发WP7应用。**

# android - 语音或语音识别器是否有可能从扬声器（来电语音）获取输入？

> ID：12419151
> 
> 赞同：2
> 
> 时间：2012-09-14T06:24:57.653
> 
> 标签：android, speech-recognition, voice-recognition

申请要求：

1.  在通话过程中，应用程序会监听来电，即来自**扬声器**而不是麦克风的**传入语音。**
***   **将**呼叫者（给您打电话的人）的**语音转换为文本**。*   最后将**转换后的文本****显示**到**文本视图**中。*****   它**在通话期间**完成所有这些转换。******

 ***** * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T18:51:19.557

抱歉，没有。Android 应用程序不支持与来自电话的音频流进行交互的方式。我听说过的每一种方法都涉及用扬声器大声播放电话并用麦克风捕捉它，我什至不确定它是否适用于所有设备。****

# signalr - Signalr 跨域连接用户认证

> ID：12419156
> 
> 赞同：1
> 
> 时间：2012-09-14T06:25:37.217
> 
> 标签：signalr, signalr-hub

我将我的信号器集线器托管在一个单独的域上，并从我的主应用程序跨域连接到集线器。当用户登录到主应用程序时，将建立信号器连接。现在，我遇到的问题是如何识别集线器内的连接用户。如果我的 HUb 在主应用程序中，那么我可以使用登录用户的 UserContext 并维护一个字典（来自 MessengR 应用程序的示例）并在 Connect 和 Disconnect 事件中更新它们。

```
 private static readonly ConcurrentDictionary<string, List<string>> _userConnections = new ConcurrentDictionary<string, List<string>>();
    private static readonly ConcurrentDictionary<string, string> _reverseLookup = new ConcurrentDictionary<string, string>(); 
```

但是作为跨域连接，我没有 UserContext 并且我无法知道该连接 ID 属于谁。我在这里迷路了。是否可以在 Connect() 事件上从客户端传递查询字符串？我有一个令牌来识别我可以用来跟踪的用户。或以其他方式将用户链接到连接 ID。如果有人能给我一些指导。谢谢！

# ios - 将应用程序上传到 AppStore 时设置应用程序仅兼容 iPad2 和 iPad3？

> ID：12419157
> 
> 赞同：3
> 
> 时间：2012-09-14T06:25:40.063
> 
> 标签：ios

在 App Store 中提交时如何使应用程序仅兼容 iPad2 和 iPad3？我的意思是使用 iPad1 的用户无法使用 iPad1 下载应用程序。上传到 AppStore 时是否有任何选项可以设置到我们的应用程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T12:37:25.267

我得到了答案。检查以下链接。

[这里](https://stackoverflow.com/questions/7235979/how-do-i-target-an-app-to-work-on-ipad-2-or-newer-not-ipad-1-before-submission)

通过在 plist 中设置 UIRequiredDeviceCapabilities，我们可以为对应的 ipad 或 iPhone 设置我们的 App Compatible。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-14T06:36:38.983

抱歉，您没有其他解决方案可以解决它，除非您在上传时将限制作为**AppStore中的应用程序描述。**

# java - 向 schemainclusionrule 架构爬虫添加多个架构

> ID：12419160
> 
> 赞同：1
> 
> 时间：2012-09-14T06:25:50.857
> 
> 标签：java, hibernate, jakarta-ee, schemacrawler

我必须添加要使用 schemacrawler 抓取的选定模式。我们如何将多个模式添加到 schemacrawler 的包含规则中？

喜欢 ：

```
final SchemaCrawlerOptions options = new SchemaCrawlerOptions();
options.setSchemaInclusionRule(new InclusionRule("schema1,schema2", InclusionRule.NONE)); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:07:46.680

[InclusionRule](http://schemacrawler.sourceforge.net/apidocs/schemacrawler/schemacrawler/InclusionRule.html)接受正则表达式模式。您可以传递 java.util.regex.Pattern 实例或字符串，在后一种情况下，它将为您编译。如果我没记错的话，您可以使用`|`符号来使模式匹配多个选项。例如，`"schema1|schema2"`。

你可以用一个简单的程序来测试你的模式；例如

```
import java.util.regex.Pattern;

public class PatternTest {
    public static void main(String[] args) {
        Pattern p = Pattern.compile("schema1|schema2");
        System.out.println(p.matcher("schema0").matches());
        System.out.println(p.matcher("schema1").matches());
        System.out.println(p.matcher("schema2").matches());
        System.out.println(p.matcher("schema3").matches());
    }
} 
```

.. 打印：

```
false
true
true
false 
```

# ios - 在 .c 文件中发布通知

> ID：12419161
> 
> 赞同：0
> 
> 时间：2012-09-14T06:25:58.173
> 
> 标签：ios, c, notifications, progress-bar

进度条用于向我们显示已发送的电子邮件百分比。我`libetpan.xcodeproj`用来发送电子邮件，百分比可以在下面的代码中计算。它是用c写的。问题是我如何在 c.file 中发布通知来告诉观察者（它是一个 Objective-c 类）百分比已经增加。任何帮助表示赞赏:)

**mailstream_helper.c**

```
static inline int send_data_crlf_progress(mailstream * s,
                      const char *message, size_t size,
                      int quoted, size_t progr_rate,
                      progress_function * progr_fun,
                      mailprogress_function *
                      progr_context_fun, void *context)
{
    const char *current;
    size_t count;
    size_t last;
    size_t remaining;

    count = 0;
    last = 0;

    current = message;
    remaining = size;

    int i = 0;
    while (remaining > 0) {
        ssize_t length;

        if (quoted) {
            if (current[0] == '.')
                if (mailstream_write(s, ".", 1) == -1)
                    goto err;
        }

        length = send_data_line(s, current, remaining);
        if (length < 0)
            goto err;

        current += length;

        count += length;
        if (progr_rate != 0) {
            if (count - last >= progr_rate) {
                if (progr_fun != NULL) {
                    (*progr_fun) (count, size);
                }
                if (progr_context_fun != NULL) {
                    (*progr_context_fun) (count, size, context);
                }
                last = count;
            }
        }

        remaining -= length;
        //I need to post a notification here to let my
            //progress bar know how much data has been sent.        
        printf("No.%d rateOfSentData:%d end\r\n", ++i,
               1.0 - (float) remaining / (float) size);

    }

    return 0;

err:
    return -1;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T12:12:22.030

将文件重命名为具有 .m 后缀。它现在是一个包含纯 C 代码的 ObjC 文件（现在）。然后在末尾添加一条消息以发送通知，就像在其他地方使用 NSNotificationCenter 一样。

如果由于某种原因无法重命名，请调用 ac 函数，然后将其添加到现有的 .m 文件中以进行通知。

# python - 图像转视频 - 转换为 IplImage 会使视频变蓝

> ID：12419162
> 
> 赞同：0
> 
> 时间：2012-09-14T06:25:58.933
> 
> 标签：python, opencv

我想使用 opencv 从图像创建视频。

奇怪的问题是，如果我将图像（bmp）写入磁盘然后加载（cv.LoadImage）它渲染得很好，但是当我尝试从 StringIO 加载图像并将其转换为 IplImage 时，它​​会将视频变为蓝色。

继承人的代码：

```
import StringIO
output = StringIO.StringIO()
FOREGROUND = (0, 0, 0)
TEXT = 'MY TEXT'
font_path = 'arial.ttf'
font = ImageFont.truetype(font_path, 18, encoding='unic')
text = TEXT.decode('utf-8')
(width, height) = font.getsize(text)
# Create with background with place for text
w,h=(600,600)
contentimage=Image.open('0.jpg')
background=Image.open('background.bmp')

x, y = contentimage.size

# put content onto background
background.paste(contentimage,(((w-x)/2),0))
draw = ImageDraw.Draw(background)
draw.text((0,0), text, font=font, fill=FOREGROUND)

pi = background
pi.save(output, "bmp")
#pi.show()   #shows image in full color
output.seek(0)
pi= Image.open(output)
print pi, pi.format, "%dx%d" % pi.size, pi.mode
cv_im = cv.CreateImageHeader(pi.size, cv.IPL_DEPTH_8U, 3)
cv.SetData(cv_im, pi.tostring())
print pi.size, cv.GetSize(cv_im)
w = cv.CreateVideoWriter("2.avi", cv.CV_FOURCC('M','J','P','G'), 1,(cv.GetSize(cv_im)[0],cv.GetSize(cv_im)[1]), is_color=1)
for i in range(1,5):
    cv.WriteFrame(w, cv_im)
del w 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T15:37:17.950

OpenCV 默认使用 , 在 PIL 中打开图像`BGR`，但情况并非如此。这导致了你的问题。已经给出了解决方案，但我写了这篇文章，以便您了解其背后的原因，并可能为这种情况以及将来的任何情况得出您自己的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T15:11:58.320

我找到了解决方案 [http://choco-lue.blogspot.com/2010/04/python-image-library-part-2-opencv.html](http://choco-lue.blogspot.com/2010/04/python-image-library-part-2-opencv.html)

```
import Image, cv
pi = Image.open('building.jpg')       # PIL image
cv_im = cv.CreateImageHeader(pi.size, cv.IPL_DEPTH_8U, 3)
r,g,b=pi.split()
pi2=Image.merge("RGB",(b,g,r))
cv.SetData(cv_im, pi2.tostring()) 
```

# java - java - 关于 Google Calendar API v3

> ID：12419163
> 
> 赞同：2
> 
> 时间：2012-09-14T06:26:12.550
> 
> 标签：java, oauth

[https://developers.google.com/google-apps/calendar/instantiate?hl=zh-CN](https://developers.google.com/google-apps/calendar/instantiate?hl=zh-CN)

```
I would like to use Google Calendar API v3, but in this example, I can't find these libraries:

import com.google.api.client.auth.oauth2.draft10.AccessTokenResponse; 
import com.google.api.client.googleapis.auth.oauth2.draft10.GoogleAccessProtectedResource; 
import com.google.api.client.googleapis.auth.oauth2.draft10.GoogleAccessTokenRequest.GoogleAuthorizationCodeGrant; 
import com.google.api.client.googleapis.auth.oauth2.draft10.GoogleAuthorizationRequestUrl; 

Perhaps they are too old and deprecated? and where can I get the latest examples for authorization codes? 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T11:31:17.863

仅供参考：我从 Google 得到了官方答复，他们将使用新 API (v3) 的示例更新过时的文档和示例。

# android - 如何在Android中按升序排列我的列表

> ID：12419164
> 
> 赞同：0
> 
> 时间：2012-09-14T06:26:13.827
> 
> 标签：android, list, arraylist, adapter

我想按升序列出我的清单，我该如何务实地做。我试过但没有成功。

```
CODE:

PhonebookAdapter adapter; // My Phonebook Adapter Class
final List<Phonebook> listOfPhonebook = new ArrayList<Phonebook>();
...
...
adapter = new PhonebookAdapter(this, listOfPhonebook);
list.setAdapter(adapter); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T06:31:39.477

尝试使用`Collections.sort(list);`您可能需要`import java.util.Collections;`

要使用自定义属性进行排序，您必须实施`Comparator`示例：

```
public class CustomComparator implements Comparator<Phonebook> {
   @Override
   public int compare(Phonebook p1, Phonebook p2) {
      return p1.name.compareTo(p2.name);
   }
} 
```

对于排序，您必须：

`Collections.sort(list, new CustomComparator());`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T06:33:46.557

```
 Collections.sort(listOfPhonebook , new Comparator<Phonebook>() {
            public int compare(Phonebook phn1, Phonebook phn2) {
                return phn1.name.compareTo(phn2.name);
            }
        }); 
```

试试这个，假设名称是电话簿类的变量并按名称排序。

# android - Mobclix 失败，代码为 -1006

> ID：12419169
> 
> 赞同：1
> 
> 时间：2012-09-14T06:26:30.373
> 
> 标签：android, mobclix

我在使用 Mobclix 演示时遇到问题。我更改了我的 ip 并运行了演示，但没有显示广告。在我的个人资料中，我已启用所有广告网络，并且几天前已启用，但没有广告显示，除非我将个人资料设置为测试模式 - 然后我看到了测试横幅。当我点击他们的 android 演示应用程序上的“刷新广告”按钮时，我看到了这些：

> 09-14 08:54:43.383：V/MobclixAdvertisingView(4521)：广告请求失败，错误代码：-999999 09-14 08:54:44.044：V/MobclixAdvertisingView(4521)：广告请求返回开放分配代码： -111111 09-14 08:54:44.044：V/MobclixAdvertisingView(4521)：广告请求返回开放分配代码：-1006

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-11T11:08:10.667

它现在似乎正在工作，也许广告提要在服务器端还没有准备好。

# django - ifequal 语句中的 django 和条件抛出错误

> ID：12419171
> 
> 赞同：0
> 
> 时间：2012-09-14T06:26:51.527
> 
> 标签：django, django-templates

我需要在以下条件下显示一部分 HTML，

var1=="google" 和 var2 为 True

我写了以下代码，

```
{% ifequal var1 "google" and var2 %}
      /*HTML CODE */
{% endif %} 
```

我有一个错误

```
TemplateSyntaxError at /process/apply.html
u'ifequal' takes two arguments 
```

我知道我可以拆分上述两个嵌套的 IF 语句，在 django 中还有一种方法可以将它们组合成一个 if 语句吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T06:33:22.690

来自[django ifequal 文档](https://docs.djangoproject.com/en/dev/ref/templates/builtins/?from=olddocs#ifequal)

*只能将参数与模板变量或字符串进行比较。您无法检查 Python 对象是否相等，例如 True 或 False。如果您需要测试某事是真还是假，请改用 if 标记。*

所以如果要检查`True`or `False`，那么需要使用`if`.

```
{%if var1 == "google" and var2 %}
....
{%endif%} 
```

# vba - 保存为 XML 电子表格时出现 Excel 错误

> ID：12419173
> 
> 赞同：2
> 
> 时间：2012-09-14T06:26:59.687
> 
> 标签：vba, vsto, excel-2007

我在 Excel 2007 加载项中遇到了一个奇怪的错误，该错误似乎可以通过几行宏代码重现（**更新**：即使没有代码，请参见下文）。

打开一个新工作簿并将以下代码添加到第一个工作表。

```
Private Sub Worksheet_Change(ByVal Target As Range)
    Application.DisplayAlerts = False ' Suppress macro and overwrite warnings
    ActiveWorkbook.SaveAs "test.xml", XlFileFormat.xlXMLSpreadsheet
End Sub 
```

现在，每次更改都会将工作簿保存为 XML 电子表格文件。

但是，当我打开 Excel 的第二个实例并将单个单元格从那里复制到自动保存工作簿时，Excel 2007 崩溃。（在类似的情况下，我还看到了 RPC_E_SERVERFAULT 错误。）在 Excel 2010 中，文件按预期保存。

任何想法可能是这种行为的根本原因以及如何避免它？

**更新**

似乎更糟：如果我将数据从一个 Excel (2007) 实例复制到另一个实例并将目标工作簿保存为 XML 电子表格 Excel 崩溃。我在两台机器上试过这个，这是一个已知的错误吗？

# c# - 将文本识别为 Winforms 中的 URL

> ID：12419175
> 
> 赞同：1
> 
> 时间：2012-09-14T06:27:03.673
> 
> 标签：c#, regex, winforms

我在 GUI 中呈现一些文本并尝试重新识别 URL。我还需要在执行点击事件时在浏览器中打开 URL。我在下面附上了模型代码片段。我的问题是如何使这些文本成为有效的 URL，以及如何使它们响应点击事件。还有一件事，由于某些要求，我无法更改以下代码片段的结构。

```
namespace Model
{
    public partial class ParentView : Form
    {        
        public ParentView()
        {
            InitializeComponent();            
        }
        private void ParentView_Paint(object sender, PaintEventArgs e)
        {
            GraphicsState state = e.Graphics.Save();
            GraphicsRenderer renderer = new GraphicsRenderer(e.Graphics);
            renderer.RenderAsImage();
            e.Graphics.Restore(state);
            e.Graphics.DrawRectangle(new Pen(Brushes.Black), 0, 0, 300, 300);
            //I believe need to do something here
        }        
    }  

public class GraphicsRenderer
{ 
    Graphics PageGraphics;
    public GraphicsRenderer(Graphics g)
    {
        PageGraphics = g;
    }

    public void RenderAsImage()
    {
        Point currentLocation = new Point(0, 0);

        PageGraphics.TranslateTransform(20, 40);
        PageGraphics.DrawString("www.google.com", new Font("Arial", 12, FontStyle.Regular, GraphicsUnit.Point), Brushes.Black, currentLocation);

        PageGraphics.TranslateTransform(20, -40);
        PageGraphics.DrawString("www.stackoverflow.com", new Font("Arial", 12, FontStyle.Regular, GraphicsUnit.Point), Brushes.Black, currentLocation);

        currentLocation = new Point(50, 60);
        PageGraphics.DrawString("www.stackoverflow.com", new Font("Arial", 12, FontStyle.Regular, GraphicsUnit.Point), Brushes.Black, currentLocation);
    }
}    
} 
```

谢谢， Mkn

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T09:23:38.353

如果您只是将文本作为图形写入屏幕，则无法使其可点击。您需要`LinkLabel`在正确的位置放置一个或其他可点击控件，以触发在浏览器中打开 URL。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-20T05:29:09.127

感谢您的答复。我进一步分析并找到了方法。在文本上绘制矩形并使用 Rectangle 在鼠标单击事件中查找矩形。包含（MouseLeftClikLocation）。

现在我遇到了另一个问题。如果执行比例转换，我无法在恢复图形后获得位置。

请在下面找到代码片段。

```
private void ParentView_Paint(object sender, PaintEventArgs e)
{
    GraphicsState state = e.Graphics.Save();
    GraphicsRenderer renderer = new GraphicsRenderer(e.Graphics);
    renderer.RenderAsImage();
    e.Graphics.Restore(state);
    e.Graphics.DrawRectangle(new Pen(Brushes.Black), 0, 0, 300, 300);

    //I am changing here
    float[] transformPoints = renderer.transformPoints.Elements;
    e.Graphics.TranslateTransform(transformPoints[4], transformPoints[5]);
    Point currentLocation = renderer.currentLocation;
    e.Graphics.DrawRectangle(new Pen(Brushes.Black),new Rectangle(currentLocation.X,currentLocation.Y,190,30));
}
public class GraphicsRenderer
{
    Graphics PageGraphics;
    internal Matrix transformPoints = new Matrix();
    internal Point currentLocation = new Point(0, 0);

    public GraphicsRenderer(Graphics g)
    {
        PageGraphics = g;
    }

    public void RenderAsImage()
    {
        currentLocation = new Point(50, 60);
        //PageGraphics.ScaleTransform(3, 3);
        PageGraphics.DrawString("www.bing.com", new Font("Arial", 12, FontStyle.Regular, GraphicsUnit.Point), Brushes.Black, currentLocation);
        transformPoints = PageGraphics.Transform;
    }
} 
```

# mongodb - 如何在 MongoDB 中执行一次性数据库同步到另一个数据库？

> ID：12419181
> 
> 赞同：12
> 
> 时间：2012-09-14T06:27:33.190
> 
> 标签：mongodb, synchronization, database

我有单独的开发和生产 MongoDB 服务器，我想在开发服务器中保留实际数据一段时间。我应该使用它：[mongodump](http://www.mongodb.org/display/DOCS/Import+Export+Tools#ImportExportTools-mongodumpandmongorestore)，[mongoimport](http://www.mongodb.org/display/DOCS/Import+Export+Tools#ImportExportTools-mongodumpandmongorestore)还是其他东西？

[澄清](https://stackoverflow.com/questions/12419181/how-to-perform-one-time-db-sync-to-another-db-in-mongodb#comment16694096_12419257)：我想将数据从生产复制到开发。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2015-02-15T00:37:52.670

## 如果是一次性的

并且您希望对参数进行精细控制，例如要同步哪些集合，您应该使用：

*   [**mongodump**](http://docs.mongodb.org/manual/reference/program/mongodump/#bin.mongodump)将生产数据库的 bson 文件转储到本地计算机
*   [**mongorestore**](http://docs.mongodb.org/manual/reference/program/mongorestore/#bin.mongorestore)然后检索本地数据库中转储的 BSON 文件

* * *

## **否则你应该检查[mongo-sync](https://github.com/sheharyarn/mongo-sync)**

这是我为自己编写的脚本，当我不得不不断地将本地`MongoDB`数据库复制到我的生产数据库中或从我的生产数据库中复制出一个项目时（我知道这很愚蠢）。

将数据库详细信息放入 中后`config.yml`，您可以使用两个简单的命令开始同步：

```
./mongo-sync push       # Push DB to Remote
./mongo-sync pull       # Pull DB to Local 
```

*如果您在某个项目中使用它，最好添加`config.yml`到`.gitignore`*

![mongo-同步演示 gif](../Images/bedc141771812b076b2be326708739a4.png)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-14T06:41:11.843

您可以使用`db.copyDatabase(...)`or`db.cloneDatabase(...)`命令：

[http://www.mongodb.org/display/DOCS/Copy+Database+Commands](http://www.mongodb.org/display/DOCS/Copy+Database+Commands)

这比 mongodump / mongorestore 快，因为它跳过了在磁盘上创建 bson 表示。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-14T08:23:34.677

当您希望开发数据库看起来与生产数据库完全相同时，您只需复制文件即可。我目前正在运行一个设置，我在我的桌面和我的笔记本之间使用 Dropbox 同步我的 MongoDB 数据库——即使这样也能完美运行。

# iphone - iPhone中url的正则表达式

> ID：12419182
> 
> 赞同：2
> 
> 时间：2012-09-14T06:27:34.460
> 
> 标签：iphone, ios, ios5, ios4

我正在使用正则表达式来验证网站地址。但它不起作用，因为它的格式在 iPhone 中不正确。它的逻辑几乎是正确的。任何人都可以在 iPhone 中为我重建这个正则表达式吗？

```
(?<http>(http:[/][/]|www.)([a-z]|[A-Z]|[0-9]|[/.]|[~])*) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-14T06:34:39.083

看看这个

```
NSString *urlRegEx =
@"(http|https)://((\\w)*|([0-9]*)|([-|_])*)+([\\.|/]((\\w)*|([0-9]*)|([-|_])*))+"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T07:27:27.233

使用下面的方法

```
- (BOOL) validateUrl: (NSString *) stringURL {
    NSString *urlRegEx =
    @"(http|https)://((\\w)*|([0-9]*)|([-|_])*)+([\\.|/]((\\w)*|([0-9]*)|([-|_])*))+";
    NSPredicate *urlTest = [NSPredicate predicateWithFormat:@"SELF MATCHES %@", urlRegEx]; 
    return [urlTest evaluateWithObject:stringURL];
} 
```

希望这可以帮助你...

:)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-08-06T10:44:25.983

对于任何对接受的答案正则表达式有问题的人，这里是我正在使用的一个版本：

```
(https?)://(([\\w\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\-\\+\\=\\(\\)\\[\\]\\{\\}\\?\\<\\>])*)+([\\.|/](([\\w\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\-\\+\\=\\(\\)\\[\\]\\{\\}\\?\\<\\>])*))+ 
```

接受答案正则表达式的问题是： \w - 已经包含“_”和数字

对于在第一个点之后具有“-”的 URL，它会失败

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-01-30T12:40:01.023

就我而言，这是明确的表达：

```
NSString *URLRegEx = 
@"((https?://www[.][a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9].{2,}[.][a-zA-Z0-9]{2,})|(www[.][a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9].{2,}[.][a-zA-Z0-9]{2,})|([a-zA-Z0-9\-]{2,}[.][a-zA-Z0-9]{2,}))"; 
```

匹配的示例：

*   [http://www.example.com](http://www.example.com)
*   [http://www.example.es](http://www.example.es)
*   [https://www.example.com](https://www.example.com)
*   www.example.com
*   例子.com

不匹配的情况：

*   例子
*   [http://示例](http://example)
*   [http://example.com](http://example.com)
*   www.example

ETC...

如果您不想允许所有这些情况，只需将它们从表达式中删除即可。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-01-13T15:38:12.470

这将捕获 http / https / 普通 subdomain.domain.suffix 链接：（基于 Grzegorz Krukowski 的良好回答）

`@"((https?)://)?(([\\w\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\-\\+\\=\\(\\)\\[\\]\\{\\}\\?\\<\\>])*)+([\\.|/](([\\w\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\-\\+\\=\\(\\)\\[\\]\\{\\}\\?\\<\\>])+))+"`

# ruby-on-rails - Rails - 使用 ajax 上传图片

> ID：12419186
> 
> 赞同：4
> 
> 时间：2012-09-14T06:28:07.127
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我一直在尝试使用 ajax 上传图片，但也许我做错了

```
<%= simple_form_for @note, remote: true do |f|%>
  <%= f.text_area :content%>
  <%= f.file_field :picture %>
  <%= f.submit "save"%>
<%end%> 
```

但每次我点击保存...它没有进行上传，它转到显示操作而不是显示我在文件 create.js.erb 中的警报（它确实在表单标签中有 multipart 参数。是否可以使用这种方式上传图像？或者我应该检查 jquery-file-upload 库吗？

提前致谢

哈维尔

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T06:36:42.853

您不能使用 Ajax 进行文件上传。但是你可以使用例如 jQuery 的文件上传插件[http://blueimp.github.com/jQuery-File-Upload/](http://blueimp.github.com/jQuery-File-Upload/)

我有同样的问题——> [form_tag with remote: true 不发出 ajax 请求](https://stackoverflow.com/questions/11374897/form-tag-with-remote-true-does-not-make-an-ajax-request)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-14T06:43:53.617

您可以使用 jquery.form 插件通过 ajax 进行文件上传。这是一个链接。

[http://jquery.malsup.com/form/](http://jquery.malsup.com/form/)

# javascript - 在 Kinetic.js 中，如何一次在画布上加载一个图像并加载多个图像

> ID：12419188
> 
> 赞同：0
> 
> 时间：2012-09-14T06:28:23.313
> 
> 标签：javascript, html, image, kineticjs

我需要源中整个图像的通用代码。即使图像尺寸增加，它仍然可以工作。对于加载，我正在使用以下代码：

```
var loadImages = function(sources, callback) {
    var images = {};
    var loadedImages = 0;
    var numImages = 0;
    for(var src in sources) {
       numImages++;
    }
    //document.getElementById('ImageIndex').value
    document.getElementById('TotalIndex').value="/"+numImages;
    for(var src in sources) {
       alert(src);
       images[src] = new Image();
       images[src].onload = function() {
       if(++loadedImages >= numImages) {
           callback(images);
       }
       };
    images[src].src = sources[src];
    }
} 
```

我不知道下一步该做什么。

在代码中间可以看到图片索引和总索引。这些变量分别表示当前图像索引和源中图像的总数。

这是我第一次发布任何错误，请见谅。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T14:37:10.727

尝试 ：

```
var loadImages = function(sources, callback) {
var images = {};

//A second array for storing Kinetic Objects
var images2 = new Array();

var loadedImages = 0;
var numImages = 0;
for(var src in sources) {
   numImages++;
}
//document.getElementById('ImageIndex').value
document.getElementById('TotalIndex').value="/"+numImages;
for(var src in sources) {
   alert(src);
   images[src] = new Image();

   images2[src] = new Kinetic.Image({
       //your config and source here
   });

   images[src].onload = function() {
   if(++loadedImages >= numImages) {
       callback(images);
   }
   };
images[src].src = sources[src];
}

//Then draw each image, one at a time:
for( var src in sources ){
    layer.add(images2[src]);
    layer.draw();  //this draws each picture one at a time
}
// or you could just redraw the whole stage after adding all the items to the layer. 
stage.draw();
} 
```

# asp.net - 如何从 AJAX 调用非静态方法？

> ID：12419196
> 
> 赞同：4
> 
> 时间：2012-09-14T06:29:08.703
> 
> 标签：asp.net, ajax, json

这是我从 AJAX 调用的代码...

```
 [WebMethod]
    [ScriptMethod]
    public static string save(string parameter)
    {
        country_master obj_country = new country_master();
        obj_country.Country_Name = Page.Request.Params["name"].ToString().Trim();
        obj_country.saved();
        return "";
    } 
```

在这里，我无法访问通过 Page.Request 从页面传递的参数。

```
string name = HttpContext.Current.Request.QueryString["name"].Trim();
return "error"; 
```

写完第一行后，return 语句不会向 AJAX 返回任何内容。请帮助我如何做到这一点。谢谢...

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-14T06:32:35.890

要获取当前上下文，您可以使用`HttpContext.Current`，这是一个静态属性。

一旦你有了它，你就可以访问诸如会话或配置文件之类的东西，并获取有关站点状态的信息

`HttpContext.Current.Session`ETC..

这个链接可以帮助你：[Call Server Side via AJAX without a Static Method](http://www.jbcdigital.com/call-non-static-server-side-methods-via-microsofts-ajax.aspx)

**将 web 方法限制为静态的原因是为了避免它访问实例页面的控件。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T06:43:09.117

你可以使用`HttpContext.Current`静态类，但是如果你在你的方法上声明你想要使用的参数，你可以跳过它，只需通过你的 AJAX 调用传递参数

您应该将参数直接传递给该方法。

[我的 Github 存储库](https://github.com/jupaol/SO-Answers/blob/master/Visual%20Studio%202012/src/SO/WebForms/WebForms_1/Topics/JQuery/Ajax/PageMethods_JQueryAJAX.aspx)中有几个工作示例，请随意浏览代码。

总而言之，调用 PageMethod：

注意：如何使用 AJAX 将`jobID`PageMethod 参数与请求一起传递，以及如何在 PageMethod 内部透明地使用

### AJAX 调用

```
 $.ajax({
                type: 'POST',
                url: '<%: this.ResolveClientUrl("~/Topics/JQuery/Ajax/PageMethods_JQueryAJAX.aspx/GetEmployees") %>',
                contentType: 'application/json; charset=utf-8',
                dataType: 'json',
                data: '{"jobID" : ' + jobID +'}',
                async: false,
                cache: false,
                success: function (data) {
                    $('#employees').find('option').remove();
                    $.each(data.d, function (i, item) {
                        $('<option />').val(item.EmployeeID).text(item.FirstName).appendTo('#employees');
                    });
                },
                error: function (xhr) {
                    alert(xhr.responseText);
                }
            }); 
```

### 页面方法

```
 [WebMethod]
    public static List<EmployeeModel> GetEmployees(int jobID)
    {
        var ctx = new PubsDataContext();

        return (from e in ctx.employee
                where e.job_id == jobID
                orderby e.fname
                select new EmployeeModel
                {
                    EmployeeID = e.emp_id,
                    FirstName = e.fname
                }).ToList();
    } 
```

# python - Python 子进程 readlines() 挂起

> ID：12419198
> 
> 赞同：31
> 
> 时间：2012-09-14T06:29:21.453
> 
> 标签：python, subprocess

我尝试完成的任务是流式传输 ruby​​ 文件并打印输出。（***注意***：我不想一次打印所有内容）

**主文件**

```
from subprocess import Popen, PIPE, STDOUT

import pty
import os

file_path = '/Users/luciano/Desktop/ruby_sleep.rb'

command = ' '.join(["ruby", file_path])

master, slave = pty.openpty()
proc = Popen(command, bufsize=0, shell=True, stdout=slave, stderr=slave, close_fds=True)     
stdout = os.fdopen(master, 'r', 0)

while proc.poll() is None:
    data = stdout.readline()
    if data != "":
        print(data)
    else:
        break

print("This is never reached!") 
```

**ruby_sleep.rb**

```
puts "hello"

sleep 2

puts "goodbye!" 
```

***问题***

流式传输文件工作正常。hello/goodbye 输出以 2 秒的延迟打印。就像脚本应该工作一样。问题是 readline() 最终挂起并且永远不会退出。我从来没有达到最后一张印刷品。

我知道这里有很多这样的问题 stackoverflow 但没有一个让我解决了问题。我不是整个子流程的事情，所以请给我一个更实际/具体的答案。

问候

**编辑**

修复意外代码。（与实际错误无关）

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-09-18T06:58:53.747

我假设您使用Q`pty`中概述的原因[：为什么不只使用管道 (popen())？](http://pexpect.readthedocs.org/en/latest/FAQ.html#whynotpipe)（到目前为止，所有其他答案都忽略了您的*“注意：我不想一次打印所有内容”*）。

`pty`仅[如文档中所述](http://docs.python.org/dev/library/pty.html)是 Linux ：

> 因为伪终端处理高度依赖于平台，所以有代码仅适用于 Linux。（Linux 代码应该可以在其他平台上运行，但尚未经过测试。）

目前尚不清楚它在其他操作系统上的效果如何。

你可以试试`pexpect`：

```
import sys
import pexpect

pexpect.run("ruby ruby_sleep.rb", logfile=sys.stdout) 
```

或者[`stdbuf`](http://www.gnu.org/software/coreutils/manual/html_node/stdbuf-invocation.html#stdbuf-invocation)在非交互模式下启用行缓冲：

```
from subprocess import Popen, PIPE, STDOUT

proc = Popen(['stdbuf', '-oL', 'ruby', 'ruby_sleep.rb'],
             bufsize=1, stdout=PIPE, stderr=STDOUT, close_fds=True)
for line in iter(proc.stdout.readline, b''):
    print line,
proc.stdout.close()
proc.wait() 
```

或者`pty`根据[@Antti Haapala 的回答](https://stackoverflow.com/a/28925318/4279)从标准库中使用：

```
#!/usr/bin/env python
import errno
import os
import pty
from subprocess import Popen, STDOUT

master_fd, slave_fd = pty.openpty()  # provide tty to enable
                                     # line-buffering on ruby's side
proc = Popen(['ruby', 'ruby_sleep.rb'],
             stdin=slave_fd, stdout=slave_fd, stderr=STDOUT, close_fds=True)
os.close(slave_fd)
try:
    while 1:
        try:
            data = os.read(master_fd, 512)
        except OSError as e:
            if e.errno != errno.EIO:
                raise
            break # EIO means EOF on some systems
        else:
            if not data: # EOF
                break
            print('got ' + repr(data))
finally:
    os.close(master_fd)
    if proc.poll() is None:
        proc.kill()
    proc.wait()
print("This is reached!") 
```

所有三个代码示例都会立即打印“hello”（只要看到第一个 EOL）。

* * *

^(在这里留下旧的更复杂的代码示例，因为它可能会在 SO 的其他帖子中被引用和讨论)

或`pty`根据[@Antti Haapala 的回答](https://stackoverflow.com/a/12225379/4279)使用：

```
import os
import pty
import select
from subprocess import Popen, STDOUT

master_fd, slave_fd = pty.openpty()  # provide tty to enable
                                     # line-buffering on ruby's side
proc = Popen(['ruby', 'ruby_sleep.rb'],
             stdout=slave_fd, stderr=STDOUT, close_fds=True)
timeout = .04 # seconds
while 1:
    ready, _, _ = select.select([master_fd], [], [], timeout)
    if ready:
        data = os.read(master_fd, 512)
        if not data:
            break
        print("got " + repr(data))
    elif proc.poll() is not None: # select timeout
        assert not select.select([master_fd], [], [], 0)[0] # detect race condition
        break # proc exited
os.close(slave_fd) # can't do it sooner: it leads to errno.EIO error
os.close(master_fd)
proc.wait()

print("This is reached!") 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-17T14:23:30.250

不确定您的代码有什么问题，但以下似乎对我有用：

```
#!/usr/bin/python

from subprocess import Popen, PIPE
import threading

p = Popen('ls', stdout=PIPE)

class ReaderThread(threading.Thread):

    def __init__(self, stream):
        threading.Thread.__init__(self)
        self.stream = stream

    def run(self):
        while True:
            line = self.stream.readline()
            if len(line) == 0:
                break
            print line,

reader = ReaderThread(p.stdout)
reader.start()

# Wait until subprocess is done
p.wait()

# Wait until we've processed all output
reader.join()

print "Done!" 
```

请注意，我没有安装 Ruby，因此无法检查您的实际问题。不过，与 一起工作得很好`ls`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-17T17:34:47.440

基本上你在这里看到的是你`proc.poll()`和你的`readline()`. 由于文件句柄上的输入永远不会关闭，如果进程在 ruby​​ 进程完成输出后`master`尝试对其执行操作，则将永远不会读取任何内容，但管道将永远不会关闭。`readline()`只有在您的代码尝试另一个 readline() 之前关闭 shell 进程，该代码才会起作用。

这是时间线：

```
readline()
print-output
poll()
readline()
print-output (last line of real output)
poll() (returns false since process is not done)
readline() (waits for more output)
(process is done, but output pipe still open and no poll ever happens for it). 
```

简单的解决方法是只使用文档中建议的子进程模块，而不是与 openpty 结合使用：

[http://docs.python.org/library/subprocess.html](http://docs.python.org/library/subprocess.html)

这是一个非常相似的问题，需要进一步研究：

[捕获输出时使用带有 select 和 pty 的子进程挂起](https://stackoverflow.com/questions/11165521/using-subprocess-with-select-and-pty-hangs-when-capturing-output)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-17T17:52:39.497

尝试这个：

```
proc = Popen(command, bufsize=0, shell=True, stdout=PIPE, close_fds=True)
for line in proc.stdout:
    print line

print("This is most certainly reached!") 
```

正如其他人所指出的，`readline()`在读取数据时会阻塞。当您的子进程死亡时，它甚至会这样做。我不确定为什么在执行`ls`另一个答案时不会发生这种情况，但也许 ruby​​ 解释器检测到它正在写入 PIPE，因此它不会自动关闭。

# silverlight-5.0 - 如何创建正确的证书以提升对 Silverlight 5 应用程序的信任？

> ID：12419199
> 
> 赞同：0
> 
> 时间：2012-09-14T06:29:22.157
> 
> 标签：silverlight-5.0, elevated-privileges, full-trust

我通过 Silverlight 5 阅读了有关使用 P/Invoke 的信息并尝试过，它可以工作。但它只适用于受信任的环境。这意味着从远程网站下载的应用程序不会在提升的信任下运行。

我使用自签名测试证书对我的应用程序进行了数字签名，但它只卡在我的计算机上。我希望能够创建一个带有公钥的证书，该证书可用于提升对从 Internet 站点下载的应用程序的信任，并可以在任何 PC 上运行。

如果用户需要手动安装证书，这对我很好。

让这个过程自动化会更好，但让我们逐步解决问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T08:51:05.330

*Goodcat 先生*撰写了一篇关于如何为 Silverlight 5 浏览器内受信任的应用程序设置证书的综合博客文章，请[点击此处](http://www.pitorque.de/MisterGoodcat/post/Silverlight-5-Tidbits-Trusted-applications.aspx)。

请注意，由于证书要求，Silverlight 浏览器内提升信任应用程序仅实际部署在 Intranet 中。根据您的应用程序的用途，另一种选择可能是要求应用程序在浏览器之外运行，以便使用提升的信任功能。

# iphone - NSDate 来自字符串

> ID：12419205
> 
> 赞同：14
> 
> 时间：2012-09-14T06:29:41.303
> 
> 标签：iphone, ios

我有一个字符串“2012-09-16 23:59:59 JST”我想将此日期字符串转换为 NSDate。

```
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
[dateFormatter setDateFormat:@"yyyy-MM-dd hh:mm:ss Z"];
NSDate *capturedStartDate = [dateFormatter dateFromString: @"2012-09-16 23:59:59 JST"];
NSLog(@"%@", capturedStartDate); 
```

但它不起作用。它给出空值。请帮忙..

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-09-14T06:34:04.960

使用 24 小时制时，小时说明符必须是大写 H，如下所示：

```
[dateFormatter setDateFormat:@"yyyy-MM-dd HH:mm:ss Z"]; 
```

在此处检查正确的说明符：[http ://unicode.org/reports/tr35/tr35-6.html#Date_Format_Patterns](http://unicode.org/reports/tr35/tr35-6.html#Date_Format_Patterns)

但是，您需要为日期格式化程序设置语言环境：

```
// Set the locale as needed in the formatter (this example uses Japanese)
[dateFormat setLocale:[[NSLocale alloc] initWithLocaleIdentifier:@"ja_JP"]]; 
```

完整的工作代码：

```
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
[dateFormatter setDateFormat:@"yyyy-MM-dd HH:mm:ss zzz"];
[dateFormatter setLocale:[[NSLocale alloc] initWithLocaleIdentifier:@"ja_JP"]];
NSDate *capturedStartDate = [dateFormatter dateFromString: @"2012-09-16 23:59:59 JST"];
NSLog(@"Captured Date %@", [capturedStartDate description]); 
```

输出（格林威治标准时间）：

```
Captured Date 2012-09-16 14:59:59 +0000 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-14T06:50:34.413

```
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
[dateFormatter setDateFormat:@"yyyy-MM-dd HH:mm:ss Z"];
NSDate *capturedStartDate = [dateFormatter dateFromString: @"2012-09-16 23:59:59 GMT-08:00"];
NSLog(@"%@", capturedStartDate); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-14T06:47:13.510

```
NSString *dateString = @"01-02-2010";
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];

// this is imporant - we set our input date format to match our input string
// if format doesn't match you'll get nil from your string, so be careful

[dateFormatter setDateFormat:@"dd-MM-yyyy"];
NSDate *dateFromString = [[NSDate alloc] init];
 // end
dateFromString = [dateFormatter dateFromString:dateString];
[dateFormatter release]; 
```

# iphone - 将属性添加到 iPhone 应用程序中的所有视图控制器

> ID：12419206
> 
> 赞同：0
> 
> 时间：2012-09-14T06:29:43.457
> 
> 标签：iphone, objective-c, uiviewcontroller

我的 iPhone 应用程序中的视图控制器要么扩展自`UIViewController`要么`UITableViewController`。我需要为它们添加一个属性，以便我可以在控制器之间传递用户信息。我知道的解决方案是添加 a`BaseViewController`和 a `BaseTableViewController`，将属性添加到它们，然后让所有控制器从它们继承。

`BaseViewController`对我来说，重复这个属性`BaseTableViewController`似乎不是最优雅的解决方案。有没有更好的？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:49:20.543

由于扩展不适用于您的情况，您可以在 UIViewController 上编写一个类别并用于`objc_getAssociatedObject`存储您想要的数据并使用`objc_getAssociatedObject`. 但是您应该谨慎使用此选项。

```
static NSString *key = @"example";

- (void)setExampleProperty:(id)value {
    objc_setAssociatedObject(self, (__bridge void *)key, value, OBJC_ASSOCIATION_RETAIN);
}

- (id)exampleProperty {
    return objc_getAssociatedObject(self, (__bridge void *)key);
} 
```

[https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ObjCRuntimeRef/Reference/reference.html](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ObjCRuntimeRef/Reference/reference.html)

# ipad - ipad中的菜单在flash后面

> ID：12419208
> 
> 赞同：0
> 
> 时间：2012-09-14T06:29:55.330
> 
> 标签：ipad, flash, drop-down-menu, z-index

```
http://www.livingcoloursdiving.com/en/diving-snorkling/diving 
```

这是我正在开发的网站。有2个问题：

1) 下拉菜单在任何 ie 中都不起作用 2) 下拉菜单位于 flash 视频后面。

以下我在研究后尝试过的方法： - 尝试了 z-index 方法 - 尝试了 wmode 透明和不透明（适用于 pc 上的浏览​​器，但不适用于 ipad）

有任何想法吗？提前致谢

# textpad - 使用 TextPad 搜索多个单词

> ID：12419210
> 
> 赞同：0
> 
> 时间：2012-09-14T06:30:33.253
> 
> 标签：textpad

我需要找到包含 2 个不同单词的文件列表。例如，我需要从包含单词“Balloon”的文件夹中搜索文件列表，然后从结果中搜索包含单词“burst”的文件。

是否可以使用文本板做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-19T13:24:51.360

编辑答案，因为我看到你想要的是，实际上，找到任何带有**气球和**爆裂*的*文件。你可以简单地使用（或者如果你不想在文件中匹配**气球爆裂**）：**`balloon.*burst``balloon.+burst`**

 ****![TextPad 使用正则表达式查找](../Images/c2ccb711f57ea240c6e2bce3a33c62e0.png)

不要忘记*在所有文档*中搜索- 我的建议是点击全部标记以显示结果。请记住，您需要先在 TextPad 中打开这些文件。****

# c# - InvokeRequired 和 ToolStripStatusLabel

> ID：12419217
> 
> 赞同：7
> 
> 时间：2012-09-14T06:30:57.540
> 
> 标签：c#, winforms, .net-3.5, invokerequired

在我的应用程序中，我有一个负责所有数据库操作的类。它从主类调用，并在操作完成后使用委托调用方法。因为它是异步的，所以我必须在我的 GUI 上使用调用，所以我创建了一个简单的扩展方法：

```
 public static void InvokeIfRequired<T>(this T c, Action<T> action)
            where T: Control
        {
            if (c.InvokeRequired)
            {
                c.Invoke(new Action(() => action(c)));
            }
            else
            {
                action(c);
            }
        } 
```

当我尝试在 textBox 上调用它时，这很好用：

```
textBox1.InvokeIfRequired(c => { c.Text = "it works!"; }); 
```

但是当我尝试在 ToolStripStatusLabel 或 ToolStripProgressBar 上调用它时，出现错误：

> 类型“System.Windows.Forms.ToolStripStatusLabel”不能用作泛型类型或方法“SimpleApp.Helpers.InvokeIfRequired(T, System.Action)”中的类型参数“T”。没有从“System.Windows.Forms.ToolStripStatusLabel”到“System.Windows.Forms.Control”的隐式引用转换。

我知道这可能是一个简单的修复，但我可以处理它：/

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-14T06:49:46.303

这是因为 ToolStripItem（这两个导致错误的基础）是一个组件，而不是一个控件。尝试在拥有它们的工具条上调用您的扩展方法并调整您的委托方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-07-25T20:48:31.520

我想补充接受的解决方案。您可以使用 ToolStripStatusLabel 的 GetCurrentParent 方法从组件中获取控件。

与其做`toolStripStatusLabel1.InvokeIfRequired`，不如做`toolStripStatusLabel1.GetCurrentParent().InvokeIfRequired`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-10-10T12:18:33.727

**扩展方法使用** `GetCurrentParent().InvokeRequired`

```
public static void ToolStripStatusInvokeAction<TControlType>(this TControlType control, Action<TControlType> del)
    where TControlType : ToolStripStatusLabel
    {
        if (control.GetCurrentParent().InvokeRequired)
            control.GetCurrentParent().Invoke(new Action(() => del(control)));
        else
            del(control);
    } 
```

**调用 ToolStripStatusInvokeAction 扩展：**

```
toolStripAppStatus.ToolStripStatusInvokeAction(t =>
{ 
    t.Text= "it works!";
    t.ForeColor = Color.Red;
}); 
```

# internet-explorer - 如何知道用户是否从服务器端打开了新的 Internet Explorer 窗口或选项卡

> ID：12419221
> 
> 赞同：1
> 
> 时间：2012-09-14T06:31:18.037
> 
> 标签：internet-explorer, web-applications

简短版本：如果用户请求来自 Internet Explorer 8 或更高版本用户的新选项卡或窗口，是否有办法在服务器端（在我的情况下为 Tomcat，但我认为这不会产生影响）知道?

长版...

我正在尝试解决[这个问题](https://stackoverflow.com/questions/12413149/persist-a-value-in-an-web-application-without-using-the-session-context)。建议的答案涉及从服务器端找出用户是否打开了新选项卡或窗口。该应用程序的用户都需要使用 IE8 或更高版本，因此答案可以是特定于 IE 的。

我确实找到[了这个答案](https://stackoverflow.com/questions/850058/is-it-possible-to-detect-if-a-user-has-opened-a-link-in-a-new-tab)，它讨论了如何知道页面是否使用 Javascript 加载到客户端的新选项卡/窗口中。但我还没有看到如何利用这些信息来解决我的问题。我还在琢磨。

后来对同一篇文章的回答说从服务器端是不可能的。但那是在 2009 年，从那时起答案可能已经改变。（在这篇[元帖子](https://meta.stackexchange.com/questions/147027/purposely-re-asking-duplicating-an-old-question)中，我问这是否是正确的行为。）

# php - 在php中使用正则表达式从字符串中删除单词

> ID：12419228
> 
> 赞同：2
> 
> 时间：2012-09-14T06:31:48.933
> 
> 标签：php, regex, split

我有以下方式的日期字符串：

## 输入：

```
$date = "Thu Jul 12 2012 11:03:36 GMT 0"; 
```

我如何使用正则表达式从“GMT”开始删除最后一句话。

## 输出：

```
Thu Jul 12 2012 11:03:36 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T06:34:43.050

尝试这个

```
$newdate = preg_replace("/GMT(.*)/i", "", $date) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-14T06:33:20.307

```
$result = preg_replace('~\s+GMT.*$~', '', $date); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T06:47:33.177

一种使用[`preg_replace`](http://php.net/manual/en/function.preg-replace.php)和使用`pattern`（[30 分钟正则表达式教程](http://www.codeproject.com/Articles/9099/The-30-Minute-Regex-Tutorial)）的方法。

```
<?php
    $string = 'Thu Jul 12 2012 11:03:36 GMT 0';
    $pattern = '/GMT [0-9]*/';
    $replacement = ' ';
    echo preg_replace($pattern, $replacement, $string);
?> 
```

**输出**

```
Thu Jul 12 2012 11:03:36 
```

或[爆炸](http://php.net/manual/en/function.explode.php) `$string = explode('GMT', $string);`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-14T06:39:38.280

尝试这个，

```
$newdate = preg_replace('\sGMT(.*)', '', $date); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-14T06:42:56.560

使用日期时间对象

```
$i = 'Thu Jul 12 2012 11:03:36 GMT 0';
$d = DateTime::createFromFormat('D M d Y H:i:s * *', $i);
echo $d->format('Y-m-d H:i:s'); # or whatever you need 
```

# mysql - 显示表格或 INFORMATION_SCHEMA

> ID：12419230
> 
> 赞同：6
> 
> 时间：2012-09-14T06:32:11.030
> 
> 标签：mysql

我需要获取所有数据库中服务器上所有表的列表。

我发现了两种方法。

1）。执行`SHOW FULL TABLES from <each database name> WHERE table_type = 'BASE TABLE';`

2）。执行`SELECT table_name, table_schema FROM information_schema.tables WHERE TABLE_TYPE = "BASE TABLE";`

问题：

1）。上面提到的还有其他方法可以表现得更好吗？

2）。执行上述两种方法是否有任何性能差异？

3）。以上两种方法哪一种更好执行？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T06:54:51.010

当然`information_schema`。`tables`比 SHOW TABLES 语句（在旧的 MySQL 版本 < 5.0 中使用）更可取。它提供了更多有用的信息，它是标准的系统架构（您可以在其他数据库中找到类似的架构，例如 SQL Server）。您可以使用标准 SELECT 语句从该模式中检索信息，我的意思是您可以使用 WHERE、GROUP BY、ORDER BY 和其他子句和函数。但有时，在大型数据库上，性能`information_schema`可能很差。

查看有关`information_schema`性能的文章：[INFORMATION_SCHEMA 优化](http://dev.mysql.com/doc/refman/5.1/en/information-schema-optimization.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T06:35:02.120

在可能的情况下，我会使用`information_schema`. 它是一个[ANSI 标准](http://dev.mysql.com/doc/refman/5.0/en/faqs-information-schema.html)，但是，访问 MySql 的专有功能有时可能需要使用 SHOW* 函数。所以我想这取决于你的具体情况。

# java - 这些陈述是否等效？

> ID：12419232
> 
> 赞同：4
> 
> 时间：2012-09-14T06:32:24.000
> 
> 标签：java, refactoring, boolean-logic, demorgans-law

我可以像这样重构吗，这些是等价的，因此更简单的代码版本是首选吗？

重构前：

```
 if (!matcher.matches() && !matcher2.matches() && !matcher3.matches()
            && !matcher4.matches() && !matcher5.matches()
            && !matcher6.matches() && !matcher7.matches()
            && !matcher8.matches()) {
        return true;
    } else
        return false; 
```

重构后：

```
 return (matcher.matches() || matcher2.matches() || matcher3.matches()
            || matcher4.matches() || matcher5.matches()
            || matcher6.matches() || matcher7.matches()
            || matcher8.matches()) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-14T06:35:44.277

实际上，没有。第一个是`true`仅当所有匹配器**都不**匹配时。如果第二个语句中的所有匹配器都不匹配，则返回`false`

```
return !(matcher.matches() || matcher2.matches() || matcher3.matches()
            || matcher4.matches() || matcher5.matches()
            || matcher6.matches() || matcher7.matches()
            || matcher8.matches()) 
```

这是对的

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-14T06:33:59.727

不，它们不相等。您必须`!`在第二个选项前面添加。

固定的第二个选项肯定更清楚：

```
return !(matcher.matches() || matcher2.matches() || matcher3.matches()
            || matcher4.matches() || matcher5.matches()
            || matcher6.matches() || matcher7.matches()
            || matcher8.matches()) 
```

我也会这样重构它：

```
boolean atLeastOneMatch = matcher.matches() || matcher2.matches() || matcher3.matches()
                || matcher4.matches() || matcher5.matches()
                || matcher6.matches() || matcher7.matches()
                || matcher8.matches();

return !atLeastOneMatch; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T12:41:33.030

不，这些不是等价的。将其缩减一点，以便更清楚 - 让我们仅使用 2 个示例，并将它们设为 x 和 y 而不是“matcherX.matches()”。在这种情况下，您要问：

这两个是等价的吗？

```
if (!x && !y) {
        return true;
    } else
        return false; 
```

和

```
return (x || y); 
```

让我们轻松进入它。首先，初始语句可以清楚地直接转换为

```
return (!x && !y); 
```

这是[真值表](http://en.wikipedia.org/wiki/Truth_table)：

```
|    x    |    y    |  !x && !y  |
+---------+---------+------------+
|    T    |    T    |     F      |
|    T    |    F    |     F      |
|    F    |    T    |     F      |
|    F    |    F    |     T      | 
```

也就是说，第一个表达式`true`仅在没有子表达式为真时返回。那是一样的

```
return !(x || y); 
```

# bash - 使用 expr 命令无法匹配 `java -version`

> ID：12419233
> 
> 赞同：0
> 
> 时间：2012-09-14T06:32:24.233
> 
> 标签：bash

我正在使用 bash shell 和 expr 命令。下面是我的脚本：

```
v=`java -version`

echo 'check java platform...'

echo `expr match "$v" 'java'` 
```

无法匹配 java 子字符串，只有 0。但如果我使用这个：v='java version "1.6.0_34"' 我得到了正确的结果：4

为什么？如何解决？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T06:40:52.303

尝试这个：

```
export v=`java -version 2>&1`
echo $v 
```

# jndi - 如何从 MBean 将对象绑定到 Jboss 7 中的 JNDI？（命名上下文是只读的）

> ID：12419234
> 
> 赞同：2
> 
> 时间：2012-09-14T06:32:28.943
> 
> 标签：jndi, jmx, jboss7.x, mbeans

当将对象从 MBean 绑定到 JNDI 时（遗留代码到 jboss 7.1），我收到以下异常：

```
Caused by: java.lang.UnsupportedOperationException: JBAS011859: Naming context is read-only
    at org.jboss.as.naming.WritableServiceBasedNamingStore.requireOwner(WritableServiceBasedNamingStore.java:126)
    at org.jboss.as.naming.WritableServiceBasedNamingStore.createSubcontext(WritableServiceBasedNamingStore.java:116)
    at org.jboss.as.naming.NamingContext.createSubcontext(NamingContext.java:338)
    at org.jboss.as.naming.InitialContext.createSubcontext(InitialContext.java:229)
    at org.jboss.as.naming.NamingContext.createSubcontext(NamingContext.java:346)
    at javax.naming.InitialContext.createSubcontext(InitialContext.java:464) [classes.jar:1.6.0_33]
    at org.jboss.as.naming.util.NamingUtils.createSubcontext(NamingUtils.java:63)
    at org.jboss.as.naming.util.NamingUtils.rebind(NamingUtils.java:239)
    at org.jboss.as.naming.util.NamingUtils.rebind(NamingUtils.java:225)
    at com.cdate.hypertable.commons.pool.mgmt.HyperClientConfigMgmt.rebind(HyperClientConfigMgmt.java:79) 
```

如何从 MBean 将对象绑定到 JNDI？是否可以在具有某些“所有者”的安全上下文中从 MBean 运行绑定代码？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T09:10:58.823

您只能在部署期间写入 JNDI。您拥有的一些选项是：

*   `ServletContextListener`
*   `@Startup @Sigleton`EJB
*   特区
*   RAR

# iphone - 在一个字符串中搜索一个字符串，并使其在原始字符串中变为粗体

> ID：12419241
> 
> 赞同：0
> 
> 时间：2012-09-14T06:32:54.093
> 
> 标签：iphone, ios, nsstring

我知道如何检查一个字符串 ( `NSString`) 是否包含另一个较小的字符串对于这个 m 这样做：

```
if ([string rangeOfString:@"bla"].location == NSNotFound) {
  NSLog(@"string does not contain bla");
} else {
  NSLog(@"string contains bla!");
// here I need to make that string bold
} 
```

除此之外，如果我得到那个字符串，我想在原始字符串中将其设为粗体。那么，有没有办法让我的特定字符串加粗？提前致谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T06:51:09.547

您将不得不使用 NSAttributedString。但问题是显示 NSAttributedString。

在 iOS 6.0 的标签支持 NSAttributedString 但较少的版本将需要第三方标签。

为 NSAttributedString使用[TTTAttributedLabel](https://github.com/mattt/TTTAttributedLabel/downloads)链接。

请参阅[ios-using-tttattributedlabel-to-set-two-color-text](https://stackoverflow.com/questions/9521972/ios-using-tttattributedlabel-to-set-two-color-text)链接以供参考。

# java - 面对 java.lang.NoSuchMethodError: Jetty + Eclipse

> ID：12419243
> 
> 赞同：2
> 
> 时间：2012-09-14T06:33:05.247
> 
> 标签：java, eclipse, jsp, jetty

嗨，我在 Eclipse 中使用嵌入式 Jetty 8.x 并收到此错误，同时使用 JSP 和 Servlet制作简单的*Hello Web 应用程序。*我在 Build Path 中缺少一些 jar 吗？

```
org.apache.jasper.JasperException: Unable to compile class for JSP

An error occurred at line: -1 in the jsp file: null

Generated servlet error:
Detected Java version: 1.6 in: C:\Program Files\Java\jdk1.6.0_20\jre
Detected OS: Windows XP
parsing buildfile jar:file:/C:/Documents%20and%20Settings/ashish.s/NewEclipseJuno/JServer/WebContent/WEB-INF/lib/ant-1.8.3.jar!/org/apache/tools/ant/antlib.xml with URI = jar:file:/C:/Documents%20and%20Settings/ashish.s/NewEclipseJuno/JServer/WebContent/WEB-INF/lib/ant-1.8.3.jar!/org/apache/tools/ant/antlib.xml from a zip file
parsing buildfile jar:file:/C:/Documents%20and%20Settings/ashish.s/My%20Documents/Downloads/ant-1.8.3.jar!/org/apache/tools/ant/antlib.xml with URI = jar:file:/C:/Documents%20and%20Settings/ashish.s/My%20Documents/Downloads/ant-1.8.3.jar!/org/apache/tools/ant/antlib.xml from a zip file
Project base dir set to: C:\Documents and Settings\ashish.s\NewEclipseJuno\JServer
    [javac] warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-15T09:09:50.927

我将继续在答案中提供更多细节，因为我也遇到了同样的问题（或足够接近），当运行形式 eclipse 并抛出时应用程序运行良好

```
java.lang.NoSuchMethodError: org.apache.jasper.compiler.JspUtil.expandClassPath(Ljava/util/List;)Ljava/util/List; 
```

当导出并运行形成一个可运行的 jar 时。

解决方案（如上面的评论中所述）是在导出之前在 eclipse中添加`jasper-compiler-*.jar`和类路径（其中星号是版本号）。`jasper-runtime-*.jar`这些我分别在：[jasper-compiler.jar](http://www.jarfinder.com/index.php/jars/versionInfo/1295)和[jasper-runtime.jar](http://www.jarfinder.com/index.php/jars/versionInfo/878)

如果这些链接在阅读时已失效，那么 Google 搜索（或使用类似[jar finder](http://www.jarfinder.com/)的服务）应该可以帮助您找到上述所需的 jar。

# jquery - 如何提醒隐藏字段的值

> ID：12419244
> 
> 赞同：-3
> 
> 时间：2012-09-14T06:33:13.510
> 
> 标签：jquery

我有这样的代码。

```
<div class="gridbox">
                    <div class="friend cell">
                        <div class="inner">
                            <span class="name">Bob</span>
                            <br />
                            (id: 57)
                            <input type="hidden" class="friend_id" value="57 " />
                        </div>
                    </div>
</div> 
```

我想提醒隐藏字段的值。
我有很多这样的项目。不只是这一个。
都有不同的 id，当点击特定的 div 时，它应该提醒它的 id。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T06:46:34.200

这就是你想要的：

```
$('.friend').on('click', function() {
    var friend_id = $('.friend_id', this).val();
    alert(friend_id);
});​ 
```

演示：http: [//jsfiddle.net/aymansafadi/wp748/](http://jsfiddle.net/aymansafadi/wp748/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T06:34:22.563

您应该在隐藏字段上放置一个 id，或者使用类获取它：

```
alert($(".friend_id").val()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T06:34:39.250

像这样试试

```
alert($("input:hidden").val()); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-14T06:34:51.893

像一个javascript警报？我会使用jquery。

alert($('.friend_id').val());

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-14T06:36:03.430

你也可以试试

```
alert($("input:hidden[class='friend_id']").val()); 
```

或者

```
alert($("input:hidden .friend_id").val()); 
```

# python - 使用 argparse 选择函数并提供选项

> ID：12419249
> 
> 赞同：1
> 
> 时间：2012-09-14T06:33:37.297
> 
> 标签：python, argparse

正如对[使用 optparse 接受参数的大多数 pythonic 方式的](https://stackoverflow.com/questions/12222355/most-pythonic-way-of-accepting-arguments-using-optparse)接受答案中所述，我有一个程序，该程序带有一个对字符串执行操作的函数。该程序使用 argparse 检查字符串是按原样提供还是在文件中提供，并根据需要处理输入以将其传递给函数。

现在我想用我的函数的更高级版本扩展程序，但仍然保留基本版本进行比较，有点像[Use argparse to run 1 of 2 functions in my script](https://stackoverflow.com/questions/4938738/use-argparse-to-run-1-of-2-functions-in-my-script)。我认为我的情况不同的地方在于，无论调用什么函数，我都希望可以选择传递我现有的输入标志。

只是向解析器添加一个新参数并将我以前的代码嵌套在检查该标志的 if/else 中是行不通的：它抱怨参数数量错误。我知道子命令，但是我对 argparse 还是很陌生，而且对于我想要的东西来说，这似乎有点过分了——但也许不是。

tl; dr：我需要选择两种功能之一和两种输入类型之一；两种输入类型都适用于这两种功能。谢谢你的帮助！

编辑添加代码：

```
p = argparse.ArgumentParser(description="program.py")
p.add_argument("-e", dest='extended')   #The new flag causing the trouble
p.add_argument("-s", dest="string")
p.add_argument("-f", dest="infile")

args = p.parse_args()

if args.extended:
    if args.infile:
        with open(args.infile,'r') as f:
            for line in enumerate(f.readlines()):
                print 'Input: ', line[1],    
                output = funcExtended(line[1])  #new and improved function
                print 'Extended output: ', output
    elif args.string:
        output = funcExtended(args.string)
        print output
    else:  #my future default option to grab strings from a database
        print 'This will soon work: extended'
else:   #I fully realize that I shouldn't have to essentially copy and paste here
    if args.infile:
        with open(args.infile,'r') as f:
            for line in enumerate(f.readlines()):
                print 'Input: ', line[1],    
                output = funcBasic(line[1])  #old and tired function
                print 'Basic output: ', output
    elif args.string:
        output = funcBasic(args.string)
        print output
    else:   #my future default option to grab strings from a database
        print 'This will soon work: basic' 
```

这是一个命令行实用程序。发行

```
$ python program.py -s 'string' 
```

像以前一样返回格式正确的字符串。但发出

```
$ python program.py -s 'string' -e 
```

返回

```
program.py: error: argument -e: expected one argument 
```

唷。再次感谢任何可以提供帮助的人！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T07:33:45.117

如果您将`extended`参数更改为布尔标志

```
p.add_argument("-e", dest='extended', action="store_true") 
```

它不再期待争论。然后你可以调用你的脚本

```
$ python program.py -e -s 'string' 
```

最后作为奖励，这里有一些想法可以使您的代码减少冗余：

```
import argparse

def funcExtended(line):
   return " ".join(line)

def funcBasic(line):
    return line.upper()

p = argparse.ArgumentParser(description="program.py")
p.add_argument("-e", "--extended", dest="func", action="store_const", const=funcExtended, default=funcBasic)
p.add_argument("-s", "--string")
p.add_argument("-f", "--infile")

args = p.parse_args()

def readlines(args):
    if args.infile:
        with open(args.infile,'r') as f:
            for line in f:
                yield line.rstrip("\n")
    elif args.string:
        yield args.string
    else:  #my future default option to grab strings from a database
        print 'This will soon work: extended'

for line in readlines(args):
    print 'Input: ', line
    output = args.func(line)
    print "Output: ", output 
```

# mysql - 全文索引仅返回 2 行

> ID：12419251
> 
> 赞同：0
> 
> 时间：2012-09-14T06:33:43.070
> 
> 标签：mysql, full-text-indexing, mysql5

我有一张食物和酒店的桌子，比如

```
CREATE TABLE `food_master` (
  `id` int(6) unsigned NOT NULL auto_increment,
  `caption` varchar(255) default NULL,
  `category` varchar(10) default NULL,
  `subcategory` varchar(10) default NULL,
  `hotel` varchar(10) default NULL,
  `description` text,
  `status` varchar(10) default NULL,
  `created_date` date default NULL,
  `modified_date` date default NULL,
  `chosen_mark` varchar(10) default 'no',
  PRIMARY KEY  (`id`),
  FULLTEXT KEY `description` (`description`,`caption`)
) ENGINE=MyISAM AUTO_INCREMENT=15 DEFAULT CHARSET=latin1 
```

我有数据。我在此表中使用全文索引。我使用查询

```
SELECT * FROM food_master am 
WHERE MATCH(description, caption) AGAINST ('Chicken') 
```

当我在“标题”字段中有 2 个“鸡”时，此查询工作正常。但是当我放第三个时，它不会返回一行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:20:23.270

尝试[`IN BOOLEAN MODE`](http://dev.mysql.com/doc/refman/5.5/en/fulltext-boolean.html)作为

> MySQL 可以使用 IN BOOLEAN MODE 修饰符执行布尔全文搜索。使用此修饰符，某些字符在搜索字符串中单词的开头或结尾具有特殊含义。

```
SELECT * FROM food_master 
WHERE MATCH(description, caption) AGAINST ('Chicken' IN BOOLEAN MODE) 
```

[`Demo`](http://www.sqlfiddle.com/#!2/629099/1)

# bash - 如何在 mailx 命令中抄送邮件列表

> ID：12419255
> 
> 赞同：3
> 
> 时间：2012-09-14T06:34:01.597
> 
> 标签：bash, shell, unix, quoting

我准备了一个抄送邮件列表，如下所示：

```
/appl/tracker/TEST> more abc.maillist
xyz@yahoo.com, a123@gmail.com, abc@xyz.com 
```

和一个如下的邮件列表：

```
/appl/tracker/TEST> more Servicedesk.maillist
123@gmail.com 
```

我的脚本`ab.sh`将调用`mailx`命令并发送电子邮件。这应该发送电子邮件以`cc_list`将 id 保存在 cc 中，`to_list`并将列表中提供的 id 放入列表中。

```
/appl/tracker/TEST> more ab.sh
#!/bin/ksh
l_date=`date +%d%m%y`
CC_LIST=`cat /appl/tracker/TEST/abc.maillist`
TO_LIST=`cat /appl/tracker/TEST/Servicedesk.maillist`
MY_Q="'"

cc_list="$MY_Q$CC_LIST$MY_Q"

echo $cc_list

BODYFILE='Please find attached file having my details.Test mail'

echo $CC_LIST
echo $TO_LIST

mailx -s 'HI'  -c $cc_list $TO_LIST <<-EOF
`echo $BODYFILE`
EOF

/appl/tracker/TEST> 
```

输出：

发生错误，指出存在不平衡的`"`. 谁能帮我解决这个问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T07:58:36.953

我没有收到该错误消息。您确定您已正确粘贴所有内容吗？
无论如何，一个直接的问题是您需要引用任何变量插值。除此之外，还不清楚为什么你需要变量。这是对脚本的简化得多的重构。

```
#!/bin/sh

CC_LIST=`cat /appl/tracker/TEST/abc.maillist`
TO_LIST=`cat /appl/tracker/TEST/Servicedesk.maillist`

BODYFILE='Please find attached file having my details. Test mail'

echo "$CC_LIST"
echo "$TO_LIST"

echo "$BODYFILE" | mailx -s 'HI' -c "$CC_LIST" "$TO_LIST" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T07:58:12.617

变量必须双引号以避免扩展为列表：

```
mailx -s 'HI'  -c "$cc_list" "$TO_LIST" <<-EOF
$BODYFILE
EOF 
```

# c# - 如何避免在 C# 中为已知键输入字符串

> ID：12419265
> 
> 赞同：0
> 
> 时间：2012-09-14T06:34:37.877
> 
> 标签：c#

我有以下代码：

```
switch(first)
{
    case 'A':
        vm.Content = contentService.Get("0001000", vm.RowKey);
        return View("Article", vm);
    case 'F':
        vm.Content = contentService.Get("0002000", vm.RowKey);
        return View("FavoritesList", vm);
} 
```

'A'指的是文章的页面类型，键为“0001000” 'F'指的是收藏的页面类型，键为“0002000”

在 C# 中有没有一种方法可以避免将键编码为字符串？某种方式可以让我通过键缩写或名称进行编码，然后让 C# 将其转换为字符串？

我可以为此使用枚举吗？这似乎很理想，但我不确定如何设置枚举。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T06:37:18.737

您可能会考虑字典（如果我正确理解您的问题）

```
//class for holding relation between the code and page name 
public class Data 
{
   public string Code {get;set;}
   public string PageName {get;set;}
}

var dic = new Dictionary<string, Data >{ 
             {"A", new Data{Code="0001000", PageName = "Article"}, 
             {"F", newe Data{Code="0002000", PageName="FavoritesList"}
} 
```

并在使用后像：

```
Data dt = null; 
if(dic.TryGetValue(first, out dt)) { // *first* is parameter you use in switch
   vm.Content = contentService.Get(dt.Code, vm.RowKey);
   return View(dt.PageName, vm);
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T06:36:14.413

您可以使用枚举并使用扩展方法来允许替代文本输出。

枚举：

```
public enum PageTypes
{
    A,
    F
} 
```

扩展方法（需要在项目的顶层）：

```
public static class Extensions
{
    public static string getText(this PageTypes type)
    {
        switch (type)
        {
            case PageTypes.A:
                return "0001000";
            case PageTypes.F:
                return "0002000";
            default:
                return null;
        }
    }
} 
```

你的代码：

```
PageTypes type;
//assing value to type:
//type = ...
var vm.Content = contentService.Get(type.getText(), vm.RowKey);
switch (type)
{
    case PageTypes.A:              
        return View("Article", vm);
    case PageTypes.F:
        return View("FavoritesList", vm);
} 
```

现在您不需要使用字符串来检索值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T06:38:14.023

我会将键放在字典中，例如

```
var keyData = new Dictionary(char,string);
keyData.Add('A',"0001000");

keyData.Add('A',"0001000");
keyData.Add('F',"0002000"); 
```

然后您可以使用它们来引用它们

```
var value = keyData['A']; 
```

# matlab - 解决 SDP 的软件

> ID：12419267
> 
> 赞同：0
> 
> 时间：2012-09-14T06:34:42.040
> 
> 标签：matlab, mathematical-optimization

我一直在使用 cvx 对我的 SDP 进行一些实验。虽然它很容易使用，但速度很慢。我无法在合理的时间内运行相当大的实例。因此希望有人指出一些更快的软件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:08:41.560

您可以在 Hans Mittelmann 的[优化软件决策树](http://plato.asu.edu/sub/nlores.html#semidef)上找到半定编程代码列表。至少有一些代码是在 Matlab 中实现的（比如*cvx*，对吗？）或者有一个 Matlab 接口。

# c# - 使用 Metro ListBox 绑定文件名和内容

> ID：12419276
> 
> 赞同：0
> 
> 时间：2012-09-14T06:35:41.610
> 
> 标签：c#, wpf, xaml, data-binding, microsoft-metro

我正在尝试将文本文件（以及这些文件的名称）中的数据绑定到 C# Metro 风格应用程序中的 ListBox。

我已经检查了 Metro Samples - 但是我无法从它们中获得太多意义。一开始我对 XAML 比较陌生，把它放在 Metro 风格的应用程序之上只会增加混乱。

对于 WinForms 中如此微不足道的任务，感觉就像我正在尝试编写自己的操作系统！

有人可以帮帮我吗？我搜索了又搜索，但最终还是找到了相同的旧教程/文档；也许只有我一个人，但我觉得这方面的文档缺乏。也许它还没有完成？

任何帮助都将不胜感激:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T06:41:30.400

V 声明一个字典并循环遍历所有文件，将名称作为键，将文件的内容作为值。

然后在 XAML 中将列表框绑定到字典中的项目，并将 displaymemberpath 设置为 KeyValuePair 的键。

选择更新将显示您的内容的其他控件时。我会看看我是否可以用代码为你做一个例子。

这里的示例请不要看样式:) 为这个 My ViewModel 使用了 MVVM

```
namespace WPFTest.ViewModels
{
using System.IO;
using System.Windows.Input;

using Microsoft.Practices.Prism.Commands;

public class MainViewModel : NotificationObject
{
    public MainViewModel()
    {
        FileList = new Dictionary<string, string>();
        FillFileListCommand = new DelegateCommand(FillFileListExecuted);
    }

    private Dictionary<string, string> fileList;

    public Dictionary<string,string> FileList
    {
        get
        {
            return fileList;
        }
        set
        {
            fileList = value;
            RaisePropertyChanged(()=>FileList);
        }
    }

    public ICommand FillFileListCommand { get; set; }
    private void FillFileListExecuted()
    {
        var path = Environment.GetFolderPath(Environment.SpecialFolder.MyDocuments);
        var files = Directory.GetFiles(path, "*.txt");
        var dict = new Dictionary<string, string>();
        foreach (var file in files)
        {
            using (var reader = new StreamReader(file))
            {
                var text = reader.ReadToEnd();
                dict.Add(file, text);
            }
        }
        FileList = dict;
    }
} 
```

}

xml

```
<Grid>
    <Grid.RowDefinitions>
        <RowDefinition Height="347*" />
        <RowDefinition Height="414*" />
    </Grid.RowDefinitions>
    <ListBox Height="701" Name="listBox1" Width="302" Margin="12,48,664,0" VerticalAlignment="Top" ItemsSource="{Binding FileList}" DisplayMemberPath="Key" Grid.RowSpan="2" />
    <TextBlock Height="737" HorizontalAlignment="Left" Margin="320,12,0,0" Name="textBlock1" Text="{Binding ElementName=listBox1, Path=SelectedItem.Value}" VerticalAlignment="Top" Width="646" TextWrapping="Wrap" Grid.RowSpan="2" />
    <Button Content="Fill" Height="30" HorizontalAlignment="Left" Margin="12,12,0,0" Name="button1" VerticalAlignment="Top" Width="302" Command="{Binding FillFileListCommand}" />
</Grid> 
```

在 xaml 的代码隐藏中说

```
DataContext = new MainViewModel(); 
```

# workflow - 以编程方式删除自定义代码工作流

> ID：12419277
> 
> 赞同：0
> 
> 时间：2012-09-14T06:35:42.057
> 
> 标签：workflow, dynamics-crm-2011

由于各种原因过于复杂，无法在此解释，我发现自己需要能够删除自定义代码工作流，同时将解决方案留在那里。

我基本上和插件注册工具有相同的代码

即

```
service.Delete("plugintype", new Guid(info)); 
```

其中 info 是工作流 id [在 foreach 循环上运行，但这不是重点]

但是，虽然该工具可以毫无问题地删除工作流，但我的代码却抱怨依赖关系。

电磁：

附加信息：无法删除 PluginType(a0b2dcf7-cf2a-111e-7da9-003021880a42) 组件，因为它被 1 个其他组件引用。有关引用组件的列表，请使用 RetrieveDependenciesForDeleteRequest。

我适时地做到了

```
RetrieveDependenciesForDeleteRequest req = new RetrieveDependenciesForDeleteRequest();
req.ComponentType = 90; //plugintype
req.ObjectId = new Guid(info);
RetrieveDependenciesForDeleteResponse resp = (RetrieveDependenciesForDeleteResponse)OrgService.Execute(req); 
```

这会检索一个选项值集，但我无能为力，因为在管理解决方案时我无法将其从解决方案中删除。

我能看到的唯一区别是 OrganizationServiceProxy 实例化的方式。插件注册工具包括一种刷新安全令牌的方法，但据我所知，它并没有做太多（我已经逐步完成了代码，但可能我错过了一些东西）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-26T10:26:34.510

您确定它是依赖项的 OptionSetValue 吗？使用 GUI 来确定依赖关系要容易得多。在 CRM 2011 中启动您的解决方案，单击“插件程序集”，选择相关程序集，然后浏览每个自定义工作流/插件项，然后单击“显示依赖项”。

在我的情况下，我有另一个工作流程（在 CRM 中创建），它引用了一个自定义工作流程，以防止删除程序集。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T09:23:26.820

您将无法从托管解决方案中删除组件...您最初是该解决方案的作者吗？

顺便说一句，您的工作流程是否会在更改显示为依赖项的 OptionSet 时触发？

# django - 如何在同一个域上部署 WordPress 站点和 Django 站点？

> ID：12419282
> 
> 赞同：10
> 
> 时间：2012-09-14T06:36:10.193
> 
> 标签：django, wordpress, apache, nginx, gunicorn

在系统管理员/部署方面，我是一个完整的新手。这是我希望完成的事情：

1.  让 domain.com 成为一个普通的 WordPress 网站。
2.  让 domain.com/app 或 app.domain.com 成为 Django webapp。
3.  在 Linode 上托管。
4.  快速轻松地更新 Django webapp 代码。

据我所知，gunicorn 是为 Django webapp 提供服务的一种优雅方式，而 WordPress 最自然地适合 Apache。同时，在 gunicorn 前推荐使用 nginx 作为代理，似乎也用于提高 WordPress 网站的性能。

所以我在想的是：使用 nginx 作为代理服务器，将所有传入的 Web 请求路由到 gunicorn（对于 Django wepapp）或 Apache（对于 WordPress 站点）。Linode 主机将同时运行 nginx、gunicorn 和 Apache。

同时，对于 Django webapp 的更新，我可以简单地通过 github 更新到最新版本的代码。

这一切有意义吗？我是否在概念上正确理解事物？还是完全找错树了？（例如，我可以/应该只使用单个 Apache 服务器根据 URL 将请求路由到 WordPress 或 Django 应用程序吗？）在研究如何让它运行良好和顺利时，我应该记住哪些问题和问题？

**更新**：我已经通过 (1) 使用 Heroku 托管我的 Django 应用程序，(2) 使用 CNAME 记录将 app.domain.com 映射到 Heroku 托管的 Django 应用程序，以及 (3) 离开（目前）位于 domain.com 的现有主机上的 WordPress 站点。值得庆幸的是，在我对系统管理员和数据库管理员所做的事情进行了调查后，我获得了新的尊重，现在我可以重新开始编码了！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-14T07:00:54.740

@Ghopper21

首先为您的问题+1。

现在，了解如何实时执行它真的很有趣。我咨询了一些极客朋友，发现反响很大，以下是我与他们进行头脑风暴后得到的一些参考建议。

首先检查此链接以[**在 Nginx +uWSGI 上与 Django 一起部署和运行 WP...**](https://web.archive.org/web/20150718231935/http://worldofsam.com/blog/?p=107)

Webfaction.com 的这两个支持论坛线程让您更了解他们如何向客户推荐它......

[**在同一个域中部署 Django 和 Wordpress**](http://forum.webfaction.com/viewtopic.php?id=4656)

[**同一帐户上的 wordpress + django - 是否可取？**](http://forum.webfaction.com/viewtopic.php?id=4891)

嘿，我得到了一个支持参考。**Stack Overflow**本身，它正在解释如何在 APACHE 服务器上实现它......

[**如何在一台 Apache 服务器上同时运行 Django 和 PHP？**](https://stackoverflow.com/questions/1020390/how-do-i-run-django-and-php-together-on-one-apache-server)

最后但并非最不重要的一点是，像我们这样的极客将 WP 与 Django 集成... [**集成 WordPress 和 Django**](https://web.archive.org/web/20110428195131/http://geekscrap.com/2010/02/integrate-wordpress-and-django/)

# java - 杰克逊在序列化期间排除了容器（列表、地图、集合）的类型信息

> ID：12419295
> 
> 赞同：4
> 
> 时间：2012-09-14T06:37:12.920
> 
> 标签：java, json, jackson

在**杰克逊**我想包括每个自定义对象的类型信息。为了在没有注释的情况下完成此操作，我正在使用

```
OBJECT_MAPPER.enableDefaultTypingAsProperty(DefaultTyping.NON_FINAL, "@Ketan"); 
```

它正在工作，但它还包括 , 的类型信息，`List`例如容器本身。`Map``Collection`

让我给你一个标准的例子`Animal`, `Dog`,`Cat`和`Zoo`层次结构。

```
class Zoo {

    List<Cat> cats;
    Dog dog;

    public Dog getDog() {
       return dog;
    }

    public void setDog(Dog dog) {
       this.dog = dog;
    }

    public List<Cat> getCats() {
       return cats;
    }

    public void setCats(List<Cat> cats) {
       this.cats = cats;
    }

} 
```

在这里，我有两个自定义对象，`Cat`并且`Dog`. 我只想包括那些类型的信息，但它也包括容器——`List`在我的例子中——也是如此。

请看下面我通过序列化得到的 JSON 字符串。

```
{
    "@Ketan": "com.csam.wsc.enabling.core.codec.json.test.Zoo1",
    "cats": [
        // This line contains the issue //
        "java.util.ArrayList",
        [
            {
                "@Ketan": "com.csam.wsc.enabling.core.codec.json.test.Cat",
                "name": "animalName",
                "likesCream": true,
                "lives": 10
            },
            {
                "@Ketan": "com.csam.wsc.enabling.core.codec.json.test.Cat",
                "name": "animalName",
                "likesCream": true,
                "lives": 10
            }
        ]
    ],
    "dog": {
        "@Ketan": "com.csam.wsc.enabling.core.codec.json.test.Dog",
        "name": "animalName",
        "barkVolume": 0.0
    }
} 
```

对我来说一切都很好，除了我`java.util.ArrayList`在 JSON 字符串中突出显示的内容。我不想要这样的容器类型信息。

上面的 API 级别本身是否有任何简单的支持来实现这一点而无需覆盖`TypeResolverBuilder`或任何自定义？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2017-01-20T17:12:06.840

如果你扩展类`ObjectMapper.DefaultTypeResolverBuilder`，它变得很容易：

```
OBJECT_MAPPER.setDefaultTyping(new ObjectMapper.DefaultTypeResolverBuilder(ObjectMapper.DefaultTyping.NON_FINAL) {
    {
        init(JsonTypeInfo.Id.CLASS, null);
        inclusion(JsonTypeInfo.As.PROPERTY);
        typeProperty("@Ketan");
    }

    @Override
    public boolean useForType(JavaType t) {
        return !t.isContainerType() && super.useForType(t);
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T21:45:21.247

不，除非您将 Collections 声明为最终类型。

# php - 根据时间计算未来天数

> ID：12419296
> 
> 赞同：0
> 
> 时间：2012-09-14T06:37:15.447
> 
> 标签：php, business-logic

我正在尝试创建一个根据今天的日期计算交货时间的函数。

它需要执行以下操作：

*   如果时间少于**下午 2 点**；在今天的日期上**加上 3 天**
*   如果时间更长，则**增加 5 天**
*   如果 3/5 天在周末降落，那么这一天必须是星期一

我想知道最好的方法是什么？

是否值得将有效天数放入数组中并检查添加天数的日期是否在其中？

我有类似的东西：

```
$date = time('H'):
If($date < '14') {
$delivery = date('Y-m-d', strtotime('+3 days')
}
else if($date > '14') {
$delivery = date('Y-m-d', strtotime('+5days')
}
return $delivery; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T06:44:19.757

检查小时并添加天数：

```
function returnDelivery(){
    $date = date('G');
    $delivery = 0;
    if($date < 14){
        $delivery = strtotime('+3 days');
    } else {
        $delivery = strtotime('+5 days');
    }

    if(date('w', $delivery) == 6 || date('w', $delivery) == 0){
        $delivery = strtotime('next monday');   
    }
    return $delivery;
}

echo returnDelivery(); // returns timestamp 
```

# jquery - 如何使用jquery取消隐藏鼠标悬停的活动div

> ID：12419303
> 
> 赞同：0
> 
> 时间：2012-09-14T06:37:35.050
> 
> 标签：jquery, html

我想在鼠标悬停时取消隐藏 div 吗？

目前，在我的代码中（见下文）。悬停链接时，将打开一个高级搜索表单。当用户从 url 移动鼠标时，打开的表单正在关闭。我希望只有当用户为表单移动鼠标时表单才会关闭。

请提出解决方案。

```
 <html>
            <head>
              <style>
            div { background:#dad;
            font-weight:bold;
            font-size:16px;
            width: 400px;
            }
            </style>
              <script src="http://code.jquery.com/jquery-latest.js"></script>
            </head>
            <body>
                <a href="">Do advance Search</a>
              <div style="display: none">
                  <h2>Advance Search Form:</h2>
                  <form action="search.php"><br/>
                 <input type="text" name="isbn" placeholder="Enter Isbn"/><br/>
                <input type="text" name="isbn" placeholder=" Title  "/><br/>
                 <input type="text" name="isbn" placeholder="Enter Author First Name"/><br/>
                 <input type="text" name="isbn" placeholder="Enter author last name"/><br/>
                <input type="text" name="isbn" placeholder="Enter Isbn"/>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="submit" value="Search"/>
              </div>
            <script>
            $("a").hover(function () {
            $("div").toggle("slow");
            });
            </script>

            </body>
            </html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:00:20.283

试试这个，

```
$("a").mouseover(function() {
    $("div").show("slow");
});

$("div").mouseleave(function(){
    $(this).hide();
});
​ 
```

[http://jsfiddle.net/AHVR9/](http://jsfiddle.net/AHVR9/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T06:43:35.523

为了在脚本中更容易参考，请更改：

```
<div style="display: none"> 
```

到

```
<div id="theForm" style="display:none"> 
```

并将您的脚本更新为：

```
$("a").hover(function () {
    $("#theForm").show("slow");
});
$("#theForm").mouseleave(function(){
    $(this).hide("slow");
});​ 
```

当您的鼠标离开它的框时，这将使它关闭 div。

参考[`jQuery.mouseleave()`](http://api.jquery.com/mouseleave/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T06:46:03.093

检查这个**[工作演示](http://jsfiddle.net/MNXcV/)**，虽然我稍微调整了你的代码

```
$("a").hover(function () {
            $("#searchfrm").show();
});

$("#searchfrm").mouseleave(function(){
    $("#searchfrm").hide();
}); 
```

更新添加关闭按钮**[演示](http://jsfiddle.net/MNXcV/1/)**

第二次更新[**演示**](http://jsfiddle.net/MNXcV/6/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-14T06:47:04.973

试试这个

```
 $("a").mouseover(function() {
     $("div").toggle("slow");
 });
$("div").mouseleave(function(){
  $(this).hide("slow");
}); 
```

# entity-framework-4.1 - 如何使用 Entity Framework 4.0 生成的实体实现接口

> ID：12419306
> 
> 赞同：1
> 
> 时间：2012-09-14T06:37:56.493
> 
> 标签：entity-framework-4.1

您好我正在使用 EF 在 BLL 生成类。在我的类中，我有 2 个名为 A 和 B 的类。这两个类都有共同的属性，所以我想从中提取名为 ICommon 的接口。

我的问题是，一旦我取出我的接口 ICOmmon 以及我的 EF 生成的实体如何实现它？

例如

```
interface ICommon
{
    int OpenCount{get;set}
}

partial class A: ICommon
{
     how do I implement OpenCount property now?

} 
```

# javascript - 边框布局中的折叠面板：单击标题时永久展开

> ID：12419307
> 
> 赞同：4
> 
> 时间：2012-09-14T06:37:58.723
> 
> 标签：javascript, extjs, extjs4

我在边框布局中有 2 个面板。第二个是可折叠的，配置 'collapsed' 和 'titleCollapse' 集。当我单击标题时，它只显示面板“临时”，这意味着它不会粘住，而是在我单击窗口内的任何其他位置后自动折叠。它有点漂浮在...

工作示例：http: [//jsfiddle.net/suamikim/LNfm8/](http://jsfiddle.net/suamikim/LNfm8/)

```
Ext.onReady(function() {
    Ext.create('Ext.window.Window', {
        width: 500,
        height: 300,

        layout: 'border',

        items: [{
                xtype: 'panel',
                title: 'panel1',
                region: 'center',
                flex: 1
            },{
                xtype: 'panel',
                title: 'panel2',
                region: 'south',
                flex: 1,

                collapsible: true,
                collapsed: true,
                animCollapse: false,
                collapseDirection: Ext.Component.DIRECTION_BOTTOM,
                titleCollapse: true
        }]
    }).show();
}); 
```

我想这是边框布局的一个功能，因为如果我将 2 个面板放入框布局中，则在单击标题栏后折叠的面板会永久展开。

我知道如果我单击“双箭头”或在“浮动”后再次单击标题，面板将保持展开状态，但我根本不想要这种浮动行为因为到目前为止我觉得它很糟糕。

如果有人能告诉我如何关闭边框布局的该功能，我将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-15T08:21:41.467

**在titleCollapse**属性之后添加

```
floatable: false 
```

看[小提琴](http://jsfiddle.net/LNfm8/1/)

# ruby-on-rails - WEBrick 不能使用 rails server 命令

> ID：12419308
> 
> 赞同：0
> 
> 时间：2012-09-14T06:38:00.247
> 
> 标签：ruby-on-rails, ruby, rubygems

我是 RoR 的新手，我似乎无法启动 WEBrick 并倾听。这是控制台输出。我使用 Mountain Lion、Rails 3.2.8 和 Ruby 1.9.3。请帮忙

```
/Users/Adham/.rvm/gems/ruby-1.9.3-p194/gems/mysql2-0.3.11/lib/mysql2.rb:9:in `require': dlopen(/Users/Adham/.rvm/gems/ruby-1.9.3-p194/gems/mysql2-0.3.11/lib/mysql2/mysql2.bundle, 9): Library not loaded: libmysqlclient.18.dylib (LoadError)
  Referenced from: /Users/Adham/.rvm/gems/ruby-1.9.3-p194/gems/mysql2-0.3.11/lib/mysql2/mysql2.bundle
  Reason: image not found - /Users/Adham/.rvm/gems/ruby-1.9.3-p194/gems/mysql2-0.3.11/lib/mysql2/mysql2.bundle
    from /Users/Adham/.rvm/gems/ruby-1.9.3-p194/gems/mysql2-0.3.11/lib/mysql2.rb:9:in `<top (required)>'
    from /Users/Adham/.rvm/gems/ruby-1.9.3-p194@global/gems/bundler-1.2.0/lib/bundler/runtime.rb:68:in `require'
    from /Users/Adham/.rvm/gems/ruby-1.9.3-p194@global/gems/bundler-1.2.0/lib/bundler/runtime.rb:68:in `block (2 levels) in require'
    from /Users/Adham/.rvm/gems/ruby-1.9.3-p194@global/gems/bundler-1.2.0/lib/bundler/runtime.rb:66:in `each'
    from /Users/Adham/.rvm/gems/ruby-1.9.3-p194@global/gems/bundler-1.2.0/lib/bundler/runtime.rb:66:in `block in require'
    from /Users/Adham/.rvm/gems/ruby-1.9.3-p194@global/gems/bundler-1.2.0/lib/bundler/runtime.rb:55:in `each'
    from /Users/Adham/.rvm/gems/ruby-1.9.3-p194@global/gems/bundler-1.2.0/lib/bundler/runtime.rb:55:in `require'
    from /Users/Adham/.rvm/gems/ruby-1.9.3-p194@global/gems/bundler-1.2.0/lib/bundler.rb:128:in `require'
    from /Users/Adham/Sites/simple_cms/config/application.rb:7:in `<top (required)>'
    from /Users/Adham/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.8/lib/rails/commands.rb:53:in `require'
    from /Users/Adham/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.8/lib/rails/commands.rb:53:in `block in <top (required)>'
    from /Users/Adham/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.8/lib/rails/commands.rb:50:in `tap'
    from /Users/Adham/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.8/lib/rails/commands.rb:50:in `<top (required)>'
    from script/rails:6:in `require'
    from script/rails:6:in `<main>' 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T07:02:18.120

答案在这里：

`sudo ln -s /usr/local/mysql/lib/libmysqlclient.18.dylib /usr/lib/libmysqlclient.18.dylib`

[OSX上的rails + MySQL：未加载库：libmysqlclient.18.dylib](https://stackoverflow.com/questions/10557507/rails-mysql-on-osx-library-not-loaded-libmysqlclient-18-dylib)

--- 已编辑

你的 $DYLD_LIBRARY_PATH 不包含 /usr/local/mysql/lib 目录，所以有2个解决方案

*   符号链接
*   将 /usr/local/mysql/lib 添加到 .bashrc 或某处的 $DYLD_LIBRARY_PATH

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T06:46:02.153

不知道这个答案是否有帮助......但我本周遇到了同样的问题。

当我在谷歌上搜索答案时，我发现有用的只是将 gem 'thin' 放入 Gemfile。

（当然，这取决于已经安装了薄宝石）

然后运行 ​​bundle install 之后。（这会安装薄宝石）。

当您运行 rails server 时，它会自动与 Thin 一起使用。

希望这可以帮助！

*编辑：更改捆绑包安装*

*编辑2：添加了关于薄宝石的句子*

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T07:03:01.737

看起来你的 mysql2 gem 没有正确安装。看看这个问题的答案。它应该可以帮助您进行设置。您需要先安装 mysql（我喜欢使用自制软件来执行此操作）。然后使用正确的路径安装 gem。

[Ruby gem mysql2 安装失败](https://stackoverflow.com/questions/4115126/ruby-gem-mysql2-install-failing)

# c - 使用 fwrite 将结构写入文件时出现 Valgrind 错误 - 系统调用参数 write(buf) 指向未初始化的字节

> ID：12419309
> 
> 赞同：4
> 
> 时间：2012-09-14T06:38:09.950
> 
> 标签：c

我有一个包含交易数组的 BankAccount 结构。存款和取款在此数组中存储为 +/- 整数。

```
struct BankAccount {
    char name[NAME_LENGTH];
    int num_of_transactions;
    int transactions[MAX_TRANSACTIONS];
}; 
```

我正在为堆上的结构分配空间并在完成后处理它。我使用 fwrite 将此结构保存到文件中。

```
struct BankAccount *new_bank_account(char name[], int initial_deposit) {
    struct BankAccount *acc = malloc(sizeof(struct BankAccount));

    strncpy(acc->name, name, NAME_LENGTH);
    acc->num_of_transactions = 0;

    int i;
    for (i = 0; i < MAX_TRANSACTIONS; i++) {
        acc->transactions[i] = 0;
    }

    if (initial_deposit != 0) {
        make_deposit(acc, initial_deposit);
    }

    return acc;
}

void delete_bank_account(struct BankAccount *acc) {
    free(acc);
}

int save_bank_account(struct BankAccount *acc, char filepath[]) {
    FILE *fp = fopen(filepath, "w");
    int res = 0;

    res = fwrite(acc, sizeof(struct BankAccount), 1, fp);

    fclose(fp);
    return res;
} 
```

代码按预期工作，我能够在帐户上进行交易并将其保存到磁盘并重新加载它。我的测试代码如下。

```
void test_bank_account_balance() {
    struct BankAccount *acc = new_bank_account("John Doe", 0);
    make_deposit(acc, 50);
    make_deposit(acc, 100);
    make_withdrawal(acc, 50);

    printf("%s has balance = $ %d\n", acc->name, get_balance(acc));

    delete_bank_account(acc);
}

int main(int argc, char *argv[]) {
    test_save_bank_account();
    return 0;
} 
```

但是，当我通过 valgrind 运行它时，它会给我关于未初始化字节的错误。我怀疑 new_bank_account 中缺少一些初始化。但我看不出那是什么。

```
==4311== Syscall param write(buf) points to uninitialised byte(s)
==4311==    at 0x411E1D3: __write_nocancel (syscall-template.S:82)
==4311==    by 0x40B2B04: _IO_file_write@@GLIBC_2.1 (fileops.c:1289)
==4311==    by 0x40B29E3: new_do_write (fileops.c:543)
==4311==    by 0x80489B0: test_save_bank_account (p14.c:124)
==4311==    by 0x8048A1D: main (p14.c:140)
==4311==  Address 0x4035032 is not stack'd, malloc'd or (recently) free'd
==4311==  Uninitialised value was created by a heap allocation
==4311==    at 0x402BD14: malloc (vg_replace_malloc.c:270)
==4311==    by 0x80486B5: new_bank_account (p14.c:41)
==4311==    by 0x8048956: test_save_bank_account (p14.c:118)
==4311==    by 0x8048A1D: main (p14.c:140) 
```

请帮忙！谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-14T06:55:44.113

我猜在`name`和`num_of_transactions`的成员之间有一些填充`struct BankAccount`。

这可能没什么好担心的，但是如果你想使 valgrind 静音，使用`calloc()`分配内存应该可以工作。或`memset(acc, 0, sizeof(*acc))`。

# jsp - 指定时间的内循环迭代

> ID：12419311
> 
> 赞同：2
> 
> 时间：2012-09-14T06:38:16.307
> 
> 标签：jsp, struts2, iteration

我想迭代包含 60 个项目的 comboBoxList，我想为每次迭代迭代 10 10 个条目。

我`<s:property />`在jsp中有两个包含整数值的值。我想添加它们以进行迭代。

```
<s:set var="start" value="1"/> 
<s:set var="end" value="#session['tlists'].size()"/>
<s:iterator var="param"  value="#session['params']"> <%-- #session['params'] contains 10 entries--%>
    <s:property/> <%-- comboBoxList is 6*10 --%>

    <s:iterator var="comboBox"  begin="start" end="end" value="#session['comboBoxList']">
        <s:property />
    </s:iterator>

    <s:set var="start">
        <s:param name="value">
            <s:property value="end"/>+1  <%--Showing error--%>
        </s:param>
    </s:set>

    <s:set var="end">
        <s:param name="value">
            <%-- tlists.size() is 6 --%>
            <s:property value="end"/>+<s:property value="#session['tlists'].size()"/> <%-- Showing error --%>
        </s:param>
    </s:set> 
```

试图获得如下输出：

```
param1  cb11    cb12 cb13 cb14  cb15   cb16
param2  cb21    cb22 cb23 cb24  cb23   cb24
param3  cb31    cb32 cb33 cb34  cb33   cb34
param4  cb41    cb42 cb43 cb44  cb43   cb44
.
.
.
.
.
. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T09:57:14.760

我试过这个这是我想要的正常工作有没有其他方法可以做

```
 <s:property value="end"/>+1 
```

上述问题的代码是

```
<s:iterator var="fparam"  value="#session['feedbackparam']">
    <tr align="center">
        <td align="right">
            <s:property value="param"/>
        </td> 
<s:iterator var="comboBox"  status="count" begin="start" end="end" value="#session['comboBoxList']">
        <td align="centre">
            <s:property escapeHtml="false"/>
        </td>
 </s:iterator>
</tr>
    <s:set var="start" value="%{#end+1}"/>
    <s:set var="end"  value="%{#end+#session['tlists'].size()}"/>

</s:iterator> 
```

# objective-c - 游戏套件几个服务器和几个客户端

> ID：12419316
> 
> 赞同：1
> 
> 时间：2012-09-14T06:38:42.653
> 
> 标签：objective-c, ios, gamekit

如果我有 1 台服务器和多个客户端（所有对等方都知道会话名称） - 没问题。但是2台服务器我有问题。客户端如何知道 sessionID，连接服务器的会话是什么，他们如何选择服务器？我不想使用对等选择器。Ty 表示任何答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T14:49:36.840

```
- (void)viewDidLoad {
    [super viewDidLoad];

    self.serverArray = [NSMutableArray array];

    self.session = [[GKSession alloc] initWithSessionID:nil displayName:nil sessionMode:GKSessionModeClient];

    self.session.delegate = self;

    [self.session setDataReceiveHandler:self withContext:NULL];

    self.session.available = YES;
}

- (void)session:(GKSession *)session peer:(NSString *)peerID didChangeState:(GKPeerConnectionState)state {

    NSString *serverName = [session displayNameForPeer:peerID];

    [self.serverArray addObject:serverName];

    [self.availableServers reloadData];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if (cell == nil) {

        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault 
                                       reuseIdentifier:CellIdentifier] autorelease];
    }

    cell.textLabel.text = [self.serverArray objectAtIndex:indexPath.row];

    return cell;
}
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {
    ClientGameViewController *clientGameViewController = [[ClientGameViewController alloc] init];

     clientGameViewController.serverName = [self.serverArray objectAtIndex:indexPath.row];

    clientGameViewController.serverSessionName = [self.serverArray objectAtIndex:indexPath.row];

     [self.view addSubview:clientGameViewController.view];
} 
```

# c# - 默认（结构） - 好风格？

> ID：12419321
> 
> 赞同：2
> 
> 时间：2012-09-14T06:39:08.080
> 
> 标签：c#, .net, coding-style

好吧，它并不是真正的单例，但我不知道是否有这种稀有事物的模式。

例如，框架中没有办法获得`IWin32Window`代表控制台应用程序的控制台。

```
public struct ConsoleWindow : IWin32Window
{
    [DllImport("kernel32.dll")]
    private static extern IntPtr GetConsoleWindow();

    IntPtr IWin32Window.Handle
    {
        get { return GetConsoleWindow(); }
    }
} 
```

然后你像这样使用它。

```
MessageBox.Show(default(ConsoleWindow), "Hello, World!"); 
```

我是不是为了自己的利益太聪明了？这是“.net方式”吗？

我考虑使用静态只读字段（称为什么？），或者只是`new ConsoleWindow()`但似乎都不正确。

（在这种情况下，性能显然不是问题，因为 Handle 只被访问一次。）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T08:49:58.153

您可以使用具有私有构造函数和单个实例属性的类。

```
public class ConsoleWindow : IWin32Window
{
    [DllImport("kernel32.dll")]
    internal static extern IntPtr GetConsoleWindow();

    IntPtr IWin32Window.Handle
    {
       get { return GetConsoleWindow(); }
    }

    private ConsoleWindow(){}

    public static ConsoleWindow Instance
    { 
        get 
        { 
            if (_instance == null) _instance = new ConsoleWindow();
            return _instance;
        }
    }
    private static ConsoleWindow _instance = null;
}

MessageBox.Show(ConsoleWindow.Instance, "Hello, World!"); 
```

我相信这是不可能创建静态类时使用的标准单例模式。

# opencv - 如何构建正确的投影矩阵？

> ID：12419322
> 
> 赞同：3
> 
> 时间：2012-09-14T06:39:09.280
> 
> 标签：opencv, triangulation, projection-matrix

有人可以告诉我 triangulatePoints 的投影矩阵是什么样的吗？这并不容易，我找到了几个可能的投影矩阵，但现在无法弄清楚哪一个是正确的。

如果我有来自 Robust Matcher/或其他匹配方法的 KeyPoints，那么我会从 E 获得旋转和平移。这将导致像 P0=[I|T] 和 P1=[R|T] 这样的矩阵，其中 R 和 T 是提取的，没有改变价值观。我对吗？当我有一个使用 calibrateCamera() （显式不是 stereoCalibrate ！！）或使用 SolvePnP 的立体钻机时，我从 camera1 和 camera2 获得 R 和 T。这些矩阵看起来像这样吗？：P0=[R0|t0] and P1=[R1|t1] or P0=[R0|R0*t0] and P1=[R1|R1*t1] 还是别的什么？

我发现了一些关于“纠正”的东西，你知道我在获得关键点之前是否有过纠正，或者 undistortPoints 是 tiangulatePoints() 所需的唯一需要的函数吗？

感谢帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T13:22:49.783

我们在 3D 重建中有这些： 1 图像坐标 2 相机坐标 3 世界坐标

我们假设其中之一，例如世界坐标，并将相机等其他东西放在该坐标中。

我们有 2 个重要的矩阵 1 视图矩阵或投影矩阵，用于描述投影 2 模型矩阵，用于描述对象的位置和旋转

通过将两个提到的矩阵相乘，我们得到了描述场景的模型视图矩阵 opengl 是一个很好的库和开放示例，您可以通过以下链接获得帮助：http: [//www.songho.ca/opengl/gl_transform.html](http://www.songho.ca/opengl/gl_transform.html)

# iphone - 使用电话间隙将数据从 iPhone 的一个屏幕传递到另一个屏幕

> ID：12419324
> 
> 赞同：0
> 
> 时间：2012-09-14T06:39:28.373
> 
> 标签：iphone, cordova

我刚刚开始研究电话差距。我创建了一个获取员工数据的基本表单。我在另一个屏幕上有表格视图。我想将员工详细信息传递到第二个屏幕。我在谷歌上搜索这个目的。我发现有一些方法可以做到这一点：

```
 1.Server side post back

  2\. Client side URL examination

  3.What's in a window.name = local cross-page session

  4.HTML5 local storage

  5\. Cookies 
```

但是通过使用这些方式，我的手机间隙应用程序会 100% 原生吗？有没有其他方法或教程在屏幕之间传递数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:10:18.210

您所说的“屏幕”实际上是什么意思？如果您正在谈论 jQuery Mobile 的弹出对话框或页面，您可能可以使用 jQuery 序列化表单并将其分配给 JavaSCript 变量。

但是，如果您通过将 UIView 更改为不同的 url 来更改“屏幕”，则可以使用：

*   File API 将序列化的表单存储在文件中并在第二个“屏幕”上加载
*   Storage API to ... 实际上也是这样做的

我会选择第一，因为它比使用 SQL 和编写大量附加代码更容易实现。

搜索：

1.  jQuery.serialize()
2.  PhoneGap 文件 API

# sql-server-2005 - 如何在 sql 2005 中使用 select distinct 语句创建索引视图

> ID：12419330
> 
> 赞同：5
> 
> 时间：2012-09-14T06:39:39.607
> 
> 标签：sql-server-2005

我的名为“Ge_Entry”的视图运行速度非常慢，所以想用 select distinct 语句创建索引视图，但 sql server 不允许它。

所以我想知道有没有办法用 s.dist 语句创建 i.view 。

这样我就可以在此视图上创建索引以获得快速结果。

谢谢

尼尔

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-09-14T06:48:51.250

你不能使用不同的。但是您可以使用`COUNT_BIG(*)`and `GROUP BY`，可能：

```
CREATE VIEW v1
WITH SCHEMABINDING
AS
    SELECT ColumnA,ColumnB,COUNT_BIG(*) as Cnt
    FROM BaseTable
    GROUP BY ColumnA,ColumnB
GO
CREATE UNIQUE CLUSTERED INDEX IX_v1 ON v1 (ColumnA,ColumnB)
GO 
```

代替`DISTINCT ColumnA,ColumnB`

* * *

大多数创建索引视图的规则似乎都与维护索引的效率有关。假设您有一个包含以下内容的基表：

```
ID        ColumnA        ColumnB
1         abc            def
2         abc            def
3         ghi            jkl 
```

并且您*被*允许*纯粹*基于 distinct 创建您的视图。`ID 2`现在，您从表中删除行。SQL Server 是否应该`abc,def`从视图的索引中删除该行？它只能通过再次扫描整个基表才能找到。

将此与我上面的视图定义进行对比。视图数据如下所示：

```
ColumnA      ColumnB        Cnt
abc          def            2
abc          def            1 
```

如果`ID 2`从基表中删除行，SQL Server 可以从行的`Cnt`列中减去 1 `abc,def`。如果该列的新值为`0`，则它知道应该从索引中删除该行。相反，如果值为`>0`，则它知道在基表中仍有该值的行。

# c# - winforms中的xml解析得到纯文本

> ID：12419331
> 
> 赞同：0
> 
> 时间：2012-09-14T06:39:46.410
> 
> 标签：c#, .net, xml, winforms

在下面的 xml 文件中：

```
 <SVCs>
         <SVC>
              <id>001</id>
              <request>Send SMS SVC 001 Request</request>
              <reposne>Send SMS SVC 001 Response</reposne>
         </SVC>
         <SVC>
               <id>002</id>
               <request>Send SMS SVC 002 Request</request>
               <reposne>Send SMS SVC 002 Response</reposne>
        </SVC>
    </SVCs> 
```

我需要搜索 id say 002，并以纯文本形式获取相同的请求和响应。我正在使用 winforms C# .net 4.0。我如何实现这一目标？我正在使用 XMLDocument 命名空间来解析文档。

我对 XML 库真的很陌生，我认为这是基本问题之一。我真的用谷歌搜索了很多，但找不到如何通过搜索标签来获取内部文本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T06:50:06.483

我会使用 linq2xml

```
XDocument xDoc = XDocument.Parse(xml);
var svc = xDoc.XPathSelectElement("//SVC[id='002']");

var req = svc.Element("request").Value;
var resp = svc.Element("reposne").Value; 
```

或者

```
var svc = xDoc.Descendants("SVC")
              .First(s => s.Element("id").Value == "002"); 
```

PS：我保持相同的错字`reposne`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T06:47:40.247

不知道我是否理解你的问题，但你得到这样的内部文字：

```
XmlReader subReader = _reader.ReadSubtree();
subReader.Read(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T06:53:13.143

使用 linq！

```
 XElement xmldoc=   XElement.Load(new StringReader(@"<SVCs>
         <SVC>
              <id>001</id>
              <request>Send SMS SVC 001 Request</request>
              <reposne>Send SMS SVC 001 Response</reposne>
         </SVC>
         <SVC>
               <id>002</id>
               <request>Send SMS SVC 002 Request</request>
               <reposne>Send SMS SVC 002 Response</reposne>
        </SVC>
    </SVCs>"));

         var result = xmldoc.Elements("SVC").Where(e=>e.HasElements).Elements("id").Single(x=>x.Value=="002"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-14T06:55:35.520

另一方面，您也可以使用 Linq2XML

```
var SVCs = XElement.Load("demoFile.xml");

var result = from svc in SVCs.Elements()
                where svc.Element("id").Value == "002"
                select svc;

foreach (var entry in result)
{
    Console.WriteLine(entry);
    Console.WriteLine(entry.Element("request").Value);
} 
```

# c# - 当一个事件被一个任务触发时会发生什么？它会有单独的线程吗？

> ID：12419333
> 
> 赞同：0
> 
> 时间：2012-09-14T06:39:49.157
> 
> 标签：c#, .net, multithreading, event-handling, task

当一个事件被一个任务触发时会发生什么？它将有单独的线程或相同的任务路径？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T08:20:28.390

不确定这是否是您要问的，但事件处理程序将在任务的线程上执行，如以下简单测试所示：

```
class Test
{
    delegate void update();
    static event update updateEvent;

    static void Main(string[] args)
    {
        Console.WriteLine("Parent thread: " + Thread.CurrentThread.ManagedThreadId);
        updateEvent += new update(Test_updateEvent);
        var t = Task.Factory.StartNew(
            () =>
            {
                Console.WriteLine("Task thread: " + Thread.CurrentThread.ManagedThreadId);
                updateEvent();
            });
        t.Wait();
    }

    static void Test_updateEvent()
    {
        Console.WriteLine("Event thread: " + Thread.CurrentThread.ManagedThreadId);
    }
} 
```

输出：

```
Parent thread: 1
Task thread: 3
Event thread: 3 
```

# java - 无法在 Selenium WebDriver 中使用 sendKeys 输入日期

> ID：12419339
> 
> 赞同：10
> 
> 时间：2012-09-14T06:40:24.387
> 
> 标签：java, selenium-webdriver

日期字段就像一个日历，我无法使用 Selenium WebDriver 的 sendKeys 输入日期。

但是在使用 Selenium RC 之前，日期字段中的“类型”可以正常工作。

我尝试在“sendKeys()”之前使用“clear()”，但这给出了错误：

```
Caught Exception: Element is read-only and so may not be used for actions
Command duration or timeout: 10.11 seconds 
```

sendKeys() 适用于其他文本输入字段。

我试过 isDisplayed() 来检查元素，它是真的。即使在浏览器中，运行测试时，光标也会转到日期字段，但不会在其中输入任何文本。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-12-13T11:12:49.327

**为此使用以下代码...**

```
((JavascriptExecutor)driver).executeScript ("document.getElementById('dateofbirth').removeAttribute('readonly',0);");

WebElement BirthDate= driver.findElement(By.id("dateofbirth"));
BirthDate.clear();
BirthDate.sendKeys("20-Aug-1985"); //Enter this date details with valid date format 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-31T09:45:47.573

我也遇到了同样的问题。这就是我找到的解决方案。这对我来说很好。只需删除输入字段的只读属性，然后像其他输入字段一样执行。

```
 ((JavascriptExecutor) driver).executeScript("document.getElementsByName('date'[0].removeAttribute('readonly');");
    WebElement dateFld = driver.findElement(By.id("date_completed"));
    dateFld.clear();
    dateFld.sendKeys("date Completed"); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-10-11T07:44:38.553

对于此线程的未来读者，@Flaburgan 针对问题发布的解决方案 [https://github.com/mozilla/geckodriver/issues/1070](https://github.com/mozilla/geckodriver/issues/1070) 被发现适用于 Win7-64 上的 Firefox 63

“作为记录，看起来具有正确格式的 ISO 日期 (yyyy-mm-dd) 的 send_keys 有效。因此，对于您的示例，您能否尝试使用 (like) 2012-11-02 调用 send_keys？”

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-20T07:05:12.520

如果您使用的是 jQuery 日期选择器对象，则该字段应该是只读的，并且必须从日历对象中选择日期。在这种情况下，您可以使用 Selenium Web Driver 的“选择”类方法来选择日期。

```
Select date = new Select(driver.findElement(By.linkText("the date want to select")));
date.click(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-03-05T09:36:18.163

我已经做到了，而且效果很好。注意格式。这样，您甚至可以从控件中获取值。

```
var dob = element(by.id('dateOfBirth'))
dob.sendKeys('20-08-1985');

expect(element(by.id('dateOfBirth')).getAttribute('value')).toBe('2015-20-08'); 
```

希望能帮助到你。

# oracle11g - ORACLE Database 11g 和 SQL2005 数据库一样如何备份和恢复

> ID：12419340
> 
> 赞同：10
> 
> 时间：2012-09-14T06:40:25.693
> 
> 标签：oracle11g

我在 oracle 11g 中创建了数据库，这个数据库名称是“test”。然后我在测试数据库中创建了新用户。我连接到创建的新用户和密码，然后在 SQL Developer 中创建表、过程和触发器。我将备份这个测试数据库并在另一台电脑上恢复。请帮助我一步一步如何备份和恢复。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-14T06:52:06.533

要将您的用户（模式）与所有相关对象（表、触发器等）转移到另一台安装了 Oracle 11g 的计算机上，您可以执行以下操作：

在第一台计算机（您创建用户的位置）上，使用[exp](http://docs.oracle.com/cd/B10501_01/server.920/a96652/ch01.htm#1013411)命令行实用程序将用户（模式）数据卸载到 OS 文件（转储文件）。

```
exp userid=yourusername/youruserpassword@Connect_Identifier File=OSPath
Example
Exp userid=scott/tiger@ORCL file=c:\scott.dmp 
```

将创建的 *.dmp 文件传输到另一台安装了 Oracle 11 的计算机上，并使用[imp](http://docs.oracle.com/cd/B10501_01/server.920/a96652/ch02.htm#1656)命令行实用程序将 *.dmp 文件加载到新的（这意味着您必须创建一个它不存在的用户 ID）创建的架构（用户)

```
 imp userid/password@Connect_identifier fromuser=user_name_you_have_data_unloaded_from touser=new_user_name file=Path_to_*.dmp file 
```

当您使用 Oracle 11g 时，您可以使用[Data pump Export](http://docs.oracle.com/cd/E11882_01/server.112/e22490/dp_export.htm#i1007466)和[Data Pump Import](http://docs.oracle.com/cd/E11882_01/server.112/e22490/dp_import.htm#i1007653)实用程序来做同样的事情。[Exp](http://docs.oracle.com/cd/B10501_01/server.920/a96652/ch01.htm#1013411)和[Imp](http://docs.oracle.com/cd/B10501_01/server.920/a96652/ch02.htm#1656)是为了向后兼容，但会按预期工作。

# user-interface - ios6.0中的UIInterfaceOrientation

> ID：12419347
> 
> 赞同：1
> 
> 时间：2012-09-14T06:40:59.207
> 
> 标签：user-interface, cocos2d-iphone, box2d, uiinterfaceorientation

我正在开发box2d游戏。我的游戏 uiinterfaceOrientation 是 UIInterfaceOrientationLandscapeLeft，它在 ios5.1 中运行良好，但在 ios6.0 中我遇到了界面方向问题。我知道 - shouldAutorotateToInterfaceOrientation：在 iOS 6.0 中已弃用。对于 interfaceOrientation，他们给出的界面方向设置为 iPad 惯用语的 UIInterfaceOrientationMaskAll 和 iPhone 惯用语的 UIInterfaceOrientationMaskAllButUpsideDown。我不知道如何使用这个（UIInterfaceOrientationMaskAll）。我需要 UIInterfaceOrientationLandscapeLeft 中的游戏。如何解决这个问题你能告诉我..谢谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T14:54:31.673

[这是一个关于新功能的博客链接。](http://dhilipsiva.blogspot.com/2012/07/ios-6-ui-interface-orientation.html)

根据您的需要，您需要添加的是：

```
-(NSUInteger)supportedInterfaceOrientations{
return UIInterfaceOrientationMaskLandscapeLeft;} 
```

这样就可以了，因此您只能向左运行横向。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T09:45:19.890

此外，您应该在 Info.plist 中添加`UIInterfaceOrientationLandscapeLeft`和属性`UISupportedInterfaceOrientations`。`UIInterfaceOrientation`您还可以通过从`shouldAutorotate`回调中明确返回 false 来防止进一步的自动旋转。

# java - 格式化文件输入

> ID：12419353
> 
> 赞同：0
> 
> 时间：2012-09-14T06:41:35.600
> 
> 标签：java, parsing

通过文件输入格式

> 4
> 
> (6,7)(8,9)
> 
> 5
> 
> (8,9)(6,7)

我编写了以下代码来获取存储在数组中的所有整数

```
public static void main(String[] args) throws IOException
{   

    int n=0;
    int arr[]= new int[13];
    Scanner s = new Scanner(new File("data.txt"));
    s.useDelimiter("[,() ]{1,}");

    while(s.hasNextInt())
    {   arr[n]=s.nextInt();

        n++;    
    }
    s.nextLine();

    while(s.hasNextInt())
    {   
        arr[n]=s.nextInt();
        n++;            
    }
    s.nextLine();

    while(s.hasNextInt())
    {   
        arr[n]=s.nextInt();
        n++;
    }
    s.nextLine();

    while(s.hasNextInt())
    {   
        arr[n]=s.nextInt();
        n++;
    }    

    n=0;
    while(n<9)
    { 
        System.out.println(arr[n]);
        n++;
    }
} 
```

但它只给出括号内的整数。

输出

6

7

8

9

8

9

6

7

所需的输出 -

4

6

7

8

9

5

8

9

6

7

我怎样才能在数组中也有 4 和 5？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T06:49:34.147

我会使用类似[How do I create a Java string from the content of a file?](https://stackoverflow.com/q/326390/684934) 将内容作为字符串获取，然后使用

```
String[] items = fileContent.split(",()[]{}\\s"); 
```

# perl - Perl：动态模块加载、对象继承和“通用帮助文件”

> ID：12419357
> 
> 赞同：7
> 
> 时间：2012-09-14T06:42:04.120
> 
> 标签：perl, oop, inheritance, perl-module, autoload

简而言之，我尝试使用网络中每个实例的对象来建模网络拓扑。此外，我还有一个顶级管理器类，负责管理这些对象并执行完整性检查。文件结构看起来像这样（我省略了大部分目标文件，因为它们的结构都非常相同）：

```
Manager.pm
Constants.pm
Classes/
  +- Machine.pm
  +- Node.pm
  +- Object.pm
  +- Switch.pm 
```

从事 OOP 工作多年，我是代码重用等的粉丝，因此我在对象之间设置了继承，继承树（在此示例中）如下所示：

```
Switch  -+-> Node -+-> Object
Machine -+ 
```

所有这些对象的结构如下：

```
package Switch;
use parent qw(Node);

sub buildFromXML {
  ...
}
sub new {
  ...
}

# additonal methods 
```

现在有趣的部分：

# 问题 1

如何在不静态输入名称的情况下确保正确加载所有这些对象？根本问题是：如果我只是`require "$_" foreach glob("./Classes/*");`得到许多“子程序新重新定义在”错误。我还尝试了`use parent qw(-norequire Object)`，`Module::Find`以及各种组合的其他一些`@INC`修改，以使其简短：它不起作用。目前我正在静态导入所有使用的类，它们会自动导入它们的父类。
所以基本上我要问的是：（perl-）正确的方法是什么？
高级：能够创建更复杂的文件夹结构（因为会有很多对象）并且仍然具有继承+“自动加载”，这将非常有帮助

# 问题 2 -**已解决**

我怎样才能“分享我的进口”？我使用了几个库（我自己的，包含一些辅助函数、`LibXML`、`Scalar::Util`等），我想在我的对象之间共享它们。（这背后的原因是，我可能需要为所有对象添加另一个通用库，并且很有可能会有超过 100 个对象 - 手动编辑所有对象并使用正则表达式 / 脚本执行此操作在理论上可行，但是这似乎不是最干净的解决方案）
我尝试了什么：

*   将所有内容导入`Manager.pm`-> 在 Manager 包中工作 - 给我类似“未定义的子例程 &Switch::trace 调用”之类的错误
*   在每个对象中创建一个`include.pl`文件和//`do`它- 给我同样的错误。`require``use`
*   还有一些我很遗憾不记得的东西

`include.pl`基本上看起来像这样：

```
use lib_perl;
use Scalar::Util qw(blessed);
use XML::LibXML;
use Data::Dumper;
use Error::TryCatch;
... 
```

我再次问：正确的方法是什么？我是在使用正确的方法，只是在执行中失败了，还是应该完全改变我的结构？
为什么我当前的代码不能很好地工作并不重要，到目前为止，为这些问题提供一个正确、干净的方法就足够了:)

编辑：完全忘记 perl 版本 -_- 旁注：我无法升级 perl，因为我需要使用 5.8 的库：/

```
C:\> perl -version
This is perl, v5.8.8 built for MSWin32-x86-multi-thread
(with 50 registered patches, see perl -V for more detail)

Copyright 1987-2006, Larry Wall

Binary build 820 [274739] provided by ActiveState http://www.ActiveState.com
Built Jan 23 2007 15:57:46 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T10:08:15.733

This is just a partial answer to question 2, sharing imports.

Loading a module (via `use`) does two things:

1.  Compiling the module and installing the contents in the namespace hierarchy (which is shared). See `perldoc -f require`.
2.  Calling the `import` sub on each loaded module. This loads some subs or constants etc. into the namespace of the caller. This is a process that the `Exporter` class largely hides from view. This part is important to use subs etc. without their full name, e.g. `max` instead of `List::Util::max`. See `perldoc -f use`.

Lets view following three modules: `A`, `B` and `User`.

```
{
   package A;
   use List::Util qw(max);
   # can use List::Util::max
   # can use max
}
{
   package User;
   # can use List::Util::max -> it is already loaded
   # cannot use max, this name is not defined in this namespace
} 
```

Package `B` defines a sub `load` that loads a predefined list of modules and subs into the callers namespace:

```
{
   package B;
   sub load {
     my $package = (caller())[0]; # caller is a built-in, fetches package name

     eval qq{package $package;} . <<'FINIS' ;
       use List::Util qw(max);
       # add further modules here to load
       # you can place arbitrarily complex code in this eval string
       # to execute it in all modules that call this sub.
       # (e.g. testing and registering)
       # However, this is orthogonal to OOP.
FINIS

     if ($@) {
       # Do error handling
     }
   }
} 
```

Inside the `eval`'d string, we temporarily switch into the callers package and then load the specified module. This means that the `User` package code now looks like this:

```
{
   package User;
   B::load();
   # can use List::Util::max
   # can use max
} 
```

However, you have to make sure the `load` sub is already loaded itself. `use B` if in doubt. It might be best to execute `B::load()` in the `BEGIN` phase, before the rest of the module is compiled:

```
{
  package User;
  BEGIN {use B; B::load()}
  # ...
} 
```

is equivalent to

```
{
  package User;
  use B;
  use List::Util qw(max);
  # ...
} 
```

TIMTOWTDI. Although I find `eval`ing code quite messy and dangerous, it is the way I'd pursue in this scenario (rather than `do`ing files, which is similar but has different side effects). Manually messing with typeglobs in the package namespace is hell in comparision, and copy-pasting a list of module names is like going back to the days when there wasn't even C's preprocessor.

* * *

### Edit: [`Import::Into`](http://search.cpan.org/%7Emstrout/Import-Into-1.001000/lib/Import/Into.pm)

… is a CPAN module providing this functionality via an interesting method interface. Using this module, we would redefine our `B` package the following way:

```
{
  package B;
  use List::Util;   # you have to 'use' or 'require' this first, before using 'load'.
  use Import::Into; # has to be installed from CPAN first
  sub load {
    my $package = caller;
    List::Util->import::into($package, qw(max));
    # should work too: strict->import::into($package);
    # ...
  }
} 
```

This module hides all the dirty work (`eval`ing) from view and does method call resolution gymnastics to allow importing pragmas into other namespaces.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-01T21:17:13.193

正确的惯用 Perl 方法*不是*总是加载一堆模块，无论是否使用；它是让每个文件都有`use`它直接（而不是间接）需要的那些模块。

如果事实证明*每个*文件都使用相同的模块集，您可以通过使用单个专用模块来使用该公共集中的所有模块，从而使事情变得更简单。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-01T21:08:56.737

Import::Into 解决方案的附录

我在 Import::Into 解决方案中发现了一个似乎需要 eval() 的场景。在这种情况下，mod User 是包 B 的有效用途之一。这可能是使用 Import::Into 的人的常见场景。

规格：

*   我创建了模块uses_exporter，带有单独的子模块，用于导入不同的模块组，例如load_generic() 和load_list_utils()。

*   load_list_utils() 中的用途是用于 List::MoreUtils 等公共模块，以及我自己的模块 list_utils_again。该本地模块还调用 load_list_utils()。如果 load_list_utils() 再次使用 list_utils_，则调用失败。

*   我的解决方案是将 list_utils_again 的使用放入一个 eval 中，该 eval 在 $target eq 'list_utils_again' 时不会执行

# javascript - 在 ajax 成功后，线索提示不适用于首次点击实时元素

> ID：12419358
> 
> 赞同：0
> 
> 时间：2012-09-14T06:42:07.753
> 
> 标签：javascript, jquery, jquery-plugins, cluetip

在 ajax 成功后的实时元素上，来自线索提示的以下代码仅适用于第一次单击，否则它可以顺利运行。首次点击会出现什么问题？

```
 $('a.load-local').live('click', function(event) {
     $('a.load-local').cluetip({
        width: 'auto',
        activation: 'click',
        local:true,
        sticky: true,
        arrows: true,
        positionBy:'bottomTop',
       cursor: 'pointer',
       closePosition: 'top',
       closeText: '<img src="images/close1.jpg" alt="close" width="16" height="16"         
        style="position:absolute; right:5px; top:0px;" />'
    });
    event.preventDefault();
  }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-16T12:03:28.263

在您的代码中，`cluetip`每次单击锚点时都会初始化 - `a.load-local`。我认为只需要以下代码，您可以添加`$('document').ready()`

```
 $('a.load-local').cluetip({
        width: 'auto',
        activation: 'click',
        local:true,
        sticky: true,
        arrows: true,
        positionBy:'bottomTop',
       cursor: 'pointer',
       closePosition: 'top',
       closeText: '<img src="images/close1.jpg" alt="close" width="16" height="16"
       style="position:absolute; right:5px; top:0px;" />'
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:07:29.240

我真的不知道线索提示，但是否有可能第一次点击实际上是为点击的元素初始化线索提示，然后它可以正常工作？（即使您每次点击都会重新初始化它）

快速浏览一下他们的演示页面[http://plugins.learningjquery.com/cluetip/demo/](http://plugins.learningjquery.com/cluetip/demo/)表明线索提示方法会初始化，而不是调用。

# c - 为什么终端会话结束时所有进程都被杀死？

> ID：12419360
> 
> 赞同：1
> 
> 时间：2012-09-14T06:42:09.493
> 
> 标签：c, linux, terminal, system-calls

不久前，我想知道一个问题：为什么在 Linux 上关闭终端时所有进程都被杀死，而不是传递给“init”进程（pid 1）？因为，在父进程终止后，所有子进程都被“init”进程采用。请帮助我理解我推理中的差异和错误。

还有：如果可能的话，我们可以使用系统调用来阻止这种情况发生吗？我认为，为此程序需要使用`setsid()`，但实际上它是不正确的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:09:06.793

正如 cnicutar 所解释的，这是由于`SIGHUP`发送到与控制终端关联的进程组中的所有进程。您可以为此信号安装处理程序，也可以完全忽略它。对于任意程序，您可以使用`nohup`为此目的设计的实用程序启动它们。

您还可以将进程放置在没有控制终端的新进程组中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T06:44:33.930

> 为什么在 linux 上的关闭终端上，他的所有进程都将终止，但没有传递给“init”进程（使用 pid 1）

这些进程正在失去它们的控制终端，因此内核向它们发送一个`SIGHUP`. 的默认操作`SIGHUP`是终止进程。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T06:47:56.147

我认为这将帮助您理解 [http://www.digipedia.pl/usenet/thread/18802/10189/](http://www.digipedia.pl/usenet/thread/18802/10189/)

# javascript - 如何将值传递给上一个html页面

> ID：12419361
> 
> 赞同：1
> 
> 时间：2012-09-14T06:42:12.167
> 
> 标签：javascript, html

我有一个带有文本框的 HTML 页面。单击文本框时，会出现一个弹出窗口，单击“确定”按钮后，弹出窗口必须关闭，第一个 html 页面中的文本框必须填充第二个 HTML 中给出的值。我尝试过这样的事情，

**一个.html**

```
 <form name="form1" >
          <input type="text" name="source" onclick="window.open('second.html')" />
    </form> 
```

**第二个.html**

```
 <input type="button" onclick="{document.form1.source.value='hello';window.close()}" /> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:00:59.057

在你的 first.html

```
<form name="form1" >
         <input type="text" id="txt1" name="source" onclick="window.open('second.html')" />
    </form>
<script type="text/javascript" >
function setvalue(args)
  {
    document.getElementByid('txt1').value=args;
  }
</script> 
```

第二个.html

```
 <input type="button" onclick="settoparent()" />
<script type="javascript">
  function settoparent()
   {
    if(window.opener.setvalue!=undefined)
     {
      setvalue("textboxvaluefromHTML2");
     }
   window.close()
   }
</script> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-14T06:46:08.860

你必须使用

```
window.opener.$("#yourtextfieldid").val(value); 
```

为达到这个

在你的香草 JS

```
window.opener.document.yourelementID.fieldname.value="Any value"; 
```

# c++ - 为什么 g++ 在 LIBRARY_PATH/../lib64 中查找，这在哪里记录？

> ID：12419363
> 
> 赞同：29
> 
> 时间：2012-09-14T06:42:22.880
> 
> 标签：c++, linux, gcc, g++

我的`LIBRARY_PATH`环境变量中有一个自定义目录：`/cs/public/lib/pkg/opencv/lib`.

但是，当我使用 时`g++ --print-search-dirs`，我得到了这个：

```
libraries: =
/cs/public/lib/pkg/opencv/lib/x86_64-suse-linux/4.6/:
/cs/public/lib/pkg/opencv/lib/../lib64/:
/usr/lib64/gcc/x86_64-suse-linux/4.6/:
/usr/lib64/gcc/x86_64-suse-linux/4.6/../../../../x86_64-suse-linux/lib/x86_64-suse-linux/4.6/:
/usr/lib64/gcc/x86_64-suse-linux/4.6/../../../../x86_64-suse-linux/lib/../lib64/:
/usr/lib64/gcc/x86_64-suse-linux/4.6/../../../x86_64-suse-linux/4.6/:
/usr/lib64/gcc/x86_64-suse-linux/4.6/../../../../lib64/:
/lib/x86_64-suse-linux/4.6/:
/lib/../lib64/:
/usr/lib/x86_64-suse-linux/4.6/:
/usr/lib/../lib64/:
/cs/public/lib/pkg/opencv/lib/:
/usr/lib64/gcc/x86_64-suse-linux/4.6/../../../../x86_64-suse-linux/lib/:
/usr/lib64/gcc/x86_64-suse-linux/4.6/../../../:
/lib/:
/usr/lib/ 
```

为什么 g++ 会在我在变量中明确指定*之前*查看这些替代方案和一大堆其他系统位置，这在`LIBRARY_PATH`哪里记录？

我会理解是否在 LIBRARY_PATH 和 LIBRARY_PATH/../lib64 等之前搜索了系统默认值，但是 g++ 会先放置 LIBRARY_PATH/../lib64，然后是系统路径，然后是 LIBRARY_PATH。此订购记录在哪里？

我的 g++ 版本是`g++ (SUSE Linux) 4.6.2`

我的操作系统是`openSUSE 12.1 (x86_64)`

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-18T17:44:09.990

这里问了一个类似的问题： [g++ 搜索 /lib/../lib/，然后 /lib/](https://stackoverflow.com/questions/990370/g-searches-lib-lib-then-lib)

这些看起来吓人的搜索路径至少部分是在它构建的编译器本身时确定的，例如在配置阶段。很明显，它超出了环境变量的范围，因为可以安装多个 GCC 副本并让每个副本为`gcc --print-search-dirs`. 还注意到`g++ --print-search-dirs`并`gcc --print-search-dirs`给出不同的结果指出 g++ 包装器也在影响搜索路径。除了配置/构建时间差异之外，GCC 肯定知道它自己的可执行文件所在的路径，并将搜索该路径的子目录。在 GCC 文档中可以找到很多这种炼金术：http:
[//gcc.gnu.org/onlinedocs/gcc-4.7.1/gcc/Directory-Options.html#Directory-Options](http://gcc.gnu.org/onlinedocs/gcc-4.7.1/gcc/Directory-Options.html#Directory-Options)
[http://gcc.gnu.org/onlinedocs/gcc-4.7.1/gcc/Environment-Variables.html#Environment-Variables](http://gcc.gnu.org/onlinedocs/gcc-4.7.1/gcc/Environment-Variables.html#Environment-Variables)

据我所知，在不编译自己的 GCC 副本的情况下，最有力的方法是使用 -L 选项指定自定义库。我这么说的原因是因为 -L 在例如 LIBRARY_PATH 之前被搜索过（参见上面关于环境变量的链接）。为了使它更容易忍受，您可以为 g++ 添加一个别名，包括在您的 .bashrc 文件中的 -L 选项。

如果您想要一个明确的答案，那么下载 GCC 源代码的副本是一种方法。例如，在 gcc.c 中会出现以下高度暗示性的注释：

```
/* Build a list of search directories from PATHS.
   PREFIX is a string to prepend to the list.
   If CHECK_DIR_P is true we ensure the directory exists.
   If DO_MULTI is true, multilib paths are output first, then
   non-multilib paths.
   This is used mostly by putenv_from_prefixes so we use `collect_obstack'.
   It is also used by the --print-search-dirs flag.  */ 
```

但是注释后面的功能不是很明显。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-09-18T20:51:29.323

这是 multilib 在工作 - 一种允许在单台机器上为多个架构拥有库（但也包括整个编译和构建工具链）的机制。[该 Wiki](http://wiki.debian.org/Multiarch/LibraryPathOverview#line-129)声明“multilib 后缀被附加到 GCC 搜索库的所有目录中，并通过 -L 选项传递给链接器。链接器本身对 multilibs 没有任何特殊知识，如果出现以下情况，将继续查阅其默认搜索目录在 -L 路径中找不到库。如果在单个编译中使用多个正交 ABI 更改选项，则可以串联使用多个 multilib 后缀。"。

因此，根据上述描述，体系结构标记字符串或其不同变体被附加到编译器接收的每个库搜索路径，因为它不区分默认路径和自定义路径。您的自定义路径排在第一位，但它经历了与其他路径相同的“扩展”过程。

由于需要处理 i386 兼容性，现在似乎在大多数 x64 发行版上默认使用 multilib 机制，这实际上意味着大多数安装在那里。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-03T08:34:15.807

我有完全相同的问题：

```
Fedora 17, gcc 4.7 and gcc 4.3
CentOS 6.3, gcc 4.4
Unubuntu 12, gcc 4.6 
```

所以看起来这是大多数 gcc 版本的问题。至少根据[这个](http://old.nabble.com/LIBRARY_PATH-not-used-before--usr-lib-anymore-in-gcc-4.2-and-later--td17776406.html)，这种奇怪的行为可能首先出现在 gcc 4.2 中。

我尝试复制规格并与它们一起玩。看起来`*multilib`规范用于根据平台附加特定的字符串。例如我原来的空间看起来像：

```
*multilib:
. !m64 !m32;64:../lib64 m64 !m32;32:../lib !m64 m32; 
```

当我改为`64:../lib64`then`64:../lib`而不是`../lib64`gcc appended时`../lib`。但我无法完全解读`*multilib`其他规格或任何其他规格的含义。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2018-10-31T15:35:17.577

这个答案试图总结 GCC 和 Clang 的搜索路径行为。

# 海合会

**包含路径：**对于以下格式的命令行：

```
CPLUS_INCLUDE_PATH=EDIR g++ -IIDIR -isystemSDIR 
```

以下目录列表用作搜索路径`#include <...>`：

```
IDIR                                           # '-I' directories.
SDIR                                           # '-isystem' directories.
EDIR                                           # *_INCLUDE_PATH directories.
GCCDIR/include/c++/GCCVER                      # libstdc++ directory (C++).
GCCDIR/include/c++/GCCVER/GCCARCH              # libstdc++ directory (C++).
GCCDIR/include/c++/GCCVER/backward             # libstdc++ directory (C++).
GCCDIR/lib/gcc/GCCARCH/GCCVER/include          # GCC arch-specific directory.
/usr/local/include/GCCARCH                     # Local arch-specific include directory.
/usr/local/include                             # Local include directory.
GCCDIR/include                                 # GCC include directory.
GCCDIR/lib/gcc/GCCARCH/GCCVER/include-fixed    # GCC include-fixed directory.
/usr/include/GCCARCH                           # System include arch-specific directory.
/usr/include                                   # System include directory. 
```

**库路径：**对于以下格式的命令行：

```
LIBRARY_PATH=EDIR gcc -BBDIR -LLDIR 
```

以下参数被传递给链接器：

```
-LLDIR                                         # '-L' directories.
-LBDIR                                         # '-B' directories.
-LEDIR/../libXX                                # Multilib directories from LIBRARY_PATH.
-LGCCDIR/lib/gcc/GCCARCH/GCCVER                # GCC arch-specific library directory.
-LGCCDIR/libXX                                 # GCC multilib library directory.
-L/libXX                                       # System multilib library directory.
-L/usr/libXX                                   # System multilib library directory. 
-LEDIR                                         # LIBRARY_PATH directories.
-LGCCDIR/lib                                   # Other GCC libraries. 
```

# 铛

**包含路径：**对于以下格式的命令行：

```
CPLUS_INCLUDE_PATH=EDIR clang++ --gcc-toolchain=GCCDIR -BBDIR -IIDIR -isystemSDIR 
```

以下目录列表用作搜索路径`#include <...>`：

```
IDIR                                           # '-I' directories.
SDIR                                           # '-isystem' directories.
EDIR                                           # *_INCLUDE_PATH directories.
 # If -stdlib=libstdc++ is used:
   GCCDIR/include/c++/GCCVER                   # libstdc++ directory from the selected GCC toolchain (C++).
   GCCDIR/include/c++/GCCVER/GCCARCH           # libstdc++ directory from the selected GCC toolchain (C++).
   GCCDIR/include/c++/GCCVER/backward          # libstdc++ directory from the selected GCC toolchain (C++).
 # If -stdlib=libc++ is used:
   CLANGDIR/include/c++/v1                     # libc++ directory (C++).
/usr/local/include                             # Local include directory.
CLANGDIR/lib/clang/CLANGVER/include            # Clang include directory.
/include                                       # System include directory.
/usr/include                                   # System include directory. 
```

**库路径：**对于以下格式的命令行：

```
LIBRARY_PATH=EDIR clang --gcc-toolchain=GCCDIR -BBDIR -LLDIR 
```

以下参数被传递给链接器：

```
-LLDIR                                         # '-L' directories.
-LGCCDIR/lib/gcc/GCCARCH/GCCVER                # GCC arch-specific library directory.
-LGCCDIR/libXX                                 # GCC multilib library directory.
-L/libXX                                       # System multilib library directory.
-L/usr/libXX                                   # System multilib library directory.
-LGCCDIR/lib                                   # Other GCC libraries.
-LCLANGDIR/lib                                 # Clang libraries.
-L/lib                                         # System library directory.
-L/usr/lib                                     # System library directory.
-LEDIR                                         # LIBRARY_PATH directories. 
```

# 概括

在 GCC 和 Clang 中，include 的搜索路径几乎相同。如果在这两种情况下都使用 C 前端，则省略 C++ 特定路径。GCC 和 Clang 之间的库搜索路径有很大不同，特别是`-B`目录的存在和 GCC 前端的奇怪操作`LIBRARY_PATH`。

C 和 C++ 前端的库搜索路径相同。其他库搜索路径由链接器本身引入。以下摘录来自 GNU Binutils 的 vanilla 链接描述文件：

```
# Multilib library directories.
SEARCH_DIR("BINUTILSDIR/BINUTILSARCH/libXX");
SEARCH_DIR("BINUTILSDIR/libXX");
SEARCH_DIR("/usr/local/libXX");
SEARCH_DIR("/libXX");
SEARCH_DIR("/usr/libXX");
# Traditional library directories.
SEARCH_DIR("BINUTILSDIR/BINUTILSARCH/lib");
SEARCH_DIR("BINUTILSDIR/lib");
SEARCH_DIR("/usr/local/lib");
SEARCH_DIR("/lib");
SEARCH_DIR("/usr/lib"); 
```

还必须注意，*不在*上面列出的目录中搜索库*依赖*项。这些完全依赖于传递给链接器的选项，否则它们会从默认的系统库路径中解析。因此，同时生成和参数以确保链接正确的库可能很有用。*`-rpath``-rpath-link``-L``-rpath-link`*

 *`-B`最后，仅在目录中搜索特殊文件（例如 CRT 对象） 。在 Clang 中，还会在选定的 GCC 工具链中搜索特殊文件。其他因素（规范文件、特定于发行版的配置）可能会改变上述部分或全部内容。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-09-20T13:11:40.633

路径由内置规范定义。规范定义了管道如何处理源代码以获得结果。GCC 只是驱动编译。

您可以通过 为 GCC 提供您自己的规范文件，并且您可以使用IIRC`-spec=`获取内置规范。`-dumpspecs`

这可能在 GCC 手册中的某处进行了解释。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-09-16T17:13:27.053

看起来需要交叉编译。从变更日志：

```
 Wed Mar 29 14:53:23 1995  Jim Wilson  <wilson@cygnus.com>

          * gcc.c (process_command): Delete code modifying gcc_exec_prefix.
          (main): Put it here after last use of gcc_exec_prefix.  For cross
          compiler, set startfile_prefixes if gcc_exec_prefix is set and
          standard_startfile_prefix is a relative path. 
```

`startfile_prefixes`是使用 search-dirs 标志打印的内容。来自`gcc/gcc.c`：

```
 if (print_search_dirs)
      {
        printf (_("install: %s%s\n"), standard_exec_prefix, machine_suffix);
        printf (_("programs: %s\n"), build_search_list (&exec_prefixes, "", 0));
        printf (_("libraries: %s\n"), build_search_list (&startfile_prefixes, "", 0));
        return (0);
      } 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-09-16T17:15:05.483

编译器将首先查看默认路径，然后查看其他路径。当您打印时它如何排序 I don't now，但它记录在这里，[3.19 Environment Variables Affecting GCC](http://gcc.gnu.org/onlinedocs/gcc/Environment-Variables.html)。*

# spring - 气氛和弹簧portlet mvc

> ID：12419364
> 
> 赞同：2
> 
> 时间：2012-09-14T06:42:26.077
> 
> 标签：spring, model-view-controller, asynchronous, portlet, atmosphere

可以使用最近发布的1.0版本的大气框架与spring portlet mvc吗？我有一个进行多个 ajax 调用的 portlet，我想在服务器中并行处理它们。

我正在使用 weblogic，问题是服务器正在排队我的请求。当它们离开浏览器时，它们是真正并行的，但是当它们到达服务器时，它们被排入队列。

我想要的是类似于 spring 3.2 的异步控制器概念但通过大气框架在 servlet 2.5 中的东西

# c - Embest AT91SAM9G45 板与 OPENCV 的兼容性

> ID：12419367
> 
> 赞同：-1
> 
> 时间：2012-09-14T06:42:49.477
> 
> 标签：c, arm9

嗨，我是嵌入式领域的新手，请告诉我 OpenCv 文件是否与 Embest AT91SAM9G45、ARM9 板兼容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:50:07.127

我没有尝试过，但我不明白为什么不这样做。从您芯片上的 Atmel 页面来看，有一个开发工作室。它没有明确说明，但我认为它支持 C++，如果支持，您可以使用 Cmake 和特定编译器编译 OpenCV。

# ruby-on-rails-3 - 用于排序和搜索的宝石

> ID：12419373
> 
> 赞同：0
> 
> 时间：2012-09-14T06:43:11.607
> 
> 标签：ruby-on-rails-3, rubygems

我正在使用 Rails 3.2.6 版。我必须使用 gem 来排序和搜索我的应用程序中的索引页面。我知道`jquery-datatables-rails`宝石。我只想知道 Rails 3.2.6 是否支持其他一些用于排序和搜索的 gem。我还搜索了 datagrid gem，但没有得到正确的文档，如果 rails 3.2.6 支持它（datagrid）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T06:50:02.637

活动脚手架（[https://github.com/activescaffold/active_scaffold](https://github.com/activescaffold/active_scaffold)）可能超过顶部，或者？它是我最常用的宝石。当然，它内置了排序和搜索功能，可配置且快速。检查一下，按照 wiki 中的入门指南，您应该在 10 分钟内启动并运行一个应用程序。

# php - 在 WordPress 中将多个任意事件安排到 WP Cron

> ID：12419381
> 
> 赞同：0
> 
> 时间：2012-09-14T06:44:00.280
> 
> 标签：php, cron, wordpress

我正在尝试使用具有动态生成的操作名称的 WordPress Cron API 来安排多个事件。一次只能添加一个事件，`add_action()`但不能超过一个。

使用名为[Cron View](http://wordpress.org/extend/plugins/cron-view/)的插件，我可以确认事件已注册，但未以某种方式调用该函数。我猜可能动态生成的动作名称在下一页加载中消失了，所以 WordPress 找不到它们。我不知道。

以下代码已准备好作为插件运行并演示了该问题。任何解决此问题的建议将不胜感激。

```
<?php
/* Plugin Name: Sample Cron Scheduler */

add_action('admin_menu', 'sample_cron_menu');
function sample_cron_menu() {
    add_options_page(
        'Sample Cron Scheduler', 
        'Sample Cron Scheduler', 
        'manage_options',
        'sample_cron_scheduler', 
        'sample_cron_scheduler_admin');
}
function sample_cron_scheduler_admin() {
    ?>
    <div class="wrap">
    <?php
        // print the saved values
        echo '<h3>Saved values</h3>';
        print_r(get_option('crontest'));

        // do this ten times, meaning I want to register 10 events 
        $chars = array('a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z');
        for ($i=1; $i <= 10; $i++) {

            // generate a random string
            shuffle($chars);
            $randomstring = implode($chars);

            // schedule the next event
            // wp_schedule_single_event(time(), 'myeventaction');   // <-- this only runs one job
            add_action(sha1($randomstring),'myevent');              // so I want to add arbitrary multiple events but this doesn't work
            wp_schedule_single_event(time(), sha1($randomstring));                  
        }
    ?>
    </div>
    <?php
}

add_action('myeventaction', 'myevent'); 
function myevent() {    // this function just adds the current time to the option array

    $arr = get_option('crontest') ? get_option('crontest') : array();
    array_push($arr, date("M d Y H:i:s", time()));      // adds the current time at the end of the array
    array_splice($arr, 0, count($arr) - 20);            // reduce the number of elements to 20 to make it short
    update_option('crontest',  $arr);

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:56:11.883

我的猜测是对的。WordPress 不记得传入的注册操作名称`add_action()`。所以我将它们保存在选项中，并在插件加载时检索它们并将它们全部传递给`add_action()`解决它。

```
<?php
/* Plugin Name: Sample Cron Scheduler */

add_action('admin_menu', 'sample_cron_menu');
function sample_cron_menu() {
    add_options_page(
        'Sample Cron Scheduler', 
        'Sample Cron Scheduler', 
        'manage_options',
        'sample_cron_scheduler', 
        'sample_cron_scheduler_admin');
}
function sample_cron_scheduler_admin() {
    ?>
    <div class="wrap">
    <?php
        // print the saved values
        echo '<h3>Saved values</h3>';
        echo '<h4>Actions</h4>';
        print_r(get_option('crontest_actions'));
        echo '<h4>Jobs</h4>';
        print_r(get_option('crontest'));

        // do this ten times, meaning I want to register 10 events 
        $arr = get_option('crontest_actions') ? get_option('crontest_actions') : array();
        $chars = array('a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z');
        for ($i=1; $i <= 10; $i++) {

            // generate a random string
            shuffle($chars);
            $randomstring = implode($chars);

            // schedule the next event
            $actionname = sha1($randomstring);
            array_push($arr, $actionname);
            add_action($actionname,'myevent');              // so I want to add arbitrary multiple events but this doesn't work
            wp_schedule_single_event(time(), $actionname);                  
        }
        update_option('crontest_actions', $arr);
    ?>
    </div>
    <?php
}

$actions = get_option('crontest_actions') ? get_option('crontest_actions') : array();
foreach($actions as $key => $action)    {
    add_action($action, 'myevent'); 
}

function myevent() {

    $arr = get_option('crontest') ? get_option('crontest') : array();
    array_push($arr, date("M d Y H:i:s", time()));      // adds the current time at the end of the array
    array_splice($arr, 0, count($arr) - 20);            // reduce the number of elements to 20 to make it short
    update_option('crontest',  $arr);

    $actions = get_option('crontest_actions') ? get_option('crontest_actions') : array();
    array_splice($actions, 0, 1);   // remove the first element
    update_option('crontest_actions',  $actions);
}

// use this to reset options
// $arr = array();
// update_option('crontest', $arr);
// update_option('crontest_actions', $arr); 
```

# ios - Memory Warning in Cocos2d due to images

> ID：12419382
> 
> 赞同：0
> 
> 时间：2012-09-14T06:44:00.107
> 
> 标签：ios, memory-management, cocos2d-iphone, didreceivememorywarning

I am loading a Cocos2d Scene that contains almost 700 png Images and even if I run this scene directly from Xcode I receive a Memory Warning message along with a long list of some of my Image names in the console..

I am properly deallocating them in dealloc but when I come again on this scene this time my game crashes during loading my half of the Images

Is this the problem of loading so much textures at once or problematic code?

How should I handle loading so many images and do proper memory management to avoid this crash?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T17:48:24.530

700 png images? Hmmm. Ok, I like those games.

Let's assume each image is "only" 128x128 pixels. Each texture consumes 64 KB (128 times 128 times 4 Bytes). Total of 45 MB memory used for 700 such textures.

If your textures are twice that or even more, KA-BOOM!

Keep in mind that the file size has nothing to do with texture memory. The files may total a few megabytes in the file system. But that's because they're compressed. Textures created from PNG files however are not compressed.

What you can do:

*   use texture atlases
*   reduce color depth of textures to 16 Bit
*   use compressed PVR format

TexturePacker will help you with these tasks.

# jsf - 通过 ui:param 将数组列表发送到 JSF ui:composition 模板

> ID：12419383
> 
> 赞同：2
> 
> 时间：2012-09-14T06:44:07.010
> 
> 标签：jsf, arraylist, parameter-passing, el, facelets

我知道我可以使用 ui:param 从基于模板的组合中传递一个字符串

像这样：[http ://www.mkyong.com/jsf2/how-to-pass-parameters-to-jsf-2-0-template-file/](http://www.mkyong.com/jsf2/how-to-pass-parameters-to-jsf-2-0-template-file/)

然后我可以将 XHTML 中的参数用于模板文件。

你能发送一个数组吗？

IE

```
<ui:insert name="header" >
   <ui:include src="/template/common/commonHeader.xhtml">

    <ui:array name="tagArray" values="val1, val2, val3" />

   </ui:include>
</ui:insert> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-14T11:13:19.200

仅当您的环境支持 EL 3.0（Tomcat 8、WildFly 8、GlassFish 4 等及更新版本）时。您可以使用新的[列表表示法](https://docs.oracle.com/javaee/7/tutorial/jsf-el004.htm#CIHGABHD) `#{[x,y,z]}`。

```
<ui:array name="tagList" values="#{['val1', 'val2', 'val3']}" /> 
```

如果您还没有使用 EL 3.0，那么最好的办法是使用 JSTL[`fn:split()`](http://docs.oracle.com/javaee/6/javaserverfaces/2.1/docs/vdldocs/facelets/fn/split.fn.html)将分隔字符串拆分为数组。

```
<ui:param name="tagArray" value="#{fn:split('val1,val2,val3', ',')}" /> 
```

# c++ - "if (var)" 使用数字转换而不是布尔值

> ID：12419384
> 
> 赞同：4
> 
> 时间：2012-09-14T06:44:07.137
> 
> 标签：c++, if-statement, types

为什么 if (var) ... 使用数字转换而不是 boolean ？我有一个实现两者的类：

```
operator int() { ....}
operator bool() { ....} 
```

但如果我使用：

```
if (my_class_var) ....; 
```

然后使用`int`转换而不是`boolean`?!!?!

编辑：正如 versedmarald 所说，这是正确的。我发现有什么不同..我实际上正在使用：

```
operator int() { ....}
operator bool() const { ... } 
```

还是被迷住了，为什么不一样？gcc 版本 4.6.2

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T07:01:24.677

如果你说的是真的，我相信你的编译器违反了标准：

> （第 6.4/4 节）作为非 switch 语句的语句中的初始化声明的条件值是根据上下文转换为 bool 的声明变量的值（第 4 条）。如果该转换格式不正确，则程序格式错误。[...]

（需要明确的是，这是在 §6.4 的上下文中描述`if`和`switch`陈述的。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T06:58:39.917

它没有（`g++`至少使用）。我的猜测是您的转换运算符有错误。

```
#include <iostream>
class A {
public:
    operator int() { return 1; }
};

class B {
public:
    operator int() { return 1; }
    operator bool() { return false; }
};

int main() {
    A a;
    B b;

    if (a)
        std::cout << "true\n";
    else
        std::cout << "false\n";

    if (b)
        std::cout << "true\n";
    else
        std::cout << "false\n";
} 
```

输出：

```
true
false 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-14T07:01:28.273

有两个`used-defined implicit conversion chains`。

第一的 -`class -> bool -> no conversion`

第二 -`class -> int -> bool`

n3337 4/2

> 注意：具有给定类型的表达式将在多个上下文中隐式转换为其他类型：
> 
> — 当用于 if 语句或迭代语句 (6.4, 6.5) 的条件时。目标类型是布尔值。

n3337 4/3

> 任一隐式转换的效果与执行声明和初始化然后使用临时变量作为转换的结果相同。

行情意味着真的

```
if (class_var) 
```

是

```
if (bool _ = class_var) 
```

n3337 13.3.3/1

> 鉴于这些定义，如果对于所有参数 i，ICSi(F1) 不是比 ICSi(F2) 更差的转换序列，则可行函数 F1 被定义为比另一个可行函数 F2 更好的函数，然后
> 
> — 上下文是通过用户定义的转换（见 8.5、13.3.1.5 和 13.3.1.6）和从 F1 的返回类型到目标类型（即被初始化的实体的类型）的标准转换序列进行的初始化是比从 F2 的返回类型到目标类型的标准转换序列更好的转换序列。[ 例子：
> 
> ```
> struct A {
> A();
> operator int();
> operator double();
> } a;
> int i = a; // a.operator int() followed by no conversion
> //is better than a.operator double() followed by
> //a conversion to int
> float x = a; //ambiguous: both possibilities require conversions,
> //and neither is better than the other 
> ```
> 
> — 结束示例

所以，编译器应该选择`operator bool`，因为`class -> bool -> no standart conversion`比`class -> int -> standard conversion to bool`

# xsd - 用于无序强制和可选标签的 XSD 架构

> ID：12419391
> 
> 赞同：1
> 
> 时间：2012-09-14T06:44:36.940
> 
> 标签：xsd

我想表达在 XSD 中反复出现的无序强制和可选标签。谁能告诉这个问题如何解决？如果不可行，可以采取什么方法。

**更新**

```
<xs:element name="Tag1" type="xs:string" />
<xs:element name="Tag2" type="xs:string" />
<xs:element name="Tag3" type="xs:string" maxoccurs="Unbounded"/> 
```

所有这些标签都出现在 complext 类型下，并且 tag1 和 tag2 是必需的。tag3 是可选的，可以出现任意次数。tag1、tag2 和 tag3 可以按任意顺序出现

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T10:07:30.820

You can use a "all" group selector and use minOccurs to indicate mandatory-ness.

```
<xs:schema xmlns="http://Message1" targetNamespace="http://Message1" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:element name="Root">
    <xs:complexType>
      <xs:all>
        <xs:element name="TheValue" type="xs:string" />
        <xs:element name="TheValue2" type="xs:string" minOccurs="0" />
      </xs:all>
    </xs:complexType>
  </xs:element>
</xs:schema> 
```

This are correct:

```
<ns0:Root xmlns:ns0="http://BizTalk_Server_Project1.Message1">
  <TheValue2>somevalue</TheValue2>
  <TheValue>somevalue</TheValue>
</ns0:Root> 
```

and so it this:

```
<ns0:Root xmlns:ns0="http://BizTalk_Server_Project1.Message1">
  <!--<TheValue2>somevalue</TheValue2>-->
  <TheValue>somevalue</TheValue>
</ns0:Root> 
```

But not this:

```
<ns0:Root xmlns:ns0="http://BizTalk_Server_Project1.Message1">
  <!--<TheValue2>somevalue</TheValue2>-->
  <!--<TheValue>somevalue</TheValue>-->
</ns0:Root> 
```

# c# - WCF的接口和数据结构设计

> ID：12419395
> 
> 赞同：0
> 
> 时间：2012-09-14T06:44:47.580
> 
> 标签：c#, .net, wcf, interface

我留下了一个使用远程处理的旧代码。我需要将此代码升级到 WCF。

坦率地说，我一直坚持如何重新设计客户端和服务器用于通信的接口。它看起来像这样：

```
public interface IDDCEngine
    {
        ReadDiagnosticEntirePointValuesResponse ReadDiagnosticEntirePointValues(string host);
        GetEntirePointListResponse GetEntirePointList(string host);

        SetSerialPortListResponse SetSerialPointList(string host, SetSerialPortList serialPortList);
        SetNationalListResponse SetNationalList(string host, SetNationalList nationalList, int count);
        SetModbusListResponse SetModbusList(string host, SetModbusList modbusList, int count);

        SetIOPointListResponse SetIOPointList(string host, SetIOPoint pointList, int count);
        GetIOPointResponse GetIOPointList(string host);
        SetLogicListResponse SetLogicList(string host, SetLogicList logicList, int count);
        GetDDCVersionResponse GetDDCVersion(string host);
        GetDDCUptimeResponse GetDDCUptime(string host);
        GetDDCCPUMemoryStatusResponse GetDDCCPUMemoryStatus(string host, int count);
        ...about 20 more interfaces
    } 
```

以及请求/响应的类：

```
[Serializable]
    public class SetIOPoint
    {
        public string[] pointidentifier;
        public string[] pointname;
        public string[] pointaddress;
        public string[] pointtype;
        public string[] devicetype;
        public string[] description;
        public string[] backup;
        public string[] relinquishdefault;
        public string[] unit;
        public string[] minpresvalue;
        public string[] maxpresvalue;
        public string[] correctvalue;
        public string[] covenable;
        public string[] covincrement;
        public string[] covtarget;
        public string[] covlifetime;
        public string[] historyenable;
        public string[] historyincrement;
        public string[] alarmenable;
        public string[] highlimit;
        public string[] lowlimit;
        public string[] polarity;
        public string[] inactivetext;
        public string[] activetext;
        public string[] feedbackenable;
        public string[] feedbacktime;
        public string[] numofstates;
        public string[] statetext;
    }

    [Serializable]
    public class GetIOPointResponse
    {
        public string[] pointidentifier;
        public string[] pointname;
        public string[] pointaddress;
        public string[] pointtype;
        public string[] devicetype;
        public string[] description;
        public string[] backup;
        public string[] relinquishdefault;
        public string[] unit;
        public string[] minpresvalue;
        public string[] maxpresvalue;
        public string[] correctvalue;
        public string[] covenable;
        public string[] covincrement;
        public string[] covtarget;
        public string[] covlifetime;
        public string[] historyenable;
        public string[] historyincrement;
        public string[] alarmenable;
        public string[] highlimit;
        public string[] lowlimit;
        public string[] polarity;
        public string[] inactivetext;
        public string[] activetext;
        public string[] feedbackenable;
        public string[] feedbacktime;
        public string[] numofstates;
        public string[] statetext;
    }

    [Serializable]
public class RequestDDCRebootResponse
{
    public string result;
}

[Serializable]
public class GetDDCCurrenttimeResponse
{
    public string result;
}

[Serializable]
public class StartDDCBackupResponse
{
    public string result;
}

[Serializable]
public class EndDDCBackupResponse
{
    public string result;
}

[Serializable]
public class StartDDCRestoreResponse
{
    public string result;
}

[Serializable]
public class EndDDCRestoreResponse
{
    public string result;
}
...List goes ON 
```

写得很糟糕的接口和数据结构。我想重写接口和数据结构，这样我就不必定义数百万个操作合同。

关于 WCF 的实体接口和数据结构设计策略有什么好的建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:06:48.740

看看这篇文章：

[编写高度可维护的 WCF 服务](https://cuttingedge.it/blogs/steven/pivot/entry.php?id=95)

本文讨论将 WCF 服务编写为基于[命令](https://cuttingedge.it/blogs/steven/pivot/entry.php?id=91)和[查询的](https://cuttingedge.it/blogs/steven/pivot/entry.php?id=92)[SOLIDly](https://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29)设计的架构模式之上的真正薄层。当使用这种命令/查询风格的编程时，WCF 服务可以定义为一小段无需更改的基础结构代码，即使添加了新操作也是如此。

# node.js - 如何在 Node.js Jade 中显示今天的日期？

> ID：12419396
> 
> 赞同：40
> 
> 时间：2012-09-14T06:44:55.350
> 
> 标签：node.js, date, pug

我是 Node.js 和 Jade 的新手，我尝试过使用`#{Date.now()}`它，它给了我数字。如何以`mm/dd/yy`格式显示日期？

* * *

## 回答 #1

> 赞同：77
> 
> 时间：2013-10-28T14:52:22.613

## 您可以使用[moment.js](http://momentjs.com/)

首先，为您的快速应用程序本地人添加时刻

```
express = require('express');
...
app = express();
app.locals.moment = require('moment'); 
```

然后你可以像这样在翡翠模板中使用时刻：

```
p #{moment(Date.now()).format('MM/DD/YYYY')} 
```

Moment`Date.now()`默认情况下，所以你也可以写：

```
p #{moment().format('MM/DD/YYYY')} 
```

* * *

资料来源：

*   [在服务器端 Jade 模板中使用实用程序库](https://coderwall.com/p/egh53a)
*   [Moment.js](http://momentjs.com/)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2015-12-29T21:55:17.453

这是旧的，但我执行以下操作：

```
return (new Date()).toLocaleDateString() 
```

返回日期 'mm/dd/yyyy' 格式，不需要额外的库。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-09-14T19:07:39.663

或者您可以使用[moment.js](http://momentjs.com/)库来处理日期并根据您的需要对其进行格式化

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-09-17T17:14:10.580

我实际上开始使用 date-util ，它是客户端和服务器端的两部分。

网址[https://github.com/JerrySievert/node-date-utils](https://github.com/JerrySievert/node-date-utils)

**在浏览器中使用**

```
<script type="text/javascript" src="date-utils.min.js"></script> 
```

**与 Node.js 一起使用**

```
$ npm install date-utils

require('date-utils'); 
```

*注意：由于 Node.js 如何处理 REPL 中的上下文，这在 Node.js 0.6 之前的 REPL 中不起作用。*

**静态方法**

```
Date.today(); // today, 00:00:00
Date.yesterday(); // yesterday, 00:00:00    
Date.tomorrow(); // tomorrow, 00:00:00

Date.validateDay(day, year, month); // true/false whether a date is valid
Date.validateYear(year); // true/false whether a year is valid
Date.validateMonth(month); // true/false whether a month is valid
Date.validateHour(hour); // true/false whether an hour is valid
Date.validateMinute(minute); // true/false whether a minute is valid
Date.validateSecond(second); // true/false whether a second is valid
Date.validateMillisecond(millisecond); // true/false whether a millisecond is valid

Date.compare(date1, date2); // -1 if date1 is smaller than date2, 0 if equal, 1 if date2 is smaller than date1
Date.equals(date1, date2); // true/false if date1 is equal to date2

Date.getDayNumberFromName(name); // su/sun/sunday - 0, mo/mon/monday - 1, etc
Date.getMonthNumberFromName(name); // jan/january - 0, feb/february - 1, etc
Date.isLeapYear(year); // true/false whether the year is a leap year
Date.getDaysInMonth(monthNumber); // number of days in the month 
```

**实例方法**

```
d.clone(); // returns a new copy of date object set to the same time
d.getMonthAbbr(); // abreviated month name, Jan, Feb, etc
d.getMonthName(); // fill month name, January, February, etc
d.getUTCOffset(); // returns the UTC offset
d.getOrdinalNumber(); // day number of the year, 1-366 (leap year)
d.clearTime(); // sets time to 00:00:00
d.setTimeToNow(); // sets time to current time
d.toFormat(format); // returns date formatted with:
  // YYYY - Four digit year
  // MMMM - Full month name. ie January
  // MMM  - Short month name. ie Jan
  // MM   - Zero padded month ie 01
  // M    - Month ie 1
  // DDDD - Full day or week name ie Tuesday 
  // DDD  - Abbreviated day of the week ie Tue
  // DD   - Zero padded day ie 08
  // D    - Day ie 8
  // HH24 - Hours in 24 notation ie 18
  // HH   - Padded Hours ie 06
  // H    - Hours ie 6
  // MI   - Padded Minutes
  // SS   - Padded Seconds
  // PP   - AM or PM
  // P    - am or pm
d.toYMD(separator); // returns YYYY-MM-DD by default, separator changes delimiter

d.between(date1, date2); // true/false if the date/time is between date1 and date2
d.compareTo(date); // -1 if date is smaller than this, 0 if equal, 1 if date is larger than this
d.equals(date); // true/false, true if dates are equal
d.isBefore(date); // true/false, true if this is before date passed
d.isAfter(date); // true/false, true if this is after date passed
d.getDaysBetween(date); // returns number of full days between this and passed
d.getHoursBetween(date); // returns number of hours days between this and passed
d.getMinutesBetween(date); // returns number of full minutes between this and passed
d.getSecondsBetween(date); // returns number of full seconds between this and passed

d.add({ milliseconds: 30,
        minutes: 1,
        hours: 4,
        seconds: 30,
        days: 2,
        weeks: 1,
        months: 3,
        years: 2}); // adds time to existing time

d.addMilliseconds(number); // add milliseconds to existing time
d.addSeconds(number); // add seconds to existing time
d.addMinutes(number); // add minutes to existing time
d.addHours(number); // add hours to existing time
d.addDays(number); // add days to existing time
d.addWeeks(number); // add weeks to existing time
d.addMonths(number); // add months to existing time
d.addYears(number); // add years to existing time 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-14T07:05:42.803

您将需要使用 Date 对象上的方法来实现您所追求的。请参阅[https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date)

例如，下面的代码应该可以满足您的需要：

```
var dateNow = new Date();
var dd = dateNow.getDate();
var monthSingleDigit = dateNow.getMonth() + 1,
    mm = monthSingleDigit < 10 ? '0' + monthSingleDigit : monthSingleDigit;
var yy = dateNow.getFullYear().toString().substr(2);

var formattedDate = mm + '/' + dd + '/' + yy; 
```

因此，如果您将 say jam 与 express 和 node 一起使用，则可以执行以下操作：

```
res.render('jadeTemplateName', { 
    dateNow: function() {
        var dateNow = new Date();
        var dd = dateNow.getDate();
        var monthSingleDigit = dateNow.getMonth() + 1,
            mm = monthSingleDigit < 10 ? '0' + monthSingleDigit : monthSingleDigit;
        var yy = dateNow.getFullYear().toString().substr(2);

        return (mm + '/' + dd + '/' + yy);
    } 
}) 
```

并在您的翡翠模板中说您是否想将日期添加到跨度：

```
span Today's date is #{dateNow()} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-04-22T15:43:13.820

将 .post-date 类添加到保存日期的标签

```
document.addEventListener('DOMContentLoaded', function() {
    var list = document.getElementsByClassName('post-date');
                // get the number of selected elements

                // iterate over elements and output their HTML content
                for (var i=0; i<list.length; i++){
                    //console.log(list[i].innerHTML);
                    var string=list[i].innerHTML;
                    var length = 15;
                    var trimmedString = string.substring(0, length);
                    list[i].innerHTML=trimmedString ;
                }

}) 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-09-10T13:51:56.237

我找到了一个解决方案 1.在 pug 中使用 - 语法创建一个函数 2.当 pug.js 将变量绑定到 pug 模板时将变量传递给函数

```
 -function prettyDate(dateString){
                        -var date = new Date(dateString);
                        -var d = date.getDate();
                        -var monthNames = [ "Jan", "Feb", "Mar", "Apr", "May", "Jun","Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ];
                        -var m = monthNames[date.getMonth()];
                        -var y = date.getFullYear();
                        -return d+' '+m+' '+y;
                    -}
3.span.post-date #{prettyDate(val.date)}; 
```

# iphone - 创建具有透明背景颜色的 CCLayer

> ID：12419397
> 
> 赞同：0
> 
> 时间：2012-09-14T06:44:58.343
> 
> 标签：iphone, ios, cocos2d-iphone

我正在使用`UIKit`和创建一个 iPhone 应用程序`cocos2d`。现在，在我的一个中`ViewControllers`，我添加了一个`HelloWorldLayer`作为子视图。已成功添加。

现在这个图层被添加了一个黑色的背景颜色。我希望它的背景颜色是`clearColor`，准确地说，我希望它是透明的，以便我可以查看我的 ViewController 中的内容，除了`HelloWorldLayer`.

我知道如何更改`CCLayer`背景颜色。我正在使用`ccc4(r, g, b, a)`它。

这是我的代码：

```
-(id) init
{
    // always call "super" init
    // Apple recommends to re-assign "self" with the "super's" return value
    if( (self=[super initWithColor:ccc4(0, 0, 0, 128)]) ) {
        CGSize windowSize = [[CCDirector sharedDirector] winSize];
        CCSprite *imgRoof;
        imgRoof = [CCSprite spriteWithFile:@"Tops.png"];
        imgRoof.position = ccp(windowSize.width/2,windowSize.height/2);
        [self addChild:imgRoof];

        CCAction* action = [CCBlink actionWithDuration:20 blinks:20];
        [imgRoof runAction:action];

    }
    return self;
} 
```

我只想知道 for 的颜色`clearColor`代码`ccc4()`。任何人都可以帮助我，我真的被困住了。

非常感谢提前！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T06:53:26.217

```
yourView.layer.backgroundColor=[[UIColor clearColor]CGColor]; 
```

会为你做这项工作

别忘了

```
#import <QuartzCore/QuartzCore.h> 
```

编辑

```
CCLayerColor* colorLayer = [CCLayerColor layerWithColor:ccc4(0, 0, 0, 128)];
[self addChild:colorLayer z:0]; 
```

前三个数字是“RGB”颜色，最后一个数字是不透明度。每个都可以有一个介于 0 到 255 之间的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T06:55:18.303

试试这个...

```
 CCLayer *pauseLayer;

 CGSize size = [[CCDirector sharedDirector] winSize];

 pauseLayer = [CCLayerColor layerWithColor: ccc4(0, 0, 0, 128) width: size.width height: size.height];

 pauseLayer.position = CGPointZero;

 [self addChild: pauseLayer]; 
```

使用 ccc4 的 EX

```
layerWithColor:ccc4(Red, Green, Blue, Opacity) 
```

前三个数字是“RGB”颜色，最后一个数字是不透明度。每个都可以有一个介于 0 到 255 之间的值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T07:01:36.413

试试这个，它对我有用。

```
UIColor *color = [UIColor clearColor];
CGColorRef layerBackgroundColor = [color CGColor];
[subLayer setBackgroundColor:layerBackgroundColor]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-26T08:15:21.770

最后我没有找到这个问题的正确答案，在寻找了许多文档并在谷歌搜索了几天之后，没有找到合适的解决方案，也没有可用的颜色代码`clearColor`，`ccc4`所以我为我的应用程序使用了一个补丁。

我将相同的图像设置为`CCSprite`我的背景，我`HelloWorldLayer`将其`ViewController`用作添加`HelloWorldLayer`场景的背景，这样就不会看到黑色背景，甚至用户也认为后面`ViewController`是可见的除了`HelloWorldLayer`内容。

这是一个特别适合我的应用程序的解决方案。对于其他情况，我不能说。如果有人找到任何解决方案，请告诉我。

谢谢！！！

# android - 如何在使用 DecimalFormat 应用模式后启用浮点数

> ID：12419402
> 
> 赞同：0
> 
> 时间：2012-09-14T06:45:23.617
> 
> 标签：android, android-layout

我正在编写一个转换器应用程序，我希望将千位分隔符实时自动添加到数字中，所以在我在 TextWatcher 上实现了这个 applypattern 代码之后，现在我无法进行浮点输入.....这是我的代码编辑文本

```
am2 = new TextWatcher()
{
  boolean isEdiging;
  public void beforeTextChanged(CharSequence s, int start, int count, int after) {
}
public void onTextChanged(CharSequence s, int start, int before, int count) {}
public void afterTextChanged(Editable s) {
if (s.toString().equals("")) {
    amount.setText("");
    value = 0;
 }else{
 if(isEdiging) return;
 isEdiging = true;
 StringBuffer strBuff = new StringBuffer();
 char c;
 for (int i = 0; i < amount2.getText().toString().length() ; i++) {
     c = amount2.getText().toString().charAt(i);
     if (Character.isDigit(c)) {
    strBuff.append(c);
     }
 }
value = Double.parseDouble(strBuff.toString());
reverse();
NumberFormat nf2 = NumberFormat.getInstance(Locale.ENGLISH);
((DecimalFormat)nf2).applyPattern("###,###.#######");
s.replace(0, s.length(), nf2.format(value));
isEdiging = false;
}
}
}; 
```

那么有没有办法在 EditText 中输入浮点数？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T18:08:34.817

这个类解决了问题

```
public class NumberTextWatcher implements TextWatcher {
private DecimalFormat df;
private DecimalFormat dfnd;
private boolean hasFractionalPart;

private EditText et;

public NumberTextWatcher(EditText et)
{
    df = new DecimalFormat("#,###.##");
    df.setDecimalSeparatorAlwaysShown(true);
    dfnd = new DecimalFormat("#,###");
    this.et = et;
    hasFractionalPart = false;
}

@SuppressWarnings("unused")
private static final String TAG = "NumberTextWatcher";

public void afterTextChanged(Editable s)
{
    et.removeTextChangedListener(this);

    try {
        int inilen, endlen;
        inilen = et.getText().length();

        String v = s.toString().replace(String.valueOf(df.getDecimalFormatSymbols().getGroupingSeparator()), "");
        Number n = df.parse(v);
        int cp = et.getSelectionStart();
        if (hasFractionalPart) {
            et.setText(df.format(n));
        } else {
            et.setText(dfnd.format(n));
        }
        endlen = et.getText().length();
        int sel = (cp + (endlen - inilen));
        if (sel > 0 && sel <= et.getText().length()) {
            et.setSelection(sel);
        } else {
            // place cursor at the end?
            et.setSelection(et.getText().length() - 1);
        }
    } catch (NumberFormatException nfe) {
        // do nothing?
    } catch (ParseException e) {
        // do nothing?
    }

    et.addTextChangedListener(this);
}

public void beforeTextChanged(CharSequence s, int start, int count, int after)
{
}

public void onTextChanged(CharSequence s, int start, int before, int count)
{
    if (s.toString().contains(String.valueOf(df.getDecimalFormatSymbols().getDecimalSeparator())))
    {
        hasFractionalPart = true;
    } else {
        hasFractionalPart = false;
    }
} 
```

}

# django - 如何只执行一次django启动代码

> ID：12419403
> 
> 赞同：2
> 
> 时间：2012-09-14T06:45:25.943
> 
> 标签：django, startup

我知道关于这个主题已经回答了很多问题，但没有一个有效。使用`apache2.2`、和。`mod_wsgi 3.3`_ _`python 2.7.3``django 1.4``centos6.2`

我尝试启动我的代码表单 urls.py，它随机执行多次，并在启动完成后随机执行。接下来我尝试使用此处解释的中间件技巧[Where to put Django startup code?](https://stackoverflow.com/questions/2781383/where-to-put-django-startup-code) 启动代码也随机执行了多次（打印出一些调试消息，多次看到相同的消息）。

问题是，我希望有一个`global TCP Client`，与 TCP Server 连接和通信。它应该只初始化一次，如果它随机创建新实例旧连接将丢失，谁知道何时销毁，并且当操作系统内存不足时该套接字可能会被销毁（不确定）。所以目标是拥有一个`global TCP Client`，被所有触发 TCP 客户端函数的函数使用，例如`Connect/Disconnect/Send/Receive`.

有某种 apache 或`mod_wsgi`选项吗？我在 Windows 7 上运行相同的配置，一切正常。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T14:39:27.713

必须使用以下几行修改 apache httpd.conf： `WSGIDaemonProcess site-1 threads=15`

`WSGIProcessGroup site-1`

基本上 django 在多个进程和线程中运行。为了使全局 TCP 客户端线程安全，锁定对象`threading.Lock()`很有帮助。还创建了 TcpClient 作为单例，以防万一。

# c# - 将日期时间从 json 转换为可读格式

> ID：12419405
> 
> 赞同：0
> 
> 时间：2012-09-14T06:45:36.520
> 
> 标签：c#, javascript, jquery, asp.net-mvc, json

除了在视图上呈现为的其他属性 DateTime 属性之外，我还得到了

```
/Date(1346997005000)/ 
```

我应该将其转换为 dd.mm.yy 的可读格式

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T07:09:01.540

```
var dateString = "/Date(1346997005000)/";
var dx = new Date(parseInt(dateString.substr(6)));

var dd = dx.getDate();
var mm = dx.getMonth() + 1;
var yy = dx.getFullYear();

if (dd <= 9) {
    dd = "0" + dd;
}

if (mm <= 9) {
    mm = "0" + mm;
}

var displayDate = dd + "." + mm + "." + yy; 
```

使用显示日期。如果您可以访问众多 JavaScript 日期库之一（例如 Moment.js），您应该能够将 dx 传递给一个函数并使用一行代码获取显示字符串。那将是一个更好的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:01:49.163

您的时间戳已经以毫秒为单位，因此只需像这样将其传递给日期构造函数即可将其转换为 Date 对象。

```
var d = new Date(unixtimestamp) 
```

然后，您可以使用 Date API 来获取部分日期。

# ios - 九个补丁图像正在 iPhone 应用程序上运行

> ID：12419414
> 
> 赞同：-1
> 
> 时间：2012-09-14T06:46:05.477
> 
> 标签：ios, nine-patch

我正在制作我的一个 iOS 应用程序，我想使用九个补丁类型的图像所以这里我的问题是 iOS 是否支持九个补丁图像？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:39:52.553

我想你正在寻找`- (UIImage *)resizableImageWithCapInsets:(UIEdgeInsets)capInsets`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-07-18T10:35:37.693

使用以下代码并根据您的要求指定插入间距。

```
 UIImage * ninePatchImage = [UIImage imageNamed:@"image.png"];
imageView.image = [ninePatchImage resizableImageWithCapInsets:UIEdgeInsetsMake(30, 30, 30, 30) resizingMode:UIImageResizingModeTile]; 
```

它的工作原理与android的九个补丁图像相同

# android - 使用接收器通知同一活动中的网络状态

> ID：12419418
> 
> 赞同：0
> 
> 时间：2012-09-14T06:46:19.873
> 
> 标签：android

我正在使用谷歌聊天应用程序

聊天时如果网络出现故障，我必须通知用户网络断开连接，如果网络再次连接，我必须通知网络连接在同一个活动中。但没有解决

以下是我编写的代码：

```
public class GTChat extends ListActivity

 {

public void onCreate(Bundle savedInstanceState) 

{

super.onCreate(savedInstanceState);

}

private BroadcastReceiver mConnReceiver = new BroadcastReceiver() 
{
   @Override

 public void onReceive(Context context, Intent intent)

 {

 boolean noConnectivity = intent.getBooleanExtra(ConnectivityManager.EXTRA_NO_CONNECTIVITY, false);

 NetworkInfo info = (NetworkInfo)intent.getParcelableExtra(ConnectivityManager.EXTRA_NETWORK_INFO); 

 if (info.getState().equals(NetworkInfo.State.CONNECTED)) 

    { 

 Toast.makeText(getApplicationContext(), "Network connected",Toast.LENGTH_LONG).show();

   } 

else
{
    Toast.makeText(getApplicationContext(), "Network not connected",Toast.LENGTH_LONG).show(); 

  }

   }

};

protected void onPause()

{

unregisterReceiver(mConnReceiver); 

super.onPause();

}

protected void onResume()

{

registerReceiver(mConnReceiver, new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION));

super.onResume();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:24:25.423

在注册/注销接收器之前调用 super.onResume()/super.onPause()。

```
 protected void onPause()
    {
        super.onPause();
        unregisterReceiver(mConnReceiver); 
    }

    protected void onResume()
    { 
    super.onResume();
    registerReceiver(mConnReceiver, new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION));

    } 
```

# mysql - 从 2 个 mySQL 数据库到 1 个

> ID：12419421
> 
> 赞同：1
> 
> 时间：2012-09-14T06:46:41.323
> 
> 标签：mysql, sql, insert

我有两个要合并的数据库。
我有两个在两个数据库中完全相同的值。
It's `id`&`id_p`
第一个数据库被称为：`locatie`
and has：`ID, latitude, longitude, timestamp`
另一个数据库被称为：`persooninfo`
and has`id_p, voornaam, achternaam, opleiding, diploma, bezig`
有谁知道我可以如何组合这两个数据库？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T06:52:13.930

--获取定位表中的所有列

```
select l.* from   locatie l
join   persooninfo p
on     l.id=p.id_p 
```

--从personinfo表中获取所有列

```
select l.* from   locatie l
join   persooninfo p
on     l.id=p.id_p 
```

----从personinfo和locate表中获取所有列

```
select * from   locatie l
join   persooninfo p
on     l.id=p.id_p 
```

# javascript - 使用 Native Sockets 在 Android 中实现 WebSockets

> ID：12419422
> 
> 赞同：1
> 
> 时间：2012-09-14T06:46:44.350
> 
> 标签：javascript, android, sockets, websocket

我的 Android 应用程序的 webkit 容器中有一个 JavaScript 代码。此代码使用 WebSockets 与服务器通信。相同的 JS 代码适用于其他平台，例如 iOS，但在 Android 2.3 中则不行。我在某处读到 Android 中的 webkit 不支持 WebSockets，并且支持只会出现在 Jelly Bean 之后。

鉴于此，我需要使用普通套接字从本机层（在 Java 中）提供一个包装器。从我对套接字的了解来看，支持常用的 API 似乎很简单，例如 open()、send()、receive() 等。

我还需要知道 WebSocket 协议需要什么，我需要从包装代码中提供吗？毕竟，服务器与客户端（我的 android 应用程序）对话，就好像它是一个 WebSocket，而不是一个原生套接字。

需要考虑的一些注意事项：a）我不能使用任何第三方库 - 它必须在内部开发。b) 不会有任何二进制数据传输；只有文字。

谢谢，
拉贾特

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T08:30:05.133

Websockets 不是原始套接字，它们需要初始握手，然后是简单的每个消息框架。有关详细信息，请参阅[协议规范](https://www.rfc-editor.org/rfc/rfc6455)。关于[握手](https://www.rfc-editor.org/rfc/rfc6455#section-4)和[数据框架](https://www.rfc-editor.org/rfc/rfc6455#section-5)的部分将是最相关的。

我知道您说过您不能使用第三方库，但请注意[Java-Websocket](https://github.com/TooTallNate/Java-WebSocket)之类的项目可能对您很感兴趣。它获得了[自由许可](https://github.com/TooTallNate/Java-WebSocket/blob/master/LICENSE)，因此适合包含在任何封闭源代码应用程序中。或者您可能会发现它在调试您自己的代码时作为参考很有用。

# python - Python os.isfile 断言失败

> ID：12419423
> 
> 赞同：0
> 
> 时间：2012-09-14T06:46:48.997
> 
> 标签：python

所以我在打开文件进行读取时遇到问题，所以我决定尝试一个 os.isfile 断言：

```
from Android_API_Parser import Android_API_Parser
import os.path

assert os.path.isfile("D:\Work\Python Workspace\Android_API_Parser\test.txt")

tester = Android_API_Parser()
tester.setFile("test.txt")
tester.parse() 
```

它没有通过断言：

```
Traceback (most recent call last):
    File "D:\Work\Python Workspace\Android_API_Parser\src\Android_API_Tester.py", line         
    9, in <module>
assert os.path.isfile("D:\Work\Python Workspace\Android_API_Parser\test.txt")
AssertionError 
```

我已经打开了我要打开的文件的路径并将其粘贴在下面：

```
D:\Work\Python Workspace\Android_API_Parser\test.txt 
```

关于为什么它甚至未能通过断言的任何想法？除非我真的很累，否则文件显然位于那里。我什至尝试使用“/”和“\”，即使包含转义字符。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T06:50:27.007

在[字符串文字](http://docs.python.org/reference/lexical_analysis.html#string-literals)中，您必须使用另一个反斜杠转义反斜杠、使用*原始字符串*或使用正斜杠。否则，`"\t"`变为仅包含制表符的字符串。

尝试以下任何一种：

```
assert os.path.isfile("D:\\Work\\Python Workspace\\Android_API_Parser\\test.txt")
assert os.path.isfile(r"D:\Work\Python Workspace\Android_API_Parser\test.txt")
assert os.path.isfile("D:/Work/Python Workspace/Android_API_Parser/test.txt")
assert os.path.isfile(os.path.join("D:", "Work", "Python Workspace",
                                   "Android_API_Parser", "test.txt")) 
```

该文件也可能不是常规文件。用于[`os.path.exists`](http://docs.python.org/library/os.path.html#os.path.exists)查看是否存在。

您也可能没有足够的权限查看文件，或者您期望的文件名[可能是本地化](http://www.siao2.com/2007/01/18/1487464.aspx)的。要调试它，请运行：

```
path = ["Work", "Python Workspace", "Android_API_Parser", "test.txt"]
f = 'D:'
for p in path:
  f = os.path.join(f, p)
  print(f)
  assert os.path.exists(f)
assert os.path.isfile(f) 
```

# php - 电子邮件不发送在 php 为什么

> ID：12419429
> 
> 赞同：0
> 
> 时间：2012-09-14T06:47:21.980
> 
> 标签：php, email, sendmail

嗨我已经创建了一个页面联系我们但它不起作用为什么我错了

请帮助我

**联系页面代码**

```
 <?php
if(isset($_POST['email'])) {

    // EDIT THE 2 LINES BELOW AS REQUIRED
    $email_to = "azadrohit@gmail.com";
    $email_subject = "Your email subject line";

    function died($error) {
        // your error code can go here
        echo "We are very sorry, but there were error(s) found with the form you submitted. ";
        echo "These errors appear below.<br /><br />";
        echo $error."<br /><br />";
        echo "Please go back and fix these errors.<br /><br />";
        die();
    }

    // validation expected data exists
    if(!isset($_POST['user_name']) ||
        !isset($_POST['contact_no']) ||
        !isset($_POST['contact_email_id']) ||
        !isset($_POST['city']) ||
        !isset($_POST['project']) ||
        !isset($_POST['local_property']) ||
        !isset($_POST['user_query'])) {
        died('We are sorry, but there appears to be a problem with the form you submitted.');      
    }

    $user_name = $_POST['user_name']; // required
    $contact_no = $_POST['contact_no']; // required
    $email_from = $_POST['contact_email_id']; // required
    $city = $_POST['city']; // not required
    $project = $_POST['project']; // not required
    $local_property = $_POST['local_property']; // not required
    $user_query = $_POST['user_query']; // required

    $error_message = "";
    $email_exp = '/^[A-Za-z0-9._%-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/';
  if(!preg_match($email_exp,$email_from)) {
    $error_message .= 'The Email Address you entered does not appear to be valid.<br />';
  }
    $string_exp = "/^[A-Za-z .'-]+$/";
  if(!preg_match($string_exp,$user_name)) {
    $error_message .= 'The Name you entered does not appear to be valid.<br />';
  }
  if(!preg_match($string_exp,$contact_no)) {
    $error_message .= 'The Contact Number you entered does not appear to be valid.<br />';
  }
  if(strlen($user_query) < 2) {
    $error_message .= 'The Comments you entered do not appear to be valid.<br />';
  }
  if(strlen($error_message) > 0) {
    died($error_message);
  }
    $email_message = "Form details below.\n\n";

    function clean_string($string) {
      $bad = array("content-type","bcc:","to:","cc:","href");
      return str_replace($bad,"",$string);
    }

    $email_message .= "User Name: ".clean_string($user_name)."\n";
    $email_message .= "Contact No: ".clean_string($contact_no)."\n";
    $email_message .= "Email: ".clean_string($email_from)."\n";
    $email_message .= "City: ".clean_string($city)."\n";
    $email_message .= "Project: ".clean_string($project)."\n";
    $email_message .= "Local Property: ".clean_string($local_property)."\n";
    $email_message .= "User Query: ".clean_string($user_query)."\n";

// create email headers
$headers = 'From: '.$email_from."\r\n".
'Reply-To: '.$email_from."\r\n" .
'X-Mailer: PHP/' . phpversion();
@mail($email_to, $email_subject, $email_message, $headers); 
?>

<!-- include your own success html here -->

Thank you for contacting us. We will be in touch with you very soon.

<?php
}
?> 
```

**html代码**

```
<div class="contact_form">
    <p>Quick Contact</p>
    <form action="contactus.php" method="post" name="contactform">
        <label><span>name:-</span> <input type="text" name="user_name"></label>
        <label><span>contact no:-</span> <input type="text" name="contact_no"></label>
        <label><span>email id:-</span> <input type="text" name="contact_email_id"></label>
        <label><span>city:-</span> <input type="text" name="city"></label>
        <label><span>projects:-</span> <input type="text" name="project"></label>
        <label><span>local property:-</span> <input type="text" name="local_property"></label>
        <label><span>query:-</span> <textarea row="" cols="" name="user_query"></textarea></label>
        <input type="submit" value="submit">
    </form>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T06:50:30.137

将此添加到您的代码中...

```
 $headers = "From: \"$from_name\" <$from_mail>\r\n";
$headers .= "MIME-Version: 1.0\r\n";
$headers .= "Content-Type: text/plain; charset=\"utf-8\"\r\n";
$headers .= "Content-Transfer-Encoding: 7bit\r\n"; 
```

# jquery - 防止/删除环岛中 li 元素上的点击事件

> ID：12419434
> 
> 赞同：0
> 
> 时间：2012-09-14T06:47:37.690
> 
> 标签：jquery, animation

我正在玩`jQuery`回旋处，非常喜欢它。

但是我想知道是否有人知道如何删除/防止元素`click`上的事件，`li`以便它只会在单击按钮时移动？

我在 API 中找不到任何关于此的内容`roundabouts`，也无法在网上找到类似的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-07T17:56:01.660

`jQuery('#carousel1').roundabout({clickToFocus: false});`

:)

# cordova - 其他位置的 Javascript

> ID：12419441
> 
> 赞同：0
> 
> 时间：2012-09-14T06:48:01.780
> 
> 标签：cordova, jquery-mobile

我正在制作一个 jQuery Mobile 和 Phonegap 应用程序。它在 Chrome、Safari 和 Firefox 上运行良好，但在 android 设备上却不行。我搜索了一下，我认为我的问题在于 .js 文件本地化在另一个文件夹中。它们似乎没有添加/加载到我的应用程序中。那个不起作用的例子：

```
 $('#contact_add').live('vclick', function(event) {
                $.showPageLoadingMsg;
                **clearContactStorage();**
                window.location.href = ('file:///C:/Users/add.html');
            }); 
```

这是头部定义：

```
<script src="file:///android_asset/www/js/clearStorage.js"></script> 
```

这是 .js 文件中的函数：

```
function clearContactStorage()
{
window.localStorage.setItem('uwagi', 'Uwagi...');
window.localStorage.setItem('idCustomerLabel', 'Kontrahent...');
console.log('Cleaning contactStorage');
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T06:51:52.473

我认为您需要更改 javascript 文件的来源：

改变：

```
<script src="file:///C:/Users/Praktykant/workspace/TopFirma/assets/www/js/clearStorage.js"></script> 
```

至：

```
<script src="./js/clearStorage.js"></script> 
```

您为源定义的路径必须考虑到您的文件夹`www`是根文件夹。

如果它不起作用，您可能需要将文件中定义的所有 javascript 函数传输`clearStorage.js`到 HTML 文件（在`<script>`标签中）

让我知道这个是否奏效

# prolog - 如何在 Prolog 中将列表转换为字符串？

> ID：12419442
> 
> 赞同：1
> 
> 时间：2012-09-14T06:48:05.777
> 
> 标签：prolog, swi-prolog

我有一个列表`L =[a+b,b+c]`，我想将其转换为字符串并打印输出`a+bb+c`。

你能帮我把这个列表转换成字符串吗？我尝试`atomic_list_concat`在 SWI-Prolog 中使用，但它给`a+b`.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T09:36:16.460

在 SWI-Prolog 中：

```
?- with_output_to(atom(Atom), maplist(write, [a+b, b+c])).
Atom = 'a+bb+c'. 
```

`write`如果您需要更多地控制术语（例如`a+b`）的编写方式，您可以调用自定义谓词来替换。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T09:09:32.900

您列表的成员是复合术语，因此您必须在调用之前使它们成为原子`atomic_list_concat`：

```
custom_print(L) :-
  maplist(term_to_atom, L, L1),
  atomic_list_concat(L1, L2),
  print(L2). 
```

# c - 如何使用 Visual Studio 调试 SQLite 源代码

> ID：12419443
> 
> 赞同：4
> 
> 时间：2012-09-14T06:48:19.863
> 
> 标签：c, visual-studio-2010, debugging, sqlite

我想调试一个从修改后的 SQLite 代码创建的 SQLite 数据库实例。当用户从数据库中选择一些数据时，我想单步执行 SQLite 源代码，看看 SQLite 的逻辑是什么。这样做的目的是我想看看我是否可以在 SQLite 源代码中添加一个 SELECT 触发器，并在其中创建一个带有我的新型触发器的 SQLite 数据库。目前 SQLite 仅支持 UPDATE、INSERT 和 DELETE 触发器。

到目前为止，我已经从[http://www.sqlite.org/index.html](http://www.sqlite.org/index.html)下载了“合并”SQLite 源代码并设法在 Visual Studio 2010 中构建它。但是我不知道如何对其进行调试。我尝试创建一个使用 SQLite 项目作为项目参考的测试 C# Web 应用程序 - 但它不允许我将其添加为参考（引发错误说“无法添加对 'mySQLiteproj' 的引用”，这太棒了有用）。我当前的结构只是一个空的 C 项目，其中包含 sqlite3.c 和 sqlite3.h 文件。

SQLite 代码是用 C 编写的，我不熟悉，所以也许我完全走错了路？我来自 C# 背景，所以请不要建议我使用 Visual Studio 报废，而是使用记事本或其他一些“硬核”IDE :)

简而言之：**如何调试 SQLite 源代码？**

**编辑：**我已按照 Sergey 的建议将 shell.c 文件添加到项目中，现在可以“进行”调试。它会在 shell.c 中打断点，但不会在 sqlite3.c 中打断。我可以作为 shell.c 的函数调用进入 sqlite3.c，但这些行似乎与正在运行的代码不匹配。一半的行是灰色的（也许是 resharper？）并且没有变量的自动监视或代码当前正在中断的行的突出显示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:41:08.590

要调试以您“不熟悉”的语言编写的库代码，最好从头开始。

这里的算法：

1.  学习语言 (C)
2.  了解您的工具（Visual Studio 中的调试器）
3.  了解目标（SQLite - 是为其他人提供 API 的库，因此您需要在 SQLite API 上设置断点，例如 sqlite3_open() 和 Visual Studio 中的“运行”shell.c 源文件）

我[为 SQLite 合并创建了基于 cmake 的构建，](http://github.com/snikulov/sqlite.cmake.build)因此您可以生成 Visual Studio 解决方案，将其构建为调试目标，然后进行调试。希望它会有用。

# java - 使用 Java 开发 Excel 报表

> ID：12419444
> 
> 赞同：-1
> 
> 时间：2012-09-14T06:48:23.007
> 
> 标签：java, excel, jakarta-ee, report, reporting

> **可能重复：**
> [以编程方式生成 excel 文档](https://stackoverflow.com/questions/1074630/generating-excel-documents-programmatically)

我想使用 Java/J2EE 生成 excel 报告。任何人都可以让 mw 知道哪个是最好的开源 API，它简单易用。

如果有人可以向我提供示例程序的链接，那就太好了。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T06:51:00.290

您可以尝试使用 Apache POI。他们的[网页上](http://poi.apache.org/spreadsheet/examples.html)有示例。[在这里](http://poi.apache.org/)查看他们的网站。

# javascript - 从页面中删除 iframe

> ID：12419445
> 
> 赞同：8
> 
> 时间：2012-09-14T06:48:24.133
> 
> 标签：javascript, iframe

我正在动态创建一个 iframe 以提交表单，提交后我需要删除页面的 iframe 表单。我删除它如下但它没有被删除，

```
function remove(){
 var frame = document.getElementById("upload_iframe"),
 var frameDoc = frame.contentDocument || frame.contentWindow.document;
 frameDoc.removeChild(frameDoc.documentElement);
} 
```

如何从表单中完全删除 ifarme。

谢谢

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-14T06:54:49.717

框架有两种行为：框架作为文档元素（如 div 或另一个 DOM 元素）和框架作为窗口元素（如全局`window`对象）。因此，如果您想从 DOM 树中删除 iframe，您必须像使用 DOM 元素一样使用 iframe

```
function remove(){
 var frame = document.getElementById("upload_iframe");
 frame.parentNode.removeChild(frame);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-07-28T17:04:46.113

我一直在做的一种方式（因为我有大量的 iframe）是使用 jQuery，

```
$('iframe').remove() 
```

或者在只有一个 iframe 的情况下，您可以使用其 ID 将其删除，仍然使用 jQuery

```
$('#iframeID').remove() 
```

# java - 如何将多个记录从一个活动传递到android中的另一个活动？

> ID：12419452
> 
> 赞同：0
> 
> 时间：2012-09-14T06:49:07.897
> 
> 标签：java, android, vector, arraylist

例如，我必须通过以下方式传递 2 名学生的姓名和卷号，abc 12 xyz 13

谁能建议我应该如何实施？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:01:57.873

像这样创建一个字符串数组：

```
Strings sa[] = new String[n];
for(int i = 0; i < n i++)
{
//name and rollNo are the Arrays of student names and roll nos you have
sa[i] = add(name[i] + "," + rollNo[i]);
}
Intent intent = new Intent(CurrentActivity.this, NextActivity.class);
intent.putExtra("StudentDetails", sa);
startActivity(intent); 
```

在 NextActivity 中：

```
String[] studentDetails = this.getIntent().getStringArrayExtra("StudentDetails"); 
```

并在您想要的项目上使用名称和卷号，例如：

```
String student1 = studentDetails[0].split(",")
String student1Name = student1[0];
int student1RollNo = Integer.parseInt(student1[0]); 
```

最简单的方法是给出 2 个数组，1 个用于名称，1 个用于卷号，并将它们与相同的索引一起使用

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-14T07:47:02.387

创建一个类并使其实现 Serializable import java.io.Serializable;

```
public class Record implements Serializable{

String name,rollNum;

public Record(String name, String rollNum) {
    super();
    this.name = name;
    this.rollNum= rollNum;
}

public String getName() {
    return name;
}

public void setName(String name) {
    this.name = name;
}

public String getRollNum() {
    return rollNum;
}

public void setRollNum(String rollNum) {
    this.rollNum = rollNum;
}   

} 
```

现在，当您需要将数据传递给其他活动时，只需创建一个数组或 arrayList(coll_of_records) 并向它们添加新记录。添加记录后，使用

```
Intent intent = new Intent(Current_Activity.this, New_Activity.class);
intent.putExtra("xyz", coll_of_records);
startActivity(intent); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T07:05:23.560

你这样做。当您创建启动新活动的意图时，您可以在开始之前向它发送“额外”

```
Intent myIntent;
int aInt = 10;
String aString = "a text";

myIntent = new Intent(view.getContext(),NewActivity.class);
myIntent.putExtra("My Integer Value", aInt);
myIntent.putExtra("My String Value", aString);              

startActivity(myIntent); 
```

然后在新活动中，您获取如下值

```
int aInt;
String aString;

aInt = getIntent().getExtras().getInt("My Integer Value");
aString = getIntent().getExtras().getString("My String Value"); 
```

在这里，我使用了长名称“我的整数值”来向您展示如何做到这一点。这是传递值的 id，因此请保持简单和逻辑，例如在您的情况下 passnum 和 rollnum。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-14T07:08:58.180

根据您的字段创建班级学生并将名称，编号设置为对象...

在（学生）对象的数组列表中添加所有对象，并通过意图发送对象的数组列表。

对于这种方式，您将多条记录发送到另一个活动......

请参考与您的问题相同的以下链接...

[帮助传递 ArrayList 和 parcelable Activity](https://stackoverflow.com/questions/5819238/help-with-passing-arraylist-and-parcelable-activity)

# jquery - JQuery - 自动推进无线电输入“检查”

> ID：12419455
> 
> 赞同：2
> 
> 时间：2012-09-14T06:49:16.883
> 
> 标签：jquery, css

我想知道是否有人新如何自动推进无线电输入？基本上检查一台收音机，然后每隔一段时间检查下一台收音机，等等。

这真的让我很生气。这是我到目前为止所拥有的。

```
$("#image_box > :input:gt(0)").attr("checked",true);
    setInterval(function() {
        $("#image_box > :input:first")
            .next()
            .end()
            .append().attr("checked",true);
        },  3000); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T06:54:04.450

试试这个。每秒钟它都会检查下一个收音机。

```
var $radios = $('input[type=radio]');
$radios.each(function(i, e) {
  setTimeout(function(){
    $(e).prop('checked', true);
  }, 1000 * i);
}); 
```

**演示：http:** [//jsbin.com/oqubis/1/edit](http://jsbin.com/oqubis/1/edit)

# c# - How can I read a file from a c# project using a c dll?

> ID：12419467
> 
> 赞同：1
> 
> 时间：2012-09-14T06:50:10.460
> 
> 标签：c#, c, visual-studio-2010, dll

Been searching high and low for this one and can't seem to figure it out.

So I'm making a web application in visual studio using c# project. There is another project in my solution, it's a c project that compiles to dll. I've gotten to the point where I can pass information between the two and it's working right.

In my application, the user uploads a file and it is saved to the file system in an "includes" folder. The dll (compiled from c code I got from an sdk) is supposed to read in that file and decode it. The dll project works fine when I compile it as an exe and send it a file path.

My question is, how can I get the DLL (now in the bin folder) to skip back a directory and grab this file? I've tried just hardcoding the file path into the c code but it doesn't work.

```
FILE *fp;
bool isWorking = false
if(fp = fopen("../Include/testFile.fit", "r"))
    isWorking = true 
```

I've also tried just writing to a text file from the DLL, hoping to find where it pops out and use that directory as a reference but the c code isn't creating and saving a file at all in that case.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T09:10:23.760

The position of the DLL file in the file system is not important. The important part is where the resulting binary is run and what it sees as its current working directory.

If your C# program uses the DLL, the code in the DLL will be run with the same current working directory as the C# program (unless you change it in the code in your DLL).

So, you should try to load your file in the same way, with regards to path, as if you were to load it from your C# program.

# c# - 如何启动 Azure 辅助角色并将客户端重定向到它们

> ID：12419479
> 
> 赞同：0
> 
> 时间：2012-09-14T06:50:51.747
> 
> 标签：c#, .net-4.0, azure, load-balancing

我正在开发在 Azure 云上运行的游戏服务器，但遇到了一些障碍。游戏本身基于一系列世界，每个世界都以不同的工人角色运行并具有单独的地形数据。但是，我不知道如何使我用于管理这些世界的主要工作角色来启动世界角色并配置它们以加载正确的地图。我也不知道如何确保客户端连接到请求的世界而不是随机的其他世界。

如果有人可以将我链接到正确的 API 来执行此操作，我将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T08:33:11.150

在您的解决方案中，您可以创建多个工作角色并为每个角色创建一个具有特定端口的端点（同一端口不能用于不同的角色）。请注意，我使用输入端点来平衡端点负载。

```
<?xml version="1.0" encoding="utf-8"?>
<ServiceDefinition name="CloudPathDemo" xmlns="http://schemas.microsoft.com/ServiceHosting/2008/10/ServiceDefinition" schemaVersion="2012-05.1.7">
  <WorkerRole name="WorkerMainWorld" vmsize="Small">
    <Imports>
      <Import moduleName="Diagnostics" />
    </Imports>
    <Endpoints>
      <InputEndpoint name="Endpoint1" protocol="tcp" port="50000" />
    </Endpoints>
  </WorkerRole>
  <WorkerRole name="WorkerWorld1" vmsize="Small">
    <Imports>
      <Import moduleName="Diagnostics" />
    </Imports>
    <Endpoints>
      <InputEndpoint name="Endpoint1" protocol="tcp" port="50001" />
    </Endpoints>
  </WorkerRole>
  <WorkerRole name="WorkerWorld2" vmsize="Small">
    <Imports>
      <Import moduleName="Diagnostics" />
    </Imports>
    <Endpoints>
      <InputEndpoint name="Endpoint1" protocol="tcp" port="50002" />
    </Endpoints>
  </WorkerRole>
  <WorkerRole name="WorkerWorld3" vmsize="Small">
    <Imports>
      <Import moduleName="Diagnostics" />
    </Imports>
    <Endpoints>
      <InputEndpoint name="Endpoint1" protocol="tcp" port="50003" />
    </Endpoints>
  </WorkerRole>
</ServiceDefinition> 
```

现在，如果您希望您的客户端或您的“主要”工作者角色连接到世界 3，例如，您可以将 tcp 请求发送到**mygame.cloudapp.net:50003**。

如果您想让“地形管理”以某种方式动态化，您可以使用[主题和订阅](https://www.windowsazure.com/en-us/develop/net/how-to-guides/service-bus-topics/)。假设每个 WorkerRole 有 1 个主题，每个实例是 1 个订阅。然后，您可以向特定主题发送一条消息，说明应该在该 WorkerRole 上配置哪些世界，并且该 WorkerRole 的每个实例都将接收该消息并进行必要的配置。当然，您需要考虑到以后可能会添加实例（当您扩大规模时），因此这些实例还需要知道应该配置哪些世界（通过从示例中读取表存储中的列表）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T12:44:36.130

我的建议是创建一个主/控制器，它是世界的端点（如果你愿意，可以代理）。所有连接都到达它，然后将它们直接路由到后端世界特定的服务器。这个连接可能非常细（一旦建立连接，我认为只是一个 IP 隧道），所以它不会增加太多延迟。

现在这种方法有几个问题。

代理只能处理有限数量的活动连接。因此，您必须有一种方法来监控这一点并将流量路由到辅助代理/中继。Windows Azure 的内置负载平衡器应该可以很好地做到这一点，您只需要监控活动连接并使用该信息来控制您的扩展行为。

此外，空闲连接将被 Windows Azure 负载平衡器终止，因此您的代理需要能够检测到连接何时被终止，以便它可以释放这些资源来为另一个连接提供服务。

这种方法的好处是，如果您的世界服务器离线或移动（它们将在某个时候移动），代理可以检测工作负载移动的位置并相应地转移连接，使您的外部用户看起来.

现在还有另一种方法可以解决所有这些问题。Windows Azure 服务总线中继。每个“世界”服务器在服务总线上都有自己的端点，当客户端请求连接时，它会到达控制“代理”并为其请求的服务器获取端点。您可以通过启用混合连接更进一步，这将鼓励客户端和服务器协商直接连接，从而减少任何中继延迟。并且服务总线端点，因为它是一个发布的位置，解决了机器特定可寻址性的任何问题。

# objective-c - 键盘如何隐藏

> ID：12419482
> 
> 赞同：0
> 
> 时间：2012-09-14T06:51:06.347
> 
> 标签：objective-c, ios, uitextfield

我有一个带有一些 UITextField 的 UIView，但是当我点击它们时，我无法隐藏键盘，并且“发送”按钮位于键盘后面：

![在此处输入图像描述](../Images/f72ec4199cb0ada6af553f4978f3f293.png)

我该如何隐藏它？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T06:54:36.300

在您的代码中添加 UITextField 的委托方法。不要忘记设置委托。只要按下键盘返回键，就会调用下面的方法。还要设置它的代表：

```
 - (BOOL)textFieldShouldReturn:(UITextField *)textField
 {
     [textField resignFirstResponder];
     return YES;
 } 
```

**编辑**：一旦专注于 textField 并专注于其他文本字段，该文本字段将不会辞职，所以这样做，因为我从最顶层假设你有 textField1、textField2、textField3、textField4，如果有的话......添加这个委托方法。

```
 - (BOOL)textFieldShouldBeginEditing:(UITextField *)textField
  {
     if(textField == textField1)  //motive resign other textFields
     {
         [textField2 resignFirstResponder];
         [textField3 resignFirstResponder];
         [textField4 resignFirstResponder];
     }
     else if(textField == textField2)  //motive resign other textFields
     {
         [textField1 resignFirstResponder];
         [textField3 resignFirstResponder];
         [textField4 resignFirstResponder];
     }
     else if(textField == textField3)  //motive resign other textFields
     {
         [textField1 resignFirstResponder];
         [textField2 resignFirstResponder];
         [textField4 resignFirstResponder];
     }
     else if(textField == textField4)  //motive resign other textFields
     {
         [textField1 resignFirstResponder];
         [textField2 resignFirstResponder];
         [textField3 resignFirstResponder];
     }
     return YES;
  } 
```

**编辑**你也可以使用它：

```
 - (BOOL)textFieldShouldBeginEditing:(UITextField *)textField
  {
     [self.view endEditing:YES];
     return YES;
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T08:33:20.167

我使用此代码，当您点击视图中的任何位置时，此事件就会运行，并且您不依赖于 textFields 事件：

```
- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {

UITouch *touch = [[event allTouches] anyObject];

if ([textField1 isFirstResponder] && [touch view] != textField1) {
    [textField1 resignFirstResponder];
}

if ([textField2 isFirstResponder] && [touch view] != textField2) {
    [textField2 resignFirstResponder];
}

...

[super touchesBegan:touches withEvent:event]; 
```

}

# c# - 使用处理程序重定向页面？

> ID：12419485
> 
> 赞同：0
> 
> 时间：2012-09-14T06:51:09.737
> 
> 标签：c#, asp.net

当会话未在 asp.net 处理程序中填写时，如何重定向页面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T06:54:56.423

将以下类添加到 app_code（站点根目录）

```
Imports Microsoft.VisualBasic

Public Class SecurityCrm
    Implements IHttpModule

Public Sub Dispose() Implements System.Web.IHttpModule.Dispose

End Sub

Public Sub Init(ByVal context As System.Web.HttpApplication) Implements System.Web.IHttpModule.Init
    AddHandler context.BeginRequest, AddressOf FirstTest
End Sub

Private Sub FirstTest(ByVal sender As Object, ByVal e As EventArgs)

    Dim app As HttpApplication
    app = CType(sender, HttpApplication)

        Dim cookie As HttpCookie ' Replace with Session Object

        cookie = app.Request.Cookies("username") ' Replace with your Session

        If cookie Is Nothing Then
            app.Response.redirect("/Cms/LoginSystem/login.asp?u=" & app.Request.Url.AbsolutePath)
            app.Response.end()
        Else
            'app.Response.write("Cookie: " & cookie.value)
        End If

End Sub 
```

结束类

然后在 web.config 中注册它。

```
 <httpModules>
    <add type="SecurityCrm" name="SecurityCrm.app_code" />
  </httpModules> 
```

# audio - C++ 中的音频播放控制

> ID：12419487
> 
> 赞同：1
> 
> 时间：2012-09-14T06:51:13.393
> 
> 标签：audio, controls, sync, playback

我正在做一个项目，该项目需要我将音频播放（最好是 mp3 文件）与我的程序同步。我的程序从 txt 文件中读取运动文件，并以特定速率将其输出到串行端口。同时，必须在扬声器上播放音频文件。该音频文件必须与数据同步。也就是说，在传输 100 个字节的数据之后，音频必须播放到预定义的时间。

像这样播放和控制音频的工具是什么？一个教程会很棒！

谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T02:04:45.257

通常，在处理音频时，您希望将其他源同步到音频。这有几个原因，但最重要的是音频在其自己的硬件上运行的时钟上运行。您必须从该时钟获取时间信息。这里有一个使用 portaudio 的指南，但这些原则适用于其他情况：

[http://www.portaudio.com/docs/portaudio_sync_acmc2003.pdf](http://www.portaudio.com/docs/portaudio_sync_acmc2003.pdf)

# c# - 如何在控件上捕获事件鼠标按住？

> ID：12419489
> 
> 赞同：4
> 
> 时间：2012-09-14T06:51:30.840
> 
> 标签：c#

我想捕捉用户在 C# 控件上单击并按住鼠标的事件。

我在 MSDN 上阅读过，我只看到事件 Mouse Down，Mouse Up，......但没有 Move Hold 事件。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-14T06:57:16.207

您需要使用mentinoed 事件，它们之间有一些计时器。

例子：

*   鼠标按下
    *   启动定时器
*   鼠标向上
    *   禁用定时器

如果用户持有的时间超过计时器时间 - 调用您的事件处理程序，当 mouseUp 发生得比计时器快时 - 禁用运行的计时器。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2015-08-30T21:52:52.173

首先，您应该使用秒表来检测您想要的时间。

```
using System.Diagnostics; 
```

其次，定义一个秒表类的全局实例。

```
Stopwatch s = new Stopwatch(); 
```

这是您应该使用的第一个事件：

```
private void controlName_MouseDown(object sender, MouseEventArgs e)
{
    s.Start();
} 
```

这是您应该使用的第二个事件：

```
private void controlName_MouseUp(object sender, MouseEventArgs e)
{
    s.Stop();
    //determine time you want . but take attention it's in millisecond
    if (s.ElapsedMilliseconds <= 700 && s.ElapsedMilliseconds >= 200)
    {
        //you code here.
    }           
    s.Reset();           
} 
```

# android - 在完成（）之后活动仍然继续；

> ID：12419496
> 
> 赞同：5
> 
> 时间：2012-09-14T06:52:10.590
> 
> 标签：android, android-activity, kill-process

我有一个测验应用程序，它有一个用于整个游戏活动的计时器，您应该在指定的几分钟内回答尽可能多的问题。

指定的分钟结束后，它将带您进入显示您分数的结果活动。在后按时，我创建了一个警告对话框，询问您是否要返回主菜单。如果单击“是”，页面应返回主菜单并停止/终止游戏活动。

但是，当我单击“是”时，它会返回主菜单，但是当您仍在应用程序中的任何位置时，结果仍会从我之前的游戏活动中显示出来。也许我还没有真正完成游戏活动，.. 这是我活动中的计时器和后按片段：

```
new CountDownTimer(seconds, 1000) {
    public void onTick(long millisUntilFinished) {
             timer.setText("Seconds left: " + millisUntilFinished / 1000);
    }   
    public void onFinish() {
             Intent intent = new Intent(GameActivityAddition.this, Score.class);
             intent.putExtra("totalscore", score);
             intent.putExtra("numberquestions", rowId);
             intent.putExtra("d", difficulty);
             db.close();
             startActivity(intent);
    }
}.start();

@Override
public void onBackPressed() {
    AlertDialog.Builder abuilder = new Builder(GameActivityAddition.this);
    abuilder.setMessage("Return to Main Menu?");
    abuilder.setPositiveButton("Yes", new DialogInterface.OnClickListener() {

        public void onClick(DialogInterface dialog, int which) {
            Intent main = new Intent(GameActivityAddition.this, Main.class);
            startActivity(main);
            finish();           
        }
    });
    abuilder.setNegativeButton("No", new DialogInterface.OnClickListener() {

        public void onClick(DialogInterface dialog, int which) {
            dialog.cancel();            
        }
    });
    AlertDialog alert = abuilder.create();
    alert.show();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:11:13.300

无法保证 finish() 会立即关闭您当前的活动（取决于 Android。）

为了解决你的问题，试试这个，

保持对计时器的引用（当用户离开当前活动时，您将使用它来取消计时器），

```
CountDownTimer resultTimer = new CountDownTimer(seconds, 1000) {
    public void onTick(long millisUntilFinished) {
             timer.setText("Seconds left: " + millisUntilFinished / 1000);
    }   
    public void onFinish() {
             Intent intent = new Intent(GameActivityAddition.this, Score.class);
             intent.putExtra("totalscore", score);
             intent.putExtra("numberquestions", rowId);
             intent.putExtra("d", difficulty);
             db.close();
             startActivity(intent);
    }
}.start(); 
```

并在 onBackPressed() - 取消 setPositiveButton 回调中的计时器，

```
@Override
public void onBackPressed() {
    AlertDialog.Builder abuilder = new Builder(GameActivityAddition.this);
    abuilder.setMessage("Return to Main Menu?");
    abuilder.setPositiveButton("Yes", new DialogInterface.OnClickListener() {

        public void onClick(DialogInterface dialog, int which) {
            resultTimer.cancel(); //Stop the timer
            resultTimer = null;
            Intent main = new Intent(GameActivityAddition.this, Main.class);
            startActivity(main);
            finish();           
        }
    });
    abuilder.setNegativeButton("No", new DialogInterface.OnClickListener() {

        public void onClick(DialogInterface dialog, int which) {
            dialog.cancel();            
        }
    });
    AlertDialog alert = abuilder.create();
    alert.show();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T07:15:14.143

的属性`CountDownTimer`是，即使你完成了它继续倒计时的活动。如果您想停止这种情况，请输入`countTimerVar.cancel()`when you `finish()`and in `pressBackButton`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T07:12:35.430

从子活动结束父活动可以通过使用startActivityForResult启动子活动并实现onActivityResult来处理子活动返回的结果来实现。示例：从 ParentActivity，使用`startActivityForResult()`. 然后，设置一个结果，通知 ParentActivity 也完成。在 ChildActivity 中调用 finish() 。当 ParentActivity 从 ChildActivity 接收到该结果时， ParentActivity 也会对其自身调用 finish() 。在那里你可以开始另一个活动。

代码请参考：[http ://www.androidcompetencycenter.com/2009/03/tutorial-how-to-start-a-new-activity/](http://www.androidcompetencycenter.com/2009/03/tutorial-how-to-start-a-new-activity/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-01-22T13:39:45.727

另一种方法可能是在计时器内添加对 MyActivity.this.isFinishing() 的检查：

```
public void onTick(long millisUntilFinished) {
    try{
         if(!MyActivity.this.isFinishing() )
            timer.setText("Seconds left: " + millisUntilFinished / 1000);
         //else: dont do anything
    }catch(Exception e){e.printStackTrace();}
} 
```

对于 onFinish().. 也是如此。那么即使它没有被活动停止，计时器也不应该做任何事情。我还认为计时器会将活动保持一段时间，因此它可能只会进入 onPause 而不会进入 onDestroy 直到计时器结束。我有一个线程的情况，我中断线程不是在暂停而是在 onStop 并且它没有达到那个。因此，至少如果它对 UI 执行任何操作（例如设置文本），则大多数事情都应该在 onPause 上停止/中断。

# javascript - 如何在javascript中获取所有div？

> ID：12419503
> 
> 赞同：0
> 
> 时间：2012-09-14T06:53:02.007
> 
> 标签：javascript

```
<div class="web_index">
<div style="display:block" >content 1</div>
<div style="display:none">content 2</div>
<div style="display:none">content 3</div>
</div> 
```

我用了

```
 var div =document.getElementsByClass("web_index").getElementsByTagName("div"); 
```

它提示我。`TypeError: document.getElementsByClass is not a function`为什么，以及如何`div`在`web_index`div 中获取所有内容？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T06:55:17.320

`document.getElementsByClassName`不是`document.getElementsByClass`。_

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T06:58:51.567

正如它所说，没有这样的功能“getElementsByClass”。您可以做的是获取所有“div”并循环遍历它，将元素 className 与“web_index”进行比较。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T06:55:17.217

[按类名](https://developer.mozilla.org/en-US/docs/DOM/document.getElementsByClassName)

```
document.getElementsByClassName 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-14T06:55:21.007

也许

```
var div =document.getElementsByClassName("web_index")[0].getElementsByTagName("div"); 
```

`getElementsByClassName`在某些 Internet Explorer 版本中不存在，也许您需要创建该函数：

```
document.getElementsByClassName = function(cl) {
  var retnode = [];
  var elem = this.getElementsByTagName('*');
  for (var i = 0; i < elem.length; i++) {
    if((' ' + elem[i].className + ' ').indexOf(' ' + cl + ' ') > -1) retnode.push(elem[i]);
  }
  return retnode;
}; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-14T06:57:55.033

它的

```
var div = document.getElementsByClassName('web_index').getElementsByTagName("div"); 
```

或者你可以使用 javascript`querySelector()`函数

```
var div = document.querySelector('.web_index').getElementsByTagName("div"); 
```

# algorithm - SPOJ CCHESS（昂贵的国际象棋）

> ID：12419505
> 
> 赞同：0
> 
> 时间：2012-09-14T06:53:12.040
> 
> 标签：algorithm

我正在做一个问题 CCHESS，这里是问题的链接（[http://www.spoj.pl/problems/CCHESS/](http://www.spoj.pl/problems/CCHESS/)）。

问题如下：

在罗马这个国家，国际象棋是一种皇家游戏。对于每一个动作，玩家都必须给皇帝 Jurg 一些钱。LGM 或小绿人是非常优秀的国际象棋手。但是由于国际象棋是一种昂贵的游戏，这就是它是皇家的原因，他们要求你帮助他们找到将他们的骑士从一个位置移动到另一个位置所必须支付的最低费用。可以使用任意数量的步骤到达目的地。

约束：

国际象棋的尺寸为 8X8，左下单元格的索引为 (0, 0)。

骑士只能以标准方式移动，即 2 行 1 列或 1 行 2 列。

如果骑士一步从 (a, b) 移动到 (c, d)，那么 LGM 必须向皇帝 Jurg 支付 a*c + b*d 美元。

```
0 ≤ a, b, c, d ≤ 7 
```

输入

有 100-150 个测试用例。每个测试用例由四个空格分隔的整数组成。前两个数字 a、b 是骑士的起始位置，接下来的两个数字 c、d 是骑士的目的地。读到文件结尾。输出

对于每个测试用例，在单独的行中打印他们必须支付的最低金额。如果无法到达目的地，则打印-1。

例子

输入：

```
2 5 5 2
4 7 3 2
1 2 3 4 
```

输出：

42 78 18

测试用例 #1 的说明：2 5 5 2

用于将 Knight 从 (2, 5) 移动到 (5, 2)

```
in minimum cost,  one of the path is 

(2, 5) -> (3, 3) ->(5, 2) 
```

雄鹿支付：

```
(2, 5)              =  0
(2, 5) -> (3, 3) =  0 + (2*3 + 5*3) = 21
(3, 3) -> (5, 2) = 21 + (3*5 + 3*2) = 42 
```

超越无限...

我已经使用蛮力解决了这个问题，即递归检查所有可能的路径，但我认为我在某个地方找不到直接的方法，因为许多提交都是 0.00 ，而我的递归方法在 0.3s 被接受。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T08:31:55.817

```
Construct a graph G=(V,E) where 
V is the set of coordinates in the grid {v=(x,y)} 
E is the set of edges between vertices
Assign weights on the edges where weight is (v1.x * v2.x + v1.y*v2.y) 
Use Dijkstra's algorithm to find the shortest path (1 source - 1 destination)
source = (a,b) and destination = (c,d)
If there is no path report -1.

The number of vertices are limited to (8*8) = 64
The number of edges are limited to 64 * (8) = 512 
as the knight can move to at most 8 other coordinates from one place. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T08:34:05.537

尝试 A* 算法，使用 heuristic = manhattan_distance/3 。

# java-me - J2ME PIM 事件

> ID：12419507
> 
> 赞同：0
> 
> 时间：2012-09-14T06:53:21.760
> 
> 标签：java-me, midp, lcdui, jsr75, pim

我目前正在开发 J2ME 应用程序事件管理器。我正在使用 PIM，但我对此没有足够的了解。有人可以帮助我或给我有关如何设置显示，编辑和删除记录的参考吗？

这是我到目前为止所做的。

```
 import javax.microedition.midlet.MIDlet;
        import javax.microedition.lcdui.Displayable;
        import javax.microedition.lcdui.Display;
        import javax.microedition.lcdui.Form;
        import javax.microedition.lcdui.CommandListener;
        import javax.microedition.lcdui.TextField;
        import javax.microedition.lcdui.DateField;
        import javax.microedition.lcdui.Command;
        import javax.microedition.lcdui.Alert;

        import javax.microedition.pim.PIM;
        import javax.microedition.pim.PIMItem;
        import javax.microedition.pim.EventList;
        import javax.microedition.pim.Event;
        import javax.microedition.pim.PIMException;

        import java.util.Date;

        public class AddCalendarEvent extends MIDlet implements CommandListener {

            private Display display;
            private Form addEventForm;
            private Command cmdAddEvent;
            private Command cmdExit;
            private TextField summaryField;
            private DateField startDateField;
            private DateField endDateField;
            private TextField noteField;
            private TextField locationField;

            public AddCalendarEvent() {
                if(checkPIMSupport() == false) {
                    exitMIDlet();
                }

                initializeComponents();
            }

            public void initializeComponents() {
                display = Display.getDisplay(this);
                addEventForm = new Form("Add event");
                cmdAddEvent = new Command("Add event", Command.SCREEN, 0);
                addEventForm.addCommand(cmdAddEvent);

                cmdExit = new Command("Exit", Command.EXIT, 0);
                addEventForm.addCommand(cmdExit);

                addEventForm.setCommandListener(this);        

                try {
                    EventList eventList = (EventList)PIM.getInstance().openPIMList(
                            PIM.EVENT_LIST, PIM.READ_WRITE);
                    if(eventList.isSupportedField(Event.SUMMARY) == true) {
                        summaryField = new TextField("Summary", null, 20, 
                                                    TextField.ANY);
                        addEventForm.append(summaryField);
                    } else {
                        eventList.close();
                        throw new Exception("Summary field is not supported");
                    }

                    if(eventList.isSupportedField(Event.START) == true) {
                        startDateField = new DateField("Start date", 
                                                    DateField.DATE_TIME);
                        startDateField.setDate(new Date());
                        addEventForm.append(startDateField);
                    }

                    if(eventList.isSupportedField(Event.END) == true) {
                        endDateField = new DateField("End date", DateField.DATE_TIME);
                        endDateField.setDate(new Date());
                        addEventForm.append(endDateField);
                    }

                    if(eventList.isSupportedField(Event.NOTE) == true) {
                        noteField = new TextField("Note", null, 20, TextField.ANY);
                        addEventForm.append(noteField);
                    }

                    if(eventList.isSupportedField(Event.LOCATION) == true) {
                        locationField = new TextField("Location", null, 20, 
                                                    TextField.ANY);
                        addEventForm.append(locationField);
                    }            

                    eventList.close();

                } catch(PIMException pimExc) {
                }
                catch(SecurityException secExc) {

                }
                catch(Exception exc) {

                    exitMIDlet();
                }
            }

            private boolean checkPIMSupport() {
                String propValue = System.getProperty("microedition.pim.version");
                if(propValue != null) {
                    return true;
                } else {
                    return false;
                }
            }

            private void addEvent() {
                try {
                    EventList eventList = (EventList)PIM.getInstance().openPIMList(
                            PIM.EVENT_LIST, PIM.READ_WRITE);            

                    Event event = eventList.createEvent();

                    if(eventList.isSupportedField(Event.SUMMARY) == true) {
                        String summary = summaryField.getString();
                        event.addString(Event.SUMMARY, PIMItem.ATTR_NONE, summary);
                    } else {
                        eventList.close();
                        throw new Exception("Summary field for event is not supported");
                    }

                    if(eventList.isSupportedField(Event.START) == true) {
                        long startDate = startDateField.getDate().getTime();
                        event.addDate(Event.START, PIMItem.ATTR_NONE, startDate);
                    }

                    if(eventList.isSupportedField(Event.END) == true) {
                        long endDate = endDateField.getDate().getTime();
                        event.addDate(Event.END, PIMItem.ATTR_NONE, endDate);
                    }

                    if(eventList.isSupportedField(Event.NOTE) == true) {
                        String note = noteField.getString();
                        event.addString(Event.NOTE, PIMItem.ATTR_NONE, note);
                    }

                    if(eventList.isSupportedField(Event.LOCATION) == true) {
                        String location = locationField.getString();
                        event.addString(Event.LOCATION, PIMItem.ATTR_NONE, location);
                    }      

                    event.commit();
                    eventList.close();

                    showAlert("Info", "Event was successfully added.");

                } catch(PIMException pimExc) {
                    showAlert("PIMException", pimExc.getMessage());
                }
                catch(SecurityException secExc) {
                    showAlert("SecurityException", secExc.getMessage());
                }
                catch(Exception exc) {
                    showAlert("Exception", exc.getMessage());
                }   
            }

            private void showAlert(String title, String message) {
                Alert alert = new Alert(title);
                alert.setString(message);
                alert.setTimeout(Alert.FOREVER);
                display.setCurrent(alert);
            }

            public void startApp() {
                display.setCurrent(addEventForm);
            }

            public void pauseApp() {
            }
            public void destroyApp(boolean unconditional) {
            }

            private void exitMIDlet() {
                notifyDestroyed();
            }

            public void commandAction(Command command, Displayable displayable) {
                if(command == cmdAddEvent) {
                    addEvent();
                }

                if(command == cmdExit) {
                    exitMIDlet();
                }
            }
        } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-14T07:39:52.110

研究[jsr75 标签 wiki](https://stackoverflow.com/tags/jsr75/info)中建议的规范和教程。

这个看起来最适合您的问题：**[PIM API 入门](http://www.oracle.com/technetwork/systems/index-139790.html)**

> ...本文提供了 PIM API 的代码密集型介绍性教程；它：
> 
> *   引入 JSR 75
> *   描述`javax.microedition.pim`可选包
> *   提供有关 PIM API 的详细信息
> *   提供使用它们所涉及的努力的味道
> *   提供可以适应您自己的无线应用程序需求的代码
> 
> ...

上面的教程还列出了一些推荐用于进一步学习的资源，**请参见“更多信息**”部分。

# java - Java 文字值赋值行为

> ID：12419509
> 
> 赞同：6
> 
> 时间：2012-09-14T06:53:37.547
> 
> 标签：java

在 Kathy Sierra 的 SCJP 指南一书中，在作业章节中，我们了解到我们可以声明这样的内容`byte b = 7;`。幕后代码是`byte b = (byte) 7;`. 之所以如此，是因为在 java 中，数字 7 被认为是字面 int 值，因此必须强制转换为 int。

现在其他情况。Double 可以包含浮点值中包含的每个字节，因为它是一个更大的数据类型。所以我们可以说`float f = 10.543;`As 10.543 是一个很小的值，应该适合浮点数。这种数字的字面值也被认为是 Double 所以编译器应该隐式地将它转换为浮点数。但事实并非如此，编译器阻止了我们。我们必须在该值之后附加一个`F`或。`f`

为什么在文字值赋值中存在这两种相互冲突的行为？简而言之，如果`byte b = 7`可能的话。为什么`float f = 10.543`不可能？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-14T07:02:07.993

您可以阅读[JLS 5.2 赋值转换](http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.2)

> 常量的编译时缩小意味着代码如下：

```
 byte theAnswer = 42; 
```

> 被允许。如果没有缩小范围，整数文字 42 具有 int 类型这一事实意味着需要强制转换为 byte：

```
byte theAnswer = (byte)42;  // cast is permitted but not required 
```

> 如果无法通过赋值上下文中允许的转换将表达式的类型转换为变量的类型，则会发生编译时错误。
> 
> 如果变量的类型是 float 或 double，则值集转换（第 5.1.13 节）将应用于值 v

[JLS #3.10.2.浮点文字](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.2)

> 如果浮点文字以 ASCII 字母 F 或 f 为后缀，则它的类型为 float；否则它的类型是双精度的，并且可以选择以 ASCII 字母 D 或 d 为后缀

[5.1.2\. 扩大基元转换](http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.13)

> 从 double 到 float 的窄化原语转换受 IEEE 754 舍入规则 (§4.2.4) 的约束。这种转换可能会丢失精度，但也会丢失范围，从而导致非零双精度浮点数为零和有限双精度浮点数无穷大。双精度 NaN 转换为浮点 NaN，双无穷大转换为同符号浮点无穷大。

我希望以上能澄清你的疑问。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-14T07:17:31.477

添加到前面的答案中，10.543 的实际表示是：

*   [`float`: 10.54300022125244140625](http://www.binaryconvert.com/result_float.html?decimal=049048046053052051)
*   [`double`: 10.5429999999999992610355548095](http://www.binaryconvert.com/result_double.html?decimal=049048046053052051)

由于您实际上指定了两个不同的数字，因此需要显式声明是有意义的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-14T06:58:14.813

区别：

*   当您从int“转换”为字节时，您只是截断字节
*   当你从 double 转换为 float 时，你正在做一个复杂而不简单的操作，这不能是隐式的

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-14T07:04:26.690

将 double 分配给 float 会导致精度损失，因此 java 告诉您需要明确说明您希望它如何执行分配。简单的截断可能会导致严重的舍入错误。

考虑以 10 为基数的有限小数实际上可能是二进制（例如浮点）基数的无限小数值。因此，明确地在浮点类型之间进行转换是一个很好的经验法则，在绝大多数情况下都很有用。

对于像 byte 这样的整数类型，情况略有不同：整数类型只能在大小上有所不同，但它们都具有相同的十进制精度，即为零。因此，将较大整数类型的拟合值分配给较小的整数变量是没有歧义的。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-14T10:13:02.903

> “在幕后代码是字节 b =（字节）7”。

这是不正确的。请参阅其他几个答案中提到的[JLS #5.2 。](http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.2)它说“如果变量的类型是 byte、short 或 char，并且常量表达式的值可以用变量的类型表示，则可以使用缩小的原始转换。”

没有关于类型转换的内容。

# hibernate - 如何将 GUID（不是 PK）添加到 JPA Hibernate Mapping 中已经具有 PK（整数）的现有实体

> ID：12419510
> 
> 赞同：0
> 
> 时间：2012-09-14T06:53:39.727
> 
> 标签：hibernate, jpa, candidate-key

我已经有一个 id 为 Integer 的实体类。作为要求，我们需要为此添加一个 GUID，目前不会是 PK。但是应该在创建新实体时自动填充。（现有的会将这个新的列 GUID 设为 NULL）。此表中的每个新条目都没有填充 GUID（以 NULL 形式出现）。请帮忙。

@实体

@Table(name = "TABLEA")

公共课表A

{

```
private int id;

private String guid;   

@Id
@GenericGenerator(name = "sequence", strategy = TableNameSequenceGenerator.TABLE_NAME_SEQUENCE_GENERATOR)
@GeneratedValue(generator = "sequence")
@Column(name = "ID")
public int getId()
{
    return id;
}

public void setId(int id)
{
    this.id = id;
}

@GenericGenerator(name = "guidGenerator", strategy = "guid")
@GeneratedValue(generator = "guidGenerator")
@Column(name = "GUID")
public String getGuid()
{
    return guid;
}

public void setGuid(String guid)
{
    this.guid = guid;
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:14:46.657

如果您创建一个变量 ex，则有一个名为 Guid 的类。Guid guid = 新的 Guid();

然后您可以使用 guid = Guid.NewGuid()，您可以在返回 guid 的方法中使用它，并且每次都会生成一个新的 Guid。

我想有一种不同的方法，但我就是这样做的。

希望能帮助到你。

# perl - 如何从 lan 和 lat 点的数组在 postgres 中创建点

> ID：12419515
> 
> 赞同：0
> 
> 时间：2012-09-14T06:54:14.190
> 
> 标签：perl, postgresql

我有 latitude 和 longitude 数组。现在我想从中创建点数组。我怎样才能在 postgresql 中做到这一点？我正在写这样的东西，但它不起作用。

```
my $data = { 
  type => 'Feature',
  geometry => {
    type => "Point",
    coordinates => [@lon[0],@lat[0]]
  }
}; 
```

有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T08:06:04.680

在 Perl 5 中，符号（`$@%&*`在变量名前面）表示的不是您正在使用的变量的类型，而是您期望的值访问结果的类型。这很重要，因为 Perl 中的一个相同语句可以根据列表与标量上下文评估不同的值。

即如果我们有一个数组`@a = (1, 2, 3, 4, 5)`并且第一个元素是*标量* `1`，那么我们将访问它作为`$a[0]`。

但是，您可以一次访问多个元素：`@a[0 .. 2, -1]`将返回一个*list* `(1, 2, 3, 5)`，因此这是我们使用sigil访问数组元素的*唯一*情况。`@`

因此，在使用 Perl 时编写`@lat[0]`和`@lon[0]`有时可能是可行的`no strict`，但这种风格有点糟糕，应该始终写成`$lon[0]`and `$lat[0]`。

如果您`$data`在循环内部构造并且不需要`@lat`and`@lon`之后，您可以`shift`从数组中获取第一个元素。

```
while (@lat and @lon) { # a condition is a scalar context — evaluates to array *length*
  my $data = {
    type     => 'Feature',
    geometry => {
      type        => 'Point',
      coordinates => [shift @lon, shift @lat],
    },
  };
  # insert data point
} 
```

只要 和 中有元素，这个循环就会`@lat` *运行* `@lon`。但是，将坐标建模为单独的`lon`值`lat`可能会使插入数据库更容易，并且可以更好地检索数据：

```
 geometry => {
      type => 'Point',
      lon  => (shift @lon),
      lat  => (shift @lat),
   }, 
```

# php - PHP/SQL 语法：将变量传递给 SQL 查询

> ID：12419524
> 
> 赞同：0
> 
> 时间：2012-09-14T06:54:49.607
> 
> 标签：php, sql, variables, printf

我厌倦了试图看看出了什么问题。我有两个 php。从第一个开始，我将变量“select1”（基本上是 id）发送到第二个，然后我想更新上传 pdf 文件的记录。

```
$id = "-1";
if (isset($_GET['select1'])) {
  $id = mysql_real_escape_string($_GET['select1']);
}

if(isset($_POST['Submit'])) {
    $my_upload->the_temp_file = $_FILES['upload']['tmp_name'];
    $my_upload->the_file = $_FILES['upload']['name'];
    $my_upload->http_error = $_FILES['upload']['error'];
    if ($my_upload->upload()) { // new name is an additional filename information, use this to rename the uploaded file
        mysql_query(sprintf("UPDATE sarcini1 SET file_name = '%s' WHERE id_sarcina = '%s'", $my_upload->file_copy, $id));
    }
} 
```

如果我输入带有有效 id 的行，例如：

```
$id = 14; 
```

这是工作。我做错了什么？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:04:06.637

您同时使用 GET 和 POST。据我所知，这个条件没有返回 True

```
if (isset($_GET['select1'])) 
```

编辑：如果您在上面没有找到任何答案；也许更多信息/代码可以帮助找到解决方案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T07:19:12.617

如果您需要同时接受 post 和 get，那么您应该尝试类似下面的代码来检索变量。

```
$var = 'select1';
if( isset( $_POST[$var] ) ) {
    $id = $_POST[$var];
} else if( isset( $_GET[$var] ) ) {
    $id = $_GET[$var];
} else {
    $id = -1;
} 
```

# regex - Perl：帮助编写正则表达式

> ID：12419528
> 
> 赞同：0
> 
> 时间：2012-09-14T06:54:53.217
> 
> 标签：regex, perl

我正在尝试为以下 3 种情况编写一个通用的正则表达式：

*   超自然_S07E23_720p_HDTV_X264-DIMENSION.mkv
*   the.listener.313.480p.hdtv.x264-2hd.mkv
*   How.I.met.your.mother.s02e07.hdtv.x264-xor.avi

现在我的常规 exoression 应该从原始字符串中删除系列名称，即上述字符串的输出将是：

*   S07E23_720p_HDTV_X264-DIMENSION.mkv
*   313.480p.hdtv.x264-2hd.mkv
*   s02e07.hdtv.x264-xor.avi

现在对于`supernatural string`我编写以下正则表达式的基本情况，它工作正常，但只要系列名称有多个单词，它就会失败。

```
$string =~ s/^(.*?)[\.\_\- ]//i; #delimiter can be (. - _ ) 
```

所以，我不知道如何处理我正在考虑的上述情况，`\w+{1,6}`但它也未能做到所要求的。

PS：将不胜感激正则表达式正在做什么的解释。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T07:20:15.267

您可以检测 . 的下一个标记是否包含数字，如果没有，则将其视为名称的一部分。

但是，我个人认为没有完美的解决方案。它仍然会遇到以下问题：

```
24.313.480p.hdtv.x264-2hd.mkv            // 24
Warehouse.13.s02e07.hdtv.x264-xor.avi    // warehouse 13 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-14T07:28:38.437

正如 StanleyZ 所说，你总是会遇到包含数字的名字的麻烦。

但是，如果您将这些特殊情况分开，您可以尝试：

```
#perl

$\=$/;

map {

    if (/^([\w\.]+)[\.\_]([SE\d]+[\.\_].*)$/i) {
        print "Match : Name='$1'        Suffix='$2'";
    } else {
        print "Did not match $_";
    }
}
qw!
    Supernatural_S07E23_720p_HDTV_X264-DIMENSION.mkv
    the.listener.313.480p.hdtv.x264-2hd.mkv
    How.I.met.your.mother.s02e07.hdtv.x264-xor.avi
  !; 
```

输出：

```
Match : Name='Supernatural'     Suffix='S07E23_720p_HDTV_X264-DIMENSION.mkv'
Match : Name='the.listener'     Suffix='313.480p.hdtv.x264-2hd.mkv'
Match : Name='How.I.met.your.mother'     Suffix='s02e07.hdtv.x264-xor.avi' 
```

*注意：你不是在做违法的事吗？;)*

# jquery - 同一页面上具有不同参数的JQuery脚本

> ID：12419538
> 
> 赞同：1
> 
> 时间：2012-09-14T06:55:26.550
> 
> 标签：jquery

我需要在同一页面上使用具有不同参数的相同 JQuery 脚本。我的脚本是：

```
/*
 * Simple Image Slider
 * Read more at: http://stuff.nekhbet.ro/2009/06/23/simple-image-gallery-navigation-slider-plugin-in-jquery.html
 * Version: 1.0.1
 * Copyright (c) 2009 Trimbitas Sorin-Iulian
 * Free of use (personal and commercial) as long as you keep this header in the file
 * Requires: jQuery v1.3+
*/
;(function($) {

    var totalCount = 0,selector,options,firstPos = 0,isRunning = false;

    $.fn.simple_slider = function(settings) {
        settings = $.extend({}, $.fn.simple_slider.defaults, settings);
        selector = this.selector;
        options = settings;
        //get the number of images
        totalCount = $(selector + " img").size();
        //init
        _init();

        function _init(){
            //hide them all (with the exception of the first X images)
            $(selector + " img").each(function(i){
                if (i >= options.display){
                    this.style.display = "none";
                }
            });
            //put actions (onclick) on the buttons for navigation
            //left
            $("#" + options.leftID).click(function (){
                if (isRunning == false){
                    _goLeft();
                }
            });
            $("#" + options.leftID).hover(function (){
                $(this).addClass("simple_slider_hover");
                }, function (){
                $(this).removeClass("simple_slider_hover");
            });
            //right
            $("#" + options.rightID).click(function (){ 
                if (isRunning == false){
                    _goRight();
                }
            });
            $("#" + options.rightID).hover(function (){
                $(this).addClass("simple_slider_hover");
                }, function (){
                $(this).removeClass("simple_slider_hover");
            });
            $("#" + options.leftID).addClass("simple_slider_disabled");
            _checkNavigation();
        }

        function _goLeft(){
            isRunning = true;
            if (firstPos > 0){
                //remove the last one
                $(selector + " img:eq("+ (firstPos + options.display - 1) + ")").fadeOut("slow", function (){
                    firstPos--;
                    //add one from the beginning
                    $(selector + " img:eq("+ (firstPos) +")").fadeIn("slow",function(){
                        isRunning = false;
                        _checkNavigation();
                    });
                });             
            } else {
                isRunning = false;
            }
        }

        function _goRight(){
            isRunning = true;
            if (firstPos + options.display < totalCount){
                //remove the first one
                $(selector + " img:eq("+ firstPos +")").fadeOut("slow", function (){
                    firstPos++;
                    //add one from the end
                    $(selector + " img:eq("+ (firstPos + options.display - 1) +")").fadeIn("slow",function(){
                        isRunning = false;
                        _checkNavigation();
                    });
                });             
            } else {
                isRunning = false;
            }
        }

        function _checkNavigation(){
            //left
            if (firstPos == 0){
                $("#" + options.leftID).addClass("simple_slider_disabled");
            } else {
                $("#" + options.leftID).removeClass("simple_slider_disabled");
            }
            //right
            if ( (firstPos + options.display) >= totalCount){
                $("#" + options.rightID).addClass("simple_slider_disabled");
            } else {
                $("#" + options.rightID).removeClass("simple_slider_disabled");
            }
        }

    }

    $.fn.simple_slider.defaults = {
        display             :   4,
        leftID              :   null,
        rightID             :   null
    };

})(jQuery); 
```

在页面上我尝试使用它，但只在页面的最后工作：

```
 <script>
    jQuery(document).ready(function($){
        $('#slide_interviu-special').show();
        $('#interviu-special_content').simple_slider({
            'leftID': 'leftNav',
            'rightID': 'rightNav',
            'display': 4
        });
        $('#slide_interviu-special_bottom').show();
        $('#interviu-special_bottom_content').simple_slider({
            'leftID': 'leftNav_bottom',
            'rightID': 'rightNav_bottom',
            'display': 8
        })
    });
    </script> 
```

# c# - 如何总结 C# 集合中字段的值

> ID：12419544
> 
> 赞同：1
> 
> 时间：2012-09-14T06:56:01.090
> 
> 标签：c#

我有以下课程：

```
public class ViewEvent {

    public long Elapsed { get; private set; }
    public string Description { get; private set; }

} 
```

在我的模型中，我收集了这些类的实例：

```
public IList<ViewEvent> Events { get; set; } 
```

如何获取我的事件集合中所有 ViewEvents 的总经过时间？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T06:58:32.600

使用 LINQ `Events.Sum(event => event.Elapsed);`，.

正如 Habib 所指出的，一定要添加

```
using System.Linq; 
```

# linux - 以太网驱动程序不适用于 linaro 版本 3.1

> ID：12419545
> 
> 赞同：0
> 
> 时间：2012-09-14T06:56:11.410
> 
> 标签：linux, linux-kernel, linux-device-driver

大家好，我正在使用 Linux linaro 3.1 版启动熊猫板。
一切正常，但以太网无法正常工作。
我该如何解决这个问题？

当我在这里启动时，有一些输出，以便我们可以更好地解释情况。

```
#lsmod
no modules are enabled.

#/etc/init.d/networking eth0
device eth0 not found
failed ro bring up eth0.

#ls /sys/class/net/
there is only lo but there is no eth0. 
```

所以这清楚地表明以太网驱动程序没有被启用。我有没有机会解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:43:10.607

1.  什么是以太网设备？
2.  你的内核中内置了驱动程序吗？（看进去`.config`）

# visual-studio - Visual Studio 2005 的自定义构建规则：不知何故，我的构建规则只编译第一个文件

> ID：12419546
> 
> 赞同：1
> 
> 时间：2012-09-14T06:56:12.983
> 
> 标签：visual-studio, visual-studio-2005, custom-build

我的项目中有 5 个 .pc 文件。我为他们创建了构建规则。但每次我构建项目时，它只编译第一个 .pc 文件。
我也尝试过手动编译第三个 .pc 文件，但它仍然只编译第一个 .pc 文件。

谁能帮我？我不知道任何人需要什么资源来解决这个问题。如果有要求，我可以提供。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-24T09:56:09.657

从您的自定义构建文件中删除“支持文件批处理”

# cloudify - 创建 VM 后如何在 Cloudify 中挂载 EBS

> ID：12419547
> 
> 赞同：1
> 
> 时间：2012-09-14T06:56:19.373
> 
> 标签：cloudify

由于安装了 EBS，我想与我的虚拟机共享一些数据。我如何对 Cloudify 说每个创建的 VM 都应该有额外的挂载 EBS？

（我说的是 Amazon EC2 的 EBS，但我想对 OpenStack 和其他 IaaS 做同样的事情）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-16T13:53:58.797

对于 ec2，您需要在云配置文件的模板部分中设置模板选项，如下所示：

```
options ([
"securityGroups" : ["default"]as String[],
"keyPair" : "XXXXX",
"blockDeviceMappings": [new org.jclouds.ec2.domain.BlockDeviceMapping.MapEBSSnapshotToDevice("/dev/sda1/","aa", 20, true) ] ]) 
```

Cloudify 使用[jclouds](http://www.jclouds.org/)多云库来处理对亚马逊服务的 API 调用。有关将 EBS 与 EC2 结合使用的更多详细信息，请参阅：

*   [http://demobox.github.com/jclouds-maven-site-1.4.0/1.4.0/jclouds-multi/apidocs/org/jclouds/ec2/domain/BlockDeviceMapping.MapEBSSnapshotToDevice.html](http://demobox.github.com/jclouds-maven-site-1.4.0/1.4.0/jclouds-multi/apidocs/org/jclouds/ec2/domain/BlockDeviceMapping.MapEBSSnapshotToDevice.html)
*   [http://demobox.github.com/jclouds-maven-site-1.4.0/1.4.0/jclouds-multi/apidocs/org/jclouds/ec2/domain/BlockDeviceMapping.MapNewVolumeToDevice.html](http://demobox.github.com/jclouds-maven-site-1.4.0/1.4.0/jclouds-multi/apidocs/org/jclouds/ec2/domain/BlockDeviceMapping.MapNewVolumeToDevice.html)

请注意，这些设置特定于 EC2，不能跨云移植。

关于 Openstack，Cloudify Openstack 云驱动程序当前不支持使用卷，即 openstack EBS 等效项。这对于 Cloudify 的 2.1.1 和 2.2 版本来说是准确的，尽管预计此功能将在不久的将来推出。

# jquery - 在 TokenInput 中，当用户键入数据不可用时，我希望结果格式化程序显示“无结果”？

> ID：12419548
> 
> 赞同：0
> 
> 时间：2012-09-14T06:56:20.880
> 
> 标签：jquery, yii, jquery-tokeninput

```
<div class="row">
     <div class="floatleft" style="width:110px;"><?php echo CHtml::label('TO :','',array('class'=>'label_name',));?></div>
       <div class="floatleft"><?php $this->widget('application.extensions.tokeninput.TokenInput', array(
    'model' => $model,
    'attribute'=>'TO',
    'id'=>'TO',

    'url' => $this->createUrl('User/autocomplete'),
    'options' => $arrOptions
    )
); ?></div> 
```

```
$arrOptions['allowCreation'] = true;
$arrOptions['preventDuplicates'] = true;
$arrOptions['resultsFormatter'] ='js:function(item){ 

    return "<li><p>" + item.name + "</p></li>" 
    }';
$arrOptions['theme'] = 'facebook'; 
```

我有一个用户名列表的令牌输入，当一个类型的名称不存在我想显示“未找到结果”时，我知道我必须更改`resultsFormatter`，但我不知道如何检查现有数据与术语项目？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T21:47:53.683

现有数据由插件自行检查，但如果您的意思是要更改“未找到结果”使用选项的文本

```
noResultsText: "Alternate No Results found" 
```

# c# - SAP Business One 矩阵的自动行编号

> ID：12419549
> 
> 赞同：0
> 
> 时间：2012-09-14T06:56:21.540
> 
> 标签：c#, matrix, sapb1

我正在为 SAP B1 8.82 制作一个附加组件。我想为我的矩阵列“#”自动行编号，即 UID“V_-1”。8.82 中是否有可以帮助我做到这一点的功能？

我正在为我的矩阵使用 UserDataSource。当我添加/删除一行时，如何获得自动更新的行号？

我在菜单事件 1292 中添加了以下内容，用于手动添加行号，但无法让它用于删除行 - 菜单事件 1293。（使用 C#）

```
case "1292"://Add Matrix Row
                    _form.Freeze(true);
                    _form.DataSources.UserDataSources.Item("itemNo").Value = "";
                    _form.DataSources.UserDataSources.Item("itemDesc").Value = "";
                    _form.DataSources.UserDataSources.Item("quantity").Value = "";
                    _form.DataSources.UserDataSources.Item("warehouse").Value = "";
                    _form.DataSources.UserDataSources.Item("distrRule").Value = "";
                    _form.DataSources.UserDataSources.Item("project").Value = "";
                    oMatrixItem.AddRow();

                    // row numbering   
                    int i = 1;
                    int j = 0;
                    j = oMatrixItem.RowCount;

                    while (j >= i)
                    {
                        oMatrixItem.Columns.Item("V_-1").Cells.Item(i).Specific.Value = i.ToString();
                        i = i + 1;
                    }

                    _form.Freeze(false);
                    break; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-25T11:13:30.007

为了简单地获得“V_-1”列中的数字

1.  我们可以将我们的矩阵绑定到一个表并将行 ID 列链接到“V_-1”列
2.  我们可以使用 DBDataSource 将矩阵绑定到表并将“V_-1”链接到矩阵列

但是，如果我们需要在删除行之后维护序列号，我们需要在将数据加载到矩阵中以在动作事件后加载的形式中编写单独的代码。

示例伪代码：

```
for i as integer = 1 to matrix.rowcount
    matrix.columns.itm(V_-1).item().cells(i)=i
next 
```

# android - 在不使用支持库的情况下开发 Android 应用程序

> ID：12419550
> 
> 赞同：0
> 
> 时间：2012-09-14T06:56:23.007
> 
> 标签：android, android-support-library

有没有办法在不使用支持库的情况下开发 android 应用程序。因为我有可能下载它们，Eclipse 找不到正确的路径？任何人都可能这样吗？

# php - 向 Symfony 2 表单元素添加错误

> ID：12419551
> 
> 赞同：84
> 
> 时间：2012-09-14T06:56:35.547
> 
> 标签：php, validation, symfony, symfony-forms

我在我的控制器中检查了一些验证。我想在失败时将错误添加到表单的特定元素。我的表格：

```
use Symfony\Component\Form\FormError;

// ...

$config = new Config();
$form = $this->createFormBuilder($config)
        ->add('googleMapKey', 'text', array('label' => 'Google Map key'))
        ->add('locationRadius', 'text', array('label' => 'Location radius (km)'))
        ->getForm();

// ...

$form->addError(new FormError('error message')); 
```

addError() 方法将错误添加到表单，而不是元素。如何向 locationRadius 元素添加错误？

* * *

## 回答 #1

> 赞同：182
> 
> 时间：2012-09-14T07:07:58.153

你可以做

```
$form->get('locationRadius')->addError(new FormError('error message')); 
```

因为表单元素也是`FormInterface`类型的。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-02-11T14:49:46.950

好的，伙计们，我有另一种方法。它更复杂，仅适用于特定情况。

**我的情况：**

我有一个表单，提交后我将数据发布到 API 服务器。还有我从 API 服务器得到的错误。

API 服务器错误格式为：

```
array(
    'message' => 'Invalid postal code',
    'propertyPath' => 'businessAdress.postalCode',
) 
```

我的目标是获得灵活的解决方案。让我们为相应的字段设置错误。

```
$vm = new ViolationMapper();

// Format should be: children[businessAddress].children[postalCode]
$error['propertyPath'] = 'children['. str_replace('.', '].children[', $error['propertyPath']) .']';

// Convert error to violation.
$constraint = new ConstraintViolation(
    $error['message'], $error['message'], array(), '', $error['propertyPath'], null
);

$vm->mapViolation($constraint, $form); 
```

就是这样！

**笔记！** `addError()`方法绕过[error_mapping](http://symfony.com/doc/current/reference/forms/types/form.html#error-mapping "错误映射")选项。

* * *

我的表格（嵌入在公司表格中的地址表格）：

**公司**

```
<?php

namespace Acme\DemoBundle\Form;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilderInterface;
use Symfony\Component\Validator\Constraints;

class Company extends AbstractType
{
    public function buildForm(FormBuilderInterface $builder, array $options)
    {
        $builder
            ->add('companyName', 'text',
                array(
                    'label' => 'Company name',
                    'constraints' => array(
                        new Constraints\NotBlank()
                    ),
                )
            )
            ->add('businessAddress', new Address(),
                array(
                    'label' => 'Business address',
                )
            )
            ->add('update', 'submit', array(
                    'label' => 'Update',
                )
            )
        ;
    }

    public function getName()
    {
        return null;
    }
} 
```

**地址**

```
<?php

namespace Acme\DemoBundle\Form;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilderInterface;
use Symfony\Component\Validator\Constraints;

class Address extends AbstractType
{
    public function buildForm(FormBuilderInterface $builder, array $options)
    {
        $builder
            // ...
            ->add('postalCode', 'text',
                array(
                    'label' => 'Postal code',
                    'constraints' => array(
                        new Constraints\NotBlank()
                    ),
                )
            )
            ->add('town', 'text',
                array(
                    'label' => 'Town',
                    'constraints' => array(
                        new Constraints\NotBlank()
                    ),
                )
            )
            ->add('country', 'choice',
                array(
                    'label' => 'Country',
                    'choices' => $this->getCountries(),
                    'empty_value' => 'Select...',
                    'constraints' => array(
                        new Constraints\NotBlank()
                    ),
                )
            )
        ;
    }

    public function getName()
    {
        return null;
    }
} 
```

# android - Android：在特定时间停止警报和服务澄清

> ID：12419553
> 
> 赞同：0
> 
> 时间：2012-09-14T06:56:52.677
> 
> 标签：android, alarmmanager, android-alarms

有没有办法在给定时间停止闹钟，例如，我在早上 7:45 开始闹钟，它每 5 分钟重复一次，然后，我想在时间已经早上 8:00 时停止闹钟？

由于警报管理器的 cancel() 方法只接受一个动作（PendingIntent），我该如何处理这个算法

其次，关于服务，我有一个想法，在服务上放置一个检查器或一个 if 语句来检查它是否已经 8:00a，但我不确定服务是否总是在后台运行，如果是这样，这是否意味着它总是检查时间，如果它是早上 8 点？考虑到服务的意义，一旦它开始，除非明确告知这样做，否则我不会停止。

你们中的任何人都知道如何做到这一点，请分享，我现在有点困惑

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:13:25.337

您必须在闹钟第一次启动时启动服务，该服务将在 5 分钟响起闹钟并获取设备时间并将其与停止时间的时间进行比较（意味着早上 8 点）停止您的服务

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:27:05.393

[为什么不在早上 7 点 45 分使用AlarmManager#setRepeating](http://developer.android.com/reference/android/app/AlarmManager.html#setRepeating%28int,%20long,%20long,%20android.app.PendingIntent%29)开始您需要做的任何事情，然后使用 AlarmManager [#](http://developer.android.com/reference/android/app/AlarmManager.html#set%28int,%20long,%20android.app.PendingIntent%29) set设置另一个闹钟来停止之前的闹钟？

AlarmManager#set 只会触发一次，因此您可以使用它取消重复警报

编辑：在 的实现中`AlarmManager#set`，您将检索重复的警报（`AlarmManager#setRepeating`）和`cancel()`它

# java - 如何以自定义格式在 JSF 按钮上显示日期作为标签？

> ID：12419554
> 
> 赞同：2
> 
> 时间：2012-09-14T06:56:56.977
> 
> 标签：java, jsf

如何在 JSF 上以自定义格式显示`Date`（或） ？`Timestamp``<h:commandButton>`

我正在使用 JSF 1.1

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-14T11:30:13.193

JSF`<h:commandButton>`不支持转换器，也不支持任何文本子项。您*要么*需要在一些辅助支持 bean 方法中执行这项工作，

```
<h:commandButton ... value="#{bean.dateInCustomizedFormat}" /> 
```

和

```
public String getDateInCustomizedFormat() {
    return new SimpleDateFormat("yyyy-MM-dd").format(date);
} 
```

*或*为此创建一个可重用的自定义 EL 函数：

```
<%@taglib prefix="my" uri="http://example.com/el/functions" %>
...
<h:commandButton ... value="#{my:formatDate(bean.date, 'yyyy-MM-dd')}" /> 
```

和

```
package com.example.el;

import java.text.SimpleDateFormat;
import java.util.Date;

public final class Functions{

    private Functions() {
        // Hide constructor.
    }

    public static String formatDate(Date date, String pattern) {
        Locale locale = FacesContext.getCurrentInstance().getViewRoot().getLocale();
        return new SimpleDateFormat(pattern, locale).format(date);
    }

} 
```

和一个`/WEB-INF/functions.tld`（给定 JSF 1.1，我假设您仍在使用 JSP，而不是 Facelets）：

```
<?xml version="1.0" encoding="UTF-8" ?>
<taglib 
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-jsptaglibrary_2_1.xsd"
    version="2.1">

    <tlib-version>1.0</tlib-version>
    <short-name>Custom Functions</short-name>
    <uri>http://example.com/el/functions</uri>

    <function>
        <name>formatDate</name>
        <function-class>com.example.el.Functions</function-class>
        <function-signature>java.lang.String formatDate(java.util.Date, java.lang.String)</function-signature>
    </function>
</taglib> 
```

*（注意：如果您使用的是 Servlet 2.4/JSP 2.0，请分别替换`2_1`和`2.1`by`2_0`和`2.0`）*

# html - 在 p 标签内具有最大宽度的 Img 不起作用

> ID：12419559
> 
> 赞同：1
> 
> 时间：2012-09-14T06:57:39.217
> 
> 标签：html, css, image

我有一个html代码：

```
 <div style="width:100%;word-wrap:break-word;;" align="justify">
    <p style="text-align: justify;" align="justify">  
      <img class="news-image" alt=" Thời trang" 
           src="http://img-hcm.24hstatic.com/upload/3-2012/images/2012-09-13/1347508625-lan-khue1.jpg" 
           style="font-size: medium; font-family: "Times New Roman";max-width:95%;">
   </p>
  </div> 
```

我不知道为什么不 `max-width`工作`img`。如果我删除`p`标签，它会起作用。无论如何要使用`max_width`内部`p`标签。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:02:32.340

您不能`"`在字体周围使用双引号，它会破坏 html 使用单`'`数

**改变：**

```
<img class="news-image" alt=" Thời trang" 
           src="http://img-hcm.24hstatic.com/upload/3-2012/images/2012-09-13/1347508625-lan-khue1.jpg" 
           style="font-size: medium; font-family: "Times New Roman";max-width:95%;"> 
```

**到：**

```
<img class="news-image" alt=" Thời trang" 
           src="http://img-hcm.24hstatic.com/upload/3-2012/images/2012-09-13/1347508625-lan-khue1.jpg" 
           style="font-size: medium; font-family: 'Times New Roman';max-width:95%;"> 
```

# db2 - 从表中删除重复条目

> ID：12419562
> 
> 赞同：0
> 
> 时间：2012-09-14T06:57:51.367
> 
> 标签：db2, db2-luw

假设我有一个如下表：（在 DB2 9.7.2 上）

```
 COL1            COL2             COL3
-----------      ----------       ----------
          3               4              xyz
          3               4              xyz 
```

现在我想编写一个查询，以便只删除这两条相同记录中的一条。我怎样才能做到这一点？

我能想到：删除；

或者

从 col1=3 处删除；

但上述两个查询都会删除两条记录，而我想保留其中一条。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:29:58.090

如果`LIMIT`不起作用，这将：

```
DELETE FROM (SELECT * FROM tbl WHERE col = 3 FETCH FIRST ROW ONLY) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:01:02.887

你不能使用限制条款吗？

```
DELETE FROM <table> WHERE <column>=3 LIMIT 1 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-09T13:07:03.730

这符合我的目的：

```
DELETE FROM tabA M 
WHERE  M.tabAky IN (SELECT tabAky 
                    FROM   (SELECT tabAky, 
                                   ROW_NUMBER() OVER (PARTITION BY tabAcol1,
                                                                   tabAcol2,
                                                                   tabAcoln)
                            FROM   tabA a) AS X (tabAky, ROWNUM) 
                    WHERE ROWNUM> 1) ; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-01-04T09:19:53.593

试试这个

```
delete from table A (select row_number() over (partition by col1 order by col1 ) count,* from table) where A.count> 1 
```

# android - 更改 laucher2 包名 android

> ID：12419563
> 
> 赞同：1
> 
> 时间：2012-09-14T06:57:53.060
> 
> 标签：android, launcher

我正在尝试实现自己的启动器（对 google 提供的启动器进行一些修改）。但是由于我无法删除默认启动器，我重命名了我的包名和所有内容。最初的包名称是 com.android.launcher2 。我将每个实例都更改为 com.rohit.grid 。现在，如果我运行它，我会收到此错误**“由于不同的应用程序签名而导致重新安装失败”**。现在清单文件在权限标签和包名称中有一些名为 com.android.launcher 的东西。如果我用 com.rohit.grid 替换它，我将在 xml 文件中收到有关某些资源未解析的错误。

我尝试清理项目，修复其属性和所有内容。但它没有帮助。

有人请让我摆脱这个问题。

提前致谢。

问候， 罗希特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:23:42.490

我认为**“由于不同的应用程序签名导致重新安装失败”**意味着安装程序正在尝试安装一个与已安装的名称相同的 APK，但在这种情况下的问题是安装的密钥与您的不同.

不要修改清单，而是尝试重命名项目，然后重新安装。

# ios - 未使用的参数显示错误

> ID：12419565
> 
> 赞同：0
> 
> 时间：2012-09-14T06:57:58.167
> 
> 标签：ios, automatic-ref-counting, uiapplicationdelegate, uiapplication, appdelegate

我是目标 C 的新手。我创建了一个启用 ARC 的应用程序并修改了构建设置，例如将警告视为错误 - 是和未使用的参数 - 在构建设置中的 Apple LLVM 编译器 3.0 警告类别中为是。所以在 app Delegate 文件中，UI Application 中的所有方法都显示错误。请看这个附件。![在此处输入图像描述](../Images/4ad83c58008d1fda9d0d781fd032889c.png)

是否可以解决此问题，或者我需要再次修改构建设置，如“未使用的参数 - 否”？

请帮我解决这个问题。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:00:10.647

关闭将警告视为设置中的错误。这将修复您遇到的编译器错误。

否则，您可以使用说明符一一消除错误`__attribute__(unused)`。

看到[这个答案](https://stackoverflow.com/questions/5451123/how-can-i-get-rid-of-an-unused-variable-warning-in-xcode)

# android - android.database.CursorIndexOutOfBoundsException: 请求索引 10，大小为 10

> ID：12419566
> 
> 赞同：-2
> 
> 时间：2012-09-14T06:58:08.827
> 
> 标签：android, sqlite, offset, indexoutofboundsexception

我正在使用 SQLite 操作学习 android。以下代码导致 a `CursorIndexOutOfBoundsException`，但我不知道为什么：

```
for (int i = 0; i < cursor.getCount(); i++) {
    cursor.move(i);
    String username = cursor.getString(1);
    Log.i("username", username);
} 
```

日志和异常：

```
09-13 12:39:18.317: INFO/row count:(3578): 10
09-13 12:39:18.317: INFO/username(3578): aaa_0
09-13 12:39:18.317: INFO/username(3578): aaa_1
09-13 12:39:18.317: INFO/username(3578): aaa_3
09-13 12:39:18.317: INFO/username(3578): aaa_6
09-13 12:39:18.337: ERROR/AndroidRuntime(3578): FATAL EXCEPTION: main
    java.lang.RuntimeException: 
    Unable to start activity ComponentInfo{com.example/com.example.MyActivity}: 
    android.database.CursorIndexOutOfBoundsException: 
    Index 10 requested, with a size of 10 
```

您可以看到行数为 10，但在获取第 5 行时会引发异常。

完整的代码是：

```
import android.app.Activity;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.os.Bundle;
import android.util.Log;

public class MyActivity extends Activity {

    private SQLiteDatabase db;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        createTables();
        insertData();
        queryData();
    }

    private void queryData() {
        Cursor cursor = db.query("users", new String[]{"_id", "username", "password"}, null, null, null, null, null, null);
        if (cursor.moveToFirst()) {
            Log.i("row count: ", "" + cursor.getCount());
            for (int i = 0; i < cursor.getCount(); i++) {
                cursor.move(i);
                String username = cursor.getString(1);
                Log.i("username", username);
            }
        }
    }

    private void insertData() {
        for (int i = 0; i < 10; i++) {
            String sql = "insert into users(username, password) values('aaa_" + i + "','123_" + i + "')";
            db.execSQL(sql);
        }
    }

    private void createTables() {
        this.deleteDatabase("temp.db");
        db = this.openOrCreateDatabase("temp.db", MODE_PRIVATE, null);
        String sql = "create table users(_id integer primary key autoincrement, username text, password text)";
        db.execSQL(sql);
    }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T07:02:51.340

这是因为`move(int offset)`这样做：

> 将光标**从当前位置**向前或向后移动一个相对量。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-14T07:02:56.877

你不应该使用[move](http://developer.android.com/reference/android/database/Cursor.html#move%28int%29) api。这是将位置移动一个偏移量。而是使用

```
Cursor.moveToPosition 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-14T07:03:14.640

尝试这个...

```
 cursor.moveToFirst();
    for (int i = 0; i < cursor.getCount(); i++) 
         {           
            String username = cursor.getString(1);
            Log.i("username", username);
            cursor.moveToNext() 
         } 
```

或根据您的代码...

```
private void queryData() {
        Cursor cursor = db.query("users", new String[]{"_id", "username", "password"}, null, null, null, null, null, null);
        if (cursor.moveToFirst()) {
            Log.i("row count: ", "" + cursor.getCount());
            for (int i = 0; i < cursor.getCount(); i++) {                
                String username = cursor.getString(1);
                Log.i("username", username);
                cursor.moveToNext() 
            }
        }
    } 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-14T07:09:14.523

使用 do while loop 而不是 for loop 。

```
if (cursor.getCount() != 0) 
{
    if (cursor.moveToFirst()) 
    {
        do 
        {
             // cursor.getString(cursor.getColumnIndex("username")));               
        } while (cursor.moveToNext());
    }
} 
```

# javascript - JavaScript 执行暂时挂起页面

> ID：12419579
> 
> 赞同：5
> 
> 时间：2012-09-14T06:58:53.940
> 
> 标签：javascript, jquery, freeze

我有一个大量使用**jQuery/JavaScript**的 Web 应用程序。它在内存中保存一个大数组，用户通过在文本框中输入来过滤它。

问题：当过滤算法运行时，**应用程序变得无响应**，浏览器甚至可能询问用户是否让脚本继续运行。

理想情况下，我希望过滤器函数在**单独的线程**中运行，以避免无响应。这有可能吗？或者，我想展示一个旋转的沙漏或类似的东西，但是浏览器在运行繁重的脚本时似乎无法显示动画 GIF。

解决问题的最佳方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T07:06:18.833

浏览器在主事件处理线程中执行脚本。这意味着任何长时间运行的脚本都会阻塞浏览器队列。

您应该将过滤器逻辑拆分为块并在[超时](http://www.w3schools.com/jsref/met_win_settimeout.asp)回调上运行它们。您可以在执行之间使用 0 米的间隙。0 毫秒只是给浏览器的一个建议，但是浏览器会利用后续回调之间的间隙来清除它的事件队列。超时通常是应该在浏览器环境中执行多长时间运行脚本以防止页面“挂起”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-14T07:02:01.247

这种类型的工作是[Web Workers](http://ejohn.org/blog/web-workers/)的设计目标，支持不[完整，但在改进](http://caniuse.com/webworkers).

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-14T07:50:34.350

扩展我之前的评论，假设您正在处理一个数组，您可能正在使用`for`循环。您可以轻松地重构一个简单的`for`循环来使用`setTimeout()`，以便将工作分解成块，并且浏览器有机会处理屏幕绘制和每个块之间的用户交互。简单的例子：

```
// Generic function to execute a callback a given number
// of times with a given delay between each execution
function timeoutLoop(fn, startIndex, endIndex, delay) {
    function doIteration() {
        if (startIndex < endIndex){
            fn(startIndex++);
            setTimeout(doIteration, delay);
        }
    }
    doIteration();
}

// pass your function as callback
timeoutLoop(function(i) {
   // current iteration processing here, use i if needed;
}, 0, 100, 0); 
```

演示：http: [//jsfiddle.net/nnnnnn/LeZxM/1/](http://jsfiddle.net/nnnnnn/LeZxM/1/)

这只是我拼凑起来以展示一般想法的东西，但显然它可以以各种方式扩展，例如，您可能想添加一个`chunkSize`参数来`timeoutLoop()`说明在每次超时时要执行多少次循环迭代（在呼叫`fn()`）等。

# android - 安卓按钮在RelativeLayout中的权重

> ID：12419582
> 
> 赞同：0
> 
> 时间：2012-09-14T06:59:04.363
> 
> 标签：android, android-layout

是否可以像 LinearLayout 一样在 RelativeLayout 中为按钮设置权重？或者有什么方法可以让它成为可能？

![肖像](../Images/99405eda097f0439807a59ff7e508bef.png)

![景观](../Images/93d1ad86614c84b8db0b8b34d617d3ec.png)

这是我的布局代码

```
<LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content" >

        <RelativeLayout
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:layout_weight="1" >

            <Button
                android:scrollHorizontally="true"
                android:id="@+id/button3"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentLeft="true"
                android:layout_alignParentTop="true"
                android:text="Button" />

            <Button
                android:scrollHorizontally="true"
                android:id="@+id/button4"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentTop="true"
                android:layout_toRightOf="@+id/button3"
                android:text="Button" />

            <Button
                android:scrollHorizontally="true"
                android:id="@+id/button5"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignLeft="@+id/button4"
                android:layout_alignParentTop="true"
                android:text="Button" />

        </RelativeLayout>

        <RelativeLayout
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:layout_weight="1" >

            <TextView
                android:id="@+id/textView1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_centerHorizontal="true"
                android:layout_centerVertical="true"
                android:text="Medium Text"
                android:textAppearance="?android:attr/textAppearanceMedium" />

        </RelativeLayout>

        <RelativeLayout
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:layout_weight="1" >

            <Button
                android:scrollHorizontally="true"
                android:id="@+id/button6"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentRight="true"
                android:layout_alignParentTop="true"
                android:text="Button" />

            <Button
                android:scrollHorizontally="true"
                android:id="@+id/button7"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentTop="true"
                android:layout_toLeftOf="@+id/button6"
                android:text="Button" />

        </RelativeLayout>
    </LinearLayout> 
```

如果我更改我的 2 个相对布局（左和右），这将是输出

![在此处输入图像描述](../Images/8573145c49bb69a5ec68135f06cc54c8.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T07:26:17.203

感谢 Renjith 的建议

对不起我的复杂解释，但这是我的代码和输出。

![在此处输入图像描述](../Images/28038ec084671ca4885f270d5abed082.png)

```
<LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content" >

        <LinearLayout
            android:id="@+id/LinearLayout1"
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:layout_weight="1"
            android:gravity="left" >

            <Button
                android:id="@+id/Button08"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:scrollHorizontally="true"
                android:text="Button" />

            <Button
                android:id="@+id/Button07"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:scrollHorizontally="true"
                android:text="Button" />

            <Button
                android:id="@+id/Button01"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:scrollHorizontally="true"
                android:text="Button" />

            <Button
                android:id="@+id/button4"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:scrollHorizontally="true"
                android:text="Button" />
        </LinearLayout>

        <RelativeLayout
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:layout_weight="1" >

            <TextView
                android:id="@+id/textView1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_centerHorizontal="true"
                android:layout_centerVertical="true"
                android:text="Medium Text"
                android:textAppearance="?android:attr/textAppearanceMedium" />
        </RelativeLayout>

        <LinearLayout
            android:id="@+id/LinearLayout1"
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:layout_weight="1"
            android:gravity="right" >

            <Button
                android:scrollHorizontally="true"
                android:id="@+id/button8"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="Button" />

            <Button
                 android:scrollHorizontally="true"
                android:id="@+id/button3"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="Button" />

            <Button
                android:id="@+id/button6"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:scrollHorizontally="true"
                android:text="Button" />

            <Button

                android:id="@+id/button7"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:scrollHorizontally="true"
                android:text="Button" />
        </LinearLayout>

    </LinearLayout> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-14T07:26:17.303

对于要向右对齐的按钮，如果您使用的是 RelativeLayout，您可以使用

```
android:layout_alignParentRight="true" 
```

将按钮与父级 RelativeLayout 对齐

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-14T08:03:44.360

做一件事，把你所有的 RelativeLayouts 放在一个 LinearLayout 中。现在根据它们应该占据的大小为RelativeLayouts分配权重。这将解决您的问题。

# iphone - 更改所选颜色并为每个单元格制作圆角？

> ID：12419583
> 
> 赞同：0
> 
> 时间：2012-09-14T06:59:06.063
> 
> 标签：iphone, uitableview

每当我在表格视图中选择一个单元格时，单元格背景都会迅速变为蓝色。有没有办法将其更改为任何其他颜色并为每个单元格制作圆角？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:30:35.473

您可以在 selectRow 时将您的视图设置为您的单元格。

```
-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{

    UITableViewCell *cell = (UITableViewCell*)[tableView cellForRowAtIndexPath:indexPath];
    cell.selectedBackgroundView = YourView;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:12:36.117

嗨试试这个可能对你有帮助......

```
cell.selectionStyle = UITableViewCellSelectionStyleGray; // this line for selection style 
```

这里有 3 种选择风格

1.UITableViewCellSelectionStyleBlue

2.UITableViewCellSelectionStyleGray

3.UITableViewCellSelectionStyleNone

```
cell.layer.cornerRadius = 8; /// this line for round corner 
```

希望这可以帮助你...

:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T07:15:24.613

如果你使用`cell.selectionStyle`，那么你只能使用三种颜色。

如果您想使用更多颜色，请使用以下代码：

```
UIView *myBackView = [[UIView alloc] initWithFrame:cell.frame];
myBackView.backgroundColor = [UIColor colorWithRed:1 green:1 blue:0.75 alpha:1];
cell.selectedBackgroundView = myBackView;
[myBackView release]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-14T07:09:58.040

你可以使用 UItableViewCell 属性

```
 cell.selectionStyle=UITableViewCellSelectionStyleGray; 
```

但你只有两个选择......蓝色或灰色

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-14T07:10:50.623

使用`cell.selectionStyle = UITableViewCellSelectionStyleGray;`或`UITableViewCellSelectionStyleBlue`。对于圆角案例使用

```
cell.layer.cornerRadius = 5; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-10-04T10:24:23.957

创建一个新视图并将其分配给`selectedBackgroundView`单元格的属性。

```
 func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {

    let cell = tableView.dequeueReusableCell(withIdentifier: "CustomCell", for: indexPath) as? CustomCell
    let backgroundView = UIView()
    backgroundView.backgroundColor = .systemBlue
    backgroundView.layer.cornerRadius = 10
    cell!.selectedBackgroundView = backgroundView
    return cell!
} 
```

# jquery - 使用 jQuery 单击不同单选按钮时启用/禁用文本框

> ID：12419585
> 
> 赞同：1
> 
> 时间：2012-09-14T06:59:17.367
> 
> 标签：jquery, asp.net-mvc-3

我在一个组中有 4 个单选按钮，例如 1、2、3、4，并且与 radiobutton1 一起还有两个输入文本框。当我选择**radiobutton1**时，这些文本框被启用，但在选择**单选按钮 2、3、4**时——文本框被禁用。选择**单选按钮 2、3、4**并禁用文本框后，如果我选择返回单选按钮 1，则应再次启用文本框。默认情况下（在第一次加载页面时），选择单选按钮 1 并启用文本框

这是我使用 Razor 视图引擎在 MVC3 中编写的 HTML 代码

```
@Html.RadioButtonFor(m => m.Search, "rb1", new { Checked = "true", id = "1" })radio 1 
<td>@Html.TextBoxFor(m => m.textbox1, new { style = "width:11%" })
<td>@Html.TextBoxFor(m => m.textbox2, new { style = "width:11%" })
@Html.RadioButtonFor(m => m.Search, "rb2", new { id = "2" })radio 2
@Html.RadioButtonFor(m => m.Search, "rb3", new { id = "3" })radio 3
@Html.RadioButtonFor(m => m.Search, "rb4", new { id = "4" })radio 4 
```

我需要在最少的代码行中使用 jquery 来做到这一点。有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T07:10:37.167

```
 $("#r1").click(function () {
                $(".myText").attr("disabled", false);
            });

            $(".disableText").click(function () {
                $(".myText").attr("disabled", true);
            }); 
```

HTML：

```
<input type="radio" name="r" id="r1"  />
<input type="radio" name="r" id="r2"  class="disableText" />
<input type="radio" name="r" id="r3"  class="disableText" />
<input type="radio" name="r" id="r4"  class="disableText" />
<input type="text" id="t1" class="myText" disabled="disabled" />
<input type="text" id="t2"  class="myText" disabled="disabled"  /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T07:53:00.167

**jQuery**

```
$('input[type="radio"]').click(function() {
    if($(this).index() == 0) {
        $('input[type="text"]').removeAttr('disabled');
    } else {
        $('input[type="text"]').prop('disabled', 'disabled');
    }
}); 
```

**HTML**

```
<input type="radio" name="group" />
<input type="radio" name="group" />
<input type="radio" name="group" />
<input type="radio" name="group" />

<input type="text" disabled="disabled" />
<input type="text" disabled="disabled" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T08:13:43.093

HTML

```
<div id="radioContainer">
    <input type="radio" name="r" id="r1" />
    <input type="text" id="t1" disabled="disabled" />
    <input type="text" id="t2"  disabled="disabled"  /><br />
    <input type="radio" name="r" id="r2" />
    <input type="radio" name="r" id="r3" />
    <input type="radio" name="r" id="r4" />
<div> 
```

js

```
// only one handler is attached to DOM
$("#radioContainer").click(function(e){
    var $t = $(e.target), $inputs = $(this).find('input');
    if( $t.is('input[name="radios"]') )
        $inputs.filter('[type="text"]').get(0).disabled = ($t.attr('id') == 'r1' ? false:true);
    }); 
```

# javascript - 使用 JSP 从服务器检索和显示图像

> ID：12419596
> 
> 赞同：0
> 
> 时间：2012-09-14T07:00:38.870
> 
> 标签：javascript, html, jsp

我有一段代码可以帮助我将图像保存在服务器上。我需要知道如何在 div 上显示保存的图像。

**JSP代码：**

```
<%String saveFile="";
String contentType = request.getContentType();
if ((contentType != null) && (contentType.indexOf("multipart/form-data") >= 0)) {
DataInputStream in = new DataInputStream(request.getInputStream());
int formDataLength = request.getContentLength();
byte dataBytes[] = new byte[formDataLength];
int byteRead = 0;
int totalBytesRead = 0;
while (totalBytesRead < formDataLength) {
byteRead = in.read(dataBytes, totalBytesRead,formDataLength);
totalBytesRead += byteRead;
}
String file = new String(dataBytes);
saveFile = file.substring(file.indexOf("filename=\"") + 10);
saveFile = saveFile.substring(0, saveFile.indexOf("\n"));
saveFile = saveFile.substring(saveFile.lastIndexOf("\\") + 1,saveFile.indexOf("\""));
int lastIndex = contentType.lastIndexOf("=");
String boundary = contentType.substring(lastIndex + 1,contentType.length());
int pos;
pos = file.indexOf("filename=\"");
pos = file.indexOf("\n", pos) + 1;
pos = file.indexOf("\n", pos) + 1;
pos = file.indexOf("\n", pos) + 1;
int boundaryLocation = file.indexOf(boundary, pos) - 4;
int startPos = ((file.substring(0, pos)).getBytes()).length;
int endPos = ((file.substring(0, boundaryLocation)).getBytes()).length;
saveFile="D:/../images/"+saveFile;
File f = new File(saveFile);
FileOutputStream fileOut = new FileOutputStream(f);
fileOut.write(dataBytes, startPos, (endPos - startPos));
fileOut.flush();
fileOut.close();
}%> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-02T12:46:18.140

```
 fileName = new File("D:/../images/"+saveFile;).getName(); 
```

使用此变量获取名称，然后在您的 img src 中调用 fileName。希望这可以帮助。

# matlab - Matlab：在范围内查找模式

> ID：12419597
> 
> 赞同：3
> 
> 时间：2012-09-14T07:00:42.743
> 
> 标签：matlab, mode

我有一个像这样的矩阵：

```
A=
    10 31 32 22
    32 35 52 77
    68 42 84 32 
```

我需要一个类似`mode`但有范围的函数，例如返回 30 的 mymode(A,10)，在 0-10、10-20、20-30 范围内找到最频繁的数字，并返回范围内的大多数数字。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T07:24:18.943

您可以使用[`histc`](http://www.mathworks.de/de/help/matlab/ref/histc.html)将数据分箱到您想要的范围内，然后[`max`](http://www.mathworks.de/de/help/matlab/ref/max.html)在输出中找到成员最多的箱`histc`

```
ranges = 0:10:50;                 % your desired ranges
[n, bins] = histc(A(:), ranges);  % bin the data
[v,i] = max(n);                   % find the bin with most occurrences

[ranges(i) ranges(i+1)]           % edges of the most frequent bin 
```

对于您的具体示例，这将返回

```
ans =

    30    40 
```

这与您所需的输出相匹配，因为 A 中的大多数值介于 30 到 40 之间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T07:15:37.223

```
[M,F] = mode(  A((A>=2) & (A<=5))  ) %//only interested in range 2 to 5 
```

...其中 M 将为您提供模式，F 将为您提供出现频率

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-14T07:17:15.537

```
> A = [10 31 32 22; 32 35 52 77; 68 42 84 32]
A =

   10   31   32   22
   32   35   52   77
   68   42   84   32

> min = 10
min =  10
> max = 40
max =  40
> mode(A(A >= min & A <= max))
ans =  32
> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-14T08:04:07.927

我猜根据不同答案的数量，我们可能会错过您的目标。这是我的解释。

如果您想要有多个范围并且希望为每个范围输出最频繁的数字，请创建一个包含所有所需范围的单元格（它们可能重叠）并使用 cellfun 为每个范围运行 mode() 。您还可以使用 arrayfun 以类似的方式创建具有所需范围的单元格：

```
A = [10 31 32 22; 32 35 52 77; 68 42 84 32];

% create ranges
range_step = 10;
range_start=[0:range_step:40];
range=arrayfun(@(r)([r r+range_step]), range_start, 'UniformOutput', false)

% analyze ranges
o = cellfun(@(r)(mode(A(A>=r(1) & A<=r(2)))), range, 'UniformOutput', false)

o = 
[10]    [10]    [22]    [32]    [42] 
```

# java - 将 jsp 文件下拉列表的选定项分配给 java 变量（例如字符串选择）

> ID：12419602
> 
> 赞同：0
> 
> 时间：2012-09-14T07:01:00.523
> 
> 标签：java, javascript, html, jsp

我想根据我的jsp文件中下拉列表中的选定项显示数据库中的表数据，所以我需要做的就是将该选定值分配给字符串类型的变量，我该怎么做，建议我一段代码以及下拉列表的代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:49:39.493

假设您的 JSP 页面表单中有一个下拉元素，如下所示：

```
<select name='ele1'>
  <option value='a'>A</option>
  <option value='b'>B</option>
  ...
</select> 
```

提交表单后，可以从 HttpServletRequest 中获取元素值：

```
String selectedValue = request.getParameter("ele1"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T04:03:35.510

您可以使用 Ajax，查看链接[http://www.ajaxprojects.com/ajax/tutorialdetails.php?itemid=580](http://www.ajaxprojects.com/ajax/tutorialdetails.php?itemid=580)

# c++ - 与全序相比，偏序是否足以构建堆？

> ID：12419603
> 
> 赞同：1
> 
> 时间：2012-09-14T07:01:01.243
> 
> 标签：c++, algorithm, stl, std

C++ std::priority_queue 只需要一个部分顺序。但是如果它的实现是一个**二叉堆**，它是如何工作的呢？例如：假设我们有一个偏序集`( {a, b, c, x}, {c < b, b < a, c < a} )`，与, ,`x`无关。那么最大堆是：`a``b``c`

```
layer 1:    x
layer 2:  b   x
layer 3: x x a c 
```

弹出操作后，以教科书常见的方式，即替换根`c`并减小大小1。然后我们需要在根处对下面的树进行heapify：

```
layer 1:    c
layer 2:  b   x
layer 3: x x a 
```

我们将交换`c`和`b`as `c < b`，不是吗？什么？我们仍然没有一个有效的堆，因为`b < a`. 但`b`不能“看到” `a`。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-14T07:20:55.690

`priority_queue`比较器定义*严格、弱排序*的要求是（C++ 标准的第 23.6.4 节） 。后者在 §25.4/4 中定义如下：

> 术语 strict 指的是对所有 x 的非自反关系（!comp(x, x)）的要求，而术语 weak 指的是不如全序强但比偏序强的要求. 如果我们将 equiv(a, b) 定义为 !comp(a, b) && !comp(b, a)，那么要求 comp 和 equiv 都是传递关系：
> 
> — comp(a, b) && comp(b, c) 意味着 comp(a, c)
> 
> — equiv(a, b) && equiv(b, c) 隐含 equiv(a, c) [ 注意：在这些条件下，可以证明
> 
> i) equiv 是等价关系
> 
> ii) comp 在由 equiv 确定的等价类上引入明确定义的关系
> 
> iii) 诱导关系是严格的全序。——尾注]

换句话说，比较器定义的关系不必是全部的，但它必须相对于由假设关系定义的等价类是全部的，假设关系`equiv`将所有不小于或大于每个元素的元素定义为相等其他。

**用更简单的术语来说，比较关系未涵盖的任何元素都将被视为相等。**

# c#-4.0 - 如何将网格的页面大小编号传递给控制器

> ID：12419605
> 
> 赞同：0
> 
> 时间：2012-09-14T07:01:02.897
> 
> 标签：c#-4.0, telerik, asp.net-mvc-4, telerik-grid, telerik-mvc

我在 Telerik Grid 工作。

我在网格中分页的代码是

```
 .Pageable(pg =>
   {
        pg.Style(GridPagerStyles.Numeric | GridPagerStyles.PageSizeDropDown);
   } 
```

当用户更改并存储到表中时，我需要记住页面大小编号。因此，我需要将视图中的页面大小编号传递给控制器​​中的任何操作方法。给我一个解决方案。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T21:32:06.847

哟，伙计，

基本上，您可以通过 Grid 数据源的 pageSize 方法在客户端检索页面大小。例如：

```
var pageSize = $(Grid).data().kendoGrid.dataSource.pageSize() 
```

您可以通过函数检查文档中的示例轻松将此值发送到服务器：

[http://docs.kendoui.c​​om/api/framework/datasource#transportreaddata-objectstringfunction](http://docs.kendoui.com/api/framework/datasource#transportreaddata-objectstringfunction)

# python - 通过 python 进行程序集注入

> ID：12419607
> 
> 赞同：2
> 
> 时间：2012-09-14T07:01:21.067
> 
> 标签：python, assembly, x86

我正在尝试使用 python 编写一些汇编代码来重定向二进制流。这是给学校的。我相处得很好，但我被困住了，唉。我已经确定了我需要执行的汇编代码操作列表，问题出在 movl 调用中。我需要这个看起来像`movl $0x0, add(%ebp)`。我正在使用 python 将这些十六进制值存储在一个环境变量中，并计划跳转到该环境变量位置。所以，我做类似的事情

```
export CODE=`python -c 'print "somehex...\xc7\x45\xfc\x00\x00\x00\x00...morehex"'` 
```

这很好地将它存储在 env 中，当我在 gdb 中跳转到它时，我可以 x/i 汇编代码。除了这个 movl 调用，一切看起来都很好。与其将 \x00 读取为参数（假定为 $0x0），不如将接下来的 4 个十六进制值作为源的参数。我找不到任何其他方式以我选择的 python 方式将 $0x0 写入 movl 的 src 参数。

任何帮助将不胜感激。已经为此工作了一段时间。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T07:18:21.367

环境变量是 C 字符串，它们不能保存`\0`字节。相反，您必须以不包含任何`\0`字节的方式编写 shellcode。您必须使用其他指令构造 0 值，例如`sub`, `xor`，或通过将现有的 0 值移动到所需的寄存器/内存位置。

顺便说一句，您可以简单地使用更短且更便携的`/bin/echo -e 'somehex\x00\x00more'`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T07:27:18.553

看起来有些东西正在剥离空字节。蟒蛇工作正常：

```
$ python -c 'print "somehex...\xc7\x45\xfc\x00\x00\x00\x00...morehex"' | hexdump
0000000 73 6f 6d 65 68 65 78 2e 2e 2e c7 45 fc 00 00 00
0000010 00 2e 2e 2e 6d 6f 72 65 68 65 78 0a            
000001c 
```

但是将它写入一个环境变量并读回它，并且空值被剥离：

```
$ export CODE=`python -c 'print "somehex...\xc7\x45\xfc\x00\x00\x00\x00...morehex"'`
$ printenv CODE | hexdump
0000000 73 6f 6d 65 68 65 78 2e 2e 2e c7 45 fc 2e 2e 2e
0000010 6d 6f 72 65 68 65 78 0a                        
0000018 
```

# javascript - 在 Dnamics CRM 2011 中使用 JavaScript 读取子网格的所有记录，而不考虑活动页面

> ID：12419610
> 
> 赞同：1
> 
> 时间：2012-09-14T07:01:28.733
> 
> 标签：javascript, paging, crm, records, subgrid

我有一个 JavaScript 代码，它应该遍历子网格的所有行。

```
for (var intRowNumber = 0; intRowNumber < gridControl.getRecordsFromInnerGrid().length; intRowNumber++) 
{
    // do stuff
} 
```

我的问题是此代码仅迭代当前子网格页面中的项目。例如，我的网格可以在一页中携带 4 条记录。如果我有 5 条记录，导致第二页，当我在第一页时，我无法以这种方式阅读第 5 条记录。同样，如果我转到第二页，只会读取第 5 条记录，而忽略前 4 条记录。

有没有办法解决这个问题？对于任何代码片段或被重定向到文档/教程，我都会非常高兴。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T09:05:08.983

我认为这永远不会奏效。JavaScript 只能返回页面上的内容，Crm 只加载当时需要的数据。

要获取视图中的所有记录，我建议使用 Web 服务调用来获取所需的所有数据。

您可能会发现这比解析网格更容易、更可靠。我建议从[这里](http://msdn.microsoft.com/en-us/library/gg490659)开始。

# angularjs - ng-model 和 ng-bind 有什么区别

> ID：12419619
> 
> 赞同：559
> 
> 时间：2012-09-14T07:02:10.507
> 
> 标签：angularjs, angular-ngmodel, ng-bind

我目前正在学习 AngularJS，并且很难理解 和 之间的`ng-bind`区别`ng-model`。

谁能告诉我它们有何不同以及何时应该使用另一种？

* * *

## 回答 #1

> 赞同：839
> 
> 时间：2012-09-14T07:44:02.690

**ng-bind**具有单向数据绑定（$scope --> view）。它有一个快捷方式`{{ val }}` ，显示`$scope.val`插入到 html 中的范围值，其中`val`是变量名。

**ng-model**旨在放置在表单元素中，并具有双向数据绑定（$scope --> view 和 view --> $scope），例如`<input ng-model="val"/>`。

* * *

## 回答 #2

> 赞同：142
> 
> 时间：2014-05-20T02:52:06.297

*tosh*的回答很好地触及了问题的核心。这里有一些额外的信息......

# 过滤器和格式化程序

`ng-bind`并且`ng-model`两者都具有在将数据输出给用户之前对其进行转换的概念。为此，`ng-bind`使用*过滤器*，而`ng-model`使用*格式化程序*。

## 过滤器（ng-绑定）

使用`ng-bind`，您可以使用*过滤器*来转换您的数据。例如，

`<div ng-bind="mystring | uppercase"></div>`,

或更简单地说：

`<div>{{mystring | uppercase}}</div>`

请注意，这[`uppercase`是一个内置的角度过滤器](https://docs.angularjs.org/api/ng/filter/uppercase)，尽管您也可以[构建自己的过滤器](https://docs.angularjs.org/tutorial/step_09)。

## 格式化程序（ng 模型）

要创建 ng-model 格式化程序，您需要创建一个执行 的指令`require: 'ngModel'`，它允许该指令访问 ngModel 的`controller`. 例如：

```
app.directive('myModelFormatter', function() {
  return {
    require: 'ngModel',
    link: function(scope, element, attrs, controller) {
     controller.$formatters.push(function(value) {
        return value.toUpperCase();
      });
    }
  }
} 
```

然后在你的部分：

```
<input ngModel="mystring" my-model-formatter /> 
```

这基本上`ng-model`等同于上面示例中的`uppercase` *过滤器*所做的事情。`ng-bind`

* * *

# 解析器

现在，如果您打算允许用户更改 的值`mystring`怎么办？`ng-bind`只有一种方式绑定，来自**model** --> **view**。但是，可以从**视图**->**模型**`ng-model`绑定，这意味着您可以允许用户更改模型的数据，并且使用*解析器*可以以简化的方式格式化用户的数据。看起来是这样的：

 *****```
app.directive('myModelFormatter', function() {
  return {
    require: 'ngModel',
    link: function(scope, element, attrs, controller) {
     controller.$parsers.push(function(value) {
        return value.toLowerCase();
      });
    }
  }
} 
```

* * *

[**`ng-model`使用格式化程序/解析器示例的实时 plunker**](http://plnkr.co/edit/QFrHJMm9p14EgGpTDr13?p=preview)

* * *

# 还有什么？

`ng-model`也有内置的验证。只需修改您的`$parsers`or`$formatters`函数以调用[**ngModel**的`controller.$setValidity(validationErrorKey, isValid)`函数](https://docs.angularjs.org/api/ng/type/ngModel.NgModelController)。

**[Angular 1.3 有一个新的 $validators 数组](https://docs.angularjs.org/api/ng/type/ngModel.NgModelController)**，你可以用它来代替`$parsers`or`$formatters`。

**[Angular 1.3 还具有对 ngModel 的 getter/setter 支持](https://docs.angularjs.org/api/ng/directive/ngModel)**

* * *

## 回答 #3

> 赞同：30
> 
> 时间：2015-04-17T12:25:08.597

# [模型](https://docs.angularjs.org/api/ng/directive/ngModel)

ngModel 指令将输入、选择、文本区域（或自定义表单控件）绑定到范围上的属性。

该指令以优先级 1 执行。

示例[**Plunker**](http://plnkr.co/edit/JppOnZH0OYTACIZHLh64?p=preview)

**JAVASCRIPT**

```
angular.module('inputExample', [])
   .controller('ExampleController', ['$scope', function($scope) {
     $scope.val = '1';
}]); 
```

**CSS**

```
.my-input {
    -webkit-transition:all linear 0.5s;
    transition:all linear 0.5s;
    background: transparent;
}
.my-input.ng-invalid {
    color:white;
    background: red;
} 
```

**HTML**

```
<p id="inputDescription">
   Update input to see transitions when valid/invalid.
   Integer is a valid value.
</p>
<form name="testForm" ng-controller="ExampleController">
    <input ng-model="val" ng-pattern="/^\d+$/" name="anim" class="my-input"
         aria-describedby="inputDescription" />
</form> 
```

**ngModel 负责：**

*   将视图绑定到模型中，这是其他指令（例如 input、textarea 或 select）所需要的。
*   提供验证行为（即要求、号码、电子邮件、url）。
*   保持控件的状态（有效/无效、脏/原始、触摸/未触摸、验证错误）。
*   在元素上设置相关的 css 类（ng-valid、ng-invalid、ng-dirty、ng-pristine、ng-touched、ng-untouched），包括动画。
*   将控件注册到其父窗体。

# [绑定](https://docs.angularjs.org/api/ng/directive/ngBind)

ngBind 属性告诉 Angular 将指定 HTML 元素的文本内容替换为给定表达式的值，并在该表达式的值更改时更新文本内容。

该指令以优先级 0 执行。

示例[**Plunker**](http://plnkr.co/edit/XpnZ6tlKydQ2IRktAJsS?p=preview)

**JAVASCRIPT**

```
angular.module('bindExample', [])
    .controller('ExampleController', ['$scope', function($scope) {
    $scope.name = 'Whirled';
}]); 
```

**HTML**

```
<div ng-controller="ExampleController">
  <label>Enter name: <input type="text" ng-model="name"></label><br>
  Hello <span ng-bind="name"></span>!
</div> 
```

**ngBind 负责：**

*   用给定表达式的值替换指定 HTML 元素的文本内容。

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2016-11-16T09:22:57.253

[**`ng-bind`**](https://docs.angularjs.org/api/ng/directive/ngBind)如果您在使用or之间犹豫不决[**`ng-model`**](https://docs.angularjs.org/api/ng/directive/ngModel)，请尝试回答以下问题：

* * *

> 你**只**需要**显示**数据吗？

*   是：（`ng-bind` *单向绑定）*

*   否：（`ng-model` *双向绑定）*

> 您是否需要**绑定文本内容**（而不是值）？

*   是的：`ng-bind`

*   否：（`ng-model` *您不应该在需要值的地方使用 ng-bind）*

> 你的标签是 HTML**`<input>`**吗？

*   是：（`ng-model` *您不能使用带有`<input>`标签的 ng-bind）*

*   不：`ng-bind`

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2015-04-29T00:21:36.677

**ng模型**

AngularJS 中的 ng-model 指令是将应用程序中使用的变量与输入组件绑定的最大优势之一。这作为双向数据绑定工作。如果您想更好地了解双向绑定，您有一个输入组件，并且更新到该字段的值必须反映在应用程序的其他部分。更好的解决方案是将变量绑定到该字段并在您希望通过应用程序显示更新值的任何位置输出该变量。

**ng-绑定**

ng-bind 的工作方式与 ng-model 大不相同。ng-bind 是一种数据绑定方式，用于将 html 组件内部的值显示为内部 HTML。该指令不能用于与变量绑定，只能用于与 HTML 元素内容绑定。事实上，这可以与 ng-model 一起使用，将组件绑定到 HTML 元素。该指令对于使用内部 HTML 内容更新 div、span 等块非常有用。

[这个例子](http://www.javabeat.net/angularjs-ng-model-ng-bind/)可以帮助你理解。

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2014-12-09T15:09:08.893

```
angular.module('testApp',[]).controller('testCTRL',function($scope)

{

$scope.testingModel = "This is ModelData.If you change textbox data it will reflected here..because model is two way binding reflected in both.";
$scope.testingBind = "This is BindData.You can't change this beacause it is binded with html..In above textBox i tried to use bind, but it is not working because it is one way binding.";            
});
```

```
div input{
width:600px;  
}
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min.js"></script>

<head>Diff b/w model and bind</head>
<body data-ng-app="testApp">
    <div data-ng-controller="testCTRL">
        Model-Data : <input type="text" data-ng-model="testingModel">
        <p>{{testingModel}}</p>
          <input type="text" data-ng-bind="testingBind">
          <p ng-bind="testingBind"></p>
    </div>
</body>
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2016-12-29T13:19:07.357

**ngModel**通常用于绑定变量的输入标签，我们可以从控制器和 html 页面更改变量，但**ngBind**用于在 html 页面中显示变量，我们可以仅从控制器更改变量，而 html 仅显示变量。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2017-03-07T13:27:11.103

我们可以使用 ng-bind with`<p>`来显示，我们可以使用快捷方式 for `ng-bind {{model}}`，我们不能使用 ng-bind 和 html 输入控件，但是我们可以使用快捷方式 for`ng-bind {{model}}`和 html 输入控件。

```
<input type="text" ng-model="name" placeholder="Enter Something"/>
<input type="text" value="{{name}}" placeholder="Enter Something"/>
  Hello {{name}}
<p ng-bind="name"</p> 
```*****

# magento - 如何迁移 magento 仪表板设置？

> ID：12419630
> 
> 赞同：0
> 
> 时间：2012-09-14T07:03:08.460
> 
> 标签：magento

我已经在我的本地主机中安装了 magento，它工作正常。我已经将所有代码从 live 复制到我的本地主机。但唯一的问题是缺少我在实时 magento 仪表板上所做的 magento 仪表板设置，比如 CMS 页面，一些产品属性等。如何迁移这些设置？
我已经复制了现场站点的早期数据库，并且我不想用现场站点数据库替换本地主机数据库。但是您可以告诉一些特定的表。

```
<?php

?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:28:02.100

与在实时站点中一样，您在 CMS 页面、产品属性等中进行了更改。因此导入整个数据库而不是特定表会很好，因为导入特定表可能会产生问题。

# java - Java - 获取字符串的整数部分（多个）并存储在一个数组中

> ID：12419632
> 
> 赞同：1
> 
> 时间：2012-09-14T07:03:16.077
> 
> 标签：java, regex, split

考虑一个像这样的字符串

```
(42,21) (23,21) 
```

我想从这个字符串中获取一个数组，例如`[42,21,23,21]`

现在我可以通过将其拆分 2-3 次来做到这一点，依此类推.. 但我想知道是否有更有效的方法来做到这一点，或者说单行。

就像在所有不是数字的东西上分割一个字符串！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:09:13.027

```
String[] numbers = "(42,21) (23,21)".split("\\D+"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:16:00.103

这有效：

```
String[] strings = "2(42,21) (23,21)".split("[^0-9]+"); 
```

意思是：

> 在每个不是数字的字符系列上拆分

# php - 我们可以在 Zend 的下拉列表中进行多项选择吗

> ID：12419633
> 
> 赞同：1
> 
> 时间：2012-09-14T07:03:17.047
> 
> 标签：php, zend-framework, zend-form

*任何人都知道如何在Zend*框架的下拉框中进行多项选择。

*   是否可以让用户在下拉菜单中进行多次选择？
*   我们如何以*Zend*形式做到这一点？

如果有人知道这个问题，我将不胜感激

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:30:00.020

我不认为你可以在下拉框中选择多个，但你可以尝试.. 多[**选**](http://framework.zend.com/manual/1.10/en/zend.form.standardElements.html#zend.form.standardElements.multiselect)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T07:30:19.997

你能在标准的 html 页面中做到这一点吗？（即不使用zend 只是一个普通的html 页面）。

我不认为有这样一个选项可以在标准 html 中进行多选下拉（虽然不知道 HTML 5 :)）。

因此，如果该功能在表示语言（HTML）本身中不可用，我认为服务器端框架无法提供这样的功能。（如果我错了请赐教）

是的，您可以肯定地在客户端执行此操作（javascript），如除以零所述。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-14T07:12:00.407

我认为 Zend Framework 没有这样的选项，但是您可以将常规的多选转换为下拉菜单。

试试这个[插件](http://code.google.com/p/dropdown-check-list/)定期`multiselect`

# java - 与同一实体的一对多关系

> ID：12419635
> 
> 赞同：1
> 
> 时间：2012-09-14T07:03:52.010
> 
> 标签：java, jakarta-ee, jpa, jpa-2.0

请在下面找到实体代码，

```
@Entity
public class A implements Serializable {

    @Id
    @GeneratedValue(strategy=GenerationType.AUTO)
    private Long id;

    @OneToMany(cascade={CascadeType.PERSIST, CascadeType.MERGE}, fetch = FetchType.LAZY, mappedBy="parentActivity")        
    private Set<A> subActivities;

    @ManyToOne(cascade = CascadeType.REFRESH, fetch = FetchType.LAZY)
    @JoinColumn(name = "PARENTACTIVITYID", insertable = true, updatable = true)
    private A parentActivity;

    // Getters, Setters, serialVersionUID, etc...
} 
```

如果我们想同时保留父母和孩子，那么下面的代码可以正常工作

```
public static void main(String[] args) {

    EntityManager em = ... // from EntityManagerFactory, injection, etc.

    em.getTransaction().begin();

    A parentActivuty   = new A();
    A subActivity1      = new A();
    A subActivity2 = new A();

    son.setParentActivity(parent);
    daughter.setParentActivity(parent);
    parent.setSubActivity(Arrays.asList(subActivity1, subActivity2));

    em.persist(parent);
    em.persist(son);
    em.persist(daughter);

    em.getTransaction().commit();
} 
```

但在这种情况下，我在数据库中有父对象并希望保留子对象可能的解决方案是什么......？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T07:11:24.850

您从数据库中获取父级，执行附件，并持久化两个子级：

```
A parent = em.get(A.class, parentId);
A son = new A();
A daughter = new A();
son.setParentActivity(parent);
daughter.setParentActivity(parent);
em.persist(son);
em.persist(daughter);
parent.getSubActivities().add(son);
parent.getSubActivities().add(daughter); 
```

# eclipse - GlassFish（真实）在Eclipse中热部署JSF页面和资源（CSS等）

> ID：12419636
> 
> 赞同：1
> 
> 时间：2012-09-14T07:03:54.210
> 
> 标签：eclipse, glassfish, glassfish-3, hotdeploy

我们想知道如何设置**GlassFish 3.1.2** *真正的*热部署，这**不仅仅是**通常的设置

[如何在 Eclipse 中使用 glassfish 适配器进行热部署](https://stackoverflow.com/questions/2492643/how-can-i-hot-deploy-using-the-glassfish-adapter-in-eclipse)

但是当您在 Eclipse 中保存文件时，如何使 Eclipse GlassFish 插件能够静默地将更改的**XHTML、CSS 等文件**推送到服务器。

官方是怎么设置的？

同样，我现在对此进行了多次测试，热部署刚刚更改的 XHTML(/JSF)，保存时的 CSS 文件不起作用。

当设置为*从不自动发布*时，保存 JSF 文件时不会发生任何事情。当设置为*资源更改时自动发布时*，将**触发整个 webapp 重新部署过程**（需要 30 多秒！）。

**问：**

*使用 Eclipse 和官方 GlassFish 插件在保存设置上的 JSF、CSS 热部署*如何指向本地的非内部**GlassFish 3.1.2**？

你必须在哪里看？进插件还是本地GF？

使整个主题更加混乱的是，有些人可以轻松地使用它，请参阅[http://www.java.net/forum/topic/glassfish/glassfish-plugins/glasfish-plugin#comment-819774](http://www.java.net/forum/topic/glassfish/glassfish-plugins/glasfish-plugin#comment-819774)

“当保存时发布处于活动状态时，几乎所有非 Java 文件的保存都将‘立即’可见。”

不在这里！

这很奇怪......而且很重要！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-12T10:01:34.617

我使用了“hack”，并且可以在 maven、eclipse 和 GF4 热部署中正常工作。在您拥有 xhtml 项目的工作区中导航。打开 .project 文件编辑

```
<buildCommand>
   <name>org.eclipse.m2e.core.maven2Builder</name>
   <arguments></arguments>
</buildCommand> 
```

修改为：

```
<buildCommand>
   <name>org.eclipse.m2e.core.maven2Builder</name>
   <triggers>incremental,</triggers>
   <arguments></arguments>
</buildCommand> 
```

它工作得很好，但它可能会导致奇怪的构建问题（很长时间没有尝试过，所以不能真的这么说与案例一起使用。）

============== 我尝试过但遇到 eclipse/maven 错误的另一种解决方法===========

我设法让它与 eclipse 一起工作。步骤如下：

1.  双击 glassfish->expand Publishing 并确保您设置了资源更改时自动发布
2.  右键单击服务器 -> Glassfish 并确保未选中 User Jar Archives fro Deployement
3.  然后确保您已自动取消选择 Project-Build

据我所知，maven 在保存时会触及资源，因此 Glassfish 重新启动。希望能帮助到你

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-02T08:34:31.220

如果您在 Eclipse 中安装了“Maven Integration for WTP”，请将其卸载（改用 m2e）。这样做，WebContent 资源（如 .xhtml 和 .css 文件）的热部署对我重新启用。不幸的是，我不知道这种解决方法起作用的原因。

无论如何，我也对您关于真正热部署的问题（尤其是 .java 文件）感兴趣。

# c++ - 关于&和| 手术

> ID：12419639
> 
> 赞同：-4
> 
> 时间：2012-09-14T07:04:07.680
> 
> 标签：c++, c

> **可能重复：**
> [位运算符的真实世界用例](https://stackoverflow.com/questions/2096916/real-world-use-cases-of-bitwise-operators)

我不太确定按位运算符`&`and `|`，有人可以向我解释这些运算符到底是做什么的吗？我昨天在[http://www.cprogramming.com/tutorial/bitwise_operators.html](http://www.cprogramming.com/tutorial/bitwise_operators.html)阅读了教程，但是我真的不知道我是否想将它应用到编码中，有人可以举一些例子。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:13:32.980

运算符`|`(OR)：

```
----------------------
 0000 1110 1110 0101
----------------------
 b 1001 0011 0100 1001
----------------------
a|b 1001 1111 1110 1101

```

运营商给出`1`是否`1`在其中一个数字中的位置。

运算符`&`（AND）：

```
----------------------
 0000 1110 1110 0101
----------------------
 b 1001 0011 0100 1001
----------------------
a&b 0000 0010 0100 0001

```

运算符在其中一个数字中给出`0`if。

**用法：**如果我只想要数字的一部分（比如说第二组四个），我可以写：

`a & 0x00f0`

**不**建议初学者使用位运算符。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:14:06.783

这是一个非常低级的编程问题。最小的内存位是“位”。一个字节是一个 8 位的块，一个字是一个 16 位的块，依此类推……按位运算符让您可以更改/检查这些块的位。根据您为您编写的代码，您可能永远不需要这些运算符。

例子：

```
unsigned char x = 10; /*This declares a byte and sets it to 10\. The binary representation
                        of this value is 00001010\. The ones and zeros are the bits.*/

if (x & 2) {
  //Number 2 is binary 00000010, so the statements within this condition will be executed 
  //if the bit #1 is set (bits are numbered from right to left starting from #0) 
}

unsigned char y = x | 1; //This makes `y` equal to x and sets the bit #0\. 
                         //I.e. y = 00001010 | 00000001 = 00001011 = 11 decimal 
```

# java - 让阔叶在单元测试中运行

> ID：12419640
> 
> 赞同：1
> 
> 时间：2012-09-14T07:04:14.700
> 
> 标签：java, spring, broadleaf-commerce

我试图让 Broadleaf Commerce 在一个简单的 JUnit 单元测试中运行，作为概念证明，看看我是否可以在没有 UI 的情况下执行基本的购物车操作，例如添加到购物车、更新数量和下订单。

看看我是否可以使用完全不同的 UI，并将 Broadleaf 作为后端。

到目前为止，这有点难以开始工作（只是为了让 spring 上下文启动并运行）。我正在使用 Gradle 来构建我的项目。配置如下所示：

测试类：

```
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration({
    "MyTest.xml",
})
public class BltMainTest {

@Test
public void test() {
    System.out.println("THIS IS A TEST");
}

} 
```

MyTest.xml：

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
       ">

<import resource="classpath:bl-framework-applicationContext-persistence.xml"/>
<import resource="classpath:bl-framework-applicationContext-entity.xml"/>
<import resource="classpath:bl-framework-applicationContext-workflow.xml"/>
<import resource="classpath:bl-framework-applicationContext.xml"/>
<import resource="classpath:bl-profile-applicationContext.xml"/>
<import resource="classpath:bl-profile-applicationContext-entity.xml"/>
<import resource="classpath:bl-profile-applicationContext-persistence.xml"/>

</beans> 
```

build.gradle 摘录（不得不做一些 hack 来让 ehcache 与 Maven Central 一起工作，不完全确定为什么）：

```
...
dependencies {
...
 compile 'net.sf.ehcache:ehcache-core:2.6.0'

 compile('org.broadleafcommerce:broadleaf-framework:1.6.1-GA') {
     exclude module: 'ehcache-terracotta'
     exclude module: 'ehcache'
 }
 compile('org.broadleafcommerce:broadleaf-profile:1.6.1-GA') {
     exclude module: 'ehcache-terracotta'
     exclude module: 'ehcache'
 }
...
} 
```

我得到的堆栈跟踪相当长，但最底部（我相信相关）部分是这样的：

```
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'blEntityManagerFactorySecureInfo' defined in class path resource [bl-framework-applicationContext-persistence.xml]: Invocation of init method failed; nested exception is java.lang.NullPointerException
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1455)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
    at org.springframework.orm.jpa.EntityManagerFactoryUtils.findEntityManagerFactory(EntityManagerFactoryUtils.java:99)
    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findNamedEntityManagerFactory(PersistenceAnnotationBeanPostProcessor.java:511)
    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findEntityManagerFactory(PersistenceAnnotationBeanPostProcessor.java:493)
    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor$PersistenceElement.resolveEntityManager(PersistenceAnnotationBeanPostProcessor.java:657)
    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor$PersistenceElement.getResourceToInject(PersistenceAnnotationBeanPostProcessor.java:630)
    at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:150)
    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)
    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessPropertyValues(PersistenceAnnotationBeanPostProcessor.java:339)
    ... 55 more
Caused by: java.lang.NullPointerException
    at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:527)
    at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:73)
    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:268)
    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)
    ... 69 more 
```

从查看课程来看，似乎有一个未指定的持久性单元 - 但我不确定在哪里寻找纠正。

最重要的是 - 当我在我的 config.xml 文件中更改 Spring 导入行的顺序时，错误会发生变化。

也许我以错误的方式接近这个，但我假设我应该能够通过以正确的顺序包含默认的 Broadleaf Spring XMLs 来使其工作 - 但我已经尝试了其中的一些并且没有骰子（有些相同错误，有些不同，都不好）。

关于如何让它发挥作用的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T01:33:25.700

在深入研究了这个之后，我确实得到了这个工作。需要一些具体的东西：

1.  原始帖子中的堆栈跟踪是由在两个不同的 Spring 上下文文件中定义的 blPersistenceUnitManager bean 引起的（不确定这些文件是如何在正常的 Broadleaf 设置中合并的），一个覆盖了另一个。解决方案是在导入所有组合配置的内容后定义一个，以便从所需的每个持久性单元读取。
2.  我必须明确使用 3.6.8.Final Hibernate 库而不是最新的 4.x（一些奇怪的错误，关于无法弄清楚如何处理 Map 类型的列）
3.  必须定义 blPasswordEncoder bean
4.  注意：下面示例中的 blCacheManager bean 是解决 EHCache 问题所必需的：http: [//jira.broadleafcommerce.org/browse/BLC-599](http://jira.broadleafcommerce.org/browse/BLC-599)

这是最终起作用的 Spring 上下文的内容：

```
<import resource="classpath:bl-common-applicationContext.xml"/>

<import resource="classpath:bl-framework-applicationContext.xml"/>
<import resource="classpath:bl-profile-applicationContext.xml"/>

<import resource="classpath:bl-framework-applicationContext-workflow.xml"/>

<import resource="classpath:bl-framework-applicationContext-persistence.xml"/>
<import resource="classpath:bl-profile-applicationContext-persistence.xml"/>

<import resource="classpath:bl-framework-applicationContext-entity.xml"/>
<import resource="classpath:bl-profile-applicationContext-entity.xml"/>

<bean id="blCacheManager" class="org.broadleafcommerce.common.extensibility.cache.ehcache.MergeEhCacheManagerFactoryBean">
    <property name="shared" value="true"/>
</bean>

<bean id="blPersistenceUnitManager" class="org.broadleafcommerce.common.extensibility.jpa.MergePersistenceUnitManager">
    <property name="persistenceXmlLocations">
        <list>
            <value>classpath*:/META-INF/persistence-common.xml</value>
            <value>classpath*:/META-INF/persistence-framework.xml</value>
            <value>classpath*:/META-INF/persistence-profile.xml</value>
        </list>
    </property>
</bean>

<bean id="blPasswordEncoder" class="org.springframework.security.authentication.encoding.PlaintextPasswordEncoder"/> 
```

这让我到了单元测试构建、运行、Hibernate 环境启动并且我可以@Resource() 东西等的地步。不确定它的功能如何，但我想我会发布这个答案问题，因为我走了那么远。

# c# - 检查重复的电子邮件ID

> ID：12419645
> 
> 赞同：0
> 
> 时间：2012-09-14T07:04:57.343
> 
> 标签：c#, asp.net, sql-server, stored-procedures

我正在检查使用存储过程通过电子邮件发送的重复文件

```
 ALTER procedure [dbo].[Insertreg]

( @id int output,@FirstName varchar (50),@LastName varchar(50) ,@Dob datetime,
    @Gender varchar(20) ,@MobileNo nchar(10) ,@Country varchar(50) ,
    @State varchar (50),@EmailId varchar (50),@Password nchar (15),@result int output

)
as 
begin

if exists(select EmailId from Profile_Master where EmailId=@EmailId)
set @result=0
else
begin
set @result=1

insert into Profile_Master(FirstName,LastName,Dob,Gender,MobileNo,Country,State,EmailId,Password)
 values 
(@FirstName,@LastName,@Dob,@Gender,@MobileNo,@Country,@State,@EmailId,@Password)
set @id=SCOPE_IDENTITY()
return
end 
end 
```

后面的代码

```
result = cmd1.Parameters.Add("@result", System.Data.SqlDbType.Int);
            result.Direction = System.Data.ParameterDirection.Output;
var id = cmd1.ExecuteNonQuery(); 
```

但是当我调试 emailid 是否存在时，我将 id 值设为 -1 我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:21:26.437

请试试：

```
cmd1.ExecuteScalar();
var id=Convert.ToInt32(result.Value); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:12:52.383

调用[**ExecuteNonQuery()**](http://msdn.microsoft.com/de-de/library/system.data.sqlclient.sqlcommand.executenonquery.aspx)将返回受影响的行数。正如您添加了一个**outputParameter**一样，您应该访问这个。

```
// access an output parameter
cmd1.ExecuteNonQuery();
var id = cmd1.Parameters["@result"].Value;

// OR: get the returnValue of a SP
var id = cmd1.ExecuteScalar(); 
```

**编辑**

使用这个版本的 sp 怎么样

```
ALTER procedure [dbo].[Insertreg]
( @FirstName varchar (50),@LastName varchar(50) ,@Dob datetime,
    @Gender varchar(20) ,@MobileNo nchar(10) ,@Country varchar(50),
    @State varchar (50),@EmailId varchar (50),@Password nchar (15))
as 
begin

    if exists(select EmailId from Profile_Master where EmailId=@EmailId)
        select -1;
    else
    begin
        insert into Profile_Master(FirstName,LastName,Dob,Gender,MobileNo,Country,State,EmailId,Password)
        values (@FirstName,@LastName,@Dob,@Gender,@MobileNo,@Country,@State,@EmailId,@Password)
        select SCOPE_IDENTITY();
    end 
end 
```

之后只使用

```
// no need for any output Parameters here...
int id = int.Parse(cmd1.ExecuteScalar().ToString()) 
```

访问您的 id 值。如果给定的邮件是唯一的，则值将大于 -1，如果电子邮件已经存在，则值将大于 -1！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T07:13:41.803

与 StoredProc 一起使用`ExecuteNonQuery`返回 -1。这是预期的行为。

将您的代码更改为

```
if exists(select EmailId from Profile_Master where EmailId=@EmailId)
   select 0 as result
else
   select 1 as result 
```

C#，你不需要在这里传递参数了

```
var id = cmd1.ExecuteScalar(); 
```

由于您使用的是 OUTPUT 参数，因此您也可以使用@Pilgerstorfer Franz 的方法

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-14T07:17:34.660

`id`不是一个，`Id`而是受影响的行数，因为您使用的是[`ExecuteNonQuery`](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.executenonquery.aspx)而不是[`ExecuteScalar`](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.executescalar.aspx)您应该检查`result`之后`ExecuteNonQuery`以获取输出变量。

```
result = cmd1.Parameters.Add("@result", System.Data.SqlDbType.Int);
result.Direction = System.Data.ParameterDirection.Output;
int numberOfAffectedRecords = (int)cmd1.ExecuteNonQuery();
// now result should have the output variable 
```

如果你想拥有新创建的 ID，你应该使用`ExecuteScalar`：

```
result = cmd1.Parameters.Add("@result", System.Data.SqlDbType.Int);
result.Direction = System.Data.ParameterDirection.Output;
int newID = (int)cmd1.ExecuteScalar();
// now result should have the output variable 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-14T07:18:42.183

这是[ExecuteNonQuery](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.executenonquery.aspx)的预期行为。您的查询不会影响任何行。

> 对于 UPDATE、INSERT 和 DELETE 语句，返回值是受命令影响的行数。当正在插入或更新的表上存在触发器时，返回值包括受插入或更新操作影响的行数以及受一个或多个触发器影响的行数。对于所有其他类型的语句，返回值为 -1。如果发生回滚，则返回值也是 -1。

你得到的结果如下：

```
result = cmd1.Parameters.Add("@result", System.Data.SqlDbType.Int);
result.Direction = System.Data.ParameterDirection.Output;
cmd1.ExecuteNonQuery();
var id = result.Value; 
```

# objective-c - 如何从单个项目 Xcode 派生项目

> ID：12419647
> 
> 赞同：2
> 
> 时间：2012-09-14T07:05:03.540
> 
> 标签：objective-c, ios, xcode

我有四个不同的项目，它们仅在头文件和图标文件中有所不同。为了进行简单的更改，我必须在所有项目中进行。有没有办法把这些项目结合起来？但我想要 4 个不同的应用程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T09:08:12.943

你可以制作多个标签。

在导航器中单击您的项目名称。在目标部分，复制您当前的目标。现在您可以在此目标中进行更改，例如更改图标、包名称。

对于头文件，您可以使用[预处理器宏来执行此操作](https://stackoverflow.com/questions/8848263/how-to-differentiate-multiple-targets-with-xcode-4-2?answertab=active#tab-top)

我正在使用它来制作 5 个版本的应用程序，它们仅与 .h 文件不同。

# iphone - 当我在 iphone sdk 中发推文时应用程序崩溃

> ID：12419649
> 
> 赞同：0
> 
> 时间：2012-09-14T07:05:12.203
> 
> 标签：iphone, ios, xcode

应用程序在线路崩溃....

```
[AppDel.engine getFollowedTimelineSinceID:1 startingAtPage:1 count:100];
[AppDel.engine sendUpdate:textView.text]; 
```

请帮助我....我正在尝试从昨天解决它....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:12:05.313

如果您`MGTwitterEngine`在 iOS 应用程序中使用 twitter 实现。对于 iOS 5 及更高版本，它会崩溃。您需要替换 twitter 连接 url 的..

这是一个[重复](https://stackoverflow.com/questions/8576877/mgtwitterengine-crash-in-ios5)的问题，在此链接中为 TwitterEngine 提供了新的 url，替换它们适用于 iOS 5 以上和以下的 iOS 5。

# wso2 - esb 解决方案、servicemix 还是 wso2？

> ID：12419650
> 
> 赞同：4
> 
> 时间：2012-09-14T07:05:16.580
> 
> 标签：wso2, wso2esb, esb, apache-servicemix, bus

我们正在尝试决定在 ServiceMix 或 WSO2 之间选择哪个 ESB？

我们正在寻找 esb：

*   支持不同的协议（REST、SOAP、JMS、HTTPS、..）
*   生成统计信息或一些控制台以查看“发生了什么，有多少请求到达，有多少失败，......”
*   开发代理服务
*   支持 JMS

重要的一点是价格，ServiceMix 和 WSO2 是免费的，但是 ServiceMix 也有免费的支持，……我不知道 WSO2 是不是这样。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-27T16:43:47.893

我们一直在项目中使用 WSO2，老实说，作为 Java 开发人员，我不喜欢 WSO2。- WSO2 文档非常糟糕。基本上他们所有的例子都是从 Apache synapse 复制粘贴。- 咨询架构师向我们展示了在 GUI 上开发代理服务是多么容易，从而向我们推销了 WSO2，但是如果您尝试超越基础并寻找可以告诉您特定选项在 GUI 中的作用的示例，那么您将对不起。如果一家公司宣传它还提供基于 GUI 的解决方案的视频，因为许多 Java 开发人员不喜欢使用 XML，那么它应该有示例和文档来展示如何使用他们的 GUI 做事情，而不仅仅是从 Apache Synapse 复制粘贴 Xml 解决方案.

*   当我使用 wso2 ESB 4.XX 版本（有更新的版本）时，我在 GUI 中发现了几个错误。PS 我听说这些错误已在最新版本的 WSO2 ESB 中修复。

*   从那以后，我开始使用 serviceMix，我非常高兴。服务组合非常直观，文档非常好。就 WSO2 有 eclipse 插件的论点而言，ServiceMix 也有（查看 Fuse ESB IDE）。

*   当我的经理在 WSO2 登陆页面上看到 EBAY 使用 WSO2 时，他被卖掉了，所以它一定非常好。现在这是错误的方法。Ebay 可能遇到了与我们不同的问题，因此上面提到的某个人将您的问题置于您打算使用的产品之前。

*   WSO2 的学习曲线非常陡峭，祝您在谷歌上找到解决方案。

*   在 Servicemix 中，您可以使用 DSL/XML 或纯 Java 来做您的事情。

更新：随着 WSO2 ESB 的最新版本，WSO2 创建了示例/示例，展示了如何在 GUI 中和通过普通的旧 XML 做事。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-08T17:40:11.890

我一直强烈倾向于 WSO2，并禁止任何完全出乎意料的事情，这是我在第一季度的当前方向。

现场/原样：

*   Oracle 服务总线 11g
*   Oracle SOA Suite 10g 和 11g（用作“服务总线”）

“路线图”加法候选人：

*   WSO2 ESB (Apache Synapse+)
*   阿帕奇服务组合

强大的挑战者：

*   熔断 ESB (Apache ServiceMix+)
*   超ESB

无争议：

*   骡子 ESB
*   Tibco、WebMethods 以及其他任何大笔资金

将 ESB 定义为无状态转换、路由和中介 我有以下系统正在运行或研究中（我们正在*努力*推出 OAGiS，您的问题对我来说很热门）。我对上述列表中的项目的经验和印象无序：

1) Oracle SOA Suite 10g 和 11g（可怕地被用作“穷人的”ESB） 我的心痛一直是 Oracle SOA Suite。这是我非常喜欢的产品，但我的组织不能——不会——购买 RAC。没有 RAC，SOA 套件就不会“飞”起来。此外，SOA Suite 的架构可以“做所有事情”，包括我更喜欢使用 Camel 的无状态适配器（例如，JMS-、File-、DB-适配器等）。因此，它是有状态和无状态、即时和长时间运行、持久和短暂、编排和编排混乱的混合体。这有利于更快地做出大量错误的长期决策。

2) OpenESB 我对“SOA”的初恋……在零售业中崭露头角。然后甲骨文收购了 Sun。这就是那种结束。

3）Oracle Service Bus 11g（BEA AquaLogic Service Bus）我正在积极寻找替换Oracle产品；虽然我喜欢 OSB 产品——事实上非常喜欢它——它在安全标准方面已经很久了，现在感觉几乎失去了支持，因为 Oracle 想出了如何将它从 BEA (Eclipse) 中取出并将其移入Oracle 的基础架构（阅读：JDeveloper）。顺便说一句，我越来越欣赏 JDeveloper，但这是另一个话题。WS-* 标准已经过时了。没有内置的发布/订阅机制；但 JMS 得到很好的支持。但是，如果我想管理 JMS-as-MOM，我可以这样做并最成功地使用 Camel。综上所述，OSB 是一款非常出色的产品，我们已经为多个 ESB 提供了空间。我们基于规范运行多条总线：OAGiS、NIEM 等。我*正常运行时间。*

 *4) Fuse ESB 对此进行了调查，我最大的集成合作伙伴之一使用了它。使用一组基本的企业集成模式进行测试，出于某种原因，这对于使用 Fuse 来说并非易事。我有几个不是来自 Maven 心态的开发人员，IDE 将车轮从马车上取下来。当然，所有 ServiceMix 控制台驱动的 ESB 都是一样的，因此区别在于 IDE 和控制台。我还认为“漂亮是一项功能”，我们​​的开发人员和支持人员使用控制台来帮助解决客户问题。因此，Fuse 并没有让我惊叹，但它也没有让我失望。

5) Mule ESB 我记得 Mule 来自“过去的美好时光”（真的是在我开始使用 Apache Camel 之前），我用它来将信息从任何地方移动到任何地方。非常点对点，非常老派，但效果的黄金标准。但那是没有“ESB”的Mule。Mule EBS 很轻（他们这么说），我被强调说美国职业棒球大联盟使用它，所以我一定是有点疯了，不会立即购买它。使用 LDAP 的能力是一项企业功能。我几乎可以接受 SAML2 或 OpenID 或 OAuth 作为企业功能，但是 LDAP？我知道这很琐碎，但它表明了我认为缺乏“开发者的心”。我认为社区版是一瘸一拐的。

6) Apache ServiceMix 如果我使用 servicemix，我想找到一个为控制台和报告增加价值的服务。但是，如果我认为这不是那么重要，如果我的意图是创建一个极其简化的“程序员”体验，我不妨使用 ServiceMix 本身。我们非常擅长 Ant、Maven 和 Gradle。您可能会问，如果我们要跳圈，为什么不跳 Fuse ESB 圈呢？没有好的答案，除非我希望 Fuse 已经移除了箍。

7) WSO2 ESB 我们已经使用了一些 G-Reg 产品，我对它的体验很好。他们的安全标准是最新的并且非常好；界面足够好和体面，可以让助理开发人员帮助解决问题；正如上面提到的@ivo，WSO2 工作人员广泛使用 stackoverflow。我们已经在“云”中使用了他们的 Stratos-live 产品，但永远无法完全让自己“在那里”（完全是我们在安全方面和所有方面的等式）。我在这里有一条软规则，即任何开源软件都必须由具有合理技能的开发人员在本地构建。使用 WSO2 软件从未如此顺利。所以这是一个风险。但是，如果您对提供的二进制文件感到满意，我认为您可以使用 WSO2 取得成功。

正如@user9591 提到的那样，Ebay 使用了 WSO2，这对你来说要么是一件事情，要么不是。我认为它对在这里“出售”它产生了强烈的影响。

8) Tibco、WebMethods 和任何其他非开源系统虽然我几年没有使用过 Tibco，但为了完整性添加了这个。不是开源的，所以它是。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-14T07:30:13.597

WSO2 ESB 支持你需要的所有东西，并且非常容易使用。有很多有用的博客、在线文档和一些网络研讨会。

wso2 esb 免费支持主要在 stackoverflow 中，他们也支付了支持，但您必须联系他们的价格（我认为价格取决于您需要的支持类型）。

我还没有评估过 servicemix，但 WSO2 ESB 看起来不错。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-14T23:32:43.847

取决于你需要做什么。

ServiceMix（Fuse ESB）本质上是一个围绕 Apache Camel、Apache ActiveMQ 和 Apache CXF（+ 一些其他 Apache 集成项目，如 ODE）的 OSGi 容器/控制台。捆绑的 ActiveMQ 提供了一个开箱即用的 JMS 平台，例如 Mule ESB 并非如此（尽管将 Mule 与 ActiveMQ 捆绑起来很简单）。

ServiceMix 的主要组件，Camel 和 ActiveMQ，通过邮件列表和错误跟踪器获得了非常强大的社区支持。

Mule 的 Studio 和数据映射器确实非常强大，尽管与 EE 版本相比，免费的社区版感觉相当有限，特别是在您要求的监督/监控方面。

我不了解 WSO2，但在服务组合和 Mule ESB CE 中实际跟踪流经 ESB 的消息的支持非常有限（如果有的话）。通过日志记录实现一些统计数据并不难，但这是手动操作。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-25T01:49:33.213

我建议将此链接作为初学者的参考页面。 [http://www.javacodegeeks.com/2012/03/integration-framework-comparison-spring.html](http://www.javacodegeeks.com/2012/03/integration-framework-comparison-spring.html)

我没有使用过 wso2，但绝对可以谈论保险丝。我一直在使用保险丝的不同集成能力。最重要的是，它是基于 osgi 的，如果你正在构建一个新的解决方案，这绝对是一个需要考虑的事情。我发现 fuse 社区非常活跃。fuse 最好的一点是它除了 jms、rest、http(s) 代理端点、负载均衡器等之外，还为 aws、hdfs 和 hbase 提供集成功能

Fuse 确实提供了一个 ide。

关于日志记录，您绝对可以记录到达 esb 的每条消息。

最后，我想说一句好话，不要先考虑 esb 的能力，而是把你的问题放在前面，看看哪一个能更好地为你解决问题。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-10-24T14:17:13.793

我正在评估我目前工作的各种 ESB 部分，并且迄今为止我对 WSO2 和 Apache 突触做了一些研究

WSO2 是基于 Apache synapse 创建的，它具有出色的管理控制台。我会说这可能是他们的卖点。当涉及到支持时，唯一可行的解​​决方案是您必须为支持付费。即使存在通过 stackoverflow 提供的社区支持，但我的查询没有回复。

关于 Synapse，我会说它不活跃。在 6 年的时间里只发布了 6 个版本，最后一次发布是在 18 个月前完成的。我仍在评估 JBoss Fuse、ServiceMix 和 Mule

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-14T07:32:43.940

WSO2 还通过其社区提供[免费支持。](http://wso2.com/support/#community)WSO2 ESB 支持不同的传输，还能够生成统计信息（中介、服务等）。只需看看[产品页面](http://wso2.com/products/enterprise-service-bus/)。您可以将 ESB 与 WSO2 BAM 2.0 集成，从而为您提供分析和监控。此外，它还提供了一个可以轻松连接的完整平台。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-09-15T14:16:55.500

WSO2 ESB 对统计有广泛的支持。正如我所看到的，它支持用户要求的所有东西，等等。在那里，虽然您可以通过集成 BAM 获得详细的分析和统计信息，但 WSO2 ESB 本身提供了适合用户的统计信息。请参阅 WSO2 ESB 文档中标题为[Monitoring WSO2 Enterprise Service Bus](http://docs.wso2.org/wiki/display/ESB450/Monitoring+WSO2+Enterprise+Service+Bus)和[Statistics](http://docs.wso2.org/wiki/display/ESB450/Statistics)的部分。

是的，WSO2 ESB 支持[REST](http://wso2.org/library/webinars/2011/11/rest-amp-api-management-wso2-esb)、SOAP、JMS、HTTPS 以及其他支持的传输。WSO2 ESB 产品主页中提供了支持的协议和传输。

WSO2 提供 UI 支持来开发代理服务，这使得开发代理服务更加容易。

我不熟悉 ServiceMix，但我认为您可以从其他答案中获得一些适用的事实。*

# html - HTML5缓存每次下载root

> ID：12419652
> 
> 赞同：0
> 
> 时间：2012-09-14T07:05:19.340
> 
> 标签：html, offline-caching, cache-manifest

我正在使用 HTML5 应用程序缓存，从一开始我就遇到了问题：/ 我正在尝试为我的页面设置简单的离线回退，以便有漂亮的页面样式而不是经典的离线错误。根据我有红色的少量资源，我创建了这个清单文件。

```
CACHE MANIFEST
# 0.01
CACHE:

NETWORK:
*

FALLBACK:
/ /offline.html 
```

问题是，浏览器加载到缓存中的不仅是`offline.html`文件，还有根页面，这导致该页面显示有很多错误（没有加载 js，没有加载图像，没有 CSS，......）而离线并且`offline.html`完全被浏览器绕过。下面的屏幕截图显示了有关缓存进度的记录信息。您可以在那里看到，浏览器会下载这两个文件，而不是`offline.html`像我试图做的那样。

所有这些都在最新的开发版 Chrome (23.0.1262.0 dev) 中完成

![在此处输入图像描述](../Images/bd1bb13bf588e529bde91fd00b374e93.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T09:56:58.537

引用清单文件的页面始终包含在脱机缓存中。如果您不希望根页面被缓存，那么您需要创建一个单独的静态页面来引用清单并将其加载到`iframe`.

# javascript - 如何使 jQuery 插件函数可调用以供独立使用，而不对集合进行操作

> ID：12419658
> 
> 赞同：6
> 
> 时间：2012-09-14T07:05:42.117
> 
> 标签：javascript, jquery, jquery-plugins, plugins

我阅读了[插件创作的 jquery 文档](http://docs.jquery.com/Plugins/Authoring)并且对此很熟悉。但是，给出的示例总是对一组先前匹配的元素进行操作。我想创建一个可以同时做的函数：

```
// example usage of my to-be-created plugin function

// this is the way described in the docs, and I know how to do that
$("a").myFunction ()

// but I also want to be able to call the function without a collection:
$.myFunction (); 
```

如果`$.myFunction ()`在没有要操作的集合的情况下调用它，它将创建自己的要匹配的元素的集合 - 一种初始化过程（但不一定只运行一次）。此外，`$.myFunction ()`应该保持可链接性。

我想要实现的伪代码：

```
// [...]
function myFunction (): {
    if (notCalledOnACollection) {
        // this should run when called via $.myFunction ()
        $elements = $("a.myClass");
    }
    else {
        $elements = $(this);
    }
    return $elements.each (function () {
        // do sth. here 
    });
} 
```

我真的很想将所有函数实现/功能保留在一个函数定义中，而不是在 jQuery 对象中的两个不同位置有两个单独命名的函数或两个同名函数。

当然，我可以添加一个参数`myFunction (do_init)`来指示`if`要执行的语句的哪个分支，但这会使我的参数列表变得混乱（我想将这种方法用于多个插件，并且`myFunction ()`为了简单起见，我在这里省略了一些参数）。

有什么好的建议吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-14T07:20:22.117

只需在插件定义中添加另一个引用，您就可以轻松使用标准插件代码：

```
(function( $ ) {
    $.myPlugin = $.fn.myPlugin = function(myPluginArguments) {
        if(this.jquery)
            //"this" is a jquery collection, do jquery stuff with it
        } else {
            //"this" is not a jquery collection
        }
    };

    $.fn.myPlugin.otherFunc = function() {
    };
})( jQuery ); 
```

这里唯一的区别是`$.myPlugin =`允许你直接调用你的插件而不运行jquery的选择器函数的部分。如果您决定需要其他功能或属性，您可以将它们创建为插件的属性。

用法：

```
//using a selector (arguments optional)
$(".someClass").myPlugin();

//using the options variable - or whatever your arguments are
$.myPlugin({id: "someId"});

//accessing your other functions/properties
$.myPlugin.otherFunc(); 
```

# asp.net - 使用 ASP.Net 在 FaceBook 墙上安排和发布评论

> ID：12419660
> 
> 赞同：-3
> 
> 时间：2012-09-14T07:05:45.670
> 
> 标签：asp.net, facebook

我想开发像 hoosuite 这样的应用程序。com

使用 ASP.Net 安排 Facebook 墙

主要问题：

一旦用户登录我的系统，那么他需要添加他的 Facebook 用户名和密码，然后我如何存储该用户的 FB 用户名和密码，因为他们需要安排和发布评论到 Facebook 墙，所以每次用户都不会登录

可以一步一步指导吗？

我希望你们都帮助我

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T08:56:35.797

> 一旦用户登录我的系统然后他需要添加他的 facebook 用户名和密码然后我如何存储该用户的 FB 用户名和密码

这完全是错误的方法——FB 的政策不鼓励用户与第三方服务共享他们的登录凭据，如果你的应用程序被要求提供这些凭据，它很可能会很快被禁用。

从用户那里获取访​​问令牌，并使用这些令牌进行发布。

[https://developers.facebook.com/docs/authentication/](https://developers.facebook.com/docs/authentication/) , [https://developers.facebook.com/roadmap/offline-access-removal/](https://developers.facebook.com/roadmap/offline-access-removal/)

# javascript - Javascript 时间轨迹

> ID：12419664
> 
> 赞同：0
> 
> 时间：2012-09-14T07:06:01.643
> 
> 标签：javascript, cookies

我的要求是访问该网站后 15 分钟，用户将导航到注册页面。即使再次打开该页面，我也需要跟踪该页面，用户将导航到注册页面。

作为要求，我认为使用 cookie 是可能的，但我需要计算访问该站点的时间。当站点访问分钟数达到 15 时，js 将触发一个函数，我可以在那里设置 cookie 和重定向。

任何人都可以帮我跟踪js的网站访问分钟数吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:25:49.897

虽然我同意时代，但*可以*使用`localStorage`：

```
(function (timer)
{
    var now = new Date();
    var redirect = function()
    {
        location.href = 'register url';
    }
    if (!localStorage.getItem('registrationMinutes'))
    {
        localStorage.setItem('registrationMinutes',(+now)+60000*15);//time +15 minutes
    }
    if (localStorage.registrationMinutes <= +now)
    {//on page load, check if 15 mins are up
        return redirect();
    }
    timer = setTimeout(redirect,localStorage.registrationMinutes - now);//call function when time is up
})(); 
```

只需在所有页面上包含这个小功能。您可能想设置一个 cookie `userIsRegistered`，而*不是*在客户端已经注册时设置超时。
只要知道这段代码将被发送给客户端，他或她仍然可以自由禁用 cookie、JS ......而且，我认为`localStorage`旧的 IE 浏览器不支持（有惊喜！）
如果这一切有点多，这是一个简单的复制粘贴片段：

```
(function (url,now,timer)
{
    var redirect = function()
    {
        location.href = url;
    }
    if (!localStorage.getItem('registrationMinutes'))
    {
        localStorage.setItem('registrationMinutes',(+now)+60000*15);//time +15 minutes
    }
    if (localStorage.registrationMinutes <= +now)
    {//on page load, check if 15 mins are up
        return redirect();
    }
    timer = setTimeout(redirect,localStorage.registrationMinutes - now);//call function when time is up
})('redirectUrl',new Date()); 
```

只需`'redirectUrl'`用您的网址替换字符串，它应该可以正常工作。也不需要更改变量名：它都包含在这个匿名函数的作用域中，因此与父作用域中声明的变量没有冲突。

# android - 在android中获取缩放图像位图的高度和宽度

> ID：12419666
> 
> 赞同：0
> 
> 时间：2012-09-14T07:06:03.687
> 
> 标签：android, android-imageview

放大缩小后如何获取ImageView的高度和宽度。

我正在使用以下代码：

```
mRectSrc.left = (int)(panX * bitmapWidth - viewWidth / (zoomX * 2));
            mRectSrc.top = (int)(panY * bitmapHeight - viewHeight / (zoomY * 2));
            mRectSrc.right = (int)(mRectSrc.left + viewWidth / zoomX);
            mRectSrc.bottom = (int)(mRectSrc.top + viewHeight / zoomY);
            mRectDst.left = getLeft();
            mRectDst.top = getTop();
            mRectDst.right = getRight();
            mRectDst.bottom = getBottom();

            // Adjust source rectangle so that it fits within the source image.
            if (mRectSrc.left < 0) {
                mRectDst.left += -mRectSrc.left * zoomX;
                mRectSrc.left = 0;
            }
            if (mRectSrc.right > bitmapWidth) {
                mRectDst.right -= (mRectSrc.right - bitmapWidth) * zoomX;
                mRectSrc.right = bitmapWidth;
            }
            if (mRectSrc.top < 0) {
                mRectDst.top += -mRectSrc.top * zoomY;
                mRectSrc.top = 0;
            }
            if (mRectSrc.bottom > bitmapHeight) {
                mRectDst.bottom -= (mRectSrc.bottom - bitmapHeight) * zoomY;
                mRectSrc.bottom = bitmapHeight;
            }

            canvas.drawBitmap(mBitmap, mRectSrc, mRectDst, mPaint); 
```

所以使用这个代码我得到了图像的缩放效果。放大和缩小后如何获取位图高度和宽度。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:57:08.017

我尝试寻找一些内置函数来获取附加到图像视图的位图大小，但找不到。所以，我做了一个解决方法。只需将位图的初始高度和宽度存储在某个变量中，然后使用比例因子更新这些变量值。
这是您如何获取附加图像的位图（将始终返回初始大小）：

```
Drawable d = imageView.getDrawable();
    Bitmap bmp = ((BitmapDrawable)d).getBitmap();
    float w = bmp.getWidth();
    float h = bmp.getHeight(); 
```

更新值的方法：

```
public void updateSize(float scaleFactor)
{
     w *= scaleFactor;
     h *= scaleFactor;
} 
```

您可以从向图像添加缩放的位置调用此方法。

# c# - Linq 到 NHibernateMax

> ID：12419674
> 
> 赞同：0
> 
> 时间：2012-09-14T07:07:12.020
> 
> 标签：c#, linq-to-nhibernate

我正在使用 Linq to NHibernate 开发 C#。

我定义了 2 组类和映射：

```
public class Employee
{
    public int ID { get; set; }
    public string Name { get; set; }
} 
```

```
<hibernate-mapping ...>
    <class name="Example.Employee, Example">
        <id name="ID">
            <generator class="assigned" />
        </id>
        <property name="Name" length="100" not-null="true" />
  </class>
</hibernate-mapping> 
```

```
public class Department
{
    public DepartmentID ID { get; set; }
    public int EmployeeID
    {
        get { return this.ID.Employee.ID; }
        set { }
    }
    public string Name { get; set; }
} 
```

```
<hibernate-mapping ...>
    <class name="Example.Department, Example">
        <composite-id name="ID">
            <key-many-to-one name="Employee" column="EmployeeID" />
            <key-property name="StartDate" />
        </composite-id>
        <property name="EmployeeID" not-null="true"/>
        <property name="Name" not-null="true"/>    
    </class>
</hibernate-mapping> 
```

并执行以下查询：

```
var result =
    from x in employeeQueryable
    join y in departmentQueryable on x.ID equals y.EmployeeID
    where y.ID.StartDate <= DateTime.Parse("2012/9/10")
    group y by y.EmployeeID into xy
    select xy.Max(a => a.ID.StartDate); 
```

但此查询引发以下异常：

> 无法识别查询源。ItemName = a，ItemType = Example.Department，Expression = from Department a in [x]

如果`employeeQueryable`and`departmentQueryable`是数组类型（不是 linq to NHibernate），那么这个查询不会抛出异常。

我应该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T13:40:56.030

摆脱部门中的 EmployeeID 并使用

```
var result =
    from d in departmentQueryable 
    where d.ID.StartDate <= new DateTime(2012, 9, 10)
    group d by d.ID.Employee.Id into g
    select g.Max(d => d.ID.StartDate); 
```

# php - PHP转换WIM日期格式

> ID：12419677
> 
> 赞同：1
> 
> 时间：2012-09-14T07:07:30.117
> 
> 标签：php, .net, windows

我正在为[WIM 文件](http://en.wikipedia.org/wiki/Windows_Imaging_Format)（长篇故事）编写一个包装库，但我一直难以处理其中编码的日期。格式为：

```
[creationtime] => Array
                        (
                            [highpart] => 0x01CA0446
                            [lowpart] => 0x8E44DCAF
                        ) 
```

此格式位于 WIM 文件 XML 中。我已经尝试了所有我能想到的日期解码技术！任何想法将不胜感激。我唯一要做的就是与 Long Integers 和 WIN32 DateTime 相关的事情......但到目前为止还没有运气。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:27:30.947

`liCreationTime``LARGE_INTEGER`在 WIM 规范中定义（我从 MS 下载）

在我看来，这与返回的时间戳相似（如果不相同）`QueryPerformanceCounter`- 谢天谢地，这让事情变得非常简单！

我使用计算器和命令行 PHP 做到了这一点，您必须自己实现代码。

把你的高低部分变成一个单一的 64 位值。

> 0x01CA04468E44DCAF -> 128920240414579887

除以 100000000

> 1289202404

使用它作为输入`date()`

```
php -r "var_dump(date('Y-m-d H:i:s', 1289202404));"
string(19) "2010-11-08 07:46:44" 
```

**编辑：**

或者，也许我只是走运了。

如果它是自 1601 年以来的纳秒数，正如其他答案似乎表明的那样，您可以使用稍微不同的计算。

```
php -r "var_dump(date('Y-m-d H:i:s', (128920240414579887/100000000)-41651963));"
string(19) "2009-07-14 05:47:21" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:26:28.230

我相信它们可能与 c/c++ FILETIME 结构有关

[http://msdn.microsoft.com/en-us/library/windows/desktop/ms724284(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724284(v=vs.85).aspx)

# entity-framework - 如何为选定的 PriceRange 从实体模型中检索 Productimages 编写 linq 查询？

> ID：12419684
> 
> 赞同：0
> 
> 时间：2012-09-14T07:07:56.357
> 
> 标签：entity-framework, linq-to-entities, asp.net-mvc-4

大家好，我的 MVC4 WebApi 应用程序中有一个实体模型 ProdcutTable，它具有以下列名称

```
 [ProductID] [ProductName] [ProductDescritpion] [Price] [ImageURL] and so on 
```

现在我必须将价格范围作为参数示例

```
 frstvale=$200
     SecoundVal=$500 
```

我必须从 ProdcutTable 中检索所选价格范围的 [ProductID] [ProductName] [ProductDescritpion] [Price] [ImageURL] 我如何为此编写 linq 查询目前我正在通过 ajax 从表中检索所有图像现在打电话我必须将价格的参数传递给我的方法并检索所选价格范围的记录，任何人都可以帮助编写查询

```
 this is my model

     public class Products
{
    public int ProductID { get; set; }
    public string ProductName{get;set;}
    public string ProductDescription { get; set; }
    public string ProductColor { get; set;}
    public string ProductSize { get; set; }
    public string Brand { get; set; }
    public int Price { get; set; }
    public string Department { get; set; }
    public string ImageURL { get; set; }
    public string DetailsURL { get; set; }
    public string Gender { get; set; }
    public string Firstvalue { get; set; }
    public string Lastvalue { get; set; }
} 
```

这就是我检索所有图像的方式

```
 private ProductsEntities products = new ProductsEntities();
     public IEnumerable<ProductTable> GetAllProdcuts()
    {
        return products.ProductTables.AsEnumerable();
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:11:36.973

您可以使用`Where`将表达式作为参数的扩展方法来过滤掉返回对象。

```
private ProductsEntities products = new ProductsEntities();
public IEnumerable<ProductTable> GetAllProdcuts()
{
    return products.ProductTables.Where(x=>x.Price>firstPrice && x.Price<secondPrice).AsEnumerable();
} 
```

# winforms - C# 中的故障恢复

> ID：12419688
> 
> 赞同：0
> 
> 时间：2012-09-14T07:08:22.180
> 
> 标签：winforms, sms, c#-3.0, recovery

我在 C# Windows Forms 中有一个 SMS 应用程序，它需要运行 24*7 。但是，每次出现异常时都会导致应用程序终止其执行并在 60 秒后启动（它在计划任务中）。我的要求是它应该在捕获异常后 10 秒内启动。C# 中是否有任何用于故障恢复的类或方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:37:49.053

如果您想 24*7 运行应用程序，您应该创建一个[Windows 服务](http://msdn.microsoft.com/en-us/library/d56de412(v=vs.100).aspx)，它可以在安装时进行配置，以便在出现故障时重新启动。有关详细信息，请参阅[此 SO 问题](https://stackoverflow.com/questions/1633429/install-windows-service-with-recovery-action-to-restart)。

此外，您可能希望通过在[AppDomain.UnhandledException上注册来将](http://msdn.microsoft.com/en-us/library/system.appdomain.unhandledexception.aspx)[UnhandledExceptionEventHandler](http://msdn.microsoft.com/en-us/library/system.unhandledexceptioneventhandler.aspx)添加到默认应用程序域。另一个有趣的事件是[Application.ThreadException](http://msdn.microsoft.com/en-us/library/system.windows.forms.application.threadexception.aspx)，它可用于处理 Windows 窗体线程中发生的异常。

# css - 只使用了一些 CSS

> ID：12419689
> 
> 赞同：0
> 
> 时间：2012-09-14T07:08:27.807
> 
> 标签：css, wordpress, html, css-float

我非常困惑并寻求帮助。我正在编辑一个 Wordpress 主题，并且在 css 的 5 行内它只是停止“阅读”它。

由于我在 Wordpress 中使用了标题，因此我无法在 jsfiddle 或 cssdesk 中发布示例，并且不受支持。

另外，让我感到困扰的是，这是之前工作的。去吃饭了，现在不行了。

[http://continuum.theneocloud.com/echo-pedicure-chair/](http://continuum.theneocloud.com/echo-pedicure-chair/)

是开发网站。它应该是底部的 3 行图片，中间有标题。就像我说的，以前工作过。浏览器正在查看 css 文件，因为我可以去检查元素，并查看正在加载的样式表。

示例问题：标题没有清除浮动，底部图片没有浮动，即使 css 是正确的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T07:15:45.737

在[此文件](http://continuum.theneocloud.com/wp-content/themes/Karma/style.css)的第 1522 行，您有以下声明：

```
#content ol li, #content ul li, .content_full_width ol li, , .content_full_width ul li {margin-bottom: 5px;} 
```

那里有一个额外的逗号，会产生解析错误。

此外，在[此文件](http://continuum.theneocloud.com/wp-content/themes/Karma/css/shutter.css)的第 20 行，您将使用右括号而不是右大括号结束规则。

```
#Echo_Plus_Upholstery_Options {float:left;margin-left:25%;) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T07:22:42.397

您遇到的一个问题是您没有正确清除浮动。

将此添加到您的 CSS 中：

```
h4.picture_titles{
    clear: both;
} 
```

因为`<div>`你在下面的每一个都向左浮动（`#CurvedBase`和`#echo_options`）`#Echo_Plus_Upholstery_Options`，所以下面的标题是关闭的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T07:14:23.807

添加`float:left`到所有 3 个图像标签。

即在里面`<div id="Echo_Plus_Upholstery_Options">`

```
 <div id="echo_plus_upholstery_options_black" class="wp-caption alignnone" 
style="width: 160px; float:left"> 
```

# sql - 在 SQLite 的 SELECT 查询中将整数转换为文本？

> ID：12419693
> 
> 赞同：43
> 
> 时间：2012-09-14T07:08:38.620
> 
> 标签：sql, sqlite, type-conversion

我想创建一个 SELECT 查询，它将以格式从列中返回数字`integer`作为`text`格式 - 我可以在 SQLite 中执行此操作吗？

* * *

## 回答 #1

> 赞同：95
> 
> 时间：2012-09-14T07:23:39.240

SQLite 支持[CAST](http://www.sqlite.org/lang_expr.html#castexpr)并且：

> 将 INTEGER 或 REAL 值转换为 TEXT 会像通过 sqlite3_snprintf() 一样呈现该值，但生成的 TEXT 使用数据库连接的编码。

所以你可以做这样的事情：

```
select cast(some_integer_column as text) from some_table; 
```

或者，根据您要执行的操作，您可以将数字视为字符串，并让 SQLite 强制转换它认为合适的类型：

```
select some_int || ' pancakes' from some_table;
select some_int || '' from some_table; 
```

# jquery - Fancybox 导致出现滚动条

> ID：12419695
> 
> 赞同：1
> 
> 时间：2012-09-14T07:08:43.147
> 
> 标签：jquery, fancybox

我之前已经成功使用了fancybox，但是在我最新的设计中，fancybox 会导致出现滚动条，即单击图像，图像会显示在窗口中间，并且窗口本身会出现它以前没有的滚动条. 当一个人改变窗口大小或字体大小时，我的布局是流畅和调整的。然后，使用fancybox，整个页面会无缘无故地移动和重新缩放，这看起来很糟糕并且还使用了处理器能力。

这可能是什么原因？

此外，背景无法变暗......fancybox 通常会做什么来实现这一点，为什么我的设计会失败？

以下是一些代码片段：

```
<script type="text/javascript">
jQuery.noConflict();
jQuery(document).ready(function($) {
$('.fancybox').fancybox();
});
</script>

<div id="wrapper">
<div id="classes" class="post">
<h2>料理教室・ワークショップ</h2>
<a class="fancybox" rel="classes" href="http://127.0.0.1/wordpress/wp-content/themes/hitomiskuche/images/classes/1.jpg">フォトス</a>
<a class="fancybox" rel="classes" href="http://127.0.0.1/wordpress/wp-content/themes/hitomiskuche/images/classes/2.jpg"></a>
<a class="fancybox" rel="classes" href="http://127.0.0.1/wordpress/wp-content/themes/hitomiskuche/images/classes/3.jpg"></a>
</div>
</div>

#classes {
    width:40%;
    position:absolute;
    left:5%;
    bottom:10%;
    background-color:#fff;
    padding:1em;
    opacity:0.65;
    box-shadow:2px 2px 3px #555;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-12T07:56:23.273

尝试这个：

```
$(".fancybox").fancybox({
    helpers : {
        overlay : {
            locked : false
        }
    }
}); 
```

如果您使用像“超大”这样的全屏背景，您可能还希望将其添加到页面的 css 中：

```
html {overflow: -moz-scrollbars-vertical; overflow: scroll;} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-06-17T04:49:52.510

正如 Rob 和 Eva 所回答的那样，将帮助代码添加到 java script conf 对我有用

这是我的完整代码

```
 $(document).ready(function() {
            $(".fancybox").fancybox({
                maxWidth        : 800,
                maxHeight   : 500,
                fitToView       : true,
                width       : '100%',
                height      : '100%',
                autoSize        : true,
                closeClick      : true,
                openEffect  : 'elastic',
                closeEffect : 'elastic',
                helpers : {
                overlay : {
                    locked : false
                }
            }

            });
        }); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-14T15:12:39.450

Fancybox 使用该类`fancybox-overlay`来显示叠加层：

```
.fancybox-lock .fancybox-overlay {
    overflow: auto;
    overflow-y: scroll;
} 
```

该`overflow-y:scroll`属性正在使滚动条出现。把它拿出来，你就会被分类。

此外，您可能没有将它包含`fancybox_overlay.png`在与 fancybox css 文件相同的文件夹中。覆盖背景是从此文件创建的。希望这些信息有帮助

# php - Yii::为什么类值只改变一次？

> ID：12419702
> 
> 赞同：0
> 
> 时间：2012-09-14T07:09:01.713
> 
> 标签：php, yii

我在视图上使用 ajaxlink 来添加我的提交表单的新行。我需要一个索引来指示创建了哪一行。所以我使用类变量来保存索引。但我发现变量只更改了一次。

这是我的代码

```
public function actionNewrow()
{
    $this->i++;

    $form = new CActiveForm();
    $temp = new exportprice();

    array_push($this->exps, $temp);
    //echo count($this->exps);

    $i = count($this->exps)-1;

    $html = '<tr><td>'.
                $this->i.$form->labelEx($this->exps[0],'['.$i.']productname').$form->textField($this->exps[0],'['.$i.']productname').$form->error($this->exps[0],'['.$i.']productname')
            .'</td>'.
            '<td>'.
                $form->labelEx($this->exps[0],'['.$i.']trend').$form->textField($this->exps[0],'['.$i.']trend').$form->error($this->exps[0],'['.$i.']trend')
            .'</td>'.
            '<td>'.
                $form->labelEx($this->exps[0],'['.$i.']margin').$form->textField($this->exps[0],'['.$i.']margin').$form->error($this->exps[0],'['.$i.']margin')
            .'</td></tr>';
    echo $html;
}

echo CHtml::ajaxLink("新增",
    Yii::app()->createUrl( 'InputReport/newrow' ),

    // ajax options
    array(
        'error' => 'function(data)   { alert("error!");  }',
        'success' => 'function(data) { $("#exptbl").append(data); }',
        'cache'=>false,
    ),

    // htmloptions
    array(
        'id' => 'handleClick',
    )
); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T08:21:56.837

所以你是`actionNewrow`通过 AJAX 调用一个预定义的类变量`$i`，你每次都加入它？这就是为什么。PHP 与客户端不一致，因此`$i`当以这种方式使用时，它将始终等于先前的值，因为`++`它只会使其 inc 一次。

`$i`您将需要在客户端通过某种方式将其从解密中发送下来：

*   从您拥有的行数+1（这对索引重复开放）
*   Housing a $i var in JS and using that within a self defined function (probably outside of the `ajaxLink` builder) to propogate a new row using the `$i` var in JS as the class var.

A quick example for you:

```
var i = <?php echo $this->i // presuming i is a controller car you pass to the view ?>;

$('.add_new_row').on('click', function(){
    $.get('InputReport/newrow', {i:i}, function(data){
        //append your row now
        i++; // inc i here
    });
}); 
```

And then in your controller you would do something like:

```
public function actionNewrow($i = null)
{
    $i = $i===null ? $this->i++ : $i;

    $form = new CActiveForm();
    $temp = new exportprice();

    array_push($this->exps, $temp);
    //echo count($this->exps);

    $i = count($this->exps)-1;

    $html = '<tr><td>'.
                $this->i.$form->labelEx($this->exps[0],'['.$i.']productname').$form->textField($this->exps[0],'['.$i.']productname').$form->error($this->exps[0],'['.$i.']productname')
            .'</td>'.
            '<td>'.
                $form->labelEx($this->exps[0],'['.$i.']trend').$form->textField($this->exps[0],'['.$i.']trend').$form->error($this->exps[0],'['.$i.']trend')
            .'</td>'.
            '<td>'.
                $form->labelEx($this->exps[0],'['.$i.']margin').$form->textField($this->exps[0],'['.$i.']margin').$form->error($this->exps[0],'['.$i.']margin')
            .'</td></tr>';
    echo $html;
} 
```

This should help you out a little hopefully,

# android - 操作栏主页徽标/按钮/图标

> ID：12419703
> 
> 赞同：1
> 
> 时间：2012-09-14T07:09:05.027
> 
> 标签：android

在我的应用程序中，用户应该能够点击操作栏上的应用程序图标以返回到第一个活动。我试图实现以下代码，但它似乎不起作用。有人有什么建议可以让它工作吗？

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.result_details);
    ActionBar actionBar = getActionBar();
    actionBar.show();
}
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    new MenuInflater(this).inflate(R.layout.menu, menu);
    return (super.onCreateOptionsMenu(menu));
}
@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
    case android.R.id.home:
        Intent intent = new Intent(this, First.class);
        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
        startActivity(intent);
        return true;    
    case R.id.feedback:
        Intent intent1 = new Intent(ResultDetails.this.getApplicationContext(), feedback.class);
        ResultDetails.this.startActivity(intent1);
        return (true);

    case R.id.about:
        Intent intent2 = new Intent(ResultDetails.this.getApplicationContext(), about.class);
        ResultDetails.this.startActivity(intent2);            
        return (true);

    }

    return (super.onOptionsItemSelected(item));
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-14T08:17:23.110

你应该打电话

```
actionBar.setDisplayHomeAsUpEnabled(true); 
```

在 onCreate() 中激活后退按钮。

# jquery - 带有 asp.net 数字的 jquery 图像滑块

> ID：12419707
> 
> 赞同：0
> 
> 时间：2012-09-14T07:09:15.780
> 
> 标签：jquery, asp.net

我需要带有数字的jquery图像滑块，就像这里使用的那样：

[http://jtsplatmaster.com/](http://jtsplatmaster.com/)

在顶部。

我看到有许多可用的 jquery 滑块，但我需要一个带数字的滑块。请建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:28:24.860

[jQuery循环](http://jquery.malsup.com/cycle/)是非常可定制的，可以做到这一点

寻呼机示例：http: [//jquery.malsup.com/cycle/pager-over.html](http://jquery.malsup.com/cycle/pager-over.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:17:53.987

您可以使用您将编写标题的任何滑块。我的意思是，如果您使用滑块，您可以放置​​额外的 div 并将标签放在那里并更改它的文本。

或者检查这个。 [http://webdesignledger.com/tutorials/13-super-useful-jquery-content-slider-scripts-and-tutorials](http://webdesignledger.com/tutorials/13-super-useful-jquery-content-slider-scripts-and-tutorials)

# php - 即使在 IE 8 和 9 中注销后，php 会话也不会被破坏

> ID：12419708
> 
> 赞同：-1
> 
> 时间：2012-09-14T07:09:19.713
> 
> 标签：php, internet-explorer, session, logout

我试图找出下面这段代码有什么问题，每当我尝试使用 Internet Explorer 注销时，我都无法做到这一点，它只会在多次重新加载或关闭浏览器后注销。

```
 <?php
//Start session 
session_start();
require("../../class-settings.php");
function write_at_sess_destroy(){
    $time=date('h:i:s A',time());
    $sql="update " . DB_PRE."user_master set `guid` = '',`user_first_login`='0' WHERE user_id ='".  $_SESSION['user']."'";
    $sql_log= "update " . DB_PRE."user_log set logout_time='$time' where user_id='{$_SESSION['user']}' and logger_id='{$_SESSION['DYNAMIC_LOGGER_ID']}'";       
    if(mysql_query($sql))if(mysql_query($sql_log)) return true;
}
if(write_at_sess_destroy()){
    function unset_sessions(){
        session_start();
        if($_SESSION['adminlang'])unset($_SESSION['adminlang']);
        unset($_SESSION['loginID']);
        unset($_SESSION['utype']);
        return true;
    }
    if(session_destroy()){
        header("Location:../../../");
        exit;
    }
    else{
        echo "error...";    
    }
}
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:17:18.997

为什么不能简化：

```
<?php
    session_start();
    require("../../class-settings.php");
    function write_at_sess_destroy(){
        $time=date('h:i:s A',time());
        $sql = "update " . DB_PRE."user_master set `guid` = '',`user_first_login`='0' WHERE user_id ='".  $_SESSION['user']."'";
        $sql_log = "update " . DB_PRE."user_log set logout_time='$time' where user_id='{$_SESSION['user']}' and logger_id='{$_SESSION['DYNAMIC_LOGGER_ID']}'";       
        if(mysql_query($sql))if(mysql_query($sql_log)) return true;
    }
    if(write_at_sess_destroy()){
        session_regenerate_id();
        session_destroy();
        $_SESSION = array();
        header("Location: ../../../");
        exit;
    } else {
        echo mysql_errno() . ": " . mysql_error() . "\n";
    }
?> 
```

# actionscript-3 - 为什么在 AS3 puremvc 中使用数组而不是字典

> ID：12419711
> 
> 赞同：-1
> 
> 时间：2012-09-14T07:09:26.407
> 
> 标签：actionscript-3

as3 puremvc 框架包含 Controller、Model、View，它们都在 core 文件夹中。Controller类有commandMap，是Array类型，同Model中的proxyMap，View中的mediaMap。我不知道为什么它们是 Array，为什么不使用 Dictionary 类型呢？我只是想知道在这里使用 Array 的好处？我不会去辩论什么的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:39:35.210

它可能是一个`Object`或`Vector`太。您可以根据可读性、性能或其他原因做出此类决定。不过一般来说，`Array`Actionsript 3 中的一个都有不错的表现。我猜（希望）团队对所有选项的性能进行了基准测试，而 Array 的结果是最佳性能。

如果您对这个主题感兴趣，这里有很好的详细性能测试：http:
[//jacksondunstan.com/ ?s=array+dictionary+performance](http://jacksondunstan.com/?s=array+dictionary+performance)

由于我不确定这一切，我挑战你对自己进行基准测试，也许给团队一个建议。

# sql - 由于外部约束，截断命令不起作用，但在使用设计器模式时起作用

> ID：12419712
> 
> 赞同：4
> 
> 时间：2012-09-14T07:09:30.420
> 
> 标签：sql, sql-server, sql-server-2008

我正在使用 Sql Server Management Studio 2008。

当我尝试使用以下命令截断表时

```
truncate table MyTable 
```

它给了我一个错误说

> > 无法截断表“dbo.MyTable”，因为它被 FOREIGN KEY 约束引用。

我知道我在这张表中有一个外键。

现在，当我执行以下操作时

*   右键单击表格并选择`Edit Top 200 Rows`
*   就在表中的任何记录上
*   并点击`Delete`，它会被删除。

![在此处输入图像描述](../Images/706e79dd3413595e3e820f3f63a839d3.png)

我对这种行为感到困惑，请有人告诉我这是如何发生的以及为什么会发生，以及如何使用 truncate 语句删除。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:23:35.277

`DELETE`基本上是因为和之间有区别`TRUNCATE`

如果你能做到这一点，即使是简单的删除也适用于这些记录。（如果没有对它们的引用，或者如果`ON DELETE`在引用 MyTable 的另一个表上声明了一条语句）

```
DELETE FROM dbo.MyTable 
```

有了`TRUNCATE`你就无法做到这一点。它比一个`DELETE`. 您必须先删除第`CONSTRAINT`一个，然后才能进行截断。在由 forign_key 引用的表上不允许截断。

例如，另一个不同之处是，截断命令也会重新插入`IDENTITY`列，但`DELETE`不是。

这是一篇关于它的好文章：

[SQL Server中TRUNCATE和DELETE的区别](http://codebetter.com/raymondlewallen/2005/05/09/the-difference-in-truncate-and-delete-in-sql-server/)

# c# - Windows 8 C# 和 Xaml Listview 或 Gridview 设计？

> ID：12419720
> 
> 赞同：0
> 
> 时间：2012-09-14T07:10:15.700
> 
> 标签：c#, xaml, windows-8, microsoft-metro

我正在尝试使用以下设计制作 Windows 8 页面：

![在此处输入图像描述](../Images/4de248784233a2e445905c1a253d45d3.png)

第一行第一列是表头，结果1、2、3、4、5是动态数据，按照它们所在的时间间隔进行绑定。

谁能建议我如何使用 listview、gridview 或其他东西来做到这一点。

如上图所示，我还需要在第一行的一行中绑定结果总数吗？

实际上我不知道如何使用这种设计来设计我的 XAML。

该设计就像显示电视频道节目，频道名称在顶部代替标题 1、标题 2 等，并且在左侧的垂直列中有时间。

我希望这可以帮助你更多地想象它。

# c# - Linq 查询之间的条件查询

> ID：12419722
> 
> 赞同：0
> 
> 时间：2012-09-14T07:10:18.113
> 
> 标签：c#, linq

我不知道这是否可能。我搜索了一些链接，但没有找到解决方案。

我有一个 linq 查询，用于从数据库中获取一些数据。现在，在我的数据库中的表格列照片中可以有或不能有图像。这意味着 Photo 也可以为空。

**所以我的问题是：** 有没有一种方法，而不是在 linq 查询中使用 if else 条件，我们可以像这样放置我的代码：

```
DataTable Customer=ds.Tables["Customer"]
    if (Photo==null)
    {
        var items = (from d in Customer.AsEnumerable()
                                 where d.Field<string>("strHin") != string.Empty
                                 orderby d.Field<DateTime>("date")
                                 select new News
                                 {
                                     NewsItemId = d.Field<Int32>("intCustId").ToString(),
                                     HeadLine = d.Field<string>("strHin"),
                                     Photo = null,
                                 }).Take(Convert.ToInt32(limit)).ToList();
                    return items;

    }
    if(Photo !=null)
    {
        var items = (from d in Customer.AsEnumerable()
                                 where d.Field<string>("strHin") != string.Empty
                                 orderby d.Field<DateTime>("date")
                                 select new News
                                 {
                                     NewsItemId = d.Field<Int32>("intCustId").ToString(),
                                     HeadLine = d.Field<string>("strHin"),
                                     Photo = @"http://192.168.1.12:801/ImageById/" + d.Field<Int32>("intCustId") + ".jpg"
                                 }).Take(Convert.ToInt32(limit)).ToList();
                    return items;
    } 
```

我不想使用 if else 因为我已经在我的代码中使用了很多 if else。有没有一种方法可以在不重复代码的情况下将其与 linq 查询一起使用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:20:32.273

```
var result=    (from d in Customer.AsEnumerable()
                             where d.Field<string>("strHin") != string.Empty
                             orderby d.Field<DateTime>("date")
                             select new News
                             {
                                 NewsItemId = d.Field<Int32>("intCustId").ToString(),
                                 HeadLine = d.Field<string>("strHin"),
                                 Photos = Photo==null?"":@"http://192.168.1.12:801/ImageById/" + d.Field<Int32>("intCustId") + ".jpg",
                             }).Take(Convert.ToInt32(limit)).ToList();
                return items; 
```

注意：我已将匿名变量名称从 Photo 更改为 Photos，因为它与外部 Photo 变量和内部匿名类型变量 Photo 冲突

# javascript - 未捕获的 ReferenceError：$ 未定义

> ID：12419724
> 
> 赞同：4
> 
> 时间：2012-09-14T07:10:22.440
> 
> 标签：javascript, jquery

我一直收到未定义的错误，我不知道如何解决它。

这是我的代码：

```
<script type="text/javascript">
    function returnBlurayDisc(member_id){
         var xmlhttp;

         if (window.XMLHttpRequest){
              xmlhttp=new XMLHttpRequest();
     }else{
          xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
     }

     xmlhttp.onreadystatechange=function(){
          if (xmlhttp.readyState==4 && xmlhttp.status==200){
         document.getElementById("popup_container").innerHTML=xmlhttp.responseText;
         $("#GrayBackground").css({'height':'1900px','display':'inline'});

           }
     }

     xmlhttp.open("GET","ajax/returnAjax.php?member_id="+member_id+"&name="+name);
     xmlhttp.send();    
     }
</script> 
```

错误是 Uncaught ReferenceError: $ is not defined。请帮助我。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-14T07:12:18.100

这一行：

```
$("#GrayBackground").css({'height':'1900px','display':'inline'}); 
```

使用 jQuery（通过`$`函数），如果你想要这行代码，你需要在页面中包含一个库。

将其放在页面顶部进行测试：

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script> 
```

值得注意的是，如果您想采用 jQuery（在许多情况下这是一个好主意），您可以使用它来简化一堆东西，包括您现在手动执行的 AJAX 请求。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-14T07:13:10.180

`$`在您的代码中很可能是指 jQuery 库。因此，请确保您的文档中包含 jQuery 库文件。

`head`如果您使用 CDN，那么您必须在文档的部分包含类似的标签，如下所示。

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script> 
```

这包括文档上的 JQuery 库，您*最终*可以使用`$`目标元素。

# magento - Magento：热门搜索词页面上的右侧边栏

> ID：12419726
> 
> 赞同：1
> 
> 时间：2012-09-14T07:10:37.087
> 
> 标签：magento, magento-1.7

的配置`<catalogsearch_term_popular>`设置为不显示`left`和`right`侧边栏。

```
 <catalogsearch_term_popular translate="label">
        <label>Popular Search Terms</label>
        <remove name="right"/>
        <remove name="left"/> 
```

如何更新`local.xml`以便我可以恢复已**删除**的正确引用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T09:36:58.873

解析 xml 的方式意味着所有删除语句都冒泡到底部。在某些情况下，您可以简单地使用另一个名称重新添加块，但别名相同。

```
<block type="core/text_list" name="my_right" as="right" translate="label">
    <label>Right Column</label>
</block> 
```

不幸的是，这只真正适用于叶节点，即永远不会用作其他 xml 布局文件的引用的节点。由于右和左是容器节点而不是叶节点，因此这不起作用。我从未亲自使用过该代码，但我之前遇到过[Alan Storm 的解决方法](http://alanstorm.com/magento_layout_unremove_in_local_xml)，这可能值得一看。

唯一的其他选择是在您的主题中创建 catalogsearch.xml 的副本，并从该布局句柄中取出两个删除。此文件将重载原始文件并且不会删除节点，但这是一个糟糕的选择，因为在使用您的主题时，在未来版本中对 catalogsearch.xml 文件的任何更改都不会被看到。

# string - 无法找到第 0 列。向数据行添加值时 vb.net 中的错误

> ID：12419728
> 
> 赞同：0
> 
> 时间：2012-09-14T07:10:44.417
> 
> 标签：string, datatable, vb.net-2010, datarow

有 datatable.while 向该行添加值时出现错误。每次我向数据表中的该数据行添加一个新值时，都使用 for 循环。

```
my code
=======
dt3 = ds1.Tables(0)
                For Each q In dt3.Rows
                    chkphone = q("PHONE").ToString
                    chkdphone = Regex.Replace(chkphone, "[^\d]", "")

                    'MessageBox.Show(chkdphone)

                    If (chkdphone.Length = 10) Then
                        Dim NTN As DataRow = dt4.NewRow
                        NTN(0) = chkdphone.ToString
                        dt4.Rows.Add(NTN)

                    ElseIf (chkdphone.Length >= 10) Then
                        rsltstring = chkdphone.Substring(chkdphone.Length - 10, 10)

                        Dim NTN1 As DataRow = dt4.NewRow
                        NTN1(0) = rsltstring.ToString
                        dt4.Rows.Add(NTN1)
                    End If
                Next

when i debug the code in first itself am getting error in the line NTN(0) = chkdphone.ToString

error :  could not find column 0 
```

# c++ - 将数据放入类声明中？

> ID：12419732
> 
> 赞同：3
> 
> 时间：2012-09-14T07:11:15.660
> 
> 标签：c++, object, declaration

在[Stroustrup 的一个常见问题](http://www.stroustrup.com/bs_faq2.html#data-in-class)中，他给出了以下示例：

```
template<class Scalar> class complex {
public:
    complex() : re(0), im(0) { }
    complex(Scalar r) : re(r), im(0) { }
    complex(Scalar r, Scalar i) : re(r), im(i) { }
    // ...

    complex& operator+=(const complex& a)
        { re+=a.re; im+=a.im; return *this; }
    // ...
private:
    Scalar re, im;
}; 
```

并描述：

这种类型被设计为用作内置类型，并且**在声明中需要表示，以便可以创建真正的本地对象**（即分配在堆栈上而不是堆上的对象）**并确保正确简单操作的内联**。

有人会解释这个吗？放`re`，`im`类声明中的数据使类对象在堆栈上分配？那么内联呢？（我可以看到一个`operator+=`内联，他是这个意思吗？）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T07:25:44.363

这是一个不打算派生的具体类（因为没有必要）。

您可能不想为复数定义接口，并导出不同类型的复数（无论是什么）并以多态方式使用它们。

通过在类中包含所有内容，编译器可能比使用抽象接口和虚函数时更容易对此进行优化。

我不认为这里有什么神奇之处，这只是一个使用“值类型”类合适的例子。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-14T07:26:15.413

成员`re`和`im`分配在每个`complex`对象内部。这意味着当`re`且*仅当*整个对象都`im`在堆栈上时才会在堆栈上分配和。如果对象是全局的，那么并且既不在堆栈上也不在堆上。*`complex``complex``re``im`*

 *实际上，编译器会将`re`对象中的偏移量 0 和偏移量放置在偏移量`im`处`sizeof(Scalar)`。这意味着 for 的代码`operator+=`不需要大量的汇编指令来获取这些成员。实际添加本身可能只是两个汇编指令，因此加载 4 个成员并存储两个结果是工作的主要部分。如果几乎不需要内联，则内联效果最好。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-14T07:57:32.663

将数据放在类定义中不会使对象在堆栈上分配，但它允许它。在定义对象时，编译器必须知道它的完整大小；如果要在堆栈上定义对象，编译器必须知道它在定义它的翻译单元中的大小。

不将数据放在类定义中意味着您必须采取一些步骤将数据分配到其他地方，而其他地方几乎肯定会涉及动态分配。

同样，内联函数只能操作它看到的数据。

有多种模式可以避免类中的数据声明。它们可以具有重要的优势，尤其是当数据类型复杂且用户定义时。它们都涉及动态分配。Stroustrup 所说的是，对于小型的具体类，将数据放入类中可以让它们像内置类型一样表现（和执行），没有动态分配，并且通常（因为内联）没有抽象惩罚。*

# google-visualization - 与日期字段绑定的动态 Google 图表

> ID：12419736
> 
> 赞同：0
> 
> 时间：2012-09-14T07:11:38.530
> 
> 标签：google-visualization

需要一些关于如何在谷歌图表中嵌入日历控件（如从日期和到日期）的提示，并且图表值会根据所选日期进行更改。单击按钮时图表将刷新。

下面是我用来在单个页面上显示多个图表的代码，其中数据是以 JSON 格式从数据库中获取的。

```
<script type="text/javascript">
    <!--

    // Load the Visualization API and the piechart package.
    google.load('visualization', '1', {'packages':['corechart']});

    // Set a callback to run when the Google Visualization API is loaded.    
    google.setOnLoadCallback(drawChart);

    function drawChart()
    {

    // set the default options
        var options =   {
                            width: "100%",
                            height: 350, 
                            chartArea: {left:50,top:20,width:"70%",height:"70%"},
                            legend: {position: 'bottom'},
                            vAxis: {title: "" },
                            hAxis: {title: "No.of Jobs"},
                            is3D: false
                        };

    // 1st Chart-----------------------------------------------------------------------------
        var jsonData = $.ajax({
            url: "jsondata.asp?q=json_construct.asp&id=FK_IssuedByDeptID",
            dataType:"json",
            async: false
                            }).responseText;

        // Create our data table out of JSON data loaded from server.
        var data = new google.visualization.DataTable(jsonData);

        var chart1  =   new google.visualization.BarChart(document.getElementById('chart_OpenByFunction'));
        chart1.draw(data, options);

    // 2nd Chart----------------------------------------------------------------------------

        var jsonData = $.ajax({
            url: "jsondata.asp?q=json_construct.asp&id=FK_IssuedToDeptID",
            dataType:"json",
            async: false
                            }).responseText;

        // Create our data table out of JSON data loaded from server.
        var data = new google.visualization.DataTable(jsonData);

        var chart2  =   new google.visualization.BarChart(document.getElementById('chart_OpenToFunction'));
        chart2.draw(data, options);

    // 3rd Chart----------------------------------------------------------------------------

        var jsonData = $.ajax({
            url: "jsondata.asp?q=json_construct_status.asp&id=''",
            dataType:"json",
            async: false
                            }).responseText;

        // Create our data table out of JSON data loaded from server.
        var data = new google.visualization.DataTable(jsonData);

        var chart3  =   new google.visualization.PieChart(document.getElementById('chart_OpenByStatus'));
        chart3.draw(data, options);

    // 4th Chart----------------------------------------------------------------------------

        var jsonData = $.ajax({
            url: "jsondata.asp?q=json_reject_reasons.asp&id=''",
            dataType:"json",
            async: false
                            }).responseText;

        // Create our data table out of JSON data loaded from server.
        var data = new google.visualization.DataTable(jsonData);

        var chart4  =   new google.visualization.BarChart(document.getElementById('chart_OpenByReason'));
        chart4.draw(data, options);     

        // 5th Chart----------------------------------------------------------------------------

        var jsonData = $.ajax({
            url: "jsondata.asp?q=json_pack_type.asp&id=''",
            dataType:"json",
            async: false
                            }).responseText;

        // Create our data table out of JSON data loaded from server.
        var data = new google.visualization.DataTable(jsonData);

        var chart5  =   new google.visualization.BarChart(document.getElementById('chart_OpenByPackType'));
        chart5.draw(data, options);

    } 
</script> 
```

感谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T08:50:39.843

我设法想出了一个替代方案来实现所需的输出。我应用的解决方案是

1.  在 HTML 中创建框架集，其中第一帧显示 DatePicker 控件
2.  提交的值由第二个框架文件捕获，并将日期作为参数传递给 GoogleChart URL。

    var jsonData = $.ajax({url: "jsondata.asp?q=json_construct.asp&id=FK_IssuedByDeptID&fdt='<%=fromDate%>'&tdt='<%=toDate%>'", dataType:"json", async : false}).responseText;

# java - 一些 java 处理程序仅在结果可用时获取 url.openStream()

> ID：12419737
> 
> 赞同：2
> 
> 时间：2012-09-14T07:11:39.863
> 
> 标签：java, multithreading, asynchronous, web-content

我正在寻找一种方法来打开许多与 Java 网站的连接。

我的问题是服务器响应时间在很多情况下真的很慢。因此，我认为寻找一些可以处理打开许多连接并且可能在连接/响应准备好时使用处理程序的 java 库是一个好主意。

有没有类似的东西（这是伪代码！！）

```
getWebsiteContent(URL url) { //does not wait for the response
new AsynchronousConnection(url) {

    requestServedHandler(ConnectionObject) {
        InputStream is = ConnectionObject.getInputStream();

        //here I will process the content of the stream only when it is available
    }
} 
} 
```

我不介意给我原始 HTML 的处理程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:16:06.653

我不知道有这样一个专门的库，但您可以创建自己的多线程解决方案。将您的检索器任务编写为[`Callable`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/Callable.html)返回 HTML，然后将这些带有适当 URL 的可调用文件提交到[`ExecutorService`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ExecutorService.html). 网上有很多这种模式的代码示例，但如果你问，我可以给你写一个。
更多提示：此设置类似于非常常见的生产者-消费者模式。您的任务可以将站点内容放入 a[`BlockingQueue`](http://docs.oracle.com/javase/1.5.0/docs/api/index.html?java/util/concurrent/LinkedBlockingQueue.html)并让处理器线程定期轮询以查找准备好的数据。如果您想要更多的活力或不想要更多的活力，可以使用超时进行轮询，但这会阻塞直到数据可用。

# sql - 将 SQL 查询转换为 MDX？

> ID：12419740
> 
> 赞同：0
> 
> 时间：2012-09-14T07:12:03.937
> 
> 标签：sql, ssas, mdx

请帮助我如何将下面的 sql 查询转换为 MDX

```
DECLARE @a varchar(10)
DECLARE @b varchar(10)
Set @a = 'welcome'

If @a='welcome'
set @b= 'raj'+','+'venkat'

print @b 
```

我是 MDX 的新手，所以请帮助并给我更多的想法来学习 MDX。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:38:34.343

```
with member [Measures].[a] as "welcome"
member [Measures].[b] as iif([Measures].[a] = "welcome", "raj"+","+ "venkat", null)

select [Measures].[b] on 0 from [mycube] 
```

# symfony - 为什么这个函数不返回值？- Symfony2

> ID：12419748
> 
> 赞同：-1
> 
> 时间：2012-09-14T07:12:18.930
> 
> 标签：symfony, doctrine-orm

在我的控制器的操作中，我经常通过其 id 从数据库中的表中选择一行，因此我将其分离为一个函数。但是每次我这样做时，我都会检查查询是否返回了某些内容，因此我也想将其与函数分开。这是我的代码：

此功能位于控制器中，由我的控制器扩展，其中包含以下操作：

```
protected function findById($id, $class)
{
    $result = $this->getEM()->getRepository('EMMyFriendsBundle:'.$class)->find($id);   
    if($result == null) {
        return false;
    } else {
        return $result;
    }
} 
```

这是我的控制器：

```
class FriendController extends Controller
{
    private $em;
    private $friend;

    private function init($id)
    {
        $this->em = $this->getEM();
        $this->friend = $this->findById($id, 'Friend');

        if(!$this->friend) {
            return $this->render('EMMyFriendsBundle:Friend:error.html.twig', array(
               'item' => 'friend'));
        }   
    }

    /*
     * Displays all the information about a concrete friend
     */
    public function displayAction($id)
    {
        $this->init($id); 

        if($this->friend->getCategory() != null) {
            $category = $this->friend->getCategory()->getName();
        } else {
            $category = null;
        }

        return $this->render('EMMyFriendsBundle:Friend:friend.html.twig', array(
               'friend' => $this->friend, 'category' => $category));
    }

    // ...
} 
```

当我选择一个不存在的 ID（如 38743874）时，它会转到 init 函数中的 if 部分，但不会呈现模板 error.html.twig :( 但如果我选择这部分

```
if(!$this->friend) {
                return $this->render('EMMyFriendsBundle:Friend:error.html.twig', array(
                   'item' => 'friend'));
            } 
```

退出`init()`函数并`displayAction($id)`在调用后将其放入`$this->init($id)`，它可以工作。但我不想在该控制器的每一个动作中都写这个。任何想法如何将其分开以避免代码重复？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:38:52.560

您不会返回 init 函数的响应。这就是为什么它会向您显示错误消息。您必须在以下位置执行类似的操作`displayAction()`：

```
$response = $this->init();
if ($response) {
    return $response;
} 
```

# html - 使 CSS div 高度等于内容而不改变宽度

> ID：12419749
> 
> 赞同：0
> 
> 时间：2012-09-14T07:12:20.563
> 
> 标签：html, css

我希望 Div 元素的高度仅扩展到我的表格元素的宽度，但保持它的宽度与屏幕大小一样长。使用 'display: inline-block' 将包装宽度和高度。例如下面的代码也适合宽度。

```
<div style="display: inline-block; float: right; background-color: green;">
  <div style="float: right;">first item</div>
  <div style="float: left;">second item</div>
</div> 
```

有什么建议么？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T08:42:25.227

你可以试试；

```
.container div{
    width:50%;
    background: green
} 
```

和

```
<div class="container" style="background: green;width:100%">
  <div style="float: right">first item</div>
  <div style="float: left">second item</div>
</div> 
```

***[这](http://jsfiddle.net/EWuwn/)***是一个现场演示。您也可以尝试为左右 div 添加单独的类，或者可以使用 CSS3`:nth-child()`选择器

# python - 测试麦克风 Linux 命令或 python

> ID：12419750
> 
> 赞同：0
> 
> 时间：2012-09-14T07:12:20.610
> 
> 标签：python, linux, microphone

我想这个问题可能已经被问到了。但我能找到它。

我的问题是：我想用python写一个小程序在Linux上运行，用录音按钮录制用户的声音。但是我想检查是否检测到麦克风而不是启用录制按钮，否则它将被禁用。

我一直在谷歌上四处寻找，但他们中的大多数人都在谈论用命令行检查 USB 麦克风，但我想要的是检查插入麦克风端口而不是 USB 的麦克风。还有一些人在谈论使用命令 arecord 将语音录制到 wav 文件然后播放。但我不想使用这种方法。我想在让用户继续录制之前检查它。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-02T09:17:55.920

如果只是一个简单的脚本，那么用[子进程包装一个记录](http://docs.python.org/2/library/subprocess.html)

或者，如果需要更强大的东西，请尝试[pyalsaaudio](http://pyalsaaudio.sourceforge.net/pyalsaaudio.html)

# node.js - Node.js Express 中是否包含中间件列表？

> ID：12419752
> 
> 赞同：3
> 
> 时间：2012-09-14T07:12:30.277
> 
> 标签：node.js, express, connect

[文档](http://expressjs.com/guide.html)讨论了如何使用各种中间件（app.use），但我在 ExpressJS 网站上找不到可用中间件的列表！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-14T07:12:30.277

Express 将 Connect 框架用于中间件。您可以在[senchalabs 连接主页](http://www.senchalabs.org/connect/)上找到一个列表。

# java - 如何反转 SHA1 加密文本

> ID：12419756
> 
> 赞同：-3
> 
> 时间：2012-09-14T07:12:48.333
> 
> 标签：java, cryptography, encryption, sha

我需要将 SHA1 加密文本反向转换为纯文本。

我需要它的 Java 代码。

许多论坛说它不能完成，但我找到了一个链接[http://www.stringfunction.com/sha1-decrypter.html](http://www.stringfunction.com/sha1-decrypter.html)完全相同。我已经测试过了。现在我需要用Java实现的算法。

请帮忙！！！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-14T07:18:39.323

这根本不可能。SHA1 和所有密码摘要算法一样，不是加密算法，而是散列算法。它需要任何文本，只要你想要，并将其转换为几个字节，按照*设计*，以一种无法还原的方式。加密哈希的全部意义是单向的，因此无法恢复。如果可能，该算法将毫无用处。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:20:44.467

不，你不能那样做，你提供的网站是基于预先生成的映射数据库，它只能找到一个存在于其数据库中的字符串。

1.  SHA1 是一种摘要算法，它是多对一的映射，所以从理论上讲，您可以找到许多字符串给您相同的 SHA1 值。

2.  很难逆向计算。

所以没办法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T07:21:04.770

我很确定不可能解密 SHA1。我知道的唯一方法是暴力破解它，生成随机字符串并加密它们，直到找到匹配项，如果文本不是很复杂，这可能需要很长时间。您提供的链接的解决方案是拥有一个包含大量字符串的庞大数据库，并且它是 SHA1 等价的，但除非数据库中存在原始文本，否则这通常不会起作用。

# javascript - 动态更改 highcharts 中的系列颜色

> ID：12419758
> 
> 赞同：14
> 
> 时间：2012-09-14T07:12:59.713
> 
> 标签：javascript, highcharts

我已经能够更改样条图上的笔触颜色，但是点和图例直到我通过单击它然后将鼠标悬停在每个点上来隐藏和显示系列之后才会改变颜色。

我在这里有一个小提琴：http: [//jsfiddle.net/J56hm/2/](http://jsfiddle.net/J56hm/2/)

```
$(function () {
    var chart = new Highcharts.Chart({
        chart: {
            renderTo: 'container'
        },
        xAxis: {
            categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
        },

        series: [{
            data: [29.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]        
        }]
    });

    // the button handler
    $('#button').click(function() {
        chart.series[0].color = "#FF0000";
        chart.series[0].graph.attr({ stroke: '#FF0000' });

        $.each(chart.series[0].data, function(i, point) {
           point.graphic.attr({ fill: '#FF0000' });
         });
        chart.series[0].redraw();
        chart.redraw();
    });
});​ 
```

知道为什么会发生这种情况或解决此问题的方法吗？

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-06-12T04:05:46.187

很简单，你可以使用这个代码

```
chart.series[0].options.color = "#008800";
chart.series[0].update(chart.series[0].options); 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-17T04:28:31.757

highcharts论坛上的以下线程有一个解决方案：

[http://highslide.com/forum/viewtopic.php?f=9&t=7075&p=33437](http://highslide.com/forum/viewtopic.php?f=9&t=7075&p=33437)用一个小提琴[http://jsfiddle.net/G5Pk7/](http://jsfiddle.net/G5Pk7/)来说明它。

```
var chart = new Highcharts.Chart({
    chart: {
        renderTo: 'container'
    },
    xAxis: {
        categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
    },

    series: [{
        data: [29.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]        
    }]
});

$('#button').click(function() {
    var series = chart.series[0];
    series.color = "#FF00FF";
    series.graph.attr({ 
        stroke: '#FF00FF'
    });
    chart.legend.colorizeItem(series, series.visible);
    $.each(series.data, function(i, point) {
        point.graphic.attr({
            fill: '#FF00FF'
        });
    });
    series.redraw();
}); 
```

这显然是一个肮脏的解决方案，但似乎有效。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-09-14T08:50:06.777

你甚至看过控制台吗？

> ReferenceError：系列未定义
> [http://fiddle.jshell.net/J56hm/1/show/](http://fiddle.jshell.net/J56hm/1/show/)
> 第 39 行

更改为以下解决了问题

```
$.each(chart.series[0].data, function(i, point) {
...
} 
```

但是现在发生了相反的情况，当您将鼠标悬停在点上时，它再次变为蓝色您正试图通过设置颜色属性直接操纵由 highcharts 呈现的 svg。这不是正确的方法，因为 highchart 可能会根据其渲染算法重新绘制图表，并且您的所有更改都可能会丢失。
说了这么多之后，我仍然不知道 highcharts 中有任何支持的方法来做到这一点，如果我想出一些东西会更新答案

[@jsFiddle](http://jsfiddle.net/jugal/637ns/)

# java - 如何解析像'21Jul12'这样的日期字符串

> ID：12419759
> 
> 赞同：2
> 
> 时间：2012-09-14T07:13:01.763
> 
> 标签：java, date, dataformat

如何解析像“21Jul12”这样的日期字符串。我尝试了以下方法：

```
import org.apache.commons.lang.time._

DateUtils.parseDate("21Jul12", Array("ddMMMyy")); 
```

但由于错误，它无法工作：

```
java.text.ParseException: Unable to parse the date: 21Jul21
    at org.apache.commons.lang.time.DateUtils.parseDateWithLeniency(DateUtils.java:359)
    at org.apache.commons.lang.time.DateUtils.parseDate(DateUtils.java:285)
    at .<init>(<console>:20)
    at .<clinit>(<console>)
    at .<init>(<console>:11)
    at .<clinit>(<console>)
    at $print(<console>)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at scala.tools.nsc.interpreter.IMain$ReadEvalPrint.call(IMain.scala:704)
    at scala.tools.nsc.interpreter.IMain$Request$$anonfun$14.apply(IMain.scala:920)
    at scala.tools.nsc.interpreter.Line$$anonfun$1.apply$mcV$sp(Line.scala:43)
    at scala.tools.nsc.io.package$$anon$2.run(package.scala:25)
    at java.lang.Thread.run(Thread.java:662) 
```

即使我使用`java.text.SimpleDateFormat`，我也有一个类似的例外：

```
java.text.ParseException: Unparseable date: "21Jul12"
    at java.text.DateFormat.parse(DateFormat.java:337)
    at .<init>(<console>:13)
    at .<clinit>(<console>)
    at .<init>(<console>:11)
    at .<clinit>(<console>)
    at $print(<console>)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at scala.tools.nsc.interpreter.IMain$ReadEvalPrint.call(IMain.scala:704)
    at scala.tools.nsc.interpreter.IMain$Request$$anonfun$14.apply(IMain.scala:920)
    at scala.tools.nsc.interpreter.Line$$anonfun$1.apply$mcV$sp(Line.scala:43)
    at scala.tools.nsc.io.package$$anon$2.run(package.scala:25)
    at java.lang.Thread.run(Thread.java:662) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:30:10.820

这是上述日期解析的代码

```
System.out.println("ddMMMyy >>>" + DateUtils.parseDate("21Jul12", new String[] { "ddMMMyy" }));

System.out.println("yyyy-MM-dd >>>" + DateUtils.parseDate("2012-07-21", new String[] { "yyyy-MM-dd" }));

System.out.println("yyyy MMM dd >>>" + DateUtils.parseDate("2012 Jul 21", new String[] { "yyyy MMM dd" })); 
```

和控制台上的结果

```
ddMMMyy >>>Sat Jul 21 00:00:00 CEST 2012
yyyy-MM-dd >>>Sat Jul 21 00:00:00 CEST 2012
yyyy MMM dd >>>Sat Jul 21 00:00:00 CEST 2012 
```

也许你试图用“ddMMMyy”解析“2012 Jul 21”

```
System.out.println("ddMMMyy >>>" + DateUtils.parseDate("2012 Jul 21", new String[] { "ddMMMyy" })); 
```

给你的堆栈

```
java.text.ParseException: Unable to parse the date: 2012 Jul 21
at org.apache.commons.lang.time.DateUtils.parseDateWithLeniency(DateUtils.java:359)
at org.apache.commons.lang.time.DateUtils.parseDate(DateUtils.java:285)
at com.collibra.dgc.core.model.activity.impl.TestTree.testname(TestTree.java:88)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T08:26:42.937

当我将语言环境明确设置为 Locale.en_US 时，它可以工作。由于默认语言环境设置引发的异常是`Locale.CHINA`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T07:28:58.720

我们对日期解析使用消除过程，基本上，我们使用一组常用的日期格式（对于我们的应用程序），而不会抛出异常的就是我们使用的那个。不是最干净的解决方案，但它有效......

例如

```
parse("2012 Jul 21", "ddMMMyy", "yyyy MMM dd");
parse("21Jul12", "ddMMMyy", "yyyy MMM dd");

public Date parse(String value, String... formats) throws ParseException {
    Date date = null;

    for (String format : formats) {
        try {
            date = new SimpleDateFormat(format).parse(value);
        } catch (ParseException exp) {
        }
    }

    if (date == null) {
        throw new ParseException(value + " is an unrecognized date format", 0);
    }

    return date;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-14T09:23:04.010

```
String date="21JUL12";
        try {
            System.out.println(new   SimpleDateFormat("ddMMMyy").parse(date));
        }
        catch(ParseException ex) {
            ex.printStackTrace();
        } 
```

上面的代码给了我这个输出：

```
Sat Jul 21 00:00:00 BST 2012 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-02-16T22:01:24.603

# c# - 将现有数据库映射到现有模型

> ID：12419760
> 
> 赞同：1
> 
> 时间：2012-09-14T07:13:03.520
> 
> 标签：c#, .net, entity-framework

如果我有一个包含大约 100 个表、50 个存储过程等的数据库（SQL Server 2008），那么它的设计确实很好。假设我已经有一个非常方便的模型，我们在几个应用程序中使用它——它是一组反映数据库结构的类。即我有数据库但不想创建模型，我有模型但不想创建数据库，但我仍然热衷于使用 EF 5.0。这是我的问题。有没有办法将现有数据库映射到现有模型而不重新创建其中一个。我能想到的唯一选择是使用 CodeFirst 方法并通过 FluentApi 创建所有 DbSet 并将数据库初始化程序同时设置为 null。这个对吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:51:47.073

是的，您的方法是正确的。但是，您应该确保您的数据库模型是根据 EF 默认[命名约定](http://msdn.microsoft.com/en-us/library/hh161541%28v=vs.103%29.aspx)（例如列名、关系）构建的。
如果不是，您应该使用 FluentAPI 或模型中的属性覆盖 DbContext 类中每个“未约定”模型实体的映射。
我没有尝试过 EF 5，但它应该支持[可插入约定](http://blogs.msdn.com/b/adonet/archive/2011/01/10/ef-feature-ctp5-pluggable-conventions.aspx)。因此，如果默认情况下 EF 无法识别您的约定，您可以尝试使用它们。
此外，您可能需要检查您的关联属性在模型中是否为虚拟以启用延迟加载。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T08:00:56.857

我可以想到两种策略：

1.  从数据库生成实体并使用组合或中间类让您的模型与实体通信。
2.  [将您的模型用作 POCO 类](http://msdn.microsoft.com/en-us/library/dd468057%28v=vs.100%29.aspx)。您必须调整您的模型，然后使其符合前提条件。

当您使用大量存储过程时，数据库优先方法是最好的恕我直言。看看[这里](http://msdn.microsoft.com/en-us/data/gg699321.aspx)关于如何映射这些。

# c++ - 在模板函数中调用 std::for_each 时的错误结果

> ID：12419761
> 
> 赞同：24
> 
> 时间：2012-09-14T07:13:03.617
> 
> 标签：c++, templates, c++11, clang++

测试代码：

```
template<typename T>
void test() {
    T container { 1, 2, 3 };

    std::for_each(container.begin(), container.end(), [](int v) {
        cout<<"1st for_each"<<endl; 
    });

    cout<<"xxxxxx"<<endl;
    std::for_each(container.begin(), container.end(), [](typename T::value_type v) { 
        cout<<"2nd for_each"<<endl;
    });
}

int main() {
    test<vector<int>>();
    return 0;
} 
```

请注意，我在不同的 lambda 中使用`int i`和`typename T::value_type v`param 类型。
编译命令：`clang++ -std=c++11 -stdlib=libc++ test.cpp -o test`

clang 版本 3.1 (branches/release_31) 目标：i386-pc-linux-gnu 线程模型：posix

结果：

```
2nd for_each  
2nd for_each  
2nd for_each  
xxxxxx  
2nd for_each  
2nd for_each  
2nd for_each 
```

问题是：为什么要先`for_each`打印出“2nd for_each”？

编辑：它可能是一个 clang++ 错误。
@KennyTM 给出了类似的更简单的代码：

```
#include <iostream>
using namespace std;

template<typename T> 
void test() {
    ([](int v) { printf("1\n"); })(3); 
    ([](T v) { printf("2\n"); })(4);
}

int main() { 
    test<int>();
    return 0;
} 
```

结果：
1
1

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-14T20:06:15.000

这是一个 Clang 错误，已由[r160614 修复](http://lists.cs.uiuc.edu/pipermail/cfe-commits/Week-of-Mon-20120716/061195.html)。Clang 主干给出了所需的输出：

```
$ echo '
#include <cstdio>
template<typename T>
void test() {
    ([](int) { puts("int"); })(0);
    ([](double) { puts("double"); })(0);
    ([](T) { puts("T"); })(0);
}

int main() { test<int>(); test<double>(); }
' | ./build/bin/clang -x c++ -std=c++11 -
$ ./a.out
int
double
T
int
double
T 
```

有关详细信息，请参阅[PR12917](http://llvm.org/bugs/show_bug.cgi?id=12917)和[PR13849](http://llvm.org/bugs/show_bug.cgi?id=13849)。

# objective-c - 从 sqlite db 解析 blob

> ID：12419763
> 
> 赞同：0
> 
> 时间：2012-09-14T07:13:08.733
> 
> 标签：objective-c, ios, blob, geocoding, binary-data

我需要关于从 sqlite db 解析 blob 字段的建议。该字段的内容是一个多边形信息，我认为它类似于数组数组。

我是这样开始的：

```
NSData * theData = [[NSData alloc]initWithBytes:sqlite3_column_blob(statement, 0) length:sqlite3_column_bytes(statement,0)]; 
```

这给了我一些喜欢（这只是一部分）：

```
<01030000 00010000 00930100 0099d711 876c4031 40514cde 00330348 409f0436 e7e03d31 40a7b052 41450348 40fb230c 03963c31 402b14e9 7e4e0348 407e1821 3cda3031 407e1ea3 3cf30248 40fd1186 014b2e31 40fd4ae7> 
```

现在不太确定如何继续。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T08:39:09.163

你下载的映射包就是这种格式

[http://en.wikipedia.org/wiki/Shapefile](http://en.wikipedia.org/wiki/Shapefile)

因此，您可能会对一些用于解析它的现有代码感兴趣。转换为 sqlite 对您没有任何帮助。

[带有ObjectiveC的Shapefile](https://stackoverflow.com/questions/5891448/shapefile-with-objectivec)

[https://github.com/grgcombs/iOS-Shapefile](https://github.com/grgcombs/iOS-Shapefile)

# php - PHP MYSQL 为另一个表使用 1 个 id

> ID：12419769
> 
> 赞同：-3
> 
> 时间：2012-09-14T07:13:35.150
> 
> 标签：php, mysql

我会试着解释我需要做什么。

我有一张桌子，在这张桌子上我有 ID。这个 ID 是我的主键（auto_increment）。我还有第二张桌子。

我需要的是当我在我的秒表中保存一些东西时，我想使用我的第一个表的 ID。

我读过很多东西，但我只是从中得到更多的头痛，所以如果有人能帮助我，我将不胜感激。

数据库

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T07:27:39.997

您需要外键的概念。这可以被定义为一个约束或只是这样使用。假设您有“教师”和“学生”，学生被分配给一位教师。所以老师有一个`ID`。现在您的“学生”表也有一个 ID（它是主键）和一个外键`TEACHER_ID`，它指的是教师条目。

```
ALTER TABLE `Pupils` ADD FOREIGN KEY (TEACHER_ID) REFERENCES `Teachers` (ID) 
```

将创建一个约束，它`TEACHER_ID`指的`ID`是教师的。

在 PHP 中，如果您同时创建两个条目。您可以先插入教师，然后使用：

```
$teacherID = mysql_insert_id(); 
```

这将返回最后一个`auto_increment`值（在这种情况下是您的教师`ID`），然后将其设置`TEACHER_ID`为您的学生条目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:19:19.743

```
Declare @id int
SET @id=1

INSERT INTO table2(col1,col2...)
select col1,col2... from table1 where ID=@id 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T07:32:30.063

你没有说你在 php 中使用的是哪个版本的 mySQL，但是使用 mysqli 你可以使用 mysqli_insert_id 函数（mysql_insert_id 也可以）例如：

```
$query = "INSERT INTO myCity VALUES (NULL, 'Stuttgart', 'DEU', 'Stuttgart', 617000)";
mysqli_query($link, $query);

printf ("New Record has id %d.\n", mysqli_insert_id($link)); 
```

有关更多信息，请参阅：[http ://us3.php.net/manual/en/mysqli.insert-id.php](http://us3.php.net/manual/en/mysqli.insert-id.php)

# iphone - 带有 NSManaged 对象的搜索栏

> ID：12419771
> 
> 赞同：1
> 
> 时间：2012-09-14T07:13:46.867
> 
> 标签：iphone, core-data, uisearchdisplaycontroller

```
- (void)filterContentForSearchText:(NSString*)searchText scope:(NSString*)scope
{
    NSPredicate *resultPredicate = [NSPredicate 
                                predicateWithFormat:@"SELF contains[cd] %@",
                                searchText];

    searchResultContacts = [contactArray filteredArrayUsingPredicate:resultPredicate];
} 
```

如果 contactArray 包含 MSManaged 对象，如何获得结果

# matlab - 在特定位置查找邻居

> ID：12419772
> 
> 赞同：1
> 
> 时间：2012-09-14T07:14:02.087
> 
> 标签：matlab, image-processing, signal-processing

我有一个二维矩阵，我想在这个矩阵中找到 (i,j) 的邻域，分别在 x 和 y 方向上具有 M 和 N 大小。我知道这很容易做到，但我的问题是当 (i,j) 靠近角落并且 M 和 N 很大时！在这种情况下，我不想超过矩阵。MATLAB中是否有针对此问题的任何功能或简单的解决方案？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-14T07:24:21.430

如果我理解正确，您想从矩阵中提取子矩阵，子矩阵居中从行`i-M`到`i+M`列`j-N`。`j+N`

如果是这种情况，并且您希望避免选择无效索引，则可以使用最小/最大函数切断选择，例如：

```
matrix = randi(10,20,15);
siz = size(matrix);

i=2;
j=5;
M=10;
N=3;

selectrows = max(1,i-M):min(siz(1),i+M);
selectcols = max(1,j-N):min(siz(2),j+N);
result = matrix(selectrows, selectcols); 
```

# asp.net-mvc - 如何总结 Razor MVC4 视图中的值？

> ID：12419773
> 
> 赞同：2
> 
> 时间：2012-09-14T07:14:01.633
> 
> 标签：asp.net-mvc, asp.net-mvc-3, razor

我将以下内容编码到我的 Razor 视图中：

```
 <ul class="message"
            data-elapsed="@Model.Events.Sum(event => event.Elapsed)"
            id="stats-list">
        @foreach (ViewEvent viewEvent in @Model.Events)
        {
            <li>@viewEvent.Description : @viewEvent.Elapsed ms</li>
        }
        <li class="close-bt"></li>
        </ul> 
```

这给了我以下错误：

```
<div class="block-content no-title no-padding">
Line 63:             <ul class="message"
Line 64:                 data-elapsed=@(Model.Events.Sum(event => event.Elapsed)) 
Line 65:                 id="stats-list">
Line 66:             @foreach (ViewEvent viewEvent in @Model.Events) 
```

但它给了我一个错误：

```
Compiler Error Message: CS1513: } expected 
```

当我注释掉所有第 64 行时，我的代码显示了我的观点。

这不是获得总和的正确方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T07:32:22.770

尝试从 foreach 中删除第二个 @。它应该工作：

```
<ul class="message"
            data-elapsed="@Model.Events.Sum(event => event.Elapsed)"
            id="stats-list">
        @foreach (ViewEvent viewEvent in Model.Events)
        {
            <li>@viewEvent.Description : @viewEvent.Elapsed ms</li>
        }
        <li class="close-bt"></li>
        </ul> 
```

# javascript - 居中包含项目的布局

> ID：12419775
> 
> 赞同：0
> 
> 时间：2012-09-14T07:14:10.047
> 
> 标签：javascript, extjs, extjs4

我创建了一个这样的面板。

![在此处输入图像描述](../Images/51eec58d621ac7dd6939c9039540361d.png)

面板的小提琴可[在此处](http://jsfiddle.net/liaK/74R3m/)获得。

我希望按钮、设置设置和取消位于此面板的中心。

我尝试`autoEl`使用`center`标签进行设置，但没有运气。我没有使用表单面板，因为我不希望所有项目都被拉伸。

我如何在 Extjs4 中实现这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T08:56:08.127

因为 'hbox' 布局（您已将其用于面板布局）是绝对布局，所以您必须做一些 css 技巧才能达到重点。像这样编辑按钮的 JS 部分：

```
xtype: 'panel',
cls: 'mypanel', // Add CSS Class
layout: 'hbox', // Don't need align: 'stretch'
items:[{
    xtype: 'button',
    text: 'Set Settings'
},{
    xtype: 'button',
    text: 'Cancel',
    cls: 'btn-gap' // Instead of your Box item (for gap between 2 buttons)
} 
```

您的自定义 CSS 文件将起到作用：

```
.x-panel.mypanel {
        text-align: center;
}
.x-panel.mypanel .x-btn {
        position: static !important;
}
.x-panel.mypanel .x-btn.btn-gap {
        margin-left: 25px !important;
} 
```

还有其他一些方法可以做到这一点，但这是我首先想到的方法，它也很简单。

# java - Java 无法解析从提要接收到的几个 unicode 字符

> ID：12419778
> 
> 赞同：1
> 
> 时间：2012-09-14T07:14:25.067
> 
> 标签：java, string, unicode, xml-parsing

我从我无法解析的一个提要提供商处获取以下带有 XML 中的 unicode 字符的字符串。我还尝试获取这些字符的十六进制代码，然后在前面加上 \u ，但这也不起作用。

```
String str = "</fullText" + ">";
StringBuilder strb = new StringBuilder();
char[] chars = str.toCharArray();
for (int i = 0; i < chars.length; i++) {
  char c = chars[i];
  if ( c >= Character.MIN_HIGH_SURROGATE && c <= Character.MAX_HIGH_SURROGATE ) {
    char ch2 = chars[i+1];
  } else
    strb.append(c);
}
System.out.println(strb.toString()); 
```

理想情况下，这应该跳过这些字符，但事实并非如此。我想摆脱字符串中的那些字符。

有没有人遇到过类似的问题？非常感谢这方面的任何帮助。

瓦布哈夫

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T08:41:47.363

该代码似乎只跳过了高代理代码点。使其也跳过以下低代理项的最简单更改是更改行

```
 char ch2 = chars[i+1]; 
```

至

```
 i++; 
```

但是，以这种方式编写循环更健壮并使代码更具可读性：

```
 for (int i = 0; i < chars.length; i++) {
     char c = chars[i];
     Character.UnicodeBlock block = Character.UnicodeBlock.of(c);
     if(block != Character.UnicodeBlock.HIGH_SURROGATES && 
        block != Character.UnicodeBlock.LOW_SURROGATES) {
           strb.append(c);
     }
 } 
```

这还可以处理包含孤立的高或低代理项或以错误顺序的高和低代理项的格式错误的数据（这意味着即使您将有效代理对作为可接受的字符处理，也应跳过或错误处理的数据）。

# iphone - NSString 无法生存

> ID：12419780
> 
> 赞同：0
> 
> 时间：2012-09-14T07:14:31.790
> 
> 标签：iphone, objective-c, xcode, segue

我有两个视图控制器，它们之间有一个segue。我通过代码调用 segue，我想在两个视图控制器之间传递一个 NSString 。看起来 Xcode 到达了我在第二个视图控制器中为 NSString 设置值的行，但是当实际控制器加载时它显示 0x0000000 而不是实际数据。

这就是我调用第二个视图控制器的方式

```
[self performSegueWithIdentifier:@"SegueuIdentifier" sender:reader]; 
```

这就是我在第二个视图控制器上设置值的方式（只有一个 segue）：

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{    
SecondViewController *secondViewController = [segue destinationViewController];
    [secondViewController setStringValue:[NSString stringWithFormat:@"http://test.com/test.html?t=%@", testValue]];
} 
```

我确定 testValue 具有价值（我确定在调试模式下）。

在第二个视图控制器上，这就是我在 h 文件中的内容：

```
@property (weak, nonatomic) IBOutlet NSString *UrlAddress; 
```

我确定我`@synthesize`做到了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:57:47.840

您应该使属性强大：

```
@property (strong, nonatomic) NSString *UrlAddress; 
```

# visual-studio-2010 - 解决方案文件 .sln 是更改创建日期吗？

> ID：12419781
> 
> 赞同：0
> 
> 时间：2012-09-14T07:14:32.990
> 
> 标签：visual-studio-2010, visual-studio, solution

我有一个小项目即时编码。
而且我没有记录我开始它的日期。
我可以确定解决方案文件 (.sln)**的更改日期是****创建**日期吗？
或者解决方案文件在开发过程中会发生变化吗？
如果是，什么时候？
或者有没有其他方法可以让我读到这个`Visual Studio 2010`，例如在那个项目的属性中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:19:45.067

您无法确定**更改日期**是否与每个文件一样是创建数据。

例如，如果您将项目添加到您的解决方案并保存，则更改日期会更改。但我认为如果你去文件属性有一个创建日期。

# asp.net - 如何在 ext.net 中动态地在桌面上添加新图标

> ID：12419782
> 
> 赞同：2
> 
> 时间：2012-09-14T07:14:41.727
> 
> 标签：asp.net, desktop, code-behind, ext.net

我正在使用 Ext.Net 1.5。我正在使用 Ext:desktop。

![在此处输入图像描述](../Images/69ed0ff47b0f79a60b0d11d5196092f0.png)

上面有 2 个图标的屏幕截图。现在**我想动态创建名为 Spa 的新图标（意味着来自 aspx.cs 页面 onLoad）。**

我尝试了以下代码，但没有找到任何解决方案。

**动态查看桌面图标..**

```
 var winspa = new Ext.Net.DesktopWindow
            {
                ID = "WindowFile",
                Title = "File Management",
                Width = Unit.Pixel(870),
                Height = Unit.Pixel(620),
                Icon = Ext.Net.Icon.User,
                Collapsible = true,
                Maximizable = true,
                // Maximized = false,
                Hidden = true
            };

            Ext.Net.DesktopModule dm = new Ext.Net.DesktopModule();
            dm.ModuleID = "spa";
            dm.AutoRun = false ;
            dm.WindowID = "winspa";

            Ext.Net.DesktopShortcut ds = new Ext.Net.DesktopShortcut();
            ds.ModuleID = "spa";
            ds.Text="Spa" ;
            ds.IconCls = "icon-setting";

            winspa.AutoLoad.Url = "settings.aspx";
            winspa.AutoLoad.Mode = Ext.Net.LoadMode.IFrame;
            winspa.Render(this.Form); 
```

# web - 创建在 OpenCMS 上运行的网站的移动版本的选项？

> ID：12419785
> 
> 赞同：3
> 
> 时间：2012-09-14T07:15:21.000
> 
> 标签：web, opencms, mobile-website

我的客户有一个使用 OpenCMS 开发的现有商业网站，他们想创建一个相同的移动版本。

我见过以“m”开头的网站。而不是“www”。我猜这些是访问相同数据库但独立于实际网站的网站的移动版本。当检测到的设备是移动设备时，用户会被重定向到移动版本。

但后来，我也看到 OpenCMS 有一个选项可以使用`<cms:device type="mobile">`

我对创建移动网站的知识非常有限。所以我只想知道以上两个选项中的哪一个或我不知道的任何其他选项将是正确的前进方向。

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-14T07:27:34.897

越来越多的网络开发旨在“响应式网页设计”。您可以先阅读一些有关此[http://en.wikipedia.org/wiki/Responsive_Web_Design](http://en.wikipedia.org/wiki/Responsive_Web_Design)的信息。在没有看到实际网站的情况下决定哪个最适合您的需求是非常困难的，但是响应式方法可能是一个好的开始。另一种方法是制作一个仅限移动的网站（m.），但由于移动平台不像人们希望的那样同质化，我的观点是转向响应式替代方案。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-19T19:29:14.620

对于我的一些网站，我使用了创建“前端”模板的方法，该模板根据用户代理决定要包含哪个真实模板。

当然，使用这种方法，您需要创建两个不同且独立的模板，一个用于站点的完整桌面版本，一个用于移动版本。当然，您仍然可以在它们之间共享 css、图像和 JavaScript。

现在从头开始，我会用响应式设计来寻求 jthemans 的答案。

但是，如果您没有大预算，并且需要快速提出解决方案，则不同模板方法会更快。

无论如何，这是我提到的简单的“正面”模板：

```
<%@ page session="false" %>
<%@ taglib prefix="cms" uri="http://www.opencms.org/taglib/cms" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<c:choose>
<c:when test="${    fn:contains(header['User-Agent'], 'Android') or
                    fn:contains(header['User-Agent'], 'iPhone') or
                    fn:contains(header['User-Agent'], 'iPod')
}">
    <cms:include page="/templateMobile.jsp" />
</c:when>
<c:otherwise>
    <cms:include page="/templateFull.jsp" />
</c:otherwise>
</c:choose> 
```

# c# - 使用 asp.net 从数据库中检索数据（“用户”附近的语法不正确）

> ID：12419791
> 
> 赞同：2
> 
> 时间：2012-09-14T07:15:57.037
> 
> 标签：c#, asp.net

我收到的错误是“'用户'附近的语法不正确” - 但是，我看不出我的代码有什么问题 - 有人有什么想法吗？

```
protected void Page_Load(object sender, EventArgs e)
{
    string db = "";
    db = ConfigurationManager.ConnectionStrings["myConnection"].ConnectionString;
    SqlConnection con = new SqlConnection(db);
    con.Open();

    SqlCommand cmd = new SqlCommand();
    cmd.CommandText = "SELECT * FROM user";
    cmd.Connection = con;
    SqlDataReader dr;
    dr = cmd.ExecuteReader();
    while (dr.Read())
    {
        Response.Write(dr[0].ToString());
        Response.Write(dr[1].ToString());
        Response.Write(dr[2].ToString());
        Response.Write(dr[3].ToString());
    }

    con.Close();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T07:19:19.480

试试这个

```
"SELECT * FROM [user]"; 
```

`user`是关键字/保留词。我想这就是问题所在。我总是最终使用`USERS`而不是`user`. 尽量避免使用保留字作为列名、表名等。在无法避免的时候使用它们

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-14T07:19:52.180

user 是保留字 - 您需要将其更改为

```
"select * from [user]" 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-14T07:21:01.773

是因为 user 是一个保留字（以及，大概，你的表的名称）？

尝试

`"SELECT * FROM [user]"`

# linq-to-sql - 当我更改属性的值时，Linq2Sql 会创建一个额外的实例 - 为什么？

> ID：12419796
> 
> 赞同：0
> 
> 时间：2012-09-14T07:16:07.747
> 
> 标签：linq-to-sql

我有一个名为 UserProperties 的表。每个用户都有一小组用户属性。我将它们加载到程序中，放入名为**_userProperties**的字典中（以便兑现）。

基本上该表如下所示：

![用户属性表](../Images/b54c53a3188246cbd5f722af966626da.png)

列：CreatedOn、ModifiedOn、CreatedBy 和 ModifiedBy 不是 DAL (dbml) 的一部分，因为它们严格用于调试目的。触发器设置 ModifiedBy 和 ModifiedOn。

当用户想要保存他的设置（或者程序认为他们应该被保存）我调用这个代码：

```
 string userPropertyValueAsString = (String)Convert.ChangeType(userPropertyValue, typeof(String));
 if (_userProperties.ContainsKey(userPropertyKey))
 {
     if (_userProperties[userPropertyKey] != userPropertyValueAsString)
     {
        using (DataAccessDataContext dataContext = CreateContext(JsApplication.CommitDal))
        {
(1)         UserProperty changedUserProperty = dataContext.UserProperties.First(u => u.fk_Employee == employeeId && u.PropertyName == userPropertyKey);
(2)         changedUserProperty.PropertyValue = userPropertyValueAsString;
            _userProperties[userPropertyKey] = changedUserProperty.PropertyValue;
            if (!dataContext.SubmitChanges())
            {
                throw new SubmitChangesException(employeeId);
            }
        }
    }
} 
```

当我到达（1）时，类 UserProperty 的构造函数被调用（正如预期的那样，因为在数据库的表中找到了 UserProperty）。但是当我到达（2）时，再次调用构造函数，它创建了第二个实例，这让我感到困惑。

不会抛出异常并且额外的实例被保存到表中（这会导致错误，因为额外的实例包含更改属性值，并且下次通过具有较小 id 的行（旧的）从数据库中读取旧值时）。

调用堆栈看起来像这样（我在构造函数中放置了一个断点，并在 (2) 之后立即捕获了 screendumb：

![在 (2) 之后调用堆栈](../Images/b818f56c105708eba41a025afb1a9db4.png)

**谁能告诉我为什么WPF会这样做以及我如何让它停止？**

Windows：Windows 7 Ultimate 64 位 Visual Studio：Visual Studio 2010 Ultimate

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T08:27:30.140

您的 Linq to SQL 代码似乎有点不正统，所以我在下面提供了以下替代代码。请注意使用 DataContext 成员变量、构造函数，并`FirstOrDefault`使用 null 检查而不是`First()`. `true`如果成功，`false`则函数返回，否则返回。尽管 Linq DataContext 实现了`Dispose`，但最好让它超出范围（您可以在 Internet 上的其他地方找到相关文档）。

```
public class UserSettings
{
     DataAccessDataContext dc;
     bool result = false;
     string[] _userProperties;

     public Settings(JSApplication application, string[] userProperties)
     {
         dataContext = CreateContext(application.CommitDal));
         _userProperties = userProperties;
     }

     public bool SaveUserSettings(string key, string settings)
     { 
         var property = dc.UserProperties.FirstOrDefault(u => u.fk_Employee == employeeId && u.PropertyName == userPropertyKey);
         if (property != null)
         {
              property.Value = settings;
              _userProperties[key] = settings;
              result = dc.SubmitChanges();
         }
         return result;
     }
} 
```

# java - 为什么 Throwable.printStackTrace 采用 PrintWriter 而不是 Writer？

> ID：12419797
> 
> 赞同：2
> 
> 时间：2012-09-14T07:16:24.287
> 
> 标签：java, printstacktrace

为什么[`public void printStackTrace(PrintStream s)`](http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#printStackTrace%28%29)在*Throwable*类中采用 PrintWriter 而不是 Writer？

我认为 Writer 应该是规范（*接口的代码，而不是特定的实现*），但它可能是我缺少的东西，因此这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:24:01.900

可能有几个原因

*   最初的实现是使用 PrintStream，其改进版本是 PrintWriter。
*   该方法打印文本行，虽然它可以按需创建 PrintWriter，但这并不理想。

他们本可以做的是接受一个 Appendable，它是 Writer 的父级。

```
public void printStackTrace(Appendable appendable) {
    PrintWriter pw = (appendable instanceof PrintWriter) ? (PrintWriter) appendable :
        (appendable instanceof Writer) ? new PrintWriter((Writer) appendable) :
        new printWriter(new AppendableWriter(appendable)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T07:25:32.617

`Writer`是一个`PrintWriter`扩展的抽象类。`Throwable.printStackTrace`需要 a`PrintWriter`因为它调用了类`println`中不可用的方法`Writer`。`println`被调用是因为它需要打印堆栈跟踪，每行一个堆栈帧。

# ruby-on-rails-3 - 如何通过关联建模belongs_to

> ID：12419802
> 
> 赞同：0
> 
> 时间：2012-09-14T07:17:02.820
> 
> 标签：ruby-on-rails-3, activerecord

我有三个模型类别，项目类型和项目。用简单的英语我可以把我的要求说成：一个类别可以有零个或多个项目类型。一个项目类型必须只属于一个类别，并且可以有零个或多个项目。一个项目属于通过 itemtype.i 将它们关联到 itemtype 和类别，如下所示：

```
 class Category < ActiveRecord::Base
   has_many :item_types
   has_many :items ,:through => item_types, :source => category
 end  
 class ItemType < ActiveRecord::Base
   has_many :items
 end
 class Item < ActiveRecord ::Base
   belongs_to :item_type
 end 
```

现在我如何将一个项目与一个类别相关联。我的一个视图需要显示一个类别的所有项目。当我将其查询为

```
 Category.joins(:item_types,:items).where("categories.id=?",1) 
```

我得到下面的 sql

```
 SELECT "categories".* FROM "categories" INNER JOIN "item_types" ON "item_t
  ypes"."category_id" = "categories"."id" INNER JOIN "item_types"   
  "item_types_categories_join" ON "item_types_categories_join"."category_id" =
  "categories"."id" INNER JOIN "categories" "items_categor
  ies" ON "items_categories"."id" = "item_types_categories_join"."category_id" WHERE
  (categories.id=1) 
```

任何人都可以在这里帮助我。如何获取以下 sql

```
 select * from categories 
      inner join item_type on categories.id=item_types.category_id
      inner join items on item_types.id=items.item_type_id
 where categories.id =1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T08:56:18.063

如果我是正确的，则关联声明是不完整的。您可能需要添加`belongs_to :category`ItemType & Item 模型。例如：

```
class Category < ActiveRecord::Base
   has_many :item_types
   has_many :items ,:through => item_types
 end  
 class ItemType < ActiveRecord::Base
   has_many :items
   belongs_to :category
 end
 class Item < ActiveRecord::Base
   belongs_to :item_type
   belongs_to :category
 end 
```

现在 category 的实例应该能够列出所有项目。当您想列出某个类别的所有项目时，您应该通过以下方式获取它：

```
cat = Category.find_by_id(ID_GOES_HERE)
cat.items 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T09:02:41.783

像这样的东西应该工作

```
#this will load your item_types and items earlier with less query.
Category.find(1, :include => [:item_types, :items]) 
```

您的模型还需要以下更改

```
 class ItemType < ActiveRecord::Base
 ... ...
 +    belongs_to :category
 end

 class Item < ActiveRecord::Base
 ... ...
 +    belongs_to :category
 end 
```

这是一个相关链接[-Rails Active Record：与 :order 和 :group 一起查找](https://stackoverflow.com/questions/1129792/rails-active-record-find-in-conjunction-with-order-and-group)。您可能会在此处获得更多详细信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T08:44:21.543

我不确定我会在这里依靠rails魔法。你能试一下吗

```
Category.includes([:item_types,:items]).where(['items.item_type_id = ?',categories.item_type.id]).where(<...your conditions...>) 
```

很抱歉在发布之前没有时间自己检查:-(

# apache-flex - 让 s:DataGrid 项目编辑器始终可见

> ID：12419804
> 
> 赞同：0
> 
> 时间：2012-09-14T07:17:09.760
> 
> 标签：apache-flex

默认情况下，s:DataGrid 在单击单元格后会显示项目编辑器。我想一直显示项目编辑器。

**如何让项目编辑器一直可见？**例如一列复选框。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T08:48:07.087

请参阅[在项目呈现器中使用可编辑控件](http://livedocs.adobe.com/flex/3/html/help.html?content=cellrenderer_3.html)

您可以通过多种方式管理这种情况，包括：

1.  在您的项目渲染器中，不要使用允许用户修改它们的控件（CheckBox、ComboBox 等）。
2.  创建这些控件的自定义版本以禁止用户与其交互。使用列表控件的 rendererIsEditor 属性来指定项呈现器也是项编辑器。有关更多信息，请参阅示例：[使用项目渲染器作为项目编辑器。](http://livedocs.adobe.com/flex/3/html/celleditor_8.html#202105)
3.  为项目渲染器和托管控件编写您自己的代码，以便在您允许用户与之交互时从项目渲染器传回数据。

# java - 找到作为 C 因子的最小整数？

> ID：12419808
> 
> 赞同：1
> 
> 时间：2012-09-14T07:17:16.377
> 
> 标签：java, numbers, factorization

我需要有关此方法 minimumFactor 的帮助

`public static int smallestFactor(int C)` 此函数将整数 C 作为其参数，它返回除 1 以外的 C 的因子的最小整数。

参数： C - 要分解的整数。

前提条件：C 必须大于 1。

返回： C 的最小因子。

```
public class Factor
{       
public static long smallestFactor(int C)
    {   
    for (int i = 2; i*i<= C; i++) 
    {   
        while (C % i == 0) 
        {
         System.out.print(i + " "); 
         C = C / i;
        }
    }
        return C;
    }
} 
```

我需要找到最小的因素，但我不知道该怎么做

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-14T07:20:59.867

您需要使用`if`而不是，如果找到则`while`返回。`i`

```
public static long smallestFactor(int C)
{
    for (int i = 2; i*i<= C; i++) 
    {   
        if (C % i == 0)
        {
            return i;
        }
    }

    return C;
} 
```

您还可以进行其他改进，但这应该可以帮助您入门。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:21:22.647

对您的代码进行小改动 - 您已经接近了！

```
public class Factor {

    public static long smallestFactor(int C) {

        for (int i = 2; i*i<= C; i++) {   
            if (C % i == 0) return i;
        }
        return -1;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T07:21:44.830

您需要返回的值是您的`i`，而不是`C`.

您应该处理`i`循环中的可能值，以及`return`当您找到`C % i == 0`.

请注意，为了提高效率，您应该测试 2、3，然后是之后的每个奇数。如果您已经测试了 2，则测试 (4, 6, 8, ...) 没有意义：

```
public static int smallestFactor(int C) {
    if (C % 2 == 0) return 2;  // C is even

    for (int i = 3; i * i <= C; i += 2) {
        if (C % i == 0) return i;  // odd factor found
    }

    return C;  // no factor found
} 
```

事实上，最有效的算法只会测试*主要*因素，但我怀疑这超出了你被问到的范围。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-14T07:24:13.440

处理所有异常情况，试试这个代码：

```
public static long smallestFactor(int x)
{
    if(x < 1)  return -1;
    if(x == 1) return  1;

    for(int i=2; i<=x; i++)
       if(x % i == 0) 
          return i;

    return -1; // To stop compiler's complaints.
} 
```

# javascript - 使用普通 Javascript 查找 Jquery 版本

> ID：12419812
> 
> 赞同：-4
> 
> 时间：2012-09-14T07:17:32.740
> 
> 标签：javascript, jquery

有什么方法可以使用普通的纯 JavaScript 找到 Jquery 的版本。我知道通过使用以下代码使用 JQuery 本身来执行此操作。

```
jQuery.fn.jquery; 
```

或者

```
$().jquery; 
```

但这对我不起作用，因为我不允许使用 Jquery 代码。请建议仅使用纯 javascript 的任何替代方法。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:21:08.263

```
jQuery.fn.jquery 
```

是一个普通的 JavaScript 属性。这与“使用 jQuery”无关，因此这是获取 jQuery 版本的正确“JavaScript”方式。

*编辑：*如果您只需要检查，如果 jQuery 的版本已经存在，您可以简单地测试`window.jQuery`：

```
if ("jQuery" in window) {
    // get its version:
    var jquery_version = window.jQuery.fn.jquery;
} 
```

（如果你以前没有见过：在大多数情况下`window.jQuery`，它基本上与具有名称的全局变量相同。）`jQuery`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T12:32:32.863

声明一个变量并尝试使用

```
var jVersion;
jVersion = jQuery.fn.jquery;
console.log(jVersion); 
```

如果您使用任何普通的 JS 代码，请使用此方法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T07:31:17.813

你的意思是你不能在你的代码中使用这个词吗`$`？`jQuery`

关于什么：

```
window[String.fromCharCode(36)]()[String.fromCharCode(106,113,117,101,114,121)] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-14T07:22:06.950

'jquery 代码' 是什么意思 - 这只是 JavaScript。

这是您引用名为“$”的 JavaScript 函数的方式：

```
$ 
```

这就是您调用该函数的方式：

```
$() 
```

这是您访问该`jquery`函数返回值的属性的方式：

```
$().jquery 
```

这给了你你所需要的！

# php - 检查是否存在任何错误消息并在 laravel 中显示所有错误消息

> ID：12419814
> 
> 赞同：23
> 
> 时间：2012-09-14T07:17:35.597
> 
> 标签：php, validation, laravel

在 laravel 中一次显示所有错误消息，我在视图中使用以下代码

```
<?php 
 $something = $errors->all(); 
 if(!empty($something)): 
?>

<div class = "alert alert-error">                      
  @foreach ($errors->all('<p>:message</p>') as $input_error)
    {{ $input_error }}
  @endforeach 
</div> 

<?php endif; ?> 
```

但是当我想使用`$errors->all()`而不是`$something`if 条件时，它会显示错误

> 不能在写上下文中使用方法返回值

虽然上面的代码工作正常，但我认为可能有更好的方法来检查是否存在任何错误消息，如果存在则显示它。

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-09-14T07:19:33.350

是的，因为您不能使用任何方法作为空函数参数。来自 php 文档：

> empty() 仅检查变量，因为其他任何内容都会导致解析错误。换句话说，以下内容将不起作用：empty(trim($name))。相反，使用 trim($name) == false。

$errors 是什么类？如果它是你自己的类，你可以实现像'isEmpty()'这样的方法，然后在if语句中使用：

```
if ($errors->isEmpty()) { ... 
```

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2014-05-20T15:54:41.553

在我的控制器中，我使用以下代码将验证错误传递给我的视图：

```
return Redirect::to('page')
    ->withErrors($validator); 
```

然后，在我看来，我可以使用以下代码来检查是否存在错误：

```
@if($errors->any())
<div id="error-box">
    <!-- Display errors here -->
</div>
@endif 
```

您也可以使用`if($errors->all())`.

来自[Laravel (v4) 文档](http://laravel.com/docs/validation#error-messages-and-views)：

> 请注意，当验证失败时，我们使用 withErrors 方法将 Validator 实例传递给 Redirect。此方法会将错误消息闪烁到会话中，以便它们在下一个请求中可用... [A]n $errors 变量将始终在您的所有视图中可用，在每个请求中，允许您方便地假设 $错误变量总是被定义并且可以安全地使用。

# c++ - 交叉编译 libmcrypt 作为 MSVC 的静态库

> ID：12419824
> 
> 赞同：0
> 
> 时间：2012-09-14T07:18:52.193
> 
> 标签：c++, mingw, static-libraries, cross-compiling, mcrypt

我正在尝试将[libMcrypt](http://mcrypt.sourceforge.net/)用作 Windows 的静态库。我的代码已经在使用[此处](http://files.edin.dk/php/win32/mcrypt/dev/)找到的 dll 端口。该项目不存在“vcproj/解决方案”，所以我不知道如何使用 Visual Studio 直接编译它。（当我尝试创建一个并编译时，我遇到了很多错误）

但是，我可以使用 MingW 进行交叉编译并获得一个运行良好的 windows dll。我在[这里](https://wiki.physik.fu-berlin.de/linux-minidisc/doku.php?id=compilingwithmingw)找到了说明。然后我编译了一个静态库，将 --enable=static 作为配置选项。它成功创建了一个 .a 和 .la 文件。

但是当我尝试使用编译库时，我的项目中出现以下链接器错误

```
libmcrypt.lib(loki97.o) : warning LNK4229: invalid directive '/aligncomm:_prm,5' encountered; ignored
libmcrypt.lib(loki97.o) : warning LNK4229: invalid directive '/aligncomm:_sb2,5' encountered; ignored
libmcrypt.lib(loki97.o) : warning LNK4229: invalid directive '/aligncomm:_sb1,5' encountered; ignored
LIBCMT.lib(invarg.obj) : error LNK2005: __invoke_watson already defined in MSVCRT.lib(MSVCR100.dll)
MSVCRT.lib(MSVCR100.dll) : error LNK2005: __strdup already defined in LIBCMT.lib(strdup.obj)
     Creating library ..\..\..\bin\myProj.lib and object ..\..\..\bin\myProj.exp
LINK : warning LNK4098: defaultlib 'LIBCMT' conflicts with use of other libs; use /NODEFAULTLIB:library
libmcrypt.lib(blowfish-compat.o) : error LNK2001: unresolved external symbol ___chkstk_ms
myProj.exp : error LNK2001: unresolved external symbol arcfour_LTX__is_block_algorithm
myProj.exp : error LNK2001: unresolved external symbol arcfour_LTX__mcrypt_algorithm_version
myProj.exp : error LNK2001: unresolved external symbol arcfour_LTX__mcrypt_decrypt
myProj.exp : error LNK2001: unresolved external symbol arcfour_LTX__mcrypt_encrypt
myProj.exp : error LNK2001: unresolved external symbol arcfour_LTX__mcrypt_get_algo_iv_size
myProj.exp : error LNK2001: unresolved external symbol arcfour_LTX__mcrypt_get_algorithms_name
myProj.exp : error LNK2001: unresolved external symbol arcfour_LTX__mcrypt_get_block_size 
```

1.  从第一个两个错误，我觉得这是一个 CRT 不匹配错误。如何让 gcc 选择在没有 CRT 的情况下构建静态库？（我不确定我的想法是否正确）
2.  或者我可以使用 .a 文件，提取 obj 文件并从中重新创建一个库吗？
3.  有没有人在 Windows 上为 libMcrypt 编译静态库

非常感谢你的帮助！

# java - 为什么我的表情给出了错误的答案？

> ID：12419826
> 
> 赞同：0
> 
> 时间：2012-09-14T07:19:01.430
> 
> 标签：java, android, floating-point, seekbar

在这种情况下，我的“f”值总是从 88 到 108，我需要将该值映射到从 0 到 200 的搜索栏范围

我在这里展示的表达式在所有值上都很好，除了 if f=88.1,88.2,89.1;89.2....等等

```
String value = b.getText().toString();

    float f= Float.parseFloat(value);

    int progress = (int) (f-(float)88.0)*10;
    s.setProgress( progress); 
```

我在搜索栏中设置了我的进度，我像这样取回了我的 f 值并设置了一个文本视图

```
float channel = (float) ((float)88.0 + ((float)progress/10));
            String mytext=Float.toString(channel);
            t.setText(mytext); 
```

但是 textview 显示的值比我原来的值少 0.1；如显示 f=88.1 为 88.2，f=88.0 为 88.1 等等......

有人可以帮我解决这个问题吗？

我得到了解决方案，并将其标记为正确，但是谁能告诉我为什么会发生这种奇怪的事情？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:46:15.500

您是否尝试过相反的检查。乘以 10，然后减去 880，看看问题是否仍然存在。

```
int progress = (int) ((f*10) - 880); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T13:15:36.620

二进制浮点并不能准确地表示所有值。特别是，值 88.1、88.2、89.1 和 89.2 不能以二进制浮点数表示。相反，其精确数学结果将是这些值之一的任何计算或转换都会生成接近精确结果的二进制浮点值。

在通常的默认模式下，返回最接近精确结果的可表示结果。（这是针对执行的每个操作。当您有多个算术运算时，舍入到可表示结果的影响可能会复合，从而产生更大的差异。）有时可表示的结果大于确切的结果，有时它会更小。

因此，您的对象`f`不包含 88.1、88.2、89.1 或 89.2。它包含一些稍高或稍低的其他值。当您减去 88 并乘以 10 时，如果舍入的效果恰好取消并给您一个准确的结果，您可能正好有 1 或 2，但您可能有一个略高于 1 或 2 的值或一个值略低于 1 或 2。

然后使用强制转换将该值转换为整数`(int)`。这种转换会截断；它不圆。因此，如果该值略低于 1，则强制转换的结果为 0。

如果您希望将整数转换为舍入而不是截断，则可以添加 .5: `int progress = (int) ((f-88.f)*10 + .5);`。（如果您关心平局时的舍入方向，当与最近整数的距离完全相等时，您必须使用不同的解决方案。）

此四舍五入将缓解您在此问题中提出的特定问题，但仍可能出现伪影。例如，如果 f 非常接近某个值，例如 88.15，则将其四舍五入以产生 1（对于 .1）或 2（对于 .2）的进度，然后从该进度重构 f 可能会产生 88.2，即使 f 稍微接近一些到 88.1（略低于 88.15）或可能产生 88.1，即使 f 稍微接近 88.2（略高于 88.15）。

# html - 如何在 Sencha Touch 中拨打电话按钮

> ID：12419827
> 
> 赞同：0
> 
> 时间：2012-09-14T07:19:02.037
> 
> 标签：html, sencha-touch

如何在 Sencha Touch 中制作一个简单的呼叫按钮

我的按钮声明为：

```
var callButton = {
            xtype: "button",
            text: 'Call College',
            ui: 'custom-btn-confirm',         
            maxWidth: '360px',
            padding:    '0 80 0 80',
            centered: true,
            flex: 1,
            scope: this,
            style: 'color: #ffffff',

            handler: function() {
                console.log("Make a Phone Call");
                //document.location.href = "tel:00112233"; // This does not work

            } 
```

有关的

[从 Sencha Touch 中的按钮触发“电话”链接](https://stackoverflow.com/questions/5528290/fire-tel-link-from-button-in-sencha-touch)

[http://www.sencha.com/forum/showthread.php?127497-Firing-a-tel-link-from-a-button/page2&highlight=location.href](http://www.sencha.com/forum/showthread.php?127497-Firing-a-tel-link-from-a-button/page2&highlight=location.href)

[如何使用 phoneGap 和 Sencha Touch 2 通过 android 拨打设备电话？](https://stackoverflow.com/questions/9999841/how-can-make-a-device-phone-call-by-android-using-phonegap-and-sencha-touch-2)

[http://rickluna.com/wp/2012/02/making-a-phone-call-from-within-phonegap-in-android-and-ios/](http://rickluna.com/wp/2012/02/making-a-phone-call-from-within-phonegap-in-android-and-ios/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T11:13:05.617

您可以将按钮替换为

```
{html : "<a href='tel:{phone}' class='x-button call-button' target='_blank'>Call College</a>"} 
```

# sql - 如何使用 Classic ASP 将图像存储在 SQL Server 数据库中？

> ID：12419828
> 
> 赞同：1
> 
> 时间：2012-09-14T07:19:02.090
> 
> 标签：sql, asp-classic, sql-server-2000, record, recordset

我正在上传一个图像文件，因为我`<input type="file" name="browse_file" accept="image/*"/>`在我的表单中使用了它。

我有一个名为的表`covers`，其中有一列名为`img`data type `image`。这就是我的 html 的样子

HTML

```
<table border="1" cellpadding="5" cellspacing="0" width="100%">
                <tr>
                    <td width="20%"><b>Choose Cover:</b></td>
                    <td>
                        <input type="file" name="browse_file"  accept="image/*"/>
                        <%
                            session("file_name") = request.Form("browse_file")
                        %>
                    </td>
                </tr>
                <tr>
                    <td><strong>Cover Name:</strong></td>
                    <td><input type="text" name="cover_name" value=""></td>
                </tr>
                <tr>
                    <td><strong>Choose Category:</strong></td>
                    <td>
                        <select name="disp_cat" onchange="return refresh_cat();">
                            <option selected="selected" value="0">Choose Category...</option>                           
                            <%
                                sql = "SELECT * from categories"
                                rs.open sql, con, 1, 2
                                do while not rs.eof
                            %>
                            <% if rs("name") = request.Form("disp_cat") then%>
                            <option value="<%=rs("name")%>" selected="selected"><%=rs("name")%></option>
                            <%else%>
                            <option value="<%=rs("name")%>"><%=rs("name")%></option>
                            <%end if
                                rs.movenext
                                loop
                                rs.close
                            %>
                        </select>
                    </td>
                </tr>
                <tr>    
                    <td colspan="2">
                        <input type="submit" value="Save" name="save_cover" onclick="return show_alert2();"/>
                        <input type="submit" value="Cancel" name="cancel" onclick="return go_back();"/>
                    </td>
                </tr>
                <%
                    if request.Form("save_cover") <> "" then
                    sql = "SELECT * from covers"
                    rs.open sql, con, 1, 2
                    rs.addnew

                    rs("c_name") = request.Form("cover_name")
                    rs("category") = request.Form("disp_cat")
                    rs("img") = request.Form("browse_file")
                    rs("date_upl") = date()

                    rs.update

                    response.Write("<script language='javascript'>{update1();}</script>")

                    rs.close
                    end if
                %>
                </table> 
```

与数据库的连接在一个名为`database.asp`. 连接正在工作，因为除了列之外，数据库表中的所有列（如`c_name`、`category`、 ）`date_upl`都在更新。`covers``img`

它不占用图像路径。更新`rs("img") = request.Form("browse_file")`数据库列的asp记录集是否错误？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T09:29:18.713

If you're using the SQL `Image` Datataype, that's a `binary field` to store the image itself, not the path - if you just want to store the path you would use a `varchar` data type.

If you want to store the image in the database (as binary) then the easiest way to do it is to save the file to disk (using [FreeASPUpload](http://www.freeaspupload.net/ "FreeASPUpload") etc), then tell SQL to load that file into the binary column, for example:

```
INSERT INTO covers(img)  
    SELECT * FROM   
    OPENROWSET(BULK N'c:\uplaods\img0001.jpg', SINGLE_BLOB) AS import 
```

Or, if you want to insert the form data then upload the image into SQL afterwards:

```
UPDATE covers SET [img] = (SELECT NewImage.* from Openrowset(Bulk 'c:\uplaods\img0001.jpg', Single_Blob) NewImage) where Id = 10 
```

Personally though - i dont store images in SQL, i keep them on disk and just store the filename in SQL, eg:

```
function SaveFiles
    Dim Upload, fileName, fileSize, ks, i, fileKey

    Set Upload = New FreeASPUpload
    Upload.Save(uploadsDirVar)
    If Err.Number <> 0 then Exit function
    SaveFiles = ""
    ks = Upload.UploadedFiles.keys
    if (UBound(ks) <> -1) then
        SaveFiles = "<B>The following was uploaded:</B> "
        for each fileKey in Upload.UploadedFiles.keys
            SaveFiles = SaveFiles & Upload.UploadedFiles(fileKey).FileName & " (" & Upload.UploadedFiles(fileKey).Length & "B) "

            Dim cover_name, disp_cat
            cover_name = Upload.Form("cover_name")
            disp_cat = Upload.Form("disp_cat")

            '#### Double Up any quotes (very lazy - use paramaterised SQL instead)
            cover_name = replace(cover_name, "'", "''")
            disp_cat = replace(disp_cat, "'", "''")

            'Dump file information into database
            SQLnewFile = "INSERT into covers (File_Filename, cover_name, disp_cat) " & _
                         "VALUES ('" & replace(Upload.UploadedFiles(fileKey).FileName,"'","''") & "', '" & cover_name & "', '" & disp_cat & "')"              
            db.Execute(SQLnewFile)
        next
    else
        SaveFiles = "The file name specified in the upload form does not correspond to a valid file in the system."
    end if
end function 
```

**Edit 1: In Response To Your Comments**

I dont usually write peoples code for them but you seem to be struggling to grasp the basics here, no, you would not edit your .inc file. The bit of code you would edit is the code where you check for the post and insert the data, for example:

```
if request.Form("save_cover") <> "" then
    Dim Upload, fileName, ks, fileKey, uploadsDirVar
    uploadsDirVar = "c:\Uploads\"

    Set Upload = New FreeASPUpload
    Upload.Save(uploadsDirVar)
    ks = Upload.UploadedFiles.keys
    if (UBound(ks) <> -1) then
        for each fileKey in Upload.UploadedFiles.keys
            Dim cover_name, disp_cat
            cover_name  = replace(Upload.Form("cover_name"), "'", "''")
            disp_cat    = replace(Upload.Form("disp_cat"), "'", "''")

            SqlNewCover = "INSERT into covers (cover_name, disp_cat, FileName, img) " & _
                         "VALUES ('" & cover_name & "', '" & disp_cat & "', '" & replace(Upload.UploadedFiles(fileKey).FileName,"'","''") & "', (SELECT BulkColumn FROM OPENROWSET( Bulk '" & uploadsDirVar & replace(Upload.UploadedFiles(fileKey).FileName,"'","''") & "', SINGLE_BLOB) AS BLOB))"              
            db.Execute(SQLnewFile)
        next
    end if
end if 
```

# asp.net-mvc-3 - 如何强制阻止用户在 jquery ui 自动完成中提交页面数据？

> ID：12419838
> 
> 赞同：0
> 
> 时间：2012-09-14T07:19:54.080
> 
> 标签：asp.net-mvc-3, jquery-ui, jquery-ui-autocomplete

我在使用 mvc3 开发的网站中使用了 jquery ui。`I used jquery ui auto-complete mechanism.`

我使用了以下 jquery 函数-

```
/// script to load owner for owner dropdown.
$(function () {
    $("#Owner_FullName").autocomplete({
        source: function (request, response) {
            $.ajax({
                url: "/Employee/AutocompleteSuggestions",
                type: "POST",
                dataType: "json",
                data:
                    {
                        term: request.term
                    },
                success: function (data) {
                    response($.map(data, function (item) {
                        return { label: item.FullName, value: item.Id }
                    }
                    ))
                }
            })
        },
        minLength: 1,
        focus: function (event, ui) {
            $("#Owner_FullName").val(ui.item.label);
            return false;
        },
        select: function (event, ui) {
            if (ui.item) {
                $("#Owner_FullName").css('border', '');
                $("#Owner_FullName").val(ui.item.label);
                $("#OwnerId").val(ui.item.value);
                return false;
            }
        },
        change: function (event, ui) {
            if (ui.item == null) {
                $("#Owner_FullName").css({ 'border': '1px solid #ff0000' });
                $("#OwnerId").val(null);
            }
        }
    });
}); 
```

我在文本框中显示了所有者名称，并将 OwnerId 设置为隐藏字段以进行进一步处理。

对于用户在文本框中输入而不是从下拉列表中选择项目的处理情况，**我使用了更改事件**，并且在该事件中，我使用了将隐藏字段重置为 null 并将 css 应用于文本框。

**现在我的问题是我的文本框字段不是必填字段，如果用户在文本框中键入并简单地提交数据，那么它应该显示警告类型的消息，并且在用户清除文本框值之前不应该发生提交过程。**

如何处理？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-21T11:18:28.887

如果您想在用户只是在自动完成框中键入一个值而没有从下拉列表中选择时显示错误情况，您可以使用`change`自动完成事件来突出显示这一点并更新您的隐藏字段。

```
change: function (event, ui) {
  if (ui.item == null || ui.item == undefined) {//I also use the undefined check
    $("#OwnerId").val("");//I have never used null before when using val(). But you always want to clear out the hidden field if the user does not select from the drop down.
      if ($.trim($("#Owner_FullName").val()) == "") {//check and see if the user cleared the field out
        $("#Owner_FullName").css({ 'border': '' });
        //The autocomplete field is blank. Then put code here that allows the submit.
        }
          else
       {
          $("#Owner_FullName").css({ 'border': '1px solid #ff0000' });
          //The autocomplete field is NOT blank. Then put code here that prevents the submit.
       }//close the if = "" statement
    }
  }//close function 
```

* * *

另一种选择可能是检查提交时的自动完成字段以查看是否选择了某些内容，如果未*选择*某些内容，则停止发布。您可以检查自动完成是否从列表中选择了某些内容...

```
$("#Owner_FullName").data("autocomplete").selectedItem != null //or undefined for that matter 
```

* * *

让我知道这些是否适合您！

# java - 不使用线程，但使用 ArrayList 得到错误的结果，使用 Vector 得到正确的结果

> ID：12419846
> 
> 赞同：0
> 
> 时间：2012-09-14T07:20:26.963
> 
> 标签：java, synchronization, thread-safety

在一个用于学校作业的简单 Java 程序中，我没有使用任何线程（除非 Java 以某种方式优化了代码以使用它们）。为什么当我这样做的时候

```
java App < test.txt // correct result
java App < test.txt > ans.txt // 1 wrong result 
```

然后我将 ArrayList 的使用切换到 Vector，它就可以工作了。我认为唯一的区别是同步？如果我不使用线程，为什么会得到不同的结果？错误结果的触发器似乎也只是`> ans.txt`输出重定向？但早些时候，我还注意到一些奇怪的地方，当我添加一些 println 与 none 时，我得到了不同的结果。

为什么是这样？当我不使用线程时，我希望从 ArrayList/Vector 获得相同的结果吗？我按照我的想法使用了 ArrayList，因为我不使用线程，我可以摆脱 ArrayList 吗？

**更新**

代码是[https://gist.github.com/3720606](https://gist.github.com/3720606)。你试一试：

```
java SchedulingDeliveries < Subtask1.txt // should give wrong result 
```

预期的答案是 Subtask1-ans.txt，可以尝试 diff ans.txt

然后尝试搜索并将ArrayList替换为Vector，然后再试一次。应该管用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T08:38:27.120

关于 ArrayMaxHeap 实现（通过研究您的代码并与您认为应该发生的情况进行比较来回答）：

*   `list`调用时的大小会发生什么变化`dequeue()`？

*   `dequeue`将一个元素从数组中的最后一个位置移动到“第一个”（不计算索引 0），然后调用`shiftDown(1)`. 如果由于某种原因最终没有将其与另一个元素交换（可能是剩下的最后一个元素）`queueIndex`，被移动的元素会发生什么？`shiftDown`

# sql - 从 Oracle 中的多个表中删除相同的列名

> ID：12419854
> 
> 赞同：3
> 
> 时间：2012-09-14T07:21:01.427
> 
> 标签：sql, oracle

我必须删除许多表中存在的同一列。例如，名称为“c”的列存在于许多表中……t1、t2、t3……

一种解决方案是编写与`ALTER`包含该列的表的数量一样多的语句来删除列。

有什么方法可以让我使用单`ALTER`表语句做同样的事情。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T07:32:07.860

不可以。一条`ALTER TABLE`语句一次不能更改多个表。您可以基于`ALL_TAB_COLS`例如编写一些动态 SQL

```
SELECT 'ALTER TABLE ' || owner || '.' || table_name || ' DROP COLUMN '|| column_name || ';'
FROM all_tab_columns
WHERE column_name = 'MY_UNWANTED_COLUMN'
AND owner = 'MY_OWNER'
/ 
```

然后运行该脚本。您可能想要添加

```
AND table_name IN ('MY_TAB1','MY_TAB2') 
```

指定一个确切的表格列表，以备不时之需。

# c# - 如何在编辑视图中初始化日期选择器？

> ID：12419858
> 
> 赞同：0
> 
> 时间：2012-09-14T07:21:07.747
> 
> 标签：c#, asp.net, asp.net-mvc

![在此处输入图像描述](../Images/e4ad11072bf372ff1c859b2a7862d413.png)

我有一个模型如下：

```
using System;
using System.ComponentModel.DataAnnotations;
using System.Data.Entity;

namespace MvcMovie.Models
{
    public class Movie
    {
        public int ID { get; set; }

        [Required]
        public string Title { get; set; }

        [DataType(DataType.Date)]
        public DateTime ReleaseDate { get; set; }

        [Required]
        public string Genre { get; set; }

        [Range(1, 100)]
        public decimal Price { get; set; }

        [StringLength(5)]
        public string Rating { get; set; }
    }

    public class MovieDbContext : DbContext
    {
        public DbSet<Movie> Movies { get; set; }
    }
} 
```

默认情况下启用日期选择器，但是当编辑视图处于视图中时，日期字段不会自动反映以前的值。编辑视图出现时如何初始化日期选择器？

```
@model MvcMovie.Models.Movie

@{
    ViewBag.Title = "Edit";
}

<h2>Edit</h2>

@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)

    <fieldset>
        <legend>Movie</legend>

        @Html.HiddenFor(model => model.ID)

        <div class="editor-label">
            @Html.LabelFor(model => model.Title)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Title)
            @Html.ValidationMessageFor(model => model.Title)
        </div>

        <div class="editor-label">
            @Html.LabelFor(model => model.ReleaseDate)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.ReleaseDate)
            @Html.ValidationMessageFor(model => model.ReleaseDate)
        </div>

        <div class="editor-label">
            @Html.LabelFor(model => model.Genre)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Genre)
            @Html.ValidationMessageFor(model => model.Genre)
        </div>

        <div class="editor-label">
            @Html.LabelFor(model => model.Price)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Price)
            @Html.ValidationMessageFor(model => model.Price)
        </div>

        <div class="editor-label">
            @Html.LabelFor(model => model.Rating)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Rating)
            @Html.ValidationMessageFor(model => model.Rating)
        </div>

        <p>
            <input type="submit" value="Save" />
        </p>
    </fieldset>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T08:51:20.803

在名为 EditorTemplates 的共享文件夹中创建一个文件夹，并放置一个文件名 DateTime.cshtml。然后将以下代码添加到文件中。

```
@model DateTime
@Html.TextBox("", String.Format("{0:d}", Model.Date.ToShortDateString())) 
```

# ios - IOS中无法对齐TableViewController的detailTextLabel

> ID：12419863
> 
> 赞同：3
> 
> 时间：2012-09-14T07:21:28.747
> 
> 标签：ios, xcode4.2

我有一个表格视图控制器，并且在 cellForRowAtindex Path 方法中我同时使用了 textlabel 和 detail textlabel。我试图左对齐细节文本标签，如下所示。

```
[cell.detailTextLabel setTextAlignment:UITextAlignmentLeft]; 
```

但它没有反映在我的表格视图中。任何想法？现在我可以选择自定义单元格了。但我认为这是浪费时间，因为我只需要修复对齐方式。如果有人可以帮助我解决这个问题，我们将不胜感激。

# ios - MFMessageComposeViewController 对 To: 字段编辑的反馈

> ID：12419864
> 
> 赞同：4
> 
> 时间：2012-09-14T07:21:35.310
> 
> 标签：ios, mfmessagecomposeview

我有一个应用程序使用由`MFMessageComposeViewController`. 我在 TO: SMS 对话框的字段中看到了一组收件人。用户可以删除或添加新的收件人。这没关系，但我的应用程序需要知道用户何时编辑此 TO: 字段，因为当用户更改接收者字段时，我必须执行一些其他操作。在单击取消按钮或单击发送按钮后，有什么方法可以知道收件人字段是否已编辑？

我的代码中有方法回调：

```
-(void)messageComposeViewController:(MFMessageComposeViewController *)controller    didFinishWithResult:(MessageComposeResult)result 
```

此方法有`controller.recipients`，但此数组包含调用消息控制器视图之前的收件人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-12T00:13:24.710

这在 iOS 7 中是不可能的。委托方法提供的唯一信息是用户是选择取消消息、发送消息还是发送失败。

从[文档中](https://developer.apple.com/library/ios/documentation/MessageUI/Reference/MFMessageComposeViewControllerDelegate_protocol/Reference/Reference.html#//apple_ref/occ/intfm/MFMessageComposeViewControllerDelegate/messageComposeViewController%3adidFinishWithResult%3a)：

> 当用户点击其中一个按钮以关闭消息撰写界面时，将调用此方法。此方法的实现应该关闭视图控制器并执行处理消息发送所需的任何其他操作。result 参数让您知道用户是否选择取消或发送消息，或者发送消息是否失败。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-12T00:59:30.240

为了补充 Enrico 的答案，这不仅从公共 API 的角度来看是不可能的，而且通过诡计也是不可能的，因为自 iOS6 以来，邮件和消息撰写视图控制器由与您自己的进程不同的进程呈现，并且它们的视图层次结构是完全隐藏在您的应用程序中。实际上，如果您要检查消息撰写视图控制器的视图的视图层次结构，您会注意到屏幕上的任何内容实际上都不存在于层次结构中。在远程视图加载期间，给消息撰写视图控制器的设置将传递给远程视图控制器。但是，这是一种单向操作，并且在远程视图加载后属性不会更新（或读取）。

这是为了保护用户的隐私。这是 iOS 的基本设计。您应该接受这一点，并相应地设计您的应用程序。

# entity-framework - 首先在 EF 代码中为生成的关系表映射名称

> ID：12419873
> 
> 赞同：2
> 
> 时间：2012-09-14T07:22:10.277
> 
> 标签：entity-framework, ef-code-first

我首先尝试使用 Code，并且我需要在 db 中的（所有）表的前缀。

在我的 DbContext 中，我有这些实体：

```
 public DbSet<Person> People { get; set; }
    public DbSet<Department> Departments { get; set; } 
```

我可以通过覆盖成功地为我的实体映射表名：

```
 protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        modelBuilder.Entity<Person>().ToTable("w_people");
        modelBuilder.Entity<Department>().ToTable("w_departments");
    } 
```

但是，对于创建的不直接映射到表的表，我无法确定前缀。

在我的示例中，人们可以属于许多部门，因此 EF 创建了一个“非实体”表。*（我是一个 EF 菜鸟，所以这些表可能有一个花哨的名字）*所以在我的数据库中，我得到了三个表：

```
w_people
w_departments
PersonsDepartments 
```

PersonsDepartments 表是我所追求的。如何在生成后为这些生成的表添加前缀或更改名称/映射？

TIA

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-17T14:00:17.137

我已经解决了这个问题：

```
modelBuilder.Entity<Person>().HasMany(p => p.Departments)
               .WithMany(d => d.People)
               .Map(mc => mc.ToTable("w_peopledepartments")); 
```

# python - 将变量分配给类对象属性的更方便的方法

> ID：12419875
> 
> 赞同：0
> 
> 时间：2012-09-14T07:22:15.423
> 
> 标签：python

将一组变量分配给类对象，通常是这样的：

```
player.x = 1
player.y = 10
player.name = 'John' 
```

因为列表和元组允许你这样做

```
a,b,c = (1,10,'John') 
```

所以这行得通

```
player.x,player.y,player.name = (1,10,'John') 
```

或这个

```
player.x,player.y,player.name = 1,10,'John' 
```

我想更改`player`属性，我需要输入太多`player`. 这是一种更懒惰的方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:47:31.740

像这样的东西怎么样：

```
def set_properties(instance, properties):
    for property in properties:
        setattr(instance, property, properties[property]) 
```

由于我们谈论的是懒惰的程序员，您可以将函数重写为：

```
def set_properties(instance, properties):
    for key,val in properties.iteritems():
        setattr(instance, key, val) 
```

上面的代码有点短，但对于大型字典也应该运行得更快，因为它在循环之前被解包一次。与每次迭代都调用属性字典的第一个版本相比。

用法：

```
set_properties(player, {'x': 1, 'y': 10, 'name': 'John'}) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-14T07:51:57.147

```
player.__dict__.update({'x':12,'y':24,'name':'Billy'}) 
```

不是更短，但在更多情况下使用字典比您提供的直接示例更方便。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-14T07:57:26.017

使用`zip()`和`player.__dict__`：

```
In [14]: class player:
   ....:     pass
   ....: 

In [15]: for prop,value in zip(("x","y","name"),(1,10,"john")):
    player.__dict__[prop]=value
   ....:     
   ....:     

In [18]: player.__dict__
Out[18]: {'__doc__': None, '__module__': '__main__', 'name': 'john', 'x': 1, 'y': 10} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-14T07:58:18.447

这是执行此操作的另一种方式，但与所有其他方式一样，它的可读性不如您开始的方式：

```
from functools import partial

map(partial(setattr, player), ("x", "y", "name"), (1, 10, 'John')) 
```

如果您在代码中的多个位置设置相同的一组或多组属性，也许为每个这样的组添加一个命名良好的方法是一个更好的选择？

```
class Player(object):

    # [...]

    def set_stats(self, x, y, name):
        self.x = x
        self.y = y
        self.name = name 
```

然后，您可以使用简短且易读的代码设置这些属性：

```
player.set_stats(1, 10, "John") 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-14T08:39:48.620

一个基本的循环可以工作：

```
for (k,v) in zip(attribute_names, attributes_values):
    setattr(player, k, v) 
```

当然，您可以起诉一些列表理解，例如：

```
trash = [setattr(player, k, v) for (k,v) in zip(attribute_names, attributes_values)] 
```

但它并没有真正改善任何东西（你的持有`trash`多达......`None``len(attribute_names)`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-14T07:40:49.240

您可以使用一种方法将您可能发现总是一起发生的属性更改包装在一起，例如`def edit(self, **kwargs)`位置参数，并在其中分配给`self.property = kwargs.get(propertyName, default)`玩家类。您还可以在类上创建一个属性，该属性执行您在示例中使用的那种类型的元组分配。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-14T08:59:26.560

我不是 100% 肯定，但在我看来，在这种情况下，使用 a`namedtuple`会是一种更好的方法：需要注意的是，只有已知字段应该存在（即，不能动态添加/删除）和类实际上只不过是具有属性样式访问字段的记录。

```
from collections import namedtuple

Player = namedtuple('Player', 'x y name')
player = Player._make([1, 3, 'Bob'])
print player
# Player(x=1, y=3, name='Bob')
player = player._replace(name='Jim', x=13)
print player
# Player(x=13, y=3, name='Jim') 
```

否则，我会亲自为您的`Player class`.

# apache - mod_jk 通知所有 tomcat 实例

> ID：12419878
> 
> 赞同：0
> 
> 时间：2012-09-14T07:22:32.550
> 
> 标签：apache, tomcat, mod-jk

> **可能重复：**
> [apache mod_jk 向所有集群节点发送请求](https://stackoverflow.com/questions/12383405/apache-mod-jk-send-request-to-all-cluster-nodes)

我有一个安装了 mod_jk 的 apache 服务器，并且运行了多个 tomcat 实例。当一个请求来自一个特殊的 url 时，我想把这个请求发送到所有的 tomcat 实例，或者类似于这个请求来的通知。而且我不需要从tomcats返回的任何响应。

mod_jk可以吗？如果没有，是否有替代 mod_jk 的方法可以满足我的需要？

# iphone - 如何在 iPhone 中查找 .pdf 或 .txt 或文件夹？

> ID：12419882
> 
> 赞同：1
> 
> 时间：2012-09-14T07:22:49.083
> 
> 标签：iphone, ios, file, dropbox

我在 iPhone Dropbox 应用程序中工作，使用 DropboxSDK 开发此应用程序，我从我的 Dropbox 帐户（如 APP、Getting Started.pdf、Photos、Public）中获取文件，我已将这些文件存储在 NSMutableArray 中并在 TableView 中显示，当用户在 TableView 中选择文件，然后我从 DidSelectRow 委托中获取这些项目。那么如何找到该文件？请帮我

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:33:44.807

您可以`NSPredicate`用于此目的。

例如：-

```
NSMutableArray *mutableArray = [array with objects];
NSPredicate *predictate = [NSPredicate predicateWithFormat:@"%K == %d",@"isDefault",1];
NSArray *filterArray = [mutableArray filteredArrayUsingPredicate:predictate];
NSLog(@"filterArray :%@",filterArray); 
```

或者你也可以试试这个： -

```
NSMutableArray *matches = [[NSMutableArray alloc]init];
NSFileManager *manager = [NSFileManager defaultManager];

    NSString *item;
    NSArray *contents = [manager contentsOfDirectoryAtPath:[NSHomeDirectory() stringByAppendingPathComponent:@"Documents"] error:nil];
    for (item in contents)
    {
        if ([[item pathExtension]isEqualToString:@".pdf"])
        {
            [matches addObject:item];
        }
    } 
```

# sql-server-2005 - 有害消息的 SQL Server 2005 Service Broker 行为

> ID：12419887
> 
> 赞同：0
> 
> 时间：2012-09-14T07:23:08.417
> 
> 标签：sql-server-2005, sql-server-2008-r2, service-broker

在 SQL 2008 R2 中创建 Service Broker 队列时，可以将 POISON_MESSAGE_HANDLING 状态指定为 ON 或 OFF。据我了解，如果它开启，则在消息连续回滚 5 次后，该消息将被视为有毒消息，并且队列将自动禁用。还引发了 BROKER_QUEUE_DISABLED 事件。

在 SQL 2005（和 2008 非 R2）中，您没有获得 POISON_MESSAGE_HANDLING 设置的选项。SQL 2005 的行为是否与 2008 R2 相同，此设置为 ON，或此设置为 OFF，或有什么不同？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T06:52:20.547

自 2005 年以来，Service Broker 开始处理有害消息，并且始终以相同的方式工作：连续 5 次回滚将禁用队列。最终添加了禁用它的选项，但是您必须考虑禁用有害消息处理是一个糟糕的主意：如果您真的遇到有害消息，系统将旋转令人恶心而没有进展。

# php - 如果我们将邮件从 php 脚本发送到 gmail 或其他邮件应用程序，是否有任何过滤器，如垃圾邮件和任何其他程序

> ID：12419889
> 
> 赞同：0
> 
> 时间：2012-09-14T07:23:15.047
> 
> 标签：php, mysql

我对从 php 脚本到其他邮件应用程序的邮件太怀疑了。我正在使用 Xammp 服务器 1.7.7 php 版本 5.3.8。以及从 php 发送邮件的方式是什么，例如 php core mail()、phpmailer()、smtp。以及在 php mail() 的标头中 mime 的用途是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T08:20:20.440

1.  > 从 php 发送邮件的方式是什么，例如 php core mail()、phpmailer()、smtp。

    [SMTP](http://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol)是希望传输电子邮件的计算机使用的主要协议或“语言”。它不以任何方式定义电子邮件本身的内容，除非 SMTP 服务器可以在每封电子邮件的顶部添加标题。

    PHP的[`mail()`](http://php.net/manual/en/function.mail.php)功能说明手册入口：

    > 如果打算发送 HTML 或其他复杂邮件，建议使用 PEAR 包[» PEAR::Mail_Mime](http://pear.php.net/package/Mail_Mime)。

    和：

    > 值得注意的是，**mail()**函数不适合循环处理大量电子邮件。此函数为每封电子邮件打开和关闭一个 SMTP 套接字，效率不高。
    > 
    > 对于发送大量电子邮件，请参阅[» PEAR::Mail](http://pear.php.net/package/Mail)和[» PEAR::Mail_Queue](http://pear.php.net/package/Mail_Queue)包。

2.  > php mail() 标头中 mime 的用途是什么

    [MIME](http://en.wikipedia.org/wiki/MIME)是编码使用非 ASCII 字符或包含附件/多个部分的电子邮件的主要方法。使用 MIME 编码的电子邮件在其标题中表明了这一事实。

    虽然`mail()`没有提供任何用于发送 MIME 电子邮件的特定工具，*但可以*对电子邮件的内容进行相应的编码，并将其提供给`mail()`（连同适当的 MIME 标头）以供继续传输。由于有一些工具可以使这项任务变得更加容易，因此我不建议尝试这种方法，除非作为学术练习。

你的问题的标题是：

> 是否有任何过滤器，如垃圾邮件和任何其他程序

垃圾邮件过滤发生在收件人的电子邮件系统上，它查看电子邮件的各个方面以猜测电子邮件是否为垃圾邮件。它实际查找的内容因系统而异，但可以考虑的内容包括：

*   电子邮件是由以前被看到发送垃圾邮件的主机（在网络上）发送的吗？

*   声称的发件人域的运营商是否指明了可以代表他们传输邮件的系统（例如使用[SPF](http://en.wikipedia.org/wiki/Sender_Policy_Framework)）和/或指定的电子邮件必须签名的密钥（例如使用[ADSP](http://en.wikipedia.org/wiki/Author_Domain_Signing_Practices)）？

*   是类似于其他已知垃圾邮件的电子邮件，其中可能包括查找（不存在）某些标头（例如`User-Agent`，它标识生成电子邮件的软件 - 可以欺骗此标头，以便生成的电子邮件看起来像是已生成通过其他一些软件包）？

在 PHP 中生成电子邮件的方式对这些因素几乎没有影响：最好先集中精力发送电子邮件，然后在发现垃圾邮件过滤器经常标记您的邮件时担心进行调整。

# qt - 在 QGLWidget 中将位复制到 QtImage

> ID：12419898
> 
> 赞同：1
> 
> 时间：2012-09-14T07:23:57.107
> 
> 标签：qt, memcpy, slot, qglwidget

也许有人可以帮助我解决以下问题：我想在 QGLWidget 中绘制 QImage 的内容，但小部件被涂成黑色。

```
class QGLCanvas {
    public:
    QGLCanvas(QWidget* parent) : QGLWidget(parent) {
    }

    void setImage(const QImage* image) {
      img = image;
    }

    void paintEvent(QPaintEvent*) {
      // From Painter Documentation Qt
      QPainter p(this);
      p.setRenderHint(QPainter::SmoothPixmapTransform, 1);
      p.drawImage(this->rect(), *img);
      p.end();
    }

    public slots:
    void rgb_data(const void *data) {
      memcpy((void *)img->bits(), data, img->byteCount()); // data will be copied (sizes are known)
      // img.save("text.png"); // saves right image
      this->update(); // calls repaint, but does not draw the image.
   }
   private:
   QImage *img;
} 
```

错误：当调用插槽时，内存被复制到图像中。如果图像被保存，则内容是正确的。但是 repaint 方法只是将黑色内容绘制到小部件。

修复：如果 memcpy 行在插槽外实现，则图像内容被绘制到小部件。此修复程序大大增加了代码复杂性。因此，我有以下问题：

问题：为什么 memcpy 在插槽中不起作用？这是 Qt 的普遍问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T13:46:20.973

您想确定 QImage 的[格式](http://qt-project.org/doc/qt-4.8/qimage.html#Format-enum)。当您调用位并期望它是 RGB 时，您需要检查格式。

```
if( img->format() != QImage::Format_RGB888 )
{
    // convert the image format to RGB888
    *img = img->convertToFormat(QImage::Format_RGB888);
} 
```

这样，Qt 在尝试绘制图像时就会知道图像格式。如果你用 RGB 数据填充它，但 QImage 被“格式化”为 ARGB，你会得到一些绘画错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T10:12:25.547

插槽没有什么特别之处，它会阻止您的代码工作。

问题可能是当您调用 update() 时，会安排重绘但异步发生。从您提供的代码中，最可能的原因是在调用和`img`调用之间被修改`rbg_data``paintEvent`

# php - 跟踪点击 Adsense 广告的用户的 IP 地址

> ID：12419912
> 
> 赞同：2
> 
> 时间：2012-09-14T07:24:40.710
> 
> 标签：php, javascript, adsense

在我的网站上，我有 adsense 广告。我受到点击繁荣的攻击。基本上我想检测用户何时点击广告，以便我可以在我的数据库中记录 IP，然后我将能够禁止点击次数最多的用户。现在我知道大多数 adsense 广告都是通过 iframe 标签运行的，但我还能做我想做的事吗？任何想法将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T08:04:58.040

没有测试过这个，但它应该可以工作。它基本上检查在触发模糊事件之前鼠标是否在广告上。

```
jQuery(function( $ ){

  var isOverGoogleAd = false;

  $( "iframe[ id *= google ]" ).mouseover(
      function(){
          isOverGoogleAd = true;
      }
  )
  .mouseout(
      function(){
          isOverGoogleAd = false;
      }
  );

  $( window ).blur(
      function(){

      if (isOverGoogleAd){

          $.ajax({
              type: "post",
              url: "track.php",
              data: {
                  adUrl: window.location.href
              }
          });
      }
  })
  .focus();
}); 
```

取自[这里](http://www.bennadel.com/blog/1752-Tracking-Google-AdSense-Clicks-With-jQuery-And-ColdFusion.htm)。

# java - String to Long NumberFormatException

> ID：12419913
> 
> 赞同：0
> 
> 时间：2012-09-14T07:24:49.357
> 
> 标签：java

尝试将字符串转换为 Long 时出现错误。

```
Long l = Long.parseLong(str); 
```

例外是：

```
java.lang.NumberFormatException: For input string: "20120828000040464018674B"
at java.lang.Long.parseLong(Long.java:415)
at java.lang.Long.parseLong(Long.java:461) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:26:10.297

这个数字太大而无法`long`在 Java 中表示为 a。最大的可能`long`是`9223372036854775807L`. 改为使用`BigDecimal`。

另外，最后一个字符是字母`B`，在任何数字中都是无效的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-14T07:33:22.723

它似乎是日期/时间而不是数字

```
String dt = "20120828000040464018674B";
SimpleDateFormat sdf = new SimpleDateFormat("yyyyMMddHHmmssSSS");
Date date = sdf.parse(dt.substring(0, 17));
int nanos = Integer.parseInt(dt.substring(17, 17 + 6));
SimpleDateFormat sdf2 = new SimpleDateFormat("yyyy/MM/dd HH:mm:ss.SSS");
System.out.printf("%s%06d%n", sdf2.format(date), nanos); 
```

印刷

```
2012/08/28 00:00:40.464018674 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T07:27:14.330

```
20120828000040464018674B 
```

不是长文字（B 结尾）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-14T07:27:50.807

```
System.out.println(Long.MAX_VALUE);
// prints 9223372036854775807
// yours' 20120828000040464018674B 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-14T07:28:45.283

你为什么不去参加 BigInteger 课程

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-14T07:32:28.730

根据 Long 的 Javadoc，[`Long.MAX_Value`](http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#MAX_VALUE)定义为*2^63 - 1*。您提供的值大于给定值，因此会抛出*NumberFormatException 。*

# git - 使用 Tower (Mac) 推送到 code.google.com

> ID：12419914
> 
> 赞同：0
> 
> 时间：2012-09-14T07:24:55.277
> 
> 标签：git, push, google-code, git-tower

我已经制作了我的存储库的副本并尝试通过 Tower 推送我的代码。但是，这似乎不起作用：

```
Pushing to https://mygoogleusername@code.google.com/p/hp-xxxxxx/
fatal: remote error: Invalid username/password.
You may need to use your generated googlecode.com password; see   
https://code.google.com/hosting/settings 
```

我已按照 Google 的说明进行操作，但出了点问题，我不知道是什么：

```
git clone https://mygoogleusername@code.google.com/p/hp-xxxxxx/ 

To push your changes, authenticate with your Google Account and your generated googlecode.com password. 
```

### 在 Tower 中，编辑 URL 连接信息我输入了以下内容：

*   存储库 URL：[https://mygoogleusername@code.google.com/p/hp-xxxxxx/](https://mygoogleusername@code.google.com/p/hp-xxxxxx/)
*   用户名：我的谷歌用户名
*   密码：自动生成的密码
*   代理：留空
*   SSL 证书：已选中和未选中均已尝试

### 在网络上的 Google Code User Preferences -> Security 下，我尝试了选中和未选中以下选项：

*   使用 Git 或 Mercurial 客户端时接受 myusername@gmail.com Google 帐户密码。为确保您的密码安全，请始终使用来自以下网站的最新客户端：

有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:31:41.423

您可以使用 .netrc 方法进行身份验证，我遇到了同样的问题，但是当我尝试 .netrc 方法时，它没有任何问题。

以下是步骤：

```
echo machine code.google.com >> ~/.netrc
echo login <google_email_address> >> ~/.netrc
echo password <generated_password> >> ~/.netrc
chmod go= ~/.netrc 
```

然后代替：

```
https://<username>@code.google.com/p/<project_name>/ 
```

利用

```
https://code.google.com/p/<project_name>/ 
```

即没有用户名，它会正常工作。

注意：您不必在 Tower 中指定任何用户名或密码，因为在进行服务器间通信时 *nix 会自动检查 .netrc 文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T16:12:50.867

这里的问题是 Tower 仅支持通过符合标准的 URL 方案进行身份验证。

由于 Google 代码在进行身份验证时实际上并不使用 URL 的用户名部分，因此您必须像以下帖子中提到的那样规避这一点： [使用 Google 代码项目验证 SourceTree](https://stackoverflow.com/questions/9344566/authenticating-sourcetree-with-a-google-code-project)

简而言之，您必须使用您的用户名和密码创建一个 .netrc 文件 - 并在 Tower 中完全从 URL 中删除用户名部分。

# sql - 您尝试在 ms 访问中执行不包含指定表达式“out_time”作为聚合函数的查询

> ID：12419917
> 
> 赞同：5
> 
> 时间：2012-09-14T07:25:30.370
> 
> 标签：sql, ms-access

我使用 Ms 访问作为我的数据库，并且我正在使用以下查询来获得工作时间：

```
select 
        in_time,
        out_time,
        datediff("n",b.in_time,c.out_time) as work_time,
        log_date,
        emp_id 
from 
    (select 
        LogTime as in_time,
        SrNo,
        LogID as emp_id,
        LogDate as log_date 
    from LogTemp 
    where Type='IN' ) as b
left join
    (select 
        SrNo as out_id, 
        LogTime as out_time,
        LogID as out_emp_id,
        LogDate as out_log_date 
      from LogTemp 
     where Type = 'OUT'
     group by SrNo) as c
on (b.SrNo <> c.out_id
    and b.emp_id = c.out_emp_id
    and b.log_date = out_log_date ) 
where  
    c.out_id > b.SrNo and 
    [log_date] >= #8/20/2012# and 
    [log_date] <= #8/20/2012# and 
    emp_id = "8" 
group by b.SrNo; 
```

但是当我执行查询时，我收到以下错误：

```
"you tried to execute a query that does not include the specified expression 'out_time'
 as an aggregate function in ms access" error. 
```

任何我犯错误的建议。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-14T08:15:03.397

你有几个错误，以防你试图做一个`GROUP BY`. 首先查看[MSDN 中的 GROUP BY 语法、建议和示例](http://msdn.microsoft.com/es-es/library/ms177673.aspx)。

基本上，无需深入探讨，如果您使用，则子句上不受聚合函数影响的`GROUP BY`任何列，如、等，都应该出现在子句中。因此，在您的情况下，您应该添加：`SELECT``SUM``AVG``GROUP BY`

```
LogTime as out_time,
LogID as out_emp_id,
LogDate as out_log_date 
```

进入第二个子查询的 GROUP BY。并添加

```
 in_time,
 out_time,
 datediff("n",b.in_time,c.out_time) as work_time,
 log_date,
 emp_id 
```

主要`GROUP BY`在最后。

但是，正如已经在一条评论中指出的那样，也许您想要做的是一个`ORDER BY`. 然后应该像替换一样简单`GROUP`，`ORDER`它应该可以工作。只要确定这是你想要的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T09:42:00.050

LEFT JOIN 处的派生表 C 不需要任何排序或分组。我没有理由明白为什么它不应该与 FROM 处的派生表 B 匹配。

```
left join
    (select 
        SrNo as out_id, 
        LogTime as out_time,
        LogID as out_emp_id,
        LogDate as out_log_date 
      from LogTemp 
     where Type = 'OUT') as c 
```

外部查询的最后一条语句应该是 ORDER BY（如前所述），因为外部查询没有任何聚合函数。

我怀疑您会遇到与 MS Access 不匹配的显式连接问题，因此您可能想考虑将其移至 WHERE 语句。

```
 on (b.SrNo <> c.out_id 
```

# box2d - 如何使用 Box2d 实现 2.5D 世界

> ID：12419922
> 
> 赞同：2
> 
> 时间：2012-09-14T07:26:02.053
> 
> 标签：box2d

是否可以使用 box2d 为像这样的游戏（双龙）[http://www.youtube.com/watch?v=xb9P0YTeq5Y](http://www.youtube.com/watch?v=xb9P0YTeq5Y)创建一个 2.5D 世界？

你知道任何工作的例子吗？

预先感谢您的时间。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T02:50:17.073

只是一个想法。我没有测试它。

首先，您必须为精灵设置动画，以产生在 Z 方向移动的错觉。:-)

然后您可以使用碰撞过滤来根据角色的位置管理碰撞。

Box2D 在决定它们是否会在您的场景中发生碰撞之前，总是必须知道两个物体是否发生碰撞。

在每个角色的每次碰撞中，您都可以测试其他角色和场景主体的 Y 位置，然后进行测试：

*   如果碰撞体（大约，具有与您的角色“深度”相对应的阈值）在相同的 Y 位置，则您**更改碰撞**体的碰撞组以执行与身体特征的碰撞。

    看看这个优秀的教程，最后你有技巧通过在自定义函数中使用 b2Filter 来管理你的碰撞：[http ://www.iforce2d.net/b2dtut/collision-filtering](http://www.iforce2d.net/b2dtut/collision-filtering)

    您可能还想看看[http://box2d.org/forum/viewtopic.php?f=3&t=8738#p37119](http://box2d.org/forum/viewtopic.php?f=3&t=8738#p37119)来处理第一次联系。

*   如果被碰撞的物体不在同一个 Y 上，或者是“朋友”，你什么也不做，它们不会在场景中发生碰撞。

希望能帮助到你。

# c - += 不能正常工作？

> ID：12419928
> 
> 赞同：0
> 
> 时间：2012-09-14T07:26:17.610
> 
> 标签：c

无论出于何种原因，运行此代码都会打印出每个字母的正确值，并将第一个值添加到得分中，但是，当它添加第二个值时，出现了问题，它添加了一个看似随机的数字。

values() 是一个函数，它为数组 lValues 中的每个整数分配一个设定值，用于确定 wordCur 的总值，它是一个字符串。

```
int calcScore(char wordCur) {
    int score = 0;
    int conv;
    int wordLen = strlen(wordCur);
    int i;
    int *lValues[26];
    values(lValues);

    for (i = 0; i < wordLen; i++){
        conv = (int)wordCur[i] - 65;
        score += lValues[conv];
        printf("%d\n", lValues[conv]);
    }
    printf("\n%d\n", score);

return score;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-14T07:29:36.923

你的问题是：

```
int *lValues[26]; 
```

声明一个指针数组。

```
score += lValues[conv]; 
```

添加指针而不是地址（指针）

# iphone - iOS - 使用 MKMapView 弹出和推送视图控制器时发生意外崩溃

> ID：12419938
> 
> 赞同：1
> 
> 时间：2012-09-14T07:27:07.963
> 
> 标签：iphone, ios, crash, mkmapview, popviewcontroller

嗨，任何人都可以帮我解决以下问题：我有一个 ViewController，里面有一个 MKMapView，当我弹出这个视图时，一切都很好，但是当我尝试将这个 ViewController 推回我的 NavigationController 堆栈时，我的应用程序意外崩溃。我试图通过启用 NSZombie 来解决这个问题，它在从 xcode 运行时运行良好，但是当我尝试在模拟器（和我的 iPhone）中运行它而不使用 xcode 时，它​​仍然崩溃。我还尝试在 ViewWillDissapear、ViewDidDissapear 和 dealloc 中使我的 mapview 删除为零，但我仍然遇到同样的问题。谁能帮我这个？

这是应用程序崩溃时的日志输出：

-[__NSCFType observedViewControllerChange:]：无法识别的选择器发送到实例 0x79a6f50 2012-09-14 11:28:13.878* ****[456:12503] ***由于未捕获的异常“NSInvalidArgumentException”而终止应用程序，原因：'-[__NSCFType observedViewControllerChange: ]: unrecognized selector sent to instance 0x79a6f50' *** First throw call stack: (0x19af022 0x179ecd6 0x19b0cbd 0x1915ed0 0x1915cb2 0x12c3a29 0x197a855 0x197a778 0x120819a 0x9d9c97 0xb810be 0xb813c7 0xb81436 0x931e49 0x931f34 0x6c0b54 0x1f2c509 0x18e6803 0x18e5d84 0x18e5c9b 0x30967d8 0x309688a 0x901626 0x46ad 0x2d55) terminate called throwing an exception(lldb)

我正在使用弧。这是一些代码：我在 viewDidLoad 函数中做了很多事情，我认为问题可能出在这里，代码如下：

这是.h：

```
#import <UIKit/UIKit.h>
#import <MapKit/MapKit.h>
#import <CoreLocation/Corelocation.h>
#import "AddressViewController.h"
#import "Utilities.h"
#import "MarqueeLabel.h"
#import "CustomButton.h"

@interface LocationViewController : UIViewController<MKMapViewDelegate,CLLocationManagerDelegate,UIGestureRecognizerDelegate>{
    CLLocationManager *locationManager;
    MKPointAnnotation *centerAnnotation;
    int initialState;
    NSDictionary * json;
    bool google;
    bool isBackgroundRunning;
    double x;
    CLLocationCoordinate2D selectedCoordinate;
    MarqueeLabel *continuousLabel;
    __weak IBOutlet CustomButton *cont;
    UILongPressGestureRecognizer *lgr;
    UIPanGestureRecognizer *panGesture;
    UIPinchGestureRecognizer *pinchGesture;
    UISwipeGestureRecognizer *swipeGesture;
    __weak IBOutlet UIButton *myLoc;
    BOOL first;

}
@property (strong, nonatomic) IBOutlet MKMapView *myMapView;
- (IBAction)showMe:(id)sender;
@property (strong, nonatomic) MKPointAnnotation *centerAnnotation;

@end

- (void)viewDidLoad
{
    [super viewDidLoad];
    first = YES;
    initialState = YES;
    nrGooglePosts = 0;

    [self.myMapView setShowsUserLocation:YES ];

    myMapView.centerCoordinate = myMapView.userLocation.coordinate;
    locationManager = [[CLLocationManager alloc] init];
    [locationManager setDelegate:self];
    [locationManager setDistanceFilter:kCLDistanceFilterNone];
    [locationManager setDesiredAccuracy:kCLLocationAccuracyBest];

    NSMutableArray *userL =[[NSUserDefaults standardUserDefaults] objectForKey:@"user"];
    if([userL count] == 0) NSLog(@"user nu e salvat");
    [[Utilities get] setName:[[userL valueForKey:@"name"] objectAtIndex:0]];
    [[Utilities get] setPhone:[[userL valueForKey:@"phone"] objectAtIndex:0]];
    [[Utilities get] setCode:[[userL valueForKey:@"code"] objectAtIndex:0]];
    [[Utilities get] setUserId:[[userL valueForKey:@"userid"] objectAtIndex:0]];

    centerAnnotation = [[MKPointAnnotation alloc] init];
    MKPointAnnotation * pc = [[MKPointAnnotation alloc] init];
    pc.coordinate = myMapView.centerCoordinate;
    pc.title = @"Map Center";
    pc.subtitle= [[NSString alloc] initWithFormat:@"%f, %f",pc.coordinate.latitude,pc.coordinate.longitude];    
    [self.myMapView addAnnotation:pc];
    centerAnnotation = pc;

    lgr= [[UILongPressGestureRecognizer alloc] initWithTarget:self action:@selector(handleGesture:)];
    lgr.minimumPressDuration=0.1;
    lgr.allowableMovement = 5;
    lgr.delegate = self ;
    [myMapView addGestureRecognizer:lgr];

    panGesture = [[UIPanGestureRecognizer alloc] initWithTarget:self action:@selector(handleGesture:)];
    panGesture.delegate = self;
    [myMapView addGestureRecognizer:panGesture];

    pinchGesture = [[UIPinchGestureRecognizer alloc] initWithTarget:self action:@selector(handleGesture:)];
    pinchGesture.delegate = self;
    [myMapView addGestureRecognizer:pinchGesture];

    swipeGesture = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(handleGesture:)];
    swipeGesture.delegate = self;
    [myMapView addGestureRecognizer:swipeGesture];

    NSMutableArray * arr=[[NSUserDefaults standardUserDefaults ] objectForKey:@"locationList"];
    if([arr count]){
        for(int i = 0 ; i < [arr count] ; i++ ){
            NSMutableDictionary * adr = [[arr objectAtIndex:i] mutableCopy];
            if(adr){
                CLLocationDegrees lat = [[adr objectForKey:@"latitude"] doubleValue] ;
                CLLocationDegrees lon = [[adr objectForKey:@"longitude"] doubleValue] ;
                CustomMKAnnotation *ann = [[CustomMKAnnotation alloc] init ];
                CLLocationCoordinate2D coord = { lat, lon };

                ann.coordinate = coord;

                ann.title = [adr objectForKey:@"street"] ;   

                ann.subtitle = [[NSString alloc] initWithFormat:@"Nr:%@  Bl:%@  Sc:%@",[adr objectForKey:@"number"],[adr objectForKey:@"bloc"],[adr objectForKey:@"scara"]];

               MKAnnotationView *aux = [[MKAnnotationView alloc] initWithAnnotation:ann reuseIdentifier:nil];  
                UIImage *poza = [UIImage imageNamed:@"star.png"];
                UIImageView *pic = [[UIImageView alloc] initWithImage:poza];
                [aux addSubview:pic];
                aux.canShowCallout = YES;
                [myMapView addAnnotation:aux.annotation];

            }

        }
    }
    google = YES;
    json = [self getLocationFromGoogleWithCoordinates:myMapView.userLocation.coordinate];
    NSString *status = [[NSString alloc] initWithFormat:@"%@",[json objectForKey:@"status"]];
    if([status compare:@"ZERO_RESULTS"] == 0 && [status compare:@"OVER_QUERY_LIMIT"] == 0)
    {
        google=NO;
        NSLog(@"%@",status);
    }

    continuousLabel = [[MarqueeLabel alloc] initWithFrame:CGRectMake(32, 20, 191, 20) rate:50.0f andFadeLength:10.0f];
    continuousLabel.marqueeType = MLContinuous;
    continuousLabel.numberOfLines = 1;
    continuousLabel.opaque = NO;
    continuousLabel.enabled = YES;
    continuousLabel.shadowOffset = CGSizeMake(0.0, -1.0);
    continuousLabel.textAlignment = UITextAlignmentLeft;

    continuousLabel.backgroundColor = [UIColor clearColor];
    continuousLabel.font = [UIFont boldSystemFontOfSize:13];
    continuousLabel.text = [[Utilities get] streetName];
    [continuousLabel setBackgroundColor:[UIColor clearColor]];
    [continuousLabel setTextColor:[UIColor whiteColor]];
    continuousLabel.opaque = NO ;
    myLoc.opaque=NO;
    [myLoc setBackgroundColor:[UIColor clearColor]];
    [self.view addSubview:continuousLabel];

    [logoutButton setTitle:@"Log Out" forState:UIControlStateNormal];
    [logoutButton addTarget:self action:@selector(logout:) forControlEvents:UIControlEventTouchUpInside];

    UIBarButtonItem *logoutBarButton = [[UIBarButtonItem alloc] initWithCustomView:logoutButton]; 
    self.navigationItem.leftBarButtonItem = logoutBarButton;

    [self.navigationController.navigationBar setBackgroundColor:[UIColor clearColor]];

}
- (void) viewWillDisappear:(BOOL)animated
{

    [self.navigationController setNavigationBarHidden:YES animated:animated];

    [self stopTrackingLocation];

    [myMapView removeAnnotations:myMapView.annotations];
      self.myMapView.delegate = nil;

      self.view = nil;
    [super viewWillDisappear:animated];
}

- (void)stopTrackingLocation
{
    if (myMapView.showsUserLocation)
    {
        // Crashes here
        myMapView.showsUserLocation = NO;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T08:41:52.250

如我所见，您正在使用ARC。

嘿伙计，不要这样做：

```
self.view = NULL. //REMOVE THIS!!!! 
```

您不能再次推送 UIViewController，因为没有与之相关的 UIVIew。它会在 UINavigationController 中崩溃，因为实际上没有什么可以推送。

第二个问题，它不会导致崩溃但有一个地方。您正在删除地图视图委托。但是如果你要再次推送这个控制器，第二次地图视图将被禁用。

您应该将此功能移至 dealloc 方法。你应该在 viewWillAppear: 方法中显示用户位置，而不是在 viewDidLoad: 中，因为这个方法只会执行一次。当您第二次尝试推送 UIVIewController 时，它不会生效。所以请更改此功能：

```
- (void) viewWillAppear:(BOOL)animated{
     [self.myMapView setShowsUserLocation:YES ];
}

- (void) viewWillDisappear:(BOOL)animated
{

    [self.navigationController setNavigationBarHidden:YES animated:animated];

    [self stopTrackingLocation];

    [myMapView removeAnnotations:myMapView.annotations];

    [super viewWillDisappear:animated];
}

-(void) dealloc{
     self.myMapView.delegate = nil;
     //In ARC we don't call [super dealloc]
} 
```

# javascript - 如何从外部页面激活非默认引导选项卡？

> ID：12419939
> 
> 赞同：1
> 
> 时间：2012-09-14T07:27:10.137
> 
> 标签：javascript, html, twitter-bootstrap

我有两个链接。首先转到带有默认激活选项卡的页面，然后是第二个链接 - 到第二个选项卡。

我总是激活默认选项卡。

这是我的js代码（打开标签#home）：

```
$('.activate_tab').click(function(e){
  $('#myTab a[href="#profile"]').tab('show');
}); 
```

也试过（什么都不做）：

```
$('.activate_tab').click(function(e){
   e.preventDefault();
   $('#myTab a[href="#profile"]').tab('show');
}); 
```

和我的默认 Bootstrap HTML 代码：

```
 <ul id="myTab" class="nav nav-tabs">
  <li class="reports active left"><a href="#home" data-toggle="tab" >Details</a></li>
  <li class="reports right not_active" ><a href="#profile" data-toggle="tab">Analytics</a></li>
 </ul>
 ...
 <div class="tab-pane fade in active" id="home">//default
 ...
 <div class="tab-pane fade" id="profile">//not default
 ...
 //link on other page, which should activate default( home )tab
  <a href="/websites/4">http://super.com</a> 
 //link on other page, which should activate not default tab
   <a href="/websites/4" class="activate_tab"><img alt="" height="19" src="http://127.0.0.1:3000/assets/analytics.png" ></a> 
```

我想念什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T08:58:56.580

我更改了链接：

```
 <a href="/websites/4#profile" class="activate_tab">aaa</a> 
```

和我的 JavaScript：

```
var activeTab = $('[href=' + location.hash + ']');
activeTab && activeTab.tab('show');

$('.activate_tab').click(function(e){
$('#myTab a[href="#profile"]').tab('show');
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:54:47.300

试试这个

```
 <div class="tab-pane fade" id="home">//default
 ...
 <div class="tab-pane fade in active" id="profile">//not default 
```

或者您可以在第二个链接页面上尝试

```
$('#myTab a:last').tab('show'); // Select last tab
$('#myTab li:eq(1) a').tab('show'); 
```

# compiler-construction - 用 2 个编译器编译 fortran 程序

> ID：12419942
> 
> 赞同：1
> 
> 时间：2012-09-14T07:27:26.037
> 
> 标签：compiler-construction, fortran

我正在尝试运行一个用 fortran 编写的程序，其中子程序已用 gfortran 编译，主程序已用 ifort 编译：

这里是源代码：

## 子程序：

```
subroutine testsub
    implicit none
    integer icarte
    read(10,*) icarte
    write(*,*)icarte 
    return 
    end` 
```

## 主要代码：

```
program test
    implicit none
    integer i
    open (unit=10, file="file_test")
    do i=1,6
       read(10,*)
    enddo
    call testsub
    close(10)
    end 
```

## 读取的文件是：

```
1
2
3
4
5
6
7 5 6 8
23 
```

然后我像这样编译：

```
gfortran -c testsub.f

ar rcs libtest.a testsub.o

ifort -o testexe test.f -L./ -ltest -L/.../gcc/4.7.1/lib64 -lgfortran 
```

我得到：

```
At line 4 of file testsub.f (unit = 10, file = 'fort.10')
Fortran runtime error: End of file 
```

看起来逻辑单元没有提供给子例程。我应该在某处添加一个编译选项......但我真的不知道什么和在哪里......并回答“如果我用相同的编译器编译两个文件会发生什么？”这个问题。: 程序运行完美:)

所以，如果有人有任何想法......

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-14T07:30:15.313

这行不通。当您在主程序中打开文件时，在 ifort 库的内部某处，该文件将被打开并存储与之相关的一些状态。GFortran 对 ifort 运行时库的内部状态一无所知，并试图在自己的运行时库状态下查找单元，这显然失败了。

# java-ee-6 - web.xml 中 context-param 和 env-entry 的区别

> ID：12419944
> 
> 赞同：3
> 
> 时间：2012-09-14T07:27:27.890
> 
> 标签：java-ee-6, web.xml, servlet-3.0

我知道，env-entry 使用 jndi 并且可以在运行时更改，而 context-param 不能。

但是，我可以通过@Resource 注入两者的值，其中会自动进行类型转换。

在 web.xml 中使用 context-param 或 env-entry 有什么区别（优点/缺点）。

# c# - 在 VB.NET 或 C# 中打印坐标

> ID：12419965
> 
> 赞同：1
> 
> 时间：2012-09-14T07:28:50.777
> 
> 标签：c#, vb.net, printing, area, margins

我必须从我的软件打印发票。我使用 Adob​​e Illustrator 创建了布局并将其保存为 PNG 图像。我最初的想法是将布局打印为背景，然后打印从数据库中获取的实际数据。我在我的函数中打印了我的布局，然后我测量了布局的各个框以正确放置我的文本。问题是我的文本没有打印在我找到的正确位置。我试图将边距更改为 0，但似乎没有效果。我想要这个：如果我选择在 x=10 mm 和 y=20mm 处打印我的文本行，则必须在此位置以物理方式打印文本而不进行缩放/平移，以及我的背景图像。

你能帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-30T12:00:43.247

尝试使用（例如）e.Graphics.PageUnit = GraphicsUnit。**Milimeter**，然后使用[Graphics.DrawString 方法简单地指定所需的值](http://msdn.microsoft.com/en-us/library/21kdfbzs(v=vs.110).aspx?cs-save-lang=1&cs-lang=vb)

# javascript - 无法从后端触发 javascript

> ID：12419968
> 
> 赞同：0
> 
> 时间：2012-09-14T07:29:00.320
> 
> 标签：javascript, c#-4.0

我只是从 vb 中的编码切换到 c#，所以我有很多事情要赶上，请在这 1 方面帮助我。

我在 aspx 页面上有一个 javascript 函数，我想从后端触发该函数。

下面是我在后端的代码。

```
ScriptManager.RegisterStartupScript(this, this.GetType(), "closeScript", "showMessage('test')", true); 
```

不幸的是，我收到如下错误。

```
Error   30  Keyword 'this' is not valid in a static property, static method, or static field initializer. 
```

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:34:17.693

用这个

```
 ClientScript.RegisterClientScriptBlock(this.GetType(), "closeScript", "showMessage('test')", true); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:31:32.643

尝试从 PageLoad 方法执行此操作

# xml - 添加总体类别后，使用 XSLT 最小化 XML 样式的具体操作方法

> ID：12419980
> 
> 赞同：1
> 
> 时间：2012-09-14T07:30:04.690
> 
> 标签：xml, xslt, styling

因此，我正在阅读 w3schools 上的 XML 教程，并且遇到了有关使用 XSLT 设置 XML 样式的页面： [http ://www.w3schools.com/xml/tryxslt.asp?xmlfile=simple&xsltfile=simple](http://www.w3schools.com/xml/tryxslt.asp?xmlfile=simple&xsltfile=simple)

那里有一些简单的代码。我在代码中添加了两个主要的食物类别`<waffles>`，`<other>` 我想知道如何使用最小的 XSLT 来设置 XML 的样式，以便所有`<waffle> <food>`的都有橙色背景和`<other><food>`青色背景，而不必重复一大块像我在下面做的代码。

您可以在上面的链接中看到原始代码，这是我的代码：

XML:

```
 <?xml version="1.0" encoding="ISO-8859-1"?>
<!-- Edited by XMLSpy® -->
<breakfast_menu>
     <waffles>
    <food>
        <name>Belgian Waffles</name>
        <price>$5.95</price>
        <description>two of our famous Belgian Waffles with plenty of real maple syrup</description>
        <calories>650</calories>
    </food>
    <food>
        <name>Strawberry Belgian Waffles</name>
        <price>$7.95</price>
        <description>light Belgian waffles covered with strawberries and whipped cream</description>
        <calories>900</calories>
    </food>
    <food>
        <name>Berry-Berry Belgian Waffles</name>
        <price>$8.95</price>
        <description>light Belgian waffles covered with an assortment of fresh berries and whipped cream</description>
        <calories>900</calories>
    </food>
     </waffles>
     <other>
    <food>
        <name>French Toast</name>
        <price>$4.50</price>
        <description>thick slices made from our homemade sourdough bread</description>
        <calories>600</calories>
    </food>
    <food>
        <name>Homestyle Breakfast</name>
        <price>$6.95</price>
        <description>two eggs, bacon or sausage, toast, and our ever-popular hash browns</description>
        <calories>950</calories>
    </food>
     <other>
</breakfast_menu> 
```

XSLT：

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- Edited by XMLSpy® -->
    <html xsl:version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns="http://www.w3.org/1999/xhtml">
      <body style="font-family:Arial;font-size:12pt;background-color:#EEEEEE">
    <xsl:for-each select="breakfast_menu/waffles">
        <div style="background-color:ORANGE;">
          <xsl:for-each select="food">
          <div style="background-color:teal;color:white;padding:4px">
            <span style="font-weight:bold"><xsl:value-of select="name"/></span>
            - <xsl:value-of select="price"/>
          </div>
          <div style="margin-left:20px;margin-bottom:1em;font-size:10pt">
            <xsl:value-of select="description"/>
            <span style="font-style:italic">
              <xsl:value-of select="calories"/> (calories per serving)
            </span>
          </div>
         </xsl:for-each>
       </div>    
    </xsl:for-each>

    <xsl:for-each select="breakfast_menu/other">
        <div style="background-color:CYAN;">
          <xsl:for-each select="food">
          <div style="background-color:teal;color:white;padding:4px">
            <span style="font-weight:bold"><xsl:value-of select="name"/></span>
            - <xsl:value-of select="price"/>
          </div>
          <div style="margin-left:20px;margin-bottom:1em;font-size:10pt">
            <xsl:value-of select="description"/>
            <span style="font-style:italic">
              <xsl:value-of select="calories"/> (calories per serving)
            </span>
          </div>
         </xsl:for-each>
       </div>    
    </xsl:for-each>

      </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T08:00:45.127

在这里您可以利用模板的强大功能，这是 XSLT 最基本的概念之一。

您可以从寻找**早餐菜单**元素的子元素开始

```
<xsl:apply-templates select="breakfast_menu/*"/> 
```

然后你会有一个模板来匹配这些元素

```
<xsl:template match="breakfast_menu/*"> 
```

在此模板中，您可以使用**xsl:choose**创建样式属性

```
 <div>
     <xsl:attribute name="style">
        <xsl:choose>
           <xsl:when test="local-name() = 'waffles'">background-color:ORANGE;</xsl:when>
           <xsl:when test="local-name() = 'other'">background-color:CYAN;</xsl:when>
        </xsl:choose>
     </xsl:attribute> 
```

在这种情况下，这是完整的 XSLT。注意也使用模板来匹配**食物**元素以避免使用**xsl:for-each**

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
   <xsl:output method="html" indent="yes"/>
   <xsl:template match="/">
      <html>
         <body style="font-family:Arial;font-size:12pt;background-color:#EEEEEE">
            <xsl:apply-templates select="breakfast_menu/*"/>
         </body>
      </html>
   </xsl:template>

   <xsl:template match="breakfast_menu/*">
      <div>
         <xsl:attribute name="style">
            <xsl:choose>
               <xsl:when test="local-name() = 'waffles'">background-color:ORANGE;</xsl:when>
               <xsl:when test="local-name() = 'other'">background-color:CYAN;</xsl:when>
            </xsl:choose>
         </xsl:attribute>
         <xsl:apply-templates select="food"/>
      </div>
   </xsl:template>

   <xsl:template match="food">
      <div style="background-color:teal;color:white;padding:4px">
         <span style="font-weight:bold">
            <xsl:value-of select="name"/>
         </span> - 
         <xsl:value-of select="price"/></div>
      <div style="margin-left:20px;margin-bottom:1em;font-size:10pt">
         <xsl:value-of select="description"/>
         <span style="font-style:italic">
            <xsl:value-of select="calories"/> (calories per serving) </span>
      </div>
   </xsl:template>
</xsl:stylesheet> 
```

避免使用**xsl:choose**的另一种稍微不同的方法是使用单独的模板来匹配您的**华夫饼**和**其他**元素。只需将当前匹配“breakfast_menu/*”的模板替换为以下两个模板即可。

```
<xsl:template match="breakfast_menu/waffles">
  <div style="background-color:ORANGE;">
     <xsl:apply-templates select="food"/>
  </div>
</xsl:template>

<xsl:template match="breakfast_menu/other">
  <div style="background-color:CYAN;">
     <xsl:apply-templates select="food"/>
  </div>
</xsl:template> 
```

如果你有很多子元素，但想要一个默认的“值”，你可以做这样的事情

```
<xsl:template match="breakfast_menu/waffles" priority="2">
  <div style="background-color:ORANGE;">
     <xsl:apply-templates select="food"/>
  </div>
</xsl:template>

<xsl:template match="breakfast_menu/*" priority="1">
  <div style="background-color:CYAN;">
     <xsl:apply-templates select="food"/>
  </div>
</xsl:template> 
```

注意在这种情况下**优先级**属性的使用，因为否则两个模板都会匹配**waffle 。**这将是一个错误，除非您告诉 XSLT 处理器一个比另一个具有更高的优先级。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T13:08:40.843

**这种转变**：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
 xmlns:my="my:my" exclude-result-prefixes="my">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <my:colors>
  <color>ORANGE</color>
  <color>CYAN</color>
 </my:colors>

 <xsl:variable name="vColors" select="document('')/*/my:colors/*"/>

 <xsl:template match="/">
    <html xsl:version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns="http://www.w3.org/1999/xhtml">
      <body style="font-family:Arial;font-size:12pt;background-color:#EEEEEE">
      <xsl:apply-templates/>
      </body>
    </html>
 </xsl:template>

 <xsl:template match="*[food]">
        <div style="background-color:{$vColors[2 -(name(current())='waffles')]};">
          <xsl:for-each select="food">
          <div style="background-color:teal;color:white;padding:4px">
            <span style="font-weight:bold"><xsl:value-of select="name"/></span>
            - <xsl:value-of select="price"/>
          </div>
          <div style="margin-left:20px;margin-bottom:1em;font-size:10pt">
            <xsl:value-of select="description"/>
            <span style="font-style:italic">
              <xsl:value-of select="calories"/> (calories per serving)
            </span>
          </div>
         </xsl:for-each>
       </div>
 </xsl:template>
</xsl:stylesheet> 
```

**应用于提供的 XML 文档时：**

```
<breakfast_menu>
     <waffles>
    <food>
        <name>Belgian Waffles</name>
        <price>$5.95</price>
        <description>two of our famous Belgian Waffles with plenty of real maple syrup</description>
        <calories>650</calories>
    </food>
    <food>
        <name>Strawberry Belgian Waffles</name>
        <price>$7.95</price>
        <description>light Belgian waffles covered with strawberries and whipped cream</description>
        <calories>900</calories>
    </food>
    <food>
        <name>Berry-Berry Belgian Waffles</name>
        <price>$8.95</price>
        <description>light Belgian waffles covered with an assortment of fresh berries and whipped cream</description>
        <calories>900</calories>
    </food>
     </waffles>
     <other>
    <food>
        <name>French Toast</name>
        <price>$4.50</price>
        <description>thick slices made from our homemade sourdough bread</description>
        <calories>600</calories>
    </food>
    <food>
        <name>Homestyle Breakfast</name>
        <price>$6.95</price>
        <description>two eggs, bacon or sausage, toast, and our ever-popular hash browns</description>
        <calories>950</calories>
    </food>
     </other>
</breakfast_menu> 
```

**产生想要的正确结果：**

```
<html xmlns="http://www.w3.org/1999/xhtml">
   <body style="font-family:Arial;font-size:12pt;background-color:#EEEEEE">
      <div xmlns="" style="background-color:ORANGE;">
         <div style="background-color:teal;color:white;padding:4px">
            <span style="font-weight:bold">Belgian Waffles</span>
            - $5.95</div>
         <div style="margin-left:20px;margin-bottom:1em;font-size:10pt">two of our famous Belgian Waffles with plenty of real maple syrup<span style="font-style:italic">650 (calories per serving)
            </span>
         </div>
         <div style="background-color:teal;color:white;padding:4px">
            <span style="font-weight:bold">Strawberry Belgian Waffles</span>
            - $7.95</div>
         <div style="margin-left:20px;margin-bottom:1em;font-size:10pt">light Belgian waffles covered with strawberries and whipped cream<span style="font-style:italic">900 (calories per serving)
            </span>
         </div>
         <div style="background-color:teal;color:white;padding:4px">
            <span style="font-weight:bold">Berry-Berry Belgian Waffles</span>
            - $8.95</div>
         <div style="margin-left:20px;margin-bottom:1em;font-size:10pt">light Belgian waffles covered with an assortment of fresh berries and whipped cream<span style="font-style:italic">900 (calories per serving)
            </span>
         </div>
      </div>
      <div xmlns="" style="background-color:CYAN;">
         <div style="background-color:teal;color:white;padding:4px">
            <span style="font-weight:bold">French Toast</span>
            - $4.50</div>
         <div style="margin-left:20px;margin-bottom:1em;font-size:10pt">thick slices made from our homemade sourdough bread<span style="font-style:italic">600 (calories per serving)
            </span>
         </div>
         <div style="background-color:teal;color:white;padding:4px">
            <span style="font-weight:bold">Homestyle Breakfast</span>
            - $6.95</div>
         <div style="margin-left:20px;margin-bottom:1em;font-size:10pt">two eggs, bacon or sausage, toast, and our ever-popular hash browns<span style="font-style:italic">950 (calories per serving)
            </span>
         </div>
      </div>
   </body>
</html> 
```

**说明**：

正确使用：

1.  **[模板](http://www.w3.org/TR/1999/REC-xslt-19991116#rules)**匹配。

2.  [**AVT**](http://www.w3.org/TR/1999/REC-xslt-19991116#attribute-value-templates)（属性值模板）。

# php - 我可以将变量类型从对象更改为字符串吗？

> ID：12419984
> 
> 赞同：-1
> 
> 时间：2012-09-14T07:30:10.683
> 
> 标签：php, type-conversion

> **可能重复：**
> [如何在 php 中将对象转换为字符串](https://stackoverflow.com/questions/2469222/how-to-convert-object-into-string-in-php)

我有一个包含一些对象（SimpleXML）的变量。
我可以更改此变量的类型，并将其分配给此变量本身吗？
像这样：

```
$test = (string)$test;
var_dump($test); 
```

上面的代码不起作用，所以输出仍然是`object(SimpleXMLElement)`而不是`string`.

但是当我为它分配另一个变量时，`$new_test = (string)$test`它运行良好，并且 var_dump 输出是`string`]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:38:12.543

这取决于要转换的对象。对于 SimpleXML，您可能需要它的`asXML`方法：[http](http://www.php.net/manual/en/simplexmlelement.asxml.php) ://www.php.net/manual/en/simplexmlelement.asxml.php 。对于一般对象，如果对象实现了该`__toString()`方法，则可以类型转换为字符串。另一种选择是`var_export(...,true)`，但除了调试之外很少有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:36:04.820

如果您想要字符串内容，请使用`asXML`方法。

```
var_dump($test->asXML()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-14T07:36:17.877

这取决于如何`SimpleXML`实现魔术函数[__toString()](http://www.php.net/manual/en/language.oop5.magic.php#language.oop5.magic.tostring)。它因班级而异。但是如果没有实现，PHP 会抛出一个致命错误。

因此，除非实现该方法，否则直接从`object`to 进行类型转换`string`是行不通的。`__toString()`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-14T07:36:45.400

您不能像添加声明一样将对象转换为字符串，它可能会起作用，但不会像期望的那样表现得像以前一样有一篇很棒的文章虽然之前在堆栈中写过关于如何以最佳方式做到这一点，那就是添加一个 tostring 方法在这里阅读更多...... [如何在php中将对象转换为字符串](https://stackoverflow.com/questions/2469222/how-to-convert-object-into-string-in-php)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-14T07:37:06.090

将 SimpleXMLObject 类型转换为字符串

```
$foo = array( (string) $xml->parent->child );

<?php
  $xmlstring = "<parent><child> hello world </child></parent>";
  $xml = simplexml_load_string($xmlstring);
  $foo = array( (string) $xml->child );
  var_dump($xml).PHP_EOL;
  var_dump($foo);
?> 
```

输出

```
object(SimpleXMLElement)#1 (1) {
  ["child"]=>
  string(13) " hello world "
}
array(1) {
  [0]=>
  string(13) " hello world "
} 
```

[http://codepad.org/Bss1rndd](http://codepad.org/Bss1rndd)

# objective-c - 全球活动、Mac App Store 和沙盒

> ID：12419988
> 
> 赞同：6
> 
> 时间：2012-09-14T07:30:33.350
> 
> 标签：objective-c, cocoa, sandbox, mac-app-store

我正在开发一个应用程序，其中使用全局按键事件将是其操作的要求。此外，我计划通过 App Store 严格分发它。（这是一个 Mac 应用程序，而不是 iOS。）我得到了一个通过 addGlobalMonitorForEventsMatchingMask 监听全局事件的示例，但有一些警告。

注意：我选择使用现代 API，而不是依赖早期的 Carbon 热键方法。如果它们最终被弃用，我不想稍后再解决这个问题。

主要问题是必须信任应用程序才能检测到全局事件。否则，必须为所有应用程序启用可访问性。当我启用可访问性时，会成功检测到事件。此处记录了此要求，[https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/EventOverview/MonitoringEvents/MonitoringEvents.html](https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/EventOverview/MonitoringEvents/MonitoringEvents.html)。

我希望我的用户不必启用可访问性。根据我所做的其他研究，您可以通过调用 AXMakeProcessTrusted，然后重新启动应用程序来获得信任的应用程序。

在我使用的代码中，我没有收到身份验证提示。该应用程序将重新启动，但仍不受信任（可能是因为我没有收到身份验证提示）。这是我这部分的代码：

```
- (void)applicationDidFinishLaunching:(NSNotification *)aNotification
{
    if (!AXAPIEnabled() && !AXIsProcessTrusted()) {

        NSString *appPath = [[NSBundle mainBundle] bundlePath];
        AXError error = AXMakeProcessTrusted( (CFStringRef)CFBridgingRetain(appPath) );

        [self restartApp];
    }
}

- (void)restartApp{

    NSTask *task = [[NSTask alloc] init];
    NSMutableArray *args = [NSMutableArray array];
    [args addObject:@"-c"];
    [args addObject:[NSString stringWithFormat:@"sleep %d; open \"%@\"", 3, [[NSBundle mainBundle] bundlePath]]];
    [task setLaunchPath:@"/bin/sh"];
    [task setArguments:args];
    [task launch];
    [NSApp terminate:nil];
} 
```

此外，我在这里查看了授权服务任务的文档[https://developer.apple.com/library/archive/documentation/Security/Conceptual/authorization_concepts/03authtasks/authtasks.html#//apple_ref/doc/uid/ TP30000995-CH206-BCIGAIAG](https://developer.apple.com/library/archive/documentation/Security/Conceptual/authorization_concepts/03authtasks/authtasks.html#//apple_ref/doc/uid/TP30000995-CH206-BCIGAIAG)。

首先让我担心的是这个信息框，“重要的是，应用沙箱中不支持授权服务 API，因为它允许权限升级。”

如果需要此 API 在重新启动应用程序之前获取身份验证提示，则似乎我可能*无法*在不启用辅助功能的情况下获取全局事件。

总之，我的具体问题是：

1.  我的示例代码中是否有关于如何显示身份验证提示的错误？

2.  为了让身份验证提示出现，我是否需要使用授权服务 API？

3.  是否有可能拥有一个可以访问全局事件的沙盒应用程序？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-06-07T18:45:26.053

首先，您无法自动允许应用程序使用可在沙盒环境中运行的可访问性 API，从而在应用程序商店中运行。推荐的方法是简单地引导用户，以便他们可以轻松地自己启用它。新的 API 调用`AXIsProcessTrustedWithOptions`正是为此：

```
 NSDictionary *options = @{(id) kAXTrustedCheckOptionPrompt : @YES};
        AXIsProcessTrustedWithOptions((CFDictionaryRef) options); 
```

现在，对于您的第一个和第二个问题（只是为了完整起见 - 它在沙盒中也不起作用）：背后的想法`AXMakeProcessTrusted`是您实际上创建了一个新的[辅助应用程序](https://github.com/K8TIY/CW-Station/blob/master/mktrusted.c)，您从主应用程序以 root 身份运行。然后，此实用程序调用`AXMakeProcessTrusted`传入主应用程序的可执行文件。最后，您必须重新启动主应用程序。API 调用在 OSX 10.9 中已被弃用。

要以 root 身份生成新进程，您必须使用`launchd`using `SMJobSubmit`。这将通过身份验证提示提示用户，说明应用程序正在尝试安装帮助工具以及是否应允许。具体来说：

```
 + (BOOL)makeTrustedWithError:(NSError **)error {
        NSString *label = FMTStr(@"%@.%@", kShiftItAppBundleId, @"mktrusted");
        NSString *command = [[NSBundle mainBundle] pathForAuxiliaryExecutable:@"mktrusted"];
        AuthorizationItem authItem = {kSMRightModifySystemDaemons, 0, NULL, 0};
        AuthorizationRights authRights = {1, &authItem};
        AuthorizationFlags flags = kAuthorizationFlagInteractionAllowed | kAuthorizationFlagPreAuthorize | kAuthorizationFlagExtendRights;
        AuthorizationRef auth;

        if (AuthorizationCreate(&authRights, kAuthorizationEmptyEnvironment, flags, &auth) == errAuthorizationSuccess) {
           // this is actually important - if from any reason the job was not removed, it won't relaunch
           // to check for the running jobs use: sudo launchctl list
           // the sudo is important since this job runs under root
           SMJobRemove(kSMDomainSystemLaunchd, (CFStringRef) label, auth, false, NULL);
           // this is actually the launchd plist for a new process
           // https://developer.apple.com/library/mac/documentation/Darwin/Reference/Manpages/man5/launchd.plist.5.html#//apple_ref/doc/man/5/launchd.plist
           NSDictionary *plist = @{
                   @"Label" : label,
                   @"RunAtLoad" : @YES,
                   @"ProgramArguments" : @[command],
                   @"Debug" : @YES
           };
           BOOL ret;
           if (SMJobSubmit(kSMDomainSystemLaunchd, (CFDictionaryRef) plist, auth, (CFErrorRef *) error)) {
               FMTLogDebug(@"Executed %@", command);
               ret = YES;
           } else {
               FMTLogError(@"Failed to execute %@ as priviledged process: %@", command, *error);
               ret = NO;
           }
           // From whatever reason this did not work very well
           // seems like it removed the job before it was executed
           // SMJobRemove(kSMDomainSystemLaunchd, (CFStringRef) label, auth, false, NULL);
           AuthorizationFree(auth, 0);
           return ret;
        } else {
           FMTLogError(@"Unable to create authorization object");
           return NO;
        }
    } 
```

至于重新启动，这通常也使用外部实用程序来完成，等待主应用程序完成并再次启动它（通过使用 PID）。如果您使用[sparkle 框架](https://github.com/andymatuschak/Sparkle)，您可以重用现有的框架：

```
 + (void) relaunch {
         NSString *relaunch = [[NSBundle bundleForClass:[SUUpdater class]] pathForResource:@"relaunch" ofType:@""];
         NSString *path = [[NSBundle mainBundle] bundlePath];
         NSString *pid = FMTStr(@"%d", [[NSProcessInfo processInfo] processIdentifier]);
         [NSTask launchedTaskWithLaunchPath:relaunch arguments:@[path, pid]];
         [NSApp terminate:self];
    } 
```

另一种选择是破解`/Library/Application Support/com.apple.TCC/TCC.db`sqlite 数据库，使用辅助助手手动添加权限：

```
 NSString *sqlite = @"/usr/bin/sqlite3";
    NSString *sql = FMTStr(@"INSERT or REPLACE INTO access values ('kTCCServiceAccessibility', '%@', 1, 1, 1, NULL);", MY_BUNDLE_ID); 
    NSArray *args = @[@"/Library/Application Support/com.apple.TCC/TCC.db", sql];
    NSTask *task = [NSTask launchedTaskWithLaunchPath:sqlite arguments:args];
    [task waitUntilExit]; 
```

但是，这将取消该应用程序成为应用程序商店的资格。更重要的是，它实际上只是一个 hack，并且 db / schema 可以随时更改。一些应用程序（例如，用于执行此操作的 Divvy.app）在应用程序安装程序安装后脚本中使用了此 hack。这样可以防止对话框告诉应用程序正在请求安装辅助工具。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-04T09:00:10.137

基本上，MAS 限制将要求您让 tge 用户为所有人打开 AX。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-04T03:59:43.637

我在 GitHub 上找到了一个潜在的解决方案。

[https://github.com/K8TIY/CW-Station](https://github.com/K8TIY/CW-Station)

它有一个辅助应用程序，它将在根目录下运行以请求对主应用程序的访问。它有点过时并且正在使用一些已被弃用的功能，所以我正在努力对其进行现代化改造。这看起来是一个很好的起点。

# c# - SQL Server Management Studio 图表 gui 组件

> ID：12419991
> 
> 赞同：0
> 
> 时间：2012-09-14T07:30:35.797
> 
> 标签：c#, .net, user-interface, components

这就是我的意思；

![MSSQL Management Studio 图表 gui 组件](../Images/59f50b3fdce750cab135c4503c7ddd32.png)

是否可以在 Visual Studio 表单设计器中使用它？如果是，这个库/组件在哪里？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T09:30:36.840

您可以使用它，在 Visual Studio 中有“服务器资源管理器”视图，您将连接到数据库，之后您可以创建图表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T07:35:07.733

有一个项目可以反射给定的程序集并创建一个类图...如果您有时间可以提取 GUI 组件帽子绘制图表...我自己尝试过，但我相信它可以工作...

[反射类图](http://www.codeproject.com/Articles/17823/100-Reflective-Class-Diagram-Creation-Tool)

# java - playOrm - 调试/运行 - TestManyToOne.java @ Refresh/Clean

> ID：12419993
> 
> 赞同：1
> 
> 时间：2012-09-14T07:30:56.953
> 
> 标签：java, eclipse, playorm

按照建议，深入研究测试用例 TestManyToOne.java 并运行/调试 readWriteBasic(NoSqlEntityManager)

刷新和清理项目后，我可以成功运行/调试 reWriteBasic 方法。

经历了很多很多，....我终于完成了方法调试。

**我确实注意到了几个例子；**

```
Class<T>(Object).equals(Object) line: 134 
```

出现说明：“找不到来源。” 和一个带有“编辑源查找路径...”的按钮

![屏幕截图第 138 行无 SRC](../Images/38557244dd2021c77c01c57600201845.png)

**还注意到几次是；**

```
DboColumnMeta.getStorageType(Class) line: 199 
```

在变量视图中突出显示“名称/值”。

![Line199 变量视图名称/值](../Images/673ed126c7faa4009bcd839c4a999571.png)

十进制 - 196
整数 - 199
字符串 - 126
整数 - 142
等

*   前面的信息是我应该看到的吗？
*   我必须点击“步入”1000x，对吗？
*   第 134 行是否正确？
*   变量窗口中的突出显示？
*   控制台只显示方法运行完成，我在找什么？？？

提前感谢任何见解和/或建议，
瑞安

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T12:23:09.773

根据我从您那里看到的其他问题，您正在寻找学习如何“使用” playOrm 而不是学习 playOrm 的工作原理，对吗？？？？？？

如果我是正确的，那么您的步伐太深了，太深了。如果您想了解 playOrm 的工作原理，您应该只停留在 3 个类 TestManyToOne.java、Activity.java 和 Account.java 中。

院长

# php - 拦截标准输出/传递应用程序输出（Shell/C/PHP）

> ID：12419994
> 
> 赞同：0
> 
> 时间：2012-09-14T07:31:07.080
> 
> 标签：php, c, fonts

我正在运行一个混合`shell script`和一个`C`应用程序`to allow execution as root`。我正在使用它`FontForge`从用`PHP`. 我的问题是，当 FontForge 遇到一些问题时，它会将错误信息喷出到标准输出中。我目前正在捕获该输出并将其解析为关键字以生成一些错误消息。

问：我想知道我是否可以以某种方式将该输出重定向到某个变量并将其传递回 PHP 进行处理 - 只要当前解决方案在浏览器下工作正常，不幸的是，当我运行单元测试时，我会得到一些失败的字形映射信息页面只不过掩盖了结果。我想完全绕过 std_out 。

我对 C 或 shell 脚本都不是很熟悉，所以请不要笑:)。这是我所拥有的：

PHP：

```
[...]
$new_path = exec("./convert_font " . $file . " " . $file2);
if (strpos($new_path, 'Save Failed') !== false) {
   // throw exception or something
}
[...] 
```

脚本（convert_font）：

```
#!/bin/bash

PATH=/usr/local/bin:$PATH
FONTFORGE_LANGUAGE=ff
export PATH FONTFORGE_LANGUAGE

if (test -f $1); 
 then 
  a=$(./pfb2otf $1 $2 2>&1)
fi

echo $a 
```

C (pfb2otf):

```
#!/usr/bin/fontforge
//Opens file
Open($1);
Reencode("unicode"); 
//Makes conversion to otf
Generate($2+".otf"); 
//Prints the resulting name (if conversion is successful) to STD_OUT so I can capture it with my bash script to send back to PHP and consider operation successful to
Print($2+".otf");  
Quit(0); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:42:47.810

[http://php.net/manual/en/function.exec.php](http://php.net/manual/en/function.exec.php)

**输出**

> *如果存在输出参数，则指定的数组将填充命令的每一行输出。此数组中不包含尾随空格，例如 \n。请注意，如果数组已经包含一些元素，则 exec() 将附加到数组的末尾。如果您不希望函数附加元素，请在将数组传递给 exec() 之前对数组调用 unset()。*

您可以使用 PHP 代码中的附加输出参数将所有标准输出消息捕获到数组中。您还可以在 perl 和 C 中将 stderr 重定向到 stdout

[http://www.masaokitamura.com/2009/08/how-to-redirect-stderr-to-stdout-in-perl/](http://www.masaokitamura.com/2009/08/how-to-redirect-stderr-to-stdout-in-perl/)

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T07:48:34.447

有 3 点需要注意：

1）您的程序可能会在错误输出上写入错误，要获取它们也需要添加`2>&1`

```
$new_path = exec("./convert_font " . $file . " " . $file2 . ' 2>&1'); 
```

2) exec() 仅返回命令执行的最后一行，获取返回值的最安全方法是将第二个参数传递给 exec()。

```
$return = array();
exec("./convert_font " . $file . " " . $file2 . ' 2>&1', $return); 
```

您可能会注意到 $return 是一个多维数组，包含 1 行/条目。因此，为了确保您将错误放入此数组中，您可以这样做：

```
$new_path = implode("", $return); 
```

3）不要忘记使用[escapeshellarg](http://uk.php.net/manual/en/function.escapeshellarg.php)，以防您的一个文件有空格（至少）或反引号/括号/美元（...shell可以解释的所有内容）。

```
$return = array();
exec("./convert_font " . escapeshellarg($file) . " " . escapeshellarg($file2) . ' 2>&1', $return); 
```

# regex - 通过正则表达式在句子中查找数字

> ID：12419998
> 
> 赞同：1
> 
> 时间：2012-09-14T07:31:25.860
> 
> 标签：regex

我需要一个正则表达式来查找句子中的所有数字。例如：“我有 3 个香蕉和 37 个气球”我会得到：

3

37

“时间是 20:00，我有 7 辆坦克”我会得到：

20

00

7

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-14T07:33:13.243

将您的字符串拆分为`[^0-9]+`.

爪哇：`String[] numbers = "yourString".split("[^0-9]+");`

JavaScript：`var numbers = "yourString".split(/[^0-9]+/);`

PHP：`$numbers = preg_split("/[^0-9]+/", "yourString");`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-14T07:34:23.430

正则表达式本身很简单`\d+`，但您还需要设置一个标志以全局匹配它，其语法取决于您使用的编程语言或软件。

**编辑：**一些例子：

Python：

```
import re
re.findall(r"\d+", my_string) 
```

JavaScript：

```
myString.match(/\d+/g) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-14T07:33:57.153

您正在寻找的正则表达式是`[0-9]+`or `\d+`。然后，您应该获得该句子的多个匹配项。