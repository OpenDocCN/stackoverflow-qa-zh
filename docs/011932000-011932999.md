# StackOverflow 问答 11932000-11932999

# ios - Xcode 3.2.6 中的 iPhone 模拟器截图

> ID：11932006
> 
> 赞同：0
> 
> 时间：2012-08-13T09:59:46.647
> 
> 标签：ios, xcode

我正在使用 Xcode 3.2.6。如何截取任何 960x640、960x600、640x960 或 640x920 格式的模拟器屏幕截图？

# svn - 提交到 svn 存储库后无法打开/下载 pdf 文件

> ID：11932007
> 
> 赞同：-1
> 
> 时间：2012-08-13T09:59:51.557
> 
> 标签：svn, pdf, fedora

我是`svn repository` 用于版本维护的新手，

我已经在我的机器上成功安装了 svn（fedora 15）

假设我在下面给出了访问文件的链接

```
http://example.com/svn-repos/folder/ 
```

我已应用以下命令来添加文件夹`Documentation`， `Anotherfolder` 实际上该文件夹`Documentation`由`pdf`文件和`docx`文件组成。

```
svn add Documentation
svn commit -m "Creating Folder" Documentation

svn add Anotherfolder
svn commit -m "Creating Folder" Anotherfolder 
```

结构如下所示

```
svn-repos - Revision 2: /folder

Documentation/
       Material/
               Prsentfinance.docx
               Transferfile.pdf
               kelvinref.pdf
               solutionsparts.pdf
Anotherfolder/ 
```

这里实际上包含文件的文件夹已成功添加到 svn 存储库，但是当我尝试打开`pdf`文件`Material`夹下的文件时，它们无法打开并且什么也不显示，当我点击它时，`Prsentfinance.docx`它已被下载。

谁能告诉我为什么当我们单击它们时无法打开/下载 pdf 文件，无论 pdf 文件在 svn 存储库上是否无法工作，还是我们需要做任何进一步的过程来将 pdf 文件上传到 svn 存储库。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-08-13T10:23:51.983

您是否将其视为二进制文件对象？它不是文本文件（更改单个字节会损坏它）。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-13T10:30:15.610

尝试设置...

```
svn propset svn:executable 'ON' -R path/file.pdf 
```

# html - 选择带有图像叠加样式的列表在 Opera 中不起作用

> ID：11932010
> 
> 赞同：0
> 
> 时间：2012-08-13T09:59:57.703
> 
> 标签：html, css, image, forms, select

我们在 CSS 中使用图像来重新设置我们的选择字段的样式，并且它们会在所有主浏览器中显示，除了在 Opera 中不显示图像。

我创建了一个 JSfiddle 来说明我也在尝试寻找解决方案。在 Opera 中尝试一下，您就会明白我的意思。

[http://jsfiddle.net/muhi101/Gj29j/9/](http://jsfiddle.net/muhi101/Gj29j/9/)

谢谢

穆希

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:25:53.613

Styling a select element is not 100% supported in all browsers.

You may want to try this jquery ui: [https://github.com/fnagel/jquery-ui](https://github.com/fnagel/jquery-ui) that let's you design your own select list element.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T13:01:52.383

设置实际选择框的样式是不切实际的，尤其是在需要完整的跨浏览器支持的情况下。最好的办法是隐藏选择框并创建一个样式模仿它。有两种基本方法可以做到这一点，jQuery 插件适用于这两种方法。

**隐藏和伪造按钮**

重新设置选择框样式的最安全方法（只要不需要 IE6 支持）是将选择框的不透明度设置为 0（使其完全透明）并将其放置在根据需要设置样式的 div 顶部（仅不透明度影响选择框的按钮部分，而不是下拉部分）。用户看到样式化的按钮，但所有 UI 事件都由实际按钮处理。这种方法适用于除 IE6 之外的所有浏览器（不支持在选择框上使用不透明度）。

有关这方面的示例，请参阅[jQuery Uniform](http://uniformjs.com/)的演示。

这是在不影响可用性和可访问性的情况下可以设置选择框的样式。而且这种方法很简单，如果需要，人们可以自行实现，无需插件或 jQuery。这种方法的局限性在于下拉菜单的样式很少，尽管按钮本身可以完全样式化。

**隐藏和伪造整个选择框**

另一种选择是完全隐藏选择框并用完全样式的模仿替换按钮和下拉菜单。在这种情况下，所有 UI 事件都将由模仿处理。

有关这方面的几个示例，请参阅[jqTransform](http://plugins.jquery.com/project/jqtransform)和[UI](http://www.filamentgroup.com/lab/jquery_ui_selectmenu_an_aria_accessible_plugin_for_styling_a_html_select) Selectmenu 的演示。

使用这种方法，按钮和下拉菜单都可以完全设置样式，但是会失去可用性和可访问性。它通常不能很好地支持屏幕阅读器，并且当用户单击触摸设备上的选择框时，他们不会得到本机选择器弹出窗口。此外，这种方法对于大多数人来说过于复杂，无法在不使用插件的情况下实现。

# python - Python中的一对多继承

> ID：11932013
> 
> 赞同：3
> 
> 时间：2012-08-13T10:00:01.843
> 
> 标签：python, inheritance, multiple-inheritance, diamond-problem

关于我是否会以最好的方式做某事的问题......

我想在 Python 中有一个类层次结构，看起来（至少）如下所示；

```
class Actor
  class Mover(Actor)
  class Attacker(Actor)
    class Human(Mover, Attacker) 
```

但是我遇到了这样一个事实，即我想从每个子类`Actor`中初始化某个属性，如下所示；`Mover``Attacker`

```
class Actor:
    _world = None
    def __init__(self, world):
        self._world = world

class Mover(Actor):
    _speed = 0
    def __init__(self, world, speed):
        Actor.__init__(self, world)
        self._speed = speed

class Attacker(Actor):
    _range = 0
    def __init__(self, world, range):
        Actor.__init__(self, world)
        self._range = range 
```

如果我当时采用我最初的方法，并按照我在使用超类构造函数方面一直使用的方法，我显然最终会调用`Actor`构造函数两次——这不是*问题*，但我的程序员感觉到刺痛并说我'宁愿以更清洁的方式进行；

```
class Human(Mover, Attacker):
    def __init__(self, world, speed, range):
        Mover.__init__(self, world, speed)
        Attacker.__init__(self, world, range) 
```

例如，我*只能*调用`Mover`构造函数，并简单地初始化`Human`' `_range`，但这是一种*更*糟糕的方法，因为它复制了 . 的初始化代码`Attacker`。

就像我说的，我知道将`_world`属性设置两次没什么大不了的，但是您可以想象，如果在 中进行更密集的操作`Actor.__init__`，这种情况会令人担忧。任何人都可以建议在 Python 中实现这种结构的更好做法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-13T10:07:59.480

你在这里得到的东西叫做[钻石继承](http://en.wikipedia.org/wiki/Diamond_problem)。Python 对象模型通过[方法解析顺序](http://www.python.org/download/releases/2.3/mro/)算法解决了这个问题，该算法使用[C3 线性化](http://en.wikipedia.org/wiki/C3_linearization)；实际上，您所要做的就是使用`super`和传递`**kwargs`（在 Python 2 中，继承自`object`）：

```
class Actor(object):    # in Python 3, class Actor:
    _world = None
    def __init__(self, world):
        self._world = world

class Mover(Actor):
    _speed = 0
    def __init__(self, speed, **kwargs):
        super(Mover, self).__init__(**kwargs)    # in Python 3, super().__init__(**kwargs)
        self._speed = speed

class Attacker(Actor):
    _range = 0
    def __init__(self, range, **kwargs):
        super(Attacker, self).__init__(**kwargs) # in Python 3, super().__init__(**kwargs)
        self._range = range

class Human(Mover, Attacker):
    def __init__(self, **kwargs):
        super(Human, self).__init__(**kwargs)    # in Python 3, super().__init__(**kwargs) 
```

请注意，您现在需要`Human`使用 kwargs 样式构建：

```
human = Human(world=world, range=range, speed=speed) 
```

这里实际发生了什么？如果您检测`__init__`调用，您会发现（`A, B, C, D`为了简洁起见，将类重命名为）：

*   `D.__init__`来电`B.__init__`
    *   `B.__init__`来电`C.__init__`
        *   `C.__init__`来电`A.__init__`
            *   `A.__init__`来电`object.__init__`

发生的事情是在方法解析顺序中的下一个知道`super(B, self)`的实例上调用，所以它转到而不是直接到。我们可以通过查看 MRO 来检查：`D``C``C``A`

```
>>> D.__mro__
(<class '__main__.D'>, <class '__main__.B'>, <class '__main__.C'>, <class '__main__.A'>, <type 'object'>) 
```

为了更好地理解，请阅读[Python 的 super() 被认为是超级的！](http://rhettinger.wordpress.com/2011/05/26/super-considered-super/)

请注意，这`super`绝对不是魔术；它的作用可以用 Python 本身来近似（这里只是为了`super(cls, obj)`功能，使用闭包绕过`__getattribute__`循环）：

```
def super(cls, obj):
    mro = type(obj).__mro__
    parent = mro[mro.index(cls) + 1]
    class proxy(object):
        def __getattribute__(self, name):
            return getattr(parent, name).__get__(obj)
    return proxy() 
```

# linux - 如何通过 Cron Job 运行 Shell 脚本

> ID：11932014
> 
> 赞同：4
> 
> 时间：2012-08-13T10:00:05.433
> 
> 标签：linux, cron, crontab, ubuntu-10.04

我有一个如下所示的 Shell 脚本

```
 echo "Hello World" 
```

该脚本位于`/root/scripts/`文件夹中`test.sh`

我还创建了一个如下所示的 cron 作业

```
 0-59 * * * *  ./scripts/test.sh 
```

现在 cron 作业不是`test.sh`每分钟都打印内容。

让我知道我是否给出了错误的目录或者我的代码中有任何其他问题。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-13T10:02:37.223

我会

1.  是明确的。您要从例如执行的目录`/root/scripts/test.sh`。我不知道 cron 会将什么视为*当前*目录
2.  将 stdout 重定向到日志文件，例如`...test.sh > /tmp/cron.log`（您可能希望在某个阶段也使用 重定向 stderr `2>&1`）。*否则你不会看到输出*。它被邮寄给 cronjob 所有者
3.  确保您已授予 bash 脚本的执行权限 ( `chmod +x /root/scripts/test.sh`)
4.  明确哪个脚本可执行文件将执行您的 shell 脚本。最好在顶部调用脚本，例如`#!/bin/sh`或类似

让东西在 cron 下运行是出了名的棘手。Cron 作业在大规模缩减的环境中运行。打印出脚本可用的环境（使用`env`）并与交互式 shell 中可用的环境进行比较/对比是有益的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-04-05T16:10:28.100

新的 unix 用户在使用 cron 启动脚本时遇到的一个常见问题是他们的 cronjobs 无法访问与其用户 shell 相同的环境。因此，在用户的 shell 中执行的脚本可以完美运行，但从 cron 启动时会失败。在这种情况下，第一大罪魁祸首是你的 shell 的 $PATH 环境变量与 cronjob 的 shell 不同。

测试运行'/bin/echo $PATH > myShellPath'。在 cron 中运行 '/bin/echo $PATH > myCronPath'。比较 myShellPath 和 myCronPath。

在提供的示例中，脚本执行 echo，它在我的 CENTOS6 系统上位于 /bin 下。shell 通过在 $PATH 环境变量中列出的目录之一中搜索“echo”文件来找到 echo 命令。如果您的 cronjob 的 $PATH 环境变量不包含 /bin，则 echo 命令将失败。

如果这是问题所在，最简单的解决方案是在脚本中明确设置“echo”的路径。要查看系统的完整 echo 路径，请在 shell 中键入“which echo”。

例子：

```
[countChocula@bozo ~]$ which echo
/bin/echo 
```

在这种情况下，您将编辑脚本并将“echo”替换为“/bin/echo”。更好的是，在脚本中设置 $PATH 变量以包含 echo 所在的目录。

有关更多信息，请研究“我正在运行什么 shell，我的环境变量是如何设置的？”、“cron 使用什么 shell 以及如何设置 cron 环境变量？”、“如何查看我的 cronjob 的环境变量？”

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-31T04:36:25.067

你应该使用

```
* * * * * /path/to/scriptFile 
```

每分钟运行脚本

如果所有者没有执行脚本的权限，请检查脚本文件夹的所有者授予权限或更改具有权限的所有者

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-01-16T03:11:28.167

当您在 cron 中添加文件时不理解 './scripts/test.sh'。因此，您应该按如下方式添加 cron：

```
 0-59 * * * *  bash /root/scripts/test.sh 
```

并且您将文件权限添加为：

```
chmod a+x /root/scripts/test.sh 
```

当脚本运行那个好的。

# http - BAPI 调用期间的 HTTP 异常（WSO2 适配器）

> ID：11932017
> 
> 赞同：1
> 
> 时间：2012-08-13T10:00:14.353
> 
> 标签：http, exception, sap, wso2esb, bapi

我正在尝试将 SAP BAPI 适配器用于 WSO2。我可以安装它并创建一个有效的配置以供客户端模式使用。

这是使用的代理（BAPIProxy）的代码：

```
<?xml version="1.0" encoding="UTF-8"?>
<proxy xmlns="http://ws.apache.org/ns/synapse" name="BAPIProxy" transports="http" startOnLoad="true" trace="disable">
    <target faultSequence="rollbackSequence">
        <inSequence>
            <send>
                <endpoint name="sap_bapi_endpoint">
                    <address uri="bapi:/JCOCLIENT01"/>
                </endpoint>
            </send>
        </inSequence>
        <outSequence>
            <log level="full"/>
            <send/>
        </outSequence>
    </target>
</proxy> 
```

然后我尝试使用“试用”功能测试我的代理。当 bapi 为空时，我得到一个空答案。这似乎是正确的。

但是当有一些数据要获取时，我得到了一个例外：

```
TID: [-1234] [WSO2 Enterprise Service Bus] [2012-08-06 17:41:07,811]  INFO {org.apache.axis2.transport.http.HTTPSender} -  Unable to sendViaPost to url[http://EAI-Q01:8280/services/BAPIProxy.BAPIProxyHttpSoap12Endpoint] {org.apache.axis2.transport.http.HTTPSender}
java.net.SocketTimeoutException: Read timed out
    at java.net.SocketInputStream.socketRead0(Native Method)
    at java.net.SocketInputStream.read(SocketInputStream.java:129)
    at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
    at java.io.BufferedInputStream.read(BufferedInputStream.java:237)
    at org.apache.commons.httpclient.HttpParser.readRawLine(HttpParser.java:78)
    at org.apache.commons.httpclient.HttpParser.readLine(HttpParser.java:106)
    at org.apache.commons.httpclient.HttpConnection.readLine(HttpConnection.java:1116)
    at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$HttpConnectionAdapter.readLine(MultiThreadedHttpConnectionManager.java:1413)
    at org.apache.commons.httpclient.HttpMethodBase.readStatusLine(HttpMethodBase.java:1973)
    at org.apache.commons.httpclient.HttpMethodBase.readResponse(HttpMethodBase.java:1735)
    at org.apache.commons.httpclient.HttpMethodBase.execute(HttpMethodBase.java:1098)
    at org.apache.commons.httpclient.HttpMethodDirector.executeWithRetry(HttpMethodDirector.java:398)
    at org.apache.commons.httpclient.HttpMethodDirector.executeMethod(HttpMethodDirector.java:171)
    at org.apache.commons.httpclient.HttpClient.executeMethod(HttpClient.java:397)
    at org.apache.axis2.transport.http.AbstractHTTPSender.executeMethod(AbstractHTTPSender.java:621)
    at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:193)
    at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)
    at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:450)
    at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:277)
    at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)
    at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)
    at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
    at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
    at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:555)
    at org.apache.axis2.client.ServiceClient.sendReceive(ServiceClient.java:531)
    at org.apache.jsp.admin.jsp.WSRequestXSSproxy_005fajaxprocessor_jsp._jspService(WSRequestXSSproxy_005fajaxprocessor_jsp.java:272)
    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:332)
    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314)
    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.wso2.carbon.ui.JspServlet.service(JspServlet.java:161)
    at org.wso2.carbon.ui.TilesJspServlet.service(TilesJspServlet.java:80)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.eclipse.equinox.http.helper.ContextPathServletAdaptor.service(ContextPathServletAdaptor.java:36)
    at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90)
    at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:111)
    at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:67)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.wso2.carbon.tomcat.ext.servlet.DelegationServlet.service(DelegationServlet.java:58)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.wso2.carbon.tomcat.ext.filter.CharacterSetFilter.doFilter(CharacterSetFilter.java:61)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
    at org.wso2.carbon.tomcat.ext.valves.CompositeValve.invoke(CompositeValve.java:133)
    at org.wso2.carbon.tomcat.ext.valves.CarbonStuckThreadDetectionValve.invoke(CarbonStuckThreadDetectionValve.java:156)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
    at org.wso2.carbon.tomcat.ext.valves.CarbonContextCreatorValve.invoke(CarbonContextCreatorValve.java:49)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1001)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)
    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1653)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:662) 
```

我尝试将 bapi 适配器与 4.0.3 和 4.5.0 M4 一起使用。是否有其他东西可以为 BAPI 配置到 WSO2 中？有解决方法吗？

提前致谢。

洛伊克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-06-24T05:30:42.483

使用 FaultSequence 查看错误。

```
<faultSequence>
<log level="custom">
<property name="message" expression="get-property('ERROR_MESSAGE')"/>
</log>
</faultSequence> 
```

# highcharts - 如何在 highcharts 中使用 tickInterval 或 step？

> ID：11932024
> 
> 赞同：2
> 
> 时间：2012-08-13T10:00:47.770
> 
> 标签：highcharts

例如

如果我想设置类别，我可以写这个代码

chart.xAxis[0].setCategories(list.time);

然后我想设置tickInterval或进入highcharts

如何使用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T19:17:33.633

首先在选项对象中将轴的刻度间隔设置为空。

然后你可以以编程方式设置它：http: [//livecoding.gabrielflor.it/3351635](http://livecoding.gabrielflor.it/3351635)

# zend-framework - Zend Pagination：如何获取数据数组

> ID：11932026
> 
> 赞同：2
> 
> 时间：2012-08-13T10:00:52.663
> 
> 标签：zend-framework, zend-paginator

我正在使用 zend 分页器。我通过使用 $this->paginator 得到以下结构：

```
 (
   [_cacheEnabled:protected] => 1
    [_adapter:protected] => Zend_Paginator_Adapter_Array Object
        (
            [_array:protected] => Array
                (
                    [0] => Array
                        (
                        )
                    [1] => Array
                         (
                         )
                           )

            [_count:protected] => 8
        )

    [_currentItemCount:protected] => 
    [_currentItems:protected] => 
    [_currentPageNumber:protected] => 1
    [_filter:protected] => 
    [_itemCountPerPage:protected] => 4
    [_pageCount:protected] => 2
    [_pageRange:protected] => 
    [_pages:protected] => 
    [_view:protected] => 
) 
```

我已经使用 for 循环访问了 $this->paginator 并且一切正常。但现在我只想访问 [_array:protected] => 数组值，并想使用 array_slice 将结果分成 3 组。但我无法访问该数组值。我尝试通过将其类型转换为数组但没有得到它。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-13T10:17:33.350

实际上，`Zend_Paginator_Adapter_Array`该类有一个`getItems()`方法可以做到这一点：对`_array`容器进行切片。

因此，如果您想要结果集的前三分之一，您可以执行以下操作：

```
$adapter = $paginator->getAdapter();
$results = $adapter->getItems(0, $adapter->count() / 3); 
```

# jquery - 移动网站的最佳 ui 框架

> ID：11932029
> 
> 赞同：2
> 
> 时间：2012-08-13T10:01:00.750
> 
> 标签：jquery, mobile, web, mobile-website

我正在寻找一个快速轻量级的 ui 框架来构建一个简单的移动网站。我已经尝试过 jquery mobile ，但是对于我想要建立的那种网站来说，它速度很慢而且太重了。在我的网站上使用 jquery mobile 的平均加载时间约为 3 秒，这在使用 gprs 连接的较慢网络上甚至更高。

我使用这个网站运行加载时间测试[http://mobitest.akamai.com/m/index.cgi](http://mobitest.akamai.com/m/index.cgi)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:06:09.690

我认为3ms一点也不慢！

但是试试**Telerik**的**Kendo UI**。它真的很快，你有很大的可能性，虽然它“有点”成本。如果您专业使用它，那就太好了；）

 *** * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:06:54.960

尝试[**HTML5 样板移动**](http://html5boilerplate.com/mobile)

我更喜欢将此作为默认启动项目

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-28T17:48:38.527

Ionic 是最好的移动 ui 框架，它是用 angular.js 构建的，现在 Angular 团队从组中重新构建了他们的框架，并创建了 angular 2 并进行了很多更改，就像那个 ionic 团队重新构建了他们自己的并提出了 ionic 2 惊人的特征。

有关更多详细信息，请查看以下链接。

[http://sourcefreeze.com/best-mobile-ui-frameworks-using-html5-css-and-js/](http://sourcefreeze.com/best-mobile-ui-frameworks-using-html5-css-and-js/)**

# java - 使用 NTLM 连接到 LDAP (Active Directory)

> ID：11932031
> 
> 赞同：1
> 
> 时间：2012-08-13T10:01:01.343
> 
> 标签：java, security, active-directory, ldap, ntlm

目前，我使用用户名和密码作为 ldap 的连接凭据（以便在此 AD 上进行搜索）。

我的代码如下所示：

```
env = new Hashtable();
env.put(Context.INITIAL_CONTEXT_FACTORY, "com.sun.jndi.ldap.LdapCtxFactory");
env.put(Context.PROVIDER_URL, ...);
env.put(Context.SECURITY_AUTHENTICATION, "simple");
env.put(Context.SECURITY_PRINCIPAL, ...);
env.put(Context.SECURITY_CREDENTIALS, ...);
env.put("com.sun.jndi.ldap.connect.timeout", ...);

try {
  ctx = new InitialLdapContext(env, null);
}
catch (NamingException e) {
    System.out.println("error")
} 
```

我想更改此代码，因此它不会使用用户+密码作为针对 LDAP 的凭据。我希望它使用 NTLM 进行身份验证。

我该怎么做？你能举个例子吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-12-20T18:32:02.780

[https://sourceforge.net/projects/javaldapntlmbind/](https://sourceforge.net/projects/javaldapntlmbind/)

该解决方案使用 UnboundID Java LDAP SDK，对于 NTLM 处理，它使用 samba.org 的 JCIF Java 库。由于使用 JCIF，它是平台独立的，不需要在 Windows 上运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:05:19.147

没有机会，JGSS 不支持 NTLM 作为 SASL 机制。将 Kerberos (GSS-API) 与 SASL 一起使用。

# ios - ios NSDateComponents 和 2 个特定的不同日期返回同一天组件

> ID：11932036
> 
> 赞同：1
> 
> 时间：2012-08-13T10:01:11.963
> 
> 标签：ios, date, nsdatecomponents, days

这是一个给我带来麻烦的代码序列：

```
NSLog(@"%@",date);
NSString *title = [NSString stringWithFormat:@"%2d", 
                   [[NSCalendar currentCalendar] components:CCCalendarUnits fromDate:date].day];
NSLog(@"%@ %@",title, [[NSCalendar currentCalendar] components:CCCalendarUnits fromDate:date]); 
```

在哪里 ： `#define CCCalendarUnits NSYearCalendarUnit | NSMonthCalendarUnit | NSWeekCalendarUnit | NSWeekdayCalendarUnit | NSDayCalendarUnit`

和 2 个日志：日期：**2012-10-27 21:00:00 +0000**

```
2012-08-13 12:44:14.298 xxx[2561:207] 2012-10-27 21:00:00 +0000
2012-08-13 12:44:14.299 xxx[2561:207] 28 <NSDateComponents: 0x842fe00>
    Calendar Year: 2012
    Month: 10
    Day: 28
    Week (obsolescent): 44
    Weekday: 1 
```

日期：**2012-10-28 21:00:00**

```
2012-08-13 12:44:14.299 365Quotes[2561:207] 2012-10-28 21:00:00 +0000
2012-08-13 12:44:14.300 365Quotes[2561:207] 28 <NSDateComponents: 0x82264a0>
        Calendar Year: 2012
        Month: 10
        Day: 28
        Week (obsolescent): 44
        Weekday: 1 
```

您会注意到，对于两个日期（2012-10-27 21:00:00 +0000 和 2012-10-28 21:00:00 +0000），日期部分是相同的 (28)？任何帮助弄清楚为什么会这样？

谢谢

# java - 接口实现隐藏方法

> ID：11932037
> 
> 赞同：0
> 
> 时间：2012-08-13T10:01:13.523
> 
> 标签：java, inheritance, interface

我需要有关接口的建议。我有一个名为 Unit 的类，它可以攻击其他单位。攻击可以是空中或地面。我需要单一的方法来实现攻击调用`attack()`。一些单位只能攻击地面单位，一些空中单位或两者兼而有之。

这是我到目前为止提出的：

```
public interface Attack() {
    public void attack(SCObject object);
}

public interface GroundAttack() extends Attack {
    public void groundAttack(SCObject object);
}

public interface AirAttack() extends Attack {
    public void airAttack(SCObject object);
} 
```

我可以有不同的单位：

```
Unit extends SCObject implements GroundAttack {
}

Unit extends SCObject implements AirAttack {
}

Unit extends SCObject implements AirAttack, GroundAttack {
} 
```

问题是这个实现将显示两个地面和空中选项，而我只希望`attack()`方法可见。你能提出解决方案吗？或者这对你来说还可以吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:06:21.233

我会用

```
public interface Attack {
    public boolean canAttack(SCObject object);
    public void attack(SCObject object);
} 
```

鉴于您不想暴露这种行为，我认为没有理由采用特定的地面或空中攻击方法。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-13T10:09:03.567

我认为[访问者](http://en.wikipedia.org/wiki/Visitor_pattern)或[双重调度](http://en.wikipedia.org/wiki/Double_dispatch)模式*可能*适用于此，因为攻击能力取决于攻击者和受害者之间的交互。

攻击者通过某种形式的调用`attacks()`，并将*自身*作为参数传递，将允许受害者确定攻击的有效性。请注意，这可以让您在运行时更改可攻击性（例如，“地面”单位可以升空吗？）

# javascript - 在 IE8 上的 Javascript 中不是有效的 2D 数组错误

> ID：11932041
> 
> 赞同：1
> 
> 时间：2012-08-13T10:01:29.720
> 
> 标签：javascript

我在 IE8 上的 JavaScript 中收到“不是有效的 2D 数组”错误。该脚本在 Mozilla 和其他主要浏览器上运行良好。我在 JavaScript 中使用二维数组。这是脚本

```
 <script type="text/javascript">
  var new_arr = new Array();
  new_arr[1] = 0;
      new_arr[2] = 0;
      new_arr[3] = 0;new_arr[4] = 0;new_arr[5] = 0;new_arr[6] = 0;new_arr[7] = 0;new_arr[8] = 0;new_arr[9] = 0;new_arr[10] = 0;new_arr[11] = 0;new_arr[12] = 0;new_arr[13] = 0;new_arr[14] = 0;new_arr[15] = 0;new_arr[16] = 0;new_arr[17] = 0;new_arr[18] = 0;new_arr[19] = 0;new_arr[20] = 0;new_arr[21] = 0;new_arr[22] = 0;new_arr[23] = 0;new_arr[24] = 0;new_arr[25] = 0;new_arr[26] = 0;new_arr[27] = 0;new_arr[28] = 0;new_arr[29] = 0;new_arr[30] = 0;new_arr[31] = 0;   
 //var val = new Array();
 var val ='';

  google.load("visualization", "1", {packages:["corechart"]});
  google.setOnLoadCallback(drawChart);
  function drawChart() {
   var data = google.visualization.arrayToDataTable(
    [
         ['Day', 'Answered Posts', 'Unanswered Posts'],
         ['1', 0,114],['2', 0,149],['3', 0,94],['4', 0,89],['5', 0,36],['6', 0,61],['7', 0,82],['8', 0,144],['9', 0,76],['10', 0,92],['11', 0,75],['12', 0,41],['13', 0,54],['14', 0,0],['15', 0,0],['16', 0,0],['17', 0,0],['18', 0,0],['19', 0,0],['20', 0,0],['21', 0,0],['22', 0,0],['23', 0,0],['24', 0,0],['25', 0,0],['26', 0,0],['27', 0,0],['28', 0,0],['29', 0,0],['30', 0,0],['31', 0,0],        ]);

    var options = {

      width: 940, 
      height: 334,
      min: 0, 
      max: 30,
      fontSize:10,
      chartArea:{width:800},
      colors: Array('#33CC00','#FF0000'),
      title: 'Posts In Current Month',
      titleTextStyle: {color: 'grey', fontSize: 14},
      hAxis: {maxAlternation: 1},   
      hAxis:{title: 'Day of Month',  titleTextStyle: {color: '#000000'}},
      tooltip:{textStyle: {color: '#000000'}, showColorCode: true},
      legend:{position: 'bottom', textStyle: {color: 'blue', fontSize: 14}},
      vAxis:{title: 'No of Posts',  titleTextStyle: {color: '#000000'}},
      vAxis: {
      gridlines: {
        color: '#000000',
        count: 5
     }
   }
  };
    var chart = new google.visualization.AreaChart(document.getElementById('chart_div'));
    chart.draw(data, options);
  } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-05T18:06:34.057

在您的代码中有一个错误：数组的最后一个位置后面有一个逗号，您应该删除它。替换这个：

```
['31 ', 0,0], 
```

为了这：

```
['31', 0,0] 
```

# git - 丢弃合并提交的子项，保留另一个，重播所有其他提交

> ID：11932043
> 
> 赞同：1
> 
> 时间：2012-08-13T10:01:34.713
> 
> 标签：git

## 抽象的

*我对问题的研究越多，我对问题的总结就越清晰：如何使用 git 基础架构在 DAG 中获取一个顶点的父节点，它实际上是我的应用程序域中的一棵树？*

阅读愉快。欢迎任何想法（特定于 git）。

## 问题

我有一个存储库，其历史是由我通过半自动命令编写的脚本构建的：

![在此处输入图像描述](../Images/0e59832e8de3abd6ad5cdbff65335d77.png)

因此，我可以根据需要自动将任何类型的信息放入历史记录中，例如在执行命令时以黄色标记的那些标签。

所有这一切的一个关键要求是，当发生合并冲突时（它们必须发生，因为**脚本的目的**是让用户意识到合并冲突，并与其他用户联系以找到解决方案问题 -如果发生合并冲突就会出现问题，我希望脚本能够激发用户之间的交流）**。**

现在，考虑到这一点，假设我想恢复一个合并提交。这对于非冲突合并非常有用，就像`install-def`在这张图片中一样。我只需要使用`git revert -m 1 install-def`（例如）。

当我需要 revert 时，该过程变得更加复杂`install-abc`，因为我想准确地恢复那些提交`install-abc`（合并提交）并且它是来自`remotes/hacklet/abc/master`.

换句话说，要获得只有`profile/myfirstprofile`和的线性历史`remotes/hacklet/def/master`。

假设我可以用任何标签注释几乎任何提交，在半自动化脚本中实现这一目标的最简单和最安全的方法是什么？最好不必做任何与**DAG**相关的事情（或就此而言，递归），因为脚本是用 bash 编写的。

“还原”执行“卸载”。`git revert -m 1 ...`适用于在 的情况下恢复提交`install-def`，但`install-abc`它给出：

```
error: could not revert 18cff49... using hacklet/abc/master in profile
myfirstprofile hint: after resolving the conflicts, mark the corrected
paths hint: with 'git add <paths>' or 'git rm <paths>' hint: and
commit the result with 'git commit' 
```

**注意**：`profile`分支可以包含许多这样的`install-`提交，我只想删除其中一个。“安装”和“配置文件”都不能嵌套。

**注意**：我知道“模块”和“子树”。请不要提他们，我在这里做的事情是特定于应用程序域的（git是应用程序的一部分），这不是关于在开发周期中使用git。我已经彻底分析了这两个功能，它们根本不适合我脚本的应用程序域。

* * *

**附录 1**

我已经破解了这些信息，这让我觉得更容易：

![在此处输入图像描述](../Images/265d1331366a9565ce5814e572fb1678.png)

如果您认为这变得过于复杂，那不是，它一遍又一遍地基本上是相同的模式：

![在此处输入图像描述](../Images/cf31754284185a030311a163eddae9c4.png)

`start-profile`在这里，只有`install-abc`和`install-foo`没有冲突。但是树的结构看起来确实“相同”。

最后一个，有所有的冲突（除了第一个，`install-abc`），因为我喜欢 gitk 的多彩输出：

![在此处输入图像描述](../Images/b1e4722825e640880f5993a020d8c214.png)

还有一个，但完全没有冲突：

![在此处输入图像描述](../Images/297d4f179b3e17b6db90d88e1ae487db.png)

**注意**：可能存在未在`profile/myfirstprofile`分支中标记的单个提交。在这种情况下，应该保留这些提交。真的没有其他东西应该“卸载”，但提交属于`install-THING`.

* * *

**附录 2**

虽然我`before-install-`发现可以使用`git describe --tags $(git rev-list -1 install-abc)`. 然而：

**给定标签`install-def`，如何在最后一张图片中找到*子*`before-install-ghi`提交？**

考虑到最后一个**注释**（中间未标记的提交），如何找到这些“子和父”提交适合粘在一起，而不需要`install-THING`我想要“卸载”？

PS：我很明白有*向无环图*中*directed*这个词是什么意思，但是一定有一些特定于git的方式，使用git的基础设施和概念，我闻到了。

 ***注意**：我想避免每次我想“卸载”某些东西时都必须迭代树。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T18:32:46.777

我发现这个解释令人费解，因为它不使用常见的 git 术语，但据我所知，你问的是三个问题之一（很确定它是 #3）：

1.  “我怎样才能重置到更早的分支提交？”
2.  “如何在不重置分支或签出历史上较早的提交的情况下恢复到合并提交的父级？”
3.  “当以后的下游提交基于我正在恢复的合并父级时，我如何恢复合并提交？”

对于这个解释，考虑这个图表：

```
G
|
F
|\
D E
|/ 
C
|
B
|
A 
```

首先，一些术语：

提交“D”和“E”是提交“F”的“合并父母”，这是一个合并提交。您看到的图表几乎总是有两个父级，在您的术语中是“左”和“右”，在 git 术语中是“第一”和“第二”，但对合并可能拥有的父级数量没有限制。从技术上讲，所谓的“章鱼合并”是可能的，可能是三个或更多的父母。它们在实践中很少使用。

`^`使用git 中的语法规范地描述合并父级。请使用此语法，因为它会使您的问题更容易理解。第一个父母是`^1`，第二个父母是`^2`。换句话说：

```
F^1 is equivalent to D
F^2 is equivalent to E 
```

您问题中最令人困惑的方面是了解您要达到的状态。因此，让我们解决三个可能的问题：

* * *

## “我怎样才能重置到更早的分支提交？”

假设您尝试提交“D”并且不关心由“E”、“F”或“G”引入的更改。使用 Let_Me_Be 的答案：

```
git reset --hard D 
```

如果您想改为到达“E”，但根本不关心保留由“D”、“F”或“G”引入的更改，那么同样会起作用。

* * *

## “如何在不重置分支或签出历史上较早的提交的情况下恢复到合并提交的父级？”

假设您想要更复杂的东西：假设您想要恢复“D”的更改而不丢失“E”或“G”中的更改。这也是一个微不足道的操作，只要“F”和“G”都不是基于“D”的变化。在这种情况下：

```
git revert -m 2 'F' 
```

命令语法的意思是“恢复合并提交'F'并使第二个父主线成为主线。” 生成的历史（再次假设“G”不是基于“D”）看起来好像“D”从未合并，但当然实际的历史将如下所示：

```
H
|
G
|
F
|\
D E
|/ 
C
|
B
|
A 
```

其中“H”是还原提交。如果你想恢复'F'并使用'D'作为主线，只需在命令中更改指定的父编号：（`git revert -m 1 'F'`注意使用`1`“第一父”）。

* * *

## “当以后的下游提交基于我正在恢复的合并父级时，我如何恢复合并提交？”

好的。这是最棘手的情况。如果您经常这样做，那么无论上下文如何，git 都不是您问题的解决方案。如果可以的话，Git 会尽量保持对冲突解决的完全不可知论。这就是重点：如果软件可以解决合并冲突，它就会解决。如果它们在您的工作流程中经常出现，那么问题就是您的工作流程，而不是您的 VCS。

如果您想避免历史修改（即`git rebase`，即使我们可以完全自动化也将是疯狂的），解决您的恢复冲突的唯一方法是恢复基于“D”代码的后续提交。换句话说：

```
git revert G
git revert -m 1 F 
```

然后，如果您想使用 'git cherry-pick G' （原始的 'G' 提交哈希），您可以重新应用 'G'，但应用它的可能性很大。您生成的历史将如下所示：

```
J - Reapplication of G
|
I - Revert of F
|
H - Revert of G
|
G
|
F
|\
D E
|/ 
C
|
B
|
A 
```

如果这个答案最能描述您的情况，我强烈建议您在 git 以外的地方寻找您的应用程序。它的设计目的不是为了轻松地做你想做的事，因为你所做的将是人类之间相当破碎的版本控制工作流程。我怀疑您的应用程序能否捕捉到所有边缘情况。让它做出明智的冲突解决方案，即使冲突本身是相当可预测的，也不是一个容易的问题。我当然可能是错的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:27:56.327

这更像是一个猜测，然后是一个答案（因为我仍然对这个问题感到非常困惑）。

但我的猜测是你想这样做：

```
git reset --hard start_myfirstprofile
git merge remotes/hacklet/def/master 
```

如果要重置为合并前的状态。

```
git reset HEAD~1 
```

在正确的分支上应该没问题。*

# jsf - 如何使用 af:message 组件

> ID：11932050
> 
> 赞同：0
> 
> 时间：2012-08-13T10:02:13.497
> 
> 标签：jsf, message, jdeveloper

我正在开发 jdev 11.1.2.2。

我的页面上有一个 af:message 组件，显示所有全局消息。

1.但问题是它一直显示它的错误消息或信息或警告。所以我想知道是否有办法隐藏它？

1.  有没有办法重置消息，因为即使页面刷新，它也会继续显示上一条消息？

谢谢。:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T11:18:56.883

[本文档http://www.oracle.com/technetwork/developer-tools/adf/learnmore/nov2010-otn-harvest-190744.pdf](http://www.oracle.com/technetwork/developer-tools/adf/learnmore/nov2010-otn-harvest-190744.pdf)第 14 页中的“使用 JavaScript 清除验证错误消息”显示了如何执行此操作。

# ios4 - 以编程方式设置 setSelectedIndex 不会 didSelectViewController

> ID：11932053
> 
> 赞同：1
> 
> 时间：2012-08-13T10:02:24.310
> 
> 标签：ios4

在我的 iOS 应用程序中，当我设置 setSelectedIndex 时，它不会调用以下函数

```
(void)tabBarController:(UITabBarController *)tabBarController didSelectViewController:(UIViewController *)viewController 
```

有没有其他选择？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:10:56.097

从[UITabBarControllerDelegate 文档](http://developer.apple.com/library/ios/DOCUMENTATION/UIKit/Reference/UITabBarControllerDelegate_Protocol/Reference/Reference.html#//apple_ref/doc/uid/TP40006932-CH3-SW1)：

> `tabBarController:didSelectViewController:`
> 
> “[..] 它仅在标签栏中的用户点击时被调用，并且在您的代码以编程方式更改标签栏内容时不会被调用。”

因此，我建议您找到另一种方法来实现所需的功能。

一种选择是将您拥有的任何逻辑移动`tabBarController:didSelectViewController:`到视图控制器中的另一个方法中，并在委托方法（上方）和在您`setSelectedIndex`的 UITabBarController 实例上运行的代码中调用该方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-08-31T02:18:41.017

如果您需要在选项卡更改时做出响应，无论它是否来自点击，我建议覆盖 setSelectedIndex：

```
-(void)setSelectedIndex:(NSUInteger)selectedIndex
{
    [super setSelectedIndex:selectedIndex];
    [self handleSelectionChanged];
}

- (void)tabBarController:(UITabBarController *)tabBarController didSelectViewController:(UIViewController *)viewController
{
    [self handleSelectionChanged];
}

- (void)handleSelectionChanged
{
    // Do something
} 
```

# php - 在 PHP 中从一位、两位或三位整数生成 4 位整数

> ID：11932058
> 
> 赞同：13
> 
> 时间：2012-08-13T10:02:44.343
> 
> 标签：php, integer

我正在调用数据库以检索特定项目的 ID。通常有这样的 id：`1, 2, 14, 23, ...`. 我需要从数据库中获取 ID 并输出 4 位数字。

例如：我的结果 ID 是：`1`. 现在，当我拥有这个价值时，我希望它变成`0001`. 或者，如果我的结果 id 是`13`，它应该变成`0013`，等等。

如何在不更改数据库中的真实 ID 的情况下使用 php 实现这一点？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-08-13T10:06:14.413

你想对一个整数进行**零填充。**

你可以做`sprintf('%04u', $n)`或`str_pad($n, 4, '0', STR_PAD_LEFT)`。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-08-13T10:04:04.870

一如往常。

```
sprintf("%04d", $num) 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-08-13T10:03:56.833

你想要[PHP strpad](http://php.net/manual/en/function.str-pad.php)函数：

```
<?php
$input = 1;
echo str_pad($input, 4, "0", STR_PAD_LEFT);  // produces "0001"
?> 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-08-13T10:12:21.633

如果你想在 MySQL 查询中进行，这里是

```
SELECT LPAD(id, 4, '0') as modified_id FROM table; 
```

# date - Joomla v2.5 日期未从数据库中提取

> ID：11932061
> 
> 赞同：0
> 
> 时间：2012-08-13T10:03:02.000
> 
> 标签：date, joomla, echo

Joomla v2.5.6 模块上的问题。

使用的代码：

```
<?php echo $date->toFormat(JText::_('DATE_FORMAT_LC3')); ?> 
```

从表列中拉取：

```
2013-01-26 
```

应撤回为： **2013 年 1 月 26 日**

但以上只是拉回“ **d FY** ”

有任何想法吗？

固定的：

```
<?php echo $date->Format(JText::_('DATE_FORMAT_LC3')); ?> 
```

**格式化不格式化**

# c# - 添加带有透明背景的 GIF 图片

> ID：11932062
> 
> 赞同：1
> 
> 时间：2012-08-13T10:03:05.350
> 
> 标签：c#, picturebox

我使用[了这个控件](https://stackoverflow.com/a/434706/726169)，但它不支持 GIF 文件格式，因为图片不会像`PictureBox`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:32:02.430

尝试使用简单的事件[`Bitmap.MakeTransparent`](http://msdn.microsoft.com/en-us/library/8517ckds)和事件：[`ImageAnimator.UpdateFrames`](http://msdn.microsoft.com/en-us/library/16z0hwkd.aspx)`OnPaint``PictureBox`

```
private Image animGif;// gif animation file

private void Form1_Load(object sender, EventArgs e)
{
    animGif = new Bitmap("file.png");
    ImageAnimator.Animate(animGif, Animate);
}

private void pictureBox1_Paint(object sender, PaintEventArgs e)
{
    ImageAnimator.UpdateFrames();
    var img = new Bitmap(animGif, animGif.Width, animGif.Height);
    img.MakeTransparent(Color.White);
    e.Graphics.Clear(pictureBox1.BackColor);
    e.Graphics.DrawImage(img, new Point(0, 0));
}

private void Animate(object sender, EventArgs e)
{
    pictureBox1.Invalidate();
} 
```

# cuda - 我的代码是否运行我的非线性递归方程的 1000 次迭代的 1000 个实例？

> ID：11932064
> 
> 赞同：0
> 
> 时间：2012-08-13T10:03:05.617
> 
> 标签：cuda

根据我对 CUDA C 的理解，每个线程都会执行等式的一个实例。但是我如何打印出所有的值。该代码确实有效，但确实需要有人帮我检查它，以确认我的结果实际上与我打算设计的内容一致。

```
#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include <math.h>
#include <conio.h>
#include <cuda.h>
#include <cutil.h>

__global__ void my_compute(float *y_d,float *theta_d,float *u_d)
{
    int idx=threadIdx.x+blockIdx.x*gridDim.x;

    for (idx=7;idx<1000;idx++)
    {
        y_d[idx]=theta_d[0]*y_d[idx-1]+theta_d[1]*y_d[idx-3]+
            theta_d[2]*u_d[idx-5]*u_d[idx-4]+theta_d[3]+
            theta_d[4]*u_d[idx-6]+theta_d[5]*u_d[idx-4]*y_d[idx-6]+
            theta_d[6]*u_d[idx-7]+theta_d[7]*u_d[idx-7]*u_d[idx-6]+
            theta_d[8]*y_d[idx-4]+theta_d[9]*y_d[idx-5]+
            theta_d[10]*u_d[idx-4]*y_d[idx-5]+theta_d[11]*u_d[idx-4]*y_d[idx-2]+
            theta_d[12]*u_d[idx-7]*u_d[idx-3]+theta_d[13]*u_d[idx-5]+
            theta_d[14]*u_d[idx-4];
    }
}

int main(void)
{   
    float y[1000];
    FILE *fpoo;
    FILE *u;
    float theta[15];
    float u_data[1000];
    float *y_d;
    float *theta_d;
    float *u_d;

    cudaEvent_t start,stop;
    float time;
    cudaEventCreate(&start);
    cudaEventCreate(&stop);

    // memory allocation

    cudaMalloc((void**)&y_d,1000*sizeof(float));
    cudaMalloc((void**)&theta_d,15*sizeof(float));
    cudaMalloc((void**)&u_d,1000*sizeof(float));
    cudaEventRecord( start, 0 );

    // importing data for theta and input of model//

    fpoo= fopen("c:\\Fly_theta.txt","r");
    u= fopen("c:\\Fly_u.txt","r");

    for (int k=0;k<15;k++)
    {
        fscanf(fpoo,"%f\n",&theta[k]);
    }
    for (int k=0;k<1000;k++)
    {
        fscanf(u,"%f\n",&u_data[k]);
    }

    //NB: pls does this for loop below make my equation run 1000000
    // instances as oppose to the 1000  instances i desire?
    for (int i=0;i<1000;i++)  
    {
        //i initialised the first 7 values of y because the equation output
        //starts form y(8)

        for (int k=0;k<8;k++)
        {
            y[k]=0;

            cudaMemcpy(y_d,y,1000*sizeof(float),cudaMemcpyHostToDevice);
            cudaMemcpy(theta_d,theta,15*sizeof(float),cudaMemcpyHostToDevice);
            cudaMemcpy(u_d,u_data,1000*sizeof(float),cudaMemcpyHostToDevice);

            //calling kernel function//
            my_compute<<<200,5>>>(y_d,theta_d,u_d);
            cudaMemcpy(y,y_d,1000*sizeof(float),cudaMemcpyDeviceToHost);
        }
        printf("\n\n*******Iteration %i*******\n", i);
        //does this actually print all the values from the threads? 

        for(int i=0;i<1000;i++)
        {
            printf("%f",y[i]);
        }
    }
    cudaEventRecord( stop, 0 );
    cudaEventSynchronize( stop );
    cudaEventElapsedTime( &time, start, stop );

    cudaEventDestroy( start );
    cudaEventDestroy( stop );
    printf("Time to generate:  %3.1f ms \n", time);

    cudaFree(y_d);
    cudaFree(theta_d);
    cudaFree(u_d);
    fclose(u);
    fclose(fpoo);
    //fclose();
    _getche();

    return (0);

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:45:57.123

> 我如何打印出所有的值。

好吧，您可以将其复制到主机（您已经这样做了）并正常打印出来？

但是，我担心您的代码有几个原因：

*   只有属于同一个warp的线程才会真正并行执行。经线是 32 条相邻线的集合。（类似`warpId = threadIdx.x/32`）。属于不同 warp 的线程可以按任何顺序执行，除非您应用一些同步功能。

*   由于上述原因，您不能对`y_d[idx-1]`计算时多说`y_d[idx]`。是否`y_d[idx-1]`已经被另一个线程计算/覆盖？

*   您的块中只有 5 个线程 (<<<200,5>>>)，但是因为可以以扭曲粒度（32 的倍数）启动块，它只会让每个块保持 5 个线程运行和 27 个线程空闲发射。

*   您根本没有使用并行性！您有一个`for`循环将由所有 1000 个线程执行。所有 1000 个线程计算完全相同的东西（以竞争条件为模）。您计算线程索引`idx`，但随后完全忽略它并将`idx`所有线程设置为 7。

我强烈建议 --- 作为启动配置、同步、线程索引的练习 --- 实现并行[前缀和](http://en.wikipedia.org/wiki/Prefix_sum)算法，并且只有在确认它正常工作后，才做这些更高级的东西......

# spring - Spring MVC：使用控制器请求映射输入按钮（非提交）

> ID：11932065
> 
> 赞同：1
> 
> 时间：2012-08-13T10:03:08.303
> 
> 标签：spring, model-view-controller, controller, request

我正在尝试将按钮操作映射到控制器功能。当我尝试使用：

```
@RequestMapping(method = RequestMethod.POST)
public void processValidateGenerate 
.... 
```

和

```
<input type="button" id="continue" name="continue"...> 
```

这工作得很好，但现在我想添加另一个按钮，所以为了区分它们，我添加了第一个操作：

```
@RequestMapping(method = RequestMethod.POST, params="continue")
public void processValidateGenerate 
.... 
```

但是按下按钮时不再调用该函数，我认为这只适用于提交输入。

是否有任何解决方案可以通过非提交输入来做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T12:06:12.077

您可以使用 javascript/jquery 进行 ajax 调用并点击所需的控制器方法。

```
function doSomething(){
$.ajax({                                  //This is a jquery ajax call. You need to inlude jquery js files to do
type: "POST",                              // this operation
url: //URL,
data: //JSON data
}).done(function( msg ) {
alert( "Operation done: " + msg );
window.location.href=contextPath+"/newURL";      //If you want to go to a new page
});
} 
```

现在添加新按钮（即使它不是按钮也没关系，一个 div 就足够了）。使用 onclick 函数并给出 javscript 函数名称。

```
<input type="button" id="newcontinuebutton" name="continue" onclick=doSomething()...> 
```

[您可以在此处](http://api.jquery.com/jQuery.ajax/)查看 jquery ajax 详细信息

我想这会对你有所帮助。

# linux - 一个 bash 脚本，用于为没有特定文件的目录运行程序

> ID：11932067
> 
> 赞同：2
> 
> 时间：2012-08-13T10:03:16.813
> 
> 标签：linux, shell, exec

我需要一个 Bash 脚本来为没有特定文件的所有目录执行程序并在同一目录上创建输出文件。该程序需要一个输入文件，该文件存在于每个目录中，名称为***.DNA.fasta 。**假设我有以下目录也可能包含子目录

```
dir1/a.protein.fasta  
dir2/b.protein.fasta  
dir3/anyfile  
dir4/x.orf.fasta 
```

我首先找到了没有特定文件的目录， **在**
这种情况下，我希望列出`dir3`and `dir4`（因为它们不包含`*.protein.fasta`）我已经尝试过这段代码：

```
find . -maxdepth 1  -type d  \! -exec test -e '{}/*protein.fasta' \; -print 
```

但似乎我错过了一些它不起作用的东西。我也不知道如何继续整个故事。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T11:27:14.980

这是一个棘手的问题。

我想不出一个*好的*解决方案。但是，这里有一个解决方案。请注意，如果您的目录或文件名包含换行符，则*保证*不起作用，如果它们包含其他特殊字符，*则不保证起作用。*（我只用你问题中的样本进行了测试。）

另外，我没有包括 a`-maxdepth`因为你说你也需要搜索子目录。

```
#!/bin/bash

# Create an associative array
declare -A excludes

# Build an associative array of directories containing the file
while read line; do
  excludes[$(dirname "$line")]=1
  echo "excluded: $(dirname "$line")" >&2
done <<EOT
$(find . -name "*protein.fasta" -print)
EOT

# Walk through all directories, print only those not in array
find . -type d \
| while read line ; do
  if [[ ! ${excludes[$line]} ]]; then
    echo "$line"
  fi
done 
```

对我来说，这会返回：

```
.
./dir3
./dir4 
```

所有这些都是不包含匹配文件的目录`*.protein.fasta`。当然，您可以将最后一个替换为`echo "$line"`您需要对这些目录执行的任何操作。

**交替：**

如果您真正要查找的只是在任何子目录中不包含匹配文件的顶级目录列表，则以下 bash 单行可能就足够了：

```
for i in *; do test -d "$i" && ( find "$i" -name '*protein.fasta' | grep -q . || echo "$i" ); done 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T15:08:08.777

```
#!/bin/bash

for dir in *; do

test -d "$dir" && ( find "$dir" -name '*protein.fasta' | grep -q . ||     Programfoo"$dir/$dir.DNA.fasta");
done 
```

# c++ - 此指针与调用方法的指针不同

> ID：11932068
> 
> 赞同：0
> 
> 时间：2012-08-13T10:03:17.453
> 
> 标签：c++, multithreading, pointers

我用 C++ 编写了一个应用程序，它有时会崩溃，因为对象方法存储了无效的 this 指针！当我调试我的应用程序并查看调用堆栈时，有函数*func1*，以下是*func2*。在第一个函数中，指针是有效的，但在第二个函数中，this 指针应该与第一个函数中的指针具有相同的地址，this 指针指向一些无效的内存地址：

```
void obj1::func1( obj2* o ){
  //Pointer o is valid and correctely initialized when i debug my Application
  o->func2();
}

void obj2::func2(){
  //Here i do a call on the this pointer. The this pointer is invalid and so my
  //Application is crashing. How can i have a different this pointer then the 
  //pointer i was calling on. I can't imagine how this can happen.
  this->someCall();
} 
```

我的应用程序正在使用不同的线程，所以我认为我可能会在其他一些无法正常工作的线程中删除我的对象，但是这个指针不会被更改 - 如果我错了，请告诉我。我不知道这个错误是如何发生的。

谢谢你的帮助。丹尼斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-01T22:52:38.580

您提供的代码没有任何问题。但我认为答案就在你的问题中：你正在使用多个线程。一旦你有多个线程，你需要检查你的线程模型以及对内存的访问是如何同步的。不幸的是，这取决于您来确定究竟发生了什么，因为问题似乎与此特定代码的编写方式无关。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-01T23:19:26.480

这个问题似乎是由于多线程问题。

计算机执行在执行 A 行和 B 行之间稍作休息，最终可能会删除 'o' 指向的对象。

```
void obj1::func1( obj2* o ){
  o->func2(); //Line A
}

void obj2::func2(){
  this->someCall(); //Line B
} 
```

您将希望找到代码中解构（显式或隐式）对象的所有位置，并确保它们在对象仍被指向时无法删除该对象。

您可以通过使用智能指针或仅通过将对象上的操作与锁同步来强制执行此操作。

# jquery - jquery简单的alertbox基于A标签中的一些元素

> ID：11932081
> 
> 赞同：0
> 
> 时间：2012-08-13T10:04:17.737
> 
> 标签：jquery, html

我有一个带有 50 个 A 标签的 HTML 页面，我想根据我想在 A 中设置的元素创建警报。像这样：

```
<a href "something">click to see the alert</a> 
```

我对 A 标签上的位置没有任何想法。但我想知道如何用 jquery 来做这样的事情。

我感谢您的帮助

太感谢了

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:06:59.800

您可以将警报添加为数据属性，然后在点击时提醒数据值。

HTML

```
<a href="something" data-alert="Click to see the alert."></a> 
```

JS

```
$('a').on('click', function() {
    alert($(this).data('alert'));
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:07:50.243

检查标签的点击：

```
$('a').click(function(e){

    e.preventDefault();
    alert($(this).text()+' - '+$(this).attr('href'));

}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T10:10:09.303

你可以试试；

```
$('a').click(function() {
    alert($(this).text());
    event.preventDefault();
}); 
```

***[这](http://jsfiddle.net/blasteralfred/hPN4u/3/)***是一个现场演示

# php - 查询在 phpmyadmin 中运行，但不在 codeigniter 模型中

> ID：11932082
> 
> 赞同：1
> 
> 时间：2012-08-13T10:04:23.513
> 
> 标签：php, mysql, codeigniter

我正在运行以下查询：

```
SELECT @newNo := MAX( category_code ) FROM category_master;
INSERT INTO category_master VALUES (@newNo +1,  'Test') 
```

该查询在 phpmyadmin 中完美运行，但在使用 codeigniter 运行时显示数据库错误：

> 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 2 行的“INSERT INTO category_master VALUES(@newNo+1, 'Test')' 附近使用正确的语法

可能是什么原因 ？？在 codeigniter 模型中，我使用以下代码：

```
$query = 'SELECT @newNo := MAX(category_code) FROM category_master;
                    INSERT INTO category_master VALUES(@newNo+1, 
                    \''.$category_name.'\')';
$result = $this -> db -> query($query); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:06:50.690

您不能一次运行两个查询。将它们分开：

```
$query = 'SELECT @newNo := MAX(category_code) FROM category_master';
$result = $this->db->query($query);

$query = 'INSERT INTO category_master VALUES(@newNo+1, \''.$category_name.'\')';
$result = $this->db->query($query); 
```

编辑：在您的第二个查询中，建议使用查询绑定：

```
$query = 'INSERT INTO category_master VALUES(@newNo+1, ?)';
$result = $this->db->query($query, $category_name); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:12:55.973

确保查询不包含任何特殊字符。浏览器将转换特殊字符，因此查询在 phpmyadmin 中运行。要知道特殊字符，请回显查询并将其复制并粘贴到 Dreamweaver 之类的编辑器中，它会显示特殊字符。希望这可以帮助。

# java - Android 读取 pdf 元数据 - 内存问题

> ID：11932083
> 
> 赞同：0
> 
> 时间：2012-08-13T10:04:33.780
> 
> 标签：java, android, pdf, metadata

我目前正在构建一个在 ListView 中显示一组 pdf 文件的 android 应用程序。除了显示文件名之外，我还想从 pdf 的元数据中获取标题并将其显示在列表中，如果文件没有设置标题，则只需使用文件名。我正在使用 iText atm，这就是我所拥有的：

```
File[] filteredFiles = root.listFiles(filter);
for (int i=0;i<filteredFiles.length;i++) {
    try {                   
        File f = filteredFiles[i];                  
        PdfReader reader = new PdfReader(f.getAbsolutePath());
        String title = reader.getInfo().get("Title");
        reader.close();

        //Do other stuff here...
    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

这很好用，它得到了我想要的数据，但它很慢。此外，如果文件超过 2MB，有时我会出现内存崩溃。有没有更好的方法来做到这一点？也许是一种无需实际打开 pdf 文件即可获取元数据的方法？

非常感谢任何帮助，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-16T20:53:24.197

You can try fast [PDFParse](https://github.com/agolinko/pdfparse) library. It optimized for performance & small memory consumption.

```
File[] filteredFiles = root.listFiles(filter);
for (int i=0;i<filteredFiles.length;i++) {
    try {                   
        File f = filteredFiles[i];                  
        PDFDocument reader = new PDFDocument(f.getAbsolutePath());
        String title = reader.getDocumentInfo().getTitle();
        reader.close();

        //Do other stuff here...
    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

# haskell - 如何过滤此列表？

> ID：11932084
> 
> 赞同：1
> 
> 时间：2012-08-13T10:04:33.747
> 
> 标签：haskell

我有`[a]`那个可以转换为`[b]`. 每个`a`都是不同的，但每个都`b`可能不是。我想过滤我`[a]`的条件，即过滤`[a]`后转换为`[b]`.

有人可以帮助我实现这一目标吗？

**编辑**

作为帮助，我将提供一个示例。

```
as = [1..10]
conv = even
bs = map even as
-- bs = [False,True,False,True,False,True,False,True,False,True]
-- filter <cond> as -- [1,2] 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-13T10:23:23.753

假设这是从 转换为`f`的函数。然后，您可以分三个步骤进行：`a``b`

1.  您将列表中的每个元素与其下的图像配对`f`：`map (id &&& f)`
2.  您删除第二个元素已经出现在现在获得的列表中的每一对`nubBy (on (==) snd)`：
3.  您删除每对的第二个组件：`map fst`.

因此：

```
import Control.Arrow ((&&&))
import Data.Function (on)
import Data.List (nubBy)

filterOn :: Eq b => (a -> b) -> [a] -> [a]
filterOn f = map fst . nubBy ((==) `on` snd) . map (id &&& f) 
```

例如：

```
> filterOn even [1 .. 10]
[1,2] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:52:38.527

`cond :: a -> Bool`仅使用函数`filter`（即使用`(filter cond) [1..10]`yielding ）是不可能做到这一点的`[1,2]`。

问题是只`filter`查看数组中的每个元素一次，并且您没有关于先前元素的信息。

# xcode - 如何根据 Xcode 中的配置链接到不同的静态二进制文件？

> ID：11932087
> 
> 赞同：1
> 
> 时间：2012-08-13T10:04:55.430
> 
> 标签：xcode, build, linker, static-linking

我有一个既有调试版本又有发布版本的库，如何让 Xcode 根据当前配置（调试/发布）链接到相应的库？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-21T14:17:14.123

我有同样的问题，除了框架而不是静态库。为不同的配置提供不同的框架搜索路径并为两种配置执行 -framework YourFramework.framework 应该可以工作，但似乎不太干净。（或与静态库相同的方法）

# ruby-on-rails - Rails - 获取当前星期和月份的开始和结束日期

> ID：11932091
> 
> 赞同：33
> 
> 时间：2012-08-13T10:05:10.373
> 
> 标签：ruby-on-rails, datetime

我是 ruby​​ on rails 的新手，被日期卡住了。我用来`Time.now`获取当前时间。现在我想找出当周和当月的 srart 和结束日期。例如：

如果`Time.now`返回我 -

```
2012-08-13 15:25:35 +0530 
```

那么本周的开始和结束日期是：

```
2012-08-12 - 2012-08-18 
```

那么当月的开始和结束日期是：

```
2012--08-01 - 2012-08-31 
```

我正在使用代码实现相同的功能：

```
Time.now.wday   
 => 1 

Time.now - 1.day
=> 2012-08-12 15:31:44 +0530 

Time.now + 5.day
 => 2012-08-19 15:32:38 +0530 
```

等等..但我觉得这样做不是一种方便的方法。我确信 Ruby on Rails 确实拥有更好的解决方案。任何人都可以建议找出相同的..

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2012-08-13T10:24:21.110

而不是使用 Time.now

使用以下代码解决您的查询

```
d = Date.today

d.at_beginning_of_week
#Mon, 13 Aug 2012
d.at_beginning_of_week.strftime
#"2012-08-13"
d.at_beginning_of_week.strftime("%d")
#"13" -> To print the date. 
```

同样，您可以在[Date 类中找到多种方法](http://api.rubyonrails.org/classes/Date.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-13T10:16:01.237

查看日期类：

[http://api.rubyonrails.org/classes/Date.html](http://api.rubyonrails.org/classes/Date.html)

方法 begin_of_* 和 end_of_* 看起来正是您所追求的。对于一周，您甚至可以通过您认为一周开始的哪一天。

# c# - 从十六进制数据确定协议类型

> ID：11932094
> 
> 赞同：0
> 
> 时间：2012-08-13T10:05:27.943
> 
> 标签：c#, .net, parsing, soap, protocols

如何仅通过查看十六进制数据来确定我收到的十六进制数据是从肥皂协议生成的消息。例如，如果这是我得到的：

3c:73:3a:45:6e:76:65:6c:6f:70:65:20:78:6d:6c:6e:73:3a:73:3d:22:68:74:74:70: 3a:2f:2f:73:63:68:65:6d:61:73:2e:78:6d:6c:73:6f:61:70:2e:6f:72:67:2f:73:6f: 61:70:2f:65:6e:76:65:6c:6f:70:65:2f:22:3e:3c:73:3a:42:6f:64:79:20:78:6d:6c: 6e:73:3a:78:73:69:3d:22:68:74:74:70:3a:2f:2f:77:77:77:2e:77:33:2e:6f:72:67: 2f:32:30:30:31:2f:58:4d:4c:53:63:68:65:6d:61:2d:69:6e:73:74:61:6e:63:65:22: 20:78:6d:6c:6e:73:3a:78:73:64:3d:22:68:74:74:70:3a:2f:2f:77:77:77:2e:77:33: 2e:6f:72:67:2f:32:30:30:31:2f:58:4d:4c:53:63:68:65:6d:61:22:3e:3c:53:65:74: 4e:61:74:69:6f:6e:61:6c:4c:69:73:74:20:78:6d:6c:6e:73:3d:22:68:74:74:70:3a: 2f:2f:77:77:77:2e:6c:67:65:2e:63:6f:6d:2f:64:64:63:22:3e:3c:6e:61:74:69:6f: 6e:61:6c:4c:69:73:74:3e:3c:70:6f:72:74:6e:75:6d:62:65:72:3e:36:30:30:30:3c: 2f:70:6f:72:74:6e:75:6d:62:65:72:3e:3c:73:6c:61:76:65:61:64:64:72:65:73:73: 3e:37:30:30:30:3c:2f:73:6c:61:76:65:61:64:64:72:65:73:73:3e:3c:66:6c:61:67:7a:6f:6e:65:3e:32:3c:2f:66:6c:61: 67:7a:6f:6e:65:3e:3c:66:6c:61:67:69:6e:64:69:76:69:73:75:61:6c:3e:35:3c:2f: 66:6c:61:67:69:6e:64:69:76:69:73:75:61:6c:3e:3c:66:6c:61:67:64:69:6d:6d:69: 6e:67:3e:33:3c:2f:66:6c:61:67:64:69:6d:6d:69:6e:67:3e:3c:66:6c:61:67:70:61: 74:74:65:72:6e:3e:36:3c:2f:66:6c:61:67:70:61:74:74:65:72:6e:3e:3c:66:6c:61: 67:67:72:6f:75:70:3e:39:3c:2f:66:6c:61

我的应用程序需要能够仅通过查看十六进制数据来确定这是一条肥皂消息。（就好像你把上面的数据转换成ASCII一样，得到的就是这个：）

```
<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"><s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><SetNationalList xmlns="http://www.lge.com/ddc">
   <nationalList>
      <portnumber>6000</portnumber>
      <slaveaddress>7000</slaveaddress>
      <flagzone>2</flagzone>
      <flagindivisual>5</flagindivisual>
      <flagdimming>3</flagdimming>
      <flagpattern>6</flagpattern>
      <flaggroup>9</flaggroup>
    </nationalList>
</SetNationalList></s:Body></s:Envelope> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:11:34.053

好吧，它只是文本 -> 十六进制，所以如果你寻找

```
78:6d:6c:6e:73:3a:73:3d:22:68:74:74:70:3a:2f:2f:73:63:68:65:6d:61:73:2e:78:6d:6c:73:6f:61:70:2e:6f:72:67:2f:73:6f:61:70:2f:65:6e:76:65:6c:6f:70:65:2f:22 
```

你会匹配

```
xmlns:s="http://schemas.xmlsoap.org/soap/envelope/" 
```

这是肥皂的定义。

# google-chrome - 无法使用 Chrome 实验性开发工具 API

> ID：11932096
> 
> 赞同：3
> 
> 时间：2012-08-13T10:05:31.173
> 
> 标签：google-chrome, google-chrome-extension, google-chrome-devtools

我正在尝试使用 Chrome Experimental Devtools API。

我尝试使用以下命令运行 C​​hrome：--enable-experimental-extension-apis，如下所示：http: [//developer.chrome.com/extensions/experimental.html](http://developer.chrome.com/extensions/experimental.html)并在标志设置中启用了“实验扩展 API”。

当我在 Chrome（或 Canary）中打开控制台时，我得到以下信息：

*   chrome.devtools：未定义
*   chrome.experimental：未定义

我正在运行 Chrome 21.0.1180.77 beta-m。我也试过金丝雀。

我错过了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-21T05:52:30.520

如此处所述：http: [//developer.chrome.com/extensions/devtools.html，chrome.devtools](http://developer.chrome.com/extensions/devtools.html) API 仅在您的 devtools HTML 页面中可用。

首先，您需要创建一个 HTML 文件，然后将其添加到“devtools_page”键下的扩展清单中。当您将扩展程序加载到 Chrome 并打开 DevTools 时，您应该会看到您的新选项卡。

在该选项卡中是 chrome.devtools 唯一可以工作的地方。

chrome.experimental 是不同的，它将在您的所有背景页面和内容脚本中可用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-15T07:53:54.270

您只需要在 Canary 中运行它。另外，当您运行 chrome 时，将此标志添加到命令行：

```
path_to_chrome.exe --enable-experimental-extension-apis 
```

# android - android在运行时更新视图

> ID：11932098
> 
> 赞同：2
> 
> 时间：2012-08-13T10:05:34.380
> 
> 标签：android, layout, refresh

我有一个自定义的 imageView，我在运行时更改了它的背景可绘制。图像没有相同的高度，当资源具有更高的高度时，上边距不会自行更新（如果上边距为 2 dp，并且在我将另一个资源设置为更高的背景为 2 后，上边距变为 0因为布局尚未更新）。如何强制布局在运行时自行更新，而不是在未来安排布局传递？我试过：

```
imageView.invalidate()
imageView.requestLayout()
imageView.forceLayout()
parent.updateViewLayout(imageView, layoutParams) 
```

但这些方法都不起作用。只有在我切换设备的方向后才会更新布局。您对如何在运行时强制刷新布局有任何想法吗？

# validation - 表单中的验证检查器城市

> ID：11932099
> 
> 赞同：0
> 
> 时间：2012-08-13T10:05:38.950
> 
> 标签：validation, city

我正在做一个项目，我需要表单中的城市检查器。我有一个表单，其中用户输入国家和城市，我为国家/地区下拉，但对于城市，它必须是长下拉，所以我决定进行“城市验证检查器”。因此，当用户键入城市表单时，自动检查城市是否正确。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:15:53.303

我建议您改用某种可搜索的选择框。那里有很多例子：http: [//harvesthq.github.com/chosen/](http://harvesthq.github.com/chosen/)

[http://jsearchdropdown.sourceforge.net/](http://jsearchdropdown.sourceforge.net/)

# css - 在css中的div下定位图像

> ID：11932100
> 
> 赞同：2
> 
> 时间：2012-08-13T10:05:53.247
> 
> 标签：css, positioning

我有一个关于两个对象定位的问题：图像和 div。**我希望 bg2.png 图像留在 div 下。**我一直遇到图像将 div 向下按 img 的高度的问题。我该如何避免呢？

我尝试用“top：”值按下图像，但当然它让我在 div 上方留有空白区域。我还尝试向“maincontent” div 添加负“top：”值和相对位置，但它又给我留下了空白区域，唯一的区别是这次它在 div 下。

**HTML：**

```
<body>
 <img src="./images/bg2.png" class="bgimg" />
 <div id="maincontent">
 </div>
</body> 
```

**CSS：**

```
body {
    width: 100%;
    background: #000;
}
.bgimg {
    z-index: -1;
    overflow: hidden;
    left: 70px;
    position: relative;
    display: block;
}
#maincontent {
    height: 520px;
    width: 960px;
    margin: 20px auto;
    display: block;
    z-index: 8;
} 
```

提前致谢。

编辑 - 我想要实现的目标： [点击我！](http://oi48.tinypic.com/2iihldw.jpg)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T10:16:12.053

2个解决方案：

更改您的 HTML 结构：

```
<body>
 <div id="maincontent">
 </div>
 <img src="./images/bg2.png" class="bgimg" alt="some">
</body> 
```

或将其作为背景图像：

```
<body>
  <div id="maincontent">
  </div>
</body>

#maincontent {
 background: url(./images/bg2.png) no-repeat 0 100%;
 padding-bottom: height_of_image_in_px;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:21:55.620

```
<style>
body {
    width: 100%;
    background: #000;
}
.bgimg {
    z-index: -1;
    overflow: hidden;
    left: 70px;
    position: relative;
    display: block;
}
#maincontent {
    height: 520px;
    width: 960px;
    margin: 20px auto;
    display: block;
    z-index: 8;
}

</style>

<body>

 <div id="maincontent">
     <img src="./images/bg2.png" class="bgimg" alt="some info about image here">
 </div>
</body> 
```

如果你想在 div 中使用该图像，请使用此代码。或者如果你想让那个 div 的图像背景使用 css background 属性

# mysql - 检测 mysql 数据库中的更改

> ID：11932104
> 
> 赞同：0
> 
> 时间：2012-08-13T10:06:00.987
> 
> 标签：mysql

我有别人的代码，还有一个数据库。为了理解代码，我想看看如果我运行一个特定的 php 进程，哪些表会在 db.xml 中更新。像我启动一个监听器然后执行这个过程。之后，listner 将向我显示数据库中发生的更改列表。这可能吗？注意：据我了解，mysql TRIGGER 做了类似的事情，但它是针对特定表的，并且触发器也会将行添加到另一个表中。我只是想要一个更改日志之类的东西。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:13:49.230

您可以使用日志记录 - 打开它，运行代码，关闭它，然后查看日志文件。

本文将向您介绍如何执行此操作：http: [//www.howtogeek.com/howto/database/monitor-all-sql-queries-in-mysql/](http://www.howtogeek.com/howto/database/monitor-all-sql-queries-in-mysql/)

# playframework-2.0 - 播放框架，每个模型插入初始数据超过20个项目

> ID：11932111
> 
> 赞同：1
> 
> 时间：2012-08-13T10:06:17.927
> 
> 标签：playframework-2.0, yaml, ebean

在Play框架的开发模式下，我通过Global.java插入了我的initial-data.yml。但是，如果一个模型有超过 20 个项目，自动生成的 ID 就会变得疯狂。

例如，如果我有：

```
computers:
- !!models.Computer
    name: apple01
- !!models.Computer
    name: apple02
- !!models.Computer
    name: apple03
- !!models.Computer
    name: apple04
       ...
- !!models.Computer
    name: apple20
- !!models.Computer
    name: apple21
- !!models.Computer
    name: apple22 
```

从 1 到 20，他们按照我插入的顺序获得了正确的自动生成的 ID。但是，在 20 岁之后，我无法获得我想要的 ID。例如，名称为“apple22”的项目的自动生成 ID 为 34。这很奇怪。有谁知道为什么会这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-14T18:45:32.737

我希望它是[批量获取序列](http://www.avaje.org/doc/ebean-userguide.pdf)（第 10 节）和多个线程/连接，但问题中没有足够的信息可以说明。

然而，一个更有用的答案可能是问 - 你为什么关心？格格不入并不意味着不正确。像这样顺序生成的 ID 应该是内部不透明的标识符，仅用于连接和完整性等。不要依赖于它们是按时间排序或无间隙的，也不要将您的应用程序暴露给它们。如果您需要具有特定特征的关键字段，最好定义另一个。

# c# - System.Security.Cryptography.CryptographicException：句柄无效

> ID：11932116
> 
> 赞同：6
> 
> 时间：2012-08-13T10:06:36.817
> 
> 标签：c#, asp.net, asp.net-mvc-3, sendmail

我在通过 C# 发送邮件时遇到异常

```
SmtpClient client = new SmtpClient() 
```

作为**System.Security.Cryptography.CryptographicException：句柄无效。**

```
MailMessage mail = new MailMessage(from,to);

            mail.To.Add(to);
            mail.From = new MailAddress(from, "", System.Text.Encoding.UTF8);

            mail.Subject = "This is a test mail";

            mail.SubjectEncoding = System.Text.Encoding.UTF8;

            mail.Body = fr.message;

            mail.BodyEncoding = System.Text.Encoding.UTF8;

            mail.IsBodyHtml = true;

            mail.Priority = MailPriority.High;

            SmtpClient client = new SmtpClient();

            //Add the Creddentials- use your own email id and password
            client.Credentials = new System.Net.NetworkCredential(from, Password);

            client.Port = 587; // Gmail works on this port

            client.Host = "smtp.gmail.com";

            client.EnableSsl = true; //Gmail works on Server Secured Layer

                client.Send(mail); 
```

我不明白为什么会这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-05T02:00:58.860

检查您的项目设置并确保您已检查 NTLM 身份验证：

![在此处输入图像描述](../Images/6b3a9353081b649dcf28e69db53f089d.png)

# php - PHP SoapClient - 可能的名称间距问题 - 非 wsdl 模式

> ID：11932117
> 
> 赞同：2
> 
> 时间：2012-08-13T10:06:40.253
> 
> 标签：php, web-services, soap, wsdl

我以前设法使用 PHP 的 SoapClient 库调用 .NET 服务而没有太多问题，但现在我面临必须以非 WSDL 模式访问相同服务的情况。

我似乎或多或少地创建了正确的 XML 结构以发送到服务，但服务器似乎没有接收到我发送的变量。

根据 SOAPUI 的输出，我应该尝试生成以下 SOAP 调用：

```
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:int="http://someservices.com/">
   <soapenv:Header/>
   <soapenv:Body>
      <int:getService>
         <int:foo>String value for foo</int:foo>
         <int:bar>String value for bar</int:bar>
      </int:getService>
   </soapenv:Body>
</soapenv:Envelope> 
```

我使用 SOAPClient 生成的输出是：

```
<?xml version="1.0" encoding="UTF-8"?> <env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope" xmlns:ns1="http://someservices.com" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:enc="http://www.w3.org/2003/05/soap-encoding">
<env:Body>
        <ns1:getService env:encodingStyle="http://www.w3.org/2003/05/soap-encoding">
            <foo xsi:type="xsd:string">String value for foo</foo>
            <bar xsi:type="xsd:string">String value for bar</bar>
        </ns1:getService>
    </env:Body>
</env:Envelope> 
```

从 .NET 服务返回的错误是“预期的栏！” - 至少表明该服务没有使用我的第二个参数。

我正在使用以下内容构建我的肥皂电话：

```
$foo = 'String value for foo';
$bar = 'String value for bar';    

$options = array(
                     'trace' => 1,
                     'exceptions' => 1,
                     'uri' => 'http://someservices.com',
                     'soapaction' => 'http://someservices.com/getService',
                     'soap_version' => SOAP_1_2,
                     'type_map' => array('type_ns' => 'int')
                     );

$response = $soapclient->__soapCall('getService', array( new SoapParam($foo, 'foo'), new SoapParam($bar, 'bar')), $options); 
```

我不确定问题是什么。现在我猜这可能是一个 xmlns 属性问题。请注意，SOAPUI 调用在函数调用和参数前面指定了 int:。我试图指定这个 xmlns 但没有运气。如您所见，由 Soap Client 调用生成的 xmlns 是：

```
xmlns:ns1 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T12:29:57.003

事实证明，将命名空间标记为 ns1 而不是 int 不是问题。

问题是 getService 参数以命名空间 ns1 为前缀，而变量 foo 和 bar 没有。

因此，通过将“ns1:”附加到soapCall 函数中的Soap 参数来解决此问题，如下所示：

```
$response = $soapclient->__soapCall('getService', array( new SoapParam($foo, 'ns1:foo'), new SoapParam($bar, 'ns1:bar')), $options); 
```

# android - 无法在没有用户单击的情况下以编程方式打开 optionsMenu

> ID：11932118
> 
> 赞同：5
> 
> 时间：2012-08-13T10:06:40.763
> 
> 标签：android, menu, optionmenu

在我的项目中，我试图以编程方式打开**optionsMenu**，而无需单击用户的**菜单**键。我试过 **openOptionsMenu()**但它给了我一个像这样的错误**android.view.WindowManager$BadTokenException: Unable to add window -- ..**为什么会这样......解决方案是什么......

08-13 14:53:02.687: E/AndroidRuntime(1213): 致命异常: main 08-13 14:53:02.687: E/AndroidRuntime(1213): java.lang.RuntimeException: 无法启动活动 ComponentInfo{com. veytila.candideye/com.veytila.candideye.MainActivity}：android.view.WindowManager$BadTokenException：无法添加窗口--令牌空无效；您的活动正在运行吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:34:37.333

感谢您的回复.....我从 Mr.Nandeesh 的帖子中找到了解决方案。我刚刚添加了以下代码及其工作...

```
 public void onResume()
{
    new Handler().postDelayed(new Runnable() { 
       public void run() { 
           openOptionsMenu(); 
       } 
    }, 500); 

    super.onResume();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:12:00.083

我相信您是在 Oncreate 或 onResume 中执行此操作的。只有在初始化活动窗口后，您才需要调用此 api。一种方法是将 onresume 中的延迟可运行文件发布到 ui 线程。

# internationalization - Drupal7：上下文过滤器如何：内容：Nid 在 Views3 中返回 TNID 而不是 NID

> ID：11932119
> 
> 赞同：0
> 
> 时间：2012-08-13T10:06:44.410
> 
> 标签：internationalization, drupal-7, drupal-views, contextual-binding

我有一个***上下文过滤器： Content: Nid*** in Views3 我想*在过滤器值不可用时*返回 TNID 而不是 NID 。

我试过

```
$node=node_load($argument);
$argument = $node->tnid;
return $argument; 
```

或者

```
$node=node_load(arg(1));
$argument = $node->tnid; // bzw. $argument(1) = $node->tnid;
return $argument; 
```

和其他来自*提供默认值：PHP 代码*字段。没有任何效果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:47:30.383

通过将此代码添加到 page.tpl.php 解决了问题

```
$imagemenuview = views_get_view('projectimagemenu');
echo $imagemenuview->preview('block', array($node->tnid)); 
```

但仍然对使用*上下文过滤器的解决方案感兴趣：内容：Nid*返回 TNID 而不是 NID*当过滤器值不可用时*

# java - 我想使用java发送邮件而不会延迟

> ID：11932121
> 
> 赞同：2
> 
> 时间：2012-08-13T10:06:48.403
> 
> 标签：java, jakarta-mail

我正在使用 javaMail API 发送邮件我的代码工作正常但问题是在发送邮件时发送邮件需要时间（延迟时间接近 15 到 20 秒），这就是我的应用程序出现故障的原因。我想在发送邮件时不花任何时间发送邮件。请给出一个想法

这是我的代码：

```
public class sendMail {

public static void main(String[] args) {
    Properties props = new Properties();
    props=System.getProperties();
    props.put("mail.smtp.host", "smtp.gmail.com");
    props.put("mail.smtp.socketFactory.port", "465");
    props.put("mail.smtp.socketFactory.class","javax.net.ssl.SSLSocketFactory");
    props.put("mail.smtp.auth", "true");
    props.put("mail.smtp.port", "587");

    String mail="XYZ@gmail.com";

    Session session = Session.getDefaultInstance(props,
        new javax.mail.Authenticator() {
            protected PasswordAuthentication getPasswordAuthentication() {
                return new PasswordAuthentication("abc@gmail.com","********");
            }
        });

    try {
    String emails="xyz@gmail.com"+","+"xyz.kannoju@vxyz.com";
        Message message = new MimeMessage(session);
        message.setFrom(new InternetAddress("xyz.rajender@gmail.com"));
        message.setRecipients(Message.RecipientType.TO,
                InternetAddress.parse(emails));
        message.setSubject("Testing Subject");
        message.setText("Dear Rejender," +
                "\n\n Please find the like!");

    //Transport.send(message);
        Transport tr=session.getTransport("smtp");
        //tr.sendMessage(message, message.getRecipients(message.));
        tr.send(message);
        tr.close();
//Transport         

        System.out.println("Done");

    } catch (MessagingException e) {
        throw new RuntimeException(e);
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T10:10:06.267

您可以在自己的线程中运行需要太多时间的方法，从而允许您的主程序继续执行其他操作：

```
new Thread(new Runnable() {
    public void run() {
        tr.send(message);
        tr.close();
    }
}).start(); 
```

ps：你需要 make`tr`和`message`final 并且你需要在 run 方法中添加一些错误处理。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T11:18:42.183

发送电子邮件不提供有关交货时间的任何保证或期望。JavaMail API 不会对进程强加或添加任何延迟，它会立即将电子邮件发送到指定的 SMTP 服务器。从那里到电子邮件被转发到实际收件人的邮箱需要多长时间，这是您无法控制的。根据具体情况，消息可能必须通过多个中间服务器，并且可能会或可能不会在传输过程中的多个点进行处理（病毒检查等）。

如果您有特定的要求，即您的消息必须在一定时间内送达，那么电子邮件是一个非常糟糕的传输选择。我的建议是，重新考虑您的架构以接受可变的、非确定性的交付时间，或者考虑使用其他提供同步通信的消息传递方法是否可行。

# events - Backbone.js 如何在事件中使用变量作为选择器

> ID：11932125
> 
> 赞同：4
> 
> 时间：2012-08-13T10:06:52.827
> 
> 标签：events, variables, backbone.js, selector

在 Backbone.js 中，我尝试使用变量作为选择器来绑定到这样的事件：

```
events: function() {
    var _events = {};
    _events["click " + "#plus-" + this.options.count] = "add";
    return _events;
} 
```

有些（或不止一件）事情一定是错的，因为 Backbone 似乎忽略了它。

我在这里看到的大多数示例都使用类而不是 id 选择器。这有什么原因吗？

提前致谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-13T10:36:54.230

我不得不说我不明白这个*动态事件声明*的需要。但我想你有你的理由。

我如何想出一个看起来像这样的工作解决方案：

```
// html
<div id="container">
    <button id="button-1">button 1</button>
    <button id="button-2">button 2</button>
</div>​

// js
var View = Backbone.View.extend({
    events: function(){
        var _events = {};
        _events["click " + "#button-" + this.options.count] = "buttonClick";
        return _events;
    },
    buttonClick: function(){
        console.log( "click() on button " + this.options.count );
    }
});

var view1 = new View({
    el: $('#container'),
    count: 1
});

var view2 = new View({
    el: $('#container'),
    count: 2
}); 
```

检查[工作的 jsFiddel](http://jsfiddle.net/fguillen/PLXXz/)

所以，要么我遗漏了一些东西，要么问题出在其他地方。

关于使用`class`或`id`在您的*事件 css 选择器*中，这完全取决于您。

# git - 我需要哪些信息来证明整个 Git 存储库的完整性？

> ID：11932129
> 
> 赞同：4
> 
> 时间：2012-08-13T10:07:02.890
> 
> 标签：git

每个分支尖端的哈希值是否足以证明我的整个存储库的完整性？为了便于讨论，假设您必须将整个存储库提供给某人，让他们为所欲为，并确定他们是否更改了哪怕是 1 位数据。你会怎么做？

如果我要推送到上游的裸存储库，这是我需要保证的所有数据，我可以在以后验证整个存储库的完整性吗？

```
git ls-remote --heads origin

fcce961b46784fae13be8a30c2622ddd34d970ec        refs/heads/develop
9da7bb692a72235451706f24790a3f7a100a64e2        refs/heads/feature-netty-testing
86020c50d86691caecff4a55d3b1f2f588f6291d        refs/heads/javafx-testing
871d715e5c072b1fbfacecc986f678214fa0b585        refs/heads/master
7ed641c96d910542edeced5fc470d63b8b4734f0        refs/heads/orphan-branch 
```

那来自我用来玩的沙盒存储库。这`orphan-branch`是我故意孤立的分支，如此处[所述](https://stackoverflow.com/questions/1384325/in-git-is-there-a-simple-way-of-introducing-an-unrelated-branch-to-a-repository)。一切对我来说似乎都是正确的。列出了我期望的所有分支，但如果每个分支提示的 SHA 都是我所需要的，我并不肯定。我错过了什么吗？

标签呢？那些没有合并到任何东西就被删除的分支呢？

## 更新

正如一些评论中指出的那样，除了可能需要考虑的头部之外，可能还有其他参考。例如，根据它们对您是否重要或您是否正在签署标签，可能有用`tags`。`notes`对我自己来说，我主要对提交的内容感兴趣，这就是我接受 VonC 回答的原因。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-13T10:38:12.480

就完整性而言，这似乎足够了。
标签引用提交，因此如果提交更改，a`git fsck`将检测标签与其不存在的提交之间的不一致。

请注意，完整性不同于信任（即为内容担保）
为此，“ [Git 恐怖故事：带有签名提交的存储库完整性](http://mikegerwitz.com/docs/git-horror-story.html)”具有指导意义。

首先它的“[提交历史](http://mikegerwitz.com/docs/git-horror-story.html#commit-history)”部分详细介绍了 SHA-1 完整性背后的理论（也在“ [Git 和数据完整性](http://alhad.net/blog/?p=34)”中进行了介绍，并总结为：

> 也就是说，重要的是要了解，只有在无法创建**[哈希冲突](https://en.wikipedia.org/wiki/Hash_collision)**时才能保证存储库的完整性——也就是说，如果攻击者能够使用不同的数据创建相同的 SHA-1 哈希，那么子提交（s ) 仍然有效，并且存储库将被成功破坏。
> [自 2005 年以来，SHA-1 中的漏洞就已为人所知，这些漏洞](http://www.schneier.com/blog/archives/2005/02/cryptanalysis_o.html)使得哈希的计算[速度比蛮力更快](http://www.schneier.com/blog/archives/2005/02/sha1_broken.html)，尽管利用这些漏洞并不便宜。
> 鉴于此，虽然您的存储库目前可能是安全的，但在未来某个时刻，SHA-1 将被视为与今天的 MD5 一样残缺。

# linux - 与排序命令不一致的答案

> ID：11932134
> 
> 赞同：0
> 
> 时间：2012-08-13T10:07:23.070
> 
> 标签：linux, bash

我正在使用*sort*根据字母顺序对文件的行进行排序，但我得到了一些奇怪的结果。我以为它是使用字符的十进制代码对它们进行排序，但它看起来不像。即“E”（解码代码 69）在“e”（解码代码 101）之后，“0”（代码 48）在“：”（代码 58）之后。
我试着用

```
if [[ "E" < "e" ]]; then echo "true"; else echo "false"; fi 
```

和

```
if [[ "0" < ":" ]]; then echo "true"; else echo "false"; fi 
```

检查它是否给了我正确的答案，但事实并非如此。我正在开发 ubuntu 12.04，我的环境编码和我试图排序的文件被定义为 en_us.UTF-8。

问题是我必须在java程序中解析这些文件，假设这些行是按字母顺序排序的。所以，当java根据字符的十进制代码比较字符串时，我的解析失败了，因为文件中的行没有按照相同的顺序排序。

有人可以通过强制*排序*使用十进制代码来帮助我解决这个问题，或者通过使用另一种方式根据此顺序对文件进行排序。

非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:11:18.623

**手册中的警告**。

```
 *** WARNING *** The locale specified by the  environment  affects  sort
   order.  Set LC_ALL=C to get the traditional sort order that uses native
   byte values. 
```

尝试这个：

```
$ LC_ALL=C sort input.txt 
0
:
E
e 
```

（`$`是shell提示符）

# objective-c - 核心动画：使内容跟随阴影路径

> ID：11932135
> 
> 赞同：1
> 
> 时间：2012-08-13T10:07:22.950
> 
> 标签：objective-c, ios, core-animation, calayer

我有一个 CALayer 的动画阴影路径：

```
CABasicAnimation* shadowAnimation = [CABasicAnimation animationWithKeyPath: @"shadowPath"];
shadowAnimation.duration = duration;
shadowAnimation.timingFunction = function;
shadowAnimation.fromValue = (id) panelView.layer.shadowPath;

panelView.layer.shadowPath = [UIBezierPath bezierPathWithRoundedRect: CGRectSetOriginM20 (panelView.bounds, CGPointZero) cornerRadius: cornerRadius].CGPath;
[panelView.layer addAnimation: shadowAnimation forKey: @"shadow"];
panelView.layer.shadowOpacity = 1.0; 
```

我需要通过将 CALayer 的内容属性设置为 UIImage 来使用资产重新创建相同的效果。有没有办法让`bounds`跟随的动画和阴影一样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:34:34.043

不，您不能使内容遵循阴影路径。

相反，您必须将阴影路径和边界设置在一起。这可以在动画组中完成，因此您只能在组上配置定时功能和持续时间。

```
CAAnimationGroup* shadowAndBounds = [CAAnimationGroup animation];
shadowAndBounds.duration = duration;
shadowAndBounds.timingFunction = function;

CABasicAnimation* shadowAnimation = [CABasicAnimation animationWithKeyPath: @"shadowPath"];
// Set to and from value for the shadow path ...

CABasicAnimation* boundsAnimation = [CABasicAnimation animationWithKeyPath: @"bounds"];
// Set to and from value for the bounds ...

shadowAndBounds.animations = @[ shadowAnimation, boundsAnimation ];
[panelView.layer addAnimation: shadowAndBounds forKey: @"shadowAndBounds"]; 
```

# php - Ubuntu Web 服务器上 CodeIgniter 的文件权限

> ID：11932138
> 
> 赞同：2
> 
> 时间：2012-08-13T10:07:42.867
> 
> 标签：php, linux, apache, ubuntu, file-permissions

我有一个 CodeIgniter 应用程序在 Ubuntu 11.10 上使用 PHP 5.3 在 Apache 2.2 上运行。如果这很重要，我也在运行 PHP5-APC。所以应用程序`www-data:www-data`按照默认的 Apache2 安装运行。

我正在试图弄清楚将我的文件权限设置为什么。SO上的许多线程似乎更喜欢`755`目录和`644`文件。有一个目录必须允许文件上传到它。

目前我的部署脚本是这样的：

*   擦除旧网站
*   复制新网站
*   `chmod -R 000`在新网站上
*   `chmod`所有目录到`500`
*   `chmod`所有文件到`400`
*   `chmod 700`在上传目录

一切似乎都很好。我可以上传文件等等..所以，我不明白为什么人们建议`644`文件 - 我有一个包含密码和 API 密钥的配置文件 - 为什么我希望“其他人”能够读取它？

我有什么误解？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T10:18:04.053

好吧，主要`644`是当您拥有`/var/www/site1.com`不同的用户和组集时，权限才适用`www-data`，因为这样`644`将允许其他组和用户从该文件中**读取**，但将允许**读取**和**写入**文件的所有者。

默认情况下，上传文件和运行 apache 进程的用户是`www-data`我老实说，如果它对你有用并且你没有问题，那就太好了，因为这意味着更多的安全性。

## 更新

只是一个小的安全问题，它`www-data`已成为`http`服务运行其进程的非常常见的用户和组。我强烈建议每个站点/应用程序都有自己的用户和组。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T10:19:35.897

*44 和 *55 仅表示文件/文件夹可以被其他人读取。

如果说，您将文件上传到 Web 服务器，但由于某种原因它们归他人所有（例如您自己的登录帐户），那么 apache 仍然可以读取它们，这将是一件好事。或者，如果您需要多个组才能访问文件。

如果您知道您正在以 apache 用户的身份上传文件，并且 apache（或在 www-data 下运行的任何程序）是您能够读取/写入文件的全部，那么 *00 完全没问题。甚至可以说它更安全一些。

对于不知道自己在 linux 命令行上做什么的人来说，644 和 755 是“方便”和“安全”之间的正确组合（尽管完全值得商榷），所以它们是快速推荐的使固定。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-13T10:24:27.377

在进行共享主机时，您拥有通过 FTP 上传 php 文件的用户帐户。因此，当用户“joe”上传他的 .php 文件时，它归“joe”所有，当 Apache 需要读取它来执行脚本时，它不能。用户通常在“用户”组中，因此即使授予该组权限也不够。这就是为什么你需要赋予每个人权限，以便用户“www-data”可以读取“joe”上传的文件。

如果您运行自己的服务器，当然，您拥有完全的控制权，这些都不重要。

# html - Kinetic.JS - 为什么图层顺序更改会覆盖我的颜色？

> ID：11932144
> 
> 赞同：0
> 
> 时间：2012-08-13T10:08:07.920
> 
> 标签：html, canvas, layer, kineticjs

我目前正在玩 Kinetic.JS。我画了一个相当粗糙的 UFO 形状，分为两部分，一个船体（红色）和一个圆盘（灰色）。

**[演示 - JSBin](http://jsbin.com/osotil/2/edit)**

问题：**为什么我后来安排形状排序使船体在圆盘上方，圆盘奇怪地从灰色变为船体的红色？**

取消注释`moveToTop()`我的 JSBin 底部的行以了解我的意思。这是相关的（浓缩的）代码。

```
//ship hull
var hull = new Kinetic.Shape({
    drawFunc: function(ctx) {
        ctx.arc(game_dims.w / 2, game_dims.h * 0.6, game_dims.h * 0.45, 0, Math.PI, true);
        this.fill(ctx);
    },
    fill: 'red'
});

//ship disc
var disc = new Kinetic.Circle({
    x: game_dims.w / 2,
    y: game_dims.h * 0.6,
    radius: {x: game_dims.w * 0.45, y: 30},
    fill: '#888'
});

//draw
layer.add(hull);
layer.add(disc);
stage.add(layer);

//post-production
hull.moveToTop(); // <-- weirdness - changes disc colour!?
layer.draw(); 
```

我知道我可以以相反的顺序绘制两个形状以获得所需的顺序，但这不是我想要的这个问题 - 我对绘制后重新排列顺序感兴趣。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T14:19:44.573

您的船体绘制函数需要告诉上下文它正在绘制一条新路径：

```
function(ctx) {
        ctx.beginPath();
        ctx.arc(...);
        this.fill(ctx);
} 
```

通过添加`beginPath()`命令，您告诉上下文您实际上并没有添加到先前的路径，而是绘制了一个新路径。这也是`this.fill()`用红色填充先前形状的原因，因为在您的示例中，上下文在尝试填充它时仍然指的是圆盘

# zend-framework - zend 1.11.12 + 模块化结构 + 类 'Users_Form_Login' 未找到

> ID：11932147
> 
> 赞同：1
> 
> 时间：2012-08-13T10:08:14.023
> 
> 标签：zend-framework, zend-form, zend-autoloader

我正在制作我的第一个 zend 应用程序，但我遇到了自动加载模块的问题。此时我加载了一个表单，该表单保存在“用户”表单的“表单”中，但出现“致命错误”。这是我的配置：

应用程序.ini：

```
includePaths.library = APPLICATION_PATH "/../library"
bootstrap.path = APPLICATION_PATH "/Bootstrap.php"
bootstrap.class = "Bootstrap"
appnamespace = "Application"

resources.frontController.moduleDirectory = APPLICATION_PATH "/modules"
resouces.modules = ""
resources.frontController.params.displayExceptions = 1

;my library dir
autoLoaderNameSpaces.test = "Test_"

resources.view.helperPath.Zend_View_Helper = APPLICATION_PATH "/modules/default/views/helpers"

resources.layout.layoutPath = APPLICATION_PATH "/layouts/scripts"
resources.layout.layout = layout
resources.view.doctype = "HTML5" 
```

目录树：

```
application
-configs
-layouts
-modules
--default
--users
---controllers
----indexController.php -> class Users_IndexController extends Zend_Controller_Action
---forms
----Login.php -> class Users_Form_Login extends Zend_Form
---models
---views
---Bootstrap.php -> class Users_Bootstrap extends Zend_Application_Module_Bootstrap{}
--Bootstrap.php -> class Bootstrap extends Zend_Application_Bootstrap_Bootstrap{} 
```

. . .

在 Users_IndexController 的 indexAction() 中，我写道：

```
$form = new Users_Form_Login(); 
```

我得到这个错误：

```
Fatal error: Class 'Users_Form_Login' not found in [...]/application/modules/users/controllers/IndexController.php on line 39 
```

**编辑**

@Tim Fountain 的补充课程内容：

引导文件：

**在 Bootstrap.php 中：**

```
class Bootstrap extends Zend_Application_Bootstrap_Bootstrap
{
    protected function _initActionHelpers ()
        {
            $config = $this->getOptions();
            $acl = new Test_Acl($config['acl']);
            $aclHelper = new Test_Controller_Action_Helper_Acl(null, array('acl'=>$acl));
            Zend_Controller_Action_HelperBroker::addHelper($aclHelper);

        }
} 
```

**在 /Users/Bootstrap.php 中：**

```
class Users_Bootstrap extends Zend_Application_Module_Bootstrap
{

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:15:22.407

每个模块都有一个引导文件。在 users/Bootstrap.php 文件中，您是否为模块贴上了命名空间？

```
 /**
   * Sets up the autoloading for this module. This function must be first in the bootstrap else other bootstrap functions might not work.
   */
  protected function _initAutoload()
  {
    $autoloader = new Zend_Application_Module_Autoloader(array(
            'namespace' => 'Users_',
            'basePath' => APPLICATION_PATH . "/modules/users",
        ));
    return $autoloader;
  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:45:57.980

您的模块引导程序未运行，因为您的配置文件中有错字：

```
resouces.modules = "" 
```

应该

```
resources.modules = "" 
```

那么它应该可以工作。

**编辑**：在这种情况下，第一步是查看引导程序是否正在运行。编辑您的`modules/users/Bootstrap.php`课程并临时添加如下方法：

```
protected function _initTest()
{
    echo "User bootstrap run";
    exit;
} 
```

在浏览器中重新加载页面，如果正在运行引导程序，您应该会看到该消息。之后再删除。如果是，请仔细检查表单类的文件名和名称（区分大小写）。

# ruby - 我可以控制 IntelliJ 使用的 ruby gems 版本吗？

> ID：11932150
> 
> 赞同：0
> 
> 时间：2012-08-13T10:08:41.450
> 
> 标签：ruby, rubygems, intellij-idea, rubymine

我正在尝试使用 Ruby 插件在 IntelliJ 中启动 Rails 应用程序。

我已经尽可能地导入了应用程序并设置了运行配置。当我尝试运行它时，我收到错误：

```
NoMethodError: undefined method `version_requirements' for #<Gem::Dependency:0x7de21f45> 
```

在寻找答案时，我发现[这个页面](https://gist.github.com/807008)说我应该这样做：

```
$ gem install rubygems-update -v='1.4.2'
$ gem uninstall rubygems-update -v='1.5.0'
$ update_rubygems 
```

由于管理 gem 的是 IntelliJ 的 ruby​​ 插件，我假设我必须更改插件正在使用的 ruby​​gems-update 版本。

这是正确的方法吗？如果是这样，谁能告诉我该怎么做？

我尝试列出宝石，但该宝石没有显示，所以我不能在正确的位置列出宝石，但我不知道在哪里看。

非常感谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:32:05.700

IntelliJ IDEA 无法处理，您需要`rubygems`从命令行安装适当的版本。

请注意，您当前的`rubygems-update`版本可能不同，请`gem list`在卸载时使用报告的版本进行验证并使用。

# makefile - 将前缀参数传递给 Makefile 的最简单的“配置”脚本？（配置你好世界）

> ID：11932152
> 
> 赞同：1
> 
> 时间：2012-08-13T10:08:43.400
> 
> 标签：makefile, configure, autoconf, automake

我的最终目标是制作一个简单的 .deb 包。

为此，我已经阅读过，最好在项目的构建基础架构中提供 3 个构建阶段，而不是在 debian/ 文件夹中进行。

所以我需要的第一件事是一个配置脚本，但是我想要最简单的配置脚本，它只接收一个“--prefix”参数并将其值传递给 Makefile 系统（因此 makefile 的“安装”目标可以复制文件过去）。

我可以在不使用 autoconf 的情况下执行此操作吗？我知道 autoconf 很棒，但是对于最简单的配置阶段，我可能还不需要它那么糟糕。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T13:29:07.827

如果没有 autoconf，我不会这样做。您基本上是在说您想模仿 autoconf 的一种特定行为，而不知道 autoconf 添加的所有后果和相关行为。这违反了最小意外原则，因为用户（甚至您的 deb 工具）会期望相关行为（`DESTDIR`、`--exec-prefix`等）。只需使用自动配置。您可以使您的工作变得`configure.ac`非常简单：

```
AC_INIT([My App], [1.0], [my-email@me.com])
AM_INIT_AUTOMAKE([-Wall foreign])
AC_CONFIG_FILES([Makefile])
AC_OUTPUT 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T22:47:06.373

我最终使用了这个：

```
#!/usr/bin/env bash
prefix=NONE
test "$prefix" = NONE && prefix=/usr/local

usage ()
{
    echo ""
    echo "Usage : configure [--prefix=PREFIX]"
    echo ""
}

while test x$1 != x; do
    case $1 in
        --prefix=*)
            prefix=`echo $1 | sed 's/--prefix=//'`
            ;;
        --prefix)
            shift
            prefix=$1
            ;;
        --help)
            usage
            exit
            ;;
        *)
            echo Warning: unknown argument $1 >&2
            usage
            ;;
    esac
    shift
done

echo -n "SUBDIRS = " > config.make

echo Configuration Summary
echo ---------------------
echo
echo "MyApp has been configured with "
echo "    prefix = $prefix"
echo
echo >> config.make
echo

echo -n  "prefix=$prefix" >> config.make 
```

然后在 Makefile 中我需要做的第一件事是：

```
top_srcdir=.
CONFIG_MAKE=$(top_srcdir)/config.make

-include $(top_srcdir)/config.make 
```

如果有比这更好的解决方案，我会很感兴趣。

# c# - 如何卸载密码过滤器 dll？

> ID：11932153
> 
> 赞同：2
> 
> 时间：2012-08-13T10:08:45.300
> 
> 标签：c#, .net, windows, dll

我的 C# 应用程序在“通知包”注册表项中注册密码过滤器 dll 名称。当我重新启动机器系统加载所有 dll，其名称存在于通知包”键中。如果我删除之前创建的注册表项，dll 仍然保持加载，直到我重新启动 m/c。当我删除注册表时有什么方法可以卸载这个 dll入口，无需重启m/c ? 这个dll需要保存在System32文件夹中

谢谢

# c# - 用于创建自动更新模块的第 3 方框架

> ID：11932154
> 
> 赞同：1
> 
> 时间：2012-08-13T10:08:48.827
> 
> 标签：c#, windows-services, automatic-updates

我有一个由用户安装并设置为在域管理员帐户的上下文下运行的窗口服务。我不会将这些凭据存储在任何地方。

重新安装并行服务对我来说不是解决方案，因为我不会再拥有这些凭据以及用户在安装时完成的其他配置。

我想创建一个自动更新服务来更新我的主要服务。

**我想知道是否有任何第三方框架可供我执行此任务？**

**Wybuild**对我不起作用，因为它只会更新在本地系统中运行的服务，**单击一次**不适合窗口服务。

如果可用，请向我推荐一些第 3 方框架。

提前致谢。

# c++ - 虚拟析构函数 - 谁调用底层 free()？

> ID：11932155
> 
> 赞同：2
> 
> 时间：2012-08-13T10:08:56.913
> 
> 标签：c++, dll, heap-memory, virtual-destructor

我试图弄清楚使用虚拟析构函数从模块 B 中删除在模块 A 中创建的对象是否安全。

使用 MS C++ 编译器时，删除具有虚拟析构函数的对象只会导致单个 vtable 调用，并且在其中`free()`执行底层调用（即在创建对象的同一模块中，即安全）。

问题是：它只是当前的 MS 实现，还是在某些标准或文档中得到保证并且可以安全地依赖？

这是 VS2010 中反汇编的虚拟析构函数调用的示例：

```
int _tmain(int argc, _TCHAR* argv[])
{
    test *p = new test();
008A1030  push        4  
008A1032  call        dword ptr [__imp_operator new (8A20A0h)]  
008A1038  add         esp,4  
008A103B  test        eax,eax  
008A103D  je          wmain+19h (8A1049h)  
008A103F  mov         dword ptr [eax],offset test::`vftable' (8A2100h)  
008A1045  mov         ecx,eax  
008A1047  jmp         wmain+1Bh (8A104Bh)  
008A1049  xor         ecx,ecx  
    __asm int 3;
008A104B  int         3  
    delete p;
008A104C  test        ecx,ecx  
008A104E  je          wmain+28h (8A1058h)  
008A1050  mov         eax,dword ptr [ecx]  
008A1052  mov         edx,dword ptr [eax]  
008A1054  push        1  
008A1056  call        edx  
    __asm int 3;
008A1058  int         3  
    return 0;
008A1059  xor         eax,eax  
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T10:55:46.990

那么，调用者不会知道对象的类型？在不知道那种类型的情况下，来电者怎么会打电话`Derived::operator delete`？只能`Derived::~Derived`知道是否`Derived::operator delete`必须调用而不是泛型`::operator delete`。

因此，我们可以推断出调用者不能调用`::operator delete`。

[是否`operator delete`稍后调用未指定`free()`，但无论如何这是一个细节。]

# postgresql-9.1 - Postgresql 数据库变慢

> ID：11932157
> 
> 赞同：2
> 
> 时间：2012-08-13T10:09:03.257
> 
> 标签：postgresql-9.1, database-performance

我在生产服务器上安装了 PostgreSQL 9.1 服务器。我已经`postgresql.conf`根据系统更改了所有配置（）。

一周以来一切都很好。

突然之间，postgresql 服务器变得非常慢。即使是对表的 count(*) 查询，也需要花费太多时间。

在此之后，我做了很多活动，例如：

1.  监控系统负载：- 在 0.5 到 1.5 范围内正常。

2.  监控登录应用程序的用户数：- 200 到 400。正常

3.  重新创建的索引

4.  杀死理想的交易。

5.  检查锁（未找到死锁）

6.  应用程序服务器重新启动。

7.  数据库服务器重新启动。

完成所有活动后，数据库服务器的性能不会增加。

正常查询也需要很多时间。

然后我删除数据库并重新创建然后**性能提高**

重新创建数据库后一切正常。

但几天后突然性能下降。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-14T00:29:35.693

这听起来像数据库的活动部分增长得足够大，以至于它不适合缓存，导致您的许多读取实际磁盘访问（速度慢几个数量级）。这通常是由于没有足够积极地吸尘造成的。

其他因素可能与您的 PostgreSQL 配置和操作系统有关。在不知道的情况下很难给出很多建议：

*   您使用的是哪个版本的 PostgreSQL（9.1 告诉我们主要版本，但次要版本有时很重要），

*   你是如何配置 PostgreSQL 的，

*   您正在运行什么操作系统，

*   您正在使用什么硬件（内核、RAM、驱动器阵列、控制器）等。

其中一部分可以通过在此页面上发布运行查询的结果来提供：

[http://wiki.postgresql.org/wiki/Server_Configuration](http://wiki.postgresql.org/wiki/Server_Configuration)

它还可能有助于从 pg_class 中为所涉及的表选择 relname、relpages 和 reltuples，并比较运行良好和运行缓慢时的数字。

有了额外的信息，人们应该能够提出一些非常具体的建议。

# twitter - TwitPic API 中的委托方法

> ID：11932161
> 
> 赞同：0
> 
> 时间：2012-08-13T10:09:15.617
> 
> 标签：twitter, xcode4.2, twitpic

谁能解释一下 TwitPic API 中的委托方法并告诉我这些委托方法的体系结构，我的意思是首先调用哪个方法，然后再调用。

在我的代码中，我添加了`TwitterRequest`外部类并实现了。当我构建我的应用程序时，我收到消息**“没有来自代表的回应”**。任何人都可以帮助我解决这个问题。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:35:15.320

[从您遵循的教程中](http://www.icodeblog.com/2010/02/23/adding-twitpic-to-your-application/)的代码示例来看，当您传入的委托未实现您在调用类时也传入的回调选择器时，似乎会记录此消息`TwitterRequest`。

例如，假设我们正在请求更新状态：

```
TwitterRequest *request = [[TwitterRequest alloc] init];
[request statuses_update:@"My status" delegate:self requestSelector:@selector(didUpdateStatus)]; 
```

`self`除非实施回调，否则此代码将记录您看到的消息`didUpdateStatus`。（其中 self 可能是视图控制器或类似的。）

我需要在我的视图控制器中实现一个方法，如下所示：

```
- (void)didUpdateStatus {
    NSLog(@"Updated status successfully");
} 
```

检查您是否已分配并实施了这样的方法。请注意，这看起来是可选的 - 如果您不想知道您的请求是否成功，您可以忽略此消息，或者实现一个空回调，例如我在本示例中的回调。

# java - 使用 AES 加密来加密文件

> ID：11932162
> 
> 赞同：0
> 
> 时间：2012-08-13T10:09:16.283
> 
> 标签：java, eclipse, encryption, cryptography

我想使用 AES 加密来加密文本文件。
但是，我不太确定如何结合 Aes 代码和文件读取代码。我是这种加密的新手。任何帮助表示赞赏。

我已经尝试过这样做。并且在加密下有错误，它声明不适用于参数。还是我应该以另一种方式来做？

```
public static void main(String[] args) throws Exception {

    FileReader file = new FileReader ("original.txt");
    BufferedReader reader = new BufferedReader(file);

    String text = "";
    String line = reader.readLine();
    while(line !=null)
    {
        text +=line; 
        line = reader.readLine();
    }

    String test = Testing.encrypt(text);
    System.out.println("Encrypted : " + test);
    reader.close();
  } 
```

完整代码如下。非常感谢。

（AES 加密）

```
 package encypt.com;

import java.io.BufferedReader;
import java.io.FileReader;
import java.security.*;
import java.security.spec.InvalidKeySpecException;
import javax.crypto.Cipher;
import javax.crypto.spec.SecretKeySpec;
import sun.misc.*;

public class Testing {

private static final String ALGORITHM = "AES";
private static final int ITERATIONS = 2;
private static final byte[] keyValue = 
    new byte[] { 'T', 'h', 'i', 's', 'I', 's', 'A', 'S', 'e', 'c', 'r', 'e', 't', 'K', 'e', 'y'};

public static String encrypt(String value, String salt) throws Exception {
    Key key = generateKey();
    Cipher c = Cipher.getInstance(ALGORITHM);  
    c.init(Cipher.ENCRYPT_MODE, key);

    String valueToEnc = null;
    String eValue = value;
    for (int i = 0; i < ITERATIONS; i++) {
        valueToEnc = salt + eValue;
        byte[] encValue = c.doFinal(valueToEnc.getBytes());
        eValue = new BASE64Encoder().encode(encValue);
    }
    return eValue;
}

public static String decrypt(String value, String salt) throws Exception {
    Key key = generateKey();
    Cipher c = Cipher.getInstance(ALGORITHM);
    c.init(Cipher.DECRYPT_MODE, key);

    String dValue = null;
    String valueToDecrypt = value;
    for (int i = 0; i < ITERATIONS; i++) {
        byte[] decordedValue = new BASE64Decoder().decodeBuffer(valueToDecrypt);
        byte[] decValue = c.doFinal(decordedValue);
        dValue = new String(decValue).substring(salt.length());
        valueToDecrypt = dValue;
    }
    return dValue;
}

private static Key generateKey() throws Exception {
    Key key = new SecretKeySpec(keyValue, ALGORITHM);
    // SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(ALGORITHM);
    // key = keyFactory.generateSecret(new DESKeySpec(keyValue));
    return key;
}

public static void main(String[] args) throws Exception {

    String password = "mypassword";
    String salt = "this is a simple clear salt";
    String passwordEnc = Testing.encrypt(password, salt);
    String passwordDec = Testing.decrypt(passwordEnc, salt);

   System.out.println("Salt Text : " + salt);
   System.out.println("Plain Text : " + password);
   System.out.println("Encrypted : " + passwordEnc);
   System.out.println("Decrypted : " + passwordDec);
}
} 
```

（文件读取代码）

```
package encypt.com;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.util.Scanner;

public class readfile {
public static void main(String[] args) throws Exception {

    FileReader file = new FileReader ("key.txt");
    BufferedReader reader = new BufferedReader(file);

    String text = "";
    String line = reader.readLine();
    while(line !=null)
    {
        text +=line; 
        line = reader.readLine();
    }

    reader.close();
    System.out.println(text); 
  } 
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T13:13:33.590

我猜你的错误是因为你试图打电话

```
public static String encrypt(String value, String salt) 
```

和

```
String test = Testing.encrypt(text); 
```

所以`salt`缺少参数。

尝试用 ie 调用这个函数

```
String test = Testing.encrypt(text,"mySalt"); 
```

# xml - 如何自动将 Doc/Docx 转换为单个 XML 文件？

> ID：11932163
> 
> 赞同：5
> 
> 时间：2012-08-13T10:09:22.187
> 
> 标签：xml, ms-office, openxml, office-interop, docx

当您打开 Word 时，它允许您另存为 Word Open XML 格式。我看过有关将 docx 文件作为 zip 打开然后从那里提取内容的帖子。但我真正想要的是一种将 docx 转换为单个 XML 的方法，就像在 MS Office 中执行“另存为”操作时一样。该怎么办？

以及如何为 .doc 格式执行此操作？

注意：我想以编程方式执行此操作。最好在Linux下用PHP开发条件。但如果那不可用，那么其他语言就可以了。最后，如果归根结底，我可以考虑启动 Windows 服务器来执行此操作。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2015-07-07T12:56:33.430

很抱歉让死线复活，但我刚刚找到了 DOCX 文件的答案。DOCX 文件只是 XML 文件的 ZIP 存档。因此，为了提取其中一个文件的内容，v.gr。在Linux环境下word/document.xml，需要运行解压：

```
unzip -q -c myfile.docx word/document.xml 
```

要将此命令的输出捕获到 PHP 脚本的 $xml 变量中，您可以发出：

```
$xml = shell_exec ("unzip -q -c myfile.docx word/document.xml"); 
```

希望这个答案对 DOCX 文件有所帮助。迟到总比不到好。

对于 DOC 文件，此方法不起作用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-15T05:18:46.057

[Eric White 在transforming-open-xml-documents-to-flat-opc-format](http://blogs.msdn.com/b/ericwhite/archive/2008/09/29/transforming-open-xml-documents-to-flat-opc-format.aspx)中解释了如何在 C# 中为 docx 执行此操作

您也可以使用 docx4j（我正在研究）来完成，'j' 是 Java。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-13T12:54:50.857

在 Word 中：文件 | 另存为 | Word XML 文档 (*.xml) 为您提供所需的 Open XML 格式，作为单个 XML 文件

在使用 Interop 的代码中：使用 Document 对象的 SaveAs 方法，使用 WdSaveFormat.wdFormatXMLDocument 作为保存格式。您还应该使用 Document.Convert 方法来更新与安装的 MS Office 版本的兼容性。

所以，不一定是完整的演示，但这应该给你正确的想法：

```
ActiveDocument.Convert();

WdSaveFormat myNewSaveFormat = WdSaveFormat.wdFormatXMLDocument;
ActiveDocument.SaveAs(newFilePath, myNewSaveFormat); //where newFilePath can be a FileInfo object specifying the new file name and extension (docx) 
```

# visual-studio - Visual Studio 将哪些参数传递给 MSBuild？

> ID：11932164
> 
> 赞同：62
> 
> 时间：2012-08-13T10:09:27.270
> 
> 标签：visual-studio, msbuild

当 Visual Studio 运行构建时，它会运行 MSBuild 来完成大部分工作。如果您将 .sln 文件传递​​给 MSBuild，并带有适当的配置和平台属性，它将以类似于 Visual Studio 的方式构建您的解决方案。

```
msbuild mysolution.sln /p:Configuration=Release /p:Platform="Any CPU" 
```

但是，存在*差异*：有时构建会通过 MSBuild 而不是通过 Visual Studio 出错，反之亦然。

Visual Studio 将哪些参数传递到 MSBuild 以影响该过程？有没有办法查看它在执行构建时传递的参数？

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2012-08-13T11:14:09.600

Visual Studio 不执行`MSBuild.exe`，而是托管构建引擎本身（通过`Microsoft.Build.*`程序集） - 至少默认 C# 项目系统是这种情况。其他语言、插件、包等可能会有所不同。

实际上，微软博客上有一个关于这个的帖子系列，我正在尝试找到它们并更新这个答案。

*更新*：再次找到它。[在此处](https://docs.microsoft.com/en-us/archive/blogs/msbuild/post-summary-msbuild-in-visual-studio)查找“Visual Studio 中的 MSBuild”帖子。

关于您的原始问题，[此](http://msdn.microsoft.com/en-us/library/ms171468.aspx)页面可能会进一步帮助您。您也可以转到“工具”、“选项”、“项目和解决方案”、“构建和运行”并增加 MSBuild 输出的详细程度。使用“诊断”，您基本上应该看到在开始构建时设置的每个属性。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-08-13T10:59:51.473

首先，您可以使用参数运行 msbuild`/v:diag`以获取诊断级别的日志记录。这确实有助于找出构建失败的原因。

否则，是的，如果您使用[Process Monitor](http://technet.microsoft.com/en-us/sysinternals/bb896645.aspx)，您可以监视进程启动事件，您可以在其中看到发送到进程的特定命令行。

具体来说：

*   运行进程监视器
*   过滤器 » 过滤器...
*   `Operation` `is` `Process Create`“ 添加
*   `Operation` `is` `Process Start`“ 添加
*   好的
*   通过 VS 和命令行 msbuild 运行您的构建
*   请参阅详细信息列中的命令行参数

# ios - 以编程方式调用 textFieldShouldReturn

> ID：11932166
> 
> 赞同：2
> 
> 时间：2012-08-13T10:09:39.893
> 
> 标签：ios, cocos2d-iphone, uitextfield

当前项目在 cocos2d v2 下运行。

我有一个简单的 UITextField 添加到 CCLayer。

每当用户触摸 textField 时，就会出现一个键盘。

然后当用户触摸“返回”按钮时，键盘消失并清除输入。

我试图做的是当用户触摸 UITextField 之外的任何地方时做同样的事情。

我确实找到了一种方法并且它有效：

```
- (void)ccTouchesBegan:(NSSet*)touches withEvent:(UIEvent*)event
{
    UITouch* touch = [touches anyObject];
    if(touch.view.tag != kTAGTextField){
        [[[[CCDirector sharedDirector] view] viewWithTag:kTAGTextField] resignFirstResponder];
    }
} 
```

但是，此方法不调用函数：

```
- (BOOL)textFieldShouldReturn:(UITextField *)textField 
```

我使用此函数进行一些计算并清除输入。因此，当文本字段为“resignFirstResponder”时，我希望 ccTouchesBegan 输入此 textFieldShouldReturn。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:20:25.740

From [the Apple docs](http://developer.apple.com/library/ios/DOCUMENTATION/UIKit/Reference/UITextFieldDelegate_Protocol/UITextFieldDelegate/UITextFieldDelegate.html#//apple_ref/occ/intfm/UITextFieldDelegate/textFieldShouldReturn%3a):

> **textFieldShouldReturn:** Asks the delegate if the text field should process the pressing of the return button.

So it is only called when the user taps the return button.

I would rather create a method for the calculation and input clearing, and call that method whenever you want it to be called. Example:

```
- (void)calculateAndClearInput {
    // Do some calculations and clear the input.
}

- (BOOL)textFieldShouldReturn:(UITextField *)textField {
    // Call your calculation and clearing method.
    [self calculateAndClearInput];
    return YES;
}

- (void)ccTouchesBegan:(NSSet*)touches withEvent:(UIEvent*)event {
    UITouch* touch = [touches anyObject];
    if (touch.view.tag != kTAGTextField) {
        [[[[CCDirector sharedDirector] view] viewWithTag:kTAGTextField] resignFirstResponder];
        // Call it here as well.
        [self calculateAndClearInput];
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:22:18.650

正如@matsr 建议的那样，您应该考虑重新组织您的程序逻辑。`resignFirstResponder`在 UITextField 上调用没有意义`textFieldShouldReturn:(UITextField *)textField`，因为通常 resignFirstResponder 是从该方法中调用的。此外，您不应尝试以编程方式调用`textFieldShouldReturn`.

相反，我建议将您的计算代码移动到您的控制器/任何东西中的一个新方法中，`textFieldShouldReturn`并在您处理您`resignFirstResponder`在 UITextField 上调用的触摸时调用它。

这也有助于实现事件处理代码与计算/逻辑代码的分离。

# java - 在android中遍历复杂的xml文件

> ID：11932168
> 
> 赞同：0
> 
> 时间：2012-08-13T10:10:03.213
> 
> 标签：java, android, xml, xml-parsing

我在此链接上有一个 xml 文件

[http://nchc.dl.sourceforge.net/project/trialxml/options.xml](http://nchc.dl.sourceforge.net/project/trialxml/options.xml)

我已经成功下载并解析了它，还制作了一个动态 UI，但是我没有使用任何预定义的函数，例如`getFirstChild()`，`getNextSibling()`这使得我的解析器无法解析具有大约 6-7 级菜单的复杂 XML 文件。

请帮助如何遍历XML文件，并动态创建UI。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:17:38.513

尝试使用`DOM parser`, 来解析您的 xml 文档

**有关详细信息，请参阅此链接：**

[http://tutorials.jenkov.com/java-xml/dom.html](http://tutorials.jenkov.com/java-xml/dom.html)

# cuda - 是否可以在 CUarray 上运行 cuMemset？

> ID：11932171
> 
> 赞同：2
> 
> 时间：2012-08-13T10:10:06.940
> 
> 标签：cuda, memset, cuda-driver, cuda-arrays

我有一个 CUarray，它是通过 cuGraphicsSubResourceGetMappedArray() 从我的 OpenGL 上下文中获得的。是否可以将它与 cuMemset*() 一起使用？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-14T04:31:55.873

没有。您无法将设备指针放入 CUDA 数组（传递给 cuMemset*()），并且 NVIDIA 从未为 CUDA 数组提供 memset 函数。

您必须将一些主机内存清零并在 CUDA 数组中执行 memcpy（或 memcpy），或者（如果您的应用程序仅在 SM 2.0 或更高版本上运行）使用表面存储自行滚动。

# android - EditText 的大小不适合内容

> ID：11932173
> 
> 赞同：4
> 
> 时间：2012-08-13T10:10:14.663
> 
> 标签：android, android-layout, android-intent, android-widget

我对动态创建的 EditText 有一点问题，我通过我创建的小键盘输入文本，替换原来的 Android。文本插入附加，但 EditText 的大小不适合文本。为什么？

使用此解决方案：

```
EditText et = new EditText(myContext);

LayoutParams params = new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT); 

et.setLayoutParams(params); 
```

我有这个错误：

```
E/AndroidRuntime(9544): FATAL EXCEPTION: main
E/AndroidRuntime(9544): java.lang.ClassCastException: android.view.ViewGroup$LayoutParams cannot be cast to android.widget.TableRow$LayoutParams
E/AndroidRuntime(9544):     at android.widget.TableRow.mapIndexAndColumns(TableRow.java:162)
E/AndroidRuntime(9544):     at android.widget.TableRow.getVirtualChildCount(TableRow.java:147)
E/AndroidRuntime(9544):     at android.widget.TableRow.getColumnsWidths(TableRow.java:287)
E/AndroidRuntime(9544):     at android.widget.TableLayout.findLargestCells(TableLayout.java:500)
E/AndroidRuntime(9544):     at android.widget.TableLayout.measureVertical(TableLayout.java:465)
E/AndroidRuntime(9544):     at android.widget.TableLayout.onMeasure(TableLayout.java:431)
E/AndroidRuntime(9544):     at android.view.View.measure(View.java:12723)
E/AndroidRuntime(9544):     at android.widget.ScrollView.measureChildWithMargins(ScrollView.java:1163)
E/AndroidRuntime(9544):     at android.widget.FrameLayout.onMeasure(FrameLayout.java:293)
E/AndroidRuntime(9544):     at android.widget.ScrollView.onMeasure(ScrollView.java:312)
E/AndroidRuntime(9544):     at android.view.View.measure(View.java:12723)
E/AndroidRuntime(9544):     at android.widget.HorizontalScrollView.measureChildWithMargins(HorizontalScrollView.java:1159)
E/AndroidRuntime(9544):     at android.widget.FrameLayout.onMeasure(FrameLayout.java:293)
E/AndroidRuntime(9544):     at android.widget.HorizontalScrollView.onMeasure(HorizontalScrollView.java:303)
E/AndroidRuntime(9544):     at android.view.View.measure(View.java:12723)
E/AndroidRuntime(9544):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4698)
E/AndroidRuntime(9544):     at android.widget.FrameLayout.onMeasure(FrameLayout.java:293)
E/AndroidRuntime(9544):     at android.view.View.measure(View.java:12723)
E/AndroidRuntime(9544):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4698)
E/AndroidRuntime(9544):     at android.widget.FrameLayout.onMeasure(FrameLayout.java:293)
E/AndroidRuntime(9544):     at android.view.View.measure(View.java:12723)
E/AndroidRuntime(9544):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4698)
E/AndroidRuntime(9544):     at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1369)
E/AndroidRuntime(9544):     at android.widget.LinearLayout.measureVertical(LinearLayout.java:660)
E/AndroidRuntime(9544):     at android.widget.LinearLayout.onMeasure(LinearLayout.java:553)
E/AndroidRuntime(9544):     at android.view.View.measure(View.java:12723)
E/AndroidRuntime(9544):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4698)
E/AndroidRuntime(9544):     at android.widget.FrameLayout.onMeasure(FrameLayout.java:293)
E/AndroidRuntime(9544):     at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2092)
E/AndroidRuntime(9544):     at android.view.View.measure(View.java:12723)
E/AndroidRuntime(9544):     at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1064)
E/AndroidRuntime(9544):     at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2442)
E/AndroidRuntime(9544):     at android.os.Handler.dispatchMessage(Handler.java:99)
E/AndroidRuntime(9544):     at android.os.Looper.loop(Looper.java:137)
E/AndroidRuntime(9544):     at android.app.ActivityThread.main(ActivityThread.java:4624)
E/AndroidRuntime(9544):     at java.lang.reflect.Method.invokeNative(Native Method)
E/AndroidRuntime(9544):     at java.lang.reflect.Method.invoke(Method.java:511)
E/AndroidRuntime(9544):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:789)
E/AndroidRuntime(9544):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:556)
E/AndroidRuntime(9544):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:45:45.007

```
import android.widget.LinearLayout.LayoutParams; 
```

将参数添加到`WRAP_CONTENT`. 并设置所需的高度布局，填充或换行。第一个是宽度，第二个是高度。

```
 EditText et = new EditText(myContext);

 LayoutParams params = new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);

 et.setLayoutParams(params); 
```

# jquery - Jquery每个都没有输出页面上的所有数据

> ID：11932174
> 
> 赞同：0
> 
> 时间：2012-08-13T10:10:19.680
> 
> 标签：jquery, internet-explorer, rss, youtube

我有这段代码可用于从 You Tube 检索数据。我可以通过警报消息看到这一点。问题在于 IE8 及以下版本，它不会将 3 个项目的列表输出到页面。它只输出最后一张图像。

您可以[在 jsfiddle 上查看代码](http://jsfiddle.net/zegnm/)

非常感谢任何帮助。

```
$.each(data.feed.entry.slice(1, 4), function(i, item) {
                        //if(i == 3) return false;
                        var title = item.title.$t;
                        var url = item.link[0].href;
                        var thumbUrl = item.media$group.media$thumbnail[0].url;
                        thumbs_data += '<li><a href="'+ url +'" title="'+ title +'"><img alt="'+ title+'" src="'+thumbUrl+'"</a></li>';
                        alert(thumbs_data);
                    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:34:49.870

查看 IE8 中的代码后，一个可能的问题是其中`item.title.$t`包含引号，我认为这可能会弄乱您生成的 HTML。您可以尝试通过更改来删除引号：

```
var title = item.title.$t; 
```

对此：

```
var title = item.title.$t.replace(/"/g, ""); 
```

而且，我发现的另一个问题是您在生成的 HTML 中的 img 标记上缺少右括号。

* * *

将 thumbs_data 行更改为此添加 img 标签的结束 >：

```
thumbs_data += '<li><a href="'+ url +'" title="'+ title +'"><img alt="'+ title+'" src="'+thumbUrl+'"></a></li>'; 
```

一旦你修复了这些，你可以在 IE8 中看到这个 jsFiddle 工作：http: [//jsfiddle.net/jfriend00/7L2Ws/](http://jsfiddle.net/jfriend00/7L2Ws/)

注意：我通过输出每次通过循环添加到的生成的 HTML 发现了这个问题，因此我可以查看 HTML 以了解问题出在`thumbs_data`哪里。`console.log()`

# python - 如何从嵌套字典中删除具有重复值的字典

> ID：11932175
> 
> 赞同：0
> 
> 时间：2012-08-13T10:10:25.423
> 
> 标签：python, dictionary, python-2.7

我有一个包含键值对的字典，其中的值也是字典：

```
{ 
    'item1':{'name':'filename', 'size':1024},
    'item2':{'name':'filename', 'size':1024},
    'item3':{'name':'diff_filename', 'size':1024},
    'item4':{'name':'diff_filename', 'size':1024}
} 
```

我想删除字典中在其值中具有重复的“文件名”字段的项目，从而得到结果：

```
{ 
    'item1':{'name':'filename', 'size':1024},
    'item3':{'name':'diff_filename', 'size':1024}
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:28:56.343

使用辅助工具`set`来跟踪您已经看到的文件名：

```
seen = set()
{k: v for k, v in yourdict.iteritems() 
    if v['name'] not in seen and (seen.add(v['name']) or True)} 
```

或者，作为循环更具可读性：

```
seen = set()
filtered = dict()
for k, v in yourdict.iteritems():
    if v['name'] in seen:
        continue
    seen.add(v['name'])
    filtered[k] = v 
```

# android - 在 android 中，如何使数组列表可用于一个或多个活动？

> ID：11932178
> 
> 赞同：0
> 
> 时间：2012-08-13T10:10:52.493
> 
> 标签：android

我有一个名为 mylikes 的活动，可以从主要活动中调用它，然后它应该显示喜欢的项目列表。另一个名为programs的活动有一个项目列表，我按下like按钮，它应该将该项目添加到喜欢的项目列表并显示在Mylike活动中。我在程序活动中将该项目添加到数组中，但是当我从 main 调用 mylike 活动时，出现强制关闭错误。那么如何使数组列表全局化。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T10:26:40.947

您可以使用自己的覆盖默认应用程序类，并从那里创建和使用您的数组。如果您有一个名为 MyApplication 的应用程序，则添加一个类

```
public class MyApplication extends Application {

   public ArrayList myGlobalArray = null; 

   public MyApplication() {
      myGlobalArray = new ArrayList(); 
   }   
} 
```

要将数据添加到数组中，请使用：

```
((MyApplication)getApplicationContext()).myGlobalArray = anyarray; 
```

然后，您可以通过类似的方式访问活动

```
((MyApplication)getApplicationContext()).myGlobalArray ... etc. 
```

在您的应用程序清单中，您还需要通过将名称添加到您的应用程序块来命名您的扩展应用程序类

```
 <application
        android:icon="@drawable/icon"
        android:name=".MyApplication" ... 
```

如果您有一个所有活动都需要访问的全局范围的复杂对象，并且您不想序列化/反序列化，这是 IMO 最简单的方法，对于更简单的场景，您可以在启动活动时通过将额外内容放入意图来传递项目

你也可以使用单例，但是应用程序类很容易管理

我没有测试或编译代码，这只是作为一个概述，所以要注意拼写错误等。

这是应用程序类文档的[应用程序的链接](http://developer.android.com/reference/android/app/Application.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T10:17:26.733

您可以使用一些[单例](http://en.wikipedia.org/wiki/Singleton_pattern)类来保存您的喜欢数组，以跨多个活动共享此列表。

```
public class LikeManager{
    List<Item> likes;

    //....

    private LikeManager(){
    //...
    }

    public LikeManager getInstance(){
         //...
    }

    public List<Item> getLikes(){
        return likes;
    }
} 
```

因此，当您需要访问权限时`likes`，请致电`LikeManager.getInstance().getLikes()`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T10:15:03.553

最简单的方法是使用公共 getter 和 setter，允许应用程序的其他部分检索和设置 ArrayList 的值。

除此之外，您可以将其写入 SharedPreferences、某处的文件或将数据存储在数据库中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-13T10:28:53.300

您可以使用 Application 类来存储这些数据，并且可以在所有 Activity 中使用它

```
public class BusinessClass extends Application 
{     
     public ArrayList array = new ArrayList();
} 
```

然后使用以下代码在任何活动中调用它

```
BusinessClass appState = ((BusinessClass)getApplicationContext());
ArrayList myarray=appState.array; 
```

在 android 中，如果您想维护任何全局并在两个或多个活动中共享它，那么您可以使用 Application calss。

欲了解更多信息

[http://developer.android.com/reference/android/app/Application.html](http://developer.android.com/reference/android/app/Application.html)

# java - 如何创建简单的 Web 服务

> ID：11932180
> 
> 赞同：1
> 
> 时间：2012-08-13T10:11:10.607
> 
> 标签：java, android, iphone, web-services

如何使用 java 创建可供移动应用程序（Android/iPhone 应用程序）使用的简单 Web 服务。

请提出解决方案。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-13T10:18:03.413

The most simple web service in Java would be basically any class annotated with `@Webservice` and published via the `Endpoint` class.

As an example, an implementation that echo's a String:

```
@WebService
public class EchoService {

    public String echoHello(String name) {
        return "Hello " + name;
    }

} 
```

You can publish that on localhost via:

```
EchoService service = new EchoService();    
Endpoint.publish("http://localhost:2000/echo", service); 
```

This will publish a SOAP endpoint with document/literal binding. For more information, see [the JAX-WS tutorial](http://docs.oracle.com/cd/E17802_01/webservices/webservices/docs/2.0/tutorial/doc/JAXWS.html).

# sql-server-2008 - SQL Server、tinyint和缺失零的情况

> ID：11932182
> 
> 赞同：0
> 
> 时间：2012-08-13T10:11:26.317
> 
> 标签：sql-server-2008, tinyint

我在 SQL Server 2008 中有一个表，其中有一列具有 datatype `tinyint`。最近我注意到一些非常奇怪的行为。当做类似的事情时

```
update mytable 
set mytinyint = 0 
where id = 1 
```

列中的`mytinyint`值为**`NULL`**。下面的查询

```
update mytable 
set mytinyint = NULL
where id = 1 
```

也导致值为`NULL`。最后这个查询

```
update mytable 
set mytinyint = 1
where id = 1 
```

将值设置为`1`。

所以我的问题是：为什么不能将值存储在`0`应该能够存储`0`and`255`和之间的任何值的列中`NULL`？

# css - CSS“非”选择器不起作用

> ID：11932184
> 
> 赞同：0
> 
> 时间：2012-08-13T10:11:32.953
> 
> 标签：css

我不能在“非”选择器中放置两个不同的规则示例：

此代码有效：

```
input:not([type=submit]) {
  // Styling here
} 
```

但这段代码不起作用：

```
input:not([type=submit], [type=reset]) {
  // Styling here
} 
```

为什么第二个代码不起作用？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-13T10:15:19.200

您的 CSS 语法无效。

使用 2 个`:not`选择器：

```
input:not([type=submit]):not([type=reset]) {
  // Styling here
} 
```

# java - 为什么在这种情况下没有将数据设置到列表对象中？

> ID：11932188
> 
> 赞同：0
> 
> 时间：2012-08-13T10:11:44.493
> 
> 标签：java

我将两个系列的数据（冒号分隔:) 传递给一个方法，并期望将其设置在我的自定义类 CountryDTO 中

**这是我的 CountryDTO 课程**

```
public class CountryDTO {

    public CountryDTO(String a , String b , String c)
    {

    }
public String value1;
public String value2;
public String value3;

// setters and getters 

}

This is my Main class 

public class Test {

    public static void main(String args[]) throws Exception {

        Test test = new Test();
        List list = (List) test.extract("IND,US,UK : WI,PAK,AUS");

        Iterator itr = list.iterator();

        while (itr.hasNext()) {
            CountryDTO ind = (CountryDTO) itr.next();
            System.out.println(ind.getValue1());
        }
    }

    public List<CountryDTO> extract(final String v) throws Exception {
        String[] values = v.split(":");
        List<CountryDTO> l = new ArrayList<CountryDTO>();
        for (String s : values) {
            String[] vs = s.split(",");
            l.add(new CountryDTO(vs[0], vs[1], vs[2]));
        }
        return l;
    }
} 
```

**发生的事情是，我得到的输出为空（没有设置 CountryDTO）**

谁能帮帮我

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T10:15:34.850

因为在`CountryDto`构造函数中你从未设置过`value1`，也没有设置过其他值，所以它们将保持不变`null`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-13T10:16:04.333

抱歉，您的 DTO 不正确。我认为它应该是这样的：

```
public class CountryDTO {

    private final String value1;
    private final String value2;
    private final String value3;

    public CountryDTO(String a , String b , String c) {
        this.value1 = ((a != null) ? a : "");
        this.value2 = ((b != null) ? b : "");
        this.value3 = ((c != null) ? c : "");
    }

    // just getters; no setters 

} 
```

我不能说你的代码可能做错了什么，但这肯定是不合时宜的。

# facebook - 子域上的 Facebook 应用程序：站点 URL 与应用程序域

> ID：11932191
> 
> 赞同：16
> 
> 时间：2012-08-13T10:11:58.843
> 
> 标签：facebook, facebook-graph-api, subdomain

根据 facebook 和其他堆栈溢出问题，App Domain 字段支持子域，但在 Site URL 字段（在具有 Facebook 登录的网站下）中不支持。我正在创建一个用于许多不同子域（实际上是链接的子域，如[http://clientname.projectname.mydomain.com](http://clientname.projectname.mydomain.com)）的应用程序，它允许用户通过 facebook（通过 js）登录，然后检索他们的数据（都通过 js和PHP）。

您如何设置您的 facebook 应用程序以支持多个子域？

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-08-13T10:11:58.843

编辑：显然这不再起作用（见下面的评论）

我刚开始在田地里玩耍，我想我实际上发现了它为什么不起作用。

我最初必须将应用程序域字段留空，然后尝试将域放入站点 URL 字段 ( [http://example.com](http://example.com) )，但这是行不通的。如果不放入应用程序域，则只有站点 URL ( [http://clientname.projectname.example.com](http://clientname.projectname.example.com) ) 的完整 URL 有效。

一旦我将 mydomain.com 与SiteURL 字段中的[http://example.com](http://example.com)一起放入 App Domain 字段，它就可以与子域一起使用。而且我认为应用程序域字段是多余的......

我想这意味着我可以删除我创建的额外 20 个应用程序 :-)

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2016-03-07T20:52:55.987

对我有用的是设置`App Domains`站点`Site URL`基域（例如`http://example.com`）。我可以在我的所有子域中使用登录名。

此外，如果您将为所有子域使用一个应用程序，请检查您的所有子域是否使用相同的 App ID（这个错误不止一次偷走了我几分钟的生命）。

这也适用于每个子域都有自己的应用程序（因此，应用程序 ID）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-09-19T17:26:29.700

我们使用通配符子域的 Oauth 登录在过去几年一直有效，但几周前突然停止。

经过一些试验和错误，我发现以下工作（此时：2017 年 9 月）

*   打开“对重定向 URI 使用严格模式”</li>
*   将“有效 OAuth 重定向 URI”字段留空

我有点担心这不是一个非常安全的设置:(我认为它可以作为临时解决方案，而我们会找到更好的方法来处理它。

# java - Java Graphics.drawString() 字体为 JLabel

> ID：11932199
> 
> 赞同：4
> 
> 时间：2012-08-13T10:12:13.210
> 
> 标签：java, swing, graphics, fonts, jlabel

如何`Graphics.drawString()`获得与 的字体完全相同的字体`JLabel`？

我已经尝试了所有我能找到的字体， `UIManager.getDefaults()`但即使我使用以下内容使 drawString() 的字符串不像以前那么细。

```
((Graphics2D) g).setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON); 
```

它看起来仍然有点不同。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:21:36.537

`UIManager.getFont("Label.font")`应该在大多数外观和感觉下工作

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T10:30:54.467

怎么样`new JLabel().getFont()`？

# java - 计算 JMS 消息的响应时间

> ID：11932201
> 
> 赞同：0
> 
> 时间：2012-08-13T10:12:21.423
> 
> 标签：java, multithreading, queue, jms

处理一个使用 5 个线程将 1000 条 JMS 消息发布到 EMS 服务器的 Java 应用程序。我有一个迭代 5 次的循环，在每个循环中我启动一个 Runnable 线程，它发布 200 条消息。

如何计算每条消息的响应时间？每个线程的响应时间（200 条消息）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:39:05.097

您可以使用 currentTimeMillis 方法并以这种方式计算时间：

```
 long time1=System.currentTimeMillis();

    //Send 200 JMS Msg loop        
        long timeIntern1=System.currentTimeMillis();
        //Send a JMS Msg       
        long timeIntern2=System.currentTimeMillis();
        System.out.println("Time in millis last JMS Msg: "+(timeIntern2-timeIntern1));

    long time2=System.currentTimeMillis();

    System.out.println("Total time in millis: "+(time2-time1)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:41:45.773

您可以使用 Date.getTime() 方法：

```
import java.util.Date;

static long stamp()
{
    return new Date().getTime();
}

public static void main(String[] args) throws InterruptedException
{
    long start = stamp();
    //Do whatever
    Thread.sleep(5_124);
    long end = stamp();
    System.out.println("Took " + (end - start) + " milliseconds.");
} 
```

输出：

```
 Took 5124 milliseconds. 
```

# javascript - 检测浏览器中的 javascript 设置

> ID：11932203
> 
> 赞同：0
> 
> 时间：2012-08-13T10:12:32.090
> 
> 标签：javascript

我的要求是我必须检查浏览器中是否启用或禁用了 javascript。因为我正在使用 DOJO，如果禁用了 javascript，应用程序将不会运行。如果 javascript 被禁用，我必须提示用户启用 javascript。谁能帮我找到我能做到的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:14:56.110

你可以使用`noscript`标签。

```
<noscript>Your need to enable javascript!</noscript> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:15:57.867

您可以使用[noscript](http://www.w3.org/wiki/HTML/Elements/noscript)元素。

> 如果启用脚本，则 noscript 元素不代表任何内容，如果禁用脚本，则表示其子元素。它用于通过影响文档的解析方式，***向支持脚本和不支持脚本的用户代理呈现不同的标记。***

不过，最好的做法是[优雅地降级](https://en.wikipedia.org/wiki/Unobtrusive_JavaScript#Degrading_gracefully)。

# c++ - 错误预期声明 c ++

> ID：11932204
> 
> 赞同：0
> 
> 时间：2012-08-13T10:12:40.743
> 
> 标签：c++, function

更新2：好吧，我修好了，原来这是一个简单的问题，半柱进入它不属于的地方，正在寻找完全错误的地方。

更新：删除一些注释修复了 cin cout 错误，现在唯一的错误应该是在左括号和右括号上的声明，并且一个出现在 else 语句中。

错误“预期声明”出现在函数 playeroneturn 的开始和结束 {} 以及函数中 if 语句的结束 } 中，也在 if 语句中 cin 和 cout 都给出错误“这个声明没有存储类或类型说明符”

```
#include "stdafx.h"
#include "iostream"
#include "ctime"
#include "cstdlib"
#include "string"

//prototype function declaration from stackoverflow.com/questions/2575153/must-declare-function-prototype-in-c
int help(int menu);
int start(int menu);
int oneplaymode();
int playeroneturn();
int playertwoturn();

//function start is called to display the games menu screen
int start(int menu)
{
    using std::cout;
    using std::cin;
    using std::endl;
    cout << "#########################################################################" << endl;
    cout << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t    PIGS\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t1\. 1 Player\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t2\. 2 Player\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t3\. help\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl<< "#\t\t\t\t\t\t\t\t\t#" << endl<< "#\t\t\t\t\t\t\t\t\t#" << endl<< "#\t\t\t\t\t\t\t\t\t#" << endl<< "#\t\t\t\t\t\t\t\t\t#" << endl<< "#\t\t\t\t\t\t\t\t\t#" << endl;
    cout << "#########################################################################" << endl;
    cout << "enter number for your selection: ";
    cin >> menu;
    if(menu == 1)
    {
        cout << "single-player not yet implemented" << endl;

    }
    else if(menu == 2)
    {
    int twoplayermode();
    }
    else if(menu == 3)
    {
    help(menu);
    }
    else
    {
    cout << "Error: Please choose a valid option" << endl;

    start(menu); 

    }
return(menu);
}

int help(int menu)
{
    using std::cout;
    using std::endl;    
    cout << "#########################################################################" << endl;
    cout << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t HELP\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#  The objective of pigs is to be the first to score 100.\t\t#" << endl << "#  Each turn you must roll a die then pass or roll again.\t\t#" << endl << "#  You must then choose to ROLL again or END your turn.\t\t\t#" << endl << "#  At the end of your turn your total is added to your score.\t\t#" << endl << "#  However if you roll a 1 your turn ends and you score 0.\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl << "#\t\t\t\t\t\t\t\t\t#" << endl<< "#\t\t\t\t\t\t\t\t\t#" << endl<< "#\t\t\t\t\t\t\t\t\t#" << endl<< "#\t\t\t\t\t\t\t\t\t#" << endl<< "#\t\t\t\t\t\t\t\t\t#" << endl<< "#\t\t\t\t\t\t\t\t\t#" << endl;
    cout << "#########################################################################" << endl;
    system("pause");
    start(menu);
    return 0;
}

int playeroneturn(int p1score);
{
    using namespace std;
    using std::cout;
    using std::cin;
    using std::endl;
    using std::srand;
    using std::rand;
    using std::time;
    using std::string;
    srand((unsigned int)time(0)); 
    int roll = 0;
    int p1score = 0;
    string reroll = "roll";
    while(reroll == "roll") 
    {
        roll = 1 + (rand() % 6);
            if(roll > 1)
            {
                p1score = p1score+roll;
                // using " in a string msdn.microsoft.com/en-us/library/267k4fw5.aspx
                cout << "You rolled a " << roll << endl << "Type roll to roll again or end to end your turn."; // error on cout this declaraton has no storage class or type specifier and error on first << expected a ;
                cin >>  reroll; 
            }
            else 
            { 
                cout >> "Bad luck! you rolled a 1, your turn is over and you score nothing!"
                p1score = 0; 
                reroll = end;
            }
    }
    return p1score; 
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-13T10:17:55.203

I see several issues (from my comment):

*   you cannot have statements like `1 + (rand() % 6); = roll`. What is this supposed to do? If you want `roll` to be `1 + (rand() % 6);`, write it `roll = 1 + (rand() % 6);`
*   you cannot use `continue` as variable, it's reserved keyword
*   you cannot mix `>>` and `<<` when using `cout`. Use only `<<`.
*   `p1score` is not initialized (it's not compiler's error, but still - you use it (in the body of the `if-statement`, where the first condition (`if(roll > 1)`) is true) without being initialized, so you'll get garbage value
*   have you included `#include <string>`?
*   you don't have `using std::string` and if you don't have `using namespace std;`, you'll have a compiler error for this, too.

*   waiting for an answer - what is before the first `{`.

* * *

**EDIT:** Looking at you edit, you need to do some other changes:

*   first, the definition of `playeroneturn` is wrong: `int playeroneturn(int p1score); { ... }` <- remove `;` before the function's body
*   note, that in `playeroneturn`, `int p1score = 0;` shadows the parameter of the function, it has the same name
*   again in `playeroneturn` - `cout` *must* be used with `<<`, not with `>>`
*   a ';' must be added after the wrong `cout` (from the previous point)
*   in `playeroneturn` (again), `reroll = end;` is bad - what is this `end`, it's not defined nowhere.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-13T10:14:16.143

`continue`是关键字，不能用作变量名。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-13T10:15:12.880

```
while(continue == "roll")
{
    1 + (rand() % 6); = roll //<--- what is this? no ; and no l value
        if(roll > 1) 
```

分号和左值在哪里？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-13T10:20:17.700

continue is a [keyword / reserved word](http://msdn.microsoft.com/en-us/library/2e6a4at9%28v=vs.80%29.aspx "C++ keywords"). and hence it should not be used as a variable name or other literal specification.For feeling the difference just rename the variable 'continue' to 'continue1' and see the error go. Hope this will help.

# javascript - Javascript：将类/对象引用设置为 NULL，内存中的子对象/类会发生什么？

> ID：11932205
> 
> 赞同：1
> 
> 时间：2012-08-13T10:12:53.937
> 
> 标签：javascript, memory, timer, stream, settimeout

已经以多种不同的形式提出了这个问题，但我不确定我的情况是否完全适用。

说，我有一个 node.js 程序。我的程序通过实例化一个名为 Stream 的类连接到一个 Stream。在 Stream 中实例化了一个 StreamParser 类，其中包含几个定时器。

当我`Stream.destroy()`的原始流时，保存 StreamParser 的对象设置为`null`. 内存空间会发生什么，计时器会发生什么？似乎我的计时器仍在运行，除非我明确表示`clearTimeout`它们......

所以，嵌套结构：

```
new Stream()
    -> this.stream = new StreamParser()
        -> this.intv = setInterval(function() { // code }, 1000);

// Streams are destroyed like this:
Stream.destroy()
    -> calls this.stream.destroy(function() { 
            self.stream = null;
            // stream is null. but timers seem to be running. So, is stream still in memory?
        } 
```

我有点困惑。更多扩展的代码示例：

```
// main call.

var stream = new Stream();

stream.connect();

setTimeout(function() {
    stream.destroy(function() {
        stream = null;
    });
}, 60000);

/** ############# STREAM ############### **/

function Stream() {
    this.stream = null;
    this.end_callback = null;
}

Stream.prototype.connect = function() {
    var self = this;

    new StreamParser('stream.com', function(stream) {
        self.stream = stream;

        self.stream.on('destroy', function(resp) {
            if(self.end_callback !== null && typeof self.end_callback === 'function') {
                var fn = self.end_callback;

                self.end_callback = null;
                self.stream = null;

                fn();
            } else {
                self.stream = null;
            }
        });
    });
}

Stream.prototype.destroy = function(callback) {
    this.end_callback = callback;
    this.stream.destroy();
}

/** ############# STREAM PARSER ############### **/

function StreamParser(uri, callback) {
    var self = this;

    this.conn = null;
    this.callback = null;

    this.connectSocket(uri, function(conn) {
        self.conn = conn;
        self.callback(conn);
    })

    setInterval(function() {
        self.checkHeartbeat();
    }, 1000);
} 

StreamParser.prototype.checkHeartbeat = function() {
    // check if alive
}

StreamParser.prototype.destroy = function() {
    this.conn.destroy();
    this.emit('destroy', 'socket was destroyed');
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T10:17:49.040

在 javascript 中，您不会像在 c++ 等语言中那样显式地销毁对象。相反，当您通过将变量设置为 来清除对该对象的引用时`null`，这会使该对象更有资格进行垃圾收集（现在少了一个包含对该对象的引用的脚本）。但是，如果有任何其他对该对象的引用，那么它仍然不会被垃圾回收。

在这种情况下，您的计时器在其闭包（围绕它们的函数）中保存对您的对象的引用，这意味着仍然存在对流的引用，因此垃圾收集器不会清理它。系统保留对您的计时器的引用，以便它们将正常执行（无论您对流对象做什么），并且当它们触发时，它们将按照设计的方式对（仍然存在的）流对象进行操作。

如果要停止计时器，则需要显式使用`clearTimeout()`它们。这将导致包含对流对象的其他引用的计时器闭包随后被释放，如果在代码中的其他任何地方没有对流对象的其他引用，则 javascript 垃圾收集器将能够实际释放流对象使用的内存。

当流对象最终被垃圾回收时，它将导致它对它所引用的任何子对象的引用不再是活动的。如果这些对象本身在您的代码中没有其他引用指向它们，那么它们也将被垃圾回收。但是，如果某些其他代码也指向这些子对象之一，则该子对象将被保留以供该其他引用使用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T10:17:20.243

JavaScript 使用垃圾收集，这意味着任何人都无法访问的对象将被“遗忘”。它没有被“删除”——没有对对象执行其他操作。相反，它占用的内存将再次可用于创建新对象。

所以你需要问这个问题：还有人可以看到孩子吗？

在计时器的情况下，浏览器需要以某种方式执行它们，因此它必须在某个地方有一个列表。这意味着有*两个*地方引用了计时器：您的代码和浏览器中的某处。如果您忘记了您的对象，只要浏览器需要计时器，浏览器仍然会保持其引用处于活动状态。

# activereports - 活动报告子报告多个 pge 问题

> ID：11932207
> 
> 赞同：0
> 
> 时间：2012-08-13T10:13:01.620
> 
> 标签：activereports

我正在使用活动报告来生成报告。主报告有 4 个网格。对于前 3 个网格，我使用子报表，对于最后一个网格，使用主报表。现在的问题是，如果子报表中的记录跨越多个页面，则整个报表会显示多次。但是，如果子报表有 20 条记录，则报表只显示每个部分一次。仅供参考，在详细信息部分，我有一个图像，它应该在报告运行时只显示一次，然后是 3 个网格（3 个子报告）和一个网格（不是子报告）。在报告开始事件中，正在初始化子报告，如

子报表 1 = 新子报表 1();

在报告结束事件中，我将其处理为

子报表1 = null

并且在主报表的 details_Format 事件中，amDetailedReport.Report = subreport1 ；

请尽快帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T04:58:05.383

您在报告的事件中还有哪些其他代码？这几乎肯定是由于更改某些设置或更改子报告中的数据/查询从不适当的事件引起的。对子报表所做的所有设置或更改都应在`Format`包含子报表控件的部分的情况下完成。

此外，虽然在 Detail_Format 中没有问题（假设所有子报表控件都在 Detail 部分中），但您应该`DetailedReport.Report = subreport1`只能在主报表的`ReportStart`事件中执行一次类似的语句。可能没有明显的效果，但它应该稍微简化代码并删除冗余`SubreportControl.Report.set`调用。

# c# - 将切换按钮绑定到两个命令

> ID：11932209
> 
> 赞同：4
> 
> 时间：2012-08-13T10:13:04.880
> 
> 标签：c#, wpf, silverlight, xaml

我的 silverlight 应用程序中有一个切换按钮，如下所示：

```
<ToggleButton Content="ToggleButton" Margin="0,30,0,0" Style="{StaticResource ChkToggleButton}" /> 
```

切换当前正在更改切换时的视觉状态，仅此而已。
但是，我需要用不同的命令绑定每个切换。例如：按下按钮 1，运行`command1`，再次按下按钮，运行`command2`。

如何才能做到这一点？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-08-13T10:45:57.263

用于[`Triggers`](https://www.codeproject.com/Articles/42988/Silverlight-Behaviors-and-Triggers-Making-a-Trigge.aspx)此类目的：

```
<ToggleButton Content="ToggleButton" Margin="0,30,0,0" Style="{StaticResource ChkToggleButton}">
  <i:Interaction.Triggers>
        <i:EventTrigger EventName="Checked">
             <i:InvokeCommandAction Command="{Binding FirstCommand}"
                                    CommandParameter="{Binding SomeParameter}" />
        </i:EventTrigger>
        <i:EventTrigger EventName="Unchecked">
             <i:InvokeCommandAction Command="{Binding SecondCommand}"
                                    CommandParameter="{Binding AnotherParameter}" />
        </i:EventTrigger>
  </i:Interaction.Triggers>
</ToggleButton> 
```

如果没有，`Interactivity`您可以通过安装[Expression Blend SDK](http://www.microsoft.com/en-us/download/details.aspx?id=10801)或作为[NuGet 包](http://www.nuget.org/packages/System.Windows.Interactivity.WPF/)来获取它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T10:23:09.527

使用单个命令并跟踪切换状态。

有一个视图模型（最好是一些代码隐藏）并让它使用这两个输入来决定实际需要做什么。

# c# - 如何检查文本文件中是否包含多于一行的文本？

> ID：11932216
> 
> 赞同：0
> 
> 时间：2012-08-13T10:13:29.490
> 
> 标签：c#

我有这个代码：

```
BeginInvoke(new Action(() => tempNamesAndTexts.ForEach(Item => textBox1.AppendText(DateTime.Now + "===> " + Item + Environment.NewLine))));
                foreach (string items in tempNamesAndTexts)
                {

                        Logger.Write(items);

                } 
```

一旦我运行程序，它将执行： Logger.Write(items); 然后文本文件将如下所示：

丹妮你好罗恩你好耶尔再见乔希大家好

下次我运行程序时，它会将相同的字符串写入文本文件。我想检查这个字符串是否已经存在于文本文件中，不要再写它们，否则写所以结果将是每次我运行程序时，它只会写入记录器（文本文件），如果有的话，只有新的字符串。

这是记录器文本文件的字符串变量：

```
full_path_log_file_name 
```

这个变量里面有：

```
C:\\Users\\Chocolade\\AppData\\Local\\ChatrollLogger\\ChatrollLogger\\log\\logger.txt 
```

这是完整的代码，直到这部分是 DoWork 在我运行程序时总是做的部分：

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using System.Net;
using System.IO;
using System.Text.RegularExpressions;
using System.Threading;
using DannyGeneral;

namespace ChatrollLogger
{
    public partial class Form1 : Form
    {
        string log_file_name = @"\logger.txt";
        string full_path_log_file_name;
        string path_log;
        bool result;
        List<string> namesAndTexts;
        WebResponse response;
        StreamReader reader;
        string profileName;
        string profileNameText;
        string url;
        string testingUrl;
        int index;
        List<string> names; 
        List<string> texts;
        WebClient wc;

        public Form1()
        {
            InitializeComponent();
            Logger.exist();
            wc = new WebClient();
            result = true;
            url = "http://chatroll.com/rotternet";
            testingUrl = "http://chatroll.com/testings";
            backgroundWorker1.RunWorkerAsync();
            path_log = Path.GetDirectoryName(Application.LocalUserAppDataPath) + @"\log";
            full_path_log_file_name = path_log + log_file_name;
        }

        private void Form1_Load(object sender, EventArgs e)
        {

        }

        private void backgroundWorker1_DoWork(object sender, DoWorkEventArgs e) 
        {
            BackgroundWorker worker = sender as BackgroundWorker; 
            List<string> tempNamesAndTexts = new List<string>();
            string tempDownload = downloadContent();
            GetProfileNames(tempDownload);
            GetTextFromProfile(tempDownload);
            for (int i = 0; i < names.Count; i++)
            {
                tempNamesAndTexts.Add(names[i] + " " + texts[i]);

            }
            if (InvokeRequired)
            {
                BeginInvoke(new Action(() => tempNamesAndTexts.ForEach(Item => textBox1.AppendText(DateTime.Now + "===> " + Item + Environment.NewLine))));
                foreach (string items in tempNamesAndTexts)
                {

                        Logger.Write(items);
                        string t = full_path_log_file_name;

                }
            } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:16:18.530

使用[File.ReadAllLines](http://msdn.microsoft.com/en-us/library/s2tte0y1.aspx)

```
string[] array = File.ReadAllLines("test.txt");
if(array.Length > 0)
{
// lines exist
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:33:32.257

像这样的东西？

```
string path = "test.txt";
string valueToWrite = "....";

//only write to the file, if the specified string is not already there
if(!File.ReadLines(path).Any(l => string.Equals(l, valueToWrite)))
{
    File.AppendAllText(path, valueToWrite);
} 
```

# jsf - Rich Faces 4.2.2.Final 无法让皮肤正常工作

> ID：11932217
> 
> 赞同：-1
> 
> 时间：2012-08-13T10:13:33.250
> 
> 标签：jsf, richfaces

我是 RichFaces 的新手。对于我的应用程序，我无法将皮肤应用于我的数据表组件。我知道有关于这个[https://community.jboss.org/thread/161480](https://community.jboss.org/thread/161480)的现有线程 我遵循了所有配置，但皮肤仍然不会应用。见下图。

![在此处输入图像描述](../Images/b8435a9bfd75e3cd5dd7f184a19d1086.png)

我尝试了线程中提到的 4.0.0.20101226-M5 版本，但它仍然无法正常工作。这是我当前的代码：

我的 pom.xml

```
 <properties>
     <org.richfaces.bom.version>4.2.2.Final</org.richfaces.bom.version>
     <webflow-version>2.3.1.RELEASE</webflow-version>
     <mojarra-version>2.1.7</mojarra-version>
 </properties>

  <!-- RichFaces -->

  <dependency>
        <groupId>org.richfaces.cdk</groupId>
        <artifactId>annotations</artifactId>
        <scope>provided</scope>
        <version>${org.richfaces.bom.version}</version>         
  </dependency>

  <dependency>
       <groupId>org.richfaces.ui</groupId>
       <artifactId>richfaces-components-ui</artifactId>
  </dependency>

  <dependency>
      <groupId>org.richfaces.core</groupId>
      <artifactId>richfaces-core-impl</artifactId>
  </dependency> 
```

我的 web.xml

```
 <!-- Use JSF view templates saved as *.xhtml, for use with Facelets -->
  <context-param>
      <param-name>javax.faces.DEFAULT_SUFFIX</param-name>
      <param-value>.xhtml</param-value>
  </context-param>
  <!-- Enables special Facelets debug output during development -->
  <context-param>
      <param-name>javax.faces.PROJECT_STAGE</param-name>
      <param-value>Development</param-value>
  </context-param>

  <!-- Causes Facelets to refresh templates during development -->
   <context-param>
        <param-name>javax.faces.FACELETS_REFRESH_PERIOD</param-name>
        <param-value>1</param-value>
   </context-param>

   <!-- Plugging the "Blue Sky" skin into the project -->
   <context-param>
        <param-name>org.richfaces.skin</param-name>
        <param-value>blueSky</param-value>
   </context-param>

   <context-param>
        <param-name>org.richfaces.enableControlSkinning</param-name>
        <param-value>true</param-value>
   </context-param>

   <context-param>
        <param-name>org.richfaces.enableControlSkinningClasses</param-name>
        <param-value>false</param-value>
   </context-param>

   <listener>
      <listener-class>org.springframework.web.context.ContextLoaderListener</listener-    
    class>
   </listener>
    <servlet>
   <servlet-name>Spring MVC Dispatcher Servlet</servlet-name>
   <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
  <init-param>
  <param-name>contextConfigLocation</param-name>
  <!-- change servlet-context.xml to web-application-config.xml -->
  <param-value><!-- /WEB-INF/spring/web-application-config.xml --></param-value>
   </init-param>
  <load-on-startup>2</load-on-startup>
</servlet>

 <servlet-mapping>
    <servlet-name>Spring MVC Dispatcher Servlet</servlet-name>
    <url-pattern>/spring/*</url-pattern>
 </servlet-mapping>

 <!-- Just here so the JSF implementation can initialize, *not* used at runtime -->
 <servlet>
     <servlet-name>Faces Servlet</servlet-name>
     <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
     <load-on-startup>1</load-on-startup>
 </servlet>

 <servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>*.faces</url-pattern>
</servlet-mapping>

<welcome-file-list>
       <welcome-file>index.html</welcome-file>
</welcome-file-list> 
```

我的页面

```
<?xml version='1.0' encoding='UTF-8' ?>
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 <ui:composition xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
         xmlns:rich="http://richfaces.org/rich"
         xmlns:a4j="http://richfaces.org/a4j">

<h:head>
     <title>Data Tables</title>
</h:head> 

<h:body>
     <h3>JSF STARTED!</h3>
<rich:panel>

     <rich:dataTable value="#{userBean.users}" var="user" rows="5" >
<rich:column>
     <f:facet name="header">User</f:facet>
     <h:outputText id="name" value="#{user.name}"/>
</rich:column>
<rich:column>
     <f:facet name="header">Email</f:facet>
     <h:outputText id="email" value="#{user.email}"/>
</rich:column>
</rich:dataTable>

</rich:panel>

</h:body>
</ui:composition> 
```

对不起，文字墙，但任何建议将不胜感激！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-02T09:02:11.380

尝试使用`<html>`标签开始你的 facelet。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
            <html xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:rich="http://richfaces.org/rich">
        <h:head>
        ...
        </h:head>

        <h:body>
         ...
        </h:body>
</html> 
```

看看是否有帮助。

# ios - 精灵没有更新到正确的位置

> ID：11932218
> 
> 赞同：1
> 
> 时间：2012-08-13T10:13:37.173
> 
> 标签：ios, cocos2d-iphone, box2d, box2d-iphone

我已经编写了一个代码来使用 CCLog 显示当释放移动鼠标时精灵的确切位置。下面是 Sprite.mm 类和 ccTouchesEnded 方法（在 HelloWorldLayer.mm 类中）。精灵位置没有更新，输出一直是 x: 0.00 和 y: 0.00。

精灵.mm：

```
-(id)addSprite:(CCLayer *)parentLayer
                 inWorld:(b2World *)world
{
PhysicsSprite *aSprite = [PhysicsSprite spriteWithFile:@"spriteIm.png"];

aSprite.tag = 1;
[parentLayer addChild:aSprite];

b2BodyDef spriteBodyDef;
spriteBodyDef.userData = aSprite;
spriteBodyDef.type = b2_dynamicBody;
CGSize s = [CCDirector sharedDirector].winSize;
spriteBodyDef.position = [Convert toMeters:ccp(s.width * 0.25,s.height-400)];
b2FixtureDef fixtureDef;
fixtureDef.density = 0.01;
b2CircleShape circleShape;
circleShape.m_radius = aSprite.contentSize.width/2 / PTM_RATIO;
fixtureDef.shape = &circleShape;

spriteBody = world->CreateBody( &spriteBodyDef );
spriteFixture = spriteBody->CreateFixture( &fixtureDef );

[aSprite setPhysicsBody:spriteBody];

return aSprite;
} 
```

ccTouchesEnd:

```
- (void)ccTouchesEnded:(NSSet *)touches withEvent:(UIEvent *)event
{

if (mouseJoint)
{
  for(b2Body *b = world->GetBodyList(); b; b=b->GetNext()) {
    if (b->GetUserData() != NULL) {
        CCSprite *mySprite = (CCSprite *)b->GetUserData();
        if (mySprite.tag == 1) {
            CGPoint spritePosition = mySprite.position;
            CCLOG(@"the sprite position is x:%0.2f, y:%0.2f", spritePosition.x, spritePosition.y);
        }
    }
}        

world->DestroyJoint(mouseJoint);
mouseJoint = NULL;
}
} 
```

请帮忙。我已经做了几天了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T14:03:52.080

我终于设法让它工作了。我猜 x:0.00 和 y:0.00 是因为我占据了精灵的位置而不是身体。sprite 是 body 的父对象，因此它在其父对象中给出了它的位置，即 0,0。我是这样理解的。这是我对 ccTouchesEnded 代码所做的更改。

ccTouchesEnd:

```
- (void)ccTouchesEnded:(NSSet *)touches withEvent:(UIEvent *)event
{

if (mouseJoint)
{
    for(b2Body *b = mouseJoint->GetBodyB(); b; b=b->GetNext())    {
        if (b->GetUserData() != NULL)
        {
            CCSprite *mySprite = (CCSprite*)b->GetUserData();

            if (mySprite.tag == 1) {
                mySprite.position = CGPointMake( b->GetPosition().x * PTM_RATIO, b->GetPosition().y * PTM_RATIO);
                CCLOG(@"the sprite postion is x:%0.2f , y:%0.2f", mySprite.position.x, mySprite.position.y);

            }
        }
    }

    world->DestroyJoint(mouseJoint);
    mouseJoint = NULL;
}
} 
```

# jquery - 无法识别的表达式： :[type=checkbox] with jQuery 1.8

> ID：11932219
> 
> 赞同：5
> 
> 时间：2012-08-13T10:13:37.580
> 
> 标签：jquery, jquery-selectors, sizzle

我将代码更新为 jQuery 1.8 并开始收到此错误：

```
unrecognized expression: :[type=checkbox] 
```

当然这是说`:[type=checkbox]`新版本的jQuery无法识别该表达式，我的问题是：

**我输入的方式错误，或者它是一个错误**？

我已经在 jsFiddle [http://jsfiddle.net/4y8tb/6/](http://jsfiddle.net/4y8tb/6/)上制作了这个版本进行测试，打开控制台查看日志，如果您更改 jQuery 版本，您会看到一个可以工作，一个不能工作。

我尝试了其他一些语法（如`:[type="checkbox"]`）但失败了。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-13T10:16:21.063

改变这个：

```
$('input:[type=checkbox]') 
```

到：

```
$('input[type=checkbox]') 
```

您正在使用[`Attribute Equals`](http://api.jquery.com/attribute-equals-selector/)选择器，语法应该是：

```
$('element[attribute="value"]') 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-13T10:15:12.303

jQuery 有一个自己的复选框伪选择器：

```
$(':checkbox') 
```

# php - PHP：数字数组可以加起来数字吗

> ID：11932220
> 
> 赞同：8
> 
> 时间：2012-08-13T10:13:38.530
> 
> 标签：php, numbers, sum, add

这更像是一个谜。我实际上找到了一个解决方案，但它太慢了，我以为我失去了互联网连接（见下文）。

## 这是问题所在：

假设我有一个数字数组，如下所示：

```
$numbers_array = array(1, 2, 3, 4, 5, 6, 7, 8, 9); 
```

假设我有一些数字，存储在变量中，如下所示：

```
$sum = 15;
$sum2 = 24;
$sum3 = 400; 
```

我正在尝试创建一个函数，如果`$numbers_array`可以将其中的任何数字加在一起（每个数字仅使用一次）以形成总和，则该函数将返回 true：

```
function is_summable($array_of_nums, $sum_to_check) {
    //What to put here?
}

var_dump(is_summable($numbers_array, $sum));
var_dump(is_summable($numbers_array, $sum2));
var_dump(is_summable($numbers_array, $sum3)); 
```

以上应输出：

```
bool(true)
bool(true)
bool(false) 
```

因为 7 + 8 = 15, 7 + 8 + 9 = 24，但是 1-9 的任何组合都不能创造 200。

**这是我的极慢解决方案：**

```
function is_summable($numbers, $sum) {
    //Sort provided numbers and assign numerical keys.
    asort($numbers);
    $numbers = array_values($numbers);

    //Var for additions and var for number of provided numbers.
    $total = 0;
    $numbers_length = count($numbers);

    //Empty var to fill below.
    $code = '';

    //Loop and add for() loops.
    for ($i = 0; $i < $numbers_length; $i++) {
        $code .= 'for ($n' . $i . ' = 0; $n' . $i . ' < ' . $numbers_length . '; $n' . $i . '++) {';

        if ($i != 0) {
            $code .= 'if ($n' . $i . ' != $n' . ($i - 1) . ') {';
        }

        $code .= '$total += intval($numbers[$n' . $i . ']);';
        $code .= 'if ($total == $sum) {';
        $code .= 'return true;';
        $code .= '}';
    }

    //Add ending bracket for for() loops above.
    for ($l = 0; $l < $numbers_length; $l++) {
        $code .= '$total -= intval($numbers[$n' . $i . ']);';
        if ($l != 0) {
            $code .= '}';
        }
        $code .= '}';
    }

    //Finally, eval the code.
    eval($code);

    //If "true" not returned above, return false.
    return false;
}

$num_arr = array(1,2,3,4,5,6,7,8,9);
var_dump(is_summable($num_arr, 24)); 
```

[http://pastebin.com/1nawuwXK](http://pastebin.com/1nawuwXK)

一如既往，感谢您的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T10:22:53.597

您的问题实际上是一个标准算法问题（正如 Jon 提到的背包问题），更具体地说是[Subset sum question](http://en.wikipedia.org/wiki/Subset_sum)。它可以在多项式时间内求解（查看[wiki 页面](http://en.wikipedia.org/wiki/Subset_sum#Polynomial_time_approximate_algorithm)）。

伪代码：

```
initialize a list S to contain one element 0.
for each i from 1 to N do
  let T be a list consisting of xi + y, for all y in S
  let U be the union of T and S
  sort U
  make S empty 
  let y be the smallest element of U 
  add y to S 
  for each element z of U in increasing order do
     //trim the list by eliminating numbers close to one another
     //and throw out elements greater than s
    if y + cs/N < z ≤ s, set y = z and add z to S 
if S contains a number between (1 − c)s and s, output yes, otherwise no 
```

# jquery-mobile - 如何在表格内的 JQM 中创建一个小方形复选框？

> ID：11932222
> 
> 赞同：0
> 
> 时间：2012-08-13T10:13:45.043
> 
> 标签：jquery-mobile

这段代码：

```
<td>
    <label>
        <input type="checkbox">
    </label>
</td> 
```

产生这个：![宽的](../Images/0da4c171b10e1d912d01d3ac5012f7d3.png)，它很宽。我只想要复选框方形部分，就像[这个演示中](http://www.stokkers.mobi/jqm/tableview/demo.html)的复选框一样。编写只`<td><input type="checkbox"></td>`创建简单的复选框（不是 JQM 样式），因为它在表格内。

有人有简单的解决方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:27:29.910

首先，您将无法自定义默认开发的 HTML 控件。我的意思是从复选框中取出正方形部分。

您共享的链接是在 css 类和图像的帮助下完成的。

最初。

```
<label class="ui-btn ui-btn-icon-left ui-btn-corner-all ui-checkbox-on 
ui-btn-up-c" data-theme="c" for="selectRow-2">
<span class="ui-btn-inner ui-btn-corner-all" aria-hidden="true">
<span class="ui-btn-text">
</span>
<span class="ui-icon ui-icon-shadow ui-icon-checkbox-on">
</span>
</span>
</label> 
```

稍后，当您在 java 脚本的帮助下单击正方形时，它们刚刚交换了类。

```
<label class="ui-btn ui-btn-icon-left ui-btn-corner-all ui-checkbox-off ui-btn-up-d" 
data-theme="d" for="selectRow-1">
<span class="ui-btn-inner ui-btn-corner-all" aria-hidden="true">
<span class="ui-btn-text">
</span>
<span class="ui-icon ui-icon-shadow ui-icon-checkbox-off">
</span>
</span>
</label> 
```

最简单的方法是在布局中使用类似的东西并用 JS 交换类。

# iphone - 使用 OAuth 登录跟踪非续订订阅？

> ID：11932225
> 
> 赞同：-1
> 
> 时间：2012-08-13T10:13:55.703
> 
> 标签：iphone, ios, in-app-purchase, storekit

Apple 拒绝不提供用户/密码服务器端功能来跟踪订阅的非续订订阅应用程序。

我计划使用 Parse.com 实现登录和注册视图。
[https://parse.com/tutorials/login-and-signup-views](https://parse.com/tutorials/login-and-signup-views)

**我想知道是否可以使用 Twitter 或 Facebook OAuth 登录来跟踪非续订订阅。**

**注意：** 用户最初无需注册即可使用我的应用程序，但当他们想要升级到高级功能时，他们需要订阅非续订订阅。

所以，我需要让用户在开始使用我的应用程序后进行注册，而不是像通常的 SaaS 应用程序那样。（例如，Evernote、DropBox，您需要先登录或注册才能开始使用他们的应用程序。）

我认为如果我当时可以使用 OAuth 登录会更容易。

**相关来源：**
[如何支持多台设备不续费内购？](https://stackoverflow.com/questions/9492898/how-to-support-multiple-devices-with-non-renewing-in-app-purchase?lq=1)
[应用程序被拒绝。如何使用 IAP 跟踪用户非续订订阅](https://stackoverflow.com/questions/9466392/app-rejected-how-to-track-user-non-renewing-subscription)
[月度订阅](https://stackoverflow.com/questions/9309917/monthly-subscription-with-iap?lq=1)
[因 iPhone 中应用程序购买中不可续订订阅类型的新拒绝而受挫？](https://stackoverflow.com/questions/10862410/floored-by-new-rejection-on-non-renewable-subscription-type-in-app-purchases-in)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-16T19:27:16.210

我通过调解中心收到了 Apple 的回复。

我们可以在用户购买订阅之后或之前使用 OAuth 来跟踪订阅，但我们需要允许用户购买订阅而不强制用户登录 Twitter 或 Facebook OAuth。

这是苹果的回复。

> 您可以使用 Facebook 或 Twitter 来跟踪订阅，但登录必须是可选的。

# c# - 如何记录执行的sql语句

> ID：11932231
> 
> 赞同：4
> 
> 时间：2012-08-13T10:14:06.370
> 
> 标签：c#, ado.net, sqlcommand

**设想**

我正在使用 ADO.NET SqlCommand 执行存储过程：

```
cmd.CommandType = CommandType.StoredProcedure;
cmd.CommandText = "sp_Trk_GetSuspiciusVisitor";
cmd.Parameters.Add(new SqlParameter("channel","gb"));
cmd.Parameters.Add(new SqlParameter("data", DateTime.Today.AddDays(-1)));
cmd.Connection = conn; 
```

我想记录执行的 sql 语句。在这种情况下，我想记录字符串：

```
sp_Trk_GetSuspiciusVisitor 'gb', '2012-08-12' 
```

**问题**

`SqlCommand`做这项工作的类或类是否有任何属性`SqlConnection`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:27:54.627

没有什么*神奇*的方法可以做到这一点，但是有许多工具可以很好地与 ADO.NET 配合使用来捕捉正在发生的事情。例如，[mini-profiler](http://miniprofiler.com/)通过包装 ADO.NET 来做到这一点，这通常只涉及对“创建连接”代码的一次更改——然后它会在内部记录操作。该代码是开源的，因此将其调整为您自己的日志记录框架将是微不足道的。

例如，如果我去（登录）到 SEDE，并查看一个随机页面，[例如，我可以在此处](https://data.stackexchange.com/stackoverflow/query/785/how-many-upvotes-do-i-have-for-each-tag)查看所有记录的 SQL 操作（无需更改代码即可获取此日志记录），[或者](https://data.stackexchange.com/mini-profiler-resources/results?id=5b261f3d-d320-40bd-b264-c9e015d7d250)以防万一变得不可用：

![在此处输入图像描述](../Images/c1325406a6968a9fd5de58395e968b19.png)

唯一的小故障是您明确使用`SqlParameter`，可能需要更改为`cmd.CreateParameter()`. 或者，使用像 dapper 这样的东西来使它更容易：

```
conn.Execute("sp_Trk_GetSuspiciusVisitor",
    new { channel = "gb", data = DateTime.Today.AddDays(-1) },
    commandType: CommandType.StoredProcedure); 
```

请注意，`declare`上面显示的语句**不是**原始查询的一部分；该工具已添加这些以方便在 SSMS 等中运行查询。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:18:32.337

不，不幸的是，您必须遍历所有参数以获取它们的值并将其与命令文本连接起来

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T10:23:18.197

或编辑您的存储过程以进行日志记录，方法是对其进行编辑以添加以下内容：

```
insert into my_sp_log 
values ('sp_trk_getSuspiciousVisitor', @channel, @data, getdate()) 
```

# python - 如何将宽度和高度（以像素为单位）转换为与 python 库 pyte 一起使用的列？

> ID：11932234
> 
> 赞同：2
> 
> 时间：2012-08-13T10:14:16.780
> 
> 标签：python, terminal, pyside

**背景**

我正在使用 Python 开发图形 ssh 客户端。我将 PySide 用于 GUI，Paramiko 的一个分支用于 ssh 交互，一个名为 Pyte 的库用于终端仿真。

**问题**

我不知道如何正确调整 pyte 终端的大小，以调整 PySide QTextEdit 的大小。我似乎只能以像素为单位获得 QTextEdit 的宽度和高度，而不是 pyte 库的 Screen.resize() 函数所需的列和行。

无论如何，要么 1\. 获取 QTextEdit 的列数和行数，要么 2\. 以在所有系统中准确的方式将像素宽度和高度转换为列和行？

**建议的解决方案**

将 QTextEdit.resizeEvent() 函数替换为自定义调整大小事件处理程序，该处理程序将调用 pyte 的 Screen.resize() 函数来调整终端大小以匹配 QTextEdit 小部件的新大小。

如果有更简单的解决方案，我非常愿意接受想法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T00:12:06.777

**解决方案**

我最终为我正在使用的小部件（QTextEdit）提取了字体度量和几何信息。然后我为 QTextEdit 实现了一个自定义调整大小事件，它处理导致更新的不同事件的捕获状态（请参阅下面代码块中我的 resizeConsoleEvent 中的第一个 if 语句），然后计算新的可用列和行并将它们传递给ssh 对象（下面的 self.shell）。

**编码**

```
def resizeConsoleEvent(self, resizeObject):
    if not self.keyPressDown and not self.blockResizing:
        # calculate maximum columns and lines based on a '|' character
        font = self.ui.console.currentFont()
        fmetric = QtGui.QFontMetrics(font)
        fontPixelWidth = fmetric.width("|")
        fontPixelHeight = fmetric.height()
        availableWidthPixels = int(self.ui.console.geometry().width())
        availableHeightPixels = int(self.ui.console.geometry().height())
        # Calculate columns and lines w/ adjustments for rounding
        self.consoleColumns = int(availableWidthPixels / fontPixelWidth) + 1
        self.consoleLines = int(availableHeightPixels / fontPixelHeight) - 3

        # resize the pyte screen I'm using with the calculated information
        self.shell.resizeConsole(self.consoleLines, self.consoleColumns)

        # block double resize event
        self.keyPressDown = False
        return False
    else:

        return True 
```

# c# - 通过 ToolStripDropDownButton.DropDownItems 显示工具栏？

> ID：11932237
> 
> 赞同：1
> 
> 时间：2012-08-13T10:14:36.767
> 
> 标签：c#, toolbar, toolstripdropdown

在我的工具栏中，我有一个`System.Windows.Forms.ToolStripDropDownButton`我想显示另一个工具栏的地方。`DropDownItems`通过将我的工具栏按钮添加到集合中，我设法让它“工作” ：

```
myToolbar.DropDownItems.AddRange(new ToolStripItem[]
{
    myButton1,
    myButton2,
    myButton3
}); 
```

但是，这会产生一个包含大量空间浪费的下拉*菜单：*

![在此处输入图像描述](../Images/ab47ba3b35996331e2e1fee3cf643d84.png)

我想显示一个工具栏，而不是菜单。也就是说，我希望我的按钮图像并排显示，没有多余的菜单内容（如上所示）。类似于工具栏按钮，上面写着“命令 X”和许多“子命令 Y”项目。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T14:03:37.720

我认为如果不自己创建一些东西，就不可能让边距的总空间消失。

您可以通过执行以下操作删除较暗的边距：

```
 ((ToolStripDropDownMenu)myToolbar.DropDown).ShowCheckMargin = false;
  ((ToolStripDropDownMenu)myToolbar.DropDown).ShowImageMargin = false; 
```

# workflow - crm/项目管理/帮助台

> ID：11932239
> 
> 赞同：-1
> 
> 时间：2012-08-13T10:14:40.457
> 
> 标签：workflow, project-management, crm

我的公司一直在评估不同的 crm/项目管理解决方案，希望找到解决我们不断增加的工作量的方法。我找到了一些很好的 crm 解决方案、一些很好的 PM 解决方案和一些很好的帮助台，但没有一个可以很好地集成。似乎所有包含所有选项的“一揽子交易”通常都做得很差。

我参与了一些客户销售、大量项目管理和大量帮助台查询。为了大致了解我的一天，我需要跟踪 3 个完全不同的系统中的任务 + 处理电子邮件和日历。那是分散在 5 个不同地方的任务/会议，我不觉得我对我的一天有一个很好的概述。我花了很多时间来推动任务，以确保我不会忘记任何事情。

人们使用什么样的解决方案来避免这种情况？有没有一个我错过的好的“一体化”解决方案。或者人们是否使用能够很好地相互集成的工具？或者，问题出在我的工作流程上。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-30T16:46:06.593

我和我的团队也遇到过类似的情况。我们已经测试了 Trello、Asana 等等。就我而言，我正在同时处理多个项目，每个项目都涉及不同的人群。而且，经过所有的搜索，[Wrike](https://www.wrike.com/)似乎是最好的选择。

我喜欢它，因为它有一个简单而清晰的仪表板视图（包括我当前和过期的任务、分配给其他人的任务等）、活动流和甘特图，解决了我的工作负载管理问题。它还可以非常方便地管理我们的[CRM 工作流程](http://www.youtube.com/watch?v=bj8qVKqRu30)，将我们所有的潜在客户和项目保存在一个应用程序中。嗯，电子邮件集成是我个人最喜欢的（基本上，它将我的电子邮件转换为任务，我只需将 Wrike 添加到电子邮件的 CC 中，它就会传输到应用程序中）。这一点，Outlook 插件和其他几个集成帮助我们最大限度地减少迭代并避免丢失数据。Wrike 实际上已成为我们一直在寻找的“一体化”工具。

希望，你也会发现它有帮助。告诉我后来怎么样了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-14T08:46:24.010

通常来说，一般来说：

*   客户不关心项目管理，只关心“我的东西在哪里？”
*   客户通常会通过电子邮件纠缠您
*   开箱即用的东西不会 100% 满足您的需要（需要调整）
*   除非一切都在一个工具中，否则您没有机会减少数据孤岛和不断“跳来跳去”会扼杀生产力

恕我直言，您需要三个项目：

*   销售/CRM 'lite' = 提供简单的销售渠道/机会管理。
*   帮助台 = 收到的电子邮件自动上交客户的票等。
*   跟踪 = 用于通过工作流管理任务，以便在内部完成工作。

只需在这三个项目之间链接项目，以便人们获得业务的“连接”视图。不要沉迷于甘特图，而是专注于管理简单的任务列表、工单等。这就是需要管理的。

您还需要一个 Outlook 连接器，以便：

*   您可以在 Help-desk 项目中一键将客户电子邮件转换为工单
*   您可以在 Outlook 中查看分配给您的内容
*   您可以在 Outlook 日历中看到项目何时开始/结束

您可能需要找到可以在几天而不是几周内实施和调整的东西。

免责声明：我们使用与上面描述的完全相同的模型：销售、帮助台、跟踪。我们构建了一个名为[Gemini](http://community.geminiplatform.com/blogs/17/introducing-gemini-5)的产品来尝试解决这个问题，因此偏见/意见是不可避免的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-13T18:20:12.797

Microsoft Dynamics Crm 2011 应该能够处理所有这些。

它带有一堆核心功能，然后您可以对其进行自定义和扩展以满足您的特定要求。它还与 Outlook 进行了内置集成，以处理您的电子邮件、日历和任务。

客户销售：Mscrm 附带一个销售管道，从[这里](http://crm.dynamics.com/en-gb/sales)获取更多信息，并确保观看[演示](http://uscrmdynamics.cloudapp.net/demos/Dynamics-CRM-2011-Driving-Sales-Productivity/CRM-2011-Driving-Sales-Productivity.html)以了解它如何与 Outlook 集成。

帮助台：Mscrm 带有一个通用的“客户服务”模块，您可以将其用于帮助台和支持。信息[在这里](http://crm.dynamics.com/en-gb/customer-service)和[演示](http://uscrmdynamics.cloudapp.net/demos/Dynamics-CRM-2011-Optimize-Customer-Experience/CRM-2011-Optimize-Customer-Experience.html)在这里。

项目管理：Mscrm 并没有为此内置任何东西，您需要为此扩展 Mscrm，也就是说，Mscrm 允许轻松自定义（这*并不是*说它会做您想要的一切，这*并不是*说您不需要自定义有时代码，这*并不是*说它很容易）。这里有一些信息[。](http://crm.dynamics.com/en-gb/extended-crm)

没错，所有人都这么说，作为一个小小的免责声明：我不为 Microsoft 工作，我不会从你购买 Mscrm 那里得到任何东西（除非你碰巧将我的公司用作 IT 咨询公司）。我也不知道 Mscrm 与市场上的其他 Crm 相比如何。但是我确实知道 Mscrm 是一个非常强大的系统。

希望这可以帮助您做出明智的决定。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-12-17T21:57:56.500

每个人都有他们最喜欢的 PM / Tracker 软件，以及他们最不喜欢的软件，但是这个（JIRA）对于我曾经工作过的一个非常复杂和快节奏的开发商店来说效果很好：

[https://www.atlassian.com/software/jira/whats-new](https://www.atlassian.com/software/jira/whats-new)

**注意事项**

*   它主要是一个错误跟踪器，因此工作流程和问题过滤至关重要
*   它可以通过电子邮件到工单功能用作帮助台服务，但需要一些（非编码）攻击
*   拥有许多有用插件的中型开发者社区
*   虽然比大多数 CRM 解决方案更昂贵，更便宜
*   许多报告功能和插件，包括 Gantt Agile/SCRUM/waterfall OOTB 设置

Atlassian 做到了，虽然他们的文档和客户服务不是最好的，但它们足以在调试时完成工作，而且它是一家足够大的公司，可以被认为是稳定的（当事情发生时用于 CYA 保护坏的）。

我个人将 JIRA 实例变成了一个 PM 系统，可用于 50 多个项目（内部和面向客户），在任何给定时间在 5-15 个部门中拥有 300 多个用户，具有集成的版本控制功能（票证可能会通过 git commit 受到影响消息），我们还使用它来处理办公室间的请求（从打印机设置到域购买）。

在某些方面，我们将其扩展得太远了（当太多部门在流程中拥有发言权时，工作流程变得异常复杂），但在某些方面，我们几乎没有触及到它可以做的事情的表面（它的报告功能非常强大）。

让一个工具完成所有工作并不总是最好的主意，但是当事态发展时，JIRA 并不是我们能做出的最糟糕的选择，它最终对前端/客户端用户来说看起来很棒。对于一小群人来说可能有点多，但可以处理从小型到超大型（1000 多个用户）组织的任何事情。

[编辑：忘了提一下，日历集成（尤其是 iCal）在我使用它时并不是那么好，许多事件要么在 JIRA 内，要么在 JIRA 外（在 iCal、gCal 等中），但它可能已经得到改进近两年]

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-14T08:49:53.040

考虑[RT](http://bestpractical.com/rt/)。我是一个粉丝，不希望从这个建议中获得任何实质性的好处。确实，由于问题是 OT，所以我希望失去代表。

# security - 对抗冷启动攻击：如何在 Haskell 中约束敏感信息

> ID：11932246
> 
> 赞同：11
> 
> 时间：2012-08-13T10:15:01.167
> 
> 标签：security, haskell

有什么方法可以确保在程序退出后从内存中安全地删除密钥材料？能够手动擦除它并保持程序运行会更好。由于 Haskell 使用自动垃圾收集（如果有大量可用内存，这可能根本不会发生？），我认为第二个任务是不可能的。可以使用 FFI 来实现服务于目的的东西吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-08-13T11:06:15.680

GHC 可以在不再需要内存时将内存返回给操作系统，因此仅在退出时清空内存不会达到您的目标。垃圾收集是一项复杂的业务，但通常无法确保您的安全数据的旧副本不会返回到操作系统内存池。

但是，操作系统会在将您的内存分配给另一个进程之前将其清空。如果您不相信操作系统可以保证您的内存安全，那么您将面临更大的问题。

我不确定您所说的“不可靠”是什么意思；Haskell GC 是可靠的，但该程序对正在发生的事情的可见性相对较低。

但是，如果您只关心加密密钥而不是大而复杂的数据结构，那么生活会变得更好一些。您可以使用[外部指针](http://hackage.haskell.org/packages/archive/base/4.2.0.1/doc/html/Foreign-ForeignPtr.html)指向您的密钥的内存位置，然后将该位内存消隐到终结器的一部分中。您甚至可以编写一些代码来分配一块内存，[将其锁定](http://linux.die.net/man/2/mlock)，然后根据请求将外部指针传递给该内存的键大小块，并使用终结器擦除键。那可能会做你想要的。

ForeignPtr 的要点是保证它不会被 GC 移动或重新解释。

# facebook - SoundCloud 的 Facebook 身份验证不起作用

> ID：11932252
> 
> 赞同：5
> 
> 时间：2012-08-13T10:15:18.843
> 
> 标签：facebook, authentication, soundcloud

我仍然遇到这里描述的错误：[SoundCloud's connect with Facebook not working in iOS](https://stackoverflow.com/questions/9804279/soundclouds-connect-with-facebook-not-working-in-ios)。

我的应用程序是在 Adob​​e AIR 中构建的。该应用程序的名称是 CloudDeck (clouddeck.net)。

临时解决方案可以帮助您缩小问题范围：如果用户登录 Facebook 以共享顶部带有 [f] 图标的链接（因此不使用 SoundCloud 的 Facebook 连接），那么 SoundCloud 的 Facebook 连接将起作用。我使用“ [https://www.facebook.com/dialog/oauth](https://www.facebook.com/dialog/oauth) ” URL 来实现该功能。

上面的截图是 SoundCloud Facebook 连接重定向的地方![在此处输入图像描述](../Images/5487e496482a545918f7555e239e8017.png)

# wymeditor - 从 WYMeditor 获取几个 textarea 的值

> ID：11932255
> 
> 赞同：1
> 
> 时间：2012-08-13T10:15:30.520
> 
> 标签：wymeditor

我想从 WYMeditor 获取两个 textarea 的值：

第一个：

```
<script type="text/javascript">
 jQuery(function() {
    $(" .wymeditor").wymeditor({
     logoHtml: '',
     lang: 'fr',
     skin: 'default',
    });
 });
</script> 
```

第二个：

```
<script type="text/javascript">
 jQuery(function() {
  $(" .wymeditor_ref").wymeditor({
     logoHtml: '',
     lang: 'fr',
     skin: 'silver',
  });
 });
</script> 
```

HTML：

```
<textarea id="definition" class="wymeditor" name="definition"/></textarea>
<textarea id="references_definitions" class="wymeditor_ref" name="definition"/></textarea> 
```

我正在使用这个：WYMeditor.INSTANCES[0].html();

但是，问题是如果有两个 textarea，我不知道该怎么做。如何获得第二个值？

非常感谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T18:22:14.807

## 获取具有已知顺序的特定 WYMeditor 实例 HTML

如果您只是想遍历特定页面上所有 WYMeditor 实例的结果，那么您的数组索引方法就可以了。如果您知道创建 WYMeditor 实例的顺序，您将执行以下操作：

```
var wymResults,
    wymRefResults;

wymResults = WYMeditor.INSTANCES[0].xhtml();
wymRefResults = WYMeditor.INSTANCES[1].xhtml(); 
```

## 从所有 WYMeditor 实例中获取 HTML

如果您有未知数量的 WYMeditor 实例，您可以通过以下方式获得所有实例的结果：

```
var results = [],
    i;
for (i = 0; i < WYMeditor.INSTANCES.length; i++) {
    // Do something with the xhtml results
    results.push(WYMeditorINSTANCES[i].xhtml());
} 
```

## 获取具有未知实例化顺序的特定 HTML 结果

如果您想检索哪个 WYMeditor 实例很重要（通常是这种情况），您需要在创建特定实例时存储对它们的引用。例如。

```
var wym,
    wymRef,
    wymResults,
    wymRefResults;

// Instantiate my WYMeditor instances
wym = $(".wymeditor").wymeditor();
wymRef = $(".wymeditor_ref").wymeditor();

// Let's grab the results. This will probably live in some kind of `submit()` handler.
wymResults = wym.xhtml();
wymRefResults = wymRef.xhtml(); 
```

## 使用`xhtml()`，而不是`html()`

另一个针对您的示例的注释，但您应该使用`xhtml()`调用而不是`html()`调用来确保一致的跨浏览器标记。

该`html()`调用不会通过解析器运行生成的 HTML 或执行任何特定于浏览器的清理，这意味着如果您要在 Chrome 中创建的 IE9 中加载一些 html，只需调用`html()`而不进行任何更改将意味着结果HTML 会略有不同。不同的浏览器需要稍微不同的 HTML 来提供一致的编辑体验，而 WYMeditor 会为您抽象出来，假设您使用它`xhtml()`来获得结果。

# c# - C#从列表中赋值 到一个字符串变量

> ID：11932257
> 
> 赞同：3
> 
> 时间：2012-08-13T10:15:33.847
> 
> 标签：c#

在 Java 中，我可以将 Vector 中的值赋给 String 变量。

```
String str = vector1.elementAt(0).toString(); 
```

如何在 C# 中使用 List 做同样的事情？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T10:17:11.440

```
List<string> list = ...
...
string str = list[0];
... 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-13T10:17:27.063

您可以将索引与列表一起使用。

```
List<string> list = new List<string>();
string str = list[0]; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-13T10:34:29.787

有很多方法可以做到这一点：

假设

```
List<string> yourList; 
```

然后以下所有内容都会将元素放置`index`在字符串变量中：

1.  `string s = yourList[index];`
2.  `string s = yourList.ToArray()[index];`
3.  `string s = yourList.ElementAt(index);`

在上述所有内容中，`index`必须在范围内，`0 - (yourList.Length-1)`因为 C# 中的数组索引是从零开始的。

另一方面，虽然看起来相同，但它甚至无法编译：

4.  `string s = youList.Skip(index).Take(1);`

`.Take()`在这种情况下不返回 a`string`但 a`IEnumerable<string>`仍然是一个集合。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-13T10:27:23.937

`String str = vector1[0].ToString();`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-13T10:23:04.190

```
//Creating a list of strings
List<string> lst = new List<string>();
...
//The string is filled with values, i is an int
string ithValue = lst[i]; 
```

# r - 将 sdmx-xml 文件读入 R 中的数据框

> ID：11932259
> 
> 赞同：6
> 
> 时间：2012-08-13T10:15:43.953
> 
> 标签：r, xml, dataset, sdmx

我想知道是否有人设法将 SDMX-XML 文件读入数据帧。我想阅读的文件是[https://www.ecb.europa.eu/stats/sdmx/icpf/1/data/pension_funds.xml](https://www.ecb.europa.eu/stats/sdmx/icpf/1/data/pension_funds.xml) (1mb)。我将文件作为“pensions_funds.xml”保存到 pwd 并尝试使用 XML 包读取它：

```
fileName <- system.file("pensions", "pensions_funds.xml", package="XML")
parsed<-xmlTreeParse("pension_funds.xml",getDTD=F)
r<-xmlRoot(parsed)
tmp = xmlSApply(r, function(x) xmlSApply(x, xmlValue)) 
```

上面的几行基本上遵循这里的示例[http://www.omegahat.org/RSXML/gettingStarted.html](http://www.omegahat.org/RSXML/gettingStarted.html) 但我想我首先需要以某种方式忽略标题（我已粘贴在文件的前几页下面我'正在尝试阅读）。所以我认为上述方法可能有效，但出于我的目的，它从错误的节点开始。我想获取由 time_period 和 ref_area 索引的 obs_values。

首先要找到正确的节点并从那里开始，但是我怀疑我可能是在做傻事，因为我对数据格式的了解有限，而且我不确定 XML 包是否可用于 SDMX-XML 文件。更聪明的人似乎已经尝试过这样做 [http://opensdmxdevelopers.wikispaces.com/RSDMX](http://opensdmxdevelopers.wikispaces.com/RSDMX) 我在这里的主页上找不到这个包供下载 [https://r-forge.r-project.org/projects/rsdmx /](https://r-forge.r-project.org/projects/rsdmx/) （我看不到任何链接/下载部分，但也许我是盲人）而且似乎还处于早期阶段。rsdmx 的存在表明使用 xml 包来读取 sdmx 可能并不容易，所以我准备在这个阶段放弃，除非有人在这方面取得了成功。其实我主要对阅读这个文件感兴趣 [http://www.ecb.europa.eu/stats/sdmx/bsi/1/data/outstanding_amounts.xml](http://www.ecb.europa.eu/stats/sdmx/bsi/1/data/outstanding_amounts.xml) 但这是一个 10mb 的文件，所以我开始变小了。

**edit3** 使用 Mischa 的评论库（“XML”）中的更改尝试 sgibb 对大文件的回答

```
url <- "http://www.ecb.europa.eu/stats/sdmx/bsi/1/data/outstanding_amounts.xml"

    sdmxHandler <- function() {
  ## data.frame which stores results
  data <- data.frame(stringsAsFactors=FALSE)
  ## counter to store current row
  i <- 1
  ## temp value to store current REF_AREA
  ## temp value to store current REF_AREA
  refArea <- NA
  bsItem <- NA
  bsCountSector <- NA

  ## handler subroutine for Obs tag
  Obs <- function(name, attr) {
    ## found an Obs tag and now fill data.frame
    data[i, "refArea"] <<- refArea
    data[i, "timePeriod"] <<- as.numeric(attr["TIME_PERIOD"])
    data[i, "obsValue"] <<- as.numeric(attr["OBS_VALUE"])
    data[i, "bsItem"] <<- bsItem
    data[i, "bsCountSector"] <<- bsCountSector
    i <<- i + 1
  }

  ## handler subroutine for Series tag
  Series <- function(name, attr) {
    refArea <<- attr["REF_AREA"]
    bsItem <<- as.character(attr["BS_ITEM"])
    bsCountSector <<- as.numeric(attr["BS_ITEM"])
  }
  return(list(getData=function() {return(data)},
              Obs=Obs, Series=Series))
}

## run parser
df <- xmlEventParse(file(url), handlers=sdmxHandler())$getData()
Specification mandate value for attribute OBS_VALUE
attributes construct error
Couldn't find end of Start Tag Obs line 15108
Premature end of data in tag Series line 15041
Premature end of data in tag DataSet line 91
Premature end of data in tag CompactData line 2
Error: 1: Specification mandate value for attribute OBS_VALUE
2: attributes construct error
3: Couldn't find end of Start Tag Obs line 15108
4: Premature end of data in tag Series line 15041
5: Premature end of data in tag DataSet line 91
6: Premature end of data in tag CompactData line 2
In addition: There were 50 or more warnings (use warnings() to see the first 50) 
```

**edit2：** sgibb 的答案看起来很理想，并且在较小的文件上完美运行。我试图运行它

```
url <- http://www.ecb.europa.eu/stats/sdmx/bsi/1/data/outstanding_amounts.xml 
```

（10mb 文件，原始链接已更正），唯一的修改是添加了两行：

```
data[i, "bsItem"] <<- as.character(attr["BS_ITEM"])

data[i, "bsCountSector"] <<- as.numeric(attr["BS_COUNT_SECTOR"]) 
```

（这些是在这个更大的数据集中识别一行所需的额外 id 变量）。它运行了几分钟，然后出现此错误：

> 错误：1：属性 TIME_PE 的规范要求值
> 2：属性构造错误
> 3：找不到开始标签 Obs 行 20743的结尾
> 4：标签系列行 20689
> 中的数据过早结束 5：标签数据集第 91 行中的数据过早结束6：标签 CompactData 第 2 行中的数据提前结束

另外：有 50 个或更多警告（使用 warnings() 查看前 50 个）

数据的基本格式似乎非常相似，所以我认为这可能有效。10mb文件的基本格式如下：

```
 <Series FREQ="M" REF_AREA="AT" ADJUSTMENT="N" BS_REP_SECTOR="A" BS_ITEM="A20" MATURITY_ORIG="A" DATA_TYPE="1" COUNT_AREA="U2" BS_COUNT_SECTOR="0000" CURRENCY_TRANS="Z01" BS_SUFFIX="E" TIME_FORMAT="P1M" COLLECTION="E">
        <Obs TIME_PERIOD="1997-09" OBS_VALUE="275.3" OBS_STATUS="A" OBS_CONF="F"/>
        <Obs TIME_PERIOD="1997-10" OBS_VALUE="275.9" OBS_STATUS="A" OBS_CONF="F"/>
        <Obs TIME_PERIOD="1997-11" OBS_VALUE="276.6" OBS_STATUS="A" OBS_CONF="F"/> 
```

**编辑1：**

所需的数据格式：

```
Ref_area    time_period obs_value

At  2006    118    
At  2007    119    
…    
Be  2006    101    
… 
```

这是数据的第一位。

```
 </Header>
    DataSet xsi:schemaLocation="https://www.ecb.europa.eu/vocabulary/stats/icpf/1 https://www.ecb.europa.eu/stats/sdmx/icpf/1/structure/2011-08-11/sdmx-compact.xsd" xmlns="https://www.ecb.europa.eu/vocabulary/stats/icpf/1"> 
<Group DECIMALS="0" TITLE_COMPL="Austria, reporting institutional sector Insurance corporations and pension funds - Closing balance sheet - All financial assets and liabilities - counterpart area World (all entities), counterpart institutional sector Total economy including Rest of the World (all sectors) - Credit (resources/liabilities) - Non-consolidated, Current prices - Euro, Neither seasonally nor working day adjusted - ESA95 TP table Not applicable" UNIT_MULT="9" UNIT="EUR" ESA95TP_SUFFIX="Z" ESA95TP_DENOM="E" ESA95TP_CONS="N" ESA95TP_DC_AL="2" ESA95TP_CPSECTOR="S" ESA95TP_CPAREA="A1" ESA95TP_SECTOR="S125" ESA95TP_ASSET="F" ESA95TP_TRANS="LE" ESA95TP_PRICE="V" ADJUSTMENT="N" REF_AREA="AT"/><Series ESA95TP_SUFFIX="Z" ESA95TP_DENOM="E" ESA95TP_CONS="N" ESA95TP_DC_AL="2" ESA95TP_CPSECTOR="S" ESA95TP_CPAREA="A1" ESA95TP_SECTOR="S125" ESA95TP_ASSET="F" ESA95TP_TRANS="LE" ESA95TP_PRICE="V" ADJUSTMENT="N" REF_AREA="AT" COLLECTION="E" TIME_FORMAT="P1Y" FREQ="A"><Obs OBS_CONF="F" OBS_STATUS="E" OBS_VALUE="112" TIME_PERIOD="2008"/><Obs OBS_CONF="F" OBS_STATUS="E" OBS_VALUE="119" TIME_PERIOD="2009"/><Obs OBS_CONF="F" OBS_STATUS="E" OBS_VALUE="125" TIME_PERIOD="2010"/><Obs OBS_CONF="F" OBS_STATUS="E" OBS_VALUE="127" TIME_PERIOD="2011"/></Series><Group D 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-13T13:23:14.857

*RSDMX*似乎处于早期开发状态。恕我直言，还没有可用的软件包。但是您可以使用该`XML`软件包轻松地自行实现它。我建议使用`xmlEventParse`（详见`?xmlEventParse`）：

**编辑：**使示例适应未完成金额.xml 的更改要求
**EDIT2：**添加`download.file`

```
library("XML")

#url <- "http://www.ecb.europa.eu/stats/sdmx/icpf/1/data/pension_funds.xml"
url <- "http://www.ecb.europa.eu/stats/sdmx/bsi/1/data/outstanding_amounts.xml"

## download xml file to avoid download errors disturbing xmlEventParse
tmp <- tempfile()
download.file(url, tmp) 

sdmxHandler <- function() {
  ## data.frame which stores results
  data <- data.frame(stringsAsFactors=FALSE)
  ## counter to store current row
  i <- 1
  ## temp value to store current REF_AREA, BS_ITEM and BS_COUNT_SECTOR
  refArea <- NA
  bsItem <- NA
  bsCountSector <- NA

  ## handler subroutine for Obs tag
  Obs <- function(name, attr) {
    ## found an Obs tag and now fill data.frame
    data[i, "refArea"] <<- refArea
    data[i, "bsItem"] <<- bsItem
    data[i, "bsCountSector"] <<- bsCountSector
    data[i, "timePeriod"] <<- as.Date(paste(attr["TIME_PERIOD"], "-01", sep=""), format="%Y-%m-%d")
    data[i, "obsValue"] <<- as.double(attr["OBS_VALUE"])
    ## update current row
    i <<- i + 1
  }

  ## handler subroutine for Series tag
  Series <- function(name, attr) {
    refArea <<- attr["REF_AREA"]
    bsItem <<- attr["BS_ITEM"]
    bsCountSector <<- as.numeric(attr["BS_COUNT_SECTOR"])
  }

  return(list(getData=function() {return(data)},
              Obs=Obs, Series=Series))
}

## run parser
df <- xmlEventParse(tmp, handlers=sdmxHandler())$getData()

head(df)
#  refArea bsItem bsCountSector timePeriod obsValue
#1      DE    A20          2210      12053     39.6
#2      DE    A20          2210      12084     46.1
#3      DE    A20          2210      12112     50.2
#4      DE    A20          2210      12143     52.0
#5      DE    A20          2210      12173     52.3
#6      DE    A20          2210      12204     47.3 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-09-02T10:38:45.813

包**rsdmx**允许您读取 SDMX-ML 文件并将它们强制转换为`data.frame`. 它现在托管在[Github](https://github.com/opensdmx/rsdmx)上，目前在 CRAN 中可用，但如果您可以从 GitHub 轻松安装它，请使用以下命令：

```
require("devtools")
install_github("rsdmx", "opensdmx") 
```

应用到您的数据，您可以执行以下操作：

```
sdmx <- readSDMX("http://www.ecb.europa.eu/stats/sdmx/bsi/1/data/outstanding_amounts.xml")
df <- as.data.frame(sdmx) 
```

[rsdmx wiki](https://github.com/opensdmx/rsdmx/wiki#examples)中提供了更多示例

请注意，它的功能当前将 xml 对象加载到 R 中，作为`SDMX`rsdmx 实例化的 R 对象的插槽部分。将来，我们想研究 rsdmx 如何使用`xmlEventParse`（如上面@sgibb 所建议的那样）来读取非常大的数据集。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T14:17:46.797

```
library(XML)

xmlparsed <- xmlParse(file(url))

## obtain dataset node::
series_data <- getNodeSet(xmlparsed, "//Series")

if(length(series_data)==0){

datasetnode <- xmlChildren( xmlChildren(xmlparsed)[[1]])[[2]]

series_data<-xmlChildren(datasetnode)[ names(xmlChildren(datasetnode))=="Series"]

}

## prepare dataset

dataset.frame <- data.frame(matrix(ncol=3))
colnames(dataset.frame) <- c('REF_AREA', 'TIME_PERIOD', 'OBS_VALUE')
## loop over data

counter=1
for (i in 1: length(series_data)){
  if('Obs'%in%names(xmlChildren(series_data[[i]])) ){ ## To ignore empty //Series nodes
    for (j in 1: length(xmlChildren(series_data[[i]]))){
      dataset.frame[counter,1] <- xmlAttrs(series_data[[i]])['REF_AREA']
      dataset.frame[counter,2] <- xmlAttrs(series_data[[i]][[j]])['TIME_PERIOD']
      dataset.frame[counter,3] <- xmlAttrs(series_data[[i]][[j]])['OBS_VALUE']
      counter=counter+1
    }
  }
}

head(dataset.frame,5) 
```

# sql-server-2008 - SQL Server 2005/2008：查找存在的行值并列出在我的选择列条件 IN() 中不存在的行值

> ID：11932263
> 
> 赞同：0
> 
> 时间：2012-08-13T10:15:55.563
> 
> 标签：sql-server-2008, select, if-statement, where-clause, exists

我有一个包含列的表：

```
UserID, EmployeeID, BadgeType, HiredDate, TermDate 
```

现在我需要找到`userID`与`(gbro, qunro, 1utny, ybeiot, 4ybey)`

3 个用户 ( `gbro, qunro, 1utny`) 存在，因此它与各自的列信息一起列出。

如果`ybeiot, 4ybey`根本不存在，但我仍然希望它们仍然列在单独的表中，但带有打印的消息：`User that does not exist: ybeiot;4ybey`

帮助，一直在想办法如何做到这一点。

我尝试`JOIN`了（所有连接），但没有达到我想要的效果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:26:38.823

Did you look at SQL EXISTS keyword?

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:27:06.037

```
put all the users to be searched in a temp table or table variable @userstoSearch

select * from  @userstoSearch us left join users u
on us.UserID=u.UserID where u.userID is not null

select us.UserID from  @userstoSearch us left join users u
on us.UserID=u.UserID where u.userID is null
for xml path('') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T10:28:48.903

你需要两个选择。第一个将列出现有值，第二个将列出不存在的值。[您应该使用union](http://msdn.microsoft.com/en-us/library/ms180026.aspx)关键字合并这些结果。

# ruby - Mongoid 模型的警告引用的顶级常量

> ID：11932265
> 
> 赞同：9
> 
> 时间：2012-08-13T10:15:58.713
> 
> 标签：ruby, ruby-on-rails-3, mongoid

我有以下从 Entry 模型继承的 mongoid 模型：

```
class Entry::Twitter < Entry

  field :retweet_count, :type => Integer, :default => 0
  field :retweeted, :type => Boolean, :default => false
  field :favorited, :type => Boolean, :default => false

  # in_reply_to_screen_name, in_reply_to_status_id_str, in_reply_to_user_id_str
  field :reply, :type => Hash

  field :from, :type => Hash # user: id_str, name, screen_name
  field :time, :type => Time # created_at
  field :data, :type => Hash # entities (hashtags and user_mentions)
  field :assets, :type => Hash # urls from original entities
  field :service, :type => String, :default => "twitter"

  attr_accessible :assets

  # validations
  validates_presence_of :retweet_count, :from, :time, :data

  # override set_service cause of https://github.com/sferik/twitter/issues/303

  def set_service
    self.service = "twitter"
  end
end 
```

当我尝试引用它时，我收到以下警告：

```
ruby-1.9.3-p125 :001 > Entry::Twitter
(irb):1: warning: toplevel constant Twitter referenced by Entry::Twitter
=> Twitter 
```

它没有引用我的模型，而是引用了由 gem 定义的顶级常量 Twitter。

我能做些什么来解决这个问题？我不想为我的班级使用另一个名字。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-18T17:40:40.730

这是解决方案： [https ://github.com/rails/rails/issues/6931](https://github.com/rails/rails/issues/6931)

我刚刚添加`require_dependency 'entry/twitter'`到每个引用的文件`Entry::Twitter`以避免这个问题，现在它工作正常。

# c++ - Libevent 在两台设备上同步数据

> ID：11932267
> 
> 赞同：0
> 
> 时间：2012-08-13T10:16:02.723
> 
> 标签：c++, synchronization, libevent

我正计划创建一个简单的 HTTP 文件传输服务器，它将在 android 平板电脑和 pc 之间同步文件夹内的数据。我最近才知道 Libevent 支持 HTTP api。我的计划可以实现吗？任何见解都值得赞赏。

# asp.net - 发送带有指向另一个页面的链接的电子邮件

> ID：11932272
> 
> 赞同：-1
> 
> 时间：2012-08-13T10:16:07.263
> 
> 标签：asp.net, email, hyperlink

我已经知道如何从 aspx 页面发送平面文本或 html 电子邮件。我担心的是如何在电子邮件正文的同一应用程序中创建指向另一个页面的链接。

例如，如果用户单击 page1.aspx 中的保存按钮，则应向某人发送一封电子邮件，其中包含指向 page2.aspx 的链接作为电子邮件正文的一部分。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:26:00.867

If you know how to send html e-mail, why don't you put something like that in the body:

```
<a href="http://yoursite.com/url/page2.aspx">Link to page2</a> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:43:16.653

在电子邮件正文中，您可以添加锚标记。锚标记的 href 属性将指向您要重定向用户的 URL。内部文本将是用户看到的文本。如果您希望链接在另一个选项卡中打开目标，请使用目标属性，如下所示：

```
Lick <a href="http://i.dont.know.com" target="_blank">here</a> to continue... 
```

# android - openEAR - 介绍慕尼黑开源情感和情感识别工具包

> ID：11932275
> 
> 赞同：3
> 
> 时间：2012-08-13T10:16:17.990
> 
> 标签：android, speech-recognition

我是 Android 编程的新手，我想创建一个关于语音情感识别的应用程序。在我研究的过程中，我发现 openEAR - Introducing the Munich Open-Source Emotion and Affect Recognition Toolkit 是此类项目的一个很好的工具包。但我现在唯一的问题是我将如何在 Android 中实现工具包。我不知道如何使用工具包。在我忘记之前我已经读过 OpenEar 是用 C++ 编写的，是否仍然可以在我使用 Java 的 Android 中实现它？谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T10:49:39.597

> 是否仍然可以在我使用 Java 的 Android 中实现它？

是的，您需要使用 Android NDK（本机代码开发工具包）创建包装器。详情见

[http://developer.android.com/tools/sdk/ndk/index.html](http://developer.android.com/tools/sdk/ndk/index.html)

# java - Netbeans jTable 自定义 WHERE 子句

> ID：11932278
> 
> 赞同：-1
> 
> 时间：2012-08-13T10:16:22.363
> 
> 标签：java, netbeans, jtable, where

我猜有些简单......我有一个由Netbeans创建的jTable，它绑定到一个mysql DB。

该表正在从表中获取所有数据，但我只需要获取具有特定字段值的数据。Netbeans 自动创建一个类，但我找不到添加 WHERE 子句的地方。

例如，我需要该表来执行最终查询，SELECT * WHERE ID = 123;

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:49:01.613

```
select * where ID = 123 
```

作为查询不正确。你应该先研究一下，在 30 秒内我发现[了这个](http://www.dreamincode.net/forums/topic/238459-how-to-fill-jtable-using-sql-select-statement/)，我相信它可以解决问题。

# mysql - 数据库查询以获取用户朋友阅读的通知

> ID：11932281
> 
> 赞同：0
> 
> 时间：2012-08-13T10:16:44.440
> 
> 标签：mysql

我有两张通知表和一张朋友列表。一个通知tbale 是具有创建和键入的通知信息以及所有和第二个标记哪个朋友已阅读通知的通知信息。能够检索用户创建的仅显示给用户朋友的通知。但是现在我想从第二个名为 notification 的表中读取来显示未读给用户朋友的通知。

我做的查询是（来自通知+friend_list 表）

```
$sql3=mysql_query("select n.*,f.friend_id,f.uid,f.status from notification n,friend_list f  where f.uid='$id' and f.status='1' and n.title_text='Global Notification'   and n.user_id in ('$id' , f.friend_id)  and n.owner_user_id=f.friend_id    order by n.time_stamp desc"); 
```

现在如何获得朋友未读的通知？

第二张表是

```
uid (friend_id)
notification_id
is_read 
```

现在我想要一个带有我现有查询的查询，以获取朋友未读的通知。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:27:38.370

让我们假设：

*   `'$id'` 是发出通知的用户的 id
*   `n.user_id`是引发通知的用户
*   `n.owner_user_id`是接收通知的用户

查询是：

```
select 
   n.*,f.friend_id,f.uid,f.status 
from 
   notification n 
inner join
   friend_list f  
       on n.owner_user_id=f.friend_id  
inner join
   notification_read nr 
       on nr.notification_id = n.notification_id and
          nr.uid = f.friend_id
where 
   f.status='1' and 
   n.title_text='Global Notification'   and 
   n.user_id  = '$id' and
   nr.is_read = 0
order by n.time_stamp desc 
```

***编辑***由于新的 OP 评论。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:27:49.103

尝试这个：

```
SELECT n.*,f.friend_id,f.uid,f.status
FROM notification n
     INNER JOIN friend_list f
        ON n.owner_user_id = f.friend_id
     INNER JOIN second_table s
        ON f.friend_id = s.uid AND
           n.notification_id = s.notification_id
WHERE f.uid='$id' AND
      f.status='1' AND
      n.title_text='Global Notification' AND
      n.user_id IN ('$id' , f.friend_id) AND
      s.is_read = 0
ORDER BY n.time_stamp DESC; 
```

# php - How to convert a set of BitmapDatas into video?

> ID：11932286
> 
> 赞同：0
> 
> 时间：2012-08-13T10:17:00.273
> 
> 标签：php, actionscript-3, ffmpeg

I basically need to record a video of the flash stage, and save it as a video file on the webserver. I don't have FMS or the luxury of Java based servers like Red5 to stream to, so I am pretty much stuck with HTTP post to a php script. Now I can grab invidual snapshots (bitmapDatas) Just fine, but how can I convert them to a video file? Any help is appreciated.

PS: This is not an AIR app, so I am using flash runtime. And the video would be couple seconds long so there shouldn't be much of a performance concern at this point.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:33:37.497

Flex 提供了一个 JPEG 编码器。您可以使用它来压缩位图图像并将它们发送到服务器，在那里您可以使用 ffmpeg 将它们拼接在一起。

[http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/graphics/codec/JPEGEncoder.html](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/graphics/codec/JPEGEncoder.html)

# c# - Add Database Field from Mysql Stored Procedure in Crystal Reports

> ID：11932298
> 
> 赞同：0
> 
> 时间：2012-08-13T10:17:35.940
> 
> 标签：c#, mysql, stored-procedures, crystal-reports

I'm using Mysql Stored Procedure in Crystal Reports .. my stored procedure return more fields than in this image .

How i can add these other fields ?

![enter image description here](../Images/37f71aa45cf0af4217198b4b4eedfe12.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-04T12:05:34.383

你在修改存储过程吗

如果是这样，那么您必须从数据库专家重新加载存储过程。

重新加载后，相同的内容将反映在上面的资源管理器中

# html - html按钮上的多个CSS样式

> ID：11932305
> 
> 赞同：1
> 
> 时间：2012-08-13T10:17:56.593
> 
> 标签：html, css

如果有新消息，我正在尝试为消息系统制作一个按钮以显示橙色点。但是，我无法让它正常工作。是否可以？

这是按钮

```
<input type="button" value="Messages &bull;" />​ 
```

如果有人想尝试的话，还有 jsFiddle 上的按钮 :-)

[http://jsfiddle.net/ePA47/1/](http://jsfiddle.net/ePA47/1/)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-13T10:19:23.690

改用一个`button`元素。

```
<button type="button">
   Messages <span style="color: orange;">&bull;</span>
</button> 
```

当然，不要内联添加样式。我只是为了这个例子而做的。

`button`您还可以向诸如此类的类添加一个类`new-messages`，然后执行...

```
button.new-messages:after {
    content: "•";
    color: orange;
} 
```

请记住，后者不适用于较旧的 IE。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:19:23.597

使用`<button>`而不是，`<input>`因为它具有您可以设置样式的子元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T10:23:06.870

要将橙色点添加到您的按钮，我建议使用`background-image`. 这将使您能够根据需要设计点，而不受字体类型的限制。

如果将橙色圆点添加为背景图像，则可访问性也会更好，因为这不是内容。

```
<input type="button" value="Messages" class="newmessage" />​​​​​​

​.newmessage
{
    background-image:url('http://img859.imageshack.us/img859/9611/orangedot.jpg');
        background-repeat:no-repeat;
    background-position:right center;
    padding:5px;
    padding-right:25px;
} 
```

见演示： http: [//jsfiddle.net/ePA47/3/](http://jsfiddle.net/ePA47/3/) ​</p>

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-10-19T17:30:18.270

根据问题标题，以下内容将有助于在单个样式标签中添加多种样式

```
<button type="button" style= "margin-top : 20px; border-radius: 15px" 
class="btn btn-primary">View Full Profile
</button> 
```

# c++ - 为什么`boost::multi_array_ref`的析构函数是非虚拟的？

> ID：11932306
> 
> 赞同：5
> 
> 时间：2012-08-13T10:17:57.243
> 
> 标签：c++, boost-multi-array

和之间`const_multi_array_ref`的关系如下：`multi_array_ref``multi_array`

*   `multi_array_ref`来源于`const_multi_array_ref`
*   `multi_array`来源于`multi_arry_ref`

但是， 和 的析构函数`const_multi_array_ref`是非`multi_array_ref`虚拟的。事实上，它们没有明确实现的析构函数。只有`multi_array`一个。这是否意味着不建议使用以下用法？

```
multi_array_ref<float, 2> * = new multi_array<float, 2>(extents[3][3]); 
```

如果是这样，为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-16T10:42:27.207

`multi_array`库类不是为动态多态而设计的。它们没有任何虚函数，因此将析构函数设为虚函数看起来也不合理。它是常见的类似 STL 的设计，`multi_array_ref`仅用作数据拥有和非拥有情况的统一接口适配器。

强烈不推荐您的使用示例 - 它会导致内存泄漏，因为`multi_array`析构函数不会在`delete`调用时执行。

但是`multi_array`通过引用或指针访问实例是安全的`multi_array_ref`。

# python-sphinx - XeLaTeX 构建器可以与 Sphinx 一起使用吗？

> ID：11932317
> 
> 赞同：5
> 
> 时间：2012-08-13T10:19:02.740
> 
> 标签：python-sphinx, xelatex

尽管这将解决的最终问题是 TeX 问题（为 PDF 输出安装新字体），但我正在寻找的这个特殊解决方案是 Sphinx 问题。Sphinx 在制作 PDF 时使用标准 LaTeX，到目前为止还不错，但我需要安装新字体并且尝试过但失败了。我知道这是一个使用 XeLateX 的过程要容易得多，所以想知道是否有扩展或某种方式来配置 Sphinx 以使其使用 XeLaTeX 构建器。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-18T18:39:14.957

我认为这归结为在 sphinx 开始工作之前获取一些 LaTeX 指令。

在您的 . 开头`index.rst`，您可以添加一个“原始”条目，该条目逐字传递给乳胶：

```
.. raw:: latex

   \setyournicefontorwhatever(beautiful.ttf) 
```

这有助于获得正确的字体吗？我自己使用原始乳胶条目从我的部分文档中删除部分编号（`\setcounter{secnumdepth}{-1}`在类似的“原始”条目中）。

此外，[关于构建选项的 Sphinx 文档](http://sphinx-doc.org/config.html#options-for-latex-output)有一些你可以尝试的东西。最有希望的看起来是设置中的`documentclass`项目`latex_documents`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-14T09:42:15.557

可以通过修改 make 文件以使用 xelatex 来允许 sphinx 使用 xelatex 构建器，或者简单地在两个命令中构建 doc ....make latex，然后 xelatex yourdoc.tex。然而，禁用一些软件包很重要，包括：fontenc、inputenc 和 babel，因为这些软件包根本不起作用，或者将来可能会导致问题。如果您愿意，我认为在 babel 的 leiu 中可能有替代包。此外，xelatex 已经允许 inputenc[utf8] 通常会考虑的一些（但不是全部）字符。

禁用这些可以在您的 conf.py 文件中完成，该文档显示了如何在“乳胶选项”下执行此操作的一个很好的示例：

[https://github.com/jterrace/sphinxtr/blob/master/conf.py](https://github.com/jterrace/sphinxtr/blob/master/conf.py)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-07-29T14:08:33.877

使用 xelatex 时，我将以下内容添加到 conf.py：

```
latex_elements = {

# Additional stuff for the LaTeX preamble.
    'preamble': ''' \usepackage{fontspec} \setmainfont{Times New Roman}
    ''',
    'inputenc': '',
    'fncychap': '',
    'utf8extra': '',
    'times': '',
    'babel': '\usepackage{polyglossia}',
    'cmap': '',
    'fontenc': '',
    'releasename': '', } 
```

您必须关闭许多默认的乳胶包，因为 xelatex 使用其他包或内置功能。

# javascript - Wrap something inside a canvas like Photoshop Free Transform > Warp

> ID：11932318
> 
> 赞同：1
> 
> 时间：2012-08-13T10:19:02.910
> 
> 标签：javascript, html, canvas, transform, warp

I'm planning on building some fancy notebook page tear animation effect with HTML5 Canvas. I'm not new to Javascript, though I'm new to HTML5 Canvas. It doesn't seem complicated at all. After browsing a lot of tutorials, I couldn't figure out was how to get similar functionality like Photoshop's Free Transform Warp. My idea was to paint the complete page, and then, for each animation frame, translate this differently using some kind of warp. Is this possible with a transform method or do I have to write my own method for this? See this screenshot of the warp I'm quickly drew:

![](../Images/86c2b851f50c00f451ea9acb0ec2ce23.png)

You are probably wondering why not paint a custom shape using the Quadratic Curves? Well, I want the grad pattern to be wrapped as well. So I had in mind to paint a plain page, and after that transform it using some kind of warping, warping the grid as wel..

# android - 如何适合布局背景图像

> ID：11932319
> 
> 赞同：3
> 
> 时间：2012-08-13T10:19:12.440
> 
> 标签：android, android-layout

我想为两个具有不同屏幕尺寸和相同密度的设备使用一张图像（1280x800）。

屏幕尺寸为`1280x800`和`320x480`。

图片是九个补丁（带内容区）。我想使用图像作为一行的背景，它有一个 textview 。并且不要对文本使用手动填充（我想使用内容区域）。

如果我使用这个 xml：

```
<RelativeLayout
xmlns:android = "http://schemas.android.com/apk/res/android"
xmlns:foo="http://schemas.android.com/apk/res/pak.name"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="@layout/menu_selector"
android:gravity="right|center_vertical">

<pack.name.TextViewPlus
    android:id="@+id/menutext"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:textColor="#3D1E00"
    android:textSize="@dimen/TitleNormalM"
    foo:customFont="font.ttf"
    android:text="blah blah"/> 
```

模拟器中的输出是：

![http://ivm.neru9.com/pic/2ccf95a7f2e1.png](../Images/6ef926c188196605fcbcda287f69b326.png)

如果我使用这个 xml：

```
<RelativeLayout
xmlns:android = "http://schemas.android.com/apk/res/android"
xmlns:foo="http://schemas.android.com/apk/res/pack.name."
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:paddingRight="15dp"
android:paddingLeft="15dp">

<ImageView 
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:src="@layout/menu_selector"
    android:scaleType="fitCenter"
    />

<pack.name..TextViewPlus
    android:id="@+id/menutext"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:textColor="#3D1E00"
    android:textSize="@dimen/TitleNormalM"
    foo:customFont="font.ttf"
    android:gravity="right|center_vertical"
    android:text="blah blah blah"/> 
```

输出是：

![http://ivm.neru9.com/pic/f20f7f5d2e7a.png](../Images/8b4f87c13d2a33db9e1ddd635c465658.png)

这是listview xml（我认为这对这个问题并不重要）：

```
<ListView
    android:id = "@android:id/list"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:divider="@null"
    android:dividerHeight="3dp"
    android:layout_marginTop="5dp"
    android:layout_marginBottom="5dp"
    android:cacheColorHint="@android:color/transparent"
    android:listSelector="@android:color/transparent"
    /> 
```

及其位于布局文件夹中的 menu_selector xml 代码：

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">
<!-- pressed -->
<item android:state_pressed="true" android:drawable="@drawable/bg_menu_pressed" />
<!-- selected -->
<item android:state_selected="true" android:drawable="@drawable/bg_menu_focused" />
<!-- selected & pressed -->
<item android:state_selected="true" android:state_pressed="true" android:drawable="@drawable/bg_menu_pressed" />
<!-- default -->
<item android:drawable="@drawable/bg_menu" /> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T19:14:18.553

请[查看这个项目](http://www.4shared.com/zip/D-BD0a0Z/SimulateProblem.html?refurl=d1url)，

基本上问题是您的 9 补丁图像，我只是修改您的图像以获得您的问题所需的性能。

我会建议你使用 bg_menu277x77 用于 1280x800 和 bg_menu144x40 用于上述链接项目的 320x480 分辨率。只是为了测试，您可以交换两个图像的分辨率并尝试。

贝娄我尽力解释 9 补丁图像，其他很棒的教程和信息你可以谷歌它:)

![在此处输入图像描述](../Images/fb39bda332134439f7a58b349a7a510e.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T12:21:23.350

如果我正确理解您的要求，那么您需要一个列表视图，并且列表视图的每一行都包含一个背景和一个文本视图来显示一些文本。
您不必为此目的使用图像视图。您需要做的就是为布局容器和文本视图放置背景。

以下是如何实现这一目标：

```
<RelativeLayout
xmlns:android = "http://schemas.android.com/apk/res/android"
xmlns:foo="http://schemas.android.com/apk/res/pack.name."
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:paddingRight="15dp"
android:paddingLeft="15dp"
android:background="@drawable/some_drawable or any selector">

<pack.name..TextViewPlus
    android:id="@+id/menutext"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:textColor="#3D1E00"
    android:textSize="@dimen/TitleNormalM"
    foo:customFont="font.ttf"
    android:gravity="right|center_vertical"
    android:text="blah blah blah"/>
</RelativeLayout> 
```

您的代码的问题是您使用 fill_parent 作为单个行项的高度和宽度。相反，您应该使用 fill_parent 作为宽度，使用 wrap_content 或某个 dp 值作为高度，如上面的代码所示。

我希望这个能帮上忙 ：）

# struts2 - Struts2 复选框标签的问题

> ID：11932323
> 
> 赞同：1
> 
> 时间：2012-08-13T10:19:32.990
> 
> 标签：struts2

Struts2 复选框标签的问题

```
<s:checkbox name="user.secondaryContactRequired" /> 
```

这`secondaryContactRequired`是`boolean`用户实体中的一种类型。`secondaryContactRequired`当我单击is的复选框值时`true`。但是当我取消选中该复选框时`secondaryContactRequired`，仅将其视为 true，但我希望此值为 false

为什么会这样？请告诉我这有什么问题。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-10T16:55:40.847

我已经包括了拦截器...现在它正在工作...感谢所有人分享您的宝贵解决方案

# fonts - 强制布局以特定字体显示字段

> ID：11932325
> 
> 赞同：0
> 
> 时间：2012-08-13T10:19:38.447
> 
> 标签：fonts, filemaker

我正在使用 Filemaker 12。当用户输入数据时，他们似乎能够以各种字体/字体大小/字体颜色粘贴文本。我希望文本以我选择的字体（在布局中）显示，而不是以它粘贴的字体显示。

*（此时，显示的是保存的字体，而不是规定的布局字体。）*

如何覆盖存储的字体，并以我选择的字体在文本中显示它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T19:27:57.947

没有办法在布局级别强制它，但是您可以进行自动输入计算，每次字段获取新数据时都会删除格式；请参阅文本格式化功能。

您也可以替换粘贴菜单命令，但我不建议这样做，因为此替换保留在 FileMaker 对话框中，包括定义字段对话框，并且非常不方便。（这可能在最近的版本中有所改变。）

此外，还有一种方法可以临时执行此操作：如果您粘贴了格式化文本，则可以通过按撤消快捷键将其恢复为非格式化文本。

# ssis - 如何在 SSIS 中针对不同条件动态选择不同的配置文件？

> ID：11932327
> 
> 赞同：3
> 
> 时间：2012-08-13T10:19:39.633
> 
> 标签：ssis

我想为不同的条件加载不同的配置文件。例如，如果我的变量值中有“供应商”，则加载供应商的配置文件，对于 ext_warehouse 类似。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T11:03:35.030

不可能，SSIS 将按照列出的顺序加载您在包配置管理器上指定的所有文件，并且它将使用配置文件上的值来加载您的变量。

你可以做的，假设你有一个“vendors.dtsConfig”和一个“customer.dtsConfig”，是创建一个父包，它读取一个名为“parent.dtsConfig”的配置文件，它只会让你的变量包含“vendor”或“客户”并根据该值将正确的配置文件复制到另一个文件夹并调用读取最近复制（和重命名）文件的实际包

# c# - Getting integer from textbox

> ID：11932328
> 
> 赞同：1
> 
> 时间：2012-08-13T10:19:39.990
> 
> 标签：c#

I want to write the event handler method button1_Click to calculate whether student’s Grade is “PASS” or “FAIL”. The student passes the course if the total score is greater than or equal to 50\. The total score is Midterm(textbox1) + Final(textbox2) scores. However, teacher can give student Extra Credit(checkbox1) which is worth 10 points. The result will present in the textBox3

Here's my code:

```
private void button1_Click(object sender, EventArgs e)
        {

            int midtermInt = int.Parse(textBox1.Text);

            int finalInt = int.Parse(textBox2.Text);

            if (checkBox1.Checked)
            {
                if ((midtermInt + finalInt) + 10 >= 50)
                {
                    grade.Text = "PASS";
                }
                else if ((midtermInt + finalInt) + 10 < 50)
                {
                    grade.Text = "FAIL";
                }
            }
            else if (!checkBox1.Checked)
            {
                if ((midtermInt + finalInt) >= 50)
                {
                    grade.Text = "PASS";
                }
                else if ((midtermInt + finalInt) < 50)
                {
                    grade.Text = "FAIL";
                }
            } 
```

When I run it, it says "Inut string was not in a correct format.. :( I'm very new to C# please advise me if my code is wrong anywhere

The input will only be integers never texts..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:26:33.053

If you type non-numeric characters in your textbox and try to parse the text, it will throw you this exception. Try trimming the input and definitely consider adding UI validation to your forms.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:26:47.793

您应该使用 int.TryParse insted int.Parse，它检查指定的字符串格式是否正确。您的代码可能如下所示：

```
int midtermInt;
if (!int.TryParse(textBox1.Text, out midtermInt))
{
    labelError.Text = "Icorrect value in field 'textBox1'".
    return;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T10:25:08.730

You can add checking, if text in text box is in correct format in TextChanged event:

```
private void textBox_TextChanged(object sender, EventArgs e)
{
   int val;
   if (textBox.Text.Length == 0 || !int.TryParse(textBox.Text, out val))
      tsPassingScore.Text = "0";
} 
```

And in your click you can check if there is number in textBox again with `int.TryParse`

Also you can improve your code: If final summ is not bigger then 50 - it is automatically smaller! And it would be more readable, if you introduce extra variable - for teachers extra credit:

```
int extraCredit = checkBox1.Checked ? 10 : 0;
int finalScore = midtermInt + finalInt + extraCredit;
if (finalScore >= 50)
  grade.Text = "PASS";
else
  grade.Text = "FAIL"; 
```

# iphone - 无法在 iphone 中部署 xcode 项目

> ID：11932334
> 
> 赞同：0
> 
> 时间：2012-08-13T10:20:11.660
> 
> 标签：iphone, deployment, xcodebuild

如果可能的话，我需要你的帮助。

我正在尝试在 iphone 中部署 axcode 项目。我遵循了所有步骤，但是当我尝试部署它时，我收到了这条消息：

选择具有受支持架构的目标，以便在此设备上运行。

现在，我在互联网上阅读了很多，我没有想出一个好的选择......主要设置是：部署目标3.2架构：Armv7

我目前正在尝试将其安装在 iphone 3 中...

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:24:43.343

iphone 3 需要 armv6 支持，我确定，

您可以在 Xcode 的 Target Build Settings 中进行设置 ![在此处输入图像描述](../Images/02315da917477e6cd9242769a58f80f3.png)

看看我的屏幕抓取。

干杯，

磅

# xaml - Semantic Zoom always brings back to the first item

> ID：11932337
> 
> 赞同：2
> 
> 时间：2012-08-13T10:20:18.103
> 
> 标签：xaml, windows-8, semantic-zoom

I am trying to implement a semantic zoom in C#/Xaml for Windows 8\. I succeed in displaying the zoom out and the zoom in. But when i click on item in the zoom out view I always come back to the first item of my zoom-in view.

here is how I grouped my items :

```
public IEnumerable<object> ListByCategory()
{
    var query = from item in listArticles.listArticles 
                orderby item.categorie
                group item by item.categorie into g
                select g;
    return query;
} 
```

I used this to display the same collection of grouped items to the zoom out and zoom in views :

```
this.cvs1.Source = App.api.ListByCategory();
(semanticZoom.ZoomedOutView as ListViewBase).ItemsSource = 
    this.cvs1.View.CollectionGroups; 
```

and my xaml code is

```
 <ScrollViewer
        x:Name="itemGridScrollViewer"
        AutomationProperties.AutomationId="ItemGridScrollViewer"
        Grid.Row="1"
        Margin="0,-3,0,0"
        Style="{StaticResource HorizontalScrollViewerStyle}">

<SemanticZoom x:Name="semanticZoom" VerticalAlignment="Bottom">
<SemanticZoom.ZoomedOutView>
                <GridView Foreground="Black" SelectionMode="None">
                    <GridView.ItemTemplate>
                        <DataTemplate>
                            <TextBlock
                    Text="{Binding Group.Key}"
                    FontFamily="Segoe UI Light"
                    FontSize="24" />
                        </DataTemplate>
                    </GridView.ItemTemplate>
                    <GridView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapGrid ItemWidth="200" ItemHeight="200" MaximumRowsOrColumns="2" 
                          VerticalChildrenAlignment="Center" />
                        </ItemsPanelTemplate>
                    </GridView.ItemsPanel>
                    <GridView.ItemContainerStyle>
                        <Style TargetType="GridViewItem">
                            <Setter Property="Margin" Value="4" />
                            <Setter Property="Padding" Value="10" />
                            <Setter Property="Background" Value="#FF25A1DB" />
                            <Setter Property="BorderThickness" Value="1" />
                            <Setter Property="HorizontalContentAlignment" Value="Left" />
                            <Setter Property="VerticalContentAlignment" Value="Bottom" />
                        </Style>
                    </GridView.ItemContainerStyle>
                </GridView>
            </SemanticZoom.ZoomedOutView>
 <SemanticZoom.ZoomedInView>
<local:MyGridView  x:Name="PicturesGridView" SelectionMode="None"
 ItemsSource="{Binding Source={StaticResource cvs1}}" IsItemClickEnabled="True"      ItemTemplate="{StaticResource CustomTileItem}" ItemClick="ItemView_ItemClick"   IsSwipeEnabled="True">
        <local:MyGridView.ItemsPanel>
            <ItemsPanelTemplate>
<VirtualizingStackPanel Orientation="Horizontal"/>
            </ItemsPanelTemplate>
        </local:MyGridView.ItemsPanel>
        <local:MyGridView.GroupStyle>
            <GroupStyle>
                <GroupStyle.HeaderTemplate>
                    <DataTemplate>
                        <Button  Click="Button_Click_1" Content="{Binding Key}" Foreground="Black" Background="White" FontSize="30" Margin="0,0,0,-10" ></Button>
                    </DataTemplate>
                </GroupStyle.HeaderTemplate>
                <GroupStyle.Panel>
                    <ItemsPanelTemplate>
<VariableSizedWrapGrid ItemWidth="75" ItemHeight="150" Orientation="Vertical" Margin="0,0,80,0" MaximumRowsOrColumns="3"/>
                    </ItemsPanelTemplate>
                </GroupStyle.Panel>
            </GroupStyle>
        </local:MyGridView.GroupStyle>
    </local:MyGridView>
</SemanticZoom.ZoomedInView>
</SemanticZoom>
    </ScrollViewer> 
```

Thank you for your help.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-14T11:43:26.077

有点难以理解为什么它不起作用，所以我的选择是尝试从有效的解决方案中“返回”：看看[http://mikaelkoskinen.net/winrt-step-by-step-tutorial- mvvm-gridview-semanticzoom/](http://mikaelkoskinen.net/winrt-step-by-step-tutorial-mvvm-gridview-semanticzoom/)一个非常详细的例子！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-28T10:38:38.417

我在 Depechie 发布的链接中找到了解决方案。

> 用 SemanticZoom 替换 ScrollViewer
> 
> 首先要做的也是最重要的事情是从 Movies.xaml 中完全删除名为“itemGridScrollViewer”的 ScrollViewer。如果 SemanticZoom 控件位于 ScrollViewer 内，它将无法正常工作。
> 
> 许多人在使 ZoomedOutView 和 ZoomedInView “同步”时遇到问题。通常的问题是，当单击 ZoomedOutView 中的项目时，ZoomedInView 不会滚动到正确的位置。这个问题的原因通常是 SemanticZoom 控件位于 ScrollViewer 中。

如此有效，我只是删除了 scrollViewer ，它就像一个魅力：

```
 <SemanticZoom x:Name="semanticZoom" VerticalAlignment="Bottom"         
        Grid.Row="1"
        Margin="0,-3,0,0">
  <SemanticZoom.ZoomedOutView>
            <GridView Foreground="Black" SelectionMode="None">
                <GridView.ItemTemplate>
                    <DataTemplate>
                        <TextBlock
                Text="{Binding Group.Key}"
                FontFamily="Segoe UI Light"
                FontSize="24" />
                    </DataTemplate>
                </GridView.ItemTemplate>
                <GridView.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapGrid ItemWidth="200" ItemHeight="200" MaximumRowsOrColumns="2" 
                      VerticalChildrenAlignment="Center" />
                    </ItemsPanelTemplate>
                </GridView.ItemsPanel>
                <GridView.ItemContainerStyle>
                    <Style TargetType="GridViewItem">
                        <Setter Property="Margin" Value="4" />
                        <Setter Property="Padding" Value="10" />
                        <Setter Property="Background" Value="#FF25A1DB" />
                        <Setter Property="BorderThickness" Value="1" />
                        <Setter Property="HorizontalContentAlignment" Value="Left" />
                        <Setter Property="VerticalContentAlignment" Value="Bottom" />
                    </Style>
                </GridView.ItemContainerStyle>
            </GridView>
        </SemanticZoom.ZoomedOutView>
  <SemanticZoom.ZoomedInView>
<local:MyGridView  x:Name="PicturesGridView" SelectionMode="None"
 ItemsSource="{Binding Source={StaticResource cvs1}}" IsItemClickEnabled="True"    ItemTemplate="{StaticResource CustomTileItem}" ItemClick="ItemView_ItemClick"   IsSwipeEnabled="True">
       <local:MyGridView.ItemsPanel>
        <ItemsPanelTemplate>
 <VirtualizingStackPanel Orientation="Horizontal"/>
        </ItemsPanelTemplate>
    </local:MyGridView.ItemsPanel>
    <local:MyGridView.GroupStyle>
        <GroupStyle>
            <GroupStyle.HeaderTemplate>
                <DataTemplate>
                    <Button  Click="Button_Click_1" Content="{Binding Key}" Foreground="Black" Background="White" FontSize="30" Margin="0,0,0,-10" ></Button>
                </DataTemplate>
            </GroupStyle.HeaderTemplate>
            <GroupStyle.Panel>
                <ItemsPanelTemplate>
 <VariableSizedWrapGrid ItemWidth="75" ItemHeight="150" Orientation="Vertical" Margin="0,0,80,0" MaximumRowsOrColumns="3"/>
                </ItemsPanelTemplate>
            </GroupStyle.Panel>
        </GroupStyle>
    </local:MyGridView.GroupStyle>
</local:MyGridView>
 </SemanticZoom.ZoomedInView>
</SemanticZoom> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-14T15:05:35.970

我认为分组可能是这里的关键。确保您的 CollectionViewSource 具有**IsSourceGrouped="True"**。

另外，你不需要设置

**ItemsSource = this.cvs1.View.CollectionGroups;**

可以设置

**ItemsSource = this.cvs1;**

# coldfusion - Does ColdFusion Builder have split screen editing like Homesite+, and how do I turn it on?

> ID：11932343
> 
> 赞同：2
> 
> 时间：2012-08-13T10:21:13.050
> 
> 标签：coldfusion, coldfusionbuilder

Does ColdFusion Builder have split screen editing like Homesite+, and how do I turn it on? How do I activate word wrap?

Thanks much!

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-13T10:22:49.460

要在 ColdFusion Builder 2 中查看同时平铺的 2 个文件，请执行以下步骤：

1.  打开文件

2.  右键单击带有文件名的选项卡

3.  选择移动编辑器

4.  您将在界面中看到黑色轮廓的文件，它现在已附加到您的光标

5.  单击打开区域中 Source 选项卡右侧的

6.  这将允许您同时查看两个文件，一个在另一个之上

7.  您选择的文件将是活动文件

8.  您仍然可以使用源和浏览器选项卡，它们将反映任何文件是活动的

换行：

转到窗口 > 首选项 > HTML > 编辑器。单击高级选项卡并选中启用自动换行。重新启动 CF 生成器。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T14:03:21.697

如果要比较 2 个文件，有一种更简单的方法。

1.  选择两个文件
2.  右键单击其中一个
3.  选择“比较 - >彼此

然后 Eclipse 将并排显示这 2 个文件，并突出显示任何差异。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-12-04T16:52:32.033

在 ColdFusion Builder 2016 中，键盘快捷键为：(CTRL+SHIFT+_) AND (CTRL+SHIFT+{)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-05-11T23:29:18.903

ColdFusion Builder 2016 (AKA 3.1) 为水平 (CTRL+_) 和垂直 (CTRL+{) 提供“拆分视图”，但热键目前似乎不起作用。这可以通过“窗口|编辑器”菜单访问。您还可以搜索“快速访问”搜索框并键入“拆分”，然后选择出现的切换选项。

# c# - How to convert type 'system.windows.media.imagesource' to 'system.drawing.image' or byte[] in C#?

> ID：11932346
> 
> 赞同：1
> 
> 时间：2012-08-13T10:21:33.537
> 
> 标签：c#, .net, wcf, silverlight

I am doing a project in which a built in class for DICOM giving me the `ImageSource`,I want to use that `ImageSource` in My silverlight `Image` control. This conversion I am doing through WCF services. I found WCF does not support `ImageSource`, so I need to convert the output of built in class into Image or else in byte[]. So that I can send that output to Silverlight and in Silverlight client I'll reconvert it to ImageSource and can assign it to Image Control easily.

I googled for this but I did not find any help in there. Can anybody help me to fix this problem or provide me any alternate solution for this. Any help will be appreciated, Thanks in advance.

Note:- I do not have any permission for code modification on the built in class. As its a third party library.

**UPDATE:-** Brief Description: I have a class let say `GetImageSource` and in that I have a method say `giveImgSource()`. Now my questions is: In WCF I have to call this method and after getting `ImageSource` from this method I need to pass it to my silverlight Client. As WCF doesn't know about `ImageSource`, so I need to convert the output of this method to some one out of the following or any alternate if you knows:

```
byte[]
Image
FileStream
MemoryStream etc 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T10:30:53.140

是png图片吗？然后使用它转换为 byte[]：

```
var image = (BitmapSource)value;
BitmapEncoder encoder = new PngBitmapEncoder();
encoder.Frames.Add(BitmapFrame.Create(image));
using (var ms = new MemoryStream())
{
    encoder.Save(ms);
    return ms.ToArray();
} 
```

更新：解码：

```
var bytes = (byte[])value;

var image = new BitmapImage();
image.BeginInit();

if (bytes == null) 
{
    // Processing null case
}
else
{
    using (var ms = new MemoryStream(bytes))
    {
        image.CacheOption = BitmapCacheOption.OnLoad;
        image.StreamSource = ms;

        image.EndInit();
    }
}

return image; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T11:59:39.693

请参考以下链接将 ImageSource 转换为 byte[]。它们使用 PresentationCore 库下提供的 BitmapSource 和 WriteableBitmap 类。

(1)[如何将 ImageSource 转换为 byte[]？](https://stackoverflow.com/questions/5883822/how-to-convert-imagesource-to-byte)

(2)[如何将 ImageSource 转换为 byte[] 并返回 ImageSource？](https://stackoverflow.com/questions/5894170/how-to-convert-imagesource-to-byte-and-back-to-imagesource)

希望它能解决您的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T13:19:00.443

以下两个辅助方法应该可以解决问题：

```
public BitmapImage ImageFromBuffer(Byte[] bytes)
{
    MemoryStream stream = new MemoryStream(bytes);
    BitmapImage image = new BitmapImage();
    image.BeginInit();
    image.StreamSource = stream;
    image.EndInit();
    return image;
}

public Byte[] BufferFromImage(BitmapImage imageSource)
{
    Stream stream = imageSource.StreamSource;
    Byte[] buffer = null;
    if (stream != null && stream.Length > 0)
    {
        using (BinaryReader br = new BinaryReader(stream))
        {
            buffer = br.ReadBytes((Int32)stream.Length);
        }
    }

    return buffer;
} 
```

# wordpress - How to keep Wordpress logged in permanently

> ID：11932348
> 
> 赞同：1
> 
> 时间：2012-08-13T10:21:39.400
> 
> 标签：wordpress, session

I'm trying to use WordPress as a website CMS for a kiosk. Each kiosk needs a unique username therefore it must be logged in to WordPress.

I believe WordPress does not use Session ID's therefore how can I ensure the user is never logged out of the site even after X days of inactivity?

Thanks in advance.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2020-01-30T04:02:15.050

WordPress 5.3 更新：

如果您不想使用该插件 - 编辑第 830 行，`pluggable.php`其中定义了在选中“记住我”时设置 cookie 的天数。默认为 14，您可以根据自己的喜好更改，即 365：

```
$expiration = time() + apply_filters( 'auth_cookie_expiration', 
                                       365 * DAY_IN_SECONDS, 
                                       $user_id, $remember ); 
```

比使用插件更容易和更好，只记得在 WP 更新后验证文件。干杯!

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2020-03-24T12:04:29.793

`auth_cookie_expiration`简单地使用过滤器怎么样

```
add_filter('auth_cookie_expiration', function(){
    return YEAR_IN_SECONDS * 2;
}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-09-26T14:26:00.093

我实际上已经创建了一个插件来处理这个问题。它使用持久登录的想法来真正让用户一直登录到您的 wordpress 网站，就像 Facebook 的做法一样。

看看吧，希望对你有帮助！

[WP 持久登录](http://wordpress.org/plugins/wp-persistent-login/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-13T20:31:08.780

您可以尝试为 Wordpress 配置会话时间。不幸的是，Wordpress 不允许您轻松地操纵它。

你可以试试这个插件：[http ://wordpress.org/extend/plugins/configure-login-timeout/](http://wordpress.org/extend/plugins/configure-login-timeout/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2022-01-09T04:29:59.867

似乎有混合接受的答案。首先，您永远不应该修改 wordpress 核心代码。曾经。其次，根据 wordpress 开发者法典，这里需要使用“ [auth_cookie_expiration ”过滤器。](https://developer.wordpress.org/reference/hooks/auth_cookie_expiration/)

```
add_filter ( 'auth_cookie_expiration', 'wpdev_login_session' );

function wpdev_login_session( $expire ) { // Set login session limit in seconds
    return YEAR_IN_SECONDS;
    // return MONTH_IN_SECONDS;
    // return DAY_IN_SECONDS;
    // return HOUR_IN_SECONDS;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-03-25T01:23:26.097

您可以使用插件“ [WP 登录超时设置](https://wordpress.org/plugins/wp-login-timeout-settings/)”来实现此目的。在“设置→登录超时”下，它允许您为正常登录和勾选“记住我”框的登录超时配置。

这与已经推荐的“ [configure-login-timeout ”插件的作用相同。](http://wordpress.org/extend/plugins/configure-login-timeout/)只是“WP 登录超时设置”目前似乎得到了更积极的维护。

# xcode - 使用 Xcode 4.4 进行源代码控制

> ID：11932351
> 
> 赞同：1
> 
> 时间：2012-08-13T10:21:43.970
> 
> 标签：xcode, version-control

我使用 Xcode 4.3 和 Subversion (SVN) 进行源代码控制。一切正常。我能够看到我更改的文件，与服务器版本进行比较并提交。

然后 Xcode 4.4 发布了，我下载了新版本并安装了它。现在，源代码管理已停止工作。我没有看到我更改的文件，并且似乎没有启用源代码管理。

我已经尝试过的事情：

*   从我的本地文件夹中删除所有文件并使用 XCode 初始屏幕上的“连接到存储库”选项
*   像往常一样使用命令行从服务器下载所有内容

有人对源代码控制有任何问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T11:05:00.993

我不确定我是在这里回答你的问题还是稍微不同的问题，但我一直在寻找类似问题的答案——我会在 Xcode 中建立一个新项目，然后使用 svn 命令行工具把它放在我的svn repo上；但是在 Xcode 4.4 中（不像它的前辈）这将**不允许**我使用 Xcode svn 控件（我最喜欢的是版本编辑器窗格）。

我的答案是关闭项目，删除项目的派生数据（组织者 -> 项目 -> 选择正确的项目 -> 按“派生数据”点击“删除”按钮） - 然后再次加载项目。

如果这实际上不能解决您的问题，我们深表歉意，但 Xcode 4.4 似乎引入了一些关于源代码控制的错误，所以这可能会在某种程度上有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-19T10:40:08.800

对在 xcode 中使用源代码控制的支持主要针对 xCode 中的新/新开始。使现有项目与更改保持一致的解释不太好。我发现这部分有帮助[http://asciiwwdc.com/2013/sessions/414](http://asciiwwdc.com/2013/sessions/414)但很笨重。蒙混过关给出了最好的结果。

# ruby - 如何在 Ruby 的双引号字符串中使用 \w

> ID：11932355
> 
> 赞同：2
> 
> 时间：2012-08-13T10:21:55.890
> 
> 标签：ruby

我正在使用 Capistrano 进行部署，我需要运行一个命令来在服务器上的 .htaccess 文件中设置正确的环境。

我这样做是`sed`这样的：`run "sed -i -r 's/APPLICATION_ENV \w+/APPLICATION_ENV #{stage}/' #{current_release}/public/.htaccess"`

我的问题是`\w+`Ruby/Cap 转义了 regexp 最终尝试匹配 only `w+`。如果我使用`\\w+`我最终会得到一个尝试匹配的正则表达式`\\w+`。

我怎样才能有一个内插的双引号字符串并成功转义`\w`？我真的需要更改为单引号字符串和变量的连接吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T11:05:13.067

在我的系统上，您的示例有效，但您可以尝试使用这两个之一（注释掉您不使用的那些）

```
begin
  stage = "stage"
  current_release = "current_release"
  s = "sed -i -r 's/APPLICATION_ENV \\w+/APPLICATION_ENV #{stage}/' #{current_release}/public/.htaccess"
  s = "sed -i -r 's/APPLICATION_ENV #{"\\w+"}/APPLICATION_ENV #{stage}/' #{current_release}/public/.htaccess"
  s = "sed -i -r 's/APPLICATION_ENV #{92.chr}w+/APPLICATION_ENV #{stage}/' #{current_release}/public/.htaccess"
  puts s
  system s
rescue 
  puts $! 
  system('pause') 
end 
```

# jquery - Internet Explorer 9 兼容 Jquery Mp3 播放器？

> ID：11932358
> 
> 赞同：-1
> 
> 时间：2012-08-13T10:22:18.913
> 
> 标签：jquery, internet-explorer-9, mp3

您能否建议我一个可以在 Internet Explorer 9 中顺利运行的 mp3 jplayer 链接？我找到了一个，但它在 IE 9 中不起作用并给出以下错误消息。

错误：-

```
Jplayer 2.1.0:id='jquery_jplayer_1':Error!
Media URL could not be loaded.
Check media URL is valid.
Context:Address of mp3 file that is placed remotely. 
```

这是我的代码：-

```
</script>
<script type="text/javascript">
function loadmedia() {
  $('#jquery_jplayer_1').jPlayer('setMedia', {

      mp3: 'http://lecion.blob.core.windows.net/sixty-vocab-files//UploadSound/7fd752a6-97ef-4a99-b324-a160295b8ac4/43/Kalimba.mp3'
  });
}
$(document).ready(function () {
  $('#jquery_jplayer_1').jPlayer({
    ready: loadmedia,
    swfPath: 'Jplayer.swf',
    //solution: 'flash,html',
    errorAlerts: true,
    supplied: 'mp3',
   // wmode: 'window'
  });
});
 </script>
   <script src="jquery.jplayer.min.js" type="text/javascript" ></script> 
```

我会感谢你的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:27:07.103

使用 HTML5 音频标签怎么样？

```
<audio controls="controls">
  <source src="song.mp3" type="audio/mpeg" />
  Your browser does not support the audio element.
</audio> 
```

参考[W3Schools](http://www.w3schools.com/html5/html5_audio.asp)了解更多信息

# mongodb - 如何在提示输入密码时加载 mongodb 脚本文件？

> ID：11932361
> 
> 赞同：2
> 
> 时间：2012-08-13T10:22:37.823
> 
> 标签：mongodb, mongodb-shell

我正在尝试连接到需要密码的 MongoDB 数据库，同时还在数据库上加载和运行脚本文件。我想从命令行完成这一切，然后让 mongo shell 退出。我的问题是我不能同时做这两个，例如

```
$ mongo example.com:10023/database -u username -p script.js 
```

上面的命令会认为这`script.js`实际上是我的密码，实际上不是。我希望它在我输入命令后真正提示我输入密码。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:51:03.520

尝试移动参数，以便`script.js`不跟随您的密码参数。

`$mongo example.com:10023/database script.js -u username -p`

# c# - 如何使用 C# 在消息框上显示 DateTimePicker 控件？

> ID：11932362
> 
> 赞同：-2
> 
> 时间：2012-08-13T10:22:39.413
> 
> 标签：c#, windows, datetime

是否可以在消息框上显示 DateTimePicker 控件以在控制台应用程序中选择日期。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:23:17.823

不在标准的 MessageBox 上。您需要创建自己的表单来显示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T11:30:58.883

```
`public MyClass()
 {
 // Create a new DateTimePicker
 DateTimePicker dateTimePicker1 = new DateTimePicker();

 Controls.AddRange(new Control[] {dateTimePicker1});
 MessageBox.Show(dateTimePicker1.Value.ToString());

 dateTimePicker1.Value = DateTime.Now.AddDays(1);
 MessageBox.Show(dateTimePicker1.Value.ToString());
 } 
```

`

这是一种访问消息框中日期选择器控件的方法。

你具体做了什么？你能更详细地解释一下这个要求吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T11:34:41.750

`MessageBox`是一个方便的功能。这种便利是以定制为代价的。`MessageBox`不提供向其添加您自己的控件的方法；您必须创建自己的表单。

请注意，即使在控制台应用程序中，您仍然可以创建 Windows 窗体。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-01-07T06:10:53.653

我知道它很晚，但如果有人正在寻找如何做到这一点。使用 CustomMessageBox 代替 MessageBox。教程可以在[这里找到](http://windowsapptutorials.com/windows-phone/general/how-to-create-a-custom-messagebox-in-windows-phone-application-3/ "这里")

```
TimePicker timePicker = new TimePicker()
                {
                    Margin = new Thickness(0, 10, 0, 10)
                }; 

                StackPanel myStackPanel = new StackPanel();
                myStackPanel.Orientation = System.Windows.Controls.Orientation.Vertical;
                myStackPanel.Children.Add(timePicker);                    

                //Create a new custom message box
                CustomMessageBox messageBox = new CustomMessageBox()
                {
                    Content = myStackPanel,
                    LeftButtonContent = "Ok",
                    RightButtonContent = "Cancel",                        
                    IsFullScreen = false                        
                };

                messageBox.Show(); 
```

# mysql - 如何按顺序使用子字符串

> ID：11932363
> 
> 赞同：0
> 
> 时间：2012-08-13T10:22:41.980
> 
> 标签：mysql

我有以下查询来选择具有由两个点分隔的三个级别的域名：

```
select domainname from db.table
where criteria like ('*.com')
AND domainname like ('%.%.%'); 
```

现在，我需要按域名的 .%.% 部分而不是 %.%.% 对结果进行排序。如何将此添加到我的查询中？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:28:13.830

查看[`SUBSTRING_INDEX()`](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_substring-index)功能：

```
select domainname from db.table
where criteria like ('*.com')
AND domainname like ('%.%.%')
ORDER BY SUBSTRING_INDEX(domainname, '.', -2); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T10:27:58.303

您可以使用函数[SUBSTRING_INDEX](http://dev.mysql.com/doc/refman/5.6/en/string-functions.html#function_substring-index)

```
ORDER BY SUBSTRING_INDEX(domainname, '.', -2) 
```

# maven - jmeter插件maven test-jar

> ID：11932367
> 
> 赞同：4
> 
> 时间：2012-08-13T10:22:55.303
> 
> 标签：maven, testing, junit, jmeter, jmeter-maven-plugin

嗨，我正在尝试使用来自 lazerycode 的 jmeter-maven-plugin 自动化我的 JMeter 负载平衡测试。我的 JMeter 测试使用预制的 junit 类文件，我使用 maven-jar-plugin 将其打包到一个 test-jar 中。但是在我的本地 maven 存储库上安装 jar 文件之前，maven 会启动 jmeter 测试。有没有办法可以安装 test-jar 以便我可以将它用作 jmeter 插件中的依赖项？下面你会找到我的 jmeter 插件配置。

```
<plugin>
            <groupId>com.lazerycode.jmeter</groupId>
            <artifactId>jmeter-maven-plugin</artifactId>
            <version>1.4.1</version>
            <executions>
                <execution>
                    <id>jmeter-test</id>
                    <phase>integration-test</phase>
                    <goals>
                        <goal>jmeter</goal>
                    </goals>
                </execution>
            </executions>
            <dependencies>
                <dependency>
                    <groupId>groupID</groupId>
                    <artifactId>artifactID</artifactId>
                    <version>${project-version}</version>
                    <type>test-jar</type>
                </dependency>
            </dependencies>
            <configuration>
                <propertiesUser>
                    <current.protocol>http</current.protocol>
                    <current.dns>localhost</current.dns>
                    <current.port>8088</current.port>
                </propertiesUser>
                <testFilesDirectory>${basedir}/src/jmeter/tests/</testFilesDirectory>
                <ignoreResultErrors>true</ignoreResultErrors>
                <ignoreResultFailures>true</ignoreResultFailures>
                <useOldTestEndDetection>true</useOldTestEndDetection>
            </configuration>
        </plugin> 
```

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T22:13:26.270

将测试 jar 放入不同的模块中，然后使用 jmeter 插件使项目依赖于该模块。然后，您将能够安装测试，然后在一次 Maven 调用中在 jmeter 中执行它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:33:24.863

我通过使用激活配置文件解决了这个问题：-

```
<profiles>
        <profile>
                <id>ptest</id>
                <activation>
                    <property>
                        <name>ptest</name>
                    </property>
                </activation>

                <build>

                    <resources>
                        <resource>
                            <directory>src/jmeter</directory>
                        </resource>
                    </resources>

                    <plugins>
                        <plugin>
                            <groupId>com.lazerycode.jmeter</groupId>
                            <artifactId>jmeter-maven-plugin</artifactId>
                            <version>1.4.1</version>
                            <executions>
                                <execution>
                                    <id>jmeter-tests</id>
                                    <phase>verify</phase>
                                    <goals>
                                        <goal>jmeter</goal>
                                    </goals>
                                </execution>
                            </executions>
                            <configuration>
                                <useOldTestEndDetection>true</useOldTestEndDetection>
                            </configuration>
                        </plugin>
                    </plugins>
                </build>
            </profile>
    </profiles> 
```

使用这种方法，您可以安装一次，而不使用配置文件，然后在打开配置文件的情况下随后运行。

# facebook - 使用 Javascript SDK 授权应用后请求新权限

> ID：11932377
> 
> 赞同：0
> 
> 时间：2012-08-13T10:23:18.953
> 
> 标签：facebook, permissions, facebook-javascript-sdk, facebook-login

我有用户授权我的应用程序并正在使用它。我现在需要在此基础上请求进一步的权限，我记得读过 Javascript SDK 有一些内置方法，允许您只请求尚未移交的权限。我环顾四周，但我再也找不到任何关于此的信息了。

有人可以确认这存在吗，如果可能的话，我该怎么做？实际上，我只是因为阅读了有关此功能的信息而放弃了使用 PHP SDK 进行登录！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T11:56:50.270

您实际上也可以在 php-sdk 中执行此操作。您需要做的是检查权限连接并查看用户是否已授予您的应用所需的权限

```
https://developers.facebook.com/docs/authentication/permissions/ 
```

如果不是，您可以将他们重定向到身份验证对话框，或者使用按钮提示他们并解释您希望他们再次进行身份验证的原因。您可以在以下位置查看示例响应

```
https://developers.facebook.com/tools/explorer/?method=GET&path=me%2Fpermissions 
```

或者，使用身份验证对话框

```
 https://developers.facebook.com/docs/opengraph/authentication/ 
```

也可能实现您所追求的，尽管我相信这只适用于来自 Facebook 的推荐

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T11:57:28.427

这与未确认权限的用户的过程相同。在这种情况下，无效访问令牌的文档适用：[https](https://developers.facebook.com/docs/authentication/access-token-expiration/)
://developers.facebook.com/docs/authentication/access-token-expiration/因此，您只需要重新验证用户，包括范围参数中的附加权限。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T13:26:20.353

您应该能够检查授予的权限，然后如果它们与您需要的不同，那么只需将它们重定向到使用您需要的扩展权限登录即可。

[http://developers.facebook.com/docs/reference/fql/permissions/](http://developers.facebook.com/docs/reference/fql/permissions/)

# php - Linux下的PHP编程

> ID：11932379
> 
> 赞同：1
> 
> 时间：2012-08-13T10:23:23.333
> 
> 标签：php, linux, apache, development-environment

我应该为我的 PHP 项目选择哪个目录？我应该在我的主目录中使用 ~/public_html 还是应该选择 /var/www 并将所有者更改为具有写入权限？你会推荐什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:25:45.593

我更喜欢在我的主目录中进行开发，因为我认为应该放置用户文件。但这是个人选择，做你认为最好和/或最容易配置的事情。应该没那么重要。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:27:11.523

我更喜欢在我的主目录中使用 ~/development/php 之类的东西，然后我将符号链接添加到 /var/www 或在 Apache 中声明一个指向我的目录的虚拟主机。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T10:28:07.757

我相信`/var/www`是默认目录。另外，如果您要使用，请`/var/www`确保将所有权授予`www-data`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-13T10:33:08.943

将尽可能少的源代码放在 Web 可访问的位置 ( /var/www ) 是个好主意，这样如果您的机器配置错误，您的源代码就不会公开。

# objective-c - 使用 CIFilter 调整图像大小？

> ID：11932380
> 
> 赞同：0
> 
> 时间：2012-08-13T10:23:24.767
> 
> 标签：objective-c, macos, core-image

是否可以使用 CIFilter 调整图像大小？我知道`CILanczosScaleTransform`，但它会调整图像的大小以保持比例。而且我需要在不保持比例的情况下调整图像大小。怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T15:40:28.207

为什么你认为`CILanczosScaleTransform`保持比例？CILanczosScaleTransform 有一个参数@" `inputAspectRatio`" 或`kCIInputAspectRatioKey`允许您缩放*和*更改比例。你可以这样做

```
[filter setValue:[NSNumber numberWithFloat:0.7] forKey:@"inputAspectRatio"]; 
```

我从文档中获取了这个，并没有自己尝试过，但我确信（由于我对 CIFilter 的实验）它可以工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-05T01:23:41.460

使用 CIAffineTransform 而不是 CILanczosScaleTransform。将 a 和 d 设置为所需的比例值。这会将您的图像缩小或拉伸到任何提议。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T11:16:25.737

所有 CIFilter 都在下面。我想没有过滤器来调整图像大小。

*   CI加法合成
*   CIAffine变换
*   CICheckerboardGenerator
*   CIColorBlendMode
*   CIColorBurnBlendMode
*   CIColorControls
*   CIColorCube
*   CIColorDodgeBlendMode
*   CIColorInvert
*   CIColorMatrix
*   CIColor单色
*   CIConstantColorGenerator
*   CICrop
*   CIDarkenBlendMode
*   CID 差异混合模式
*   CIExclusionBlendMode
*   CI曝光调整
*   CIFalseColor
*   CIGammaAdjust
*   CIGaussianGradient
*   CIHardLightBlendMode
*   CI高光阴影调整
*   CIHue调整
*   CIHueBlendMode
*   CILightenBlend模式
*   CI线性渐变
*   CILuminosityBlendMode
*   CIMaximum合成
*   CI最小合成
*   CIMultiplyBlendMode
*   CIMultiply合成
*   CIOverlayBlendMode
*   CI径向渐变
*   顺式饱和混合模式
*   CISscreenBlendMode
*   CISepiaTone
*   CISoftLightBlendMode
*   CISourceAtop 合成
*   CISourceInCompositing
*   CISourceOut 合成
*   CISourceOverCompositing
*   顺直过滤器
*   CIStripesGenerator
*   CI温度和色调
*   CIToneCurve
*   CIVibrance
*   CIVignette
*   CIWhitePointAdjust

# c++ - 如何调用带参数指针的函数指针？

> ID：11932382
> 
> 赞同：0
> 
> 时间：2012-08-13T10:23:34.513
> 
> 标签：c++, function, pointers, function-pointers

如何用函数指针调用这个函数？

```
 double a(double *a){
    return *a;
} 
```

我试试这个，但没有运气：

```
double (*p)(*double) = &a; 
```

我没有找到很多好的教程，你能给我推荐一些好的链接吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:25:42.397

像这样：

```
double (*p)(double*) = &a; 
```

如您所见，函数指针类型中的函数签名与实际函数声明中的编写方式完全相同（并且您不需要参数名称）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:28:37.850

稍作改动，因此并非*所有内容*都称为`a`：

```
double deref(double *a)
{
    return *a;
}

double test()
{
    double (*deref_pointer)(double*) = deref;

    double value = 3.14;

    return deref_pointer(&value);
} 
```

# arrays - 在未排序的数组中查找最长的升序数字序列

> ID：11932383
> 
> 赞同：0
> 
> 时间：2012-08-13T10:23:39.583
> 
> 标签：arrays

假设`Array[10] = {10,6,11,9,-18,0,91,18,24,32}` 最大的序列是`10,11,18,24,32`或`-18,0,18,24,32`

对此的解决方案是制作另一个`Array[10]`将存储序列数的。从仅构成 1 个序列的最后一个元素 32 开始，即数字本身。

24 使 2
18 使 3
91 使 1
0 使 4
-18 使 5
9 使 4
11 使 4
6 使 4
10 使 5

输出应该是从 -18 开始的 5 或从 10 开始的 5。

任何人都可以帮我写代码吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T11:40:16.583

你在 C++ 中想要什么。运行时间为O(NlogN)，其中N为Array[]的大小

```
#include<stdio.h>
#include<map>
using namespace std;

int main(void) {
        int Array[10] = {10,6,11,9,-18,0,91,18,24,32};
        int p[10],next[10];
        int i,j,n=10;
        map<int,int> places;
        for(i=n;i>=0;i--){
                map<int,int>::iterator ii=places.upper_bound(Array[i]);
                if(ii==places.end()){ //no item on the right is larger
                        p[i]=1;
                        next[i]=-1; 
                }else{
                        next[i]=ii->second;
                        p[i]=p[ii->second]+1;
                }
                places[Array[i]]=i;
                ii=places.find(Array[i]);
                while(ii!=places.begin()){
                        ii--;
                        if(p[ii->second]<=p[i]){
                                places.erase(ii);
                        }else
                                break;
                        ii=places.find(Array[i]);
                }
        }
        int longestI=0;
        for(i=1;i<n;i++){
                if(p[i]>p[longestI])
                        longestI=i;
        }
        for(i=longestI;i>=0;i=next[i]){
                printf("%d\n",Array[i]);
        }
        return 0;

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:37:07.870

或多或少看起来像这样，现在您需要将其翻译成您正在使用的语言

```
largestSequience = [];
temporaryArray = [];
for (element in array)
{
if (temporatySize not empty and temporarySize[lastElement]>=element)
   {
    if (temporaryArray.length > largestSequence.length) largestSequence = temporaryArray;
    temporaryArray = [element]

   }

temporaryArray.add(element)

} 
```

# c# - 是否可以知道 JPEG 图像是否仅从其原始字节旋转？

> ID：11932385
> 
> 赞同：4
> 
> 时间：2012-08-13T10:23:41.817
> 
> 标签：c#, .net, rotation, jpeg

您能否判断（假设使用 .NET 4.0、WinForms）JPEG 图像是否仅从其二进制文件中旋转（如 的结果`File.ReadAllBytes()`）？

**更新**

* * *

到目前为止，谢谢大家的回答。

对于任何试图解决相同问题的人来说，这只是一个提示。我被这个`System.Drawing.Image`类欺骗了，它在初始化时加载了 EXIF 标签，`FromFile(...)`但在从流中初始化时似乎忽略了它们。我正在使用[ExifTagCollection](http://www.codeproject.com/Articles/27242/ExifTagCollection-An-EXIF-metadata-extraction-libr)库来读取 EXIF 标签，但我想结果将与任何其他库相当。

```
var bytes = (get binary from server)
File.WriteAllBytes(path, bytes); 
```

**作品**：

```
var image = Image.FromFile(path); 
```

**不工作**：（也失败`FileStream`了）

```
using (var ms = new MemoryStream(bytes))
{
    image = Image.FromStream(ms);
} 
```

继续：

```
ExifTagCollection exif = new ExifTagCollection(image);
foreach (ExifTag tag in exif)
{
    Console.WriteLine(tag.ToString());
} 
```

如果从流中加载，则没有标签。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-13T10:44:22.273

[http://jpegclub.org/exif_orientation.html](http://jpegclub.org/exif_orientation.html)详细介绍了 exif 方向标志。找到那个，找到方向。

当然，这仅适用于通过设置该标志来旋转图像，这通常由相机本身、一些不是为更详细的编辑而设计的图像查看软件以及一些直接来自文件管理器的工具来完成. 如果有人将图像加载到更通用的图像编辑器中，将其翻转，然后保存它，它将无法工作。

编辑：

横向与纵向与“从图像设备自然方向旋转”不同。它也更简单：

```
if(img.Height == img.Width)
  return MyAspectEnum.Square;
if(img.Height > img.Width)
  return MyAspectEnum.Portrait;
return MyAspectEnum.Landscape; 
```

这可能更接近你真正想知道的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T10:51:31.617

如果 EXIF 数据不可用/不可靠，您可能会认为这是识别图片格式：

*   高度 > 宽度？纵向格式
*   宽度 > 高度？横向格式
*   宽度=高度？图片是完美的正方形，任何一个都可以

与 EXIF 相同的限制适用：翻转图片并且没有相应地更新/设置 EXIF 信息的物理编辑也会欺骗此检查。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-13T10:31:18.753

如果您知道如何读取 JPEG 编码数据，则可以查找 EXIF 并从 EXIF 获取旋转。如果没有 EXIF 数据，那就很难了。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-13T11:09:01.347

需要读取 EXIF 来确定 JPEG 图像的方向。

请查看[ExifLib - 适用于 .NET 2.0+ 的快速 Exif 数据提取器](http://www.codeproject.com/Articles/36342/ExifLib-A-Fast-Exif-Data-Extractor-for-NET-2-0)。似乎库返回了[此处](http://sylvana.net/jpegcrop/exif_orientation.html)指定的方向。

# grep - grep */* - Invalid argument when Cygwin used in Windows cmd emulators

> ID：11932387
> 
> 赞同：0
> 
> 时间：2012-08-13T10:23:45.503
> 
> 标签：grep, cygwin

I use the following to grep in the current directory and all subdirectories:

```
grep -r 'some text' */* 
```

This works fine in Cygwin, but when I configure Windows cmd emulators like Console2 or ConEmu to use Cygwin, the command does not work:

```
grep: */*: Invalid argument 
```

1.  Is there some technical reason why ***/*** does not port to these applications?
2.  Is there another way of grepping across the current directory and subdirectories?

Many thanks

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:28:43.003

~~`*/*`对于 unix 风格的终端仿真器中的当前目录不正确，~~使用`./*`甚至只是`.`可以工作。

使用`.`or`./*`可能是不必要的，但可能会解决无效参数问题。

# wix - I have installed major upgrade successfully but it also allowing another previous version install in wix

> ID：11932389
> 
> 赞同：0
> 
> 时间：2012-08-13T10:23:51.473
> 
> 标签：wix, wix3.6

I have installed major upgrade (say #206) successfully and included code as in (#206):

```
<Upgrade Id="$(var.ProductUpgradeCode)">
  <UpgradeVersion Minimum="$(var.ProductVersion)" IncludeMinimum="no" OnlyDetect="yes" Language="1033" Property="NEWPRODUCTFOUND" />
  <UpgradeVersion Minimum="1.0.0.178" IncludeMinimum="yes" Maximum="$(var.ProductVersion)" IncludeMaximum="no" Language="1033" Property="UPGRADEFOUND" />
</Upgrade> 
```

Scenario is: I have installed build #177 then upgraded to build #206\. It is still allowed to install #177 which I want to prevent this downgrade.

From build #178 onward I have changed product GUID for major upgrade and which is working fine. Please suggest how to prevent this. I don't want to downgrade build below 177\. If I have done major upgrade on `build no <= 177`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:32:01.020

您的问题是默认情况下如何在 MSI 中完成版本比较 - 1.0.0.123 被视为与例如 1.0.0.33 相同。您要么必须增加修订版本以使安装程序将其检测为旧版本，要么使用解决方法。

例如，您可以创建一个自定义操作来检查这个修订版本并将其放置在例如 InstallValidate 之前：

```
<CustomAction Id='MyVersionCheck' Return='check' (...) />

<InstallExecuteSequence>
    <Custom Action='MyVersionCheck' Before='InstallValidate' />
</InstallExecuteSequence> 
```

更多信息可以[在这篇文章](http://akutz.wordpress.com/2011/03/14/preventing-same-version-downgrades-with-wix/)中找到，关于如何创建自定义操作的信息，我推荐[这个博客条目](http://blogs.technet.com/b/alexshev/archive/2008/02/21/from-msi-to-wix-part-5-custom-actions.aspx)作为起点。

# iphone - Painting in bitmap context with my finger and getting double image and doted line, any ideas?

> ID：11932391
> 
> 赞同：0
> 
> 时间：2012-08-13T10:23:53.340
> 
> 标签：iphone, ios, xcode, ios5, core-graphics

I have this code to paint with my finger on ipad in bitmap context. And i'm getting lined (long dots) line instead of full line and the line is flickering when i move my finger, and it doubled in sense that when i move my finger i get two lines on each side of the screen. Any idea what is going on?

Thanks in advance.

```
-(void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event
{
  UITouch *touch = [touches anyObject];

self.prePreviousPoint = self.previousPoint;
self.previousPoint = [touch previousLocationInView:self];
CGPoint currentPoint = [touch locationInView:self];

// calculate mid point
CGPoint mid1 = [self calculateMidPointForPoint:self.previousPoint andPoint:self.prePreviousPoint];
CGPoint mid2 = [self calculateMidPointForPoint:currentPoint andPoint:self.previousPoint];

//inicijaliziranje contexta u kojem se sve crta
UIGraphicsBeginImageContext(self.drawImageView.frame.size);
// CGContextRef context = UIGraphicsGetCurrentContext();

CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();
context = CGBitmapContextCreate(NULL, self.drawImageView.frame.size.width, self.drawImageView.frame.size.height, 8, self.drawImageView.frame.size.width*4, colorSpace,kCGImageAlphaPremultipliedLast);
CGColorSpaceRelease(colorSpace);
UIGraphicsPushContext(context);
CGRect rect = CGRectMake(0, 0, self.drawImageView.frame.size.width, self.drawImageView.frame.size.height);

// setting line color

[[self currentColor] setStroke];

CGContextSetAllowsAntialiasing(context, true);
CGContextSetShouldAntialias(context, true);

//inicijaliziranje viewa u koji se crta slika te odredivanje vrha linije i biljezenje pokreta
[self.drawImageView.image drawInRect:rect];
CGContextMoveToPoint(context, mid1.x, mid1.y);
// Use QuadCurve is the key
CGContextAddQuadCurveToPoint(context, self.previousPoint.x, self.previousPoint.y, mid2.x, mid2.y);

CGContextSetLineCap(context, kCGLineCapRound);

// complete distance variable is used for setting line width in respect of speed of finger movment and time the finger moves

CGFloat xDist = (previousPoint.x - currentPoint.x); //[2]
CGFloat yDist = (previousPoint.y - currentPoint.y); //[3]
CGFloat distance = sqrt((xDist * xDist) + (yDist * yDist)); //[4]

distance = distance / 10;

if (distance > 10) {
    distance = 10.0;
}

distance = distance / 10;
distance = distance * 3;

if (4.0 - distance > self.lineWidth) {
    lineWidth = lineWidth + 0.3;
} else {
    lineWidth = lineWidth - 0.3;
}

CGContextSetLineWidth(context, self.lineWidth);

//    CGContextSetRGBStrokeColor(context, 0.0, 0.0, 0.0, 1.0);

NSLog(@"%@",context);
//Crtanje svega na ekran i "zatvaranje" image contexta
//CGContextDrawImage(context,CGRectMake(0, 0, self.drawImageView.frame.size.width, self.drawImageView.frame.size.height) , image1);
CGContextStrokePath(context);

CGImageRef image = CGBitmapContextCreateImage(context);
image2 = [UIImage imageWithCGImage:image];
//UIImage *image = UIGraphicsGetImageFromCurrentImageContext();
self.drawImageView.image = image2;
UIGraphicsPopContext();
CGImageRelease(image);
NSLog(@"%@ %@",image,image2);
CGContextRelease(context);
UIGraphicsEndImageContext(); 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T18:08:32.160

```
- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {
UITouch *touch = [touches anyObject];
 colorSpace = CGColorSpaceCreateDeviceRGB();
context1 = CGBitmapContextCreate(NULL, self.drawImageView.frame.size.width, self.drawImageView.frame.size.height, 8, self.drawImageView.frame.size.width*4, colorSpace,kCGImageAlphaPremultipliedLast);
CGColorSpaceRelease(colorSpace);

self.previousPoint = [touch locationInView:self];
}

-(void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event
{
 UITouch *touch = [touches anyObject];

self.prePreviousPoint = self.previousPoint;
self.previousPoint = [touch previousLocationInView:self];
CGPoint currentPoint = [touch locationInView:self];

// calculate mid point
CGPoint mid1 = [self calculateMidPointForPoint:self.previousPoint andPoint:self.prePreviousPoint];
CGPoint mid2 = [self calculateMidPointForPoint:currentPoint andPoint:self.previousPoint];

rect = CGRectMake(0, 0, self.drawImageView.frame.size.width, self.drawImageView.frame.size.height);

    UIGraphicsPushContext(context1);

  UIGraphicsBeginImageContext(self.drawImageView.frame.size);
  context = UIGraphicsGetCurrentContext();

  // setting line color

[[self currentColor] setStroke];

CGContextSetAllowsAntialiasing(context, true);
CGContextSetShouldAntialias(context, true);

[self.drawImageView.image drawInRect:rect];

CGContextMoveToPoint(context, mid1.x, mid1.y);
// Use QuadCurve is the key
CGContextAddQuadCurveToPoint(context, self.previousPoint.x, self.previousPoint.y, mid2.x, mid2.y);

 CGContextSetLineCap(context, kCGLineCapRound);

 // complete distance variable is used for setting line width in respect of speed of finger    movment and time the finger moves

CGFloat xDist = (previousPoint.x - currentPoint.x); //[2]
CGFloat yDist = (previousPoint.y - currentPoint.y); //[3]
CGFloat distance = sqrt((xDist * xDist) + (yDist * yDist)); //[4]

distance = distance / 10;

if (distance > 10) {
    distance = 10.0;
}

distance = distance / 10;
distance = distance * 3;

if (4.0 - distance > self.lineWidth) {
    lineWidth = lineWidth + 0.3;
} else {
    lineWidth = lineWidth - 0.3;
}

CGContextSetLineWidth(context, 15);

//    CGContextSetRGBStrokeColor(context, 0.0, 0.0, 0.0, 1.0);

 CGContextStrokePath(context);

 image = CGBitmapContextCreateImage(context);
 image2 = [UIImage imageWithCGImage:image];

UIGraphicsPopContext();
UIGraphicsEndImageContext();
CGContextRelease(context1);
CGImageRelease(image);
[drawImageView setImage:image2];

} 
```

This is the entire code that solved my problem i figured it out on my own at the end.

# python - 没有 virtualenv 无法启动 uWSGI 服务器（ImportError）

> ID：11932393
> 
> 赞同：5
> 
> 时间：2012-08-13T10:23:53.657
> 
> 标签：python, django, virtualenv, wsgi, uwsgi

我正在运行 django+nginx+uwsgi。出于某种原因，如果不设置 home 选项，我无法启动 uWSGI，指向虚拟环境。每当我在没有它的情况下启动 uWSGI 时，它都会说它找不到模块 django.core.wsgi，就像 python 路径为空一样（但系统范围内安装了 django 1.4）。

我该如何解决？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-29T16:30:17.543

由于我也遇到了这个问题，所以让我们为所有人写一个答案。:) 问题是，当以皇帝模式（系统范围）启动时，uwsgi 主进程不能（或不会）为 python（PYTHONPATH）加载正确的环境。使用 virtualenv 您指定环境。没有它，您需要设置`pythonpath`变量，甚至多次指向系统范围的 python 路径。

举个例子，对于我的系统，它是：

```
pythonpath = /usr/local/lib/python2.7/dist-packages
pythonpath = /usr/lib/python2.7 
```

（使用 ini 语法）

# android - How to test an IntentService using a ServiceTestCase?

> ID：11932394
> 
> 赞同：6
> 
> 时间：2012-08-13T10:23:56.703
> 
> 标签：android, android-service, android-testing

I have been trying to test my `IntentService` using the Android provided `ServiceTestCase` class, but the tests fail with the `testServiceTestCaseSetUpProperly` failing in the first place. My code follows:

```
public class MyClientServiceTest 
   extends ServiceTestCase<MyClientService> {
    public static final String TAG = MyClientServiceTest.class.getName();
    public static final String FILE_PREFIX = "test_";

    private boolean bLoggingIn = false;
    private boolean bLoggingOut = false;
    private boolean bSendingScanRequest = false;
    private boolean bGettingTemplates = false;

    private final Class SERVICE_CLASS = MyClientService.class;

    private RenamingDelegatingContext rdContext = null;

    public MyClientServiceTest() {
        super(MyClientService.class);
    }

    public MyClientServiceTest(Class<MyClientService> serviceType) {
        super(MyClientService.class);   
    }

    @Override
    public void setUp() throws Exception {
        super.setUp();
        rdContext = new RenamingDelegatingContext
                    (getSystemContext(), FILE_PREFIX);
        setContext(rdContext);
    }

    public void testThrowsExceptionOnNoActionPassedInIntent() {
        Intent intent = new Intent(rdContext, SERVICE_CLASS);
        Exception e = null;
        try{
            startService(intent);
        } catch(IllegalArgumentException ex) {
            e = ex;
        } finally {
            assertNotNull(e);
        }
    }

    public void testThrowsExceptionOnInvalidAction() {
        Intent intent = new Intent(rdContext, SERVICE_CLASS);
        intent.setAction("SurelyInvalidAction");
        Exception e = null;
        try {
            startService(intent);
        } catch(IllegalArgumentException ex) {
            e = ex;
        } finally {
            assertNotNull(e);
        }
    }
} 
```

What happens when I try to run this test with JUnit is this:

```
org.itay.mobile.test.MyClientServiceTest
testServiceTestCaseSetUpProperly(org.itay.mobile.test.MyClientServiceTest)
junit.framework.AssertionFailedError
at android.test.ServiceTestCase.setupService(ServiceTestCase.java:152)
at   android.test.ServiceTestCase.testServiceTestCaseSetUpProperly(ServiceTestCase.java:330)
at java.lang.reflect.Method.invokeNative(Native Method)
at android.test.AndroidTestRunner.runTest(AndroidTestRunner.java:169)
at android.test.AndroidTestRunner.runTest(AndroidTestRunner.java:154)
at android.test.InstrumentationTestRunner.onStart(InstrumentationTestRunner.java:529)
at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:1448)

testThrowsExceptionOnInvalidAction(org.itay.mobile.test.MyClientServiceTest)
junit.framework.AssertionFailedError
at      org.itay.mobile.test.MyClientServiceTest.testThrowsExceptionOnInvalidAction(MyClientServiceTest.java:61)
at java.lang.reflect.Method.invokeNative(Native Method)
at android.test.AndroidTestRunner.runTest(AndroidTestRunner.java:169)
at android.test.AndroidTestRunner.runTest(AndroidTestRunner.java:154)
at android.test.InstrumentationTestRunner.onStart(InstrumentationTestRunner.java:529)
at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:1448)

testThrowsExceptionOnNoActionPassedInIntent(org.itay.mobile.test.MyClientServiceTest)
junit.framework.AssertionFailedError
at   org.itay.mobile.test.MyClientServiceTest.testThrowsExceptionOnNoActionPassedInIntent(MyClientServiceTest.java:48)
at java.lang.reflect.Method.invokeNative(Native Method)
at android.test.AndroidTestRunner.runTest(AndroidTestRunner.java:169)
at android.test.AndroidTestRunner.runTest(AndroidTestRunner.java:154)
at android.test.InstrumentationTestRunner.onStart(InstrumentationTestRunner.java:529)
at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:1448) 
```

Even though I have gathered that testing Android IntentServices [especially daunting](https://stackoverflow.com/questions/6667087/android-servicetestcase-for-intentservice), the `testServiceTestCaseSetUpProperly` test is failing which means(according to [Android docs](http://developer.android.com/tools/testing/service_testing.html)) that my service failed to initialize a Context properly. How do I do that? If that is not the case (as I *do* initialize a Context using `setContext()` in `setUp()`), what can be done to work around this?

Also, I would highly appreciate someone pointing me to a link that provides general guidelines to Android service testing(with example implementation, of course).

# jquery - adding new row with jquery to asp.net grid view and need to access the row from c#

> ID：11932398
> 
> 赞同：-2
> 
> 时间：2012-08-13T10:24:11.150
> 
> 标签：jquery, asp.net, c#-4.0

I need to add new row which contains 4 tds and 4 text boxes in it

and i need to make use like gridview.rows[i];

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-08-13T11:47:12.607

以下链接最能说明您的需求： [http ://technico.qnownow.com/how-to-insert-update-delete-rows-in-asp-net-gridview-control/](http://technico.qnownow.com/how-to-insert-update-delete-rows-in-asp-net-gridview-control/)

# html - 创建自定义论坛，使用表格， ，还是div？

> ID：11932401
> 
> 赞同：0
> 
> 时间：2012-08-13T10:24:16.543
> 
> 标签：html, css

我需要在每列的左侧和右侧制作带有边框的可拉伸列和行。如果一列的行延伸更多，则该行中的其他列应该延伸。我找到了液体 2 列布局和 3 列布局，但这些都是 div。我搜索了phpbb论坛，发现他们的论坛是由“ul”“li”标签组成的，然后总是有表格方法......最简单的方法。

采用哪种方法？搜索引擎优化友好（以防这些选择中的任何一个可能是固执己见）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:26:36.697

我会为论坛使用 HTML `table`。

它是表格数据，因此 HTML`table`是要使用的正确元素。

请记住，[HTML 表格并不邪恶](http://webdesign.about.com/od/tables/a/aa122605.htm)，它们只是不应该用于布局。

# java - Xstream or Jaxb schema support

> ID：11932402
> 
> 赞同：2
> 
> 时间：2012-08-13T10:24:16.950
> 
> 标签：java, xml, jaxb, xstream

I have xml like this

```
<abc:city>
  <def:cityname />
  <xyz:postalTown>
     Sacramento
  </xyz:postalTown>
</abc:city>

<abc:city>
  <def:cityname />
  <pqr:postalTown>
     Sacramento
  </pqr:postalTown>
</abc:city> 
```

Can xstream handle these namespaces like 'abc' in `<abc:city>`

Also namespace for `<pqr:postalTown>` can be changed as I am unaware of the response coming. How can this be handled dynamically through xstream.

If this is impossible in xstream; can it be handled using jaxb?

EDIT: My class will be City:

```
Class City{
String cityName;
String postalTown;
} 
```

How can I map above xml to **City** class as tags contain prefixes?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T11:22:39.057

**更新**

如果前缀与命名空间声明不对应，那么您可以使用我在下面从相关问题链接的答案中的方法：

*   [https://stackoverflow.com/a/11970622/383861](https://stackoverflow.com/a/11970622/383861)

* * *

**关于命名空间资格的说明**

所使用的前缀在对象到 XML 的映射中不起作用。只要 the`xyz`和`pqr`前缀对应于相同的命名空间，您就可以使用任何支持命名空间的对象到 XML 解决方案。

即使以下文档包含不同的前缀，它们也具有相同的命名空间限定。

**文件#1**

```
<abc:city xmlns:abc="ABC" xmlns:def="DEF" xmlns:ghi="XYZ">
    <def:cityName/>
    <ghi:postalTown>
        Sacramento
    </ghi:postalTown>
</abc:city> 
```

**文件#2**

```
<jkl:city xmlns:jkl="ABC" xmlns:mno="DEF" xmlns:pqr="XYZ">
    <mno:cityName/>
    <pqr:postalTown>
        Sacramento
    </pqr:postalTown>
</jkl:city> 
```

* * *

**JAXB 和命名空间**

下面是如何将您的`City`类映射到上面的 XML 文档。请注意，它是命名空间 URI，而不是在`@XmlRootElement`和`@XmlElement`注释上指定的前缀。

```
package forum11932402;

import javax.xml.bind.annotation.*;

@XmlRootElement(namespace="ABC")
public class City {

    @XmlElement(namespace="DEF")
    String cityName;

    @XmlElement(namespace="XYZ")
    String postalTown;

} 
```

以下是有关 JAXB 和命名空间的一些信息：

*   [http://blog.bdoughan.com/2010/08/jaxb-namespaces.html](http://blog.bdoughan.com/2010/08/jaxb-namespaces.html)
*   [http://blog.bdoughan.com/2011/11/jaxb-and-namespace-prefixes.html](http://blog.bdoughan.com/2011/11/jaxb-and-namespace-prefixes.html)

* * *

**演示代码**

以下演示代码可用于解组我之前在此答案中发布的任何一个 XML 文档。

```
package forum11932402;

import java.io.File;
import javax.xml.bind.*;

public class Demo {

    public static void main(String[] args) throws Exception {
        JAXBContext jc = JAXBContext.newInstance(City.class);

        Unmarshaller unmarshaller = jc.createUnmarshaller();
        File xml = new File("src/forum11932402/input.xml");
        City city = (City) unmarshaller.unmarshal(xml);

        Marshaller marshaller = jc.createMarshaller();
        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
        marshaller.marshal(city, System.out);
    }

} 
```

下面是运行演示代码的输出。JAXB 实现分配了新的前缀。该`cityName`元素仍然是命名空间限定的，它只对应于声明为的默认命名空间`xmls="DEF"`。

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns3:city xmlns="DEF" xmlns:ns2="XYZ" xmlns:ns3="ABC">
    <cityName></cityName>
    <ns2:postalTown>
        Sacramento
    </ns2:postalTown>
</ns3:city> 
```

# ruby-on-rails - 尝试运行命令时出现错误消息：bundle install --without production

> ID：11932408
> 
> 赞同：0
> 
> 时间：2012-08-13T10:24:35.720
> 
> 标签：ruby-on-rails, ruby, ubuntu, command-line

当我尝试运行

```
bundle install --without production 
```

在 Ubuntu 12.04 上执行命令，我收到如下错误消息：

```
Could not find gem 'pg0.12.2 (>= 0) ruby' in the gems available on this machine 
```

关于为什么会发生这种情况的任何想法？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:31:07.000

如果要安装 0.12.2 gem，请按以下方式编写。

```
gem 'pg', '0.12.2' 
```

如果您想要大于 0.12.2 的版本，请按以下方式编写

```
gem 'pg' , '>= 0.12.2' 
```

请使用此链接了解有关如何在 rails [Bundle中捆绑 gems 的更多信息](http://gembundler.com/gemfile.html)

# drupal - How to relate two vocabularies in Drupal 7

> ID：11932410
> 
> 赞同：0
> 
> 时间：2012-08-13T10:24:51.593
> 
> 标签：drupal, drupal-modules, drupal-taxonomy

I have created two vocabularies, 'subject1' and 'subject2'. Both 'subject1' and 'subject2' have the term 'history paper'.

How would I relate these two vocabularies? Please help me. I have tried the Hierarchical Select and Taxonomy Tree modules.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T12:02:59.853

我在这里假设您想要关联术语（“历史论文”）而不是词汇，因为我不确定这是否容易实现：

您可以尝试将[实体参考](http://drupal.org/project/entityreference)字段添加到您的分类术语中。这将允许您交叉引用多个分类术语。很难知道这是否会起作用，因为您还没有说明通过关联这两个术语要达到的目标。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-14T03:24:41.727

Drupal 词汇之间的隔离令人沮丧，因此如果您想要在术语之间进行任何类型的交互，您别无选择，只能使用单个词汇。我确信已经编写了许多模块来解决这个问题，但我还没有找到任何好的模块。

如果两个词汇表非常相似以至于它们有相关的术语（鉴于您提供的信息很少，我无法想象许多结构良好的场景需要在这个级别的各个主题之间进行拆分），我建议您将它们合并合二为一，例如“主题”，并在新词汇中使用层次结构来描述主题 1 和主题 2 之间的分离。

# xquery - 计算平均值的平均值

> ID：11932412
> 
> 赞同：1
> 
> 时间：2012-08-13T10:25:02.130
> 
> 标签：xquery

我有一个很大的 XML 文件，其中包含有关连锁酒店的数据。他们每周、每天、每家酒店都会为报告保留一些数据：

```
 <Report week="1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="report.xsd">
        <Days>
            <Day id="1" naam="Monday">
                <Hotels>
                    <Hotel id="1" naam="Bonotel Antwerp">
                        <Stays>
                            <Stay id="1">
                                <Room id="1" number="1"/>
                                <Roomtype id="1" naam="oneperson" price="20.00"/>
                                <Period id="1" naam="lowseason" price="20.00"/>
                                <Formula id="1" naam="roomandbreakfast" price="20.00"/>
                                <Facilities>
                                    <Facility id="1" naam="swimming" price="5.00"/>
                                    <Facility id="2" naam="golf" price="20.00"/>
                                </Facilities>
                                <Guest id="1" naam="John Williams"/>
                            </Stay>
                            <Stay id="2">
                                <Room id="2" number="2"/>
                                <Roomtype id="1" naam="oneperson" price="20.00"/>
                                <Period id="1" naam="lowseason" price="20.00"/>
                                <Formula id="1" naam="roomandbreakfast" price="20.00"/>
                                <Facilities>
                                    <Facility id="2" naam="golf" price="20.00"/>
                                    <Facility id="3" naam="minibar" price="10.00"/>
                                </Facilities>
                                <Guest id="2" naam="Ray Kurzweil"/>
                            </Stay>
                            <Stay id="3">
                                <Room id="3" number="3"/>
                                <Roomtype id="2" naam="twoperson" price="40.00"/>
                                <Period id="1" naam="lowseason" price="20.00"/>
                                <Formula id="2" naam="halfpension" price="30.00"/>
                                <Facilities>
                                    <Facility id="4" naam="tennis" price="20.00"/>
                                    <Facility id="4" naam="tennis" price="20.00"/>
                                </Facilities>
                                <Guest id="3" naam="Stephen Hawking"/>
                            </Stay>
                        </Stays>
                    </Hotel>
(: ... Other Hotels ... :)
                </Hotels>
            </Day>
(: ... Other Days ... :)
        </Days>
    </Report> 
```

使用 XQuery，我必须计算客人的平均花费。这是 Roomtype 价格、Periode 价格、Formula 价格和设施总和的总和。我想出了这个 XQuery：

```
xquery version "1.0";
<ReportResult week="1">
{
    for $x in (1 to 7)
    return
        for $stays in doc("report.xml")//Report/Days/Day[@id=$x]/Hotels/Hotel[@id=1]/Stays
        let $average := avg(
            for $v in $stays/Stay
                return sum($v/Roomtype/@price) + sum($v/Facilities/Facility/@prijs) + sum($v/Formula/@price) + sum($v/Period/@price)
        )           
        return
        <AverageSpending hotel="Bonotel Antwerpen" day="{data($x)}">
            {data(round-half-to-even($average, 2))}     
        </AverageSpending>
    }
</Reportresult> 
```

这产生了我期望的结果：

```
<Reportresult week="1">
    <Averagespending hotel="Bonotel Antwerpen" day="1">101.67</AverageSpending>
    <Averagespending hotel="Bonotel Antwerpen" day="2">321.67</AverageSpending>
    (: ... etc... :)
    <Averagespending hotel="Bonotel Antwerpen" day="2">255</AverageSpending>
</Reportresult> 
```

但是，我也想计算总平均值。所以所有平均值的总和除以 7 天输出类似

```
<TotalAverage>198,67</TotalAverage> 
```

但是我在计算这个总平均值时遇到了麻烦。在 Java 中，我会使用一个总变量，并用计算出的每个循环的平均值来增加它，但显然这在这里不起作用。我怎样才能用 XQuery 做到这一点？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T18:44:36.120

例如，您可以将请求的第一部分分配给变量并计算其总平均值并连接两个结果：

```
xquery version "1.0";
<ReportResult week="1">
{ let $averages := 
 for $x in (1 to 7)
 return
    for $stays in doc("report.xml")//Report/Days/Day[@id=$x]/Hotels/Hotel[@id=1]/Stays
    let $average := avg(
        for $v in $stays/Stay
            return sum($v/Roomtype/@price) + sum($v/Facilities/Facility/@prijs) + sum($v/Formula/@price) + sum($v/Period/@price)
    )           
    return
    <AverageSpending hotel="Bonotel Antwerpen" day="{data($x)}">
        {data(round-half-to-even($average, 2))}     
    </AverageSpending>
return ($averages,<TotalAverage>{avg($averages)}</TotalAverage>)
</Reportresult> 
```

# css - Multiple background images not working in IE8 and IE7

> ID：11932417
> 
> 赞同：0
> 
> 时间：2012-08-13T10:25:27.357
> 
> 标签：css, css3pie

Below is a simple code in which I have implemented multiple background images to body, but this code does not work in IE 7 and 8 whereas it works in all other browsers. I have used PIE.htc which is relative to the html document,but still no success. Please help me to solve this example.

```
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
</head>

<body style="background: url(header_top_border.png) repeat-x, url(bg_1px.jpg) repeat-x;  behavior: url(http://localhost/mutliple_bg/PIE.htc);
-pie-background:url(header_top_border.png) repeat-x, url(bg_1px.jpg) repeat-x; position:relative; zoom:1; z-index:1;">
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T15:52:08.727

抱歉匆忙阅读您的问题，只是注意到您使用馅饼。PIE 不支持 BODY 元素上的多个背景；

解决方案：为body创建div容器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T15:10:56.330

多背景只支持IE9及以上。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-21T02:57:15.613

使用 div 位置`relative and absolute`

我认为这是解决跨浏览器问题的简单方法希望对您有所帮助...

点击[这里](http://jsfiddle.net/jhunlio/WR9Ge/)工作小提琴

html

```
<div class="parent">
    <div class="colorLeft"></div>
    <div class="contentArea"></div>
</div> 
```

css

```
.parent {
    float:left;
    width:100%;
    height:200px;
    background-color:#555;
    position:relative;
    z-index:1;
}
.colorLeft {
    width:50%;
    float:left;
    height:200px;
    background-color:blue;
    position:absolute;
    z-index:-1;    
}
.contentArea {
    width:400px;
    background-color:#fff;
    height:180px;
    margin:10px auto;
} 
```

# ruby - 如何在 ruby 中填充序列化属性

> ID：11932426
> 
> 赞同：1
> 
> 时间：2012-08-13T10:26:15.273
> 
> 标签：ruby

我有以下课程

```
class Foo < ActiveRecord::Base
  serialize: bar
end 
```

它应该包含一个鲜花列表（比如百合，茉莉花）。我应该使用什么格式来存储这些信息

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:28:07.957

数组

```
Foo.new.bar = %w(lilly jasmine) 
```

或者任何可以通过 YAML 序列化的对象，查看[这里](http://apidock.com/rails/ActiveRecord/Base/serialize/class)

# c - How to append two arrays in C language?

> ID：11932428
> 
> 赞同：8
> 
> 时间：2012-08-13T10:26:28.620
> 
> 标签：c, arrays

How can I include the elements of array X and Y in to array `total` in C language ? can you please show with an example.

```
X = (float*) malloc(4);
Y = (float*) malloc(4);
total = (float*) malloc(8);

for (i = 0; i < 4; i++)
{
    h_x[i] = 1;
    h_y[i] = 2;
}

//How can I make 'total' have both the arrays x and y
//for example I would like the following to print out 
// 1, 1, 1, 1, 2, 2, 2, 2

for (i = 0; i < 8; i++)
    printf("%.1f, ", total[i]); 
```

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2012-08-13T10:29:23.630

您现有的代码分配了错误的内存量，因为它根本没有考虑`sizeof(float)`到。

除此之外，您可以将一个数组附加到另​​一个数组[`memcpy`](http://www.cplusplus.com/reference/clibrary/cstring/memcpy/)：

```
float x[4] = { 1, 1, 1, 1 };
float y[4] = { 2, 2, 2, 2 };

float* total = malloc(8 * sizeof(float)); // array to hold the result

memcpy(total,     x, 4 * sizeof(float)); // copy 4 floats from x to total[0]...total[3]
memcpy(total + 4, y, 4 * sizeof(float)); // copy 4 floats from y to total[4]...total[7] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-13T10:43:05.007

```
for (i = 0; i < 4; i++)
{
    total[i]  =h_x[i] = 1;
    total[i+4]=h_y[i] = 2;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-13T10:35:20.440

当您知道它们的大小时，一种连接两个 C 数组的方法。

```
#include <stdlib.h>
#include <stdio.h>
#include <string.h>

#define ARRAY_CONCAT(TYPE, A, An, B, Bn) \
(TYPE *)array_concat((const void *)(A), (An), (const void *)(B), (Bn), sizeof(TYPE));

void *array_concat(const void *a, size_t an,
               const void *b, size_t bn, size_t s)
{
    char *p = malloc(s * (an + bn));
    memcpy(p, a, an*s);
    memcpy(p + an*s, b, bn*s);
    return p;
}

// testing
const int a[] = { 1, 1, 1, 1 };
const int b[] = { 2, 2, 2, 2 };

int main(void)
{
    unsigned int i;

    int *total = ARRAY_CONCAT(int, a, 4, b, 4);

    for(i = 0; i < 8; i++)
        printf("%d\n", total[i]);

    free(total);
    return EXIT_SUCCCESS;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-05-25T13:28:55.787

我想我会添加这个，因为我发现过去有必要将值附加到 C 数组（如`NSMutableArray`在 Objective-C 中）。此代码管理一个 C`float`数组并向其附加值：

```
static float *arr;
static int length;

void appendFloat(float);

int main(int argc, const char * argv[]) {

    float val = 0.1f;
    appendFloat(val);

    return 0;
}

void appendFloat(float val) {
    /*
     * How to manage a mutable C float array
     */
    // Create temp array
    float *temp = malloc(sizeof(float) * length + 1);
    if (length > 0 && arr != NULL) {
        // Copy value of arr into temp if arr has values
        memccpy(temp, arr, length, sizeof(float));
        // Free origional arr
        free(arr);
    }
    // Length += 1
    length++;
    // Append the value
    temp[length] = val;
    // Set value of temp to arr
    arr = temp;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-08-15T19:56:17.890

为什么不使用这样的简单逻辑呢？

[![在此处输入图像描述](../Images/1ebd2f653d964b5bd1a7723b4b29018a.png)](https://i.stack.imgur.com/VJ0R2.png)

```
#include<stdio.h>  

#define N 5  
#define M (N * 2)  

int main()  
{  
    int a[N], b[N], c[M], i, index = 0;  

    printf("Enter %d integer numbers, for first array\n", N);  
    for(i = 0; i < N; i++)  
        scanf("%d", &a[i]);  

    printf("Enter %d integer numbers, for second array\n", N);  
    for(i = 0; i < N; i++)  
            scanf("%d", &b[i]);  

    printf("\nMerging a[%d] and b[%d] to form c[%d] ..\n", N, N, M);  
    for(i = 0; i < N; i++)  
        c[index++] = a[i];  

    for(i = 0; i < N; i++)  
        c[index++] = b[i];  

    printf("\nElements of c[%d] is ..\n", M);  
    for(i = 0; i < M; i++)  
        printf("%d\n", c[i]);  

    return 0;  
} 
```

结果数组大小必须等于数组 a 和 b 的大小。

*资料来源：* [连接两个数组的 C 程序](https://technotip.com/8880/c-program-to-concatenate-two-arrays/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-10-20T14:21:34.667

这是连接两个或多个**静态分配**数组的解决方案。静态分配的数组是在编译时定义长度的数组。`sizeof`运算符返回这些数组的大小（以字节为单位）：

```
char Static[16];               // A statically allocated array
int n = sizeof(Static_array);  // n1 == 16 
```

我们可以使用该运算符`sizeof`来构建一组将**连接**两个或多个数组的宏，并可能返回数组的总长度。

我们的宏：

```
#include <string.h>

#define cat(z, a)          *((uint8_t *)memcpy(&(z), &(a), sizeof(a)) + sizeof(a))
#define cat1(z, a)         cat((z),(a))
#define cat2(z, a, b)      cat1(cat((z),(a)),b)
#define cat3(z, a, b...)   cat2(cat((z),(a)),b)
#define cat4(z, a, b...)   cat3(cat((z),(a)),b)
#define cat5(z, a, b...)   cat4(cat((z),(a)),b)
// ... add more as necessary
#define catn(n, z, a ...)  (&cat ## n((z), a) - (uint8_t *)&(z)) // Returns total length 
```

使用示例：

```
char      One[1]   = { 0x11 };
char      Two[2]   = { 0x22, 0x22 };
char      Three[3] = { 0x33, 0x33, 0x33 };
char      Four[4]  = { 0x44, 0x44, 0x44, 0x44 };
char      All[10];
unsigned  nAll = catn(4, All, One, Two, Three, Four); 
```

然而，由于我们定义宏的方式，我们可以连接**任何类型的对象**，只要`sizeof`返回它们的大小。例如：

```
char      One      = 0x11;                                // A byte
char      Two[2]   = { 0x22, 0x22 };                      // An array of two byte
char      Three[]  = "33";                                // A string ! 3rd byte = '\x00'
struct {
    char  a[2];
    short  b;
}         Four     = { .a = { 0x44, 0x44}, .b = 0x4444 }; // A structure
void *    Eight    = &One;                                // A 64-bit pointer
char      All[18];
unsigned  nAll     = catn(5, All, One, Two, Three, Four, Eight); 
```

使用常量字面量，也可以使用这些宏来连接常量、函数的结果，甚至是常量数组：

```
// Here we concatenate a constant, a function result, and a constant array
cat2(All,(char){0x11},(unsigned){some_fct()},((uint8_t[4]){1,2,3,4})); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-10-26T08:51:32.437

我喜欢乔恩的回答。就我而言，我不得不使用静态解决方案。因此，如果您被迫不使用动态内存分配：

```
int arr1[5] = {11,2,33,45,5};
int arr2[3] = {16,73,80};
int final_arr[8];

memcpy(final_arr, arr1, 5 * sizeof(int));
memcpy(&final_arr[5], arr2, 3 * sizeof(int));

for(int i=0; i<(sizeof(final_arr)/sizeof(final_arr[0]));i++){
    printf("final_arr: %i\n", final_arr[i]);
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-12-12T09:08:01.623

可能这很简单。

```
#include <stdio.h>

int main()
{
    int i,j,k,n,m,total,a[30],b[30],c[60];
    //getting array a
    printf("enter size of array A:");
    scanf("%d",&n);
    printf("enter %d elements \n",n);
    for(i=0;i<n;++i)
    {scanf("%d",&a[i]);}

    //getting aaray b
    printf("enter size of array b:");
    scanf("%d",&m);
    printf("enter %d elements \n",m);
    for(j=0;j<m;++j)
    {scanf("%d",&b[j]);}

    total=m+n;
    i=0,j=0;

    //concating starts    
    for(i=0;i<n;++i)
    {
       c[i]=a[i];
    }
    for(j=0;j<m;++j,++n)
    {
       c[n]=b[j];
    }

    printf("printing c\n");
    for(k=0;k<total;++k)
    {printf("%d\n",c[k]);}
} 
```

# sql - SQL Server select nth to nth in result set in multisearch

> ID：11932431
> 
> 赞同：0
> 
> 时间：2012-08-13T10:26:36.030
> 
> 标签：sql, sql-server-2008

As the following SQL, it will select the 100 to 110th result matching the search condition. But I think the SQL is ugly (using twice condition `where [name] like '%%'`) and there should be some brief statement to reach the same goal.

```
SELECT top 10 [name], [field1], [field2]
FROM [FrontPageInformation] 
WHERE [name] LIKE '%%' AND [name] NOT IN
      (SELECT TOP 100 [name] 
       FROM [EngineeringMedicine].[dbo].[FrontPageInformation] 
       WHERE [name] LIKE '%%') 
```

Could anyone help?

Great thanks,

Wa

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:28:18.710

您可以使用`ROW_NUMBER()`语法来获取行号

例如：

```
select [name],[field1],[field2] 
from
(
  SELECT [name],[field1],[field2], ROW_NUMBER() OVER (ORDER BY something) as RN
  FROM [FrontPageInformation]
  WHERE [name] like '%something%'
) v
WHERE RN between 101 and 110 
```

# c# - C#：使用 String.Split 方法在每一行拆分字符串列表？

> ID：11932435
> 
> 赞同：2
> 
> 时间：2012-08-13T10:26:40.530
> 
> 标签：c#, arrays, string

我正在尝试使用[String.Split](http://msdn.microsoft.com/en-us/library/system.string.split.aspx)方法在每行拆分我的字符串列表，但是下面的方法和正则表达式方法都不起作用。相反，他们返回了以下结果`{0} 0\. System.String[]`，而不是实际的字符串数组。请帮助查找以下代码中的错误：

```
 string m_settings_temp;
    string[] m_settings;
    public void ShowSettingsGui() {
       var dialog = new OpenFileDialog { Filter = "Data Sources (*.ini)|*.ini*|All Files|*.*" };
       if (dialog.ShowDialog() != DialogResult.OK) return;
       m_settings_temp = File.ReadAllText(dialog.FileName);
       m_settings = m_settings_temp.Split(new [] { '\r', '\n' });
       //This regex method failed as well:  
       //m_settings = Regex.Split(m_settings_temp,"\r\n|\r|\n");
    }

    //The method below is to evaluate the output
    protected override void SolveInstance(IGH_DataAccess DA)
                    {
                        if (m_settings == null)
                        {
                            AddRuntimeMessage(GH_RuntimeMessageLevel.Warning, "You must declare some valid settings");
                            return;
                        }
                        DA.SetData(0, m_settings);
                    } 
```

提前致谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-13T10:28:48.970

[`ReadAllLines`](http://msdn.microsoft.com/en-us/library/s2tte0y1.aspx)像这样使用

```
m_settings = File.ReadAllLines(dialog.FileName); 
```

这将为您`string[]`提供所选文件中每一行的元素。如果在运行此代码后`m_settings`没有元素，则您选择的文件为空。

* * *

如果我想查询`m_settings`控制台应用程序中的内容，我可能会做类似的事情。

```
for (var i = 0; i < m_settings.Length; i ++)
{
    Console.WriteLine(m_settings[i]);
} 
```

这将输出数组的内容，一次一个元素。如果我使用`ToString`for am 数组的实现，像这样，

```
Console.WriterLine(m_settings); 
```

我会得到数组类型和它包含的元素数量的字符串表示形式。

* * *

我怀疑在你的情况下你想做类似的事情

```
protected override void SolveInstance(IGH_DataAccess DA)
{
     if (m_settings == null || m_settings.Length == 0)
     {
         AddRuntimeMessage(
              GH_RuntimeMessageLevel.Warning,
              "You must declare some valid settings");

         return;
     }

     for (var i = 0; i < m_settings.Length; i ++)
     {
         DA.SetData(i, m_settings[i]);
     }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:28:32.127

```
m_settings = m_settings_temp
    .Split(new string[] { Environment.NewLine }, StringSplitOptions.None); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-13T10:31:12.967

```
string m_settings_temp;
string[] m_settings;
public void ShowSettingsGui()
{
    var dialog = new OpenFileDialog { Filter = "Data Sources (*.ini)|*.ini*|All Files|*.*" };
    if (dialog.ShowDialog() != DialogResult.OK) return;

    m_settings_temp = File.ReadAllText(dialog.FileName);
    m_settings = m_settings_temp.Split(new string[] { Environment.NewLine }, StringSplitOptions.None);
} 
```

# php - 使上传的文件外部无法访问 php/apache

> ID：11932439
> 
> 赞同：0
> 
> 时间：2012-08-13T10:26:56.467
> 
> 标签：php, security, file, authentication, upload

我制作了一个表单，允许用户上传文件（文本文档）。我正在使用由 time() 和用户 ID 组合而成的唯一 (?) 文件名（只有登录的用户可以上传）。

我的问题是无法从外部访问该文件。也就是说，只有上传它的用户或管理员才能看到它，而只需键入 www.domain.com/uploads/file_name.txt 就无法访问它

我知道我可以阻止通过 htaccess 访问文件，但如果我理解正确，即使我以管理员身份（或发送文件的用户）登录后，我也无法打开它。我知道我可以通过 php 在本地打开文件，这样我就可以通过我的管理面板显示内容，但这很痛苦，因为我只能毫无问题地输出纯文本文件。我也无法下载该文件。

在某些情况下，我可以即时生成 pdf 或 rtf 版本，但这需要很长的路要走，因为我需要以复杂的方式详细说明内容。无论如何，我不知道如何处理可能是最常见的 Word 或 OpenOffice 文件，以及如何不丢失格式或其他可能的功能。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:40:19.397

为什么不显示登录用户的下载链接，例如 www.domain.com/download.php?file=... 代码可能类似于：

```
if( isset($_GET['file']) && user_is_logged_in() ) {
  $file = DIR_SOME_WHERE .'/'. basename($_GET['file']);
  if( file_exists($file) && user_has_file_access( $file ) ) {
    header('Content-Description: File Transfer');
    header('Content-Type: application/octet-stream');
    header('Content-Disposition: attachment; filename='.basename($file));
    header('Expires: 0');
    header('Cache-Control: must-revalidate');
    header('Content-Length: ' . filesize($file));
    ob_clean();
    flush();
    readfile($file);
    exit;
  }
} 
```

# c# - 如何在 WPF 的代码/xaml 中的 UniformGrid 中显示网格线？

> ID：11932442
> 
> 赞同：1
> 
> 时间：2012-08-13T10:27:02.147
> 
> 标签：c#, wpf, pixelsense

我想知道如何在 WPF 的 UniformGrid 中显示网格线。我知道在普通网格中设置网格线很容易，但我发现 UniformGrid 无法像普通网格那样设置网格线。最好为代码和 xaml 提供简单的示例，因为我希望在编程时更加灵活。谢谢！

```
 // LOGIN PAGE
     //gameType is input by users.If gameType =3, it will form 3x3 uniform grid in GAMEPLAY PAGE
     GamePlay main = new GamePlay(gameType, playerNum); 
     App.Current.MainWindow = main;
     this.Close();
     main.Show();

     // GAMEPLAY PAGE
     // Form the required grid, I can form the grid correctly, but I want grid line to make it more clear 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-08-13T17:04:46.090

您始终可以在 UniformGrid 顶部放置一个 ShowGridLines 设置为 True 的 Grid。

如下所示：

```
<Grid x:Name="mainGrid">
    <UniformGrid Rows="4" Columns="4">

    </UniformGrid>
    <Grid ShowGridLines="True">
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition />
            <RowDefinition />
            <RowDefinition />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>
    </Grid>
</Grid> 
```

假设您有一个要放置 uniformgrid 的主网格和一个带线条的网格，示例代码如下：

```
 int rows = 4;
    int cols = 4;

    var uniformGird = new UniformGrid() {Rows = rows, Columns = cols};
    mainGrid.Children.Add(uniformGird);

    var grid = new Grid()
                    {
                        ShowGridLines = true
                    };
    for (int i = 0; i < rows; i++)
    {
        grid.RowDefinitions.Add(new RowDefinition());
    }
    for (int i = 0; i < cols; i++)
    {
        grid.ColumnDefinitions.Add(new ColumnDefinition());
    }

    mainGrid.Children.Add(grid); 
```

您可以将上述代码包装在一个方法中，并将行、列作为方法参数传递。

# php - phpize 在 mac os x 10.7.3 安装 xcache，没有这个文件目录

> ID：11932443
> 
> 赞同：1
> 
> 时间：2012-08-13T10:27:03.973
> 
> 标签：php, xcode, xcache

**当我运行 phpsize 时，出现以下错误：**

```
$ cd /usr/local/xcache-2.0.0
$ phpize
grep: /usr/include/php/main/php.h: No such file or directory
grep: /usr/include/php/Zend/zend_modules.h: No such file or directory
grep: /usr/include/php/Zend/zend_extensions.h: No such file or directory
Configuring for:
PHP Api Version:        
Zend Module Api No:     
Zend Extension Api No:  
Cannot find autoconf. Please check your autoconf installation and the
$PHP_AUTOCONF environment variable. Then, rerun this script. 
```

我已经安装了 xcode 4.3.2

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T11:55:12.117

您需要`autoconf`实用程序来完成安装。您可以安装[Homebrew](https://brew.sh/)然后执行

`brew install autoconf`

在终端。之后重复 XCache 安装。

我更喜欢 Homebrew，因为它易于使用，并且将所有数据都放在 /usr/local 中，并且不需要您提供 sudo 密码。因此，与 MacPots 相比，它在您的系统中保留的垃圾更少。但是，任何包管理器都会有所帮助。

UPD： **不要忘记检查 XCode 是否安装了命令行工具**

# python - 使用 sudo 权限运行单个命令的最 Pythonic 方式

> ID：11932448
> 
> 赞同：1
> 
> 时间：2012-08-13T10:27:09.290
> 
> 标签：python, sudo

我有一个执行某些`nagios`配置的 python 脚本。该脚本以具有完全 sudo 权限的用户身份运行（用户可以使用 sudo 运行任何命令，无需密码提示）。配置的最后一步是这样的：

```
open(NAGIOS_COMMAND_FILE, 'a').write(cmdline) 
```

只能由 root 写入，因此该`NAGIOS_COMMAND_FILE`命令应由 root 运行。我可以想到两种方法来实现这一点（都不能令人满意）：

1.  以 root 身份运行整个脚本。我不喜欢这样做，因为我的脚本中的任何错误都将以完全的 root 权限执行。
2.  将`open(NAGIOS_COMMAND_FILE, 'a').write(cmdline)`命令放在单独的脚本中，并使用`subprocess`库调用该脚本，使用 sudo。我不喜欢*仅仅*为了运行一个命令而创建一个额外的脚本。

我想在我当前的脚本中，没有办法*只*为单个命令更改正在运行的用户，还是我错了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:30:39.120

为什么不`NAGIOS_COMMAND_FILE`向拥有所有 sudo 权限的用户授予写入权限？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-17T14:41:34.683

我同意上面的帖子，要么给你的用户对 NAGIOS_COMMAND_FILE 的写入权限，要么将该用途添加到具有这些权限的组中，比如 nagcmd。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T11:03:32.043

实际上可以为单个命令更改用户。 [Fabric](http://docs.fabfile.org/en/1.4.3/index.html)提供了一种以任何用户身份登录服务器的方法。我相信它依赖于 ssh 连接。因此，您可以在 python 脚本中使用不同的用户连接到 localhost 并执行所需的命令。

[http://docs.fabfile.org/en/1.4.3/api/core/decorators.html](http://docs.fabfile.org/en/1.4.3/api/core/decorators.html)

无论如何，正如其他人已经精确的那样，最好允许运行脚本的用户执行这一命令，避免依赖root执行。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-13T10:50:58.837

永远不要*以*root 或具有完全 sudo 权限的用户身份运行 Web 服务器。这不是 pythonic 的事情，它是“让我的服务器不被 pwned”的事情。

查看`os.seteuid`“最小权限原则”，并将`man sudoers`您的服务器作为常规“httpd-server”运行，其中“httpd-server”具有 sudoer 写入权限`NAGIOS_COMMAND_FILE`。然后确保您写入命令文件的内容尽可能干净。

# objective-c - 通过customclass的nsview不显示

> ID：11932449
> 
> 赞同：0
> 
> 时间：2012-08-13T10:27:12.113
> 
> 标签：objective-c, xcode4, nsview

我制作了一个扩展 NSView 的 CustomView。还有一个包含 CustomView 的类 MyCLass。在下面的代码中，CustomView viewA 正确显示。但是通过 MyClass 的相同视图不会显示。我没有错误，但屏幕上没有任何内容。有人知道为什么吗？

```
 CustomView* viewA = [[CustomView alloc]initWithFrame:NSMakeRect(0, 0, 600, 400)];

MyClass *foo;
[foo setFooView:[[CustomView alloc]initWithFrame:NSMakeRect(0, 0, 600, 400)]];
// or [foo setFooView:viewA];

[[self.window contentView] addSubview:viewA]; //IS SHOWING
[[self.window contentView] addSubview:foo.fooview]; //DOES NOT SHOW? 
```

MyClass 的 .h 文件

```
 #import "CustomView.h"

@interface MyClass : NSObject
{
    CustomView *fooview;
}
-(CustomView *) fooview;
-(void) setFooView:(CustomView *)input;

@end 
```

MyClass 的 .m 文件

```
 #import "MyClass.h"

@implementation MyClass

- (CustomView *)fooview {
    return fooview;
}

-(void) setFooView:(CustomView *)input
{
    fooview = input;
}

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:40:46.997

您实际上是在创建`MyClass`任何地方的实例吗？看起来好像您将其`CustomView`放入一个 nil 对象中。

# android - 如何从Android上的地址获取纬度和经度？

> ID：11932453
> 
> 赞同：5
> 
> 时间：2012-08-13T10:27:15.063
> 
> 标签：android, google-maps

> **可能重复：**
> [如何从地址中找到纬度和经度？](https://stackoverflow.com/questions/3574644/how-can-i-find-the-latitude-and-longitude-from-address)

我想获取特定地址的纬度和经度。我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:30:40.823

```
private void getFromLocation(String address)
    {
          double latitude= 0.0, longtitude= 0.0;

        Geocoder geoCoder = new Geocoder(this, Locale.getDefault());    
        try 
        {
            List<Address> addresses = geoCoder.getFromLocationName(address , 1);
            if (addresses.size() > 0) 
            {            
                GeoPoint p = new GeoPoint(
                        (int) (addresses.get(0).getLatitude() * 1E6), 
                        (int) (addresses.get(0).getLongitude() * 1E6));

                latitude=p.getLatitudeE6()/1E6;
                longtitude=p.getLongitudeE6()/1E6;

                }
        }
        catch(Exception ee)
        {

        }
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T10:30:59.630

这将为您提供（循环）地址字符串的所有匹配项。如果您只需要第一个匹配项，请确保 address.size() 大于 0，然后取`address.get(0);`

在我的使用中，我得到所有匹配项，并将它们显示为选项。用户然后单击一个，它会选择该 GPS 位置。

```
Geocoder geocoder = new Geocoder(getBaseContext());  
List<Address> addresses;
try {
   addresses = geocoder.getFromLocationName("Example StreeT, UK, DNFE", 20);

   for(int i = 0; i < addresses.size(); i++) { // MULTIPLE MATCHES

     Address addr = addresses.get(i);

     double latitude = addr.getLatitude();
     double longitude = addr.getLongitude(); // DO SOMETHING WITH VALUES

   }

} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-13T10:31:10.240

你可以从下面的代码中得到，

```
private void GetLatitudeAndLongitude() {
    geocoder = new Geocoder(mContext, Locale.getDefault());
    try {
        List<Address> addresses = geocoder.getFromLocationName(txtLocation.getText().toString().trim().toLowerCase(), 1);
        if (addresses.size() > 0) {
            homeInfoModel.setLalitude(String.valueOf(addresses.get(0).getLatitude()));
            homeInfoModel.setLongitude(String.valueOf(addresses.get(0).getLongitude()));
        }
    } catch (IOException e) {
        e.printStackTrace();
    }
} 
```

# testing - 集成测试自动化 - 检查数据库值

> ID：11932459
> 
> 赞同：0
> 
> 时间：2012-08-13T10:27:31.607
> 
> 标签：testing, selenium, integration-testing

我现在正在处理创建集成测试自动化期间的一个问题。

我想：

1.  通过 selenium RC 输入数据
2.  导入后检查数据库中的值是否正确。

我对这些测试的逻辑有疑问。现在我这样做如下：在一个测试中，我生成随机数据（人的名字、姓氏等）。然后，通过从 DB 中简单选择，我获得唯一的 person_id 键（我假设如果名字和姓氏都是 8 个字符长，随机生成的字符串我可以将它们视为唯一的），然后在下一个查询中使用这个 id。

这种方法正确吗？如果没有，我该如何处理？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-15T13:07:12.750

这个集成测试的目的到底是什么？

如果您正在测试您的 DB 适配器层，那么是否需要使用 Web UI？您可以直接锻炼适配器。

如果您正在测试 Web UI，是否需要将数据实际存储在数据库中？您可以使用模拟（或某种其他类型的测试替身）检查值。

如果您正在进行端到端的脱脂测试，是否有必要检查实际数据值（除了实际交互的成功之外）吗？如果答案是肯定的，也许测试应该是这样的：

```
Given I have registered as "Random Person"
When I retrieve my details
Then my name is displayed correctly. 
```

# mysql - 带有 SELECT 语句问题的 INNER JOIN

> ID：11932460
> 
> 赞同：2
> 
> 时间：2012-08-13T10:27:35.240
> 
> 标签：mysql, sql, inner-join

我希望有人可以提供帮助，因为我已经尝试解决这个问题一段时间了，并且遇到了一个非常小的问题。

通过下面的查询，我主要尝试执行以下操作：

从订单中选择所有股票代码。

然后，查找每个股票代码存储在 STOCK_LOCATIONS 表中的所有位置。

然后，从 STOCK_LOCATIONS 表中返回一个位置。

但是，我需要交叉引用 LOCATION_DATA 表。LOCATION_DATA 表中的每个位置都有一个名为 PICK 的列，并且包含 Y 或 N。我想返回带有 Y 作为第一选择的位置，如果不存在则返回 N，如果 PICK 列中不存在 Y。

我实际上需要在 Inner Join LOCATION_DATA 查询中对结果进行排序，但这是不可能的。我尝试在 INNER JOIN 中添加一个 SELECT 语句（我相信这可能是要走的路），但未能让它工作。

任何建议表示赞赏。提前谢谢了...

```
SELECT
    STOCK_LOCATIONS.*,
    LOCATION_DATA.*,
    STOCK_DATA.PHYSICAL,
    ORDER_DATA.ENTRY,
    ORDER_DATA.STOCK,
    ORDER_DATA.ORDER_QTY,
    (SELECT
        COUNT(STOCK_LOCATIONS.location)
        FROM STOCK_LOCATIONS 
        WHERE ORDER_DATA.STOCK = STOCK_LOCATIONS.sku
        GROUP BY STOCK_LOCATIONS.sku
        HAVING COUNT(STOCK_LOCATIONS.sku) > 1
    ) AS RowCount
FROM ORDER_DATA
INNER JOIN STOCK_DATA
    ON ORDER_DATA.STOCK = STOCK_DATA.STOCK_CODE             
INNER JOIN STOCK_LOCATIONS
    ON ORDER_DATA.STOCK = STOCK_LOCATIONS.sku
INNER JOIN LOCATION_DATA
    ON STOCK_LOCATIONS.location = LOCATION_DATA.location
WHERE ORDER_DATA.ORDER_REF = '21254'    
GROUP BY ORDER_DATA.STOCK
ORDER BY LOCATION_DATA.pick_order ASC 
```

这是一些示例数据

以及所需输出的示例

```
STOCK_LOCATIONS     
sku         location    
123456      A1  
123457      A2  
123459      C1  
123456      B1  
123457      B2  

LOCATION_DATA       
location    pick    
A1          Y   
A2          Y   
B1          N   
B2          N   
C1          N   

STOCK_DATA      
STOCK_CODE  PHYSICAL    
123456      10  
123457      0   
123459      100 

ORDER_DATA      
ENTRY   STOCK       ORDER_QTY
1       123456      10
2       123457      2
3       123459      1

RETURN DATA     
STOCK_CODE  ENTRY   LOCATION    PICK    ORDER_QTY   PHYSICAL    
123456      1       A1          Y       10          10
123457      2       A2          Y       2           0
123459      3       C1          N       1           100 
```

这是一个更新的尝试，它会引发与未知表相关的错误：

```
// OPTION 1

SELECT
    STOCK_LOCATIONS.*,
    LOCATION_DATA.*,
    STOCK_DATA.PHYSICAL,
    ORDER_DATA.ENTRY,
    ORDER_DATA.STOCK,
    ORDER_DATA.ORDER_QTY,
    (SELECT
        COUNT(STOCK_LOCATIONS.location)
        FROM STOCK_LOCATIONS 
        WHERE ORDER_DATA.STOCK = STOCK_LOCATIONS.sku
        GROUP BY STOCK_LOCATIONS.sku
        HAVING COUNT(STOCK_LOCATIONS.sku) > 1
    ) AS RowCount,
    (SELECT 
        CASE
            WHEN dat1.pick IS NOT NULL THEN loc1.location
            ELSE loc2.location 
        END
    ) AS location

FROM ORDER_DATA
INNER JOIN STOCK_DATA
    ON ORDER_DATA.STOCK = STOCK_DATA.STOCK_CODE

LEFT JOIN STOCK_LOCATIONS loc1
    ON ORDER_DATA.STOCK = loc1.sku

LEFT JOIN LOCATION_DATA dat1
    ON loc1.location = dat1.location
    AND dat1.pick = 'Y'

LEFT JOIN STOCK_LOCATIONS loc2
    ON ORDER_DATA.STOCK = loc2.sku

LEFT JOIN STOCK_LOCATIONS dat2
    ON loc2.location = dat2.location
    AND dat1.pick = 'N'

WHERE ORDER_DATA.ORDER_REF = '".$_GET_q."'  
GROUP BY ORDER_DATA.STOCK
ORDER BY LOCATION_DATA.pick_order ASC

// OPTION 2

SELECT
    STOCK_LOCATIONS.*,
    LOCATION_DATA.*,
    STOCK_DATA.PHYSICAL,
    ORDER_DATA.ENTRY,
    ORDER_DATA.STOCK,
    ORDER_DATA.ORDER_QTY,
    (SELECT
        COUNT(STOCK_LOCATIONS.location)
        FROM STOCK_LOCATIONS 
        WHERE ORDER_DATA.STOCK = STOCK_LOCATIONS.sku
        GROUP BY STOCK_LOCATIONS.sku
        HAVING COUNT(STOCK_LOCATIONS.sku) > 1
    ) AS RowCount

FROM ORDER_DATA
INNER JOIN STOCK_DATA
    ON ORDER_DATA.STOCK = STOCK_DATA.STOCK_CODE

JOIN STOCK_LOCATIONS loc1
    ON ORDER_DATA.STOCK = loc1.sku

JOIN LOCATION_DATA dat1
    ON loc1.location = dat1.location 
    AND dat1.pick = CASE WHEN EXISTS
    (SELECT
        *
        FROM STOCK_LOCATIONS loc2
        JOIN LOCATION_DATA dat2
            ON loc2.location = dat2.location
            AND dat1.pick = 'Y'
        WHERE ORDER_DATA.STOCK = loc2.sku
    )
    THEN 'Y' ELSE 'N' END

WHERE ORDER_DATA.ORDER_REF = '".$_GET_q."'  
GROUP BY ORDER_DATA.STOCK
ORDER BY LOCATION_DATA.pick_order ASC

// OPTION 3

SELECT
    STOCK_LOCATIONS.*,
    LOCATION_DATA.*,
    STOCK_DATA.PHYSICAL,
    ORDER_DATA.ENTRY,
    ORDER_DATA.STOCK,
    ORDER_DATA.ORDER_QTY,

    (SELECT
        COUNT(STOCK_LOCATIONS.location)
        FROM STOCK_LOCATIONS 
        WHERE ORDER_DATA.STOCK = STOCK_LOCATIONS.sku
        GROUP BY STOCK_LOCATIONS.sku
        HAVING COUNT(STOCK_LOCATIONS.sku) > 1
    ) AS RowCount,

    (SELECT 
            STOCK_LOCATIONS.location
            FROM STOCK_LOCATIONS 
            INNER JOIN LOCATION_DATA
                ON STOCK_LOCATIONS.location = LOCATION_DATA.location
            WHERE ORDER_DATA.STOCK = STOCK_LOCATIONS.sku
            ORDER BY pick DESC, rand()
            LIMIT 1
    ) AS location

FROM ORDER_DATA

INNER JOIN STOCK_DATA
    ON ORDER_DATA.STOCK = STOCK_DATA.STOCK_CODE             

INNER JOIN STOCK_LOCATIONS
    ON ORDER_DATA.STOCK = STOCK_LOCATIONS.sku

INNER JOIN LOCATION_DATA
    ON STOCK_LOCATIONS.location = LOCATION_DATA.location

WHERE ORDER_DATA.ORDER_REF = '".$_GET_q."'  
GROUP BY ORDER_DATA.STOCK
ORDER BY LOCATION_DATA.pick_order ASC 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:34:44.033

您可以加入位置表两次，一次用于带有 的行，`pick = 'Y'`一次用于带有 的行`pick = 'N'`。然后，您可以使用 case 语句来选择第一个，但回退到第二个：

```
SELECT  case
        when dat1.pick is not null then loc1.location
        else loc2.location 
        end as Location
....
LEFT JOIN 
        STOCK_LOCATIONS loc1
ON      ORDER_DATA.STOCK = loc1.sku
LEFT JOIN
        LOCATION_DATA dat1
ON      loc1.location = dat1.location
        AND dat1.pick = 'Y'
LEFT JOIN
        STOCK_LOCATIONS loc2
ON      ORDER_DATA.STOCK = loc2.sku
LEFT JOIN
        LOCATION_DATA dat2
ON      loc2.location = dat2.location
        AND dat1.pick = 'N' 
```

另一种选择是带有子查询的连接条件。`pick = 'Y'`子查询可以在它们存在时查找位置，`pick = 'N'`否则就回退。

```
JOIN    STOCK_LOCATIONS loc1
ON      ORDER_DATA.STOCK = loc1.sku
JOIN    LOCATION_DATA dat1
ON      loc1.location = dat1.location 
        AND dat1.pick = case when exists
        (
        select  *
        from    STOCK_LOCATIONS loc2
        JOIN    LOCATION_DATA dat2
        ON      loc2.location = dat2.location
                AND dat1.pick = 'Y'
        WHERE   ORDER_DATA.STOCK = loc2.sku
        )
        then 'Y' else 'N' end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T13:34:15.820

我认为您可以将其作为 select 子句中的子查询来执行：

```
SELECT STOCK_LOCATIONS.*, LOCATION_DATA.*, STOCK_DATA.PHYSICAL,
       ORDER_DATA.ENTRY, ORDER_DATA.STOCK, ORDER_DATA.ORDER_QTY, 
       (SELECT COUNT(STOCK_LOCATIONS.location) 
        FROM STOCK_LOCATIONS  
        WHERE ORDER_DATA.STOCK = STOCK_LOCATIONS.sku   
        GROUP BY STOCK_LOCATIONS.sku  
        HAVING COUNT(STOCK_LOCATIONS.sku) > 1
       ) AS RowCount,
       (SELECT STOCK_LOCATIONS.location
        FROM STOCK_LOCATIONS  
        WHERE ORDER_DATA.STOCK = STOCK_LOCATIONS.sku
        order by pick desc, rand()
        limit 1
       ) AS ChosenLocation 
```

这会执行一个相关的子查询来选择一行。它命令它们适合您想要的业务逻辑。如果您想了解有关该位置的更多信息，我会将其放入子查询中并加入附加信息。

# php - 不发送电子邮件的 Windows Web 服务器，

> ID：11932468
> 
> 赞同：-1
> 
> 时间：2012-08-13T10:27:56.120
> 
> 标签：php, windows, email, smtp, wamp

我正在尝试创建一个基于 Windows 的 Web 服务器。上面安装了以下内容 -

1) 阿帕奇 2.2.22

2) PHP 5.3.5

3) MySQL 5.5

但是，我遇到了一些麻烦。问题是服务器没有发送电子邮件，这是由运行在 Web 服务器上的应用程序生成的。

如果有人可以帮助我解决这个问题，我将不胜感激。

```
<?php 
    phpini_set("sendmail_from", "info@example.com"); 
    $to = 'abc@example.com'; 
    $subject = 'the subject'; 
    $message = 'hello'; 
    $headers = 'From: webmaster@example.com' . "\r\n" . 'Reply-To: webmaster@example.com' . "\r\n" . 'X-Mailer: PHP/' . phpversion(); 
    mail($to, $subject, $message, $headers); 
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:29:24.963

那是因为您没有安装 SMTP 服务器（他是负责发送电子邮件的人）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:38:30.133

您是否在 php.ini 中设置了邮件服务器部分？

```
[mail function]
; For Win32 only.
SMTP = smtp.vatican.va
smtp_port = 25 
```

# c# - C# XPathSelectElement 查找具有特定值的元素

> ID：11932470
> 
> 赞同：0
> 
> 时间：2012-08-13T10:28:07.103
> 
> 标签：c#, xpath

我想查询一个元素

```
<Identifier>var1</Identifier> 
```

在另一个元素内，var1 的命名空间是 [http://schemas.microsoft.com/2011/07/AppServer/Transforms](http://schemas.microsoft.com/2011/07/AppServer/Transforms)。

我用了语句`element.XPathSelectElement({"'//{http://schemas.microsoft.com/2011/07/AppServer/Transforms}Identifier[=var1]');`

`"{http://schemas.microsoft.com/2011/07/AppServer/Transforms}Identifier"`是标识符的 XName 的 toString() 返回值。

XPathSelectElement 抛出以下异常：

> {"'//{http://schemas.microsoft.com/2011/07/AppServer/Transforms}Identifier[=var1]' 的令牌无效。"} .

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:51:02.597

XName 和 XPath 没有集成，要么使用 LINQ to XML 方法，例如

```
 element.Descendants(yourXNameVar + "Identifier").FirstOrDefault(el => el.Value == "var1") 
```

或使用 XPath 方法与[http://msdn.microsoft.com/en-us/library/bb351355.aspx](http://msdn.microsoft.com/en-us/library/bb351355.aspx)例如

```
 XmlNamespaceManager mgr = new XmlNamespaceManager(new NameTable());
  mgr.AddPrefix("df", "http://schemas.microsoft.com/2011/07/AppServer/Transforms");
  element.XPathSelectElement("//df:Identifier[. = 'var1']", mgr); 
```

# android - 在android中下载大文件时如何处理中断？

> ID：11932473
> 
> 赞同：2
> 
> 时间：2012-08-13T10:28:07.260
> 
> 标签：android

我必须从 FTP 服务器下载一个大的压缩文件（包含多个文件）。在下载过程中，如果被用户或网络中断/暂停，应保存损坏的下载文件。稍后，用户可以从损坏的位置继续下载相同的文件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T10:36:09.247

您可以使用 DownloadManager 类。

下载管理器是处理长时间运行的 HTTP 下载的系统服务。

检查[http://developer.android.com/reference/android/app/DownloadManager.html](http://developer.android.com/reference/android/app/DownloadManager.html)

以上类自 API 级别 9 起可用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-04T13:47:41.257

可以使用 Range HTTP 标头设置要下载的字节范围。您所要做的就是记住您之前下载了多少字节。使用 apache 中的类，它看起来像这样：

```
DefaultHttpClient = new DefaultHttpClient();
HttpGet httpGet = new HttpGet(youSourceUri);

// That's the important part. Count represents the number of bytes already downloaded.
// We leave the range open, so it will download 'till the end of the file.
httpGet.addHeader(new BasicHeader("Range", "bytes=" + count + "-"));

HttpResponse response = httpClient.execute(httpGet);
HttpEntity entity = response.getEntity();
InputStream inputStream = entity.getContent();

// Then read from the input stream 
```

请记住添加适当的 try/catch/finally 子句以安全地处理流并确保关闭它们。为了便于阅读，这里省略了它们。

# xcode - 更新到 Xcode 4.4 后，导入指令没有自动完成

> ID：11932474
> 
> 赞同：1
> 
> 时间：2012-08-13T10:28:11.290
> 
> 标签：xcode, autocomplete, import, header

上周更新到 Xcode 4.4 后，我没有收到任何导入的自动完成建议。这很奇怪，因为其他一切似乎都正常，但很难从项目资源管理器中查找要导入的头文件的名称。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-16T07:23:18.767

您可以通过将子文件夹添加到目标的“构建设置”选项卡中的“用户标题搜索路径”来解决此问题（确保打开左侧的复选框）。

或者，您可以简单地添加您的 .xcodeproj 所在的顶级文件夹，fe "../trunk" 或它具有的任何名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T11:20:35.423

打开管理器，在“项目”选项卡下选择您的项目，删除派生数据。让 Xcode 在执行任何其他操作之前重新索引您的项目。为我修好了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-11T16:02:44.687

就我而言，问题是 XCode 拒绝查看在 .pch 文件中导入的 .h 文件。打开构建设置并将“Precompile Prefix Header”设置为“No”解决了我的问题。

来源：[https ://stackoverflow.com/a/7035492/936957](https://stackoverflow.com/a/7035492/936957)

# html - 在javascript中更改行颜色

> ID：11932478
> 
> 赞同：0
> 
> 时间：2012-08-13T10:28:19.290
> 
> 标签：html

如何在javascript中更改表格中特定行的颜色

```
foreach($this->paginator as $record)
        {
  echo "<td width='61'> <a href='#' class='test' data-id='" . $record['id']. "'>".     $record['id'] . "</td>";
           echo "<td width='61'>". $record['firstname'] . "</td>";

   } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:36:42.947

如果您想为特定行着色

```
$('table tr:eq(3)').addClass('highlight') 
```

将数字 (3) 替换为要突出显示的行的索引。不过，做这个服务器端可能是一个更好的主意：在后端渲染“highlight”类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:32:04.910

添加`style="background-color: #123"`到包含 td 元素的 tr 元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T10:33:03.810

您可以尝试使用 CSS 之类的；

```
tr:nth-child(even) {background: #CCC}
tr:nth-child(odd) {background: #FFF} 
```

或 jQuery 之类的；

```
$("#Your-ID > li:nth-child(odd)").addClass("odd"); 
```

# ruby-on-rails-3 - Ruby on Rails：Active Admin 和 Heroku - 仪表板错误

> ID：11932479
> 
> 赞同：1
> 
> 时间：2012-08-13T10:28:21.320
> 
> 标签：ruby-on-rails-3, heroku, activeadmin

我有一些使用 Active Admin gem 的 Ruby on Rails 应用程序。Rails 版本是 3.2.6，Active Admin 版本是 0.4.4。

我将这些应用程序推送到 Heroku，然后进行迁移，一切正常。但是一段时间后（当应用程序重新启动时），我在尝试打开管理页面（如*myapp/admin*）时开始出现 404 错误。在日志中有一个错误：

**ActionController::RoutingError（未初始化的常量 Admin::DashboardController）**

此外，如果我尝试打开其他一些管理页面（如*myapp/admin/videos* - 管理视频），一切仍然正常，但打开仪表板页面时错误 404 仍然存在。

我试图把

```
config.cache_classes = true
config.assets.compile = true 
```

到我的配置文件，但都一样。

基本上方案如下：

1.  我对应用程序进行了一些更改，使用“git add .”、“git commit”提交更改并将其推送到 Heroku

2.  我在 Heroku 上打开 /admin 页面，它工作正常

3.  应用程序重新启动后，我在访问 /admin 时收到 404 错误，但在访问其他管理页面时一切仍然有效，而不是仪表板

4.  转到 1

我仍然不确定当应用程序自行重新启动时是否出现错误（而不是通过“heroku 重新启动”）。

任何想法为什么会发生这种情况？也许有人可以建议如何关闭此仪表板并使用我的*myapp/admin/videos*作为默认管理页面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T17:38:53.100

我遇到了同样的问题，因为它抱怨 ActiveAdmin Dashboard，现在它已被弃用，我继续将我的 dashboard.rb 文件更新[为新的 Dashboard 样式](https://raw.github.com/gregbell/active_admin/master/lib/generators/active_admin/install/templates/dashboard.rb)并解决了问题。

（我从[这里](https://github.com/gregbell/active_admin/issues/1493#issuecomment-6976307)得到那个文件）。

希望能帮助到你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-27T12:55:47.443

我遇到了同样的问题。检查是否必须将 ActiveAdmin 升级到新版本升级到新版本的 ActiveAdmin 时，您可能需要运行

```
rails generate active_admin:assets 
```

如果你得到：

```
uninitialized constant Admin::DashboardController 
```

使用 admin/dashboard.rb 的新默认页面

就像下面一样，

```
ActiveAdmin.register_page "Dashboard" do

  menu :priority => 1, :label => proc{ I18n.t("active_admin.dashboard") }

  content :title => proc{ I18n.t("active_admin.dashboard") } do
    div :class => "blank_slate_container", :id => "dashboard_default_message" do
      span :class => "blank_slate" do
        span I18n.t("active_admin.dashboard_welcome.welcome")
        small I18n.t("active_admin.dashboard_welcome.call_to_action")
      end
    end

    # Here is an example of a simple dashboard with columns and panels.
    #
    # columns do
    #   column do
    #     panel "Recent Posts" do
    #       ul do
    #         Post.recent(5).map do |post|
    #           li link_to(post.title, admin_post_path(post))
    #         end
    #       end
    #     end
    #   end

    #   column do
    #     panel "Info" do
    #       para "Welcome to ActiveAdmin."
    #     end
    #   end
    # end
  end # content
end 
```

# twitter-bootstrap - 如何让 twitter 引导日期选择器与 Meteor 一起使用？

> ID：11932485
> 
> 赞同：6
> 
> 时间：2012-08-13T10:28:38.073
> 
> 标签：twitter-bootstrap, meteor

我宁愿使用 Bootstrap 的 Meteor 包实现，而不是使用较少文件的版本，但我很难让日期选择器工作。

似乎有三个处于不同状态的版本，Aymkdn 的最后一个版本正在编译并准备就绪。

[http://www.eyecon.ro/bootstrap-datepicker/](http://www.eyecon.ro/bootstrap-datepicker/)

[https://github.com/eternicode/bootstrap-datepicker/](https://github.com/eternicode/bootstrap-datepicker/)

[https://github.com/Aymkdn/Datepicker-for-Bootstrap](https://github.com/Aymkdn/Datepicker-for-Bootstrap)

Aymkdn 的版本在普通的 html 中运行良好，但不是从 Meteor 提供的，我很想知道为什么。

我想将 Aymkdn 的一个与 Meteor 一起使用，但我无法让它工作。我认为这可能与 Meteor 中的 js 加载顺序或 DOM 渲染有关。关于如何让它发挥作用的任何见解？

谢谢斯蒂夫

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-11-25T02:19:01.420

最初发布此问题时，也许这种方法不可用，但是我在呈现模板时正在初始化日期选择器。

```
Template.templateName.rendered = function() {
    $('#datepicker').datepicker();
} 
```

这是该活动的链接：http: [//docs.meteor.com/#template_rendered](http://docs.meteor.com/#template_rendered)

使用这种方法，我无需维护会话属性或处理焦点事件。由于会话属性被触发，当模板被卸载并返回时，Prashant 的解决方案对我不起作用。我还有一个问题，即数据选择器第一次获得焦点时没有显示。

是的，每次渲染模板时数据选择器都会被初始化，但我认为这没关系，因为我很确定模板资源在它们之间导航时会被清理。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-20T16:13:54.743

为了让日期选择器工作，这就是我所做的，

```
// At the beginning of the script
Session.set("datepicker_unset", 1);

Template.template_name.events = {
    'focus #date-id' : function(event) {
        if (Session.get("datepicker_unset")) {
            $(event.target).datepicker();
            Session.set("datepicker_unset", 0);
        }
        // Anything else on #date-id focus?
    },
    // Any other events here
} 
```

我猜你正在使用，`$(document).ready()`方法。我也这样做了，因为它对我不起作用，我认为这将是最好的解决方案。

希望这对你也有效！

# jquery - Jquery - stopPropagation 在带有实时事件的表 tr 中不起作用

> ID：11932486
> 
> 赞同：0
> 
> 时间：2012-08-13T10:28:38.467
> 
> 标签：jquery, html

请检查下面的 JS Fiddle 链接，

[http://jsfiddle.net/smanimani/ENJBs/27/](http://jsfiddle.net/smanimani/ENJBs/27/)

实际上我的需要是，我在所有 TR 行中的每个第一个 TD 都有一个*链接*按钮。当我们单击表格行时，希望在单击行后显示新行，但我不想在链接按钮单击中显示新行...

检查上面的链接...当我们单击第一行时，新行将完美显示，当我们单击链接按钮时，新行也不显示....但是当我们在第二行执行相同操作时，新行单击链接按钮时显示....

*当我们单击链接*按钮时，我不想显示该新行...

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:31:16.103

您不能`event.stopPropagation()`在事件处理程序中使用`.live()`方法。

> 在事件处理程序中调用 event.stopPropagation() 对停止附加在文档下方的事件处理程序无效；该事件已经传播到文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:30:17.650

只需删除`:first`伪并使用它；

```
$(".AltTR td a").live('click',function(e){ 
```

***[这](http://jsfiddle.net/blasteralfred/ENJBs/28/)***是一个工作小提琴。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T10:52:09.507

您需要将 :first 更改为 :first-child 参见[此处的文档](http://api.jquery.com/first-child-selector/)

同样对于 jquery 1.7.2 live 已弃用，请[使用](http://api.jquery.com/on/)

```
$(".AltTR").on('click', 'td', function(e){
    var GetTRId = $(this).closest("tr").attr('id');
    //alert("AltTR");
        expandrow(GetTRId);
});

$(".AltTR").on('click', 'td:first-child a', function(e){
    //alert("a");
        e.stopPropagation();
}); 
```

# c++ - MySQL C API：如何使用 mysql_fetch_row() 中的行？

> ID：11932487
> 
> 赞同：5
> 
> 时间：2012-08-13T10:28:39.587
> 
> 标签：c++, mysql, c

这是我的应用程序中的一些示例代码：

```
int page_id;
string page_name;

enum COLUMNS {
    PAGE_ID,
    PAGE_NAME
};

if (mysql_query(conn, "SELECT page_id, page_name FROM pages")) {
    exit_mysql_error(conn);
}

MYSQL_RES *res = mysql_use_result(conn);

while (MYSQL_ROW row = mysql_fetch_row(res)) {
    page_id = *(int *)res[PAGE_ID];
    page_name = res[PAGE_NAME];
    // do some stuff where I need the page_id and page_name int/string
} 
```

所以恕我直言，这不是从结果中获取整数值的正确方法（但它有效），但我找不到如何做到这一点的好例子。此外，我对 C++ 编程还很陌生，因此欢迎对代码示例提供任何反馈。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-13T10:33:38.300

```
page_id = atoi(row[0]);
page_name = row[1]; // not really sure 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-13T10:55:14.547

您可以在此处找到有关如何在 C/C++ 中使用 Mysql API 的完整示例：

[使用c从单板计算机写入mysql数据库](https://stackoverflow.com/questions/11826073/writing-into-mysql-database-from-a-single-board-computer-using-c)

要获取您的字段：

```
while ((row = mysql_fetch_row (query_result))) 
{
    /* Each field in represented by the string row[i] */
    /* If the field you want to extract is an int, so you need to convert it */
    page_id = atoi(row[i]);
    page_name = row[2];

    last_filed = row[number_of_fields_in_your_table - 1];
} 
```

您还可以使用查询结果构建缓冲区并使用分隔符对其进行解析

```
while ((row = mysql_fetch_row (query_result))) 
{
        memset(buffer, '\0', sizeof(buffer));

        for (i = 0; i < num_fields - 1; i++)
        {
            strncat(buffer, row[i], strlen(row[i]) + 1);
            strncat(buffer, ";", 2);            
        }
        /* After this your buffer will contain 
         * buffer = "page_id;page_name;...;" 
         * and you can retreive all fields with snprintf for example
         */
         snprintf(buffer, sizeof(buffer), "%d;%s;...", page_id, page_name,...);
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-13T10:36:49.463

您可以使用字符串流

```
 std::istringstream strStream(res[PAGE_ID]);
 strStream >> page_id; 
```

你需`#include<sstream>`要这样做。在这里，我假设您的 PAGE_ID 值已正确设置为列索引以获取正确的列。我从问题中假设您唯一担心的是从`string`to的转换，`int*`并且您的列索引已经正确

# c# - value 必须是小于无穷大的数字

> ID：11932489
> 
> 赞同：2
> 
> 时间：2012-08-13T10:28:45.303
> 
> 标签：c#

我的应用程序中有以下代码行：

```
packsize.CompanyPrice = (decimal)Reader["CompanyPrice"]; 
```

但它会引发错误`when casting from a number, the value must be a number less than infinity`

我已将数据库数据类型设置为双精度，但在我的应用程序中它是十进制的。它会导致这个问题吗？

或者我在这里遗漏了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:39:29.897

我认为您正在尝试强制转换 DBNull 值，因此您遇到了错误

`Reader["CompanyPrice"]`很好，如果您可以添加检查`DBNull`

```
if(Reader["CompanyPrice"] != DBNull.Value)
{
} 
```

这样的事情可以重现您的问题

```
object obj = DBNull.Value;
decimal somdec = (decimal)obj; // Specified cast is not valid 
```

**编辑**

如果它是双精度的盒装表示，那么您需要将其转换回双精度，然后将其转换为十进制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:31:25.047

Reader["CompanyPrice"] 返回的值是无穷大或我猜的 NaN。将其设置为 int.MaxValue 或 decimal.MaxValue

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T10:32:57.927

在为 32 位 int 转换（十进制）之前尝试钳制 Reader["CompanyPrice"] 的值，最小值为 -2147483648，最大值为 2147483647

# java - Runtime.exec - 适用于“回声”，但不适用于猫...

> ID：11932495
> 
> 赞同：0
> 
> 时间：2012-08-13T10:29:08.980
> 
> 标签：java, command-line, runtime.exec, cat

我在使用 r.exec 调用一些简单的命令行函数时遇到问题 - 出于某种原因，给定文件 X，命令 'echo full/path/to/X' 工作正常（在显示和使用 'p.exitValue ()==0'，但 'cat full/path/to/X' 没有（并且有 'p.exitValue()==1'） - 'cat' 和 'echo' 都存在于我的 /bin/ 中OSX - 我错过了什么吗？代码如下（碰巧，欢迎任何改进代码的建议......）

```
private String takeCommand(Runtime r, String command) throws IOException {
        String returnValue;
        System.out.println("We are given the command" + command);
        Process p = r.exec(command.split(" "));
        InputStream in = p.getInputStream();
        BufferedInputStream buf = new BufferedInputStream(in);
        InputStreamReader inread = new InputStreamReader(buf);
        BufferedReader bufferedreader = new BufferedReader(inread);
        // Read the ls output
        String line;
        returnValue = "";
        while ((line = bufferedreader.readLine()) != null) {
            System.out.println(line);
            returnValue = returnValue + line;
        }
        try {// Check for  failure
            if (p.waitFor() != 0) {
                System.out.println("XXXXexit value = " + p.exitValue());
            }
        } catch (InterruptedException e) {
            System.err.println(e);
        } finally {
            // Close the InputStream
            bufferedreader.close();
            inread.close();
            buf.close();
            in.close();
        }
        try {// should slow this down a little
            p.waitFor();
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        return returnValue;
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:31:07.683

您应该*异步*使用 stdout 和 stderr 。

否则，命令的输出可能会阻塞输入缓冲区，然后一切都会停止（这可能是您的`cat`命令发生的情况，因为它会转储比 更多的信息`echo`）。

我也不希望必须打`waitFor()`两次电话。

查看[此 SO 答案](https://stackoverflow.com/a/882795/12960)以获取有关输出消耗的更多信息，以及查看[此 JavaWorld](http://www.javaworld.com/jw-12-2000/jw-1229-traps.html)文章了解更多`Runtime.exec()`陷阱。

# javascript - 在没有 var 关键字的情况下创建全局变量时出现意外行为

> ID：11932497
> 
> 赞同：1
> 
> 时间：2012-08-13T10:29:16.333
> 
> 标签：javascript

在这里，我只是为我的应用程序创建一个全局命名空间，一切都按预期工作

```
var MYAPP = MYAPP || {} ; 
```

但是如果我省略 var 关键字（我知道这不是正确的方法），javascript 会抛出错误 "ReferenceError: MYAPP2 is not defined" 。

```
MYAPP2 = MYAPP2 || {}; 
```

出于好奇，有人可以在第二种情况下向我解释为什么 javascript 无法解析引用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:38:20.163

第一个版本不会产生错误，因为 Javascript 的变量提升使其等价于：

```
var MYAPP;            // declares, but leaves the value undefined / unchanged
MYAPP = MYAPP || {};  // creates, if the value was previously undefined 
```

重要的是，这里的声明部分**不会**覆盖已经对变量进行的任何现有声明或赋值。

这就是允许此模式在单个范围内重复使用的原因。 `MYAPP`要么保留它已经拥有的值，要么被初始化为一个空对象。

在第二种情况下，该声明步骤实际上被省略了。如果变量尚未声明（或存在于范围内，即作为全局对象的属性），则会生成您看到的错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:37:08.863

var MYAPP = MYAPP || {} 在当前范围（也称为执行上下文）中声明变量 MYAPP。如果声明出现在函数中 - 声明局部变量；如果它在全局范围内 - 声明全局变量。

MYAPP2 = MYAPP2 || 另一方面，{} 仅仅是一个属性分配。它首先尝试针对作用域链解析 MYAPP2。如果它在该范围链中的任何位置找到它，它就会执行分配；如果它没有找到 MYAPP2，那么它只会在全局对象（它是作用域链中的顶级对象）上创建 x 属性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T10:41:15.613

var 关键字立即声明您要引用的变量

```
var a = a || {}; 
```

就像

```
var a; a = a || {}; 
```

在第二种情况下，您引用的变量尚未声明。

# ruby-on-rails - 如何在语言环境文件中插入换行符？

> ID：11932498
> 
> 赞同：0
> 
> 时间：2012-08-13T10:29:17.497
> 
> 标签：ruby-on-rails, ruby

如何在 Ruby on Rails 的语言环境文件（en.yml）中插入换行符？

我想显示一个字符串，该字符串在语言环境文件 ( `en.yml`) 中定义，并带有换行符。

我定义了语言环境文件（en.yml），如下所示：

```
en:
  testmsg: |
   this is line1.
   this is line2. 
```

我创建了如下视图文件（~.html.erb）：

```
<h1><%= t :testmsg %></h1> 
```

但结果如下：

```
this is line1.this is line2. 
```

结果中没有换行符。

`en.yml`如何在 Ruby on Rails的语言环境文件 () 中插入换行符？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T11:42:09.640

在`en.yml`你有纯文本，但视图是 html。你有一个`\n`而不是 a `<br />`，所以文本在同一行中呈现（感谢 html 如何处理空白）。

如果将其呈现为纯文本，您将看到两行，但在这种情况下，需要一些 html 标记。

例如，您可以将一些 html 放在 中`en.yml`，或者使用多个键（取决于您的用例）

希望这可以帮助。

# grails - Cloudfoundry 上的 Grails 应用程序：未找到 RhinoScriptEngineFactory

> ID：11932502
> 
> 赞同：0
> 
> 时间：2012-08-13T10:29:31.350
> 
> 标签：grails, rhino, cloud-foundry

在我的 grails 应用程序中，我需要执行一些从远程服务器获取的 javascript（不是 JSON）：

```
new javax.script.ScriptEngineManager().getEngineByName("javascript") 
```

但得到错误：**RhinoScriptEngineFactory not found**。

我假设 RhinoScriptEngineFactory (JSR 223) 包含在 JDK/JRE 中。我错了吗？有人知道向 Cloudfoundry 应用程序添加 Javascript 支持的正确方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T14:27:05.520

如果您使用 java7 运行时标志暂存应用程序，它应该可以工作，例如

```
vmc push grails-hello --path=target/hello-world-0.1.war --runtime=java7 
```

[您可以在http://grails-hello.cloudfoundry.com/hello/index](http://grails-hello.cloudfoundry.com/hello/index)看到一个在控制器中使用以下代码运行的示例；

```
package hello.world
import javax.script.ScriptEngine;

class HelloController 
{
  def index() 
  { 
      ScriptEngine engine = new javax.script.ScriptEngineManager().getEngineByName("javascript");
      render "hello world (" + engine.toString() + ")";
  }
} 
```

# ruby - Watir 在文本文件中显示表格中的内容

> ID：11932506
> 
> 赞同：0
> 
> 时间：2012-08-13T10:29:46.610
> 
> 标签：ruby, watir

我正在使用 watir-webdriver，我正在尝试将下表中显示的内容（选择的价格代码在此位置或汽车 138DE 中不可用）写入文本文件，但我无法让它显示内容。知道我做错了什么吗？在此先感谢您的帮助。

```
errorMes = browser.select_list(:name => 'seamlessMessages').value
    f3=File.open( 'Error Log - Conf Res.txt', 'a') 
    f3.puts "Cancel Reservation - FAILED - Res ID: " +tasid+" - " + CSAsite + " - Message: " +errorMes
    f3.puts "\n"
    f3.close 
```

代码

```
<TD><B>Error/Informational&nbsp;Messages</B></TD>
                <TD><B>Number&nbsp;of&nbsp;Messages</B></TD>
                <TD class="tableData"><span name="nbrOfMessages"/>1</span></TD>
                <TD>&nbsp;</TD>
            </TR>
            <TR>
                <TD height="1"></TD>
            </TR>
        </TABLE>
        <TABLE width="100%" class="displaySubsection" cellpadding="0" cellspacing="0">
            <TR>
                <TD width="5" rowspan="3"></TD>
                <TD width="800"></TD>
                <TD width="5" rowspan="3"></TD>
            </TR>
            <TR>
                <TD>
                    <select name="seamlessMessages" size="2" readonly tabIndex="-1" class="readonly wide"><option value="0" selected>RATE CODE SELECTED NOT AVAILABLE THIS LOCATION OR CAR     138DE     </option></select>
                </TD> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T09:50:41.297

是的，你是对的，我得到的是“0”

只是为了让你知道，当我尝试

```
errorMes = browser.select_list(:name => 'seamlessMessages').selected_options.first.text 
```

我在`<main>': undefined method`文本中收到一条错误消息“选择的利率代码不可用此位置或汽车 138DE”：字符串（NoMethodError）

通过删除 .text 它确实有效。非常感谢您对此的帮助。

```
errorMes = browser.select_list(:name => 'seamlessMessages').selected_options.first 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T13:21:10.930

我假设您的问题是您得到的是“0”而不是“选择的价格代码在此位置或 CAR 138DE 不可用”。

当您这样做时`errorMes = browser.select_list(:name => 'seamlessMessages').value`，它会返回所选选项的“值”属性。

如果你想要文本，你需要做：

```
errorMes = browser.select_list(:name => 'seamlessMessages').selected_options.first.text 
```

# ios - 在 iPhone 应用程序的文本视图中自定义前导和字距

> ID：11932511
> 
> 赞同：1
> 
> 时间：2012-08-13T10:30:15.370
> 
> 标签：ios, core-text

我在 iPhone 应用程序中使用 UITextView。我正在使用自定义字体。我想在文本视图中设置 32px 行距，还想调整文本视图中字符之间的字距和前导。有人知道吗？

核心文本框架是否有帮助？如果是这样，请解释如何。如何在 iPhone 应用程序中自定义文本视图中的行距？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T02:02:19.893

如果你想使用 Core Text，它具有指定段落的前导空格、段落的首行缩进、行距、下划线...

在这里查看[文档](https://developer.apple.com/library/mac/#documentation/Carbon/Reference/CTParagraphStyleRef/Reference/reference.html#//apple_ref/doc/uid/TP40005114)

# entity-framework - 在实体框架中实现导航属性的另一种方法

> ID：11932515
> 
> 赞同：0
> 
> 时间：2012-08-13T10:30:34.300
> 
> 标签：entity-framework

为复杂实体定义导航属性的官方方法是：

```
public class SuperEntity
{    
    public int Id { get; set; }
    //Other properties
}

public class LowerEntity
{
    public int Id { get; set; }
    public int SuperEntityId { get; set; }
    public virtual SuperEntity SuperEntity { get; set; }    
    //Other properties
} 
```

这里的主要内容是引用的类（允许导航到链接的超级实体）具有两个`public SuperEntity SuperEntity { get; set; }`属性，以及它的 Id in `public int SuperEntityId { get; set; }`。

我已经花了几天时间进行实体设计，省略了 `public int SuperEntityId { get; set; }`“较低实体”中的属性。所以我只通过虚拟 SuperEntity 属性导航。一切正常！但是我有人告诉我它在数据库中创建了一个过多的表。我查过了，这不是真的。当我使用我的方法时，数据库表具有 SuperEntityId 列，并自动使用引用的实体 ID 填充它。那么这个`public int SuperEntityId { get; set; }`领域有什么意义呢？

或者，也许，我正在做的事情在 EF 的“新”版本（如 4.3）中可用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:54:15.210

SuperEntityId 的要点是，有时在您的上下文不是一直处于活动状态的应用程序中使用外键属性更容易，例如 web 应用程序。在这种情况下，只使用外键属性比尝试将对象 B 附加到对象 A 要容易得多。
据我所知，使用导航属性，EF 使用一个对象来跟踪 2 个对象之间的关系。因此，如果您想将对象 B 耦合到对象 A，在断开连接的应用程序中，仅在对象 A 上设置属性是不够的，您还必须在 changetracker 中修改对象 A 的条目以注册 B 和A. 设置外键属性相当于这种摆弄。当我们刚开始使用 EF 并且不知道所有这些时，每次我们想连接 2 个对象，例如 B 到 A，并且 B 已经存在于 DB 中，上下文认为 B 是一个新对象而不是一个现有的，并复制数据库中的记录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:34:17.927

它不会创建过多的*表*，但它可能会在该数据库上生成额外的或更长的查询。但这取决于您如何使用这些实体。

# session - 刷新会话 jsf2 中的数据，PrimeFaces

> ID：11932516
> 
> 赞同：0
> 
> 时间：2012-08-13T10:30:34.973
> 
> 标签：session, jakarta-ee, jsf-2, refresh

我有两个 xhtml 页面：第一个允许存储新订单，第二个允许列出存储在数据库中的所有订单。

出于特定目的，我`sessionManeged`在第二页中，问题是当我保存新订单并进入第二页时，它不会刷新，因为数据存储在会话中。

您能否建议我在存储新订单时刷新数据（重新运行对数据库的查询）的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T08:08:58.910

我认为您应该考虑使用`@RequestScoped`特定项目页面和`@ViewScoped`列表，与 GET 参数连接以获取数据（因为您无法在 RequestScoped 中注入 ViewScoped。

然后用于`@PostConstruct`从数据库初始化您的列表，例如

```
@PostConstruct
public void init(){
    someListElement = facade.findAll();
} 
```

# c# - 如何取消任务中的Web服务请求，并在取消发生时做一些事情

> ID：11932517
> 
> 赞同：2
> 
> 时间：2012-08-13T10:30:34.207
> 
> 标签：c#, task-parallel-library, cancellation

我们有一棵树，当用户点击任何节点时，它会从 Web 服务中查询数据，并替换结果。但是，有时需要时间。所以我尝试将 Web 服务调用包装在一个任务中。我想在任务尚未完成并且用户单击其他节点时取消任务。以下是我的示例代码。然而取消任务块不能被执行，即使 _cancelTokenSource.Cancel() 执行。MSDN 提供的大多数示例都是基于 CPU 限制的，而不是 I/O 限制的。谁能告诉我如何全部取消网络服务？提前致谢

```
private void OnNodeClicked(int id)
{
 if (_cancelTokenSource != null)
     _cancelTokenSource.Cancel();

 IsRunning = true;
 var uiSchedule = System.Threading.Tasks.TaskScheduler.FromCurrentSynchronizationContext();
 _cancelTokenSource = new CancellationTokenSource();
 var loadDataTask = System.Threading.Tasks.Task.Factory.StartNew<int[]>(() =>
 {
     // Call web service here
 }, _cancelTokenSource.Token);

 loadDataTask.ContinueWith((result) =>
 {
     // Populate data
     IsRunning = false;
 }, CancellationToken.None, System.Threading.Tasks.TaskContinuationOptions.OnlyOnRanToCompletion, uiSchedule);

 loadDataTask.ContinueWith((result) =>
 {
     // set cancel state here
     IsRunning = false;
 }, CancellationToken.None, System.Threading.Tasks.TaskContinuationOptions.OnlyOnCanceled, uiSchedule); 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T14:22:30.093

`CancellationTokenSource`它的令牌是一个线程（或任务）查询另一个线程是否请求任务取消的一种方式。当然，这需要您编写检查该令牌的代码（因此至少运行一次，通常是定期运行）。如果您已委托某些生成的代码（Web 服务代理）对任务或取消令牌一无所知，那么您将无法使用它。

如果您使用 Begin 方法开始调用，那么您可以使用`WebClientAsyncResult.Abort()`来中止调用。例如：

```
IAsyncResult ar = obj.BeginFunCall(5,5,null,null);
//...
if (!ar.IsCompleted) //if the request is not completed  { 
  WebClientAsyncResult wcar = (WebClientAsyncResult)ar;
  wcar.Abort();//abort the call to web service 
} 
```

# silverlight - 在 Wp7 中控制图像的旋转

> ID：11932523
> 
> 赞同：0
> 
> 时间：2012-08-13T10:30:44.670
> 
> 标签：silverlight, windows-phone-7, image-rotation

我正在制作一个 Wp7 应用程序，我需要将图像向左或向右旋转 20 度。当我更改 Image 的旋转角度时，它确实会旋转，但旋转是从该图像的下方

以下是在其正常位置拍摄的图像快照，即

```
 <Image.RenderTransform>
                <RotateTransform Angle=" 0" CenterX="  0" CenterY="  0" />
      </Image.RenderTransform> 
```

![在此处输入图像描述](../Images/525d2acf0ef6397c1825d12036d982be.png)

并在将角度更改为 20 度后，图像以这种方式旋转（从下方）

```
 <Image.RenderTransform>
                <RotateTransform Angle=" 20" CenterX="  0" CenterY="  0" />
            </Image.RenderTransform> 
```

![在此处输入图像描述](../Images/34bfa5990a4df8ffc798acbcdbd93348.png)

但我希望这张图片从上方[顶部] 侧旋转。目前看起来旋转轴位于这张图片的顶角，但我希望它位于底部，以便这张图片可以从上方旋转。

请帮助，在此先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:34:58.877

您应该尝试根据图像的大小设置 CenterX 和 CenterY 属性以匹配图像的左下角。

> 当您使用 RotateTransform 时，请意识到转换会围绕点 (0, 0) 旋转特定对象的坐标系。因此，根据对象的位置，它可能不会原地旋转（围绕其中心）。例如，如果一个对象位于从 0 沿 x 轴 200 个单位的位置，则旋转 30 度可使对象沿半径为 200 的圆摆动 30 度，该圆围绕原点绘制。要将对象旋转到位，请将 RotateTransform 的 CenterX 和 CenterY 设置为要旋转的对象的中心。

[RotateTransform.CenterX 属性@MSDN](http://msdn.microsoft.com/en-us/library/system.windows.media.rotatetransform.centerx.aspx)

# java - Java 7 - JLayer，没有 LockableUI

> ID：11932525
> 
> 赞同：2
> 
> 时间：2012-08-13T10:30:47.180
> 
> 标签：java, swing, java-7, jlayer

以前从未使用过`J(X)Layer`，我可以`LockableUI`在互联网上看到参考资料。但看起来，在 Java 7 中，我们所拥有的看似很大的“父”API（JX...）只有两个类`JLayer`和`LayerUI`.

是否有一些“隐藏”的方式来阻止`JLayer`我尚未找到的内容，或者我们是否手工制作？

我可以看到的一种方法是`JLayer`通过注册`setLayerEventMask`，然后用`InputEvent.consume()`.

没什么大不了的，但`JLayer`似乎是一种禁用其内容的自然方式，所以它可能已经在某个地方了？

# iphone - 我可以为动画 3D 对象使用哪些格式

> ID：11932531
> 
> 赞同：1
> 
> 时间：2012-08-13T10:31:04.893
> 
> 标签：iphone, 3d, augmented-reality, 3d-model

..为了在iphone上的增强现实应用程序中使用？

我有一个这样的应用程序；相机检测到标记，然后放置与该标记相关的对象。但是，该对象不是动画的。它站在那里。当然，我可以以编程方式移动对象，但我不想那样做。我想要的是对象本身有动画。我搜索了但我找不到确切的文件格式。有 .obj 文件（不是动画本身，是真的吗？）、.mtl 文件、.anm 文件 .etc。如果格式是其中之一，那么您能给我一个示例模型吗？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-24T16:34:03.220

绝对 MD2 是您的最佳选择。我已经集成了 jPCT-AE 和 Vuforia，它就像一个魅力。AFAIK MD2 最适合动画模型，主要是因为它可以自己存储关键帧动画，并且几乎可以免费使用任何类型的动画。

这是一个测试视频：

[http://youtu.be/chsHh0pEhzw](http://youtu.be/chsHh0pEhzw)

如果您有更多问题，请不要犹豫；）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-16T23:44:31.360

您应该指定您使用什么 AR SDK/平台来创建您正在谈论的 iPhone 应用程序。话虽如此，对于许多可用的常见 AR SDK，MD2 格式通常用于显示动画模型（使用内置渲染引擎或示例代码显示如何将 MD2 格式与该 SDK 一起使用）：

[http://en.wikipedia.org/wiki/MD2_(file_format](http://en.wikipedia.org/wiki/MD2_(file_format) )

[http://www.junaio.com/develop/docs/documenation/general/3dmodels/](http://www.junaio.com/develop/docs/documenation/general/3dmodels/)

OBJ（波前）文件不支持动画。

# uri - 使用 Spotify Uris 连接曲目名称和艺术家姓名

> ID：11932538
> 
> 赞同：0
> 
> 时间：2012-08-13T10:31:16.837
> 
> 标签：uri, spotify

我找到了相关的问题（比如[这个](https://stackoverflow.com/questions/8408581/accessing-spotify-metadata-api-from-within-a-spotify-app)），但没有任何东西可以直接回答我的问题：我需要一种直接的方法来将艺术家姓名和曲目名称转换为一个 Spotify 链接。就像 spotify 对本地文件列表所做的一样（有些是链接，有些不是，我认为是因为 spotify 没有这些轨道。

如何在不搜索的情况下将艺术家：'Francolin' 和曲目名称：'Hospital Song' 之类的内容转换为 Spotify uri（这将返回多个结果，我不知道该使用哪一个）。Spotify 本地文件列表是如何做到的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T12:19:12.467

Spotify 客户端中的本地文件列表使 URL 如下所示：

`spotify:local:Coldplay:Mylo+Xyloto:Paradise:277`( `spotify:local:ARTIST:ALBUM:TRACK:LENGTH_IN_SECONDS`)。您可以通过右键单击列表中尚未链接到 Spotify 曲目的本地文件并选择“复制 Spotify URI”来验证这*一点*。

播放曲目时，客户端完全不使用后端来解析它 - 它搜索自己的本地已知文件列表并播放最匹配的文件。

当链接到“真实”的 Spotify 曲目时，客户端要求后端做一些脏活。没有用于此的 Web API（虽然它在 libSpotify 中），但基本上后端对数据做了一些启发式*，然后选择与给定数据（包括长度）最接近的轨道。

*基本上，曲目元数据在搜索时被剥离为更简单的形式，并且专辑的权重较小，因为艺术家可能会在多张专辑中发布相同的曲目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T20:32:44.507

我遇到了和你一样的问题，但我认为没有直接的方法来转换它。相反，我只是使用“艺术家：'$artist' title:'$title'”进行搜索，这应该非常准确，并且只使用结果数组中的第一个结果。

# asp.net-mvc-3 - 在创建整个索引时实现 100% 正常运行时间的 Solr 部署策略

> ID：11932540
> 
> 赞同：0
> 
> 时间：2012-08-13T10:31:18.197
> 
> 标签：asp.net-mvc-3, solr, solrnet, uptime

我正在开发一个带有 ASP.net MVC3 电子商务项目的 Solr 3.6。

我有一个 appx 的索引。Solr 中的 1 个 lac 产品。需求有一些变化，我们需要重建整个索引。整个索引需要将近 1 个半小时，在此期间站点需要关闭。

我怎样才能重建索引并让站点保持活动状态，该站点提供旧索引中的内容。在重建整个索引时减少停机时间的最佳做法是什么。我希望我能做到 100% 的正常运行时间。

**编辑** 我将几个 URL 作为存储字段存储到 Solr 数据中，因此，它们是在将数据添加到 Solr 时动态生成的。如果我在 test.example.com 等不同的子域上部署应用程序，那么它会采用错误的 URL，其中它只能与 example.com 一起使用。所以托管另一个应用程序对我来说不是一个选择。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-13T11:40:23.347

您可以利用 Solr 中的[多个核心](http://wiki.apache.org/solr/CoreAdmin)的概念，从而拥有用户当前正在搜索的活动核心和一个备用核心，您可以在其中进行架构更改、重新索引等。然后使用[SWAP](http://wiki.apache.org/solr/CoreAdmin#SWAP)命令，您可以切换实时和备用核心，无需任何用户停机。交换将由 Solr 内部处理，您的用户永远不会注意到差异。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T11:07:07.330

如我所见，有几种方法可以正确解决此问题：

1.  不要重建整个索引 - 只需在必要的记录发生变化时即时更新它们，Solr 可以很简单地做到这一点
2.  在不同的端口上创建 2 个 Solr 实例，并一个接一个地使用它们。第一次重建时，第二次你可以使用旧索引。并且当第一个被重建时，您可以使用它直到第二个实例上的索引被重建。
3.  将布尔字段添加到名为“old_index”的索引中。当重新索引开始时，更新所有当前记录并设置 old_index=1，然后在配置中的某处写入您查找 old_index==1 的记录。比开始重新索引，比删除旧记录。它可以通过 Solr 的 deleteByQuery 以及 Solr 4.x 中的原子更新或手动更新来完成。

# c# - 在会话变量中存储篮子的项目

> ID：11932543
> 
> 赞同：1
> 
> 时间：2012-08-13T10:31:25.030
> 
> 标签：c#, asp.net, session, variables, shopping-cart

我想存储购物篮的商品代码以及用户在会话数组中选择的数量。

我不知道存储这些数据最简单和最合适的数据类型是什么。

我的印象是我不能只在会话中存储我自己的对象？

> ```
> Product code, Quantity
> CQAR/HINCACOC, 10
> CAAA/VINNYMIN, 20 
> ```

我希望能够再次取出这些值，以便将它们放入篮子中。

我试过了`List<Dictionary<string, int>>`，`ArrayList`但似乎都没有按预期工作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T10:48:14.347

您可以在会话中存储您自己的自定义对象列表，只要该对象（以及它具有的任何对象依赖项）标记为`[Serializable]`. 在这种情况下，您将拥有：

```
[Serializable]
public class BasketItem
{
    public string ProductCode { get; set; }
    public int Quantity { get; set; }
} 
```

然后只需将这些对象的集合存储在您的会话中，例如`List<BasketItem>`

**更新：**认为我会根据下面的评论进行澄清，因为它是正确的，如果会话存储在进程/内存中，`[Serializable]`则*不需要。*但如果对象存储在状态服务器/SQL 数据库中，则绝对需要，因为对象必须在站点和会话存储之间进行序列化/反序列化。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T10:45:55.163

`I get the impression that I can't just store my own object in a session`.

为什么会有这种印象？您可以在会话中存储自己的对象。如果您需要一个网络场并将会话存储在数据库中，请确保使用`[Serializable]`.

要跟踪订单，您可以向对象添加另一个属性。我会建议这样的事情：

```
[Serializable]
public class CartEntry
{
    public string ProductCode { get; set; }
    public int Quantity { get; set; }
    public int Order { get; set; }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-13T10:44:08.593

使用 BasketItems 创建一个列表

```
public class CartItem
{
   public int ProductID {get;set;}
   public int Quantity {get;set;}
}

List<CartItem> items = new List<CartItem>();
items.Add(new CartItem() { ProductID = 1, Quantity = 2 })

Session["cartItems"] = items;

to get it back again

if(Session["cartItems"] != null)
   List<CartItem> items = (List<CartItem>)Session["cartItems"]; 
```

要按产品 ID 获取项目，请参见下文

```
int productId = 1;

var cartItem = (from ci in items where ci.ProductID == productId select ci).FirsOrDefault(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-13T10:41:42.040

您是否考虑过 SortedDictionary 对象？在这里找到参考[http://msdn.microsoft.com/en-us/library/f7fta44c.aspx](http://msdn.microsoft.com/en-us/library/f7fta44c.aspx)。顺便说一句，如果您使用 InProc 或 ASP.NET 会话管理器服务并获得大量访问，您是否确定要使用 Session 执行此操作，您可能会遇到内存不足的问题。考虑将此结构移至 DB 或可能使用 SQL Server 实现 Session。在此处查看会话状态模式信息以及如何配置 SQL Server 状态管理[http://msdn.microsoft.com/en-us/library/ms178586.aspx](http://msdn.microsoft.com/en-us/library/ms178586.aspx)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-13T10:54:02.137

stackoverflow 上有另一个线程描述了满足您要求的解决方案：

[将列表保存到 ASP.NET 中的会话](https://stackoverflow.com/a/6959627/1595049)

MSDN上也描述了整个过程的例子：

[http://msdn.microsoft.com/en-us/library/ms178581.aspx](http://msdn.microsoft.com/en-us/library/ms178581.aspx)

我还创建了一个示例来展示如何存储和恢复 ArrayList 对象：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Collections;
using System.Diagnostics;

public partial class SessionVarTest : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
      string item01 = "Item 1";
      string item02 = "Item 2";

      ArrayList MyArrayIn = new ArrayList();

      MyArrayIn.Add(item01);
      MyArrayIn.Add(item02);

      Session["MyBasket"] = MyArrayIn;

      ArrayList MyArrayOut = (ArrayList)Session["MyBasket"];

      Debug.WriteLine("Content of ArrayList restored from session var");
      Debug.WriteLine("ArrayList item 1: " + MyArrayOut[0]);
      Debug.WriteLine("ArrayList item 2: " + MyArrayOut[1]);
    }
} 
```

# c# - 是否可以检查图像中是否包含色情内容？

> ID：11932544
> 
> 赞同：2
> 
> 时间：2012-08-13T10:31:25.563
> 
> 标签：c#, image-processing

> **可能重复：**
> [以编程方式检测色情图片的最佳方法是什么？](https://stackoverflow.com/questions/713247/what-is-the-best-way-to-programatically-detect-porn-images)

是否可以检查上传到网站的图像是否包含色情内容？我听说过处理图像以检查肤色的工具，但对它们没有经验或知识。

我正在使用 ASP.NET/MVC/C#

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:33:56.180

查看[Nude.js。](http://www.patrick-wied.at/static/nudejs/) _ 它是基于研究论文方法的裸体扫描器的 JavaScript 实现。

# java - 无法重载 AIDL 接口中的方法

> ID：11932549
> 
> 赞同：9
> 
> 时间：2012-08-13T10:31:48.427
> 
> 标签：java, android, aidl

我无法重载 AIDL 接口中的方法。

我想有 2 个具有相同名称但不同数量的参数的函数，如下所示：

```
boolean callMethod(in String pClass, in String pMethod, in String pParam);
void    callMethod(in String pClass, in String pMethod); 
```

当我这样做时，我收到一条错误消息“尝试重新定义方法调用方法”

问候，

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2015-02-08T17:16:20.973

AIDL 不支持重载。我在文档中没有看到任何提及这一点，但谷歌确实在[此处](https://groups.google.com/d/msg/android-platform/-0eI4vyu1-c/GgRursRUlx0J)的 android-platform 论坛中澄清了这一点。您可以在 AIDL 界面底部添加新方法，而不会破坏兼容性。

# sql - 如何将以下（SQL）作为模型/模型

> ID：11932560
> 
> 赞同：1
> 
> 时间：2012-08-13T10:32:13.537
> 
> 标签：sql, asp.net-mvc, model-view-controller, model

忙于学习 MVC 3 并遇到了以下场景，我想使用 MVC 3 标准以正确/最佳的方式实施。

我的数据库中有 2 个表 hArticle 和 lRating，hArticle 表基本上存储文章信息，lRating 表存储每个人的每个评分。下面是我用来获取所需数据的 SQL 语句。（请注意，这仅用于阅读目的，我不需要从 CRUD 中创建、更新和删除）

**SQL 语句：**

```
SELECT DISTINCT A.ArticleID, A.Title, A.Likes, A.Author, 
CASE WHEN SUM(R.Rating) IS NULL THEN 0 ELSE SUM(R.Rating) END AS 'Rating'
FROM hArticle A 
LEFT OUTER JOIN lRating R ON R.ArticleID = A.ArticleID
GROUP BY A.ArticleID, A.Title, A.Likes, A.Author 
```

**这会产生以下结果：**

```
 1   Article 1     12    Peter Ndlovo    10
    2   Article 2     2     Peter 2         0
    3   Article 3     3     Peter 3         0
    4   Article 4     4     Peter 4         0 
```

在 MVC 中重新创建以下 SQL 语句的正确/最佳方法是什么，即我是创建一个映射到 SQL 视图的模型还是为每个表创建一个模型并将它们组合起来等等？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T13:47:22.687

创建一个模型，该模型可以承载该视图功能所需的所有对象，或者您可以将动态模型与 ExpandoObject 一起使用

视图模型方法

[http://stephenwalther.com/archive/2009/04/13/asp-net-mvc-tip-50-ndash-create-view-models.aspx](http://stephenwalther.com/archive/2009/04/13/asp-net-mvc-tip-50-ndash-create-view-models.aspx)

和动态模型方法（好文章！）

[http://www.codeproject.com/Articles/62839/Adventures-with-C-4-0-dynamic-ExpandoObject-Elasti](http://www.codeproject.com/Articles/62839/Adventures-with-C-4-0-dynamic-ExpandoObject-Elasti)

虽然如果你需要简单，即。一种类型的对象的列表或只是一个对象比生活简单只需将该对象作为视图的模型

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T13:48:43.777

对我来说，最好的方法是解耦一切。在我的 MVC 项目中，我有一个或多或少准确地反映数据库的域模型，这不是 MVC 架构的一部分，而是同一解决方案中的“域模型”项目。然后，mvc 的 M 将是一组“视图模型”，它们反映了我的视图呈现数据的方式。对于上面的内容，我将为每个表创建一个模型，并将它们组合在一个视图模型中，我将使用它来显示结果。

# html - YouTube 嵌入的动态高度？

> ID：11932562
> 
> 赞同：3
> 
> 时间：2012-08-13T10:32:19.637
> 
> 标签：html, youtube, aspect-ratio

在我的网站上，我有一个静态宽度嵌入式无铬 YouTube 播放器 (iframe)，它播放用户选择的视频。它运行良好，但有一点小烦恼：它的高度对视频没有反应；电影超宽屏视频有水平黑条，而老式 4:3 视频有垂直黑条。

是否有一个相当简单的解决方案可以让播放器根据正在播放的视频调整其高度？谷歌揭示的所有内容都是流畅布局网站的脚本（我的不是）。Javascript、Coffeescript 和 Jquery 解决方案都是可以接受的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-13T12:47:13.903

为了达到您的预期行为，您需要知道视频的纵横比。您可以使用 YouTube 提供的 API 轻松做到这一点。首先，要获取 JSON 格式的视频信息，您可以获取以下形式的 URL：

`https://gdata.youtube.com/feeds/api/videos/video_id?v=2&prettyprint=true&alt=json`

其中**video_id**是您正在嵌入的视频的 ID（请注意，“prettyprint”只是使其易于阅读——在实际应用程序中将其删除以节省带宽）。我们关心的属性是`entry.media$group.yt$aspectRatio.$t`。当视频为 16:9 时，该属性设置为“宽屏”，如果为 4:3，则未定义。因此，您可以轻松检查该值并相应地调整您的值`<iframe>`。

这是一个示例：
**HTML：**

```
<iframe id = "vid" width="500" src="http://www.youtube.com/embed/ni9RS4pgRXA" frameborder="0" allowfullscreen></iframe> 
```

（这里的宽度是 500——当然，它可以是你想要的任何东西）。

**JavaScript**（使用*jQuery*，但不是必需的）：

```
$.getJSON("https://gdata.youtube.com/feeds/api/videos/ni9RS4pgRXA?v=2&alt=json",
function(data) {
            var obj = $("#vid");
            var asp = data.entry.media$group.yt$aspectRatio.$t;
            console.log("Aspect Ratio is", asp); //Debugging line. "undefined" if video is 4:3.
            if(asp == "widescreen") {
                obj.height((Math.floor(obj.width() * 9 / 16)));
            }
            else {
                obj.height((Math.floor(obj.width() * 3 / 4)));
            }
        }); 
```

在这里（[链接](http://jsfiddle.net/dRNmU/)）您可以找到一个带有示例 16:9 视频的工作演示。Javascript 代码非常简单，但如果有任何含糊之处，请告诉我，以便我更详细地解释。

# join - HiveQL 不等式连接

> ID：11932563
> 
> 赞同：2
> 
> 时间：2012-08-13T10:32:32.937
> 
> 标签：join, hadoop, hive, inequality

我知道 Hive for Hadoop 不支持不等式连接。但是，我有一个查询似乎运行正常。至于结果是否正确，我很怀疑，因为我有一位同事与我分享了这个结果，他发现它没有产生正确的结果。

这里是：

```
select foo.id, count(foo.*) as foo_vol, count(bar.*) as bar_vol 
from foo
 left outer outer join bar
  on foo.id = bar.id
  and (bar.f2 in (x, y, z)) = FALSE
group by foo.id 
```

任何人都知道为什么这解释和运行正常？不等式连接的问题实际上是否与标准是否使用连接双方的字段有关？FB / apache 是否确认这种类型的查询会产生错误的结果？

为任何帮助干杯，马特

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T19:52:18.460

据我所知，您的查询确实是 eque join ： foo.id = bar.id
条件： (bar.f2 in (x, y, z)) = FALSE 仅适用于 bar 表，不应被视为部分的加入。
在 Hive 中对表字段设置不相等条件没有任何限制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-14T07:17:12.513

蜂巢中外部连接的结果有时是错误的。我在做这个工作。

[https://issues.apache.org/jira/browse/HIVE-3381](https://issues.apache.org/jira/browse/HIVE-3381)

# android - 裁剪图像时出错：失败的 BINDER TRANSACTION

> ID：11932565
> 
> 赞同：2
> 
> 时间：2012-08-13T10:32:38.130
> 
> 标签：android

我正在尝试裁剪从中选择的图像`Gallery`和`Camera`. 我无法裁剪大部分图像。它不是在调用`onActivityResult()`. 下面是我的代码。`OK`裁剪图像后，每次单击都会得到以下日志猫输出。

代码：

```
private void doCrop() {
    Intent intent = new Intent("com.android.camera.action.CROP");
    intent.setType("image/*");

    List<ResolveInfo> list = getPackageManager().queryIntentActivities(
            intent, 0);

    int size = list.size();
    if (size == 0) {
        Toast.makeText(this, "Can not find image crop app",
                Toast.LENGTH_SHORT).show();

        return;
    } else {
        intent.setData(mImageCaptureUri);

        // intent.putExtra("outputX", 200);
        // intent.putExtra("outputY", 200);
        // intent.putExtra("aspectX", 1);
        // intent.putExtra("aspectY", 1);
        intent.putExtra("outputX", myImg.getWidth());
        intent.putExtra("outputY", myImg.getHeight());
        intent.putExtra("aspectX", 1);
        intent.putExtra("aspectY", 1);
        intent.putExtra("scale", true);
        intent.putExtra("return-data", true);
        intent.putExtra("outputFormat",
                Bitmap.CompressFormat.PNG.toString());
        intent.putExtra("crop", "true");

        if (size == 1) {
            Intent i = new Intent(intent);
            ResolveInfo res = list.get(0);

            i.setComponent(new ComponentName(res.activityInfo.packageName,
                    res.activityInfo.name));

            startActivityForResult(i, CROP_FROM);
        }
    }
} 
```

日志猫：

```
08-13 15:59:29.220: D/skia(7247): WARNING: One-shot allocator has already allocated (alloc count = 1)
08-13 15:59:29.290: D/skia(7247): WARNING: One-shot allocator has already allocated (alloc count = 1)
08-13 15:59:30.140: D/dalvikvm(288): GC_EXPLICIT freed 8K, 8% free 6788K/7367K, paused 2ms+2ms
08-13 15:59:34.110: D/dalvikvm(7247): GC_FOR_ALLOC freed 4824K, 44% free 10227K/18055K, paused 26ms
08-13 15:59:34.110: I/dalvikvm-heap(7247): Grow heap (frag case) to 11.929MB for 1956256-byte allocation
08-13 15:59:34.140: D/dalvikvm(7247): GC_FOR_ALLOC freed <1K, 33% free 12137K/18055K, paused 23ms
08-13 15:59:34.190: D/dalvikvm(7247): GC_CONCURRENT freed 1K, 25% free 13662K/18055K, paused 2ms+3ms
08-13 15:59:34.230: D/skia(7247): WARNING: One-shot allocator has already allocated (alloc count = 1)
08-13 15:59:34.280: D/dalvikvm(7247): GC_FOR_ALLOC freed 2554K, 33% free 12132K/18055K, paused 30ms
08-13 15:59:34.310: D/skia(7247): WARNING: One-shot allocator has already allocated (alloc count = 1)
08-13 15:59:34.340: D/dalvikvm(7247): GC_FOR_ALLOC freed <1K, 27% free 13331K/18055K, paused 30ms
08-13 15:59:34.390: D/dalvikvm(7247): GC_FOR_ALLOC freed 2000K, 33% free 12132K/18055K, paused 30ms
08-13 15:59:34.420: D/skia(7247): WARNING: One-shot allocator has already allocated (alloc count = 1)
08-13 15:59:34.450: D/dalvikvm(7247): GC_FOR_ALLOC freed <1K, 26% free 13430K/18055K, paused 33ms
08-13 15:59:34.500: D/skia(7247): WARNING: One-shot allocator has already allocated (alloc count = 1)
08-13 15:59:34.530: D/dalvikvm(7247): GC_FOR_ALLOC freed 2097K, 28% free 13152K/18055K, paused 30ms
08-13 15:59:34.550: E/JavaBinder(7247): !!! FAILED BINDER TRANSACTION !!!
08-13 15:59:34.560: W/InputManagerService(142): Window already focused, ignoring focus gain of: com.android.internal.view.IInputMethodClient$Stub$Proxy@40988068
08-13 15:59:39.620: D/dalvikvm(224): GC_EXPLICIT freed <1K, 31% free 17001K/24391K, paused 3ms+3ms 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-16T05:29:46.813

请尝试整个源代码。

我正在使用相同的项目。这是该活动的代码：

代码：

```
 private void doCrop() {
    final ArrayList<CropOption> cropOptions = new ArrayList<CropOption>();

    Intent intent = new Intent("com.android.camera.action.CROP");
    intent.setType("image/*");

    List<ResolveInfo> list = getPackageManager().queryIntentActivities( intent, 0 );

    int size = list.size();

    if (size == 0) {            
        Toast.makeText(this, "Can not find image crop app", Toast.LENGTH_SHORT).show();

        return;
    } else {
        intent.setData(mImageCaptureUri);

        intent.putExtra("outputX", 200);
        intent.putExtra("outputY", 200);
        intent.putExtra("aspectX", 1);
        intent.putExtra("aspectY", 1);
        intent.putExtra("scale", true);
        intent.putExtra("return-data", true);

        if (size == 1) {
            Intent i        = new Intent(intent);
            ResolveInfo res = list.get(0);

            i.setComponent( new ComponentName(res.activityInfo.packageName, res.activityInfo.name));

            startActivityForResult(i, CROP_FROM_CAMERA);
        } else {
            for (ResolveInfo res : list) {
                final CropOption co = new CropOption();

                co.title    = getPackageManager().getApplicationLabel(res.activityInfo.applicationInfo);
                co.icon     = getPackageManager().getApplicationIcon(res.activityInfo.applicationInfo);
                co.appIntent= new Intent(intent);

                co.appIntent.setComponent( new ComponentName(res.activityInfo.packageName, res.activityInfo.name));

                cropOptions.add(co);
            }

            CropOptionAdapter adapter = new CropOptionAdapter(getApplicationContext(), cropOptions);

            AlertDialog.Builder builder = new AlertDialog.Builder(this);
            builder.setTitle("Choose Crop App");
            builder.setAdapter( adapter, new DialogInterface.OnClickListener() {
                public void onClick( DialogInterface dialog, int item ) {
                    startActivityForResult( cropOptions.get(item).appIntent, CROP_FROM_CAMERA);
                }
            });

            builder.setOnCancelListener( new DialogInterface.OnCancelListener() {
                @Override
                public void onCancel( DialogInterface dialog ) {

                    if (mImageCaptureUri != null ) {
                        getContentResolver().delete(mImageCaptureUri, null, null );
                        mImageCaptureUri = null;
                    }
                }
            } );

            AlertDialog alert = builder.create();

            alert.show();
        }
    }
} 
```

# java - java.util.MissingResourceException：找不到基本名称配置的捆绑包，语言环境

> ID：11932566
> 
> 赞同：-1
> 
> 时间：2012-08-13T10:32:41.320
> 
> 标签：java, configuration-files, jdeveloper, resourcebundle

我查看了这个问题的答案，但它们对我不起作用。我在 Resources 文件夹中有一个名为“config_en.properties”的文件。（项目->资源->config_en.properties）

```
jms_Address=t3://127.0.0.1:7101
connection_Lookup_Address=BatchApp-BatchGebelikTakip-BatchGebelikTakipEJB#tr.com.surat.esaglik.batch.ejb.IBatchGebelikTakipEJB 
```

在我的 java 类中，我尝试阅读此配置：

```
private static final String fileName="config"; 

public static final String jms_Address="jms_Address";
public static final String conn_Lookup_Address="connection_Lookup_Address";
private static ResourceBundle res;
private static ClassLoader cl;
static {
    try {
        cl = Thread.currentThread().getContextClassLoader();
        res = ResourceBundle.getBundle(fileName, Locale.ENGLISH, cl);
    } catch (Exception e) {
        e.printStackTrace();
    }
}

public void test(){
    System.out.println(res.getString(jms_Address).
} 
```

但我收到此错误消息：

```
java.util.MissingResourceException: Can't find bundle for base name config, locale en
    at java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:1427)
    at java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1250)
    at java.util.ResourceBundle.getBundle(ResourceBundle.java:952)
    at tr.com.surat.esaglik.batch.Main.<clinit>(Main.java:34)
java.lang.NullPointerException
    at tr.com.surat.esaglik.batch.Main.getInitialContext(Main.java:74)
    at tr.com.surat.esaglik.batch.Main.run(Main.java:43) 
```

怎么了？

![在此处输入图像描述](../Images/bdac2360b49cfdbb8ececd3069cf0eb1.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T10:39:39.407

我制作了一个简单的应用程序，展示了如何加载资源包

![在此处输入图像描述](../Images/bb51727e0f6eadfa3fb829c2dbd6ccb1.png)

主.java

```
package org.stackoverflow.main;

import java.util.Locale;
import java.util.ResourceBundle;

/**
 * @author Eugene Pavlovsky
 * @since 13.08.12
 */
public class Main {

  public static void main(String[] args) {
    ResourceBundle resourceBundle = ResourceBundle.getBundle("org.stackoverflow.config.config", Locale.ENGLISH);
    System.out.println(resourceBundle != null);
  }
} 
```

# javascript - 发现这个讨厌的代码，我想知道它是做什么的？我应该担心吗……？

> ID：11932567
> 
> 赞同：1
> 
> 时间：2012-08-13T10:32:42.200
> 
> 标签：javascript, malware, cracking

我最近在服务器日志上看到了一些免费文件下载网站，并且在其中一个网站的源代码中有一些可疑的 javascript 代码。我应该担心吗？因为他们可能已经在我们公司的一台计算机中运行或安装了垃圾邮件，

**代码**

```
<script type="text/javascript">
var stamp = "0529e8679c27247e794a";
var file = "74109";
var host = "fileice.net";
var _0x6675 = ["\x64\x69\x76\x2E\x6D\x65\x6E\x75\x20\x6C\x69", "\x68\x34", "\x68\x33", "\x68\x32", "\x68\x31", "\x72\x65\x70\x6C\x61\x63\x65", "\x6F\x6E\x6C\x6F\x61\x64", "\x6C\x6F\x63\x61\x74\x69\x6F\x6E", "\x70\x61\x72\x65\x6E\x74", "\x68\x74\x74\x70\x3A\x2F\x2F", "\x2F\x64\x6F\x77\x6E\x6C\x6F\x61\x64\x2E\x70\x68\x70\x3F\x66\x69\x6C\x65\x3D", "", "\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64", "\x69\x6E\x6E\x65\x72\x48\x54\x4D\x4C", "\x64\x65\x73\x63", "\x3C\x70\x3E\x54\x68\x65\x20\x64\x6F\x77\x6E\x6C\x6F\x61\x64\x20\x77\x69\x6C\x6C\x20\x61\x75\x74\x6F\x6D\x61\x74\x69\x63\x61\x6C\x6C\x79\x20\x62\x65\x67\x69\x6E\x20\x77\x68\x65\x6E\x20\x79\x6F\x75\x20\x73\x75\x63\x63\x65\x73\x73\x66\x75\x6C\x6C\x79\x20\x66\x69\x6E\x69\x73\x68\x20\x74\x68\x65\x20\x73\x75\x72\x76\x65\x79\x20\x79\x6F\x75\x20\x68\x61\x76\x65\x20\x63\x68\x6F\x73\x65\x6E\x2E\x20\x49\x66\x20\x74\x68\x65\x20\x66\x69\x6C\x65\x20\x64\x6F\x65\x73\x20\x6E\x6F\x74\x20\x61\x75\x74\x6F\x6D\x61\x74\x69\x63\x61\x6C\x6C\x79\x20\x75\x6E\x6C\x6F\x63\x6B\x20\x61\x66\x74\x65\x72\x20\x61\x20\x6D\x69\x6E\x75\x74\x65\x2C\x20\x70\x6C\x65\x61\x73\x65\x20\x63\x68\x6F\x6F\x73\x65\x20\x61\x6E\x6F\x74\x68\x65\x72\x20\x73\x75\x72\x76\x65\x79\x20\x61\x6E\x64\x20\x63\x6F\x6D\x70\x6C\x65\x74\x65\x20\x69\x74\x2E\x3C\x2F\x70\x3E", "\x64\x69\x73\x70\x6C\x61\x79", "\x73\x74\x79\x6C\x65", "\x6C\x6F\x61\x64\x69\x6E\x67\x69\x6D\x67", "\x62\x6C\x6F\x63\x6B", "\x73\x72\x63", "\x6F\x66\x66\x65\x72\x63\x68\x65\x63\x6B", "\x6F\x66\x66\x65\x72\x63\x68\x65\x63\x6B\x2E\x70\x68\x70\x3F\x66\x69\x6C\x65\x3D", "\x26\x74\x3D", "\x73\x70\x63\x6E\x67", "\x26\x61\x6A\x61\x78", "\x31", "\x3C\x70\x3E\x59\x6F\x75\x72\x20\x66\x69\x6C\x65\x20\x68\x61\x73\x20\x62\x65\x65\x6E\x20\x75\x6E\x6C\x6F\x63\x6B\x65\x64\x21\x20\x43\x6C\x69\x63\x6B\x20\x6F\x6B\x61\x79\x20\x6F\x6E\x20\x74\x68\x65\x20\x64\x6F\x77\x6E\x6C\x6F\x61\x64\x20\x70\x72\x6F\x6D\x70\x74\x20\x74\x6F\x20\x64\x6F\x77\x6E\x6C\x6F\x61\x64\x20\x74\x68\x65\x20\x66\x69\x6C\x65\x2E\x3C\x2F\x70\x3E", "\x6E\x6F\x6E\x65", "\x3C\x62\x72\x2F\x3E\x3C\x62\x72\x2F\x3E", "\x70\x6F\x73\x74", "\x69\x6E\x66\x6F", "\x3C\x64\x69\x76\x20\x73\x74\x79\x6C\x65\x3D\x22\x70\x61\x64\x64\x69\x6E\x67\x3A\x20\x35\x70\x78\x20\x37\x70\x78\x3B\x20\x62\x6F\x72\x64\x65\x72\x3A\x20\x31\x70\x78\x20\x73\x6F\x6C\x69\x64\x20\x23\x65\x32\x65\x32\x65\x32\x3B\x20\x76\x65\x72\x74\x69\x63\x61\x6C\x2D\x61\x6C\x69\x67\x6E\x3A\x20\x6D\x69\x64\x64\x6C\x65\x3B\x20\x62\x61\x63\x6B\x67\x72\x6F\x75\x6E\x64\x2D\x63\x6F\x6C\x6F\x72\x3A\x20\x23\x46\x37\x46\x37\x46\x37\x3B\x20\x77\x69\x64\x74\x68\x3A\x20\x37\x33\x25\x3B\x22\x3E\x3C\x70\x3E", "\x3C\x2F\x70\x3E\x3C\x2F\x64\x69\x76\x3E"];
Cufon[_0x6675[5]](_0x6675[4])(_0x6675[3])(_0x6675[2])(_0x6675[1])(_0x6675[0]);
var prev = _0x6675[11];

function _(_0x2391x4) {
    return document[_0x6675[12]](_0x2391x4)
};

function launch() {
    var _0x2391x6 = 0;
    _(_0x6675[14])[_0x6675[13]] = _0x6675[15];
    _(_0x6675[18])[_0x6675[17]][_0x6675[16]] = _0x6675[19];
    _(_0x6675[21])[_0x6675[20]] = _0x6675[22] + file + _0x6675[23] + stamp;
    prev = curr;
    _(_0x6675[24])[_0x6675[13]] = _0x6675[11];
    setInterval(function () {
        if (_0x2391x6 == 0) {
            $[_0x6675[30]](_0x6675[22] + file + _0x6675[25], function (_0x2391x7) {
                if (_0x2391x7 == _0x6675[26]) {
                    _(_0x6675[14])[_0x6675[13]] = _0x6675[27];
                    _(_0x6675[18])[_0x6675[17]][_0x6675[16]] = _0x6675[28];
                    _(_0x6675[21])[_0x6675[20]] = _0x6675[11];
                    _(_0x6675[21])[_0x6675[20]] = _0x6675[22] + file + _0x6675[23] + stamp;
                    _0x2391x6 = 1;
                    prev = _0x6675[11];
                    clearinfo();
                    _(_0x6675[24])[_0x6675[13]] = _0x6675[29]
                }
            })
        } else {
            clearInterval()
        }
    }, 10000)
};

function showinfo(_0x2391x9) {
    prev = _(_0x6675[31])[_0x6675[13]];
    _(_0x6675[31])[_0x6675[13]] = _0x6675[32] + _0x2391x9 + _0x6675[33];
    curr = _(_0x6675[31])[_0x6675[13]]
};

function clearinfo() {
    _(_0x6675[31])[_0x6675[13]] = prev
};
</script> 
```

**网址**

> http:\\www.fileice.net/download.php?t=regular&file=rfve

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:42:01.000

解密`_0x6675`数组产生：

```
["div.menu li","h4","h3","h2","h1","replace","onload","location","parent","http://","/download.php?file=","","getElementById","innerHTML","desc","<p>The download will automatically begin when you successfully finish the survey you have chosen. If the file does not automatically unlock after a minute, please choose another survey and complete it.</p>","display","style","loadingimg","block","src","offercheck","offercheck.php?file=","&t=","spcng","&ajax","1","<p>Your file has been unlocked! Click okay on the download prompt to download the file.</p>","none","<br/><br/>","post","info","<div style=\"padding: 5px 7px; border: 1px solid #e2e2e2; vertical-align: middle; background-color: #F7F7F7; width: 73%;\"><p>","</p></div>"] 
```

在我看来没有什么太壮观了。

看起来只是一些混淆的 JavaScript 代码，以防止复制他们的脚本。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-13T10:35:36.100

您正在托管代码，但您不知道它来自哪里？

是的。担心。

将服务器拉下线并对其进行安全审计。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-25T15:43:45.377

```
<script type="text/javascript">
var stamp = "9bdcac6591542d17c8ff";
var file = "126640";
var host = "fileice.net";

var prev = "";

// see: https://github.com/sorccu/cufon/wiki/API
Cufon.replace("h1")("h2")("h3")("h4")("div.menu li");

window.onload = function () {
    // Make sure page is in a frame
    if (window.location == window.parent.location) {
        window.location = "http://" + host + "/download.php?file=" + file;
    }
}

function _(id) {
    return document.getElementById(id);
}

function launch() {
    var offerFinished = 0;

    _("desc").innerHTML. = "<p>The download will automatically begin when you successfully finish the survey you have chosen. If the file does not automatically unlock after a minute, please choose another survey and complete it.</p>";
    _("loadingimg").style.display = "block";
    _("offercheck").src = "offercheck.php?file=" + file + "&t=" + stamp;
    _("spcng").innerHTML = "";

    prev = curr;

    setInterval(function () {
        if (offerFinished == 0) {
            // JQuery Ajax POST request
            $.post("offercheck.php?file=" + file + "&ajax", function (data) {
                if (data == "0") {
                    _("desc")["innerHTML"] = "<p>Your file has been unlocked! Click okay on the download prompt to download the file.</p>";

                    _("loadingimg").style.display = "none";
                    _("offercheck").src = "";
                    _("offercheck").src = "offercheck.php?file=" + file + "&t=" + stamp;

                    _("spcng").innerHTML = "<br/><br/>";

                    offerFinished = 1;
                    prev = "";
                    clearinfo(); 
                }
            })
        } else {
            clearInterval()
        }
    }, 10000)
};

function showinfo(info) {
    prev = _("info").innerHTML;
    _("info").innerHTML = "<div style=\"padding: 5px 7px; border: 1px solid #e2e2e2; vertical-align: middle; background-color: #F7F7F7; width: 73%;\"><p>" + info + "</p></div>";
    curr = _("info").innerHTML;
}

function clearinfo() {
    _("info").innerHTML = prev;
}
</script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-06-01T05:20:22.060

只需将代码文本粘贴到单元格中，然后点击此处的“解码”按钮（不是本网站的促销，我也不拥有它等）> [http://ddecode.com/hexdecoder/](http://ddecode.com/hexdecoder/)

# facebook - feed_PublishTemplatizedAction() 返回 true，但未在我的 FansPage 上发布

> ID：11932570
> 
> 赞同：0
> 
> 时间：2012-08-13T10:32:49.417
> 
> 标签：facebook

我需要将提要条目发布到我的 FansPage。为此，我使用了以下代码，

```
userClient = new FacebookXmlRestClient(api_key, secret);
if(userClient.users_hasAppPermission(Permission.OFFLINE_ACCESS, longFacebookUserID)){
    TemplatizedAction action = new TemplatizedAction("{actor} recommends {book}");                     
    action.setPageActorId(ctProfileId);//fansPageId
    action.addTitleParam("book", "<a href='http://www.amazon.com/Hamlet/dp/0140714545/'>Hamlet</a>");   
    action.setBodyTemplate("{actor} is using BooksApp!");                                               
    action.setBodyGeneral("100 other people recommend this book!");                                     
    action.addPicture("http://code.google.com/hosting/images/code_sm.png", "http://www.google.com"); 
    userClient.feed_PublishTemplatizedAction(action);} 
```

当我执行此代码时，feed_PublishTemplatizedAction() 返回 true 但未发布在我的 FansPage 上。

谁能给我指导方针。

谢谢，杰瑞。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T13:59:31.810

Feed 模板已被弃用，不再有效。您应该阅读 Feeds / Stream publishing。此外，您应该远离 REST API 并改用 Graph API。您的应用程序和代码出现大量过时。

您可以使用“/me/feed”API 调用发布到用户墙。

# sql-server - SQL Server 代理服务的凭据无效

> ID：11932573
> 
> 赞同：40
> 
> 时间：2012-08-13T10:33:04.653
> 
> 标签：sql-server, sql-server-2008

我正在尝试以管理员身份在本地计算机上安装 SQL Server 2008 开发服务器。

在安装过程中我收到此错误，知道如何解决吗？谢谢

> *[错误消息]
> 您为 SQL Server 代理服务提供的凭据无效。若要继续，请为 SQL Server 代理服务提供有效的帐户和密码。*
> 
> *[详情] Microsoft.SqlServer.Configuration.Agent.InputValidationException：您为 SQL Server 代理服务提供的凭据无效。若要继续，请为 SQL Server 代理服务提供有效的帐户和密码。*

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-05-10T10:58:45.397

使用您用于登录 PC 的凭据。用户名可以通过点击顺序搜索

> 高级 -> 查找 -> 选择您的用户名 ->（例如 JOHNSMITH_HP/John）
> 
> 密码必须与您的 windows 登录密码相同

给你！！

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-08-13T10:51:28.070

我解决了使用网络服务作为凭证内置帐户这篇文章指出我正确的方向 [http://www.sqlcoffee.com/SQLServer2008_0013.htm](http://www.sqlcoffee.com/SQLServer2008_0013.htm)

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2014-05-28T01:28:32.400

1.  在“帐户名称”下拉框下选择浏览。在“输入要选择的对象名称”中键入您用于登录 Windows 的用户名，然后单击“检查名称”。单击“确定”。

2.  在“密码”下，只需输入您用于 Windows 登录的密码。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2012-11-30T19:52:47.330

就我而言，这更像是一个微软的错误，而不是一个实际的问题。我在管理员登录下安装并使用强密码顺便说一句，但我仍然不断收到这个错误。

我尝试在不输入密码的情况下使用 Windows 凭据进行安装，但这也没有通过。得到同样的错误。

***然后我手动*清除了所有密码文本框，并在*每个*文本框中复制了正确的密码。点击进入，它通过了。**

该错误很可能具有误导性。

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2013-12-27T17:58:56.300

似乎有几个问题会导致此症状。要区分它们，需要查看[安装日志文件](http://technet.microsoft.com/en-us/library/ms143702.aspx)，`%PROGRAMFILES%\Microsoft SQL Server\[versionnumber]\Setup Bootstrap\Log`可能是`Detail.txt`.

根据[这篇文章](http://blog.basefarm.com/blog/sql-server-2008-r2-setup-fails-due-to-invalid-credentials/)，当以本地管理员身份运行安装程序并尝试使用域帐户进行服务时，它可能会声称凭据无效，因为本地管理员在域中没有足够的权限来查找服务帐户的西德。这是我遇到的主要问题，可能是一年半前影响原始海报的原因。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-06-05T13:53:06.710

由于尝试使用与域具有相同 SID 的克隆 VM，我遇到了此错误。修复它的两个选项是：sysprep（或重建）数据库服务器或 dcpromo DC 关闭并备份以更改域 SID。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2014-08-19T10:23:14.290

我发现我必须以域用户身份登录。

当我以本地计算机管理员身份登录并尝试添加域服务帐户时，它给了我这个错误。

以域用户（但机器上的管理员）身份登录并接受凭据。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-10-16T10:57:42.893

在我的情况下，密码已过期。更改密码并重试该步骤。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-12-10T06:18:17.163

好吧，我一直在努力理解为什么，当在安装第二个节点的帐户部分时，系统将不接受我用来登录的密码。我一直在摸不着头脑-在阳光下阅读每个帖子都是为了徒劳无功。

我确实注意到一些服务帐户被指定为`service.instname.instno@FDNdomain.com`，而另一些被指定为`DOMAIN\service.instname.instno`（后者是 Win2000 版本）

我还注意到关于密码强度的评论，所以我想 - 我可以这样做，所以我将密码更改为更高的强度，并将 RDC 更改为服务器 - 使用新密码和想法 - 最好先更新现有节点上的服务。我停止了服务，单击密码并从剪贴板粘贴 - （不会出错吧？）哈哈说 Windows .. 明白了.. 它不接受密码 - 我刚刚登录时使用的密码。我单击浏览以选择服务帐户和瞧！帐户名称更改为`DOMAIN\user`版本并欣然接受密码。然后我在另一个服务上重复了这个练习。然后我发现节点安装将继续（在备份和转发该过程之后）以选择新的名称格式并毫无怨言地接受密码。

我认为这种体验的寓意是使用向导并通过“浏览”按钮进行选择，而不是手动输入服务名称。

我希望我的经历可以帮助其他人摆脱我所经历的痛苦。

仍然困惑

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2014-02-08T09:25:42.817

我有一个具有强密码的域帐户，但它不起作用，然后我使用了网络服务帐户。安装后我尝试在 SQL Server 配置管理器上更改它并且它有效。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2014-11-04T11:16:00.717

在节点 1 上将 SQL Server 群集角色脱机-联机对我有用。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2015-02-06T01:04:59.057

我有一个服务器 2012 的 VM，我不得不将 nic 更改为 VMXNET 3。我猜它连接到域的速度不够快，无法启动服务。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2015-04-04T16:05:09.063

主窗口下方的“使用相同帐户”按钮将自动填充所有文本框。这对我有用。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2017-05-12T17:58:58.333

您可能会遇到以下三个问题之一：

*   密码策略违规，在此处查找有价值的信息：[https ://msdn.microsoft.com/en-us/library/ms161959.aspx](https://msdn.microsoft.com/en-us/library/ms161959.aspx)
*   密码不以“字符”开头
*   域服务用户的帐户可能被锁定。

可以在此处找到包含所有三个可能问题的摘要的博客文章： [https ://cms4j.wordpress.com/2016/11/29/0x851c0001-the-credentials-you-provided-for-the-sqlserveragent-service-是无效的/](https://cms4j.wordpress.com/2016/11/29/0x851c0001-the-credentials-you-provided-for-the-sqlserveragent-service-is-invalid/)

# windows - 从分支标记时，TortoiseSVN 在 Win7 上挂起

> ID：11932577
> 
> 赞同：2
> 
> 时间：2012-08-13T10:33:10.697
> 
> 标签：windows, svn, windows-7, tortoisesvn, tagging

我正在尝试从代码分支（01.02）创建发布标签（01.02.03），但是每次我使用“复制到”并提供将代码复制到用于标记 TortoiseSVN 的路径时都会挂起并且无法创建标签。

我刚刚更新到最新版本，目前是 1.7.7.22907，但这没有任何影响。

这是应用程序问题还是我的 SVN 服务器有问题？SVN 服务器在外部托管。

# android - android PopupWindow 可以显示另一个 PopupWindow 吗？

> ID：11932578
> 
> 赞同：12
> 
> 时间：2012-08-13T10:33:14.323
> 
> 标签：android, popup, popupwindow

android PopupWindow 可以显示另一个 PopupWindow 吗？可以同时打开多少个PopupWindow？只有一个？

第一个 PopupWindow 正常显示。但是在单击按钮时（在第一个 PopupWindow contentview 中）我遇到了一个异常：

```
08-13 16:28:38.682: ERROR/AndroidRuntime(11760): FATAL EXCEPTION: main
        android.view.WindowManager$BadTokenException: Unable to add window -- token android.view.ViewRootImpl$W@41286250 is not valid; is your activity running?
        at android.view.ViewRootImpl.setView(ViewRootImpl.java:600)
        at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:313)
        at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:215)
        at android.view.WindowManagerImpl$CompatModeWrapper.addView(WindowManagerImpl.java:140)
        at android.view.Window$LocalWindowManager.addView(Window.java:537)
        at android.widget.PopupWindow.invokePopup(PopupWindow.java:992)
        at android.widget.PopupWindow.showAsDropDown(PopupWindow.java:901)
        at org.example.qberticus.quickactions.BetterPopupWindow.showLikePopDownMenu(BetterPopupWindow.java:159)
        at org.example.qberticus.quickactions.BetterPopupWindow.showLikePopDownMenu(BetterPopupWindow.java:129)
        at name.antonsmirnov.android.popup.ui.MainActivity$1$1.run(MainActivity.java:44)
        at android.app.Activity.runOnUiThread(Activity.java:4170)
        at name.antonsmirnov.android.popup.ui.MainActivity$1.onClick(MainActivity.java:42)
        at android.view.View.performClick(View.java:3558)
        at android.view.View$PerformClick.run(View.java:14157)
        at android.os.Handler.handleCallback(Handler.java:605)
        at android.os.Handler.dispatchMessage(Handler.java:92)
        at android.os.Looper.loop(Looper.java:137)
        at android.app.ActivityThread.main(ActivityThread.java:4514)
        at java.lang.reflect.Method.invokeNative(Native Method)
        at java.lang.reflect.Method.invoke(Method.java:511)
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:790)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:557)
        at dalvik.system.NativeStart.main(Native Method) 
```

代码是：

```
 @Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.main);
    bindControls();
    initControls();
}

private Button button;

private void bindControls() {
    button = (Button) findViewById(R.id.button);
}

private void initControls() {
    initButton(button);
}

private void initButton(final Button button) {
    button.setOnClickListener(new View.OnClickListener() {
        public void onClick(View view) {
            final BetterPopupWindow window = new BetterPopupWindow(button);

            View popupview = createPopupView();
            window.setContentView(popupview);
            runOnUiThread(new Runnable() {
                public void run() {
                    window.showLikePopDownMenu();
                }
            });
        }
    });
}

private View createPopupView() {
    View v = LayoutInflater.from(MainActivity.this).inflate(R.layout.window, null);
    Button popupButton = (Button) v.findViewById(R.id.popupbutton);
    initButton(popupButton);
    return v;
} 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-14T04:23:05.587

玩了之后发现

```
 window.showAtLocation(getWindow().getDecorView(), Gravity.CENTER, x, y); 
```

工作正常，但是

```
 window.showAsDropDown(getWindow().getDecorView(), Gravity.CENTER, x, y); 
```

引发异常！如果你使用`showAtLocation(view)`任何不同于`getWindow().getDecorView()`你的视图，你仍然会有一个例外。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:41:49.970

是的你可以。但是在这里查看异常堆栈跟踪后，您似乎给出了错误的上下文。如果那不是任何父视图（例如 TabView）的子视图，请尝试使用相同的上下文或您的活动的上下文启动另一个对话框。

# jquery - 如何在 jQuery 1.6.2 中使用 Twitter Bootstrap 插件？

> ID：11932579
> 
> 赞同：1
> 
> 时间：2012-08-13T10:33:14.113
> 
> 标签：jquery, twitter-bootstrap

我正在使用一些 twitter 引导插件，例如 Typeahead 和 Tooltip。出于某种原因，我不得不迁移到旧版本的 jQuery（1.6.2），但现在这些引导插件都失败了。

有没有办法让 Bootstrap 插件与 jQuery 1.6.2 一起工作？

# linker - @ 符号在目标文件中符号名称的末尾

> ID：11932582
> 
> 赞同：0
> 
> 时间：2012-08-13T10:33:28.887
> 
> 标签：linker, cygwin, mingw, symbols

在我的 jpeg 库中的系统中说：

```
$ > nm libjpeg.a | grep jpeg_finish_decompress
00000510 T _jpeg_finish_decompress 
```

但是在openjpeg库中：

```
$ > nm lib/libopenjpeg.a | grep opj_decode_with_info
00000240 T _opj_decode_with_info@12 
```

后者最后有@12。我猜 12 是参数的总大小。
然而为什么有些符号有@-结尾？当我尝试编译 mupdf 库时，问题就出现了。例如，它可以链接到 jpeg 库，但无法链接到 openjpeg。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T04:20:52.030

简短的回答是**name mangling**。它甚至用于纯 c 代码，而不仅仅是 c++。

下一个例子来自[维基百科](http://en.wikipedia.org/wiki/Name_mangling)。下一个函数定义：

```
int _cdecl    f (int x) { return 0; }
int _stdcall  g (int y) { return 0; }
int _fastcall h (int z) { return 0; } 
```

给出这些符号：

```
_f
_g@4
@h@4 
```

# android - 无法将视频分享到 Youtube，这些视频存在于 sd 卡的 /mnt/sdcard/Android/data 中

> ID：11932586
> 
> 赞同：1
> 
> 时间：2012-08-13T10:33:37.483
> 
> 标签：android, video, youtube, android-sdcard

我面临着一个非常奇怪的问题，即无法将任何视频分享到 youtube，这些视频存在于**/mnt/sdcard/Android/data/com.sec.example**中。那是本地存储在我的应用程序中的。当我将视频复制到此文件夹之外（**/mnt/sdcard/Android/...**）时，我就可以通过 YouTube 分享了。

此问题仅发生在**Youtube 上**。通过其他应用程序（即 Gmail、DropBox、Facebook、蓝牙等）进行共享在所有情况下都可以正常工作。

可能是什么问题呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T13:45:24.030

这是[共享文件中的代码图片](http://android-developers.blogspot.in/2012/02/share-with-intents.html)

```
Intent intent=new Intent(android.content.Intent.ACTION_SEND);
intent.setType("text/plain");
intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET);

// Add data to the intent, the receiving app will decide what to do with it.
intent.putExtra(Intent.EXTRA_SUBJECT, “Some Subject Line”);
intent.putExtra(Intent.EXTRA_TEXT, “Body of the message, woot!”);

startActivity(Intent.createChooser(intent, “How do you want to share?”)); 
```

# c++ - 附加包含目录中添加的路径相对于什么？

> ID：11932590
> 
> 赞同：3
> 
> 时间：2012-08-13T10:34:09.730
> 
> 标签：c++, visual-studio-2010

附加包含目录中添加的路径相对于什么？它是项目的位置（*.vcxproj）吗？它是解决方案的位置（* .sln）吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T11:27:35.933

根据我的测试，路径是相对于项目目录的，在项目构建期间设置为当前。我使用两个源文件创建了项目：`test.cpp`和`dir1\test2.cpp`. 两者都包含文件`test_include.h`，它被放置在父目录中。其他包含目录是：`..\`构建日志：

```
         C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\bin\CL.exe /c /I..\ /ZI /nologo /W3 /WX- /Od /Oy- /D WIN32 /D _DEBUG /D _CONSOLE /D _UNICODE /D UNICODE /Gm /EHsc /RTC1 /MDd /GS /fp:precise /Zc:wchar_t /Zc:forScope /Yu"StdAfx.h" /Fp"Debug\test.pch" /Fo"Debug\ \" /Fd"Debug\vc100.pdb" /Gd /TP /analyze- /errorReport:prompt dir1\test2.cpp test.cpp
         测试.cpp
         测试2.cpp

```

可以看到，当前目录是工程目录，命令行中的文件分别是:`dir1\test2.cpp`和`test.cpp`，都用同一个`/I..\`开关编译成功。

# c# - 需要修复一个正则表达式，它替换了太多

> ID：11932591
> 
> 赞同：1
> 
> 时间：2012-08-13T10:34:13.947
> 
> 标签：c#, regex, replace

我有这样的字符串：

```
Text [City 1 || Location] text [Population] 
|| Text [City 2 || Location] text [Population] 
```

我需要替换 || 的正则表达式 就在 [] 内，带有 ==。

所以我必须是：

```
Text [City 1 == Location] text [Population] 
|| Text [City 2 == Location] text [Population] 
```

我写了这个正则表达式：

```
str = Regex.Replace(str, @"\[(.*?)\|\|(.*?)\]", "[$1==$2]"); 
```

但它取代了所有|| 与==。

如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:38:46.853

**编辑**：尝试使用`lookbehind`和`lookahead`断言：

```
(?<= subexpression)
Zero-width positive lookbehind assertion.  

(?= subexpression)
Zero-width positive lookahead assertion. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:42:44.787

您应该能够避免匹配所有内容而只获得“||” 像那样：

```
str = Regex.Replace(str, @"(?<=\[[^\[\]]*)\|\|(?=[^\[\]]*\])", "=="); 
```

**那么这里发生了什么？**

`(?<=\[[^\[\]]*)` 这是一个零宽度的外观，匹配 '[' 和它后面的任何字符，除了 '[' 或 ']'

`\|\|`这与实际的 '||' 匹配

`(?=[^\[\]]*\])`这是一个零宽度的前瞻，它匹配除 '[' 或 ']' 之外的任何字符，后跟 ']'

# jsf-2 - 选择初始行 CoreTable

> ID：11932598
> 
> 赞同：0
> 
> 时间：2012-08-13T10:34:37.930
> 
> 标签：jsf-2, myfaces, trinidad

我有一个`<tr:table value="#{mybean.tableValue} binding="#{mybean.tableBinding}">` 我想在启用选择多个的情况下显示。`<tr:selectManyCheckbox>`我正在为集合使用列表，当我从带有部分触发器的 valueChangeListener 中选择一个值时，这些值是从数据库中获取的。

对于返回的每一行，如果某个值为真，我希望在`<tr:table value="#{mybean.tableValue} binding="#{mybean.tableBinding}">`

*我认为问题是当valueChangeEvent*运行时我的绑定值没有更新，尽管我把*binding.setValue*数据库的结果（我检查了`binding.getRowCount()`不等于`mybean.tableValue.size()`）然后选择的值不正确）

知道为什么绑定 rowCount 不等于表的值吗？

更新：

```
<tr:subform id="subform1">
    <tr:panelFormLayout rows="6">
    <tr:selectManyCheckbox id="val1" label="Values"
      layout="horizontal" value="#{mybean.data1Values}" 
      autoSubmit="true" valueChangeListener="#{mybean.valuesChangeListener}">
        <f:selectItems value="#{mybean.list1Values}"/>
    </tr:selectManyCheckbox>                        
   </tr:panelFormLayout>
</tr:subform>
<tr:spacer width="5px"/>
<tr:subform id="subform2">            
    <tr:table rows="0" partialTriggers=":::subform1:val1 " 
      value="#{mybean.data2Values}" var="item" id="tabladatos" width="75%" 
      rowSelection="multiple" rowBandingInterval="1" binding="#{mybena.tableBinding}"
      verticalGridVisible="true" horizontalGridVisible="true">
    <tr:column id="_head1" headerText="Colum1" width="30%">
        <tr:outputText id="_head1_value" value="#{item.value1}"/>
    </tr:column>
    <tr:column id="_head2" headerText="Colum2" width="30%">
        <tr:outputText id="_head2_value" value="#{item.value2}"/>
    </tr:column>                
    </tr:table>        
</tr:subform>

public void valuesChangeListener(ValueChangeEvent event) {
        if (event != null) {
            List<Integer> valores = (List<Integer>) event.getNewValue();
            data2Values.addAll(databaseDAO.search(valores));
            RowKeySet rks = new RowKeySetImpl();
            rks.clear();
            tableBinding.setSelectedRowKeys(rks);
            tableBinding.setValue(data2Values);
            for (int x = 0; x < tableBinding.getRowCount(); x++) {
                dataEntity row = (dataEntity) tableBinding.getRowData(x);
                tableBinding.setRowIndex(x);
                if (row.isTrue()) {
                    Object key = tableBinding.getRowKey();
                    rks.add(key);//tableBinding.getSelectedRowKeys().add(key);
                } else {
                    //do something
                }
            }
            tableBinding.setVar("item");
            tableBinding.setSelectedRowKeys(rks);
            FacesContext context = FacesContext.getCurrentInstance();
            context.renderResponse();
        }

    } 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T10:42:02.177

解决了！我更改了 valueChangeListener：

```
public void valuesChangeListener(ValueChangeEvent event) {
        if (event != null) {
            List<Integer> valores = (List<Integer>) event.getNewValue();
            data2Values.addAll(databaseDAO.search(valores));
            tableBinding.getSelectedRowKeys().clear;
            tableBinding.setValue(data2Values);
            for (int x = 0; x < tableBinding.getRowCount(); x++) {
                dataEntity row = (dataEntity) tableBinding.getRowData(x);
                tableBinding.setRowIndex(x);
                Object key = tableBinding.getRowKey();
                if (row.isTrue()) {                    
                    tableBinding.getSelectedRowKeys().add(key);
                } else {
                    tableBinding.getSelectedRowKeys().remove(key);
                }
            }
            tableBinding.setVar("item");
            FacesContext context = FacesContext.getCurrentInstance();
            context.renderResponse();
        }

    } 
```

# jquery - jQuery Deferred & console.log - 奇怪的行为

> ID：11932604
> 
> 赞同：0
> 
> 时间：2012-08-13T10:34:57.847
> 
> 标签：jquery, console, jquery-deferred

考虑以下示例：

```
var $_dfd = $.Deferred(),
    $_x = {};

$_x = {
    a: 1,
    b: 2
};

console.log($_x); // Gives {a: 1, b: 2, more: {c: 3, d: 4}} <== Weirdness here
console.log($_x.a); // Gives 1
console.log($_x.more); // Gives undefined

$_dfd.pipe(function($_x) {
    $_x.more = {
        c: 3,
        d: 4                    
    };

    return $_x;
});

$_dfd.resolve($_x).done(function($_x) {
    console.log($_x); // Gives {a: 1, b: 2, more: {c: 3, d: 4}}
}); 
```

​我真的完全被 console.log 输出 #1 弄糊涂了。有两个问题需要回答：

1.  `$_x`第一个 console.log 输出中变量的真实状态是什么？

2.  如果在使用 deferred 时，console.log 不是了解变量状态的安全方法，那么还有哪些更好的选择？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T11:04:43.563

必须使用`JSON.stringify()`，详见以下帖子：

[console.log 中的错误？](https://stackoverflow.com/questions/11118758/bug-in-console-log)

# nutch - Nutch 2 解析和链接

> ID：11932606
> 
> 赞同：0
> 
> 时间：2012-08-13T10:35:01.820
> 
> 标签：nutch

我注意到像 tika 这样的解析插件从内容中提取外链，但是在方法 getParse/2 中传递的对象 WebPage 已经有 2 个包含外链和内链的数组。

getParse 中的提取和 fetch 之后的提取有什么区别。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T16:59:54.900

Webpage 对象是根据 nutch 数据库中的信息创建的，在我的例子中是 hsql。

在解析过程之后（在方法 getParse 返回之后）填充网页字段 outlinks（和其他一些）。

# windows - 为什么 OSX 在 amd64 间接跳转时会出现总线错误？

> ID：11932609
> 
> 赞同：2
> 
> 时间：2012-08-13T10:35:09.323
> 
> 标签：windows, macos, assembly, x86-64

我正在尝试为 x86 和 amd64 编写蹦床，以便将给定的函数调用立即向量化到存储在已知内存位置的地址（目的是确保第一个目标地址位于给定的 DLL（窗口）中）。

以下代码试图`_fn`用作内存位置（或其中一组）来启动实际目标地址：

```
(*_fn[IDX])(); // rough equivalent in C

.globl _asmfn
_asmfn:
  jmp *_fn+8*IDX(%rip) 
```

旨在使用一些 CPP 宏来构建，`IDX`以提供一系列嵌入式 DLL 向量，每个向量都唯一地映射到`_fn`函数指针数组中的一个槽。这适用于一个简单的测试程序，但是当我实际将它放入共享库时（目前在 OSX 上进行测试），在尝试引导到 _asmfn 代码时出现总线错误：

```
Invalid memory access of location 0x10aa1f320 rip=0x10aa1f320 
```

这段代码的最终目标是 Windows，虽然我还没有在那里尝试过（我想我至少可以先在 OSX/intel 上的测试用例中证明程序集）。amd64 跳转至少在名义上是正确的，还是我错过了什么？

[amd64 上关于蹦床的](http://www.ragestorm.net/blogs/?p=107)一个很好的参考。

**编辑**

跳转在 Windows 7 上*确实*可以正常工作（终于有机会测试了）。但是，我仍然很想知道为什么它在 OSX 上失败了。总线错误是由 KERN_PROTECTION_FAILURE 引起的，这似乎表明操作系统保护正在阻止执行该代码。目标地址*是*分配的内存（它是由 libffi 生成的蹦床），但我相信它被正确标记为可执行内存。如果这是一个可执行内存问题，那就可以解释为什么我的独立测试代码可以工作（回调蹦床是编译的，而不是分配的）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T16:55:21.843

使用 PC 相对寻址时，请记住偏移量必须在 +- 2GB 范围内。这意味着您的跳台和蹦床不能相距太远。关于蹦床本身，在 Windows x64 上可以在不需要破坏任何寄存器的情况下进行传输是：

1.  一个序列：
    `PUSH <high32>`
    `MOV DWORD PTR [ RSP - 4 ], <low32>`
    `RET`
    这适用于 Win64 和 UN*X x86_64。尽管在 UN*X 上，如果该函数使用 redzone，那么您正在崩溃……

2.  一个序列：
    `JMP [ RIP ]`
    `.L: <tgtaddr64>`
    同样适用于 Win64 和 UN*X x86_64。

3.  一个序列：这是特定于 Win64 的，因为它 (ab) 使用由 Win64 ABI
    `MOV DWORD PTR [ RSP + c ], <low32>`
    `MOV DWORD PTR [ RSP + 8 ], <high32>`
    `JMP [ RSP + 8 ]`
    保留的 32 字节“参数空间”的一部分（就在堆栈上的返回地址*上方）；*与此等效的 UN*X x86_64 将（ab）使用保留的 128 字节“红色区域”的一部分（就在堆栈上的返回地址*下方*
    `MOV DWORD PTR [ RSP - c ], <low32>`
    `MOV DWORD PTR [ RSP - 8 ], <high32>`
    `JMP [ RSP - 8 ]`
    ）： 两者只有在可以接受破坏时才可用（覆盖）在调用蹦床时那里有什么。

如果可以直接在内存中构造这样一个与位置无关的寄存器中性蹦床 - 像这样（对于方法 1.）：

```
#include <stdint.h>
#include <stdio.h>

char *mystr = "Hello, World!\n";

int main(int argc, char **argv)
{
    struct __attribute__((packed)) {
                char PUSH;
                uint32_t CONST_TO_PUSH;
                uint32_t MOV_TO_4PLUS_RSP;
                uint32_t CONST_TO_MOV;
                char RET;
    } mycode = {
                0x68, ((uint32_t)printf),
                0x042444c7, (uint32_t)((uintptr_t)printf >> 32),
                0xc3
    };
    void *buf = /* fill in an OS-specific way to get an executable buffer */;
    memcpy(buf, &mycode, sizeof(mycode));

    __asm__ __volatile__(
        "push $0f\n\t"         // this is to make the "jmp" return
        "jmp *%0\n\t"
        "0:\n\t" : : "r"(buf), "D"(mystr), "a"(0));

    return 0;
} 
```

Note that this doesn't take into account whether any nonvolatile registers are being clobbered by the function "invoked"; I've also left out how to make the trampoline buffer executable (the stack ordinarily isn't on Win64/x86_64).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-01T22:36:09.537

@HarryJohnston had the right of it, the permissions issue was encountered on OS X only. The code runs fine on its target windows environment.

# google-app-engine - 如何在谷歌数据存储中有效地搜索实体

> ID：11932612
> 
> 赞同：1
> 
> 时间：2012-08-13T10:35:18.007
> 
> 标签：google-app-engine, google-cloud-datastore, bigtable

我正在为应用程序（内部工作门户）使用 Datastore 低级 API。我有一个名为**Candidate**的实体，具有以下属性

```
 Entity cadidate=new Entity("Candidate",getEmpNum());
    candidate.setProperty("name","some name");
    candidate.setProperty("skill","c++,Java,C#,GAE");
    candiate.setProperty("empNum"); 
```

属性 'skill' 采用逗号分隔的字符串。如果 HR 使用键 "GAE,Java" 搜索候选人，我如何有效地搜索实体？以下查询有效吗？

```
 q.addFilter(searchBy, FilterOperator.GREATER_THAN_OR_EQUAL, searchFor);
    q.addFilter(searchBy, Query.FilterOperator.LESS_THAN, searchFor+"Z"); 
```

如果上述查询适用于 1000 个实体 ..当数据存储区中有 50,000 + 个实体时，它是否具有相同的延迟？

请建议我.. 我是 GAE 和 Datastore 的新手

-谢谢马

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T12:28:10.840

您应该使用列表属性。

```
List<String> skills = Arrays.asList("c++", "Java", "C#", "GAE");
candidate.setProperty("skill", skills); 
```

然后用`IN`运算符查询：

```
List<String> findSkills = Arrays.asList("Java","GAE");
q.addFilter("skill", FilterOperator.IN, findSkills); 
```

这

# c++ - 在 C++ 中，通过引用传递 const bool 是不是很糟糕？

> ID：11932614
> 
> 赞同：18
> 
> 时间：2012-08-13T10:35:20.143
> 
> 标签：c++, visual-studio, gcc

在实际环境中，使用 gcc 或 MS Visual Studio，通过 const 引用传递大小相同或小于 int 的值类型是否不好？

即写这样一个函数是不是很糟糕：

```
void f(const bool& b); 
```

或者

```
void f(const char& c); 
```

而不是：

```
void f(bool b); 
```

或者

```
void f(char c); 
```

我问的原因是我看不到在这些情况下传递引用的好处，但也许我遗漏了一些东西。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-08-13T10:38:59.073

它可能有点糟糕，或者根本没有效果（取决于原始值的存储位置、优化器的好坏以及它决定如何处理您的代码）。

该标准没有规定如何实现引用，但实际上编译器使用指针实现引用。因此，在一般情况下， a`bool&`将使用 a 来实现`bool*`，这意味着要访问`bool`您每次都需要一个额外的指针取消引用。由于 a`bool`不比指针大，因此不会减少内存占用或减少字节复制来抵消这个缺点。

因此，公认的做法是将原语作为值传递，因为它更有效。当然，尽管传递诸如引用之类的东西并不会真正破坏任何东西，除非您在循环内访问该值，否则可能甚至不会导致任何可测量的差异。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-08-13T10:46:15.937

除了性能之外，实际上在某些情况下您会得到不同的行为。

例如，传递`const`引用确保函数不能更改引用变量的值，但另一个线程可能会这样做。如果您通过引用传递（即使使用`const`），您将看到这些更改，如果您通过值传递，则不会。

此外，接口的定义限制了您可以对函数内的变量执行的操作。考虑这个例子：

```
int foo(int a) {
    a = 5; // valid
}

int bar(const int& a) {
    a = 5; // compiler-error
} 
```

如果通过引用传递，并且要修改变量的值以供本地使用，则需要进行额外的复制。如果你按值传递，你已经有一个副本。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-13T10:40:36.320

一个原因是您想向其他程序员传达该值是恒定的，在某些情况下可能会更清楚，尽管`const bool`就足够了。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-13T10:38:48.923

我认为传递内置类型更好，`by value`因为`const reference`它实际上更快。在通过引用传递的情况下，您需要创建一个引用（即获取地址），然后在使用变量时取消引用。在大多数情况下，无论如何它都会被编译器优化

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-13T10:38:40.200

这真的没关系，按值传递可以使代码更清晰，因此被认为是好的做法。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-13T10:42:27.923

虽然理论上这不是一个好主意，因为引用通常是使用指针实现的。但是，尽管如此，每个合理的编译器都应该足够聪明，以识别基本类型的按常量引用和按值之间的语义差异。

如果您有某种模板化接口必须适用于复杂类型和基本类型，并且您不希望过多的专业化开销（最简单的示例：），那么您通常别无选择`std::vector`。但是，如果您有选择，那么应该首选按值传递基本类型。

# php - 教义 findOneBy 方法不起作用

> ID：11932618
> 
> 赞同：10
> 
> 时间：2012-08-13T10:35:35.173
> 
> 标签：php, orm, symfony, doctrine-orm

我正在创建只有两个实体 Order 和 Shipment 的小型应用程序。

Shipment 实体如下：（删除方法以保持简短）

```
/**
 * @var integer $id
 *
 * @ORM\Column(name="id", type="integer")
 * @ORM\Id
 * @ORM\GeneratedValue(strategy="AUTO")
 */
private $id;

/**
 * @var string $username
 *
 * @ORM\Column(name="username", type="string", length=255)
 */
private $username;

/**
 * @var string $password
 *
 * @ORM\Column(name="password", type="string", length=255)
 */
private $password;

/**
 * @var integer $order_id
 *
 * @ORM\Column(name="order_id", type="integer")
 */
private $order_id;

/**
 * @var smallint $payment_type
 *
 * @ORM\Column(name="payment_type", type="smallint")
 */
private $payment_type; 
```

在我的控制器中，我尝试使用 查询，`order_id`但我的`findOneByOrderId`方法不起作用。

```
$orderExists = $this->getDoctrine()
                ->getRepository('ShipBundle:Shipment')
                ->findOneByOrderId($orderId);

var_dump($orderExists);     die(); 
```

我得到的错误是：

```
Entity 'ShipBundle\Entity\Shipment' has no field 'orderId'. You can therefore not call 'findOneByOrderId' on the entities' repository. 
```

如果我没记错的话，Doctrine`find`方法在下划线处加入变量并将它们大写。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-08-13T11:42:26.233

我设法通过 pomaxa 和 Doctrine2 文档的提示解决了这个问题。

正确的代码是：

```
$orderExists = $this->getDoctrine()
                ->getRepository('ShipBundle:Shipment')
                ->findOneBy(array('order_id' => $orderId)); 
```

解释于：[http ://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/working-with-objects.html#by-simple-conditions](http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/reference/working-with-objects.html#by-simple-conditions)

感谢大家的帮助。我很感激。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-02-11T14:53:11.763

这一行的问题

> 私人 $order_id;

用它

> 私人 $orderId;

没关系。对于 db，您将拥有 order_id。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-13T11:23:35.453

您可以使用 Doctrine2 的内置关系功能，而不是手动在实体**Shipment**中使用订单 ID。这样，您将拥有 Doctrine 知道的关系。

```
$orders = $shipment->getOrders(); 
```

看这里：[http ://docs.doctrine-project.org/projects/doctrine-orm/en/2.0.x/reference/association-mapping.html](http://docs.doctrine-project.org/projects/doctrine-orm/en/2.0.x/reference/association-mapping.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-04-11T19:07:17.223

澄清一下，错误的原因是您需要将 Array 传递给`findOneBy();`

这是错误的：，`->findOneByOrderId($orderId);`在

```
$orderExists = $this->getDoctrine()
                ->getRepository('ShipBundle:Shipment')
                ->findOneByOrderId($orderId); 
```

必须传递一个数组。`array('order_id' => $orderId)`

```
$orderExists  = $this->getDoctrine()
                ->getRepository('ShipBundle:Shipment')
                ->findOneBy(array('order_id' => $orderId)); 
```

或简写`['order_id'=> $orderId]`，只要你在 PHP >= 5.4

```
$orderExists  = $this->getDoctrine()
                ->getRepository('ShipBundle:Shipment')
                ->findOneBy(['order_id'=> $orderId]); 
```

# iphone - 使用 UIWebView 的 didRecieveData 导致应用程序崩溃

> ID：11932620
> 
> 赞同：0
> 
> 时间：2012-08-13T10:35:42.967
> 
> 标签：iphone, ipad

```
 -[__NSCFType appendData:]: unrecognized selector sent to instance 0xa054a60
    2012-08-13 15:58:31.892 SDTest1[3441:f803] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[__NSCFType appendData:]: unrecognized selector sent to instance 0xa054a60'
    *** First throw call stack:
    (0x1c18022 0x33e3cd6 0x1c19cbd 0x1b7eed0 0x1b7ecb2 0x937b 0x2a96a80 0x2a94e84 0x2a95ea7 0x2a94e3f 0x2a94fc5 0x29d99da 0x389c585 0x389b54a 0x389b861 0x37c5120 0x389b117 0x37c4fbf 0x1bec94f 0x1b4fb43 0x1b4f424 0x1b4ed84 0x1b4ec9b 0x3ac47d8 0x3ac488a 0x2093626 0x2b7d 0x2af5)
    terminate called throwing an exception

-(void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data{

    [webData appendData:data];

} 
```

它说 ExcBadAccess....

我在将我的项目类集成到另一个项目时遇到了这个错误。我也包括所有文件和界面构建器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:45:54.050

错误消息是说接收`appendData:`消息的对象不是您认为的那样。看起来好像您的`webData`对象已被释放，并且内存已被重新用于其他用途（`__NSCFType`）。

如果您不清楚对象是如何被释放的，您可以使用 Instruments 运行您的程序并检查 Zombies，这可能有助于调试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:44:39.110

这：

```
-[__NSCFType appendData:]: unrecognized selector sent to instance 
```

表示您正在向错误的类型发送消息。我猜你期待一个 NSMutableData 实例？

我不认识 NSCFType，但这个博客说它可能是内存管理问题的症状。也许是提前发布。

[http://imlocation.wordpress.com/2007/09/13/strange-objects-nscftype-in​​dicate-memory-management-bugs/](http://imlocation.wordpress.com/2007/09/13/strange-objects-nscftype-indicate-memory-management-bugs/)

# java - 静态工厂建设者的麻烦

> ID：11932623
> 
> 赞同：1
> 
> 时间：2012-08-13T10:35:48.097
> 
> 标签：java, design-patterns, static-factory

需要创建未指定数量的对象，我尝试创建一个可以执行此操作的构建器。一切都很好，直到我意识到我的构建器创建的所有对象的属性都具有相同的值。

所以当我打电话给建设者时：

```
ValidationHelper v = new ValidationHelper.HelperBuilder()
        .addHelper("ICAO Identifier", icaoIdentifier, rulesICAO)
        .addHelper("Long Name", longName, rulesLongName)
        .build(); 
```

...我将有 2 个对象，它们的属性将具有构建器被要求创建的最后一个对象的值。

首先，工厂建设者是谨慎的做法吗？其次，我的建造者是否可以挽救？

**生成器：**

```
public class ValidationHelper {

    private static ArrayList<HelperBuilder> validatorHelpers = new ArrayList();

    public static class HelperBuilder {

        private String txtFieldName;
        private String txtFieldValue;

        private List<Integer> valCodes = new ArrayList<Integer>();

        private ArrayList<HelperBuilder> innerValidatorHelpers = new ArrayList<HelperBuilder>();

        public HelperBuilder() {}

        public final HelperBuilder addHelper(String txtFieldName, String txtFieldValue, int[] validationCodes) {

            this.txtFieldName = txtFieldName;
            this.txtFieldValue = txtFieldValue;
            for( int i = 0; i < validationCodes.length; i++ ){
                getValCodes().add((Integer) validationCodes[i]);
            }

            innerValidatorHelpers.add(this);
            return this;
        }

        public final ValidationHelper build() {
            return new ValidationHelper(this);
        }

        public String getTxtFieldName() {
            return txtFieldName;
        }

        public String getTxtFieldValue() {
            return txtFieldValue;
        }

        public List<Integer> getValCodes() {
            return valCodes;
        }
    }//end HelperBuilder

    private ValidationHelper(HelperBuilder helperBuilder) {
        validatorHelpers = helperBuilder.innerValidatorHelpers;
    }

    public void setHelpers(ArrayList validatorHelpers) {
        validatorHelpers = validatorHelpers;
    }

    public ArrayList getHelpers() {
        return validatorHelpers;
    }
} 
```

**编辑/固定：**

因此，对于它的价值，这里是修改后的构建器。它需要另一个可以正确初始化它应该构建的实例的构造函数。

```
public class ValidationHelper {

    private static ArrayList<HelperBuilder> validatorHelpers = new ArrayList();

    public static class HelperBuilder {

        private String txtFieldName;
        private String txtFieldValue;

        private List<Integer> valCodes = new ArrayList<Integer>();

        private ArrayList<HelperBuilder> innerValidatorHelpers = new ArrayList<HelperBuilder>();

        public HelperBuilder() {}
        public HelperBuilder(String txtFieldName, String txtFieldValue, int[] validationCodes) {

            this.txtFieldName = txtFieldName;
            this.txtFieldValue = txtFieldValue;

            for (int i = 0; i < validationCodes.length; i++) {
                valCodes.add((Integer) validationCodes[i]);
            }

        }

        public final HelperBuilder addHelper(String txtFieldName, String txtFieldValue, int[] validationCodes) {
            innerValidatorHelpers.add( new HelperBuilder(txtFieldName, txtFieldValue, validationCodes) );
            return this;
        }

        public final ValidationHelper build() {
            return new ValidationHelper(this);
        }

        public String getTxtFieldName() {
            return txtFieldName;
        }

        public String getTxtFieldValue() {
            return txtFieldValue;
        }

        public List getValCodes() {
            return valCodes;
        }
    }//end HelperBuilder

    private ValidationHelper(HelperBuilder helperBuilder) {
        validatorHelpers = helperBuilder.innerValidatorHelpers;
    }

    public ArrayList getHelpers() {
        return validatorHelpers;
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:39:13.967

每次您只需覆盖中的值

```
private String txtFieldName;
private String txtFieldValue; 
```

最后一个赢了。所以你在这里只创建 1 个 HelperInstance

```
ValidationHelper v = new ValidationHelper.HelperBuilder() 
```

并且每次调用 addHelper() 时都会覆盖字段名称和值。但是您需要为每个“配置”创建一个实例。所以 addHelper 应该创建一个新的 Instance 并将其添加到

```
private ArrayList<HelperBuilder> innerValidatorHelpers = ...; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T10:39:16.443

如果要构建具有不同值的对象，则必须

*   在创建对象之间更改构建器，以便构建不同的东西。
*   指示构建器自动更改值，例如使用计数器或基于日期的文件名，或提供值列表。

# lotus-notes - 我如何excel导出lotus notes中的选定字段？

> ID：11932626
> 
> 赞同：0
> 
> 时间：2012-08-13T10:36:12.340
> 
> 标签：lotus-notes

我如何excel导出lotus notes中的选定字段？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T20:20:57.887

请参阅此站点上的代码，它运行良好。[http://partialclass.blogspot.com/2009/02/export-to-excel-20-for-lotus-notes.html](http://partialclass.blogspot.com/2009/02/export-to-excel-20-for-lotus-notes.html)

# classification - 将项目分类为多个类别

> ID：11932634
> 
> 赞同：0
> 
> 时间：2012-08-13T10:36:53.917
> 
> 标签：classification, mahout

我正在开发一个新闻分类系统，其中将特定新闻项目分配给组织或公司名称。例如，标签为“Apple 将于 2012 年 9 月推出新 iPhone”的新闻被归类为“Apple”新闻。到目前为止，在使用苹果新闻、谷歌新闻、微软新闻、三星新闻、美国银行新闻等一系列主题训练分类器后，效果非常好，我从单个训练模型中获得了近 99% 的正确分类实例。现在的问题是将“三星和谷歌准备攻击苹果”这样的新闻分为“苹果”、“三星”和“谷歌”三个主题。

我的问题是如何使用 Mahouts 分类将单个项目分类为多个类。[我在这个线程http://mail-archives.apache.org/mod_mbox/mahout-user/201206.mbox/%3C20120607223156.GA26283@opus.istwok.net%3E](http://mail-archives.apache.org/mod_mbox/mahout-user/201206.mbox/%3C20120607223156.GA26283@opus.istwok.net%3E)看到了一个类似的问题。

Ted Dunning 给出了一个有趣的答案，即为多个主题制作单独的类别，但在我的情况下，组合很多。我必须将新闻分类为近 15,000 家公司，实际上，任何新闻都可以是 15000 家公司中的任何一家的混合体。因此，排除了将组合作为一个单独的类别！第二个建议是在层次结构中安排主题，这也不适用于这里，因为公司名称不收敛到任何基本类别。

为 15000 个主题拥有 15000 个模型就可以了，但听起来也不太合理！

那么，对多主题新闻进行分类的正确方法应该是什么？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-20T11:32:26.330

如果您遇到对数据进行多重标记的问题，最好使用专门针对它的工具。目前 mahout 不支持多标签（有一些方法可以做到，但它们就像变通方法）。这里有一些工具可以对您的数据进行多重标记

[http://mulan.sourceforge.net/](http://mulan.sourceforge.net/)

[http://meka.sourceforge.net/](http://meka.sourceforge.net/)

# jquery - JQuery, CSS - 创建评级系统

> ID：11932641
> 
> 赞同：0
> 
> 时间：2012-08-13T10:37:26.797
> 
> 标签：jquery, html, css

我有以下代码。HTML：

```
<div class="zuta_strana_ocena">
<p>Vaša ocena</p>
<div class="zuta_strana_rating">
<span role="rating" id="star_1"></span>
<span role="rating" id="star_2"></span>
<span role="rating" id="star_3"></span>
<span role="rating" id="star_4"></span>
<span role="rating" id="star_5"></span>
</div>
</div> 
```

CSS：

```
.zuta_strana_ocena {float: left; width: 65%; margin-top: 10px}
.zuta_strana_ocena p {float: left}
.zuta_strana_rating {height: 30px; width: 180px; display: block; float: left;}
span[role=rating] {display: block; width: 30px; height: 30px; float: left; margin-right: 5px;background: url(../img/resursi/rating.png) 0 0 no-repeat; cursor: pointer}
span[role=rating]:first-of-type {margin-left: 5px}
.star, .on {background: url(../img/resursi/rating.png) 0 -49px no-repeat !important; } 
```

查询：

```
ocena.hover(
function(){
$(this).prevAll().andSelf().addClass('star')},
function(){
$(this).parent().children().removeClass('star');
}
); 

ocena.on('click', function(){
d_o = $(this).index() + 1;
$(this).parent().children().removeClass('on');
$(this).prevAll().andSelf().addClass('on')          
}); 
```

目前，如果我想从同一张图片开始创建所有内容，它工作正常，但那是我不需要的。每个明星都必须有独特的形象，但目前我不知道解决方案。我试过这个CSS：

```
#star_1 .star, #star_1 .on {background: url(../img/resursi/rating.png) 0 -49px no-repeat !important; } 
```

但它不工作（什么都没有发生）。我需要做什么才能让它工作？

JSFiddle 链接：http: [//jsfiddle.net/j5vce/](http://jsfiddle.net/j5vce/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:59:59.223

[http://jsfiddle.net/j5vce/7/](http://jsfiddle.net/j5vce/7/)

试试这个，我只是给了他们每个瓷砖的类，并为它们添加了背景

*edited (你甚至可以只指向他们的 ID) *edited 1.

该链接现在显示 1 个当前状态，然后显示 3 个唯一状态

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T11:16:15.863

你可以试试 Simon Pertersen 的建议。但最好使用如下图所示的图像精灵；

![在此处输入图像描述](../Images/e35587139c534c1a8ccca08bf8cc6dea.png)

您可以将其分配给您`span`的父选择器，并且可以更改图像位置。在这种方法中，由于图像已经预加载，星星将快速加载。

# c# - 模型检查工具 c#

> ID：11932642
> 
> 赞同：2
> 
> 时间：2012-08-13T10:37:37.403
> 
> 标签：c#, model-checking

是否有任何用于 c# 代码的模型检查库？我正在寻找前、后条件注释类不变量，就像在 Eiffel 中一样。我用谷歌搜索了[Spec#](http://specsharp.codeplex.com/)，但据我所知，它是语言扩展，而不是我期望的库。

谢谢你！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T14:15:32.207

看看[代码合同](http://msdn.microsoft.com/en-us/devlabs/dd491992.aspx)。

# html - “del”标签中的“dir”属性有什么用？

> ID：11932643
> 
> 赞同：0
> 
> 时间：2012-08-13T10:37:38.207
> 
> 标签：html

我正在查看 w3schools 中的标签。我无法理解其中 dir 属性的用途。有人知道吗？ [http://www.w3schools.com/tags/tag_del.asp](http://www.w3schools.com/tags/tag_del.asp)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T10:41:08.047

写作方向。*从左到右*或*从右到左*。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T10:41:59.530

该[`dir`属性](http://www.w3.org/TR/html4/struct/dirlang.html#h-8.2)确定文本方向，即文本是从左到右还是从右到左写出。

该`dir`属性通常应用于整个文档，但您可以在大多数块级元素中覆盖它。

# java - 将多个 jar 文件添加到类路径中

> ID：11932648
> 
> 赞同：0
> 
> 时间：2012-08-13T10:37:54.713
> 
> 标签：java, ubuntu, classpath

我正在尝试在下面的目录中添加所有 jar 文件，但我得到了

线程“主”java.lang.NoClassDefFoundError 中的异常：twitter4j/TwitterException 错误。

我确信 .jar 文件中有 TwitterException 类。我的类路径语法有什么错误吗？

```
mahmut@ubuntu:~/Desktop/Java/TwitterDeneme/bin$ java -classpath "~/twitter4j-2.2.6/lib/*.jar:." GetHashtag
Exception in thread "main" java.lang.NoClassDefFoundError: twitter4j/TwitterException
    at java.lang.Class.getDeclaredMethods0(Native Method)
    at java.lang.Class.privateGetDeclaredMethods(Class.java:2442)
    at java.lang.Class.getMethod0(Class.java:2685)
    at java.lang.Class.getMethod(Class.java:1620)
    at sun.launcher.LauncherHelper.getMainMethod(LauncherHelper.java:488)
    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:480)
Caused by: java.lang.ClassNotFoundException: twitter4j.TwitterException
    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:423)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    ... 6 more 
```

我正在使用 ubuntu 和 jdk 1.7。我在 Windows 中尝试了相同的命令，它完美无缺。与 Ubuntu 操作系统相关有什么特别的事情要做吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-13T10:39:43.483

类路径的 * 语法相当有限。尝试：

```
java -classpath "~/twitter4j-2.2.6/lib/*:." GetHashtag 
```

# sql - T-SQL 查询中的语法不正确

> ID：11932650
> 
> 赞同：0
> 
> 时间：2012-08-13T10:37:58.237
> 
> 标签：sql, sql-server-2008, tsql

我的存储过程中有 T-SQL 语句，这给了我错误。但是相同的查询在查询窗口中运行得很好。它给出了错误说

> '.' 附近的语法不正确

```
Set @SQL='Select ''<a href="javascript:editTicketByIDAction('' + 
          CONVERT(VarChar(Max), Ticket) + '')">'' + 
          CONVERT(VarChar(Max),t1.Ticket) + 
          ''</a>'' t1.Ticket,VendorTicket[Vendor Ticket], Comments 
From VendorTickets t1 
WHERE NotifyOn <= GetDate() And NotifyOn Is Not Null AND 
NOT EXISTS(SELECT * FROM VendorTickets t2 
WHERE t1.Ticket = t2.Ticket AND t1.InitiatedOn < t2.InitiatedOn)'

Exec(@SQL) 
```

没有 T-SQL 它运行良好

```
 SELECT t1.Ticket,t1.VendorTicket,t1.Comments 
FROM VendorTickets t1 WHERE 
NOT EXISTS(SELECT * FROM VendorTickets t2 
WHERE t1.Ticket = t2.Ticket AND t1.InitiatedOn < t2.InitiatedOn)
AND  NotifyOn <= GetDate() And NotifyOn Is Not Null 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-13T10:39:44.270

你错过了一个`+`

```
... + '</a>' +  t1.Ticket ...
             ^------------------------here 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:59:01.643

你错过`+`了两个地方。试试这个：

```
Set @SQL='Select + ''<a href="javascript:editTicketByIDAction('' + 
          CONVERT(VarChar(Max), Ticket) + '')">'' + 
          CONVERT(VarChar(Max),t1.Ticket) + 
          ''</a>'' + t1.Ticket,VendorTicket[Vendor Ticket], Comments 
From VendorTickets t1 
WHERE NotifyOn <= GetDate() And NotifyOn Is Not Null AND 
NOT EXISTS(SELECT * FROM VendorTickets t2 
WHERE t1.Ticket = t2.Ticket AND t1.InitiatedOn < t2.InitiatedOn)'

Exec(@SQL) 
```

# tumblr - Tumblr 博客上的谷歌翻译工具

> ID：11932657
> 
> 赞同：0
> 
> 时间：2012-08-13T10:38:27.253
> 
> 标签：tumblr, google-translate

我有一个 tumblr 博客。我想在我的 tumblr 博客上放一个谷歌翻译工具和按钮。我能怎么做？不幸的是，我在 tumblr 帮助页面中找不到它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T19:07:29.983

去这里：[https ://translate.google.com/manager/add](https://translate.google.com/manager/add)

按照所有说明进行操作，您将获得两段代码，如下所示：

```
<meta name="google-translate-customization" content="272b1f36bdc17cf1-0221013045ec1abb-gfd965ee1275b4499-14"></meta> 
```

您需要将`<meta>`代码放在结束`</head>`标记之前，这将位于主题的顶部。

另一段代码如下所示：

```
<div id="google_translate_element"></div>
<script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
    }
</script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script> 
```

对于这段代码，您需要将其放置在您希望该工具出现在您的主题上的位置，这可能位于页面顶部附近，就在开始`<body>`标记之后。你的博客可能会有某种“包装”的 div，所以你可能想把它放在里面。

您需要稍微摆弄一下才能将其放置在您喜欢的位置。

要将这两段代码放入您的主题中，您需要转到“自定义主题”页面并单击“编辑 HTML”。

# javascript - 使用 JQuery 读取二进制文件的浏览器之间的不同行为

> ID：11932660
> 
> 赞同：0
> 
> 时间：2012-08-13T10:38:31.540
> 
> 标签：javascript, jquery, character-encoding, readfile

我正在尝试读取与 MyFile.html 位于同一域的二进制文件 MyFile.xxx。使用 JQuery，我只是尝试显示带有 MyFile.xxx 中字符数的警报，并打印每个字符的数字表示。但是，根据浏览器，我会得到不同的结果：

**谷歌浏览器：**我正确地得到一个显示 33 的警报，并且正确的整数 **Firefox：**警报显示“未定义”并且没有打印整数。 **IE9：**警报显示“1”并且不打印整数。

有任何想法吗？谢谢

**我的文件.html**

```
<html>                                                                  
 <head>                                                                  
 <script type="text/javascript" src="jquery.js"></script>          
 <script type="text/javascript">                                         
    $.get('/MyFile.xxx', function(a){
    var l=a.length,x=[l];
    alert(l);
    for(i=0;i<l;i++){
      x[i]=a[i].charCodeAt(0);
      document.write(x[i]);
      document.write("<br>");
    }    
});                              
 </script>                                                               
 </head>                                                                 
 <body>                                                                  
 </body>                                                                 
 </html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:50:55.423

试试这个：

```
$.ajax( "/MyFile.xxx", {
    dataType: "text",
    beforeSend: function( xhr ) {
        xhr.overrideMimeType( "text/plain; charset=x-user-defined");
    },

    success: function( data ) {
        var len = data.length,
            str = "";

        for( var i = 0; i < len; ++i ) {
            var byte = data.charCodeAt(i) & 0xFF;
            str += byte + " ";

        }
        document.body.innerHTML = str;
    }
}); 
```

演示： http: [//jsfiddle.net/SXgfu/](http://jsfiddle.net/SXgfu/)（显示 UTF-8 字节`åöä`）

请注意，IE9 不支持此功能。它也不支持任何其他获取响应原始字节的方法。

如果您使用的是 PHP，则可以对 IE 使用此解决方法：

```
$.get("/base64encoder.php?file=MyFile.xxx", function(data) {
    data = decode64(data);
    var len = data.length,
        str = "";
    for (var i = 0; i < len; ++i) {
        var byte = data.charCodeAt(i) & 0xFF;
        str += byte + " ";
    }
    document.body.innerHTML = str;
}, "text"); 
```

`base64encoder.php`类似的东西在哪里：

```
<?php
echo base64_encode(file_get_contents( $_GET['file'] )); 
```

*记得*清理上面的内容，否则这是一个巨大的安全漏洞

和`decode64`（源[http://ntt.cc/2008/01/19/base64-encoder-decoder-with-javascript.html](http://ntt.cc/2008/01/19/base64-encoder-decoder-with-javascript.html)）：

```
var keyStr = "ABCDEFGHIJKLMNOP" +
           "QRSTUVWXYZabcdef" +
           "ghijklmnopqrstuv" +
           "wxyz0123456789+/" +
           "=";

function decode64(input) {
    var output = "";
    var chr1, chr2, chr3 = "";
    var enc1, enc2, enc3, enc4 = "";
    var i = 0;
    // remove all characters that are not A-Z, a-z, 0-9, +, /, or =
    var base64test = /[^A-Za-z0-9\+\/\=]/g;
    if (base64test.exec(input)) {
        alert("There were invalid base64 characters in the input text.\n" + "Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\n" + "Expect errors in decoding.");
    }
    input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");
    do {
        enc1 = keyStr.indexOf(input.charAt(i++));
        enc2 = keyStr.indexOf(input.charAt(i++));
        enc3 = keyStr.indexOf(input.charAt(i++));
        enc4 = keyStr.indexOf(input.charAt(i++));
        chr1 = (enc1 << 2) | (enc2 >> 4);
        chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);
        chr3 = ((enc3 & 3) << 6) | enc4;
        output = output + String.fromCharCode(chr1);
        if (enc3 != 64) {
            output = output + String.fromCharCode(chr2);
        }
        if (enc4 != 64) {
            output = output + String.fromCharCode(chr3);
        }
        chr1 = chr2 = chr3 = "";
        enc1 = enc2 = enc3 = enc4 = "";
    } while (i < input.length);
    return output;
} 
```

# c# - No overload for method 'btnLoginTest_Click' takes 0 arguments

> ID：11932661
> 
> 赞同：1
> 
> 时间：2012-08-13T10:38:33.667
> 
> 标签：c#, asp.net, html

I have

```
<input type="button" id="btnLoginButton" runat="server" onserverclick="btnLoginTest_Click()" style="position: absolute;
                top: -1000; display: none; height: 0px; width: 0px" /> 
```

& my code behind has

```
protected void btnLoginTest_Click(object sender, EventArgs e)
        {

        } 
```

Could someone please guide me as to what's happening & how to fix this? I need a postback to happen for the login controls. . Thanks in advance

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:42:09.260

1.  Try to remove "()" so your code should appear like

    onserverclick="btnLoginTest_Click"

2.  If this don't work change method modifier to public.

# apache - Apache Mahout 中的矢量化

> ID：11932668
> 
> 赞同：4
> 
> 时间：2012-08-13T10:39:00.860
> 
> 标签：apache, hadoop, classification, vectorization, mahout

我是 Mahout 的新手。我需要将文本文件转换为向量以便在后期进行分类。

任何人都可以对以下这些问题有所了解吗？

1.  如何在 mahout 中将文本文件转换为矢量？文件格式类似于“用户名|关于项目的评论|评分”
2.  数据将是几 TB。那么，我可以使用我想创建的向量来使用哪种可实现的算法进行分类？

谢谢，阿伦

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-14T08:14:52.277

您可以查看这 2 个示例，这些示例也有点做/解释了如何使用序列文件 API。[这里](https://stackoverflow.com/questions/11645294/how-can-i-use-mahouts-sequencefile-api-code/11645430#11645430)和[这里](https://stackoverflow.com/questions/11479600/runing-a-simple-mahout-program)

你绝对应该阅读这篇关于文本分析的[***介绍***](https://cwiki.apache.org/MAHOUT/quick-tour-of-text-analysis-using-the-mahout-command-line.html)

# c# - DataAdapter 不更新源

> ID：11932672
> 
> 赞同：0
> 
> 时间：2012-08-13T10:39:12.340
> 
> 标签：c#, .net, ado.net, dataadapter

我在使用 DataAdapter 时遇到了一个问题，希望有人能提供帮助。基本上我正在创建一个系统，如下所示：

1.  使用 DataAdapters 从数据源（MS-Access、SQL Server 或 Excel）读取数据，转换为数据表并插入本地 SQL Server 数据库。这一点工作正常。SQL server 表有一个 PK，这是一个自动增量设置为 on 的标识字段。
2.  随后的数据加载从源中读取数据并将其与我们已有的数据进行比较。如果记录丢失，则添加它（这工作正常）。如果记录不同，则需要更新（这不起作用）。
3.  在进行差异数据加载时，我创建了一个数据表，它从目标表（SQL 服务器）中读取模式并确保它具有相同的列等。
4.  目标表中的 PK 是第 0 列，因此当插入记录时，从第 1 列开始的所有值都会被设置（如前所述，这非常有效。）。我不会更改要添加的项目的行状态。数据表中的PK设置正确，我可以确认这一点。
5.  更新数据时，我将第 0 列（PK 列）设置为我正在更新的记录的值，并将所有列设置为与源数据相同。
6.  对于更新的记录，我在行上调用 AcceptChanges 和 SetModified 以确保（我认为）应用程序调用正确的方法。
7.  DataAdapter 使用命令生成器通过 SelectCommand 和 UpdateCommand 进行设置。

当我运行时，我使用 SQL 分析器对其进行了跟踪，可以看到插入命令正在正确运行，但更新命令根本没有运行，这是问题的症结所在。作为参考，插入表将类似于以下内容

```
PK   Value1    Value 2    Row State
==   ======    =======    =========
124   Test1     Test 2    Added
123   Test3     Test4     Updated 
```

有几点需要注意......

*   我已经通过将要更改的行加载到数据表中，更改一些列字段并运行更新来测试这一点，这很有效。但是，这对我的解决方案来说是不切实际的，因为数据是 HUGE >1Gb，所以我不能简单地将其加载到数据表中而不会对性能造成巨大影响。我正在做的是创建最多 500 行的数据表并运行更新。初始数据加载期间的测试表明，这在内存使用和性能方面是最有效的。每个批次运行后数据表都会被清除。

有人对我在这里出错的地方有任何想法吗？

提前致谢

安德鲁

==========更新===============

以下是创建插入/更新行的代码

```
 private static void AddNewRecordToDataTable(DbDataReader pReader, ref DataTable pUpdateDataTable)
    {

        // create a new row in the table

        DataRow pUpdateRow = pUpdateDataTable.NewRow();

        // loop through each item in the data reader - setting all the columns apart from the PK

        for (int addCount = 0; addCount < pReader.FieldCount; addCount++)
        {
            pUpdateRow[addCount + 1] = pReader[addCount];
        }

        // add the row to the update table

        pUpdateDataTable.Rows.Add(pUpdateRow);

    }

    private static void AddUpdateRecordToDataTable(DbDataReader pReader, int pKeyValue,
                                                   ref DataTable pUpdateDataTable)
    {
        DataRow pUpdateRow = pUpdateDataTable.NewRow();

        // set the first column (PK) to the value passed in

        pUpdateRow[0] = pKeyValue;

        // loop for each row apart from the PK row

        for (int addCount = 0; addCount < pReader.FieldCount; addCount++)
        {
            pUpdateRow[addCount + 1] = pReader[addCount];
        }

        // add the row to the table and then update it

        pUpdateDataTable.Rows.Add(pUpdateRow);
        pUpdateRow.AcceptChanges();
        pUpdateRow.SetModified();
    } 
```

以下代码用于实际执行更新：

```
 updateAdapter.Fill(UpdateTable);
    updateAdapter.Update(UpdateTable);
    UpdateTable.AcceptChanges(); 
```

以下用于创建数据表以确保其具有与源数据相同的字段/数据类型

```
 private static DataTable CreateDataTable(DbDataReader pReader)
    {
        DataTable schemaTable = pReader.GetSchemaTable();
        DataTable resultTable = new DataTable(<tableName>); // edited out personal info
        // loop for each row in the schema table

        try
        {

            foreach (DataRow dataRow in schemaTable.Rows)
            {

                // create a new DataColumn object and set values depending
                // on the current DataRows values

                DataColumn dataColumn = new DataColumn();
                dataColumn.ColumnName = dataRow["ColumnName"].ToString();
                dataColumn.DataType = Type.GetType(dataRow["DataType"].ToString());
                dataColumn.ReadOnly = (bool)dataRow["IsReadOnly"];
                dataColumn.AutoIncrement = (bool)dataRow["IsAutoIncrement"];
                dataColumn.Unique = (bool)dataRow["IsUnique"];

                resultTable.Columns.Add(dataColumn);
            }
        }
        catch (Exception ex)
        {
            message = "Unable to create data table " + ex.Message;
            throw new Exception(message, ex);
        }

        return resultTable;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-14T07:09:15.507

万一有人感兴趣，我确实设法解决了这个问题，但从未设法让数据适配器工作。基本上我所做的如下：

*   创建具有索引的对象列表和字段值列表作为成员
*   读取已更改的行并存储源数据中的值（即，将覆盖对象中当前值的值）。另外我创建了一个逗号分隔的索引列表
*   完成后，我在 sql IN 语句中使用逗号分隔的列表来返回行并将它们加载到我的数据适配器中
*   对于每一个，我对索引运行一个 LINQ 查询并提取新值，更新数据集。这会将行状态设置为已修改
*   然后我运行更新并正确更新行。

这不是最快或最简洁的解决方案，但它确实有效并且允许我批量运行更改。

谢谢

安德鲁

# php - 如何根据我们的意愿更改 opencart 订单电子邮件内容？是否可以？

> ID：11932675
> 
> 赞同：14
> 
> 时间：2012-08-13T10:39:28.027
> 
> 标签：php, html, opencart

我可以更改订单电子邮件的内容，它具体指的是哪个文件？这是对使用###### 进行的在线交易的确认。AuthOnly 交易总计`$171.90`并将处理到您的帐户。

```
Order Number  : 10372    Approval Code : 321321 This content to This

ORDER CONFIRMATION
SUBJECT:
• Your host.com order #XXXXXXX
EMAIL MESSAGE:
• Howdy, (customer name) :
Thank you for ordering from #### We received your order (XXXXXXXX) on (00/00/00). Your work is currently being handled with the utmost care by one of the crew members. We will let you know when it’s on its way! Please visit us again soon.

Your order includes the following item(s):

Description – product
Quantity & Price – 1 @ $29.99
Shipping Method – Standard FREE

Subtotal – $29.99
Sales Tax – $ 2.10

Order Total – $32.09 
```

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-08-13T14:47:51.053

是的，当然这是可能的。您可以通过编辑以下模板文件来修改内容：

```
/catalog/view/theme/default/template/mail/order.tpl 
```

（假设您使用的是默认模板）

但是如果你想修改主题和其他东西，你需要编辑订单模型文件：

```
/catalog/model/checkout/order.php 
```

然后找到

```
$mail->setSubject($subject); 
```

并将 $subject 设置为您想要的任何内容:)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-02-08T08:22:03.940

您可以通过访问以下模型/视图文件来进行更改。

参考文献如下：

1.  ..\catalog\view\theme\default\template\mail\order.tpl（用于发票模板结构或数据更新）

2.  ..\catalog\model\checkout\order.php（检索/发送任何数据值到订单发票模板。）

3.  ..\catalog\language\english\mail\order.php（添加更多语言变量或任何自定义更新。）

希望这是有用的。

谢谢！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-10-14T13:17:00.073

如果您只想更改由链接提供支持，请转到

```
catalog\language\english\mail\order.php 
```

并改变它。

# django - 在 django 中检查具有相同 m2m 关系的对象是否存在？

> ID：11932680
> 
> 赞同：1
> 
> 时间：2012-08-13T10:39:49.557
> 
> 标签：django, django-models, django-queryset

我有一个像这样的模范老师：

```
name = models.CharField(max_length=100,unique=True)
course = models.ManyToManyField(Course) 
```

和课程模型：

```
course_name = models.CharField(max_length=100,unique=True) 
```

在创建 Teacher 对象时，我想确保我创建的新对象不应该与任何其他现有的 Teacher 对象具有相同的课程（m2m 关系）。

例如，如果 Teacher 对象 A 有**English,Maths,History** m2m Course 关系，那么没有新的 Teacher 对象可以有**English,Maths,History**。

**看法**

```
def AddTeacher(request):
    #id's are the courses object id
    id1 = request.POST.get('id1')
    id2 = request.POST.get('id2')
    id3 = request.POST.get('id3')

    Tobject  = Teacher(name="temp")
    Tobject.save()

    for i in [id1,id2,id3]:
        Cobject = Course.objects.get(id=i)
        Tobject.course.add(Cobject )
    Tobject.name = "Teacher"+str(Tobject.id)
    Tobject.save()

    temp = {}
    temp['message'] = "Object created successfully"
    return HttpResponse(json.dumps(temp),mimetype="application/json") 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T17:51:56.100

看起来比较简单。只需查询具有 中指定的所有课程 ID 的教师，`request.POST`如果有任何结果则保释：

```
def AddTeacher(request):
    #id's are the courses object id
    id1 = request.POST.get('id1')
    id2 = request.POST.get('id2')
    id3 = request.POST.get('id3')

    if Teacher.objects.filter(course=id1).filter(course=id2).filter(course=id3).count() > 0:
        return HttpResponseForbidden("Can't add a teacher with these courses; one already exists")

    # ... function continues 
```

这解决了您问题中的确切情况；如果您想处理指定课程是现有教师课程的子集的情况（例如，如果您决定允许添加具有两门课程的教师），则需要更多考虑。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T13:21:55.150

好的，它去

```
def AddTeacher(request):
    #id's are the courses object id
    id1 = request.POST.get('id1')
    id2 = request.POST.get('id2')
    id3 = request.POST.get('id3')

    qs = Teacher.objects.all()

    #Build a dynamic filter query
    qs = reduce(lambda q, c: q.filter(course=c), [c for c in [id1, id2, id3]], qs)

    if qs:
        raise ValueError("A teacher with the selected courses already exists")

    teacher  = Teacher(name="temp")
    teacher.save()

    for i in [id1, id2, id3]:
        course = Course.objects.get(id=i)
        teacher.course.add(course)
    teacher.name = "Teacher"+str(teacher.id)
    teacher.save()

    return HttpResponse(json.dumps({
        'message': 'Object created successfully'
    }), mimetype="application/json") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-19T15:44:35.640

在相关答案中，但不完全适用于这种情况，您可以检查对象是否在 m2m 中：

```
if english_course in teacher.courses.all():
    # already in there :) 
```

我只是认为这是一个很好的方法。

# php - Codeigniter，移动服务器文件夹后出现 PHP 错误

> ID：11932681
> 
> 赞同：0
> 
> 时间：2012-08-13T10:39:50.077
> 
> 标签：php, codeigniter

我试图将我的 codeigniter 服务器文件夹移动到 Amazon EC2 服务器。

我用“tar cvfpz”命令压缩了整个文件并将文件移动到新服务器。

我使用“tar xvfpz”命令解压缩。

我的新服务器设置很好，但我收到此错误。

```
A PHP Error was encountered

Severity: Warning

Message: Cannot modify header information - headers already sent by (output started at /home/playmobs/_application/controllers/home.php:188)

Filename: core/Common.php

Line Number: 442

404 Page Not Found

The page you requested was not found. 
```

我检查了数据库配置文件和所有其他配置文件。

他们都对新服务器有正确的命令。

你能明白为什么我会看到这个错误吗？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T14:57:36.413

您收到此错误，因为您可能在发送标头之前发送了输出。此错误可能有很多原因。

这是一个记录良好的解决方案：[How to fix "Headers already sent" error in PHP](https://stackoverflow.com/questions/8028957/headers-already-sent-by-php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-14T09:28:35.080

我解决了这个问题。

原因是我搬到了新服务器，没有打开 PHP 快捷命令。

我的代码是这样的。

```
<? -----  ?> 
```

新服务器 php 无法识别这个。

# php - 在选择性子域中使用相同的 cookie

> ID：11932683
> 
> 赞同：7
> 
> 时间：2012-08-13T10:39:56.393
> 
> 标签：php, cookies, session-cookies

我一直在尝试找到一种跨多个子域共享 cookie 的方法。

像这样设置cookie：

```
setcookie('token', base64_encode(serialize($token)), time()+10800, '/', '.mydomain.com'); 
```

正是这样做的。但是这里有一个小问题。这将在所有子域之间共享 cookie。

我的问题是我在 2 个子域上设置了其他环境（开发和测试）。我正在寻找一种在“选择性”子域之间共享 cookie 的方法。即在某些子域之间共享，而不是在其他子域中共享。我不确定是否存在这样的事情。

任何帮助表示赞赏。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-14T15:46:48.990

据我所知，您可以使用“.mydomain.com”（正如您所做的那样）在所有子域之间共享，或者您必须具体并仅使用一个子域，例如“test.mydomain.com” .

您还可以使用一些技巧或解决方法，例如为 cookie 名称添加前缀，然后执行逻辑服务器端，但我不确定这是否是您正在寻找的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-18T02:05:27.863

在对它进行了很多思考和研究并阅读了上面发布的所有有价值的评论之后，我想没有直接的解决方案。

我本可以采用 Adrien Hingert 提供的解决方案，但这意味着每次用户进来时都要进行额外的检查。

我想我别无选择，只能将我的开发和测试环境移动到另一个域。

非常感谢你们所有人的想法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-06T14:42:23.913

该属性`domain=.example.com`专门使所有子域都可以使用 cookie。只需删除该属性，cookie 就只能由设置它的子域读取。

就这么容易。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2022-01-03T08:11:58.563

在我的开发计划中，节目和 UI 都出现了类似的问题。在这里撞了我的头之后，那里很明显。

让我们分解一下，有一个来自特定域的**setter** aka php 脚本，并且有一个**sender** aka browser，它在每次从浏览器到域的调用时发送 cookie。

我们还知道，一旦 php 脚本完成处理，它就会失去与浏览器的连接，并为每个说的新调用打开线程。

然而，Broswer 使用 cookie 的到期日期来确定哪些内容要保存在缓存中，哪些内容不应该保存在缓存中。基于什么保持它kees将数据耦合到每个调用。

我们打算做的是让脚本告诉浏览器将 cokkie 发送到哪个域以及不将 cookie 发送到哪个域。

规范说只有作为设置者的域才会从发送者那里接收 cookie。如果不是这样，那我们就麻烦大了。巨大的黑客网关在这里和那里泛滥。

基于上面的 virture 的 php cookie 函数只执行一个操作是的，我们可以在这里和那里正则表达式位，它只执行单个操作。

例如

```
setcookie('token', base64_encode(serialize($token)), time()+10800, '/', 'mydomain.com'); 
```

以上代码仅按照功能输出规则执行一组指令。函数不能同时输出两个输出。

```
setcookie('token', base64_encode(serialize($token)), time()+10800, '/', '.mydomain.com'); 
```

第二个代码也执行单输出，即使 **“.mydomain.com”**是浏览器的单输出指令。是浏览器解释如何处理它而不是 php 代码。

现在，如果我们需要非常谨慎，我们要么必须执行两个功能性放置，例如

```
setcookie('token', base64_encode(serialize($token)), time()+10800, '/', 'dev.mydomain.com');

setcookie('token', base64_encode(serialize($token)), time()+10800, '/', 'prod.mydomain.com'); 
```

上面的代码将运行两个单独的指令，并将cookies限制在选择性域中，浏览器也是如此。

如果我们使用 reklative`setcookie('token', base64_encode(serialize($token)), time()+10800, '/', '.mydomain.com');`那么浏览器会将它用作通配符，老实说浏览器不知道它是选择性的还是 wikd 卡。

因此，唯一的选择是，它有它的优点，我们需要重新编排我们的业务逻辑，而不仅仅是依赖通配符或通用单一输出。即使有一个函数，它也会运行各种逻辑。

```
 function newCookie ($name,$value = "",$expires = 0,$path = "/",$domain = "",$secure = false,$httponly = false){

    if (is_array($domain) && sizeof($domain)>> 0){

    foreach ($domain as $value) { 
        setcookie($name,$value,$expires,$path,$value,$secure,$httponly);
    }

    } else {
    setcookie($name,$value,$expires,$path,$domain,$secure,$httponly);
    }

    };

    newCookie('token', base64_encode(serialize($token_value)), time()+10800, '/', ['prod.mydomain.com', 'dev.mydomain.com']);
 or simply function newCookie ($name,$value = "",$expires = 0,$path = "/",$domain = "",$secure = false,$httponly = false){

if (is_array($domain) && sizeof($domain)>> 0){

foreach ($domain as $value) { 
    setcookie($name,$value,$expires,$path,$value,$secure,$httponly);
}

} else {
setcookie($name,$value,$expires,$path,$domain,$secure,$httponly);
}

    };

    newCookie('token', base64_encode(serialize($token_value)), time()+10800, '/', 'dev.mydomain.com'); 
```

底线是必须更新您的业务逻辑，如上例所示，只需执行一次，它应该可以正常工作，并且浏览器会准确地知道该做什么。

# php - 根据php中的键递归搜索数组

> ID：11932684
> 
> 赞同：-1
> 
> 时间：2012-08-13T10:40:06.433
> 
> 标签：php, regex, arrays, cakephp

我需要一个 php 函数，它将根据我提供的键递归搜索数组。并希望获得一个数组作为返回输出，其中包含与搜索键映射的所有值。

例如：

```
[Case] => Array
    (
        [0] => Array
            (
                [CASE_ID] => 2233
                [CHECK_ID] => 57
                [CLIENT_ID] => 78
            )
        [2] => Array
            (
                [CASE_ID] => 9542
                [CHECK_ID] => 45
                [CLIENT_ID] => 18
            )
     ) 
```

如果我要传递这个数组和键`CHECK_ID`，那么它应该返回一个包含`57,45`. 请询问您是否需要更多解释。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T11:06:18.870

遍历数组并将找到的键放入新的键中：

```
function find_matches($array, $value) {
    $found = array();
    array_walk_recursive($array,
        function ($item, $key) use ($value, &$found) {
            if ($value === $key) {
                $found[] = $item;
            }
        }
    );
    return $found;
} 
```

见[http://codepad.viper-7.com/dVmYOT](http://codepad.viper-7.com/dVmYOT)

您是否也考虑过使用带有条件限制[的 find('list') ？](http://book.cakephp.org/2.0/en/models/retrieving-your-data.html#find-list)`fields`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T13:28:19.740

只需检查每个元素，根据键过滤，将结果转换为数组：

```
$filter = function($c, $key) {
    return $key === 'CHECK_ID';
};
$filtered = new CallbackFilterIterator(
    new RecursiveIteratorIterator(
        new RecursiveArrayIterator($array)
    ),
    $filter
);
var_dump(iterator_to_array($filtered, false)); 
```

结果：

```
array(2) {
  [0] =>
  int(57)
  [1] =>
  int(45)
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-13T10:44:27.537

```
function array_rfind($find, $arr) {
  $found = array();
  foreach($arr as $key => $val) {
    if($key == $find)
      $found[] = $val;
    elseif(is_array($val))
      $found = array_merge($found, array_rfind($find, $val));
  }
  return $found;
} 
```

# linux - 如何通过我大学的 squid 代理服务器更新 ubuntu 12.04？

> ID：11932687
> 
> 赞同：1
> 
> 时间：2012-08-13T10:40:21.807
> 
> 标签：linux, networking

我希望使用存储库中所做的最新更改来更新本地包索引，并使用以下命令：

```
 sudo apt-get update 
```

执行此命令时，我收到几条错误消息，如下所示：

```
 W: Failed to fetch http://us.archive.ubuntu.com/ubuntu/dists/precise-backports/multiverse/binary-i386/Packages  407  Proxy Authentication Required 
```

为了尝试解决此问题，我所做的如下：

打开终端和文件

```
/etc/bash.bashrsc

sudo gedit /etc/bash.bashrc 
```

并在文件底部添加这两行：

```
export http_proxy=http://user:password@host:port/
export ftp_proxy=http://user:pass@host:port/ 
```

但是它仍然对我不起作用，并且出现同样的错误。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T13:31:40.057

为了易于工作

```
 sudo gedit /etc/apt/apt.conf 
```

然后添加

```
 Acquire::http::Proxy "http://username:password@proxyhost:port/"; 
```

应严格遵守语法

如果我们的密码或用户名（我不知道）中包含“@”，这可能会失败。

我们也可以在那里为其他协议（如 ftp 等）添加代理..

# java - 没有堆栈跟踪的 JXErrorPane

> ID：11932689
> 
> 赞同：1
> 
> 时间：2012-08-13T10:40:40.110
> 
> 标签：java, exception, swingx

在寻找显示错误的简单方法时，我发现了 SwingX

目前我正在使用

`JXErrorPane.showDialog(null, new ErrorInfo("Error", e.getMessage(), null, null, exception, ErrorLevel.SEVERE, null));`

结果如下：http: [//i.imgur.com/JKeF4.png](http://i.imgur.com/JKeF4.png)

我真的很喜欢它的外观，但我不想显示堆栈跟踪。我试过传递 null 而不是异常，但这样我就没有得到详细信息。

有什么办法可以省略堆栈跟踪吗？（像这样：http: [//i.imgur.com/kObaH.png](http://i.imgur.com/kObaH.png)）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T11:27:28.993

如果您不喜欢自动构建的详细信息消息（由 BasicErrorPaneUI 构建，请查看它的 getDetailsAsHtml），您可以传入一个自定义消息，例如：

```
 Exception e = new NullPointerException("something ...");
    // copied from BasicErrorPaneUI
    StringBuffer html = new StringBuffer("<html>");
    html.append("<h2>" + "Error" + "</h2>");
    html.append("<HR size='1' noshade>");
    html.append("<div></div>");
    html.append("<b>Message:</b>");
    html.append("<pre>");
    html.append("    " + e.toString());
    html.append("</pre>");
    html.append("<b>Level:</b>");
    html.append("<pre>");
    html.append("    " + ErrorLevel.SEVERE);
    html.append("</pre>");
    html.append("</html>");

    ErrorInfo errorInfo = new ErrorInfo("Error", e.getMessage(), 
            html.toString(), null, e, ErrorLevel.SEVERE, null);
    JXErrorPane.showDialog(null, errorInfo); 
```

如果您想更频繁地这样做，我建议您使用自定义 ErrorInfo 子类

# android - 使用大图像时出现 OutOfMemoryException

> ID：11932695
> 
> 赞同：-5
> 
> 时间：2012-08-13T10:41:10.670
> 
> 标签：android, image, out-of-memory

我试图从我的 android 应用程序在 Facebook 墙上发布图像。为此，我从布局创建了一个位图。这是我的代码

```
 System.gc();
            Bitmap bitmap = Bitmap.createBitmap(
                    view.getMeasuredWidth(),
                    view.getMeasuredHeight(),
                    Bitmap.Config.ARGB_8888);
            Canvas canvas = new Canvas(bitmap);
            Drawable bgDrawable = newLinearLayout.getBackground();
            if (bgDrawable != null)
                bgDrawable.draw(canvas);
            else
                canvas.drawColor(Color.WHITE);
            view.draw(canvas);
            Matrix matrix = new Matrix();
            // resize the bit map
            matrix.postScale(1.0f, 1.0f);

            // recreate the new Bitmap
            Bitmap resizedBitmap = null;
            resizedBitmap = Bitmap.createBitmap(bitmap, 0, 0,
                    bitmap.getWidth(), bitmap.getHeight(), matrix, true);
            //Canvas resizedCanvas = new Canvas(resizedBitmap);

            if (bitmap != null) {
                ByteArrayOutputStream baos = new ByteArrayOutputStream();
                resizedBitmap.compress(Bitmap.CompressFormat.PNG, 100, baos);
                Bundle parameters = new Bundle();
                byte[] data = baos.toByteArray();
                parameters.putByteArray("picture", data);
                DataKeeper.getInstance().setBundleToPost(parameters);

            }
            bitmap.recycle(); 
```

它显示**OutOfMemory 异常**。我知道这是由于图像大小超出了其可用大小。如何**在不损失质量的情况下调整图像大小**？我尝试使用**BitmapFactory.Options**更正此问题。但不起作用。如何解决这个异常？

问候阿莎

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:44:49.823

用这个 ：

```
BitmapFactory.Options options=new BitmapFactory.Options();
options.inSampleSize = 8;
Bitmap preview_bitmap=BitmapFactory.decodeStream(is,null,options); 
```

有关更多详细信息，请参阅此链接

[关联](https://stackoverflow.com/questions/477572/android-strange-out-of-memory-issue-while-loading-an-image-to-a-bitmap-object/823966#823966)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T11:57:02.280

请查看本教程并下载示例项目。这将解决您的问题

[http://developer.sonymobile.com/wp/2011/06/27/how-to-scale-images-for-your-android%E2%84%A2-application/](http://developer.sonymobile.com/wp/2011/06/27/how-to-scale-images-for-your-android%E2%84%A2-application/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T10:53:06.093

@Zaz Gmy 的想法是正确的，
但是我不认为`inSampleSize`每个图像的值都应该是恒定的（8）。

这当然会起作用，但是在相同的比例因子 = 8 上缩放具有不同分辨率的不同图像会导致一些图像的质量明显下降。

相反，`inSimpleSize`应该根据目标`width`和`height`图像生成。

[Android 文档](http://developer.android.com/training/displaying-bitmaps/load-bitmap.html)提供了一篇关于如何处理此问题的好文章。

# jquery - Json Help，需要根据选中的下拉填充

> ID：11932698
> 
> 赞同：0
> 
> 时间：2012-08-13T10:41:21.730
> 
> 标签：jquery, json

我想根据选择的下拉列表获取数据

在这里我正在制作交易声明，用户必须在其中输入起始日期和结束日期，在此基础上将填充中间数据。

我在某个时候卡住了，不知道如何解决。

这是[链接](http://jsfiddle.net/jatin/CvHta/30/)

```
http://jsfiddle.net/jatin/CvHta/30/ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T11:12:25.313

```
 $.each(frmSerialize, function(fk, fv) {
                if (fk % 2 === 0) {
                    monthVal = fv;
                // console.log(monthVal);
                } 
                else {
                    yearVal = fv;
                // console.log(yearVal);
                }

                $.each(myJsonData, function(tk, tv) {
                    //console.log(tk);
                    $.each(tv, function(yk, yv) {
                        //console.log(yk +' '+ yv);
                        $.each(yv, function(mk, mv) {
                            // console.log("asd");
                            if (yearVal == yk) {

                                $('#result').append(fv + ' ' + yk + ' to ' + mk + ' ' + mv + '<br />');
                                console.log(yk + ' ' + mk + ' ' + mv);
                            }
                        });
                    });
                });
            }); 
```

正如我从上面所了解的那样，在 frmSerialize 中，您有要测试的约束（从日期和到日期），并且您正在循环使用这个......不好的做法......不仅在 JavaScript 中......这不是基本的编码实践......

要以简单的方式纠正此问题...为 JSON 数据运行每个...为每个数据测试 frmSerialize 数组...

# php - Facebook 喜欢服务器错误 500

> ID：11932700
> 
> 赞同：0
> 
> 时间：2012-08-13T10:41:31.900
> 
> 标签：php, yii, facebook-like

我想在我网站的一个页面上添加一个 Facebook 喜欢按钮。但是，我被这个服务器错误 500 所困扰。你看，当我点击 Facebook like 插件时，它会打开 facebook 登录框。我输入我的登录凭据，然后登录框消失，它会在页面上的“赞”按钮下方暂时显示我的 FB 个人资料图像。然后图像消失，并显示一个“确认”框，单击该框时会显示此 Server 500 错误。

下面是我尝试过的代码（并且都失败了）

1) 紧跟在下方`<body>`

```
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script> 
```

放置在我希望显示 Flike 按钮的位置。

```
 <div class="fb-like" data-send="true" data-width="450" data-show-faces="true"></div> 
```

2) `<iframe src="https://www.facebook.com/plugins/like.php?href=MY_URL_HERE" scrolling="no" frameborder="0" style="border:none; width:450px; height:80px"></iframe>`

我为此搜索了很多，但在我找到这个之前仍然无济于事 - [http://mashable.com/2010/06/01/facebook-like-button-broken/](http://mashable.com/2010/06/01/facebook-like-button-broken/)

谁能告诉我这里有什么问题？如果这是一个重复的问题，请在此处将其与正确的问题相关联。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T11:17:38.040

道歉，因为这是一个非常晚的回应。既然你已经用 标记了你的问题`yii`，让我试着给你一个 YII 替代方案。

[http://www.yiiframework.com/extension/faceplugs/](http://www.yiiframework.com/extension/faceplugs/) - 这是一个使用开放图形协议和 JavaScript SDK 的 Facebook 插件包装器。

在上面的页面中，将 FB like 按钮插入为 -

```
$this->widget('ext.faceplugs.LikeButton', array(
   'url' => $this->createAbsoluteUrl('/'),
   'og' => $og,
   'layout' => 'button_count',
   'action' => 'recommend',
   'colorscheme' => 'dark',
)); 
```

其中，打开的图形属性使用`$og`数组传递给插件。

试试这个，让我知道它是否适合你。

# css - 表格布局：固定自动宽度

> ID：11932701
> 
> 赞同：0
> 
> 时间：2012-08-13T10:41:40.933
> 
> 标签：css, word-wrap, tablelayout

我有一个代码显示在这里：http: [//jsfiddle.net/db4XL/](http://jsfiddle.net/db4XL/) table-layout:fixed 似乎将子元素分成两个 50% 的宽度。有没有办法让 div.number 宽度自动？请查看此图像以了解我想要实现的目标：

![在此处输入图像描述](../Images/da1eeccfed0c0c19cc34744102fefa0a.png)

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T11:59:03.400

这是不可能的。如果您希望表格单元格根据内容调整大小，以便将左侧单元格拆分为大约 30%，那么您必须**使用**百分比。这是一个有效的jfiddle：

[http://jsfiddle.net/db4XL/7/](http://jsfiddle.net/db4XL/7/)

你所要求的只是不可能的。在所有单元格上使用 auto 属性的表格的标准行为是将其平均划分。

# sql - SQL 如何将 2 个查询合二为一

> ID：11932713
> 
> 赞同：1
> 
> 时间：2012-08-13T10:42:15.773
> 
> 标签：sql, sql-server-2008

我有 2 个查询返回与贸易债务人有关的结果。第一个为所有贸易债务人每月返回金额，而第二个在 30 天后为所有贸易债务人每月返回金额。

第一次查询

```
SELECT  T2.Name AS Period, 
        SUM(T1.LineTotal) AS CurrentAmount, 
        MAX(T0.DocRate) AS ExchangeRate 
FROM    OINV T0 INNER JOIN 
        INV1 T1 ON T0.DocEntry = T1.DocEntry  INNER JOIN 
        dbo.OFPR AS t2 ON T1.FinncPriod = T2.AbsEntry  
WHERE   T0.DocStatus = 'O' AND t0.DocDate BETWEEN '2007-01-01' AND '2007-12-01'
GROUP BY    T2.Name 
```

第二次查询

```
SELECT  T2.Name AS Period, 
        SUM(T1.LineTotal) AS NonCurrentAmount,         
        MAX(T0.DocRate) AS ExchangeRate 
FROM    OINV T0 INNER JOIN 
        INV1 T1 ON T0.DocEntry = T1.DocEntry  INNER JOIN 
        dbo.OFPR AS t2 ON T1.FinncPriod = T2.AbsEntry  
WHERE   T0.DocStatus = 'O' AND DATEDIFF(day,t0.DocDate,t0.DocDueDate)>30 
        AND t0.DocDate BETWEEN '2007-01-01' AND '2007-12-01' 
GROUP BY    T2.Name 
```

如何将上面的 2 个查询合并为一个，以便生成的查询将返回 4 列的结果；`Period, CurrentAmount, NonCurrentAmount and exchange rate.`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:45:34.790

您可以将`where`子句中的差异移到`case`语句中：

```
SELECT  T2.Name AS Period, 
        SUM(T1.LineTotal) AS CurrentAmount, 
        MAX(T0.DocRate) AS ExchangeRate1, 
        SUM(case when DATEDIFF(day,t0.DocDate,t0.DocDueDate) > 30
            then T1.LineTotal end) AS NonCurrentAmount,         
        MAX(case when DATEDIFF(day,t0.DocDate,t0.DocDueDate) > 30
            then T0.DocRate end) AS ExchangeRate2
FROM    OINV T0
JOIN    INV1 T1 
ON      T0.DocEntry = T1.DocEntry 
JOIN    dbo.OFPR AS t2 ON T1.FinncPriod = T2.AbsEntry  
WHERE   T0.DocStatus = 'O'
        AND t0.DocDate BETWEEN '2007-01-01' AND '2007-12-01'
GROUP BY
        T2.Name 
```

# android - 无法在模拟器上午餐 android 项目

> ID：11932723
> 
> 赞同：-1
> 
> 时间：2012-08-13T10:42:49.913
> 
> 标签：android, eclipse, android-emulator

现在我正在尝试在屏幕上显示一些文本，但我的项目没有启动，我找不到准确的原因。有人遇到过这种情况吗？

***在这里，我已经详细地为您提供了所有内容供您参考。请在下面找到***

**LOGCAT**

```
08-13 16:02:58.823: D/AndroidRuntime(336): >>>>>>>>>>>>>> AndroidRuntime START <<<<<<<<<<<<<<
08-13 16:02:58.823: D/AndroidRuntime(336): CheckJNI is ON
08-13 16:02:58.953: D/AndroidRuntime(336): --- registering native functions ---
08-13 16:02:59.483: D/AndroidRuntime(336): Shutting down VM
08-13 16:02:59.483: D/dalvikvm(336): Debugger has detached; object registry had 1 entries
08-13 16:02:59.522: I/AndroidRuntime(336): NOTE: attach of thread 'Binder Thread #3' failed 
```

**安慰**

```
[2012-08-13 15:50:55 - print_testing] ------------------------------
[2012-08-13 15:50:55 - print_testing] Android Launch!
[2012-08-13 15:50:55 - print_testing] adb is running normally.
[2012-08-13 15:50:55 - print_testing] No Launcher activity found!
[2012-08-13 15:50:55 - print_testing] The launch will only sync the application package on the device!
[2012-08-13 15:50:55 - print_testing] Performing sync
[2012-08-13 15:50:55 - print_testing] Automatic Target Mode: using existing emulator 'emulator-5554' running compatible AVD 'Android22-API-8'
[2012-08-13 15:50:56 - print_testing] Application already deployed. No need to reinstall.
[2012-08-13 15:50:56 - print_testing] \print_testing\bin\print_testing.apk installed on device
[2012-08-13 15:50:56 - print_testing] Done! 
```

**显示活动.java**

```
public class DisplayActivity extends Activity
{   
EditText edt1,edt2;
Button btn;

@Override
public void onCreate(Bundle savedInstanceState) 
{

super.onCreate(savedInstanceState);
setContentView(R.layout.main1);

edt1 = (EditText)findViewById(R.id.editText1); 
edt2 = (EditText)findViewById(R.id.editText2);

Button btn = (Button)findViewById(R.id.button1);
btn.setOnClickListener(new View.OnClickListener() 

{

@Override
public void onClick(View v) 
{

if(edt1.getText().toString().equals("4545"))
{

String newLine = System.getProperty("line.separator");
System.out.println("Student name : Karan" + newLine + "Total no of Working days : 25" 
+ newLine +"Total no of present days : 23 " + newLine + "Total no of Absent days : 2");
        }
    }
});
 }
} 
```

**AndroidManifest.XML**

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.print.testing"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"  android:targetSdkVersion="15" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name">
    <activity
        android:name=".DisplayActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN1" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>

    </activity>
</application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:47:35.600

检查您的 AndroidManifest.xml 。它不是

```
<action android:name="android.intent.action.MAIN1" /> 
```

它应该是

```
<action android:name="android.intent.action.MAIN" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T11:01:12.873

你的 AndroidManifest.xml 文件应该包含这个而不是 "MAIN1" main is action not a xml

# php - 如何在 preg_match_all php 中获取组的值？

> ID：11932725
> 
> 赞同：1
> 
> 时间：2012-08-13T10:42:58.603
> 
> 标签：php, preg-match, preg-match-all

**你好，我的模式是：**

```
'<span\s+id="bodyHolder_newstextDetail_nwstxtPicPane"><a\s+href="(.*)"\s+target="_blank"><img\s+alt="(.*)"\s+title="(.*)"\s+src=\'(.*)\'\s+/>' 
```

**和字符串：**

```
<div class="nwstxtpic">
                        <span id="bodyHolder_newstextDetail_nwstxtPicPane"><a href="xxxxx" target="_blank"><img alt="xxxxx" title="xxxxx" src='xxxxx' /> 
```

**好吧，我用于查找和获取我在 patern 中定义的 4 个组的值的 php 代码是：**

```
$picinfo=preg_match_all('/<span\s+id="bodyHolder_newstextDetail_nwstxtPicPane"><a\s+href="(.*)"\s+target="_blank"><img\s+alt="(.*)"\s+title="(.*)"\s+src=\'(.*)\'\s+/>/',$newscontent,$matches);
foreach ($matches[0] as $match) {
    echo $match;
} 
```

我不知道如何获得这4组的价值

```
href="(.*)"

alt="(.*)"

title="(.*)"

src=\'(.*)\' 
```

请你帮帮我？谢谢你。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-13T11:05:43.813

preg_match_all() 默认按模式顺序返回结果，不太方便。传递 PREG_SET_ORDER 标志，以便以更合乎逻辑的方式排列数据：

```
$newscontent='<span id="bodyHolder_newstextDetail_nwstxtPicPane"><a href="xxxxx" target="_blank"><img alt="xxxxx" title="xxxxx" src=\'xxxxxbb\' />'; 

$picinfo=preg_match_all('/<span\s+id="bodyHolder_newstextDetail_nwstxtPicPane"><a\s+href="(.*)"\s+target="_blank"><img\s+alt="(.*)"\s+title="(.*)"\s+src=\'(.*)\'\s+\/>/',$newscontent,$matches,PREG_SET_ORDER);
foreach ($matches as $match) {
    $href = $match[1];
    $alt = $match[2];
    $title = $match[3];
    $src = $match[4];
    echo $title;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T11:03:22.067

[正如手册](http://php.net/manual/en/function.preg-match-all.php)所说，您的 RegEx 是正确的，默认情况下`PREG_PATTERN_ORDER`遵循哪个命令结果，因此这`$matches[0]`是一个完整模式匹配的数组，`$matches[1]`是一个与第一个带括号的子模式匹配的字符串数组，依此类推。

因此，在您的情况下， $matches [1](http://php.net/manual/en/function.preg-match-all.php)将包含 href， $matches [2](https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags)将包含 alt 等等。喜欢，

```
for($i = 0; $i <= count($matches[0]); $i++ )
     echo "href = {$matches[1][$i]}, alt = {$matches[2][$i]}"; 
```

`$matches[0]`将包含完全匹配的字符串。

顺便说一句，总是建议使用 XML 解析器，试试 DOMDocument。[强制性的](https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags)。

# javascript - 如何将 Perl 数组传递给 JavaScript 函数？

> ID：11932726
> 
> 赞同：-1
> 
> 时间：2012-08-13T10:43:00.573
> 
> 标签：javascript, perl

我想将在 Perl 中动态创建的数组传递给 JavaScript 函数。我不想逐个元素地传递它。如何在 JavaScript 函数中处理它？

```
my @perlArray;
<input type='button' onClick=call_me(perlArray) > 
```

JavaScript：

```
function call_me(PassedArray){

#process the array

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:45:56.223

用于[`JSON::XS`](http://p3rl.org/JSON%3a%3aXS)序列化数组并在 JS 函数调用的括号之间打印结果字符串，使用任何合适的模块（如 ）将其转义为 HTML `HTML::Entities`。

# python - 如何按值对 Python 字典进行排序？

> ID：11932729
> 
> 赞同：33
> 
> 时间：2012-08-13T10:43:04.830
> 
> 标签：python, sorting

> **可能重复：**
> [在 Python 中，如何按字典的值对字典列表进行排序？](https://stackoverflow.com/questions/72899/in-python-how-do-i-sort-a-list-of-dictionaries-by-values-of-the-dictionary)
> [根据嵌套字典值对 Python 字典进行排序](https://stackoverflow.com/questions/11753660/sorting-python-dictionary-based-on-nested-dictionary-values)

我有如下形式的字典：

```
a_dict = { 'e': (1, 100), 'a': (2, 3) } 
```

我无法按元组的第二个元素对其进行排序。结果字典将如下所示：

```
a_dict = { 'a': (2, 3), 'e': (1, 100) } 
```

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-08-13T11:00:00.507

字典不能这样排序，但您可以对其内容进行排序：

```
sorted(a_dict.items(), key=lambda (k, (v1, v2)): v2)
sorted(a_dict.items(), key=lambda item: item[1][1])    # Python 3 
```

您可以将结果放入[`collections.OrderedDict`](http://docs.python.org/dev/library/collections.html#collections.OrderedDict)（从 2.7 开始）：

```
OrderedDict(sorted(a_dict.items(), key=lambda (k, (v1, v2)): v2))
OrderedDict(sorted(a_dict.items(), key=lambda item: item[1][1])    # Python 3 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:55:24.900

在您的示例中，您使用**的是字典列表**。按键排序字典：

```
mydict = {'carl':40,
          'alan':2,
          'bob':1,
          'danny':3}

for key in sorted(mydict.iterkeys()):
    print "%s: %s" % (key, mydict[key])

alan: 2
bob: 1
carl: 40
danny: 3 
```

如果要按值对字典进行排序，请参阅[如何按值对字典进行排序？](https://stackoverflow.com/questions/613183/python-sort-a-dictionary-by-value)

# javascript - 如何使用 google-api-javascript-client 或“Contacts API version 3.0”从 gmail 导入联系人？

> ID：11932730
> 
> 赞同：6
> 
> 时间：2012-08-13T10:43:06.673
> 
> 标签：javascript, google-contacts-api, google-api-client

我使用 2.0 版的 Contacts API 和 Gdata 库来导入客户的 gmail 信息。此版本不再受支持，我尝试迁移到 V3，但我看到 V3 不支持 Gdata，我花了几天时间尝试修改当前代码以使用 javascript 的“Contacts API 版本 3.0”。

```
 <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Gmail Login</title>
        <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
        <script type="text/javascript" src="http://www.google.com/jsapi"></script>
    </head>
    <body style="margin:0;padding:0;">
        <img src="/images/templates.png" style="display:none;"/>
        <script type="text/javascript">
            google.load("gdata", "2.s");
            google.setOnLoadCallback(function (){
                if(window.location.hash=="") {
                    if(!checkLogin()){
                        logMeIn();
                    } else {
                        var feedUrl = "https://www.google.com/m8/feeds/contacts/default/full";
                        query = new google.gdata.contacts.ContactQuery(feedUrl);
                        query.setMaxResults(5000);
                        myService = new google.gdata.contacts.ContactsService('exampleCo-exampleApp-1.0');
                        myService.getContactFeed(query, function(result) {
                                document.cookie="g314-scope-0=";
                                    window.opener.parseGmailContacts(result.feed.entry);
                            close();
                            }, function(e){
                                alert(e.cause ? e.cause.statusText : e.message);
                        });
                    }
                }
            });
            function logMeIn() {
                scope = "https://www.google.com/m8/feeds";
                var token = google.accounts.user.login(scope);
            }
            function logMeOut() {
                google.accounts.user.logout();
            }
            function checkLogin(){
                scope = "https://www.google.com/m8/feeds/";
                var token = google.accounts.user.checkLogin(scope);
                return token;
            }
        </script>
    </body>
    </html> 
```

Google Contacts API 3.0 版是否支持 javascript 客户端或 gdata 库？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-08T23:04:43.260

```
var authParams = gapi.auth.getToken() // from Google oAuth

authParams.alt = 'json';

$.ajax({
  url: 'https://www.google.com/m8/feeds/contacts/default/full',
  dataType: 'jsonp',
  data: authParams,
  success: function(data) { console.log(data); }
}); 
```

基本上只需将其插入 google api javascript 库中提供的 authSample.html -- [https://code.google.com/p/google-api-javascript-client/](https://code.google.com/p/google-api-javascript-client/)

# c - 写一个语句，它看到一个变量在 C 中保存的值附近

> ID：11932731
> 
> 赞同：-2
> 
> 时间：2012-08-13T10:43:11.577
> 
> 标签：c, variables, microcontroller, mikroc

我想问我如何查看读取的值是否接近保存在常量中的值。是否有特定的声明或有什么方法可以做到这一点。
等待您的回复。

问候
萨利克·萨德鲁丁·梅拉尼

例子：

```
//Here is what I mean
if ( a is near to b){
then do this
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:47:51.933

```
if( ( a>(b*0.98) ) && ( a<(b*1.02) ) )
{
    //we have %2 error tolerance here. Bee careful! Dont pass the tol. level.
    //do your work yourself, if you cant find, then ask us. Dont forget
    //to google
 }

if( abs(a-b)<(b*0.02) )
 {

  }

if ( abs((a-b)(a+b))<0.07 )
  {

   }

if(check(a,b))
{

}

if( pre_calculated )
{

 } 
```

# android - 删除android中选项卡之间的空间。

> ID：11932733
> 
> 赞同：1
> 
> 时间：2012-08-13T10:43:17.620
> 
> 标签：android, tabs, space

我正在做一个标签布局。我的问题是我的标签之间有一个小空间。 ![在此处输入图像描述](../Images/885bcd5b5a3ade988061087e2adc66a8.png)

那是我的xml：

```
<TabHost
    android:id="@+id/tabhost"
    android:layout_width="match_parent"
    android:layout_height="0dp"
    android:layout_weight="0.8" >

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical" >

        <TabWidget
            android:id="@android:id/tabs"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:dividerPadding="0dp"
            android:fitsSystemWindows="true"
            android:gravity="fill"
            android:orientation="horizontal"
            android:showDividers="none"
            android:visibility="visible" />

        <FrameLayout
            android:id="@android:id/tabcontent"
            android:layout_width="match_parent"
            android:layout_height="match_parent" >

            <LinearLayout
                android:id="@+id/left_tab"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:showDividers="none" > 
```

那是我的java代码：

```
public void CreateTabs(ImageView leftI, ImageView rightI, ImageView middleI, TabHost tabH) {
    leftI.setImageDrawable(getResources().getDrawable(R.drawable.btn_tab_news));
    leftI.setScaleType(ScaleType.FIT_XY);
    rightI.setImageDrawable(getResources()
            .getDrawable(R.drawable.btn_tab_calender));
    rightI.setScaleType(ScaleType.FIT_XY);
    middleI.setImageDrawable(getResources()
            .getDrawable(R.drawable.btn_tab_press));
    middleI.setScaleType(ScaleType.FIT_XY);
    tabH.setup();
    TabSpec specs = tabH.newTabSpec("tag1");
    specs.setContent(R.id.right_tab);
    specs.setIndicator(rightI);
    tabH.addTab(specs);
    specs = tabH.newTabSpec("tag2");
    specs.setContent(R.id.middle_tab);
    specs.setIndicator(middleI);
    tabH.addTab(specs);
    specs = tabH.newTabSpec("tag3");
    specs.setContent(R.id.left_tab);
    specs.setIndicator(leftI);
    tabH.addTab(specs);
} 
```

为什么会发生这种情况，我该如何解决？谢谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2016-05-27T11:06:39.220

你需要添加这个：

```
<android.support.design.widget.TabLayout
    app:tabPaddingStart="0dp"
    app:tabPaddingEnd="0dp" /> 
```

# asp.net-mvc - 使用字符串连接显示 0 而不是 null

> ID：11932736
> 
> 赞同：0
> 
> 时间：2012-08-13T10:43:32.103
> 
> 标签：asp.net-mvc, visual-studio-2010

我有一个包含文本框、“搜索”按钮的表单。当用户输入值并单击按钮时，我必须显示搜索详细信息。我必须显示 no.of searchresults: no.of search results I have getting by using array.length; 我想在另一个视图页面中使用这个值。所以我把这个值放在`sessionStorage.setItem("getCount",len);` 我在另一个视图页面中连接这个值，比如：

`Search Results:" + sessionStorage.getItem('getCount') + "`

当用户在表单中输入值时，我得到了搜索结果的数量。但是当用户在表单中没有输入任何值时，在搜索结果中：它显示“null”。但我想显示空的“0”。我怎样才能做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:49:09.663

有很多方法可以完成这项工作。最简单的是检查是否`sessionStorage.getItem('getCount')`为空，如果为空，则返回 0。

这是代码：

`Search Results:" + sessionStorage.getItem('getCount') == null ? "0" : sessionStorage.getItem('getCount')`

# jpa-2.0 - jboss无法部署企业应用项目

> ID：11932738
> 
> 赞同：2
> 
> 时间：2012-08-13T10:43:36.223
> 
> 标签：jpa-2.0, ejb-3.0, jboss7.x, myeclipse

我用 Eclipse 创建了一个企业应用程序项目，其中包含 3 个独立的项目：Test、TestEJB 和 TestWeb，我在 TestEJB 中创建了 Person.java、IPerson.java 和 PersonBean.java

IPerson.java

```
package com.aminpy.test;

import javax.ejb.Local;

@Local
public interface IPerson {
    void createPerson(Person person);
} 
```

人.java

```
package com.aminpy.test;

import java.io.Serializable;

import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;

@Entity
public class Person implements Serializable {
    private static final long serialVersionUID = 1L;
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String firstName;
    private String lastName;

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getFirstName() {
        return firstName;
    }

    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }

    public String getLastName() {
        return lastName;
    }

    public void setLastName(String lastName) {
        this.lastName = lastName;
    }

    @Override
    public String toString() {
        return firstName + " " + lastName;
    }
} 
```

PersonBeen.java 包 com.aminpy.test；

```
import javax.ejb.Stateless;
import javax.persistence.EntityManager;
import javax.persistence.PersistenceContext;

@Stateless
public class PersonBean implements IPerson {
    @PersistenceContext(unitName = "manager1")
    private EntityManager em;

    public PersonBean() {
    }

    @Override
    public void createPerson(Person person) {
        em.persist(person);
    }
} 
```

我在 TestWeb/src 中创建了管理

个人页面.java

```
package com.aminpy.test;

import javax.ejb.EJB;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;

@ManagedBean
@SessionScoped
public class PersonPage {
    private Person person;
    @EJB
    IPerson personBeen;

    public Person getPerson() {
        if (person == null) {
            person = new Person();
        }
        return person;
    }

    public void setPerson(Person person) {
        this.person = person;
    }

    public String btnCreate() {
        personBeen.createPerson(person);
        return null;
    }
} 
```

持久性.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<persistence xmlns="http://java.sun.com/xml/ns/persistence"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/persistence
      http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"
    version="2.0">

    <persistence-unit name="manager1">
        <jta-data-source>java:/PostgresSD</jta-data-source>
        <properties>
            <property name="eclipselink.jdbc.driver" value="org.postgresql.Driver" />
            <property name="eclipselink.jdbc.url" value="jdbc:postgresql://localhost:5432/person_db" />
            <property name="eclipselink.jdbc.user" value="aminpy" />
            <property name="eclipselink.jdbc.password" value="postgres" />
            <property name="eclipselink.ddl-generation" value="create-tables" />
            <property name="eclipselink.ddl-generation.output-mode"
                value="database" />
        </properties>
    </persistence-unit>

</persistence> 
```

项目结构

```
/Test
    META-INF
    META-INF/application.xml
    META-INF/MANIFEST.MF
/TestEJB
    src
        com.aminpy.test
            IPerson.java
            Person.java
            PersonBean.java
        META-INF
            MANIFEST.MF
            persistence.xml
/TestWeb
    src
        com.aminpy.test
            PersonPage.java
    WebRoot
        META-INF
            MANIFEST.MF
        WEB-INF
            lib
            faces-config.xml
            web.xml
        index.xhtml 
```

当我运行项目时，我遇到了这个问题

```
WARNING: -logmodule is deprecated. Please use the system property 'java.util.logging.manager' or the 'java.util.logging.LogManager' service loader.
15:02:17,988 INFO  [org.jboss.modules] JBoss Modules version 1.1.1.GA
15:02:18,110 INFO  [org.jboss.msc] JBoss MSC version 1.0.2.GA
15:02:18,145 INFO  [org.jboss.as] JBAS015899: JBoss AS 7.1.1.Final "Brontes" starting
15:02:18,686 INFO  [org.jboss.as.server] JBAS015888: Creating http management service using socket-binding (management-http)
15:02:18,686 INFO  [org.xnio] XNIO Version 3.0.3.GA
15:02:18,696 INFO  [org.xnio.nio] XNIO NIO Implementation Version 3.0.3.GA
15:02:18,704 INFO  [org.jboss.remoting] JBoss Remoting version 3.2.3.GA
15:02:18,710 INFO  [org.jboss.as.logging] JBAS011502: Removing bootstrap log handlers
15:02:18,712 INFO  [org.jboss.as.configadmin] (ServerService Thread Pool -- 26) JBAS016200: Activating ConfigAdmin Subsystem
15:02:18,715 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 31) JBAS010280: Activating Infinispan subsystem.
15:02:18,729 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 44) JBAS013101: Activating Security Subsystem
15:02:18,729 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 38) JBAS011800: Activating Naming Subsystem
15:02:18,732 INFO  [org.jboss.as.osgi] (ServerService Thread Pool -- 39) JBAS011940: Activating OSGi Subsystem
15:02:18,751 INFO  [org.jboss.as.security] (MSC service thread 1-10) JBAS013100: Current PicketBox version=4.0.7.Final
15:02:18,764 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 48) JBAS015537: Activating WebServices Extension
15:02:18,771 INFO  [org.jboss.as.connector] (MSC service thread 1-8) JBAS010408: Starting JCA Subsystem (JBoss IronJacamar 1.0.9.Final)
15:02:18,773 INFO  [org.jboss.as.naming] (MSC service thread 1-4) JBAS011802: Starting Naming Service
15:02:18,779 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-12) JBAS015400: Bound mail session [java:jboss/mail/Default]
15:02:18,813 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 27) JBAS010403: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)
15:02:18,883 INFO  [org.jboss.ws.common.management.AbstractServerConfig] (MSC service thread 1-1) JBoss Web Services - Stack CXF Server 4.0.2.GA
15:02:18,891 INFO  [org.apache.coyote.http11.Http11Protocol] (MSC service thread 1-7) Starting Coyote HTTP/1.1 on http--0_0_0_0_0_0_0_0-8080
15:02:19,077 WARN  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-4) JBAS015005: Reliable deployment behaviour is not possible when auto-deployment of exploded content is enabled (i.e. deployment without use of ".dodeploy"' marker files). Configuration of auto-deployment of exploded content is not recommended in any situation where reliability is desired. Configuring the deployment scanner's auto-deploy-exploded setting to "false" is recommended.
15:02:19,079 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-4) JBAS015012: Started FileSystemDeploymentService for directory /home/aminpy/Workspaces/jboss-as-7.1.1.Final/standalone/deployments
15:02:19,081 INFO  [org.jboss.as.remoting] (MSC service thread 1-2) JBAS017100: Listening on /127.0.0.1:9999
15:02:19,081 INFO  [org.jboss.as.remoting] (MSC service thread 1-11) JBAS017100: Listening on /0:0:0:0:0:0:0:0:4447
15:02:19,092 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) JBAS010400: Bound data source [java:jboss/datasources/ExampleDS]
15:02:19,343 INFO  [org.jboss.as.controller] (Controller Boot Thread) JBAS014774: Service status report
JBAS014775:    New missing/unsatisfied dependencies:
        service jboss.jdbc-driver.postgresql-9_1-902_jdbc4_jar (missing) dependents: [service jboss.data-source.java:/PostgresDS] 

15:02:19,356 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-14) JBAS015876: Starting deployment of "postgresql-9.1-902.jdbc4.jar"
15:02:19,356 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "Test.ear"
15:02:19,396 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015876: Starting deployment of "TestWeb.war"
15:02:19,397 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-13) JBAS015876: Starting deployment of "TestEJB.jar"
15:02:19,431 INFO  [org.jboss.as.jpa] (MSC service thread 1-3) JBAS011401: Read persistence.xml for manager1
15:02:19,469 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-12) JBAS010404: Deploying non-JDBC-compliant driver class org.postgresql.Driver (version 9.1)
15:02:19,482 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-13) JBAS010400: Bound data source [java:/PostgresDS]
15:02:19,491 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-3) JNDI bindings for session bean named PersonBean in deployment unit subdeployment "TestEJB.jar" of deployment "Test.ear" are as follows:

    java:global/Test/TestEJB/PersonBean!com.aminpy.test.IPerson
    java:app/TestEJB/PersonBean!com.aminpy.test.IPerson
    java:module/PersonBean!com.aminpy.test.IPerson
    java:global/Test/TestEJB/PersonBean
    java:app/TestEJB/PersonBean
    java:module/PersonBean

15:02:19,601 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (MSC service thread 1-6) Initializing Mojarra 2.1.7-jbossorg-1 (20120227-1401) for context '/TestWeb'
15:02:20,077 INFO  [org.hibernate.validator.util.Version] (MSC service thread 1-6) Hibernate Validator 4.2.0.Final
15:02:20,172 INFO  [org.jboss.web] (MSC service thread 1-6) JBAS018210: Registering web context: /TestWeb
15:02:20,173 INFO  [org.jboss.as] (MSC service thread 1-2) JBAS015951: Admin console listening on http://127.0.0.1:9990
15:02:20,174 ERROR [org.jboss.as] (MSC service thread 1-2) JBAS015875: JBoss AS 7.1.1.Final "Brontes" started (with errors) in 2339ms - Started 248 of 336 services (4 services failed or missing dependencies, 82 services are passive or on-demand)
15:02:20,374 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) JBAS015871: Deploy of deployment "postgresql-9.1-902.jdbc4.jar" was rolled back with no failure message
15:02:20,376 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) JBAS015870: Deploy of deployment "Test.ear" was rolled back with failure message {"JBAS014771: Services with missing/unavailable dependencies" => ["jboss.persistenceunit.\"Test.ear/TestEJB.jar#manager1\"jboss.naming.context.java.PostgresSDMissing[jboss.persistenceunit.\"Test.ear/TestEJB.jar#manager1\"jboss.naming.context.java.PostgresSD]"]}
15:02:20,399 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-9) JBAS015877: Stopped deployment postgresql-9.1-902.jdbc4.jar in 23ms
15:02:20,402 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-15) JBAS015877: Stopped deployment TestEJB.jar in 26ms
15:02:20,402 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-13) JBAS015877: Stopped deployment TestWeb.war in 26ms
15:02:20,403 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-13) JBAS015877: Stopped deployment Test.ear in 27ms
15:02:20,404 INFO  [org.jboss.as.controller] (DeploymentScanner-threads - 2) JBAS014774: Service status report
JBAS014775:    New missing/unsatisfied dependencies:
        service jboss.naming.context.java.PostgresSD (missing) dependents: [service jboss.persistenceunit."Test.ear/TestEJB.jar#manager1"] 
JBAS014776:    Newly corrected services:
        service jboss.jdbc-driver.postgresql-9_1-902_jdbc4_jar (no longer required)

15:02:20,405 ERROR [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) {"JBAS014653: Composite operation failed and was rolled back. Steps that failed:" => {"Operation step-2" => {"JBAS014771: Services with missing/unavailable dependencies" => ["jboss.persistenceunit.\"Test.ear/TestEJB.jar#manager1\"jboss.naming.context.java.PostgresSDMissing[jboss.persistenceunit.\"Test.ear/TestEJB.jar#manager1\"jboss.naming.context.java.PostgresSD]"]}}}
15:02:20,407 ERROR [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) JBAS014654: Composite operation was rolled back 
```

提前感谢并原谅我的语言能力差:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T12:17:36.420

我的问题是 PostgreSQL 数据源的名称，我使用 PostgresDS JNDI 名称创建了数据源，但我将 PostgresSD 放在了 persistence.xml 中！PostgresDS != PostgresSD :D

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T11:26:37.483

它明确显示您缺少 jar 的错误。

```
service jboss.jdbc-driver.postgresql-9_1-902_jdbc4_jar (missing) dependents: [service jboss.data-source.java:/PostgresDS] 
```

将此 jdbc-connector jar 包含在您的 lib 文件夹中。

# c# - C# 试图覆盖 ShowDialog()

> ID：11932739
> 
> 赞同：4
> 
> 时间：2012-08-13T10:43:51.730
> 
> 标签：c#

我在覆盖、重载等方面非常薄弱，所以我无法处理这个问题。我的问题是这样

我有一个框架对话框。它仅用于显示进程消息、错误消息等。它从日志中获取文本，因此我不需要将变量传递给它。在每个过程之后（在其他表单上），我创建这个表单并调用 rmDialog.ShowDialog()。我的问题是，即使文本为空，此对话框也会打开并且什么也不显示。所以我想覆盖这个 ShowDialog。ShowDialog 返回 DialogResult，所以我真的不知道该怎么做。

```
public override DialogResult ShowDialog(){
    if(this.Text != string.Empty){
    return base.ShowDialog();
    }
    else{
    //don't do anything
    }
} 
```

当有其他人时我会返回什么？我真的无法理解这一点。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-13T10:46:31.607

我个人建议将 ShowDialog 放在 if 语句中，以便仅在文本不为空时触发。

例如

```
if(text is not empty)
{
    //Show dialog
} 
```

这样您就可以避免当前遇到的问题。如果你必须返回一些东西，你可以将 DialogResult 设置为它需要的值 - 例如 OK 或 Cancel。

但是，根据您的评论，我建议您将其放在代码的 else 语句中：

```
else
{
    return base.ShowDialog = "<OK>";
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:51:32.040

而不是覆盖 ShowDialog，您需要更高的东西，以便仅在有一些文本要显示时才构造和显示 frmDialog。

```
public DialogResult ShowMessage(string text)
{
    DialogResult dialogResult = DialogResult.OK;
    if (!string.IsNullOrEmpty(text))
    {
        FrmDialog frmDialog = new FrmDialog(text);
        dialogResult = frmDialog.ShowDialog();
    }
    return dialogResult;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T10:58:27.627

我认为这取决于是否有任何调用者检查对话结果，您在评论中说您有 860 次调用此方法，他们中的任何一个都检查结果吗？如果不是，它返回什么并不重要，只有将来避免WTF才重要？！当您不显示对话框时返回确定。

由于您必须返回某些东西，`DialogResult.None`因此以后可能会最不混乱

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-13T10:48:32.747

else{ 返回 DialogResult.OK; }

# java - 有没有办法识别可反序列化的未知 jms 对象？

> ID：11932741
> 
> 赞同：2
> 
> 时间：2012-08-13T10:44:01.863
> 
> 标签：java, spring, jms, ibm-mq

因此，您在日志中发现了一个异常：

```
Execution of JMS message listener failed, and no ErrorHandler has been set.
com.company.eq.mo.app.exception.DefaultMessageListenerException: Failed to handle message.; nested exception is com.company.eq.mo.app.exception.DefaultMessageListenerException: This message does not contain a recognised java object; nested exception is javax.jms.MessageFormatException: MQJMS1061: Unable to deserialize object the class name to find out anymore info about the message: 
```

该消息是可反序列化的，您无法在运行时获取和打印对象：

```
 Object object = ((ObjectMessage) message).getObject();
                object.getClass(); 
```

因为它不存在于您的类路径中。

还有其他获取类/对象名称的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T13:19:46.067

[您可以为 Java对象序列化流协议](http://docs.oracle.com/javase/7/docs/platform/serialization/spec/protocol.html)实现自己的解析器，但对于大多数实际目的，您确实需要在类路径中提供所有序列化类。

# c# - 将各种数据一起发布的最佳方式（Web API）

> ID：11932745
> 
> 赞同：3
> 
> 时间：2012-08-13T10:44:23.867
> 
> 标签：c#, asp.net, http, post, asp.net-web-api

我正在使用 ASP.NET Web API，并试图找出发布 PictureData 对象实例的最佳方法。

```
public class PictureData
{
    public Stream Data { get; set; }    
    public PictureType Type { get; set; }    
    public string EntityId { get; set; }
} 
```

有没有办法将对象转换为流并作为流发布，或者我应该保留所有属性字符串和整数并将其发布为 JSON？最好的方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T06:38:38.143

将其作为流发布（类似于 application/x-www-form-urlencoded 的表单发布）。[应用程序/x-www-form-urlencoded 还是 multipart/form-data？](https://stackoverflow.com/questions/4007969/application-x-www-form-urlencoded-or-multipart-form-data)建议您应该使用 multipart/form-data 但两者都值得一试。

# php - 是否有任何方法可以将值从 JavaScript 发送到 CodeIgniter 中的控制器？

> ID：11932749
> 
> 赞同：1
> 
> 时间：2012-08-13T10:44:31.743
> 
> 标签：php, javascript, codeigniter

按钮的 OnClick 事件，用户在用户名和密码文本框中输入的值已成功检索到 javaScript 函数中，现在我想将这些值发送到 CodeIgniter 控制器有什么办法吗？？？提前致谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T14:05:20.070

这是我使用 jquery 的方法...非常简单。

```
url: "<?php echo base_url('index.php/site/addItems/'); ?>", 
```

指向控制器中的一个函数

```
 $('#addItem').click(function(){
    var id = $('#id').val();
    var data = {
        item: $('#itemName').val(),
        price: $('#itemPrice').val(),
        id: $('#id').val()
    };
    $.ajax({
        url: "<?php echo base_url('index.php/site/addItems/'); ?>",
        type: "post",
        data: data,
        success: function(msg) {
            $('#items').html(msg);

        }
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:46:02.083

就在这里。看看[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)，[http://api.jquery.com/jQuery.post/](http://api.jquery.com/jQuery.post/)，[http://api.jquery.com/jQuery.get/](http://api.jquery.com/jQuery.get/)

# wordpress - 找不到 Wordpress 自定义分类术语页面

> ID：11932750
> 
> 赞同：3
> 
> 时间：2012-08-13T10:44:32.507
> 
> 标签：wordpress, taxonomy

出于某种原因，当我单击指向分类术语页面的链接时，wordpress 一直显示索引文件并说找不到页面。我有一个带有 slug“贡献者”的页面，该页面使用一个模板显示自定义分类法“贡献者”的条款以及指向其页面的链接，因此我单击该链接并发生错误。

* * *

这是我`functions.php`添加分类的代码：

```
register_taxonomy(
    'contributor',
    'post',
    array(
        'hierarchical' => true,
        'labels' => array( 
             'name' => _x( 'Contributors', 'taxonomy general name' ), 
             'singular_name' => _x( 'Contributor', 'taxonomy singular name' ), 
             'search_items' => __( 'Search Contributors' ), 
             'all_items' => __( 'All Contributors' ), 
             'parent_item' => __( 'Parent Contributor' ), 
             'parent_item_colon' => __( 'Parent Contributor:' ), 
             'edit_item' => __( 'Edit Contributor' ), 
             'update_item' => __( 'Update Contributor' ), 
             'add_new_item' => __( 'Add New Contributor' ), 
             'new_item_name' => __( 'New Contributor Name' ), 
             'menu_name' => __( 'Contributors' ), 
         ),
        'show_tagcloud' => true
    )
); 
```

有谁知道为什么，即使包含一个名为 的文件`taxonomy-contributor.php`，错误仍然会发生？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-13T11:01:07.960

似乎您需要刷新重写才能使其正常工作

```
add_action('init', 'custom_taxonomy_flush_rewrite');
function custom_taxonomy_flush_rewrite() {
    global $wp_rewrite;
    $wp_rewrite->flush_rules();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-07-04T18:16:27.360

我有一个类似的问题。帮助我的是在菜单中包含分类链接后，通过转到设置/永久链接并简单地保存来刷新永久链接。

# php - request.ERROR: Symfony\Component\HttpKernel\Exception\NotFoundHttpException: No route found for "GET /"

> ID：11932756
> 
> 赞同：4
> 
> 时间：2012-08-13T10:45:02.943
> 
> 标签：php, symfony

我已经安装了 Symfony2，在修复文件权限后，我可以从浏览器访问开发环境，方法是将其指向：

`http://localhost/app_dev.php`

但是，当我尝试通过将浏览器指向 来访问生产环境时`http://localhost`，出现以下异常（来自 app/logs/prod.log）：

> [2012-08-13 11:30:03] request.ERROR: Symfony\Component\HttpKernel\Exception\NotFoundHttpException: 在 /path/to/frameworks/Symfony2/app 找不到“GET /”（未捕获的异常）的路由/cache/prod/classes.php 第 4584 行 [] []

然后我从命令行检查了 prod 环境的可用路由。这是该调查的结果。

> root@yourbox:~/path/to/frameworks/Symfony2$ php app/console router:debug -e=prod [router] 当前路由名称方法模式

令人难以置信的是，它表明没有为这个环境定义路由（我不相信错误消息——它本质上说的是同一件事）。

所以，我的结论是：开箱即用 Symfony2 安装，生产环境没有默认路由 - 这是真的，还是我在某个地方犯了错误？

更重要的是，我该如何解决这个问题？在 SF1.x 中，可以直接从 dev 切换到 prod，反之亦然。`AcmeDemo`例如，如何在 prod 环境中查看应用程序。?

**[[更新]]**

在*thecatontheflat*的反馈之后，我在 routing.yml 文件中添加了一个简单的测试路由。app/config/routing.yml 的内容现在是：

```
_welcome2:
    pattern:  /test
    defaults: { _controller: AcmeDemoBundle:Welcome:index } 
```

当我在浏览器中尝试`http://localhost/test`时，我得到了同样的 404 错误。当我调试控制台上可用的路由时，我得到以下输出：

```
root@yourbox:~/path/to/frameworks/Symfony2$ php app/console router:debug -e=prod
[router] Current routes
Name      Method Pattern
_welcome2 ANY    /test 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-12T15:17:35.133

我有同样的问题！！

Symfony2 有两个通用路由文件，称为：

```
app/config/routing.yml and app/config/routing_dev.yml 
```

但是，它在每个包中也有一个特定于包的路由文件。标准过程是在 bundle routing.yml 文件中定义所有的 bundle 路由，然后从主 routing.yml 文件中引用它，添加：

```
YourbundlenameMainBundle:

resource: "@YourbundlenameMainBundle/Resources/config/routing.yml"

prefix:   / 
```

这就是我所拥有的，但我仍然收到错误。但是后来我更仔细地阅读了错误...找不到 GET / 的路由 .... 然后我检查了我的 routing_dev.yml 文件，当然它有一条来自 Acme 演示包 _welcome 路由的 / 路由。这就是为什么它适用于 dev 版本而不适用于 prod 版本的原因！

解决方案：

通过添加以下内容，将 / 的路由添加到您的 routing.yml 全局文件或您的 routing.yml 包文件：

```
_welcome:

pattern:  /

defaults: { _controller: YourbundlenameMainBundle:Default:index } 
```

如果您的欢迎页面不是索引，您可以将索引更改为其他路线

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-15T22:29:59.273

在您确保在任何 routing.yml 中定义了您的 / 路由之后

```
_welcome:
pattern:  /
defaults: { _controller: YourbundlenameMainBundle:Default:index } 
```

**清除您的产品环境缓存！**

```
app/console cache:clear --env=prod 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-12T21:55:42.460

我有同样的问题。这是由于 AppKernel.php 中缺少 bundel 造成的。

有点晚了，但您可以尝试在 web/app.php 中更改这一行：

```
$kernel = new AppKernel('prod', false); 
```

至：

```
$kernel = new AppKernel('prod', true); 
```

这将启用调试，您应该能够找到您的问题。修复后，您将不得不将其改回 false ;)。

希望这可以帮助。

# c - 在 Linux 中使用纯文件实现持久化消息队列

> ID：11932760
> 
> 赞同：0
> 
> 时间：2012-08-13T10:45:27.520
> 
> 标签：c, linux

在这里，我想在 C 编程中实现持久队列。在这里，我想将消息保存到持久队列，然后我想发送它们。如果我的嵌入式设备重新启动并且何时再次启动，那么我也可以从待处理的持久性消息队列中发送消息。

任何人都可以知道我如何实现这一点以及它将如何工作？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:50:40.733

将其存储在一些持久性存储中。

对于您提供的信息，没有什么可以告诉您的了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T14:02:25.717

持久消息是不能丢失的消息，即使代理失败。

持久队列能够将消息写入磁盘，以便在系统关闭或故障时不会丢失。

现在，消息可以是持久的或非持久的，通过持久队列传播。

当发送者向代理发送持久消息时，它会将其路由到接收队列并等待消息写入持久存储，然后再确认传递给实际发送者。如果队列不是持久的，则队列上的消息不会写入磁盘。如果消息不是持久的，即使它在持久队列上，它也不会写入磁盘。

当接收方队列从持久队列中读取消息时，在接收方确认消息之前，不会将其从队列中删除。

现在你必须放入一个日志机制，记录消息和代理在磁盘上的状态。然后你必须以正确的顺序管理消息和日志的缓存。

这是一个关于持久队列应该是什么以及如何编写的简单想法。持久队列被许多专有软件系统使用，如 IBM WebSphere、RedHat 的 MRG 等。请参考他们以获得更多想法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T10:52:50.973

如果您希望它持久，则必须将数据存储在硬盘上。我建议使用[http://www.sqlite.org/](http://www.sqlite.org/)。许多语言都有绑定。

# ios - 两个标签栏项目应该显示相同的 UIViewContoller

> ID：11932761
> 
> 赞同：0
> 
> 时间：2012-08-13T10:45:28.653
> 
> 标签：ios, ios5

我想要的是在我的 UITabBar 中有两个 UITabBarItems （这不是真正的问题......）。

所以通常第一个项目有他自己的 UIViewcontroller，第二个项目有他自己的 UIViewcontroller。但我希望每个 TabBarItem 都显示相同的 UIViewcontroller 实例。（功能几乎相同，这两个视图控制器之间只有一个标签不同）

所以我想我必须在用户推送第二个 tabBarItem 之后立即将最后一个 viewController 推送到 tabBarItemStack 的顶部，对吗？

目前我正在使用带有两个 UIViewcontroller 的 StoaryBoard，所以我真的不知道如何访问 TabBarItemStack 以及从哪里获得用户推送下一个选项卡的通知？

或者我可以在加载第一个视图后更改堆栈并将当前视图推送到堆栈的第二个索引上吗？

希望我能够解释我的问题，以便任何人都能理解；-)

谢谢并恭祝安康，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T11:35:40.517

在这种情况下，我根本不会使用 UITabBar。我会在我的视图控制器中创建一些 GUI 对象，看起来像两个选项卡，但实际上只有 2 个按钮。

当您单击它们时，您会通过更改按钮的图像来切换它们的外观，以便看起来您已经切换了选项卡。但是你总是停留在同一个视图控制器中。您只需更改其中的内容。

然后，您可以通过使用成员变量来跟踪用户选择的“选项卡”类，这样您就知道要显示哪些内容。

当您有未知数量的选项卡并且您不确切知道它们将包含什么时，UITabBar 最有用。很多时候，不使用 UITabBar 和仅使用具有“选项卡式”布局的图像/按钮会容易得多，即使您有多个视图控制器也是如此。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:54:17.043

你能有两个`UIViewController`s （每个一个`UITabBarItem`），但它们都是从第三个（包含所有逻辑）继承（后裔）的。这样您就不会复制代码，也不会对层次结构感到厌烦，这样您可能会引入错误？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T10:54:07.067

在两个 TabBar 中加载相同的 UIViewController。我假设你需要在第一个 tabBar 中隐藏标签并在第二个 tabBar 中显示

现在在 viewWillAppear 方法中添加以下代码：

```
-(void)viewWillAppear:(BOOL)animated
{
   [super viewWillAppear:animated];
   if(self.tabBarController.selectedIndex == 0) 
   {
      yourLabel.hidden = YES;
   }
   else if(self.tabBarController.selectedIndex == 1) 
   {
      yourLabel.hidden = NO;
   }
} 
```

# apache - 如何检测文档中的图像

> ID：11932762
> 
> 赞同：3
> 
> 时间：2012-08-13T10:45:31.650
> 
> 标签：apache, apache-tika

如何检测文档中的图像，例如 doc、xls、ppt 或 pdf ？

我遇到了 Apache Tika，我正在尝试它的命令行选项。 [http://tika.apache.org/1.2/gettingstarted.html](http://tika.apache.org/1.2/gettingstarted.html)

但不太确定它将如何检测图像。

任何帮助表示赞赏。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-14T15:25:58.337

你说过你想使用命令行解决方案，而不是编写任何 Java 代码，所以这不是最漂亮的方法......如果你愿意写一点 Java，并创建一个从 Python 调用的新程序，那么你可以做得更好！

首先要做的是让 Tika App 提取文件中的所有嵌入资源。使用此`--extract`选项，并在您应用控制的特殊临时目录中进行提取，例如

```
$ java -jar tika.jar --extract ../testWORD_embedded_pdf.doc
Extracting 'image1.emf' (application/x-emf)
Extracting '_1402837031.pdf' (application/pdf) 
```

如果可以，请获取提取的输出，然后解析该输出以查找图像（但请注意，某些图像`application/`在其标准 mimetype 上具有前缀！）。您可能需要在几个上运行第二个 --detect 步骤，我不确定，测试解析器如何进行提取。

现在，如果有图像，它们将在您的测试目录中。根据需要处理它们。最后，当你完成文件时，zap 临时目录！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T18:49:53.407

过去使用过 Tika，我~~看不出 Tika 如何帮助处理嵌入在 Office 文档或 PDF 中~~的~~图像~~ Tika 确实使用这两个库来解析文本和元数据，但不支持嵌入式图像。

使用 Tika 使这些 API 自动可用（使用 Tika 的副作用）。

*更新：* 从 Tika 0.8 开始：寻找[EmbeddedResourceHandler](http://tika.apache.org/1.2/api/org/apache/tika/extractor/EmbeddedResourceHandler.html)和示例 - 感谢 Gagravarr。

# ruby-on-rails - NoMethodError 将分页

> ID：11932766
> 
> 赞同：0
> 
> 时间：2012-08-13T10:45:47.340
> 
> 标签：ruby-on-rails

我已经在我的控制器中写了这个：

```
 def index
    @invoices = Invoice.paginate(:page => params[:page], :per_page => 3)
    @invoices = Invoice.all(:select=>"invoices.id, invoices.invoice_name, 
                                     invoices.invoice_number, invoices.invoice_date,
                                     invoices.invoice_sent, invoices.current_eta, 
                                     invoices.invoice_status, invoices.invoice_amount, 
                                     projects.project_name, clients.client_name, 
                                     companies.company_name, currencies.symbol as invoice_symbol", 

    :joins => "left outer join projects on invoices.project_id = projects.id
               left outer join clients on projects.client_id = projects.id
               left outer join currencies on currencies.id = projects.currency_id
               left outer join companies on clients.company_id = companies.id",
    :order =>"invoice_name desc")

    if @invoices.blank?
      flash[:notice] = "There are no Invoices defined. You can create them by clicking 'New Invoice'"
    end
    respond_to do |format|
      format.html # index.html.erb
      format.json { render json: @invoices }
    end
  end 
```

在我的视图文件中，我写了这个：

```
 <div class="digg_pagination">
    <div clas="page_info">
      <%= page_entries_info @invoices %>
    </div>
    <%= will_paginate @invoices, :container => false %>
  </div> 
```

但我收到此错误：

```
NoMethodError in Invoices#index

Showing /home/icicle/work/code/invoiced/app/views/invoices/_list.html.erb where line #59 raised:

undefined method `total_pages' for #<Array:0xbdfb708>

Extracted source (around line #59):

56: </table>
57:   <div class="digg_pagination">
58:     <div clas="page_info">
59:       <%= page_entries_info @invoices %>
60:     </div>
61:     <%= will_paginate @invoices, :container => false %>
62:   </div> 
```

我还尝试更改 will_paginate gem 的版本，但仍然遇到相同的错误。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T10:48:57.440

重命名第二个实例变量，或者代替全部，请使用分页

```
 @invoices = Invoice.paginate(:select=>"invoices.id, invoices.invoice_name, 
                                 invoices.invoice_number, invoices.invoice_date,
                                 invoices.invoice_sent, invoices.current_eta, 
                                 invoices.invoice_status, invoices.invoice_amount, 
                                 projects.project_name, clients.client_name, 
                                 companies.company_name, currencies.symbol as invoice_symbol", 

:joins => "left outer join projects on invoices.project_id = projects.id
           left outer join clients on projects.client_id = projects.id
           left outer join currencies on currencies.id = projects.currency_id
           left outer join companies on clients.company_id = companies.id",
:order =>"invoice_name desc",:page => params[:page], :per_page => 3) 
```

# javascript - D3 或 Rickshaw 中的可缩放、Google-Finance 风格的时间序列图？

> ID：11932767
> 
> 赞同：31
> 
> 时间：2012-08-13T10:45:51.380
> 
> 标签：javascript, graph, charts, d3.js, zooming

我想在 D3 中创建一个时间序列折线图，下面是一个较小版本的图表，允许用户放大图表的某些部分，例如[Google Finance 图表](http://www.google.com/finance?cid=694653)。

我发现的最接近的例子是这个泳道图：

[http://bl.ocks.org/1962173](http://bl.ocks.org/1962173)

有没有人有任何使用 D3 中的折线图执行此操作的示例？

注意：我绝对想要一个小版本的图形，顶部有一个可调整大小的画笔，而不是一个纯粹的可拖动/可缩放的 x 轴，就像[这个例子](http://bl.ocks.org/1179647)。

理想情况下，我想使用[Rickshaw](http://code.shutterstock.com/rickshaw/)，但 Rickshaw 示例[似乎只有一个范围滑块](http://code.shutterstock.com/rickshaw/#range-slider)。所以一个人力车的例子会更好。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-08-16T16:16:37.687

**NVD3**是一个非常酷的项目，它在 D3 上编写了许多**可重复使用的图表。**有关带取景器的折线图示例以及源代码，请参见[此处。](http://nvd3.org/examples/lineWithFocus.html)

![NVD3.js 带取景器的折线图](../Images/90822b6fb82d57f0b604a17ee7d574c7.png)

**更新：** NVD3 示例现在还链接到Mike Bostock（D3 的创建者）的[示例](http://bl.ocks.org/mbostock/1667367)，该示例演示了类似的功能，即缩放/聚焦于数据选择的能力，完全使用 D3.js 实现。

![D3.js Focus+Context 通过刷机](../Images/7b927486ced831b385f1b60a5947d8c7.png)

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-04-22T02:44:50.887

dygraphs*完全*符合您在此演示中的要求：

[http://dygraphs.com/gallery/#g/range-selector](http://dygraphs.com/gallery/#g/range-selector)

![在此处输入图像描述](../Images/fe5c8711ad82aa94a69e480787f8d6ff.png)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-09-10T17:43:12.633

怎么样[HighStock](http://www.highcharts.com/stock/demo/)， HighCharts 鲜为人知的兄弟？

![在此处输入图像描述](../Images/d8da71bb0c2fb97b18a7129ef0097161.png)

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-12-09T19:06:04.667

我知道您打算使用 D3，但[Humble Finance](http://www.humblesoftware.com/finance/index)值得一提，因为它只使用 javascript 和画布就可以满足您的需求。

如果您真的打算使用 D3，我想您将不得不创建自己的东西，考虑到谦虚的金融是多么的好和合适，这必须是浪费时间。

尝试 Humble Finance 的提示：zip 下载不包含它所需的 flotr2，但可以从[此处](https://github.com/HumbleSoftware/Flotr2)轻松下载（显然，您必须将所需的 flotr2 文件添加到 Humble Finance 目录的正确位置）。

**编辑：**

忽略 Humble Finance，我尝试了很多次使用它，它让我走弯路。代码库似乎很混乱，您最终不得不在页面中添加许多库才能使其正常工作，因此即使对图表进行微小的更改也非常困难。我现在正在使用 D3，但我发现它的 SVG 渲染速度太慢，曲线上有很多（很多很多）点。我最终使用 D3 来绘制轴、设置比例并渲染时间帧变化的东西，并使用画布绘制曲线。这似乎工作得很好。抱歉，我没有任何可见的示例。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-08-14T14:20:42.100

你见过[交叉过滤器](http://square.github.com/crossfilter/)吗？另一种基于 D3 的产品，具有与 Google 财经界面相似的属性。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-07-19T09:54:55.587

人力车现在支持这个！

参见[示例](http://code.shutterstock.com/rickshaw/examples/multi.html)和`Rickshaw.Graph.RangeSlider.Preview`。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-13T10:55:49.087

我对您提到的任何一个框架都不熟悉，但想知道您是否可以选择使用[谷歌图表](https://developers.google.com/chart/)？使用它，您将能够了解他们在谷歌金融中所做的事情，并且可以从他们的网站上获取如何做到这一点的示例。

如果您正在寻找其他框架来研究，我可以推荐 Emprise Charts - 我很确定您可以在那里做类似的事情，并且他们的开发团队非常有帮助。

# ruby - 在 ubuntu 上安装 rvm 的问题

> ID：11932773
> 
> 赞同：0
> 
> 时间：2012-08-13T10:45:57.810
> 
> 标签：ruby, ubuntu, rvm, ubuntu-12.04

Rvm 单行安装程序给我带来了问题，即：

```
curl -L https://get.rvm.io | bash -s stable --rails 
```

我收到此错误：

```
 ERROR:  Loading command: install (LoadError)
   cannot load such file -- zlib
 ERROR:  While executing gem ... (NameError)
   uninitialized constant Gem::Commands::InstallCommand 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:49:41.353

缺少一个图书馆。尝试先执行这个：

```
sudo apt-get install zlib1g-dev 
```

编辑：

在 rvm 网页中有一个关于此问题的部分[https://rvm.io/packages/zlib/](https://rvm.io/packages/zlib/)

编辑（mpapis）：

安装程序命令显示安装此库的说明的短屏幕，下次按之前阅读它`q`。

# python - 如何从 Python 中的列表、字符串或元组中提取最后两项？

> ID：11932776
> 
> 赞同：5
> 
> 时间：2012-08-13T10:45:59.730
> 
> 标签：python, slice

用户将输入字符串、列表或元组。

我必须提取第一个 do 和最后两个值。对于前两个值：

```
ls[:2] 
```

对于最后两个值，我该怎么做？

如果`n`是值的总数，则最后两项可以切片为：

```
[n-1:] 
```

我怎样才能放下代码？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-08-13T10:48:03.520

```
ls[-2:] 
```

切片中的负数只需通过相加来计算`len(ls)`，所以这与 相同`ls[len(ls) - 2:]`。有关切片的更多信息，请参阅[Python 教程](http://docs.python.org/tutorial/introduction.html#strings)或[这个出色的 stackoverflow 答案](https://stackoverflow.com/a/509295/35070)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T10:48:13.320

```
ls[-2:] 
```

将是这样做的方法，因为负索引从最后开始计数。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-13T10:49:17.043

如果您有这样的列表：`a_list = [1,2,3]`您可以通过以下方式获取最后两个`[2,3]`元素`a_list[-2:]`

# php - Mysql 选择行到总和

> ID：11932785
> 
> 赞同：5
> 
> 时间：2012-08-13T10:46:35.070
> 
> 标签：php, mysql, select, sum

我有一张包含以下信息的表格：

```
编号 | 商品编号 | stock_package_id | 金额 | 价格
0 | 775 | 1 | 16 | 0.22
1 | 第758章 2 | 10 | 0.28
2 | 775 | 3 | 10 | 0.30
3 | 第774章 4 | 10 | 0.25
4 | 775 | 5 | 10 | 0.10
5 | 775 | 6 | 10 | 0.55

```

我的问题是我正在尝试创建一个查询（尽可能简单，因为该表将与其他一些表连接），这将允许我输入一个金额：

例如

我想先从最便宜的价格中选择 22 个 Item_Id 775。

所以我想要返回的是：

```
编号 | 商品编号 | stock_package_id | 金额 | 价格
4 | 775 | 5 | 10 | 0.10
0 | 775 | 1 | 12 | 0.22 - 这只是 12，因为我们只想要总共 22

```

一个伪例子：

从 stock_table 中选择，直到总和`amount`等于或大于输入数字 (22) 按价格排序

这可能与MySql有关吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-13T10:48:42.807

您需要使用`ORDER BY`子句根据`price`列对记录进行排序：

```
SELECT *
FROM table_name
WHERE Item_ID = 775
ORDER BY price ASC
LIMIT 22; 
```

如果你想获取记录直到`sum(price)`变成`value`(22) 然后试试这个：

```
SELECT *
FROM table_name, (SELECT @var_price := 0) a
WHERE Item_ID = 775 AND
      (@var_price := @var_price + price) <= 22
ORDER BY price ASC; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-13T13:35:05.547

架构：

```
 CREATE TABLE table1
(`id` int, `Item_ID` int, `stock_package_id` int, `amount` int, `price` float);

 INSERT INTO table1
(`id`, `Item_ID`, `stock_package_id`, `amount`, `price`)
 VALUES
(0, 775, 1, 16, 0.22),
(1, 758, 2, 10, 0.28),
(2, 775, 3, 10, 0.30),
(3, 774, 4, 10, 0.25),
(4, 775, 5, 10, 0.10),
(5, 775, 6, 10, 0.55); 
```

设置金额获取：

```
SET @var_amount = 22; 
```

选择金额：

```
SELECT * FROM (
SELECT table1.*, if ((@var_amount := @var_amount - amount) > 0, amount, amount +  @var_amount) as buy_amount
FROM table1
WHERE Item_ID = 775
ORDER BY price ASC
) AS tmp 
WHERE buy_amount > 0 
```

结果：

```
id  Item_ID stock_package_id    amount  price   buy_amount
4   775 5                       10      0.1     10
0   775 1                       16      0.22    12 
```

# solaris-10 - 如何查找 Solaris 平台上可用的连续物理内存块的数量

> ID：11932786
> 
> 赞同：0
> 
> 时间：2012-08-13T10:46:38.547
> 
> 标签：solaris-10

我认为 JVM 总是占用与 -Xms 等效的连续内存块。如果配置的值不可用，则 JVM 初始化失败。

在上述观点中，如何查找 Solaris 平台上可用的连续物理内存块的数量。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T12:02:23.913

JVM 不需要连续的物理内存区域。它使用的是虚拟内存。

由于在启动 JVM 时不应分散可寻址空间，因此 -Xms 选项的限制仅取决于进程可用的虚拟内存大小。最多 4 GB 减去为 32 位 JVM 分配的非堆内存（堆栈、本机等）的区域，并且仅受`swap -s`64 位 JVM 上系统可用虚拟内存大小 ( ) 的限制。

# java - 如何在 grails 应用程序中使用 Amazon ElastiCache？

> ID：11932795
> 
> 赞同：0
> 
> 时间：2012-08-13T10:47:44.283
> 
> 标签：java, grails, amazon-ec2, amazon-web-services, memcached

我对 Amazon Web 服务和 Grails 非常陌生。我想在 Grails 应用程序中使用 Amazon ElastiCache 作为我的缓存工具。

我在谷歌搜索，但我没有找到任何资源。

谁能告诉我如何配置 grails 应用程序以使用 elasticache？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T11:43:47.957

我不了解 Grails，所以我建议深入研究一下，但 ElastiCache 只是 memcached。你试过 Grails [memcached 插件吗？](http://grails.org/plugin/memcached/)[用户指南](http://grails-plugins.github.com/grails-memcached/docs/manual/guide/2%20Getting%20Started.html)看起来很容易配置。您需要将主机指定为其 AWS URL 并适当配置 ElastiCache SecurityGroup 设置。

# asp.net - 树视图需要额外的复选框/单选按钮

> ID：11932796
> 
> 赞同：0
> 
> 时间：2012-08-13T10:47:46.847
> 
> 标签：asp.net

我了解 asp.net 中的树视图带有复选框选项供使用。但是，在我的应用程序中，我需要在树视图的每个叶节点的右侧添加 2 个额外的复选框或单选按钮。

但是，我似乎无法找到解决此要求的方法，并且我认为树视图结构不支持此功能。

我是 asp 新手，我不确定是否有任何其他类可以用来实现此功能。

希望我能从你们那里得到一些想法来实现这个

感谢所有帮助

谢谢！

问候伯纳德

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T11:02:39.877

树视图控件非常有限，但是我发现这个项目[http://www.codeproject.com/Articles/43057/ASTreeView-Free-ASP-NET-TreeView-Control](http://www.codeproject.com/Articles/43057/ASTreeView-Free-ASP-NET-TreeView-Control)扩展了它的功能 - 查看参考和看看它是否提供了您需要的东西，或者使用它作为基础来根据您的范围需要扩展它！

# android - 想在android中的任何两个位置之间画一条线

> ID：11932797
> 
> 赞同：0
> 
> 时间：2012-08-13T10:47:49.167
> 
> 标签：android, google-maps, overlay, android-mapview, mapactivity

这是我的`main`活动

```
import java.net.HttpURLConnection;
import java.net.URL;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import org.w3c.dom.Document;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;
import android.os.Bundle;
import android.util.Log;
import com.google.android.maps.GeoPoint;
import com.google.android.maps.MapActivity;
import com.google.android.maps.MapController;
import com.google.android.maps.MapView;

public class DrawActivity extends MapActivity {
 MapView myMapView = null;
 MapController myMC = null;
 GeoPoint geoPoint = null;
  String pairs[]=null;
 /** Called when the activity is first created. */
 @Override
 public void onCreate(Bundle savedInstanceState) {

  super.onCreate(savedInstanceState);
  setContentView(R.layout.main);
  myMapView = (MapView) findViewById(R.id.mapview);
  geoPoint = null;
  myMapView.setSatellite(false);
  System.out.println("before pairs");
  String pairs[] = getDirectionData("Hyderabad","hyderguda");

  System.out.println("pairs:"+pairs[1]);
  String[] lngLat = pairs[0].split(",");

  // STARTING POINT
  GeoPoint startGP = new GeoPoint(
    (int) (Double.parseDouble(lngLat[1]) * 1E6), (int) (Double
      .parseDouble(lngLat[0]) * 1E6));

  myMC = myMapView.getController();
  geoPoint = startGP;
  myMC.setCenter(geoPoint);
  myMC.setZoom(15);
  myMapView.getOverlays().add(new DirectionPathOverlay(startGP, startGP));

  // NAVIGATE THE PATH

  GeoPoint gp1;
  GeoPoint gp2 = startGP;

  for (int i = 1; i < pairs.length; i++) {
   lngLat = pairs[i].split(",");
   gp1 = gp2;
   // watch out! For GeoPoint, first:latitude, second:longitude

   gp2 = new GeoPoint((int) (Double.parseDouble(lngLat[1]) * 1E6),
     (int) (Double.parseDouble(lngLat[0]) * 1E6));
   myMapView.getOverlays().add(new DirectionPathOverlay(gp1, gp2));
   Log.d("xxx", "pair:" + pairs[i]);
  }

  // END POINT
  myMapView.getOverlays().add(new DirectionPathOverlay(gp2, gp2));

  myMapView.getController().animateTo(startGP);
  myMapView.setBuiltInZoomControls(true);
  myMapView.displayZoomControls(true);

 }

 @Override
 protected boolean isRouteDisplayed() {
  // TODO Auto-generated method stub
  return false;
 }

 private String[] getDirectionData(String srcPlace, String destPlace) {

  String urlString = "http://maps.google.com/maps?f=d&hl=en&saddr="
   + srcPlace + "&daddr=" + destPlace
   + "&ie=UTF8&0&om=0&output=kml";

  Log.d("URL", urlString);
  Document doc = null;
  HttpURLConnection urlConnection = null;
  URL url = null;
  String pathConent = "";

  try {

   url = new URL(urlString.toString());
   urlConnection = (HttpURLConnection) url.openConnection();
   urlConnection.setRequestMethod("GET");
   urlConnection.setDoOutput(true);
   urlConnection.setDoInput(true);
   urlConnection.connect();
   DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
   DocumentBuilder db = dbf.newDocumentBuilder();
   doc = db.parse(urlConnection.getInputStream());

 //The above code "doc" is getting null value so thats why its getting crashed here itself not going further execution and returning as `nullpointerexception`
  } catch (Exception e) {
  }

  NodeList nl = doc.getElementsByTagName("LineString");
  for (int s = 0; s < nl.getLength(); s++) {
   Node rootNode = nl.item(s);
   NodeList configItems = rootNode.getChildNodes();
   for (int x = 0; x < configItems.getLength(); x++) {
    Node lineStringNode = configItems.item(x);
    NodeList path = lineStringNode.getChildNodes();
    pathConent = path.item(0).getNodeValue();
   }
  }
  String[] tempContent = pathConent.split(" ");
  return tempContent;
 }

} 
```

和我的另一部分代码包com.hands；

```
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.graphics.Point;

import com.google.android.maps.GeoPoint;
import com.google.android.maps.MapView;
import com.google.android.maps.Overlay;
import com.google.android.maps.Projection;

public class DirectionPathOverlay extends Overlay {

private GeoPoint gp1;
private GeoPoint gp2;

public DirectionPathOverlay(GeoPoint gp1, GeoPoint gp2) {
    this.gp1 = gp1;
    this.gp2 = gp2;
}

@Override
public boolean draw(Canvas canvas, MapView mapView, boolean shadow,
        long when) {
    // TODO Auto-generated method stub
    Projection projection = mapView.getProjection();
    if (shadow == false) {

        Paint paint = new Paint();
        paint.setAntiAlias(true);
        Point point = new Point();
        projection.toPixels(gp1, point);
        paint.setColor(Color.BLUE);
        Point point2 = new Point();
        projection.toPixels(gp2, point2);
        paint.setStrokeWidth(2);
        canvas.drawLine((float) point.x, (float) point.y, (float) point2.x,
                (float) point2.y, paint);
    }
    return super.draw(canvas, mapView, shadow, when);
}

@Override
public void draw(Canvas canvas, MapView mapView, boolean shadow) {
    // TODO Auto-generated method stub

    super.draw(canvas, mapView, shadow);
}

} 
```

以上是我的完整源代码请帮我解决这个问题

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T11:01:29.727

您正在使用`output=kml`，此参数不再起作用。您收到错误是因为此 URL 现在检索的是网页而不是 KML 文件。

这种通过解析 KML 文件从 Google 提取 Google 路线的方式自 2012 年 7 月 27 日起不再可用（因为 Google 改变了检索 Google 路线的结构，现在您只能通过 JSON 或 XML 获取），是时候将您的代码迁移到 JSON 而不是 KML。

[在我自己的问题中查看](https://stackoverflow.com/a/11745316/1230123)答案。

# android - 如何在Android中从位图中裁剪圆形区域

> ID：11932805
> 
> 赞同：117
> 
> 时间：2012-08-13T10:48:29.903
> 
> 标签：android, android-layout, user-interface, graphics

我有一个位图，我想从这个位图中裁剪一个圆形区域。圆圈外的所有像素都应该是透明的。我怎样才能做到这一点？

![在此处输入图像描述](../Images/f3861e4364dd99fa72b99ef2cb40ed63.png)

* * *

## 回答 #1

> 赞同：225
> 
> 时间：2012-08-23T09:56:35.920

经过长时间的头脑风暴，我找到了解决方案

```
public Bitmap getCroppedBitmap(Bitmap bitmap) {
    Bitmap output = Bitmap.createBitmap(bitmap.getWidth(),
            bitmap.getHeight(), Config.ARGB_8888);
    Canvas canvas = new Canvas(output);

    final int color = 0xff424242;
    final Paint paint = new Paint();
    final Rect rect = new Rect(0, 0, bitmap.getWidth(), bitmap.getHeight());

    paint.setAntiAlias(true);
    canvas.drawARGB(0, 0, 0, 0);
    paint.setColor(color);
    // canvas.drawRoundRect(rectF, roundPx, roundPx, paint);
    canvas.drawCircle(bitmap.getWidth() / 2, bitmap.getHeight() / 2,
            bitmap.getWidth() / 2, paint);
    paint.setXfermode(new PorterDuffXfermode(Mode.SRC_IN));
    canvas.drawBitmap(bitmap, rect, rect, paint);
    //Bitmap _bmp = Bitmap.createScaledBitmap(output, 60, 60, false);
    //return _bmp;
    return output;
} 
```

* * *

## 回答 #2

> 赞同：44
> 
> 时间：2013-03-21T00:43:00.360

# 从矩形生成圆形

```
public static Bitmap getCircularBitmap(Bitmap bitmap) {
    Bitmap output;

    if (bitmap.getWidth() > bitmap.getHeight()) {
        output = Bitmap.createBitmap(bitmap.getHeight(), bitmap.getHeight(), Config.ARGB_8888);
    } else {
        output = Bitmap.createBitmap(bitmap.getWidth(), bitmap.getWidth(), Config.ARGB_8888);
    }

    Canvas canvas = new Canvas(output);

    final int color = 0xff424242;
    final Paint paint = new Paint();
    final Rect rect = new Rect(0, 0, bitmap.getWidth(), bitmap.getHeight());

    float r = 0;

    if (bitmap.getWidth() > bitmap.getHeight()) {
        r = bitmap.getHeight() / 2;
    } else {
        r = bitmap.getWidth() / 2;
    }

    paint.setAntiAlias(true);
    canvas.drawARGB(0, 0, 0, 0);
    paint.setColor(color);
    canvas.drawCircle(r, r, r, paint);
    paint.setXfermode(new PorterDuffXfermode(Mode.SRC_IN));
    canvas.drawBitmap(bitmap, rect, rect, paint);
    return output;
} 
```

* * *

## 回答 #3

> 赞同：41
> 
> 时间：2015-01-22T18:43:15.223

您可以使用[RoundedBitmapDrawable使您的图像视图呈圆形](http://developer.android.com/reference/android/support/v4/graphics/drawable/RoundedBitmapDrawable.html)

这是实现roundedImageview的代码：

```
ImageView profilePic=(ImageView)findViewById(R.id.user_image);

//get bitmap of the image
Bitmap imageBitmap=BitmapFactory.decodeResource(getResources(),  R.drawable.large_icon);
RoundedBitmapDrawable roundedBitmapDrawable=RoundedBitmapDrawableFactory.create(getResources(), imageBitmap);

//setting radius
roundedBitmapDrawable.setCornerRadius(50.0f);
roundedBitmapDrawable.setAntiAlias(true);
profilePic.setImageDrawable(roundedBitmapDrawable); 
```

* * *

## 回答 #4

> 赞同：33
> 
> 时间：2013-03-19T01:10:34.187

@Gene 对上面的答案发表了评论，建议使用`clipPath`作为将图像裁剪为圆形的选项。

以下是一个干净的实现：

```
 public static Bitmap GetBitmapClippedCircle(Bitmap bitmap) {

        final int width = bitmap.getWidth();
        final int height = bitmap.getHeight();
        final Bitmap outputBitmap = Bitmap.createBitmap(width, height, Config.ARGB_8888);

        final Path path = new Path();
        path.addCircle(
                  (float)(width / 2)
                , (float)(height / 2)
                , (float) Math.min(width, (height / 2))
                , Path.Direction.CCW);

        final Canvas canvas = new Canvas(outputBitmap);
        canvas.clipPath(path);
        canvas.drawBitmap(bitmap, 0, 0, null);
        return outputBitmap;
    } 
```

这可以添加到实用程序类中。

* * *

## 回答 #5

> 赞同：14
> 
> 时间：2014-07-18T11:20:12.813

我认为此解决方案适用于任何类型的矩形，如果您希望图像变小或变大，请更改像素大小：

```
public static Bitmap getCircleBitmap(Bitmap bm) {

        int sice = Math.min((bm.getWidth()), (bm.getHeight()));

        Bitmap bitmap = ThumbnailUtils.extractThumbnail(bm, sice, sice);

        Bitmap output = Bitmap.createBitmap(bitmap.getWidth(), bitmap.getHeight(), Bitmap.Config.ARGB_8888);

        Canvas canvas = new Canvas(output);

        final int color = 0xffff0000;
        final Paint paint = new Paint();
        final Rect rect = new Rect(0, 0, bitmap.getWidth(), bitmap.getHeight());
        final RectF rectF = new RectF(rect);

        paint.setAntiAlias(true);
        paint.setDither(true);
        paint.setFilterBitmap(true);
        canvas.drawARGB(0, 0, 0, 0);
        paint.setColor(color);
        canvas.drawOval(rectF, paint);

        paint.setColor(Color.BLUE);
        paint.setStyle(Paint.Style.STROKE);
        paint.setStrokeWidth((float) 4);
        paint.setXfermode(new PorterDuffXfermode(Mode.SRC_IN));
        canvas.drawBitmap(bitmap, rect, rect, paint);

        return output;
    } 
```

* * *

## 回答 #6

> 赞同：11
> 
> 时间：2013-08-17T10:55:21.887

这也可以在 xml 中轻松完成，而无需裁剪实际位图，您只需要创建一个圆形图像蒙版并放置在您的实际图像上。这是我使用的一段代码：

## **圈子.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="oval" >
    <gradient android:startColor="#00FFFFFF" android:endColor="#00FFFFFF"
        android:angle="270"/>
     <stroke android:width="10dp" android:color="#FFAAAAAA"/> 
```

## **your_layout.xml**（如果不需要，请忽略 "android:scaleType="fitXY""）

```
<RelativeLayout

        android:id="@+id/icon_layout"
        android:layout_width="@dimen/icon_mask"
        android:layout_height="@dimen/icon_mask"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true" >

        <ImageView
            android:id="@+id/icon"
            android:layout_width="@dimen/icon"
            android:layout_height="@dimen/icon"
            android:layout_centerInParent="true"
            android:scaleType="fitXY" >
        </ImageView>

        <ImageView
            android:id="@+id/icon_mask"
            android:layout_width="@dimen/icon_mask"
            android:layout_height="@dimen/icon_mask"
            android:layout_centerInParent="true"
            android:background="@drawable/circle"
            android:scaleType="fitXY" >
        </ImageView>
    </RelativeLayout> 
```

* * *

**维度.xml**

* * *

```
<dimen name="icon">36dp</dimen>
<dimen name="icon_mask">55dp</dimen> 
```

* * *

![在此处输入图像描述](../Images/1b6046bb7c64ae06c8f1813f98ada4f2.png)

**输出图像视图：**

希望，它可能对某人有用！！！:)

* * *

## 回答 #7

> 赞同：8
> 
> 时间：2015-10-07T12:48:59.393

你可以使用这个代码，它会工作

```
 private Bitmap getCircleBitmap(Bitmap bitmap) {
        final Bitmap output = Bitmap.createBitmap(bitmap.getWidth(),
                bitmap.getHeight(), Bitmap.Config.ARGB_8888);
        final Canvas canvas = new Canvas(output);

        final int color = Color.RED;
        final Paint paint = new Paint();
        final Rect rect = new Rect(0, 0, bitmap.getWidth(), bitmap.getHeight());
        final RectF rectF = new RectF(rect);

        paint.setAntiAlias(true);
        canvas.drawARGB(0, 0, 0, 0);
        paint.setColor(color);
        canvas.drawOval(rectF, paint);

        paint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC_IN));
        canvas.drawBitmap(bitmap, rect, rect, paint);

        bitmap.recycle();

        return output;
    } 
```

* * *

## 回答 #8

> 赞同：7
> 
> 时间：2014-07-07T15:00:14.863

你可以使用这个代码，它会工作

```
public Bitmap getRoundedShape(Bitmap scaleBitmapImage) {
    int targetWidth = 110;
    int targetHeight = 110;
    Bitmap targetBitmap = Bitmap.createBitmap(targetWidth, 
            targetHeight,Bitmap.Config.ARGB_8888);

    Canvas canvas = new Canvas(targetBitmap);
    Path path = new Path();
    path.addCircle(((float) targetWidth - 1) / 2,
            ((float) targetHeight - 1) / 2,
            (Math.min(((float) targetWidth), 
                    ((float) targetHeight)) / 2),
                    Path.Direction.CCW);

    canvas.clipPath(path);
    Bitmap sourceBitmap = scaleBitmapImage;
    canvas.drawBitmap(sourceBitmap, 
            new Rect(0, 0, sourceBitmap.getWidth(),
                    sourceBitmap.getHeight()), 
                    new Rect(0, 0, targetWidth, targetHeight), new Paint(Paint.FILTER_BITMAP_FLAG));
    return targetBitmap;
} 
```

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2019-01-14T15:35:24.283

我相信最简单的解决方案是为您的位图创建一个 BitmapShader，将其传递给您的绘画对象，然后简单地调用类似 canvas.drawCircle(cx, cy, radius, paint);

例如

```
Paint p = new Paint();
p.setShader(new BitmapShader(myBitmap, Shader.TileMode.CLAMP, Shader.TileMode.CLAMP));
canvas.drawCircle(getWidth() / 2, getHeight() / 2, getHeight() / 2, p); 
```

这是[https://github.com/hdodenhof/CircleImageView](https://github.com/hdodenhof/CircleImageView)也是这样做的，你可以在这里阅读源代码： [https ://github.com/hdodenhof/CircleImageView/blob/master/circleimageview/src/main/java /de/hdodenhof/circleimageview/CircleImageView.java](https://github.com/hdodenhof/CircleImageView/blob/master/circleimageview/src/main/java/de/hdodenhof/circleimageview/CircleImageView.java)

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2014-07-15T09:36:04.207

`bitmap.recycle()`如果您不再需要它，我建议添加它，它将防止 OutOfMemory 错误。

* * *

## 回答 #11

> 赞同：3
> 
> 时间：2017-10-06T19:56:55.873

这是使用扩展方法的 Kotlin 变体

```
/**
 * Creates new circular bitmap based on original one.
 */
fun Bitmap.getCircularBitmap(config: Bitmap.Config = Bitmap.Config.ARGB_8888): Bitmap {
    // circle configuration
    val circlePaint = Paint().apply { isAntiAlias = true }
    val circleRadius = Math.max(width, height) / 2f

    // output bitmap
    val outputBitmapPaint = Paint(circlePaint).apply { xfermode = PorterDuffXfermode(PorterDuff.Mode.SRC_IN) }
    val outputBounds = Rect(0, 0, width, height)
    val output = Bitmap.createBitmap(width, height, config)

    return Canvas(output).run {
        drawCircle(circleRadius, circleRadius, circleRadius, circlePaint)
        drawBitmap(this@getCircularBitmap, outputBounds, outputBounds, outputBitmapPaint)
        output
    }
} 
```

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2015-06-07T15:12:49.403

对于想要矩形中心的人（我），在切割之前添加：

```
 public static Bitmap cropBitmapToBlock(Bitmap bitmap) {
    if (bitmap.getWidth() >= bitmap.getHeight()){
        return Bitmap.createBitmap(
                bitmap,
                bitmap.getWidth()/2 - bitmap.getHeight()/2,
                0,
                bitmap.getHeight(),
                bitmap.getHeight()
        );
    }else{
        return Bitmap.createBitmap(
                bitmap,
                0,
                bitmap.getHeight()/2 - bitmap.getWidth()/2,
                bitmap.getWidth(),
                bitmap.getWidth()
        );
    }
} 
```

[Android 位图裁剪中心](https://stackoverflow.com/questions/6908604/android-crop-center-of-bitmap)

* * *

## 回答 #13

> 赞同：2
> 
> 时间：2016-05-26T16:31:57.097

基于 [Jachumbelechao Unto Mantekilla] 的回答，对于寻找 Kotlin 解决方案的人来说，这段代码就像一个魅力：

```
fun cropCircleFromBitmap(originalBitmap: Bitmap): Bitmap {
    val size = Math.min(originalBitmap.width, originalBitmap.height)
    val bitmap = ThumbnailUtils.extractThumbnail(originalBitmap, size, size)
    var output = Bitmap.createBitmap(bitmap.width, bitmap.height, Bitmap.Config.ARGB_8888)
    val canvas = Canvas(output)
    val paint = Paint()
    val rect = Rect(0, 0, bitmap.width, bitmap.height)
    val rectF = RectF(rect)
    paint.isAntiAlias = true
    paint.isDither = true
    paint.isFilterBitmap = true
    canvas.drawARGB(0, 0, 0, 0)
    paint.color = 0xffff0000.toInt()
    canvas.drawOval(rectF, paint)
    paint.color = Color.BLUE
    paint.style = Paint.Style.STROKE
    paint.strokeWidth = 4f
    paint.xfermode = PorterDuffXfermode(PorterDuff.Mode.SRC_IN);
    canvas.drawBitmap(bitmap, rect, rect, paint)
    return output
} 
```

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2017-04-24T16:51:23.437

现在，正确答案：

```
private Bitmap getCroppedBitmap(Bitmap bitmap, Integer cx, Integer cy, Integer radius) {
    int diam = radius << 1;
    Bitmap targetBitmap = Bitmap.createBitmap(diam, diam, Bitmap.Config.ARGB_8888);
    Canvas canvas = new Canvas(targetBitmap);
    final int color = 0xff424242;
    final Paint paint = new Paint(Paint.ANTI_ALIAS_FLAG);
    canvas.drawARGB(0, 0, 0, 0);
    paint.setColor(color);
    canvas.drawCircle(radius, radius, radius, paint);
    paint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC_IN));
    canvas.drawBitmap(bitmap, -cx+radius, -cy+radius, paint);
    return targetBitmap;
} 
```

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2017-12-16T19:40:35.677

Kotin函数

```
 fun getRoundedCornerBitmap(bitmap: Bitmap, pixels: Int): Bitmap {
            val output = Bitmap.createBitmap(bitmap.width, bitmap.height, Bitmap.Config.ARGB_8888)
            val canvas = Canvas(output)

            val color = -0xbdbdbe
            val paint = Paint()
            val rect = Rect(0, 0, bitmap.width, bitmap.height)
            val rectF = RectF(rect)
            val roundPx = pixels.toFloat()

            paint.isAntiAlias = true
            canvas.drawARGB(0, 0, 0, 0)
            paint.color = color
            canvas.drawRoundRect(rectF, roundPx, roundPx, paint)

            paint.xfermode = PorterDuffXfermode(PorterDuff.Mode.SRC_IN)
            canvas.drawBitmap(bitmap, rect, rect, paint)

            return output
        } 
```

通过此代码调用它

```
 holder.itemFriendImage.setImageBitmap(ImageConverter.getRoundedCornerBitmap(bitmap,600)) 
```

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2018-12-24T11:18:44.763

```
**Jst Add this to your image Id and get the circuler image.**

 imgUserProfile.setImageBitmap(getCircularCenterCropBitmap(bitmap, (int) (150 * denisty)));

Method:-

public void Bitmap getCircularCenterCropBitmap(Bitmap originalBmp, int diameter) {
        Bitmap resizedBmp = BitmapUtils.getScaledCroppedBitmap(originalBmp, diameter, diameter);
        return BitmapUtils.getRoundedCircularBitmap(resizedBmp, diameter / 2);
    } 
```

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2021-10-11T04:53:04.530

对于**科特林**：

```
private fun getCircularBitmap(bitmap: Bitmap): Bitmap? {
        val output = Bitmap.createBitmap(
            bitmap.width,
            bitmap.height, Bitmap.Config.ARGB_8888
        )
        val canvas = Canvas(output)
        val color = -0xbdbdbe
        val paint = Paint()
        val rect = Rect(0, 0, bitmap.width, bitmap.height)
        paint.isAntiAlias = true
        canvas.drawARGB(0, 0, 0, 0)
        paint.color = color
        canvas.drawCircle(
            (bitmap.width / 2).toFloat(), (bitmap.height / 2).toFloat(), (
                    bitmap.width / 2).toFloat(), paint
        )
        paint.xfermode = PorterDuffXfermode(PorterDuff.Mode.SRC_IN)
        canvas.drawBitmap(bitmap, rect, rect, paint)
        return output
    } 
```

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2021-11-29T03:49:16.643

kotlin，放到Ext.kt

```
 private fun Bitmap.getCircledBitmap(): Bitmap {
    val output = Bitmap.createBitmap(this.width, this.height, Bitmap.Config.ARGB_8888)
    val canvas = Canvas(output)
    val paint = Paint()
    val rect = Rect(0, 0, this.width, this.height)
    paint.isAntiAlias = true
    canvas.drawARGB(0, 0, 0, 0)
    canvas.drawCircle(this.width / 2f, this.height / 2f, this.width / 2f, paint)
    paint.xfermode = PorterDuffXfermode(PorterDuff.Mode.SRC_IN)
    canvas.drawBitmap(this, rect, rect, paint)
    return output
} 
```

* * *

## 回答 #19

> 赞同：-1
> 
> 时间：2012-08-13T19:16:06.337

不确定这是一个编程问题，但......

最简单的解决方案是使源位图中的外部区域透明。否则，您必须计算哪些像素在圆外，并相应地设置 alpha（alpha = 0 表示完全透明）。

# c++ - 填充二维数组或构建具有预定数字的网格？

> ID：11932807
> 
> 赞同：0
> 
> 时间：2012-08-13T10:48:41.057
> 
> 标签：c++

我想知道是否有一种方法可以构建具有预定数字的网格或二维数组。具体来说，Euler 项目的问题 11 提出了以下 20x20 网格：

```
08 02 22 97 38 15 00 40 00 75 04 05 07 78 52 12 50 77 91 08
49 49 99 40 17 81 18 57 60 87 17 40 98 43 69 48 04 56 62 00
81 49 31 73 55 79 14 29 93 71 40 67 53 88 30 03 49 13 36 65
52 70 95 23 04 60 11 42 69 24 68 56 01 32 56 71 37 02 36 91
22 31 16 71 51 67 63 89 41 92 36 54 22 40 40 28 66 33 13 80
24 47 32 60 99 03 45 02 44 75 33 53 78 36 84 20 35 17 12 50
32 98 81 28 64 23 67 10 26 38 40 67 59 54 70 66 18 38 64 70
67 26 20 68 02 62 12 20 95 63 94 39 63 08 40 91 66 49 94 21
24 55 58 05 66 73 99 26 97 17 78 78 96 83 14 88 34 89 63 72
21 36 23 09 75 00 76 44 20 45 35 14 00 61 33 97 34 31 33 95
78 17 53 28 22 75 31 67 15 94 03 80 04 62 16 14 09 53 56 92
16 39 05 42 96 35 31 47 55 58 88 24 00 17 54 24 36 29 85 57
86 56 00 48 35 71 89 07 05 44 44 37 44 60 21 58 51 54 17 58
19 80 81 68 05 94 47 69 28 73 92 13 86 52 17 77 04 89 55 40
04 52 08 83 97 35 99 16 07 97 57 32 16 26 26 79 33 27 98 66
88 36 68 87 57 62 20 72 03 46 33 67 46 55 12 32 63 93 53 69
04 42 16 73 38 25 39 11 24 94 72 18 08 46 29 32 40 62 76 36
20 69 36 41 72 30 23 88 34 62 99 69 82 67 59 85 74 04 36 16
20 73 35 29 78 31 90 01 74 31 49 71 48 86 81 16 23 57 05 54
01 70 54 71 83 51 54 69 16 92 33 48 61 43 52 01 89 19 67 48 
```

我正在尝试用代码重新创建它。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:51:22.037

当然：

```
int a[3][3] = { { 1, 2, 3},
                { 4, 5, 6},
                { 7, 8, 9} }; 
```

您实际上可以将大括号初始值设定项扁平化为一组数字，但很高兴能明确一点。在 C99 和 C++11 中，您还可以使用多余的尾随逗号。

# c - Cygwin - Makefile 错误：目标“main.o”的配方失败

> ID：11932809
> 
> 赞同：8
> 
> 时间：2012-08-13T10:48:45.770
> 
> 标签：c, makefile, cygwin

我目前无法编写一个好的makefile并且不知道原因.. -.-

这是我的 main.c：

```
#include <windows.h>
#include <stdio.h>

int main(int argc, char *argv[])
{ 
   printf("MEEEEEP");
   return (0);
} 
```

这是我的生成文件：

```
# make SYSTEM= OS= ENVIRONMENT=
# Binaries to use
ifeq ($(ENVIRONMENT),MINGW)
  CXX   = i686-pc-mingw32-g++
else
  CXX   = g++
endif
REMOVE  = rm -vf

RC      = windres
EXE     = .exe

#############################################################
# Info

ifeq ($(CXX),g++)
INFO_CXX = g++ -dumpversion; g++ -dumpmachine
endif

#############################################################
# Flags

DEBUG = -DDEBUG -g
OPTIMIZATION = -O2 #-Winline -finline-functions

CFLAGS = -Wall -Wextra -W -static $(DEBUG) $(OPTIMIZATION) -D$(SYSTEM) -D$(OS) -D$(ENVIRONMENT) $(PRGFLAGS)

ifeq ($(SYSTEM),I686)
  CFLAGS   += -m32

  ifeq ($(OS),WIN32)
    CFLAGS += -D_WIN32 
  endif

  ifeq ($(ENVIRONMENT),MINGW)
    CFLAGS += -fexceptions 
  endif
endif

 LFLAGS    = 

#############################################################
# Files

CFILES      = main.c
OBJS        = ${CFILES:.c=.o}

#############################################################
# Include

INCLUDES      = -I.

#############################################################
# Library

LIBRARIES     = 

#############################################################
# Targets
.PHONY: all
all:    
    @echo == Standard build: make SYSTEM=I686 OS=WIN32 ENVIRONMENT=MINGW
    @echo
    @echo 
    make SYSTEM=I686 OS=WIN32 ENVIRONMENT=MINGW gyro

#############################################################
# Implicit rules and filename extensions... 
.SUFFIXES: .h .o .c

.c.o:     %.h
      @echo Compiling $< for $(SYSTEM) $(OS) $(ENVIRONMENT) ...
      @echo MEEP
      $(CXX) $(CFLAGS) $(INCLUDES) -c $< -o $@
      @echo MEEP2

#############################################################
# Target rules
gyro: $(OBJS)
      @echo Building software for $(SYSTEM) ...
      @echo
      $(CXX) $(CFLAGS) $(LFLAGS) -o $@$(EXE) $(OBJS) $(LIBRARIES)

#############################################################
# Clean
.PHONY: clean
clean:
    $(REMOVE) $(OBJS)

#############################################################
# Info
.PHONY: info
info:
    @echo 
    @echo Information about C++ Compiler/Linker:
    @echo 
    $(INFO_CXX) 
```

当我输入 make gyro 时，我收到输出：

```
Compiling main.c for Windows_NT ...
MEEP
g++ -Wall -Wextra -W -static -DDEBUG -g -O2  -D -DWindows_NT -D  -I. -c main.c -o     main.o
makeNew.mak:83: recipe for target `main.o' failed
make: *** [main.o] Error 1 
```

但是第 83 行在 .co 后面：%.h。我不明白为什么。有人对我有解决方案吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-13T14:43:56.370

您看到命令行中的两个空`-D`条目了吗？`g++`他们正在造成问题。您**必须**在项目中有值，`-D`例如`-DWIN32`

如果您坚持使用 -D$(SYSTEM) -D$(ENVIRONMENT) 之类的东西，那么您可以使用类似的东西：

```
SYSTEM ?= generic
ENVIRONMENT ?= generic 
```

在为它们提供默认值的makefile中。

您的输出似乎缺少所有重要的输出：

```
<command-line>:0:1: error: macro names must be identifiers
<command-line>:0:1: error: macro names must be identifiers 
```

只是为了澄清一下，实际发送到的`g++`是`-D -DWindows_NT`，即定义一个名为的预处理器宏`-DWindows_NT`；这当然不是一个有效的标识符（类似的`-D -I.`）

# php - PDO 预定义常量中有什么“整数”？

> ID：11932814
> 
> 赞同：2
> 
> 时间：2012-08-13T10:49:14.427
> 
> 标签：php, pdo, constants

从[预定义的常量](http://uk.php.net/manual/en/pdo.constants.php)中找到。（整数）是什么意思？为什么都是（整数）？

> ```
> PDO::PARAM_BOOL (integer)
> Represents a boolean data type.
> PDO::PARAM_NULL (integer)
> Represents the SQL NULL data type.
> PDO::PARAM_INT (integer)
> Represents the SQL INTEGER data type.
> PDO::PARAM_STR (integer)
> Represents the SQL CHAR, VARCHAR, or other string data type.
> PDO::PARAM_LOB (integer)
> Represents the SQL large object data type.
> PDO::PARAM_STMT (integer)
> Represents a recordset type. Not currently supported by any drivers.
> PDO::PARAM_INPUT_OUTPUT (integer)
> Specifies that the parameter is an INOUT parameter for a stored procedure. You must bitwise-OR this value with an explicit PDO::PARAM_* data type. 
> ```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T10:51:12.143

该输出`(integer)`仅意味着基础常量使用整数值将自己与该组中的其他常量区分开来。

例如，在我的安装中，其中一些常量具有以下（整数）值：

```
PDO::PARAM_NULL = 0
PDO::PARAM_INT = 1
PDO::PARAM_BOOL = 5 
```

同样，您会看到它`PDO::ATTR_DRIVER_NAME`被列为类型`string`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:52:36.577

表示 const 值的`(integer)`数据类型，它们都是整数。

# java - Swing GUI 组件 (JList/JTable) 上的旋转和透视

> ID：11932817
> 
> 赞同：2
> 
> 时间：2012-08-13T10:49:21.097
> 
> 标签：java, swing, jlist

我正在尝试构建一个媒体播放器。我有音乐播放的所有代码。GUI 由 3 个主要部分组成：-

1.  蓝色背景。
2.  一个`JList`与`JScrollPane`
3.  一个`JLayer`外壳（切出一个多边形以显示其下方的列表和蓝色背景。）

所以我的问题是如何创建一个自定义列表，或者`JTable`在组件的底部在两个角上拉伸时稍微旋转（使用透视过滤器）。此外，`JScrollbar`附件也必须定制。我想至少它需要旋转。但是想知道如何通过提供我自己的图形来制作一个。这可能吗？

这是设计的模型： [http ://www.splashportal.net/MOCKUP/iJuk-MOCKUP.swf](http://www.splashportal.net/MOCKUP/iJuk-MOCKUP.swf)

这是它的截图： ![在此处输入图像描述](../Images/6c618bf47174eec5d31688e528ea2c1f.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T15:24:22.080

您可以转换视图组件，如此处所示[，](https://stackoverflow.com/a/6333584/230513)但如果不重新编写 UI 委托，鼠标交互实际上是不可能的。或者，您可以调整[此处](https://stackoverflow.com/a/2244285/230513)显示的方法，该方法使用*逆变*换来实现鼠标控制。

# php - magento：致命错误：调用未定义的方法 Varien_Data_Collection::addFieldToFilter()

> ID：11932818
> 
> 赞同：0
> 
> 时间：2012-08-13T10:49:24.033
> 
> 标签：php, magento

```
class Nextshopping_Shipment_Model_Mysql4_Shipment_Collection extends     Mage_Core_Model_Mysql4_Collection_Abstract
{
    public function loadProductForShipment(){

    $coll = new  Varien_Data_Collection();

    $shipment = Mage::getModel('shipment/shipment')->getResourceCollection();
    $order_item_id = array();
    if($shipment){
        foreach ($shipment as $item){
            $order_item_id[] = $item->getOrderItemId();
        }
    }
    $collection = Mage::getModel('sales/order_item')->getCollection();

    if($order_item_id){
        $collection = $collection ->addFieldToFilter('item_id',array('nin'=>$order_item_id));
    }
    $collection->addAttributeToSelect('item_id');
    $collection->addAttributeToSelect('product_id');
    $collection->addAttributeToSelect('name');
    $collection->addAttributeToSelect('sku');
    $collection->addAttributeToSelect('qty_ordered');

    $collection->getSelect()
    ->join('sales_flat_order','main_table.order_id = sales_flat_order.entity_id AND sales_flat_order.state = "complete"',
            array('state','status as order_status','increment_id as order_increment_id'))
            ->join('sales_flat_invoice','sales_flat_invoice.order_id = sales_flat_order.entity_id',
                    array('entity_id as invoice_id'))
                    ->join('sales_flat_order_payment','sales_flat_order_payment.entity_id = sales_flat_order.entity_id AND method != "cashondelivery"',
                            array('method'))
                            ->join('sales_flat_shipment','sales_flat_shipment.order_id = sales_flat_order.entity_id',
                                    array('created_at','updated_at'));
    if($collection){
        foreach ($collection as $item){
            $object = new Varien_Object();

            $object->setData($item->getData());

            $object->setData('qty_shipmented',0);

            if(strtotime($item['created_at']) + 3600*24*3 < time()){
                $object->setData('more_than_three',$item['qty_ordered']);
            }else{
                $object->setData('more_than_three',0);
            }

            if(strtotime($item['created_at']) +3600*24*5 < time()){
                $object->setData('more_than_five',$item['qty_ordered']);
            }else{
                $object->setData('more_than_five',0);
            }

            if(strtotime($item['created_at']) +3600*24*7 < time()){
                $object->setData('more_than_seven',$item['qty_ordered']);
            }else{
                $object->setData('more_than_seven',0);
            }
            $coll->addItem($object);
        }
    }
    //$coll = Mage::getModel('sales/order_item')->getResourceCollection();
    return $coll;
}

 protected function _prepareCollection()
{
  $collection = Mage::getModel('shipment/shipment')->getCollection()->loadProductForShipment();
   $this->setCollection($collection);
   return parent::_prepareCollection();
} 
```

在这个方法`more_than_three`中是一个不在数据库中的自定义字段。该集合用于网格调用，但是当我单击“搜索”时，程序会回显

`Fatal error: Call to undefined method Varien_Data_Collection::addFieldToFilter() in E:\Program Files\xampp\htdocs\shopping.nextmedia.com\app\code\core\Mage\Adminhtml\Block\Widget\Grid.php on line 472`

谁能告诉我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T11:28:16.487

检查错误为何指向一个类`Varien_Data_Collection`；因为使用`Mage::getModel('sales/order_item')->getCollection();`它时应该返回一个类型的对象`Mage_Sales_Model_Resource_Order_Item_Collection`！

`Varien_Data_Collection`只是被 Magento 中的任何集合扩展的类。

另外，您可以尝试其他方法来创建集合 - 我不知道您的版本是否正确：

```
// instead of
Mage::getModel('sales/order_item')->getCollection();
// try something like:
Mage::getModel('sales/order_item')->getResourceCollection();
// or:
Mage::getResourceModel('sales/order_item')->getCollection();
// or even:
Mage::getResourceModel('sales/order_item_collection'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T11:16:36.690

如果您查看官方文档，您会发现该类没有这样的方法：[http ://docs.magentocommerce.com/Varien/Varien_Data/Varien_Data_Collection.html](http://docs.magentocommerce.com/Varien/Varien_Data/Varien_Data_Collection.html)

我的猜测是您正在寻找 addFilter 方法来实现相同的效果；）

# android - 如何将 TypeFace 设置为 PagerTabStrip 文本视图

> ID：11932820
> 
> 赞同：4
> 
> 时间：2012-08-13T10:49:40.340
> 
> 标签：android, custom-font

在我的应用程序中，我正在使用带有[PagerTabStrip](http://developer.android.com/reference/android/support/v4/view/ViewPager.html)的[ViewPager](http://developer.android.com/reference/android/support/v4/view/PagerTabStrip.html)，我需要为我的小部件设置自定义字体。要为 a`Button`或 a设置字体，`TextView`我只需扩展类并设置字体。

```
public class MyButton extends Button {

    public MyButton(Context context) {
        super(context);
        initCustomFont();
    }

    public MyButton(Context context, AttributeSet attrs) {
        super(context, attrs);
        initCustomFont();
    }

    public MyButton(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
        initCustomFont();
    }

    private void initCustomFont() {
        if(!isInEditMode()) {
            Typeface tf = Typeface.createFromAsset(getContext().getAssets(), "fonts/boton_regular.ttf");
            setTypeface(tf);
        }
    }
} 
```

但我不能将此方法用于`PagerTabStrip`. 是否有另一种方法来设置可以与 一起使用的字体`PagerTabStrip`？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-11-16T06:53:17.417

有点晚了，但这是一个解决方案。获取 PagerTabStrip 的子视图并检查它是否是 TextView 的实例。如果是，请设置字体：

```
for (int i = 0; i < pagerTabStrip.getChildCount(); ++i) {
    View nextChild = pagerTabStrip.getChildAt(i);
    if (nextChild instanceof TextView) {
       TextView textViewToConvert = (TextView) nextChild;
       textViewToConvert.setTypeface(PUT_TYPEFACE_HERE)
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T11:54:35.613

检查`PagerTabStrip`with **Hierarchy View**（在运行应用程序时在 Eclipse 中打开 Hierarchy View 透视图）并搜索其子项。一个必须是`TextView`包含选项卡标题的 a。获取它`TextView`并设置它的字体。

# iphone - iOS：是否可以检测音乐库中是否存在曲目？

> ID：11932821
> 
> 赞同：3
> 
> 时间：2012-08-13T10:49:41.493
> 
> 标签：iphone, ios, itunes

我正在为乐队开发一个应用程序，如果他们的专辑或单曲在用户的音乐库中，他们希望解锁某些功能。

是否可以扫描库中的特定标题？（还可能检查持续时间？）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:53:59.777

两者都应该可以，看看[iPod Library Access Programming Guide](http://developer.apple.com/library/iOS/#documentation/Audio/Conceptual/iPodLibraryAccess_Guide/AboutiPodLibraryAccess/AboutiPodLibraryAccess.html#//apple_ref/doc/uid/TP40008765-CH103-SW9)，特别是关于以编程方式查询媒体存储和项目元数据的秒数（持续时间）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T11:49:56.903

这是一个有效的搜索。这将检查与标题和艺术家姓名都匹配的曲目。

```
MPMediaPropertyPredicate *titlePredicate = [MPMediaPropertyPredicate predicateWithValue:@"Sleep The Clock Around" forProperty:MPMediaItemPropertyTitle comparisonType:MPMediaPredicateComparisonEqualTo];

MPMediaPropertyPredicate *artistPredicate = [MPMediaPropertyPredicate predicateWithValue:@"Belle & Sebastian" forProperty:MPMediaItemPropertyArtist comparisonType:MPMediaPredicateComparisonEqualTo];

MPMediaQuery *trackSearch = [[MPMediaQuery alloc] initWithFilterPredicates:[NSSet setWithObjects:titlePredicate,artistPredicate, nil]];

if(trackSearch.items.count > 0) NSLog(@"we found the track!"); 
```

# java - 如何从 LoggingEvent 获取 ISO 格式的时间？

> ID：11932823
> 
> 赞同：0
> 
> 时间：2012-08-13T10:49:45.460
> 
> 标签：java, log4j, jms

我正在使用 JMSAppender 发送日志记录事件。在`Receiver`我需要打印它们/放入文件中 - 格式为日期：

```
yyyy-MM-dd HH:mm:ss,SSS 
```

但我只能做`event.getTimeStamp()`which returns `long`。

（我觉得很奇怪，因为在常规日志记录中，使用`%d`我们不能以毫秒为单位记录当前时间）

有没有办法从日志事件中获取 ISO 格式的日期？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T11:14:32.470

你能试试这个

```
DateFormat dformat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss,SSS");
String dateString = dformat.format(new Date(event.getTimeStamp()); 
System.out.println(dateString ); 
```

# java - 如何使用 Jersey 将对象传递给 REST Web 资源

> ID：11932824
> 
> 赞同：1
> 
> 时间：2012-08-13T10:49:54.613
> 
> 标签：java, jersey, jax-rs

我是 webservice 的新成员。请帮助我。我正在尝试使用 Jersey 实现将对象传递到 webresource。但我遇到了错误

```
"HTTP Status 405" and description is "The specified HTTP method is not allowed for the requested resource ()." 
```

我提到了下面的对象，网络资源方法，HTML页面

果豆：-

```
 @XmlRootElement(name="fruitbean")
    public class FruitBean {
        private long id;
        private String name;
        public long getId() {
            return id;
        }
        public void setId(long id) {
            this.id = id;
        }
        public String getName() {
            return name;
        }
        public void setName(String name) {
            this.name = name;
        }
   } 
```

水果店服务：-

```
@Path("fruitstore")
public class FruitStore {

    @PUT
    @Path("checkIDByObject")
    @Consumes("application/xml")
    public void loadObject(FruitBean bean){
        System.out.println("====================");
        System.out.println("Fruit ID"+bean.getId()+" Name"+bean.getName());

    }
} 
```

索引.htm:-

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Test Jax-RS Object</title>
</head>
<body>
<form action="services/fruitstore/checkIDByObject" method="POST">
<table>
<tr>
    <td>ID:</td>
    <td><input type="text" name="id"></td>
</tr>
<tr>
    <td>Name:</td>
    <td><input type="text" name="name"></td>
</tr>
<tr>

    <td><input type="submit" Value="Submit"></td>
</tr>
</table>

</form>
</body>
</html> 
```

我正在尝试运行此 index.htm。但我遇到了异常。如何使用 jersey 将对象传递给 Restfull webserice 中的 webresource 方法。请帮助我。

**更新 ：-**

```
FruitStore Service:-

    @Path("fruitstore")
    public class FruitStore {
    @POST
    @Path("checkIDByObject")
    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)

    public void loadObject(FruitBean bean){
        System.out.println("====================");
        System.out.println("Fruit ID"+bean.getId()+" Name"+bean.getName());

    }
} 
```

果豆：-

```
@XmlRootElement(name="fruitbean")
public class FruitBean {

    private long id;

    private String name;
    @XmlAttribute
    public long getId() {
        return id;
    }
    public void setId(long id) {
        this.id = id;
    }
    @XmlAttribute
    public String getName() {
        return name;
    }
    public void setName(String name) {
        this.name = name;
    } 
```

**索引.html：**

```
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Test Jax-RS Object</title>
</head>
<body>
<form action="services/fruitstore/checkIDByObject" method="POST" enctype="application/x-www-form-urlencoded">
<table>
<tr>
    <td>ID:</td>
    <td><input type="text" name="id"></td>
</tr>
<tr>
    <td>Name:</td>
    <td><input type="text" name="name"></td>
</tr>
<tr>

    <td><input type="submit" Value="Submit"></td>
</tr>
</table>

</form>
</body>
</html> 
```

我在控制台中收到以下消息

> 严重：找不到 Java 类型、com.service.fruitstore.FruitBean 类和 MIME 媒体类型 application/x-www-form-urlencoded 的消息正文阅读器

请帮我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T11:00:32.793

您没有将 xml 发送到您的控制器。检查[如何通过 HTML 表单将 XML 发布到服务器？](https://stackoverflow.com/questions/2088862/how-to-post-xml-to-server-thru-html-form).

Fruitbean：为 getter 或字段添加注释

编辑：您可以使用[rest-client测试您的网络服务](http://code.google.com/p/rest-client/)

编辑2：

```
@Path("fruitstore")
public class FruitStore {

  @POST
  @Path("/checkobjectbyid")
  @Consumes(MediaType.APPLICATION_XML)
  public void loadObject(FruitBean bean) {
    System.out.println("====================");
    System.out.println("Fruit ID" + bean.getId() + " Name" + bean.getName());
  }

  @GET
  @Path("/fruitbean")
  @Produces(MediaType.APPLICATION_XML)
  public Response getFruitBean(){
    FruitBean fruitBean = new FruitBean();
    fruitBean.setId(1L);
    fruitBean.setName("name of fruitbean");
    return Response.status(Response.Status.OK).entity(fruitBean).build();
  }
} 
```

路径使用小写字符。（网址是小写的）

使用正确的 Consume 和 Produces 注释。

```
<servlet>
  <servlet-name>ServletAdaptor</servlet-name>
  <servlet-class>com.sun.jersey.spi.container.servlet.ServletContainer</servlet-class>
  <load-on-startup>1</load-on-startup>
</servlet>
<servlet-mapping>
  <servlet-name>ServletAdaptor</servlet-name>
  <url-pattern>/resources/*</url-pattern>
</servlet-mapping> 
```

web.xml 的一部分

网址：

```
POST http://localhost:8080/PROJECTNAME/resources/fruitstore/checkobjectbyid

GET http://localhost:8080/PROJECTNAME/resources/fruitstore/fruitbean 
```

使用 rest-client 进行测试

```
URL: http://localhost:8080/PROJECTNAME/resources/fruitstore/checkobjectbyid

METHOD: POST

CONTENT-TYPE: application/xml

CHARSET: UTF-8

BODY: <?xml version="1.0" encoding="UTF-8" standalone="yes"?><fruitbean id="1" name="name of fruitbean"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T11:22:10.633

首先：在您的`index.htm`:`method="POST"`和网络服务代码中：`@PUT`。那么这不是表单操作 - 这只是您的请求的正文。尝试按照 Err的[建议](https://stackoverflow.com/a/11932988/1235336)使用 rest-cliet或[Chrome cREST Client](https://chrome.google.com/webstore/detail/baedhhmoaooldchehjhlpppaieoglhml)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-08T16:00:18.930

我也有同样的问题。然而，我以不同的方式做到了。我没有传入一个对象（这会更容易，但是我也是出于学习目的这样做），而是使用了`@FormParam`注释。

**HTML**

```
<form action="../{projectname}/{rest}/{resource}/findByIdOrName" action="post">
    <label>id</label>
    <input type="text" name="id" />
    <label>name</label>
    <input type="text" name="name" />
    <input type="submit" value="Find" />
</form> 
```

**JAX-RS 资源**

```
@Path("/resource")
public class resource {

    @POST
    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)
    @Path("findByIdOrName")
    public void findByIdOrName (@FormParam("id") int id, 
                                @FormParam("name") String name) {
        System.out.println("=======");
        System.out.println("id: " + id + " name:" + name);
    }
} 
```

我就是这样做的，它很简单而且很有效。至于模型，老实说，我不知道。我更像是一个 C#.NET 人，我正在尝试学习 Java。

# iphone - 在方向更改后查找元素的位置

> ID：11932827
> 
> 赞同：0
> 
> 时间：2012-08-13T10:49:58.010
> 
> 标签：iphone, ios

如果有一种方法可以让您知道旋转后 UI 元素的框架是什么，我正在徘徊。我需要这个`willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration`来设置与这个相关的其他元素。

在这个方法中，如果你检查一个UI元素的框架，它会是旋转之前的框架，因为它被调用了`WILLrotate...`

我知道我可以做到这一点`didRotate...`，但这看起来很糟糕。我想在屏幕旋转时在动画中设置新帧。我知道我可以对值进行硬编码，但这看起来不像是一个解决方案。

干杯，

乔治

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T11:54:05.677

好吧，你可以做到。如果您知道在 Interface Builder 中看到的“弹簧和支柱”——那么它们是主视图的“autoresizingMask”属性的位掩码中的位。由于您知道您的视图将更改其框架，因此您可以在主视图的子视图（以及那些视图子视图）中采用任意视图，并从主视图开始，逐步确定每个容器的框架在回转。

例如，如果您有一个框架为 10,460,300,10 的 UITextField，并且它有一个水平弹簧，并且锚定在左侧、右侧和底部 - 那么当视图从 320 到 480 的宽度旋转时，新的帧将是 10,300,460,10。

# iphone - 如何计算 iPhone 中的 Item of Fram 的位置？

> ID：11932828
> 
> 赞同：0
> 
> 时间：2012-08-13T10:49:58.690
> 
> 标签：iphone, ios

首先，我有一个用 UIView 绘制的项目。我想绘制一排有 4 个项目的 20 个项目，所以有 5 行。我的问题是如何找到或计算项目的所有位置。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T10:53:58.150

假设是 iPhone：

```
const float itemWidth = 320.0 / 4;
const float itemHeight = 480.0 / 4;

for (int row = 0; row < 5; row++)
    for (int col = 0; col < 4; col++)
    {
        CGRect frm = CGRectMake(col * itemWidth, row * itemHeight, itemWidth, itemHeight);
        // frm contains the position and size of each element
    } 
```

需要针对 iPad 进行调整，或者如果您想在元素之间进行填充。

# php - Aptana 3 - PHP 文件中的 HTML 验证

> ID：11932831
> 
> 赞同：0
> 
> 时间：2012-08-13T10:50:12.663
> 
> 标签：php, html, validation, syntax, aptana

有没有办法为 .php 文件中的 HTML 代码启用语法验证？我已经尝试检查“web”和“php”的项目性质并添加文件类型关联。

现在，当我在 php 文件中出现任何 html 错误时，它不会给出任何错误/警告。我将 doctype 设置为 html5，所以它至少应该返回一个警告，对吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T11:44:17.347

不会。由于您正在写入`.php`文件，因此 Aptana 只会验证`PHP`语法，**而不是** `HTML`. 如果您遇到问题，请将您的文件`HTML syntax`写入文件并将其传输过来。（最简单，最明显的方式）`HTML``.html`

# java - 发布 JMS 消息后获得响应

> ID：11932833
> 
> 赞同：0
> 
> 时间：2012-08-13T10:50:20.467
> 
> 标签：java, jms, response, message

以下代码块用于将一组 JMS 消息发布到 EMS 服务器

```
 for(int i=1;i<=200;i++)
            {

                msg=myMessages.get(i); // myMessages is an Arraylist of TextMessages
                qsender = qsession.createSender((Queue)msg.getJMSDestination());
                qreceiver=qsession.createReceiver((Queue)msg.getJMSDestination());
                temp1 = qsession.createTemporaryQueue();
                responseConsumer = qsession.createConsumer(temp1);
                msg.setJMSReplyTo(temp1);
                msg.setJMSCorrelationID(msg.getJMSCorrelationID()+i);
                qsender.send(msg);

            } 
```

由于这不是我开发的，我对此有一些疑问。

1.  查询实际上做了什么？它只是发布消息而没有回应吗？
2.  如果是，我们如何知道响应何时返回以及我们如何计算所花费的时间？
3.  我们如何计算消息到达那里所需的总时间以及返回的响应？

如果需要更多信息，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T11:04:39.270

要回答您的问题：

1.  是的，它只发布消息；

2.  您确实知道消息何时返回，方法是实现`MessageListener`then 每次`onMessage()`调用该方法时，一条新消息将准备好进行处理；

3.  回答第三个问题有点复杂，但您可能希望在某种持久性存储中记录或写入消息发布的时间以及收到响应的时间（基于相关性 ID，然后您可能能够知道每条消息经过了多少时间）；

问候，

Y。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:56:30.320

> 它只是发布消息而没有回应吗？

是的。它还创建了一个发送者来发送消息和一个它似乎没有使用的接收者。

> 如果是，我们如何知道响应何时返回以及我们如何计算所花费的时间？

它为此创建一个临时队列和一个接收器。它期望另一端将消息发送到存储在“JMSReplyTo”中的队列名称

> 我们如何计算消息到达那里所需的总时间以及返回的响应？

您可以让消费者获取时间并将其与发送第一条消息的时间相匹配。

恕我直言，一种更简单的方法是将发送的时间添加为属性并让服务返回。这样，您就可以在返回的消息中获得所需的所有信息。

# binding - Groovy Binding：重新绑定值

> ID：11932836
> 
> 赞同：0
> 
> 时间：2012-08-13T10:50:34.720
> 
> 标签：binding, groovy, immutability

我有一个应用程序，其中一些配置存储在数据库中，并在启动时将它们注入到配置对象中。它们的存储方式是`object path`字符串，例如：`"some.config.value"`.

所以解析后就变成了这样的map： `[some: [config: [value: [:]]]]`

我使用 实现了这一点[`Binding`](http://groovy.codehaus.org/api/groovy/lang/Binding.html)，这是代码：

```
Binding bind = new Binding()
bind.tmp = bean // Bean is an object where it is being injected

String[] traverse = stringPath.split(/\./)
def shift = bind.tmp
traverse.eachWithIndex { String it, int i ->
    if (it) {
        if (!(shift instanceof Map)) {
            shift = ["$it": [:]] // <-- Doesn't work
        } else {
            if (!shift?.containsKey(it)) {
                // val - is a value to assign to last key in path
                shift[it] = (i + 1 == traverse.size()) ? val : [:]
            } else if (shift?.containsKey(it) && (i + 1 == traverse.size())) {
                shift[it] = val
            }
        }

        shift = shift[it]
    }
} 
```

这种方法的问题在于，如果我已经在绑定中定义了键，我似乎无法重新定义它（在 中`shift = ["$it": [:]]`）。

例如：如果我有`config.val`并且`config.val.moreConfig`- 则`moreConfig`不会被分配。

一段时间后，我决定通过`value`自动在所有路径中声明键来分配值，但我仍然很好奇是否有办法在绑定中重新定义值？

还是`Binding`在 groovy 中声明的值变得可变？

**更新：** `bean`是一个带有硬编码配置的哈希映射。它可能只是一张空地图。基本上我正在做的是在最后注入更多有价值的地图。

如果我有一个价值链：

*   `"config.some.var" = 10`
*   `"config.some.var2" = 20`
*   `"config.some.var.more" = 30`

将导致：

```
[config: [
    some: [
        var: 10,
        var2: 20
    ]
]] 
```

最新的预期将被丢弃，因为它的值已经为`10`. 我想要的是用最新的覆盖第一个值，同时将所有其他值保留在同一深度。

上面的代码产生以下内容：

```
def bean = [someOtherConfig: []]
convert bean, 'config.var', 10
convert bean, 'config.var2', 20
convert bean, 'config.var.more', 30
assert bean == [someOtherConfig: [], config: [var: 10, var2: 20]] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T11:33:40.777

我无法从您的问题中看到您要做什么，但这会为您提供您所说的您希望从您描述的输入中获得的输出：

```
def build = { name ->
  name.split( /\./ ).reverse().inject( [:] ) { m, n ->
    [ (n): m ]
  }
}

def map = build( 'some.config.value' )

assert map == ['some':['config':['value':[:]]]] 
```

您还可以通过使用 Closure 代表来做类似这样的有趣事情：

```
def map = new ConfigBuilder().build {
  config.some.var = 10
  config.some.var2 = 20
  config.some.var.more = 30
}

assert map == [config:[some:[var:10, var2:20]]]

// Implementation

class ConfigBuilder {
  private Map map, curr
  private boolean ignore = false

  ConfigBuilder( Map initial=[:] ) {
    this.map = initial
    this.curr = this.map
  }

  def build( Closure c ) {
    c.delegate = this
    c.resolveStrategy = Closure.DELEGATE_FIRST
    c()
    map
  }

  def propertyMissing( String name ) {
    if( ignore ) return this 
    if( curr[ name ] == null ) {
      curr[ name ] = [:]
      curr = curr[ name ]
    }
    else if( curr[ name ] instanceof Map ) {
      curr = curr[ name ]
    }
    else {
      ignore = true
    }
    this
  }

  void setProperty( String name, value ) {
    if( !ignore ) {
      curr[ name ] = value
    }
    // Reset and go again
    ignore = false
    curr = map
    value
  }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:56:22.183

我不知道是否可以将键绑定到值可变，但您应该能够使用仅绑定一次的单个可变值获得几乎相同的效果。

# android - 在后台每 10 秒执行一次特定任务（android）

> ID：11932837
> 
> 赞同：0
> 
> 时间：2012-08-13T10:50:38.840
> 
> 标签：android, android-service, background-service

我正在开发 android 应用程序，我想在每 10 秒后做一些事情。甚至应用程序都关闭了。为此，我实现了一个后台服务，它为我执行后台任务。我的代码结构如下所示：

```
// my main activity
@Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        Button start = (Button)findViewById(R.id.serviceButton);
        Button stop = (Button)findViewById(R.id.cancelButton);

        start.setOnClickListener(startListener);
        stop.setOnClickListener(stopListener);

   }

   private OnClickListener startListener = new OnClickListener() {
    public void onClick(View v){
        startService(new Intent(SimpleServiceController.this,SimpleService.class));
    }               
   };

   private OnClickListener stopListener = new OnClickListener() {
        public void onClick(View v){
            stopService(new Intent(SimpleServiceController.this,SimpleService.class));
        }               
      }; 

//simpleservice

   @Override
public IBinder onBind(Intent arg0) {
    // TODO Auto-generated method stub
    return null;
}

@Override
public void onCreate() {
    super.onCreate();
    Toast.makeText(this,"Service created ...", Toast.LENGTH_LONG).show();
}

@Override
public void onDestroy() {
    super.onDestroy();
    Toast.makeText(this, "Service destroyed ...", Toast.LENGTH_LONG).show();
} 
```

这工作正常。但是，当我每 10 秒后开始服务时，我现在想要做的只是给我简单的 Toast 消息，当我停止服务时停止 Toast 消息。

我也尝试过使用 AlarmManager。

```
// main activity....
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
}

public void startAlert(View view) {

    Intent intent = new Intent(this, MyBroadcastReceiver.class);
    PendingIntent pendingIntent = PendingIntent.getBroadcast(
            this.getApplicationContext(), 234324243, intent, 0);

    AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);
    alarmManager.set(AlarmManager.RTC_WAKEUP, System.currentTimeMillis()
            + (10 * 1000), pendingIntent);
    Toast.makeText(this, "Alarm set in " + 10 + " seconds",
            Toast.LENGTH_LONG).show();
}

// broadcast receiver
public class MyBroadcastReceiver extends BroadcastReceiver {
@Override
public void onReceive(Context context, Intent intent) {
    Toast.makeText(context, "Don't panik but your time is up!!!!.",
            Toast.LENGTH_LONG).show();

}

} 
```

但我不能定期这样做。实现这一点的正确方法是什么？需要帮助...谢谢...

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2012-08-13T10:57:38.847

你需要这样的东西：

```
while (connected){

    Handler handler = new Handler();
    handler.postDelayed(new Runnable() {

        public void run() {
            Toast.makeText(this, "Hi", Toast.LENGTH_SHORT).show();
        }
    }, 10000);
} 
```

并且 connected 是一个布尔值，您可以在停止方法上进行更改

# powershell - 创建一个 powershell 脚本以在启动时运行可执行文件

> ID：11932844
> 
> 赞同：0
> 
> 时间：2012-08-13T10:50:59.937
> 
> 标签：powershell

我有一个可执行文件，我需要在机器启动时运行它。场景是我需要写install.ps1和uninstall.ps1。install.ps1 将告诉机器每次计算机启动时运行我的可执行文件。uninstall.ps1 将告诉机器不要运行该可执行文件。我正在寻找如何编写 install.ps1 以及在其中写入什么以便它运行可执行文件。还有什么方法可以在 .ps1 文件中放置一个计时器来检查可执行文件是否正在执行？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T12:07:17.453

您可以编写一个控制台应用程序，而不是编写 powerscripts，该应用程序可以让您的可执行文件在启动时使用注册表运行？同样，您可以编写uninstall.exe，它将从注册表中删除上述条目。简单易行..不是吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T11:01:27.167

您可以使用计划任务来启动可执行文件。就像是：

```
schtasks.exe /Create /TN myTask /SC ONSTART /TR notepad.exe 
```

它将根据以下内容在登录时启动记事本： http: [//poshtips.com/2011/04/07/use-powershell-to-create-a-scheduled-task/](http://poshtips.com/2011/04/07/use-powershell-to-create-a-scheduled-task/)

# python - 检查 \n 是否存在，如果不存在则在列表中的特定位置插入 \n

> ID：11932851
> 
> 赞同：0
> 
> 时间：2012-08-13T10:51:30.353
> 
> 标签：python, list

我有一个需要插入特定字符的列表`\n`。

但是，同时这将在两个 for 循环内。在这种情况下，我们需要检查`\n`该位置是否已经存在。

如果存在，请不要插入，否则`\n`在该位置插入。

```
# position of '\n' from previous list
# '\n' needs to be exactly at the same position as in the previous lsit

indexes = [i for i, val in enumerate(input_list) if val == '\n']

ncol = some value

nrows = some value

for column in range(1, ncol):

    for row in range(1, nrows):
        abc.append(ws2.cell(row = row, column=column).value)
        if ind in indexes:
            abc.insert(ind, '\n')
        #print('abc: ', abc)
        concatABC = '\n'.join(abc)
        #print('Concate: ', concatABC)
        ws.cell(row=(nrows), column=(column)).value = concatABC
    del abc[:] 
```

在`if`循环中，我必须检查是否`\n`已经存在。每次都插入它是没有意义的，因为它只需要一次。

我正在使用输入 TXT 文件生成的 input_list 中给出的特定数据结构生成 excel 文件。

对困惑感到抱歉，

ind 的值来自列表索引，我从原始输入列表中获取 '\n' 的位置。在我的代码之间，我从 xml 文件中提取数据并将其放入 Excel。现在，在最后一个 Excel 行/单元格中连接这些数据时，我需要保持 TXT 文件中给定的格式。

我的问题是只有输入列表是稳定的，所有其他的东西要么来自 XML，要么在循环迭代时更新。

@wim：输入将是.. input_list = ['abc', '\n', 'def', 'ghi', '\n', 'jkl', 'mno']

我们从这个输入列表中获得 \n 的索引，然后在我的 excel 中，我连接所有顶行并将 \n 准确地放在输入列表中的位置。这就是全部。

Excel 中的输出：

第 1 行：ABC

第 2 行：定义

第 3 行：ghi

第 4 行：jkl

第 5 行：mno

第 6 行：abc
空行 (\n)
def
ghi
空行 (\n)
jkl
mno

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T11:19:35.020

你可以使用这样的函数：

```
lis=[1,2,3,4,5,'\n','abc','a']

def ins(pos):

    if lis[pos]=='\n':
        print ('found')
    else:
        lis.insert(pos,'\n') 
```

**输出：**

```
>>> ins(3)
>>> lis
[1, 2, 3, '\n', 4, 5, '\n', 'abc', 'a']
>>> ins(5)
>>> lis
[1, 2, 3, '\n', 4, '\n', 5, '\n', 'abc', 'a']
>>> ins(7)
found
>>> lis
[1, 2, 3, '\n', 4, '\n', 5, '\n', 'abc', 'a']
>>> ins(len(lis)-1)
>>> lis
[1, 2, 3, '\n', 4, '\n', 5, '\n', 'abc', '\n', 'a'] 
```

# ruby - Ruby 读取字符串模式并编辑它们

> ID：11932854
> 
> 赞同：-3
> 
> 时间：2012-08-13T10:51:36.747
> 
> 标签：ruby, string

我有一条消息，它计算主题中的消息回复..

模式是这样的：

```
RE[22] Some subject 
```

当人们回复它时，它应该是：

```
RE[23] Some subject 
```

所以基本上我需要得到“[”和“]”（ RE[**] ）之间的值并改变它..但我不能只按长度，因为它可能会改变，例如，它可能是“重新 [254]"..

我试图用正则表达式找到解决方案，`scan`但是我无法以任何方式让它工作。我真的不明白如何在 ruby​​ 中做到这一点。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T11:01:24.887

试试这个：

```
"RE[22] Some subject".sub(/^RE\[(\d+)\](.*)/) do
  value = $1.to_i
  "RE[#{value + 1}]#{$2}"
end 
```

正则表达式非常强大。你真的应该好好学习它们！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T11:09:33.977

`/\d+/`如果这些是您期望的唯一数字，那么使用它们来匹配它们就足够了。

如果您想确保这些是括号内的数字，您可以使用 `/(?<=\[)\d+(?=\])/`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T12:33:04.297

好的，我是如何工作的，感谢 Christoph Petschnig 和 davidrac

最后，我所做的是：

```
@string = "RE[22] Kaut kads random teksts..."
@get_re = nil

 @string.sub(/\d+/) do |x|
   @get_re = x.to_i + 1
end 
```

用 cinda 成功了，因为我的回复号码总是第一个，但是如果它的第一条消息没有 RE[] 前缀怎么办，所以我需要进一步考虑..

我稍微修改了 davidrac 示例并得到了解决方案。所以现在 @string 是否有 RE[] 前缀并不重要：

```
@string = "RE[25] some random subject with more numbers 245 in it" 
```

或不：

```
@string = "some random subject with more numbers 245 in it" 
```

此代码将编辑或添加它：

```
@get_re = nil

@string.sub(/(?<=RE\[)\d+(?=\])/) do |x|
    @get_re = @string["RE[#{x.to_i + 1}]"]
end

return @get_re? @get_re : "RE[1] " + @string 
```

# javascript - 在 window.Unload 事件上将用户活动发布到服务器是个好主意吗？

> ID：11932856
> 
> 赞同：3
> 
> 时间：2012-08-13T10:51:55.710
> 
> 标签：javascript, jquery, ajax

我在 java 脚本中编写了一段代码，用于跟踪用户在特定页面上的活动。我将它们存储在某些变量中，当用户关闭页面或导航离开页面时，我将它们发布到服务器。我打算做什么是只发布到服务器一次，所以 window.Unload 事件听起来很自然。我必须做出一些牺牲才能让它像使请求同步一样工作。

那么我想知道我所做的是否是好的？或者有没有更好的方法来实现这一点。我在这里寻找意见，任何事情都会受到赞赏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T10:56:19.053

它不适用于所有浏览器，

如果您想跟踪用户的活动并且不想进行谷歌分析并且想将数据保留在您的服务器上，您可以选择以下

[http://piwik.org/docs/javascript-tracking/](http://piwik.org/docs/javascript-tracking/)

# c++ - C++ 静态初始化：与 Java -Dxxx 参数最接近的匹配？

> ID：11932862
> 
> 赞同：0
> 
> 时间：2012-08-13T10:52:27.233
> 
> 标签：c++

我已经实现了一个算法，该算法有一个强大的用例，可以尽快知道在整个库执行期间将计算的最大问题大小，以便可以有效地预先计算所需的内存（矩阵、向量等） -分配。“尽快”定义为甚至早于或不晚于 C++ 静态初始化触发时，例如

```
 /**
   * Example of what I would like to accomplish but of course this 
   * System#getProperty is the Java way
   */
  class texample {
      static const int MAX_M_N;
  }

  const int texample::MAX_M_N = System.getProperty("maxMN");  // possible? how? 
```

我当然可以使用动态初始化和分配来做到这一点，但如果在静态初始化期间“看到”这些输入参数属性，它会简单得多。原因是静态初始化/分配的包装对象实例也会被静态销毁过程破坏，我不必担心它，例如处理异常和手动释放/删除实例。

更新：还有一件事:) 我想拥有这个而不必重新编译。我当然可以使用宏（我正在使用 CMake），因此很容易更改 CMakeList.txt 文件中的宏并重新编译，但我希望在运行时动态指定大小。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T11:38:12.140

如果从环境中读取是可以接受的，你可以试试这个：

```
#include <cstdlib>

int readme(char const * envname)
{
    char * e, * env = std::getenv(envname);

    if (!env)
    {
        std::cerr << "Environment '" << envname << "' missing, aborting.\n";
        std::exit(0);
    }

    int res = std::strtol(env, &e, 0);

    if (*e != 0)
    {
        std::cerr << "Environment '" << envname << "' unparsable (contains '" << env << '"), aborting.\n";
        std::exit(0);
    }

    return res;
}

int const texample::MAX_M_N = readme("maxMN");  // #1 
```

请注意，“#1”行是在程序的动态初始化阶段执行的，这是第一次执行用户代码，并且在`main`调用之前完成。

# url - Facebook 喜欢的 URL - Graph API 和 FQL 查询之间的区别

> ID：11932863
> 
> 赞同：0
> 
> 时间：2012-08-13T10:52:28.980
> 
> 标签：url, facebook-graph-api, facebook-like, facebook-fql

我对两种不同的结果感到有些困惑。

当我想用图表检索喜欢的 URL 列表时：

```
$url="https://graph.facebook.com/me/likes?access_token=".$access_token; 
```

**结果是**：我喜欢的所有东西都有一个 id。

比我尝试使用 fql 检索喜欢的 URL：

```
 $fql_query_url="SELECT url FROM url_like WHERE user_id = me()";  
 $query = "https://api.facebook.com/method/fql.query?query="; 
```

**结果是**：许多不同的 URL（其中大多数是 youtube 的），其中一些没有 id

我的问题是：

*   这两个请求有什么区别？
*   为什么有些 fql 响应有一个 id 而有些没有？
*   我怎样才能得到所有有 id 的喜欢的 URL？

非常感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T11:43:14.180

# ios - 如何在objective-c中创建json

> ID：11932864
> 
> 赞同：18
> 
> 时间：2012-08-13T10:52:29.630
> 
> 标签：ios, objective-c, json, nsjsonserialization

```
NSData* jsonDataToSendTheServer;

NSDictionary *setUser = [NSDictionary
            dictionaryWithObjectsAndKeys:[@"u" stringByAppendingString:my.id],@"id",
                                        @"GET_USER_INFO",@"command",
                                        @"",@"value",
                                        nil];

 NSLog(@"%@", jsonDataToSendTheServer); 
```

这是我的代码。当我运行上面的代码时，我得到了这个打印

```
<7b226964 223a2275 35383738 37373334 31222c22 636f6d6d 616e6422 3a224745 545f5553 45525f49 4e464f22 2c227661 6c756522 3a22227d> 
```

我不知道我是否可以创建一个 json。

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-08-13T11:00:27.203

您缺少将其转换为 json 的这一行

```
NSData* jsonData = [NSJSONSerialization dataWithJSONObject:setUser 
                   options:NSJSONWritingPrettyPrinted error:&error]; 
```

这是一个关于 NSJSONSerialization 的教程，可以帮助你： [http ://www.raywenderlich.com/5492/working-with-json-in-ios-5](http://www.raywenderlich.com/5492/working-with-json-in-ios-5)

之后，您可以将 NSData 转换为 NSString 以进行打印：

[将 UTF-8 编码的 NSData 转换为 NSString](https://stackoverflow.com/questions/2467844/convert-utf-8-encoded-nsdata-to-nsstring)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-08-13T11:01:20.703

您可以尝试以下创建 JSON：

```
NSArray *objects=[[NSArray alloc]initWithObjects:objects here,nil];
NSArray *keys=[[NSArray alloc]initWithObjects:corresponding keys of objects,nil];
NSDictionary *dict=[NSDictionary dictionaryWithObjects:objects forKeys:keys];
NSData *jsonData=[NSJSONSerialization dataWithJSONObject:dict options:NSJSONWritingPrettyPrinted error:&error]; 
```

这在我的情况下非常有效

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-04-30T03:31:04.920

试试下面

```
NSDictionary *o1 = [NSDictionary dictionaryWithObjectsAndKeys:
@"ABCD", @"key1",
@"EFG", @"key2",
nil];

NSDictionary *o2 = [NSDictionary dictionaryWithObjectsAndKeys:
@"XYZ", @"key1",
@"POI", @"key2",
nil];

NSArray *array = [NSArray arrayWithObjects:o1, o2, nil];

NSString *jsonString = [array JSONRepresentation]; 
```

// 发送 jsonString 到服务器 执行上面的代码后，jsonString 包含：

```
[
    {
        "key1": "ABCD",
        "key2": "EFG"
    },
    {
        "key1": "XYZ",
        "key2": "POI"
    }
] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-05-08T18:48:19.693

试试这个

```
NSData *data=[NSData dataWithContentsOfURL:[NSURL URLWithString:@"http://api.iospond.com/api/index.php/GetData"]];
    NSError *error=nil;
    id response=[NSJSONSerialization JSONObjectWithData:data options:NSJSONReadingMutableContainers error:&error];
    NSLog(@"Your JSON Object: %@ Or Error is: %@", response, error); 
```

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2015-11-27T02:31:53.700

NSMutableString *mutableString = nil; NSString *string= @"";

```
@try
{
    if (mutableString == nil)
    {
        mutableString = [[NSMutableString alloc] init];
    }

    [mutableString appendFormat:@"{"];
    [mutableString appendFormat:@"\"string1\":%@"",",@""];
    [mutableString appendFormat:@"\"string2\":\"%@\"",@""];
    [mutableString appendFormat:@"}"];
    jsonString = mutableString ;
}
@catch (NSException *exception)
{

}
@finally
{
    return string;
} 
```

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2018-08-28T07:25:14.923

```
NSDictionary *jsonObject = @{
                                 @"a":@[
                @{
                                             @"title1”:@“AA”,
                                             @"title2” : @“BB”,
                                             @"subcats" : @[
                                                     @{
                                                         @"title1” : @“CC”,
                                                         @"title2” :@“DD”
                                                         }

                                                     ]

                                             }
                                         ]

                                 }; 
```

# java - 在 Java 中迭代少量固定值的最佳方法是什么？

> ID：11932868
> 
> 赞同：2
> 
> 时间：2012-08-13T10:52:43.050
> 
> 标签：java, arrays, list, iteration

我想为固定数量的变量编写一些代码块，例如：

```
MyGenericClass<T> v1,v2,v3;
/* ... */
{
    /* something with v1 */
}
{
    /* same thing with v2 */
}
{
    /* same thing with v3 */
} 
```

我想避免代码重复。最好的方法是什么（希望不要为 GC 创建对象，因为这段代码会运行很多次）？

这有效：

```
for (MyGenericClass<S> v : new MyGenericClass[] {v1,v2,v3}) {
    /* something with v - no casting */
} 
```

带有类型安全警告，如下所示：

```
for (MyGenericClass<S> v : Arrays.asList(v1,v2,v3) {
    /* something with v - no casting */
} 
```

我应该更喜欢哪一个？还有更好的选择吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-13T11:00:16.867

这将是我的做法：

```
MyGenericClass<T> v1,v2,v3;
   foo(v1);
   foo(v2);
   foo(v3);
}
private void foo(MyGenericClass<T> v)
{
    /* something with v */
} 
```

您的解决方案将创建额外的对象（第一个将创建一个数组，第二个将创建一个数组、一个列表和一个迭代器）。如果我的函数调用被大量调用，编译器将对其进行内联，并且引用将存储在堆栈中而不是堆中。

# javascript - 如何在不重新加载的情况下动态更改 URL？

> ID：11932869
> 
> 赞同：32
> 
> 时间：2012-08-13T10:52:50.070
> 
> 标签：javascript, html, ajax

好的，这就是我想要做的（我认为谷歌也大多这样做）：

**方案 A：**

在页面`/Main_Page`中假设有 3 个部分。当用户点击 A 部分的“链接”时，`section A`其内容通过 AJAX 加载并嵌入到页面中。

**方案 B：**

加载后`/Main_Page/Section_A`，我们实际上会转到同一个页面（如场景 A 中） -并像以前一样通过 AJAX`/Main_Page`加载。`Section A`

* * *

**问题 ：**

我们有 2 个相同的结果页面，但 URL 不同（在第一种情况下它只是`/Main_Page`，而在第二种情况下它将是`/Main_Page/Section_A`）。

**我想做的事 ：**

*   在场景 A 中，`Section A`通过 AJAX 加载后，我应该如何做到这一点，以便出现的 URL（在浏览器地址栏中）是`/Main_Page/Section_A`（或其他任何事情），没有任何类型的重定向、页面重新加载等？

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2012-08-13T11:01:27.027

您的问题可以通过实现[History API](http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#the-history-interface)来解决，尤其是通过使用该[`pushState()`](http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#dom-history-pushstate)方法。我建议[在 MDN 中阅读它](https://developer.mozilla.org/en-US/docs/DOM/Manipulating_the_browser_history)。还有一个名为[History.js](https://github.com/balupton/History.js)的一体化解决方案，它将帮助您轻松实现 x-browser（`#`如果浏览器不支持它，它将回退到 URL 哈希）。

这是一个例子：

```
history.pushState('', 'New Page Title', newHREF); 
```

不够兴奋？这是一个鼓励您实施它的[演示。](http://html5doctor.com/demos/history/)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-07-30T12:18:20.280

我刚刚找到了一个教程，它对我有用，

```
$('a').click(function(){
var value = $(this).attr('id');
window.location.hash = value; // it appends id to url without refresh
});

$(window).bind('hashchange' function() {
    var newhash = window.location.hash.substring(1) // it gets id of clicked element
    // use load function of jquery to do the necessary...
}); 
```

我从 [http://css-tricks.com/video-screencasts/85-best-practices-dynamic-content/得到了上面的代码](http://css-tricks.com/video-screencasts/85-best-practices-dynamic-content/)

# android - Android：基于 DPI 请求外部图像

> ID：11932874
> 
> 赞同：1
> 
> 时间：2012-08-13T10:53:07.840
> 
> 标签：android, image, resolution, dpi

当您获得捆绑的图形资产时，您将它们放置在等中`drawable-hdpi`，`drawable-xhdpi`以便根据设备的 DPI 加载正确的图像。

处理从网络请求的外部图像时的规范是什么？

我想到的解决方案是使用配置限定符在资源文件夹中定义 URL。例如。

```
values-ldpi
-- http://website.com/logo24x24.jpg
values-mdpi
-- http://website.com/logo32x32.jpg
values-hdpi
-- http://website.com/logo48x48.jpg
values-xhdpi
-- http://website.com/logo64x64.jpg 
```

然后在布局 XML 中将图像定义为 32x32dp。

这样做的常见方法是什么？以编程方式而不是使用配置限定符？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-02T11:19:17.450

```
WindowManager wm = (WindowManager) mContext.getSystemService(Context.WINDOW_SERVICE);
                Display display = wm.getDefaultDisplay();
                int width = display.getWidth();  

                URL url = null;

                if (width < 360) {
                    url = new URL(start + "source/images/thumbnails/mid/" + urls.get(i));
                } else if (width < 1280) {
                    url = new URL(start + "source/images/thumbnails/big/" + urls.get(i));
                } else if (width < 1920){
                    url = new URL(start + "source/images/" + urls.get(i));
                } 
```

这是基于自己的意见，你可以使用不同的尺寸

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T10:57:40.863

如果您有能力运行 servlet（或任何服务器端逻辑），最好将 DPI 作为参数发送并根据服务器上的文件名做出决定。这将允许在不需要更新客户端的情况下进行更轻松的更改，并且还将简化在客户端中编写一长串值的过程。

# html - 图像未在 div 内对齐

> ID：11932875
> 
> 赞同：2
> 
> 时间：2012-08-13T10:53:15.937
> 
> 标签：html, css, vertical-alignment

`DIV`当我在[jsFiddle](http://jsfiddle.net/QHEnL/187/)上执行此操作时，我能够在中间垂直对齐图像，但是当我在网站上执行此操作时，它似乎与某些我无法找到的 CSS 冲突。

我使用与 jsFiddle[示例](http://jsfiddle.net/QHEnL/187/)相同的 CSS ，在实际网站徽标上始终对齐在顶部位置。

我将不胜感激这方面的帮助。

**解决方案**

```
<script type="text/javascript">
    $(document).ready(function () {
        var h = $("#BannerSlider").height();
        $.map($("#BannerSlider img"), function (e) {
            var top = (h - $(e).height()) / 2;
            $(e).css("margin-top", top);
        });
    });
</script> 
    <title></title>
    <style>
.SponsorLogos
{
    width:600px;
    margin-top:50px;
    margin-left:60px;
    min-height:550px;
    background:red;
}
.SponsorLogoWrapper
{
    width:160px;
    height:160px;
    margin-right:30px;
    margin-bottom:30px;
    border:1px solid #78AC1B;
    line-height:160px;
    text-align:center;
    overflow:hidden;
    float:left;

}
.SponsorLogoWrapper img
{
    display: inline-block;
    border:0px;
}

    </style>
</head>
<body>
    <form id="form1" runat="server">
    <div>
     <div class="SponsorLogos">

          <div id="BannerSlider" class="SponsorLogoWrapper" >
               <img src="http://www.nikolakis.net/liquidcarousel/images/01.jpg" width="88" height="126" alt="image"/>
               </div>
         <div id="BannerSlider" class="SponsorLogoWrapper" >
                <img src="http://www.nikolakis.net/liquidcarousel/images/02.jpg" width="88" height="110" alt="image" />
                 </div>
        <div id="BannerSlider" class="SponsorLogoWrapper" >
                <img src="http://www.nikolakis.net/liquidcarousel/images/03.jpg" width="88" height="100" alt="image"/>
                       </div>
         <div id="BannerSlider" class="SponsorLogoWrapper" >
                <img src="http://www.nikolakis.net/liquidcarousel/images/04.jpg" width="88" height="126" alt="image"/>
                       </div>
        <div id="BannerSlider" class="SponsorLogoWrapper" >
                <img src="http://www.nikolakis.net/liquidcarousel/images/05.jpg" width="88" height="90" alt="image"/>
           </div>
</div>

    </div>
    </form> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-13T11:01:41.077

如果您切换 jsFiddle DOCTYPE 以匹配您的网站，图像将再次对齐到顶部（您可以在左侧的*信息面板中执行此操作）。*

考虑到这一点，您可以检查以下答案：[Vertical-align not working with XHTML 1.0 Transitional doctype？](https://stackoverflow.com/questions/5506910/vertical-align-not-working-with-xhtml-1-0-transitional-doctype)

**回复第一条评论**

那么最简单的事情就是更改 DOCTYPE。如果你不能这样做，那么你需要完全找到另一种方法。垂直对齐最适合表格，因此您可以将`display`道具更改为基于表格。这是一个例子：http: [//jsfiddle.net/64UnS/1/](http://jsfiddle.net/64UnS/1/)

我不知道您是否能够实现这一点 - 浏览器支持各不相同。当然你`display: inline-block;`已经在使用了，而且我没有看到 IE7 后备，所以也许这对你来说没问题。

其他选项可能包括：

*   使您的图像为*160 x 160 像素*
*   更改标记，以便将每个图像作为 标签`background-image`上的内联输出。`<a />`这很容易居中（当然你需要确定你的图像尺寸 - `background-size`支持更不支持）
*   使用 javascript 解决方案（我看到你已经有了 jQuery `<head />` ）

希望有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T11:06:36.777

我相信这是因为实际网站使用 XHTML 过渡文档类型，而 JS fiddle 使用 HTML5 (html) 文档类型。

# lisp - 使用 defvar 时 *var* 和 var 有什么区别？

> ID：11932876
> 
> 赞同：1
> 
> 时间：2012-08-13T10:53:15.330
> 
> 标签：lisp, common-lisp

在一些文档中，我发现他们说答案是`*var*`全局变量。

但是当我尝试时，我无法确定。

```
 FIRST-PACKAGE[27]> (defvar b 1)
  B
  FIRST-PACKAGE[28]> b
  1
  FIRST-PACKAGE[29]> (defun add_b (x) (+ x b))
  ADD_B
  FIRST-PACKAGE[30]> (add_b 3)
  4
  FIRST-PACKAGE[31]> 
```

在我的例子中，`b`如果这个答案是正确的，它仍然不是全局的。

但是为什么该功能`add_b`仍然可以使用呢？

如何理解这个例子和`*var*`？

谢谢~

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T11:03:50.623

我在这里谈论的是 Common Lisp：

`DEFVAR`声明一个全局变量并声明它使用动态绑定。它是一个*特殊的变量*。我们使用`*b*`它周围的星号作为约定来提醒我们它是一个*特殊变量*- 它使用动态绑定。任何其他名称都可以。这只是一个约定。在您的示例中，您使用 name `b`。我不建议这样做。遵循`DEFVAR`as声明的约定和命名变量`*b*`。同样的规则对`DEFPARAMETER`.

你的例子是什么意思不清楚。当然，您可以在函数中使用全局变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T13:42:40.953

好的。在 Common Lisp 中，实际上有两种类型的变量：你一直使用的变量，它们是词法绑定的，以及“特殊”变量，它们是动态绑定的。“特殊”变量是用 、 或声明创建`defvar`的`defparameter`。这`*earmuffs*`是一种提醒 Lisp 程序员变量是特殊的约定。这里有些例子：

```
(defvar b 3)

(defun add-to-b (x)
  (+ x b))

(add-to-b 1)
  => 4

(let ((b 4))
  (list (add-to-b 1) b))
=> (5 4)

(let ((a 3))
  (defun add-to-a (x)
    (+ x a)))

(add-to-a 1)
  => 4

(let ((a 4))
  (list (add-to-a 1) a))
=> (4 4) 
```

如您所见，更改 a 中的特殊变量`let`的值会使值更改“涓涓细流”到其中的所有函数调用`let`，而常规的、词法绑定的变量的值更改不会被传递下去，在事实上，词法绑定的变量是通过向上移动函数 wan*定义*的范围来查找的，而特殊变量是通过向上移动函数被*调用*的范围来查找的。这`*earmuffs*`对于阻止程序员意外重新绑定特殊变量很有用，因为它们使特殊变量看起来不同。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-13T11:05:17.430

首先：为了在 Common Lisp 中声明一个“特殊”变量，你必须通过以下方式引入它`defvar`：

```
(devar *variable* "initial value") 
```

`*`变量名周围的“耳罩”（ ）只是一个约定，它告诉人类读者，该变量是特殊的。这与告诉编译器该变量是特殊的无关。请注意，这些`*`字符是变量名称的一部分（是的，Common Lisp 允许`*`在符号名称中使用——以及一大堆其他“不寻常”字符）

# doctrine - Symfony2 ACL 和 Doctrine2：数据库永远不会与当前实体元数据同步

> ID：11932878
> 
> 赞同：1
> 
> 时间：2012-08-13T10:53:22.147
> 
> 标签：doctrine, doctrine-orm, acl, symfony-2.1

我的文件中基本上有两个不同的 Doctrine 连接`config.yml`，默认（开发、生产环境）和测试（用于我的测试套件）。这是我的默认连接配置：

```
# Doctrine Configuration
doctrine:
    dbal:
        default_connection:   default
        connections:
            default:
                driver:   %database_driver%
                host:     %database_host%
                port:     %database_port%
                dbname:   %database_name%
                user:     %database_user%
                password: %database_password%
                charset:  UTF8
    orm:
        default_entity_manager: default
        auto_generate_proxy_classes: %kernel.debug%
        entity_managers:
            default:
                connection: default
                metadata_cache_driver:          array
                query_cache_driver:             array
                result_cache_driver:            array
                mappings:
                    [my bundles here..] 
```

在我的`security.yml`配置中，我为我的默认连接注册了 ACL：

```
security:
    acl:
        connection: default 
```

**现在，这是我的问题：**

当我运行这些命令时

```
./app/console doctrine:database:drop --connection=default --force
./app/console doctrine:database:create --connection=default
./app/console doctrine:schema:create --em=prod 
```

我已经创建了 5 个 ACL 相关表。额外的命令

```
./app/console init:acl 
```

结果是`Aborting: The table with name 'myproject_prod.acl_classes' already exists.`

然后，稍后，如果我执行`./app/console doctrine:schema:update --dump-sql --env=prod`它会导致

```
ALTER TABLE acl_classes CHANGE id id INT UNSIGNED AUTO_INCREMENT NOT NULL;
ALTER TABLE acl_security_identities CHANGE id id INT UNSIGNED AUTO_INCREMENT NOT NULL;
ALTER TABLE acl_object_identities CHANGE id id INT UNSIGNED AUTO_INCREMENT NOT NULL, CHANGE parent_object_identity_id parent_object_identity_id INT UNSIGNED DEFAULT NULL, CHANGE class_id class_id INT UNSIGNED NOT NULL;
ALTER TABLE acl_object_identity_ancestors CHANGE object_identity_id object_identity_id INT UNSIGNED NOT NULL, CHANGE ancestor_id ancestor_id INT UNSIGNED NOT NULL;
ALTER TABLE acl_entries CHANGE id id INT UNSIGNED AUTO_INCREMENT NOT NULL, CHANGE security_identity_id security_identity_id INT UNSIGNED NOT NULL, CHANGE object_identity_id object_identity_id INT UNSIGNED DEFAULT NULL, CHANGE class_id class_id INT UNSIGNED NOT NULL, CHANGE ace_order ace_order SMALLINT UNSIGNED NOT NULL 
```

我可以使用 --force 来做这些请求，它总是会产生相同的结果。表在这里，外键还可以，但是学说总是会认为它与元数据不同步..

我不知道这是否有问题，因为在我的应用程序中所有功能都完美无缺，ACL 运行良好，但是当我更新我的架构或验证它以看到这种情况时，我感到有点沮丧。

对此的帮助将不胜感激。

谢谢！

编辑：我在 Symfony2.1 RC4

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T12:55:55.393

似乎问题在这里得到了认真对待：[https ://github.com/symfony/symfony/issues/5108](https://github.com/symfony/symfony/issues/5108)

我想很快就修好了:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T12:45:06.597

同样的事情也发生在我身上，也在运行 2.1 rc4

每当我添加一个实体并生成 getter/setter 时，然后使用 --force 执行更新模式，我也会得到这 5 次执行

到目前为止我忽略了它，到目前为止它还没有引起任何问题..

# c++ - c++ 中带有命令行参数的 cgi 脚本

> ID：11932881
> 
> 赞同：0
> 
> 时间：2012-08-13T10:53:29.877
> 
> 标签：c++, cgi, command-line-arguments

我应该使用 main 函数命令行参数创建一个 cgi 脚本吗？如果可以，我如何将数据传递给这个命令行参数？我应该将数据数组从 JavaScript 传递到用 c++ 创建的 cgi-script。将数据从 Html 页面传递到 cgi-script 有多少种方法？我在 HTML 文件中显示 100 条记录。每个记录字段显示在一个文本框中。修改 HTML 页面中的一些记录后，我想将修改后的记录和记录发送到 Cgi-Script 。如何发送特定记录或如何使用 c++ 中的 cgi-scripts 将文本框中显示的所有记录保存到文本文件中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T10:58:45.077

使用 POST 方法。请查看[http://www.cs.tut.fi/~jkorpela/forms/cgic.html#post](http://www.cs.tut.fi/~jkorpela/forms/cgic.html#post)。

# sqlite - 如何将数据从 csv 文件导入到 sqlite Manager 工具

> ID：11932882
> 
> 赞同：1
> 
> 时间：2012-08-13T10:53:36.413
> 
> 标签：sqlite

如何将 CSV 文件中的数据导入 SQLite Manager 工具？我在 SQLite 管理器中找不到导入选项。我必须将数据从 CSV 导入 db 中的特定表。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T11:00:41.753

要导入文本文件，请从屏幕顶部的数据库下拉菜单中选择导入。这将打开导入向导选项卡。在文本编辑器中打开要导入的文件以检查其格式，以便您能够在“导入向导”选项卡中选择适当的选项。.

[这个链接可以帮助你](http://code.google.com/p/sqlite-manager/wiki/Import_Export_Files)

重要的是要理解，如果 SQLite Manager 无法解析文件，它不会显示错误消息。在“导入向导”选项卡中单击“确定”后，应用程序部分没有任何操作，这很好地表明要导入的文件的格式有问题。如果导入向导能够解析文件，则会弹出一个对话框，提示您在构建表之前对列名、数据类型等进行任何必要的更改。

# python - 如何在VTK中获得相机纵横比？

> ID：11932884
> 
> 赞同：1
> 
> 时间：2012-08-13T10:53:51.837
> 
> 标签：python, vtk

我正在开发一个 Web 应用程序，该应用程序允许您从服务器向客户端发送使用 VTK 制作的图片。为了加快工作速度，我决定在客户端添加 webGL。现在我有一个关于数据同步的问题。

在客户端上，我使用three.js 来处理画布和webGl，并使用PerspectiveCamera，所以我需要获取相机纵横比来初始化它。那么如何在VTK中获得相机纵横比？

# cakephp - 删除主模型条目时删除关联表行

> ID：11932890
> 
> 赞同：1
> 
> 时间：2012-08-13T10:54:03.737
> 
> 标签：cakephp, model

我有 2 个模型，用户组和用户组权限。我的 usergrouppermissions 有一个名为 user_group_id 的字段，它链接回主用户组。在我想删除用户组的情况下，我自动希望它删除数据库中的用户组权限条目（因为用户组将不存在）。我试过删除，但是，它只是删除了用户组。

```
 // Here is my model: (usergroup):
  public $hasMany = array(
       'UserGroupPermission'
  );

  // Here is the usergrouppermissions model:
  public $belongsTo = array(
        "UserGroup"
    ); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T11:45:17.473

尝试：

```
$this->Model->delete($item_to_delete_id,true); 
```

[删除（）文档。](http://book.cakephp.org/2.0/en/models/deleting-data.html)

# ios - iOS 中的 JSON 错误：JSON 写入中的顶级类型无效

> ID：11932894
> 
> 赞同：4
> 
> 时间：2012-08-13T10:54:15.700
> 
> 标签：ios, json

我无法弄清楚这个错误：

```
*** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '*** +[NSJSONSerialization writeJSONObject:toStream:options:error:]: Invalid top-level type in JSON write' 
```

这与这段代码有关（基本上我正在创建一些 JSON 并将其发送到服务器）。我已经和服务器核对过socket是否打开了，就是这个！

```
NSDictionary *blobData = [NSDictionary dictionaryWithObjectsAndKeys:
                          sendString,@"string",
                          nil];
NSString *blobString = [[NSString alloc]
                        initWithData:[NSJSONSerialization dataWithJSONObject:blobData options:kNilOptions error:&error]
                        encoding:NSUTF8StringEncoding];
NSLog(@"Blob Created: %@", blobString);
NSDictionary *requestData = [NSDictionary dictionaryWithObjectsAndKeys:
                             @"send_string",@"request_type",
                             [NSNumber numberWithInt:0],@"security_level",
                             @"ios",@"device_type",
                             //No Email Provided, This is just for testing
                             blobData,@"blob",
                             nil];

NSData *JSONRequestData = NULL;
if ([NSJSONSerialization isValidJSONObject:requestData]) {
    NSLog(@"Proper JSON Object");
    JSONRequestData = [NSJSONSerialization dataWithJSONObject:requestData options:kNilOptions error:&error];
}
else {
    NSLog(@"requestData was not a proper JSON object");
    return FALSE;
}
NSLog(@"Error:%@",[[error userInfo] objectForKey:@"NSDebugDescription"]);
NSLog(@"Contents of JSONRequestData: %@",[[NSString alloc] initWithData:JSONRequestData encoding:NSUTF8StringEncoding]);
[NSJSONSerialization writeJSONObject:JSONRequestData toStream:outputStream options:0 error:&error]; 
```

我创建的 JSON 对象错了吗？也许我处理“blob”的方式有问题

这是我创建 JSONRequestData 后 NSLogs 打印的内容

```
{"security_level":"0","request_type":"send_string","device_type":"ios","blob":{"string":"hello"}} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T13:23:55.350

`writeJSONObject`期望您要发送的实际未序列化对象，因此在这种情况下，您希望将`requestData`对象传递给它，而不是`JSONRequestData`像：

```
NSJSONSerialization writeJSONObject:requestData toStream:outputStream options:0 error:&error]; 
```

# clojure - 一个简单的惰性序列上的doseq用完了堆空间

> ID：11932900
> 
> 赞同：2
> 
> 时间：2012-08-13T10:55:14.827
> 
> 标签：clojure, lazy-sequences

在对工作中的某些 Clojure 代码进行压力测试时，我注意到它在迭代大型数据集时会耗尽堆空间。我最终设法将问题追溯到 Clojure 的`doseq`函数和惰性序列的实现的组合。

这是通过耗尽可用堆空间使 Clojure 崩溃的最小代码片段：

```
(doseq [e (take 1000000000 (iterate inc 1))] (identity e)) 
```

文档`doseq`明确指出它不保留惰性序列的头部，因此我希望上述代码的内存复杂度接近 O(1)。有什么我想念的吗？`doseq`如果不能胜任这项工作，那么迭代超大惰性序列的 Clojure 惯用方式是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T22:35:15.880

当我运行这个示例时，我看到内存使用量达到 2.0 Gigs，所以也许你实际上只是用完了 ram。

它确实需要一段时间才能运行：

```
user=> (time (doseq [e (take 1000000000 (iterate inc 1))] (identity e)))
"Elapsed time: 266396.221132 msecs" 
```

表格顶部：

```
23999 arthur    20   0 4001m 1.2g 5932 S  213 15.3  17:11.35 java                                          
24017 arthur    20   0 3721m 740m 5548 S   88  9.3  13:49.95 java 
```

# iphone - CABasicAnimation 在 3G 上比在 4/4S/ipod4 上快得多

> ID：11932906
> 
> 赞同：3
> 
> 时间：2012-08-13T10:55:46.200
> 
> 标签：iphone, ios, core-animation

我正在创建图像的重复旋转动画，并且在 ipod4/iphone4/iphone4S 上一切正常。然而，在 iphone3G 上使用相同的代码可以将图像旋转大约 5 倍。旋转应该需要 1 秒。

```
CABasicAnimation *fullRotation; 
fullRotation = [CABasicAnimation 
                animationWithKeyPath:@"transform.rotation"]; 
fullRotation.fromValue = [NSNumber numberWithFloat:0]; 
fullRotation.toValue = [NSNumber numberWithFloat:(2*M_PI)]; 
fullRotation.duration = 1.0;
fullRotation.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionLinear];
fullRotation.repeatCount = 999999999; 
// Add the animation group to the layer 
[rotateImageView.layer addAnimation:fullRotation forKey:@"rotateAnimation"]; 
```

iphone 3G 有 iOS4.2.1，其余设备有 4.3/5.0/5.1。我正在考虑通过检查 iOS 版本来解决这个问题，如果它是 <4.3 而不仅仅是将持续时间提高到 5 秒 - 那么它在 3G 上看起来不错......不幸的是我不确定这是否*是*正确的修复.

任何想法那里发生了什么以及正确的解决方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T15:46:48.010

这可能对您的问题没有帮助，但我看到重复计数为 9999999。如果您想让它永远循环，请将其设为 0

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-16T18:35:55.790

问题原来是这样的：这是一部借来的越狱 iphone，它安装了一个名为 Speed Intensifier 的应用程序——这个应用程序会自动加速视图动画。关闭此功能后，动画按预期工作。

# jquery - 从 DOM 中删除元素未按预期工作

> ID：11932909
> 
> 赞同：1
> 
> 时间：2012-08-13T10:55:46.943
> 
> 标签：jquery

在[这个小提琴](http://jsfiddle.net/gV8qU/19/)中，单击蓝色按钮以选择代理并将它们添加到列表中。

我创建图例元素以在相应输入标签的右侧显示代理的名称。（我这样做是为了避免长名称干扰我的表格布局。如果有更好的方法，我会全力以赴！）

您可以通过右键单击相应的蓝色按钮从列表中删除代理。

在另外三个特工的列表中，特工的传说向上移动（在删除第一个特工之后），都​​去同一个地方，而不是停留在各自的标签元素上。

负责此操作的代码以：`if (selectName != "undefined" && selectName) {`

我花了三天时间做这个！请帮助我理解我做错了什么。

另外，如何防止在使用右键删除代理后需要两次单击来执行任何操作？

谢谢

克里斯

# c# - 如何获取href内容

> ID：11932911
> 
> 赞同：0
> 
> 时间：2012-08-13T10:56:03.610
> 
> 标签：c#, c#-4.0, html-parsing, web-scraping

我正在尝试从 href 中提取链接。`<a class="p_l" href="" id="0" target="_blank">` 这是在页面视图源中可见的内容，但是当我使用 firebug 检查时，href 将包含`http://home.website.com/preview/preview?uname=3eadsf132sdas`. 我尝试使用 htmlagilitypack 但 href 返回 null。如何提取href中的链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T11:01:54.807

如果您还没有尝试过这种方式，请尝试这种方式

```
 HtmlAgilityPack.HtmlDocument htmlDoc = new HtmlAgilityPack.HtmlDocument();

        htmlDoc.OptionFixNestedTags=true;

        htmlDoc.Load(filePath);

 foreach(HtmlNode link in htmlDoc.DocumentElement.SelectNodes("//a[@href"])
 {
    if(link != null)
    {
      if(link["href"] != null)
      {
       HtmlAttribute att = link["href"];
       var url = att.Value;
      }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T13:36:35.300

您可以尝试不同的方法，例如使用 WebRequest 类获取 html 内容（参见[此处](http://msdn.microsoft.com/en-us/library/system.net.webrequest.aspx)如何）。

如果 href 不包含任何链接，则可能意味着它正在使用 Javascript 或其他一些编程语言填充以添加动态内容。如果您可以访问脚本，那么您可能有很小的机会获得链接，但不要这么认为。

# php - 在特定尝试后显示消息

> ID：11932912
> 
> 赞同：-2
> 
> 时间：2012-08-13T10:56:11.113
> 
> 标签：php, session

我，正在学习 PHP，作为我自己的一个项目，我正在开发一个小游戏，用户在其中猜测 1 到 100 之间的数字。如果他是正确的，那么它会显示相同的内容，否则它会显示答案。现在我将其限制为三次尝试，并且我希望用户在第三次尝试后看到一条消息“您的 3 次尝试结束”。以及一个“重试”按钮，该按钮会破坏会话并允许他重新开始游戏。请帮助我。

代码如下：

```
<?php

$rand= rand(1,100);

$guess=$_POST['guess'];
$submit=$_POST['submit'];
session_start();

if(isset($submit)) {

if (!isset($_SESSION["attempts"])) $_SESSION["attempts"] = 0;

if ($_SESSION["attempts"] < 3) {

    if($guess<1 ||$guess>100) {
        echo "your guess must be a number between 1 and 100";
    }
    elseif($guess!=$rand)
    {
        echo "Incorrect,the correct answer is".$rand;
        $_SESSION["attempts"] = $_SESSION["attempts"] + 1;
    }
    else
    {
        echo "That is correct!";
    }
}

}
else
{
    unset($_SESSION["attempts"]);
    include_once('game.php');
}

?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T11:10:11.190

您做了所有这些并且不知道如何添加 1 行？

```
if ($_SESSION["attempts"] < 3) {
    ...
} else {
    echo '3 tries are over, game over.';
    session_destroy();
    ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T11:09:47.917

如果有会话，请不要在每次提交时取消设置会话。这样你就永远无法计算尝试次数，因为它们总是被未设置的重置。

这是您的代码字节，其中未设置的注释已被注释掉，并添加了“3 次尝试”消息。

> $guess=$_POST['猜测']; $submit=$_POST['提交']; session_start();
> 
> if(isset($submit)) { if (!isset($_SESSION["attempts"])) $_SESSION["attempts"] = 0;
> 
> if ($_SESSION["attempts"] < 3) {
> 
> if($guess<1 ||$guess>100) { echo "你的猜测必须是 1 到 100 之间的数字";
> 
> } elseif($guess!=$rand) { echo "不正确，正确答案是".$rand; $_SESSION["尝试"] = $_SESSION["尝试"] + 1;
> 
> }
> 
> else { echo "这是正确的！";
> 
> }
> 
> } 别的 {
> 
> echo "您的 3 次尝试已完成";
> 
> }
> 
> } 别的{
> 
> //unset($_SESSION["attempts"]); include_once('game.php');
> 
> }

# c# - 将标签日期与数据库日期映射

> ID：11932915
> 
> 赞同：0
> 
> 时间：2012-08-13T10:56:20.197
> 
> 标签：c#, asp.net, sql-server

```
Visit_Date="2012-02-13 15:01:36.000" 
```

从上面的数据库中获取日期，我的标签日期是这种格式

```
label1.text="13-Feb-2012" 
```

我必须使用这样的查询将标签日期与数据库日期映射

```
Select * From User_Master Where date='"+label1.text+"'; 
```

我如何使用代码获取此记录？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T11:06:57.283

试试这个：

```
Select * From User_Master
Where replace(Convert(varchar,Visit_Date,106),' ','-')='"+label1.text+"'; 
```

见 sql fiddle[演示](http://www.sqlfiddle.com/#!3/d41d8/3254)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T11:14:59.600

首先，它不会匹配，因为您的访问日期是 2 月 13 日，而您的标签日期是 8 月 13 日，如果这是正在比较的记录的话。

其次，SQL 对日期类型进行隐式转换，并传递有效的日期文本将允许您成功比较日期（[参考](http://msdn.microsoft.com/en-us/library/ms191530.aspx)）。您唯一需要注意的是您的日期时间在哪里，并且您只想比较日期。所以是这样的：

```
Select * From User_Master Where Convert(varchar(10),visit_date,101) ="+label1.text+"'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-13T11:03:20.007

-- 这对你有用

```
 Select * From User_Master Where Convert(varchar,date,106) ='"+label1.text+"'; 
```

-- 以下格式为您提供所需的输出

```
 SELECT convert(datetime, '23 OCT 2016', 106) -- dd mon yyyy

 select convert(varchar, getdate(), 106) -- output 13 August 2012 
```

请参阅以下链接以查看更多格式 [http://msdn.microsoft.com/en-us/library/aa226054(v=sql.80).aspx](http://msdn.microsoft.com/en-us/library/aa226054(v=sql.80).aspx)

很好的链接 [http://www.sqlusa.com/bestpractices/datetimeconversion/](http://www.sqlusa.com/bestpractices/datetimeconversion/)

# html - 而不是 html 表格使用 div .. 好的，但表格很容易所以

> ID：11932917
> 
> 赞同：11
> 
> 时间：2012-08-13T10:56:22.470
> 
> 标签：html, css

伙计们，我是一名程序员，当我需要添加一些看起来像表格的东西并使用 html 表格时，我总是会被我的网页设计师同事打脸。如何为 div 构建一个通用的 html div 结构，这样我就可以拥有它并在需要看起来像表格的东西时总是复制粘贴 html？

所以在这个表格html结构的情况下

```
<table>
 <tr><td></td><td></td></tr>
 <tr><td></td><td></td></tr>
 <tr><td></td><td></td></tr>
</table> 
```

什么是类似的 div 结构？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-08-13T11:01:16.307

您将需要使用 display `table`、`table-row`和`table-cell`：

CSS：

```
.table
{
   display:table;
}

.table-row
{
   display:table-row;
}

.table-cell
{
   display:table-cell;
} 
```

HTML：

```
<div class="table">
   <div class="table-row">
      <div class="table-cell">1</div>
      <div class="table-cell">2</div>
   </div>
   <div class="table-row">
      <div class="table-cell">3</div>
      <div class="table-cell">4</div>
   </div>
</div> 
```

[演示](http://jsfiddle.net/SRycV/)

请注意，`table`IE7或更低版本不支持`table-row`、 和display 值，并且 IE8 需要 !DOCTYPE。`table-cell`

此外，表格应该用于表示表格数据，因为它为标记提供了比一堆带有类的 div 更多的语义含义。您只是不应该将表格用于布局目的。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-08-13T11:05:34.213

如果您将 HTML`table`元素用于表格数据，那么我建议您回击您的网页设计师同行！

HTML 表格并不邪恶，`table`在显示表格数据时使用 HTML 是可以接受和推荐的。

[http://webdesign.about.com/od/tables/a/aa122605.htm](http://webdesign.about.com/od/tables/a/aa122605.htm)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-08-13T11:00:29.087

为了简单起见，我将使用内联样式，但不建议在实际项目中使用它们：

```
<div style="overflow: hidden">
    <div style="width: 50%; float: left"></div>
    <div style="width: 50%; float: right"></div>
    <div style="width: 50%; clear: both; float: left"></div>
    <div style="width: 50%; float: right"></div>
</div> 
```

这是众多解决方案之一。

该`overflow: hidden`位用于“自我清除”容器 div（没有它，div 将不会环绕其浮动子级）。第三个 div 清除两者的原因是它在自己的行上呈现。

编辑：由于 div 的宽度为 50%，因此无需将所有其他 div 浮动到右侧（您可以将它们全部浮动到左侧，并且看起来相同）但是如果您想要 div 之间的一些边距，您可以更改宽度并且所有其他 div 仍将向右对齐（如果它们都向左浮动，则情况并非如此）。

编辑：如果您实际上是在标记表格数据（正如一些评论所建议的那样），那么一定要坚持使用表格元素。这就是它的用途。您**绝对不**应该只从`table`,`tr`和`td`to切换到`div`具有相同名称的类。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-13T11:07:05.197

我建议使用一些布局，如 powerbuoy 建议的，但由于您希望在不同的场景中将结构调整为不同的大小，您可能希望在 CSS 中使用网格系统来集中设计布局。

```
.left { float:left; }
.right { float: right }
.onetenth { width: 10%; }
.onetwentieth { width: 5%; } 
```

等等...

我向您保证，这种方法将大大减少您的样式，从而提高性能。

参见：[https](https://github.com/stubbornella/oocss/wiki/) ://github.com/stubbornella/oocss/wiki/ （面向对象的 CSS）

# c# - 如何在 C# 中将文本框中的数字四舍五入为 2 位小数？

> ID：11932925
> 
> 赞同：3
> 
> 时间：2012-08-13T10:56:45.560
> 
> 标签：c#, parsing, integer, decimal

我有一个价格文本框，我想得到一个带有 2 个小数的十进制值，无论原始字符串已经是小数还是整数。例如：

```
input = 12 --> output = 12.00
input = 12.1 --> output = 12.10
input = 12.123 --> output = 12.12 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-13T10:58:26.450

您可以使用将`.ToString()`字符串作为格式的重载：

```
var roundedInput = input.ToString("0.00"); 
```

当然，这会导致字符串类型。

要简单地四舍五入，您可以使用`Math.Round`：

```
var roundedInput = Math.Round(input, 2); 
```

您应该知道，默认情况下，`Math.Round`使用“银行家的四舍五入”方法，这可能是您不想要的。在这种情况下，您可能需要使用采用舍入类型枚举的重载：

```
var roundedInput = Math.Round(input, 2, MidpointRounding.AwayFromZero); 
```

请参阅此处使用的方法重载文档：http `MidpointRounding`: [//msdn.microsoft.com/en-us/library/ms131275.aspx](http://msdn.microsoft.com/en-us/library/ms131275.aspx)

另请注意， 的默认舍入方法与`Math.Round`中使用的默认舍入方法不同`decimal.ToString()`。例如：

```
(12.125m).ToString("N");  // "12.13"
(12.135m).ToString("N");  // "12.14"
Math.Round(12.125m, 2);   // 12.12
Math.Round(12.135m, 2);   // 12.14 
```

根据您的情况，使用错误的技术可能会非常糟糕！

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-13T10:58:41.627

```
// just two decimal places
String.Format("{0:0.00}", 123.4567);      // "123.46"
String.Format("{0:0.00}", 123.4);         // "123.40"
String.Format("{0:0.00}", 123.0);         // "123.00" 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-13T10:58:57.353

使用这个方法`decimal.ToString("N");`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-13T11:01:03.497

尝试

```
Input.Text = Math.Round(z, # Places).ToString(); 
```

# c# - 如何在 MVC3 中将图像保存为缩略图

> ID：11932926
> 
> 赞同：1
> 
> 时间：2012-08-13T10:56:47.040
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3

> **可能重复：**
> [如何生成图像的方形缩略图？](https://stackoverflow.com/questions/5025891/how-to-generate-square-thumbnail-of-an-image)

我正在尝试将我的图像保存为缩略图。我怎样才能做到这一点 ？

这是我的动作控制：

```
[HttpPost]
[ValidateInput(false)]
public ActionResult banner_create(banner banner, HttpPostedFileBase file)
{
    var fileName = Path.GetFileName(file.FileName);
    var path = Path.Combine(Server.MapPath("~/banner_image/"), fileName);
    var extension = Path.GetExtension(path);
    file.SaveAs(path);
    banner.banner_image_description = extension;
    banner.banner_image_name = fileName;
    if (ModelState.IsValid)
    {
        db.banner.AddObject(banner);
        db.SaveChanges();
        return RedirectToAction("index");
    }

    return View(banner);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T12:03:55.340

以下代码应该可以正常工作。我已经添加了一些评论，所以你可以看到发生了什么。

```
// First, we convert an HttpPostedFileBase to an Image
// (Please note that you need to reference System.Drawing.dll)
using (var image = Image.FromStream(httpPostedFileBase.InputStream, true, true))
{
    // Then we create a thumbnail.
    // The simplest way is using Image.GetThumbnailImage:
    using (var thumb = image.GetThumbnailImage(
        thumbWidth,
        thumbHeight,
        () => false,
        IntPtr.Zero))
    {
        // Finally, we encode and save the thumbnail.
        var jpgInfo = ImageCodecInfo.GetImageEncoders()
            .Where(codecInfo => codecInfo.MimeType == "image/jpeg").First();

        using (var encParams = new EncoderParameters(1))
        {
            // Your output path
            string outputPath = "...";
            // Image quality (should be in the range [0..100])
            long quality = 90;
            encParams.Param[0] = new EncoderParameter(Encoder.Quality, quality);
            thumb.Save(outputPath, jpgInfo, encParams);
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T19:11:56.637

这是 C# 函数，您可以使用它以任何您想要的方式调整图像大小。在您的特定情况下，使其具有一定大小的缩略图。它需要`System.Drawing.Image`, 和 a`int size`来使其宽度成为并返回`System.Drawing.Image`。现在，这个肯定有效，我在我当前的项目中使用它，它很好地完成了这项工作。

```
public System.Drawing.Image ScaleBySize(System.Drawing.Image imgPhoto, int size)
{
  var logoSize = size;

  float sourceWidth = imgPhoto.Width;
  float sourceHeight = imgPhoto.Height;
  float destHeight;
  float destWidth;
  const int sourceX = 0;
  const int sourceY = 0;
  const int destX = 0;
  const int destY = 0;

  // Resize Image to have the height = logoSize/2 or width = logoSize.
  // Height is greater than width, set Height = logoSize and resize width accordingly
  if (sourceWidth > (2 * sourceHeight))
  {
    destWidth = logoSize;
    destHeight = sourceHeight * logoSize / sourceWidth;
  }
  else
  {
    int h = logoSize / 2;
    destHeight = h;
    destWidth = sourceWidth * h / sourceHeight;
  }
  // Width is greater than height, set Width = logoSize and resize height accordingly

  var bmPhoto = new Bitmap((int)destWidth, (int)destHeight, PixelFormat.Format32bppPArgb);
  bmPhoto.SetResolution(imgPhoto.HorizontalResolution, imgPhoto.VerticalResolution);

        using (Graphics grPhoto = Graphics.FromImage(bmPhoto))
        {
            grPhoto.InterpolationMode = InterpolationMode.HighQualityBicubic;
            grPhoto.DrawImage(imgPhoto,
                    new Rectangle(destX, destY, (int)destWidth, (int)destHeight),
                    new Rectangle(sourceX, sourceY, (int)sourceWidth, (int)sourceHeight),
                    GraphicsUnit.Pixel);
            grPhoto.Dispose();
        }
  return bmPhoto;
} 
```

希望这会对你有所帮助。

# java - 有效查找对列表（java）

> ID：11932927
> 
> 赞同：2
> 
> 时间：2012-08-13T10:56:51.347
> 
> 标签：java, big-o, performance

我有一个本质上是键值对的数据结构。然而，与字典不同，我可能有重复的键，这在我正在设计的系统中是合法的。目前我有一个 Java 类，它实现了一个 Pair 对象（很像这里的例子[A Java collection of value pairs? (tuples?)](https://stackoverflow.com/questions/521171/a-java-collection-of-value-pairs-tuples)），它有一个左和一个右（键和值），然后我将它们存储在一个 ArrayList 中。

我想要的是一种以比 O(N) 更快的方式查找键的方法，因为列表可以变得非常大。

我曾考虑过可能创建一个倒排索引，但想知道是否还有其他方法？

为了处理重复项的减少，我真的只想根据键获取列表中的位置列表。

不必使用 Java - 这正是我将要实现的。

干杯

大卫

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-13T10:59:00.583

我会使用 MultiMap 例如[Guava 的](https://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained#Multimap)`Map<Key, List<Value>>`MultiMap或`Map<Key, Set<Value>>`

这允许您对同一个键有多个值并且具有 O(1) 查找时间。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-13T10:59:37.643

在我看来，由于您正在存储键/值，并且这些键可以是重复的，因此您确实需要一个[MultiMap](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Multimap.html)（我已链接到 Guava 版本，但存在[其他](http://commons.apache.org/collections/api-3.1/org/apache/commons/collections/MultiMap.html)版本）。

或者，您可以实现键映射到值列表。这有点费力，但将以非常相似的方式工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-13T11:00:48.957

如果您询问多次存在的键的值，您应该得到什么？根据该问题的答案，[Apache Commons MultiMap](http://commons.apache.org/collections/api-3.1/org/apache/commons/collections/MultiMap.html)可能会解决您的问题。

# dojo - Dojox 日历小部件一周仅显示六天

> ID：11932939
> 
> 赞同：0
> 
> 时间：2012-08-13T10:57:33.160
> 
> 标签：dojo, calendar

在此页面上运行第一个演示 -

[http://dojotoolkit.org/reference-guide/1.7/dojox/widget/Calendar.html#dojox-widget-calendar](http://dojotoolkit.org/reference-guide/1.7/dojox/widget/Calendar.html#dojox-widget-calendar)

一周只显示六天（缺少星期六）。知道如何在此日历中获得一周中的所有 7 天吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T12:25:46.100

这似乎是 Claro Theme 的一个错误（[其他主题](http://archive.dojotoolkit.org/nightly/dojotoolkit/dojox/widget/tests/test_Calendar.html?theme=tundra)工作正常）。我想自从将 Claro Theme 包含到 dijit 之后，那个特定的小部件就没有了。您看过 dijit.Calendar 小部件吗？这符合你的需要吗？如果没有，还有一个新的[重量级日历](http://livedocs.dojotoolkit.org/dojox/calendar)小部件作为 dojo 1.8 的候选。

为了说明为什么我认为这是 Claro 主题的问题：

CSS：

```
<link rel="stylesheet" type="text/css" href="http://archive.dojotoolkit.org/nightly/dojotoolkit/dojox/widget/Calendar/Calendar.css">
<link rel="stylesheet" type="text/css" href="http://archive.dojotoolkit.org/nightly/dojotoolkit/dijit/themes/claro/claro.css">
<link rel="stylesheet" type="text/css" href="http://archive.dojotoolkit.org/nightly/dojotoolkit/dijit/themes/tundra/tundra.css"> 
```

js：

```
dojo.require("dojox.widget.Calendar");
dojo.require('dojo.parser');
dojo.ready(function() {
    dojo.parser.parse();
}); 
```

html:

```
​&lt;body class="claro">
    <div data-dojo-type="dojox.widget.Calendar" id="cal"></div>
​&lt;/body>​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​ 
```

请注意，日历显示与您在演示页面上看到的一样。现在换掉`​&lt;body class="claro">`，`​&lt;body class="tundra">`看看日历有什么不同。

# jquery - jquery append - 方法问题 - 如何解决？

> ID：11932940
> 
> 赞同：0
> 
> 时间：2012-08-13T10:57:34.400
> 
> 标签：jquery

我正在使用 $.map 方法从 Json 获取数据。并且根据数据的类型，我正在制作元素并将数据说明的内容附加到容器中。它适用于所有浏览器，包括 ie9。但少于即 9，我什么也没得到。

我怎样才能解决这个问题？

我的代码：

```
var processModules = function (mData) {
    var lMData = mData;
    $.map(lMData, function (mVal,i) {
            $(mVal.type === 'form' ?  '<form></form>' : '<div></div>',{
                id : mVal.attributes.id,
                'class' : mVal.attributes['class']
            })
            .appendTo(mVal.container);    // not appending in less than ie9\.  
    } )
}

$(document).ready(function () {
   $.getJSON('json.txt', function (data) {
        if($(data['modules'])){
            processModules($(data['modules']));
        }
   })   
}); 
```

我的 json ：

```
 "modules":[
      {
         "type":"navigation",
         "container":"#header",
         "title":"Top Navigation",
         "attributes":{
            "class":"topNavigation",
            "id":"topNavigation"
         }
      },
      {
         "type":"content",
         "title":"Hi Welcome to mobile development",
         "subtitle":"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",
         "container":"#maincontent",
         "attributes":{
            "class":"topContent"
         }
      },
      {
         "type":"form",
         "title":"Registration Form",
         "action":"submit.aspx",
         "name":"registrationform",
         "container":"#maincontent",
         "attributes":{
            "class":"registrationform"
         },
         "fields":[
            {
               "id":"firstname",
               "label":"First Name",
               "name":"fname",
               "type":"text",
               "value":""
            },
            {
               "id":"email",
               "label":"Email",
               "name":"email",
               "type":"text",
               "value":""
            },
            {
               "id":"countries",
               "label":"Country",
               "name":"countries",
               "type":"select",
               "options":[
                  {
                     "value":"",
                     "text":"Select Country"
                  },
                  {
                     "value":"in",
                     "text":"India",
                      "selected":"true"
                  },
                  {
                     "value":"us",
                     "text":"United Stated"

                  },
                  {
                     "value":"uk",
                     "text":"United Kingdom"
                  },
                  {
                     "value":"cn",
                     "text":"Canada"
                  }
               ]
            },
            {
               "id":"submit",
               "name":"submit",
               "type":"submit",
               "value":"Submit"
            }
         ] 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-08-13T10:59:50.083

您不能`class`在不将其括在引号中的情况下命名对象文字属性，因为`class`它是 JS 中的保留字。改变：

```
class : mVal.attributes.class 
```

至

```
'class' : mVal.attributes.class 
```

其他浏览器允许它（尽管我总是有点困惑他们为什么这样做 - 如果它是一个变量，而不是一个属性，毕竟它会出错）。

通常，避免在您自己的定义中使用保留字。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-13T11:01:24.063

假设您的函数甚至被调用（而且很可能不是），您需要将`class`键括在引号中，以确保它不会达到保留的关键字冲突规则。

您也需要为值执行此操作：

```
'class': mVal.attributes['class'] 
```

使用`[]`语法，因为`myobject.'mykey'`也不是合法的语法。

您的代码中还有一个无关紧要的 jQuery 包装器：

```
if ($(data['modules'])) { ... } 
```

这是错误的，因为 modules 变量是一个对象数组，而不是 DOM 元素。

我会把整个事情写成：

```
var processModules = function(data) {
    var lMData = data.modules || [];  // default to empty array
    $.map(lMData, function (mVal,i) {
        $(mVal.type === 'form' ?  '<form>' : '<div>', mVal.attributes);
        .appendTo(mVal.container);
    })
}

$(document).ready(function () {
   $.getJSON('json.txt', processModules);
}); 
```

请注意，我没有创建新的属性对象，因为您的 JSON 中的属性对象已经可以直接提供给`$()`.

如果毕竟它在 IE9 中*仍然*不起作用，那么您需要做更多的调试并在这里让我们满意，`.appendTo`调用*确实*是使用适当的参数调用的。一个核心 jQuery 函数根本无法工作是不可想象的。

# php - 如何使用 cmd curl 发送 cookie？

> ID：11932946
> 
> 赞同：0
> 
> 时间：2012-08-13T10:57:43.017
> 
> 标签：php, curl

我有一个移动应用程序的 API。API 功能之一是登录用户。当用户登录时，他可以访问其他 API 功能。我通过跟踪用户会话来做到这一点。但这是我的问题，我正在用 curl 测试 API，我可以让它工作。我尝试使用浏览器访问 API 并且它有效，但是当我尝试使用命令行 curl 时它没有，所以我认为 curl 不会发送 cookie。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T11:01:20.237

你需要说 curl 在哪里保存和加载 cookie：[http](http://curl.haxx.se/docs/httpscripting.html) ://curl.haxx.se/docs/httpscripting.html （第 10 章）

对你来说，它必须告诉 curl 在`curl --cookie cookies.txt --cookie-jar newcookies.txt http://www.example.com`哪里`--cookie`加载 cookie 以及`--cookie-jar`在哪里保存 cookie。这些文件可以相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-13T11:00:30.207

检查[选项](http://php.net/manual/en/function.curl-setopt.php)。

```
curl_setopt($ch, CURLOPT_COOKIE, "fruit=apple; colour=red"); 
```

# 2d - 我应该使用什么 2D 游戏引擎？

> ID：11932948
> 
> 赞同：2
> 
> 时间：2012-08-13T10:57:56.810
> 
> 标签：2d, game-engine, torque

我正在寻找一些关于我应该使用什么游戏引擎的建议。我已经在 Flash（我非常熟悉的一个引擎）中制作了一个游戏原型，并且我想更进一步，我对 Flash 的主要问题是它不够快 - 没有访问 GPU 我在没有所有的情况下挑战极限游戏玩法功能齐全。

这是我正在寻找的： -2D 游戏引擎 - 免费或合理的独立定价 -Javascript、c# 或类似语言 - 体面的社区和文档 - 功能强大 - 能够访问 GPU/充分利用 GPU - 能够发布到 Mac /Windows - linux 和控制台是额外的，但不是必需的 - 体面的 IDE/引擎接口

我现在只是在玩 Torque 2D，我喜欢它，但缺点是 TorqueScript 类似于我不熟悉的 C++。我也不确定它有多强大。

我也很喜欢使用 Unity，但这是一款 2D 游戏，我不喜欢在 3D 引擎中制作 2D 游戏。

希望你们有一些好的想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T11:18:08.187

我没有真正的经验，因为我现在才开始学习它，但考虑一下[NME](http://www.haxenme.org/documentation/about/)：

> NME 是一个免费的开源框架，支持从单个代码库开发 iOS、Android、webOS、BlackBerry、Windows、Mac、Linux 和 Flash Player。
> 
> [...]
> 
> NME 的 API 与 Flash API 非常相似，因此可以使用一组通用（和熟悉的）类来定位 Flash Player 和本机目标。用 haxe 编写的 NME 应用程序，这是一种令人难以置信的跨平台编程语言。

[Haxe](http://haxe.org/)看起来很像 ActionScript，我认为，所以你应该对它感到满意。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-05-31T13:43:28.117

您可以查看[V-Play](http://v-play.net/) (v-play.net)。它是一个基于 Qt/QML 的跨平台游戏引擎，具有许多有用的 V-Play QML 游戏组件，用于处理多种显示分辨率和纵横比、动画、粒子、物理、多点触控、手势、路径查找等（[API 参考](http://v-play.net/doc/vplay-group.html)）。引擎核心采用原生 C++ 编写，结合自定义渲染器，游戏在所有设备上均达到 60fps 的稳定性能。

V-Play 为您提供多个教程、演示、详细文档和即用型游戏模板，适用于最成功的游戏类型，如塔防、平台游戏或益智游戏（[V-Play 示例和演示](http://v-play.net/doc/daily/)）。

您可以使用出色的 IDE Qt Creator 在任何桌面操作系统上进行开发。

# java - 如何显示与屏幕成比例的图像

> ID：11932951
> 
> 赞同：0
> 
> 时间：2012-08-13T10:58:16.740
> 
> 标签：java, android

我想在 TextView 上显示 .png 图像。有人会使用平板电脑，有人会使用智能手机，如何显示与屏幕成比例的图像？我是否必须创建不同的图像并在代码中使用类似的东西`if(screen == smartphone) setView(Png1.png)`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T11:46:08.847

在设计应在多个设备上运行的应用程序时，需要注意两个重要参数：

*   尺寸（设备的物理尺寸）
*   设备密度

大小：android 中设备的大小不是定义为唯一的物理值，而是定义为一个范围。
它们是：小、正常、大和超大。

密度：密度也被定义为一个范围。
它们是：ldpi、mdpi、hdpi 和 xhdpi。

![在此处输入图像描述](../Images/b4a6d54e3e277ac71bb631dd1134fde3.png)

为了处理尺寸，您需要使用多个布局，每个类别的尺寸一个，并且您需要为每个布局的视图的高度和宽度使用不同的 dp 值，因为小型和大型设备的尺寸不会一样。

对于处理密度，您需要为不同的屏幕密度使用不同的绘图，即您需要将不同密度的绘图放置在不同的绘图文件夹中。
例如：
这些是特定可绘制对象的分辨率

*   36x36 用于低密度（放置在 drawable-ldpi 中）
*   48x48 用于中等密度（放置在 drawable-mdpi 中）
*   72x72 用于高密度（放置在 drawable-hdpi 中）
*   96x96 用于超高密度（放置在 drawable-xhdpi 中）

这种分辨率变化的比率为 3:4:6:8(ldpi:mdpi:hdpi:xhdpi)

如需进一步阅读，您可以参考这个 android 开发者的链接：http:
[//developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

# android - 在为imageview提供背景时如何解决位图大小超出android中的异常

> ID：11932954
> 
> 赞同：1
> 
> 时间：2012-08-13T10:58:25.360
> 
> 标签：android, android-emulator

嗨，我在这里做一个应用程序，我正在使用更多图像，在数组列表中我有图像我将这些数组列表转换为数组，然后我将该字符串数组添加到 imageview 但是当活动开始时，我得到的位图大小超过异常。只有一些有时我面临这个问题，但有时它运行良好。有时只有我面临这个问题...我尝试了很多方法但没有结果。我在我的代码下面提到任何有想法的人请建议我。

```
 LetterGameActivity .class:

 public class LetterGameActivity extends Activity {
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

           birdimg1 = (ImageView) findViewById(R.id.birdimg);
        option11 = (TextView)findViewById(R.id.opt1);
        option12 = (TextView)findViewById(R.id.opt2);
        option13 = (TextView)findViewById(R.id.opt3);

                        option11.setText(stringArraynew[0]);
            option12.setText(stringArraynew1[0]);
            option13.setText(stringArraynew2[0]);

             BitmapFactory.Options options = new BitmapFactory.Options();
            options.inJustDecodeBounds = true;
            BitmapFactory.decodeResource(getResources(), stringArraynew3[0], options);
            int imageHeight = options.outHeight;
            int imageWidth = options.outWidth;
            String imageType = options.outMimeType;

            birdimg1.setImageBitmap(
                    decodeSampledBitmapFromResource(getResources(), stringArraynew3[0], 100, 100));
}

   public static Bitmap decodeSampledBitmapFromResource(Resources res, int resId,
        int reqWidth, int reqHeight) {

    // First decode with inJustDecodeBounds=true to check dimensions
    final BitmapFactory.Options options = new BitmapFactory.Options();
    options.inJustDecodeBounds = true;
    BitmapFactory.decodeResource(res, resId, options);

    // Calculate inSampleSize
    options.inSampleSize = calculateInSampleSize(options, reqWidth, reqHeight);

    // Decode bitmap with inSampleSize set
    options.inJustDecodeBounds = false;
    return BitmapFactory.decodeResource(res, resId, options);
}

public static int calculateInSampleSize(
        BitmapFactory.Options options, int reqWidth, int reqHeight) {
// Raw height and width of image
final int height = options.outHeight;
final int width = options.outWidth;
int inSampleSize = 1;

if (height > reqHeight || width > reqWidth) {
    if (width > height) {
        inSampleSize = Math.round((float)height / (float)reqHeight);
    } else {
        inSampleSize = Math.round((float)width / (float)reqWidth);
    }
}
return inSampleSize;
  }
 protected void onPause() {
    super.onPause();
System.gc();
   }
protected void onDestroy()
{
    super.onDestroy();
       System.gc();
    }

    } 
```

# extjs - 如何将多个商店绑定到 LoadMask

> ID：11932956
> 
> 赞同：0
> 
> 时间：2012-08-13T10:58:27.523
> 
> 标签：extjs

**ExtJS 4.1**

我可以绑定 LoadMask 以使用`store: Store`加载掩码配置对象属性或`bindStore()`加载掩码方法进行存储。

但是如何将该掩码绑定到一个或多个商店，以便在多个商店加载时激活掩码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-14T05:08:19.787

`bindStore()`方法实际上将新商店添加到由服务的商店列表中`Ext.LoadMask`

# ruby-on-rails - Rails - 解压 HTTP 请求

> ID：11932957
> 
> 赞同：0
> 
> 时间：2012-08-13T10:58:35.573
> 
> 标签：ruby-on-rails, apache, thin, webrick, http-compression

有没有办法在服务器端解压 HTTP**请求**（从手机发送）？这将使用 Ruby 完成，或者服务器的手段没有区别。

计划使用的服务器有：Webrick、Thin 和 Apache2。

我打算在我自己的 Android 和 iOS 应用程序中压缩请求，所以我可以自由选择压缩方法。

# ruby-on-rails - 在 rails 视图中检查 db 值

> ID：11932960
> 
> 赞同：1
> 
> 时间：2012-08-13T10:58:42.150
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

在视图中而不是在控制器中检查 db 值是否很好？现在我有这样的看法：

```
- @articles.each do |art|
  -if art.QUANTITYM > 0
    =art.PRICEM
     %br
       = art.PRICEM * @currency.currencyvalue 
```

在我之前的 rails 3.0.9 项目（现在是 3.2.6）中，一切都很好，但现在它给了我：

> nil:NilClass 的未定义方法`>'

我在控制器中的方法也是这样的：

```
def category
    @type_details = Type.find_by_TYP_ID(params[:type])
    @search_trees = SearchTree.find(:all, :include => [:designation], :conditions => { :STR_ID_PARENT => params[:cat]})

    @strlookup = StrLookup.find(:all, :conditions => { :STL_STR_ID => params[:cat]})
    @genart = GenericArticle.all(:conditions => { :GA_ID => @strlookup.map(&:STL_GA_ID)})

    @type = params[:type]
    @la_typs = LinkLaTyp.find(:all, :conditions => { :LAT_TYP_ID => params[:type], :LAT_GA_ID => @genart.map(&:GA_ID)})    

    data = "{ label : 1,  children : [{label : 1},{label : 1}]  }"
    #puts JSON.pretty_generate(data)

    if @genart.blank?
      @articles = nil

    else
      @linkla = LinkArt.find(:all, :conditions => { :LA_ID => @la_typs.map(&:LAT_LA_ID), :LA_GA_ID => @genart.map(&:GA_ID)})    
      @pre_articles = Article.find(:all, :include => [:supplier], :conditions => {:ART_ID => @linkla.map(&:LA_ART_ID)}, :order => "SUPPLIERS.SUP_BRAND, ARTICLES.QUANTITYM asc")
      @articles = Kaminari.paginate_array(@pre_articles).page(params[:page]).per(20)
    end

    @currency = Currency.find(:first)

    #@cart = current_cart #NOTE THIS!!!
    respond_to do |format|

      format.html # index.html.erb
      format.xml  { render :xml => @search_trees }
      #format.json { render :json => @search_trees }
    end
  end 
```

如何检查我的数据库数量并根据显示价格进行查看？或者它是“犯罪”，我必须在控制器中这样做？比如何在控制器中进行此检查并将其显示在视图中？

请注意，这不是我的数据库，所以它非常大，并且有很多表和数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T11:10:08.823

在视图中检查它没问题。你得到错误是因为`art.QUANTITYM`is `nil`。为防止此错误，您必须检查它是否是`nil`第一个，然后检查它是否大于零：

```
- if art.QUANTITYM.present? && art.QUANTITYM > 0 
```

# java - 通过 JDBC 的 Sybase 存储过程

> ID：11932963
> 
> 赞同：1
> 
> 时间：2012-08-13T10:58:58.500
> 
> 标签：java, database, stored-procedures, jdbc, sybase-asa

这个让我困惑了很长时间，所以我想在这里得到一些帮助:)

我正在使用 JDBC 连接到一个古老的 Sybase Adaptive server 6 (!!!) 我什至在网上找不到它的 JDBC 驱动程序，所以我从安装目录中复制了它们:)

现在，插入和查询以及所有其余的数据库操作都可以正常工作，但是在调用存储过程时遇到了问题。让我们首先从一段代码开始：

```
CallableStatement loginProcedure = connection.prepareCall("{call Login}");
loginProcedure.executeUpdate(); 
```

这是一些正常的过程调用代码。我必须补充一点，登录过程不接受任何参数，也不输出任何东西。它唯一要做的就是在名为 AiCol 的数据库中创建一个变量。我也会很快用程序代码更新这篇文章。

执行上述代码时，我得到标准语法异常：

```
com.sybase.jdbc.SybSQLException: ASA Error -131: Syntax error near 'Login'
    at com.sybase.tds.Tds.processEed(Tds.java)
    at com.sybase.tds.Tds.nextResult(Tds.java)
    at com.sybase.jdbc.ResultGetter.nextResult(ResultGetter.java)
    at com.sybase.jdbc.SybStatement.nextResult(SybStatement.java)
    at com.sybase.jdbc.SybStatement.executeLoop(SybStatement.java)
    at com.sybase.jdbc.SybCallableStatement.execute(SybCallableStatement.java) 
```

以前有人遇到过这个问题吗？这是我第一次调用没有 IN/OUT 参数的存储过程，所以我可能做错了什么：/

提前致谢！/ivo

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T14:14:22.503

只是来自[jConnect 文档](http://infocenter.sybase.com/help/topic/com.sybase.infocenter.dc39001.0700/pdf/prjdbc0700.pdf)的猜测，但您可能需要使用 SybCallableStatement。

该演示使用参数，但我会尝试使用 executeUpdate 调用它。

我知道在过去，缺乏对 Sybase 标准 JDBC 的支持，他们有一段时间以自己的方式做事。您可能想查看是否可以找到旧的 jConnect 手册。

我还认为在 jConnect 之前还有另一个 Java 库。自 ASE 6 以来已经很久了！

```
import com.sybase.jdbcx.*;

....

// prepare the call for the stored procedure to execute as an RPC

String execRPC = "{call " + procName + " (?, ?)}";
SybCallableStatement scs = (SybCallableStatement) con.prepareCall(execRPC);

// set the values and name the parameters

// also (optional) register for any output parameters
scs.setString(1, "xyz");
scs.setParameterName(1, "@p3");
scs.setInt(2, 123);
scs.setParameterName(2, "@p1");

// execute the RPC
// may also process the results using getResultSet()
// and getMoreResults()

// see the samples for more information on processing results
ResultSet rs = scs.executeQuery(); 
```

# grails - Grails 环境实现

> ID：11932968
> 
> 赞同：0
> 
> 时间：2012-08-13T10:59:09.623
> 
> 标签：grails, atmosphere

我正在尝试使用大气插件在我的应用程序中实现自动更新功能。我还计划使用相同的插件来创建聊天应用程序。我已经搜索了所有适当的文档，但我找不到任何文档。你能指导我到一个解释这个插件使用的正确教程吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T17:40:30.067

[这是 Atmosphere github 项目](https://github.com/Atmosphere/atmosphere)，包含文档、教程、常见问题解答和 javadocs 的链接。

[这是 Grails 插件的项目，](https://bitbucket.org/bgoetzmann/grails-atmosphere-plugin/wiki/Home)在自述文件中看起来很广泛的“入门”。

# objective-c - 如何声明和使用 NSString 全局常量

> ID：11932969
> 
> 赞同：11
> 
> 时间：2012-08-13T10:59:10.927
> 
> 标签：objective-c, ios

> **可能重复：**
> [Objective C 中的常量](https://stackoverflow.com/questions/538996/constants-in-objective-c)

我在 NSUserDefaults 中存储了一些应用程序设置。NSStrings 用作键。问题是我需要使用这些 NSString 键在整个应用程序中访问这些设置。在应用程序的某些部分访问时，我可能会错误地键入此类字符串键。

在整个应用程序中，我都有这样的陈述

```
[[NSUserDefaults standardUserDefaults] setBool:YES forKey:@"ReminderSwitch"];

BOOL shouldRemind = [[NSUserDefaults standardUserDefaults] boolForKey:@"ReminderSwitch"]; 
```

我如何以及在哪里可以声明一个全局 NSString 常量，我可以在整个应用程序中访问它。然后，我将能够使用该常量，而不必担心错误输入这些字符串键。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-13T11:55:41.967

首先，您应该使用真正的外部 C 符号——而不是宏。这样做是这样的：

一些文件.h

```
extern NSString *const MONConstantString; 
```

一些文件.m

```
NSString *const MONConstantString = @"MONConstantString"; 
```

请注意，如果您混合使用 ObjC 和 ObjC++，则需要指定`extern "C"`C++ TU——这就是为什么您会看到`#define`因语言而异的 d 导出。

* * *

然后，您需要将常量放在与其相关的接口附近。以您的示例为指导，您可能需要一组接口或声明来满足您的应用偏好。在这种情况下，您可以将声明添加到`MONAppsPreferences`标题中：

MONAppsPreferences.h

```
extern NSString *const MONApps_Pref_ReminderSwitch; 
```

MONAppsPreferences.m

```
NSString *const MONApps_Pref_ReminderSwitch = @"MONApps_Pref_ReminderSwitch"; 
```

* * *

正在使用：

```
#import "MONAppsPreferences.h"
...
[[NSUserDefaults standardUserDefaults] setBool:YES forKey:MONApps_Pref_ReminderSwitch]; 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-08-13T11:09:35.367

我觉得你的想法是对的。例如，我制作了如下的 Const.h/m 文件：

**常量.h**

```
extern NSString *const UserIdPrefKey;
extern NSString *const PasswordPrefKey;
extern NSString *const HomepagePrefKey; 
```

**常数**

```
#import "AEConst.h"

NSString *const UserIdPrefKey = @"UserIdPrefKey";
NSString *const PasswordPrefKey = @"PasswordPrefKey";
NSString *const HomepagePrefKey = @"UrlHomepagePrefKey"; 
```

只有 Const.h 必须被导入。

当您编写代码时，Xcode 支持编写键名，这样您就可以避免输入错误。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-08-13T11:01:54.250

您似乎正在寻找的只是一种在您的应用程序中定义字符串常量的方法。

请参阅我在下面引用的[这个问题](https://stackoverflow.com/questions/538996/constants-in-objective-c) 及其[答案：](https://stackoverflow.com/a/539191/27615)

> 您应该创建一个头文件，如
> 
> ```
> // Constants.h 
> FOUNDATION_EXPORT NSString *const MyFirstConstant;
> FOUNDATION_EXPORT NSString *const MySecondConstant;
> //etc. 
> ```
> 
> 您可以将此文件包含在每个使用常量的文件中，也可以包含在项目的预编译头文件 > 中。
> 
> 您在 .m 文件中定义这些常量，例如
> 
> ```
> // Constants.m 
> NSString *const MyFirstConstant = @"FirstConstant";
> NSString *const MySecondConstant = @"SecondConstant"; 
> ```
> 
> Constants.m 应该添加到您的应用程序/框架的目标中，以便将其链接到最终产品。
> 
> 使用字符串常量而不是#define'd 常量的优点是您可以使用指针比较来测试相等性 `(stringInstance == MyFirstConstant)`，这比字符串比较快得多`([stringInstance isEqualToString:MyFirstConstant])`（并且更易于阅读，IMO）。

感谢巴里·沃克 :)

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-08-13T11:14:53.733

最简单的方法是制作简单的 .h 文件，例如 Utils.h 并在其中编写以下代码：

`#define kUserDefaults @"ReminderSwitch"`

# php - Jquery 没有验证我的表单

> ID：11932972
> 
> 赞同：1
> 
> 时间：2012-08-13T10:59:31.767
> 
> 标签：php, jquery

我想使用 jquery 验证我的表单（字段 'name1' 是必需的，'email' 也是必需的，并且应该采用电子邮件格式。我按照教程进行操作，但我无法让它工作。我该如何解决它？

先感谢您。

我的代码：

```
 <html>
        <head>
   <script src="/webvanta/js/jquery/1.4/jquery-1.4.2.min.js" type="text/javascript"></script>
<script src="/webvanta/js/jquery/1.4/plugins/form/jquery.form.js" type="text/javascript"></script>
<script src="/webvanta/js/jquery/1.4/plugins/validate/jquery.validate.min.js" type="text/javascript"></script>
        </head>
        <body>
        <script type="text/javascript">
          $(document).ready(function() {
           $("#myform").validate({
           rules: {
             name1: "required",
             email: {
               required: true,
               email: true
             }
           },
           messages: {
             name1: "Please specify your name",
             email: {
               required: "We need your email address to contact you",
               email: "Your email address must be in the format of name@domain.com"
             }
           }
        })
        });

        </script>

        <?php include 'header.php'; ?>

        <form id = "myform" action="picture.php" method="get">
        Picture name: <input name="name1" class="required"   /><br>
        Email: <input name="email" class="required"  />

        <input type="submit" value="Click" />
        </form>
        <br>

        </body>
        </html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T11:21:13.320

一个非常简单的ajax示例：

```
 $("#submit").click( function() { 

    var str = $("#your-form").serialize();

    $.ajax({
      type: "POST",
      url: "url-to-your-file.php",
      data: str,
      success: function(msg) {

          if(msg=="1") {//let's say 1 means error, do stuff here}
          if(success=="0){//success, do stuff here}
          }
    });

    }); 
```

在您的 php 文件中检查并验证输入。如果没问题，则回显 0，否则回显 1 - 仅作为示例，以保持此处非常简单。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T11:12:44.997

请务必使用您使用的最新版本的库尝试代码。旧库和旧插件可能包含大量错误并且不兼容。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-13T11:13:29.103

好吧，首先：我自己从未使用过此功能，因此我不确定您提供的方法是否有效。但是，这不是 jQuery 文档中描述的方式。正如@Tim 建议的那样，首先切换到最新的 jQuery 版本，然后按照本文档页面中的说明继续尝试：

[http://docs.jquery.com/Plugins/Validation#source](http://docs.jquery.com/Plugins/Validation#source)

话虽如此，您仍然需要添加服务器端验证，所以我将继续使用 ajax 和服务器端验证（来自 php 文件或类似文件）。然后，您将拥有用于服务器端验证和客户端验证的相同方法。但是，如果您不使用数据库层，则服务器端验证可能会过度使用它。

# xpages - 如何使用 SSJS 从 xpage 中的文档中获取所有字段名称？

> ID：11932976
> 
> 赞同：2
> 
> 时间：2012-08-13T10:59:43.547
> 
> 标签：xpages

如何使用 xpage 从文档中获取所有字段名称`SSJS`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T11:39:30.750

理查德，文档没有字段，它有项目。因此，您要么想要表单项中提到的表单中的所有字段，要么想要所有项目（或所有也是表单中的字段的项目？）。标准注释机制适用：

```
var doc = currentDocument.getDocument();
var curItem;
var allItems = doc.getItems(); // That's a vector of NotesItesm
for (var i = 0; i < allItems.size(); i++) {
    curItem = items.elementAt(i);
    print curItem.getName();
    curItem.recycle();
}
doc.recycle(); 
```

表单的类似方法：获取`form`项目，然后执行`database.getForm(formName)`并遍历字段。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-13T11:40:58.533

您可以执行以下操作：

```
var doc:NotesDocument = database.getAllDocuments().getFirstDocument();
var itemNames:java.util.Vector = new java.util.Vector();

var items:java.util.Iterator = doc.getItems().iterator();
var item:NotesItem;
while( items.hasNext() ){
    item = items.next();
    itemNames.add( item.getName() );
    item.recycle();
}

doc.recycle(); 
```

然后所有字段名称都在 Vector *itemNames*中。

# django - Django 表单向导，如何重置/清除向导？

> ID：11932984
> 
> 赞同：2
> 
> 时间：2012-08-13T11:00:20.897
> 
> 标签：django, django-forms, django-formwizard

我创建了一个运行良好的 Django 表单向导。但是，在完成向导并重新启动后，它会加载之前使用期间生成的数据。相反，我希望它清除以前的向导状态并在成功完成后重新开始。我曾尝试修改向导的 done 方法，但它没有解决问题：

```
def done(self, form_list, **kwargs):
    self.instance_dict = {}
    self.storage.reset()
    return HttpResponseRedirect('/foo/') 
```

为了使向导按我需要的方式工作，我必须进行哪些更改？我的向导扩展了`NamedUrlSessionWizardView`课程。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-22T10:32:28.230

我不是 100% 确定这是否属实，但我认为以下方法有效：

我在我的向导中保存表单实例，如下所示：

```
self.instance_dict['foo'] = foo 
```

但出于某种原因

```
self.instance_dict = {} 
```

没有清除该数据。相反，我开始将对象保存在额外的数据中：

```
self.storage.extra_data = {'foo' : foo} 
```

然后我`def get_form_instance(self, step)`在向导的方法中检索它，例如：

```
def get_form_instance(self, step):
    ...
    if self.steps.current == 'foo' and self.storage.extra_data.has_key('foo'):
        return Bar.objects.filter(foo=self.storage.extra_data['foo'])
    ... 
```

该数据显然已通过上述完成方法成功清除。然而，由于更多的复杂性，最后我放弃了整个表单向导，只使用了一步表单。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-01-25T22:01:22.117

重置表单向导的存储非常容易。我通常在数据处理完成后这样做：

```
def done(self, form_list, form_dict, **kwargs):
    #do stuff with your form data
    self.instance_dict = None
    self.storage.reset()
    return redirect(reverse_lazy('somewhere')) 
```

或从另一个视图重定向后重置向导

```
del request.session['wizard_name'] 
```

# twig - 正确的 Twig 三元语句过滤器？

> ID：11932999
> 
> 赞同：2
> 
> 时间：2012-08-13T11:01:15.807
> 
> 标签：twig

我正在尝试在 Twig 的三元语句中显示 href，该语句使用标准 if else 语句，如下所示：

```
{% if news_count|length > 0 %}
    <a href="/{{profile.profile_id}}/news/">News {{news_count}}</a>
{% else %}
    News 0
{% endif %} 
```

尝试如下使用三元语句时，我无法正确格式化链接。

```
{{ (news_count|length > 0) ? '<a href="/' ~ profile.profile_id ~ '/news/">News ' ~ news_count ~ '</a>' : "News 0" }} 
```

这打印：

```
<a href="/10/news/">News 25</a> News 25 
```

我尝试在 href 值的末尾使用转义和原始过滤器，但没有运气。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T11:28:05.033

尝试：

```
{{ ((news_count|length > 0) ? '<a href="/' ~ profile.profile_id ~ '/news/">News ' ~ news_count ~ '</a>' : "News 0")|raw }} 
```

顺便说一句，似乎 news_count 已经是一个 int 值。所以我假设不需要“|length”。