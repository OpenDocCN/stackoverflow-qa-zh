# StackOverflow 问答 11682000-11682999

# java - 如何删除 HTML 特殊字符并将特殊字符替换为文本中的相应值？

> ID：11682001
> 
> 赞同：3
> 
> 时间：2012-07-27T05:32:21.960
> 
> 标签：java

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-07T11:33:27.813

You can't have any specific method from API to do this. Use the below method.

```
String text="Federation of AP Chambers of Commerce &amp; Industry Awards for the year 2010-11\. Speaking on the occasion, 
He said, &quot;About 54 percent of the population is youth aged below 25 years. We have to use their energy and 
intelligence for development of the state as well as the country.The youth trained will also be absorbed by 
companies.&rsquo;&quot";

    text= replaceAll(text,"&quot;","\"");

    text= replaceAll(text,"&amp;","&");

    text= replaceAll(text,"&rsquo;","’");

private String replaceAll(String source, String pattern, String replacement) {
        if (source == null) {
            return "";
        }
        StringBuffer sb = new StringBuffer();
        int index;
        int patIndex = 0;
        while ((index = source.indexOf(pattern, patIndex)) != -1) {
            sb.append(source.substring(patIndex, index));
            sb.append(replacement);
            patIndex = index + pattern.length();
        }
        sb.append(source.substring(patIndex));
        return sb.toString();
    } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-27T05:36:11.333

It looks like the Jakarta Commons Lang library's [StringEscapeUtils.unescapeHtml() method](http://commons.apache.org/lang/api-2.6/org/apache/commons/lang/StringEscapeUtils.html) will do what you are looking for.

# asp.net-membership - 黑客可以解密 ASP.NET 会员密码吗？

> ID：11682007
> 
> 赞同：4
> 
> 时间：2012-07-27T05:32:45.797
> 
> 标签：asp.net-membership, password-encryption

我正在使用默认的 SQL 提供程序、默认的 web.config 设置来实现 ASP.NET 成员资格。

我注意到密码是散列的。但我不知道 asp.net 如何对我的密码进行哈希处理，所以我不确定黑客是否有可能解密这个？

如果 asp.net 使用相同的规则来散列密码，这是每个人都知道的。比黑客可以轻松破解它。

例如。如果 asp.net 使用 MD5(123456)，结果是“E10ADC3949BA59ABBE56E057F20F883E”，那么黑客可能有一个 MD5 字典来查找它。

我的设置是：

```
<add name="AspNetSqlMembershipProvider" type="System.Web.Security.SqlMembershipProvider" connectionStringName="ApplicationServices"
             enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="false"
             maxInvalidPasswordAttempts="5" minRequiredPasswordLength="6" minRequiredNonalphanumericCharacters="0" passwordAttemptWindow="10"
             applicationName="/" /> 
```

-- SQL 语句：

```
SELECT am.UserId, am.[Password], am.PasswordSalt FROM aspnet_Membership am 
```

-- 结果是：

```
F10A635D-22DA-419C-84E6-767D2A35A010,tpeiwPt5+kFbcocQZOuc4aoHeuI=,PVq9dPtbFxze9Erbfd7HrA== 
```

密码是123456，变成“tpeiwPt5+kFbcocQZOuc4aoHeuI=”。

这个值在不同的机器或不同的应用程序上总是相同的吗？

如果这个值与盐“PVq9dPtbFxze9Erbfd7HrA==”有关，那么黑客是否有可能使用这个盐来解密我的密码？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-27T05:43:45.617

为了能够回答这个问题，你必须了解两件事：哈希的作用和盐的作用。

*哈希的要点是在单向*过程中将任意字符串提炼成已知长度的字符串。也就是说，一个好的散列算法会以这样的方式做到这一点，即**很难**找到任何散列到相同值的字符串。

然而，问题是哈希算法在给定相同的输入时总是返回相同的结果。加盐的目的是在密码数据库被盗的情况下缓解这个问题。每次我散列密码时，我都会生成一个完全随机的盐，*它不需要是秘密*的，并在散列*之前*将它添加到我的密码中。这样，我确保每次对给定密码进行哈希处理时，都会获得不同的结果。随机盐不需要保密，实际上必须与散列密码一起以“明文”形式存储的原因是，出于身份验证的目的，需要用于生成原始散列的相同盐来验证给定*的*密码与哈希匹配。

因为每次用户想要更改密码时都会随机生成一个好的盐，所以即使重新存储相同的密码也几乎肯定会创建一个完全不同的哈希，只要存储密码的应用程序正确使用盐。

如果哈希算法结构良好，那么对存储随机盐的密码的唯一可能攻击就是暴力搜索。像 MD5 这样的一些哈希算法被认为是“损坏的”，因为它可以在比蛮力时间更快的时间内找到所谓的“哈希冲突”。您将需要了解您的平台使用哪种算法来生成密码哈希，并仔细阅读以了解是否可以找到该算法的哈希冲突。

# php - 使用 ZEND oauth 库而不使用 zend 框架

> ID：11682013
> 
> 赞同：0
> 
> 时间：2012-07-27T05:33:17.410
> 
> 标签：php, zend-framework, oauth

我想使用 Oauth 来调用 etsy API，但我没有权限在服务器上安装 php oauth PECL 扩展。所以我听说了 ZEND oauth 库。我是否可以在不使用 ZEND 框架的情况下使用 ZEND Oauth 库，因为我听说 ZEND 库是松散耦合的并且可以独立于框架使用？如果我能做到。我的项目中必须包含哪些库

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T16:39:47.637

我曾经在我的知识库中写过一篇关于如何在 Zend Framework 中使用该库的文档。请参阅底部的链接。

简而言之，您必须将库的基本路径提供给 php 包含路径。这里重要的是您提供**库的路径，而不是 Zend 目录本身**。Zend Framework 1.x 中的所有文件都有相对于这个库路径和 Zend 文件夹的 require_once。（请注意，这在 ZF2 中会有所不同，并且取决于自动加载）。一旦你在你的环境中拥有了它，你应该很好地访问库中的每个类并使用它。

```
// define an absolute path to library directory
// Note again: the path is the parent of your Zend folder, not the Zend folder itself.
define('APPLICATION_LIBRARY','path/to/your/library')); 
// now set the include path
set_include_path(implode(PATH_SEPARATOR, array(
  APPLICATION_LIBRARY, get_include_path(),
))); 
```

[Zend Framework 作为一个独立的库](http://www.adrianworlddesign.com/Knowledge-Base/Zend-Framework/Helpful-Tips/ZF-classes-as-stand-alone-objects)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T08:58:21.700

当然可以。像往常一样安装 Zend 框架，然后使用你需要的东西。

# jquery - JQuery Toggle() 函数是否只支持 div 隐藏？

> ID：11682014
> 
> 赞同：0
> 
> 时间：2012-07-27T05:33:17.440
> 
> 标签：jquery, html, html-table, toggle, tablerow

我正在尝试设置一个切换功能以在表格中显示更多内容。

所以在这里，我不能用我的 < tr > 做很多事情，我不知道是因为我错过了什么还是因为 toggle() 只适用于 < div > ？

这是我所做的：

剧本

```
<script>
$(document).ready(function() {
 // hides the slickbox as soon as the DOM is ready (a little sooner that page load)
  $('.hidden').hide();

 // slides down, up, and toggle the slickbox on click    

  $('.more-info').click(function() {
    $('.hidden').slideToggle(1000);
    return false;
  });
});
</script> 
```

按钮 ：

```
<div style="float:right;"><a href="javascript:void(0)" class="more-info">Show more</a>
</div> 
```

表（ tr 到 Toggle ）：

```
<tr class="hidden">
    <td>
        <img id="tableImage" src="<?php echo base_url($product['image_url'])?>" alt="product" width="121"/>
    </td>
    <td>
        <?php echo $product['title'] ?>
    </td>
    <td>
        <?php 
            $options = array(
                         '0'  => '0',
                         '1'  => '1',
                         '2'  => '2',
                         '3'  => '3',
                         '4'  => '4',
                         '5'  => '5',
                         '6'  => '6',
                         '7'  => '7',
            );

            if($product['quantity']==0){
               $value[$product['title']] = set_value('quantity'.$product['title']);
            }else{
               $value[$product['title']] = $product['quantity'];
            }

            $data0 = 'class="quantSelect" value="'.$value[$product['title']].'" id="quant'.$product['title'].'"';
            echo    form_dropdown('quantity'.$product['title'], $options, $value[$product['title']],$data0);
        ?>
    </td>
    <td>
        <?php echo $product['price'] ?>
    </td>
    <td id="<?php echo 'price'.$product['title']?>">$<?php echo $total[$product['title']] ?>
    </td>
</tr> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T05:37:18.367

怎么样`toggleClass`？

```
$('.more-info').click(function() {
    $(this).toggleClass('hidden');
    return false;
});

.hidden {
    display: none;
} 
```

另一件事，**你为什么不把 PHP 和 HTML 分开**呢？

[参考](http://api.jquery.com/toggleClass/)

这个[演示](http://jsfiddle.net/kb2yJ/1/)可以帮助你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T06:53:13.503

`.toggle()`绝对不仅限于 div 元素，实际上它似乎与 tr 元素一起工作正常：http: [//jsfiddle.net/sdWVU/](http://jsfiddle.net/sdWVU/) - 包括如果您指定持续时间：http: [//jsfiddle.net/sdWVU/1/](http://jsfiddle.net/sdWVU/1/)

但是，您的代码实际上并未使用`.toggle()`，而是使用`.slideToggle()`. 这对 tr 元素“不起作用”，因为它确实隐藏和显示元素但不滑动它：http: [//jsfiddle.net/sdWVU/2/](http://jsfiddle.net/sdWVU/2/)缺少滑动效果是一个限制表是如何工作的。

如果你想让行隐藏和显示动画，我建议`.toggle('slow')`。

# android - 自定义缩放图像视图缩放功能在内部的 scaletype 中心不起作用

> ID：11682017
> 
> 赞同：0
> 
> 时间：2012-07-27T05:33:36.743
> 
> 标签：android

我正在使用`TouchImageview custom imageview class`已用于 pich 缩放图像并且它工作得很好但是，当我将 Touchimageview 比例类型设置为内部居中时，它不起作用捏缩放任何人都可以帮助我，我想用缩放类型中心来缩放图像！

这是我的自定义 imageview 类代码：

```
public class TouchImageView extends ImageView {

    Matrix matrix = new Matrix();

    // We can be in one of these 3 states
    static final int NONE = 0;
    static final int DRAG = 1;
    static final int ZOOM = 2;
    int mode = NONE;

    // Remember some things for zooming
    PointF last = new PointF();
    PointF start = new PointF();
    float minScale = 1f;
    float maxScale = 3f;
    float[] m;

    float redundantXSpace, redundantYSpace;

    float width, height;
    static final int CLICK = 3;
    float saveScale = 1f;
    float right, bottom, origWidth, origHeight, bmWidth, bmHeight;

    ScaleGestureDetector mScaleDetector;

    Context context;

    public TouchImageView(Context context) {
        super(context);
        sharedConstructing(context);
    }

    public TouchImageView(Context context, AttributeSet attrs) {
        super(context, attrs);
        sharedConstructing(context);
    }

    private void sharedConstructing(Context context) {
        super.setClickable(true);
        this.context = context;
        mScaleDetector = new ScaleGestureDetector(context, new ScaleListener());
        matrix.setTranslate(1f, 1f);
        m = new float[9];
        setImageMatrix(matrix);
        setScaleType(ScaleType.MATRIX);

        setOnTouchListener(new OnTouchListener() {

            public boolean onTouch(View v, MotionEvent event) {
                mScaleDetector.onTouchEvent(event);

                matrix.getValues(m);
                float x = m[Matrix.MTRANS_X];
                float y = m[Matrix.MTRANS_Y];
                PointF curr = new PointF(event.getX(), event.getY());

                switch (event.getAction()) {
                    case MotionEvent.ACTION_DOWN:
                        last.set(event.getX(), event.getY());
                        start.set(last);
                        mode = DRAG;
                        break;
                    case MotionEvent.ACTION_MOVE:
                        if (mode == DRAG) {
                            float deltaX = curr.x - last.x;
                            float deltaY = curr.y - last.y;
                            float scaleWidth = Math.round(origWidth * saveScale);
                            float scaleHeight = Math.round(origHeight * saveScale);
                            if (scaleWidth < width) {
                                deltaX = 0;
                                if (y + deltaY > 0)
                                    deltaY = -y;
                                else if (y + deltaY < -bottom)
                                    deltaY = -(y + bottom); 
                            } else if (scaleHeight < height) {
                                deltaY = 0;
                                if (x + deltaX > 0)
                                    deltaX = -x;
                                else if (x + deltaX < -right)
                                    deltaX = -(x + right);
                            } else {
                                if (x + deltaX > 0)
                                    deltaX = -x;
                                else if (x + deltaX < -right)
                                    deltaX = -(x + right);

                                if (y + deltaY > 0)
                                    deltaY = -y;
                                else if (y + deltaY < -bottom)
                                    deltaY = -(y + bottom);
                            }
                            matrix.postTranslate(deltaX, deltaY);
                            last.set(curr.x, curr.y);
                        }
                        break;

                    case MotionEvent.ACTION_UP:
                        mode = NONE;
                        int xDiff = (int) Math.abs(curr.x - start.x);
                        int yDiff = (int) Math.abs(curr.y - start.y);
                        if (xDiff < CLICK && yDiff < CLICK)
                            performClick();
                        break;

                    case MotionEvent.ACTION_POINTER_UP:
                        mode = NONE;
                        break;
                }
                setImageMatrix(matrix);
                invalidate();
                return true; // indicate event was handled
            }

        });
    }

    @Override
    public void setImageBitmap(Bitmap bm) { 
        super.setImageBitmap(bm);
        if(bm != null) {
            bmWidth = bm.getWidth();
            bmHeight = bm.getHeight();
        }
    }

    public void setMaxZoom(float x)
    {
        maxScale = x;
    }

    private class ScaleListener extends ScaleGestureDetector.SimpleOnScaleGestureListener {
        @Override
        public boolean onScaleBegin(ScaleGestureDetector detector) {
            mode = ZOOM;
            return true;
        }

        @Override
        public boolean onScale(ScaleGestureDetector detector) {
            float mScaleFactor = detector.getScaleFactor();
            float origScale = saveScale;
            saveScale *= mScaleFactor;
            if (saveScale > maxScale) {
                saveScale = maxScale;
                mScaleFactor = maxScale / origScale;
            } else if (saveScale < minScale) {
                saveScale = minScale;
                mScaleFactor = minScale / origScale;
            }
            right = width * saveScale - width - (2 * redundantXSpace * saveScale);
            bottom = height * saveScale - height - (2 * redundantYSpace * saveScale);
            if (origWidth * saveScale <= width || origHeight * saveScale <= height) {
                matrix.postScale(mScaleFactor, mScaleFactor, width / 2, height / 2);
                if (mScaleFactor < 1) {
                    matrix.getValues(m);
                    float x = m[Matrix.MTRANS_X];
                    float y = m[Matrix.MTRANS_Y];
                    if (mScaleFactor < 1) {
                        if (Math.round(origWidth * saveScale) < width) {
                            if (y < -bottom)
                                matrix.postTranslate(0, -(y + bottom));
                            else if (y > 0)
                                matrix.postTranslate(0, -y);
                        } else {
                            if (x < -right) 
                                matrix.postTranslate(-(x + right), 0);
                            else if (x > 0) 
                                matrix.postTranslate(-x, 0);
                        }
                    }
                }
            } else {
                matrix.postScale(mScaleFactor, mScaleFactor, detector.getFocusX(), detector.getFocusY());
                matrix.getValues(m);
                float x = m[Matrix.MTRANS_X];
                float y = m[Matrix.MTRANS_Y];
                if (mScaleFactor < 1) {
                    if (x < -right) 
                        matrix.postTranslate(-(x + right), 0);
                    else if (x > 0) 
                        matrix.postTranslate(-x, 0);
                    if (y < -bottom)
                        matrix.postTranslate(0, -(y + bottom));
                    else if (y > 0)
                        matrix.postTranslate(0, -y);
                }
            }
            return true;

        }
    }

    @Override
    protected void onMeasure (int widthMeasureSpec, int heightMeasureSpec)
    {
        super.onMeasure(widthMeasureSpec, heightMeasureSpec);
        width = MeasureSpec.getSize(widthMeasureSpec);
        height = MeasureSpec.getSize(heightMeasureSpec);
        //Fit to screen.
        float scale;
        float scaleX =  (float)width / (float)bmWidth;
        float scaleY = (float)height / (float)bmHeight;
        scale = Math.min(scaleX, scaleY);
        matrix.setScale(scale, scale);
        setImageMatrix(matrix);
        saveScale = 1f;

        // Center the image
        redundantYSpace = (float)height - (scale * (float)bmHeight) ;
        redundantXSpace = (float)width - (scale * (float)bmWidth);
        redundantYSpace /= (float)2;
        redundantXSpace /= (float)2;

        matrix.postTranslate(redundantXSpace, redundantYSpace);

        origWidth = width - 2 * redundantXSpace;
        origHeight = height - 2 * redundantYSpace;
        right = width * saveScale - width - (2 * redundantXSpace * saveScale);
        bottom = height * saveScale - height - (2 * redundantYSpace * saveScale);
        setImageMatrix(matrix);
    }
} 
```

该代码在内部未设置比例类型中心时效果很好！

我在下面的代码中设置了 touchimageview 类比例类型：

```
 myImageView = (TouchImageView)findViewById(R.id.imageviewzooming);
    myImageView.setScaleType(ImageView.ScaleType.CENTER_INSIDE);
    myImageView.setImageBitmap(bitmap);
    myImageView.setMaxZoom(4f); 
```

那是代码设置 TouchImageView 不起作用缩放功能！

我想用内部缩放类型中心缩放图像！

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T16:47:37.013

我在我的应用程序中也使用了您在此处发布的 TouchImageView 类。您不能只将 TouchImageView 的 scaleType 设置为，`ImageView.ScaleType.CENTER_INSIDE`因为在 TouchImageView 中实现的平移和缩放功能需要 scaletype 为`ScaleType.MATRIX`

在该`sharedConstructing(Context context)`方法中，scaleType 设置为`ScaleType.MATRIX`

我假设你想要实现的是，来自 Android 文档`ScaleType.CENTER_INSIDE`：

> 均匀缩放图像（保持图像的纵横比），使图像的两个尺寸（宽度和高度）都等于或小于视图的相应尺寸（减去填充）。

这种行为正是给定的 TouchImageView 代码为我所做的。在您包含的代码中，在 OnMeasure 方法中，这称为：

```
 width = MeasureSpec.getSize(widthMeasureSpec);
    height = MeasureSpec.getSize(heightMeasureSpec);
    //Fit to screen.
    float scale;
    float scaleX =  (float)width / (float)bmWidth;
    float scaleY = (float)height / (float)bmHeight;
    scale = Math.min(scaleX, scaleY);
    matrix.setScale(scale, scale);
    setImageMatrix(matrix);
    saveScale = 1f;

    // Center the image
    redundantYSpace = (float)height - (scale * (float)bmHeight) ;
    redundantXSpace = (float)width - (scale * (float)bmWidth);
    redundantYSpace /= (float)2;
    redundantXSpace /= (float)2;

    matrix.postTranslate(redundantXSpace, redundantYSpace); 
```

据我了解，此代码实现了与`ScaleType.CENTER_INSIDE`加载 TouchImageView 时相同的行为，它缩放图像以使两个尺寸都适合屏幕并保留纵横比，并使图像居中。如果用户通过平移和缩放开始与图像交互，这当然会改变，但初始比例和位置对我来说是正确的原始代码。

那么，你试图用这段代码实现什么行为，但它还没有做呢？

# php - 如何将比特种子信息哈希从 Base 32 转换为 Base 16

> ID：11682019
> 
> 赞同：2
> 
> 时间：2012-07-27T05:33:56.830
> 
> 标签：php, bittorrent, info-hash

我有一个 Base32 信息哈希。例如`IXE2K3JMCPUZWTW3YQZZOIB5XD6KZIEQ`，我需要将其转换为 base16。

我怎样才能用 PHP 做到这一点？

我的代码如下所示：

```
$hash32=strtolower($hash32);
echo $hash32; // shows - IXE2K3JMCPUZWTW3YQZZOIB5XD6KZIEQ
$hash32=sha1($hash32);
$hash16=base_convert($hash32, 32, 16);
echo "</br>";
echo $hash16 // shows - 3ee5e7325a282c56fe2011125e0492f6ffbcd467 
```

在我的代码中，基于 16 的信息哈希无效..

有效的信息哈希是`45C9A56D2C13E99B4EDBC43397203DB8FCACA090`

如何获得有效的信息哈希？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T09:00:28.037

我给你一个自愿省略的答案`gmp_strval(gmp_init(strtoupper($hash32), 32), 16);`，**它只**适用于你的服务器中安装的[GMP 。](http://www.php.net/manual/en/book.gmp.php)

```
function convBase($numberInput, $fromBaseInput, $toBaseInput)
{
    if ($fromBaseInput==$toBaseInput) return $numberInput;
    $fromBase = str_split($fromBaseInput,1);
    $toBase = str_split($toBaseInput,1);
    $number = str_split($numberInput,1);
    $fromLen=strlen($fromBaseInput);
    $toLen=strlen($toBaseInput);
    $numberLen=strlen($numberInput);
    $retval='';
    if ($toBaseInput == '0123456789')
    {
        $retval=0;
        for ($i = 1;$i <= $numberLen; $i++)
            $retval = bcadd($retval, bcmul(array_search($number[$i-1], $fromBase),bcpow($fromLen,$numberLen-$i)));
        return $retval;
    }
    if ($fromBaseInput != '0123456789')
        $base10=convBase($numberInput, $fromBaseInput, '0123456789');
    else
        $base10 = $numberInput;
    if ($base10<strlen($toBaseInput))
        return $toBase[$base10];
    while($base10 != '0')
    {
        $retval = $toBase[bcmod($base10,$toLen)].$retval;
        $base10 = bcdiv($base10,$toLen,0);
    }
    return $retval;
} 
```

这个函数，在[这里](http://www.php.net/manual/en/function.base-convert.php#106546)找到，*“将任意大的数字从任何基数转换为任何基数”*。您只需要从*base 32*转换为*base 16*，因此：

[base 32 字母表](https://www.rfc-editor.org/rfc/rfc4648#page-8)是：`ABCDEFGHIJKLMNOPQRSTUVWXYZ234567`

```
$hash32='IXE2K3JMCPUZWTW3YQZZOIB5XD6KZIEQ';
$hash16=convBase($hash32, 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567', '0123456789ABCDEF');
//$hash16='45C9A56D2C13E99B4EDBC43397203DB8FCACA090' 
```

这里的问题是对`base_convert`大量数字处理不当。

# twitter - 当 twitter 出现故障时，我网站上的元素也会中断。如何防止这种情况？

> ID：11682021
> 
> 赞同：1
> 
> 时间：2012-07-27T05:34:01.587
> 
> 标签：twitter

正如我们所知[，Twitter.com](http://blog.twitter.com/2012/06/todays-turbulence-explained.html)在昨天（2012 年 7 月 26 日）一段时间内出现了宕机。那时我的网站主页有些反应迟钝。主页试图加载 twitter 提要并失败，因此我网站中的其他页面元素似乎已损坏，例如 jquery 滑块无法正确加载，因为它试图加载 twitter API。

如果网站发现它已关闭并显示一个简短的错误通知来代替提要，是否需要将其修复为主页忽略 twitter 提要？

我正在使用以下自定义 twitter 小部件（[从此处获取](http://www.nouveller.com/css/get-yourself-a-great-looking-custom-twitter-badge/)）在主页中显示最新的 2 条推特。

```
<div id='twitter_div'>                        
<ul id='twitter_update_list'>       
</ul>                             
</div>
<script type='text/javascript' src='http://twitter.com/javascripts/blogger.js'></script>

<script type='text/javascript'>
// to filter @replies in twitter feed
    function filterCallback( twitter_json )
        { var result = [];for(var index in twitter_json) 
        { if(twitter_json[index].in_reply_to_user_id == null) {result[result.length] = twitter_json[index]; }
        if( result.length==2 ) break;}twitterCallback2(result); }
    </script>

<script type='text/javascript' src='http://twitter.com/statuses/user_timeline/DUOBoots.json?callback=filterCallback&amp;count=10'></script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T05:38:59.043

你应该延迟加载你的 twitter 提要。您页面的其余部分将立即加载，如果/当 twitter 出现故障时，它不会阻止您页面的其余部分。无论如何，这样做是个好习惯。

有关使用 jquery 执行此操作的一些示例的讨论，请参见[https://dev.twitter.com/discussions/3369](https://dev.twitter.com/discussions/3369)。

# qt - Windows Phone 8 会支持 Qt 吗？

> ID：11682027
> 
> 赞同：9
> 
> 时间：2012-07-27T05:34:35.043
> 
> 标签：qt, windows-phone-8

我只是想知道，如果现在将原生应用程序开发支持引入 Windows phone 8，这是否意味着我们可以在技术上开发基于 Qt 的应用程序并从 QML 技术中受益？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-27T05:37:53.173

关于在 Windows 8 上支持 Qt 的可行性，这里有一份冗长的技术报告：

[http://qt-project.org/wiki/Qt-5-on-Windows-8-and-Metro-UI](http://qt-project.org/wiki/Qt-5-on-Windows-8-and-Metro-UI)

从结论来看，这听起来很可行。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-01-30T07:05:15.217

对这个旧问题的一些更新，链接：

*   [为 Windows 8 现代 UI 构建 Qt 5（Windows 应用商店应用程序和 Windows Phone 8）](http://qt-project.org/wiki/WinRTBuild)
*   [构建和部署您的 WinRT 应用程序（技术预览 1）](http://qt-project.org/wiki/WinRT_TP1_deployment)
*   Qt5 文档快照：[WinRT](http://doc-snapshot.qt-project.org/qt5-dev/winrt-support.html)

所以回答这个问题：**是**的，这在技术上确实是可行的。仍然（2014 年初）处于开发的早期阶段，所以一切都不起作用，项目设置很笨拙等，但看起来很有希望。不知道官方的开箱即用支持何时会出现在 Qt 5 SDK 中，但 Qt 是开源的，所以你已经可以开始使用它了。

# .net - Type.GetType(), 哈希集 和组装资格

> ID：11682038
> 
> 赞同：7
> 
> 时间：2012-07-27T05:36:39.570
> 
> 标签：.net

在解决问题

[加载 ASP.Net 配置文件时出错](https://stackoverflow.com/q/11680599/141172)

我遇到了我不理解的 Type.GetType(string typeName) 行为。

获取 a 的类型时，将`List<int>`类型指定为

> System.Collections.Generic.List`1[[System.Int32]]

但是，对于`HashSet<int>`，我必须像这样指定一个完全限定的类型名称

> System.Collections.Generic.HashSet`1[[System.Int32]]，System.Core，版本=4.0.0.0，文化=中性，PublicKeyToken=b77a5c561934e089

如果我遗漏了**任何**程序集、版本、文化或公钥标记，则不会解析该类型。

**重现代码**

```
// Returns expected type:
Type tListWorks = 
     Type.GetType("System.Collections.Generic.List`1[[System.Int32]]");

// Returns null:
Type tHashSetNull = 
     Type.GetType("System.Collections.Generic.HashSet`1[[System.Int32]]");

// Returns expected type:
Type tHashSetWorks = 
     Type.GetType("System.Collections.Generic.HashSet`1[[System.Int32]], System.Core, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089");

// Returns null (omitted Culture):
Type tHashSetNoCultureFails = 
     Type.GetType("System.Collections.Generic.HashSet`1[[System.Int32]], System.Core, Version=4.0.0.0, PublicKeyToken=b77a5c561934e089"); 
```

**问题**

*   为什么我必须完全符合资格`HashSet<T>`而不是`List<T>`？
*   鉴于必须指定版本限定，如果 .NET 运行时是 3.5（第一个具有`HashSet<T>`.NET 的）或更高版本（例如 .NET 4.5）怎么办？如果运行时完全像 Silverlight 或 Mono 怎么办？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T05:51:12.143

`List<T>`中[定义](http://msdn.microsoft.com/en-us/library/6sh2ey19.aspx)，[不是](http://msdn.microsoft.com/en-us/library/bb359438.aspx)。`mscorelib`_`HashSet<T>`

根据[文档](http://msdn.microsoft.com/en-us/library/w3f99sx1.aspx)：

> 如果类型在当前执行的程序集中或在 Mscorlib.dll 中，则提供由其命名空间限定的类型名称就足够了

至于您的第二个问题，如果您为当前框架/配置文件中不可用的程序集提供限定类型名称，`GetType`则将返回 null。

需要所有程序集属性的原因在 Type.GetType 文档中指定（正如 Jason Malinowski 在评论中指出的那样）：

> 如果 typeName 包含命名空间但不包含程序集名称，则此方法仅按此顺序搜索调用对象的程序集和 Mscorlib.dll。如果 typeName 是完全限定的部分或完整程序集名称，则此方法在指定的程序集中搜索。**如果程序集具有强名称，则需要完整的程序集名称。**

# iphone - 使用核心数据和更改值时的 EXC_BAD_ACCESS

> ID：11682039
> 
> 赞同：0
> 
> 时间：2012-07-27T05:36:41.383
> 
> 标签：iphone, ios, xcode, core-data, memory

我对 Obj-C 和 CoreData 比较陌生。我过去曾成功使用过 CoreData，但是当我尝试为我的一个 managedObjects 中的属性分配值时遇到问题。

所以，我在哪里实例化了我的 managedObjectContext 并创建了一个 managedObject 来保存。

```
if (managedObjectContext == nil) 
    { 
        managedObjectContext = [(AppDelegate *)[[UIApplication sharedApplication] delegate] managedObjectContext]; 
    }

Lesson *Lesson1 = [NSEntityDescription insertNewObjectForEntityForName:@"Lesson" inManagedObjectContext:managedObjectContext]; 
```

然后我去编辑 managedObject 的值并将其保存：

```
Lesson1.productID = 1;
    Lesson1.purchaseStatus = 1;
    Lesson1.title = @"Happy Birthday to You";
    Lesson1.subtitle = @"Patty & Mildred Hill";
    Lesson1.titleAndSubtitle = @"Happy Birthday to You - Patty & Mildred Hill";
    Lesson1.coverArtFilename = @"beethoven.png";
    Lesson1.durationLabel = @"0:11";
    Lesson1.notes = @"123";
    Lesson1.timing = @"3/4";
    Lesson1.keySignature = @"G";
    Lesson1.difficultyImageFilename = @"easy.png";
    Lesson1.lessonDescription = @"Originally, this song piece was called 'Good Morning to All' and was sung to and by children in school.";
    Lesson1.sheetFilename = @"1_score";
    Lesson1.midiFilename = @"happyBirthdayToYou";
    Lesson1.materialsFilename = @"1_score";
    Lesson1.roll = @"happyBirthdayToYou";
    Lesson1.duration = 11;
    Lesson1.startingIndicatorPosition = 175;
    Lesson1.rollPositionArray = [NSArray arrayWithObjects:   /* 0 */ [NSNumber numberWithInteger:0],
                                                             /* 1 */ [NSNumber numberWithInteger:0],    
                                                             /* 2 */ [NSNumber numberWithInteger:0],
                                                             /* 3 */ [NSNumber numberWithInteger:-65],
                                                             /* 4 */ [NSNumber numberWithInteger:-100],
                                                             /* 5 */ [NSNumber numberWithInteger:-135],
                                                             /* 6 */ [NSNumber numberWithInteger:-185],
                                                             /* 7 */ [NSNumber numberWithInteger:-185],
                                                             /* 8 */ [NSNumber numberWithInteger:-241],
                                                             /* 9 */ [NSNumber numberWithInteger:-306],
                                                             /* 10 */ [NSNumber numberWithInteger:-341],
                                                             /* 11 */ [NSNumber numberWithInteger:-376],
                                                             /* 12 */ [NSNumber numberWithInteger:-426],
                                                             /* 13 */ [NSNumber numberWithInteger:-426],
                                                             /* 14 */ [NSNumber numberWithInteger:-483],
                                                             /* 15 */ [NSNumber numberWithInteger:-548],
                                                             /* 16 */ [NSNumber numberWithInteger:-582],
                                                             /* 17 */ [NSNumber numberWithInteger:-617],
                                                             /* 18 */ [NSNumber numberWithInteger:-666],
                                                             /* 19 */ [NSNumber numberWithInteger:-701],
                                                             /* 20 */ [NSNumber numberWithInteger:-737],
                                                             /* 21 */ [NSNumber numberWithInteger:-799],
                                                             /* 22 */ [NSNumber numberWithInteger:-834],
                                                             /* 23 */ [NSNumber numberWithInteger:-868],
                                                             /* 24 */ [NSNumber numberWithInteger:-918],
                                                             nil];

    NSError *error;
    if (![managedObjectContext save:&error]) {
        NSLog(@"Whoops, couldn't save: %@", [error localizedDescription]);
    } 
```

此时，如果我运行应用程序，它会在尝试更改 productID 的值时出现错误：EXC_BAD_ACCESS (code=2, address=0x1)。它还给了我一个警告，指出它是一个“不兼容的整数到从“int”分配给“int *”的指针转换。

我已经进行了一些调试并检查了我的任何对象是否为 nil 而不是。当我输出我的 managedObjectContext 的描述时，我得到：

```
Printing description of self->managedObjectContext:
<NSManagedObjectContext: 0x7e8d8b0> 
```

打印我的对象，我得到：

```
Printing description of Lesson1:
<NSManagedObject: 0x7e927e0> (entity: Lesson; id: 0x7e7fce0 <x-coredata:///Lesson/tA7BFE664-F978-4983-B5DC-14D3F3ED49812> ; data: {
    coverArtFilename = nil;
    difficultyImageFilename = nil;
    duration = 0;
    durationLabel = nil;
    keySignature = nil;
    lessonDescription = nil;
    materialsFilename = nil;
    midiFilename = nil;
    productID = nil;
    purchaseStatus = 0;
    roll = nil;
    rollPositionArray = nil;
    sheetFilename = nil;
    startingIndicatorPosition = 0;
    subtitle = nil;
    timing = nil;
    title = nil;
    titleAndSubtitle = nil;
}) 
```

由于我的知识很少，我的调试技能有限，所以如果有人能指出我正确的方向，我将不胜感激。谢谢你。

**编辑**

我的 NSManagedObjectContext 是以默认方式定义的。我在下面附上了我的 AppDelegate.m：

```
#import "AppDelegate.h"

@implementation AppDelegate

@synthesize window = _window;
@synthesize managedObjectContext = __managedObjectContext;
@synthesize managedObjectModel = __managedObjectModel;
@synthesize persistentStoreCoordinator = __persistentStoreCoordinator;

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    return YES;
}

- (void)applicationWillResignActive:(UIApplication *)application
{
    // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state.
    // Use this method to pause ongoing tasks, disable timers, and throttle down OpenGL ES frame rates. Games should use this method to pause the game.
}

- (void)applicationDidEnterBackground:(UIApplication *)application
{
    // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later. 
    // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits.
}

- (void)applicationWillEnterForeground:(UIApplication *)application
{
    // Called as part of the transition from the background to the inactive state; here you can undo many of the changes made on entering the background.
}

- (void)applicationDidBecomeActive:(UIApplication *)application
{
    // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface.
}

- (void)applicationWillTerminate:(UIApplication *)application
{
    // Saves changes in the application's managed object context before the application terminates.
    [self saveContext];
}

- (void)saveContext
{
    NSError *error = nil;
    NSManagedObjectContext *managedObjectContext = self.managedObjectContext;
    if (managedObjectContext != nil) {
        if ([managedObjectContext hasChanges] && ![managedObjectContext save:&error]) {
            // Replace this implementation with code to handle the error appropriately.
            // abort() causes the application to generate a crash log and terminate. You should not use this function in a shipping application, although it may be useful during development. 
            NSLog(@"Unresolved error %@, %@", error, [error userInfo]);
            abort();
        } 
    }
}

#pragma mark - Core Data stack

// Returns the managed object context for the application.
// If the context doesn't already exist, it is created and bound to the persistent store coordinator for the application.
- (NSManagedObjectContext *)managedObjectContext
{
    if (__managedObjectContext != nil) {
        return __managedObjectContext;
    }

    NSPersistentStoreCoordinator *coordinator = [self persistentStoreCoordinator];
    if (coordinator != nil) {
        __managedObjectContext = [[NSManagedObjectContext alloc] init];
        [__managedObjectContext setPersistentStoreCoordinator:coordinator];
    }
    return __managedObjectContext;
}

// Returns the managed object model for the application.
// If the model doesn't already exist, it is created from the application's model.
- (NSManagedObjectModel *)managedObjectModel
{
    if (__managedObjectModel != nil) {
        return __managedObjectModel;
    }
    NSURL *modelURL = [[NSBundle mainBundle] URLForResource:@"iLessons_Piano" withExtension:@"momd"];
    __managedObjectModel = [[NSManagedObjectModel alloc] initWithContentsOfURL:modelURL];
    return __managedObjectModel;
}

// Returns the persistent store coordinator for the application.
// If the coordinator doesn't already exist, it is created and the application's store added to it.
- (NSPersistentStoreCoordinator *)persistentStoreCoordinator
{
    if (__persistentStoreCoordinator != nil) {
        return __persistentStoreCoordinator;
    }

    NSURL *storeURL = [[self applicationDocumentsDirectory] URLByAppendingPathComponent:@"iLessons_Piano.sqlite"];

    NSError *error = nil;
    __persistentStoreCoordinator = [[NSPersistentStoreCoordinator alloc] initWithManagedObjectModel:[self managedObjectModel]];
    if (![__persistentStoreCoordinator addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:storeURL options:nil error:&error]) {
        /*
         Replace this implementation with code to handle the error appropriately.

         abort() causes the application to generate a crash log and terminate. You should not use this function in a shipping application, although it may be useful during development. 

         Typical reasons for an error here include:
         * The persistent store is not accessible;
         * The schema for the persistent store is incompatible with current managed object model.
         Check the error message to determine what the actual problem was.

         If the persistent store is not accessible, there is typically something wrong with the file path. Often, a file URL is pointing into the application's resources directory instead of a writeable directory.

         If you encounter schema incompatibility errors during development, you can reduce their frequency by:
         * Simply deleting the existing store:
         [[NSFileManager defaultManager] removeItemAtURL:storeURL error:nil]

         * Performing automatic lightweight migration by passing the following dictionary as the options parameter: 
         [NSDictionary dictionaryWithObjectsAndKeys:[NSNumber numberWithBool:YES], NSMigratePersistentStoresAutomaticallyOption, [NSNumber numberWithBool:YES], NSInferMappingModelAutomaticallyOption, nil];

         Lightweight migration will only work for a limited set of schema changes; consult "Core Data Model Versioning and Data Migration Programming Guide" for details.

         */
        NSLog(@"Unresolved error %@, %@", error, [error userInfo]);
        abort();
    }    

    return __persistentStoreCoordinator;
}

#pragma mark - Application's Documents directory

// Returns the URL to the application's Documents directory.
- (NSURL *)applicationDocumentsDirectory
{
    return [[[NSFileManager defaultManager] URLsForDirectory:NSDocumentDirectory inDomains:NSUserDomainMask] lastObject];
}

@end 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T05:52:38.923

不是 productID 或任何其他数字属性`NSNumber*`吗？你能试试吗

```
Lesson1.productID = [NSNumber numberWithInt:1]; 
```

和_ `purchaseStatus`_`duration``startingIndicatorPosition`

# html - 绝对位置 div

> ID：11682043
> 
> 赞同：0
> 
> 时间：2012-07-27T05:37:05.813
> 
> 标签：html

好的，我正在尝试使某些内容居中，但是，我想保留绝对属性以将内容保持在页面上的某个高度内，但同时，我希望内容完全居中。如果 absolute 采用特定坐标，我该如何居中？每个人都有不同尺寸的显示器，因此将坐标设置为中心会失败。

```
#logo {
    position: absolute;
    top: 25px;
    left: 0px;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T05:40:04.113

```
#logo {
    position: absolute;
    top: 25px;
    width: 100px;
    left: 50%;
    margin-left:-50px;
} 
```

将左侧位置设为 50%，然后给它一个负边距以将其拉回一半宽度。

[演示](http://jsbin.com/utiqod/2)

# html - 和

> ID：11682053
> 
> 赞同：0
> 
> 时间：2012-07-27T05:38:07.780
> 
> 标签：html, xslt

我正在尝试使用 对 HTML 标记中的 XML 文件中的值进行排序，我的代码如下所示：

```
<option value="{id/value}">

    <xsl:value-of select="short_name/value" >
    <xsl:sort select="short_name/value"/>
    </xsl:value-of>

</option> 
```

我必须将标签放在哪里？我只得到一个 java.io.IOException：com.caucho.xsl.XslParseException。应该只按 XML 文件中的短名称/值排序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:18:13.840

**xsl:value-of**不允许包含任何下一个 xsl 元素，例如xsl **:sort**。sort 命令仅适用于**xsl:for-each**或**xsl:apply-templates**。

```
<xsl:for-each select="short_name/value" > 
   <xsl:sort select="."/> 
   <xsl:value-of select="." />
</xsl:for-each> 
```

或者，由于最好使用模板而不是 for-each，您可以这样做

```
<xsl:apply-templates select="short_name/value"> 
   <xsl:sort select="."/> 
</xsl:apply-templates> 
```

除非您想要输出文本值以外的任何内容，否则您不需要为**value**元素匹配模板，因为在这种情况下，XSLT 处理器的默认行为将输出文本。

需要注意的一件事是，在您的示例中，您只会输出一个**选项**元素。您确定不想要多个，每个 id 或 short_name 一个。当然，这取决于您的 XML 输入示例，但假设您有这样的 XML

```
<people>
 <person><id><value>3</value></id><short_name><value>C</value></short_name></person>
 <person><id><value>1</value></id><short_name><value>A</value></short_name></person>
 <person><id><value>2</value></id><short_name><value>B</value></short_name></person>
</people> 
```

然后，如果您使用以下 XSLT

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
   <xsl:output method="xml" indent="yes"/>
   <xsl:template match="people">
      <xsl:apply-templates select="person">
         <xsl:sort select="short_name/value"/>
      </xsl:apply-templates>
   </xsl:template>
   <xsl:template match="person">
      <option value="{id/value}">
         <xsl:value-of select="short_name/value"/>
      </option>
   </xsl:template>
</xsl:stylesheet> 
```

然后输出如下

```
<option value="1">A</option>
<option value="2">B</option>
<option value="3">C</option> 
```

# android - 如何在没有 Android 模拟器的情况下在 linux 上运行 Android 的 .apk 文件？

> ID：11682055
> 
> 赞同：4
> 
> 时间：2012-07-27T05:38:10.770
> 
> 标签：android, apk

我有一个要求，我需要在我的主机 PC 上直接安装 .apk 文件，而不需要 Android 模拟器。我想直接在我的 Linux 机器（x86 arch）上安装它。我有一些关于相同的菜鸟问题：

*   .apk 文件是如何组织的？
    *   它只是一个大的二进制文件吗？
        *   在这种情况下，如果我使用的是带有 x86 atom 处理器的手机，这是否意味着会有一个单独的 Android 细分市场来托管移植到 x86 架构的应用程序？
    *   它是由可执行文件组成的档案吗？（类似于 .rpm 或 .deb）。
        *   如果是这样，那么存档的格式是什么？
        *   如果是这样，它们是否有针对不同架构（x86、ARM 等）的不同 .apk 文件。
        *   如果不是，那么它是如何组织的？
*   直接在运行 x86 架构的 Linux PC 上运行 .apk 文件有什么要求？

我没有很好的 Android 和 .apk 文件背景，因此有这些问题。

谢谢并恭祝安康，

赫里希凯什·穆拉利

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-27T05:55:05.903

您不能将 .apk 文件直接安装到您的 PC 上。尽管 Android 使用 Linux 内核，但应用程序运行在完全不同的平台上。APK 文件是基于 JAR 文件格式的 ZIP 文件格式的包，文件扩展名为 .apk。它们拥有该程序的所有代码（例如 .dex 文件）、资源、资产、证书和清单文件。它们仅在[Dalvik 虚拟机上运行。](http://en.wikipedia.org/wiki/Dalvik_virtual_machine)

如果您真的想从计算机上运行 Android 操作系统，请在您的 PC 上安装它们。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-12-22T05:18:15.737

您可以使用 ARCHon 在 ubuntu 中运行 apk：

1.  安装 ARCHon 运行时。http::github.com/vladikoff/chromeos-apk/blob/master/archon.md
2.  打开并启用标志：chrome://flags/#enable-nacl，然后重新启动 Google-Chrome。（重要的！）
3.  [在网站上](https://huodong.ustc.edu.cn/Crx)安装现有的 android 应用程序或通过“[在线 APK-CRX 转换器](https://huodong.ustc.edu.cn/Crx)”转换您喜欢的 android 应用程序。
4.  将 Google-Chrome 扩展拖放到浏览器的 chrome://extensions/ 页面中，它将安装在您的浏览器中。尽情享受吧！

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-12T08:22:55.797

有一个项目旨在使这成为可能： http: [//www.icedrobot.org/](http://www.icedrobot.org/)

不幸的是，截至 2012 年 11 月，它似乎处于非活动状态。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-27T05:48:00.080

1.  apk 文件不是可执行文件，它只是一个存档文件，包含应用程序要使用的所有资源和类文件。
2.  该 apk 设置为由 Dalvik vm 解压缩并运行。
3.  apk 文件中包含的元素经过专门设计并指定用于 Android 手机，而不是运行 Linux 的台式电脑。尽管 Android 使用的是 Linux 内核，但您绝对不能在 Linux 机器上运行 apk 文件，就像运行 rpm 或 deb 文件一样。

# android - 如何在android中将所有行数据从一个表复制到另一个表？

> ID：11682056
> 
> 赞同：0
> 
> 时间：2012-07-27T05:38:18.413
> 
> 标签：android, database, sqlite

我想将所有行和列从一个表复制到另一个。我知道使用光标的方式，光标获取所有数据，然后我将其放入 ArrayList 并在反向执行相同操作后将其插入另一个表。

但是有没有简单快捷的方法可以将一张表复制到另一张表。如果**是**，请告诉我..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T05:58:10.483

您可以复制一个表的内容并使用它来填充另一个表，只要表的结构相同。`INSERT INTO Destination SELECT * FROM Source;`

# c++ - IOCP 和覆盖缓冲区

> ID：11682058
> 
> 赞同：0
> 
> 时间：2012-07-27T05:38:50.690
> 
> 标签：c++, iocp

好吧，我制作了一个 IOCP 来处理具有以下详细信息的客户端连接：

```
 - Threads = (CPU cores * 2)
 - Assigning an completion port to each socket
 - Accessing the socket context by Client Index or overlapped struct (either way is the same) 
```

所以我正在尝试调试传入的数据包，它的工作原理就像一个魅力，除了一点但令人讨厌的细节......我在 WorkersThread 函数上设置了一个断点（我在哪里接收数据包）我正在用数据包观察缓冲区我recv，当缓冲区突然被我从客户端获得的新数据包覆盖时。

这是为什么？根据我读到的内容，IOCP 应该等到我处理数据包，在接收任何其他数据包之前向客户端发送响应。所以我在我的套接字上下文上设置了一个名为“处理”的标志，并且仍然得到了带有传入数据包的覆盖缓冲区。所以它根本不允许我调试，它让我发疯

在我设置断点时让其他线程运行的 ollydbg（调试器）故障是否存在？还是我的 IOCP 实施中有一些错误？

这是我的 WorkerThread 的编码方式：

```
DWORD WINAPI WorkerThread(void* argument)
{
    int BytesTransfer;
    int BytesRecv;
    int ClientID;
    int result;
    OVERLAPPED* overlapped = 0;
    ClientInfo* clientinfo = 0;
    WSABUF wsabuf;
    int flags;
    //Exit only when shutdown signal is recv
    while (WaitForSingleObject(IOCPBase::internaldata->sockcontext.ShutDownSignal, NULL) !=  WAIT_OBJECT_0)
    {
        flags = 0; BytesTransfer = 0; BytesRecv = 0; ClientID = 0; 
        //Get from queued list
        if (GetQueuedCompletionStatus(IOCPBase::internaldata->sockcontext.CompletionPort, (LPDWORD)&BytesTransfer, (PULONG_PTR)&ClientID, &overlapped, INFINITE) == TRUE)
        {
            if (overlapped == 0)
            {
                //Fatal error
                break;
            }
            clientinfo = (ClientInfo*)overlapped;
            if (BytesTransfer != 0)
            {
                //Assign the buffer pointer and buffer len to WSABUF local
                clientinfo->RecvContext.RecvBytes = BytesTransfer;
                wsabuf.buf = (char*)clientinfo->RecvContext.Buffer;
                wsabuf.len = clientinfo->RecvContext.Len;
                //Switch for OperationCode
                //switch (IOCPBase::internaldata->ClientContext[ClientID].OperationCode)
                switch (clientinfo->OperationCode)
                {
                case FD_READ:
                    // Check if we have send all data to the client from a previous send
                    if (clientinfo->SendContext.SendBytes < clientinfo->SendContext.TotalBytes)
                    {
                        clientinfo->OperationCode = FD_READ;             //We set FD_READ caused on the next send, there could still be bytes left to send
                        wsabuf.buf += clientinfo->SendContext.SendBytes; //The buffer position is + sended bytes
                        wsabuf.len = clientinfo->SendContext.TotalBytes - clientinfo->SendContext.SendBytes; //the buffer len is total - sended bytes
                        //Send the remain bytes
                        result = WSASend(clientinfo->sock, &wsabuf, 1, (LPDWORD)&BytesRecv, flags, &clientinfo->overlapped, NULL);
                        if (result == SOCKET_ERROR && (WSAGetLastError() != WSA_IO_PENDING))
                        {
                            CloseClient(ClientID);
                        }
                        clientinfo->SendContext.SendBytes += BytesRecv;
                    }
                    else
                    {
                        if (clientinfo->Processing == 0)
                        {
                            clientinfo->OperationCode = FD_WRITE; //If no more bytes left to send now we can set the operation code to write (in fact is read)
                            memset(clientinfo->RecvContext.Buffer, NULL, MAX_DATA_BUFFER_SIZE); //Clean the buffer for recv new data
                            //Recv data from our client
                            clientinfo->RecvContext.RecvBytes = WSARecv(clientinfo->sock, &wsabuf, 1, (LPDWORD)&BytesRecv, (LPDWORD)&flags, &clientinfo->overlapped, NULL);
                            if (clientinfo->RecvContext.RecvBytes == SOCKET_ERROR &&  WSAGetLastError() != WSA_IO_PENDING)
                            {
                                CloseClient(ClientID);
                                break;
                            }
                        }
                    }
                    break;
                case FD_WRITE:
                    //Send data to the RecvProtocol
                    clientinfo->Processing = 1;
                    IOCPBase::internaldata->callback.RecvProtocol(clientinfo->RecvContext.Buffer, clientinfo->RecvContext.Len, ClientID);
                    clientinfo->Processing = 0;
                default:
                    break;
                }
            }
        }
    }
    return false;
} 
```

查看**clientinfo->RecvContext.Buffer**时出现问题。我正在观察数据包，几秒钟后，缓冲区被一个新数据包覆盖。

谢谢 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T05:59:15.813

没关系，我通过将数据包复制到我用来分析数据包的函数的堆栈帧来解决调试问题，这样我就没有被覆盖的问题。

# jquery - 如何“自动”将 Lightbox 属性应用于网页上的锚标记？

> ID：11682061
> 
> 赞同：1
> 
> 时间：2012-07-27T05:39:00.407
> 
> 标签：jquery, html, jquery-plugins, lightbox

我正在为我的工作制作的网站使用 Lightbox 脚本，我计划包含大约 100 多张图像。处理这么多图像时有更好的解决方案吗？

有没有办法生成 html 链接而不是单独键入它们，因为我有这么多？

```
<a href="gallery/abcc/abcc01.jpg" rel="lightbox[abcc]"><img class="thumb" src="gallery/abcc/thumb.jpg" alt="ABCC Gallery" title="ABCC Gallery"/></a>
<a href="gallery/abcc/abcc02.jpg" rel="lightbox[abcc]"></a>
<a href="gallery/abcc/abcc03.jpg" rel="lightbox[abcc]"></a>
<a href="gallery/abcc/abcc04.jpg" rel="lightbox[abcc]"></a>
<!-- generate each link automatically? -->
<a href="gallery/abcc/abcc99.jpg" rel="lightbox[abcc]"></a> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:39:44.187

参考： [**jsFiddle Lightbox v2.5.1 Demo**](http://jsfiddle.net/c2RvG/1/)

由于**Lightbox**脚本使用**jQuery**框架，因此您可以迭代所有具有 的类名称`thumb`，并在该***父项***、锚`a`链接上添加所需的必要`rel="lightbox"`标记。

**HTML：**

```
<a href="http://lokeshdhakar.com/projects/lightbox2/images/examples/image-3.jpg">
    <img class="thumb" src="http://lokeshdhakar.com/projects/lightbox2/images/examples/thumb-3.jpg" alt="gallery" title="Photo 1" />
</a>

<a href="http://lokeshdhakar.com/projects/lightbox2/images/examples/image-4.jpg">
    <img class="thumb" src="http://lokeshdhakar.com/projects/lightbox2/images/examples/thumb-4.jpg" alt="gallery" title="Photo 2" />
</a>

<a href="http://lokeshdhakar.com/projects/lightbox2/images/examples/image-5.jpg">
    <img class="thumb" src="http://lokeshdhakar.com/projects/lightbox2/images/examples/thumb-5.jpg" alt="gallery" title="Photo 3" />
</a> 
```

**jQuery：**

```
$(document).ready(function() {

    // Scan the webpage for all class names of 'thumb' that is seen.
    $('.thumb').each(function(){

        // For each class name of 'thumb' found, go to the parent item of that thumb and apply the rel attribute.    
        $(this).parent().attr('rel','lightbox[myGallery]');

    });

}); 
```

由于上面使用的 jQuery 是基于您的**HTML 网页布局**，因此可能需要根据该页面上的实际内容进行调整。该`.each();`方法也可以对其他类名重复。

# html - 如何在 winform 设计中使用 html 和/或 css？

> ID：11682062
> 
> 赞同：1
> 
> 时间：2012-07-27T05:39:02.080
> 
> 标签：html, css, winforms

我想问你一个问题。
这可能看起来很愚蠢。
但这对我来说很有趣。
是否有任何方法可以使用 html 和/或 css 来设计 windows 应用程序表单。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T05:45:15.157

.NET平台中有一种叫做WPF（Windows Presentation Foundation）的技术，它使用一种叫做XAML（而不是HTML）的标记语言进行标记和类似css的样式机制。但与html和css并不完全相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T05:42:41.640

您可以使用资源文件在 winforms 中处理您的资源，但真正的答案是不，没有，但这是一个好主意，这是开发**WPF**的动机。

[去这里](http://www.wpftutorial.net/)学习

# shell - 如何格式化输出

> ID：11682064
> 
> 赞同：-1
> 
> 时间：2012-07-27T05:39:15.400
> 
> 标签：shell

```
 bid     bookname        author
 1       unix    sumitaba das
 2       java    balaguruswamy
 3       db      elmasari
 4       c       padma redddy
 5       ada     yeshwant kanetkar
 6       datastructure   padma redddy
 7       microprocessor  padma redddy 
```

我如何格式化上述输出以获得列之间的适当空间，使其如下所示：

```
bid     bookname        author
1       unix            sumitaba das
2       java            balaguruswamy
3       db              elmasari
4       c               padma redddy
5       ada             yeshwant kanetkar
6       datastructure   padma redddy
7       microprocessor  padma redddy 
```

我正在将 SQL 查询的结果捕获到一个文件中，并在我的程序中显示该文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:42:17.790

在名称中使用“_”临时

```
awk 'NF==4{$3=$3 "_" $4; $4=""} 1' foo.txt | column  -t  | tr '_' ' ' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T06:53:31.380

看起来您的输入的列由制表符分隔，并且您已经粘贴了将 tabstop 设置为 8 的内容。如果是这种情况，那么您可以利用制表符来改进 slotvinov 的答案：

```
your_sql_command | column -s '<TAB>' -t 
```

您必须在我编写的命令行中输入一个文字选项卡。要在 shell 命令行中执行此操作，请按 Ctrl-V，然后按 Tab。如果您将其放入 shell 脚本中，只需确保您的文本编辑器插入一个实际的制表符，而不是将其转换为一系列空格。或者根据您的外壳，这可能有效：

```
your_sql_command | column -s $'\t' -t 
```

# google-maps - 如何按组显示/隐藏谷歌地图标记，并从非 HTML 复选框触发事件？

> ID：11682069
> 
> 赞同：1
> 
> 时间：2012-07-27T05:39:55.620
> 
> 标签：google-maps, google-maps-api-3, google-maps-markers, dom-events

如何通过单击 HTML 元素（在本例中为复选框）来显示或隐藏不同组的标记（比如说酒吧/电影院/停车场）？

我的标记从循环生成到数组中，如下所示：

```
markers[i] = new google.maps.Marker({
numero : i, 
position: latLng,
map: map,
    info: data.Description,
group: data.category,
}); 
```

我想我应该使用：

*   使用 Js 函数对我的 HTML 元素进行 onclick。

*   这个 Js 函数应该包含这个 Gmaps 方法

> 设置可见

像这样：

```
 google.maps.event.addListener(marker, 'click', function() {
    marker.setVisible(false); // maps API hide call
    }); 
```

*   和一个事件触发器：

    ```
     google.maps.event.trigger(markers[i], 'click'); 
    ```

但是现在我怎么能把这些东西混合在一起呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T05:55:31.723

关。假设`markers`拥有给定组中所有标记的数组，您可以`onchange`为复选框创建一个处理程序，该处理程序将像这样隐藏组中的所有标记。在您的 HTML 中：

```
<input id="myCheckbox" type="checkbox" checked="checked" /> 
```

稍后，在你的剧本中，

```
// handler
function onClickHandler (e) {
    var i = 0, marker;
    var visible = e.target.checked; // show if checked, otherwise hide

    while (marker = markers[i++]) {
        marker.setVisible(visible); // maps API hide call
    }
}

// bind handler to checkbox. 
document.getElementById('myCheckbox').onchange = onClickHandler;​ 
```

作为参考，请查看[这个 fiddle](http://jsfiddle.net/Cfh3J/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-18T05:24:24.223

概念就是这么简单。只需为标记定义全局数组。推送所有标记和 onchange 事件显示/隐藏标记。签出以下代码 S@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@NI

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Test</title>
     <script src='http://code.jquery.com/jquery.min.js' type='text/javascript'></script>
</head>
<body>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3&sensor=false"></script>

<script type="text/javascript">

function initialize() 
{

  //SANI: Show hide ker marker

  //SANI: Add ker Map
  var myLatlng   = new google.maps.LatLng(31.553710, 74.358446);  //SANI: Lahore di  location
  var mapOptions = {
                        zoom: 12,
                        center: myLatlng,
                        mapTypeControl: true,
                        mapTypeControlOptions: {  //SANI: Map da style ki hovy
                                                    //style: google.maps.MapTypeControlStyle.DROPDOWN_MENU,
                                                    //mapTypeIds: [google.maps.MapTypeId.ROADMAP, 'map_style']
                                                    mapTypeIds: google.maps.MapTypeId.ROADMAP
                                                },
                        navigationControl: true,
                   }
  var currentmap = new google.maps.Map(document.getElementById('mapbySani'), mapOptions);
  /****************************************************************************************/
  var arrMarkers = [];
  var markers = [
                    [31.552174,74.360012,"Info for first marker"],
                    [31.550547,74.371599,"Info for second marker"],
                    [31.549943,74.380289,"Info for last marker"]
                ];

    for(var i=0; i < markers.length; i++)
    {

        var latLng          = new google.maps.LatLng(markers[i][0], markers[i][1]);  //SANI: sari location lai loop ich
        var contentString   =  markers[i][2];  //SANI: info text vi lya        
        var infowindow      = new google.maps.InfoWindow({content: contentString});   //SANI: info winsow bani 
       var marker           = new google.maps.Marker({
                                                        position: latLng,
                                                        map: currentmap
                                                    }); //SANI: marker lay sary
         google.maps.event.addListener(marker, 'click', function()
        {
            infowindow.open(currentmap,marker);
        });
        //SANI: marker dy click ty info window show krai
        //console.log(marker); 
        arrMarkers.push(marker);
    }

      //SANI: show hide ker on click listener ty
      $("#allmarkers").change(function()
      {
          if(this.checked) 
          {
            //marker.setVisible(true);
              if (arrMarkers) 
              {
                for( var i = 0, n = arrMarkers.length; i < n; ++i ) 
                {
                  arrMarkers[i].setVisible(true);
                }
              }
          }else{
                     if (arrMarkers) 
                      {
                        for( var i = 0, n = arrMarkers.length; i < n; ++i ) 
                        {
                          arrMarkers[i].setVisible(false);
                        }
                      }
               }
      });

  /******************************************************************************************/
  //SANI: add ker marker
  //addMarker(myLatlng, currentmap);
  /******************************************************************************************/
  //SANI: add ker polygon
  /* var zone1;
  var triangleCoords = [
                            new google.maps.LatLng(25.05730, 55.27144),
                            new google.maps.LatLng(25.05854, 55.28526),
                            new google.maps.LatLng(25.05676, 55.28741),
                            new google.maps.LatLng(25.05357, 55.28741),
                            new google.maps.LatLng(25.04486, 55.27213),
                            new google.maps.LatLng(25.04455, 55.25642),
                            new google.maps.LatLng(25.04284, 55.25342),
                            new google.maps.LatLng(25.05147, 55.24947),
                            new google.maps.LatLng(25.05528, 55.25419),
                            new google.maps.LatLng(25.05738, 55.27153)
                      ];

  addPolygon(zone1, triangleCoords, currentmap);*/

}

google.maps.event.addDomListener(window, 'load', initialize); //SANI: Window dy load ty map show ker dy

/* //SANI: S@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  //SANI: Skeleton  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@NI */
function addMarker(keriJagaTy, KeryMapTy)
{
   var marker = new google.maps.Marker({
      position: keriJagaTy,
      map: KeryMapTy,
      title: 'Marker added by Sani',
      //SANI: jay apni merzi da icon show kerna wa ty
      icon:'images/client.png'
  });
}

function addPolygon(keraZone, KerijagaTy, KeryMapTy)
{
     keraZone = new google.maps.Polygon({
                                    paths: KerijagaTy,
                                    strokeColor: "#3299CC",
                                    strokeOpacity: 0.8,
                                    strokeWeight: 2,
                                    fillColor: "#3299CC",
                                    fillOpacity: 0.05
                                  });

  keraZone.setMap(KeryMapTy);
}
/* //SANI: S@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  //SANI: END Skeleton  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@NI */

</script>
<div>
    <table>
        <tr>
            <td><input type="checkbox" value="marker" id="allmarkers" /><label>Marker</label></td>
        </tr>
    </table>
</div>
<div id="mapbySani" style="width: 100%; height: 600px;"></div>
</body>
</html> 
```

S@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@NI

谢谢

# c# - 在 Monoandriod 中的 ListView 内单击按钮

> ID：11682075
> 
> 赞同：1
> 
> 时间：2012-07-27T05:40:57.137
> 
> 标签：c#, visual-studio-2010, xamarin.android

我使用一个单声道安卓列表视图，我的列表视图包含 2 个文本视图和一个图像

我的以下代码有效

```
 listView.ItemClick += (sender, e) =>
    {
        //Get our item from the list adapter
        var item = this.listAdapter.GetItemAtPosition(e.Position);

        //Make a toast with the item name just to show it was clicked
        Toast.MakeText(this, item.Name + " Clicked!", ToastLength.Short).Show();
    }; 
```

但是当我在 Listview 中放置一个按钮时，此事件不起作用，我无法处理按钮单击。所以我如何在 Mono andriod 中的 Listview 中处理按钮单击

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-23T14:45:11.710

如果您希望在列表视图内的按钮上专门使用单击处理程序，则需要以下内容：

```
public class CustomListAdapter: BaseAdapter {
    public CustomListAdapter(Context context, EventHandler buttonClickHandler) {
        _context = context;
        _buttonClickHandler = buttonClickHandler;
    }

    public View GetView(int position, View convertView, View parent) {
        var itemView = convertView;

        if(itemView == null) {
            var layoutInflater = (LayoutInflater)_context.GetSystemService(Context.LayoutInflaterService);
            itemView = layoutInflater(Resource.Layout.ItemView);
        }

        var button = itemView.FindViewById<Button>(Resource.Id.MyButton);
        button.Click += _buttonClickHandler;
    }

    // ... Rest of the code omitted for simplicity.
} 
```

此代码没有考虑到按钮可能附加了另一个处理程序这一事实。在耦合新的之前，请确保将旧的解耦。或者添加某种您之前添加过点击处理程序的检测，并且不要添加另一个。

# ios5 - iOS5：如何在没有 UINavigationController 的情况下处理视图之间的导航

> ID：11682084
> 
> 赞同：1
> 
> 时间：2012-07-27T05:42:03.217
> 
> 标签：ios5, uiviewcontroller, uinavigationcontroller

我正在尝试在我的 iPad 应用程序中创建一个自定义侧边栏导航窗格，例如用于 iPad 的 Instapaper。[在Scott Sherwood](http://www.scott-sherwood.com/?p=777)的一些优秀教程的帮助下，我能够创建自定义侧边栏并在视图控制器之间切换。

我使用一个根视图控制器实现了这一点，其中我有两个视图 - 一个是选项卡视图，另一个代表与所选选项卡关联的内容，就像这样......

![在此处输入图像描述](../Images/27ee4d7c461c55df91a860364d62a01b.png)

每当我选择选项卡时，我只需向 中添加一个子视图`Root View Controller`，就像这样......

```
@implementation RootViewController

//
// some code here
//

#define TABBAR_WIDTH 80.0F
- (void)buttonTapped:(UIButton *)aButton
{
    UIViewController *newVC = [self.storyboard instantiateViewControllerWithIdentifier:@"SomeView"];
    [newVC.view setFrame:CGRectMake(TABBAR_WIDTH, 0, self.view.bounds.size.width - TABBAR_WIDTH, self.view.bounds.size.height)];
    [self addSubView:newVC.view];
} 
```

现在我要做的是将新视图推送到`Contents`不基于选项卡选择而是基于内容视图中的某些交互的新视图中。我想出的方法是在超级视图中添加另一个子视图。但是，在这种情况下，我将不得不自己实现视图之间的推送、弹出、后退按钮和动画。

我想知道我是否可以使用 UINavigationController 来实现这个场景（以便自动神奇地处理推送、弹出、后退按钮）。

有人可以对这个话题有所了解吗？甚至可以简要概述一下如何在[Instapaper iPad 应用程序](http://www.instapaper.com/iphone)中实现这一点会有所帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T10:03:55.697

在这里，您需要在容器视图中导航。

所以你可以用这个东西：

1.  让一个 navigationController（alloc-init-set frame-navigation bar hidden 等）将 content1 视图控制器作为根控制器。
2.  在 Content1 视图控制器中，在按钮点击事件上，只需将导航控制器推送到 Content2 视图控制器，并对弹出事件执行相同操作

Alloc - 在根控制器中初始化导航控制器，在 xib 中有自定义选项卡和容器视图...

注意：在添加任何其他视图之前清除您的容器视图。

我已经完成了这个场景，所以它对我来说工作正常。

希望这是您需要的...

享受编码:)

# linux - 如何从当前目录中的所有文件夹中删除 Linux 中具有特定文件名的文件？

> ID：11682085
> 
> 赞同：0
> 
> 时间：2012-07-27T05:42:08.460
> 
> 标签：linux, bash

我的项目有很多目录，也有大量的子项目。当我从一台 PC 移动到另一台 PC 时，所有 Makefile 都会在构建项目时产生问题。如果我删除了 Makefile，那么构建就没有错误。如何从 Linux 的父目录中删除所有 Makefile* 文件？是否有任何命令可以执行此操作？有数百个 Makefile。因此，很难将它们一一移除。请提出一种方法来做到这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T05:49:13.923

您可以使用 -delete 选项。

```
find . -name "filename" -type f -delete 
```

[http://en.wikipedia.org/wiki/Find#Delete_files_and_directories](http://en.wikipedia.org/wiki/Find#Delete_files_and_directories)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T05:44:35.937

```
find . -name "name-here" -exec rm -rf {} \; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T05:57:46.640

```
find . name "filename" -type f|xargs rm -rf 
```

# node.js - node.js 不符合数据缓存模式

> ID：11682087
> 
> 赞同：0
> 
> 时间：2012-07-27T05:42:15.797
> 
> 标签：node.js, design-patterns

我正在为以下情况寻找一种简洁的方式来构建我的 node.js 代码。我想过使用 EventEmitters 来创建“工作流”类型的东西。此外，我还想过使用其中一个异步库，尽管没有考虑到这一点。

问题：寻找一条数据

1.  检查缓存，如果找到返回
2.  检查数据库，如果找到返回（存储在缓存中）
3.  获取实时数据并返回，（存储在数据库中，缓存）

我使用下面的事件发射器快速模拟了一些东西。

```
var util = require("util");
var events = require('events');

var CheckForData = function() {
    events.EventEmitter.call(this);

    this.checkForData = function(key) {
        this.emit("checkForDataRequest", key);
    }

    var _checkCache = function(key) {
        if (key === 'cache') {
            this.emit("found", {data:'cached data'});
        }
        else {
            console.log("not found in cache "+key);
            this.emit("checkDatastore", key);
        }
    }

    var _chechDatastore = function(key) {
        if (key === 'db') {
            this.emit("found", {data:'db data'});
            this.emit("storeCache", key, {data:'db data'});
        }
        else {
            console.log("not found in db "+key);
            this.emit("getData", key);
        }
    }

    var _getData = function(key) {
        if (key === 'live') {
            this.emit("found", {data:'live data'});
            this.emit("storeData", key, {data:'live data'});
        }
        else {
            console.log("not found in live "+key);
            this.emit("notFound", key);
        }
    }

    var _storeData = function(key, data) {
        this.emit("storeDb", key, data);
        this.emit("storeCache", key, data);
    }

    var _storeDb = function(key, data) {
        console.log("storing data in db. for "+key);
        console.log(data);
    }

    var _storeCache = function(key, data) {
        console.log("storing data in cache. for "+key);
        console.log(data);
    }

    var _found = function(data) {
        return data;
    }

    var _notFound = function(key) {
        return key;
    }

    this.on("checkForDataRequest", _checkCache);
    this.on("checkDatastore", _chechDatastore);
    this.on("getData", _getData);
    this.on("found", _found);
    this.on("notFound", _notFound);
    this.on("storeData", _storeData);
    this.on("storeDb", _storeDb);
    this.on("storeCache", _storeCache);
};

util.inherits(CheckForData, events.EventEmitter);
module.exports = new CheckForData(); 
```

为了测试它...

```
var checkForData = require('./check-for-data');

checkForData.on("found", function(data) {
    console.log("Found data ");
    console.log(data);
});

checkForData.on("notFound", function(key) {
    console.log("NOOO Found data for " + key);
});

console.log("-------");
checkForData.checkForData('cache');
console.log("-------");
checkForData.checkForData('db');
console.log("-------");
checkForData.checkForData('live');
console.log("-------");
checkForData.checkForData('other');
console.log("-------"); 
```

* * *

然后 async.js，我做了一个快速的 checkSeries，它基本上是 async.detectSeries，但不是返回集合中的项目而是返回结果。见下文...

```
var async = require('async');

function check_cache(key) {
    console.log('checking cache');
    return null;
}

function check_datastore(key) {
    console.log('checking datastore');
    return null;//{data: "db data"};
}

function check_api(options) {
    console.log('calling api');
    return {data: "live data"};
}

function exists(item, callback) {
    callback(item());
}

async.checkSeries([check_cache, check_datastore, check_api], exists, function(result) {
    // result now equals the first function that return data
    console.log(result);
}); 
```

任何建议，提示，提示，...？是否有我缺少的模式或库？你认为在 Step, flow, ... 中做起来可能/更容易吗？记忆？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T07:17:05.003

这对调用者来说似乎需要做很多工作，而且还有很多额外的代码似乎并没有增加多少价值。我的模型中有这样的东西。

```
Foo.get = function (id, cb) {

  var self = this;
  // check the cache first
  cache.get('foo:' + id, function (err, cacheFoo) {

    // if found, just return it
    if (!err && cacheFoo) {
      return cb(null, cacheFoo);
    }

    // otherwise get from db
    self.findOne({id: id}, function (err, dbFoo) {

      if (err || !dbFoo) {
        return cb(new Error('Foo not found', 404));
        // you could do get live call here
      }

      // and store in cache
      cache.store('foo:' + id, dbFoo);
      return cb(null, dbFoo);
    });
  });
}; 
```

然后，调用者可以随时调用`Foo.get(id, callback)`，而不必关心它是如何实际检索的。如果它变得更复杂，您可以使用一个`async`库（例如 aptly named `async`）来使代码更具可读性，但这仍然应该对调用者完全隐藏。

# cocos2d-iphone - cocos2d如何更上一层楼？

> ID：11682094
> 
> 赞同：0
> 
> 时间：2012-07-27T05:42:52.773
> 
> 标签：cocos2d-iphone

我有一个简单的游戏，突破克隆。有游戏层，菜单层。我可以在播放过程中调用菜单很好，可以使用下一级按钮（它使新的游戏层具有下一级并过渡到其场景）。但我想要的是在关卡结束时，当我杀死所有块时，我希望弹出该菜单，以便玩家可以点击下一个关卡。但问题是我在游戏层中存储了块数，所以当它们达到零时，我将某些属性变为真。但是当我在关卡结束时尝试从菜单中读取该属性时，我不能，因为我的游戏层在我转换到菜单后已经被释放。

特长; 如何使用按钮更改级别？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-01T22:20:50.903

我认为您的问题是关于游戏架构的。关于如何选择构建游戏有很多权衡。这是我在创建 Cocos2d 游戏时深思熟虑的事情。

Shailesh_ios 的评论将起作用。但是如果你想创建一个更复杂的游戏，你应该考虑以一种巧妙地组织游戏中不同模块和组件的方式来设计游戏，以便它们易于使用和支持。随着您的游戏变得越来越复杂，如果您向 AppDelgate 添加大量功能，它可能会变得非常混乱。为了在更新代码时保持井井有条并保持理智，我建议在您的游戏中创建一个集中的游戏管理器服务。

**创建集中式 GameManager 服务** ——对于您的游戏需要的所有集中式服务，对我来说很有效的一件事是创建一个 CCNode 或 NSObject 子类的游戏管理器类。这个类被做成一个单例。然后，我为 GameCenter、OpenFeint、应用内购买、玩家偏好、本地分数和成就、物理世界管理器、游戏音频、游戏状态等创建单独的类。

**将类实例作为模块添加到 GameManager** ——这些类都归 GameManager 单例类所有，可以为需要它们的游戏组件提供服务。由于这些类通常使用很少的内存，因此无需在每次场景更改时不断地创建和销毁它们，这只会浪费 CPU 周期和电池寿命。

**注意事项** ——不过要小心，因为很容易滥用全局单例 GameManager 类，向它添加不属于它的东西。任何可能从各种游戏组件请求的集中式服务都可以考虑添加到 GameManager。通过添加到 GameManager 中，我的意思是在自己的类中编写每个模块，然后让它由 GameManager 创建和拥有。

**示例**——例如，您的自定义本地分数和成就类可以设置为存储玩家分数，将它们保存到文件或 NSUserDefaults 中，并使该信息可用于任何需要它的游戏组件。

自定义 GameCenter 或 OpenFeint 类将负责对玩家进行身份验证，然后作为服务提供提交分数/成就、下载分数/成就、显示内置 GameCenter/OpenFeint UI 以用于排行榜和成就等。

通过这种方式，您可以专注于设计您的游戏，并在游戏中的任何位置获得游戏所需的基本服务。

# c# - 结束日期应该比开始日期大五天

> ID：11682097
> 
> 赞同：2
> 
> 时间：2012-07-27T05:43:40.680
> 
> 标签：c#

这些是我正在使用的变量：

```
var start = new DateTime();
var End = new DateTime(); 
```

通过验证 if 条件来帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T05:47:08.220

如果我理解正确，您将不得不尝试类似

```
if (start.AddDays(5) == End) 
```

[DateTime.AddDays 方法](http://msdn.microsoft.com/en-us/library/system.datetime.adddays.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T05:47:15.067

您可以计算两个日期之间的 TimeSpan 并使用 TimeSpan 的属性来确定它们之间的距离，例如

```
TimeSpan diff = new TimeSpan(End.Ticks - start.Ticks);
double daysApart = diff.TotalDays;

if (daysApart >= 5.0) // Do stuff (assumes you want at least 5 days) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T05:51:56.640

您应该熟悉[DateTime 结构](http://msdn.microsoft.com/en-us/library/03ybds8y)。为此，特别是[AddDays 方法](http://msdn.microsoft.com/en-us/library/system.datetime.adddays)或取决于您最终如何处理[Subtract 方法](http://msdn.microsoft.com/en-us/library/system.datetime.subtract)。

```
// Setting end date to start date plus 5 days
var start = new DateTime(); 
var end = start.AddDays(5)

// Testing if end date is the same as start date plus 5 days
if (start.AddDays(5) == end)
{
    // It true!
}

/// or like so...
if (end.subtract(start).Days >= 5)
{
    // It true!
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T05:48:09.607

尝试这个：

```
TimeSpan elapsed;
elapsed = end.Subtract(start);
if (elapsed.Days > 5)
//Do stuff 
```

[http://www.dotnetperls.com/datetime](http://www.dotnetperls.com/datetime)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-27T05:48:20.107

```
if(end.Subtract(start).Days > 5) 
```

# sql - 图表工具在 SQL Server 2008 R2 中停止工作

> ID：11682098
> 
> 赞同：3
> 
> 时间：2012-07-27T05:43:42.207
> 
> 标签：sql, sql-server

我的机器上安装了 SQL Server 2008，并使用 SSMS 管理远程 2008 和 2000 数据库。我最近尝试在本地 SQL 实例上创建图表并收到此错误“未指定错误（MS Visual Database Tools）。我安装了 VS 2010 和 APEXSQL 工具。我最终放弃并重新加载了 Windows 7 和所有开发工具和它工作了一天，他们又开始给我这个错误。

![在此处输入图像描述](../Images/145f09c0d29ade13d817cc7c5bebd0cb.png)

在我单击详细信息的地方，这就是我得到的：

> ====================================
> 
> 未指定的错误（MS 可视化数据库工具）
> 
> ------------------------------ 节目地点：
> 
> 在 System.Runtime.InteropServices.Marshal.ThrowExceptionForHRInternal(Int32 errorCode, IntPtr errorInfo) 在 Microsoft.SqlServer.Management.UI.VSIntegration.NativeMethods.ThrowOnFailure(Int32 hr) 在 Microsoft.SqlServer.Management.UI.VSIntegration.Editors.VirtualProject。 Microsoft.SqlServer.Management.UI.VSIntegration.Editors.VirtualProject.Microsoft.SqlServer.Management.UI.VSIntegration.Editors.ISqlVirtualProject.CreateDesigner 上的 CreateDesigner（Urn origUrn，DocumentType editorType，DocumentOptions aeOptions，IManagedConnection con，字符串文件名） , DocumentType editorType, DocumentOptions aeOptions, IManagedConnection con, String fileName) at Microsoft.SqlServer.Management.UI.VSIntegration.Editors.ISqlVirtualProject.CreateDesigner(Urn origUrn, DocumentType editorType, DocumentOptions aeOptions,IManagedConnection con, String fileName) at Microsoft.SqlServer.Management.UI.VSIntegration.Editors.ScriptFactory.CreateDesigner(DocumentType editorType, DocumentOptions aeOptions, Urn parentUrn, IManagedConnection mc, String fileName) at Microsoft.SqlServer.Management.UI.VSIntegration.Editors .VsDocumentMenuItem.CreateDesignerWindow（IManagedConnection mc，DocumentOptions 选项）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-13T16:36:41.173

做了一些更多的研究。[这篇文章](http://social.msdn.microsoft.com/Forums/en-US/sqlgetstarted/thread/d169c1bf-d7c6-4d30-8f6c-d04d3e8645b1/)中的那个人说他遇到了同样的问题，而 ApexSQL 工具是罪魁祸首。尝试卸载 ApexSQL 工具，如果这样可以解决问题，我会联系 ApexSQL 以查看他们是否有解决问题的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-15T13:12:57.613

您是否检查了您正在访问的数据库的兼容性级别？问候哈科

# struts2 - Struts File Upload 识别正确的扩展名而不是 .tmp

> ID：11682100
> 
> 赞同：0
> 
> 时间：2012-07-27T05:43:46.803
> 
> 标签：struts2, struts-1, struts-config, struts-validation

我是 Struts 的新手，正在使用 Struts 进行文件上传。

客户端：它是一个 Java 程序，它使用 apache HttpClient API 访问我的 Strut 应用程序并为我提供文件。客户根据需要有时给我 .wav 文件和有时 .zip 文件，有时两者兼而有之。

服务器：Struts 应用程序从客户端应用程序获取请求并上传文件。

在这里，当我上传文件时出现问题，它使用“.tmp”扩展名上传，我想用客户端传递的相同扩展名上传。

或者还有其他方法可以检查文件客户端发送的扩展名是什么......？

我陷入了这个问题，无法继续。

请找到附加的代码并告诉我我必须做哪些修改：

服务器代码：

```
 MultiPartRequestWrapper multiWrapper=null;
    File baseFile=null;

    System.out.println("inside do post");

    multiWrapper = ((MultiPartRequestWrapper)request);

    Enumeration e = multiWrapper.getFileParameterNames();

    while (e.hasMoreElements()) {
        // get the value of this input tag
        String inputValue = (String) e.nextElement();

        // Get a File object for the uploaded File
        File[] file = multiWrapper.getFiles(inputValue);

        // If it's null the upload failed
        if (file != null) {

            FileInputStream fis=new FileInputStream(file[0]);

            System.out.println(file[0].getAbsolutePath());
            System.out.println(fis);

            int ch;
            while((ch=fis.read())!=-1){
                System.out.print((char)ch);
            }
        }

    }

    System.out.println("III :"+multiWrapper.getParameter("method")); 
```

客户端代码：

```
 HttpClient client = new HttpClient();
                  MultipartPostMethod mPost = new MultipartPostMethod(url);
                        File zipFile = new File("D:\\a.zip");
                        File wavFile = new File("D:\\b.wav");
                        mPost.addParameter("recipientFile", zipFile);
                        mPost.addParameter("promptFile", wavFile);
                        mPost.addParameter("method", "addCampaign");
  statusCode1 = client.executeMethod(mPost); 
```

实际上客户端被写得很长并且不能被修改，我想在服务器端识别一些东西只是为了找到扩展。

请帮忙，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:28:47.437

Struts2 File Uploader 拦截器在上传文件时将内容类型信息传递给 Action 类，通过比较 contentType 和 MIME 类型可以很容易地找到文件类型。

如果您想创建一个以键为内容类型和文件类型为其值的地图，例如

```
map.Add("image/bmp",".bmp", )
map.Add("image/gif",".gif", )
map.Add("image/jpeg",".jpeg", ) 
```

并且可以根据扩展提供的轻松获取类型。希望这会对您有所帮助。

# java - 为什么只显示鼠标的坐标？

> ID：11682101
> 
> 赞同：0
> 
> 时间：2012-07-27T05:44:02.600
> 
> 标签：java, swing, mouseevent, mouseclick-event, mouse-coordinates

当Thread线程运行时，（点击记录后）它只显示线程启动时鼠标所在的位置？我怎样才能让它不断更新，即使我在框架周围移动鼠标也能显示鼠标的位置？

```
@Override public void actionPerformed(ActionEvent e)
{       
    thread = new Thread(this);

    if(e.getSource() == record)
    {
        thread.start();
        System.out.println("record");
    }

    if(e.getSource() == stopRecording)
    {
        setVisible(false);
        System.out.println("stop recording");
    }

}

@Override public void run()
{       
    setTitle("979");

    setSize(screen.width, screen.height);
    addMouseListener(this);
    setLocationRelativeTo(null);
    setLayout(transFlo);
    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);     
    add(stopRecording);     
    setOpacity(0.50f);      
    setVisible(true);

    while(true)
    {
        repaint();
    }

}

@Override public void paint(Graphics g)
{
    g.drawString(mousePOS + x + space + y, 250, 250);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:01:48.557

好的，只是重申一下；请阅读[事件调度线程](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html)，

然后阅读[Swing 中的并发](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)

最后阅读[如何编写鼠标监听器](http://docs.oracle.com/javase/tutorial/uiswing/events/mouselistener.html)

**附加的**

如果要监视全局鼠标事件（通过系统的所有鼠标事件），那么您将需要查看[Toolkit.addAWTEventListener](http://docs.oracle.com/javase/7/docs/api/java/awt/Toolkit.html#addAWTEventListener%28java.awt.event.AWTEventListener,%20long%29)

这将允许您监视所有鼠标事件，而无需将鼠标侦听器附加到所有组件

**简单的鼠标示例**

这是监视鼠标的面板的简单示例：P

```
public class CrayPanel extends javax.swing.JPanel implements MouseMotionListener, MouseListener {

    private List<Point> lstPoints;

    /**
     * Creates new form CrayPanel
     */
    public CrayPanel() {

        lstPoints = new ArrayList<Point>(25);

        addMouseListener(this);
        addMouseMotionListener(this);

    }

    @Override
    protected void paintComponent(Graphics g) {

        super.paintComponent(g);

        if (lstPoints.size() > 1) {

            Graphics2D g2d = (Graphics2D) g;

            g2d.setColor(Color.RED);
            Point startPoint = lstPoints.get(0);
            for (int index = 1; index < lstPoints.size(); index++) {

                Point toPoint = lstPoints.get(index);
                g2d.drawLine(startPoint.x, startPoint.y, toPoint.x, toPoint.y);

                startPoint = toPoint;

            }

        }

    }

    @Override
    public void mouseDragged(MouseEvent e) {
    }

    @Override
    public void mouseMoved(MouseEvent e) {

        lstPoints.add(e.getPoint());
        repaint();

    }

    @Override
    public void mouseClicked(MouseEvent e) {

        lstPoints.clear();
        lstPoints.add(e.getPoint());
        repaint();

    }

    @Override
    public void mousePressed(MouseEvent e) {
    }

    @Override
    public void mouseReleased(MouseEvent e) {
    }

    @Override
    public void mouseEntered(MouseEvent e) {

        lstPoints.add(e.getPoint());
        repaint();

    }

    @Override
    public void mouseExited(MouseEvent e) {

        lstPoints.add(e.getPoint());
        repaint();

    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T09:14:13.873

我举了另一个例子。这本质上是一个鼠标监视器，它表明，如果操作正确，您不需要`Thread`

```
public class MouseFrame extends javax.swing.JFrame implements AWTEventListener, ActionListener {

    private boolean monitor = false;
    private Point mousePoint;

    /**
     * Creates new form MouseFrame
     */
    public MouseFrame() {

        setLayout(new GridBagLayout());

        JButton btnToggle = new JButton("Start");
        add(btnToggler);

        btnToggle.addActionListener(this);

        setSize(400, 400);

    }

    public void actionPerformed(java.awt.event.ActionEvent evt) {

        monitor = !monitor;

        if (monitor) {

            btnTrigger.setText("Stop");
            Toolkit.getDefaultToolkit().addAWTEventListener(this, AWTEvent.MOUSE_MOTION_EVENT_MASK);

        } else {

            btnTrigger.setText("Start");
        Toolkit.getDefaultToolkit().removeAWTEventListener(this);

    }

    }

    @Override
    public void paint(Graphics grphcs) {

        super.paint(grphcs);

        Graphics2D g2d = (Graphics2D) grphcs;

        if (monitor) {

            g2d.setColor(Color.RED);
            FontMetrics fm = g2d.getFontMetrics();
        g2d.drawString(mousePoint.x + "x" + mousePoint.y, 25, fm.getHeight() + 25);

    }

    }

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /*
         * Create and display the form
         */
        java.awt.EventQueue.invokeLater(new Runnable() {

            public void run() {
                new MouseFrame().setVisible(true);
            }
        });
    }

    @Override
    public void eventDispatched(AWTEvent evt) {

        if (evt instanceof MouseEvent) {

            MouseEvent me = (MouseEvent) evt;
            mousePoint = SwingUtilities.convertPoint(me.getComponent(), me.getPoint(), this);

            repaint();

        }
    }
} 
```

# iphone - 如何从任何城市或地名设置地图位置

> ID：11682102
> 
> 赞同：0
> 
> 时间：2012-07-27T05:44:22.457
> 
> 标签：iphone, ios, google-maps

这是我获取当前位置的方式

```
 NSString* lat = [[NSString alloc]initWithFormat:@"%f",locationManager.location.coordinate.latitude];
NSString* lon = [[NSString alloc]initWithFormat:@"%f",locationManager.location.coordinate.longitude];

    NSString *URL = [NSString stringWithFormat:@"http://maps.google.com/maps/geo?q=%@,%@&output=csv&sensor=false",lat,lon];
    NSURLRequest *rq = [NSURLRequest requestWithURL:[NSURL URLWithString:URL]];
    con = [[NSURLConnection alloc] initWithRequest:rq delegate:self];
    webData = [[NSMutableData data] retain]; 
```

在连接委托方法中，我得到了当前的位置名称。**200,9，“IITI 计算机教育，瓦达拉，孟买，马哈拉施特拉邦 400067，印度”** 在模拟器中。

现在我的问题是我们如何使用我之前获得的字符串地名在地图中的同一位置设置注释。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:35:40.020

首先制作一个目标 c 类，使您的 .h 文件如下所示

```
 #import <Foundation/Foundation.h>
 #import <Mapkit/MKAnnotation.h>
 @interface annotation : NSObject <MKAnnotation>

 {
  CLLocationCoordinate2D coordinate;
  NSString *title;
  NSString *subtitle;

 }

   @property(nonatomic, assign) CLLocationCoordinate2D coordinate;
   @property(nonatomic, copy) NSString *title;
   @property(nonatomic, copy) NSString *subtitle;

  @end 
```

现在在 .m 文件中

```
#import "annotation.h"

@implementation annotation

@synthesize  coordinate,title,subtitle;

@end 
```

现在在您要添加注释的 controller.m 文件中导入上述文件

```
#import "annotation.h" 
```

现在您可以使用以下功能将注释添加到任何坐标

```
-(void)addAnnotations{

annotation *userPositionAnnote = [[annotation alloc]init];
userPositionAnnote.title = @"My Current Position";
userPositionAnnote.coordinate = SetYourCordinates; // set your cordinates here where you want to add annotaion

[YourMap addAnnotation:userPositionAnnote];

MKCoordinateRegion region = {{0.0,0.0}, {0.0,0.0}};
region.center = userPositionAnnote.coordinate;
region.span.longitudeDelta = 0.001;
region.span.latitudeDelta = 0.001;

[YourMap setRegion:region animated:YES];
} 
```

希望对你有帮助

# delphi - delphi中的TOleServer ...等效的.NET类？

> ID：11682108
> 
> 赞同：1
> 
> 时间：2012-07-27T05:44:42.573
> 
> 标签：delphi, delphi-7, delphi-2010

我有一些需要迁移/移植/重写到.NET的delphi代码

该代码使用 TOleServer。您能否让我知道这个特定类的任何 .NET 等效实现。

它可以通过非托管代码获得吗？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T06:07:45.453

COM 服务器通过[COM Interop](http://msdn.microsoft.com/en-us/library/6bw51z5z%28v=vs.71%29.aspx)在 .NET 中可用。

您没有提到您的 Delphi 代码如何使用`TOleServer`. 如果它实现了自己的 COM 服务器，那么您有以下选择：

*   保持原样并简单地从您的 .NET 代码中引用它，或者
*   将其作为类移植到 .NET，如果需要，将其公开给 COM

如果您的 Delphi 代码用于`TOleServer`引用外部 COM 服务器，您可以简单地从 .NET 执行相同操作。

# ios - 带有垂直菜单的 iOS 水平 SlideView

> ID：11682110
> 
> 赞同：15
> 
> 时间：2012-07-27T05:44:56.643
> 
> 标签：ios, xcode, menu

现在很多 iOS iPhone 应用程序都有垂直菜单和滑动视图。

它看起来像这样：

![在此处输入图像描述](../Images/fbbd68b0a4e7eaed80db6095251a352d.png)

我在 Inernet 中找不到任何示例。需要你的帮助，谢谢

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-07-27T06:28:37.337

我找到了！

[https://github.com/edgecase/ECSlidingViewController](https://github.com/edgecase/ECSlidingViewController) // ------------截至 2014 年 9 月有效

[https://github.com/mikefrederick/MFSideMenu](https://github.com/mikefrederick/MFSideMenu) //------------ 2014 年 9 月活跃

[https://github.com/jeremieweldin/JWSlideMenu](https://github.com/jeremieweldin/JWSlideMenu) // 已弃用

[https://github.com/devindoty/DDMenuController](https://github.com/devindoty/DDMenuController) // 3 年

[https://github.com/pkluz/ZUUIRevealController](https://github.com/pkluz/ZUUIRevealController) //链接断开

[https://github.com/Inferis/ViewDeck](https://github.com/Inferis/ViewDeck) // 2岁

[https://github.com/meiwin/MWFSlideNavigationViewController](https://github.com/meiwin/MWFSlideNavigationViewController) //3岁

[https://github.com/mystcolor/JTRevealSidebarDemo](https://github.com/mystcolor/JTRevealSidebarDemo) //已停产

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-07-27T06:25:47.363

对于 iPhone，你可以使用这个：[ZUUIRevealController](https://github.com/alecgorge/ZUUIRevealController)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-03-19T14:07:04.397

它在这里的解释非常正确，那些有兴趣在不使用自定义菜单的情况下这样做的人可以在这里查看：

[http://www.raywenderlich.com/32054/how-to-create-a-slide-out-navigation-like-facebook-and-path](http://www.raywenderlich.com/32054/how-to-create-a-slide-out-navigation-like-facebook-and-path)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-13T22:57:06.600

我在 youtube 上制作了一个视频（3 部分），介绍如何制作您正在寻找的滑动菜单。我将向您展示如何设置项目并将所有内容联系起来。

[http://www.youtube.com/watch?v=tJJMyzdB9uI](http://www.youtube.com/watch?v=tJJMyzdB9uI)

这使用了 ECSlidingViewController，设置与您预期的略有不同，但它工作得非常好并且非常流畅。

我也用navigationcontroller对其进行了测试，希望对您有所帮助！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-27T06:15:53.407

这看起来像一个标准的 UITableView，当您单击一行时，它将另一个视图控制器的视图推送到屏幕上（但您通常会有一个显示指示器，一个“>”，而不是行中的复选标记）。

Apple 在名为 TheElements 的文档中有一个示例。看看那个，看看那是不是你想要的。当您单击表格中的元素名称时，它会在表格中滑动另一个视图，其中包含有关该元素的更多信息。

# c# - WCF 服务将创建其他应用程序来处理其客户端的请求

> ID：11682111
> 
> 赞同：0
> 
> 时间：2012-07-27T05:44:59.057
> 
> 标签：c#, c

我已经开发了 WCF 服务。现在的要求是，假设 client1 通过 URL 调用 wcf。那么 WCF 服务将创建一个服务器端 EXE1，它将与 client1 通信（之后这个 client1 只能与 EXE1 通信，不能与 WCF 服务通信）。如果客户端 2 调用 WCF 服务，则服务将创建 EXE2，该 EXE2 将与客户端 2 通信，以此类推，客户端 3 客户端 4

我怎样才能做到这一点。

请回复

# php - OOP 参数值等于 null

> ID：11682116
> 
> 赞同：1
> 
> 时间：2012-07-27T05:45:36.053
> 
> 标签：php, oop, methods, constructor, null

我只是学习OOP的新手。到目前为止，我已经阅读了很多文章并尝试了一些教程。我只是想知道为什么在构造函数上声明参数时某些值应该为空。

```
 function __construct($hostname = NULL, $username = NULL, $password = NULL, $database = NULL)
    {
        $this->hostname = !empty($hostname) ? $hostname : "";
        $this->username = !empty($username) ? $username : "";
        $this->password = !empty($password) ? $password : "";
        $this->database = !empty($database) ? $database : "";
    } 
```

像这样。我真的很想知道。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T05:50:52.613

> 我只是想知道为什么在构造函数上声明参数时某些值应该为空。

这些**不需要**被清空。

它们作为[参数的默认值](http://www.php.net/manual/en/functions.arguments.php#functions.arguments.default)被清空。例如对于您在示例中给出的函数，可以通过以下五种方式之一调用：

1.  没有争论
2.  使用 $hostname
3.  使用 $hostname, $username
4.  使用 $hostname、$username、$password
5.  使用 $hostname、$username、$password、$database

需要注意的是，不能使用 $hostname、$password 调用函数并让函数假定默认值 $username。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T05:48:49.870

即使在函数调用期间未传递所有参数，将参数保持为 NULL 也会使函数运行。

例如，如果一个函数需要 3 个参数，而您只提供了 2 个，并且在函数定义中第三个参数未分配为 NULL，则该函数将引发错误。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T05:51:16.380

这是一个具有默认值的构造函数，如果参数未传递给 _construct 方法，它将为变量分配 NULL 值。所以这意味着它不需要向这个构造函数传递参数。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-27T05:51:45.517

这种语法是为了方便你在不传递任何参数的情况下启动类

```
function __construct($hostname = NULL, $username = NULL, $password = NULL, $database = NULL) 
```

这个签名告诉你可以选择传递参数假设你`Class A{}`有这个构造函数你可以选择通过以下方式启动它

```
$t = new A();
$t1 = new A('locathost','user1','pw1', $db_connection);
$t2 = new A('localhost'); 
```

这些所有初始化都是有效的。

# c# - 哪个文件最终用于二进制文件？

> ID：11682120
> 
> 赞同：0
> 
> 时间：2012-07-27T05:46:17.793
> 
> 标签：c#, serialization

我发现我可以保存一个二进制文件，只用它的名字而不用任何扩展名。我应该使用哪个扩展？.dat？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T05:53:17.970

您可以使用任何不会混淆任何人的扩展名（例如“jpg”、“htm”或“docx”是个坏主意）。“dat”很好，就像“bin”或名称中的一些 3 个字母您的应用程序 :-) 或者，如果您以后不需要与您的程序建立文件关联，您可以根本不使用扩展名。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T05:50:47.210

您可以选择任何您想要的扩展名，可以是您的姓名首字母，可以是 *.Dat，可以是 *.bin 或全名

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-27T05:52:27.327

虽然您可以使用您喜欢的任何扩展名（或根本不使用扩展名），但我会远离使用系统将解释为不同类型文件的扩展名（例如，不要使用 .exe、.dll、.com、. xls、.doc、.html、.txt 等）。

.bin 或 .dat 之类的内容是描述性的，不应与其他命名约定冲突。

# php - 如何检查是否不是 symfony2 中某个类的实例

> ID：11682126
> 
> 赞同：89
> 
> 时间：2012-07-27T05:47:57.623
> 
> 标签：php

如果实体是少数类但不是某些类的成员，我想执行一些功能。

有一个函数叫做`instanceof`.

但是有没有类似的东西

```
if ($entity !instanceof [User,Order,Product]) 
```

* * *

## 回答 #1

> 赞同：158
> 
> 时间：2012-07-27T06:35:24.843

给他们一个通用的接口，然后

```
if (!$entity instanceof ShopEntity) 
```

或留在

```
if (!$entity instanceof User && !$entity instanceof Product && !$entity instanceof Order) 
```

我会避免创建任意函数只是为了在一个地方保存一些字符。另一方面，如果您“过于频繁”地需要它，您可能存在设计缺陷？（在“太多边缘情况”之类的意思中）

* * *

## 回答 #2

> 赞同：77
> 
> 时间：2013-11-18T22:39:35.247

PHP手册说： http: [//php.net/manual/en/language.operators.type.php](http://php.net/manual/en/language.operators.type.php)

```
!($a instanceof stdClass) 
```

这只是一个逻辑和“语法”正确的书面语法。

```
!$class instanceof someClass 
```

但是，上面建议的语法很棘手，因为我们没有具体说明哪个是否定的范围：变量本身或`$class instanceof someclass`. 我们在这里只需要依赖运算符的优先级[编辑，感谢@Kolyunya]。

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2013-12-04T12:10:30.203

[PHP 运算符优先级](http://www.php.net/manual/en/language.operators.precedence.php)

`instanceof`运算符就在否定之前，然后是这个表达式：

```
!$class instanceof someClass 
```

在 PHP 中恰到好处，这正是您所期望的。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-27T06:33:03.713

这个函数应该这样做：

```
function isInstanceOf($object, Array $classnames) {
    foreach($classnames as $classname) {
        if($object instanceof $classname){
            return true;
        }
    }
    return false;
} 
```

所以你的代码是

```
if (!isInstanceOf($entity, array('User','Order','Product'))); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-06-13T10:30:27.073

```
function check($object) {
    $deciedClasses = [
        'UserNameSpace\User',
        'OrderNameSpace\Order',
        'ProductNameSpace\Product',
    ];

    return (!in_array(get_class($object), $allowedClasses));
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-09-14T02:39:20.577

或者你可以试试这些

```
 $cls = [GlobalNameSpace::class,\GlobalNameSpaceWithSlash::class,\Non\Global\Namespace::class];
    if(!in_array(get_class($instance), $cls)){
        //do anything
    } 
```

# xml - 预填充核心数据存储：使用 JSON 属性列表还是 XML 文件？

> ID：11682129
> 
> 赞同：0
> 
> 时间：2012-07-27T05:48:13.897
> 
> 标签：xml, json, core-data

我目前有一个包含四个实体的核心数据模式，其中几个实体之间存在多对多关系。我想为我的核心数据存储预填充 sqlite 数据库，但我不确定哪种方式最好。我目前正在考虑创建一个属性列表（要转换为 JSON），然后我将使用 JSON 解析器对象进行解析，该对象将读取属性并将它们存储到核心数据中。或者，我可以使用 XML。

那么，哪种方法更容易实现，并且是最佳实践？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T08:10:14.403

您的所有格式都很好（JSON、plist、XML）。不过，在将数据放入核心数据之前，我会避免在这些之间进行转换——这显然是多余的。

对于 JSON - 您可以使用您提到的 JSON 解析器。

对于 XML - 您可以使用 NSParser，但它涉及更多，使用委托方法等，但仍然可行。

对于 plist - 您可以在一行中将它们转换为一个大数组或字典，就像使用 JSON 解析器一样，因此无需从那里转到 JSON。Plist 当然是 Apple 的原生格式（一种 XML），但也许 JSON 对人类来说可读性更好。

# java - 无论如何要将 int 与 drawable 进行比较？ANDROID

> ID：11682130
> 
> 赞同：1
> 
> 时间：2012-07-27T05:48:19.900
> 
> 标签：java, android, object, int

有什么办法可以比较 s 和 a 吗？在这段代码中，我有 int 作为答案，如果是，`drawable == s`那么我想显示一条`"Correct!"`toast 消息。任何帮助，将不胜感激。

```
btn1.setOnClickListener(new OnClickListener() 
{
    @Override
    public void onClick(View v) 
    {
          int s = R.drawable.exitbtn;
          Resources res = getResources();
          Drawable drawable = res.getDrawable(R.drawable.exitbtn);
          Object a=drawable;
          if(a==s)
          {
                ImageView imageview =(ImageView)findViewById(R.id.imageView1);
                Toast.makeText(getApplicationContext(), "CORRECT!", Toast.LENGTH_SHORT).show();
                imageview.setImageDrawable(drawable);
                btn1.setText("1");
                btn2.setText("2");
                btn3.setText("3");
                btn4.setText("4");
         }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T08:09:32.057

将一个实例与一个`Drawable`实例进行比较是`int`没有意义的。你想做什么？你想检查方法是否`res.getDrawable(R.drawable.exitbtn);`返回正确的对象吗？

我认为从 R 文件中获取标识符是多余的：

```
int s = R.drawable.exitbtn; 
```

然后使用相同的标识符获取对象：

```
Drawable drawable = res.getDrawable(R.drawable.exitbtn); 
```

然后尝试通过比较 id 来检查它是否真的是正确的对象。

我认为在通过 id 获取 Drawable 时没有错误的地方（特别是 int 值的混淆）。如果您想确保对象已创建，请检查它是否为空。

```
Drawable drawable = res.getDrawable(R.drawable.exitbtn);
if(drawable != null){
   //do stuff
} else {
   //handle the situation where there's no drawable
} 
```

另外，我认为没有办法从 Drawable 对象中获取 id。返回的实例`getDrawable`不包含此类信息。

更好的是，如果 id 出现某种错误，您可以使用`getDrawable`可以抛出 a的事实。`NotFoundException`检查[文档](http://developer.android.com/reference/android/content/res/Resources.html)以获取详细信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-18T09:17:20.677

尝试这个

```
public void MyClick(View view)
    {
     Drawable fDraw = view.getBackground();
     Drawable sDraw = getResources().getDrawable(R.drawable.twt_hover);

      if(fDraw.hashCode() == sDraw.hashCode())
      {
       //Not coming
      }
    } 
```

或使用以下代码

> 使用 getTag() 和 setTag() 进行比较

# mysql - SQL INSERT 语句错误 - Where 子句出错

> ID：11682132
> 
> 赞同：-3
> 
> 时间：2012-07-27T05:48:24.927
> 
> 标签：mysql

> **可能重复：**
> [如何在 MySQL 插入语句中添加 where 子句？](https://stackoverflow.com/questions/2349993/how-to-add-a-where-clause-in-a-mysql-insert-statement)

我正在编写带有 WHERE 子句的 SQL INSERT STATEMENT。

```
 INSERT INTO House ( ID ,ADDRESS ) VALUES ('12','LONDON') WHERE OWNER='1'; 
```

我得到的错误：

```
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'WHERE OWNER='1'' at line 1 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T05:50:19.680

`WHERE`用于`UPDATE query`. 如果获得 where 子句，请使用 UPDATE 查询。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-27T05:51:49.857

您不能将`WHERE`子句与`INSERT`Query..

如果您想更新记录（如果记录存在）

```
INSERT INTO House ( OWNER, ID ,ADDRESS ) VALUES ('1', '12','LONDON') 
ON DUPLICATE KEY UPDATE ID = '12', ADDRESS = 'LONDON' 
```

' **ON DUPLICATE KEY** ' 语句仅适用于**PRIMARY** KEY 和**UNIQUE**列

检查此[链接](http://dev.mysql.com/doc/refman/5.0/en/insert-on-duplicate.html)以获取更多信息

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T05:49:51.850

INSERT INTO 没有 WHERE 子句。去掉它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-27T05:50:51.423

`WHERE`如果从表中选择或更新表，则只能使用该子句。

所以你通常会有类似的东西

```
INSERT INTO Table (Columns...) SELECT Columns... FROM SomeOtherTable WHERE Condition 
```

在您的情况下，您需要使用

```
INSERT INTO House ( ID ,ADDRESS ) VALUES ('12','LONDON') 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-27T05:53:11.523

WHERE 子句不适用于 INSERT INTO 语句。您可以将子句与 SELECT 语句一起使用

您的正确代码如下：

插入房屋（ID，地址）值（12，'伦敦'）；

# java - AspectJ - java.net.Socket 上的加载时间编织问题

> ID：11682134
> 
> 赞同：3
> 
> 时间：2012-07-27T05:48:44.347
> 
> 标签：java, jakarta-ee, aspectj

资源：

```
package net.andrewewhite.aspects;
import java.util.ArrayList;

import org.aspectj.lang.ProceedingJoinPoint;
import org.aspectj.lang.annotation.Aspect;
import org.aspectj.lang.annotation.Around;

@Aspect
public class SocketProfiler {

    @Around("call(* java.net.Socket.connect(..)) || execution(* java.net.Socket.connect(..))")
    public void SocketRead(ProceedingJoinPoint joinPoint) throws Throwable {

         long time=0;
         Object rt=null;
             time= System.nanoTime();
            joinPoint.proceed();

            time=(System.nanoTime()-time)/1000;
            com.profile.Profiler.socketRead.add(time);

        }

} 
```

aop.xml

```
<aspectj>
<aspects>
    <aspect name="net.andrewewhite.aspects.SocketProfiler"/>
  </aspects>
  <weaver options="-verbose -Xset:weaveJavaxPackages=true -Xset:weaveJavaPackages=true">
  </weaver>
 </aspectj> 
```

## 虚拟机参数

```
-javaagent:D:\tools\aspectJn\lib\aspectjweaver.jar  (on eclipse ide) 
```

如果我尝试编织对 system.out.println 的调用，它会起作用。但是当我尝试 Java.net.Socket 时，它没有。任何有关的帮助表示赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-22T13:38:22.897

其实我编织没有问题`call(Socket.connect)`，但`execution(Socket.connect)`完全是另一回事，因为

*   `call(Socket.connect)`匹配客户端代码中的连接点，即代码中调用该方法的所有位置，
*   `execution(Socket.connect)`匹配 JDK 代码中的连接点，但默认情况下 JDK 打包`java`并`javax`排除在编织之外。

这似乎是我偶然发现此类问题（或类似问题）的那一天，因此您可能想在[这里](https://stackoverflow.com/a/12071937/1082681)和[那里](https://stackoverflow.com/a/12064531/1082681)阅读我的答案以获取更多信息。

# aptana - Aptana Studio 3 消失的文件夹

> ID：11682136
> 
> 赞同：0
> 
> 时间：2012-07-27T05:48:51.070
> 
> 标签：aptana

当我创建一个带有子文件夹的新项目时，子文件夹从父文件夹中消失。有人对此有解决方案吗？

# java - 如何在 SWT 中按列对表进行排序

> ID：11682138
> 
> 赞同：2
> 
> 时间：2012-07-27T05:48:52.520
> 
> 标签：java, mysql, sorting, swt

我正在制作一个程序，从 MySQL 的数据库中获取数据并将其放入 SWT 表中，我对表进行排序的方式是删除所有 TableItem 并再次从数据库中加载所有排序的数据，但是当有很多数据库中的行数需要大量加载数据

我尝试了一些我发现对表格进行排序的代码，但它们不起作用，我不知道我是否做得对但没有工作

有没有简单的方法对 SWT 表进行排序？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T05:59:41.930

在这里，您有一个用于对 swt 列进行排序的适当代码示例：

```
import org.eclipse.swt.*;  
 import org.eclipse.swt.widgets.*;  
 import org.eclipse.swt.layout.*;  
 import java.text.*;  
 import java.util.*;  

public class SortTable {  

  public static void main(String[] args) {  
     Display display = new Display ();  
     Shell shell = new Shell (display);  
     shell.setLayout(new FillLayout());  
     final Table table = new Table(shell, SWT.BORDER);  
     table.setHeaderVisible(true);  
     final TableColumn column1 = new TableColumn(table, SWT.NONE);  
     column1.setText("Column 1");  
     final TableColumn column2 = new TableColumn(table, SWT.NONE);  
     column2.setText("Column 2");  
     TableItem item = new TableItem(table, SWT.NONE);  
     item.setText(new String[] {"a", "3"});  
     item = new TableItem(table, SWT.NONE);  
     item.setText(new String[] {"b", "2"});  
     item = new TableItem(table, SWT.NONE);  
     item.setText(new String[] {"c", "1"});  
     column1.setWidth(100);  
     column2.setWidth(100);  
     Listener sortListener = new Listener() {  
         public void handleEvent(Event e) {  
             TableItem[] items = table.getItems();  
             Collator collator = Collator.getInstance(Locale.getDefault());  
             TableColumn column = (TableColumn)e.widget;  
             int index = column == column1 ? 0 : 1;  
             for (int i = 1; i < items.length; i++) {  
                 String value1 = items[i].getText(index);  
                 for (int j = 0; j < i; j++){  
                     String value2 = items[j].getText(index);  
                     if (collator.compare(value1, value2) < 0) {  
                         String[] values = {items[i].getText(0), items[i].getText(1)};  
                         items[i].dispose();  
                         TableItem item = new TableItem(table, SWT.NONE, j);  
                         item.setText(values);  
                         items = table.getItems();  
                         break;  
                     }  
                 }  
             }  
             table.setSortColumn(column);  
         }  
     };  
     column1.addListener(SWT.Selection, sortListener);  
     column2.addListener(SWT.Selection, sortListener);  
     table.setSortColumn(column1);  
     table.setSortDirection(SWT.UP);  
     shell.setSize(shell.computeSize(SWT.DEFAULT, SWT.DEFAULT).x, 300);  
     shell.open();  
     while (!shell.isDisposed ()) {  
         if (!display.readAndDispatch ()) display.sleep ();  
     }  
     display.dispose ();  
 }  

 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T05:55:16.730

我认为您不需要删除`tableItems`. 只需调用`table.getItems()`将覆盖现有数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-04T20:34:36.977

如果我们将 Viewer 用作 List 的输入，我们可以使用 Collections.sort() 方法。我们可以创建一个通用排序器，它将一个字段作为参数和查看器（以获得数据模型）

```
void createColumn(String fieldName){
Field field = MyClass.getDeclaredField(fieldName);
coltName = new TableViewerColumn(viewer, swtModifier);
coltName.getColumn().addSelectionListener(createSorter(viewer, field));
}

SelectionListener createSorter(final TableViewer viewer, final Field field) {
    return new SelectionListener() {

@SuppressWarnings({ "unchecked", "rawtypes" })
@Override
public void widgetSelected(SelectionEvent e) {
Object data= viewer.getInput();
 viewer.getTable().setSortColumn((TableColumn) e.getSource());
 int oldSortDir = viewer.getTable().getSortDirection();
int newSortDir = SWT.UP;
switch(oldSortDir){
    case SWT.UP:
        newSortDir = SWT.DOWN;
        break;
    case SWT.DOWN:
        newSortDir = SWT.UP;
        break;
}
viewer.getTable().setSortDirection(newSortDir);
if(data instanceof List){
    Collections.sort((List) data, createComparator(field));
    viewer.refresh();
}           
}

@Override
public void widgetDefaultSelected(SelectionEvent e) {
    widgetSelected(e);
}
};
}

@SuppressWarnings("rawtypes")
Comparator createComparator(final Field field) {
    return new Comparator() {
        @Override
        public int compare(Object arg0, Object arg1) {
            try {
                Object value0 = field.get(arg0);
                Object value1 = field.get(arg1);

                if(value0 instanceof Integer){
                    return ((Integer) value0).compareTo((Integer) value1);
                }

                if(value0 instanceof String){
                    return ((String) value0).compareToIgnoreCase((String) value1);
                }

                if(value0 instanceof Date){
                    return ((Date) value0).compareTo((Date) value1);
                }

                if(value0 instanceof BigDecimal){
                    return ((BigDecimal) value0).compareTo((BigDecimal) value1);
                }

                if(value0 instanceof Long){
                    return ((Long) value0).compareTo((Long) value1);
                }

                if(value0 instanceof Double){
                    return ((Double) value0).compareTo((Double) value1);
                }

                if(value0 instanceof Boolean){
                    return ((Boolean) value0).compareTo((Boolean) value1);
                }
            }
            catch (IllegalArgumentException e) {
                e.printStackTrace();
            }
            catch (IllegalAccessException e) {
                e.printStackTrace();
            }

            return 0;
        }};
} 
```

# mysql - 查询 varchar 文件时的奇怪行为

> ID：11682146
> 
> 赞同：0
> 
> 时间：2012-07-27T05:49:40.233
> 
> 标签：mysql

我在寻找系统中的错误时遇到了这种奇怪的行为。考虑跟随。

我们有一个具有 varchar(100) 列的 mysql 表。请参阅以下 sql 脚本。

```
create table user(`id` bigint(20) NOT NULL AUTO_INCREMENT,`user_id` varchar(100) NOT NULL,`username` varchar(255) DEFAULT NULL,PRIMARY KEY (`id`),UNIQUE KEY `user_id` (`user_id`))  ENGINE=InnoDB AUTO_INCREMENT=129 DEFAULT CHARSET=latin1;

insert into user(user_id, username) values('20120723145614834', 'user1');

insert into user(user_id, username) values('20120723151128642', 'user1'); 
```

当我执行以下查询时，我收到 0 个结果。

```
select * from user where user_id=20120723145614834; 
```

但是当我执行以下操作时，我得到了结果（注意单引号）。

```
select * from user where user_id='20120723145614834'; 
```

这是预期的，因为 user_id 字段是 varchar。奇怪的是，以下两个查询都会产生结果。

```
select * from user where user_id=20120723151128642;
select * from user where user_id='20120723151128642'; 
```

谁能解释我这种奇怪行为的原因。我的MySql版本是5.1.63-0ubuntu0.11.10.1

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:08:09.650

检查 mysql 文档[12.2。表达式求值中的类型转换](http://dev.mysql.com/doc/refman/5.1/en/type-conversion.html)

> 使用浮点数（或转换为浮点数的值）的比较是近似的，因为这些数字是不精确的。这可能会导致出现不一致的结果：

```
mysql> SELECT '18015376320243458' = 18015376320243458;
        -> 1
mysql> SELECT '18015376320243459' = 18015376320243459;
        -> 0 
```

所以我们最好为 SQL 使用始终正确的数据类型。

# licensing - 如何将许可证密钥与我的软件关联

> ID：11682157
> 
> 赞同：2
> 
> 时间：2012-07-27T05:50:51.897
> 
> 标签：licensing

我想知道如何将许可证密钥与我正在创建的软件相关联，类似于大多数公司（如 Microsoft 和其他要求安装其产品的密钥）所使用的软件。这样，除非许可证密钥是 Comprised ，否则我怎么能防止盗版软件。我在这里很天真，需要你们的一些指导，以便我可以查看这些并进一步进行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-28T13:15:31.830

为避免密钥共享，您需要将密钥生成绑定到客户计算机的某些属性——“硬件锁”或“软件锁”。作为“硬件锁”，可以使用 MAC 地址、硬盘驱动器 ID（等）。有时会使用“软件锁”，为最终用户提供更多硬件升级自由。

所以这个方案是这样看的：软件生成客户发送给软件供应商的**“请求密钥”= f(“硬件锁”) 。**供应商通过keygen生成**'授权密钥' = F('请求密钥')**并返回给客户。当客户激活他的软件时，它会验证密钥**if('authorization key' == F(f('hardware lock)) { okey, here we go } else { nope, key is invalid }**

这种方法的缺点是黑客跟踪放入“激活密钥”字段的密钥流，并可以找到**F(f('hardware lock')**然后对**F**二进制代码进行一些“复制/粘贴”，创建keygen 并通过网络共享。

更好的方法是，如果黑客无法访问执行实际“授权密钥”生成的例程。例如，如果它位于远程服务器上。

反正没必要重新发明自行车，可以使用别人开发的解决方案，查看[https://activation-cloud.com](https://activation-cloud.com)

当然，没有不能被黑客入侵的保护措施。问题是要付出多少努力才能做到。

# android - Android：为什么 AlarmManager 不起作用？

> ID：11682158
> 
> 赞同：3
> 
> 时间：2012-07-27T05:50:53.170
> 
> 标签：android, broadcastreceiver, alarmmanager

我有以下代码。它应该每隔一段时间在 logcat 中发送一条消息，但它不起作用。stackoverflow 上有很多类似的帖子，但我无法找出问题所在。有什么地方可以帮助我吗？

```
<receiver android:name="BoopoohooAlarmReceiver"></receiver>

public void startAlarmManager(long interval){
    Context context = getApplicationContext();
    Intent intent = new Intent(context, BoopoohooAlarmReceiver.class);
    PendingIntent pendingIntent = PendingIntent.getBroadcast(context, 0, intent, 0);
    AlarmManager alarmManager = (AlarmManager)context.getSystemService(Context.ALARM_SERVICE);
    Calendar calendar = Calendar.getInstance();
    calendar.setTimeInMillis(System.currentTimeMillis());
    calendar.add(Calendar.SECOND, 10);
    Log.i(DEBUG, "hollaa");
    alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), interval, pendingIntent);
}

public class BoopoohooAlarmReceiver extends BroadcastReceiver {
    private final String DEBUG = "BoopoohooAlarmReceiver"; 
    @Override
    public void onReceive(Context context, Intent intent) {
        Log.i(DEBUG, "onReceive");
    }
} 
```

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-27T13:10:26.533

尝试添加“。” （点）在 android manifest 文件声明中的接收者名称前面。

```
<receiver android:name=".BoopoohooAlarmReceiver"></receiver> 
```

[这](http://androidresearch.wordpress.com/2012/07/02/scheduling-an-application-to-start-later/)也可能有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:04:28.257

请参阅此链接[警报管理器 1](http://smartandroidians.blogspot.in/2010/04/alarmmanager-and-notification-in.html)、[警报管理器 2](http://android-er.blogspot.in/2010/10/simple-example-of-alarm-service-using.html)、[警报管理器 3](https://stackoverflow.com/questions/4459058/alarm-manager-example)它会有所帮助

# jquery - 多个表单目标单击按钮

> ID：11682161
> 
> 赞同：0
> 
> 时间：2012-07-27T05:51:00.057
> 
> 标签：jquery, ajax

我想为页面上的每个图像创建一个评论表单。图像的数量是动态的。jquery 有没有办法针对单击的提交按钮定位表单数据？

我目前有：

```
$('.comment_button').click(function() {    
var comment = $('input#comment').val();
    var id = $('input#id').val();
    var other = $('input#other').val();
    var dataString = 'comment='+ comment + '&id=' + id + '&other=' + other;

    alert (dataString);
}); 
```

这意味着每个图像的所有表单字段和表单名称都是相同的（可能应该使它们具有唯一性以进行验证），但是无论用户单击该特定表单中的某个提交按钮时是否有办法获取表单字段？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T05:57:44.067

据我了解，您的问题是，您可以使用`serialize`类似的功能

```
$('form').submit(function() {
  console.log($(this).serialize());
  return false; 
```

});

此处的文档[JquerySerialize](http://api.jquery.com/serialize/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:06:46.620

为评论表单添加一个容器 div。所以点击找到按钮的父div。然后找到该 div 中的所有输入元素，这将为该评论表单提供输入文本框。

一个示例伪代码..像这样尝试..

```
$('.comment_button').click(function() {    

  var parentDiv= $(this).parent();
  $(parentDiv "input[type=text]").each(function()
  {
    if(this.id == "comment")
      //get comment text
   .
   .

  });
}); 
```

# android - 在android上查找开始地理点和结束地理点之间的中心地理点

> ID：11682164
> 
> 赞同：5
> 
> 时间：2012-07-27T05:51:25.657
> 
> 标签：android

我有开始纬度，经度和结束纬度，经度。

我使用纬度和经度找到地理点。

之后，我在两个地理点之间画线。

我的问题是如何找到 Geopoint 的中心？

我在开始和结束位置显示“OverlayItem”。但无法找到 Geopoint 的中心。

如何找到中心点？

我使用下面的代码在开始和结束位置显示overlayItem。

```
 drawable            = getResources().getDrawable(R.drawable.annot_start);
        point               = new GeoPoint((int)(startLatitude*1E6), (int)(startLongitude*1E6));
        overlayItem         = new OverlayItem(point, startAddress, "Welcome");
        itemizedOverlay[n]= new MyItemizedOverlay(drawable, mapView);
        itemizedOverlay[n].addOverlay(overlayItem);
        mapOverlays.add(itemizedOverlay[n]);

        drawable            = getResources().getDrawable(R.drawable.annot_end);
        point               = new GeoPoint((int)(endLatitude*1E6), (int)(endLongitude*1E6));
        overlayItem         = new OverlayItem(point, endAddress, "Welcome");
        itemizedOverlay[n+1]= new MyItemizedOverlay(drawable, mapView);
        itemizedOverlay[n+1].addOverlay(overlayItem);
        mapOverlays.add(itemizedOverlay[n+1]); 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-27T07:01:44.740

您可以使用`Haversine formula`片段并检查此[页面](http://www.movable-type.co.uk/scripts/latlong.html)

```
public static void midPoint(double lat1,double lon1,double lat2,double lon2){

double dLon = Math.toRadians(lon2 - lon1);

//convert to radians
lat1 = Math.toRadians(lat1);
lat2 = Math.toRadians(lat2);
lon1 = Math.toRadians(lon1);

double Bx = Math.cos(lat2) * Math.cos(dLon);
double By = Math.cos(lat2) * Math.sin(dLon);
double lat3 = Math.atan2(Math.sin(lat1) + Math.sin(lat2), Math.sqrt((Math.cos(lat1) + Bx) * (Math.cos(lat1) + Bx) + By * By));
double lon3 = lon1 + Math.atan2(By, Math.cos(lat1) + Bx);

//print out in degrees
System.out.println(Math.toDegrees(lat3) + " " + Math.toDegrees(lon3));
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T05:57:25.860

您可以通过取两点纬度的平均值和经度的平均值来近似中点。

如果您需要更精确一点，您可以使用[Haversine 公式](http://en.wikipedia.org/wiki/Haversine_formula)和一些代数来推导中点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-10T08:20:47.640

检查的解决方案对我不起作用。

无论如何，我找到了一个最简单的解决方案：

```
 private GeoPoint midPoint(double lat1,double lon1,double lat2,double lon2){
        //create origin geopoint from parameters
        GeoPoint origin = new GeoPoint(lat1,lon1);
        //create destination geopoints from parameters
        GeoPoint destination = new GeoPoint(lat2,lon2);
        //calculate and return center
        return GeoPoint.fromCenterBetween(origin, destination);
    } 
```

如果您有起点和终点作为 GeoPoint，您可以直接使用“GeoPoint.fromCenterBetween”方法。

# android - bitmapfactory 无法加载图像

> ID：11682169
> 
> 赞同：0
> 
> 时间：2012-07-27T05:51:50.943
> 
> 标签：android, android-image, bitmapfactory

我有一个 android 应用程序可以将 mysql 数据库中的多个图像加载到 ImageButton 上。

```
imageButton.setImageBitmap(fetchBitmap("http://www...~.jpg")); 
```

我曾经能够成功加载 png，但现在也失败了（jpg 图像从未成功）。这是我用于下载图像的代码：-

```
public static Bitmap fetchBitmap(String urlstr) {
    InputStream is= null;
    Bitmap bm= null;
    try{
        HttpGet httpRequest = new HttpGet(urlstr);
        HttpClient httpclient = new DefaultHttpClient();
        HttpResponse response = (HttpResponse) httpclient.execute(httpRequest);

        HttpEntity entity = response.getEntity();
        BufferedHttpEntity bufHttpEntity = new BufferedHttpEntity(entity);
        is = bufHttpEntity.getContent();
        BitmapFactory.Options factoryOptions = new BitmapFactory.Options();
        bm = BitmapFactory.decodeStream(is);
    }catch ( MalformedURLException e ){
        Log.d( "RemoteImageHandler", "Invalid URL: " + urlstr );
    }catch ( IOException e ){
        Log.d( "RemoteImageHandler", "IO exception: " + e );
    }finally{
        if(is!=null)try{
            is.close();
        }catch(IOException e){}
    }
    return bm;
} 
```

我收到此错误：-

```
D/skia(4965): --- SkImageDecoder::Factory returned null 
```

我已经尝试过这里建议的各种组合[，](https://stackoverflow.com/questions/3802820/bitmapfactory-decodestream-always-returns-null-and-skia-decoder-shows-decode-ret)这里[和](https://stackoverflow.com/a/4416821/1322460)其他几个解决方案，但它对我不起作用。我错过了什么吗？图片肯定出现在我输入的网址中。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:00:44.017

使用以下代码下载图像并存储到位图中，它可能会对您有所帮助。

```
public static Bitmap loadBitmap(String url) {
    Bitmap bitmap = null;
    InputStream in = null;
    BufferedOutputStream out = null;

    try {
        in = new BufferedInputStream(new URL(url).openStream(), IO_BUFFER_SIZE);

        final ByteArrayOutputStream dataStream = new ByteArrayOutputStream();
        out = new BufferedOutputStream(dataStream, IO_BUFFER_SIZE);
        out.flush();

        final byte[] data = dataStream.toByteArray();
        BitmapFactory.Options options = new BitmapFactory.Options();

        bitmap = BitmapFactory.decodeByteArray(data, 0, data.length,options);
    } catch (IOException e) {
        Log.e(TAG, "Could not load Bitmap from: " + url);
    } finally {
        closeStream(in);
        closeStream(out);
    }

    return bitmap;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-29T13:30:03.550

问题是无法下载图像，因为保存图像的目录没有“执行”权限。添加权限后，该应用程序运行顺利:)

# xml - 使用 XMLEventReader 时如何检测 XML 错误？

> ID：11682172
> 
> 赞同：1
> 
> 时间：2012-07-27T05:52:07.543
> 
> 标签：xml, scala

提及它的文档 `scala.xml.pull.XMLEventReader`可以用作`Iterator[XMLEvent]`. 但是，这样做时，XML 错误会导致方法调用未终止。例如：

```
scala> new xml.pull.XMLEventReader(io.Source.fromString("<a><b></a>")).toArray
Exception in thread "XMLEventReader" scala.xml.parsing.FatalError: expected closing tag of b
    at scala.xml.parsing.MarkupParser$class.errorNoEnd(MarkupParser.scala:41)
    at scala.xml.pull.XMLEventReader$Parser.errorNoEnd(XMLEventReader.scala:56)
    at scala.xml.parsing.MarkupParserCommon$class.xEndTag(MarkupParserCommon.scala:93)
    at scala.xml.pull.XMLEventReader$Parser.xEndTag(XMLEventReader.scala:56)
    at scala.xml.parsing.MarkupParser$class.element1(MarkupParser.scala:543)
    at scala.xml.pull.XMLEventReader$Parser.element1(XMLEventReader.scala:56)
    at scala.xml.parsing.MarkupParser$class.content1(MarkupParser.scala:396)
    at scala.xml.pull.XMLEventReader$Parser.content1(XMLEventReader.scala:56)
    at scala.xml.parsing.MarkupParser$class.content(MarkupParser.scala:417)
    at scala.xml.pull.XMLEventReader$Parser.content(XMLEventReader.scala:56)
    at scala.xml.parsing.MarkupParser$class.element1(MarkupParser.scala:542)
    at scala.xml.pull.XMLEventReader$Parser.element1(XMLEventReader.scala:56)
    at scala.xml.parsing.MarkupParser$class.content1(MarkupParser.scala:396)
    at scala.xml.pull.XMLEventReader$Parser.content1(XMLEventReader.scala:56)
    at scala.xml.parsing.MarkupParser$class.document(MarkupParser.scala:216)
    at scala.xml.pull.XMLEventReader$Parser.document(XMLEventReader.scala:56)
    at scala.xml.pull.XMLEventReader$Parser$$anonfun$run$1.apply(XMLEventReader.scala:90)
    at scala.xml.pull.XMLEventReader$Parser$$anonfun$run$1.apply(XMLEventReader.scala:90)
    at scala.xml.pull.ProducerConsumerIterator$class.interruptibly(XMLEventReader.scala:113)
    at scala.xml.pull.XMLEventReader.interruptibly(XMLEventReader.scala:26)
    at scala.xml.pull.XMLEventReader$Parser.run(XMLEventReader.scala:90)
    at java.lang.Thread.run(Thread.java:680) 
```

这个调用永远不会终止。我们在这里看到解析异常被打印，但它似乎没有中断对`toArray`. 这似乎是因为实际的解析发生在一个单独的线程中，该线程被终止，但是错误永远不会报告给调用线程（这[在问题 SI-4267 中有描述](https://issues.scala-lang.org/browse/SI-4267)）。是否有可能以某种方式在调用线程上重新引发这些异常？甚至打算使用这个类，还是我应该使用另一个拉解析器？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-28T12:30:01.403

如果您正在寻找拉式解析和 Scala，您可能应该查看[Scales Xml](https://github.com/chris-twiner/scalesXml "Scales Xml Github")。

特别是在这种情况下，拉解析由实际拉解析器（jdk stax）驱动，并且可以插入实际使用的 XMLInputFactory，从而允许您根据 stax 标准 api 自定义错误处理或文档处理。

再加上 Iterator 和 Iteratee 解析的能力，您在如何处理文档方面获得了很大的灵活性。

下一个版本 0.5 还将尝试使用[Aalto XML](https://github.com/FasterXML/aalto-xml "阿尔托 XML Github")来提供完全异步处理。

您的实际示例转换为：

```
import scales.xml._
import ScalesXml._

try{
  val s = pullXml(new java.io.StringReader("<a><b></a>")).toArray
} finally {
  println("Same thread")
} 
```

并运行为（保存在 Experiments.scalaScript 中并通过 repl 加载）：

```
scala> :load .\experiments.scalaScript
Loading .\experiments.scalaScript...
import scales.xml._
import ScalesXml._
Same thread
javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,9]
Message: The element type "b" must be terminated by the matching end-tag "</b>".
        at com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.next(XMLStreamReaderImpl.java:594) 
```

有关拉解析的更多示例，请参见[此处](http://scala-scales.googlecode.com/svn/sites/scales/scales-xml_2.9.2/0.3/PullParsing.html "Scales Xml 拉解析")

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:48:01.703

我也遇到了。某处有一个补丁版本（在我自己的代码库中还找不到链接），我们用了一段时间来解决这个问题——在完全放弃它之前。

# javascript - ExtJs 在 ENTER 按键上模拟 TAB

> ID：11682175
> 
> 赞同：4
> 
> 时间：2012-07-27T05:52:20.597
> 
> 标签：javascript, extjs, extjs4

我知道这不是最聪明的主意，但我仍然必须这样做。我们的用户希望像 TAB 一样使用 ENTER。所以，我想出的最好的是：

```
Ext.override(Ext.form.field.Base, {
            initComponent: function() {
                this.callParent(arguments);

                this.on('afterrender', function() {
                    var me=this;
                    this.getEl().on('keypress',function (e){
                        if(e.getKey() == 13) {
                            me.nextNode().focus();
                        }
                    });
                });
            }
        }); 
```

但它的工作方式仍然与 TAB 不完全相同。我的意思是，它适用于输入字段，但不适用于其他控件。可能有一些低级的解决方案。有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T17:46:56.937

在过去，我已将侦听器附加到文档中，如下所示：

```
Ext.getDoc().on('keypress', function(event, target) {

    // get the form field component
    var targetEl = Ext.get(target.id),
        fieldEl = targetEl.up('[class*=x-field]') || {},
        field = Ext.getCmp(fieldEl.id);

    if (
        // the ENTER key was pressed...
        event.ENTER == event.getKey() &&

        // from a form field...
        field &&

        // which has valid data.
        field.isValid()

        ) {

        // get the next form field
        var next = field.next('[isFormField]');

        // focus the next field if it exists
        if (next) {
            event.stopEvent();
            next.focus();
        }                   
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-11-05T14:08:59.230

对于 Ext.form.field.Text 和类似的 xtypes，`enableKeyEvents`在 keypress/keydown/keyup 事件触发之前需要设置一个额外的配置。配置`enableKeyEvents`选项需要设置为 true，因为它默认为 false。

[ExtJS API 文档](http://docs.sencha.com/extjs/4.2.3/#!/api/Ext.form.field.Text-cfg-enableKeyEvents)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T05:57:58.467

免责声明：我不是 ExtJs 方面的专家。

也就是说，也许尝试类似：

```
if (e.getKey() === 13) {
    me.blur();
    return false;  // cancel key event to prevent the [Enter] behavior
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T06:06:13.747

你可以试试这个

```
if (e.getKey() === 13) {
    e.keyCode = Ext.EventObject.TAB
    this.fireEvent(e, {// any additional options
   });
} 
```

我自己还没有真正尝试过。

# sql-server - 使用全文搜索跨多个表搜索记录

> ID：11682176
> 
> 赞同：0
> 
> 时间：2012-07-27T05:52:21.817
> 
> 标签：sql-server, full-text-search

```
SELECT A.a, B.b, akt.[Rank] + bkt.[Rank] /2  AS [Rank]
FROM B b
INNER JOIN Publication a ON a.Id = b.Id
INNER JOIN FREETEXTTABLE(A, a, 'search text') akt ON a.Id = akt.[Key]
INNER JOIN FREETEXTTABLE(B, b, 'search text') bkt ON b.Id = bkt.[Key] 
ORDER BY [Rank] DESC

UNION
SELECT A.a, null as B.b, akt.[Rank] as [Rank]
FROM A a
INNER JOIN FREETEXTTABLE(A, a, 'search text') akt ON a.Id = akt.[Key]

UNION
SELECT null as A.a, B.b, bkt.[Rank] as [Rank]
FROM B b
INNER JOIN FREETEXTTABLE(A, a, 'search text') akt ON a.Id = akt.[Key] 
```

上述查询用于跨两个表搜索记录（使用排名）。

**第一个查询：**只有搜索文本在两个表的列中的那些记录才会显示。

**第二个查询：**只有那些 searchtext 只在表 A 的列中的记录

**第三个查询：** 仅那些 searchtext 仅在表 B 的列 b 中的记录

我的问题是：如果我必须搜索 4 或 5 个表，UNIONS 的数量会疯狂增加。它也会太复杂和缓慢。

那么，有没有其他方法可以减少这些联合？我试过视图，但它们不能被全文索引。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:23:14.260

Simply use full join

```
SELECT A.a, B.b, "Use case for calculating rank"
    FROM B b
    FULL JOIN A a ON b.Id = a.Id
WHERE
    a.[columnname] = 'search text' OR
    b.[columnname] = 'search text' 
```

Check [http://codesnout.com/SQLSample/SQL-FULL-JOIN.php](http://codesnout.com/SQLSample/SQL-FULL-JOIN.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T08:23:43.813

```
SELECT b.FK_Publication_ID, b.PageNumber as PageNumber, b.SearchText as SearchText, a.Title as Title , 
TitleSearch.[Rank] + PubSearch.[Rank] * 10000
  AS [Rank]
FROM PublicationSearch 
INNER JOIN Publication a ON b.FK_Publication_Id = a.Id
INNER JOIN FREETEXTTABLE(PublicationSearch, SearchText, "searchtext") PubSearch ON b.Id = PubSearch.[Key] 
INNER JOIN FREETEXTTABLE(Publication, Title, "searchtext") TitleSearch ON a.Id = TitleSearch.[Key] 
WHERE b.FK_ContentType_Id IN (SELECT * FROM UF_CSVToTable(@Options))

UNION 

SELECT  a.Id, null as PageNumber, null as Searchtext, a.Title as Title, TitleSearch.[Rank] * 100  AS [Rank]
FROM Publication a
INNER JOIN FREETEXTTABLE(Publication,Title, "searchtext") TitleSearch ON a.Id = TitleSearch.[Key]

UNION

SELECT b.FK_Publication_ID, b.PageNumber as PageNumber, b.SearchText as SearchText, null as Title, 
PubSearch.[Rank] 
  AS [Rank] 
FROM PublicationSearch b
INNER JOIN FREETEXTTABLE(PublicationSearch, SearchText, "searchtext") PubSearch ON b.Id = PubSearch.[Key] 

ORDER BY [Rank] DESC 
```

以上是使用UNION

下面是你建议的

选择 b.FK_Publication_ID，b.PageNumber 作为 PageNumber，b.SearchText 作为 SearchText，a.Title 作为 Title 作为 ContentType，

```
TitleSearch.[Rank] * 100  (Ranking, dont know how to do it here)
  AS [Rank]
FROM PublicationSearch b
INNER JOIN Publication a ON b.FK_Publication_Id = a.Id
JOIN FREETEXTTABLE(PublicationSearch, SearchText, "searchtext")PubSearch ON b.Id = PubSearch.[Key] 
FULL JOIN FREETEXTTABLE(Publication, Title, "searchtext")TitleSearch ON a.Id = TitleSearch.[Key] 

order by [RANK] desc 
```

继承人，确切的脚本。使用完全联接，我从 BOTH 表和仅从 PublicationSearch 表中获取记录，但不仅从 Publication 表中获取记录

此外，在两个表中找到的记录应该排名更高，然后是仅来自 Publication 表的记录，然后是来自 PublicationSerach 表的记录

谢谢..

# autoit - 如何使用 AutoIt 输入没有控件 ID 的文本？

> ID：11682179
> 
> 赞同：0
> 
> 时间：2012-07-27T05:52:31.450
> 
> 标签：autoit

我有一个包含文本框的窗口。如何通过单击鼠标并在文本框中输入文本来输入文本？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-30T07:16:59.447

您通常可以通过按下制表键 5 次来“循环”输入`Send("{Tab}")`框`Send("{Tab 5}")`。然后你可以使用普通的`Send("input text")`东西插入你想要的任何东西。您还可以使用`ClipPut("content")`用一些东西填充剪贴板，然后只使用`Send("^v")`（“^”等于“{Ctrl}”，请参阅[发送键列表](http://www.autoitscript.com/autoit3/docs/appendix/SendKeys.htm)）插入您放置在那里的任何内容 - 并且可以选择在之前保存剪贴板内容`ClipGet()`和然后在之后恢复它。在通常`WinActivate("Window Title")`将要发送击键的窗口设置为活动状态之前。祝你好运！

最后但并非最不重要...如果您的输入元素的位置是固定的，您可以在激活它们之前单击它，查看`Opt("MouseCoordMode", 0)`相对于窗口的坐标定位，然后使用类似[`MouseClick("primary", 20, 65, 1, 0)`](http://www.autoitscript.com/autoit3/docs/functions/MouseClick.htm).

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-03T07:59:40.547

控件 ID 不是您处理控件的唯一方法。您也可以使用控件类和实例。例如

```
ControlSetText("Untitled - Notepad", "", "[CLASS:Edit; INSTANCE:1]", "hello world!") 
```

您可以使用 AutoIt 附带的 AutoIt Window Info 工具获取类/实例详细信息。

这比发送安全得多。但有时使用 Send 是不可避免的。您还可以使用 SendKeepActive，它会在您向其发送击键时尝试保持某个窗口处于活动状态。

# cordova - worklight 内部是否使用 phonegap 框架？

> ID：11682192
> 
> 赞同：1
> 
> 时间：2012-07-27T05:53:24.367
> 
> 标签：cordova, ibm-mobilefirst

我正在查看 IBM 网站上的 Phonegap 和 worklight 之间的比较文档（链接如下）。

[http://www.worklight.com/assets/pdf/Worklight%20vs%20PhoneGap%20-%20Comparison.pdf](http://www.worklight.com/assets/pdf/Worklight%20vs%20PhoneGap%20-%20Comparison.pdf)

在本文档中引起我注意的一行是 -

“Worklight 利用 PhoneGap 框架在标准 Web 技术和不同移动操作系统提供的本机功能之间提供统一的桥梁。”

这是否意味着在设备上运行的代码核心与 Worklight 服务器功能的扩展保持一致？

谢谢阿米特

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-29T06:38:51.997

IBM Worklight 的开发可以分为两部分，后端服务（Adapters）和应用程序。对于构建应用程序，worklight 与 worklight 客户端 API、Apache Cordova 和 jQuery 捆绑在一起。您还可以集成 jQuery-mobile、dojo 和 sencha 来创建丰富的 UI。

[http://m.ibm.com/http/www-01.ibm.com/software/mobile-solutions/worklight/library/v50/documentation/](http://m.ibm.com/http/www-01.ibm.com/software/mobile-solutions/worklight/library/v50/documentation/)

[http://m.ibm.com/http/www-01.ibm.com/software/mobile-solutions/worklight/library/](http://m.ibm.com/http/www-01.ibm.com/software/mobile-solutions/worklight/library/)

[http://www.streebo.com/blog/introduction-to-ibm-worklight-v5-0/#.UBREamFgrKM](http://www.streebo.com/blog/introduction-to-ibm-worklight-v5-0/#.UBREamFgrKM)

# scala - Scala和unapply函数的参数

> ID：11682193
> 
> 赞同：1
> 
> 时间：2012-07-27T05:53:24.883
> 
> 标签：scala

我有一个简单`unapply`的整数检查小于 10

```
object MatchLess {
    def unapply(i: Int): Option[Int] = if ( i < 10 ) Some(i) else None
}

// so this prints
// 7 8 9 . . .
for ( i <- 7 to 12 ) i match {
    case MatchLess(x) => print(x + " ") // line 8
    case _ => print(". ")
} 
```

我对语法有一个疑问`unapply`：为什么在`case`第 8 行中，值`x`实际上在`=>`? 我可以假设编译器隐式添加了这样的赋值吗？

```
// ...
case /* val x = i */ MatchLess(x) => print(x + " ") // line 8 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-27T06:13:04.327

写`case MatchLess(x) => ...`的时候意思如下：

1.  执行 unapply 方法
2.  如果成功，则将变量 (here) 绑定到此处of`x`返回的值（否则，模式不匹配，请转到以下内容。`unapply``i``Some(i)`

因此**，在您的特定情况下**，与 .`x`绑定的值相同`i`。但是，如果不是`Some(i)`函数`MatchLess.unapply`返回其他东西（例如`Some(42)`） x 将被绑定到`42`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T06:15:10.827

查看[语言规范](http://www.scala-lang.org/node/198)，关于模式匹配的第 8 节：

```
Syntax:
Pattern ::= Pattern1 { ‘|’ Pattern1 }
Pattern1 ::= varid ‘:’ TypePat
| ‘_’ ‘:’ TypePat
| Pattern2
Pattern2 ::= varid [‘@’ Pattern3]
| Pattern3
Pattern3 ::= SimplePattern
| SimplePattern {id [nl] SimplePattern}
SimplePattern ::= ‘_’
| varid                                                 // <- 2)
| Literal
| StableId
| StableId ‘(’ [Patterns] ‘)’                           // <- 1)
| StableId ‘(’ [Patterns ‘,’] [varid ‘@’] ‘_’ ‘*’ ‘)’
| ‘(’ [Patterns] ‘)’
| XmlPattern
Patterns ::= Pattern {‘,’ Patterns} 
```

`MatchLess(x)`被标识为`SimplePattern`(1)，并且括号之间的表达式，根据上述，通过 Patterns -> Pattern -> Pattern1 -> Pattern2 -> Pattern3 -> SimplePattern -> varid (2) 来标识。这种可变模式被描述为：

> 变量模式*x*是一个以小写字母开头的简单标识符。它匹配任何值，并将变量名绑定到该值。x 的类型是从外部给出的模式的预期类型。

在您的示例中，`unapply`调用 on `i`，*结果*绑定到`x`.

# android - Robotium 中的快速滚动

> ID：11682196
> 
> 赞同：1
> 
> 时间：2012-07-27T05:53:45.550
> 
> 标签：android, scroll, robotium

我为我的 Android 项目创建了一个测试项目。在我的应用程序中有一个包含大量数据的列表视图。我需要使用 Robotium 上下滚动这个列表视图。我已经使用了`scrollUp()`and`scrollDown()`函数，但是它滚动得太慢了。

我正在使用 Robotium 3.3。有什么方法可以快速滚动吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-30T05:00:49.993

```
int screenWidth = getActivity().getWindowManager().getDefaultDisplay().getWidth();
int screenHeight = getActivity().getWindowManager().getDefaultDisplay().getHeight();

         int fromX, toX, fromY, toY = 0,stepCount=1;

         // Scroll Down // Drag Up
         fromX = screenWidth/2;
         toX = screenWidth/2;
         fromY = (screenHeight/2) + (screenHeight/3);
         toY = (screenHeight/2) - (screenHeight/3);

solo.drag(fromX, toX, fromY, toY, stepCount); 
```

这里

[1] 步数=1；// 非常快的滚动

[2] 步数=10；// 中等滚动

[3] 步数=17；// 慢滚动

因此，您可以根据滚动所需的速度调整“stepCount”值。

我希望这将帮助您更好地滚动列表视图。谢谢。

# java - Cassandra 中的键空间模式导入和导出

> ID：11682197
> 
> 赞同：6
> 
> 时间：2012-07-27T05:53:55.110
> 
> 标签：java, cassandra

我在我的系统上安装了 Cassandra 1.1.2 作为单节点集群，并具有三个键空间`hotel`：`student`和`employee`. 如果可能，我想转储`hotel`其列族数据的键空间模式，并在其他 Cassandra 集群上恢复转储。有人可以详细建议我该怎么做吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-27T07:31:12.650

您可以使用`sstable2json`和`json2sstable`cassandra 工具

查看相同的 Datastax[文档](http://www.datastax.com/docs/0.7/utilities/sstable2json)，[这](http://wiki.apache.org/cassandra/Operations#Import_.2BAC8_export)也是

```
Usage: sstable2json [-f outfile] <sstable> [-k key [-k key [...]]]
Usage: json2sstable -K keyspace -c column_family <json> <sstable> 
```

您始终可以在文件中执行 cassandra-cli 命令

```
cassandra-cli -h HOST -p PORT -f fileName 
```

您可以将所有创建语句加载到文件中并执行此命令

要获取 cli 脚本来创建键空间和列族，请在 cassandra-cli 界面中使用以下命令

```
show schema 
```

但是如果你想创建一个包含两个节点的集群。您不需要执行以上所有操作。只需使用不同的令牌范围和相同的集群名称启动另一个节点就可以了。Cassandra 在内部将设法流式传输数据和模式信息

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-02-27T11:46:23.570

我不建议使用`stable2json`并`json2sstable`加载大量数据。它使用 jackson API 创建数据集并将其转换为 json 格式。它意味着将所有数据加载到内存中以创建唯一的 json 表示。

少量数据就可以了，现在想象一下要加载超过 4000 万行的大型数据集，大约 25GB 的数据，这些工具根本无法正常工作。我已经在没有澄清的情况下向 datastax 人员询问过。

对于大型数据集，只需将 cassandra 数据文件从一个集群复制到另一个集群即可解决问题。在我的例子中，我试图从 Cassandra 1.0.6 集群迁移到 1.2.1，数据文件在这个版本之间不兼容。

解决办法是什么？我只是在编写自己的导出/导入工具来解决这个问题。我希望尽快发布此工具的链接。

# glassfish - 收到后JMS过期不起作用

> ID：11682202
> 
> 赞同：0
> 
> 时间：2012-07-27T05:54:36.057
> 
> 标签：glassfish, jms, openmq

标题可能令人困惑，但这是我想要完成的。我想从 1 个 ejb 向另一个 ejb 发送 jms 消息，第 2 个 ejb 有一个消息侦听器，现在可以正常工作。但我希望第一个 ejb 创建一个临时目标队列，第二个 ejb 将在其中响应 - 这也可以正常工作。

我的问题出在第二个 ejb 中，它正在调用第 3 方 Web 服务，该服务有时会在很长一段时间后响应，并且临时队列应该在那个时候到期。但问题是它不符合[java.net：http://java.net/projects/mq/lists/users/archive/2011-07/message/22](http://java.net/projects/mq/lists/users/archive/2011-07/message/22)

```
The message hasn't been delivered to a client and it expires -- in this case, the message is deleted when TTL is up.
The message is delivered to the JMS client (it's in-flight). Once this happens, since control is handed to the jms client, the broker cannot expire the message.
Finally, the jms client will check TTL just before it gives the message to the user application. If it's expired, we will not give it to the application and it will send a control message back to the broker indicating that the message was expired and not delivered. 
```

所以，收到了，但还没有回复。然后在它写入临时队列的时候它应该已经过期但由于某种原因我仍然能够写入队列并且我的 imq 日志中有 ff：

```
1 messages not expired from destination jmsXXXQueue [Queue] because they have been delivered to client at time of the last expiration reaping 
```

是否有另一种实现可以检测临时队列是否已过期？以便我可以执行另一组操作？因为我现在的问题是 ejb2 响应较晚，并且 ejb1 没有更多的 jms 阅读器，因为它已经消失了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T03:13:24.073

它现在可以工作了，我的解决方案是将第一个无状态 bean（第一个 jms 消息的来源）包装在一个 bean 托管事务中。请参见下面的代码：

```
@Stateless
@TransactionManagement(TransactionManagementType.BEAN)
@LocalBean
public class MyBean {
    public void startProcess() {
        Destination replyQueue = send(jmsUtil, actionDTO);
        responseDTO = readReply(jmsUtil, replyQueue, actionDTO);
        jmsUtil.dispose();
    }

    public Destination send(JmsSessionUtil jmsUtil, SalesOrderActionDTO soDTO) {
        try {
            utx.begin();
            jmsUtil.send(soDTO, null, 0L, 1,
                    Long.parseLong(configBean.getProperty("jms.payrequest.timetolive")), true);
            utx.commit();
            return jmsUtil.getReplyQueue();
        } catch (Exception e) {
            try {
                utx.rollback();
            } catch (Exception e1) {

            }
        }
        return null;
    }

    public ResponseDTO readReply(JmsSessionUtil jmsUtil, Destination replyQueue,
                SalesOrderActionDTO actionDTO) {
            ResponseDTO responseDTO = null;
        try {
            utx.begin();

            responseDTO = (ResponseDTO) jmsUtil.read(replyQueue);

            if (responseDTO != null) {
                //do some action
            } else { // timeout
                ((TemporaryQueue) replyQueue).delete();
                jmsUtil.dispose();
            }
            utx.commit();
            return responseDTO;
        } catch (Exception e) {
            try {
                utx.rollback();
            } catch (Exception e1) {
            }
        }
        return responseDTO;
    }
} 
```

# c# - XPATH 为具有命名空间的 XML 返回 null

> ID：11682203
> 
> 赞同：2
> 
> 时间：2012-07-27T05:54:40.203
> 
> 标签：c#, asp.net, xml, xpath

我有以下 XML。

```
<ArrayOfString xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://localhost/gsainis/GsaInisWebService">
    <string>
        <gsafeed>
            <group action="add">
                <record>
                 ......
                 ......
                </record>
            </group>
        </gsafeed>
   </string>
</ArrayOfString> 
```

我正在使用 C# 代码 (.NET 4.0) 来解析这个 XML。我正在使用下面的代码来选择`<record>`上述 XML 中的所有节点。

```
XmlNamespaceManager xmlnsmgr = new XmlNamespaceManager(INISRecordXMLdoc.NameTable);
xmlnsmgr.AddNamespace("xsi", "http://www.w3.org/2001/XMLSchema-instance");
xmlnsmgr.AddNamespace("xsd", "http://www.w3.org/2001/XMLSchema");
xmlnsmgr.AddNamespace(string.Empty, "http://localhost/gsainis/GsaInisWebService");

foreach (XmlNode node in INISRecordXMLdoc.SelectNodes("//ArrayOfString/string/gsafeed/group/record",xmlnsmgr))
{
    //Do something
} 
```

问题是永远不会执行 foreach 循环。应该使用什么正确的 XPath 才能获得所有`<record>`节点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-27T06:04:24.257

试试这个 - 我过去遇到过“空”XML前缀的问题：

```
XmlNamespaceManager xmlnsmgr = new XmlNamespaceManager(INISRecordXMLdoc.NameTable);
xmlnsmgr.AddNamespace("ns", "http://localhost/gsainis/GsaInisWebService");

foreach (XmlNode node in INISRecordXMLdoc.SelectNodes("//ns:ArrayOfString/ns:string/ns:gsafeed/ns:group/ns:record", xmlnsmgr))
{
   // Do something
} 
```

使用空字符串以外的其他内容 - 并在 XPath 中使用该 XML 命名空间前缀。

# android - 这是否可以收到所有到达 Android 手机的电子邮件的通知？

> ID：11682204
> 
> 赞同：0
> 
> 时间：2012-07-27T05:54:48.793
> 
> 标签：android, android-intent, broadcastreceiver, jakarta-mail

是否有可能在任何电子邮件地址的电子邮件到达 Android 手机时以某种方式得到通知（无论此帐户使用的是默认电子邮件应用程序还是任何其他电子邮件客户端）？

我正在使用 Java 邮件 API。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T13:15:32.597

很可能您必须`BroadcastReceiver`为传入的电子邮件定义监听。
现在，您应该将调查重点放在发现`Intent`新电子邮件到达时触发的内容上。

请注意，这可能是特定于每个应用程序的，其他邮件客户端可能根本不会发送任何 Intent。

# timeout - 我可以从我的 php 代码中更改 default_socket_timeout 吗？

> ID：11682207
> 
> 赞同：18
> 
> 时间：2012-07-27T05:55:11.723
> 
> 标签：timeout, php

在我的 php 脚本中，我恢复了 db2 数据库备份。他们变得越来越大。所以现在我在执行脚本后 +-30 分钟后收到 500 服务器错误。`(mod_fastcgi.c.3352) response not received, request sent: 634 on socket: tcp:127.0.0.1:9090 for /wrational/restoredb.php?mode=restore&database=RATIONAL, closing connection`php-errors.log 文件中有这一行。

我认为设置 `set_time_limit(6000);1 可以解决问题，但事实并非如此。

增加`default_socket_timeout`php.ini 文件就可以了。

有什么办法可以改变`default_socket_timeout`php 代码？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-07-27T05:59:46.130

使用这个 PHP 命令：

```
ini_set("default_socket_timeout", 6000); 
```

或使用以下行添加/更新 .htaccess 文件：

```
php_value default_socket_timeout 6000 
```

检查当前值`phpinfo()`

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-08-07T10:25:29.687

请注意，php 在 default_socket_timeout 和 SSL 方面存在错误。如果您使用 HTTPS/SSL，它将无限等待。

[https://bugs.php.net/bug.php?id=41631](https://bugs.php.net/bug.php?id=41631)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T06:51:07.927

您可以添加/更新 .htaccess 文件行 php_value default_socket_timeout 6000

# listview - wicket：如何在 ListView 中获取下拉列表选择的值

> ID：11682208
> 
> 赞同：2
> 
> 时间：2012-07-27T05:55:15.050
> 
> 标签：listview, wicket, dropdownchoice

我有一个页面，有一些下拉列表。加载页面时，根据列表，将显示一些下拉列表。现在想在列表视图中获取下拉列表选择的值，但我无法获得下拉选择选择的值。我该怎么做做得到这个值？

谁能告诉我如何实现这一目标。

html代码：

```
<table>
    <tr wicket:id="tritems">
        <th align="right"><span wicket:id="lblattr"></span></th>
        <td><select wicket:id="attrvalue"></select></td>
    </tr>
    <tr><th align="right"><wicket:message key="targetsystem" /></th><td><select wicket:id="targetsystem" /></td></tr>
</table> 
```

爪哇代码：

```
final ListView trView=new ListView("tritems", new PropertyModel(this, "attrBizRoles")) { 
        private IBizRole attrvalueBizRole=new BizRole();    

        @Override 
        protected void populateItem(ListItem item) { 
                attrBizRole = (IBizRole) item.getModelObject(); 
                item.add(new Label("lblattr", attrBizRole.getName())); 
                // this list can get from attr 
                attrvalueBizRoles = (List<IBizRole>) attrBizRole.getChildBizRole(); 
                if (attrvalueBizRoles.size()>0) { 
                        attrvalueBizRole=attrvalueBizRoles.get(0); 
                } 
                DropDownChoice attrvalueChoice = new DropDownChoice("attrvalue",new PropertyModel<IBizRole>(this, "attrvalueBizRole"), attrvalueBizRoles,new IChoiceRenderer() { 

                        @Override 
                        public Object getDisplayValue(Object object) { 
                                attrvalueBizRole = (IBizRole) object; 
                                return attrvalueBizRole.getName(); 
                        } 

                        @Override 
                        public String getIdValue(Object object, int index) { 
                                attrvalueBizRole = (IBizRole) object; 
                                return String.valueOf(attrvalueBizRole.getId()); 
                        } 
                }); 
                item.add(attrvalueChoice); 
        } 
}; 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T07:50:20.293

PropertyModel(this, "attrvalueBizRole")

您的所有项目似乎都写入列表视图的同一字段“attrvalueBizRole”。这可能不是您想要的。

你的IBizRole没有属性，可以直接绑定下拉吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-03-05T16:31:20.307

在添加“ListView”之前添加一个**新的 HiddenField**。它将存储选定的值：

```
//Note:: your model have to have "getRowSelected()" and "setRowSelected()" methods and "String rowSelected" field...  
add(new HiddenField<String>("rowSelected", new PropertyModel<String>(getModelObject(), "rowSelected"))){    
        @Override
        protected void onInitialize() {
            add(new AjaxFormComponentUpdatingBehavior("change") {

                @Override
                protected void onEvent(AjaxRequestTarget target) {
                    getValue();//This method will return your selected value
                }
            });
        }
    }); 
```

在您的 populateItems() 中，您必须设置**“数据值”**属性：

```
@Override 
protected void populateItem(ListItem item) { 
    //TODO::
    item.add(new AttributeModifier("data-value",attrvalueBizRole.getId())
    //TODO::
} 
```

在您的 HTML 页面中，您必须**在 ListView 之前**添加一个**隐藏字段**

 **```
<input type="hidden" name="rowSelected" wicket:id="rowSelected"/>//<--
<tr wicket:id="tritems">
    <th align="right"><span wicket:id="lblattr"></span></th>
    <td><select wicket:id="attrvalue"></select></td>
</tr> 
```**

# java - 返回arraylist的Java返回方法？

> ID：11682212
> 
> 赞同：17
> 
> 时间：2012-07-27T05:55:38.607
> 
> 标签：java

我有一个类有这样的方法：

```
public ArrayList<Integer> myNumbers()    {
    ArrayList<Integer> numbers = new ArrayList<Integer>();
    numbers.add(5);
    numbers.add(11);
    numbers.add(3);
    return(numbers);
} 
```

我如何在另一个类中调用此方法？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-07-27T05:58:27.457

**1.**如果要调用该方法的类在同一个包中，则创建该类的实例并调用该方法。

**2.**使用`Composition`

**3.**最好有一个`Generic ArrayList`like `ArrayList<Integer>`etc...

**例如：**

```
public class Test{

public ArrayList<Integer> myNumbers()    {
    ArrayList<Integer> numbers = new ArrayList<Integer>();
    numbers.add(5);
    numbers.add(11);
    numbers.add(3);
    return(numbers);
 }
}

public class T{

public static void main(String[] args){

   Test t = new Test();
   ArrayList<Integer> arr = t.myNumbers();        // You can catch the returned integer arraylist into an arraylist.
 }

} 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-07-27T05:59:15.733

假设你有这样的事情：

```
public class MyFirstClass {
   ...
   public ArrayList<Integer> myNumbers()    {
    ArrayList<Integer> numbers = new ArrayList<Integer>();
    numbers.add(5);
    numbers.add(11);
    numbers.add(3);
    return(numbers);
   }
   ...
} 
```

您可以像这样调用该方法：

```
public class MySecondClass {
    ...
    MyFirstClass m1 = new MyFirstClass();
    List<Integer> myList = m1.myNumbers();
    ...
} 
```

由于您尝试调用的方法不是*static*，因此您必须创建提供此方法的类的实例。创建实例后，您将可以访问该方法。

请注意，在上面的代码示例中，我使用了这一行：`List<Integer> myList = m1.myNumbers();`. 这可以通过以下方式进行更改：`ArrayList<Integer> myList = m1.myNumbers();`。但是，通常建议对接口进行编程，而不是对具体实现进行编程，因此我对您使用的方法的建议是执行以下操作：

```
public List<Integer> myNumbers()    {
    List<Integer> numbers = new ArrayList<Integer>();
    numbers.add(5);
    numbers.add(11);
    numbers.add(3);
    return(numbers);
   } 
```

这将允许您将该列表的内容分配给实现该`List`接口的任何内容。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-07-27T05:57:56.143

您需要实例化它包含的类，或使方法静态。

因此，如果它包含在 Foo 类中：

```
Foo x = new Foo();
List<Integer> stuff = x.myNumbers(); 
```

或者简写：

```
List<Integer> stuff = new Foo().myNumbers(); 
```

或者如果你让它像这样静态：

```
public static List<Integer> myNumbers()    {
    List<Integer> numbers = new ArrayList<Integer>();
    numbers.add(5);
    numbers.add(11);
    numbers.add(3);
    return(numbers);
} 
```

你可以这样称呼它：

```
List<Integer> stuff = Foo.myNumbers(); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-27T05:59:47.077

```
List<Integer> numbers = new TheClassName().myNumbers(); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-27T05:58:14.937

如果 Foo 是包含此方法的类

```
class Foo{
  public ArrayList<Integer> myNumbers()    {
     //code code code
  }
} 
```

然后

```
new Foo().myNumbers(); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-07-27T05:58:30.977

```
MyClass obj = new MyClass();
ArrayList<Integer> numbers = obj.myNumbers(); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-27T05:59:01.003

您可以在其他课程上使用

```
public ArrayList<Integer> myNumbers = new Foo().myNumbers(); 
```

或者

```
Foo myClass = new Foo();
 public ArrayList<Integer> myNumbers = myclass.myNumbers(); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-04-16T01:39:13.750

可以调用您的方法，并且可以像这样存储arraylist

```
YourClassName class = new YourClassName();
Arraylist<Integer> numbers = class.numbers(); 
```

这也允许在此类中进一步操作数组列表

# asp.net - Global.asax 中的“解析器错误消息：无法加载类型”

> ID：11682216
> 
> 赞同：227
> 
> 时间：2012-07-27T05:56:12.893
> 
> 标签：asp.net, asp.net-mvc-3

我正在开发一个 MVC3 项目并收到以下错误：

> 解析器错误消息：无法加载类型“GodsCreationTaxidermy.MvcApplication”。

源错误：

> 第 1 行：`<%@ Application Codebehind="Global.asax.cs" Inherits="GodsCreationTaxidermy.Core.MvcApplication" Language="C#" %>`

我得到的错误是无法加载 GodsCreationTaxidermy.Core.MvcApplication 但在此屏幕截图中，核心部分未显示在错误中：

![错误页面截图](../Images/e0a763987013fb52cdf6d6d7097bfbbe.png)

有没有人对此错误有任何想法或解决方案？

* * *

## 回答 #1

> 赞同：246
> 
> 时间：2013-03-14T16:40:27.330

检查项目输出路径（项目属性/构建）是否**设置**`bin`为 **`bin\Release``bin\Debug`**

 **出于某种原因，IIS（VS 开发服务器或本地 IIS）总是从目录访问库`bin`（并且不会查找子目录）

* * *

## 回答 #2

> 赞同：186
> 
> 时间：2012-08-08T21:56:48.860

您的本地 Web 服务器运行的代码与您实际工作的代码不同。确保您已停止调试，停止本地 Web 服务器，按照 Peter 的建议清理和重建，仔细检查您的 global.asax 和 global.asax.cs，然后重试。

如果这不起作用并且您使用的是本地 IIS，请尝试在 IIS 管理器中删除该站点并手动重新创建它。

* * *

## 回答 #3

> 赞同：39
> 
> 时间：2012-07-27T06:31:04.170

尝试修改 global.asax 文件（简单地在某处添加空格）并重新运行。这将强制内置网络服务器刷新并重新编译 global.asax 文件。

也做一个干净和重建 - 应该解决问题

* * *

## 回答 #4

> 赞同：33
> 
> 时间：2014-05-06T05:22:27.953

如果在生成后更改命名空间信息（项目或类级别），有时会发生这种情况`global.asax`。

右键单击`Global.asax`文件并选择“打开方式”，然后选择“带编码的 XML（文本）编辑器”（其他编辑器也可以工作，但这是我使用的）。

然后编辑 XML 指令中的“继承”部分

> <%@ Application Codebehind="Global.asax.cs" **Inherits="GodsCreationTaxidermy.MvcApplication"** Language="C#" %>)

以便它与您的应用程序类的实际全名匹配。就是这样。

另一种选择是从 Global.asax.cs 中复制所有代码，然后删除并创建另一个 Global.asax 文件（然后将代码复制回 Global.asax.cs）。

* * *

## 回答 #5

> 赞同：24
> 
> 时间：2014-04-14T06:33:14.440

我关闭并重新打开了视觉工作室，它起作用了。

* * *

## 回答 #6

> 赞同：19
> 
> 时间：2014-12-03T22:41:39.937

我不得不去 BUILD -> CONFIGURATION MANAGER 并且——咳咳——选中我的项目旁边的框以确保它确实被构建了。

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2017-04-06T09:14:31.820

我今天遇到了这个问题，我花了一段时间才找到原因。

基本上，我的主要 VS2015 项目包括一个使用更高版本的 .Net Framework 构建的子项目。

奇怪的是，当你遇到这个问题时，VS2015 会很高兴地报告解决方案已经构建好，但是当你尝试运行该网站时，它只会给你一个误导性的错误，表明你的`Global.asax.cs`文件是错误的。

因此，如果您看到此错误，并且清理/重建没有帮助，请打开您的项目`References`树，并检查感叹号。

[![在此处输入图像描述](../Images/8fad5eb3adddff551d0ec37cd849845d.png)](https://i.stack.imgur.com/03KYx.png)

另外，请检查您的`Output`窗口是否有类似这样的消息：

```
The primary reference "C:\Projects\Business Objects 4\bin\Release\BusinessObjects.dll" 
could not be resolved because it was built against 
the ".NETFramework,Version=v4.5" framework. 
This is a higher version than the currently targeted framework
".NETFramework,Version=v4.0". 
```

当然，解决方案是右键单击您的主项目，选择顶部选项卡“应用程序”，然后将目标框架版本更改为与您的子项目匹配的更高版本。

令人讨厌的是，Visual Studio 2015 将让您完全构建和运行悄悄包含此问题的解决方案。这是自找麻烦..！

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2015-02-12T19:04:05.457

我刚刚在 MVC5 应用程序上遇到了这个问题，但没有什么对我有用。这发生在我尝试将 SVN 还原到项目的旧版本之后。

我不得不**删除**global.asax.cs，然后通过右键单击 Project -> Add New Item -> Global.asax 添加一个新项目，最终修复它。

只是认为它可能会帮助某人。

* * *

## 回答 #9

> 赞同：3
> 
> 时间：2015-08-27T20:20:03.823

我正在开发一个较旧的“基于文件夹”的 ASP.NET Web 项目（我讨厌它）——发现这是我的解决方法：

创建一个`App_Code`文件夹（如果您还没有）

将`Global.asax.vb`文件移动到文件`App_Code`夹中

Global.asax 中的标记可以省略任何命名空间（至少，对于这种风格的项目，afaik）：

```
<%@ Application Codebehind="Global.asax.vb" Inherits="MyApp" Language="VB" %> 
```

...其中“MyApp”是 Global.asax.vb 中定义的类的名称

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2018-01-29T11:14:00.803

“BUILD -> CONFIGURATION MANAGER 和 - 咳咳 - 选中我的项目旁边的框，以确保它真的被构建了。” 那并转到Windows资源管理器中的项目文件夹，按选项并取消选中“只读”复选框有帮助。

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2013-06-01T00:43:50.843

您还可以在 IIS 中检查站点的属性。（在 IIS 中，右键单击站点并选择属性。）确保物理路径设置指向您的应用程序而不是其他应用程序的正确路径。（这为我解决了这个错误。）

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2013-10-01T16:36:13.787

清空 bin 文件夹。构建所有依赖的类库并在主项目中引用它们，并构建完整的解决方案。

[来源](http://forums.asp.net/t/928924.aspx)

* * *

## 回答 #13

> 赞同：2
> 
> 时间：2015-05-15T20:01:22.527

我必须报告我从这篇文章中尝试了至少 4 条建议。他们都没有工作。然而，我很高兴地报告，我通过从备份中检索恢复。只需要从日志文件更新我最后的代码更改。花了不到10分钟。花了 3 次阅读这篇文章并尝试其他建议。对不起。

这是一个非常奇怪的错误。祝其他遇到这个小鬼的人好运。

* * *

## 回答 #14

> 赞同：2
> 
> 时间：2015-08-12T07:49:12.317

当我有 2 个运行相同项目的 Visual Studio 实例时，我遇到了同样的问题。所以我关闭了 Visual Studio 并只打开了一个实例，现在它工作正常！

* * *

## 回答 #15

> 赞同：2
> 
> 时间：2018-12-02T22:57:56.527

`.vs`从解决方案根目录中删除该目录。干净的。重建。

这个问题有时会让我发疯，我不可避免地会在这里翻阅答案。我怀疑有多种原因会产生此异常，这曾经对我有用。

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2013-08-03T07:35:48.640

通过授予文件夹的正确权限以及从 IIS 进行检查，我解决了这个问题。

当我在本地环境中进行测试时，我获得了所有人的许可。但在发布模式下，我认为我们只授予 ASP.Net 用户权限。

* * *

## 回答 #17

> 赞同：1
> 
> 时间：2015-08-26T09:39:13.487

我也面临同样的问题。尽管遵循了每个答案，但它没有用。然后我将“Inherits= **namespace.class** ”更改为“Inherits=**全限定汇编名称**”，即“Inherits= **namespace.class,assemblyname, Version=, Culture=, PublicKeyToken=** ” 希望对您有所帮助。

* * *

## 回答 #18

> 赞同：1
> 
> 时间：2017-11-28T17:34:21.460

如果您从同一个解决方案运行 Web 和 WebApi，不小心忘记将 VS 解决方案设置为“多个启动项目”，也会发生这种情况。

您可以通过右键单击解决方案资源管理器中的解决方案并选择“属性”来检查这一点。然后查找“启动项目”。

* * *

## 回答 #19

> 赞同：1
> 
> 时间：2019-12-02T12:06:29.490

对我来说，解决方案不是上述任何一种。我不得不删除（而不是重新创建）Global.asax 和 Global.asax.cs。这些文件存在于文件夹中，即使项目中没有引用它们。显然，构建仍然看到它们。由于我将 OWIN 与 Startup.cs 一起使用，因此 Global.asax 文件已过时，删除它没有问题。

* * *

## 回答 #20

> 赞同：1
> 
> 时间：2020-03-02T15:12:49.503

是的，我阅读了所有答案。但是，如果你是我，并且一直在拔掉你剩下的头发，那么请尝试检查 \bin 文件夹。像大多数 proj 文件一样，可能在 XML 元素下分组了多个配置`PropertyGroup`，然后我将`OutputPath`值从 'bin\Debug' 更改为删除 '\Debug' 部分并重新构建。这会将文件放置在 \bin 文件夹中，从而允许 Express IIS 查找并加载构建。我想知道管理这些不同构建的正确方法是什么，以便本地调试部署能够找到并加载目标环境。

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2013-09-25T06:41:30.547

我也遇到了同样的错误...检查您正确开发的应用程序的名称，即。分配的命名空间和程序集名称，并尝试物理更改为应用程序创建的文件夹的名称，所有这些都应与文件 global.asax 中存在的上述命名空间中的名称相同

* * *

## 回答 #22

> 赞同：0
> 
> 时间：2013-10-11T13:40:04.913

我也遇到了同样的错误...检查虚拟目录的 IIS 配置并确保属性 - ASP.NET - ASP.NET 版本与项目属性 - 应用程序 - 目标框架相同。（这为我解决了这个错误。）

* * *

## 回答 #23

> 赞同：0
> 
> 时间：2013-11-18T21:22:28.533

我的应用程序是在旧版本的 VS 中构建的，并且没有 bin 文件夹。我已经将它升级到更新的版本，并且在部署它时做了一场噩梦。我终于将此错误跟踪到项目>属性>应用程序。目标框架设置为 2.0；在服务器上更改它以匹配 IIS 管理器/应用程序池为我解决了这个问题。

* * *

## 回答 #24

> 赞同：0
> 
> 时间：2014-11-04T08:08:34.007

我发现更改项目的命名空间，而不在整个解决方案中对其进行重构是我的问题。检查您的项目属性并查看您的命名空间是什么，确保所有内容都排列整齐。

* * *

## 回答 #25

> 赞同：0
> 
> 时间：2015-06-29T13:44:12.790

我的问题是我的项目中没有包含 global.asax.cs。因为我将文件从 .net 4.5 复制到 4.0，所以我没有注释掉 4.0 中不需要的行。因为它不包括在内，所以无论如何都没有问题地编译它。但是当我包含它时，它突出显示了导致问题的行。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
//using System.Web.Http;
using System.Web.Mvc;
//using System.Web.Optimization;
using System.Web.Routing;

namespace YourNameSpace
{
    public class WebApiApplication : System.Web.HttpApplication
    {
        protected void Application_Start()
        {
            AreaRegistration.RegisterAllAreas();
            //GlobalConfiguration.Configure(WebApiConfig.Register);
            FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);
            RouteConfig.RegisterRoutes(RouteTable.Routes);
            //BundleConfig.RegisterBundles(BundleTable.Bundles);
        }
    }
} 
```

* * *

## 回答 #26

> 赞同：0
> 
> 时间：2016-05-20T16:10:56.503

我花了一天的时间试图解决这个问题。

唯一有效的方法是删除 .sln 文件，创建一个新文件，然后将项目一个一个添加回来。

¯\_(ツ)_/¯ - 编程 - ¯\_(ツ)_/¯

* * *

## 回答 #27

> 赞同：0
> 
> 时间：2017-01-06T12:15:19.193

就我而言，Web 程序集是 GAC 的一部分......所以在构建之后，它需要安装在 GAC 中并且它可以工作。

* * *

## 回答 #28

> 赞同：0
> 
> 时间：2017-02-23T20:12:14.087

我遇到了这个错误信息，最终发现这个错误信息具有误导性。在我的情况下，IIS 中似乎存在路由问题，导致从 Web 服务器上的另一个站点读取 global.asax，从而产生错误。

在 IIS 中，我的站点绑定到 http:*80:webservices.local 并包含一个名为 MyAPI 的应用程序。使用 Web 服务器的 IP 地址调用 MyAPI 应用程序时，我收到了可怕的消息。

为了成功调用我的应用程序，我必须在所有调用 MyAPI 应用程序的机器上为 webservices.local 添加一个主机文件条目。然后我的所有请求都必须以[http://webservices.local/MyAPI/](http://webservices.local/MyAPI/)为前缀才能正确路由。

* * *

## 回答 #29

> 赞同：0
> 
> 时间：2017-04-28T17:28:48.483

我在这里尝试了一切，但没有任何效果。我的项目是在 VS 2013 中。此后我升级到 VS 2015 并在 2015 年创建了我所有的新应用程序，但加载、编译、构建了我在 2013 年在该版本中构建的所有旧应用程序。

我最终只是在 2015 年加载了解决方案，它为我解决了这个问题。

* * *

## 回答 #30

> 赞同：0
> 
> 时间：2017-10-05T14:42:20.490

有两种方法可以得到这个：

*   配置管理器将 dll 构建显示为“64”和“任何 cpu”构建的混合。将它们全部放在同一个版本中可以修复它。

*   在分支之间切换时，IIS 快速路径有时不会更新。右键单击任务栏中的“IIS Express”> 显示所有应用程序并验证路径是否指向正确的分支。

* * *

## 回答 #31

> 赞同：0
> 
> 时间：2018-01-06T20:52:47.547

我在这个问题上花了几天时间。我终于通过这篇文章中的以下建议组合解决了这个问题。

1.  将平台目标更改为任何 CPU。我目前没有这个配置，所以我不得不去配置管理器并添加它。我是专门为 x64 编译的。仅此一项并不能解决错误。
2.  将输出路径更改为`bin\`而不是`bin\x64\Debug`. 在更改平台目标之前，我已经尝试过几次。除了由于格式无效而无法加载程序集的错误之外，它从来没有产生任何影响。

需要明确的是，我必须在它开始工作之前完成这两项工作。我曾多次单独尝试过它们，但直到我都尝试过它才修复它。

如果我将这些设置中的任何一个更改回原始设置，尽管运行了 Clean Solution 并手动删除了`bin`目录中的所有内容，我都会再次收到相同的错误。

* * *

## 回答 #32

> 赞同：0
> 
> 时间：2019-04-16T06:44:44.673

我突然在 VS 2017 中遇到了这个问题，花了我一整天的时间浏览了 100 个解决方案，其中任何一个都不起作用。然后，我采用了整个解决方案，并在安装了 VS 2017 的不同机器上启动了它。它终于成功了。比在原始版本上重新安装 VS 2017 并且它也开始在其上运行。我强烈建议您在浪费大量时间进行调试之前在另一台机器上尝试您的解决方案，因为在我看来，这是 VS 2017 中的一个 BUG，已向 VS TEAM 报告了相同的情况。希望这可以帮助任何悲伤的人。干杯。

* * *

## 回答 #33

> 赞同：0
> 
> 时间：2020-03-02T00:16:01.297

我最近在一个 Web 应用程序中遇到了这种情况。问题是一个nuget包带来了依赖：Microsoft.Net.Compiler和Microsoft.Code.Dom

它们支持多级编译器版本..

这将我的应用程序转换为 ASP.NET 网站而不是 Web 应用程序 .. 花了我很长时间来解决这个问题 - 2.5 天！！！

我从 Nuget Manager 中删除了这些文件，删除了 obj 和 bin 目录中的文件 - 关闭了工作室 - 然后重新打开并重建了项目。那解决了它，但是

那是多么痛苦啊！！

我希望我能节省一些其他人的时间！

* * *

## 回答 #34

> 赞同：0
> 
> 时间：2021-12-01T20:32:39.917

我有一个非常古老的解决方案。事实证明，真正的问题是这些项目正在构建到 4.6.1，而不是构建其余引用的 DLL - 4.7.2。将解决方案中的所有项目更改为 4.7.2 后，它成功构建并运行了应用程序。

* * *

## 回答 #35

> 赞同：0
> 
> 时间：2022-01-09T07:48:41.837

我以非常简单的方式修复了它。您所要做的就是删除文件`ProjectName\bin`夹中的所有文件，然后从 Visual Studio 顶部菜单栏中`Build->Rebuild Solution`再次重建项目，您就完成了。现在尝试运行该项目。这个过程在 Visual Studio 2022 中对我有用。

* * *

## 回答 #36

> 赞同：-2
> 
> 时间：2016-06-17T03:26:21.190

无法在您的项目中加载错误 **`firstly Fix your errors and after rebuild project its working`**

* * *

## 回答 #37

> 赞同：-2
> 
> 时间：2017-06-24T22:16:04.560

我以这种方式解决了这个问题：只需修复 Global.asax 中的**命名空间**。**

# maven - 从哈德逊作业运行声纳时出现maven错误

> ID：11682220
> 
> 赞同：2
> 
> 时间：2012-07-27T05:56:43.333
> 
> 标签：maven, hudson, jenkins, sonarqube

我们试图在我们的 Hudson CI 中实现静态代码分析器，并按照[这里](https://stackoverflow.com/questions/11657620/how-to-hook-pmd-clover-in-hudson-build-using-maven)提到的那样尝试，但是，我遇到了使用 SONAR 来实现相同的功能。我们执行了以下步骤，但在运行 Hudson Job 时出现错误

1.  安装声纳并运行
2.  在 Hudson 中安装 Sonar 插件并使用声纳实例详细信息配置 hudson
3.  为已定义的作业配置声纳详细信息
4.  hudson 作业成功运行，直到将 WAR 文件部署到 Tomcat6，但在启动声纳操作时失败。

    我们在 Hudson 作业控制台中收到以下错误

**java.io.IOException: Cannot run program "mvn.bat" (in directory "D:\Users\abcd.hudson\jobs\QA Build Local\workspace\view"): CreateProcess error=2, 系统找不到文件指定的**

```
mvn.bat -f "D:\Users\abcd\.hudson\jobs\QA Build Local\workspace\view\msaccess\MyApp\Code\appone\pom.xml" -e -B sonar:sonar -Dsonar.host。 url=http://localhost:9000/ -Dsonar.language=java
致命：命令执行失败
java.io.IOException: Cannot run program "mvn.bat" (in directory "D:\Users\abcd\.hudson\jobs\QA Build Local\workspace\view"): CreateProcess error=2, 系统找不到指定文件
    在 java.lang.ProcessBuilder.start(ProcessBuilder.java:459)
    在 hudson.Proc$LocalProc.(Proc.java:192)
    在 hudson.Proc$LocalProc.(Proc.java:164)
    在 hudson.Launcher$LocalLauncher.launch(Launcher.java:639)
    在 hudson.Launcher$ProcStarter.start(Launcher.java:274)
    在 hudson.Launcher$ProcStarter.join(Launcher.java:281)
    在 hudson.tasks.Maven.perform(Maven.java:263)
    在 hudson.plugins.sonar.utils.SonarMaven.executeMaven(SonarMaven.java:138)
    在 hudson.plugins.sonar.SonarPublisher.executeSonar(SonarPublisher.java:300)
    在 hudson.plugins.sonar.SonarPublisher.perform(SonarPublisher.java:261)
    在 hudson.tasks.BuildStepMonitor$3.perform(BuildStepMonitor.java:36)
    在 hudson.model.AbstractBuild$AbstractRunner.perform(AbstractBuild.java:630)
    在 hudson.model.AbstractBuild$AbstractRunner.performAllBuildSteps(AbstractBuild.java:608)
    在 hudson.model.AbstractBuild$AbstractRunner.performAllBuildSteps(AbstractBuild.java:584)
    在 hudson.model.Build$RunnerImpl.post2(Build.java:159)
    在 hudson.model.AbstractBuild$AbstractRunner.post(AbstractBuild.java:553)
    在 hudson.model.Run.run(Run.java:1390)
    在 hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:46)
    在 hudson.model.ResourceController.execute(ResourceController.java:88)
    在 hudson.model.Executor.run(Executor.java:145)
原因：java.io.IOException: CreateProcess error=2, 系统找不到指定的文件
    在 java.lang.ProcessImpl.create（本机方法）
    在 java.lang.ProcessImpl.(ProcessImpl.java:81)
    在 java.lang.ProcessImpl.start(ProcessImpl.java:30)
    在 java.lang.ProcessBuilder.start(ProcessBuilder.java:452)
    ... 19 更多
声纳分析完成：失败

```

我们从命令提示符手动运行 maven-sonar 命令，声纳分析成功完成，结果发布在声纳网站上。

注意：我们观察到 M2_HOME 环境变量未在服务器中设置。这会是一个错误吗？

**修复更新：** 

我们在 windows PATH 环境变量中设置 maven_home\bin 文件夹，然后声纳能够识别 mvn.bat 并运行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T22:08:01.307

Sonar 作为一个单独的 Maven 程序运行。命令行显示在日志顶部：

> mvn.bat -f "D:\Users\abcd.hudson\jobs\QA Build Local\workspace\view\msaccess\MyApp\Code\appone\pom.xml" -e -B sonar:sonar -Dsonar.host.url =http://localhost:9000/ -Dsonar.language=java

这是预期的，您附加了指定此声纳配置的屏幕截图。

您的问题似乎不是作业配置，而是 Jenkins 无法找到“mvn.bat”命令....

> java.io.IOException: Cannot run program "mvn.bat" (in directory "D:\Users\abcd.hudson\jobs\QA Build Local\workspace\view"): CreateProcess error=2, 系统找不到文件指定的

您需要调查如何配置 Maven。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-24T07:42:28.340

我有同样的。就我而言，我必须更改 maven 目录的位置 - 当它位于“c:\Program Files (x86)\wamp\bin\apache-maven-3.2.1\”时它无法运行，但是当我移动它时到“c:\maven”（并更改了系统变量：“路径”，包括“C:\maven\bin”并由我创建“MAVEN_HOME = c:\maven”）。我必须重新启动计算机才能工作 - 通过键入“mvn -version”检查 Windows 控制台（徽标窗口 -> 运行“cmd”），你应该有行“Maven home：C:\maven”

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-18T10:53:51.003

## 安装

*   Jenkins 在 Tomcat 中作为战争安装
*   Tomcat 在 Windows 中作为服务安装

我已经在 Windows 中安装了 Maven 并正确配置了环境变量

## 问题

```
FATAL: command execution failed
java.io.IOException: Cannot run program "mvn.bat" (in directory "C:\.jenkins\workspace\my_project"): CreateProcess error=2, The system cannot find the file specified
    at java.lang.ProcessBuilder.start(ProcessBuilder.java:470)
    at hudson.Proc$LocalProc.<init>(Proc.java:244)
    at hudson.Proc$LocalProc.<init>(Proc.java:216)
    at hudson.Launcher$LocalLauncher.launch(Launcher.java:803)
    at hudson.Launcher$ProcStarter.start(Launcher.java:381)
    at hudson.Launcher$ProcStarter.join(Launcher.java:388)
    at hudson.tasks.Maven.perform(Maven.java:328)
    at hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)
    at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:770)
    at hudson.model.Build$BuildExecution.build(Build.java:199)
    at hudson.model.Build$BuildExecution.doRun(Build.java:160)
    at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:533)
    at hudson.model.Run.execute(Run.java:1759)
    at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)
    at hudson.model.ResourceController.execute(ResourceController.java:89)
    at hudson.model.Executor.run(Executor.java:240)
Caused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified
    at java.lang.ProcessImpl.create(Native Method)
    at java.lang.ProcessImpl.<init>(ProcessImpl.java:177)
    at java.lang.ProcessImpl.start(ProcessImpl.java:28)
    at java.lang.ProcessBuilder.start(ProcessBuilder.java:452) 
```

## 解决方案

我已经重新启动了 Tomcat 服务，所以它已经加载了最后配置的 Maven 环境变量，使它们可供 Jenkins 使用。

# php - 可移植地检索 PHP 中的 Subversion 1.7 修订版？

> ID：11682221
> 
> 赞同：1
> 
> 时间：2012-07-27T05:56:52.470
> 
> 标签：php, svn

在 Subversion 1.6 中，`.svn`每个工作副本目录中都有一个目录。我可以使用以下代码快速检索当前修订号，而无需 shell 访问/执行。

```
public function getSubversionRevision() {
    if(file_exists("../.svn/entries")) {
        $svn = File("../.svn/entries");
        return (int)$svn[3];
    }
    return false;
} 
```

Subversion 1.7 打破了这个代码。现在`.svn`每个本地存储库只有一个目录。*此目录中*有一个`entries`文件，但它不再对我有用。看起来我需要的一切现在都在 SQLite 数据库中。具体来说`wc.db`。我想我可以使用 PHP 的 SQLite 函数来获取我需要的信息，但这听起来有点太昂贵，无法在每个（或接近每个）页面加载时运行。

有任何想法吗？中断`exec`函数并希望安装 Subversion 二进制文件（并且在 $PATH 中！）是最后的手段。总而言之，我需要找到一种方法来定位`.svn`存储库根目录的目录（根据您的签出位置可能会有所不同），然后以`wc.db`一种经济有效的方式（可能）解析其中的文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:07:08.167

尝试使用 SVN 库[SVN](http://www.php.net/manual/en/book.svn.php)，因为它可以让您访问存储库信息和 SVN 存储库的更多功能。
查看您将收到的函数[svn_status](http://www.php.net/manual/en/function.svn-status.php)和 svn 存储库信息数组

```
Array (
    [0] => Array (
        [path] => /home/bob/wc/sandwich.txt
        [text_status] => 8 // item was modified
        [repos_text_status] => 1 // no information available, use update
        [prop_status] => 3 // no changes
        [repos_prop_status] => 1 // no information available, use update
        [name] => sandwich.txt
        [url] => http://www.example.com/svnroot/deli/trunk/sandwich.txt
        [repos] => http://www.example.com/svnroot/
        [revision] => 123 // <-- Current Revision
        //..
    )
) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T08:42:12.520

`svn update`您可以每次都为您编写一个脚本，并将更新输出中的修订号废弃到一个文件中。以下 bash 脚本或多或少应该这样做：

```
#!/bin/bash

svn --non-interactive update .. 
svn --non-interactive update .. | perl -p -e "s/.* revision ([\d]*)\./\$1/" > ../version.phtml; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T03:01:21.817

[我在TheHostingTool](https://github.com/TheHostingTool/TheHostingTool/commit/fb35e4b61c2d18f166d88aa690fe9391dda536f1)中实现了 Subversion 1.7 修订检索的笨拙（但相对彻底）的实现。检查提交消息以获取解释。该函数包含在class_main.php 中，它是/trunk (/trunk/includes/class_main.php) 之后的一个目录。您需要根据您的特定需求调整相对路径。这是在 class_main.php 中找到的函数的略微修改版本，可在其他地方使用。

```
public function getSubversionRevision() {
    // This will work for Subverson 1.6 clients and below
    if(file_exists("../.svn/entries")) {
        $svn = File("../.svn/entries");
        return (int)$svn[3];
    }
    // Check the previous directories recursively looking for wc.db (Subversion 1.7)
    $searchDepth = 3; // Max search depth
    // Do we have PDO? And do we have the SQLite PDO driver?
    if(!extension_loaded('PDO') || !extension_loaded('pdo_sqlite')) {
        $searchDepth = 0; // Don't even bother...
    }
    for($i = 1; $i <= $searchDepth; $i++) {
        $dotdot .= '../';
        if(!file_exists("$dotdot.svn/wc.db")) {
            continue;
        }
        $wcdb = new PDO("sqlite:$dotdot.svn/wc.db");
        $result = $wcdb->query('SELECT "revision" FROM "NODES" WHERE "repos_path" = "'.basename(realpath('..')).'"');
        return (int)$result->fetchColumn();
    }
    if($this->canRun('exec')) {
        exec('svnversion ' . realpath('..'), $out, $return);
        // For this to work, svnversion must be in your PHP's PATH enviroment variable
        if($return === 0 && $out[0] != "Unversioned directory") {
            return (int)$out[0];
        }
    }
    return false;
} 
```

如果您不是从 1 开始，`.= '../'`您可能不想使用 str_repeat。或者，您可以简单地`$dotdot`提前定义到您想开始的任何地方。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T18:07:49.060

或者只是查询：

```
SELECT "changed_revision" FROM "NODES" ORDER BY changed_revision DESC LIMIT 1; 
```

如果您想知道整个回购的最后一次修订！:)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-28T21:44:12.013

对不起，但如果你想要可移植和防弹的解决方案，为什么不在 PHP 中调用 Subversion CLI？

如果您只想获取全局修订版，您可以`svn info`在 WC 的任何目录中使用（捕获、解析输出并获取一组数据）`svnversion`

# java - Android java 类 onClickListener

> ID：11682230
> 
> 赞同：2
> 
> 时间：2012-07-27T05:57:54.253
> 
> 标签：java, android, sdk, onclicklistener

如何为 layout_one 中的按钮设置 onClick 侦听器？我把代码放在哪里？当我把它放在 onCreateView 中时，它给了我一个错误。

```
public class LayoutOne extends Fragment {

    Button button;

    public static Fragment newInstance(Context context) {
        LayoutOne f = new LayoutOne();

        return f;
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        ViewGroup root = (ViewGroup) inflater.inflate(R.layout.layout_one, null);

        return root;

    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:04:29.047

设置 Layout 属性`android:clickable="true"`，`android:focusable="true"`并`android:focusableInTouchMode="true"`来自 xml 或`setClickable(true)`来自代码。将 onClickListener 设置为：

```
((LinearLayout)findViewById(R.id.layout_one_id)).setClickable(true);   ((LinearLayout)findViewById(R.id.layout_one_id)).setOnClickListener(layoutOnClickListener);

    private OnClickListener layoutOnClickListener = new OnClickListener() {
            public void onClick(View v) {
               //Get Click here
            }
        }; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T06:08:31.350

如果您这样做，它不会给出任何错误

```
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    ViewGroup root = (ViewGroup) inflater
            .inflate(R.layout.layout_one, null);
    Button button_one=(Button)root.findViewById(R.id.button_one);// button_one is the id of the button in your xml file
    button_one.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub

        }
    });

    return root;

} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T06:09:38.570

不知道你的按钮叫什么，但`onCreateView()`你这样做：

```
button = (Button)root.findViewById(R.id.layout_one_id);
button.setOnClickListener(new View.OnClickListener() {
    public void onClick(View v) {
        //stuff goes in here
    }
}); 
```

您的另一个选择是在 xml 中执行此操作，然后创建一个使用它的方法。例如，设置`Button`s`android:onClick="onButtonClicked"`属性，在代码中你的方法看起来像这样

```
public void onButtonClicked(View v) { /*Stuff*/ } 
```

# sql-server - H2数据库中用于选择数据的存储过程

> ID：11682241
> 
> 赞同：0
> 
> 时间：2012-07-27T05:58:58.757
> 
> 标签：sql-server, database

请帮我为 H2 数据库编写一个存储过程来绑定一个游标并循环通过它来获取数据

另外，我可以在 H2 中运行 MS-SQL 存储过程吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-28T18:53:58.393

MS-SQL 具有非标准的 MS 特定 TSQL 语言功能。如果您的存储过程使用其中任何一种，它不太可能在 H2 中工作。

# java - 无法滚动

> ID：11682242
> 
> 赞同：0
> 
> 时间：2012-07-27T05:58:58.577
> 
> 标签：java, android, eclipse, android-layout, android-emulator

请查看以下负责创建 GUI 的 android xml 文件

```
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_height="fill_parent"
    android:layout_width="fill_parent">

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/textView2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/imageTitle"
        android:textAppearance="?android:attr/textAppearanceLarge" />

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="14dp"
        android:text="@string/imageDate"
        android:textAppearance="?android:attr/textAppearanceLarge" />

    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="match_parent"
        android:layout_height="254dp"
        android:layout_weight="0.34"
        android:src="@drawable/test_image" />

    <TextView
        android:id="@+id/textView3"
        android:layout_width="fill_parent"
        android:layout_height="136dp"
        android:text="@string/imageDescription" />

</LinearLayout>
</ScrollView> 
```

我正在尝试滚动整个屏幕，但它没有发生。上传的图片会让您一目了然。为什么它不滚动？我是 android 新手，这是我的第二个应用程序。请帮忙！ ![日食内部](../Images/a970786d0158e2c080dd092657a66084.png) ![Android内部运行](../Images/ca6fd6c773348309c02389b5c2b45219.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:07:13.570

对于使用滚动视图，如果您有整个视图可滚动，请使用滚动视图作为父布局并使用这样的代码。

```
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:fillViewport="true"> 
```

这 `android:fillViewport="true"`是重要的部分，它允许您为布局填充整个屏幕。如果有任何其他问题问。

正如 android.developer 所说的 fillViewport`Defines whether the scrollview should stretch its content to fill the viewport.`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T06:01:38.250

我认为你应该在 LinearLayout 中使用 wrap_content

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T06:06:11.897

像这样改变这个2

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical" >  

<TextView
     android:id="@+id/textView3"
     android:layout_width="fill_parent"
     android:layout_height="wrap_content"
     android:text="@string/imageDescription" /> 
```

# c# - 无法为条件格式设置大小属性

> ID：11682244
> 
> 赞同：0
> 
> 时间：2012-07-27T05:59:04.690
> 
> 标签：c#, excel, font-size, conditional-formatting

我想根据某些条件在范围上添加条件格式。

我想格式化 Color、Size、Bold 等属性。我可以修改 Color、Bold 属性，但是当我尝试修改 Size 属性时，它会引发异常“无法设置 Font 类的 Size 属性”。

谁能帮助我如何设置条件格式对象的 Size 属性。

也不能设置下标或上标属性。

注意：这些属性也不是只读的。

```
 FormatCondition format =(FormatCondition)( targetSheet.get_Range("A1:A10",
            Type.Missing).FormatConditions.Add(XlFormatConditionType.xlExpression, XlFormatConditionOperator.xlGreater,
            "100", Type.Missing, Type.Missing, Type.Missing, Type.Missing, Type.Missing));

            format.Font.Bold = true;
            format.Font.Color = 0x000000FF;
            format.Font.Size = 14;
            format.Font.Subscript = true; 
```

为了弄清楚实际用例，让我们举一个例子，我在 excel 中有 10*10 的数据。这个 10*10 是具有自己格式的单个 Range。例如 A1 到 J10。现在，如果我选择此范围内的任何单元格，那么其对应的行和列应该得到一个条件格式，并且它会有自己的格式。这包括不同的填充颜色、不同的字体大小、边框的变化等。例如，如果我选择单元格 D4，则范围 A4:J4 和 D1:D10 将应用条件格式。这可以通过在这两个范围上应用格式并选择来完成类型为表达式，其公式为真。现在，如果我选择任何其他单元格，则应将 A4:J4 和 D1:D10 单元格的格式还原，并且应突出显示当前选定单元格的行和列。

我们可以更改格式，例如仅颜色或图案。但它无法设置大小。谁能解释我为什么会这样。可以从用户界面更改大小。即使用条件格式的格式选项。使用它可以更改满足条件的单元格的字体大小、颜色等。

从 UI 中可能发生的事情也应该从代码中实现。

已分享图像以获取视图：http: [//imgur.com/bemI9](http://imgur.com/bemI9)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:15:57.603

我的研究表明：“您不能在条件格式中更改字体”。

我会在 VBA 中这样做：

```
For Each cell In Range("A1:A10")
    With cell
          .Font.Bold = true
          .Font.Color = 0x000000FF
          .Font.Size = 14
    End With
Next 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T15:57:36.133

尝试以下操作（您可以更改颜色值并为字体大小、颜色等添加其他属性）：

```
Dim fontSize As Variant
Dim fontType As Variant
Dim fontBold As Variant
Dim cellIn As Variant

Sub setVars()

    With Range("A1")
        fontSize = .Font.Size
        fontType = .Font.Name
        fontBold = .Font.Bold
        cellIn = .Interior.Color
    End With

End Sub

Private Sub Worksheet_SelectionChange(ByVal Target As Range)

    Application.ScreenUpdating = False
    Application.EnableEvents = False

    Dim r As Range
    Set r = Range("A1:J10")

    With r
        .Font.Size = fontSize
        .Font.Name = fontType
        .Font.Bold = fontBold
        .Interior.Color = cellIn
    End With

    With r.Rows(Target.Row)
        .Interior.ColorIndex = 5
        .Font.Bold = True
    End With

    With r.Columns(Target.Column)
        .Interior.ColorIndex = 5
        .Font.Bold = True
    End With

    Application.ScreenUpdating = True
    Application.EnableEvents = True

End Sub 
```

# javascript - “if(!-[1, ] && !window.XMLHttpRequest)”中的“-[1, ]”是什么意思？

> ID：11682258
> 
> 赞同：5
> 
> 时间：2012-07-27T06:00:07.370
> 
> 标签：javascript

我找到下面的代码，但我无法理解。

```
if (!-[1, ] && !window.XMLHttpRequest) {
    document.execCommand("BackgroundImageCache", false, true);
} 
```

是什么`if(!-[1,])`意思？谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T06:06:14.310

检测旧的 Internet Explorer 是一种 hack。`-[1,]`在`-1`现代浏览器中（如此） `false`，`!`但`NaN`在旧 IE 中（`true`否定）。第一个返回正确结果的版本是 IE9。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-27T06:02:52.443

~~那个确切的代码永远不会产生除 之外的任何东西`false`，所以输入它是无意义的。我假设这是渲染输出，并且取决于某些服务器端变量，有时可能会有所不同。~~

看到它使用`window.XMLHttpRequest`，我意识到它也可能是某种糟糕的浏览器检查形式。`[1,]`创建一个数组，但结尾的逗号会使数组在 Chrome 和 Internet Explorer 中得到不同的处理。Chrome 会将其识别为只有一个数字的数组，可以隐式转换为数字，而 IE 会认为它是包含两个项目的数组，不能转换为数字。

`-[1,0]`将`NaN`在所有浏览器中产生。`-[1]`将`-1`在所有浏览器中产生。因此`-[1,]`将`NaN`在 IE（并因此执行代码）和`-1`其他浏览器（而不执行代码）中产生。

这是一个可怕的黑客攻击。不要使用它。

如果您想知道是否`window.XMLHttpRequest`可行，请专门测试，而不是其他任何东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T06:06:15.400

这是特别糟糕的代码：

`-[1, ]`结果为-1。

`!-[1, ]`永远是假的。

由于 [] 意味着一个数组，这很糟糕，因为如果您在该数组中有多个值，则`-`会给您一个 NaN。

# mysql - 并非所有列都被索引时的 MySQL 优化

> ID：11682259
> 
> 赞同：2
> 
> 时间：2012-07-27T06:00:18.823
> 
> 标签：mysql, sql, optimization, innodb

假设我有一个包含 3 列和数千条记录的表，如下所示：

```
id # primary key
name # indexed
gender # not indexed 
```

我想找到“所有叫亚历克斯的男性”，即一个特定的名字和特定的性别。

天真的方式 ( `select * from people where name='alex' and gender=2`) 在这里是否足够好？或者有没有更优化的方法，比如名字的子查询？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T08:00:50.547

如果创建索引不是一种选择，或者表中有大量数据（或者即使有索引，但您仍想加快步伐），则根据重新排序表通常会产生很大影响到您组合在一起的数据。

我有一个查询要为我的部门汇总 KPI，即使所有内容都已很好地索引，被提取的数据仍在搜索几张表。这意味着在查询将所有正确的行聚合在一起时会访问大量磁盘。我使用重新排序表`alter table tableName order by column1, column2;`，查询从大约 15 秒到在 3 秒内返回数据。因此，数据的物理收集可能会产生重大影响 - 即使表已编入索引并且数据库确切知道从哪里获取它。安排数据以便数据库更容易获得所需的一切将提高性能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-13T16:30:21.607

假设你没有数千条记录，匹配​​名字，只有少数是真正的男性，索引就`name`足够了。一般来说，您不应该索引具有很少carinality 的字段（只有2 个可能的值意味着您将匹配50% 的行，这不证明使用索引是合理的）。

我能想到的唯一有用的例外是，如果您只选择姓名和性别，并且如果将它们都放入索引中，则可以执行`index-covered query`，这比按索引选择行然后从桌子。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T06:11:13.187

一个更好的方法是有一个复合索引。

IE

```
CREATE INDEX <some name for the index> ON <table name> (name, gender) 
```

然后`WHERE`子句可以将它用于名称和性别。

# java - JTable中的垂直滚动条

> ID：11682260
> 
> 赞同：0
> 
> 时间：2012-07-27T06:00:19.463
> 
> 标签：java, swing, jtable, awt, jscrollpane

我有一个带有垂直滚动条的 JTable，当我添加新行时，滚动条将移动到新行。问题是滚动条在框架中可见，但我无法滚动它。

这是我创建jtable的方式

```
 table = new javax.swing.JTable(){
        public boolean isCellEditable(int rowIndex, int colIndex) {
            return false;   //Disallow the editing of any cell
        }
    };

    model = (DefaultTableModel) table.getModel();

    table.setRowHeight(20);

    selectionModel = table.getSelectionModel();
    selectionModel.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);

    // Create a couple of columns
    model.addColumn("ServerIP");
    model.addColumn("Port");
    model.addColumn("Number of Request");
    JTableHeader header = table.getTableHeader();
    Color c = new Color(163, 250, 250);
    header.setBackground(c);
        pane = new JScrollPane(table);
       pane.setViewportView(table);
        pane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS); 

        table.setFocusable(false);

     //when added new row here i call scrollbar

  scrollToNewRow(table, rowCount, 1);
  rowCount++;

private static void scrollToNewRow(JTable table, int row, int col) {
    if (!(table.getParent() instanceof JViewport)) {
        return;
    }
    JViewport viewport = (JViewport)table.getParent();

    // This rectangle is relative to the table where the
    // northwest corner of cell (0,0) is always (0,0).
    Rectangle rect = table.getCellRect(0, 0, true);

    // The location of the viewport relative to the table
    Point pt = viewport.getViewPosition();

    // Translate the cell location so that it is relative
    // to the view, assuming the northwest corner of the
    // view is (0,0)
    rect.setLocation(rect.x-pt.x, rect.y-pt.y);

    // Scroll the area into view
    viewport.scrollRectToVisible(rect);
}

private static JScrollPane getScrollPane(Component c) {
    while ((c = c.getParent()) != null)
        if (c instanceof JScrollPane)
            return (JScrollPane) c;
    return null;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:13:55.223

您总是`getCellRect`在 (0, 0) 处调用单元格。尝试更换：

```
Rectangle rect = table.getCellRect(0, 0, true); 
```

和 ：

```
Rectangle rect = table.getCellRect(row, col, true); 
```

# php - 这个 jQuery 不能在 Mac 上运行，但可以在 Linux 和 Windows 上运行

> ID：11682262
> 
> 赞同：3
> 
> 时间：2012-07-27T06:00:32.503
> 
> 标签：php, jquery, macos

我在这里的浏览器有一些奇怪的经历。下面的这段代码已经上传到这个 URL：[http ://roberthanson.net/index.html](http://roberthanson.net/index.html)

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Untitled Document</title>
<script src="scripts/jquery-1.6.4.min.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function($) {
        $('ul li').click(function() {
            $('input#shareto').val($(this).data('val'));
        });
    });​
</script>
</head>

<body>

<form>
<ul>
<li data-val="0-1">
<a href="#" title="" class="selected"><span class="to-admin">Administrator</span></a>    
</li>

<li data-val="1-1">
<a href="#" title=""><span class="to-finance">Finance</span></a>    
</li>

<li data-val="1-0">
<a href="#" title=""><span class="to-technician">Technician</span></a>
</li>

<li data-val="0-0">
<a href="#" title=""><span class="to-lawyer">Legal</span></a>    
</li>
</ul>
<input id="shareto" type="text" value="1-0" name="shareto">
​
​&lt;/form>​​​​​​​​

</body>
</html> 
```

当我在 Linux 上使用 Microsoft Internet Explorer 和 Firefox 打开时，这些代码运行良好。该值会根据点击的 LI 标签而变化。但我没有看到这种行为发生在我的 Mac 上。我在 Mac 上安装的所有浏览器（Safari、Chrome 甚至 Firefox 本身）的结果都与我在 IE 或 Firefox 上的不同。

只有我有这种经历吗？还是我们有一些额外的代码让它适用于 Mac？之前谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T06:18:04.513

好的，我尝试了您的代码，但它在 Linux 上的 Chromium 上对我不起作用。

我得到的错误`Unexpected token ILLEGAL`在第 12 行。

我将您的代码复制粘贴到 vim 以检查诸如括号匹配和其他可能导致这些问题的内容。这样做后，我在我的 vim 缓冲区中看到了这个：

```
`<200b>` 
```

这就是 vim 在无法渲染字符时所做的事情。快速浏览 Wikipedia 显示 U+200b 是 ZWSP 或零宽度空间。我不知道一个不可见的字符是如何进入您的代码的，但似乎 JavascriptCore，Webkit javascript 引擎不喜欢这些字符，但 V8 和 SpiderMonkey（我认为？无论如何是 FF 的）都可以。

简而言之，解决方法是删除`});`脚本块末尾的不可见字符。您可以像删除任何字符一样执行此操作，只是看不到任何区别。

# install4j - 可配置横幅表单中没有横幅

> ID：11682263
> 
> 赞同：0
> 
> 时间：2012-07-27T06:00:42.990
> 
> 标签：install4j

我添加了一个“可配置的横幅表单”。如果我清除重置“横幅图像”，则横幅将显示默认横幅。我不要横幅。我该如何实施？

我还想更改“可配置横幅表单”中“屏幕标题”的字体。这可能吗？我将如何实现这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-28T16:20:15.690

对没有横幅的表单使用“可配置表单”。目前无法更改标题的字体大小，这是为 install4j 6 计划的。

# sql-server-2005 - sql server 存储过程单引号

> ID：11682267
> 
> 赞同：1
> 
> 时间：2012-07-27T06:01:29.090
> 
> 标签：sql-server-2005, stored-procedures

我对这个程序完全感到困惑。请纠正我在引号中的错误。

```
create procedure queryingsfor 
  @Tabname nvarchar(250),
  @colname nvarchar(250),
  @opname nvarchar(290),
  @valuesname nvarchar(239) 
as
begin
  set NOCOUNT on;
  declare @sql varchar(4000)
  set @sql='select * from' +@Tabname+ 'where' +@colname+''''+@opname+''''+ ''''+@valuesname+''''
  exec(@sql)
end
exec queryingsfor 'education','eduCurrentStudy','=','DME' 
```

我只得到：

> 错误：消息 102，级别 15，状态 1，第 1 行
> “fromeducationwhereeduCurrentStudy”附近的语法不正确。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T06:03:58.973

您可能想在其中添加一些空格

```
set @sql='select * from ' +@Tabname+ ' where ' 
           +@colname+''''+@opname+''''+ ''''+@valuesname+'''' 
```

正确的陈述是这样的

```
set @sql='select * from ' +@Tabname+ ' where '
           +@colname + @opname+ ''''+@valuesname+'''' 
```

或者

更好

```
set @sql='select * from [' +@Tabname+ '] where 
           [' +@colname + ']' + @opname+ ''''+@valuesname+'''' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T06:17:36.180

为了保护您免受[SQL 注入](http://xkcd.com/327/)，您应该这样做。

```
alter procedure queryingsfor 
  @Tabname nvarchar(250),
  @colname nvarchar(250),
  @opname nvarchar(4),
  @valuesname nvarchar(239) 
as
begin
  set NOCOUNT on;
  declare @sql nvarchar(4000)
  set @sql = 'select * from '+quotename(@Tabname)+ ' where ' +quotename(@colname)+@opname+'@valuesname'
  exec sp_executesql @sql, N'@valuesname nvarchar(239)', @valuesname
end 
```

# ruby-on-rails - 如何在给定时间（Rails）删除模型条目？

> ID：11682275
> 
> 赞同：1
> 
> 时间：2012-07-27T06:02:20.553
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我正在尝试在我的应用程序中创建功能，其中数据库中的给定条目设置为在特定时间删除。我是 Rails 新手，我不确定如何实现这一目标。

例如，一旦一个条目的过期时间已经过去，我希望它被自动删除。任何提示或想法如何实现？再次感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:06:31.600

您可以定期运行 rake 任务（例如每小时或每晚）。该作业将检查帖子并删除过期的帖子。

[`whenever`](https://github.com/javan/whenever/)例如，您可以使用 gem安排 rake 任务。

```
every 3.hours do
  rake "jobs:clear_stale"
end 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T06:06:47.533

后台工作将解决您的问题。`Resque`并且`Sidekiq`是后台工作的两个很棒的选择。您可以保留以特定间隔运行的调度程序以检查条目是否已过期，如果是，则删除该条目。[这](http://railscasts.com/episodes/271-resque)是关于 resque 和 [this one] 的 railcasts。无论何时也是一种选择，但上面提到的其他两个仍然更好。

# jquery - JQM后台点击问题

> ID：11682283
> 
> 赞同：2
> 
> 时间：2012-07-27T06:03:24.523
> 
> 标签：jquery, jquery-mobile, background, click, tap

我已经使用 phoneGap (android & ios) 打包了我的 JQM 应用程序。它工作正常，但在某些情况下会显示背景单击/点击事件等问题。即，如果我单击弹出窗口中的按钮，则单击将传播到背景按钮。我怎样才能防止这种情况？目前我已经在弹出窗口后面设置了一个覆盖，并设置了一些延迟来删除覆盖（我认为这不是一个好方法），但是底部标签栏显示了同样的问题，因为这里不能放置覆盖。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:09:33.617

使用[**event.stopPropagation()**](http://api.jquery.com/event.stopPropagation/)防止事件在 DOM 树中冒泡，防止任何父处理程序收到事件通知。

[**查看示例小提琴**](http://api.jquery.com/live/)

**显示`<div>`按钮单击并在`<body>`单击事件时隐藏它**

**编辑：**

[使用 live 方法从 jquery stopPropagation 问题中](https://stackoverflow.com/questions/3353275/jquery-stoppropagation-problem-with-live-method)提取

*   [live()](http://api.jquery.com/live/)处理程序在文档上
*   事件处理程序按照它们绑定到任何给定元素的顺序执行

由于我们处于同一级别，因此您需要停止并检查传播。.stopPropagation() 可以防止冒泡变得更高，但这没关系，它在 DOM 中处于同一级别，因此您需要使用 .isPropagationStopped() 检查它是否已停止。此外，由于处理程序按顺序触发，因此您需要在其他事件处理程序之后绑定 document.onclick，否则它将在其他事件处理程序尝试停止传播之前首先执行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-31T04:35:57.990

我找到了一个解决方案，当调用弹出窗口时，将带有可点击元素的事件绑定到一个函数。像这样 ：

```
function callPopupWindow(){
  $('#list li a').bind('click',function(e){
   e.preventDefault();
     //steps to do
   e.stopImmediatePropagation();
   $('#list li a').unbind('click');//if not unbinded it will trigger one more event with the elements.
  });
} 
```

它适用于所有浏览器（iphone、andriod，当然还有 firefox 和 chrome）。

# php - 是否可以使用 JS 打开具有所需内容类型的浏览器窗口？

> ID：11682284
> 
> 赞同：1
> 
> 时间：2012-07-27T06:03:34.837
> 
> 标签：php, javascript, html

我在一个表格中有一些数据`HTML`希望可以作为电子表格下载。由于excel和open office都可以阅读`CSV`。我正在使用服务器上的脚本生成一个`CSV`脚本`PHP`，方法是使用`JS`.

我想知道如果我可以直接打开一个浏览器窗口，`CSV`并将其作为内容，并且可以将其内容类型设置为`CSV`，这会工作吗？有没有办法在客户端修改内容类型？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:26:28.493

服务器端，你需要有脚本可以生成相同数据的两个不同“视图”，用于在线查看的 HTML 表和用于导出的 CSV。一旦你有了它，只需在 javascript 中使用 window.open 在 CSV 视图上打开一个窗口即可。

# c++ - 给字符串指针赋值

> ID：11682285
> 
> 赞同：3
> 
> 时间：2012-07-27T06:03:35.857
> 
> 标签：c++, string

我目前正在分析 char 和 string 数据类型。对于`char`数据类型，以下代码片段适用：

```
char value = 'a';
char value1[] = "Good";
char* value2 = "Good"; 
```

对于字符串，

```
string strValue = "Good";
string strVal[3] = {"Good","Better","Best"}; 
```

但是下面的赋值会引发编译错误：

> “错误：标量对象 strPtr 在初始化程序中需要一个元素”

```
string* strPtr = {"Good","Better","Best"} 
```

`string*`那么，最初如何给上面赋值呢？

谢谢， 乌德海

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T06:07:04.480

指针不是数组，那么你为什么要假装不然呢？但是你可以这样做

```
string strVal[3] = {"Good","Better","Best"};
string* strPtr = strVal; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:09:33.307

这有效：

```
std::string* strPtr{new std::string[3]{"Good","Better","Best"}}; 
```

这也编译

```
std::string* strPtr{(std::string[3]){"Good","Better","Best"}}; 
```

但将指针绑定到一个临时的，所以请不要这样做。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-27T06:07:22.773

我想你指的是`std::string`.

正确的方法是

```
std::string *s(new std::string);
// or
std::string *s = new std::string; 
```

如果你想要一个指向字符串的指针并且

```
std::string s_arr[3] = {"Good","Better","Best"};
string* str_p = s_arr; 
```

如果你想要一个指向字符串数组开头的指针。

# iphone - 在滚动视图中拖放子视图，如 ios 主屏幕中的图标

> ID：11682287
> 
> 赞同：1
> 
> 时间：2012-07-27T06:03:45.347
> 
> 标签：iphone, objective-c, uiscrollview, drag-and-drop, draggable

我正在创建一个应用程序，其中专辑的数量出现在网格中，就像应用程序出现在主屏幕中一样。我已经实现了这个功能。

我的问题是我想在滚动视图中重新排列或将相册从一个位置拖放到另一个位置，就像应用程序图标在 iphone 和 ipad 的主屏幕中可拖放一样。

我在网上搜索并找到了使用 Three20 的建议，但由于我也创建了网格，所以我不想为此使用三个 20，因为使用它会影响我的整个 UI 实现。

请任何人建议我或提供一些示例代码，以了解如何在主屏幕中的滚动视图中拖放子视图，例如 iphone。

提前致谢！

# c# - ResourceManager 会自动加载所有文化吗？

> ID：11682288
> 
> 赞同：1
> 
> 时间：2012-07-27T06:03:47.480
> 
> 标签：c#, localization, globalization, resourcemanager

我有一个类库 - 称之为框架。在 assemblyinfo.cs 中，我有：

```
[assembly: NeutralResourcesLanguage("en-US")] 
```

在 \Resources\ 目录下，我有**FrameworkResources.resx**和**FrameworkResources.fr-FR.resx**

在一个助手类中，我使用它作为我的资源管理器：

```
private static ResourceManager manager = new ResourceManager("Framework.Resources.FrameworkResources", Assembly.GetExecutingAssembly()); 
```

在代码中，如果我这样做：

```
String message = manager.GetString("ArgumentNullExceptionMessage", CultureInfo.CurrentCulture); 
```

我可以调试并将鼠标悬停在 CurrentCulture 上，它（和 UICulture）设置为 fr-FR，但这总是带回我的默认英文消息 - 而不是 fr-FR 资源文件中的法语消息。

ResourceManager 应该自动将其连接起来，还是我应该编写代码来查询当前的文化，然后打开正确的文件？假设资源管理器知道获取 fr-FR 字符串，我是否不正确，因为那是当前的文化？

我不确定为什么这不起作用。

**更新：** 我有附属程序集，所以相信编译部分进展顺利。我认为问题出在我的资源管理器上。我尝试使用 ResourceSets 并像这样显式使用 ResourceManager：

```
ResourceManager manager =
    new ResourceManager("Framework.Resources.FrameworkResources",
        Assembly.GetExecutingAssembly());

Debug.WriteLine("de-DE : " + manager.GetString(resourceName, new CultureInfo("de-DE")));
Debug.WriteLine("el    : " + manager.GetString(resourceName, new CultureInfo("el")));
Debug.WriteLine("es-MX : " + manager.GetString(resourceName, new CultureInfo("es-MX")));
Debug.WriteLine("fr-FR : " + manager.GetString(resourceName, new CultureInfo("fr-FR")));
Debug.WriteLine("hi    : " + manager.GetString(resourceName, new CultureInfo("hi")));
Debug.WriteLine("zh-CN : " + manager.GetString(resourceName, new CultureInfo("zh-CN"))); 
```

结果是：

> ```
> de-DE : Argument '%ArgumentName%' cannot be null or empty.
> el    : Argument '%ArgumentName%' cannot be null or empty.
> es-MX : Argument '%ArgumentName%' cannot be null or empty.
> fr-FR : Argument '%ArgumentName%' cannot be null or empty.
> hi    : Argument '%ArgumentName%' cannot be null or empty.
> zh-CN : Argument '%ArgumentName%' cannot be null or empty. 
> ```

因此，即使一切就绪，我的资源管理器也不会尝试查看那些附属程序集。需要明确的是，在这些程序集中，我有上面字符串的翻译版本 - 所以它肯定是从我的默认 FrameworkResources.resx 文件中读取的，而不是特定于文化的文件。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T08:22:39.090

我想通了（感谢互联网上的更多搜索）。我正在运行单元测试中的代码，显然 MSTest 没有“部署”卫星程序集。如果我进入测试设置并关闭“部署”，一切都会按预期工作。啊!

# java - Java 设计 - 单例

> ID：11682289
> 
> 赞同：-2
> 
> 时间：2012-07-27T06:03:51.463
> 
> 标签：java, design-patterns, singleton

我有以下设计要求：

*   `interface Server {}`
*   `public class ServerImpl implements Server {}`, 必须是单例
*   `public class ServerABC extends ServerImpl {}`
*   `public class ServerXYZ extends ServerImpl {}`

现在我想将方法​​放在类中，`Server`它们的实现应该由`ServerABC`or给出`ServerXYZ`。

在`ServerImpl`

```
public class ServerImpl implements Server {
    private static Server server;

    public static synchronized RESTClient getInstance() {
        if (server == null) {
            server = new ServerImpl ();
        }
        return server;
    }
} 
```

我怎样才能使这项工作？

如果我将方法放在`Server`接口中，`ServerImpl`则必须实现它，但我希望子类（`ServerABC`和`ServerXYZ`）提供实现。应该使用 ServerImpl 对象调用这些方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:07:00.747

使`Server`接口成为一个抽象类，并在方法前加上`abstract`关键字。然后，在`ServerImpl`您实现这些抽象方法。

## 编辑：

`ServerImpl`创建一个抽象类，并在这些方法前面加上关键字`abstract`。并在`ServerABC`其中`ServerXYZ`实现这些抽象方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:20:32.483

我认为最好的方法是避免单例模式。如果您只需要一个实例，则只创建一个实例。众所周知，Singleton 会使测试变得更加困难，并且并没有真正带来巨大的好处。

在你的情况下我会做的是：

*   要么消除接口并使类`ServerImpl`成为抽象类。应该在子类中实现的所有方法也必须标记为抽象。在某些情况下，您希望只有一个子类为特定方法提供实现。[`UnsupportedOperationException`](http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html)在这种情况下，只需在不能实现它的类中抛出一个。**或者**
*   消除该类`ServerImpl`并简单地让其他 2 个类实现该接口。如果该类`ServerImpl`自己没有实现太多，那么这是更好的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T06:08:42.597

创建一个名为 AbstractServer 的抽象类。将所有必要的方法放在这个类中，并在 ServerXYZ 和 ServerABC 中扩展它。

# asp.net-mvc - Elmah.MVC 不会在生产环境中记录错误

> ID：11682295
> 
> 赞同：2
> 
> 时间：2012-07-27T06:04:18.623
> 
> 标签：asp.net-mvc, iis-7, elmah

[我使用Elmah.MVC Nuget package](http://nuget.org/packages/Elmah.MVC)将 Elmah.MVC安装到我的 MVC 项目中。它在开发环境中运行良好，但是当我将网站上传到托管服务器（IIS7）时，它不会记录错误。

这是我的网络配置文件（只有 Elmah 配置），

```
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <configSections>
        ...
        <sectionGroup name="elmah">
            <section name="security" requirePermission="false" type="Elmah.SecuritySectionHandler, Elmah" />
            <section name="errorLog" requirePermission="false" type="Elmah.ErrorLogSectionHandler, Elmah" />
            <section name="errorMail" requirePermission="false" type="Elmah.ErrorMailSectionHandler, Elmah" />
            <section name="errorFilter" requirePermission="false" type="Elmah.ErrorFilterSectionHandler, Elmah" />
        </sectionGroup>
    </configSections>
    <connectionStrings>
    ...
    </connectionStrings>
    <appSettings>
        <add key="webpages:Version" value="1.0.0.0" />
        <add key="ClientValidationEnabled" value="true" />
        <add key="UnobtrusiveJavaScriptEnabled" value="true" />
        <add key="elmah.mvc.disableHandler" value="false" />
        <add key="elmah.mvc.requiresAuthentication" value="false" />
        <add key="elmah.mvc.allowedRoles" value="*" />
    </appSettings>

    <system.web>
        <customErrors mode="Off">
        </customErrors>
        ...
        <httpModules>
            <add name="ErrorLog" type="Elmah.ErrorLogModule, Elmah" />
            <add name="ErrorMail" type="Elmah.ErrorMailModule, Elmah" />
            <add name="ErrorFilter" type="Elmah.ErrorFilterModule, Elmah" />
        </httpModules>
    </system.web>
    <system.webServer>
        <validation validateIntegratedModeConfiguration="false" />
        <modules runAllManagedModulesForAllRequests="true">
            <add name="ErrorLog" type="Elmah.ErrorLogModule, Elmah" preCondition="managedHandler" />
            <add name="ErrorMail" type="Elmah.ErrorMailModule, Elmah" preCondition="managedHandler" />
            <add name="ErrorFilter" type="Elmah.ErrorFilterModule, Elmah" preCondition="managedHandler" />
        </modules>
        ...
    </system.webServer>
    ...
    <elmah>
        <security allowRemoteAccess="yes" />
        <errorLog type="Elmah.XmlFileErrorLog, Elmah" logPath="~/App_Data/Elmah.Errors" />
    </elmah>
    <location path="elmah.axd" inheritInChildApplications="false">
        <system.web>
            <httpHandlers>
                <add verb="POST,GET,HEAD" path="elmah.axd" type="Elmah.ErrorLogPageFactory, Elmah" />
            </httpHandlers>

        </system.web>
        <system.webServer>
            <handlers>
                <add name="ELMAH" verb="POST,GET,HEAD" path="elmah.axd" type="Elmah.ErrorLogPageFactory, Elmah" preCondition="integratedMode" />
            </handlers>
        </system.webServer>
    </location>
</configuration> 
```

有人可以检查并告诉为什么它没有在托管环境中记录错误吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-27T06:17:26.417

您的应用程序是否对生产环境中的 App_Data 目录具有写入权限？

根据您的配置，您没有登录到 SQL -> 应用程序池标识需要能够修改/写入文件才能附加到 App_Data/Elmah.Errors 文件。 [有关原因和方式的更多信息。](http://www.asp.net/mvc/tutorials/deployment/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-setting-folder-permissions-6-of-12)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-03-01T21:48:49.950

我有一个类似的问题。我正在使用这条线：

```
<errorLog type="Elmah.XmlFileErrorLog, Elmah" logPath="~\App_Data\Elmah.Errors" /> 
```

错误的。您必须使用斜杠：

```
<errorLog type="Elmah.XmlFileErrorLog, Elmah" logPath="~/App_Data/Elmah.Errors" /> 
```

*这应该是一个评论，但我没有足够的代表。*

# python - 如何在python中将十六进制字符串“\x89PNG”转换为纯文本

> ID：11682300
> 
> 赞同：1
> 
> 时间：2012-07-27T06:04:33.347
> 
> 标签：python, hex, ascii

我有一个`"\x89PNG"`要转换为纯文本的字符串。

我参考了[http://love-python.blogspot.in/2008/05/convert-hext-to-ascii-string-in-python.html](http://love-python.blogspot.in/2008/05/convert-hext-to-ascii-string-in-python.html) 但我发现它有点复杂。这可以以更简单的方式完成吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T07:36:20.023

`\x89PNG` **是**纯文本。只需尝试打印它：

```
>>> s = '\x89PNG'
>>> print s
┴PNG 
```

链接中的配方什么都不做：

```
>>> hex_string = '\x70f=l\x26hl=en\x26geocode=\x26q\x3c'
>>> ascii_string = reformat_content(hex_string)
>>> hex_string == ascii_string
True 
```

真正的十六进制<->明文编码\解码是小菜一碟：

```
>>> s.encode('hex')
'89504e47'
>>> '89504e47'.decode('hex')
'\x89PNG' 
```

* * *

但是，您可能会遇到字符串问题，例如`'\x70f=l\x26hl=en\x26geocode=\x26q\x3c'`, where`'\'`和`'x'`是单独的字符：

```
>>> s = '\\x70f=l\\x26hl=en\\x26geocode=\\x26q\\x3c'
>>> print s
\x70f=l\x26hl=en\x26geocode=\x26q\x3c 
```

在这种情况下`string_escape`，编码真的很有帮助：

```
>>> print s.decode('string_escape')
pf=l&hl=en&geocode=&q< 
```

* * *

有关编码的更多信息 - [http://docs.python.org/library/codecs.html#standard-encodings](http://docs.python.org/library/codecs.html#standard-encodings)

# vim - vim nerdtree插件如何跳转到下一个打开的目录

> ID：11682301
> 
> 赞同：1
> 
> 时间：2012-07-27T06:04:50.257
> 
> 标签：vim, nerdtree

例如，我的文件树如下所示：

```
+/root/  
    -/close/  
    +/open/  
        aa.html  
        bb.xml 
```

如果光标在根行，如何尽快跳转到`open`目录？

每次我需要使用'j'，'k'键，都不够方便！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T06:54:58.243

NERDTree 缓冲区也是一个常规缓冲区，因此您可以使用例如搜索命令：`/open<Enter>`导航到特定的子目录，或者在您的情况下`/op<Enter>`。

或者，如果您在第一行，`3j`则向下移动 3 行。

# http - Openmeeting 负载均衡 http

> ID：11682303
> 
> 赞同：0
> 
> 时间：2012-07-27T06:04:54.047
> 
> 标签：http, load-balancing, red5, openmeetings

有人尝试过使用 http 对 openmeeting 进行负载平衡吗？我已经在我的服务器上安装了，但是如何使用 http 对其进行负载平衡？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-03T13:19:01.237

通过 HTTP 进行负载平衡并不是很有趣，因为 OpenMeetings 的主要协议是 RTMP 和 RTMPT。

您可以查看集群文档： http: [//openmeetings.apache.org/Clustering.html](http://openmeetings.apache.org/Clustering.html)

然而，这些文档指的是尚未发布的 Openmeetings 2.1。Maxim 在 1-2 周前提交了这些更改。您可以连接到邮件列表：http: [//incubator.apache.org/openmeetings/mail-lists.html](http://incubator.apache.org/openmeetings/mail-lists.html) 以获取更多信息。

塞巴斯蒂安

# imagemapster - imagemapster: rendering "different" styles for different classes of areas

> ID：11682309
> 
> 赞同：1
> 
> 时间：2012-07-27T06:05:23.667
> 
> 标签：imagemapster

is it possible to style different areas in different styles in imagemapster? For exampl: when I have a plan of a house a user can click different rooms: living-rooms, sleeping-rooms, bath-rooms, ... . Any selected living-room should be rendered in red, any selected sleeping-room should be selected blue ... thanks Kurt

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T12:34:54.757

There's no built-in way right now to create a profile that applies to a group of independent areas, but you can do it yourself with just a little bit of work. Here's a working example:

[http://jsfiddle.net/jamietre/RyScW/](http://jsfiddle.net/jamietre/RyScW/)

First set up a cross-reference:

```
var profiles = [
{ 
    areas: "ME,VT,CT,NH,RI,DE,MA",
    options: {
        fillColor: '0000ff'   
    }
},
{
    areas: "UT,CO,AZ,NM",
    options: {
        fillColor: '00ff00'   
    }
}
]; 
```

Then, map the profiles to a new object to make it easy to access them using the "mapKey" for each area:

```
var optionsXref = {};

$.each(profiles,function(i,e) {
    var areas = e.areas.split(',');

    $.each(areas,function(j,key) {
        optionsXref[key]=e.options;
    });        
}); 
```

This converts the simple structure you just created into an object that looks like this:

```
{ "ME": { reference to first option group },
  "VT": { reference to first option group },
  ... 
  "UT": { reference to 2nd option group },
  ..
} 
```

Finally, intercept "clicks" and select the area manually using the specific options:

```
image.mapster({
    mapKey: 'data-state',
    onClick: function(e) {
        if (e.selected) {

            // the 4th parameter is the options that area mapped to that area.

            image.mapster('set',true,e.key, optionsXref[e.key]);       
            return false;
        }            
    }
}); 
```

The `return false` causes ImageMapster to cancel its own click handling. That's it.

Also for completeness -- you could just do this the old-fashioned way and assign the options to each area:

The direct way to do this is by adding specific information to each area up front, e.g.

```
$('img').mapster({
    areas: [{ 
        mapKey: 'living-room-1',
        fillColor: 'ff0000'
    },
    {
        mapKey: 'living-room-2',
        fillColor: 'ff0000'
    }, ...
    ]
); 
```

This would obviously be a lot of data if you had many areas, with a lot of repetition. It's more efficient and a lot less markup to do it the other way.

# mysql - MySQL查询以匹配放置在单独列中的日期和时间

> ID：11682312
> 
> 赞同：0
> 
> 时间：2012-07-27T06:05:47.070
> 
> 标签：mysql, database, datetime, join

我有两张桌子

```
----------------------
| 车辆 |
----------------------
+ 身份证 +
| 姓名 |
+ available_from_date +
| available_from_time |
+ available_to_date +
| 可用时间 |
----------------------

----------------------
| 保留_车辆 |
----------------------
+ 身份证 +
| 车辆编号 |
+ reserved_from_date +
| reserved_from_time |
+ reserved_to_date +
| 保留时间 |
----------------------

```

我想查询车辆表，以便我只获得那些满足可用日期和时间并且还没有为那个时间预留的车辆。

例如，我想搜索从日期 2012-07-27 和时间 10:00 到日期 2012-08-15 和时间 14:00 可用的车辆。

如何通过一个查询解决上述问题？

提前致谢。:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:08:33.423

听起来您可以在 WHERE 子句中使用 AND。那不工作吗？

您需要查询两个表吗？或者你可以安全地假设如果一辆车在给定时间被预订，那么它不可用，如果它可用，那么它就没有被预订？

# android - Android：服务和活动无法共享数据库

> ID：11682313
> 
> 赞同：1
> 
> 时间：2012-07-27T06:05:55.910
> 
> 标签：android, sqlite, service

我尝试开发提醒应用程序。在应用程序中，我们可以添加提醒。我正在从引导接收器调用一项服务。在服务中，我在 SQLite 数据库中获取数据并显示提醒，但一旦服务启动。我尝试打开应用程序抛出异常

```
07-27 11:27:44.186: E/SQLiteLog(503): (14) cannot open file at line 30174 of [00bb9c9ce4]
07-27 11:27:44.186: E/SQLiteLog(503): (14) os_unix.c:30174: (2) open(/data/data/com.example.rxreminder/databases/com.example.rxreminder/databases/rem.sqlite) - 
07-27 11:27:44.230: E/SQLiteDatabase(503): Failed to open database '/data/data/com.example.rxreminder/databases/com.example.rxreminder/databases/rem.sqlite'.
07-27 11:27:44.230: E/SQLiteDatabase(503): android.database.sqlite.SQLiteCantOpenDatabaseException: unknown error (code 14): Could not open database
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.database.sqlite.SQLiteConnection.nativeOpen(Native Method)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:209)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:193)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:463)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:185)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:177)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:804)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:789)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:694)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:669)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at com.example.rxreminder.database.DataBaseHelper.checkDataBase(DataBaseHelper.java:88)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at com.example.rxreminder.database.DataBaseHelper.createDataBase(DataBaseHelper.java:49)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at com.example.rxreminder.ReminderActivity.DatbaseSetup(ReminderActivity.java:275)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at com.example.rxreminder.ReminderActivity.onCreate(ReminderActivity.java:69)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.app.Activity.performCreate(Activity.java:5008)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.app.ActivityThread.access$600(ActivityThread.java:130)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.os.Handler.dispatchMessage(Handler.java:99)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.os.Looper.loop(Looper.java:137)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at android.app.ActivityThread.main(ActivityThread.java:4745)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at java.lang.reflect.Method.invokeNative(Native Method)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at java.lang.reflect.Method.invoke(Method.java:511)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
07-27 11:27:44.230: E/SQLiteDatabase(503):  at dalvik.system.NativeStart.main(Native Method)
07-27 11:27:44.276: D/AndroidRuntime(503): Shutting down VM
07-27 11:27:44.276: W/dalvikvm(503): threadid=1: thread exiting with uncaught exception (group=0x40a13300)
07-27 11:27:44.316: E/AndroidRuntime(503): FATAL EXCEPTION: main
07-27 11:27:44.316: E/AndroidRuntime(503): java.lang.Error: Error copying database
07-27 11:27:44.316: E/AndroidRuntime(503):  at com.example.rxreminder.database.DataBaseHelper.createDataBase(DataBaseHelper.java:69)
07-27 11:27:44.316: E/AndroidRuntime(503):  at com.example.rxreminder.ReminderActivity.DatbaseSetup(ReminderActivity.java:275)
07-27 11:27:44.316: E/AndroidRuntime(503):  at com.example.rxreminder.ReminderActivity.onCreate(ReminderActivity.java:69)
07-27 11:27:44.316: E/AndroidRuntime(503):  at android.app.Activity.performCreate(Activity.java:5008)
07-27 11:27:44.316: E/AndroidRuntime(503):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)
07-27 11:27:44.316: E/AndroidRuntime(503):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)
07-27 11:27:44.316: E/AndroidRuntime(503):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
07-27 11:27:44.316: E/AndroidRuntime(503):  at android.app.ActivityThread.access$600(ActivityThread.java:130)
07-27 11:27:44.316: E/AndroidRuntime(503):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
07-27 11:27:44.316: E/AndroidRuntime(503):  at android.os.Handler.dispatchMessage(Handler.java:99)
07-27 11:27:44.316: E/AndroidRuntime(503):  at android.os.Looper.loop(Looper.java:137)
07-27 11:27:44.316: E/AndroidRuntime(503):  at android.app.ActivityThread.main(ActivityThread.java:4745)
07-27 11:27:44.316: E/AndroidRuntime(503):  at java.lang.reflect.Method.invokeNative(Native Method)
07-27 11:27:44.316: E/AndroidRuntime(503):  at java.lang.reflect.Method.invoke(Method.java:511)
07-27 11:27:44.316: E/AndroidRuntime(503):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
07-27 11:27:44.316: E/AndroidRuntime(503):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
07-27 11:27:44.316: E/AndroidRuntime(503):  at dalvik.system.NativeStart.main(Native Method) 
```

# android - 如何向用户显示后端任务正在进行中

> ID：11682315
> 
> 赞同：0
> 
> 时间：2012-07-27T06:06:05.093
> 
> 标签：android

在我的应用程序中，我有一个帐户激活表单，它通过 Internet 进行身份验证。同时（在单击激活按钮之后）我希望向用户显示某种 UI，以便他知道激活正在进行中。请你可以和我分享代码。另外，应用程序激活后如何创建成功的文件。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:30:16.107

您可以像这样使用异步任务

在 OnCreate 之前声明一个进度对话框

ProgressDialog 对话框；

并添加一个用 AsyncTask 扩展的类，例如

```
private class LongOperation extends AsyncTask<String, Void, String> {

        @Override
        protected String doInBackground(String... params) {

            // perform the action which you want to do

            return null;
        }

        /*
         * (non-Javadoc)
         * 
         * @see android.os.AsyncTask#onPostExecute(java.lang.Object)
         */
        @Override
        protected void onPostExecute(String result)
 {
            // execution of result of Long time consuming operation

  // perform task which you want to display once background task is finished 

            dialog.dismiss();

        }

        /*
         * (non-Javadoc)
         * 
         * @see android.os.AsyncTask#onPreExecute()
         */
        @Override
        protected void onPreExecute() {

// initialize dialog 

            dialog = new ProgressDialog(Comment.this);

// set message 
            dialog.setMessage("Please wait while processing");
            dialog.setIndeterminate(true);
            dialog.setCancelable(false);
            dialog.show();

        }

        /*
         * (non-Javadoc)
         * 
         * @see android.os.AsyncTask#onProgressUpdate(Progress[])
         */
        @Override
        protected void onProgressUpdate(Void... values)

        {

        }

    } 
```

也可以参考这个链接，

[http://www.vogella.com/articles/AndroidPerformance/article.html#asynctask](http://www.vogella.com/articles/AndroidPerformance/article.html#asynctask)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T06:08:37.433

看看： http: [//developer.android.com/reference/android/os/AsyncTask.html](http://developer.android.com/reference/android/os/AsyncTask.html) 您可以在后台执行线程时提供自己的加载布局。非常容易使用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T07:21:22.843

当您`AsyncTask`用来完成此操作时，我假设您已阅读文档。如果没有，我可以为您提供一个示例：

```
public void doInBackground(Void... arg0) {

  int i;

  for(i = 0; i < 10; i++) {
   publishProgress(i);
  }
} 
```

从`doInBackground`方法发布进度到`onProgressUpdate`方法

```
 public void onProgressUpdate(int arg0) {
       Log.d(arg0);
    } 
```

# iphone - 在 IOS 5 的 iPhone 应用程序中实现聊天功能？

> ID：11682324
> 
> 赞同：0
> 
> 时间：2012-07-27T06:06:43.523
> 
> 标签：iphone, ios5, xmppframework

我想在 iPhone 应用程序中实现聊天功能。请给我建议。我们可以使用 xmppframework 吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:34:26.890

安装：

你可以从这里下载框架

[http://code.google.com/p/xmppframework/source/checkout](http://code.google.com/p/xmppframework/source/checkout)为您的操作系统使用 mercurial 客户端。

或者

从单独下载文件

[http://code.google.com/p/xmppframework/source/browse/](http://code.google.com/p/xmppframework/source/browse/)

本次使用后

[http://code.google.com/p/xmppframework/wiki/iPhone](http://code.google.com/p/xmppframework/wiki/iPhone)

安装 SDK

对于善变的客户：

[https://www.mercurial-scm.org/downloads](https://www.mercurial-scm.org/downloads)

用法：

[http://code.google.com/p/xmppframework/wiki/IntroToFramework](http://code.google.com/p/xmppframework/wiki/IntroToFramework)提供了一些很好的使用说明

# iphone - 解读苹果的交易收据

> ID：11682338
> 
> 赞同：2
> 
> 时间：2012-07-27T06:07:33.743
> 
> 标签：iphone, ios, json, ios4, in-app-purchase

我需要从 Apple 服务器返回的交易收据中获取到期日期。

请帮我从中获取所需的信息。最新的收据信息和收据也有到期日期和其他信息。我应该使用哪个。

我还需要在插入我的 php 服务器之前转换购买日期吗？如果是这样，我需要把它放在哪个时区。

我的问题可能看起来像是垃圾问题。请多多包涵。

非常感谢

> “收据”：{“ ointer_purchase_date_pst”：“ 2012-07-24 05:41:19 America/los_angeles”，“ simelo_endentifier”：“ 46F070C011E011E0117BC168AEE9D39D39D3901DCF961DCF961F88C08C08C08C09333333333333333333333YDARSACTION？ transaction_id":"1000000053343936", "quantity":"1", "product_id":"com.XX.XXX", "original_purchase_date_ms":"1343133679239", "bid":"com.XX.XXX", "web_order_line_item_id" :"1000000026126403", "bvrs":"1.0", "expires_date_formatted":"2012-07-24 13:11:18 Etc/GMT", "purchase_date":"2012-07-24 12:41:18 Etc/ GMT", "purchase_date_ms":"1343133678998", "expires_date_formatted_pst":"2012-07-24 06:11:18 America/Los_Angeles", "purchase_date_pst":"2012-07-24 05:41:18 America/Los_Angeles", "original_purchase_date":"2012- 07-24 12:41:19 Etc/GMT", "item_id":"547592716"}, "latest_receipt_info":{"original_purchase_date_pst":"2012-07-24 05:41:19 America/Los_Angeles", "unique_identifier" ：“46f070c011e0da17bc168ae9d3901dcf961f8c09”，“original_transaction_id”：“1000000053343936”，“expires_date”：“1343135478000”，“transaction_id”：“1000000053343936”，“产品编号：”XX.1 original_purchase_date_ms":"1343133679000", "bid":"com.XX.XXX", "web_order_line_item_id":"1000000026126403", "bvrs":"1.0", "expires_date_formatted":"2012-07-24 13:11:18 Etc/GMT" , "purchase_date":"2012-07-24 12:41:18 Etc/GMT", "purchase_date_ms":"1343133678000", "expires_date_formatted_pst":"2012-07-24 06:11:18 America/Los_Angeles", " purchase_date_pst":"2012-07-24 05:41:18 America/Los_Angeles", "original_purchase_date":"2012-07-24 12:41:19 Etc/GMT", "item_id":"547592716"}, "状态":0, "latest_receipt":"ewoJInNpZ25hdHVyZSIgPSAiQWgvbnBVK2liUWpHR3VHWFBrNlZ0OUUzbEwwWjFPeUgyeHYxM0RKbXYxK1RuRHBZa1JCcThYbXlxd1BaUDRvNDcvY3A1RWNCMUFmYi9SbnYzQldoZWNVQ1ZsVk85b0hmTDljUVloY01TTHdyNURFcVdFTTZqbXRpRjNxN3VldmlCcE5qb2l3b3pjWmIyaXlzYTE3emVoaVplTlNRVlByYXhUSmppNFFoTjdDWkFBQURWekNDQTFNd2dnSTdvQU1DQVFJQ0NHVVVrVTNaV0FTMU1BMEdDU3FHU0liM0RRRUJCUVVBTUg4eEN6QUpCZ05WQkFZVEFsVlRNUk13RVFZRFZRUUtEQXBCY0hCc1pTQkpibU11TVNZd0pBWURWUVFMREIxQmNIQnNaU0JEWlhKMGFXWnBZMkYwYVc5dUlFRjFkR2h2Y21sMGVURXpNREVHQTFVRUF3d3FRWEJ3YkdVZ2FWUjFibVZ6SUZOMGIzSmxJRU5sY25ScFptbGpZWFJwYjI0Z1FYVjBhRzl5YVhSNU1CNFhEVEE1TURZeE5USXlNRFUxTmxvWERURTBNRFl4TkRJeU1EVTFObG93WkRFak1DRUdBMVVFQXd3YVVIVnlZMmhoYzJWU1pXTmxhWEIwUTJWeWRHbG1hV05oZEdVeEd6QVpCZ05WQkFzTUVrRndjR3hsSUdsVWRXNWxjeUJUZEc5eVpURVRNQkVHQTFVRUNnd0tRWEJ3YkdVZ1NXNWpMakVMTUFrR0ExVUVCaE1DVlZNd2daOHdEUVlKS29aSWh2Y05BUUVCQlFBRGdZMEFNSUdKQW9HQkFNclJqRjJjdDRJclNkaVRDaGFJMGc4cHd2L2NtSHM4cC9Sd1YvcnQvOTFYS1ZoTmw0WElCaW1LalFRTmZnSHNEczZ5anUrK0RyS0pFN3VLc3BoTWRkS1lmRkU1ckdYc0FkQkVqQndSSXhleFRldngzSExFRkdBdDFtb0t4NTA5ZGh4dGlJZERnSnYyWWFWczQ5QjB1SnZOZHk2U01xTk5MSHNETHpEUzlvWkhBZ01CQUFHamNqQndNQXdHQTFVZEV3RUIvd1FDTUFBd0h3WURWUjBqQkJnd0ZvQVVOaDNvNHAyQzBnRVl0VEpyRHRkREM1RllRem93RGdZRFZSMFBBUUgvQkFRREFnZUFNQjBHQTFVZERnUVdCQlNwZzRQeUdVakZQaEpYQ0JUTXphTittVjhrOVRBUUJnb3Foa2lHOTJOa0JnVUJCQUlGQURBTkJna3Foa2lHOXcwQkFRVUZBQU9DQVFFQUVhU2JQanRtTjRDL0lCM1FFcEszMlJ4YWNDRFhkVlhBZVZSZVM1RmFaeGMrdDg4cFFQOTNCaUF4dmRXLzNlVFNNR1k1RmJlQVlMM2V0cVA1Z204d3JGb2pYMGlreVZSU3RRKy9BUTBLRWp0cUIwN2tMczlRVWU4Y3pSOFVHZmRNMUV1bVYvVWd2RGQ0TndOWXhMUU1nNFdUUWZna1FRVnk4R1had1ZIZ2JFL1VDNlk3MDUzcEdYQms1MU5QTTN3b3hoZDNnU1JMdlhqK2xvSHNTdGNURXFlOXBCRHBtRzUrc2s0dHcrR0szR01lRU41LytlMVFUOW5wL0tsMW5qK2FCdzdDMHhzeTBiRm5hQWQxY1NTNnhkb3J5L0NVdk02Z3RLc21uT09kcVRlc2JwMGJzOHNuNldxczBDOWRnY3hSSHVPTVoydG04bnBMVW03YXJnT1N6UT09IjsKCSJwdXJjaGFzZS1pbmZvIiA9ICJld29KSW05eWFXZHBibUZzTFhCMWNtTm9ZWE5sTFdSaGRHVXRjSE4wSWlBOUlDSXlNREV5TFRBM0xUSTBJREExT2pReE9qRTVJRUZ0WlhKcFkyRXZURzl6WDBGdVoyVnNaWE1pT3dvSkluQjFjbU5vWVhObExXUmhkR1V0YlhNaUlEMGdJakV6TkRNeE16TTJOemd3TURBaU93b0pJblZ1YVhGMVpTMXBaR1Z1ZEdsbWFXVnlJaUE5SUNJME5tWXdOekJqTURFeFpUQmtZVEUzWW1NeE5qaGhaVGxrTXprd01XUmpaamsyTVdZNFl6QTVJanNLQ1NKdmNtbG5hVzVoYkMxMGNtRnVjMkZqZEdsdmJpMXBaQ0lnUFNBaU1UQXdNREF3TURBMU16TTBNemt6TmlJN0Nna2laWGh3YVhKbGN5MWtZWFJsSWlBOUlDSXhNelF6TVRNMU5EYzRNREF3SWpzS0NTSjBjbUZ1YzJGamRHbHZiaTFwWkNJZ1BTQWlNVEF3TURBd01EQTFNek0wTXprek5pSTdDZ2tpYjNKcFoybHVZV3d0Y0hWeVkyaGhjMlV0WkdGMFpTMXRjeUlnUFNBaU1UTTBNekV6TXpZM09UQXdNQ0k3Q2draWQyVmlMVzl5WkdWeUxXeHBibVV0YVhSbGJTMXBaQ0lnUFNBaU1UQXdNREF3TURBeU5qRXlOalF3TXlJN0Nna2lZblp5Y3lJZ1BTQWlNUzR3SWpzS0NTSmxlSEJwY21WekxXUmhkR1V0Wm05eWJXRjBkR1ZrTFhCemRDSWdQU0FpTWpBeE1pMHdOeTB5TkNBd05qb3hNVG94T0NCQmJXVnlhV05oTDB4dmMxOUJibWRsYkdWeklqc0tDU0pwZEdWdExXbGtJaUE5SUNJMU5EYzFPVEkzTVRZaU93b0pJbVY0Y0dseVpYTXRaR0YwWlMxbWIzSnRZWFIwWldRaUlEMGdJakl3TVRJdE1EY3RNalFnTVRNNk1URTZNVGdnUlhSakwwZE5WQ0k3Q2draWNISnZaSFZqZEMxcFpDSWdQU0FpWTI5dExtaHZhUzUwWlhOMExuTmhiWEJzWlhCdlpXMTBlWEJsTG5OcGVHMXZiblJvY3lJN0Nna2ljSFZ5WTJoaGMyVXRaR0YwWlNJZ1BTQWlNakF4TWkwd055MHlOQ0F4TWpvME1Ub3hPQ0JGZEdNdlIwMVVJanNLQ1NKdmNtbG5hVzVoYkMxd2RYSmphR0Z6WlMxa1lYUmxJaUE5SUNJeU1ERXlMVEEzTFRJMElERXlPalF4T2pFNUlFVjBZeTlIVFZRaU93b0pJbUpwWkNJZ1BTQWlZMjl0TG1GdVoyeGxjaTVvYjJscGJtRndjSEIxY21Ob1lYTmxkR1Z6ZEdsdVp5STdDZ2tpY0hWeVkyaGhjMlV0WkdGMFpTMXdjM1FpSUQwZ0lqSXdNVEl0TURjdE1qUWdNRFU2TkRFNk1UZ2dRVzFsY21sallTOU1iM05mUVc1blpXeGxjeUk3Q2draWNYVmhiblJwZEhraUlEMGdJakVpT3dwOSI7CgkiZW52aXJvbm1lbnQiID0gIlNhbmRib3giOwoJInBvZCIgPSAiMTAwIjsKCSJzaWduaW5nLXN0YXR1cyIgPSAiMCI7Cn0"

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:41:23.340

由于收据只是一个 JSON 内容，我会推荐你​​使用像[SBJSON](http://stig.github.com/json-framework/)这样的 JSON 解析器。这将创建一个包含所有值和键的 NSDictionary/NSArray。然后使用普通的字典和数组方法来访问数据。

然后您可以使用**expires_date_formatted**键来获取您的值。

注意：我不是 MKStoreKit 的忠实粉丝，如果您想了解有关 InAp 购买的完整故事，（由于您处于收据级别，您可能已经知道一点）您可以看看[这篇文章](https://stackoverflow.com/a/7317010/734181)

希望这可以帮助。

# java - 麻烦从文本文档 Java 序列化/反序列化数组列表

> ID：11682339
> 
> 赞同：0
> 
> 时间：2012-07-27T06:07:33.320
> 
> 标签：java, object, serialization, arraylist, text-files

我需要帮助从序列化文本文件中读取数组列表，我不相信我有问题但是我看不到它是否实际上存储了所有信息，因为我无法打印出来进行测试，这里是代码片段：当我从文件中读取时，我得到的 ArrayList 无法转换为 StoreAddress

```
 FileInputStream ios = new FileInputStream("C:\\Users\\Mr Cata\\Desktop\\Testingoutput.txt");
   ObjectInputStream ois = new ObjectInputStream(ios);
   StoreAddress SAR = (StoreAddress)ois.readObject();
   ArrayList<StoreAddress> ALStore = (ArrayList)ois.readObject();

   for(int i = 0; i < ALStore.size(); i++){
        String list = ALStore.get(i).toString();            
   }

   ios.close(); 
```

下一个

```
for(int i = 0; i < ALStore.size(); i++){
   ALStore.get(i);                  
} 
```

...

```
for(int i = 0; i < ALStore.size(); i++){
   if (i >= ALStore.size())
   {
        ALStore.add(SA);}
   }

   FileOutputStream fos = new FileOutputStream("C:\\Users\\Mr Cata\\Desktop\\Testingoutput.txt");
   ObjectOutputStream oos = new ObjectOutputStream(fos);

   oos.writeObject(ALStore);
   fos.close();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:22:26.907

**1.**创建一个**带有 Instance 变量的类，该变量将** `ArrayList<Your_Type>.`

**2\. 创建该类的对象**，并将`Serialize the object`其存储在“Myfile.ser”中。

**3.**时`De-serializing`，将**对象转换为原始类型**..

**例如：**

```
 Cat c = (Cat) inputS.readObject(); 
```

**4.**现在从此对象引用变量访问 ArrayList。

```
**eg:**

          c.myArr; 
```

**如果你愿意的话，你可以打印arraylist的元素** `for-each` **......像这样......**

```
 for (Your_type t : myArr){

             System.out.println(t);

   } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T06:24:19.440

当您写入文件时，您可以这样写

```
for(int i = 0; i < ALStore.size(); i++){
  if (i >= ALStore.size()) {
         ALStore.add(SA);
        }
    }
FileOutputStream fos = new FileOutputStream("C:\\Users\\MrCata\\Desktop\\Testingoutput.txt");
ObjectOutputStream oos = new ObjectOutputStream(fos);

oos.writeObject(ALStore);
fos.close(); 
```

在这里你正在写

> ALStore

这是您提到的数组列表。但是当你阅读时，你的片段看起来像

```
FileInputStream ios = new FileInputStream("C:\\Users\\MrCata\\Desktop\\Testingoutput.txt");
 ObjectInputStream ois = new ObjectInputStream(ios);
 StoreAddress SAR = (StoreAddress)ois.readObject();
 ArrayList<StoreAddress> ALStore = (ArrayList)ois.readObject();
 for(int i = 0; i < ALStore.size(); i++){
    String list = ALStore.get(i).toString();

  }

 ios.close(); 
```

您需要注意的是您只编写了数组列表对象，但没有编写 StoreAddress。如果是这样，线路的需要是什么

```
 StoreAddress SAR = (StoreAddress)ois.readObject(); 
```

在片段中？这就是这里的问题。删除它，它应该可以正常工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T06:25:53.940

在最后一个代码片段中，您执行了一次写入，`ArrayList<ALStore>`但是在您的第一个代码片段中，您尝试执行两次读取，第一个是`StoreAddress`实例。

因此，演员表异常。

顺便说一句，尽量遵守用驼峰写法编写变量的 Java 约定。

# android - Android Galaxy Tab（Honeycomb）无法从任何可绘制对象中获取图像

> ID：11682341
> 
> 赞同：0
> 
> 时间：2012-07-27T06:08:03.657
> 
> 标签：android, drawable, tablet

我为平板电脑开发了一个应用程序。我已经在两块“MSI”平板电脑上检查过它运行良好。但是当我在三星 Galaxy 平板电脑（Honeycomb）上运行它时，它会强制关闭主屏幕，因为它不会从可绘制对象中获取图像。我已尝试使用 androidDevelopers 上提到的所有类型的可绘制对象，但无法解决此问题。

另一件事是，一开始我在 Windows XP 上构建我的应用程序，现在我在 Windows 7 上使用 Mac OS。我无法理解这个问题，请帮助我......提前致谢。

![在此处输入图像描述](../Images/9d78e49f9fe5aad7524204dee5ce6d92.png)

这是我的错误日志，错误是 setContentView() 主屏幕中的 ResourcesNotFound。这是我的代码片段

```
@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.home_screen);

        font = Typeface.createFromAsset(getAssets(),"SqueakyChalkSound.ttf"); 

        rlCenter = (RelativeLayout)findViewById(R.id.rlCenter);

         try{
                InputStream ims1 = getAssets().open("iTalkFiles/background/" + "home.png");
                Drawable d1 = Drawable.createFromStream(ims1, null);
                System.out.println("image value " + ims1);

                    rlCenter.setBackgroundDrawable(d1);

                bool = false;
              }
              catch(Exception e){
                  e.printStackTrace();
              }

              if(bool == true){
                  rlCenter.setBackgroundResource(R.drawable.home);
                  System.out.println("image value false " );
              }

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T07:18:20.173

如果您在评论中写的不仅仅是一个错字，您应该替换

```
setContentView(R.Layout.HomeScreen); 
```

和

```
setContentView(R.layout.HomeScreen); 
```

并确保您有一个名为 HomeScreen 的布局 xml 文件。

此外，您不能使用 setContentView 从 R.layout 中选择可绘制对象。你应该从 R.drawable 得到它，所以你这样做的方式是错误的。

# titanium - 如何在 Titanium 移动应用程序中裁剪图像

> ID：11682345
> 
> 赞同：0
> 
> 时间：2012-07-27T06:08:16.440
> 
> 标签：titanium

[我已经实现了裁剪功能，但是否可以像下面的链接http://deepliquid.com/projects/Jcrop/demos.php?demo=advanced](http://deepliquid.com/projects/Jcrop/demos.php?demo=advanced)选择裁剪图像

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-13T04:56:21.770

简短的回答，除非您进行一些巧妙的编码和视图对齐/转换，否则不是真的。

长答案，你有两个选择：

1.  使用 XCode、OBJ-C 等创建您自己的自定义模块。
2.  只需将 Jcrop 代码嵌套在钛内的您自己的 web 视图中。（这似乎最简单）。

# javascript - 如何使用不使用功能的开关更改 HTML doc 的 bgColor

> ID：11682346
> 
> 赞同：0
> 
> 时间：2012-07-27T06:08:18.937
> 
> 标签：javascript

我想只用开关改变我的 HTML 文档的 bgColor，而不是使用函数。请帮忙。我是 Javascript 的新手。我的代码是这样的

```
<html>
<head>
<script language="javascript">

var color;
color = parseInt(prompt("Enter the color"));

switch(color)
{
case 1:
        document.bgColor="red";
    break;

case 2:
        document.bgColor="blue";
    break;
case 3:
        document.bgColor="green";
    break;
default :
    alert("invalid");

}

</script>
</head>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:19:37.780

也许是这样的？

```
var colors = [undefined, "red", "blue", "green"];
var input = parseInt(prompt("Enter the color"));
var color = colors[input];

if(color != undefined) {
    document.body.style.backgroundColor = color;
} else {
    alert("invalid");
} 
```

不要将您的输入传递给 a `switch`，只需将其用作其中包含颜色字符串的数组的索引。

**进一步思考：**如果您想将任何类型的输入映射到颜色输出（即，不仅仅是数字输入），请使用对象：

```
var colors = {
    1: "red",
    "two": "green",
    "sandwich": "blue"
}
.... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:21:57.663

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T06:13:04.780

```
var color = "red"; // just an example
document.body.style.backgroundColor = color; 
```

# iphone - 如何为数字文本字段和字母文本字段设置键盘？

> ID：11682347
> 
> 赞同：0
> 
> 时间：2012-07-27T06:08:22.557
> 
> 标签：iphone, uitextfield, uikeyboard, uikeyboardtype

我有一个布局，其中有两个文本字段，一个用于字母输入，另一个用于数字输入。我为这些设置了不同类型的键盘，例如字母文本字段的默认键盘和数字字段的数字。

我在数字键盘上添加了一个完成按钮。我仍然遇到了键盘问题，即当我先在数字文本上录音时，它显示完成按钮键盘，而我先在字母文本上录音，然后在数字文本字段上录音，然后它不会在数字键盘上添加完成按钮.

我该如何解决？

我已经使用这些代码在数字键盘上添加按钮。

```
 -(void)viewWillAppear:(BOOL)animated
       {
        // Register for the events

        [[NSNotificationCenter defaultCenter]addObserver:self selector:@selector (keyboardDidShow:)  name: UIKeyboardDidShowNotification object:nil];
        [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector (keyboardDidHide:) name: UIKeyboardDidHideNotification object:nil];

        keyboardVisible = NO;
        scroll_view.contentSize=CGSizeMake(320, 400);
       }

        - (void)keyboardDidShow:(NSNotification *)note {
        UIWindow* tempWindow = [[[UIApplication sharedApplication] windows] objectAtIndex:1];
        UIView* keyboard;
        for (keyboard in tempWindow.subviews) {
            if([[keyboard description] hasPrefix:@"<UIKeyboard"] == YES)
                if (numberPadShowing) {
                    [self addButtonToKeyboard];
                    return;                 
                    break;
                } else {
                    for (UIView *v in [keyboard subviews]){
                        if ([v tag]==123)
                            [v removeFromSuperview];
                    }
                }
        }
    }

    -

    (void) keyboardDidHide: (NSNotification *)notif 
   {
        // Is the keyboard already shown
        if (!keyboardVisible) {
            return;
        }
        // Keyboard is no longer visible
        keyboardVisible = NO;
    }

     -(void)doneButton 
   {
    UIScrollView *scrollView =[[UIScrollView alloc] init];
    scrollView=scroll_view;
    [scrollView setContentOffset:svos animated:YES]; 
    [myActiveTextField resignFirstResponder];
   }

        - (void)addButtonToKeyboard {
        // create custom button
        UIButton *doneButton = [UIButton buttonWithType:UIButtonTypeCustom];
        doneButton.frame = CGRectMake(0, 163, 106, 53);
        doneButton.adjustsImageWhenHighlighted = NO;
        if ([[[UIDevice currentDevice] systemVersion] floatValue] >= 3.0) {
            [doneButton setImage:[UIImage imageNamed:@"DoneUp3.png"] forState:UIControlStateNormal];
            [doneButton setImage:[UIImage imageNamed:@"DoneDown3.png"] forState:UIControlStateHighlighted];
        } else {        
            [doneButton setImage:[UIImage imageNamed:@"DoneUp.png"] forState:UIControlStateNormal];
            [doneButton setImage:[UIImage imageNamed:@"DoneDown.png"] forState:UIControlStateHighlighted];
        }
        [doneButton addTarget:self action:@selector(doneButton) forControlEvents:UIControlEventTouchUpInside];
        // locate keyboard view
        UIWindow* tempWindow = [[[UIApplication sharedApplication] windows] objectAtIndex:1];
        UIView* keyboard;
        for(int i=0; i<[tempWindow.subviews count]; i++) {
            keyboard = [tempWindow.subviews objectAtIndex:i];
            // keyboard found, add the button
            if ([[[UIDevice currentDevice] systemVersion] floatValue] >= 3.2) {
                if([[keyboard description] hasPrefix:@"<UIPeripheralHost"] == YES)
                    [keyboard addSubview:doneButton];
            } else {
                if([[keyboard description] hasPrefix:@"<UIKeyboard"] == YES)
                    [keyboard addSubview:doneButton];
            }
        }
    }

       - (void)textFieldDidBeginEditing:(UITextField *)textField
       {
        myActiveTextField=textField;
        if (myActiveTextField==txt_hour_section || myActiveTextField==txt_minute_section || myActiveTextField==txt_transport_time){
            numberPadShowing=TRUE;
            UIScrollView *scrollView =[[UIScrollView alloc] init];
            scrollView=scroll_view;

            svos = scrollView.contentOffset;
            CGPoint pt;
            CGRect rc = [textField bounds];
            rc = [textField convertRect:rc toView:scrollView];
            pt = rc.origin;
            pt.x = 0;
            pt.y -= 60;
            [scrollView setContentOffset:pt animated:YES];           

        }
        else{
            numberPadShowing=FALSE;
        }
    }

     -(BOOL)textFieldShouldReturn:(UITextField *)textField
     {
        UIScrollView *scrollView =[[UIScrollView alloc] init];
        scrollView=scroll_view;
        [scrollView setContentOffset:svos animated:YES]; 
        [textField resignFirstResponder];
       return YES;
    } 
```

提前感谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:39:30.710

我认为您的问题是因为您在点击 alpha 字段后点击了数字字段，并且 alpha 键盘已经在视图中。因此，当您点击数字字段时（虽然 alpha 键盘仍在视图中），它不会触发 'keyboardDidShow' 事件，因为键盘已经从前一个字段显示（尽管是 alpha 键盘）。

尝试将完成按钮逻辑放入数字字段的文本字段“textFieldDidBeginEditing”事件的委托方法中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:53:01.077

如果我的第一个答案在您的实现中不起作用，那么您可能需要考虑重组并设置 UITextField 的 inputAccessoryView。沿着这些行的代码应该可以解决问题（你可以把它放在你的 viewDidLoad nib 中，还要注意你需要自己实现 doneTapped 方法）；

```
// Create a UIToolbar object and set its style to be black and transparent
    numericInputAccessoryView_ = [[UIToolbar alloc] initWithFrame:CGRectMake(0, 0, 320, 44)];
    numericInputAccessoryView_.barStyle = UIBarStyleBlackTranslucent;

// The flexible space item will push the done button to the far right
    UIBarButtonItem *space = [[UIBarButtonItem alloc] 
    initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:nil action:nil];

// Make the done button, this is a system item so you don't need to set the title or anything. This will call a method called "doneTapped:(id)sender" when you tap it, you'll need to implement that yourself.
    UIBarButtonItem *done = [[UIBarButtonItem alloc]WithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(doneTapped:)];

// Stick the flexible space and the done button in your toolbar    
    numericInputAccessoryView_.items = [NSArray arrayWithObjects:space,done, nil];

// This would return it, if you had this in a separate method. 
    return numericInputAccessoryView_; 
```

# javascript - 不兼容的字符编码：ASCII-8BIT 和 UTF-8 在 Rails 中使用 javascript

> ID：11682351
> 
> 赞同：2
> 
> 时间：2012-07-27T06:08:34.357
> 
> 标签：javascript, ruby-on-rails, utf-8, character-encoding, ascii

我正在尝试在我的 rails 3 应用程序版本 1.9.3 中使用 javascript。当我包含此行时`%= javascript_include_tag "application" %>`，我收到以下错误：

```
Encoding::CompatibilityError in Products#index 

incompatible character encodings: ASCII-8BIT and UTF-8

Extracted source (around line #9):

6:<%= javascript_include_tag 'jquery-1.7.2.min.js','jquery-ui-1.8.21.custom.min.js' %>
7:<%= stylesheet_link_tag 'jquery-ui-1.8.21.custom.css' %>
8:<%= stylesheet_link_tag  "pro" %>
9:<%= javascript_include_tag "application" %>
10:<%= csrf_meta_tags %>
11:   </head> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T14:54:05.467

Ruby 1.9 在字符串编码方面确实很挑剔。

您必须确保在整个应用程序和数据库中使用 utf8 编码文件。

在这种情况下，我会查看“application.js”以查看它是否以 utf8 编码，以及它是否包含 utf8 中的任何“错误编码”字符。

您也可以尝试在 application.rb 中进行设置：

```
class Application < Rails::Application
  config.encoding = "utf-8"
  #Your conf ...

end 
```

这在初始化之前的 environment.rb 中！称呼：

```
Encoding.default_external = Encoding::UTF_8
Encoding.default_internal = Encoding::UTF_8 
```

我在升级 Rails 2 时遇到了类似的问题，这对我有帮助。

# c# - 如何生成唯一编号 C#

> ID：11682354
> 
> 赞同：0
> 
> 时间：2012-07-27T06:08:44.257
> 
> 标签：c#

我想生成一个类似于 TMP-0001354 的唯一编号，TMP 将始终相同，只有编号会发生变化，不应在表中重复。

我想要一个exp。应该在 c# 中的代码，我将在表中插入记录时调用该函数。我正在使用的 SQL 服务器数据库

我正在尝试这个我不知道它是否可以正常工作。

```
 private string RandomNumberGenerator()
    {
        int maxSize = 8;
        int minSize = 5;
        char[] chars = new char[62];
        string a;
        a = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";
        chars = a.ToCharArray();
        int size = maxSize;
        byte[] data = new byte[1];
        RNGCryptoServiceProvider crypto = new RNGCryptoServiceProvider();
        crypto.GetNonZeroBytes(data);
        size = maxSize;
        data = new byte[size];
        crypto.GetNonZeroBytes(data);
        StringBuilder result = new StringBuilder(size);
        foreach (byte b in data)
        { result.Append(chars[b % (chars.Length - 1)]); }
        return result.ToString();
    } 
```

有人请帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:12:38.870

```
System.Guid.NewGuid().ToString() 
```

这会生成一个唯一编号。将常量部分附加到此 guid。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T06:26:00.337

要生成 uniq 编号，请使用此编号（编号可以以 0 开头）：

```
string number_s = "TMP-" + RandomNumber(0, 9) + RandomNumber(0, 9) + RandomNumber(0, 9) + RandomNumber(0, 9) + RandomNumber(0, 9) + RandomNumber(0, 9) + RandomNumber(0, 9); 
```

或者这个（更短，但将从 1 开始）：

```
string number_s = "TMP-" + RandomNumber(1000000, 9999999); 
```

这是代码`RandomNumber`：

```
private static readonly Random random = new Random();
        private static readonly object syncLock = new object();
        public int RandomNumber(int min, int max)
        {
            lock (syncLock)
            { // synchronize
                return random.Next(min, max);
            }
        } 
```

它对我很好。希望我对你有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T06:11:47.040

您可以使用迷你哈希、guid，也可以使用时间年月日秒毫秒或时间戳。

制作唯一 ID 的方法有很多

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T06:15:31.893

您可以尝试[System.Guid.NewGuid](http://msdn.microsoft.com/en-us/library/system.guid.newguid%28v=vs.110%29.aspx)，它会生成一个[全局唯一标识符 (GUID)](http://en.wikipedia.org/wiki/Globally_unique_identifier)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-27T06:16:00.407

```
return string.Format("TMP-{0:d}", DateTime.Now.Millisecond); 
```

另请参阅此 SO 帖子：

*   [如何在 C# 中生成 8 位的唯一数字？](https://stackoverflow.com/questions/6103610/how-to-generate-unique-number-in-c-sharp-of-8-digits)

# r - 在R中写入文件后关闭文件

> ID：11682355
> 
> 赞同：4
> 
> 时间：2012-07-27T06:08:58.787
> 
> 标签：r, file

在其他语言中，当您将数据写入文件时，您必须关闭该文件。我发现在 R 中写入数据后不需要关闭文件，对吗？如果我写会发生什么：

```
require(quantmod)  
getSymbols("GS")  
write(GS,'test') 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T08:58:46.413

您不需要关闭文件，因为`write()`会为您关闭它：

```
> write
function (x, file = "data", ncolumns = if (is.character(x)) 1 else 5, 
    append = FALSE, sep = " ") 
# Using cat() function
cat(x, file = file, sep = c(rep.int(sep, ncolumns - 1), "\n"),
    append = append)
<bytecode: 0x053fdb10>
<environment: namespace:base>

> cat
function (..., file = "", sep = " ", fill = FALSE, labels = NULL, 
    append = FALSE) 
{
    if (is.character(file)) 
        if (file == "") 
            file <- stdout()
        else if (substring(file, 1L, 1L) == "|") {
            file <- pipe(substring(file, 2L), "w")
            # Closing here
            on.exit(close(file))
        }
        else {
            file <- file(file, ifelse(append, "a", "w"))
            # Or here
            on.exit(close(file))
        }
    .Internal(cat(list(...), file, sep, fill, labels, append))
}
<bytecode: 0x053fdd68>
<environment: namespace:base> 
```

# php - 如何从codeigniter中的视图调用控制器功能？

> ID：11682357
> 
> 赞同：0
> 
> 时间：2012-07-27T06:09:12.837
> 
> 标签：php, view, controller

使用 codeigniter，我有一个控制器，如下所示：

```
<?php if(!defined ('BASEPATH')) exit('not found basepath');

class **myController** extends CI_Controller{

    function __constructor(){
        parent::__constructor();
    }
    public function index(){
        $this->load->view('myview');
    }
    **public function myFn()**{
        echo "my controller is called"; 
    }
}

?> 
```

视图如下：

```
<form action="<?php echo base_url();?>myController/myFn" method="post" name="myform">
<input type="submit" name="submit" value="submit"/>
</form> 
```

问题是，当我在单击提交 m 后通过转到 localhost 运行视图时，会出现以下错误！

> 在此服务器上未找到请求的 URL /CodeIgniter/myController/myFn。

但是当我输入时，`**http://localhost/CodeIgniter/index.php/myController/myFn**`我得到了正确的视图输出

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T07:12:40.007

在您的控制器中，只需删除“ ** ”。

```
<?php if(!defined ('BASEPATH')) exit('not found basepath');

class myController extends CI_Controller{

    function __constructor(){
        parent::__constructor();
    }

    public function index(){
        $this->load->view('myview');
    }

    public function myFn(){
    echo "my controller is called"; 
    }
}
?> 
```

在您看来，请尝试：

```
<?php echo form_open('myController/myFn'); ?>
<?php echo form_submit('submit','SUBMIT'); ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T07:13:26.390

当您运行视图时

```
<form action="<?php echo base_url();?>myController/myFn" method="post" name="myform">
<input type="submit" name="submit" value="submit"/>
</form> 
```

使用检查元素查看表单标签中的操作是否与

```
**http://localhost/CodeIgniter/index.php/myController/myFn** 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-10-10T12:51:45.843

如果你想像这样调用控制器函数`/CodeIgniter/myController/myFn`，你必须使用 .htaccess 文件删除 index.php 文件。首先，您像这样更改 config.php 文件。

```
//  Remove index.php

$config['index_page'] = "" 
```

然后，创建 .htaccess 文件并将此代码复制到该文件。

```
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php/$1 [L]
</IfModule> 
```

然后，将此 .htaccess 文件放入 codeignator 项目文件夹中。

要参考，请参阅此链接：-[在此处输入链接描述](https://www.formget.com/codeigniter-htaccess-remove-index-php/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-01-29T19:10:27.353

我想你忘了加载 URL 助手

```
function test()
{

    $this->load->helper('url');
    $data['message']= $this->input->post('message');
    $this->load->view('backend/test',$data);

} 
```

这可能会帮助你

# java - JPA：如何在不加载延迟加载集的情况下计算子记录

> ID：11682366
> 
> 赞同：3
> 
> 时间：2012-07-27T06:10:08.637
> 
> 标签：java, spring, jakarta-ee, jpa, jpa-2.0

我正在编写一个 J2EE/JPA/Spring 3 应用程序，试图保持纯 JPA 2.0。我想获得子对象的计数而不必加载它们，因为这显然是一项昂贵的操作。例如这里是一个简化的例子

```
Organisation
 - OrgID
 - OrgName

Employee
 - EmployeeID
 - OrgID (key to Organisation table)
 - EmployeeName 
```

在 jsp 页面上，我想显示所有组织的列表和员工人数的计数，而无需自己加载员工。如果它可以是加载所有组织对象并以某种方式加载员工对象的计数的单个数据库命中，那就太好了。我宁愿避免一个查询列出组织，然后每个组织一个查询来计算员工。我想我可以添加一个瞬态属性来保存计数，我不确定如何最好地做到这一点。

只是为了给出规模的概念，将有大约 50 个组织，每个组织将有 0 到 500 名员工。我宁愿避免任何特定于实现的扩展，因为我已经更改过一次 JPA 提供程序并且可能会再次更改。

在 SQL 中，我只是进行连接、分组和计数，但我不知道如何在 JPA 中进行。任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T06:54:01.700

您可以直接选择到您定义为保存组织和计数的结果的对象。然后，您只需编写查询。唯一的技巧是您必须手动按组织上的每个字段进行分组。“按组织分组”是不合法的。

```
public class OrgWithEmpCount {
  private Organisation org;
  private Long empCount;
  public OrgWithEmpCount(Organisation org, Long empCount) {
    this.org = org;
    this.empCount = empCount;
  }
}

Select new full.package.OrgWithEmpCount(o, count(e.employeeId)) 
from Organisation o, IN(o.employees) e 
group by o.orgId, o.orgName, o.whateverElse 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T14:40:22.337

Going off of the the accepted answer from Affe - this worked except for the case of you wanting to have the count for companies even with no employees. The IN query will end up just excluding those companies. Hard to imagine a company with zero employees, but for the sake of the Query example, you could do it like this:

```
select new full.package.OrgWithEmpCount(o, count(e.employeeId))
FROM Organisation o LEFT JOIN e.employees AS e
group by o.orgId, o.orgName, o.whateverElse 
```

You get the idea... just instead of doing an IN, do a LEFT JOIN.

# exception - 从特定列获取时出现 Exhausetd ResultSet 错误

> ID：11682369
> 
> 赞同：0
> 
> 时间：2012-07-27T06:10:42.947
> 
> 标签：exception, servlets, servletexception, ojdbc

在我的项目中，我正在创建一个**取消帐户**工具以从用户表中删除该帐户。用户表名是`newuser`。该`cancelaccount`jsp看起来像：

```
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
pageEncoding="ISO-8859-1"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
   <style type="text/css">
body {
background-image: url("shocked.jpg");
background-repeat:no-repeat;
background-position: top right;
 }
p
 {
    font-family: serif;
    font-weight: bold;
    color: blue;
    size: 5px;
    text-align: center;
 }

 </style>
 <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
 <title>Insert title here</title>
 </head>
 <body>

 <form action="Cancelaccount" name="cancelaccount">
 <p>Are you sure to cancel account?</p>
 <p>If yes please retype the password</p>
 <p><input type="password" align="middle" name="password"></input></p>
 <input type="submit" value="Cancel Account"></input>
 <p>Else click <a href="UserHome.jsp">here</a></p> 
 </form>
 </body>
 </html> 
```

在`Cancelaccount`servlet 中，我试图将当前输入的密码与打开帐户时注册的密码进行匹配。如果他们匹配的帐户应该被取消，否则不。所以servlet代码是：

```
import getset.Getset;

import java.io.IOException;
import java.io.PrintWriter;

import java.sql.SQLException;

import accessdb.Dao;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

public class Cancelaccount extends HttpServlet {
    private static final long serialVersionUID = 1L;

    /**
     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
     */
    protected void doGet(HttpServletRequest request,
                         HttpServletResponse response) throws ServletException,
                                                              IOException {
        // TODO Auto-generated method stub
        Getset g = new Getset();
        Dao dao = new Dao();
        PrintWriter pw = response.getWriter();
        String password = request.getParameter("password");
        HttpSession session = request.getSession();
        String userid = (String)session.getAttribute("userid");
        if (password.equals("") || password.equals(" "))
            response.sendRedirect("UserHome.jsp");
        g.setuserid(userid);
        g.setloginpassword(password);
        try {
            String password1 = dao.getregpasswordbyuserid(g);
            if (password1 == password) {
                dao.cancelaccount(g);
                pw.println("<html>Your Account has been successfully cancelled from the system.<p>" +
                           "Click here to go to <a href=\"WelcomePage.jsp\">Start Page</a><html>");
                session.invalidate();

            } else {
                response.sendRedirect("UserHome.jsp");
            }

        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        } catch (SQLException e) {
            e.printStackTrace();
        }

    }
} 
```

`DAO`功能代码如下：

```
public void cancelaccount(Getset g)throws ClassNotFoundException,SQLException{
    //Delete a user from NEWUSER TABLE AND MEALDB TABLE
    Connection con=Dbconnection.getConnection();
    String userid=g.getuserid();
    PreparedStatement pstmt=con.prepareStatement("delete from mealdb where userid=?");
    pstmt.setString(1, userid);
    pstmt.executeUpdate();
    PreparedStatement pstmt1=con.prepareStatement("delete from newuser where userid=?");
    pstmt1.setString(1, userid);
    pstmt1.executeUpdate();
}
public String getregpasswordbyuserid(Getset g)throws ClassNotFoundException,SQLException{
    //GET PASSWORD BY USERID
    Connection con=Dbconnection.getConnection();
    String userid=g.getuserid();
    PreparedStatement pstmt=con.prepareStatement("select regpassword from newuser where userid=?");
    pstmt.setString(1, userid);
    ResultSet rs=pstmt.executeQuery();
    rs.next();
    String p=rs.getString(1);
    System.out.println(""+p);
    return p;

} 
```

而且`stacktrace`是：

```
 11:35:29,912 ERROR [STDERR] java.sql.SQLException: Exhausted Resultset
    11:35:29,912 ERROR [STDERR]     at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:125)
    11:35:29,912 ERROR [STDERR]     at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:162)
    11:35:29,912 ERROR [STDERR]     at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:227)
    11:35:29,912 ERROR [STDERR]     at oracle.jdbc.driver.OracleResultSetImpl.getString(OracleResultSetImpl.java:347)
    11:35:29,912 ERROR [STDERR]     at accessdb.Dao.getregpasswordbyuserid(Dao.java:245)
    11:35:29,912 ERROR [STDERR]     at Cancelaccount.doGet(Cancelaccount.java:39)
    11:35:29,912 ERROR [STDERR]     at javax.servlet.http.HttpServlet.service(HttpServlet.java:690)
    11:35:29,912 ERROR [STDERR]     at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
    11:35:29,912 ERROR [STDERR]     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
    11:35:29,912 ERROR [STDERR]     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    11:35:29,912 ERROR [STDERR]     at org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)
    11:35:29,912 ERROR [STDERR]     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    11:35:29,912 ERROR [STDERR]     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
     11:35:29,912 ERROR [STDERR]    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:230)
    11:35:29,912 ERROR [STDERR]     at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
    11:35:29,912 ERROR [STDERR]     at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:179)
    11:35:29,912 ERROR [STDERR]     at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:84)
    11:35:29,912 ERROR [STDERR]     at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)
    11:35:29,912 ERROR [STDERR]     at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:104)
    11:35:29,912 ERROR [STDERR]     at org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:157)
    11:35:29,912 ERROR [STDERR]     at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
    11:35:29,912 ERROR [STDERR]     at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:241)
    11:35:29,912 ERROR [STDERR]     at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)
    11:35:29,912 ERROR [STDERR]     at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:580) 
    11:35:29,912 ERROR [STDERR]     at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)
    11:35:29,912 ERROR [STDERR]     at java.lang.Thread.run(Unknown Source) 
```

在`DAO`s'`cancelaccount`函数中，我也从另一个表中删除了`mealdb`，因为该`userid`字段是`primary key`in`newuser`和`foreign key`in `mealdb`。我仔细研究了一下，但找不到方法。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:50:37.600

尝试将 getregpasswordbyuserid() 中的代码更改为

```
ResultSet rs=pstmt.executeQuery();
String p="";
while(rs.next()){
    p=rs.getString(1);
    System.out.println(""+p);
}
return p; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T09:04:01.987

这个问题已经解决。我只是更改了 servlet 代码并且它工作。会话中的**用户标识**值未成功获取。工作代码是：

```
import getset.Getset;

import java.io.IOException;
import java.io.PrintWriter;

import java.sql.SQLException;

import accessdb.Dao;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

public class Cancelaccount extends HttpServlet {
    private static final long serialVersionUID = 1L;

    protected void doGet(HttpServletRequest request,
                         HttpServletResponse response) throws ServletException,
                                                              IOException {
        // TODO Auto-generated method stub
        Getset g = new Getset();
        Dao dao = new Dao();
        PrintWriter pw = response.getWriter();
        String password = request.getParameter("password");
        System.out.println("" + password);
        HttpSession session = request.getSession(true);
        String userid = (String)session.getAttribute("USERID");
        System.out.println("" + userid);
        /*  if(password.equals("") || password.equals(" "))
    {
    response.sendRedirect("UserHome.jsp");

    } */
        g.setuserid(userid);
        try {
            String password1 = dao.getpasswordbyuserid(g);
            System.out.println("" + password1);
            if (password1.equals(password)) {
                dao.cancelaccount(g);
                pw.println("<html>Your Account has been successfully cancelled from the system.<p>" +
                           "Click here to go to <a href=\"WelcomePage.jsp\">Start Page</a><html>");
                session.invalidate();

            } else {
                response.sendRedirect("UserHome.jsp");
            }

        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        } catch (SQLException e) {
            e.printStackTrace();
        }

    }
} 
```

# c# - 在 Try/Catch 中内置消息而不是我自己的消息

> ID：11682370
> 
> 赞同：0
> 
> 时间：2012-07-27T06:10:58.290
> 
> 标签：c#

当我使用 Try/Catch 打开文件时，当我尝试打开不存在的文件时，程序会显示一条内置消息，而不是我在 Catch 部分中的消息。出了什么问题，我错过了什么？

```
 public void ReadFromFile(MainFrame obj, string filePath)
    {
        try
        {
            filestream = new FileStream(filePath, FileMode.Open);
            BinaryFormatter b = new BinaryFormatter();
            var animals2 = (List<Animal>)b.Deserialize(filestream);

            foreach (Animal animal in animals2)
            {
                AddAnimalToList(animal);
                obj.UppdateListOfRegistredAnimals(animal.ID, animal.Name, animal.Age, animal.Gender);

            }
            obj.UpdateId(animals.Count());
        }
        catch
        {
            MessageBox.Show("Test", "Test", MessageBoxButtons.OK, MessageBoxIcon.Exclamation);
        }
        finally
        {
            filestream.Close();
        }
    } 
```

编辑：我发现内置消息的原因是在上面的代码之前的某个地方！下面处理来自 openFileDialog 的事件的代码一定有问题，因为尽管有多个消息框，但未显示！我做错了什么！？帮助是preciated！

```
private void menuFileOpen_Click(object sender, EventArgs e)
    {
        DialogResult result = openFileDialog1.ShowDialog(); // Show the dialog.
        string file = openFileDialog1.FileName;

        if (result == DialogResult.OK)
        {
            MessageBox.Show("TEST", "Test", MessageBoxButtons.OK, MessageBoxIcon.Exclamation);
            try
            {
                MessageBox.Show("TEST", "Test", MessageBoxButtons.OK, MessageBoxIcon.Exclamation);
                motelManager.ReadFromFile(this, file); // Smart lösning!!

            }
            catch (FileNotFoundException)
            {
                MessageBox.Show("Error message", "Test", MessageBoxButtons.OK, MessageBoxIcon.Exclamation);
            }
        }
    } 
```

![找不到文件消息](../Images/c289f0ee37a983fa83ac7a5f42916404.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:13:42.553

这可能是因为您尝试在不检查它是否为非空的情况下关闭`filestream`您的块。`finally`如果

```
filestream = new FileStream(filePath, FileMode.Open); 
```

失败，

```
finally
{
    filestream.Close();
} 
```

在 filestream 为空的情况下执行。

尝试将其更改为

```
finally
{
    if (filestream != null) filestream.Close();
} 
```

或者更好的是，将你的包裹`filestream`在一个`using`块中。

```
using (filestream = new FileStream(filePath, FileMode.Open))
{
    // Do stuff with your filestream
} // filestream.Dispose() automatically called, which in turn calls .Close() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T06:14:28.227

试试这个

```
if(!File.Exists(filePath))
   MessageBox.Show("Not found", "Test", MessageBoxButtons.OK, MessageBoxIcon.Exclamation); 
```

更多信息 [http://msdn.microsoft.com/en-us/library/system.io.file.exists.aspx](http://msdn.microsoft.com/en-us/library/system.io.file.exists.aspx)

```
private void menuFileOpen_Click(object sender, EventArgs e)
    {
        openFileDialog1.CheckFileExists = false;
        openFileDialog1.CheckPathExists = false;

        DialogResult result = openFileDialog1.ShowDialog(); // Show the dialog.

        if (result == DialogResult.OK)
        {
            string file = openFileDialog1.FileName;

            MessageBox.Show("TEST", "Test", MessageBoxButtons.OK, MessageBoxIcon.Exclamation);
            try
            {
                MessageBox.Show("TEST", "Test", MessageBoxButtons.OK, MessageBoxIcon.Exclamation);
                motelManager.ReadFromFile(this, file); // Smart lösning!!

            }
            catch (FileNotFoundException)
            {
                MessageBox.Show("Error message", "Test", MessageBoxButtons.OK, MessageBoxIcon.Exclamation);
            }
        }
    } 
```

如果您不想要文件未找到的默认消息，请使用

```
 openFileDialog1.CheckFileExists = false;
        openFileDialog1.CheckPathExists = false; 
```

# facebook - 删除最新打开的图形读取操作

> ID：11682371
> 
> 赞同：0
> 
> 时间：2012-07-27T06:11:02.573
> 
> 标签：facebook, facebook-graph-api

我的应用程序能够使用以下代码成功创建读取操作：

```
 FB.api('/me/xyz:listen_to&song=<?=curPageURL()?>','post'); 
```

我需要提供一个链接来删除同一个故事。我的问题是，我如何获得我添加的最新故事的 ID 可以删除它。我可以通过 php 获取这个 id 吗？

我从谷歌搜索中获得了以下代码，但无法弄清楚如何获取传递给函数的 id。

```
function deleteAction()
 {
 FB.api(
    '<?=$actionID ?>',
  'delete',
   function(response) {
     alert('action deleted')
   });
 } 
```

# java - 如何设置按钮不可移动？

> ID：11682372
> 
> 赞同：1
> 
> 时间：2012-07-27T06:11:02.823
> 
> 标签：java, android

在 android 应用程序中，我使用适配器在 GridView 中显示了行数中的按钮数，如果我自动单击第一行右上角的按钮，第二行按钮将移动到第一行并通过第二行按钮隐藏第一行按钮. 我需要修复解决方案，按钮不动。

任何人都可以提出解决方案的想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:13:18.553

**1.**使用**固定大小** `Buttons`。

**2.**专业的**处理方式，就是使用**`Icons Images`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-02T04:13:44.283

在 GridView 中显示 EditText 内的按钮，并将 EditText 的背景颜色设置为白色，现在单击 GridView 上第一行的按钮时按钮不会移动。

# mysql - oracle如何使用limit关键字

> ID：11682375
> 
> 赞同：2
> 
> 时间：2012-07-27T06:11:17.277
> 
> 标签：mysql, sql, oracle

我正在从表中检索数据，但不是所有行，而是一次需要 20 行进行分页。为此，我使用了在 Mysql 中完美工作但在**Oracle**中不工作的 limit 关键字。

代码：

```
"select "+  "C.CONTRACTOR_ID,C.CONTRACTOR_NAME,nvl(C.CONTACT_PERSON_1,'-'),nvl(C.CONTACT_PERSON_2,'-'),C.REGISTRATION_NO,CRA.DESCRIPTION REG_AUTH_NAME,"+
            "to_char(C.VALID_FROM,'dd/mm/yyyy'),to_char(C.VALID_TO,'dd/mm/yyyy'),CC.DESCRIPTION CONTRACTOR_CLASS,C.INCORP_PLACE,"+
            "IT.DESCRIPTION INCORP_TYPE,nvl(to_char(C.DATE_OF_INCORP,'dd/mm/yyyy'),'-') DATE_OF_INCORP,C.ADDRESS1,nvl(C.ADDRESS2,'-'),nvl(C.EMAIL_ID,'-'),"+
            "nvl(C.WEBSITE_URL,'-'),nvl(C.PHONE_NO,'-'),nvl(C.FAX_NO,'-'),nvl(C.MOBILE_NO,'-'),C.BANK_NAME,C.BANK_BRANCH,C.ACCOUNT_NO,C.IFSC_CODE," +
            "C.PAN_NO,nvl(C.TIN_NO,'-'),nvl(C.CST_NO,'-') "+ 
"from "+
            "CONTRACTOR C "+  
            "inner join CONTRACTOR_REG_AUTH CRA on CRA.REG_AUTH_ID=C.REG_AUTH_ID "+
            "inner join CONTRACTOR_CLASS CC on CC.CLASS_ID=C.CONTRACTOR_CLASS_ID "+
            "inner join INCORPORATION_TYPE IT on IT.INCORP_TYPE=C.INCORP_TYPE "+
"limit " + offset + ", " + noOfRecords "; 
```

这里没有按关键字排序。我正在从不同的表中检索数据，然后一次只显示 20 行。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-27T06:16:53.267

在 Oracle 中，您可以使用特殊`rownum`变量。此示例的行为类似于`limit FirstRow, NrOfRows`：

```
select  * 
from    ( 
        select  *
        ,       rownum as rn 
        from    YourTable
        order by
                id
        ) as SubQueryAlias
where   FirstRow <= rn 
        and rn < FirstRow + NrOfRows 
```

[AskTom](http://www.oracle.com/technetwork/issue-archive/2006/06-sep/o56asktom-086197.html)的此查询的优化版本，链接自此[SO 问题](https://stackoverflow.com/questions/470542/how-do-i-limit-the-number-of-rows-returned-by-an-oracle-query-after-ordering)：

```
select  * 
from    ( 
        select  /*+ FIRST_ROWS(n) */ 
                rownum as rn
        ,       *
        from    (
                select  *
                from    YourTable
                order by 
                        id
                ) as SubQueryAlias1
        where   rownum <= FirstRow + NrOfRows
        ) as SubQueryAlias2
where   rn >= FirstRow 
```

# c# - 在对象中存储对外部变量的引用

> ID：11682379
> 
> 赞同：0
> 
> 时间：2012-07-27T06:11:54.110
> 
> 标签：c#, xna

我正在为 XNA 中的游戏编程，并尝试创建一个通用数学对象，并在构建期间提供存储的输出位置。

我的计划是在构造函数中使用 ref ，但我不确定如何在初始调用之后将该引用保存/存储在对象中......

```
public MathObject(ref float OutParam)
{
    Out = OutParam; // This obviously won't do what I want... But it's where I'd like to do it.
} 
```

在更新中，我想说明输入并让产品修改存储的输出位置：

```
foreach (MathObject MatOb in MathList)
{
    MatOb.Update(time);
} 
```

这个想法是创建一个模块化数学工具以在整个代码中使用，并将其引导到其他地方的预先存在的对象参数（“输出”），它将在更新中修改（无需重新引用）。希望这将允许一个循环来指导工具的每个实例来修改它的给定输出。

据我了解，在 c++ 中，这可以通过将要修改的参数的地址存储在数学对象中，然后在更新中使用它来指向和修改该位置的内存。

在不使用不安全代码的情况下，在 c# 中是否有类似的可能？

是否应该始终避免不安全的代码？

编辑：

- 有可能的使用 -

我希望能够创建具有可调节“设置并忘记”输出位置的对象。

例如，我构建了一个在游戏界面中工作的简单贝塞尔曲线编辑器。我可以在代码中设置输出位置，以便给定曲线始终调整特定参数（例如字符位置），但也可以在界面中修改输出连接的内容。

特定应用程序主要用于游戏内编辑。我知道编辑器在独立时是最实用的，但这将是有限的，游戏控制台友好的编辑功能（不太强大，但原则上类似于 Little Big Planet 的编辑功能）。

我的背景是 3D 设计和动画，所以我习惯于使用许多基于节点的编辑系统 - 创建各种实用节点并调整输入和输出以驱动阴影、装配模型等参数。我当然不会尝试在游戏中重新创建它，但我很好奇将某些原则应用于有限的游戏内编辑功能。只是排除故障最好去做。

感谢您的回复！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T08:31:53.003

如果没有不安全的代码，我不知道如何在 C# 中执行此操作，但是.. 如果您绝对必须使用此解决方案解决您的问题并且不使用不安全的代码，那么[内存映射文件](http://msdn.microsoft.com/en-us/library/dd997372.aspx)可能是您的朋友。即便如此，这些在 .NET 4.0 之前还没有用于 .NET 开发，我不确定这个选项与不安全代码的性能相比如何。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T08:37:29.700

我认为您需要[的是观察者设计模式](http://dotnet.dzone.com/articles/design-patterns-c-observer)。对数学对象的更新感兴趣的项目将注册 avent ( ie `MathObjectChange`) 并做出适当的反应。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T09:06:27.727

在 C# 中执行此操作的方法是使用一对 get/set 委托。你可以使用这个方便的辅助结构来存储它们：

```
public struct Ref<T>
{
    Func<T> get;
    Action<T> set;

    public Ref(Func<T> get, Action<T> set)
    {
        this.get = get;
        this.set = set;
    }

    public T Value { get { return get(); } set { set(value); } }
} 
```

给定这样的类：

```
class Foo { public float bar; } 
```

像这样使用它：

```
Foo myFoo = new Foo();
Ref<float> barRef = new Ref<float>(() => myFoo.bar, (v) => myFoo.bar = v);

// Ta-Da:
barRef.Value = 12.5f;
Console.WriteLine(barRef.Value); 
```

（请注意，我还没有实际测试过这里的代码。这个概念很有效，而且我之前已经成功使用过它，但是我可能会通过在我的头顶上输入这个来搞乱我的语法。）

因为这个问题是用 XNA 标记的，所以我应该简单地谈谈性能：

1.  您可能会发现它的执行速度比等效的内存访问慢一个数量级左右——因此它不适合紧密循环。

2.  创建这些东西会分配内存。由于多种原因，这对性能非常不利。所以避免在你的绘制/更新循环中创建这些。不过，在加载过程中很好。

最后，这比简单地直接访问属性更难看——所以请确保你正在尽你所能*避免*在可能的情况下使用它。

# wpf - 在 wpfgrid 中选择控件

> ID：11682380
> 
> 赞同：1
> 
> 时间：2012-07-27T06:11:59.413
> 
> 标签：wpf, qtp

如果您已经在基于 wpf 的 Windows 应用程序中工作过，请告诉我

我的查询是如何从 qtp 中的 WPFGrid 控件中检索对象。进行间谍活动时，qtp 仅识别 WPFGrid 并注意其中的对象。请为此建议解决方法

WpfWindow("title").WpfTable("title")

wpftable 内部有四列和一些行。第一列包含复选框。我想选中/取消选中它。对象间谍无法识别 wpftable 内的任何内容

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T09:39:09.203

如果是，您想对 CheckBoxes 执行操作，而不是您需要

WpfWindow("title").WpfTable("title").WpfCheckBox("index:=0").Click

窥探复选框并检查属性。

# sql-server-2008 - JSP：MS SQL Server 2008 插入查询

> ID：11682383
> 
> 赞同：0
> 
> 时间：2012-07-27T06:12:10.283
> 
> 标签：sql-server-2008, jsp, insert

我想在数据库中插入一些会话数据。我有一个名为的表`SESSIONINFO`，它有三列，即`SESSIONID (text), USERID(text), LASTACCESSTIME(smalldatetime)`. 但是当我试图在数据库中插入值时，它会返回 Jasper 异常。

我正在使用的 JSP：

```
<html>
<head><title>Enter to database</title></head>
<body>
<table>
<%@ page import="java.util.*" %>
<%@ page import="javax.sql.*;" %>
<% 

java.sql.Connection con;
java.sql.Statement s;
java.sql.ResultSet rs;
java.sql.PreparedStatement pst;

con=null;
s=null;
pst=null;
rs=null;

Date lastAccessTime = new Date(session.getLastAccessedTime());
//lastAccessTime = String("lastAccessTime");
String sessionID = session.getId();
String userName ="anni";

// Remember to change the next line with your own environment
String url= 
"jdbc:jtds:sqlserver://localhost/someDB";
String id= "testuser";
String pass = "testpasswd";
try{

Class.forName("net.sourceforge.jtds.jdbc.Driver");
con = java.sql.DriverManager.getConnection(url, id, pass);

}catch(ClassNotFoundException cnfex){
cnfex.printStackTrace();
}

String sql = "insert into SESSIONINFO (SESSIONID, USERID, LASTACCESSTIME) values ('"+sessionID+"', '"+userName+"', '"+lastAccessTime"')";
try{
s = con.createStatement();
rs = s.executeQuery(sql);
}
catch(Exception e){e.printStackTrace();}
finally{
if(rs!=null) rs.close();
if(s!=null) s.close();
if(con!=null) con.close();
}

%>

</body>
</html> 
```

错误 -

```
org.apache.jasper.JasperException: Unable to compile class for JSP: 

An error occurred at line: 38 in the jsp file: /pages/insertsql.jsp
Syntax error on token ""\')"", delete this token
35: cnfex.printStackTrace();
36: }
37: 
38: String sql = "insert into SESSIONINFO (SESSIONID, USERID, LASTACCESSTIME) values ('"+sessionID+"', '"+userName+"', '"+lastAccessTime"')";
39: try{
40: s = con.createStatement();
41: rs = s.executeQuery(sql);

Stacktrace:
    org.apache.jasper.compiler.DefaultErrorHandler.javacError(DefaultErrorHandler.java:93)
    org.apache.jasper.compiler.ErrorDispatcher.javacError(ErrorDispatcher.java:330)
    org.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:451)
    org.apache.jasper.compiler.Compiler.compile(Compiler.java:328)
    org.apache.jasper.compiler.Compiler.compile(Compiler.java:307)
    org.apache.jasper.compiler.Compiler.compile(Compiler.java:295)
    org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:565)
    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:311)
    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:308)
    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:259)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:729) 
```

我的选择查询以这种方式工作正常，但`INSERT`查询语法似乎有问题。

请建议。感谢所有的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:17:26.433

您必须在 lastAccessTime 之后添加 +。

```
String sql = "insert into SESSIONINFO (SESSIONID, USERID, LASTACCESSTIME) values ('"+sessionID+"', '"+userName+"', '"+lastAccessTime + "')"; 
```

顺便说一句，它仍然不起作用，因为您不能仅将 Date 对象连接到您的查询。改用 PreparedStatement。您可以检查[使用文本输入来搜索访问日期列与之间/和](https://stackoverflow.com/questions/11656570/using-text-input-to-search-access-date-column-with-between-and/11656849#11656849)准备语句的示例用法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:16:26.577

如果我错了，请原谅我，但是在你的输出的行之间阅读它会出现在你的一个变量中有一个错误的'/'？它似乎将 / （也可能是引号）放入 INSERT 语句而不是您想要的实际值。

我看得更远，我在上面的正确轨道上，但我认为它是一个缺失的连接符号，而不是错误的变量。您最后似乎缺少一个 + 。

```
"+lastAccessTime"')"; 
```

应该...

```
"+lastAccessTime+"')"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T06:26:09.130

试试这个

```
String sql = "insert into SESSIONINFO (SESSIONID, USERID, LASTACCESSTIME) values (' " +sessionID + " ', ' " + userName + " ',' " + lastAccessTime+"')" 
```

# mysql - 如何管理与日期事物的mysql表关系

> ID：11682389
> 
> 赞同：0
> 
> 时间：2012-07-27T06:12:58.927
> 
> 标签：mysql, sql, database-design, data-modeling

我有这种情况

用户每年可以有很多个人资料，我也想保留历史记录

我有以下表格

1.  用户
2.  轮廓

现在我很困惑我是否应该为一年制作单独的表格。

我很困惑每年制作单独的个人资料。

我的意思是当新的一年到来时，我想将个人资料复制到新的个人资料，以便他们可以编辑新的个人资料，但上一年的个人资料将保持不可编辑

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:16:08.947

只需一张桌子用于配置文件。每个配置文件都应该有一个创建日期。然后您可以按日期排序并使最新的配置文件可编辑，并将较旧的配置文件视为档案。

# php - jquery滑块：滑动时显示两次下一个按钮，上一个按钮和分页对象

> ID：11682394
> 
> 赞同：0
> 
> 时间：2012-07-27T06:13:31.710
> 
> 标签：php, jquery, css, slider

以下 jquery 代码的下一个和上一个按钮工作正常。当用户单击下一个按钮时，后续页面的内容会在 contentcolumn div 中滑动，上一个按钮也会发生同样的情况。但是，内容列显示了一个额外的下一个、上一个按钮和分页对象。所以，现在有 2 个下一个按钮、2 个上一个按钮和 2 个分页对象。

如何让它只显示 1 个下一个按钮、1 个上一个按钮和 1 个分页对象？

仅供参考，下一个按钮、上一个按钮和分页对象都在 contentcolumn 之外。我的代码：

```
$(document).ready(function(){
 var pg=1;
$("#contentcolumn:first").show("slide",{'direction':"left"},1000);
$('#next').click(function () {
     if(pg<10){
        pg=pg+1;
        page_str="page="+pg;
        $.get('index2.php',page_str,function(data) {
          $('#contentcolumn').html(data).show("slide

",{'direction':"left"},1000);
             });
            // event.preventDefault();
             //return false;
          };

    });//end $('#next').click

    $('#prev').click(function(){
        if(pg>1){
            pg=pg-1
            page_str="page="+pg;
            $.get('index2.php',page_str,function(data){
                $('#contentcolumn').html(data).show("slide",{'direction':"right"},1000);
            });
        };
    });

});//end document ready 
```

样式.css

```
 /* CSS Document */
body{
margin:0;
padding:0;
line-height: 1.5em;
}
b{font-size: 110%;}
em{color: red;}

#topsection{
background-color: #EAEAEA;
height: 90px; /*Height of top section*/
}

#topsection h1{
margin: 0;
padding-top: 15px;
}

#contentwrapper{
float: left;
width: 100%;
/*z-index:0;
*/}

#contentcolumn{
margin: 0 200px 0 200px; /*Margins for content column. Should be "0 RightColumnWidth 0 LeftColumnWidth*/
float:left;
}

#leftcolumn{
float: left;
width: 200px; /*Width of left column*/
margin-right:-200px;
background-color: #C8FC98;
}

#rightcolumn{
float: left;
width: 200px; /*Width of right column*/
margin-left: -200px; /*Set left marginto -(RightColumnWidth)*/
background-color: #FDE95E;
}

#footer{
clear: left;
width: 100%;
background: black;
color: #FFF;
text-align: center;
padding: 4px 0;
}
#footer a{
color: #FFFF80;
}
.mycontent{
margin: 10px; /*Margins for inner DIV inside each column (to provide padding)*/
margin-top: 0;
}
.innertube{
margin: 10px; /*Margins for inner DIV inside each column (to provide padding)*/
margin-top: 0;
}

div.pagination {
    padding: 3px;
    margin: 3px;
}

div.pagination a {
    padding: 2px 5px 2px 5px;
    margin: 2px;
    border: 1px solid #AAAADD;

    text-decoration: none; /* no underline */
    color: #000099;
}
div.pagination a:hover, div.pagination a:active {
    border: 1px solid #000099;

    color: #000;
}
div.pagination span.current {
    padding: 2px 5px 2px 5px;
    margin: 2px;
        border: 1px solid #000099;

        font-weight: bold;
        background-color: #000099;
        color: #FFF;
    }
    div.pagination span.disabled {
        padding: 2px 5px 2px 5px;
        margin: 2px;
        border: 1px solid #EEE;

        color: #DDD;
    } 
```

php代码：

```
 <div id="maincontainer">
    <div id="contentwrapper">
    <div id="leftcolumn">
    <div class="innertube">
    <form type="post">
    <input type="button" id="prev" value="<"  />
    </form>
    </div>
    </div>
    <div id="contentcolumn">
    <div class="innertube">
    <?php
    $pagination='';
    if (function_exists("curl_init")){
        $ch=curl_init();
        curl_setopt($ch,CURLOPT_URL,"http://feeds.feedburner.com/rb286");
        curl_setopt($ch,CURLOPT_RETURNTRANSFER,1);
        $data=curl_exec($ch);
        curl_close($ch);
        //print_r($data);
        $doc=new SimpleXmlElement($data);
        //$doc=simpleXml_load_file("http://feeds.feedburner.com/rb286?format=xml");
        //$doc=simpleXml_load_string($data); 
        $xml = simplexml_import_dom($doc);    
        if (!$xml) { 
        echo 'Error while parsing the document'; 
        exit; 
         } 

        //print_r($doc);
        }

        function paginateFunc($xml){
        global $pagination;
        $disp_arr = array();
        $image_array=array();
        // How many adjacent pages should be shown on each side?
            $adjacents =3;

            $items=$xml->xPath('/rss/channel/item');
            $count=count($items);
            $total_pages = $count;

            /* Setup vars for query. */
            $targetpage = "index2.php";     //your file name  (the name of this file)
            $limit = 1;                                 //how many items to show per page
            $page = $_GET['page'];
            echo("page:".$page);
            if($page) 
                $start = ($page - 1) * $limit;          //first item to display on this page
            else
                $start = 0;                             //if no page var is given, set start to 0

            /* Setup page vars for display. */
            if ($page == 0) $page = 1;                  //if no page var is given, default to 1.
            $prev = $page - 1;                          //previous page is page - 1
            $next = $page + 1;                          //next page is page + 1
            $lastpage = ceil($total_pages/$limit);      //lastpage is = total pages / items per page, rounded up.
            $lpm1 = $lastpage - 1;                      //last page minus 1

            //echo("HALLO");
            foreach ($xml->xpath('//item/content:encoded') as $desc) { 
                preg_match_all('/(?<imgs><img[^>]+>)/m', $desc, $m); 
                /*foreach ($m['imgs'] as $img) { 
                    echo("<img src='".$img."'/>");
                    //array_push(image_array,$img);
                } */
             } 
            // $image_array=$m['imgs'];
          // print_r($image_array);
                     //
            foreach($items as $key => $item){ 
                        //if( ( $key >= $start) && ($key < $start + $limit) ){ 
                            $disp_array[$key]['link']=$item[0]->link;
                            $disp_array[$key]['title']=$item[0]->title;
                            $disp_array[$key]['desc']=$item[0]->description;

            }//end foreach($items 

            foreach($disp_array as $key=>$disp){
                    if($key == $start){

                    //if( ( $key >= $start) && ($key < $start + $limit) ){ 
                        echo("key:".$key." start:".$start);
                        //echo("<div class='mycontent'>");
                         echo("<a href='".$disp_array[$key]['link']."'>".$disp_array[$key]['title']."</a><br>");
                         echo($disp_array[$key]['desc']);
                         //echo(count($m['imgs']));
                         //echo("<img src='".$m['imgs'][$key]."'/>");
                         //echo("</div>");
                      }

            } 
            echo("</div>");//end div innertube
            echo("</div>");//end div contentcolumn
            echo("<div id='rightcolumn'>");
            echo("<div class='innertube'>");
            echo("<form type='post'>");
            echo("<input type='button' id='next' value='>' />");
            echo("</form>");
            echo("</div>");//end div innertube
            echo("</div>");
            echo("<div id='footer'>");
            /* 
                Now we apply our rules and draw the pagination object. 
                We're actually saving the code to a variable in case we want to draw it more than once.
            */
            //$pagination = "";
            if($lastpage > 1)
            {   
                $pagination .= "<div class=\"pagination\">";
                //previous button
                if ($page > 1) 
                    $pagination.= "<a href=\"$targetpage?page=$prev\">� previous</a>";
                else
                    $pagination.= "<span class=\"disabled\">� previous</span>"; 

                //pages 
                if ($lastpage < 7 + ($adjacents * 2))   //not enough pages to bother breaking it up
                {   
                    for ($counter = 1; $counter <= $lastpage; $counter++)
                    {
                        if ($counter == $page)
                            $pagination.= "<span class=\"current\">$counter</span>";
                        else
                            $pagination.= "<a href=\"$targetpage?page=$counter\">$counter</a>";                 
                    }
                }
                elseif($lastpage > 5 + ($adjacents * 2))    //enough pages to hide some
                {
                    //close to beginning; only hide later pages
                    if($page < 1 + ($adjacents * 2))        
                    {
                        for ($counter = 1; $counter < 4 + ($adjacents * 2); $counter++)
                        {
                            if ($counter == $page)
                                $pagination.= "<span class=\"current\">$counter</span>";
                            else
                                $pagination.= "<a href=\"$targetpage?page=$counter\">$counter</a>";                 
                        }
                        $pagination.= "...";
                        $pagination.= "<a href=\"$targetpage?page=$lpm1\">$lpm1</a>";
                        $pagination.= "<a href=\"$targetpage?page=$lastpage\">$lastpage</a>";       
                    }
                    //in middle; hide some front and some back
                    elseif($lastpage - ($adjacents * 2) > $page && $page > ($adjacents * 2))
                    {
                        $pagination.= "<a href=\"$targetpage?page=1\">1</a>";
                        $pagination.= "<a href=\"$targetpage?page=2\">2</a>";
                        $pagination.= "...";
                        for ($counter = $page - $adjacents; $counter <= $page + $adjacents; $counter++)
                        {
                            if ($counter == $page)
                                $pagination.= "<span class=\"current\">$counter</span>";
                            else
                                $pagination.= "<a href=\"$targetpage?page=$counter\">$counter</a>";                 
                        }
                        $pagination.= "...";
                        $pagination.= "<a href=\"$targetpage?page=$lpm1\">$lpm1</a>";
                        $pagination.= "<a href=\"$targetpage?page=$lastpage\">$lastpage</a>";       
                    }
                    //close to end; only hide early pages
                    else
                    {
                        $pagination.= "<a href=\"$targetpage?page=1\">1</a>";
                        $pagination.= "<a href=\"$targetpage?page=2\">2</a>";
                        $pagination.= "...";
                        for ($counter = $lastpage - (2 + ($adjacents * 2)); $counter <= $lastpage; $counter++)
                        {
                            if ($counter == $page)
                                $pagination.= "<span class=\"current\">$counter</span>";
                            else
                                $pagination.= "<a href=\"$targetpage?page=$counter\">$counter</a>";                 
                        }
                    }
                }

                //next button
                if ($page < $counter - 1) 
                    $pagination.= "<a href=\"$targetpage?page=$next\">next �&lt;/a>";
                else
                    $pagination.= "<span class=\"disabled\">next �&lt;/span>";
                $pagination.= "</div>\n";       
                }

            }

            if (isset($doc->channel)) paginateFunc($doc);
            ?>
            <?php 

        echo($pagination);
        ?>
        </div><!--closing tag for div footer-->
        </div><!--closing tag for div contentwrapper-->
        </div><!--closing tag for div maincontainer--> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-31T05:09:59.533

对于像我这样浪费了很多天时间在网上研究 abt jquery 滑块的人......我终于找到了这个很棒的滑块初学者教程。检查出来.. [http://jc-designs.net/blog/2010/03/jquery-slider-tutorial-for-beginners-how-i-did-mine/comment-page-1/#comment-23934](http://jc-designs.net/blog/2010/03/jquery-slider-tutorial-for-beginners-how-i-did-mine/comment-page-1/#comment-23934)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:45:05.090

拆分 HTML 和 Ajax 调用页面。在分配新值之前清除上一个、下一个链接值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T06:36:13.713

当您单击“下一个”或“上一个”时，您必须隐藏原始的#next、#previous，因为您正在从 html 响应中返回这些按钮。就像是

```
$.get('index2.php',page_str,function(data) {
      $('#next').hide();
      $('#previous').hide();
      $('#contentcolumn').html(data).show("slide

",{'direction':"left"},1000);
         }); 
```

# web - vtk和three.js同步

> ID：11682401
> 
> 赞同：1
> 
> 时间：2012-07-27T06:13:55.497
> 
> 标签：web, three.js, vtk

我正在开发一个 Web 应用程序，该应用程序允许您从服务器向客户端发送使用 VTK 制作的图片。但是你怎么知道互联网的速度取决于速度，嗯，文件系统。为了加快工作速度，我决定在客户端添加 webGL。现在问题出现在数据同步中。在VTK中围绕物体旋转相机，经过多次尝试，我无法在客户端做，相机工作良好（随着相机坐标的变化），但能够正确旋转物体。在此有一些问题： 1\. 对相机有什么想法吗？2.或者在vtk中改变旋转很容易？

## 更新：

我制作了一个相机，它与 vtk 同步，但知道我的 viewUp 向量有问题，在客户端上，当 phi 上升超过 90 后，它变成了 (0,-1,0)，当我制作 SetViewUp(0,-1,0 ） 没有改变

### Javascript：

```
 renderer.domElement.addEventListener('mousemove', function(e) {
            e.preventDefault();

            if ( paused ) {
                return;
            }

            if ( !moving ) {
                lastLeft = e.clientX;
                lastTop = e.clientY;
                moving = true;
            }

            // horizontal
            theta = - ( ( event.clientX - lastLeft ) * 360 /window.innerWidth ) + onMouseDownTheta;
            phi = ( ( event.clientY - lastTop ) * 360 /window.innerHeight ) + onMouseDownPhi;

            //phi = Math.min( 90, Math.max( -90, phi ) );
            var cosPhi = Math.cos( phi * Math.PI / 180 );
            var sinPhi = Math.sin( phi * Math.PI / 180 );
            var sinTheta = Math.sin( theta * Math.PI / 180 );
            var cosTheta = Math.cos( theta * Math.PI / 180 );

            //trace('data_move');trace(radious);trace(theta);trace(phi);trace(camera.up);   

            camera.position.x = radious * cosTheta * cosPhi;
            camera.position.y = radious * sinPhi;
            camera.position.z = radious * sinTheta * cosPhi;

            var u;
            if (phi<0)  phi=2*180+phi;
            if (phi>2*180)  phi=phi-2*180;

            if ((phi>180/2)&&(phi<3*180/2))
                u=-1;
            else
                u=1;

            camera.up = new THREE.Vector3(0, u, 0);
            camera.lookAt(new THREE.Vector3(FocalPoint[0],FocalPoint[1],FocalPoint[2]))
            trace('data_move');trace(FocalPoint);trace(camera.up);  

            camera.updateMatrix();

        });
        renderer.domElement.addEventListener('mousedown', function(e) {
            paused = false;
            lastLeft = e.clientX;
            lastTop = e.clientY;
            onMouseDownTheta = theta;
            onMouseDownPhi = phi;

        });
        renderer.domElement.addEventListener('mouseup', function(e) {
            moving = paused = true;
            counter = 0
            trace('data_move');trace(camera.position);trace(camera.up); 
            comm.makeRequest("vtk", {
                mode: curVtkConf.mode,
                command: "set_camera",
                up: {'x': camera.up.x,'y': camera.up.y,'z': camera.up.z},
                position: {'x': camera.position.x,'y': camera.position.y,'z': camera.position.z},
            });
        }); 
```

### 飞腾：

```
 def set_camera(self, position, up):
    '''
    Поворот в жестко заданную позицию.
    '''
    self.move_to_origin()
    bounds = self.src_actor.GetBounds()
    camera = self.renderer.GetActiveCamera()
    x, y, z = camera.GetPosition()
    edge = None
    camera.SetPosition(position['x'], position['y'], position['z'])
    camera.SetViewUp(up['x'], up['y'], up['z'])
    self.world_coords_to_pixel_ratio = self._get_world_coords_to_pixel_ratio()
    camera.OrthogonalizeViewUp()
    camera.SetRoll(0)
    self.renderer.ResetCameraClippingRange()
    self.renderer.ResetCamera() 
```

## 更新2：

现在我也有一些旋转问题。模型只是在旋转时改变了它的大小

### 解决：通过将模型移动到中心

# 完全解决了））

# xhtml - 将 ParseXHtml 与单个样式表一起使用

> ID：11682402
> 
> 赞同：0
> 
> 时间：2012-07-27T06:13:58.500
> 
> 标签：xhtml, itextsharp

在 itextsharp 中，我使用

```
var paragraph = new Paragraph();
var reader = new StringReader(text);
var handler = new HtmlHandler();
XMLWorkerHelper.GetInstance().ParseXHtml(handler, reader);

foreach (var element in handler.elements)
{
    paragraph.Add(element);
} 
```

获取给定 HTML 文本“文本”的 IElement，因为

```
iTextSharp.text.html.simpleparser.HTMLWorker.ParseToList (reader, stylesheet) 
```

已弃用，并且我对无序列表有一些问题（列表项没有缩进并且没有项目符号）。

是否有可能包含 css 文件（如在旧版本的解析器中）？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-25T12:57:03.470

在当前版本的 API 中，ParseXHtml 具有用于传入 css 文件的重载。

# jquery - 更改 iframe 滚动条样式

> ID：11682411
> 
> 赞同：1
> 
> 时间：2012-07-27T06:14:44.120
> 
> 标签：jquery, css, iframe

有没有办法改变 iframe 滚动条的样式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:18:02.043

我认为您需要使用可以让您做到这一点的插件，例如以下内容。 [http://www.net-kit.com/jquery-custom-scrollbar-plugins/](http://www.net-kit.com/jquery-custom-scrollbar-plugins/)

只是为了让你知道你不能用 css 做到这一点：[Iframe Scrollbar css](https://stackoverflow.com/questions/3559952/iframe-scrollbar-css)

您可以在 IE 中使用 css 更改它。 [更改我网站的样式滚动条 div](https://stackoverflow.com/questions/7645316/change-style-scrollbar-div-for-my-site)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T07:15:17.463

您也可以从 chrome/safari..（基于 webkit 的浏览器）更改它

```
::-webkit-scrollbar {
    width: 12px;
}

::-webkit-scrollbar-track {
    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3); 
    border-radius: 10px;
}

::-webkit-scrollbar-thumb {
    border-radius: 10px;
    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.5); 
} 
```

请参阅webkit 博客上的[这篇文章。](http://www.webkit.org/blog/363/styling-scrollbars/)而且，上面的片段被公然复制[的教程](http://css-tricks.com/custom-scrollbars-in-webkit/)。

对于 Mozilla Firefox 和家庭来说，还没有任何东西。请参阅这个[相关的 SO 问题](https://stackoverflow.com/questions/6165472/custom-css-scrollbar-for-firefox)。

# android - 加载页面前的 Android 暂停

> ID：11682416
> 
> 赞同：0
> 
> 时间：2012-07-27T06:15:10.830
> 
> 标签：android, android-activity

我有两个活动。活动 A 从活动 B 将使用的网络中获取大量信息。Activity A 使用 ProgressDialog 下载信息，然后触发启动 Activity B 的意图。这工作正常，但是在 ProgressDialog 消失后，在 Activity B 开始之前会有大约 1-3 秒的暂停。Activity B 使用下载的信息来显示一个大的 ListView。

在我的 ProgressDialog 显示完成后，是否有任何方法可以防止这种暂停？

活动 A 上触发事件的代码

```
 progressdialog = ProgressDialog.show(this, "", "Loading...");
        mAsyncFacebookRunner.request("fql", paramaters, new FQLRequestListener()); 
```

Facebook RequestListener 的代码

```
 private class FQLRequestListener implements RequestListener {

    @Override
    public void onComplete(String response, Object state) {
        try {
            // Load Lots of Data Here ...

            Intent Invite = new Intent(ActivityA.this, ActivityB.class);
            Bundle bundle = new Bundle();
            bundle.putSerializable("items", items);
            Invite.putExtras(bundle);

            progressdialog.dismiss();
            startActivityForResult(Invite, INVITE_FRIENDS);

        } catch (JSONException e) {

        } catch (FacebookError e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    @Override
    public void onIOException(IOException e, Object state) {
        // TODO Auto-generated method stub
        Log.d("exception", "IOException");

    }

    @Override
    public void onFileNotFoundException(FileNotFoundException e,
            Object state) {
        // TODO Auto-generated method stub
        Log.d("exception", "FNFException");

    }

    @Override
    public void onMalformedURLException(MalformedURLException e,
            Object state) {
        // TODO Auto-generated method stub
        Log.d("exception", "MalformedURLException");

    }

    @Override
    public void onFacebookError(FacebookError e, Object state) {
        // TODO Auto-generated method stub
        Log.d("exception", "FacebookError");

    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:39:46.310

那个暂停时间只不过是活动 B 的屏幕加载时间。并用数据加载 UI ..不要让 onCreate() 方法变大..在一些不同的线程中将数据加载到 UI ..比如 AsynTask 或在任何正常的线程中..然后就可以了..

# gcc - gcc 中的 x = (x++)

> ID：11682418
> 
> 赞同：0
> 
> 时间：2012-07-27T06:15:25.633
> 
> 标签：gcc, increment

> **可能重复：**
> [未定义的行为和序列点](https://stackoverflow.com/questions/4176328/undefined-behavior-and-sequence-points)

我编写了以下代码，[令我惊讶的是]它打印：xx：1 zz：0

我本来希望 xx 和 zz 都打印为 0。这在 linux 和 darwin 上使用 gcc 4.2、4.4 和 4.7 进行了尝试。经过一些研究，我发现 x=x++ 是未定义的行为，但我希望 (x++) 首先执行并返回 0。有人可以阐明这种奇怪的编译器行为吗？

```
#include <iostream>
using namespace std;

int frwd(int aa) { return aa; }

int main() {
  int xx = 0;
  xx = (xx++);
  cout << "xx:" << xx << endl;

  int zz = 0;
  zz = frwd(zz++);
  cout << "zz:" << zz << endl;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:17:38.533

未定义的行为是未定义的。什么事情都可能发生。您的问题多次重复。

# user-interface - JavaFX 2 - 用什么组件来表示机械开关

> ID：11682419
> 
> 赞同：1
> 
> 时间：2012-07-27T06:15:30.890
> 
> 标签：user-interface, javafx-2

我想设计一个看起来像有 3 个位置的开关的组件。一个中性位置和上开关位置，当用户单击组件的上半部分时，以及下开关位置，当用户单击组件的下半部分时。当鼠标被释放时，开关回到中立位置。我有这些位置的 3 个开关图像。我正在考虑使用`Button`然后检查鼠标点击坐标是在上半部分还是下半部分，然后相应地设置图像。我正在寻找任何更好的建议，如果可能的话，对图像使用 css（我不知道是否可能），或者如果更合适的话，使用其他组件的任何其他建议。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T07:52:12.367

这是我所做的，它有效......

```
final Button rstButton = new Button();
    final Image rstNeutral = new Image(MyClass.class.getResourceAsStream("images/switch_neutral.png"));
    final Image rstUp = new Image(MyClass.class.getResourceAsStream("images/switch_on.png"));
    final Image rstDown = new Image(MyClass.class.getResourceAsStream("images/switch_off.png"));
    final ImageView rstImage = new ImageView();
    rstImage.setImage(rstNeutral);
    rstButton.setGraphic(rstImage);

    rstButton.setOnMousePressed(new EventHandler<MouseEvent>() {

        @Override
        public void handle(MouseEvent me) {
            double mouseY = me.getY();
            double buttonY = rstButton.getLayoutY();
            double buttonHeight = rstButton.getHeight();

            if(buttonY + mouseY > buttonY + (buttonHeight / 2)) {
                rstImage.setImage(rstDown);
            } else {
                rstImage.setImage(rstUp);
            }
        }
    });

    rstButton.setOnMouseReleased(new EventHandler<MouseEvent>() {

        @Override
        public void handle(MouseEvent arg0) {
            rstImage.setImage(rstNeutral);
        }
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:30:44.000

我认为您应该使用三个组件而不是一个组件。

例如，您可以使用三个 ToogleButton 实例。该组件在外观上类似于一个按钮，但具有一个工具状态（单击/未单击）。我从不在 javaFX 中使用它，但我认为您会在 oracle 网站上找到足够的帮助（例如：[http](http://docs.oracle.com/javafx/2/ui_controls/toggle-button.htm) ://docs.oracle.com/javafx/2/ui_controls/toggle-button.htm ）

* * *

编辑 ：

经过评论，我认为机械开关的图像（http://docs.oracle.com/javafx/2/api/javafx/scene/image/Image.html）可能是解决方案。如果您从侧面显示开关，您可以根据开关的状态更改图像的旋转。

为了知道用户点击的位置，定位按钮的位置可以工作。

另一种解决方案可能是在图像顶部设置三个透明区域并拦截这些区域上的点击事件，而不是图像。从来没有使用过这样的解决方案，我真的可以帮助你更多。

我看到的最后一个解决方案可能是在开关图像的一侧使用两个另一个图像组件，显示两个箭头，用于向上或向下拉开关。

# mysql - 使用 MySql 在 JDBC 中转义单引号

> ID：11682421
> 
> 赞同：2
> 
> 时间：2012-07-27T06:15:34.493
> 
> 标签：mysql, database, jdbc

我编写了代码来将来自新闻网站的一些标题存储在数据库中。但是，标题有时还会包含 (') 单引号和双引号，这会在尝试将其插入表格时导致错误。

解决这个问题的最佳方法是什么？

这是我的代码：

```
Statement st = con.createStatement();
int val = st.executeUpdate("INSERT into imageinfo(imageurl,title,headline,website) VALUES('"+imageurl+"','"+title+"','"+headline+"','"+website+"')"); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T06:21:01.843

您应该考虑使用预编译 SQL 查询的[预处理语句。](http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html)根据您的数据首先来自哪里，这也可以防止 SQL 注入。

使用预准备语句的另一个优点是，您可以在每次执行时重复使用具有不同参数的同一语句。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:17:31.123

我认为你可以用反斜杠转义一个字符（在 sql 指令中）......

另一种方法是用双引号将包含单引号的值括起来。

# android - Android mergeAdapter ListView + Horizo ntalScrollView

> ID：11682422
> 
> 赞同：0
> 
> 时间：2012-07-27T06:15:41.890
> 
> 标签：android, android-layout

我一直在使用 mergeAdapter 将多个列表视图合并在一起，没有任何问题。现在，我想用它来合并顶部的列表视图，中间的水平滚动视图和底部的另一个列表视图，但到目前为止......我不知道该怎么做. 如果有人能帮我一把，那就太好了……

以下是我现有的代码。

我的活动

```
public void onCreate(Bundle savedInstanceState){
    super.onCreate(savedInstanceState);
    setContentView(R.layout.listview_a);

    lv = (ListView) findViewById(R.id.list_all);

    adapter=new MergeAdapter();
    infoArray = new ArrayList<Infos>();
            photoArray = new ArrayList<Photos>();
    commentArray = new ArrayList<Comments>();
    infoAdapter = new InfoAdapter(MyActivity.this, R.layout.info_list_layout, infoArray);
    /// photoAdapter = new PhotoAdapter(MyActivity.this, R.layout.photo_hscroll_layout, photoArray); /// STUCK
    commentAdapter = new CommentAdapter(MyActivity.this, R.layout.comment_list_layout, commentArray);
    lv.setTextFilterEnabled(true);
    adapter.addAdapter(infoAdapter);
    /// adapter.addAdapter(photoAdapter); //// STUCK
    adapter.addAdapter(commentAdapter);

    lv.setAdapter(adapter);
    try {
        new stuffSync().execute("http://www.StuckForDays.com/json");
    } catch(Exception e) {}

}

private class stuffSync extends AsyncTask<String, Integer, stuffDetail> {

    protected stuffDetail doInBackground(String... urls) {
        stuffDetail list = null;
        int count = urls.length;

        for (int i = 0; i < count; i++) {
            try {           
                //rest client
                RestClient client = new RestClient(urls[i]);
                try {
                    client.Execute(RequestMethod.GET);
                } catch (Exception e) {
                    e.printStackTrace();
                }

                String json = client.getResponse();

                list = new Gson().fromJson(json, stuffDetail.class);

                //
            } catch(Exception e) {}
        }
        return list;
    }

    protected void onProgressUpdate(Integer... progress) {

    }

    protected void onPostExecute(stuffDetail list) {

        List<Infos> info = list.getInfo();
         for (Infos info2 : info) {
            infoArray.add(info2);
        }
         List<Photos> photos = list.getPhotos();
         for (Photos photo : photos) {
            photoArray.add(photo);
            System.out.println(photo);
        }
         List<Comments> comments = list.getComments();
         for (Comments comment : comments) {
            commentArray.add(comment);
        }
        infoAdapter.notifyDataSetChanged();
        // photoAdapter.notifyDataSetChanged();  //// STUCK
        commentAdapter.notifyDataSetChanged();
    }

} 
```

infoAdapter 和 commentAdapter （几乎相同）

```
public class InfoAdapter extends ArrayAdapter<Infos> {
int resource;
String response;
Context context;
private LayoutInflater dInflater;

public InfoAdapter(Context context, int resource, List<Infos> objects) {
        super(context, resource, objects);
        this.resource = resource;
        dInflater = LayoutInflater.from(context);
}
static class ViewHolder {
    TextView realname;
    TextView nickname;
}
public View getView(int position, View convertView, ViewGroup parent)
{
    ViewHolder holder;

    Infos lm = (Infos) getItem(position);

    //Inflate the view
    if(convertView==null)
    {
        convertView = dInflater.inflate(R.layout.info_list_layout, null);
        holder = new ViewHolder();
        holder.realname = (TextView) convertView.findViewById(R.id.realname);
        holder.nickname = (TextView) convertView.findViewById(R.id.nickname);

        convertView.setTag(holder);
    }
    else
    {
        holder = (ViewHolder) convertView.getTag();
    }

    holder.realname.setText(lm.getRealName());
    holder.nickname.setText(lm.getNickname());

    return convertView;
}
} 
```

我的照片 json

```
{
     "photos" : [
  {
     "thumbnail" : "http://www.myserver.com/01.jpg"
  },
  {
     "thumbnail" : "http://www.myserver.com/02.jpg"
  },
  {
     "thumbnail" : "http://www.myserver.com/03.jpg"
  }
]} 
```

现在我被困在如何让 photoArray 创建中间部分水平滚动视图......我可以获取 json 并将它们添加到 photoArray，只是不知道如何提取、创建视图并显示它。

提前谢谢大家

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:21:58.897

i think problem solve with horizontal scroll view.. this is a custom control..

```
import java.util.HashMap;
import java.util.LinkedList;
import java.util.Queue;

import android.content.Context;
import android.database.DataSetObserver;
import android.graphics.Rect;
import android.util.AttributeSet;
import android.view.GestureDetector;
import android.view.GestureDetector.OnGestureListener;
import android.view.MotionEvent;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ListAdapter;
import android.widget.Scroller;

public class HorizontalListView extends AdapterView<ListAdapter> {

    public boolean mAlwaysOverrideTouch = true;
    protected ListAdapter mAdapter;
    private int mLeftViewIndex = -1;
    private int mRightViewIndex = 0;
    protected int mCurrentX;
    protected int mNextX;
    private int mMaxX = Integer.MAX_VALUE;
    private int mDisplayOffset = 0;
    protected Scroller mScroller;
    private GestureDetector mGesture;
    private Queue<View> mRemovedViewQueue = new LinkedList<View>();
    private OnItemSelectedListener mOnItemSelected;
    private OnItemClickListener mOnItemClicked;
    private OnItemLongClickListener mOnItemLongClicked;
    private boolean mDataChanged = false;
    private boolean mMeasureHeightForVisibleOnly = true;

    public HorizontalListView(Context context, AttributeSet attrs) {
        super(context, attrs);
        initView();
    }

    private synchronized void initView() {
        mLeftViewIndex = -1;
        mRightViewIndex = 0;
        mDisplayOffset = 0;
        mCurrentX = 0;
        mNextX = 0;
        mMaxX = Integer.MAX_VALUE;
        mScroller = new Scroller(getContext());
        mGesture = new GestureDetector(getContext(), mOnGesture);
    }

    @Override
    public void setOnItemSelectedListener(AdapterView.OnItemSelectedListener listener) {
        mOnItemSelected = listener;
    }

    @Override
    public void setOnItemClickListener(AdapterView.OnItemClickListener listener){
        mOnItemClicked = listener;
    }

    @Override
    public void setOnItemLongClickListener(AdapterView.OnItemLongClickListener listener) {
        mOnItemLongClicked = listener;
    }

    private DataSetObserver mDataObserver = new DataSetObserver() {

        @Override
        public void onChanged() {
            synchronized(HorizontalListView.this){
                mDataChanged = true;
            }
            invalidate();
            requestLayout();
        }

        @Override
        public void onInvalidated() {
            reset();
            invalidate();
            requestLayout();
        }

    };

    @Override
    public ListAdapter getAdapter() {
        return mAdapter;
    }

    @Override
    public View getSelectedView() {
        //TODO: implement
        return null;
    }

    @Override
    public void setAdapter(ListAdapter adapter) {
        if(mAdapter != null) {
            mAdapter.unregisterDataSetObserver(mDataObserver);
        }
        mAdapter = adapter;
        mAdapter.registerDataSetObserver(mDataObserver);
        reset();
    }

    /**
* @param visibleOnly - If set to true, then height is calculated
* only using visible views. If set to false then height is
* calculated using _all_ views in adapter. Default is true.
* Be very careful when passing false, as this may result in
* significant performance hit for larger number of views.
*/
    public void setHeightMeasureMode(boolean visibleOnly) {
        if(mMeasureHeightForVisibleOnly != visibleOnly) {
            mMeasureHeightForVisibleOnly = visibleOnly;
            requestLayout();
        }
    }

    private synchronized void reset(){
        initView();
        removeAllViewsInLayout();
        requestLayout();
    }

    @Override
    public void setSelection(int position) {
        //TODO: implement
    }

    private void addAndMeasureChild(final View child, int viewPos) {
        LayoutParams params = child.getLayoutParams();
        if(params == null) {
            params = new LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT);
        }

        addViewInLayout(child, viewPos, params, true);
        child.measure(MeasureSpec.makeMeasureSpec(getWidth(), MeasureSpec.AT_MOST),
                MeasureSpec.makeMeasureSpec(getHeight(), MeasureSpec.AT_MOST));
    }

    @Override
    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
        super.onMeasure(widthMeasureSpec, heightMeasureSpec);

        if(MeasureSpec.getMode(heightMeasureSpec) != MeasureSpec.EXACTLY) {
            int height = 0;

            if(mMeasureHeightForVisibleOnly) {
                int childCount = getChildCount();
                for(int i = 0; i < childCount; i++) {
                    View v = getChildAt(i);
                    v.measure(MeasureSpec.UNSPECIFIED, MeasureSpec.UNSPECIFIED);
                    if(v.getMeasuredHeight() > height) {
                        height = v.getMeasuredHeight();
                    }
                }
            } else {

                /* Traverses _all_ views! Bypasses view recycler! */

                HashMap<Integer, View> mRecycler = new HashMap<Integer, View>();
                int childCount = getAdapter().getCount();
                for(int i = 0; i < childCount; i++) {
                    int type = getAdapter().getItemViewType(i);
                    View convertView = mRecycler.get(type);
                    View v = getAdapter().getView(i, convertView, this);
                    mRecycler.put(type, v);

                    v.measure(MeasureSpec.UNSPECIFIED, MeasureSpec.UNSPECIFIED);
                    if(v.getMeasuredHeight() > height) {
                        height = v.getMeasuredHeight();
                    }
                }
            }

            if(MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.AT_MOST) {
                int maxHeight = MeasureSpec.getSize(heightMeasureSpec);
                if(maxHeight < height) {
                    height = maxHeight;
                }
            }

            setMeasuredDimension(getMeasuredWidth(), height);
        }
    }

    @Override
    protected synchronized void onLayout(boolean changed, int left, int top,
                                                          int right, int bottom) {
        super.onLayout(changed, left, top, right, bottom);

        if(mAdapter == null){
            return;
        }

        if(mDataChanged){
            int oldCurrentX = mCurrentX;
            initView();
            removeAllViewsInLayout();
            mNextX = oldCurrentX;
            mDataChanged = false;
        }

        if(mScroller.computeScrollOffset()){
            int scrollx = mScroller.getCurrX();
            mNextX = scrollx;
        }

        if(mNextX <= 0){
            mNextX = 0;
            mScroller.forceFinished(true);
        }
        if(mNextX >= mMaxX) {
            mNextX = mMaxX;
            mScroller.forceFinished(true);
        }

        int dx = mCurrentX - mNextX;

        removeNonVisibleItems(dx);
        fillList(dx);
        positionItems(dx);

        mCurrentX = mNextX;

        if(!mScroller.isFinished()){
            post(new Runnable(){
                public void run() {
                    requestLayout();
                }
            });

        }
    }

    private void fillList(final int dx) {
        int edge = 0;
        View child = getChildAt(getChildCount()-1);
        if(child != null) {
            edge = child.getRight();
        }
        fillListRight(edge, dx);

        edge = 0;
        child = getChildAt(0);
        if(child != null) {
            edge = child.getLeft();
        }
        fillListLeft(edge, dx);

    }

    private void fillListRight(int rightEdge, final int dx) {
        while(rightEdge + dx < getWidth() && mRightViewIndex < mAdapter.getCount()) {

            View child = mAdapter.getView(mRightViewIndex, mRemovedViewQueue.poll(), this);
            addAndMeasureChild(child, -1);
            rightEdge += child.getMeasuredWidth();

            if(mRightViewIndex == mAdapter.getCount()-1) {
                mMaxX = mCurrentX + rightEdge - getWidth();
            }

            if (mMaxX < 0) {
                mMaxX = 0;
            }
            mRightViewIndex++;
        }

    }

    private void fillListLeft(int leftEdge, final int dx) {
        while(leftEdge + dx > 0 && mLeftViewIndex >= 0) {
            View child = mAdapter.getView(mLeftViewIndex, mRemovedViewQueue.poll(), this);
            addAndMeasureChild(child, 0);
            leftEdge -= child.getMeasuredWidth();
            mLeftViewIndex--;
            mDisplayOffset -= child.getMeasuredWidth();
        }
    }

    private void removeNonVisibleItems(final int dx) {
        View child = getChildAt(0);
        while(child != null && child.getRight() + dx <= 0) {
            mDisplayOffset += child.getMeasuredWidth();
            mRemovedViewQueue.offer(child);
            removeViewInLayout(child);
            mLeftViewIndex++;
            child = getChildAt(0);

        }

        child = getChildAt(getChildCount()-1);
        while(child != null && child.getLeft() + dx >= getWidth()) {
            mRemovedViewQueue.offer(child);
            removeViewInLayout(child);
            mRightViewIndex--;
            child = getChildAt(getChildCount()-1);
        }
    }

    private void positionItems(final int dx) {
        if(getChildCount() > 0){
            mDisplayOffset += dx;
            int left = mDisplayOffset;
            for(int i=0;i<getChildCount();i++){
                View child = getChildAt(i);
                int childWidth = child.getMeasuredWidth();
                child.layout(left, 0, left + childWidth, child.getMeasuredHeight());
                left += childWidth;
            }
        }
    }

    public synchronized void scrollTo(int x) {
        mScroller.startScroll(mNextX, 0, x - mNextX, 0);
        requestLayout();
    }

    @Override
    public boolean dispatchTouchEvent(MotionEvent ev) {
        boolean handled = super.dispatchTouchEvent(ev);
        handled |= mGesture.onTouchEvent(ev);
        return handled;
    }

    protected boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX,
                float velocityY) {
        synchronized(HorizontalListView.this){
            mScroller.fling(mNextX, 0, (int)-velocityX, 0, 0, mMaxX, 0, 0);
        }
        requestLayout();

        return true;
    }

    protected boolean onDown(MotionEvent e) {
        mScroller.forceFinished(true);
        return true;
    }

    private OnGestureListener mOnGesture = new GestureDetector.SimpleOnGestureListener() {

        @Override
        public boolean onDown(MotionEvent e) {
            return HorizontalListView.this.onDown(e);
        }

        @Override
        public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX,
                float velocityY) {
            return HorizontalListView.this.onFling(e1, e2, velocityX, velocityY);
        }

        @Override
        public boolean onScroll(MotionEvent e1, MotionEvent e2,
                float distanceX, float distanceY) {

            synchronized(HorizontalListView.this){
                mNextX += (int)distanceX;
            }
            requestLayout();

            return true;
        }

        @Override
        public boolean onSingleTapConfirmed(MotionEvent e) {
            Rect viewRect = new Rect();
            for(int i=0;i<getChildCount();i++){
                View child = getChildAt(i);
                int left = child.getLeft();
                int right = child.getRight();
                int top = child.getTop();
                int bottom = child.getBottom();
                viewRect.set(left, top, right, bottom);
                if(viewRect.contains((int)e.getX(), (int)e.getY())){
                    if(mOnItemClicked != null){
                        mOnItemClicked.onItemClick(HorizontalListView.this, child, mLeftViewIndex + 1 + i, mAdapter.getItemId( mLeftViewIndex + 1 + i ));
                    }
                    if(mOnItemSelected != null){
                        mOnItemSelected.onItemSelected(HorizontalListView.this, child, mLeftViewIndex + 1 + i, mAdapter.getItemId( mLeftViewIndex + 1 + i ));
                    }
                    break;
                }

            }
            return true;
        }

        @Override
        public void onLongPress(MotionEvent e) {
            Rect viewRect = new Rect();
            int childCount = getChildCount();
            for (int i = 0; i < childCount; i++) {
                View child = getChildAt(i);
                int left = child.getLeft();
                int right = child.getRight();
                int top = child.getTop();
                int bottom = child.getBottom();
                viewRect.set(left, top, right, bottom);
                if (viewRect.contains((int) e.getX(), (int) e.getY())) {
                    if (mOnItemLongClicked != null) {
                        mOnItemLongClicked.onItemLongClick(HorizontalListView.this, child, mLeftViewIndex + 1 + i, mAdapter.getItemId(mLeftViewIndex + 1 + i));
                    }
                    break;
                }

            }
        }

    };

} 
```

and you can set data in this same as a custom listadapter in listview.

here is the custom adapter

```
private class ListAdapter extends ArrayAdapter<bin> { // --CloneChangeRequired
        private ArrayList<bin> mList; // --CloneChangeRequired

        ImageView img;
        TextView title;
        String id;

        public ListAdapter(Context context, int textViewResourceId,
                ArrayList<bin> list) { // --CloneChangeRequired
            super(context, textViewResourceId, list);
            this.mList = list;
            imageLoader = new ImageLoader(YoutubeplayerActivity.this
                    .getApplicationContext());
        }

        public View getView(final int position, View convertView,
                ViewGroup parent) {
            View view = convertView;
            try {
                if (view == null) {
                    LayoutInflater vi = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                    view = vi.inflate(R.layout.cuslistview, null); // --CloneChangeRequired(list_item)
                }
                img = (ImageView) view.findViewById(R.id.imageView1);

                title = (TextView) view.findViewById(R.id.textView1);

                final bin listItem = mList.get(position);
                // --CloneChangeRequired

                if (listItem != null) {

                    id = listItem.getId();

                    imageLoader.DisplayImage(listItem.getThumbnail(), img);

                    title.setText(listItem.getTitle());

                    rlv.setOnClickListener(new OnClickListener() {

                        public void onClick(View v) {

                        }

                    });
                }
            } catch (Exception e) {
                Log.v("log", "" + e.toString());
            }
            return view;
        }
    } 
```

you can bind data in horizontal listview

```
HorizonatlListView hv = (HorizontalListView) findviewbyId(R.id.hv1);
hv.setadater(new ListAdapter(getApplicationContext,R.id.hv1,ArrayList<bin>)); 
```

# objective-c - 格式化字符串目标 c

> ID：11682423
> 
> 赞同：1
> 
> 时间：2012-07-27T06:15:46.527
> 
> 标签：objective-c, format-string

我发现这 [是否可以使用格式字符串来对齐 NSStrings，就像数字一样？](https://stackoverflow.com/questions/1671531/is-it-possible-to-use-format-strings-to-align-nsstrings-like-numbers-can-be)

我有类似的任务，但格式相反。

```
 TOTAL:      2
SUBTOTAL:   6.00
     TAX:     0%
    CASH:  12.00 
```

我的代码是这个

```
NSString* item [NSString stringWithFormat:@"%-10s %@", @"TOTAL",@"2"]; 
```

然而结果是这样的

```
TOTAL:   2
SUBTOTAL:  6.00 
```

**更新**

我让它与这段代码一起工作。

```
NSString* item [NSString stringWithFormat:@"%12s %7s", [total UTF8String],[amount UTF8String]]; 
```

**更新问题**

如果文本太长怎么办？

```
THIS TEXT IS TOO LONG 
```

我希望它是

```
THIS TEXT
IS TOO LONG 
```

# ruby-on-rails - 山狮升级后无法安装一些宝石

> ID：11682429
> 
> 赞同：8
> 
> 时间：2012-07-27T06:16:22.143
> 
> 标签：ruby-on-rails, macos

我刚刚将我的 Macbook 更新为 Mountain Lion，但现在我无法安装一些 gem，因为以下有关标题的错误。我环顾四周，似乎与缺少 Ruby 标头有关。有人建议安装 Xcode，所以我从应用商店安装了完整的 Xcode 以及 Xcode 命令行工具。但仍然没有运气。有什么建议么？

```
ERROR: Failed to build gem native extension. (Gem::Installer::ExtensionBuildError)
checking for ffi.h... *** extconf.rb failed ***
Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
details.  You may need configuration options. 
```

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-07-27T06:32:42.087

请务必安装 Xcode 的命令行工具。

这个[提示](https://gist.github.com/3181128)帮助我解决了这个问题：

```
sudo ln -s /usr/bin/llvm-gcc-4.2 /usr/bin/gcc-4.2 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T18:48:34.897

我只需从以下位置安装“Xcode 命令行工具 10.8 - 2012 年 7 月下旬”（不是 XCode 本身），就能让事情正常进行：

*   [https://developer.apple.com/downloads/index.action](https://developer.apple.com/downloads/index.action)

    （点击 Mac 开发中心页面的“查看所有下载”链接）

仅供参考，我没有在 Lion 上安装 XCode，只是“命令行工具”。不确定新的 XCode 命令行工具是否能很好地与旧的 XCode 配合使用。

# ios - Cocos2d中的一些bug

> ID：11682431
> 
> 赞同：0
> 
> 时间：2012-07-27T06:16:26.153
> 
> 标签：ios, objective-c, cocos2d-iphone, gesture, touches

我编写了以下程序，它必须执行以下操作：当用户触摸移动精灵时，它必须从场景中移除。

但是，当我运行我的代码时，会发生以下事情：当我触摸最上面的精灵时，它会消失在它的邻居身上。我该如何解决？

这是代码。

UPD：我已经在较小的 *.png 文件上测试了这段代码，一切正常。但是在更大的 *.png 文件（如 200x200 像素，iPhone 模拟器）上，我有一个错误：对象在 touchEvent 上与其最近的邻居一起删除。

定义

```
 #import <Foundation/Foundation.h>
#import "cocos2d.h"

@interface GameplayLayer : CCLayer {

    NSMutableArray *arrayOfSprites;

}
@end
    #import "GameplayLayer.h"
@implementation GameplayLayer
    -(id)init
{
    self = [super init];
    self.isTouchEnabled=YES;
    arrayOfSprites=[[NSMutableArray alloc] init];

    if (self != nil) 
    {
        int j=100;

        for (int i=0; i<=2; i++) {
            [arrayOfSprites addObject:[CCSprite spriteWithFile:@"sv_anim_1-hd.png"]];
            [[arrayOfSprites objectAtIndex:i] setPosition:CGPointMake(j,j)];
            [self addChild:[arrayOfSprites objectAtIndex:i] z:0 tag:i];
            j+=100;
        }
        [self startRunning];
    }
    return self;                                 
}
    -(void)startRunning
{
    CGSize screenSize=[[CCDirector sharedDirector] winSize];
    for ( CCSprite * currentSprite in arrayOfSprites) 
    {
        [currentSprite runAction:[CCMoveTo actionWithDuration:10 position:CGPointMake(screenSize.height,screenSize.width/2)]];
    }
}
        -(void) registerWithTouchDispatcher
    {
        [[CCTouchDispatcher sharedDispatcher] addTargetedDelegate:self priority:0
                                                  swallowsTouches:YES];
    }

        -(BOOL) ccTouchBegan:(UITouch *)touch withEvent:(UIEvent *)event {
        return YES;
    }

        -(void) ccTouchEnded:(UITouch *)touch withEvent:(UIEvent *)event {
        CGPoint locationOfTouch=[self convertTouchToNodeSpace: touch];

        for (CCSprite *currentSprite in arrayOfSprites)
        {
            if (CGRectContainsPoint(currentSprite.boundingBox, locationOfTouch))
            {
                NSLog(@"Sprite was touched");
                [self removeChild:currentSprite cleanup:YES];
            }
        }

    }
    @end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:23:45.960

试试这个功能：

```
-(CGRect)getSpriteRect:(CCNode *)inSprite
{
    CGRect sprRect = CGRectMake(
                                inSprite.position.x - inSprite.contentSize.width*inSprite.anchorPoint.x,
                                inSprite.position.y - inSprite.contentSize.height*inSprite.anchorPoint.y,
                                inSprite.contentSize.width, 
                                inSprite.contentSize.height
                                ); 

    return sprRect;
}

- (void)ccTouchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
{
    UITouch *myTouch = [touches anyObject];
    CGPoint location = [myTouch locationInView:[myTouch view]];
    location = [[CCDirector sharedDirector] convertToGL:location];

    for (CCSprite *currentSprite in arrayOfSprites)
    {
      CGRect rect = [self getSpriteRect:currentSprite];

      if (CGRectContainsPoint(rect, location))
      {
          NSLog(@"Sprite was touched");
          [self removeChild:currentSprite cleanup:YES];
       }
     }
} 
```

# ruby-on-rails - 无法在函数签名中发现语法错误

> ID：11682433
> 
> 赞同：0
> 
> 时间：2012-07-27T06:16:30.717
> 
> 标签：ruby-on-rails, ruby

我有以下功能 -

```
def add (*nums)
  nums.reduce(:+)
end

def subtract(first, *rest)
  first - rest.reduce(:+)
end

def calculate(*nums, options)
  first = nums.first
  rest = nums.reverse.drop(1)
  add(*nums) if options.size == 0
end 
```

以下是我在调用该函数时收到的错误 -

> 语法错误，意外 '='，期待 ')' def calculate(*nums, options={}) ^

我的语法有什么错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:21:31.750

在 splatted 参数之后不能有默认参数。这给解析器造成了歧义。例如：

```
calculate 1, 2, 3, 4 
```

4应该去`nums`还是被分配到`options`？

有几个选项可用

### 删除选项的默认参数

```
def calculate(*nums, options)
  # implementation
end

calculate 1, 2, 3, add: true # options
calculate 1, 2, 3, {} # no options 
```

### 删除 splat

```
def calculate(nums, options = {})
  # implementation
end

calculate [1, 2, 3], add: true # options
calculate [1, 2, 3] # no options 
```

### 保持两者，但做更多的工作

查看@muistooshort 的[回答](https://stackoverflow.com/a/11682607/125816)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T06:31:32.250

你也可以有你的 splat 和你的选择，你只需要手动整理它：

```
def calculate(*nums)
  options = nums.last.is_a?(Hash) ? nums.pop : { }
  #... 
```

然后你可以毫无困难`calculate(1, 2, 3)`地说。`calculate(1, 2, :size => 0)`当然，这假设 Hash 不是`nums`.

# c# - 如果用户控件位于中继器中，则不会初始化用户控件中的控件

> ID：11682435
> 
> 赞同：6
> 
> 时间：2012-07-27T06:16:57.517
> 
> 标签：c#, asp.net, .net

我有一种情况，我在页面上的两个地方使用了一些标记，其中一个在转发器中。中继器中的那个没有初始化它的子控件；他们保持为空。

默认.aspx：

```
<%@ Page Title="Home Page" Language="C#" AutoEventWireup="true"
    CodeBehind="Default.aspx.cs" Inherits="nestedcontroltest._Default" %>
<%@ Register TagPrefix="a" Namespace="nestedcontroltest" Assembly="nestedcontroltest" %>
<html>
    <head>
        <title>test</title>
    </head>
    <body>
        <asp:Repeater runat="server" ID="rptLetters" OnItemDataBound="rptLetters_ItemDataBound">
            <ItemTemplate>
                <a:MyControl runat="server" ID="ctrlMyControl"/>
            </ItemTemplate>
        </asp:Repeater>
    </body>
</html> 
```

默认.aspx.cs：

```
public partial class _Default : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
        rptLetters.DataSource = new[] { "a", "b", "c" };
        rptLetters.DataBind();
    }

    public void rptLetters_ItemDataBound(object sender, RepeaterItemEventArgs e)
    {
        var ctrlMyControl = (MyControl)e.Item.FindControl("ctrlMyControl");
        ctrlMyControl.Text = e.Item.DataItem.ToString();
    }
} 
```

MyControl.ascx：

```
<%@ Control Language="C#" AutoEventWireup="true" CodeBehind="MyControl.ascx.cs" Inherits="nestedcontroltest.MyControl" %>
<asp:Panel runat="server" ID="pnlContent">
    <asp:Literal runat="server" ID="ltlText"/>
</asp:Panel> 
```

MyControl.ascx.cs：

```
public partial class MyControl : UserControl
{
    public string Text { get; set; }
    protected void Page_Load(object sender, EventArgs e)
    {
        ltlText.Text = Text;
    }
} 
```

当我尝试加载它时，我得到“对象引用未设置为对象的实例”。- 显然 ltlText 为空。

如何让我的 UserControl 正确初始化？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-29T23:27:41.693

找到了答案：

1.  中继器与问题无关。
2.  在 Default.aspx 中，我需要按名称而不是按名称空间注册控件。

    ```
    <%@ Register TagPrefix="a" Namespace="nestedcontroltest" Assembly="nestedcontroltest" %> 
    ```

    需要改为

    ```
    <%@ Register TagPrefix="a" TagName="MyControl" Src="~/MyControl.ascx" %> 
    ```

然后控件被正确初始化，即使它在转发器中。也许是 ASP.net 中的一个错误，或者我需要使用完整的程序集名称？无论如何，感谢您的所有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:23:51.223

由于您没有在标记中添加 Bind 或 Eval 表达式，是否 e.Item.DataItem 为空，而不是 ltlText？

调试器说什么？

# java - CAS 认证 SAML 错误

> ID：11682440
> 
> 赞同：0
> 
> 时间：2012-07-27T06:17:27.633
> 
> 标签：java, cas

我在我的一个应用程序中使用 CAS 身份验证。CAS 版本 jar 是 - cas-client-core-3.1.10.jar。在使用我正确的凭据时，它给了我以下异常-

```
org.jasig.cas.client.validation.TicketValidationException: No valid assertions from the SAML response found.
org.jasig.cas.client.validation.TicketValidationException: No valid assertions from the SAML response found.
at org.jasig.cas.client.validation.Saml11TicketValidator.parseResponseFromServer(Saml11TicketValidator.java:97)
at org.jasig.cas.client.validation.AbstractUrlBasedTicketValidator.validate(AbstractUrlBasedTicketValidator.java:188) 
```

想知道这个异常的原因是什么？在检查 Saml11TicketValidator.java 的来源时，我没有看到此错误消息出现的确切情况。知道这条消息表示什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T08:33:36.360

我得到了这个问题的解决方案。实际问题出在我系统的时钟速度上。我系统的当前时间戳不在 CAS 的 BEFORE 和 AFTER 时间戳之间。并且可配置参数的值 - 'tolerance'（由 CAS 提供）也没有帮助。所以我将公差参数配置为一个巨大的长值（即 75000）。通过这个，我能够绕过 CAS 抛出的 TicketValidationException。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-01-18T20:05:43.607

为了澄清[munna 的](https://stackoverflow.com/users/692275/munna)响应，我遇到了同样的问题，并通过将容差参数添加到使用 CAS 客户端的应用程序中的 web.xml 来解决它：

```
<init-param>
    <!--
        Adjust to accommodate clock drift between client/server.
        Increasing tolerance has security consequences, so it is
        preferable to correct the source of clock drift instead.
    -->
    <param-name>tolerance</param-name>
    <param-value>5000</param-value>
</init-param> 
```

有关 Saml11TicketValidationFilter 的完整示例，请参见[https://wiki.jasig.org/display/CASC/Saml11TicketValidationFilter+Example](https://wiki.jasig.org/display/CASC/Saml11TicketValidationFilter+Example)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-04T10:38:13.467

是的，实际上我也有同样的错误......这是问题，因为 CAS 服务器时间不同。

现在通过设置时间戳解决问题

# c# - 使用第一列的 Excel 范围

> ID：11682444
> 
> 赞同：2
> 
> 时间：2012-07-27T06:17:38.537
> 
> 标签：c#, excel

我想将 excel 列的范围设置为 first，所以我使用这行代码给出它。

```
ExcelRange FirstcolumnRange = worksheet.Cells[rowPositionStart + 1, 1, dt.Rows.Count, 1]; 
```

因为这里的行位置设置为 4，我只想使用这一整列但抛出异常：

```
"Specified argument was out of the range of valid values.
Parameter name: Start cell Address must be less or equal to End cell address." 
```

# ruby-on-rails - Rails 设计登录

> ID：11682447
> 
> 赞同：1
> 
> 时间：2012-07-27T06:18:07.270
> 
> 标签：ruby-on-rails, json, login, devise

我正在尝试为使用 JSON 进行身份验证的移动应用程序编写 API。我在我的 Rails 应用程序中使用 Devise 进行身份验证。

在尝试这个：

curl -v -b cookie.file -c cookie.file -H "Content-Type: application/json" -X POST -d '{"user" : {"email":"MYUSER" , "password":"MYPASSWORD "}}'`http://localhost:3000/users/sign_in.json`

rails 服务器日志显示 - 警告：无法验证 CSRF 令牌的真实性

根据此链接[https://gist.github.com/rails/rails/issues/3041](https://gist.github.com/rails/rails/issues/3041)，它是针对所有请求显示的简单警告消息。但是在此调用之后，我无法访问任何其他请求的 json 响应。它给了我一个错误：{“错误”：“您需要先登录或注册才能继续。”}

对于这个请求

curl -L http://localhost:3000/posts.json

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:45:54.277

CSRF 令牌检查将对所有请求进行。请查看以下链接。我希望这能解决你的问题。

见链接 [https://gist.github.com/rails/rails/issues/3041](https://gist.github.com/rails/rails/issues/3041)

# sql-server - 用于显示未存储在表中的日期的 SQL 查询

> ID：11682451
> 
> 赞同：0
> 
> 时间：2012-07-27T06:18:45.243
> 
> 标签：sql-server

我有一个表格，我在其中存储日期和其他信息。

我想显示未存储在表中的日期的记录。

例如..我有日期`01/01/2012[dd/mm/yyyy]`，，，`03/01/2012`。 `06/01/2012`

我想显示日期的输出`02/01/2012`，，`04/05/2012``05/01/2012.`

请在**SQLServer2008中查询**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:26:36.447

您可以使用该`DATEADD`功能。例如，要将 1 天添加到当前日期：

```
SELECT DATEADD(dd, 1, GETDATE()) 
```

[您可以在MSDN](http://msdn.microsoft.com/en-us/library/ms186819.aspx)上找到更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:31:09.697

```
;WITH MYCTE AS
(
SELECT CAST('1900-01-01' AS DATETIME) DateValue
UNION ALL
SELECT DateValue + 1
FROM MYCTE 
WHERE DateValue + 1 < '3550-12-31'
)

SELECT DateValue, B.SomeColumn
FROM MYCTE A
LEFT JOIN MyTable B ON A.DateValue = B.DateValue
OPTION (MAXRECURSION 0) 
```

我从[这里](http://consultingblogs.emc.com/jamiethomson/archive/2007/01/11/T_2D00_SQL_3A00_-Generate-a-list-of-dates.aspx)得到了日期范围 cte （生成一个 250000 行的表需要 4 秒）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T08:53:27.550

此代码显示表中缺少的 2011 年的所有日期：

```
create table #dates (d datetime);
declare @start_period datetime;
set @start_period='01.01.2011'; 
declare @end_period datetime;
set @end_period='01.01.2012';

declare @d datetime;
set @d=@start_period

while(@d<@end_period)
begin
   insert into #dates (d) values (@d)
   SET @d=@d+1
end
select d from #dates where d not in (select <date> from <your_table>) 
```

# android - 为什么 ProgressDialog 并不总是打开我的 android 应用程序？

> ID：11682454
> 
> 赞同：0
> 
> 时间：2012-07-27T06:19:19.557
> 
> 标签：android, progressdialog, freeze

我制作了一个图片下载线程来从欲望网址下载图片。在那个线程上，我使用了一个进度对话框，但进度对话框在 3 或 4 秒后没有转动，似乎它被挂起。但是后台工作还可以。我的问题是，什么进度对话框没有转动？它看起来像什么？我在开始位置使用此代码。

```
imageUploadhandler.postDelayed(runImageUpload, 500);
        dialog = ProgressDialog.show(AllProductActivityPictGrid.this, "",
                "Message...", true);
        dialog.setCancelable(true); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:51:08.320

您的对话框挂起，因为如果您在 中实例化您`Handler`的`Activity`，那么您发布到的所有内容都`Handler`将在 UI 线程上运行，而不是在后台线程上运行。

进行下载并`ProgressDialog`在`AsyncTask`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T08:37:28.077

也许你应该看看`AsyncTask`？

```
 protected void onPreExecute() {
      progressDialog=ProgressDialog.show(context,"Please Wait..","Retrieving data from device",false);
    }

  @Override
  protected String doInBackground(String... params) {

    //background stuff here

    return "";
}

protected void onPostExecute(String result) {

        progressDialog.dismiss(); 
        Toast.makeText(context, "Finished", Toast.LENGTH_LONG).show(); 

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T06:28:47.400

下载完成后尝试使用 dialog.dismiss() 。

请使用以下代码调用进度对话框。

```
 ProgressDialog progressDialog = new ProgressDialog(context);
  progressDialog.setMessage("Please Wait...");
  progressDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);
  progressDialog.show();

  After completion of your task call  progressDialog.dismiss(); 
```

# mysql - 使用 where 子句获取所有结果

> ID：11682455
> 
> 赞同：9
> 
> 时间：2012-07-27T06:19:23.630
> 
> 标签：mysql, sql

我有一个函数，它接受一个在 where 子句中使用的参数

function(string x)-->现在这将创建一个 sql 查询，它给出

```
select colname from tablename where columnname=x; 
```

现在我希望这个函数给所有行，即查询相当于

```
select colname from tablename; 
```

当我通过 x="All" 时。

我想创建一个通用查询，当我通过“全部”时，它应该返回所有行，否则过滤我的结果。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-27T06:22:18.363

Just leave the where condition out.

If you really want it that complicated use

```
where columnname LIKE '%' 
```

which will only filter nulls.

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-07-27T06:27:29.907

```
select colname from tablename 
where columnname=(case when @x ="All" then columnname
                  else  @x end) 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-27T06:32:06.980

尝试这个

```
select colname from tablename where 1=1 
```

希望以上能奏效

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2020-01-05T15:53:00.300

where 1=1 对我有用，尽管使用了 where 子句，但所有记录都被选中。

你也可以试试

[any_column_name]=[column_name_in_LHL]

（LHL=左侧。）

[请参阅我的答案以获取更多详细信息](https://stackoverflow.com/a/59589914/10276878)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-02-06T10:13:15.457

```
SELECT * FROM table_name WHERE 1;
SELECT * FROM table_name WHERE 2;
SELECT * FROM table_name WHERE 1 = 1;
SELECT * FROM table_name WHERE true; 
```

上述任何查询都将返回表中的所有记录。在我必须将条件作为参数传递的 Node.js 中，我像这样使用它。

```
const queryoptions = req.query.id!=null?{id : req.query.id } : true;
let query = 'SELECT * FROM table_name WHERE ?';
db.query(query,queryoptions,(err,result)=>{
res.send(result);
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2016-11-29T19:51:27.357

前段时间我遇到了同样的问题，这个解决方案对我有用

```
select colname from tablename where columnname=x or x = 'ALL' 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-27T06:24:21.013

目前还不清楚你的函数使用什么语言，但你必须在进入 sql 之前以某种方式解析“All”：

```
public void query(String param) {
  String value = "":
  switch (param) {
    case 'All':
      value = "*";
      break;
    default:
      value = param;
  }
  String sql = "select colname from tablename where colname="+value;
  //make the query
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-07-27T06:29:01.567

在您的代码中进行条件检查（假设 Java）`WHERE`仅在以下情况下附加子句`x != 'All'`

```
mySqlQuery = "SELECT colname FROM tablename" + 
                (x.equals("All") ? "" : "WHERE columnname = "+x); 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-07-27T06:23:08.617

If you have to allow 'ALL' to be passed through as the parameter value to your function, then you will need to put some manipulation code in your function to construct your SELECT statement accordingly. I.e. You can detect if the parameter has 'ALL' in it and then omit the WHERE clause from your SQL statement. If a value other than 'ALL' comes through, then you can include the WHERE clause along with the relevant filter value from the parameter.

An example of a piece of code to do this would be;

```
IF x = 'ALL'
THEN
   SELECT COLNAME FROM TABLENAME;
ELSE
   SELECT COLNAME FROM TABLENAME WHERE COLUMNNAME = X;
END IF; 
```

# spring - Spring - 将元素（复选框）添加到 Spring 登录页面（使用 Spring-security）

> ID：11682456
> 
> 赞同：0
> 
> 时间：2012-07-27T06:19:33.683
> 
> 标签：spring, spring-mvc, login, spring-security

在我的 Web 应用程序中，我使用的是 Spring 登录表单（使用 Spring-security）。默认情况下，登录表单具有字段 j_username 和 j_password。我需要再添加一个元素（条款和条件的复选框）。当前代码没有 LoginForm 和 LoginController，因为 Spring 在内部处理它。
谁能告诉如何处理/覆盖这个？

我已经看到这个链接[Spring security custom login page](https://stackoverflow.com/questions/10571383/spring-security-custom-login-page)
但是我需要在 LoginForm 中添加新元素（目前不存在） - 我需要在其中添加这个新元素（在 Form - .java 文件中）
我还应该写一个新的控制器（LoginController）或者我可以使用这里给出的任何现有过滤器吗？[http://static.springsource.org/spring-security/site/docs/3.1.x/reference/springsecurity-single.html#filter-stack](http://static.springsource.org/spring-security/site/docs/3.1.x/reference/springsecurity-single.html#filter-stack)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T20:09:26.707

用户是否只需要选中该框才能继续，或者它是否绑定到支持模型对象。

如果是前者，我会通过javascript处理它。如果是后者，最简单的方法可能是实现身份验证过滤器，文档的这个区域可能会有所帮助：

[http://static.springsource.org/spring-security/site/docs/3.0.x/reference/core-web-filters.html#form-login-filter](http://static.springsource.org/spring-security/site/docs/3.0.x/reference/core-web-filters.html#form-login-filter)

# android - 如何为 android 和 iphone 创建自己的 Magento 移动应用程序

> ID：11682462
> 
> 赞同：21
> 
> 时间：2012-07-27T06:20:29.180
> 
> 标签：android, iphone, web-applications, magento-1.6

请任何从事 Magento 网站应用程序开发工作的人帮助我找到进一步发展的方向，因为我完全迷失了并且从在线研究中一无所获。

任何帮助都将受到高度赞赏。

谢谢并恭祝安康。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-07-27T06:55:49.377

有几个步骤：

1.  Magento 提供了两个 API 来在 Android 中开发您的应用程序
    。**SOAP API**
    B. **XML-RPC**

2.  如果你想使用`XMLRPC API`，那么你必须下载**它的库**并在你的项目中使用它。

3.  您必须在您`Magento Store`的**角色**中创建一个新用户。您可以通过**登录**到您的**管理模块**来执行此操作，并且该选项位于`system->WebServices->User && Roles`...您必须创建第一个角色，然后创建一个用户并将角色分配给用户.
4.  您必须使用您在商店中提供的`UserName`and来调用**登录功能。**`APIKey``Magento`
***   调用 Login 函数，您将收到一个**Session Id**，您必须**存储**它并在以后的**调用中****使用**它。**

 ****一些有用的**入门**链接是：

6.  [链接-1](http://www.magentocommerce.com/wiki/doc/webservices-api/api)
7.  [Link-2](http://www.magentocommerce.com/boards/viewthread/255191/)
8.  [Link-3](http://inchoo.net/ecommerce/magento/consuming-the-magento-xmlrpc-web-service-through-android/)
9.  [Link-4](http://inchoo.net/ecommerce/magento/android-magento-mobile-boilerplate/)
10.  [我的问题及其对 SO 的解决方案](https://stackoverflow.com/users/1155805/haresh-chaudhary?tab=questions)****

# android - ActionBarSherlock 后退按钮颜色变化？

> ID：11682463
> 
> 赞同：5
> 
> 时间：2012-07-27T06:20:31.063
> 
> 标签：android, actionbarsherlock

我正在使用 ActionBarSherlock。我的 style.xml 文件中有 displayOption“homeAsUp”。现在这会在 Activity 的标题旁边显示一个黑色箭头。由于我的主题是蓝色黑底上​​的白色，我想更改黑色箭头的颜色，或者使用全新的图标资源代替它。我怎样才能做到这一点 ？

亲切的问候。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-11-22T08:00:28.003

除了埃里克的回答 - 我浪费了很多时间来解决这个问题。

请记住，这些项目必须放在父应用程序主题中，继承自`Theme.Sherlock`或类似。

```
<!-- CUSTOM APP THEME -->
<style name="AppTheme" parent="Theme.Sherlock">
    <item name="android:actionBarStyle">@style/AppTheme.ActionBarStyle</item>
    <item name="actionBarStyle">@style/AppTheme.ActionBarStyle</item>
    <item name="android:homeAsUpIndicator">@drawable/action_bar_ic_ab_back_holo_dark</item>
    <item name="homeAsUpIndicator">@drawable/action_bar_ic_ab_back_holo_dark</item>
</style> 
```

* * *

**不要**将它们放在继承自`Widget.Sherlock.ActionBar`.

```
<!-- ACTION BAR THEME -->
<style name="AppTheme.ActionBarStyle" parent="Widget.Sherlock.ActionBar">
    <item name="android:icon">@drawable/action_bar_logo</item>
    <item name="icon">@drawable/action_bar_logo</item>
    <item name="android:displayOptions">showHome</item>
    <item name="displayOptions">showHome</item>
</style> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-01T22:41:11.883

设计 ActionBarSherlock 时要小心！

这是网站的摘录（[ActionBarSherlock Theming](http://actionbarsherlock.com/theming.html)）：

> 由于 Android 主题系统的限制，任何主题自定义都必须在两个属性中声明。普通的 android-prefixed 属性将主题应用于本机操作栏，unprefixed 属性用于自定义实现。由于两个主题 API 完全相同，您只需引用您的自定义两次，而不必实施两次。

因此，在您的情况下，您必须定义两个项目：

```
<item name="android:homeAsUpIndicator">@drawable/icon</item> 
```

和

```
<item name="homeAsUpIndicator">@drawable/icon</item> 
```

那么您确定您的所有用户都将拥有相同的 L&F

# python - 可执行文件将不包含 wxpython 中使用的图像

> ID：11682465
> 
> 赞同：0
> 
> 时间：2012-07-27T06:20:32.323
> 
> 标签：python, wxpython, py2exe

我已经使用 python 和 wxpython 创建了一个程序。我使用 py2exe 创建了一个可执行文件。IT 工作正常，但我将公司徽标用作闪屏和打印图纸。我必须删除启动画面才能使可执行文件正常工作。在错误文本文件中，我得到以下信息：

> 回溯（最后一次调用）：文件“printGland.pyc”，第 418 行，OnPrintPage 文件“wx_gdi.pyc”，第 3459 行，DrawBitmap wx._core.PyAssertionError: C++ 断言“bmp.Ok()”在 . ...\src\msw\dc.cpp(1181) in wxDC::DoDrawBitmap(): wxDC::DrawBitmap 中的位图无效

我假设 bmp 图像尚未包含在可执行文件中。代码加载时是否有问题？

```
 def __init__(self,parent,id):
    # Splash Screen
    image = wx.Image("Image.bmp",wx.BITMAP_TYPE_BMP)
    bmp = image.ConvertToBitmap()
    wx.SplashScreen(bmp,wx.SPLASH_CENTRE_ON_SCREEN|wx.SPLASH_TIMEOUT,1000,None,-1)
    wx.Yield() 
```

还是我在使用 py2exe 时应该添加到安装文件中的东西？关于如何补救这种情况的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T15:16:50.167

您必须确保将该文件包含在与可执行文件相同的目录中。如果您将图像与它一起复制，它会起作用吗？否则，您可以使用 wxPython 的 img2py 脚本将您的图像转换为 Python 文件并以这种方式捆绑它。

这有点过时了：http: [//www.blog.pythonlibrary.org/2008/05/23/wxpython-embedding-an-image-in-your-title-bar/](http://www.blog.pythonlibrary.org/2008/05/23/wxpython-embedding-an-image-in-your-title-bar/)

这是文档页面：[http ://wxpython.org/docs/api/wx.tools.img2py-module.html](http://wxpython.org/docs/api/wx.tools.img2py-module.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T07:00:27.767

从[参考](http://wxpython-users.1045709.n5.nabble.com/error-with-py2exe-using-image-td2316712.html)，

> 图像文件是否存在于当前工作目录中？您可能需要指定图像文件所在的路径，而不仅仅是假设您给出的 CWD。

如需更多讨论，请[点击此处](http://www.daniweb.com/software-development/python/threads/254930/wxpython-image-help)。

# c++ - 删除 ptr 与删除 [] ptr

> ID：11682466
> 
> 赞同：0
> 
> 时间：2012-07-27T06:20:35.510
> 
> 标签：c++, new-operator, delete-operator

> **可能重复：**
> [delete[] 是否等于删除？](https://stackoverflow.com/questions/1553382/is-delete-equal-to-delete)

```
int main()
{
    char *ptr = new char[10];

    delete ptr;  // or delete [] ptr;
} 
```

`delete []`是针对数组的，`delete`是针对单个对象的，对吧？所以，它应该`delete [] ptr;`在上面的代码中，但它似乎`delete ptr;`也可以。诡异的？

而且，

```
int main()
{
    int x;
    cin >> x;
    char *ptr = new char[x];  //cannot make sure whether it is a char pointer or a pointer to an array, right?
    // delete ptr, or delete [] ptr;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:21:57.167

正确的。`operator delete`使用时删除 ptr`operator new[]`是未定义的行为。

> 在第一种选择（删除对象）中，delete 的操作数的值可以是**空指针值，指向由先前的 new 表达式创建的非数组对象的指针，或指向表示 a 的子对象 (1.8) 的指针这种对象的基类**（第 10 条）。如果不是，则行为**未定义。**

# java - Eclipse 正在执行错误的 Java 文件

> ID：11682468
> 
> 赞同：8
> 
> 时间：2012-07-27T06:21:05.717
> 
> 标签：java, eclipse

我正在使用 Eclipse 编写和测试 Java。我是初学者，所以我对 Eclipse 一无所知。

当我尝试运行我刚刚编写的 Java 文件时，就会出现问题。它不是执行打开的文件，而是执行我之前成功运行的文件。我在同一个默认包中有几个文件。包资源管理器显示我的包的位置是：Aayush > src > default package

我想运行一个名为`logicaloperator.java`但它运行的文件`ifstatement.java`都在同一个默认包中，我使用工具栏上的第 6 个按钮来运行它。当我将鼠标悬停在运行按钮上时，它说：“运行 ifstatement”，但它应该说“运行逻辑运算符”。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-27T06:26:10.087

**1.**请注意您已将该`main()`方法包含在该类文件中。

**2.**如果您仍然有问题，请在包资源管理器中右键单击此 java 文件并选择`Run`

**3.** 保持包含您的 main() 方法的类名，以及您在 Eclipse 中保存文件的文件名相同。

它`logicaloperators.java`不是`logicaloperator.java`......你错过了**“s”**

**例如：**

```
class logicaloperators{

      public static void main(String[] args){

   }
 } 
```

另存为`logicaloperators.java`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-02-13T06:08:35.480

检查您的 main() 是否大写。

Eclipse 不会捕捉到它，但如果你运行`public static void Main(String[] args)`它，它会运行错误的程序。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T06:31:47.523

如果要运行包含 main(String[] args) 方法的特定 java 文件。

> 右键单击文件 -> RunAs -> Java 应用程序。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T07:25:50.610

答案之前已经发布过，但我强烈建议尽可能干净地工作。刚刚提到了用于类的 CamelCase，我个人不会将所有类放在一个包中。为它使用更多的项目，或者使用不同的包。如果你想用 Java 做大项目，这是最重要的事情之一（更不用说，你可以在一个项目的不同包中使用受保护的东西）。还使用类的自动生成。您可以使用它来防止错误，就像您刚才所做的那样。Eclipse 是一个强大的工具，使用它！

此致

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-10-21T16:00:52.507

您可以在 Eclipse 中的 Run 按钮附近看到一个小三角形。如果你点击它，你可以看到你所有的项目都在打开。现在，如果您可以`logicaloperator.java`在此列表中看到，您可以单击它然后运行您的代码，否则您应该`main()`在`logicaloperator.java`.

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-02-10T00:15:57.627

我有同样的问题。只要确保在公共场所拥有主要和所有 ure 课程...

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-05-11T18:48:11.157

我最近也遇到了这种问题，但是终于找到了罪魁祸首。因为正如我所看到的，没有人讨论过这件事，我会告诉。

我检查了类名、main() 方法之类的东西，但仍然出现警告并说“找不到主要方法”，类似的东西。

我只是忽略了 main() 方法，在括号内我忘记为字符串包含方括号，所以我的主要方法是 `... main(String args)` 你可以看到我错过了方括号的地方。

因此，在那之后我将其修复`... main (String[] args)`并结束了我的问题。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-02-13T18:05:56.073

不久前我在 Netbeans 中遇到了同样的问题。你的代码很好。您只需右键单击文件窗口中的某处并选择“运行文件”。或者，如果您转到任务栏中的“运行”选项卡，您可以“设置项目配置”、“自定义”......一旦项目属性对话框打开，请检查您在“主类字段”中的条目（它可能有有问题的类，替换它并输入您要运行的类的名称）。但是，您可能应该只右键单击，这样您就不必每次在包中创建新类时都这样做。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-06-22T20:49:21.637

我的解决方案：在运行之前保存文件。如果您希望文件自动保存，您可以对其进行配置。转到菜单： Window->Preferences-> General->Editors->Autosave ，选中 'Enable autosave...' ，然后在文本框中输入多少秒才能自动保存。例如，如果您输入 3，那么它将在您完成文件更改后 3 秒保存。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2021-04-13T10:21:09.963

我也遇到了同样的问题，我的代码对类文件和主方法也很好。我尝试右键单击我的项目-> maven-> 更新项目。选择要更新的项目。单击强制更新快照/发布，然后按确定。更新后我的代码工作正常并且没有打印我之前的输出。

* * *

## 回答 #11

> 赞同：-2
> 
> 时间：2018-11-07T17:04:55.893

根本原因是您正在使用此方法签名：

```
public static void main()
{
    // ...
} 
```

您需要将其更改为此，它的工作原理：

```
public static void main(String[] args)
{
    // ...
} 
```

* * *

## 回答 #12

> 赞同：-2
> 
> 时间：2018-11-22T22:32:31.723

我还在 Eclipse 上发现了这个错误。

简单地说，如果您在 Eclipse 中有几个具有主要方法的类，并且您尝试运行最新的应用程序，它有时会运行旧代码。

所有公共方法都有正确的签名，它与缺少参数无关。

有两种解决方案：

1.  要么尝试将具有主要方法的类放在不同的包中。
2.  只需重新启动 eclipse 并重新运行应用程序（这对我来说总是有效的）。

# c# - 在 ASP.net 网站中运行另一个本地应用程序

> ID：11682470
> 
> 赞同：1
> 
> 时间：2012-07-27T06:21:17.947
> 
> 标签：c#, javascript, asp.net, asp.net-mvc

如何通过 ASP.net 网站运行另一个本地应用程序（使用 c# 开发的应用程序）并将参数发送到本地应用程序（例如名称、源文件）？

（我知道这会有安全风险，但我会考虑建议）提前致谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:47:24.083

您可以像 Skype 一样处理自己的 URL 协议：

```
phone://123546
localapp://data 
```

然后创建一个链接

```
<a href="localapp://data">Open App</a> 
```

或尝试在服务器端重定向

```
Response.Redirect("localapp://data"); 
```

[并处理它](http://msdn.microsoft.com/en-us/library/aa767914%28v=vs.85%29.aspx)

例子：

本地应用程序 (c:\localapp.exe)：

```
using System;
class LocalApplication
{
  [STAThread]
  static void Main(string[] args)
  {
    Console.WriteLine(args[0]);
    Console.ReadLine();
  }
} 
```

注册表：

```
HKEY_CLASSES_ROOT 
     localapp
          (Default) = "URL:Local App"
          URL Protocol = ""
          shell
               open
                    command
                         (Default) = "c:\localapp.exe" "%1" 
```

html:

```
<a href="localapp://Hello">Start LocalApp</a> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:24:03.887

你的意思是在服务器或客户端上启动一个本地程序？

在服务器上，您可以[启动一个进程](http://msdn.microsoft.com/en-us/library/system.diagnostics.process.start%28v=vs.100%29.aspx)并将命令行参数传递给您需要访问的信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T06:37:30.947

由于大多数现代浏览器的安全限制，这是不可能的。

如果您可以将用户限制为 IE（非常糟糕的做法），ActiveX 控件可以做到这一点。这是一个小代码片段。

```
<SCRIPT Language="JScript">
function runcmd() {
File="cmd.exe";
WSH=new ActiveXObject("WScript.Shell");
WSH.run(File);
}
</SCRIPT> 
```

# algorithm - 稳定合并两个数组以最大化相邻元素的乘积

> ID：11682472
> 
> 赞同：7
> 
> 时间：2012-07-27T06:21:30.973
> 
> 标签：algorithm, data-structures, dynamic-programming

以下是一个面试问题，我无法以低于指数复杂性的复杂性回答。虽然这似乎是一个 DP 问题，但我无法形成基本案例并正确分析它。任何帮助表示赞赏。

> 您将获得 2 个大小为“n”的数组。您需要稳定合并这些数组，以便在新数组中连续元素的乘积之和最大化。

**例如**

> A= { 2, 1, 5}
> 
> B= { 3, 7, 9}

稳定合并 A = {a1, a2, a3} 和 B = {b1, b2, b3} 将创建一个包含 2*n 个元素的数组 C。例如，通过合并（稳定）A 和 B 说 C = { b1, a1, a2, a3, b2, b3 }。那么总和 = b1*a1 + a2*a3 + b2*b3 应该是最大值。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-05T01:37:08.153

让我们将 c[i,j] 定义为相同问题的解决方案，但数组从 i 开始到左侧结束。和 j 以右结束。所以 c[0,0] 将为原始问题提供解决方案。

c[i,j] 由。

1.  MaxValue = 最大值。
2.  NeedsPairing = true 或 false = 取决于最左边的元素是否未配对。
3.  Child = [p,q] 或 NULL = 定义子键，最终达到此级别的最佳总和。

现在为这个 DP 定义最优子结构

```
c[i,j] = if(NeedsPairing) { left[i]*right[j] } + Max { c[i+1, j], c[i, j+1] } 
```

此代码中更详细地捕获了它。

```
if (lstart == lend)
{
    if (rstart == rend)
    {
        nodeResult = new NodeData() { Max = 0, Child = null, NeedsPairing = false };
    }
    else
    {
        nodeResult = new NodeData()
        {
            Max = ComputeMax(right, rstart),
            NeedsPairing = (rend - rstart) % 2 != 0,
            Child = null
        };
    }
}
else
{
    if (rstart == rend)
    {
        nodeResult = new NodeData()
        {
            Max = ComputeMax(left, lstart),
            NeedsPairing = (lend - lstart) % 2 != 0,
            Child = null
        };
    }
    else
    {
        var downLef = Solve(left, lstart + 1, right, rstart);

        var lefResNode = new NodeData()
        {
            Child = Tuple.Create(lstart + 1, rstart),
        };

        if (downLef.NeedsPairing)
        {
            lefResNode.Max = downLef.Max + left[lstart] * right[rstart];
            lefResNode.NeedsPairing = false;
        }
        else
        {
            lefResNode.Max = downLef.Max;
            lefResNode.NeedsPairing = true;
        }

        var downRt = Solve(left, lstart, right, rstart + 1);

        var rtResNode = new NodeData()
        {
            Child = Tuple.Create(lstart, rstart + 1),
        };

        if (downRt.NeedsPairing)
        {
            rtResNode.Max = downRt.Max + right[rstart] * left[lstart];
            rtResNode.NeedsPairing = false;
        }
        else
        {
            rtResNode.Max = downRt.Max;
            rtResNode.NeedsPairing = true;
        }

        if (lefResNode.Max > rtResNode.Max)
        {
            nodeResult = lefResNode;
        }
        else
        {
            nodeResult = rtResNode;
        }
    }
} 
```

我们使用记忆来防止再次解决子问题。

```
Dictionary<Tuple<int, int>, NodeData> memoization = new Dictionary<Tuple<int, int>, NodeData>(); 
```

最后我们使用 NodeData.Child 来追溯路径。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T07:38:04.083

对于 A = {a1,a2,...,an}，B = {b1,b2,...,bn}，

将 DP[i,j] 定义为 {ai,...,an} 和 {bj,...,bn} 之间的最大稳定合并和。

(1 <= i <= n+1, 1 <= j <= n+1)

DP[n+1,n+1] = 0, DP[n+1,k] = bk*bk+1 +...+ bn-1*bn, DP[k,n+1] = ak*ak +1 +...+ an-1*an。

DP[n,k] = 最大{an*bk + bk+1*bk+2 +..+ bn-1*bn, DP[n,k+2] + bk*bk+1}

DP[k,n] = max{ak*bn + ak+1*ak+2 +..+ an-1*an, DP[k+2,n] + ak*ak+1}

DP[i,j] = 最大{DP[i+2,j] + ai*ai+1, DP[i,j+2] + bi*bi+1, DP[i+1,j+1] + ai*bi}。

然后你返回 DP[1,1]。

说明：在每个步骤中，您必须考虑 3 个选项：从剩余的 A 中获取前 2 个元素，从剩余的 B 中获取前 2 个元素，或者从 A 和 B 中同时获取（由于您无法更改 A 和 B 的顺序，您将不得不从 A 中获取第一个，从 B 中获取第一个）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-05T01:28:37.893

这是 Clojure 中的一个解决方案，如果您对更偏僻的东西感兴趣的话。它是 O(n ³ )，因为它只生成所有 n ^(2 个)稳定合并并花费 n 时间对乘积求和。与我见过的基于数组的命令式解决方案相比，偏移量和算术的混乱要少得多，这有望使算法更加突出。而且它也非常灵活：例如，如果您想包含 c2*c3 以及 c1*c2 和 c3*c4，您可以简单地替换`(partition 2 coll)`为`(partition 2 1 coll)`.

```
;; return a list of all possible ways to stably merge the two input collections
(defn stable-merges [xs ys]
  (lazy-seq
   (cond (empty? xs) [ys]
         (empty? ys) [xs]
         :else (concat (let [[x & xs] xs]
                         (for [merge (stable-merges xs ys)]
                           (cons x merge)))
                       (let [[y & ys] ys]
                         (for [merge (stable-merges xs ys)]
                           (cons y merge)))))))

;; split up into chunks of two, multiply, and add the results
(defn sum-of-products [coll]
  (apply + (for [[a b] (partition 2 coll)]
             (* a b))))

;; try all the merges, find the one with the biggest sum
(defn best-merge [xs ys]
  (apply max-key sum-of-products (stable-merges xs ys)))

user> (best-merge [2 1 5] [3 7 9])
(2 1 3 5 7 9) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-29T14:35:07.710

定义为通过稳定合并和`F(i, j)`可以实现的最大成对和。`Ai...An``Bj...Bn`

在合并的每一步，我们可以选择以下三个选项之一：

1.  取 的前两个剩余元素`A`。
2.  取 的第一个剩余元素`A`和 的第一个剩余元素`B`。
3.  取 的前两个剩余元素`B`。

因此，`F(i, j)`可以递归定义为：

```
F(n, n) = 0
F(i, j) = max
(
    AiAi+1 + F(i+2, j), //Option 1
    AiBj + F(i+1, j+1), //Option 2
    BjBj+1 + F(i, j+2)  //Option 3
) 
```

为了找到两个列表的最佳合并，我们需要`F(0, 0)`天真地找到 ，这将涉及多次计算中间值，但是通过缓存每个`F(i, j)`找到的值，复杂性降低到`O(n^2)`。

这是一些快速而肮脏的c ++，它可以做到这一点：

```
#include <iostream>

#define INVALID -1

int max(int p, int q, int r)
{
    return p >= q && p >= r ? p : q >= r ? q : r;
}

int F(int i, int j, int * a, int * b, int len, int * cache)
{
    if (cache[i * (len + 1) + j] != INVALID)    
        return cache[i * (len + 1) + j];

    int p = 0, q = 0, r = 0;

    if (i < len && j < len)
        p = a[i] * b[j] + F(i + 1, j + 1, a, b, len, cache);

    if (i + 1 < len)
        q = a[i] * a[i + 1] + F(i + 2, j, a, b, len, cache);

    if (j + 1 < len)
        r = b[j] * b[j + 1] + F(i, j + 2, a, b, len, cache);

    return cache[i * (len + 1) + j] = max(p, q, r);
}

int main(int argc, char ** argv)
{
    int a[] = {2, 1, 3};
    int b[] = {3, 7, 9};
    int len = 3;

    int cache[(len + 1) * (len + 1)];
    for (int i = 0; i < (len + 1) * (len + 1); i++)
        cache[i] = INVALID;

    cache[(len + 1) * (len + 1)  - 1] = 0;

    std::cout << F(0, 0, a, b, len, cache) << std::endl;
} 
```

如果您需要实际的合并序列而不仅仅是总和，您还必须缓存哪个`p, q, r`被选中并回溯。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-30T20:49:48.317

通过动态编程解决它的一种方法是始终存储：

S[ i ][ j ][ l ] = "合并 A[1,...,i] 和 B[1,...,j] 的最佳方法，如果 l == 0，则最后一个元素是A[i]，如果 l == 1，则最后一个元素是 B[j]"。

然后，DP 将是（伪代码，在 A[0] 和 B[0] 处插入任意数字，并让实际输入在 A[1]...A[n], B[1].. .B[n]):

```
S[0][0][0] = S[0][0][1] = S[1][0][0] = S[0][1][1] = 0; // If there is only 0 or 1 element at the merged vector, the answer is 0
S[1][0][1] = S[0][1][1] = -infinity; // These two cases are impossible
for i = 1...n:
    for j = 1...n:
        // Note that the cases involving A[0] or B[0] are correctly handled by "-infinity"
        // First consider the case when the last element is A[i]
        S[i][j][0] = max(S[i-1][j][0] + A[i-1]*A[i], // The second to last is A[i-1].
                         S[i-1][j][1] + B[j]*A[i]); // The second to last is B[j]
        // Similarly consider when the last element is B[j]
        S[i][j][1] = max(S[i][j-1][0] + A[i]*B[j], // The second to last is A[i]
                         S[i][j-1][1] + B[j-1]*B[j]); // The second to last is B[j-1]
 // The answer is the best way to merge all elements of A and B, leaving either A[n] or B[n] at the end.
return max(S[n][n][0], S[n][n][1]); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-01T11:09:17.067

合并并排序。可能是归并排序。排序后的数组给出最大值。（合并只是附加数组）。复杂度为 nlogn。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-29T12:41:44.120

我的解决方案相当简单。我只是探索所有可能的稳定合并。在工作的 C++ 程序之后：

```
#include<iostream>

using namespace std;

void find_max_sum(int *arr1, int len1, int *arr2, int len2, int sum, int& max_sum){
  if(len1 >= 2)
    find_max_sum(arr1+2, len1-2, arr2, len2, sum+(arr1[0]*arr1[1]), max_sum);
  if(len1 >= 1 && len2 >= 1)
    find_max_sum(arr1+1, len1-1, arr2+1, len2-1, sum+(arr1[0]*arr2[0]), max_sum);
  if(len2 >= 2)
    find_max_sum(arr1, len1, arr2+2, len2-2, sum+(arr2[0]*arr2[1]), max_sum);
  if(len1 == 0 && len2 == 0 && sum > max_sum)
    max_sum = sum;
}

int main(){
  int arr1[3] = {2,1,3};
  int arr2[3] = {3,7,9};
  int max_sum=0;
  find_max_sum(arr1, 3, arr2, 3, 0, max_sum);
  cout<<max_sum<<endl;
  return 0;
} 
```

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2012-07-29T13:36:45.693

我认为如果您提供更多的测试用例会更好。但我认为两个数组的正常合并类似于在合并排序中完成的合并将解决问题。

合并数组的伪代码在[Wiki](http://en.wikipedia.org/wiki/Merge_sort#Top-down_implementation)上给出。

> 基本上是正常的`merging algorithm used in Merge Sort`。在合并排序中，数组是排序的，但在这里我们对未排序的数组应用相同的合并算法。

`Step 0`: 设`i`为 的索引，`first array(A)`为`j`) `index for second array(B`。`i=0 , j=0`

`Step 1`: `Compare A[i]=2 & B[j]=3`. 因为`2<3`它将是新的第一个元素`merged array(C)`。`i=1, j=0`（将该数字添加到较小的新数组中）

`Step 2`: 再次`Compare A[i]=1 and B[j]=3\. 1<3`因此`insert 1 in C. i++, j=0;`

`Step 3`: 再次`Compare A[i]=3 and B[j]=3`。`Any number can go in C(both are same). i++, j=0;`（基本上我们正在增加插入数字的那个数组的索引）

`Step 4`: 既然`array A is complete`直接直接`insert the elements of Array B in C`。否则重复前面的步骤。

```
Array C = { 2, 1, 3, 3, 7,9} 
```

我对此没有做太多研究。因此，如果有任何可能失败的测试用例，请提供一个。

# c# - How to print a document file to a network printer in c#

> ID：11682477
> 
> 赞同：-1
> 
> 时间：2012-07-27T06:21:36.850
> 
> 标签：c#, printing, network-printers

I need to send files (txt, docs etc.) over network using printer driver. I'm able to send raw data to server but not files. I had already tried to [Ehsan's Method](https://stackoverflow.com/a/11684469/17768086) for printing, but the data inside the document doesn't seems to appear in the document. What I need is a method, or `cmd` line to print a file over network.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T08:49:51.903

First, could you please give me a clue which type of file you want to print if it is a text file. it's quite simple you drag two component from the tool box first the `printDocument` and a `printDialog` panel and use this [link](http://msdn.microsoft.com/en-us/library/system.drawing.printing.printdocument%28v=vs.71%29.aspx)

which is a reference for `printDocument` and then just simply do this for printing your document:

```
prindDialog1.document = yourprintDocument; 
```

And everything will go fine.

But, if you want to print something like pdf files you should use a `pdfWriter` in order to invoke the `adobePdf` process and print via that.

And the other option is using the `PrintPage` event of `printDocument` component which will fire on every page and by using the Graphic library you can Draw everything on each page!

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T08:37:09.293

I suppose, if your printer was detect in your computer, you can use the PrinterSettings 's class for send your file to your printer... please read [msdn documentation for printerSettings](http://msdn.microsoft.com/fr-fr/library/system.drawing.printing.printersettings%28v=vs.90%29.aspx)

But, when you said "network" is a local network? other network?

# php - 在 Shadowbox onFinish 中获取图像 URL？

> ID：11682478
> 
> 赞同：2
> 
> 时间：2012-07-27T06:21:50.947
> 
> 标签：php, jquery, shadowbox

对于 onFinish 中运行的函数，如何获取当前在 Shadowbox 中显示的图像的 URL？我正在尝试使用 EXIF 信息填充一个 div，我可以使用 PHP 完成该部分，但我不确定如何在 Shadowbox 中为每个图像执行此操作。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T10:02:37.863

**参考：** [**jsFiddle Shadowbox Demo**](http://jsfiddle.net/vsrDm/)

要获取当前显示的**Shadowbox**对象的内容，请使用 Shadowbox API`.getCurrent()`方法，后跟`content`属性：

**`Shadowbox.getCurrent().content`**

然后在 Shadowbox`onFinish`钩子选项中使用它，这里是使用的 JavaScript 方法：

```
onFinish: function(){

    document.getElementById('theLocation').innerHTML = 'File Location: ' + Shadowbox.getCurrent().content;

} 
```

* * *

要使用 jQuery 填充您的 div，最好确保您使用的是带有 Shadowbox jQuery 适配器接口（下载选项或 CMS 插件选项）的 Shadowbox。

参考：[**jsFiddle Shadowbox Demo with jQuery**](http://jsfiddle.net/vsrDm/1/)

```
onFinish: function(){

    $('#theLocation').html('File Location: ' + Shadowbox.getCurrent().content);

} 
```

* * *

**状态更新：** [**仅 jsFiddle HTML 标记**](http://jsfiddle.net/hvDGE/)

上面的 jsFiddle 在 HTML 面板中包含您需要的所有标记（***较少提到的脚本***），以便在网页 div中显示**EXIF数据的工作示例。**它使用 jQuery .exif() 插件，并且有很多注释可以理解并与 Shadowbox 一起使用。

# android - Android中的清单错误

> ID：11682481
> 
> 赞同：1
> 
> 时间：2012-07-27T06:21:57.717
> 
> 标签：android

目前我正在Android中进行简单的PayPal集成，所以我将Manifest.xml文件设置为

```
 <activity android:name="com.paypal.android.MEP.PayPalActivity" 
           android:theme="@android:style/Theme.Translucent.NoTitleBar" 
           android:configChanges= "keyboardHidden|orientation"/> 
```

但是错误出现在 SamplePaypal/AndroidManifest.xml 中：

```
Element type "activity" must be followed by either attribute specifications, ">" or "/>". 
```

如何解决这个问题，你能帮帮我吗

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:26:27.603

请查看以下 manifest.xml 代码并查看以下链接了解更多信息。

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.paypal.MobilePayments.Pizza"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk android:minSdkVersion="10" />
    <uses-permission android:name="android.permission.INTERNET"/>
    <uses-permission android:name="android.permission.READ_PHONE_STATE"/>

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <activity
            android:name=".PizzaMain"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity
            android:name="com.paypal.android.MEP.PayPalActivity"
            android:configChanges="keyboardHidden|orientation"
            android:theme="@android:style/Theme.Translucent.NoTitleBar" />
    </application>

</manifest> 
```

[在 Android 应用程序中集成 Paypal](http://androidcodeexamples.blogspot.in/2012/06/how-to-integrate-paypal-in-android.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:22:32.637

代替`android:configChanges= "keyboardHidden|orientation/>`

和`android:configChanges= "keyboardHidden|orientation" />`

# php - 表单/ajax/PHP 问题

> ID：11682486
> 
> 赞同：0
> 
> 时间：2012-07-27T06:22:09.847
> 
> 标签：php, jquery, html, ajax, forms

我正在尝试制作一个小表单，让用户从 3 个不同的单选按钮列表中选择一个元素，以将一个元素设置为用户活动元素（将存储到 MySQL）。不知何故，它不起作用，我似乎无法弄清楚为什么，也许你们中的某个人可以看到我做错了什么？

HTML：

```
<form name="activeForm1" method="post">
<fieldset data-role="controlgroup">
    <div class="ui-radio">
        <input type="radio" name="active" value="1" id="1">
        <label for="1"></label></input>
    </div>
    <div class="ui-radio">
        <input type="radio" name="active" value="2" id="2">
        <label for="2"></label></input>
    </div>
    <div class="ui-radio">
        <input type="radio" name="active" value="3" id="3">
        <label for="3"></label></input>
    </div>
</fieldset>
<div data-role="footer">
    <input type="submit" href="#" onclick="setActive(1)"/>
</div>
</form> 
```

JavaScript / Ajax 调用

```
function setActive(formid) 
    {
            $.ajax(
            {
                type:'POST',
                url:'active.php',
                data:$('#activeForm'+formid).serialize(),
                success:function(response)
                {
                }
            }
        );
    } 
```

PHP代码：

```
session_start();
include('connectToDb.php');
$id = $_SESSION['id'];

if (isset($_POST['active']))
{
    $formValue = $_POST['active'];
    mail('my@mail.com','Test',$formValue,'From: dummy@mail.com');
    mysql_query(/* UPDATE MySQL */);
    header("Location: main.php");
}
else
{
    mail('my@mail.com','Test','No data recieved!','From: dummy@mail.com');
} 
```

所以它一直有效，`if (isset($_POST['active']))`但随后给我发邮件说没有收到任何数据。我在同一页面上已经有 2 个类似的表格，它们更大，运行没有问题。无法弄清楚我在这里做错了什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:31:19.667

**错误代码 ：**

```
 data:$('#activeForm'+formid).serialize(), 
```

`#activeForm`不是id，是form标签的名字，

**将表单标签更正为，**

```
<form name="activeForm1" id="activeForm1" method="post"> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T06:31:51.160

替换以下行

```
data:$('#activeForm'+formid).serialize(), 
```

和

```
data: $('form[name="activeForm'+formid+'"]').serialize(), 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T06:26:58.463

改变

```
<input type="submit" href="#" onclick="setActive(1)"/> 
```

到

```
<input type="button" href="#" onclick="setActive(1)"/> 
```

然后它应该工作

# jquery - jquery click event, using next and prev to scroll list items to the top of a div

> ID：11682488
> 
> 赞同：5
> 
> 时间：2012-07-27T06:22:11.593
> 
> 标签：jquery, scroll, click, html-lists, next

I am trying to use a click event to scroll the next and previous list items to the top of the div and when it gets to the end it shows the first, making it circular. And if possible also make it auto scroll down every one minute.

I have an expample below that I have adapted from another post:

Instead if showing one at a time I want to show as many that can fit in the div. I know I some how need to change the var currli to check what's currently at the top and change the nextli to scroll the next li to the top.

Any help is greatly appreciated =]

```
<a id="scrollup" href="#">up</a>  
<a id="scrolldown" href="#">down</a>  
<div id="news">
   <ul>
      <li>item One</li>
      <li>item Two</li>
      <li>item Three</li>
      <li>item Four</li>
      <li>item Five</li>
      <li>item Six</li>
      <li>item Seven</li>
   </ul>
</div> 
```

**Here is the jQuery**

```
$(document).ready(function () {

    $('#arrowdown').click(function(event) {
            event.preventDefault();         // cancel click through
            // get current list item
            var currli = $('#news li:visible');
            // get next list item
            var nextli = currli.next();
            // if nextli length is 0, make it equal to first li
            if (nextli.length == 0) {
                nextli = currli.siblings('#news li:first');
            }
            currli.hide();
            nextli.show();
    });
    $('#arrowup').click(function(event) {
            event.preventDefault();         // cancel click through
            // get current list item
            var currli = $('#news li:visible');
            // get next list item
            var prevli = currli.prev();
            // if nextli length is 0, make it equal to first li
            if (prevli.length == 0) {
                prevli = currli.siblings('#news li:last');
            }
            currli.hide();
            prevli.show();
    });
    $('#news li:nth-child(1)').show();

}); 
```

**Here is the jsFiddle link:** [http://jsfiddle.net/bambam007/kyf9e/](http://jsfiddle.net/bambam007/kyf9e/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:49:23.623

你可以这样做：

```
 $('#scrollup, #scrolldown').click(function(e) {
            e.preventDefault();   
            var id = e.target.id;
        if(id == 'scrollup'){
            $('li:first').appendTo('ul');
        }else{
            $('li:last').prependTo('ul');
        }
    }); 
```

# progress-bar - How do I declare objects as optional parameters in C#?

> ID：11682493
> 
> 赞同：0
> 
> 时间：2012-07-27T06:22:27.880
> 
> 标签：progress-bar, optional-parameters

How do you declare a progress bar as an optional parameter?

Here is the function:

```
public int Factorial(int number, System.Windows.Forms.Label l, System.Windows.Forms.ProgressBar newprogressbar, int time=0)
    {

      ....

    } 
```

The function has four parameters. Only int `number` and the label `l` should be mandatory. `time` is already optional, but I don't know how to make the new progressbar optional. The function returns the *factorial* of a number and it's uses a label to display it.

The progress bar should show the state of the stack and the time should be the speed at which the function works, but these two should be optional.

I have already done the function, but I still need to figure out how to make the progressbar optional.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T06:26:04.140

与您将任何其他参数声明为可选的相同方式 - 您指定一个默认值。但是，默认值*必须*是一个常量，这对于除`string`基本类型之外的引用类型意味着`null`：

```
public int Factorial(int number, Label l, ProgressBar newProgressBar = null,
                     int time = 0) { 
```

但是，就我个人而言，我会更改设计。您可以传入一个委托，而不是`Factorial`同时了解“如何计算阶乘值”和“如何显示进度”：

```
public int Factorial(int number, Action<int> progressAction, int time = 0) { 
```

...然后在循环的每次迭代中调用该进度操作（我假设您使用进度条执行此操作）。

这改善了关注点的分离。如果您不想在所有情况下都显示进度，则可以将`progressAction`默认设置为`null`.

另一种选择是完全反转控件，并`Factorial`仅将其视为一系列值 - 使用迭代器块轻松完成此操作：

```
public IEnumerable<int> Factorial()
{
    for (...)
    {
        // Do work
        yield return currentValue;
    }
} 
```

您可以分别施加时间限制（我假设这是`time`参数的用途？），这样调用者就可以计算出迭代多少次以及如何处理结果。该`Factorial`方法*只*知道如何产生一个阶乘数序列。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:24:23.743

ProgressBar 最终派生自 System.Object，因此您只需编写

```
public int Factorial(int number, System.Windows.Forms.Label l, 
    System.Windows.Forms.ProgressBar newprogressbar = null, int time=0) 
```

要检查方法是否已定义，只需编写

```
if (newprogressbar != null)
{
    // Do something with newprogressbar
} 
```

# c# - Ninject and binding generics

> ID：11682495
> 
> 赞同：1
> 
> 时间：2012-07-27T06:22:36.023
> 
> 标签：c#, generics, ninject

**Warning**: I'm just starting to explore **Ninject**.

I have a generic DomainObject class defined as this:

```
public abstract class DomainObject<T> : IDomainObject where T : IDomainObject
{
    protected DomainObject(IDataProvider<T> dataProvider)
    {
        DataProvider = dataProvider;
    }

    // blah and blih

    protected IDataProvider<T> DataProvider { get; private set; }
} 
```

As you can see in the code above, that `DomainObject` has a constructor expressing the dependency on a `IDataProvider<T>`.

In my Ninject module, here is how I do the bindings. metaData is retrieved from a configuration store and allows me to specify the concrete types to bind.

```
var medaData = DataContextDictionary.Items[type];
var genericDomainObjectType = typeof (DomainObject<>);
Type[] genericDomainObjectTypeArgs = { medaData.ObjectType };
var domainObjectType = genericDomainObjectType.MakeGenericType(genericDomainObjectTypeArgs);
Bind(domainObjectType).To(medaData.ObjectType);

var genericIDataProviderType = typeof (IDataProvider<>);
var iDataProviderType = genericIDataProviderType.MakeGenericType(genericDomainObjectTypeArgs);
Bind(iDataProviderType).To(medaData.DataProviderType); 
```

This works well but I have the feeling this code is contrived and could be written in a better way.

**Is there a better way to express such a dependency with Ninject?**

Thanks for your help.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T07:55:31.500

您是要绑定开放的通用版本还是仅基于代码中的“medaData”类型绑定特定的封闭类型？

如果绑定开放类型是意图（或可接受的），那么至少使用 Ninject 3，您应该能够“正常”绑定它们，如下所示：

```
Bind(typeof(IDataProvider<>)).To(typeof(DataProvider<>)); 
```

如果您想坚持绑定特定的封闭类型，我不知道有比您已有的更好的机制（除非您可以使用约定扩展）。

# excel - SUM/IF Statement with Text input and a Numeric Sum output in Excel

> ID：11682496
> 
> 赞同：1
> 
> 时间：2012-07-27T06:22:47.567
> 
> 标签：excel

Ok, I am having trouble with this equation. I have (4) rows for text entries that have a numeric association depending on what you input. The equation I have does not SUM all four rows. With each text input of `"I"=100`,`"P"=86`,`"N"=63` with a sum dependant on what was input.

```
=SUM(IF(A4:D4="I",100)+IF(A4:D4="P",86)+IF(A4:D4="N",63,0)) 
```

I should have the number `400` in `E4` with `"I"` entered in `A4:D4`, or `344` in `E4` with `"P"` entered in `A4:D4`.

Thank you for any help you can give.

KC

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T13:54:58.973

您也可以像这样使用“数组”公式来做到这一点

```
=SUM((A1:D1="I")*100,(A1:D1="P")*86,(A1:D1="N")*63) 
```

您必须使用 Ctrl-Shift 和 Enter 输入它，它将被括在大括号中。

查找“数组公式”以获取详细信息，它们会让您头疼，但会为您节省很多额外的列。

在大型工作表上计算可能需要一段时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:40:43.800

您可以在相邻单元格中插入值：（为了格式简单，我将转置数据）

```
 |  A  |  B  |
1  |  I  | =IF(A1="I";100;IF(A1="P";86;IF(A1="N";63;0)))
2  |  I  | =IF(A1="I";100;IF(A1="P";86;IF(A1="N";63;0)))
3  |  I  | =IF(A1="I";100;IF(A1="P";86;IF(A1="N";63;0)))
4  |  I  | =IF(A1="I";100;IF(A1="P";86;IF(A1="N";63;0))) 
```

然后在`E4`你有：`SUM(A1:A4)`

# c# - Roles.IsUserInRole is not working while trying to make an ASP.NET TableRow Invisible

> ID：11682497
> 
> 赞同：1
> 
> 时间：2012-07-27T06:22:54.307
> 
> 标签：c#, asp.net, syntax, tags, roles

I am trying to hide a ASP.NET Table row, but below code part is not working, I don't know what is wrong with the syntax.

**Not Working:**

```
<asp:TableRow runat="server" Visible='<%# Roles.IsUserInRole("ARoleThatIsNotInDatabase") %>'>
</asp:TableRow> 
```

**Working:**

```
<asp:TableRow runat="server" Visible='False'>
</asp:TableRow> 
```

**Working:**

```
if (System.Web.Security.Roles.IsUserInRole("ARoleThatIsNotInDatabase"))
{//Not Entering this area as expected
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T08:33:50.810

按照要求：

仔细检查你实际上是在打电话

```
this.DataBind(); 
```

在您的页面上

# iphone - Setting background image for cell using background color method not working

> ID：11682504
> 
> 赞同：0
> 
> 时间：2012-07-27T06:23:32.077
> 
> 标签：iphone, uitableview, background-image

I have a table view with some 'n' number of cells.My issue is with background image for cells!

I am already aware of the fact that apple documentation of [UITableViewCell](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewCell_Class/Reference/Reference.html) specifically says:

**Note: If you want to change the background color of a cell (by setting the background color of a cell via the backgroundColor property declared by UIView) you must do it in the tableView:willDisplayCell:forRowAtIndexPath: method of the delegate and not in tableView:cellForRowAtIndexPath: of the data source.**

The above description can also be seen [here](https://stackoverflow.com/questions/5921300/uitableview-cell-background-color)

But my concern is not with changing the color of the cell,rather it is with setting the background image for a cell.As we know we can make use of background color property to set the background image i.e.:

```
if (cell == nil) 
{
   cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:kCellIdentifier] autorelease];
   cell.backgroundColor = [[UIColor alloc]initWithPatternImage:[UIImage imageNamed:@"buttonbg.png"]];
} 
```

But using background color for setting background image to a table view cell isn't working and when I am trying to change the image but not color,why doesn't the above method/property work in datasource method(cell for row at index path)

Also to my surprise I found out that using an image view and setting the view as background view for cell works perfect and the same is suggested in this [link](https://stackoverflow.com/questions/6969133/uitableviewcell-background-color-becomes-clearcolor/) by Mr.Ammy Worral. i.e.:

```
UIImage *cellImage = [UIImage imageNamed:kCellImage];
UIImageView *cellImageView = [[UIImageView alloc]initWithImage:cellImage];
[cell setBackgroundView:cellImageView]; 
```

But my doubt is why doesn't the background image work with background color method of cell!

Need some clarification on this!

Thanks all in advance :)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T08:08:52.807

表格视图会自动将单元格的背景颜色设置为自己的。它会在 -tableView:cellForRowAtIndexPath: 之后做到这一点，当然 :) 你有两个选择：1）在你的单元格中添加一个额外的视图并设置它的背景颜色（几乎你所做的）2）实现 -tableView:willDisplayCellAtIndexPath:在您的数据源/委托中（或其中的某些内容，请参阅苹果文档以获取确切名称）并手动设置单元格的背景颜色。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T06:28:00.647

它不起作用，因为 UITableView 在您从 cellForRowAtIndexPath: 返回后对单元格的外观进行了一些修改。解决方案是将您的单元格子类化并覆盖 layoutSubviews 方法并在那里进行自定义。

# android - 单击 WebView 上的事件坐标

> ID：11682508
> 
> 赞同：2
> 
> 时间：2012-07-27T06:23:41.237
> 
> 标签：android, webview, android-webview

我对 Android 有另一个问题。今天我正在尝试使用 WebView 来显示图像。图像的尺寸大于视图，使用户能够滚动。现在，我想要实现的是当用户触摸图像上的某个位置（在 web 视图中）时，将触发一个事件并存储触摸的坐标。

当我尝试在 xml 布局中使用 onClick 执行此操作时，我得到的所有参数都是触发 on click 事件的视图对象。这是我的xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:orientation="vertical" android:layout_width="fill_parent"
android:layout_height="fill_parent">
<WebView 
    android:id="@+id/upperview" 
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" 
    android:layout_weight="1"
    android:onClick="imageClicked" />
<WebView 
    android:id="@+id/lowerview" 
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" 
    android:layout_weight="1" />

</LinearLayout> 
```

现在这是我的活动：

```
public class MyActivity extends Activity {
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    WebView upperview = (WebView) findViewById(R.id.upperview);
    upperview.getSettings().setBuiltInZoomControls(true);
    upperview.loadUrl("file:///android_asset/texture.png");

    WebView lowerview = (WebView) findViewById(R.id.lowerview);
    String htmlstring = "<h1>Header</h1><p>This is HTML text<br /><i>Formatted in italics</i></p>";
    lowerview.loadData(htmlstring, "text/html", "utf-8");
}

public void imageClicked(View view) {

}
} 
```

现在，imageClicked 方法中仍然没有函数，因为我不确定在哪里可以找到坐标。我做错了吗？我在想xml布局中的onClick属性可能只对应于webview中的通用点击/触摸。有没有实现我想要的替代方案？提前致谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:26:36.327

您需要的是 onTouchEvent: [Android 指南](http://developer.android.com/guide/topics/ui/ui-events.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T06:30:45.360

您是否尝试过使用 onTouch 事件而不是 onClick。onTouch 事件为您提供 x 和 y 坐标。[在这里](http://developer.android.com/reference/android/view/View.html)检查

# javascript - if else 在淘汰赛中如何使用

> ID：11682516
> 
> 赞同：0
> 
> 时间：2012-07-27T06:23:59.833
> 
> 标签：javascript, knockout.js, asp.net-mvc-4

如何在淘汰赛中进行以下操作

```
 <div id="mainlist" data-bind="foreach: PageData.messages">
            <article class="comment_chain" id="_parentpost" >
            <div class="post_holder">

            <!-- ko if: ObjectId === 4 -->
            DO SOMETHING
           <!-- /ko -->
      </div> 
```

在这里，如果条件没有被正确调用。这可能是原因。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T10:13:57.057

ObjectId 是可观察的吗？如果是这样，当您在表达式中使用 observable 时，您必须记住它实际上是一个函数，并且您需要使用 () 形式来获取基础值。试试这个：

```
<!-- ko if: ObjectId() === 4 --> 
```

# java - 如何防止默认值“0”显示在 Struts2 文本字段标记中

> ID：11682519
> 
> 赞同：3
> 
> 时间：2012-07-27T06:24:13.577
> 
> 标签：java, jakarta-ee, struts2

我有一个包含多个文本字段的表单。当我用数据填充它时，有一些整数文本字段显示“0”，这是整数的默认值。我希望文本字段为空白而不是零。

```
<s:textfield id="txtPhone" name="phone"/> 
```

请帮忙。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T06:37:19.807

您需要使用`Integer`类而不是`int`为此。int 将始终初始化为 0。S2 OGNL 和类型转换器将为您处理类型转换。

对于 Integer，默认值为 null，它将解决您的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:35:03.063

如果该字段确实是可选的，则将该字段设为整数，因此默认值为空！

# c# - 以单一形式处理 2 个按钮？

> ID：11682523
> 
> 赞同：0
> 
> 时间：2012-07-27T06:24:20.763
> 
> 标签：c#, asp.net-mvc

我在控制器中有 2 个按钮和 2 个动作，单击一个按钮我需要处理一个动作，另一个按钮单击我需要处理另一个动作，我该如何实现

我给了不同的值和相同的名字

```
<input type="Submit" class="button" value="Search" name="btnName" />

<input type="Submit" class="button" value="Save" name="btnName" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:32:36.690

您必须使用 Html.Action 链接

```
@Html.ActionLink("Save", "NameOfAction", "NameOfController") 
```

这是一个ajax链接

```
 Ajax.ActionLink(
        "Save",
        "NameOfAction",
        "NameOfController",
        new { id = "AnyIdIfNeeded" },
        new AjaxOptions
        {
            OnFailure = "JavascriptThatHandlesFailed",
            HttpMethod = "GET",
            UpdateTargetId = "SomeDivIdToUpdate",
            LoadingElementId = "IdOfDivThatShowsLoading",
            OnSuccess = "JavascriptMethodThatHandlesSuccess"
        }
        ).ToHtmlString()); 
```

一个简单的表格

```
using (Html.BeginForm("ManageRoles", "ManageRoles", FormMethod.POST, new { id = "SearchForm" }))
{
   <a href="javascript:void(0);" onclick="document.getElementById('SearchForm').submit();">Save</a>
} 
```

# cocos2d-iphone - 使用 Tiled 应用创建 Cocos2d .plist

> ID：11682525
> 
> 赞同：0
> 
> 时间：2012-07-27T06:24:27.800
> 
> 标签：cocos2d-iphone, format

我正在尝试使用 OSX 上的 Tiled 应用程序为我正在开发的 2d iPhone 游戏创建平铺背景。我需要一些方法将完成的背景导出到 .plist 文件，以便我可以直接将它与 cocos2d 和我正在编写的应用程序一起使用。不幸的是，唯一可用的导出选项是：

.dat .txt .json .lua .wlk

有什么方法可以轻松地将上述任何格式转换为更可用的 .plist 格式？非常感谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T18:03:29.010

你的意思是[平铺地图编辑器](http://www.mapeditor.org)？Cocos2d iPhone 原生支持 TMX 地图。只需保存 TMX 并使用 CCTMXTiledMap 类加载它。

# javascript - 如何将现有的 D3 SVG 图表添加回 DOM？

> ID：11682527
> 
> 赞同：2
> 
> 时间：2012-07-27T06:24:35.360
> 
> 标签：javascript, dom, d3.js

嗨有一个 D3 SVG 对象：

```
 d3.select("#chart").append("svg")
.attr('id', 'chartId' + idx) 
```

我将矩形附加到其中以创建条形图。

我希望能够在 DOM 中添加和删除它。

我可以通过以下方式轻松删除它：

```
d3.select('svg#chartId' + j).remove(); 
```

如何重新附加我刚刚删除的整个 SVG 图表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-17T02:12:22.963

D3 不支持重新附加已删除的节点。

`selection.remove()`虽然不会完全破坏节点，但它的行为与 jQuery 的`detach()`方法非常相似。（使用带有 SVG 元素的 jQuery 永远不会结束）

好消息是，使用内置的 SVG DOM 很容易做到这一点。

```
// .remove() returns the detached node.
var el = d3.select('.selection').remove();
var nativeEl = el[0][0];
nativeEl.parentNode.appendChild(nativeEl); 
```

通常显示和隐藏这些元素可能会更容易，但在像重新安排渲染后元素的顺序这样的情况下，这可能非常有用。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-27T06:25:57.857

使用`detach()`代替`remove()`

```
var refToElelment = $(d3.select('svg#chartId' + j)).detach(); 
```

或者

```
$('#chartId' + j).detach() 
```

之后..

```
$('#target').append(refToElelment); 
```

# sed - 用 awk 和 sed 连接行

> ID：11682530
> 
> 赞同：2
> 
> 时间：2012-07-27T06:25:00.133
> 
> 标签：sed, awk

我喜欢使用 AWK 或 SED 将 {st,corridor,tunnel} 之后的行合并为一行

```
Input 

abcd 
efgjk
st 
wer
dfgh
corridor 
weerr
tunnel 
twdf

Desired output

abcd  
efgjk st  
wer 
dfgh corridor  
weerr tunnel 
twdf 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:53:19.370

一种使用方式`awk`：

```
awk '!/st|corridor|tunnel/ { if (line) print line; line = $0; next } { line = line " " $0 } END { print line }' file.txt 
```

结果：

```
abcd 
efgjk st 
wer
dfgh corridor 
weerr tunnel 
twdf 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T06:33:12.740

这可能对您有用（GNU sed）：

```
sed '$!N;s/\n\(st\|corridor\|tunnel\)\s*$/ \1/;P;D' file 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T06:43:44.907

或者，首先将整个文件读入内存的 awk 版本（不推荐用于大文件）：

```
$ awk 'BEGIN {i=1} {line[i++] = $0} END {j=1; while (j<i) {if (match(line[j+1], /^(st|corridor|tunnel)$/)) {print line[j] " " line[j+1]; j+=2} else print line[j++];}}' streets
abcd
efgjk st
wer
dfgh corridor
weerr tunnel
twdf 
```

我将留给你一次做一两行的练习。:)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-27T06:52:17.350

和`awk`

```
BEGIN {
    s["st"]=s["corridor"]=s["tunnel"]
}

$1 in s {
    print prev, $1
}

!($1 in s) {
    if (prev) print prev
    prev = $1
} 
```

# c# - 即将到来的 GCM 响应是：Error=NotRegistered

> ID：11682539
> 
> 赞同：5
> 
> 时间：2012-07-27T06:25:42.530
> 
> 标签：c#, android, asp.net, push-notification, google-cloud-messaging

这是我为 GCM 创建的示例服务器。

```
class Program2
{
    public static string SenderId = "318115091714";
    public static string RegistrationID = "APA91bF9hn6VeessobraNuauBcrFdlJ9eH1eVb44FAQ2oawerBeFWS48IEIFTPo8fdvWm93hwFY0tKszpPuSObPbTqgW-za1RLhCw-GDCn4JQZLQ-CmGwnnr6F5X8gYhNa2DNvFhCEM7HNgvdxtcnBqVX0dVnEynXQ";
    public static string ApiKey = "AIzaSyAl2HdB4bbukkcmJwoxUmhof15IAiuJ16U";
    public static string Message = "Testing GCM Server";
    public static string ApplicationId = "com.google.android.gcm.demo.app";

    /// <summary>
    /// Main method
    /// </summary>
    public static void Main(string[] args)
    {
        try
        {
            Program2 objProgram2 = new Program2();

            Console.WriteLine("\nPlease wait while GCM server is processing...");
            string Text = objProgram2.SendMessage();
            Console.WriteLine("\nSendMessage Response: " + Text);

            Console.ReadLine();
        }
        catch (Exception ex)
        {
            Console.WriteLine("\n" + ex.Message);
            Console.WriteLine("\n" + ex.StackTrace);
            Console.ReadLine();
        }
    }

    /// <summary>
    /// Send Push Message to Device
    /// </summary>
    public string SendMessage()
    {
                                                       //-- Create Query String --//
        string postData = "collapse_key=score_update&time_to_live=108&delay_while_idle=1&data.Message=" + Message + "&data.time=" + System.DateTime.Now.ToString() + "&registration_id=" + RegistrationID + "";
        //Console.WriteLine(postData);
        Byte[] byteArray = Encoding.UTF8.GetBytes(postData);

                                                    //-- Create GCM Request Object --//
        HttpWebRequest Request = (HttpWebRequest)WebRequest.Create("https://android.googleapis.com/gcm/send");
        Request.Method = "POST";
        Request.KeepAlive = false;
        Request.ContentType = "application/x-www-form-urlencoded;charset=UTF-8";
        Request.Headers.Add(string.Format("Authorization: key={0}", ApiKey));
        Request.Headers.Add(string.Format("Sender: id={0}", SenderId));
        Request.ContentLength = byteArray.Length;

                                         //-- Delegate Modeling to Validate Server Certificate --//
        ServicePointManager.ServerCertificateValidationCallback += delegate(
                    object
                    sender,
                    System.Security.Cryptography.X509Certificates.X509Certificate
                    pCertificate,
                    System.Security.Cryptography.X509Certificates.X509Chain pChain,
                    System.Net.Security.SslPolicyErrors pSSLPolicyErrors)
        {
            return true;
        };

                                            //-- Create Stream to Write Byte Array --// 
        Stream dataStream = Request.GetRequestStream();
        dataStream.Write(byteArray, 0, byteArray.Length);
        dataStream.Close();

                                                    //-- Post a Message --//
        WebResponse Response = Request.GetResponse();
        HttpStatusCode ResponseCode = ((HttpWebResponse)Response).StatusCode;
        if (ResponseCode.Equals(HttpStatusCode.Unauthorized) || ResponseCode.Equals(HttpStatusCode.Forbidden))
        {
            return "Unauthorized - need new token";

        }
        else if (!ResponseCode.Equals(HttpStatusCode.OK))
        {
            return "Response from web service isn't OK";
            //Console.WriteLine("Response from web service is not OK :");
            //Console.WriteLine(((HttpWebResponse)Response).StatusDescription);
        }

        StreamReader Reader = new StreamReader(Response.GetResponseStream());
        string responseLine = Reader.ReadLine();
        Reader.Close();

        return responseLine;
    }
} 
```

使用这些有效值和键运行它后，我收到了此响应。

```
Please wait while GCM server is processing...

SendMessage Response: Error=NotRegistered 
```

我越来越`Error=NotRegistered`。这个响应甚至没有在 android 开发者指南中指定。我收到此回复的原因应该是什么？谁能帮我解决这个问题？提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-27T07:13:45.680

我已经找到了它发生的原因。可能有六种类型的响应。以下是响应列表及其含义。

```
{ "message_id": "1:0408" } - success
{ "error": "Unavailable" } - should be resent
{ "error": "InvalidRegistration" } -  had an unrecoverable error (maybe the value got corrupted in the database)
{ "message_id": "1:1516" } - success
{ "message_id": "1:2342", "registration_id": "32" } - success, but the registration ID should be updated in the server database
{ "error": "NotRegistered"} - registration ID should be removed from the server database because the application was uninstalled from the device 
```

我收到错误消息 6。使用新的发件人 ID、注册 ID 和 API 密钥，我的上述代码正在运行。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-27T06:46:37.457

我不是服务器人，但最近查看了 GCM 服务器代码以解决问题。所以在这里我发现：

您设置 API 密钥的代码行：

```
Request.Headers.Add(string.Format("Authorization: key={0}", ApiKey)); 
```

在我看来不对。**key=**单词应该连接到 api 键，然后您的行将如下所示：

```
Request.Headers.Add("Authorization", "key=" + ApiKey)); 
```

这就是我的工作。

对于发件人 ID，我们有不同的方法，所以也要检查你的这行代码：

```
Request.Headers.Add(string.Format("Sender: id={0}", SenderId)); 
```

# ajax - 单击关闭选项卡该选项卡无法删除数组列表

> ID：11682556
> 
> 赞同：0
> 
> 时间：2012-07-27T06:26:48.587
> 
> 标签：ajax, jsf-2, primefaces

我有一个主要的面部应用程序。它有菜单和标签。当我单击菜单栏上的菜单项时，它会在管理 bean 中的数组列表中插入一个**值**并在 xhtml 页面中打开选项卡。当我单击选项卡上的关闭选项卡时，它会从数组列表中删除选项卡的值并关闭选项卡. 但是，当我在任何选项卡中包含一个页面并且该页面具有 inputText 并且输入文本 required=true 时，当我关闭页面并且那时文本字段没有数据时，选项卡数据无法从托管 bean 的数组列表中删除。

**用于菜单栏和输出选项卡**

```
<h:form id="menu">                
        <p:menubar autoDisplay="true">
           <p:submenu id="student" label="Student">       
                <p:menuitem id="studentAdmission" value="Student Admission" action="#{ajaxBean.editAction}" ajax="true" update=":outputForm">
                    <f:setPropertyActionListener target="#{ajaxBean.action}" value="StudentAdmission" />
                </p:menuitem>
                <p:menuitem id="studentList" value="Student Profile" action="#{ajaxBean.editAction}" ajax="true" update=":outputForm">
                    <f:setPropertyActionListener target="#{ajaxBean.action}" value="StudentProfile" />
                </p:menuitem>                        
            </p:submenu>
            <p:submenu id="registration" label="Registration">
                <p:menuitem id="registrationAdd" value="Subject Registration" action="#{ajaxBean.editAction}" ajax="true"  update=":outputForm">
                    <f:setPropertyActionListener target="#{ajaxBean.action}" value="SubjectRegistration"/>                                 
                </p:menuitem>
                <p:menuitem id="registrationList" value="List of Registration" action="#{ajaxBean.editAction}" ajax="true" update=":outputForm">
                    <f:setPropertyActionListener target="#{ajaxBean.action}" value="RegistrationList" />
                </p:menuitem>                        
            </p:submenu>
        </p:menubar>
    </h:form>       
    <h:form id="outputForm">
        <p:tabView id="outputTab">
            <p:ajax event="tabClose" listener="#{ajaxBean.closeTab}"/>
            <c:forEach items="#{ajaxBean.chcekItem}" var="item" varStatus="loop">
                <p:tab id="#{item}" title="#{item}" closable="true">                            
                    <ui:include src="#{bundle[item]}"/>   

                </p:tab>
            </c:forEach>
        </p:tabView>
    </h:form> 
```

这里的任何人都可以帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T09:25:23.660

在我使用的问题中

```
 <p:ajax event="tabClose" listener="#{ajaxBean.closeTab}"/> 
```

对于关闭标签

我找到的解决方案是

```
<p:ajax event="tabClose" immediate="true" listener="#{ajaxBean.closeTab}"/> 
```

这意味着如果我们想以任何方式关闭标签并想要发送`tabClose` `action`到，`managedbean`那么我们必须使用`immediate="true"`

# c# - 确定最终用户机器 MAC 地址和 IP 地址（本地和 ISP）

> ID：11682558
> 
> 赞同：4
> 
> 时间：2012-07-27T06:26:53.267
> 
> 标签：c#, asp.net, ip-address, mac-address

我不太确定如何确定最终用户机器 MAC 地址和 IP 地址（本地和 ISP）。我们正在使用基于 ASP.net 的系统，使用 C# 作为编程语言。

有人可以请指导。问候， 亚加

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-09T14:55:32.333

如果您正在编写 Internet Web 应用程序（而不是 Intranet/LAN 应用程序），则无法确定客户端的本地地址和 MAC 地址，除非客户端明确将其发送给您。您可以按字段获取外部（公共、互联网）地址`Request.UserHostAddress`。如果客户端使用代理，这将是另一种查看方式，`Request.ServerVariables["REMOTE_ADDR"]`因为`Request.ServerVariables["HTTP_X_FORWARDED_FOR"]`它们可能会显示真实地址。无论哪种方式，这些选项都不能得到保证，您不应该*依赖*它们。它们可能是额外的验证层，但它们绝不应该是检查身份的主要机制。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-09T14:42:28.310

您无法通过 Internet 获取 PC 的 MAC 地址

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-13T14:00:52.730

要获得 MAC 地址，您需要有一个签名的 ActiveX/jar/.net dll。否则，您只能获取 IP 地址。

为什么要签名，因为大多数客户端都有他们的浏览器设置来阻止任何未签名的活动组件。

您可以从有效的 CA 获得代码签名证书。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-09T14:57:40.000

当您使用 ASP.NET 时，在用户计算机上运行的唯一内容是 HTML 和 JavaScript。您不能使用 JavaScript 获取 MAC 地址，但是，您可以[获取 IP 地址](http://www.javascriptsource.com/user-details/ip-address.html)并将其发回。

要获取本地 IP 地址和 MAC 地址，您需要让用户运行应用程序，例如 Java 应用程序。

# sql-server - MVC4 Elmah 没有远程登录

> ID：11682560
> 
> 赞同：0
> 
> 时间：2012-07-27T06:26:58.573
> 
> 标签：sql-server, asp.net-mvc, logging, elmah

我有一个在本地运行良好但在远程服务器上运行良好的网站。它是为 SQL Server 配置的 MVC4 和 Elmah。

1.  我可以抛出一个简单的错误，并在我的 iis 本地的 elmah 上看到它（相同的代码）。

2.  配置完全相同，SQL Server ...一切。

3.  在远程服务器上，当我使用[http://example.com/elmah.axd/test](http://example.com/elmah.axd/test)测试 elmah 时， 它会正确记录错误。

4.  代码中的任何其他错误都不会显示在 elmah 上。

5.  我检查了应用程序池及其集成。

我感谢任何帮助或想法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-25T15:47:43.110

您需要通过将以下配置设置添加到 web.config 文件中的部分来启用 Elmah 进行远程访问。此值的默认设置是 false，它只允许 localhost，因此它在 Visual Studio 中的本地计算机上工作。

```
 <elmah>
      <security allowRemoteAccess="true"/>
   </elmah> 
```

确保在 web.config 文件的 webServer 部分中定义了 HttpHandler。

```
<system.webServer>
  <httpHandlers>
    <add name="elmah" verb="GET" path="elmah.axd" type=type="Elmah.ErrorLogPageFactory, Elmah"/>
  </httpHandlers>
</system.webServer> 
```

# php - FUELCMS(codeigniter) htaccess: order 接受一个参数, 'allow,deny', 'deny,allow', 错误

> ID：11682561
> 
> 赞同：7
> 
> 时间：2012-07-27T06:26:58.747
> 
> 标签：php, .htaccess, codeigniter

我正在尝试在我的 arch linux 灯服务器中使用fuelcms。但我不能让 htaccess 工作。我的主文件夹是 ytsejam/fuel_cms/..

这是我的 .htaccess 文件：

```
Options +FollowSymLinks
<IfModule mod_rewrite.c>
RewriteEngine On

<Files .*>
    Order deny, allow
    Deny From All
</Files>

# Allow asset folders through
RewriteRule ^(fuel/modules/(.+)?/assets/(.+)) - [L]

# Protect application and system files from being viewed
RewriteRule ^(fuel/install/.+|fuel/crons/.+|fuel/data_backup/.+|fuel/codeigniter/.+|fuel/modules/.+|fuel/application/.+|\.git.+) - [F,L]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

RewriteRule .* index.php?/$0 [L]
</IfModule>
 Options -Indexes 
```

/var/log/httpd/error_logs 表明

```
/home/ytsejam/public_html/fuel_cms/.htaccess: order takes one argument, 'allow,deny', 'deny,allow', or 'mutual-failure' 
```

谁能帮我 ？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-07-27T06:43:22.397

您刚刚在逗号后插入了额外的空格

`"deny, allow"`一定是`"deny,allow"`

# php - php 和 .dmg 玩得不好

> ID：11682562
> 
> 赞同：0
> 
> 时间：2012-07-27T06:27:13.140
> 
> 标签：php, upload, corrupt, dmg

我创建了一个上传站点，由于某种原因，处理 .dmg 文件在下载时总是最终损坏。任何其他文件类型都可以正常工作，但如果有人上传 .dmg 然后下载它，Mac OS X 会说它已损坏，但这不会发生在任何其他文件上。有没有其他人有这个问题。

这是我的上传代码：

```
$temp_file = $_FILES['Filedata']['tmp_name'];
    $ext = pathinfo($_FILES['Filedata']['name'], PATHINFO_EXTENSION);
    $new_file_name = md5(uniqid(rand(), true));
    $target_file = rtrim(enc_target_path, '/') . '/' . $new_file_name . '.enc.' . $ext;

    $iv_size = mcrypt_get_iv_size(MCRYPT_RIJNDAEL_128, MCRYPT_MODE_CBC);
    $iv = mcrypt_create_iv($iv_size, MCRYPT_RAND);
    $key = substr(md5('some_salt' . $password, true) . md5($password . 'more_salt', true), 0, 24);
    $opts = array('iv' => $iv, 'key' => $key);

    $my_file = fopen($temp_file, 'rb');

    $encrypted_file_name = $target_file;
    $encrypted_file = fopen($encrypted_file_name, 'wb');

    stream_filter_append($encrypted_file, 'mcrypt.rijndael_128', STREAM_FILTER_WRITE, $opts);
    //stream_copy_to_stream($my_file, $encrypted_file);

    while (!feof($my_file)) {
        fwrite($encrypted_file, fread($my_file, 4096));
    }

    fclose($encrypted_file);
    fclose($my_file);
    unlink($temp_file); 
```

这是下载代码：

```
$key = substr(md5('some_salt' . $this->password, true) . md5($this->password . 'more_salt', true), 0, 24);
                $opts = array('iv' => base64_decode($this->iv), 'key' => $key);

                $encrypted_file = fopen($this->file_path, 'rb');
                stream_filter_append($encrypted_file, 'mdecrypt.rijndael_128', STREAM_FILTER_READ, $opts);

                if (strstr($_SERVER['HTTP_USER_AGENT'], "MSIE")) {
                    header('Content-Type: "application/octet-stream"');
                    header("Content-Disposition: attachment; filename= $this->real_name");
                    header('Expires: 0');
                    header('Cache-Control: must-revalidate, post-check=0, pre-check=0');
                    header("Content-Transfer-Encoding: binary");
                    header('Pragma: public');
                    header("Content-Length: " . filesize($this->file_path));
                } else {
                    header('Content-Type: "application/octet-stream"');
                    header("Content-Disposition: attachment; filename= $this->real_name");
                    header("Content-Transfer-Encoding: binary");
                    header('Expires: 0');
                    header('Pragma: no-cache');
                    header("Content-Length: " . filesize($this->file_path));
                }

                fpassthru($encrypted_file);
                fclose($encrypted_file);
                $this->add2Log(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:32:32.170

如果没有看到一些实际的代码和数据，这很难回答。

然而，作为第一项措施，请使用文本编辑器查看其中一个损坏的 DMG。它可能包含在下载文件期间生成的 PHP 错误消息。这些错误可能发生在所有文件中，但会以其他格式插入。

# plone - Plone4 - 我需要一个想法

> ID：11682566
> 
> 赞同：2
> 
> 时间：2012-07-27T06:27:47.840
> 
> 标签：plone, roles, zope

我需要围绕一个概念构建一个系统，如下所示：

用户有他们的对象，这些对象是由管理者和用户自己创建的。他们的对象只对他们自己可见。如何在广义上做到这一点？我应该选择什么样的逻辑和机制？

我知道这个问题可能太宽泛了，但我对开发还很陌生。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T12:34:36.093

使用 Plone 的内置用户文件夹可以轻松解决您的要求。

您需要通过 yourhost:8080/sitename/@@security-controlpanel 在控制面板的安全部分启用它们（*注意*：如果您已登录并尝试查看配置的更改，请查找您自己的 urserfolder，您需要注销并再次登录，因为文件夹创建触发器是“第一次”登录）。

然后，每个用户都有自己的文件夹，除了经理之外的其他用户无权访问，并且他们自己也可以访问在其文件夹中创建的项目经理，因为用户文件夹的所有权属于用户。

最好在您自己的产品（plone-add-on/plugin）中设置此配置，以使其以编程方式可重现。

# opencv - 使用霍夫圆变换进行网球检测的 OpenCV 库

> ID：11682572
> 
> 赞同：2
> 
> 时间：2012-07-27T06:28:32.940
> 
> 标签：opencv, hough-transform

我正在使用 opencv 库为我的项目实时检测网球。我正在使用霍夫圆变换方法进行检测，它的作用是在图像中找到包括对象在内的多个圆。所以很难从图像中得到所需物体的中心和半径的正确坐标

所以有人有任何想法来解决这个问题............？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T18:24:51.477

这里给你两个想法：

更通用的方法是按大小、圆形度或您能想到的其他一些属性过滤您找到的圆圈。这样，您只会找到您真正关心的圈子。这需要对您正在寻找的特定对象的最少了解。

更具体的方法是假设您只在寻找网球（对吗？）。由于这就是您要查找的内容，因此您可以在运行霍夫算法之前对图像（阈值、变形过滤器等）进行预处理，以消除一些噪声。例如，假设您有一个普通的老式霓虹绿色网球，这就是您所关心的：

第 1 步：将图像转换为 HSV 空间（不是必需的，但我更喜欢这种方式）

第 2 步：拆分频道

第 3 步：为每个通道设置阈值，寻找与您的特定网球相对应的色调、饱和度和值的特定值。您可能需要对这些数值进行试验，以查看哪个可以为您提供最佳的球图片。

第 4 步：bitwise_和通道阈值的结果一起，创建一个（希望是现在）网球的最终二值化图像

第五步：霍夫圆算法，照常进行。

我希望这对您的情况有所帮助。-JB

# javascript - 线是什么意思？jQuery Hilghlight 插件中的“this.parentNode.firstChild.nodeName”

> ID：11682575
> 
> 赞同：0
> 
> 时间：2012-07-27T06:28:43.427
> 
> 标签：javascript, jquery, html, jquery-plugins, highlight

线有什么用

```
this.parentNode.firstChild.nodeName 
```

在以下来自 jQuery Highlight 插件的代码中。

[http://johannburkard.de/blog/programming/javascript/highlight-javascript-text-higlighting-jquery-plugin.html](http://johannburkard.de/blog/programming/javascript/highlight-javascript-text-higlighting-jquery-plugin.html)

```
jQuery.fn.removeHighlight = function () {
  return this.find("span.highlight ").each(function () {
    this.parentNode.firstChild.nodeName;
    with(this.parentNode) {
      replaceChild(this.firstChild, this);
      normalize();
    }
  }).end();
}; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T06:37:57.213

`this.parentNode.firstChild.nodeName`没有将其值分配给任何变量。基本上它是一个属性而不是一个函数，所以它不会产生任何影响。看起来毫无意义。它应该找出当前节点的 parentNode，然后是该 parentNode 的 firstChild 节点，然后获取它的 nodeName。但在这种情况下，它不会在您提供的代码片段中的任何地方使用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:37:28.803

```
this.parentNode.firstChild.nodeName 
```

这将获取引用的第一个兄弟的标签名称（如果它是一个元素，请参阅[RobG](https://stackoverflow.com/users/257182/robg)的评论）`this`。

因为它没有被分配，所以很奇怪。如果它被称为副作用（可能是为了修复浏览器错误），则不清楚（应该注释掉）。

那个插件的代码有点奇怪。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T06:38:37.727

考虑以下例如：

```
<span class= "highlight">...</span>
<span class= "highlight">...</span>
<span class= "highlight">...</span>
<span class= "highlight">...</span>
.... 
```

现在有多个具有相同类名的跨度。如果您尝试突出显示其中一个跨度，则会触发 jquery。

现在要突出显示的跨度是基于`this.parentNode.firstChild.nodeName;` this 是指具有突出显示请求的跨度，其余只是跨度内的内部结构。

# sql - 获取 XML 数据到表中

> ID：11682581
> 
> 赞同：1
> 
> 时间：2012-07-27T06:29:15.537
> 
> 标签：sql, sql-server, xml, sql-server-2008

我有以下 XML

```
<Queue>
    <UserName>UserName</UserName>
    <Type>1</Type>
    <Portal name="Portal1">
        <IndexesForSelect>
            <Index>Index1</Index>
            <Index>Index2</Index>
        </IndexesForSelect>
    </Portal>
    <Portal name="Portal2">
        <IndexesForSelect>
            <Index>Index3</Index>
            <Index>Index4</Index>
        </IndexesForSelect>
    </Portal>
</Queue> 
```

我需要把它放到下面格式的表格中

```
Portal      Index
---------------------------
Portal1     Index1
Portal1     Index2
Portal2     Index3
Portal2     Index4 
```

如果有人可以帮助我，我真的很感激。

我已经尝试了以下代码，但它只返回第`Index`一个`Portal`

```
declare @T table
(
  XMLCol xml
)

insert into @T values
('<Queue>
      <UserName>UserName</UserName>
      <Type>1</Type>
      <Portal name="Portal1">
        <IndexesForSelect>
          <Index>Index1</Index>
          <Index>Index2</Index>
        </IndexesForSelect>
      </Portal>
      <Portal name="Portal2">
        <IndexesForSelect>
          <Index>Index3</Index>
          <Index>Index4</Index>
        </IndexesForSelect>
      </Portal>
    </Queue>')
SELECT  items.value('../@name','varchar(max)') AS [Portal],
        items.value('(Index)[1]','varchar(max)') AS [Index]
FROM @T AS T CROSS APPLY T.XMLCol.nodes('Queue/Portal/IndexesForSelect') c (items) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:34:01.197

```
select T1.N.value('@name', 'varchar(max)') as Portal,
       T2.N.value('.', 'varchar(max)') as [Indes]
from @T as T
  cross apply XMLCol.nodes('/Queue/Portal') as T1(N)
  cross apply T1.N.nodes('IndexesForSelect/Index') as T2(N) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:32:57.403

尝试使用 SQL 管理工作室提供的导出/导入功能。

阅读它[去这里](http://msdn.microsoft.com/en-us/library/ms141209)

# pthreads - pthreads等待和信号疑问linux

> ID：11682588
> 
> 赞同：1
> 
> 时间：2012-07-27T06:30:22.703
> 
> 标签：pthreads, signals, wait

在 pthread 等待之前，我们使用互斥锁进行锁定，这样其他代码可能不会尝试更改条件变量。wait 然后解锁互斥锁并等待信号。

说，在其他一些线程中，我锁定了同一个互斥锁，之后，我使用了“信号”。然后解锁线程。当信号完成时，等待线程唤醒并再次获取互斥锁。

```
Thread1                   Thread2
{                         {
    lock(mutex);               lock(mutex);
    wait(mutex);               signal(mutex);
    unlock(mutex);             unlock(mutex);
}                          } 
```

假设三个线程一语句包含在 while(1) 循环中。然后假设 thread2 锁定互斥体，向它发出信号，然后解锁互斥体。然后没有结束，而是进入睡眠状态。

那么条件变量的值会永久改变吗？如果线程一的三个语句在无限循环中运行，它会不会永远等待，只是发现信号已经发出？当等待调用返回时，它是否将条件变量的值设置回初始值？

如果是，我可以对变量使用创建、销毁或初始化方法来设置值吗？如果是，如何？这些函数具体是做什么的？

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-30T05:52:16.570

`pthread_cond_signal()`将始终唤醒至少一个*当前正在*等待该条件变量的线程`pthread_cond_wait()`。如果同一线程或不同线程再次调用`pthread_cond_wait()`，它将阻塞并等待另一个信号。

这意味着 pthread 条件变量必须始终与某种共享数据配对，受调用时持有的互斥锁保护`pthread_cond_wait()`。在调用之前`pthread_cond_wait()`，线程必须检查共享数据以查看它想要等待的条件是否已经发生——如果没有，它不应该等待。

此类共享数据的最简单示例可能是全局标志。在您的示例中：

```
int flag = 0;

Thread 1 {
    pthread_mutex_lock(&mutex);
    while (!flag)
        pthread_cond_wait(&cond, &mutex);
    pthread_mutex_unlock(&mutex);
}

Thread 2 {
    pthread_mutex_lock(&mutex);
    flag = 1;
    pthread_mutex_signal(&cond);
    pthread_mutex_unlock(&mutex);
} 
```

您可以在这里看到，当条件为“重置”时完全在您的控制之下——例如，您可以`Thread 1`在`flag = 0;`它调用`pthread_mutex_unlock()`.

共享状态通常比一个简单的标志更复杂 - 例如，您可能有一个生产者线程调用`pthread_mutex_wait()`，而共享缓冲区中没有空间。

# javascript - facebook FB.Event.subscribe('auth.authResponseChange') 不工作

> ID：11682590
> 
> 赞同：7
> 
> 时间：2012-07-27T06:30:39.590
> 
> 标签：javascript, html, facebook

对于我的一生，我无法让 Event.subscribe('auth.authResponseChange') 工作。请参阅下面的代码

```
 <div id="fb-root">
    </div>
    <script>
        window.fbAsyncInit = function () {
            FB.init({
                appId: 'XXXXXXXXXXXXXXX', // App ID
                channelUrl: 'http://XXXXXXXX.us/', // Channel File
                status: true, // check login status
                cookie: true, // enable cookies to allow the server to access the session
                xfbml: true  // parse XFBML
            });

            FB.Event.subscribe('auth.authResponseChange', function (response) {
                alert('The status of the session is: ' + response.status);
            });
        };

        // Load the SDK Asynchronously
        (function (d) {
            var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
            if (d.getElementById(id)) { return; }
            js = d.createElement('script'); js.id = id; js.async = true;
            js.src = "//connect.facebook.net/en_US/all.js";
            ref.parentNode.insertBefore(js, ref);
        } (document));
    </script>
    <div class="fb-login-button" data-size="xlarge" scope="email" data-show-faces="false"
        data-width="400" data-max-rows="1" autologoutlink="true">
        Login with Facebook</div> 
```

登录按钮呈现。我也可以注销。唯一的问题是 auth.response 更改没有触发，我没有收到“消息”弹出窗口

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-05-24T18:07:20.340

你的代码看起来不错。

我会访问您的 Facebook 应用程序并特别检查 2 个设置。

1.  检查“沙盒模式”-确保将其设置为“禁用”
2.  检查您的站点 URL 和/或画布 URL - 确保将它们设置为您的域。（即，如果您在本地处理此问题，您的 url 应该类似于`http://localhost:#####/`##### 是您的端口。

希望有帮助。

* * *

## 回答 #2

> 赞同：-4
> 
> 时间：2012-08-07T00:32:17.620

您的 fbAsyncInit 函数是异步调用的，因此您不会看到任何警报消息。尝试使用 console.log 进行调试。

# apache-flex - 如何理解弹性皮肤的层次？

> ID：11682596
> 
> 赞同：0
> 
> 时间：2012-07-27T06:30:56.150
> 
> 标签：apache-flex, layer, skin

我正在阅读 TourDeFlex(Button With Icon) 中的示例源代码，我发现很难理解皮肤层。

参见**TDFPanelSkin.mxml**的代码：

```
<s:states>
    <s:State name="normal" />
    <s:State name="disabled" />
    <s:State name="normalWithControlBar" />
    <s:State name="disabledWithControlBar" />
</s:states>

<!-- drop shadow -->
<s:RectangularDropShadow id="shadow" blurX="20" blurY="20" alpha="0.32" distance="11" 
                         angle="90" color="#000000" left="0" top="0" right="0" bottom="0"/>

<!-- layer 1: border -->
<s:Rect left="0" right="0" top="0" bottom="0">
    <s:stroke>
        <s:SolidColorStroke color="0" alpha="0.50" weight="1" />
    </s:stroke>
</s:Rect>

<!-- layer 2: background fill -->
<!-- This layer was modified for Tour de Flex samples to have a gradient border at the bottom. -->
<s:Rect left="0" right="0" bottom="0" height="15">
    <s:fill>
        <s:LinearGradient rotation="90">
            <s:GradientEntry color="0xE2E2E2" />
            <s:GradientEntry color="0x000000" />
        </s:LinearGradient>
    </s:fill>
</s:Rect> 
```

您可以在评论中看到，有“layer 1”和“layer 2”。

只是一个面板，为什么会有层？一个组件可以有多少层？哪里知道一个层应该有什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T16:41:47.053

**简短的回答是：**

层只是思考 Spark 皮肤的一种有用方式。它们不是严格要求的，您可以拥有的数量也没有限制。之所以有图层，是因为它允许您以类似于在 Photoshop 等应用程序中的方式构建组件的视觉外观。它还允许根据其状态对组件的外观进行细粒度控制。

**长答案是：**

`RectangularDropShadow`是一个阴影，将出现在被蒙皮的组件下方。最重要的是，`Rect`将绘制一个实心笔划。最重要的是，`Rect`将绘制具有线性渐变的 a。

通常，这些层是完全可视的，并且由应用程序的设计决定。根据我的经验，我从设计师那里收到了 Photoshop 文档，其中的按钮之类的东西建立在具有不同混合模式、填充和笔触等的多个图层上。分层皮肤允许实际的 Spark 皮肤（大部分）匹配源 PSD，这很好。

分层皮肤的另一个优点是您可以根据皮肤状态轻松调整图层。一个常见的例子是将组件置于“禁用”状态。您会看到您的示例在顶部声明了四个状态，其中一个是“禁用”。通过向“背景填充”`alpha.disabled="0.5"`中使用的属性添加属性，`LinearGradient`您可以将面板更新为在禁用时变为半透明。

I used the Adobe docs on [Spark Skinning](http://help.adobe.com/en_US/flex/using/WS53116913-F952-4b21-831F-9DE85B647C8A.html) when I got started with Spark.

# xcode - 演示 jquery ui 地图在 ios5 中为空白

> ID：11682597
> 
> 赞同：0
> 
> 时间：2012-07-27T06:30:59.740
> 
> 标签：xcode, google-maps, jquery-mobile, cordova, jquery-ui-map

我在 query-ui-maps 上测试了这个演示：http: [//jquery-ui-map.googlecode.com/svn/trunk/demos/jquery-google-maps-mobile.html#directions_map](http://jquery-ui-map.googlecode.com/svn/trunk/demos/jquery-google-maps-mobile.html#directions_map)

除了我的 index.html 文件的 head 部分之外，一切都相同：

```
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1,  user-scalable=no">
        <link rel="stylesheet" href="jquery-mobile/jquery.mobile.css" />
        <link href="css/jquery.mobile-swatch.css" rel="stylesheet" type="text/css"/>
        <link href="css/custom-icons.css" rel="stylesheet" type="text/css"/>
        <link href="css/mapapp.css" rel="stylesheet" type="text/css"/>
        <script src="http://maps.google.com/maps/api/js?sensor=false&libraries=places"  type="text/javascript"></script>
        <script src="js/jquery.js"></script>
        <script src="jquery-mobile/jquery.mobile.js"></script>
        <script type="text/javascript" src="ui/jquery.ui.map.js"></script>
        <script type="text/javascript" src="ui/jquery.ui.map.extensions.js"></script>
        <script type="text/javascript" charset="utf-8" src="js/cordova-iphone.js"></script>
        <script type="text/javascript" src="ui/jquery.ui.map.services.js"></script>
        <script type="text/javascript" src="js/jquery-ui-autocomplete-1-8-15.js"></script>
<script type="text/javascript" src="js/modernizr.js"></script>
        <script type="text/javascript" src="js/demo.js"></script> 
```

该演示在我的桌面上的 safari 中运行，但无论我在 ios5 模拟器还是 ios5 手机中进行测试，它都会加载附加的屏幕。没有错误记录到控制台。我正在 Xcode 中进行测试并使用电话间隙。 ![黑屏](../Images/430b5b2bfa943e8d07fddaed2a7c3c08.png) 请帮忙。

这是代码：

```
var mobileDemo = { 'center': '57.7973333,12.0502107', 'zoom': 10 };
        $('#directions_map').live('pageinit', function() {
            demo.add('directions_map', function() {
                $('#map_canvas_1').gmap({'center': mobileDemo.center, 'zoom': mobileDemo.zoom, 'disableDefaultUI':true, 'callback': function() {
                    var self = this;
                    self.set('getCurrentPosition', function() {
                        self.refresh();
                        self.getCurrentPosition( function(position, status) {
                            if ( status === 'OK' ) {
                                var latlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude)
                                self.get('map').panTo(latlng);
                                self.search({ 'location': latlng }, function(results, status) {
                                    if ( status === 'OK' ) {
                                        $('#from').val(results[0].formatted_address);
                                    }
                                });
                            } else {
                                alert('Unable to get current position');
                            }
                        });
                    });
                    $('#submit').click(function() {
                        self.displayDirections({ 'origin': $('#from').val(), 'destination': $('#to').val(), 'travelMode': google.maps.DirectionsTravelMode.DRIVING }, { 'panel': document.getElementById('directions')}, function(response, status) {
                            ( status === 'OK' ) ? $('#results').show() : $('#results').hide();
                        });
                        return false;
                    });
                }});
}).load('directions_map');

        });

        $('#directions_map').live('pageshow', function() {
            demo.add('directions_map', $('#map_canvas_1').gmap('get', 'getCurrentPosition')).load('directions_map');
        });

    </script>

</head>
<body>
    <div id="directions_map" data-role="page">
        <div data-role="header">
            <h1>jQuery mobile with Google maps v3</h1>
            <!--<a data-rel="back">Back</a>-->
        </div>
        <div data-role="content">
            <div class="ui-bar-f ui-corner-all ui-shadow" style="padding:1em;">
                <div id="map_canvas_1" style="height:300px; width:100%;"></div>
                <p>
                    <label for="from">From</label>
                    <input id="from" class="ui-bar-f" type="text" value="G&ouml;teborg, Sweden" />
                </p>
                <p>
                    <label for="to">To</label>
                    <input id="to" class="ui-bar-f" type="text" value="Stockholm, Sweden" />
                </p>
                <a id="submit" href="#" data-role="button"  data-icon="search">Get directions</a>
            </div>
            <div id="results" class="ui-listview ui-listview-inset ui-corner-all ui-shadow" style="display:none;">
                <div class="ui-li ui-li-divider ui-btn ui-bar-f ui-corner-top ui-btn-up-undefined">Results</div>
                <div id="directions"></div>
                <div class="ui-li ui-li-divider ui-btn ui-bar-f ui-corner-bottom ui-btn-up-undefined"></div>
            </div>
        </div>
    </div>

</body> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T13:32:57.490

经过大量搜索，这已被证明是最好的答案： [http ://code.google.com/p/jquery-ui-map/wiki/Examples#Example_get_user_position](http://code.google.com/p/jquery-ui-map/wiki/Examples#Example_get_user_position)

# vb.net - 安装后程序连接到未知（？）sqlite数据库

> ID：11682601
> 
> 赞同：1
> 
> 时间：2012-07-27T06:31:10.980
> 
> 标签：vb.net, sqlite, database-connection, setup-project, vb.net-2010

我在使用 vb.net (vs2010) 和 SQLite 数据库时遇到了一个奇怪的问题：我用安装和部署项目制作了一个安装包，一切似乎都运行良好。我的 SQLite 数据库安装在 CommonApplicationData 文件夹下，软件安装在 ProgramFiles\ProductName 下。在安装项目中我设置了一个自定义操作，用户可以选择在安装后运行软件：/StartApp="[CHECK]"

```
Private Sub MyInstaller_Committed(ByVal sender As Object, ByVal e As InstallEventArgs)
Dim productName As String = Context.Parameters("ProductName")
StartAfterInstall = Me.Context.Parameters.Item("StartApp")
If StartAfterInstall = "1" Then
    Directory.SetCurrentDirectory(Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location))
    Shell(Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location) + "\FB.exe")
End If
End Sub 
```

在 ApplicationEvents.vb 中，我在 StartUp 处设置：

```
 AppDomain.CurrentDomain.SetData("DataDirectory", Environment.GetFolderPath(Environment.SpecialFolder.CommonApplicationData)) 
```

这里出现了奇怪的行为：如果用户在安装后启动应用程序，程序会连接到另一个（？）数据库，而不是安装在**CommonApplicationData**下。如果用户插入数据，似乎一切正常。关闭应用程序并从桌面/程序文件/用户程序菜单重新启动后，将程序连接到安装在 CommonApplicationData 下的数据库，但他看不到安装后启动应用程序所做的更改。所以从桌面/程序文件/用户程序菜单启动程序=>一切都很好，但是安装后的第一次（自动）启动是一个问题。我不知道会发生什么，有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T11:16:16.443

您有安装管理员权限吗？如果是，则可能会发生以下情况：

1.  您正在写入 ProgramFiles。Windows 将此重定向到管理员 %appdata%\roaming 文件夹，因为写入 ProgramFiles 被认为是错误的。
2.  它转到管理员帐户，因为安装具有管理员权限。
3.  当您从用户帐户启动程序时，将使用用户特定的 %appdata% 文件夹，该文件夹为空。

解决这个问题：

1.  不要从安装程序启动您的程序。
2.  在 %appdata% 中为您的程序创建一个目录并使用它。

# android - Android中的意图数据传递

> ID：11682602
> 
> 赞同：-10
> 
> 时间：2012-07-27T06:31:12.727
> 
> 标签：android, android-intent

> **可能重复：**
> [如何在 Android 中将对象从一个活动传递到另一个活动](https://stackoverflow.com/questions/2736389/how-to-pass-object-from-one-activity-to-another-in-android)
> [使用意图传递数据](https://stackoverflow.com/questions/7006957/using-intents-for-passing-data)

是否可以将值从一个活动传递到另一个活动。也就是说有 3 个活动，我在第 1 个活动中有 1 个字符串，我想要在第 3 个活动中使用这个字符串。

还有一个我不会直接参加第三次活动。我要从 1 到 2 和 3。那我怎么能在活动 1 中有一个字符串 ..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:42:59.947

您可以利用应用程序生命周期。

创建应用程序类，保存/更新值并在您想要的任何活动中访问它。

```
public class MyApplication extends Application {
public static String value;

} 
```

在活动中，要保存任何值，请使用

```
MyApplication.value = "some value"; 
```

在其他活动中，如果你想要这个值，

```
String myValue = MyApplication.value; 
```

另一种方式是，您可以在每个活动中传递意图附加信息。

# php - 如何使用codeIgniter在视图中调用控制器的功能？

> ID：11682604
> 
> 赞同：-2
> 
> 时间：2012-07-27T06:31:18.043
> 
> 标签：php, view, controller

> **可能重复：**
> [如何从 codeigniter 的视图中调用控制器函数？](https://stackoverflow.com/questions/11682357/how-to-call-controller-function-from-view-in-codeigniter)

使用 codeigniter，我有一个控制器，如下所示：

```
class myController extends CI_Controller{

    function __constructor(){
        parent::__constructor();
    }
    public function index(){
        $this->load->view('myview');
    }
    public function myFn(){
        echo "my controller is called"; 
    }
} 
```

并在视图 m 中使用表单操作 m 中的 HTML 表单通过使用以下链接 localhost/Codeignator/myController/myFn 调用 myFn 这样做之后，我收到以下错误！

> 在此服务器上找不到请求的 URL /CodeIgniter/myController/myFn

但是当我使用链接 localhost/Codeignator/index.php/myController/myFn

我得到了正确的输出！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:41:14.080

默认情况下，index.php 文件将包含在您的 URL 中，请参阅 [用户指南](http://codeigniter.com/user_guide/general/urls.html)部分删除关于添加 .htacces 的 index.php 文件

创建一个包含以下内容的 .htaccess 文件：

```
    重写引擎开启
    RewriteCond $1 !^(index\.php|images|robots\.txt)
    重写规则 ^(.*)$ /index.php/$1 [L]

```

并将其放在您网站的根文件夹中

# xcode4.3 - Xcode Target Membership 迷失了方向

> ID：11682611
> 
> 赞同：1
> 
> 时间：2012-07-27T06:31:51.150
> 
> 标签：xcode4.3, ios5.1, targeting

Xcode 4.3.3 项目有 3 个目标，每个目标都有自己的 InAppPurchaseManager 类。突然间，目标 ABC 出现了构建错误，因为它指向目标 XYZ 的 InAppPurchaseManager 类。各个 InAppPurchaseManager 类都只属于各自的目标。我放弃了更改（恢复到 Cornerstone 中的上次更新），它仍然会发生！如果我删除对其他目标的 InAppPurchaseManager 的引用，ABC 的问题就会消失。

我想知道是否有其他人经历过这种情况并知道如何解决？
我猜有些东西已经损坏，但恢复到以前的版本并没有修复，所以我怀疑它是项目文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-06T05:50:18.427

看起来它已使用 Xcode 4.5.1 自行修复

# java - 方法局部变量和栈和堆

> ID：11682616
> 
> 赞同：2
> 
> 时间：2012-07-27T06:32:06.780
> 
> 标签：java, multithreading, thread-safety, heap-memory, stack-memory

在阅读线程安全时，我遇到了这个问题。如果我的方法是正确的，则本地基元和对象引用存在于堆栈中，而堆栈内的引用指向的实际对象存在于堆中。

但是当涉及到方法本地非原始对象初始化时，这不会导致并发问题吗？我的意思是，如果方法 locals 非原语存在于堆中并且只有指针存在于堆栈中，它与实例变量不一样吗？

有人可以帮我理解这个....

附言

想想两个线程，每个线程都有自己的两个堆栈和一个堆。我的理解是这两个线程将它们的方法本地原始变量保存在它们的堆栈中。我对此没有意见。

但是如果我们有一个带有非原始方法局部变量的方法呢？那么如果该变量的对象存储在堆内，两个线程都可以访问同一个对象，不是吗？因此，如果是这种情况，就会出现同步问题。

这就是我要问的。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T07:32:25.997

> 但是如果我们有一个带有非原始方法局部变量的方法呢？那么如果该变量的对象存储在堆内，两个线程都可以访问同一个对象，不是吗？因此，如果是这种情况，就会出现同步问题。

我想知道为什么你会认为这两个引用将引用同一个对象。

引用的对象的创建是通过new显式完成的（或者其他类似的方法，但是思路是一样的）

因此，与 C++ 不同，如果您在 Java 中声明

```
Foo foo; 
```

没有实例化 Foo 对象。 `foo`只是一个指向任何东西的指针。

这将在堆中为您创建一个 Foo 对象实例。

```
Foo foo = new Foo(); 
```

如果有两个线程在运行这段代码，线程 1 会`Foo`在栈中有一个引用，并要求`Foo`在堆中分配一个新对象，然后将该`Foo`obj 的地址分配给该引用`foo`。线程 2 也在做同样的事情。请注意，线程 2 也要求分配一个新`Foo`对象，它将是与线程 1 分配的对象不同的对象。

这是基本的（并且非常简化）的想法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T07:05:15.723

如果两个线程都具有对该对象的引用，则它们都可以访问同一个对象。如果您有如下方法：

```
public String concat(String a, String b) {
    StringBuilder builder = new StringBuilder();
    builder.append(a);
    builder.append(b);
    return builder.toString();
} 
```

StringBuilder 对象确实在堆中，但是只有一个线程引用了这个对象。没有其他线程可以引用此 StringBuilder。所以它本质上是线程安全的。

相反，如果您有以下情况：

```
public String concat(String a, String b) {
    final StringBuilder builder = new StringBuilder();
    new Thread(new Runnable() {
        @Override
        public void run() {
            builder.append("haha!");
        }
    }).start();
    builder.append(a);
    builder.append(b);
    return builder.toString();
} 
```

然后你有一个线程安全问题，因为你将本地创建的对象引用传递给另一个线程，而 StringBuilder 不是线程安全的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T08:59:08.400

`But what if we have a method with non primitive method local variables ? Then if the object for that variable is stored inside the heap, both the threads will have the access to the same object, won't they ? So if that's the case there would be Sync problems`

您部分回答了您自己的问题。该引用值存储在堆栈中，但实际对象内容存储在堆中，当您调用 new Object() 时，每个线程都会创建不同的新对象，这些新对象将存储在堆中，每个线程访问它使用存储在自己的堆栈中的引用值创建的对象

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T07:04:03.917

局部变量要么是原语，要么是对在别处创建的对象的引用（如果你进行了赋值），要么是对新创建的对象的引用（使用“new”运算符）

正如您所说，对于第一种情况，没有问题。

对于最后一种情况，当您在本地创建一个新对象时，每次调用都会创建一个新对象，因此不会出现并发问题，因为每次调用都会在堆中创建一个对象

但是对于第二种情况，由于对象是在其他地方创建的，因此您必须考虑并发性

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-27T07:38:19.610

就我的想法，可能是您的困惑点：堆不像堆栈那样管理。它是共享的，是的 - 因为所有线程创建的对象都在堆中。然而，当每个对象被*创建*时，它在堆中被赋予了一个唯一的位置/空间。两个线程上的两个方法同时运行并创建一个对象实例将在共享堆中创建明显不同的对象。

它们是在这个共享堆中创建的，因此如果方法`foo`返回对象引用，或者存储它，或者调用另一个间接存储它的方法......它在返回时不会被销毁`foo`并且堆栈被弹出。

拥有垃圾收集器的神奇之处在于，您不必跟踪这些“东西”并在将来的某个适当时间自行销毁它。使您的代码保持简单，让您专注于算法（或学习编程）。但我离题了...

# iphone - 你如何获得 UIImage 的地理坐标？

> ID：11682617
> 
> 赞同：4
> 
> 时间：2012-07-27T06:32:30.820
> 
> 标签：iphone, xcode, gps, uiimage, uiimagepickercontroller

在 UIImagePickerController 中拍摄图片后，如何获取 UIImage 的 GPS 坐标？图像是否包含其元数据中的坐标，或者我应该为图像及其坐标创建一个类并保存它？谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T10:56:01.447

请尝试查看[此](https://stackoverflow.com/questions/9766394/get-exif-data-from-uiimage-uiimagepickercontroller/9890442#9890442)内容并按照该答案中的说明进行操作..

我已经做到了并取得了成功..

希望这对你有用..

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T06:42:34.670

实际上，您可以在拍照后立即访问图像的元数据。选择图像后系统调用的协议方法是，

```
(void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info 
```

NSDictionary 参数 info 包含一个键：UIImagePickerControllerMediaMetadata

AFAIK，您将需要**CLLocationManager**来获取当前位置并对其进行地理标记。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-11-11T12:32:33.577

从**iOS 8**开始，您可以使用[Photos Framework](https://stackoverflow.com/questions/11682617/how-do-you-get-a-uiimages-geographic-coordinates)。

```
 func imagePickerController(_ picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : Any]) {
  let url = info[UIImagePickerControllerReferenceURL] as? URL
        if url != nil {

            let fetchResult = PHAsset.fetchAssets(withALAssetURLs: [url!], options: nil)
            let asset = fetchResult.firstObject
            print(asset?.location?.coordinate.latitude)
            print(asset?.creationDate)
        }
} 
```

# c# - 未处理的 Microsoft .NET Framework Exception 异常

> ID：11682622
> 
> 赞同：0
> 
> 时间：2012-07-27T06:32:45.730
> 
> 标签：c#, .net-4.0

最近从框架 2.0 升级到 4.0 发生了一些升级，所以在构建项目后，当我们单击应用程序时，它会抛出错误？“”是什么意思`Unhandled Microsoft .NET Framework Exception exception occurred in tander.exe[400]`？**[400] 是什么意思**？它与任何签名问题有关吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:35:17.403

这通常只是意味着您需要结束网络服务器进程并重试。在我的经验中，Visual Studio Web 服务器时不时地需要戳戳。

# jsp - 打印机与 JSP 接口

> ID：11682627
> 
> 赞同：2
> 
> 时间：2012-07-27T06:33:04.457
> 
> 标签：jsp, printing, applet

我正在开发一个酒店管理网络应用程序。我的问题是关于账单打印。我使用 window.print() 来打印账单。但它会在多页打印中导致对齐问题。我们的客户正在使用点阵打印机。是否可以通过打印机设置来做到这一点，我更喜欢使用小程序。如果不可能，我可以使用 Jreport 之类的报告。任何人都可以提出解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T07:24:26.207

您可以使用`Jasper`Java (iText) `PDF`API 在服务器端生成 PDF 文档，然后允许您的客户端*下载*或*打印*它们。

# mysql - 关于 vb.net 使用 mysql 连接

> ID：11682632
> 
> 赞同：2
> 
> 时间：2012-07-27T06:33:22.060
> 
> 标签：mysql, dataset, timeout, vb.net-2010

我的代码在 vb.net.in 后端使用 mysql。mysql 表包含高达 25crores 的数据。我想将数据从表移动到数据集中。表在 varchar 数据类型中包含作为电话号码的列。将整个数据移动到数据集中。

错误

* * *

**出现连接超时过期等错误。然后我在代码中添加以下行**

```
code
-----
 mycommand1 = New MySqlCommand("select fld_phonenumber from tbl_dndno ", myconnection1)
        ada = New MySqlDataAdapter(mycommand1)
        ada.SelectCommand.CommandTimeout = 0 ' the code to increase the command timeout for dataadapter.

        ada.Fill(ds1)
        myconnection1.Close() 
```

现在无法查看数据集中的值。代码继续运行。没有显示任何结果或错误。请帮我解决这个问题？我是 vb.net 的新手

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-01T02:41:51.057

为什么不移动更少的数据并让用户对其进行 PAGE（如第 1 页、第 2 页、第 3 页等），并且在每个加载序列上仅加载可能 100,000 或 200,00 或 300,000 或 400,000 甚至 500,000 条记录？

毕竟，即使您每页显示 1000 条记录，每次加载时仍会显示 100 页！

如果加载 2 亿多条记录需要那么长时间......将数据渲染到页面将需要更长的时间！！！

还可以根据第一个字母来加载选项.... 毕竟，如果有人想找到史密斯的联系人/人/ID，那么加载 JONES、BAKER、PATEL、KHAN 的意义何在？

# java - 检查 XML 签名 +ECC 算法

> ID：11682633
> 
> 赞同：1
> 
> 时间：2012-07-27T06:33:34.790
> 
> 标签：java, android, xml-signature

我在当前的 Android 项目中达到了一个点，需要使用 .pdf 文件验证 XML 签名（pdf 文件在 XMl 文件中签名），我遇到了一个主要问题。它与绝对不能使用 iaik 库有关：

签名是使用标准 java 库无法处理的 ECC 算法（椭圆曲线）制作的。有谁知道处理这些签名的方法？

所以我正在寻找的是另一个 libarie 或 javax-Problem 的解决方法。

非常感谢您的任何想法！

**附加信息：**

*   我知道 Apache Santuario，但我不能使用它，因为它包含将添加到 javax 的类，而 DalvikVM 不允许这样做。
*   我知道使用 iaik 很容易做到这一点，但由于许可证问题（+ javax 问题），它不是一个选项。
*   我没有发布任何代码，因为它不能按照我的方式完成，我完全被卡住了，我需要从头开始的新想法：/

# codeigniter - 如何在对话框中实现 flexigrid

> ID：11682635
> 
> 赞同：1
> 
> 时间：2012-07-27T06:33:40.677
> 
> 标签：codeigniter, flexigrid

我试图在对话框中实现一个 flexigrid。

控制器代码：

```
 function grid(id){
    $colModel['s.no'] = array('S. No',50,TRUE,'center',0);
    $colModel['Name'] = array('Name',200,TRUE,'center',0);
    $gridParams['title'] = "Farmer List";   
    $grid_js = build_grid_js('flex1',$surl,$colModel,'id','desc',$gridParams);
    echo $grid_js;
 } 
```

在我看来，这是我的代码。

```
 function view(id){
$.post("<?php echo site_url()?>controllerName/grid/"+id,{},function(data){
      $("#dialog_box").html(data);

    $("#dialog_box").dialog({
        height: 300,
        width: 600,
        modal: true
    });
  });
 } 
```

首先我试图填充列名，但我没有出现。当我打印一个数字说“echo 10”时，这个 10 会打印在对话框上。

我不确定我的代码有什么问题，并且相同的代码适用于普通视图（我的意思是对话框除外）。

请帮助我。

提前致谢。

# iphone - 是否可以对 C++ 类执行任何 GUI 操作

> ID：11682637
> 
> 赞同：2
> 
> 时间：2012-07-27T06:33:56.510
> 
> 标签：iphone, objective-c, ios, xcode

我有一些与设计相关的疑问。在我的 IOS 应用程序中，如果我想从 c++ 类创建任何视图（扩展名更改为 .mm），这可能吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:41:42.363

是的，这是可能的。我正在开发一个具有 30 个 .mm 文件且没有 .m 文件的 OS X 应用程序。但是 .mm 文件是 Objective-C++，而不是 C++ (.cpp)。

`cppclass.h`下面是在 Objective-C++ 类（在 中定义/声明）中使用 C++ 类（在 中定义）的示例`mmclass.{h,mm}`：

cppclass.h：

```
#include <string>

class MyCppClass
{
protected:
    std::string _name;

public:
    MyCppClass() :
        _name()
    {
    }

    void setName(const std::string &name)
    {
        _name = name;
    }
}; 
```

毫米类.h：

```
#import <Foundation/Foundation.h>
#import "cppclass.h"

@interface MyMMClass : NSObject
{
    MyCppClass _myCppClass;
}

@end 
```

毫米类.mm：

```
#import "mmclass.h"

@implementation MyMMClass

- (id)init
{
    self = [super init];
    if (self != nil)
    {
        _myCppClass.setName("Andy");
    }
    return self;
}

@end 
```

# android - 在 Nook 中提交 android 应用程序的步骤？

> ID：11682640
> 
> 赞同：1
> 
> 时间：2012-07-27T06:34:07.760
> 
> 标签：android, nook, nook-tablet

我在 Android 中有一个应用程序。我想在 NOOK 市场上发布它。因为我发现它们是 Nook 中的两种设备型号，即 NOOK Color 和 NOOK 平板电脑，我是否分别为这两种设备提交我的应用程序？？任何人都可以请帮帮我？我用谷歌搜索了很多，但我可以找到任何链接来帮助我。有人可以告诉我步骤吗？我需要为两个设备单独提交它吗？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T23:00:35.907

[Barnes & Noble 在http://NOOKDeveloper.com](http://NOOKDeveloper.com)和自己的应用商店运行自己的开发者计划。

您必须加入并申请升级到 NOOK App Developer 才能提交应用程序。您可以为这两种设备制作一个二进制文件，只需注意它必须支持 NOOK Color 的 Froyo (SDK8)。这些设备的规格也在网站上。

注册并提交 NOOK。

汤姆

# php - 使用ajax jquery和php将可排序保存到mysql

> ID：11682641
> 
> 赞同：1
> 
> 时间：2012-07-27T06:34:08.200
> 
> 标签：php, jquery, mysql, ajax, jquery-ui

我有一个带有多个拖放框的页面，效果很好，不起作用的是框中的链接。如果有人可以帮助我，我将不胜感激:)。所以我有一个页面，人们可以在其中拖放框（它工作正常，正如我之前所说），框内的链接也是可排序的，但我似乎无法让它们将值保存到 mysql。我认为这两个拖放之间存在冲突，也许我做错了，因为我之前没有使用过ajax和jquery。

```
//here is the jquery where I need to add some ajax
$(function() {
$('.dragbox-content').sortable({ 
  connectWith: '.dragbox-content',
  update: function(event, ui) {
        var order=$(this).attr('id');
        alert(order);  // I get the order alert and it has one value that I need, but I need the sort order aswell                         
  }
  });                 
});

//this is the <div> that has the links in them and mysql query that gets the values
//from two different databases, one is for the boxes and the other for links.
//boxes db id = links title_id
echo '<div class="dragbox-content" id="order'.$widget['id'].'"';'>''</div>';

$sql10 = "SELECT u.*, w.id, w.link_address, w.link_name FROM db_boxes u LEFT 
JOIN db_links w ON u.link_id = w.id  WHERE 
(u.username = '$username' AND u.link_id !='0' AND w.title_id = '".$widget['id']."' 
AND w.link_name !='pilt' AND w.rights = '0') OR 
(u.username = '$username' AND u.link_id !='0' AND w.title_id = '".$widget['id']."' 
AND w.link_name !='pilt' AND w.rights LIKE '%26%') ORDER BY w.id ASC";
      $result10 = mysql_query($sql10) or die (mysql_error());
      while ($row = mysql_fetch_array($result10)) {
        $link_id = $row['id'];
        $link_address = $row['link_address'];
        $link_name = $row['link_name'];
        $title_id = $row['title_id'];
      ?>
      <div class="move" id="<?php echo $link_id;?>">
      <span class="link_style">
      <div><a href="<?php echo $link_address; ?>"><?php echo $link_name;?>     </a></div</span></div> 
```

我只需要有人告诉我如何在用户在该页面上进行的每次点击时使用 ajax 将 tile_id 和 sort_order 保存到 box 数据库中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T07:24:25.710

请参阅下面的示例：

[http://jsfiddle.net/gRoberts/vMy7r/](http://jsfiddle.net/gRoberts/vMy7r/)

```
$(function () {
    $('ul').sortable({
        update : function(e, ui) {
            var ul = $(ui.item).closest('ul');
            var index = 0;
            var toPost = {};
            ul.find('> li').each(function() {
                index++;
                $(this).find('input').val(index);               
                toPost[$(this).find('input').attr('name')] = index;
            });                  
            $.ajax({
                url : '/echo/json/',
                data : toPost,
                type : 'POST',
                dataType : 'json',
                success : function(resp) {
                    alert(resp);
                },
                error : function() {
                    alert('There was a problem');
                }
            });
        }
    });
});
​ 
```

上面的示例可以通过两种方式使用，如果您删除`$.ajax`它，它将更新隐藏的表单字段，然后您可以正常发布。

# c++ - C++ int 与 long

> ID：11682643
> 
> 赞同：6
> 
> 时间：2012-07-27T06:34:25.780
> 
> 标签：c++

在 C++ 中，使用 long over int 有什么好处吗？

似乎 long 是 x86 和 x86_64 架构的默认字长（x86 上为 32 位，x86_64 上为 64 位，而 int 两者均为 32 位），在进行算术运算时应该（理论上）更快。

C++ 标准保证 sizeof(int) <= sizeof(long)，但似乎 long 是 32 位和 64 位系统的默认大小，因此在尝试编写时应尽可能使用 long 而不是 int在两种架构上都可移植的代码？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T06:42:46.733

`long`保证至少为 32 位，而`int`仅保证至少为 16 位。在编写完全可移植的程序时，您可以`long`在保证大小`int`不足以满足您的需求的情况下使用。

但在实践中，许多人做出的隐含假设`int`大于标准保证，因为他们只针对此类平台。在这些情况下，它通常并不重要。

`int`应该是系统数字的“自然”大小；理论上`long`可能更昂贵，但在许多架构上`long`，即使`long`实际比`int`.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-27T06:43:18.457

如果您需要在不同平台上保持相同大小的整数类型，则需要`<stdint.h>`.

例如，如果您绝对需要 32 位无符号整数，则需要`uint32_t`. 如果您绝对需要 64 位有符号整数，则需要`int64_t`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T06:49:36.733

什么是更快，什么不是，每天都变得越来越难以预测。原因是处理器不再“简单”，并且由于其背后的所有复杂动态和算法，最终速度可能遵循完全违反直觉的规则。

唯一的出路就是衡量和决定。另请注意，更快的方法取决于小细节，甚至对于兼容的 CPU，对一个优化可能是对另一个的悲观。对于非常关键的部分，一些软件只是在程序初始化期间在运行时尝试并检查不同方法的时序。

也就是说，作为一般规则，您可以拥有的更快整数是`int`. 仅当您特别需要它们时才应使用其他整数（例如，如果`long`较大并且您需要更高的精度，或者如果`short`较小但足够并且您需要节省内存）。

如果您需要特定的尺寸，那就更好了，然后使用固定的标准类型或添加一个`typedef`，而不是仅仅洒`long`在您需要的地方。这样就可以更容易地支持不同的编译器和架构，并且对于将来要阅读代码的人来说，意图也将更加清晰。

# android - 当我们点击位置 1 的 ListView 按钮时，第 10 位置的按钮也被点击

> ID：11682647
> 
> 赞同：1
> 
> 时间：2012-07-27T06:34:45.423
> 
> 标签：android, custom-adapter

我的 listView 有问题。我使用自定义适配器类显示了列表项。我的问题是，当我单击位置 1 的列表视图按钮时，位置 10 的按钮也被单击。我该如何克服这个问题？

这是我的代码：

```
public static class Clockin_Group extends BaseAdapter implements Filterable {

    private LayoutInflater mInflater;
    private Context context;

    public Clockin_Group(Context context) {
         mInflater = LayoutInflater.from(context);
          this.context = context;
    }
    @Override
    public int getCount() {         

         if(employeeList==null){
                return 0;
            }
            else{
                return employeeList.length;
            }

    }
    @Override
    public Object getItem(int position) {           
        return employeeList[position];
    }
    @Override
    public long getItemId(int position) {           
        return 0;
    }
    @Override
    public View getView(final int position, View convertView, ViewGroup parent) {
        final ViewHolder holder;    

         if (convertView == null){
             convertView = mInflater.inflate(R.layout.group_clkin_row, null);
             holder = new ViewHolder();
             convertView.setTag(holder);

         }

         else{
             holder = (ViewHolder) convertView.getTag();
          }

         holder.tv = (TextView) convertView.findViewById(R.id.group_name);
            holder.tv.setText(employeeList[position]);
            holder.tv1 = (TextView) convertView.findViewById(R.id.loc_id_tv);
            holder.tv1.setText("["+empNo_Array[position]+"]");
            holder.check = (ImageView) convertView.findViewById(R.id.checkmark);
       holder.check.setVisibility(View.GONE);
            holder.time = (TextView) convertView.findViewById(R.id.time);
            holder.time.setText("Last Clock " +punchType_array[position]+" "+"at"+" "+punchTime_array[position]);                   
            holder.clkin_tv = (TextView) convertView.findViewById(R.id.tv_clockin);
      holder.clkin_tv.setVisibility(View.GONE);
            holder.button = (Button) convertView.findViewById(R.id.group_button);

            holder.button.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    employee_id = Integer.parseInt(emp_idList[position]);
                       emp_selected = employeeList[position];
                       System.out.println("selected Emp.."+emp_selected);

                    boolean Status = false;
                       String type = "In";
                       SimpleDateFormat sdf = new SimpleDateFormat("MMMM dd, yyyy HH:mm:ss");
                          Date date=new Date();
                          String s=sdf.format(date);
                          System.out.println("GMT: "+s);

                      try {
                            Status = sendDetails(corpId, user_name, password,employee_id,location_id_str, task_id_str, "0", type);
                        } catch (ClientProtocolException e) {                   
                            e.printStackTrace();
                        } catch (IOException e) {                   
                            e.printStackTrace();
                        } catch (JSONException e) {                 
                            e.printStackTrace();
                        }

                       if(Status){

                            holder.button.setVisibility(View.INVISIBLE);
                               holder.clkin_tv.setVisibility(View.VISIBLE);
                               holder.time.setTextColor(Color.parseColor("#088A08"));
                               holder.check.setVisibility(View.VISIBLE);
                               holder.time.setText("Last Clock IN at "+sdf.format(new Date()).toString());
                               System.out.println("Status..");
                       }                       

                       else{
                           Toast.makeText(context, "Clock In Failed", Toast.LENGTH_SHORT).show();
                           holder.button.setVisibility(View.VISIBLE);
                              holder.clkin_tv.setVisibility(View.INVISIBLE);

                          }

                }
            });
            /*convertView.setOnClickListener(new OnClickListener() {
                //private int pos = position;

                @Override
                public void onClick(View v) {
                  //Toast.makeText(context, "Click-" + String.valueOf(pos), Toast.LENGTH_SHORT).show();    
                }
              });*/

            convertView.setOnTouchListener(new OnTouchListener() {

                @Override
                public boolean onTouch(View v, MotionEvent event) {
                    Toast.makeText(context, employeeList[position]+"["+empNo_Array[position]+"]", Toast.LENGTH_SHORT).show();
                    return false;
                }
            });
          //  convertView.setTag(holder);

        return convertView;
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T07:53:56.370

通过设置您的 listView 高度和宽度 wrap_content 或 fill_parent 来检查。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T06:45:13.920

我认为您需要使用标签。

IE

```
convertView.setTag(holder); 
```

然后在您的 onClick 中从那里获取标签和操作

```
String currentPos = arg0.getTag().toString();
Integer.parseInt(currentPos) 
```

希望这是有道理的

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T06:46:31.550

实际上`convertView` ，概念用于重用视图，最初创建了 10 个视图，当您滚动列表`onclick`侦听器时，不会更新。

您可以使用[本教程](http://www.vogella.com/articles/AndroidListView/article.html#listadvanced_interactive)`onClickListener`为每个项目分配不同的

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-27T06:39:34.623

这里的问题是，列表中的每个按钮都将具有相同的 id。您可以在活动中编写而不是`onClik()`在基本适配器中编写`onItemClickListener()`，这将为您提供项目在`ListView`.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-24T13:31:34.930

// 在适配器内部编写一组函数

```
public void setList(List<Employee> list) {
    mEmployeeList = list;
    notifyDataSetChanged();
} 

//Create a member variable. 
private List<Employee> mEmployeeList = new ArrayList<Employee>();

//Now in getView()

public View getView(int position, View convertView, ViewGroup parent) {
    /Use like this

    ViewHolder holder = (ViewHolder)convertView.getTag();
     final Employee employee= mEmployeeList.get(position); 
```

//使用员工设置所有变量。

```
 holder.button.setOnClickListener(new OnClickListener(){

      @Override
    public void onClick(View arg0) {
     Log.i("Adapter", employee.id);
       }});
} 
```

// 从您的主类中调用 setList 函数传递employeeList 并让我知道结果。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-27T06:47:20.537

使用位置键而不是持有人设置标签。

改变

```
convertView.setTag(holder); 
```

至

```
convertView.setTag(position); 
```

呸呸呸呸

# oracle - 计划的作业未启动

> ID：11682653
> 
> 赞同：1
> 
> 时间：2012-07-27T06:35:26.827
> 
> 标签：oracle, plsql, oracle11g, plsqldeveloper

我想从明天 04:15 开始每两个小时后启动一个预定的工作。这项工作应该每天启动，每两小时启动一次。像在：04:15, 06:15, 08:15....

该过程是关于在远程机器上创建文件。当我测试该程序时，它工作得很好，并在远程位置创建文件。但是，它作为 dbms_jobs 包中的作业失败。我不确定我做错了什么。这是程序代码：

```
CREATE OR REPLACE PROCEDURE ARC_HRVR.VR_AD_INTEGRATION_EXPORT AS
    v_file UTL_FILE.file_type;
BEGIN
    v_file := UTL_FILE.fopen('DIR_VR_AD_INTEGRATION', 'HRMtoAD1_'||to_char(sysdate,'YYYYMMDD')||'_'||to_char(sysdate,'HH24MISS'), 'w', 32767);
    FOR x IN (
    SELECT * FROM (SELECT
                   decode(pid, NULL, RPAD(' ',7,' '), RPAD(user_id, 7, ' '))|| '' ||
                   decode(o365, NULL, RPAD(' ',80,' '), RPAD(o365, 80, ' '))
                   str FROM table WHERE integrated = 'N') str WHERE rownum <= 1000 ORDER BY rownum)
   ´LOOP
    BEGIN
        UTL_FILE.put_line(v_file, x.str);
    END;
END LOOP;
UTL_FILE.fflush(v_file);
UTL_FILE.fclose(v_file);
END VR_AD_INTEGRATION_EXPORT; 
```

这是启动作业的代码：

```
 DECLARE
   l_id binary_integer;
   begin
   dbms_job.submit(job => l_id, what => 'ARC_HRVR.vr_ad_integration_export();', interval => 'TRUNC(SYSDATE)+1+4.25/24', );

   dbms_output.put_line(l_id);    
end; 
```

一些指导和调整将修复我的代码:-) 在此先感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:50:09.113

您是作为过程所有者 (ARC_HRVR) 还是作为有权执行代码的用户来工作的？

您是否尝试过在执行块中围绕“什么”？

```
begin ARC_HRVR.vr_ad_integration_export(); end; 
```

工作正在启动，对吧？您在 dba_jobs 等视图中看到 next_date 得到更新了吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T04:21:36.650

你可以参考这个例子

```
BEGIN
  DBMS_SCHEDULER.create_job (
    job_name        => 'test_full_job_definition',
    job_type        => 'PLSQL_BLOCK',
    job_action      => 'BEGIN my_job_procedure; END;',
    start_date      => SYSTIMESTAMP,
    repeat_interval => 'freq=hourly; byminute=0; bysecond=0;',
    end_date        => NULL,
    enabled         => TRUE,
    comments        => 'Job defined entirely by the CREATE JOB procedure.');
END;
/ 
```

有关更多详细信息，请通过此[调度程序](http://www.oracle-base.com/articles/10g/scheduler-10g.php)

# java - 部署取消部署时Weblogic内存泄漏

> ID：11682658
> 
> 赞同：1
> 
> 时间：2012-07-27T06:35:39.637
> 
> 标签：java, jakarta-ee, memory-leaks, weblogic

使用 32 位 JRockit R 28.2.4-14 运行的 Weblogic 10.3.5`-Xmx1024m -Xms1024m`在我们的 Java EE EAR 文件的 5-8 次取消部署-重新部署周期后总是会耗尽本机内存。

根据错误信息和 VisualVM 中显示的内容，不是 Java 堆太满，而是可用的系统内存不足。

```
java.lang.OutOfMemoryError: class allocation, 865324184 loaded, 464M footprint,
in check_alloc (src/jvm/model/classload/classalloc.c:215).

Attempting to allocate 1G bytes

There is insufficient native memory for the Java
Runtime Environment to continue.

Possible reasons:
  The system is out of physical RAM or swap space
  In 32 bit mode, the process size limit was hit
Possible solutions:
  Reduce memory load on the system
  Increase physical memory or swap space
  Check if swap backing store is full
  Use 64 bit Java on a 64 bit OS
  Decrease Java heap size (-Xmx/-Xms)
  Decrease number of Java threads
  Decrease Java thread stack sizes (-Xss)
  Disable compressed references (-XXcompressedRefs=false)

        at sun.misc.Unsafe.defineClass(Native Method)
        at sun.reflect.ClassDefiner.defineClass(ClassDefiner.java:45)
        at sun.reflect.MethodAccessorGenerator$1.run(MethodAccessorGenerator.java:381)
        at sun.reflect.MethodAccessorGenerator.generate(MethodAccessorGenerator.java:377)
        at sun.reflect.MethodAccessorGenerator.generateSerializationConstructor(MethodAccessorGenerator.java:95)
        at sun.reflect.ReflectionFactory.newConstructorForSerialization(ReflectionFactory.java:313)
        at java.io.ObjectStreamClass.getSerializableConstructor(ObjectStreamClass.java:1322) 
```

我理解建议的可能解决方案，但是如果应用程序只部署一次，一切都很好，在取消部署时似乎没有正确释放类。取消部署后的堆转储显示我们的许多类留在内存中。那他们不应该被垃圾收集吗？

GC Root 的路径显示一个 Thread `<JNI Local> java.lang.Thread @ 0x129ac778 JDWP Transport Listener: dt_socket Native Stack, Thread`。服务器上没有流量，我不知道为什么它保持活跃。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:42:05.297

这种内存泄漏很可能是在 perm-gen 空间中引起的（这就是在 Hotspot JVM 上的调用方式）。JRockit 没有专门的 Perm-Gen 空间，但为此使用“常规”堆空间。看看以下网站，我发现它们对理解这里发生的事情非常有帮助：

[什么是 PermGen 泄漏](http://plumbr.eu/blog/what-is-a-permgen-leak)

[打破 PermGen 神话](http://plumbr.eu/blog/busting-permgen-myths)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T11:18:56.897

我发现[Eclipse MAT](http://www.eclipse.org/mat/)对调试 PermGen 泄漏非常有帮助：

我的方法通常是这样的：

*   取消部署后执行堆转储
*   找到其中一个应用程序类（不管哪个，都应该泄漏）。或者显示重复的类。
*   显示 GC 根目录的路径

为什么修复看起来取决于原因。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-30T07:37:56.347

很可能某些类持有类加载器，这会导致整个应用程序在重新部署时泄漏。你可以阅读[这篇关于类加载器](http://zeroturnaround.com/labs/reloading-objects-classes-classloaders/)的文章。

# php - 本地主机/phpinfo.php

> ID：11682662
> 
> 赞同：3
> 
> 时间：2012-07-27T06:36:25.607
> 
> 标签：php, ubuntu, oauth

我在 ubuntu 110.10 中安装了[php oauth扩展。](http://djpate.com/2010/10/07/how-to-install-oauth-support-for-php-on-ubuntu/)

但是`http://localhost/phpinfo.php`在谷歌浏览器中它给出了以下错误：

```
Server error
The website encountered an error while retrieving http://localhost/phpinfo.php. It may be down for maintenance or configured incorrectly.
Here are some suggestions:
Reload this webpage later.
HTTP Error 500 (Internal Server Error): An unexpected condition was encountered while the server was attempting to fulfill the request. 
```

这意味着我正在提供指向 localhost 的链接，然后出现此错误。

在 Mozilla 中，它给出了一个空白屏幕。

它没有提供任何关于在 php 中安装的信息我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T07:25:14.150

可能是权限错误。请检查您的文件夹权限。Bcz，大多数 Ubuntu (linux) 用户都可能面临这种类型的错误。

由问题的作者：

```
sudo chmod 0777 -R /var/www/phpinfo.php 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-01T12:47:38.013

我遇到了类似的问题，但原因是我刚刚将文件从 Windows NTFS 备份驱动器恢复到 www。

自然，对于 NTFS，我们没有 Ubuntu 或任何其他 Linux 系统的相同权限。

使用 nautilus 查看文件夹显示不正确的所有者和权限。

我是怎么修的...

1.  通过执行以下操作获得了我的 /var/www 文件夹及其内容的所有权：`chown khalid -R /var/www`
2.  更改了 www 包含文件的模式，如下所示：`sudo chmod 644 -R /var/www`
3.  如果仍然出现错误，请执行以下操作：`gksudo nautilus`. 然后进入您的 /var/www 文件夹并更改权限以允许所有者/组读/写并选中该框以作为程序执行。也将其应用于子文件夹。

**注意：**切勿将 777 权限授予 Web 文件夹/文件。这就像把你的前门钥匙挂在你的大门前面！但是，如果这是一台永远看不到互联网日光的机器，那应该不是问题。

# c# - 如何将子菜单项添加到 MenuStrip？

> ID：11682663
> 
> 赞同：5
> 
> 时间：2012-07-27T06:36:34.267
> 
> 标签：c#, winforms

好的，所以我有一个名为 Form1.menuStrip1 的 MenuStrip。Form1.menuStrip1 有两个水平的项目，分别称为 Menu 和 Lists。我想要做的是在列表菜单中添加一个新的子菜单项。我有一个名为 mystring 的字符串，我希望它成为新项目的标题。

像这样的东西

```
void AddItem(string mystring) 
{ 
   // add mystring 
} 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-07-27T09:03:05.633

这是示例

```
ToolStripMenuItem fileToolStripMenuItem1 = new System.Windows.Forms.ToolStripMenuItem();
ToolStripMenuItem loadLogsToolStripMenuItem1 = new System.Windows.Forms.ToolStripMenuItem();
fileToolStripMenuItem1.Name = "File";
loadLogsToolStripMenuItem1.Name ="Logs";

this.fileToolStripMenuItem1.DropDownItems.AddRange(new System.Windows.Forms.ToolStripItem[] {
            this.loadLogsToolStripMenuItem1
} 
```

如果您想向文件添加更多子项，那么您将拥有文件->日志，只需在 this.loadLogsToolStripMenuItem1 之后使用添加更多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-08T13:44:56.017

正确的代码始终在设计器代码中。您应该只在 VS 设计器中创建菜单和子菜单并检查设计器代码...观看此代码如何完成。然后根据需要删除。然后在动态运行时使用类似的代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T06:42:30.037

像这样的东西应该做你需要的

```
void AddItem(string mystring) 
{     
   ToolStripMenuItem item = new ToolStripMenuItem("Menu");
   item.Text = myString;
   MainMenu.Items.Add(item);
} 
```

# c# - 单击从 10 到 0 在标签 C# 上设置文本的按钮后倒计时

> ID：11682668
> 
> 赞同：2
> 
> 时间：2012-07-27T06:37:23.040
> 
> 标签：c#, multithreading, timer, countdown

我的问题很简单，但我想不通，所以我需要你的帮助。

问题是我在表单中有一个按钮和一个标签，我只想单击按钮并查看标签从 10 到 0 的倒计时，然后表单关闭，那么简单，有人可以帮我解决这个问题吗？

顺便说一句，我真正的应用程序是一种从我的网络摄像头实时显示视频的表单，想法是单击按钮，查看倒计时，当它完成时，应用程序将当前帧保存为图像。

谢谢指教！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T06:48:16.720

听起来您可能只需要三件事：

*   类中的计数器作为实例变量
*   计时器（`System.Windows.Forms.Timer`或`DispatcherTimer`取决于您使用的 UI 框架）
*   一种处理定时器的方法`Tick`，它会递减计数器、更新 UI 并停止定时器 + 如果计数器达到 0，则拍摄快照

您可以在没有任何其他线程的情况下完成所有这些操作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T07:07:08.527

使用 WindowsFormsApplication 你可以这样做：

```
public partial class Form1 : Form
{
    public Form1()
    {
        InitializeComponent();
        timer1.Enabled = false; // Wait for start
        timer1.Interval = 1000; // Second
        i = 10; // Set CountDown Maximum
        label1.Text = "CountDown: " + i; // Show
        button1.Text = "Start";
    }

    public int i;

    private void button1_Click(object sender, EventArgs e)
    {
        // Switch Timer On/Off
        if (timer1.Enabled == true)
        { timer1.Enabled = false; button1.Text = "Start"; }
        else if (timer1.Enabled == false)
        { timer1.Enabled = true; button1.Text = "Stop"; }
    }

    private void timer1_Tick(object sender, EventArgs e)
    {
        if (i > 0)
        {
            i = i - 1;
            label1.Text = "CountDown: " + i;
        }
        else 
        { timer1.Enabled = false; button1.Text = "Start"; }
    }
} 
```

你只需要一个标签、一个按钮和一个计时器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T07:06:10.463

使用此代码。放一个计时器、标签和按钮。

```
public partial class Form1 : Form
{

    public Form1()
    {
        InitializeComponent();
        timer1.Tick += new EventHandler(timer1_Tick);
    }
    private static int i = 10;
    private void button1_Click(object sender, EventArgs e)
    {
        label1.Text = "10";
        timer1.Interval = 1000;
        timer1.Start();
    }

    private void timer1_Tick(object sender, EventArgs e)
    {
        label1.Text = (i--).ToString();
        if (i < 0)
        {
            timer1.Stop();
        }
    }
} 
```

# mysql - 将 SQL Server 2008 迁移到 MySQL 5

> ID：11682679
> 
> 赞同：1
> 
> 时间：2012-07-27T06:39:00.613
> 
> 标签：mysql, sql, sql-server

我们有一个正在运行的数据库`SQL Server 2008`，我想迁移到`MySQL 5`. 在不进行任何 SQL 编码的情况下，将实时数据从服务器迁移到 MySQL 需要哪些工具。

*   是否有一个实用程序可以将机器上正在运行的 SQL Server 2008 转换为正在运行的 MySQL 服务器？
*   用SQL Server 2008做的存储过程怎么样，可以自动转换吗？

**编辑**

当我使用 MySQL 迁移工具包时，一切似乎都很好，除了在“手动编辑”阶段，有一条迁移消息显示：

```
The datatype date cannot be migrated 
```

在架构创建阶段，我收到此迁移错误：

```
Incorrect table definition; there can be only one TIMESTAMP column with CURRENT_TIMESTAMP in DEFAULT or ON UPDATE clause 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T08:26:36.917

尝试使用 SSIS 或 Talend 等 ETL 工具来顺利实现数据迁移。

# android - Android mediacontroller 播放暂停控件无法正确刷新

> ID：11682680
> 
> 赞同：8
> 
> 时间：2012-07-27T06:39:09.180
> 
> 标签：android, mediacontroller

我在我的活动中使用了 MediaController，它工作正常，但是当我第一次播放视频时，应该有 b 暂停按钮可见，而是有播放，当我按下该按钮时，视频正确暂停并且状态保持不变，之后它工作正常。视频完成时也会发生同样的事情。这是一个错误还是我做错了什么？

```
videoView.setOnPreparedListener(new OnPreparedListener() {
    @Override
    public void onPrepared(MediaPlayer mp) {
            mediaController = new MediaController(VideoPlayerActivity.this){
        public void hide(){
        }
        public void show(){
            if(isPlayingAd){
                super.hide();
            }else{
                super.show();
            }
        }
    };
    videoView.setMediaController(mediaController);
    mediaController.setMediaPlayer(videoView);
    mediaController.show();
    }
}); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-04T00:01:00.910

我一直有同样的问题。我没有像你那样打电话`MediaController.setVideoView`，因为我认为`VideoView.setMediaController`这足以解决问题。我尝试添加它，然后将调用移至`show`within `onPrepared`，现在它正在工作。

我希望我有更好的理解；我最好的猜测是，在准备好媒体之前和打电话给演出之前，也许一切都需要正确连接。无论如何，这就是我所拥有的：

```
mMediaController = new MediaController(VideoPlayerActivity.this, false);

mVideoView.setOnPreparedListener( new MediaPlayer.OnPreparedListener() {            
    @Override
    public void onPrepared(MediaPlayer pMp) {
        mMediaController.show();
    }       
});

mVideoView.setMediaController(mMediaController);
mMediaController.setMediaPlayer(mVideoView);
mVideoView.setVideoPath(uri);  // may not be applicable in your case
mVideoView.requestFocus();
mVideoView.start(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-30T14:02:36.593

正如 Oneworld 在另一个答案中提到的那样，我对旧的三星设备也有同样的问题。即使 MediaController 与 VideoView 正确连接，播放按钮也会失去同步，直到暂停并再次使用 MediaController 播放。

这件事似乎只发生在旧的三星设备上（我猜是 KitKat 及以下设备）。

我发现的唯一解决方案是在通过 mc.show() 显示控制器之前通过 videoview.start() 以编程方式播放视频。

# asp.net-mvc - Application_Error 已调用但没有异常

> ID：11682681
> 
> 赞同：6
> 
> 时间：2012-07-27T06:39:19.037
> 
> 标签：asp.net-mvc, asp.net-mvc-4

在 VS2010 SP1 中调试我的 MVC 4 应用`Application_Error()`程序时，调用了处理程序但`Server.GetLastError()`为空。

```
protected void Application_Error()
{
    var exception = Server.GetLastError();
    // exception is null.  How is that possible?
} 
```

[MSDN 状态](http://msdn.microsoft.com/en-us/library/994a1482.aspx) `Application_Error`是

> `GetLastError`如果在您的...应用程序中的任何地方发生未处理的异常，则调用... 您可以从该方法获取有关最新错误的信息。

[`Server.GetLastError`](http://msdn.microsoft.com/en-us/library/system.web.httpserverutility.getlasterror.aspx)() 状态的 MSDN 文档

> 返回值：之前抛出的异常。

我怎么可能处于`Application_Error()`被调用但`Server.GetLastError()`返回 null 的状态？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:51:28.943

您是否在 web.config 中使用自定义错误处理？我相信如果浏览器发出重定向，之前的异常就会丢失。看看[这个答案](https://stackoverflow.com/questions/343014/asp-net-custom-error-page-server-getlasterror-is-null)，看看你的情况是否相似。

# testing - Windows 7 的硬件兼容性测试 (HCT)

> ID：11682687
> 
> 赞同：1
> 
> 时间：2012-07-27T06:39:49.303
> 
> 标签：testing, windows-7

是否有适用于 Windows 7 的 HCT，或者我需要安装它吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:51:24.253

转到 Windows-7 中的控制面板 => 系统。在那里，您将看到您的硬件兼容性信息，以及 Windows 用户体验提供的评级。

将有一个名为“性能信息和工具”的链接，您可以在其中重新运行这些测试或查找其他信息和工具来管理您的硬件。

# sqlite - 即使我没有使用 GROUP BY，SQLite 也会返回单行

> ID：11682691
> 
> 赞同：3
> 
> 时间：2012-07-27T06:40:17.610
> 
> 标签：sqlite

我有以下 SQLite 数据库

![在此处输入图像描述](../Images/c6665fdfd87daf7b583608de0443572e.png)

如果我进行以下查询，我预计将返回 3 行结果。

```
SELECT name, sum(heart) FROM test_table; 
```

但是，即使我**没有**使用`GROUP BY`，也只返回 1 行。

```
C:\Users\yan-cheng.cheok\Desktop>sqlite3.exe
SQLite version 3.7.13 2012-06-11 02:05:22
Enter ".help" for instructions
Enter SQL statements terminated with a ";"
sqlite> .restore abc
sqlite> SELECT name, sum(heart) FROM test_table;
Record3|102 
```

我期待结果：

```
Record1|102
Record2|102
Record3|102 
```

与传统 SQL 一样，如果我不使用`GROUP BY`，则将返回每一行。

[http://www.w3schools.com/sql/sql_groupby.asp](http://www.w3schools.com/sql/sql_groupby.asp)

有什么可以让所有 3 行都返回吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T07:28:43.673

试试这个你可以使用`cross join`

```
SELECT a.name, b.totalHeart
FROM test_table a,
    (
        SELECT SUM(heart) totalHeart
        FROM test_table
    ) b 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T06:46:50.567

这种行为[记录在案](https://www.sqlite.org/lang_select.html)：

> 如果 SELECT 语句是没有 GROUP BY 子句的聚合查询，则结果集中的每个聚合表达式都会在整个数据集上计算一次。结果集中的每个非聚合表达式都会针对任意选择的数据集行进行一次评估。相同的任意选择的行用于每个非聚合表达式。或者，如果数据集包含零行，则每个非聚合表达式都针对完全由 NULL 值组成的行进行评估。

你可以这样做：

```
sqlite> select a.name, b.s from abc as a, (select sum(heart) as s from abc) as b;
Record1|102
Record2|102
Record3|102 
```

# javascript - Google Maps API v3 绘图管理器 - 地图未呈现

> ID：11682693
> 
> 赞同：3
> 
> 时间：2012-07-27T06:40:25.883
> 
> 标签：javascript, google-maps, google-maps-api-3

简单的问题，我复制并粘贴了 Google Maps 页面的示例代码，并附加了绘图管理器。由于某种原因，绘图控件未加载到屏幕的顶部中心。出于安全原因，我取出了我的 API 密钥。有什么问题？代码如下。

```
<!DOCTYPE html>

<html>

<head>

<meta name="viewport" content="initial-scale=1.0, user-scalable=no">

<meta charset="utf-8">

<style type="text/css"> 

html { height: 100% }

body { height: 100%; margin: 0px; padding: 0px }

#map_canvas { height: 100% }

</style> 

<script type="text/javascript"
  src="http://maps.googleapis.com/maps/api/js?key=mykey&sensor=false">
</script>

<script>
  function initialize() {
    var mapOptions = {
      center: new google.maps.LatLng(-34.397, 150.644),
      zoom: 8,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };

    var map = new google.maps.Map(document.getElementById('map_canvas'),
      mapOptions);

    var drawingManager = new google.maps.drawing.DrawingManager({
      drawingMode: google.maps.drawing.OverlayType.MARKER,
      drawingControl: true,
      drawingControlOptions: {
        position: google.maps.ControlPosition.TOP_CENTER,
        drawingModes: [
          google.maps.drawing.OverlayType.MARKER,
          google.maps.drawing.OverlayType.CIRCLE
        ]
      },
      markerOptions: {
        icon: 'images/beachflag.png'
      },
      circleOptions: {
        fillColor: '#ffff00',
        fillOpacity: 1,
        strokeWeight: 5,
        clickable: false,
        editable: true,
        zIndex: 1
      }
    });
    drawingManager.setMap(map);
  }

google.maps.event.addDomListener(window, 'load', initialize);

</script>

</head>

<body>

<div id="map_canvas"></div>

</body>

</html> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T06:58:17.347

```
<script type="text/javascript"  src="http://maps.googleapis.com/maps/api/js?key=mykey&sensor=false&libraries=drawing"></script> 
```

您必须指定库=绘图。Tha 页面未加载，因为您有以下错误

```
Cannot read property 'DrawingManager' of undefined 
```

# google-chrome - 如何解决 chrome 框架集目标属性问题

> ID：11682695
> 
> 赞同：1
> 
> 时间：2012-07-27T06:40:51.740
> 
> 标签：google-chrome, target, frameset

我在我的一个页面中使用 html 框架集。我已经将该框架集划分为 3 个框架。喜欢..

1.  标题框
2.  LeftColFrame
3.  RightColFrame

在我的“LeftColFrame”框架中，我有几个链接，其目标属性值为“RightColFrame”。一切都很好，除了当我单击“LeftColFrame”中的任何链接时，它会在新的浏览器选项卡中打开内容，而不是在“RightColFrame”中打开。

不知道出了什么问题。谷歌搜索后，我知道 Chrome 对 Frameset 有一些问题。但是，没有真正的解决方案来避免这件事。

所以，如果有人对此有任何想法，请与我分享。

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-29T06:36:40.140

霍莉妈的！！！伙计们，经过 4 小时的广泛调试，现在我找到了所有这些废话发生的原因。事情是......在我的一个javascript文件中，我使用了一个变量名称作为“名称”。像这样..

```
var name = false; 
```

而且，这个“名称”在谷歌 Chrome 和 Safari 都使用的 webkit 页面渲染引擎中产生了问题。之后，谷歌搜索了一下，我知道 'name' 是 JavaScript 中的保留关键字。但是，即使这样.. IE & Mozilla 也没有问题。但是，webkit 有一些问题。

# sql-server-2008 - 如何在 SSMS 中跟踪 sql 服务？

> ID：11682700
> 
> 赞同：2
> 
> 时间：2012-07-27T06:41:16.030
> 
> 标签：sql-server-2008, sql-server-2008-r2

我正在使用 SQL SERVER 2008 R2，我想知道 sql 服务何时启动以及 SSMS 中的服务相关内容。

有人知道吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T07:59:07.297

存储过程 xp_servicecontrol 是您的朋友。示例仅在我的 SMSS 上运行：

```
EXEC xp_servicecontrol N'querystate',N'MSSQLServer'

Current Service State
--------------------
1 Running 
```

[MSQLTips 网站上的这个链接](http://www.mssqltips.com/sqlservertip/2036/monitor-start-and-stop-sql-server-services-using-xpservicecontrol/)将指出正确的方向，甚至有一些明确的代码从哪里开始测试并创建一个 Windows 批处理作业来跟踪服务。

编辑：根据您的评论，以下 SELECT 子句将满足您的需求：

```
SELECT * FROM sys.dm_server_services 
```

它为您提供服务的名称、状态、上次启动时间、文件所在的路径等等。[查看 MSDN 了解更多详细信息](http://msdn.microsoft.com/en-us/library/hh204542%28v=sql.105%29.aspx)。

# tridion - 如何在 Tridion 的功能区中水平创建自定义按钮

> ID：11682702
> 
> 赞同：7
> 
> 时间：2012-07-27T06:41:23.833
> 
> 标签：tridion, tridion-2011

如何水平放置多个自定义按钮 - 在 tridion 功能区中一个在另一个下方。

就像我们有签入、签出、撤消签出按钮一样。

我尝试通过将它们放在一个组中来创建多个自定义按钮，但默认情况下它们并排对齐，但不是一个在另一个下方。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-27T07:02:51.743

在[我关于 Tridion Developer 的一篇文章中，](http://www.tridiondeveloper.com/ribbon-item-group)我解释了所有关于如何使用功能区项目组的内容，这可以将小按钮放在彼此下方，这样您就可以在 2 个大按钮（彼此相邻）的空间中放置 3 个按钮.

RibbonItemGroup 不是您可以在 UI 扩展的配置文件中定义的东西，它是您需要指定的 Tridion 用户控件 (.ascx)。

```
<%@ Control Language="C#" AutoEventWireup="true" CodeBehind="ViewItemsGroup.ascx.cs" Inherits="SDL.Examples.UI.Controls.ViewItemsGroup" %>
<%@ Import Namespace="Tridion.Web.UI" %>
<c:RibbonItemsGroup runat="server" ID="RibbonItemsGroup">
  <c:RibbonButton runat="server" CommandName="ViewStaging" Title="View in Staging" Label="View In Staging" IsSmallButton="true" ID="ViewStagingBtn" />
  <c:RibbonButton runat="server" CommandName="ViewLive" Title="View in Live" Label="View in Live" IsSmallButton="true" ID="ViewLiveBtn" />
</c:RibbonItemsGroup> 
```

文件后面的代码扩展了 Tridion.Web.UI.Controls.TridionUserControl，不需要任何特定代码。要将其包含在功能区工具栏中，请在配置文件中使用以下 XML 将功能区项目组指定为扩展：

```
<ext:extension assignid="ViewItemsGroup" groupid="EditGroup" name="View" pageid="HomePage" insertbefore="PublishGroup">
  <ext:group>~/Controls/ViewItemsGroup.ascx</ext:group>
  <ext:dependencies>
    <cfg:dependency>My.Theme</cfg:dependency>
    <cfg:dependency>My.Commands</cfg:dependency>
  </ext:dependencies>
  <ext:apply>
    <ext:view name="DashboardView">
      <ext:control id="DashboardToolbar" />
    </ext:view>
    <ext:view name="PageView">
      <ext:control id="ItemToolbar" />
    </ext:view>
  </ext:apply>
</ext:extension> 
```

# c# - iframe 不显示带有 D:\ 驱动器路径的 pdf？

> ID：11682703
> 
> 赞同：1
> 
> 时间：2012-07-27T06:41:35.213
> 
> 标签：c#, asp.net-mvc, pdf, iframe

我想在 iframe 上显示 pdf，但我的 pdf 不在项目文件夹中（C:\intetpub\wwwroot）。它保存在驱动器 D:\ 上。

示例代码：
`<iframe src="D:\Test.pdf#page=30"></iframe>`

我试过ff：

```
src="file:///D:/Test.pdf#page=30"
src="<%: Url.Content(Model.path) %>" 
```

但仍然没有运气。我不想复制/移动项目文件夹或根文件夹上的 pdf。有没有其他方法可以做到这一点，或者我的 src 路径是错误的？

我打算创建一个 showPDF.aspx，把它放在 iframe 上，但我担心 adobe url 参数可能无法使用这个解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:45:54.000

使用您粘贴的代码，浏览器将尝试显示来自 CLIENT 机器 D 驱动器的该文件。您需要在应用程序中创建一个指向 PDF 文件夹的虚拟目录。然后，您可以像引用 Web 应用程序根目录中的实际目录一样引用该虚拟目录。

1.  在 IIS 中设置一个虚拟目录（可能称为 PDF？）并指向 D:\
2.  现在，您的源链接可能类似​​于`src="\PDF\Test.pdf"`

另一种方法是让控制器/操作进入该目录，将文件读入字节数组并将`FileResult`文件内容返回给最终用户。 这是关于如何从控制器操作中将文件返回给用户或按照 Darin 的建议直接返回文件[的 SO 答案](https://stackoverflow.com/questions/2905426/how-to-send-xml-file-to-client-in-asp-net-mvc)

```
public ActionResult Pdf()
{
    return File(@"d:\test.pdf", "application/pdf");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T06:46:21.033

您必须编写一个控制器操作来检索文件并将其流回响应：

```
public ActionResult Pdf()
{
    return File(@"d:\test.pdf", "application/pdf");
} 
```

现在在您看来，您可以使用 iframe 将其指向此控制器操作：

```
<iframe src="<%= Url.Action("Pdf", "SomeController") %>"></iframe> 
```

# c - 附加两个结构

> ID：11682704
> 
> 赞同：1
> 
> 时间：2012-07-27T06:41:36.763
> 
> 标签：c, gcc

我正在尝试将两个结构附加到一个 Ex 中。

```
l1 = add(1, add(2, NULL));
l2 = add(3, add(4, NULL));
myappend(l1,l2) = add(1,add(2,add(3,add(4,NULL)))) 
```

我尝试了许多其他我能想到的方法......但它不起作用......有人可以帮助我吗？

```
struct list_node {
   struct list_node * rest;
   int first;
};

list add(int in, list l) {
   list r = malloc(sizeof(struct list_node));
   r->first = in;
   r->rest = l;
   return r;
}
// My attempted solution;
list myappend(list l1,list l2){
   list k = malloc(sizeof(struct list_node));
   k=l2;
   k=add(l1,k);
   return k;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:47:43.203

```
list myappend(list l1,list l2){ 
   list k = l1;
   while (k->rest != NULL)
   {
     k = k->rest;
   }
   k->rest = l2;
   return l1; 
} 
```

应该为你工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T07:04:27.707

我猜类型`list`是`struct list_node *`. 如果你可以为 定义一个类型`list`，你可以定义`list`一个`last`指向列表最后一个节点的类型，例如：

```
struct list {
    struct list_node *first;
    struct list_node *last;
}
void myappend(struct list *l1,struct list *l2){
   // check the argument here when needed.

   l1->last->rest = l2->first;
   l1->last = l2->last;
   free(l2);
} 
```

如果要将类型保持`list`为`struct list_node *`，则应该 1) 确保（列表的）最后一个节点`rest`为 NULL。2）循环并找到第一个列表的最后一个节点并进行合并（只需链接它们）。

您还可以使用递归代码：

```
list __add(struct list_node *first_node, list rest) { // split your list_add()
   first_node->rest = rest;
   return first_node
}
list add(int in, list l) {
   list r = malloc(sizeof(struct list_node));
   r->rest = NULL;
   r->first = in;
   return __add(r, l);
}
list myappend(list l1,list l2){
   if (l1)
       return __add(l1, myappend(l1->rest, l2));
   else
       return l2;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T06:55:03.263

您的解决方案存在许多问题。

在这里，您创建一个指向`list_node`（您称之为`list`）的指针...

```
list k = malloc(sizeof(struct list_node)); 
```

`l2`...然后您通过用!覆盖该指针来丢弃该节点

```
k=l2; 
```

在这里，您传递`l1`(a `list`) 而不是 a `int`, 作为第一个参数。

```
k=add(l1,k); 
```

# javascript - 将javascript变量分配给同一页面中的jsp

> ID：11682706
> 
> 赞同：2
> 
> 时间：2012-07-27T06:41:58.613
> 
> 标签：javascript, jsp

我需要为jsp分配一个javascript变量。我通过将表单内的 html 隐藏字段提交到服务器来做到这一点。

但最终 jsp 中的值总是 alwasy `null`。这些jsp代码和javascript在同一个页面中。请看一下代码：

```
<html>
    <body>
        <form  action= "Custom_DHTMLDashboard_Content.jsp" method="post">
            <input type="hidden" id="hiddenField"    />
            document.getElementById("hiddenField").value = reportID;
            <input type="submit" value="Submit" />
        </form>
    </body>
</html>

<%String MyID = (request.getParameter("hiddenField"));%>
alert("this is scriptlet" + "<%=MyID%>");//always null 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T06:53:38.193

你需要：

1.  `<script>`在脚本周围放置标签 ( `document.getElementById("hiddenField").value = reportID;`)
2.  定义`reportID`某处（在你尝试使用它之前）
3.  **使用转义**您输出的数据`<%=MyID%>`。将未经过滤、未经转义的数据输出到页面是制造[XSS 漏洞的方式](http://en.wikipedia.org/wiki/Cross-site_scripting)

如果你修复它，那么：

*   第一次加载页面时，`<%=MyID%>`将为空
*   当您提交表单时，它将有一个值

# rtd - RTD 服务器：如何在 C# 中读取 RTD 服务器数据

> ID：11682707
> 
> 赞同：1
> 
> 时间：2012-07-27T06:42:01.833
> 
> 标签：rtd, real-time-updates, real-time-data

我开发了一个应用程序来从 Excel 电子表格中读取数据，该电子表格从 RTD 服务器获取数据。因此，每当电子表格更新时，我都可以使用 C# 将该数据写入数据库。但我担心的是我不想依赖该电子表格作为来自 RTD 服务器的中间数据源。是否可以在我的应用程序中直接从该 RTD 服务器获取数据，那么为什么我可以将其存储在数据库中。这一定是可能的，我只需要提示即可。

谢谢。DnyaN :)

# java - Java读取一个txt文件

> ID：11682709
> 
> 赞同：1
> 
> 时间：2012-07-27T06:42:05.670
> 
> 标签：java, arrays, file, io

我正在进行编码实验，通常一切都很顺利，直到最后一部分。我真的不知道从哪里开始这个子问题，这真的让我感到压力很大，就像你无法相信的那样。我已经尝试了一次又一次的错误。这是一个真正令人沮丧的事情，因为在它之前和之后的一切都很顺利。只是我不知道从哪里开始，即使在阅读了一些教程之后，我仍然无法让它正常工作。

基本上，我必须阅读这个 txt 文件（[http://www.mediafire.com/?a6d7c0c5cdu1gup](http://www.mediafire.com/?a6d7c0c5cdu1gup)）并将数据放入 5 个数组（没有扫描仪）

Name 必须进入 Name 数组，N/Y 必须进入 Before 数组，下一列数字必须进入 timespent 数组，下一列必须进入 assistants 数组和最后一行必须进入风险阵列。

所以我们有5个数组

```
String Name [] = new String [20)

Char Before [] = new Char [20]

Int timeSpent [] = new Int [20]

Int Assistants [] = new int [20]

Double Risk [] = new Double [20] 
```

所以这些是我制作的 5 个数组，但我遇到的问题是读取文本文件并将其写入，以便适当的列进入适当的数组。

因此，将我的代码放在一起并将这些值放入适当的相应数组以便我可以继续的任何帮助将非常非常感激。非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T06:58:25.010

使用 BufferedReader 逐行获取并使用正则表达式拆分

```
 File file = new File("1.txt");
  FileReader fr = new FileReader(file);
  BufferedReader in = new BufferedReader(fr);
  String line;
  while ((line = in.readLine()) != null){
      String[] record = line.split(",\\s*");  
      // record[0] contain name
      // record[1] contain N/Y etc.. 
      //* code here 

  } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T06:49:04.370

你可以看一下[这个](http://www.roseindia.net/java/beginners/java-read-file-line-by-line.shtml)例子，它展示了如何在不使用`Scanner`类的情况下遍历文件。如果您已阅读该行，则可以使用 将[`.split(String regex)`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split%28java.lang.String%29)行拆分为标记。由于所有部分都用逗号分隔，因此您可以使用以下代码：`line.split(",");`，其中`line`表示您刚刚从文件中读取的行。

该`split`函数产生一个数组，因此您可以遍历它并将数据放入您选择的正确数组中。

以上应该做你需要的。但是，您可以查看[JavaCSV](http://sourceforge.net/projects/javacsv/)，它也应该可以帮助您做您需要的事情：

> Java CSV 是一个小型快速开源 Java 库，用于读取和写入 CSV 和纯分隔文本文件。

# openerp - 从另一个数据库中获取字段日期

> ID：11682710
> 
> 赞同：0
> 
> 时间：2012-07-27T06:42:13.690
> 
> 标签：openerp

在ticket.py中。我有两节课。类 deposit.line 和 res_partner （继承）。我想获取类 deposit.line 的日期，但它在类 res_partner(inherit) 中的功能

```
def _compute_dept2(self, cr, uid, ids, amount, arg, context=None):
    result = {}
    obj2 = self.pool.get('deposit.line')
    for record in obj2.deposit_line:

        temp1 = record.date
        print temp1 
        print result
    return result 
```

但其现有打印结果为假。怎么了？请更正我的代码

**PS：我的解释不太好。但看看我的代码，肯定知道我的解释。**

这是我的完整代码：

```
class deposit_line(osv.osv):
    _name ="deposit.line"
    _description = "Deposit Line" 

    _columns = {
        'name': fields.char('Name', size=64),
        'ref': fields.char('Reference', size=64),
        'amount': fields.float('Amount'),
        'date': fields.date('Date', required=True),
        'deposit_id': fields.many2one('res.partner', 'Deposit ', required=True, ondelete='cascade'),
    }
deposit_line()

class res_partner(osv.osv):
    _inherit = 'res.partner'

    def _compute_age(self, cr, uid, ids,date_birth,age,arg, context=None):
        result = {}
        for r in self.browse(cr, uid, ids, context=context):
           age=0
           if r.date_birth:
                age = (datetime.now()-datetime.strptime(r.date_birth,"%Y-%m-%d")).days/365.25
           result[r.id] = age 
        return result

    def _compute_dept(self, cr, uid, ids, deposit, available, arg, context=None):
        result = {}
        for r in self.browse(cr, uid, ids, context=context):
           avail=0
           temp = r.available
           if r.deposit:
                avail = r.deposit + temp
           result[r.id] = avail
        return result

    def _compute_dept2(self, cr, uid, ids, amount, arg, context=None):
        result = {}
        obj2 = self.pool.get('deposit.line')
        for record in obj2.deposit_line:

        temp1 = record.date
        print temp1 
        print result
            return result

    _columns = {
        'speaker': fields.boolean('Leader'),
        'event_ids': fields.one2many('event.event','main_speaker_id', readonly=True),
        'event_registration_ids': fields.one2many('event.registration','partner_id', readonly=True),
        'airline': fields.boolean('Airlines'),
        'hotel': fields.boolean('Hotel'),
        'date_birth': fields.date('Date of Birth'),
        'id_no': fields.char('ID. No', size=20),
        'id_expired': fields.date('Expired Date'),
        'sex':fields.selection([('male','Male'),('female','Female')],'Sex'),
        'age' : fields.function(_compute_age, type='float', method=True, store=True, string='Age', readonly=True),
        'deposit': fields.function(_compute_dept2, type='float', method=True, store=True, string='Deposit', readonly=True),
        'available': fields.function(_compute_dept, type='float', method=True, store=True, string='Available', readonly=True),
        'deposit_ids':fields.one2many('deposit.line', 'deposit_id', 'Deposit Line'),

    }

res_partner() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T08:18:29.817

Since you have `one2many` field for `deposit_line` defined in the `res.partner` model, you do not need the to access `deposit_line` object directly.

```
def _compute_dept2(self, cr, uid, ids, amount, arg, context=None):
    result = {}
    for partner in self.browse(cr, uid, id, context=context)
        result[partner.id]=0
        for deposit_line in partner.deposit_ids:
            result[partner.id] += deposit_line.amount
    return result 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T07:11:58.830

在第 3 行之后，您忘记了：

```
obj2.browse(cr, uid, ids, context=context) 
```

你应该学会使用调试器：

添加`import pdb; pdb.set_trace()`要放置断点的行。当 Python 到达断点时，它会在控制台处停止并`(pdb)`提示。可以输入`p obj`打印变量 obj、跳转`n`到下一条指令并`h`寻求帮助。[您可能会在这篇文章](http://openerpmanagementsystem.blogspot.pt/2011/12/debugging-in-python-and-openerp.html)和[文档](http://docs.python.org/library/pdb.html#debugger-commands)中找到更多信息。

# visual-studio-2010 - Visual Studio 2010 Ultimate 不允许添加参考

> ID：11682720
> 
> 赞同：1
> 
> 时间：2012-07-27T06:42:54.737
> 
> 标签：visual-studio-2010, reference

我想创建一个 DLL 文件夹，我想在其中放置我的所有 dll，并且我需要在 Visual Studio 中添加对该文件夹的引用。但是当我右键单击 Project-->References.. 然后单击 Add Reference 时，只出现“Projects”选项卡，为空，您无法执行任何操作。有没有人有同样的问题？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2014-09-26T20:45:45.270

您只需在 Projects > Add Reference 中选择 Browse 选项卡而不是 Projects 选项卡。

# java - 如何检测 OutofMemoryError 的原因？

> ID：11682726
> 
> 赞同：10
> 
> 时间：2012-07-27T06:43:18.777
> 
> 标签：java, multithreading, debugging, tomcat, out-of-memory

我抱怨我的服务器应用程序在高负载时崩溃。
它是一个运行在`Tomcat 5`.
我看到了线程转储，并且看到了 OutOfMemory 错误

> 1TISIGINFO 转储事件“systhrow”（00040000）详细信息
> “java/lang/OutOfMemoryError”“无法创建线程：retVal -1073741830，errno 12”>收到 1TIDATETIME 日期：2012/07/17 20:03:17 1TIFILENAME>Javacore 文件名:C:\ServerApplication\Tomcat5\bin\javacore.34545719.4646464.4172.0003.txt

堆信息如下：

```
Maximum Java heap size : 1500m    
Initial Java heap size : 256m 
```

这是初始和最大堆大小的配置（32 位 java）

我还看到有可用的可用堆空间

```
1STHEAPFREE    Bytes of Heap Space Free: 2D19F3C0   
1STHEAPALLOC   Bytes of Heap Space Allocated: 5DC00000 
```

这是大约 750MB 的可用空间，对吧？

从线程方法分析中，我看到线程的数量是其中的，`695`而且`49%`我`java/lang/Object.wait(Native Method)`看到 这不确定这意味着什么。 0 踩死锁并且是可运行的。 `39%``sun/misc/Unsafe.park(Native Method)`
`NO JAVA STACK 1%`
`2%`

我不确定如何解释这些信息或如何从这里继续检测根本原因。
对此有什么帮助吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-27T08:21:18.103

根据[这篇文章](http://publib.boulder.ibm.com/infocenter/javasdk/v5r0/index.jsp?topic=/com.ibm.java.doc.diagnostics.50/diag/problem_determination/win_oom_thread.html)：

> java.lang.OutOfMemoryError: Failed to create a thread 消息有两个可能的原因：
> 
> *   运行的线程过多，系统内部资源不足，无法创建新线程。
> *   系统已用完用于新线程的本机内存。线程需要用于内部 JVM 结构的本机内存、Java™ 堆栈和本机堆栈。

所以这个错误很可能与内存完全无关，只是创建了太多线程......

编辑：

由于您有 695 个线程，因此您需要 695 倍的堆栈大小作为内存。考虑到[这篇](http://blogs.technet.com/b/markrussinovich/archive/2009/07/08/3261309.aspx)关于线程限制的帖子，我怀疑您试图为可用的虚拟内存空间创建太多线程。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-07-27T07:03:42.570

`-XX:+HeapDumpOnOutOfMemoryError`您应该使用该标志启动 JVM 。这将在生成时产生堆转储`OutOfMemoryError`。

然后，正如@Steve 所说，您可以使用 MAT 之类的工具来分析转储并查看分配了哪些对象，以及谁在保留对它们的引用。这通常会让您了解 JVM 耗尽内存的原因。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-07-27T06:50:37.967

我知道你的意思，找到开始的地方可能会令人困惑。

看看[Eclipse 内存分析器](http://www.eclipse.org/mat/)(MAT)。它将使用 JHat 将程序的内存快照转储到文件中，您可以重新打开和分析该文件。

该文件的浏览器非常整齐地概述了程序创建的所有对象，您可以查看各个级别以查找是否有可疑之处。

* * *

*附加我的评论以回答...*

当您的~~可执行~~web 应用程序崩溃时，将其转储到 MAT。MAT 会多次告诉您正在创建什么对象。如果它是自定义对象，而且通常是，那么很容易找到。如果没有，您可以看到它的父级，将其截肢，然后从那里运球（对不起，对于图形示例，我目前并不完全专注于 SO :)。

哦，我忘了说，你可以在几种情况下多次运行程序，每次都进行转储。然后，您可以分析每个转储的趋势。

* * *

> 但就我而言，我应该使用什么？我有一个在 Tomcat 中运行的 Web 应用程序

不好意思，也错过了。如果我没记错的话，MAT 会转储 JVM*进程*，因此只要 VM 在您的机器上运行，您就可以转储其进程并查看发生了什么。

* * *

*另一条评论变成了部分解决方案......*

这变得比实际上更困难。说真的，这很容易，只要你运行 MAT 一次或两次就能掌握窍门。运行您的应用程序，直到事情崩溃。倾倒它。改变些什么。运行，崩溃，转储。重复。然后，打开 MAT 中的转储，并比较看起来可疑的内容。

当我学习这一点时，最棘手的部分是找到要转储的[进程 ID](http://www.mydigitallife.info/how-to-get-and-view-process-identifier-process-id-or-pid-on-windows/) - 这仍然不是太让人麻木。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-27T08:33:21.477

[IBM WebSphere 上](http://www-01.ibm.com/support/docview.wss?uid=swg27018423&aid=1)的类似消息显示了这一行

> “创建线程失败：retVal”

作为**本机 OOM**的指示，这意味着（进程的）某个线程正在尝试请求堆上的大部分内存。

上面的 IBM 链接有一系列步骤 - 其中一些是 IBM 特定的。看一看。

从本机内存使用的角度来看：

*   最大 Java 堆设置
*   JDBC 驱动程序
*   JNI 代码或本机库
*   未使用类的垃圾收集。确保未设置 -Xnoclassgc。
*   线程池设置（固定大小的线程池）
*   太多的类加载器等，但这些不是很常见。
*   来自 javacores 的类/类加载器的数量。

您可以查看的另一件事是 PermGenSpace - 它有多大？

此链接[http://www.codingthearchitecture.com/2008/01/14/jvm_lies_the_outofmemory_myth.html](http://www.codingthearchitecture.com/2008/01/14/jvm_lies_the_outofmemory_myth.html)建议

> 增加堆分配实际上加剧了这个问题！它减少了编译器和其他本地组件必须使用的空间。所以我的问题的解决方案是：1.减少分配给JVM的堆。2\. 消除原生对象未及时释放造成的内存泄漏。

您是否还在 server.xml 中为 maxThreads 配置了一个值？默认值为 200 但您的应用似乎有 695 ？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-02-25T04:54:16.807

# 使固定

在创建新线程时遵循 IBM 技术说明[java.lang.OutOfMemoryError](http://www-01.ibm.com/support/docview.wss?uid=swg21633466)，特别是使用 'ulimit' 命令来增加默认值 1024 的值。

## 症状

```
[2/25/15 12:47:34:629 EST] 00000049 SystemErr     R java.lang.OutOfMemoryError: Failed to create a thread: retVal -1073741830, errno 11
[2/25/15 12:47:34:630 EST] 00000049 SystemErr     R     at java.lang.Thread.startImpl(Native Method)
[2/25/15 12:47:34:630 EST] 00000049 SystemErr     R     at java.lang.Thread.start(Thread.java:936)
[2/25/15 12:47:34:630 EST] 00000049 SystemErr     R     at org.eclipse.osgi.framework.internal.core.InternalSystemBundle.stop(InternalSystemBundle.java:251)
[2/25/15 12:47:34:630 EST] 00000049 SystemErr     R     at com.ibm.ws.runtime.component.RuntimeBundleActivator.shutdownEclipse(RuntimeBundleActivator.java:54)
[2/25/15 12:47:34:630 EST] 00000049 SystemErr     R     at com.ibm.ws.runtime.component.ServerCollaborator$ShutdownHook$1.run(ServerCollaborator.java:878)
[2/25/15 12:47:34:630 EST] 00000049 SystemErr     R     at com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:5459)
[2/25/15 12:47:34:631 EST] 00000049 SystemErr     R     at com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:5585)
[2/25/15 12:47:34:631 EST] 00000049 SystemErr     R     at com.ibm.ws.runtime.component.ServerCollaborator$ShutdownHook.run(ServerCollaborator.java:850)
[2/25/15 12:47:34:631 EST] 00000049 SystemErr     R     at com.ibm.ws.runtime.component.ServerCollaborator$StopAction.alarm(ServerCollaborator.java:809)
[2/25/15 12:47:34:631 EST] 00000049 SystemErr     R     at com.ibm.ejs.util.am._Alarm.run(_Alarm.java:133)
[2/25/15 12:47:34:631 EST] 00000049 SystemErr     R     at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1815) 
```

## 环境

CentOS 6.6 64 位 IBM WAS 8.5.0.2 64 位

## 参考

*   [设置 ulimit 的准则 (WebSphere Application Server)](http://www-01.ibm.com/support/docview.wss?uid=swg21469413)

# haxe - haxe -lib nme -> /usr/local/bin/libneko.dylib: mach-o，但架构错误

> ID：11682729
> 
> 赞同：3
> 
> 时间：2012-07-27T06:43:47.073
> 
> 标签：haxe

我尝试在 MacOSX 10.7.4 中安装 haxe & nme

```
 brew install haxe
 brew install neko
 haxe -lib nme 
```

但...

```
dyld: Library not loaded: @executable_path/libneko.dylib
  Referenced from: /usr/local/bin/haxelib
  Reason: no suitable image found.  Did find:
    /usr/local/bin/libneko.dylib: mach-o, but wrong architecture
    /Users/username/lib/libneko.dylib: stat() failed with errno=20

lipo -info /usr/local/bin/haxelib
Non-fat file: /usr/local/bin/haxelib is architecture: i386
lipo -info /usr/local/bin/libneko.dylib
Non-fat file: /usr/local/bin/libneko.dylib is architecture: x86_64 
```

一个问题应该如何解决？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-18T15:16:58.613

如果您有一台 64 位机器（您的 mac），但运行的是 32 位 neko，您可能会收到此错误。在 haxe 相关论坛上有[类似的错误报告。](https://github.com/openfl/lime-tools/issues/51)

如果您通过 brew 安装 neko，请确保没有其他版本的这些 neko 库潜伏在您的系统上。这可能会导致同样的错误。

# resharper - Resharper 6 - 自动添加“this”

> ID：11682732
> 
> 赞同：15
> 
> 时间：2012-07-27T06:44:22.333
> 
> 标签：resharper, resharper-6.0

在我工作的一家公司中有一种命名风格，必须将“this”添加到每个函数、属性调用和字段中。有时我会忘记它。我希望 Resharper 自动完成。

有什么建议么？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-07-27T15:21:44.190

找到选项`ReSharper | Options -> Code Editing | C# | Formatting Style | Other -> Other | Force "this." qualifier for instance member`并将其更改为`Use always`，然后运行完整的代码清理。

# android - 在 Twitter 上同时发布媒体和文本

> ID：11682739
> 
> 赞同：0
> 
> 时间：2012-07-27T06:44:56.357
> 
> 标签：android, twitter

我正在开发一个需要在 twitter 上同时发布图像和文本但需要进行谷歌搜索的应用程序？我找不到正确的链接。canyone 能给我一些教程或链接吗？提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:55:34.350

可能重复：[在 Twitter 中发送带有文本推文的徽标类型图像](https://stackoverflow.com/questions/7145821/sending-logo-type-image-with-text-tweet-in-twitter)

在这里查看推特博客文章：

[https://dev.twitter.com/docs/api/1/post/statuses/update_with_media](https://dev.twitter.com/docs/api/1/post/statuses/update_with_media)

这里还有一个关于它的讨论以及一些有用的提示：

[https://dev.twitter.com/discussions/1059](https://dev.twitter.com/discussions/1059)

这些教程最终得到你想要的：http: [//twitter.com/oauth_dancer/status/103216165765136386](http://twitter.com/oauth_dancer/status/103216165765136386)

# php - Facebook 墙贴问题

> ID：11682740
> 
> 赞同：0
> 
> 时间：2012-07-27T06:44:59.253
> 
> 标签：php, facebook

我一直在尝试在 facebook 应用程序的末尾创建一个墙帖。到目前为止，我已经这样做了大约 50 次，但突然间，facebook 将其他内容放到了墙上的帖子上，而不是我设置的那个。我使用 php sdk 做墙贴，代码是：

```
$facebook->api(
    '/me/feed/',
    'post',
    array(
    'access_token' => $access_token, 
    'message'      => $message,
    'name'         => $name,
    'caption'      => $caption,
    'description'  => $description,
    'link'         => $my_url,                
    'picture'      => $wall_post_image
    )
); 
```

access_token 和所有其他变量都经过测试并且有效。奇怪的是，墙贴正在完成，具有指向应用程序的正确链接，但名称是页面名称 | 应用名称，图片为应用图标，标题为公司页面描述

任何想法为什么会发生这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T07:17:13.953

你为什么不给他们静态值，看看它是否发布，它可能会消除一些混乱，比如

```
$facebook->api(
    '/me/feed/',
    'post',
    array(
    'access_token' => $access_token, 
    'message'      => 'testing message',
    'name'         => 'my name',
    'caption'      => 'testing caption',
    'description'  => 'testing description',
    'link'         => 'http://xyz.com/myurl.php',                
    'picture'      => 'http://xyz.com/linktoimage.jpg'
    )
); 
```

如果未发布此值，则意味着其他一些墙贴功能正在此旁边工作，并且如果它有效，则您没有传递正确的值

# ajax - Rails 3 Ajax 不工作

> ID：11682741
> 
> 赞同：1
> 
> 时间：2012-07-27T06:45:04.437
> 
> 标签：ajax, ruby-on-rails-3, jquery

我是 Rails 和 ajax 的新手，所以我正在尝试构建一个简单的应用程序。我用用户和任务创建了一个简单的应用程序（用户有很多任务）。使用 Devise 处理身份验证。我设置了任务 CRUD 并实现了 best_in_place （就地编辑 gem）并让它工作。我接下来要做的是在一些示例资源（例如[创建 100% ajax CRUD](http://stjhimy.com/posts/07-creating-a-100-ajax-crud-using-rails-3-and-unobtrusive-javascript) ）之后添加 ajax 创建和删除。在为 tasks_controller 中的创建和销毁设置所有必要的代码后，`I'm getting DELETE http://localhost:3000/tasks/26 500 (Internal Server Error)`如 firebug 控制台日志中所示。这些是在 firebug 控制台中打印的错误：

```
DELETE http://localhost:3000/tasks/26 500 (Internal Server Error) 
jQuery.ajaxTransport.send
jQuery.extend.ajax
$.rails.rails.ajax
$.rails.rails.handleRemote
(anonymous function)
jQuery.event.dispatch
jQuery.event.add.elemData.handle.eventHandle 
```

单击破坏链接时，与创建相同。该任务在刷新后被删除并创建，但 ajax 无法正常工作。我花了一些时间试图找出问题所在，但还没有任何运气，所以我希望我能在继续深入研究的同时在这里得到一些帮助。以下是我的设置：

首先是控制器代码：

```
def destroy
    @task = current_user.tasks.find(params[:id])
    @task.destroy
    flash[:notice] = "Successfully destroyed post."
        respond_to do |format|
            format.html { }
            format.js { }
         end
end

def create 
    @task = current_user.tasks.build(params[:task])

    respond_with(@task) do |format|
        if @task.save
            flash[:notice] = "Task was created successfully!"
            respond_to do |format|
            format.html { redirect_to tasks_url }
            format.xml { render :xml => @task }
            format.json { render :json => @task}
            format.js
            end
        else
            format.html { render :action => :new }
            format.js
        end
    end

end 
```

任务列表部分显示任务列表并删除

```
<table>
<% @tasks.each do |task| %>

<tr>
<td><%= best_in_place task, :detail %></td>
<!-- <p><%= best_in_place task, :completed, type: :checkbox %></p> -->
 <td><%= link_to "Destroy", task, :confirm => 'Are you sure?', :method => :delete, :remote => true, :id=>'delete' %></td>
 </tr>

<% end %>
</table> 
```

创建表单（没有其他视图的东西）：

> 真) 做 |f| %>
> 
> <%= f.label :detail %>
> <%= f.text_field :detail %> <%= f.submit %> <% end %>

这是 application.html.erb 的 javascript 标签（包括 jquery.js、jquery.ujs、application.js 和其他不那么相关的 js 文件）：

最后，我只是想在 destroy.js.erb 和 create.js.erb 中调用警报：

```
 alert("Task was deleted"); 
```

同样，刷新时 crud 工作正常，感觉好像 destroy.js.erb 和 create.js.erb 没有以某种方式链接。如果您能提供一些提示，我将不胜感激。

这是点击删除后来自控制台的错误：

```
ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each):
    1: 
    2: <table>
    3: <% @tasks.each do |task| %>
    4: 
    5: <tr>
    6: <td><%= best_in_place task, :detail %></td>
  app/views/tasks/_tasks.html.erb:3:in `_app_views_tasks__tasks_html_erb___1747031968745406293_70257861453000'
  app/views/tasks/destroy.js.erb:4:in `_app_views_tasks_destroy_js_erb___3673072470672404292_70257861472560' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T08:18:22.617

看起来您在`destroy`操作中有语法错误。我认为你错过了一个`end`块`respond_to`。

# utf-8 - struts2形式接受多语言

> ID：11682746
> 
> 赞同：0
> 
> 时间：2012-07-27T06:45:44.517
> 
> 标签：utf-8, struts2

我有一个表格，可以提交姓名、地址、附属机构等详细信息。在这里，这些输入将使用不同的语言，如法语、西班牙语、德语、俄语等。我指出，这些输入有时具有非英文键盘字符，并且以不同的字符形式提交，例如 &、^ 等。

例如，

这是输入

> Instituto de Quı´mica, 圣奥保罗大学, 圣奥保罗, 巴西

这是我提交表单时保存在数据库中的数据

```
Instituto de Qu?´mica, Universidade de Sa˜ o Paulo, Sa˜ o Paulo, Brazil 
```

我在数据库和jsp页面中将字符集设置为UTF-8，后来我发现struts 2表单有一个标签属性 `acceptcharset="UTF-8"`

它只适用于少数其他语言，但不适用于西班牙语、葡萄牙语等等。那么这个问题的解决方案是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-13T12:43:17.010

我已经通过在 HTML 页面中更改 UTF-8 来解决这个问题，`pageEncoding`在`charset`我看到这个和`form`我使用过的地方`acceptcharset="UTF-8"`，最后我在将它存储在 DB 中时遇到问题，即使它的字符集是字符集是 UTF-8，所以我强制 DB 连接使用 UTF -8 通过提供`jdbc:mysql://localhost:3306/yourDB?useUnicode=true&characterEncoding=utf8`连接 url

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T08:35:56.937

您可以使用 Spring 过滤器，并将编码强制为 UTF8。将此添加到您的 web.xml：

```
 <filter>
    <filter-name>encodingFilter</filter-name>
    <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>
    <init-param>
        <param-name>encoding</param-name>
        <param-value>UTF-8</param-value>
    </init-param>
    <init-param>
        <param-name>forceEncoding</param-name>
        <param-value>true</param-value>
    </init-param>
</filter>
<filter-mapping>
    <filter-name>encodingFilter</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T07:53:42.953

如果需要强制 jsp 为 UTF-8，可以在 web.xml 中编写以下内容：

```
<jsp-config>
    <jsp-property-group > 
        <url-pattern>*.jsp</url-pattern>
        <page-encoding>UTF-8</page-encoding>
    </jsp-property-group>
</jsp-config> 
```

# magento - Magento 测试自动化框架

> ID：11682747
> 
> 赞同：2
> 
> 时间：2012-07-27T06:45:50.363
> 
> 标签：magento, automated-tests

我能够成功完成安装过程。

目前我正在尝试从 MTAF 运行脚本。我正在遵循安装和用户指南中提到的过程和程序。但目前，我无法运行任何自动化脚本。我收到不同的消息，例如-“未执行测试用例”/“可能发生错误。请参阅输出窗口”。供您参考，![在此处输入图像描述](../Images/d80709bfadd9eed473da6309518a555d.png)![在此处输入图像描述](../Images/d7c365dce2605044f14bf80c9d95da01.png)![在此处输入图像描述](../Images/edb9bd026bcb9a860fd74e1ad9954b83.png)![在此处输入图像描述](../Images/84cc2a9565d7c4e78e64f4f4fee17c50.png)![在此处输入图像描述](../Images/075829f021333b88c2ed647e95409de4.png)![在此处输入图像描述](../Images/ca7fc4bbc5597259cd7356450c2c59b1.png)我附上了我正在使用的配置的主屏幕打印。

如果您可以将我指向某个人或团体，我可以在其中获得一些帮助/指导以进一步进行，那将有很大帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T09:54:06.097

对应于您在*第二个屏幕*上的设置，您必须将其从*runtests.bat*更改为 PhpUnit 执行文件的路径 ( *../pear/phpunit.bat* )

此外，您需要在 'Project properties' -> 'PhpUnit configuration' -> 'Use bootstrap' + 'Use XML Configuration' 中分别指定对*../mtaf/bootstrap.php*和*../mtaf/phpunit.xml*的引用。

运行测试就足够了。

# c++ - clang++ ABI 和 g++ 一样吗？

> ID：11682748
> 
> 赞同：22
> 
> 时间：2012-07-27T06:45:52.470
> 
> 标签：c++, linux, gcc, clang

> **可能重复：**
> [GCC 4.0、4.2 和 LLVM ABI 兼容性](https://stackoverflow.com/questions/3669753/gcc-4-0-4-2-and-llvm-abi-compatibility)

根据主题，两个 C++ ABI 是否兼容？
即可以使用由前者生成的二进制文件（共享对象）并与后者链接（反之亦然）？

干杯

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-07-27T08:13:36.407

根据[clang libc++ page](http://libcxx.llvm.org/)，他们的目标是

> ABI 与 gcc 的 libstdc++ 的一些低级功能的兼容性，例如异常对象、rtti 和内存分配。

这似乎暗示他们的目标不是 100% 兼容性。例如，在该页面上，他们还说：

> 从多年的经验（包括之前实现过标准库）中，我们学到了很多关于实现标准容器的知识，这需要破坏 ABI 以及对它们的实现方式进行根本性的改变。例如，人们普遍认为，使用“短字符串优化”而不是使用写时复制 (COW) 构建 std::string 对于多核机器来说是一种优越的方法（特别是在具有右值引用的 C++'0x 中）。打破 ABI 与旧版本库的兼容性对于实现 libc++ 的性能目标至关重要。

我相信 GCC 仍在使用引用计数的 COW，因此 clang 似乎并不担心 ABI 与`std::string`（与较旧的 clang 编译的二进制文件或与 GCC）的兼容性。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-27T07:46:01.567

它似乎是兼容的。Clang 也有一个针对他们自己的 C++ 运行时的项目，它声明它与 GNU stdlibc++[低级兼容。](http://libcxx.llvm.org/)我只是尝试了一个小示例程序，其中我用clang++编译了一个文件，并编译并链接了主程序和g++。到目前为止没有问题，但程序相当简单。

# delphi - VCLZip：压缩文件中的“虚拟”目录

> ID：11682755
> 
> 赞同：5
> 
> 时间：2012-07-27T06:46:30.567
> 
> 标签：delphi, zip, delphi-2007, unzip, vclzip

我们有文件被分为不同的类别，比如说`CatA`...... `CatD`每个类别都有一个相关的文件夹，可由用户配置。例如`CatA`去`C:\Path\To\CatA`、`CatB`去`C:\Path\To\CatB`和去。`CatC`_`CatD``C:\Path\To\CatCD`

现在我想根据以下规范在 zip 文件中/从 zip 文件中备份和恢复这些文件

```
[CatA]
SomeFile.abc
*.txt

[CatB]
File3.xyz
File4.xyz
.
.
. 
```

生成的 zip 文件应具有类似的结构

```
CatA
  SomeFile.abc
  aaa.txt
  bbb.txt
  ccc.txt
CatB
  File3.xyz
  File4.xyz
.
.
. 
```

我使用 VCLZip 通过对每个作业的和方法进行**多次**调用以及对 Pathname 属性进行一些黑客操作来管理它。但是，我更喜欢**一次**调用/以便 VCLZip 可以更准确地计算整体进度，并且我会得到一个不那么跳跃的进度条。`Zip``UnZip(Selected)`**`Zip``UnZip(Selected)`**

 **我能够通过（ab）使用`TVCLUnzip.FilesList.Objects`属性将每个文件类别信息“传输”到一个`OnStartZip`处理程序中来实现这一点，然后我可以在其中进行操作`ZipHeader.directory`，但这似乎过于复杂和脆弱，所以我希望有一个更直接的解决方案我只是不明白。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T21:37:04.853

您可以在一个 ZIP 呼叫中完成。只需填写 TVCLZip.FileList 和 TVclZIP.ExcludeList

```
VCLZip.FileList.Add('C:\Path\To\CatA\*.txt');
VCLZip.FileList.Add('C:\Path\To\CatA\SomeFile.abc');
VCLZip.FileList.Add('C:\Path\To\CatB\File3.xyz');
...... 
```

并定义`TVCLZip.OnStartZip`. 我在我的项目中使用了这个策略并且效果很好。例如：

```
procedure TMainForm.VCLZipStartZip( Sender: TObject; FName: String;  var ZipHeader: TZipHeaderInfo; var Skip: Boolean );
var Dest: String;

begin
try
   Dest:=ExtractFilePath(FName);
   Dest:=StringReplace(Dest,'C:\Path\To\','' ,[rfReplaceAll,rfIgnoreCase]);
   ZipHeader.directory:=Dest;
end; 
```

您可以将 ZipHeader.directory 设置为您需要作为 ZIP 文件中的源文件夹的任何值。**

# xamarin.ios - MonoTouch - 跨平台 API 抽象层？

> ID：11682758
> 
> 赞同：1
> 
> 时间：2012-07-27T06:46:43.150
> 
> 标签：xamarin.ios

我了解使用 MonoTouch 和 MonoDroid 开发的原生 UI 层是一件好事。但是，我想知道是否有任何跨平台 Mono API 层用于相机、位置、存储、通知等功能......？

PhoneGap 提供了一个 JavaScript 抽象层来执行此操作。有单声道等价物吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T07:10:12.653

有一个来自 xamarin 的官方 monomobile api 项目 - 提供相机、联系人和 gps 抽象，此外还有关于进一步扩展的讨论（但没有确定的路线图）。有关介绍，请参阅[http://blog.xamarin.com/2011/11/22/introducing-the-xamarin-mobile-api/](http://blog.xamarin.com/2011/11/22/introducing-the-xamarin-mobile-api/)

除此之外：

*   一些 api 从一开始就存在跨平台 - 例如，隔离存储可以在所有平台上使用。
*   我已经看到其他一些 GitHub 项目开始了 - 例如 chrisntr 的单声道扩展
*   我在[http://GitHub.com/slodge/mvvmcross中写了一些抽象（例如 File、gps、camera）](http://GitHub.com/slodge/mvvmcross)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-29T05:21:43.330

我最近遇到了[MonoDroid.Dialog](https://github.com/kevinmcmahon/MonoDroid.Dialog)。我还没有使用它，但如果它像 MonoTouch.Dialog 那样简单地做表格，那么我会很高兴的。

# ruby-on-rails-3 - 在两个级别的深处访问 has_many 活动记录关联？

> ID：11682760
> 
> 赞同：1
> 
> 时间：2012-07-27T06:46:48.960
> 
> 标签：ruby-on-rails-3, activerecord, has-many-through, polymorphic-associations, model-associations

我目前正在开发处理帐户和用户的 Rails 3 应用程序。我正在尝试在模型上建立活动记录关联。对于当前的实现，我有帐户、用户和联系人模型。但这也涉及多态关系。我确实还有一个单独的表，称为关系表，其中存储了这些 has_many 关系的 id。

帐户：

has_many :users, :through => :relations, :as => :asset

用户：

has_many :contacts, :through => :relations, :as => :asset

关系：

属于_to :asset, :owner

例如：Account1 有 2 个用户。每个用户下有 2 个联系人。下面是关系表：

* * *

```
Asset       Owner

User1       Account1

User2       Account1

Contact1    User1

Contact2    User1

Contact3    User2

Contact4    User2 
```

* * *

这样可以跟踪每个关联。每个模型都有定义的关联。我在建立关联方面面临的问题是：

我需要建立从 Account 到 Contacts 的关联，以便我可以列出 User1 和 User2 下的所有联系人，也在一个帐户下。我可以执行 Account = User1.contacts + User2.contacts 之类的操作。但这不合适。

那么Rails 3中是否有任何概念可以实现（account.contacts），所以通过这个而不是遍历每个用户来获取联系人列表然后总结它们，我可以直接拥有联系人列表？

欢迎任何形式的建议...

# android - 使用 ActionBarSherlock 时如何应用 HoloEverywhere android 主题？

> ID：11682762
> 
> 赞同：12
> 
> 时间：2012-07-27T06:46:50.927
> 
> 标签：android, android-actionbar, actionbarsherlock, android-theme, android-holo-everywhere

我正在构建一个应该在 android 2.3 上运行的应用程序，并且我添加了 ActionBarSherlock 和 HoloEverywhere 库。

为了使用 ActionBarSherlock 我必须像这样使用 Theme.Sherlock ：

```
<application
    ...
    android:theme="@style/Theme.Sherlock"
    ...  > 
```

没关系。

我的主要活动非常简单：只是一个有 5 行的 ListView（我不使用 ListAcivity）。

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <ListView
        android:id="@+id/menuListView"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" />

</LinearLayout> 
```

由于它是 android 2.3，我仍然有橙色和黑色主题（当然除了 ActionBar）。现在我想通过像这样修改我的清单来添加 HoloEverywhere 主题：

```
<application
    ...
    android:theme="@style/Theme.HoloEverywhereDark.Sherlock"
    ...  > 
```

但这并没有改变任何东西......我错过了什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-27T13:13:59.337

为了默认为我进入 HoloEverywhere 库的 styles.xml 文件中的每个 ListView 启用 Holo 主题，然后我通过添加以下行来修改“ListViewStyle”元素：

```
<item name="android:listSelector">@drawable/list_selector_holo_dark</item> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-27T10:34:31.870

我对 ListView 的选择器有同样的问题。我虽然默认情况下 HoloEveruwhere 会应用全息选择器（蓝色）（我已经尝试过 Theme.HoloEverywhereLight 和 Theme.HoloEverywhereLight），但它没有。也许我错过了一些东西。

我最终手动设置了选择器：

```
listView.setSelector(R.drawable.list_selector_holo_light); 
```

您可以在库中使用多个可绘制资源（例如 list_selector_holo_light）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-05T19:29:41.773

一个可移植且正确的解决方案是从 ListViewStyle 继承并覆盖该属性，使其在您的 styles.xml 中。

如果您将 HoloEverywhere 官方库远程部署在服务器上（例如 Maven 存储库），您就不能依赖它来维护 styles.xml 的更改（您正在根据自己的需要对其进行修改）。

# java - 访问其他 osgi 包中的静态资源？

> ID：11682763
> 
> 赞同：2
> 
> 时间：2012-07-27T06:46:54.030
> 
> 标签：java, eclipse-plugin, osgi, bundle, equinox

我创建了两个 OSGi 包 B1 和 B2 (Equinox)。

在捆绑包 B1 中，我`WebContent/WEB-INF/WEB.xml`在根目录下有一个目录。

```
source.. = src/
bin.includes = META-INF/,\.,\WebContent 
```

在 bundle B2 的清单中，我添加了 bundle B1 作为依赖项。我想让`WebContent`它的子树对 B2 包可见。

笔记：

1.  我无法`WebContent`在 B1 的清单中导出，因为它不在`src`文件夹中。
2.  如果我放入`WebContent/WEB-INF`文件`src`夹，我仍然无法导出它，`WebContent/WEB-INF`因为它不是有效的包名。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T15:08:31.473

你能得到 B1 捆绑包的参考吗？如果是这样，我认为您可以使用[getEntry](http://www.osgi.org/javadoc/r4v43/core/org/osgi/framework/Bundle.html#getEntry%28java.lang.String%29)。例如

```
Bundle b1 = /* get bundle here */
URL urlToWebXml = b1.getEntry("WebContent/WEB-INF/WEB.xml"); 
```

“在此处获取捆绑包”可能会通过您的 B2 捆绑包的激活器访问捆绑包，该激活器可能存储 BundleContext。

# xslt - 用 xslt 中的特殊字符替换字符集

> ID：11682764
> 
> 赞同：1
> 
> 时间：2012-07-27T06:46:59.397
> 
> 标签：xslt, xslt-1.0

来源：

```
<txt>
    &lt;Data&gt;
    &lt;div class="label"&gt;
        &lt;span&gt;Welcome&lt;/span&gt;
    &lt;span id="UserName"&gt;&lt;/span&gt;.
    &lt;/div&gt;
    &lt;/Data&gt;

</txt> 
```

需要输出：

```
<Data>
<div class="label">
    <span>Welcome</span>
<span id="UserName"></span>.
</div>
</Data> 
```

规则：我想替换

```
&lt; with <
&gt; with > 
```

还有其他角色，为简单起见，我只提到了两个。

我不确定如何在 xslt 中搜索字符串并替换它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T07:23:43.887

您可以通过使用**disable-output-escaping来实现这一点**

```
<xsl:template match="txt">
   <xsl:value-of select="." disable-output-escaping="yes" />
</xsl:template> 
```

那应该给你你需要的输出。

# c# - 通过套接字 API 将 C 结构传输到 C# 结构

> ID：11682770
> 
> 赞同：-1
> 
> 时间：2012-07-27T06:47:28.200
> 
> 标签：c#, c, sockets

我在 C 中有一个结构

```
 typedef struct config
{
    char terminal_id[4];
    char update_version[6];
    char sub_app[6];
    char day[6];
    char month[6];
    char year[6];
    char hours[6];
    char minutes[6];

}; 
```

我想将用 C 编写的配置数组（如上）传输到 C# 中的结构，我只有在 C# 套接字中接收字节类型的数据。知道吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T07:02:16.047

由于您可以控制结构，并且知道它有多少字段，因此应该很容易“按原样”发送字符串，但包括终止`'\0'`字符，以便您知道一个字符串何时结束，下一个字符串何时开始（或消息结束最后一个字符串）。

在接收端，只需一次读取一个字符附加到正确的字段，当您收到一个为零的字符（不是`'0'`文字值`0`）时，您就知道一个字符串结束，下一个开始（或整个结构，如果您收到最后一个字符串）。

您可以使用它，因为不必事先分配 C# 字符串。另一种解决方案不是传输字符串终止符，而是首先发送一个包含字符串长度的固定大小的整数。

**编辑：**如果接收 C# 端的结构将字符串作为固定大小的字节数组，那么您仍然可以使用我提出的算法。一次读一个字符，然后做例如`struct.buffer1[i++] = ch;`. 当数组已满，或者您收到字符串终止符时，重置计数器（`i`在我之前的示例中）并开始接收下一个字符串。请记住，如果字符串比接收到的字符串长，您必须继续读取字符直到字符串结束，但只需丢弃它们。

我提到的另一个解决方案是，在每个字符串前面加上它的长度可能会更有效，最好的情况是你只需要在 C 端进行两次写入，在 C# 端进行两次读取。为了不必担心字节顺序，将长度作为固定长度的文本字段发送，例如发送字符串`"foobar"`，您实际上发送两个字符串`" 6"`和`"foobar"`. 在接收端，首先读取四个字符，将字符串转换为整数，然后使用该值作为实际字符串的长度。

# windows - Win 32 程序验证颁发者是否从受信任的根 CA 颁发？

> ID：11682773
> 
> 赞同：1
> 
> 时间：2012-07-27T06:47:36.667
> 
> 标签：windows, winapi

Win 32 程序验证颁发者是否从受信任的根 CA 颁发？现在我正在使用 WinVerifyTrust API，而不是其他任何 API？请帮帮我

# java - 如何在屏幕底部显示文本？

> ID：11682774
> 
> 赞同：2
> 
> 时间：2012-07-27T06:47:38.607
> 
> 标签：java, android

在 android 应用程序中，我已在屏幕底部的 TextView 中显示分数，它已显示在模拟器中但未显示在手机中。我更改为显示在屏幕顶部，它可以在手机中使用，但我需要在手机屏幕底部显示。

请任何人提供想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:52:35.597

你试过[ALIGN_PARENT_BOTTOM](http://developer.android.com/reference/android/widget/RelativeLayout.html#ALIGN_PARENT_BOTTOM)吗？请注意，这仅适用于`RelativeLayout`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T06:55:26.023

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@drawable/bg_iphone" >

   <TextView
            android:id="@+id/txtDate"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentBottom="true" />

</RelativeLayout> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T06:56:17.323

下面是一个`RelativeLayout`用于将文本定位在显示屏顶部、中间和底部的示例。

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >
<TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"
    android:layout_alignParentTop="true"
    android:text="@string/hello_world"
    tools:context=".MainActivity" />
    <TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"
    android:layout_centerVertical="true"
    android:text="@string/hello_world"
    tools:context=".MainActivity" />
    <TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"
    android:layout_alignParentBottom="true"
    android:text="@string/hello_world"
    tools:context=".MainActivity" />        
</RelativeLayout> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-27T07:15:53.023

使用属性 align_parent_bottom 尝试此代码

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

    <TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"
    android:layout_alignParentBottom="true"
    android:text="@string/hello_world"
    tools:context=".MainActivity" />  

</RelativeLayout> 
```

# phpmyadmin - 让 phpMyAdmin 显示 InnoDB 表的确切记录数？

> ID：11682777
> 
> 赞同：2
> 
> 时间：2012-07-27T06:47:47.210
> 
> 标签：phpmyadmin, innodb

有没有办法让 phpMyAdmin 显示 InnoDB 表的确切记录数？

我知道为什么 InnoDB根据解释有*不同数量的记录，因为它是一个事务引擎，但 SQLBuddy 显示了 InnoDB 表的确切记录数，所以我认为 phpMyAdmin 有一种方法可以做到这一点。*

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-27T07:10:35.993

刚刚在这个线程上找到了答案：[PHPMyAdmin - 总记录数不同](https://stackoverflow.com/questions/4993213/phpmyadmin-total-record-count-varies)

似乎在 config.inc.php 中添加配置参数可以解决问题：[http ://www.kavoir.com/2012/07/make-phpmyadmin-show-exact-number-of-records-for-innodb-tables.html](http://www.kavoir.com/2012/07/make-phpmyadmin-show-exact-number-of-records-for-innodb-tables.html)

只需在 config.inc.php 中添加这一行：

```
$cfg['MaxExactCount'] = 2000000; 
```

这样任何少于 2000000 行的 InnoDB 表都将显示准确的行数。

使这个数字足够大，数据库中的所有 InnoDB 表将在 phpMyAdmin 数据库页面上具有准确的行数。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-06T08:06:53.217

正如您引用的回复中提到的，这可能是性能问题（我还没有测试过是否确实如此）。有一个快速的解决方法，如果您将表格导出到电子表格（选择表格，转到导出然后以您可以在您的机器上打开的一种格式导出），可以看到行数，并在那里查看确切的行数。

# java - 禁用 dbcp 连接池的重试尝试

> ID：11682782
> 
> 赞同：1
> 
> 时间：2012-07-27T06:48:06.603
> 
> 标签：java, mysql, spring, connection-pooling, apache-commons-dbcp

我正在使用commons-dbcp连接池，以防Mysql连接丢失，池在“放弃”之前重试多次。缺点是在返回之前等待太久。我需要一种方法来禁用这些重试，以便相应地处理异常。应用程序是基于弹簧的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:58:42.257

也许您可以根据此博客[http://psponcoding.blogspot.com/2012/02/database-connection-timed-out-but-how.html切换到 c3p0](http://psponcoding.blogspot.com/2012/02/database-connection-timed-out-but-how.html)

# java - 将服务逻辑与数据分离

> ID：11682784
> 
> 赞同：15
> 
> 时间：2012-07-27T06:48:15.807
> 
> 标签：java, design-patterns, service

我一直在查看我在一个 android 项目中的几个类，我意识到我一直在将逻辑与数据混合在一起。意识到这对我的项目的可读性和可测试性有多么糟糕，我决定进行一些重构，以便将所有服务逻辑抽象为单独的服务模块。但是，由于我一直依赖 Java 的多态性，所以我迷路了，需要一些指导。

假设我有一个超级数据类和两个子类的“待更改”布局：

```
public class DataItem {
    /* some variables */ 

    public saveToDB(/* Some Arguments */) {
        /* do some stuff */
    }

    public render() {
        /* render the class */
    }
}

public class ChildDataItemA extends DataItem {
    @Override
    public saveToDB(/* Some Arguments */) {
        super.saveToDB(); 
        /* more specific logic to ChildDataItemA */
    }

    @Override
    public render() {
        /* render logic for ChildDataItemA */
    }
}

public class ChildDataItemB extends DataItem {
    @Override
    public saveToDB(/* Some Arguments */) {
        super.saveToDB(); 
        /* more specific logic to ChildDataItemB */
    }

    @Override
    public render() {
        /* render logic for ChildDataItemB */
    }
} 
```

现在，我考虑将`saveToDB()`and`render()`方法移至服务类。但是，有时我需要能够在`DataItem`不知道其运行时类型的情况下将这些方法调用到已编译类型的实例中。例如，我可能想拨打以下电话：

```
List<DataItem> dataList; 
for (DataItem item: dataList) {
    item.saveToDB();
    item.render();
} 
```

此外，我还想过做以下事情：

```
public class ChildDataItemB extends DataItem {
    @Override
    public saveToDB(/* Some Arguments */) {
        super.saveToDB(); 
        /* more specific logic to ChildDataItemB */
         Service.saveToDBB();
    }

    @Override
    public render() {
        /* render logic for ChildDataItemB */
        Service.renderB();
    }
} 
```

我仍然在每个子类中保留“虚拟”方法来调用适当的服务方法。但是，我认为这并没有真正实现我想要的分离，因为数据类仍然会知道服务（糟糕！）。

关于如何解决这个问题的任何想法？

编辑：请注意，这`render()`只是`saveToDB()`这些方法的通用示例，因此问题不在于选择 ORM 或 SQL 相关技术。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-04T04:44:09.767

[访客模式](http://en.wikipedia.org/wiki/Visitor_pattern)来救援。创建一个访问者接口并让每个服务实现这个接口：

```
public interface DataItemVisitor {
  // one method for each subtype you want to handle
  void process(ChildDataItemA item);
  void process(ChildDataItemB item);
}

public class PersistenceService implements DataItemVisitor { ... }
public class RenderService implements DataItemVisitor { ... } 
```

然后让每个人`DataItem`实现一个`accept`方法：

```
public abstract class DataItem {
  public abstract void accept(DataItemVisitor visitor);
}

public class ChildDataItemA extends DataItem {
  @Override
  public void accept(DataItemVisitor visitor) {
    visitor.process(this);
  }
}

public class ChildDataItemB extends DataItem {
  @Override
  public void accept(DataItemVisitor visitor) {
    visitor.process(this);
  }
} 
```

请注意，所有`accept`实现看起来都相同，但`this`在每个子类中引用了正确的类型。现在您可以添加新服务而无需更改`DataItem`类。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-29T09:15:40.237

所以你想做：

```
List<DataItem> dataList; 
for (DataItem item: dataList) {
    service.saveToDB(item);
    service.render(item);
} 
```

为此，您需要为您的服务设置一个系统，以便从您的 DataItem 子类中了解更多详细信息。

ORM 和序列化程序通常通过元数据系统解决这个问题，例如通过查找名称与子类匹配的 xml 文件，其中包含要保存或序列化的属性。

```
ChildDataItemA.xml
<metaData>
   <column name="..." property="..."/>
</metaData> 
```

您可以通过反射和注释获得相同的结果。

在您的情况下，[桥模式](https://en.wikipedia.org/wiki/Bridge_pattern)的应用程序也可以工作：

```
class DataItem {
    public describeTo(MetaData metaData){
       ...
    }    
}

class Service {
   public void saveToDB(DataItem item) {
      MetaData metaData = new MetaData();
      item.describeTo(metaData);
      ...
   }
} 
```

您的元数据可以与保存或渲染分离，因此两者都可以相同。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T06:58:11.200

我会清理“数据”类`render`和`saveToDB`方法。

相反，我会为 DataItem 创建一个包装层次结构（它不必完全模仿 DataItem 层次结构）。这些包装器将实现这些方法。

此外，我建议（如果可以的话），您可以使用一些 ORM（对象关系映射），例如 Hibernate 或 JPA，以摆脱 saveToDB 方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-29T09:47:23.123

首先，DataItem 类应该是干净的，只有 getter 和 setter，根本没有逻辑，就像*POJO*一样。此外-您的 DataItem 可能应该是抽象的。

现在-对于逻辑，就像其他人建议的那样，我会为 saveToDB 部分使用一些 ORM 框架，但是您说它对您没有帮助，因为它是 android 项目，并且您还有其他类似的方法。

所以我要做的是创建一个接口 IDataItemDAO，具有以下逻辑：

```
public interface IDataItemDAO<T extends DataItem > {
    public void saveToDB(T data, /* Some Arguments */);
    ... other methods that you need ...
} 
```

我将为 DataItem 创建一个抽象 DAO，并将所有 DataItem 的所有类似代码放入其中：

```
public abstract class ChildDataItemADAO impelemets IDataItemDAO<DataItem> {
    @Override
    public void saveToDB(DataItem data, /* Some Arguments */); {
        ...
    }
} 
```

比我会为您拥有的每个 DataItem 类创建一个 DAO：

```
public class ChildDataItemADAO extends DataItemDAO impelemets IDataItemDAO<ChildDataItemA> {
    @Override
    public void saveToDB(ChildDataItemA data, /* Some Arguments */); {
        super(data, ...);
        //other specific saving
    }
} 
```

另一部分是如何为正确的实例使用正确的 DAO，为此我将创建一个类，它将为给定实例带来正确的 DAO，如果使用 if-else 语句（或者您可以使用类映射和 DAO 动态执行此操作）

```
public DataItemDAO getDao(DataItem item) {
    if (item instanceof ChildDataItemA) {
        //save the instance ofcourse
        return new ChildDataItemADAO();
    }
} 
```

所以你应该像这样使用它：

```
List<DataItem> dataList; 
for (DataItem item: dataList) {
    factory.getDao(item).saveToDB(item);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-04T16:04:16.580

如果您想将逻辑与数据分开，您可以尝试以下方法

创建您的数据类 DataItem,ChildDataItemA, ChildDataItemB 而无需对数据进行操作的方法

为您的数据类上的某些操作创建一个接口，例如

```
public interface OperationGroup1OnDataItem {
        public void saveToDB(DataItem dataItem/*plus other params*/) {

        }
        public void render(DataItem dataItem/*plus other params*/) {

        }
        ......
} 
```

创建工厂以实现 OperationGroup 提供程序

```
public class OperationFactoryProvider {
    public static OperationGroup1OnDataItem getOperationGroup1For(Class class) {
    ....
    }
} 
```

在你的代码中使用它：

```
List<DataItem> dataList; 
for (DataItem item: dataList) {
    OperationGroup1OnDataItem  provider OperationFactoryProvider.getOperationGroup1For(item.class);
    provider.saveToDB(item);
    provider.render(item);
} 
```

您可以选择使用简单的静态映射来实现工厂，其中您将类（或类 fullName）作为键，将实现接口的对象作为值；就像是

```
 Map<String,OperationGroup1OnDataItem> factoryMap= new HashMap<String,OperationGroup1OnDataItem>();
 factoryMap.put(DataItem.class.getName(),new SomeClassThatImplementsOperationGroup1OnDataItemForDataItem());
 factoryMap.put(ChildDataItemA.class.getName(),new SomeClassThatImplementsOperationGroup1OnDataItemForChildDataItemA()); 
```

getOperationGroup1For 的实现是：

```
return factoryMap.get(item.getClass().getName()); 
```

这是从数据中分离逻辑的一个例子，如果你想从数据中分离逻辑，你的逻辑方法必须从你的数据类中提取出来；否则就没有分离。所以我认为每个解决方案都必须从删除逻辑方法开始。

# android - GridView 中的 ImageView 正常工作

> ID：11682786
> 
> 赞同：1
> 
> 时间：2012-07-27T06:48:31.757
> 
> 标签：android, image, button, gridview, imageview

我有一个库存检查应用程序，其中材料显示在网格中，每个网格元素都有一个材料图像、数量的编辑文本、检查按钮和一个根据库存是否可用而变成红色或绿色的图像。还有一个文本视图，如果图像为绿色，则设置为“可用”，如果图像为红色，则设置为“不可用”。

我正在使用扩展基本适配器的自定义适配器。

一切正常，直到我按下检查按钮

我使用edittext textwatcher来更改文本在哪个位置但是当我按下复选按钮时，图像在3 * 3网格的第9个元素处设置为绿色。

我正在使用 viewHolder 但它仍然无法正常工作。

任何人都可以请帮忙。

请看下面的代码

```
private class CustomAdapter extends ArrayAdapter<HashMap<String, Object>> {
    private Context context;
    boolean[] checkboxstate;
    ViewHolder viewHolder;
    ArrayList<HashMap<String, Object>> testdata;

    public CustomAdapter(Context context, int textViewResourceId,
            ArrayList<HashMap<String, Object>> testdata) {
        super(context, textViewResourceId, testdata);
        this.context=context;
        this.testdata=testdata;
        checkboxstate = new boolean[testdata.size()];
    }

    private class ViewHolder {

        TextView txt_product;
        ImageView image_available;
        ImageView image_product;
        TextView txt_available;
        EditText quantity;
        Button check;

    }

    @Override
    public View getView(final int position, View convertView,
            ViewGroup parent) {

        View gridView;

        if (convertView == null) {

            gridView=new View(context);
            convertView = inflater.inflate(R.layout.salesdummy, null);
            viewHolder = new ViewHolder();

            // cache the views

            viewHolder.quantity=(EditText)convertView.findViewById(R.id.quantity);
            viewHolder.image_product=(ImageView)convertView.findViewById(R.id.image1);
            viewHolder.image_available=(ImageView)convertView.findViewById(R.id.imagecheck);
            viewHolder.txt_available=(TextView)convertView.findViewById(R.id.txt_available);
            viewHolder.check=(Button)convertView.findViewById(R.id.btncheck);
            viewHolder.txt_product=(TextView)convertView.findViewById(R.id.product);

            // link the cached views to the convertview
            convertView.setTag(viewHolder);

        } else
            viewHolder = (ViewHolder) convertView.getTag();

        // set the data to be displayed

        viewHolder.txt_product.setText(testdata.get(position).get("MATERIAL").toString());

        int photoId=(Integer) testdata.get(position).get("IMAGE");
        viewHolder.image_product.setImageDrawable(getResources().getDrawable(photoId));

    /*  viewHolder.quantity.addTextChangedListener(new TextWatcher() {

            public void onTextChanged(CharSequence s, int start, int before, int count) {
                // TODO Auto-generated method stub

            }

            public void beforeTextChanged(CharSequence s, int start, int count,
                    int after) {
                // TODO Auto-generated method stub

            }

            public void afterTextChanged(Editable s) {
                // TODO Auto-generated method stub
                quant=s.toString();
            }
        });
        */
        viewHolder.check.setOnClickListener(new View.OnClickListener() {

            public void onClick(View v) {
                // TODO Auto-generated method stub

            Log.d("VAlue of string",quant);
            int i_quant;
            i_quant=Integer.parseInt(quant);

            String material=testdata.get(position).get("MATERIAL").toString();
            Log.d("Check material",material);

            Cursor c=db.GetMaterial(material);
            rec_quantity=c.getString(2);

            System.out.println("Value of received quantity is" + rec_quantity);
            i_rec_quantity=Integer.parseInt(rec_quantity);

            if(i_quant>i_rec_quantity)
            {
                System.out.println("===============Value is greater than stock");

                viewHolder.image_available.setBackgroundDrawable(getResources().getDrawable(R.drawable.red));
                viewHolder.txt_available.setText("Not Available");

            }
            else
            {
                viewHolder.image_available.setBackgroundDrawable(getResources().getDrawable(R.drawable.green));
                viewHolder.txt_available.setText("Available");
            }

            }
        });

        viewHolder.quantity.addTextChangedListener(new TextWatcher() {

            public void onTextChanged(CharSequence s, int start, int before, int count) {
                // TODO Auto-generated method stub

            }

            public void beforeTextChanged(CharSequence s, int start, int count,
                    int after) {
                // TODO Auto-generated method stub

            }

            public void afterTextChanged(Editable s) {
                // TODO Auto-generated method stub
                quant=s.toString();
            }
        });

        /*
        viewHolder.txt_name.setText(testdata.get(position)
                .get("NAME").toString());

        viewHolder.txt_salesvolume.setText(testdata.get(position)
                .get("SALESVOLUME").toString());
        viewHolder.txt_overdue.setText(testdata.get(position)
                .get("OVERDUE").toString());
        viewHolder.txt_outstanding.setText(testdata.get(position)
                .get("OUTSTANDING").toString());
        viewHolder.txt_creditlimit.setText(testdata.get(position)
                .get("CREDIT_LIMIT").toString());
        viewHolder.txt_creditutilization.setText(testdata.get(position)
                .get("CREDIT_UTILIZATION").toString());

        String creditlimit=testdata.get(position).get("CREDIT_LIMIT").toString();
        String creditutilized=testdata.get(position).get("CREDIT_UTILIZATION").toString();
*/

        /*
        String remcom=testdata.get(position).get("CREDIT_UTILIZATION").toString();
        Log.d("Remcom value",remcom);
        String remcom1=remcom.replace(",","");
        int inint=Integer.parseInt(remcom1);

        if(inint>150000)
        {
            viewHolder.txt_creditutilization.setTextColor(Color.RED);
        }

        */

        // VITAL PART!!! Set the state of the
        // CheckBox using the boolean array

        // //HAVE OPENED THE BELOW COMMENT AND HAVE DONE THIS TO CHECK
        // WHETHER DUPLICATE CHECKS ARE NOT IMPLEMENTED

        // return the view to be displayed
        return convertView;
    }

} 
```

# ruby-on-rails - 如何将其重写为 ActiveRecord 查询？（导轨）

> ID：11682788
> 
> 赞同：1
> 
> 时间：2012-07-27T06:49:00.097
> 
> 标签：ruby-on-rails, database, activerecord

我在控制器中有以下方法：

```
# GET /units/1
def show
    @unit = Unit.find(params[:id]

    @product_instances = Array.new
    current_user.product_instances.each do |product_instance|
        if product_instance.product.unit == @unit
            @product_instances.push(product_instance)
        end
    end

    ... #rest of method
end 
```

可以看出，我有四个表/模型：User、Product、ProductInstance 和 Unit。一个用户有许多 ProductInstances。每个 ProductInstance 都映射到一个 Product。一个单元有许多产品。

我只想获取与当前单元中的产品链接的用户产品实例。当前的代码可以做到，但是我怎样才能更好地重写它呢？如果可能的话，我想摆脱 for-each 循环和 if 语句，并用链式 ActiveRecord 查询替换它。

我尝试了以下类似的方法，但没有奏效：

```
@product_instances = current_user.product_instances.where(:product.unit => @unit) 
```

看来你做不到`:product.unit`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T06:56:47.463

我想你可以试试这个

```
current_user.product_instances.joins(:product).where("products.unit_id = ?",@unit.id) 
```

或使用哈希

```
current_user.product_instances.joins(:product).where(:products => {:unit_id => @unit.id}) 
```

# xcode - 尝试获取 iOS .crash 文件的符号

> ID：11682789
> 
> 赞同：40
> 
> 时间：2012-07-27T06:49:01.640
> 
> 标签：xcode

我对如何从 xcode 中获取 .crash 文件的符号感到困惑。

我有 .crash 文件、.app 文件、.ipa 文件和 .dSYM 文件。我将崩溃日志拖到 xcode 管理器中，我看到崩溃日志带有系统调用符号，但我的应用程序没有符号。

.app/.ipa 是由我们的构建机器构建的，所以它不是通过 xcode 存档的。

我尝试将所有三个文件（嗯，两个实际上是目录，但在 Mac 上看起来像文件）放在同一个文件夹中，但什么也没有。我尝试在该目录中从命令行运行 symbolicatecrash，但出现此错误：

```
Error: "DEVELOPER_DIR" is not defined at /Applications/Xcode.app/[snip]Resources/symbolicatecrash line 53. 
```

我尝试将 DEVELOPER_DIR 设置为 /Applications/Xcode.app 并且它更进一步，但现在我看到了一系列错误：

```
sh: /Applications/Xcode.app/usr/bin/xcrun: No such file or directory 
```

我难住了。考虑到所有 4 个需要的文件都在同一个目录中，您会认为这会更容易。

我正在运行 xcode 4.4，但昨晚在使用 4.3 时遇到了同样的问题。我希望升级会有所帮助。

* * *

## 回答 #1

> 赞同：63
> 
> 时间：2012-08-01T15:34:17.130

确保设置正确的 DEVELOPER_DIR：

```
export DEVELOPER_DIR="/Applications/Xcode.app/Contents/Developer" 
```

Xcode 用大写 X 编写。在 Mountain Lion (10.8) 上测试。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-27T06:56:29.780

首先设置正确的 Xcode 位置：

```
sudo /usr/bin/xcode-select -switch /Applications/Xcode.app/Contents/Developer/ 
```

我设置了这个变量并让它工作。

```
export DEVELOPER_DIR=/Applications/Xcode.app 
```

然后我在这个目录中运行了 symbolicatecrash：

```
/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/Library/PrivateFrameworks/DTDeviceKit.framework/Versions/A/Resources 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T06:55:00.827

（对不起，我的答案是在正确阅读您的问题之前写的）。

用于[`xcode-select`](http://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man1/xcode-select.1.html)设置 Xcode 安装的正确位置。更确切地说：

```
$ sudo xcode-select -switch /Applications/Xcode.app/Contents/Developer 
```

# jquery - jQuery滑块不起作用

> ID：11682792
> 
> 赞同：4
> 
> 时间：2012-07-27T06:49:06.227
> 
> 标签：jquery, html, css, jquery-ui, jquery-plugins

我的页面中有两个滑块

在单独的页面中，两者都可以正常工作，但是当我将两者都放在一个页面中时，任何一个都无法正常工作。

**第一个滑块**

```
<script type="text/javascript" src="js/jquery-1.7.1.js"></script>
    <script type="text/javascript" src="js/easySlider1.7.js"></script> 
```

**第二个滑块**

```
<script language="javascript" type="text/javascript" src="script/mootools-1.2.1-core.js"></script>
<script language="javascript" type="text/javascript" src="script/mootools-1.2-more.js"></script>
<script language="javascript" type="text/javascript" src="script/slideitmoo-1.1.js"></script> 
```

我尝试使用`mootools-1.2.1-core.js`更高版本，但仍然无法正常工作。请帮我。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-27T06:57:27.363

使用jquery[无冲突](http://api.jquery.com/jQuery.noConflict/)

```
var $j = jQuery.noConflict(); 
```

现在您可以在 jquery 代码中使用`$j`而不是。`$`

这些 javascript 库之间总是有可能发生冲突。我总是为我的所有 magento 网站使用 jquery no-conflict，因为 magento 使用 scriptaculous 作为其默认库。因此，如果您同时使用 jquery 和其他一些 js 库，最好使用无冲突。

# nhibernate - 代码映射：DELETE 语句与 REFERENCE 约束冲突

> ID：11682793
> 
> 赞同：0
> 
> 时间：2012-07-27T06:49:06.547
> 
> 标签：nhibernate

我正在使用带有代码映射的 nHibernate 3.3.1.4。

有 Person 和 Picture 对象，其中 Person 有一个 Picture 成员。图片有一个 Id (int) 和 Image (byte[]) 成员。上传新图片时，我想先删除旧图片如下：

```
var person = _personRepository.Get(personId);
var picture = partner.Picutre;
_pictureRepository.Delete(picture); 
```

但是，我的映射似乎不正确，因为我收到有关“DELETE 语句与 REFERENCE 约束冲突.....”的错误

这是我的映射：

```
mapper.Class<Person>(map => map.ManyToOne(x => x.Picture, pic => pic.Cascade(Cascade.DeleteOrphans)));

mapper.Class<Picture>(map => map.Property(x => x.Image, x => x.Type(NHibernateUtil.BinaryBlob))); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T07:04:24.373

你只需要设置`partner.Picutre`为`null`

```
var picture = partner.Picutre;
partner.Picutre = null
_pictureRepository.Delete(picture); 
```

在这里你完成了。

# java - 将图像设置在第二个图像上

> ID：11682795
> 
> 赞同：1
> 
> 时间：2012-07-27T06:49:22.907
> 
> 标签：java, blackberry

我是黑莓新手，我正在开发一个黑莓应用程序，我在其中制作了一个登录屏幕，其中一个白色条形图像放置在顶部，并且徽标应该出现在该条上。所以很简单，我为它取了两个 Horizo​​ntalFieldManager，对于 strip，它会显示得很好，但 logo 留在 strip 的下方。

**这是我的代码::**

```
((VerticalFieldManager) getMainManager()).setBackground(BackgroundFactory.createSolidBackground(0xEDEDED));

        HorizontalFieldManager hfm =  new HorizontalFieldManager(Field.FIELD_VCENTER );
        HorizontalFieldManager hfm2 =  new HorizontalFieldManager(Field.FIELD_VCENTER );
        Bitmap Topstrip = new Bitmap(Display.getWidth(), Display.getHeight());
        Bitmap MoneLogo = new Bitmap(Display.getWidth(), Display.getHeight());
        boolean lowRes = Display.getWidth() <= 320;
        if (lowRes)
        {
            // The device has a low resolution screen size
            Topstrip = Bitmap.getBitmapResource("topstripbg.png");
        }
        else
        {
            Topstrip = Bitmap.getBitmapResource("topstripbg-mdpi.png");
            MoneLogo= Bitmap.getBitmapResource("logo72X72.png");
            // The device has a high resolution screen size

        }
        BitmapField TopstripimgField = new BitmapField(Topstrip);
        BitmapField MoneLogoimgField = new BitmapField(MoneLogo);

        hfm.add(TopstripimgField);
        hfm2.add(MoneLogoimgField);
        add(hfm);
        add(hfm2); 
```

我想要这样::

```
--------------------------------------
 ____
|LOGO|           ** Strip ** 
|____|
-------------------------------------- 
```

还请向我推荐好的 UI 教程以获得最佳实践

**更新：**

![在此处输入图像描述](../Images/947e3124a9c5b75c621864c66b61741e.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T07:19:25.540

尝试这个 -

```
final Bitmap bg=Bitmap.getBitmapResource("background.png");
    VerticalFieldManager top = new VerticalFieldManager(Manager.NO_HORIZONTAL_SCROLL | Manager.NO_HORIZONTAL_SCROLLBAR | Manager.VERTICAL_SCROLL | Manager.VERTICAL_SCROLLBAR | Field.USE_ALL_WIDTH){
        public void paint(Graphics graphics) {
            graphics.setBackgroundColor(Color.WHITE);
            graphics.clear();
            graphics.drawBitmap(0, 0, bg.getWidth(),
                    bg.getHeight(), bg, 0, 0);
            super.paint(graphics);
        }

    };

final Bitmap logo= Bitmap.getBitmapResource("logo.png");
top .add(new BitmapField(logo));
add(top); 
```

# algorithm - 删除最旧，打印最大的数据结构

> ID：11682797
> 
> 赞同：2
> 
> 时间：2012-07-27T06:49:24.217
> 
> 标签：algorithm, data-structures

我正在为面试练习这个问题。

将在最短的时间内实现以下 3 个操作的最佳数据结构：

```
a.) insertion.
b.) removing the oldest element.
c.) printing the largest element. 
```

我能想到的最好的是最小/最大堆或优先级队列。对于操作 (a) 和 (c) ，堆是有效的，但我不确定，第二个操作“删除最旧的元素”可以使用堆有效地完成。

所以建议一个理想的数据结构，可以有效地实现所有 3 个操作。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-02T08:25:39.633

将某种最大堆用于操作**a、c**和一个额外的节点队列，按历史顺序存储它们怎么样？如果您使用[**Fibonacci Heap**](http://en.wikipedia.org/wiki/Fibonacci_heap)，您将获得操作**a**和**c的****O(1)**时间，以及操作b**的****O(logN)**时间。您只需在添加新元素时将指向新节点的指针推入队列，并在删除最旧元素时删除队列前面指向的节点（当然是从队列中弹出）。

 ******* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T07:32:59.763

我认为最老的他是指插入时间，而最大的元素是具有最高价值的元素。也许你可以把它写成 (value,insertiontimes) 的元组

也许您可以在最大堆中插入所有元素以获取值，并在几分钟内听到插入时间并连接它们。在我看来，有 2 个堆是连接的，而这些对是元组的表示。它不是很优雅，但它应该可以工作。每次插入和删除后，您需要检查堆属性。******

# jquery - 单个网站中的两个幻灯片放映不起作用

> ID：11682800
> 
> 赞同：0
> 
> 时间：2012-07-27T06:50:07.147
> 
> 标签：jquery, html, css, jquery-plugins, slideshow

我的网站上有 2 张 jquery 幻灯片。一张是`easyslider`我正在使用`easyslider1.7.js`，另一张幻灯片，`mootools-1.2.1-core.js`

我的 jquery 附件：

```
<!-- slide1 -->
<script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/easySlider1.7.js"></script>

<!--slide 2-->
<script language="javascript" type="text/javascript" src="script/mootools-1.2.1-core.js"></script>
<script language="javascript" type="text/javascript" src="script/mootools-1.2-more.js"></script>
<script language="javascript" type="text/javascript" src="script/slideitmoo-1.1.js"></script> 
```

如果我禁用`jquery.js`然后第二张幻灯片将起作用，但第一张将不起作用。如果我禁用`mootools-1.2.1-core.js`第一个意志；好好工作。

如何解决这个问题？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T07:22:31.573

我已经为你解决了。

您可以将 jQuery 循环插件用于滑块和轮播。

这是一个[演示](http://jsfiddle.net/QCEtL/)

有关更多信息，请参阅 jQuery[循环插件页面](http://jquery.malsup.com/cycle/)

# iphone - AVAudioPlayer 再次播放而不被称为播放。

> ID：11682803
> 
> 赞同：1
> 
> 时间：2012-07-27T06:50:12.750
> 
> 标签：iphone, avaudioplayer, mpmovieplayer, playing

我有 2 个视图和视频播放器和一个音频播放器。当按下第一个视图上的按钮时。然后音频和视频播放器开始播放。在电影停止播放后。出现下一个视图。当我在第二个视图上按下返回按钮时，正在播放相同的音频。不知道从哪里开始

```
- (id) init {
if (self = [super init]) {
    movieName = @"03";
    self.view = [[[OtsugeView alloc] initWithFrame:[[UIScreen mainScreen] applicationFrame]] autorelease];
}
return self;
}

- (void) toNext {
NSLog(@"OtsugeViewController:toNext");
[self.navigationController popViewControllerAnimated:NO];
}

-  (void) toToppage
{  
[[UIApplication sharedApplication] setStatusBarHidden:YES withAnimation:NO];        

[self.navigationController popToRootViewControllerAnimated:NO];
}

- (void) touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {
NSLog(@"Screen touch Otsuge View");
UIActionSheet *actionSheet = [[UIActionSheet alloc] initWithTitle:nil
delegate:self 
cancelButtonTitle:@"Cancel"  destructiveButtonTitle:nil           otherButtonTitles:@"Retry", @"Main Menu", nil];
actionSheet.actionSheetStyle = UIActionSheetStyleBlackTranslucent;

actionSheet.cancelButtonIndex = 0;
[actionSheet showInView:self.view]; // show from our table view (pops up in the middle of the table)
[actionSheet release]; 
```

}

```
- (void) actionSheet:(UIActionSheet *)actionSheet clickedButtonAtIndex:  (NSInteger)buttonIndex
{
switch (buttonIndex) {
    case 0: // Retry
        [self presentModalViewController:mMoviePlayer animated:YES];
        [self play];
        break;
    case 1: // Main Menu
        [self toToppage];
        break;
    case 2: // Cancel
        break;
    default:
        break;
}
}

- (void) viewWillAppear:(BOOL)animated {
[super viewWillAppear:animated];

mMoviePlayer.moviePlayer.backgroundView.backgroundColor = [UIColor blackColor];
[self playSound:@"taiko_1"];
[(OtsugeView *)self.view renewImageView];
}

- (void) viewDidAppear:(BOOL)animated{
[super viewDidAppear:animated];
}

- (void) dealloc {
[super dealloc];
}

@end 
```

而movieplayer类是

```
- (NSURL *)createURL
{
NSURL *mvURL;
NSBundle *bundle = [NSBundle mainBundle];
if (movieName != nil) {
    if (bundle) {
        NSString *mvPath = [bundle pathForResource:movieName ofType:@"m4v"];
        if (mvPath) {
            mvURL = [NSURL fileURLWithPath:mvPath];
        }
    }
}
return mvURL;
}

- (void)audioPlayerDidFinishPlaying:(AVAudioPlayer *)player successfully:(BOOL)flag {
[aAudioPlayer setDelegate:nil];
[aAudioPlayer release];
NSLog(@"MovieViewController:audioHasFinished");
NSLog(@"%@", aAudioPlayer.url);
}

- (void)playSound:(NSString *)file {
NSURL *avURL;
NSString *avPath = [[NSBundle mainBundle] pathForResource:file ofType:@"m4a"];
if (avPath) {
    avURL = [NSURL fileURLWithPath:avPath];
    aAudioPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL:avURL  error:nil];
    [aAudioPlayer setDelegate:self];
    [aAudioPlayer play];
    NSLog(@"MovieViewController:playSound");
}
}

- (void)toNext {
// implementation sub classes
NSLog(@"MovieViewController:toNext");
}

- (void) clearVideo{
[[NSNotificationCenter defaultCenter] removeObserver:self
                                                 name:MPMoviePlayerPlaybackDidFinishNotification
                                              object:mMoviePlayer.moviePlayer];
[mMoviePlayer release];
mMoviePlayer = nil;    
}

- (void) moviePlayBackDidFinish:(NSNotification*)notification
{
NSLog(@"MovieViewController:moviePlaybackDidFinish");

[[UIApplication sharedApplication] setStatusBarHidden:YES withAnimation:NO];        
[[NSNotificationCenter defaultCenter] removeObserver:self
                                                 name:MPMoviePlayerPlaybackDidFinishNotification
                                              object:mMoviePlayer.moviePlayer];
[self dismissModalViewControllerAnimated:YES];
[mMoviePlayer release];
mMoviePlayer = nil;
mPlayerPushed = NO;
[self toNext];
}

- (void) moviePreloadDidFinish : (NSNotification *)notification{
[self prepareFinished];
[[NSNotificationCenter defaultCenter] removeObserver:self
                                                 name:MPMoviePlayerLoadStateDidChangeNotification
                                              object:mMoviePlayer.moviePlayer];    
}

- (void) prepareFinished{

}

- (void) initPlayer{
if (mMoviePlayer != nil) {
    [mMoviePlayer release];
}

mMoviePlayer = [[MoviePlayerViewController alloc] initWithContentURL:[self createURL]];
// Added 3.2 versions 
[[NSNotificationCenter defaultCenter] removeObserver:mMoviePlayer 
                                                 name:MPMoviePlayerPlaybackDidFinishNotification object:mMoviePlayer.moviePlayer];
[mMoviePlayer.moviePlayer setShouldAutoplay:NO];
mMoviePlayer.moviePlayer.backgroundView.backgroundColor = [UIColor blackColor];
mMoviePlayer.modalTransitionStyle = UIModalTransitionStyleCrossDissolve;
mMoviePlayer.moviePlayer.controlStyle = MPMovieControlStyleNone;

[[NSNotificationCenter defaultCenter] addObserver:self 
                                          selector:@selector(moviePlayBackDidFinish:) 
                                              name:MPMoviePlayerPlaybackDidFinishNotification 
                                            object:mMoviePlayer.moviePlayer];

[[NSNotificationCenter defaultCenter] addObserver:self 
                                         selector:@selector(moviePreloadDidFinish:) 
                                              name:MPMoviePlayerLoadStateDidChangeNotification 
                                           object:mMoviePlayer.moviePlayer];
mPlayerPushed = YES;
}

- (void) play {
NSLog(@"MovieViewController:play");
[mMoviePlayer.moviePlayer prepareToPlay];
[mMoviePlayer.moviePlayer play];
}

- (void)viewWillAppear:(BOOL) animated {
if (!mMoviePlayer) {
    [self initPlayer];
}
[super viewWillAppear:animated];
}

- (BOOL)shouldAutorotateToInterfaceOrientation:  (UIInterfaceOrientation)interfaceOrientation {
// Return YES for supported orientations
return (interfaceOrientation == UIInterfaceOrientationPortrait);
}

- (void)didReceiveMemoryWarning {
NSLog(@"memory error!");
// Releases the view if it doesn't have a superview.
//[super didReceiveMemoryWarning];

// Release any cached data, images, etc that aren't in use.
}

- (void)viewDidUnload {
}

- (void)dealloc {
[nextController release];
[movieName release];
[super dealloc];
}

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T08:28:19.193

问题出在您的第二个代码块中：

该`- (void) viewWillAppear:(BOOL)animated`方法包含以下行：

```
[self playSound:@"taiko_1"]; 
```

这使它在每次显示视图时播放声音，包括在关闭不同的视图控制器后第二次显示。

如果您只希望它播放一次，那么您需要将其移动到其他地方，例如`viewDidLoad`：

```
- (void)viewDidLoad {
    [super viewDidLoad];
    [self playSound:@"taiko_1"];
} 
```

# c - 16 位数据类型范围内的混淆

> ID：11682804
> 
> 赞同：9
> 
> 时间：2012-07-27T06:50:16.297
> 
> 标签：c, char, int, range, primitive

在 16 位 C 编译器中，我们有 2 个字节用于存储整数，1 个字节用于存储字符。对于无符号整数，范围是 0 到 65535。对于有符号整数，范围是 -32768 到 32767。对于无符号字符，0 到 255。根据整数类型，有符号字符范围不应该是 -128 到 127。但是为什么-127到127？剩下的一点呢？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-07-27T08:55:17.203

我认为你混合了两件事：

1.  **标准**要求的`signed char`范围等`int`。
2.  如今，大多数硬件都**实现**了哪些范围。

只要实现的范围是标准要求的范围的超集，这些不一定必须相同。

根据[C 标准](http://www.open-std.org/jtc1/sc22/WG14/www/docs/n1256.pdf)`SCHAR_MIN`，和的实现定义值的`SCHAR_MAX` *大小（绝对值）应等于或大于*，并且符号相同：

```
SCHAR_MIN  -127
SCHAR_MAX  +127 
```

即**只有 255 个值，*而不是 256***。

但是，由兼容实现定义的限制在数量上可能比这些“更大”。即`[-128,+127]`标准也允许。而且由于大多数机器以[2 的补码形式](http://en.wikipedia.org/wiki/Signed_number_representations#Two.27s_complement)表示数字，`[-128,+127]`因此您最常看到的范围是。

实际上，*即使*`int`是 C 标准定义的最小范围也是关于零*对称的。*这是：

```
INT_MIN    -32767
INT_MAX    +32767 
```

即**只有 65535 值，*而不是 65536***。

但同样，大多数机器使用[2 的补码](http://en.wikipedia.org/wiki/Signed_number_representations#Two.27s_complement)表示，这意味着它们提供范围`[-32768,+32767]`。

虽然在[2 的补码形式](http://en.wikipedia.org/wiki/Signed_number_representations#Two.27s_complement)中，可以用 8 位（即`[-128,+127]`）表示 256 个有符号值，但还有其他有符号数表示是不可能的。

在[符号幅度表示](http://en.wikipedia.org/wiki/Signed_number_representations#Sign-and-magnitude_method)中，为符号保留一位，因此：

```
00000000
10000000 
```

两者的意思相同，即`0`（或者更确切地说，`+0`和`-0`）。

这意味着，一个价值被浪费了。因此，符号幅度表示只能以 8 位保存从 -127 ( `11111111`) 到 +127 ( ) 的值。`01111111`

在[一个的补码表示中](http://en.wikipedia.org/wiki/Signed_number_representations#Ones.27_complement)（通过按位 NOT 求反）：

```
00000000
11111111 
```

两者的意思相同，即`0`。

同样，只有从 -127 ( `10000000`) 到 +127 ( `01111111`) 的值可以用 8 位表示。

如果 C 标准要求范围为`[-128,+127]`，那么这将基本上排除使用这种表示的机器能够有效地运行 C 程序。他们需要一个额外的位来表示这个范围，因此需要 9 位而不是 8 位来存储有符号字符。基于上述的逻辑结论是：这就是 C 标准要求`[-127,+127]`有符号字符的原因。即允许实现自由选择适合其需求的整数表示形式，同时能够以有效的方式遵守标准。同样的逻辑也适用`int`。

# javascript - IE9中的文本框焦点事件和输入问题

> ID：11682807
> 
> 赞同：2
> 
> 时间：2012-07-27T06:50:35.347
> 
> 标签：javascript, jquery, internet-explorer-9, jquery-events, jquery-focusout

我有一个文本输入和一个与输入相邻的提交类型的按钮。我已将`focusout`事件处理程序绑定到输入并单击事件处理程序到按钮。现在，当我专注于输入然后按下`enter`时，`focusout`事件处理程序被触发并且按钮事件处理程序被触发。我只想`focusout`在文本框焦点丢失时触发。我应该怎么办 ？

代码 ：-

```
 <div >
     <span>Local Currency: </span>
     <input type='text' id='txtFocusElement'  />
     <button id="btnClickElement" >
         <span> Add new line</span>
     </button>
 </div> 
```

我使用选择器作为：

```
 $("#txtFocusElement").bind("focusout", function() {
      console.log('focusout');
 })
 $("#btnClickElement").bind("click", function() {
      console.log('click');
 }) 
```

并将上面的代码写在我在加载文档时调用的一个函数中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-24T09:38:48.880

它的 IE9 问题与 HTML 按钮标签有关。

所以我们应该尝试使用带有属性类型的 HTML 输入标签作为按钮。

上面的代码可以重写为：

```
<div >
     <span>Local Currency: </span>
     <input type='text' id='txtFocusElement'  />
     <input id="btnClickElement" type="button" value="Add new line" />
</div> 
```

使用这个我的问题得到解决。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T15:26:29.353

尝试附加到`mouseup`事件而不是`click`，这是我现在看到的唯一解决方案

您还可以添加对按下的鼠标按钮的检查，因此如果用户按下右键则不会触发

```
var ClickElementEventHandler = function(e) {
    if (e.which != 1) return;
    //your code
};

$("#btnClickElement").bind("mouseup",ClickElementEventHandler) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T06:57:37.440

您可以尝试将选择器更改为 input[type=text]。这只会在您专注于文本字段时触发。

# asp.net-mvc-3 - 如何在 MVC3 中将数据绑定到 Grid？

> ID：11682817
> 
> 赞同：3
> 
> 时间：2012-07-27T06:51:08.363
> 
> 标签：asp.net-mvc-3, pagination, html-table, webgrid

在过去的几天里，我一直在使用 MVC ......

我必须在网格中显示一堆数据......这些天我设法在表格中显示它，但我的要求是将它绑定到 jquery 网格或 Webgrid ......

我被困住了，我不知道该怎么做，期待想法和建议....

**控制器**

```
 public ActionResult Index()
    {
        var bugList = GetList();
        return View(bugList);
    }
    public List<ProjectModel> GetList()
    {
        var modelList = new List<ProjectModel>();
        using (SqlConnection conn = new SqlConnection("Data Source=LMIT-0039;Initial Catalog=BugTracker;Integrated Security=True"))
        {
            conn.Open();
            SqlCommand dCmd = new SqlCommand("Select * from Projects", conn);
            SqlDataAdapter da = new SqlDataAdapter(dCmd);
            DataSet ds = new DataSet();
            da.Fill(ds);
            conn.Close();
            for (int i = 0; i <= ds.Tables[0].Rows.Count - 1; i++)
            {
                var model = new ProjectModel();
                model.ID = Convert.ToInt16(ds.Tables[0].Rows[i]["ProjectID"]);
                model.projectName = ds.Tables[0].Rows[i]["projectName"].ToString();
                model.Description = ds.Tables[0].Rows[i]["Description"].ToString();
                model.status = ds.Tables[0].Rows[i]["Status"].ToString();
                modelList.Add(model);
            }
        }
        return modelList;
    } 
```

**查看 (ASPX)**

```
<table>
<thead align="center">
<tr class="BoldCenterAlignHeaderStyle">    

    <th>
        ProjectName
    </th>    
    <th>
       Status
    </th>  
    <th align="center">
    Edit
    </th>          
</tr>
</thead> 
     <% foreach (var item in Model) { %>  
      <tr>        
        <td> 
        <%:Html.LabelForModel(item.projectName) %> 
        </td>       
       <td>
       <%:Html.LabelForModel(item.status) %>
       </td>
       <td align="center">
         <a href="<%:Url.Action("Edit",new{id=item.ID}) %>" class="Edit"><img src="../../Content/edit.gif"  height="8px"/></a>
          <%--<%:Html.ActionLink("Edit", "Edit", new { id = item.ID })%> --%>          
         <%--  <a href="<%:Url.Action("Delete",new{id=item.ID}) %>" class="Delete"><img src="../../Content/delete.gif" height="8px" /></a>--%>
         </td>        
       </tr>
   <%} %> 
```

如果我可以在表格中进行分页，我该怎么做，否则我应该如何在网格中显示他的数据，谁能帮助我......谁能解释一下我该怎么做

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T07:07:14.673

您可以为此使用 Webgrid。

以下是一些了解 webgrid 工作原理的链接

**网络网格简介**

[http://www.mikesdotnetting.com/Article/154/Looking-At-The-WebMatrix-WebGrid](http://www.mikesdotnetting.com/Article/154/Looking-At-The-WebMatrix-WebGrid) [http://msdn.microsoft.com/en-us/magazine/hh288075.aspx](http://msdn.microsoft.com/en-us/magazine/hh288075.aspx)

**webgrid中的分页**

[http://yassershaikh.com/webgrid-paging-with-pager-method-in-razor-mvc/](http://yassershaikh.com/webgrid-paging-with-pager-method-in-razor-mvc/)

**Webgrid 中的高级（高效）分页**

[http://www.dotnetcurry.com/ShowArticle.aspx?ID=615](http://www.dotnetcurry.com/ShowArticle.aspx?ID=615)

希望这可以帮助..！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T07:13:33.087

网络网格示例：

```
@model IEnumerable<ProjectModel>
@{
     var grid = new WebGrid(
     source: Model,
     rowsPerPage: 4);
}
@grid.GetHtml(
    tableStyle: "grid",
    headerStyle: "header",
    rowStyle: "row",
    footerStyle: "footer",
    alternatingRowStyle: "altRow",
    columns: grid.Columns (
      grid.Column("projectName"),
      grid.Column("ProjectID")
)) 
```

# linux - linux（CLI）通过共享保管箱（文件夹`）链接下载文件，无需帐户

> ID：11682818
> 
> 赞同：1
> 
> 时间：2012-07-27T06:51:11.227
> 
> 标签：linux, dropbox

我正在考虑使用 Dropbox 来上传我的 Web 应用程序的源代码。对于这个文件夹，我会创建一个共享链接。我喜欢用这个链接在我的测试服务器上下载所有最新的源文件（而不是使用 s/FTP）。

现在我知道你可以通过安装他们的版本来使用 linux 的 dropbox，但它需要创建帐户。我**不想使用帐户**，当然也不想使用自己的帐户。

无论如何使用共享（文件夹）链接，并在没有帐户的情况下下载该文件夹命令行中的所有文件（可能类似于 wget）？**不需要**实时同步，用一些bash 脚本触发下载就可以了。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T08:11:19.993

如果您对公开链接感到满意（我认为这不是一个好主意），那么您可以创建一个包含文件链接列表的文件，然后创建一个 bash 脚本来遍历文件的每一行使用 wget 获取链接

如果你想使用身份验证，你必须注册一个 Dropbox API 密钥，然后创建一个脚本（在 python、ruby 或 java 等中）来验证和获取文件。

如果您对保管箱没有特定需求，我建议您使用 git（或类似的）。使用 git，您只需在服务器上创建存储库并将其克隆到桌面上。然后您可以编辑您的文件并将其推送到服务器......这要容易得多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T02:07:32.990

Rogier，github 已经成为托管代码的规范。还有其他选项（Sourceforge、Google Code、Beanstalk），或者您可以`git`在自己的计算机上设置私有存储库。

在我浏览器历史的某个深处，有一篇关于如何做到这一点的文章。

然而，有点谷歌搜索出现了[http://news.ycombinator.com/item?id=1652414](http://news.ycombinator.com/item?id=1652414)。如果您自己找不到一些关于如何`git`在计算机上设置 repo 的令人满意的说明，请告诉我。

# c++ - Visual C++ 中极其奇怪的代码生成，几乎相同的代码；3倍速差

> ID：11682819
> 
> 赞同：3
> 
> 时间：2012-07-27T06:51:13.967
> 
> 标签：c++, performance, visual-c++, code-generation

下面的代码（从我的较大代码中减少，在我对它的速度与 的速度相比感到惊讶之后`std::vector`）有两个独特的特征：

*   当我对源代码进行*非常*小的修改（总是使用 Visual C++ 2010 编译它）时，它的运行**速度提高了三倍以上。***`/O2`*

     ***注意：**为了让这个更有趣，我在最后给出了修改的提示，所以你可以花一些时间自己弄清楚改变。原始代码大约 500 行，所以我花了很长时间才确定它，因为修复看起来与性能无关。* 
**   *即使输出循环看起来相同*，它的运行速度也比 with快**20** % ！`/MTd``/MT`* 

 **微小修改案例的汇编代码的区别是：

*   *未经*修改的循环（~300 ms）：

    ```
    00403383  mov         esi,dword ptr [esp+10h] 
    00403387  mov         edx,dword ptr [esp+0Ch] 
    0040338B  mov         dword ptr [edx+esi*4],eax 
    0040338E  add         dword ptr [esp+10h],ecx 
    00403392  add         eax,ecx 
    00403394  cmp         eax,4000000h 
    00403399  jl          main+43h (403383h) 
    ```

*   循环*（* `/MTd`看起来相同！但〜270毫秒）：

    ```
    00407D73  mov         esi,dword ptr [esp+10h] 
    00407D77  mov         edx,dword ptr [esp+0Ch] 
    00407D7B  mov         dword ptr [edx+esi*4],eax 
    00407D7E  add         dword ptr [esp+10h],ecx 
    00407D82  add         eax,ecx 
    00407D84  cmp         eax,4000000h 
    00407D89  jl          main+43h (407D73h) 
    ```

*   循环*修改*（~100 ms！！）：

    ```
    00403361  mov         dword ptr [esi+eax*4],eax 
    00403364  inc         eax  
    00403365  cmp         eax,4000000h 
    0040336A  jl          main+21h (403361h) 
    ```

现在我的问题是，**为什么**上面的更改会产生它们的效果？这太奇怪了！

尤其是第一个——它根本不应该影响任何东西（一旦你看到代码中的差异），但它会显着降低速度。

对此有解释吗？

```
#include <cstdio>
#include <ctime>
#include <algorithm>
#include <memory>
template<class T, class Allocator = std::allocator<T> >
struct vector : Allocator
{
    T *p;
    size_t n;
    struct scoped
    {
        T *p_;
        size_t n_;
        Allocator &a_;
        ~scoped() { if (p_) { a_.deallocate(p_, n_); } }
        scoped(Allocator &a, size_t n) : a_(a), n_(n), p_(a.allocate(n, 0)) { }
        void swap(T *&p, size_t &n)
        {
            std::swap(p_, p);
            std::swap(n_, n);
        }
    };
    vector(size_t n) : n(0), p(0) { scoped(*this, n).swap(p, n); }
    void push_back(T const &value) { p[n++] = value; }
};
int main()
{
    int const COUNT = 1 << 26;
    vector<int> vect(COUNT);
    clock_t start = clock();
    for (int i = 0; i < COUNT; i++) { vect.push_back(i); }
    printf("time: %d\n", (clock() - start) * 1000 / CLOCKS_PER_SEC);
} 
```

* * *

### **提示（将鼠标悬停在下方）**：

> 它与分配器有关。

### **答案**：

> 更改`Allocator &a_`为`Allocator a_`。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-27T07:45:41.427

`/MT`对于它的价值，我对和之间的区别的猜测`/MTd`是，`/MTd`堆分配将绘制堆内存用于调试目的，使其更有可能被分页 - 这发生在你开始时钟之前。

如果你“预热”向量分配，你会得到和 相同的`/MT`数字`/MTd`：

```
vector<int> vect(COUNT);

// make sure vect's memory is warmed up
for (int i = 0; i < COUNT; i++) { vect.push_back(i); }
vect.n = 0; // clear the vector

clock_t start = clock();
for (int i = 0; i < COUNT; i++) { vect.push_back(i); }
printf("time: %d\n", (clock() - start) * 1000 / CLOCKS_PER_SEC); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T09:39:54.647

奇怪的是 Allocator& 会破坏别名链，而 Allocator 不会。

你可以试试

```
for(int i=vect.n; i<COUNT;++i){
    ...
} 
```

强制 i 和 n 同步。这将使vc更容易优化。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T21:17:30.863

emm...似乎“最快”的代码

```
00403361  mov         dword ptr [esi+eax*4],eax 
00403364  inc         eax  
00403365  cmp         eax,4000000h 
0040336A  jl          main+21h (403361h) 
```

有点过度优化。在这个循环中，vect.n 完全被忽略了……如果循环中发生了异常，vect.n 将无法正确更新。

所以答案可能是：当你使用 Allocator 时，vc 会计算出 vect.n 将不再使用，因此可以忽略它。这很神奇，但总的来说它不是那么有用和危险。**

# android - 比较存储在android中字符串资源中的字符串？

> ID：11682822
> 
> 赞同：6
> 
> 时间：2012-07-27T06:51:24.590
> 
> 标签：android

我有一个按钮，（喜欢）是从字符串资源写入的，单击时我想将喜欢切换为不同，反之亦然。

如何比较按钮包含与字符串资源的相似或不同？

我的 string.xml 包含

```
<string name="like">Like</string>
<string name="unlike>unlike</string> 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-27T07:29:30.517

尝试这个..

```
bt.setText(getString(R.string.txt1));
bt.setOnClickListener(new OnClickListener() {
    @Override
    public void onClick(View v) {
        myStr = bt.getText().toString();
        if((myStr.equals(getString(R.string.txt1)))) {
            bt.setText(getString(R.string.txt2));
        } else if ((myStr.equals(getString(R.string.txt2)))) {
            bt.setText(getString(R.string.txt1));
        }
    }
}); 
```

在字符串.xml

```
<string name="txt1">11111111111</string>
<string name="txt2">2222222222222222</string> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-27T07:00:15.520

您可以使用 getString 方法

```
 if(btn1.getText().toString().compareTo(getResources().getString(R.string.app_name)) == 0)
    {
      // do some code here
    } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-27T07:00:51.687

使用下面的代码

```
 Button button = (Button)findViewById(R.id.btn1);

if(button.getText().toString().equals(getString(R.string.like)))
{
    button.setText(getString(R.string.unlike));
}
else
{
    button.setText(getString(R.string.like));
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T07:03:30.963

你可以这样做：：

```
String value=buttonname.getText().toString   

//this Will Give the Text On the Button 
```

现在像这样比较值并更改按钮名称::

```
if(value.equals("Like"))  
 {
   buttonname.setText("UnLike"); 
 }
else
{
  buttonname.setText("Like");
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-27T07:01:40.373

尝试：

```
String text = getResources().getString(R.string.texttest);
Button button = (Button)this.findViewById(R.id.btntest);
button.setOnClickListener(new OnClickListener() {
  @Override
  public void onClick(View v) {
    if(button.getText().toString().equals(text))
    {
      // do some code here
    }
  }
}); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-27T07:01:44.117

您可以通过这种方式检索标签（按钮上的文本）。

```
Button button=(Button) findViewById(R.id.button1);
Log.d("Text",""+button.getText()); 
```

# javascript - setTimeout() 在设定时间之前不断调用回调函数

> ID：11682823
> 
> 赞同：1
> 
> 时间：2012-07-27T06:51:26.493
> 
> 标签：javascript, backbone.js, coffeescript, settimeout

我正在尝试在我的项目中为评论编辑功能设置一个计时器，为此我使用了 setTimeout() 15 分钟。这是我的代码（Backbone + Coffee-script）：

在我的主干视图中，我有 -

```
initialize : =>  
  @model.bind "change", @render  
  @render() 

render : =>  
  @model.func1() 
```

在模型中 -

```
func1: ->  
  if @func2() < 900
    console.log 'in func1'
    @setEditTimeOut()

func2: ->
# this returns total time left (in seconds) for a comment to edit

setEditTimeOut: ->
  console.log 'here in set time out'
  setTimeout (=> @func3()), @func2()*1000

func3 : ->  
  console.log 'in func3'  
  @.trigger 'change' 
```

问题是在一段时间后重复`setTimeOut`调用`func3()`，我试图把 console.log 来检查调用顺序，我在一段时间后得到这个：

```
in func3  
in func1  
here in set time out 
```

我在这里错过了什么吗？谢谢你的时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T09:57:07.963

首先，您很可能设置了许多超时，因为`setEditTimeOut`在 15 分钟的时间范围内，只要模型发生变化就会被调用。您需要确保在注册新超时之前取消超时：

```
setEditTimeOut: ->
  console.log 'here in set time out'
  clearTimeout(@timeoutHandle) if @timeoutHandle
  @timeoutHandle = setTimeout (=> @func3), @func2()*1000 
```

然后，（我认为，根据您的描述）您需要确保在超时处理程序期间没有注册更多超时：

```
func3 : ->  
  @inCallback = true
  console.log 'in func3'  
  @.trigger 'change'
  @inCallback = false

setEditTimeout: ->
  return if @inCallback
  # ... 
```

最后一点......我注意到你的回调说`(=> @func3)`这真的很奇怪（它根本不应该工作。这是一个错字吗？它至少应该读`(=> @func3())`）。相反，我认为你想要`setTimeout @func3, @func2()*1000`，然后当你定义`func3`，uwe 胖箭头：`func3: =>`

# javascript - 当svg的高度动态变化时如何使用viewbox

> ID：11682826
> 
> 赞同：9
> 
> 时间：2012-07-27T06:51:39.410
> 
> 标签：javascript, svg, viewbox

我有一个可调整大小的 div。它有两个内部 div。其中一个内部 div 中有一个 svg 元素。

在 svg 元素中，我动态添加和删除内容，以便每次在我的 svg 中添加内容。我通过添加 20px 来增加它的高度，当我删除时，我将高度减去 20px。当我的 svg 高度大于其父 div 时，父 div 中会出现一个滚动条。同样，当 svg 高度小于父 div 时，将删除滚动条。

当我调整大小时，问题就开始了。我在我的 svg 中添加了一个用于调整大小的视图框选项。但是当我增加尺寸时，我的一些 svg 元素是不可见的。当我减小尺寸时，我的 svg 被放置在较低的位置，留下空白空间。

在我看来，如何用 viewbox 属性处理 svg 位置/高度，这一切都搞砸了。

我试图制作一个小提琴来以某种方式模拟这种行为。但是这里 svg 中的元素不是动态添加的，并且 svg 高度是恒定的。

[链接到我的代码](http://jsfiddle.net/LnH2c/2/)

任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-27T07:45:12.777

**最近更新：**

最重要的是，如果您要使用 SVG，最好熟悉规范或阅读[J. Eisenberg 的“SVG Essentials”之](http://shop.oreilly.com/product/9780596002237.do)类的明确指南，因为这并不是您一开始可能会想到的微不足道的事情。

然后，如果我理解正确，还有另一种方法[jsFiddle](http://jsfiddle.net/LnH2c/3/)。

首先，正确设置`viewBox`属性的值。在您当前的示例中，应该`viewBox="0 0 130 220"`使您的所有内容都可见（您必须指定至少 220 作为最后一个数字，因为您的最后一个组`<g>`被翻译**，即它的坐标系向下移动到 200 个单位**，如果您不这样做，您的内容将不可见，因为它远远超出了您的视图框的最外面的 y 点，在您的 jsfiddle 中设置为 70）。

`preserveAspectRatio`其次，指定应该是的正确值`preserveAspectRatio="xMinYMax meet"`，这意味着（[由 J. Eisenberg 提供的“SVG Essentials”](http://shop.oreilly.com/product/9780596002237.do)提供）：

> 将 viewBox 的最小 x 与视口的左角对齐。
> 
> 将 viewBox 的最大 y 值与视口的底部边缘对齐。

`meet`表示满足内容，如果不适合，则不对其进行切片。

第三，如果您要将元素添加到 svg 的底部，则必须`viewBox`相应地更改值，因为如果您将插入其中，例如：

```
<g transform="translate(0, 300)">
     <text>text 55 </text>
</g> 
```

它将发生在您的 viewBox 之外，它的最大 y 点为 220（如果您按照我之前所说的那样设置它）

现在希望有帮助，让我知道。

**老东西**

`style="height:200px"`从您的 svg中删除

然后如果你需要高度，你可以动态改变你的高度`svg`

```
var $wrapper = $('#resize'),
    $svg = $('#svg2');
$wrapper.resizable({
    handles: 'se',
    aspectRatio: 400/200,
    resize: function(ev, ui) {
        $svg.css('height', ui.size.height);
    }
}); 
```

`'#resize'`- 是`id`包装的`svg`

我现在很困惑你想要什么。您`viewbox`在`svg`. 这意味着您的`svg`遗嘱中只有一部分是可见的。尝试删除`viewbox`并查看结果是否让您满意。

然后它全部可见并且通常调整为父 div

# dynamics-gp - 在 Dynamics GP 中创建新用户

> ID：11682827
> 
> 赞同：1
> 
> 时间：2012-07-27T06:51:43.490
> 
> 标签：dynamics-gp

我在 Dynamics GP 公司中创建了新用户“testUser”，可以说“TWO”，同一台服务器上还有另一个数据库是非 GP 公司数据库，可以说“TEST”。我需要在我的一些 Dynamics GP 表单上阅读 TEST db 中的几个表。我在数据库“TWO”中创建了一个视图来读取该表中的记录。

```
create view TestView 
as 
select description from TEST..table1
GO 
```

但是当以 GP 表单访问此视图时，我的用户 testUser 出现权限错误。我去了 SQL Server 并为用户 testUser 标记数据库“TEST”。之后，我在视图 TestView 上收到选择权限消息。跑完之后

```
grant select, insert, update, delete on TestView to testUser. 
```

我没有更多的问题。但是，每当在 Dynamics GP 中创建新用户时，是否有任何查询可以向用户授予权限？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T19:16:33.250

您应该将权限授予数据库上的 DYNGRP 角色。

```
grant select, insert, update, delete on TestView to DYNGRP. 
```

这应该给所有 gp 用户这些权限。之后创建的任何用户都将拥有这些权限。

# android - 启动 AVD 时控制台中显示“模拟器：警告：打开音频输入失败”

> ID：11682829
> 
> 赞同：15
> 
> 时间：2012-07-27T06:51:57.387
> 
> 标签：android, android-emulator, avd

```
"emulator: warning: opening audio input failed" 
```

每次**启动 AVD时，****控制台**都会显示上述消息，然后模拟器**没有声音**。

 ****我试图**删除 AVD**并一次又一次地创建一个新的，但它对解决问题没有帮助。

我也在谷歌上搜索了很多次，但我没有发现任何有用的东西。

有趣的是，人们倾向于建议忽略这个问题，因为 AVD 在没有声音的情况下仍然可以正常工作。

但是我正在编写一个与声音相关的 Android 应用程序，我真的需要一个可行的解决方案来让**AVD 再次“说话”**。

非常感谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-12-26T12:33:09.147

您可以手动禁用音频输入设置：转到`your-avd-path/config.ini`然后将行更改`hw.audioInput=yes`为`hw.audioInput=no`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-27T07:11:04.783

打开 AVD 管理器。在创建的任何现有虚拟设备上单击编辑或创建一个新设备。在创建虚拟设备窗口中，硬件选项卡上有一个**新**按钮。单击该按钮时，您将获得许多属性。选择必要的属性（如**Audio Playback Support**）。我认为这会奏效。

**编辑**：这在早期版本的**AVD Manager**中是可能的。Android 将 AVD 更新为新的（我们现在看到的）。在新的 AVD 创建窗口中没有启用/禁用音频/视频的选项，并且在[AVD 文档](http://developer.android.com/tools/devices/emulator.html)中也没有相关说明。

但是，他们指定您可以使用 Emulator 播放音频和视频。

> AVD 允许您定义模拟手机的某些硬件方面，并允许您创建许多配置来测试许多 Android 平台和硬件排列。一旦您的应用程序在模拟器上运行，它就可以使用 Android 平台的服务来调用其他应用程序、访问网络、**播放音频和视频**、存储和检索数据、通知用户以及呈现图形过渡和主题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-04T22:16:32.097

The way I solved my issue: Make sure you do not have anything else "using" or diverting your audio driver.

In my instance I also work with audio devices for music applications. This one in particular was "Jack Audio". So I disabled the Jack Audio server and my audio device came back.****

# algorithm - FB 配置文件连接

> ID：11682830
> 
> 赞同：4
> 
> 时间：2012-07-27T06:52:02.247
> 
> 标签：algorithm

我试图寻找我面试的一个问题的答案。但没有得到解决。任何人都可以帮助我解决这个问题。下面是问题描述：

给定两个人的名字 A 和 B。你知道两者都存在于 FB 上。你必须告诉他们之间是否有任何联系。如果存在连通性，那么您必须说出连通性的确切路径。通过连通性，他们的意思是 B 可能是 C 的朋友，而 C 是 A 的朋友。通过这种方式，A 和 B 之间存在连接，路径将是 A -> B- > C

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T07:03:44.177

您可以使用[双向搜索](http://en.wikipedia.org/wiki/Bidirectional_search)。

主要思想：

1.  AGroup = {A}，BGroup = {B}。

2.  while intersect(AGroup,BGroup) = 空集：

    2.1 展开 AGroup 中尚未展开的每个人，并将结果插入 AGroup。

    2.2 展开 BGroup 中尚未展开的每个人，并插入结果 BGroup。

    2.3 如果AGroup和BGroup没有变化，返回“A和B未连接”。

3.  将 S 表示为 AGroup 和 BGroup 中的人。

现在你有了从 A 到 S 的路径，以及从 B 到 S 的路径。

返回 A->...->S->...->B。

# cruisecontrol.net - 如何使用 CruiseControl.Net 自动构建 Asp.net 4.0 Web 应用程序

> ID：11682833
> 
> 赞同：0
> 
> 时间：2012-07-27T06:52:09.493
> 
> 标签：cruisecontrol.net, asp.net-4.0

我是 Cruise-control.Net 和自动构建概念的新手。您能否建议我如何使用 Cruise control.net 为示例 asp.net 4.0 构建应用程序执行自动构建。请让我知道使用 Cruise-control.net 的先决条件是什么

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T16:39:08.790

我不久前写的一篇博文正是您要找的。[与 Cruise Control .NET 的持续集成](http://enterpriseyness.com/2009/12/continuous-integration-with-cruise-control-net-nant/)

此方法不需要您在构建计算机上安装 Visual Studio。不过，您需要在构建服务器上安装 .NET 4.0。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T15:34:39.563

如果您使用的是 Visual Studio，它将为您提供一个项目文件（.csproj 或 .vbproj）。您可以使用巡航控制中的 msbuild 任务来构建这个将构建网站的项目。如果需要，可以执行 aspnet_compiler 来编译/验证网站中的其他资源，例如 aspx 页面中的行代码，或者。Cshtml 剃刀视图。

巡航控制不应该有其他先决条件来做到这一点。

# process - 使用线程时进程用户空间中的堆栈数

> ID：11682834
> 
> 赞同：0
> 
> 时间：2012-07-27T06:52:15.303
> 
> 标签：process, pthreads, stack

当使用 pthread_create() 时，会为进程用户空间中的每个 pthread 创建一个单独的堆栈

这是否意味着如果我在 main() N 内调用 pthread_create() ，那么进程中的实际线程数以及相应的用户空间中的堆栈数将为 N + 1 ？

我只是被这张照片弄糊涂了

[https://computing.llnl.gov/tutorials/pthreads/images/thread.gif](https://computing.llnl.gov/tutorials/pthreads/images/thread.gif)

因为它没有显示 main() 的任何堆栈

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T23:44:26.100

main() 也是一个线程。如果不是，它将无法执行，因此无法执行任何操作:)

所以，是的。如果在 main() 中创建 N 个线程，最终会得到 N+1 个线程，因此会产生 N+1 个堆栈。

# cordova - Blackberry Webworks 项目在构建后未启动黑莓模拟器

> ID：11682837
> 
> 赞同：0
> 
> 时间：2012-07-27T06:52:19.987
> 
> 标签：cordova, blackberry-simulator, blackberry-webworks

我正在开发一个编译得很好的项目，在控制台或错误日志中没有任何错误。项目构建成功后，黑莓模拟器会正常加载。但是，该项目实际上并未加载到模拟器中并放在下载中。

如果我在构建成功时打开模拟器，模拟器将在屏幕中间显示加载圆圈图标，但从不执行任何操作。我试过清理模拟器并重新启动我的机器。但没有任何效果。我已经在 Torch 9800 和 Bold 9700 上尝试过模拟器。我认为运行时错误会显示在控制台的某个地方，但那里或命令提示符屏幕中没有显示任何新内容。如果我再次运行任何应用程序，那么它会显示警报等待，应用程序正在加载。

关于出了什么问题的任何想法？

谢谢！

编辑

查看解决方案内部的构建文件夹后，压缩文件夹就在那里，但是有 StandardInstall 或 OTAInstall 文件夹。标准安装文件夹包含项目的 .alx .cod .cls 和 .cso 文件。

# c# - 使用 Visual Studio 2010 开发 Metro 应用程序？

> ID：11682847
> 
> 赞同：4
> 
> 时间：2012-07-27T06:53:42.917
> 
> 标签：c#, .net, visual-studio-2010, microsoft-metro

谁能指导我，如何使用 Microsoft Visual Studio 2010 创建 Metro 应用程序。？

创建 Metro 应用程序需要哪些模板。

***更新：*** 如果有一些第三方库可用，请告诉我。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-27T07:20:27.630

Metro 开发旨在在 Windows 8 和 Visual Studio 20212 环境中完成。您可以将**Diskpart**（Windows 7 命令工具）与 Windows 自动安装工具包一起使用，以与当前系统并行安装 Windows 8 实例。

您需要
1 个 ISO；[http://www.microsoft.com/sv-se/download/details.aspx?id=5753](http://www.microsoft.com/sv-se/download/details.aspx?id=5753)
2 自动安装套件：[http ://www.microsoft.com/sv-se/download/details.aspx?id= 5753](http://www.microsoft.com/sv-se/download/details.aspx?id=5753)
3 大约一到两个小时（取决于您对 Visual Studio 设置的计数）。

结果将是您磁盘上大约 50-60GB 的文件。完成设置后，引导加载程序将为您提供当前的 Windows 版本和 Windows 8 作为选项。

也许您不想花时间在设置上，所以这可能不是您想看到的答案。我完全理解。不过，使用完整的 Windows 8 环境有几个体验优势。如果需要，我可以输入更多详细信息。

Diskpart可以这样使用，

```
create vdisk file=c:\VHD\Win8.vhd maximum=60000 type=expandable

select vdisk file=c:\VHD\Win8.vhd
attach vdisk
create partition primary
assign letter=v 
```

之后，您可以看到为虚拟磁盘保留空间的实际文件。在解压后的 ISO 文件的源文件夹中，可以找到 install.wim。该文件将与下一个基于命令的工具自动化安装工具包一起使用。

```
imagex /info i:\sources\intall.wim 
imagex /apply i:\sources\install.wim 1 v:\ 
```

它将从解压缩的 ISO 实例化静默安装到引导磁盘。最后，应将虚拟启动文件添加为可选启动

```
C:\Windows\System32\bcdboot v:\Windows 
```

从重新启动并选择 Windows 8 开始，Windows 8 的安装将继续从 Metro 设计。虽然在您键入产品密钥之后。最好的部分是在 Windows 8 中，您仍然可以完全访问当前的 Windows 驱动器。

请**注意**！这是一个在不影响当前 Windows 的情况下安装 Windows 8 的过程的简要说明，除了占用大量磁盘空间。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-27T06:55:24.653

在不使用第三方库（例如[DevComponents](http://www.devcomponents.com/dotnetbar/metro-ui-controls.aspx) ）的情况下，您无法直接在 Visual Studio 2010 中创建 Metro 风格的应用程序。请记住，这将是一个看起来像 Metro 风格的应用程序的**winforms**应用程序。

对于真正的 Metro 风格应用，您必须在 Windows 8 上使用[Visual Studio 2012](http://msdn.microsoft.com/en-us/library/windows/apps/br211384.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T07:14:23.720

Metro 应用程序只能在 Visual Studio 2012 上开发。

# php - AVG 和 COUNT 函数在 SQL 查询中没有给出正确的结果

> ID：11682850
> 
> 赞同：1
> 
> 时间：2012-07-27T06:54:27.017
> 
> 标签：php, mysql

我有以下查询，我试图按照平均评分最高的成员首先显示的顺序显示成员，如果多个成员具有相同的平均评分，则将考虑最高评分。

此处，会员 A 被 3 位访客评分，平均评分值为 5，而会员 B 已被 2 位访客评分，平均评分值为 5

因此，根据以下查询，会员 A 应显示在第一位，因为他有 5 个平均评分并由 3 人评分，而会员 B 应显示在第二位。

但是成员 B 显示第一个，成员 A 显示第二个，所以这是问题。请让我知道我在查询中做错了什么。

```
SELECT m.*,mc.* 
FROM      t_member m
LEFT JOIN tr_member_category mc ON m.memberpkid=mc.memberpkid
LEFT JOIN tr_comment c 
          ON m.memberpkid=c.memberpkid 
             AND c.approved='YES' AND c.visible='YES' 
WHERE m.visible='YES' AND m.approved='YES' 
       AND m.gender='FEMALE' AND mc.archivecatpkid=1 
GROUP BY m.memberpkid
ORDER BY avg(c.ratingvalue) DESC, COUNT(c.ratingvalue) DESC 
```

非常感谢您，KRA

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T07:39:06.157

将 AVG 和 COUNT 函数从 ORDER 子句移到 SELECT 子句中。给他们一个好名字，然后订购那些。IE

```
SELECT m.*, mc.*, AVG(c.ratingvalue) AS average_rating, COUNT(c.ratingvalue) AS number_of_ratings
FROM      t_member m
LEFT JOIN tr_member_category mc ON m.memberpkid=mc.memberpkid
LEFT JOIN tr_comment c 
      ON m.memberpkid=c.memberpkid 
         AND c.approved='YES' AND c.visible='YES' 
WHERE m.visible='YES' AND m.approved='YES' 
   AND m.gender='FEMALE' AND mc.archivecatpkid=1 
GROUP BY m.memberpkid
ORDER BY average_rating DESC, number_of_ratings DESC 
```

编辑：记住聚合函数返回一个值。如果将它们放在 ORDER BY 子句中，它会显示“按此值排序”，而不是“按此**列**排序”。在编写 SQL 时请记住这一点。

# c++ - 具有堆对象和破坏冲突的数据类型的浅拷贝

> ID：11682851
> 
> 赞同：1
> 
> 时间：2012-07-27T06:54:29.413
> 
> 标签：c++, destructor, shallow-copy

我有以下数据类型：

```
class A{
public:
    A(){
    }
    ~A(){
        for(size_t i=0; i<b_elements.size(); i++)
            delete b_elements[i];
        b_elements.clear();
    }
    vector<B*> b_elements;
    //other operations ...
}; 
```

实现了访问者设计模式以对`A`.

当我想处理的子集`b_elements`并将访问者专门应用于这些元素时，问题就开始了。

一种解决方案是创建另一个对象，`A`它`b_elements`指向原始对象中的所需元素，并在新创建的对象上调用访问者。但是（如您所料）问题是当新对象被销毁时，析构函数将删除那些会影响原始对象的引用作为副作用。

**提示：**我无法从原始对象创建所需的副本，`b_elements`因为它太昂贵了。

我的问题是，这是一种常见的模式吗？避免此类问题的最佳做法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T06:59:56.600

共享指针的存储向量：

```
class A{
public:
    A(){
    }
    vector<std::shared_ptr<B>> b_elements;
    //other operations ...
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T07:12:35.213

或向量的共享指针

```
class A{
public:
    A(){
    }
    std::shared_ptr< std::vector<B*> > b_elements;
    //other operations ...
}; 
```

使用这种方法，最后只会销毁向量，而不是元素。

# git - 拉入存储库后如何自动运行另一个应用程序？

> ID：11682852
> 
> 赞同：2
> 
> 时间：2012-07-27T06:54:31.573
> 
> 标签：git, push, githooks, pull

我有 2 个 Git 存储库。推入我的主存储库后自动拉另一个（通过钩子）。什么**命令**可以帮助我运行外部应用程序来做额外的工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T07:08:47.857

[`post-merge`钩子](http://www.kernel.org/pub/software/scm/git/docs/githooks.html#_post_merge)应该在`git pull`.

确保避免“ [git windows post pull](https://stackoverflow.com/questions/6286982/git-windows-post-pull) ”或“ [git hook post-merge - 错误：无法运行](https://stackoverflow.com/questions/3563904/git-hook-post-merge-error-cannot-run)”中提到的问题。

[您在“ Git `post-merge`hook to auto-fire rails migrations](http://lostechies.com/jasonmeridth/2010/02/27/git-post-merge-hook-to-auto-fire-rails-migrations/) ”中有一个“额外工作”的例子

# c# - 将 C++ 函数指针设置为 C# 委托

> ID：11682853
> 
> 赞同：4
> 
> 时间：2012-07-27T06:54:50.920
> 
> 标签：c#, c++, callback, com-interop

我有一个非托管 c++ 应用程序作为 COM 客户端和一个 C# COM 服务器。现在我希望 COM 服务器可以调用 C++ 函数。

C＃ ：

```
[ClassInterface(ClassInterfaceType.AutoDual)]
public class SomeType
{
    [UnmanagedFunctionPointer(CallingConvention.Cdecl)]
    public delegate void DeleCallBack(string info);
    public DeleCallBack CallBack;
    public void  SetCallBack(ref IntPtr ptr)
    {
        CallBack = (DeleCallBack)Marshal.GetDelegateForFunctionPointer(ptr, typeof(DeleCallBack));
    }
} 
```

C++：

```
HRESULT hr = E_FAIL;
CComPtr<WindowsFormsApplicationVC9::_SomeType> spTmp;
hr = spTmp.CoCreateInstance(__uuidof(WindowsFormsApplicationVC9::SomeType));
if (SUCCEEDED(hr))
{
    spTmp->SetCallBack(OnCallBack);
}
void  OnCallBack(BSTR info)
{
    // c++ function call...;
} 
```

我不确定将 OnCallBack 函数指针传递给 SetCallBack 是否正确。我注意到调用 GetDelegateForFunctionPointer 的一些示例应该 GetProcessAddress 来获取函数指针地址，但我不能这样做，因为可能有不同的函数名称的不同 c++ COM 客户端。

有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T08:55:48.260

一种方法是通过 公开您的 C++ 函数`__declspec(dllexport)`，然后简单地为这些函数编写 P/Invoke。现在您可以将这些 P/Invoke 函数用作委托。

从本质上讲，这本质上是`GetProcAddress`一种方法，但 C# 编译器使它在语法上更适合您。

# wordpress - 播放所有的用户选择wordpress画廊插件

> ID：11682854
> 
> 赞同：1
> 
> 时间：2012-07-27T06:54:52.217
> 
> 标签：wordpress

wordpress 中是否有任何免费的图库插件可以包含视频、图像并且可以生成自定义大小的缩略图，而且插件应该是响应式的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T07:51:49.473

我建议你看看 Flexslider 2；

[http://flex.madebymufffin.com/examples/thumbnail-slider.html](http://flex.madebymufffin.com/examples/thumbnail-slider.html)

它不是作为 Wordpress 插件出现的，但这里有一个相当全面的教程的链接，可以帮助你把它变成一个；

[http://wp.tutsplus.com/tutorials/create-a-responsive-slider-plugin-with-flexslider/](http://wp.tutsplus.com/tutorials/create-a-responsive-slider-plugin-with-flexslider/)

# java - Spring：如何在 Webapp 和独立程序中获取应用程序上下文

> ID：11682858
> 
> 赞同：6
> 
> 时间：2012-07-27T06:55:07.113
> 
> 标签：java, spring, spring-mvc, architecture

我是 Spring 框架的新手。我们想在web应用中引入它（3.1），目前在web层使用struts，在业务层使用service facades和business objects，在持久层使用自己写的JDBC DAO（都是紧密耦合的！）

我创建了几个 .xml 配置，一个用于 servlet 配置，只扫描 com.mydomain.web 包。另一个在服务层 appContext-service.xml 上扫描 com.mydomain.bs 和 .bo 包，另一个在 DAO 层 appContext-persistence.xml 上扫描 .dao 包。

我们有四个具有适当项目依赖关系的 Eclipse 项目：Web、Business、Common（包含域对象、DTO、异常等）、DataAccess。

我想尽可能使用注释，并且已经创建了一个 MVC 控制器、一个带有接口的新服务和一个带有接口的新 dao，使用 JDBC 模板，这一切都很好。

现在我的问题是：

1.  我们不能一次重写所有代码，我们在这里讨论的是更大的代码库。但是，当新创建的服务也需要来自（尚未）Spring 感知的服务和业务对象时，我该怎么办？它们不是 bean，也不是由 Spring 创建的。我将如何获得我的服务 bean？

2.  我们有几个独立的应用程序用于批处理、定期清理文件系统和数据库表等。它们由 cron (UNIX cron) 触发，因此有自己的 JVM。考虑到不同的 .xml 配置，我将如何在这里最好地使用 Spring 服务？

3.  我的设置有任何意义吗？

感谢您的任何见解。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-27T07:31:30.390

1.  让 spring 处理所有 bean 的生命周期是很常见的，否则可能会有点棘手。不是 Spring bean 的对象有望在某处初始化。使该初始化程序成为 Spring bean 并使其具有应用程序上下文意识

    ```
     public class SpringContextHolder implements ApplicationContextAware {

       private static ApplicationContext applicationContext = null;

        public static ApplicationContext getApplicationContext() {
            return applicationContext;
        }
        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {
             this.applicationContext = applicationContext;
        }
        public void init(){

            ServiceBean1 srv1 = (ServiceBean1)applicationContext.getBean("serviceBean1");

            myNonSpringObject.setService1(srv1); // Or something
        }
    } 
    ```

2.  设置一个独立的 spring 应用程序非常容易。只需创建一个 Spring XML 并连接您的 bean（通过扫描/注释或 XML）。不建议在 main 方法中执行此操作，但您可以轻松找出如何在独立应用程序中获取此设置。请记住，您的应用程序本身不应该真正做太多的生命周期逻辑，而是让 Spring 来做。

    ```
    public class StandaloneSpringApp{
      public static void main(String[] args){
        ClassPathXmlApplicationContext ctx = new ClassPathXmlApplicationContext("applicationContext.xml");

        SomeBeanType bean = (SomeBeanType)ctx.getBean("SomeBeanName");
        bean.doProcessing(); // or whatever
      }

    } 
    ```

3.  您的设置非常有意义，即使我无法可视化您的整个范围，但您的方法是大型模块化弹簧应用程序的良好起点。

# iphone - 我可以同时使用 Threading 进行拖动和 UIButton 事件吗？

> ID：11682860
> 
> 赞同：0
> 
> 时间：2012-07-27T06:55:21.977
> 
> 标签：iphone, multithreading, ipad, animation

我的 iPad 应用程序有一个自定义用户界面，并且同时拖动了一个对象和按钮事件。我的问题是，当我拖动对象时，动画开始工作，而当我离开对象时，动画仍然工作了一段时间。同时，当我尝试按下按钮或拖动另一个对象时，它在动画完成之前无法工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T07:29:08.480

如果您想与`UIButton`动画交互：
使用（核心）动画；您不能在动画周期中与元素交互（常规方式）。只有当动画完成后，您才能再次与他们互动。您可以在主视图上创建自己的触摸处理程序，以检查触摸是否“靠近”动画按钮。

如果您想与“休息”交互：
确保使用[UIViewAnimationOptionAllowUserInteraction](http://developer.apple.com/library/ios/documentation/uikit/reference/uiview_class/uiview/uiview.html#//apple_ref/c/econst/UIViewAnimationOptionAllowUserInteraction)参数为对象设置动画：

`During an animation, user interactions are temporarily disabled for the views being animated. (Prior to iOS 5, user interactions are disabled for the entire application.) If you want users to be able to interact with the views, include the UIViewAnimationOptionAllowUserInteraction constant in the options parameter.`

# mongodb - sbt compile 产生“object casbah 不是包 com.mongodb 的成员”

> ID：11682866
> 
> 赞同：4
> 
> 时间：2012-07-27T06:55:48.130
> 
> 标签：mongodb, scala, sbt

我的目录结构：

```
-build.sbt
-src
--main
---scala
----MongoConnect.scala
-lib 
```

我的`build.sbt`：

```
name := "mongodb-experiments"

version := "0.1"

libraryDependencies ++= Seq(
  "com.mongodb.casbah" %% "casbah" % "3.0.0-SNAPSHOT"
)

resolvers += "Sonatype OSS Snapshots" at "https://oss.sonatype.org/content/repositories/snapshots" 
```

我的 MongoConnect.scala 程序：

```
import com.mongodb.casbah.Imports._
object MongoConnect{
  def main(args: Array[String]){
    println("Hello Mongo")
  }
} 
```

为什么会`sbt compile`导致

> 对象 casbah 不是包 com.mongodb 的成员

?

```
sbt compile
[info] Set current project to mongodb-experiments (in build file:/Users/hrishikeshparanjape/git-public/mongodb-experiments/)
[info] Updating {file:/Users/hrishikeshparanjape/git-public/mongodb-experiments/}default-fc358e...
[info] Resolving org.scala-lang#scala-library;2.9.1 ...
[info] Resolving com.mongodb.casbah#casbah_2.9.1;3.0.0-SNAPSHOT ...
[info] Resolving com.mongodb.casbah#casbah-util_2.9.1;3.0.0-SNAPSHOT ...
[info] Resolving org.slf4j#slf4j-api;1.6.0 ...
[info] Resolving org.mongodb#mongo-java-driver;2.7.2 ...
[info] Resolving org.scalaj#scalaj-collection_2.9.1;1.2 ...
[info] Resolving org.scala-tools.time#time_2.8.0;0.2 ...
[info] Resolving joda-time#joda-time;1.6 ...
[info] Resolving com.mongodb.casbah#casbah-commons_2.9.1;3.0.0-SNAPSHOT ...
[info] Resolving com.mongodb.casbah#casbah-core_2.9.1;3.0.0-SNAPSHOT ...
[info] Resolving com.mongodb.casbah#casbah-query_2.9.1;3.0.0-SNAPSHOT ...
[info] Resolving com.mongodb.casbah#casbah-gridfs_2.9.1;3.0.0-SNAPSHOT ...
[info] Done updating.
[info] Compiling 1 Scala source to /Users/hrishikeshparanjape/git-public/mongodb-experiments/target/scala-2.9.1/classes...
[error] /Users/hrishikeshparanjape/git-public/mongodb-experiments/src/main/scala/MongoConnect.scala:1: object casbah is not a member of package com.mongodb
[error] import com.mongodb.casbah.Imports._
[error]                    ^
[error] one error found
[error] {file:/Users/hrishikeshparanjape/git-public/mongodb-experiments/}default-fc358e/compile:compile: Compilation failed
[error] Total time: 7 s, completed Jul 26, 2012 11:53:35 PM 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T10:25:18.490

为什么要使用旧版本的 casbah 快照存储库？

```
libraryDependencies ++= Seq(
  "org.mongodb" %% "casbah" % "2.4.1"
)

resolvers += "typesafe" at "http://repo.typesafe.com/typesafe/releases/" 
```

%% 登录依赖将选择在 sbt scala 版本中配置

对于 3.x 版本有一个里程碑

```
libraryDependencies ++= Seq(
      "org.mongodb" %% "casbah" % "3.0.0-M2"
    ) 
```

我记得在 3.x 中导入应该更改为：

```
import com.mongodb.casbah._ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T07:26:55.850

将您的 build.sbt 文件修改为：

```
name := "mongodb-experiments"

version := "0.1"

libraryDependencies ++= Seq(
  "com.mongodb.casbah" % "casbah_2.9.0" % "2.2.0-SNAPSHOT"
)

resolvers += "Sonatype OSS Snapshots" at "https://oss.sonatype.org/content/repositories/snapshots" 
```

**由于某种原因，3.0.0 不起作用。**

# r - R中两个同名的函数

> ID：11682873
> 
> 赞同：7
> 
> 时间：2012-07-27T06:56:21.450
> 
> 标签：r

> **可能重复： R**
> [中的屏蔽函数](https://stackoverflow.com/questions/2842120/masked-functions-in-r)
> [R：屏蔽函数](https://stackoverflow.com/questions/4879377/r-masked-functions)
> [函数命名冲突](https://stackoverflow.com/questions/11490359/function-naming-conflicts)

如果我有两个包：A 和 B。假设`funfun`A 中有函数命名 `funfun`，B 中也有函数命名。当我加载 A 和 B 时，我如何使用第一个`funfun`？

```
require(A)
require(B) 
```

如果我想`funfun`在A中使用，我该怎么写？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-27T06:58:44.383

您可以像这样明确地引用包和函数组合：

```
A::funfun
B::funfun 
```

* * *

在不寻常的情况下，您可能不得不引用未在命名空间中导出的函数，这种情况下您需要使用：

```
A:::funfun
B:::funfun 
```

（但这是不寻常的，因为非导出函数不构成包 API 的一部分，这些函数可能会在包的后续版本中更改而不会发出警告。）

# java - 运行我的应用程序时，Java 运行时环境检测到一个致命错误

> ID：11682878
> 
> 赞同：4
> 
> 时间：2012-07-27T06:57:03.917
> 
> 标签：java, grails, fatal-error, jvm-crash

运行程序时出现以下错误，无法弄清楚解决方案是什么我还查看了所有具有类似错误的主题，但无法解决我的问题。这里出现错误：我的应用程序是基于 Groovy 和 Grails 2.0.4 版构建的

```
A fatal error has been detected by the Java Runtime Environment:

EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x6dbc9a19, pid=5092, tid=3852

JRE version: 6.0_25-b06
Java VM: Java HotSpot(TM) Server VM (20.0-b11 mixed mode windows-x86 )
Problematic frame:
V  [jvm.dll+0x59a19]

**Complete stack-trace**

 #
# A fatal error has been detected by the Java Runtime Environment:
#
#  Internal Error (oops/constantPoolOop.hpp:305), pid=8184, tid=3580
#  guarantee(tag_at(which).is_klass()) failed: Corrupted constant pool
#
# JRE version: 6.0_25-b06
# Java VM: Java HotSpot(TM) Server VM (20.0-b11 mixed mode windows-x86 )
# If you would like to submit a bug report, please visit:
#   http://java.sun.com/webapps/bugreport/crash.jsp
#

---------------  T H R E A D  ---------------

Current thread (0x44837800):  JavaThread "http-bio-8080-exec-10" daemon [_thread_in_vm, id=3580, stack(0x54bf0000,0x54c40000)]

Stack: [0x54bf0000,0x54c40000],  sp=0x54c3b0e0,  free space=300k
Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)
V  [jvm.dll+0x1484aa]
V  [jvm.dll+0x1433cc]
V  [jvm.dll+0x75bd]
V  [jvm.dll+0x7b018]
V  [jvm.dll+0x52b57]
j  E__Workspace_opal_grails_app_views_lifecycle__s2PublicTraininglifecycleEdit_gsp.run()Ljava/lang/Object;+1241
j  org.codehaus.groovy.grails.web.pages.GroovyPageWritable.writeTo(Ljava/io/Writer;)Ljava/io/Writer;+608
j  org.codehaus.groovy.grails.web.pages.GroovyPagesTemplateRenderer.makeTemplate(Lgroovy/text/Template;Ljava/util/Map;Ljava/lang/Object;Ljava/io/Writer;)V+290
j  org.codehaus.groovy.grails.web.pages.GroovyPagesTemplateRenderer.render(Lorg/codehaus/groovy/grails/web/servlet/mvc/GrailsWebRequest;Lorg/codehaus/groovy/grails/web/pages/GroovyPageBinding;Ljava/util/Map;Ljava/lang/Object;Ljava/io/Writer;)V+151
j  org.codehaus.groovy.grails.web.pages.GroovyPagesTemplateRenderer$render.call(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+40
j  org.codehaus.groovy.grails.plugins.web.taglib.RenderTagLib$_closure10.doCall(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;+53
j  sun.reflect.GeneratedMethodAccessor436.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+48

Java frames: (J=compiled Java code, j=interpreted, Vv=VM code)
j  E__Workspace_opal_grails_app_views_lifecycle__s2PublicTraininglifecycleEdit_gsp.run()Ljava/lang/Object;+1241
j  org.codehaus.groovy.grails.web.pages.GroovyPageWritable.writeTo(Ljava/io/Writer;)Ljava/io/Writer;+608
j  org.codehaus.groovy.grails.web.pages.GroovyPagesTemplateRenderer.makeTemplate(Lgroovy/text/Template;Ljava/util/Map;Ljava/lang/Object;Ljava/io/Writer;)V+290
j  org.codehaus.groovy.grails.web.pages.GroovyPagesTemplateRenderer.render(Lorg/codehaus/groovy/grails/web/servlet/mvc/GrailsWebRequest;Lorg/codehaus/groovy/grails/web/pages/GroovyPageBinding;Ljava/util/Map;Ljava/lang/Object;Ljava/io/Writer;)V+151
j  org.codehaus.groovy.grails.web.pages.GroovyPagesTemplateRenderer$render.call(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+40
j  org.codehaus.groovy.grails.plugins.web.taglib.RenderTagLib$_closure10.doCall(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;+53
j  sun.reflect.GeneratedMethodAccessor436.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+48
J  java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
J  com.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(Ljava/lang/reflect/Method;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
J  groovy.lang.MetaMethod.doMethodInvoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
j  groovy.lang.MetaClassImpl.invokeMethod(Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;ZZ)Ljava/lang/Object;+1036
J  groovy.lang.ExpandoMetaClass.invokeMethod(Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;ZZ)Ljava/lang/Object;
j  groovy.lang.MetaClassImpl.invokeMethod(Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/Object;+10
j  groovy.lang.Closure.call([Ljava/lang/Object;)Ljava/lang/Object;+8
j  org.codehaus.groovy.grails.web.pages.GroovyPage.invokeTag(Ljava/lang/String;Ljava/lang/String;ILjava/util/Map;I)V+390
j  org.codehaus.groovy.grails.web.pages.GroovyPage$invokeTag.callCurrent(Lgroovy/lang/GroovyObject;[Ljava/lang/Object;)Ljava/lang/Object;+43
j  E__Workspace_opal_grails_app_views_publicTraining__form_gsp.run()Ljava/lang/Object;+13582
j  org.codehaus.groovy.grails.web.pages.GroovyPageWritable.writeTo(Ljava/io/Writer;)Ljava/io/Writer;+608
j  org.codehaus.groovy.grails.web.pages.GroovyPagesTemplateRenderer.makeTemplate(Lgroovy/text/Template;Ljava/util/Map;Ljava/lang/Object;Ljava/io/Writer;)V+290
j  com.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(Ljava/lang/reflect/Method;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
J  groovy.lang.MetaMethod.doMethodInvoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
j  groovy.lang.MetaClassImpl.invokeMethod(Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;ZZ)Ljava/lang/Object;+1036
J  groovy.lang.ExpandoMetaClass.invokeMethod(Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;ZZ)Ljava/lang/Object;
j  groovy.lang.MetaClassImpl.invokeMethod(Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/Object;+10
j  groovy.lang.Closure.call([Ljava/lang/Object;)Ljava/lang/Object;+8
j  groovy.lang.Closure.call()Ljava/lang/Object;+6
j org.codehaus.groovy.grails.web.taglib.GroovyPageTagBody.executeClosure(Ljava/lang/Object;)Ljava/lang/Object;+27
j  org.codehaus.groovy.grails.web.taglib.GroovyPageTagBody.captureClosureOutput(Ljava/lang/Object;Z)Ljava/lang/Object;+93
j  org.codehaus.groovy.grails.web.taglib.GroovyPageTagBody.call()Ljava/lang/Object;+3
j  java_util_concurrent_Callable$call.call(Ljava/lang/Object;)Ljava/lang/Object;+12
j  org.codehaus.groovy.grails.plugins.web.taglib.FormTagLib$_closure9.doCall(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;+1156
v  ~StubRoutines::call_stub
J  sun.reflect.NativeMethodAccessorImpl.invoke0(Ljava/lang/reflect/Method;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
J  sun.reflect.NativeMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
J  java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
J  com.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(Ljava/lang/reflect/Method;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
J  groovy.lang.MetaMethod.doMethodInvoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
j  groovy.lang.MetaClassImpl.invokeMethod(Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;ZZ)Ljava/lang/Object;+1036
J  groovy.lang.ExpandoMetaClass.invokeMethod(Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;ZZ)Ljava/lang/Object;
j  groovy.lang.MetaClassImpl.invokeMethod(Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/Object;+10
j  groovy.lang.Closure.call([Ljava/lang/Object;)Ljava/lang/Object;+8
j  org.codehaus.groovy.grails.web.pages.GroovyPage.invokeTag(Ljava/lang/String;Ljava/lang/String;ILjava/util/Map;I)V+390
j  sun.reflect.GeneratedMethodAccessor343.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+220
J  java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
J  com.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(Ljava/lang/reflect/Method;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
J  groovy.lang.MetaMethod.doMethodInvoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
j  groovy.lang.MetaClassImpl.invokeMethod(Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;ZZ)Ljava/lang/Object;+1036
J  groovy.lang.ExpandoMetaClass.invokeMethod(Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;ZZ)Ljava/lang/Object;
j  groovy.lang.MetaClassImpl.invokeMethod(Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/Object;+10
j  groovy.lang.MetaClassImpl.invokeMethod(Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;ZZ)Ljava/lang/Object;+504
J  groovy.lang.ExpandoMetaClass.invokeMethod(Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;ZZ)Ljava/lang/Object;
j  groovy.lang.MetaClassImpl.invokeMethod(Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/Object;+10
j  org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(Lgroovy/lang/GroovyObject;[Ljava/lang/Object;)Ljava/lang/Object;+18
j  E__Workspace_opal_grails_app_views_publicTraining_edit_gsp$_run_closure2.doCall()Ljava/lang/Object;+1555
v  ~StubRoutines::call_stub
J  sun.reflect.NativeMethodAccessorImpl.invoke0(Ljava/lang/reflect/Method;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
J  sun.reflect.NativeMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
J  java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
J  com.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(Ljava/lang/reflect/Method;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
J  groovy.lang.MetaMethod.doMethodInvoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
j  groovy.lang.MetaClassImpl.invokeMethod(Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;ZZ)Ljava/lang/Object;+1036
J  groovy.lang.MetaClassImpl.invokeMethod(Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;ZZ)Ljava/lang/Object;+1036
J  groovy.lang.ExpandoMetaClass.invokeMethod(Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;ZZ)Ljava/lang/Object;
j  groovy.lang.MetaClassImpl.invokeMethod(Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/Object;+10
j  org.codehaus.groovy.grails.plugins.web.taglib.SitemeshTagLib$_closure3.doCall(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;+23
v  ~StubRoutines::call_stub
J  sun.reflect.NativeMethodAccessorImpl.invoke0(Ljava/lang/reflect/Method;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
J  sun.reflect.NativeMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
J  java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
J  com.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(Ljava/lang/reflect/Method;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
J  groovy.lang.MetaMethod.doMethodInvoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;
j  groovy.lang.MetaClassImpl.invokeMethod(Ljava/lang/Class;Ljava/lang/Object;Ljava/lang/String;[Ljava/lang/Object;ZZ)Ljava/lang/Object;+1036
J  org.apache.catalina.core.ApplicationFilterChain.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+101
j  org.springframework.web.filter.OncePerRequestFilter.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+65
j  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+151
j  org.apache.catalina.core.ApplicationFilterChain.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+101
j  org.springframework.web.filter.OncePerRequestFilter.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+65
j  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+151
j  org.apache.catalina.core.ApplicationFilterChain.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+101
j  org.apache.catalina.core.ApplicationDispatcher.invoke(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Lorg/apache/catalina/core/ApplicationDispatcher$State;)V+393
j  org.apache.catalina.core.ApplicationDispatcher.processRequest(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Lorg/apache/catalina/core/ApplicationDispatcher$State;)V+98
j  org.apache.catalina.core.ApplicationDispatcher.doForward(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+338
j  org.apache.catalina.core.ApplicationDispatcher.forward(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+55
j  org.codehaus.groovy.grails.web.util.WebUtils.forwardRequestForUrlMappingInfo(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Lorg/codehaus/groovy/grails/web/mapping/UrlMappingInfo;Ljava/util/Map;Z)Ljava/lang/String;+56
j  org.codehaus.groovy.grails.web.util.WebUtils.forwardRequestForUrlMappingInfo(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Lorg/codehaus/groovy/grails/web/mapping/UrlMappingInfo;Ljava/util/Map;)Ljava/lang/String;+5
j  org.codehaus.groovy.grails.web.util.WebUtils.forwardRequestForUrlMappingInfo(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Lorg/codehaus/groovy/grails/web/mapping/UrlMappingInfo;)Ljava/lang/String;+6
j  org.codehaus.groovy.grails.web.mapping.filter.UrlMappingsFilter.doFilterInternal(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Ljavax/servlet/FilterChain;)V+644
j  org.springframework.web.filter.OncePerRequestFilter.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+90
j  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+151
j  org.apache.catalina.core.ApplicationFilterChain.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+101
j  org.codehaus.groovy.grails.web.sitemesh.GrailsPageFilter.obtainContent(Lcom/opensymphony/sitemesh/ContentProcessor;Lcom/opensymphony/sitemesh/webapp/SiteMeshWebAppContext;Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Ljavax/servlet/FilterChain;)Lcom/opensymphony/sitemesh/Content;+52
j  org.codehaus.groovy.grails.web.sitemesh.GrailsPageFilter.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+126
j  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+151
j  org.apache.catalina.core.ApplicationFilterChain.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+101
j  javax.servlet.FilterChain$doFilter.call(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;+22
j  org.grails.plugin.resource.DevModeSanityFilter.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+166
j  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+151
j  org.apache.catalina.core.ApplicationFilterChain.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+101
j  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+70
j  org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(Lorg/springframework/security/web/FilterInvocation;)V+87
j  org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+15
j  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+196
j  org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+17
j  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+196
j  org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+148
j  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+196
j  org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+309
j  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+196
j  org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+17
j  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+196
j  org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+28
j  org.codehaus.groovy.grails.plugins.springsecurity.RequestHolderAuthenticationFilter.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+61
j  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+196
j  org.codehaus.groovy.grails.plugins.springsecurity.MutableLogoutFilter.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+193
j  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+196
j  org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+165
j  org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+196
j  org.springframework.security.web.FilterChainProxy.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+148
j  org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(Ljavax/servlet/Filter;Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+5
j  org.springframework.web.filter.DelegatingFilterProxy.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+71
j  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+151
j  org.apache.catalina.core.ApplicationFilterChain.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+101
j  org.codehaus.groovy.grails.web.servlet.mvc.GrailsWebRequestFilter.doFilterInternal(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Ljavax/servlet/FilterChain;)V+98
j  org.springframework.web.filter.OncePerRequestFilter.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+90
j  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+151
j  org.apache.catalina.core.ApplicationFilterChain.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;)V+101
j  org.codehaus.groovy.grails.web.filters.HiddenHttpMethodFilter.doFilterInternal(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;Ljavax/servlet/FilterChain;)V+63
j  org.springframework.web.filter.OncePerRequestFilter.doFilter(Ljavax/servlet/ServletRequest;Ljavax/servlet/ServletResponse;Ljavax/servlet/FilterChain;)V+90
j  
---------------  P R O C E S S  ---------------

Java Threads: ( => current thread )
=>0x44837800 JavaThread "http-bio-8080-exec-10" daemon [_thread_in_vm, id=3580, stack(0x54bf0000,0x54c40000)]
  0x5362d800 JavaThread "http-bio-8080-exec-9" daemon [_thread_blocked, id=5800, stack(0x54ba0000,0x54bf0000)]
  0x4812b400 JavaThread "http-bio-8080-exec-8" daemon [_thread_blocked, id=620, stack(0x54b50000,0x54ba0000)]
  0x4465d800 JavaThread "http-bio-8080-exec-7" daemon [_thread_blocked, id=7132, stack(0x54b00000,0x54b50000)]
  0x45005400 JavaThread "http-bio-8080-exec-6" daemon [_thread_blocked, id=6928, stack(0x54ab0000,0x54b00000)]
  0x47847800 JavaThread "http-bio-8080-exec-5" daemon [_thread_blocked, id=5920, stack(0x54a60000,0x54ab0000)]
  0x45e6c400 JavaThread "http-bio-8080-exec-4" daemon [_thread_blocked, id=6184, stack(0x54a10000,0x54a60000)]
  0x45811400 JavaThread "http-bio-8080-exec-3" daemon [_thread_blocked, id=7420, stack(0x549c0000,0x54a10000)]
  0x44767400 JavaThread "http-bio-8080-exec-2" daemon [_thread_blocked, id=7432, stack(0x545f0000,0x54640000)]
  0x46a9d400 JavaThread "http-bio-8080-exec-1" daemon [_thread_blocked, id=1944, stack(0x54500000,0x54550000)]
  0x4cc90400 JavaThread "Thread-11" daemon [_thread_blocked, id=2744, stack(0x54970000,0x549c0000)]
  0x494b4c00 JavaThread "http-bio-8080-AsyncTimeout" daemon [_thread_blocked, id=6940, stack(0x54920000,0x54970000)]
  0x46080400 JavaThread "http-bio-8080-Acceptor-0" daemon [_thread_in_native, id=7116, stack(0x548d0000,0x54920000)]
  0x46081800 JavaThread "ContainerBackgroundProcessor[StandardEngine[Tomcat]]" daemon [_thread_blocked, id=6324, stack(0x54880000,0x548d0000)]
  0x45a58c00 JavaThread "com.springpeople.opal.Requestmap.data" daemon [_thread_blocked, id=596, stack(0x54830000,0x54880000)]
  0x47752400 JavaThread "org.codehaus.groovy.grails.plugins.orm.auditable.AuditLogEvent.data" daemon [_thread_blocked, id=3628, stack(0x547e0000,0x54830000)]
  0x44643400 JavaThread "com.springpeople.opal.Role.data" daemon [_thread_blocked, id=7136, stack(0x54790000,0x547e0000)]
  0x47bb1400 JavaThread "net.sf.ehcache.CacheManager@d3e679" daemon [_thread_blocked, id=7568, stack(0x54740000,0x54790000)]
  0x45c14c00 JavaThread "pool-4-thread-5" [_thread_blocked, id=6016, stack(0x546f0000,0x54740000)]
  0x466b9400 JavaThread "pool-4-thread-4" [_thread_blocked, id=7796, stack(0x546a0000,0x546f0000)]
  0x4598cc00 JavaThread "pool-4-thread-3" [_thread_blocked, id=7036, stack(0x54650000,0x546a0000)]
  0x44945c00 JavaThread "pool-4-thread-2" [_thread_blocked, id=4476, stack(0x545a0000,0x545f0000)]
  0x455b4c00 JavaThread "pool-4-thread-1" [_thread_blocked, id=4100, stack(0x54550000,0x545a0000)]
  0x50d6c400 JavaThread "pool-3-thread-5" [_thread_blocked, id=7928, stack(0x544b0000,0x54500000)]
  0x44f9cc00 JavaThread "pool-3-thread-4" [_thread_blocked, id=7260, stack(0x54460000,0x544b0000)]
  0x455ccc00 JavaThread "pool-3-thread-3" [_thread_blocked, id=6596, stack(0x54410000,0x54460000)]
  0x46697400 JavaThread "pool-3-thread-2" [_thread_blocked, id=8132, stack(0x543c0000,0x54410000)]
  0x45a37c00 JavaThread "pool-3-thread-1" [_thread_blocked, id=1580, stack(0x54370000,0x543c0000)]
  0x45a60c00 JavaThread "FileSystemWatcher: files=#411 cl=java.net.URLClassLoader@388c74" daemon [_thread_blocked, id=8156, stack(0x54320000,0x54370000)]
  0x455f7c00 JavaThread "FileSystemWatcher: files=#2 cl=org.codehaus.groovy.grails.cli.support.GrailsRootLoader@bf2d5e" daemon [_thread_blocked, id=6792, stack(0x542d0000,0x54320000)]
  0x4663f400 JavaThread "pool-2-thread-1" [_thread_blocked, id=7532, stack(0x54280000,0x542d0000)]
  0x46ecb800 JavaThread "Synchronizer (Spring UAA/1.0.1)" daemon [_thread_blocked, id=7636, stack(0x54230000,0x54280000)]
  0x43f58000 JavaThread "Low Memory Detector" daemon [_thread_blocked, id=2444, stack(0x44430000,0x44480000)]
  0x43f5d800 JavaThread "C2 CompilerThread1" daemon [_thread_blocked, id=7048, stack(0x443e0000,0x44430000)]
  0x4419a400 JavaThread "C2 CompilerThread0" daemon [_thread_blocked, id=4968, stack(0x44390000,0x443e0000)]
  0x43f1dc00 JavaThread "Attach Listener" daemon [_thread_blocked, id=6332, stack(0x44140000,0x44190000)]
  0x43f1c400 JavaThread "Signal Dispatcher" daemon [_thread_blocked, id=4840, stack(0x440f0000,0x44140000)]
  0x43f0e400 JavaThread "Finalizer" daemon [_thread_blocked, id=7184, stack(0x440a0000,0x440f0000)]
  0x43f09c00 JavaThread "Reference Handler" daemon [_thread_blocked, id=5716, stack(0x44050000,0x440a0000)]
  0x002b8000 JavaThread "main" [_thread_blocked, id=7204, stack(0x008c0000,0x00910000)]

Other Threads:
  0x43f05c00 VMThread [stack: 0x44000000,0x44050000] [id=2736]
  0x43f5a000 WatcherThread [stack: 0x44480000,0x444d0000] [id=7560]

VM state:not at safepoint (normal execution)

VM Mutex/Monitor currently owned by a thread: None

Heap
 PSYoungGen      total 229952K, used 135835K [0x33ad0000, 0x43ad0000, 0x43ad0000)
  eden space 197568K, 61% used [0x33ad0000,0x3b152438,0x3fbc0000)
  from space 32384K, 44% used [0x41b30000,0x42954a78,0x43ad0000)
  to   space 32192K, 0% used [0x3fbc0000,0x3fbc0000,0x41b30000)
 PSOldGen        total 524288K, used 213382K [0x13ad0000, 0x33ad0000, 0x33ad0000)
  object space 524288K, 40% used [0x13ad0000,0x20b31830,0x33ad0000)
 PSPermGen       total 262144K, used 85837K [0x03ad0000, 0x13ad0000, 0x13ad0000)
  object space 262144K, 32% used [0x03ad0000,0x08ea3650,0x13ad0000)

Code Cache  [0x00a10000, 0x01208000, 0x03a10000)
 total_blobs=2191 nmethods=1772 adapters=372 free_code_cache=42062016 largest_free_block=14336

Dynamic libraries:
0x00400000 - 0x00424000     C:\Program Files\Java\jdk1.6.0_25\bin\java.exe
0x7c900000 - 0x7c9b2000     C:\WINDOWS\system32\ntdll.dll
0x7c800000 - 0x7c8f6000     C:\WINDOWS\system32\kernel32.dll
0x77dd0000 - 0x77e6b000     C:\WINDOWS\system32\ADVAPI32.dll
0x77e70000 - 0x77f03000     C:\WINDOWS\system32\RPCRT4.dll
0x77fe0000 - 0x77ff1000     C:\WINDOWS\system32\Secur32.dll
0x7c340000 - 0x7c396000     C:\Program Files\Java\jdk1.6.0_25\jre\bin\msvcr71.dll
0x6db70000 - 0x6dfc8000     C:\Program Files\Java\jdk1.6.0_25\jre\bin\server\jvm.dll
0x7e410000 - 0x7e4a1000     C:\WINDOWS\system32\USER32.dll
0x77f10000 - 0x77f59000     C:\WINDOWS\system32\GDI32.dll
0x76b40000 - 0x76b6d000     C:\WINDOWS\system32\WINMM.dll
0x76390000 - 0x763ad000     C:\WINDOWS\system32\IMM32.DLL
0x6d850000 - 0x6d85c000     C:\Program Files\Java\jdk1.6.0_25\jre\bin\verify.dll
0x6d3d0000 - 0x6d3ef000     C:\Program Files\Java\jdk1.6.0_25\jre\bin\java.dll
0x76bf0000 - 0x76bfb000     C:\WINDOWS\system32\PSAPI.DLL
0x6d370000 - 0x6d38a000     C:\Program Files\Java\jdk1.6.0_25\jre\bin\instrument.dll
0x6d890000 - 0x6d89f000     C:\Program Files\Java\jdk1.6.0_25\jre\bin\zip.dll
0x68000000 - 0x68036000     C:\WINDOWS\system32\rsaenh.dll
0x77c10000 - 0x77c68000     C:\WINDOWS\system32\msvcrt.dll
0x769c0000 - 0x76a74000     C:\WINDOWS\system32\USERENV.dll
0x5b860000 - 0x5b8b5000     C:\WINDOWS\system32\netapi32.dll
0x6d6b0000 - 0x6d6c3000     C:\Program Files\Java\jdk1.6.0_25\jre\bin\net.dll
0x71ab0000 - 0x71ac7000     C:\WINDOWS\system32\WS2_32.dll
0x71aa0000 - 0x71aa8000     C:\WINDOWS\system32\WS2HELP.dll
0x71a50000 - 0x71a8f000     C:\WINDOWS\System32\mswsock.dll
0x76f20000 - 0x76f47000     C:\WINDOWS\system32\DNSAPI.dll
0x76d60000 - 0x76d79000     C:\WINDOWS\system32\iphlpapi.dll

VM Arguments:
jvm_args: -Xmx768M -Xms768M -XX:PermSize=256m -XX:MaxPermSize=256m -Dfile.encoding=UTF-8 -javaagent:E:/springsource/grails-2.0.4/bin/../lib/com.springsource.springloaded/springloaded-core/jars/springloaded-core-1.0.5.jar -Xverify:none -Dspringloaded=profile=grails -Dprogram.name= -Dgrails.home=E:\springsource\grails-2.0.4\bin\.. -Dgrails.version=2.0.4 -Dbase.dir=. -Dtools.jar=C:\Program Files\Java\jdk1.6.0_25\lib\tools.jar -Dgroovy.starter.conf=E:\springsource\grails-2.0.4\bin\..\conf\groovy-starter.conf 
java_command: org.codehaus.groovy.grails.cli.support.GrailsStarter --main org.codehaus.groovy.grails.cli.GrailsScriptRunner --conf E:\springsource\grails-2.0.4\bin\..\conf\groovy-starter.conf --classpath   run-app
Launcher Type: SUN_STANDARD

Environment Variables:
JAVA_HOME=C:\Program Files\Java\jdk1.6.0_25
PATH=C:\Program Files\PC Connectivity Solution\;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program Files\Java\jdk1.6.0_25\bin;C:\Program Files\Java\jdk1.6.0_25\bin;3.25003E+221RAILS_HOME\bin;E:\springsource\grails-2.0.4\bin;C:\xampplite\php;C:\xampplite\htdocs\cakephp\app\Console;C:\Program Files\TortoiseSVN\bin;C:\xampp\htdocs\testApp\lib\Cake\Console;E:\program FilesGroovy-1.8.6\bin;E:\jboss\apache-ant-1.8.4/bin
USERNAME=Hussain
OS=Windows_NT
PROCESSOR_IDENTIFIER=x86 Family 6 Model 23 Stepping 10, GenuineIntel

---------------  S Y S T E M  ---------------

OS: Windows XP Build 2600 Service Pack 3

CPU:total 2 (2 cores per cpu, 1 threads per core) family 6 model 23 stepping 10, cmov, cx8, fxsr, mmx, sse, sse2, sse3, ssse3, sse4.1

Memory: 4k page, physical 3072196k(382656k free), swap 5003920k(864692k free)

vm_info: Java HotSpot(TM) Server VM (20.0-b11) for windows-x86 JRE (1.6.0_25-b06), built on Apr 14 2011 00:56:15 by "java_re" with MS VC++ 7.1 (VS2003)

time: Fri Jul 27 11:35:15 2012
elapsed time: 139 seconds 
```

我不知道这里有什么问题。如何解决这个问题呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T07:01:14.960

这意味着 JVM 进程已尝试访问操作系统未授予访问权限的内存位置。

我不认为你可以从使用纯 Java 得到这个错误，我相信它是：

*   您已加载的某些 JNI 库中的错误。

*   除此之外，JVM 可执行文件有错误，或者只是它已损坏。重新安装/升级到较新的版本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-17T15:13:06.187

不确定您是否以另一种方式解决了这个问题，但这是我在研究相同错误时从互联网上得到的唯一结果。

我发现了什么：同样使用 Grails 2.0.4 和“grails run-app”命令，我能够从任意 gsp 页面创建此错误。不幸的是，它不在我可以重新安装 jre 的机器上，所以一定是其他原因造成的！

我不是专家，但我怀疑根在码头（grails 附带的网络服务器）。我进行了一场“圣杯战争”，然后从 jboss 和...魔法中进行了战争！它工作得很好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-21T16:13:35.633

以防万一其他人在将来遇到同样的错误，我相信这个失败可能与 perm gen 内存填满有关。我发现许多 hs_err_pid*.log 文件中包含此错误，其中大多数表明 perm gen 已满。在您的情况下可能会有所不同，因为 Web 服务器可能在 perm gen 中做了更多的清理工作，但这个池是在列表末尾附近分配的。无论如何，增加 MaxPermGen 为我解决了这个问题，YMMV。

```
PSPermGen       total 83968K, used 83967K [0x00000005fbc00000,
 0x0000000600e00000, 0x0000000600e00000)   object space 83968K, 99%
 used [0x00000005fbc00000,0x0000000600dffd70,0x0000000600e00000) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-12-29T09:57:51.967

清理应用程序解决了我的问题。要清理执行“grails clean”。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-09-14T17:13:05.380

我在 VMWares 上遇到了同样的错误。肯定跟内存有关系。我也遇到了同样的错误。

PSPermGen 总计 83968K，已使用 83967K [0x00000000dae00000, 0x00000000e0000000, 0x00000000e0000000)

解决方案：增加PermGen (-XX:MaxPermSize=512M)

# php - 表数据不换行

> ID：11682881
> 
> 赞同：0
> 
> 时间：2012-07-27T06:57:31.690
> 
> 标签：php, html

我有一个表格，但详细信息列没有换行，表格比屏幕宽，使用水平滚动条很烦人。为什么会发生这种情况？请问我该如何解决？我的代码如下。

任何帮助深表感谢。

提前问候和感谢，韦斯利

```
<table width="90%">
    <tr>
        <td class="row" colspan="3"><strong>Follow-Up History</strong></td>
    </tr>
    <tr>
        <td width="15%"><b>Consultant</b></td>
        <td width="65%"><b>Details</b></td>
        <td width="20%"><b>Date</b></td>
    </tr>
    <?
        $mydb = mysql_connect('localhost', 'root', 'elves');
        $q3 = "select * from clientcare.subcalls where callid = '$cID' order by `date` ASC";
        $r3 = mysql_query($q3, $mydb) or die("Query q3 died");
        while ($row3 = mysql_fetch_array($r3)) {
            $scConsultant = $row3["consultant"];
            $scDetails = $row3["details"];
            $scDate = $row3["date"];
    ?>
            <tr>
                <td width="15%"><?= $scConsultant; ?></td>
                <td width="65%"><?= $scDetails; ?></td>
                <td width="20%"><?= $scDate; ?></td>
            </tr>
            <tr><td colspan="3"><hr></td><td>&nbsp;</td></tr>
    <?
        }
        mysql_close($mydb);
    ?>
</table> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T07:00:20.197

您应该使用 CSS`table-layout: fixed;`属性并应用于`width`您的`table`

你会看到这样的东西——

不换行`<td>`-[**文本不换**](http://jsfiddle.net/2Avax/1/)行（如果字符串没有任何空格）

否则，如果字符串有像这个[**小提琴这样的空格，这没关系**](http://jsfiddle.net/2Avax/3/)

但要确保你`td`不会溢出长字符串

使用以下属性将表中的数据包装起来`<td>`以包装长字符串：

```
table {
   table-layout: fixed;
   width: /* Whatever You Like */ ;
}

td { 
   white-space: pre-wrap;      /* CSS3 */   
   white-space: -moz-pre-wrap; /* Firefox */    
   white-space: -pre-wrap;     /* Opera <7 */   
   white-space: -o-pre-wrap;   /* Opera 7 */    
   word-wrap: break-word;      /* IE */
} 
```

我[**最后的小提琴**](http://jsfiddle.net/2Avax/)（带空格的字符串）

我**[最后的小提琴](http://jsfiddle.net/2Avax/4/)**（没有空格的字符串）

> PS您也可以`<td>`像这样修复宽度：**[fiddle](http://jsfiddle.net/2Avax/5/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T11:18:56.053

**最后一个 tr 的结构错误，**

```
<tr><td colspan="3"><hr></td><td>&nbsp;</td></tr> 
```

**正确的结构**

```
<tr><td colspan="3"><hr></td></tr> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T07:03:41.060

设置`max-width`，否则如果它不适合表格将扩展

```
<table style="max-width: 90%;"> 
```

# struts2 - 索引属性在表单提交时得到重复的 struts2

> ID：11682886
> 
> 赞同：0
> 
> 时间：2012-07-27T06:57:45.820
> 
> 标签：struts2

我需要在struts2 中添加/编辑/删除对象表。当我提交表单时，我得到了重复的对象。

让我知道我在哪里犯了错误。

这是我的代码：

```
<s:form action="addPromotionLineItems" id="promotionLineItemsAddFormId">
    <display:table id="data"
        name="lstPromotionLineItems" sort="external" uid="row" htmlId="rowid"
        class="tborder" excludedParams="*" style="width:100%" export="false">
        <display:column titleKey="table.title.material" style="width:100px">
            <s:property value="%{#attr.row.materialCode}" />
            <s:hidden
                name="lstPromotionLineItems(%{#attr.row_rowNum-1}).promotionLineItemId"
                value="%{#attr.row.promotionLineItemId}" />
            <s:hidden
                name="lstPromotionLineItems(%{#attr.row_rowNum-1}).materialCode"
                value="%{#attr.row.materialCode}" />
            <s:hidden
                name="lstPromotionLineItems(%{#attr.row_rowNum-1}).material.description"
                value="%{#attr.row.material.description}" />
            <s:hidden
                name="lstPromotionLineItems(%{#attr.row_rowNum-1}).programId"
                value="%{#attr.row.programId}" />
        </display:column>
        <display:column property="material.description"
            titleKey="table.title.materialdesc" />

</s:form>

function refreshTableRecords(url,formNameId,resultId)
    $.ajax({
        type:'POST',
        url: url,
        data:$('#'+formNameId).serialize(),
        success : function(response) {
            $('#'+resultId).html(response); 
            },
            error:function(data)
            {
                alert(data);
            }
        });
} 
```

我在 jQuery ui 模态弹出窗口中有这个内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T20:59:43.290

我认为当映射到 struts 中的集合数据时，语法不是：

```
name="lstPromotionLineItems(%{#attr.row_rowNum-1}).promotionLineItemId" 
```

相当：

```
name="lstPromotionLineItems[%{#attr.row_rowNum-1}].promotionLineItemId" 
```

输入名称中 row_num 属性周围的括号略有不同。

# html - 避免 BlackBerry WebWorks 中所选字段的蓝色

> ID：11682887
> 
> 赞同：0
> 
> 时间：2012-07-27T06:57:50.103
> 
> 标签：html, css, blackberry, input, focus

我有一个使用 PhoneGap 构建的本机应用程序的 html 内容。此应用程序有 2 个字段，文本和 texarea 之一。当我写在每个激活蓝色背景，我可以看透。

我怎样才能禁用那个蓝色？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T08:30:55.807

如果它使用 CSS，那么激活蓝色背景的代码可能看起来像这样：

```
textfield:focus, textarea:focus {
   background-color:blue;
} 
```

如果是这种情况，那么您可以简单地删除该 CSS 规则，它应该可以解决您的问题。

或者，背景颜色可能是通过 javascript 添加的，在这种情况下，您必须检查您的 javascript 文件以查看它发生的位置并将其从那里删除。

# search - 四方场地/建议完成不支持数学单词的任何部分

> ID：11682888
> 
> 赞同：0
> 
> 时间：2012-07-27T06:57:54.990
> 
> 标签：search, foursquare

我正在尝试发送以下请求：

```
venues/suggestCompletion?ll=54.850945,83.100677&query=wear 
```

**回应**：

```
 id: "4e620509b993678bb634372c"
 name: "Wearewowagency"
 location: {
    ...
 } 
```

我正在尝试发送以下请求：

```
venues/suggestCompletion?ll=54.850945,83.100677&query=wow 
```

**回应**：

```
{
    meta: {
        code: 200
    }
    notifications: [
        {
            type: "notificationTray"
            item: {
                unreadCount: 0
            }
        }
    ]
    response: {
        minivenues: [ ]
    }
} 
```

**输出**：LIKE str% 不支持 LIKE %str%。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T17:25:04.477

这可能是因为没有任何有趣的场地可以返回。如果您正在寻找以“ins”开头的场所，那么您会得到回复。

> [https://developer.foursquare.com/docs/explore#req=venues/suggestCompletion%3Fll%3D54.850945,83.100677%26query%3Dins](https://developer.foursquare.com/docs/explore#req=venues/suggestCompletion%3Fll%3D54.850945,83.100677%26query%3Dins)

请记住，并非所有场所都从场所/建议完成端点返回。

# .htaccess - htaccess - 使用 GET 参数进行 301 重定向

> ID：11682890
> 
> 赞同：1
> 
> 时间：2012-07-27T06:58:04.277
> 
> 标签：.htaccess, redirect, parameters, get, permalinks

我有个问题。Сustomer 更改了他网站上的永久链接，并要求我将 301 重定向设置为旧的永久链接。

旧版本：[http ://my-site.by/catalog/?branch=3855](http://my-site.by/catalog/?branch=3855)

新版本： http: [//my-site.by/catalog/3855/](http://my-site.by/catalog/3855/)

我尝试了不同的方式，但它不起作用......有人可以帮助我吗？

**UPD**

哦对不起。差点忘了说。我已经厌倦了在 PHP 端进行这项工作 :)

**我的解决方案：**

```
if (strpos($_SERVER['REQUEST_URI'], '/catalog/?branch=') !== false)
{
  header(«HTTP/1.1 301 Moved Permanently»);
  header(«Location: www.my-site.by/catalog/».str_replace("/catalog/?branch=","",$_SERVER['REQUEST_URI'])."/");
  exit();
} 
```

可能需要其他人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T15:18:44.517

将此添加到您的 htaccess ：

```
# 301 Redirect - url to url
    RewriteRule http://my-site.by/catalog/?branch=3855  http://my-site.by/catalog/3855/ [R=301,L,NC] 
```

如果您想对所有此类 url 执行此操作：

```
# 301 Redirect - Dynamic Rewriting
RewriteRule ^catalog/?branch=([0-9]+)$ catalog/$1/ 
```

# mysql - 对 MySQL 表进行分区后创建索引？

> ID：11682897
> 
> 赞同：1
> 
> 时间：2012-07-27T06:58:26.250
> 
> 标签：mysql, indexing, partitioning

我有 2000 万条记录的 mysql 表 Stop_Times。

我正在为这个表使用 MyISAM 存储引擎。

我的表结构是

```
| agency_id           | varchar(50) | NO   |     | NULL    |       |
| trip_id             | varchar(50) | NO   | PRI | NULL    |       |
| arrival_time        | time        | NO   |     | NULL    |       |
| departure_time      | time        | NO   |     | NULL    |       |
| stop_id             | varchar(50) | NO   | PRI | NULL    |       |
| stop_sequence       | int(11)     | NO   | PRI | NULL    |       |
| route_id            | varchar(50) | NO   |     | NULL    |       |
| route_type          | int(5)      | NO   |     | NULL    |       |
+---------------------+-------------+------+-----+-------- 
```

**show create table Stop_Times**的输出是 -

```
CREATE TABLE `Stop_Times` (
 `agency_id` varchar(50) NOT NULL,
 `trip_id` varchar(50) NOT NULL,
 `arrival_time` time NOT NULL,
 `departure_time` time NOT NULL,
 `stop_id` varchar(50) NOT NULL,
 `stop_sequence` int(11) NOT NULL,
 `route_id` varchar(50) NOT NULL,
 `route_type` int(5) NOT NULL,
 UNIQUE KEY `idx_Stop_Times` (`agency_id`,`trip_id`,`stop_sequence`,`stop_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8
/*!50100 PARTITION BY KEY (stop_id)
PARTITIONS 250 */ 
```

我有一个查询

```
select distinct trip_id, stop_sequence from Stop_Times where agency_id = ? and stop_id = ? 
```

在对表进行分区之前，此查询花费了 4-5 分钟以上。

但是现在我已经在**stop_id**上对表进行了分区，比如 **按键分区（stop_id）**

现在这个查询需要 2-3 秒来执行。

我有另一个查询，然后是上述查询 -

```
select distinct(stop_id) from Stop_Times where agency_id = ? and trip_id = ? and stop_sequence > ? 
```

上述查询的**解释**输出是 -

```
1   SIMPLE  Stop_Times  range   idx_Stop_Times  idx_Stop_Times  308 NULL    250 Using where; Using index; Using temporary 
```

此查询需要更多时间 90 - 150 秒。

所以我的问题是**我需要在 trip_id 和 stop_sequence 上创建索引吗？** 这会提高查询性能吗？

我是否需要**从 InnoDB 的 MyISAM**更改存储引擎，因为一次有多个用户对该表进行多次读取（选择查询）？

请数据库大师帮助我。

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T07:03:29.907

在 上创建覆盖索引`(agency_id, trip_id, stop_sequence, stop_id)`。请注意，索引中列的顺序很重要。使用不同的顺序可能效率较低。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-31T20:32:23.793

也许您想考虑对这个数据集进行分片。

我维护了一个名为[Shard-Query的工具，它可以](http://code.google.com/p/shard-query)*并行*查询所有分片。您有一个自然分片键 (stop_id)，当前用于 KEY 分区。使用 Shard-Query，您可以将同一列与 HASH 分区一起使用，从而获得功能等效性。

使用 Shard-Query，您将创建 250 个数据库，每个数据库都有一个相同的表副本。这相当于您的 250 个分区。

**分区消除**
当您执行第一个查询时，Shard-Query 将仅将查询发送到包含给定 stop_id 的分区。这与 MySQL 分区修剪相同。

**大规模并行处理 (MPP)**
对于第二个查询，Shard-Query 将根据您运行的 gearman（消息队列）工作人员的数量*并行扫描分区。*如果你有一台 16 核的机器，你可以在分区上获得 16 度的并行度，而不是 MySQL 对所有分区的单线程扫描。

只要您的服务器有资源来处理并行性，您就会看到并行扫描的速度大幅提高。如果没有，您可以将数据拆分为 N 个服务器（这是 MPP 中的海量），并且您将在添加节点时获得线性扩展。请记住，如果您使用 HASH 分区，添加或删除分片需要重新加载所有数据，因此这种情况应该很少见。

一个警告：
Shard-Query 支持 COUNT(DISTINCT) 但不支持 SELECT DISTINCT ...
您可以简单地重写查询以使用 GROUP BY：

查询 #1

```
select trip_id, stop_sequence from Stop_Times where agency_id = ? and stop_id = ? group by trip_id, stop_sequence; 
```

查询 #2

```
select stop_id from Stop_Times where agency_id = ? and trip_id = ? and stop_sequence > ? group by stop_id; 
```

# xamarin.ios - 当我在有或没有调试的情况下运行应用程序时，它会给我一个错误 System.ExecutionEngineException: SIGILL

> ID：11682905
> 
> 赞同：4
> 
> 时间：2012-07-27T06:59:17.737
> 
> 标签：xamarin.ios

当我运行带有或不带有 Degugging 的应用程序时，它会给我一个错误，如下所示

```
**Unhandled Exception: System.ExecutionEngineException: SIGILL
  at (wrapper managed-to-native) MonoTouch.UIKit.UIApplication:UIApplicationMain (int,string[],intptr,intptr)
  at MonoTouch.UIKit.UIApplication.Main (System.String[] args, System.String principalClassName, System.String delegateClassName) [0x00042] in /Developer/MonoTouch/Source/monotouch/src/UIKit/UIApplication.cs:29 
  at DicomViewerApplication.Application.Main (System.String[] args) [0x00000] in /Developer/Medsynaptic/DicomViewerApplication/DicomViewerApplication/Main.cs:18 
[ERROR] FATAL UNHANDLED EXCEPTION: System.ExecutionEngineException: SIGILL
  at (wrapper managed-to-native) MonoTouch.UIKit.UIApplication:UIApplicationMain (int,string[],intptr,intptr)
  at MonoTouch.UIKit.UIApplication.Main (System.String[] args, System.String principalClassName, System.String delegateClassName) [0x00042] in /Developer/MonoTouch/Source/monotouch/src/UIKit/UIApplication.cs:29 
  at DicomViewerApplication.Application.Main (System.String[] args) [0x00000] in /Developer/Medsynaptic/DicomViewerApplication/DicomViewerApplication/Main.cs:18 ** 
```

但是当我从模拟器运行应用程序时它可以正常工作我想检查调试器附带的值但它给了我一个错误

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-06-17T18:39:18.023

这个问题很可能在最新版本的 Xamarin 中得到解决

# java - 不太确定 URI 如何处理文件的绝对路径

> ID：11682907
> 
> 赞同：1
> 
> 时间：2012-07-27T06:59:24.367
> 
> 标签：java, windows, io

简单的问题：为什么我`new IllegalArgumentException: Path component should be '/'`在尝试在以下 URI 上创建 zip 文件系统时得到：

**文件：E:/somedirectory/somefile**

但这似乎有效：**file:/somedirectory/somefile**

如果我在两个不同的驱动器上有相同的路径并且我需要访问一个特定的路径怎么办？还是我一开始就完全忽略了 URI 的意义？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T07:08:17.343

对于使用 Windows 卷的路径，请使用以下格式：

```
file:///e:/somedirectory/somefile 
```

三元组的`///`结果是省略了本地文件的 URL*主机名。*比较: `file://sometherhost/e:/somedirectory/somefile`，根据 URI 规范有效，如果实际上对访问远程卷上的文件没有用处。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T07:02:19.557

**1.**反斜杠用于指向目录和文件

**2.**试试这个方法...

```
 `E:\\somedirectory\\somefile` 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T07:34:10.293

也许使用 URI 构建器更容易做到这一点。我总是使用它：

```
URIBuilder builder = new URIBuilder();
builder.setSchema("file").setHost("anyhost").setPath("/yourpath/");
URI uri;
uri = builder.build(); 
```

您可以检查您的 URI：

```
System.out.println(uri.toString()); 
```

我希望这能帮到您！

# flash - CTRL + C、CTRL + V 和 CTRL + X 事件监听器

> ID：11682914
> 
> 赞同：1
> 
> 时间：2012-07-27T06:59:57.763
> 
> 标签：flash, flex4, actionscript-3

如何在和keydown 事件上添加事件侦听`Ctrl+C`器。我正在尝试以下关于按键功能的语句：`Ctrl+V``Ctrl+X`

```
public function OnKeyDown(e:KeyboardEvent){    
 if((e.ctrlKey && (e.keyCode == Keyboard.C)) {  
        trace ("copy");  
    }else if((e.ctrlKey && (e.keyCode == Keyboard.V)) {  
        trace ("paste");   
    }else if((e.ctrlKey && (e.keyCode == Keyboard.X)) {  
        trace ("cut");
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-31T11:07:18.067

```
systemManager.stage.addEventListener(KeyboardEvent.KEY_UP, onKeyUp);

protected function onKeyUp(event:KeyboardEvent):void
{
    if (event.ctrlKey)
            switch(event.keyCode)
            {
                case 67: break;  //Keyboard.C
                case 86: break;  //Keyboard.V
                case 88: break;  //Keyboard.X
            }
} 
```

我正在使用此代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-09T15:09:17.177

嗨，我认为它工作正常：

```
stage.addEventListener(KeyboardEvent.KEY_DOWN,onkeydown)

function onkeydown(e:KeyboardEvent)
{

    if(e.ctrlKey)

    {

    stage.addEventListener(KeyboardEvent.KEY_UP,onkeyup)

    }
}

function onkeyup(e:KeyboardEvent)

{
    if (e.keyCode == 88)

    {
        trace("You pressed Ctrl+X");

    }
    else if (e.keyCode == 67)

    {
        trace("You pressed Ctrl+c");

    }
    else if (e.keyCode == 86 )

    {
        trace("You pressed Ctrl+v");

    }

    e.ctrlKey=false;
} 
```

# c# - 如何使 GridSplitter 调整非相邻行的大小？

> ID：11682915
> 
> 赞同：0
> 
> 时间：2012-07-27T07:00:02.027
> 
> 标签：c#, .net, wpf, xaml

我有以下布局：

```
<Grid>
    <Grid.RowDefinitions>
        <RowDefinition Height="*" />
        <RowDefinition Height="4" />
        <RowDefinition Height="20" MinHeight="20" MaxHeight="20" />
        <RowDefinition Height="auto" />
    </Grid.RowDefinitions>
    <TextBox Grid.Row="0" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" />
    <GridSplitter Grid.Row="1" ResizeBehavior="PreviousAndNext" ResizeDirection="Rows" Background="Red" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
    <DockPanel Grid.Row="2" x:Name="toolbox" Background="Chocolate" />
    <TextBox Grid.Row="3" Height="50" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" />
</Grid> 
```

如何使网格拆分器调整第 0 行和第 3 行之间的大小？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T08:12:26.703

试试这个：

```
<Grid>
    <Grid.RowDefinitions>
        <RowDefinition Height="*" />
        <RowDefinition Height="Auto" />
        <RowDefinition Height="*" />
    </Grid.RowDefinitions>
    <TextBox Grid.Row="0" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Background="SkyBlue" />
    <GridSplitter Grid.Row="1" Height="4" ResizeBehavior="PreviousAndNext" ResizeDirection="Rows" Background="Red" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
    <Grid Grid.Row="2">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <DockPanel Grid.Row="0" Height="20" x:Name="toolbox" Background="Chocolate" />
        <TextBox Grid.Row="1" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Background="Green" />
    </Grid>
</Grid> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T08:18:14.330

这个怎么样

```
<Grid>
    <Grid.RowDefinitions>
        <RowDefinition Height="Auto" />
        <RowDefinition Height="Auto" />
        <RowDefinition Height="Auto" />
        <RowDefinition Height="*" />
    </Grid.RowDefinitions>
    <TextBox Grid.Row="0" Background="Blue"
             VerticalAlignment="Stretch" HorizontalAlignment="Stretch" />
    <GridSplitter Grid.Row="1" Height="4" Background="Red"
                  ResizeBehavior="PreviousAndNext" ResizeDirection="Rows"
                  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" />
    <DockPanel Grid.Row="2" Height="20" x:Name="toolbox" Background="Chocolate" />
    <TextBox Grid.Row="3" Background="Blue"
             VerticalAlignment="Stretch" HorizontalAlignment="Stretch" />
</Grid> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T19:23:05.937

在网格中有一个网格。

```
 <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <TextBox Grid.Row="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
            <GridSplitter Grid.Row="1" Height="4" ResizeBehavior="PreviousAndNext" ResizeDirection="Rows" Background="Red" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
            <Grid Grid.Row="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <DockPanel Grid.Row="0" Height="20"/>
                <TextBox Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
            </Grid>
        </Grid> 
```

# asp.net-mvc - asp.net mvc 初学者的基本指南

> ID：11682920
> 
> 赞同：-1
> 
> 时间：2012-07-27T07:00:24.443
> 
> 标签：asp.net-mvc

我仍然不熟悉asp.net mvc。现在asp.net mvc 很流行。在学习它之前，我想知道一些事情，例如：

1.  如果没有视图状态的概念，那么在回发期间如何维护控制状态？如果详细讨论它，如果可能的话，给我在 mvc 中保持控制状态的示例代码。

2.  在webform中我们经常会用到更新面板等ajax控件工具包的控件。那么告诉我人们是如何在 mvc 中嵌入 ajax 功能的？一种选择是 jquery，但还有其他选择吗？是否有更新面板或启用 ajax 的控件之类的东西？

3.  您说可以在同一个项目中使用 asp.net webform 和 mvc。那么告诉我，如何将数据传递给 webform 或 aspx 文件？

4.  我们可以多么容易地将任何 asp.net webform 项目迁移到 mvc？

5.  有没有什么简单的基于mvc的小项目，初学者可以下载看代码，了解mvc项目的流程？就像任何购物车一样。

6.  什么是 mvc 中的强类型和部分视图？

我不知道 mvc 项目类型。这就是为什么许多问题出现在我的脑海中。请不要因为回答这一切而感到恼火。对于上述所有基本问题，我深表歉意。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T07:07:27.327

这是边缘主观的，可能会被关闭，但我会在回答你的问题时试一试。

1.  网络本质上是无状态的。ViewState 和 Postback 是 HTTP 协议不自然的 .NET 概念。如果您绝对必须保持持久性，则需要查看 cookies/session。

2.  您可以使用框架（jquery 和 jquery UI、YUI 等）或滚动您自己的 javascript 函数。Web 控件的概念（尽管它们“可以”在 MVC 中使用）已经不复存在。您将使用标准输入、选择、按钮 HTML 控件。

3.  我没有这样做，我在这里无法提供太多帮助

4.  取决于项目及其编写/编码方式。没有人可以做的直接“转换”。MVC 与 WebForms 是两种不同的范式。

5.  [MVC 音乐商店](http://mvcmusicstore.codeplex.com/)和[MVC NerdDinner](http://nerddinner.codeplex.com/)

6.  强类型视图是传递给定义了一组特定属性的类（模型）的视图。使用此模型，您可以只传递该视图所需的数据，在回发表单时进行类型检查等。部分视图只是一个不包含所有布局（母版页）内容的视图。它用于简单地显示网页的一个子部分（想想一个面板）

# javascript - Javascript：在 iframe 中获取域

> ID：11682922
> 
> 赞同：1
> 
> 时间：2012-07-27T07:00:37.500
> 
> 标签：javascript, search, dns

我是否可以从 iframe 获取域，例如：

```
<iframe src="http://www.google.com/search&etc...so on"></iframe> 
```

所以通过使用javascript，我只能得到“google.com”并将iframe重定向到空白。以下是任何希望帮助我的人的想法（在 python 编码中，idk 是否正确，但只是一个想法）。

```
for iframe in page:
if re.search("(google.com)", iframe, re.IGNORECASE):
iframe = iframe.replace('<iframe src=""></iframe>') 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T07:06:15.690

您可以搜索页面中的所有 iframe，然后获取以 google.com 作为来源的 iframe：

```
var iFrames = document.getElementsByTagName("IFRAME");
for (var i = 0; i < iFrames.length; i++) {
    if (iFrames[i].src.indexOf("google.com") != -1) {
        // do here whatever you want, for example clearing the iframe's src:
        iFrames[i].src = "";
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T07:04:43.740

```
​var iFrames = document.getElementsByTagName('IFRAME');
for (var iFrameIndex = 0; iFrameIndex < iFrames.length; iFrameIndex++) {
    // Match Google iFrames
    if (iFrames[iFrameIndex].src.test(/google\.com/)) {
        // Set such iFrames src to a blank string
        iFrames[iFrameIndex].src = '';
    }
} 
```

​ 这是一个[有效的 JSFiddle](http://jsfiddle.net/faceleg/nZyyB/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T07:13:33.393

根据您的标记，我的回答与 JavaScript 有关。是的，可以获得域名。然而，有一个非常重要的规则。如果 iframe 是 1) 与父页面不同的域，**并且**2) iframe 在第一次加载后更改为不同的页面/域......那么您将看不到新页面/域。

假设您有一个 index.html 页面，`yourdomain.com`并且您想要一个加载 Google 的 iframe：

```
<!doctype html>
<html>
<body>
  <div><iframe src="http://www.google.com"></iframe></div>
</body>
</html> 
```

当您的索引页面首次加载时，您将能够看到域是 google.com。但是，如果用户执行 Google 搜索，您将无法看到新 URL。这是浏览器的一项安全功能，您无法在 iframe 中看到任何外部域的活动。此外，如果有人点击谷歌搜索结果甚至是另一个域，您将看不到新域。该 URL 将始终显示为[http://www.google.com](http://www.google.com)。希望有帮助。

我看到其他人已经发布了示例......但我想我会放一个 jQuery 示例，因为它可能会帮助那里的人：

```
$('iframe[src*="google.com"').attr('src', ''); 
```

# jquery - jquery的单选按钮值

> ID：11682926
> 
> 赞同：1
> 
> 时间：2012-07-27T07:01:10.303
> 
> 标签：jquery, button, radio-button

我有一小段代码，例如：

```
<?php while($plan = mysql_fetch_array($plan_values)){?>
         <input type="radio"  name="bus_plan" value="<?php echo $plan['plan_id']; ?>" />
         <a href="plan-tariff.php?plan_name=<?php echo $plan['plan_name']; ?>" target="_blank">
               <span class="radiotxt"><?php echo $plan['plan_name']; ?></span>
         </a>
         <br clear="all" />
<?php } ?> 
```

通过上述 while 条件，我得到三个单选按钮，其值为 1,2 和 8 。现在我的问题是在检查上述任何一个按钮时如何获取单选按钮的值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T07:06:20.597

```
$('input:radio[name=bus_plan]:checked').val(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T07:07:54.660

将此代码放在页面的头部。

```
<script type="text/javascript" src="http://code.jquery.com/jquery-1.7.2.min.js"/>
<script type="text/javascript">
$(document).ready(function(){
    $("input:radio[name=bus_plan]").click(function(){
        var value = $(this).val();
        alert(value);
    });
});
</script> 
```

当您单击任何单选按钮时，此代码将提示您该单选按钮的值。请询问它是否不适合您。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T07:11:02.490

试试这个

```
<input type="radio"  name="bus_plan" id="smallBtn" value="1" onClick="alert(this.value)"  />
<input type="radio"  name="bus_plan" id="smallBtn" value="2" onClick="alert(this.value)" />
<input type="radio"  name="bus_plan" id="smallBtn" value="8" onClick="alert(this.value)"  /> 
```

或者您可以为此创建函数来代替`alert` [TryThis](http://jsfiddle.net/DpT6f/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-27T07:11:15.553

试试这个：http: [//jsfiddle.net/4haQQ/](http://jsfiddle.net/4haQQ/)

请记住首先包含 JQuery 库，然后将您的 jquery 代码包装在打开标签中，如下所示：

```
$(document).ready(function(){
//CODE HERE
}); 
```

# ruby-on-rails - 为什么我收到错误“无效的商家帐户”？

> ID：11682930
> 
> 赞同：0
> 
> 时间：2012-07-27T07:01:34.900
> 
> 标签：ruby-on-rails, paypal, gem, report

我想获得 PayPal 报告，因此我安装了 paypal-report gem。

有人可以看看我的凭据是正确的还是报告 API 的使用我需要一些特殊帐户？

我已经验证了商业帐户。

这是我的代码：

```
 require 'paypal/report'
  api = Paypal::Report.new("my secure account MerchantID", "mypassword", "my secure account MerchantID", "PayPalUK")
  puts api.daily.inspect 
```

我也尝试输入我的电子邮件而不是 MerchanID，但它不起作用。

这给了我错误：

```
 C:/Ruby193/lib/ruby/gems/1.9.1/gems/paypal-report-0.1.2/lib/paypal/report.rb:141
  :in `block in request': Invalid merchant account (RuntimeError) 
```

我尝试使用 puts api 检查 api 值，结果如下：

```
 puts api
         //and result: 
        #<Paypal::Report:0x27a4310> 
```

有人能帮我吗 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T13:33:51.027

看到那里的“PayPalUK”，我怀疑您使用的 gem 是用于 PayPal Payflow 服务的（当涉及到报告时，那就是 XML Reporting）。
看到您提到拥有一个常规的“经过验证的商业帐户”，我认为您无法访问 Payflow API 调用。因此，没有正确的凭据可以在那里输入。

您尝试使用什么 PayPal API 调用？您要查找的是 TransactionSearch 吗？
如果是这样，请尝试使用[ruby​​-paypal](http://ruby-paypal.rubyforge.org/) gem。（注意，我没有测试过它，但它是第一个快速谷歌搜索“PayPal TransactionSearch gem”返回的。）

# eclipse - 有没有办法将 plugin.xml 作为对象加载？

> ID：11682936
> 
> 赞同：0
> 
> 时间：2012-07-27T07:01:48.330
> 
> 标签：eclipse, plugins, eclipse-plugin

我在工作区中打开了一个插件项目。是否有可以帮助更改 plugin.xml 的 API？我不想将其解析为 xml 文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-07T15:09:18.383

没有“好的”方法可以做到这一点，因为 PDE 人员没有打开他们的 API 来修改清单文件（MANIFEST.MF、plugin.xml 等）。您只能使用其 API 以只读方式访问这些信息。话虽这么说，如果你不害怕使用内部代码，你可以看看 PDEModelUtility 和 ModelModification。这些类在 OrganizeManifestProcessor 中使用。

# javascript - chrome.tabs.query：属性'currentWindow'：意外

> ID：11682937
> 
> 赞同：0
> 
> 时间：2012-07-27T07:01:48.937
> 
> 标签：javascript, google-chrome, google-chrome-extension

我为我的 Chromium (18.0.1025.151) 浏览器安装了扩展 timeStats，但它无法正常工作。在调试过程中我发现了问题 - 在方法 'chrome.tabs.query' 的执行过程中，一条消息是：“Property 'currentWindow': Unexpected property.”，尽管此参数的文档描述为：[http:// /code.google.com/chrome/extensions/tabs.html#method-query](http://code.google.com/chrome/extensions/tabs.html#method-query)

这是一个错误或可能修复错误？

一些代码：

```
if (isWindowActive && !isWindowMinimized)
{
    chrome.idle.queryState(parseInt(options.idle_time), function(state) {
        //problem below
        chrome.tabs.query({active: true, currentWindow: true}, function(tabs) {
        //problem above
            var tabId = tabs[0].id;
            if (state=='active')
            {
                setBadgeColorActive(chrome.windows.WINDOW_ID_CURRENT);
                //if browser active update the info
                if (isLoaded)
                {
                    update(true);
                }
            }
            //set icon gray
            else
            {
                chrome.browserAction.setBadgeBackgroundColor({color: badgeIdle, tabId: tabId});
                chrome.browserAction.setTitle( {title: chrome.i18n.getMessage("freezed")+" "+options.idle_time+" "+chrome.i18n.getMessage("seconds_lcase"), tabId: tabId });
            }
        });
    });
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T07:33:42.990

您正在非常旧版本的 Chromium (18) 上对此进行测试，并且您在问题中提到的文档指的是 Chromium 版本 20。如果您检查[扩展 API 的更改，](http://developer.chrome.com/chrome/extensions/whats_new.html)您会发现：

> 谷歌浏览器 19
> 
> (...)
> 
> chrome.tabs query() 方法现在具有 currentWindow 和 lastFocusedWindow 参数。
> 
> (...)

因此`currentWindow`在 19 之前的版本中不可用。

* * *

**奖金：**

如果您依赖，请`currentWindow`务必将[minimum_chrome_version](http://developer.chrome.com/extensions/manifest.html#minimum_chrome_version)设置为 19 in `manifest.json`.

# cocoa - 将热键添加到 NSTextField

> ID：11682939
> 
> 赞同：0
> 
> 时间：2012-07-27T07:02:06.300
> 
> 标签：cocoa, hotkeys

我的`NSTextField`子类有一些问题。这是一个用于输入一些消息的文本字段。当我的子文本字段是第一响应者并且用户按下热键`Cmd`+时，我的应用程序必须发送此消息`Enter`。我不能使用 Carbon 方法`RegisterEventHotKey()`，因为许多应用程序使用此热键执行相同的操作，但我的应用程序拦截了它。我能做些什么？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-27T07:55:53.740

在文本字段委托中，您可以按照所有“标准”命令发送到控件。然后，一旦你遇到一个命令`noop:`，测试当前的组合键。如果是`Command-Enter`，做你的事。像这样的东西应该工作：

```
@interface VCEAppDelegate : NSObject <NSApplicationDelegate, NSTextFieldDelegate>
@property (nonatomic, weak) IBOutlet NSTextField *textField;
@end

// .m
@implementation VCEAppDelegate

- (void)applicationDidFinishLaunching:(NSNotification *)aNotification {
    self.textField.delegate = self;
}

- (BOOL)isCommandEnterEvent:(NSEvent *)e {
    NSUInteger flags = (e.modifierFlags & NSDeviceIndependentModifierFlagsMask);
    BOOL isCommand = (flags & NSCommandKeyMask) == NSCommandKeyMask;
    BOOL isEnter = (e.keyCode == 0x24); // VK_RETURN
    return (isCommand && isEnter);
}

- (BOOL)control:(NSControl *)control textView:(NSTextView *)textView
                          doCommandBySelector:(SEL)commandSelector {
    if ((commandSelector == @selector(noop:)) &&
        [self isCommandEnterEvent:[NSApp currentEvent]]) {
        [self handleCommandEnter];
        return YES;
    }
    return NO;
}

- (void)handleCommandEnter {
    NSLog(@"Do something on Command-Enter");
}

@end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T08:23:09.960

我将 NSApplication 子类化并覆盖方法

```
- (void) sendEvent:(NSEvent*) event {
    if ([event type] == NSKeyDown) {
        if (([event modifierFlags] & NSDeviceIndependentModifierFlagsMask) == NSCommandKeyMask) {
            if ([event keyCode] == 36) {
                if ([self.delegate respondsToSelector:@selector(sendMessage:)]) {
                    [self.delegate performSelector:@selector(sendMessage:) withObject:nil];
                }
            }
        }
    }

    [super sendEvent:event];
} 
```

在 info.plist 中我写道，这个子 NSApplication 类是一个 Principal 类。有用！

# struts2 - 我们是否必须在指定自己的拦截器的操作中明确提及 defaultStack？

> ID：11682940
> 
> 赞同：0
> 
> 时间：2012-07-27T07:02:07.100
> 
> 标签：struts2, struts

在“ **Struts2 in Action** ”一书中，它指出：

> 虽然本身没有定义任何拦截器引用的操作将继承默认拦截器，但一旦操作声明了自己的拦截器，它就会失去自动默认值，并且必须显式命名 defaultStack 才能使用它。

但是在网上这么多的例子中，我看到action部分声明了自己的拦截器，但仍然不需要像[这里](http://www.dzone.com/tutorials/java/struts-2/struts-2-example/struts-2-interceptors-example-1.html)一样声明默认堆栈。他们的代码是：

```
<action name="TestLogger" class="vaannila.TestLoggerAction">
            <interceptor-ref name="logger" />
            <result name="success">/success.jsp</result>
</action> 
```

有什么我想念的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-27T07:17:26.853

这应该是一个展示如何配置自定义拦截器的示例。虽然您可以声明和应用这个单一的拦截器，但这意味着框架提供的其他拦截器将不会被执行，并且框架提供的大部分功能都不会进入行为。

作者试图解释的是，如果我们定义自己的拦截器堆栈并且不继承默认堆栈或不定义框架使用的其他拦截器，大多数功能将丢失

拦截器可以基于每个操作进行配置。您自己的自定义拦截器可以与框架捆绑的拦截器混合匹配。拦截器定义在一个指定执行顺序的堆栈中，在大多数情况下，在定义我们的自定义拦截器堆栈时，我们最终会扩展默认堆栈或以我们自己的方式定义提供的拦截器执行。

看看框架实际上是如何声明拦截器堆栈的

*   [拦截器](http://struts.apache.org/2.x/docs/interceptors.html)

所以简而言之，如果你看到拦截器堆栈是一组组合在一起的拦截器，它们将按照堆栈中定义的顺序被触发。

定义自定义拦截器的另一个示例

[created_a_login_interceptor](http://www.vitarara.org/cms/struts_2_cookbook/creating_a_login_interceptor)

希望这会给你一些想法

# vba - 在 Excel 中自动添加加载项的单个菜单项

> ID：11682941
> 
> 赞同：2
> 
> 时间：2012-07-27T07:02:11.013
> 
> 标签：vba, excel, excel-addins

我正在使用适用于 Windows 的 Microsoft Excel 2010。

我已经开发了一个 add-in `addin.xlam`，其中包含一个 sub `main`。`addin.xlam`位于正确的位置，因此可以通过菜单看到和选择`Developer -> Add-Ins`。当我打开一个普通的工作簿`test.xlsm`，然后按`Alt + F11`，我可以看到代码`addin.xlam`已加载。

我的目标是在 Excel 的菜单栏中添加一个菜单项，以允许用户启动`main`. `add-in.xlam`通过点击此[链接](http://www.ozgrid.com/VBA/excel-add-in-create.htm)，我的代码`addin.xlam`如下：

```
Option Explicit
Dim cControl As CommandBarButtonPrivate
Sub Workbook_AddinInstall()
    On Error Resume Next 'Just in case

    'Delete any existing menu item that may have been left.
    Application.CommandBars("Worksheet Menu Bar").Controls("Super Code").Delete

    'Add the new menu item and Set a CommandBarButton Variable to it
    Set cControl = Application.CommandBars("Worksheet Menu Bar").Controls.Add

    'Work with the Variable
    With cControl
        .Caption = "Super Code"
        .Style = msoButtonCaption
        .OnAction = "main" 'Macro stored in a Standard Module
    End With
    On Error GoTo 0
End Sub

Private Sub Workbook_AddinUninstall()
    On Error Resume Next 'In case it has already gone.
    Application.CommandBars("Worksheet Menu Bar").Controls("Super Code").Delete
    On Error GoTo 0
End Sub 
```

这段代码很好地放置在`ThisWorkbook`中`addin.xlam`，在 中也可见`test.xlsm`。**但我在菜单栏中看不到任何变化。**

有谁知道会发生什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T10:06:37.410

AddinInstall 和 AddinUninstall 事件仅在使用 Excel 插件管理器“安装”或“卸载”插件时触发。

恕我直言，这可能会导致问题，因此我始终建议使用 Workbook_Open 和 Workbook_BeforeClose 事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-23T10:37:57.303

查尔斯是对的​​，您需要替换`Workbook_AddinInstall()`为`Workbook_Open()`，并替换`Workbook_AddinUninstall()`为`Workbook_BeforeClose()`。

此外，您`CommandBarButton`不需要`CommandBarButtonPrivate`.

祝你好运！

# xml - 如何在我的函数中检查以下兄弟是 w:tbl 并使用 xslt2.0 应用我的模板？

> ID：11682942
> 
> 赞同：0
> 
> 时间：2012-07-27T07:02:13.087
> 
> 标签：xml, xpath, xslt-1.0, xslt-2.0, xpath-2.0

这是我的 XML 文档。我想将此 XML 文档转换为另一个 XML 文档（请参阅所需的输出 XML 部分）。我已经编写了一个函数来收集所有`w:p`元素以进行进一步处理。现在，我对处理元素有了新的要求。所以`w:tbl`，我写了一个流程`w:tbl`元素的模板。所以，我必须检查任何元素`w:tbl`之间的元素。如果在任何`w:p`元素之间找到 w:tbl，`w:p`那么我想调用我的模板。

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
    <w:document xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main"
                xmlns:v="urn:schemas-microsoft-com:vml">
    <w:body>

    <w:p>
        <w:pPr>
            <w:pStyle w:val="Heading1" /> 
        </w:pPr>
        <w:r>
            <w:t>Text2-</w:t>
        </w:r>  
    </w:p>
     <w:p>
        <w:pPr>
        </w:pPr>
        <w:r>
            <w:t>Text1-</w:t>
        </w:r>  
    </w:p>
<w:tbl>            
        <w:tr>
            <w:tc>
                <w:p>
                    <w:r>
                        <w:t>Sachin</w:t> 
                    </w:r>
                </w:p>
            </w:tc>

            <w:tc>
                <w:p>
                    <w:r>
                        <w:t>Raghul</w:t> 
                    </w:r>
                </w:p>
            </w:tc> 
        </w:tr>                 
    </w:tbl>
</w:body>
</w:document> 
```

我的 Xslt2.0 代码是：

```
<xsl:stylesheet 
  version="2.0"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xpath-default-namespace="http://schemas.openxmlformats.org/wordprocessingml/2006/main"
  xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main"
  xmlns:xs="http://www.w3.org/2001/XMLSchema"
  xmlns:fn="http://www.w3.org/2005/xpath-functions"
  xmlns:mf="http://example.com/mf"
  xmlns:v="urn:schemas-microsoft-com:vml"
  xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"
  xmlns:user="http://http://stackoverflow.com/questions/11356668"
  exclude-result-prefixes="xs w fn mf user">

  <xsl:output indent="yes"/> 

  <xsl:function name="mf:group" as="element()*">
    <xsl:param name="paragraphs" as="element()*"/>
    <xsl:param name="level" as="xs:integer"/>

<xsl:for-each-group select="$paragraphs" group-starting-with="p[pPr/pStyle/@w:val = concat('Heading', $level)]">   

  <xsl:choose>

    <xsl:when test="self::p[pPr/pStyle/@w:val = concat('Heading', $level)]">
      <xsl:element name="Heading{$level}">
        <Title>
          <xsl:apply-templates select="./r/t"/>
        </Title>                

        <xsl:sequence select="mf:group(current-group() except ., $level + 1)"/>
      </xsl:element>
    </xsl:when>  
    <xsl:when test="current-group()[self::p[pPr/pStyle/@w:val = concat('Heading', $level + 1)]]">
      <xsl:sequence select="mf:group(current-group(), $level + 1)">
      </xsl:sequence>
    </xsl:when>
    <xsl:otherwise>
      <xsl:apply-templates select="current-group()">
      </xsl:apply-templates>
    </xsl:otherwise>
  </xsl:choose>

 <xsl:if test="following-sibling::w:tbl">
        <xsl:apply-templates select="self::w:tbl"></xsl:apply-templates>
  </xsl:if>    
</xsl:for-each-group>
 </xsl:function>

  <xsl:template match="document">

    <Document>
      <xsl:sequence select="mf:group(body/p, 1)"/>
    </Document>

  </xsl:template>

   <xsl:template match="w:tbl">
    <table>
      <xsl:apply-templates select ="descendant::w:p[w:r/w:t]"></xsl:apply-templates>
    </table>
  </xsl:template>

 <xsl:template match="p">
  <Paragraph>
    <xsl:value-of select="r/t"/>
  </Paragraph>
</xsl:template>

  <xsl:template match="/r/t">
    <xsl:value-of select="."/>
  </xsl:template> 
</xsl:stylesheet> 
```

我需要的输出是：

```
<Document>
   <Heading1>
      <Title>Text2-</Title>
      <Paragraph>Text1-</Paragraph>
      <table>
           <Paragraph>sachin</Paragraph>
           <Paragraph>Raghul</Paragraph>
         </table>
   </Heading1>
</Document> 
```

但我生成的输出是：

```
<Document xmlns:v="urn:schemas-microsoft-com:vml"
          xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture">
   <Heading1>
      <Title>Head1</Title>
      <Paragraph>para1</Paragraph>
   </Heading1>
</Document> 
```

请指导我摆脱这个问题......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-31T06:16:16.050

```
<xsl:stylesheet 
  version="2.0"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xpath-default-namespace="http://schemas.openxmlformats.org/wordprocessingml/2006/main"
  xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main"
  xmlns:xs="http://www.w3.org/2001/XMLSchema"
  xmlns:fn="http://www.w3.org/2005/xpath-functions"
  xmlns:mf="http://example.com/mf"
  xmlns:v="urn:schemas-microsoft-com:vml"
  xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"
  xmlns:user="http://http://stackoverflow.com/questions/11356668"
  exclude-result-prefixes="xs w fn mf user">

  <xsl:output indent="yes"/> 

  <xsl:function name="mf:group" as="element()*">
    <xsl:param name="paragraphs" as="element()*"/>
    <xsl:param name="level" as="xs:integer"/>

<xsl:for-each-group select="$paragraphs" group-starting-with="p[pPr/pStyle/@w:val = concat('Heading', $level)]">   

  <xsl:choose>

    <xsl:when test="self::p[pPr/pStyle/@w:val = concat('Heading', $level)]">
      <xsl:element name="Heading{$level}">
        <Title>
          <xsl:apply-templates select="./r/t"/>
        </Title>                

        <xsl:sequence select="mf:group(current-group() except ., $level + 1)"/>
      </xsl:element>
    </xsl:when>  
    <xsl:when test="current-group()[self::p[pPr/pStyle/@w:val = concat('Heading', $level + 1)]]">
      <xsl:sequence select="mf:group(current-group(), $level + 1)">
      </xsl:sequence>
    </xsl:when>
    <xsl:otherwise>
      <xsl:apply-templates select="current-group()">
      </xsl:apply-templates>
    </xsl:otherwise>
  </xsl:choose>

 <xsl:if test="following-sibling::w:tbl">
        <xsl:apply-templates select="following-sibling::w:tbl"></xsl:apply-templates>
  </xsl:if>    
</xsl:for-each-group>
 </xsl:function>

  <xsl:template match="document">

    <Document>
      <xsl:sequence select="mf:group(body/p, 1)"/>
    </Document>

  </xsl:template>

   <xsl:template match="w:tbl">
    <table>
      <xsl:apply-templates select ="descendant::w:p[w:r/w:t]"></xsl:apply-templates>
    </table>
  </xsl:template>

 <xsl:template match="p">
  <Paragraph>
    <xsl:value-of select="r/t"/>
  </Paragraph>
</xsl:template>

  <xsl:template match="/r/t">
    <xsl:value-of select="."/>
  </xsl:template> 
</xsl:stylesheet> 
```

# java - SQL 错误 ORA-00933

> ID：11682943
> 
> 赞同：-1
> 
> 时间：2012-07-27T07:02:14.937
> 
> 标签：java, sql, oracle, jdbc

我正在执行这样的语句

```
 ResultSet res =
            stmt.executeQuery("SELECT FIRST_NAME FROM  USER vu, USER_PROFILE vup"+
                              "WHERE vup.USER_ID = vu.USER_ID  "+
                              "AND vu.USER_ID = ( SELECT USER_ID  "+
                             " FROM USER"+ 
                             " WHERE EMAIL_ID = '"+userName+"'"+ 
                             "AND PW_ENCRYPTED = '"+password+"')"); 
```

但它返回这样的错误

java.sql.SQLSyntaxErrorException: ORA-00933: SQL 命令未正确结束

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T07:04:54.163

`vup`您需要在and之间添加一个空格`WHERE`：

```
" WHERE vup.USER_ID = vu.USER_ID  " + 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-27T07:06:06.970

首先，使用[PreparedStatement](http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html)`vup` ，其次，您在and之间缺少一个空格字符`WHERE`。

它应该如下所示：

```
String sql = "SELECT FIRST_NAME FROM  USER vu, USER_PROFILE vup"
        + " WHERE vup.USER_ID = vu.USER_ID AND vu.USER_ID = "
        + "(SELECT USER_ID FROM USER WHERE EMAIL_ID = ? AND PW_ENCRYPTED = ?)";

ps = conn.prepareStatement(sql);
ps.setString(1, userName);
ps.setString(2, password);

rs = ps.executeQuery();
if (rs.next()) { } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T07:05:04.570

在查询行的开头和结尾添加空格。像下面

```
ResultSet res =
            stmt.executeQuery(" SELECT FIRST_NAME FROM  USER vu, USER_PROFILE vup "+
                              " WHERE vup.USER_ID = vu.USER_ID "+
                              "AND vu.USER_ID = ( SELECT USER_ID "+
                             " FROM USER "+ 
                             " WHERE EMAIL_ID = '"+userName+"' "+ 
                             " AND PW_ENCRYPTED = '"+password+"')"); 
```

# air - ImageMagick 独立打包到应用程序中

> ID：11682946
> 
> 赞同：2
> 
> 时间：2012-07-27T07:02:19.780
> 
> 标签：air, imagemagick

我正在使用 Flex 构建一个 AIR 应用程序，其中我使用 NativeProcess API 使用转换程序通过 ImageMagick 调整图像大小。有谁知道我如何在不需要在用户系统上安装 ImageMagick 的情况下将“转换”与我的应用程序打包在一起？

我正在寻找 Mac 和 PC 上的解决方案。（尤其是在 Mac 上）。

我在构建/安装 ImageMagick 之类的东西方面没有太多经验，所以我想知道它是否可以在一个文件中完成（仅转换），这样我就可以在我的应用程序中直接调用它，而无需用户事先安装任何东西在他/她的系统上。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T20:23:53.743

您必须将 AIR 应用程序打包为本机安装程序或使用强制运行时。这两种方法都允许您向包中[添加其他文件](http://help.adobe.com/en_US/air/build/WS901d38e593cd1bac1e63e3d128fc240122-7ff2.html)。但是，添加`convert`可执行文件还不够，因为它依赖于许多 ImageMagick 共享库、不同图像格式的可加载模块以及可能的其他文件。首先，您可以将整个 ImageMagick 目录添加到您的包中。[您可以使用File.applicationDirectory](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/filesystem/File.html)找到打包`convert`可执行文件的路径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-14T19:27:19.107

我不是 Flex 方面的专家，但[Adob​​e 有一个用于打包本机扩展的文档化方法](http://help.adobe.com/en_US/flex/mobileapps/WSe4e4b720da9dedb5-4aefe03513238d8a1b8-8000.html#WSe4e4b720da9dedb5-4aefe03513238d8a1b8-7ffe)。这行不通吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-16T12:09:52.313

我发现有人为 Mac 创建了转换和识别程序的静态库。对于 Windows，这些已经在 ImageMagick 网站上可用，但对于 Mac，您需要从源代码构建这些。在 Mac 上重要的是不要直接调用 Convert 而是使用 bash 脚本首先设置导出路径，然后运行 ​​convert 以使其工作！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-28T18:27:26.107

我知道这个问题很老了，但我有同样的问题，所以我偶然发现了它！

我实际上找到了一个仅适用于 Mac 的解决方案，即使用[sips](http://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man1/sips.1.html)而不是 ImageMagick。优点是 sips 包含在所有 Mac 中（据我所知，从 10.4 到 10.8）。

就我而言，我使用 ImageMagick 的所有功能也都可以在 sips 中使用，所以也许它也适合你！

# xpath - 在 xpath 中设置联合运算符

> ID：11682950
> 
> 赞同：0
> 
> 时间：2012-07-27T07:02:51.887
> 
> 标签：xpath, set, union, operator-keyword

```
<xsl:variable name="targetReceiverService">
        <EMP_EMPLOC_MAL curr="4.0">MAL</EMP_EMPLOC_MAL>
        <EMP_EMPLOC_SIN curr="1.6">SIN</EMP_EMPLOC_SIN>
        <EMP_EMPLOC_CHN curr="7.8">CHN</EMP_EMPLOC_CHN>
        <DEFAULT curr="1.0">NONE</DEFAULT>
    </xsl:variable>

    <xsl:variable name="targetCountryCode" select="$targetReceiverService/*[name() = $ReceiverService] | $targetReceiverService/DEFAULT"/>
<xsl:value-of select="$targetCountryCode "/> 
```

为什么 $targetCountryCode 的值显示只是 MAL 但不包括 NONE 因为“|” 意思是

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T18:45:40.147

`xsl:value-of` 只显示集合中第一个节点的值。（至少对于 XSL 1）

您可能可以显示所有这些

```
<xsl:for-each select="$targetCountryCode">
  <xsl:value-of select="."/>
</xsl:for-each> 
```

# java - JTextField 需要留空并进行不区分大小写的搜索

> ID：11682952
> 
> 赞同：0
> 
> 时间：2012-07-27T07:02:55.243
> 
> 标签：java, swing

在 JTable 中搜索文本时遇到两个问题：

1）例如，在 JTextField 中，我最初必须以透明的方式有一个“搜索文本”，如果我点击它，文本字段必须变为空白，我们可以在那里输入文本。如何在 Java Swing 中实现这一点？

2）我的搜索编码是，

```
private void search8()
{
String target8 = sear8.getText();
for(int row = 0; row < table8.getRowCount(); row++)
for(int col = 0; col < table8.getColumnCount(); col++)
{
String next8 = (String)table8.getValueAt(row, col);
if(next8.equals(target8))
{
showSearchResults(row, col);
return;
}
} 
```

但它是区分大小写的。我希望它是不区分大小写的搜索。我应该在哪里进行更改？另外，例如，如果有一个文本'abc'，现在我需要输入整个单词'abc'。有什么方法可以让我输入“a”或“bc”，它会带我到那个单元格吗？

请指导我。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T07:13:43.057

**1.**`hint`为您的 JTextView创建一个。请参阅此示例[http://code.google.com/p/xswingx/](http://code.google.com/p/xswingx/)

**2.**用于`equalsIgnoreCase( )`与**不区分大小写的比较...**

**/////////////////编辑部分///////////////////**

**3.**如果您**不想**实现我在第 1 点中提到的**提示，请****使用** `FocusListener`.

**例如：**

```
JTextField textField = new JTextField("A TextField");
textField.addFocusListener(this);
public void focusGained(FocusEvent e) {

        textField = "" ;
} 
```

**有关更多详细信息，请参见：**

[http://docs.oracle.com/javase/tutorial/uiswing/events/focuslistener.html](http://docs.oracle.com/javase/tutorial/uiswing/events/focuslistener.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-27T08:10:20.027

我使用自定义绘制方法

```
@Override
protected void paintComponent(Graphics g) {

    super.paintComponent(g);

    String label = getLabel();
    if (label != null && (getText() == null || getText().length() == 0)) {

        Insets insets = getInsets();
        int width = getWidth() - (insets.left + insets.right);
        int height = getHeight() - (insets.top + insets.bottom);

        // This buffer should be created when the label is changed
        // or the size of the component is changed...
        BufferedImage buffer = ImageUtilities.createCompatibleImage(width, height, Transparency.TRANSLUCENT);
        Graphics2D g2d = buffer.createGraphics();

        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);
        g2d.setColor(getForeground());
        g2d.setFont(getFont());

        FontMetrics fm = g2d.getFontMetrics();

        Composite comp = g2d.getComposite();
        g2d.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.25f));

        int textHeight = fm.getHeight();

        int x = insets.left;
        int y = ((height - textHeight) / 2) + fm.getAscent();

        g2d.drawString(label, 0, y);

        g2d.dispose();

        g.drawImage(buffer, insets.left, insets.top, this);

    }

} 
```

我在 MacOS 上运行时遇到了一些问题，因此使用`BufferedImage`它应该可以正常工作。

我通常会等到用户在字段中输入后才清除标签，但您可以使用焦点侦听器和标志来触发流程

**用焦点监听器更新**

```
public class MyTextField extents JTextField implements FocusListener {

    private boolean hasFocus = false;

    public void addNotify() {
        super.addNotify();
        addFocusListener(this);
    }

    public void removeNotify() {
        removeFocusListener(this);
        super.removeNotify();
    }

    public void focusGained(FocusEvent evt) {

        hasFocus = true;

    }

    public void focusLost(FocusEvent evt) {

        hasFocus = false;

    }

    protected void paintComponent(Graphics g) {
        super.paintComponent(g);

        String label = getLabel();
        if (!hasFocus && label != null && (getText() == null || getText().length() == 0)) {
            // As above...
        }
    }
} 
```

或类似的东西

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-27T07:05:01.417

对于区分大小写的部分，您可以使用[`String.compareToIgnoreCase()`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#compareToIgnoreCase%28java.lang.String%29).

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-27T07:13:23.710

您应该使用 `next8.equalsIgnoreCase(target8)` 代替`next8.equals(target8)` 您的搜索不区分大小写。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-27T09:58:55.557

是的 - 我知道开发人员喜欢重新发明轮子 :-) 有偏见的我更喜欢使用我[最喜欢的框架 SwingX](http://swingx.java.net)，它已经拥有所有必要的构建块：

*   自动搜索支持在所有集合组件中以相同的方式工作
*   WYMIWYS (what-you-match-is-what-you-see)，即它使用渲染组件中的实际字符串表示，而不是哑 toString
*   搜索组件是可插拔的

至少，这就是我自己吃狗粮的理论：默认的查找栏 - 这是用于增量搜索的组件，即在键入时搜索目标 - 使用纯文本字段而不是必需的提示字段。自定义实现：

```
/**
 * A custom JXFindBar which uses a JXTextField instead of a plain as super.
 */ 
public static class PromptSearchBar extends JXFindBar {

    /**
     * Overridden to replace the plain text field in super
     * with a JXTextField (which supports prompts).
     */
    @Override
    protected void initComponents() {
        super.initComponents();
        searchField = new JXTextField() {
            @Override
            public Dimension getMaximumSize() {
                Dimension superMax = super.getMaximumSize();
                superMax.height = getPreferredSize().height;
                return superMax;
            }

        };
        searchField.setColumns(getSearchFieldWidth());
        ((JXTextField) searchField).setPrompt(getUIString(SEARCH_FIELD_LABEL));
    }

    /**
     * Overridden to update the prompt in addition to super
     */
    @Override
    protected void updateLocaleState(Locale locale) {
        super.updateLocaleState(locale);
        ((JXTextField) searchField).setPrompt(getUIString(SEARCH_FIELD_LABEL, locale));
    }
    /**
     * Overridden to not add the search label.
     */
    @Override
    protected void build() {
        setLayout(new FlowLayout(SwingConstants.LEADING));
        add(searchField);
        add(findNext);
        add(findPrevious);
    }

} 
```

在自定义代码中安装：

```
SearchFactory factory = new SearchFactory() {

    @Override
    public JXFindBar createFindBar() {
        return new PromptSearchBar();
    }

};
SearchFactory.setInstance(factory);
factory.setUseFindBar(true); 
```

就是这样 - 聚焦一个 JXTable、JXTree、JXList，... 按 ctr-f 并在搜索字段中键入 away：下一个匹配的单元格将突出显示。

# java - 为什么使用 Thread.currentThread().isInterrupted() 而不是 isInterrupted()？

> ID：11682955
> 
> 赞同：8
> 
> 时间：2012-07-27T07:03:27.610
> 
> 标签：java, multithreading, concurrency

我对 Thread 子类的取消政策的实施有疑问。这样做似乎是常见的做法：

```
class A extends Thread {

  [...]

  public final void run() {
     try {
        while(!Thread.currentThread().isInterrupted()) {
           [...]
        }
     } catch (InterruptedException consumed) {
     }
  }

  public final void cancel() {
     interrupt();
  }    
} 
```

我的问题是关于 Thread.currentThread()... 为什么使用 currentThread() 检查中断标志而不是在 cancel() 方法中设置它是常见的做法？像这样调用 A 的 isInterrupted() 方法还不够：

```
while (!isInterrupted()) {
   [...]
} 
```

我在 Thread JavaDoc、Brian Goetz 关于并发 Java 或 stackoverflow 的优秀书籍中都找不到答案。

提前感谢您的见解！

干杯，乔治

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-07-27T07:05:43.373

在您的情况下，只需调用就足够了，`!isInterrupted()`因为您是从课程中扩展而来的`Thread`。通常你不会从`Thread`- 这就是你打电话的原因`Thread.currentThread()`。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-27T07:44:27.500

从 Java 5 开始，[直接使用线程并不是一个好主意](https://stackoverflow.com/questions/9597331/difference-between-multithreading-with-and-without-executor)。您应该使用 Executor 框架并根据您的要求选择执行策略。实例`isInterrupted()`方法测试该线程是否被中断。线程的中断状态不受此方法的影响。inner`isInterrupted()`其实是一个native方法。

```
906     public boolean isInterrupted() {
907         return isInterrupted(false);
908     } 
```

在使用执行器框架时，您不知道当前哪个线程实例正在执行您的代码，因此约定是使用 Thread.currentThread.isInterrupted()

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-27T07:15:55.697

很清楚：它有效地将`cancel`调用定向到`this.interrupt`; 即应用该`cancel`方法的 Thread 实例。

至于该`run`方法，您陈述的所有内容都是在假设该`run`方法被实际调用并且仅由`class A`. 虽然这可能是一个安全的假设，但它普遍正确吗？现在，如果您要问我一个有意义的例子，说明如何/何时*可能*违反该假设，不确定我能否在深夜把它从帽子里拿出来:-)

考虑除 之外的一种方法`run`。如果它是一个方法，`class A`它应该假设它被同一个线程/在同一个线程上调用吗？也许它是另一个类的方法。因此，这似乎只是消除潜在错误的最佳实践：您的代码可以防止复制/粘贴 [@Thomas 也提出了这一见解]

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-27T07:06:30.027

它应该是相同的，如果该代码在当前运行的线程中。也许作者担心，有人会在其他线程中执行 run 方法，也许他们希望它看起来与其他地方一样。或者他们复制粘贴它并没有想到。

# jqgrid - 重新加载备用呼叫后网格无法正常工作

> ID：11682962
> 
> 赞同：2
> 
> 时间：2012-07-27T07:03:57.470
> 
> 标签：jqgrid

```
$("#tableVisualization").jqGrid('GridUnload');

$("#tableVisualization").jqGrid({
    datatype: "local",
    mtype: 'GET', 
    colNames: this.GetGridColumnNames(),
    colModel: this.GetGridColumnModel(),
    height: "100%", 
    autowidth: true,
    shrinkToFit: true,
    sortname: 'monthID', 
    sortorder: "desc", 
    rowList: [6, 12], 
    rowNum: 12,
    pager: $('#pager3'), 
    viewrecords: true, 
    recordpos: "left", 
    caption: "Table" 
});

//local data array used for example
var data = this.GetGridData();

//FUNCTION CALL
//populate grid with data
$("#tableVisualization").jqGrid("addRowData", "month", data);

$("#tableVisualization").trigger("reloadGrid"); 

$("#tableVisualization").setGridWidth(1040, true); 
```

上面的代码工作正常。

但是，如果我分配`$("#tableVisualization")`给一个变量并在上面的代码中使用该变量，它就不起作用。

`//var grid = $("#tableVisualization")`;

它适用于每个备用呼叫。

例如，如果整个代码在一个名为 的 javascript 方法`LoadGrid()`中，则对该方法的第一次调用有效，第二次调用无效，第三次有效，第四次无效，依此类推。

我在调试过程中看到，当它`grid.jqGrid('GridUnload')`在偶数调用上达到“”时，网格被完全删除（我不确定 html 表是否被删除）并且它不是在`"$("#tableVisualization").jqGrid({.....});"`.

谁能解释一下这种行为的原因。

我可以使场景工作，因为现在我没有使用局部变量，但我想知道为什么它不起作用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T13:50:56.730

我们可以确切地看到网格`GridUnload`方法中发生了什么[`grid.custom.js`](https://github.com/tonytomov/jqGrid/blob/master/js/grid.custom.js)：

```
GridUnload : function(){
    return this.each(function(){
        if ( !this.grid ) {return;}
        var defgrid = {id: $(this).attr('id'),cl: $(this).attr('class')};
        if (this.p.pager) {
            $(this.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager corner-bottom");
        }
        var newtable = document.createElement('table');
        $(newtable).attr({id:defgrid.id});
        newtable.className = defgrid.cl;
        var gid = $.jgrid.jqID(this.id);
        $(newtable).removeClass("ui-jqgrid-btable");
        if( $(this.p.pager).parents("#gbox_"+gid).length === 1 ) {
            $(newtable).insertBefore("#gbox_"+gid).show();
            $(this.p.pager).insertBefore("#gbox_"+gid);
        } else {
            $(newtable).insertBefore("#gbox_"+gid).show();
        }
        $("#gbox_"+gid).remove();
    });
}, 
```

要理解的关键点是：

*   插入一个新`table`元素，其 DOM`id`与旧表相同。我们可以看到它在对 的调用中创建`document.createElement('table')`并插入到对 的调用之一中`insertBefore`。
*   现有的 jqGrid DOM 在对`$("#gbox_"+gid).remove()`. 由于旧的 table 元素包含在 中`gbox`，因此它也被删除。

调用 后`GridUnload`，它所引用的 DOM 元素在页面上不再存在，因此任何引用该元素的代码都是无效的。

这有帮助吗？

# watir - 如何使用 watir 启用富文本编辑器？

> ID：11682965
> 
> 赞同：0
> 
> 时间：2012-07-27T07:04:05.980
> 
> 标签：watir

应用程序中使用了 Tinymce 编辑器。仅当我单击文本区域时，才会激活 rte 工具栏。我可以使用 document.body.focus 专注于文本区域，但仍然没有显示 rte 工具栏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T07:31:52.253

[WYSIWYG Editors](http://watirwebdriver.com/wysiwyg-editors/)有一个关于如何使用 watir-webdriver gem 自动化 TinyMCE 编辑器的示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-24T11:29:09.037

Rte 工具栏仅在鼠标单击事件后启用。所以我使用鼠标左键单击事件来启用 RTE 工具栏。

b=WIN32OLE.new("AutoItX3.Control") b.mouseclick "left",200,550

它解决了我的问题。

# android - 将数据从 javaclass 传递到 html webview

> ID：11682966
> 
> 赞同：0
> 
> 时间：2012-07-27T07:04:08.643
> 
> 标签：android

我在我的应用程序中使用 webview。

现在我想做的是将数据从我的 javaclass 传递到 html。例如，我的 android javaclass 中有一个 textview，当我点击按钮发送时，webview 将显示 html 并显示 Hi + 我在 textview 中输入的名称。

可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T07:07:27.670

检查[使用 WebViews](http://android-developers.blogspot.it/2008/09/using-webviews.html)可能会有所帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T07:09:25.070

例如，您可以生成 html，然后使用[loadData](http://developer.android.com/reference/android/webkit/WebView.html#loadData%28java.lang.String,%20java.lang.String,%20java.lang.String%29)方法将其加载到 WebView。

或者您可以使用[addJavascriptInterface](http://developer.android.com/reference/android/webkit/WebView.html#addJavascriptInterface%28java.lang.Object,%20java.lang.String%29)从 WebView 中的 javaScript 代码调用某些 Java 对象的方法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T07:13:05.420

见下面的代码

```
WebView webview = (WebView) findViewById(R.id.webview);
webview.loadUrl("http://www.xxx.com/web/apps/jots.do"); 
```

# android - 如何获取另一个项目然后单击gridview中的项目？

> ID：11682967
> 
> 赞同：1
> 
> 时间：2012-07-27T07:04:16.113
> 
> 标签：android, gridview

我想知道如何从 gridview 中的选定项目中获取不同的项目。我有匹配图片的gridview游戏。当我单击一个图像时，它会翻转，然后当我首先单击第二个图像时会翻转回来。如何执行此动画？我想获得第一个选定图像的图像视图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T07:24:25.777

您可以通过将最后一个视图保存在变量中来做到这一点

```
View lastView = null;
// .....
gv.setOnItemClickListener(new OnItemClickListener() {

    @Override
    public void onItemClick(AdapterView<?> arg0, View view,
            int position, long arg3) {
        if(lastView != null) {
            // do something with the last view
        }

        // the rest of your code

        lastView = view;
    }

}); 
```

未经测试，但应该可以工作。

# c# - 如何将 RibbonGroup 向右对齐？

> ID：11682972
> 
> 赞同：2
> 
> 时间：2012-07-27T07:04:51.523
> 
> 标签：c#, .net, wpf, ribboncontrolslibrary

我使用 RibbonControlsLibrary。如何将一个 RibbonGroup 向右对齐？它应该只是选项卡中的一组。所有其他组应与左侧对齐。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T11:04:21.333

您不能将 RibbonGroup 向右对齐。功能区不提供执行此操作的功能。

你可以做的是对齐页眉项目......但我不知道它是否对你来说足够： [DevExpress](http://documentation.devexpress.com/#WindowsForms/CustomDocument3452)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-07-12T06:23:55.383

I had the same issue, and I finally found something to do this :

I have 3 RibbonGroupBox. Groupe1 may be aligned on left, Groupe3 may be aligned on right. Groupe2 is just an empty RibbonGroupBox I inserted between Groupe1 and Groupe3.

Code XAML :

```
<Fluent:Ribbon DockPanel.Dock="Top" Title="{x:Static p:Resources.MiseEnBarre}"  x:Name="mainRibbon">
            <Fluent:RibbonTabItem x:Name="MainMenu" Header="{x:Static p:Resources.MainMenu}" SizeChanged="MainMenu_SizeChanged">
                <Fluent:RibbonGroupBox x:Name="Groupe1">
                    <Fluent:Button x:Name="autoNest"  SizeDefinition="Large" LargeIcon="img\image_bar_Nesting.png" Header="{x:Static p:Resources.MenuAutoNest}" Click="AutoNest_Click" />
                    <Fluent:Button x:Name="saveFile"  SizeDefinition="Large" LargeIcon="img\image_save.png" Header="{x:Static p:Resources.MenuSauvegarder}" Click="Sauvegarder_Click" />
                </Fluent:RibbonGroupBox>
                <Fluent:RibbonGroupBox x:Name="Groupe2">

                </Fluent:RibbonGroupBox>
                <Fluent:RibbonGroupBox x:Name="Groupe3">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0" Text="{Binding Path=AvailableCNClist}" HorizontalAlignment="Left"/>
                        <TextBlock Grid.Column="1" Text="{Binding Path=AvailableCNClist2}" HorizontalAlignment="Right"/>
                    </Grid>
                </Fluent:RibbonGroupBox>

            </Fluent:RibbonTabItem>
        </Fluent:Ribbon> 
```

Then to manage the Windows redimensioning, I add on my main window the event SizeChanged="MainWindow_SizeChanged" (In the case your RibbonGroupBox dimensions could also change, just add the same event on them).

```
private void MainWindow_SizeChanged(object sender, SizeChangedEventArgs e)
        {
            UpdateAlignRibbon();
        }

        private void UpdateAlignRibbon()
        {
            Groupe2.Width = MyWindow.ActualWidth - Groupe1.ActualWidth - Groupe3.ActualWidth;
        } 
```

In my case the Groupe3 RibbonGroupBox may change of dimension, so I call UpdateAlignRibbon() from 3 points :

*   After Initialization of my window(including defining the GroupBoxes content)
*   When the MainWindow has its dimensions changed
*   When Groupe1 or Groupe3 have its dimensions changed

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-27T06:01:56.197

Rover，您可以尝试在最后一个左侧 RibbonGroup 和 Right align RibbonGroup 之间添加 RibbonGroup，并将大小分配给与窗口大小相关的新添加的功能区。

例子 `<RibbonGroup Width="400"></RibbonGroup>`

它看起来如下图

![在此处输入图像描述](../Images/7a1c975532715c91cb3c4c1b387c9941.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-04-21T17:08:19.493

您可以进行对齐，但我建议您不要这样做。

```
 <r:RibbonGroup Header="This is a Filler Header With No Functionality but to Take Up Space" Visibility="Hidden">
                  <s:RibbonButton2/>
                  <s:RibbonButton2/>
                  <s:RibbonButton2/>
                  <s:RibbonButton2/>
                </r:RibbonGroup> 
```

客户希望他们的徽标出现在页面顶部的功能区上，但是您在栏上添加的“假”元素越多，缩小窗口大小时“真”元素就会崩溃得越快。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-07-29T01:17:13.740

尝试这个：

```
<RibbonTab Header="Home" x:Name="rtabHome" FlowDirection="RightToLeft" >
    <RibbonGroup Header="Group">
            <TextBlock Text="Example"/>
     </RibbonGroup>
</RibbonTab> 
```

与 FlowDirection="RightToLeft" 一起使用。

# xml - downloadAsFile（谷歌的内容服务）不工作

> ID：11682977
> 
> 赞同：4
> 
> 时间：2012-07-27T07:05:07.017
> 
> 标签：xml, google-apps-script, spreadsheet

我正在尝试使用 Google 脚本的内容服务将信息从电子表格导出到 XML 文件。代码如下所示：

```
function makeXML() {
    var StringToXML = "<tag></tag>";
    var output = ContentService.createTextOutput();
    output.setMimeType(ContentService.MimeType.XML);
    output.setContent(StringToXML);
    output.downloadAsFile("f.xml");
} 
```

当我启动此功能时 - 没有任何反应。虽然没有错误，但该功能运行正常。此外，当我尝试通过在某些行中放置 msgboxes 来调试它时（例如通过获取输出内容并发送消息），一切看起来都很好。除了`downloadAsFile`.

我也尝试过不设置 mime 类型（默认为 TEXT），但仍然`downloadAsFile`无法正常工作。试过谷歌浏览器、火狐。

如何让它发挥作用？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-27T08:31:09.043

您需要返回输出。这是您修改后的代码

```
function makeXML() {
    var StringToXML = "<tag></tag>";
    var output = ContentService.createTextOutput();
    output.setMimeType(ContentService.MimeType.XML);
    output.setContent(StringToXML);
    output.downloadAsFile("f.xml");
    return output;
} 
```

如果你根据你的方法在doGet或doPost中调用这个函数，浏览器会提示你下载文件。

# python - 静态文件 Google App Engine 的处理程序

> ID：11682989
> 
> 赞同：0
> 
> 时间：2012-07-27T07:06:03.337
> 
> 标签：python, google-app-engine, http

App Engine 新手。我需要通过谷歌网站管理员验证我的网站。

这是我添加到 app.yaml 的内容

```
handlers:

- url: /img
  static_dir: static/img

- url: /google6432717e3cdee901.html
  static_files: /google6432717e3cdee901.html
  upload: /google6432717e3cdee901.html 
```

但是访问`site.com/google6432717e3cdee901.html` 给了我一个 404 错误。

如何修复我的处理程序，以便我可以访问该文件并获得验证？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T15:03:31.910

不要`/`在`static_files`and`upload`指令中包含前导（除非文件确实位于文件系统的根目录，这可能是个坏主意）。

# interface - 如何在 D 接口中有意义地使用前置条件契约？

> ID：11682991
> 
> 赞同：5
> 
> 时间：2012-07-27T07:06:08.030
> 
> 标签：interface, d, contracts

当我用“in”合约覆盖 D 中的函数时，会检查继承的“in”合约。如果它们失败，则检查覆盖的“in”合同。如果我没有在合同中指定任何内容，那么它被解释为好像有一个空的“in”合同。所以下面的代码编译运行成功。

```
module main;
import std.stdio;

interface I
{
    void write( int i )
    in
    {
        assert( i > 0 );
    }
}

class C : I
{
    void write( int i )
    {
        writeln( i );
    }
}

int main()
{
    I i = new C;

    i.write( -5 );
    getchar();

    return 0;
} 
```

我只希望在`I.write()`调用时检查先决条件，`i.write()`因为这是静态已知足以让`I.write()`编译器正确运行的条件。*从 OO 的角度来看，在动态调度之后*检查所有先决条件让我觉得很奇怪，因为封装丢失了。

我可以重复前提条件或在所有实现接口的类中编写`in { assert( false ); }`，但这很痛苦。这是D语言的设计错误吗？还是有任何适当的可扩展方式来做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-27T10:18:19.883

[http://dlang.org/dbc.html](http://dlang.org/dbc.html)

> 如果派生类中的函数覆盖其超类中的函数，则必须满足该函数及其基函数的 in 契约之一。然后，覆盖函数就变成了一个放松 in 合约的过程。
> 
> 没有 in 合约的函数意味着函数参数的任何值都是允许的。这意味着如果继承层次结构中的任何函数都没有契约，那么在覆盖它的函数的契约中没有有用的效果。
> 
> 相反，需要满足所有的输出合同，因此覆盖功能成为收紧输出合同的过程。

当多态行为受到质疑时，这实际上是一个困难的设计难题。例如，看看这个带有相关长时间讨论的错误报告：[http ://d.puremagic.com/issues/show_bug.cgi?id=6857](http://d.puremagic.com/issues/show_bug.cgi?id=6857)

关于如何实现所需行为的问题 - 当需要防止复制粘贴时，mixin 总是有效的，但我不确定从按合同设计范式的角度来看是否可以。不幸的是，需要有人在这个问题上更有能力的建议。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T20:47:12.827

D 中的前提条件是函数正确运行的必要条件。如果重载函数，则为它编写新代码，旧的前提条件（旧代码的要求）不一定是新代码的要求。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-31T03:06:06.957

所以这个问题，虽然没有直接讨论接口，是[http://d.puremagic.com/issues/show_bug.cgi?id=6856](http://d.puremagic.com/issues/show_bug.cgi?id=6856)

不过，这可能很难进入，Walter 非常重视没有重大变化的事情。

# javascript - JavaScript for 循环“document.getElementById”

> ID：11682995
> 
> 赞同：-2
> 
> 时间：2012-07-27T07:06:19.457
> 
> 标签：javascript, for-loop

嗨，我正在尝试使用 for 循环抛出单选按钮，ID 为“Group”并获取它的值，这里显示的是我的代码，但它不会在提交时提醒它们的值，

[http://jsfiddle.net/JAwZg/](http://jsfiddle.net/JAwZg/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T07:23:02.727

HTML：

```
<input type="radio" id="group1" name="group" value="1" />
No Changes<br/>
<input type="radio" id="group2" name="group" value="2" />
Gray Scale <br/>
<input type="radio" id="group3" name="group" value="3" />
Old Style<br/>
<input type="radio" id="group4" name="group" value="4" />
Sharpening<br/> 
```

脚本：

```
var ims = document.getElementsByName("group");

for(var i = 0; i < ims.length; i++){
    ims[i].onclick = function(){alert("hi");}
} 
```

​<a href="http://jsfiddle.net/JAwZg/4/" rel="nofollow">http://jsfiddle.net/JAwZg/4/

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-27T07:15:25.347

你也可以这样做。而不是 ID 给它一个类

```
 var yourString; 

   $.each($('.className'), function(i, k){
     yourString += $(k).val()+','; 
     });
    yourString = $.trim(yourString);
    yourString = yourString.substring(0, yourString.length - 1); 
```

# tridion - 如何获取 Revisor 详细信息？

> ID：11682997
> 
> 赞同：2
> 
> 时间：2012-07-27T07:06:19.510
> 
> 标签：tridion, tridion-2011

我正在尝试获取页面的`Revisor`用户`CheckOutUser`详细信息。下面是我的代码

```
Page page = engine.GetObject(package.GetValue("Page.ID")) as Page;
string revisor = page.Revisor.Description;
string currentuser = page.CheckOutUser.Description; 
```

目前，页面由用户“A”更新，用户“B”现在签出页面。但是我得到`Revisor`and`CheckOutUser`作为“B”，但修订者应该是“A”

“page.Revisor.Description”正在考虑签出版本而不是当前版本。

如何获得正确的修订者详细信息？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-27T07:41:12.317

TOM.NET API 文档为`VersionedItem.Revisor`属性声明了以下内容：*获取一个值，该值指示上次修改此（此版本）项目的用户。*

因此，您确实会得到此时签出该项目的用户，而不是在那之前最后一次修改它的用户。

所以如果你需要以前的 Revisor，你应该打开那个版本的项目，从它的历史中读取它。您可以简单地使用`Session.GetObject(TcmUri)`您使用以前版本创建 TcmUri 的新实例的位置：`TcmUri(itemId, itemType, publicationId, version)`

顺便说一句，您提供的代码示例来自模板，但您表示您在事件处理程序中使用它（事件处理程序中没有引擎）。在模板中，您不会得到此结果，因为在发布时应该使用项目的最后签入版本。对于预览，您将看到与现在相同的结果，因为这再次与当前（签出）版本一起使用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-27T07:31:49.093

如果您正在阅读页面的签入版本（即您的 ID 是“tcm:xx-xx-64”），它会按预期工作。但是，如果您正在阅读动态版本（即签出版本-“tcm：xx-xx-64-v0”），您将在相同的时间得到`Revisor`情况`CheckOutUser`。原因是您页面的动态版本与签入版本不同。动态版本只是临时对象，其中所有操作都由签出项目的用户完成，因此`Revisor`对于`CheckOutUser`这个版本的页面来说，就是签出它的用户。