# StackOverflow 问答 11390000-11390999

# iphone - UILable 上的 UIButton 没有被点击

> ID：11390003
> 
> 赞同：0
> 
> 时间：2012-07-09T06:27:16.267
> 
> 标签：iphone

我有一个按钮，该按钮已添加到 UILabel 中，并且 UILabel 正在添加到 UIView 上，最后 UIView 已添加到滚动视图中。

这是我的代码：

```
nextBtn=[UIButton buttonWithType:UIButtonTypeCustom];
nextBtn.frame=CGRectMake(250, 8, 26, 26);           //2626
[nextBtn setImage:[UIImage imageNamed:@"disclosure1.png"] forState:UIControlStateNormal];
[nextBtn addTarget:self action:@selector(nextBtnClkd) forControlEvents:UIControlEventTouchUpInside];
[reviewLabel addSubview:nextBtn];
[middleView addSubview:reviewLabel];
[mScrollView addSubview:middleView];
[self.view addSubview: mScrollView]; 
```

现在 nextBtnClkd 方法不会在按钮单击时被调用。

请帮我。

谢谢

本

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T06:36:02.297

显示您的标签和 middleView 代码。

```
nextBtn=[UIButton buttonWithType:UIButtonTypeCustom];
nextBtn.frame=CGRectMake(250, 8, 26, 26);
[nextBtn setImage:[UIImage imageNamed:@"disclosure1.png"] forState:UIControlStateNormal];
[nextBtn addTarget:self action:@selector(nextBtnClkd) forControlEvents:UIControlEventTouchUpInside];

[nextBtn addSubview:reviewLabel];  //Add label on Btn.  
[middleView addSubview:nextBtn];
[mScrollView addSubview:middleView];
[self.view addSubview: mScrollView]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T06:34:01.080

你的 UILabel 接受交互事件吗？

```
reviewLabel.userInteractionEnabled = YES; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T06:39:02.777

您的标签的用户交互设置为 NO。所以首先将其设置为YES。

```
reviewLabel.userInteractionEnabled=YES; 
```

# java - 音译词匹配

> ID：11390004
> 
> 赞同：-2
> 
> 时间：2012-07-09T06:27:22.427
> 
> 标签：java, dictionary, transliteration

我正在用 java 进行音译，因为我们知道用罗马脚本编写时语言中有不同的单词组合，我正在使用的语言也是如此。为此，必须在所有可能的组合中选择一个最合适的词！这就是我想做的，我希望你们建议如果我做错了方式，我认为如果我做出所有可能的组合然后“在我的语言词典中”匹配它们以匹配最合适的词并显示它，这是个好主意吗？如果不是，我该如何以更好的方式执行它或者更接近的解决方案是什么？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T11:09:01.950

请参阅[ICU4J](http://userguide.icu-project.org/transforms/general)类 com.ibm.icu.text.Transliterator

# netbeans - Netbeans：是否可以为每个不同的开发需求安装多个 Netbeans？

> ID：11390009
> 
> 赞同：4
> 
> 时间：2012-07-09T06:27:27.217
> 
> 标签：netbeans

我正在使用 Netbeans 来满足各种开发需求。但是安装大量插件会使 Netbeans 非常慢。是否可以为每个特定的开发需求（如 Eclipse）安装多个 Netbeans？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-24T15:56:11.083

还有另一种方法可以让多个 Netbeans 满足不同的开发需求。通过使用这种方法，您不必拥有多个安装或归档版本的 Netbeans。您唯一需要做的就是为每个开发配置文件提供不同的用户目录。这里是步骤：

*   为您的新开发配置文件创建一个新文件夹。例如“用于 PHP 的 Netbeans”。
*   为您的新个人资料创建一个新的捷径。
*   将以下参数添加到快捷方式：`--userdir pat-to-yor-new-folder`
*   通过单击新的快捷方式打开 Netbens 并停用您不会使用的插件

Windows 快捷方式：
![Windows 快捷方式](../Images/cdc347c429a856fc76a31daa578daab2.png)

Linux 捷径：
![Linux 捷径](../Images/c3e714491c776a3ad560d8a698c3db5d.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-09T06:30:06.473

是的，您可以下载[Netbeans 归档二进制文件](http://netbeans.org/community/releases/41/install.html#archives)并将其存储在 HD 上的不同位置。最新版本：
[https](https://netbeans.apache.org/download/index.html)
://netbeans.apache.org/download/index.html 您可能还想阅读[此内容](http://ptrthomas.wordpress.com/2008/04/13/never-install-netbeans-again/)

# android - 如何从未捕获的异常处理程序中启动新活动

> ID：11390010
> 
> 赞同：0
> 
> 时间：2012-07-09T06:27:38.527
> 
> 标签：android

在我的 Android 应用程序中，我需要管理自定义 Activity 类中所有未捕获的异常。现在我在这里遇到问题，我无法从内部启动 Activity。即使 Activity 没有开始，也没有例外。

```
public class MyActivity extends Activity {
    Context context;
    Throwable throwable;
    @Override
    protected void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        context=getApplicationContext();
        final AlertDialog.Builder builder= new AlertDialog.Builder(this);

        Thread.currentThread().setUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler() {

            @Override
            public void uncaughtException(Thread thread, Throwable ex) {
                throwable=ex;
                new Thread(){
                    @Override
                    public void run() {
                        Looper.prepare();

                        builder.setTitle("Warning...!");
                        builder.create();
                        builder.setNegativeButton("Close", new DialogInterface.OnClickListener() {

                            @Override
                            public void onClick(DialogInterface dialog, int which) {
                                finish();

                            }
                        });
                        builder.setPositiveButton("More Details", new DialogInterface.OnClickListener() {

                            @Override
                            public void onClick(DialogInterface dialog, int which) {
                                Intent intent= new Intent(MyActivity.this,Report.class);
                                intent.putExtra("error", throwable);
                                startActivity(intent);

                            }
                        });
                        builder.setMessage(throwable.getMessage());
                        builder.show();
                        Looper.loop();
                    }
                }.start();  
            }
        });
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T04:20:23.297

你需要改变这条线

```
startActivity(intent); 
```

经过

```
context.startActivity(intent); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-12T12:48:55.127

从我搜索的内容来看，您似乎无法`Activity`从`UncaughtExceptionHandler`. 您最多可以显示一条`Toast`消息。

```
Toast.makeText(app, "Some message", Toast.LENGTH_SHORT).show(); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-09T06:48:57.650

这段代码对我来说很好用。

**注意：**`2 seconds`在我定义了未捕获的异常代码之后需要加载新的活动。

只需将下面的代码放在 Activity 的 onCreate 方法中

```
Thread.setDefaultUncaughtExceptionHandler(new UncaughtExceptionHandler(){

        @Override
        public void uncaughtException(Thread thread, Throwable ex) {
        AlarmManager mgr = (AlarmManager) getSystemService(Context.ALARM_SERVICE);
        mgr.set(AlarmManager.RTC, System.currentTimeMillis() + 2000, intent);
        System.exit(2); 
        startActivity(new Intent(CurrentActivity.this,TargetActivity.class));
    }
    }); 
```

如果您对此有任何麻烦，请告诉我！！

# c# - 在 C# 中获取另一个应用程序的边界？

> ID：11390017
> 
> 赞同：0
> 
> 时间：2012-07-09T06:27:56.263
> 
> 标签：c#, winforms, screenshot, visual-c#-express-2010

这是我的代码：

```
 public string selectedProgram;

    [DllImport("user32.dll", CharSet = CharSet.Auto, ExactSpelling = true)]
    public static extern IntPtr GetForegroundWindow();
    [DllImport("user32.dll")]
    private static extern bool GetWindowRect(IntPtr hWnd, Rectangle rect); 

    private void button2_Click(object sender, EventArgs e)
    {
        Process[] process = Process.GetProcesses();
        foreach (var p in process)
        {
            selectedProgram = listView1.SelectedItems.ToString();
            Rectangle bonds = new Rectangle();
            GetWindowRect(Handle, bonds);  
            Bitmap bmp = new Bitmap(bonds.Width, bonds.Height);
            using (var gfx = Graphics.FromImage(bmp))
            {
                gfx.CopyFromScreen(bonds.Location, Point.Empty, bonds.Size);
                pictureBox1.Image = bmp;
                frm2.Show();
                frm2.pictureBox1.Image = pictureBox1.Image;
            }
        } 
```

我收到一个错误或一些绿色突出显示`GetWindowRect(Handle, bonds);`：

```
A call to PInvoke function 'Screen Shot!WindowsFormsApplication1.Form3::GetWindowRect' has unbalanced the stack. This is likely because the managed PInvoke signature does not match the unmanaged target signature. Check that the calling convention and parameters of the PInvoke signature match the target unmanaged signature. 
```

我该如何解决这个问题，以便我可以获取其他应用程序窗口的屏幕截图？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T06:40:48.537

您的声明缺少“out”并且使用了错误的矩形类型，它应该如下所示：

```
private static extern bool GetWindowRect(IntPtr hWnd, out RECT rect); 
```

你称之为：

```
GetWindowRect(Handle, out bonds); 
```

Rectangle 还需要是 WinApi 矩形，而不是 .net 类。有关其定义，请参见[此处](http://www.pinvoke.net/default.aspx/Structures/RECT.html)。惯例是称它为 RECT 而不是 Rectangle。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T14:07:30.397

查看[pinvoke.net](http://www.pinvoke.net/default.aspx/user32/GetWindowRect.html)（很好的参考），签名`GetWindowRect`应该是：

```
public static extern bool GetWindowRect(HandleRef hwnd, out RECT lpRect); 
```

它也可以这样做，这不需要您定义自定义`RECT`结构：

```
public static extern bool GetWindowRect(IntPtr hwnd, out Rectangle lpRect); 
```

如果这不起作用，您可以`RECT`基于[此页面](http://www.pinvoke.net/default.aspx/Structures/rect.html)定义一个结构，并使用：

```
public static extern bool GetWindowRect(IntPtr hwnd, out RECT lpRect); 
```

pinvoke.net 页面上`RECT`显示了如何在 和 之间进行`RECT`转换`Rectangle`。

# android - 如何从服务中调用活动方法

> ID：11390018
> 
> 赞同：3
> 
> 时间：2012-07-09T06:27:58.277
> 
> 标签：android, service

当时如何调用方法 从服务到活动。我只想使用计时器函数和处理程序从服务 .am 调用特定方法。

在我的活动中，方法名称是 savedata()，我想调用这个函数

服务

```
public class MyService extends Service 
{
    @Override
    public IBinder onBind(Intent intent) 
    {
        return null;
    }

    @Override
    public void onCreate() 
    {
        Log.d(TAG, "onCreate");
    }

    @Override
    public void onDestroy() 
    {
        Log.d(TAG, "onDestroy");
    }

    public void onStart(Intent intent, int startid) 
    {
        Timer mTimer = new Timer(user);
        mTimer.scheduleAtFixedRate(new mainTask(), 5000,60000);//1 hour=3600 s

    }

    private class mainTask extends TimerTask 
    { 
        public void run() 
        {
            toastHandler.sendEmptyMessage(0);
        }
    }  

    private final Handler toastHandler = new Handler() 
    {
        public void handleMessage(Message msg) 
        {
                Intent myIntent = new Intent(getBaseContext(),StorageHelper.class);
                myIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                startActivity(myIntent);//here i start the activity but i need to acces the particular method only.

        }
    };    

 } 
```

**更新**

**活动**

```
public class StorageHelper extends Activity
{
    final DBAdapter1 database=new DBAdapter1(this);

MessageCount objmsgCount=new MessageCount();
String msgCount;
int count;
String []tokens=null;
String notify=null;
int userid=71; 

 public  String savedata()
    {
        msgCount=objmsgCount.getMessageCount();
        {
            try {
                database.open();
            } catch (SQLException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            }
                    long id=database.insert(71,4,"yes"); 
                    database.close();

        return "success";
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T06:51:07.700

这是一个很好的问题，之前可能被问过很多次，但一开始就难倒我。

您有几个选项，其中最简单的方法是在您的活动中注册一个侦听器，但这需要您实现**onBind(Intent)**以便您可以从活动连接到服务，以便您可以注册侦听器。

以下示例向您展示了如何执行此操作，一旦您使用**setServiceClient(ExampleServiceClient)**将活动注册为侦听器，服务就可以在活动上调用方法**exampleServiceClientMethod()**。

您会注意到我在注册客户端时使用了 WeakReference，请始终确保在调用添加到 ExampleServiceClient 的任何方法时检查是否仍有引用。

```
public class ExampleService extends Service {

    public interface ExampleServiceClient {
        void exampleServiceClientMethod();
    }

    private WeakReference<ExampleServiceClient> mClient;

    public void setServiceClient(ExampleServiceClient client) {
        if(client == null) {
            mClient = null;
            return;
        }

        mClient = new WeakReference<ExampleServiceClient>(client);
    }

    public class ExampleBinder extends Binder {
        ExampleService getService() {
            return ExampleService.this;
        }
    }

    private IBinder mBinder = new ExampleBinder();

    @Override
    public IBinder onBind(Intent intent) {
        return mBinder;
    }
} 
```

您的活动：

```
public class ExampleServiceActivity extends Activity implements ExampleServiceClient {

    private ExampleServiceConnection mServiceConnection = new ExampleServiceConnection();
    private ExampleService mService = null;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        bindService(new Intent(this, ExampleService.class), mServiceConnection, BIND_AUTO_CREATE);
    }

    @Override
    protected void onDestroy() {
        super.onDestroy();

        unbindService(mServiceConnection);
    }

    class ExampleServiceConnection implements ServiceConnection {

        public void onServiceConnected(ComponentName name, IBinder service) {
            mService = ((ExampleBinder)service).getService();

            mService.setServiceClient(ExampleServiceActivity.this);
        }

        public void onServiceDisconnected(ComponentName name) {
            mService.setServiceClient(null);
            mService = null;

        }
    }

    public void exampleServiceClientMethod() {
        // TODO Auto-generated method stub
    }
} 
```

希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T06:55:29.637

我猜你走错路了。如果不想启动Activity，只想调用它的方法，最好把这个方法推出Activity。有很多职责的类被认为是一个糟糕的设计。考虑使用 [Application](http://developer.android.com/reference/android/app/Application.html)类。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-08T07:13:13.840

> 共有三种方式来处理来自 Activity 的服务。

*   IBinder 实现
*   使用信使
*   使用 AIDL

恕我直言，最简单的方法是使用绑定服务

```
public class Server extends Service{

 IBinder mBinder = new LocalBinder();

 @Override
 public IBinder onBind(Intent intent) {
  return mBinder;
 }

 public class LocalBinder extends Binder {
  public Server getServerInstance() {
   return Server.this;
  }
 }

 public String getTime() {
  SimpleDateFormat mDateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
  return mDateFormat.format(new Date());
 }
}

package com.example.bindservice.binder;

import android.app.Activity;
import android.content.ComponentName;
import android.content.Intent;
import android.content.ServiceConnection;
import android.os.Bundle;
import android.os.IBinder;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.TextView;
import android.widget.Toast;

import com.example.bindservice.binder.Server.LocalBinder;

public class Client extends Activity {

 boolean mBounded;
 Server mServer;
 TextView text;
 Button button;

 @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        text = (TextView)findViewById(R.id.text);
        button = (Button) findViewById(R.id.button);
        button.setOnClickListener(new OnClickListener() {

   public void onClick(View v) {
    text.setText(mServer.getTime());
   }
  });
    }

 @Override
 protected void onStart() {
  super.onStart();
  Intent mIntent = new Intent(this, Server.class);
        bindService(mIntent, mConnection, BIND_AUTO_CREATE);
 };

 ServiceConnection mConnection = new ServiceConnection() {

  public void onServiceDisconnected(ComponentName name) {
   Toast.makeText(Client.this, "Service is disconnected", 1000).show();
   mBounded = false;
   mServer = null;
  }

  public void onServiceConnected(ComponentName name, IBinder service) {
   Toast.makeText(Client.this, "Service is connected", 1000).show();
   mBounded = true;
   LocalBinder mLocalBinder = (LocalBinder)service;
   mServer = mLocalBinder.getServerInstance();
  }
 };

 @Override
 protected void onStop() {
  super.onStop();
  if(mBounded) {
   unbindService(mConnection);
   mBounded = false;
  }
 };
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-04-29T12:52:18.987

像这样编写您的活动和服务类：

**我的活动.java**

```
package com.rdc;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.widget.Toast;

public class MyActivity extends Activity {

    static MyActivity instance;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        instance = this;
        Intent myIntent = new Intent(getBaseContext(), MyService.class);
        startService(myIntent);
    }

    public void showToast() {
        Toast.makeText(getBaseContext(), "called from ervice", 1).show();

    }
} 
```

**我的服务.java**

```
package com.rdc;

import android.app.Service;
import android.content.Intent;
import android.os.IBinder;
import android.util.Log;
import android.widget.Toast;

public class MyService extends Service {

    @Override
    public IBinder onBind(Intent i) {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public void onCreate() {
        Log.v("Debug", "Service has been Created..");
        // code to execute when the service is first created
    }

    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
        Log.v("Debug", "Service has been Started..");
        Toast.makeText(getBaseContext(), "Service has been Started..",
                Toast.LENGTH_SHORT).show();

        // getting the static instance of activity
        MyActivity activity = MyActivity.instance;

        if (activity != null) {
            // we are calling here activity's method
            activity.showToast();
        }

        return START_STICKY;
    }

} 
```

# javascript - 通过 websockets 使用 javascript 传输文件

> ID：11390021
> 
> 赞同：5
> 
> 时间：2012-07-09T06:28:28.293
> 
> 标签：javascript, html, websocket

你好我正在尝试传输文件。我有一些程序将文件转换为二进制文件并使用 c++ 通过网络传输它们。我想知道我是否能够使用 javascripts 和 websockets 传输文件？任何有关如何将我的 c++ 程序集成到 javascript 中的示例将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-11T20:01:40.327

Javascript 有两种新的二进制类型：类型化数组（arraybuffers）和 Blob（基本上是文件）。

WebSockets 支持发送和接收类型化的数组和 blob。

要使用 WebSockets 在两个浏览器之间传输数据，您需要一个服务器供它们连接（此时浏览器 WebSocket 支持仅是客户端）。

如果你有一个现有的 C++ 服务器来处理文件传输，那么你应该能够相当容易地向它添加 WebSocket 服务器支持。您可以在此页面上找到 WebSocket 客户端和服务器实现：[http ://en.wikipedia.org/wiki/Comparison_of_WebSocket_implementations](http://en.wikipedia.org/wiki/Comparison_of_WebSocket_implementations)

在 JavaScript 中建立与 WebSocket 服务器的连接，您可以执行以下操作：

```
ws = new WebSocket("ws://100.101.102.103"); 
```

send() 方法支持普通字符串、类型化数组或 blob。发送类型化的数组和 blob 将导致服务器接收到的帧为二进制帧（操作码 = 2）。

```
ws.send(myTypedArray); 
```

要接收消息，您需要注册一个消息处理程序：

```
ws.onmessage = function (evt) {
    console.log("Got ws message: " + evt.data);
}; 
```

如果服务器发送二进制帧/消息，则事件的 onmessage 数据属性将包含类型化数组或 blob，具体取决于 binaryType 属性的设置。您可以更改接收到的二进制数据的类型，如下所示：

```
ws.binaryType = "blob"; // or "arraybuffer" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T06:31:50.483

你试图做的事情是不可能的。WebSocket 只能在客户端模式下运行；它不能接受来自另一个 WebSocket 客户端（例如另一个浏览器）的连接。

可以通过服务器将 WebSocket 客户端相互连接，但此时它不再是真正的点对点，所以我不确定这是否真的有用或有趣了。

请参阅：[Websockets 是否允许服务器在浏览器中运行？](https://stackoverflow.com/questions/4786352/will-websockets-allow-a-server-to-run-in-the-browser)

# java - 基于现有的 Hibernate Validator 创建自定义的 Hibernate Validator

> ID：11390034
> 
> 赞同：5
> 
> 时间：2012-07-09T06:29:22.347
> 
> 标签：java, hibernate, hibernate-validator

我想创建一个`@LengthIfNotBlank(min=,max=)`基于 Hibernates约束的自定义`@Length`约束：

```
@Target( { METHOD, FIELD, ANNOTATION_TYPE })
@Retention(RUNTIME)
@Constraint(validatedBy = LengthIfNotBlankValidator.class)
@Documented
public @interface LengthIfNotBlank {
    String message() default "{com.mycompany.LengthIfNotBlank}";
    Class<? extends Payload>[] payload() default {};
    int max() default Integer.MAX_VALUE;
    Class<?>[] groups() default {};
    int min() default 0;
}

public class LengthIfNotBlankValidator extends LengthValidator {
    @Override
    public boolean isValid(String value, ConstraintValidatorContext constraintValidatorContext) {
        return StringUtils.isBlank(value) || super.isValid(value, constraintValidatorContext);
    }
} 
```

例外：

```
[java] javax.validation.ValidationException: Unable to initialize com.example.constraints.LengthIfNotBlankValidator
[java] Caused by: java.lang.ClassCastException: $Proxy32 cannot be cast to org.hibernate.validator.constraints.Length 
```

**更新**

仍然得到这个例外:-(

```
public class LengthIfNotBlankValidator extends LengthValidator {
    public void initialize(LengthIfNotBlank parameters) {
        Map<String,Object> elements = new HashMap<String,Object>();
        elements.put("message", parameters.message());
        elements.put("payload", parameters.payload());
        elements.put("groups", parameters.groups());
        elements.put("min", parameters.min());
        elements.put("max", parameters.max());

        AnnotationDescriptor<Length> descriptor = AnnotationDescriptor.getInstance(Length.class, elements);
        Length length = AnnotationFactory.create(descriptor);
        super.initialize(length);
    }

    @Override
    public boolean isValid(String value, ConstraintValidatorContext constraintValidatorContext) {
        return StringUtils.isBlank(value) || super.isValid(value, constraintValidatorContext);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:52:51.057

由于注解类型不能被继承，您应该重写`initialize()`并将类型的实际实例传递`Length`给`super.initialize()`.

请注意，您不能直接创建注释类型的实例，因此您必须使用类似[`AnnotationFactory`](http://docs.jboss.org/hibernate/validator/4.2/api/org/hibernate/validator/util/annotationfactory/AnnotationFactory.html).

此外，由于类型安全约束，我不确定编译器是否允许您这样做。如果没有，请使用组合而不是继承（即创建一个类型的字段`LengthValidator`）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T08:54:40.543

我认为你不应该为此烦恼：Hibernate`LengthValidator`非常简单，无论你做什么，如果你自己重新实现代码，你最终会得到更多的代码：

```
public class LengthIfNotBlankValidator implements ConstraintValidator<LengthIfNotBlank, String> {
    private int min;
    private int max;

    public void initialize(LengthIfNotBlank parameters) {
        min = parameters.min();
        max = parameters.max();
        validateParameters();
    }

    public boolean isValid(String value, ConstraintValidatorContext constraintValidatorContext) {
        if ( StringUtils.isBlank(value) ) {
            return true;
        }
        int length = value.length();
        return length >= min && length <= max;
    }

    private void validateParameters() {
        if ( min < 0 ) {
            throw new IllegalArgumentException( "The min parameter cannot be negative." );
        }
        if ( max < 0 ) {
            throw new IllegalArgumentException( "The max parameter cannot be negative." );
        }
        if ( max < min ) {
            throw new IllegalArgumentException( "The max cannot be less than the min." );
        }
    }
} 
```

（这只是适用于您的特定情况的 Hibernate 代码）。

`LengthValidator`另外，我认为在实施时不可能进行扩展`ConstraintValidator<LengthIfNotBlank, String>`，这对您的验证者来说是强制性的。

但是请注意，如果您想重用未参数化的验证器（或具有常量参数的验证器），您可以简单地用重用的验证器注释您的验证器（并且可能添加`@ReportAsSingleViolation`）

# android - android中的非均匀图像裁剪

> ID：11390036
> 
> 赞同：1
> 
> 时间：2012-07-09T06:29:37.930
> 
> 标签：android, image, crop

我正在使用 android 的内置图像裁剪功能。但我需要不均匀地裁剪图像，这与 Android 的裁剪方法不同。在该方法中，当我们扩展任何一侧（左侧、右侧、顶部或底部）时，对应的另一侧也会扩大。我不想要这样的裁剪。我只需要在特定方向进行清晰的裁剪，而其他方面保持不变。

# curl - 在 Mac OS X 10.6 上为 Python 3 安装 numpy 和 matplotlib 时出现卷曲错误

> ID：11390039
> 
> 赞同：2
> 
> 时间：2012-07-09T06:29:53.490
> 
> 标签：curl, numpy, python-3.x, matplotlib, libcurl

Matplotlib 最近[发布了一个 python 3 兼容版本](https://github.com/matplotlib/matplotlib)。要安装 matplotlib，您需要 numpy。

我按照[此处](https://stackoverflow.com/questions/8605847/how-to-install-matplotlib-with-python3-2)的说明安装 matplotlib。我尝试根据[此处的 Mac OS Lion 10.7 说明](https://stackoverflow.com/questions/10557857/install-numpy-for-python-3-2-3-on-os-x-10-7-4)安装 numpy （希望它可能足够相似），但终端卡在第一个命令上：

```
$curl http://python-distribute.org/distribute_setup.py | python3

dyld: Library not loaded: @rpath/libcurl.4.dylib
  Referenced from: /Library/Frameworks/Python.framework/Versions/Current/bin/curl
  Reason: Incompatible library version: curl requires version 7.0.0 or later, but libcurl.4.dylib provides version 6.0.0 
```

第二个相同（如预期的那样）：

```
$ curl https://raw.github.com/pypa/pip/master/contrib/get-pip.py | python3

dyld: Library not loaded: @rpath/libcurl.4.dylib
  Referenced from: /Library/Frameworks/Python.framework/Versions/Current/bin/curl
  Reason: Incompatible library version: curl requires version 7.0.0 or later, but libcurl.4.dylib provides version 6.0.0 
```

有关如何解决 curl 错误的任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T14:31:55.700

从[这篇文章](http://blenderartists.org/forum/showthread.php?230882-appleseed-renderer-%28now-with-experimental-Blender-exporter!%29&p=2098877&viewfull=1#post2098877)中，我找到了更新 curl 的说明。

但我担心下载 Mac 安全版本，所以我去了[这个页面](http://curl.haxx.se/download.html)，向下滚动到 Mac 部分并在 Apple 网站上选择了一个。

最后我决定安装这个版本作为一个额外的curl（即不替换系统curl），所以这里是修改后的说明：

1.  下载 curl 源代码（链接 #2）
2.  在某处解压缩 zip 文件
3.  打开终端窗口并转到包含 curl 源的目录
4.  类型：`$CFLAGS=-m64 ./configure --prefix=`*`pathname`*
5.  类型：`$make`
6.  类型：`$sudo make install`

要运行它，请 cd 进入*路径名*/bin/ 目录，然后运行：

```
$ ./curl URL_OF_DOWNLOAD | python3 
```

# html - 您可以相对或绝对地在 display:table-cell 中定位项目吗？

> ID：11390046
> 
> 赞同：0
> 
> 时间：2012-07-09T06:30:24.730
> 
> 标签：html, css

我有一个链接，我希望它始终位于它所在单元格的右下角。现在该链接位于 < p > 元素中。我尝试了绝对定位和相对定位，但我可以得到我想要的效果。

我有一排有 4 个单元格的行，当尝试应用绝对位置时，它将元素带到右侧的最后一个单元格......而不是仅仅将它放在它所在的单元格中。我尝试了各种方法，但不确定是否我肯定很累或试图做不可能的事情。

我对 css 表很陌生，所以我可能认为这一切都是错误的。

这是一个例子：

*   [http://jsfiddle.net/56H5x/1/](http://jsfiddle.net/56H5x/1/)

最右侧的“了解更多”链接应位于第一个单元格的右下角。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-26T01:33:52.463

扩展 Ahsan Rathod 在 Firefox 中解决此问题的答案，将您的内容包装在 div 中，并将您的属性设置在此 div 上，而不是将 div 设置为 display table-cell

```
.cell-div {display:table-cell}
.relative-div {position:relative; width:100%}
.absolute-el {position:absolute}

<div class="cell-div">
    <div class="relative-div">
        <div class="absolute-el">
            <img ... >
        </div>
    </div>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T06:39:10.437

在设置在具有元素的父元素上设置`position:absolute`的子元素上。`<p>``position:relative``<div>``<p>`

所以子元素将相对于它的父元素。

编辑：

在 Chrome、Safari、Opera 和 IE 中使用[JS](http://jsfiddle.net/56H5x/26/) Fiddle

`position:relative`但在Firefox 中不兼容，因为 Firefox 不服从`display:table-cell`元素。

请参阅[参考资料](https://bugzilla.mozilla.org/show_bug.cgi?id=35168)：

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T07:12:44.227

编辑：对不起..!! 错过了 ：）。正如 ahsaan 所说，添加相对于 .layout-cell 的位置并修改您的 HTML，如下所示。

```
 .layout-cell {
    display: table-cell;
    vertical-align: top;
    position: relative;
 }

 .layout-cell div{
   position:absolute;
   bottom:0;
   right:0;
  }

<div class="layout-cell columnBody-wrapper curvedBottom">
    <p>Column 3</p>
    <div><a class="button button" href="#">Learn More</a></div>
</div> 
```

# jquery - Mouseenter 和 AJAX 事件 - JQUERY

> ID：11390051
> 
> 赞同：0
> 
> 时间：2012-07-09T06:31:08.867
> 
> 标签：jquery

嗨，我对 mouseenter 和 ajax 触发器有疑问。如果我像 1 秒那样专注于对象，我想触发 ajax。如果我离开了对象，它不应该触发 ajax 事件。

```
$('.popHover').mouseenter(function(e){
    setTimeout(function(){
    // ajax event here and pophover will show
    },1000)
}).mouseout(function(e){
    // close pophover
}) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T06:33:59.723

您可以使用[clearTimeout](https://developer.mozilla.org/en/DOM/window.clearTimeout)。

```
var timeout_id;

$('.popHover').mouseenter(function(e){
    timeout_id = setTimeout(function(){
    // ajax event here and pophover will show
    },1000);
}).mouseout(function(e){
    // close pophover
    clearTimeout(timeout_id);
}); 
```

# iphone - iphone 3gs cameraoverylay 只显示白屏

> ID：11390054
> 
> 赞同：0
> 
> 时间：2012-07-09T06:31:23.437
> 
> 标签：iphone, camera, overlay, iphone-4

我正在创建简单的自定义相机应用程序。所以。我试图自定义闪光灯设置按钮和捕捉按钮。它适用于 iPhone4 和 iPhone4s……但不幸的是……它在 iPhone3gs 上显示白屏。有什么问题？

```
#define CAMERA_TRANSFORM_X 1
#define CAMERA_TRANSFORM_Y 1

#define SCREEN_WIDTH  320
#define SCREEN_HEIGTH 480

- (void) showCamera
{    
    overlay = [[CustomOverlayView alloc]
               initWithFrame:CGRectMake(0, 0, SCREEN_WIDTH, SCREEN_HEIGTH)];
    overlay.delegate = self;

    self.picker = [[UIImagePickerController alloc] init];
    self.picker.delegate = self;
    self.picker.navigationBarHidden = YES;
    self.picker.toolbarHidden = YES;
    self.picker.wantsFullScreenLayout = YES;
    self.picker.sourceType = UIImagePickerControllerSourceTypeCamera;
    self.picker.showsCameraControls = NO;
    self.picker.cameraViewTransform = CGAffineTransformScale(self.picker.cameraViewTransform, CAMERA_TRANSFORM_X, CAMERA_TRANSFORM_Y);
    self.picker.cameraOverlayView = overlay;
    [self.view addsubview self.picker.view];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:27:28.030

在您的根视图控制器方法中调用您的 showCamera 方法，如果您不使用 IB `viewDidLoad`，则在其方法中调用。`init`

您应该使用

```
[self.navigationController presentModalViewContoller:self.picker animated:NO]; 
```

# android - Android - 如何在谷歌地图视图中禁用水平滚动？

> ID：11390058
> 
> 赞同：2
> 
> 时间：2012-07-09T06:31:42.870
> 
> 标签：android, android-mapview

我`google MapView`在我的应用程序中使用并将缩放级别设置为 2，以便可以看到带有大陆名称的世界地图。现在我想禁用水平滚动。任何人都可以分享一些关于如何做到这一点的想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T16:20:02.643

刚刚有了一个想法。使用`MotionEvent.AXIS_*`标志。

```
@Override
public boolean onTouch(View view, MotionEvent event) {
    if (event.getAction() == MotionEvent.ACTION_AXIS_...) {
        // ...
    }
    return sper.onTouchEvent(event);
} 
```

查看 AXIS_HSCROLL、AXIS_VSCROLL、AXIS_X、AXIS_Y、AXIS_Z：[文档](http://developer.android.com/reference/android/view/MotionEvent.html)

# jquery - 悬停时淡入第二张图像

> ID：11390061
> 
> 赞同：0
> 
> 时间：2012-07-09T06:31:55.300
> 
> 标签：jquery, hover, fade

我尝试让图像悬停功能与褪色一起使用。它适用于 Chrome，但不适用于 Firefox 和 IE。在 Chrome 中它褪色很好，但在 Firefox 和 IE 中它只是在没有褪色的情况下交换。

我的代码如下所示：

```
$("#test1").hover(
  function() {
    $(this).css("background", "url(http://xxxxxx/wp-content/themes/xxxx/images/xxxx-color.png) center no-repeat").fadeIn("slow");
  },
  function() {
    $(this).css("background", "url(http://xxxxxx/wp-content/themes/xxxx/images/xxxxxx-bw.png) center no-repeat").fadeIn("slow");
  }
);
```

```
#footerLogosStart {
  text-align: center;
  height: 100px;
  width: 240px;
  float: left;
}

#footerLogosStart a {
  margin: 0 auto;
  padding: 0 0 20px 0;
}

#test1 {
  width: 136px;
  height: 21px;
  background: url('http://xxxxxx/wp-content/themes/xxxxxx/images/xxxxxx-bw.png') center no-repeat;
  display: block;
}
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div id="footerLogosStart">
  <a id="test1">TEST</a>
</div>
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T06:36:56.773

您可能需要添加一些 CSS，例如

```
#footerLogosStart a{
  display:block;
  width:100px;
  height:100px;
} 
```

或者您可能需要先进行一些图像预加载。

# php - 尾递归会是php中的优化吗

> ID：11390062
> 
> 赞同：1
> 
> 时间：2012-07-09T06:31:58.997
> 
> 标签：php

通过这个问题： [PHP 是否优化尾递归？](https://stackoverflow.com/questions/6171807/does-php-optimize-tail-recursion)

php不会优化尾递归

但是当我在我的机器上尝试时，（php 5.3.10）

两个斐波那契程序：一个是正常递归，另一个是尾递归

使用的时间程序有很大不同：

![](../Images/019ac97558170da6e1674d64933a2d95.png)

我对此感到困惑，谁能告诉我为什么尾递归比普通递归快，如果php没有优化它？</p>

斐波那契.php：

```
<?php
function fibonacci($n) {
    if ($n < 2) {
        return $n; 
    }   
    return fibonacci($n - 1) + fibonacci($n - 2); 
}
var_dump(fibonacci(30)); 
```

fibonacci2.php：

```
<?php
function fibonacci2($n, $acc1, $acc2) {
    if ($n == 0) {
        return $acc1;
    }   
    return fibonacci2($n-1, $acc2, $acc1 + $acc2);
}

var_dump(fibonacci2(30, 0, 1)); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T01:33:54.677

第二个脚本更快，因为它递归的总次数更少，而不是因为它使用尾递归。

（第一个脚本在每个级别调用自己两次。第二个脚本在每个级别只调用一次。因此，第二个脚本最终完成的工作远少于第一个。）

# asp.net - 如何在特定位置添加动态创建的表

> ID：11390065
> 
> 赞同：0
> 
> 时间：2012-07-09T06:32:15.883
> 
> 标签：asp.net

在我的 web 表单中，我从 cs 文件创建动态表。单击该按钮后，表被创建。但它转到上面的内容页面。

```
protected void button_click()
{         
    string s1 = "Computer"; 
    StringBuilder sb = new StringBuilder(); 
    sb.Append(@"<script language='javascript'>"); 
    sb.Append("document.write('<table><tbody>')";); 
   sb.Append("document.write('<tr><td>Information</td></tr>')";); 
    if(s1 == "Computer" ) 
   {
     sb.Append("<tr><td>"+s1+"</td></tr>"); 
   }
   sb.Append("document.write('</tbody></table>')";);
   sb.Append(@"</script>"); 

 if (!Page.ClientScript.IsClientScriptBlockRegistered(Page.GetType(), "HeyPopup"))

    ClientScript.RegisterClientScriptBlock(Page.GetType(), "HeyPopup", sb.ToString());  
    } 
```

我已经创建了这样的表。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T06:48:24.240

您需要返回内容。

例子：

```
 public ContentResult DynamicallyTable()
    { 
   string s1 = "Computer"; 
    StringBuilder sb = new StringBuilder(); // please set size
    sb.Append(@"<script language='javascript'>"); 
    sb.Append("document.write('<table><tbody>')";); 
   sb.Append("document.write('<tr><td>Information</td></tr>')";); 
    if(s1 == "Computer" ) 
   {
     sb.Append("<tr><td>"+s1+"</td></tr>"); 
   }
   sb.Append("document.write('</tbody></table>')";);
   sb.Append(@"</script>"); 
    return new Content(){Content = sb.ToString()};
    } 
```

# android - 即使在我单击发送按钮后如何保留软键盘

> ID：11390069
> 
> 赞同：1
> 
> 时间：2012-07-09T06:32:29.567
> 
> 标签：android, android-layout, android-widget, android-softkeyboard

我使用 EditText 做输入动作，并设置`android:imeOptions="actionSend"`到小部件，这样软键盘可以有一个发送按钮，但是当我点击发送时，软键盘会消失，但是对用户不友好，因为用户必须再次点击 EditText要使用软键盘，我只想保留软键盘，有人知道如何实现吗？这是我的一段布局代码：</p>

```
<EditText
        android:id="@+id/input_area"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_toLeftOf="@id/emo_btn"
        android:inputType="textAutoCorrect"
        android:singleLine="true"
        android:imeOptions="actionSend"/> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T05:33:49.957

你正在使用`setOnEditorActionListener`或`setOnKeyListener`？在这两种情况下，请尝试使用您的退货声明`true`

# iphone - ipad 的横向应用程序没有主屏幕横向

> ID：11390073
> 
> 赞同：0
> 
> 时间：2012-07-09T06:32:49.817
> 
> 标签：iphone, ios, ipad

我正在为 iPad 创建横向应用程序，但是当我运行该应用程序时，我发现主屏幕显示为纵向。我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T06:39:08.893

选择目标，在“支持的设备方向”中仅选择横向左和横向右选项。以及在您的 roo 视图控制器集中

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    if(UIInterfaceOrientationIsLandscape(interfaceOrientation))
        return YES;
    return NO;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T06:38:25.240

确保您的应用在项目设置中仅支持横向（取消选择“纵向”和“倒置”）：

![Xcode 4 项目设置](../Images/1243197ecfd2591275fb6573cbfac9cf.png)

支持景观的视图控制器也应该说他们支持：

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    return UIInterfaceOrientationIsLandscape(interfaceOrientation);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T07:02:00.927

添加这个方法

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{

// Return YES for supported orientations
NSLog(@"Changed interface orientation");

return ((interfaceOrientation == UIInterfaceOrientationLandscapeLeft) || (interfaceOrientation == UIInterfaceOrientationLandscapeRight)
        );

} 
```

# android - 如何在 android 2.2 及更低版本中使用 BitmapRegionDecoder

> ID：11390076
> 
> 赞同：1
> 
> 时间：2012-07-09T06:32:53.000
> 
> 标签：android, bitmap

我想在我的应用程序中使用 BitmapRegionDecoder 类来处理非常大的图像。我的应用程序是在 android 2.2 (API-8) 下开发的，但 BitmapRegionDecoder 在 android 2.2 及更低版本中不可用，我无法将 android 2.2 更改为 2.3 或更高版本，它必须是 android 2.2。那么有没有其他方法可以在我的应用程序中使用 BitmapRegionDecoder 或 BitmapRegionDecoder 的任何 jar 文件或 BitmapRegionDecoder 的替代 jar，它们执行 BitmapRegionDecoder 的相同任务。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T08:18:57.907

我在[这个项目](https://github.com/johnnylambada/WorldMap#readme)的描述中读到，为 API < 10 重新创建 BitmapRegionDecoder 需要大量使用 JNI：

> 关于 SO，Dianne Hackborn 说这不是微不足道的。

所以你可以尝试一下，但我担心将它移植回较低版本会太复杂:(

编辑：我刚刚[在 SO 上发现了这个问题](https://stackoverflow.com/questions/10035169/how-can-i-use-bitmapregiondecoder-code-in-android-2-2-2-froyo)，也许这会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-20T17:49:13.873

看看我关于（API 8+）[的其他（详细）答案。](https://stackoverflow.com/a/31523069/2760919)**`BitmapRegionDecoderCompat`**

# windows-phone-7 - 在定时器设置的背景中播放声音

> ID：11390077
> 
> 赞同：0
> 
> 时间：2012-07-09T06:33:03.710
> 
> 标签：windows-phone-7, windows-phone-7.1

在我的应用程序中，我想在我的计时器页面设置计时器后播放声音，我在其中放置了应该播放所选声音的时间。即使我的应用程序已关闭，我也想播放选定的声音。我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T11:14:13.793

您应该考虑使用 Alarm 或 Remdiner 类

如何：为 Windows Phone 创建警报和提醒 [http://msdn.microsoft.com/en-us/library/hh202965(v=vs.92](http://msdn.microsoft.com/en-us/library/hh202965(v=vs.92) )

[http://msdn.microsoft.com/en-us/library/microsoft.phone.scheduler.alarm(v=VS.92).aspx](http://msdn.microsoft.com/en-us/library/microsoft.phone.scheduler.alarm(v=VS.92).aspx) http://msdn.microsoft.com/en-us/library/microsoft。 phone.scheduler.schedulednotification(v=vs.92).aspx

# ios - 使用 CoreGraphics 中的图像绘制 CGContext 路径

> ID：11390079
> 
> 赞同：1
> 
> 时间：2012-07-09T06:33:17.093
> 
> 标签：ios, core-graphics, cgcontext, quartz-core

我试图通过抚摸图像来画线，以通过`CoreGraphics`框架产生类似刷子的效果。

我关注[了这篇文章](https://stackoverflow.com/questions/8290680/objective-c-using-uiimage-for-stroking?rq=1)和[这篇文章](https://stackoverflow.com/questions/8237240/stroking-paths-using-a-pattern-color-to-simulate-brush-texture/)，并尝试从`touchesMoved`方法中汲取灵感，代码示例将采用以下形式

```
UITouch *touch  = [touches anyObject];
CGPoint currentPoint    = [touch locationInView:self.view];
UIImage *texture = [UIImage imageNamed:@"texture.png"];
CGPoint vector = CGPointMake(currentPoint.x - lastPoint.x, currentPoint.y - lastPoint.y);
NSLog(@" vector %@", NSStringFromCGPoint(vector));
CGFloat distance = hypotf(vector.x, vector.y);
vector.x /= distance;
vector.y /= distance;
for (CGFloat i = 0; i < distance; i += 1.0f) {
    CGPoint p = CGPointMake(lastPoint.x + i * vector.x, lastPoint.y + i * vector.y);
    [texture drawAtPoint:p blendMode:kCGBlendModeNormal alpha:1.0f];
    NSLog(@"p %@", NSStringFromCGPoint(p));
}
previousPoint = currentPoint; 
```

通过这样做，我收到了错误消息，

```
Jul  9 11:51:27 mac1.local Smooth Line View[1035] <Error>: CGContextSaveGState: invalid context 0x0
Jul  9 11:51:27 mac1.local Smooth Line View[1035] <Error>: CGContextSetBlendMode: invalid context 0x0
Jul  9 11:51:27 mac1.local Smooth Line View[1035] <Error>: CGContextSetAlpha: invalid context 0x0
Jul  9 11:51:27 mac1.local Smooth Line View[1035] <Error>: CGContextTranslateCTM: invalid context 0x0
Jul  9 11:51:27 mac1.local Smooth Line View[1035] <Error>: CGContextScaleCTM: invalid context 0x0
Jul  9 11:51:27 mac1.local Smooth Line View[1035] <Error>: CGContextDrawImage: invalid context 0x0
Jul  9 11:51:27 mac1.local Smooth Line View[1035] <Error>: CGContextRestoreGState: invalid context 0x0 
```

所以，我把与上下文相关的代码放在上面，修改后的代码是

```
 UITouch *touch  = [touches anyObject];
    currentPoint    = [touch locationInView:self];

    UIGraphicsBeginImageContext(self.frame.size);    
    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextSetBlendMode(context, kCGBlendModeNormal);
    CGContextSetAlpha(context, 1.0f);
    CGContextSaveGState(context);

    UIImage *texture = [UIImage imageNamed:@"textureImg.png"];
    [texture drawAtPoint:currentPoint blendMode:kCGBlendModeNormal alpha:1.0f];
    CGContextSetLineCap(context, kCGLineCapRound);
    CGContextSetLineWidth(context, 25.0);
    CGContextSetRGBStrokeColor(context, texture.CGColor);
    CGContextBeginPath(context);
    CGContextMoveToPoint(context, previousPoint.x, previousPoint.y);
    CGContextAddLineToPoint(context, currentPoint.x, currentPoint.y);
    CGContextDrawPath(context, kCGPathFillStroke);
    UIGraphicsEndImageContext(); 
```

但是当我跑步并尝试在触摸移动时绘制时，什么都没有绘制。我不明白出了什么问题。有人可以指出我的错误吗？我仍然花很多时间来解决这个问题，但现在还做不到。非常感谢任何及时的帮助。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-11T03:15:53.637

我明白了，你的 touchesMoved 应该是这样的。

```
BOOL touchSwiped = YES;
UITouch *touch = [touches anyObject];   
currentPoint = [touch locationInView:self.view];
currentPoint.y -= 685;     //<
//currentPoint.x = ???;  <------ adjust the x and y points of the currentPoint if it is not on the exact point of drawing.

UIGraphicsBeginImageContext(touchDraw.frame.size);
[touchDraw.image drawInRect:CGRectMake(0, 0, touchDraw.frame.size.width, touchDraw.frame.size.height)];
CGContextSetLineCap(UIGraphicsGetCurrentContext(), kCGLineCapRound);
UIImage * textureColor = [UIImage imageNamed:@"brushImg.png"];

CGPoint vector = CGPointMake(currentPoint.x - previousPoint.x, currentPoint.y - previousPoint.y);
CGFloat distance = hypotf(vector.x, vector.y);
vector.x /= distance;
vector.y /= distance;
for (CGFloat i = 0; i < distance; i += 1.0f) {
    CGPoint p = CGPointMake(previousPoint.x + i * vector.x, previousPoint.y + i * vector.y);
    [textureColor drawAtPoint:p blendMode:blendMode alpha:0.5f];
}
CGContextBeginPath(UIGraphicsGetCurrentContext());
CGContextStrokePath(UIGraphicsGetCurrentContext());
touchDraw.image = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();

previousPoint = currentPoint;

touchMoved++;

if (touchMoved == 1) {
    touchMoved = 0;
} 
```

# c# - 在主应用程序和周期性任务之间共享数据

> ID：11390084
> 
> 赞同：8
> 
> 时间：2012-07-09T06:33:44.267
> 
> 标签：c#, windows-phone-7

[我在另一个](https://stackoverflow.com/questions/11346576/static-variable-value-different-in-background-agent)我无法解决 的问题之后发布了这个特定问题。

简而言之：即使我创建了一个静态类（带有静态变量和/或属性），主应用程序和后台代理也不使用相同的静态类，而是都创建了它的新实例；所以不可能在这些项目之间共享数据！！

要测试它：

*   创建一个新的 Windows Phone 应用程序（称为**AppTest**）
*   添加一个 ScheduledTask 项目（称为**Agent**）
*   在**AppTest**中引用项目**代理**
*   创建一个新的 Windows Phone 库项目（称为**Shared**）
*   在**AppTest**和**Agent**中都引用了项目**Shared**

然后使用这个基本的测试代码。

**应用测试**

```
private readonly string taskName = "mytest";
PeriodicTask periodicTask = null;

public MainPage()
{
    InitializeComponent();

    Vars.Apps.Add("pluto");
    Vars.Order = 5;

    StartAgent();
}

private void RemoveTask()
{
    try
    {
        ScheduledActionService.Remove(taskName);
    }
    catch (Exception)
    {
    }
}
private void StartAgent()
{
    periodicTask = ScheduledActionService.Find(taskName) as PeriodicTask;
    if (periodicTask != null)
        RemoveTask();
    periodicTask = new PeriodicTask(taskName)
    {
        Description = "test",
        ExpirationTime = DateTime.Now.AddDays(14)
    };

    try
    {
        ScheduledActionService.Add(periodicTask);
        ScheduledActionService.LaunchForTest(taskName, 
                TimeSpan.FromSeconds(10));
    }
    catch (InvalidOperationException exception)
    {
    }
    catch (SchedulerServiceException)
    {
    }
} 
```

**代理人**

```
protected override void OnInvoke(ScheduledTask task)
{
    if (Vars.Apps.Count > 0) 
        Vars.Order = 1;

    NotifyComplete();
} 
```

**共享**

```
public static class Vars
{
    public static List<string> Apps = null;
    public static int Order;

    static Vars()
    {
        Apps = new List<string>();
        Order = -1;
    }
} 
```

当您调试主应用程序时，您可以看到调用了静态类的静态构造函数（这是正确的），但是调用代理时`Vars`没有“使用”，而是再次调用构造函数，因此创建了一个不同的实例。
为什么？如何在主应用程序和后台代理之间共享数据？
我已经尝试将`Vars`类放在代理类和命名空间中，但行为是相同的。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-10T18:35:12.410

最简单的事情是使用独立存储。例如，从主应用程序：

```
using (Mutex mutex = new Mutex(true, "MyData"))
{
    mutex.WaitOne();
    try
    {
        IsolatedStorageSettings.ApplicationSettings["order"] = 5;
    }
    finally
    {
        mutex.ReleaseMutex();
    }
}
//... 
```

在代理中：

```
using (Mutex mutex = new Mutex(true, "MyData"))
{
    mutex.WaitOne();
    try
    {
        order = (int)IsolatedStorageSettings.ApplicationSettings["order"];
    }
    finally
    {
        mutex.ReleaseMutex();
    }
}

// do something with "order" here... 
```

您需要使用进程级同步和互斥锁来防止数据损坏，因为代理和应用程序是两个独立的进程，并且可能同时使用隔离存储执行某些操作。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-09T06:40:00.827

静态变量的值是每个加载的[App Domain](http://msdn.microsoft.com/en-us/library/system.appdomain.aspx)的“实例化” ，这是您正在运行的进程的“子集”。因此，每个 AppDomain 的静态变量具有不同的值，因此每个正在运行的进程也具有不同的值。

如果您必须在进程之间共享数据，则需要将其存储在某个地方（例如数据库），或者您需要在进程之间设置一些通信（例如 MSMQ 或 WCF）。

希望这可以帮助。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-09T07:46:02.630

找了好久，终于找到一篇[文章](http://mstruys.com/2012/01/08/eventiles-from-start-to-finishpart-13/)说：

> 由于我们的 EventTiles 应用程序和它的 PeriodicTask 在不同的进程中运行，它们彼此完全分离，这意味着它们拥有自己想要访问的变量的副本，即使这些变量是在单独的项目中定义的。

因此，使用“简单”静态变量/属性在主应用程序和周期性任务之间共享数据是不可能的；我们必须读/写数据库或隔离存储或任何我们喜欢的东西。

我觉得这很疯狂，但这就是故事。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-26T10:56:54.270

MS 建议如下：

## 前台应用程序和后台代理之间的通信

在前台应用程序和后台代理程序之间传递信息可能具有挑战性，因为无法预测代理程序和应用程序是否会同时运行。以下是为此推荐的模式。

1.对于定期和资源密集型代理：使用 LINQ 2 SQL 或隔离存储中的文件，该存储由互斥锁保护。对于前台应用程序写入而代理仅读取的单向通信，我们建议使用带有 Mutex 的隔离存储文件。我们建议您不要使用 IsolatedStorageSettings 在进程之间进行通信，因为数据可能会损坏。

2.对于音频代理：将自定义数据存储在 AudioTrack 类的 Tag 属性中。对于从音频代理到前台应用程序的通知，请阅读 PlayStateChanged 事件处理程序中的 Tag 属性。要将数据从前台应用程序传递到音频代理，请在 OnPlayStateChanged(BackgroundAudioPlayer, AudioTrack, PlayState) 方法的实现中读取当前轨道的 Tag 属性。

见这里： http: [//msdn.microsoft.com/en-us/library/hh202944 (v=vs.92).aspx](http://msdn.microsoft.com/en-us/library/hh202944(v=vs.92).aspx)

# emacs - 需要帮助编写一个 emacs 函数

> ID：11390089
> 
> 赞同：0
> 
> 时间：2012-07-09T06:34:19.233
> 
> 标签：emacs

我想编写一个执行以下操作的 emacs 函数 -

1) 启动一个名为“abc”的新外壳。2) 更改目录 "/opt/abc" 3) 在目录中运行 shell 命令 "python abc.py"

我写了以下函数 -

```
(defun abc-server ()
 (interactive)
 (shell-command "cd /opt/abc/")
 (shell-command "python abc.py")) 
```

上述问题 -

1）它不会启动一个新的shell 2）它不会改变目录。3) 当 cmd 执行时，它会打开一个浏览器窗口，这完全阻止了对 emacs 的任何使用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T15:12:38.003

来自`shell-command`的文档字符串 ( `C-h f shell-command`)：

> 如果 COMMAND 以 & 符号结尾，则异步执行它。输出出现在缓冲区“ *Async Sh​​ell Command* ”中。该缓冲区处于外壳模式。

此外，将它们全部组合到一个命令行中。 `shell-command`每次都会创建一个新的 shell，因此 pwd 不会从一个调用持续到另一个调用。

```
(defun abc-server ()
 (interactive)
 (shell-command "cd /opt/abc/; python abc.py &")) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-27T08:52:56.003

虽然@jpkotta 的回答已经足够好，但适当的解决方案将使用[Emacs 的 anync 原语](http://www.gnu.org/software/emacs/manual/html_node/elisp/Asynchronous-Processes.html#Asynchronous-Processes)。一方面，您一次只能运行一个异步 shell 命令，而您可以拥有大量命名的子进程。

```
(defun abc-server ()
  (interactive)
  ;; Create buffer ahead of time so we can change its default directory
  (save-excursion
    (get-buffer-create "*abc-server*")
    (cd "/opt/abc") )
  (start-process "abc" "*abc-server*" "python" "abc.py") ) 
```

（我对`save-excursion`篮筐并不完全满意。我希望我可以简单地 let-bind `default-directory`，但这似乎并没有像我预期的那样工作。或者，你可以`(start-process "abc" "*abc-server*" "sh" "-c" "cd /opt/abc; python abc.py")`。）

如果您需要进一步扩展命令，我认为这是一个比快速而肮脏的异步 shell 命令方法更具可扩展性的平台，但如果这就是您所需要的，那也没关系。

# asp.net - asp.net中窗口身份验证中的窗口登录用户名

> ID：11390092
> 
> 赞同：1
> 
> 时间：2012-07-09T06:34:36.103
> 
> 标签：asp.net, vb.net

实际上我想显示在窗口上登录的用户。但是当我编写这个参数并在内联网上运行时

```
WindowsIdentity.GetCurrent().Name; 
```

然后它显示

> NT AUTHORITY\IUSR

我想显示用户名。当我通过 VB 软件运行时，它显示窗口用户名。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T06:37:13.637

你应该使用`User.Identity.Name`：

```
If User.Identity.IsAuthenticated Then
    Label1.Text = User.Identity.Name
Else
    Label1.Text = "Anonymous user"
End If 
```

# mysql - 如何在 PDO 中使用 ON DUPLICATE KEY UPDATE 和 mysql？

> ID：11390093
> 
> 赞同：3
> 
> 时间：2012-07-09T06:34:50.937
> 
> 标签：mysql, pdo, duplicates

**细节**

我正在为新的或更新的许可证到期做一次插入。有效期为自插入之日起 2 年。如果检测到重复，则将更新条目，**使到期时间等于剩余到期时间加上 2 年。**

关于重复项，在下面的示例中，应该只有一行包含 user_id =55 和 licence=commercial。

**表：** licence_expiry

```
--------------------------------------------------------
|   user_id   |   licence   |           expiry         |  
--------------------------------------------------------
|     55      |  commercial |     2013-07-04 05:13:48  |  
--------------------------------------------------------- 
```

user_id (int11), license (varchan50), expiry (DATETIME)

我认为在 mysql 中你会这样写（请注意，我没有检查代码是否在 mysql 中工作。）

```
INSERT INTO `licence_expiry`
(`user_id`, `licence`, `expiry`)
VALUES
(55, commercial, NOW()+ INTERVAL 2 YEAR)
ON DUPLICATE KEY UPDATE
`expiry` = `expiry` + INTERVAL 2 YEAR 
```

**问题：**如何使用 PDO 做到这一点？我已经写了一个我认为我将使用的粗略大纲，但我不确定要为**ON DUPLICATE KEY UPDATE 的到期值写什么。**

```
$sql = "INSERT INTO $table (user_id, licence, expiry)
                        VALUES (
                        :user_id,  
                        :licence,
                        :expiry)
    ON DUPLICATE KEY UPDATE expiry = Something"; 

try {
    $dbh = new PDO('login info here');
    $dbh->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION );
    $stmt = $dbh->prepare($sql);
    $stmt->bindParam(':user_id', $userID, PDO::PARAM_INT);     
    $stmt->bindParam(':licence',$licence, PDO::PARAM_STR);
    $stmt->bindParam(':expiry',$expiry, PDO::PARAM_STR);                            
    $stmt->execute();
    //$stmt->closeCursor(); //use this instead of $dbh = null   if you will continue with another DB function
    $dbh = null; 
    }

    catch(PDOException $e)
    {
    $error=$e->getMessage();        
    } 
```

任何帮助深表感谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-09T06:38:24.727

您可以使用 MySQL 的[`VALUES()`](http://dev.mysql.com/doc/en/miscellaneous-functions.html#function_values)功能：

> 在[`INSERT ... ON DUPLICATE KEY UPDATE`](http://dev.mysql.com/doc/en/insert-on-duplicate.html)语句中，您可以使用子句中的函数来引用语句部分中的列值。换句话说，在子句中是指将被插入的值，没有发生重复键冲突。`VALUES(***col_name***)`[`UPDATE`](http://dev.mysql.com/doc/en/update.html)[`INSERT`](http://dev.mysql.com/doc/en/insert.html)`VALUES(***col_name***)`[`UPDATE`](http://dev.mysql.com/doc/en/update.html)***`col_name`***

因此，在您的情况下：

```
ON DUPLICATE KEY UPDATE expiry = VALUES(expiry) 
```

或者，您可以创建`$expiry`再次绑定的第四个参数：

```
$sql = "INSERT INTO $table (user_id, licence, expiry)
                        VALUES (
                        :user_id,
                        :licence,
                        :expiry)
    ON DUPLICATE KEY UPDATE expiry = :another";

try {
    $dbh = new PDO('login info here');
    $dbh->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION );
    $stmt = $dbh->prepare($sql);
    $stmt->bindParam(':user_id', $userID , PDO::PARAM_INT);
    $stmt->bindParam(':licence', $licence, PDO::PARAM_STR);
    $stmt->bindParam(':expiry' , $expiry , PDO::PARAM_STR);
    $stmt->bindParam(':another', $expiry , PDO::PARAM_STR);
    $stmt->execute();
    // etc. 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-23T08:57:17.993

我知道你在下面有答案，但我有同样的问题，我的解决方案看起来完全不同，但它适用于我，所以如果你想使用不同的语句在 mysql 中使用 insert 并显式绑定值到列，你可以试试这个代码

```
$sql = "
   INSERT INTO 
      $table 
   SET
      user_id = :user_id,
      licence = :licence,
      expiry  = :expiry
   ON DUPLICATE KEY UPDATE 
      expiry = :expiry
";

$dbh = new PDO('login info here');
$dbh->setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION );
$stmt = $dbh->prepare($sql);
$stmt->bindValue('user_id', $userID , PDO::PARAM_INT);
$stmt->bindValue('licence', $licence, PDO::PARAM_STR);
$stmt->bindValue('expiry' , $expiry , PDO::PARAM_STR); 
```

# .net - 如何在 .net 中阅读 Microsoft Outlook 项目

> ID：11390095
> 
> 赞同：0
> 
> 时间：2012-07-09T06:35:11.533
> 
> 标签：.net, outlook-addin

我有一个 Autonomy/Imanage，它是一个集成在 Microsoft Outlook 中的文档管理系统应用程序，它在标题、文档版本、作者等列中的单独邮件项目部分中提供结果。我想以表格的格式阅读这些项目。

我可以根据列名行读取这些项目吗？在我的分析中，它无法完成，因为这些项目是自定义行和列，而不是 Outlook.ineterope dll 的一部分。

请让我知道是否有办法阅读这些项目？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T06:47:18.523

我建议使用 IMAP。这也会将您的应用程序松散地耦合到您的邮件服务器，因为 IMAP 是一种标准协议，而 Outlook/Exchange 格式是专有的。

# c# - 动态添加标签

> ID：11390096
> 
> 赞同：0
> 
> 时间：2012-07-09T06:35:33.750
> 
> 标签：c#, winforms, tabs

我想在运行时动态添加选项卡。

我为这样的标签创建了一个自己的类：

```
namespace Demo
{
    public partial class Tabs : UserControl
    {
        private static DateTime ArrivalStart;
        public static DateTime arrivalStart
        {
            get { return ArrivalStart; }
            set { ArrivalStart = value; }

        }

        private static DateTime ArrivalEnd;
        public static DateTime arrivalEnd
        {
            get { return ArrivalEnd; }
            set { ArrivalEnd = value; }

        }

        private static DateTime DepartureStart;
        public static DateTime departureStart
        {
            get { return DepartureStart; }
            set { DepartureStart = value; }

        }

        private static DateTime DepartureEnd;
        public static DateTime departureEnd
        {
            get { return DepartureEnd; }
            set { DepartureEnd = value; }

        }

        public Tabs()
        {
            InitializeComponent();
            LoadSubsidiaryXML();
            dtpArrivalStart.Format = DateTimePickerFormat.Custom;
            dtpArrivalStart.CustomFormat = "ddd dd MMM yyyy hh:mm";
            dtpArrivalEnd.Format = DateTimePickerFormat.Custom;
            dtpArrivalEnd.CustomFormat = "ddd dd MMM yyyy hh:mm";
            dtpDepartureStart.Format = DateTimePickerFormat.Custom;
            dtpDepartureStart.CustomFormat = "ddd dd MMM yyyy hh:mm";
            dtpDepartureEnd.Format = DateTimePickerFormat.Custom;
            dtpDepartureEnd.CustomFormat = "ddd dd MMM yyyy hh:mm";
        }

        private void LoadSubsidiaryXML()
        {
            XmlDocument subsidiary = new XmlDocument();
            subsidiary.Load("Subsidiaries.xml");

            XmlNodeList Subname = subsidiary.SelectNodes("subsidiaries/type/name");
            foreach (XmlNode name in Subname)
            {
                comboSubsidiaryTravel.Items.Add(name.InnerText);
            }
        }

        private void LoadWorkerXML(string xmlType)
        {
            comboWorkerType.Items.Clear();
            XmlDocument workerType = new XmlDocument();
            workerType.Load(xmlType);

            XmlNodeList worker = workerType.SelectNodes("worker/type/name");
            foreach (XmlNode name in worker)
            {
                comboWorkerType.Items.Add(name.InnerText);
            }
        }

         //Select XML which have to be populated to comboWorkerType
        private void chooseWorker()
        {
            string xmlType = "";
            string subsidiary = "";
            subsidiary = comboSubsidiaryTravel.Text;
            switch (subsidiary)
            {
                case "GH":
                    xmlType = "GHworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GP":
                    xmlType = "GPworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GN":
                    xmlType = "GNworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GT":
                    xmlType = "GTworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;
                case "GS":
                    xmlType = "GSworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GK":
                    xmlType = "GKworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GBH":
                    xmlType = "GBHworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "GAS":
                    xmlType = "GASworkerType.xml";
                    LoadWorkerXML(xmlType);
                    break;

                case "Others":
                    comboWorkerType.Items.Clear();
                    break;
                default:
                    break;
            }
        }

        private void comboSubsidiaryTravel_SelectedIndexChanged(object sender, EventArgs e)
        {
            chooseWorker();
        }

        private void dtpArrivalStart_ValueChanged(object sender, EventArgs e)
        {
            ArrivalStart = dtpArrivalStart.Value;
            dtpArrivalEnd.MinDate = dtpArrivalStart.Value;
        }

        private void dtpArrivalEnd_ValueChanged(object sender, EventArgs e)
        {
            ArrivalEnd = dtpArrivalEnd.Value;
            dtpDepartureStart.MinDate = dtpArrivalEnd.Value;
        }

        private void dtpDepartureStart_ValueChanged(object sender, EventArgs e)
        {
            DepartureStart = dtpDepartureStart.Value;
            dtpDepartureEnd.MinDate = dtpDepartureStart.Value;
        }

        private void dtpDepartureEnd_ValueChanged(object sender, EventArgs e)
        {
            DepartureEnd = dtpDepartureEnd.Value;
        }
    }
} 
```

我正在添加一个带有按钮的新标签：

```
private void btnAddWorker_Click(object sender, EventArgs e)
        {
            string title = "worker " + (tabsTravel.TabCount + 1).ToString();

            TabPage test = new TabPage();

            tabsTravel.TabPages.Add(test);
            test.Text = title;
            test.BackColor = Color.White;
            test.Controls.Add(new Tabs());

        } 
```

使用按钮添加选项卡并使用另一个按钮删除它们可以正常工作，但现在我遇到了一些问题：

1.  comboWorkerType 取决于在 comboSubsidiaryTravel 中选择的内容。但是在所有动态添加的选项卡中，如果我在 comboSubsidiaryTravel 中选择了一个项目，则 XML 不会加载到 comboWorkerType。
2.  如何访问动态添加的控件及其值，例如 datetimepicker？

问候

托比

编辑：

这是我使用 Datetimepicker 值的类：

```
namespace Demo
{
    class worker
    {
        public void ArrivalTimeSpan()
        {
            TimeSpan Arrival = new TimeSpan();

            Arrival = Page2.arrivalEnd - Page2.arrivalStart;
            System.Windows.Forms.MessageBox.Show(Arrival.ToString());
        }

        public void DepartureTimeSpan() 
        {
            TimeSpan Departure = new TimeSpan();

            Departure = Page2.departureEnd - Page2.departureStart;
            System.Windows.Forms.MessageBox.Show(Departure.ToString());
        }

        public void WorkTimeSpan() 
        {
            TimeSpan Work = new TimeSpan();

            Work = Page3.workEnd - Page3.workStart;
            System.Windows.Forms.MessageBox.Show(Work.ToString());
        }
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T06:45:30.560

A1：我确实看到了事件处理程序方法，但我没有看到将事件实际连接到事件处理程序的代码行。例如 comboSubsidiaryTravel.SelectedIndexChanged += comboSubsidiaryTravel_SelectedIndexChanged

A2：你不能直接。您必须检查 Controls 集合属性才能找到它们。除非您在用户控件“内部”，否则您可以直接访问它们。

我看到的一个主要基本错误如下：用户控件中的 DateTime 变量是静态的！我很确定这不是你想要的，你想要通常实例化的属性。你还要如何保持价值观分开？

# c# - DataGridView 过滤器不起作用

> ID：11390099
> 
> 赞同：1
> 
> 时间：2012-07-09T06:35:49.780
> 
> 标签：c#, winforms, datagridview, filter

我知道关于这个主题有很多线程，但我已经尝试了所有方法，但仍然没有运气过滤我的 datagridview。我正在尝试根据用户在文本字段中输入的值过滤 datagridview 的行。datagridviews 数据源由下面提供的数据源设置。

所以这是我正在使用的代码。我没有收到任何错误，datagridview 根本没有改变。ManufacturerService.GettAll 返回制造商列表，我将其转换为绑定列表以

`bsManufacturers.DataSource = new BindingList<Manufacturer>(ManufacturerService.GetAll(_ctx));`

在文本框的 textchanged 事件上，此代码运行。我已经检查过断点等等。代码被执行并且过滤器字符串是正确的。

```
private void FilterData(string str)
{
    bsManufacturers.Filter = string.Format("Name like '%{0}%'", str);
    dgvManufacturers.Refresh();
} 
```

有什么帮助吗？或至少解释为什么这不起作用？我已经为此工作了好几个小时，但似乎无法在任何地方找到答案

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-27T06:02:05.513

数据排序信息包含在网格标题中。用户可以在一个或多个标题中设置单个或多个排序。在编程级别，排序如下所示

```
//Get top-level header
Header header = grid.Headers[0];

header["Product"].SortDirection = SortDirection.Ascending;
header["Price"].SortDirection = SortDirection.Descending; 
```

将`Column.Sortable`属性设置为 false 足以启用纯软件排序，以防止用户通过 UI dapfor 对其进行修改。com

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T06:39:10.813

有一个在数据网格视图上创建过滤器的库：

[DataGridView 过滤器弹出窗口](http://www.codeproject.com/Articles/33786/DataGridView-Filter-Popup)

问候

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T08:28:31.847

我认为您不需要为此使用绑定列表，最好使用 DataTable 作为“绑定源”的数据源。

然后您可以在 FilterData 方法中使用以下内容：-

```
DataTable.DefaultView.RowFilter = string.format("Name like '%{0}%'", str); 
```

你可以这样设置：-

```
Binding Source.Datasource = DataTable,
DatagridView.Datasource = Binding Source; 
```

如果你这样做，你甚至不必刷新你的数据网格，它会自动完成。

希望这可以帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-09T09:54:32.770

我通过使用这个项目解决了这个问题：http: [//blw.sourceforge.net/](http://blw.sourceforge.net/)

我个人认为应该有更好的方法来做到这一点，但它现在正在工作，我想我现在必须对“足够好”感到满意。

这是工作代码。无论如何，重要的部分。

```
private void PopulateDataGridView()
{
     blvManufacturers = new BindingListView<Manufacturer>(ManufacturerService.GetAll(_ctx));
    _bsManufacturers = new BindingSource { DataSource = _blvManufacturers};
    dgvManufacturers.DataSource = _bsManufacturers;         
}

private void FilterData(string str)
{
    // Change the filter of the view.
      blvManufacturers.ApplyFilter(
        delegate(Manufacturer manu)
        {
            // uses ToLower() to ignore case of text.
            return manu.Name.ToLower().Contains(str.ToLower());
        }
    );           
} 
```

# java - jcifs.smb.SmbAuthException：登录失败：未知用户名或密码错误。

> ID：11390100
> 
> 赞同：6
> 
> 时间：2012-07-09T06:35:57.440
> 
> 标签：java, jcifs

计划使用 jcifs 从 Java 中的 Ubuntu 通过 Windows 读取文件。尝试使用以下简单方法：

```
String user = "mydomain;myuser:mypassword";
NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(user);
SmbFile remotefile = new SmbFile("smb://myserver/myfolder/myfile.jar",auth); 
```

知道服务器工作正常并且登录值正确，我得到的只是登录失败，这可能是什么问题？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-04T14:12:35.943

不知道你是否让这个工作。但是在经历了很多痛苦和痛苦之后，我认为`NtlmPasswordAuthentication`调用必须包含域。因此，如果您使用发布的代码@user717630，您只需将`NtlmPasswordAuthentication`调用更改为： `NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication("mydomain",user, pass);`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-11T13:08:55.310

以下程序验证并在受保护的共享文件夹上写入文件：

```
import java.util.Properties;

import jcifs.smb.NtlmPasswordAuthentication;
import jcifs.smb.SmbFile;
import jcifs.smb.SmbFileOutputStream;

public class ProtectFolderTest {
private String USER_NAME = null;
private String PASSWORD = null;
private String DOMAIN = null;
private String NETWORK_FOLDER = null;

public static void main(String args[]) {
    try {
        String fileContent = "Hi, This is the SmbFile.";
        new ProtectFolderTest().copyFiles(fileContent, "SmbFile1.text");
    } catch (Exception e) {
        System.err.println("Exception caught. Cause: " + e.getMessage());
    }
}

public boolean copyFiles(String fileContent, String fileName) {
    boolean successful = false;
    String path = null;
    NtlmPasswordAuthentication auth = null;
    SmbFile sFile = null;
    SmbFileOutputStream sfos = null;
    try {
        USER_NAME = "username";
        PASSWORD = "password";
        DOMAIN = "domain";
        NETWORK_FOLDER = "smb://machineName/network_folder/";
        auth = new NtlmPasswordAuthentication(
                DOMAIN, USER_NAME, PASSWORD);
        path = NETWORK_FOLDER + fileName;
        sFile = new SmbFile(path, auth);
        sfos = new SmbFileOutputStream(sFile);
        sfos.write(fileContent.getBytes());
        successful = true;
        System.out.println("File successfully created.");
    } catch (Exception e) {
        successful = false;
        System.err.println("Unable to create file. Cause: "
                + e.getMessage());
    }
    return successful;
}
} 
```

希望这是有用的。期待对此的反馈。

谢谢，

元帅。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-19T20:20:18.090

Here is the solution for you I changed the code a little to make it more readable. Create a shared folder and put the shared folder name in the below variable(sharedFolder) if you don't know how to create shared folder on windows ...use google as always. Also, make sure this user that you are using has at least read access to that folder.

```
 String user = "your_user_name";
    String pass ="your_pass_word";

    String sharedFolder="shared";
    String path="smb://ip_address/"+sharedFolder+"/myfile.jar";
    NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication("",user, pass);
    SmbFile smbFile = new SmbFile(path,auth);
    SmbFileOutputStream smbfos = new SmbFileOutputStream(smbFile); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-22T07:33:24.657

尝试使用 IP 地址而不是服务器名称，看看它是否连接。它可能无法解析服务器名称。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-12-07T09:20:08.360

评论“peterb”的回答：“......调用必须包含域......”

我发现在我的情况下，NtlmPasswordAuthentication("domain", "username", "password") 需要这样的输入：domain 是具有共享路径的长域：\xxxx.domain.xxxx.com\path。username 是带有域的用户名：域\用户名。密码 = 密码。

我希望这会对某人有所帮助。

边界元法

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-08-15T15:22:18.287

jcifs-ng-2.1.6.jar 中有几个构造函数。
我对该问题的解决方案是为来宾（匿名）用户使用默认构造函数
`auth = baseCxt.withCredentials(new NtlmPasswordAuthenticator());`

# php - 插入不插入 PHP/Mysqli

> ID：11390101
> 
> 赞同：0
> 
> 时间：2012-07-09T06:36:00.700
> 
> 标签：php, insert, mysqli

我一直在尝试在我的数据库中的表中插入一行，我无法完成插入查询也我无法得到任何错误，所以我不知道是什么问题

我的桌子：

```
CREATE TABLE IF NOT EXISTS `general_info` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `First Name` varchar(30) NOT NULL,
  `Last Name` varchar(30) NOT NULL,
  `University` varchar(80) NOT NULL,
  `Major` varchar(50) NOT NULL,
  `Current_Level` varchar(50) NOT NULL,
  `Date_Joined` varchar(15) NOT NULL,
  `Current_Team` varchar(50) NOT NULL,
  `added_by` int(11) NOT NULL,
  `Phone` varchar(25) NOT NULL,
  `Email` varchar(50) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `member_id` (`added_by`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ; 
```

我的 html ：

```
<body>

        <div class="memberInfo"> 
        <h1>Add A Member</h1>

        <form id=add_member name="add_member" method="post" action="addmember.php" >

                <fieldset>

                <legend>Member Details</legend>

                <ol>

                    <li>
                        <label for=first_name>First Name</label>
                        <input id=first_name name=first_name type=text placeholder="First Name" required autofocus>
                    </li>

                    <li>
                        <label for=last_name>Last Name</label>
                        <input id=last_name name=last_name type=text placeholder="Last Name" required autofocus>
                    </li>

                    <li>
                        <label for=email>Email</label>
                        <input id=email name=email type=email placeholder="example@domain.com" required>
                    </li>

                    <li>
                        <label for=university>University</label>
                        <input id=university name=university type=text placeholder="Eg.Istanbul University" required>
                    </li>

                    <li>
                        <label for=major>Major</label>
                        <input id=major name=major type=text placeholder="Eg. Business" >
                    </li>

                    <li>
                        <label for=phone>Phone</label>
                        <input id=phone name=phone type=tel placeholder="Eg. +447500000000" >
                    </li>

                    <li>
                        <label for=current_stage>Current Stage</label>
                        <input id=current_stage name=current_stage type=text placeholder="Eg.Newbie" required>
                    </li>

                    <li>
                        <label for=current_team>Current Team</label>
                        <input id=current_team name=current_team type=text placeholder="Eg.External Relations">
                    </li>

                    <li>
                        <label for=date_joined>Date Joined</label>
                        <input id=date_joined name=date_joined type=text placeholder="Eg. 08/24/2012" required>
                    </li>
                    </ol>

            </fieldset>

            <fieldset>

                <button type=submit >Save Member</button>

            </fieldset>

        </form>
      </div>
    </body> 
```

我如何在我的登录 php 中检索 $_SESSION['user_id']

```
 if($stmt->num_rows==1){                    
        echo $myusername . " ";
        session_register("myusername");
        session_register("mypassword");

        $_SESSION['user_id']=$user_id;
        $_SESSION['username'] = $myusername;
        session_write_close();
        header("location:login_success.php");

    } 
```

添加成员.php：

```
<?php
    error_reporting(E_ALL);
    ini_set('display_errors', 1);

    session_start();

if(isset( $_SESSION['user_id'])){

    $mysqli = new mysqli('localhost', 'root', 'password', 'aiesec');

    if(mysqli_connect_errno()) {
        echo "Connection Failed: " . mysqli_connect_errno();
        exit();
    }

    $stmt = $mysqli -> prepare("INSERT INTO general_info (First Name, Last Name, University, Major, Current_Level, Date_Joined, Current_Team, added_by, Phone, Email) VALUES (?,?,?,?,?,?,?,?,?,?)") 

    $stmt -> bind_param("sssssssiss", $First_Name, $Last_Name,$University,$Major, $Current_Level, $Date_Joined, $Current_Team, $added_by, $Phone, $Email);

    $First_Name=$_POST['first_name'];
    $Last_Name=$_POST['last_name'];
    $University=$_POST['university'];
    $Major=$_POST['major'];
    $Current_Level=$_POST['current_stage'];
    $Date_Joined=$_POST['date_joined'];
    $Current_Team=$_POST['current_team'];

    $added_by=$_SESSION['user_id'];

    $Phone=$_POST['phone'];
    $Email=$_POST['email'];

    $stmt -> execute();

    printf("%d Row inserted.\n", $stmt->affected_rows);

    printf("Errormessage: %s\n", $stmt->error);

    $stmt->close();

    $mysqli->close();

}
else{

    printf("Nope\n"); 
    header("location:main_login.php");

}

    ?> 
```

如果我删除所有代码并放置 echo 以查看`$_SESSION['user_id']`输出，`1`那么 if 语句有效。

我想问题线可能是 `$added_by=$_SESSION['user_id'];`，但我不确定。

如何修复插入或如何查看错误？

在此先感谢您的任何建议。

-----编辑解决方案--------有史以来最简单的错误

我已经改变`First Name`了`Last Name``First_Name``Last_Name`

我忘了在行尾加分号 `$stmt = $mysqli -> prepare("INSERT INTO general_info (First Name, Last Name, University, Major, Current_Level, Date_Joined, Current_Team, added_by, Phone, Email) VALUES (?,?,?,?,?,?,?,?,?,?)")`

在放置分号脚本后将该行添加到数据库中

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T06:40:09.423

您的代码中有错误

旁观

```
$First Name, $Last Name 
```

您需要在变量名称中添加下划线，例如：

```
$First_Name, $Last_Name 
```

看[手册](http://www.php.net/manual/en/language.variables.basics.php)

# java - 无法在客户端usinf poi mvc上生成下载excel文件

> ID：11390104
> 
> 赞同：0
> 
> 时间：2012-07-09T06:36:29.317
> 
> 标签：java, jsp, servlets, spring-mvc, apache-poi

我无法在客户端生成 Excel 文件以供下载。这是我的代码：

```
 <%
 try{
  //Getting HSSFWorbook object from controller
    HSSFWorkbook wb= (HSSFWorkbook)pageContext.findAttribute("wb");
    response.setContentType("application/vnd.ms-excel");
    response.setHeader("Content-   Disposition","attachment;
    filename=ESTHotelPerfByMonthExcelReport.xls"
    );
  //Writing to output Stream 

    ServletOutputStream outputStream = response.getOutputStream();
    wb.write(outputStream);
    outputStream.flush();
 }//closing try
 catch (IOException ioe) { 
 }
}//closing if

//The above code is not generating any 
// excel sheet however if i write the output to 
// a    excel file it shows the all the data

 %> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T08:41:57.537

我假设您正在尝试从 JSP 文件写入生成的 xls 文件。问题可能出在空格中，如果有的话，写入 ServletOutputStream 会产生异常。

所以请检查在“<%”之前指令之间没有空格。也设置`<%@ page trimDirectiveWhitespaces="true" %>`以防万一。

# c# - WPF文本进出过渡效果

> ID：11390106
> 
> 赞同：2
> 
> 时间：2012-07-09T06:37:04.900
> 
> 标签：c#, wpf, transition, effects

我想为应用程序中的某些文本创建一个具有一些不错的效果（尤其是进入和退出效果）的 WPF 程序。

我知道[过渡](http://transitionals.codeplex.com/)库，但它没有专业效果！（该库中的一些专业人士又慢又迟钝……）

实际上，我想要一些效果，例如`Microsoft Powerpoint 2010`...

有没有图书馆或其他东西可以产生这样的效果？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-03T23:50:02.907

是的 - 有几个像素着色器样式效果库。[WPFFx 可能是http://wpffx.codeplex.com/](http://wpffx.codeplex.com/)上最广为人知的一个 。

注意：该网站说“这需要 .NET framework 3.5 SP1 并且在编译时需要 Direct X SDK ..（构建 PS 文件）。” 如果您正在运行更高版本的 .NET，则需要验证它是否有效。

# c++ - QueryDisplayConfig - 缺少正确的文档

> ID：11390107
> 
> 赞同：1
> 
> 时间：2012-07-09T06:37:05.927
> 
> 标签：c++, api, wdk

我正在尝试使用 WDK 中的`QueryDisplayConfig()`and`SetDisplayConfig()`函数。

根据文档，它采用以下参数：

```
LONG WINAPI SetDisplayConfig(
  __in UINT32 numPathArrayElements,
  __in_opt DISPLAYCONFIG_PATH_INFO* pathArray,
  __in UINT32 numModeInfoArrayElements,
  __in_opt DISPLAYCONFIG_MODE_INFO* modeInfoArray,
  __in UINT32 Flags
); 
```

和结构没有正确记录`DISPLAYCONFIG_PATH_INFO`，`DISPLAYCONFIG_MODE_INFO`或者我无法理解它们的含义。

任何人都可以解释或指出与`DISPLAYCONFIG_PATH_INFO`和相关的信息`DISPLAYCONFIG_MODE_INFO`吗？MSDN 网站和文档并没有从概念上解释这些事情。显示设置小程序通常可以很好地处理这些事情，但我想使用此 API 获得类似的结果。

我想了解这些结构包含哪些信息，如何解释它，以及如何更改各种值，以便获得所需的结果，如克隆、扩展、附加和取消附加显示。

我想了解路径数组、模式信息数组等概念。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T14:34:06.860

所有功能和解释的 MSDN 链接：

[查询显示配置（）](http://msdn.microsoft.com/EN-US/library/windows/hardware/ff569215%28v=vs.85%29.aspx)

[设置显示配置（）](http://msdn.microsoft.com/en-us/library/windows/hardware/ff569533%28v=vs.85%29.aspx)

[DISPLAYCONFIG_PATH_INFO](http://msdn.microsoft.com/EN-US/library/windows/hardware/ff553945%28v=vs.85%29.aspx)

[DISPLAYCONFIG_MODE_INFO](http://msdn.microsoft.com/EN-US/library/windows/hardware/ff553933%28v=vs.85%29.aspx)

# ios - 将 UITapGestureRecognizer 添加到 UILabel 会产生错误

> ID：11390123
> 
> 赞同：0
> 
> 时间：2012-07-09T06:39:17.380
> 
> 标签：ios, uitapgesturerecognizer

在中`iOS 5.0`，我尝试通过将from 对象拖动到标签来将`UITapGestureRecognizer`a 添加到`UILabel`界面生成器中。**但是，在IB**`GestureRecognizer`的连接检查器中`UILabel`显示没有**collection**的错误消息。这是否意味着我需要附加唯一的直通代码？****`UILabel``gesturerecognizers`**`gesture recogniser`**

 **PS。**我还在`UILabel`IB上启用了用户交互**

感谢您对此的帮助。**

# mysql - mysql查询以显示不匹配的内容

> ID：11390124
> 
> 赞同：1
> 
> 时间：2012-07-09T06:39:23.617
> 
> 标签：mysql

我有两个 MySQL 查询。

第一个显示一个人进行了哪些培训。第二个显示了工作所需的培训。

**第一次查询**

```
select training from coursescompleted where person='$person' 
```

**第二次查询**

```
select j.job, r.training from riskstraining r join jobsrisks j on j.risk=r.Risk 
```

例如，第一个查询（训练完成）的输出是：

```
first aid course
Firesystems course 
```

第二个查询（需要训练）的输出是：

```
Security Guard   -   Firesystems Course
Crane Operator   -   Driving LicenseCourse
Crane Operator   -   first aid course 
```

我如何结合这些查询来显示需要哪些课程才能完成工作？根据下面的示例，如果我选择工作“起重机操作员”，结果应该是“驾驶执照课程”，因为此人已经完成了“急救课程”。连接将显示匹配的结果，而不是不匹配的结果。

**所需输出**- 选择“起重机操作员”的位置

```
crane operator   -   driving license course 
```

关于查询应该是什么的任何建议或指导？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T06:56:34.937

```
select j.job, r.training from riskstraining r join jobsrisks j on j.risk=r.Risk
where r.training not in 
(select training from coursescompleted where person='$person') 
```

我猜是这样的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T06:49:15.350

以下将解决问题：

```
select j.job, r.training 
from riskstraining r join jobsrisks j on j.risk=r.Risk
left join 
(select training from coursescompleted  where person='$person') cc 
on r.training = cc.training 
WHERE cc.training IS NULL 
```

[**您可以在此处**](http://sqlfiddle.com/#!3/e8abf/18)检查代码的模拟[](http://sqlfiddle.com/#!3/e8abf/18)

# visual-studio-2010 - 在 Outlook 2010 中显示用户特定的表单范围

> ID：11390125
> 
> 赞同：0
> 
> 时间：2012-07-09T06:39:28.180
> 
> 标签：visual-studio-2010, email, vsto, outlook-addin, ribbon-control

我想使用我自己的表单区域，通过 VSTO 2010 和 Outlook 2010 设计。表单区域的类型是“单独的”。我的功能区栏中有一个按钮，由表单区域自动添加。我还在功能区栏中有一个自己的选项卡，带有一个显示表单区域的按钮。按钮点击事件的包含代码在这里：

```
Outlook.Inspector inspector = this.Context as Outlook.Inspector;
inspector.SetCurrentFormPage("OutlookAddIn.FormRegion1"); 
```

现在我的问题是隐藏由表单区域自动创建的按钮。我还尝试使用表单区域的“替换”或“全部替换”类型。但是下面的代码让我感到惊讶，该页面不存在。

我只想拥有一个带有按钮的功能区栏选项卡，以在 Outlook 2010 中显示我的表单区域。

感谢帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T06:11:38.827

我又搜索了一次，发现了一些信息来替换不同的表单区域类型。首先，没有办法在功能区栏的显示区域上只显示没有任何按钮的表单区域。

以下是通过单击您自己的按钮来显示“单独”、“相邻”、“替换”和“全部替换”的不同结果。

分开：

```
Outlook.Inspector inspector = this.Context as Outlook.Inspector;
inspector.SetCurrentFormPage("OutlookAddIn.FormRegion1"); 
```

毗邻：

```
Only to add an form region of type adjoining to your project. 
Select the right MessageClass! 
```

替换和全部替换：

```
Outlook.NameSpace ns = Globals.ThisAddIn.Application.GetNamespace("MAPI");
Outlook.MAPIFolder mapi = ns.GetDefaultFolder(Microsoft.Office.Interop.Outlook.OlDefaultFolders.olFolderNotes);

Outlook.MailItem miItem = (Outlook.MailItem)mapi.Items.Add("IPM.Note.YourName");
miItem.Display(true); 
```

# javascript - jsPDF 不适用于 IE 7/8 和 Firefox 13？

> ID：11390126
> 
> 赞同：0
> 
> 时间：2012-07-09T06:39:28.767
> 
> 标签：javascript, jquery, pdf, jspdf

我正在尝试适用于 IE7/8 和 Firefox 13 的 jsPDF 示例代码。在 IE 中，它显示一个脚本错误说明

`the data area passed to a system call is too small jsPdf.js`

另一方面，我在 Firefox 的控制台上没有看到错误。我在 Chrome 中试用过，效果很好。我进行了搜索，但在大多数地方，我得到的回复是或者我必须说我遇到的是它适用于所有浏览器。但就我而言，即使示例应用程序也无法正常工作。请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T11:43:16.287

我有同样的问题。

使用 Chrome 生成新的 pdf 页面效果很好，而在 Firefox 中它停止并且无法完成。

我这样解决了：

打开 jspdf.js 文件并转到第 1698 行，在那里你会找到这个

```
if ($.browser.webkit) {
return API.output('dataurlnewwindow');
} 
```

并将其替换为

```
if ($.browser.webkit) {
return API.output('dataurlnewwindow');
}
else {
return API.output('dataurl');
} 
```

这样，后面的 switch 语句将找到正确的情况，以对 Firefox 有效的方式编译 URL

# android - 如何获取 URL 的 HTML 内容？

> ID：11390127
> 
> 赞同：0
> 
> 时间：2012-07-09T06:39:29.410
> 
> 标签：android, android-xml

```
DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();
DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();
Document doc = docBuilder.parse((new URL(myUrl)).openStream()); 
```

我对此有例外....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T06:45:42.253

你能试一下吗：

```
....
URL url = new URL(myURL);
URLConnection connection = url.openConnection();
connection.connect();
InputStream input = connection.getInputStream();
Document doc = docBuilder.parse(input); 
```

受[URLConnection 启发 getContent() return null](https://stackoverflow.com/questions/8179658/urlconnection-getcontent-return-null)

# javascript - 根据单击的按钮更改内容

> ID：11390130
> 
> 赞同：0
> 
> 时间：2012-07-09T06:39:50.813
> 
> 标签：javascript, jquery

这张图片很容易总结出我正在尝试做的事情

![在此处输入图像描述](../Images/57698ede115cf50a87a1ed1a6ca956b9.png)

问题是我一生都想不出它会被称为什么，所以很难用谷歌搜索它:)

您可以在其中单击其中一个选项卡，它会更改下面的内容。我什至没有要求你所称的代码，所以我可以做一些搜索:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T18:38:04.753

它们被称为选项卡式面板（或者，正如@m90 指出的那样：选项卡式导航）。在 Javascript 中实现的一个很好的例子是 jQuery UI 框架。[http://jqueryui.com/demos/tabs/](http://jqueryui.com/demos/tabs/)。

例如，在实现 HTML 之后，需要调用的只是：

```
$( "#tabs" ).tabs(); 
```

`#tabs`包含正确标记的 div 的 id在哪里。

# highcharts - Highcharts 在标签上显示实时值

> ID：11390131
> 
> 赞同：0
> 
> 时间：2012-07-09T06:40:00.640
> 
> 标签：highcharts

我按照以下指南创建实时图表： [http ://www.highcharts.com/documentation/how-to-use#live-charts](http://www.highcharts.com/documentation/how-to-use#live-charts)

它捕获值并每 '3' 秒更新一次图表。它工作正常！

**现在，是否可以在标签上显示实时值？就像是：** ![在此处输入图像描述](../Images/e936b0ef3aefc914aab4f01c376eb4be.png)

这应该改变每次轮询.....或者至少，在其他图表位置显示最后生成的值？

这是我生成图表的 HTML/JS 代码：

```
 <script type="text/javascript">
    var chart; // global

    function requestData() {
        $.ajax({
            url: 'live-server-data.php', 
            success: function(point) {
                var series = chart.series[0],
                    shift = series.data.length > 30; // shift if the series is longer than 20
                var series = chart.series[1],
                    shift = series.data.length > 30; // shift if the series is longer than 20
                var series = chart.series[2],
                    shift = series.data.length > 30; // shift if the series is longer than 20

                // add the point
                chart.series[0].addPoint([point[0], point[1]], true, shift);
                chart.series[1].addPoint([point[0], point[2]], true, shift);
                chart.series[2].addPoint([point[0], point[3]], true, shift);

                setTimeout(requestData, 3000);  
            },
            cache: false
        });
    }

    $(document).ready(function() {
        chart = new Highcharts.Chart({
            chart: {
                renderTo: 'container',
                defaultSeriesType: 'spline',
                events: {
                    load: requestData
                }
            },
            title: {
                text: 'Live data'
            },
            xAxis: {
                type: 'datetime',
                tickPixelInterval: 150,
                maxZoom: 40 * 1000
            },
            yAxis: {
                minPadding: 0.5,
                maxPadding: 0.5,
                showLastLabel: true,
                title: {
                    text: '',
                    margin: 1
                }
            },
        tooltip: {
            formatter: function() {
                    return '<b>'+ this.series.name +'</b><br/>'+
                    Highcharts.dateFormat('%H:%M:%S', this.x) +'<br/>'+
                    'MDA: '+ this.y;
            }
        },
            series: [{
                name: 'Point1',
                data: []
            }, {
                name: 'Point2',
                data: []
            }, {
                name: 'Point3',
                color: '#FF00FF',
                data: []
            }]
        });     
    });     
    </script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T06:59:53.350

这是有关如何从 highcharts 论坛动态更改图例文本的主题链接。[http://highslide.com/forum/viewtopic.php?f=9&t=18805&p=76061&hilit=change+series+name#p76061][1]

[1]：[http](http://highslide.com/forum/viewtopic.php?f=9&t=18805&p=76061&hilit=change%20series%20name#p76061)
://highslide.com/forum/viewtopic.php?f=9&t=18805&p=76061&hilit=change%20series%20name#p76061希望对您有所帮助！

# java - EHCache 消耗的内存与 HashMap 相同

> ID：11390133
> 
> 赞同：2
> 
> 时间：2012-07-09T06:40:01.140
> 
> 标签：java, ehcache, heap-memory

我们正在评估我们项目中 EHCache 的使用。我们使用简单的 hashMap 进行了测试，因为大小可能会超出堆大小，我们希望确保我们可以控制它......因此是 EHCache。但我无法理解这一点..

如果我将 500,000 个条目放入 HashMap，则消耗的内存约为 114MB。如果我使用 EHCache 并将堆中的条目数限制为 10，将本地磁盘限制为 500000，它会消耗 98MB。我看不出有很大的不同。我在想我应该只能看到少量使用的堆，因为堆中只有 10 个条目。这是我运行的程序..

HashMap 程序..

```
import java.util.HashMap;
import java.util.Map;

public class Test {
    public static void main(String[] args) {
        System.out.println((Runtime.getRuntime().totalMemory()-Runtime.getRuntime().freeMemory())/1024/1024);

        NastIDAccountID accountIDNastID=new NastIDAccountID();
        for(int i=0;i<500000;i++){
            System.out.println(accountIDNastID.getFromCache(String.valueOf(i)));
        }

        System.out.println((Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()) / 1024 / 1024);
    }

    public static class NastIDAccountID{
        private final Map<String,String> cache;

        public NastIDAccountID() {
            this.cache = new HashMap<String, String>();
        }

        public String getFromCache(String key){
            if(cache.containsKey(key)){
                return cache.get(key);
            }else{
                final String value = key + "abcdefghijklmnopqrstuvwxyz";
                cache.put(key, value);
                return value;
            }

        } 
```

EHCache 程序：

缓存.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<ehcache xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="ehcache.xsd"
         updateCheck="false" monitoring="autodetect"
         dynamicConfig="false">

    <diskStore path="/Users/temp/ehcachepersist"/>

    <cache name="nastIDMossoIDMappingCache"
           maxEntriesLocalHeap="10"
           maxEntriesLocalDisk="500000"
           eternal="true"
           overflowToDisk="true"
           diskPersistent="true"
           maxElementsOnDisk="1000000"
      />
</ehcache> 
```

程序：

```
import net.sf.ehcache.Cache;
import net.sf.ehcache.CacheManager;
import net.sf.ehcache.Ehcache;
import net.sf.ehcache.constructs.blocking.CacheEntryFactory;
import net.sf.ehcache.constructs.blocking.SelfPopulatingCache;

public class EHCacheTester {

    public static void main(String[] args) {
        System.out.println((Runtime.getRuntime().totalMemory()-Runtime.getRuntime().freeMemory())/1024/1024);

        final CacheManager cacheManager = CacheManager.create(EHCacheTester.class.getResource("ehcache.xml"));
        final Cache nastIDMossoIDMappingCache = cacheManager.getCache("nastIDMossoIDMappingCache");

        NastIDAccountID accountIDNastID=new NastIDAccountID(nastIDMossoIDMappingCache);
        for(int i=0;i<500000;i++){
            System.out.println(accountIDNastID.getFromCache(String.valueOf(i)));
        }
        System.out.println("nastIDMossoIDMappingCache.calculateInMemorySize() = " + nastIDMossoIDMappingCache.calculateInMemorySize());
        System.out.println("nastIDMossoIDMappingCache.calculateOnDiskSize() = " + nastIDMossoIDMappingCache.calculateOnDiskSize());
        System.out.println((Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()) / 1024 / 1024);
        cacheManager.shutdown();
    }

    public static class NastIDAccountID{
        private final Ehcache cache;

        public NastIDAccountID(Ehcache cache) {
            this.cache = new SelfPopulatingCache(cache, new OurCacheEntryFactory());
        }

        public String getFromCache(String key){
            return (String)cache.get(key).getValue();
        }
    }

    public static class OurCacheEntryFactory implements CacheEntryFactory{
        private int counter;
        @Override
        public Object createEntry(Object o) throws Exception {
            counter++;
            System.out.println(counter);
            return o.toString()+ "abcdefghijklmnopqrstuvwxyz";
        }
    }
} 
```

我已经打印了缓存大小。内存大小的缓存只有 2960 字节。但是 Runtime.getRuntime().totalMemory()-Runtime.getRuntime().freeMemory() 报告的堆大小告诉我一些不同的事情。

底线是 EhCahe 使用的内存量与 HashMap 相同！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T08:10:12.827

Ehcache 不会减少产生的垃圾量，事实上，因为它正在做更多的工作，它可以产生更多很多（尤其是如果你使用 Java 序列化）它为你做的是减少保留的数量，你只能在 Full GC 之后看到（例如`System.gc()`）

# angularjs - 在 Angular.js 中绑定数据

> ID：11390134
> 
> 赞同：1
> 
> 时间：2012-07-09T06:40:02.307
> 
> 标签：angularjs

有没有一种方法可以从模板中获取绑定？

换句话说，如果我有这样的事情：

```
<div ng-repeat="item in list">
  <div>{{item.name}}</div>
      <div>{{item.state}}</div>
</div> 
```

是否可以通过单击来更改项目的状态，因为重复的 div 会“记住”它是从哪个项目构建的？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-09T12:34:21.667

是的，您可以使用该`ng-click`指令在当前范围内触发方法：

```
// In your view's controller:
function MyCtrl($scope, MyList) {
  // You probably have something like that already to
  // populate your list, using a $resource or $http GET call.
  // Here I use a $resource which would be defined on your module.
  $scope.list = MyList.query()

  $scope.setState = function(state) {
    // "this" refers to the current scope
    this.item.state = state
  }
}

// And in your view:
<div ng-repeat="item in list">
  <div>{{item.name}}</div>
  <div ng-click="setState('whatever')">{{item.state}}</div>
</div> 
```

或者您可以简单地设置一个表达式，例如`ng-click="item.state='whatever'"`直接在 div 上，尽管这不太可测试 - 仅在端到端测试中 - 并且不太灵活，比如您想引入验证或其他东西）。

高温高压

# ios - 为什么我不能在 xcode cordova 应用程序上使用基本悬停和活动 CSS

> ID：11390135
> 
> 赞同：0
> 
> 时间：2012-07-09T06:40:08.940
> 
> 标签：ios, xcode, cordova

我对科尔多瓦 xcode 应用程序有问题。我已经有我的 html 页面设置。我不能在 CSS 上制作一个非常简单的悬停和活动动画。非常基本，当您单击或悬停某个按钮或 div 标签时，背景图像会发生变化。我已经尝试过 javascript/jquery（为 mouseDown 和 Up 创建了一个函数），但什么也没发生。我认为科尔多瓦应用程序或 xcode 本身会阻止这种风格或动画？如果是这样，我可以编辑它使我自己的风格。？

好吧，在我在我的 IOS 应用程序中导出之前，我在 dreamweaver 中尝试了它并在浏览器上运行它并且它工作正常。但是当我在我的 ios 应用程序上导出它时，css/javascript 悬停不再起作用。

如果您回答有关此问题的任何答案，我们将不胜感激！

非常感谢你！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T06:45:52.227

> 我认为科尔多瓦应用程序或 xcode 本身会阻止这种风格或动画？如果是这样，我可以编辑它使我自己的风格。？

我能够在科尔多瓦做一个简单的动画。例如：

```
$('#formulaire').animate({
                            opacity: 1.0,
                        }, 4000, function() {});

$('#logo').animate({
                    "top":"60px"
                   }, 2000, function() {});
} 
```

**编辑 1.0：**

> 在html文件（索引）里面？

是的。

> 你是如何配置你的科尔多瓦应用程序的。

就像科尔多瓦网站快速指南中的状态一样。

所以我的问题是，你在使用 JQuery 吗？你正确导入了吗？我的进口是这样的：

```
 <script  src="jquery/jquery.js"></script>
 <script  src="jquery/jquery.mobile-1.1.0.js"></script> 
```

不要介意数据管理文件夹：

![在此处输入图像描述](../Images/d47f4587208832115a1604660d66b6d5.png)

# java - Java 银行示例

> ID：11390138
> 
> 赞同：1
> 
> 时间：2012-07-09T06:40:25.943
> 
> 标签：java, hashmap

```
package nimit.bank;

import java.util.HashMap;

public class MDB {

public final static int entityCustomer=1;
public static HashMap<Object, Object> hmapCustomer = new HashMap<Object, Object>();
public final static int entityAccount=2;
public static HashMap<Object, Object> hmapAccount = new HashMap<Object, Object>();
public final static int entityBank=3;
public static HashMap<Object, Object> hmapBank = new HashMap<Object, Object>();

public static Object get(int entity,Object key) {
Object obj=null;
switch(entity){
case entityCustomer: obj=hmapCustomer.get(key);
break;
case entityAccount: obj=hmapAccount.get(key);
break;
case entityBank: obj=hmapBank.get(key);
break;
}
return obj   
}   
public static void put(int entity, Object key,Object obj ){       
switch(entity){
case entityCustomer: hmapCustomer.put(key,obj);
break;
case entityAccount: hmapAccount.put(key, obj);
break;
case entityBank: hmapBank.put(key,obj);
break;
}
  }
} 
```

这是一个银行示例，我使用哈希图来存储数据。我创建了一个 Customer.java 类，如下所示。

包nimit.bank；

```
public class Customer {
    private String name;
    private String address;
    private long phone_no;

    public String getName() {
        return name;
    }

    public String getAddress() {
        return address;
    }

    public long getPhone_No() {
        return phone_no;
    }

    public Customer(String _Name, String _Address, long _phone) {
        name = _Name;
        address = _Address;
        phone_no = _phone;
    }
} 
```

我创建了一个 BankController.java 类来输入数据并检索它。

包nimit.bank；

```
public class BankController {

    public static void main(String[] args) {
        Customer C = new Customer("nimit", "Jane Street", 26711610);
        Object key = 54321;
        MDB.put(MDB.entityCustomer, key, C);

        System.out.println(MDB.get(MDB.entityCustomer, key));
    }
} 
```

我的疑问是**System.out.println(MDB.get(MDB.entityCustomer,key));** 给出 null 作为输出。我无法理解。我将密钥作为对象类型传递。

# java - Java同步：同步方法和同步块

> ID：11390139
> 
> 赞同：1
> 
> 时间：2012-07-09T06:40:41.463
> 
> 标签：java, multithreading

我有一个多线程 Java 应用程序。在一种方法中，需要同步 ArrayList。由于 arrayList 不是线程安全的，所以我必须使用同步。问题是 ArrayList 类型的对象不是对象的成员变量。该方法的原型如下：

```
public void simultaneousAccess(ArrayListWrapper aListWrapper){
  ArrayList list = aListWrapper.getList();
  //...Codes manipulate the list            
} 
```

由于多线程，我应该使用

一个）

```
 public void synchronized simultaneousAccess(ArrayListWrapper aListWrapper){
         ArrayList list = aListWrapper.getList();
         //...Codes manipulate the list            
    } 
```

或者

二）

```
public void simultaneousAccess(ArrayListWrapper aListWrapper){
     ArrayList list = aListWrapper.getList();
     Synchronized(list){
         //...Codes manipulate the list 
     }           
 } 
```

从性能测试来看，两者都不起作用。但我不知道为什么？

这里有完整的源代码：

```
package com.juhani.prototype.sync;

import java.util.ArrayList;

public class ArrayListWrapper {
    public ArrayList<Integer> aList = new ArrayList<Integer>();

    public ArrayListWrapper(){
        Integer one = new Integer(1);
        Integer two = new Integer(2);
        Integer three = new Integer(3);

        aList.add(one);
        aList.add(two);
        aList.add(three);
    }
}

package com.juhani.prototype.sync;

import java.util.ArrayList;

public class TestClass {

    public int count_test=0;

    public synchronized void test(ArrayListWrapper listWrapper){        
        ArrayList<Integer> list = listWrapper.aList;  
        int temp = list.get(1)+1;
        list.set(1,temp);       
    }

    public void testBlock(ArrayListWrapper listWrapper){
        ArrayList<Integer> list = listWrapper.aList;  
        synchronized(list){
            int temp = list.get(1)+1;
            list.set(1,temp);     
        }
    }

}

package com.juhani.prototype.sync;

public class WorkerSyncObj extends Thread {

    ArrayListWrapper listWrapper = null;
    TestClass tc = null;
    int number;

    public WorkerSyncObj(int aNumber){
       number = aNumber;    
    }

    public void setListWrapper(ArrayListWrapper aListWrapper){
        listWrapper = aListWrapper;
    }

    public void setTestClass(TestClass aTc){
        tc = aTc;
    }

    public void run(){
        int i = 1000;
        for(int j=0;j<i;j++){
            tc.testBlock(listWrapper);
            System.out.println("Thread "+number+" is runing at loop "+j+" . index 1 value is:"+listWrapper.aList.get(1)); 
        }       
    }   
}

package com.juhani.prototype.sync.main;

import com.juhani.prototype.sync.ArrayListWrapper;
import com.juhani.prototype.sync.TestClass;
import com.juhani.prototype.sync.WorkerSyncObj;

public class TestMain {

    public static void main(String[] args){

        ArrayListWrapper list = new ArrayListWrapper();
        TestClass tc = new TestClass();

        WorkerSyncObj work1 = new WorkerSyncObj(1);
        work1.setListWrapper(list);
        work1.setTestClass(tc);
        WorkerSyncObj work2 = new WorkerSyncObj(2);
        work2.setListWrapper(list);
        work2.setTestClass(tc);
        WorkerSyncObj work3 = new WorkerSyncObj(3);
        work3.setListWrapper(list);
        work3.setTestClass(tc);

        work1.start();
        work2.start();
        work3.start();

    }

} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-09T06:53:38.623

在第一种情况下，您锁定`this`对象，而在第二种情况下锁定`list`对象。如果您从不同的对象调用该方法但列表是相同的，这可能是一个问题。这可能是第一种情况下出现异常的原因。
或者，您可以尝试一些内置的并发类型，例如`Collections.synchronizedList`or `CopyOnWriteArrayList`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-12T05:54:44.353

在 java 中，每个对象实例都有一个内在锁（以及相应的类本身）。Synchronzied keywork实际上是使用内在锁进行独占访问，即

```
syncrhonized method(...) {...} 
```

等于

```
method(...) { 
this.intrinsicLock.lock(); 
...; 
this.intrinsicLock.unlock() } 
```

和

```
synchronized( obj_ref ) { ... } 
```

等于

```
obj_ref.intrinsicLock.lock(); 
{...} 
obj_ref.instrinsicLock.unlock(); 
```

因此，syncrhonized 方法不适用于保护列表（参数）。使用 synchronized(list) 有两个问题： 1\. 独占访问的粒度有点粗 2\. 整个程序中的每个列表访问都需要使用“synchronized(list)”。这是一个协议（用于独占访问）。

这就是Java库提供相当多的并发数据结构的原因。

# asp.net - 一组程序员如何在服务器上协同工作？

> ID：11390140
> 
> 赞同：-1
> 
> 时间：2012-07-09T06:40:44.427
> 
> 标签：asp.net, .net

我是一名学生，目前正在做高级项目。我需要在应用程序控制或应用程序平台上工作，以让一组程序员在具有安全性的服务器上一起工作。我想知道一组程序员如何在服务器上协同工作，以及如何在服务器上使用 Visual Studio 2010。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T06:42:54.210

首先，您必须为您的代码使用版本控制系统，例如 SVN，这是最流行的一种。还有一些其他流行的系统，如 GIT。您应该同时尝试它们，看看适合您的需求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T06:43:27.050

您可能希望为服务器上的每个程序员创建用户帐户并允许他们`ssh`访问。查看[git](http://git-scm.com/)进行项目版本控制。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T06:44:14.783

我推荐你[在这里下载！](http://www.softec.lu/site/ClrProjects/SubversionSharp)

# java - k-匿名性和l-多样性是什么意思，它们之间有什么区别？

> ID：11390143
> 
> 赞同：3
> 
> 时间：2012-07-09T06:40:56.880
> 
> 标签：java, algorithm

k-匿名性和l-多样性是什么意思，它们之间有什么区别？此概念用于以下 IEEE 论文：[请参阅此处](http://ieeexplore.ieee.org/xpl/login.jsp?tp=&arnumber=5645011&url=http%3A%2F%2Fieeexplore.ieee.org%2Fxpls%2Fabs_all.jsp%3Farnumber%3D5645011)。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-07-09T11:45:23.920

匿名数据集包含多个可用于识别某人的字段（例如年龄、性别、位置）。即使一个领域不是唯一的，它们的组合也可能是唯一的（例如，在 squatsville 可能只有 1 名 54 岁的男性）。k-anonymity 大于 1 意味着即使在所有字段中，您也无法识别单个人 - 您可以识别“k”个人。

但这还不够，因为由一组不同字段标识的所有 k 个人可能与相同的值相关联——如果 squatsville 有 10 个不同的 54 岁男性并且他们都穿着女士服装，那么你知道鲍勃，现年 54 岁，住在 squatsville，穿着女士服装。因此，您需要由字段确定的组内的多样性。l-diversity 表示该组包含“l”（字母 L，而不是数字 1）不同的值。

[无意冒犯 - 认真 - 对变装者。我只是想要一些温和有趣的东西，而不是，好吧，癌症......]

和参考 - [http://www.cs.colostate.edu/~cs656/reading/ldiversity.pdf](http://www.cs.colostate.edu/~cs656/reading/ldiversity.pdf)

# android - 我想在列表中搜索这个字符

> ID：11390149
> 
> 赞同：0
> 
> 时间：2012-07-09T06:41:39.670
> 
> 标签：android, html

是否可以在 html css 中查看 android api 级别？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:08:23.250

你可以使用 unicode 字符来解决你的问题

这是具有等效 unicode 字符的某些字符的表。

```
Ä, ä        \u00c4, \u00e4
Ö, ö        \u00d6, \u00f6
Ü, ü        \u00dc, \u00fc
ß           \u00df 
```

# android - 我如何开始调用者的活动并关闭同时调用的活动？

> ID：11390150
> 
> 赞同：0
> 
> 时间：2012-07-09T06:41:40.203
> 
> 标签：android, android-intent, android-activity, start-activity

我想调用一个 activty 但是当我调用 actviy 我想完成我的调用者 activty ，我该怎么做？

```
 A:caller
  B:calling

 startActivity(new Intent(A.this, B.class));
  finish(); 
```

我写了这段代码，但一切都结束了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T06:48:17.580

```
Intent intent = new Intent(this, A.class);
intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); 
intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
startActivity(intent); 
```

> 这种启动模式也可以与 FLAG_ACTIVITY_NEW_TASK 结合使用，效果很好：如果用于启动任务的根活动，它将将该任务的任何当前正在运行的实例带到前台，然后将其清除为根状态。这尤其有用，例如，当从通知管理器启动活动时。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T06:49:47.047

尝试这样做：

```
 startActivity(new Intent(A.this, B.class));
              A.this.finish(); 
```

# java - ServerSocket.accept() 中的 java.lang.nullpointerexception

> ID：11390151
> 
> 赞同：0
> 
> 时间：2012-07-09T06:41:40.513
> 
> 标签：java, android, sockets

我正在尝试通过网络接收图像，我设置了一个服务器，如下所示

```
 public class IServerActivity extends Activity {
   ServerSocket ss = null;
   Bitmap bp ;
   Thread myCommsThread = null;
   protected static final int MSG_ID = 0x1337;
   public static final int SERVERPORT = 6000;

   @Override
   public void onCreate(Bundle savedInstanceState) {
      super.onCreate(savedInstanceState);
      setContentView(R.layout.main);
      //TextView tv = (TextView) findViewById(R.id.TextView01);       
      this.myCommsThread = new Thread(new CommsThread());
      this.myCommsThread.start();
   }

   @Override
   protected void onStop() {
      super.onStop();
      try {
         // make sure you close the socket upon exiting
         ss.close();
      } catch (IOException e) {
         e.printStackTrace();
      }
   }

   Handler myUpdateHandler = new Handler() {
      public void handleMessage(Message msg) {
         switch (msg.what) {
         case MSG_ID:
            ImageView iv = (ImageView) findViewById(R.id.imageView01);
            iv.setImageBitmap(bp);;
            break;
         default:
            break;
         }
         super.handleMessage(msg);
      }
   };
   class CommsThread implements Runnable {
      public void run() {
         Socket s = null;
         try {
            ss = new ServerSocket(SERVERPORT );
         } catch (IOException e) {
            e.printStackTrace();
         }
         while (!Thread.currentThread().isInterrupted()) {
            Message m = new Message();
            m.what = MSG_ID;
            try {
               if (s == null)
                  s = ss.accept();
               bp= BitmapFactory.decodeStream(s.getInputStream());   
               myUpdateHandler.sendMessage(m);
            } catch (IOException e) {
               e.printStackTrace();
            }
         }
      }
   }
} 
```

但它在运行时显示错误

```
java.lang.NullPointerException 
E/AndroidRuntime(3047):atExample.IServer.IServerActivity$CommsThread.run(IServerActivity.java:68) 
```

**它在s=ss.accept();**处显示空指针异常；线。请帮助我不知道出了什么问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T06:54:11.983

如果您在该行收到空指针异常，则只能表示较早的：

```
ss = new ServerSocket(SERVERPORT ); 
```

语句没有正常返回。这是唯一*可行*的方法。`ss``null`

* * *

（实际上，还有另一种*可能的*解释。由于`ss`变量是 package private 而不是`final`，同一包中的其他一些类*可以*访问并分配`null`给它。但我认为这不合理。为什么有人要编写代码去做？）

# javascript - 如何在 BIRT 脚本数据源中包含外部 Javascript

> ID：11390157
> 
> 赞同：1
> 
> 时间：2012-07-09T06:43:12.540
> 
> 标签：javascript, birt

我正在我的 BIRT 报告中编写脚本数据源。是否可以包含/调用外部 JavaScript 代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T15:56:49.833

您可以在中添加带有外部 JavaScript 的 js 文件

> 报告属性编辑器 - 资源 - Javascript 文件： - 添加文件...

# c++ - 运行 Ubuntu Eclipse C++ Helloworld

> ID：11390163
> 
> 赞同：3
> 
> 时间：2012-07-09T06:43:40.077
> 
> 标签：c++, eclipse, ubuntu

我正在尝试在 Ubuntu 12.04 上的 Eclipse 上运行 Hello world C++。我安装了 g++ 并编写了以下代码：

```
#include<vector>
#include<string>
#include <iostream>
using namespace std;
int main()
{
    cout << "Hello World" << endl;
    return 0;
} 
```

编译输出：

```
**** Build of configuration Debug for project TopCoder ****

make all 
make: Nothing to be done for `all'.

**** Build Finished **** 
```

运行输出消息：

```
Launching TopCoder has encountered a problem
Error starting process

Error starting process.
Exec_tty error:Cannot run program "/media/01CCE00FA6888D80/Achieve/Eclipse/TopCoder/Debug/TopCoder": Unknown reason
Exec_tty error:Cannot run program "/media/01CCE00FA6888D80/Achieve/Eclipse/TopCoder/Debug/TopCoder": Unknown reason
Exec_tty error:Cannot run program "/media/01CCE00FA6888D80/Achieve/Eclipse/TopCoder/Debug/TopCoder": Unknown reason 
```

当我将源代码放在 ext4 驱动器上构建并运行时，我改变了

```
proc            /proc           proc    nodev,noexec,nosuid 0       0 
```

在 /etc/fstab 中

```
proc            /proc           proc    dev,exec,suid 0       0 
```

但没有用处。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-09T08:23:30.507

`/media/01CCE00FA6888D80`您正在尝试从该卷运行应用程序。可移动USB？最可能的罪魁祸首是 `noexec`作为默认挂载命令行的一个选项。

检查是否`noexec`是用于安装文件系统的选项的一部分，使用：

```
grep noexec /proc/mounts 
```

如果这导致输出表明`noexec`对文件系统有效，则尝试：

```
sudo mount -o remount,exec /media/01CCE00FA6888D80 
```

此外，如果可移动卷是 NTFS，您的 milage 可能会有所不同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T02:24:06.400

您的问题是您的工作区可能与您安装 ubuntu 的驱动器位于不同的驱动器上

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-14T11:17:54.960

您正在 Linux 上运行您的项目。当我的项目在我的 E 驱动器中时，我遇到了同样的问题。我给了读写权限，但这对我来说还不够。当我尝试运行该项目时，同样的错误不断出现。

我已将我的项目转移到我的主文件夹中，授予权限并且项目运行！.

我相信 LINUX C 编译器的某些权限存在问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-09T07:00:11.780

尝试从命令行构建它。然后你就会知道问题是与g++有关还是与eclipse有关。我想你应该在 eclipse 的某个地方改变你的编译器路径，你确定你有 eclipse-cdt 吗？最简单的编译方法是：

> g++ yourfile.cpp

# c# - 声音信号和信号行动？

> ID：11390164
> 
> 赞同：1
> 
> 时间：2012-07-09T06:43:40.607
> 
> 标签：c#, java, api, audio, signals

嗨，我的项目有一些问题。我的项目规范是把声音改成信号，把信号改成声音。我认为我需要一些 api 来改变这一点。我找不到可以将声音更改为信号的 api。

项目详情

当我唱快乐的歌时，我电脑里的球移动得很快。当我唱悲伤的歌曲时，我的电脑里的球移动得很慢。我想我需要检查信号频率。但我对此一无所知。PLZ帮助解决这个问题谢谢

# ruby-on-rails - Rails 数据关联一对多（未定义方法 `key?' for nil:NilClass）

> ID：11390165
> 
> 赞同：0
> 
> 时间：2012-07-09T06:43:46.320
> 
> 标签：ruby-on-rails, associations, foreign-key-relationship

我需要有关以下错误的帮助：

> 未定义的方法“键？” 对于零：NilClass

它发生在我为我的表添加了一些数据关联之后：

```
 class Crew < ActiveRecord::Base
        has_many :Peme, :foreign_key => pemeid, :dependent => destroy
        has_many :Training, :foreign_key => trgid, :dependent => destroy
        has_many :Visa, :foreign_key => visaid, :dependent => destroy
        has_many :Contract, :foreign_key => contid, :dependent => destroy
        has_many :FlagEndorsement, :foreign_key => flgendoid, :dependent => destroy
        has_many :Seminar, :foreign_key => semid, :dependent => destroy
    end

   Class Contract < ActiveRecord::Base
       attr_accessible :contcost, :contdate, :contid, :contremarks, :conttype, :crewid
       belongs_to :Crew, :foreign_key => "crewid"
   end
   class FlagEndorsement < ActiveRecord::Base
       attr_accessible :crewid, :flgendocost, :flgendodate, :flgendoid, :flgendoremarks, :flgendotype
        belongs_to :Crew, :foreign_key => "crewid"
  end
  class Peme < ActiveRecord::Base
       attr_accessible :crewid, :pemecost, :pemedate, :pemeid, :pemeremarks, :pemetype
       belongs_to :Crew, :foreign_key => "crewid"
  end
 Class Seminar < ActiveRecord::Base
       attr_accessible :crewid, :semcost, :semdate, :semid, :semremarks
       belongs_to :Crew, :foreign_key => "crewid"
 end
 Class Training < ActiveRecord::Base
      attr_accessible :crewid, :trgcost, :trgdate, :trgid, :trgremarks, :trgtype
      belongs_to :Crew, :foreign_key => "crewid"
 end
 class Visa < ActiveRecord::Base
   attr_accessible :crewid, :visacost, :visadate, :visaid, :visaremarks, :visatype
   belongs_to :Crew, :foreign_key => "crewid"
end 
```

我想成为peme，培训，签证，flgendorsements，研讨会成为船员的依赖但我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:23:27.953

**1** . 让你的大写/小写排序。`has_many`必须后跟**下划线形式的****复数**关联名称，如下所示：

 **```
has_many :flag_endorsements 
```

**2** . 让你的符号正确：

```
 :foreign_key => pemeid, :dependent => destroy 
```

这而不是设置`:foreign_key`to`:pemeid`和`:dependent`to`:destroy`将寻找局部变量的值`pemeid`和`dependent`. 如果局部变量不存在，它将尝试调用`pemeid`不`dependent`存在的方法。第二次你在某处为完全不同的目的定义这些方法，你就陷入了调试地狱。

**3** . 让您的命名约定正确。`crewid`是属性/列的可怕名称。肯定是`crew_id`。您指定的每个属性/列也是如此。请阅读一些关于 Rails 的基本教程，每个人都明确表示遵循约定有多好，以及如何围绕约定构建 Rails，如果您不遵循它们，您的 Rails 内容将根本无法工作。

清理完代码后 - 提供完整的异常跟踪（如果仍然有问题），然后有人可能会帮助你。**

# javascript - 如何用 Javascript 实现下面的东西？

> ID：11390166
> 
> 赞同：-5
> 
> 时间：2012-07-09T06:43:46.503
> 
> 标签：javascript, asp.net, jakarta-ee

我想使用 JavaScript/任何其他方式禁用浏览器的`Save As`按钮、`View Source`按钮`Print Screen Key`和`Print`功能。保护用户免于保存、查看源代码和截取我的安全网站。如果有人帮助我实现上述目标，那就太好了。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-09T06:52:57.553

你当然可以。使用 javascript 禁用右键单击只是一个问题：

```
window.onmousedown = function( e ) {
    if ( e.which === 2 || e.which === 3 ) return false;
}; 
```

您还可以禁用选择等，您可以做很多事情。

现在，让我禁用 javascript。在任何浏览器中单击三下即可。

哦等等，你所有的保护都完全没用。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-09T06:44:40.937

您不能**可靠地**做这些事情，也不应该强迫用户这样做。

# c# - 为什么即使服务仍然引用它，也会在 DataContract 上调用 Dispose？

> ID：11390168
> 
> 赞同：10
> 
> 时间：2012-07-09T06:43:57.190
> 
> 标签：c#, wcf, idisposable, datacontract

我已经定义了以下`DataContract`实现`IDisposable`：

```
[DataContract]
public class RegularFileMetadata : FileMetadataBase, IDisposable
{
   bool _Disposed = false; //note this!

   //...

   protected virtual void Dispose(bool disposing)
   {
      if (!_Disposed)
      {
          //...
          _Disposed = true; //note this too!
      }
   }
   public void Dispose()
   {
      Dispose(true);
      GC.SuppressFinalize(this);
   }
} 
```

我调用以下服务方法传递上述数据协定的实例：

```
[OperationContract]
[ServiceKnownType(typeof(RegularFileMetadata))]
Guid BeginUpload(FileMetadataBase metadata); 
```

在 的实现中`BeginUpload`，我只是将*元数据*保存在字典中：

```
Dictionary<Guid, RegularFileMetadata> _Dict;

public Guid BeginUpload(FileMetadataBase fileMetadata)
{
    //...
    var metadata = fileMetadata as RegularFileMetadata; 
    Guid sessionId = Guid.NewGuid();
    _Dict.Add(sessionId, metadata); //metadata SAVED!
    return sessionId ;
} 
```

我的问题是，从这个方法返回后，为什么`Dispose()`即使我已经将实例保存在字典中，也会被调用`_Dict`？

我已经验证了该`Dispose()`方法是在我保存在字典中的同一个实例上调用的，就像保存*的**对象*一样，即`_Disposed`变成！`true`*`_Dict[sessionId]._Disposed``true`*

 *我的服务的服务行为设置为：

```
[ServiceBehavior(InstanceContextMode = InstanceContextMode.Single)] 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-07-09T08:07:43.103

它被处置是因为该对象“属于”WCF - 它凭空创建了对象实例，作为参数传递给您的方法。而且，观察到这个对象实现`IDisposable`了是很友好的，所以一旦你的方法完成它就会处理它。

~~如果您希望该对象的实例在您的方法完成后挂起，那么您需要自己创建这样一个实例，将相关细节从一个实例复制到另一个实例。~~

> 为什么`Dispose()`即使我已将实例保存在字典中也会调用`_Dict`

因为`Dispose`模式与引用和垃圾收集*无关。*重要的是，每当对一次性对象的引用在多个方法/参与者/代理之间传递时，就“谁”负责调用`Dispose`以及何时调用达成一致。在这种情况下，“谁”是 WCF 基础结构。

* * *

[`OperationBehavior`](http://msdn.microsoft.com/en-us/library/system.servicemodel.operationbehaviorattribute)更正 - 您可以通过将属性添加到您的方法并设置[`AutoDisposeParameters`](http://msdn.microsoft.com/en-us/library/system.servicemodel.operationbehaviorattribute.autodisposeparameters)为 false来更改此行为：

```
[OperationBehavior(AutoDisposeParameters=false)]
public Guid BeginUpload(FileMetadataBase fileMetadata)
{
    //...
    var metadata = 
```*

# asp.net-mvc - MVC 以隐藏方式传递数据（不在 URL 中，不作为隐藏的 HTML）

> ID：11390172
> 
> 赞同：1
> 
> 时间：2012-07-09T06:44:12.490
> 
> 标签：asp.net-mvc, forms

我正在使用 MVC 3 C#.NET。

有没有办法在页面之间传递值（具有不同控制器的两个不同页面）而不暴露 URL 中的值或隐藏值？最后的手段是使用 Session 变量吗？或者您会建议对隐藏字段（ala ViewState 样式）进行编码并将其解析到控制器吗？

我正在传递几个我想对用户隐藏的值，因为他们可能会尝试使用这些值。

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T06:51:30.893

只需在表单中使用 POST 和隐藏字段。POST 字段不会显示在您的 URL 中，只有 GET。始终尽量减少会话变量的使用，这些变量应该用于存储用户登录信息、用户设置、首选项等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T06:57:42.680

只需将此数据保存在服务器上的某个后备存储中（可以是数据库或您正在使用的任何后备存储）。我自己不是 Session 的粉丝，所以我根本不建议使用它。如果用户不应该看到或修改这些数据，那么甚至不应该将这些数据传递给视图。它应该留在它所属的地方=>在服务器上。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-10T08:33:44.220

我仍然使用隐藏字段，但将其编码为 Base64，类似于 ViewState 样式。它掩盖了大多数用户的真实价值。

# cocoa-touch - drawRect 中的绘图未正确显示

> ID：11390182
> 
> 赞同：0
> 
> 时间：2012-07-09T06:44:59.547
> 
> 标签：cocoa-touch, drawrect

我想在我的应用程序中实现自由绘图。首先，我尝试了里面的代码`drawLayer:inContext:`，它给了我想要的结果。

**在 CALayer 中绘图：**

![CALayer绘图实现](../Images/759d2bcfd74cb0dce83c7e043370517d.png)

但是当我决定实现里面的代码时`drawRect:`，发生了这样的事情：

![在 drawRect: 方法中实现的绘图](../Images/540ec3cf967534aff327c89902c89f47.png)

即使我在空白区域内绘制，绘图也会*在外部*呈现，如上所示。我使用的代码完全相同。我将它从复制粘贴`drawLayer:inContext:`到`drawRect:`. 我什么都没改变，为什么会这样？

**编码：**

```
CGContextSaveGState(ctx);

CGContextSetLineCap(ctx, kCGLineCapRound);
CGContextSetLineWidth(ctx, 1.0);
CGContextSetRGBStrokeColor(ctx, 1, 0, 0, 1);
CGContextBeginPath(ctx);
CGContextMoveToPoint(ctx, prevPoint.x, prevPoint.y);
for (NSValue *r in drawnPoints){
    CGPoint pt = [r CGPointValue];
    CGContextAddLineToPoint(ctx, pt.x, pt.y);
}
CGContextStrokePath(ctx);

CGContextRestoreGState(ctx); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:06:00.317

我看到您在全屏模式下使用应用程序，其中视图居中并且不占用屏幕的整个宽度。

可能是`CALayer`应用了变换，将绘图从屏幕左侧转换到中心。情况可能并非如此`drawRect:`。尝试设置 CGContext 的变换矩阵：

```
CGContextSaveGState(ctx);
CGFloat xOffset = CGRectGetMidX(screenFrame) - CGRectGetMidX(viewFrame);
CGContextTranslateCTM(ctx, xOffset, 0.0f);
// rest of drawing code
// ...
CGContextRestoreGState(ctx); 
```

# c# - 向实体类添加属性，如何避免再次写入所有属性？

> ID：11390183
> 
> 赞同：0
> 
> 时间：2012-07-09T06:45:01.390
> 
> 标签：c#, entity-framework, c#-4.0, entity-framework-4

我使用了实体框架，它为我生成了一些实体类我想向其中一个添加属性，其中有很多字段和属性，当我要向实体类添加属性时，我必须创建子类是从我的实体类继承的，那么我通常会写这个并且它可以工作：

```
IList<newEntity> chid = (from m in db.Entity
                        select new newEntity
                        {
                          //rewrite all properties here
                          newAttribute = ConvertDate(n.date) //it is example I break it into steps and called some functions to fill new attribute
                        }).ToList(); 
```

我的问题是如何避免在这里重写所有属性这真的让我很无聊编写一些代码我可以添加一个新属性我该怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T07:10:46.840

我不确定我是否正确理解了您的问题，但通常实体框架生成的类是部分类（*），因此您不需要从它们派生来添加属性。您可以通过在代码库中添加一个具有相同名称和相同命名空间的类来添加属性、方法等，然后编译器将这两个定义合并：

```
partial class Entity
{
    public DateTime newAttribute { get; set; }
} 
```

(*) 取决于您的代码生成器

# java - node.getProperty(byteArrayProperty) 在 RestGraphDatabase 的情况下返回 String 而不是 byte[]

> ID：11390185
> 
> 赞同：0
> 
> 时间：2012-07-09T06:45:10.047
> 
> 标签：java, neo4j, graph-databases

我们面临以下场景的问题。

1.  我们有一个需要存储`byte[]`在图形节点中的要求。我们使用`node.setProperty("name", byte[]);`. 问题是当我们尝试`byte[]`使用`node.getProperty("name")`.

2.  `getProperty(..)`当我们使用`EmbeddedGraphDatabase`该类时，上述调用工作正常。正如预期的那样，在这种情况下， a`byte[]`被返回。但是，如果我们使用`RestGraphDatabase`类实例，则返回 a `String`（而不是`byte[]`），并且不等同于我们存储的内容。

注意：上述上下文中的变量 node 可以是`Node`或的实例`RestNode`。

在这方面帮助我们。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T15:07:15.807

呃，这可能是 JSON 作为传输格式的限制。也许您可以在邮件列表中询问其他有此问题的人，或者在[https://github.com/neo4j/community/issues](https://github.com/neo4j/community/issues)提出问题？

# unit-testing - 为什么 assertEquals(a, b) 而不是 assert(a == b)？

> ID：11390187
> 
> 赞同：3
> 
> 时间：2012-07-09T06:45:20.920
> 
> 标签：unit-testing

为什么大多数（全部？）单元测试框架都有大型 API 和单独的函数来指定不同类型的布尔条件（例如`assertEquals`，`assertNotEqual`等），而不是使用`assert`具有所需布尔表达式的单个函数（或语言构造）？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-09T06:50:44.817

一个简单的`assert`只会抛出`AssertionError`声明断言的条件评估为假：

```
assert "foo".equals("boo")

java.lang.AssertionError: assertion failed 
```

（更不用说`assert string1 == string2`由于参考比较不正确）

通过传递两者`a`，`b`库可以将它们包含在错误消息中。这里：[FEST 断言](https://github.com/alexruiz/fest-assert-2.x/wiki)：

```
assertThat("foo").isEqualTo("boo");

//throws:
Exception in thread "main" org.junit.ComparisonFailure:
expected:<'[b]oo'> but was:<'[f]oo'> 
```

请注意，某些语言更强大：

在 Groovy 中（示例来自：[Groovy 1.7 Power Assert](http://dontmindthelanguage.wordpress.com/2009/12/11/groovy-1-7-power-assert/)）：

```
a = 10
b = 9

assert 91 == a * b 
```

产量：

```
Assertion failed: 

assert 91 == a * b
          |  | | |
          |  10| 9
          |    90
          false

    at ConsoleScript2.run(ConsoleScript2:4) 
```

在 Scala ( [ScalaTest](http://scalatest.org/getting_started_with_fun_suite) ) 中有一个特殊的`===`运算符：

```
assert(1 === 2) 
```

产量`1 did not equal 2`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-09T06:49:04.010

我可以想到两个原因：

1.  它更具声明性
2.  它允许库自动提供更详细的断言失败消息。

声明式的意思是说**你**想让它做什么，而不是你想让它**怎么**做。

在谈论对象相等等得到很好支持的东西时，差异很小，但请考虑比较两个集合。你可以有`assertIsSubsetOf`, `assertAreSameIncludingOrder`, `assertAreSameButOrderIsIrrelevant`- 我宁愿阅读这些英文名称，也不愿阅读它们冗长、复杂且容易搞砸的实现。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-09T06:51:32.203

我曾经质疑这一点，直到我意识到。如果您将这两个值放入 API，则该函数可以报告未断言的“值”。而不是他们不匹配你得到的事实

> blah blah blah **99 不等于 10003** blah blah blah

其中在测试结果中为您提供了错误问题的线索。计算机可以提供的任何帮助都是受欢迎的，并且完全符合极端测试的精神。

# xamarin.ios - Monotouch 故事板 MPMoviePlayerController

> ID：11390188
> 
> 赞同：0
> 
> 时间：2012-07-09T06:45:30.733
> 
> 标签：xamarin.ios

此代码在非故事板环境中工作，但仅在故事板 ViewController 上运行时显示黑屏。不知道会有什么不同。欢迎提出建议

```
public partial class videoVC : UIViewController
{

    MPMoviePlayerController mp = new MPMoviePlayerController();

    public videoVC (IntPtr handle) : base (handle)
    {
    }

    public override void ViewDidLoad ()
    {
        base.ViewDidLoad ();
        this.buttonPlay.TouchUpInside += delegate {
        try{

            mp = new MPMoviePlayerController(NSUrl.FromFilename("videos/file.m4v"));
            mp.AllowsAirPlay = true;
            this.View.AddSubview(mp.View);
            mp.SetFullscreen(true,true);
            mp.PrepareToPlay();
            mp.Play();

            }catch{

            Console.WriteLine("There was a problem playing back Video");

            }       

        }; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T14:35:10.457

您是否将 file.m4v 的 Build Action 属性设置为 Content？

# c# - ContextMenuStrip 你如何强制更新（大小错误 b/c 我隐藏了一些项目）

> ID：11390190
> 
> 赞同：3
> 
> 时间：2012-07-09T06:45:40.560
> 
> 标签：c#, .net, winforms, contextmenustrip

我在 ContextMenuStrip 中有 10 个项目。我有一个打开事件处理程序，它决定 10 个项目中的哪一个是可见的。根据应用程序逻辑，我可以通过设置 Visible = false 和 Enabled = false 来隐藏其中的许多；

在显示 6/10 的情况下会发生什么情况。第一次单击该条时，它们将是一个区域 4 菜单项高度的空白区域。如果我右键单击使其第二次出现，它会显示在它应该在的位置。因此，条带基本上具有为 10 条条带计算的位置，而实际上它只是 6 条条带。

![第一次点击它看起来像这样](../Images/fb120490d5ec31da1fb94e0104e3fd8b.png) ![第二次点击它看起来不错](../Images/4392789e45db7155feefbb0c5cf945d7.png)

**如何强制它重新计算？**

以下是我尝试过的一些事情：

```
 contextMenuStrip1.Refresh();
        contextMenuStrip1.Update();
        contextMenuStrip1.PerformLayout();
        contextMenuStrip1.AutoSize = true;

        ToolStripItem tempItem = contextMenuStrip1.Items.Add("temp");
        contextMenuStrip1.Items.Remove(tempItem);

        contextMenuStrip1.Refresh();
        contextMenuStrip1.Update(); 

        contextMenuStrip1.Invalidate(); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-16T14:04:56.943

我发现

```
AutoSize = false;
AutoSize = true; 
```

毕竟项目操作工作。没有找到其他解决方案。

就我而言，我在打开时添加项目（窗口的动态列表），有时项目标题比菜单长。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T06:48:43.820

您是否尝试过使用 Invalidate()？

来自 MSDN：

> 使控件的整个表面无效并导致控件被重绘。（继承自控制。）

也许您需要使用 WM_PAINT 消息，我发现有时您需要将 SendMessage (Interop) 与 Winforms 一起使用。

[http://msdn.microsoft.com/en-us/library/windows/desktop/dd145213(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/dd145213(v=vs.85).aspx)

# wpf - UI IsDirty 与实体 IsDirty

> ID：11390191
> 
> 赞同：0
> 
> 时间：2012-07-09T06:45:46.877
> 
> 标签：wpf, binding, save

我很清楚 WPF 绑定的 INotifyPropertyChanged 和 INotifyCollectionChanged。这已经实施并按预期工作。因此，对我们实体上的属性的更改将设置它们的“IsDirty”标志。这反过来又打开了保存功能，这一切都通过绑定，你可以说很漂亮。

但是，我们最近提出了一个更改请求，要求在字段更改时（即使用第一次击键）启用“保存”按钮，就像在文本框中键入时**撤消应用程序命令所做的那样。**因此，保存按钮必须知道何时更改表单上的每个字段，而不是通过绑定更改实体中的属性。

请求帮助的主要原因是，我们的其中一个表单只有一个字段发生变化（其他所有内容通常保持默认），但用户仍然必须在字段中跳出以启用“保存”按钮，而不仅仅是能够立即保存。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T09:50:22.040

您需要将[UpdateSourceTrigger](http://msdn.microsoft.com/en-us/library/system.windows.data.updatesourcetrigger.aspx)更改为`PropertyChanged`

这将在每次文本更改时更新绑定，而不是`LostFocus`- 这是文本框的默认设置。

```
<TextBlock Name="txtName" Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}" /> 
```

# tooltip - 多个 y 轴的 JQplot 工具提示

> ID：11390194
> 
> 赞同：0
> 
> 时间：2012-07-09T06:46:05.250
> 
> 标签：tooltip, axis, jqplot

对于具有 2 个 y 轴的 JQplot 图表，我可以设置工具提示，但是当我将鼠标悬停在数据点上时，我需要知道工具提示属于哪个 y 轴。我需要这个，以便在乘以适当的比例因子后显示工具提示。我尝试的代码如下所示。当我们将鼠标悬停在属于 y2 轴的数据点上时，我认为 y 将为空。但 y 永远不会为空。

```
 $("#"+sTargetId).bind('jqplotcustomDataMouseOver', 
                   function (ev, seriesIndex, pointIndex, data) {    
                     var chart_left = $("#"+sTargetId).offset().left,
                     chart_right = ($(window).width() - ($("#"+sTargetId).offset().left + $("#"+sTargetId).outerWidth())),
                     chart_top = $("#"+sTargetId).offset().top,
                       x = oPlot.axes.xaxis.u2p(data[0]),
                       y = oPlot.axes.yaxis.u2p(data[1]),
                       y2 = oPlot.axes.y2axis.u2p(data[1]);;
                       if(y===null|| y===undefined){   //this condition doesnt work
                       var tooltipDataYaxis = data[1]*scaleYaxis1;
                       var sYDisplay = this.sYAxis1MeasureName;
                       $('#tooltip').css({left:chart_left+x, top:chart_top+y, marginRight:chart_right});
                       }
                       else{

                        tooltipDataYaxis = data[1]*scaleYaxis2;
                        sYDisplay = this.sYAxis2MeasureName;
                        $('#tooltip').css({left:chart_left+x, top:chart_top+y2, marginRight:chart_right});
                       }

                          $('#tooltip').html(

                                 '<span style="font-family: Arial;font-size:'+sTooltip+';font:bold;color:#000000;">'+ sYDisplay+': ' + tooltipDataYaxis +'</span>');
                         $('#tooltip').show();
                   });

        $("#"+sTargetId).bind('jqplotcustomDataUnhighlight', 
                 function (ev, seriesIndex, pointIndex, data) {
                     $('#tooltip').empty();
                     $('#tooltip').hide();
                 });

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T09:58:38.890

变量 seriesIndex 将有助于识别工具提示属于哪个系列。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-11T06:51:54.377

我只是第一次玩jqplot。很有趣。

在荧光笔插件 jqplot.highlighter.js 中，我在第 336 行对其进行了扩展

elem.html(str **+ " 组件:"+neighbor.data[2]** );

此时您可能会使用 Chrome 开发人员工具获取数据模型并查看邻居对象的内容。（范围变量>本地>邻居>数据）

我就是这样做的。希望能帮助到你。

# cuda - Kepler CUDA 动态并行和线程发散

> ID：11390196
> 
> 赞同：2
> 
> 时间：2012-07-09T06:46:07.957
> 
> 标签：cuda, kepler, dynamic-parallelism

关于Kepler的资料很少`dynamic parallelism`，从这项新技术的描述来看，是不是意味着同一个warp中线程控制流发散的问题已经解决了？

它允许`recursion`从设备代码中获取内核，这是否意味着不同线程中的控制路径可以同时执行？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T08:01:52.800

看看这篇[论文](http://www.nvidia.com/content/PDF/kepler/NVIDIA-Kepler-GK110-Architecture-Whitepaper.pdf)

动态并行、流发散和递归是分离的概念。动态并行性是在线程内启动线程的能力。这意味着例如你可以这样做

```
__global__ void t_father(...)   {
   ...
   t_child<<< BLOCKS, THREADS>>>();
   ...
} 
```

我个人在这方面进行了调查，当你做这样的事情时，当 t_father 启动 t_child 时，整个 vga 资源再次分配给这些资源，并且 t_father 等到所有 t_child 都完成后才能继续（另请参阅this [paper](http://www.nvidia.de/content/PDF/isc-2012/1-ISC12-VIP-Briefing-GPU-Accelerator.pdf) Slide 25 )

递归自 Fermi 以来可用，并且是线程在*没有*任何其他线程/块重新配置的情况下调用自身的能力

关于流分歧，我想我们永远不会看到扭曲中的线程同时执行不同的代码..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-21T13:33:37.017

There's a sample cuda source in this NVidia [presentation](http://on-demand.gputechconf.com/gtc/2012/presentations/S0338-GTC2012-CUDA-Programming-Model.pdf) on slide 9\.

```
__global__ void convolution(int x[])
{
   for j = 1 to x[blockIdx]
      kernel<<< ... >>>(blockIdx, j)
} 
```

It goes on to show how part of the CUDA control code is moved to the GPU, so that the kernel can spawn other kernel functions on partial dompute domains of various sizes (slide 14).

The global compute domain and the partitioning of it are still static, so you can't actually go and change this DURING GPU computation to e.g. spawn more kernel executions because you've not reached the end of your evaluation function yet. Instead, you provide an array that holds the number of threads you want to spawn with a specific kernel.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-17T08:29:43.863

不，Warp 的概念仍然存在。warp 中的所有线程都是 SIMD（单指令多数据），这意味着它们同时运行一条指令。即使您调用子内核，GPU 也会为您的调用指定一个或多个扭曲。使用动态并行时，请记住 3 件事：

1.  你可以去的最深是 24 (CC=3.5)。

2.  同时运行的动态内核的数量是有限的（默认为 4096），但可以增加。

3.  在子内核调用之后让父内核保持忙碌，否则很可能会浪费资源。

# asp.net - 打开模式弹出窗口时未显示 asp.net 下拉工具提示

> ID：11390200
> 
> 赞同：0
> 
> 时间：2012-07-09T06:46:29.533
> 
> 标签：asp.net, tooltip, modal-dialog

我有一个 asp.net 下拉控件，其中添加了工具提示。它在鼠标悬停时工作正常。我在该页面中也有一个模态弹出窗口。当我打开和关闭模态弹出窗口时，不再显示下拉菜单中的工具提示。

下面是我的代码。

```
 <div class="col">
            <div class="labelname required">
                <asp:Label ID="lblsupplier" runat="server" Text="Supplier"></asp:Label>
            </div>
            <div class="labelvalue">
                <asp:DropDownList ID="DdlSupplier" TabIndex="11" runat="server" AutoPostBack="true"
                    CausesValidation="false" OnSelectedIndexChanged="DdlSupplier_SelectedIndexChanged">
                </asp:DropDownList>
                <asp:RequiredFieldValidator ID="reqSupplier" runat="server" ControlToValidate="DdlSupplier"
                    ValidationGroup="SubmitGroupMain" InitialValue="0" ErrorMessage="Please Select Supplier Name"
                    SetFocusOnError="true" Display="None"></asp:RequiredFieldValidator>
                <ajaxToolkit:ValidatorCalloutExtender ID="ValidatorCalloutExtender7" runat="Server"
                    TargetControlID="reqSupplier" HighlightCssClass="validatorCalloutHighlight">
                </ajaxToolkit:ValidatorCalloutExtender>
            </div>
            <asp:LinkButton runat="server" ID="lnkAddSupplier" CssClass="btnadd" ToolTip="New Supplier"
                OnClick="lnkAddSupplier_Click"></asp:LinkButton>
            <asp:Button runat="server" ID="popupshowAccount" Style="display: none" />
        </div>
    </div> 
```

背后的代码

```
foreach (ListItem item in DdlSupplier.Items)
            {
                item.Attributes.Add("title", item.Text);
            }
            DdlSupplier.Attributes.Add("onmouseover","this.title=this.options[this.selectedIndex].title"); 
```

单击 lnkAddSupplier 会打开一个弹出窗口。关闭弹出工具提示后，下拉菜单不可见。

请帮助解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T08:49:52.850

属性不会保存在 Viewstate 中，这就是它们会在回发中消失的原因。自定义属性的情况类似。

这就是为什么我们必须使用 DropDownList Pre Render 事件来设置属性

```
protected void DropDownList1_PreRender(object sender, EventArgs e)
{
    foreach (ListItem item in DropDownList1.Items)
        item.Attributes.Add("title", "Something to test!!!!!!");
} 
```

# c# - XAML 绑定 UI 更新

> ID：11390203
> 
> 赞同：0
> 
> 时间：2012-07-09T06:46:44.943
> 
> 标签：c#, wpf, xaml

如果我有绑定到数据源属性的 XAML 元素并且数据源更改得更快，那么人眼可以看到我假设 UI 也可以更快地重新绘制，然后人眼可以看到并浪费资源。属性更改引发标志而不是触发 UI 的重绘，然后在属性发生更改时触发 UI 重绘的计时器是否是一个好主意？还是我错过了如何重新绘制 UI？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T10:00:55.837

您*可以*使用引发属性更改事件的延迟调用，也许像这样......

```
public static class DispatcherExtensions
{
    private static Dictionary<string, DispatcherTimer> timers =
        new Dictionary<string, DispatcherTimer>();
    private static readonly object syncRoot = new object();

    public static void DelayInvoke(this Dispatcher dispatcher, string namedInvocation,
        Action action, TimeSpan delay,
        DispatcherPriority priority = DispatcherPriority.Normal)
    {
        lock (syncRoot)
        {
            RemoveTimer(namedInvocation);
            var timer = new DispatcherTimer(delay, priority, (s, e) => action(), dispatcher);
            timer.Start();
            timers.Add(namedInvocation, timer);
        }
    }

    public static void CancelNamedInvocation(this Dispatcher dispatcher, string namedInvocation)
    {
        lock (syncRoot)
        {
            RemoveTimer(namedInvocation);
        }
    }

    private static void RemoveTimer(string namedInvocation)
    {
        if (!timers.ContainsKey(namedInvocation)) return;
        timers[namedInvocation].Stop();
        timers.Remove(namedInvocation);
    } 

} 
```

然后

```
private object _property;  
public object Property  
{  
    get { return _property; }  
    set  
    {  
        if (_property != value)  
        {  
            _property = value;  
            Dispatcher.DelayInvoke("PropertyChanged_Property",(Action)(() =>
            {
                 RaisePropertyChanged("Property");   
            }),TimeSpan.FromMilliseconds(500));

        }  
    }  
} 
```

虽然不确定我喜欢它...

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-09T06:58:43.157

这种情况下的典型模式是将您的属性实现为

```
 private object _property;
    public object Property
    {
        get { return _property; }
        set
        {
            if (_property != value)
            {
                _property = value;
                RaisePropertyChanged("Property");
            }
        }
    } 
```

仅当值更改时才会更新您的绑定

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-09T07:01:10.567

在这种情况下，触发 UI 更新的计时器是可行的方法。要保持 UI 流畅，请使用大约 40 毫秒的计时器间隔。

```
public class ViewModel
{
    private Timer updateTimer;
    public ViewModel()
    {
        updateTimer = new Timer();
        updateTimer.Interval = 40;
        updateTimer.Elapsed +=new ElapsedEventHandler(updateTimer_Elapsed);
        updateTimer.Start();
    }

    private object _property;
    public object Property
    {
        get { return _property; }
        set
        {
            if (_property != value)
            {
                _property = value;
            }
        }
    } 

    void  updateTimer_Elapsed(object sender, ElapsedEventArgs e)
    {
        RaisePropertyChanged();
    }
} 
```

不带参数调用`RaisePropertyChanged()`会强制 UI 刷新所有绑定。如果您不希望这样，您可以使用标志或注册表来标记需要更新的属性。

# asp.net-mvc-3 - 动态创建的 MVC 验证不能在 ASPX 视图中工作，也不能在 Razor 中工作

> ID：11390204
> 
> 赞同：1
> 
> 时间：2012-07-09T06:46:59.043
> 
> 标签：asp.net-mvc-3, asp.net-mvc-validation

我有输入元素，点击按钮我正在创建一个表单并将输入放在表单中，并使用以下代码定义表单验证。

```
Sys.Mvc.FormContext._parseJsonOptions({
                Fields: [{
                    FieldName:  "IDsiValue1",
                    ReplaceValidationMessageContents: true,
                    ValidationMessageId: "IDsiValue1Error",
                    ValidationRules: [{ ErrorMessage: this.get_grid().get_LocalizedStrings().filtervalidationerror, ValidationParameters: { min: this._findMinRange(this._currentFilterColumn.type), max: this._findMaxRange(this._currentFilterColumn.type) }, ValidationType: "range"}]
                },

                FormId: "IDsiCustomForm",
                ReplaceValidationSummary: false
            });

Sys.Mvc.FormContext.getValidationForForm($("#" + gridid + "siCustomForm").get(0)).validate('submit') 
```

但是，此验证在 razor 视图 (CSHTML) 中正常工作，而在 ASPX 验证中无法正常工作，即抛出任何我输入的验证错误。

谢谢。

# python - /usr/bin/env: python2: 没有这样的文件或目录

> ID：11390206
> 
> 赞同：19
> 
> 时间：2012-07-09T06:47:11.390
> 
> 标签：python, linux, ubuntu

我正在尝试在 Ubuntu 上为我的 Emacs 配置 Python，但出现以下错误：

```
/usr/bin/env: python2: No such file or directory 
```

有人可以帮我吗？我能做些什么来解决它？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-04T06:03:46.943

Try this command in terminal

> sudo ln -s /usr/bin/python2.6 /usr/bin/python2

or

> sudo apt-get install python2

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-07-09T07:03:59.603

大概这就是事实。该链接`/usr/bin/python2 -> (the real one)`应该由您的 Python 包提供，但显然不是这种情况，也不是在任何其他可以通过`$PATH`.

您应该将所述链接放在您的路径中的（一个）适当的位置。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-04T06:30:20.700

在 Ubuntu 12.04 上。

要找出哪个包拥有该文件：

```
$ apt-file -F find /usr/bin/python2
python-minimal: /usr/bin/python2 
```

要找出哪些包依赖于包：

```
$ apt-cache rdepends python-minimal
python-minimal
Reverse Depends:
  python2.7-minimal
 |livecd-rootfs
  python-minimal:i386
  python-support
  python2.7-minimal
  python
 |livecd-rootfs 
```

它表明如果你有`python`包那么你应该有`python-minimal`包然后你应该有`/usr/bin/python2`文件。

检查是否`/usr/bin`在`$PATH`emacs里面。如果是并且您无法`/usr/bin/python2`从 shell 运行，那么您可以重新安装`python-minimal`以恢复`/usr/bin/python2`文件：

```
$ sudo apt-get --reinstall install python-minimal 
```

# android - 如何从android中的webview中选择图像

> ID：11390207
> 
> 赞同：4
> 
> 时间：2012-07-09T06:47:15.523
> 
> 标签：android, image, webview

我在 Image Base64 编码/解码应用程序上工作。所以我想从 webview 中的谷歌图像中选择图像并转换为 Base64 字符串。

```
so how i can pick image on touch event in webview. 
```

提前致谢。![在此处输入图像描述](../Images/1d23302e7ebf2aaa99ef797760bce8ce.png)

![在此处输入图像描述](../Images/58a1aa40220c4e176dd88aac0b3cd577.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T06:50:23.680

您需要从 webiview 获取 html 内容，并获取标签中的图像

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T13:47:09.523

使用带有自定义 WebViewClient 的 webview，并覆盖 onLoadResource 以捕获图像加载。

```
@Override
public void onLoadResource(WebView  view, String  url) 
{
    // debug the page to get the URL format then create filter for images
    // capture image URL here 
} 
```

获得所需的 URL 后，将 URL 转换为位图示例函数： public Bitmap getBitmapFromURL(String src) {

```
 try 
    {
        URL url = new URL(src);
        HttpURLConnection connection = (HttpURLConnection) url.openConnection();
        connection.setDoInput(true);
        connection.connect();
        InputStream input = connection.getInputStream();
        return BitmapFactory.decodeStream(input);
    } 
    catch (IOException e) 
    {
        //TODO on error
        return null;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-11T11:19:24.027

尝试...`HTTPRequest` 拆分所有图像标签。获取每个网址。

您将获得图片的所有网址

# python - 嵌套的python列表赋值

> ID：11390208
> 
> 赞同：4
> 
> 时间：2012-07-09T06:47:15.570
> 
> 标签：python

我想要做的是将嵌套列表分配给另一个列表。例如，从 alist 到 blist。

```
alist = [[0], [1], [2], [3]]
blist = alist[:]
blist[0].append(1) 
```

这样，`id(alist[0])`equals `id(alist[1])`，所以 alist 也变为`[[0,1], [1], [2], [3]]`，这不是我想要的。

我的解决方法是：

```
alist = [[0], [1], [2], [3]]
blist = []
for item in alist:
    blist.append(item[:])
blist[0].append(1) 
```

在此解决方法中，alist 不会受到更改 blist 项目的影响。但是，它似乎不是那么pythonic，有没有更好的解决方案？这可以解决更多 2 级嵌套列表的深层副本。例如：`alist = [[[1], 10], [[2], 20], [[3], 30]]`

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-09T06:51:06.140

我想你想使用`copy.deepcopy()`，这也解决了更深的副本：

```
>>> import copy
>>> alist = [[0], [1], [2], [3]]
>>> blist = copy.deepcopy(alist)
>>> blist[0].append(1)
>>> alist
[[0], [1], [2], [3]]
>>> blist
[[0, 1], [1], [2], [3]] 
```

# capistrano - 使用“谋杀”部署时出现“参数数量不正确”错误

> ID：11390210
> 
> 赞同：0
> 
> 时间：2012-07-09T06:47:23.060
> 
> 标签：capistrano, bittorrent

在我输入 peer 命令后，它显示以下错误：

```
** [out :: 172.23.99.7] Incorrect number of arguments
** [out :: 172.23.99.7] 
** [out :: 172.23.99.7] Usage:
** [out :: 172.23.99.7] python murder_client.py peer/seed out.torrent OUT.OUT 127.0.0.1
** [out :: 172.23.99.7] 
** [out :: 172.23.99.7] The last parameter is the local ip address, normally 10.x.x.x
** [out :: 172.23.99.7] 
** [out :: 172.23.99.5] Incorrect number of arguments
** [out :: 172.23.99.5] 
** [out :: 172.23.99.5] Usage:
** [out :: 172.23.99.5] python murder_client.py peer/seed out.torrent OUT.OUT 127.0.0.1
** [out :: 172.23.99.5] 
** [out :: 172.23.99.5] The last parameter is the local ip address, normally 10.x.x.x
** [out :: 172.23.99.5] 
** [out :: 172.23.98.78] Incorrect number of arguments
** [out :: 172.23.98.78] 
** [out :: 172.23.98.78] Usage:
** [out :: 172.23.98.78] python murder_client.py peer/seed out.torrent OUT.OUT 127.0.0.1
** [out :: 172.23.98.78] 
** [out :: 172.23.98.78] The last parameter is the local ip address, normally 10.x.x.x
** [out :: 172.23.98.78] 
command finished

failed: "sh -c 'python /u/apps/example-app/shared/murder/murder_client.py peer       '\''/tmp/Test_2.tgz.torrent'\'' '\''/tmp/Test_2.tgz'\'' LC_ALL=C host 172.23.99.7 | awk '\\''/has address/ {print $4}'\\'' | head -n 1'" on 172.23.99.7; "sh -c 'python /u/apps/example-app/shared/murder/murder_client.py peer '\''/tmp/Test_2.tgz.torrent'\'' '\''/tmp/Test_2.tgz'\'' LC_ALL=C host 172.23.98.78 | awk '\\''/has address/ {print $4}'\\'' | head -n 1'" on 172.23.98.78; "sh -c 'python /u/apps/example-app/shared/murder/murder_client.py peer '\''/tmp/Test_2.tgz.torrent'\'' '\''/tmp/Test_2.tgz'\'' LC_ALL=C host 172.23.99.5 | awk '\\''/has address/ {print $4}'\\'' | head -n 1'" on 172.23.99.5 
```

如您所见，它会在每个对等点上引发“参数数量不正确”错误。

在此之前的一切（创建种子和启动播种过程）都运行良好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T01:46:42.703

我认为谋杀与 IP 地址主机定义不兼容。它期待一个可以用“主机”解析的域名，因此您的日志输出中的这个小美：

```
`LC_ALL=C host 172.23.99.5 | awk '\\''/has address/ {print $4}'\\'' | head -n 1'` 
```

您会注意到，在没有反引号的情况下运行它——即使在具有相应 DNS 条目的 IP 地址上——也会产生空输出。这就是“参数数量不正确”错误的来源。

看起来github 上有一个[拉取请求，使用 ifconfig 来计算 IP 地址而不是主机。](https://github.com/lg/murder/pull/6/files)如果你愿意，你可以使用那个人的补丁，但它不能处理具有多个接口的主机。最好的解决方案是为您的机器添加一些怪异的 DNS 条目 :)

编辑：

实际上，我认为这应该对 IP 地址主机和 DNS 服务器定义都有效。

再次参考[拉取请求](https://github.com/lg/murder/pull/6/files)，将主机行替换为：

```
HOST = "LC_ALL=C host $CAPISTANO:HOST$ | awk '/has address/ { print $4 } // { print \"$CAPISTRANO:HOST$\" }' | head -n 1" 
```

如果主机名不能解析为 IP 地址，它只会打印出 capistrano 主机服务器名称，在您的情况下，它就是 IP 地址。

# mysql - #1016 - 无法打开文件：'./database_name/#sql-38f_36aa.frm'（错误号：24）

> ID：11390213
> 
> 赞同：9
> 
> 时间：2012-07-09T06:47:36.973
> 
> 标签：mysql, partitioning

我在 mysql 中有带有 MyISAM 存储引擎的表。我想在特定表上创建分区，为此我正在执行查询 -

```
alter table Stops PARTITION BY KEY(`stop_id`) PARTITIONS 200 
```

其中 'stop_id' 是 varchar 的类型。在执行上述查询时，我收到错误 -

```
#1016 - Can't open file: './database_name/#sql-38f_36aa.frm' (errno: 24) 
```

有人可以帮我解决这个问题吗？

谢谢你。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-07-09T07:00:29.803

从[这里](http://info.solomonson.com/content/how-fix-errno-24-mysql)和[这里](http://dev.mysql.com/doc/refman/5.5/en/not-enough-file-handles.html)。

> errno: 24 表示为给定进程打开了太多文件。有一个名为“open_files_limit”的只读 mysql 变量，它将显示 mysqld 允许打开多少个文件：
> 
> ```
> SHOW VARIABLES LIKE 'open%'; 
> ```
> 
> 许多系统将其设置为非常低的值，例如 1024。不幸的是，以下内容将不起作用：
> 
> 设置 open_files_limit=100000
> 
> MySQL 将响应：
> 
> 错误 1238 (HY000)：变量 'open_files_limit' 是只读变量
> 
> 但是，可以对 /etc/my.cnf 进行更改。这个文件可能不存在，如果不存在，就创建它。确保它具有以下内容：
> 
> [mysqld]
> 
> ```
> open-files-limit = 100000 
> ```
> 
> 然后，一定要重启mysql：
> 
> 须藤 /etc/init.d/mysql 重启
> 
> 现在，SHOW VARIABLES LIKE 'open%' 应该显示 100000。您使用的数字可能不同。

# ejb - JBoss 7：没有可用的 EJB 接收器

> ID：11390217
> 
> 赞同：1
> 
> 时间：2012-07-09T06:48:19.873
> 
> 标签：ejb, jboss7.x

我是 JBoss 7 的新手。我面临着奇怪的行为。有时，当我尝试调用会话 bean 时，会遇到以下异常：

```
com.google.gwt.user.server.rpc.UnexpectedException: Service method 'public abstract java.util.List myServlet.getData() throws myException' threw an unexpected exception: java.lang.IllegalStateException: No EJB receiver available for handling [appName:myAppNameEE,modulename:myModuleEJB,distinctname:] combination for invocation context org.jboss.ejb.client.EJBClientInvocationContext@3e23bd28 
```

它通常在从 Eclipse 运行我的 GWT 应用程序时发生。异常并不总是发生。有时它发生的次数比其他次数少。有时，每次我调用会话 bean 时都会发生这种情况，这很痛苦。我阅读了教程（https://docs.jboss.org/author/display/AS71/EJB+invocations+from+a+remote+client+using+JNDI?_sscc=t），我很确定有 jboss- ejb-client.properties 在正确的位置。

我的 jboss-ejb-client 看起来像：

`endpoint.name=myAppEE/myAppEJB remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED=false remote.connections=default remote.connection.default.host=localhost remote.connection.default.port = 4447 remote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false`

它位于：

`myAppEJB\ejbModule\com\myApp\ejb\conf`

业务代表：

```
public class myAppServerDelegate extends ServerDelegate{

private Logger logger = Logger.getLogger(myAppServerDelegate.class.getName());
private myAppRemote theSession = null;

public myAppServerDelegate() throws Exception {

    try {
        theSession = (myAppRemote) getJndiContext().lookup(getJindiLookupName(myAppServerDelegate.class, myAppRemote.class));
    } catch (NamingException e) {
        throw (e);
    }
}

public List<myDataDTO> getAllmyDataBy(String a, String b,
        String c, String d,Integer e,
        Integer f) throws ServerDelegateException {

        return theSession.getAllmyDataBy(a, b, c, d,e,f);
}

public Integer getCountmyDataBy(String a, String b, String c, String d) throws ServerDelegateException {

    return theSession.getCountmyDataBy(a, b, c, d);
}
...

public String getServiceMessage() {

    return theSession.getServiceMessage();
}

...
} 
```

会话 bean：

```
@Stateless

public class myAppSession implements myAppRemote {

private Logger logger = Logger.getLogger(myAppSession.class.getName());
@PersistenceContext
protected EntityManager entityManager;
@EJB
private myAppHomeLocal beanmyApp;

...

public String getServiceMessage() {

    return "MESSAGGIODISERVIZIO";
}

public List<myDataDTO> getAllmyDataBy(String a,String b,
        String c, String d,Integer e,
        Integer f) throws ServerDelegateException {

    logger.info("myAppSession.getAllmyDataBy.");
    List<myData> entityList = findByParms(a, b, c, d,e,f);
    return myDataAssemblyDTO.getmyDataDTOList(entityList);
}

public Integer getCountmyDataBy(String a,String b, String c, String d) throws ServerDelegateException {

    return findByParmsCount(a, b, c, d);
}
...
} 
```

小服务程序：

```
... 
```

@SuppressWarnings("串行")

公共类 MyGenericServiceImpl 扩展 RemoteServiceServlet 实现 MyGenericService {

```
private MyAppServerDelegate myAppServerDelegate = null;

public MyGenericServiceImpl() throws Exception{
    super();
    myAppServerDelegate = new MyAppServerDelegate();
}

private MyAppServerDelegate getDelegate()    {
    return myAppServerDelegate;
}

private myGWTException buildLocalExceptionFromServerException(ServerDelegateException sde)    {
    myGWTException x = new myGWTException();
    x.setParms(sde.guiMessage,sde.timestamp,sde.tipoEvento);
    return x;
}

@Override
public PagingLoadResult<myDataBean> getAllmyDataBy(String a, String b, String c, PagingLoadConfig plc) throws MyGWTException {
    try    {
        String cs = ((UserSessionBean)this.getThreadLocalRequest().getSession().getAttribute("user")).getCodiceStudio();
        List<myDataBean> tsb = MyDataClientAssembly.getMyDataBeanList(myAppServerDelegate.getAllmyDataBy(cs, a, b, c, plc.getOffset(), plc.getLimit()));
        return new BasePagingLoadResult<MyDataBean>(tsb, plc.getOffset(), myDataServerDelegate.getCountmyDataBy(cs, a, b, c));
    } catch (ServerDelegateException sde)    {
        throw buildLocalExceptionFromServerException(sde);
    }
}

@Override
public String getServiceMessage() {
    return getDelegate().getServiceMessage();
}

@Override
public Integer getCountmyDataBy(String a, String b, String c) throws AmbrogioGWTException {
    try    {
        String cs = ((UserSessionBean)this.getThreadLocalRequest().getSession().getAttribute("user")).getCs();
        return myAppServerDelegate.getCountmtDataBy(cs, a, b, c);
    } catch (ServerDelegateException sde)    {
        throw buildLocalExceptionFromServerException(sde);
    }
}
} 
```

服务器委托：

```
public class ServerDelegate {

static public String getJindiLookupName( Class<?> theBeanClass, Class<?> theSessionClass) throws NamingException    {
    String jbossServerName = System.getProperty("jboss.server.name");
    if (jbossServerName== null ||  "".equals(jbossServerName)){
        return "myAppEE/myAppEJB/"+ theBeanClass.getSimpleName() + "!" + theSessionClass.getName();
    }else{
        return "java:global/myAppEE/myAppEJB/" + theBeanClass.getSimpleName() + "!" + theSessionClass.getName();
    }       
}

static public Context getJndiContext() throws NamingException    {
    System.out.println("ServerDelegate.getJndiContext");
    final Properties jndiProperties = new Properties();
    String jbossServerName = System.getProperty("jboss.server.name");
    if (jbossServerName== null ||  "".equals(jbossServerName)){
        jndiProperties.put(Context.INITIAL_CONTEXT_FACTORY, org.jboss.naming.remote.client.InitialContextFactory.class.getName());
        jndiProperties.put(Context.PROVIDER_URL, "remote://localhost:4447");
        jndiProperties.put("jboss.naming.client.ejb.context", true);
jndiProperties.put("jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOPLAINTEXT", "false");
        }             
    return new InitialContext(jndiProperties);       
    }
} 
```

我不知道发生了什么事。TIA。

弗朗切斯科

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-31T14:32:55.940

这可能是使用本地与远程接口的问题或连接问题。

尝试在包上启用`TRACE`日志级别。`org.jboss.ejb.client`如果您的类路径中已经有一个`log4j.properties`，请包含以下行：

```
log4j.logger.org.jboss.ejb.client=TRACE 
```

[这篇文章](https://community.jboss.org/thread/200348)包括调试 JBoss EJB 客户端的其他线索。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T18:45:14.010

我必须在我的 mavens pom.xml 文件中包含一个依赖项列表。这些包括

1.  jboss-ejb-客户端
2.  xnio-nio
3.  jboss-远程命名
4.  jboss-sasl
5.  jboss-事务-ap
6.  jboss-编组
7.  jboss-编组-河

我能够成功地从我的独立 Java 客户端发出远程请求，但是我确实看到了以下问题

Jboss 7.1: 13:43:25,028 INFO [stdout] (EJB default - 6) Hello world 13:43:25,825 ERROR [org.jboss.remoting.remote.connection] (Remoting "mycomputername" read-1) JBREM000200: Remote connection失败：java.io.IOException：现有连接被远程主机强行关闭

我的 java ejb 客户端：WARN [Remoting "client-endpoint" task-2] (ChannelAssociation.java:320) - 收到不支持的消息，标头 0xffffffff

在线阅读的人似乎通过更新某些jar的版本来解决这个问题。但是，我还没有找到一个成功的解决方案。

更新：在部署独立的 ejb 客户端时，我在类路径中包含了 jboss-client.jar。效果很好。

java -classpath "$JBOSS_HOME/bin/client/jboss-client.jar;./my-ejb-client.jar" com.test.Myclient

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-24T07:17:58.473

在 MyAppServerDelegate 类中，您必须在以下方法中而不是在构造函数中实例化属性“theSession”：

*   getAllmyDataBy();

*   getCountmyDataBy();

*   获取服务消息（）；

Session方法调用的结果应该保存在一个临时变量中，然后调用getJndiContext().close()，然后返回临时值。

每个连接都必须显式关闭。实际上，当达到允许的最大连接数时会发生异常。

# javascript - 将 validate="required:true" 添加到您的 html

> ID：11390226
> 
> 赞同：0
> 
> 时间：2012-07-09T06:48:56.340
> 
> 标签：javascript, jquery, html, validation

我想将此添加到我的复选框中：validate="required:true"。结果是：

```
<input type="radio" name="persoonskamer" value="Ja" validate="required:true"> 
```

但现在我有一个问题。我使用了一个表单 cms 生成器。在我的 cms 中，我无法将其直接添加到 html 中。我只能给输入一个类。如何使用 javascript 将“validate="required:true" 添加到我的输入中。

谢谢你们的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T06:51:09.107

试试这个：

```
$('input[name="persoonskamer"]').attr('validate', 'required:true') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T06:51:15.300

```
$("input[name=persoonskamer]").attr('validate', 'required:true'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-09T06:51:50.393

尝试

```
 $('input[name="persoonskamer"]').data('validate', 'required:true'); 
```

看[`.data()`](http://api.jquery.com/data/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-09T06:51:04.840

使用`required="true"`，这里`required`是属性，但是你必须把那个输入标签放在标签`form`里面

# android - 没有使用 maven 将注释处理（生成）的源编译成 apk

> ID：11390232
> 
> 赞同：3
> 
> 时间：2012-07-09T06:49:19.067
> 
> 标签：android, maven, annotations, annotation-processing, android-annotations

我尝试使用 Maven 和[androidannotations](http://androidannotations.org)来构建我的 apk，但独立于任何 IDE（我实际上使用的是 IntelliJ IDEA 而不是 Eclipse，但我希望它完全独立于 IDE，因此它也可以在任何构建服务器）。

注释似乎得到了正确处理，但**它们没有被编译到 apk**中，这是我目前卡住的地方。

我尝试使用 中的`<includes>`部分`maven-compiler-plugin`，并且路径应该是正确的 - 它存在并且还包含已处理、生成的注释 java 类，它是 Android 主要活动，但带有下划线 (_) 后缀。

有一个 wiki 页面描述了如何使用 Maven+Eclipse，但它与 Eclipse IDE 绑定太多。[https://github.com/excilys/androidannotations/wiki/Building-Project-Maven-Eclipse](https://github.com/excilys/androidannotations/wiki/Building-Project-Maven-Eclipse) 所以它不能帮助我解决问题。

这是我的 pom.xml：

```
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.mycompany</groupId>
    <artifactId>de-mycompany-myproject</artifactId>
    <version>1.0-SNAPSHOT</version>
    <packaging>apk</packaging>
    <name>com-mycompany-base-myproject</name>

    <prerequisites>
        <maven>2.2.1</maven>
    </prerequisites>

    <properties>
        <platform.version>2.3.3</platform.version>
    </properties>

    <dependencies>

        <dependency>
            <groupId>com.google.android</groupId>
            <artifactId>android</artifactId>
            <version>${platform.version}</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>com.google.code.gson</groupId>
            <artifactId>gson</artifactId>
            <version>2.2.2</version>
            <scope>compile</scope>
        </dependency>
        <dependency>
            <groupId>com.googlecode.androidannotations</groupId>
            <artifactId>androidannotations</artifactId>
            <version>2.6</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>com.googlecode.androidannotations</groupId>
            <artifactId>androidannotations</artifactId>
            <classifier>api</classifier>
            <version>2.6</version>
        </dependency>
    </dependencies>

    <build>
        <plugins>

            <plugin>
                <groupId>com.jayway.maven.plugins.android.generation2</groupId>
                <artifactId>android-maven-plugin</artifactId>
                <version>3.1.1</version>
                <configuration>
                    <androidManifestFile>${project.basedir}/AndroidManifest.xml</androidManifestFile>
                    <assetsDirectory>${project.basedir}/assets</assetsDirectory>
                    <resourceDirectory>${project.basedir}/res</resourceDirectory>
                    <nativeLibrariesDirectory>${project.basedir}/src/main/native</nativeLibrariesDirectory>
                    <sdk>
                        <platform>10</platform>
                    </sdk>
                    <undeployBeforeDeploy>true</undeployBeforeDeploy>
                </configuration>
                <extensions>true</extensions>
            </plugin>

            <plugin>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.3.2</version>
                <configuration>
                    <source>1.6</source>
                    <target>1.6</target>
                    <includes>
                        <include>${project.basedir}/target/generated-sources/apt/**</include>
                        <!--<include>target/generated-sources/apt/**</include>-->
                    </includes>
                </configuration>
            </plugin>

            <plugin>
                <artifactId>versions-maven-plugin</artifactId>
                <groupId>org.codehaus.mojo</groupId>
                <version>1.3.1</version>
            </plugin>

            <plugin>
                <groupId>org.bsc.maven</groupId>
                <artifactId>maven-processor-plugin</artifactId>
                <version>2.0.5</version>
                <executions>
                    <execution>
                        <id>process</id>
                        <goals>
                            <goal>process</goal>
                        </goals>
                        <phase>generate-sources</phase>
                        <configuration>
                            <processors>
                                <processor>com.googlecode.androidannotations.AndroidAnnotationProcessor</processor>
                            </processors>
                        </configuration>
                    </execution>
                </executions>
                <dependencies/>
            </plugin>

        </plugins>
    </build>

</project> 
```

`mvn install`甚至向我展示了`-s`具有正确路径的编译器选项：

```
[INFO] javac option: -proc:only
[INFO] javac option: -processor
[INFO] javac option: com.googlecode.androidannotations.AndroidAnnotationProcessor
[INFO] javac option: -d
[INFO] javac option: /Users/myuser/path/to/com.mycompany.myproject/target/classes
[INFO] javac option: -s
[INFO] javac option: /Users/myuser/path/to/com.mycompany.myproject/target/generated-sources/apt
[INFO] diagnostic Note: Starting AndroidAnnotations annotation processing
[INFO] diagnostic warning: Supported source version 'RELEASE_6' from annotation processor 'com.googlecode.androidannotations.AndroidAnnotationProcessor' less than -source '1.7'
[INFO] diagnostic Note: Dummy source file: file:///Users/path/to/com.mycompany.myproject/target/generated-sources/apt/dummy1341816057285.java
[INFO] diagnostic Note: AndroidManifest.xml file found: /Users/myuser/path/to/com.mycompany.myproject/AndroidManifest.xml
[INFO] diagnostic Note: Number of files generated by AndroidAnnotations: 1
[INFO] diagnostic Note: Generating source file: com.mycompany.myproject.activity.HelloAndroidActivity_ 
```

（完整的日志在`mvn install`这里： http: [//pastebin.com/6dQkcNXD](http://pastebin.com/6dQkcNXD)）

但仍然运行 apk 失败：

```
E/AndroidRuntime( 6942): Caused by: java.lang.ClassNotFoundException: com.mycompany.myproject.activity.HelloAndroidActivity_ in loader dalvik.system.PathClassLoader 
```

并且处理的注释`HelloAndroidActivity_`不在apk/classes.dex中。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-09T13:56:55.553

发现问题：`<extensions>true</extensions>`在下丢失`maven-compiler-plugin`：

```
 <plugin>
       <artifactId>maven-compiler-plugin</artifactId>
       <version>2.3.2</version>
       <configuration>
           <source>1.6</source>
           <target>1.6</target>
           <includes>
               <include>${project.basedir}/target/generated-sources/apt/**</include>
           </includes>
       </configuration>
   <extensions>true</extensions>
   </plugin> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T19:47:39.717

经过进一步研究，我确定我的原始答案不正确。

问题实际上在于生成的`.classpath`文件。见：[https ://gist.github.com/cwc/5224145](https://gist.github.com/cwc/5224145)

在该示例中，`broken_cp.xml`当用作`.classpath`. 将其内容更改为`working_cp.xml`并刷新项目（提示构建）会立即修复 APK 问题，并且我可以从 Eclipse 成功启动我的 Android 应用程序。

每次我使用**Maven > Update Project...**项目菜单选项重新加载 POM 文件时，都会重新生成损坏的类路径文件形式。我正在通过密切关注`.classpath`文件的更新来解决这个问题，并确保我没有提交损坏的版本。

# amazon-ec2 - 您如何在自己的 ami 中管理应用程序？

> ID：11390235
> 
> 赞同：0
> 
> 时间：2012-07-09T06:49:21.950
> 
> 标签：amazon-ec2

我们有一些用于从互联网收集数据的爬虫。EC2 spot 对我们的应用来说是一个非常便宜的解决方案。

在我们的例子中，我们可以通过以下步骤设置爬虫：

1.  从 AMAZON 快速启动模板启动 ami
2.  安装依赖库
3.  将爬虫应用程序发送到实例
4.  为我们的爬虫设置启动器，让它在启动完成后工作
5.  将实例设为 ami

但是当爬虫需要更新时，我们需要重复第 3 步。它会影响其他设置，例如 Auto Scaling 或其他 Spot 实例请求脚本中的“ami-id”。

'ami' 中的应用程序管理是一个部署问题，因此我们需要建议以使其尽可能简单。现在，还有另一种管理方式。我们使用源码管理工具，部署步骤是这样的：

*   3 来自源代码仓库的 git clone。
*   3.1 从源代码编译应用程序
*   3.2 移除之前的构建
*   3.3 安装最新版本
*   4 启动器总是在唤醒爬虫之前从最新版本重建爬虫。

新方法防止 ami-id 更改，但每次都必须检查源代码。最后，获取源代码需要更多时间（源代码每天都在增长）

您如何在 ami 上管理您的工件？我不确定总是从源代码构建是最佳选择。它只是克服了一些部署问题，但没有解决爬虫实例运行后的更新问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:23:19.823

好吧，如果您的爬虫没有在一天中的每个小时更新，那么我认为您应该，`write some script`即您将同时使用您以前和新的想法，为此编写脚本以**从您的服务器检查当前版本是否是最新的**然后`go normal`爬行如果那个更旧`move to the GIT Clone stuff`，那么如果你不经常修改爬虫，你可以获得高效的性能。

实际上，您将在大多数情况下减少重建，因为当您描述重建过程时，您必须无缘无故地执行这些步骤

希望这可以帮助你

# makefile - 在 Cmake 中运行自定义命令

> ID：11390236
> 
> 赞同：6
> 
> 时间：2012-07-09T06:49:29.890
> 
> 标签：makefile, cmake

我对 Cmake 很陌生，需要在编译时生成一些文件。一旦生成，我需要编译和链接文件。我已经创建了 cmake makefile 来编译已经生成的文件，例如

```
cmake_minimum_required(VERSION 2.6)
project(demo)
set(CMAKE_CXX_FLAGS "-DWITH_COOKIES")
add_library(soapC soapC.cpp soapVimBindingProxy.cpp)
add_library(stdsoap2  /home/abdullah/installs/gsoap-shah_edits/gsoap/stdsoap2.cpp)
add_executable(demo test_file.cc test_app.cc)
target_link_libraries(demo soapC stdsoap2 gsoap++) 
```

这样就成功编译了项目。但是`soapC.cpp soapVimBindingProxy.cpp`需要先生成文件。我想在运行时使用 gsoap 工具生成这些文件。

以下是生成头文件需要运行的命令

```
wsdl2h -o outfile.h infile.wsdl 
```

这需要一个输入 wsdl 文件并创建一个相应的 outfile.h。现在我尝试像这样在cmake中这样做

```
cmake_minimum_required(VERSION 2.6)
add_custom_command(
OUTPUT vsphere.h
COMMAND wsdl2h -o vsphere.h vim25/vim.wsdl
) 
```

但是这里出了点问题。没有错误弹出，但也没有创建文件。我错过了什么吗？非常感谢所有帮助。谢谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-09T06:59:29.510

您刚刚创建了一个用于生成头文件的命令，因此 CMake 知道从哪里获取`vsphere.h`。我建议`OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/vsphere.h`在`add_custom_command()`通话中使用。

现在您需要创建一个目标：

```
add_custom_target(vsphere_header ALL DEPENDS ${CMAKE_CURRENT_BINARY_DIR}/vsphere.h) 
```

最后，让你的`soapC`目标依赖它：

```
add_dependencies(soapC vsphere_header) 
```

确保在目标定义`add_dependencies()`之后进行调用。`soapC`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-04-14T02:17:16.043

感谢 arrododger 和 TobyHijzen 对这个问题的说明。

我使用带有 main_dependency 功能的 add_custom_command 来解决这个问题。以下是我的 CMakeLists.txt，用于 gsoap 教程的著名 calc 示例。

```
cmake_minimum_required(VERSION 2.8)

# Proejct name
PROJECT(Calculator)

# Make verbose level on/off
SET(CMAKE_VERBOSE_MAKEFILE ON)

# Varialbes used in cmake
SET(TARGET calc_client)
SET(GSOAP_STATIC_LIB gsoap)

SET(CLIENT_SRC calc_client.c)

SET(WSDL2H_EXEC wsdl2h)
SET(WSDL2H_IN http://www.genivia.com/calc.wsdl)
#SET(WSDL2H_IN calc.wsdl)
SET(WSDL2H_OUT calc.h)
SET(WSDL2H_OPT -c -o)

# command for generating stub and xml serializer code
ADD_CUSTOM_COMMAND(
    OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/${WSDL2H_OUT}
    COMMAND ${WSDL2H_EXEC} -c -ttypemap.dat -o ${WSDL2H_OUT} ${WSDL2H_IN}
    COMMENT "=================== Generating ${WSDL2H_OUT} gSOAP Header file ..."
)

SET(SOAPCPP2_EXEC soapcpp2)
SET(STUB soapClient.c soapC.c)

SET(SOAPCPP2_OUT
    ${STUB}
    calc.add.req.xml
    calc.add.res.xml
    calc.sub.req.xml
    calc.sub.res.xml
    calc.mul.req.xml
    calc.mul.res.xml
    calc.div.res.xml
    calc.div.req.xml
    calc.pow.res.xml
    calc.pow.req.xml
    calc.nsmap
    soapH.c
    soapH.h
    soapStub.h
    soapClientLib.c
)
# command for generating stub and xml serializer code
ADD_CUSTOM_COMMAND(
    OUTPUT ${STUB}
    COMMAND ${SOAPCPP2_EXEC} -c -C ${WSDL2H_OUT}
    MAIN_DEPENDENCY ${WSDL2H_OUT}
    COMMENT "=================== Generating ${STUB} outputs ..."
)

# Exutable files and dependents
ADD_EXECUTABLE(${TARGET} ${CLIENT_SRC} ${STUB})

# libraries for taget : for gcc -l option
TARGET_LINK_LIBRARIES(${TARGET} ${GSOAP_STATIC_LIB})

# Compiler options
ADD_DEFINITIONS(-Wall -O2 -s) 
```

# jquery - 如何从另一个页面的 div 获取会话值

> ID：11390240
> 
> 赞同：-1
> 
> 时间：2012-07-09T06:50:02.607
> 
> 标签：jquery, ajax, jsp, session

我有 3 个 jsp 页面，即 a.jsp、b.jsp 和 c.jsp，在 a.jsp 中我有一个 div 将加载 b 和 c，现在我的要求是我必须发送一个值表单 b.jsp 和在 c.jsp 中检索，知道吗？检查我的代码

**一个.jsp**

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--DVID=00014EAD-->
<html>
<head>

<title>Tabs in HTML with CSS</title>
<script src="resources/js2/jquery-1.6.2.min.js"></script>
<style type="text/css">
<!--
#tabs {
    border-bottom: .5em solid #0033CC;
    margin: 0;
    padding: 0;
}

#tabs li {
    display: inline;
    border-top: .1em solid #03c;
    border-left: .1em solid #03c;
    border-right: .1em solid #03c;
}

#tabs li a {
    text-decoration: none;
    padding: 0.25em 1em;
    color: #000;
}

#page1 #tabs li#tab1 a,#page2 #tabs li#tab2 a,#page3 #tabs li#tab3 a,.page4 li#tab4 a
    {
    padding: 0.25em 1em;
    background-color: #03c;
    color: #fff;
}
-->
</style>

<script type="text/javascript">

    function profile() {
        var xmlhttp;
        if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {// code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                document.getElementById("myDiv").innerHTML = xmlhttp.responseText;
            }
        }
        xmlhttp.open("GET", "b.jsp", true);
        xmlhttp.send();
    }

    function fields() {
        var xmlhttp;
        if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {// code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                document.getElementById("myDiv").innerHTML = xmlhttp.responseText;
            }
        }
        xmlhttp.open("GET", "c.jsp", true);
        xmlhttp.send();
    }
</script>
</head>

<body id="page3">
    <ul id="tabs">
        <li id="tab1"><a href="#" onclick="profile()">Tab 1</a></li>
        <li id="tab2"><a href="#">Tab 2</a></li>

    </ul>

    <div id="myDiv"></div>
</body>
</html> 
```

**b.jsp**

```
<html>
        <head><title>getQueryString() method of request object.</title></head>
                <body>
                <form method="get">
                        <table border="0" cellspacing="0" cellpadding="0">
                                <tr>
                                        <td>User Name: </td>
                                        <td><input type="text" size="20" name="name" />
                                </tr>

                                <tr>
                                        <td> </td>
                                        <td><input type="button" id="NextBtn" value="Next" >
                                        </td>
                                </tr>
                        </table>
                       <%String name = request.getParameter("name");
                       session.setAttribute("name", name);
                     %>
                </form>

        </body>
</html> 
```

**c.jsp**

```
<html>
<body>

<%

out.println("Name : " + (String)session.getAttribute("name") + "<br/>");

%>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:48:47.630

我注意到有两个错误：
在 b.jsp 中，您必须更正这一点：

```
<form method="get" action="c.jsp"> 
```

在你的 c.jsp 中，你必须纠正这个：

```
<%= (String)session.getAttribute("name") %> <br> 
```

# java - Android Emulator 插件在 Jenkins 中不起作用

> ID：11390241
> 
> 赞同：4
> 
> 时间：2012-07-09T06:50:07.453
> 
> 标签：java, android, testing, android-emulator, jenkins

当我使用选项 create emulator 在 Jenkins 上运行测试时，我遇到了这个问题：

> [android] 无法创建 Android 模拟器：无法运行 AVD 创建命令

当我以现有模拟器为目标时，我遇到了这个问题：

> FATAL: C:\Windows\system32\config\systemprofile.android\avd\AVD_2.2.ini (系统找不到指定的路径) java.io.FileNotFoundException: C:\Windows\system32\config\systemprofile.android\ avd\AVD_2.2.ini（系统找不到指定的路径）在 java.io.FileInputStream.(Unknown Source) at java.io.FileInputStream.open(Native Method) at java.io.FileReader.(Unknown Source)在 hudson.plugins.android_emulator.util.Utils.parseConfigFile(Utils.java:436) 在 hudson.plugins.android_emulator.SdkInstaller$2.call(SdkInstaller.java:331) 在 hudson.plugins.android_emulator.SdkInstaller$2.call(SdkInstaller .java:328) 在 hudson.remoting.LocalChannel.call(LocalChannel.java:45) 在 hudson.plugins.android_emulator.SdkInstaller.getPlatformFromExistingEmulator(SdkInstaller.java:328) 在 hudson.plugins.android_emulator。SdkInstaller.getPlatformForEmulator(SdkInstaller.java:312) 在 hudson.plugins.android_emulator.SdkInstaller.installDependencies(SdkInstaller.java:174) 在 hudson.plugins.android_emulator.AndroidEmulator.setUp(AndroidEmulator.java:247) 在 hudson.model.Build $BuildExecution.doRun(Build.java:154) 在 hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:499) 在 hudson.model.Run.execute(Run.java:1488) 在 hudson.model.FreeStyleBuild。在 hudson.model.ResourceController.execute(ResourceController.java:88) 在 hudson.model.Executor.run(Executor.java:236) 运行(FreeStyleBuild.java:46)model.Build$BuildExecution.doRun(Build.java:154) at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:499) at hudson.model.Run.execute(Run.java:1488) at hudson.model .FreeStyleBuild.run(FreeStyleBuild.java:46) 在 hudson.model.ResourceController.execute(ResourceController.java:88) 在 hudson.model.Executor.run(Executor.java:236)model.Build$BuildExecution.doRun(Build.java:154) at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:499) at hudson.model.Run.execute(Run.java:1488) at hudson.model .FreeStyleBuild.run(FreeStyleBuild.java:46) 在 hudson.model.ResourceController.execute(ResourceController.java:88) 在 hudson.model.Executor.run(Executor.java:236)

我有这个文件。当我在 jenkins 上运行手动模拟器和测试时，它可以工作。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-09T09:16:23.287

第二种情况显示的路径表明您可能将 Jenkins 作为系统服务运行。

[在这种情况下，您可以尝试Android Emulator Plugin wiki 页面](https://wiki.jenkins-ci.org/display/JENKINS/Android+Emulator+Plugin#AndroidEmulatorPlugin-Knownissues)上“已知问题”下列出的解决方法：

> **在 Windows 服务中作为“本地系统”**
> 运行 如果 Jenkins 作为 Windows 服务运行，则无法使用“本地系统”帐户生成和运行新的 AVD（参见[问题 #7355](https://issues.jenkins-ci.org/browse/JENKINS-7355)）。
> 
> 解决方法：将 Jenkins 服务配置为“以”真实用户身份“运行”

* * *

如果这不能解决问题，您能否告诉我们手动创建时将 AVD 放置在哪个目录中？`emulator`您可以通过运行`-verbose`标志来找出答案。在前几行中，您应该看到如下内容：

> 模拟器：Android 虚拟设备文件位于：c:\users\foo\.android\avd\emu_4.0.3.ini

# android - android，应用程序自动推送更新数据

> ID：11390242
> 
> 赞同：0
> 
> 时间：2012-07-09T06:50:14.003
> 
> 标签：android, server-push

几天后，我想将新数据推送到用户设备上的应用程序，例如新闻更新服务。这不是 APK 更新。我从哪里得到一些线索？提前 tks

（对不起，如果这个问题很愚蠢，但为什么我不能在stackoverflow上搜索它，我一定错过了什么？）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:11:49.883

您可以通过许多不同的方式完成此操作。一种选择是将您的应用程序设计为定期查询服务器端[REST API](http://en.wikipedia.org/wiki/Representational_state_transfer)并以 JSON/XML 格式下载新信息。该信息可以存储在设备上的本地 SQLite 或平面文件数据库中。您还可以与[Google 的云消息](http://developer.android.com/guide/google/gcm/index.html)服务集成，向设备发送推送通知。当您的应用程序收到推送消息时，它可能会产生一个新的后台进程来从您的服务器下载任何更新的内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T07:12:02.827

您可以使用推送通知（搜索 c2dm），它会在服务器上更新内容/数据时通知用户。无论何时，android应用程序都会从​​服务器接收推送消息，它会从服务器更新本地数据库（比如你的情况下的新闻数据库）。

希望对您有帮助的信息。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-07-09T06:54:36.250

只需使用您之前使用的相同密钥上传新应用程序，并增加版本代码。

# asp.net - ASP.NET Crystal Reports 图像字段未显示

> ID：11390243
> 
> 赞同：1
> 
> 时间：2012-07-09T06:50:18.593
> 
> 标签：asp.net, image, crystal-reports

我将 VS-2008 用于 asp.net Web 应用程序。但是，我在 VS 2005 中开发了我的报告。（我正在重用在其他项目中开发的一些报告）。

除了不显示图像字段外，报告工作正常。图像字段是数据库中的“VARBINARY(MAX)”字段。请注意，当我将 Crystal Report 导出为 .pdf 时，图像会显示在 .pdf 文件中。

（* 我能够在“Firebug”中看到图像 url，但收到消息“加载图像失败”）

我正在使用“TypedDataset”作为 Crystal Report 的数据源。

我从数据库中获取数据并执行“DataSet.WriteXML(filename,WriteMode.WriteSchema)”

这是代码： -

```
Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load
    Dim rgx As Regex = New Regex("[^a-zA-Z0-9 -]")
    strComp = rgx.Replace(strComp, "")
    strFile = "tempXML" + strComp + ".xml"
    Dim dsTemp As New DataSet
    dsTemp.Clear()
    dsTemp.Tables.Clear()
    Dim rptengine As New CrystalDecisions.CrystalReports.Engine.ReportDocument
    rptengine.Load(Session("rptname"))
    sdate = CType(Session("sdate"), Date)
    edate = CType(Session("edate"), Date)
    rptHeading = Session("rptHead")

    If IO.File.Exists(Server.MapPath("~/" + strFile)) Then
        dsTemp.ReadXml(Server.MapPath("~/" + strFile), XmlReadMode.ReadSchema)
        'IO.File.Delete(Server.MapPath("~/" + strFile))
        Try
            If Session("rptname").ToString.Substring(Session("rptname").ToString.LastIndexOf("\") + 1) _
                = "Rptemp.rpt" Then
                Dim dsReport As New DDL.dsEmpList
                dsReport.Tables("dtEmpList").Merge(dsTemp.Tables(0))
                rptengine.SetDataSource(dsReport.Tables(0))
            ElseIf Session("rptname").ToString.Substring(Session("rptname").ToString.LastIndexOf("\") + 1) _
                = "rptDailyAttendance.rpt" Then
                Dim dsReport As New DDL.dsDailyReoprt
                dsReport.Tables("dtDailyReport").Merge(dsTemp.Tables(0))
                rptengine.SetDataSource(dsReport.Tables(0))
            End If
        Catch ex As Exception
            ShowMsg1("Exception : " & ex.Message)
        End Try

        '**********************assigning CR-ParameterFields*****************************
        Dim crParameterFieldDefinitions As ParameterFieldDefinitions
        Dim crParameterFieldDefinition As ParameterFieldDefinition
        Dim crParameterValues As ParameterValues
        Dim crParameterDiscreteValue As ParameterDiscreteValue
        Dim parameterToDefine As Boolean = False

        crParameterFieldDefinitions = rptengine.DataDefinition.ParameterFields

        For Each crParameterFieldDefinition In crParameterFieldDefinitions
            crParameterDiscreteValue = New ParameterDiscreteValue
            crParameterValues = crParameterFieldDefinition.CurrentValues
            Select Case crParameterFieldDefinition.Name
                Case "sdate"
                    parameterToDefine = True
                    crParameterDiscreteValue.Value = sdate
                Case "edate"
                    parameterToDefine = True
                    crParameterDiscreteValue.Value = edate
                Case "heading"
                    parameterToDefine = True
                    crParameterDiscreteValue.Value = rptHeading
                Case Else
                    parameterToDefine = False
            End Select

            If parameterToDefine Then
                Try
                    crParameterValues.Add(crParameterDiscreteValue)
                    crParameterFieldDefinition.ApplyCurrentValues(crParameterValues)
                Catch ex As Exception
                    objdata.writelog(ex.Message, "frmRptEngine", "frmRptEngine_Load", Server.MapPath("~/Reports"))
                    ShowMsg1("Error in report generation.")
                    Exit Sub
                End Try
            End If
        Next

        rptViewer.ReportSource = Nothing
        rptViewer.ReportSource = rptengine
        rptViewer.Enabled = True
        rptViewer.DataBind()
    Else
        ShowMsg1("Invalid attempt.")
    End If
End Sub 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-09-22T23:01:45.217

对于我们这些运行从 .Net 4.0 或更低版本到 4.5+ 的迁移项目的人，我进行了观察。似乎如果包含查看器的页面位于子目录中，那么图像 url 是相对于该页面而不是 Web 应用程序的根目录生成的。例如，如果您的页面是 /gl/accounts.aspx，则图像可能是 /gl/crystalimagehandler.aspx 等 解决此问题的快速方法是将处理程序映射更改为以 crystalimagehandler.aspx 结尾的通配符，或将以下代码放入 Global .asax

```
protected void Application_BeginRequest(object sender, EventArgs e)
        {
            var p = Request.Path.ToLower().Trim();
            if (p.EndsWith("/crystalimagehandler.aspx") && p!= "/crystalimagehandler.aspx")
            {
                var fullPath=Request.Url.AbsoluteUri.ToLower();
                var index = fullPath.IndexOf("/crystalimagehandler.aspx");
                Response.Redirect(fullPath.Substring(index));
            }
        } 
```

# perl - 从 Perl 脚本连接 gdb

> ID：11390244
> 
> 赞同：0
> 
> 时间：2012-07-09T06:50:23.513
> 
> 标签：perl, gdb, perl-module

我正在编写从生产中获取核心的 perl 脚本。我有核心，需要在这些核心文件上运行 gdb。谁能给我提供从 perl 脚本连接 gdb 的信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T22:57:32.833

> 谁能给我提供从 perl 脚本连接 gdb 的信息。

你*不想那样*做。

相反，您想要做的是弄清楚为什么您`perl`在生产中因核心转储而崩溃。为此，请运行

```
gdb /path/to/perl /path/to/core 
```

在生产机器上，然后发出`where`命令。

# iphone - 合并 iCloud 和核心数据数据库

> ID：11390246
> 
> 赞同：0
> 
> 时间：2012-07-09T06:50:24.240
> 
> 标签：iphone, ios, core-data, ios5, icloud

我有一个使用核心数据和 iCloud 的应用程序。我需要检查 iCloud 是否可用，如果 iCloud 不存在，用户可以在没有 iCloud 的情况下继续。并且他/她可以执行所有操作，但是假设下次他/她运行该应用程序并且 iCloud 是启用那个时候我必须将 iCloud 数据与我的本地数据合并。我怎么能做到这一点，请帮助我

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T08:38:01.037

**WWDC 2012 Session 227 - Using iCloud with Core Data**专门处理您的问题。我绝对建议您观看它并用任何剩余的详细问题更新您的帖子。

# ruby-on-rails - 使用 Rails 将带有状态的图像上传到 Twitter

> ID：11390253
> 
> 赞同：1
> 
> 时间：2012-07-09T06:50:54.447
> 
> 标签：ruby-on-rails, twitter

我正在使用一个调用`prepare_access_token`来联系 Twitter api 的函数来执行读、写函数。

下面是我用来更新 twitter 消息的代码

```
 @tweet = "Rails Rails"
@access_token = prepare_access_token(@oauth_token, @oauth_secret)
@response = @access_token.request(:post, "http://api.twitter.com/1/statuses/update.json", :status => @tweet) 

```

```
def prepare_access_token(oauth_token, oauth_token_secret)

  consumer_key = Rails.application.config.consumer_key
  consumer_secret = Rails.application.config.consumer_secret  

  consumer = OAuth::Consumer.new(consumer_key, consumer_secret,
    { :site => "http://api.twitter.com",
      :scheme => :header
    })
  # now create the access token object from passed values
  token_hash = { :oauth_token => oauth_token,
                 :oauth_token_secret => oauth_token_secret
               }
  access_token = OAuth::AccessToken.from_hash(consumer, token_hash )
  return access_token
end 
```

这适用于没有附加图像的状态更新，但是当我尝试使用如下图像附件更新状态时

```
@access_token = prepare_access_token(@oauth_token, @oauth_secret)
@response = @access_token.request(:post,  "https://upload.twitter.com/1/statuses/update_with_media.json"  , :media => $image , :status  => "Status") 
```

它显示为`{"request":"/1/statuses/update_with_media.json","error":"Error creating status."}`

我究竟做错了什么？请建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-01T07:36:16.317

对于 consumer:site，尝试将其设置为[http://upload.twitter.com](http://upload.twitter.com)而不是[http://api.twitter.com](http://api.twitter.com)。api 站点不支持媒体上传。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T13:23:01.283

与 Twitter API 的其他 REST 方法不同，您必须`Content-Type`为此`multipart/form-data`方法设置`POST https://upload.twitter.com/1/statuses/update_with_media.json`。

# vbscript - 使用 VBScript 调整窗口大小

> ID：11390261
> 
> 赞同：0
> 
> 时间：2012-07-09T06:51:15.830
> 
> 标签：vbscript

您好我想知道如何调整通过使用 VBScript 运行应用程序启动的窗口边框的大小。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-12T04:11:51.607

您可以在这个简短的 sub 中使用这两个命令

```
 Sub Window_Onload
     window.moveTo 1030,110'          Moves the window position
 '                                    horizontally, vertically and
     window.resizeTo 225,175'         changes the width and height
  End Sub'  65+450=515  1280-515=765' of the window 
```

# c# - asp.net 在回发时保存控制值

> ID：11390272
> 
> 赞同：0
> 
> 时间：2012-07-09T06:52:32.763
> 
> 标签：c#, asp.net, dynamic, textbox, postback

我有一个带有一些文本框（也是动态的）和一些按钮的动态表，这些按钮可以回发 onclick。单击按钮后，如何使页面记住回发后在框中输入的文本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:04:26.277

您必须在 tymer click 事件中创建控件。为此创建一个新的用户控件。在其中添加公共属性以添加您必须添加的控件数量。并在 Web 用户控件的 Page INit 和 Page_load 事件中添加所需数量的控件。希望这会奏效。

```
 //IN web user control aspx page add a place holder in which u add your dynamic    controls
 <%@ Control Language="C#" AutoEventWireup="true" CodeFile="WebUserControl.ascx.cs"   Inherits="WebUserControl" %>

  <asp:PlaceHolder runat="server"  ID="mycontrol"/>

  // WEb User Control Code Behind 

  // Create public properties

   public int totalnoOfcontrols
   {
    get;
    set;
   }

 protected void Page_Load(object sender, EventArgs e)
 {
    if (IsPostBack)
    { 
        // save values here 
    }
 }
 protected void Page_Init(object sender, EventArgs e)
 { 
    // create dynamic controls here
     TextBox t = new TextBox();
    t.Text = "";
    t.ID = "myTxt";
    mycontrol.Controls.Add(t);
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T06:55:27.320

您必须使用`Page_Init/Load`事件处理程序来创建控件运行时（*动态*）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T06:56:14.190

为此，您可以使用 ViewState

```
string data = ViewState["myData"];

ViewState["myData"] = data; 
```

# drupal - Drupal：这些权限让我接触到什么

> ID：11390275
> 
> 赞同：1
> 
> 时间：2012-07-09T06:52:45.057
> 
> 标签：drupal, permissions

我需要将这些权限授予匿名和经过身份验证的用户：

*   内容：绕过内容访问控制
*   视图：绕过视图访问控制

（否则这些用户无法看到视图的内容）

有什么我需要在其他地方保护的吗？这是一种“危险”的做法还是属于例外权限？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T10:45:05.700

这是非常危险的做法，这就是为什么您会在主权限页面上的这些权限下方收到一个很好的大警告：

> *警告：仅授予受信任的角色；此权限具有安全隐患。*

这意味着您网站的任何访问者都可以添加/编辑/删除他们希望的任何内容和视图。如果这适合您的用例（尽管我无法想象它会），那么将这些权限授予每个人是正确的做法。

如果没有，我建议您定义适当的安全策略并查看[内容访问](http://drupal.org/project/content_access)等模块来保护您的站点。

# android - Android JUnit 测试未在 Robotium 中检测到

> ID：11390276
> 
> 赞同：2
> 
> 时间：2012-07-09T06:52:54.947
> 
> 标签：android, junit, robotium, junit3

我正在尝试使用机器人运行以下 Android JUnit3 测试：

```
import android.test.ActivityInstrumentationTestCase2;
import com.package.sample.MyActivityClass;
import com.jayway.android.robotium.solo.Solo;

public class TestSample extends ActivityInstrumentationTestCase2<MyActivityClass> {
    private Solo solo;
    public TestSample() {
        super("com.package.sample", MyActivityClass.class);
    }

    protected void setUp() throws Exception {
        super.setUp();
        solo = new Solo(getInstrumentation(), getActivity());
    }

    public void clickbutton1() throws Exception{
        solo.clickOnButton("abc");
        solo.setActivityOrientation(Solo.LANDSCAPE);
        assertTrue(solo.searchText("load"));
    }

    @Override
    protected void tearDown() throws Exception{
        solo.finishOpenedActivities();
    }
} 
```

JUnit 探索显示 0/0 测试运行。调试器没有命中此处提到的任何代码路径，并且控制台输出“测试运行完成”??：

```
Uploading MyAppTest.apk onto device 'emulator-5554'
Installing MyAppTest.apk...
Success!
Project dependency found, installing: MyApp
Uploading MyApp.apk onto device 'emulator-5554'
Installing MyApp.apk...
Success!
Launching instrumentation android.test.InstrumentationTestRunner on device emulator-5554
Collecting test information
Sending test information to Eclipse
Running tests...
Test run finished 
```

有谁知道出了什么问题？我虔诚地遵循了机器人教程中的所有步骤。我知道有很多关于这个的问题，但我已经处理了所有的答案。

Robotium 也有与 JUnit4 类似的[问题](http://code.google.com/p/robotium/issues/detail?id=268)。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-11T23:43:20.823

是的，我知道出了什么问题。

为了运行您的测试，您需要以`test`. 所以你的代码应该是这样的：

```
import android.test.ActivityInstrumentationTestCase2;
import com.package.sample.MyActivityClass;
import com.jayway.android.robotium.solo.Solo;

public class TestSample extends ActivityInstrumentationTestCase2<MyActivityClass> {
    private Solo solo;
    public TestSample() {
        super("com.package.sample", MyActivityClass.class);
    }

    protected void setUp() throws Exception {
        super.setUp();
        solo = new Solo(getInstrumentation(), getActivity());
    }

    //the test methods MUST begin with test...
    public void testClickbutton1() throws Exception{
        solo.clickOnButton("abc");
        solo.setActivityOrientation(Solo.LANDSCAPE);
        assertTrue(solo.searchText("load"));
    }

    @Override
    protected void tearDown() throws Exception{
        solo.finishOpenedActivities();
    }
} 
```

不久前我遇到了类似的问题，而且 Robotium 没有最好的文档。我希望这可以帮助你 ：）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-11T14:28:56.847

我按照你说的做了一切，但 0/0 测试仍然出错。我找到了与构造函数有关的解决方案：

```
// I DELETED THIS CONSTRUCTOR
public TestHomeScreenTest(String pkg, Class<ScreenSlidePagerActivity> activityClass) {
    super(pkg, activityClass);
}

//GOOD SOLUTION:    
public TestHomeScreenTest() {
    super("com.dolphin.homescreen", ScreenSlidePagerActivity.class);
} 
```

现在很糟糕！:)

# git - 删除 git commit，保持文件不变（不要删除更改）

> ID：11390285
> 
> 赞同：1
> 
> 时间：2012-07-09T06:53:31.693
> 
> 标签：git, commit, reset

我昨天做了一个“错误的提交”（IDE 将制表符转换为空格，将 LF 转换为 CRLF），我想恢复那个错误的提交，但我不希望受提交影响的文件被恢复回来到上一个提交。

我希望受影响的文件在删除错误提交的同时保持不变，因此我可以在新提交中提交“新更改”。

实现这一目标的最佳方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T06:58:50.190

如果我对您的理解正确，并且您的工作副本仍在那个“错误”的 HEAD 上，您可以使用固定文件[“--修改”先前的提交。](https://stackoverflow.com/questions/10185731/how-to-amend-more-changes-to-a-previous-commit)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T06:57:10.207

假设您之后没有提交任何内容，只需执行`git reset --soft HEAD^`. 在另一种情况下，但如果您还没有发布您的历史记录（没有这样做`git push`以便其他人已经可以拉取它），只需进行更改，提交它们并使用`git rebase -i`（交互式）编辑历史记录。

# javascript - 在 javascript 中使用 as3 的 addEventListener 的 ExternalInterface

> ID：11390286
> 
> 赞同：3
> 
> 时间：2012-07-09T06:53:35.157
> 
> 标签：javascript, actionscript-3, event-handling, flashdevelop

如何通过 ExternalInterface 使 EventDispatcher 扩展类的“​​addEventListener”对 javascript 可见，以及如何使其与 javascript 函数一起使用以便在 flash 对象中发生事件时调用 js 函数？

事件可能吗？或者它可能需要一些技巧才能使其工作？这个想法是让它自然，就像在javascript中调用addeventlistener一样，当内部事件发生时flash调用javascript回调？

前任：

JAVASCRIPT：

```
flashobj.addEventListener("progress", function (event){alert(event.data);}); 
```

闪光：

```
ExternalInterface.addCallback("addEventListener_", addEventListener);
// as flashObj is a DOM interface after all, I have my reserve in using "addEventListener" as the name for the callback.
... // later in that code:
dispatchEvent(new Event("progress"));
// or
dispatchEvent(new JSEvent("progress")); 
```

结果显然是对 js 函数的调用，该函数将提醒 event.data 任何可能发生的事情。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T07:09:30.097

你不能像这样传递一个 javascript 函数来闪烁。

您可以在您的 javascript 中接受侦听器并从 flash 中触发这些侦听器。

```
ExternalInterface.call( "flash.event", "progress");
ExternalInterface.call( "flash.event", "loaded");
//Etc 
```

Javascript：

```
var flash = {

    types: {

    },

    event: function( type ) {
        var listeners = this.types[type];

        if( listeners ) {
            for( var i = 0; i < listeners.length; ++i ) {
                listeners[i]();
            }
        }
    },

    addEventListener: function( type, fn ) {
        if( !this.types[type] ) {
            this.types[type] = [];
        }

        this.types[type].push(fn);
    }

};

flash.addEventListener( "progress", function(){

}); 
```

# queue - activemq 不断地重试错误消息并且不接收新消息

> ID：11390288
> 
> 赞同：0
> 
> 时间：2012-07-09T06:53:40.213
> 
> 标签：queue, activemq, message-queue

我有一个使用 tomcat 设置的 activemq 实例，用于后台消息处理。它被设置为每 10 分钟重试一次失败的消息，持续一个重试周期。

现在一些脏数据已进入系统，因此消息失败。这没关系，将来可以修复。但是，问题是没有新的正确传入消息得到处理，并且错误消息不断被重试。

关于可能是什么问题或如何设置优先级的任何提示？我没有手动控制消息的优先级。

谢谢你的帮助。

- 讲义

编辑：我能够解决问题。问题是，当所有脏消息都被处理时，是时候重试它们了。因此，队列没有消耗任何新消息。脏消息基本上是由于系统中的一些脏数据而引发异常的消息。重新交付设置是每 10 分钟重新交付 1 天。maximumRedeliveries=144 redeliveryDelayInMillis=600000 acknowledge.mode=transacted

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-11T20:52:38.797

ActiveMQ 根据分配了 ActiveMQConnectionFactory 的 RedeliveryPolicy 的配置来确定消费者的重新传递。本地重新传递会暂停新消息的发送，直到成功重新传递回滚的事务消息，因此如果您有一条消息导致您出现某种错误，例如您抛出异常或回滚事务，那么它将重新传递到最大重新传递-策略中的交付设置。由于您的问题没有提供有关您的设置以及您认为是错误消息的太多信息，因此我无法真正引导您找到解决方案。

您应该查看重新投递策略中可用的设置。您还可以使用 setNonBlockingRedelivery 方法配置重新传递以不阻止新消息发送。

# google-apps-script - 与加载在 iframe 中的 Google 电子表格进行通信

> ID：11390289
> 
> 赞同：0
> 
> 时间：2012-07-09T06:53:57.653
> 
> 标签：google-apps-script, google-sheets

我在 iFrame 中加载了一个电子表格。在 iFrame 之外，我有一个按钮。当用户点击按钮时。我需要检索当前行中的数据。关于如何做到这一点的任何建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T14:36:46.797

是的，您可以编写脚本并将其发布为充当 API 的 Web 应用程序。您可以使用它在授权用户（Google 帐户）的上下文中查询电子表格并获取数据。该脚本将使用 ContentService 并返回 mimeType JSON（或 Atom、RSS、XML 或文本）的 TextOutput。这只是新功能，但文档已经到位。请参阅[https://developers.google.com/apps-script/service_content](https://developers.google.com/apps-script/service_content)

# database - 关于应用程序中用户管理的一般建议

> ID：11390291
> 
> 赞同：0
> 
> 时间：2012-07-09T06:54:06.547
> 
> 标签：database

我想从数据库程序员那里得到一般性的建议。在开发应用程序时，是否建议完成用户权限等的用户管理部分，然后开发主应用程序？我的做法是我首先开发应用程序。然后转到用户管理部分。请告知什么是专业和正确的方法。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:41:26.310

这两件事可以分开处理。因此，如果您选择先开发应用程序，然后添加用户管理部分，则不会发生任何不好的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-06T21:10:48.547

如果您的问题涉及您的应用程序中的身份验证和授权的概念，那么我建议您事先至少有一个概念。我看到一开始忽略用户管理或实施过于简单的系统，没有明确的概念。然后，这些系统很难实现干净且安全的授权和身份验证。

随着应用程序的不断发展，用户管理所需的工作量会迅速增加。

# python - 使用python转换文件中文本的格式

> ID：11390292
> 
> 赞同：0
> 
> 时间：2012-07-09T06:54:07.227
> 
> 标签：python, file, text

我想将用 C 编写的头文件转换为 python 中的类

基本上，C中头文件的格式（称为文件`header.c`如下：

```
#define ATTR_A          (HELLO +1L)     /*FSDSDF*/
#define ATTR_B          (HELLO +2L)     /*FSFSSF*/ 
```

我想做的是编写一个简单的脚本，它可以从中读取文本`header.c`，然后将格式转换为 python calss，并将结果存储到一个名为`header.py`. 转换后将是：

```
ATTR_A        = (HELLO +1L)
ATTR_B        = (HELLO +2L) 
```

我知道如何读取文件以及如何将转换后的结果存储到`header.py`中，但我知道如何进行转换。有人可以帮帮我吗？谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T07:13:38.067

您可以使用[re](http://docs.python.org/library/re.html)模块（正则表达式）从每行文本中提取您需要的部分。

* * *

**例子：**

```
import re

input = ['#define ATTR_A          (HELLO +1L)     /*FSDSDF*/',
         '#define ATTR_B          (HELLO +2L)     /*FSFSSF*/']

r = re.compile(r'#define (\w*)\s*(\(.*\))')

for line in input:
    m = r.match(line)
    print '%s = %s' % (m.group(1), m.group(2)) 
```

**输出：**

```
ATTR_A = (HELLO +1L)
ATTR_B = (HELLO +2L) 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-10T05:05:14.300

我认为最好的方法是`re`在这里使用。

```
>>> import re
>>> testinput = '#define ATTR_A          (HELLO +1L)     /*FSDSDF*/'
>>> r = re.split(r'#define (\w*)(\s*)(\(.*\))', testinput)
>>> print '%s = %s' %(r[1], r[3])
ATTR_A = (HELLO +1L) 
```

`(\w*)`用于提取“ATTR_A”

`(\s*)`用于提取空格

里面`(\(.*\))`，`\(`居然是`(`火柴。匹配除换行符以外的任何字符。`\)``)``.*`

因此，在 , 之后`split`，`r= ['', 'ATTR_A', ' ', '(HELLO +1L)', ' /*FSDSDF*/']`这是一个列表。

# android - 在后台上传文件，服务？

> ID：11390294
> 
> 赞同：2
> 
> 时间：2012-07-09T06:54:13.553
> 
> 标签：android, service, android-asynctask

我需要在后台将文件上传到服务器，我在 asynctask 中进行此操作，但是，如果我没有互联网，我想稍后再上传。实际上，如果没有网络，asynctask 就会崩溃。

```
request.addProperty(file);

            envelope = new SoapSerializationEnvelope(SoapEnvelope.VER12);
            new MarshalBase64().register(envelope); // serialization

            envelope.encodingStyle = SoapEnvelope.ENC;
            envelope.bodyOut = request;

            envelope.dotNet = true;
            envelope.setOutputSoapObject(request);
            envelope.setAddAdornments(false);
            envelope.implicitTypes = true;

            HttpTransportSE transporte = new HttpTransportSE(URL);
            transporte.setXmlVersionTag("<?xml version=\"1.0\" encoding=\"UTF-8\"?>");
            transporte.debug = true;

            try {
                transporte.call(SOAP_ACTION, envelope);
                result = (SoapObject) envelope.getResponse(); 
```

应该是什么？检查互联网连接以及何时打开文件的服务？其他想法？

请问有人有例子吗？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T06:58:37.003

只需使用此方法检查连接

```
public boolean isOnline() {
        ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);

        if (cm.getActiveNetworkInfo() != null && cm.getActiveNetworkInfo().isConnectedOrConnecting())
        return true;
        return false;

        } 
```

喜欢

```
 internetconnection= isOnline();
    if(internetconnection==true){
    //performtask
    } 
```

那么你必须像创建广播接收器一样创建广播接收器并使用它

```
<action android:name="android.net.conn.CONNECTIVITY_CHANGE" /> 
```

在清单中，只要互联网状态发生变化，它就会运行。在此检查它是否在线然后上传图像

# php - 带有 mysql 数据提交的表单设计器应用程序

> ID：11390296
> 
> 赞同：1
> 
> 时间：2012-07-09T06:54:33.007
> 
> 标签：php, mysql, database-design

我想用 PHP 开发一个具有以下功能的应用程序

*   用户可以使用具有所需字段的表单设计器创建多个表单
*   每个表单提交都会存储在mysql中
*   用户可以稍后查看相应的表单提交

我已经完成了 UI 部分和表单设计器。

**问题**

我无法弄清楚如何设计用于接受表单提交的数据库，例如如果用户创建了一个包含以下字段的表单

*   姓名
*   电子邮件
*   城市
*   学科
*   询问

但是以后用户可以添加或删除字段而不会弄乱数据库设计。

**请帮助我设计 MySQL 数据库，以便将表单存储到表中并在那里提交。**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T07:14:43.900

像这样的东西：

```
CREATE TABLE forms (
  form_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, -- the UID of this form
  owner   INT,                                     -- the user who "owns" the form
  PRIMARY KEY (form_id)
);

CREATE TABLE fields (
  form_id  BIGINT UNSIGNED NOT NULL,
  field    VARCHAR(10),                            -- the field name
  PRIMARY KEY (form_id, field),
  FOREIGN KEY (form_id) REFERENCES forms (form_id)
);

CREATE TABLE submissions (
  submission_id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
  form_id       BIGINT UNSIGNED NOT NULL,
  field         VARCHAR(10),
  value         BLOB,                              -- stores PHP's serialize($var)
  PRIMARY KEY (submission_id),
  FOREIGN KEY (form_id) REFERENCES forms (form_id),
  FOREIGN KEY (form_id, field) REFERENCES fields (form_id, field)
); 
```

我建议对表单设计的修改在数据库中创建一个新的（副本）表单，以免使基于旧设计的任何历史提交无效。

# plone - Zopeskel ImportError：无法导入名称 BasicNamespace

> ID：11390298
> 
> 赞同：3
> 
> 时间：2012-07-09T06:54:36.840
> 
> 标签：plone, zope

我的 virtualenv python 中有 zopeskel 2.21.2，它工作正常。同时，我的 Plone buildout（位于`~/.buildout/eggs`）中也有相同版本的 zopeskel。但是，它不起作用。运行`zopeskel --list`会抛出以下错误：

```
ImportError: cannot import name BasicNamespace 
```

来自此[链接](http://collective-docs.readthedocs.org/en/latest/troubleshooting/exceptions.html#from-zopeskel-basic-namespace-import-basicnamespace)的建议说要取出鸡蛋。我已经删除了 ~/.buildout/cache/dist/ 中的 egg 和缓存包，然后再次运行 buildout。但是，问题仍然存在。有趣的是，同一构建中的粘贴脚本正在工作。

我在 buildout.cfg 中的 zopeskel 部分如下所示：

```
[zopeskel]
recipe = zc.recipe.egg
eggs =
    ZopeSkel
    Paste
    PasteDeploy
    PasteScript
    zopeskel.dexterity
    ${instance:eggs} 
```

我的构建中使用的一些包版本：

```
'/home/user/.buildout/eggs/Paste-1.7.5.1-py2.6.egg',
'/home/user/.buildout/eggs/distribute-0.6.24-py2.6.egg',
'/home/user/.buildout/eggs/PasteDeploy-1.3.4-py2.6.egg',
'/home/user/.buildout/eggs/PasteScript-1.7.4.2-py2.6.egg', 
```

完整追溯：

```
[user@rizal myplone.site]$ ./bin/zopeskel --list
Traceback (most recent call last):
  File "./bin/zopeskel", line 346, in <module>
    import zopeskel.zopeskel_script
  File "/home/user/.buildout/eggs/ZopeSkel-2.21.2-py2.6.egg/zopeskel/__init__.py", line 2, in <module>
    from zopeskel.basic_namespace import BasicNamespace
  File "/home/user/.buildout/eggs/ZopeSkel-2.21.2-py2.6.egg/zopeskel/basic_namespace.py", line 2, in <module>
    from zopeskel.vars import var, DottedVar, StringVar, BooleanVar, TextVar
  File "/home/user/.buildout/eggs/ZopeSkel-2.21.2-py2.6.egg/zopeskel/vars.py", line 2, in <module>
    from paste.script.templates import var as base_var
  File "/home/user/.buildout/eggs/PasteScript-1.7.4.2-py2.6.egg/paste/script/templates.py", line 6, in <module>
    import copydir
  File "/home/user/.buildout/eggs/PasteScript-1.7.4.2-py2.6.egg/paste/script/copydir.py", line 4, in <module>
    import pkg_resources
  File "/home/user/.buildout/eggs/distribute-0.6.24-py2.6.egg/pkg_resources.py", line 2727, in <module>
    add_activation_listener(lambda dist: dist.activate())
  File "/home/user/.buildout/eggs/distribute-0.6.24-py2.6.egg/pkg_resources.py", line 700, in subscribe
    callback(dist)
  File "/home/user/.buildout/eggs/distribute-0.6.24-py2.6.egg/pkg_resources.py", line 2727, in <lambda>
    add_activation_listener(lambda dist: dist.activate())
  File "/home/user/.buildout/eggs/distribute-0.6.24-py2.6.egg/pkg_resources.py", line 2230, in activate
    map(declare_namespace, self._get_metadata('namespace_packages.txt'))
  File "/home/user/.buildout/eggs/distribute-0.6.24-py2.6.egg/pkg_resources.py", line 1827, in declare_namespace
    _handle_ns(packageName, path_item)
  File "/home/user/.buildout/eggs/distribute-0.6.24-py2.6.egg/pkg_resources.py", line 1797, in _handle_ns
    loader.load_module(packageName); module.__path__ = path
  File "/usr/lib/python2.6/pkgutil.py", line 238, in load_module
    mod = imp.load_module(fullname, self.file, self.filename, self.etc)
  File "/home/user/.buildout/eggs/ZopeSkel-2.21.2-py2.6.egg/zopeskel/__init__.py", line 2, in <module>
    from zopeskel.basic_namespace import BasicNamespace
ImportError: cannot import name BasicNamespace 
```

有什么问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-09T15:34:46.340

这通常发生在您在本地（构建）和全局 Python 安装中都安装了 ZopeSkel / Paster。由于管理站点包的 Python 过程失败，您最终会得到不兼容的组合。

解决方案：

[http://docs.plone.org/manage/troubleshooting/exceptions.html#from-zopeskel-basic-namespace-import-basicnamespace](http://docs.plone.org/manage/troubleshooting/exceptions.html#from-zopeskel-basic-namespace-import-basicnamespace)

# vba - 使用 VBA 格式化 Excel 工作表

> ID：11390300
> 
> 赞同：1
> 
> 时间：2012-07-09T06:55:05.920
> 
> 标签：vba, printing, excel, excel-2007

**是）我有的**

Excel 2007 工作表。同一工作簿中多个工作表中范围 A1:C48（固定）中的信息。

**我需要的**

我需要在具有正常边距的 Letter 尺寸纸张上打印此选择。但条件是我需要适应选择的宽度，即 3 列到 1 页。我必须保持列的宽度恒定以保持恒定的字体大小。我想使用 VBA 来做到这一点。

这是我尝试过的代码：

```
Sub printing()
    Dim w1 As Single, w2 As Single, w3 As Single
    Application.ScreenUpdating = False
    w1 = 62
    w2 = 24.71
    w3 = 22.14
    For i = 1 To ActiveWorkbook.Worksheets.Count
    Worksheets(i).Activate
    ActiveSheet.Columns(1).ColumnWidth = w1
    ActiveSheet.Columns(2).ColumnWidth = w2
    ActiveSheet.Columns(3).ColumnWidth = w3

    ActiveSheet.Range("A1:C48").Select

    With Worksheets(i).PageSetup
        .PaperSize = xlPaperLetter
        .Zoom = False
        .FitToPagesWide = 1
        .FitToPagesTall = 1
        .LeftMargin = Application.InchesToPoints(0.5)
        .RightMargin = Application.InchesToPoints(0.75)
        .TopMargin = Application.InchesToPoints(1.5)
        .BottomMargin = Application.InchesToPoints(1)
        .HeaderMargin = Application.InchesToPoints(0.5)
        .FooterMargin = Application.InchesToPoints(0.5)
    End With
    Next i
    Application.ScreenUpdating = True
End Sub 
```

虽然这会调整列的大小并设置其他属性，但分页符仍然保持不变，当我尝试打印它时，还包括第 4 列。我不想手动拖动分页符，因为这会调整字符大小。我更喜欢设置列宽，以便它适合具有正常边距的信纸。

我真的很感激任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T16:00:56.573

如果我理解正确，我认为您想要的是`PageSetup.PrintArea`财产。您可以添加：

```
.PrintArea= "$A$1:$C$48" 
```

到你的 with 块。

# asp.net-mvc-3 - 数据库资源管理器不显示数据库和表

> ID：11390301
> 
> 赞同：1
> 
> 时间：2012-07-09T06:55:07.740
> 
> 标签：asp.net-mvc-3

我是 ASP .net MVC 3 的初学者。我安装了 visual web developer 2010 Express。我正在从在线视频中学习。我创建了一个体育项目并创建了视频中提到的所有模型。但是当我切换到数据库资源管理器时，我无法在视频中看到创建的数据库，它显示了表格。我试图从数据库资源管理器打开一个数据库连接，但它显示 .mdb 文件已经打开。如何在数据库资源管理器中查看自动创建的数据库表？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T06:59:51.260

您需要打开数据库，它不会自动添加到那里。如果它已经打开，那么也许您使用访问权限或任何其他第 3 方工具打开它？只需选择正确的提供程序并打开文件。这对我行得通...

# android - Android 计时器和 NetworkOnMainThreadException

> ID：11390305
> 
> 赞同：0
> 
> 时间：2012-07-09T06:55:30.833
> 
> 标签：android, multithreading, handler, networkonmainthread

我正在使用以下代码在特定时间后更新列表。

```
Myactivity {
    setTimer() {
        Runnable  r = new Runnable() {
            run() {
                if(!isListUpdated) {
                    update();//n/w operation
                } else {
                    show();//this is a UI operation
                    listupdated = false;
                }

                Handler.postDelayed(this,next); //repeat after next
            }

            new Thread(r).start();
        }
    } 
} 
```

经过 2-3 次迭代后，它给出了`NetworkOnMainThreadException`. 有人能说出这段代码有什么问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T06:58:19.270

您不应该**在 Main Thread 中进行网络操作**。创建一个单独的线程并在那里进行 nw 操作。

您可以使用**AsyncTask**、**Service** 或**单独的线程**。您将在哪里进行网络操作。并通过 BroadcastReceiver、Handler 或 AsyncTask 进行更新。

[在此处](http://developer.android.com/reference/android/os/AsyncTask.html)阅读有关 AsyncTask的信息

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-09T06:59:11.050

当您尝试在主线程中执行网络操作时，通常会发生此异常。用于`AsyncTask`您的网络操作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-09T07:07:59.460

[NetworkOnMainThreadException](http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html)：

> 当应用程序尝试在其主线程上执行网络操作时引发的异常。

所以你需要使用[Thread](http://developer.android.com/reference/java/lang/Thread.html)、[runOnUiThread](http://developer.android.com/reference/android/app/Activity.html)、[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html) 、[Handler](http://developer.android.com/reference/android/os/Handler.html)或[HandlerThread](http://developer.android.com/reference/android/os/HandlerThread.html)从后台线程更新 UI 元素。

* * *

使用 thread 和[runOnUiThread](http://developer.android.com/reference/android/app/Activity.html)的示例：

```
public void myThread(){
    Thread th=new Thread() {
        @Override
        public void run() {
            try
            {
                while(true) {
                    Current_Activity.this.runOnUiThread( new Runnable() {
                        @Override
                        public void run() {
                    //UPDATE UI FROM HERE
                        }
                    });
                }
            }catch (InterruptedException e) {
                // TODO: handle exception
            }
        }
    };

    th.start();
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-09T07:07:42.297

考虑使用`runOnUiThread`在非 UI 线程中执行 UI 操作。

您的代码片段应如下所示。

```
Runnable runnable = new Runnable() {

    public void run() {
        if (!isListUpdated) {
            runOnUiThread(new Runnable() {

                public void run() {
                    update(); //n/w operation

                }
            });

        } else {
            runOnUiThread(new Runnable() {

                public void run() {
                    show(); //n/w operation

                }
            });
            listupdated = false;
        }

        handler.postDelayed(runnable, next);
    }
}; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-09T07:08:10.957

我猜您使用的是蜂窝版本，您最好使用 AsyncTask 它将解决您的问题。

# windows-phone-7 - 数据绑定视图是如何呈现的？

> ID：11390307
> 
> 赞同：0
> 
> 时间：2012-07-09T06:55:44.907
> 
> 标签：windows-phone-7

当一个 Windows Phone 7 应用程序打开一个视图时，按照一定的业务顺序来创建。就构造函数和事件而言，我发现这个顺序是正确的：

1.  `Constructor`
2.  `OnNavigatedTo`
3.  `OnLoaded`

但是，我需要在加载基本视图（背景、其他元素等）后将a 数据绑定`List`到 a 。`ListBox`所以在我开始数据绑定之前，我需要知道何时以及如何知道视图已加载。

我试图在`OnLoaded`-event 上执行此操作，但似乎如果我在这里进行数据绑定 - 并且在它遍历这些元素之后 - 它们似乎还不存在（`VisualTreeHelper`-class 似乎找不到节点）。所以如你所见，我被困住了。

任何帮助将不胜感激。

编辑：根据要求，这里有一些关于正在发生的事情的更多信息。

My`List`由一些自定义（不太复杂）对象填充，包括异步加载的图像（由[delay.LowProfileImageLoader](http://blogs.msdn.com/b/delay/archive/2010/09/02/keep-a-low-profile-lowprofileimageloader-helps-the-windows-phone-7-ui-thread-stay-responsive-by-loading-images-in-the-background.aspx)提供）和矩形。

XAML：

```
<ListBox x:Name="ChannelsListBox" ItemsSource="{Binding AllChannels}">
//... 
<ListBox.ItemTemplate>
    <DataTemplate>
        <Grid x:Name="ChannelTile" Margin="6,6,6,6" Tap="ChannelTile_Tap" Opacity="0.4">
            <!-- context menu goes here -->
            <Rectangle Width="136" Height="136" Fill="{StaticResource LightGrayColor}" />
            <Image Width="136" Height="136" delay:LowProfileImageLoader.UriSource="{Binding ImageUri}" />
        </Grid>
    </DataTemplate>
</ListBox.ItemTemplate>
</ListBox> 
```

代码隐藏：

```
protected override void OnNavigatedTo(System.Windows.Navigation.NavigationEventArgs e)
{
    base.OnNavigatedTo(e);

    UpdateApplicationBar();

    pickChannelsViewModel = new PickChannelsViewModel();
    DataContext = pickChannelsViewModel;

    if (hasUpdatedTiles)
    {
        pickChannelsViewModel.IsLoading = false; // Set by UpdateTiles()
    }
}

private void PhoneApplicationPage_Loaded(object sender, RoutedEventArgs e)
{
    // This is where I would data bind the list (instead of in XAML)
    UpdateTiles(); // Traverses the list and changes opacity of "selected" items.
}

protected void UpdateTiles()
    {
        foreach (var item in ChannelsListBox.Items)
        {
            if (pickChannelsViewModel.SelectedChannels.Contains(item as Channel))
            {
                var index = ChannelsListBox.Items.IndexOf(item);

                // This returns null when databinding in codebehind, 
                // but not in XAML
                ListBoxItem currentItem = ChannelsListBox.ItemContainerGenerator.ContainerFromIndex(index) as ListBoxItem;

                if (currentItem != null && VisualTreeHelper.GetChildrenCount(currentItem) == 1)
                {
                    var OuterWrapper = VisualTreeHelper.GetChild(currentItem, 0);
                    var MiddleWrapper = VisualTreeHelper.GetChild(OuterWrapper, 0);
                    var InnerWrapper = VisualTreeHelper.GetChild(MiddleWrapper, 0);
                    Grid currentItemGrid = VisualTreeHelper.GetChild(InnerWrapper, 0) as Grid;

                    currentItemGrid.Opacity = 1.0;
                }
            }
        }
        pickChannelsViewModel.IsLoading = false;
        hasUpdatedTiles = true;
    } 
```

这些项目本身是在内存中的（在应用程序的早期阶段从 REST 中获取），因此应该立即可用。

我试图解决的问题是这个特别视图的加载时间相当长（大约创建了 140 个这些项目，然后过滤并更改不透明度）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:14:35.420

我相信你正在做类似的事情：

```
myListBox.ItemSource=myList; 
```

设置 ListBox 的 ItemSource 后，List 中的更改应始终反映在 ListBox 中。如果 ListBox 为空，则原因必须是 List 未正确填充或`Bindings`在 ItemTemplate 中无效。`Loaded()`您应该通过在方法中插入断点来调试并确定您的 List 是否有任何项目。此外，您还没有提到您的 List 包含哪些项目，或者它在应用程序中的哪个位置填充？不完整的信息对任何人都没有帮助。

# php - smtp_error: 无法连接到服务器

> ID：11390317
> 
> 赞同：0
> 
> 时间：2012-07-09T06:56:51.750
> 
> 标签：php, openssl, phpmailer

我有以下代码

```
 phpinfo();

       $mail = new PHPMailer();
        $mail->IsSMTP();  // telling the class to use SMTP
        $mail->SMTPSecure = "ssl";
        $mail->Host     = "smtp.gmail.com"; // SMTP server
        $mail->Port = 465;

            $mail->SMTPAuth = true; 
            $mail->Username= 'someone@gmail.com';
            $mail->Password='xxx';
            $mail->From  = "someone@gmail.com";
            $mail->AddAddress("abc@gmail.com");

            $mail->Subject  = "First PHPMailer Message";
            $mail->Body     = "Hi! \n\n This is my first e-mail sent through PHPMailer.";
            $mail->WordWrap = 50;
        if(!$mail->Send()) {
          echo 'Message was not sent.';
          echo 'Mailer error: ' . $mail->ErrorInfo;
        } else {
          echo 'Message has been sent.';
        } 
```

我还在 php.ini 文件中启用了“extension=php_openssl.dll”。

但它仍然给我一个错误，

```
Warning: fsockopen() [function.fsockopen]: unable to connect to ssl://smtp.gmail.com:465 (Unable to find the socket transport "ssl" - did you forget to enable it when you configured PHP?)

Mailer error: SMTP Error: Could not connect to SMTP host. 
```

虽然我`extension=php_openssl.dll`在我的 php.ini 文件中启用了 phpinfo(); 表明这`OpenSSL support:disabled (install ext/openssl)`怎么可能？

谁能帮忙？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T10:34:17.453

试试下面的例子：

[http://www.xtreemhost.com/2010/04/11/how-to-send-e-mails-via-smtp-with-phpmailer-and-gmail/](http://www.xtreemhost.com/2010/04/11/how-to-send-e-mails-via-smtp-with-phpmailer-and-gmail/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T07:04:32.707

```
$mail->SMTPSecure = "ssl"; 
```

我有这个问题。检查您的 PHPMailer 版本是否是最新的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T07:14:05.920

这意味着您的 ssl 模块未正确编译，或者已编译但未通过 php.ini 配置文件启用。

检查您的设置以确保您已启用它。

# javascript - JavaScript，使用替换

> ID：11390319
> 
> 赞同：0
> 
> 时间：2012-07-09T06:57:05.947
> 
> 标签：javascript

```
var text_source="<a href='c:/exam_file.xls' target='_blank'>file downdload</a>";
text_search="file";
text_source.replace(new RegExp(text_search, 'gi'), 
                   "<span style='font-weight:bold'>" +
                   text.toLowerCase() + "</span>"); 
```

“a tag”链接地址也发生了变化：

```
<a href="C:/exam_<span style='font-weight:bold'>"file</span>"><span style='font-weight:bold'>file</span> download</a> 
```

但是，它应该看起来像这样。我必须更改“a 标签”中的文本值。

```
<a href="C:/exam_file.xls" target="_blank"><span style='font-weight:bold'>file</span> download</a> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:20:34.207

为确保您的 RegExp 仅针对元素的内容运行，您需要选择所有要操作的元素并检查其内容。

举个例子：

```
var regExp = /dosya/ig;
[].slice.call(document.getElementsByTagName('a'), 0).forEach(function(element) {
  if(regExp.test(element.textContent)) {
    element.innerHTML = element.textContent.replace(regExp, function(text) {
      return '<span style="font-weight: bold">' + text.toLowerCase() + '</span>';
    })
  }
}); 
```

还有一个 jQuery 伪选择器[:contains](http://api.jquery.com/contains-selector/)做类似的事情。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-09T08:03:35.123

我将在一秒钟内解决我所说的内容，但是您可以使用纯正则表达式在没有循环的情况下执行此操作。以下是我如何做到这一点：

```
var text_source = "<a href='c:/bilmem_ne_dosyasi.xls' target='_blank'>Dosya Downdload</a>";
text_search = "dosya";
var patt = new RegExp("(<a .*?>)(" + text_search + ")(.*?</a>)","gi");
var text_source = text_source.replace(patt, function(match, $1, $2, $3) {
    return $1 + "<span style='font-weight:bold'>" + $2.toLowerCase() + "</span>" + $3;
});
document.write(text_source); 
```

**[演示](http://jsfiddle.net/Daedalus/89REV/)** ​</p>

然而，回到我之前所说的内容，html 可以是一种非常非常复杂的语言，虽然*可以*使用正则表达式来解析它，但它不应该用于大量数据。有些模式太复杂而无法匹配。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T07:58:42.237

虽然关于不在 HTML 或 XML 中使用正则表达式的回复总体上是正确的，但对于没有太多嵌套标签的简单情况，您可以使用以下内容：

```
var text_source="<a href='c:/bilmem_ne_dosyasi.xls' target='_blank'>Dosya Downdload</a>";
text_search="(<[^>]*>[^<]*)(dosya)([^<]*<[^>]*>)";
var replaced = text_source.replace(new RegExp(text_search, 'gi'), "$1<span style='font-weight:bold'>$2</span>$3"); 
```

# database - 关系数据库是并行还是顺序执行插入语句？

> ID：11390323
> 
> 赞同：1
> 
> 时间：2012-07-09T06:57:37.110
> 
> 标签：database, synchronization, dml

如果两个用户同时`INSERT INTO`在同一个目标表上执行语句，这些语句是并行执行还是顺序执行？

这种行为会根据目标表是否有主键而改变吗？

这是为所有关系数据库定义的规则，还是不同的供应商以不同的方式实现它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:57:38.277

通常，如果定义了主键*，*它们将（应该）并行执行。

该行为在很大程度上取决于 DBMS。例如，如果对表执行 DML，则带有 MyISAM 的 MySQL 将阻止对表的任何进一步访问。对于默认安装中的 SQL Server 和较旧的 DB2 版本也是如此。

一般来说，如果 DBMS 使用[MVCC](http://en.wikipedia.org/wiki/Multiversion_concurrency_control)（Oracle、PostgreSQL、Firebird、MySQL/InnoDB，...），那么您可以期望插入并行运行

*可以*阻止并发插入的一件事是如果两个事务插入*相同*的主键值。在这种情况下，第二个事务将需要等待第一个事务提交（然后第二个事务将收到 pk 违规错误）或回滚（第二个事务将成功）。

# c++ - 在 Visual Studio 2010 C++ 项目上强化 - 错误 MSB6006：-1073741701

> ID：11390324
> 
> 赞同：1
> 
> 时间：2012-07-09T06:57:41.603
> 
> 标签：c++, visual-studio-2010, visual-studio, fortify

我正在尝试在 VS2010 C++ 项目上运行 fortify。我创建了一个非常简单的 hello world 项目并尝试使用以下命令运行 fortify：

`sourceanalyzer.exe -b sample devenv sample.sln /REBUILD`

我不断收到此错误：

`C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\Platforms\Win32\Microsoft.Cpp.Win32.Targets(147,5): error MSB6006: "CL.exe" exited with code -1073741701.`

完整的构建日志是：

```
Microsoft (R) Visual Studio Version 10.0.30319.1.
Copyright (C) Microsoft Corp. All rights reserved.
1>------ Rebuild All started: Project: sample, Configuration: Debug Win
32 ------
1>Build started 09/07/2012 12:13:33 PM.
1>_PrepareForClean:
1>  Deleting file "Debug\sample.lastbuildstate".
1>InitializeBuildStatus:
1>  Creating "Debug\sample.unsuccessfulbuild" because "AlwaysCreate" was specified.
1>C:\Program Files (x86)\MSBuild\Microsoft.Cpp\v4.0\Platforms\Win32\Microsoft.Cpp.Win32.Targets(147,5): error MSB6006: "CL.exe" exited with code -1073741701.
1>
1>Build FAILED.
1>
1>Time Elapsed 00:00:00.09 
```

我没有收到任何其他错误。我的操作系统是 Windows7 64 位。我的项目是一个 32 位控制台应用程序。我正在使用 fortify 32 位版本：“Fortify Source Code Analyzer 5.9.5.0007”

我尝试浏览微软页面以查找错误，但它显然是一个通用错误代码。我怀疑不兼容，但无法缩小范围。你能告诉我哪里出错了吗？

* * *

更新：更多信息：

配合VS2010的cl.exe，运行清晰。该错误是由 Fortify 的 cl.exe 引发的。我检查了错误代码，显然 cl.exe 无法启动。我与dependency walker交叉检查，它缺少几个dll（gpsvc.dll和IEShims.dll）。我有一个 64 位的 Windows 安装，但 cl.exe 是 32 位的，我没有这些 DLL 的 32 位版本。我不确定这是否是根本原因，因为它们是延迟加载的，可能不会导致提到的错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-03T04:29:51.407

问题出在 Fortify 版本上。下载 Fortify360 版本 3.2 解决了该问题。

# java - Java中的HashMap不起作用？

> ID：11390326
> 
> 赞同：1
> 
> 时间：2012-07-09T06:57:46.963
> 
> 标签：java, hashmap

这是我的代码：

```
double getRevenue(KeywordGroupKey key) {
    Double r = revenueMap.get(key);
    System.out.println(key + "\t" + key.hashCode());
    for (KeywordGroupKey other : revenueMap.keySet()) {
        System.out.println(other.toString() + "\t" + other.hashCode());
        if(other.equals(key))
            System.out.println("equals here...");
    }
    if(r == null)
        r = 0.0;
    return r;
} 
```

这是输出：

```
优惠打折，优惠券|"优惠券"  955095524
brand+点评团购|大众点评 726983298
brand-品牌词相关|团购网站大全  -713384514
brand-品牌词|点评网   2029153675
brand+点评团购|大众点评网    261410621
优惠打折，优惠券|"优惠券"  955095524
equals here... 
```

所以奇怪的是方法返回的值是null，为什么会出现这种情况呢？由于recommitmentMap 中有一个key 具有相同的哈希码并且与参数key 相等。以下是收入地图和键的当前状态：

```
{brand+点评团购|大众点评=28.0, brand-品牌词相关|团购网站大全=49.9, brand-品牌词|点评网=21.0, brand+点评团购|大众点评网=167.0, 优惠打折，优惠券|"优惠券"=9.9}
优惠打折，优惠券|"优惠券" 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-09T07:11:23.140

我的猜测是它`KeywordGroupKey`是可变的，并且有问题的键在用作哈希映射的键后被修改。

如果是这种情况，那么密钥在错误的“桶”中，`HashMap`并且`get()`方法（或`containsKey()`方法）永远不会找到它（但遍历密钥和/或条目*会*找到它！）。

例如，假设`foo`您的类中有一个属性，并且该属性与您的`hashCode()`和`equals()`方法相关。以下代码将“破坏” `HashMap`：

```
KeywordGroupKey key = ...
revenueMap.put(key, someValue);
key.setFoo("differentValue");
Double result = revenueMap.get(key); // will return nothing!
Double result = revenueMap.get(originalValueOfKey); // will *also* return nothing! 
```

# c# - 你如何在 ToolStripItem 上设置光标

> ID：11390327
> 
> 赞同：1
> 
> 时间：2012-07-09T06:57:49.667
> 
> 标签：c#, .net, winforms, toolstripitem

我有一些不可点击的上下文菜单项。他们只是报告某事的状态。我不喜欢光标仍然看起来像可点击的样子。

无论如何要改变这个？

没有像人们期望的那样的光标场。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T15:57:14.657

阿米拉姆把我送到了正确的方向。您不能在“ToolStripMenuItem”上设置光标，您必须在父 ContextMenuStrip 上设置它。

至于鼠标事件，必须在 ToolStripMenuItems 上进行。因为鼠标悬停在 ToolStripMenuItems 上时不会触发 MouseMove 事件。

```
 // Init Code
    contextMenuStrip1.Cursor = Cursors.Hand;
    recentMessagesToolStripMenuItem.MouseLeave += new EventHandler(SetCursorToHandOn_MouseLeave);
    recentMessagesToolStripMenuItem.MouseEnter += new EventHandler(SetCursorToArrowOn_MouseEnter);

    private void SetCursorToArrowOn_MouseEnter(object sender, EventArgs e)
    {
        contextMenuStrip1.Cursor = Cursors.Arrow;
    }

    private void SetCursorToHandOn_MouseLeave(object sender, EventArgs e)
    {
        contextMenuStrip1.Cursor = Cursors.Hand;
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T07:13:27.823

处理整个 ToolStrip 的 MouseMove 事件，检查当前鼠标位置是否在 toolStripItem.Bounds 之间。如果是这样，请更改 ToolStrip.Cursor

# jquery - jQuery - 替换除第一类以外的所有内容

> ID：11390330
> 
> 赞同：0
> 
> 时间：2012-07-09T06:57:54.967
> 
> 标签：jquery, html, jquery-selectors

## 原始问题

**目标**

使用 jQuery，获取`.intro-portfolio`类中的每个元素。如果元素不是第一个元素，则将其替换为`""`(nothing, blank, null bytes)。

**我做了什么**

环顾四周，我发现了[这些](https://stackoverflow.com/questions/4831334/jquery-selector-all-but-the-first?rq=1) [问题](https://stackoverflow.com/questions/2259393/jquery-select-all-except-first)，并尝试将它们应用于我的情况。简化代码如下：

```
<!DOCTYPE html>
<html>
<head>
<script type="text/javascript">
$(document).ready(function() {
$(".intro-portfolio:not(:first-child)").each(function() {
        $(this).repalceWith("");
    });
});
</script>
<body>

<p>Test this is the control</p>

<p class="filter">This is the first</p>

<p class="filter">Second</p>

<p class="filter">Third</p>

</body>
</html> 
```

当然，这不起作用（你能告诉我我不是 javascript/jQuery 开发人员吗？我敢打赌，你对那里打破的语法规则感到畏缩）。

你将如何实现这一点？

**语境**

Tumblr 主题 - 与问题无关，但它解释了为什么我不知道该类将应用于哪个元素 - 它可能是一个`img`，或一个`iframe`等。

* * *

## 更新

~~**非常感谢所有回答的人！**显然这样一个简单的问题只有一种真正的方法，但谢谢大家的回答！为所有人投票。~~

**更新 1：**在尝试解决方案时，我发现虽然它从显示中删除了元素，但它们仍在加载。

这是我的实现：

```
<html>
<head>
 ...
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript">
 ...
    /* Remove HTML for all but first portfolio on home page */
    $(".intro-portfolio").slice(1).remove(); 
</script>
</head>
<body>
 ...
</body>
</html> 
```

但是当我查看源代码时，元素仍然存在。[文档页面](http://api.jquery.com/remove/)上的第三个代码摘录不是说元素不应该加载或存在吗？

查看[开发站点](http://nchpmndev.tumblr.com)以获取实际的完整代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:10:34.050

```
$(".intro-portfolio").not(":first").each(function() {
    $(this).bar();
}); 
```

[`DEMO`](http://jsfiddle.net/PW3wt/1/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-09T07:36:10.427

这里没有其他答案中没有的内容，但这是您尝试做的最简单的形式：

```
$('.intro-portfolio:not(:first)').remove() 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-09T07:01:42.107

`:first-child`**仅当且仅当**它是其父元素的第一个子元素时才选择该元素。

您的 HTML 不包含`.intro-portfolio`元素，但如果您的意思是`.filter`元素是它们，那么它们都不是`body`. 第一个`p`没有类的元素是第一个孩子。

看来你想要：

```
$(".intro-portfolio").slice(1).remove(); 
```

这会将选定的元素减少到除第一个之外的所有元素并将它们删除。

**参考**：[`.slice`](http://api.jquery.com/slice/)，[`.remove`](http://api.jquery.com/remove/)

[**演示**](http://jsfiddle.net/szdk2/)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-09T07:04:00.473

您可以使用该`.slice`方法选择匹配结果的子集，在下面的示例中，它将选择除第一个项目之外的所有项目（索引从零开始）。

该`.remove`方法会从 DOM 中删除匹配的元素，并且还会整理 jQuery 附加的任何事件处理程序等。

```
jQuery('.intro-portfolio').slice(1).remove(); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-09T07:00:01.770

尝试这个：

```
$(".intro-portfolio:not(:first-child)").html(""); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-07-09T07:03:42.047

```
$(document).ready(function(e){
  $('.intro-portfolio:not(:first-child)').remove();
}); 
```

这也许？

# objective-c - Mac OS 命令行工具处理异步导出视频以进行重新编码（已编辑并正在工作）

> ID：11390331
> 
> 赞同：2
> 
> 时间：2012-07-09T06:58:07.593
> 
> 标签：objective-c, video, asynchronous, transcoding, command-line-tool

我在 iOS 应用程序上测试了导出方法，它工作正常。但是当我将它移到命令行项目时，方法 exportAsynchronouslyWithCompletionHandler 不起作用。

我知道可能的原因是命令行工具无法处理异步，因为它立即返回。该方法非常简单。它只是获取视频的地址，指定质量，并将视频输出到输出路径。这是我的代码。

```
void exportVideo(NSString *source, NSString *quality, NSString *filePath) {

NSString *preset = nil;

if ([quality isEqualToString:@"high"]) {
    preset = AVAssetExportPreset960x540; // 16:9 recommended resolution for iPhone 4
} else if ([quality isEqualToString:@"middle"]) {
    preset = AVAssetExportPresetAppleM4VWiFi; // 16:9 recommended resolution for iPhone 3GS
}

// Creat the asset from path
AVURLAsset *asset = [[AVURLAsset alloc] initWithURL:[NSURL fileURLWithPath:source] options:nil];    
if (!asset) NSLog(@"There is no video in the asset");

//NSLog(@"Print all presets: %@", [AVAssetExportSession allExportPresets]);
//NSLog(@"Print all presets compatible with the asset: %@", [AVAssetExportSession exportPresetsCompatibleWithAsset:asset]);

NSArray *compatiblePresets = [AVAssetExportSession exportPresetsCompatibleWithAsset:asset];
//NSLog(@"All available presets: %@", compatiblePresets);

if ([compatiblePresets containsObject:preset]) {
    // create export session
    AVAssetExportSession *exportSession = [[AVAssetExportSession alloc] initWithAsset:asset presetName:preset]; 
    exportSession.outputURL = [NSURL fileURLWithPath:filePath]; // output path
    if (preset == AVAssetExportPreset960x540) {
        exportSession.outputFileType = AVFileTypeQuickTimeMovie;
    } else if (preset == AVAssetExportPresetAppleM4VWiFi) {
        exportSession.outputFileType = AVFileTypeAppleM4V; 
    }

    dispatch_semaphore_t sema = dispatch_semaphore_create(0); // Add this line

    // In command line tool, it doesn't execute this method 
    [exportSession exportAsynchronouslyWithCompletionHandler:^{
        if (exportSession.status == AVAssetExportSessionStatusCompleted) {
            NSLog(@"AVAssetExportSessionStatusCompleted");
        } else if (exportSession.status == AVAssetExportSessionStatusFailed) {
            NSLog(@"AVAssetExportSessionStatusFailed");
            NSLog (@"FAIL %@", exportSession.error);
        } else {
            NSLog(@"Export Session Status: %ld", exportSession.status);
        }
        dispatch_semaphore_signal(sema); // Add this line
    }];
    dispatch_semaphore_wait(sema, DISPATCH_TIME_FOREVER); // Add this line
    dispatch_release(sema); // Add this line
} else {
    NSLog(@"Requested quality is not available.");
} 
```

}

```
int main(int argc, const char * argv[])
{

@autoreleasepool {

    NSLog(@"Input the source file path:");
    char str[100];
    scanf("%s", str);
    NSString *inputSource = [NSString stringWithUTF8String:str];
    NSLog(@"Print the input source: %@", inputSource);

    NSLog(@"Input the output video quality:");
    scanf("%s", str);
    NSString *quality = [NSString stringWithUTF8String:str];
    NSLog(@"Print the quality: %@", quality);

    NSLog(@"Input the output file path:");
    scanf("%s", str);
    NSString *outputPath = [NSString stringWithUTF8String:str];
    NSLog(@"Print the output path: %@", outputPath);

    exportVideo(inputSource, quality, outputPath);
}
return 0;
} 
```

** dispatch_semaphore_t 的用法适用于我的情况。我从stackoverflow的答案中得到了这个想法。感谢大家的帮助，所以我分享了所有代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:09:39.400

没错，您需要阻止 main 函数返回，直到异步方法完成。最简单的方法是使用等待标志。要么有一个静态布尔值，要么将一个布尔指针传递给你的导出视频函数。然后当布尔值为假时，让你的主要功能休眠。这是一种糟糕的做法，并且只与这种小情况有关，因为 main 只做这件事。一般不要这样做。

# visual-studio-2010 - 如何撤消 Visual Studio 中任何已保存或以前的文件？

> ID：11390332
> 
> 赞同：0
> 
> 时间：2012-07-09T06:58:09.723
> 
> 标签：visual-studio-2010

我想撤消从同事那里获得的旧项目文件，以了解首先创建的内容。是否可以？有什么工具可以实现这一目标吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T08:58:11.697

不幸的是，这是不可能的。只有当您的同事一直在使用版本控制系统（如 Subversion、Mercurial、Git、TFS 等）时，这才有可能。

# android - Android，Android 4.0 中的 HttpPost 方法有问题吗？

> ID：11390333
> 
> 赞同：2
> 
> 时间：2012-07-09T06:58:11.620
> 
> 标签：android, operating-system, http-post, 3g

几年前，我开发了一个应用程序。在每个活动中，我都使用 HttpPost 方法将一些参数发送到服务器。在 Android v4.0 以下的所有设备上使用 3G 服务运行良好。我的代码是这样的：

```
private String postData() {
    HttpClient httpClient = new DefaultHttpClient();
    HttpPost httppost = new HttpPost(PropertyManager.getLoginURL());

    List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(4);
    nameValuePairs.add(new BasicNameValuePair("u", Uri.encode(PropertyManager.getUserId())));
    nameValuePairs.add(new BasicNameValuePair("p", Encryption.encrypt(PropertyManager.getPassword())));
    nameValuePairs.add(new BasicNameValuePair("v", PropertyManager.VER));
    nameValuePairs.add(new BasicNameValuePair("t", "0"));

    try {
        httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
        Log.i("Requestd Connection", httppost.getURI().toString());

        HttpResponse response = httpClient.execute(httppost);
        String responseBody = EntityUtils.toString(response.getEntity());
        Log.i("Server Response: ", responseBody);

        if (response.containsHeader("Set-Cookie")) {
            String sessionId = extractSessionId(response.getHeaders("Set-Cookie")[0].getValue());
            PropertyManager.setSessionID(sessionId);
            Log.i("Session Id:", sessionId);
        }

    String str = responseBody.substring(0, 9);
    if(str.equalsIgnoreCase("<!DOCTYPE")) {
        Log.i("postData()", "HTML found instead of XML. Try to extract info...");

        str = responseBody.substring(responseBody.indexOf("<tr>")+4, responseBody.lastIndexOf("</tr>"));
        str = str.toUpperCase();
        Log.i("Extracted info", str);

        return str;
    } else              
        return responseBody;

    } catch(UnsupportedEncodingException usee) {
        usee.printStackTrace();
    } catch(ClientProtocolException cpe) {
        cpe.printStackTrace();
    } catch(IOException ioe) {
        ioe.printStackTrace();
    }

    return null;
} 
```

logcat 中的预期结果（我可以在 v4.0 以下的 Android OS 上得到它）：

```
07-09 12:38:49.593: I/JupiterMPro(4273):                onCreate executes ...
07-09 12:38:49.601: I/MSBootUp(4273):                   inside onCreate();
07-09 12:38:49.694: I/MA_isOnline(4273):                Checking Internet Connection...
07-09 12:38:49.698: I/MA_isOnline(4273):                Internet Connection found.
07-09 12:38:49.730: I/JupiterMPro(4273):                onDestroy executes ...
07-09 12:39:40.675: I/MA_isOnline(4273):                Checking Internet Connection...
07-09 12:39:40.679: I/MA_isOnline(4273):                Internet Connection found.
07-09 12:39:40.820: I/Requestd Connection(4273):        http://demo.excelforce.com.my/mobiletraderjssb/dopwd.aspx?
07-09 12:39:44.609: I/Server Response:(4273):           <TD ID="LGFLAG">S</TD><TD ID="LGMSG"></TD><TD ID="CLNT_0">CLNTXXX,EF TEST,C,001,</TD>
07-09 12:39:44.613: I/Session Id:(4273):                ASPNETSESSIONID=zkuus2n304jnkubi4e1nqnuw
07-09 12:39:44.714: I/JupiterMPro(4273):                onCreate executes ...
07-09 12:39:45.140: I/MSMarket(4273):                   Creating activity...
07-09 12:39:45.202: I/JupiterMPro(4273):                onStart executes ...
07-09 12:39:45.202: I/JupiterMPro(4273):                onResume executes ...
07-09 12:39:45.241: I/MSMarket, Requested URL:(4273):   http://demo.excelforce.com.my/mobiletraderjssb/mtjvg.aspx?marketsummary&msg=1&brd=0
07-09 12:39:45.601: I/MSLogin(4273):                    onStop executes ...
07-09 12:39:46.702: I/MSMarket, Response code:(4273):   200
07-09 12:39:46.718: I/MSMarket, Server Response:(4273): 50,9/7/2012*12:39 PM#1619.61&-0.94&0&448.392m&399.033m&264&331&293&682&1&V
07-09 12:39:46.855: I/Timer(4273):                      Timer executes...
07-09 12:39:46.855: I/Timer(4273):                      seconds elapsed: 1
07-09 12:39:47.757: I/Timer(4273):                      Timer executes...
07-09 12:39:47.761: I/Timer(4273):                      seconds elapsed: 2
07-09 12:39:48.757: I/Timer(4273):                      Timer executes...
07-09 12:39:48.761: I/Timer(4273):                      seconds elapsed: 3 
```

但是，当我通过 3G 服务和 Android 版本 4.0.3 和 4.0.4 连接到互联网时，我在 logcat 中的输出是这样的：

```
07-09 14:19:15.395: I/JupiterMPro(4750): onCreate executes ...
07-09 14:19:15.410: I/MSBootUp(4750): inside onCreate();
07-09 14:19:15.465: I/MA_isOnline(4750): Checking Internet Connection...
07-09 14:19:15.465: I/MA_isOnline(4750): Internet Connection found.
07-09 14:19:15.560: I/JupiterMPro(4750): onDestroy executes ...
07-09 14:19:43.765: I/MA_isOnline(4750): Checking Internet Connection...
07-09 14:19:43.765: I/MA_isOnline(4750): Internet Connection found.
07-09 14:19:44.015: I/Requestd Connection(4750): http://demo.excelforce.com.my/mobiletraderjssb/dopwd.aspx?
07-09 14:20:09.350: I/Server Response:(4750): <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
07-09 14:20:09.350: I/Server Response:(4750):     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
07-09 14:20:09.350: I/Server Response:(4750): <html xmlns="http://www.w3.org/1999/xhtml">
07-09 14:20:09.350: I/Server Response:(4750): <head>
07-09 14:20:09.350: I/Server Response:(4750): <title></title>
07-09 14:20:09.350: I/Server Response:(4750): </head>
07-09 14:20:09.350: I/Server Response:(4750): <body>
07-09 14:20:09.350: I/Server Response:(4750): <table>
07-09 14:20:09.350: I/Server Response:(4750): <tr>
07-09 14:20:09.350: I/Server Response:(4750): <td id="LGFLAG">S</td>
07-09 14:20:09.350: I/Server Response:(4750): <td id="LGMSG"></td>
07-09 14:20:09.350: I/Server Response:(4750): <td id="CLNT_0">CLNTXXX,EF TEST,C,001,</td>
07-09 14:20:09.350: I/Server Response:(4750): </tr>
07-09 14:20:09.350: I/Server Response:(4750): </table>
07-09 14:20:09.350: I/Server Response:(4750): </body>
07-09 14:20:09.350: I/Server Response:(4750): </html>
07-09 14:20:09.350: I/postData()(4750): HTML found instead of XML. Try to extract info...
07-09 14:20:09.365: I/Extracted info(4750): <TD ID="LGFLAG">S</TD>
07-09 14:20:09.365: I/Extracted info(4750): <TD ID="LGMSG"></TD>
07-09 14:20:09.365: I/Extracted info(4750): <TD ID="CLNT_0">CLNTXXX,EF TEST,C,001,</TD>
07-09 14:20:09.460: I/JupiterMPro(4750): onCreate executes ...
07-09 14:20:09.510: I/webclipboard(4750): clipservice: android.sec.clipboard.ClipboardExManager@41994c30
07-09 14:20:09.615: I/MSMarket(4750): Creating activity...
07-09 14:20:09.685: I/JupiterMPro(4750): onStart executes ...
07-09 14:20:09.685: I/JupiterMPro(4750): onResume executes ...
07-09 14:20:09.755: I/MSMarket, Requested URL:(4750): http://demo.excelforce.com.my/mobiletraderjssb/mtjvg.aspx?marketsummary&msg=1&brd=0
07-09 14:20:10.030: I/MSLogin(4750): onStop executes ...
07-09 14:20:11.350: I/MSMarket, Response code:(4750): 200
07-09 14:20:11.365: I/MSMarket, Server Response:(4750): 50,9/7/2012*2:20 PM#1619.61&-0.94&0&448.392m&399.033m&264&331&293&682&1&P 
```

实际上，我不知道这段 HTML 代码来自哪里！因为为了连接3G，移动运营商会自动为手机设置代理。我们怀疑代理设置。有人，在[Java中，代理设置会影响接收到的数据吗？](https://stackoverflow.com/questions/11359233/java-does-proxy-setting-affect-received-data)提到也许代理服务器会注入此代码并包装我想要的数据。我认为这个想法是不正确的，因为在相同的情况下，当我为两个 Android V2.0 使用一张 sim 卡 (3G) 时。V3.0 和 v4.0 虽然代理设置对所有这些都相同，但我在 v4.0 中收到错误的数据。我猜想 Android v4.0 的 HttpPost 库有问题！

这里发生了什么？此代码适用于 v4.0 以下的 Android，而不适用于 Android v4.0 及更高版本！

你有过这样的经历吗？你做了什么？任何建议，将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:20:06.843

您是否考虑过该问题是否与[在主线程上运行网络操作有关](https://stackoverflow.com/questions/6343166/android-os-networkonmainthreadexception)？您不能在蜂窝（3.0）和转发的主线程上执行网络操作。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-09T07:34:12.017

你必须使用 AsycTask

[http://developer.android.com/reference/android/os/AsyncTask.html](http://developer.android.com/reference/android/os/AsyncTask.html)

或一个新的线程来管理 http 连接。您不能使用主踏板拨打电话。

AsyctTask 和 Thread 基本相同，但 AsycTask 实现了 4 个基本方法。

onPreExecute()、onPostExecute、onProgressUpdate 和 doInBackground。

尝试它们并告诉我们它是否有效。

# javascript - 关注 window.open 打开的新窗口

> ID：11390336
> 
> 赞同：0
> 
> 时间：2012-07-09T06:58:20.320
> 
> 标签：javascript

我想通过 window.open 打开一个新窗口，并且即使未选择选项卡创建新窗口，也可以聚焦该窗口。

根据我的研发如果未选择选项卡并通过某些计时器功能创建窗口，则打开的窗口不会显示在屏幕上，它只会在任务栏上显示为闪烁。

代码：

```
win = window.open("",'_blank','titlebar=no, location=no, directories=no, menubar=no, resizable=no, scrollbars=no, status=no, toolbar=no, height=50, width=650');
var errorMessage= "Your session will expire in 1 minute,To extend your session, Please press the Extend button.";
win.document.write("<html><head><title>Session Expire</title></head><body><div style='color:red; line-height:50px;' id='message'>"+ errorMessage +"<input type='button' id='btn' value='Extend' /></div></body></html>");
win.focus(); 
```

我想在屏幕中心打开新窗口并且未选择创建的选项卡，即使我目前正在处理其他应用程序也显示新窗口

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:06:21.207

简而言之，不要这样做。

我的主要网页浏览是在 iPad、iPhone 或 Android 平板电脑上完成的。我没有窗户。

在我的 Mac 上，我运行 Chrome 全屏。新窗口在这里也没有意义。

你不能轻易集中注意力是有原因的——这很烦人！

而不是这样，要么使用使用 JS 的模态对话框，要么使用固定位置在顶部或底部设置一个动画栏，以更友好和可用的方式引起人们的注意。

# php - PHP 简单 Excel 库

> ID：11390343
> 
> 赞同：0
> 
> 时间：2012-07-09T06:58:57.790
> 
> 标签：php, excel

我正在寻找一种方法来执行以下操作：

```
$file = 'file.xls';
$input = '<tr><td>Some input</td></tr>';

if (!file_exists($file))
{
     create_excel($file);  //Create the sheet
     input_titles($file);  //Add column titles
}
else
{
     add_input_to_the_last_line($input);
} 
```

有没有可以简单地完成上述操作的库？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:09:05.377

您可以使用 PHPExcel[库](http://phpexcel.codeplex.com/)：

## 示例用法：

```
$objPHPExcel = new PHPExcel();
$objPHPExcel->setActiveSheetIndex(0);
$rowCount = 1;
while($row = mysql_fetch_array($result)){
    $objPHPExcel->getActiveSheet()->SetCellValue('A'.$rowCount, <your_row_name>);
    $objPHPExcel->getActiveSheet()->SetCellValue('B'.$rowCount, <your_row_name>);
    $rowCount++;
}
$objWriter = new PHPExcel_Writer_Excel2007($objPHPExcel);
$objWriter->save('your_file_name.xlsx'); 
```

# security - 我可以在不以明文形式存储密码的情况下以编程方式登录网站吗？

> ID：11390344
> 
> 赞同：6
> 
> 时间：2012-07-09T06:59:09.300
> 
> 标签：security, authentication, screen-scraping

我做了一些涉及自动提交表单和/或从网站检索数据的项目。其中一些站点需要用户名/密码身份验证。（这些网站没有 API，所以我依靠屏幕抓取。）

我见过的大多数教程都将用户名和密码存储在源代码中，就像任何其他 POST 数据一样，例如：

```
string username = "someUserName";
string password = "somePassword";
// submit POST data... 
```

但我知道以纯文本形式存储密码通常是不受欢迎的。我应该使用其他方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T07:07:14.560

存储密码的常用方法是对其进行哈希处理。由于大多数哈希密码算法都是破坏性的，也就是说它们不能被逆转，这对你不起作用。

一种选择是使用可逆散列，例如对密码进行 base64 编码，但实际上并不比以纯文本形式存储更安全。

据我所知，最好的解决方案是将密码存储在数据库中。如果你真的担心有人得到用户名和密码，你可以在数据库中使用[加密函数](https://dev.mysql.com/doc/refman/5.5/en/encryption-functions.html)对其进行加密，或者你可以使用 SQLite 数据库，直接在磁盘上加密。

通过这种方式，您的代码和登录凭据是分开的，您可以安全地与他人共享您的代码，而无需担心安全性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T09:31:41.467

我们使用的模式是：

在您的数据库表中，您有一个加密列。此列包含使用系统范围的长（128 位）随机密钥（通常存储在配置文件中）加密的数据。此加密列中的数据包含用于每个第三方服务的单独（随机）密钥。使用此密码，我们会加密与此第三方服务相关的身份验证详细信息。

为什么要进行双重加密？

您将纯文本密码的数量减少到一个（系统范围的密码）。因此，密钥管理更容易。我们为每个第三方服务创建一个长的随机密钥，以便我们可以选择性地解密每个第三方服务的凭据，并在必要时在系统之间传输它们。将我们的密钥之一存储在数据库之外还可以降低与 SQL 注入攻击（它们“仅”获取数据库数据）和备份（配置文件不包含在常规备份数据中）相关的风险。

弱点显然是系统范围的密码。它需要在内存中的某个地方。

我不是密码学家，我很确定上述内容不是最佳的。但是，它比仅以纯文本形式存储第三方服务凭证更有效、易于管理且安全得多。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-06-26T17:22:40.190

我有一个需要解决这个问题的抓取项目。我的设置包括两个独立的服务器。第一个是用户前端 Web 应用程序。第二个是处理抓取的 nodejs 服务器。

我使用 openssl 密钥对加密处理加密。我为 nodejs 机器生成一个密钥对，并将公钥提供给前端 Web 应用程序。当用户注册他们的第 3 方凭据时，这些凭据会使用公钥加密并存储在数据库中。

Web 应用程序定期选择用户的加密凭据并将其发送到节点服务器，在该节点服务器上使用私钥对其进行解密并与第三方一起用于抓取。

快速搜索后，我发现[了这篇](http://krisjordan.com/essays/encrypting-with-rsa-key-pairs)关于使用 openssl 和加密字符串的文章。

我意识到这是一个非常古老的帖子，但希望它可以帮助下一个偶然发现这个问题的人。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-09T07:10:41.693

一种非常简单的加密和解密方法是[扩展微型加密算法 (XTEA)](http://en.wikipedia.org/wiki/XTEA)。我在这里粘贴来自维基百科的 C++ 代码，但请记住，任何人都可以在那里更改它。

```
#include <stdint.h>

/* take 64 bits of data in v[0] and v[1] and 128 bits of key[0] - key[3] */

void encipher(unsigned int num_rounds, uint32_t v[2], uint32_t const key[4]) {
    unsigned int i;
    uint32_t v0=v[0], v1=v[1], sum=0, delta=0x9E3779B9;
    for (i=0; i < num_rounds; i++) {
        v0 += (((v1 << 4) ^ (v1 >> 5)) + v1) ^ (sum + key[sum & 3]);
        sum += delta;
        v1 += (((v0 << 4) ^ (v0 >> 5)) + v0) ^ (sum + key[(sum>>11) & 3]);
    }
    v[0]=v0; v[1]=v1;
}

void decipher(unsigned int num_rounds, uint32_t v[2], uint32_t const key[4]) {
    unsigned int i;
    uint32_t v0=v[0], v1=v[1], delta=0x9E3779B9, sum=delta*num_rounds;
    for (i=0; i < num_rounds; i++) {
        v1 -= (((v0 << 4) ^ (v0 >> 5)) + v0) ^ (sum + key[(sum>>11) & 3]);
        sum -= delta;
        v0 -= (((v1 << 4) ^ (v1 >> 5)) + v1) ^ (sum + key[sum & 3]);
    }
    v[0]=v0; v[1]=v1;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-10T00:32:44.253

没有办法做到这一点。它需要在某个地方作为纯文本（或“可逆加密”）提供给脚本。

许多 API（例如包括 Amazon Web Services）会建议在环境变量中设置凭据，这可能是您所希望的安全性。

把它放在你的 .bash_profile 中，仔细检查权限，至少你可以确定它不会在公共 repo 的 github 上结束。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-09T07:13:28.173

您必须做两件事：
1\. 使用 HTTPS 登录页面（如有必要）
2\. 收到密码后立即使用密码加密。编码器是这样的：

```
private static String passwordEncryption(String oldPass){
    String newPass = "";
    try {
        MessageDigest messageDigest = MessageDigest.getInstance("MD5");  
        messageDigest.update(oldPass.getBytes(), 0, oldPass.length());  
        newPass = new BigInteger(1,messageDigest.digest()).toString(16);  
        if (newPass.length() < 32) {
            newPass = "0" + newPass; 
        }
        return newPass;
    } catch (NoSuchAlgorithmException e) {
        e.printStackTrace();
    }
    return newPass;

} 
```

并使用MySql 的**MD5()**函数将接收到的密码与存储的密码进行比较。

# eclipse - java代码可以在cmd窗口编译，但不能在eclipse中运行

> ID：11390349
> 
> 赞同：-1
> 
> 时间：2012-07-09T06:59:29.887
> 
> 标签：eclipse, cmd, java

# 这是来自 TIJ4 的代码#

java代码可以在cmd窗口编译运行，但不能在**eclipse**中编译运行 。

```
//: io/MemoryInput.java
import java.io.*;   

public class MemoryInput {
public static void main(String[] args)
throws IOException {
StringReader in = new StringReader(
    BufferedInputFile.read("MemoryInput.java"));
int c;
while((c = in.read()) != -1){
  System.out.print((char)c);
  }
} 
```

关于eclipse中代码的错误信息是：
*BufferedInputFile* cannot be resolve

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:04:13.483

`BufferedInputFile`不是包的一部分`java.io`。如果您在库或某个文件夹中有该类，则必须将其包含在 Eclipse 中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T07:22:23.990

`BufferedInputFile`不是 java 的任何默认库的一部分。所以你必须将该类添加到你的类路径中。

# c++ - Merge Sort Code with array ，卡在合并中，只需要一点点修改

> ID：11390351
> 
> 赞同：-1
> 
> 时间：2012-07-09T06:59:41.493
> 
> 标签：c++, mergesort

```
 void merge(int *a1, int *a2, int *a3, int s1, int s2, int s3){
     s2 -=1;
     int track =0;
     s3-=1;
     int p2=0;
     int p3=0;
     while(p2<s2 && p3 <s3){
         if(a2[p2]<a3[p3])
             a1[track++]=a2[p2++];
         else
             a1[track++]=a3[p3++];
     }
     while(p2<s2) a1[track++]=a2[p2++];
     while(p3<s3) a1[track++]=a3[p3++];
 }

 void msort(int *array, int n){
     if(n<=1) return;
     int a1_size = n/2;
     int a2_size = n-n/2;
     int a1[n/2];
     int a2[n-n/2];
     for(int i=0;i<n/2;i++){
    a1[i] = array[i];
     }
     for(int i=0,j=n/2;j<n;i++,j++){
         a2[i] = array[j];
     }
     msort(a1, n/2);
     msort(a2, n-n/2);
     merge(array, a1, a2, n, a1_size, a2_size);
 }

 int main(){
     int a[]={1,2,1,2,3,94,5,67};
     msort(a,8);
     for(int i=0;i<8;i++)
         cout << a[i] << endl;
} 
```

这是我的代码，我希望它会返回一个排序数组。我知道问题在于将数组的地址传递给合并将修改数组内的数据，从而影响结果。我尝试了很长时间，但仍然无法弄清楚如何修改它。有人可以给我提示或帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:07:17.293

问题出在`s2 -= 1`and`s3 -= 1`语句中。你为什么这样做？从零开始迭代数组的标准习惯用法`index`是计算 while `index < length`，而不是 while `index < length-1`。

其他几点注意事项：

*   你分配了很多额外的内存（n*log(n) ints），大部分时间都没有使用。只需要在 inside分配，`merge`那样任何时候最多`n`分配int。
*   学习使用`std::vector`和/或迭代器范围而不是 C 样式的数组

# spring - Spring 框架、Java 远程处理和用户会话

> ID：11390355
> 
> 赞同：0
> 
> 时间：2012-07-09T07:00:06.217
> 
> 标签：spring, spring-security

我有 3 个 tomcat 服务器 我的所有应用程序都部署为 WAR 第一个是 Web 服务器，它使用来自服务器 2 的 http 调用程序的远程对象 服务器 2 正在使用来自服务器 3 的 http 调用程序的远程对象 我想在服务器上使用 spring security 2 和 3\. 我需要知道在哪个用户会话下调用了远程方法 我正在考虑在每台服务器上创建一个会话，但我不知道该怎么做？即使我可以将会话复制到所有服务器，我如何告诉服务器 2 用户 X 调用了某个远程方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T09:40:17.283

嗯..我们在我们的项目中使用 Spring Security。我们在一个集群下使用 3 台 Tomcat 服务器。我们在 LB 上使用 Sticky 会话，这样，一旦 LB 和节点之间形成会话，后续请求就会转到同一个节点。我建议您将 3 个 TOmcat 服务器放在集群下（这很容易），并在您的 LB 和所有节点上保持粘性会话。

# sql-server-2008-r2 - RateNumber 的自动递增

> ID：11390360
> 
> 赞同：0
> 
> 时间：2012-07-09T07:00:15.027
> 
> 标签：sql-server-2008-r2

我有两张桌子：

1) 博文：

```
 COLUMN_NAME    DATA_TYPE
Id                  int
Title             varchar
Description       varchar
ImageName         varchar
FileName          varchar
CreatedDate       datetime
Tags              varchar
ModifiedDate      datetime
RateNumber           int
CreatedBy            int
ShortDescription    varchar 
```

2\. 博客评分：

```
Id  EmployeeId  PostId  Rate
4     1           12    3
5     1           13    2
6     1           11    2 
```

我写了一个存储过程来保存 BlogRating 的详细信息：

```
ALTER PROCEDURE [dbo].[BlogRatingSave]
     @EmployeeId    int
    ,@PostId        int
    ,@Rate          int
AS
BEGIN
    DELETE FROM [HRM_BlogRating]
        WHERE   [HRM_BlogRating].[EmployeeId] = @EmployeeId 
            AND [HRM_BlogRating].[PostId] = @PostId 

    INSERT INTO [HRM_BlogRating]
        ([EmployeeId]
        ,[PostId]
        ,[Rate]
        )
    VALUES
        (@EmployeeId    
        ,@PostId        
        ,@Rate
        )
END 
```

我想要的是，如果不同的员工给出率，在保存 BlogRating 时，我需要将 table1 中的字段 RateNumber 自动增加 1。同时，如果下一次相同的员工率，RateNumber 不应该增加。请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:22:02.433

你为什么要删除然后插入。相反，您应该尝试插入，如果它失败（由于重复）然后进行更新。

在此过程中，您还可以调整评级的值，但我假设您需要传入进行更改的人员的 EmployeeId，因为这是您的规则的一部分。IE。

```
update BlogPost set RateNumber = RateNumber + 1 where EmployeeId = @EmployeeID and CreatedBy != @EmployeeID 
```

所以一切都会变成：

```
ALTER PROCEDURE [dbo].[BlogRatingSave]
     @EmployeeId    int
    ,@PostId        int
    ,@Rate          int
AS
BEGIN
    BEGIN TRY
        INSERT INTO [HRM_BlogRating]
            ([EmployeeId]
            ,[PostId]
            ,[Rate]
            )
        VALUES
            (@EmployeeId    
            ,@PostId        
            ,@Rate
            )
    END TRY
    BEGIN CATCH
        UPDATE [HRM_BlogRating]
             SET Rate = @Rate
        WHERE EmployeeID = @EmployeeID and PostId = @PostId
    END CATCH

    UPDATE BlogPost set RateNumber = RateNumber + 1 where EmployeeId = @EmployeeID and CreatedBy != @EmployeeID
END 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T08:45:16.463

我可以试试这个作为解决方案吗？@迈克尔

```
ALTER PROCEDURE [dbo].[BlogRatingSave]
     @EmployeeId    int
    ,@PostId        int
    ,@Rate          int
AS
BEGIN
IF(EXISTS(SELECT 1 FROM [HRM_BlogRating] WHERE EmployeeId= @EmployeeId AND [PostId] = @PostId))
    BEGIN
        DELETE 
            FROM 
                [HRM_BlogRating]
        WHERE   
                [HRM_BlogRating].[EmployeeId]=@EmployeeId  
            AND 
                [HRM_BlogRating].[PostId] = @PostId 
    END
ELSE
    BEGIN
        UPDATE 
            HRM_BlogPost 
        SET 
            RateNumber=isnull(RateNumber,0)+1 
        WHERE 
            Id=@PostId
    END 

    INSERT INTO [HRM_BlogRating]
        ([EmployeeId]
        ,[PostId]
        ,[Rate]
        )
    VALUES
        (@EmployeeId    
        ,@PostId        
        ,@Rate
        )
END 
```

# eclipse - Eclipse Indigo vs Helios - 启动应用程序

> ID：11390362
> 
> 赞同：1
> 
> 时间：2012-07-09T07:00:24.427
> 
> 标签：eclipse

在 Eclipse Helios 中，我可以在编辑任何文件时按下 Debug 或 Run btn，尤其是 xml 文件。

现在使用 Indigo，我必须将光标定位在 Java 文件中并按下调试/运行。

这在编辑一些 xml 文件时必须跳转到 Java 文件才能运行应用程序时相当烦人。

这是一个新的“功能”还是可以获得与以前相同的行为？

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-10T20:03:36.800

这是一项功能，称为上下文启动。您可以在底部将其关闭`Preferences>Run/Debug>Launching`。有关详细信息，请参阅[http://eclipse-debug.blogspot.ca/2007/05/context-launchingfriend-or-foe.html 。](http://eclipse-debug.blogspot.ca/2007/05/context-launchingfriend-or-foe.html)

# mysql - 带加密的远程 MySQL 访问

> ID：11390365
> 
> 赞同：1
> 
> 时间：2012-07-09T07:00:34.590
> 
> 标签：mysql, encryption

现在我在工作场所担任 QA / 测试员。我们有一个桌面应用程序（将安装在最终用户 PC 中），它需要向远程服务器提交凭证 ID。在提交过程中，我通过 Wireshark 意识到 MySQL 数据包没有加密。我可以看到纯文本的用户名密码和正在发送的凭证 ID。

如果我想加密 MySQL 通信，有什么方法可以做到这一点？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:03:00.943

MySQL 支持通过 SSL 连接。阅读手册的[使用 SSL 进行安全连接](http://dev.mysql.com/doc/en/secure-connections.html)部分。

# ms-access - 通过 Lotus Notes+access vba 进行调查

> ID：11390367
> 
> 赞同：0
> 
> 时间：2012-07-09T07:00:51.493
> 
> 标签：ms-access, vba, lotus-notes, lotusscript

我正在开发一个访问 vba 应用程序，它根据不同的参数通过 Lotus Notes 向我们的员工发送调查电子邮件。我希望这些电子邮件包含选项按钮（嵌入的 OLE 对象），以便我们的工作人员选择所需的选项并单击按钮将答案发回。

我可以创建这些电子邮件、嵌入对象并从 Lotus Notes 的“Stationery”文件夹中发送它们。

由于我是 LotusScript 的新手：

我应该在按钮中插入什么代码，这样我才能收到选定的选项？是否像转发原始电子邮件一样简单？我想我可以通过richtextitem 获得选定的值，对吗？

提前谢谢了

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-11T15:10:16.737

根据您上面的回答，我怀疑您最简单的做法是在您的电子邮件中包含一个“回复”标题以及您的访问代码将扫描的邮箱地址，并包含对您的用户“回复”的说明使用此消息的历史记录，进行选择，然后单击“发送”。

但是，另一种方法是在您的代码可以访问的数据库中创建两个带有富文本字段的原型文档。在第一个文档中，使用 @Command([Compose];"Reply With History") 和适当的标签手动创建一个 Notes 按钮（不是 OLE）。在第二个文档中，手动创建一个带有 @MailSend("your application's mailbox address") 的按钮。然后编写代码来创建您的调查文档，读取第一个原型及其富文本项，并使用 AppendRTItem 方法将原型内容放入新文档的富文本字段中。然后编写代码以将 OLE 调查内容插入富文本。最后，阅读第二个原型及其富文本项并再次使用 AppendRTItem 将其附加到调查文档富文本项的末尾。

# ios - 是否可以更改图像的颜色？

> ID：11390370
> 
> 赞同：1
> 
> 时间：2012-07-09T07:01:15.030
> 
> 标签：ios, cocoa, uiimageview, uiimage, uicolor

不知道是不是很傻

我有一张将添加到`UIImageView`或 中的图像`UIButton`。该图像包含一些红色的文本，背景为黑色。是否可以将 BG 颜色和文本颜色更改为自定义颜色。那可能吗 ？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T07:13:31.660

如果在考虑乔治的回答后，您仍然需要修改颜色，您可以尝试使用 Core Image 滤镜。

以下示例通过 中给定的角度调整`UIImageView`调用的色调。`screenImage``angle`

```
- (void)rebuildFilterChain:(double)angle {
  UIImage *uiImage = [UIImage imageNamed:@"background.jpg"];
  CIImage *image = [CIImage imageWithCGImage:[uiImage CGImage]];

  CIFilter *hueAdjust = [CIFilter filterWithName:@"CIHueAdjust"];
  [hueAdjust setDefaults];
  [hueAdjust setValue:image forKey: @"inputImage"];
  [hueAdjust setValue: [NSNumber numberWithFloat:angle] forKey: @"inputAngle"];
  self.resultImage = [hueAdjust valueForKey: @"outputImage"];

  CGImageRef cgImage = [context createCGImage:resultImage fromRect:resultImage.extent];
  screenImage.image = [UIImage imageWithCGImage:cgImage];
  CGImageRelease(cgImage);
} 
```

Core Image 过滤器的完整列表[在 Apple 网站上](https://developer.apple.com/library/mac/documentation/graphicsimaging/reference/CoreImageFilterReference/Reference/reference.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T07:09:21.820

你为什么使用图像？如果您有背景颜色，则意味着您使用的是纯色……实际上不是图像。因此，您可以设置按钮的背景颜色以及标题颜色。如果您这样做只是为了获得圆角，请不要这样做。只需`import <QuartzCore/QuartzCore.h>` 这样做：

`button.layer.cornerRadius = 8;`

`button.layer.masksToBounds = TRUE;`

希望这可以帮助。

干杯!

# jquery - 如何使 Jquery DataTable 默认搜索框过滤最小列？

> ID：11390374
> 
> 赞同：2
> 
> 时间：2012-07-09T07:01:43.097
> 
> 标签：jquery, datatable

我想使用 Jquery 默认搜索框来过滤有限的列。它的预定义状态是所有列均可排序。如何使用来限制要过滤的列。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T07:21:52.633

创建数据表时，您可以像这样将列定义为不可搜索。

```
$('#table').dataTable(
    "aoColumns": [ 
        {"bSearchable": true},
        {"bSearchable": false}, 
        {"bSearchable": false}
]); 
```

所以在这种情况下，将有三列，只有第一列是可搜索的。

# zip - Modx Revolution 找不到它的 CSS 文件？

> ID：11390376
> 
> 赞同：0
> 
> 时间：2012-07-09T07:01:55.153
> 
> 标签：zip, installation, modx, modx-resources

这是一个奇怪的问题：我刚刚安装了 ModX Revolution 2.2.4 并且一切顺利，但在后端它就像缺少 css 文件一样 - 它要么只加载部分页面，要么加载没有 CSS 的整个页面。

在我的浏览器控制台中，它说它根本找不到 css 文件。我检查了文件和目录 - 都完好无损，所有权限都正确。

我尝试重新安装并在两个不同的服务器上都出现相同的情况。

唯一的问题是在安装过程中它无法解压缩文件core.transport.zip，所以我在我的PC上解压缩并重新上传它。

有人会知道发生了什么吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T00:59:58.163

问题是当我安装时 ModX 中的压缩文件没有解压缩。在您的 PC 上解压缩，修复或更新服务器上的 PHP，或者安装旧版本（2.1.7 可以）

# ruby - 类的新实例或不同的东西？

> ID：11390384
> 
> 赞同：-1
> 
> 时间：2012-07-09T07:02:30.690
> 
> 标签：ruby

我在这里和那里看到过这样的代码

```
Specification.new do |s|
  s.name = %q{casein}
  s.version = "3.1.11"
.... 
```

谁能解释一下“do |s|”背后的想法是什么？?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:09:05.090

这是在 ruby​​ 中使用块的示例。块是可以传递给方法的一段代码（`new`只是一个常规方法）。

```
class Foo
  def initialize
    puts "doing some work"
    yield('Foo') if block_given?
  end
end

Foo.new do |s|
  puts "output from #{s}"
end
# >> doing some work
# >> output from Foo 
```

这里的初始化程序`Foo`调用一个块（如果给定了一个块）并将其传递给一个参数。然后块可以接收该参数并完成其工作。

[教育阅读](http://www.ruby-doc.org/docs/ProgrammingRuby/html/tut_containers.html)在这里。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T07:09:16.623

这是一个通过初始化程序暴露给阻塞的参数`Specification`

在那个类中，事情可能看起来像这样：

```
class Specification
  def initialize
    # ...
    yield self
    # ...
  end
end 
```

执行`yield`一个块并向它传递一个参数 - `self`（它可能是任何其他对象，所以最好去检查源代码）

代码块通常如下所示：

```
do |arguments, list|
  # code here
end 
```

但参数是可选的（除非它是 lambda 并且你会因为太少或太多而得到异常）

# php - 使用php访问网络计算机的c盘

> ID：11390385
> 
> 赞同：0
> 
> 时间：2012-07-09T07:02:53.640
> 
> 标签：php, sqlite, drive

我正在尝试访问网络 PC 的 C 盘。我可以使用编写此路径的资源管理器访问它`\\PCNAME\c$\path\to\file`。但是当我尝试使用它`copy`不起作用的功能访问它时`php`。这是我的`php`代码。

```
copy("\\\\PCNAME\\c\$\\path\\to\\file","filename"); 
```

有语法错误吗？
请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:09:31.943

它不是

```
copy("\\PCNAME\c\$\path\to\file","filename"); 
```

它是

```
copy('\\PCNAME\c$\path\to\file',"filename"); 
```

注意 c$（隐藏共享），但为什么不创建一个可公开访问的共享呢？

编辑：还要注意单引号，这是为了保留反斜杠（你是对的@Esailija）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T07:14:25.073

你必须先映射驱动器..

然后传递正确的驱动器位置来复制文件。例如，您的映射驱动器是 g:\Program Files\file_name 然后将该位置传递给 copy() 函数

希望这会帮助你。

# iphone - 两个手指在 UITableView 上滑动

> ID：11390386
> 
> 赞同：0
> 
> 时间：2012-07-09T07:02:59.007
> 
> 标签：iphone, ipad, uitableview, uiscrollview, uiswipegesturerecognizer

我在我的应用程序中使用 UITableView 在 UITableView 的每个部分下显示一组图像。如果用两根手指完成滑动，我有一个要求，使 UITableView 滚动到下一部分。

有人可以帮助我使 UITableView 响应两个手指滑动吗？我尝试分配一个滑动手势，触摸次数分配给两个，但表格响应正常的传统滚动。

有人可以建议一种方法来实现这一点。如果可能的话，使用非常受欢迎的代码。

TNQ

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:05:27.093

```
[swipeGesture setCancelsTouchesInView:TRUE]; 
```

这将使手势识别器吞下触摸。

希望这可以帮助。

干杯!

# c# - 如何在 C# 中创建对保存字符串的 System.Array 的引用

> ID：11390389
> 
> 赞同：4
> 
> 时间：2012-07-09T07:03:06.853
> 
> 标签：c#, string, visual-studio-2010, mono, system.array

我有一个关于 C# 代码的有趣问题。基本上我必须调用一个方法

```
BCI2000AutomationLib.IBCI2000Remote.StartupModules(ref System.Array) 
```

使用 Visual Studio 2010，以下代码可以完美编译并运行：

```
// Startup modules
string[] modules = new string[3];
modules[0] = "SignalGenerator --local";
modules[1] = "DummySignalProcessing --local";
modules[2] = "DummyApplication --local";
ok_conn = bci.StartupModules(ref modules); 
```

现在将其移植到游戏引擎（例如 Unity 3D）需要一些更严格的 C# 代码，因为它使用 Mono C# 编译器。因此，对于相同的代码，我得到以下编译错误：

> 'BCI2000AutomationLib.IBCI2000Remote.StartupModules(ref System.Array)'的最佳重载方法匹配 *有一些无效参数 参数 1：无法从 'ref string[]' 转换为 'ref System.Array'*

您能否就如何将此代码块重写为更严格的编码以解决所述错误提供建议？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-09T07:06:58.197

将变量的类型更改为 System.Array

```
// Startup modules 
Array modules = new string[3] 
{
    "SignalGenerator --local",
    "DummySignalProcessing --local",
    "DummyApplication --local"
};
ok_conn = bci.StartupModules(ref modules); 
```

您的方法 StartupModules 将 ref Array 作为参数；它可以将变量设置为任何其他数组。不一定是字符串数组，可以是 int[]。这就是为什么您不能使用类型为字符串数组的变量调用的原因。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-24T12:17:10.403

字符串数组程序，从用户那里获取字符串：

```
class Program
{
    static void Main(string[] args)
    {
        int i,j;
        string[] str = new string[10];
        Console.WriteLine("Enter the Name of your friends");
        for (i = 0; i < 10; i++)
        {
            str[i] = Convert.ToString(Console.ReadLine());
            Console.WriteLine("Array["+i+"]="+str[i]);
        }
        Console.ReadLine();
    }
} 
```

# ruby-on-rails - 关闭 ssh 终端后模板丢失

> ID：11390390
> 
> 赞同：0
> 
> 时间：2012-07-09T07:03:21.037
> 
> 标签：ruby-on-rails, ubuntu-11.10

ubuntu 服务器 11.10 上的一个简单 rails 项目，我 ssh 到服务器，项目运行良好。但是在我关闭 ssh 终端后，会出现“模板丢失”错误。

我用命令运行项目，

> sudo nohup rails rails s &

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:16:10.907

尝试运行此命令：

```
rails server -d 
```

此外，[缺少阅读模板](https://stackoverflow.com/questions/6495046/template-is-missing)

# python - 从 GeoPy 地理编码器返回单个地址组件（城市、州等）

> ID：11390392
> 
> 赞同：10
> 
> 时间：2012-07-09T07:03:31.450
> 
> 标签：python, geocoding, google-geocoder, geopy

我正在使用 GeoPy 将地址地理编码为 lat,lng。我还想提取每个地址的逐项地址组件（街道、城市、州、邮编）。

GeoPy 返回一个带有地址的字符串——但我找不到分离每个组件的可靠方法。例如：

```
123 Main Street, Los Angeles, CA 90034, USA =>
{street: '123 Main Street', city: 'Los Angeles', state: 'CA', zip: 90034, country: 'USA'} 
```

Google 地理编码 API 确实返回了这些单独的组件……有没有办法从 GeoPy 中获取这些组件？（或不同的地理编码工具？）

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2016-11-07T22:59:24.970

您还可以从`Nominatim()`地理编码器（geopy 的标准开源地理编码器）中获取各个地址组件。

```
from geopy.geocoders import Nominatim

# address is a String e.g. 'Berlin, Germany'
# addressdetails=True does the magic and gives you also the details
location = geolocator.geocode(address, addressdetails=True)

print(location.raw) 
```

给

```
{'type': 'house',
 'class': 'place',
 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0\. http://www.openstreetmap.org/copyright',
 'display_name': '2, Stralauer Allee, Fhain, Friedrichshain-Kreuzberg, Berlin, 10245, Deutschland',
 'place_id': '35120946',
 'osm_id': '2825035484',
 'lon': '13.4489063',
 'osm_type': 'node',
 'address': {'country_code': 'de',
             'road': 'Stralauer Allee',
             'postcode': '10245',
             'house_number': '2',
             'state': 'Berlin',
             'country': 'Deutschland',
             'suburb': 'Fhain',
             'city_district': 'Friedrichshain-Kreuzberg'},
 'lat': '52.5018003',
 'importance': 0.421,
 'boundingbox': ['52.5017503', '52.5018503', '13.4488563', '13.4489563']} 
```

和

```
location.raw['address'] 
```

你得到的字典只有组件。

查看[geopy 文档](http://geopy.readthedocs.io/en/1.10.0/#geopy.geocoders.Nominatim)以获取更多参数或所有地址组件的[Nominatim](http://wiki.openstreetmap.org/wiki/Nominatim)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-01-29T16:44:41.393

`usaddress`由 DataMade使用。这是[GitHub 存储库](https://github.com/datamade/usaddress)。

它像这样工作`usaddress.parse('123 Main St. Suite 100 Chicago, IL')`并返回这个数组

`[('123', 'AddressNumber'), ('Main', 'StreetName'), ('St.', 'StreetNamePostType'), ('Suite', 'OccupancyType'), ('100', 'OccupancyIdentifier'), ('Chicago,', 'PlaceName'), ('IL', 'StateName')]`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-06-07T09:42:53.197

这就是我实现这种拆分的方式，因为我希望得到的地址始终采用相同的格式。您只需要跳过连接并重新运行每个值...或将其放入列表中。由你决定。

```
 def getaddress(self, lat, lng, language="en"):
        try:
            geolocator = Nominatim()
            string = str(lat) + ', ' +str(lng)
            location = geolocator.reverse(string, language=language)
            data = location.raw
            data = data['address']
            address = str(data)

            street = district = postalCode= state = country = countryCode = ""

            district    =str(data['city_district'])
            postalCode  =str(data['postcode'])
            state       =str(data['state'])
            country     =str(data['country'])
            countryCode =str(data['country_code']).upper()
            address = street +' '+ district  +' '+  postalCode  +' '+  state  +' '+  country  +' '+  countryCode
        except:
            address="Error"
        return str(address.decode('utf8')) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-09T12:40:33.693

不久前我帮助编写了一个名为[LiveAddress 的文章](http://smartystreets.com/products/liveaddress-api)；它刚刚升级为支持单行（自由格式）地址并实现地理编码功能。

GeoPy 是一个地理编码实用程序，而不是地址解析器/标准化器。LiveAddress API*是*，但是，也可以为你验证地址的有效性，填写缺失的信息。您会发现像 Google 和 Yahoo 这样的服务会*近似*地址，而像 LiveAddress 这样的 CASS 认证服务实际上会验证它并且不会返回结果，除非地址是真实的。

在对实现 LiveAddress 进行了大量研究和开发之后，我[在这篇 Stack Overflow 帖子中写了一个总结](https://stackoverflow.com/questions/11160192/how-to-parse-freeform-street-postal-address-into-components/)。它记录了一些地址可以输入的疯狂但完整的格式，并最终导致解析问题的解决方案（对于美国地址）。

要使用 Python 将单行地址解析为组件，只需将整个地址放入“street”字段：

```
import json
import pprint
import urllib

LOCATION = 'https://api.qualifiedaddress.com/street-address/'
QUERY_STRING = urllib.urlencode({ # entire query sting must be URL-Encoded
    'auth-token': r'YOUR_API_KEY_HERE',
    'street': '1 infinite loop cupertino ca 95014'
})
URL = LOCATION + '?' + QUERY_STRING

response = urllib.urlopen(URL).read()
structure = json.loads(response)
pprint.pprint(structure) 
```

生成的 JSON 对象将包含一个`components`如下所示的对象：

```
"components": {
        "primary_number": "1",
        "street_name": "Infinite",
        "street_suffix": "Loop",
        "city_name": "Cupertino",
        "state_abbreviation": "CA",
        "zipcode": "95014",
        "plus4_code": "2083",
        "delivery_point": "01",
        "delivery_point_check_digit": "7"
} 
```

响应还将包括组合的 first_line 和 delivery_line_2，因此您无需在需要时手动连接它们。还提供有关地址的纬度/经度和其他信息。

# ruby-on-rails-3 - 从设计注册重定向到配置文件显示页面

> ID：11390394
> 
> 赞同：0
> 
> 时间：2012-07-09T07:03:34.257
> 
> 标签：ruby-on-rails-3

在rails 3中，我正在使用设计注册...单击应用（提交）按钮后，我的路径应重定向到配置文件显示页面..我该如何实现这一点。

你能指导我应该在路线文件中添加什么吗？这是我的路线

```
 devise_for :users do 
  get '/users/sign_out' => 'devise/sessions#destroy'
  get '/users/select_type' => 'devise/registrations#select_type'
 end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:50:07.790

如果要在 profile_show 视图中显示单个配置文件。然后，您可以使用此代码重定向 profile_show 操作。
`redirect_to :action => :profile_show, :id => @id`
然后将显示相应的 profile_show 视图。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T07:05:33.687

使用 a`redirect_to profile_show_path`重定向。路径名将取决于您的`rake routes`.

# jsp - struts 1.3.8中的分页？

> ID：11390397
> 
> 赞同：0
> 
> 时间：2012-07-09T07:03:48.673
> 
> 标签：jsp, pagination, struts-1

我正在使用struts1.3.8。
当我使用 scriptlet 获取表中的数据并显示时，它一次显示所有记录。但我想每页显示 10。
我正在尝试使用显示标签在 jsp 页面中实现分页概念。但总是显示的结果是“没有找到显示”。
这是我正在使用的代码..

```
<display:table name="requestScope.SearchForm.searchResult"  class="SearchForm" requestURI="" pagesize="10" >
        <display:column property="policyNumber" title="Policy Number" sortable="true"   />
        <display:column property="version" title="version" sortable="true"  />
    </display:table> 
```

这里 SearchForm 是表单 bean，而 searchResult 是其中的属性。它是一个具有多个属性的 bean，我必须以表格的形式显示。
我的代码有什么错误吗？
还有其他方法可以实现分页概念吗？

任何想法都是非常值得赞赏的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:25:19.107

请在`requestURI`属性中指定适当的操作。从 displaytag 文档中阅读以下几行

**如果您在 Struts 中或在通过 jsp:include 包含页面的其他框架中使用此标记，则应使用 requestURI 属性来指示标记生成的链接应指向的位置。**

请参阅此链接上的部分 -[显示标签参考](http://www.displaytag.org/1.2/displaytag/tagreference.html)

希望能帮助到你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-09T08:10:58.540

使用非常简单和有用的数据表概念实现。

# jquery - jquery不显眼怎么做

> ID：11390403
> 
> 赞同：-1
> 
> 时间：2012-07-09T07:04:15.030
> 
> 标签：jquery, asp.net-mvc, validation

我正在通过该代码动态加载视图中的部分视图：

```
$("#typeOfQuestion").load("/Form/TechnicalQuestionPartial");
    $(".questionType").click(function () {
        var UrlPass;
        if ($(this).val() === "techinicalQuestion") {
            UrlPass = "/Form/TechnicalQuestionPartial";
            //            $('#typeOfQuestion').load("/Form/TechnicalQuestionPartial");
        } else if ($(this).val() === "suggestion") {
            UrlPass = "/Form/SuggestionPartial";
            //            $('#typeOfQuestion').load("/Form/Suggestion");
        }
        $.ajax({
            url: UrlPass,
            success: function (data) {
                $('#typeOfQuestion').html(data);
                $('#typeOfQuestion').html($("#formTrim").html());
                validateAjaxForm();
            }
        });
    }); 
```

问题是部分视图加载在 html.beginform 中，部分视图的一些属性需要验证我正在使用 jquery 不显眼的验证但它不起作用我需要一个教程来看看它是如何完成的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:07:20.213

您需要解析新添加的元素，以便使用以下方法将它们注册到验证中`$.validator.unobtrusive.parse`：

```
success: function (data) {
    $('#typeOfQuestion').html(data);
    $('#typeOfQuestion').html($("#formTrim").html());

    // reparse the form DOM in order to register unobtrusive validation
    // to newly added elements
    $("form").removeData("validator");
    $("form").removeData("unobtrusiveValidation");
    $.validator.unobtrusive.parse("form");
} 
```

# extjs - Ext.Msg.confirm 收集数据的顺序

> ID：11390406
> 
> 赞同：0
> 
> 时间：2012-07-09T07:04:23.250
> 
> 标签：extjs, confirm

例如，我有 5 条记录。我应该要求用户确认下一步操作，

```
 var data = [];
     Ext.Msg.confirm('Confirm', String.format('Are you sure about {0} record?',
                    product['id']),
                    function (btn){
                        if(btn=='yes')  data.push(product['id']);

                    }
    });

 // here I want to get collected data
console.log(data); // gives [] - empty 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T08:25:24.213

ExtJs 消息框是异步的，因此您添加产品的代码是正确的，但您要收集的部分是错误的。该部分在您确认之前执行。所以你应该添加一个函数来收集数据，并从消息框确认的回调方法中调用它：

```
var data = [];
function confirm(id){
     Ext.Msg.confirm('Confirm', String.format('Are you sure about {0} record?',
                    product['id']),
                    function (btn){
                        if(btn=='yes') {
                          data.push(product['id']);
                        }
                        if (id<4){ //or some terminal condition you have
                          confirm(newId) //show confirm for new id or next..
                        } else {
                          collectData(data);
                        }    
                    }
    );
}
function collectData (data){
 // here I want to get collected data
console.log(data); // gives [] - empty
} 
```

# c++ - NPAPI tcp http server c++ in chrome

> ID：11390407
> 
> 赞同：0
> 
> 时间：2012-07-09T07:04:24.233
> 
> 标签：c++, google-chrome, npapi

您好，我想知道如何开始在 chrome 中使用 c++ 开发 NPAPI 服务器。这甚至可能吗？我的目标是让 2 个客户通过扩展找到彼此。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:10:41.070

嗯，是。您必须选择使用 Firebreath，它可以通过抽象一些 NPAPI 为您提供很多帮助，或者从头开始并使用上校恐慌的教程。

*   [喷火](http://www.firebreath.org/display/documentation/FireBreath+Home)
*   [Mozilla NPAPI 文档](https://developer.mozilla.org/en/Gecko_Plugin_API_Reference)（最完整的）
*   [恐慌上校教程](http://colonelpanic.net/category/plugindev/)

准备好做一些深入的工作来了解插件是如何工作的！

# wcf - WCF 客户端代码不会自动反映 WCF 服务数据协定更改

> ID：11390410
> 
> 赞同：1
> 
> 时间：2012-07-09T07:04:40.187
> 
> 标签：wcf

我最初将用于测试目的的数据合同定义为

```
[DataContract]
public class CreditCard: ISensitive
{
   [DataMember]
   public string CardNumber { get; set; }
} 
```

Wcf 客户端正确读取此合同，我可以使用客户端引用类来操作 CardNumber 字段。但是，当我使用 .NET 实体框架生成数据协定的实际实现时，我看不到客户端引用类中完全反映的更改。

```
[DataContract]
public partial class CreditCard: EntityObject
{
   // all Properties coming from database table
   [DataMember]
   public  string CardNumber { get; set; } 
   [DataMember]
   public string CardHolderName { get; set; } 
   [DataMember]
   public DateTime ExpiryDate { get; set; }
}

public partial class CreditCard: ISensitive
{
  // interface implementation and other methods
} 
```

我只能操作 CardNumber 属性，而客户端代码中不会生成其他属性。我也没有看到在客户端代码上生成其他实体类型。我忽略了一些版本控制问题吗？我是否错误地更新了服务参考？为什么客户端代码不显示实体框架生成的 DataContract 类？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-02-03T13:39:29.583

如果您需要在客户端更新服务定义，请转到解决方案资源管理器。在您的客户端项目下，打开“连接的服务”并右键单击连接到错误服务的服务参考。选择“更新服务”。这应该更新客户端的服务定义以匹配主机。

# crm - 我在lead的每个阶段都需要不同的字段，我需要创建新模块还是什么？

> ID：11390411
> 
> 赞同：-1
> 
> 时间：2012-07-09T07:04:41.487
> 
> 标签：crm, openerp

嗨，我需要为我的公司开发 CRM。我选择 OpenERP CRM 模块。它有阶段和一切，但我需要在每个阶段都必须在潜在客户页面上有一些字段（其中一些需要移动到下一阶段，其中一些是可选的）。我不知道数据库结构或其他东西。那么在哪里添加字段（我的意思是在哪个对象或表中） 我正在考虑创建一个新模块并使用 res_parter 和用户并创建全新的 CRM 模块。但后来我在想，如果我必须发展，那有什么好处。我是 OpenERP 新手，找不到我的答案。有人可以在这方面帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T10:56:05.990

您应该通过扩展它并添加您需要的字段来自定义潜在客户，然后您可以“播放”视图以显示字段或根据需要将它们设为必需。

另外，如果您说“那么在哪里添加字段（我的意思是在哪个对象或表中）”意味着您没有阅读[开发人员文档](http://doc.openerp.com/v6.1/developer/):) 一旦您阅读它们，您会发现您不需要了解表格以便自定义对象。阅读文档后，一个很好的起点是查看其他模块。

也看看[这个](http://simahawk.wordpress.com/2010/10/04/openerp-how-to-add-a-custom-field-to-an-object/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T07:38:33.140

你在 CRM 的 OE 上做了很好的选择，他们的模块 CRM 在这个垂直方面确实很成熟。现在你有一些具体要求“（其中一些需要进入下一阶段，其中一些是可选的”所以我会在这里提出几点建议，

*   你最后一行的几句“但后来我在想，如果我必须发展，那有什么好处。” 是的，你完全是轻的，何必再做一次，OE 也同样相信。这里你需要的是一些像fields_view_get这样的hack，你需要创建新的小模块来继承`crm.lead`对象并使用一些代码hack来为你工作，

*   第二点在 CRM 领导阶段是 M2o 关系领域，它们与销售团队的 CRM 部门相关联，所以这一点，所以这需要更多的努力来整合你的需求，但是从开发人员的角度来看，这根本不是什么复杂的工作。

*   为什么我们出于功能原因需要新模块是，如果您将创建新模块，那么将来如果使用 oe crm 升级您的 crm 模块，那么您将不会填充冲突，并且您的新模块将喜欢 Plugable module ot OE。您可以在 apps.openerp.com 中查看一些现有模块，因为它们有超过 2k 的模块，所以您很可能会得到您需要的东西。;) 或者类似的东西

希望这会有所帮助

让我知道是否还有 Doughts ,

# ios - 如何将立体声音频转换为单声道？

> ID：11390412
> 
> 赞同：4
> 
> 时间：2012-07-09T07:04:55.947
> 
> 标签：ios, audio

现在，我正在为iPhone开发一个应用程序，我想在其中分别播放左声道和右声道的音频（ps：播放的音频是多声道的），到目前为止，我已经尝试了很多方法，例如，找到一些我可以设置为执行此操作的属性（例如 setPan :)，但失败了，那么，我应该如何处理这个问题，你能给我一些建议吗？非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T22:40:31.490

要在通道级别操作音频，请参阅 Xcode 附带的文档中的 AVFoundation 中的 AVAudioSession 类。

特别是*音频会话编程指南*。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-07T09:43:54.923

我认为 Novocaine 图书馆会有所帮助。你可以通过 [这个例子](https://github.com/bartolsthoorn/NVDSP)。

它肯定会帮助你。例如，您可以更改以下方法

`- (void)filterData:(float *)data numFrames:(UInt32)numFrames numChannels:(UInt32)numChannels`

在 NVDSP.mm 文件中得到你想要的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-12-07T14:06:52.947

[AudioKit](https://github.com/AudioKit/AudioKit)是一种在 iOS 中操作音频的简单、强大、免费和维护的解决方案。通过它，您可以创建如下内容：

```
leftSignal = AKBooster(input)
leftSignal.rightGain = 0
leftPannedRight = AKPanner(leftSignal, pan: 0.5)

mixer = AKMixer(leftPannedRight)
AudioKit.output = mixer 
```

这是一个很好的音频解决方案，无需处理低级框​​架。为了帮助您入门，StackOverflow 上有很多在线教程并回答了 AudioKit 的问题。一个好的开始是使用[AudioKit 的游乐场](https://audiokit.io/playgrounds/)。

# android - 如何在 Android 集成上从 Facebook 查询特定数据？

> ID：11390416
> 
> 赞同：0
> 
> 时间：2012-07-09T07:05:15.047
> 
> 标签：android, facebook-graph-api

我已将 Facebook 集成到我的 Android 应用程序中。现在我想获取信息，例如仅由我的应用程序发布的特定帖子。

我怎样才能做到这一点 ？请帮忙。

已编辑。

在我的应用程序中，用户可以将消息发布到他的墙上。我想要的是用户的朋友是否也使用相同的应用程序并通过应用程序发布消息。

所以我想从他的墙上检索所有通过应用程序（由他和他的朋友）制作的用户消息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T04:30:03.523

好的，我自己解决了问题。我使用[fql](http://developers.facebook.com/docs/reference/fql/)来检索我需要的信息。

这就是我使用fql的方式。用于从我的墙上检索消息和其他数据（仅通过我的应用程序生成的那些）。

```
private String getWallInfo()
    {
        try
        {

            Bundle params = new Bundle();
            params.putString("method", "fql.query");
            params.putString("query", "SELECT post_id, actor_id, app_id, message FROM stream where source_id = me() and app_id = "
                    + ConnectData.APP_ID);

            String response = facebook.request(params);
            Log.i(TAG, "response = " + response);
            return response;

        } catch (MalformedURLException e)
        {
            // TODO Auto-generated catch block
            e.printStackTrace();
            return null;
        } catch (IOException e)
        {
            // TODO Auto-generated catch block
            e.printStackTrace();
            return null;
        }
    } 
```

用于从我的朋友墙上检索消息和其他数据（仅限通过我的应用程序制作的那些）。

```
 private String getFriendsWallInfo()
        {
            try
            {

                Bundle params = new Bundle();
                params.putString("method", "fql.query");
                params.putString("query",
                        "SELECT post_id, actor_id, app_id, message FROM stream WHERE source_id IN (SELECT uid2 FROM friend WHERE uid1 = me()) AND app_id="
                                + ConnectData.APP_ID);

                String response = facebook.request(params);
                Log.i(TAG, "response = " + response);
                return response;

            } catch (MalformedURLException e)
            {
                // TODO Auto-generated catch block
                e.printStackTrace();
                return null;
            } catch (IOException e)
            {
                // TODO Auto-generated catch block
                e.printStackTrace();
                return null;
            }
        } 
```

# android - 在线数据库更新时自动更新应用程序。可能的？

> ID：11390418
> 
> 赞同：0
> 
> 时间：2012-07-09T07:05:27.743
> 
> 标签：android, database-connection

我有一个音乐文件的在线数据库。我希望如果我更新数据库（添加或删除文件），应用程序会自动将新文件更新到应用程序中。那可能吗？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:11:48.487

您可以轮询有权访问数据库的 Web 服务以检查更新，但如果您需要频繁轮询，通常不建议这样做。

[或者，您可以在数据库更新http://developer.android.com/guide/google/gcm/index.html](http://developer.android.com/guide/google/gcm/index.html)时使用 Google Cloud Messaging 向客户端发送推送通知。

# php - 使用根目录之外的 php 文件的 HTML 表单操作？

> ID：11390420
> 
> 赞同：4
> 
> 时间：2012-07-09T07:05:40.003
> 
> 标签：php, html, forms, post, include

我想知道，有一些文件我保存在根目录之外的不同目录中，我正在尝试使用 HTML 表单将信息发布到位于根目录之外的 php 文件

那可能吗？如果是这样，怎么做？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-09T07:08:03.110

制作一个代理脚本......它*位于*web 目录中，但它所做的只是包含适当的“受保护”文件：

DOCROOT/form_handler.php

```
<?php
include "../secret/form_handler.php"; 
```

DOCROOT/form.html

```
...
<form action="form_handler.php">
... 
```

实际上，这就是设置了多少个站点（至少本质上是这样）。像这样将大部分脚本放在 DOCROOT 之外是很典型的，因为在 Apache 或类似软件不解析您的 PHP（即，如果配置错误）的罕见情况下，它不会无意中发送您的源代码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-04-29T14:46:27.840

在我的网站上，每个表单都以以下代码开头：

```
<form action="action" method="post">
    <input type="hidden" name="i-action" value="do-whatever" /> 
```

这避免了对多个代理脚本的需要，因为`action.php`将使用隐藏字段的值来确定应该调用哪个 php 文件。`action`如果您使用 Ajax 发布表单，请不要调用隐藏字段，因为它可能会导致冲突。此外，我已将`.htaccess`文件设置为删除 php 扩展名，因此您可能需要在 HTML 代码中添加`.php`to `action`。

这里是`action.php`：

```
if (!empty($_POST['i-action']))
{
    $action = str_replace('.', '', $_POST['i-action']);
    $action = str_replace('/', '', $action);
    if (file_exists("../secret/directory/structure/$action".'.php'))
        require_once("../secret/directory/structure/$action".'.php');
} 
```

我曾经`str_replace`确保黑客不能遍历到不同的目录。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-09T07:09:45.747

是的，这是可能的。该目录应作为单独的站点托管，然后您可以将文件的绝对 URL 作为表单操作提供

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-09T07:10:06.507

该文件必须可从 Web 访问。
如果“root 之外”目录意味着 DocumentRoot 之外，这是不可能的。

您可以在 DocumentRoot 中有一个基本控制器，其中包含或调度操作。

# python - 将所有同名文件放在一个文件夹中

> ID：11390421
> 
> 赞同：0
> 
> 时间：2012-07-09T07:05:50.303
> 
> 标签：python

我是 Python 新手，我需要一个可以将同一天的文件复制到新文件夹中的程序。

示例文件：

```
20120807_first_day_pic.jpg
20120807_first_day_sheet.jpg
20120807_first_day_sheet2.jpg
20120907_second_day_pic.jpg
20120907_second_day_sheet.jpg
20120907_second_day_sheet2.jpg 
```

这是我到目前为止所拥有的，但每个文件都有一个文件夹，而不是一整天。

```
import os, re, shutil

tfolder = 'D:/Testing/src/'

os.chdir(tfolder)

re_year19xxxxxx = re.compile('(19[0-9][0-9][0-9][0-9])')
re_year20xxxxxx = re.compile('(20[0-9][0-9][0-9][0-9])')

re_ed = re.compile('(ED[0-9])')
destPath = 'D:/Testing/Dest/'

def analyse_file_name(fname):
    filePath, coords = os.path.split(fname) #the new folders will be named according to the first 4 characters of the original file name
    coordsFolder = coords[:53]
    coordsFname = coords[:53]
    coordsExt = os.path.splitext(fname)
    year = 'year' #create variable year
    ed = 'ed' #create variable ed to store the edition number if necessary
    bname = fname #the original file name
    for re_year in (re_year19xxxxxx, re_year20xxxxxx):
        rx = re_year.search(fname) #search for regex in the file name and store it in rx
        if rx:
            year = rx.group(1) #if the regex is found, store the year
            bname.replace(year, ' ')
            res = re_ed.search(fname)
            if res:
                ed = res.group(1)
                bname.replace(ed, ' ')
        os.chdir(destPath)  
        if year is 'year':
            fname2 = os.path.join(destPath, coordsFolder) + '\\' + coordsFname + coordsExt[1]
        else:
            fname2 = os.path.join(destPath, coordsFolder,year,ed) + '\\' + coordsFname + coordsExt[1]
        print('%s -> %s' % (fname, fname2)) #debug print
        dirn, _ = os.path.split(fname2)
        if not os.path.exists(dirn):
            os.makedirs(dirn)
        shutil.copy(fname, fname2)

for root, dirs, files in os.walk(tfolder):
    for name in files:
        fn = os.path.join(root, name)
        analyse_file_name(fn) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:39:14.500

如果您只想复制以已知日期字符串格式开头的文件，那么这样的事情怎么样？

```
def copyfile(filepath, target_dir):
    p, filename = os.path.split(filepath)

    # get date component of name
    date_component = filename.split("_", 1)[0]

    # try to parse out the date
    try:
        d = datetime.datetime.strptime(date_component, "%Y%m%d")
    except ValueError:  
        print "Could not place: ", filename
        return
    target_date_dir = os.path.join(target_dir, str(d.year), str(d.month), str(d.day))
    os.makedirs(target_date_dir)
    shutil.copy(filepath, target_date_dir) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T07:43:31.783

首先，创建一个 dict（a`defaultdict`在这里更方便），它将收集文件的日期（很好用`re`，但考虑到文件的名称使用`split`更容易）：

```
>>> import os
>>> import re
>>> pat = r'(\d+)(?:_\d+)?_(\w+?)[\._].*'
>>> from collections import defaultdict
>>> dict_date = defaultdict(lambda : defaultdict(list))
>>> for fil in os.listdir(path):
    if os.path.isfile(os.path.join(path, fil)):
        date, animal = re.match(pat, fil).groups()
        dict_date[date][animal].append(fil)

>>> dict_date['20120807']
defaultdict(<type 'list'>, {'first': ['20120807_first_day_pic.jpg', '20120807_first_day_sheet.jpg', '20120807_first_day_sheet2.jpg']}) 
```

然后对于每个日期，创建一个子文件夹并在那里复制相应的文件：

```
>>> from shutil import copyfile
>>> for date in dict_date:
        for animal in dict_date[date]:
        try:
            os.makedirs(os.path.join(path, date, animal))
        except os.error:
            pass
        for fil in dict_date[date][animal]:
            copyfile(os.path.join(path, fil), os.path.join(path, date, animal, fil)) 
```

**编辑**：考虑到 OP 的新要求和 Khalid 的评论。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T08:50:25.840

```
import os, shutil

src_path = "D:\\Testing\\Src\\"
dest_path = "D:\\Testing\\Dest\\"

for file in os.listdir(src_path):
    if not os.path.isdir(dest_path + file.split("-")[0]):
       os.mkdir(dest_path + file.split("-")[0])
shutil.copy(src_path + file, dest_path + file.split("-")[0]) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-09T10:46:15.440

正则表达式日 :) 尝试将文件名与

```
pattern=r'(?P<filedate>(?P<year>\d{4})(?P<month>\d{2})(?P<day>\d{2}))\_(?P<bloodyrestofname>.*)' 
```

完整的日期、年份等可以从匹配中的各个命名组中检索。

# websphere - 关注 Websphere Portal 应用程序文件删除

> ID：11390422
> 
> 赞同：0
> 
> 时间：2012-07-09T07:05:50.200
> 
> 标签：websphere, portal, websphere-7, websphere-6.1, websphere-portal

Websphere Portal 应用程序有一个问题。情况是我们直接从WAS intsalledApps文件夹路径中删除了一个上传的Portal应用图片文件，重启Websphere Portal应用服务器后该文件会自行重新生成。似乎图像文件已从其他地方同步。但是该 websphere 门户已部署在 websphere 独立服务器中，没有 dmgr 节点，只有一个应用程序服务器配置文件。所以我不明白为什么那个文件会再次出现？这个从哪里来？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-09T16:00:02.917

there should be a couple of directory where installation keeps their file

D:\IBM\WebSphere\wp_profile\config\cells\nodename\applications

and the second one

D:\IBM\WebSphere\wp_profile\installedApps

check both of them, if you confirm that there is no deployment manager in this configuration.

# android - 如何将与 ListView 中的位置关联的值发送到 android 中的另一个 Activiy

> ID：11390425
> 
> 赞同：0
> 
> 时间：2012-07-09T07:06:18.223
> 
> 标签：android, android-listview, android-activity

我正在将 xml 解析为我的项目中的列表视图。我希望当有人单击 listView 中的任何位置时，我想将我在当前位置的所有信息发送到另一个活动。我是android新手，请帮我解决这个问题。我提供下面的代码。我在 ListView 中显示 KEY_NAME 、 KEY_DESCRIPTION 、KEY_ID 、 KEY_OFFLINE 和 KRY_THUMB_URL 。我想将当前位置的所有这些信息发送到另一个活动，我想在该活动中显示有关列表中当前选定项目的完整详细信息。

这是我的新修改代码.. 但我在此代码中收到错误.. 应用程序强制关闭。

```
public class MainActivity extends Activity {
// All static variables
static final String URL = "Some____ URL";
// XML node keys
static final String KEY_RESPONSE = "Response"; // parent node
static final String KEY_NAME = "Name";
static final String KEY_DESCRIPTION = "Description";
static final String KEY_ID = "ConsultantID";
static final String KEY_OFFLINE = "OnlineStatus";
static final String KEY_THUMB_URL = "ProfilePicture";

ListView list;
LazyAdapter adapter;
//String name;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    list=(ListView)findViewById(R.id.list);

    ArrayList<HashMap<String, String>> songsList = new ArrayList<HashMap<String, String>>();

    XMLfunctions parser = new XMLfunctions();
    String xml = parser.getXmlFromUrl(URL); // getting XML from URL
    Document doc = parser.getDomElement(xml); // getting DOM element

    NodeList nl = doc.getElementsByTagName(KEY_RESPONSE);
    // looping through all song nodes <song>
    for (int i = 0; i < nl.getLength(); i++) {
        // creating new HashMap
        HashMap<String, String> map = new HashMap<String, String>();
        Element e = (Element) nl.item(i);
        // adding each child node to HashMap key => value
        map.put(KEY_NAME, parser.getValue(e, KEY_NAME));
        map.put(KEY_DESCRIPTION, parser.getValue(e, KEY_DESCRIPTION));
        map.put(KEY_ID, parser.getValue(e, KEY_ID));
        map.put(KEY_OFFLINE, parser.getValue(e, KEY_OFFLINE));
        map.put(KEY_THUMB_URL, parser.getValue(e, KEY_THUMB_URL));

        // adding HashList to ArrayList
        songsList.add(map);
    }

    // Getting adapter by passing xml data ArrayList
    adapter=new LazyAdapter(this, songsList);        
   list.setAdapter(adapter);
   list.setTextFilterEnabled(true);  

    // Click event for single list row
   list.setOnItemClickListener(new OnItemClickListener() {
    public void onItemClick(AdapterView<?> parent, View view, int position, long id) {              
        @SuppressWarnings("unchecked")
            HashMap<String, String> o = (HashMap<String, String>) list.getItemAtPosition(position);

        Intent i = new Intent(MainActivity.this,ShowLarge.class);
        i.putExtra("ID",o.get("KEY_ID"));
        i.putExtra("Name", o.get("KEY_NAME"));
        startActivity(i);

        Toast.makeText(MainActivity.this, "ID '" + o.get("KEY_ID") + "' was clicked.", Toast.LENGTH_LONG).show(); 

        }
    });
           }} 
```

但是当我运行应用程序时，它给出了以下错误..

```
07-09 16:35:42.024: E/AndroidRuntime(618): java.lang.ClassCastException: java.lang.Integer 
```

我不明白这一切为什么会发生..请提前帮助thanksx

我的第二个活动代码是。

```
public class LazyAdapter extends BaseAdapter {

private Activity activity;
private ArrayList<HashMap<String, String>> data;
private static LayoutInflater inflater=null;
public ImageLoader imageLoader; 

public LazyAdapter(Activity a, ArrayList<HashMap<String, String>> d) {
    activity = a;
    data=d;
    inflater = (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    imageLoader=new ImageLoader(activity.getApplicationContext());
}

public int getCount() {
    return data.size();
}

public Object getItem(int position) {
    return position;
}

public long getItemId(int position) {
    return position;
}

public View getView(int position, View convertView, ViewGroup parent) {
    View vi=convertView;
    if(convertView==null)
        vi = inflater.inflate(R.layout.list_row, null);

    TextView title = (TextView)vi.findViewById(R.id.title); // title name
    TextView description = (TextView)vi.findViewById(R.id.artist); // descriptiom
    TextView duration = (TextView)vi.findViewById(R.id.duration); // duration
    TextView Status = (TextView)vi.findViewById(R.id.status); //status
    ImageView thumb_image=(ImageView)vi.findViewById(R.id.list_image); // thumb image

    HashMap<String, String> song = new HashMap<String, String>();
    song = data.get(position);

    // Setting all values in listview
    title.setText(song.get(MainActivity.KEY_NAME));
    description.setText(song.get(MainActivity.KEY_DESCRIPTION));
    Status.setText(song.get(MainActivity.KEY_OFFLINE));
    duration.setText(song.get(MainActivity.KEY_ID));
    imageLoader.DisplayImage(song.get(MainActivity.KEY_THUMB_URL), thumb_image);
    return vi;
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T13:10:59.403

像这样更改 Lazy Adapter 类中的方法.. 将获得所需的结果

```
 public Object getItem(int position) {
    return data.get(position);
} 
```

并像这样更改 ONItemClickListner ...

```
lv.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> Parent, View view, int Position,
                long Id) {
            // TODO Auto-generated method stub
            @SuppressWarnings("unchecked")
            HashMap<String, String> o = (HashMap<String, String>) lv.getItemAtPosition(Position);
            Intent i = new Intent ("com.fedorvlasov.lazylist.SHOWLARGE");
            i.putExtra("ID",o.get(KEY_ID));
            i.putExtra("NAME", o.get(KEY_NAME)); 
            startActivity(i); 
```

这会将与列表视图中的位置相关联的值传递给另一个活动... :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-27T12:15:19.497

通常您可以为此目的使用视图[标签。](http://developer.android.com/reference/android/view/View.html#getTag%28int%29)

`view.setTag('KEY_NAME', key_name_obj)`

`view.getTag('KEY_NAME')`

# python - 如何在python的循环中迭代mongo游标

> ID：11390427
> 
> 赞同：7
> 
> 时间：2012-07-09T07:06:26.293
> 
> 标签：python, mongodb, pymongo

我正在尝试遍历 python 中的循环，但嵌套循环没有到达增量元素。

除了使用`range`“hasNext()”之外还有什么方法吗？

```
cursor1 = Collection.find({x : {"$gt" : 1}})
array1 = []
array2 = []
print Collection.count()

for r in range(0, cursor1.count()):
    first = cursor1.next().get("entity")
    array2.append()

    for z in range(len(array2)):
        print len(original_tweets)
        if originalEntity.get("id") != duplicated_entity("id"):
            array2.append(second) 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-07-09T07:12:04.877

就像你自然会遍历光标对象一样迭代，我看不出你会想要使用`range`and迭代它`.next()`。

```
cursor1= Collection.find({x : {"$gt" : 1}})
for record in cursor1:
    # do stuff with your record 
```

# java - 在属性文件中动态加载属性值

> ID：11390428
> 
> 赞同：0
> 
> 时间：2012-07-09T07:06:28.167
> 
> 标签：java, log4j

我在我的 spring+struts+hibernate 应用程序中使用 log4j。它运行良好，但唯一的问题是日志文件存储在特定路径中。有没有办法动态更改日志文件的路径。我想要日志要在服务器路径上生成的文件。

这是用于 log4j 的属性文件

```
# Direct log messages to a log file
log4j.appender.file=org.apache.log4j.RollingFileAppender
**log4j.appender.file.File=C:\\loging.log**
log4j.appender.file.MaxFileSize=1MB
log4j.appender.file.MaxBackupIndex=1
log4j.appender.file.layout=org.apache.log4j.PatternLayout
log4j.appender.file.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n

# Direct log messages to stdout
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.Target=System.out
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n

# Root logger option
log4j.rootLogger=debug, file, stdout 
```

我想在这里动态加载服务器路径* *log4j.appender.file.File=server path* *.

任何的想法？。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:13:33.797

你必须改变 l`og4j.properties file`喜欢：`log4j.appender.appender_name.File = ${file.name}`并且在调用时的代码中`PropertyConfigurator.configure`，只需执行`System.setProperty("file.name","your path")`

[如何使用属性文件配置 log4j](https://stackoverflow.com/questions/2288876/how-to-configure-log4j-with-a-properties-file)

基本上你需要编写一个自定义记录器类，在其中调用上述方法。你可以参考上面的链接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T07:11:40.460

参考

[http://www.developer.com/java/ent/dynamically-configure-log4j-properties-in-a-clustered-environment.html](http://www.developer.com/java/ent/dynamically-configure-log4j-properties-in-a-clustered-environment.html)

[Log4j，将 Web 应用配置为使用相对路径](https://stackoverflow.com/questions/216781/log4j-configuring-a-web-app-to-use-a-relative-path)

# c# - 方法 'Open' 没有重载需要 1 个或多个参数

> ID：11390429
> 
> 赞同：2
> 
> 时间：2012-07-09T07:06:34.250
> 
> 标签：c#, mysql, excel, adox

我有一个关于 ADOX 的错误，我不知道如何解决。

```
enter code here public static string[] GetTableExcel(string strFileName)
        {
            string[] strTables = new string[100];
            Catalog sCatalog = new Catalog();
            ADOX.Table sTable = new ADOX.Table();
            MySql.Data.MySqlClient.MySqlConnection sConn = new MySql.Data.MySqlClient.MySqlConnection();
            sConn.Open("server=localhost; Data Source = " + strFileName + ";user id=root;Password=1;database=test;persist security info=False");
            sCatalog.ActiveConnection = sConn;
            if (sCatalog.Tables.Count > 0)
            {
                int item = 0;
                foreach (ADOX.Table tab in sCatalog.Tables)
                {
                    if (tab.Type == "TABLE")
                    {
                        strTables[item] = tab.Name;
                        item++;
                    }
                }
            }
            return strTables; 
```

所述错误是“方法'Open'没有重载需要一个参数。这里有好心人能帮帮我吗？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T08:19:59.227

基本上在这一行：

```
 sConn.Open("server=localhost; Data Source = " + strFileName + ";user id=root;Password=1;database=test;persist security info=False"); 
```

您没有正确调用该函数。open 函数不接受连接字符串。

您应该在创建 MySqlConnection 实例时提供连接字符串，如下所示：

```
 MySql.Data.MySqlClient.MySqlConnection sConn = new MySql.Data.MySqlClient.MySqlConnection("server=localhost; Data Source = " + strFileName + ";user id=root;Password=1;database=test;persist security info=False"); 
```

然后你调用 open 函数如下：

```
 sConn.Open(); 
```

希望有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T08:26:11.543

MySql.Data.MySqlClient.MySqlConnection.Open(string connStr) 不可用，您应该调用

```
MySql.Data.MySqlClient.MySqlConnection sConn = new MySql.Data.MySqlClient.MySqlConnection("server=localhost; Data Source = " + strFileName + ";user id=root;Password=1;database=test;persist security info=False");
sConn.Open(); 
```

# php - SoapFault 异常：[HTTP] 错误请求

> ID：11390439
> 
> 赞同：0
> 
> 时间：2012-07-09T07:07:18.890
> 
> 标签：php, soap

嗨，我从 eway 令牌支付 api 集成中收到此错误。

SoapFault 异常：[HTTP] 错误请求

当我运行以下代码时，肥皂中的函数

```
var_dump($client->__getFunctions()); 
```

和功能列表是

```
array
  0 => string 'CreateCustomerResponse CreateCustomer(CreateCustomer $parameters)' (length=65)
  1 => string 'UpdateCustomerResponse UpdateCustomer(UpdateCustomer $parameters)' (length=65)
  2 => string 'QueryCustomerResponse QueryCustomer(QueryCustomer $parameters)' (length=62)
  3 => string 'QueryCustomerByReferenceResponse QueryCustomerByReference(QueryCustomerByReference $parameters)' (length=95)
  4 => string 'ProcessPaymentResponse ProcessPayment(ProcessPayment $parameters)' (length=65)
  5 => string 'ProcessPaymentWithCVNResponse ProcessPaymentWithCVN(ProcessPaymentWithCVN $parameters)' (length=86)
  6 => string 'ProcessPaymentWithBeagleResponse ProcessPaymentWithBeagle(ProcessPaymentWithBeagle $parameters)' (length=95)
  7 => string 'QueryPaymentResponse QueryPayment(QueryPayment $parameters)' (length=59)
  8 => string 'CreateCustomerResponse CreateCustomer(CreateCustomer $parameters)' (length=65)
  9 => string 'UpdateCustomerResponse UpdateCustomer(UpdateCustomer $parameters)' (length=65)
  10 => string 'QueryCustomerResponse QueryCustomer(QueryCustomer $parameters)' (length=62)
  11 => string 'QueryCustomerByReferenceResponse QueryCustomerByReference(QueryCustomerByReference $parameters)' (length=95)
  12 => string 'ProcessPaymentResponse ProcessPayment(ProcessPayment $parameters)' (length=65)
  13 => string 'ProcessPaymentWithCVNResponse ProcessPaymentWithCVN(ProcessPaymentWithCVN $parameters)' (length=86)
  14 => string 'ProcessPaymentWithBeagleResponse ProcessPaymentWithBeagle(ProcessPaymentWithBeagle $parameters)' (length=95)
  15 => string 'QueryPaymentResponse QueryPayment(QueryPayment $parameters)' (length=59) 
```

当我像这样调用函数时

```
$client->CreateCustomer($customerinfo); 
```

然后它给我错误 SoapFault 异常：[HTTP] 错误请求。

$customerinfo 是所有数据的数组。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T09:50:01.237

这可能与您在`$parameters`数组中传递的数据有关。确保您的数据是`SOAP`合规的，并且您的请求也是如此。`HTTP 400`发生，当 SOAP 处理器无法理解请求时。

编码在数据发送和接收中起主要作用。如果有效负载具有非 SOAP 编码部分，则可能会导致这种情况。如果您可以记录请求，`CreateCustomer()`则可以验证请求。

根据上面所说的进行故障排除，希望您能解决问题。如果您可以更清晰和详细地发布您的问题，这也会很有帮助

# mysql - 休眠自动增量

> ID：11390445
> 
> 赞同：1
> 
> 时间：2012-07-09T07:07:59.190
> 
> 标签：mysql, hibernate

我需要为表中的字段设置自动增量。

这是我的实体类：

```
@Entity
@Table(name = "UserLogin")
public class User implements Serializable {

private int id;
private String username;
private String password;
private String fname;
private String lname;
private String emailId;
private boolean loginperson;
private String manager;

@Id
@GeneratedValue
@Column(name = "empolyeeId")
public int getId() {
    return id;
}

public void setId(int id) {
    this.id = id;
}

@Column(name = "username", nullable = false)
public String getUsername() {
    return username;
}

public void setUsername(String username) {
    this.username = username;
}

@Column(name = "password", nullable = false)
public String getPassword() {
    return password;
}

public void setPassword(String password) {
    this.password = password;
}

@Column(name = "firstName", nullable = false)
public String getFname() {
    return fname;
}

public void setFname(String fname) {
    this.fname = fname;
}

@Column(name = "lastName", nullable = false)
public String getLname() {
    return lname;
}

public void setLname(String lname) {
    this.lname = lname;
}

@Column(name = "emailId", nullable = false)
public void setEmailId(String emailId) {
    this.emailId = emailId;
}

public void setManager(String manager) {
    this.manager = manager;
}

@Column(name = "loginperson", nullable = false)
public boolean isLoginperson() {
    return loginperson;
}

public void setLoginperson(boolean loginperson) {
    this.loginperson = loginperson;
}

@Column(name = "manager", nullable = false)
public String getManager() {
    return manager;
}

public String getEmailId() {
    return emailId;
} 
```

在这里，我无法为 id 字段设置 Generated 值。但它没有为 id 字段创建自动增量。

我试过了

```
@GeneratedValue(strategy=GenerationType.AUTO) 
```

和

```
@GeneratedValue(strategy=GenerationType.IDENTITY) 
```

但是该表没有在 mysql 数据库中创建。

我收到以下日志。

```
 ERROR: org.hibernate.tool.hbm2ddl.SchemaExport - Unsuccessful: create table UserLogin (empolyeeId integer generated by default as identity (start with 1), emailId varchar(255), firstName varchar(255) not null, lastName varchar(255) not null, loginperson bit not null, manager varchar(255) not null, password varchar(255) not null, username varchar(255) not null, primary key (empolyeeId))
    ERROR: org.hibernate.tool.hbm2ddl.SchemaExport - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'generated by default as identity (start with 1), emailId varchar(255), firstName' at line 1 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-09T07:21:51.037

尝试使用这些行作为您的 ID：

```
@Id
@GenericGenerator(name="gen",strategy="increment")
@GeneratedValue(generator="gen")
@Column(name = "ID", unique = true, nullable = false, precision = 15, scale = 0)
private Long id; 
```

最好使用 Long，但如果你坚持使用 int，只需将类型更改为 int。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-09T07:25:03.990

检查 persistence.xml 文件以了解数据库方言的设置并将其更改为：

```
<property name="hibernate.dialect" value="org.hibernate.dialect.MySQLDialect"/> 
```

并尝试。我有类似的问题，这解决了它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-09T07:29:29.343

```
@Id
@GeneratedValue(strategy=GenerationType.AUTO)
@Column(name = "empolyeeId")
private int id; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-10T12:57:02.977

最好的方法是首先在您的数据库中创建一个序列并将其分配给您的实体，如下所示 -

```
@Entity
@Table(name = "UserLogin")
@SequenceGenerator(name="loginSeq", sequenceName="SEQ_LOGIN", allocationSize=1)
public class User implements Serializable { 
```

然后使用此序列自动递增，如下所示 -

```
@Id
@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = "loginSeq")
@Column(name = "empolyeeId")
public int getId() {
 return id;
} 
```

# ruby-on-rails - 如何加快 Rails Asset Pipeline 预编译过程？

> ID：11390447
> 
> 赞同：65
> 
> 时间：2012-07-09T07:08:00.333
> 
> 标签：ruby-on-rails, asset-pipeline

有哪些方法可以加快 Rails Asset Pipeline 预编译过程？

* * *

## 回答 #1

> 赞同：81
> 
> 时间：2012-07-09T07:08:38.273

## 1\. Capistrano 部署加速

### (1) 使用 capistrano 内置任务 'deploy/assets' 进行部署。

Capistrano 有自己的内置任务“部署/资产”。它会自动为您完成任务。

您自己的手工任务之间的区别在于它只加载`assets`组来预编译资产，而不是整个环境。

`cd /home/apps/APP_NAME/releases/20120708184757 && bundle exec rake RAILS_ENV=production RAILS_GROUPS=assets assets:precompile`

### (2) 当资产没有改变时跳过预编译过程。

[https://gist.github.com/3072362](https://gist.github.com/3072362)

如果

*   应用程序/资产
*   库/资产
*   供应商/资产
*   Gemfile.lock
*   确认/路由.rb

被更改，它将重新编译资产。否则会跳过pecompile过程，节省大量时间。

## 2\. 谨慎使用@import。

### (1)避免`@import "compass";`直接使用。

当你

`@import "compass";`或`@import "compass/typography/links/link-colors";`在 SCSS 中。

但是`@import "compass/typography/links/link-colors";`比`@import "compass";`编译资产快 9 倍。

那是因为当`@import "compass";`它编译整个指南针资产时。不只是`link-colors`一部分。

### (2) 避免使用分部

在 SCSS 中，我们喜欢用它`partial`来组织我们的资产。

但前提是你需要共享变量，或者有必要的依赖，否则

```
//= require "reset"
//= require "base"
//= require "product" 
```

比

```
@import "reset";
@import "base";
@import "product"; 
```

## 3\. 不需要 .scss & .coffee 无缘无故

### (1) 避免使用 require_tree

当我们使用 Rails 生成器生成控制器时。Rails 也会生成这样的资产

*   产品.css.scss
*   product.js.coffee

并使用以下技术在 application.js 中安装资产：

```
//= require_tree 
```

但是只包含以下行的空资产（不输出任何内容）：

```
# Place all the behaviors and hooks related to the matching controller here.
# All this logic will automatically be available in application.js.
# You can use CoffeeScript in this file: http://jashkenas.github.com/coffee-script/ 
```

编译它们将花费您大约 250 毫秒。如果您有 10 个空资产，则为 2.5 秒。

从您的项目中删除它们，或将它们单独安装在 application.js 中，如下所示：

```
//= require prodcuts
//= require users
//= require albums 
```

### `css.scss`(2)如果`js.coffee`没有必要，请勿使用。

*   编译 jquery-ui-1.8.16.custom.css (0ms) (pid 19108)
*   编译 jquery.ui.1.8.16.ie.css (0ms) (pid 19108)
*   编译 jquery.js (5ms) (pid 19108)
*   编译 jquery_ujs.js (0ms) (pid 19108)
*   编译 custom.css (14ms) (pid 19108)

`custom.css`是`custom.css.scss`

编译纯 CSS 和纯 JS 很快（花费几乎 0 毫秒）。但是编译 .scss 和 .coffee 仍然需要一些时间。

## 总结

1.  替换 deploy.rb 资产任务。
2.  检查日志/production.log

    *   找到慢速资产
    *   删除@import“指南针”；使用替代解决方案。
    *   使用 require 代替 @import；（确实需要时使用@import）
    *   移除 require_tree，单独挂载资产
    *   删除空的 .scss 和 .coffeescript
    *   当资产是纯 CSS 时使用 .css。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-10-03T00:20:40.720

我刚刚在 Rails 中编写了一个 gem 来解决这个问题，称为[turbo-sprockets-rails3](https://github.com/ndbroadbent/turbo-sprockets-rails3)。它仅通过重新编译更改的文件来加快您`assets:precompile`的速度，并且只编译一次即可生成所有资产。

请注意，我也在尝试将此补丁合并到 Rails 4.0.0 和 Rails 3.2.9 中（请参阅[https://github.com/rails/sprockets-rails/pull/21](https://github.com/rails/sprockets-rails/pull/21)）。但是现在，如果您能帮助我测试[turbo-sprockets-rails3](https://github.com/ndbroadbent/turbo-sprockets-rails3) gem，如果您有任何问题，请告诉我。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-13T18:29:38.110

> > (2) 避免使用分部
> > 
> > 在 SCSS 中，我们喜欢使用 partial 来组织我们的资产

在最新的 railsconf 中引入了 libsass。

可能事情会改变并用 C 重写，scss partials 承诺会更快

# google-maps - 如果单击事件侦听器创建标记，Google Maps drag and dragend 事件侦听器将不起作用

> ID：11390453
> 
> 赞同：32
> 
> 时间：2012-07-09T07:08:38.053
> 
> 标签：google-maps, google-maps-api-3

只是一个试图学习的菜鸟，我遇到了一个问题，当我尝试使用单击事件创建标记时，拖动和拖动事件侦听器将不起作用。而在默认情况下创建这些工作。

这是我到目前为止所尝试的。

```
<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<title>Google Maps</title>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false">         </script>
<script type="text/javascript">
function initialize() {
var myLatlng = new google.maps.LatLng(22,79);
var myOptions = {
  zoom: 5,
  center: myLatlng,
  mapTypeId: google.maps.MapTypeId.ROADMAP,

}
var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

marker = new google.maps.Marker({
        position: myLatlng,
        map: map,
        title: 'Default Marker',
        draggable:true
});

google.maps.event.addListener(map,'click',function(event) {

        marker = new google.maps.Marker({
        position: event.latLng,
        map: map,
        title: 'Click Generated Marker',
        draggable:true
        });
    }
);

google.maps.event.addListener(
    marker,
    'drag',
    function(event) {
        document.getElementById('lat').value = this.position.lat();
        document.getElementById('lng').value = this.position.lng();
        //alert('drag');
    });

google.maps.event.addListener(marker,'dragend',function(event) {
        document.getElementById('lat').value = this.position.lat();
        document.getElementById('lng').value = this.position.lng();
        alert('Drag end');
    });

  }
</script>
</head>
<body onload="initialize()">
<div id="map_canvas" style="width:500px;height:500px;"></div>

Lat: <input type="text" id="lat"><br>
Lng: <input type="text" id="lng">

</body></html> 
```

* * *

## 回答 #1

> 赞同：64
> 
> 时间：2012-07-09T08:05:01.850

您可能想要做的是将事件侦听器中的引用从*this*更改为事件本身。

然后，您需要在创建新标记的同时为其添加单独的事件侦听器。我建议简单地使用一个函数来获取 latlng、标题和您需要的任何其他内容的输入参数。然后它会创建标记和所需的任何事件侦听器。

```
function initialize() {
    var myLatlng = new google.maps.LatLng(22,79);
    var myOptions = {
      zoom: 5,
      center: myLatlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    }

    var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

    addMarker(myLatlng, 'Default Marker', map);

    map.addListener('click',function(event) {
        addMarker(event.latLng, 'Click Generated Marker', map);
    );
}

function handleEvent(event) {
    document.getElementById('lat').value = event.latLng.lat();
    document.getElementById('lng').value = event.latLng.lng();
}

function addMarker(latlng,title,map) {
    var marker = new google.maps.Marker({
            position: latlng,
            map: map,
            title: title,
            draggable:true
    });

    marker.addListener('drag', handleEvent);
    marker.addListener('dragend', handleEvent);
} 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2014-11-27T12:03:18.737

```
var marker = new google.maps.Marker({
        position: latlng,
        map: map,
        zoom:25,
        title: title,
        draggable:true,
});
var infowindow = new google.maps.InfoWindow({
    content: info 
  });
infowindow.open(map,marker);

google.maps.event.addListener(marker,'drag',function(event) {
    document.getElementById('lat').value = event.latLng.lat();
    document.getElementById('lng').value = event.latLng.lng();
    var infowindow = new google.maps.InfoWindow({
        content: 'Latitude: ' + event.latLng.lat() + '<br>Longitude: ' + event.latLng.lng()
      });
    infowindow.open(map,marker);
});

google.maps.event.addListener(marker,'dragend',function(event) 
        {
    document.getElementById('lat').value =event.latLng.lat();
    document.getElementById('lng').value =event.latLng.lng();
    var infowindow = new google.maps.InfoWindow({
        content: 'Latitude: ' + event.latLng.lat() + '<br>Longitude:'+`event.latLng.lng()
      });
    infowindow.open(map,marker);
}); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-09T07:31:50.340

```
var map;
function initialize() {
  var myLatlng = new google.maps.LatLng(-25.363882,131.044922);
  var myOptions = {
    zoom: 4,
    center: myLatlng,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  }
  map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

  google.maps.event.addListener(map, 'click', function(event) {
    placeMarker(event.latLng);
  });
}

function placeMarker(location) {
  var marker = new google.maps.Marker({
      position: location,
      draggable:true,
      map: map
  });

  map.setCenter(location);
} 
```

尝试像这样创建标记。

# jquery - 使用引导日期选择器 - 如何进行所需的验证？

> ID：11390458
> 
> 赞同：0
> 
> 时间：2012-07-09T07:09:12.890
> 
> 标签：jquery, jquery-plugins, twitter-bootstrap

我正在为日期选择器使用 Bootstrap 插件。它工作正常。我需要两种验证。第一个是必填字段验证，第二个指定日期不接受。有人可以帮忙吗？即使我是 j 查询的初学者。提前感谢您的帮助。

**jQuery代码：**

```
$(function () {
  window.prettyPrint && prettyPrint();
  $('#ContentSection_txtFromDate, #ContentSection_txtToDate').datepicker({
     format: 'mm-dd-yyyy'
 }); 
```

**aspx 代码**

```
 <div>
            <p>
                <asp:Label ID="lblEndingTimeStamp" runat="server" Text="<span>*</span> Ending Time Stamp"
                        AssociatedControlID="ddlEndingTimeStamp"></asp:Label>
                    <asp:DropDownList ID="ddlEndingTimeStamp" runat="server">
                        <asp:ListItem Value="0">23:59:59</asp:ListItem>
                    </asp:DropDownList>
                </p>
                <p>
                    <asp:Label ID="lblToDate" runat="server" Text="<span>*</span> To Date" AssociatedControlID="txtToDate"></asp:Label><asp:TextBox
                        ID="txtToDate" runat="server" value="MM/DD/YYYY" onfocus="if(this.value == 'MM/DD/YYYY')this.value='';"
                        onblur="if(this.value =='')this.value='MM/DD/YYYY';"></asp:TextBox></p>

            </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T17:28:01.473

假设您正在执行某种类型的表单提交，假设`trip-picker`为`<form>`id，以下将捕获未填充的字段和无效的日期组合：

```
$('#trip-picker').submit(function() {
  var fromDate = $('#ContentSection_txtFromDate').val(),
      toDate = $('#ContentSection_txtFromDate').val();

  if (!fromDate || !toDate) {
    alert("both dates required!");
    return false;
  } else if (Date.parse(fromDate) > Date.parse(toDate)) {
    alert("departure date must precede return date!");
    return false;
  }

}); 
```

# xml - 循环遍历变量值

> ID：11390476
> 
> 赞同：0
> 
> 时间：2012-07-09T07:11:11.807
> 
> 标签：xml, xslt

我有一个看起来像这样的 atm 的 XSLT：

```
<xsl:template match="Root">           
<xsl:for-each select="Worksheettype[@name='DubieuzeDebiteurenApp']">
  <xsl:for-each select="Types/Sub/*">        
    <xsl:for-each select="./*">
      <xsl:value-of select="ancestor::Worksheettype/@TypeId"/> ; <xsl:value-of select="local-name(parent::*)"/> ; <xsl:value-of select="local-name()"/>
      <xsl:text>&#xa;</xsl:text>
    </xsl:for-each>        
  </xsl:for-each>
</xsl:for-each>

<xsl:for-each select="Worksheettype[@name='VoorzieningenApp']">
  <xsl:for-each select="Types/Sub/*">
    <xsl:for-each select="./*">
      <xsl:value-of select="ancestor::Worksheettype/@TypeId"/> ; <xsl:value-of select="local-name(parent::*)"/> ; <xsl:value-of select="local-name()"/>
      <xsl:text>&#xa;</xsl:text>
    </xsl:for-each>
  </xsl:for-each>
</xsl:for-each>

<xsl:for-each select="Worksheettype[@name='RisicoKapitaalApp']">
  <xsl:for-each select="Types/Sub/*">
    <xsl:for-each select="./*">
      <xsl:value-of select="ancestor::Worksheettype/@TypeId"/> ; <xsl:value-of select="local-name(parent::*)"/> ; <xsl:value-of select="local-name()"/>
      <xsl:text>&#xa;</xsl:text>
    </xsl:for-each>
  </xsl:for-each>
</xsl:for-each>
</xsl:template> 
```

它工作正常，但正如您所见，我有 3 个相同的代码块，但每个代码块在 for-each 语句中都有不同的选择参数。

我想创建一个变量，我可以在其中存储 3 个选择参数并简单地遍历它们，这样我就可以将我的代码减少到只有 1 个块。

我试过创建一个变量，但它总是失败......

任何帮助深表感谢 ：）

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T08:00:33.613

您可以在此处使用命名模板，并将工作表名称作为参数传入

```
<xsl:template name="Worksheettype">
   <xsl:param name="typeName" />
   <xsl:for-each select="Worksheettype[@name=$typeName]"> 
        <!-- Remaining code -->
   </xsl:for-each>
</xsl:template> 
```

然后你会这样称呼它

```
<xsl:call-template name="Worksheettype">
   <xsl:with-param name="typeName" select="'DubieuzeDebiteurenApp'" />
</xsl:call-template>

<xsl:call-template name="Worksheettype">
   <xsl:with-param name="typeName" select="'VoorzieningenApp'" />
</xsl:call-template>

<xsl:call-template name="Worksheettype">
   <xsl:with-param name="typeName" select="'RisicoKapitaalApp'" />
</xsl:call-template> 
```

另一种方法是使用模板匹配。首先创建一个与 Worksheettype 匹配的模板，像这样

```
<xsl:template match="Worksheettype">
    <xsl:for-each select="Types/Sub/*">
        <!-- Remaining code -->
    </xsl:for-each>
</xsl:template> 
```

然后，您将为每个属性类型应用相关模板

```
<xsl:apply-templates select="Worksheettype[@type='DubieuzeDebiteurenApp']" />

<xsl:apply-templates select="Worksheettype[@type='VoorzieningenApp']" />

<xsl:apply-templates select="Worksheettype[@type='RisicoKapitaalApp']" /> 
```

这种方法可能更符合 XSLT 的精神，并且会删除一个 xsl:for-each 的使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T08:53:29.550

Fbo，您尚未指定您使用的 XSLT 版本。

## XSLT 2.0 解决方案

如果您可以使用 XSLT 2.0，那么到目前为止最简单的解决方案是使用 XPATH 逗号 (,) 运算符，它看起来像这样......

```
<xsl:for-each select="Worksheettype[@name='DubieuzeDebiteurenApp'],
                      Worksheettype[@name='VoorzieningenApp'],
                      Worksheettype[@name='RisicoKapitaalApp']">
  <xsl:for-each select="Types/Sub/*">        
    <xsl:for-each select="./*">
      ... banana banana banana etc.       
  </xsl:for-each>
</xsl:for-each> 
```

逗号运算符保留显示的迭代顺序（DubieuzeDebiteurenApp 在 VoorzieningenApp 之前）。

## 条件 XSLT 1.0 解决方案

如果碰巧您不关心迭代顺序（DubieuzeDebiteurenApp 在 VoorzieningenApp 之前），或者您的问题中的顺序已经是文档顺序，那么 XSLT 1.0 中最简单的解决方案将是这样的。

```
<xsl:for-each select="Worksheettype[ (@name='DubieuzeDebiteurenApp') or
                                     (@name='VoorzieningenApp')
                                     (@name='RisicoKapitaalApp')]"> 
```

...或等效地在 XSLT 2.0 ...

```
<xsl:for-each select="Worksheettype[ @name in
    ('DubieuzeDebiteurenApp','VoorzieningenApp','RisicoKapitaalApp')]"> 
```

## 后备 XSLT 1.0 解决方案

如果您被 XSLT 1.0 卡住，并且上述特殊条件不适用，那么使用命名或其他的模板和 3 xsl:apply-templates 作为 Tim C 的解决方案。（恭喜蒂姆第一个正确的帖子）。

# php - 使用 imagepng 上传 Facebook API 照片

> ID：11390477
> 
> 赞同：0
> 
> 时间：2012-07-09T07:11:17.350
> 
> 标签：php, facebook, facebook-php-sdk, photo-upload

我在 Facebook 上有一个测验应用程序。它会在测验结束时将照片上传到用户的照片。

```
$photo_upload = $facebook->api('/me/photos', 'POST', array(
                                                'source' => '@' . './images/userimg.png',
                                                'message' => $message,
                                                )
                                            ); 
```

但这是一个示例图像，每个人都一样。我想通过在图像上写下用户的名字来使其个人化。**create-img.php 的**一部分：

```
try {
    $user_profile = $facebook->api('/me');
}
catch (FacebookApiException $e) {
            error_log($e);
            $user_id = null; }

$username = iconv("UTF-8", "ISO-8859-2", $user_profile['name']);

$text = iconv("ISO-8859-2", "UTF-8", "Hello ". $username);

...

header('Content-type: image/png') ;

            ImagePNG($image) ;

            ImageDestroy($image) ;

            imagepng($image, "./images/imgs_to_post/sample_userimg.png");

            exit ; 
```

它可以包含在 HTML 中，工作正常，图像与用户名一起显示。

```
<img src="create-img.php" alt="" /> 
```

但是，当我尝试将 create-img.php 作为上述 API 调用中的源时，出现错误。

```
Fatal error: Uncaught OAuthException: (#1) An unknown error occurred thrown in /home/mmdesign/public_html/.../php-sdk/base_facebook.php on line 1128 
```

**如何将 API 调用中 imagepng 的结果图像作为源？**

先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T11:14:47.397

> 但是，当我尝试将 create-img.php 作为上述 API 调用中的源时，出现错误。

当然，因为该文件包含 PHP 代码，而不是图像数据。（如果您认为此时 PHP 代码已被*解析*，那您就错了。）

首先将图像写入 HDD，然后向 API 提供该图像的路径。

# php - 在 jQuery/HTML/Ajax 中使用 PHP 会话

> ID：11390482
> 
> 赞同：0
> 
> 时间：2012-07-09T07:11:35.523
> 
> 标签：php, jquery, html, ajax, session

成功登录尝试后，我的 php 脚本将启动如下会话：

```
 session_set_cookie_params(1800,'/','www.mydomain.com',true);
    session_start();
    header("location:mainpage.html"); 
```

现在我的问题是：

*   如何将我的用户 ID 保存到我的会话中以供进一步使用？
*   添加这 3 个代码片段是否足以让我的会话在 jQuery Mobile 页面中保持活跃：

我的会话.php：

```
 <?php
     session_set_cookie_params(1800,'/','www.mydomain.com',true);
     session_start();
     ?> 
```

mainpage.html 中的某处：

```
 function getHttpRequestObj()
    {
        if (window.XMLHttpRequest)
        {// code for IE7+, Firefox, Chrome, Opera, Safari
            return new XMLHttpRequest();
        }
        else
        {// code for IE6, IE5
            return new ActiveXObject("Microsoft.XMLHTTP");
        }
    }

    function callSession(id)
    {
    var xmlhttp = getHttpRequestObj();
    xmlhttp.onreadystatechange=function()
      {
      if (xmlhttp.readyState==4 && xmlhttp.status==200)
        {
        document.getElementById(id).innerHTML=xmlhttp.responseText;
        }
      }
    xmlhttp.open("GET","mysession.php",true);
    xmlhttp.send();
    } 
```

然后在 mainpage.html 中最外面的 div (name='main')

```
 $(document).ready(function() {
callSession('main');
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T09:31:10.510

通过在我的 mainpage.html 顶部添加以下代码并将其重命名为 mainpage.php 解决了问题

```
<?php
session_start();
$id = $_SESSION['id'];
?> 
```

现在我可以通过执行从任何地方访问我的用户 ID

```
<? echo $id ?> 
```

# eclipse - eclipse中的树项目结构

> ID：11390485
> 
> 赞同：1
> 
> 时间：2012-07-09T07:11:49.237
> 
> 标签：eclipse, project-structure

我不喜欢 eclipse 为我提供的非树结构（点分隔符而不是分支）。是否有一些插件可以让它看起来更像网豆或视觉工作室？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T07:23:07.297

好吧，我认为您的意思是包和类组织。

转到“查看菜单”（Ctrl-F10），包演示并将其从平面更改为分层

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-09T07:24:44.957

单击包资源管理器视图（查看菜单）右上角的白色小三角形，然后选择“包演示 - 分层”。

# silverlight - 从 silverlight5 中的隔离存储中获取 dll 时出现 UnhandledException

> ID：11390491
> 
> 赞同：0
> 
> 时间：2012-07-09T07:12:07.457
> 
> 标签：silverlight, silverlight-5.0

我正在尝试开发一个 Silverlight 应用程序，该应用程序将从隔离存储中保存和检索 dll。
例如，如果独立存储中不存在 System.Drawing.dll，我已将其下载并保存到独立存储中。但如果它存在于独立存储中，我会尝试从独立存储中获取该 dll，然后创建该 System.Drawing 的对象以在捕获的图像上绘制一个矩形。但问题是在获取该 dll 后它将返回以下错误。

```
[Window Title]
Visual Studio Just-In-Time Debugger

[Main Instruction]
An unhandled exception ('Unhandled Error in Silverlight Application 
Code: 4004    
Category: ManagedRuntimeError       
Message: System.TypeLoadException: Could not load type 'System.Runtime.CompilerServices.DependencyAttribute' from assembly 'mscorlib, Version=5.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e'.
at System.ModuleHandle.ResolveType(RuntimeModule module, Int32 typeToken, IntPtr* typeInstArgs, Int32 typeInstCount, IntPtr* methodInstArgs, Int32 methodInstCount, ObjectHandleOnStack type)
at System.ModuleHandle.ResolveTypeHandleInternal(RuntimeModule module, Int32 typeToken, RuntimeTypeHandle[] typeInstantiationContext, RuntimeTypeHandle[] methodInstantiationContext)
at System.Reflection.RuntimeModule.ResolveType(Int32 metadataToken, Type[] genericTypeArguments, Type[] genericMethodArguments)
at System.Reflection.CustomAttribute.FilterCustomAttributeRecord(CustomAttributeRecord caRecord, MetadataImport scope, Assembly& lastAptcaOkAssembly, RuntimeModule decoratedModule, MetadataToken decoratedToken, RuntimeType attributeFilterType, Boolean mustBeInheritable, Object[] attributes, IList derivedAttributes, RuntimeType& attributeType, IRuntimeMethodInfo& ctor, Boolean& ctorHasParameters, Boolean& isVarArg)
at System.Reflection.CustomAttribute.GetCustomAttributes(RuntimeModule decoratedModule, Int32 decoratedMetadataToken, Int32 pcaCount, RuntimeType attributeFilterType, Boolean mustBeInheritable, IList derivedAttributes, Boolean isDecoratedTargetSecurityTransparent)
at System.Reflection.CustomAttribute.GetCustomAttributes(RuntimeModule decoratedModule, Int32 decoratedMetadataToken, Int32 pcaCount, RuntimeType attributeFilterType, Boolean isDecoratedTargetSecurityTransparent)
at System.Reflection.CustomAttribute.GetCustomAttributes(RuntimeAssembly assembly, RuntimeType caType)
at System.Reflection.RuntimeAssembly.GetCustomAttributes(Type attributeType, Boolean inherit)
at System.Attribute.GetCustomAttributes(Assembly element, Type attributeType, Boolean inherit)
at MS.Internal.XamlSchemaContext.ProcessXmlnsDefinitions(Assembly assembly, String assemblyName)
at MS.Internal.XamlSchemaContext.EnsureManagedAssemblyAttributesLoaded()     
') occurred in iexplore.exe [3892].

The Just-In-Time debugger was launched without necessary security permissions. To debug this process, the Just-In-Time debugger must be run as an Administrator. Would you like to debug this process?

[V] View process details  [Yes, debug iexplore.exe] [No, cancel debugging]

[Expanded Information]
Process Name: C:\Program Files\Internet Explorer\iexplore.exe 
```

请让我知道此错误的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T13:11:59.027

据我所知，无论 DLL 是否位于独立存储中，都无法从 Silverlight 引用 .NET 程序集。在 Silverlight 应用程序中，您应该只能引用 Silverlight DLL:s，或者，如果您在 SL 5 中使用 P/Invoke 功能，则只能引用非托管 DLL:s。

如果要在捕获的（位图）图像中绘制矩形，则可以下载并引用第三方库[writablebitmapex](http://writeablebitmapex.codeplex.com/)并使用该库中的一种矩形绘制方法。*writeablebitmapex*库可用于 Silverlight 和 WP7 应用程序以及 WPF 和 Metro 应用程序。

您应该能够执行类似的操作：

```
var captImg = new BitmapImage(new Uri("capturedimage.jpg", UriKind.Relative));
var editCaptImg = new WriteableBitmap(captImg);

// Draw rectangle starting at (5,5), 100 px wide, 150 px high and color red
editCaptImg.DrawRectangle(5, 5, 100, 150, Colors.Red); 
```

# emacs - 基于顶级s-expression关键字的字体锁定

> ID：11390496
> 
> 赞同：2
> 
> 时间：2012-07-09T07:12:50.953
> 
> 标签：emacs, elisp, font-lock

我正在为支持两种略有不同的编程语言的编程环境编写 emacs 主要模式。两者都是 lisps（一个是 Scheme），所以都使用 s 表达式。这两种语言的区别在于它们的函数定义关键字：scheme 使用`define`，而另一种语言（称为 xtlang）使用`bind-func`

所以，在同一个缓冲区中，我有

```
(define foo        ; this is scheme
   (lambda (a)
      (+ scheme-fn a))

(bind-func bar     ; this is xtlang
   (lambda (b)
      (* xtlang-fn b)) 
```

我有字体锁定工作，使用类似的东西

```
(font-lock-add-keywords nil
                        '(("(\\(define\\)\\>"
                           (1 font-lock-keyword-face))
                          ("(\\(bind-func\\)\\>"
                           (1 font-lock-keyword-face))
                          ("\\<scheme-fn\\>"
                           (0 font-lock-function-name-face))
                          ("\\<xtlang-fn\\>"
                           (0 font-lock-function-name-face))
                          )) 
```

**我想做的是能够根据语言（方案/xtlang）对括号进行不同的着色。**

因此，如果顶层 defun 是 a `define`，则将表单中的所有括号着色为红色，如果它是 a ，则将其着色为蓝色`bind-func`，同时仍然像往常一样突出显示表单中的所有关键字/函数。

这可能需要多行字体锁定，因为`define`/`bind-func`可能位于要突出显示的关键字的前一行。 [该线程](https://stackoverflow.com/questions/9452615/emacs-is-there-a-clear-example-of-multi-line-font-locking)建议`font-lock-multiline`与 match-anchored in 结合使用`font-lock-keywords`可能是答案，但随后建议`font-lock-multiline`仅在多行方面是例外而不是规则的情况下使用。

我的另一个选择似乎是使用`syntax-propertize`，但我对它的工作原理有点困惑 - 文档有点稀疏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-17T14:54:43.193

处理此问题的最简单方法是利用以下事实：

> MATCHER 可以是要搜索的正则表达式，也可以是要调用以进行搜索的函数名（使用一个参数调用，即搜索的限制；

换句话说，您可以`"\\<scheme-fn\\>"`使用重复搜索正则表达式的函数替换正则表达式，如果*在正确的上下文*`re-search-forward`中找到匹配项则返回。

 *有关使用此技术的包的具体示例，请查看`cwarn-mode`，它是标准 Emacs 发行版的一部分。*

# php - 用php上传图片到数据库

> ID：11390497
> 
> 赞同：0
> 
> 时间：2012-07-09T07:13:10.333
> 
> 标签：php, mysql, image, forms, upload

首先！，我在网站上调查了很多关于这个标题的类似帖子：“Upload image to mysql using php”，但没有得到我的答案。
我正在编写一个 php 脚本来将图像从 html 表单发布到 mysql 数据库。请帮我修复它，因为它不起作用。tnx

* * *

## 这是html表单

```
<form name="main_form" action="main.php" method="post" enctype="multipart/form-data">
  <input type="text" name="title" >
  <input type="file" name="img" ><br/>
  <input type="text" name="body" >
  <input type="text" name="link" >
  <input type="text" name="linktext" >
  <input type="submit" value="submit">
</form> 
```

## 这是 main.php

```
if(isset($_POST['title'])){
  $sql="INSERT INTO main (title, img, body, link, linktext)
  VALUES
  ('$_POST[title]','','$_POST[body]','$_POST[link]','$_POST[linktext]')";
  if (!mysql_query($sql,$con)){
    die('Error: ' . mysql_error());}
  if ($_FILES['img']['tmp_name'] != ''){
    $image = addslashes(file_get_contents($_FILES['img']['tmp_name']));
    if ($image == ''){
      echo 'Image type not supported';
    } else {
      $query  = "UPDATE main SET img='$image' WHERE title='$title'";
      $result = mysql_query($query);
      var_dump($result);
      if ($result){
        echo 'Image scaled and uploaded';
      } else {
        echo 'Error running the query';}
    }
  }
  $alert='record inserted';
  echo '<script>alert("'.$alert.'");</script>';
}; 
```

* * *

数据库中的 img 的 type=BLOB 记录已成功插入数据库，但 img 字段 (BLOB) 中没有任何内容，并且始终为 0 字节。

```
var_dump($result); 
```

将显示：布尔值 false

我在显示屏上收到此消息：运行查询时出错

请帮忙！
谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:47:48.260

这是我的错！

很抱歉用这个问题向stackoverflow发送垃圾邮件。真的很抱歉。

我有两个连接到两个数据库。我有一个用户数据库和另一个主数据库。这页纸。错误起源于连接。我通过添加正确的连接字符串变量来更正查询，以便与主表所在的主数据库建立连接。

再次抱歉，非常感谢 Dagon 和 Spiritfyre

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-23T22:39:17.903

如果已回复，您可以删除帖子。虽然通过表单将图像添加到数据库还有第二个答案：

表单页面：

```
<form enctype="multipart/form-data" action="insert_image.php" method="post" name="changer">
<input name="image" accept="image/jpeg" type="file">
<input value="Submit" type="submit">
</form> 
```

插入数据库页面：

```
<?php

  include 'conf.php';

  if ($_FILES["image"]["error"] > 0)
  {
     echo "<font size = '5'><font color=\"#e31919\">Error: NO CHOSEN FILE <br />";
     echo"<p><font size = '5'><font color=\"#e31919\">INSERT TO DATABASE FAILED";
   }
   else
   {
     move_uploaded_file($_FILES["image"]["tmp_name"],"images/" . $_FILES["image"]["name"]);
     echo"<font size = '5'><font color=\"#0CF44A\">SAVED<br>";

     $file="images/".$_FILES["image"]["name"];
     $sql="INSERT INTO database_table (table_column_1, table_column_2) VALUES ('','$file')";

     if (!mysql_query($sql))
     {
        die('Error: ' . mysql_error());
     }
     echo "<font size = '5'><font color=\"#0CF44A\">SAVED TO DATABASE";

   }

   mysql_close();

?> 
```

# jsf - 翻译 Drools 生成的事实

> ID：11390498
> 
> 赞同：1
> 
> 时间：2012-07-09T07:13:25.040
> 
> 标签：jsf, translation, drools, drools-guvnor

首先：如果我的请求完全错误，请关闭它并指出我正确的方向。

我在 JSF 应用程序中使用 Drools（带有 Guvnor 创建的规则）来验证创建的对象。基本上，工作流程是：

1.  用户创建一个对象
2.  触发规则以检查此对象
3.  检查失败的规则在工作记忆中插入一个新的事实并带有一些消息，解释验证失败的原因
4.  事实从工作内存中提取并显示在 JSF 应用程序中

我的问题：翻译这些信息的最佳方式是什么？对于这种情况，是否有任何“最佳实践”？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T14:34:44.917

你是什​​么意思？翻译成不同的语言？您可以使用不同的属性文件并根据这些文件解析正确的文本，对吗？就像在您想要使用国际化 (I18N) 的每个应用程序中一样。干杯

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T16:52:00.133

您可以拥有一个带有消息 ID 的“用户消息”对象，并将其作为事实插入。在规则中，设置适当的消息 ID。在表示层中，将 id 映射到特定于语言环境的字符串表中的消息字符串。

# php - 从 wamp 服务器下载图像并使用 php 保存在我的文件夹中

> ID：11390501
> 
> 赞同：1
> 
> 时间：2012-07-09T07:13:28.337
> 
> 标签：php, image, download, save, directory

你好朋友我想将图像从我的 wamp 服务器保存到我在下面的代码中使用的特定 wamp 项目文件夹中，这段代码向我显示了保存图像的对话框，但我想从 wamp 服务器调用图像并将其保存在我的文件夹中

```
<?php 
    header('Content-type: image/png');
    $imageUrl = "http://ip/demo/images/itemimage/Platters.png";
    $filename = realpath(dirname("http://ip/demo/images/itemimage/Platters.png"))."/image1.png";
    $handle = file_get_contents($imageUrl); 
    file_put_contents($filename, $handle);

?> 
```

此代码不会自动将图像下载到我的文件夹中，任何人都可以帮助我吗？我用上面的代码得到了这个错误

![在此处输入图像描述](../Images/f0000ca9ce3f3e06001a9d88d94b1999.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:53:22.727

问题是您在脚本上做了两件事。您将图像设置为通过 php 脚本传递图像。

```
<?php 
    header('Content-type: image/png');
    echo file_get_contents("http://ip/demo/images/itemimage/Platters.png");
?> 
```

然后您应该获取图像并将带有回声的图像发送给用户。

当您想保存图像时，您只需要使用**file_get_contents**获取图像并将它们放入您的硬盘驱动器中即可。

我认为在您的示例中**缺少回声**这就是您收到错误的原因。您设置了网站的内容类型，但不提供任何 png 数据。

```
<?php 
    header('Content-type: image/png');
    $handle = file_get_contents("http://ip/demo/images/itemimage/Platters.png"); 
    file_put_contents(dirname(__FILE__).md5(time()), $handle);
    echo $handle;
?> 
```

**编辑：**尝试这样的事情。然后他应该将图像保存在同一路径中。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-09T07:43:46.617

单程：

```
exec("wget http://ip/demo/images/itemimage/Platters.png /tmp/demo/images/itemimage/Platters.png"); 
```

# ruby-on-rails - 大虾 - 表格单元格内的链接

> ID：11390505
> 
> 赞同：5
> 
> 时间：2012-07-09T07:13:33.743
> 
> 标签：ruby-on-rails, ruby, prawn

我正在尝试用 Prawn 生成 PDF。在我的 PDF 模板中，我有带有单元格的表格。在其中一个单元格中，我有一个电子邮件地址：

```
cell_email = pdf.make_cell(:content => booking.user_email, :border_width => 0) 
```

我想通过电子邮件链接到“mailto”链接。我知道我可以像这样链接：

```
pdf.formatted_text([{:text => booking.user_email, :link => "mailto: #{booking.user_email}"}]) 
```

然而，结合这两行（将格式化文本作为内容）不起作用：

```
cell_email = pdf.make_cell(:content => pdf.formatted_text([{:text => booking.user_email, :link => "mailto: #{booking.user_email}"}]), :border_width => 0) 
```

有什么想法可以解决这个问题（在表格单元格中创建一个电子邮件链接）？

亲切的问候和非常感谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-09T08:46:48.623

您可以`inline_format`为单元格指定并自己创建链接：

```
cell_email = pdf.make_cell(
  :content => "<link href='mailto:#{booking.user_email}'>#{booking.user_email}</link>",
  :inline_format => true
) 
```

您也可以`inline_format`为整个表指定：

```
table data, :cell_style => { :inline_format => true } 
```

大虾的`inline_format`支持`<b>`, `<i>`, `<u>`, `<strikethrough>`, `<sub>`, `<sup>`, `<font>`,`<color>`和`<link>`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-05-22T06:42:09.400

以下为链接加下划线并赋予其蓝色：

```
link = make_cell(content: "<color rgb='0000FF'> <u> <link href='https://stackoverflow.com/questions/11390505/prawn-links-inside-table-cells'> #{booking.user_email} </link></u> </color>", inline_format: true)

data = [[link]]

table(data,:header => true, :row_colors =>["F0F0F0","FFFFCC"]) do      
end 
```

# ios - ActionSheetPickerClass , iOS

> ID：11390507
> 
> 赞同：1
> 
> 时间：2012-07-09T07:13:42.050
> 
> 标签：ios, date, uipickerview, uiactionsheet

我正在使用这个类，[https://github.com/TimCinel/ActionSheetPicker](https://github.com/TimCinel/ActionSheetPicker)在我的应用程序中选择当前日期。问题是我还想用这样的选择器选择一个时间（小时和分钟）。任何人都可以帮我定制课程或知道任何其他可以做到这一点的课程吗？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:19:40.747

没用过，现在才看到源代码。但从这里：

```
 _actionSheetPicker = [[ActionSheetDatePicker alloc] initWithTitle:@"" datePickerMode:UIDatePickerModeDate selectedDate:self.selectedDate target:self action:@selector(dateWasSelected:element:) origin:sender]; 
```

您需要定义您的`datePickerMode:UIDatePickerModeDate`，因此您需要检查`UIDatePickerMode`接受的类型。所以：

```
typedef enum {
    UIDatePickerModeTime,           // Displays hour, minute, and optionally AM/PM designation depending on the locale setting (e.g. 6 | 53 | PM)
    UIDatePickerModeDate,           // Displays month, day, and year depending on the locale setting (e.g. November | 15 | 2007)
    UIDatePickerModeDateAndTime,    // Displays date, hour, minute, and optionally AM/PM designation depending on the locale setting (e.g. Wed Nov 15 | 6 | 53 | PM)
    UIDatePickerModeCountDownTimer  // Displays hour and minute (e.g. 1 | 53)
} UIDatePickerMode; 
```

选择你想要的。

# css - 自定义字体有时在 IE8 / IE7 中以斜体呈现

> ID：11390511
> 
> 赞同：6
> 
> 时间：2012-07-09T07:14:14.620
> 
> 标签：css, internet-explorer-8, internet-explorer-7, font-face, italic

在 IE7 和 IE8 中，当使用自定义 Web 字体时，文本有时会以斜体呈现，即使我明确设置了`font-style: normal`. 问题是零星的——它会渲染好几次，然后我刷新，一切都用斜体显示，然后我刷新，它又恢复正常了。

我正在使用这个`@font-face`声明：

```
@font-face {
    font-family: 'DIN';
    src: url('fonts/DINWeb.eot');
    src: url('fonts/DINWeb.eot?#iefix') format('embedded-opentype'),
         url('fonts/DINWeb.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}
@font-face {
    font-family: 'DIN';
    src: url('fonts/DINWeb-Bold.eot');
    src: url('fonts/DINWeb-Bold.eot?#iefix') format('embedded-opentype'),
         url('fonts/DINWeb-Bold.woff') format('woff');
    font-weight: bold;
    font-style: normal;
}
@font-face {
    font-family: 'DIN';
    src: url('fonts/DINWeb-Ita.eot');
    src: url('fonts/DINWeb-Ita.eot?#iefix') format('embedded-opentype'),
         url('fonts/DINWeb-Ita.woff') format('woff');
    font-weight: normal;
    font-style: italic;
}
@font-face {
    font-family: 'DIN';
    src: url('fonts/DINWeb-BoldIta.eot');
    src: url('fonts/DINWeb-BoldIta.eot?#iefix') format('embedded-opentype'),
         url('fonts/DINWeb-BoldIta.woff') format('woff');
    font-weight: bold;
    font-style: italic;
} 
```

对这篇[文章](http://paulirish.com/2010/font-face-gotchas/)[的评论](http://paulirish.com/2010/font-face-gotchas/#comment-111554)表明它可能与声明的顺序有关：但是唯一阻止问题的是完全删除斜体声明。`@font-face`

[另一个 Stack Overflow 答案](https://stackoverflow.com/a/11029236)建议使用 Font Squirrel @font-face 生成器；但是，我无法执行此操作，因为我使用的网络字体文件具有 DRM。

有没有办法在不完全删除斜体声明的情况下解决这个问题？

**更新：**经过进一步调查，这个问题似乎也影响了 IE8，而不仅仅是在兼容模式下。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-03T21:08:45.183

为您的每个`@font-face` `font-family`名称创建一个自定义名称。

例子：

```
@font-face {
    font-family: 'DINnormal';
    src: url('fonts/DINWeb.eot');
    src: url('fonts/DINWeb.eot?#iefix') format('embedded-opentype'),
         url('fonts/DINWeb.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}
@font-face {
    font-family: 'DINbold';
    src: url('fonts/DINWeb-Bold.eot');
    src: url('fonts/DINWeb-Bold.eot?#iefix') format('embedded-opentype'),
         url('fonts/DINWeb-Bold.woff') format('woff');
    font-weight: bold;
    font-style: normal;
}
@font-face {
    font-family: 'DINitalic';
    src: url('fonts/DINWeb-Ita.eot');
    src: url('fonts/DINWeb-Ita.eot?#iefix') format('embedded-opentype'),
         url('fonts/DINWeb-Ita.woff') format('woff');
    font-weight: normal;
    font-style: italic;
}
@font-face {
    font-family: 'DINboldItalic';
    src: url('fonts/DINWeb-BoldIta.eot');
    src: url('fonts/DINWeb-BoldIta.eot?#iefix') format('embedded-opentype'),
         url('fonts/DINWeb-BoldIta.woff') format('woff');
    font-weight: bold;
    font-style: italic;
} 
```

在定义了这些 CSS 规则之后，您可以包含特定的 CSS 规则：

```
li {
  font: 18px/27px 'DINnormal', Arial, sans-serif;
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-06T00:52:54.917

如果像我一样，您在使用 TypeKit 字体时遇到类似问题时遇到了这个问题，[TypeKit 博客中的这篇文章](http://blog.typekit.com/2011/06/27/new-from-typekit-variation-specific-font-family-names-in-ie-6-8/)解释了如何`font-family`为 TypeKit 字体的每个粗细和样式强制使用唯一名称来解决这个问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-06-04T08:51:25.710

我遇到了类似的问题，使用 IE8（Emulator）时，Web 字体以斜体显示，经过挖掘和挖掘，我发现一篇文章建议模拟器有时会产生误导，尤其是在涉及 webFonts 时，它建议尝试实际 IE8 中的站点，因为我使用的是 Windows 7 机器，所以我无法下载真实的东西，所以我使用了这个名为[http://www.browserstack.com/](http://www.browserstack.com/)的站点（没有测试人员或假浏览器。真实测试浏览器，包括 Internet Explorer 6、7、8、9、10 和 11。）

我注意到我的字体不再是斜体了：D

这是我阅读的文章的链接，

[http://blog.typekit.com/2013/03/14/the-dangers-of-cross-browser-testing-with-ie9s-browser-modes/](http://blog.typekit.com/2013/03/14/the-dangers-of-cross-browser-testing-with-ie9s-browser-modes/)

希望这对你们有帮助，如果我在研究时遇到这样的事情，它真的会为我节省几个小时

# ruby-on-rails - erb、haml 或 slim：你推荐哪一个？为什么？

> ID：11390512
> 
> 赞同：109
> 
> 时间：2012-07-09T07:14:19.230
> 
> 标签：ruby-on-rails, haml, erb, slim-lang

我正在学习 Rails，我已经看过这些模板引擎。我对他们没有经验（只有erb）。

但是作为一个初学者，我真的很困惑。你建议哪一个，为什么？Erb、Haml 还是 Slim？请说出您偏爱其中一个的原因。如果您有任何其他建议，请告诉我们。

编辑：我不是在这里寻找赢家。我只是想听听你对它们的看法，它们的语法、执行速度等等。

* * *

## 回答 #1

> 赞同：88
> 
> 时间：2012-07-13T07:35:14.070

使用 slim 优于 haml 的两大优势：

1.  Slim 目前比 haml 快 8 倍。

2.  Slim 支持 HTTP 流，而 HAML 不支持。

3.  Slim 有更自然的语法：`a href="foo.html"`

* * *

## 回答 #2

> 赞同：68
> 
> 时间：2012-07-09T07:17:44.253

ERB 很好，主要是如果您有一个可以处理纯 HTML 并且不知道 haml 或 slim 的网页设计师。这样他就可以编写 HTML，并且您可以使用适当的标签嵌入 ruby​​ 逻辑。

如果您同时使用 HTML 和 ruby​​ 逻辑，或者您的设计师准备学习新的东西（例如 HAML），我会选择 HAML。它对 ruby​​ 更加友好，比 ERB 减少了更多的字符数，并且更具可读性。

例如（取自[HAML 官方网站](http://haml.info/)）：

在 ERB 中，您的视图将如下所示：

```
<div id="profile">
  <div class="left column">
    <div id="date"><%= print_date %></div>
    <div id="address"><%= current_user.address %></div>
  </div>
  <div class="right column">
    <div id="email"><%= current_user.email %></div>
    <div id="bio"><%= current_user.bio %></div>
  </div>
</div> 
```

在 HAML 中，它看起来像这样：

```
#profile
  .left.column
    #date= print_date
    #address= current_user.address
  .right.column
    #email= current_user.email
    #bio= current_user.bio 
```

干净了很多！

至于 HAML 和 SLIM 之间的区别——我从来没有真正使用过 SLIM，但我想这是一个品味问题——看看这两种语法并决定哪个在你眼中看起来更好。我认为这两者（HAML / SLIM）之间没有明确的赢家。

* * *

## 回答 #3

> 赞同：36
> 
> 时间：2012-07-09T19:50:40.163

在我的脑海中，这就是我想出的

**再培训局**：

*优点*

*   默认开箱即用
*   不依赖于空白
*   最低的进入门槛（如果来自 HTML），因为它的 HTML 和 Ruby 代码散布在
*   大多数 IDE 的词法分析器默认读取它
*   DHH 更喜欢它
*   遗留应用程序可能仍在使用它

*缺点*

*   更详细
*   助手和视图中的 content_for 标记会很快失控
*   content_for 标签使嵌套标签更难，因为 erb 只返回块中的最后一行。所以你必须附加到一个字符串然后返回它。

**HAML**

*优点*

*   更简洁。没有结束标签，适合较小的屏幕
*   视觉上更干净的结构
*   已内置帮助程序（haml_concat、haml_capture）以在辅助方法中使用 haml
*   类链接
*   许多有用的语法糖，例如 # 用于 div 或 . 用于类链接，或 :javascript 用于 JS 标签

*缺点*

*   依赖于空格，这有时会导致一些硬错误
*   复杂的标签通常需要诉诸“散列”格式。（虽然我实际上认为这是一个很好的灵活性示例，但对于刚开始的人来说可能会很痛苦。）
*   添加为宝石（再次将其作为骗局可能有点牵强）
*   设计师可能会在调整时遇到一些麻烦
*   除了一般的空白警告...简单的空白错误，例如。用于缩进的制表符和空格会导致页面在生产中出错，而正常的规范/测试无法捕捉到。道德：预计对视图测试的需求更大，并且可能不要将 haml 用于关键任务视图，除非您确定您的测试正在测试视图的实际呈现。
*   比 erb 慢
    *   *警告：*这是我们正在讨论的 ruby​​ 代码，如果速度是您的应用程序中的一个阻塞问题，那么还有 ruby​​ 的替代品，例如 haskell

* * *

## 回答 #4

> 赞同：22
> 
> 时间：2013-04-08T13:23:46.193

对我来说，问题归结为您宁愿放在`%`每个标签`|`之前还是每个新文本块之前？

瘦：

```
 tag(attr= "value")
  | text 
```

哈姆尔：

```
 %tag{attr: "value"}
   text 
```

还有一件事要注意：haml 假定新行之间有一个空格（[删除 haml 中的空格](http://haml.info/docs/yardoc/file.REFERENCE.html#whitespace_removal__and_)），而 slim 假定没有空格（在[此处](https://github.com/slim-template/slim#output-)和[此处](https://github.com/slim-template/slim#verbatim-text-with-trailing-white-space-)在 Slim 中添加空格）

* * *

## 回答 #5

> 赞同：17
> 
> 时间：2013-01-10T05:58:33.147

[https://github.com/scalp42/hamlerbslim](https://github.com/scalp42/hamlerbslim) - 是一个独立的基准测试，显示 Slim 和 Erb 在性能方面是赢家（slim 也会减少 HTML 输出大小。）

我个人的看法是，总体而言，Slim 和 Haml 将在维护方面为您节省时间（== 金钱），前提是您有 Haml/Slim 精明的人来照顾您的意见。

如果你没有这些人，Erb 绝对是要走的路，因为尽管世界上最好的意愿，有很多非常便宜的人可以使用 HTML/Erb，但找到 Haml/Slim 一个完整的神秘。

最好的情况是，培训这些人使用 Slim 或至少让他们接触到它，并保留“得到它”的人的数量。

# iphone - iOS + FMDatabase：数据库打开，但无法查询

> ID：11390513
> 
> 赞同：1
> 
> 时间：2012-07-09T07:14:23.667
> 
> 标签：iphone, ios, sqlite

我正在使用[FMDatabase](https://github.com/ccgus/fmdb)（子类为单例）作为 SQLite3 数据库的包装器。我正在尝试在我的应用程序中编写一个功能，如有必要，可以通过无线方式更新数据库。更新后我设置`databaseSingleton = nil`，然后再次调用访问器以使用新数据库创建一个新的单例。由于某种原因，这会导致一些奇怪的行为。例如，如果我调用`[FMDatabase open]`它返回 TRUE，但是当我尝试查询它失败`[FMDatabase databaseExists]`并记录数据库未打开时。这实质上意味着数据库指针同时满足`if (db)`和`if (!db)`. 我尝试将对象记录到控制台，但它引发了访问错误，这让我相信它实际上并不存在。谁能想到可以这样做吗？或者更重要的是，这两个条件怎么可能为真？

# nginx - 第一次访问中的部分图像内容

> ID：11390515
> 
> 赞同：0
> 
> 时间：2012-07-09T07:14:31.247
> 
> 标签：nginx

我在不同的机器上有两台 nginx 服务器，它们提供相同的 cifs 共享，安装有相同的选项。服务器的文件是图像。

在其中一个服务器中，第一次访问图像文件时不会发送完整的图像。两个 nginx 服务器中的内容长度都是正确的。

比如发送第一个nginx的部分图片： [http ://www.alderia.com/32445166.jpg](http://www.alderia.com/32445166.jpg)

正确的图像发送第二个 nginx： [http ://www.alderia.com/32445166_2.jpg](http://www.alderia.com/32445166_2.jpg)

如果我重新加载（使用 shift+control+r）第一个图像，它可以加载。

# wix - 超链接和 Button_Click 在 Wix MBA 中不起作用

> ID：11390516
> 
> 赞同：1
> 
> 时间：2012-07-09T07:14:32.293
> 
> 标签：wix

我是 Wix 工具集的新手。我正在使用 v3.6 并使用 ManagedBootstrapperApplicationHost。在我的主题 .xml 文件中，其中一个页面如下所示 -

```
 <Page Name="Install">
<Text X="11" Y="121" Width="400" Height="17" FontId="3">#(loc.InstallLicenseLabel)</Text>
<Hyperlink Name="eula" X="11" Y="138" Width="75" Height="17" TabStop="yes" FontId="4" HoverFontId="4" SelectedFontId="4">#(loc.InstallLicenseTerms)</Hyperlink>
<Button Name="InstallButton" X="-91" Y="-11" Width="130" Height="23" TabStop="yes" FontId="0">#(loc.InstallAcceptAndInstallButton)</Button>
<Button Name="WelcomeCancelButton" X="-11" Y="-11" Width="75" Height="23" TabStop="yes" FontId="0">#(loc.InstallDeclineButton)</Button></Page> 
```

我的问题是我不知道在哪里添加超链接的参考源信息。它的所有属性都没有这个功能。同样，我无法将事件函数与按钮相关联。谁能帮帮我？？？

非常感谢提前...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T18:36:00.837

MSI 中关于 Hypelink 控制的MSDN[文章](http://msdn.microsoft.com/en-us/library/windows/desktop/dd407936%28v=vs.85%29.aspx)有一个例子：

```
<a href="http://www.blueyonderairlines.com">Blue Yonder Airlines</a> 
```

因此，在 WiX 中，您会编写如下内容：

```
<Hyperlink Name="eula"
           X="11" Y="138" Width="75" Height="17" TabStop="yes">
           &lt;a href=&quot;http://yoursite.com/&quot;&gt;Your Site&lt;/a&gt;
</Hyperlink> 
```

如果您愿意，还可以向控件添加一些描述性文本。

* * *

阅读WiX 教程的[控制您的控件](http://wix.tramontana.co.hu/tutorial/events-and-actions/control-your-controls)部分，了解如何将事件处理程序添加到按钮。

* * *

Windows Installer UI 和相应的 WiX 不是很灵活。然而，对于大多数安装人员来说已经足够了。

# android - 用户定义的服务是否注册到 Servicemanager？

> ID：11390521
> 
> 赞同：1
> 
> 时间：2012-07-09T07:14:58.837
> 
> 标签：android

众所周知，Android 服务（Java 或原生，例如媒体播放器服务）应该始终使用 addService() 或其他方式将自己添加到服务管理器（原生）。用户定义的 android.app.Service 是否以某种方式注册到服务管理器？如果是，它在源代码中的什么位置？如果不是，它是如何进行 RPC 的？提前致谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:18:23.043

要使用aidl 进行RPC，[这里](http://developer.android.com/guide/components/aidl.html)是aidl 的RPC 的完整示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T09:03:15.527

你可以在这里阅读：[https ://github.com/keesj/gomo/wiki/AndroidNativeBinder](https://github.com/keesj/gomo/wiki/AndroidNativeBinder)

# javascript - ajax实时更新系统操作进度

> ID：11390522
> 
> 赞同：0
> 
> 时间：2012-07-09T07:15:01.843
> 
> 标签：javascript, jquery, python, django

我正在为用于探测服务器上的一些活动的大型 Python 脚本编写基于 Web 的 GUI 界面。虽然应用程序本身重量很轻，但我使用 Django 创建 Web GUI，因为我可以重用许多已经内置的功能，例如用户管理等。

我有一个函数，它需要许多逻辑步骤、检查、文件复制。在原版程序中，我们使用日志文件来捕获所有状态。客户想要一个页面，该页面实时显示每个步骤的状态变化。

什么是正确的策略。采取了哪些步骤？进度条不是我需要的，它更像是一个实时的进度报告？您能否建议要采取的步骤或指向任何教程

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:42:47.090

您需要定期从浏览器轮询后端以查看是否有任何更新。这确实假设长时间运行的脚本是异步运行的。定期更新类似于日志文件尾部，有时您会检查是否已将新信息添加到日志中。

有几个现有的 jQuery 插件可以帮助您构建它；[jQuery 的 PeriodicalUpdater](http://www.360innovate.co.uk/blog/2009/03/periodicalupdater-for-jquery/)是一个不错的选择，如果服务器响应在一段时间内没有变化，它会调整轮询间隔。

基本上，使用这样的插件，您将需要一个 Django 视图来返回当前状态，可以说是您的进程的日志文件输出，并让 PeriodicalUpdater 轮询该视图。当然，在 PeriodicalUpdater 的回调函数中，您需要添加一个检查过程是否完成；也许您的服务器视图可能会在“日志”末尾以易于检测的“处理完成”行结束，或者返回*仅*包含最终状态的响应。

# mysql - mysql查询优化给定排序顺序和作为参数传递的id

> ID：11390523
> 
> 赞同：1
> 
> 时间：2012-07-09T07:15:08.317
> 
> 标签：mysql

我正在尝试优化此查询：

```
SELECT ob.id, obs.relation
FROM object_relation obs , object_table ob
WHERE obs.parent_id = 'ID_being_passed_as_parameter'
AND ob.id = obs.child_id        
AND ob.deleted_object_flag=0    
AND ob.id_prefix in ('prefix_variAble_passed')
ORDER BY  (SELECT m.value FROM metadata_table 
m WHERE ob.version_id=m.version_id AND m.name='SORTING_CONDITION' ) 
```

是否可以优化它？任何建议都会有很大帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:29:10.537

您的查询很糟糕，因为它正在`order by`为*每一*行执行子查询。

大多数子查询可以变成连接。这也是你应该做的，以及在你的主查询中使用连接：

```
SELECT ob.id, obs.relation
FROM object_relation obs 
join object_table ob 
    on ob.id = obs.child_id 
    AND ob.deleted_object_flag=0 
    AND ob.id_prefix in ('prefix_variable_passed')
left join metadata_table m 
    on ob.version_id = m.version_id
    AND m.name = 'SORTING_CONDITION'
WHERE obs.parent_id = 'ID_being_passed_as_parameter'
ORDER BY m.value; 
```

这种使用`left join`允许没有匹配的行，`metadata_table`但仍然出现在结果中。

还要注意将谓词移动到`on`连接的子句中，在那里它们可以*在行连接时应用，*而不是在最后，因为临时结果集尽可能小，所以效率更高。

# ios - Flex/Flash - 包含 iOS 资源

> ID：11390524
> 
> 赞同：0
> 
> 时间：2012-07-09T07:15:11.760
> 
> 标签：ios, flash, ipad, apache-flex, assets

所以，当导出到 iPad 时，终于让视网膜分辨率与 flashbuilder/flex 和 windows 一起工作，但现在我需要更多帮助。

我想将我们的旧产品组合移植到 iOS 上，以便在与新客户会面时随身携带。

编辑：好的，本地存储似乎需要做很多工作，所以我会将它们全部包含在一个巨大的 .ipa 文件中。

现在，我们的作品集包含很多视频。这应该是什么编解码器才能在 iPad 上的 Flash 应用程序中播放？

# android - 为 AlertDialog 按钮使用可绘制对象而不是文本

> ID：11390526
> 
> 赞同：4
> 
> 时间：2012-07-09T07:15:24.940
> 
> 标签：android

我正在尝试将 AlertDialog 的正、负和中性按钮设置为可绘制对象而不是文本。

到目前为止，我已经成功地使用了这个：

```
AlertDialog.Builder builder = new AlertDialog.Builder(this);
builder.setMessage("Are you sure you want to exit?")
.setPositiveButton("Save", new DialogInterface.OnClickListener() {...})
.setNeutralButton("Trash", new DialogInterface.OnClickListener() {...})
.setNegativeButton("Cancel", new DialogInterface.OnClickListener() {...});

AlertDialog alert = builder.create();
alert.show();

Button button0 = alert.getButton(AlertDialog.BUTTON_POSITIVE);
button0.setCompoundDrawablesWithIntrinsicBounds(this.getResources().getDrawable(R.drawable.ic_menu_save), null, null, null);
button0.setText("");

Button button1 = alert.getButton(AlertDialog.BUTTON_NEUTRAL);
button1.setCompoundDrawablesWithIntrinsicBounds(this.getResources().getDrawable(R.drawable.ic_menu_delete), null, null, null);
button1.setText("");

Button button2 = alert.getButton(AlertDialog.BUTTON_NEGATIVE);
button2.setCompoundDrawablesWithIntrinsicBounds(this.getResources().getDrawable(R.drawable.ic_menu_close_clear_cancel), null, null, null);
button2.setText(""); 
```

这是一种解决方法，因为我实际上只是在事后擦除文本。我的问题是，如果不设置某种文本，您似乎无法实例化按钮。

从一开始设置“[blank_space]”会产生相同的结果，图像被推到左边。在同一位置设置 null 或 "" 将绘制没有按钮的 AlertDialog。您可以在这里看到它如何在图片中向左推：

![图片](../Images/9c3b17e9f9693a1baa4c4ee47707d3fc.png)

无论如何只能使用图片吗？这比在我的简单情况下尝试处理翻译要好得多。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:25:49.153

从android文档，

```
setCompoundDrawablesWithIntrinsicBounds(Drawable left, Drawable top, Drawable right, Drawable bottom)
Sets the Drawables (if any) to appear to the left of, above, to the right of, and below the text. 
```

由于您将图像放在左侧，因此图像将显示在按钮的左侧。您可以尝试将其放在顶部/底部。

另一种方法是使用 3 个 ImageButtons 创建自定义布局，并将其设置为警报

```
builder.setView(customLayout); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T07:23:34.240

不推荐使用 AlertDialog。考虑改用 DialogFragments。您将拥有更多的控制和重用能力。[这](http://android-developers.blogspot.dk/2012/05/using-dialogfragments.html)是一个很好的谷歌博客，演示了如何使用和自定义它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-09T07:35:14.467

试试这个代码：

```
 LayoutInflater inflater=LayoutInflater.from(YourActivityName.this);
            View view=inflater.inflate(R.layout.buttton, null);
            AlertDialog.Builder builder=new AlertDialog.Builder(YourActivityName.this);
            builder.setView(view);
            builder.setTitle("Are you sure you want to exit?");
            Button posButton=(Button) view.findViewById(R.id.pos);
            Button neuButton=(Button) view.findViewById(R.id.neu);
            Button negButton=(Button) view.findViewById(R.id.neg);
            builder.create();
            builder.show(); 
```

膨胀按钮 xml 文件如下：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal" >

    <Button 
        android:id="@+id/pos"
        android:layout_width="0dp"
        android:layout_weight="1"
        android:layout_height="wrap_content"
        android:background="@drawable/ic_launcher"/>
     <Button 
        android:id="@+id/neu"
         android:layout_width="0dp"
        android:layout_weight="1"
        android:layout_height="wrap_content"
        android:background="@drawable/ic_launcher"/>
      <Button 
        android:id="@+id/neg"
         android:layout_width="0dp"
        android:layout_weight="1"
        android:layout_height="wrap_content"
        android:background="@drawable/ic_launcher"/>

</LinearLayout> 
```

最后，您可以为个人提供点击事件。希望这会对您有所帮助。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-09T07:22:19.590

您只需创建自己的自定义对话框！您可以`ImageButton`在布局中指定您的，然后使用该布局创建一个对话框，您无需靠近正面、负面和中性按钮。您可以在[这里](http://avianey.blogspot.com/2010/05/android-custom-dialog.html)找到一个很好的教程，只需在自定义布局中使用 ImageButton 而不是 Buttons。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-09T07:41:46.453

```
 CustomDialog dialog = new Dialog(MyActivity.this);
                    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);

                                        dialog.setContentView(R.layout.login);

                    final EditText editTextEmailAddress = (EditText) dialog
                            .findViewById(R.id.editTextEmailAddress);
                    final EditText editTextPassword = (EditText) dialog
                            .findViewById(R.id.editTextPassword);

                    TextView txtViewForgetPswd = (TextView) dialog
                            .findViewById(R.id.txtViewForgetPswd);

                    txtViewForgetPswd.setOnClickListener(new OnClickListener() {

                        @Override
                        public void onClick(View arg0) {
                            // TODO Auto-generated method stub
                            // RETRIVE PASSWORD
                            dialog.dismiss();
                        }
                    });

                    ImageButton imgBtnSubmit = (ImageButton) dialog
                            .findViewById(R.id.imgBtnSubmit);
                    imgBtnSubmit.setOnClickListener(new OnClickListener() {

                        @Override
                        public void onClick(View arg0) {
                            // CALL WEBSERVICE OR ASYNTASK TO LOG IN USER
                            String userName = editTextEmailAddress.getText()
                                    .toString();
                            String password = editTextPassword.getText().toString();

                            if (userName.equals("") && password.equals("")) {
                                Toast.makeText(BibleActivity.this,
                                        "Username or password cannot be empty.",
                                        Toast.LENGTH_SHORT).show();
                            } else {
                                                            }

                        }
                    });

                    ImageButton imgBtnCancel = (ImageButton) dialog
                            .findViewById(R.id.imgBtnCancel);
                    imgBtnCancel.setOnClickListener(new OnClickListener() {

                        @Override
                        public void onClick(View arg0) {
                            // CLOSE DIALOG HERE FROM CROSS BUTTON
                            dialog.dismiss();
                        }
                    });

                    ImageButton btnCancelCross = (ImageButton) dialog
                            .findViewById(R.id.btnCancelCross);
                    btnCancelCross.setOnClickListener(new OnClickListener() {

                        @Override
                        public void onClick(View arg0) {
                            // CLOSE DIALOG HERE FROM CROSS BUTTON
                            dialog.dismiss();
                        }
                    });
                    dialog.show(); 
```

////XML LAYOUT“登录”///

```
<RelativeLayout
    android:layout_width="fill_parent"
    android:layout_height="480dp"
    android:background="@drawable/mbc_login" >

    <FrameLayout
        android:layout_width="fill_parent"
        android:layout_height="45dp"
        android:layout_alignParentTop="true" >

        <ImageButton
            android:id="@+id/btnCancelCross"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="right|center_vertical"
            android:layout_marginRight="20dp"
            android:background="@drawable/cross" >
        </ImageButton>
    </FrameLayout>

    <TextView
        android:id="@+id/txtViewEmailLbl"
        android:layout_width="200dp"
        android:layout_height="20dp"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="50dp"
        android:text="Email address"
        android:textColor="#000000" >
    </TextView>

    <EditText
        android:id="@+id/editTextEmailAddress"
        android:layout_width="200dp"
        android:layout_height="50dp"
        android:layout_below="@+id/txtViewEmailLbl"
        android:layout_centerHorizontal="true"
        android:hint="example@eg.com"
        android:imeOptions="actionNext" >
    </EditText>

    <TextView
        android:id="@+id/txtViewPswdLbl"
        android:layout_width="200dp"
        android:layout_height="20dp"
        android:layout_below="@+id/editTextEmailAddress"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="10dp"
        android:text="Password"
        android:textColor="#000000" >
    </TextView>

    <EditText
        android:id="@+id/editTextPassword"
        android:layout_width="200dp"
        android:layout_height="50dp"
        android:layout_below="@+id/txtViewPswdLbl"
        android:layout_centerHorizontal="true"
        android:hint="password123"
        android:imeOptions="actionNext"
        android:inputType="textPassword" >
    </EditText>

    <TableRow
        android:id="@+id/tblRowSubmit"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/editTextPassword"
        android:layout_centerHorizontal="true"
        android:layout_margin="10dp" >

        <ImageButton
            android:id="@+id/imgBtnSubmit"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginRight="5dp"
            android:background="@drawable/btn_submit" >
        </ImageButton>

        <ImageButton
            android:id="@+id/imgBtnCancel"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="@drawable/btn_cancel" >
        </ImageButton>
    </TableRow>

    <TextView
        android:id="@+id/txtViewForgetPswd"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/tblRowSubmit"
        android:layout_centerHorizontal="true"
        android:layout_margin="5dp"
        android:text=" Forget Password ? "
        android:textColor="#306EFF"
        android:textStyle="italic" >
    </TextView>
</RelativeLayout> 
```

# c# - 在 VS 2012 RC 中打开现有项目

> ID：11390528
> 
> 赞同：0
> 
> 时间：2012-07-09T07:15:33.570
> 
> 标签：c#, xaml, windows-runtime, visual-studio-2012

我有一个在 VS 2012RC 中构建的项目，但是当我将项目压缩并将其传输到我的机器时，将其解压缩并尝试在我的机器中打开解决方案文件（.sln），该文件也由 VS 2012RC 组成，它会弹出就这样

“**此版本的 Visual Studio 仅支持 Windows Metro 风格的应用程序**”。

所以，我需要做什么才能在我的机器上打开项目，如果遗漏了什么，请告诉我，提前谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T09:03:31.373

Visual Studio 2012 有很多版本。对我来说，您使用的是 VS Express 版本，它仅支持 Metro 应用程序开发。就像@leppie 建议的那样，您可以安装 VS Ultimate 版本，它可以打开各种项目。

# php - 在浏览器中流式传输 WAV 文件而不允许下载

> ID：11390530
> 
> 赞同：1
> 
> 时间：2012-07-09T07:15:36.997
> 
> 标签：php, html, audio, wav

我正在寻找一种通过 Web 界面流式传输 WAV 文件而不使文件可下载的方法（或者至少在浏览器缓存中足够隐藏，最终用户无法轻易找到它们）。

这些文件是呼叫中心内的通话录音，因此由于法律要求，每次有人接听电话时我都需要记录。这意味着我必须确保他们不能轻易下载文件并在以后收听它而不记录它。

这些文件在服务器上为 g729 格式，但我可以轻松地将它们即时转换为 wav（或大多数其他音频格式）。

我已经查看了 HTML5 音频和一些基于 Flash 的播放器，但到目前为止还没有发现任何不公开文件 URL 的内容。

如果有人能指出我正确的方向，将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T08:59:28.690

我在上面发布我的评论作为 OP 要求的答案。

也许是一个牵强的解决方案，但这里有：

让他们收听来自同一个 PBX 的录音，给他们一个仅在一段时间内有效的密码，并在输入时播放特定的录音。

或者您可以让您的 PBX 点按，通过录音给他们回电。

如果我们谈论的是 Asterisk，这两种方法都易于实现，并且更安全（它还可以为您节省 g729 到 wav 的转换：）

（顺便说一句，我为 Asterisk Manager API 创建了一个 PHP 库，您可能会发现它很有用[。https://github.com/twmobius/Shift8](https://github.com/twmobius/Shift8)）

干杯安德鲁:)

# java - 快速排序。线程“主”java.lang.StackOverflowError 中的异常

> ID：11390536
> 
> 赞同：0
> 
> 时间：2012-07-09T07:15:56.563
> 
> 标签：java, file-io, stack-overflow, quicksort

再会！我这里有一个执行快速排序的 Java 程序。它读取一个文件，然后对其中的前 10,000 个单词进行排序。我遵循了 Thomas Cormen 在他的《算法导论》第二版中的伪代码。

```
import java.io.*;
import java.util.*;

public class SortingAnalysis {

    public static int partition(String[] A, int p, int r) {
        String x = A[r];
        int i = p-1;
        for (int j=p; j < r-1; j++) {
            int comparison = A[j].compareTo(x);
            if (comparison<=0) {
                i=i+1;
                A[i] = A[j];
            }       
        }
        A[i+1] = A[r];
        return i+1;
    }

    public static void quickSort(String[] a, int p, int r) {
        if (p < r) {
            int q = partition(a, p, r);
            quickSort(a, p, q-1);
            quickSort(a, q+1, r);
        }
    }

    public static void main(String[] args) {
        final int NO_OF_WORDS = 10000;
        try {
            Scanner file = new Scanner(new File(args[0]));
            String[] words = new String[NO_OF_WORDS];
            int i = 0;
            while(file.hasNext() && i < NO_OF_WORDS) {
                words[i] = file.next();
                i++;
            }
            long start = System.currentTimeMillis();
            quickSort(words, 0, words.length-1);
            long end = System.currentTimeMillis();
            System.out.println("Sorted Words: ");
            for(int j = 0; j < words.length; j++) {
                System.out.println(words[j]);
            }
            System.out.print("Running time: " + (end - start) + "ms");

        }
        catch(SecurityException securityException) {
            System.err.println("Error");
            System.exit(1);
        }
        catch(FileNotFoundException fileNotFoundException) {
            System.err.println("Error");
            System.exit(1);
        }
    }
} 
```

但是，当我运行代码时，控制台说
`Exception in thread "main" java.lang.StackOverflowError at SortingAnalysis.partition and quickSort`

我认为错误只是因为大尺寸（即 10000），所以我将其减少到 100。但是，它仍然不会对文件中的前 100 个单词进行排序，而是将第 100 个单词显示 100 次。
请帮我修复代码。我是 Java 新手，需要你们的帮助。非常感谢你！

**编辑：**我现在编辑了我的代码。即使达到10000，它现在也没有错误 `NO_OF_WORDS` 。问题是它停止了错误的序列。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:57:03.623

你有两个问题：

*   循环`partition()`应该运行到`j <= r - 1`，你早早跳出来了。

*   你不是在交换元素。试试下面的代码：

    ```
    public static int partition(String[] A, int p, int r) {
       String x = A[r];
       int i = p - 1;
       for (int j = p; j <= r - 1; j++) {
           int comparison = A[j].compareTo(x);
           if (comparison <= 0) {
               i = i + 1;
               swap(A, i, j);
           }
       }
       swap(A, i + 1, r);
       return i + 1;
    }

    public static void swap(String[] a, int i, int j) {
       String temp = a[i];
       a[i] = a[j];
       a[j] = temp;    
    } 
    ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T07:54:40.590

查看[维基百科的快速排序算法](http://en.wikipedia.org/wiki/Quicksort)，分区算法如下：

```
// left is the index of the leftmost element of the array
// right is the index of the rightmost element of the array (inclusive)
//   number of elements in subarray = right-left+1
function partition(array, 'left', 'right', 'pivotIndex')
  'pivotValue' := array['pivotIndex']
  swap array['pivotIndex'] and array['right']  // Move pivot to end
  'storeIndex' := 'left'
  for 'i' from 'left' to 'right' - 1  // left ≤ i < right
      if array['i'] < 'pivotValue'
          swap array['i'] and array['storeIndex']
          'storeIndex' := 'storeIndex' + 1
  swap array['storeIndex'] and array['right']  // Move pivot to its final place
  return 'storeIndex' 
```

在您的方法中，您不使用该`pivotIndex`值，而是基于`pivotValue`索引`right`。您需要将此参数添加到您的方法中。

按照 wiki 算法，它应该是这样的：

```
public static int partition(String[] A, int p, int r, int pivotIdx) {
    String x = A[pivotIdx];
    String tmp = A[pivotIdx];
    A[pivotIdx] = A[r];
    A[r]=tmp;
    int i = p;
    for (int j=p; j < r; j++) {
        int comparison = A[j].compareTo(x);
        if (comparison<=0) {
            tmp=A[i];
            A[i] = A[j];
            A[j]=tmp;
            i++;
        }       
    }
    tmp=A[i];
    A[i] = A[r];
    A[r]=tmp;
    return i;
} 
```

# javascript - 根据属性从数组中删除对象的最佳方法？

> ID：11390540
> 
> 赞同：0
> 
> 时间：2012-07-09T07:16:39.123
> 
> 标签：javascript

根据属性从数组中删除对象的最佳方法是什么？

`things = [{id:'23', color: 'blue'},{id:'54', color:'red'},{id:'132', color:'green'}]`

我知道`id`我需要删除的是`'54'`. 从数组中删除该对象的最佳过程是什么？结果应该是`things = [{id:'23', color: 'blue'},{id:'132', color:'green'}]`

我可以运行一个循环并查看 id，如果匹配则将其删除，但我正在寻找更好的方法。

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-09T07:18:46.907

使用过滤功能：

```
things = things.filter(function(val){return val.id!='54'}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T07:18:12.943

> 我可以运行一个循环并查看 id，如果匹配则将其删除，但我正在寻找更好的方法。

您可以使用该[`.filter()`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/filter)方法。

```
things = things.filter(function(item) { return item.id != '54'; }); 
```

如果您使用的是 jQuery，那么您正在寻找[`$.grep`](http://api.jquery.com/jQuery.grep/)方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T07:30:22.460

我认为你在正确的轨道上。随它去吧。`filter`到处都不支持。

或者，如果不`filter`支持，您应该创建一个后备。

来自[msdn的代码](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/filter)

```
if (!Array.prototype.filter) {
Array.prototype.filter = function (fun /*, thisp */) {
    "use strict";

    if (this === null)
        throw new TypeError();

    var t = Object(this);
    var len = t.length >>> 0;
    if (typeof fun !== "function")
        throw new TypeError();

    var res = [];
    var thisp = arguments[1];
    for (var i = 0; i < len; i++) {
        if (i in t) {
            var val = t[i]; // in case fun mutates this
            if (fun.call(thisp, val, i, t))
                res.push(val);
        }
    }

    return res;
    };
 }

things = things.filter(function(val){return val.id!='54'}); 
```

# android - 安装应用程序后 Titanium android 应用程序大小增加 - 如何修复？

> ID：11390542
> 
> 赞同：1
> 
> 时间：2012-07-09T07:16:55.240
> 
> 标签：android, installation, size, titanium

我正在使用 Titanium for iPhone 和 android 开发一个移动应用程序。Apk 文件大小约为 6MB。但安装后，在管理应用程序下检查显示应用程序大小为 12MB。

怎么会这样？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:30:02.027

首先，已安装应用程序的大小将始终大于 .apk 文件

其次，Titanium 的 apk 文件还包含将 JavaScript 解释为原生 Android 代码所需的运行时。

直到 1.8.0 版本，Titanium 用于将 V8 和 Rhino 运行时支持打包到 .apk 文件中。不确定是否在 1.8.0 之后停止了这种做法。

另一个方面是使用的图像文件的大小。确保使用 .png 文件，因为 .jpg 可以增加构建大小。

要进一步减小构建大小，请考虑使用 [Proguard](http://developer.android.com/tools/help/proguard.html)

# qt - 了解 Qt 中的屏幕坐标

> ID：11390544
> 
> 赞同：1
> 
> 时间：2012-07-09T07:17:23.510
> 
> 标签：qt, qt4

如何在运行时知道屏幕右侧底部的坐标？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T07:19:34.260

`const QRect QDesktopWidget::screenGeometry(int screen = -1) const`

[文档](https://qt-project.org/doc/qt-4.8/qdesktopwidget.html#screenGeometry)。

# ios - 上传到苹果推送证书端口时，Apple MDM Vendor 生成的 plist 文件无效

> ID：11390548
> 
> 赞同：1
> 
> 时间：2012-07-09T07:17:44.583
> 
> 标签：ios, apple-push-notifications, mdm

我通过[http://www.softhinker.com/in-the-news/iosmdmvendorcsrsigning](http://www.softhinker.com/in-the-news/iosmdmvendorcsrsigning)创建 plist 文件，但是当我将此 plist 文件发布到苹果推送证书端口时，它失败并报告为无效服务类型，服务类型无效 null ， 谁能帮我？非常感谢！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-06T07:19:50.610

您是否获得了供应商的证书和私钥？您应该上传 plist_encoded 文件，而不是 plist.xml 文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-23T17:22:21.337

几天前我正在处理完全相同的错误，令人惊讶的是，“ServiceType null”是此问题的唯一日志记录语句，干得好 Apple...

因此，您需要检查一些事项才能使其正常工作：

1.  确保您使用的帐户是企业帐户，并在首次购买时选中了 mdm 选项。
2.  在创建 mdm 证书时选择证书类型时，请确保您使用的是 Production 下的 MDM CSR，而不是 Development 下的“Apple Push Notification service SSL (sandbox)”或任何其他。
3.  也正如坤所说，使用encoded_plist，但如果你使用plist.xml，我想你会得到另一种类型的错误，说“无效的签名请求”

希望这有帮助，祝你好运。

# asp.net - 在 EPiServer 中的 TinyMCE 中允许自定义 HTML 属性

> ID：11390552
> 
> 赞同：5
> 
> 时间：2012-07-09T07:17:58.987
> 
> 标签：asp.net, tinymce, episerver

仅限 EPiServer：

我们的客户正在尝试将自定义属性添加到 TinyMCE 编辑器中的 div-tag - 他们切换到 HTML 模式，进行更改并保存页面。然后删除属性。像这样清洗 HTML 是 TinyMCE 的标准行为，并且可以将其配置为允许自定义标签属性。

我的问题是如何***在 EPiServer***中配置 TinyMCE以允许自定义 HTML 属性？我不知道在哪里可以挂钩 TinyMCE 的初始化。并且将 div 添加到 episerver.config 中的“安全”标签列表中也不起作用（请参阅 uiSafeHtmlTags）。

例子：

```
<div class="fb-like" data-href="http://oursite" data-send="false"></div> 
```

变得刚刚

```
<div class="fb-like"></div> 
```

从 TinyMCE 文档中，关于如何向标签添加自定义属性：[http ://www.tinymce.com/wiki.php/Configuration:extended_valid_elements](http://www.tinymce.com/wiki.php/Configuration:extended_valid_elements)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-09T16:28:54.993

我有这门课

```
using EPiServer.Editor.TinyMCE;

namespace SomeNamespace
{
    [TinyMCEPluginNonVisual(
        AlwaysEnabled = true, 
        EditorInitConfigurationOptions = "{ extended_valid_elements: 'iframe[src|frameborder=0|alt|title|width|height|align|name]' }")]
    public class ExtendedValidElements { }
} 
```

这在episerver.config中：

```
<episerver>
....
<tinyMCE mergedConfigurationProperties="valid_elements, extended_valid_elements, invalid_elements, valid_child_elements" />
</episerver> 
```

在最近的一个项目中。如果将 iframe 部分更改为 div[data-href|data-send]，它的工作方式应该相同。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-10T02:29:01.877

您有 2 个选项：

**第一的**

```
[TinyMCEPluginNonVisual(EditorInitConfigurationOptions = "{ extended_valid_elements: 'div[title|data-test]' }")] 
```

将允许`title`和`data-test`在 div 标签中。

`div[*]`将允许div 标签中的**所有**属性。

**第二**

*   让你的 TinyMCE 插件继承自 IDynamicConfigurationOptions
*   实现这样的功能：

    ```
    public IDictionary<string, object> GetConfigurationOptions(){
        var customSettings = new Dictionary<string, object>();
        customSettings.Add("extended_valid_elements", "div[*]");
        return customSettings;
    } 
    ```

无需在 .config 文件中配置任何内容（使用 EPiServer 的默认值，它们都可以）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-09T07:25:33.507

以下是此问题的一些有用链接

*   [http://www.kloojed.com/2010/05/customize-the-tiny-mce-editor-options-in-episerver-cms-6](http://www.kloojed.com/2010/05/customize-the-tiny-mce-editor-options-in-episerver-cms-6)
*   [http://krompaco.nu/2010/05/alter-default-initoptions-for-tinymce-in-episerver-6/](http://krompaco.nu/2010/05/alter-default-initoptions-for-tinymce-in-episerver-6/)
*   [http://world.episerver.com/Modules/Forum/Pages/thread.aspx?id=45795](http://world.episerver.com/Modules/Forum/Pages/thread.aspx?id=45795)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-11-19T15:17:31.980

以下对我有用：

```
[TinyMCEPluginNonVisual(AlwaysEnabled = true, EditorInitConfigurationOptions = "{ extended_valid_elements: 'div[*]' }", PlugInName = "ExtendedValidElements", ServerSideOnly = true)]
public class TinyMceExtendedValidElements
{
} 
```

配置没有变化。

# python - Processing XML in Python with ElementTree

> ID：11390556
> 
> 赞同：4
> 
> 时间：2012-07-09T07:18:06.390
> 
> 标签：python, xml, parsing, elementtree

I have a problem with ElementTree.iter().

So I tried this example in this link : [http://eli.thegreenplace.net/2012/03/15/processing-xml-in-python-with-elementtree/](http://eli.thegreenplace.net/2012/03/15/processing-xml-in-python-with-elementtree/)

So here's what I've tried:

```
import elementtree.ElementTree as ET
tree = ET.parse('XML_file.xml')
root = tree.getroot()
for elem in tree.iter():
    print elem.tag, elem.attrib 
```

And I get this error AttributeError: ElementTree instance has no attribute 'iter'

Additional info: The version of my Python is 2.4 I separately installed elementtree. Other examples in the link that I provide is working in my Python installed. Only the ElementTree.iter() is not working. Thanks in advance for all of your help. Cheers!

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-07-09T07:44:20.440

In your case, you should replace the `.iter()` by `.getiterator()`, and you possibly should call it for the `root` element, not for the tree (but I am not sure because I do not have the Python 2.4 and the module at my hands).

```
import elementtree.ElementTree as ET
tree = ET.parse('XML_file.xml')
root = tree.getroot()
for elem in root.getiterator():
    print elem.tag, elem.attrib 
```

This is the older functionality that was deprecated in Python 2.7\. For Python 2.7, the `.iter()` should work with the built-in module:

```
import xml.etree.ElementTree as ET
tree = ET.parse('XML_file.xml')
root = tree.getroot()
for elem in root.iter():
    print elem.tag, elem.attrib 
```

**A side note:** the standard module supports also direct iteration through the element node (i.e. no `.iter()` or whatever method called, just the `for elem in root:`). It differs from `.iter()` -- it goes only through the immediate descendant nodes. Similar functionality is implemented in the older versions as `.getchildren()`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T07:29:29.893

Try to use findall instead of iter. [ElementTree's iter() equivalent in Python2.6](https://stackoverflow.com/questions/7616800/elementtrees-iter-equivalent-in-python2-6)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T07:50:08.613

According to python document this API should be in 2.5, however it doesn't exist. You can use the below mentioned code for iteration. This way you can also pass the tag.

```
def iter(element, tag=None):
    if tag == "*":
        tag = None
    if tag is None or element.tag == tag:
        yield element
    for e in element._children:
        for e in e.iter(tag):
            yield e 
```

# c# - 选择 KeyValuePair 列表的值

> ID：11390561
> 
> 赞同：26
> 
> 时间：2012-07-09T07:18:28.373
> 
> 标签：c#

如何根据检查键值从键值对列表中选择值

```
List<KeyValuePair<int, List<Properties>> myList = new List<KeyValuePair<int, List<Properties>>(); 
```

在这里我想得到

```
list myList[2].Value when myLisy[2].Key=5. 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-07-09T07:55:49.140

如果您仍然需要使用列表，我会使用[LINQ](http://msdn.microsoft.com/en-us/library/bb308959.aspx)进行此查询：

```
var matches = from val in myList where val.Key == 5 select val.Value;
foreach (var match in matches)
{
    foreach (Property prop in match)
    {
        // do stuff
    }
} 
```

您可能想要检查*匹配*是否为空。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-07-09T07:24:47.687

如果你被列表卡住了，你可以使用

```
myList.First(kvp => kvp.Key == 5).Value 
```

或者，如果您想使用字典（它可能比其他答案中所述的列表更适合您的需求），您可以轻松地将列表转换为字典：

```
var dictionary = myList.ToDictionary(kvp => kvp.Key);
var value = dictionary[5].Value; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-09T07:20:55.273

使用`Dictionary<int, List<Properties>>`. 然后你可以做

```
List<Properties> list = dict[5]; 
```

如：

```
Dictionary<int, List<Properties>> dict = new Dictionary<int, List<Properties>>();
dict[0] = ...;
dict[1] = ...;
dict[5] = ...;

List<Properties> item5 = dict[5]; // This works if dict contains a key 5.
List<Properties> item6 = null;

// You might want to check whether the key is actually in the dictionary. Otherwise
// you might get an exception
if (dict.ContainsKey(6))
    item6 = dict[6]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-09T07:23:28.930

**笔记**

.NET 2.0 中引入的通用 Dictionary 类使用 KeyValuePair。

更好地利用它

```
Dictionary<TKey, TValue>.ICollection<KeyValuePair<TKey, TValue>> 
```

并用于`ContainsKey Method`检查密钥是否存在..

**例子 ：**

```
ICollection<KeyValuePair<String, String>> openWith =
            new Dictionary<String, String>();
openWith.Add(new KeyValuePair<String,String>("txt", "notepad.exe"));
openWith.Add(new KeyValuePair<String,String>("bmp", "paint.exe"));
openWith.Add(new KeyValuePair<String,String>("dib", "paint.exe"));
openWith.Add(new KeyValuePair<String,String>("rtf", "wordpad.exe"));

if (!openWith.ContainsKey("txt"))
{
       Console.WriteLine("Contains Given key");
} 
```

* * *

**编辑**

获得价值

```
string value = "";
if (openWith.TryGetValue("tif", out value))
{
    Console.WriteLine("For key = \"tif\", value = {0}.", value);
    //in you case 
   //var list= dict.Values.ToList<Property>(); 
} 
```

在您的情况下，它将是

```
var list= dict.Values.ToList<Property>(); 
```

# haskell - Linux 主机上的 GHC 交叉编译源代码

> ID：11390564
> 
> 赞同：5
> 
> 时间：2012-07-09T07:18:48.630
> 
> 标签：haskell, cross-platform, cross-compiling, ghc

是否有任何工具/提示/技巧可以让我在 Linux 主机上为 Windows 编译应用程序？

我已经检查 了 wiki 上的[CrossCompilation](http://hackage.haskell.org/trac/ghc/wiki/CrossCompilation)页面，但没有得到它是否可以使用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-09T08:06:28.727

不，GHC 还不支持交叉编译。你能做的最好的就是在 VM 或 Wine 中安装 GHC。

# hoverintent - 悬停意图不起作用

> ID：11390565
> 
> 赞同：0
> 
> 时间：2012-07-09T07:18:49.653
> 
> 标签：hoverintent

我已经为此奋斗了很多年，但似乎无法做到正确。

hoverIntent 插件不工作，但悬停是。

这是在[jsfiddle](http://jsfiddle.net/VDcL4/16/)上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T16:42:01.800

这是每个人在使用 hoverIntent 时都会遇到的常见问题，这也是我一般尽量避免的原因。

最初我遇到了同样的问题，来自 JQuery 的 hover() 与[Brian Cherne](http://cherne.net/brian/resources/jquery.hoverIntent.html)的 hoverIntent() 的工作方式不同。它需要**两个**功能（而不是选择一个或两个）：一个用于悬停，一个用于悬停。由于您将对象定义为向下滑动，因此您必须定义用户将鼠标悬停后它应该做什么。如果你不想让它做任何事情，你可以创建一个虚拟函数 function(){}。您可能还必须更改 html 中的其他组件。

这是一个类似的帖子：[jQuery hoverIntent not working, but hover does](https://stackoverflow.com/questions/2518974/jquery-hoverintent-not-working-but-hover-does)

确保您的 javascript 文件也正确实施并位于正确的目录中。希望这可以帮助！

# android - Android中的WebRTC

> ID：11390567
> 
> 赞同：4
> 
> 时间：2012-07-09T07:18:58.090
> 
> 标签：android, webrtc

我下载了 webRtc 的开源代码。在其中我找到了适用于 Android 的 WEbRTCDemo 测试项目。我安装它时能够生成 APK BUt 我的设备无法与两个设备进行通信.... 步骤 我是什么正在做.. 1\. 在应用程序设置->HostId：我输入了其他 Android 设备的 Ip 地址并按下开始呼叫按钮，但问题在另一边没有发生。

我的问题是 1.for 与其他设备通信我必须设置任何服务器？2.任何人都可以解释它在Android设备的情况下是如何工作的。请帮我。谢谢克里希纳。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T06:34:56.740

是的，您绝对需要一个“消息服务器”。您在这里的任务是将 SDP 从一个客户端中继到另一个客户端。SDP 包括 ICE Candidates，它基本上告诉客户端如何直接“到达”另一个（IP 地址 + 端口组合）。一旦两个客户端都交换了这些“握手”信号，他们就可以开始点对点传输他们的流。

现在，这个服务器的实现完全由你来完成。由于它与 WebRTC API 的其余部分解耦，因此您可以安全地使用任何技术来确保在两个客户端之间交换这些信令消息。一旦你成功建立了一个`PeerConnection`，你甚至可以从那里使用`DataChannels`重新谈判。

总结一下，

1.  是的，您确实需要一台服务器在两个客户端之间中继消息。
2.  由于这独立于 WebRTC 实现，因此您可以使用您选择的任何技术。

# c# - Linq to Entity 比较 Where 子句中的两个字符串

> ID：11390570
> 
> 赞同：1
> 
> 时间：2012-07-09T07:19:08.143
> 
> 标签：c#, linq, linq-to-entities

我有一个错误：

> LINQ to Entities 无法识别方法“Int32 ToInt32(System.String)”方法，并且该方法无法转换为存储表达式。

这段代码：

```
plist= plist.Where(p => Convert.ToInt(p.Period) >= syslockPeriod); 
```

p.期间示例：201206

pList 是**IQueryable**。p.Period 是字符串类型的。sysLockPeriod 是整数。

如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:26:13.803

LINQ to entity 将尝试转换`Convert.ToInt32()`为 SQL 指令，因为它不是它可以转换的*已知*方法之一，然后它会生成该错误。

您有一些解决方法，但对于所有这些，您必须更改您的代码。让我们看看你能做什么（按优先顺序，*对我来说*）。

*   将`Period`属性/字段转换为正确的类型。如果它是整数类型，那么为什么将它作为字符串存储在数据库中？
*   创建一个函数（在您的数据库中）以执行转换并使用计算的属性（或视图）。LINQ to Entities 现在将具有正确类型的*真实*列（无需转换）或调用函数（在 SQL 端）以进行转换。[有关如何调用自定义数据库函数的](http://msdn.microsoft.com/en-us/library/dd456847.aspx)信息，请参阅 MSDN 上的此示例。
*   转换`IQueryable`为`IList`with `ToList()`before `Where()`，现在该`where`子句将在本地执行，而不是在数据库上执行（如果列表很大，这可能会很糟糕）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T07:32:16.567

不要将其转换`syslockPeriod`为 LINQ 查询之外的字符串。这将有助于消除错误（如果您还删除了“Convert.ToInt”），但会返回错误的结果。这将给出一个“真实”的结果：`"12" < "2"`.

正确的解决方案是将字符串列“Period”转换为整数列。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T07:33:32.143

这是 LINQ 中的常见问题，因为您不能在 LINQ 表达式中使用普通函数。（这允许 LINQ 进行惰性求值并减少调用函数时可能发生的与状态相关的问题）。幸运的是，我们可以通过创建一个业务对象在访问器中为您进行转换来解决这个问题，或者使用 Linq to SQL 来转换它。

我更喜欢前者，因为创建业务对象是一种很好的做法，因为它鼓励重用。

有关示例，请参阅[http://mosesofegypt.net/post/LINQ-to-Entities-Workarounds-on-what-is-not-supported.aspx](http://mosesofegypt.net/post/LINQ-to-Entities-Workarounds-on-what-is-not-supported.aspx)上的优秀帖子。

# regex - 提取目录中所有文件的特定行中第一个和第二个逗号之间的字符串

> ID：11390580
> 
> 赞同：1
> 
> 时间：2012-07-09T07:19:59.090
> 
> 标签：regex, string, batch-file, command, findstr

我正在尝试提取位于一系列文本文件（字幕文件）中特定行的第一个和第二个逗号之间的字符串。文本文件的格式如下：

字幕01.txt

```
[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour
Style: Default, Estrangelo Edessa, 57, &H00FFFFFF
Style: Title1, Arno Pro, 65, &H00606066 
```

字幕02.txt

```
[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour
Style: OP Eng, Arno Pro, 45, &H00100F11
Style: ED Romaji, Nueva Std Cond, 46, &H00FFFFFF 
```

字幕03.txt

```
[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour
Style: OP Eng, Estrangelo Edessa, 45, &H00100F11
Style: Default, Arno Pro, 45, &H00100F11
Style: ED Romaji, Nueva Std Cond, 46, &H00FFFFFF 
```

我在这里要实现的是提取以“样式：”开头的每一行的字体名称，然后以不重复的方式确定哪些字幕包含我想要的字体。因此，基本上最终结果将输出到如下文本文件；

```
Subtitles01.txt: Estrangelo Edessa
Subtitles01.txt: Arno Pro
Subtitles02.txt: Arno Pro
Subtitles02.txt: Nueva Std Cond
Subtitles03.txt: Estrangelo Edessa
Subtitles03.txt: Arno Pro
Subtitles03.txt: Nueva Std Cond

Only Subtitles03.txt is needed. 
```

由于 Subtitles03.txt 包含了 Subtitles01.txt 和 Subtitles02.txt 中的所有字体，因此只需要 Subtitles03.txt。目标是使用最少的文件来找到所有文件中的唯一字体。我想出了以下批处理脚本，使用**findstr**来提取以“Style：”开头的行，但我被困在这之外。

```
@echo off
findstr /B /C:"Style:" *.txt > results.txt
if %errorlevel%==0 (
    echo Found! logged files into results.txt
) else (
    echo No matches found
) 
```

任何帮助，将不胜感激。谢谢你们！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:40:02.550

**编辑**：使用这个：

```
^Style:\s*([^,]+)\s*,\s*([^,]+)\s*,\s*([^,]+)\s*,\s*(.+)\s* 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T08:33:26.327

我意识到您显然是在一个默认情况下没有安装`awk`或 Perl 的平台上，但您可能仍想考虑安装其中一个工具，特别是如果您将来需要执行类似的任务。

```
awk -F, '/^Style:/ { print FILENAME ":" $2 }' *.txt 
```

或者使用 Perl：

```
perl -ne 'print "$ARGV:$1\n" if m/^Style: [^,]*,([^,]*)/' *.txt 
```

随后的优化（删除与其他匹配文件重叠的任何文件）在任何一种语言中都不难做到。Perl 可以更好地适应更大、更多样化的任务，所以如果你对两者都不熟悉，那将是我的第一个建议（代价是学习曲线更长、更坎坷，然后你也应该考虑使用 Python）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-09T23:46:24.660

我想使用批处理以外的其他语言会容易得多，或者至少使用非本地实用程序。但这是一个纯原生批处理解决方案。

我看不出 FINDSTR 正则表达式如何帮助解决这个问题。它不能像许多其他非本地批处理正则表达式实用程序一样提取匹配行的一部分。

您可以使用 FOR /F 从每个文件中提取字体：

```
for /f "tokens=2 delims=," %%A in ('findstr /lb "Style:" file.txt') do echo font=%%A 
```

您可以使用环境变量来列出唯一字体。用变量名中的字体名定义变量，都以 . 为前缀`font_`。一个给定的名称只能定义一个变量。分配的值无关紧要。然后，您可以使用`set font_`列出所有唯一字体名称。可以统计唯一名称的数量，也可以解析出实际的字体名称（去掉`font_`前缀）。

棘手的部分是建立涵盖完整唯一字体名称集所需的最小文件集。我想有人可以想出一个有效的解决方案。我刚刚采用了一种强力递归排列方法：我计算在每个排列中找到的唯一字体的数量，并将该数字与唯一字体的总数进行比较。如果我已经找到一个比当前集合更小的完整集合，我已经添加了一些快捷方式来避免沿着特定的排列路径继续前进。

如果我在递归中使用 SETLOCAL，代码可能会更简单，但批处理仅限于 32 级 SETLOCAL。我想要一个可以支持超过 32 个文件的解决方案，尽管我有点担心这么多文件的性能。

***编辑*** *- 我修复了我的`:permuteFiles`例程中的一个错误，一旦我有超过 3 个文件就会浮出水面*

```
@echo off
setlocal enableDelayedExpansion

::Make sure there are no font_ variables defined
for /f "delims==" %%A in ('set font_ 2^>nul') do set "%%A="

::Read all the Subtitle files and
:: - create an "array" of file names
:: - create a file of font names for each input file
:: - create an "associative array" of unique font names
:: - List the available file/font pairs in the final results
:: - List the unique fonts in the final results
set fileCount=0
>results.txt (
  echo Available fonts
  echo ----------------------------
  for %%F in (subtitles*.txt) do (
    set /a totalFiles+=1
    set "file_!totalFiles!=%%F"
    3>"%%F.fonts" (
      for /f "tokens=2 delims=," %%A in ('findstr /lb "Style:" "%%F"') do (
        set "font_%%A=1"
        >&3 echo %%A
        echo %%F:%%A
      )
    )
  )
  echo(
  echo Unique fonts
  echo ----------------------------
  for /f "delims==" %%A in ('set font_') do (
    set "font=%%A"
    echo !font:~5!
  )
)

::Count the number of unique fonts
for /f %%N in ('set font_ ^| find /c /v ""') do set uniqueFonts=%%N

::Test all the permutations
set /a minFileCount=%totalFiles%+1
for /l %%N in (1 1 %totalFiles%) do (
  call :permuteFiles %%N 0 ""
)

::List the required files in the final results
>>results.txt (
  echo(
  echo The following files contain the complete set of unique fonts:
  echo -------------------------------------------------------------
  for %%N in (%minFileList:~1,-1%) do echo !file_%%N!
)
type results.txt

::Cleanup
del subtitles*.txt.fonts
exit /b

:permuteFiles  fileNumber  fileCount  fileList
if %1==%totalFiles% (
  if %2 gtr 0 call :testPermutation %2 %3
  set /a fileCount=%2+1
  if !fileCount! lss !minFileCount! call :testPermutation !fileCount! "%~3,%1"
) else (
  set /a nextFile=%1+1
  if %2 gtr 0 call :permuteFiles !nextFile! %2 %3
  set /a "nextFile=%1+1, fileCount=%2+1"
  if !fileCount! lss !minFileCount! call :permuteFiles !nextFile! !fileCount! "%~3,%1"
)
exit /b

:testPermutation  fileCount  fileList
for /f "delims==" %%A in ('set font_ 2^>nul') do set "%%A="
for %%N in (%~2) do (
  for /f "usebackq delims=" %%A in ("!file_%%N!.fonts") do set "font_%%A=1"
)
for /f %%N in ('set font_ ^| find /c /v ""') do if %%N==%uniqueFonts% (
  set minFileList=%2
  set minFileCount=%1
)
exit /b 
```

以下是使用您的示例输入的结果：

```
Available fonts
----------------------------
Subtitles01.txt: Estrangelo Edessa
Subtitles01.txt: Arno Pro
Subtitles02.txt: Arno Pro
Subtitles02.txt: Nueva Std Cond
subtitles03.txt: Estrangelo Edessa
subtitles03.txt: Arno Pro
subtitles03.txt: Nueva Std Cond

Unique fonts
----------------------------
 Arno Pro
 Estrangelo Edessa
 Nueva Std Cond

The following files contain the complete set of unique fonts:
-------------------------------------------------------------
subtitles03.txt 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-10T00:51:36.990

如果“目标是使用最少的文件来找到所有文件中的唯一字体”，那么下面的批处理文件可以解决您的问题：

**编辑**：操作！我之前的代码中有一个小错误：在处理目标文件中包含的每个字体名称时，我不应该删除*整个*文件，只需从文件计数中减去*该字体名称即可。*我修复了下面代码中的错误（现在确实更简单了）：

```
@echo off
setlocal EnableDelayedExpansion

rem Create "Files with Fontnames" and "Fontnames in Files" sets, 
rem and FileCount with number of Fontnames in each file
for %%a in (*.txt) do (
   for /F "tokens=2 delims=," %%b in ('findstr /B /C:"Style:" %%a') do (
      set File[%%~Na]=!File[%%~Na]!"%%b",
      set Fontname[%%b]=!Fontname[%%b]!%%~Na,
      set /A FileCount[%%~Na]+=1
   )
)

echo Fonts by File:
set File[
echo/
echo/

echo Following files provide all fonts:

rem For each non-processed "File with Fontnames"
:nextFile

   rem Process File with larger number of Fontnames first
   set fontCount=0
   for /F "tokens=2,3 delims=[]=" %%a in ('set FileCount[') do (
      if %%b gtr !fontcount! (
         set fontCount=%%b
         set nextFile=%%a
      )
   )
   if %fontCount% equ 0 goto exit

   rem Show this file as result
   echo File %nextFile%.txt

   rem For each Fontname in this file
   for %%a in (!File[%nextFile%]!) do (
      rem Subtract this Fontname from the Files that include it
      for %%b in (!Fontname[%%~a]!) do (
         set /A FileCount[%%b]-=1
      rem and delete this Fontname
      set Fontname[%%~a]=
      )
   )

rem Go back to process next file
goto nextFile

:exit 
```

例如：

```
Fonts by File:
File[Subtitles01]=" Estrangelo Edessa"," Arno Pro",
File[Subtitles02]=" Arno Pro"," Nueva Std Cond",
File[Subtitles03]=" Estrangelo Edessa"," Arno Pro"," Nueva Std Cond",

Following files provide all fonts:
File Subtitles03.txt 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-09T07:26:03.380

```
Style: (.*),(.*),(.*),(.*) 
```

然后，只需获得第二个匹配的结果。只要确保您使用**整个**字符串。不只是从括号开始。

**编辑**

抱歉，我错过了实际上有四个块，三个逗号，而不是三个块，两个逗号。代码现在可以正常工作并已修复。

# python - 在python中分配动态键字符串

> ID：11390581
> 
> 赞同：0
> 
> 时间：2012-07-09T07:20:04.160
> 
> 标签：python, string, dictionary

我想做这样的事情，在python中是否可能。

```
f = 'free'
p = 'paid'
if version is f:
      APP_VER = 'APP_FREE'
elif version is p:
      APP_VER = 'APP_PAID'

s_email = webapp2.get_app().config[APP_VER]['SUPPORT_EMAIL']

Error: UnboundLocalError: local variable 'APP_VER' referenced before assignment 
```

任何想法！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-09T07:21:27.280

```
if version is f:
      APP_VER = 'APP_FREE'
elif version is p:
      APP_VER = 'APP_PAID' 
```

有一种可能性`version`既不是`f`也不是`p`。包括一个`else`部分。此外（如@jamylak 注释）用于`==`比较字符串，而不是`is`：

```
if version == f:
      APP_VER = 'APP_FREE'
elif version == p:
      APP_VER = 'APP_PAID'
else:
    print 'version <{0}> unknown'.format(version)
    exit()
    # or raise an exception here 
```

另一种方式（如果版本列表更长，则改进很大）：

```
app_name = {'free': 'APP_FREE',
            'paid': 'APP_PAID'} # this can be extended if needed
APP_VER = app_name.get(version)
# APP_VER is None if version unknown 
```

# qt - 使用 QT 为 meego 和 symbian 开发应用程序

> ID：11390584
> 
> 赞同：2
> 
> 时间：2012-07-09T07:20:11.137
> 
> 标签：qt, symbian, nokia, qml, meego

我是移动应用程序开发的初学者。我有C语言的知识。我想为 meego（诺基亚 N9）和 symbian 设备开发一些应用程序。我已经下载了 QT sdk。现在我想学习应用程序开发的内容。C++ 还是 QML？正如我所说，我是这种语言的初学者。我可以从哪里开始？请帮助我。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T21:58:26.543

您要做的就是从学习与您将使用的框架相对应的编程语言开始。一旦你这样做了，你就可以开始学习如何使用这个框架了。

*   Qt：C++
*   Qt Quick : JavaScript 和 QML

之后，这取决于您要开发的平台：

*   经典桌面操作系统（Windows、Linux、Mac）：带有 C++ 的 Qt 适合您。您也可以使用 Qt Quick，但目前它并不是真正为这些平台设计的。此外，您掌握了 C 技能，因此从学习 C++ 开始，然后 Qt 可能对您来说更容易，因为 C 和 C++ 有很多共同点。
*   移动操作系统（Symbian、MeeGo）：在移动操作系统上使用 C++ 开发可能比在 PC 操作系统上更难。所以你最好将 Qt Quick 与 QML**和 JavaScript**一起使用。此外，Qt Quick 是为在移动平台上开发而设计的。与桌面操作系统不同，您拥有一组真正的可重用组件，例如按钮、滑块、滚动条......那些 Qt Quick 组件（这是它们的名字）也存在于桌面上，但它们不是（直到 Qt5 和 Qt Quick 2.0）作为在 Symbian 和 MeeGo 上开发为它们的等价物。

Qt 总是更快、更流畅，但使用 Qt Quick 编码更容易。

您还可以使用 C++/Qt 部件和 QML/JS/Qt Quick 部件开发混合应用程序，但它更高级。这将是下一步。;-)

# sql - MAX(日期) - SQL ORACLE

> ID：11390585
> 
> 赞同：11
> 
> 时间：2012-07-09T07:20:30.807
> 
> 标签：sql, oracle11g

我只想从 user_id 等于 1 的用户的 user_payments 表中选择最新的 members_id。

这是表 user_payment 的样子：

```
 PAYM_ID    USER_ID MEMBSHIP_ID PAYM_DATE                     
---------- ---------- ----------- -------------------------------
         1          1           1 18-DEC-09 12.00.00.000000000 AM 
         2          1           2 18-DEC-10 12.00.00.000000000 AM 
         3          1           2 18-DEC-11 12.00.00.000000000 AM 
         4          2           3 17-MAR-11 12.00.00.000000000 AM 
         5          3           3 18-JUN-12 12.00.00.000000000 AM 
         6          4           2 17-FEB-12 12.00.00.000000000 AM 
         7          5           2 18-FEB-11 12.00.00.000000000 AM 
         8          5           2 18-FEB-12 12.00.00.000000000 AM 
         9          6           1 01-JUN-12 12.00.00.000000000 AM 
        10          7           1 03-FEB-11 12.00.00.000000000 AM 
        11          7           2 03-FEB-12 12.00.00.000000000 AM 
```

我正在尝试以下代码但没有成功：

```
SELECT MEMBSHIP_ID
FROM user_payment
WHERE user_id=1 and MAX(paym_date); 
```

我收到此错误： SQL 错误：ORA-00934：此处不允许使用组功能 00934。00000 -“此处不允许使用组功能”

我该如何解决？提前致谢！

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-07-09T07:52:59.833

```
select * from 
  (SELECT MEMBSHIP_ID
   FROM user_payment WHERE user_id=1
   order by paym_date desc) 
where rownum=1; 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-07-09T07:38:32.630

```
SELECT p.MEMBSHIP_ID
FROM user_payments as p
WHERE USER_ID = 1 AND PAYM_DATE = (
    SELECT MAX(p2.PAYM_DATE)
    FROM user_payments as p2
    WHERE p2.USER_ID = p.USER_ID
) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-09T07:49:43.487

尝试：

```
SELECT MEMBSHIP_ID
  FROM user_payment
 WHERE user_id=1 
ORDER BY paym_date = (select MAX(paym_date) from user_payment and user_id=1); 
```

或者：

```
SELECT MEMBSHIP_ID
FROM (
  SELECT MEMBSHIP_ID, row_number() over (order by paym_date desc) rn
      FROM user_payment
     WHERE user_id=1 )
WHERE rn = 1 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-14T00:00:40.243

Oracle 9i+（也可能是 8i）具有 FIRST/LAST 聚合函数，可以根据行在组中的排名对行组进行计算。假设所有行为一组，您将获得所需的内容，而无需子查询：

```
SELECT
  max(MEMBSHIP_ID)
  keep (
      dense_rank first
      order by paym_date desc NULLS LAST
  ) as LATEST_MEMBER_ID
FROM user_payment
WHERE user_id=1 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2016-12-07T09:16:01.407

尝试：

```
select TO_CHAR(dates,'dd/MM/yyy hh24:mi') from (  SELECT min  (TO_DATE(a.PAYM_DATE)) as dates from user_payment a ) 
```

# iphone - 如何使用 iHasApp 获取所有已安装的应用程序名称

> ID：11390589
> 
> 赞同：0
> 
> 时间：2012-07-09T07:20:44.940
> 
> 标签：iphone

我正在开发一个应用程序。因为我使用 iHasApp 第三方应用程序来获取已安装的应用程序名称。但它只提供 4 个应用程序名称（Skype、愤怒的小鸟、Instagram、会说话的汤姆）。所以请告诉我如何获取所有使用 iHasApp 或任何其他方式安装的应用程序名称来获取所有已安装的应用程序名称。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:42:19.267

没有 100% 的方法可以做到这一点。我认为 iHasApp 通过检查应用程序 URL 方案来做到这一点。但是，如果一个应用程序没有 URL 方案，那么检测它将变得非常不可能。

因此，您将不得不接受并非所有应用程序都会被找到，因为您只会找到您知道应用程序 URL 方案的应用程序。

# wcf - 添加服务失败。服务元数据可能无法访问。确保您的服务正在运行并公开元数据。？

> ID：11390594
> 
> 赞同：0
> 
> 时间：2012-07-09T07:21:04.987
> 
> 标签：wcf, c#-4.0, rest, wcftestclient

尝试使用在 WcfTestClient.exe 中运行的 wcf 构建 RestFull 服务。问题是我得到一个错误：

```
Failed to add a service. Service metadata may not be accessible. 
```

我在配置文件中添加了一个 mex 端点，但没有解决它：

```
<?xml version="1.0"?>
<configuration>
  <system.web>
    <compilation debug="true" targetFramework="4.0" />
  </system.web>
  <system.serviceModel>
    <services>
      <service name="MyRest.Service"  behaviorConfiguration="ServBehave">
        <!--Endpoint for REST-->
        <endpoint
          address="XMLService"
           binding="webHttpBinding"
           behaviorConfiguration="restPoxBehavior"
           contract="MyRest.IService"/>
        <endpoint
            address="mex"
            binding="mexHttpBinding"
            contract="IMetadataExchange"/>
      </service>
    </services>
    <behaviors>
      <serviceBehaviors>
        <behavior name="ServBehave" >
          <!-- To avoid disclosing metadata information, set the value below to false and remove the metadata endpoint above before deployment -->
          <serviceMetadata httpGetEnabled="true"/>
          <!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->
          <serviceDebug includeExceptionDetailInFaults="false"/>
        </behavior>
      </serviceBehaviors>
      <endpointBehaviors>
        <!--Behavior for the REST endpoint for Help enability-->
        <behavior name="restPoxBehavior">
          <webHttp helpEnabled="true"/>
        </behavior>
      </endpointBehaviors>
    </behaviors>
    <serviceHostingEnvironment aspNetCompatibilityEnabled="true" multipleSiteBindingsEnabled="true"/>
  </system.serviceModel>
  <system.webServer>
    <modules runAllManagedModulesForAllRequests="true"/>
  </system.webServer>
</configuration> 
```

IService1.cs

```
 [ServiceContract]
    public interface IService1
    {
        [OperationContract]
        [WebGet(UriTemplate = "/Employees", ResponseFormat = WebMessageFormat.Xml)]
        Employee[] GetEmployees();

    }

    [DataContract]
    public class Employee
    {
        [DataMember]
        public int EmpNo { get; set; }
        [DataMember]
        public string EmpName { get; set; }
        [DataMember]
        public string DeptName { get; set; }
    } 
```

服务1.cs

```
 [AspNetCompatibilityRequirements(RequirementsMode = AspNetCompatibilityRequirementsMode.Required)]
    public class Service1 : IService1
    {
        public Employee[] GetEmployees()
        {
            return new Employee[] 
             {
                  new Employee() {EmpNo=101,EmpName="Mahesh",DeptName="CTD"},
                  new Employee() {EmpNo=102,EmpName="Akash",DeptName="HRD"}
             };
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T10:01:49.000

使用 WCF Restful 服务，您真的需要元数据来公开服务或处理它吗？答案是不”。这违反了休息的原则。元数据表示接口（操作），对于 REST 接口是固定的（http 方法）。WcfTestClient 用于测试基于 SOAP 的服务（因为它们必须通过 mex 绑定公开其接口）。

为 http get 测试 RESTFUL 服务可能很容易。您只需使用 URL 从浏览器中调用它。要测试其他 http 方法，您必须构建自定义客户端。如果这似乎是一项艰巨的任务，那么您还可以使用 Fiddler 等工具来构建请求数据。可以在[这里看到一个例子](http://blogs.msdn.com/b/alikl/archive/2010/06/04/walkthrough-build-host-and-test-simple-restful-wcf-service.aspx)

# excel - 提供不带小数的 Excel 定价矩阵

> ID：11390595
> 
> 赞同：0
> 
> 时间：2012-07-09T07:21:13.493
> 
> 标签：excel, matrix, decimal, batch-rename

提供没有小数的定价矩阵是否奇怪？例如，尺寸为 23 x 42 的产品显示为 114，但实际上应该是 11.40。另一种测量是 28 x 48，根据矩阵将是 696，但应该是 69.6。

1.  他们为什么会出于任何原因这样做（只是为了让我明白为什么会这样）
2.  Excel是否有一种简单的方法可以在右侧的一个空格中添加小数？

我会手动执行此操作，但有数千种产品。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:46:20.190

我想出了一种使用选择性粘贴的方法。

在我的情况下，如果除以 10，这个数字就会计算出来。所以，我在任何单元格中输入数字 10，编辑 > 复制该数字。选择您要更改的号码。右键单击数字（确保它们都仍处于选中状态）并选择选择性粘贴。选择除作为选项。

这需要一个诸如 720 之类的数字并使其变为 72.0 如果您需要 720 变为 7.20，则在任何单元格中键入 100 而不是我们之前所做的 10，瞧。

# python - 如何在pygame中显示图像？

> ID：11390596
> 
> 赞同：11
> 
> 时间：2012-07-09T07:21:14.120
> 
> 标签：python, pygame

我想从网络摄像头加载图像以显示在 pygame 我正在使用 videocapture

```
from VideoCapture import Device
import pygame
import time
In=1
pygame.init()
w = 640
h = 480
size=(w,h)
screen = pygame.display.set_mode(size) 

while True:
    cam = Device()
    cam.saveSnapshot(str(In)+".jpg") 
    img=pygame.image.load(In)
    screen.blit(img,(0,0))
    In=int(In)+1
    In=str(In) 
```

为什么这不起作用。Pygame 窗口打开但没有显示？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-07-09T07:37:50.323

你必须告诉 pygame[更新 display](http://www.pygame.org/docs/ref/display.html#pygame.display.flip)。

将图像传送到屏幕后，在循环中添加以下行：

```
pygame.display.flip() 
```

* * *

顺便说一句，您可能想限制每秒拍摄的图像数量。使用`time.sleep`或[pygame 时钟](http://www.pygame.org/docs/ref/time.html#pygame.time.Clock)。

* * *

```
from VideoCapture import Device
import pygame
import time
In=1
pygame.init()
w = 640
h = 480
size=(w,h)
screen = pygame.display.set_mode(size) 
c = pygame.time.Clock() # create a clock object for timing

while True:
    cam = Device()
    filename = str(In)+".jpg" # ensure filename is correct
    cam.saveSnapshot(filename) 
    img=pygame.image.load(filename) 
    screen.blit(img,(0,0))
    pygame.display.flip() # update the display
    c.tick(3) # only three images per second
    In += 1 
```

# c++ - 从 Truetype 字体中提取 SplineSet/其他信息

> ID：11390597
> 
> 赞同：1
> 
> 时间：2012-07-09T07:21:14.350
> 
> 标签：c++, fonts, truetype, spline

如何从 TTF 中提取 SplineSet 和其他信息？我需要在 C++ 中执行此操作。任何链接/阅读内容也会有所帮助。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T05:26:25.650

当您说样条集时，您是指TTF中字形的矢量轮廓吗？

[您可以使用freetype](http://www.freetype.org/freetype2/docs/tutorial/step1.html)（C 库）提取矢量轮廓和其他字体数据。

更新：我不确定你想用字体做什么，但请注意字体规格有点……重。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T07:26:59.247

[您可以在](http://scripts.sil.org/cms/scripts/page.php?item_id=IWS-Chapter08) [此处](https://developer.apple.com/fonts/ttrefman/rm06/Chap6.html)和[此处](http://www.truetype-typography.com/ttspec.htm)找到有关文件格式的一些信息。希望对您有所帮助。

# asp.net - asp.net 重用连接和命令

> ID：11390600
> 
> 赞同：0
> 
> 时间：2012-07-09T07:21:36.140
> 
> 标签：asp.net, mysql, datareader

在此之前，我为 2_1 和 2_2 创建了一个新的“MySqlConnection”和“MySqlCommand”，但这会使我的代码很长而且很混乱，所以我决定重用我已经为 1_1 声明的这些。我已经这样做了：

```
MySqlConnection connSelect = new MySqlConnection(connectionString);
MySqlCommand cmdSelect = connSelect.CreateCommand();

cmdSelect.Parameters.Add("username", MySqlDbType.VarChar);
cmdSelect.Parameters["username"].Value = Request.QueryString["username"].ToString();

cmdSelect.CommandText = "SELECT * FROM member WHERE username = @username";

connSelect.Open();

MySqlDataReader drSelect1_1 = cmdSelect.ExecuteReader();

if (drSelect1_1.Read())
{
    //1_1
    this.lbl1_1.Text = drSelect1_1["username"].ToString();

//2_1
if (drSelect1_1["direct1"].ToString() != null)
{
    this.lbl2_1.Text = drSelect1_1["direct1"].ToString();

    connSelect.Close();
    cmdSelect.CommandText = "SELECT * FROM member WHERE username = '" + this.lbl2_1.Text + "'";
    connSelect.Open();

    MySqlDataReader drSelect2_1 = cmdSelect.ExecuteReader();

if (drSelect2_1.Read())
{
//some code
}
}

//2_2
if (drSelect1_1["direct2"].ToString() != null)      //ERROR HERE
{
    this.lbl2_2.Text = drSelect1_1["direct2"].ToString();
}
} 
```

2_2 处出现错误：“数据阅读器中没有当前查询”，我在这里做错了吗？请给我建议 thx :)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:26:39.567

你应该通过像这样遍历阅读器来执行你的“if”条件

```
while(drSelect1_1.read())
{

// IF CONDITIONS

} 
```

这样你就不会遇到任何空行

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T08:50:08.497

好的，我已经没有主意了，我回到我的原始方法。如果我的时间允许，我会回到这个问题。所以现在大家可以作为参考。如果您有更好的解决方案，请与我们分享。：） 非常感谢。
所以，基本上，我的想法是为每个“IF”条件创建每个 MySqlConnection、MySqlCommand 和 MySqlDataReader。干得好。

```
 MySqlConnection connSelect = new MySqlConnection(connectionString);
  MySqlCommand cmdSelect = connSelect.CreateCommand();

  cmdSelect.Parameters.Add("username", MySqlDbType.VarChar);
  cmdSelect.Parameters["username"].Value = Request.QueryString["username"].ToString();

  cmdSelect.CommandText = "SELECT * FROM member WHERE username = @username";

  connSelect.Open();

  MySqlDataReader drSelect1_1 = cmdSelect.ExecuteReader();

  if (drSelect1_1.Read())
  {
      //1_1
      this.lbl1_1.Text = drSelect1_1["username"].ToString();   

      //2_1
      if (drSelect1_1["direct1"].ToString() != null)
      {
          this.lbl2_1.Text = drSelect1_1["direct1"].ToString();
          MySqlConnection connSelect2_1 = new MySqlConnection(connectionString);
          MySqlCommand cmdSelect2_1 = connSelect2_1.CreateCommand();

          cmdSelect2_1.CommandText = "SELECT * FROM member WHERE username = '" + this.lbl2_1.Text + "'";

          connSelect2_1.Open();

          MySqlDataReader drSelect2_1 = cmdSelect2_1.ExecuteReader();

          if (drSelect2_1.Read())
          {
              //some code
          }
          connSelect2_1.Close();
      }

      //2_2
      if (drSelect1_1["direct2"].ToString() != null)
      {
          this.lbl2_2.Text = drSelect1_1["direct2"].ToString();

          MySqlConnection connSelect2_2 = new MySqlConnection(connectionString);
          MySqlCommand cmdSelect2_2 = connSelect2_2.CreateCommand();

          cmdSelect2_2.CommandText = "SELECT * FROM member WHERE username = '" + this.lbl2_2.Text + "'";

          connSelect2_2.Open();

          MySqlDataReader drSelect2_2 = cmdSelect2_2.ExecuteReader();

          if (drSelect2_2.Read())
          {
              //some code
          }
          connSelect2_2.Close();          
      }
  }
  connSelect.Close(); 
```

# javascript - Backbone Collection.add 似乎不起作用

> ID：11390602
> 
> 赞同：4
> 
> 时间：2012-07-09T07:21:42.070
> 
> 标签：javascript, jquery, backbone.js, backbone.js-collections

我正在骨干网中构建一个简单的待办事项应用程序。我的html是：

```
<!DOCTYPE html>
<html>
<head>
<title>back bone</title>
<script src="js/lib/jquery.js"></script>
<script src="js/lib/underscore.js"></script>
<script src="js/lib/backbone.js"></script>

<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"/>
<link rel="stylesheet" href="style.css" type="text/css" media="screen" />
</head>
<body>
<h2>Total Things Todo: <div id="no-todo"> 0 </div></h2>
<ul id="todo-list" class="unstyled">
</ul>
<div>
<button class="btn" id="add-todo"><i class="icon-plus"></i>Add Todo</button>
</div>
<script src="js/script.js"></script>

</body>
</html> 
```

我的主干代码如下所示：

```
$(document).ready(function(){
    var Todo = Backbone.Model.extend({
        id: 0,
        text:null,
        completed: false
    });
    var Todos = Backbone.Collection.extend({
        model:Todo,
        initialize: function(models, options) {
            this.on("add",options.view.addTodoLi);
        }
    });
    var AppView = Backbone.View.extend({
        el: $("body"),
        initialize: function() {
            this.todos = new Todos(null,//[{id: 0,completed: false,text: "helo"},{id: 1,completed: false,text: "bye"}],
                {view: this });
        },
        events: {
            "click #add-todo": "addTodo"
        },
        addTodo: function() {
            var todo_name = prompt("What do you have to do?");
            var todo_model = new Todo({id: 0,completed: false,text: todo_name});
            this.todos.add(todo_model);
            console.log("todos",this.todos.toJSON(),
                todo_name,todo_model.toJSON());
        },
        addTodoLi: function(model){
            $("#todo-list").append("<li><div class='done-false'><input type='checkbox'/>"+model.get("text")+"</div></li>");
        }
    });
    var appview =  new AppView;
}); 
```

问题很简单，由于某种原因，第一次后`.add`功能不起作用。`this.todos`该`add`事件也只触发一次。就好像集合已成为不可变的一样。我错过了什么明显的东西吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-09T07:27:39.817

该集合只是阻止您添加具有相同`id`. 如果您要添加具有不同`id`s 的模型，那么一切都应该可以正常工作。在您的情况下，如果您真的不打算自己管理 id，您可以在模型实例化时省略它们，并让主干为您生成它们。

# javascript - 如何计算变量在javascript数组中重复的次数？

> ID：11390608
> 
> 赞同：0
> 
> 时间：2012-07-09T07:22:17.763
> 
> 标签：javascript, arrays, sorting, loops

如何获取数组成员和它们重复的次数（重复）？

我目前有这个脚本

```
//COUNT VAL
var curr = '';
var previous = '';
var arr = new Array();
var sorted = count.sort();
for(var c=0; c < sorted.length; c++){
if(sorted[c] != ''){
if(sorted[c] != curr){
var repeat = 1;
arr[sorted[c]] = repeat;
curr = sorted[c];
}
else if(sorted[c] == curr){
repeat++;
}
}
}
alert(JSON.stringify(arr)); 
```

数组“count”的值是（我使用 JSON.stringify）：

```
[" 2"," 2"," 2","1","1","1","1","1","1","1","1","1","1",null,null,null,null,null,null,null,null,null,null,null,null,null] 
```

我希望我的脚本显示什么...（我希望它返回一个数组）

```
[1: 10, 2: 3] 
```

(x: y) x 是数字，y 是它重复的次数。

我得到什么...

```
[null,1,1] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:26:50.213

```
var a = [" 2"," 2"," 2","1","1","1","1","1","1","1","1","1","1",null,null,null,null,null,null,null,null,null,null,null,null,null];

var counts = a.reduce( function(obj, cur){
    if( !obj[cur] ) {
        obj[cur] = 0;
    }
    obj[cur]++;
    return obj;
}, {}); 
```

结果

```
2: 3
1: 10
null: 13 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T07:33:22.320

使用您的代码，

像这样修改你的循环，

```
for(var c=0; c < sorted.length; c++){
 if(sorted[c] != ''){
    if(arr[sorted[c]] ){
        var count = arr[sorted[c]];
        count++;
        arr[sorted[c]] = count;
    }
    else{
        arr[sorted[c]] = 1;
    }
 }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-09T07:38:36.120

这将为您提供摘要，忽略空值

```
var collection = [" 2"," 2"," 2","1","1","1","1","1","1","1","1","1","1",null,null,null,null,null,null,null,null,null,null,null,null,null];

var summary = collection.reduce(function(a, b) {
    var tmp = parseInt(b)
    if (!isNaN(tmp)) {
        if (!a[tmp]) {
            a[tmp] = 0;
        }
        a[tmp]++;
    }
    return a;
}, {});

console.log(summary); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-09T07:47:18.910

不确定它是否是最好的解决方案，但它可以工作并将输出保存在数组中。

```
var arr = [" 2"," 2"," 2","1","1","1","1","1","1","1","1","1","1",null,null,null,null,null,null,null,null,null,null,null,null,null];

var obj = {};
var final = [];
var count = 0;
for(var i=0,len=arr.length;i<len;i++){
  if(arr[i] in obj){
     final[obj[arr[i]]] ++;
  }
  else{ 
     obj[arr[i]] = count;
     final[count] = 1;
     count++;
  } 
}

console.log(final); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-09T08:18:47.533

尝试这个：

```
var repeated = function repeated(arr){
                var res = {};
                for(index in arr){
                    var x = arr[index];
                    if(!res.hasOwnProperty(x))
                        res[x] = 0;    
                    res[x]++;
                }
                return res;
            } 
```

# objective-c - dismissViewControllerAnimated:completion: 推送到另一个 ViewController

> ID：11390612
> 
> 赞同：16
> 
> 时间：2012-07-09T07:22:28.530
> 
> 标签：objective-c, ios

我只是想知道是否可以在我解雇一个 ViewController 后立即推送到一个 ViewController。

我一直在尝试这个：

```
 -(void)dismiss{
    //send information to database here

    [self dismissViewControllerAnimated:YES completion:^{
                    NSLog(@"Dismiss completed");
                    [self pushtoSingle:post_id];
                }];
}

-(void)pushtoSingle:(int)post_id{
    Single1ViewController *svc = [self.storyboard instantiateViewControllerWithIdentifier:@"SingleView"];
    svc.post_id = post_id;
    svc.page = 998;
    [self.navigationController pushViewController:svc animated:YES];
} 
```

和这个：

```
 -(void)dismiss{

//send information to database here

[self dismissViewControllerAnimated:YES completion:^{
                    NSLog(@"Dismiss completed");
                    Single1ViewController *svc = [self.storyboard instantiateViewControllerWithIdentifier:@"SingleView"];
                    svc.post_id = post_id;
                    svc.page = 998;
                    [self.navigationController pushViewController:svc animated:YES];
                }];
} 
```

但没有成功。视图已成功关闭，但推送从未初始化。是否有另一种已知的解决问题的方法？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-07-09T08:02:15.233

是的，我想通了。在我将 ViewController B 解散到 A 之后，我只是发布了一个通知，然后在 A 中收到通知并推送到 C..

在 B 中解雇：

```
[self dismissViewControllerAnimated:YES completion:^{

    [[NSNotificationCenter defaultCenter] postNotificationName:@"pushToSingle" object:nil userInfo:[NSDictionary dictionaryWithObject:[NSNumber numberWithInt:post_id1] forKey:@"post_id"]];
}]; 
```

在 A 中接收：

```
-(void)viewWillAppear:(BOOL)animated{   
    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(pushToSingle:) name:@"pushToSingle" object:nil];
}

-(void)pushToSingle:(NSNotification *)notis{
    NSDictionary *dict = notis.userInfo;
    int post_id = [[dict objectForKey:@"post_id"] intValue];

    NSLog(@"pushing to single");
    Single1ViewController *svc = [self.storyboard instantiateViewControllerWithIdentifier:@"SingleView"];
    svc.post_id = post_id;
    svc.page = 998;
    [self.navigationController pushViewController:svc animated:YES];

} 
```

谢谢，杰基男孩！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-09T07:24:23.490

取出动画。像这样：

```
[self dismissViewControllerAnimated:NO completion:^{
                NSLog(@"Dismiss completed");
                [self pushtoSingle:post_id];
            }]; 
```

我遇到过多个动画会产生奇怪行为的情况。

**编辑 1.0：**

尝试这个：

```
[self performSelector:@selector(pushtoSingle:) withObject:post_id afterDelay:0.3]; 
```

**编辑 2.0：**

现在请注意...您正在解雇您的`UIViewController`，并且您正试图从刚刚解雇的人中推出一个新的`UIViewController`。理论上，这里：

```
 [self dismissViewControllerAnimated:YES completion:^{
                    NSLog(@"Dismiss completed");
                    [self pushtoSingle:post_id];
                }]; 
```

在您的完成块上，`self`将为 nil，因为您只是将其关闭。`UIViewController`从当前推送新的`UIViewController`。例如，如果您的电流`UIViewController`是 B：

```
A -> B 
```

解散后：

```
A 
```

推新的：

```
A -> C 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-13T22:03:04.073

这更多地只是增加了上面由robot6提供的答案。

如果您要将新视图添加为子视图，您应该真正考虑将以下内容添加到父视图中。

```
-(void)viewDidDisappear:(BOOL)animated{
    [[NSNotificationCenter defaultCenter] removeObserver:self];

} 
```

在我的情况下，我启动了一个基于通过通知 NSDictionary 传回的 int 的 AlertView。然后我在接受 AlertView 后再次呈现相同的子视图。

```
-(void)pushToSingle:(NSNotification *)notis{     
 NSDictionary *dict = notis.userInfo;
        int post_id = [[dict objectForKey:@"post_id"] intValue];
        NSLog(@"%d", post_id);

        if (post_id == 1) {
            UIAlertView *alert = [[UIAlertView alloc]

                                  initWithTitle:@"Sign Up"
                                  message:@"Are you sure you want to cancel?"
                                  delegate:self
                                  cancelButtonTitle:@"Cancel"
                                  otherButtonTitles: @"Accept", nil];
            alert.tag = 1;
            post_id = 4;
            [alert show];
        }
} 
```

这是发生了什么。

![子视图中来自父视图的警报](../Images/db4a9662eb7f048c184b0ea16edd5976.png)

因此，通过上述答案，我了解到基本上您在视图 1 中所做的任何事情都会再次出现在您的子视图中，就好像它仍然在您的父视图中一样，因为您从未删除 NSNotification 观察者并且观察者仍然处于活动状态。

现在这可能不会给每个人带来问题，但如果你真的不需要它，它会消耗系统资源，因为 ARC 不会释放观察者，直到父视图不再活动，或者除非你在你的`viewDidDisapper`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-11-22T07:51:34.830

类别：

```
class Category {
    var name: String = ""
} 
```

第一视图控制器：

```
class FirstViewController: UIViewController {

    func addNewCategory() {
        let category = Category()

        let secondViewController = SecondViewController(category: category)

        secondViewController.didCreateCategory = { (category: Category) in
            let thirdViewController = ThirdViewController(category: category)
            self.navigationController?.pushViewController(thirdViewController, animated: true)
        }

        let secondNavigationController = UINavigationController(rootViewController: secondViewController)
        presentViewController(secondNavigationController, animated: true, completion: nil)
    }

} 
```

第二视图控制器：

```
class SecondViewController: UIViewController {

    @IBOutlet weak var categoryNameTextField: UITextField!
    var didCreateCategory: ((category: Category) -> ())?
    var category: Category

    init(category: Category) {
        self.category = category
        super.init(nibName: nil, bundle: nil)
    }

    convenience required init(coder aDecoder: NSCoder) {
        self.init(coder: aDecoder)
    }

    override func viewDidLoad() {
        super.viewDidLoad()

        navigationItem.rightBarButtonItem = UIBarButtonItem(barButtonSystemItem: .Add,
            target: self, action: "createCategory")
    }

    func createCategory() {
        dismissViewControllerAnimated(true, completion: {
            self.category.name = self.categoryNameTextField.text
            self.didCreateCategory!(category: self.category)
        })
    }

} 
```

第三视图控制器：

```
class ThirdViewController: UIViewController {
    var category: Category

    init(category: Category) {
        self.category = category
        super.init(nibName: nil, bundle: nil)
    }

    convenience required init(coder aDecoder: NSCoder) {
        self.init(coder: aDecoder)
    }
} 
```

# php - cURL post方法不创建cookie

> ID：11390613
> 
> 赞同：0
> 
> 时间：2012-07-09T07:22:38.547
> 
> 标签：php, curl

在下面的代码中，我试图发布用户名和密码，但无法使用 post 创建 cookie，如果我对 get 方法执行相同操作，它会创建 cookie。

```
 $BASEURL="http://localhost/openx/www/api/json/index.php/main/authenticate/";

    $POSTFIELDS='username="'.$username.'"&password="'.$password.'"';
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_HEADER, 0);
    curl_setopt($ch, CURLOPT_VERBOSE, 1);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0);
    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);
    curl_setopt($ch, CURLOPT_FAILONERROR, 0);
    curl_setopt($ch, CURLOPT_COOKIESESSION, TRUE);
    curl_setopt($ch, CURLOPT_COOKIEJAR, 'cookie.txt');
    curl_setopt($ch, CURLOPT_COOKIEFILE, 'cookie.txt');
    curl_setopt ($ch, CURLOPT_POST, 1);
    curl_setopt ($ch, CURLOPT_POSTFIELDS, $POSTFIELDS);
    curl_setopt($ch, CURLOPT_URL, $BASEURL);

    $returned = curl_exec($ch); 
```

curl_getinfo($ch) 返回 200 OK http 代码，任何人都可以请教上面的代码有什么问题。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T07:36:40.633

cookiejar 仅在您使用 curl_close($ch) 关闭 curl 句柄时保存。

从手册：

**CURLOPT_COOKIEFILE** 包含 cookie 数据的文件的名称。cookie 文件可以是 Netscape 格式，或者只是转储到文件中的普通 HTTP 样式的标头。如果名称为空字符串，则不加载任何 cookie，但仍启用 cookie 处理。

**CURLOPT_COOKIEJAR** 当句柄关闭时保存所有内部 cookie 的文件的名称，例如在调用 curl_close 之后。

[http://www.php.net/manual/en/function.curl-setopt.php](http://www.php.net/manual/en/function.curl-setopt.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T10:35:17.563

我已将我的代码更改为下面，现在为我工作。

```
$ckfile = tempnam ("/tmp/", "CURLCOOKIE");
        $BASEURL='http://localhost/openx/www/api/json/index.php/main/authenticate/';
        $POSTFIELDS='username='.$username.'&password='.$password.'';
        $ch = curl_init();
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
        curl_setopt($ch, CURLOPT_COOKIEJAR, "/tmp/cookieFileName");
        curl_setopt($ch, CURLOPT_URL,'http://localhost/openx/www/api/json/index.php/main/authenticate/');
        curl_setopt($ch, CURLOPT_POST, 1);
        curl_setopt($ch, CURLOPT_POSTFIELDS, $POSTFIELDS);

        ob_start();      // prevent any output
        $result=curl_exec ($ch); // execute the curl command
        ob_end_clean();  // stop preventing output

        $result = curl_exec($ch);
            curl_close($ch); 
```

# iphone - 显示存储在文档目录中的所有视频

> ID：11390614
> 
> 赞同：1
> 
> 时间：2012-07-09T07:22:53.927
> 
> 标签：iphone, objective-c, ios5, nsdocument, alassetslibrary

我将视频从照片库存储在我的文档目录中。现在我想显示存储在我的文档目录中的所有视频.. 但我不知道它怎么可能？？？实际上我想显示所有视频，就像它在照片库中打开一样（一行中的四个视频）......当我点击任何视频时......视频开始播放......

任何人都可以帮助我，这是将所有视频从文档目录显示到 ViewController 的最佳方式......谢谢......

```
- (void) imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
 {
    NSURL * movieURL = [info valueForKey:UIImagePickerControllerMediaURL] ;
    NSData * movieData = [NSData dataWithContentsOfURL:movieURL];
    NSArray *documentPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES); 
    NSString *documentsDirectory = [documentPaths objectAtIndex:0];
    NSString *fullPath = [documentsDirectory stringByAppendingPathComponent:[[self imageNameTextField]text]];
    fullPath = [fullPath stringByAppendingFormat:@".MOV"];
    [ movieData writeToFile:fullPath atomically:YES]; 

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:36:16.883

我建议您使用开源网格视图控件。你可以在 GitHub 中找到它们。例如，[BDDynamicGridViewController](https://github.com/norsez/BDDynamicGridViewController)很有趣。但这不是唯一的选择。还有[AQGridView](https://github.com/AlanQuatermain/AQGridView)。

此外，还有一个流行的开源库，叫做[Three20](https://github.com/facebook/three20)，它有它的升级，叫做 Nimbus。这个库有一个用于显示照片网格的自定义控件。您可以使用它来显示视频缩略图网格。例如，试试[这个](http://iosstuff.wordpress.com/2011/06/24/making-a-video-and-photo-thumbnail-gallery-using-three20-framework/)。

在您设法使用或创建网格视图控件后，您将需要视频的缩略图生成器。为此目的使用[本主题](https://stackoverflow.com/questions/1347562/getting-thumbnail-from-a-video-url-or-data-in-iphone-sdk)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T08:16:12.060

我为我的一位客户做了同样的项目。我可以告诉你这个想法，但不能告诉你代码。这个想法是在拍摄或保存视频时拍摄每个视频的起始帧并将其保存为 PNG 图像作为视频的图标。通过这种方式，您将获得每个视频的图标。将所有图像保存在不同的文件夹中，以便每个图像都可以与其视频链接。现在通过以下代码从文件夹中检索所有视频

```
NSFileManager *filemgr;
filemgr = [NSFileManager defaultManager];
filelist = [filemgr contentsOfDirectoryAtPath:path error:nil]; 
```

*filelist 是 NSArray

以同样的方式检索视频的图标。

制作按钮的网格视图。将按钮的图像设置为视频的图标。显示视频名称。单击视频时，打开一个新的视图控制器并制作一个视频播放器，然后在那里播放视频。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T07:40:09.190

要访问存储在设备照片库中的视频，您需要使用资产库。以下代码向您展示了如何访问照片库中的第一个视频：

```
ALAssetsLibrary *library = [[ALAssetsLibrary alloc] init];

// Enumerate just the photos and videos group by using ALAssetsGroupSavedPhotos.

[library enumerateGroupsWithTypes:ALAssetsGroupSavedPhotos usingBlock:^(ALAssetsGroup *group, BOOL *stop) {

// Within the group enumeration block, filter to enumerate just videos.

[group setAssetsFilter:[ALAssetsFilter allVideos]];

// For this example, we're only interested in the first item.

[group enumerateAssetsAtIndexes:[NSIndexSet indexSetWithIndex:0] options:0

       usingBlock:^(ALAsset *alAsset, NSUInteger index, BOOL *innerStop) {

       // The end of the enumeration is signaled by asset == nil.

       if (alAsset) {

           ALAssetRepresentation *representation = [alAsset defaultRepresentation];

           NSURL *url = [representation url];

           AVAsset *avAsset = [AVURLAsset URLAssetWithURL:url options:nil];

           // Now you have the AV asset for the video.

        }

      }];

    }

     failureBlock: ^(NSError *error) {

     // Typically you should handle an error more gracefully than this.

     NSLog(@"No groups");

     }];

[library release]; 
```

此示例在 AVFoundation 编程指南中，更多详细信息在[Apple 开发者网站上](http://developer.apple.com/library/ios/#documentation/AudioVideo/Conceptual/AVFoundationPG/Articles/01_UsingAssets.html)

# powershell - Powershell Active Directory 属性创建用户

> ID：11390619
> 
> 赞同：1
> 
> 时间：2012-07-09T07:23:15.053
> 
> 标签：powershell, active-directory

我的代码：

```
New-ADUser -samaccountname first_last -Name "first last" -UserPrincipalName aaa@egc.gov.vm -AccountPassword (ConvertTo-SecureString -AsPlainText "p@ssw0rd" -Force) -Enabled $true -PasswordNeverExpires $true -Path 'OU=EGC,DC=egc,DC=gov,DC=vm' -givenname 'first' -sn 'last' -displayname 'display name' -description 'IC NO' -title 'Job Title' -division '3' -physicaldeliveryofficename 'EGNC HQ' -telephonenumber '2424955' -mail 'first.last@egc.gov.bn' -department 'egnc hq' -company 'ministry PMO' -streetaddress 'Full Address Here' -postalcode 'BB3333' 
```

错误之一：

```
New-ADUser : A parameter cannot be found that matches parameter name 'telephonenumber'. 
```

该错误遵循以下 LDAP 属性：

*   锡
*   物理交付办公室名称
*   电话号码
*   邮件

如果我删除提到的属性，用户创建工作。

有什么解决办法吗？

* * *

回答：

*   sn 是姓氏
*   电话号码是办公电话（感谢大卫约翰逊）
*   physicalDeliveryOfficeName 是办公室（感谢 David Johnson）
*   邮件是电子邮件

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T08:04:58.290

哪个电话号码？

*   办公室电话
*   手机

# scala - 如何检索 Mongodb 集合中的所有对象，包括 id？

> ID：11390625
> 
> 赞同：5
> 
> 时间：2012-07-09T07:23:34.990
> 
> 标签：scala, mongodb, casbah, salat

我正在使用[Casbah](https://github.com/mongodb/casbah/)和[Salat](https://github.com/novus/salat)创建我自己的 Mongodb dao，并正在实现一个 getAll 方法，如下所示：

```
val dao: SalatDAO[T, ObjectId]    
def getAll(): List[T] = dao.find(ref = MongoDBObject()).toList 
```

我想知道的是：

1.  有没有更好的方法来检索所有对象？
2.  当我遍历对象时，我找不到对象的_id。是否排除在外？如何将其包含在列表中？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-09T08:59:57.497

1°/ `ModelCompanion`trait 提供了一种`def findAll(): SalatMongoCursor[ObjectType] = dao.find(MongoDBObject.empty)`方法。您必须为您的数据库拥有的每个集合做一个专门的请求。

如果您迭代返回的对象，最好使用返回的对象进行迭代，`SalatMongoCursor[T]`而`dao.find`不是进行两次迭代（一次使用`toList`from`Iterator`特征，然后另一次在 your 上`List[T]`）。

2°/ Salat 将 _id 键映射到您的类 id 字段。如果您定义一个带有`id: ObjectId`字段的类。该字段使用 mongo _id 键映射。[您可以使用Salat 文档](https://github.com/novus/salat/wiki/Annotations)`@Key`中指出的注释来更改此行为

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-25T04:07:51.673

我实现了类似的东西：

`MyDAO.ids(MongoDBObject("_id" -> MongoDBObject("$exists" -> true)))`

这会获取所有 id，但考虑到您可能正在做的事情的范围很广，可能不是所有情况的最佳解决方案。现在，我正在构建一个包含 5 条数据记录的小型系统，并使用它来帮助理解 MongoDB 的工作原理。

如果这是一个包含 1,000,000 个条目的生产数据库，那么这个（或任何 getAll 查询）将是愚蠢的。与其这样做，不如考虑尝试编写一个有针对性的查询，以追求您寻求的真实结果。

# symfony - 尝试将 FOSUserBundle 安装到 Symfony2 时遇到问题

> ID：11390629
> 
> 赞同：3
> 
> 时间：2012-07-09T07:24:11.400
> 
> 标签：symfony, fosuserbundle

当我尝试安装 FOSUserBundle 时，出现以下错误：

```
Fatal error: Call to undefined method Symfony\Bundle\DoctrineBundle\Registry::getManager() in W:\symproject\app\cache\dev\appDevDebugProjectContainer.php on line 1039 
```

会是什么？

我也尝试将 FOSUserBundle 安装到纯 Symfony Standart Edition 并遇到同样的问题。

我跟着[这个文档](https://github.com/FriendsOfSymfony/FOSUserBundle/blob/master/Resources/doc/index.md)。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-09T18:00:22.793

您可能已经安装了用于 Symfony2.1.x 的最新 FOSUserBundle 如果您使用的是 Symfony2.0.x，请更改您的 deps 文件：

```
[FOSUserBundle]
    git=git://github.com/FriendsOfSymfony/FOSUserBundle.git
    target=bundles/FOS/UserBundle
    version=1.2.0 
```

然后重新安装供应商：

```
php bin/vendors install 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T08:47:08.460

我已经使用 FOS 用户捆绑包很长时间了，这个周末我的自动构建停止工作，完全是你在这里写的错误。所以对我来说，我找到了解决方案:)

似乎最新版本的 FOS 用户包有一个错误，所以我将其添加到`deps.lock`文件中：

```
FOSUserBundle f487dc16cec6003c46542a90d5193761fd91360a 
```

在 deps 文件中，我有：

```
[FOSUserBundle]
git=http://github.com/FriendsOfSymfony/FOSUserBundle.git
target=bundles/FOS/UserBundle 
```

瞧！现在可以了！

（提交 f487d... 刚刚从 4 天前的提交中选择 - 当我知道它正在工作时）

这应该可以解决您的问题！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-01T09:57:30.887

我已经用 Composer 从 2.0.16 更新到 2.1 dev-master，得到了同样的错误......我的解决方案：

在`orm.xml`

```
factory-service="doctrine" factory-method="getManager" 
```

**用。。。来代替**

```
factory-service="doctrine" factory-method="getEntityManager" 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-12T10:10:42.470

此外，如果您使用的是 Symfony 2.0.x，则没有*getManager*这样的方法，而是您必须使用*getEntityManager*才能使其正常工作。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-09T08:32:00.233

我认为您错过了 config.yml 中的 Doctrine ORM 映射

学说：orm：auto_generate_proxy_classes：％kernel.debug％entity_managers：默认：映射：FOSUserBundle：〜

试试这个希望这会奏效......

# wpf - 在 WPF 窗口的任意位置捕获 Ctrl+V

> ID：11390632
> 
> 赞同：1
> 
> 时间：2012-07-09T07:24:25.313
> 
> 标签：wpf, mvvm, keyboard-shortcuts

我正在尝试在我的应用程序中实现粘贴功能，这意味着用户可以复制从 Windows 资源管理器中选择的多个文件，然后使用`CTRL`+`C`和`CTRL`+将其粘贴到应用程序中`V`。

问题是`CTRL`+`V`仅适用于集中控制。我使用的代码是：

```
<UserControl.InputBindings>
    <KeyBinding Modifiers="Control"
                Key="V"
                Command="{Binding PasteFilesCommand}" />
</UserControl.InputBindings> 
```

我的应用程序遵循 MVVM 模型。当焦点位于应用程序窗口的任何控件上时，如何捕获`Ctrl`+事件？`V`

# windows-7 - D windows下访问并口

> ID：11390640
> 
> 赞同：2
> 
> 时间：2012-07-09T07:24:57.140
> 
> 标签：windows-7, d, parallel-port

我可以像这样在 Ubuntu 中简单地使用 D 访问并行端口。

```
import std.stdio;
import core.bitop;

// parallel port address 
const uint port = 0x0c000;

void main()
{
    /*
        permission related stuff under linux
    */

    /* data */
    ubyte data = 0b_11111111;
    outp(port, data);
} 
```

但我想在 Windows 上读写并行端口。当我尝试此代码时，我收到此错误消息。

```
object.Error: Privileged Instruction
----------------
41377C
4135F3
4025BC
4021B3
4BD6F9
1553C6
---------------- 
```

有没有一种简单的方法可以使用 D 访问 Windows 上的并行端口？谢谢..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T07:36:13.450

Windows 不授予用户模式程序直接硬件访问权限。您将需要编写一个驱动程序（.sys 文件），很可能是用 C 语言（使用 WINDDK）。您还需要购买代码签名证书以允许您的驱动程序在 64 位 Windows 版本上运行（或禁用驱动程序签名，如果您只需要在您的机器上运行它）。

# c# - StructLayout 将字节数组转换为short

> ID：11390645
> 
> 赞同：1
> 
> 时间：2012-07-09T07:25:19.917
> 
> 标签：c#, bytearray, structlayout

对不起这个可怕的标题，但老实说我知道我想要什么，也知道什么是错的......

基本上我有一个结构（我有 250 多个结构，但它们都遵循相同的想法），如下所示：

```
[StructLayout(LayoutKind.Explicit)]
public struct GenericPacket
{
    [FieldOffset(0)]
    public byte[] data;

    [FieldOffset(0)]
    public short packetid;
} 
```

问题是字节数​​组是引用类型，而short是值类型，它不允许将fieldoffset设置为相同的内存位置......

我真的很讨厌不得不删除我写的所有结构，只是为了换一种方式。所以这是我的问题，我怎样才能以一种有效的方式使用它。基本上我要做的是：

```
socket.Receive(buff, 0, 0, SocketFlags.None);
GenericPacket packet = new GenericPacket();
packet.data = buff;
Console.WriteLine(packet.packetid); 
```

它甚至拒绝编译，因为它不想生成结构 /：

在有人提出其他方法之前，我这样做的原因是它需要超高速......我可以使用 ByteReader 和其他方法（例如 BitConverter），但它需要比这快一点......

我从按位移位开始，但我需要一种更“动态”的方式来做到这一点，因为在获得数据包 ID 后，我会使用另一个结构来读取它，例如：

```
[StructLayout(LayoutKind.Explicit)]
public struct _03k
{
    [FieldOffset(0)]
    byte[] data;

    [FieldOffset(0)]
    short packetid;
    [FieldOffset(2)]
    short @null;
    [FieldOffset(4)]
    int major;
    [FieldOffset(8)]
    int minor;
    [FieldOffset(12)]
    int build;
} 
```

而不是必须有很多内联的“按位狗屎”，我只是想要一种简单且非常快速的方法来做到这一点......似乎我得到了快速而不是简单/：

请帮忙！不安全的代码是可以的，但也更喜欢托管版本。

**FAIL :(:**只记得你可以通过装箱将值类型转换为引用类型（强制转换为类型对象）。但这确实删除了 REAL 返回类型并说它只是一个对象，无论如何 XML 文档都可以说谎关于返回类型？ **悲伤地不起作用 D：**

**更新：**好的，现在我有：

```
public struct GenericPacket
{
    public short packetid;

    public static GenericPacket ReadUsingPointer(byte[] data)
    {
        unsafe
        {
            fixed (byte* packet = &data[0])
            {
                return *(GenericPacket*)packet;
            }
        }
    }
} 
```

但是每次都必须调用一个方法来转换它有点烦人:(有人有更多建议吗？

谢谢，JD

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:56:43.167

您只想将数组的前两个字节转换为短字节，这会带来*什么*性能问题？

```
packetid = ((short)data[0]  << 8) | data[1]; 
```

或者如果您想要其他字节序，则反过来。

编辑：

所以你想解析多个字段。那么，不要重新发明轮子。使用 Google 的 Protocol Buffers，它非常快速高效，我怀疑你会遇到性能问题。这是一个[.NET 端口。](http://code.google.com/p/protobuf-net/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T08:22:50.083

我刚刚发现您可以在结构中使用固定的 araays：

```
[StructLayout(LayoutKind.Explicit)]
unsafe struct Union
{
    [FieldOffset(0)]
    public short x;
    [FieldOffset(0)]
    public fixed byte y[2];
} 
```

初始化：

```
var u = new Union();
byte[] y = new byte[2]; //your original array here
int len = y.Length;
unsafe
{
    fixed (byte* s= y)
    {
        byte* source = s;
        byte* dest = u.y;
        for (int i = 0; i < len; i++)
        {
            *dest++ = *source++;
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T08:22:24.553

我最终确定的是一个带有隐式转换运算符的结构，该运算符称为 ReadByPointer 方法。

```
public struct GenericPacket
{
    public short packetid;

    public static GenericPacket ReadUsingPointer(byte[] data)
    {
        unsafe
        {
            fixed (byte* packet = &data[0])
            {
                return *(GenericPacket*)packet;
            }
        }
    }

    static public implicit operator GenericPacket(byte[] value) 
    {
        return GenericPacket.ReadUsingPointer(value);
    }
} 
```

这允许您执行以下操作：

```
GenericPacket packet = bufferFromReceive; 
```

谢谢-jD

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-09T07:48:22.787

在这个特定的例子中，你可以这样做：

```
[StructLayout(LayoutKind.Explicit)]
struct byte_array
{
    [FieldOffset(0)]
    public byte byte1;

    [FieldOffset(1)]
    public byte byte2;

    [FieldOffset(0)]
    public short packetid;
} 
```

但总的来说，Buffer.BlockCopy 可能是更好的解决方案。

# html - 重复背景图像被切断

> ID：11390646
> 
> 赞同：4
> 
> 时间：2012-07-09T07:25:21.870
> 
> 标签：html, css

我有一个容器 DIV，它随内容的高度缩放。它有一个重复向下制作图案的背景图像。

问题是重复的背景图像在 div 的底部被截断。

**有没有办法告诉背景图像不被切断？**

这是代码：http: [//jsfiddle.net/WkEKD/7/](http://jsfiddle.net/WkEKD/7/)

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-09T07:41:59.673

如果您的 div 的高度（如果高度为自动计算）不是背景图像高度的倍数，它将被截断（`overflow: visible`不适用于背景图像）。两种可能的解决方案是：

1.  确保 DIV 的高度是背景图像高度的倍数
2.  使用`background-size`属性（仅限 CSS3）缩放背景图像以填充 DIV（如果适用）
3.  使用一点 JS 将 DIV 的高度设置为最接近背景图像高度的倍数（即与 1 基本相同，但通过 JS）

**选项 #3 的代码**

演示：http: [//jsfiddle.net/h6tUs/2/](http://jsfiddle.net/h6tUs/2/)

```
var img = new Image();
img.onload = function() {
    adjustHeight(img.height);
};
img.src = 'http://www.jamfactory.co.za/left.png';
if(img.complete) {
    adjustHeight(img.height);
}
function adjustHeight(_imgHeight) {
    var ht = $('#container').outerHeight(false);
    ht = ht + (ht % _imgHeight);
    $('#container').height(ht);    
} 
```

上面的代码应该进入你的`$(document).ready(...)`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T08:03:20.493

解决此问题的一种方法是将行高设置为与背景图像高度相同，即`line-height: 20px;`

小提琴 - [http://jsfiddle.net/WkEKD/10/](http://jsfiddle.net/WkEKD/10/)

```
#container {
margin:0 auto;
width:20px;
background:url('http://www.jamfactory.co.za/left.png') 0 0;
    line-height: 20px;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T07:37:07.163

如果您的 div 内容完全是文本，也许您可​​以将 css 中的 line-height 参数调整为平铺背景图像高度的一部分？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-09T07:54:22.050

您的问题有很多可能的解决方案。

正如汤姆 C 所说，您可以更改行高以匹配背景的高度。

例如：http: [//jsfiddle.net/Nr2ca/1/](http://jsfiddle.net/Nr2ca/1/)

更好的解决方案是使每一行成为子元素并将背景应用到其中的每一个。（如果您要进行导航，请使用无序列表）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-09T11:27:15.193

您可以通过`CSS`如下所述的简单方法轻松获得所需的结果：-

**CSS**

```
body {background-color:#000}
#container {
margin:0 auto;
width:20px;
background:url('http://www.jamfactory.co.za/left.png') repeat-y 0 0;
} 
```

**HTML**

```
<div id="container">
  <p><br/></p>
    <p><br/></p>
    <p><br/></p>
    <p><br/></p>
    <p><br/></p>
    <p><br/></p>
    <p><br/></p>
</div> 
```

您应该始终定义`background-repeat`要如何重复图像的值，例如 on`x-axis`或`y-axis`。如果您要定义这些值，我希望图像会根据您的要求完美地重复。

看演示： -http: [//tinkerbin.com/1kg6u3PW](http://tinkerbin.com/1kg6u3PW)

# java - 自定义 UserDetailsS ervice 中 loadUserByUsername 的参数 username 始终为空

> ID：11390655
> 
> 赞同：0
> 
> 时间：2012-07-09T07:25:56.080
> 
> 标签：java, spring, authentication, spring-security

我正在使用带有自定义 UserDetailsS​​ervice 的 spring-security 进行基于表单的登录。登录表单似乎已正确提交。在调试应用程序时，我发现提交的请求到达了 UsernamePasswordAuthenticationFilter 的尝试身份验证方法。但看起来请求参数无法映射到用户名和密码字段，因为它们仍然为空。因此，我的自定义 UserDetailsS​​ervice 的 loadByUsername 方法的参数用户名仍然为空，我无法成功登录。

我已经尝试了很多，但现在我不知道问题可能是什么。我对 spring-security 也很陌生，但我想我离得太远了。

我尽可能地总结了代码。如果您需要更多信息，请现在告诉我。

首先我在 web.xml 中设置了 springSecurityFilterChain：

```
<welcome-file-list>
    <welcome-file>index.xhtml</welcome-file>
</welcome-file-list>

<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>
        classpath:WEB-INF/applicationContext.xml,
        classpath:WEB-INF/applicationContext-security.xml
    </param-value>
</context-param>

<context-param>
    <param-name>log4jConfigLocation</param-name>
    <param-value>classpath:log4j.properties</param-value>
</context-param>

<!-- Filter Config -->
<filter>
    <filter-name>springSecurityFilterChain</filter-name>
    <filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>
</filter>

<!-- Filter Mappings -->
<filter-mapping>
    <filter-name>springSecurityFilterChain</filter-name>
    <url-pattern>/*</url-pattern>
    <dispatcher>FORWARD</dispatcher>
    <dispatcher>REQUEST</dispatcher>
</filter-mapping>

<!-- Spring Configuration -->
<listener>
    <listener-class>
        org.springframework.web.context.ContextLoaderListener
    </listener-class>
</listener>
<listener>
    <listener-class>
        org.springframework.web.context.request.RequestContextListener
    </listener-class>
</listener> 
```

那是我的 applicationContext.xml 与 customUserDetailsS​​ervice 的引用：

```
<bean id="propertyConfigurer"
      class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
    ...
</bean>

<bean id="dataSource"
      class="org.springframework.jdbc.datasource.DriverManagerDataSource">
    ...
</bean>

<bean id="entityManagerFactory"
      class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
    ...
</bean>

<!-- Authentification -->
<bean id="customUserDetailsService" class="com.seraphim.security.auth.CustomUserDetailsService"/>

<!-- Transaction -->
<bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager"/>

<context:component-scan base-package="com.seraphim"/>

<context:annotation-config/>

<tx:annotation-driven transaction-manager="transactionManager"/> 
```

具有适当身份验证提供程序的 applicationContext-security.xml：

```
<http
    auto-config="true"
    access-denied-page="/accessDenied.jsp">

    <intercept-url
            pattern="/pages/**"
            access="ROLE_ADMIN,ROLE_USER"/>
    <intercept-url
            pattern="/**"
            access="IS_AUTHENTICATED_ANONYMOUSLY"/>

    <form-login
            login-processing-url="/j_spring_security_check"
            login-page="/index.xhtml"
            default-target-url="/pages/main.xhtml"
            authentication-failure-url="/index.xhtml"/>

    <logout
            logout-url="/logout*"
            logout-success-url="/"/>

</http>

<authentication-manager>
    <authentication-provider user-service-ref="customUserDetailsService">
        <password-encoder hash="md5"/>
    </authentication-provider>
</authentication-manager> 
```

在 faces-config.xml 我添加了一个 LoginErrorPhaseListener 来检测 BadCredentialsException 并添加了 LoginBean：

```
<lifecycle>
    <phase-listener>com.seraphim.security.auth.LoginErrorPhaseListener</phase-listener>
</lifecycle>

<managed-bean>
    <managed-bean-name>loginBean</managed-bean-name>
    <managed-bean-class>
        com.seraphim.bean.LoginBean
    </managed-bean-class>
    <managed-bean-scope>
        request
    </managed-bean-scope>
</managed-bean> 
```

index.xhtml 包含用户名和密码字段，并提交给 loginBean：

```
<h:form id="loginForm">

    <h:outputLabel for="j_username" value="User:"/>
    <p:inputText id='j_username' label="user" required="true"/>

    <h:outputLabel for="j_password" value="Password:"/>

    <h:inputSecret id='j_password' label="pass2" required="true"/>

    <h:outputLabel for="_spring_security_remember_me" value="Remember "/>
    <p:selectBooleanCheckbox id='_spring_security_remember_me'/>

    <h:outputLabel/>
    <h:commandButton type="submit" id="login" action="#{loginBean.doLogin}" value="Login"/>

</h:form> 
```

登录Bean.java

```
@Component
@Scope("request")
public class LoginBean {

  public String doLogin() throws IOException, ServletException {

    ExternalContext context = FacesContext.getCurrentInstance().getExternalContext();

    RequestDispatcher dispatcher = ((ServletRequest) context.getRequest())
            .getRequestDispatcher("/j_spring_security_check");

    dispatcher.forward((ServletRequest) context.getRequest(), (ServletResponse) context.getResponse());

    FacesContext.getCurrentInstance().responseComplete();

    // It's OK to return null here because Faces is just going to exit.
    return null;

  }
} 
```

现在在 CustomUserDetailsS​​ervice.java 中应该加载正确的用户，但这里的方法参数 username 始终为空（不是 null）。因此当然找不到有效用户：

```
public class CustomUserDetailsService implements UserDetailsService {

@Resource
IUserDao userDao;

@Override
public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {

    User user = userDao.findByUsername(username);

    if (user == null) {
        throw new UsernameNotFoundException("user not found");
    }

    // build roles for user
    Collection<GrantedAuthority> authorities = new ArrayList<GrantedAuthority>();
    authorities.add(new GrantedAuthorityImpl("ROLE_USER"));
    if(user.isAdmin()) {
        authorities.add(new GrantedAuthorityImpl("ROLE_ADMIN"));
    }

    return new org.springframework.security.core.userdetails.User(
            user.getUsername(),
            user.getPassword(),
            user.isEnabled(), 
            user.isAccountNonExpired(),
            user.isCredentialsNonExpired(), 
            user.isAccountNonLocked(),
            authorities);
}

} 
```

希望你能帮助我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:44:26.480

如果您以这种方式将 Spring Security 与 JSF 集成，则需要`prependId = "false"`在表单中进行设置，否则 Spring Security 所需的字段名称将带有表单 ID：

```
<h:form id="loginForm" prependId = "false">...</h:form> 
```

# ios - 文件出现在未跟踪列表 Git Commit 但不在 Git 状态

> ID：11390657
> 
> 赞同：1
> 
> 时间：2012-07-09T07:26:04.597
> 
> 标签：ios, xcode, github

我正在开发 iOS 项目，当我尝试在终端中执行“git commit -a”命令时，它会给出未跟踪文件的列表：

> 未跟踪的文件：
> 
> （使用“git add ...”来包含将要提交的内容）
> 
> *.xcodeproj/

同时，当我尝试执行“git status”命令时，控制台不会将其列为未跟踪文件，而是列出

> *.xcodeproj/project.pbxproj

作为修改文件。

我还需要推吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T08:40:40.907

在推送任何内容之前，您需要添加并提交那些未跟踪的文件。

```
git add *.xcodeproj/ 
```

或者将其添加到 .gitignore 文件中并忽略它。

提交和状态之间显示的差异可能是由于`--untracked-files`选项。

```
-u[<mode>]
--untracked-files[=<mode>] 
```

> 显示未跟踪的文件。
> 
> mode 参数是可选的（默认为`all`），用于指定对未跟踪文件的处理；`-u`不使用时，默认正常，即显示未跟踪的文件和目录。
> 
> 可能的选项是：
> 
> *   **`no`**- 不显示未跟踪的文件
> *   **`normal`**- 显示未跟踪的文件和目录
> *   **`all`**- 还显示未跟踪目录中的单个文件。

# reporting-services - 不能在包含任何过滤器的报表中使用聚合函数“聚合”

> ID：11390658
> 
> 赞同：5
> 
> 时间：2012-07-09T07:26:11.163
> 
> 标签：reporting-services, filter, matrix, ssrs-2008, aggregate

我知道我们不能将聚合函数用于矩阵中的过滤器。

这是AdventureWorks的情况。我有三个级别：

1.  类别
2.  子类别
3.  产品

和 1 个 Calc_Member：

```
=With MEMBER Calc_Member as [Measures].[Internet Average Sales Amount] 
```

实际上：

```
[Measures].[Internet Average Sales Amount]=
[Measures].[Internet Sales Amount]/[Measures].[Internet Order Count] 
```

我希望层次结构中的每个级别都有不同的聚合。对于子类别和产品，公式`Calc_Member`就像我之前提到的：

```
[Measures].[Internet Average Sales Amount] 
```

但是对于类别级别，我想要相关子类别的平均值：

```
WITH MEMBER Calc_Member AS
    Average(existing [Product].[Subcategory].[Subcategory].members
    , [Measures].[Internet Average Sales Amount]) 
```

在分析服务中，这工作正常，但我在基于此数据集的报告服务中有一个报告：

*   类别
*   亚类
*   产品
*   Calc_member

在 ssrs 中，我使用具有三个行组的矩阵，并为每个组添加总计。对于类别级别 1，希望在 ssrs 中使用聚合函数（使用在分析服务中定义的 Formlula）并且它再次工作正常。

但是，如果我想对某个成员（例如类别、子类别、产品）使用过滤器，则会引发此错误：

> 不能在包含任何过滤器的报表中使用聚合函数“聚合”

这个错误也是可以接受的，但我不明白的是：如果我在 Matrix1 中使用聚合函数并且在 Matrix2 中使用过滤器，它也会抛出错误。

为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-07-22T22:29:37.590

您可以将聚合加入数据集，然后将其用作过滤器吗？（显然我需要 50 声望才能发表评论）

例如：

```
 SELECT item, quantity, aggregateQuantity
 FROM TABLE T1
 LEFT JOIN (SELECT item, SUM(Quantity) AS aggregateQuantity FROM TABLE) T2
 ON T1.item = T2.item 
```

# php - 缓慢的php脚本

> ID：11390662
> 
> 赞同：-1
> 
> 时间：2012-07-09T07:26:26.813
> 
> 标签：php, mysql, function, select

我真的不喜欢全文，只是因为我没有让它为我工作，所以我决定使用长匹配。我想知道是否有办法提高这段代码的速度。我知道它笨重，而且 99% 都是垃圾。但我真正想要的只是可以查看我的整个表格并按相关性对其进行排序。：

```
if (isset($_GET['post_title'])) {
  $colname_getPosts = $_GET['post_title'];
}
mysql_select_db($database_Main);
function test($string){
    $output = '';
$array = explode(' ', $string);
foreach ($array as $arraytags) {$output .= ' OR MATCH(post_title, post_entry, post_author, tags)
AGAINST("%'.$arraytags.'"IN BOOLEAN MODE)'; } 
$array = explode(' ', $string);
foreach ($array as $arraytags) {$output .= ' OR MATCH(post_title, post_entry, post_author, tags)
AGAINST("%'.$arraytags.'%"IN BOOLEAN MODE)'; } 
$array = explode(' ', $string);
foreach ($array as $arraytags) {$output .= ' OR MATCH(post_title, post_entry, post_author, tags)
AGAINST("'.$arraytags.'%"IN BOOLEAN MODE)'; } 
$array = explode(' ', $string);
foreach ($array as $arraytags) {$output .= ' OR MATCH(post_title, post_entry, post_author, tags)
AGAINST("'.$arraytags.'"IN BOOLEAN MODE)'; } 
return $output;
}
$query_getPosts = "
SELECT post_id, post_date, post_title, post_author, post_entry, tags, sum(relevance)
FROM (
SELECT post_id, post_date, post_title, post_author, post_entry, tags, 10 AS relevance FROM blog_posts WHERE MATCH(post_title) AGAINST('%$colname_getPosts%' IN BOOLEAN MODE) 
UNION
SELECT post_id, post_date, post_title, post_author, post_entry, tags, 2 AS relevance FROM blog_posts WHERE MATCH(post_author) AGAINST('%$colname_getPosts%' IN BOOLEAN MODE)".test($colname_getPosts)." 
UNION
SELECT post_id, post_date, post_title, post_author, post_entry, tags, 5 AS relevance FROM blog_posts WHERE MATCH(post_entry) AGAINST('%$colname_getPosts%' IN BOOLEAN MODE) 
UNION
SELECT post_id, post_date, post_title, post_author, post_entry, tags, 7 AS relevance FROM blog_posts WHERE MATCH(tags) AGAINST('%$colname_getPosts%' IN BOOLEAN MODE))results
GROUP BY post_id, post_date, post_title, post_author, post_entry, tags ORDER BY relevance DESC"; 
```

我该如何改进它，他们的代码更简单吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T08:07:41.613

不需要有 4 个 foreach 循环并将字符串分解 4 次，因为它每次都是同一个数组。

```
function test($string) {
    $output = '';

    $array = explode(' ', $string);
    foreach ($array as $arraytags) {
        $output .= ' OR MATCH(post_title, post_entry, post_author, tags) AGAINST("%'.$arraytags.'"IN BOOLEAN MODE)';
        $output .= ' OR MATCH(post_title, post_entry, post_author, tags) AGAINST("%'.$arraytags.'%"IN BOOLEAN MODE)';
        $output .= ' OR MATCH(post_title, post_entry, post_author, tags) AGAINST("'.$arraytags.'%"IN BOOLEAN MODE)';
        $output .= ' OR MATCH(post_title, post_entry, post_author, tags) AGAINST("'.$arraytags.'"IN BOOLEAN MODE)';
    }
    return $output;
} 
```

这将做同样的事情，而不需要通过阵列 4 次。您的格式需要一些工作，所有字母都放在一起很难理解。

# garbage-collection - jmap -histo 可以触发完整的垃圾收集吗？

> ID：11390665
> 
> 赞同：3
> 
> 时间：2012-07-09T07:26:41.883
> 
> 标签：garbage-collection, jmap

我们知道 jmap -histo:live 会触发完整的 gc 以确定活动对象：

[使用 live 选项时，jmap 是否强制进行垃圾收集？](https://stackoverflow.com/questions/6418089/does-jmap-force-garbage-collection-when-the-live-option-is-used)

由于 jmap -histo 考虑了堆中的所有对象（年轻代和老年代的对象），我的观点是， jmap -histo 也可以触发完整的 gc。但是，我找不到关于 jmap -histo 是否会触发完整 gc 的可靠文档。

jmap -histo 可以触发完整的垃圾收集吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2017-02-24T02:58:30.607

`jmap -histo` 不会触发完整的 gc，但*会*`jmap -histo:live`。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-01T17:06:55.977

有更多 JDK 经验的人应该验证这一点，但我相当有信心它会触发完整的 GC，至少在[OpenJDK 1.7](http://hg.openjdk.java.net/jdk7/jdk7)中是这样。开始`jdk/src/share/classes/sun/tools/jmap/JMap.java`：

```
public class JMap {
    ...
    private static String LIVE_HISTO_OPTION = "-histo:live";
    ...        
    ...
      } else if (option.equals(LIVE_HISTO_OPTION)) {
            histo(pid, true);
    ...
    private static final String LIVE_OBJECTS_OPTION = "-live";
    private static final String ALL_OBJECTS_OPTION = "-all";
    private static void histo(String pid, boolean live) throws IOException {
        VirtualMachine vm = attach(pid);
        InputStream in = ((HotSpotVirtualMachine)vm).
            heapHisto(live ? LIVE_OBJECTS_OPTION : ALL_OBJECTS_OPTION);
        drain(vm, in);
    } 
```

三元运算符 in使用参数`Jmap.histo()`调用 heapHisto in ：`jdk/src/share/classes/sun/tools/attach/HotSpotVirtualMachine.java``-live`

```
// Heap histogram (heap inspection in HotSpot)
public InputStream heapHisto(Object ... args) throws IOException {
    return executeCommand("inspectheap", args);
} 
```

如果我们看看`inspectheap`它自己，在`hotspot/src/share/vm/services/attachListener.cpp`：

```
// Implementation of "inspectheap" command
//
// Input arguments :-
//   arg0: "-live" or "-all"
static jint heap_inspection(AttachOperation* op, outputStream* out) {
  bool live_objects_only = true;   // default is true to retain the behavior before this change is made
  const char* arg0 = op->arg(0);
  if (arg0 != NULL && (strlen(arg0) > 0)) {
    if (strcmp(arg0, "-all") != 0 && strcmp(arg0, "-live") != 0) {
      out->print_cr("Invalid argument to inspectheap operation: %s", arg0);
      return JNI_ERR;
    }
    live_objects_only = strcmp(arg0, "-live") == 0;
  }
  VM_GC_HeapInspection heapop(out, live_objects_only /* request full gc */, true /* need_prologue */);
  VMThread::execute(&heapop);
  return JNI_OK;
} 
```

请注意，特别是`live_objects_only`strcmp 和结果在`heapop`两行之后调用。如果通过任何途径`inspectheap`获取`-live`参数，它会请求完整的 gc。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-05T06:09:24.707

不，`jmap -histo`不会触发 FullGC。我经常打印直方图，在我的 GC 日志中看不到任何 Full GC。

我不知道它是如何在 VM 中实现的，但您不必担心完整的 GC。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-01-22T05:26:26.353

以我的经验：是的，它是。当你做这个实验时，你可以使用命令：

```
 sudo -utomcat jstat -gcutil {PID} 1000 1000 
```

说明：pid后面的第一个参数1000是打印的时间间隔。pid 之后的第二个参数 1000 是循环计数。使用这个命令你可以监控 jvm gc 活动。你可以看到完整的 gc 时间和计数，如下所示：

`S0 S1 E O P YGC YGCT FGC FGCT GCT 0.00 18.45 13.12 84.23 47.64 206149 5781.308 83 115.479 5896.786 0.00 21.84 5.64 84.24 47.64 206151 5781.358 83 115.479 5896.837 0.00 32.27 1.66 84.24 47.64 206153 5781.409 83 115.479 5896.888 0.00 13.96 53.54 84.24 47.64 206155 5781.450 83 115.479 5896.929 0.00 21.56 91.77 84.24 47.64 206157 5781.496 83 115.479 5896.974`

现在您可以在其他终端执行 jmap 命令，首先，您执行不带`:live`参数的命令，然后使用此参数再次执行，当命令执行带`;live`参数时，您应该看到完整的 gc 活动，换句话说，完整的gc 计数将增加。

第二个命令可能是这样的：

`sudo -u tomcat /home/path/to/jmap -histo:live {pid} | head -n 40`

顺便说一下，我的JDK版本是JDK7

# android - Android中的光标适配器列表视图

> ID：11390672
> 
> 赞同：0
> 
> 时间：2012-07-09T07:27:13.467
> 
> 标签：android, listview

在我的应用程序中，我试图在`listview`. 我无法将数据添加到`cursoradapter`. 我参考了简单适配器示例中的代码，但是`cursoradapter`我遇到了一个问题（活动中没有显示任何内容）。

这是我的代码：

```
super.onCreate(savedInstanceState);
setContentView(R.layout.report);  
db.open();
Cursor c = db.getAllTitles();
startManagingCursor(c); 
String[] from = new String[] { db.KEY_INCOME,db.KEY_DESC};
int[] to = new int[] {R.id.text1 ,R.id.text2};
SimpleCursorAdapter notes = new SimpleCursorAdapter(this, R.layout.columnview, c, from, to);
//System.out.println("notes="+notes.getCount());
setListAdapter(notes); 
```

我的 mainXml 代码：

```
<?xml version="1.0" encoding="utf-8"?>
<ListView xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@id/android:list"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="#bfffdf"
    android:drawSelectorOnTop="false">
</ListView> 
```

我的专栏 xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
     xmlns:android="http://schemas.android.com/apk/res/android"
     android:paddingTop="4dip"
     android:paddingBottom="6dip"
     android:layout_width="fill_parent"
     android:layout_height="wrap_content"
     android:orientation="horizontal">
     <TextView android:id="@+id/text1"
        android:textColor="#00ff00" 
        android:textSize="18sp"
        android:layout_width="30dip"
        android:layout_height="wrap_content"/>
     <TextView android:id="@+id/text2"
        android:textColor="#ff0000"
        android:textSize="18sp"
        android:layout_width="110dip"
        android:layout_height="wrap_content" 
        android:layout_weight="1"/>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:58:36.093

干得好。

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal"
    android:paddingBottom="6dip"
    android:paddingTop="4dip" >

    <TextView
        android:id="@+id/text1"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginRight="10dp"
        android:layout_weight="1"
        android:textColor="#00ff00"
        android:textSize="18sp" />

    <TextView
        android:id="@+id/text2"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:textColor="#ff0000"
        android:textSize="18sp" />

</LinearLayout> 
```

# javascript - Javascript：运行时的对象模型动态值

> ID：11390676
> 
> 赞同：0
> 
> 时间：2012-07-09T07:27:22.067
> 
> 标签：javascript, variables, object

我希望在运行时动态地将对象模型添加到 Google 图表中。我使用 AJAX 调用 php 函数来获取数据并根据列数，我希望将最后一列设为折线图。

我希望按照以下脚本将 5 替换为 c 。

```
c = data.getNumberOfColumns()-2

var options = { 
   width: 400, 
   height: 240, 
   seriesType: "bars", 
   series: {5: {type: "line"}}, 
 }; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:29:16.827

```
c = data.getNumberOfColumns()-2;

var options = { 
   width: 400, 
   height: 240, 
   seriesType: "bars", 
   series: {}
 };

 options.series[c] = {type: "line"}; 
```

# ruby-on-rails - 为什么我可以从 irb 使用 RMagick 而不是 rails 控制台？

> ID：11390677
> 
> 赞同：6
> 
> 时间：2012-07-09T07:27:23.537
> 
> 标签：ruby-on-rails, ruby, rmagick

ruby 1.9.2p320 rails 3.0.8 Fedora release 16 (Verne)

做过：

yum install imagemagick yum install ImageMagick-devel gem install RMagick 完全没有问题

我可以从独立的 Ruby 程序运行 RMagick，但是 Rails 中的 Ruby（使用相同的解释器）找不到 RMagick：

```
gremlin:eric car01 $ irb
irb(main):001:0> 需要“RMagick”
=> 真
irb(main):002:0> Magick::Version
=>“RMagick 2.13.1”
irb(main):003:0> $".grep(/Magick/)
=> ["/usr/local/lib/ruby/gems/1.9.1/gems/rmagick-2.13.1/lib/RMagick2.so", "/usr/local/lib/ruby/gems/1.9.1/ gems/rmagick-2.13.1/lib/RMagick.rb"]
irb（主）：004：0>
gremlin:eric cars01 $ 导轨控制台
加载开发环境（Rails 3.0.8）
irb(main):001:0> 需要'rubygems'
=> 无
irb(main):002:0> 需要“RMagick”
LoadError：没有要加载的文件——RMagick
    来自 /usr/local/lib/ruby/gems/1.9.1/gems/activesupport-3.0.8/lib/active_support/dependencies.rb:239:in `require'
    来自 /usr/local/lib/ruby/gems/1.9.1/gems/activesupport-3.0.8/lib/active_support/dependencies.rb:239:in `block in require'
    来自 /usr/local/lib/ruby/gems/1.9.1/gems/activesupport-3.0.8/lib/active_support/dependencies.rb:225:in `block in load_dependency'
    来自 /usr/local/lib/ruby/gems/1.9.1/gems/activesupport-3.0.8/lib/active_support/dependencies.rb:596:in `new_constants_in'
    来自 /usr/local/lib/ruby/gems/1.9.1/gems/activesupport-3.0.8/lib/active_support/dependencies.rb:225:in `load_dependency'
    来自 /usr/local/lib/ruby/gems/1.9.1/gems/activesupport-3.0.8/lib/active_support/dependencies.rb:239:in `require'
    来自 (irb):2
    来自 /usr/local/lib/ruby/gems/1.9.1/gems/railties-3.0.8/lib/rails/commands/console.rb:44:in `start'
    来自 /usr/local/lib/ruby/gems/1.9.1/gems/railties-3.0.8/lib/rails/commands/console.rb:8:in `start'
    来自 /usr/local/lib/ruby/gems/1.9.1/gems/railties-3.0.8/lib/rails/commands.rb:23:in `<top (required)>'
    来自脚本/rails:6:in `require'
    来自脚本/rails:6:in `'

```

如果我将 RMagick 放在 Gemfile 中，无论有没有它的版本，bundle 都会说它在机器上找不到 gem。但它适用于其他宝石。

任何人都知道为什么 Ruby 可以在 Rails 之外加载 RMagick 但不能在其中加载？

同时，在加载之前在 $: 上推送 RMagick 路径的超酷解决方法可以工作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T07:56:12.260

在您的 Gemfile 中添加这一行

`gem "rmagick"`

然后`bundle install`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-10T08:09:35.937

您的问题是您可能有 2+ ruby​​，请检查以下内容：

*   哪个红宝石
*   哪个irb
*   哪个捆绑
*   哪个宝石

他们肯定在不同的地方。您必须确保他们使用相同的环境。

# java - 使用 apache commons net 的代理服务器后面的 FTPS 客户端

> ID：11390681
> 
> 赞同：1
> 
> 时间：2012-07-09T07:27:38.857
> 
> 标签：java, ftps

我们的网络团队只允许我们通过代理服务器连接到我们的第三方客户端。
有没有办法将代理服务器添加到 apache commons net 的 FTPS 客户端？
如果不可能，你能告诉一个方法如何做到这一点。

顺便说一下，这是在公司网络之外工作的代码

```
String server = "ftp.xxxx.com";
    String username = "username";
    String password = "password";
    String remoteFile = "xmlSR.xml";
    String localFile = "c:/downloadedfile.xml";
    String protocol = "TLS"; // TLS / SSL
    int timeoutInMillis = 3000;
    boolean isImpicit = false;

    FTPSClient client = new FTPSClient(protocol, isImpicit);
    client.enterLocalActiveMode();
    client.setRemoteVerificationEnabled(false);
    client.setActivePortRange(50000, 50200);
    client.setDataTimeout(timeoutInMillis);
    client.addProtocolCommandListener(new PrintCommandListener(
            new PrintWriter(System.out)));
    client.setTrustManager(TrustManagerUtils.getAcceptAllTrustManager());

    try {
        int reply;

        client.connect(server);

        client.login(username, password);
        client.setFileType(FTP.BINARY_FILE_TYPE);

        client.execPBSZ(0);
        client.execPROT("P");

        System.out.println("Connected to " + server + ".");

        reply = client.getReplyCode();

        if (!FTPReply.isPositiveCompletion(reply)) {
            client.disconnect();
            System.err.println("FTP server refused connection.");
            System.exit(1);
        }

        client.listFiles();

        boolean retrieved = client.retrieveFile(remoteFile,
                new FileOutputStream(localFile));

    } catch (Exception e) {

        if (client.isConnected()) {
            try {
                client.disconnect();
            } catch (IOException ex) {
                ex.printStackTrace();
            }
        }
        System.err.println("Could not connect to server.");
        e.printStackTrace();
        return;
    } finally {
        System.out.println("# client disconnected");
        client.disconnect();
    } 
```

甚至我们尝试为 proxyHost 和 proxyPort 添加一些系统属性

```
System.setProperty("http.proxyPort", "80");
System.setProperty("http.proxyHost", "yyyy.com");
System.setProperty("ftp.proxyPort", "80");
System.setProperty("ftp.proxyHost", "yyyy.com");
System.setProperty("socksProxyPort", "80");
System.setProperty("socksProxyHost", "yyyy.com"); 
```

错误信息

```
Could not connect to server.
java.net.UnknownHostException: ftp.xxxx.com
at java.net.Inet4AddressImpl.lookupAllHostAddr(Native Method)
at java.net.InetAddress$1.lookupAllHostAddr(InetAddress.java:849)
at java.net.InetAddress.getAddressFromNameService(InetAddress.java:1202)
at java.net.InetAddress.getAllByName0(InetAddress.java:1153)
at java.net.InetAddress.getAllByName(InetAddress.java:1083)
at java.net.InetAddress.getAllByName(InetAddress.java:1019)
at java.net.InetAddress.getByName(InetAddress.java:969)
at org.apache.commons.net.SocketClient.connect(SocketClient.java:192)# client disconnected

at org.apache.commons.net.SocketClient.connect(SocketClient.java:285)
at com.ti.itg.peit.bom.TestingApache.main(TestingApache.java:44) 
```

非常感谢。

杰拉德

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T10:02:38.560

它可能..请参阅下面的链接....

[http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/net/ProxySelector.java](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/net/ProxySelector.java)

使用 Apache 的公共库通过代理服务器访问 FTP，请`RemoteVerificationEnabled`在创建 FTPClient 对象后将其设置为 false。

例如：

```
FTPClient fc = new FTPClient();  
fc.setRemoteVerificationEnabled(false); 
```

您可以使用`java.net.Proxy`Java 1.5 及更高版本的类，用于设置或取消设置每个连接的代理

通过使用`java.net.ProxySelector`, 将为每个连接确定一个代理。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2016-11-27T13:55:38.687

正如所观察到的，这是一个老话题，但没有正确提供答案。

查看 commons apache 示例，我们可以找到以下类，它详细解释了一种很好的可用配置和操作：[https ://commons.apache.org/proper/commons-net/examples/ftp/FTPClientExample.java](https://commons.apache.org/proper/commons-net/examples/ftp/FTPClientExample.java)

关于您的问题，在 FTPClient 上配置代理的最简单有效的方法是：

```
FTPClient ftp = new FTPHTTPClient("proxyHost", 8080); 
```

如有必要，您还可以传递代理用户和密码，如下所示：

```
FTPClient ftp = new FTPHTTPClient("proxyHost", 8080, "proxyUser", "proxyPass"); 
```

如果对从何处获取最新版本的 commons.net 有疑问，请遵循以下 maven 参考：

```
<dependency>
    <groupId>commons-net</groupId>
    <artifactId>commons-net</artifactId>
    <version>3.5</version>
</dependency> 
```

请记住，不要将代理硬编码，因为您可能需要在不同的位置运行它，根据某些参数的存在创建不同的 FTPClient 实例。

# java - 运行时 JMS 服务器重新启动后发送 JMS 消息

> ID：11390685
> 
> 赞同：0
> 
> 时间：2012-07-09T07:27:53.707
> 
> 标签：java, spring, jms, weblogic, reconnect

我对 JMS 有疑问。问题是，我有一个应用程序，它正在尝试通过 JMS 发送消息，但是在 JMS 服务器重新启动后，它会在服务器停机时抛出异常。它没有重新连接。

无需重新启动 JMS 服务器就可以了，我使用的是 weblogic 10.x。

JMS配置有问题吗？

谢谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-09T07:55:16.313

您可以发布您的代码如何发送消息吗？

如果您在 JMS 服务器关闭时尝试发送消息，您可能会遇到异常，并且必须处理该异常。当您下次尝试发送消息时，当 JMS 服务器重新启动并运行时，您可能会从连接工厂创建一个新连接。然后将发生重新连接：

```
// Let's say, you inject CF and Dest.
@Resource(lookup = "jms/ConnectionFactory")
private static ConnectionFactory cf;

@Resource(lookup = "jms/MyQueue")
private static Destination dest;

public void sendMessage(){ // called every time you need to send a message.
   try{
     Connection con = cf.createConnection(); // will reconnect, otherwise pooled.
     Session sess = con.createSession(false,Session.AUTO_ACKNOWLEDGE);
     MessageProducer prod = sess.createProducer(dest);
     Message msg = sess.createTextMessage("Hello, World");
     prod.send(msg);
     sess.close();
     con.close();
   }catch(Exception e){
     // handle errors 
   }
} 
```

但是，Weblogic JMS 中有一些内置的故障转移/重新连接功能，请查看此页面：

[有关重新连接 JMS 生产者的 Oracle 代码清单和文档](http://docs.oracle.com/cd/E13222_01/wls/docs92/jms/recover.html#wp1315914)

# html - html5设置div宽度大于body宽度

> ID：11390688
> 
> 赞同：1
> 
> 时间：2012-07-09T07:28:06.280
> 
> 标签：html, width

我设置`body {margin: 0 auto; width: 900px;}`

100% 显示宽度

我希望该主体内的`div`（或`section`）之一是显示的 100%（不是其父级 900px，而是更多）。应该为这个 div 应用什么样式？

```
<body>
<div>
900px width of this text
</div>
<div style="???">
the whole 100% length of display
</div>
</body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:47:53.357

如果你在`<body>`. 我会`<body>`独自离开并做类似的事情：

```
div {
  width: 900px;
}
div.fullwidth {
  width: 100%;
} 
```

然后确保您的内容是一系列`<div>`s，其中一些具有`class="fullwidth"`（此类元素需要是非嵌套的，因为对于嵌套元素，“100%”将被解释为“100% 的包含元素”，这反过来计算为“900px 的 100%”）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T07:44:20.023

如果你想要`<div>`100% 的屏幕宽度，你必须`display`在 CSS 中设置属性。

```
display:block; 
```

[一个例子](http://www.w3schools.com/cssref/pr_class_display.asp)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T07:52:43.453

您可以设置`position:absolute;`阻止它从主体继承宽度。

# multithreading - Node.js C++ 插件：来自不同线程的多个回调

> ID：11390689
> 
> 赞同：5
> 
> 时间：2012-07-09T07:28:19.447
> 
> 标签：multithreading, node.js

我正在创建一个节点 C++ 插件，它应该回调一个 js 函数，因为事件是由不受我控制的其他线程触发的（它实际上是来自我使用的托管 dll 的 .net 线程）。由于 JS 世界是单线程的，我不能只保留 js 函数引用并从非 js 线程调用它。我什至无法创建要传递给该线程上的回调函数的参数。

我已经看到`uv_queue_work`在您想要将工作从 js 线程中移出并且一旦完成并从 js 线程回调以执行您需要对其执行的任何操作的情况下使用，例如回调 js 函数。

供以后参考，这是该函数的签名：

```
int uv_queue_work(uv_loop_t* loop, uv_work_t* req, uv_work_cb work_cb,
uv_after_work_cb after_work_cb); 
```

调用 uv_queue_work 对于一次性工作来说很好，我可能会通过链接对`uv_queue_work`from的调用来任意调用我`after_work_cb`，同时`work_cb`与另一个线程同步，但我想知道是否没有更直接的方法来做到这一点。

就像 node.js 提供的 fn 一样，它可以被任何其他线程直接调用，fn 指针指向下一次要在主 js 线程上执行的代码。任何的想法？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-09T08:41:28.537

而不是使用 uv_queue_work，您应该查看 uv_async_* 函数（查看[https://github.com/joyent/libuv/blob/master/include/uv.h](https://github.com/joyent/libuv/blob/master/include/uv.h)）。

可以在节点 sqllite 项目[https://github.com/developmentseed/node-sqlite3/blob/master/src/async.h](https://github.com/developmentseed/node-sqlite3/blob/master/src/async.h)中找到一个非常好的实现。

但是请注意，如果您对这些东西不**非常**小心，您最终会遇到一些**可怕**的循环引用计数错误（应用程序提前退出，或者根本不退出）

# ruby-on-rails - 同一个表rails模型中两个字段的唯一性

> ID：11390694
> 
> 赞同：2
> 
> 时间：2012-07-09T07:28:50.397
> 
> 标签：ruby-on-rails, ruby

有没有办法验证同一模型中两个或多个字段的唯一性？例如，假设我有字段`:name`和`:zip`. 一个可接受的集合是`{[name1, zip1], [name1, zip2]}`，但你不能`{[name1,zip1],[name1,zip1]}`在同一张桌子上。

有没有`validates`可以使用的rails方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:35:42.957

你应该使用`scope`：

```
 validates_uniqueness_of :name, :scope => [:zip] 
```

有关更多信息，请参阅[文档](http://api.rubyonrails.org/classes/ActiveRecord/Validations/ClassMethods.html#method-i-validates_uniqueness_of)和[指南](http://guides.rubyonrails.org/active_record_validations_callbacks.html#uniqueness)。

您可以使用`:scope`option 指定用于限制唯一性检查的其他属性。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-09T07:37:41.287

其他方式

```
validates :name, :uniqueness => {:scope => [:zip]} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-09T13:06:14.883

您可以使用其他人告诉您的验证来执行此操作，但您也可以向表中添加唯一索引。这将防止在数据库层上插入重复项并提高选择速度。您需要为此创建一个新的迁移`rails g migration addUniqueIndexForZipAndNameToTablename`

```
add_index :tablename, [:name, :zip], :unique => true 
```

您可能遇到的唯一问题是，当您尝试插入重复项时出现 MySQL 错误，您需要防止使用

```
begin
  # insert,...
rescue ExceptionHere
  # do sth...
end 
```

# android - NullPointerException using custom array adapter

> ID：11390695
> 
> 赞同：2
> 
> 时间：2012-07-09T07:28:53.837
> 
> 标签：android, nullpointerexception

I'm getting a `NullPointerException` on my `ArrayAdapter`. I'm getting a value from a database connected to the localhost and When I post the value to the log cat and delete the `textview.settext("something")` my error is gone. But when I initialize the `TextView` and put something in it the error shows again.

Here is my snippet:

```
public class MySimpleArrayAdapter extends ArrayAdapter<String> {
    private final Context context;
    private final List<String> values;
    //private final List<String> arr;

    public MySimpleArrayAdapter(Context context, List<String> values) {
        super(context, R.layout.rowlayout, values);
        this.context = context;
        this.values = values;
    }

    static class ViewHolder {
        public TextView text;
        public ImageView image;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        Log.i("List",values.get(position).toString());
        LayoutInflater inflater = (LayoutInflater) context
                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        ViewHolder viewHolder = new ViewHolder();
        View rowView = inflater.inflate(R.layout.rowlayout, parent, false);
        TextView textView = (TextView) rowView.findViewById(R.id.txtlarge);
        textView.setText("hahhaha");

        return rowView;
    }

    private Drawable LoadImageFromWebOperations(String url)
    {
        try
        {
            InputStream is = (InputStream) new URL(url).getContent();
            Drawable d = Drawable.createFromStream(is, "src name");
            return d;
        } 
        catch (Exception e)
        {
            Log.w("LoadImageFromWebOperations",e.toString());
            return null;
        }
    }
} 
```

My error is here:

```
07-09 02:20:47.433: E/AndroidRuntime(1168): FATAL EXCEPTION: main
07-09 02:20:47.433: E/AndroidRuntime(1168): java.lang.NullPointerException
07-09 02:20:47.433: E/AndroidRuntime(1168):     at com.database_demo.MySimpleArrayAdapter.getView(MySimpleArrayAdapter.java:57)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.widget.AbsListView.obtainView(AbsListView.java:1315)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.widget.ListView.makeAndAddView(ListView.java:1727)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.widget.ListView.fillDown(ListView.java:652)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.widget.ListView.fillFromTop(ListView.java:709)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.widget.ListView.layoutChildren(ListView.java:1580)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.widget.AbsListView.onLayout(AbsListView.java:1147)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.view.View.layout(View.java:7035)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.widget.FrameLayout.onLayout(FrameLayout.java:333)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.view.View.layout(View.java:7035)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1249)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1125)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.widget.LinearLayout.onLayout(LinearLayout.java:1042)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.view.View.layout(View.java:7035)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.widget.FrameLayout.onLayout(FrameLayout.java:333)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.view.View.layout(View.java:7035)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.view.ViewRoot.performTraversals(ViewRoot.java:1045)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.view.ViewRoot.handleMessage(ViewRoot.java:1727)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.os.Handler.dispatchMessage(Handler.java:99)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.os.Looper.loop(Looper.java:123)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at android.app.ActivityThread.main(ActivityThread.java:4627)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at java.lang.reflect.Method.invokeNative(Native Method)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at java.lang.reflect.Method.invoke(Method.java:521)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
07-09 02:20:47.433: E/AndroidRuntime(1168):     at dalvik.system.NativeStart.main(Native Method) 
```

Please help thanks

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-09T07:37:44.513

Replace

```
View rowView = inflater.inflate(R.layout.rowlayout, parent, false); 
```

By

```
View rowView = inflater.inflate(R.layout.rowlayout, null); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T07:38:18.690

Most probably, your `textview` or `rowview` is a null object :-)

Have you tried debugging it ?

*EDIT*

*   Guessing `textview` is null, [http://developer.android.com/reference/android/app/Activity.html#findViewById%28int%29](http://developer.android.com/reference/android/app/Activity.html#findViewById%28int%29) returns null is id ios not found. Have you cross-checked that `txtlarge` exists ?

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T07:47:21.360

First you are Using viewholder in a bad way, Second use `convertView = inflater.inflate(R.layout.rowlayout, null);`

```
 LayoutInflater inflater = (LayoutInflater) context .getSystemService(Context.LAYOUT_INFLATER_SERVICE);

if (convertView ==null ) {

    convertView = inflater.inflate(R.layout.rowlayout, null);
    // Creates a ViewHolder and store references to the two children views
    // we want to bind data to.
    holder = new ViewHolder();
    convertView.setTag(holder);
} else {
    // Get the ViewHolder back to get fast access to the TextView
    // and the ImageView.
    holder = (ViewHolder) convertView.getTag();
}

// Bind the data efficiently with the holder.
holder.text = (TextView) convertView.findViewById(R.id.txtLarge);
holder.image = (ImageView) convertView.findViewById(R.id.icon); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-09T07:47:46.863

There's nothing wrong on your above code in order to run normally. Based on many empty lines, I guess you have tried to deleted some lines, update layout ..blah blah. So I think clean project and re-run it again.

Sometimes, when you try to edit layout and don't clean your projects, it will use the previous build cache, which usually cause `NullPointerException` because the new layout is not updated.

# c# - 通过字符串获取属性值

> ID：11390697
> 
> 赞同：0
> 
> 时间：2012-07-09T07:28:58.387
> 
> 标签：c#

> **可能重复：**
> [C#如何通过反射获取字符串属性的值？](https://stackoverflow.com/questions/987982/c-sharp-how-can-i-get-the-value-of-a-string-property-via-reflection)
> [在 C# 中使用反射从字符串中获取属性值](https://stackoverflow.com/questions/1196991/get-property-value-from-string-using-reflection-in-c-sharp)

当我有一个字符串时，我想将它与我所有的属性名称进行比较。匹配时，如何返回此属性的值？

类 = 设置

设置有 2 个属性。

当我有一个与属性名称之一相同的字符串时。如何返回该属性的值？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T07:31:31.507

您可以使用[反射](http://msdn.microsoft.com/en-us/library/ms173183.aspx)来读取属性名称和值。例如，要获取某个类型的公共属性列表，您可以使用[GetProperties](http://msdn.microsoft.com/en-us/library/aky14axb)方法：

```
var properties = typeof(Setting);
foreach (var prop in properties)
{
    // here you can access the name of the property using prop.Name
    // if you want to access the value you could use the prop.GetValue method
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T07:32:35.173

您可以使用反射来获取类的属性，您可以通过类似的方式来实现这一点。

```
PropertyInfo[] propertyInfos;
propertyInfos = typeof(MyClass).GetProperties(BindingFlags.Public |
                                              BindingFlags.Static);

foreach (PropertyInfo propertyInfo in propertyInfos)
{
  if (propertyInfo.Name == yourString)
  {
       return yourString;
  }
} 
```

# c - 在头文件中使用静态函数有什么好处和坏处

> ID：11390702
> 
> 赞同：3
> 
> 时间：2012-07-09T07:29:22.117
> 
> 标签：c, function, static

> **可能重复：**
> [C/C++：头文件中的静态函数，这是什么意思？](https://stackoverflow.com/questions/780730/c-c-static-function-in-header-file-what-does-it-mean)
> [何时将静态函数定义放在 C 的头文件中？](https://stackoverflow.com/questions/3956694/when-to-put-static-function-definitions-in-header-files-in-c)

在头文件中使用静态函数的优缺点是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T07:32:56.380

假设您在头文件中实现它，每次包含您的头文件时，都会重复该功能。这意味着大量生成的二进制文件、糟糕的实践以及调试和维护的整体噩梦。

如果只是在header中定义，则需要在每个C文件中实现。

*编辑*

*   如果它不在标头中，则您有一个具有给定名称的函数，多次实现，从而提供可能不同的行为。否则，不要将其设为静态并实施一次。拥有多个同名函数对维护者来说是一个陷阱（因此调试和维护地狱）
*   静态函数和内联函数是不同的事情。静态函数是“语言环境”，而内联函数是“将被调用它们的主体替换”。在开销方面，调用标准函数或静态函数是相同的“性能代价”。

*编辑 2* 这是您可能遇到的陷阱

*静态的.h*

```
#ifndef _STATIC_H_
#define  _STATIC_H_
#include <stdio.h>

static void printer(void);
void nonStatic (void);

#endif 
```

*交流*

```
#include "static.h"

static void printer(void)
{
    printf ("half the truth : 21\n");
}

int main (void) {
    printer();
    nonStatic();
} 
```

*公元前*

```
#include <stdio.h>
#include "static.h"

static void printer (void)
{
    printf("Truth : 42\n");
}

void nonStatic(void)
{
    printf ("Non static\n");
    printer();
} 
```

查看这段代码，您从 2 个不同的位置调用“打印机”，您会得到不同的行为：

```
D:\temp>gcc -o temp.exe a.c b.c && temp
half the truth : 21
Non static
Truth : 42 
```

在这个小例子中很明显，当隐藏在一个大软件中时真的很棘手

# apache-flex - Flex Maven 如何从第三方 swc 库创建 rsl

> ID：11390705
> 
> 赞同：2
> 
> 时间：2012-07-09T07:29:37.350
> 
> 标签：apache-flex, maven, flash, swc, rsl

我的项目中使用了一些 swc 文件，当我通过 maven 编译项目时，我必须将 swc 安装到 maven 存储库，例如：

```
mvn install:install-file -Dfile=./libs/robotlegs-framework-1.5.1.swc -DgroupId=org.robotlegs -DartifactId=robotlegs-framework -Dversion=1.5.1 -Dpackaging=swc 
```

并使用：

```
<dependency>
            <groupId>org.robotlegs</groupId>
            <artifactId>robotlegs-framework</artifactId>
            <version>1.5.1</version>
            <type>swc</type>
        </dependency> 
```

如果我想通过 RSL 添加库，我必须安装 swf：

```
mvn install:install-file -Dfile=./libs/robotlegs-framework-1.5.1.swf -DgroupId=org.robotlegs -DartifactId=robotlegs-framework -Dversion=1.5.1 -Dpackaging=swf 
```

像这样使用：

```
<dependency>
            <groupId>org.robotlegs</groupId>
            <artifactId>robotlegs-framework</artifactId>
            <version>1.5.1</version>
            <type>swc</type>
            <scope>rsl</scope>
        </dependency> 
```

我不想通过 shell 安装 swc 和 swf，是否有一些解决方案可以将 swc 文件解压缩为 swf 并创建 rsl，然后我只需要使用 like

```
<dependency>
                <groupId>org.robotlegs</groupId>
                <artifactId>robotlegs-framework</artifactId>
                <version>1.5.1</version>
                <type>swc</type>
                <scope>rsl</scope>
            </dependency> 
```

谢谢！！！

# c# - 如何使用 Visual Studio 安装项目编写应用程序路径

> ID：11390706
> 
> 赞同：2
> 
> 时间：2012-07-09T07:29:37.310
> 
> 标签：c#, winforms, registry, setup-project

如何使用 Visual Studio 安装项目编写应用程序安装路径？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:36:25.533

您的解决方案可以在此[线程](https://stackoverflow.com/questions/3925216/getting-application-path-during-the-installation)上讨论。

# jasper-reports - 如何使用表格组件并将参数（Map）或变量作为数据源传递给表格

> ID：11390707
> 
> 赞同：2
> 
> 时间：2012-07-09T07:29:42.253
> 
> 标签：jasper-reports, ireport

我已经使用 ireport 4.5.0 中的表组件创建了表。我想在我的代码中通过 map 传递数据。所以我通过 Dataset Run 提供了数据源。在这一点上，我一直尝试通过给出“连接/数据源 exp”、“参数”和“参数映射 exp”，但我没有得到表格。我得到的只是一行，甚至没有空单元格。我也在子数据集和表格组件中创建了地图参数，我猜不出我错过了什么步骤。

**子数据集**

```
 <subDataset name="Table Dataset 2">
    <parameter name="Details" class="java.util.Map"/>
</subDataset> 
```

**表组件**

```
 <componentElement>
            <reportElement key="table 1" style="table 1" x="0" y="0" width="555" height="230"/>
            <jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
                <datasetRun subDataset="Table Dataset 2">
                    <datasetParameter name="Details">
                        <datasetParameterExpression><![CDATA[$P{Details}.get("Name")]]></datasetParameterExpression>
                    </datasetParameter>
                </datasetRun>
                <jr:column width="25">
                    <jr:detailCell style="table 1_TD" height="44" rowSpan="1">
                        <staticText>
                            <reportElement x="0" y="0" width="25" height="44"/>
                            <textElement textAlignment="Center" verticalAlignment="Middle"/>
                            <text><![CDATA[1]]></text>
                        </staticText>
                    </jr:detailCell>
                </jr:column>
                <jr:column width="255">
                    <jr:detailCell style="table 1_TD" height="44" rowSpan="1">
                        <staticText>
                            <reportElement x="0" y="0" width="255" height="44"/>
                            <box leftPadding="5"/>
                            <textElement verticalAlignment="Middle">
                                <font isStrikeThrough="false"/>
                            </textElement>
                            <text><![CDATA[Name]]></text>
                        </staticText>
                    </jr:detailCell>
                </jr:column>
                <jr:column width="275">
                    <jr:detailCell style="table 1_TD" height="44" rowSpan="1">
                        <textField isStretchWithOverflow="true">
                            <reportElement x="0" y="0" width="275" height="44"/>
                            <box leftPadding="5"/>
                            <textElement verticalAlignment="Middle"/>
                            <textFieldExpression><![CDATA[$P{Details}.get("Name")]]></textFieldExpression>
                        </textField>
                    </jr:detailCell>
                </jr:column>
            </jr:table>
        </componentElement> 
```

我还尝试了数据集 Run as

```
 <datasetRun subDataset="Table Dataset 2">
                    <parametersMapExpression><![CDATA[$P{Details}.get( "Name" )]]></parametersMapExpression>
                </datasetRun> 
```

和

```
 <datasetRun subDataset="Table Dataset 2">
                    <parametersMapExpression><![CDATA[$P{Details}]]></parametersMapExpression>
                </datasetRun> 
```

和

```
 <datasetRun subDataset="Table Dataset 2">
                    <parametersMapExpression><![CDATA[$P{REPORT_PARAMETERS_MAP}]]></parametersMapExpression>
                </datasetRun> 
```

但是我只有一行作为输出，如何将地图传递给表格，我犯了什么错误？请帮助我。谢谢..

# javascript - tinymce 指令后 AngularJS 导航不起作用

> ID：11390709
> 
> 赞同：5
> 
> 时间：2012-07-09T07:29:48.970
> 
> 标签：javascript, tinymce, angularjs

我有问题我无法弄清楚，但我确实有一个提示。在集成 TinyMCE 之前，主导航运行良好，例如链接设置、分析、设置；如果您单击它们，它现在不起作用。

这是我的js文件：

```
var app_htmleditor_module = angular.module('app_htmleditor', ['components']).
    config(['$routeProvider', function($routeProvider) {
        $routeProvider.
            when('/', {templateUrl: getBaseURL()+'public/tpl/app/htmleditor.htm',   controller: HtmlEditorCtrl, reloadOnSearch:false }).
            otherwise( {redirectTo: '/'});
    }
]);

angular.module('components', []).directive('imageUpload', function () {
    return {
        restrict: 'E',
        scope: {
              uploaderid:'@uploaderid'
            },
        templateUrl: '/public/tpl/imageupload.htm'
    }
});

app_htmleditor_module.directive('uiTinymce', function() {
     return {

         require: 'ngModel',
         link: function(scope, element, attrs, ngModel) {

             element.tinymce({
                 // Location of TinyMCE script
                 script_url: 'http://resources.holycrap.ws/jscripts/tiny_mce/tiny_mce.js',

                 // General options
                 theme: "simple",

                 // Change from local directive scope -> "parent" scope
                 // Update Textarea and Trigger change event
                 // you can also use handle_event_callback which fires more often
                 onchange_callback: function(e) {

                     if (this.isDirty()) {
                         this.save();

                         // tinymce inserts the value back to the textarea element, so we get the val from element (work's only for textareas)
                         //ngModel.$setViewValue(e.getBody().innerHTML);
                         ngModel.$setViewValue(element.val());
                         scope.$apply();

                         return true;
                     }
                 }
             });

         }
     }
}); 
```

我将上面的tinymce指令添加到textarea中，`ui:tinymce`如下所示：

```
<textarea ui:tinymce ng-model="data.html_tab" id="{{fileUploaderID}}_html_tab" name="{{fileUploaderID}}_html_tab" style="width:600px; height:300px"></textarea> 
```

注意`ui:tinymce`上面。如果我删除它，导航会再次正常工作。那么如何使我的导航`ui:tinymce`在 textarea 中添加？

**演示网址：**

[http://dev-socialapps.rkm-group.com/app/htmleditor/index#/](http://dev-socialapps.rkm-group.com/app/htmleditor/index#/)

任何帮助将不胜感激。谢谢

## 更新：

按照建议，我首先将 ui js 文件添加到我的模板文件中：

```
<script src="https://raw.github.com/angular-ui/angular-ui/master/build/angular-ui.js"></script> 
```

然后在我的 js 文件中，我添加了：

```
var app_htmleditor_module = angular.module('app_htmleditor', ['components', 'ui']).
    config(['$routeProvider', function($routeProvider) {
        $routeProvider.
            when('/', {
                templateUrl: getBaseURL()+'public/tpl/app/htmleditor.htm',
                controller: HtmlEditorCtrl,
                reloadOnSearch:false
            }).
            otherwise( {redirectTo: '/'});
    }
]);

app_htmleditor_module.value('ui.config', {
   tinymce: {
      theme: 'simple'
   }
}); 
```

在 textarea 标签中：

```
<textarea ui-tinymce ng-model="tinymce" id="{{fileUploaderID}}_html_tab" name="{{fileUploaderID}}_html_tab" style="width:600px; height:300px"></textarea> 
```

但我收到错误：

```
ReferenceError: tinymce is not defined 
```

虽然 ui js 文件添加得很好，但我通过查看源代码并单击链接确认

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T09:29:12.310

Have you tried the latest version of the tinymce directive in the angular-ui library?

[Demo](http://angular-ui.github.com/#directives-tinymce)

[JS file](https://github.com/angular-ui/angular-ui/blob/master/build/angular-ui.js)

# java - 如何在这种情况下使用 jOOQ（或其他东西）

> ID：11390712
> 
> 赞同：1
> 
> 时间：2012-07-09T07:30:06.380
> 
> 标签：java, sql, jooq

[jOOQ](http://www.jooq.org)在生成的类（来自数据库模式）上运行。在我的应用程序中，**执行时创建了许多表**。那么如何使用 jOOQ 查询它们呢？或者我可以用别的东西来做到这一点吗？

我们只是使用 jOOQ 生成 SQL，不做任何 CRUD 操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T11:35:24.047

虽然是使用[jOOQ](http://www.jooq.org)的主要用例，但您不必使用 jOOQ 生成任何源代码。通过在运行时向工厂方法提供动态表/列名称，一些用户以您的方式使用 jOOQ，例如：

*   [`DSL.tableByName(String...)`](http://www.jooq.org/javadoc/latest/org/jooq/impl/DSL.html#tableByName-java.lang.String...-)
*   [`DSL.fieldByName(String...)`](http://www.jooq.org/javadoc/latest/org/jooq/impl/DSL.html#fieldByName-java.lang.String...-)

这些方法负责正确转义您的模式、表、字段、别名等，以保证 SQL 语法正确性和 SQL 注入保护。

[关于jOOQ 用户组](https://groups.google.com/forum/?fromgroups#!forum/jooq-user)的一些相关讨论在这里：

*   [转义 SQL 标识符](https://groups.google.com/d/topic/jooq-user/8_zd3b07yh4/discussion)
*   [按名称实例化字段和表](https://groups.google.com/d/topic/jooq-user/SPq6lKX-BtM/discussion)
*   [为 JOIN 指定别名](https://groups.google.com/d/topic/jooq-user/VqSeANn7PIk/discussion)

# eclipse - boost thread+signals：mem_fn错误，无效使用非静态成员函数

> ID：11390714
> 
> 赞同：1
> 
> 时间：2012-07-09T07:30:12.910
> 
> 标签：eclipse, boost, boost-bind

我正在尝试熟悉 boost 线程和信号。因此，我实现了这个非常简单的代码，它由一个实现线程的类（Class1）组成。我希望这个类能够通过信号接收来提供服务。为此，我刚刚开始利用信号增强库，但出现此错误：

```
 /home/andrea/libs/boost_1_50_0/boost/bind/mem_fn.hpp:359:22: error: invalid use of non-static member function 
```

当我尝试在 Eclipse 环境中使用 gcc 编译它时。单例有什么问题还是绑定到实例方法？

这是 Class1.cpp

```
#include "Class1.hpp"
#include <boost/thread.hpp>
#include <boost/date_time.hpp>
#include "Package1.hpp"

Class1::Class1(){
 boost::thread thread(boost::bind(&Class1::classifierBehavior,this));
};

void Class1::classifierBehavior(){
  service.run();
  Package1Signals::getInstance()->signal1.connect(boost::bind(&Class1::method1,      boost::ref(*this)));
};

void Class1::method1(Signal1 signal1){} 
```

和 Package1.hpp

```
#ifndef PACKAGE1_HEADER
#define PACKAGE1_HEADER
#include <boost/signal.hpp>

struct Signal1{
  int foo;
};

 class Package1Signals{
 private:
    Package1Signals();
            static Package1Signals * instance;
public:
    boost::signal<void (Signal1)> signal1;
    static Package1Signals * getInstance(){
        if(!instance){
            instance = new Package1Signals();
        }
        return instance;
    };
 };
 #endif 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T08:55:09.763

您的活页夹应该有 1 个参数：

```
boost::bind(&Class1::methpod1, boost::ref(*this), _1) 
```

# javascript - 在coldfusion中将document.write（screen.height）转换为数字？

> ID：11390715
> 
> 赞同：3
> 
> 时间：2012-07-09T07:30:14.267
> 
> 标签：javascript, html, coldfusion, coldfusion-9

我正在使用以下代码来获取屏幕高度：

```
<CFSET rheight = "<script>document.write(screen.height);</script>"> 
```

rheight 的值为 768，这是正确的。

但是当我这样做时:-:

```
<CFSET sheight = rheight / 4> 
```

我收到以下错误：

有价文件.write(screen.height); 不能转换为数字。

这个想法是在不重新加载页面的情况下以数字格式获取屏幕高度。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-09T11:07:03.257

有多种方法可以做到这一点：

**没有 AJAX**

在不使用任何 AJAX 请求的情况下，您可以使用以下代码获得所需的结果（刚刚在 CF 9.0.2 和 CF10 中测试过）：

```
<cfset rheight = "
    <script type='text/javascript' 
        src='https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js'>
    </script>
    <script>
    $(document).ready(function() { 
        $('input.screenHeight').val(screen.height);
        alert($('input.screenHeight').val() / 4);
    })
    </script>">

<cfhtmlhead text="#rheight#" />

<input type="text" class="screenHeight" /> 
```

在这个例子中，我们正在创建一个字符串变量，其中包含对 jQuery 库的引用和您的自定义代码来获取屏幕高度。

我们将高度设置为文本输入框的值。然后我们可以提取该值并将其转换为数字。您可以在将值放入输入框之前对其进行转换，如下所示：

```
$('input.screenHeight').val(screen.height/4); 
```

使用 cfhtmlhead 标记将字符串变量添加到文档的头部：

[http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7ae9.html](http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-7ae9.html)

这仅适用于原始页面视图。如果您需要在页面更改或响应式设计布局更改后获取尺寸，则需要运行 AJAX 请求以恢复屏幕尺寸。

**没有 CFML**

当然，您根本不需要使用 ColdFusion。您可以仅从 JavaScript 获得相同的数字转换：

```
<script type='text/javascript'     
    src='https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js'>
</script>
<script type='text/javascript'>
    var getScreenHeight = function() {
        return screen.height;
    }

    $(document).ready(function() { 
    var screenheight = getScreenHeight();
    console.log(screenheight/4);
    })
</script> 
```

但是，看起来您需要能够在 ColdFusion 中保留屏幕高度响应中的值，如下所示：

**使用 AJAX 和 CFML**

修改上面的 JavaScript 示例，我们可以创建一个 AJAX 请求来将屏幕高度值发布到新的 .cfm 页面：

```
<script type='text/javascript'>
var getScreenHeight = function() {
    return screen.height;
}

$(document).ready(function() { 
    var screenheight = getScreenHeight();

$.get("screensize.cfm",
    { screenheight: screenheight },
    function(data) {
        console.log('screen height has been set in the session scope: ' + data);
    }
)
})
</script> 
```

在最基本的情况下，screensize.cfm 可以包括以下内容：

```
<cfsetting showdebugoutput="false" />
<cfparam name="URL.screenheight" type="numeric" default="800" />

<cfset session.screenheight = URL.screenheight />

<cfoutput>#session.screenheight#</cfoutput> 
```

（这不包括您可能需要包括的任何验证或失败捕获）

假设您的应用程序启用了会话管理，这会将您发送的值放入 SESSION 范围以在整个应用程序中使用。

这里要记住的一件事是，在刷新之前，原始调用页面（发出 AJAX 请求的页面）将无法使用 SESSION 范围内的值。

我希望这会有所帮助。

# ember.js - connectOutlet 中使用的 Ember 路由和 applicationController

> ID：11390720
> 
> 赞同：2
> 
> 时间：2012-07-09T07:31:02.847
> 
> 标签：ember.js

我有这个 ember 路由的工作示例小提琴[http://jsfiddle.net/C7LrM/102/](http://jsfiddle.net/C7LrM/102/)

我想将 ApplicationController 更改为 ApplicationzController lije this [http://jsfiddle.net/C7LrM/102/](http://jsfiddle.net/C7LrM/102/)

并打电话

```
router.get('applicationzController').connectOutlet('profile'); 
```

但它不起作用，ApplicationController 只是一个名称还是更多？我究竟做错了什么。

我正在开发一个更大的应用程序的单个组件，所以我喜欢将我的 componentController 放在我的堆栈顶部，并在内部为我的组件使用路由/状态。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-09T07:39:16.723

到今天为止，根控制器预计将是`applicationController`（硬编码到 ember 源...）。所以你不能随意命名它。

# django - Django 1.4 表单向导测试用例

> ID：11390721
> 
> 赞同：3
> 
> 时间：2012-07-09T07:31:11.363
> 
> 标签：django, django-forms, django-views, django-testing, django-formwizard

我正在尝试为表单向导视图编写测试`django.contrib.formstools.wizard.views.CookieWizardView`，但我不确定如何处理在测试用例中编写顺序帖子：

```
#test_views.py
def test_wizard_pass(self):
    response = self.c.post('/wizard/url/',first_form_post_dict)
    self.assertContains(...)
    response = self.c.post('/wizard/url/',second_step_post_dict)
    self.assertRedirect(...) 
```

我假设我需要根据第一个响应中的某些内容或与用于会话管理的 cookie 有关的内容更改第二个帖子数据，我只是不确定是什么。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-09T09:31:45.090

的测试用例`CookieWizardView`可以在`django.contrib.formtools.tests.wizard.wizardtests.tests`（第 216 行，[在此处查看源代码](https://github.com/django/django/blob/stable/1.4.x/django/contrib/formtools/tests/wizard/wizardtests/tests.py#L216)）中找到，包括多个连续的帖子。您可以研究这些是如何实现的，并以类似的方式实现您自己的测试用例。

# sql - 在VB6中的数据报表上放置两个表格？使用 Msaccess

> ID：11390724
> 
> 赞同：1
> 
> 时间：2012-07-09T07:31:32.427
> 
> 标签：sql, sql-server, vb6

如何将这两个表放在 VB6 中的数据报表上..？使用 Msaccess ![在此处输入图像描述](../Images/f12cdbd040fd3fc922842f74567d429c.png)

![在此处输入图像描述](../Images/2235be49102c559063d8b76e44c326ab.png)

看到名称属于 table2 包含两个字段，当我提交打印按钮时重复。请帮我解决这个问题。

我的查询是

```
SELECT* FROM Table1 INNER JOIN Table2 ON
Table1.Billno=Table2.Billno Where (Table1.Billno=? AND Table2.Billno=?) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:38:28.400

```
 SELECT a.Slno, a.Name1, b.Name2
 FROM table1 a
 LEFT OUTER JOIN table2 b ON b.SLno = a.Slno 
```

演示：[http ://sqlfiddle.com/#!3/7ccd4/1](http://sqlfiddle.com/#!3/7ccd4/1)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T07:41:27.670

看起来您希望它们作为两个单独的结果返回，在这种情况下您应该执行两个查询。

`SELECT * FROM Table1`
`SELECT * FROM Table2`

如果您需要将它们作为一个结果集返回，那么您可以将`UNION ALL`它们放在一起。

```
SELECT [S1 No], BillNo, Name1 AS Name FROM Table1
UNION ALL
SELECT [S1 No], BillNo, Name2 AS Name FROM Table2
```

但我认为这不是一个好的建议。

# algorithm - 如何判断2组数据是否相似

> ID：11390732
> 
> 赞同：0
> 
> 时间：2012-07-09T07:32:17.563
> 
> 标签：algorithm

我在比较两组数据时遇到了问题。

现在我有 2 组数据，比如说 A 组和 B 组。我要做的是：

1.) 根据集合 A 的数据绘制折线图

2.) 根据集合 B 的数据绘制另一个折线图并将其覆盖在集合 A 的图表上。

我的问题是集合 B 的数据可能比集合 A 的数据大（或小）得多。但是绘制这些图的目的是比较这两个图的模式，这意味着我需要将集合 B 中的每个数据乘以或除以一个因子，比如 N，以便生成的图位于相似的范围内（得到它们覆盖）。我的问题是如何找到这个 N。目前我只是通过这种方式得到这个 N：

1.)求Average A，集合A的最大值和最小值的平均值

2.)求Average B，集合B的最大值和最小值的平均值

3.) B 除以 A 得到 N。

但是我发现这种方式的结果不是很好。有没有更好的算法来比较两组数据并找到这样的 N？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T02:32:11.183

您可以为每组数据创建一条最佳拟合线，然后计算两条线之间的[余弦相似度。](http://en.wikipedia.org/wiki/Cosine_similarity)

这仅在每个数据集都是线性的情况下才有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T08:13:46.417

如何通过计算两个数据集的[移动平均线](http://en.wikipedia.org/wiki/Moving_average)来使用中央移动平均线，然后将它们分开。移动平均线基本上平滑了尖峰。

# .net-4.0 - 如何调试在 InitInstance 之前崩溃的 C++/CLI MFC 应用程序

> ID：11390733
> 
> 赞同：2
> 
> 时间：2012-07-09T07:32:24.670
> 
> 标签：.net-4.0, com, mfc, c++-cli, mixed-mode

我使用 MFC（主要）和 COM 构建了这个可怕的 C++ 应用程序。它链接到几个库并进行大量科学计算。因此，现在我想为其添加一些新功能，作为一项组织策略，我们正在使用 .NET 开发所有新功能。因此，这个新的 UI 功能将使用 WPF 构建，并将在这个现有的 C++ 应用程序中使用。

我知道如何在 C++ 应用程序中使用 WPF 控件，所以这不是问题。问题是当我尝试在这个项目上打开 CLR 时，在链接阶段需要很长时间（大约 10 分钟）来执行链接并生成混合模式可执行文件。最后，它设法这样做并成功创建了可执行文件。但问题是每当我启动这个可执行文件时，它都会崩溃。我试图调试 InitInstance 但它在此之前的某个地方崩溃了。我对接下来要尝试什么感到有些困惑。

有没有人知道这可能是什么原因。

混合模式程序集的目标框架是 4.0（应该是）所以这不是这里的问题。

仅供参考，ILDasm 也无法加载此 exe。这需要很多时间，没有错误，但它也不会加载它。这给我的印象是没有正确创建以某种方式管理的图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T07:26:06.003

不确定这是否是必要的，但它也不会受到伤害。新的 MFC 项目在 CWinApp 派生类的构造函数中有这个：

```
#ifdef _MANAGED
    // If the application is built using Common Language Runtime support (/clr):
    //     1) This additional setting is needed for Restart Manager support to work properly.
    //     2) In your project, you must add a reference to System.Windows.Forms in order to build.
    System::Windows::Forms::Application::SetUnhandledExceptionMode(System::Windows::Forms::UnhandledExceptionMode::ThrowException);
#endif 
```

# windows - 在 IDE 中工作，但 exe 不起作用（数据格式错误）

> ID：11390736
> 
> 赞同：1
> 
> 时间：2012-07-09T07:32:38.167
> 
> 标签：windows, qt, sockets, qt-creator, qgraphicsscene

我的服务器在其上绘制从客户端收到的图像/图形对象`QGraphicsScene`它在 IDE 上运行良好。

为了在不同的机器上进行测试，我将 dll 和 exe 复制到同一个文件夹中并运行了 exe。
所有网络通信都很顺利，我可以确认客户端正在发送图形对象但是 Serevr 没有将它们绘制进去`GraphicsScene`

但是当我在 QtCReator IDE 中运行时，它运行良好。

编辑：

现在看起来图像包在exe中运行时格式错误
我做了以下测试。

1.  客户端将图像数据包存储在扫描文件夹中
2.  客户端发送图像包并发出哔声（如果保存成功）
3.  服务器接收图像数据包并保存在扫描文件夹中
4.  服务器播放哔声（如果未成功保存）

当我在 IDE 中同时运行（客户端和服务器）时

> 客户端哔声和服务器没有，我看到两台机器的图像扫描文件夹

当我在 IDE 中运行客户端但服务器作为 exe

> 客户端发出哔声并存储图像但服务器发出哔声并且无法将图像存储在其扫描文件夹中

服务器无法保存图像，因为`QImage::save()`返回`false`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T11:34:37.577

根据评论，您似乎缺少`JPEG`dll
您需要复制`jpeg`保存 exe 的文件夹中的 dll 目录。你会在你的`imageformats`目录`qjpeg4.dll`中找到它`qjpegd4.dll`

# java - 使用 Socket 与服务器通信

> ID：11390738
> 
> 赞同：2
> 
> 时间：2012-07-09T07:32:46.770
> 
> 标签：java, android, sockets

我正在尝试向服务器发送消息并获得响应。当我尝试打开套接字时，出现异常：

我在 AndroidManifest.xml 中添加了以下几行：

```
< uses-permission android:name="android.permission.INTERNET" /> 
< uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /> 
```

在应用程序标签之前。
这是我的代码：

```
 String IP = "81.218.150.49";
                int port = 32001;
                Socket my_socket = new Socket(IP, port); //Here i get exception !!

                BufferedWriter wr = new BufferedWriter(new OutputStreamWriter(my_socket.getOutputStream(), "UTF8"));
                wr.write("mobiwize server login test testpswd\r\n");

                // Send data
                wr.flush();

                // Get response
                StringBuffer sb = new StringBuffer("");
                BufferedReader rd = new BufferedReader(new InputStreamReader(my_socket.getInputStream()));
                String line ="";
                String NL = System.getProperty("line.separator");
                while ((line = rd.readLine()) != null) {
                    sb.append(line + NL);
                }
                httpStuff.setText(sb);

                rd.close();
                wr.close();
            } catch (Exception e) {
            } 
```

我真的很感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T10:13:18.000

尝试这个....

**1.**如果你想访问这个服务器

```
with IP: 81.218.150.49 through Internet, then it must
   be your static ip, rather than an dynamic one. 
```

**2.**尝试使用分配给局域网中您的PC的私有IP地址或公共IP地址运行此代码（即`Without internet..JUST WITH WIRELESS CONNECTION)`..

**3\. 私有 IP 或公共 IP 没有任何意义，直到你在互联网上.. 直到你可以同时使用它们，因为它的 LAN。**

**4.**私有IP范围

A 类：10.0.0.0 - 10.0.0.255 B 类：172.16.0.0 - 172.31.255.255 C 类：192.168.0.0 - 192.168.255.255

**5\. 公共是由您的服务提供商提供的，它将是私有 IP 范围之外的任何人。如果您的 ip 不是静态的，那么您几乎没有机会通过 Internet 访问服务器，有些网站会从您的动态 ips 中提供静态 ip。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T07:39:46.340

我在 Android 中使用时遇到了同样的问题，而它在 J2ee Java 程序中运行良好，我建议你对这个新的套接字事物使用方法调用，使用相同的代码。希望它会有所帮助，因为它对我做了..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T07:52:39.493

我怀疑你有安全错误。您列出的 IP 地址不允许您进行套接字连接。尝试另一个您知道您的计算机可以与之建立连接的 IP。使用 FTP、rlogin 或其他工具测试 IP 的安全性。

我假设您不是想破解某人的 PC 或 iMac :-)

# jquery - 使用 jquery 解析外部 xml 提要仅适用于 safari

> ID：11390739
> 
> 赞同：0
> 
> 时间：2012-07-09T07:32:48.377
> 
> 标签：jquery, xml, safari, jsonp

所以我有下面的代码，它从本地托管的文件（在我的计算机上）解析不同服务器（即 www.site1.com）上的 xml 提要。它在野生动物园中完美运行。但在 chrome 或 firefox 中不起作用。

当我将 xml 提要与 html 文件（即 www.site2.com 上的两个文件）存储在同一台服务器上时，该文件在所有浏览器中都能很好地解析。问题是，我需要从外部服务器解析 xml。我怎么做这个工作？是否可以？

我觉得我什么都试过了。回调函数、jsonp.js 文件和各种 jquery 选项。但没有骰子。如果有人有任何建议，我将不胜感激！谢谢你！

```
$.ajax({
  type: "GET",
  url: "http://www.otherwebsite.com/external_feed.atom",
  dataType: "xml",
  success: parseXml
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T08:55:22.920

看看你的控制台。您正在执行跨域 ajax 请求。实现跨域解析的唯一方法是使用 jsonp。您从哪里获取 xml 提要？也许我可以帮助您并尝试看看他们是否有 jsonp 示例。这是一个 jsonp url [http://www.kiabuzz.co.za/?feed=json&callback=](http://www.kiabuzz.co.za/?feed=json&callback=) ? 的示例。将其粘贴在上面，您将看到问题将消失。显然数据类型将是 json 而不是 xml。

如您所见，如果文件在服务器上，问题就会消失。你能给我提供你试图从中获取 xml 提要的 url 吗？

# php - 根据发布时间显示博客

> ID：11390741
> 
> 赞同：0
> 
> 时间：2012-07-09T07:32:51.067
> 
> 标签：php, jquery, feed

我怀疑正在显示博客的帖子[超过 1]，现在我想根据发布日期显示博客意味着新帖子 1st 下 2nd 等等...我的代码

```
 require_once('rss_fetch.inc');
            $dateArray= "";
            $urls = array(
            'http://rajs-creativeguys.blogspot.com/feeds/posts/default?alt=rss',
              'http://raghuks.wordpress.com/feed'
            );

            foreach($urls as $url) {
                /*'http://raghuks.wordpress.com/feed/'*/;
                $rss = fetch_rss($url);
                foreach ($rss->items as $i => $item ) { 
                    $title = strtoupper ($item['title']);
                    $url   = $item['link'];
                    $date = substr($item['pubdate'],0,26);
                    $dateArray=array();
                    //code to fetch only some text
                    $desc = '';
                    $max = 30;
                    $arr = explode(' ', strip_tags($item['description']));
                    $l = count($arr);
                    if($l < $max) $max = $l;
                    for($j=0;$j<$max;++$j)
                    {
                        $desc .= $arr[$j] . ' ';
                    }
                    $desc .= '.....';
                    echo "<div class=\"blog\"><a target=\"_blank\" href=$url><h1>$title</h1>$desc<br/><br/>DATED : $date <br/><br/></a></div> ";
                    if($i == 1) break; 
                }
            } 
```

只有最近的 4 个帖子应该从任何博客显示，但应该根据日期请帮助.. 我尝试将所有日期放入数组并使用冒泡排序，但它不起作用.. 请帮助我.. 提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:47:35.493

```
require_once('rss_fetch.inc');
        $dateArray= "";
        $urls = array(
        'http://rajs-creativeguys.blogspot.com/feeds/posts/default?alt=rss',
          'http://raghuks.wordpress.com/feed'
        );
$result_array = array();

        foreach($urls as $url) {
            /*'http://raghuks.wordpress.com/feed/'*/;
            $rss = fetch_rss($url);
            foreach ($rss->items as $i => $item ) { 
                $title = strtoupper ($item['title']);
                $url   = $item['link'];
                $date = substr($item['pubdate'],0,26);
                $dateArray=array();
                //code to fetch only some text
                $desc = '';
                $max = 30;
                $arr = explode(' ', strip_tags($item['description']));
                $l = count($arr);
                if($l < $max) $max = $l;
                for($j=0;$j<$max;++$j)
                {
                    $desc .= $arr[$j] . ' ';
                }
                $desc .= '.....';
                $tm = strtotime($date);
                $result_array[$tm]['title'] = $title;
                $result_array[$tm]['url'] = $url;
                $result_array[$tm]['desc'] = $desc;
                $result_array[$tm]['date'] = $date;
                if($i == 1) break; 
            }
           ksort($result_array);
           foreach($result_array as $result)
           {
                   echo "<div class=\"blog\"><a target=\"_blank\" href=$result['url']><h1>$result['title']</h1>$result['desc']<br/><br/>DATED : $result['date'] <br/><br/></a></div> ";
           }
        } 
```

# php - 如何执行 3 if 条件？

> ID：11390742
> 
> 赞同：-3
> 
> 时间：2012-07-09T07:32:52.470
> 
> 标签：php, if-statement

```
if (!mail($to,$subject,$body,$headers))
{
    echo "We couldn't sign you up at this time. Please try again later.";
    if(!$email)
    {   
        //register into database
        $register = mysql_query("INSERT INTO `register2`(`username`, `password`, `email`, `code`, `0`, `active`, `First_name`, `Last_name`, `Mobile_number`, `Landline_number`, `sex`) VALUES ('$username', '$password', '$email', '$code', '0', '$active', '$name', '$lname', '$mobile', '$lline', '$sex')");
        $result = mysql_query($register);
        if($result!=0) 
        {
            @session_start(); 
            $_SESSION["email"]=$_POST["email"];
            echo "You have been registered successfully! Please check your email ($email) to activate your account";
            header("location:signup2.php");   
        }
    }
} 
```

如何执行它。意味着我有这 3 个条件如何执行它，问题是我没有在我的 phpmyadmin 中插入数据。请帮助我....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T10:11:14.783

根据您提供的代码，如果 PHP mail() 没有失败，您似乎想要运行 INSERT 查询。

之后，您尝试确认 INSERT 查询是否返回了成功标志，以便您可以继续执行步骤 02。

**如果我对您的问题的解释是正确的：**

```
// If the PHP main returns FALSE
if (!mail($to,$subject,$body,$headers)) {
    // user message with error
    echo "We couldn't sign you up at this time. Please try again later.";
}
else {
    //register into database
    $register = mysql_query("INSERT INTO `register2`(`username`,`password`,`email`,`code`,`0`,`active`,`First_name`,`Last_name`,`Mobile_number`,`Landline_number`,`sex`) VALUES ('$username','$password','$email','$code','0','$active','$name','$lname','$mobile','$lline','$sex')");
    $result = mysql_query($register);
}

// if variable $result is TRUE
if ($result) {
    @session_start();
    $_SESSION["email"]=$_POST["email"];
    echo "You have been registered successfully! Please check your email ($email) to activate your account";
    header("location:signup2.php");
} 
```

* * *

## 一些注意事项

1.  编码风格！

    这只是对您的代码缩进的警告。[分析php.net手册](http://php.net/manual/en/index.php)提供的示例，掌握适当的代码缩进，以便他人阅读。

    PHP[基本语法](http://www.php.net/manual/en/language.basic-syntax.php)

2.  PHP [if](http://www.php.net/manual/en/control-structures.if.php) , [else](http://www.php.net/manual/en/control-structures.else.php) , [elseif/else if](http://php.net/manual/en/control-structures.elseif.php)或任何其他[控制结构](http://www.php.net/manual/en/language.control-structures.php)

    作为您问题背后的主要问题，这些链接应该证明是有用的。

3.  PHP [mysql_query()](http://php.net/manual/en/function.mysql-query.php#refsect1-function.mysql-query-returnvalues)返回值：

    > 对于其他类型的 SQL 语句，**INSERT**、UPDATE、DELETE、DROP 等，mysql_query() 在成功时返回 TRUE，在错误时返回 FALSE。对于其他类型的 SQL 语句，INSERT、UPDATE、DELETE、DROP 等，mysql_query()在成功时返回**TRUE** ，在错误时返回**FALSE 。**

# sql-server - DDL命令是SQL server中的AutoCommit，是什么意思？

> ID：11390745
> 
> 赞同：4
> 
> 时间：2012-07-09T07:33:11.417
> 
> 标签：sql-server

在大多数页面上，我都读过“DDL 命令在 SQL Server 中具有 AutoCommit”，如果我没记错的话，这句话只是意味着我们不需要 DDL 命令的显式提交命令。

那么为什么...

1) 改变 TABLE EMP 添加年龄 INT；
更新 EMP SET 年龄=20；

失败，说无效的列名“年龄”

2) BEGIN TRAN
Alter TABLE EMP Add Age INT；
回滚

可以成功回滚。

也许我对 AutoCommit 的概念有误，请举例说明它实际上有影响。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-09T07:39:44.500

[自动提交交易](http://msdn.microsoft.com/en-us/library/ms187878%28v=sql.105%29)：

> 与数据库引擎实例的连接在自动提交模式下运行，直到`BEGIN TRANSACTION`语句开始...

所以，你的第二个例子不适用。再向下：

> 在自动提交模式下，有时看起来好像数据库引擎的一个实例已经回滚了整个批处理，而不是一个 SQL 语句。如果遇到的错误是编译错误，而不是运行时错误，则会发生这种情况。编译错误会阻止数据库引擎构建执行计划，因此批处理中的任何内容都不会执行。

这是您的第一个示例处理的内容。

因此，没有人真正处理自动提交事务。

* * *

因此，让我们采取如下声明：

```
Alter TABLE EMP Add Age INT; 
```

如果你在 Autocommit 模式下有一个打开的连接，执行上面的操作，并且它没有错误地完成，那么你会发现这个连接没有打开的事务，并且更改立即对任何其他连接可见。

如果你在 Implicit Transactions 模式下有一个打开的连接，执行上面的操作，并且它没有错误地完成，那么你会发现这个连接有一个打开的事务。任何需要模式锁定的操作都将阻止其他连接`EMP`，直到您执行`COMMIT`或`ROLLBACK`。

如果你有一个打开的连接，你已经在其中执行`BEGIN TRANSACTION`，执行上面的，并且它没有错误地完成 - 那么你将处于与隐式事务相同的情况。但是，在`COMMIT`ed 或`ROLLBACK`ed 之后，您的连接将恢复到 Autocommit 模式或 Implicit Transactions 模式（在调用 之前处于活动状态`BEGIN TRANSACTION`）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T07:43:29.320

如果您在第二个示例中明确地有一个 begin tran，那么您必须提交它。（你也可以回滚）

如果您没有像在第一个示例中那样明确指定它，那么它是自动提交的。

autocommit是sql server中的默认模式，如果需要可以关闭

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T11:00:31.200

如果您在代码中添加批处理，它将起作用

```
Alter TABLE EMP Add Age INT;
go
UPDATE EMP SET Age=20; 
```

# google-maps - 谷歌地图地理代码显示 Upto Street 地址，但不是实际位置

> ID：11390747
> 
> 赞同：0
> 
> 时间：2012-07-09T07:33:21.160
> 
> 标签：google-maps, google-maps-api-3

这是我需要映射“53719 Madison USA 5555 Odana Road Supreme Health and Fitness”的地方

但是使用地理编码 Api “53719 Madison USA 5555 Odana Road”
，我只知道街道地址，而不是实际位置“Supreme Health and Fitness”

我需要帮助指出实际位置，而不仅仅是街道地址

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T13:23:19.190

如果您知道位置（正确的坐标），请使用它们来放置标记，而不是地理编码器的结果。

但是，[地理编码器数据库](http://www.geocodezip.com/example_geo2.asp?addr1=53719%20Madison%20USA%205555%20Odana%20Road&geocode=1)中似乎有正确的位置（提供的链接使用 v2 地理编码器，但我相信 v3 地理编码器的结果应该是相同的，并且看起来像“屋顶”精度地理编码）。

# c# - c#metro风格应用程序中的手写识别

> ID：11390750
> 
> 赞同：1
> 
> 时间：2012-07-09T07:33:28.773
> 
> 标签：c#, xaml, microsoft-metro, windows-runtime, handwriting

我正在开发一个笔记应用程序。我希望用户使用“Windows.UI.Input.Inking”的 InkManager 在画布上写任何东西。然后我想将它作为文本显示到画布上，然后我想以文本或图像格式保存那些识别的文本。

我已经检查了[MSDN](http://msdn.microsoft.com/library/windows/apps/BR208524)文档，但我仍然对如何开始感到困惑。我怎样才能在画布上获得墨水笔触，我怎样才能识别它？请问有人可以指导我吗？我的应用程序需要它尽快。

我已经尝试过这段代码，但它没有用。

```
private async void Recognize_Click(object sender, RoutedEventArgs e)
{
    IReadOnlyList<InkRecognitionResult> x = await _inkManager.RecognizeAsync(InkRecognitionTarget.All);
    IReadOnlyList<String> text;
    foreach (InkRecognitionResult i in x)
    {
        text = i.GetTextCandidates();
        res.Text = text.First();
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T12:35:46.547

终于自己得到了解决方案

```
 IReadOnlyList<String> text;
    string finalt = "";  //for space
    private async void Recognize_Click(object sender, RoutedEventArgs e)
    {
        IReadOnlyList<InkRecognitionResult> x = await _inkManager.RecognizeAsync(InkRecognitionTarget.All);
        foreach (InkRecognitionResult i in x)
        {
            text = i.GetTextCandidates();
            finalt += " " + text[0];
            res.Text = finalt;  //res is the x:Key for the text block
        }
    } 
```

另一种[解决方案](http://code.msdn.microsoft.com/InkPen-sample-in-CSharp-189ce853)和一种*更好的* [解决方案](http://code.msdn.microsoft.com/windowsapps/Windows-8-Input-Ink-sample-12876398)

# visual-studio-2010 - 为什么 Visual Studio 异常助手这么慢？

> ID：11390752
> 
> 赞同：0
> 
> 时间：2012-07-09T07:33:41.867
> 
> 标签：visual-studio-2010, visual-studio

当出现异常时，异常助手需要几秒才能弹出。为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:33:42.660

它可能正在展开堆栈。如果不需要，请转到工具->选项->调试->常规“在未处理的异常上展开调用堆栈”。

# ruby-on-rails - 嵌套表单 - 仅显示 *一些* 孩子

> ID：11390757
> 
> 赞同：1
> 
> 时间：2012-07-09T07:34:17.503
> 
> 标签：ruby-on-rails, ruby-on-rails-3, nested-forms, nested-attributes

在表单中，公司可以编辑自己的详细信息和新项目的详细信息。在我的嵌套形式中，我有：

```
<%= semantic_form_for @company ... do |form| %>
  <%= form.inputs do %>
    <%= form.input :name %>
  <% end %>

  <%= form.inputs :for => :projects do |p| %> 
    <%= %>
  <% end %>
<% end %> 
```

事情是这样的：我只想显示**一个新项目**/项目的详细信息，而不是公司拥有的每个项目。如果公司有 5 个项目并且我的控制器包括`@company.projects.build`，我得到 6 而不是 1。

我怎样才能建立这个表格，所以我们只需要处理一个新项目？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:39:17.387

我不确定我是否很好地理解了您的问题，但如果我误解了，我会回答并纠正我：

```
 <%= form.inputs :for => projects do |p| %> 
    <% if p.object.new_record? %>
       <%= %>
    <% end %>
  <% end %> 
```

# html - 使用 CSS 和 HTML 的平铺布局

> ID：11390759
> 
> 赞同：22
> 
> 时间：2012-07-09T07:34:33.053
> 
> 标签：html, css, layout

在不依赖表格的情况下，完成这样的磁贴布局是一个很好的解决方案：![平铺布局](../Images/b0e3954d813f1b5dfbcde3b427cd8590.png)自动适应用户的屏幕尺寸。也就是说，无论分辨率的大小和高度如何，整个屏幕都应该被图块填充。

我很欣赏任何想法。

〜罗伯特

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-07-09T07:58:21.340

这是一个工作示例： [jsfiddle](http://jsfiddle.net/PpdzE/)

html:

```
<div class="container">
<div class="first">first</div><div class="third">third</div>
<div class="second">second</div><div class="fourth">fourth</div><div class="last">last</div>
</div>​ 
```

CSS：

```
html, body, .container
{
    height: 100%; 
    min-height: 100%;
}

.first {
    float: left;
    width: 20%;
    height: 30%;
    background-color: red;
}

.second{
    float: left;
    width: 20%;
    height: 70%;
    background-color: green;
}

.third{
    float: right;
    width: 80%;
    height: 80%;
    background-color: blue;
}

.fourth {
    float: right;
    width: 40%;
    height: 20%;
    background-color: #DDDDDD;
}

.last{
    float: right;
    width: 40%;
    height: 20%;
    background-color: yellow;
} 
```

​</p>

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-09T07:44:32.740

我会选择一些`div`使用[绝对定位](http://reference.sitepoint.com/css/absolutepositioning)的。并使用`%`单位为每个图块指定宽度/高度/顶部/左侧。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-09T07:45:36.813

暗示：

*   使用宽度和高度为 100% 的“内容 div”
*   在“内容 div”中使用两个 div：一个用于左列，一个用于右列。记得给那些“%”维度（也给“内容”div）
*   请记住，浮动的右 div 必须在左浮动的 div***之前***

有了这三点，你应该可以自己试试了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-29T15:09:15.453

**免责声明**

这并不意味着您的项目需要。其他用途已经回答了这个问题。

* * *

为了将来参考，我将研究布局类的 oocss 方法。您的页面可能具有不同数量的图块等。我将以下内容用于我的项目。

# 平铺对象

用于创建平铺布局。

**css**

```
.tiles
{
    display: block;
}

.tiles__item
{
    display: block;

    height: auto;

    float:left;
}

.tiles--2
{
    margin-left: -4%;
}

.tiles--3
{
   margin-left: -2%;
}

.tiles--4
{
    margin-left: -2%;
}

.tiles--2 .tiles__item
{
    margin-left: 4%;

    width: 46%;
}

.tiles--3 .tiles__item
{
    margin-left: 2%;

    width: 31.3%;
}

.tiles--4 .tiles__item
{
    margin-left: 2%;

    width: 23%;
} 
```

**html**

```
<div class="tiles tiles--2">

    <div class="tiles__item">

    </div>

    <div class="tiles__item">

    </div>

</div> 
```

# 停靠对象

将内容停靠到屏幕边缘。

**css**

```
.dock 
{
    position: absolute;

    height: auto; 

    width: auto;
}

.dock--t
{
    width: 100%;

    top: 0;
}

.dock--b
{
    width: 100%;

    bottom: 0;
}

.dock--l
{
    height: 100%;

    left: 0;
}

.dock--r
{
    height: 100%;

    right: 0;
} 
```

**html**

```
<div class="dock dock--t">

    The content will be docked to the top of the screen.

</div? 
```

# 其他的

我会查看 Metro UI 框架中的 Tiles 对象。他们允许高度

[http://metroui.org.ua/](http://metroui.org.ua/)

如果您正在寻找使用比例的良好布局系统：

[https://github.com/stubbornella/oocss/wiki/Grids](https://github.com/stubbornella/oocss/wiki/Grids)

# optimization - 使用 require.js 从一个引导文件创建不同的版本

> ID：11390760
> 
> 赞同：1
> 
> 时间：2012-07-09T07:34:38.190
> 
> 标签：optimization, build, requirejs

我开发了一个 iPad/iPhone App 网络应用程序。两者共享一些资源。现在我想构建一个如下所示的引导 js：

```
requirejs(['app'], function(app) {
 app.start();
}); 
```

资源`app`应该是`ipadApp.js`或。`iphoneApp.js`所以我为优化器创建了以下构建文件：

```
{
  "appDir": "../develop",
  "baseUrl": "./javascripts",
  "dir": "../public",
  "modules": [
    {
      "name": "bootstrap",
      "out": "bootstrap-ipad.js",
      "override": {
        "paths": {
          "app": "ipadApp"
        }
      }
    },
    {
      "name": "bootstrap",
      "out": "bootstrap-iphone.js",
      "override": {
        "paths": {
          "app": "iphoneApp"
        }
      }
    }
  ]
} 
```

但这似乎不起作用。它仅适用于一个模块，但不适用于具有不同输出的相同模块。

我想到的唯一其他解决方案是 4 个构建文件，这似乎有点奇怪。那么有没有一种解决方案，我只需要一个构建文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-11T13:09:39.067

AFAIK **r.js**优化器只能输出一次具有给定名称的模块 - 在您的情况下，您尝试生成`bootstrap`两次命名的模块。require.js 的作者@jrburke 在[这里](https://github.com/jrburke/almond/issues/3#issuecomment-2917071)对一个相关问题发表了以下评论：

> ...现在您需要为每个目标脚本生成一个单独的构建命令，因为每个脚本的 name 属性始终是“almond.js”。

他还建议：

> ...如果您只想运行一个构建文件，您可以创建一个节点程序并在一个脚本文件中多次驱动优化器。[此示例](https://github.com/jrburke/r.js/blob/master/build/tests/http/httpBuild.js)显示使用 requirejs 作为模块并调用 requirejs.optimize()。

我在我的一个项目中采用了类似的方法——我将我的`build.js`文件制作为 ERB 模板并创建了一个贯穿我的模块并为每个模块运行一次**r.js的**[Thor任务。](https://github.com/wycats/thor)但是@jrburke 使用**node.js**的解决方案更干净。

# jquery - 带有fancybox的Asp.net照片库不显示下一个/上一个按钮

> ID：11390764
> 
> 赞同：0
> 
> 时间：2012-07-09T07:35:09.943
> 
> 标签：jquery, asp.net, css, fancybox

我正在研究 asp.net 照片库，我正在使用 fancybox-1.3.4 将图像显示为叠加层

它工作正常我有两个问题。

**一**：它不显示下一个/预览，如下面的屏幕截图所示 ![在此处输入图像描述](../Images/8eaf643c9b6f0fd141e2a6529fb27f5e.png)

**第二**：在主厨房上，我正在为图像使用自定义标题，我向其添加跨度标签，当我单击照片时它会出现。但是在主画廊页面上，当一个人将鼠标悬停在图像上时，它会显示具有跨度标签的标题可见的。它不会出现在 IE 中。我必须将此标题传递给大型叠加图像。我怎样才能将它隐藏在主页上。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:50:11.770

1.  画廊是从共享相同`rel`属性的元素创建的，例如

    ```
    <a class="fancybox" rel="gallery" ...>one</a>
    <a class="fancybox" rel="gallery" ...>two</a> 
    ```

    等（如果没有至少两个或更多具有相同`rel`属性的元素，则不会出现导航按钮）

2.  您可能更喜欢`title`从图像 ( ) 标记的`alt`属性中获取花式框，以便在悬停缩略图时`img`不会显示为*工具提示。*然后添加选项（Fancybox v1.3.4）`'titleFromAlt':true`，如

    ```
    $(".fancybox").fancybox({
     // API options here etc
       'titleFromAlt':true 
    }); 
    ```

检查[此链接](http://groups.google.com/group/fancybox/browse_thread/thread/3da14d88af2393cc/)`title`以获取有关v1.3.x 中的 fancybox的参考

# android-emulator - 用于 Android 应用程序的单声道

> ID：11390766
> 
> 赞同：0
> 
> 时间：2012-07-09T07:35:19.423
> 
> 标签：android-emulator

我正在开发单声道 android 中的游戏应用程序。我想要从上到下垂直滚动的背景图像的示例代码。我有一个代码，但它不能正常工作。所以请有人帮助我。

```
 mBGFarMoveY = mBGFarMoveY + 3;
    int newFarY = mBackgroundImageFar.Height + (+ mBGFarMoveY);
    if (newFarY <= 0) 
    {
    mBGFarMoveY = 0;
    canvas.DrawBitmap (mBackgroundImageFar,0,mBGFarMoveY,null);
    } 
    else
    {
    canvas.DrawBitmap (mBackgroundImageFar,0,mBGFarMoveY,null);
    canvas.DrawBitmap (mBackgroundImageFar,0, newFarY, null);
    } 
```

谢谢&问候，Chakradhar。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T08:09:38.447

你看到了什么，你期待什么？据我所知，您的代码存在几个问题。

1.  位置不是根据时间计算的，所以滚动会很跳跃。
2.  重叠代码看起来不太好，并且很多超出范围。我不确定“画布”是什么，但如果它是来自 android.graphics 的画布，您可以指定源矩形和目标矩形进行 blit 而不仅仅是“y”位置。

所以类似（未经测试，我之前没有为这个平台编写过代码，但你应该明白）：

```
y = (time_seconds * pixels_per_second);
y = y % image.Height; // wrap
src_rect.left = 0;
src_rect.right = image.Width - 1;
src_rect.top = y;
src_rect.bottom = image.Height - 1;

dst_rect.left = 0;
dst_rect.right = image.Width - 1;
dst_rect.top = 0;
dst_rect.bottom = image.Height - 1;

if (y == 0) {
    canvas.DrawBitmap(image, src_rect, dst_rect, null);
}
else {
    dst_rect.bottom = src_rect.height() - 1;
    canvas.DrawBitmap(image, src_rect, dst_rect, null);

    src_rect.top = 0;
    src_rect.bottom = y - 1;
    dst_rect.top = dst_rect.bottom + 1;
    dst_rect.bottom = image.Height - 1;

    canvas.DrawBitmap(image, src_rect, dst_rect, null);
} 
```

# cygwin - 无法开始使用 cygwin 控制台

> ID：11390770
> 
> 赞同：0
> 
> 时间：2012-07-09T07:36:04.197
> 
> 标签：cygwin

我是 cygwin 新手，安装后遇到问题。启动 cygwin 我看到控制台：

```
/bin/sh: No such file or directory 
```

我已将其安装到：C:\app\cygwin 版本为：1.7.14-1

有什么建议么 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T09:44:51.863

通过安装 v 1.7.5-1 然后 v 1.7.14-1 修复

# python - IMAP python检查邮件-每次都登录吗？

> ID：11390771
> 
> 赞同：2
> 
> 时间：2012-07-09T07:36:07.297
> 
> 标签：python, imap

好的，只是注意到我的代码中有一些奇怪的行为，只是试图找出问题的根源。在使用 imap 库的时候，想查邮件，是不是每次都要登录看看有没有新邮件？例如

```
#get_mail function.
 def get_mail():
       conn = imaplib.IMAP4_SSL('imap.gmail.com')
       conn.login(gmail_user_id,gmail_user_pass)
       conn.select('inbox')
       conn.search(None,'(Inbox)')
       return something here 
```

相反，我可以做类似的事情：

```
#create 'conn' as a global var
conn = imaplib.IMAP4_SSL('imap.gmail.com')
conn.login(gmail_user_id,gmail_user_pass)
conn.select('inbox')
#get_mail function
def get_mail():
       conn.search(None,'(Inbox)')
       return something here 
```

问题是在上面的第二个片段中，如果在创建 conn 之后发送了新邮件，则不会获取该邮件。那么每次运行该功能时我都必须重新登录吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:38:15.777

> 每次都要登录看看有没有新邮件吗？

是的。

> 问题是在上面的第二个片段中，如果在创建 conn 之后发送了新邮件，则不会获取该邮件。那么每次运行该功能时我都必须重新登录吗？

通常，您不必再次登录 -`IDLE`如果 IMAP 服务器支持它，您将使用它。`IDLE`支持意味着您只需要通过保持连接打开来轮询新消息（因此是“空闲”）。请参阅[此链接](http://blog.timstoop.nl/2009/03/11/python-imap-idle-with-imaplib2/)，该链接描述了如何在循环中侦听新消息。

# scala - `object` 的默认 `apply` 方法是什么？

> ID：11390776
> 
> 赞同：1
> 
> 时间：2012-07-09T07:36:19.557
> 
> 标签：scala, object, apply

假设我们有以下定义：

```
scala> trait T
defined trait T

scala> object A extends T
defined module A 
```

然后我们可以创建一个类型`T`为：

```
scala> val t: T = A
t: T = A$@98b13b 
```

这里没有`new`使用关键字，所以这里`apply`使用了一个方法。但是到目前为止我们还没有定义`apply`方法，所以我猜`apply`这里使用了默认方法？但它看起来像什么？

**更新 1：**

当分配`A`相同类型的变量时，将抛出错误：

```
scala> val a: A = A
<console>:9: error: not found: type A
       val a: A = A
              ^ 
```

为什么同样的“技巧”在这里不起作用？有什么区别 ？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-09T07:41:39.067

`A`是 a `object`，而不是 a `class`，因此您不需要创建它的实例 - 它基本上是一个单例。因此`new`不需要。`apply`这里不涉及。

`case class`与es有点不同：

```
case class C(x: Int)
val c = C(10) 
```

这个时间`new`操作符也没有被使用，但是新对象被创建了——这一次`apply()`也涉及到了。基本上，当您创建一个时`case class`，伴随对象也被创建，并`apply`为您实现了方便的方法（请参阅：[使用构造函数，其中函数预期](https://stackoverflow.com/questions/7695515)）：

```
val c = C.apply(10) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-09T08:24:48.393

您的对象`A`不是类型，因此您不能在类型归属中使用它。

```
val a: T = A 
```

和

```
val a: A.type = A 
```

工作。

`T`是你知道`A`继承的特征的加宽类型，`A.type`是单例的窄类型`object`。

# spring-mvc - Spring-Roo 如何只生成控制器而不查看 jspx 文件？

> ID：11390779
> 
> 赞同：2
> 
> 时间：2012-07-09T07:36:48.803
> 
> 标签：spring-mvc, spring-roo

我正在使用 Spring Roo 构建我的服务层，该层需要没有 jspx 文件的 json 接口。但是我尝试了`controller Scaffold`或者`controller all`全部生成视图层。所以我的问题是，如何在没有视图的情况下生成控制器层来构建服务项目？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T06:27:42.370

如果您只想创建一个没有任何视图的控制器类，请使用以下命令

```
controller class --class ~.domain.NameOfController 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-03T16:17:11.567

如果你只想要一个 web 服务层，你可以运行类似的东西：

服务 --interface ~.service.SomeEntityService --entity ~.domain.SomeEntity

# iphone - 异步图像 - 仅用于显示来自网络的图像？

> ID：11390783
> 
> 赞同：0
> 
> 时间：2012-07-09T07:37:19.360
> 
> 标签：iphone, uiimageview

我的文档文件夹中有图像，这些图像显示在我的一个屏幕上。加载图像并在屏幕上显示它们需要时间，这与从 Web 加载图像时类似。据我所知，异步 imageView 适用于后一种情况。我可能错了。

无论如何我们可以异步显示文档文件夹中的图像吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:44:17.223

看看[SDWebImage](https://github.com/rs/SDWebImage/)。它是一个 UIImageView 子类，可让您从 URL 异步显示图像并使用有用的缓存。它旨在与 Internet URL 一起使用，但我认为它也可以与内部 URL 一起使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T07:44:51.967

将图像的加载放在后台线程中，如下所示

```
-(void)backgroundLoadImageFromPath:(NSString*)path {
    UIImage *newImage = [UIImage imageWithContentsOfFile:path];
    [myImageView performSelectorOnMainThread:@selector(setImage:) withObject:newImage waitUntilDone:YES];
} 
```

然后在需要设置图像的任何地方调用该线程

```
[self performSelectorInBackground:@selector(backgroundLoadImageFromPath:) withObject:path]; 
```

请注意，在 backgroundLoadImageFromPath 中，您需要等到 setImage: 选择器完成，否则后台线程的自动释放池可能会在 setImage: 方法保留之前释放图像。

# php - 计算 where 子句中每个值的 sql 结果

> ID：11390784
> 
> 赞同：0
> 
> 时间：2012-07-09T07:37:30.240
> 
> 标签：php, mysql, sql

我有一张这样的桌子：

| 身份证 | 姓名 | 类别 |

我想计算一组给定类别的行数，我有一个类别数组，我想知道每个类别有多少行，我所做的是：

```
$cats = array(2,4,5,1,8,44,47);
foreach($cats as $cat){
  $res = mysql_fetch_assoc(mysql_quer('select count(ID) from item where CATEGORY='.$cat);
} 
```

我也试过`'select count(ID) from item where CATEGORY IN ('.implode(',',$cat).')'`

但这给了我总数。
有没有办法在不循环的情况下获得每个类别的计数？使用 SQL。
我的 SGBD 是 MySQL

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-09T07:39:15.343

```
select count(ID), category 
from item 
     where 
       CATEGORY IN ('.implode(',',$cat).') 
group by category 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-09T07:39:37.443

试试这个 sql：

```
SELECT count(ID) FROM item WHERE category IN (...) GROUP BY category 
```

***代码：***

```
$cats = array(2,4,5,1,8,44,47);
$ret = mysql_query('SELECT category, count(ID) as count FROM item WHERE category IN ('.join(',', $cats).') GROUP BY category');
if (!$ret) {
  die(mysql_error());
}
$results = array();
while($row = mysql_fetch_assoc($ret)) {
  $results[$row['category']] = $row['count'];
}
var_dump($results); 
```

# javascript - javascript WMI 使用 firefox /chrome 查询？

> ID：11390792
> 
> 赞同：0
> 
> 时间：2012-07-09T07:38:19.407
> 
> 标签：javascript, jquery, internet-explorer, firefox, wmi

*目标：通过 WMI 获取处理器 ID：*

我设法使它在 IE 中工作：通过

```
var strComputer = ".";
    var SWBemlocator = new ActiveXObject("WbemScripting.SWbemLocator");
    var objWMIService = SWBemlocator.ConnectServer(strComputer, "/root/CIMV2");
    var strProcess;
    var colItems = objWMIService.ExecQuery("select * from Win32_Processor");

    var e = new Enumerator(colItems);
    for(; ! e.atEnd(); e.moveNext())
    {
        strProcess =  e.item().ProcessorId;
    }

    alert( strProcess) 
```

![在此处输入图像描述](../Images/ff0a065ee1909222d05d87037a4e2ffe.png)

但是 - 这在 FF/chrome 中不起作用，因为它们不支持 ACTIVE X。

FF / chrome 的替代品是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:41:08.947

您可以使用[NPAPI](http://code.google.com/chrome/extensions/npapi.html)为 Google Chrome 编写一个扩展，允许您在客户端计算机上执行本机代码。

FireFox 还允许开发人员编写[插件](http://support.mozilla.org/en-US/kb/use-plugins-play-audio-video-games)和[扩展](http://support.mozilla.org/en-US/kb/extensions-add-features-to-firefox)。

# javascript - 如何基于 url 编写基本的 jquery if 语句

> ID：11390793
> 
> 赞同：3
> 
> 时间：2012-07-09T07:38:19.223
> 
> 标签：javascript, jquery

我不知道为什么这不起作用。尽管我确定这与我在 if 语句中处理 url 的方式有关。如果基本的话，我的 Jquery / javascript 知识。

```
var url = $(location).attr('href');

if (url == 'http://www.website.com/test/index.html')
{
  $('#HomeButton').bind('click', HomeButton);
} 

function HomeButton(e) {
e.preventDefault();

doSomething....

}; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-09T07:40:20.400

不要使用 jquery 访问标准对象属性。

你可以做

```
if (document.location.href == 'http://www.website.com/test/index.html') 
```

但是您永远不应该与整个 URL 进行比较：如果您更改域、在其他地方进行测试、使用 https、添加参数等，您将得到错误的结果。您应该使用 的预期属性`location`，即`pathname`：

```
if (document.location.pathname == '/test/index.html') 
```

如有疑问，如果您想确定您的路径名，只需打开 Chrome 的开发人员工具（通过输入 F12）并在控制台上输入：`document.location.pathname`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T07:40:06.653

`window.location`不是 DOM 元素，因此您不能在其上使用 jQuery 方法。

`.href`实际上是对象的*属性*`Location`。

直接用就行了`if (window.location.href === ...)`

# .net - 将文件保存在 Windows 的文件系统缓存中？

> ID：11390797
> 
> 赞同：0
> 
> 时间：2012-07-09T07:38:34.527
> 
> 标签：.net, caching, disk

我注意到，即使是最基本的 Winform 应用程序（即只是一个窗口，没有额外的模块）在通过 Ngen 创建其机器代码等效项后仍然需要几秒钟才能加载。我想瓶颈是从磁盘加载.Net框架。

Microsoft 的[CacheSet](http://technet.microsoft.com/en-us/sysinternals/bb897561.aspx?ppud=4)不允许管理磁盘缓存的实际内容。

是否有一个应用程序可以强制 Windows 将主要的 .Net 文件保留在其磁盘缓存中，作为 .Net 应用程序启动时间变慢的解决方法？

谢谢你。

# python - Django ModelForm在提交后获取列表中的下一项

> ID：11390808
> 
> 赞同：2
> 
> 时间：2012-07-09T07:39:19.797
> 
> 标签：python, django, django-models, django-views

我不太确定如何为这个问题命名，但我正在尝试使用 Django 开发一个简单的 webapp。我想要做的是用户将手动标记每个图像，并且每个标记都有一个特定图像的外键（但每个图像可以有多个标记）。索引页面应该显示实际图像，但我还没有弄清楚......

几乎问题是，我不确定如何为每个页面实现它，索引页面将显示一张图片和一个用于图像标签的框。用户提交后，会转到下一个未加标签的图片/标签数量最少的图片。现在，用户可以提交一个标签（并且数据写入正确），但它仍然停留在同一个图像上。我是 Python / Django noob，所以请原谅我：P

以下是相关的源代码：

表格.py：

```
class InputForm(forms.ModelForm):
image = forms.ModelChoiceField(queryset=Image.objects.all(),
    widget=forms.HiddenInput())

class Meta:
    model = Tag 
```

模型.py：

```
class Image(models.Model):
image_location = models.CharField(max_length=200)
num_tags = models.IntegerField(default=0)   
image_score = models.FloatField()   
def __unicode__(self):
    return u'%d' % self.id 

class Tag(models.Model):
image = models.ForeignKey(Image)
tag_text = models.CharField(max_length=200, blank=True)

def __unicode__(self):
    return self.tag_text 
```

视图.py：

```
def index(request):
    if request.method == 'POST':
            return HttpResponse(request.POST['image'])

    image = Image.objects.all()[0]
    form = InputForm(initial={'image': image})
    return render_to_response('imageSite/index.html',
    {
            'form':form,
    },
    context_instance=RequestContext(request))

def submit(request):
    form = InputForm(request.POST)
    if(form.is_valid()):
            image = form.cleaned_data['image'];
            image.num_tags = image.num_tags + 1
            image.save()
            model = form.save()
            model.save()
            return redirect(index) 
```

索引.html：

```
<ul>
<form action="/imageSite/submit/" method="post">
{%csrf_token %}
<table>
    {{ form.as_table }}
</table>    
<input type="submit" value="Submit" /> 
</form> 
</ul> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T09:09:09.433

该代码`return redirect(index)`将无法正常工作。您需要返回一个重定向响应，其中包含它应该重定向到的正确 URL。例如：

```
redirect_url = '/images/45/'
return HttpResponseRedirect(redirect_url) 
```

有关完整示例，请参阅Django 文档中的[此](https://docs.djangoproject.com/en/dev/topics/forms/#using-a-form-in-a-view)示例。请注意，`redirect_url`需要在您的视图中计算 的值：您需要计算`Image`标签数量最少的对象，并使用 Django[`reverse`](https://docs.djangoproject.com/en/dev/topics/http/urls/#reverse)干净地计算该`Image`对象的 URL。如果表单无效，则不应执行重定向。

# android - Android在调整滚动视图大小时如何防止滚动视图的内容跳转？

> ID：11390809
> 
> 赞同：2
> 
> 时间：2012-07-09T07:39:21.390
> 
> 标签：android, scrollview

我有这样的布局：

```
<TableRow
        android:id="@+id/TabHidden"
        android:layout_width="fill_parent"
        android:layout_height="45dp"
        android:background="@drawable/bg_detail_tab1"
        android:paddingLeft="5dip"
        android:paddingRight="5dip"
        android:paddingTop="10dip"
        android:visibility="gone"
    >
        ...
</TableRow>
<ScrollView
    android:id="@+id/ScrollViewGameDetail"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="#ffffff"
    android:fillViewport="true" >
    <TableRow
        android:id="@+id/Tab"
        android:layout_width="fill_parent"
        android:layout_height="45dp"
        android:background="@drawable/bg_detail_tab1"
        android:paddingLeft="5dip"
        android:paddingRight="5dip"
        android:paddingTop="10dip"
    >
        ...
    </TableRow>
    ...
</ScrollView> 
```

当我将 ScrollView 滚动到屏幕顶部时，我会将 TableRow 隐藏在 ScrollView 内，并通过调用将 TableRow 显示在外面

```
tabHidden.setVisibility(TableRow.VISIBLE);
tab.setVisibility(TableRow.GONE); 
```

这将使 ScrollView 之外的 TableRow 始终位于屏幕顶部。它工作正常，除了当里面的 TableRow 被隐藏时，ScrollView 里面的所有内容都会被推高一点（等于 TableRow 的高度）。我不希望它像那样跳起来，因为滚动动作看起来不流畅。有没有办法阻止 ScrollView 内容自动填充这样的空白？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:46:37.580

当你使用`setVisibility(View.GONE);`它会被完全删除，你想要做的是留下空白空间，是使用`setVisibility(View.INVISIBLE);`

# asp.net-mvc-3 - 在 ASP.Net MVC3 中使用菜单实现基于角色的登录？

> ID：11390810
> 
> 赞同：0
> 
> 时间：2012-07-09T07:39:24.073
> 
> 标签：asp.net-mvc-3, c#-4.0

大家好，这是我第一次在 MVC 应用程序上工作，任何人都可以给我一些想法，这将是非常好的......我必须开发一个页面，我如何通过分配给菜单的用户实现基于角色的登录它们在asp.net MVC 3中。考虑我有三个表UserInfo（UserId，UserName，Password，RoleId，MenuID）和Role（RoleId，RoleName）。，Menu（MenuID，MenuName）。

我想从数据库（UserInfo 表）中验证用户，并且还想从该表中检索角色。并且想使用，我如何设计我的项目和控制器、视图和模型

需要你的帮助和想法......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T08:14:32.240

您可以使用 .net 登录控件进行登录和管理角色。在 VS2010 中打开您的应用程序，然后转到项目菜单，然后打开 ASP.Net 配置，并根据需要添加角色。

```
Roles.IsUserInRole("RoleName") 
```

像这样，您将检查登录的用户角色并更改您的菜单设置。

希望这对您有帮助。

# c# - 必须在删除语句中声明标量变量“@UserId”。

> ID：11390811
> 
> 赞同：0
> 
> 时间：2012-07-09T07:39:31.570
> 
> 标签：c#, asp.net, sql, runtime-error

我遇到了这个错误：当我试图删除我的 SqlServer 中的一个特定行时，必须声明标量变量“@UserId”。我已经在 DeleteParameters 中声明了 UserId，但仍然出现此错误。

> 异常详细信息：`System.Data.SqlClient.SqlException:`必须声明标量变量 >`"@UserId".`
> 
> **源错误：**
> 
> 在执行当前 Web 请求期间生成了未处理的异常。可以使用下面的异常堆栈跟踪来识别有关异常起源和位置的信息。

这是我的代码：

```
<asp:SqlDataSource ID="SqlDataSource1" runat="server" 
    ConnectionString="<%$ ConnectionStrings:ASPNETDBConnectionString1 %>" 
    SelectCommand="SELECT aspnet_Membership.Email, Details.CustName, Details.CustNum, Details.CustRole, Details.CustStatus, Details.PName, Details.PEmail, Details.PRole, Details.WedDate, aspnet_Users.UserName, Details.UserId FROM Details INNER JOIN aspnet_Membership ON Details.UserId = aspnet_Membership.UserId INNER JOIN aspnet_Users ON aspnet_Membership.UserId = aspnet_Users.UserId WHERE (Details.UserId = @UserId)"
    UpdateCommand="update Details SET CustName = @CustName, CustNum = @CustNum, CustRole = @CustRole, CustStatus = @CustStatus, PName = @PName, PEmail = @PEmail, PRole = @PRole, WedDate = @WedDate WHERE [UserId] = @UserId Update aspnet_Membership Set Email= @email WHERE [UserId] = @UserId"
    DeleteCommand="DELETE FROM Details WHERE [UserId] = @UserId">
    <DeleteParameters>
        <asp:Parameter Name="UserId" type="String" />
        <asp:Parameter Name="CustName" />
        <asp:Parameter Name="CustNum" />
        <asp:Parameter Name="CustRole" />
        <asp:Parameter Name="CustStatus" />
        <asp:Parameter Name="PName" />
        <asp:Parameter Name="PEmail" />
        <asp:Parameter Name="PRole" />
        <asp:Parameter Name="WedDate" />
        <asp:Parameter Name="email" />
    </DeleteParameters>
    <SelectParameters>
        <asp:ControlParameter ControlID="lblHidden" Name="UserId"
        PropertyName="Text" />
    </SelectParameters>
    <UpdateParameters>
        <asp:Parameter Name="CustName" />
        <asp:Parameter Name="CustNum" />
        <asp:Parameter Name="CustRole" />
        <asp:Parameter Name="CustStatus" />
        <asp:Parameter Name="PName" />
        <asp:Parameter Name="PEmail" />
        <asp:Parameter Name="PRole" />
        <asp:Parameter Name="WedDate" />
        <asp:Parameter Name="UserId" />
        <asp:Parameter Name="email" />
    </UpdateParameters>
</asp:SqlDataSource>
<asp:DetailsView ID="DetailsView1" runat="server"
    AutoGenerateRows="False" DataSourceID="SqlDataSource1"
    Height="50px" Width="125px">
    <Fields>
        <asp:BoundField DataField="Email" HeaderText="Email"
            SortExpression="Email" />
        <asp:BoundField DataField="CustName" HeaderText="CustName"
            SortExpression="CustName" />
        <asp:BoundField DataField="CustNum" HeaderText="CustNum"
            SortExpression="CustNum" />
        <asp:BoundField DataField="CustRole" HeaderText="CustRole"
            SortExpression="CustRole" />
        <asp:BoundField DataField="CustStatus" HeaderText="CustStatus"
            SortExpression="CustStatus" />
        <asp:BoundField DataField="PName" HeaderText="PName"
            SortExpression="PName" />
        <asp:BoundField DataField="PEmail" HeaderText="PEmail"
            SortExpression="PEmail" />
        <asp:BoundField DataField="PRole" HeaderText="PRole"
            SortExpression="PRole" />
        <asp:BoundField DataField="WedDate" HeaderText="WedDate"
            SortExpression="WedDate" />
        <asp:BoundField DataField="UserName" HeaderText="UserName"
            SortExpression="UserName" />
        <asp:BoundField DataField="UserId" HeaderText="UserId"
            SortExpression="UserId" />
        <asp:CommandField ShowDeleteButton="True"
            ShowEditButton="True" />
    </Fields>
</asp:DetailsView>
<asp:Label ID="lblHidden" runat="server" Text="Label" Visible="False">
</asp:Label> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:51:33.797

我认为您已经按原样粘贴了 T-SQL 查询。我想向你解释你在这里做什么：

```
SELECT aspnet_Membership.Email, Details.CustName, Details.CustNum, 
    Details.CustRole, Details.CustStatus, Details.PName, Details.PEmail, 
    Details.PRole, Details.WedDate, aspnet_Users.UserName, Details.UserId 
FROM Details 
INNER JOIN aspnet_Membership ON Details.UserId = aspnet_Membership.UserId 
INNER JOIN aspnet_Users ON aspnet_Membership.UserId = aspnet_Users.UserId 
WHERE (Details.UserId = @UserId) 
```

此查询根据以下表格检索数据`UserId`

1.  细节
2.  aspnet_Membership
3.  aspnet_Users

您必须传递`UserId`给 SqlDataSource 才能执行其功能：阅读有关如何 [使用 SQLDataSource 插入、更新和删除的信息](http://www.asp.net/web-forms/tutorials/data-access/accessing-the-database-directly-from-an-aspnet-page/inserting-updating-and-deleting-data-with-the-sqldatasource-vb)

# android - 如何获取当前视图 - Android

> ID：11390814
> 
> 赞同：-1
> 
> 时间：2012-07-09T07:39:43.043
> 
> 标签：android, android-layout, android-viewpager, android-view, android-viewbinder

当我运行这个线程时，我目前收到 NULL 指针异常

```
public void run() {
    long idle = 0;
    this.touch();
    do {
        idle = System.currentTimeMillis() - lastUsed;
        Log.d(TAG, "Application is idle for " + idle + " ms");
        if ((idle > 5000) && (check == false)) { // Checking For 2 Minutes.
            Log.e("AthanAd", "2 minutes over - Show Ad.");
            adView = (AdView) view.findViewById(R.id.adView);
            adView.loadAd(new AdRequest());
            check = true;
        }
        try {
            Thread.sleep(8000); // check every 5 seconds
        } catch (InterruptedException e) {
            Log.d(TAG, "Waiter interrupted!");
        }
        if (idle > period) {
            idle = 0;
            // do something here - e.g. call popup or so
        }
    } while (!stop);
    Log.d(TAG, "Finishing Waiter thread");
} 
```

我在这条线上得到了例外。

**`adView = (AdView) view.findViewById(R.id.adView);`**

在应用程序的顶部，我声明了**View 视图；**但我知道我没有将它与任何观点联系起来。

我的问题是：**我怎样才能让视图在屏幕上可见？**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-09T07:50:20.507

不要使用`view.findViewById(R.id.adView);` 使用`findViewById(R.id.adView);`

```
LinearLayout ln=(LinearLayout)findViewById(R.id.yourid);
ln.addView(adView); 
```

# c++ - 自定义分配器内存对齐

> ID：11390815
> 
> 赞同：1
> 
> 时间：2012-07-09T07:39:42.957
> 
> 标签：c++, memory-alignment, allocator

有人可以帮助我的基于堆栈的分配器。

```
static char Stack[MAX_SIZE];
static char *top = &Stack[0];

class STACKED {
    public:
        static void *operator new(size_t size) {
            //Add this context to the context stack.
            void *Result;
            assert( (top + size) <= &Stack[MAX_SIZE] );

            Result = top;
            top = top + align_sizeof(size);
            return Result;
        }

        static void operator delete(void *p) {
            //Its a stack, and delete only removes the top entry.
            // So *p represents where to delete to.
            top = (char *)p;
        }

        static size_t align_sizeof(size_t object_size) {
            // TODO: Align objects.
            return object_size;
        }
}; 
```

1）断言是否正确检测堆栈是否会溢出？

2) align_sizeof() - 我想对齐这些对象以解决性能/总线问题。但我不完全理解对齐。有人可以描述内存对齐，并建议一个公式来对齐堆栈对象吗？

2a）我目前的想法是“汇总”对象的大小，以便顶部始终对齐。有效地分配比所需更多的内存（在最后放置填充）。

3）我猜我还必须对齐静态字符堆栈[MAX_SIZE] - 我该怎么做？

谢谢！

PS任何其他评论总是欢迎

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:58:24.843

首先，您可以替换 `static char *top = &Stack[0];`为 `static char *top = Stack;`，因为数组名称是指向第一个元素的指针。

您的代码非常不安全。您正在返回指向数组中元素的指针。accert 没问题，但考虑这样的用法：

```
STACKED a;
char * foo = (char *)a.operator new(10);
foo += 10000000;
*foo= 's'; 
```

这将导致崩溃，并且您的断言不会对此有所帮助。

如果要管理内存，则应将数组放在类中，并让类处理所有使用情况，而不是让用户使用直接指针。在这种情况下，您将能够跟踪用户是否想要访问债券外索引。

当你删除一个对象时，你不应该只移动堆栈的顶部。如果用户试图删除位于堆栈“中间”的项目，您将需要适当地更改堆栈状态，但请注意不要破坏指向已分配内存的指针。

至于对齐方式，您可以查看[wiki](http://en.wikipedia.org/wiki/Data_structure_alignment)，希望对您有所帮助。

另外，当你删除一个元素时，你应该检查你得到的指针是否真的指向你堆栈中的某个地方。这是一个错误代码的示例：

```
STACKED a;
char * foo = new char(10);
a.operator delete(foo - 10000);
char * crash = (char *)a.operator new(10); 
```

在这种情况下，您`assert()` *可能会*有所帮助，但该课程的用户可能不了解实际发生的情况。

# javascript - 在 Codemirror 中获取选定范围

> ID：11390826
> 
> 赞同：1
> 
> 时间：2012-07-09T07:40:46.480
> 
> 标签：javascript, codemirror

如果我在我的 codemirror 编辑器中选择一个范围，比如 shift+up/down/left/right ，有没有办法获得所选文本的坐标？就像开始/结束的行号一样，相对于行和文档的字符位置？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-09T15:20:33.360

`codemirror.getCursor(true)`会让你开始选择。 `codemirror.getCursor(false)`会让你结束选择。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-17T04:39:47.360

我在创建它之后将函数附加到编辑器实例，例如

```
editor.getSelectedRange = function() {
  return { from: editor.getCursor(true), to: editor.getCursor(false) };
}; 
```

以匹配标准`getSelection`方法。如果您正在处理大量编辑器实例，则必须将其添加到每个实例中，这些实例只是单独的对象。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-12-11T19:54:09.450

我认为不再需要布尔值了。文档现在说`getCursor(?start: string)`，`start`“head”、“start”或“end”在哪里（默认为“head”）。

# enterprise-architect - 企业架构师逆向工程-协会

> ID：11390827
> 
> 赞同：0
> 
> 时间：2012-07-09T07:40:48.570
> 
> 标签：enterprise-architect

我已经在 Enterprise Architect 中导入了 Sources 并且想要绘制类图和序列图。

## 类图

这里的问题是，如果我将一个类从项目浏览器拉到“绘图阶段”，则该类的成员将显示在该类中。我怎样才能获得协会而不是（或除了）成员？因此，如果我有一个带有成员 Room 的类生成器。我想要这两个类和这两者之间的关联。我必须在“绘图阶段”上手动拉所有成员还是有一些自动处理？

## 序列图

我可以让 EA 为我绘制一个序列图，只需要一个“启动方法”作为输入吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T15:14:13.400

**类图**

是的，您可以添加关联的类。将该类拖放到图表上，然后右键单击它并选择添加 - 相关元素。这会导致 EA 将其他元素添加到图表中，这些元素具有与您右键单击的元素之间的连接器。

在 EA 打开的对话框中，您可以指定要添加的单个元素类型（类、组件等）和/或要遵循的单个连接器类型（此对话框中的“链接”），例如关联。留空将导致 EA 添加所有元素类型和/或遵循所有连接器。

您还可以指定连接器方向（例如，如果您只想添加*来自*第一类的那些定向关联，而不是*去往*它的那些），以及链中要遵循的链接数（“级别”） .

如果要隐藏特定类的成员，可以右键单击该类并选择设置功能可见性，这会弹出一个对话框，您可以在其中打开或关闭该类的各种隔间。

相反，如果您想更改图表中所有类的表示，您可以双击图表的空白区域（或右键单击并选择属性），然后在 Elements 选项卡中设置各个隔间的表示。

# javascript - 是否可以在 SVG 中监听图像加载事件？

> ID：11390830
> 
> 赞同：18
> 
> 时间：2012-07-09T07:41:07.447
> 
> 标签：javascript, image, svg, load

是否可以在 SVG 中监听`<image>`加载事件？如果是，该怎么做？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-07-09T10:27:42.500

是的，这是可能的。

在标记中：

```
<image xlink:href="example.png" width="10" height="10" 
       onload="alert('loaded')"/> 
```

见[jsfiddle](http://jsfiddle.net/749WG/49/)。

在脚本中：

```
<script>
  var img = document.createElementNS("http://www.w3.org/2000/svg", "image");
  img.addEventListener('load', function() { alert('loaded'); });
  // or alternatively:
  // img.onload = function() { alert('loaded'); }
  img.width.baseVal.value = 100;
  img.height.baseVal.value = 100;
  img.href.baseVal = "example.png";
</script> 
```

见[jsfiddle](http://jsfiddle.net/ZXdxc/81/)。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-03-13T09:51:54.807

我发现这不适用于使用 D3 创建的 SVG 对象，但这里的答案很有效：

[在加载真实图像之前，如何在我的 SVG 中显示占位符图像？](https://stackoverflow.com/questions/18857433/how-can-i-display-a-placeholder-image-in-my-svg-until-the-real-image-is-loaded)

例如，这有效：

```
var img = innerG.append("image")
    .attr('onload', function() {
        console.log('loaded');
    })
    .attr("xlink:href", src)
    .attr("width", size)
    .attr("height", size); 
```

但这不起作用：

```
var img = innerG.append("image")
    .attr("xlink:href", src)
    .attr("width", size)
    .attr("height", size);

img.addEventListener('load', function() { console.log('loaded'); }); 
```

# android - 显示好友请求列表

> ID：11390832
> 
> 赞同：-1
> 
> 时间：2012-07-09T07:41:08.993
> 
> 标签：android, facebook-graph-api

我在我的 android 应用程序中集成了 facebook。在应用程序中，我想获取发送到我的应用程序以显示的朋友请求列表。我的代码在 java 中。我花了很多时间来搜索解决方案。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:57:41.777

```
 String uri ="https://graph.facebook.com/me/friendrequests";
     HttpGet get = new HttpGet(uri);
     HttpClient client = new DefaultHttpClient();
     HttpResponse response = client.execute(get);
     HttpEntity resEntityGet = responseGet.getEntity();
      if (resEntityGet != null) {  
            Log.i("GET ",EntityUtils.toString(resEntityGet));
       }
} catch (Exception e) {
    e.printStackTrace();
} 
```

将返回您某些信息，例如`from`, `to`,`created_time`等。这里有更多信息[https://developers.facebook.com/docs/reference/api/user/#friendrequests](https://developers.facebook.com/docs/reference/api/user/#friendrequests)

**编辑**它还说它是一个“对象数组”，所以我假设它是 JSON 格式。使用`JSONTokener`and`JSONObject`以下列方式解析。在该行之后插入`HttpResponse response = client.execute(get);`

```
BufferedReader reader = new BufferedReader(new InputStreamReader(response.getEntity().getContent(), "UTF-8"));
StringBuilder builder=new StringBuilder();
for(String line=null;(line = reader.readLine()) != null;){
   builder.append(line).append("\n");
}
JSONTokener jsonTokener=new JSONTokener(builder.toString());
JSONObject finalJson=new JSONObject(jsonTokener) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T07:53:26.407

也许[这](http://developers.facebook.com/docs/reference/fql/friend_request/)会帮助你

> 例子
> 
> 发送给当前会话用户的所有待处理的好友请求（试试这个查询）
> 
> SELECT uid_from, time, message FROMfriend_request WHERE uid_to = me()
> 
> 当前会话用户向其他用户发送的待处理好友请求
> 
> 选择时间，来自朋友请求的消息 WHERE uid_from = me() AND uid_to = "204686"

这是[FQL（Facebook 查询语言）的链接](http://developers.facebook.com/docs/reference/fql/)

# xcode - attributesOfItemAtPath 中的垃圾箱路径：

> ID：11390833
> 
> 赞同：0
> 
> 时间：2012-07-09T07:41:14.253
> 
> 标签：xcode, macos, cocoa, nsfilemanager, recycle-bin

我正在创建一个可可应用程序，它将以 MB、GB 等为单位提供垃圾箱的大小。到目前为止，我已经获得了在给定路径中查找项目大小的代码：

```
 unsigned long long fileSize = [[[NSFileManager defaultManager] attributesOfItemAtPath:@"/Users/myusername/Documents" error:nil] fileSize];
 NSLog(@"%lld", fileSize); 
```

但是，我不知道当前用户垃圾的路径。因此，如果有人能说出在我上面的代码中可以使用的垃圾的路径，我们将不胜感激！

谢谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:48:34.727

当前用户的垃圾箱在`~/.Trash`. Apple 没有以编程方式将文件放入垃圾箱的官方方法。您可以尝试查看[有关该主题的 CocoaDev wiki](http://cocoadev.com/wiki/MoveToTrash)。

# sql - 字符串替换PNG为JPG

> ID：11390834
> 
> 赞同：-3
> 
> 时间：2012-07-09T07:41:24.727
> 
> 标签：sql, string, replace, opencart

我刚刚将我的图像导入到 opencart 中。我现在注意到 OpenCart 不能正确处理 PNG 图形，因为它使用静态压缩率，这对 JPG 效果很好，但最终无损压缩 PNG，这不是很好。

我现在已经将 png 图像转换为 Jpeg，但我想知道是否可以使用 MySql 替换图像名称。

有什么方法可以替换 URL 的图像链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:58:30.973

```
update TABLE_NAME set FIELD_NAME = replace(FIELD_NAME, ‘find this string’, ‘replace found string with this string’); 
```

# python - 在 python 中定义“重载”函数

> ID：11390838
> 
> 赞同：1
> 
> 时间：2012-07-09T07:41:34.667
> 
> 标签：python, magic-methods, multiple-dispatch

我真的很喜欢“魔术方法”的语法或者它们在 Python 中被调用的任何东西，比如

```
class foo:
    def __add__(self,other): #It can be called like c = a + b
        pass 
```

通话

```
c = a + b 
```

然后被翻译成

```
a.__add__(b) 
```

是否可以为“非魔法”功能模仿这种行为？在数值计算中，我需要 Kronecker 产品，并且渴望拥有“kron”函数，这样

```
kron(a,b) 
```

实际上是

```
a.kron(b)? 
```

用例是：我有两个相似的类，比如矩阵和向量，它们都有 Kronecker 积。我想打电话给他们

```
a = matrix()
b = matrix()
c = kron(a,b)

a = vector()
b = vector()
c = kron(a,b) 
```

矩阵和向量类定义在一个 .py 文件中，因此共享公共命名空间。那么，实现上述功能的最佳（Pythonic？）方法是什么？可能的解决方案：

1) 拥有一个 kron() 函数并进行类型检查

2）有不同的命名空间

3) ?

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-09T08:01:13.737

python 默认操作符方法（`__add__`等等）是硬连线的；python 会寻找它们，因为操作符实现会寻找它们。

然而，没有什么能阻止你定义一个`kron`做同样事情的函数。查找`__kron__`或`__rkron__`传递给它的对象：

```
def kron(a, b):
    if hasattr(a, '__kron__'):
        return a.__kron__(b)
    if hasattr(b, '__rkron__'):
        return b.__rkron__(a)
    # Default kron implementation here
    return complex_operation_on_a_and_b(a, b) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-09T08:21:22.347

您所描述的是[multiple dispatch](http://en.wikipedia.org/wiki/Multiple_dispatch)或*multimethods*。魔术方法是实现它们的一种方法，但实际上更常见的是拥有一个可以注册特定类型实现的对象。

例如，[http](http://pypi.python.org/pypi/multimethod/) ://pypi.python.org/pypi/multimethod/会让你写

```
@multimethod(matrix, matrix)
def kron(lhs, rhs):
    pass

@multimethod(vector, vector)
def kron(lhs, rhs):
    pass 
```

自己写一个多方法装饰器很容易；BDFL 在[一篇文章](http://www.artima.com/weblogs/viewpost.jsp?thread=101605)中描述了一个典型的实现。这个想法是`multimethod`装饰器将类型签名和方法与注册表中的方法名称相关联，并用生成的方法替换该方法，该方法执行类型查找以找到最佳匹配。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-09T07:59:09.743

从技术上讲，实现类似于“标准”运算符（以及类似运算符 - think`len()`等）的行为并不困难：

```
def kron(a, b):
    if hasattr(a, '__kron__'):
        return a.__kron__(b)
    elif hasattr(b, '__kron__'):
        return b.__kron__(a)
    else:
        raise TypeError("your error message here") 
```

现在您只需要`__kron__(self, other)`在相关类型上添加一个方法（假设您可以控制这些类型，或者它们不使用插槽或其他任何会阻止在类语句主体之外添加方法的东西）。

现在我不会使用`__magic__`上面代码片段中的命名方案，因为这应该是为语言本身保留的。

另一种解决方案是维护一个`type`:`specifici function`映射并让“通用”`kron`函数查找映射，即：

```
# kron.py
from somewhere import Matrix, Vector

def matrix_kron(a, b):
    # code here

def vector_kron(a, b):
    # code here

KRON_IMPLEMENTATIONS = dict(
    Matrix=matrix_kron,
    Vector=vector_kron,
    )

def kron(a, b):
    for typ in (type(a), type(b)):
        implementation = KRON_IMPLEMENTATION.get(typ, None)
        if implementation:
            return implementation(a, b)
    else:
        raise TypeError("your message here") 
```

该解决方案不适用于继承，但它“不那么令人惊讶” - 不需要猴子补丁或`__magic__`名称等。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-09T08:00:11.270

我认为拥有一个委托实际计算的函数是一种很好的方法。如果 Kronecker 产品仅适用于两个相似的类，您甚至可以在函数中进行类型检查：

```
def kron(a, b):
    if type(a) != type(b):
        raise TypeError('expected two instances of the same class, got %s and %s'%(type(a), type(b)))
    return a._kron_(b) 
```

然后，您只需要`_kron_`在该类上定义一个方法。这只是一些基本示例，您可能希望对其进行改进以更优雅地处理类没有`_kron_`方法或处理子类的情况。

标准库中的二进制操作通常具有反向对偶 ( `__add__`and `__radd__`)，但由于您的运算符仅适用于相同类型的对象，因此在这里没有用。

# jquery - 使用 jQuery ajax 调用从不同域访问速度模板

> ID：11390843
> 
> 赞同：0
> 
> 时间：2012-07-09T07:42:02.433
> 
> 标签：jquery, cross-domain

我有一个使用部署在同一台服务器上的 Apache Velocity 的应用程序（因为我在本地开发它，但可能在 Prod 的另一台服务器上）。从我当前的应用程序中，我需要从该应用程序中获取 Velocity 模板并在 Jquery 对话框中显示该模板。我能够进行跨域ajax调用

```
$.ajax({
         url         : '/ContextRootOfdifferentApplication/preview.do',
         data        : 'previewJson=' + JSON.stringify(dataForPreview),
         contentType : "text/plain; charset=utf-8",
         crossDomain : true,
         type        : "POST",
         dataType    : 'html',
         success     : function(response){
             window.open(response);
           }
         }); 
```

在调试器中，我可以将响应视为有效的 HTML

```
<html>
<head>
<body>
    <div id="container" align="center">
    <div>&nbsp;</div>
    <div>&nbsp;</div>
    <div style="width: 80%; height: 10px; background-color: #6698FF;"></div>
    <div>&nbsp;</div>
    <div>&nbsp;</div>
    <div id="errormsg" style="text-align: center; font-weight: bold;">Preview Not Available!!!</div>
    <div>&nbsp;</div>
    <div>&nbsp;</div>
    <div style="width: 80%; height: 10px; background-color: #6698FF;"></div>
    </div>
</body>
</html> 
```

但是，一旦我尝试将此 HTML 页面显示为弹出窗口或在 jQuery 对话框中，就会出现 404 错误

> HTTP 状态 404 - /currentApp/%3Chtml%3E%3Chead%3E%3Cbody%3E%3Cdiv%20id=%22container%22%20align=%22center%22%3E%3Cdiv%3E %3C/div%3E%3Cdiv% 3E %3C/div%3E%3Cdiv%20style=%22width:%2080%;%20height:%2010px;%20background-color:%20
> 
> 消息 /currentApp/%3Chtml%3E%3Chead%3E%3Cbody%3E%3Cdiv%20id=%22container%22%20align=%22center%22%3E%3Cdiv%3E %3C/div%3E%3Cdiv%3E %3C /div%3E%3Cdiv%20style=%22width:%2080%;%20height:%2010px;%20background-color:%20
> 
> 描述 请求的资源 (/currentApp/%3Chtml%3E%3Chead%3E%3Cbody%3E%3Cdiv%20id=%22container%22%20align=%22center%22%3E%3Cdiv%3E %3C/div%3E%3Cdiv %3E %3C/div%3E%3Cdiv%20style=%22width:%2080%;%20height:%2010px;%20background-color:%20) 不可用。

知道我在这里缺少什么可能导致此错误吗？

ps: **ContextRootOfdifferentApplication**我正在对其进行 ajax 调用的应用程序。 **currentApp** : 我正在进行 Ajax 调用的应用程序

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T08:47:59.443

好的，最后我找到了我正在做的解决方案/错误。当我试图将其作为弹出窗口打开时，我正在写

```
window.open(response) 
```

由于响应是从 ajax 调用中获取的 html 代码，因此无法从中生成 URL 并引发 404 错误。

我在用它打开一个 jquery 对话框时犯了同样的错误。

最后这条线对我有用：

```
$('#response').html(response).dialog({modal:true}); 
```

# php - 如何在gridview display yii中显示两个表格的结果

> ID：11390844
> 
> 赞同：1
> 
> 时间：2012-07-09T07:42:19.193
> 
> 标签：php, yii

我有两个表 A 表和 B 表。

我有表 A 的 pk，因为 fk 在表 B 中称为 member_id。

在表 B 的 girdview 显示时，我想使用表 B 中的“member_id”在表 A 中显示“成员名称”。

```
$this->widget('zii.widgets.grid.CGridView', array(
'id'=>'transaction-grid',
'dataProvider'=>$model->search(),
'filter'=>$model,
'columns'=>array(
    'id',
    'member_id',
    'Location',
    ...
    array(
        'class'=>'CButtonColumn',
        'template'=>'{view}',
    ),
),
)); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-09T07:44:30.273

您需要设置与该表的关系，并且可以使用该关系来引用该字段，如下所示：

```
$data->member->name; 
```

在您的事务模型中，您将放置以下内容：

```
public function relations() {
        // NOTE: you may need to adjust the relation name and the related
        // class name for the relations automatically generated below.
        return array(
            'member' => array(self::BELONGS_TO, 'Member', 'member_id'),// foreign key
        );
    } 
```

对于网格，您会喜欢：

```
$this->widget('zii.widgets.grid.CGridView', array(
'id'=>'transaction-grid',
'dataProvider'=>$model->search(),
'filter'=>$model,
'columns'=>array(
    'id',
       array(
            'header' => 'Member',
            'name' => 'member_id',
            'value' => '$data->member->name'
        ),

    'Location',
    ...
    array(
        'class'=>'CButtonColumn',
        'template'=>'{view}',
    ),
),
)); 
```

# java - 从 Java 中的客户端套接字读取数据

> ID：11390847
> 
> 赞同：3
> 
> 时间：2012-07-09T07:42:28.873
> 
> 标签：java, sockets

我已经编写了用于从客户端套接字发送/接收数据的代码。发送数据步骤已成功完成，但是当我想从套接字读取数据时，该`readLine()`方法会在没有数据可读取的情况下阻止程序。

这是我的代码：

```
StringBuffer document = new StringBuffer();
BufferedReader reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));
String line = null;
while ((line = reader.readLine()) != null)
     document.append(line + "\n");
reader.close() 
```

* * *

谢谢大家，我可以读取所有接收到的数据，但是 readLine 或 read(byte[], int, int) 方法在没有数据要读取时会阻塞程序，而此时此方法必须返回 null/-1。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-09T07:45:19.493

那是因为该`readLine()`函数是一个阻塞调用，所以它当然会阻塞。

为了更具建设性，对类似方法的调用`readLine()`应该在单独的线程中，以便阻塞调用不会影响您的其余代码。从正在阅读的课程中，我建议创建一个线程来纯粹控制从套接字读取。

我会传递一个对创建类的引用，这样如果线程接收到信息，父类就可以使用它。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-09T08:32:09.383

BufferedReader 有一个名为“ready()”的方法，当数据准备好接收时返回 true。如果您不想在“readLine()”调用中被阻塞，请首先检查数据是否已准备好读取。

[看看文档](http://docs.oracle.com/javase/1.4.2/docs/api/java/io/BufferedReader.html)。

# c++ - std::cout 的工作原理

> ID：11390850
> 
> 赞同：3
> 
> 时间：2012-07-09T07:42:59.033
> 
> 标签：c++, cout

> **可能重复：**
> [c++ 中的 cout<<cout 和 cout<<&cout 有什么区别？](https://stackoverflow.com/questions/7489069/whats-the-difference-between-coutcout-and-coutcout-in-c)

无意中发现：

```
cout << cout; 
```

输出是一些地址。这个地址是什么意思，为什么显示它？
我正在寻找[这个问题](https://stackoverflow.com/questions/5508857/how-does-cout-actually-work)。

谢谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-09T07:44:51.693

因为`ostream`重载`operator void*()`，这是调用的关闭匹配，所以打印`operator <<`了强制转换的结果。`(void*)cout`在你的情况下是那个地址。请记住，这`cout`是一个对象。

基本上，调用转换为：

```
cout.operator<<((void*)cout); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-09T08:46:13.217

`cout`是一个`ostream`具有重载的[插入（`<<`）运算符](http://www.cplusplus.com/reference/iostream/ostream/operator%3C%3C/)的对象。如果我们查看`ostream`类的构造函数，有一个要传递的参数，它是一个指向`streambuf`对象的指针。`streambuf`对象通常与用于读取和写入数据的字符序列相关联。对于控制台应用程序，将有一个与标准输出相关联的字符缓冲区，在 cout 的情况下*可能会在内部使用。*文档中说我们不应该直接实例化`ostream`对象，而是使用任何派生类，`ofstream`或者`ostringstream`转移对标准输出的注意力。

关于打印地址，我认为 Luchian Grigore 是对的。

这个问题将使您了解`cout`对象的实例化方式和位置：[对象 std::cout 是如何构造/实例化的](https://stackoverflow.com/questions/4457795/how-is-the-object-stdcout-constructed-instantiated)

# iphone - 购买前如何选择自动续订的订阅期限

> ID：11390852
> 
> 赞同：0
> 
> 时间：2012-07-09T07:43:12.170
> 
> 标签：iphone, ios, in-app-purchase, in-app-billing

自动续订订阅有一个 id，但可以有多个持续时间。我想知道如何指定用户选择购买的持续时间，但 SKProduct 中没有“持续时间”这样的字段。 **问题：**不可能在代码中选择自动更新订阅的持续时间，而是用户在本机对话框中选择一个，这是否正确？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:48:54.963

您必须从 iTunes 中的产品 ID 推断出的持续时间。没有其他选择。与 Apple 文档一样

> SKPaymentTransaction 对象或 App Store 收据验证器返回的收据数据中未提供订阅的长度。您应该为每个订阅长度使用不同的产品标识符，以便您的应用程序可以将产品标识符转换为订阅长度。

例如 com.mycompany.6monthssub com.mycompany.1yearsub

# java - Java双重比较

> ID：11390853
> 
> 赞同：14
> 
> 时间：2012-07-09T07:43:15.863
> 
> 标签：java, double

是否有任何用于进行双重比较的 java 库？例如

```
public static boolean greaterThanOrEqual(double a, double b, double epsilon){
     return a - b > -epsilon;
} 
```

我开始的每个项目最终都会重新实现这个并复制粘贴代码和测试。

注意为什么最好使用 3rd 方 JAR 的一个很好的例子是 IBM 推荐以下内容：

> “如果您不知道基础测量的规模，使用测试“abs(a/b - 1) < epsilon”可能比简单地比较差异更可靠”

我怀疑很多人会想到这一点，并说明即使是简单的代码也可能不是最佳的。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-07-09T07:49:00.127

[番石榴](https://github.com/google/guava)有[`DoubleMath.fuzzyCompare()`](https://google.github.io/guava/releases/20.0/api/docs/com/google/common/math/DoubleMath.html#fuzzyCompare-double-double-double-)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-09T08:10:20.723

在标准 Java 库中，实际上没有方法可以处理您的问题使用的方法与您在问题中所述的方法一样，对于您的问题的不同实现，您应该考虑对此进行研究：

[Java 双重比较 epsilon](https://stackoverflow.com/questions/356807/java-double-comparison-epsilon)

随意询问任何其他歧义

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-03-01T07:04:25.730

您应该避免使用任何使用天真的“最大绝对差异”方法的库（例如 Guava）。正如 Bruce Dawson 的优秀文章[Comparing Floating Point Numbers, 2012 edition](https://randomascii.wordpress.com/2012/02/25/comparing-floating-point-numbers-2012-edition/)中所详述的那样，它非常容易出错，因为它仅适用于非常有限的值范围。一种更稳健的方法是使用相对差异或 ULP 进行近似比较。

我知道的唯一一个确实实现了正确的近似比较算法的库是`apache.common.math`.

# c# - 如何开发嵌入任务栏的应用程序

> ID：11390855
> 
> 赞同：1
> 
> 时间：2012-07-09T07:43:19.067
> 
> 标签：c#, wpf

我对 Windows 编程世界相当陌生。我想开发一个嵌入到 TaskBar（靠近系统托盘）的 Windows 应用程序，然后单击应该启动的实际应用程序。C# 和 WPF 是正确的工具，还是我应该使用任何其他编程语言。任何关于如何完成的想法都非常感谢。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-09T08:20:41.353

可以搜索“tray bar application c#”或者“notifyicon application c#”，例子很多。这里也可能是问题的重复

[如何制作仅在系统托盘中运行的 .NET Windows 窗体应用程序？](https://stackoverflow.com/questions/995195/writing-a-windows-system-tray-application-with-net)

# php - 来自复选框的数据不会进入 IE 和 Firefox 中的数据库

> ID：11390856
> 
> 赞同：0
> 
> 时间：2012-07-09T07:43:21.420
> 
> 标签：php, javascript

这是我将值输入数据库的代码：

```
if (isset($_POST['submit']))
{
$check1=$_POST['chk1'];
$con = mysql_connect("144.100.166.07","arj","1lgh");
if (!$con)
  {
  die('Could not connect: ' . mysql_error());
  }
mysql_select_db("arjunJalaaDe", $con);

for($i=0;$i<sizeof($check1);$i++)
{
$sql="INSERT INTO testing (word) values ('". $check1[$i]."')";
mysql_query($sql) or die('Error: ' . mysql_error());
}
mysql_close($con);
echo("its done");
} 
```

这些值取自复选框。

```
<input type="checkbox" name="chk1[]" id="chk" value="pic1" onclick="chkcontrol(0)"></input> 
```

它在 Chrome 上运行良好，但不能在 IE 和 Firefox 中插入。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:52:12.860

好吧，浏览器如何处理不正确的 javascript 是有区别的。前段时间我遇到了类似的问题，当我使用 jquery 时一个浏览器正确地完成了所有事情，但其他浏览器却没有。所以错误在javascript中。我看到的唯一 javascript 调用是 onlcick 事件。也许试试，`onclick="javascript:chkcontrol(0)"`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T07:58:40.910

您的问题将在您的 Javascript 中。浏览器对像 php 这样的服务器端代码没有影响。查看 ie 或 firefox 中的调试器，找出您遇到的 javascript 错误。

# css - class:before 和 class:after 在 ie7 中不起作用

> ID：11390863
> 
> 赞同：0
> 
> 时间：2012-07-09T07:43:55.040
> 
> 标签：css

我在 IE7 中使用两个类，如 **class:before**和**class:after**用于圆角目的，但它在 IE7 中不起作用。请你帮助我好吗？

```
.round:before{backgourn:url(top-bg.png) no.repeat top left;}
.round:after{backgournd:url(btm-bg.png) no.repeat bottom left;}` 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-09T07:47:09.213

`:before`IE7 不支持和`:after`伪元素选择器。

有关浏览器支持的更多信息，请参阅[此参考。](http://www.quirksmode.org/css/contents.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T07:51:34.897

使用这个[http://jquery.lukelutman.com/plugins/pseudo/](http://jquery.lukelutman.com/plugins/pseudo/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T07:47:34.697

检查这个：

[http://my.opera.com/SublimeYe/blog/2011/07/01/addiing-before-after-and-other-elements-in-ie-with-expression](http://my.opera.com/SublimeYe/blog/2011/07/01/addiing-before-after-and-other-elements-in-ie-with-expression)

`.selector .before`使用和`.selector .after`为 IE7设置样式

* * *

```
.round{
zoom:expression(runtimeStyle.zoom = 1, insertAdjacentHTML('', '<div class="before"></div>'), insertAdjacentHTML('', '<div class="after"></div>'));
}

.round .before{backgourn:url(top-bg.png) no-repeat top left;}

.round .after{backgournd:url(btm-bg.png) no-repeat bottom left;} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-09T11:16:30.067

使用 :before 和 :after 伪元素在给定元素的内容之前或之后显示文本或图像的方法支持 until : **IE8**

对于圆角的目的，您可以将**PIE.htc**用于 IE 版本。 **PIE支持 Internet Explorer 6-9，能够使用此****PIE.htc**文件呈现各种最有用的 CSS3 装饰功能。

这是您的 IE 解决方案的虚拟**CSS**。

```
border: 1px solid #696;
padding: 60px 0;
text-align: center; width: 200px;
-webkit-border-radius: 8px;
-moz-border-radius: 8px;
border-radius: 8px;
background: #EEFF99;
behavior: url(/PIE.htc); 
```

有关**PIE**的更多详细信息，您可以阅读文章..... [http://css3pie.com/](http://css3pie.com/)

我希望这能帮到您。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-09T08:02:06.077

这些标签在低于 IE9 中不起作用。为低于 IE9 编写单独的样式。

# javascript - 关闭子窗口后在父窗口中调用函数

> ID：11390864
> 
> 赞同：1
> 
> 时间：2012-07-09T07:43:58.897
> 
> 标签：javascript, jquery, parent-child

在我的应用程序中，我需要在关闭子窗口后调用父窗口中的函数。

调用已成功完成，但在该函数中，我还从父窗口的文本框中发布了一个值。

当我从文本框中发布值时，它会提示“未定义”。

这是关闭子窗口后子窗口的函数：

```
function CallParentWindowFunction()
{
    window.opener.ParentWindowFunction();
    return false;
} 
```

这是父窗口中的功能：

```
function ParentWindowFunction()
{
    var hidadinfoid = $("#hidadinfoid").val();
    alert(hidadinfoid);
} 
```

这会提醒“未定义”。

这是父窗口中的 html 输入框：

```
<input type="hidden" name="hidadinfoid" value="12" /> 
```

我的代码中的错误在哪里？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:45:50.617

`hidadinfoid`是`name`输入属性的值，而不是它的`id`，试试这个：

```
var hidadinfoid = $("input[name=hidadinfoid]").val(); 
```

或向输入添加`id`属性：

```
<input id='hidadinfoid' type="hidden" name="hidadinfoid" value="12" /> 
```

# javascript - Javascript 括号的优先级

> ID：11390865
> 
> 赞同：2
> 
> 时间：2012-07-09T07:44:07.497
> 
> 标签：javascript

我正在玩 Rhino，并注意到这种奇怪的行为似乎是运算符优先级：

```
js> {}+{}
NaN
js> ''+{}+{}
[object Object][object Object]
js> ''+({}+{})
[object Object][object Object] 
```

我希望表达式`''+({}+{})`评估为`"NaN"`，因为`{}+{}`应该首先评估，但这不会发生。我在 V8 和 Firefox 中对此进行了测试，得到了相同的结果。

为什么在这种情况下 Javascript 似乎不遵循括号的标准优先级（`4*(1+2)`仍然是预期的`12`）？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-09T07:46:37.210

普通`{}`语句被视为块语句，因此您的代码实际上是：

```
{
  //empty block
}

+{}; //Convert object to number 
```

我应该解释一下plain的意思：

这意味着`{}`在语句上下文中。`({})`是一个对象，因为括号不能包含语句，它们只能包含表达式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T07:52:17.060

这很简单：

```
{} 
```

是一个语句，并且：

```
({}) 
```

是一个表达式。

只有后者（或任何其他强制解释器将大括号视为空对象的东西）才会导致`[object Object]`.

# jboss - 如何在运行时更改 com.arjuna.ats.jbossatx.jta.TransactionManagerService TransactionTimeout 的值？

> ID：11390873
> 
> 赞同：0
> 
> 时间：2012-07-09T07:44:25.173
> 
> 标签：jboss, transactions, jmx, jta

我们有 JBoss [EAP] 4.3.0.GA_CP01 环境，我需要修改

```
TransactionTimeout 
```

的财产

```
com.arjuna.ats.jbossatx.jta.TransactionManagerService 
```

但是每当我尝试通过 JMX-Console 中的 MBean 更改值时；出现以下堆栈跟踪：

```
java.lang.IllegalStateException: Cannot set transaction timeout once MBean has started
com.arjuna.ats.jbossatx.jta.TransactionManagerService.setTransactionTimeout(TransactionManagerService.java:323)
sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
java.lang.reflect.Method.invoke(Method.java:597)
org.jboss.mx.interceptor.AttributeDispatcher.invoke(AttributeDispatcher.java:136)
org.jboss.mx.server.Invocation.dispatch(Invocation.java:94)
org.jboss.mx.server.Invocation.invoke(Invocation.java:86)
org.jboss.mx.interceptor.ModelMBeanAttributeInterceptor.invoke(ModelMBeanAttributeInterceptor.java:103)
org.jboss.mx.interceptor.PersistenceInterceptor.invoke(PersistenceInterceptor.java:76)
org.jboss.mx.server.Invocation.invoke(Invocation.java:88)
org.jboss.mx.server.AbstractMBeanInvoker.setAttribute(AbstractMBeanInvoker.java:461)
org.jboss.mx.server.MBeanServerImpl.setAttribute(MBeanServerImpl.java:608)
org.jboss.jmx.adaptor.control.Server.setAttributes(Server.java:206)
org.jboss.jmx.adaptor.html.HtmlAdaptorServlet.updateAttributes(HtmlAdaptorServlet.java:236)
org.jboss.jmx.adaptor.html.HtmlAdaptorServlet.processRequest(HtmlAdaptorServlet.java:98)
org.jboss.jmx.adaptor.html.HtmlAdaptorServlet.doPost(HtmlAdaptorServlet.java:82)
javax.servlet.http.HttpServlet.service(HttpServlet.java:710)
javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96) 
```

有没有办法以编程方式更改 TransactionTimeout 的值而不在运行时弹跳服务器？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T14:38:33.413

这是一个如何做到这一点的 groovy 示例（在 JBoss 4.3.0.GA_CP01 实例中使用嵌入式 groovy）：

```
mbeanserver.getAttribute(JMXHelper.objectName("jboss:service=TransactionManager"), "TransactionManager").setTransactionTimeout(200); 
```

基本上，MBeanService`com.arjuna.ats.jbossatx.jta.TransactionManagerService`不允许您更改默认事务超时，但如果您检索属性**TransactionManager**（**com.arjuna.ats.jbossatx.jta.TransactionManagerDelegate**的一个实例），它会公开该方法：

```
public void com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.setTransactionTimeout(int) throws javax.transaction.SystemException 
```

请注意，这不会更改 MBean 的**TransactionTimeout**属性中报告的值，但在调用此方法后启动的所有事务都将具有新的事务超时。

更时髦的代码：

```
def txManager = mbeanserver.getAttribute(JMXHelper.objectName("jboss:service=TransactionManager"), "TransactionManager");
TX.exec({
    println "Timeout:${txManager.getTransactionTimeout()}";
});
txManager.setTransactionTimeout(txManager.getTransactionTimeout() * 2);
TX.exec({
    println "Timeout:${txManager.getTransactionTimeout()}";
}); 
```

输出：

> 超时：200
> 超时：400

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T12:29:51.113

谢谢尼古拉斯！

这是可用于更改运行时事务超时的 Java 代码...

```
MBeanServer mBeanServer = MBeanServerLocator.locateJBoss();
TransactionManagerDelegate tmd = (TransactionManagerDelegate) mBeanServer.getAttribute(new ObjectName("jboss:service=TransactionManager"), "TransactionManager");
System.out.println("Prev: " + tmd.getTransactionTimeout());
tmd.setTransactionTimeout(200);
System.out.println("New: " + tmd.getTransactionTimeout()); 
```

正如您所引用的那样， **请注意，这不会更改 MBean 的 TransactionTimeout 属性中报告的值，**但是该值将对该操作后的所有事务有效。

# php - PHP cURL cookie 阻止

> ID：11390884
> 
> 赞同：-1
> 
> 时间：2012-07-09T07:45:44.293
> 
> 标签：php, curl, libcurl

```
<?php

$ebay_user_id = "id"; // Please set your Ebay ID
$ebay_user_password = "password"; // Please set your Ebay Password
$cookie_file_path = dirname(__FILE__).'/cookie.txt'; // Please set your Cookie File path

$LOGINURL = "http://signin.ebay.com/aw-cgi/eBayISAPI.dll?SignIn";
$agent = "Mozilla/4.0 (compatible;)";
$ch = curl_init(); 
curl_setopt($ch, CURLOPT_URL,$LOGINURL);
curl_setopt($ch, CURLOPT_USERAGENT, $agent);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); 
curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);
curl_setopt($ch, CURLOPT_COOKIEFILE, $cookie_file_path);
curl_setopt($ch, CURLOPT_COOKIEJAR, $cookie_file_path);
$result = curl_exec ($ch);
curl_close ($ch);

$LOGINURL = "http://signin.ebay.com/aw-cgi/eBayISAPI.dll";
$POSTFIELDS = 'MfcISAPICommand=SignInWelcome&siteid=0&co_partnerId=2&UsingSSL=0&ru=&pp=&pa1=&pa2=&pa3=&i1=-1&pageType=-1&userid='. $ebay_user_id .'&pass='. $ebay_user_password;
$reffer = "http://signin.ebay.com/aw-cgi/eBayISAPI.dll?SignIn";

$ch = curl_init(); 
curl_setopt($ch, CURLOPT_URL,$LOGINURL);
curl_setopt($ch, CURLOPT_USERAGENT, $agent);
curl_setopt($ch, CURLOPT_POST, 1); 
curl_setopt($ch, CURLOPT_POSTFIELDS,$POSTFIELDS); 
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); 
curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);
curl_setopt($ch, CURLOPT_REFERER, $reffer);
curl_setopt($ch, CURLOPT_COOKIEFILE, $cookie_file_path);
curl_setopt($ch, CURLOPT_COOKIEJAR, $cookie_file_path);
$result = curl_exec ($ch);
curl_close ($ch); 
print   $result;    ?> 
```

我真的是 cURL 的新手...

我现在有这个代码在登录 ebay 时使用。

现在的问题是它告诉我它被某些东西阻止的cookie。

它显示的消息：您的网络浏览器设置正在阻止 cookie。

我使用firefox进行测试并尝试了其他浏览器也遇到了同样的问题。

我已确认我的浏览器设置已接受 cookie 访问。

另外，我检查了 cookies.txt 文件中有内容，这意味着 cookies.txt 可以正确访问。

所以....这个问题有什么问题？我使用的代码是否正确？感谢大家的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-05T01:34:27.653

尝试将代理修改为类似的东西；

```
'Mozilla/5.0 (Windows NT 6.1; rv:15.0) Gecko/20100101 Firefox/15.0.1' 
```

编辑：实际上我认为问题是您需要先查询登录页面，首先访问“ [http://signin.ebay.com/aw-cgi/eBayISAPI.dll?SignIn](http://signin.ebay.com/aw-cgi/eBayISAPI.dll?SignIn) ”这将设置cookie，然后登录为你有。

您可以在浏览器中尝试，导航到 eBay 登录页面，清除 cookie，然后登录。您将收到浏览器不支持 cookie 错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T08:00:32.020

您需要了解一些事情，那就是通过 php 使用 curl 进行 HTTP 请求与您的浏览器无关。您访问的网站并不关心您使用什么浏览器来运行 php 脚本。实际请求是由您的服务器完成的，而不是由您的浏览器完成的。

另一方面，如果 eBay 工程师很聪明，他们会阻止这个，你可能应该做这样的事情，这就是[Ebay API 的](http://developer.ebay.com/common/api/)用途。

还有一个小技巧，使用 HTTP 客户端库，在纯 cURL 中做这样的事情是一个皮塔饼，并给出了一些非常糟糕和不可读的代码。

例如，检查[https://github.com/guzzle/guzzle 。](https://github.com/guzzle/guzzle)

# android - 如何使gridview滚动条始终可见android 4.0.3

> ID：11390886
> 
> 赞同：7
> 
> 时间：2012-07-09T07:45:54.153
> 
> 标签：android, gridview, android-activity

我的活动中有一个gridview，我想让它的滚动条始终可见。

有人知道该怎么做吗？

谢谢你。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-09T07:50:18.367

要使滚动条在 Android 视图中始终可见，请将以下属性添加到布局 xml 中的相关容器

```
 android:scrollbarFadeDuration="0" 
```

参考[这个](http://developer.android.com/reference/android/view/View.html#attr_android:scrollbarFadeDuration)。

特别是`Android 4.0.3`您可以使用的 API 级别 15，

```
 android:fadeScrollbars 
```

它定义了滚动条在不使用时是否淡出。必须是布尔值，“真”或“假”。[来源](http://developer.android.com/reference/android/view/View.html#attr_android:fadeScrollbars)。

使用代码[View.setScrollbarFadingEnabled(boolean)](http://developer.android.com/reference/android/view/View.html#setScrollbarFadingEnabled%28boolean%29)是您可以使用的。

# python - 使用 scrapyd 运行多个蜘蛛

> ID：11390888
> 
> 赞同：3
> 
> 时间：2012-07-09T07:45:55.983
> 
> 标签：python, scrapy, web-crawler, scrapyd

我的项目中有多个蜘蛛，所以决定通过上传到 scrapyd 服务器来运行它们。我已经成功上传了我的项目，当我运行命令时我可以看到所有的蜘蛛

```
curl http://localhost:6800/listspiders.json?project=myproject 
```

当我运行以下命令时

```
curl http://localhost:6800/schedule.json -d project=myproject -d spider=spider2 
```

因为只给了一个蜘蛛，所以只有一个蜘蛛运行，但我想在这里运行多个蜘蛛，所以下面的命令适合在 scrapyd 中运行多个蜘蛛？

```
curl http://localhost:6800/schedule.json -d project=myproject -d spider=spider1,spider2,spider3........ 
```

稍后我将使用 cron 作业运行此命令，我的意思是我将安排此命令频繁运行

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T07:58:58.043

如果您想使用 scrapyd 运行多个蜘蛛，请一一安排它们。scrapyd 将以相同的顺序运行它们，但不会同时运行。

另请参阅：[Scrapy 的 Scrapyd 调度蜘蛛太慢](https://stackoverflow.com/q/9161724/248296)

# android - 如何在一个适配器上应用多个过滤器？

> ID：11390890
> 
> 赞同：2
> 
> 时间：2012-07-09T07:45:57.200
> 
> 标签：android, android-listview, android-adapter

我有一个 listView 和一个搜索字段，它调用我的 Adapter 的 getFilter().filter(keyword) 函数。它工作得非常好，但我想添加另一个过滤器，用于搜索我的 listViews 对象的不同标签。

所以我的适配器需要两个过滤器，最好的解决方案是什么？

谢谢，

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-27T16:55:02.100

我想你自己实现了过滤器。由于您无法获得两个过滤器，因此您可以在过滤器中有一个字段来定义应该应用哪种过滤器（您可以在过滤器中使用多个过滤器）。

在使用过滤器之前，将过滤器的字段设置为所需的值。

或者：

使用关键字选择要应用的过滤器。在关键字的开头添加一些定义要应用的过滤器的字符。您可以检查必须应用`String.beginsWith()`哪种类型的过滤。这必须在过滤器本身中完成。getFilter.filter(keyword) 的调用者必须知道必须在字符串前面添加哪些字符。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-03T12:23:23.337

在 Listview 中应用多重过滤器，并在 ListView 中使用多重排序，试试这个链接：

[https://github.com/apurv3039/filter_listview/tree/master](https://github.com/apurv3039/filter_listview/tree/master)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-01-30T21:02:17.630

我有类似的需求，我已经为自己写了。过滤器与 AND 运算符结合使用。尽可能简单。没有声称它是完美的，但它对我有用。您可以根据需要进行更改。

项目模型

```
public class ItemModel {

    public int ID;
    public int rating;
    public float avg;
    public String name;
    public String shortDesc;
    public boolean read;
} 
```

和 parser.java

```
/**
 * This class is designed to be simple for parsing a filter of the form
 *             "object field name: variable type: operator: value"
 *
 * "ID:int:>:20";"name:string:=:20"
 * Where ';' means AND, however this is not parsed here.
 * If you need different logic, use the results.O
 *
 * Multiple filters seperated by ';'
 */
public class Parser {

    private static final String TAG = "Parser";

    public static boolean isPassingTheFiler(String filter, String field, String val) {

        String[] mGroups = parseMainGroups(filter);

        for (String mGroup : mGroups) {

            Log.e(TAG,"Working on the main Group " +mGroup );

            String[] subCommand = parseSubCommand(mGroup);

            if ( field.equals(subCommand[0])) {
                if (!processCommand(subCommand, val)) {
                    return false;
                }
            }
        }

        return true;
    }

    /**
     * parses that data assuming they are all sperated by `;`
     */
    public static String[] parseMainGroups(CharSequence commands) {

        String buffer = commands.toString();

        String parts[] = buffer.split(";");

        return parts;
    }

    public static String[] parseSubCommand(String subCommand) {

        //remove the double quotes.
        String buffer = removeDoubleQuotes(subCommand.toString());

        String parts[] = buffer.split(":");

        return parts;
    }

    public static String removeDoubleQuotes(String quotedString) {

        if ((quotedString.charAt(0) == '\"') && (quotedString.charAt(quotedString.length() - 1) == '\"')) {
            return quotedString.substring(1, quotedString.length() - 1);
        } else {
            Log.e(TAG, quotedString + " doesn't contained in double quotes!\nReturned empty string!!!");
            return "";
        }
    }

    public static boolean processCommand(String[] subCommand, String val) {

        switch (subCommand[1]) {

            case "int":
                Log.e("TAG","\tint Filer");
                return intStatement(subCommand, val);
            case "float":
                Log.e("TAG","\tfloat Filer");
                return floatStatement(subCommand, val);
            case "string":
                Log.e("TAG","\tString Filer");
                return stringStatement(subCommand, val);

            default:
                return false;
        }
    }

    /**
     * Evaluate the Int statement's correctness with the given INT value
     */
    public static boolean intStatement(String[] subCommand, String cVal) {

        String operString = subCommand[2];

        int iVal;
        int val;

        try {
            iVal = Integer.parseInt(subCommand[3]);
            val = Integer.parseInt(cVal);
        } catch (NumberFormatException e) {
            return false;
        }

        switch (operString) {

            case "=":
                return val == iVal;
            case "<":
                return val < iVal;
            case ">":
                return val > iVal;
            case "<=":
                return val <= iVal;
            case ">=":
                return val >= iVal;
            case "!=":
                return val != iVal;
            case "s" :
                //digit search as string. We look into string from that we already have
                return cVal.contains(subCommand[3]);

            default:
                Log.e("Parser", "invalid Integer Operation");

                return false;
        }
    }

    public static boolean floatStatement(String[] subCommand, String cVal) {

        String operString = subCommand[2];
        float iVal;
        float val;

        try {
            iVal = Float.parseFloat(subCommand[3]);
            val = Float.parseFloat(cVal);

        } catch (NumberFormatException e) {
            return false;
        }

        switch (operString) {

            case "=":
                return val == iVal;
            case "<":
                return val < iVal;
            case ">":
                return val > iVal;
            case "<=":
                return val <= iVal;
            case ">=":
                return val >= iVal;
            case "!=":
                return val != iVal;
            case "s" :
                //digit search as string. We look into string from that we already have
                return cVal.contains(subCommand[3]);

            default:

                Log.e("Parser", "invalid Integer Operation");

                return false;
        }
    }

    public static boolean stringStatement(String[] subCommand, String val) {

        String operString = subCommand[2];

        switch (operString) {

            case "=":
                //equality
                return val.equals(subCommand[3]);
            case "<":
                //substring
                return val.contains(subCommand[3]);
            case "sw":
                //prefix
                return val.startsWith(subCommand[3]);
            case "ew":
                //postfix
                return val.endsWith(subCommand[3]);

            default:

                Log.e("Parser", "invalid Integer Operation");

                return false;
        }
    }
} 
```

适配器中的私有过滤器类。

```
 private class ItemFilter extends Filter {

        @Override
        protected FilterResults performFiltering(CharSequence constraint) {
            String charString = constraint.toString();
            String[] parts;

            FilterResults filterResults = new FilterResults();

            if (charString.isEmpty()) {
                filterResults.values = new ArrayList<>(itemList);
            } else {
                //Parse the main group
                parts = parseMainGroups(charString);

                if (parts.length < 1) {
                    filterResults.values =  new ArrayList<>(itemList);

                } else {

                    List<ItemModel> filteredList = new ArrayList<>();

                    for (ItemModel row : itemList) {

                        if ( !isPassingTheFiler(charString,"ID",""+row.ID)) {
                            continue;
                        } else {
                            Log.e("Filter", "passed on ID" + row.ID);
                        }
                        if ( !isPassingTheFiler(charString,"name",""+row.name)) {
                            continue;
                        } else {
                            Log.e("Filter", "passed on name" + row.name);
                        }
                        // passed every test asked. If empty they returned true!
                        filteredList.add(row);
                    }

                    filterResults.values = new ArrayList<>(filteredList);
                }
            }

            return filterResults;
        }

        @Override
        protected void publishResults(CharSequence constraint, FilterResults results) {

            updateList((List<ItemModel>) results.values);

        }
    } 
```

以及适配器的 updateList 成员函数

```
 public void updateList(List<ItemModel> newList) {
        DiffUtil.DiffResult diffResult = DiffUtil.calculateDiff(new ItemDiffUtilCallback(newList, itemListFiltered));

        itemListFiltered.clear();
        itemListFiltered.addAll(newList);
        diffResult.dispatchUpdatesTo(this);

        Log.e("TAG", "updated with dispatch");
    } 
```

以及有助于制作好动画的 diffutils

```
public class ItemDiffUtilCallback extends DiffUtil.Callback {

    private List<ItemModel> oldList;
    private List<ItemModel> newList;

    public ItemDiffUtilCallback(List<ItemModel> newList, List<ItemModel> oldList) {
        this.newList = newList;
        this.oldList = oldList;
    }

    @Override
    public int getOldListSize() {
        return oldList.size();
    }

    @Override
    public int getNewListSize() {
        return newList.size();
    }

    @Override
    public boolean areItemsTheSame(int oldItemPosition, int newItemPosition) {
        return oldList.get(oldItemPosition).ID == newList.get(newItemPosition).ID;
    }

    @Override
    public boolean areContentsTheSame(int oldItemPosition, int newItemPosition) {

         return oldList.get(oldItemPosition).equals(newList.get(newItemPosition));
    }

    @Override
    public Object getChangePayload(int oldItemPosition, int newItemPosition) {
        return super.getChangePayload(oldItemPosition, newItemPosition);
    } 
```

# .net - 2个asp项目一起工作

> ID：11390891
> 
> 赞同：0
> 
> 时间：2012-07-09T07:45:57.770
> 
> 标签：.net, visual-studio

我有 proj1 和 proj2。在 proj1 中，我有一些需要在 proj2 中使用的功能。proj1 是动态库，proj2 是可执行的。当我将 proj1.dll 添加到 proj2 时，我收到以下消息：“找不到用于构建扩展名为“.dll”的文件的自定义构建规则……”如何正确构建规则？在 proj2 中使用 proj1 函数还有其他方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:49:06.070

您需要重构代码并将可重用函数放入另一个类库以供 proj1 和 proj2 使用。

# ruby-on-rails - 多态未初始化常量

> ID：11390892
> 
> 赞同：0
> 
> 时间：2012-07-09T07:46:00.603
> 
> 标签：ruby-on-rails

设置多态有很多麻烦。我有工作正常的评论，但应该工作完全相同的链接在链接#index 中有 NameError。如果我尝试 forum_posts/1/comments 一切都很好，但没有 forum_posts/1/links。

我正在关注 railscast 教程[http://railscasts.com/episodes/154-polymorphic-association?view=asciicast](http://railscasts.com/episodes/154-polymorphic-association?view=asciicast)

感谢帮助。

**错误**

> 链接中的名称错误#index
> 
> 未初始化的常量 ForumPost::Link 提取的源代码（第 4 行附近）：

```
1: <h1>Links</h1>
2: 
3: <ul id="links">
4:   <% @links.each do |link| %>
5:     <li><%= link.display_name %></li>
6:   <% end %>
7: </ul> 
```

**路线**

```
resources :forum_posts do
  resources :comments
  resources :links
end 
```

**楷模**

*模型/forum_posts.rb*

```
class ForumPost < ActiveRecord::Base
  attr_accessible :content, :display_name, :section, :user_id
  has_many :comments, :as => :commentable
  has_many :links, :as => :linkable
end 
```

*模型/评论.rb*

```
class Comment < ActiveRecord::Base
  attr_accessible :commentable_id, :commentable_type, :content, :user_id
  belongs_to :commentable, :polymorphic => true
end 
```

*模型/评论.rb*

```
class Links < ActiveRecord::Base
  attr_accessible :description, :display_name, :inamge, :linkable_id, :linkable_type,    :user_id
  belongs_to :linkable, :polymorphic => true
end 
```

**控制器**

*控制器/comments_controller.rb*

```
class CommentsController < ApplicationController

  def find_commentable
    params.each do |name, value|
      if name =~ /(.+)_id$/
        return $1.classify.constantize.find(value)
      end
    end
    nil
  end

  def index
    @commentable = find_commentable
    @comments = @commentable.comments
  end

  def create
    @commentable = find_commentable
    @comment = @commentable.comments.build(params[:comment])
    if @comment.save
      flash[:notice] = "Successfully saved comment."
      redirect_to :id => nil
    else
      render :action => 'new'
    end
  end

end 
```

*控制器/links_controller.rb*

```
class LinksController < ApplicationController

  def find_linkable
    params.each do |name, value|
      if name =~ /(.+)_id$/
        return $1.classify.constantize.find(value)
      end
    end
    nil
  end

  def index
    @linkable = find_linkable
    @links = @linkable.links
 end

 def create
   @linkable = find_linkable
   @link = @linkable.links.build(params[:link])
   if @link.save
     flash[:notice] = "Successfully saved link."
     redirect_to :id => nil
   else
     render :action => 'new'
   end
  end

end 
```

**意见**

*意见/评论/index.html.erb*

```
<h1>Comments</h1>

<ul id="comments">
  <% @comments.each do |comment| %>
    <li><%= comment.content %></li>
  <% end %>
</ul>

<h2>New Comment</h2>
<%= form_for [@commentable, Comment.new()] do |form| %>
  <%= form.label :content %><br/>
  <%= form.text_area :content, :rows => 5 %><br/>
  <%= form.submit "Add comment" %>
<% end %> 
```

*意见/链接/index.html.erb*

```
<h1>Links</h1>

<ul id="links">
  <% @links.each do |link| %>
    <li><%= link.display_name %></li>
  <% end %>
</ul>

<h2>New Link</h2>
<%= form_for [@linkable, Link.new()] do |form| %>
  <%= form.label :display_name %><br/>
  <%= form.text_area :display_name %><br/>
  <%= form.submit "Add link" %>
<% end %> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T08:06:07.497

你的`Links`模型应该放在`app/models/link.rb`并且应该被调用`Link`，而不是`Links`。

# paraview - 在 Paraview 中添加自己的 GUI

> ID：11390899
> 
> 赞同：6
> 
> 时间：2012-07-09T07:46:32.653
> 
> 标签：paraview

我需要在 paraview 中添加我自己的自制 qt gui。我听说应该允许这样做的 paraview 插件。但我没有找到关于它的教程。如何在 Paraview 中添加按钮、复选框、组合框？有人可以给我举个例子吗？提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-09T08:55:56.627

ParaView [Wiki](http://paraview.org/Wiki/ParaView)有很多关于使用和自定义 ParaView 的信息。特别是，请参阅[插件](http://paraview.org/Wiki/ParaView#Plugins)部分和[编写自定义应用程序](http://paraview.org/Wiki/Writing_Custom_Applications)页面。这些描述了自定义 ParaView 功能的两种不同方法。

您没有说明您的 GUI 是用什么语言编写的，但如果您可以使用或调用 Python，那么与 ParaView 交互的最简单方法可能是通过[Python 脚本接口](http://paraview.org/Wiki/ParaView/Python_Scripting)。

# android-4.0-ice-cream-sandwich - ICS 触摸事件中的 WebView 未正确触发

> ID：11390902
> 
> 赞同：0
> 
> 时间：2012-07-09T07:46:50.360
> 
> 标签：android-4.0-ice-cream-sandwich

在 ICS webview（与 2.3.3 等旧版本兼容）中，我正在加载 html 文件并编写了一些与 javascript 中的 touchmove 和 touchend 等触摸事件相关联的函数。但是 ICS 中的问题是有时无法识别设备上的点击，甚至在 logcat 中也没有错误，有人可以解决这个问题吗？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-10T04:28:58.210

可能是您的设备将它们视为鼠标事件。（糟透了……）

我面临着类似的问题。我不确定这是我的平板电脑的问题还是 ICS 默认浏览器/webview 的一般问题。

测试以下内容。

1.  编写没有 jquery/plugin 的 html/js：
    *   将一些函数绑定到 mouseevents (mousedown/mousemove/mouseup) 和 touchevents (touchstart/touchmove/touchend/touchcancel) 以跟踪它们
    *   因此，您可以跟踪是否 mousedown/mousemove/mouseup/touchstart/touchmove/touchend 网页
    *   将网页上传到网络
2.  现在，使用不同的设备来测试网页。
    *   使用 PC（任何浏览器），它应该被跟踪为 mouseevents
    *   使用i-device，它应该被追踪为touchevents
    *   使用 Android 2.3.X（任何浏览器），它应该被跟踪为 touchevents
3.  用 ICS 试试。这是我的问题：
    *   使用 Android ICS 的 Chrome 浏览器，它被跟踪为 touchevents。（美好的）
    *   使用 Android ICS 的默认浏览器，它被跟踪为鼠标事件。（什么！！）

更糟糕的是，在我的 ICS 设备（默认浏览器）中：

*   我的 ICS 的默认浏览器中永远不会触发 touchevents。如果我触摸网页，它会显示 mousedown/mousemove。
*   这些设备确实支持创建触摸事件（document.createEvent），这是一个谎言。
*   mouseevents 序列未完成。所以，即使我的代码同时支持 mouseevents 和 touchevents，mouseevent 函数仍然不能支持这个 ICS 设备。

# typo3 - TYPO3 中使用打字稿的社交媒体链接

> ID：11390907
> 
> 赞同：0
> 
> 时间：2012-07-09T07:47:32.067
> 
> 标签：typo3, typoscript

我是 TypoScript 的新手。我实际上不知道如何制作这样的链接： ![在此处输入图像描述](../Images/105f835314e351118d4de8214d69bfd6.png)

通过谷歌搜索，我对这样的打字稿有了一些想法：

```
lib.social = COA
lib.social.special = language
lib.social.special.value = 0,1,2
lib.social.1 = GMENU
lib.social.1{
    wrap = <ul> | </ul>
    noBlur = 1
    expAll = 1

    NO = 1
    NO {
        ATagTitle.field = title // nav_title
        stdWrap.htmlSpecialChars = 1
        wrapItemAndSub = <li> | </li>
        accessKey = 1
    }
}
lib.social.1.NO{
    XY = [5.w]+4, [5.h]+4
    5 = IMAGE
    5.file = {$global.imagePath}facebook.png || {$global.imagePath)twitter.png || {$global.imagePath)xing.png
    5.offset = 2,2
} 
```

我确定我遇到了问题，`lib.social = language`我也尝试了不同的东西，比如目录或浏览，但它仍然不起作用，我可能对上面的脚本有一些我无法弄清楚的错误。

总的来说，我不知道如何通过使用打字稿链接到外部网址来使其工作。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T08:16:10.920

1.  大多数社交网络都有自己的嵌入代码，因此您无需手动创建，只需将代码放入标记...

    ```
    lib.social = COA
    lib.social.10 = TEXT
    lib.social.10.value = <fb:like send="true" width="450" show_faces="true"></fb:like> 
    ```

2.  您还可以使用[www.addthis.com](http://www.addthis.com/)放置许多不同的社交按钮

3.  如果您仍然需要使用自定义图形，请使用公共链接，每个链接都具有自定义 id 属性，然后只需使用 CSS 将其显示设置为`block`set the `width`, `height`, `float`（以确保每个按钮都在 sam 行中，最后`background-image`使用您的按钮. 使用`sprite`图像技术以获得最佳效果（一个文件中的所有按钮，然后设置正确的按钮以链接到`background-position`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T13:06:19.200

我看到你只想有一些图像菜单。

1.  `Menu Separator`在您的类型中创建一个新页面`pagetree`
2.  为每个菜单项创建一个新页面并使用类型`Link to External URL`（不要忘记在页面属性中填写 url）
3.  `Resources`在->下的页面属性中上传您的图片`media`
4.  `front-end`使用下面的代码在您的(替换`special.value = 2000`为您的页面的页面 ID)上显示菜单`social`。

代码：[http ://shrib.com/gRrK9uGL](http://shrib.com/gRrK9uGL)

（抱歉这里没有看到代码）

# blackberry - 在黑莓的标题中设置背景图像？

> ID：11390911
> 
> 赞同：1
> 
> 时间：2012-07-09T07:47:45.573
> 
> 标签：blackberry

我想添加标题。在标题中，我想在黑莓中添加背景图像..和两个按钮..。那我该怎么办？？

我试过关注..但它没有用..

```
VerticalFieldManager vfm=new VerticalFieldManager();
        vfm.setBackground(BackgroundFactory.createBitmapBackground(Bitmap.getBitmapResource("topbar.png")));
        setTitle(vfm); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:51:53.123

试试这个 -

```
 final Bitmap bg = Bitmap.getBitmapResource("bg.png");
       VerticalFieldManager vfm_mid = new VerticalFieldManager(Manager.NO_HORIZONTAL_SCROLL | Manager.NO_HORIZONTAL_SCROLLBAR | Manager.VERTICAL_SCROLL | Manager.VERTICAL_SCROLLBAR | Field.USE_ALL_WIDTH){

            public void paint(Graphics graphics) {
                graphics.setBackgroundColor(0x040811);
                graphics.clear();
                graphics.drawBitmap(0, 0, bg.getWidth(),
                        bg.getHeight(), bg, 0, 0);
                super.paint(graphics);
            }

        };

    ButtonField b1=new ButtonField("Button 1");
    ButtonField b2=new ButtonField("Button 2");
    vfm_mid.add(b1);
    vfm_mid.add(b2);

    setTitle(vfm_mid); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T11:08:41.553

试试这个自定义标题：

```
public class TopBar extends HorizontalFieldManager implements FieldChangeListener{

 int width;
 int height;
 Bitmap bgBitmap;
 Button btnHome; 
 Bitmap btnImage;
 boolean isHome;
 MainScreen screenFromNavigate;
LabelField lblTitle;

    public TopBar(String title)
    {
        super(FIELD_HCENTER);
        setLayout(title);

    }

    public void setLayout(String title)
    {
        this.width=Display.getWidth();
        this.height=50;
        this.bgBitmap= Bitmap.getBitmapResource("topbar.png");
        this.isHome = isHomeBtn;

            btnHome = new ButtonField("Button 1");
            btnHome.setMargin(7, 0, 0, 15);

        add(btnHome);
        btnHome.setChangeListener(this);

        lblTitle = new LabelField(title);

        add(lblTitle);
        lblTitle.setMargin(12, 0, 0,Display.getWidth()/2-160);

    }

    protected void sublayout(int maxWidth, int maxHeight)
    {
        maxWidth=width;
        maxHeight=height;
        super.sublayout(maxWidth, maxHeight);
        setExtent(maxWidth, maxHeight);
    }
    protected void paint(Graphics graphics)
    {
        graphics.drawBitmap(0, 0, Display.getWidth(),50, bgBitmap, 0, 0);
        // graphics.setBackgroundColor(Color.GRAY);
        // graphics.clear();

        super.paint(graphics);
    }

    public void fieldChanged(Field field, int context) {
        // TODO Auto-generated method stub
        }

    }
 } 
```

称之为：

TopBar topBar = new TopBar("Test");

设置标题（顶栏）；

# xcode - Xcode：警告：找不到选项的目录

> ID：11390918
> 
> 赞同：43
> 
> 时间：2012-07-09T07:48:26.400
> 
> 标签：xcode, ios5, linker, linker-errors

```
Ld /Users/pwang/Library/Developer/Xcode/DerivedData/socketiohldwxnslzhlnjtgihgewdwavpjpb/Build/Products/Debug-iphoneos/socketio.app/socketio normal armv7
cd /Users/pwang/Desktop/saturngod-Socket.io-with-iOS-be51414
setenv IPHONEOS_DEPLOYMENT_TARGET 4.3
setenv PATH "/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin"
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -arch armv7 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS5.1.sdk -L/Users/pwang/Library/Developer/Xcode/DerivedData/socketio-hldwxnslzhlnjtgihgewdwavpjpb/Build/Products/Debug-iphoneos -L/Users/pwang/Desktop/saturngod-Socket.io-with-iOS-be51414/socketio/simulator -L/Users/pwang/Desktop/saturngod-Socket.io-with-iOS-be51414/socketio/device -F/Users/pwang/Library/Developer/Xcode/DerivedData/socketio-hldwxnslzhlnjtgihgewdwavpjpb/Build/Products/Debug-iphoneos -F/Users/pwang/Desktop/saturngod-Socket.io-with-iOS-be51414/socketio -filelist   /Users/pwang/Library/Developer/Xcode/DerivedData/socketio-hldwxnslzhlnjtgihgewdwavpjpb/Build/Intermediates/socketio.build/Debug-iphoneos/socketio.build/Objects-normal/armv7/socketio.LinkFileList -dead_strip -lz -licucore -miphoneos-version-min=4.3 -framework MobileCoreServices -framework Foundation -lz -lxml2 -framework SystemConfiguration -framework CFNetwork -framework UIKit -framework CoreGraphics -o /Users/pwang/Library/Developer/Xcode/DerivedData/socketio-hldwxnslzhlnjtgihgewdwavpjpb/Build/Products/Debug-iphoneos/socketio.app/socketio

ld: warning: directory not found for option '-L/Users/pwang/Desktop/saturngod-Socket.io-with-iOS-be51414/socketio/simulator'
ld: warning: directory not found for option '-L/Users/pwang/Desktop/saturngod-Socket.io-with-iOS-be51414/socketio/device' 
```

你能给我一些线索来删除警告吗，谢谢。

* * *

## 回答 #1

> 赞同：158
> 
> 时间：2012-07-09T08:30:38.220

在**目标 > 构建设置**中：

查找**Search Paths > Framework Search Paths**，删除您被警告过的所有路径；然后在**Library Search Paths**中，删除您被警告过的所有路径。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-10T15:22:40.107

我发现这篇文章正在寻找同样的问题。但是，我的问题是添加了一些框架然后删除了，从而导致了这个错误。在对项目进行清理后，我一切都很好。

```
Product --> Clean 
```

# eclipse - 无法在 Eclipse 中创建网络连接

> ID：11390919
> 
> 赞同：2
> 
> 时间：2012-07-09T07:48:30.317
> 
> 标签：eclipse

这是 Eclipse Juno。

对于 Maven 插件，我收到以下形式的错误：

```
ArtifactResolutionException: Failure to transfer org.apache.maven.plugins:maven-compiler-plugin:pom:2.3.2 from http://repo1.maven.org/maven2 ... 
```

对于 Eclipse 市场，我得到：

```
MarketplaceDiscoveryStrategy failed with an error
Cannot complete request to ... 
```

我已经关闭了我的计算机和路由器上的防火墙，我没有代理，Internet 选项代理框未选中。将上面的网址放在我的浏览器中（在同一个框中）会返回正确的内容，但是，Eclipse 似乎不想联系外部服务器。我应该改变什么？帮助！

编辑：我的 Preferences -> General -> Network Connection -> Provider 设置为 Direct（没关系，将其设置为 native 也不起作用）

edit2：命令行中的 mvn clean install 工作正常并下载所有内容。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-09T10:19:37.333

哦，哇，绝对的疯狂。这是 JDK7 的 windows/IPV6 问题。

看：

[http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7115226](http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7115226)

和

[http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7077696](http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7077696)

这可以通过在 eclipse.ini 中添加 -Djava.net.preferIPv4Stack=true 来解决。

至于为什么我的命令行工作？我安装JDK7的时候没有更新JAVA_HOME，改了eclipse.ini中的vm设置。换句话说，我的命令行是针对 JDK6 运行的...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T08:19:46.837

注意：代理可以在 Internet 选项向导以外的地方配置

它与名为 settings.xml 的文件有关

找到 settings.xml 文件打开 Window>Preferences>Maven>User Settings

用户设置字段中的文件确定设置文件的位置

你提到你没有代理，所以确保这个文件没有代理信息，如果你有代理设置，代理信息应该在这个文件中提到

```
<proxies>
    <proxy>
        <id>[proxy id]</id>
        <active>true</active>
        <protocol>http</protocol>
        <host>[host]</host>
        <port>[port]</port>
        <nonProxyHosts>
            [urls to be skipped separated by '|']
        </nonProxyHosts>
    </proxy>
</proxies> 
```

我希望这可以帮助您解决问题

# sql-server - 由于登录失败，SQL Server 2012 无法启动

> ID：11390921
> 
> 赞同：80
> 
> 时间：2012-07-09T07:48:36.680
> 
> 标签：sql-server, permissions, installation, sql-server-2012

我最近在全新的 Windows 7 安装上安装了 Microsoft SQL Server 2012，但是每当我想运行服务器时，都会收到以下错误：

> 错误 1069：由于登录失败，服务未启动。

以下用户配置为启动服务：`NT Service\MSSQL$SQLEXPRESS`

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：229
> 
> 时间：2013-12-13T15:12:27.270

这个问题的答案可能与完整的 SQL Server (NTService\MSSQLSERVER) 的问题相同，这是重置密码。具有讽刺意味的是，没有密码。

步骤是：

*   右键单击Services mmc中的Service
*   单击属性
*   单击登录选项卡
*   密码字段中似乎有条目...
*   空白两个密码字段
*   点击“确定”

这应该重新授予对服务的访问权限，并且应该重新启动。诡异的？

注意：如果问题在几个小时或几天后再次出现，那么您可能有一个覆盖您的设置的组策略，并且它会再次出现并立即再次出现。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2015-03-09T16:03:14.853

这发生在我身上。域上的一项策略正在取消 SQL Server 用户帐户的“作为服务登录”权限。您可以使用 JLo 的解决方案解决此问题，但没有专门解决组策略问题，并且它会在下次在机器上刷新组策略时返回。

对我来说导致问题的具体策略是：在计算机配置 -> Windows 设置 -> 安全设置 -> 本地策略 -> 用户权限分配下：作为服务登录

您可以通过从命令行运行命令“rsop”来查看哪些策略正在应用于您的计算机。按照上面列出的策略路径，您将看到其当前值以及设置该值的 GPO。

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2013-02-07T14:00:43.327

虽然（“以系统方式运行”）有效，但应告知人们这意味着从最低权限类型的帐户变为拥有世界上所有权限的帐户。这不是推荐的设置最佳实践或安全方面的建议。

如果您知道自己在做什么，并且知道您的 SQL Server 将始终在隔离环境中运行（即不在酒店或机场 wifi 上），那可能没问题，但这会创建一个非常真实的攻击向量，如果在打开状态下可以完全危及机器互联网。

这似乎是微软的一个错误，人们应该意识到发布的解决方法的含义。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2016-04-19T14:05:10.787

简短的回答：
在您的 SQL Server 上安装远程服务器管理工​​具（这是 Windows Server 的一个可选功能），重新启动，然后运行 ​​SQL Server 配置管理器，访问登录帐户以“NT Service.. ."，清除密码字段并重新启动服务。在幕后，SQL Server 配置管理器将为这些虚拟帐户分配作为服务登录的权限，然后您就可以开始使用了。

tl;博士;

Windows 域的默认设置和 SQL Server 2012 的默认安装之间有一个 catch-22。

如上所述，默认的 Windows 域设置确实会阻止您通过本地计算机上的组策略编辑定义“作为服务登录”权限（至少通过 GUI；如果您安装 Powershell ActiveDirectory 模块（通过远程服务器管理工​​具下载) 你可以通过脚本来做到这一点。

而且，默认情况下，SQL Server 2012 安装程序在“虚拟帐户”中运行服务（NT Service\ 前缀，例如 NT Service\MSSQLServer。这些类似于本地计算机帐户，而不是域帐户，但您仍然无法分配它们登录如果您的服务器加入域，则作为服务权限。SQL Server 安装程序会在安装时尝试分配权限，SQL Server 配置管理工具同样会在您更改登录帐户时尝试分配权限。

美丽的第 22 条规则是：SQL Server 工具依赖 RSAT 的（某些组件）将登录分配为服务权限。如果您的成员服务器上没有安装 RSAT，SQL Server 配置管理器会在尝试应用设置时静默失败（尽管它运行了所有华而不实的安装前验证），并且您最终会得到无法启动的服务。

我能够在 SQL Server 和虚拟帐户文档的暴风雪中找到的这个要求的一个提示是：[https](https://msdn.microsoft.com/en-us/library/ms143504.aspx#New_Accounts) ://msdn.microsoft.com/en-us/library/ms143504.aspx#New_Accounts ，搜索 RSAT .

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-05-06T21:40:52.897

我有一个类似的问题，通过以下方式解决：

1.  在 Services.MSC 单击登录选项卡并添加具有最低权限和密码的用户（在引发登录错误的服务上）
2.  通过启动 Sql Server 以管理员身份运行

如果用户是域用户，请使用域用户名和密码

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-04-01T18:48:08.567

一种可能是安装了 sql server 数据工具 Bi，而 sql server 已经设置好了。

解决方案：- 1.只需用设置的实例修复sql server

如果解决方案不起作用，那么值得您花时间干预 services.msc

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-01-04T11:34:19.960

我不知道这是一个多么好的解决方案，但是在按照这个问题的其他一些答案但没有成功之后，我解决了将服务 MSSQLSERVER 的连接用户设置为“本地服务”的问题。

注意：我使用的是 SQL Server 2017。

# mysql - 将多边形插入mysql返回null

> ID：11390937
> 
> 赞同：0
> 
> 时间：2012-07-09T07:49:55.477
> 
> 标签：mysql, polygon

当我跑

```
INSERT INTO zones (userId, typeId, name, coords, date) VALUES
(2, 3, "Name", PolygonFromText('POLYGON((41,395210 2,134008,41,385615 2,142463,41,393085 2,131133,41,385310 2,138665,41,395210 2,134008))'), now()); 
```

它返回 NULL

我之前创建了一些多边形，但有任何问题。不同之处在于坐标的位数少于工作位数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T07:58:01.163

好的，问题是昏迷。坐标必须是这样的：

```
41.395210 2.134008 
```

不像这样：

```
41,395210 2,134008 
```

我觉得好傻。。。

# windows - GHC :: 在 Windows 上再次链接 sqlite3 失败

> ID：11390941
> 
> 赞同：2
> 
> 时间：2012-07-09T07:50:10.303
> 
> 标签：windows, sqlite, haskell, linker, ghc

我创建了一个简单的应用程序，它使用 sqlite3 作为它的数据存储后端。在 Linux 上构建和运行它时我没有遇到任何问题，但是在我尝试在 Windows 上构建它之后，我看到了奇怪的链接错误：

```
Linking dist\build\hnotes\hnotes.exe ...
C:\Documents and Settings\Admin\Application Data\cabal\sqlite-0.5.2.2\ghc-7.0.4/libHSsqlite-0.5.2.2.
a(sqlite3-local.o):sqlite3-local.c:(.text+0x21): undefined reference to `sqlite3_temp_directory'
C:\Documents and Settings\Admin\Application Data\cabal\sqlite-0.5.2.2\ghc-7.0.4/libHSsqlite-0.5.2.2.
a(sqlite3-local.o):sqlite3-local.c:(.text+0x40): undefined reference to `sqlite3_temp_directory'
collect2: v ld     1
cabal.EXE: Error: some packages failed to install:
hnotes-0.1 failed during the building phase. The exception was:
ExitFailure 1 
```

那里可能有什么问题？我怀疑 qalite3.dll 必须添加到链接阶段，但不知道该怎么做。添加 --extra-lib-dirs=path-to-sqlite-dll 也无济于事（也许是因为我需要以某种方式更新我的 cabal 文件以支持这一点？）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T15:15:49.010

不确定这是否是错误，但错误来自`sqlite3.h`sqlite 包的包含。

查看文件显示了这一点

```
/*
** CAPI3REF: Name Of The Folder Holding Temporary Files {H10310} <S20000>
**
** If this global variable is made to point to a string which is
** the name of a folder (a.k.a. directory), then all temporary files
** created by SQLite will be placed in that directory.  If this variable
** is a NULL pointer, then SQLite performs a search for an appropriate
** temporary file directory.
**
** It is not safe to modify this variable once a [database connection]
** has been opened.  It is intended that this variable be set once
** as part of process initialization and before any SQLite interface
** routines have been call and remain unchanged thereafter.
*/
SQLITE_EXTERN char *sqlite3_temp_directory; 
```

所以它被声明为外部。如此简单的测试：

```
module Main where

import Database.SQLite

main 
 = do hwd <- openConnection "test"
      closeConnection hwd
      putStrLn "done" 
```

这会在链接过程中按预期崩溃，并出现上述错误。所以我创建了一个小的 C 测试文件`foo.c`

```
#include "sqlite-0.5.2.2\\include\\sqlite3-local.h"

char* sqlite3_temp_directory = "C:\\test2"; 
```

所以我定义了一个 temp_directory，然后在编译 haskell 源代码的过程中传递 c 文件

```
$ ghc test.hs foo.c
[1 of 1] Compiling Main             ( test.hs, test.o )
Linking test.exe ... 
```

然后运行它也会返回预期的结果

```
$ ./test
done 
```

因此，您似乎只需要为 sqlite3_temp_directory 提供一个值，如果将其设置为 NULL 指针，将使用 SQLLITE 手册中定义的 TMP/TEMP 等变量。

# 编辑，跟进为什么它可以在 Linux 上运行，但不能在 Windows 上运行

在 sqlite 包中，文件夹 sqlite3.6 下有一个文件 sqlite3.c。这为 sqlite 包提供了一堆默认值。

在 linux 上定义 OS_UNIX 时，在 linux 上使用 OS_WIN 下的定义。我们感兴趣的函数是设置临时目录的函数。对于 unix 这将是`unixGetTempname`和对于 windows `winGetTempname`。

如果您查看这两个函数的实现，对于 unix 来说，它有目录列表，它将尝试

```
 static const char *azDirs[] = {
     0,
     "/var/tmp",
     "/usr/tmp",
     "/tmp",
     ".",
  }; 
```

它会尝试按顺序访问它们，并且它可以写入的文件用于在其中生成一个临时文件夹。

但是，对于 Windows，第一行之一是：

```
 if( sqlite3_temp_directory ){
    sqlite3_snprintf(MAX_PATH-30, zTempPath, "%s", sqlite3_temp_directory);
  }else if( isNT() ){ 
```

所以对于windows`sqlite3_temp_directory`实际上是用的。这就是为什么如果找不到它就无法编译的原因。

# google-app-engine - 用于本地网络中的应用程序的 Google App Engine

> ID：11390947
> 
> 赞同：0
> 
> 时间：2012-07-09T07:50:24.997
> 
> 标签：google-app-engine, lamp

我有这个应用程序，它将在本地网络中运行，许多设备应该与数据库交互。我可以使用 xampp 并选择 CherryPy 或任何其他 Python 框架（Python 通常是我的选择），但它是许多不同事物的总和：Python、Apache、MySQL ...申请成功的次数，我觉得所有东西都整齐地装在一个盒子里。Thay 可能不是真的，但使用 Google App Engine Launcher 创建应用程序的本地工作副本再简单不过了。

但它可靠吗？应该这样使用吗？我知道它是用于开发的，所以我不确定在生产中将它用作本地服务器。几个版本之前，甚至有这个讨厌的错误会不时刷新本地数据存储。但似乎他们修复了它，现在数据仍然存在。

对于在本地网络中运行的应用程序，您会推荐 GAE，还是应该坚持使用 LAMP（P 表示 Python）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-09T16:19:34.017

其他选择是[http://code.google.com/p/appscale/](http://code.google.com/p/appscale/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T09:35:56.220

可能是你可以检查项目[TyphoonAE](http://code.google.com/p/typhoonae/)。我认为这正是您所需要的。

> TyphoonAE 项目旨在提供一个功能齐全且高效的服务环境来运行 Google App Engine (Python) 应用程序。它提供了构建您自己的可扩展 App Engine 的部分，同时保持与 Google 的 API 兼容。

# zend-framework - 在zend中为引导程序内的模块设置布局文件

> ID：11390948
> 
> 赞同：1
> 
> 时间：2012-07-09T07:50:35.880
> 
> 标签：zend-framework, zend-layout

我的zend应用结构：

```
application
  ->configs
  ->layouts
     ->scripts
        ->admin.phtml
        ->site.phtml
  ->modules
     ->admin(controllers, models, views)
       ->Bootstrap.php
     ->default(controller,models,views) 
       ->Bootstrap.php 
```

我已将 application.ini 中的默认布局设置为：

```
resources.layout.layoutPath = APPLICATION_PATH "/layouts/scripts"
resources.layout.layout = "site" 
```

我有两个模块：管理员和默认。如何设置管理模块的布局文件（admin.phtml）？我想从管理模块的 Bootstrap.php 文件中更改布局？或者建议我哪种方法最简单？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T22:17:08.750

将其写入您`Bootstrap.php`的管理文件夹中：

```
protected function _initLayout()
{
   $layout = Zend_Layout::getMvcInstance();
   $layout->setLayout('admin');
} 
```

通过以上两行，您还可以更改 Controllers 和 Plugins 中的布局。如果要在视图中更改它，可以这样做：

```
<?php $this->layout()->setLayout('admin'); // set alternate layout ?> 
```

# node.js - 启动 nodejs 关于语言结构的任何概述

> ID：11390949
> 
> 赞同：2
> 
> 时间：2012-07-09T07:50:36.900
> 
> 标签：node.js, architecture

我是一名.net 开发人员。当我等待微软放松不断地重塑 v.next 时。我想我会看看nodejs。我已经完成了一些小教程，似乎进展顺利。

我遇到的一件事是了解正在传递的数据以及如何读取函数头。我想这是因为它是一种动态语言（Javascript），因为我的所有经验都是静态语言。

是否有任何教程/其他讨论这部分开发，即nodejs / Javascript的结构，这将使如何以动态语言正确开发更加清楚？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-09T08:19:24.587

首先，很高兴知道几乎每个 Node API 都遵循相同的注册回调、调用它们以及传递错误和数据的约定。例如...

```
fs.readFile(path, function (err, data) {
  if (err) { throw err; }

  // Do something with the data
  console.log("Data is a buffer", data);
  console.log("Data as a string", data.toString());
}); 
```

您在此示例中看到的是回调的第一个参数始终是错误对象，后续参数包含数据。如果您想知道您将获得什么样的数据，您需要查看给定 API 的文档。这可以在[Node.JS 文档](http://nodejs.org/api/)或您正在使用的模块的文档中找到。

Node 模块是 NodeJS 中用于结构化、抽象和隔离代码的一个重要方面。每个模块都在实现和用户之间提供了清晰的界限。Isaac Z. Schlueter（Node Package Manager 的创建者）写了一篇关于构建模块的[好文章。](http://howtonode.org/how-to-module)

学习node最好的方法是看别人的模块。因为它们中的大多数都是用纯 JavaScript 编写的，所以您可以打开代码并查看实现。

还有很多好看的视频可以看。。。

*   观看[Joyent 的 NodeCamp 视频](http://www.youtube.com/playlist?list=PL6991B2F40652C74F&feature=plcp)
*   Felix Geisendörfer -[生产中的 Node.js](http://vimeo.com/43380478)
*   Rob Conery -[真实世界的 NodeJS - 创建 Tekpub API](http://vimeo.com/43548699)

如果您想了解有关节点的更多具体信息，请告诉我，我可以为您提供帮助。

# shell - 从java将多个文件名传递给shell脚本

> ID：11390955
> 
> 赞同：0
> 
> 时间：2012-07-09T07:51:21.113
> 
> 标签：shell, unix

我想将多个文件名（7 到 10）从 java 代码传递给 shell 脚本。文件名是根据条件从数据库中获取的，因此文件的数量不固定。最多为 10 个文件名。

在 shell 脚本中，我想将所有这些文件复制到不同的目录。

我正在做的是

cp -p "$@" /dir/temp/

但这似乎有效。我是 unix 和 shell 脚本的新手。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T08:08:00.287

您可以使用循环，其中 $@ 的内容被一一复制

# css - 跨标签中的文本对齐

> ID：11390956
> 
> 赞同：0
> 
> 时间：2012-07-09T07:51:31.017
> 
> 标签：css, c#-4.0, browser

我写了一个程序来显示阿拉伯语文本。我使用两种字体：

1：没有阿拉伯人的字体

2：没有文字的字体

我可以使用这种方法分别更改每种颜色。我使用了两个具有相同 id 的 span 标签来显示带有阿拉伯文的文本和没有阿拉伯文的文本。结果：![在此处输入图像描述](../Images/119e82f61e2941ba38302b8694ca83a2.png)

一切都很好。但是当我更改 text-align 以证明它不起作用并且文本消失时。结果：![在此处输入图像描述](../Images/0687417b8fbd783169641275a2dbf50e.png)

一部分代码：

```
<span class=ThuithQA id=1-0> <font  size=5>بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ (١)</font></span><span class=ThuithE> 
<font color=Red size=5>بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ (١)</font></span><span class=ThuithQA id=1-1> <font  size=5>الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ (٢)</font></span> 
```

我不想显示文字证明。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T08:03:39.633

如果每节经文都是单独的，`span`那么设置你的 css 如下所示：

**编辑：**

**CSS**

```
span{
    display:block;
    text-align:justify;
    direction: rtl; /* Direction of text right to left */
} 
```

看这个演示：

[http://jsfiddle.net/rathoreahsan/mSEj9/1/](http://jsfiddle.net/rathoreahsan/mSEj9/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T08:21:09.610

如果要显示所有文本对齐，则需要一个覆盖所有跨度的包装器和以下样式：

```
.wrapper {
    direction: rtl;
    text-align: justify;
} 
```

您不能在每个跨度中对齐文本对齐，因为它们没有整行的文本 + 一些符号

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-09T07:55:00.450

尝试将跨度设置为 display:block 或设置宽度

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-09T07:57:34.237

尝试`text-align`正确。

```
span{
  display:block;
  text-align:right;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-09T09:35:58.880

我可以用这段代码解决我的问题：我把阿拉伯文和文本放在一个单独的 div 中并设置 div

```
posation:absolute 
```

并设置身体

```
text-align:justify; 
```

一部分代码

```
<div style=" position:absolute;"> 
<span class=ThuithQA id=1-0> 
<font  size=5>بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ (١)</font> 
</span > 
<span class=ThuithQA id=1-1> 
<font  size=5>الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ (٢)</font> 
</span >  
</div> 

<div style=" position:absolute;"> 
<span class=ThuithE> 
<font color=Red size=5>بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ (١)</font> 
</span > 
<span class=ThuithE> 
<font color=Red size=5>الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ (٢)</font> 
</span > 
</div> 
```

结果： ![在此处输入图像描述](../Images/2db62d3d3107197d7370222ebf4d335a.png)

# windows - 带有 www 的 windows 2008 R2 服务器域不工作（多个站点） IIS 7

> ID：11390957
> 
> 赞同：0
> 
> 时间：2012-07-09T07:51:30.773
> 
> 标签：windows, iis-7, webserver, web-hosting

我有多个网站的网络服务器，我无法通过输入 wwww.mysite.com 访问网站，我只能通过输入 mysite.com 来获取它。让我们看看这个网站[http://myvnm.com/](http://myvnm.com/)，我设置了绑定，然后 URL Rewrite ...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-09T12:59:15.147

听起来您没有正确设置主机标头。您还需要将进入“www”的内容指向正确的位置。

试试这个：[http ://technet.microsoft.com/en-us/library/cc753195(WS.10).aspx](http://technet.microsoft.com/en-us/library/cc753195(WS.10).aspx)

希望这可以帮助。

# android - 如何使用 .key 和 .pem 文件在 Android 中创建套接字 SSL？

> ID：11390967
> 
> 赞同：5
> 
> 时间：2012-07-09T07:52:24.497
> 
> 标签：android, sockets, ssl

我的 .key 文件如： -----BEGIN RSA PRIVATE KEY----- MIIEpAIBAAKCAQEA1j6eGXbHpqigZ1K//wnuyr5v/L2jFm7dzTtHJx8ZoMQ4CbsG

我的 .pem 文件如： -----BEGIN CERTIFICATE----- MIIE4zCCA8ugAwIBAgIDBOziMA0GCSqGSIb3DQEBBQUAMDwxCzAJBgNVBAYTAlVT

我不知道这里有多少验证步骤。我只想为 IP 和端口创建一个 ssl 套接字，并在该套接字中发送/接收数据。我尝试使用keystock，但也许我对此并不深入，我总是出错。

请给我一个指南或示例代码。

非常感谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-09T09:08:42.217

我假设`.key`and`.pem`文件代表您必须用于执行 HTTPS 客户端身份验证的客户端证书。不幸的是，Java/Android 更喜欢不同的格式，因此我建议您将这两个文件都导入一个`BKS`文件中。

[使用KeyStore Explorer](https://keystore-explorer.org/)创建`BKS`文件和导入现有`.key`+`.pem`文件非常简单。启动 KeyStore Explorer 后，选择*File -> New Keystore -> BKSv1*。之后您可以执行*工具 -> 导入密钥对*并选择 .pem 文件。之后 KeyStore Explorer 将要求您选择 .key 文件。

 **最后保存使用您选择的密码保护的密钥库。

创建的`BKSv1`文件现在可以在您的 Android 应用程序中使用。例如，请参阅此问题中发布的代码：[Using client/server certificate for two way authentication SSL socket on Android](https://stackoverflow.com/questions/4064810/using-client-server-certificates-for-two-way-authentication-ssl-socket-on-androi)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T08:08:22.207

创建 SSL 连接时，您只需要允许与您的服务器连接的套接字，使其成为可信任的来源。为此，您需要拥有 X509 格式的 SSL 证书，然后按照[本文](http://blog.antoine.li/2010/10/22/android-trusting-ssl-certificates/)所述创建连接。

这是[生成 X.509 证书的指南](http://www.ipsec-howto.org/x595.html)。**

# android - 如何从另一个应用程序启动活动？

> ID：11390969
> 
> 赞同：2
> 
> 时间：2012-07-09T07:52:26.870
> 
> 标签：android, android-intent

我不知道我做错了什么。我正在尝试从当前应用程序启动另一个应用程序的活动。
这是代码：

```
 @Override
  public void onCreate(Bundle savedInstanceState) {
      super.onCreate(savedInstanceState);
       setContentView(R.layout.activity_main);

    Intent intent = new Intent(Intent.ACTION_MAIN); 
    intent.setComponent(new ComponentName("com.second.package","com.second.package.SecondActivity")); 
    startActivity(intent); 

} 
```

当我运行这个东西时，它说应用程序意外关闭。怎么了？请帮我。

**成功：**只需添加：

```
android.intent.category.DEFAULT 
```

到清单文件中的活动。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-09T08:02:19.410

尝试：

```
Intent intent = new Intent("android.intent.action.MAIN"); 
intent.setComponent(new   
ComponentName("com.second.package","com.second.package.SecondActivity")); 
intent.addCategory("android.intent.category.LAUNCHER");
intent.setFlags(Intent.FLAG_FROM_BACKGROUND);
intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
startActivity(intent); 
```

# visual-studio-2010 - 数据库项目 - “无法解析对来自名为 x 的源的外部元素的引用

> ID：11390971
> 
> 赞同：16
> 
> 时间：2012-07-09T07:52:30.177
> 
> 标签：visual-studio-2010, database-project, vsdbcmd

我们有两个数据库项目，`x`和`x_audit`. `x`有参考`x_audit`。

`x_audit`部署正常，但是在尝试部署时`x`出现错误：

`The reference to external elements from the source named x_audit.dbschema could not be resolved, because no such source is loaded`.

相同的文件在部署到 2005 数据库时工作正常，但在部署到 2008 时我们只会收到此错误。如果有任何不同，这是升级现有数据库而不是创建新数据库。它曾经在 2005 年和 2008 年都可以正常工作，但不确定发生了什么变化。

谢谢

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2014-03-11T04:18:05.053

[添加数据库引用时，选中“抑制引用项目中未解决的引用导致的错误](http://social.msdn.microsoft.com/Forums/sqlserver/en-US/3a6cb291-0088-42bc-be1f-2915486209c9/suppress-errors-caused-by-unresolved-references?forum=ssdt)”复选框。

关于“外部元素”的模糊语言意味着 x_audit 也引用了某些东西。并且 x 没有引用某些东西，所以 x 不知道它。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2014-05-14T21:11:22.613

如果您有一个引用外部数据库 dacpac“B”的数据库“A”，则需要在项目中包含来自“B”的所有必要引用，否则“A”或“A”将无法构建。或者，您可以将抑制未解析的引用设置为 True，编译器将忽略丢失的引用。

如果您的数据库之间存在循环引用，则必须抑制未解析的引用。

![在此处输入图像描述](../Images/1c9601e59bb7ec0a75567b66c9938c1d.png)

# hibernate - 在 Hibernate 中持久化动态映射

> ID：11390972
> 
> 赞同：0
> 
> 时间：2012-07-09T07:52:31.433
> 
> 标签：hibernate

```
is there any way to persist the map with dymamic fields.Here is sample code
Table :
A table with more than 200 fields.

POJO :
<code> 
<pre>
public class DynamicEntity {
private Long id;
 private Map<String,String> fields = new HashMap();
 public Long getId() {
 return id;
 }
 public void setId(Long id) {
 this.id = id;
 }
 public void add(String key,String value){
 fields.put(key,value);
 }
}
</pre> 
```

pojo 中的地图包含动态字段。交易代码..

```
 GenericData data = new GenericData();
    data.addField("name", "CF");
    data.addField("description", "CF-USA");
    data.addField("server", "ServerName");
    //get the session
    session.save(data); 
```

当我保存 pojo 时，有什么方法可以在这里保存地图吗？这里的字段没有在 hbm 文件中配置，因为所有字段都是动态的。

我的基本想法是不在 hbm 文件中配置 200 个字段。

```
Regards,
Ravi. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T08:38:20.400

没有映射，休眠就无法持久。您可以手动指定它们，也可以根据地图的内容动态生成它们。要将列映射到地图，您可以使用动态组件映射。

# c# - 如何在 Tridion 2011 中使用 C# 检索页面的最新发布日期和当前版本的修改日期？

> ID：11390976
> 
> 赞同：1
> 
> 时间：2012-07-09T07:52:43.040
> 
> 标签：c#, tridion

在我从 SDL Tridion 2011 CMS 发布的其中一个页面中，需要显示最新的修订日期（即页面的当前修改版本的日期）和页面的最后发布日期。谁能建议如何使用 SDL Tridion 2011 来实现这一点。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-09T11:50:37.180

鉴于您的模板代码是在发布时执行的，要在 ComponentPresentation 或 Page 中输出最新的发布日期，您只需使用 DateTime.Now

正如其他人建议`Revision Date`在`.Info`课程中访问的那样。

如果您使用的是 DWT 或 XSLT 模板，您将需要制作一个 TBB 以将此值放入包中，然后将其与您的布局模板一起输出，或者使用自定义函数源直接输出该值。

但是请说明您使用的是哪种模板，以便我们给出更全面的答案

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-09T09:30:49.880

**上次修改项目的日期/时间**

Page 有 RevisionDate 属性`public DateTime RevisionDate { get; }`

**上次发布项目的日期时间**

PublishInfo 类中有 PublishedAt 属性。

# php - 无法使用 Code Igniter 下载 PHPExcel 创建的文件

> ID：11390980
> 
> 赞同：2
> 
> 时间：2012-07-09T07:52:53.760
> 
> 标签：php, codeigniter, phpexcel

我目前正在使用`php`将生成 excel 2007 文件的库。

```
$this->output->set_content_type('application/vnd.openxmlformats-officedocument.spreadsheetml.sheet');
$this->output->set_header('Content-Disposition: attachment;filename="' . 'test' . '.xlsx"');
$this->output->set_header('Cache-Control: max-age=0');
$this->output->set_output($objWriter->save('php://output')); 
```

问题是应该下载的文件的内容会在浏览器页面上回显。当我在普通的 PHP 代码上编码时我没有问题，但是在 Code Igniter 上我无法让客户端下载文件。

我已经尝试过使用`force_download`代码点火器下载助手中的功能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T12:26:52.687

试试下面的编码。

```
$this->output->set_content_type('application/vnd.openxmlformats-officedocument.spreadsheetml.sheet');
$this->output->set_header('Content-Disposition: attachment;filename="' . 'test' . '.xlsx"');
$this->output->set_header('Cache-Control: max-age=0');
$objWriter->save('php://output'); 
```

# asp.net - 无法插入更新删除

> ID：11390984
> 
> 赞同：0
> 
> 时间：2012-07-09T07:53:02.110
> 
> 标签：asp.net, mysql

我使用 Asp.net c# 和 MYSql 作为后端。我正在更新一个表，但表没有更新。表中只有 3 列。

执行命令对象时也不*例外。*但这会返回 0 值`cmd.ExecuteNonQuery()`。

我对此进行了调试，发现 cmd.Parameters 充满了值。如果我在 mysql 中手动运行更新命令，它工作正常。

表格如下

```
column -- Datatype   
ShortText -- varchar   
title -- varchar   
id -- int 
```

请指导我...

```
int retVal = 0;
        string shortText = ((TextBox)fmvwShortText.FindControl("txtShortText")).Text.Trim();
        try
        {
            int id = Convert.ToInt32(((Label)fmvwShortText.FindControl("lblShrtTextID")).Text);
            MySqlConnection con = new MySqlConnection(System.Configuration.ConfigurationManager.AppSettings["conn"]);
            cmd = new MySqlCommand();
            cmd.Connection = con;
            cmd.CommandText = "UPDATE temp_posts SET ShortText=@shrtText WHERE id=@id AND Title=@title";
            cmd.Parameters.Add("@shrtText", MySqlDbType.VarChar).Value = shortText;
            cmd.Parameters.Add("@title", MySqlDbType.VarChar).Value =Session["EditTitle"].ToString();
            cmd.Parameters.Add("@id", MySqlDbType.Int32).Value = id;
            con.Open();
            retVal = cmd.ExecuteNonQuery();
            con.Close();
        }
        catch (Exception e) { }
        return retVal; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T07:59:08.757

`Title`您的参数可能是外壳问题吗？我注意到您只有在 ID 和标题*完全*匹配时才更新？

同样作为一般经验法则，在使用实现的对象时，`IDisposable`您应该用`using`语句包装它们，这将确保您的对象始终被释放（即使是错误的结果）

```
using (var con = new MySqlConnection(...))
{
    using (var cmd = new MySqlCommand(...))
    {
       ....
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T11:39:12.300

首先感谢每一位一直在寻找并尽力与我一起解决这个问题的人..

终于得到了解决方案。

在我的代码中，我**在 cmd.CommandText 和参数中使用了 @。** 但是当我用**?替换这个****@时** 在 cmd.CommandText 和参数中都使用了**cmd.ExecuteScalar();** 这行得通。

 ******实际上参数名称取决于提供者。在使用 SQL Server 提供程序时，它应该以 @ 开头（例如 @param1）。对于 Oracle 提供程序，它应该以冒号开头（...例如 aram1。对于 OleDb 提供程序，只需一个问号 (?) 即可**

谢谢大家贡献你的最好...非常感谢

但是我仍然有一个问题，即 ExecuteScalar() 正在更新数据库中的记录？我没有答案……正在寻找这个。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-09T08:10:47.493

试试这个 nt 确定代码格式化因为目前没有使用 ide frmwrk

```
int retVal = 0;
        string shortText = ((TextBox)fmvwShortText.FindControl("txtShortText")).Text.Trim();
        try
        {
            int id = Convert.ToInt32(((Label)fmvwShortText.FindControl("lblShrtTextID")).Text);
            MySqlConnection con = new MySqlConnection(System.Configuration.ConfigurationManager.AppSettings["conn"]);
            cmd = new MySqlCommand("UPDATE temp_posts SET ShortText='"+shortText+"' WHERE id='"+id+"' AND Title='"+Session["EditTitle"].ToString()+"'",con);
            con.Open();
            retVal = cmd.ExecuteNonQuery();
            con.Close();
        return retVal;              
    }
        catch (Exception e) { } 
```****

# javascript - 通过 phonegap 和 jquerymobile 表单发送邮件？

> ID：11390988
> 
> 赞同：0
> 
> 时间：2012-07-09T07:53:19.847
> 
> 标签：javascript, jquery, forms, jquery-mobile, cordova

我有一个 jquerymobile 表单，我想发送一个标准化的电子邮件进行验证，该电子邮件由用户填写其数据的表单创建。

是否有一个简单的 jquerymobile 解决方案或者我必须使用 phonegap？

你有任何想法/教程/建议如何做到这一点？

提前谢谢！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-09T08:01:18.463

将 ajax 发布到服务器，该服务器从表单中收集信息并发送电子邮件，如果您的搜索，互联网上有一百万个 / gazzillian 示例，您还没有真正说明您将使用哪种服务器语言进行发送。