# StackOverflow 问答 11573000-11573999

# php - 使用 PHP 生成序列号

> ID：11573007
> 
> 赞同：0
> 
> 时间：2012-07-20T04:43:25.907
> 
> 标签：php

我想使用 PHP 生成一系列的序列号，例如`CHN000001,CHN000002,CHN000003`，等等。如果有 100 个数字，那么最后一个应该是`CHN000100`. 如果是 1000，那么序列号应该看起来像 CHN001000。谁能告诉我如何为这个过程实现“for”循环？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-20T04:47:01.040

以下应该工作。您使用的功能是[sprintf](http://php.net/manual/en/function.sprintf.php)

```
for($i=1;$i<=100;$i++)
echo sprintf("CHN%06d", $i)." "; 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-20T04:47:37.653

```
$x = 0;
while ($x <= 999999)
{
    $numZero = 6 - strlen($x);
    echo 'CHN'.str_repeat('0', $numZero).$x;
    $x++;
} 
```

# c# - 我使用的日期时间没有像我预期的那样出现。为什么？

> ID：11573013
> 
> 赞同：0
> 
> 时间：2012-07-20T04:44:19.120
> 
> 标签：c#, web-services

第三方 Web 服务 (Java) 正在返回时间，如下所示：

```
1970-01-01T23:00:00.000+10:00 
```

当我通过 WCF Storm 使用 Web 服务时，它显示：

```
1970-01-02 12:00:00 AM 
```

有人可以澄清这里发生了什么吗？我原以为应该是：

```
1970-01-02 9:00:00 AM 
```

# vba - 带有自签名证书的 VBA ServerXMLHTTP https 请求

> ID：11573022
> 
> 赞同：23
> 
> 时间：2012-07-20T04:45:21.900
> 
> 标签：vba, https, ssl-certificate

我正在使用 ServerXMLHTTP 对象在 excel 2007 vba 脚本上发出一些 http 请求。

但是我需要连接到使用自签名 SSL 证书的 https 服务器，所以默认情况下我会收到消息“证书颁发机构无效或不正确”。有没有办法配置 ServerXMLHTTP 对象，使其不需要 CA 证书？

一些示例代码如下：

```
Set objHTTP = CreateObject("MSXML2.ServerXMLHTTP")
  objHTTP.Open "POST", "https://invernalia.homelinux.net", False, "user", "password"
  objHTTP.setRequestHeader "User-Agent", "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0)"
  objHTTP.send ("") 
```

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-07-22T12:42:14.273

我曾经有一段时间遇到过这个问题，但由于以下原因，我才设法解决了这个问题：

```
Set objHTTP = CreateObject("MSXML2.ServerXMLHTTP")
objHTTP.SetOption 2, objHTTP.GetOption(2)
objHTTP.Open "POST", "https://invernalia.homelinux.net", False, "user", "password"
objHTTP.setRequestHeader "User-Agent", "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0)"
objHTTP.send ("") 
```

我在这里找到了[setOption 方法](http://msdn.microsoft.com/en-us/library/windows/desktop/ms763811(v=vs.85).aspx)和[getOption 方法](http://msdn.microsoft.com/en-us/library/windows/desktop/ms753798(v=vs.85).aspx)

在我刚刚使用的这段代码中`SXH_SERVER_CERT_IGNORE_ALL_SERVER_ERRORS`，您可以尝试使用其他更具体的代码：

*   `SXH_SERVER_CERT_IGNORE_WRONG_USAGE`
*   `SXH_SERVER_CERT_IGNORE_CERT_CN_INVALID`
*   `SXH_SERVER_CERT_IGNORE_CERT_DATE_INVALID`
*   `SXH_SERVER_CERT_IGNORE_UNKNOWN_CA`

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-03-28T19:10:59.317

```
Set objHTTP = CreateObject("MSXML2.ServerXMLHTTP")
objHTTP.SetOption(2, objHTTP.GetOption(2) - SXH_SERVER_CERT_IGNORE_ALL_SERVER_ERRORS)
objHTTP.Open "POST", "https://invernalia.homelinux.net", False, "user", "password"
objHTTP.setRequestHeader "User-Agent", "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0)"
objHTTP.send ("") 
```

得到上述解决方案，只需稍作改动即可。代替：

```
objHTTP.SetOption(2, objHTTP.GetOption(2) - SXH_SERVER_CERT_IGNORE_ALL_SERVER_ERRORS) 
```

我用了：

```
objHTTP.SetOption(2) = (objHTTP.GetOption(2) - SXH_SERVER_CERT_IGNORE_ALL_SERVER_ERRORS) 
```

否则我会收到以下错误：

> Microsoft VBScript 编译错误 '800a0414' 调用 Sub objHTTP.SetOption(2, objHTTP.GetOption(2) - SXH_SERVER_CERT_IGNORE_ALL_SERVER_ERRORS) 时不能使用括号

引用自： [SXH_OPTION_IGNORE_SERVER_SSL_CERT_ERROR_FLAGS](http://msdn.microsoft.com/en-us/library/ms753798%28v=vs.85%29.aspx)

# html - twitter bootstrap 搜索框和按钮对齐“google like”

> ID：11573023
> 
> 赞同：1
> 
> 时间：2012-07-20T04:45:24.417
> 
> 标签：html, css, twitter-bootstrap

我正在尝试将 twitter bootstrap 用于我的新博客项目，并且正在尝试使搜索框正常工作。为此，我使用以下代码：

```
<div class="row">
    <div class="span8 offset2">
        <form class="well form-search">
            <input type="text" class="input-xxlarge search-query">
            <button type="submit" class="btn btn-primary">Search</button>
        </form>
    </div>
</div> 
```

但是，这样做是在搜索框旁边布置“搜索按钮”，这不是我想要的。我希望它看起来类似于 google 登录页面，在框的底部有 2 个按钮，并将“中心”与框对齐。我尝试了许多不同的选项（例如单独的 div），但我无法实现这一点。

其次，就像在谷歌登陆页面中一样，我想偏移行，如果可能的话，将它（框和两个按钮）对齐在页面的中心。同样，我正在努力弄清楚如何偏移行（但我能够偏移列）。

我很感激这方面的任何指导。谢谢你的时间。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-20T05:02:00.777

Twitter Bootstrap 仅通过它们的类将样式应用于您的 HTML。您也可以使用自己的 CSS 设置内容样式。我还没有测试过下面的解决方案，所以不要指望它开箱即用（虽然，如果可以，请告诉我）。我进行了广泛的评论，让您了解我每一步要达到的目标。

```
div > div:only-child > form:only-child > button[type="submit"] {
  /* clear any floating implemented by the Twitter Bootstrap framework; you may
     want to use the legacy clearfix method to make this work on all browsers */
  clear: both;

  /* redeclare the button as a block element */
  display: block;

  /* set a width (less than the width of its container; in this case, form).
     this would help with centering the button */
  width: 45%;

  /* center the button. You can use a button group if you have more buttons */
  margin: 0 auto;

  /* center the text in the button, assuming it's not already centered by twitter */
  text-align: center;
} 
```

ps：为荒谬的选择器道歉。你没有明确的类名或不是 Twitter 的 id 标签。

# unix - Unix 纪元时间何时从 1971 年修订为 1970 年的当前值？

> ID：11573024
> 
> 赞同：8
> 
> 时间：2012-07-20T04:45:30.810
> 
> 标签：unix, unix-timestamp

根据第一版[Unix Programmer's Manual](http://cm.bell-labs.com/cm/cs/who/dmr/pdfs/man22.pdf)，Unix 时间被定义为“从 1971 年 1 月 1 日 00:00:00 开始的时间，以六十分之一秒为单位”

此值何时更改为 1970 年 1 月 1 日午夜 (UTC) 的当前值？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-22T05:21:25.443

在第一版 Unix（1971 年 11 月）中，[时间系统调用的手册页](http://man.cat-v.org/unix-1st/2/sys-time)声明它返回“自 1971 年 1 月 1 日 00:00:00 以来的时间，以六十分之一秒为单位”。这是一个 32 位的值，因此即使被视为无符号，它也只能在此日期之后跟踪大约 2.26 年。然而，手册页和[源代码注释](http://minnie.tuhs.org/cgi-bin/utree.pl?file=V1/u2.s)将系统调用描述为“获取一年中的时间”，无法[设置](http://man.cat-v.org/unix-1st/1/sdate)年份，并且[`date`](http://minnie.tuhs.org/cgi-bin/utree.pl?file=V3/man/man1/date.1)命令和[`ctime()`](http://man.cat-v.org/unix-1st/3/ctime)函数（用于格式化日期和时间）没有格式化一年，甚至无法在大于 1 年的时间值下正常工作，因此可能预计每年都会手动重置日期，而手册页中的 1971 年是意义不大。好吧，除了 1972 年多出一天的小问题；关于这一点，后来在错误部分添加了一条[注释](http://minnie.tuhs.org/cgi-bin/utree.pl?file=V3/man/man3/ctime.3)：“必须为闰年重新组装例程”。好的。

1972 年，时间系统调用的手册页[更改](http://minnie.tuhs.org/cgi-bin/utree.pl?file=V3/man/man2/time.2)为声明它返回自“1972 年 1 月 1 日 00:00:00”以来的时间，并附注：“时间以 32 位存储。这保证了每 2.26 年发生一次危机。”

在第四版 Unix（1973 年 11 月）[中，时间系统调用](http://minnie.tuhs.org/cgi-bin/utree.pl?file=V4/man/man2/time.2)被更改为返回“自 1970 年 1 月 1 日 00:00:00 GMT 以来的时间，以秒为单位”。（手册页的日期为 1973 年 8 月 5 日，因此可能是最初进行更改的时间。）这基本上是当前的定义，除了历史术语*GMT*已被更精确的*协调世界时*取代，并且澄清已经关于闰秒。在将其作为带符号的 32 位数字返回的系统上，这将一直有效到[2038 年](http://en.wikipedia.org/wiki/Year_2038_problem)。幸运的是，许多系统现在使用 64 位来表示这个值。

# visual-studio-2010 - 如何从另一个文件夹播放 .wav 文件？在 Visual Studio 2010 c++ 上完成

> ID：11573025
> 
> 赞同：0
> 
> 时间：2012-07-20T04:45:30.853
> 
> 标签：visual-studio-2010, wav, playsound

我正在做一个需要用户输入语音的项目。

例如，**th**。然后程序将播放产生声音的波形**文件**。由于音标有许多不同的波形文件，我决定将它们分组到单独的文件中，这意味着它不会在 .exe 目录的同一个文件夹中。在这种情况下，如何播放来自另一个文件的声音？

这是我认为可以工作但没有成功的部分..请帮助我！

```
FILENAME1 = strcat(text_data, ".wav");
FILENAME2 = strcat("wav" ,FILENAME1);
printf ("%s", FILENAME2);
PlaySound(TEXT(FILENAME2), NULL, SND_SYNC); 
```

text_data 包含用户键入的内容。例如“th”。并且应用程序播放**th.wav**文件是否可以从另一个文件夹播放它？这样我就可以将各种 wav 文件分组。

然后它会是这样的：;

Debug（包含.exe文件）-->辅音-->th.wav（这是我想玩的，但不会和.exe文件在同一个目录下。

请帮我。非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T04:50:41.330

您需要提供完整的路径。例如，如果文件位于 Debug\Sounds\SomeSound.wav 中，则必须提供 Sounds\SomeSound.wav 作为路径。

编辑：您可以使用“+”运算符连接多个字符串。它应该看起来像：

```
"Folder_Name\\" + text_data + ".wav" 
```

您还可以查看 std::stringstream 来完成这项工作。

# android - 如何获取 customadapter listview 中的所有项目？

> ID：11573029
> 
> 赞同：1
> 
> 时间：2012-07-20T04:46:10.487
> 
> 标签：android, android-listview

我有自定义`Adapter`，`ListView`其中包含不同`Layout`的`ListView`. 的选择`Layout`取决于`getitemType`我选择`Layout`文件。但是当我滚动这些项目时占据我的屏幕的前三个项目正在重复，直到我的列表大小但位置值发生变化。

```
 View getView(final int position, View convertView, ViewGroup parent)
    {
      case TYPE_MENUUPLOAD:
      case TYPE_UPLOADIMAGE: 
      ViewHolder holder4 = null;
      if (convertView == null) 
       {
            holder4 = new ViewHolder();
            convertView=Inflater.inflate(R.layout.uploadphoto,null);
            convertView.setTag(holder4);
        } else 
        { 
            holder4 = (ViewHolder)convertView.getTag();
        }       
      return convertView;

      case TYPE_USER:
          ViewHolder holder5 = null;     
          if (convertView == null) 
          { 
              holder5 = new ViewHolder();
              convertView = Inflater.inflate(R.layout.user, null);
              convertView.setTag(holder5); 
           } else 
           {
               holder5 = (ViewHolder)convertView.getTag();
            }
          return convertView; 

      case TYPE_UPLOADVIDEO:            
          ViewHolder holder6 = null;
          if (convertView == null) 
          {
              holder6 = new ViewHolder();
              convertView = mInflater.inflate(R.layout.uploadvideo, null);
              convertView.setTag(holder6);   
           } 
          else 
          {
              holder6 = (ViewHolder)convertView.getTag();
        }return convertView;

    }; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:23:54.633

```
public int getViewTypeCount() {
   return 3; //in your case.
}

public int getItemViewType (int position) {
   case TYPE_MENUUPLOAD:
   case TYPE_UPLOADIMAGE:
      return 0;
   case TYPE_USER:
      return 1;
   case TYPE_UPLOADVIDEO:
      return 2;
} 
```

您现有的 getView 方法应该无需任何更改即可工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:00:44.177

在您的情况下，您需要删除`if (convertView == null)`支票。因为它导致了问题。

为`case TYPE_MENUUPLOAD: case TYPE_UPLOADIMAGE:`你的视图膨胀......所以当`case TYPE_USER:`你有一个空检查时，`convertView`它不是`null`init in other `case`，所以你有错误的视图。

只需使用您的代码代码

```
 View getView(final int position, View convertView, ViewGroup parent)
{
  case TYPE_MENUUPLOAD:
  case TYPE_UPLOADIMAGE: 
  return Inflater.inflate(R.layout.uploadphoto,null);;
  case TYPE_USER:
  return Inflater.inflate(R.layout.user, null);; 
  case TYPE_UPLOADVIDEO:
  return mInflater.inflate(R.layout.uploadvideo, null);;
  } 
```

`View Holder`在您的情况下，模式不会完全使用。

**编辑：** 我想到了 Prakash 建议的另一种解决方案。但是他的解决方案会以这种方式解决问题，如果确实如此..

```
View getView(final int position, View convertView, ViewGroup parent)
{
 ViewHolder holder = null;
 if (convertView == null) {
  case TYPE_MENUUPLOAD:
  case TYPE_UPLOADIMAGE:
        holder = new ViewHolder();
        convertView=Inflater.inflate(R.layout.uploadphoto,null);
        convertView.setTag(holder);
    break;
case TYPE_USER:
       holder = new ViewHolder();  
       convertView = Inflater.inflate(R.layout.user, null);
       convertView.setTag(holder); 
    break;
  case TYPE_UPLOADVIDEO:            
       holder = new ViewHolder();  
       convertView = mInflater.inflate(R.layout.uploadvideo, null);
       convertView.setTag(holder); 
    break;    
 } 
 else 
 {
    holder = (ViewHolder)convertView.getTag();
 }return convertView;

}; 
```

# android - Android上的更新声明失败

> ID：11573042
> 
> 赞同：0
> 
> 时间：2012-07-20T04:47:21.603
> 
> 标签：android

我的应用程序保留了一个股票代码列表。最近我注意到对于符号“LOW”（Lowe's corp），系统无法使用最新值更新表。我使用以下行来更新表格

```
int i = db.update(DATABASE_TABLE, args, KEY_sym +"=\"" + item.sz_sym +"\"", null)  ;

 where DATABASE_TABLE = "Quote", KEY_sym = "symbol", item.sz_sym = "LOW" and args contains the new values. 
```

我确定这是由于符号 LOW，因为它适用于所有其他符号。我的问题是，这里发生了什么，符号 LOW。以及我该如何解决。另外，是否可以查看生成的 SQL 语句？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:01:03.710

如果你不习惯使用基于语法的 sql 语句，你总是可以使用[ExecSql](http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#execSQL%28java.lang.String%29)来执行一个普通的 sql 查询。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:10:47.973

应该是这样的，

```
db.update(DATABASE_TABLE, args, KEY_sym+"=?", new String[]{item.sz_sym}); 
```

# macos - 你如何使用“n”来切换你的 Node 版本？

> ID：11573045
> 
> 赞同：0
> 
> 时间：2012-07-20T04:47:27.283
> 
> 标签：macos, node.js

我用的是 Mac。我刚刚运行“n latest”来安装最新版本的 Node.js。

现在我想激活它，但是在尝试创建符号链接时出现错误“文件存在”。这是什么意思？我如何解决它？

当我运行“哪个节点”时，我看到节点安装在 /usr/bin/node 上。

```
My-Comp:~ myuser$ n latest
cp: symlink: ../lib/node_modules/npm/bin/npm-cli.js: File exists
My-Comp:~ myuser$ n ls
    0.0.1
    0.0.2
    0.0.3
    0.0.4
    0.0.5
    0.0.6
    0.1.0
    0.1.1
    0.1.2
    0.1.3
    0.1.4
    0.1.5
    0.1.6
    0.1.7
    0.1.8
    0.1.9
    0.1.10
    0.1.11
    0.1.12
    0.1.13
    0.1.14
    0.1.15
    0.1.16
    0.1.17
    0.1.18
    0.1.19
    0.1.20
    0.1.21
    0.1.22
    0.1.23
    0.1.24
    0.1.25
    0.1.26
    0.1.27
    0.1.28
    0.1.29
    0.1.30
    0.1.31
    0.1.32
    0.1.33
    0.1.90
    0.1.91
    0.1.92
    0.1.93
    0.1.94
    0.1.95
    0.1.96
    0.1.97
    0.1.98
    0.1.99
    0.1.100
    0.1.101
    0.1.102
    0.1.103
    0.1.104
    0.2.0
    0.2.1
    0.2.2
    0.2.3
    0.2.4
    0.2.5
    0.2.6
    0.3.0
    0.3.1
    0.3.2
    0.3.3
    0.3.4
    0.3.5
    0.3.6
    0.3.7
    0.3.8
    0.4.0
    0.4.1
    0.4.2
    0.4.3
    0.4.4
    0.4.5
    0.4.6
    0.4.7
    0.4.8
    0.4.9
    0.4.10
  ο 0.4.11 
    0.4.12
    0.5.0
    0.5.1
    0.5.2
    0.5.3
    0.5.4
    0.5.5
    0.5.6
    0.5.7
    0.5.8
    0.5.9
    0.5.10
    0.6.0
    0.6.1
    0.6.2
    0.6.3
    0.6.4
    0.6.5
    0.6.6
    0.6.7
    0.6.8
    0.6.9
    0.6.10
    0.6.11
    0.6.12
    0.6.13
    0.6.14
    0.6.15
    0.6.16
    0.6.17
    0.6.18
    0.6.19
    0.6.20
    0.7.0
    0.7.1
    0.7.2
    0.7.3
    0.7.4
    0.7.5
    0.7.6
    0.7.7
    0.7.8
    0.7.9
    0.7.10
    0.7.11
    0.7.12
    0.8.0
    0.8.1
    0.8.2
  * 0.8.3 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-20T16:13:03.443

`sudo rm /usr/local/bin/npm`

...应该从旧节点/npm 安装中清除有问题的剩余符号链接，并允许 n 完成安装。

# emacs - emacs 中最好的网络浏览器

> ID：11573048
> 
> 赞同：16
> 
> 时间：2012-07-20T04:47:37.350
> 
> 标签：emacs

我在写代码的时候经常在网上看教程，在emacs和浏览器之间来回切换很乏味。

我见过一些包为 w3m-emacs，但是想知道是否有更好的可用。

# c# - 在asp.net和c#的文本框中跟踪输入按钮事件

> ID：11573050
> 
> 赞同：0
> 
> 时间：2012-07-20T04:47:59.353
> 
> 标签：c#, asp.net

> **可能重复：**
> [当用户在文本框中按 Enter 键时执行按钮单击事件](https://stackoverflow.com/questions/5948171/perform-button-click-event-when-user-press-enter-key-in-textbox)

我想在 asp.net 和 c# 中跟踪输入按钮按键事件。我不想为此使用 javascript。

每当在文本框中按 Enter 键时，我想调用一个函数，该函数将文本框值作为参数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:11:59.900

无法在没有 JavaScript 的情况下捕获/跟踪 ASP.NET 中的按键事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:13:43.887

那么有几种方法可以做到这一点：

## 使用面板

```
<asp:Panel runat="server" DefaultButton="but">
    <asp:TextBox runat="server" ID="txt" />
    <asp:Button Text="text1" runat="server" ID="but" OnClick="click" />
</asp:Panel> 
```

## 在 Form 标签中指定默认按钮

```
<form id="form1" runat="server" defaultbutton="but" defaultfocus="txt"> 
```

# php - 如何返回按键值排序的 Riak 对象？

> ID：11573051
> 
> 赞同：0
> 
> 时间：2012-07-20T04:48:12.487
> 
> 标签：php, javascript, riak

我有一个叫做“员工”的桶。其中的键如下所示：

```
"ryan_07-01-2012_8:15pm"
"joy_07-02-2012_8:20pm"
"ryan_07-03-2012_8:30pm"
"tammy_07-05-2012_8:10pm"
"tammy_07-11-2012_8:01pm"
"joy_07-15-2012_8:20pm" 
```

所有的键都指向看起来与此类似的 Riak 对象：

```
{ description: "left the office", signed-out: "8:15pm" } 
```

在 Riak 中，尤其是使用 php 客户端 riak-php，您将如何根据键值（即“ryan_07-01-2012_8:15pm”）返回按时间和日期排序的对象。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-31T11:15:37.730

您可能想要比这更好的时间/日期格式，该格式不是特别可格式化的。例如 YYYY-MM-DD_HH:MM:SS（php 的`date()`格式是`'Y-m-d_H:i:s'`）。这将能够按字典顺序排序。

如果您必须指定格式，则必须在排序期间将其转换为可排序的格式，这样会减慢速度。

您可以使用关键过滤器将返回的文档限制在某个范围内（或使用二级索引 - 这会更快，见下文）。尽管可以在 map/reduce 操作中对返回值进行排序，但我建议在 PHP 中对返回的数据进行排序（例如使用[`uasort()`](http://us3.php.net/uasort)）。这将比在 map/reduce 操作中排序更简单，而且它可能也更快，因为您不必为 map/reduce 启动 V8 javascript 引擎（假设您没有编写 Erlang M/R 函数） . 随着节点的报告，数据也可以减少多次，因此您基本上可以多次重新排序一些数据。因此在 PHP 中进行排序更加简单快捷。

您还应该考虑为文档添加一个（或多个）二级索引，这将大大加快查找文档的时间。例如，您可能有一个“时间戳”二级索引，您可以按范围搜索。有关二级索引的文档，请参阅[Riak PHP 客户端上的自述](https://github.com/basho/riak-php-client#adding-secondary-indexes)文件。有关在 Riak PHP 客户端中使用二级索引的工作示例，请查看[二级索引单元测试](https://github.com/basho/riak-php-client/blob/master/unit_tests.php#L407)。

# objective-c - UIAlertView 文本中的链接

> ID：11573052
> 
> 赞同：0
> 
> 时间：2012-07-20T04:48:19.873
> 
> 标签：objective-c, ios5, ios4

我有`UIAlertView`一个**很长的文本**，我把它放在警报的“**消息： ”参数中。**因为文字很长，alert显示为textview，也不错。

问题是我在文本中有**2 个 URL**，我想让用户**能够在文本中单击**它们并转到 safari 应用程序。

我尝试使用自定义文本**视图**并将其作为子视图添加到警报中，但是由于文本很长，*因此几乎没有问题*。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T07:39:49.543

好的，我添加了一个 UIWebview 并加载了我在本地创建的 html 文件。

# iphone - 当我在被拒绝后重新提交我的应用程序时，审核是否从行尾开始？

> ID：11573055
> 
> 赞同：-1
> 
> 时间：2012-07-20T04:48:43.183
> 
> 标签：iphone, ios, xcode

所以我的申请因为我修复的一个小问题而被拒绝了……我的申请是从行尾重新开始，还是返回给同一个审稿人进行审阅？

有人知道吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T08:38:35.813

我唯一与我的应用程序的审阅者直接联系的人，在审阅过程中是同一个人，但我不知道这是否是规则。她让我更正一点，然后就这样做了，之后她又看到了另一点。

第一次拒绝后，我将我的电话号码放在评论中。所以她可以加入我，我们直接讨论了我的应用程序。也许你可以试一试。

镉

# ios - 更改字典中值的键

> ID：11573061
> 
> 赞同：1
> 
> 时间：2012-07-20T04:49:17.323
> 
> 标签：ios, nsdictionary, nsuserdefaults

我做了如下

```
 NSDictionary *dic=[[NSDictionary alloc] initWithObjectsAndKeys:a1,@"0",a2,@"1",a3,@"2",a4,@"3", nil];
  NSDictionary *userbtn=[[NSDictionary alloc] initWithObjectsAndKeys:dic,@"button", nil];
  [[NSUserDefaults standardUserDefaults] registerDefaults:userbtn]; 
```

我想在表格视图中移动单元格时更改密钥。我发现键的值无法更改。

```
- (void)tableView:(UITableView *)tableView moveRowAtIndexPath:(NSIndexPath *)sourceIndexPath toIndexPath:(NSIndexPath *)destinationIndexPath
{
    NSUInteger fromRow = [sourceIndexPath row];
    NSUInteger toRow = [destinationIndexPath row];

} 
```

我该怎么办......在上面的方法中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-02T09:16:08.087

```
 NSDictionary *mydic=[[NSDictionary alloc] initWithObjectsAndKeys:@"Object Zero",@"0",@"Object One",@"1",@"Object Two",@"2",@"Object Three",@"3", nil];
            [[NSUserDefaults standardUserDefaults] setObject:mydic forKey:@"MyDictionary"];
            [[NSUserDefaults standardUserDefaults] synchronize];

                // then for replacing values
            [[[[NSUserDefaults standardUserDefaults] objectForKey:@"MyDictionary"] mutableCopy] setObject:@"Object DOUBLE Zero" forKey:@"0"];
                // above code will replace string object @"Object Zero" to @"Object DOUBLE Zero" for key @"0"
            [[NSUserDefaults standardUserDefaults] synchronize]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:09:32.723

正如 vignesh 所说， Key 应该是唯一的，因此不能更改，但可以更改其内容：

```
 NSMutableDictionary *dic=[[NSMutableDictionary alloc] initWithObjectsAndKeys:a1,@"0",a2,@"1",a3,@"2",a4,@"3", nil];
NSMutableDictionary *userbtn=[[NSDictionary alloc] initWithObjectsAndKeys:dic,@"button", nil];
[[NSUserDefaults standardUserDefaults] registerDefaults:userbtn]; 
```

现在

```
- (void)tableView:(UITableView *)tableView moveRowAtIndexPath:(NSIndexPath *)sourceIndexPath toIndexPath:(NSIndexPath *)destinationIndexPath
{
  NSUInteger fromRow = [sourceIndexPath row];
  NSString *fromstr = [[userbtn objectForKey:@"button"]objectForKey:[NSString stringWithFormat:@"%d",fromRow]]; // firstly take content at index before interchanging

  NSUInteger toRow = [destinationIndexPath row];
  NSString *tostr = [[userbtn objectForKey:@"button"]objectForKey:[NSString stringWithFormat:@"%d",toRow]]; // firstly take content at index before interchanging

 [[userbtn objectForKey:@"button"] setObject:fromstr forKey:[NSString stringWithFormat:@"%d",toRow]]; //interchange value but key is same

 [[userbtn objectForKey:@"button"] setObject:tostr forKey:[NSString stringWithFormat:@"%d",fromRow]];//interchange value but key is same

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T04:55:55.510

对于任何字典，键都应该是唯一且恒定的。将您的`dic`as 值保留为 key `button`。您可以使用 更改值`setValue:forKey`。

# precision - CPLEX 中没有解决方案，输入变化非常小

> ID：11573068
> 
> 赞同：4
> 
> 时间：2012-07-20T04:49:51.080
> 
> 标签：precision, linear-programming, arbitrary-precision, cplex, operations-research

我在 C++ 中使用 CPLEX 来解决集线器位置问题，即 MIP，并且我最近发现了一组非常精确的输入，CPLEX 认为这些输入是不可行的（即 CPXMIP_INFEASIBLE），即使该问题肯定是可行的。在 MIP Presolve 期间，CPLEX 中的问题似乎出现了分歧；通常在这一点上问题被简化为空问题，但不是在不可行的输入集中。

我发现对输入数据进行几乎任何轻微调整都可以切换 CPLEX 找到解决方案的能力。例如，将 250.242566 更改为 250.242567，或者甚至只是将每个输入值四舍五入到最接近的整数，都会给我一个完全有效的解决方案。

软化我拥有的两个松弛约束也将允许一个解决方案，但考虑到输入数据，这些约束不应该被打破。求解后这些约束变量的值近似为 0，但略为负，例如 -0.7e-10。（这是可疑的，因为值应该大于 0。）

到底是怎么回事？我一无所知。我尝试调整一些与精度相关的 CPLEX 变量（即 CPX_PARAM_NUMERICALEMPHASIS、CPX_PARAM_EPOPT、CPX_PARAM_EPMRK、CPX_PARAM_EPRHS），但没有任何帮助。输入数据本身对精度的要求并不高——输入中的最小值为 1.412，最大值为 1520.984907。

我将不胜感激任何意见或建议！

* * *

更新：

我注意到在 MIP 的 Presolve 期间，不可行问题与可行问题有所不同。

检查 CPXgetprestat 是否存在这两个问题，我可以看到这两个问题之间的一个显着区别是在 pcstat 向量中，一个变量不能在不可行集中聚合出来（即，在不可行问题中的值为 0，而在可行问题中为 -4） .

此外，CPXgetprestat 的 ocstat 和 orstat 向量在不可行问题中各有一个非零值（可行问题没有，因为它已被简化为空问题），但我不确定如何处理这两个值。如果 orstat[0] == 7 和 ocstat[0] == 1，这是否意味着在 Presolve 之前的第 7 行和问题的第一个变量中有一些值得注意的地方？我将如何检查这个？

我已经比较了两个问题中 CPXwriteprob 的输出，除了我将输入值更改了 0.0001 以使问题不可行之外，没有什么不同。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-03T04:13:48.377

也许尝试设置EpInt = 0？所以整数确实是整数。

*从手册复制：*

*价值观*

*从 0.0 到 0.5 的任意数字；默认值：1e-05。*

# gwt - 在不使用 GWT 小部件的情况下进行 ajax 调用

> ID：11573070
> 
> 赞同：0
> 
> 时间：2012-07-20T04:50:03.197
> 
> 标签：gwt

我看过很多 GWT 示例，所有这些示例都使用 GWT 小部件来进行 ajax 调用。有没有办法在不使用 GWT 小部件的情况下从 HTML 页面进行 ajax 调用？我已经检查了[这个 SO question](https://stackoverflow.com/questions/997417/simple-ajax-with-gwt-i-dont-need-widgets)，但我没有得到任何有用的东西。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T05:02:53.943

谷歌 GWT 股票观察者示例，其中包括向服务器端的 PHP 脚本发出“手动”请求。

[https://developers.google.com/web-toolkit/doc/latest/tutorial/JSON#http](https://developers.google.com/web-toolkit/doc/latest/tutorial/JSON#http)

# mysql - 将连接应用于整个 mySQL 表

> ID：11573071
> 
> 赞同：0
> 
> 时间：2012-07-20T04:50:08.910
> 
> 标签：mysql, join

我的数据库中有两个 mySQL 表

**训练：**

```
+-------------+------------+------------+------------+-...-+------------+
| Training_ID | 09-06-2012 | 16-06-2012 | 23-06-2012 | ... | 28-12-2013 |
+-------------+------------+------------+------------+-...-+------------+
|     1       |    123     |    924     |   367      |     |   679      |
+-------------+------------+------------+------------+-...-+------------+
|     2       |    243     |    626     |   381      |     |   771      |
+-------------+------------+------------+------------+-...-+------------+
|     3       |    766     |    826     |   956      |     |   725      |
+-------------+------------+------------+------------+-...-+------------+ 
```

**用户：**

```
+---------+----------+
| User_ID | Name     |
+---------+----------+
|   123   | Fred     | 
+---------+----------+
|   924   | James    | 
+---------+----------+ 
|   367   | Tim      | 
+---------+----------+
|   766   | Mark     | 
+---------+----------+ 
```

**我想展示的是：**

```
+-------------+------------+-------------+------------+-...-+------------+
| Training_ID | 09-06-2012 | 16-06-2012  | 23-06-2012 | ... | 28-12-2013 |
+-------------+------------+-------------+------------+-...-+------------+
|     1       | 123 - Fred | 924 - James | 367 - Tim  |     | 679 - Ben  |
+-------------+------------+-------------+------------+-...-+------------+
|     2       | 243 - Sarah| 626 - Smith | 381 - Exam |     | 771 - John |
+-------------+------------+-------------+------------+-...-+------------+
|     3       | 766 - Mark | 826 - Jone  | 956 - Case |     | 725 - Brett|
+-------------+------------+-------------+------------+-...-+------------+ 
```

**注意：**实际上有 70 列（格式与上述相同）。

我尝试使用连接 - 但我不能为每一列做一个。

有没有办法将连接应用于整个表？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T05:47:06.943

这看起来像一个糟糕的设计，您要执行以生成所需格式的任何查询也会看起来同样可怕，但这并非不可能：

您可以做的是对`training`and`users`表进行单个笛卡尔连接，然后`GROUP BY`对`training_id`, 进行一组条件聚合，将所有内容放在一行中`training_id`：

```
SELECT
    a.training_id,
    MAX(CASE WHEN a.`09-06-2012` = b.user_id THEN CONCAT(a.`09-06-2012`, ' - ', b.name) END) AS `09-06-2012`,
    MAX(CASE WHEN a.`16-06-2012` = b.user_id THEN CONCAT(a.`16-06-2012`, ' - ', b.name) END) AS `16-06-2012`,
    MAX(CASE WHEN a.`23-06-2012` = b.user_id THEN CONCAT(a.`23-06-2012`, ' - ', b.name) END) AS `23-06-2012`,
    MAX(CASE WHEN a.`28-12-2013` = b.user_id THEN CONCAT(a.`28-12-2013`, ' - ', b.name) END) AS `28-12-2013`
FROM training a
CROSS JOIN users b
GROUP BY a.training_id 
```

您的子句中需要的列数与表中的列数一样`MAX(CASE WHEN`多`SELECT`。

`users`虽然这看起来也很丑陋，但它比为每列加入 70 次不同时间的表要高效得多。

* * *

## 只有四列的[SQLFiddle 演示](http://www.sqlfiddle.com/#!2/cf2d3/1/0)

# slideshow - 如何使用标签的 jquery 工具幻灯片插件自动旋转和同步导航按钮？

> ID：11573072
> 
> 赞同：0
> 
> 时间：2012-07-20T04:50:21.630
> 
> 标签：slideshow, jquery-tools, flowplayer, jquery-tabs

使用来自 flowplayer.org 的 jQuery 工具我不明白如何让我的幻灯片自动旋转并同步每张幻灯片的导航点？

我正在使用 Slideshow Plugin for Tabs 以显示大量信息。手动点击幻灯片效果很好，但想让它们自动旋转。

尝试做一些链接插件，但似乎没有那么热。

```
 <!-- START SLIDE GROUP CONTAINER -->
    <div class="slide_group" id="slide_group_queue_service">

      <!-- container for the slides -->
      <div class="images" id="chained">

        <!-- first slide -->
        <div>info in here</div>

        <!-- second slide -->
        <div>info in here</div>

        <!-- third slide -->
        <div>info in here</div>

      </div>

      <!-- the tabs -->
      <div class="slidetabs">
        <a href="#"></a>
        <a href="#"></a>
        <a href="#"></a>
      </div>

    </div>
    <!-- END SLIDE GROUP CONTAINER -->

    <!-- SLIDE TABS FOR BUSINESSES PAGE -->
    <script type="text/javascript">
    $(function() {
    $(".slidetabs").tabs(".images > div", {

    // enable "cross-fading" effect
    effect: 'fade',
    fadeOutSpeed: "slow",

    // start from the beginning after the last tab
    rotate: true

    // use the slideshow plugin. It accepts its own configuration
    }).slideshow();
    });

    $("#chained").scrollable({circular: true, mousewheel:true}).navigator().autoscroll({
interval: 3000
    });
    </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T17:33:57.583

弄清楚了。我真的只是使用了一个稍微不同的格式版本，位于： [http ://www.jquerytools.org/](http://www.jquerytools.org/)

使用滑动标签并不是最好的选择。完全相同的 HTML 结构，但触发它的 JS 和它的 CSS 更具体一些。

# wcf - 在服务器端释放 WCF 服务的连接

> ID：11573077
> 
> 赞同：1
> 
> 时间：2012-07-20T04:51:05.120
> 
> 标签：wcf

我遇到了 WCF 中连接受限的问题。我的 WCF 服务托管在 IIS 中，我的 Windows 窗体应用程序客户端连接到 WCF。在 Windows_Closed 事件中，我调用了 client.Close() 方法来通知 WCF 服务“我退出”但是在我的客户端崩溃的情况下，我的客户端和 WCF 服务之间的连接仍然存在一段时间，我模拟了 10 崩溃时间然后我的应用程序不再工作了。

问题是，如何释放 WCF 和崩溃客户端之间的连接？因为服务器的 maxConnections 是有限的，例如等于 10。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T06:02:44.357

Brijesh 指出，如果您使用的是 ReliableSession，您可以使用 InactivityTimeout。否则，您应该利用基本的 WCF 超时。

有关如何实现每个超时的说明，请参阅[超时 WCF 服务](https://stackoverflow.com/questions/229760/timeouts-wcf-services)。

超时对于开发人员来说往往是一个烦恼，但这正是它们存在的目的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T05:55:21.197

您可以使用[Inactivity Timeout](http://msdn.microsoft.com/en-us/library/system.servicemodel.reliablesession.inactivitytimeout.aspx)。如果在指定的时间范围内没有收到消息，服务器将自动关闭连接。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-20T05:02:45.750

您可以在客户端中使用代码块：

```
using(ClientClass client = new ClientClass){
//Call service here
} 
```

这不是很可靠，所以你可能想去 try-catch-finally 代替。确保在每个 catch 块中调用 client.Abort。

# php - PHP中的评论区登录重定向问题

> ID：11573078
> 
> 赞同：1
> 
> 时间：2012-07-20T04:51:18.803
> 
> 标签：php, authentication, redirect

如果有人希望对我网站上的任何项目（例如文章或论坛项目等）发表评论。它提示他们登录/创建帐户。是否有可能确保当客户登录时它会将他们带回他们想要发表的评论？

但现在它不会像这样的流程了。未登录的用户重定向到登录页面，但我希望，在登录此版块后，用户自动重定向到当前发表评论区。有办法吗？

```
<?php if ($sessionUser == 1 || $sessionSeller == 1 || $sessionadmin == 1) { ?>

    <form class="cp_form"
          action="article_comments_db.php"
          method="post"
          name="frm_comment"
          id="frm_comment">

        <div id="div_req_comment" class="cp_infopanel_off">
            <span><?= $_Reviews ?></span>:<span class="red">*</span>

            <textarea class="cp_textarea"
                      id="req_comment"
                      name="req_comment"
                      onBlur="do_blur(this.id)"
                      onFocus="do_focus(this.id)"></textarea>

            <div id="infobox_req_comment" class="cp_infobox"></div>
        </div>

        <input type="button"
               id="btn_submit"
               class="rp_button"
               value="<?= $_Submit ?>"
               onClick="validate_form('frm_comment')" />

        <input type="hidden"
               name="id" value="<?php echo $id ?>" />
    </form>

<?php } else {
?>

    <br/><br/>
    <div align="right">

        <input type="button"
               id="btn_submit"
               class="rp_button"
               value=" <?= $_Post_comment ?> "
               onClick="window.location.href='login.php?event=Account'" />
    </div>

<?php
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:06:59.693

我可以告诉你*如何*实现它。

1.  在重定向到您的登录页面时，检查是否`$_SERVER['HTTP_REFERER']`为空。如果不为空，则将其保存到会话中。

2.  成功登录后，使用您保存到会话中的值检查用户是否来自另一个页面。

如果不为空，则将用户重定向到会话变量中定义的同一页面。在重定向之前，将会话值保存在一个变量中并销毁这个会话变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:07:14.737

[您可以使用 ID 或 URL ( urlencode](http://php.net/manual/en/function.urlencode.php) ) 调用您的 login.php?event=Account您可以使用用户访问的当前页面

```
login.php?event=Account&visitedpageid=1 
```

在登录表单中，您可以使用 $_GET 获取 ID/URL 并将其放入隐藏的输入中。

```
<input type="hidden" name="visitedpage" value="<?php echo $_GET['visitedpageid']; ?>"> 
```

如果登录是正确的，那么您将使用该隐藏输入的 POST 值进行重定向。

```
$_POST['visitedpage'] 
```

请确保检查 get-parameter 是否已设置 ( [isset](http://www.php.net/manual/en/function.isset.php) ) 并与现有页面匹配。

# css - 我的主机上奇怪的 .htaccess

> ID：11573079
> 
> 赞同：0
> 
> 时间：2012-07-20T04:51:30.857
> 
> 标签：css, wordpress, .htaccess

今天我进入我的网站，它吓坏了。所有的 css 都无法加载，所有的图像也无法加载。几个月来我没有在我的网站上更新任何东西。我通过主题文件夹进行了调查，并在其中找到了一个**.htaccess**文件（我使用了 wordpress），它的内容。

任何人都可以解释这个**.htaccess**文件的含义吗？我不知道为什么这个文件出现在我的主机中。

```
<IfModule mod_security.c>
    SecFilterEngine Off
    SecFilterSanPOST Off
</IfModule>
#START #
Options +ExecCGI 
AddHandler cgi-script cgi pl pro 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T11:13:24.147

这个 .htaccess 将该目录标记为 CGI 脚本目录，如 cgi-bin，并表示尝试运行具有列出的扩展名的文件。试图关闭 mod_security 很可能意味着它是在没有适当权限的情况下完成的。查看 .htaccess 文件的所有权和时间戳，并查看您自己的代码是否进行了更改，或者系统上的其他用户是否可能进行了更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T11:58:24.517

`.htaccess`是一个隐藏文件，因为它以点开头，可用于配置`RewriteEngine`Apache HTTP 服务器。`RewriteEngine`用于重写或将 URL 重定向到另一个 URL、URL 重写*（或重新映射）*或 URL 重定向。如果要关闭重写引擎，只需写入文件`RewriteEngine off`即可。`.htaccess`

# web-services - Spring-WS：响应消息包含奇怪的字符

> ID：11573080
> 
> 赞同：0
> 
> 时间：2012-07-20T04:51:44.980
> 
> 标签：web-services, jboss, character, spring-ws, jboss-4.2.x

我是 Spring-WS 的新手，我必须为我的项目创建一个 WebService。因此，为了尝试一些示例，我从[http://code.google.com/p/spring-webservices-samples/下载了 spring-webservices-samples](http://code.google.com/p/spring-webservices-samples/)

当我部署war文件并使用SoapUI进行测试时；我在响应消息中收到奇怪的字符（如**ce,1a,0**），并且“CalculateResponse”元素为空。

```
 <ns2:CalculateResponse xmlns:ns2='http://www.marvelution.com/samples/schemas/CalculatorServiceSchema'/> 
```

而且没有例外。我试图调试但没有运气。

请帮我解决这个问题。我真的很感激任何意见。

我正在使用 JBoss 4.2.3、Java 1.6（64 位）。

我尝试在 Tomcat-7.0.29 中部署相同的 war 文件，它可以工作。但我必须让我的 WebService 在 JBoss 4.2.3 中工作

**使用 TCPMon 捕获的请求：**

```
 POST /annotated-payload-endpoint/calculatorService HTTP/1.1
    Accept-Encoding: gzip,deflate
    Content-Type: text/xml;charset=UTF-8
    SOAPAction: "http://www.marvelution.com/samples/definitions/CalculatorService/Add"
    Content-Length: 377
    Host: 127.0.0.1:9999
    Connection: Keep-Alive
    User-Agent: Apache-HttpClient/4.1.1 (java 1.5)

    <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cal="http://www.marvelution.com/samples/schemas/CalculatorServiceSchema">
       <soapenv:Header/>
       <soapenv:Body>
          <cal:Add>
             <!--2 or more repetitions:-->
             <cal:number>1</cal:number>
             <cal:number>2</cal:number>
          </cal:Add>
       </soapenv:Body>
    </soapenv:Envelope> 
```

**使用 TCPMon 捕获的响应：**

```
 HTTP/1.1 200 OK
    Server: Apache-Coyote/1.1
    X-Powered-By: Servlet 2.4; JBoss-4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181417)/JBossWeb-2.0
    SOAPAction: ""
    Content-Type: text/xml;charset=UTF-8
    Transfer-Encoding: chunked
    Date: Fri, 20 Jul 2012 01:47:23 GMT

    ce
    <env:Envelope xmlns:env='http://schemas.xmlsoap.org/soap/envelope/'><env:Header></env:Header><env:Body><ns2:CalculateResponse xmlns:ns2='http://www.marvelution.com/samples/schemas/CalculatorServiceSchema'/>
    1a
    </env:Body></env:Envelope>
    0 
```

**端点：CalculatorEndpoint.java**

```
 @PayloadRoot(namespace = "http://www.marvelution.com/samples/schemas/CalculatorServiceSchema", localPart = "Add")
    public CalculateResponse add(Add numbers) {
        CalculateResponse res = wrapResult(calculator.add(numbers.getNumber()));
        System.out.println("Response before sending:"+res.getResult());
        return res;
    } 
```

返回响应之前的 System.out.println 正在打印。我不确定这些字符是在哪里添加的，以及为什么响应不完整。

谢谢，杰格

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-11T15:56:35.873

我发现了问题所在。JBoss 提供的 SAAJ 实现存在一些问题。（即这个默认的 JBoss 实现“org.jboss.ws.core.soap.MessageFactoryImpl”有问题）因此解决方案不是使用 JBoss 实现，而是使用另一个实现。

示例：使用以下实现之一：com.sun.xml.messaging.saaj.soap.ver1_1.SOAPMessage Factory1_1Impl org.apache.axis2.saaj.MessageFactoryImpl

```
<bean id="messageFactory" class="org.springframework.ws.soap.saaj.SaajSoapMessageFactory">
    <property name="messageFactory">
        <bean class="org.apache.axis2.saaj.MessageFactoryImpl"/>
    </property>
</bean> 
```

此问题已在此处报告： URL：[http ://static.springsource.org/srin...tml#saaj-jboss](http://static.springsource.org/sprin...tml#saaj-jboss)

# c - 崩溃期间未捕获 SIGSEGV 信号

> ID：11573084
> 
> 赞同：0
> 
> 时间：2012-07-20T04:52:02.203
> 
> 标签：c, linux, segmentation-fault

我正在尝试运行会产生分段错误的代码。但是不会产生分段错误。

```
int main()
{

char *variable;

strcpy(variable,"hello");

} 
```

程序崩溃，但没有显示消息称发生了分段违规。

即使我编写了一个信号处理程序来处理分段错误，信号也没有被捕获。

你知道为什么会这样吗？内核对 SIGSEGV 信号的处理是否有可能被禁用或其他什么...

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T05:04:20.883

就我而言，分段错误是使用 gcc 编译器来的（输出：分段错误）。但是，如果在您的情况下它没有出现，请尝试使用 strace 运行您的二进制文件，例如 strace ./a.out(say)。它将显示在控制台上执行的系统级命令。也许你会从中得到一个想法

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:04:34.567

首先，你真的应该养成使用`gcc -Wall`which 来警告此类错误的编译习惯。

要了解真正发生了什么，请使用调试器，例如`gdb`逐步运行您的代码。您也可以使用`strace`or 更好`ltrace` （这将显示 的论点`strcpy`）。

那么，一个可能的解释（只是猜测）可能如下：

*   你`variable`的未初始化

*   因此它保留了寄存器（或堆栈槽）存储的“值`variable` ”

*   `main`被调用`crt0.o`，碰巧用有意义的东西（一个有效的指针）初始化那个位置，也许`argv[0]` 是`main` 某个 shell 环境变量

（您可以阅读有关[x86-64 ABI](http://www.x86-64.org/documentation/abi.pdf)的更多信息以了解如何`crt0.o`设置堆栈）

如果你初始化`variable=NULL;` 你会得到一个`SIGSEGV`

# javascript - 在 IE 中使用 JQuery 拦截表单失败

> ID：11573089
> 
> 赞同：3
> 
> 时间：2012-07-20T04:52:38.973
> 
> 标签：javascript, jquery, forms, internet-explorer, submit

我正在使用 JQuery 拦截表单，但它在任何版本的 IE 中都不起作用。有没有人有任何提示？我尝试了 form.submit() 但发现它在 Firefox 中存在问题。任何帮助将不胜感激。

```
$(document).ready(function() {
    $("form").submit(function(e) {
        if (e.originalEvent.explicitOriginalTarget.id == "myButton") {
            if (some status is true continue to submit the form)
                return true;
                //If the status above is false continue to prompt the user if they want to submit or not
            var ok = confirm('Do you really want to save your data?');
            if (ok) {                
                return true;
            }
            else {
                //Prevent the submit event and remain on the screen
                e.preventDefault();
                return false;
            }
        }
    });

    return;
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:23:48.773

您是否尝试以某种方式附加到按钮的单击事件？我在这里的示例中选择了一个任意选择器。

```
$(".submit").click(function(e) {
    if (e.target.id === "go1") {
        alert("we're good!");
        return true;
    }

    e.preventDefault();
    return false;
}); 
```

这是一个jsfiddle：http: [//jsfiddle.net/qRbQe/](http://jsfiddle.net/qRbQe/)

由于`e.originalEvent.explicitOriginalTarget`是 Mozilla 特定的并且旨在供插件开发人员而非 Web 应用程序开发人员使用，因此我认为没有办法做到这一点，因为您在处理事件时没有获得触发事件的元素`submit`。

# mysql - 如何在 mysql 查询中对字符串的数字部分执行计算

> ID：11573092
> 
> 赞同：0
> 
> 时间：2012-07-20T04:53:09.093
> 
> 标签：mysql

由于我的客户的一些限制，我需要在单个 mysql 查询中执行此操作。

我有一个`varchar`字段，其值如下：`3,050 wheels` 我有另一个`integer`字段，其值：`2`

我需要查询返回我`6,100 wheels`。

我可能可以`CONVERT`用来将 3,050 转换为数字，但我不知道如何找到 的索引`" "`，而且输出再次需要用逗号格式化并与字符串（非数字）部分连接起来。

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T05:08:12.343

用于`SUBSTRING_INDEX`选择字符串的适当部分，`FORMAT`并将数字转换回字符串。

所有的功能都在[这里](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html)描述。

```
CONCAT(FORMAT(CONVERT(SUBSTRING_INDEX(f, ' ', 1), UNSIGNED) * g, 0),
       ' ',
       SUBSTRING_INDEX(f,' ',-1)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:00:43.003

您可以使用[SUBSTRING](http://dev.mysql.com/doc/refman/5.6/en/string-functions.html#function_substring)和[CAST](http://dev.mysql.com/doc/refman/5.6/en/cast-functions.html#function_cast)：

```
SELECT  CAST(SUBSTRING_INDEX(field1, ' ', -1) AS UNSIGNED)*field2 as result,  FROM tableName ; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T05:14:32.367

这可能对您有用：

```
CONCAT( FORMAT( CAST( REPLACE( LEFT( field1, locate( ' ', field1 )-1 ), ',', '' ) AS UNSIGNED ) * field2, 0 ),
        MID( field1, LOCATE( ' ', field1 ))) 
```

它应该在 中的初始数值之后重新附加任意数量的文本`field1`。所以`3,500 wheels and spikes`应该变成`7,000 wheels and spikes`if `field2`contains `2`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-20T05:19:34.503

要检查字段中是否存在数字，然后使用[MySQL 正则表达式方法](http://dev.mysql.com/doc/refman/5.1/en/regexp.html#operator_regexp)，查找索引，您可以使用[SUBSTRING_INDEX](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_substring-index)并且您可以继续进行进一步计算，例如

```
SELECT CONVERT(
    CONCAT(
        SUBSTRING_INDEX(field,",",1),
        SUBSTRING_INDEX(
            SUBSTRING_INDEX(field,",",-1), " ", 1)
             ), UNSIGNED) AS NO
FROM table_name
WHERE field REGEXP '[0-9]'; 
```

希望这对你有用...

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-20T05:45:30.410

试试这个查询

```
 select 
    concat( convert(substring_index(fieldName, ' ', 1 ), decimal) * intField,
    ',', substr(fieldName, length(substring_index(fieldName, ' ', 1))+1)) 
     as yourField
    from tableName 
```

# oauth-2.0 - 试图了解 OAuth2 流程

> ID：11573095
> 
> 赞同：2
> 
> 时间：2012-07-20T04:53:34.883
> 
> 标签：oauth-2.0

所以，我正在使用 OAuth2 实现一个提供者。

我得到了客户申请client_id和client_secret的部分。这将它们唯一地标识给提供者。

那么，既然他们有了这个，并且他们正在使用 SSL，为什么需要授权令牌？然后，在那之后，为什么需要授权码？

另外，为什么要刷新令牌？

为什么我们不能只使用 client_id 和 client_secret？我确实得到了基于最终用户授权保护的资源，需要额外的授权。这很有意义。但为什么要使用身份验证令牌和代码？

最后，不受最终用户保护的资源是否需要所有这些？

所以，我想有 5 个不同的问题可以帮助我理解：

1.  为什么是身份验证令牌？
2.  为什么是授权码？
3.  为什么要刷新令牌？
4.  为什么不将客户端凭据用于不受保护的资源（或者我们可以）？
5.  为什么要*同时*使用身份验证令牌和代码？（我想这可能会被 1 和 2 回答）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-29T01:03:19.983

很抱歉发布了 necroposting，我希望这对某人将来的参考有用。

首先它们被称为`Authorization Code`and `Access Token`。

1.  `Access Token`是一个字符串，表示访问资源的权限
2.  `Authorization Code`代表资源所有者给予客户端的授权。在大多数情况下，资源所有者是拥有服务器上某些资源的最终用户。客户想要访问这些资源，所以他需要用户的授权。
3.  `Refresh Token`用于更新过期`Access Tokens`的。通常，访问令牌的生命周期为几分钟，而刷新在数月/年/无论如何之后到期。您使用访问权限；当它们变老时，您可以使用刷新令牌来获取新的访问令牌。请注意，在 OAuth1 中，只有一种类型的令牌也持续了数月。引入了短期令牌以提高协议安全性。
4.  我想我没有理解。如果资源不受保护，请不要使用 OAuth！无论如何，当您认为客户端**是**资源所有者时，可以使用[客户端凭据授予（](https://www.rfc-editor.org/rfc/rfc6749#section-4.4)[这里是一个示例](https://datatracker.ietf.org/doc/html/draft-ietf-oauth-use-cases-03#section-2.6)。
***   见 1\. 和 2\. 它们是不同的，它们也可以通过两个不同的通道发送（但我仍然没有找到不同通道的使用）。**

 **简而言之，当客户端拥有授权码时，他对授权服务器（AS）说：“ehi，资源所有者说我可以访问资源！” AS 给客户端一个访问令牌。现在他有了令牌，客户端转到资源服务器：“授权服务器说我可以访问资源，看看我的令牌”，他得到了资源。

请注意，有 4 个流程，每个流程都使用不同类型的 Authorization **Grant**，其中只有一个是 Authorization **Code**。都是言辞。关于机制，首先阅读[这个（有点过时的）介绍](http://hueniverse.com/2010/05/introducing-oauth-2-0/)，然后再阅读[RFC 6749](https://www.rfc-editor.org/rfc/rfc6749)，记住这些事情。

希望您现在有一个更清晰的想法。**

# .net - ExtJS 4: Saving record in record edit form to server and update grid store

> ID：11573098
> 
> 赞同：3
> 
> 时间：2012-07-20T04:54:12.170
> 
> 标签：.net, extjs, proxy, save, asmx

Below, I have a grid of project records. I'm loading the project record list via an asmx web service. I'm returning a List object in .NET via a json proxy to my project list store. Each Project object binds to my Project model. Double clicking a row in the project list grid launches the Project Edit form.

I'm struggling with saving an edit to a record in my popup form (widget.projectedit) after clicking the "Save" button. I'm not sure whether I should be sending my update to the project store and syncing my store with my proxy, or setting up a separate store and proxy for a single Project record, and then just refresh my project store and view.

"editProject" is being called to launch my form. I want "updateProject" to update my record, but I don't have a delegate for it yet (I'm not invoking/calling it in the code below).

**Specific questions:**

*How do I call the "updateProject" function?*

*How do I update my project list grid store?*

*What code changes do I need? (I can figure out what code to put in the asmx service.. I just need help with the JavaScript code)*

![enter image description here](../Images/75e923a1d2f21f6a8c2066232be83e77.png)

**ProjectList.ascx**

```
<%@ Control Language="C#" AutoEventWireup="true" CodeBehind="ProjectList.ascx.cs" Inherits="Web.Controls.ProjectList.ProjectList" %>

<div id="example-grid"></div>

<asp:ScriptManager ID="PageScriptManager" runat="server">
    <Services>
        <asp:ServiceReference Path="~/WebService1.asmx" InlineScript="false" />
    </Services>
    <Scripts>
        <asp:ScriptReference Path="~/ext-4/ext-all-debug.js" />
        <asp:ScriptReference Path="~/Controls/ProjectList/ProjectList.js" />
        <asp:ScriptReference Path="~/Controls/ProjectList/Proxy.js" />
    </Scripts>
</asp:ScriptManager>

<script type="text/javascript">

    Ext.require([
    'Ext.grid.*',
    'Ext.data.*',
    'Ext.panel.*',
    'Ext.layout.container.Border'
]);

    Ext.namespace('EXT');

    Ext.define('Project', {
        extend: 'Ext.data.Model',
        fields: [
        'project_id',
        'project_name',
        'project_number'
    ]
    });

    Ext.define('ProjectEdit', {
        extend: 'Ext.window.Window',
        alias: 'widget.projectedit',

        title: 'Edit Project',
        layout: 'fit',
        autoShow: true,

        initComponent: function () {
            this.items = [
                {
                    xtype: 'form',
                    items: [
                        {
                            xtype: 'textfield',
                            name: 'project_id',
                            fieldLabel: 'Project ID'
                        },
                        {
                            xtype: 'textfield',
                            name: 'project_number',
                            fieldLabel: 'Project Number'
                        },
                        {
                            xtype: 'textfield',
                            name: 'project_name',
                            fieldLabel: 'Project Name'
                        }
                    ]
                }
            ];

            this.buttons = [
                {
                    text: 'Save',
                    action: 'save'
                },
                {
                    text: 'Cancel',
                    scope: this,
                    handler: this.close
                }
            ];

            this.callParent(arguments);
        }
    });

    var store = new Ext.data.Store(
{
    proxy: new Ext.ux.AspWebAjaxProxy({
        url: 'http://localhost/WebService1.asmx/GetProjects',
        actionMethods: {
            create: 'POST',
            destroy: 'DELETE',
            read: 'POST',
            update: 'POST'
        },
        extraParams: {
            myTest: 'a',
            bar: 'foo'
        },
        reader: {
            type: 'json',
            model: 'Project',
            root: 'd'
        },
        headers: {
            'Content-Type': 'application/json; charset=utf-8'
        }
    })
});

    Ext.define('ProjectGrid', {
        extend: 'Ext.grid.Panel',

        initComponent: function () {
            var me = this;

            Ext.applyIf(me, {
                store: store,
                columns: [
                    { text: 'Project ID', width: 180, dataIndex: 'project_id', sortable: true },
                    { text: 'Project Number', width: 180, dataIndex: 'project_number', sortable: true },
                    { text: 'Project Name', width: 180, dataIndex: 'project_name', sortable: true }
                ],
                listeners: {
                    itemdblclick: this.editProject
                }
            });

            me.callParent(arguments);
        },

        editProject: function (grid, record) {
            var view = Ext.widget('projectedit');
            view.down('form').loadRecord(record);
        },

        updateProject: function (button) {
            var win = button.up('window'),
            form = win.down('form'),
            record = form.getRecord(),
            values = form.getValues();

            record.set(values);
            win.close();
            // synchronize the store after editing the record
            this.getProjectStore().sync();
        }
    });

    // create the grid
    var grid = Ext.create('ProjectGrid', {
        title: 'Project List',
        renderTo: 'example-grid',
        width: 540,
        height: 200
    });

    store.load();

</script> 
```

**Web Service:**

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Services;
using System.Xml;
using System.Data;
using System.Web.Script.Services;
using System.IO;
using System.Text;

namespace Web
{
    /// <summary>
    /// Summary description for WebService1
    /// </summary>
    [WebService(Namespace = "http://tempuri.org/")]
    [WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]
    [System.ComponentModel.ToolboxItem(false)]
    // To allow this Web Service to be called from script, using ASP.NET AJAX, uncomment the following line. 
    [System.Web.Script.Services.ScriptService]
    public class WebService1 : System.Web.Services.WebService
    {
        public class Project
        {
            public string project_id;
            public string project_number;
            public string project_name;
        }

        [WebMethod]
        [ScriptMethod(ResponseFormat = ResponseFormat.Json,
            UseHttpGet = false, XmlSerializeString = false)]
        public List<Project> GetProjects(string myTest, string bar)
        {
            var list = new List<Project>(new[] {
                new Project() {project_id="1", project_name="project 1", project_number="001"},
                new Project() {project_id="2", project_name= "project 2", project_number= "002" },
                new Project() {project_id="3", project_name= "project 3", project_number= "003" }
            });

            return list;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T07:12:18.040

You need to decide:

ONE: load and save a model in the editor window independently.

sample code: [http://jsfiddle.net/el_chief/rUaV3/4/](http://jsfiddle.net/el_chief/rUaV3/4/)

(above ajax saving is fake, so you won't see update on the grid).

TWO: pass in the model from the caller, and save the model in the caller.

sample code: [http://jsfiddle.net/el_chief/5jjBS/4/](http://jsfiddle.net/el_chief/5jjBS/4/)

ONE is a bit slower, but everything is independent and you can test them independently too.-

Also, if you pass in the model from the caller and the user makes changes and then closes the child window, those changes MAY appear in the caller (depending how you do your view/model syncing).

Also, oftentimes, you will want to only grab a few fields to display on grids, but show all the fields on an item-view form. In which case, you need option ONE.

Either way, you should pass in a callback function to the child window, that it calls when it is "done". This way you can get back any data needed from the child window, and close it if need be.

You don't need a singular store for the window either. You should put your proxies on your models (the store uses its models proxy and you can always override it)

One key aspect to saving is that you need to return some data, usually a full record like:

```
{
success:true,
contacts:[
{
id:1,
name:'neil mcguigan updated record'
}
]
} 
```

# hadoop - 没有 KeyValueTextOutputFormat？

> ID：11573102
> 
> 赞同：3
> 
> 时间：2012-07-20T04:54:38.040
> 
> 标签：hadoop, mapreduce

KeyValueTextInputFormat对应的OutputFormat类是什么？我想在输出中的键和值之间放置一些分隔符。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-20T10:31:02.810

TextOutputFormat 会写出`<Text, Text>`对。

`mapred.textoutputformat.separator`您可以通过设置属性来定义分隔符（默认为制表符） 。请注意此属性已更改为`mapreduce.output.textoutputformat.separator`2.0.0+ hadoopd

# javascript - 启用滚动时如何拖放

> ID：11573103
> 
> 赞同：0
> 
> 时间：2012-07-20T04:54:41.447
> 
> 标签：javascript, jquery, drag-and-drop, scroll

我正在使用 JavaScript 并遇到问题，需要专家的帮助。这是我的场景，我有一个 div，里面有两个 div。我希望我的外部 div 是可拖动的，我的一个内部 div 中有一个滚动选项

```
<div id = "par" class "ui-draggable" style="position: relative; height: 200px; width: 540px;">

    <div width="440" height="182" style="float: left;">
    </div>

    <div style="width: 100px; height: 182px; float: left; overflow-x: auto; overflow-y: auto; ">
    </div>

</div> 
```

然后我编写了以下代码以使我的 div 可拖动

```
 $('#par').draggable(); 
```

它工作正常并且是可拖动的。但是我现在遇到了一个问题，当我单击滚动条然后尝试放下我的 div 时。我没有放下。知道我做错了什么或者有没有办法纠正它。我使用 chrome 浏览器。它在 fire fox 中运行良好，但在 chrome 中运行良好 这是 Jsfiddle [http://jsfiddle.net/xhMgu/的链接](http://jsfiddle.net/xhMgu/)

感谢任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:16:37.903

您应该使用可拖动组件的“句柄”选项。使用它，您将拖动手柄委托给另一个标签。如果您将顶部容器用作可拖动的（默认行为），您将遇到您所说的问题。看看我的答案：[jQuery UI drag and drop issue with scroll](https://stackoverflow.com/questions/11533864/jquery-ui-drag-and-drop-issue-with-scroll/)

# android - 适用于 Android 的自签名证书和 loopj

> ID：11573108
> 
> 赞同：14
> 
> 时间：2012-07-20T04:55:24.140
> 
> 标签：android, loopj

我正在尝试使用*[loopj](http://loopj.com/android-async-http)*发出*异步* `HTTP`请求。效果很好，除非我尝试使用自签名证书访问 https 站点。我明白了

```
javax.net.ssl.SSLPeerUnverifiedException: No peer certificate. 
```

我猜默认的*ssl*选项可以覆盖 using`setSSLSocketFactory(SSLSocketFactory sslSocketFactory)`方法，但我不知道该怎么做，或者它可能根本不是正确的方法。

请建议我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-08-22T23:34:32.173

您所做的几乎与此处为 HttpClient 解释的完全相同，只是稍微简单一点 -[使用 HttpClient over HTTPS 信任所有证书](https://stackoverflow.com/questions/2642777/trusting-all-certificates-using-httpclient-over-https)

创建一个自定义类：

```
import java.io.IOException;
import java.net.Socket;
import java.net.UnknownHostException;
import java.security.KeyManagementException;
import java.security.KeyStore;
import java.security.KeyStoreException;
import java.security.NoSuchAlgorithmException;
import java.security.UnrecoverableKeyException;
import java.security.cert.CertificateException;
import java.security.cert.X509Certificate;

import javax.net.ssl.SSLContext;
import javax.net.ssl.TrustManager;
import javax.net.ssl.X509TrustManager;

import org.apache.http.conn.ssl.SSLSocketFactory;
public class MySSLSocketFactory extends SSLSocketFactory {
    SSLContext sslContext = SSLContext.getInstance("TLS");

    public MySSLSocketFactory(KeyStore truststore) throws NoSuchAlgorithmException, KeyManagementException, KeyStoreException, UnrecoverableKeyException {
        super(truststore);

        TrustManager tm = new X509TrustManager() {
            public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {
            }

            public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {
            }

            public X509Certificate[] getAcceptedIssuers() {
                return null;
            }
        };

        sslContext.init(null, new TrustManager[] { tm }, null);
    }

    @Override
    public Socket createSocket(Socket socket, String host, int port, boolean autoClose) throws IOException, UnknownHostException {
        return sslContext.getSocketFactory().createSocket(socket, host, port, autoClose);
    }

    @Override
    public Socket createSocket() throws IOException {
        return sslContext.getSocketFactory().createSocket();
    }
} 
```

然后，当您创建客户端实例时：

```
try {
      KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());
      trustStore.load(null, null);
      sf = new MySSLSocketFactory(trustStore);
      sf.setHostnameVerifier(MySSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);
      client.setSSLSocketFactory(sf);   
    }
    catch (Exception e) {   
    } 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-07-29T14:55:51.743

您可以使用构造函数 AsyncHttpClient(boolean fixNoHttpResponseException, int httpPort, int httpsPort)。从版本 loopj 库 1.4.4 和更大。例如

```
mClient = new AsyncHttpClient(true, 80, 443); 
```

并且您会在详细日志中收到向 logcat 发出的警告消息。

> ```
> Beware! Using the fix is insecure, as it doesn't verify SSL certificates. 
> ```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2015-01-29T18:38:25.863

更简单的方法是在 loopj 中使用内置的 MySSLSocketFactory，因此您不必创建另一个类

```
try {
        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());
        trustStore.load(null, null);
        MySSLSocketFactory sf = new MySSLSocketFactory(trustStore);
        sf.setHostnameVerifier(MySSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);
        client.setSSLSocketFactory(sf);
}
catch (Exception e) {} 
```

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2016-03-07T19:40:39.607

正如许多地方所解释的那样，简单地**绕过证书验证**在很多层面上都是错误的。不要那样做！

你应该做的是`.bks`从你的证书创建文件（为此你需要[Bouncy Castle](http://bouncycastle.org/latest_releases.html)）：

```
keytool -importcert -v -trustcacerts -file "path/to/certfile/certfile.crt" -alias IntermediateCA -keystore "outputname.bks" -provider org.bouncycastle.jce.provider.BouncyCastleProvider -providerpath "path/to/bouncycastle/bcprov-jdk15on-154.jar" -storetype BKS -storepass atleastsix 
```

接下来放置新创建的`outputname.bks`内部`res/raw`文件夹。

创建辅助函数（它可以在自己的类中或您喜欢的任何内容中）：

```
private static SSLSocketFactory getSocketFactory(Context ctx) {
        try {
            // Get an instance of the Bouncy Castle KeyStore format
            KeyStore trusted = KeyStore.getInstance("BKS");
            // Get the raw resource, which contains the keystore with
            // your trusted certificates (root and any intermediate certs)
            InputStream in = ctx.getResources().openRawResource(R.raw.outputname); //name of your keystore file here
            try {
                // Initialize the keystore with the provided trusted certificates
                // Provide the password of the keystore
                trusted.load(in, "atleastsix".toCharArray());
            } finally {
                in.close();
            }
            // Pass the keystore to the SSLSocketFactory. The factory is responsible
            // for the verification of the server certificate.
            SSLSocketFactory sf = new SSLSocketFactory(trusted);
            // Hostname verification from certificate
            // http://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html#d4e506
            sf.setHostnameVerifier(SSLSocketFactory.STRICT_HOSTNAME_VERIFIER); // This can be changed to less stricter verifiers, according to need
            return sf;
        } catch (Exception e) {
            throw new AssertionError(e);
        }
    } 
```

最后但同样重要的是，设置您`AsyncHttpClient`使用新的套接字工厂：

```
AsyncHttpClient client = new AsyncHttpClient();
client.setSSLSocketFactory(getSocketFactory(context)); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-20T05:29:27.960

在两个文档[HttpsUrlConnection](http://developer.android.com/reference/javax/net/ssl/HttpsURLConnection.html)和[Portecle](http://portecle.sourceforge.net/)`Https`的帮助下，`certificate`我已经成功地完成了它。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-10-18T18:15:43.780

**不要 NUKE 所有 SSL 证书.. 信任所有证书是一种不好的做法！！！**

*   仅接受您的 SSL 证书。

看看我的解决方案。此 Gist 中的一些内容可以帮助您了解如何执行此操作。

OBS.：我正在使用**Android Volley**。

[https://gist.github.com/ivanlmj/f11fb50d35fa1f2b9698bfb06aedcbcd](https://gist.github.com/ivanlmj/f11fb50d35fa1f2b9698bfb06aedcbcd)

# html - 如何使用 CSS 格式化 HTML 表格进行打印？

> ID：11573115
> 
> 赞同：5
> 
> 时间：2012-07-20T04:56:30.667
> 
> 标签：html, css

我想使用 CSS 格式化表格以显示出勤表。如何将 CSS 样式添加到表格以便打印？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T05:00:41.113

使用以下 CSS

```
table, th, td
{
  border-collapse:collapse;
  border: 1px solid black;
  width:100%;
  text-align:right;
} 
```

您也可以使用 media="print" 打印特定布局

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-20T05:09:04.840

在您的样式表中，使用

```
@media print {
  /* put your CSS rules if they are to apply in print only */
} 
```

例如，

```
@media print {
   * { color: black; background: white; }
   table { font-size: 80%; }
} 
```

详细信息取决于您希望在打印特定表格时遇到的问题类型。通常，如果您设置了固定的列宽（例如以像素为单位），您可能需要重新考虑您设计的这一部分。如果您使用颜色来传达重要信息（例如，红色单元格代表缺席，绿色代表出席），您需要重新考虑这个决定。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-20T05:00:34.470

使用`media="print"`CSS 样式表的属性来打印特定的布局。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-20T05:54:11.323

您可以使用 @media 规则将特定于媒体的 css 样式添加到页面

例如，`@media screen`将样式用于计算机屏幕并`@media print`用于打印机。

using`@media all`将确保您的样式应用于所有媒体类型设备

点击[链接](http://www.w3schools.com/css/css_mediatypes.asp)了解更多关于媒体类型的信息

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-20T06:55:50.000

纠正所有好的答案。

我要做的是制作一个特定的 css 文件仅用于打印并将其附加到页面：

```
<link href='/css/theme-print.css' rel='stylesheet' media="print" type='text/css' /> 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2018-03-22T13:03:22.523

你也可以使用

```
body {
-webkit-print-color-adjust:exact;
} 
```

# javascript - 在 javascript 的 oop 中使用 this

> ID：11573117
> 
> 赞同：-3
> 
> 时间：2012-07-20T04:57:05.090
> 
> 标签：javascript, javascript-objects

像这样的代码：

```
var Policy={
    initialize:function(){
        return function(){
               this.initialize.apply(this,arguments);
        };
    }
};
var AjaxLoadingPolicy= Policy.initialize();//(1)
AjaxLoadingPolicy.prototype={
    initialize:function(name){
        this.name=name;
    }
}; 
```

基于此代码，AjaxLoadingPolicy 是 (1) 中带有 this.initialize.apply(this,arguments) 的函数。但我真的不明白 this.initialize 是什么。以及为什么可以在 AjaxLoadingPolicy.prototype 中定义它？另外，apply 不是用于将超类优先级应用于实例吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:17:15.440

在代码中的 (1) 处，为*AjaxLoadingPolecy*的值分配了对具有主体的新函数对象的引用：

```
function(){
    this.initialize.apply(this,arguments);
}; 
```

何时调用该函数的值`this`只能通过查看它的调用方式来确定。如果它被简单地调用，`AjaxLoadingPolecy()`那么`this`将引用全局对象（或在严格模式下未定义）。

分配给的对象`AjaxLoadingPolecy.prototype`有一个由*AjaxLoadingPolecy*的实例（即由创建的对象）继承的*initialize*方法，它不是由*AjaxLoadingPolecy*本身继承的。*`new AjaxLoadingPolecy()`*

 **对象继承自其构造函数的公共原型（称为实例的内部`[[Prototype]]`），而不是它们自己的公共原型。

顺便说一句，在 OP 中，以下内容：

```
AjaxLoadingPolicy.prototype={
    initialize:function(name){
        this.name=name;
    }
}; 
```

与以下内容完全相同：

```
AjaxLoadingPolicy.prototype.initialize = function(name) {
    this.name=name;
}; 
```

第二个使用现有的原型对象，而前者替换它（使用更多代码并浪费对象的实例化）。

`apply`用于设置函数`this`和提供参数。Javascript 没有类（或超类），但`apply`可能`call`会在模拟该行为时使用。**

# ios - iOS：如何设置使用 Restkit 上传到服务器的图像名称

> ID：11573118
> 
> 赞同：0
> 
> 时间：2012-07-20T04:57:10.537
> 
> 标签：ios, ios5, restkit

我正在尝试将图像从手机上传到服务器。一切正常，除了使用下面的代码使用“头像”作为文件名。所以我想我的问题是，我让他们选择一张照片，或者用相机拍照。我是否知道它将是哪种类型的文件，即 png、jpg 或者我是否需要在上传之前弄清楚？

```
- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
{
    UIImage *image = [info objectForKey:UIImagePickerControllerEditedImage];

    //self.avatarImage = [[UIImageView alloc] init];
    self.avatarImage.image = image;
    [self dismissModalViewControllerAnimated:YES];

    RKParams* params = [RKParams params];

    NSData* imageData = UIImagePNGRepresentation(image);
    [params setData:imageData MIMEType:@"image/png" forParam:@"Avatar"];

    NSLog(@"RKParams HTTPHeaderValueForContentType = %@", [params HTTPHeaderValueForContentType]);
    NSLog(@"RKParams HTTPHeaderValueForContentLength = %d", [params HTTPHeaderValueForContentLength]);

    [[RKClient sharedClient] post:@"/user/updateavatar" params:params delegate:self];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:42:05.650

这一行是你的答案：

```
NSData* imageData = UIImagePNGRepresentation(image); 
```

您正在创建 PNG 图像。

# jsf - 加载主体时自动展开树

> ID：11573122
> 
> 赞同：3
> 
> 时间：2012-07-20T04:57:57.447
> 
> 标签：jsf, richfaces

大家好，我是 JSF 技术的新手，如何使用rich:tree 标签在加载页面时自动展开树。

```
<rich:tree switchType="client"
value="#{Bean.deviceServiceTreeRoot}" var="item">
<rich:treeNode>
<h:commandLink value="#{item.name}"
action="#{Bean.getLink()}"
style="color:blue;text-decoration:none;"
title="#{item.Description}">
<f:param name="productIDs" value="#{item.ID}"></f:param>
</h:commandLink>
</rich:treeNode>
</rich:tree> 
```

现在通过使用上面的代码，我可以显示一个树结构。上面存在于一个页面中单击提交按钮后，它将重定向到另一个页面在该页面中，我需要使树处于扩展模式我该如何实现是可能的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-15T12:23:25.613

```
<rich:treeNode expanded="#{true}"> 
```

为我成功了

# java - 在 java 中避免 != null 有什么好处？

> ID：11573124
> 
> 赞同：4
> 
> 时间：2012-07-20T04:58:49.397
> 
> 标签：java, null

我已阅读此主题：[避免！= null 语句](https://stackoverflow.com/questions/271526/avoiding-null-statements-in-java)，但我没有看到好处。

1.  如果返回空数组，则需要检查“真实”数组在哪里，以及空数组在哪里。

2.  而不是使用类似的代码`getName() != null`，您必须使用`getName().length > 0`. 举个例子，我正在做一个项目，我需要用很少的存档器压缩一些数据，并决定选择最小大小的压缩数据。如果我从归档程序“压缩”方法返回 null，我需要检查返回的值是否不为 null。如果我决定返回一个空数组，那么我还需要检查它是否为空。

我对吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-20T05:13:18.123

使用空集合或“空白”操作而不是 null 的主要优点是，大多数情况下，此类对象仍可在代码中工作而无需进一步修改。该`null`值的核心是由于其性质而更容易出错。

以下面的代码为例：

```
String[] names = data.getNames();
if (names != null) {
    for (String name : names) {
        // Do stuff
    }
} 
```

检查`null`是必需的，否则您将获得 NPE。使用标准 for 循环并不能解决问题。另一方面，如果你知道你总是会得到某种类型的数组，那么你的代码将可以正常工作*而*无需额外的检查。如果数组为空，则循环根本不会运行。问题解决了。

对于实现某种形式的操作的代码也是如此。另一个例子：

```
Action myAction = data.getActionToRun();
if (myAction != null) {
    myAction.run();
} 
```

再一次，你需要一张`null`支票。如果该动作保证存在，那么您始终可以调用`action.run()`而没有副作用，但空白动作不会做任何事情。就是这么简单。

在许多情况下，`null`如果您修改方法返回的方式，则可以简单地丢弃检查，从而生成更简单且易于理解的代码。在某些情况下，返回`null`是*正确*的选择（例如，从键和值的集合中获取对象），因为没有默认的“无动作”值。但是`null`表示根本没有值，并且需要接收方进行额外处理。使用空白、无操作、非空对象允许数据对象处理错误。这是很好的封装。是很好的编程。它只是工作。™</p>

最后，返回`null`肯定不是处理错误的好方法。如果您的代码中出现错误，除非您作为程序员犯了编程错误，否则*永远不会*`assert`出错，请使用s 或异常。这些都是失败。不要`null`用作失败案例，将其用作简单的缺少值。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-07-20T05:02:37.623

空数组有时是更自然的返回对象。考虑一些这样的代码：

```
String [] elements = getElements();

for (String element : elements)
   System.out.println(element); 
```

如果您返回一个空数组（即没有元素），则不会打印任何内容并且代码将正确执行。但是，如果 getElements() 返回 null，您将得到一个空指针异常。为了防止它，您需要添加更多代码，这会使事情变得更加复杂。返回一个空数组允许在没有额外代码的情况下发生所需的行为。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-21T14:10:17.943

我有过这样的想法。暂时搁置 NPE 问题。我将尝试从 OOP 的角度解释我的想法。

假设您编写了一个为 Glass 实例提供 getter 的类 `public Glass getGlass()`。当我读到这个签名时，我期待的是 Glass 接口的一些实例，而 null 不是一个。

你可以考虑下一种方法`public Optional<Glass> getGlass()`。

Optional 类（可以编写您自己的或使用[Google 的 guava Optional](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Optional.html)）包含您的通用类实例，同时提供*isPresent*函数等。这似乎是多余的原因'您可以只使用`getGlass() != null`而不是`getGlass().isPresent()`从您的客户端代码中使用。但这里的主要优点是签名很简单。没有人隐瞒什么，你也不必猜测。

因此，您将获得以下好处：

1.  避免 NPE
2.  直接签名
3.  干净的客户端代码

# java - Java数组类的成员

> ID：11573128
> 
> 赞同：4
> 
> 时间：2012-07-20T04:59:32.927
> 
> 标签：java

Reflexion API 表明任何 Java 数组类都实现了接口 java.lang.Cloneable 和 java.io.Serializable。它没有声明任何成员。

我的问题是：

*   这个“长度”是在哪里定义的？

*   使用协变返回类型（字节 [] 替换对象）使用公共访问说明符覆盖受保护对象 clone()，因为我们可以直接将其分配给字节 []？

*   与 Cloneable 和 Serializable 的关联（IS-A）在哪里定义？

byte[] 类的访问说明符还包含“abstract final”，它不是 Java 中任何类或方法的合法组合。

```
 import java.lang.reflect.*;

    public class ArrayExplorer {

      public static void main(String[] args) {
      explore("Current class:", byte[].class);

      byte[] bytes = { 65, 'A' };
      System.out.println(bytes.length);

      byte[] cloned = bytes.clone();
      System.out.println(cloned);

   }

private static void explore(String msg, Class<?> class1) {
    if (class1 == null)
        return;

    System.out.println("**************************************\n" + msg
            + Modifier.toString(class1.getModifiers()) + " " + class1);

    // if (class1 == Object.class)
    // return;
    Field[] fields = class1.getDeclaredFields();
    for (Field field : fields) {
        System.out.println(field);
    }

    Method[] methods = class1.getDeclaredMethods();
    for (Method method : methods) {
        System.out.println(method);
    }

    explore("Superclass:", class1.getSuperclass());
    explore("Classes:", class1.getClasses());
    explore("ComponentType:", class1.getComponentType());
    explore("DeclaredClasses:", class1.getDeclaredClasses());
    explore("DeclaringClass:", class1.getDeclaringClass());
    explore("EnclosingClass:", class1.getEnclosingClass());

    if (!class1.isInterface()) {
        explore("Interfaces:", class1.getInterfaces());
    }

}

private static void explore(String msg, Class<?>[] classes) {
    if (classes == null || classes.length == 0)
        return;
    System.out.println(msg);
    for (Class<?> class1 : classes) {
        explore("", class1);
    }
    }
  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:54:43.147

JavaDoc

```
getDeclaredMethods 
```

返回一个 Field 对象数组，反映由此 Class 对象表示的类或接口声明的所有字段。这包括公共、受保护、默认（包）访问和私有字段，但不包括继承的字段。返回的数组中的元素没有排序，也没有任何特定的顺序。**如果类或接口未声明任何字段，或者此 Class 对象表示原始类型、数组类或 void，则此方法返回长度为 0 的数组。**

```
getDeclaredMethods 
```

返回一个 Field 对象数组，反映由此 Class 对象表示的类或接口声明的所有字段。这包括公共、受保护、默认（包）访问和私有字段，但不包括继承的字段。返回的数组中的元素没有排序，也没有任何特定的顺序。**如果类或接口未声明任何字段，或者此 Class 对象表示原始类型、数组类或 void，则此方法返回长度为 0 的数组。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:23:35.297

java中的数组有点像原语：虽然有一个`Array.class`表示它的数组，但它并没有真正的“代码”，因为类型是内置在语言中的，所以它的诸如`length`etc之类的字段不能通过反射访问.

# ios - 将 xib 中的子视图添加到自定义 UIView

> ID：11573129
> 
> 赞同：1
> 
> 时间：2012-07-20T04:59:33.960
> 
> 标签：ios, uiview

首先，我有一个存在`Asset.m/Asset.h`，它是`subclass of UIView`. 然后我创建一个空的 xib 文件并将 xib 文件的所有者类更改为 Asset。然后我为这个xib创建一个视图和一个标签，我可以`IBOutlet`在`UIView`.

```
IBOutlet UIView *videoOverlay;
IBOutlet UILabel *videoTimeLable; 
```

然后我想使用**addSubview将****videoOverlay**添加到 Asset.m 的视图中。

 **```
self = [super initWithFrame:CGRectMake(0, 0, 0, 0)];
        [self addSubview:videoOverlay]; 
```

但是视图——videoOverlay 没有出现。

我打印出videoOverlay的大小，全为0：

```
 NSLog(@"width =%f height= %f", videoOverlay.frame.size.width, videoOverlay.frame.size.height); 
```

为什么 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-02T03:06:40.643

最后，我自己找到了解决方案。使用下代码添加这个视图（videoOverlay和videoTimeLable属于这个视图）在：

```
UIView *thumbs;
    NSArray *nib = [[NSBundle mainBundle] loadNibNamed:@"ELCAsset" owner:self options:nil];
    thumbs = [nib objectAtIndex:0];
    [self addSubview:thumbs]; 
```

然后 videoOverlay 和 videoTimeLable 可以出现。**

# jquery - bxSlider 单选按钮问题

> ID：11573130
> 
> 赞同：1
> 
> 时间：2012-07-20T04:59:37.983
> 
> 标签：jquery, bxslider

我正在使用 bxSlider 根据一些问题滑动一组幻灯片。我正在使用单选按钮来触发下一个动作。

问题是单选按钮不会`div's`从第二张幻灯片开始切换。它在第一张幻灯片中运行良好。

创建了一个 jsFiddle 来演示问题 - [**jsFiddle Demo**](http://jsfiddle.net/neo108/bE4mw/4/)。为第一个问题选择是，然后出现响应文本。它不是第二个等等......

任何帮助是极大的赞赏。

下面的代码...

**HTML**

```
<div class="slider">
    <ul id="sample">
        <li>
            <div class="questions">
                Question 1<br />
                <p>
                    <label><input type="radio" name="q1" class="noAction" />No</label>
                    <label><input type="radio" name="q1" class="yesAction" />Yes</label>
                </p>
            </div>
            <div class="actions">
                <div id="noAction" style="display: none;">
                    <p>Thank you.</p>
                </div>
                <div id="yesAction" style="display: none;"><a href="" id="go-next1">Go to Question 2</a></div>
            </div>
        </li>
        <li>
            <div class="questions">
                Question 2<br />
                <p>
                    <label><input type="radio" name="q2" class="noAction1" />No</label>
                    <label><input type="radio" name="q2" class="yesAction1" />Yes</label>
                </p>
            </div>
            <div class="actions">
                <div id="noAction1" style="display: none;">
                    <p>Thank you.</p>
                </div>
                <div id="yesAction1" style="display: none;"><a href="" id="go-next2">Go to Question 3</a></div>
            </div>
        </li>        
    </ul>
</div>​ 
```

**jQuery**

```
 $(function() {
        var slider = $('#sample').bxSlider({
          infiniteLoop: false,
          controls: false
        });

        $('#go-next1').click(function(){
          slider.goToNextSlide();
          return false;
        });

        $('#go-next2').click(function(){
          slider.goToNextSlide();
          return false;
        });

        $(':radio').change(function() {
          var item = '#' + $(this).attr('class');
          $(item).toggle();
        });

    });​ 
```

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:08:55.770

很奇怪……问题出现在最后一张幻灯片上。我找到了一个解决方法，只需将 div class="actions" 移到 ul 标签之外，它就可以工作。

查看[jsFiddle demo forked上的修改](http://jsfiddle.net/corinnekm/hPpdU/5/)

# sql - SQL查询用管道符号替换逗号

> ID：11573133
> 
> 赞同：1
> 
> 时间：2012-07-20T04:59:56.270
> 
> 标签：sql, string

如何编写 SQL 查询以在字符串中用管道符号替换逗号，例如：`abc, def`.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T05:03:51.300

使用以下查询

```
update DATABASE_NAME.TABLE_NAME
  set FIELD_NAME = replace(
    FIELD_NAME,
    ‘find this string’,
    ‘replace found string with this string’
    ); 
```

你也可以只用于选择

```
SELECT REPLACE(‘www.mysql.com’, ‘w’, ‘Ww’); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T05:07:13.700

SQL 标准中没有这样的命令，但大多数供应商将这个函数实现为“replace()：

*   SQL Server：replace() [http://msdn.microsoft.com/en-us/library/ms181984.aspx](http://msdn.microsoft.com/en-us/library/ms181984.aspx)

*   甲骨文：replace() [http://www.oradev.com/oracle_string_functions.jsp](http://www.oradev.com/oracle_string_functions.jsp)

*   DB2：替换 () [http://publib.boulder.ibm.com/infocenter/dzichelp/v2r2/index.jsp?topic=%2Fcom.ibm.db2z10.doc.sqlref%2Fsrc%2Ftpc%2Fdb2z_scalarfunctionsintro.htm](http://publib.boulder.ibm.com/infocenter/dzichelp/v2r2/index.jsp?topic=%2Fcom.ibm.db2z10.doc.sqlref%2Fsrc%2Ftpc%2Fdb2z_scalarfunctionsintro.htm)

*   mySQL：replace() [http://dev.mysql.com/doc/refman/5.0/en/string-functions.html](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html)

以下是一些 SQL Server 示例：

*   [http://www.sqlteam.com/article/using-replace-in-an-update-statement](http://www.sqlteam.com/article/using-replace-in-an-update-statement)

`SELECT Replace('SQLTeam.com Rocks!', 'Rocks', 'is cool') -- returns literal`

`Update dbo.authors Set city = replace(city, 'Salt', 'Olympic'); -- Updates table`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T05:02:21.133

```
Declare @str varchar(100)='abc,def'
SELECT REPLACE(@str,',','|') 
```

# java - 我可以在 64 位操作系统上安装 32 位 jvm 吗？

> ID：11573137
> 
> 赞同：1
> 
> 时间：2012-07-20T05:00:38.757
> 
> 标签：java, jvm

我可以在 64 位操作系统上安装 32 位 jvm 吗？

我可以在 32 位操作系统上安装 64 位 jvm 吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T05:03:50.743

您可以在 64 位操作系统中安装 32 位 JVM，反之则不行。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-20T05:15:12.757

是的，有可能。在某些情况下，这是必要的。例如对于需要 JVM 才能工作的同一操作系统上的 32 位应用程序。这些 32 位应用程序无法使用 64 位 JVM，需要安装 32 位 JVM。

在 32 位操作系统上安装 64 位 JVM 是不可能的，它只是行不通。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-20T05:10:15.120

**1.**当然，你可以在 64 位操作系统中安装 32 位 JVM，因为我的操作系统提供了向下兼容性。

**2.**但是你不能在 32 位操作系统中安装 64 位 JVM。

# javascript - 从 Bootstrap Timepicker 获取时间

> ID：11573140
> 
> 赞同：5
> 
> 时间：2012-07-20T05:00:42.320
> 
> 标签：javascript, jquery, ruby-on-rails, twitter-bootstrap, timepicker

我正在尝试使用[getTime函数从](https://github.com/jdewit/bootstrap-timepicker/blob/master/js/bootstrap-timepicker.js)[Bootstrap Timepicker](http://jdewit.github.com/bootstrap-timepicker/)获取时间，但是当我按下按钮时，只会在控制台中收到一条错误消息（带有 my-button 的 ID，请参见下面的代码。）

**HTML**

```
<div class="input-append bootstrap-timepicker-component">
    <input type="text" class="timepicker input-small">
    <span class="add-on">
        <i class="icon-time"></i>
    </span>
</div> 
```

**JavaScript**

```
<script type="text/javascript">
  $('#my-button').on('click', function() {
    alert($('.timepicker').getTime());
  });

  $('.timepicker').timepicker({
    template : 'dropdown',
    showInputs: false,
    showSeconds: false
  });
</script> 
```

**控制台中的错误**

```
Uncaught TypeError: Object [object Object] has no method 'getTime' 
```

几个小时以来，我一直试图弄清楚这一点。我以为我可以使用源代码来学习如何使用选择器，它看起来像有一个 getTime() 函数，但我一生都无法弄清楚如何使用它。我正在使用 Rails，因为它的价值。多谢你们！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-18T01:47:29.887

FWIW 可以调用`getTime()`，但不能直接调用，因为`$('.timepicker')`从 DOM 返回 <input> 元素，而不是实际的 timepicker 对象。

文档中没有提到它，但是如果您查看 bootstrap-timepicker.js 源代码，那么绑定函数 ( `$.fn.timepicker`) 使用 jQuery 的 data() 功能针对 DOM 元素存储对实际 timepicker 对象的引用。

所以，这有效：

```
$('.timepicker').data("timepicker").getTime(); 
```

（当然`getTime()`仍然只是返回一个字符串，因此在这种情况下，父母使用 val() 的建议可能更清晰，除非您认为可能在字段中键入了无效数据，并且尚未被时间选择器清除。）

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2015-05-31T08:42:54.120

```
$('#ReportingTime').data('timepicker').hour;

$('#ReportingTime').data('timepicker').minute;

$('#ReportingTime').data('timepicker').meridian; 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-07-20T05:14:59.760

这不是一个公共函数，getTime 方法是该函数私有的。意味着您无法访问它。

如果您想获得时间，只需执行 a`.val();`并解析它。或者您可以修改脚本以公开`.getTime();`功能。

# java - JNLP 版本控制的 Java Webstart 证书问题

> ID：11573144
> 
> 赞同：5
> 
> 时间：2012-07-20T05:00:55.340
> 
> 标签：java, certificate, jnlp, java-web-start

嗨，我对 Java Webstart 有疑问。我们有一个启用版本控制的 JNLP 配置，即：

```
 <property name="jnlp.versionEnabled" value="true"/> 
```

我们正在使用每个 jar 的版本号，例如：

`<jar href="project.jar" version="2.5.7.0"/>`.

我们还使用 Maven Jar 签名者插件对我们的应用程序 jar 进行签名。

到目前为止，你说的一切都很好。

好吧，每次我们发布应用程序的新版本时，我们都会使用每个 jar 的新版本号更改 JNLP 文件（并非所有 jar 都会更改版本），但与上面的 project.jar 示例一样，我们可以说这个版本号从 2.5 开始增加。 7.0 到 2.5.7.1。例如

`<jar href="project.jar" version="2.5.7.1"/>`.

当我们的用户通过 JNLP 文件下载新应用程序时，他们会收到以下错误：

```
#### Java Web Start Error:
#### JAR resources in JNLP file are not signed by same certificate 
```

我在 Webstart 中添加了额外的 DEBUG，并在 Java Concole 中发现了以下错误：

```
security: Validating cached jar url=http://servername/lib/project_V2.5.7.1.jar ffile=C:\Documents and Settings\username\Application Data\Sun\Java\Deployment\cache\6.0\10\57344cca-719709af-2.5.7.1- com.sun.deploy.cache.CachedJarFile@11e1bbf
security: Have 0 common certificates after processing http://servername/lib/project.jar
network: Remove cache entry: http:///lib/project__V2.5.7.1.jar 
```

似乎 Webstart 正在尝试检查名为 project_V2.5.7.1.jar 的 jar（不存在）的本地缓存，因为它是新版本/下载的一部分。

由于找不到 JAR，它假定证书不匹配 - 因此出现错误：

```
JAR resources in JNLP file are not signed by same certificate. 
```

我假设这是 Webstart 错误！这给我们带来了很大的痛苦，因为我们现在必须在每次发布之前手动清除 webstart 缓存 - 对于每个用户。

有人有类似的问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T05:37:45.977

我认为根据我的经验，可能发生的情况是，一旦您将版本号从 2.5.7.0 增加到 2.5.7.1 并再次对 jar 进行签名而不删除较旧的清单条目，那么 webstart 往往会认为资源未签名由相同的证书。您可以尝试的一件事可能会有所帮助：

> 解压导致问题的 jar，从中清除所有 META-INF 目录，将其 jar 并再次签名。

让我知道这是否有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T02:13:29.287

根据您的问题“好吧，每次我们发布应用程序的新版本时，我们都会使用每个 jar 的新版本号更改 JNLP 文件（并非所有 jar 都会更改版本）”

那么您是否也更改了其他 jar 的版本号？

当您使用新证书对jar文件进行签名时，您必须更改所有jar文件的版本号，否则版本号相同但由新证书签名的jar文件将无法下载并导致问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-18T10:57:13.497

我还解决了使用我用于 jar 的相同证书对我的 jnlp 文件中包含的两个 jar 文件进行签名的问题。

这是我的 jnlp 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<jnlp spec="1.0+" codebase="http://10.37.177.100:8085/AFM/resources/client/" href="AFMTray.jnlp">
<information>
    <title>AFMTray</title>
    <vendor>andreagirardi.it</vendor>
</information>

<security>
    <all-permissions />
</security>

<resources>
    <j2se version="1.4+" />
    <jar href="AFMTray.jar" />
    <property name="jnlp.versionEnabled" value="true"/>
</resources>

<resources os="Windows" arch="x86">
    <jar href="swt-windows.jar" />
</resources>

<resources os="Mac\ OS\ X" arch="x86_64">  
    <jar href="swt-osx.jar" />
</resources>  

<resources os="Mac\ OS\ X" arch="i386 x86">  
    <jar href="swt-osx.jar" />
</resources>  

<application-desc main-class="com.afm.TryLuncher" />

<shortcut online="true">
    <desktop/>
    <menu submenu="Esecuzione automatica"/>
</shortcut> 
```

因此，我使用用于**AFMTray.jar的相同证书签署了****swt-osx.jar**和**swt-windows.jar**

# internet-explorer - 如何正确组合 CSS 文件

> ID：11573146
> 
> 赞同：0
> 
> 时间：2012-07-20T05:01:06.293
> 
> 标签：internet-explorer, css

我有大约 10 个 css 文件。当我使用链接标签一个接一个地链接它们时，即

```
<link rel="stylesheet" type="text/css" src="..." 
```

一切都在所有浏览器中正确加载。但是，当我将所有文件串成一个文件时，css 在 IE 中中断。

在 FF、chrome 和 safari 中运行良好。我什至尝试验证 css 只是一堆警告

有什么想法吗 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T07:14:52.453

听起来这取决于连接 CSS 文件的方式。这没有指定，但我测试了使用 BOM 编码的 UTF-8 文件（例如，在保存为 UTF-8 时由记事本生成）。如果使用简单连接字节序列的方法连接此类文件，这意味着 BOM U+FEFF 也出现在结果文件中，而不仅仅是在开头。这使它出现在 CSS 规则之间，导致语法错误（应该由 W3C CSS 验证器报告，但可能在警告中没有注意到错误消息）。在浏览器中，这个语法错误似乎会导致下一个 CSS 规则被忽略。

所以这是推测性的，但如果出现在某些原始 CSS 文件开头的规则对于 IE 渲染是必不可少的，但在其他浏览器上不是，那么这些症状是可以理解的。那么解决方案当然是在没有 BOM 的情况下连接文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:04:20.213

您可以使用条件 IE 标签来处理 IE 的奇怪异常...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T06:47:18.163

您是否尝试过使用 import 并使用以下结构制作一个名为 global.css 的 css：

```
@import url('/css/typography.css');
@import url('/css/layout.css');
@import url('/css/color.css');

/* All three CSS files above will be loaded from
   this single document. */ 
```

# mysql - Rails 3 ActiveRecord 从单表中选择父子递归

> ID：11573163
> 
> 赞同：2
> 
> 时间：2012-07-20T05:02:57.703
> 
> 标签：mysql, ruby-on-rails-3, activerecord, queryinterface

我有一个名为类别的表，其中表结构和数据是

```
id | parent_id | name
------------------------
1  | 0         | Computers    // parent
2  | 0         | TV           // parent
4  | 1         | Motherboards // child - to - id(1)
5  | 4         | Mercury
6  | 5         | Mecrury XXX
7  | 6         | Mecrury YYY 
```

（其中**parent_id**是另一行的**id ）**

展示如何使用**Rails3 Activerecord 查询接口**获取父/子结果。（或任何其他解决方案）。

如果我搜索计算机，我如何获得该父类别下的所有子项 -> 超级子项。

```
Example Result will - Computers -> Motherboards -> Mercury XXX -> Mercury YYY 
```

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T05:28:14.403

您应该看看[令人敬畏的嵌套设置](https://github.com/collectiveidea/awesome_nested_set)gem。

它允许您调用类似这样的方法来获取所有后代节点：

```
Node.root.self_and_descendants 
```

[祖先](https://github.com/stefankroes/ancestry)似乎也不错，尽管我自己没有使用过。

这两个 gem 都需要迁移您的数据，但这样做会更好，因为仅使用 parent_id 来导航子节点并不是最有效的。

# iphone - UIWebView 查看自签名网站（没有私有 api，不是 NSURLConnection） - 有可能吗？

> ID：11573164
> 
> 赞同：51
> 
> 时间：2012-07-20T05:03:06.840
> 
> 标签：iphone, ios, uiwebview

有很多问题会问这个问题：我可以`UIWebView`查看自签名的 HTTPS 网站吗？

答案总是涉及：

1.  使用私有 api 调用`NSURLRequest`：`allowsAnyHTTPSCertificateForHost`
2.  改为使用`NSURLConnection`委托`canAuthenticateAgainstProtectionSpace`等

对我来说，这些都行不通。
(1) - 表示我无法成功提交到应用商店。
(2) - 使用 NSURLConnection 意味着在收到初始 HTML 页面后必须从服务器获取的 CSS、图像和其他内容不加载。

请问有谁知道如何使用 UIWebView 查看自签名的 https 网页，不涉及上述两种方法？

或者——如果 using`NSURLConnection`实际上可以用来渲染一个包含 CSS、图像和其他所有内容的网页——那就太好了！

干杯，
舒展。

* * *

## 回答 #1

> 赞同：76
> 
> 时间：2012-07-26T07:06:54.770

最后我得到了它！

你可以做的是：

`UIWebView`使用正常发起您的请求。然后 - 在`webView:shouldStartLoadWithRequest`- 我们回复**NO**，而是用相同的请求启动一个 NSURLConnection 。

使用`NSURLConnection`，您可以与自签名服务器通信，因为我们有能力通过额外的委托方法来控制身份验证，而`UIWebView`. 因此，`connection:didReceiveAuthenticationChallenge`我们可以使用自签名服务器进行身份验证。

然后，在 中`connection:didReceiveData`，我们取消`NSURLConnection`请求，并使用`UIWebView`- 再次启动相同的请求，这将起作用，因为我们已经通过了服务器身份验证:)

下面是相关的代码片段。

注意：您将看到的实例变量属于以下类型：
`UIWebView *_web`
`NSURLConnection *_urlConnection`
`NSURLRequest *_request`

（我使用实例 var，`_request`因为在我的情况下，它是一个包含大量登录详细信息的 POST，但如果需要，您可以更改为使用传入的请求作为方法的参数。）

```
#pragma mark - Webview delegate

// Note: This method is particularly important. As the server is using a self signed certificate,
// we cannot use just UIWebView - as it doesn't allow for using self-certs. Instead, we stop the
// request in this method below, create an NSURLConnection (which can allow self-certs via the delegate methods
// which UIWebView does not have), authenticate using NSURLConnection, then use another UIWebView to complete
// the loading and viewing of the page. See connection:didReceiveAuthenticationChallenge to see how this works.
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType;
{
    NSLog(@"Did start loading: %@ auth:%d", [[request URL] absoluteString], _authenticated);

    if (!_authenticated) {
        _authenticated = NO;

        _urlConnection = [[NSURLConnection alloc] initWithRequest:_request delegate:self];

        [_urlConnection start];

        return NO;
    }

    return YES;
}

#pragma mark - NURLConnection delegate

- (void)connection:(NSURLConnection *)connection didReceiveAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge;
{
    NSLog(@"WebController Got auth challange via NSURLConnection");

    if ([challenge previousFailureCount] == 0)
    {
        _authenticated = YES;

        NSURLCredential *credential = [NSURLCredential credentialForTrust:challenge.protectionSpace.serverTrust];

        [challenge.sender useCredential:credential forAuthenticationChallenge:challenge];

    } else
    {
        [[challenge sender] cancelAuthenticationChallenge:challenge];
    }
}

- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response;
{
    NSLog(@"WebController received response via NSURLConnection");

    // remake a webview call now that authentication has passed ok.
    _authenticated = YES;
    [_web loadRequest:_request];

    // Cancel the URL connection otherwise we double up (webview + url connection, same url = no good!)
    [_urlConnection cancel];
}

// We use this method is to accept an untrusted site which unfortunately we need to do, as our PVM servers are self signed.
- (BOOL)connection:(NSURLConnection *)connection canAuthenticateAgainstProtectionSpace:(NSURLProtectionSpace *)protectionSpace
{
    return [protectionSpace.authenticationMethod isEqualToString:NSURLAuthenticationMethodServerTrust];
} 
```

我希望这可以帮助其他人解决我遇到的同样问题！

* * *

## 回答 #2

> 赞同：65
> 
> 时间：2013-02-25T18:59:13.797

Stretch 的答案似乎是一个很好的解决方法，但它使用了已弃用的 API。所以，我认为它可能值得升级代码。

对于此代码示例，我将例程添加到包含我的 UIWebView 的 ViewController。我将 UIViewController 设为 UIWebViewDelegate 和 NSURLConnectionDataDelegate。然后我添加了 2 个数据成员：_Authenticated 和 _FailedRequest。这样，代码如下所示：

```
-(BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType {
    BOOL result = _Authenticated;
    if (!_Authenticated) {
        _FailedRequest = request;
        [[NSURLConnection alloc] initWithRequest:request delegate:self];
    }
    return result;
}

-(void)connection:(NSURLConnection *)connection willSendRequestForAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge {
    if ([challenge.protectionSpace.authenticationMethod isEqualToString:NSURLAuthenticationMethodServerTrust]) {
        NSURL* baseURL = [_FailedRequest URL];
        if ([challenge.protectionSpace.host isEqualToString:baseURL.host]) {
            NSLog(@"trusting connection to host %@", challenge.protectionSpace.host);
            [challenge.sender useCredential:[NSURLCredential credentialForTrust:challenge.protectionSpace.serverTrust] forAuthenticationChallenge:challenge];
        } else
            NSLog(@"Not trusting connection to host %@", challenge.protectionSpace.host);
    }
    [challenge.sender continueWithoutCredentialForAuthenticationChallenge:challenge];
}

-(void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)pResponse {
    _Authenticated = YES;
    [connection cancel];
    [_WebView loadRequest:_FailedRequest];
} 
```

当我加载视图并且不重置它时，我将 _Authenticated 设置为 NO。这似乎允许 UIWebView 向同一个站点发出多个请求。我没有尝试切换站点并尝试返回。这可能会导致需要重置_Authenticated。此外，如果您要切换站点，您应该为 _Authenticated 保留一个字典（每个主机一个条目）而不是 BOOL。

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2014-02-12T14:28:00.703

这就是灵丹妙药！

* * *

```
BOOL _Authenticated;
NSURLRequest *_FailedRequest;

#pragma UIWebViewDelegate

-(BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request   navigationType:(UIWebViewNavigationType)navigationType {
    BOOL result = _Authenticated;
    if (!_Authenticated) {
        _FailedRequest = request;
        NSURLConnection *urlConnection = [[NSURLConnection alloc] initWithRequest:request delegate:self];
        [urlConnection start];
    }
    return result;
}

#pragma NSURLConnectionDelegate

-(void)connection:(NSURLConnection *)connection willSendRequestForAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge {
    if ([challenge.protectionSpace.authenticationMethod isEqualToString:NSURLAuthenticationMethodServerTrust]) {
        NSURL* baseURL = [NSURL URLWithString:@"your url"];
        if ([challenge.protectionSpace.host isEqualToString:baseURL.host]) {
            NSLog(@"trusting connection to host %@", challenge.protectionSpace.host);
            [challenge.sender useCredential:[NSURLCredential credentialForTrust:challenge.protectionSpace.serverTrust] forAuthenticationChallenge:challenge];
        } else
            NSLog(@"Not trusting connection to host %@", challenge.protectionSpace.host);
    }
    [challenge.sender continueWithoutCredentialForAuthenticationChallenge:challenge];
}

-(void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)pResponse {
_Authenticated = YES;
    [connection cancel];
    [self.webView loadRequest:_FailedRequest];
}

- (void)viewDidLoad{
   [super viewDidLoad];

    NSURL *url = [NSURL URLWithString:@"your url"];
    NSURLRequest *requestURL = [NSURLRequest requestWithURL:url];
    [self.webView loadRequest:requestURL];

// Do any additional setup after loading the view.
} 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2014-10-18T10:14:48.420

如果您想访问具有自签名证书的私有服务器只是为了进行测试，您不必编写代码。您可以手动执行系统范围的证书导入。

为此，您需要使用移动 safari 下载服务器证书，然后提示导入。

这将在以下情况下可用：

*   测试设备数量少
*   您信任服务器的证书

如果您无权访问服务器证书，则可以使用[以下方法](https://stackoverflow.com/questions/7885785/using-openssl-to-get-the-certificate-from-a-server)从任何 HTTPS 服务器中提取它（至少在 Linux/Mac 上，Windows 人员必须在某处下载 OpenSSL 二进制文件）：

```
echo "" | openssl s_client -connect $server:$port -prexit 2>/dev/null | sed -n -e '/BEGIN\ CERTIFICATE/,/END\ CERTIFICATE/ p' >server.pem 
```

请注意，根据 OpenSSL 版本，文件中的证书可能会加倍，因此最好使用文本编辑器查看它。将文件放在网络上的某个位置或使用

python -m SimpleHTTPServer 8000

在 http://$your_device_ip:8000/server.pem 从您的移动 Safari 访问它的快捷方式。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-12-02T19:07:24.223

这是一个聪明的解决方法。然而，一个可能更好（虽然代码更密集）的解决方案是使用 NSURLProtocol，如 Apple 的 CustomHTTPProtocol 示例代码中所示。从自述文件：

“CustomHTTPProtocol 展示了如何使用 NSURLProtocol 子类来拦截由不会暴露其网络连接的高级子系统发出的 NSURLConnections。在这种特定情况下，它会拦截 Web 视图发出的 HTTPS 请求并覆盖服务器信任评估，允许您浏览其证书默认不受信任的站点。”

查看完整示例： [https ://developer.apple.com/library/ios/samplecode/CustomHTTPProtocol/Introduction/Intro.html](https://developer.apple.com/library/ios/samplecode/CustomHTTPProtocol/Introduction/Intro.html)

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2015-10-08T01:18:32.750

这是一个适用于我的 swift 2.0 兼容等效项。我还没有将此代码转换为使用`NSURLSession`而不是`NSURLConnection`，并且怀疑它会增加很多复杂性以使其正确。

```
var authRequest : NSURLRequest? = nil
var authenticated = false
var trustedDomains = [:] // set up as necessary

func webView(webView: UIWebView, shouldStartLoadWithRequest request: NSURLRequest, navigationType: UIWebViewNavigationType) -> Bool {
    if !authenticated {
        authRequest = request
        let urlConnection: NSURLConnection = NSURLConnection(request: request, delegate: self)!
        urlConnection.start()
        return false
    }
    else if isWebContent(request.URL!) { // write your method for this
        return true
    }
    return processData(request) // write your method for this
}

func connection(connection: NSURLConnection, willSendRequestForAuthenticationChallenge challenge: NSURLAuthenticationChallenge) {
    if challenge.protectionSpace.authenticationMethod == NSURLAuthenticationMethodServerTrust {
        let challengeHost = challenge.protectionSpace.host
        if let _ = trustedDomains[challengeHost] {
            challenge.sender!.useCredential(NSURLCredential(forTrust: challenge.protectionSpace.serverTrust!), forAuthenticationChallenge: challenge)
        }
    }
    challenge.sender!.continueWithoutCredentialForAuthenticationChallenge(challenge)
}

func connection(connection: NSURLConnection, didReceiveResponse response: NSURLResponse) {
    authenticated = true
    connection.cancel()
    webview!.loadRequest(authRequest!)
} 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2016-01-07T07:27:46.667

这里是 swift 2.0 的工作代码

```
var authRequest : NSURLRequest? = nil
var authenticated = false

func webView(webView: UIWebView, shouldStartLoadWithRequest request: NSURLRequest, navigationType: UIWebViewNavigationType) -> Bool {
                if !authenticated {
                    authRequest = request
                    let urlConnection: NSURLConnection = NSURLConnection(request: request, delegate: self)!
                    urlConnection.start()
                    return false
                }
                return true
}

func connection(connection: NSURLConnection, didReceiveResponse response: NSURLResponse) {
                authenticated = true
                connection.cancel()
                webView!.loadRequest(authRequest!)
}

func connection(connection: NSURLConnection, willSendRequestForAuthenticationChallenge challenge: NSURLAuthenticationChallenge) {

                let host = "www.example.com"

                if challenge.protectionSpace.authenticationMethod == NSURLAuthenticationMethodServerTrust &&
                    challenge.protectionSpace.host == host {
                    let credential = NSURLCredential(forTrust: challenge.protectionSpace.serverTrust!)
                    challenge.sender!.useCredential(credential, forAuthenticationChallenge: challenge)
                } else {
                    challenge.sender!.performDefaultHandlingForAuthenticationChallenge!(challenge)
                }
} 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2016-05-31T16:36:10.670

To build off of [@spirographer's answer](https://stackoverflow.com/a/33005059/1368032), I put something together for a Swift 2.0 use case with `NSURLSession`. However, this is still **NOT** working. See more below.

```
func webView(webView: UIWebView, shouldStartLoadWithRequest request: NSURLRequest, navigationType: UIWebViewNavigationType) -> Bool {
    let result = _Authenticated
    if !result {
        let sessionConfiguration = NSURLSessionConfiguration.defaultSessionConfiguration()
        let session = NSURLSession(configuration: sessionConfiguration, delegate: self, delegateQueue: NSOperationQueue.mainQueue())
        let task = session.dataTaskWithRequest(request) {
            (data, response, error) -> Void in
            if error == nil {
                if (!self._Authenticated) {
                    self._Authenticated = true;
                    let pageData = NSString(data: data!, encoding: NSUTF8StringEncoding)
                    self.webView.loadHTMLString(pageData as! String, baseURL: request.URL!)

                } else {
                    self.webView.loadRequest(request)
                }
            }
        }
        task.resume()
        return false
    }
    return result
}

func URLSession(session: NSURLSession, didReceiveChallenge challenge: NSURLAuthenticationChallenge, completionHandler: (NSURLSessionAuthChallengeDisposition, NSURLCredential?) -> Void) {
    completionHandler(NSURLSessionAuthChallengeDisposition.UseCredential, NSURLCredential(forTrust: challenge.protectionSpace.serverTrust!))
} 
```

I will get back the initial HTML response, so the page renders the plain HTML, but there is no CSS styles applied to it (seems like the request to get CSS is denied). I see a bunch of these errors:

```
NSURLSession/NSURLConnection HTTP load failed (kCFStreamErrorDomainSSL, -9813) 
```

It seems like any request made with `webView.loadRequest` is done not within the session, which is why the connection is rejected. I do have `Allow Arbitrary Loads` set in `Info.plist`. What confuses me is why `NSURLConnection` would work (seemingly the same idea), but not `NSURLSession`.

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-03-26T16:11:30.173

第一件事`UIWebView`已弃用

改为使用`WKWebView`（可从 iOS8 获得）

放`webView.navigationDelegate = self`

实施

```
extension ViewController: WKNavigationDelegate {

func webView(_ webView: WKWebView, didReceive challenge: URLAuthenticationChallenge, completionHandler: @escaping (URLSession.AuthChallengeDisposition, URLCredential?) -> Void) {
    let trust = challenge.protectionSpace.serverTrust!
    let exceptions = SecTrustCopyExceptions(trust)
    SecTrustSetExceptions(trust, exceptions)
        completionHandler(.useCredential, URLCredential(trust: trust))
    }

} 
```

并将其添加到您要允许的域的 plist 中

```
<key>NSAppTransportSecurity</key>
<dict>
    <key>NSExceptionDomains</key>
    <dict>
        <key>localhost</key>
        <dict>
            <key>NSTemporaryExceptionAllowsInsecureHTTPSLoads</key>
            <false/>
            <key>NSIncludesSubdomains</key>
            <true/>
            <key>NSTemporaryExceptionAllowsInsecureHTTPLoads</key>
            <true/>
            <key>NSTemporaryExceptionMinimumTLSVersion</key>
            <string>1.0</string>
            <key>NSTemporaryExceptionRequiresForwardSecrecy</key>
            <false/>
        </dict>
    </dict>
</dict> 
```

# ruby-on-rails - 将选择菜单传递给嵌套表单的属性

> ID：11573165
> 
> 赞同：1
> 
> 时间：2012-07-20T05:03:08.770
> 
> 标签：ruby-on-rails, drop-down-menu, nested-forms, nested-attributes

我有一个嵌套表单，它有一个选择下拉菜单。

**当点击“提交”按钮时，如何将所选项目的 ID 传递到提交的属性中？**

在我的情况下，这就是我的嵌套表单的部分样子：

```
=select("dish", "menu_id", Menu.all.collect {|r| [ r.name, r.id ] }, {:include_blank => 'Choose a Menu'})  
=f.hidden_field :_destroy
=f.text_field :name, placeholder: "Name"
=f.text_field :price, placeholder: "Price"
=link_to "X", '#', :class => "remove_fields" 
```

当我点击提交按钮时，终端/控制台显示以下内容正在提交到数据库，但您会注意到`menu_id`下拉菜单中的其他两个领域。`dishes_attributes``id``name`

```
... "dishes_attributes"=>{"1342759486320"=>{"_destroy"=>"false", "name"=>"Dish 1", "price"=>"32"} ... 
```

从 HTML 源代码中，`name`和`price`输入字段被分配了以下`id`和`name`：

```
<input id="side_dish_dishes_attributes_1342759902918_name" name="side_dish[dishes_attributes][1342759902918][name]" placeholder="Name" size="30" type="text"/>
<input id="side_dish_dishes_attributes_1342759902918_price" name="side_dish[dishes_attributes][1342759902918][price]" placeholder="Price" size="30" type="text"/> 
```

但我的`select`下拉列表如下所示：

```
<select id="dish_menu_id" name="dish[menu_id]">
  <option value="">Choose a Menu</option>
  <option value="1">Menu 1</option>
  <option value="2">Menu 2</option>
</select> 
```

在父`_form`页面中，调用如下所示，然后调用此部分：

```
=link_to_add_fields "Add New Dish", f, :dishes 
```

从我的`link_to_add_fields`看起来像这样`helpers/application_helper.rb`：

```
def link_to_add_fields(name, f, association)
  new_object = f.object.send(association).klass.new
  id = new_object.object_id
  fields = f.fields_for(association, new_object, child_index: id) do |builder|
    render(association.to_s.singularize + "_fields", f: builder)
  end
  link_to(name, '#', class: "add_fields", data: {id: id, fields: fields.gsub("\n", "")})
end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T06:47:43.487

而不是这条线

```
=select("dish", "menu_id", Menu.all.collect {|r| [ r.name, r.id ] }, {:include_blank => 'Choose a Menu'}) 
```

与表单对象一起使用

```
=f.select("menu_id", Menu.all.collect {|r| [ r.name, r.id ] }, {:include_blank => 'Choose a Menu'}) 
```

我希望这能解决您的身份问题以及部分菜肴属性

# magento - 通过 PHP 脚本更新 Magento 中的元标题会导致不需要的事件

> ID：11573166
> 
> 赞同：-2
> 
> 时间：2012-07-20T05:03:11.753
> 
> 标签：magento, m2e-pro

在我们的 Magento 1.5.0.1 上，我编写了一个 PHP 脚本来更新我们所有的产品元标题，使其基于每个产品的名称和 SKU。该脚本通过 SSH 调用 PHP 来运行。

运行脚本后，我在 M2E Pro（eBay 同步模块）中注意到每个产品似乎都已被禁用。

![Magento 截图](../Images/642f3c61eb4a4aa628303db3825b1fb5.png)

查看它们没有被禁用的实际产品，因此看来我的脚本以某种方式伪造了事件。

然而，在我们的 3,000 多种产品中，其中一种被禁用，随后 M2E Pro 从 eBay 上删除了该列表。

这是我的脚本：

```
<?php
set_time_limit(0);
define('MAGENTO', "/home/discount/public_html");
require_once MAGENTO . '/app/Mage.php';
error_reporting(E_ALL);
ini_set('display_errors', '1');
umask(0);
Mage::app()->setCurrentStore(Mage_Core_Model_App::ADMIN_STORE_ID);
$storeId = Mage::app()->getStore('default')->getId();

$products = Mage::getModel('catalog/product')
    ->getCollection()
    ->addAttributeToSelect('sku')
    ->addAttributeToSelect('name')
    ->addAttributeToSelect('meta_title');

$total = count($products);
$count = 1;

foreach ($products as $product)
{
    $mt = sprintf("%s [%s]", $product->getName(), $product->getSku());
    $sku = $product->getSku();
    if ($product->getMetaTitle() != $mt)
    {
        $percent = $count / $total;
        echo $sku." ".$percent."\n";
        $product->setMetaTitle($mt);
        $product->save();
    }
}
?> 
```

我想知道我需要对我的脚本做些什么才能使其正确更新元标题而不引起奇怪的事件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T06:57:59.860

在这里暗中刺探，但 M2E 扩展很有可能为模型/产品保存设置了事件侦听器，并且在该事件侦听器中，根据产品状态执行操作。

这本身不是问题，但是当您通过其集合加载 EAV 模型时，它会加载最少的属性。由于您没有通过`addAttributeToSelect`此显式加载产品状态，因此可能会混淆 M2E 扩展。尝试添加状态属性。如果这不起作用，请尝试`addAttributeToSelect('*')`——M2E 可能还会检查其他属性以决定何时拉取东西。

最后，当您通过集合加载 EAV 模型时，它们`afterLoad`不会被调用。M2E 扩展可能（天真地）假设发生的事情`afterLoad`将会发生，因此您可能希望为每个产品显式调用它。

```
$product->afterLoad(); 
```

除此之外，您需要对 M2E 进行逆向工程，使其在代码中高于日志记录的位置，并确定它认为需要禁用产品的原因。由于这是一个商业扩展，我会联系开发人员。如果您为某事付费，那么您应该得到某种程度的支持。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-07-16T11:34:23.363

```
<?php
//increase the max execution time
@ini_set('max_execution_time', -1);
//memory_limit
@ini_set('memory_limit', -1);

error_reporting(E_ALL);
ini_set('display_errors', '1');

// Start Despaly All Product Meta Title And Description
require_once('app/Mage.php'); //Path to Magento
umask(0);
Mage::app();

$categories = Mage::getModel('catalog/category')
                         ->getCollection()
                         // magic is prepared here..
                         ->addAttributeToSelect('*')
                         // then the magic happens here:
                         ->addAttributeToFilter('level', array('eq'=>4))
                         ->load();
    if (count($categories) > 0):

        foreach($categories as $category):

            $catId = $category->getId();
            $category = Mage::getModel('catalog/category')->load($catId);
            $resource = Mage::getResourceModel('catalog/category');
            //if($catId==1465):  //If Update Specific category Value by Id
                $CategoryName = $category->getName(); 
                $metaTitle = "Buy ".$CategoryName." Test Title";
                $metaDescription = "Shop your favourite ".$CategoryName." Test Description";

                $category->setData('meta_title', $metaTitle);
                $resource->saveAttribute($category, 'meta_title');
                $category->setData('meta_description', $metaDescription);
                $resource->saveAttribute($category, 'meta_description');

                $check = $category->getMetaTitle();
                echo "<pre>";
                print_r($catId);
                echo "<pre>";
                print_r($check);
                echo "\n";
            //endif; 

        endforeach;
     else: echo "No Results";
    endif;

?> 
```

# facebook - 如何在 iframe 中打开 Facebook 页面

> ID：11573168
> 
> 赞同：0
> 
> 时间：2012-07-20T05:03:23.597
> 
> 标签：facebook, iframe, facebook-iframe

`src`我想在 iframe 中打开 Facebook 页面，但当我尝试仅包含指向 Facebook.com的 IFrame 时不呈现页面。现在我在一个窗口内打开它，但想在一个框架内打开它。

有什么方法可以在 IFrame 中打开 Facebook 页面？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T06:03:01.003

Facebook，因为大多数严肃的网站都明确禁止这样做，以防止[点击劫持](http://en.wikipedia.org/wiki/Clickjacking)。

Facebook 执行此操作的方法之一是发送“ [X-frame-options:deny](https://developer.mozilla.org/en/The_X-FRAME-OPTIONS_response_header) ”标头，该标头指示您的浏览器不在 iframe 内显示页面。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:12:31.897

您是在谈论您自己网站中的 Facebook 页面吗？

如果是这样;

```
 <iframe src="http://www.facebook.com"></iframe> 
```

如果没有，您能否提供更多信息。

更新见下面的评论。Facebook 似乎阻止它的页面被包含在 iframe 中。

# jquery - 单击另一个 div 移动一个 div？

> ID：11573169
> 
> 赞同：0
> 
> 时间：2012-07-20T05:03:31.953
> 
> 标签：jquery, html, css

当单击 a 标签时，我想使用 jquery 将一个 div（将绝对定位在屏幕外）移动到其父元素的特定部分。

```
<div id="casestudy4" class="newboxes2">
                                <div class="paperclip"></div>
                                <p>text here</p>

                            </div> <!-- end div casestudy4 --> 
```

基本上 .paperclip 绝对定位在左边：25%；顶部：-2000px；我希望它在单击链接时向下移动。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T05:12:05.667

```
 <script type="text/javascript">
        $(function () {

            $("#move").click(function () {
                $(".paperclip").animate({
                    top: "+=500px"
                }, 5000);
                return false;
            });
        });
    </script>

    <a href="#" id="move">move</a> 
```

希望能帮助到你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:19:37.483

当您单击链接时，您可以使用它来隐藏 div

```
$(selector).click(function(){
   $('.paperclip').hide();
}) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T07:18:01.347

假设链接是段落，这是一个解决方案。

```
$("#casestudy4 > p:first-child").click(function() {
  $("#casestudy4 > .paperclip").css("top", "500px");
} 
```

显然，您必须正确定位链接并正确指定*“down”*的含义，而不是`500px`.

# c++ - @implement inside .mm 没有被运行？

> ID：11573170
> 
> 赞同：0
> 
> 时间：2012-07-20T05:03:36.110
> 
> 标签：c++, objective-c, growl

我有一个 C++ 文件，它也运行 Obj-C 的东西，但 Obj-C 的东西似乎没有运行（它编译得很好），但我收到一个错误，说 obj-c 应该做的东西（在这种情况下注册咆哮）没有跑。

咆哮者.mm

```
#import "growlwrapper.h"

@implementation GrowlWrapper
- (NSDictionary *) registrationDictionaryForGrowl {
    return [NSDictionary dictionaryWithObjectsAndKeys:
            [NSArray arrayWithObject:@"Upload"], GROWL_NOTIFICATIONS_ALL,
            [NSArray arrayWithObject:@"Upload"], GROWL_NOTIFICATIONS_DEFAULT
            , nil];
}
@end

void showGrowlMessage(std::string title, std::string desc) {
    std::cout << "[Growl] showGrowlMessage() called." << std::endl;
    NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];
    [GrowlApplicationBridge setGrowlDelegate: @""];
    [GrowlApplicationBridge
        notifyWithTitle: [NSString stringWithUTF8String:title.c_str()]
        description: [NSString stringWithUTF8String:desc.c_str()]
        notificationName: @"Upload"
        iconData: nil
        priority: 0
        isSticky: YES
        clickContext: nil
    ];
    [pool drain];
}

int main() {
    showGrowlMessage("Hello World!", "This is a test of the growl system");
    return 0;
} 
```

咆哮包装器.h

```
#ifndef growlwrapper_h
#define growlwrapper_h

#include <string>
#include <iostream>
#include <Cocoa/Cocoa.h>
#include <Growl/Growl.h>

using namespace std;

void showGrowlMessage(std::string title, std::string desc);
int main();

#endif

@interface GrowlWrapper : NSObject <GrowlApplicationBridgeDelegate>

@end 
```

知道为什么它没有被运行吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:12:00.330

您将咆哮委托设置为空字符串，而不是您的`GrowlWrapper`类的实例。

# database - MongoLab _id 字段

> ID：11573177
> 
> 赞同：1
> 
> 时间：2012-07-20T05:04:02.273
> 
> 标签：database, node.js, heroku, mongoose, mlab

我遇到了一个奇怪的问题，我们在本地开发环境中使用 MongoDB，在 Heroku 上使用 MongoLabs 作为生产环境。现在问题出在 MongoLabs 处理 _id 字段的方式上。它不是使用 _id: '0x....'，而是使用 _id: { $oid: '0x...'}。

这似乎导致了一些问题，因为某些代码在生产中无法按预期运行，但在我们的本地机器上运行良好。

我们在这个项目中使用 Nodes.js 和 Mongoose 和 Express。当它给我未定义的model._id时，我注意到了这个问题。

有没有办法强制两者保持一致？最好强制 MongoLab 使用 _id: '0x ...'？

**更新：**我设法弄清楚为什么我得到未定义的 id。我们只是使用 cwd() 来要求一些模块，最终需要一个具有相似名称的不同模块，因为我们运行生产构建的 cwd 与开发构建略有不同。

但我仍然想知道为什么 MongoLabs 使用该 id 变体以及尽管如此它仍然如何工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-22T01:13:35.940

我遇到了问题

如果我留在 php 中，那么使用 Id 就没有问题。

但是如果我从一个数组移动到 json 到数组，它就行不通了。

# php - 如何在浏览器中录制音频或视频并将其存储在我的服务器的数据库中？

> ID：11573178
> 
> 赞同：3
> 
> 时间：2012-07-20T05:04:03.723
> 
> 标签：php

我需要录制用户的音频并将其存储在本地服务器的数据库中。我试过这个，但它没有用。

```
<html>
<head></head> 
<body>
<?php
if(isset($_POST[submit1]))
{
echo exec("ffmpeg -f alsa -ac 2 -i pulse  -acodec pcm_s16le -vcodec libx264 -vpre      lossless_ultrafast -threads 0  -y  ./Desktop/myVOICE1.wav");
}
?>
<form name="form1" method="POST" action="sample.php">

<input type="Text"  name="username">
<input type="submit" name="submit1" value="go">
</form>

</body>
</html> 
```

我可以知道我的代码有问题吗？为什么它不起作用？

我应该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T05:11:55.073

您可以尝试使用服务器端软件捕获和分发的开源（[Red 5 ）。](http://osflash.org/red5)

我们试过这个，安装它是非常令人沮丧的任务，所以我只使用了另一家公司托管的Flash Media Server [http://www.adobe.com/products/flashmediaserver/ 。](http://www.adobe.com/products/flashmediaserver/)

# eclipse - 将 SQLITE 数据库连接到 ECLIPSE

> ID：11573190
> 
> 赞同：0
> 
> 时间：2012-07-20T05:05:10.057
> 
> 标签：eclipse, sqlite

如何在 ECLIPSE 中连接我的 SQLITE 数据库？我的 sqlite 是 2.o 版本，而 eclipse 有 3.5.9 版本的 sqlite。有什么关系吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T05:18:48.343

1) 编写你的数据库代码

2）谷歌“jdbc驱动sqlite”

3) 下载您最喜欢的 Sqlite JDBC 驱动程序（可能是 SqlLite3），并将 .jar 添加到您的项目中

4) 修改您的代码以使用（特定于驱动程序的）JDBC 连接字符串打开所需的驱动程序

5）瞧。完毕 ：）

# c# - 没有大括号的for循环的语法？

> ID：11573191
> 
> 赞同：7
> 
> 时间：2012-07-20T05:05:16.373
> 
> 标签：c#, syntax

```
for (int y = 0; y < GameBoard.GameBoardHeight; y++)
        for (int x = 0; x < GameBoard.GameBoardWidth; x++)
        {
            if (GetSquare(x, y) == "Empty")
            {
                 RandomPiece(x, y);
            }
        } 
```

第一个 for 循环没有大括号，下一行甚至不是带有`;`. 这只是一个`for`循环。

这是怎么回事？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-20T05:26:03.630

[MSDN](http://msdn.microsoft.com/en-us/library/ch45axte.aspx)：for 循环重复执行一个语句或语句块，直到指定表达式的计算结果为 false。

要理解的要点是**执行语句或语句块**部分。嵌套`for`在你的例子中是一个包含语句块的语句，因为这`{ }`对。

因此，如果您将上述内容编写为每个嵌套操作的单个语句，您将编写：

```
for (int y = 0; y < GameBoard.GameBoardHeight; y++)
    for (int x = 0; x < GameBoard.GameBoardWidth; x++)
        if (GetSquare(x, y) == "Empty")
            RandomPiece(x, y); 
```

或作为每个嵌套操作的块语句：

```
for (int y = 0; y < GameBoard.GameBoardHeight; y++)
{
    for (int x = 0; x < GameBoard.GameBoardWidth; x++)
    {
        if (GetSquare(x, y) == "Empty")
        {
            RandomPiece(x, y);
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-20T05:06:45.373

没有大括号的循环体就是下一条`for`语句。在这种情况下，第二个`for`循环是第一个循环体的语句。

C# 4.0 规范（第 8 节和第 8.8.3 节）中的语法如下所示：

```
for-statement:
    for ( for-initializer; for-condition; for-iterator) embedded-statement

embedded-statement:
    block
    empty-statement
    expression-statement
    selection-statement
    iteration-statement
    jump-statement
    try-statement
    checked-statement
    unchecked-statement
    lock-statement
    using-statement 
    yield-statement 
```

所以`for`循环体被定义为一个`embedded-statement`. 当您在循环体周围看到大括号时，`block`这是 a 的第一个选项`embedded-statement`。拥有另一个`for`循环`embedded-statement`是适用于`iteration-statement`（第 8.8 节）的选项之一。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-20T05:26:14.570

第一个 for 循环 next 语句是第二个 for 循环，因此您的程序与您的语法配合得很好，即使您也这样编写语法：

```
for (int y = 0; y < GameBoard.GameBoardHeight; y++)
        for (int x = 0; x < GameBoard.GameBoardWidth; x++)        
            if (GetSquare(x, y) == "Empty")            
                 RandomPiece(x, y); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-20T05:06:44.347

循环体可以包含不带大括号的`for`语句（例如循环、条件）。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-07-20T05:06:45.730

`for`循环也是一个语句。所以它是合法的 C# 代码。控制流结构（至少是从 C 继承的）可以有一个语句或多个语句的块：

```
for (...) statement
for (...) { statement* } 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-07-20T05:35:22.987

将要迭代的语句括在花括号中。如果循环中只包含一条语句，则可以省略花括号。

即使语句的主体只包含一个语句，也应始终使用 if、for 或 while 语句的左大括号和右大括号。

大括号提高了代码的一致性和可读性。更重要的是，当向仅包含单个语句的主体插入附加语句时，很容易忘记添加大括号，因为缩进为结构提供了强有力的（但误导性的）指导。

```
for(int i = 0; i < 10; ++i) { Console.WriteLine(i) } 
```

**注意**：循环之后。没有花括号，只有紧接在 for 循环语句之后的第一条语句会在循环中。

有关更多信息，请参见：http: [//www.dotnetperls.com/omit-curly-brackets](http://www.dotnetperls.com/omit-curly-brackets)

# iphone - 打开iphone相机时的物体检测

> ID：11573195
> 
> 赞同：1
> 
> 时间：2012-07-20T05:05:56.217
> 
> 标签：iphone, ios, opencv

> **可能重复：使用 OpenCV 和 LBP** [OpenCV IOS 实时模板匹配](https://stackoverflow.com/questions/10583062/opencv-ios-real-time-template-matching)
> [在 iPhone 上进行人脸检测](https://stackoverflow.com/questions/4921260/face-detection-on-iphone-using-opencv-and-lbp)

在我的应用程序中，我使用**opencv**执行**精明的边缘检测**，但我只想识别**对象**，例如人脸检测。

我们如何通过使用 opencv 来做到这一点。

任何人都可以建议或帮助我。

预先感谢。

# perl - 为什么我成功运行 Perl 脚本后退出代码为 1？

> ID：11573197
> 
> 赞同：-1
> 
> 时间：2012-07-20T05:06:14.733
> 
> 标签：perl, batch-file, exit-code

当我尝试运行我的 Perl 脚本时，它会成功执行。后来，当我运行这个命令时`echo %errorlevel%`，它给我的输出为 1。为什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-20T05:34:10.513

如果 Perl 返回错误级别 1，则`exit(1)`调用其中之一

```
>perl -e"exit 1"
>echo %errorlevel%
1 
```

或在处理程序`$?`中设置`1``END`

```
>perl -e"END { $? = 1; }"
>echo %errorlevel%
1 
```

或者程序在什么时候死`$!`了`1`

```
>perl -e"$!=1; die;"
Died at -e line 1.
>echo %errorlevel%
1 
```

（这通常表明系统调用失败并显示“不允许操作”）

```
>perl -E"say $!=1"
Operation not permitted 
```

或者程序在`$!`was`0`和`$?`was时死亡`(1 << 8)`。

```
>perl -e"$!=0; $?=1<<8; die;"
Died at -e line 1.
>echo %errorlevel%
1 
```

我想有可能在其他情况下`perl`退出`1`（比如加载`perl`本身的问题），但我不知道有任何这样的情况。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T11:29:43.753

需要注意的是，您必须立即询问 %ERRORLEVEL%。批处理脚本中的每一步都会设置或弄乱错误级别，因此如果您希望它保留，它不会。例如，如果您运行一个脚本，然后运行另一个命令（dir 或 echo 等），然后检查 errolevel，它将用于脚本之后的命令，而不是脚本本身。

# iphone - RestKit：如何将 RKRequest 正文字符串从 JSON 更改为纯文本？

> ID：11573199
> 
> 赞同：0
> 
> 时间：2012-07-20T05:06:30.447
> 
> 标签：iphone, ios, json, rest, restkit

我需要以正文格式发布一些请求：

username=<(某个用户名)>&password=<(某个密码)>

并且响应字符串是 JSON 格式。

但是当我创建对象映射时，正文字符串是：

{"username":"<(一些用户名)>","password":<(一些密码)>}

有没有办法可以更改请求正文的格式？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:43:03.283

我刚刚想通了：

```
RKObjectManager *manager = [RKObjectManager managerWithBaseURLString:[MyClass baseURL]];
RKObjectLoader *loader = [manager loaderWithResourcePath:[MyClass pathForLogin]];
[loader setHTTPBodyString:@"..."]; 
```

# iphone - 导航推送视图控制器不工作

> ID：11573200
> 
> 赞同：0
> 
> 时间：2012-07-20T05:06:41.893
> 
> 标签：iphone, objective-c, ios, cocoa-touch, ios5

我正在为 ipad 和 iphone 实现 TabBar 应用程序。但在 IPAD 中，导航控制器不适用于表格单元格中的 ipad 笔尖。viewdid Load 方法不是为 ipad 调用的。但它适用于 iphone .. self.navigationController 对于 ipad 为 NULL 仅在我的班级中导航。帮我！！

我的代码如下：

```
//Connet.m:

if(i==1)
{
    TwitterController *tc;
    if ([self isPad]) {
    tc = [[TwitterController alloc] initWithNibName:@"TwitterController_ipad" bundle:nil];    
}
else
    tc = [[TwitterController alloc] initWithNibName:@"TwitterController" bundle:nil];

[self.navigationController pushViewController:tc animated:YES];        
NSLog(@"%@",self.navigationController);   /Problem ****NULL*****///////          

//TWITTER.m    
-(id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
        self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
        if (self) {
            //Custom initialization
            self.navigationController.navigationBarHidden = YES;          
        }
    return self;
}  

- (void)viewDidLoad
{
    [super viewDidLoad];
    self.navigationController.navigationBarHidden = YES;
    NSString *urlAddress = @"https://twitter.com/UJUDGEIT1";
    //Create a URL object.
    NSURL *url = [NSURL URLWithString:urlAddress];
    //URL Request Object
    NSURLRequest *requestObj = [NSURLRequest requestWithURL:url];   
    //Load the request in the UIWebView.
    [webv loadRequest:requestObj];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-24T09:25:28.730

皮尤什

你如何实现你的标签栏。使标签栏的每个控制器成为导航控制器。它可能会调用您的视图确实加载方法。

以下代码可能会对您有所帮助。它在标签栏上创建 2 个控制器。最后在它的根视图控制器。

```
-(void)createTabbar{
    NSMutableArray *controllers = [[NSMutableArray alloc] init];
    if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) {

        //Controller 1
        PasswordVC *pvc = [[PasswordVC alloc] initWithNibName:@"PasswordVC" bundle:nil];
        UINavigationController *passwordNav = [[UINavigationController alloc] initWithRootViewController:pvc];
        passwordNav.navigationController.navigationBarHidden=YES;
        [controllers addObject:passwordNav];
        pvc.title = @"Password";
        [pvc release];

        [passwordNav release];

        //Controller 2
        SettingVC *SVC = [[SettingVC alloc] initWithNibName:@"SettingVC" bundle:nil];
        UINavigationController *settingNav = [[UINavigationController alloc] initWithRootViewController:SVC];
        settingNav.navigationController.navigationBarHidden=YES;
        [controllers addObject:settingNav];
        SVC.title = @"Settings";
        [SVC release];

        [settingNav release];    
    }
    else {         //ipad

    }

    _tabBarController = [[[UITabBarController alloc] init] autorelease];
    _tabBarController.delegate=self;
    _tabBarController.viewControllers = controllers;
    _tabBarController.customizableViewControllers = controllers;

    [UIView beginAnimations:nil context:NULL];
[UIView setAnimationDuration:1.0];
[UIView setAnimationTransition:UIViewAnimationTransitionFlipFromRight forView:_window cache:NO];
    _window.rootViewController = _tabBarController;

    [UIView commitAnimations];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T11:58:29.967

试试下面的代码：

```
(BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]] autorelease];
    NSString *nibname=@"";
    if (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad){

        nibname=@"TwitterController_ipad";   
    }
    else{
        nibname=@"TwitterController"; 

    }
    TwitterController *view = [[TwitterController alloc] initWithNibName:nibname bundle:nil];
    self.navigationController = [[UINavigationController alloc] initWithRootViewController:view];

    self.window.rootViewController = self.navigationController;
    [self.window makeKeyAndVisible];

    return YES;
} 
```

在您的应用委托类中编写此代码。该`viewDidLoad`方法被调用。

# azure - 是否可以将 app_offline 与 Azure 网站一起使用？

> ID：11573210
> 
> 赞同：7
> 
> 时间：2012-07-20T05:07:15.447
> 
> 标签：azure, dotnetnuke, azure-web-app-service

我今晚通过 FTP 连接到我的 Azure 网站（保留）并上传了一个 app_offline.htm 文件（也尝试了 HTML），但它不会导致应用程序停止，因为 app_offline.htm 文件会在正常的托管环境中。

是否可以在 Azure 网站上执行此操作？

该站点是一个 DotNetNuke 站点，但我怀疑这与它有什么关系（因为我所有的其他站点都基于正常托管中的 DNN）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T11:13:28.007

由于停止服务并将其恢复工作，您应该能够“触摸” web.config 文件以获得相同的效果，而无需在短时间内离线。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-04-20T01:34:08.600

我很高兴地报告 app_offline.htm 文件现在似乎可以与 Azure 站点一起使用。我刚刚能够成功地将 app_offline.htm 文件上传到我的站点的 /site/wwwroot/，并在执行 DotNetNuke 升级时禁用该应用程序。

# php - 网站登录与 phpBB3 集成

> ID：11573212
> 
> 赞同：0
> 
> 时间：2012-07-20T05:07:18.743
> 
> 标签：php, phpbb3

在我的网站上，我有一个登录框，我想链接到我的 phpbb3 论坛。因此，如果有人登录主站点，如果他们去论坛，他们将保持登录状态，反之亦然。

我不想用`action="forum/ucp.php?mode=login"`由于某种原因，我

登录验证后，我在登录页面中添加了以下代码

```
$user->session_begin();
$auth->acl($row);
//syntax of login call in phpbb/include/functions file 
//$auth->login($username, $password, $autologin, $viewonline, $admin);
$result = $auth->login($_REQUEST['login_username'], $_REQUEST['login_password'], 1, 1, 0);
$user->setup(); 
```

它在我的本地机器上运行良好。但它在服务器上给了我以下错误。

```
SQL ERROR [ mysql4 ]

You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 3 [1064] 
```

请帮助我。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:30:39.793

感谢@Arjun 的提示。调试后我发现我的问题`$row`，

`$auth->acl()`需要关联数组，我正在传递对象数组。

对不起我的愚蠢错误并感谢大家的帮助..

# perl - perl 中的并行 SSH

> ID：11573216
> 
> 赞同：3
> 
> 时间：2012-07-20T05:07:41.223
> 
> 标签：perl

我正在尝试在 perl 中创建一个脚本，它可以 ssh 到多个主机（500+），执行所需的命令，并在屏幕上显示输出。我已经使用 Net::OpenSSH 模块完成了这项工作，因为 ssh-keys 没有配置，我也不允许配置这些。所以，我必须使用一个可以在做 ssh 时提供密码的东西。

由于连接很多，做这件事需要相当长的时间。我搜索了“perl 中的并行 ssh”，发现有一个用于打开并行 ssh 的模块（Net::OpenSSH:Parallel），但我在一些论坛上的某处读到，我无法使用该模块捕获输出，就像我可以使用 Net 捕获一样::OpenSSH ($ssh->caputre(ls))。

那么，我怎样才能以更方便的方式完成并行 ssh 呢？另外，我欢迎任何其他可以用来节省时间的建议。在线程中使用 Net:OpenSSH 会节省我的时间，还是会像并行一样工作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T14:39:35.017

您可以分叉您的程序并使用 Parallel::ForkManager 之类的东西来管理分叉。然后使用 Net::OpenSSH 进行 SSH 工作 + 捕获并将结果显示到屏幕上。你需要小心你的 IO，因为所有那些试图同时写入 STDOUT/STDERR 的进程都会得到乱码的结果。您需要执行类似于此问题的答案（父进程和子进程之间的管道）：[fork() 和 STDOUT/STDERR 从子进程到控制台](https://stackoverflow.com/questions/3876492/fork-and-stdout-stderr-to-the-console-from-child-processes)

并行编程比串行编程更难，所以要准备好一些乐趣:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-20T05:14:04.837

一种方法是使用 shell 脚本来执行你的 perl 脚本：

```
#!/bin/bash

for host in $(cat myhosts)
do
  perl myperl.pl $host $1 $2 &
done 
```

其中 myhosts 是一个包含 500 多个主机名的文件

# c# - 接口和只有一个抽象方法的抽象类有什么区别？

> ID：11573218
> 
> 赞同：2
> 
> 时间：2012-07-20T05:07:51.613
> 
> 标签：c#, oop, interface, abstract-class

> **可能重复：**
> [何时使用接口而不是抽象类，反之亦然？](https://stackoverflow.com/questions/479142/when-to-use-an-interface-instead-of-an-abstract-class-and-vice-versa)
> [接口 vs 抽象类（通用 OO）](https://stackoverflow.com/questions/761194/interface-vs-abstract-class-general-oo)

我有

```
public interface MyInterface
{
  void Execute();
} 
```

和

```
public abstract class MyAbstractClass
{
  public abstract void Execute();
} 
```

现在当一个类实现它们时，抽象类和接口之间有什么区别？当一个抽象类只有一个抽象方法时，一个类何时以及什么原因来实现它们？

昨天面试时问我这个问题。。我没回答。。

提前致谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-20T05:27:12.710

即使这是重复的，我也会尝试为您澄清：

> 现在当一个类实现它们时，抽象类和接口之间有什么区别？

如果您使用抽象类，则不同之处在于您需要从抽象类继承，然后覆盖抽象方法。

如果您使用接口，则需要实现该方法，而不从此类继承，如果需要，您可以灵活地从另一个类继承

> 当一个抽象类只有一个抽象方法时，一个类何时以及什么原因来实现它们？

不要考虑方法的数量以便在其中一种或另一种之间进行选择，而是考虑使用一种方法与另一种方法时的权衡取舍。

*   如果你决定使用一个抽象类，你的派生类**必须继承**你的抽象类才能工作，而且由于你只能从 C# 中的一个类继承，你会紧紧抓住抽象类。

*   如果你实现一个接口，你将能够从另一个类层次结构继承，换句话说，使用接口会给你最灵活的设计

现在，抽象类在您想编写一段基本代码时非常有用，您的子类将继承该代码，在这种情况下，您将在子类中编写更少的代码，有效地重用抽象类中编写的代码。此外，您将能够覆盖抽象方法以提供您自己的实现

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T05:20:57.470

众所周知，oop 中有很多方法可以实现一件事。但是我们必须遵循最佳实践或使用专门的方法。

在您的场景中，接口和抽象类没有太大区别。但是您必须了解接口和抽象之间的区别概念。这是一篇不错的文章：[差异接口和抽象类](http://shoaibmk.blogspot.com/2011/09/abstract-class-is-class-which-cannot-be.html)

# windows-phone-7 - 如何在 for 循环中添加调度程序计时器？

> ID：11573221
> 
> 赞同：-3
> 
> 时间：2012-07-20T05:08:07.263
> 
> 标签：windows-phone-7

我必须在 for 循环中添加调度程序计时器。我有多个图钉按钮，在运行时我想在某个时间间隔内检索这个图钉按钮，所以如何在我的循环中添加调度程序计时器......

我的 C# 代码是....

```
 for (int i = 0; i <= ClsGetDeviceMap.lstLongLatitude.Count - 1; i++)
                    {
                        string lat, lon;
                        lat = ClsGetDeviceMap.lstLatitude.ElementAt<string>(i).Trim();
                        lon = ClsGetDeviceMap.lstLongLatitude.ElementAt<string>(i).Trim();
                        Latitude = Convert.ToDouble(lat);
                        LongLatitude = Convert.ToDouble(lon);
                        GpsSpeed = 44.21811;

                        map1.Center = new GeoCoordinate(Latitude, LongLatitude, GpsSpeed);
                        map1.ZoomLevel = 17;
                        map1.ZoomBarVisibility = Visibility.Visible;

                        pin[i] = new Pushpin();
                        pin[i].Location = new GeoCoordinate(Latitude, LongLatitude);

                        map1.Children.Add(pin[i]);
                        myCoorditeWatcher = new GeoCoordinateWatcher(GeoPositionAccuracy.High);
                        myCoorditeWatcher.MovementThreshold = 20;

                        //DispatcherTimer newTimer = new DispatcherTimer();
                        //newTimer.Interval = TimeSpan.FromSeconds(5);
                        //// newTimer.Tick += map1.Children.Add(pin[i]);
                        //newTimer.Start();

                        var gl = GestureService.GetGestureListener(pin[i]);

                        gl.Hold += new EventHandler<GestureEventArgs>(GestureListener_Hold);
                        gl.Tap += new EventHandler<GestureEventArgs>(GestureListener_Stack_Tap);
                        myCoorditeWatcher.PositionChanged += new EventHandler<GeoPositionChangedEventArgs<GeoCoordinate>>(myCoorditeWatcher_PositionChanged);

                    }
                    timer = new DispatcherTimer();
                    timer.Interval = TimeSpan.FromMilliseconds(5000);
                    timer.Tick += new EventHandler(timer_Tick);
                    timer.Start();
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T08:55:54.257

```
newTimer.Tick += () =>
{
    map1.Children.Add(pin[i]);
    // probably you need to stop this timer after one tick
    //newTimer.Stop();
}; 
```

# javascript - JS 和 JQuery：仅在更改后获取新的 href

> ID：11573223
> 
> 赞同：0
> 
> 时间：2012-07-20T05:08:21.753
> 
> 标签：javascript, button, onclick

我有一个下面的锚，如下所示

```
<a onclick="return getFile('/log/sample.log');" href="/log/sample.log" target="_blank"> sample.log </a> 
```

因为在我的服务器上，href中的日志目录可能不正确。所以函数“getFile”会在询问服务器后将href更改为正确的。

由于链接不正确，第一次点击总是失败，然后在 getFile 中的 AJAX 过程完成并给出正确的 href 后，以后的点击就可以了。

问题是我如何强制让 html 在第一次单击时等待直到更改 href，然后在服务器上进行查询。

提前致谢。

我想我目前的方式可能不是通过使用“onclick”来实现这个想法的正确方向。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:18:19.887

我建议最初将 href 设置为 # 。在您的 getFile 中，将 href 设置为正确的值，然后以编程方式单击 ajax 成功时的“a”

您将需要找到执行此操作的元素。它可以通过设置一个 id 然后使用 document.getElementById() 来完成，或者使用 Jquery 选择器更容易做到这一点，它甚至有一个可以在之后调用的 .click()。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:21:41.667

如果你想坚持这个流程使你的 ajax 调用同步，它将强制等待。

但是不建议使用此流程，我宁愿在页面加载时更新这些 href，或者将默认 url 设置为我的服务器页面，然后重定向到正确的日志文件

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T05:23:37.640

你想要这样的东西

```
$(function() {

//assume you tagged all anchors you want to do this for with class=adjustlink
$('a.adjustlink').click(function(e) {
  var thisAnchor = $(this); //save reference for later use

  //this will either be true (see below) or undefined (falsy)
  if(thisAnchor.data('myapp.linkHasBeenTested')) {
    return;  //continue on
  } 

   // Stop the link from being navigated (the default for this event)
   e.preventDefault();

  //I'm assuming this is fetched as text but could just as well be JSON or anything else
  $.get('/LinkAdjustment/', thisAnchor.attr('href')).done(function(result) {
    thisAnchor.attr('href', result); //set the href
    thisAnchor.data('myapp.linkHasBeenTested', true);
    thisAnchor.trigger('click');
  });
});

}); 
```

作为一个有趣的旁注。[您可能正](http://timelessrepo.com/haters-gonna-hateoas)*试图做一些类似于 REST[*打算*](http://timelessrepo.com/haters-gonna-hateoas)[做的事情](http://timelessrepo.com/haters-gonna-hateoas)。您可能会考虑，首先获取一个资源，该资源会预先告诉您正确的链接是什么。*

# qt - QApplication 不处理按键事件？

> ID：11573229
> 
> 赞同：2
> 
> 时间：2012-07-20T05:09:23.030
> 
> 标签：qt, qt4.7, qdialog, qevent, qkeyevent

```
QApplication app(argc, 0);
MyDialog * pDlg = new MyDialog(0, Qt::WindowTitleHint | Qt::CustomizeWindowHint);
if (qApp) qApp->installEventFilter(pDlg); 
```

在 main() 中，我只是为 qApp 安装了一个事件过滤器。然后在 MyDialog.cpp 中：

```
bool MyDialog::eventFilter(QObject * watched, QEvent * event)
{
    if (watched == qApp)
    {
        if (event->type() == QEvent::KeyPress)
        {
            // do something
            return true;
        }
        return false;
    }
    return QDialog::eventFilter(watched, event);
} 
```

我设置了一些断点。可以到达“return false”行，这意味着qApp已经成功地在MyDialog上安装了一个事件过滤器。但是当我按下键盘时，'return true' 行从未到达。我记得 QApplication 将调度所有事件。谁能告诉我为什么会这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:13:54.940

使用[keyPressEvent](http://doc.qt.nokia.com/4.5/qwidget.html#keyPressEvent)。

```
void MyDialog::keyPressEvent(QKeyEvent *e)
{
// do something
} 
```

# javascript - 使用 JS 防止网站刷新

> ID：11573239
> 
> 赞同：1
> 
> 时间：2012-07-20T05:10:58.033
> 
> 标签：javascript, browser

一些网站使用一些 JS 魔法具有令人讨厌的自动刷新质量。这似乎绕过了浏览器的“不自动刷新”选项。

我的问题 - 有没有一种简单的方法告诉浏览器（也通过 JS，在附加组件中）“不要听他们的！永远不要自动刷新！”？

编辑：只是为了让自己清楚-我想编写一个浏览器扩展程序，以防止当前页面发出“刷新”信号-无论是自动刷新还是页面使用某些计时器自动给出的“标准”刷新。我认为这是一个标准的JS问题......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:24:52.197

除 Chrome 和 Safari 外，所有流行的浏览器都已提供与禁用自动刷新相关的选项。要在这些浏览器中禁用自动刷新，请查看这篇文章： http: [//maketecheasier.com/disable-web-page-auto-refresh-for-various-browsers/2010/12/12](http://maketecheasier.com/disable-web-page-auto-refresh-for-various-browsers/2010/12/12)

有关停止自动刷新的 Chrome 扩展，请查看：[https ://chrome.google.com/webstore/detail/lcldcllmbokpbniijpnkpgoboadbfphb](https://chrome.google.com/webstore/detail/lcldcllmbokpbniijpnkpgoboadbfphb)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:40:33.470

编辑：**对不起，我误解了这个问题！**

我认为您需要的是：

```
window.onkeypress = window.onkeyup = window.onkeydown = function( event ) {
    event.preventDefault();
    // or, in this case: 
    //return false;
}; 
```

当窗口将接收到按键事件时， keyup e keydown 表示必须阻止默认行为。如果您返回 false，您将停止事件链，从而阻止执行任何操作。这两行有相同的效果，请尝试注释每一行。

这是一个改进的例子：

```
<!DOCTYPE html>
<html>

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Testing...</title>
    </head>
    <body>
        <div id="clickDiv">Click me ;)</div>
        <br/>
        <input id="typeInput" value="Type something ! (here)"/>
    </body>

    <script type="text/javascript">
            window.onkeypress = window.onkeyup = window.onkeydown = function( event ) {
                event.preventDefault();
                return false;
            };
            document.getElementById( "clickDiv" ).onclick = function( event ) { 
                 console.log( "you clicked me and the window events related to the keyboard are still being prevented ;)" );
            };
            document.getElementById( "typeInput" ).onkeyup = function( event ) { 
                 console.log( "you typed inside me and the window events related to the keyboard are still being prevented ;)" );
            };
    </script>

</html> 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-20T05:26:49.000

每个浏览器都可以[关闭](http://maketecheasier.com/disable-web-page-auto-refresh-for-various-browsers/2010/12/12)此功能，但我认为除非您编写“扩展”，否则无法通过 JS 影响这些更改。

# node.js - 在 node-csv-parser 中调用 node-mongodb-native：RangeError：超出最大调用堆栈大小

> ID：11573241
> 
> 赞同：2
> 
> 时间：2012-07-20T05:11:21.190
> 
> 标签：node.js, mongodb, csv, coffeescript, mongoose

我正在使用[node-csv-parser](http://github.com/wdavidw/node-csv-parser)读取 csv 数据并使用 mongoose 将其存储在 mongodb 中。但是我正在尝试加快导入速度，并且我想使用 公开的本机保存方法进行评估`node-mongodb-native`，在 mongoose 中使用`Model.collection`. （这是根据我在 Mongo 总部办公时间与之交谈的一位 mongo 工程师的建议）。

`node-csv-parser``data`每次读取 csv 的新行时触发一个事件。在这个事件中，我读入数据行，从中创建一个新数据点，并将其保存在 mongo.xml 中。`data`我可以使用我的 mongoose 模型在事件中很好地保存数据点`TestDataPoint`。但是，如果我尝试为数据点创建一个 javascript 对象并使用 保存它`TestDataPoint.collection.save`，我会收到错误：`RangeError: Maximum call stack size exceeded`.

我尝试以各种不同的方式调用此本地保存，包括直接通过获取集合`mongoose.connection.db.collection("testdatapoints")`并将其发送到[异步](http://github.com/caolan/async/#queue)模块提供的队列，但总是或多或少相同的结果。我可以在代码的其他地方使用本机驱动程序成功保存数据点，甚至在`end`csv 导入的事件中，而不是在`data`事件中。

我还通过记录我当前的设置（64 位 AMD 处理器上的 Ubuntu 12.04，8 gb RAM）确定，代码在抛出堆栈错误之前迭代了 csv 的 154 行，但是没有数据写入数据库从这个`data`事件内部。似乎无意中发生了某种递归（？），或者它可能是 node-csv-parser 和 node-mongodb-native 之间的某种错误。

为了澄清，使用下面的（编辑/更新）示例代码，日志重复 154 次：

```
about to call native save
just called native save 
```

然后说：

```
in native save callback for dataPoint: 1
Native save failed, error:RangeError: Maximum call stack size exceeded
in native save callback for dataPoint: 2
Native save failed, error:RangeError: Maximum call stack size exceeded 
```

直到dataPoint 154，然后它重复“即将调用/刚刚调用”另外154次，然后记录dataPoints 155-308的错误等等（我有很多数据点要导入）。这个 154 数字是相当可重复的，我想我已经观察到它一次或两次通过 155 行。

有人建议我将保存调用包装在 a`process.nextTick()`中以清除堆栈。当我尝试这样做时，在我的日志中我可以看到 save 被调用了 154 次，然后`process.nextTick()`被调用了 154 次，然后 RangeError 被记录了 154 次，并且序列重复。

我正在运行节点 0.8.2、mongoose 2.7.2 和 mongodb 2.0.4。

```
csv()
    .fromPath(path)
    .on("data", (data, index) ->

        # cellTest is an instance of a Mongoose model object
        newDataPoint = 
            testId: cellTest.testId    # this assignment was causing recursion in the native save
            dataPoint: data[1]
            testTime: data[2]/3600
            cycleIndex: data[3]

        console.log "about to call native save"

        # TestDataPoint is my my mongoose model, which saves fine, but
        # this call throws the RangeError: Maximum stack size exceeded
        TestDataPoint.collection.save newDataPoint, safe:true, (err, dataPoint) ->
            console.log "in native save callback for dataPoint: " + data[1]
            if err
                console.log "Native save failed, error:" + err

        console.log "just called native save"

    .on("end", (count) ->
        newDataPoint = 
            dataPoint: 100            # dummy values
            testTime: 200
            cycleIndex: 300

        # This call works, saves the data point
        TestDataPoint.collection.save newDataPoint, safe:false, null
    )
    .on("error", (err) ->
       console.log err
    ) 
```

编辑：解决了！

那作业：

```
testId: cellTest.testId 
```

导致保存递归。与 cellTest 是另一个 Mongoose 模型的实例有关。将分配更改为：

```
testId: parseInt(cellTest.testId) 
```

消除了递归并允许执行保存。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T18:50:52.507

此问题已得到解决。在我的实际代码中，我将属性之一设置为`newDataPoint`等于另一个 Mongoose 模型对象的整数属性。（下次我会知道不要从我的样本中“简化”那个细节！）这在某种程度上导致了保存递归。

`parseInt()`我通过围绕该值的分配来修复它。保存工作正常，比使用 Mongoose 快大约 3 倍（我知道我放弃了不使用 Mongoose 的一些东西，但对于我记录大量数据点的应用程序来说很好，其中没有单点是全部那很重要）。

# firefox-addon - 没有 UI 的 Firefox 插件

> ID：11573249
> 
> 赞同：0
> 
> 时间：2012-07-20T05:12:14.370
> 
> 标签：firefox-addon

我想开发不应该有 UI 的 firefox 插件（扩展）。我想在网页加载时执行一些任务，是否有可能实现这一点？

如果有人有有用的链接请回复这篇文章

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T06:18:03.540

N在 Firefox 插件 sdk 工具中，可以使用 page-mod 来实现：

```
var pageMod = require("page-mod");
pageMod.PageMod({
  include: "*.org", // the url matcher of the page you want to modify
  contentScriptWhen: 'end', // when to load the tasks
  contentScript: '' // the javascript tasks you want to perform on page
}); 
```

它不需要创建 UI。

您可以在 firefox 插件 sdk 的文档页面 (https://addons.mozilla.org/en-US/developers/docs/sdk/latest/) 找到更多相关信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T11:52:30.623

第一个结果：[https ://www.google.com.au/search?q=firefox+extension+on+page+load](https://www.google.com.au/search?q=firefox+extension+on+page+load)

前两个结果：[https ://developer.mozilla.org/en-US/search?q=firefox+extension+on+page+load](https://developer.mozilla.org/en-US/search?q=firefox+extension+on+page+load)

# java - 在 2 个 Java servlet 之间使用 HTTP Post

> ID：11573250
> 
> 赞同：0
> 
> 时间：2012-07-20T05:12:15.563
> 
> 标签：java, http, servlets, http-post

我已经设置了一个 java servlet，它接受来自 URL 的参数并让它正常工作：

```
public class GetThem extends HttpServlet {

public void doGet(HttpServletRequest request, HttpServletResponse response)
   throws IOException, ServletException
{
    try {

            double lat=Double.parseDouble(request.getParameter("lat"));
            double lon=Double.parseDouble(request.getParameter("lon"));
            response.setContentType("text/html");
            PrintWriter out = response.getWriter();
            out.println(lat + " and " + lon);

        } catch (Exception e) {

            e.printStackTrace();
    }
  }       
} 
```

所以访问这个链接： [http://www.example.com:8080/HttpPost/HttpPost?lat=1&lon=2](http://www.example.com:8080/HttpPost/HttpPost?lat=1&lon=2)会输出：

```
 "1.0 and 2.0" 
```

我目前正在使用以下代码从另一个 java 程序中调用它：

```
try{
            URL objectGet = new URL("http://www.example.com:8080/HttpPost/HttpPost?lat=" + Double.toString(dg.getLatDouble()) + "&lon=" + Double.toString(dg.getLonDouble()));
            URLConnection yc = objectGet.openConnection();
            BufferedReader in = new BufferedReader(
                    new InputStreamReader(
                    yc.getInputStream()));
            in = new BufferedReader(
            new InputStreamReader(
            yc.getInputStream()));
            ... 
```

现在我想更改它，以便不使用 URL 参数将此数据传递给服务器。我想向该服务器发送更大的消息。我知道我需要使用 http post 而不是 http get 来实现这一点，但不知道该怎么做。

我是否需要更改正在接收数据的服务器端的任何内容？我需要在发布此数据的客户端上做什么？

任何帮助将不胜感激。理想情况下，我想以 JSON 格式发送这些数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:17:11.777

我认为您应该使用 HTTPClient 而不是处理连接和流。检查[http://hc.apache.org/httpclient-3.x/tutorial.html](http://hc.apache.org/httpclient-3.x/tutorial.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:20:12.633

下面是“ `java HTTP POST example`”在谷歌中找到的第一个链接的示例。

```
try {
    // Construct data
    StringBuilder dataBuilder = new StringBuilder();
    dataBuilder.append(URLEncoder.encode("key1", "UTF-8")).append('=').append(URLEncoder.encode("value1", "UTF-8")).
       append(URLEncoder.encode("key2", "UTF-8")).append('=').append(URLEncoder.encode("value2", "UTF-8"));

    // Send data
    URL url = new URL("http://hostname:80/cgi");
    URLConnection conn = url.openConnection();
    conn.setDoOutput(true);
    OutputStreamWriter wr = new OutputStreamWriter(conn.getOutputStream());
    wr.write(dataBuilder.toString());
    wr.flush();

    // Get the response
    BufferedReader rd = new BufferedReader(new InputStreamReader(conn.getInputStream()));
    String line;
    while ((line = rd.readLine()) != null) {
        // Process line...
    }
    wr.close();
    rd.close();
} catch (Exception e) {
} 
```

# solr - 是否可以使用 solr-web 插件为 Liferay 提供静态索引字段？

> ID：11573256
> 
> 赞同：0
> 
> 时间：2012-07-20T05:13:05.863
> 
> 标签：solr, indexing, liferay, nutch

谁能告诉我是否可以使用 solr-web.plugin 为 Liferay 关联一个静态索引字段？有没有办法在 solr 中定义静态索引？

我需要类似于 Nutch 中的以下配置的东西

```
<property> 
    <name>index.static</name> 
    <value>source:nutch</value> 
</property> 
```

这会将字段“source”作为索引添加，并将其值作为“nutch”添加到 Nutch 中的所有文档中。Liferay + Solr 有什么类似的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T11:06:30.813

不确定 Liferay 配置，但是您可以在其中添加一个默认值，该值`schema.xml`将应用于文档。

```
<field name="source" type="string" indexed="true" stored="true" default="Nutch" /> 
```

# java - 在这种情况下，新的 JVM 实例或反射是否有帮助

> ID：11573259
> 
> 赞同：3
> 
> 时间：2012-07-20T05:13:29.940
> 
> 标签：java, reflection, jvm, jframe, classloader

我有一个问题，我之前发布过，但没有明确的解决方案

[如何防止 JFrame 关闭](https://stackoverflow.com/questions/11300700/how-to-prevent-jframe-from-closing)。

所以我发布了一个 SSCCE 可能有助于更好地理解所面临的问题

```
package myApp;

import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;

import javax.swing.JFrame;

import App2.Applic2;

public class MYApp {

    @SuppressWarnings({ "unchecked", "rawtypes" })
    public static void main(String arg[]){
        JFrame f = new JFrame();
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        f.setTitle("Application frame 1");
        f.setSize(200,200);
        f.setVisible(true);
        Class cls = Applic2.class;
        Object[] actuals = { new String[] { "" } };

        Method m = null;
        try {
            m=cls.getMethod("main", new Class[] { String[].class } );
        } catch (NoSuchMethodException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (SecurityException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
            try {
                m.invoke(null,actuals);
            } catch (IllegalAccessException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IllegalArgumentException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (InvocationTargetException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
    }

} 
```

第二包

```
package App2;

import javax.swing.JFrame;

public class Applic2  {

    @SuppressWarnings("unused")
    public static void main(String args[]){

        JFrame f = new JFrame();
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        f.setSize(200,200);
        f.setVisible(true);
        f.setTitle("This needs not to be changed");
        NewFrame3 Frame3 = new  NewFrame3();
    }

} 
```

第二类 App2 包。

```
package App2;

import javax.swing.JFrame;

public class NewFrame3 {

    public NewFrame3(){

        JFrame f = new JFrame();
            f.setTitle("f3");
            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
            f.setSize(200,200);
            f.setLocation(200, 200);
            f.setVisible(true);
    }

} 
```

`MYAPP`调用实例`Applic2`，进一步调用实例`NewFrame3`。就像我们可以看到我是否关闭了“NewFrame3”的实例或`Applic2`整个程序的实例关闭（由于`EXIT_ON_CLOSE`）语句。

我想要一个解决方案，其中`MYAPP`不应该关闭关闭`Applic2`或`NewFrame3`.

我无法对 APPlic2 或 NewFrame3 进行任何更改。通过反射如果我们尝试转向当我们没有扩展我们的类时`EXIT_ON_CLOSE`如何`DISPOSE_ON_CLOSE`访问这些框架及其它们？`setDefaultCloseOperation()``JFrames`

在提到的另一个解决方案中，`JVM`应该创建一个新实例，并且`Applic2`应该在这个新`JVM`实例上的新进程中执行。但后来我遇到了 runtime.exec 将 Java 命令作为输入，而不是像`method.invoke()`.

我可以通过加载 Applic2 的加载器访问 Applic2 我只能访问内存中 Applic2 的类文件，所以我无法使用 jar 在 runtime.exec() 中运行。现在我该如何解决？

**将这些语句添加到`MYApp`类可确保在单击框架的关闭按钮时没有任何反应，但情况似乎并非如此**

```
Frame[] f2 = JFrame.getFrames();

            for(Frame fx: f2){
                System.out.println(fx.getTitle());
                fx.addWindowListener(new WindowAdapter(){
                      public void windowClosing(WindowEvent we){

                      }
                      }); 
```

并且此代码需要添加到实例化的最后一帧，否则它会返回所有帧。即，如果将此帧添加到 JFrame3 类，则返回所有实例化的帧如果添加到 MyApp，则返回 MyApp 中的 JFrame，如果添加了 Applic2，则返回在 MYApp 和 Applic2 中实例化的帧。为什么会有这种行为？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T05:21:42.223

您可以使用`JFrame.getFrames()`which 返回一个数组`Frame`（您也可以使用`getWindows()`在当前应用程序上下文中创建的那些窗口的低级别列表）。

然后，您需要遍历，检查每一帧，看看它是否符合您的要求。之后，您不需要反射，您可以直接访问框架

与其他 JVM 通信的唯一方法是通过套接字通信（例如 RMI）。

**更新示例**

```
Frame[] listOfFrames = JFrame.getFrames();
for (Frame : listOfFrames) {
  if (frame instanceof JFrame) {

      JFrame aFrame = (JFrame)frame;

  }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T05:49:16.043

跨进程通信不是一件简单的事情。基本上，您要与之交谈的每个进程都需要有一个`ServerSocket`可以接受传入请求的进程。如果要执行双向通信，每个进程都需要有自己的`ServerSocket`，这将允许任何进程启动通信。

这会引发端口号等问题，但您实际上可以通过组播来解决这个问题（基本上，“大家好，我在这里，来和我说话”），它可以用来确定谁可用或不可用 -以[Broadcasting to Multiple Recipients](http://docs.oracle.com/javase/tutorial/networking/datagrams/broadcasting.html)为例。

所以。准备好后，您将在其端口上打开与相关进程 (localhost/127.0.0.1) 的套接字连接并开始聊天。

现在。我看到你所描述的问题是，为了让它运行，你需要某种可以创建服务器套接字然后执行现有程序的启动器（因为你已经已经描述），这就提出了为什么？如果您的唯一目标是让这些帧停止关闭您的应用程序，只需在新的 JVM 中启动程序即可实现该目标。显然，如果您仍然需要他们提供更多信息，那么这是所有辛勤工作的合理借口。

现在，好消息是，您可以跨套接字序列化对象（也就是说，您可以通过套接字连接发送 Java 对象），查看[发现 Java 序列化 API 的秘密以](http://java.sun.com/developer/technicalArticles/Programming/serialization/)获取更多信息。

现在，如果这还没有吓到您，请查看[All About Sockets](http://docs.oracle.com/javase/tutorial/networking/sockets/index.html)了解更多信息。

最后，“如何”执行新 JVM 的大问题，查看[Java ProcessBuilder](https://stackoverflow.com/questions/10568840/java-processbuilder)，它实际上描述了一种可以执行新 JVM 的方法！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-20T10:00:05.513

所以在 MadProgrammer amd mKorbel 提供的帮助下完成了解决方案，这里是更新的 MYApp 类

```
package myApp;

import java.awt.Frame;
import java.awt.Window;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;

import javax.swing.JFrame;

import App2.Applic2;

public class MYApp {

    @SuppressWarnings({ "unchecked", "rawtypes" })
    public static void main(String arg[]){
        JFrame f = new JFrame();
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        f.setTitle("Application frame 1");
        f.setSize(200,200);
        f.setVisible(true);
        Class cls = Applic2.class;
        Object[] actuals = { new String[] { "" } };

        Method m = null;
        try {
            m=cls.getMethod("main", new Class[] { String[].class } );

            Method[] m1  =Frame.class.getDeclaredMethods();

        } catch (NoSuchMethodException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (SecurityException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
            try {
                m.invoke(null,actuals);
            } catch (IllegalAccessException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IllegalArgumentException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (InvocationTargetException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

            Frame[] f2 = JFrame.getFrames();
            //  Window[] f23=  JFrame.getFrames();

                for(Frame fx: f2){
                    System.out.println(fx.getTitle());
                    //  fx.setVisible(false);

                      if (fx instanceof JFrame) {

                          JFrame aFrame = (JFrame)fx;
                          aFrame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);

                      }
                    }

    }

} 
```

# python - 如何从 python 代码激活/停用 virtualenv？

> ID：11573261
> 
> 赞同：10
> 
> 时间：2012-07-20T05:13:40.390
> 
> 标签：python, virtualenv

对于激活，有一个脚本可以使用`execfile('C:/path/to/virtualev/Scripts/activate_this.py', dict(__file__='C:/path/to/virtualev/Scripts/activate_this.py'))`. 但是，由于我仍然可以从当前的 python 脚本导入不在 virtualenv 中的包，所以我对它的工作原理感到困惑。
对于停用，根本没有 python 脚本。
我该怎么办？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-07-15T20:11:40.023

来自[VirtualEnv 主页的一部分](http://www.virtualenv.org/en/latest/#using-virtualenv-without-bin-python)。

> 您必须使用自定义 Python 解释器来安装库。但要使用库，您只需确保路径正确。可以使用脚本来更正路径。您可以设置环境，如：

```
activate_this = '/path/to/env/bin/activate_this.py'
execfile(activate_this, dict(__file__=activate_this)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-02T12:24:37.117

如果你想在 virtualenv 之外运行一个程序，只需运行你的系统 python 可执行文件（例如`/usr/bin/python`）而不是 virtualenv 中的那个。

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2012-07-20T05:54:11.760

这听起来像个坏主意。您正在尝试在此脚本中修改脚本的环境。请解释为什么？

你不能分层吗？使用一个脚本在不同的虚拟环境中运行不同的脚本。

* * *

## 回答 #4

> 赞同：-4
> 
> 时间：2013-09-06T14:34:31.960

在命令行中，输入单词“deactivate”

# css - CSS 工具提示不适用于滑块

> ID：11573262
> 
> 赞同：0
> 
> 时间：2012-07-20T05:13:43.417
> 
> 标签：css, tooltip

我为一个小型大学图书馆管理网站，并尝试为作为滑块一部分的图像创建气泡工具提示。这是该页面的链接，向您展示我的意思：

[http://library.sfc.edu/webvoy3.htm](http://library.sfc.edu/webvoy3.htm)。如果您将鼠标悬停在滑块中的第一张图片上，您会看到工具提示卡在那里。这个工具提示没有 JavaScript，只有 CSS。我从[http://trentrichardson.com/examples/csstooltips/](http://trentrichardson.com/examples/csstooltips/)获得了代码。

这是工具提示的 CSS 部分：

```
a.tt{
  position:relative;
  z-index:24;
  color:#3CA3FF;
  font-weight:bold;
  text-decoration:none;
}

a.tt span{ display: none; }

a.tt:hover{ z-index:25; color: #aaaaff; background:;}
a.tt:hover span.tooltip{
  display:block;
  position:absolute;

  top:0px; left:0;
  padding: 15px 0 0 0;
  width:200px;
  color: #993300;

  text-align: center;
  filter: alpha(opacity:90);
  KHTMLOpacity: 0.90;
  MozOpacity: 0.90;
  opacity: 0.90;
}

a.tt:hover span.top{
  display: block;
  padding: 30px 8px 0;
  background: url(images/bubble.gif) no-repeat top;
  margin-top: 20px;
}

a.tt:hover span.middle{ /* different middle bg for stretch */
  display: block;
  padding: 0 8px;
  background: url(images/bubble_filler.gif) repeat bottom;
}

a.tt:hover span.bottom{
  display: block;
  padding:3px 8px 10px;
  color: #548912;
  background: url(images/bubble.gif) no-repeat bottom;
} 
```

这是 SLIDER 的 CSS

```
#slider {
  width: 450px;
  position: relative;
  height:inherit;
  float:left;
  padding-right:45px;
  margin-left: 8px;
}

#slider .buttons span {
  display: block;
  width: 38px;
  height: 38px;
  font-size: 0;
  line-height: 0;
  text-indent: -4000px;
  cursor: pointer;
}

#slider .buttons span {
  position: absolute;
  top: 32px;
}

#slider .buttons .prev {
  left: -5px;
  background: url(images/button-prev.gif) no-repeat 0 0;
}

#slider .buttons .next {
  right: 16px;
  background: url(images/button-next.gif) no-repeat 0 0;
}

#slider .holder {
  width: 400px;
  height: 110px;
  position: relative;
  overflow: hidden;
  left:40px;
  margin-right: 5px;
  padding-right: 0px;
  padding-top: 9px;
  background: url(images/back-slider.jpg) no-repeat 0 0;
}

#slider .content ul {
  position:relative;
  list-style-type:;
  height:112px;
  width: 450px;
  overflow:hidden;
  padding-right: 10px;
  padding-top: 5px;
}

#slider .content ul li {
  float: left;
  display: inline;
  list-style-type: none;
  margin-left: 16px;
  height:133px;
  overflow:hidden;
  width:80px;
}

#slider .content ul li a {
  display:block;
  width: 74px;
  height: 97px;
  padding-left: 3px;
  padding-top: 4px;
  background: url(images/slider-fragment.gif);
} 
```

这是 HTML 代码

```
<div id="slider">
  <div class="buttons">
    <span class="prev">prev</span>
    <span class="next">next</span>
  </div>

  <div class="holder">
    <div class="content">
      <ul>
        <li>
          <a href="http://library.sfc.edu:7008/vwebv/holdingsInfo?bibId=261454" class="tt">
            <img src="css/css-eb/images/covers/cover1.png" />
            <span class="tooltip">
              <span class="top"></span>
              <span class="middle">This is my Bubble Tooltip with CSS</span>
              <span class="bottom"></span>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</div> 
```

问题似乎是工具提示的 CSS 与滑块的 CSS 不兼容。任何建议或意见将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T05:18:02.303

`overflow: hidden`当我通过开发人员工具实时执行此操作时，只需删除`#slider .content ul li`- 对我有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:30:46.823

请删除`overflow:hidden`类#slider .content ul li

```
#slider .content ul li {
    float: left;
    display: inline;
    list-style-type: none;
    margin-left: 16px;
    height: 133px;
    width: 80px; 
```

}

# django - models.py 的 Django ImportError

> ID：11573264
> 
> 赞同：0
> 
> 时间：2012-07-20T05:13:52.817
> 
> 标签：django, importerror

（用更多信息更新我的问题。）我的 django 应用程序在我的开发服务器上运行良好。我有一个使用以下行从数据库中提取的视图，效果很好：

```
from myapp.models import MyTable 
```

但是，如果我将上面的“from/import”添加到另一个模块（见下面的结构，它是名为“problem_module.py”的模块）我正在写我想从 sqlite3 数据库中提取的地方，我会收到这个错误。

```
raise ImportError("Could not import settings '%s' (Is it on sys.path?): %s" % (self.SETTINGS_MODULE, e))
ImportError: Could not import settings 'myfolder.settings' (Is it on sys.path?): No module  named myfolder.settings 
```

当人们收到此错误时，我已经阅读并尝试了各种推荐的解决方案，但我错过了一些东西，因为我无法解决它。

我正在使用 Django 1.4 并按照建议进行布局。

```
 mysite/
         manage.py

         mysite/
            __init__.py
            settings.py
            urls.py
            wsgi.py
         myapp/
            __init__.py
            models.py
            admin.py
            views.py

            indevelopment/
                __init__.py
                problem_module.py 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T20:04:51.077

在仔细查看回溯并查看 django 源代码后，我弄清楚了发生了什么以及为什么。这就是发生的事情。

当你运行时： `python manage.py runserver`

假设您已经更改了这个小文件或者只是不注意它，因为 django 1.4 会自动为您配置它，所以环境变量会正确设置。 `os.environ.setdefault("DJANGO_SETTINGS_MODULE", "myapp.settings")`

但是，因为 os.environ 的这个设置在一个: `if __name__ = "__main__"` 表达式下，它只有在直接调用该文件时才会运行，就像你这样做： `python manage.py runserver`

否则，如果您正在运行需要该环​​境变量的文件 - 例如在 Eclipse 中测试模块 - ，则 os.environ 需要设置在另一个地方（shell 等）。

我得到的所有内容通常都指向这一点，但我需要上下文。

但是作为对源代码的一点调整（是的，这不是一个好主意），您也可以手动硬编码`/django/conf/__init__.py`

具体来看它发生在哪里，下面的更改有效：

```
# in module: /django/conf/__init__.py

class LazySettings(LazyObject):
    def _setup(self):
        try:
            # Comment out the call to os.environ and hardcode in your app settings
            #    settings_module = os.environ[ENVIRONMENT_VARIABLE]
            # WARNING: bad practice to do this. ;.
            settings_module = "myapp.settings" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:28:15.923

你改变/设置了`DJANGO_SETTINGS_MODULE`吗？

尝试`export DJANGO_SETTINGS_MODULE=mysite.settings`启动您的开发服务器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T10:23:52.033

修改你的manage.py：

```
os.environ.setdefault("DJANGO_SETTINGS_MODULE", "mysite.settings") 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-10T18:33:47.880

PyCharm 有时会将 DJANGO_SETTINGS_MODULE 覆盖为空字符串。尝试调试您的 manage.py 并查看它在`setdefault()`调用后是否真的发生了变化。如果它没有更改 pycharm 设置或使用`os.environ['DJANGO....']='my_settings'`.. 或在`.idea/`. `.idea/workspaed.xml`包含

```
环境名称="DJANGO_SETTINGS_MODULE" 值=""
```

在这种情况下

# php - 防止已注销的用户访问可用于已登录用户的 url 链接

> ID：11573270
> 
> 赞同：2
> 
> 时间：2012-07-20T05:14:27.677
> 
> 标签：php

我已经通过使用会话变量来存储基于哪些用户登录的用户名来完成一个登录页面，我想知道是否可以制作仅供登录用户访问的 url 链接，但 url 链接应该对未登录的用户不可用，例如已登录的人，如果他试图复制 url 并将其提供给另一个人，并且如果该人在未登录的情况下将 url 粘贴到他的地址栏中，他应该重定向到登录页面或应该显示一些消息，说明他需要登录才能查看该特定 url 链接。

我已经在谷歌搜索过这个，找不到任何解决方案。

**编辑 ** 实际上该链接是一个 https 页面，其 url 需要隐藏，类似于我们隐藏用于使用 header 下载的 pdf 的路径的方式。

例如，我创建了一个 php 页面，如果用户名在会话中并且他单击了一个链接，他将被重定向到此链接页面，但他看不到 url。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T05:18:26.000

登录成功时创建会话变量。

```
$_SESSION['logged_in'] = $_POST['username']; 
```

然后在每个页面开始使用`session_start()`

检查后立即

`if(! isset($_SESSION['logged_in'])) { /* redirect to login page */ }`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:18:28.887

假设“URL 链接”指向 PHP 页面，在每个页面的顶部只需验证请求该页面的 Web 浏览器是否已建立有效会话。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T05:22:45.973

这样做：

```
<?php

session_start();

if(isset($_SESSION['loggeduser']){
echo "Welcome";
}
else{
echo "Unauthorized User";
//redirect user to login page
}

?> 
```

# android - 如何直接通过代码调整 android ShapeDrawable 的大小而不创建另一个

> ID：11573283
> 
> 赞同：2
> 
> 时间：2012-07-20T05:16:16.253
> 
> 标签：android

```
 I am able to resize a drawn ShapeDrawable but it Creates another shape with the       following code how can I just resize the original ShapeDrawable 
```

我正在编写一个绘图应用程序，并且已经坚持了几天，任何帮助都将不胜感激，即使是在正确的方向上轻轻推动。

```
 public void Resize(Context context){     
        setFocusable(true);
        setFocusableInTouchMode(true);
        this.setOnTouchListener(this);  
        //this.setOnClickListener(this.mDrawablecircle); 

        int x =Integer.parseInt("0"); 
        int y =Integer.parseInt("0");
        int cirw =Integer.parseInt("20"); 
        int cirh =Integer.parseInt("20"); 
        mDrawablecircle.getPaint().setStyle(Style.valueOf(Shapestoollistactivity.mf));
        mDrawablecircle.getPaint().setColor(ColorPickerActivity.thecolor);
        mDrawablecircle.getCurrent().setBounds(x, y, x + cirw, y + cirh);
        mDrawablecircle.draw(mCanvas);} 
```

// 更新这是我最终做的仍然不是 100% // 但有些工作可能会帮助其他人

```
 public void Resize(int newWidth){     
    setFocusable(true);
    setFocusableInTouchMode(true);
    this.setOnTouchListener(this);  
    int x = (int) mPosX; 
    int y = (int) mPosY;
    width = mDrawablecircle.getBounds().width();  

    height = mDrawablecircle.getBounds().height();  
    float scaleWidth = ((float) newWidth) / width;  
    float ratio = ((float) mDrawablecircle.getBounds().width()) / newWidth;  
    int newHeight = (int) (height / ratio);  
    float scaleHeight = ((float) newHeight) / height;  
    matrix.setTranslate(mPosX+40,mPosY+40);
    matrix.postScale(scaleWidth, scaleHeight);  
    postInvalidate();}   

  // and in In onDraw  
  // I Changed this:       mCanvas.drawBitmap(mBitmap,0,0, mPaint);
        //  to:       mCanvas.drawBitmap(mBitmap,matrix, mPaint);

hope this helps some one else Im sure there is a better solution 
but I cant seem to  find a better one as of yet feel free to chime in and 
correct me Please this at least will do the resize of a shape drawable without
creating a new one but it resizes the whole canvas  NOT WHAT I WAS AFTER
I would like  to be able to resize individuale shapedrawables
Which are created from java code not xml or from a resource. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:40:59.647

而不是像这样在 mDrawableCircle 上调用 draw ，请执行以下操作。我假设您的课程是自定义视图。

```
 public void Resize(Context context) {
          .....
       invalidate();
    }

    public void onDraw(Canvas canvas) {
       super.onDraw(paint);
       //Do the drawing of the drawable here. 
    } 
```

# iphone - 如何减小 UIFont 大小并显示大句一行 UILabel iPhone？

> ID：11573285
> 
> 赞同：0
> 
> 时间：2012-07-20T05:16:45.817
> 
> 标签：iphone, ios, fonts, uilabel

我的 iPhone 应用程序中有一个 UILabel。我想在一行中显示 UILabel 中的大句子。这意味着我想减小字体大小并在可见区域显示全文。我不想在多行中显示它。谁能帮我做到这一点？

我的代码是：

```
textViewLabel = [[UILabel alloc] initWithFrame:CGRectMake(8, 5, 194, 20)];
textViewLabel.text = @"I have an UILabel in my iPhone app. I have want";
textViewLabel.textColor = [UIColor lightGrayColor];
textViewLabel.font = [UIFont fontWithName:@"Helvetica" size:14];
textViewLabel.numberOfLines = 0;
textViewLabel.backgroundColor = [UIColor clearColor];

CGSize maximumLabelsize2 = CGSizeMake(194,20);
CGSize expectedLabelsize2 = [result sizeWithFont:textViewLabel.font constrainedToSize:maximumLabelsize2 lineBreakMode:textViewLabel.lineBreakMode]; 
CGRect messagesFrame = textViewLabel.frame;
messagesFrame.size.height = expectedLabelsize2.height;
textViewLabel.frame = messagesFrame; 
```

任何人请帮我做到这一点？提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T05:40:02.130

更改 numberOfLines 属性

```
textViewLabel.numberOfLines = 0; // 0 means as many lines as needed 
```

到

```
textViewLabel.numberOfLines = 1; 
```

添加

```
textViewLabel.adjustsFontSizeToFitWidth = YES; 
```

考虑设置

```
textViewLabel.minimumFontSize = someValue; // default is 0.0 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T05:21:42.397

试试这个属性：

```
myLabel.adjustsFontSizeToFitWidth = YES; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-20T05:25:52.707

试试这个 ：

```
[textViewLabel  setAutoresizingMask:UIViewAutoresizingFlexibleWidth]; 
```

# .net - Windows 游戏项目：错误：无法加载 Microsoft.Xna.Framework.Content.Pipline

> ID：11573288
> 
> 赞同：0
> 
> 时间：2012-07-20T05:16:55.520
> 
> 标签：.net, visual-studio-2008, xna

我只是创建了一个 Windows 游戏项目并在没有对项目进行任何更改的情况下运行，我收到了这个错误。

> 无法从程序集 Microsoft.Xna.Framework.Content.Pipeline、Version=3.0.0.0、Culture=neutral、PublicKeyToken=6d5c3888ef60e27d 加载“BuildContent”任务。
> 
> 无法加载文件或程序集 'Microsoft.Xna.Framework, Version=3.0.0.0, Culture=neutral, PublicKeyToken=6d5c3888ef60e27d' 或其依赖项之一。该系统找不到指定的文件。
> 
> 确认声明正确，并且程序集及其所有依赖项都可用。

我不知道上面的细节。我正在开始游戏开发。

# sql - 字符串或二进制数据将在 asp.net 中被截断

> ID：11573294
> 
> 赞同：2
> 
> 时间：2012-07-20T05:18:03.180
> 
> 标签：sql, sql-server, insert

我`String or binary data would be truncated`在尝试执行时出错

```
Insert into Student_info (StudentId,FirstName,LastName,DOB,StudentAddress,StudentEmail,StudentMobile) 
                         (Select StudentId,FirstName,LastName,DOB,Address,EmailId,Mobile from Student_temp where StudentId='" & studentid & "') 
```

表结构`Student_Temp`

![这里](../Images/155d47d78b861781f20cdc57a4de16e7.png)

表结构`Student_Info`

![这里](../Images/1c260f4804647831a8f577cdbb96a07c.png)

需要帮忙 ！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T05:19:37.077

当您尝试将字符串或二进制数据插入到没有足够宽度容纳它的列中时，SQL Server 会报告此错误，例如

```
create table MyTable
(
    Column1 VARCHAR(10)
)

insert into MyTable (Column1) VALUES ('1234567890A')

Msg 8152, Level 16, State 14, Line 1
String or binary data would be truncated 
```

猜测，这是因为你`Student_info.StudentMobile`是`varchar(10)`而`Student_temp.Mobile is varchar(50)`

# javascript - 我们有一个好的 javascript 调试器吗？

> ID：11573295
> 
> 赞同：0
> 
> 时间：2012-07-20T05:18:11.883
> 
> 标签：javascript

> **可能重复：**
> [JavaScript 调试器](https://stackoverflow.com/questions/103155/javascript-debugger)

有没有办法调试javascript。我在 Mozilla 上发现了许多插件，但由于文档有限，我无法正确使用它们。任何人都可以为我指出一个我可以依赖的好调试器。提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T05:27:53.763

现代浏览器*已经内置了调试器*：

IE

*   F12 开发者工具（内置，IE9+）
*   DebugBar 工具栏（第三方，< IE9）

火狐

*   Firebug 插件（第三方）

Safari 和 Chrome

*   Webkit 开发者工具（内置）

歌剧

*   蜻蜓（内置）

此外，Firebug 还提供脚本版本 Firebug lite，可在任何浏览器上使用。只需将脚本添加到其他任何内容之前，然后在生产过程中将其删除。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T05:24:43.780

Firebug 是一个帮助您在浏览器中调试 javascript 的工具。您也可以选择 Chrome 开发工具（取决于您喜欢使用什么）

如果您不喜欢在浏览器中进行 javascript 调试，那么我可以建议您使用免费提供的 Visual Web 开发人员，让您能够从 IDE 调试代码。

在 Visual Studio 2010 中阅读此[调试 JavaScript？](https://stackoverflow.com/questions/5413937/debug-javascript-in-visual-studio-2010)

# java - 连接http并通过sms发送短信时如何清除j2me midlet中的IOExceptionE错误？

> ID：11573296
> 
> 赞同：1
> 
> 时间：2012-07-20T05:18:15.487
> 
> 标签：java, java-me, sms, midp

我正在研究 j2me 移动应用程序部分。我必须使用 http 连接和短信格式（使用短信网关）发送消息。

当我尝试执行此操作时，`java.io.IOException: Resource limit exceeded for file handles`正在我的控制台中抛出。

如何避免这种情况？这是我的连接代码：

```
public boolean sendViaHTTP(String message)
{

    System.out.println("enter HTTP Via");
HttpConnection httpConn = null;

String url = "http://xxx.com/test.php";

System.out.println("URL="+url);
InputStream is = null;
OutputStream os = null;
try 
{
    // Open an HTTP Connection object
    httpConn = (HttpConnection)Connector.open(url);
    // Setup HTTP Request to POST
    httpConn.setRequestMethod(HttpConnection.POST);
    httpConn.setRequestProperty("User-Agent",
    "Profile/MIDP-2.0 Confirguration/CLDC-2.0");
    httpConn.setRequestProperty("Accept_Language","en-US");
    //Content-Type is must to pass parameters in POST Request
    httpConn.setRequestProperty("Content-Type", "application/x-www-form-urlencoded");
    String value = System.getProperty("com.nokia.network.access");
    os = httpConn.openOutputStream();
    String params;
    params = "message=" + message;
    os.write(params.getBytes());// input writes in server side

    // Read Response from the Server
    StringBuffer sb = new StringBuffer();
    is = httpConn.openDataInputStream();
    int chr;
    while ((chr = is.read()) != -1)
    sb.append((char) chr);

    Response = sb.toString();

    //switchDisplayable("", getForm());

    //System.out.println("REsponse="+Response);
}
catch(IOException ex)
{
    System.out.println(ex);
    return false;
}
catch (Exception ex)
{
    System.out.println(ex);
    return false;
} 
finally 
{
    try 
    {
        if(is!= null)
        is.close();
        if(os != null)
        os.close();
        if(httpConn != null)
            httpConn.close();
    } 
    catch (Exception ex)
    {
        System.out.println(ex);
    }
}
return true;

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T05:20:53.507

该异常（很可能）发生，因为在您的应用程序中的某个地方，您在完成对流的读取/写入后并未关闭流。

为了说明，如果这个语句

```
 if (is != null) is.close(); 
```

抛出异常（例如 an `IOException`），则`finally`块中的剩余语句将不会被执行。这可能会泄漏文件描述符。

问题也可能完全出在代码的另一部分，但异常消息*清楚地*指出了您的应用程序使用太多文件描述符的问题，最可能的原因是资源泄漏。

# jquery - 花式盒子第二次没有打开

> ID：11573301
> 
> 赞同：1
> 
> 时间：2012-07-20T05:18:32.990
> 
> 标签：jquery

当我单击按钮时，下面给出的代码第二次不起作用。我使用 jquery 的 trigger(click) 函数调用它。

```
jQuery(document).ready(function(){
        jQuery('.fancybox').fancybox(
            {

               hideOnContentClick : true,
               width: 382,
               autoDimensions: true,
               type : 'iframe',
               showTitle: false,
               scrolling: 'no',
               onComplete: function(){
                jQuery('#fancybox-frame').load(function() { // wait for frame to load and then gets it's height
                    jQuery('#fancybox-content').height(jQuery(this).contents().find('body').height()+30);
                    jQuery.fancybox.resize();
                 });

               }
            }
        );
    }); 
```

# c++ - C/C++ 中泊松磁盘采样的代码/库

> ID：11573306
> 
> 赞同：4
> 
> 时间：2012-07-20T05:19:26.753
> 
> 标签：c++, math, random, sampling

我正在寻找一个在 C 或 C++ 中实现泊松磁盘采样的库，或者另一个易于翻译的库。最好不要令人难以置信的长资源，但如果是这样也可以。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-05-06T14:58:32.033

这是一个干净的 C++ 单文件实现：

[https://github.com/corporateshark/poisson-disk-generator](https://github.com/corporateshark/poisson-disk-generator)

# iphone - 如何以编程方式将文本保存为 Objective-c 中的图像文件？

> ID：11573308
> 
> 赞同：2
> 
> 时间：2012-07-20T05:19:35.173
> 
> 标签：iphone, objective-c, image, text

我想从事一个项目，我需要通过objective-c将用户键入的文本保存为.PNG文件。我的意思是当用户输入一些文本时，我会为用户提供选择字体类型然后保存的选项。之后，该文件将保存为没有背景的 .PNG 文件。

我怎样才能做到这一点。请分享您的观点。

提前致谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-20T05:30:26.333

使用此方法从文本中获取图像：

```
-(UIImage *)imageFromText:(NSString *)text
{
// set the font type and size
//UIFont *font = [UIFont systemFontOfSize:txtView.font];  
CGSize size  = [text sizeWithFont:txtView.font]; // label or textview

// check if UIGraphicsBeginImageContextWithOptions is available (iOS is 4.0+)
if (UIGraphicsBeginImageContextWithOptions != NULL)
    UIGraphicsBeginImageContextWithOptions(size,NO,0.0);
else
    // iOS is < 4.0 
    UIGraphicsBeginImageContext(size);

 [text drawInRect:CGRectMake(0,0,size.width,size.height) withFont:txtView.font]; 
 UIImage *testImg = UIGraphicsGetImageFromCurrentImageContext();
 UIGraphicsEndImageContext();    
 return testImg;
} 
```

现在你有这样的图像保存

```
NSString *docDir = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];

NSString *pngFilePath = [NSString stringWithFormat:@"%@/test.png",docDir]; // any name u want for image
NSData *data1 = [NSData dataWithData:UIImagePNGRepresentation(image)]; your image here
[data1 writeToFile:pngFilePath atomically:YES]; 
```

# iphone - 使用情节提要的带有 adwhirl 的选项卡式应用程序

> ID：11573311
> 
> 赞同：0
> 
> 时间：2012-07-20T05:19:40.197
> 
> 标签：iphone, ios, storyboard, iad

我已经使用`storyboard`. 我想`adwhirl`在我的标签栏下方。虽然我`tabbar`在点击任何项目后自定义我的。我无法在初始阶段更改标签栏的位置。而且我还希望我的全部`tabbarviewcontrollers`都是自定义大小，以便在inApp购买`adwhirl`后将被删除并且整个`tabbarviewcontoller`将重新调整到其原始位置。任何想法如何实现这一点。仅供参考，我想`adwhirl`拥有`iAd`&`adMob`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:55:21.153

获取[Apple 的 iAdSuite](http://developer.apple.com/library/ios/samplecode/iAdSuite/Introduction/Intro.html)并查看 TabbedBanner 和 SplitViewBanner 。您必须将两者的一些效果结合起来。SplitViewBanner 将向您展示如何在 BannerViewController 中嵌入另一个视图控制器，嵌套视图控制器。我认为 TabBarBanner 代码将广告放在标签栏“上方”，但您可以看到标签栏控制器是如何动态创建的。如果你把这两个概念结合起来，你可能会得到你想要的。

此外，虽然这些示例是动态的，但我能够在情节提要中创建一个 splitViewController，然后将 rootViewController 重新设置为包含 tabBarController 的bannerViewController。

可能看起来像这样（再次，假设您已经在情节提要中创建了 tabBarController）：

```
 UITabBarController* tabBarController = (id)self.window.rootViewController;
    CGRect tabBarViewFrame = TabBarController.view.frame;
        tabBarViewFrame.origin.y -= application.statusBarFrame.size.height;
        tabBarViewFrame.size.height += application.statusBarFrame.size.height;
    tabBarController.view.frame = tabBarViewFrame;

    // get BannerViewController from the SplitViewBanner of iAdSuite ;
    // it should do the work of creating the space for your iAds only when necessary.

    self.bannerViewController
      = [[BannerViewController alloc] initWithContentViewController:tabBarController];
    self.window.rootViewController = self.bannerViewController; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-08T05:45:17.687

经过这么多研究，我发现使用 Adwhirl 这是不可能的。只有当我希望我的 AdMob 和 iAd 在不同的地方时，这才有可能。而且因为我希望我的两个广告在不同时间段的同一个地方。我无法以这种方式实现这一目标。所以我以其他方式做到了。我在其中采取了额外的 UIView。当我不想要广告时会添加。并且会在我需要的时候被移除。而不是将其添加到标签栏下方。我在标签栏上方集成了广告。因此，我用一些缝线满足了我的要求。

# php - 使用 PHP 从数据库中检索数据

> ID：11573313
> 
> 赞同：0
> 
> 时间：2012-07-20T05:19:48.747
> 
> 标签：php, sql

我在 SQL 中创建了一个与此类似的数据库（表）。

```
 x   y   z
1  x1  y1  z1
2  x2  y2  z2 
```

这是我创建的表；现在我想使用 PHP 对其进行一些数学运算。如何检索数据并对其进行数学运算？如何从数据库表中获取数据并将它们保存在 PHP 变量中？

```
function ans($x1, $y2, $z2)
{
#a = x1 - y2;
#z2 = $z2 -$a;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T05:42:38.347

代码如下所示：

```
<?php

 $con = mysql_connect("localhost","username","password");
 if (!$con)
   {
   die('Could not connect: ' . mysql_error());
   }

mysql_select_db("database", $con);

$xAnswer = 0;
$yAnswer = 0;
$zAnswer = 0;

$result = mysql_query("SELECT x,y,z FROM MathTable");

while($row = mysql_fetch_array($result))
   {
     $xAnswer = Add($row["x"],$row["y"]);
     $yAnswer = Multiply($row["z"],$row["y"]);
     $zAnswer = Subtract($row["z"],$row["x"]);
   }

mysql_close($con);

    function Add($x,$y)
    {
       return $x + $y;
    }

    function Subtract($x,$y)
    {
       return $x-$y;
    }

    function Multiply($x,$y)
    {
       return $x*$y;
    }

    function Divide($x,$y)
    {
       return $x/$y;
        }
 ?> 
```

或者，可以处理 sql 中的数学运算，然后将答案放入变量中：

```
SELECT (x+y) AS Add,(x-y) AS Subtract,(z/x) AS Divide FROM MathTable 
```

通过记录集的循环将如下

```
while($row = mysql_fetch_array($result))
       {
         $xAnswer = $row["Add"];
         $yAnswer = $row["Subtract"];
         $zAnswer = $row["Divide "];
       } 
```

请记住，由于表中记录的数量，每次循环增加时，变量都会有不同的答案，因此您可能需要一个运行总计，或者您可以使用上面的添加示例变量保持运行总计：

```
$xAnswer = $xAnswer  + $row["Add"]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T10:48:38.753

mysql_connect 将被弃用。 [http://php.net/manual/en/function.mysql-connect.php](http://php.net/manual/en/function.mysql-connect.php)

改用 mysqli [http://www.php.net/manual/en/book.mysqli.php](http://www.php.net/manual/en/book.mysqli.php)

# android - YouTube：在 Android 应用程序上播放

> ID：11573315
> 
> 赞同：-1
> 
> 时间：2012-07-20T05:20:26.110
> 
> 标签：android, youtube

> **可能重复：**
> [如何在我的 Android 应用程序中播放 YouTube 视频？](https://stackoverflow.com/questions/4654878/how-to-play-youtube-video-in-my-android-application)

如何在我的 android 应用程序中播放 youtube 视频。有这么多人给出了观点，但它不起作用。谁能给我任何解决方案。

我正面临着异常：

```
07-20 14:32:50.898: E/MediaPlayer(4130): error (1, -2147483648) 
```

07-20 14:32:50.914：E/MediaPlayerDemo(4130)：错误：准备失败。：状态 = 0x1 07-20 14:32:50.914：E/MediaPlayerDemo(4130)：java.io.IOException：准备失败。 : status=0x1 07-20 14:32:50.914: E/MediaPlayerDemo(4130): at android.media.MediaPlayer.prepare(Native Method) 07-20 14:32:50.914: E/MediaPlayerDemo(4130): at com .youtube.MainMenu.playVideo(MainMenu.java:133) 07-20 14:32:50.914: E/MediaPlayerDemo(4130): 在 com.youtube.MainMenu.surfaceCreated(MainMenu.java:188)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:08:36.777

参考这个链接

[https://stackoverflow.com/a/1309821/1441666](https://stackoverflow.com/a/1309821/1441666)

并且

```
 video.setVideoURI(Uri.parse("rtsp://v6.cache7.c.youtube.com/CiILENy73wIaGQk-fYZWNAPDsxMYDSANFEgGUgZ2aWRlb3MM/0/0/0/video.3gp"));
    mMediaController = new MediaController(this);
    mMediaController.setMediaPlayer(video);
    video.start(); 
```

# facebook - 如何在 MVC3 中将照片上传到 Facebook？

> ID：11573317
> 
> 赞同：1
> 
> 时间：2012-07-20T05:20:32.383
> 
> 标签：facebook, asp.net-mvc-3

我正在尝试使用 MVC3 C# 将照片上传到 Facebook 墙上。我尝试了几种方法都没有结果。

我不确定这在 MVC3 中是否可以实现。我在 Google 和 Stackoverflow 上搜索了很多，但没有找到合适的解决方案。

有人可以帮我吗？请发送您的控制器代码和查看页面，以及如何调用此按钮以在 Facebook 墙上发布图像。

由于这张将照片上传到 Facebook，我的工作被困住了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:28:30.473

这会起作用

```
var attachment = new JsonObject();
var media = new[]{
    new{
        type="jpeg",
        src = filePath,
        title= "title", 
        artist= "art", 
        album= "album"
    }
};
//var mediaArray = new JsonArray { media };
attachment.Add("name", "sfs");
attachment.Add("href", "http://www.google.com");
attachment.Add("caption", " asdas");
attachment.Add("description", description);
attachment.Add("target_id", "1231231");
attachment.Add("media", media);

var sb = new StringBuilder("https://api.facebook.com/method/stream.publish?");
sb.Append("message="); sb.Append(description + "&");
sb.Append("attachment=");
sb.Append(attachment);
sb.Append("&access_token=");
sb.Append(accessToken);
var req = WebRequest.Create(sb.ToString());
req.GetResponse(); 
```

# bash - bash自动完成无目录

> ID：11573318
> 
> 赞同：3
> 
> 时间：2012-07-20T05:20:47.060
> 
> 标签：bash, autocomplete

我有这个问题有一段时间了。在 /home/me/ 中说我有“cat3”作为目录。现在，在我的 Bash shell 中，我执行“$ cat[tab]”。我的标签循环显示：cat、catchsegv、catman。但没有“cat3”。如果我执行“cd cat[tab]”，那么它会立即给出 cat3。这很烦人，因为有时我有一个具有 555 权限的脚本“cat3/test.py”。

理想情况下，我想输入“c[tab]t[tab][enter]”来运行脚本。但我必须输入“cat3/t[tab][enter]”...

在查看 /usr/bin 或其他内容之前，如何让选项卡考虑 CWD 中的目录和可执行文件？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T05:27:08.960

如果`cat3`是一个目录，shell 不会在您启动时自动完成它，就好像您要在路径中执行命令一样。一个简单的解决方案是从当前目录符号开始，即'.'：

```
$ ./c[tab] 
```

或者，您可以在 ~/bin 中创建指向 cat3 脚本的符号链接，并将 ~/bin 添加到您的路径中：

```
export PATH=~/bin:$PATH 
```

如果您真的想将当前目录添加到您的路径中，您仍然可以这样做（但是，这是一个非常糟糕的主意，因为至少当您想要自动完成非常常用的命令时它会让您感到惊讶）：

```
export PATH=.:$PATH 
```

# php - PHP/JS：在不丢失其价值的情况下呼应多个变量

> ID：11573321
> 
> 赞同：4
> 
> 时间：2012-07-20T05:21:09.060
> 
> 标签：php, javascript, jquery, ajax

我构建的 JS/Ajax 函数无需单击按钮或刷新页面即可提交。该函数获取输入字段的值并用 php 回显结果。但是每次回显一个变量时，下一个变量都会擦除前一个变量的值。如何避免这种情况？[例子](http://google.com)

**JS**

```
<script>
$(document).ready(function() {
  var timer = null; 
    var dataString;   
      function submitForm(){
        $.ajax({ type: "POST",
           url: "index.php",
           data: dataString,
           success: function(result){
                         $('#special').html('<p>' +  $('#resultval', result).html() + '</p>');
                                           }
                 });
                 return false; }

    $('#contact_name').on('keyup', function() {
    clearTimeout(timer);
    timer = setTimeout(submitForm, 050);
          var name = $("#contact_name").val();
    dataString = 'name='+ name;
    });

     $('#email').on('keyup', function() {
     clearTimeout(timer);
     timer = setTimeout(submitForm, 050);
     var name = $("#email").val();
     dataString = 'name='+ name;
     });

     $('#phone').on('keyup', function() {
     clearTimeout(timer);
     timer = setTimeout(submitForm, 050);
     var name = $("#phone").val();
     dataString = 'name='+ name;
     });

     $('#address').on('keyup', function() {
     clearTimeout(timer);
     timer = setTimeout(submitForm, 050);
     var name = $("#address").val();
     dataString = 'name='+ name;
     });

     $('#website').on('keyup', function() {
     clearTimeout(timer);
     timer = setTimeout(submitForm, 050);
     var name = $("#website").val();
     dataString = 'name='+ name;
     });

 }); 
</script> 
```

**HTML/PHP**

```
<form action="" method="post" enctype="multipart/form-data" id="contact_form" name="form4"> 
     <div class="row">  
      <div class="label">Contact Name *</div> <!-- end .label --> 
        <div class="input"> 
          <input type="text" id="contact_name" class="detail" name="contact_name" value="<?php $contact_name ?>" />  
          <div id="special"><span id="resultval"></span></div>  
        </div><!-- end .input--> 
     </div><!-- end .row --> 
     <div class="row">  
      <div class="label">Email Address *</div> <!-- end .label --> 
       <div class="input"> 
        <input type="text" id="email" class="detail" name="email" value="<?php $email ?>" />  
        <div id="special"><span id="resultval"></span></div> 
       </div><!-- end .input--> 
     </div><!-- end .row --> 
    </form> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T05:27:08.183

你可以使用`append()`方法：

```
success: function(result){
        $('#special').append('<p>' + result + '</p>');
} 
```

由于您为输入设置了类似的类，因此您可以缩小代码：

```
 $('.detail').on('keyup', function() {
    clearTimeout(timer);
    var name = $(this).val();
    dataString = 'name='+ name;
    timer = setTimeout(submitForm, 050);
 }); 
```

请注意，ID*必须*是唯一的，并且从服务器重复请求数据效率不高。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T05:44:37.377

您遇到的问题是由对多个元素使用相同的 id 引起的。

ID 应该是唯一的，但如果有相同的 id，则只选择具有该 id 的第一个元素。

# spring - Spring服务层：多个线程访问更新方法导致乐观锁定异常

> ID：11573326
> 
> 赞同：0
> 
> 时间：2012-07-20T05:21:33.960
> 
> 标签：spring, hibernate, jpa, transactions

我的 Spring 3 Web 应用程序遇到了问题：

用户可以通过拖放到浏览器中来将多个附件上传到 AttachmentParent，这会触发分段上传。spring 控制器获取文件，创建一个 Attachment 实体，然后将其发送到服务层，在那里它被添加到 AttachmentParent 上的附件列表中。

它适用于一个文件，但如果他们拖动多个文件并且几乎同时完成上传，则服务层会被多次调用，并且由于每个文件都是一个单独的请求并且服务标记为@Transactional，因此会打开多个事务同时围绕 AttachmentParent。第一个成功关闭，但其余所有都抛出乐观锁定异常，因为父级在打开后发生了变化，并且没有发生更新。

以下是相关代码：

文件上传控制器.java

```
@RequestMapping(value = "/attach/{parentid}", method = RequestMethod.POST)
public View handleFormUpload(@RequestParam("file") MultipartFile file, @PathVariable("parentid") long parentId, Model model) {
    AttachmentParent parent = em.find(AttachmentParent.class, parentId);
    try {
        StaticFile staticFile = fileUploader.uploadFile(file, parent.getUrl() + "/attachments/");
        Attachment a = new Attachment(staticFile.getFilename(), "", staticFile);

        attachmentService.addAttachment(parentId, a);

        //add data for the json response to the client
        model.addAttribute("name", file.getName());
        model.addAttribute("size", file.getSize());
        model.addAttribute("url", staticFile.getUrl());
        model.addAttribute("thumbnail_url", staticFile.getThumbnail_url());

    } catch (IOException e) {
        log.error("Cannot upload file");
        model.addAttribute("error", e.getMessage());
    }
    return new MappingJacksonJsonView();
} 
```

附件服务.java

```
@Transactional
public class AttachmentService extends GenericService<Attachment> {

...

public void addAttachment(long parentId, Attachment attachment) {
    log.debug("Starting to add an attachment for "+parentId);
    AttachmentParent parent = em.find(AttachmentParent.class, parentId);
    attachment.setParent(parent);
    parent.addAttachment(attachment);
    log.debug("About to merge "+parent.getId());
    em.merge(parent);
} 
```

日志消息的输出显示了问题：

```
Starting to add an attachment for 38
Starting to add an attachment for 38
Starting to add an attachment for 38
About to merge 38
About to merge 38
About to merge 38 
```

以及尝试关闭第一个事务后的每个事务时的控制台错误消息：

```
org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) 
```

我正在使用 spring 管理的事务管理器、hibernate 和 mysql5：

```
<bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager">
    <property name="entityManagerFactory" ref="entityManagerFactory"/>
</bean>

<tx:annotation-driven transaction-manager="transactionManager"/> 
```

根据我在网上阅读文章的理解，这是工作中的乐观锁定。我的问题是，解决这个问题的最佳方法是什么？

我提出了三种可能的解决方案：

*   将服务方法标记为**同步**- 这解决了问题。但它比它需要的限制更多：唯一的问题是当多个线程访问*同一个*附件父级时。也许有一个我不知道的 spring 注释允许您使用 spring el 来指定方法何时应该是同步的？另外，我不确定这是否会产生我不知道的其他影响：我从未见过标记为同步的服务层方法，所以我假设它出于某种原因不受欢迎

*   接受同一请求中的所有文件，并对其进行迭代，以便每个事务在另一个事务打开之前关闭。我猜这是可能的，但没有回答关于事务边界的原始问题

*   不知何故，让单个事务在多个请求上保持打开状态。我不确定这是否可行，但与我当前的模式有很大不同（服务层上的事务边界）

更新：下面的完整 AttachmentParent 类

```
@Entity
@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)
public abstract class AttachmentParent extends BaseEntity {
private Set<Attachment> attachments = new HashSet<Attachment>();

@OneToMany(cascade = CascadeType.ALL)
//annotation added in response to gkamal's answer, to no effect
@org.hibernate.annotations.OptimisticLock(excluded = true)
public Set<Attachment> getAttachments() {
    return attachments;
}

public void setAttachments(Set<Attachment> attachments) {
    this.attachments = attachments;
}

public void addAttachment(Attachment a) {
    attachments.add(a);
}

public void removeAttachment(Attachment a) {
    attachments.remove(a);
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T07:04:15.707

修改 AttachmentParent 类，以便对附件集合的更改不会导致更新父类的版本号。像这样的东西（如果您在尝试时遇到问题，请向我们展示您的 AttachmentParent 课程，我会给您确切的配置）

```
class AttachmentParent {
...

@OneToMany
@org.hibernate.annotations.OptimisticLock(excluded = true)
Set<Attachment> attachments;

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-31T05:50:24.440

我最终只是从父级中删除了列表并将对父级的引用存储在子级中。在父母中拥有孩子名单的便利不值得它造成的麻烦。

由于我仍然想要计算要存储在父类中的附件数量，因此我向`attachmentCount`父类添加了一个整数变量。尝试在`addAttachment`方法内部增加它会导致类似的问题，因为多个事务会读取相同的值，增加它，然后在它们应该等待第一个完成时将其设置为相同的值。为了解决这个问题，我在服务上设置了另一个方法`refreshParentAttachmentCount`，它运行一个查询来确定给定父级的附件数量，并将父级的 attachmentCount 设置为该数字。

我正在关闭这个问题，但如果有人有更好的答案，请随时发表评论。

# python - 调出 django n python 提示时

> ID：11573331
> 
> 赞同：0
> 
> 时间：2012-07-20T05:21:47.170
> 
> 标签：python, django, pydev

下载并解压缩 Django 后，当我在 python 提示符中调用它时，它不会让我这样做。我输入 import django 并没有吐出名为 django 的模块？？任何建议都会很棒。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T05:46:40.610

这是您需要确保其完成的过程：

1.  解压 Django 文件夹。说它在`c:\users\userid\downloads`或在`/home/user/downloads`

2.  打开终端，进入 django 文件夹目录。

3.  跑`$ python setup.py install`

你完成了。

尝试这个。它应该可以工作

```
$python
>>> import django
>>> 
```

否则，如果您已`pip`安装.. 只需运行`$ pip install django`它就会自动下载并安装。

# ruby-on-rails - 将搜索结果从一个控制器传递到另一个控制器

> ID：11573334
> 
> 赞同：0
> 
> 时间：2012-07-20T05:22:19.453
> 
> 标签：ruby-on-rails, forms, search, sunspot

我有一个索引页面设置，它在控制器、模型和视图（Gears 模型）中有一个带有刻面设置的太阳黑子搜索。

我试图在我的应用程序的主页上放置一个不同的搜索表单（不同的视图和控制器），但我希望该表单将用户重新定向到 Gears 模型搜索结果的索引页面。现在根页面是一个没有控制器的静态页面。如何传递搜索结果并重定向视图？

我可能在想这个错误，任何帮助表示赞赏。

我的代码...

**路线**

```
Outdoor::Application.routes.draw do

  resources :gears do
    resources :calendars, :only => [:create, :destroy, :edit] 
    resources :comments, :only => [:create, :destroy] 
  end

  match '/gear',   to: "gears#index"

  root to: 'pages#home'
end 
```

**控制器**

```
class GearsController < ApplicationController

  respond_to :html, :json

  def index
    @search = Gear.solr_search do
        fulltext params[:search]        
        facet (:category_name)
        facet (:sub_category_name)
        facet (:state)
        facet (:city)
        facet (:price)
        with(:price, params[:price]) if params[:price].present?
        with(:state, params[:state]) if params[:state].present?
        with(:city, params[:city]) if params[:city].present?
        with(:sub_category_name, params[:name]) if params[:name].present?
        with(:category_name, params[:categoryname]) if params[:categoryname].present?
        paginate(page: params[:page], :per_page => 15)
    end

    @gears = @search.results
  end 
end 
```

**主页查看表单（我还没有将其更改为使用表单助手）**

```
 <form id="homesearch_form" >
            <fieldset>
                <input type="text" name="homesearchbox" id="homesearch_textarea" onfocus="if(this.value=='Enter the location you’d like to rent gear')this.value='';" value="Enter the location you’d like to rent gear" onblur="if(this.value=='')this.value='Enter the location you’d like to rent gear'"/>
                    <input type="submit" id="homesearch_submit" value="" />
            </fieldset>
            <fieldset id="rentaldate_home" class="form-inline"> 
                <input type="text" name="rentaldate_home_from" id="rentaldate_home_from" onfocus="if(this.value=='From')this.value='';" value="From" onblur="if(this.value=='')this.value='From'" />
                    <input type="text" name="rentaldate_home_to" id="rentaldate_home_to" onfocus="if(this.value=='To')this.value='';" value="To" onblur="if(this.value=='')this.value='To'" />

            </fieldset>
    </form> 
```

谢谢您的帮助。

**解决了**

我将主页上的表格更改为以下内容：

```
 <%= form_tag({:controller => "gears", :action => "index"}, :method => "get", :id => "homesearch_form") do %>
        <%= text_field_tag :search, params[:search], id: 'homesearch_textarea' %> 
        <%= submit_tag "", :name => nil, id: 'homesearch_submit'  %>
    <% end %> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T07:17:08.077

据我了解，您希望在索引页面上有一个搜索表单，但搜索结果不是显示在索引页面上而是显示在齿轮索引页面上？这应该很简单，只需在此页面中包含相同的表单，最好使用部分不复制代码：

如[http://railscasts.com/episodes/278-search-with-sunspot](http://railscasts.com/episodes/278-search-with-sunspot)

```
<%= form_tag articles_path, :method => :get do %>
  <p>
    <%= text_field_tag :search, params[:search] %>
    <%= submit_tag "Search", :name => nil %>
  </p>
<% end %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T07:16:00.107

@gears 是索引操作中的实例变量，因此可用于查看文件。您可以渲染常规控制器/视图/模型之外的视图。

希望这对您有所帮助，将其写在您的索引操作的末尾：

```
render '/path/to/rails/app/views/books/edit.html.erb' 
```

# android - 从 android ADT 20 中的现有源创建项目

> ID：11573338
> 
> 赞同：3
> 
> 时间：2012-07-20T05:23:12.287
> 
> 标签：android, adt

ADT 20 中的“从现有源创建项目”选项在哪里。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-20T05:26:40.590

在 Eclipse 中转到

`File->New->Other->Android->Android Project From Exsisting Source`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T05:42:10.703

先去`File->New->Project->Select a Wizard under Android->Android Project from Existing code ->click next after normal steps such as old ADT in eclipse.`

就像下面的屏幕截图：

步骤 1 如下屏幕截图链接。

[![图片](../Images/a30850b6abeedf2d8577d0c7d7c6f0cd.png)](https://i.stack.imgur.com/sbXGr.png)

第 2 步如下面的屏幕截图链接。

[![图片](../Images/72cbd8f283f03002a7ce4d954b795503.png)](https://i.stack.imgur.com/vF6P1.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T05:25:14.413

您必须转到文件然后导入，然后您可以导入 Android 项目

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-20T05:26:32.750

按照步骤，

```
Goto -> File -> Import -> Android -> Existing Android Code Into WorkSpace 
```

# html - Internet Explorer 7 浮动列表元素

> ID：11573339
> 
> 赞同：0
> 
> 时间：2012-07-20T05:23:23.707
> 
> 标签：html, css, internet-explorer, internet-explorer-7

在过去的几个小时里，我一直在互联网上搜索这个问题的解决方案，但一直找不到任何东西，尽管有一些类似的问题，但似乎没有一个与此相同。

我有一个列表，其中包含 2 个跨度元素。我希望第一个 span 元素向左浮动，第二个向右浮动。

在除 IE 7 之外的所有浏览器中，这使得正确的元素出现在下一行。

像这样：

剩下

左右

左右

```
 RIGHT - (this is not meant to be in a code block, unsure how to remove it) 
```

（有超过 3 个元素，但这是一个一般示例 - 有问题的页面位于： http: [//www.blisshair.com.au/testing/](http://www.blisshair.com.au/testing/)）

我不确定要进行哪些修改来纠正这个问题。

如果有人能够帮助我，我将不胜感激。

问候。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:43:37.897

尝试将此添加到您的 CSS 中，这可能会对您有所帮助

```
#basic_info ul {
padding:0px;
margin:0px;
list-style-position:inside;
list-style-image:url(tick.png);
width:100%; 
position: relative;
font-size:0.8em;
float: left;    

}

#basic_info li {
border-top:0.1em solid #DFDFDF;
background:#F7FEF3;
position: relative;
width:100%;
float: left;

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:17:59.163

尝试添加`clear:right`到`li`元素中

```
#basic_info li {
border-top: 0.1em solid #DFDFDF;
background: #F7FEF3;
clear: right;
} 
```

# .htaccess - Mod重写/重写到子目录

> ID：11573344
> 
> 赞同：-1
> 
> 时间：2012-07-20T05:24:10.590
> 
> 标签：.htaccess, mod-rewrite

几天来我一直试图弄清楚 mod_rewrite ，我想知道你们是否有任何想法

我的主域是 siteX.com，它映射到“public_html”目录。

最近，我添加了另一个域，称为 siteY.com，并将“public_html/siteY/public_html”标记为它的根目录。

现在我试图通过将它映射到'public_html/siteX/public_html'来更改我的siteX的根目录，但是当我实现mod_rewrite时，它让用户看到的url是'http://www.siteX。 com/siteX/public_html'。我需要我的主要域自动映射到正确的目录，并使用仅查看“http://www.siteX.com”。

为了更好地说明我所指的目录。

```
public_html (siteX, my primary domain marks this as root directory)
    - .htaccess file
    - siteX
        -public_html (siteX i want my primarily domain to mark this as root directory)
    - siteY
        -public_html ( siteY.com marks this as root directory) 
```

我希望我把问题说清楚了。谢谢你。

这是目前我正在使用的重写规则：

```
RewriteCond %{HTTP_HOST} ^(www.)?siteX.com [NC]
RewriteRule ^$ http://www.siteX.com/siteX/public_html/index.php 
```

对于我的托管公司，我相信 mod_rewrite 是唯一的出路

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T15:48:29.463

当你有`http://www.siteX.com`作为目标的一部分时`RewriteRule`，它会自动*重定向浏览器*。就像有`[R]`国旗一样。我想你想要这样的东西：

```
RewriteCond %{HTTP_HOST} ^(www.)?siteX.com [NC]
RewriteCond %{REQUEST_URI} !^/siteX
RewriteRule ^(.*)$ /siteX/public_html/$1 [L] 
```

在内部将主机的所有请求重写`siteX.com`到`/siteX/public_html/`目录。

# jquery-ui - 在 IE 和 FF 中单击后，jQuery 单选按钮消失，在 chrome 中工作正常

> ID：11573347
> 
> 赞同：0
> 
> 时间：2012-07-20T05:24:19.477
> 
> 标签：jquery-ui, internet-explorer, google-chrome, firefox

我在 jQuery 模式对话框上有多组 jQuery 单选按钮。单击每组中的一个隐藏或显示 div。无论如何，它们在 Chrome 中完美运行，但在 FF 和 IE 中，它们可以正确隐藏/显示 div ......但是当它们被点击时它们开始消失。

我尝试添加什么都不做的普通单选按钮，但是当它们被点击时它们仍然会单独消失。我错过了某种声明吗？

我会发布代码，但它实际上可以是来自 jQuery 网站的单选按钮副本，它们仍然会消失。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T07:06:30.947

您是否尝试过来自另一个系统的相同示例页面？如果你能找到的所有例子都有这种行为，我会开始怀疑你的显示驱动程序甚至硬件。为您发现问题的页面提供链接，我们可以查看它是否发生在我们身上。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-12T06:52:45.677

我仍然不太确定问题是什么，但我实施了解决方法。

在 Chrome 中，我记得我必须在顶部添加一个未使用的 jQuery 单选按钮......当对话框打开时隐藏......并且在对话框关闭时“取消隐藏”（对话框在关闭时隐藏，所以用户从来没有看到这个单选按钮）。

出于某种原因，我不得不添加另一个隐藏和取消隐藏自身的 jQuery 单选按钮，以防止 IE9 和 FF 中消失的 jQuery 单选按钮。因此，就我而言，Chrome 需要其中一个假按钮……而 IE 和 FF 需要两个。

无论如何，我认为问题的根源在于我的整体布局模板。我认为整个地方的多个 div 都在某个地方搞砸了。

我只是一个业余程序员，所以我知道这不是我确定很多人会寻找的解决方案，但它现在有效，所以至少我可以继续前进。

# dns - A-Record 是如何在 Tumblr 上运作的？

> ID：11573348
> 
> 赞同：1
> 
> 时间：2012-07-20T05:24:20.887
> 
> 标签：dns, a-records

**首先**，对不起，如果我不是 100% 清楚，我真的对这一切感到困惑。

我注意到您始终可以**在 Tumblr 上使用 A/AAAA DNS 记录**，因此如果您访问（并导航）blog.something.com/*（其中 * 是其他任何内容），它会使用 Tumblr 基础设施和系统，但无需修改网址。

**我的问题是：**我知道您必须在您的域（在某事.com）上添加 A 记录，但是：他们如何处理他们这边的 A 记录？

希望这个问题有意义。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T22:58:45.887

您将在 DNS 服务器上使用[通配符 DNS 条目](http://en.wikipedia.org/wiki/Wildcard_DNS_record)，并在 Web 服务器上使用通配符配置（例如，[apache 上的通配符 ServerAlias](http://www.google.com/search?q=apache%20wildcard%20serveralias)）。

# c++ - 分层窗口上的C ++ GDI +绘图图像不起作用

> ID：11573349
> 
> 赞同：0
> 
> 时间：2012-07-20T05:24:39.850
> 
> 标签：c++, image, gdi+, layered-windows, ws-ex-layered

所以我在 SO 上找到了很多关于将图像绘制到分层窗口的代码示例、指南和答案。我尝试使用纯`HBITMAP`S 和 WIC 库进行绘图，现在我正在使用 GDI+ 进行绘图（这更简单，似乎更易于使用，到目前为止它已经解决了很多由以下原因引起的错误错误的 WIC 代码）。

我目前卡在`UpdateLayeredWindow`. 无论我尝试什么，我都无法让它工作。现在，它返回 87，或`ERROR_INVALID_PARAMETER`. 问题是，哪一个是不正确的？我难住了！`UpdateLayeredWindow`除了拒绝工作之外，下面的代码似乎是解决方案。

我究竟做错了什么？

这是设置 HDC/位图信息/图形对象的代码。

```
// Create DC
_oGrphInf.canvasHDC = GetDC(_hwndWindow);

// Create drawing 'canvas'
_oGrphInf.lpBits = NULL;
_oGrphInf.bmpCanvas = CreateDIBSection(_oGrphInf.canvasHDC,
            &_oGrphInf.bmpWinInformation, DIB_RGB_COLORS,
            &_oGrphInf.lpBits, NULL, 0);

// Create graphics object
_oGrphInf.graphics = new Gdiplus::Graphics(_oGrphInf.canvasHDC); 
```

以上工作正常 - 我逐步完成它并且所有指针都工作。

这是绘制PNG的方法。

```
void Splash::DrawPNG(PNG* lpPNG, int x, int y)
{
    LOGD("Drawing bitmap!");

    HDC hdcMem = CreateCompatibleDC(_oGrphInf.canvasHDC);

    // Select
    HBITMAP bmpOld = (HBITMAP)SelectObject(hdcMem, _oGrphInf.bmpCanvas);

    Gdiplus::Color trans(0, 0, 0, 0);
    _oGrphInf.graphics->Clear(trans);

    _oGrphInf.graphics->DrawImage(lpPNG->GetImage(), x, y);

    _oGrphInf.graphics->Flush();

    SIZE szSize = {_oGrphInf.bmpWinInformation.bmiHeader.biWidth,
                    _oGrphInf.bmpWinInformation.bmiHeader.biHeight};

    // Setup drawing location
    POINT ptLoc = {0, 0};
    POINT ptSrc = {0, 0};

    // Set up alpha blending
    BLENDFUNCTION blend = {0};
    blend.BlendOp = AC_SRC_OVER;
    blend.SourceConstantAlpha = 255;
    blend.AlphaFormat = AC_SRC_ALPHA;
    blend.BlendFlags = 0;

    // Update
    if(UpdateLayeredWindow(_hwndWindow, _oGrphInf.canvasHDC, &ptLoc,
                                &szSize, hdcMem, &ptSrc,
                                (COLORREF)RGB(0, 0, 0),
                                &blend, ULW_ALPHA) == FALSE)
        LOGE("Could not update layered window: %u", GetLastError());

    // Delete temp objects
    SelectObject(hdcMem, bmpOld);
    DeleteObject(hdcMem);
    DeleteDC(hdcMem);
} 
```

拔我的头发！帮助？

**编辑**：我刚刚决定重新编写对`UpdateLayeredWindow`函数的调用，这解决了不正确的参数问题。这是我想出的。*但是，它仍然不起作用*。我究竟做错了什么？

```
UpdateLayeredWindow(_hwndWindow, _oGrphInf.canvasHDC,
            NULL, NULL, hdcMem, &ptLoc,
            RGB(0, 0, 0), &blend, ULW_ALPHA) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-21T05:20:09.413

为了在绘图操作中保留 alpha 信息，您必须使您的 Graphics 对象基于内存支持的 Bitmap 对象，而不是 HDC，当然您的 Bitmap 需要采用具有 alpha 通道的格式。

您需要使用此位图构造函数：http: [//msdn.microsoft.com/en-us/library/ms536315%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/ms536315%28v=vs.85%29.aspx)

只需将步幅设为 0、指向 DIB 位的指针和 PixelFormat32bppPARGB。

然后使用 Graphics::FromImage 创建您的 Graphics 对象。

我从未使用过 UpdateLayeredWindow，所以我无法验证它的那一面是否正确。

# iphone - 获取最大值记录**（Coredata）**

> ID：11573351
> 
> 赞同：1
> 
> 时间：2012-07-20T05:24:44.860
> 
> 标签：iphone, objective-c, ios, database, core-data

我是 Core Data 的新手，我正在尝试获取具有最大时间戳值的记录。在以下代码中，我得到了最大的 TimeStamp 值，但我希望该记录具有最大的时间戳值。

AppDelegate *appDelegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];

```
NSManagedObjectContext *context = [appDelegate managedObjectContext];

NSEntityDescription *entity = [NSEntityDescription
                               entityForName:@"EnergyCumulative" inManagedObjectContext:context];

NSFetchRequest *fetchRequest = [[ NSFetchRequest alloc] init];
[fetchRequest setEntity:entity];
NSExpression *keyPathExpression = [NSExpression
                                   expressionForKeyPath:@"TimeStamp"];
NSExpression *ex = [NSExpression expressionForFunction:@"max:" 
                                             arguments:[NSArray arrayWithObject:keyPathExpression]];

NSExpressionDescription *expressionDescription = [[NSExpressionDescription alloc] init];
[expressionDescription setName:@"AvgReading"];
[expressionDescription setExpression:ex];
[expressionDescription setExpressionResultType:NSStringAttributeType];

[fetchRequest setPropertiesToFetch:[NSArray arrayWithObject:expressionDescription]];
[fetchRequest setResultType:NSDictionaryResultType];
[fetchRequest setEntity:entity];

NSError *error;  

NSArray *tripArray = [context executeFetchRequest:fetchRequest error:&error];
 NSLog(@"%@",tripArray); 
```

在 NSLog 我得到（ { AvgReading = 1342704600000; } ）

前任。我有实体**EnergyCumulative**，因为我有属性**Reading** & **TimeStamp**，所以我想要具有最大时间戳的读数

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:34:30.267

你的类型是`TimeStamp`什么？

更改类型

```
[expressionDescription setExpressionResultType:NSStringAttributeType]; 
```

如果`NSDateAttributeType`它是 Date 类型，或者`NSDecimalAttributeType`它是 Number。

顺便说一句，你已经写`[fetchRequest setEntity:entity];`了两次了……（嗯，没什么大不了的）

* * *

### 编辑：

您可以使用

```
[[tripArray objectAtIndex:0] valueForKey:@"AvgReading"]; 
```

得到你的最大时间戳。（我认为'@AvgReading' 不是一个好名字，虽然它很好用）

（您可以使用 Use `NSStringAttributeType`?? 获得最大时间戳）

# javascript - IE8-zoom 打破了我的布局

> ID：11573352
> 
> 赞同：1
> 
> 时间：2012-07-20T05:24:45.610
> 
> 标签：javascript, css, internet-explorer-8, zooming

我在放大 ie8 时遇到问题。

好的，我有 3 个按钮的功能。在这些按钮上单击时，我的网页会放大该按钮后面的值。所有内容都保存到 cookie 中，并在加载该 cookie 的页面上加载，并在整个页面中设置 css 属性。

我的 JS 代码：

```
 var content = document.getElementById("zoomable");
document.getElementById('zoomable').style.zoom = myvalue;
document.getElementById('zoomable').style.overflow = "auto";
content.style.overflow = "auto";
document.getElementById('zoomable').style.MozTransform = 'scale('+myvalue+')';
document.getElementById('zoomable').style.MozTransformOrigin = '0 0';
document.cookie="mysize=" + myvalue; 
```

在 Chrome、IE9、IE7 中一切正常（至少在那里看起来还可以，我可能错了）和 FF。在 ie8 中，这个函数破坏了我的布局。似乎缩放功能会重新调整所有内容，而不仅仅是放大。它突破了右侧的边界并创建了一个令人讨厌的溢出，甚至无法滚动。我搜索，尝试，尝试和搜索，但没有任何成功。

有谁知道这个问题？（如果不清楚，我的意思是什么，请随意问:)）

到目前为止阿迪

编辑：如果很重要，我可能会补充说，我的布局不是由表格组成，而是使用带有“display-table：”道具的 div 创建

编辑2：

好的，我明白了。

如果有人有同样的问题，我会告诉我我的个人错误。

我的“可缩放”属性的 div 是我的身体标签：

```
margin: 10px auto;
width: 974px;
background-color: #fff;
padding: 0 12px 5px 12px;
text-align: center;
font-size: 11px; 
```

现在的问题是，ie8 以不可能的数量改变了页面宽度的缩放。所以我使用一个 div 将所有内容包装在 body 标签内，并将上面的所有属性赋予新的 div，并从 body 标签中删除旧的属性。我没有更改我的 jquery 中的任何内容，我仍然使用 body 标签上的缩放，否则我会遇到与以前相同的问题。我不知道是什么导致了这种行为。它只存在于 ie8 中。但无论如何感谢所有读过这篇文章的人！:D

# c# - 使用 HttpClientCertificate 与 X509Certificate2 检查证书有效性

> ID：11573354
> 
> 赞同：1
> 
> 时间：2012-07-20T05:24:51.957
> 
> 标签：c#, asp.net, iis, ssl, security

我的 IIS（Web 服务器）需要客户端证书，我需要检查证书的有效性并从数据库中读取一些信息并记录在数据库中（审计）

我有以下代码

```
using System.Security.Cryptography.X509Certificates;

...

HttpClientCertificate cert = Request.ClientCertificate;    
if (cert.IsPresent && cert.IsValid) {
    X509Certificate2 cer = new X509Certificate2(cert.Certificate);
    bool verified = cer.Verify();
    ...
    AuditLog( ... );
} 
```

`cert.IsValid`表明证书有效。我是否需要实例化 X509Certificate2 对象并重新检查证书的有效性（为什么）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T19:15:20.487

如果证书无效，您将无法做到这一点。IIS 应在握手期间检查，如果无效则中止连接。您需要做的就是验证 Subject DN 所代表的身份是否被授权成为该应用程序的客户端。

# c - 如何使用 vim 对一行描述进行评论？

> ID：11573355
> 
> 赞同：5
> 
> 时间：2012-07-20T05:25:01.273
> 
> 标签：c, vim, comments

我认为创建一个将当前行或视觉选择的行转换为评论横幅的映射会很方便。

像这样的东西：

```
This is the description of the usage of the class 
```

按下快捷方式后将变为：

```
/*----------------------------------------------------*/
/* This is the description of the usage of the class  */
/*----------------------------------------------------*/ 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-20T05:33:54.547

我的这一行`~/.vimrc`完全符合您的要求：

```
nnoremap <leader>g I/* <Esc>A */<Esc>yyp0llv$r-$hc$*/<Esc>yykPjj 
```

将光标放在一条线上，按`<leader>g`，完成。

默认`<leader>`是`\`，所以就是`\g`。

显然，您可以使用任何您想要的快捷方式。

# ios - 在 instantiateViewControllerWithIdentifier 之后“发送到实例的无法识别的选择器”

> ID：11573358
> 
> 赞同：-1
> 
> 时间：2012-07-20T05:25:05.670
> 
> 标签：ios, objective-c

这是我的代码：

```
- (IBAction) buttonPressed:(id)sender
{
    DestinationViewController *destinationViewController = [[self.storyboard instantiateViewControllerWithIdentifier:@"Destination"] autorelease];
    destinationViewController.title = @"image property";
    destinationViewController.img = [UIImage imageNamed:@"thumbnail"];

    [self.navigationController pushViewController:destinationViewController animated:YES];

    [destinationViewController release];
} 
```

输出是：

```
2012-07-20 10:43:29.976 jsonimage2[682:f803] 5 - fifth activity -http://i1184.photobucket.com/albums/z328/iElmoTutorials/CrazyEye.png
2012-07-20 10:43:31.878 jsonimage2[682:f803]  The button's image is <UIImage: 0x6aa16c0>.
2012-07-20 10:43:33.846 jsonimage2[682:f803] it works
2012-07-20 10:43:33.861 jsonimage2[682:f803] -[ViewController setImg:]:  unrecognized selector sent to instance 0x68a8b80 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-07-07T15:16:04.190

从文档中，[`instantiateViewControllerWithIdentifier:`](https://developer.apple.com/documentation/uikit/uistoryboard/1616214-instantiateviewcontrollerwithide?language=objc)返回一个`__kindof UIViewController *`.

您的代码将其归因于 a `DestinationViewController *`，但实际上它是`ViewController *`根据崩溃日志返回的。`"Destination"`所以你可能忘记在情节提要中正确设置类。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-07-20T05:33:54.787

设置的`destinationViewController.img`行将触发对 的隐式调用`setImg:`。

我看不到 of 的定义，`DestinationViewController`但它显然不包含该`img`属性的定义。您可以通过添加适当`@property`的 for`img`或通过实现`setImg:`and`img`方法来实现这一点。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-20T05:58:21.427

你应该在@implementation DestinationViewController 之后忘记@synthesize img

# ruby-on-rails - Rails：设计：用户

> ID：11573361
> 
> 赞同：0
> 
> 时间：2012-07-20T05:25:18.553
> 
> 标签：ruby-on-rails, devise

环境：带有设计的Rails 3.2.3

我想在注册表中添加一个注册码。注册码不在用户表中。有一个单独的registration_codes。它出现在注册表单中的原因是，我想将用户填写注册表单时输入的代码与注册表单中的代码进行比较，并生成一个将进入用户表的值。

我收到一条错误消息：

```
undefined method `registration_code' for #<User:0x007f91b57b7890> 
```

它指向在views/registrations/new.html.erb中显示registration_code文本框的代码

如何解决registration_code 不属于users 表的事实？表单运行良好，直到我将registration_code 字段添加到表单中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T05:45:37.807

我会在您的用户模型中创建一个处理您的注册代码逻辑的方法：

```
def registration_code=(code)
  # Check registation_codes table and produce a value that will go into the users table
end 
```

提交带有这个新字段的表单现在应该使用提交的值调用这个方法

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T05:46:58.147

我假设您正在使用表单构建器来创建表单（`form_for`块）。在这种情况下，您可能正在使用类似`<%= f.text_field :registration_code %>`显示文本字段的东西，但 Rails 在 User 模型上找不到`registration_code`，因为正如您所说，它不存在。

相反，请尝试使用`<%= text_field_tag :registration_code %>`. 你可以通过你的控制器访问它`params[:registration_code]`

# javascript - 在 Google 地图中的地图图块上触发悬停

> ID：11573363
> 
> 赞同：0
> 
> 时间：2012-07-20T05:25:38.810
> 
> 标签：javascript, jquery, google-maps

我想在 Google 地图中的图块鼠标悬停时触发 jquery 事件。我能想到的最好的是。

```
$('div.tileclass').live('hover', function(){
   $("#debugger").prepend("test");  //Dummy just to test if this works
}); 
```

这仅在地图加载时触发悬停动作，而不是在页面加载后触发

可以在这里看到：[http](http://rider.cyclistsroadmap.com) ://rider.cyclistsroadmap.com （虽然调试器 div 不会显示，并且警报对于测试来说往往很烦人，并希望加载地图）

加载页面后能够触发操作的任何方式

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T10:57:16.570

You need to add an event listener to the map's mousemove event, such as:

```
google.maps.event.addListener(map,'mousemove', function(mev){
    var TILE_SIZE = 256;
    var proj = map.getProjection();
    var numTiles = 1 << map.getZoom();
    var worldCoordinate = proj.fromLatLngToPoint(mev.latLng);

    var pixelCoordinate = new google.maps.Point(
            worldCoordinate.x * numTiles,
            worldCoordinate.y * numTiles);
        var tileCoordinate = new google.maps.Point(
            Math.floor(pixelCoordinate.x / TILE_SIZE),
            Math.floor(pixelCoordinate.y / TILE_SIZE));

    debug('TileX:' +tileCoordinate.x+' - TileY:'+tileCoordinate.y);

}); 
```

Note that the debug() function is contained in this [separate file](http://maps.forum.nu/v3/debug.js)

The code posted here is largely based on [**this example**](https://google-developers.appspot.com/maps/documentation/javascript/examples/map-coordinates) from the documentation.

# groovy - 文件存在时找不到groovy文件错误

> ID：11573364
> 
> 赞同：0
> 
> 时间：2012-07-20T05:25:51.753
> 
> 标签：groovy

我正在尝试使用以下代码访问我计算机上的文件：

```
new File('c:/test.txt').eachLine{
line->println line
} 
```

我知道文件存在，为什么我会看到找不到文件的错误。这可能是我的 groovy 安装的问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T07:32:21.483

这与代码或您的常规安装无关。

重新检查文件扩展名。如果您使用的是 Windows 7，则在 Windows 资源管理器中查看文件扩展名时可能会被隐藏。

此外，如果您在 Linux 机器上工作（我认为不是），最好尊重文件名的大小写敏感性。

或者，如果您的堆栈跟踪如下所示，它也可能与文件权限有关：

```
java.io.FileNotFoundException:  (Permission denied) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-25T16:34:17.023

如果您将 JMS 参数（-Xms -Xmx 等）传递给 groovy 命令，您将得到该结果。[你可以在这里](https://stackoverflow.com/questions/5459317/how-do-i-increase-groovys-jvm-heap-size)找到完整的解释。

# c# - 程序关闭时不会触发 Form.FormClosing

> ID：11573370
> 
> 赞同：0
> 
> 时间：2012-07-20T05:26:17.987
> 
> 标签：c#, winforms, event-handling

我试图在关闭程序之前检测用户是否保存了他们的工作。我尝试了以下编码：

```
void Form1_FormClosing(object sender, FormClosingEventArgs e)
{
    if (e.CloseReason == CloseReason.UserClosing)
        MessageBox.Show("Unsave Work");
} 
```

但它不起作用。当我关闭程序时没有任何反应。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-20T05:48:37.957

在 .Net 中添加 EventHandler 有两种主要方法。

**您可以使用设计器添加它。**

![在此处输入图像描述](../Images/0b9c2c7f1b644141a42e8dc4d6ba8815.png)

**或者你可以在代码中添加它**

```
public Form1()
{
    InitializeComponent();
    this.FormClosing+=new FormClosingEventHandler(Form1_FormClosing);
}

void Form1_FormClosing(object sender, FormClosingEventArgs e)
{
    if (e.CloseReason == CloseReason.UserClosing)
    {
        var result = MessageBox.Show("Unsave Work", "", MessageBoxButtons.OKCancel);
        if (result == DialogResult.Cancel)
            e.Cancel = true;      
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-20T05:34:06.693

请首先将您的 Formclosing 函数绑定到 FormClosing 事件。

然后像下面这样检查：

```
 void Form1_FormClosing(object sender, FormClosingEventArgs e)
        {
            if (e.CloseReason == CloseReason.UserClosing)
                {
                  if(work not saved)//Check your condition
                   {
                     MessageBox.Show("Unsave Work");
                     e.Cancel = true;
                    }
                }
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T05:33:00.653

像这样问用户：

```
if (MessageBox.Show("Would you like to save your work", "Save work", MessageBoxButtons.YesNo) == DialogResult.Yes)
            {
                SaveWork();
            } 
```

如果您有办法检测用户是否首先保存了工作，那就更好了：

```
if (!IsWorkSaved())
            {
                if (MessageBox.Show("Would you like to save your work", "Save work", MessageBoxButtons.YesNo) == DialogResult.Yes)
                {
                    SaveWork();
                }
            } 
```

# c++ - 图像顶部的 Qt 显示按钮

> ID：11573374
> 
> 赞同：1
> 
> 时间：2012-07-20T05:26:37.493
> 
> 标签：c++, qt

我需要在图像顶部显示一个按钮。类似的东西

![](../Images/425bfe8eab6b209bc68428309d678226.png)

背景是 QPixmap/QImage，按钮是 QPushbutton。我需要能够动态更改图像 - 所以我不确定样式表是否适合该任务。我试过[这个](http://ahmadferdous.blogspot.com/2009/05/qt-set-background-image-of-custom.html)，但无法让它工作。

有什么解决办法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T07:57:23.357

1.  子类 QWidget 并实现paintEent，您可以在其中在背景上绘制图像。也可以通过样式表设置和更改背景图像。
2.  将带有按钮的布局添加到此小部件。

有这样的事情：

```
class WidgetWithButton
  : public QWidget
{
  Q_OBJECT
  QImage m_bgImage;
public:
  WidgetWithButton(QWidget* aParent)
    : QWidget(aParent)
  {
    QHBoxLayout* l = new QHBoxLayout(this);
    QPushButton* myButton = new QPushButton(tr("Close"));
    l->addWidget( myButton, 0, Qt::AlignCenter );
  }
  void setImage(const QImage& aImage)
  {
    m_image = aImage;
    update();
  }
protected:
  virtual void paintEvent(QPaintEvent* aPainEvent)
  {
    if (m_image.isValid())
    {
      QPainter painter(this);
      painter.drawImage(rect(), m_image);
    }
    else
      QWidget::paintEvent(aPainEvent);
  }
}; 
```

# html - 如何为溢出隐藏的div提供填充底部？

> ID：11573375
> 
> 赞同：0
> 
> 时间：2012-07-20T05:26:37.637
> 
> 标签：html, css, button, overflow

内容来自数据库动态，在`bottom of div`我有一个`see more button`，单击按钮，div 将扩展到 400px；

```
#content
  {

    width:180px;
    height:200px;
    overflow:hidden !important;
    padding-bottom:10px;
    position:relative;
}
  #bt
  {
    position: absolute;
    bottom: 0;
   } 
```

**html**

```
<div id="content">
<p>content content ....</p>
<input type="button" value="see more" id="bt">
</div> 
```

但是如何给这个 div 填充底部呢？是否有任何其他 css 技巧来做填充底部`overflow :hidden div`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:41:06.630

尝试这个。这可能会帮助你

```
#bt
{
    position: absolute;
    bottom: 20px; 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:49:42.820

`padding-bottom:50px`请在#content 中添加一个。

# php - 为什么 PHP 会将 (int) ((0.1+0.7)*10) 的结果转换为 7，而不是 8？

> ID：11573378
> 
> 赞同：2
> 
> 时间：2012-07-20T05:26:58.530
> 
> 标签：php, floating-point, rounding

为什么 PHP 会将结果转换`(int) ((0.1+0.7)*10)`为 7，而不是 8？我知道结果将是`(float) 8`当它被转换`(int)`为结果将是 7 时？为什么会这样？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-20T05:33:52.833

这都是关于`float`。请参阅[PHP：浮点数](http://php.net/manual/en/language.types.float.php)：

> 警告 - 浮点精度
> 
> 浮点数的精度有限。尽管取决于系统，但 PHP 通常使用 IEEE 754 双精度格式，由于在 1.11e-16 的数量级四舍五入，这将给出最大的相对误差。非初等算术运算可能会产生较大的误差，当然，当多个运算复合时，必须考虑误差传播。
> 
> 此外，可以精确表示为以 10 为底的浮点数的有理数，如 0.1 或 0.7，没有精确表示为以 2 为底的浮点数，无论尾数大小如何，它都在内部使用。因此，它们不能被转换成它们内部的二进制对应物，而不会有小的精度损失。这可能会导致令人困惑的结果：**例如， floor((0.1+0.7)*10) 通常会返回 7 而不是预期的 8，因为内部表示将类似于 7.9999999999999991118...。**
> 
> 所以永远不要相信浮点数结果到最后一位，也不要直接比较浮点数是否相等。如果需要更高的精度，可以使用任意精度的数学函数和 gmp 函数。

补充阅读：

*   [每个计算机科学家都应该知道的关于浮点运算的知识](http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html)
*   [比较浮点值有多危险？](https://stackoverflow.com/q/10334688/1241690)
*   [为什么十进制数不能用二进制精确表示？](https://stackoverflow.com/q/1089018/1241690)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T05:42:07.573

哈雷的回答很棒。

您需要的附加信息是，转换为 int 始终会截断小数，无论它们与下一个数字有多接近。所以 (int) 7.999999999999 将是 7。

例如，通常习惯于在投射时四舍五入以到达最近的位置

```
(int) (x + 0.5) 
```

有许多函数可以处理浮点数和舍入、截断等。您需要阅读它们并选择适合您需要的函数。

# android-contentprovider - Android - searchable.xml 中的问号表示什么？

> ID：11573382
> 
> 赞同：1
> 
> 时间：2012-07-20T05:27:18.277
> 
> 标签：android-contentprovider, searchable, android-searchmanager

我**在 android 4.0 上调试 SearchableDictionary 示例**。在 searchable.xml 中，问号在此属性中表示`android:searchSuggestSelection=" ?"`什么？

这是片段：

```
<searchable xmlns:android="http://schemas.android.com/apk/res/android"
    android:label="@string/search_label"
    android:hint="@string/search_hint"
    android:searchSettingsDescription="@string/settings_description"
    android:searchSuggestAuthority="com.example.android.searchabledict.DictionaryProvider"
    android:searchSuggestIntentAction="android.intent.action.VIEW"
    android:searchSuggestIntentData="content://com.example.android.searchabledict.DictionaryProvider/dictionary"
    android:searchSuggestSelection=" ?"   
    android:searchSuggestThreshold="1"
    android:includeInGlobalSearch="true"
    > 
```

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T11:44:23.483

它代表用户键入的查询。查看[文档](http://developer.android.com/guide/topics/search/searchable-config.html)

android:searchSuggestSelection [字符串]

> 该值作为选择参数传递到您的查询函数中。通常，这是数据库的 WHERE 子句，应该包含一个问号，它是用户输入的实际查询字符串的占位符（例如，“query=?”）。

备用

```
android:searchSuggestSelection="word MATCH ?" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-09T09:53:08.560

在这个 SearchableDictionary 示例上也有问题。找不到 Resource 文件夹，因为未生成 R.java，这可能与您遇到的问题相同，这就是您调试 XML 的原因。这是对我有用的解决方案。[关联](https://stackoverflow.com/a/14891672/2365714)

1.  右键单击您的项目
2.  选择属性
3.  在左侧菜单中选择 Android
4.  勾选相应的项目构建目标旁边的框。*****
5.  单击应用和确定

我的附加说明： *****选择高于 API 10 的构建或从 API 11 开始。如果选择低于 11，您仍然会收到错误消息。这对我有用。在此之前尝试了大部分建议。终于解决了。

# android - 点击分享意图

> ID：11573390
> 
> 赞同：0
> 
> 时间：2012-07-20T05:28:21.617
> 
> 标签：android

我有一个`ViewPager`with an `ImageView`，我想让它这样当有人点击图片时，他们可以用 share 分享它`Intent`。

我不知道该怎么做。下面是我的代码。

如果有人可以告诉我如何做到这一点，那就太好了！

```
public class ImagePagerActivity extends BaseActivity {

private ViewPager pager;
private TextView mSelected;
private String[] mLocations;
private DisplayImageOptions options;

public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.ac_image_pager);

    mSelected = (TextView)findViewById(R.id.text);

    mLocations = getResources().getStringArray(R.array.locations);

    Context context = getSupportActionBar().getThemedContext();
    ArrayAdapter<CharSequence> list = ArrayAdapter.createFromResource(context, R.array.locations, R.layout.sherlock_spinner_item);
    list.setDropDownViewResource(R.layout.sherlock_spinner_dropdown_item);

    getSupportActionBar().setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);
    getSupportActionBar().setListNavigationCallbacks(list, this);
    getSupportActionBar().setSelectedNavigationItem(1);

    Bundle bundle = getIntent().getExtras();
    String[] imageUrls = bundle.getStringArray(Extra.IMAGES);
    int pagerPosition = bundle.getInt(Extra.IMAGE_POSITION, 0);

    options = new DisplayImageOptions.Builder()
        .showImageForEmptyUri(R.drawable.image_for_empty_url)
        .cacheOnDisc()
        .imageScaleType(ImageScaleType.EXACT)
        .build();

    pager = (ViewPager) findViewById(R.id.pager);
    pager.setAdapter(new ImagePagerAdapter(imageUrls));
    pager.setCurrentItem(pagerPosition);
}

@Override
protected void onStop() {
    imageLoader.stop();
    super.onStop();
}

private class ImagePagerAdapter extends PagerAdapter {

    private String[] images;
    private LayoutInflater inflater;

    ImagePagerAdapter(String[] images) {
        this.images = images;
        inflater = getLayoutInflater();
    }

    @Override
    public void destroyItem(View container, int position, Object object) {
        ((ViewPager) container).removeView((View) object);
    }

    @Override
    public void finishUpdate(View container) {
    }

    @Override
    public int getCount() {
        return images.length;
    }

    @Override
    public Object instantiateItem(View view, int position) {
        final FrameLayout imageLayout = (FrameLayout) inflater.inflate(R.layout.item_pager_image, null);
        final ImageView imageView = (ImageView) imageLayout.findViewById(R.id.image);
        final ProgressBar spinner = (ProgressBar) imageLayout.findViewById(R.id.loading);

        imageLoader.displayImage(images[position], imageView, options, new ImageLoadingListener() {
            @Override
            public void onLoadingStarted() {
                spinner.setVisibility(View.VISIBLE);
            }

            @Override
            public void onLoadingFailed(FailReason failReason) {
                String message = null;
                switch (failReason) {
                    case IO_ERROR:
                        message = "Input/Output error";
                        break;
                    case OUT_OF_MEMORY:
                        message = "Out Of Memory error";
                        break;
                    case UNKNOWN:
                        message = "Unknown error";
                        break;
                }
                Toast.makeText(ImagePagerActivity.this, message, Toast.LENGTH_SHORT).show();

                spinner.setVisibility(View.GONE);
                imageView.setImageResource(android.R.drawable.ic_delete);
            }

            @Override
            public void onLoadingComplete() {
                spinner.setVisibility(View.GONE);
                Animation anim = AnimationUtils.loadAnimation(ImagePagerActivity.this, R.anim.fade_in);
                imageView.setAnimation(anim);
                anim.start();
            }

            @Override
            public void onLoadingCancelled() {
                // Do nothing
            }
        });

        ((ViewPager) view).addView(imageLayout, 0);
        return imageLayout;
    }

    @Override
    public boolean isViewFromObject(View view, Object object) {
        return view.equals(object);
    }

    @Override
    public void restoreState(Parcelable state, ClassLoader loader) {
    }

    @Override
    public Parcelable saveState() {
        return null;
    }

    @Override
    public void startUpdate(View container) {
    }
}

@Override
public boolean onNavigationItemSelected(int itemPosition, long itemId) {

    if (itemPosition == 0){
        Intent intent = new Intent(getApplicationContext(), MainActivity.class);
        startActivity(intent);
    }

    getSupportActionBar().setSelectedNavigationItem(1);
    return true;
}   
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:17:23.373

在您的对象`instantiateItem`方法中添加此代码

```
imageView.setOnClickListener(new OnClickListener() {
  @Override
  public void onClick(View v) {
    Intent intent = new Intent(Intent.ACTION_SEND);
    intent.setType("image/jpeg");
    intent.putExtra(Intent.EXTRA_STREAM, [image URI]);
    startActivity(Intent.createChooser(intent, "Share image with"));
  }
} 
```

这是你的代码的更新版本

```
public class ImagePagerActivity extends BaseActivity {

private ViewPager pager;
private TextView mSelected;
private String[] mLocations;
private DisplayImageOptions options;

public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.ac_image_pager);

    mSelected = (TextView)findViewById(R.id.text);

    mLocations = getResources().getStringArray(R.array.locations);

    Context context = getSupportActionBar().getThemedContext();
    ArrayAdapter<CharSequence> list = ArrayAdapter.createFromResource(context, R.array.locations, R.layout.sherlock_spinner_item);
    list.setDropDownViewResource(R.layout.sherlock_spinner_dropdown_item);

    getSupportActionBar().setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);
    getSupportActionBar().setListNavigationCallbacks(list, this);
    getSupportActionBar().setSelectedNavigationItem(1);

    Bundle bundle = getIntent().getExtras();
    String[] imageUrls = bundle.getStringArray(Extra.IMAGES);
    int pagerPosition = bundle.getInt(Extra.IMAGE_POSITION, 0);

    options = new DisplayImageOptions.Builder()
        .showImageForEmptyUri(R.drawable.image_for_empty_url)
        .cacheOnDisc()
        .imageScaleType(ImageScaleType.EXACT)
        .build();

    pager = (ViewPager) findViewById(R.id.pager);
    pager.setAdapter(new ImagePagerAdapter(imageUrls));
    pager.setCurrentItem(pagerPosition);
}

@Override
protected void onStop() {
    imageLoader.stop();
    super.onStop();
}

private class ImagePagerAdapter extends PagerAdapter {

    private String[] images;
    private LayoutInflater inflater;

    ImagePagerAdapter(String[] images) {
        this.images = images;
        inflater = getLayoutInflater();
    }

    @Override
    public void destroyItem(View container, int position, Object object) {
        ((ViewPager) container).removeView((View) object);
    }

    @Override
    public void finishUpdate(View container) {
    }

    @Override
    public int getCount() {
        return images.length;
    }

    @Override
    public Object instantiateItem(View view, int position) {
        final FrameLayout imageLayout = (FrameLayout) inflater.inflate(R.layout.item_pager_image, null);
        final ImageView imageView = (ImageView) imageLayout.findViewById(R.id.image);
        final ProgressBar spinner = (ProgressBar) imageLayout.findViewById(R.id.loading);

        imageLoader.displayImage(images[position], imageView, options, new ImageLoadingListener() {
            @Override
            public void onLoadingStarted() {
                spinner.setVisibility(View.VISIBLE);
            }

            @Override
            public void onLoadingFailed(FailReason failReason) {
                String message = null;
                switch (failReason) {
                    case IO_ERROR:
                        message = "Input/Output error";
                        break;
                    case OUT_OF_MEMORY:
                        message = "Out Of Memory error";
                        break;
                    case UNKNOWN:
                        message = "Unknown error";
                        break;
                }
                Toast.makeText(ImagePagerActivity.this, message, Toast.LENGTH_SHORT).show();

                spinner.setVisibility(View.GONE);
                imageView.setImageResource(android.R.drawable.ic_delete);
            }

            @Override
            public void onLoadingComplete() {
                spinner.setVisibility(View.GONE);
                Animation anim = AnimationUtils.loadAnimation(ImagePagerActivity.this, R.anim.fade_in);
                imageView.setAnimation(anim);
                anim.start();
            }

            @Override
            public void onLoadingCancelled() {
                // Do nothing
            }
        });

    //Changes START

    imageView.setOnClickListener(new OnClickListener() {
      @Override
      public void onClick(View v) {
        //Create new Intent to send image
        Intent intent = new Intent(Intent.ACTION_SEND);
        //Set Intent Type
        intent.setType("image/jpeg");
        //Create URI for image link
        Uri uri = Uri.parse(images[position]);
        //Set Intent extra with URI created from image link
        intent.putExtra(Intent.EXTRA_STREAM, uri);
        //Start new activity to share image
        startActivity(Intent.createChooser(intent, "Share image with"));
      }
    } 

    //Changes END

        ((ViewPager) view).addView(imageLayout, 0);
        return imageLayout;
    }

    @Override
    public boolean isViewFromObject(View view, Object object) {
        return view.equals(object);
    }

    @Override
    public void restoreState(Parcelable state, ClassLoader loader) {
    }

    @Override
    public Parcelable saveState() {
        return null;
    }

    @Override
    public void startUpdate(View container) {
    }
}

@Override
public boolean onNavigationItemSelected(int itemPosition, long itemId) {

    if (itemPosition == 0){
        Intent intent = new Intent(getApplicationContext(), MainActivity.class);
        startActivity(intent);
    }

    getSupportActionBar().setSelectedNavigationItem(1);
    return true;
}   
} 
```

# qt - qt：我可以像maya一样在qmenu中添加选项菜单吗

> ID：11573394
> 
> 赞同：0
> 
> 时间：2012-07-20T05:28:50.443
> 
> 标签：qt, maya, optionmenu

![玛雅菜单示例](../Images/eae297343f5b75a7891a12ba444fb908.png)

我致力于使用 pyqt4 为 Maya 创建一个工具。
在我的工具中，QMenuBar 上有一些菜单。
在这种情况下，我希望创建一个菜单+选项菜单样式，如上图。
如您所见，“新场景”右侧有“新场景”菜单和方形图标。
如果我只选择“新场景”，它就像创建一个新场景一样。
如果我选择“新场景”的方形图标，它会弹出用于创建新场景的选项窗口。
这就是我希望做的。
我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T07:04:45.717

派生自`QWidgetAction`( [docs](https://qt-project.org/doc/qt-4.8/qwidgetaction.html#details) ) 以创建一个基本上混合了 a`QLabel`和 a的小部件`QPushButton`。 *注意*您可能必须进行子类`QLabel`化才能在`QStyle`.

# emacs - emacs lisp：如何删除/删除列表的元素？

> ID：11573395
> 
> 赞同：9
> 
> 时间：2012-07-20T05:29:04.873
> 
> 标签：emacs, elisp

我尝试使用 emacs lisp 的第一步`"\\.synctex\\.gz"`从以下位置删除元素`LaTeX-clean-intermediate-suffixes`：

```
(eval-after-load 'latex
  '(setq my-LaTeX-clean-intermediate-suffixes (remove '"\\.synctex\\.gz" LaTeX-clean-intermediate-suffixes)); that's not working
  '(setq LaTeX-clean-intermediate-suffixes
     (append my-LaTeX-clean-intermediate-suffixes (list "-blx\\.bib" "\\.run\\.xml")))) 
```

我怎样才能在这里删除这个元素？我发现`remove`and `delete`，都尝试了它们，但我得到了一个`wrong-number-of-arguments`-type 错误。

**更新**

我试过这个：

```
(eval-after-load 'latex
  (setq LaTeX-clean-intermediate-suffixes (delete "\\.synctex\\.gz"  LaTeX-clean-intermediate-suffixes))
  '(setq LaTeX-clean-intermediate-suffixes
     (append LaTeX-clean-intermediate-suffixes (list "-blx\\.bib" "\\.run\\.xml")))) 
```

*但我在Backtrace*中收到了相当长的输出:-(

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-07-20T06:14:26.120

正如 assem 指出的那样，您的代码中似乎有额外的空格，这会阻止正确调用`remove`.

请注意，只要可以正确比较列表中的元素，就可以将两者都用于此类`delete`目的。如果您想比较 using ，请使用函数或。`remove``equal``eq``delq``remq`

`delete`和`remove`（或`delq`和`remq`分别）之间的主要区别在于`delete`通过副作用删除给定元素，即，在适当位置更改给定列表，而`remove`不是返回给定列表的副本，其中删除了元素。

```
(setq list1 '("foo" "bar" "baz"))
(setq list2 (remove "bar" list1))

(message "list1: %s" list1)
(message "list2: %s" list2)

(setq list3 (delete "bar" list1))

(message "list1: %s" list1)
(message "list3: %s" list3) 
```

如果您评估上面的代码，您会在`*Message*`缓冲区中找到以下输出：

```
list1: (foo bar baz)
list2: (foo baz)
list1: (foo baz)
list3: (foo baz) 
```

如您所见，在调用 之后`remove`，`list1`它并没有改变。但是在你调用`delete`它之后，它已经改变了。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-07-20T07:21:52.197

您看到的错误不是由于对列表的操作，而是由错误使用 eval-after-load 引起的。该函数只允许两个参数：`(eval-after-load FILE FORM)`. 所以你的片段应该是

```
(eval-after-load 'latex
  '(setq LaTeX-clean-intermediate-suffixes (delete "\\.synctex\\.gz"  LaTeX-clean-intermediate-suffixes)
         LaTeX-clean-intermediate-suffixes (append LaTeX-clean-intermediate-suffixes (list "-blx\\.bib" "\\.run\\.xml")))) 
```

（因为在单个 setq 语句中允许多个赋值）或更通用的变体（在单个 中包含任意数量的形式`progn`）：

```
(eval-after-load 'latex
  '(progn
     (setq LaTeX-clean-intermediate-suffixes (delete "\\.synctex\\.gz"  LaTeX-clean-intermediate-suffixes))
     (setq LaTeX-clean-intermediate-suffixes (append LaTeX-clean-intermediate-suffixes (list "-blx\\.bib" "\\.run\\.xml"))))) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-20T06:13:09.233

`delete`应该可以工作
[http://www.gnu.org/software/emacs/manual/html_node/elisp/Sets-And-Lists.html](http://www.gnu.org/software/emacs/manual/html_node/elisp/Sets-And-Lists.html)

```
(setq LaTeX-clean-intermediate-suffixes (delete "\\.synctex\\.gz"  LaTeX-clean-intermediate-suffixes)) 
```

# java - 将文件复制并粘贴到 swt

> ID：11573397
> 
> 赞同：1
> 
> 时间：2012-07-20T05:29:11.407
> 
> 标签：java

我的 E:\temp\file.zip 中有一个 zip 文件。现在我需要复制整个 zip 文件并将其粘贴到我的桌面，并且不应删除原始 zip 文件。这应该使用 java SWT lib 来完成。

```
import java.io.*;
import javax.swing.*; 

public class MovingFile { 
  public static void copyStreamToFile() throws IOException { 
    FileOutputStream foutOutput = null; 
    String oldDir = "F:/CAF_UPLOAD_04052011.TXT.zip"; 
    System.out.println(oldDir); 
    String newDir = "F:/New/CAF_UPLOAD_04052011.TXT.zip.zip"; 
    // name the file in destination File f = new File(oldDir); 
    f.renameTo(new File(newDir)); 
} 

  public static void main(String[] args) throws IOException { 
    copyStreamToFile(); 
  } 
} 
```

# c++ - 替换 std::string 中的函数在 C++ 中给出问题

> ID：11573400
> 
> 赞同：-1
> 
> 时间：2012-07-20T05:29:22.437
> 
> 标签：c++, string, cocos2d-x

我在 cocos2dx 中使用 C++ 字符串函数。我有以下字符串 CorrectAns = "below"。

```
for(int i = 0; i<CorrectAns.size();i++)
{
      CorrectAns.replace(i,i,"?");
} 
```

此函数应将我的字符串返回为“?????”，但它只返回 4 个字符，即“????”。

当我这样写的时候，

```
for(int i = 0; i<CorrectAns.size();i++)
{
if(i == 0)
    {
      CorrectAns.replace(i,i,"?");
    }
} 
```

它只是崩溃。并且只有当我将其写为“ CorrectAns.replace(i,i+1,"?");”时才能正常工作

为什么该功能以这种方式工作？任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T05:31:57.090

```
string& replace ( size_t pos1, size_t n1,   const string& str ); 
```

> 对于带有参数 pos1 和 n1 的版本，被替换的部分从字符位置 pos1 开始，跨越字符串中的 n1 个字符。

所以你应该使用

```
for(int i = 0; i<CorrectAns.size();i++)
{
      CorrectAns.replace(i,1,"?");
} 
```

Mb 使用类似的东西会更有用

```
CorrectAns.assign(CorrectAns.size(), '?'); 
```

# servlets - servlet 必须每天重新加载

> ID：11573403
> 
> 赞同：-1
> 
> 时间：2012-07-20T05:29:39.507
> 
> 标签：servlets, tomcat6

我创建了一个 servlet 来访问数据库并对 BB 应用程序做出响应......它在开发过程中运行良好......但是在将它加载到 tomcat 服务器 6.0 后，必须每天早上重新加载tomcat服务器..之后它整天工作正常..但是第二天早上，当我请求某些东西时，它会给出一个空白页面作为响应，我的服务器管理员告诉必须重新加载servlet ...其他托管的应用程序服务器工作正常，不需要重新启动...

可能是什么问题....

添加代码..如果有帮助

```
 package com.ams.servlets;
    import java.io.*;
    import javax.servlet.*;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.sql.*;

import com.cms.dbaccess.DataAccess;
import com.cms.utils.ApplicationConstants;
import com.cms.utils.ApplicationHelper;

import java.sql.ResultSet;
public class BBRequestProcessorServlet extends HttpServlet {
/**
 * 
 */String userString;
 private static final long serialVersionUID = 1L;
 String jsonString = "";
 ResultSet rs = null;
 Connection connection = null;
 Statement statement=null;

 public enum db_name
 { 
     //Test
     resource_management_db,osms_inventory_db; 

 }
 public void init(ServletConfig config)throws ServletException
 {
     super.init(config);

     System.out.println("Inside init");

 }

 public void doGet(HttpServletRequest request,HttpServletResponse response)throws ServletException,IOException 
 {
     try{
         connection = DataAccess.connectToDatabase("xxx", connection);
         statement = DataAccess.createStatement(connection); 

         statement = connection.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY);

         rs = statement.executeQuery("query is here");
     }
     catch(SQLException e)
     {
         e.printStackTrace();
     }
     String db =request.getParameter("db");
     System.out.println("DATABASE NAME :"+ db);
     if(db.equalsIgnoreCase("xxx")){ 
         //Call to populate JSONArray with the fetch ResultSet data
         jsonString = ApplicationHelper.populateJSONArray(rs);
     }
     response.setContentType(ApplicationConstants.JSON_CONTENT_TYPE);
     PrintWriter out = response.getWriter();
     out.print(jsonString);      
     out.flush();
     out.close();
     System.out.println("json object sent");
     try {
        rs.close();

    } catch (SQLException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

 }   
 } 
```

我能找到的唯一错误是 2012 年 7 月 20 日上午 9:57:24 org.apache.catalina.loader.WebappClassLoader validateJarFile INFO: validateJarFile(/usr/local/tomcat/apache-tomcat-6.0.20/webapps/MobileServlet / WEB-INF/lib/servlet-api.jar) - jar 未加载。请参阅 Servlet 规范 2.3，第 9.7.2 节。违规类：javax/servlet/Servlet.class

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T12:18:16.607

我猜，看到你的日志后会更清楚。

似乎您已将 servlet-api.jar 放在 WEB-INF 库中，但它已经在 tomcat 的库中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T13:47:20.813

罪魁祸首很可能是您处理外部数据库资源（如`Connection`. 当您一直`Connection`打开数据库而不关闭它时，可能会发生此问题。当一个 DB`Connection`打开时间过长时，该 DB 将超时并回收它。这很可能是一夜之间发生的事情。

您应该以这种方式重新设计您的`DataAccess`和`BBRequestProcessorServlet`，以便您**无处**持有`Connection`，`Statement`并且`ResultSet`作为实例变量，或者更糟糕的是，`static`作为类的变量。`Connection`应该在与您执行 SQL 查询/查询的位置完全相同的范围内创建它，并且它应该在与您创建它的位置完全相同的块的`finally`块中关闭。`try`

顺便说一句，您`jsonString`绝对也不应该将其声明为 servlet 的实例变量，这种方式不是线程安全的。

### 也可以看看：

*   [在多线程系统中使用静态 java.sql.Connection 实例是否安全？](https://stackoverflow.com/questions/9428573/is-it-safe-to-use-a-static-connection-java-sql-object-in-a-multithreaded-syste/9431863#9431863)
*   [servlet 是如何工作的？实例化、会话、共享变量和多线程](https://stackoverflow.com/questions/3106452/how-do-servlets-work-instantiation-session-variables-and-multithreading/3106909#3106909)

至于您在日志中看到的错误，您绝对应该删除有问题的 JAR。另请参阅[如何在我的 Eclipse 项目中导入 javax.servlet API？](https://stackoverflow.com/questions/4076601/how-do-i-import-the-javax-servlet-api-in-my-eclipse-project/4076706#4076706)

# java - Android C/C++ 原生调用 Java API

> ID：11573406
> 
> 赞同：1
> 
> 时间：2012-07-20T05:30:12.920
> 
> 标签：java, android, java-native-interface, native-code, jnienv

Android C/C++ 原生调用 Java API 的例子很多。但是，我读过的所有这些示例都是 Android Java API 首先调用本机，然后本机通过使用传递的 JNI-ENV 调用其他 Java API。

没有通过的 JNI-ENV，C/C++ 怎么能得到呢？C/C++ 本机是否可以在没有 JNI-ENV 的情况下调用 Java API？

如果可能的话，你能举个例子或链接吗？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-11-26T19:27:45.853

您需要先包括在内`jni.h`。这带来了大量有用的调用；对于较新的 android 版本，您还需要`JniInvocation.h`. 要启用此功能：

```
LOCAL_C_INCLUDES += ${JNI_H_INCLUDE} 
```

这当然适用于源代码树，不确定 NDK，但也应该没问题。

其次，非常重要的是选择适当的**信号链**库。Art 或 Dalvik 将加载 libsigchain.so，它是一个存根，`abort()`每次调用它的任何方法时都是 s。在 Android 上，它通过一些小技巧完成：局部符号被导出到全局符号表，以便 Art 选择 exec 的符号而不是加载共享库。这是如何完成的：

```
# Enable native helper calls
LOCAL_SHARED_LIBRARIES += libnativehelper

# Include all of the Android's libsigchain symbols
LOCAL_WHOLE_STATIC_LIBRARIES += libsigchain

# Export only libsigchain symbols to global symbol table.
LOCAL_LDFLAGS += \
    -Wl,--export-dynamic \
    -Wl,--version-script,art/sigchainlib/version-script.txt 
```

现在链接您的可执行文件。仔细检查是否确实导出了所需的符号：

```
% readelf -a <output_binary> | grep InitializeSignalChain
654: 0002cab1   211 FUNC    GLOBAL PROTECTED   12 InitializeSignalChain 
```

完毕？现在事情变得更简单了：

1.  初始化 JNI（以便您的代码使用正确的 VM）

    ```
    JniInvocation invocation;
    if (invocation.Init(nullptr)) return; 
    ```

2.  创建 JavaVM：

    ```
    JavaVM* vm;
    JNIEnv* env;
    JavaVMInitArgs* args;

    args.version = JNI_VERSION_1_4;  // _5, _6
    args.options = nullptr;
    args.nOptions = 0;
    args.ignoreUnrecognized = JNI_FALSE;

    if (JNI_CreateJavaVM(&vm, &env, &args) < 0) return; 
    ```

3.  至此，您`vm`已经`env`可以使用了。玩得开心。

4.  检查异常（如果有）

    ```
    if (env->ExceptionCheck()) {
        // ...
    } 
    ```

5.  完成后，清理

    ```
    vm->DetachCurrentThread();
    vm->DestroyJavaVM(); 
    ```

更多有趣的东西可以在[这里](https://android.googlesource.com/platform/libnativehelper/+/idea133/include/nativehelper/jni.h)找到，[DalvikVM Main](https://github.com/TaintDroid/android_platform_dalvik/blob/master/dalvikvm/Main.cpp)可能是最好的知识来源。祝你好运！

# java - 在 jsp 页面中显示 ePUB 文件

> ID：11573407
> 
> 赞同：0
> 
> 时间：2012-07-20T05:30:13.923
> 
> 标签：java, epub

您能否指导我如何在 jsp 中打开 ePUB 文件？我了解，我需要为 ePUB 调用一些第三方工具，例如 Adob​​e Digital。但是如何在 JSP 页面中嵌入 Adob​​e Digital 呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:41:43.270

我会推荐用于 Java 的 Epublib

[http://www.siegmann.nl/epublib](http://www.siegmann.nl/epublib)

对于其他选项，您可以访问下面之前讨论过的问题

[使用 Java API 制作 ePub](https://stackoverflow.com/questions/5429242/making-epub-with-java-api)

# javascript - blackberry webworks：将本地页面加载到 iframe 时崩溃

> ID：11573410
> 
> 赞同：0
> 
> 时间：2012-07-20T05:30:32.703
> 
> 标签：javascript, blackberry, iframe, blackberry-webworks

在黑莓 webworks 应用程序中，我尝试将页面加载到与应用程序一起打包的 iframe 中，但应用程序不断崩溃（它打开启动屏幕并且不加载任何内容）我要加载的页面位于（相对于我的应用程序的 index.html）：

```
./pages/help_en/home.html 
```

我试图用这个路径加载它：

```
pages/help_en/home.html
./pages/help_en/home.html
local:///pages/help_en/home.html 
```

但所有这些都导致了那场崩溃。当我从外部服务器加载它时，它工作正常......也许我还应该提到，它只发生在智能手机上，在 PlayBook（平板电脑）上它工作正常。

任何帮助将不胜感激，在此先感谢您！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-26T15:44:29.233

下面的代码示例应该可以将本地页面（在应用程序内）加载到 iframe 中。它还使用与您相同的文件夹结构。它已经过测试并打包到 WebWorks 应用程序中并加载到设备上，并且页面在 iframe 中正确加载。除了主页，确保您还包括一个 config.xml 文件。

```
<!DOCTYPE html>
<html>
<head>
    <title>Iframe</title>
    <meta id="viewport" name="viewport" 
        content="initial-scale=1.0,width=device-width,user-scalable=no,target-densitydpi=device-dpi"/>
    <script type="text/javascript">
    function changeSrc(){
        document.getElementById('theFrame').src = "pages/help_en/home.html";
    }
    </script>
</head>
<body>
    Iframe is below<br/>
    <button onclick="changeSrc()">click me</button><br/>
    <iframe id="theFrame" src=""></iframe>
</body>
</html> 
```

# matrix - 在 Maxima 中处理面向 4 块的矩阵乘积和求逆

> ID：11573414
> 
> 赞同：1
> 
> 时间：2012-07-20T05:30:52.373
> 
> 标签：matrix, symbolic-math, maxima

我关心的是寻找符号解和矩阵乘积和求逆的扩展。实际上，这是我想自己定义的东西。我会自己解释。

我想创建一个我将调用的“数学”对象，`B4MAT`它表示一个方阵，其元素是 4 个半角方阵。所以我想定义两个之间的产品，`B4MAT`给我另一个`B4MAT`，它的组件是通过应用产品规则计算的，但在矩阵之间，而不是在标量之间。

此外，这是非常重要的一点，请考虑矩阵的[逐块求逆](http://en.wikipedia.org/wiki/Invertible_matrix#Blockwise_inversion)。我想将 a 的反转定义`B4MAT`为返回另一个的操作`B4MAT`，其元素是使用链接中的分块反转算法计算的。

如何在千里马中实现这一点？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T08:35:32.477

对于问题的前半部分，您只需要更改`matrix_element_mult`为非交换乘法，然后使用其元素是您想要的块的矩阵。例如：

```
Maxima branch_5_27_base_248_ge261c5e http://maxima.sourceforge.net
using Lisp SBCL 1.0.57.0.debian
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) A: matrix([1,2],[3,4])$ B: matrix([2,1],[3,4])$

(%i3) matrix([A,B], [B,A]);
*** output flushed ***
(%i4) C: matrix([A,B], [B,A]);
                            [ [ 1  2 ]  [ 2  1 ] ]
                            [ [      ]  [      ] ]
                            [ [ 3  4 ]  [ 3  4 ] ]
(%o4)                       [                    ]
                            [ [ 2  1 ]  [ 1  2 ] ]
                            [ [      ]  [      ] ]
                            [ [ 3  4 ]  [ 3  4 ] ]
(%i5) C . C;
                          [ [ 5   5  ]  [ 4   4  ] ]
                          [ [        ]  [        ] ]
                          [ [ 18  32 ]  [ 18  32 ] ]
(%o5)                     [                        ]
                          [ [ 4   4  ]  [ 5   5  ] ]
                          [ [        ]  [        ] ]
                          [ [ 18  32 ]  [ 18  32 ] ]
(%i6) matrix_element_mult: ".";
(%o6)                                  .
(%i7) C . C;
                          [ [ 14  16 ]  [ 13  17 ] ]
                          [ [        ]  [        ] ]
                          [ [ 33  41 ]  [ 33  41 ] ]
(%o7)                     [                        ]
                          [ [ 13  17 ]  [ 14  16 ] ]
                          [ [        ]  [        ] ]
                          [ [ 33  41 ]  [ 33  41 ] ] 
```

我认为您必须自己编写反演公式（不要忘记您可以使用“C [1] [2]”（右上角）等表达式来获取块。

# c# - 将控制台光标设置为粗/细

> ID：11573415
> 
> 赞同：2
> 
> 时间：2012-07-20T05:30:53.927
> 
> 标签：c#, console, cursor, console-application

在命令提示符下，当您按下插入按钮时，光标会从细条变为粗条，表示处于覆盖模式，再次按下时，光标再次变细，表示处于插入状态模式有没有办法在 C# 中做到这一点？

编辑：我想知道是否有办法使光标变粗/变细，而不是如何覆盖文本

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T06:26:11.943

您可以使用[Console.CursorSize](http://msdn.microsoft.com/en-us/library/system.console.cursorsize%28v=vs.100%29.aspx)属性来更改光标的“粗细”。

以上相应的 MSDN 页面提供了您需要的所有信息，以及一个示例。但是请注意一件事：如果您在应用程序中更改光标大小然后退出，它会保持该大小，除非您明确将其更改回来（或使用`CMD`窗口的属性来这样做）。

示例（基本说明这一点）：

```
public static void Main()
{
    int originalSize = Console.CursorSize;

    try
    {
       Console.CursorSize = 100; // Use "full" cursor
       ...  
    }
    finally 
    {
       // make sure we leave the cursor size as we found it.
       Console.CursorSize = originalSize;
    }
} 
```

最后，还有一句警告：如果您将应用程序的输出重定向到文件或管道（`>`或`|`），该`Console.CursorSize`属性将引发`IOException`. 在考虑如何使用您的应用程序时，请记住这一点。

# iphone - 从 iPhone 中的 html 页面获取目录

> ID：11573416
> 
> 赞同：1
> 
> 时间：2012-07-20T05:30:53.860
> 
> 标签：iphone, html, ipad, nsarray, epub

我是 iPhone 开发者的新手，

我为我的应用程序制作了 epub 阅读器，我想在其中`<text>`从本地页面获取标记的所有值，`.html`并将其存储在我的数组中。

**例如：** 这是我的`toc.html`文件，我想从这个文件中获取`<text>`标签的所有值，

```
<navMap>
    <navPoint class="chapter" id="navpoint-1" playOrder="1">
        <navLabel>
           <text>Cover</text>
        </navLabel>
      <content src="Morning Insight 26 April - K S 2/Morning Insight 26 April - K S 2/Morning Insight 26 April - K S/Morning Insight 26 April - K S/Morning Insight/OEBPS/first.html"/>
   </navPoint>

     <navPoint class="chapter" id="navpoint-2" playOrder="2">
        <navLabel>
          <text>News</text>
        </navLabel>
      <content src="Morning Insight 26 April - K S 2/Morning Insight 26 April - K S 2/Morning Insight 26 April - K S/Morning Insight 26 April - K S/Morning Insight/OEBPS/1.html"/>
   </navPoint>

    <navPoint class="chapter" id="navpoint-3" playOrder="3">
       <navLabel>
          <text>Report</text>
       </navLabel>
      <content src="Morning Insight 26 April - K S 2/Morning Insight 26 April - K S 2/Morning Insight 26 April - K S/Morning Insight 26 April - K S/Morning Insight/OEBPS/2.html"/>
    </navPoint>

    <navPoint class="chapter" id="navpoint-4" playOrder="4">
       <navLabel>
          <text>Economy Update</text>
       </navLabel>
      <content src="Morning Insight 26 April - K S 2/Morning Insight 26 April - K S 2/Morning Insight 26 April - K S/Morning Insight 26 April - K S/Morning Insight/OEBPS/3.html"/>
    </navPoint>

<navMap> 
```

最后我的数组应该有：

```
array at 0: Cover
array at 1: News
array at 2: Report
array at 3: Economy Update 
```

**编辑：**

```
- (NSString *)dataFilePath:(BOOL)forSave {
    NSLog(@"Path of my file=%@",TOC);
    return TOC;
}

-(void)viewDidAppear:(BOOL)animated{

    [super viewDidLoad];
    TOCArray=[[NSMutableArray alloc]init];

    NSString *filePath = [self dataFilePath:FALSE];
    NSData *response = [[NSMutableData alloc] initWithContentsOfFile:filePath];
    GDataXMLDocument *doc = [[GDataXMLDocument alloc] initWithData:response options:0 error:nil];

    NSArray *navPoints = [[[doc.rootElement elementsForName:@"navMap"] lastObject] elementsForName:@"navPoint"];

    for (GDataXMLElement *m in navPoints)
    {
        NSArray *navLabel = [m elementsForName:@"navLabel"];
        for (GDataXMLElement *e in navLabel)
        {
            NSArray *text = [e elementsForName:@"text"];
            [TOCArray addObject:[text objectAtIndex:0]];
        }
    }

    for (int i=0; i<[TOCArray count]; i++) {
        NSLog(@"Toc array=%@",[TOCArray objectAtIndex:i]);
    }

} 
```

我的日志显示：`Path of my file=/Users/krunal/Library/Application Support/iPhone Simulator/5.0/Applications/D414BC19-C005-4D93-896D-A6FB71DE4D21/Documents/UnzippedEpub/toc.ncx`

但我的数组仍然为空。

这是我的`toc.ncx`文件[http://www.mediafire.com/?4r883s80he23cua](http://www.mediafire.com/?4r883s80he23cua)

**新编辑**

```
2012-07-23 16:07:50.522  iBook [2105:fe03] Toc array=GDataXMLElement 0x6a96480: {type:1 name:text xml:"<text>Cover</text>"}
2012-07-23 16:07:50.522  iBook [2105:fe03] Toc array=GDataXMLElement 0x6a96610: {type:1 name:text xml:"<text>News</text>"}
2012-07-23 16:07:50.523  iBook [2105:fe03] Toc array=GDataXMLElement 0x6a96730: {type:1 name:text xml:"<text>Report</text>"}
2012-07-23 16:07:50.523  iBook [2105:fe03] Toc array=GDataXMLElement 0x6a96850: {type:1 name:text xml:"<text>Economy Update</text>"}
2012-07-23 16:07:50.524  iBook [2105:fe03] Toc array=GDataXMLElement 0x6a96970: {type:1 name:text xml:"<text>Other Factors</text>"}
2012-07-23 16:07:50.524  iBook [2105:fe03] Toc array=GDataXMLElement 0x6a96aa0: {type:1 name:text xml:"<text>Result Update</text>"}
2012-07-23 16:07:50.525  iBook [2105:fe03] Toc array=GDataXMLElement 0x6a96bc0: {type:1 name:text xml:"<text>Result Update (Continued)</text>"}
2012-07-23 16:07:50.526  iBook [2105:fe03] Toc array=GDataXMLElement 0x6a96ce0: {type:1 name:text xml:"<text>Trends in NIM</text>"}
2012-07-23 16:07:50.526  iBook [2105:fe03] Toc array=GDataXMLElement 0x6a96e00: {type:1 name:text xml:"<text>Key Stats</text>"}
2012-07-23 16:07:50.527  iBook [2105:fe03] Toc array=GDataXMLElement 0x6a96f40: {type:1 name:text xml:"<text>Result Update</text>"}
2012-07-23 16:07:50.527  iBook [2105:fe03] Toc array=GDataXMLElement 0x6a97060: {type:1 name:text xml:"<text>Disclaimer</text>"} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-23T05:11:08.007

`GData`我使用& `TouchXML`..为应用程序做了一些 xml 解析

创建一个数组来保存值。

假设您的服务调用返回`NSData`存储在响应中。从中创建一个`GDataXMLDocument`对象。

```
- (NSArray*)textArrayFromNCX
{
    NSMutableArray *values = [NSMutableArray array];

    // get the toc.ncx from documents folder
    NSString *docPath = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) lastObject];
    docPath = [docPath stringByAppendingPathComponent:@"UnzippedEpub"];
    NSString *filePath = [[NSBundle mainBundle] pathForResource:@"toc" ofType:@"ncx" inDirectory:docPath];

    // init the xml document
    NSData *response = [[NSMutableData alloc] initWithContentsOfFile:filePath];
    GDataXMLDocument *doc = [[GDataXMLDocument alloc] initWithData:response options:0 error:nil];

    // loop through the elements
    NSArray *navPoints = [[[doc.rootElement elementsForName:@"navMap"] lastObject] elementsForName:@"navPoint"];
    for (GDataXMLElement *m in navPoints)
    {
        NSArray *navLabel = [m elementsForName:@"navLabel"];
        for (GDataXMLElement *e in navLabel)
        {
            NSArray *text = [e elementsForName:@"text"];
            [values addObject:[[text lastObject] stringValue]];
        }
    }

    return values;
} 
```

`GData`即使实际 xml 中只有一个标签/元素，库也会返回数组。内循环每次外循环迭代只运行一次。

要了解如何集成图书馆访问

[http://www.raywenderlich.com/725/how-to-read-and-write-xml-documents-with-gdataxml](http://www.raywenderlich.com/725/how-to-read-and-write-xml-documents-with-gdataxml)

# c - VC：如何在 .def 文件中指定“取消装饰”？

> ID：11573419
> 
> 赞同：1
> 
> 时间：2012-07-20T05:31:27.123
> 
> 标签：c, windows, visual-c++

出于某种原因，我必须为 .lib 文件创建 .def 文件。我成功地完成了一些基本功能，但我不知道如何处理“不装饰”功能。例如，ws2_32.lib 中的 GetHostNameW()。Dumpbin 显示 GetHostNameW() 的条目应该是：

```
DLL name     : WS2_32.dll
Symbol name  : _GetHostNameW@8
Type         : code
Name type    : undecorate
Hint         : 8
Name         : GetHostNameW 
```

在我的 .def 中，我尝试了以下几行：

```
GetHostNameW@8 GetHostNameW
GetHostNameW
_GetHostNameW@8 
```

但是它们都没有产生与原始 ws2_32.lib 完全相同的条目。主要区别是“名称类型”和“提示”。谁能告诉我该怎么做？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-03T05:28:46.827

几年前，我在博客中详细回答了这个问题：

[http://qualapps.blogspot.com/2007/08/how-to-create-32-bit-import-libraries.html](http://qualapps.blogspot.com/2007/08/how-to-create-32-bit-import-libraries.html)

# java - 类的“同义词”

> ID：11573423
> 
> 赞同：0
> 
> 时间：2012-07-20T05:32:13.237
> 
> 标签：java, class, synonym

举个例子，我有一个`WAV`代表 WAV 声音文件的类。为了方便起见，我需要添加一个`WaveformAudioFile`具有完全相同功能的类。

无论可能的设计/风格问题如何，集成新类的合适方法是什么？通过使用扩展（不添加任何内容），使用通用接口或其他方式？

编辑：进一步考虑这一点，如果要考虑设计，是否有避免冗余代码的替代方法？我的意思是如果有多个类，编写接口会很烦人。某种可用于初始化的模式。属性 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T05:38:16.727

从我的角度来看，接口是最好的解决方案。为实现此类功能的类声明一个公共接口，并使用此接口而不是直接的类类型定义。

例如：

```
ISoundFile mySoundFile = getSoundFile(); 
```

`ISoundFile`您声明的接口在哪里。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-20T05:41:16.060

**1.**从设计的角度来看，如果你想让**你的类发挥特定的作用，那就选择接口。**

**2.**如果你有**不断变化的行为**，那么最好**将它们封装在抽象类或接口**中，然后扩展或实现它以指定某些功能。

/////////////////////////////////// 已**编辑：** ////// //////////////////////

我认为您指的是**DRY 原则（Dont Repeat Yourself）**，根据此原则，**最好将您的信息和行为保存在 Single Sensible Place**中。

但是，如果相同功能的不同类的行为不同怎么办。

例如：

考虑`Painting`作为一个**类**。`paint() Method`

现在

**paint() 方法可以有描边、滑动、着色等样式。**

然后**最好将该方法封装到 Abstract 类或 Interface**中。

```
public interface Paint{

paintDoIt(String style);

} 
```

它**不是关于一项令人厌烦的工作**，而是关于**灵活性和能够在不涉及太多类和不破坏代码的情况下进行更改**。

**只有一件事是软件工程中的常数，那就是** `CHANGE`.

所以我们需要接受它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-20T05:36:58.993

使用一个公共`interface`并在两个类中实现它。一个主要的好处是您的 WAVE 并且所有类都可以扩展任何其他类。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-09T01:54:16.597

只需添加此内容，因为它可能会引起某人的兴趣。我想到了另一种解决方案，那就是简单地使用包装类:)。

# ruby-on-rails - 如何在rails中将子模板扩展到父模板

> ID：11573426
> 
> 赞同：3
> 
> 时间：2012-07-20T05:32:29.197
> 
> 标签：ruby-on-rails, ruby

我是新来的轨道。我很难理解模板继承。早些时候我在 django 工作过，在那里看到了模板继承。在那里我看到孩子被告知父母使用“扩展”命令。任何人都可以在这里解释它是如何工作的。我已经阅读了红宝石指南，但不清楚。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T08:39:54.050

在 Rails 中很简单。

您只需告诉您当前正在渲染的模板来渲染另一个模板。

例如`layouts/application.html.erb`包含这样的内容：

```
<% content_for :navigation do %>
<nav>...</nav>
<% end %>     

<% content_for :content do %>                                                                                                                                                                       
<%= yield %>                                                                                                                                                                                        
<% end %>                                                                                                                                                                                           

<%= render :template => 'layouts/main_application' %> 
```

重要的部分是`render :template`然后委托这个模板也呈现`layouts/main_application.html.erb`在我的例子中看起来像这样的部分：

```
<header>
...
</header>
<body>
<%= yield :nav %>
<%= content_for?(:content) ? yield(:content) : yield %> 
</body> 
```

我在这里所做的是拥有一个不包含导航（用于登录等）的主模板，并且 application.html.erb 将该导航添加到`:nav`内容占位符。

# delphi - Delphi（Indy）客户端发送服务器请求，如何等待响应？

> ID：11573427
> 
> 赞同：3
> 
> 时间：2012-07-20T05:32:45.523
> 
> 标签：delphi, client, wait, indy

我刚刚设法让客户端（IdTCPClient）根据需要向服务器（IdTCPServer）发送消息。但是如何让客户端等待响应，或者适当地超时？

干杯，阿德里安

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T06:11:28.410

客户端可以使用 IOHandler.Readxxx 方法读取响应，其中大多数允许设置超时。读取超时也可以直接在 IdTCPClient.IOHandler 上指定。

```
procedure TForm1.ReadTimerElapsed(Sender: TObject);
var
  S: String;
begin
  ... 
  // connect
  IdTCPClient1.Connect;

  // send data
  ...

  // use one of the Read methods to read the response.
  // some methods have a timeout parameter, 
  // and others set a timeout flag 

  S := IdTCPClient1.IOHandler.ReadLn(...);

  if IdTCPClient1.IOHandler.ReadLnTimedOut then
    ...
  else
    ...

end; 
```

另请参阅：[如何使用 IdTCPClient 等待来自服务器的字符串？](https://stackoverflow.com/questions/7989133/how-can-i-wait-for-a-string-from-a-server-with-idtcpclient)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T20:14:21.973

例如：

客户：

```
procedure TForm1.SendCmdButtonClick(Sender: TObject);
var
  Resp: String;
begin
  Client.IOHandler.WriteLn('CMD');
  Resp := Client.IOHandler.ReadLn;
end; 
```

服务器：

```
procedure TForm1.IdTCPServer1Execute(AContext: TIdContext);
var
  Cmd: String;
begin
  Cmd := AContext.Connection.IOHandler.ReadLn;
  ...
  AContext.Connection.IOHandler.WriteLn(...);
end; 
```

或者，您可以改用该`TIdTCPConnection.SendCmd()`方法：

客户：

```
procedure TForm1.SendCmdButtonClick(Sender: TObject);
begin
  // any non-200 reply will raise an EIdReplyRFCError exception
  Client.SendCmd('CMD', 200);
  // Client.LastCmdResult.Text will contain the response text
end; 
```

服务器：

```
procedure TForm1.IdTCPServer1Execute(AContext: TIdContext);
var
  Cmd: String;
begin
  Cmd := AContext.Connection.IOHandler.ReadLn;
  ...
  if (Command is Successful) then
    AContext.Connection.IOHandler.WriteLn('200 ' + ...);
  else
    AContext.Connection.IOHandler.WriteLn('500 Some Error Text here');
end; 
```

在后一种情况下，如果您切换到`TIdCmdTCPServer`，您可以使用该`TIdCmdTCPServer.CommandHandlers`集合在设计时定义您的命令并将每个命令的`OnCommand`事件处理程序分配给它们，而不是使用`OnExecute`事件来手动读取和解析命令，例如：

```
// OnCommand event handler for 'CMD' TIdCommandHandler object...
procedure TForm1.IdCmdTCPServer1CMDCommand(ASender: TIdCommand);
begin
  ...
  if (Command is Successful) then
    ASender.Reply.SetReply(200, ...);
  else
    ASender.Reply.SetReply(500, 'Some Error Text here');
end; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T05:50:03.977

自从我使用 Indy 组件（或 Delphi ）以来已经有一段时间了，但我相信 TIdTCPClient 不会异步运行，因此没有可以设置的 OnData 或类似事件。

您将需要从父类 (TIdTCPConnection) 中调用其中一种读取方法，例如 ReadLn(...)。或者，您可以考虑使用作为 TIdTCPClient 后代的众多 Indy 组件之一。

可以在[此处](http://www.iternet.biz/Knowledge/Indy9/007827.html)找到该类的文档。

# java - 我是否需要为每个请求创建一个新的 Struts Action 类？

> ID：11573429
> 
> 赞同：1
> 
> 时间：2012-07-20T05:33:02.970
> 
> 标签：java, jakarta-ee, struts2

我是struts的新手，我对Struts有一个基本的怀疑。

我创建了一个新网页，其中包含 10 个链接（链接 1、链接 2、......链接 10）。单击每个链接时，它应该链接到相应的页面。我的问题是我是否需要创建 10 个新的 Struts Action 类来执行重定向，或者我是否有任何其他方式来处理可以处理所有 10 个链接的单个 Struts Action 类。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T06:06:57.700

这取决于所有这 10 个链接将做什么。这里有几个选项。

1.  如果所有链接都在做相同类型的工作（例如与用户相关的工作），最好使用多种方法创建一个操作。

S2 提供了为每个动作映射定义方法的方法，并且基于方法名称 S2 将调用您的动作的尊重方法，例如

```
<action name="action1" class="myActionClass" method="method1"/>
<action name="action2" class="myActionClass" method="method2"/> 
```

请注意，只有在执行任何重定向等操作之前需要实现某种逻辑时，才使用方法创建 Action 类。

对于简单的一页到另一页的重定向，S2 提供了一种非常优雅的方式，它将在运行时创建一个带有执行方法的空操作，并且始终返回`SUCCESS`这是您需要做的

```
<action name="Hello">
   // ...
</action> 
```

在上述情况下，如果动作映射中的类属性留空，则默认使用 com.opensymphony.xwork2.ActionSupport 类。有关详细信息，请参阅此页面[操作配置](http://struts.apache.org/2.3.1/docs/action-configuration.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T05:35:36.940

在 Struts 2 中，您不需要对每个 URL 进行单独的操作。您可以使用单个类，只需为每个链接创建单独的函数。

struts.xml 中的示例动作定义：

```
<action name="Link1" class="com.project.YourActionClass" method="handleLink1">
            ........
</action>

<action name="Link2" class="com.project.YourActionClass" method="handleLink2">
           .........
</action> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-20T09:51:09.693

不需要为每个链接创建单独的动作类，我们只需要使用方法属性配置您希望在每个链接上单击时调用的方法名称，一个动作类就足够了，并且应该在struts中配置动作映射。 xml。

这是 struts2.xml 中的一个优势，而在 struts1 中，我想我们需要使用调度操作来调用特定方法。

# sed - sed 替换 .bashrc 中的值

> ID：11573430
> 
> 赞同：1
> 
> 时间：2012-07-20T05:33:05.157
> 
> 标签：sed

我的 .bashrc 中有以下行：

APP_HOME=/home/user/app/1.0；导出APP_HOME；## 由安装程序添加 - 请不要编辑或删除此行

我想用不同的路径替换 APP_HOME=/home/user/app/1.0 ，比如 /home/user/app/2.0 这真的可以是任何东西。

我有以下内容：

sed s,APP_HOME=,"/home/user/app/2.0", -i ~/.bashrc

但是，我在文件中得到的是附加到原始文件的替换路径。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:35:52.850

您正在用新路径替换 'APP_HOME='。尝试这个：

```
sed 's,APP_HOME=[^;]*,"APP_HOME=/home/user/app/2.0",' -i ~/.bashrc 
```

# ios - pageControl中的滚动视图延迟/滞后

> ID：11573431
> 
> 赞同：0
> 
> 时间：2012-07-20T05:33:14.133
> 
> 标签：ios, ipad, uiimageview, scrollview

我们正在构建一个带有图像的 iPad 目录应用程序。使用滚动视图的图像滚动非常流畅（没有延迟），但是相应的 pageControl（底部的小点）大约需要额外的 1.5 秒。请参阅随附的屏幕截图。

有没有办法最大限度地减少这种滞后/延迟？谢谢您的帮助。![示例截图](../Images/3327d71193b111a36a1de04ce8b7ad6a.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T16:44:58.430

我从您的问题中得到的是水平滚动（使用页面控件）滞后/不稳定。在模拟器上运行您的应用程序，然后从“调试”菜单中单击“颜色混合图层”。此选项将以红色突出显示任何透明对象。理想情况下，一切都是绿色的。尝试通过将其背景颜色设置为其父视图的背景颜色来将所有内容设置为红色绿色（如果可能的话）并将视图的`opaque`设置设置为`YES`. 祝你好运。更多信息：查看[文档](https://developer.apple.com/library/mac/#documentation/developertools/conceptual/InstrumentsUserGuide/MeasuringGraphicsPerformanceinYouriOSDevice/MeasuringGraphicsPerformanceinYouriOSDevice.html#//apple_ref/doc/uid/TP40004652-CH14-SW1)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T16:07:56.730

当您移动到新页面时，在您的代码中发生了什么？您是否正在下拉任何数据、图像等...？

附带说明一下，我会查看 ScrollView 和 PageControl 以查看它们的呈现方式。一旦视图被渲染并且 PageControl 不是，它可能是 ScrollView 正在使用位图图像。

# asp.net - gridview 中的 Ajax 组合框将我搜索的值附加到从数据库绑定的数据中

> ID：11573432
> 
> 赞同：1
> 
> 时间：2012-07-20T05:33:27.137
> 
> 标签：asp.net, ajax, gridview, combobox, autosuggest

gridview 中的 Ajax 组合框将我搜索的值附加到从数据库绑定的数据中

我不希望它附加或绑定在搜索中键入的值，这在 gridview 中发生

```
<asp:TemplateField HeaderText="Supplier" ItemStyle-Width="30%">
           <ItemTemplate>

        <asp:ComboBox ID="ddlsup" runat="server" AutoCompleteMode="SuggestAppend"
      AutoPostBack="true" AppendDataBoundItems="false" CssClass="simpletxt">

           </asp:ComboBox>
    </ItemTemplat 
```

例子

```
combo box has 

bat 
ball
bike

now if I type bajojiojwe

combo box would have

bat 
ball
bike
bajojiojwe 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T06:09:03.923

那是因为您需要更改默认的下拉样式

来自：（默认值）

```
DropDownStyle="DropDown" 
```

至：

```
DropDownStyle="DropDownList" 
```

应用此更改后，您的用户将只能从`ComboBox`

# delphi - 如何编写基于 TCheckBox.Checked 控制 TEdit.PasswordChar 的实时绑定表达式？

> ID：11573434
> 
> 赞同：2
> 
> 时间：2012-07-20T05:33:42.683
> 
> 标签：delphi, livebindings

我在表单上有 2 个控件，TCheckBox 和 TEdit。

我想使用 Live Binding 来执行此操作：

1.  当 TCheckBox.Checked = True 时，设置 TEdit.PasswordChar = *
2.  当 TCheckBox.Checked = False 时，设置 TEdit.PasswordChar = #0

我该如何编写 ControlExpression 来实现这一点？如果我可以避免注册自定义方法，那就太好了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T09:16:25.313

这是一个简单的例子。我找不到布尔表达式评估器，所以我注册了一个新的，还有一个字符串到字符的转换器（似乎也丢失了）。

表格：

```
object Form1: TForm1
  Left = 0
  Top = 0
  Caption = 'Form1'
  ClientHeight = 282
  ClientWidth = 418
  Color = clBtnFace
  Font.Charset = DEFAULT_CHARSET
  Font.Color = clWindowText
  Font.Height = -11
  Font.Name = 'Tahoma'
  Font.Style = []
  OldCreateOrder = False
  PixelsPerInch = 96
  TextHeight = 13
  object CheckBox1: TCheckBox
    Left = 24
    Top = 24
    Width = 97
    Height = 17
    Caption = 'CheckBox1'
    TabOrder = 0
    OnClick = CheckBox1Click
  end
  object Edit1: TEdit
    Left = 24
    Top = 56
    Width = 121
    Height = 21
    TabOrder = 1
    Text = 'Edit1'
  end
  object BindingsList1: TBindingsList
    Methods = <>
    OutputConverters = <>
    UseAppManager = True
    Left = 212
    Top = 13
    object BindExpression1: TBindExpression
      Category = 'Binding Expressions'
      ControlComponent = Edit1
      SourceComponent = CheckBox1
      SourceExpression = 'iif(Checked, '#39'*'#39', '#39#39')'
      ControlExpression = 'PasswordChar'
      NotifyOutputs = True
      Direction = dirSourceToControl
    end
  end
end 
```

和代码：

```
unit Unit1;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls, Data.Bind.EngExt, Vcl.Bind.DBEngExt, System.Rtti,
  Vcl.Bind.Editors, Data.Bind.Components, System.Bindings.Outputs;

type
  TForm1 = class(TForm)
    CheckBox1: TCheckBox;
    Edit1: TEdit;
    BindingsList1: TBindingsList;
    BindExpression1: TBindExpression;
    procedure CheckBox1Click(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Form1: TForm1;

implementation

{$R *.dfm}

uses
  System.TypInfo,
  System.Bindings.EvalProtocol,
  System.Bindings.Methods;

resourcestring
  sIifArgError = 'Expected three variables for Iif() call';
  sIifExpectedBoolean = 'First argument to Iif() must be a boolean';

function MakeIif: IInvokable;
begin
  Result := MakeInvokable(
    function(Args: TArray<IValue>): IValue
    var
      V: IValue;
      B: Boolean;
    begin
      if Length(Args) <> 3 then
        raise EEvaluatorError.Create(sIifArgError);
      V := Args[0];
      if (V.GetType^.Kind <> tkEnumeration) or (V.GetType^.Name <> 'Boolean') then
        raise EEvaluatorError.Create(sIifExpectedBoolean);

      B := V.GetValue.AsBoolean;
      if B then
        Result := TValueWrapper.Create(Args[1].GetValue)
      else
        Result := TValueWrapper.Create(Args[2].Getvalue);
    end
  );
end;

procedure TForm1.CheckBox1Click(Sender: TObject);
begin
  BindingsList1.Notify(CheckBox1, 'Checked');
end;

initialization
  TBindingMethodsFactory.RegisterMethod(TMethodDescription.Create(MakeIif, 'iif', 'iif', '', True, '', nil));
  TValueRefConverterFactory.RegisterConversion(TypeInfo(string), TypeInfo(Char),
    TConverterDescription.Create(
      procedure(const I: TValue; var O: TValue)
      var
        S: string;
      begin
        S := I.AsString;
        if Length(S) = 1 then
          O := S[1]
        else
          O := #0;
      end,
      'StringToChar', 'StringToChar', '', True, '', nil));

finalization
  TValueRefConverterFactory.UnRegisterConversion('StringToChar');
  TBindingMethodsFactory.UnRegisterMethod('iif');

end. 
```

# java - 我在 Tomcat 文件夹中没有 catalina 目录。在这种情况下，我在哪里可以找到特定于应用程序的 context.xml 文件？

> ID：11573436
> 
> 赞同：0
> 
> 时间：2012-07-20T05:33:45.767
> 
> 标签：java, tomcat, catalina, context.xml

我有两个项目，工作服务器为`Tomcat`. [从他们的网站上](http://tomcat.apache.org/tomcat-6.0-doc/config/context.html)，我了解到应用程序特定`context.xml`的文件位于 catalina/localhost 目录中。

我在 Tomcat 文件夹中没有*catalina*目录。我已经用 netbeans 安装了 Tomcat。在这种情况下，我在哪里可以找到`context.xml`每个应用程序的？

![在此处输入图像描述](../Images/ad6607405491c5c822a22b8925e69322.png)

***注意：这个问题可能与[这个问题有关](https://stackoverflow.com/questions/11561961/where-can-i-find-application-specific-context-xml-file)，但它们是不同的***

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T05:43:29.843

我不确定您的问题，但如果您指的是每个特定的应用程序文件夹，您可以在以下位置找到它：

```
work\Catalina\localhost\{yourappwebcontext} 
```

否则，您指的是 $CATALINA_HOME 或 $CATALINA_BASE 这实际上是您的 tomcat 安装路径。您也可以在环境变量中设置它，即：

```
c:/program files/apacheTomcatFoundation/ApacheTomcat7.0.22 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:59:18.153

该网站说在 $CATALINA_BASE/conf/[enginename]/[hostname]/context.xml.default 文件中：上下文元素信息将由该主机的所有 webapps 加载。我在 conf 目录中没有引擎名称

# windows - 为什么 Windows 要求系统管理员权限才能运行名称中带有“安装”的可执行文件？

> ID：11573444
> 
> 赞同：11
> 
> 时间：2012-07-20T05:34:26.100
> 
> 标签：windows, windows-7

我正在构建一个允许将应用程序安装到我们的模拟器中的工具，它被称为“cl-install.exe”。它真的不需要任何管理员权限来运行。但是当从命令提示符调用此命令时，Windows 7 总是会弹出一个对话框，要求用户提供管理员权限。

如果我将同一个可执行文件重命名为其他名称，其中没有“安装”或“设置”字样，Windows 不会要求管理员权限。

有什么方法可以阻止 Windows 执行此操作，而无需重命名我的可执行文件？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-20T05:45:10.457

这是 Windows Vista 及更高版本中存在的启发式方法的一部分。如果文件包含“install”、“setup”、“update”或“patch”字样，则从这里开始 - 假定安装程序[。](http://www.google.co.za/url?sa=t&rct=j&q=&esrc=s&source=web&cd=3&ved=0CGIQFjAC&url=http://download.microsoft.com/download/8/C/D/8CD015BB-081B-49C5-A506-9C9B570B8DD2/InstallerDetection.pptx&ei=R-8IUPCxDsemhAe4mMH6CQ&usg=AFQjCNHXcaCOv_FFndx0mxn7eovywzKQMg&sig2=WO6YA8Bahm0zOiqZH7P-GQ)

您可以通过在清单中添加以下内容来防止这种情况

```
<requestedExecutionLevel level="asInvoker" /> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-03-17T13:37:23.960

我在这里找到了一个可行的解决方案：[https ://github.com/bmatzelle/gow/issues/156](https://github.com/bmatzelle/gow/issues/156)

引用：

解决方案是为可执行文件编写下面列出的清单文件，以说服 UAC 它不需要管理权限。

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<assembly xmlns="urn:schemas-microsoft-com:asm.v1" manifestVersion="1.0">
  <trustInfo xmlns="urn:schemas-microsoft-com:asm.v3">
    <security>
      <requestedPrivileges>
        <!-- Make sure that UAC believes
        that it does not require administrative privilege -->
        <requestedExecutionLevel level="asInvoker" uiAccess="false"/>
      </requestedPrivileges>
    </security>
  </trustInfo>
</assembly> 
```

清单文件的文件名应为 install.exe.manifest 和 patch.exe.manifest，然后将它们与 install.exe 和 patch.exe 放在同一文件夹中。

如果 UAC 提示仍然弹出，请更改 install.exe 和 patch.exe 的时间戳，以说服 Windows 选择新的清单文件。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-20T05:55:05.007

如果我没记错的话，您可以通过以下方式禁用此行为（引自[Technet](http://technet.microsoft.com/en-us/library/cc709691%28v=WS.10%29.aspx)）：

1.  单击**开始**，单击**所有程序**，单击**附件**，单击运行，在**打开文本框中键入****secpol.msc**，然后单击**确定**。

*****   从**本地安全设置**控制台树中，单击**本地策略**，然后单击**安全选项**。

    *   向下滚动并双击**用户帐户控制：检测应用程序安装并提示提升**。

    *   选择**禁用**选项，然后单击**确定**。

    *   关闭**本地安全设置**窗口。**** 

 ****您可能需要重新登录才能使设置生效。****

# symfony - Symfony2 找不到模板文件

> ID：11573448
> 
> 赞同：4
> 
> 时间：2012-07-20T05:35:05.147
> 
> 标签：symfony, twig

我在 SF2 中使用 twig 模板发送电子邮件时遇到问题。

首先，我创建了一个模板文件，位于： `MainBundle/Resources/views/Email/InviteNewUsers.twig`

接下来，我将视图呈现为电子邮件的正文：`$this->get('mailer')->send($this->renderView('MainBundle:Email:InviteNewUsers.twig', array('code' => $invite->getCode())));`

不幸的是，这会触发错误：`Unable to find template "MainBundle:Email:InviteNewUsers.twig"`

我的文件放置或渲染命令有问题吗？

有人建议我可能需要在模板名称中输入一个类型，因此我进行了测试`InviteNewUsers.txt.twig`并收到了相同的错误。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-20T05:49:22.420

我相信树枝模板的名称需要是`InviteNewUsers.{_format}.twig`. 所以它必须是类似`InviteNewUsers.html.twig`, `InviteNewUsers.xml.twig`, or `InviteNewUsers.text.twig`etc

编辑：

此外，如果您的命名空间包含类似的第一个目录`{Company}\BaseBundle\...`，那么您的模板路径需要是`{Company}MainBundle:Email:InviteNewUsers.text.twig`

# iphone - 获取 ADBannerView 错误消息

> ID：11573449
> 
> 赞同：2
> 
> 时间：2012-07-20T05:35:10.523
> 
> 标签：iphone, objective-c, ios

我正在以编程方式`ADBannerView`在我的 iPhone 应用程序中创建，

谁能这么说我

为什么我在控制台中收到此消息，

> `ADBannerView: Unhandled error (no delegate or delegate does not implement didFailToReceiveAdWithError:): Error Domain=ADErrorDomain Code=3 "The operation couldn’t be completed. Ad inventory unavailable" UserInfo=0xb5328d0 {ADInternalErrorCode=3, NSLocalizedFailureReason=Ad inventory unavailable}`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T05:50:13.967

```
in .h file 
#import <iAd/iAd.h>
@interface YOUR_FILE : UIViewController <ADBannerViewDelegate>{

 ADBannerView *adView;
}

@property(nonatomic,retain)IBOutlet ADBannerView *adView;

@end; 
```

在 .m 文件中

```
 -(void)viewDidLoad  {

...
...
...
...
     adView.delegate =self;
    }

-(void) bannerView:(ADBannerView *)banner didFailToReceiveAdWithError:(NSError *)error 
{
    NSLog(@"iAdBanner failed");

}
-(void) bannerViewDidLoadAd:(ADBannerView *)banner
{

    NSLog(@"iAdBanner loaded");

} 
```

# javascript - javascript改变innerHTML

> ID：11573455
> 
> 赞同：1
> 
> 时间：2012-07-20T05:36:07.600
> 
> 标签：javascript, html

我想使用另一个 div 的 nextSibling 更改 div "act" 的内容。
但结果是 - 未定义。

```
function inner(){
var abc = document.getElementById("start").nextSibling;
document.getElementById("act").innerHTML = abc.innerHTML;
 }

<img id="btnRight" src="img/btnRight.png" onclick="inner()">
<div id="act"><img src="img/home01.jpg"></div>

<div id="store">
<div id="start">
<img src="img/img01.jpg">
</div>

<div>
<img src="img/img02.jpg"> //wanted to place into "act"
</div>

<div id="end">
<img src="img/img03.jpg">
</div>
</div> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-20T05:45:32.323

使用[`nextElementSibling`](https://developer.mozilla.org/en/DOM/Element.nextElementSibling),[`nextSibling`](https://developer.mozilla.org/en/DOM/Node.nextSibling)可以是文本节点

```
function inner(){
    var abc = document.getElementById("start").nextElementSibling;
    document.getElementById("act").innerHTML = abc.innerHTML;
} 
```

[小提琴](http://jsfiddle.net/jLwyJ/)

* * *

如果您的目标浏览器不支持`nextElementSibling`，您可以遍历兄弟姐妹并找到第一个元素节点。

```
function nextElementSibling(element) {
    while (element.nextSibling){
        element = element.nextSibling;
        if (element.nodeType == Node.ELEMENT_NODE){
            return element;
        }
    }
    return undefined;                
} 
```

[小提琴](http://jsfiddle.net/jLwyJ/1/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-20T05:45:48.383

您必须确保在遍历节点时跳过空格。

```
function next(elem) {
    do {
        elem = elem.nextSibling;
    } while (elem && elem.nodeType != 1);
    return elem;                
}

function inner(){
    var abc = next(document.getElementById("start"));
    document.getElementById("act").innerHTML = abc.innerHTML;
} 
```

[您可以在http://jsfiddle.net/CkCR3/](http://jsfiddle.net/CkCR3/)看到一个工作示例。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-20T06:00:36.957

我制作了一个 jsfiddle 来演示一种更简单的方法。您会注意到 act div 是红色的，而 start div 是蓝色的。当您单击按钮时，innerHTML 将发生变化。此外，您可能会看到 undefined 的一个原因是 DOM 没有加载，因此它不知道 div 存在。下次您应该使用`window.onload = inner();`使函数在 DOM 加载后运行。

这是 jsfiddle：http: [//jsfiddle.net/yY9Ag/16/](http://jsfiddle.net/yY9Ag/16/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-20T05:45:26.847

此行为的原因是 id 为“start”的 div 与以下 div 之间的空白。因此， nextSibling 将是文本内容。您需要执行 nextSibling 两次：

```
var abc = document.getElementById("start").nextSibling.nextSibling; 
```

另一种选择是删除两个 div 之间的空白字符。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-20T05:45:42.493

有两种方法

首先修复代码

```
nextSibling.nextSibling.innerHTML 
```

或修复 html ：删除所有 \n char

```
<img id="btnRight" src="img/btnRight.png" onclick="inner()"><div id="act"><img src="img/home01.jpg"></div><div id="store"><div id="start"><img src="img/img01.jpg"></div><div><img src="img/img02.jpg"> //wanted to place into "act"</div><div id="end"><img src="img/img03.jpg"></div></div>​ 
```

因为 div 标签的下一个兄弟是空的 textNode（它看不到）

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-07-20T05:59:50.273

请按以下方式更改您的代码行；因为每个下一个元素都检查是否存在，然后获取内部 html。

函数内部（）{

```
 var abc = document.getElementById("start");
    do {
        abc = abc.nextSibling;
    } while (abc && abc.nodeType != 1);
    document.getElementById("act").innerHTML = abc.innerHTML;     
   return false;
} 
```

# java - Java ProcessBuilder：输入/输出流

> ID：11573457
> 
> 赞同：1
> 
> 时间：2012-07-20T05:36:35.707
> 
> 标签：java, outputstream, processbuilder

我想在 java 代码中调用一个外部程序，然后 Google 告诉我 Runtime 或 ProcessBuilder 可以帮助我完成这项工作。我试过了，出现了java程序无法退出的问题，即子进程和父进程都在等待。他们正在挂起或陷入僵局。

有人告诉我原因是子进程的缓存太小了。当它试图将数据返回给父进程，但父进程没有及时读取数据时，它们都会挂起。所以他们建议我分叉一个线程来负责读取子进程的缓存数据。我按照他们告诉我的去做，但仍然存在一些问题。

然后我关闭通过 getOutputStream() 方法获得的输出流。最后，程序成功。但我不知道为什么会这样？输出蒸汽和输入流之间是否存在某种关系？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-07-20T15:08:32.873

您在问题中提供的细节很少，所以我只能提供一般性的答案。

所有进程都有三个标准流：标准输入、标准输出和标准错误。标准输入用于读入数据，标准输出用于写出数据，标准错误用于写出错误消息。`Runtime.getRuntime().exec()`当您使用or启动外部程序时`ProcessBuilder`，Java 将为外部程序创建一个`Process`对象，该`Process`对象将具有访问这些流的方法。

这些流的访问方式如下：

*   `process.getOutputStream()`: 返回外部程序的**标准输入**。这是`OutputStream`您的 Java 代码将写入的内容。
*   `process.getInputStream()`：返回外部程序的**标准输出**。这是`InputStream`您的 Java 代码将从中读取的内容。
*   `process.getErrorStream()`：返回外部程序的标准误差。这`InputStream`就像标准输出一样，是您的 Java 代码将从中读取的内容。

请注意， 和 的名称`getInputStream()`可能`getOutputStream()`会造成混淆。

您的 Java 代码和外部程序之间的所有流都被*缓冲*。这意味着每个流都有少量内存（*缓冲区*），写入者可以在其中写入尚未被读取者读取的数据。写入器不必等待读取器立即读取其数据；它可以将其输出留在缓冲区中并继续。

写入缓冲区和读取缓冲区有两种挂起方式：

*   当没有足够的空间用于数据时尝试将数据写入缓冲区，
*   试图从空缓冲区中读取。

在第一种情况下，写入器将通过读取数据来等待缓冲区中的空间。在第二种情况下，阅读器将等到数据写入缓冲区。

您提到关闭返回的流`getOutputStream()`导致您的程序成功完成。这将关闭外部程序的**标准输入**，告诉它没有更多内容可供读取。如果您的程序随后成功完成，这表明您的程序在挂起时正在等待更多输入。

可能有争议的是，如果您确实运行了一个外部程序，如果您不需要使用它，您应该关闭它的标准输入，就像您所做的那样。这告诉外部程序将不再有输入，因此消除了它在等待输入时卡住的可能性。但是，它没有回答为什么您的外部程序正在等待输入的问题。

大多数时候，当您使用`Runtime.getRuntime().exec()`or运行外部程序时`ProcessBuilder`，您并不经常使用标准输入。通常，您会在命令行上将所需的任何输入传递给外部程序，然后读取其输出（如果它生成任何输出）。

您的外部程序是否按照您的需要执行然后卡住，显然是在等待输入？您是否需要将数据发送到其标准输入？如果您在 Windows 上使用 启动一个进程`cmd.exe /k ...`，命令解释器将在它启动的程序退出后继续运行。在这种情况下，您应该使用`/c`而不是`/k`.

最后，我想强调一下，有两个输出流，标准输出和标准错误。如果您在错误的时间从错误的流中读取，可能会出现问题。如果您在缓冲区为空时尝试从外部程序的标准输出中读取，您的 Java 代码将等待外部程序生成输出。但是，如果您的外部程序正在向其标准错误写入大量数据，它可能会填满缓冲区，然后发现自己正在等待您的 Java 代码通过读取缓冲区来腾出空间。这样做的最终结果是您的 Java 代码和外部程序都在等待对方做某事，即死锁。

这个问题可以简单地通过使用 a`ProcessBuilder`并确保你用一个值调用它的`redirectErrorStream()`方法来解决。`true`调用此方法会将外部程序的标准错误重定向到其标准输出，因此您只有一个流可供读取。

# c# - DynamicILInfo.GetTokenFor(MethodHandle,RuntimeTypeHandle) 不适用于可变参数方法调用

> ID：11573459
> 
> 赞同：1
> 
> 时间：2012-07-20T05:36:48.027
> 
> 标签：c#, .net, clr, dynamicmethod, dynamic-method

考虑以下代码：

```
 static public void TestMethodVarArgs(__arglist)
    {
        ArgIterator iterator = new ArgIterator(__arglist);
        Console.WriteLine(iterator.GetRemainingCount());
    }

    static void Main(string[] args)
    {
        TestMethodVarArgs(__arglist(2, "asas", 55.0));
    } 
```

似乎这`DynamicILInfo.GetTokenFor(MethodHandle,RuntimeTypeHandle)`不适用于可变参数方法调用（`TestMethodVarArgs`上面代码中的调用）。如果我执行动态方法，它会给出“JIT 编译器遇到内部限制”异常。

这是一个错误吗？局限性？有没有解决的办法？

# java - Gmail 中的 SMTPSendFailedException 530，SMTP 失败，而 IMAP 工作

> ID：11573460
> 
> 赞同：1
> 
> 时间：2012-07-20T05:36:53.393
> 
> 标签：java, login, smtp, jakarta-mail

我有一个示例 gmail 客户端类。在该课程中，我初始化了 IMAPS 和 SMTPS 会话。有一段时间它工作正常。但现在 Gmail 抛出 SMTO 发送失败异常。

这是我通过 javamail 连接到 Gmail 的方式。

```
//String smtpHost = "imap.gmail.com";
//String imapHost = "smtp.gmail.com";
//String userName = "XXXXXX@gmail.com";
//String userPass = "PASSWORD";
//Properties props = new Properties();

public DirectMailBox(String smtpHost, String imapHost, String userName,
        String userPass, Properties props) throws MessagingException {
    super();
    this.imapHost = imapHost;
    this.smtpHost = smtpHost;
    this.userName = userName;
    this.userPass = userPass;
    this.props = props;

    session = Session.getDefaultInstance(props);
    session.setDebug(true);
    imapsStore = session.getStore("imaps");
    imapsStore.connect(imapHost, userName, userPass);

    smtpsTransport = session.getTransport("smtps");
    smtpsTransport.connect(smtpHost, userName, userPass);
    smtpsTransport.addTransportListener(this);
} 
```

这就是我如何称呼sendmail ..

```
public void sendMail(MimeMessage newMessage) throws MessagingException {
    smtpsTransport.sendMessage(newMessage, newMessage.getAllRecipients());
} 
```

遵循此 URL 上的说明，但没有解决方案。 [http://support.google.com/mail/bin/answer.py?answer=14257](http://support.google.com/mail/bin/answer.py?answer=14257)

这是一个调试转储......

```
DEBUG: setDebug: JavaMail version 1.4ea
DEBUG: getProvider() returning javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Sun Microsystems, Inc]
DEBUG: mail.imap.fetchsize: 16384
* OK Gimap ready for requests from 14.140.225.250 uy8if8067087pbc.8
A0 CAPABILITY
* CAPABILITY IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 XYZZY SASL-IR AUTH=XOAUTH
A0 OK Thats all she wrote! uy8if8067087pbc.8
IMAP DEBUG: AUTH: XOAUTH
DEBUG: protocolConnect login, host=smtp.gmail.com, user=XXXXXX@gmail.com, password=<non-null>
A1 LOGIN XXXXXX@gmail.com PASSWORD
* CAPABILITY IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 UIDPLUS COMPRESS=DEFLATE
A1 OK XXXXXX@gmail.com Rakesh Waghela authenticated (Success)
DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Sun Microsystems, Inc]
DEBUG SMTP: useEhlo true, useAuth false
DEBUG SMTP: trying to connect to host "imap.gmail.com", port 465, isSSL true
220 mx.google.com ESMTP mt9sm3371719pbb.14
DEBUG SMTP: connected to host "imap.gmail.com", port: 465

EHLO LPT0031
250-mx.google.com at your service, [14.140.225.250]
250-SIZE 35882577
250-8BITMIME
250-AUTH LOGIN PLAIN XOAUTH
250 ENHANCEDSTATUSCODES
DEBUG SMTP: Found extension "SIZE", arg "35882577"
DEBUG SMTP: Found extension "8BITMIME", arg ""
DEBUG SMTP: Found extension "AUTH", arg "LOGIN PLAIN XOAUTH"
DEBUG SMTP: Found extension "ENHANCEDSTATUSCODES", arg ""
DEBUG: setDebug: JavaMail version 1.4ea
DEBUG: getProvider() returning javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Sun Microsystems, Inc]
DEBUG: mail.imap.fetchsize: 16384
* OK Gimap ready for requests from 14.140.225.250 vf8if4407540pbc.7
A0 CAPABILITY
* CAPABILITY IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 XYZZY SASL-IR AUTH=XOAUTH
A0 OK Thats all she wrote! vf8if4407540pbc.7
IMAP DEBUG: AUTH: XOAUTH
DEBUG: protocolConnect login, host=smtp.gmail.com, user=XXXXXX@gmail.com, password=<non-null>
A1 LOGIN XXXXXX@gmail.com PASSWORD
* CAPABILITY IMAP4rev1 UNSELECT IDLE NAMESPACE QUOTA ID XLIST CHILDREN X-GM-EXT-1 UIDPLUS COMPRESS=DEFLATE
A1 OK XXXXXX@gmail.com Rakesh Waghela authenticated (Success)
DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Sun Microsystems, Inc]
DEBUG SMTP: useEhlo true, useAuth false
DEBUG SMTP: trying to connect to host "imap.gmail.com", port 465, isSSL true
220 mx.google.com ESMTP ru4sm3359950pbc.66
DEBUG SMTP: connected to host "imap.gmail.com", port: 465

EHLO LPT0031
250-mx.google.com at your service, [14.140.225.250]
250-SIZE 35882577
250-8BITMIME
250-AUTH LOGIN PLAIN XOAUTH
250 ENHANCEDSTATUSCODES
DEBUG SMTP: Found extension "SIZE", arg "35882577"
DEBUG SMTP: Found extension "8BITMIME", arg ""
DEBUG SMTP: Found extension "AUTH", arg "LOGIN PLAIN XOAUTH"
DEBUG SMTP: Found extension "ENHANCEDSTATUSCODES", arg ""
DEBUG SMTP: use8bit false
MAIL FROM:<RakeshW@LPT0031>
530-5.5.1 Authentication Required. Learn more at
530 5.5.1 http://support.google.com/mail/bin/answer.py?answer=14257 mt9sm3371719pbb.14
com.sun.mail.smtp.SMTPSendFailedException: 530-5.5.1 Authentication Required. Learn more at
530 5.5.1 http://support.google.com/mail/bin/answer.py?answer=14257 mt9sm3371719pbb.14

    at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:1388)
    at com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:959)
    at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:583)
    at com.wellogic.phoenix.mail.direct.DirectMailBox.sendMail(DirectMailBox.java:86)
    at com.wellogic.phoenix.test.DirectMailTest.testSendMail(DirectMailTest.java:40)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
    at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)
    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
    at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
Not Delivered... 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-23T15:24:59.613

终于解决了问题..!! 使用以下方法。

[http://mlusincuba.wordpress.com/2012/03/03/java-mail-gmail-smtp-client/](http://mlusincuba.wordpress.com/2012/03/03/java-mail-gmail-smtp-client/)

```
package com.mycompany.employee.utils;

import java.io.UnsupportedEncodingException;
import java.util.Properties;
import javax.mail.Message;
import javax.mail.MessagingException;
import javax.mail.Session;
import javax.mail.Transport;
import javax.mail.internet.InternetAddress;
import javax.mail.internet.MimeMessage;

/**
 * @author Mlungisi
 *
 */
public class GMail {

    public static void sendMail(String senderEmail, String recipientEmail, String subject, String message) throws MessagingException, UnsupportedEncodingException {

        // SSL // I USED THIS METHOD            
        Properties propsSSL = new Properties();

        // EVEN IF YOU SKIP THESE TWO PROP IT WOULD WORK
        propsSSL.put("mail.transport.protocol", "smtps");
        propsSSL.put("mail.smtps.host", "smtp.gmail.com");

        // THIS IS THE MOST IMPORTANT PROP --> "mail.smtps.auth"
        propsSSL.put("mail.smtps.auth", "true");

        Session sessionSSL = Session.getInstance(propsSSL);
        sessionSSL.setDebug(true);

        Message messageSSL = new MimeMessage(sessionSSL);
        messageSSL.setFrom(new InternetAddress("yourgmail@gmail.com", "Mlungisi Sincuba"));
        messageSSL.setRecipients(Message.RecipientType.TO, InternetAddress.parse("yourgmail@gmail.com")); // real recipient
        messageSSL.setSubject("Test mail using SSL");
        messageSSL.setText("This is test email sent to Your account using SSL.");

        Transport transportSSL = sessionSSL.getTransport();
        // EVEN IF YOU SKIP PORT NUMBER , IT WOULD WORK
        transportSSL.connect("smtp.gmail.com", 465, "yourgmail@gmail.com", "yourpassword"); // account used
        transportSSL.sendMessage(messageSSL, messageSSL.getAllRecipients());
        transportSSL.close();

        System.out.println("SSL done.");
    }

    public static void main(String[] args) throws MessagingException, UnsupportedEncodingException {
        System.out.println("Hello World!");
        sendMail(null, null, null, null);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T13:41:25.973

您似乎使用 imap.gmail.com 作为您的 smtp 服务器。您可能还想尝试打开 smtp 身份验证。

# php - 在 flexigrid 的每一行上放置一个按钮

> ID：11573464
> 
> 赞同：0
> 
> 时间：2012-07-20T05:37:20.703
> 
> 标签：php, cakephp, grid, flexigrid

我在我的 cakePHP 应用程序中实现了 flexigrid。现在，我在顶部给出了一个编辑按钮。但我想在每一行上放置编辑按钮。谁能帮我解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-13T23:09:06.000

Flexigrid 单元格数据可以是任何内容，包括 html 代码。只需将您的 html 代码添加到您提供给 FlexiGrid 的数据中，它应该可以工作。

# wordpress - 在不先自动保存的情况下将媒体附加到帖子

> ID：11573465
> 
> 赞同：0
> 
> 时间：2012-07-20T05:37:30.230
> 
> 标签：wordpress, media, autosave

在 WordPress 中，我使用 wp_editor 来允许用户使用编辑器和媒体上传器。我想避免创建帖子的自动保存，但问题是在保存帖子之前，附件没有要附加的 post_id。

我想知道是否有办法上传媒体，然后在保存后将其附加到新帖子中。

我可以在保存帖子时将临时 ID 传递给附件以识别它吗？或者也许在上传后获取附件 ID？

想法赞赏！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T09:08:47.240

经过一番大惊小怪，我得出的结论是，预先发布帖子ID是必要的。

我最终做了 WordPress Post Edit 屏幕所做的事情。一旦用户输入了帖子标题，我就使用了一点 jQuery 和 Ajax 来动态创建自动保存。

自动保存完成后，它将媒体上传 iframe href 替换为包含自动保存帖子 ID 的内容。

所以，仍有可能会有一些废弃的帖子草稿，但至少需要通过输入帖子标题来做出一些承诺。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-18T13:38:07.407

您可以创建未附加的媒体，然后将其附加到帖子中：

```
function file_into_database( $filetype, $filename, $target )
{
    $title = $this->clean_file_info[ 'basename' ];

    $attachment = array
    (
          'post_mime_type' => $filetype
        , 'post_title'     => $title
        , 'post_content'   => ''
        , 'post_status'    => 'inherit'
        , 'guid'           => $target[ 'uri' ]
        , 'post_author'    => $this->author
    );

    $attach_id = wp_insert_attachment( $attachment, $target[ 'path' ] );

    $attach_data = wp_generate_attachment_metadata( $attach_id, $target[ 'path' ] );
    wp_update_attachment_metadata( $attach_id,  $attach_data );

    return $attach_id;
} 
```

然后稍后附上它：

```
wp_update_post
(
    array
    (
           'ID'          => $attachment[ 'id' ]
        ,  'post_parent' => $id_new_post
    )
) 
```

我只是在一个插件中找到了这个，没有找到它的文档，所以我不知道是否有任何副作用，但我没有遇到任何副作用。另请注意，如果帖子最终没有发布，您将不会得到挥之不去的自动保存，但您可能会得到挥之不去的附件，因此您可能必须安排在将来的某个时间删除它们，并在何时以及如果帖子被保存。

# c# - 使用 MVC3 的电子邮件附件

> ID：11573471
> 
> 赞同：0
> 
> 时间：2012-07-20T05:37:52.040
> 
> 标签：c#, sendmail

我需要在 MVC3 中发送带有附件的电子邮件

> 我有发送邮件代码，但是如何在 MVC3 中附加文件并发送邮件

```
public void SendConfirmationEmail(string file)
        {
            string verifyUrl = //need to send that file URL code saving that file  
            //on server drive
            var message = new MailMessage("YOUR_USER_ACCOUNT_HERE@YOUR_DOMAIN_HERE", "SENDERS EMAIL ID")
            {
                Subject = "Please confirm attachment",
                Body = verifyUrl
                //Also send attachment file code
            };
            var client = new SmtpClient();
            client.Send(message);
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T05:42:12.597

您可以通过以下方式附加文件：

要将消息字符串添加为附件，您可以简单地执行以下操作：

```
message.Attachments.Add(new Attachment("message")); 
```

要将文件添加为附件，您必须这样做：

```
 string file = "test.xls";
  message.Attachments.Add(new Attachment(file, MediaTypeNames.Application.Octet)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T05:43:46.960

您需要做的就是定义一个附件对象，因为您仍然使用 System.net.mail

```
Attachment data = new Attachment(file, MediaTypeNames.Application.Octet);
message.Attachments.Add(data); 
```

[http://msdn.microsoft.com/en-us/library/system.net.mail.mailmessage.attachments.aspx](http://msdn.microsoft.com/en-us/library/system.net.mail.mailmessage.attachments.aspx)

# android - 计算 TextView 渲染性能的时间

> ID：11573472
> 
> 赞同：0
> 
> 时间：2012-07-20T05:38:04.680
> 
> 标签：android, rendering

如何计算`TextView`渲染一行文本所需的时间？

```
textView.setText("hello"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T05:53:50.840

您可以扩展 TextView 类并覆盖绘制：

```
@Override
public void draw(Canvas canvas) {
    //log start time
    super.draw(canvas);
    //log end time
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:32:30.963

@Maxim 的替代方法是在前后记录`setText("hello");`

```
Log.i(logTag, "start time");
textView.setText("hello");
Log.i(logTag, "end time"); 
```

如果视图仅在调用之后才呈现，这将不起作用`setText`。也许有人可以在评论中确认或否认这一点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T05:47:46.883

在eclipse中使用Android Traceview

# java - Scrollview 中的 TabHost 滚动内容更改

> ID：11573473
> 
> 赞同：3
> 
> 时间：2012-07-20T05:38:08.550
> 
> 标签：java, android, scrollview, android-tabhost

我有一个`ScrollView`作为父母。里面有一个`LinearLayout`with`ImageView`和`TabHost`。我更改了`TabHost`通过活动的内容。在更改内容时，`Tabhost`向下滚动到它自己的选项卡，标题不再可见。我怎样才能防止这种情况？

我的 main.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<ScrollView 
    android:id="@+id/mainScroll"
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_gravity="center_horizontal"
    android:gravity="center_horizontal" >

    <TabHost xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@android:id/tabhost"
        android:layout_width="800px"
        android:layout_height="fill_parent"
        android:layout_gravity="center_horizontal" >

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:orientation="vertical"
            android:padding="5dp" >

            <ImageView
                android:id="@+id/header"
                android:layout_width="800px"
                android:layout_height="200px"
                android:src="@drawable/header" />

            <TabWidget
                android:id="@android:id/tabs"
                android:layout_width="wrap_content"
                android:layout_height="50px" />

            <FrameLayout
                android:id="@android:id/tabcontent"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:padding="5dp" />
        </LinearLayout>

    </TabHost>
</ScrollView> 
```

我更改内容的活动：

```
 public class UeberActivity extends Activity {

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.ueber);
    }
} 
```

我怎样才能避免这种滚动？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-09-14T13:25:12.340

还有另一个类似的[问题](https://stackoverflow.com/questions/36332922/android-tabhost-auto-scroll-vertically-in-side-scrollview-on-tabchange/39491500#39491500)，我在其中发布了答案。基本上我扩展了 ScrollView 并覆盖了`computeScrollDeltaToGetChildRectOnScreen`.

不需要滚动的原因是，在`requestChildFocus`ScrollView 中默认滚动到焦点视图（例如 TabHost）。`computeScrollDeltaToGetChildRectOnScreen`用于计算增量滚动以使视图清晰可见。

爪哇：

```
public class MyScrollView extends ScrollView {
    public MyScrollView(Context context) {
        super(context);

    }

    public MyScrollView(Context context, AttributeSet attrs) {
        super(context, attrs);

    }

    @Override
    protected int computeScrollDeltaToGetChildRectOnScreen(Rect rect) {
        // This function calculates the scroll delta to bring the focused view on screen.
        // -> To prevent unsolicited scrolling to the focued view we'll just return 0 here.
        //
        return 0;
    }
} 
```

XML:

```
<YOUR.PAKAGE.NAME.MyScrollView
            android:layout_width="match_parent"
            android:layout_height="match_parent">
</YOUR.PAKAGE.NAME.MyScrollView> 
```

# javascript - 它是一种捕获闭包定义堆栈的方法吗？

> ID：11573474
> 
> 赞同：0
> 
> 时间：2012-07-20T05:38:12.380
> 
> 标签：javascript, oop, closures, callstack, scope-chain

我目前正在研究一种将 JavaScript 函数保护为*private*的方法，如果调用者无效，则会引发异常。那么我这里有一个问题：如果在有效调用者内部定义了一个闭包，是否可以从内部闭包中获取有效调用者？

例如：

```
function validCaller() {
    var self = this;
    self.privateFunction1();
    $.each([/*...*/], function (key, val) {
        self.privateFunction2(); 
    });
} 
```

而且，当然`privateFunction1`会正确获取调用者`validCaller`，但`privateFunction2`会获取匿名函数作为调用者，因此访问将被拒绝。

如果我通过表达式从调用堆栈中获取validCaller，这不是正确的方法`caller.caller.caller`，因为我无法确定我应该回溯多少级，并且在某些特殊情况下，匿名函数需要在`validCaller`.

也许我用复杂的方式问了这个问题，简单的方法是：

> **如何捕获函数的作用域链？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:03:02.983

保持隐私的合理方法就是不要告诉任何人......

```
function MyObject(a, b, c)
{
    this.a = a;
    this.b = b;
    this.c = c;

    // Note: NOT using this.private1 = function() { ... }
    function private1()
    {
       ...
    }

    function private2()
    {
       ...
    }

    // Public methods
    this.public1 = function()
    {
       ...
       private1(); // Note; not using "this." in the call
       ...
       private2();
    }
 } 
```

使用这种方法，不仅除了 的方法之外没有人`MyObject`能够调用`private1`并且`private2`......而且其他人甚至无法找到这些名称，并且不会有意外名称冲突的风险。

您可以对私有数据成员使用相同的方法。只需在构造函数中将它们声明为简单的局部变量`var x;`，不要使用`this.x`语法来访问它们，而只需`x`. 至于方法，任何人都无法访问它们，甚至不存在无意覆盖的风险。

如果您真的想要运行时检查以防止未经授权的函数调用您的方法，您可以使用某种“安全令牌”。

```
function MyObject()
{
   var authorization = []; // An empty array will do

   this.private_method = function(auth) {
       if (auth !== authorization) throw "Unauthorized call";
       ...
   };

   this.public_method = function() {
       ...
       this.private_method(authorization);
       ...
   };
} 
```

使用这种方法，您甚至可以确定哪个实例正在调用私有方法。

如果您希望对任何实例都具有此功能，则使构造函数本身成为闭包，该闭包从封闭范围捕获授权令牌。

PS：我不知道你为什么要首先这样做，但听起来很奇怪。

# c# - 并非所有图表都显示在我的 WPF 应用程序中，但添加消息框可以解决问题

> ID：11573476
> 
> 赞同：0
> 
> 时间：2012-07-20T05:38:31.727
> 
> 标签：c#, wpf

在我的 WPF 应用程序中，我有一个从文本文件中提取数据的循环。在此基础上，显示数据图表，然后截取屏幕截图。

伪代码：

```
Loop Start
    data = extractdata();    
     if some condition in data           
        showchart();
        takescreenshot();
     end if
Loop End 
```

当我运行我的实际代码时，并没有显示所有图表。屏幕保持空白 - 只有最后一个出现在屏幕上。

但是当我在我的代码中添加一个消息框时，一切正常，如下面的伪代码所示：

```
Loop Start
     data = extractdata();   
       if some condition in data        
          showchart();
          MessageBox.Show("Hello") // Addition of this line solves all problem           
          takescreenshot();
       end if
   Loop End 
```

两者都`showchart()`调用`takescreenshot()`不同类中的其他函数。

包含上面的行只是一个临时解决方案，表明我的后台代码工作正常。我的猜测：问题出在其他问题上，例如 WPF 窗口的焦点或其他问题。

我能做些什么？我不能发布源代码，因为那很长并且分为许多文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:32:40.040

假设您`showchart`已经有 a`Image`以某种方式在 a `ContentControl`or中显示在屏幕上`Image`。

您可以使用该`System.Drawing.Save` 方法将其保存到文件中。

[MSDN on System.Drawing 保存](http://msdn.microsoft.com/en-us/library/ktx83wah.aspx)

您甚至可以提供 ImageFormat 和更详细的编解码器信息。

# oracle - 使用 vb.net 在 oracle 命令中传递参数

> ID：11573477
> 
> 赞同：1
> 
> 时间：2012-07-20T05:38:37.437
> 
> 标签：oracle, vb.net-2010, par

我正在使用 oracle 命令中的 select 语句在 vb.net.am 中编写代码。当我通过变量传递参数值时出现错误。

```
my code
------
chk1 = TextBox1.Text
d1 = Date.Parse(chk1)

--------
--------
try
   cn.Open()

        cmd = New OracleCommand("select PHONE from  reports.renewal_contact_t where run_date=to_date('+ d1 +','mm/dd/yyyy') and  EXP_DATE =to_date('07/21/2012','mm/dd/yyyy')", cn)

 ------------
 ada.Fill(ds, "reports.renewal_contact_t ")
end try

eror(in ada.fill statement)
 -----
ORA-01858: a non-numeric character was found where a numeric was expected 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T07:46:44.540

您还没有设法将日期放入 SQL 查询中。您收到错误，因为 Oracle 无法将字符串`+ d1 +`转换为表单的日期`mm/dd/yyyy`。我在 SQL*Plus 中得到完全相同的错误：

```
SQL> select to_date('+ d1 +', 'mm/dd/yyyy') from dual;
select to_date('+ d1 +', 'mm/dd/yyyy') from dual
               *
ERROR at line 1:
ORA-01858: a non-numeric character was found where a numeric was expected 
```

有一种方法可以将日期连接到 SQL 字符串中以获得看起来可以工作的查询，但我不会向您展示。我不希望您养成这样做的习惯，因为这会使您的代码面临[SQL 注入](http://en.wikipedia.org/wiki/SQL_injection)的风险（强制性[XKCD 漫画链接](http://xkcd.com/327)）。

相反，我建议您使用绑定参数在 SQL 查询中设置日期。下面的示例代码使用名为的绑定参数`p_run_date`将日期传递给`d1`查询，并将查询返回的电话名称写入`Console.WriteLine`.

我在 C# 中编写了代码来执行此操作，对其进行测试以验证它是否符合我的预期，然后尝试将其转换为 VB.NET。我还没有测试过这个 VB.NET 代码，所以在转换过程中可能会出现一两个（希望是轻微的）错误：

```
 Using OracleCommand cmd As New OracleCommand("select PHONE from reports.renewal_contact_t where run_date=:p_run_date and EXP_DATE =to_date('07/21/2012','mm/dd/yyyy')", cn)
        cmd.Parameters.Add(New OracleParameter() { Direction = ParameterDirection.Input, ParameterName = "p_run_date", OracleDbType = OracleDbType.Date, Value = d1 })
        Using OracleDataReader reader As cmd.ExecuteReader()
            While reader.Read()
                Console.WriteLine(reader.GetString(0))
            End While
        End Using
    End Using 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2015-01-20T14:02:47.437

在`vb`你可以尝试：

```
cmd = New OracleCommand(
    "select PHONE from  reports.renewal_contact_t where run_date=to_date('" & d1 & "','mm/dd/yyyy') and  EXP_DATE =to_date('07/21/2012','mm/dd/yyyy')", cn) 
```

这会将您的`d1`字符串连接到您的表达式

# php - 使用oop的PHP表单提交

> ID：11573478
> 
> 赞同：7
> 
> 时间：2012-07-20T05:38:41.193
> 
> 标签：php

我需要一点帮助来了解如何在 PHP 中使用 OOP 来执行表单提交操作。手头的任务...我正在尝试学习如何使用 OOP 编写 PHP 代码。到目前为止，我了解类、函数、调用函数、继承等的一般概念。

我创建了一个简单的练习项目，允许用户在某个位置搜索餐点。到目前为止，我有一个包含 2 个`<input>`字段的表单。通常对于表单操作，我会这样做，`<form action="actionFileName.php">`但现在我有一个具有处理表单功能的类，我将什么用于操作值？

我想创建一个类的实例并调用处理表单的函数，但我得到一个找不到对象！在我提交表单后的页面，其中包含在地址栏中显示的语句中的`echo`值。`else``hungryClass.php`

我该如何解决？谢谢。

我的代码是什么样的：HTML 表单

```
<?php  require_once 'hungryClass.php';
  $newSearch = new hungryClass();
?>
<form action="<?php $newSearch->searchMeal();?>" method="post" id="searchMealForm">
  <input type="search" size="35" placeholder="What Food Are you looking for?" id="mealName" class="meal"/>
  <input type="search" placeholder="City Area" id="mealLocation" class="meal">
  <input type="submit" value="Satisfy Me" id="findMeal" />
</form> 
```

处理表单的页面 (hungryClass.php)

```
<?php 
  require_once('dbConnect.php');
  class hungryClass{

       public function searchMeal(){
         //call connection function.
          $connect = new dbConnect();

         //validate input
         if(isset($_POST['mealName'])){
             $meal = $_POST['mealName'];

           //ensure value is a string.
           $cleanse_meal = filter_var($meal, FILTER_SANITIZE_STRING);
           echo $cleanse_meal;
        }
        else{
       echo "Please supply the meal you crave";
        }

      //validate location
       if(isset($_POST['mealLocation'])){
     $location = $_POST['mealLocation'];

         //validate and sanitize input. ensure value is a string.
    $cleanse_location = filter_var($location, FILTER_SANITIZE_STRING);
        echo $cleanse_location;

       }
       else{
     echo "Please supply a location";
       } 
```

}

数据库类

```
<?php

class dbConnect{
private $host = "localhost";
private $user = "stacey";
private $pass = "";
private $db_name = "menu_finder";

private $connect;
//private static $dbInstance;

public function __construct(){
    try{
        $this->connect = new mysqli($host, $user, $pass, $db_name);
        if(mysqli_connect_error()){
           die('connection error('.mysqli_connect_errno().')' . mysqli_connect_error());
        }
    }

    catch(Exception $e){
        echo $e->getMessage();
    }
} 
```

?>

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-20T05:59:54.967

表单的 action 属性是您要提交到的脚本名称。您想将表单提交给饥饿类以进行处理，但这在您实例化饥饿类之前无法完成。您将需要使用脚本名称作为表单中的操作值。假设您要提交到 temp.php，您的表单应如下所示

```
<form action="temp.php" method="post" id="searchMealForm">
  <input type="search" size="35" placeholder="What Food Are you looking for?" id="mealName" class="meal"/>
  <input type="search" placeholder="City Area" id="mealLocation" class="meal">
  <input type="submit" value="Satisfy Me" id="findMeal" />
</form> 
```

然后当这个表单提交时，它将被发送到 temp.php。为了让你饥饿的类处理这个表单，你需要在 temp.php 中创建它的一个实例，并使用这个实例调用 searchMeal。temp.php 应该看起来像这样

```
<?php
  require_once 'hungryClass.php';
  $newSearch = new hungryClass();
  $newSearch->searchMeal();
?> 
```

或将所有内容放在一个文件中

```
<?php
require_once 'hungryClass.php';

if($_SERVER['REQUEST_METHOD'] == 'POST') {
  $newSearch = new hungryClass();
  $newSearch->searchMeal();
  exit();
}
?>
<form action="<? echo $_SERVER['PHP_SELF']?>" method="post" id="searchMealForm">
  <input type="search" size="35" placeholder="What Food Are you looking for?" id="mealName" class="meal"/>
  <input type="search" placeholder="City Area" id="mealLocation" class="meal">
  <input type="submit" value="Satisfy Me" id="findMeal" />
</form> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-20T06:02:27.680

您应该将表单提交到将处理和处理表单的 php 文件。

```
<form action="<?php $newSearch->searchMeal();?>" method="post" id="searchMealForm"> 
```

应该是这样的：

```
<form action="formaction.php" method="post" id="searchMealForm"> 
```

在 formaction.php 中你可以调用你的方法，当然你需要包含所需的文件：

```
<?php
$newSearch->searchMeal(); 
```

希望这可以帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-20T05:50:15.567

这是php中最简单的OOP代码，您可以通过以下方式尝试

**表单.php**

```
<?php
  require_once 'DbClass.php';
?>
<form action="formaction.php" method="post" id="searchMealForm">
  <input type="search" size="35" name='search1' placeholder="What Food Are you looking for?" id="mealName" class="meal"/>
  <input type="search" placeholder="City Area" name='search2' id="mealLocation" class="meal">
  <input type="submit" value="Satisfy Me" id="findMeal" name='butsearch' />
</form> 
```

**formaction.php**

```
<?php
 require_once 'DbClass.php';
 $obj = new DbClass();
 if(isset($_REQUEST['butsearch']))
 {
    $ser = $_REQUEST['search1'];
    $ser2 = $_REQUEST['search2'];
    $inf0 = array('ser1'=>$ser,'ser2'=>$ser2)
    $obj->search($info);
 }
?> 
```

**数据库类.php**

```
<?php
//if any file needs to be included, include here
 class Dboper
 {
   public function __construct() {
     //DB Connection Code here
   }
   function serach($params)
   {
     $ser1 = $params['ser1'];
     $ser2 = $params['ser2'];
     //write query to search here
    // call the corresponding page to display the result
   }

 }

?> 
```

如果您有任何进一步的疑问，请告诉我

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-20T06:03:28.303

哎呀！..

1.必须有一个入口，另一个主要是控制器。方法如下：

动作.php

```
<?php
   include 'common.inc.php'; //they are hungryClass,dbConnect etc that you need required;
    $do=$_POST['do'];
   $hungry=new hungryClass();
   if(!empty($do)){
   if(method_exists($hugry,$do)){
        $hugry->$do();
   }else
        echo 'method not exists;'
   }
   }
  ?> 
```

2.form.html

```
<form action="action.php" method="post" id="searchMealForm">
  <input type="search" size="35" placeholder="What Food Are you looking for?" id="mealName" class="meal"/>
  <input type="search" placeholder="City Area" id="mealLocation" class="meal">
  <input type="submit" value="Satisfy Me" id="findMeal" />
</form> 
```

你不能只学习OOP，MCV你也必须学习......

# java - 运行 rmi 测试程序时出错

> ID：11573482
> 
> 赞同：0
> 
> 时间：2012-07-20T05:40:04.713
> 
> 标签：java, rmi

我正在尝试运行以下两个类，但出现此错误。
有谁知道问题是什么？

```
java.rmi.ConnectException: Connection refused to host: 10.0.0.2; nested exception is: 
    java.net.ConnectException: Connection refused: connect
    at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:619)
    at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216)
    at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)
    at sun.rmi.server.UnicastRef.newCall(UnicastRef.java:340)
    at sun.rmi.registry.RegistryImpl_Stub.rebind(Unknown Source)
    at RegisterWithRMIServer.main(RegisterWithRMIServer.java:9)
Caused by: java.net.ConnectException: Connection refused: connect
    at java.net.DualStackPlainSocketImpl.connect0(Native Method)
    at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:69)
    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:157)
    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:391)
    at java.net.Socket.connect(Socket.java:579)
    at java.net.Socket.connect(Socket.java:528)
    at java.net.Socket.<init>(Socket.java:425)
    at java.net.Socket.<init>(Socket.java:208)
    at sun.rmi.transport.proxy.RMIDirectSocketFactory.createSocket(RMIDirectSocketFactory.java:40)
    at sun.rmi.transport.proxy.RMIMasterSocketFactory.createSocket(RMIMasterSocketFactory.java:146)
    at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:613)
    ... 5 more

import java.rmi.registry.*; 

public class RegisterWithRMIServer { 
    /** Main method */ 
    public static void main(String[] args) { 
      try { 
        StudentServerInterface obj =  new StudentServerInterfaceImpl(); 
        Registry registry = LocateRegistry.getRegistry(); 
        registry.rebind("StudentServerInterfaceImpl", obj); 
        System.out.println("Student server " + obj +  " registered"); 
     } 
     catch (Exception ex) { 
       ex.printStackTrace(); 
     } 
   } 
 } 
```

///////

```
import java.rmi.*; 
import java.rmi.server.*; 
import java.util.*; 

public class StudentServerInterfaceImpl  extends UnicastRemoteObject  
      implements StudentServerInterface { 
    // Stores scores in a map indexed by name 
        private HashMap<String, Double> scores =  
         new HashMap<String, Double>(); 

   public StudentServerInterfaceImpl() throws RemoteException { 
     initializeStudent(); 
   } 

   /** Initialize student information */ 
   protected void initializeStudent() { 
     scores.put("John", new Double(90.5)); 
     scores.put("Michael", new Double(100)); 
     scores.put("Michelle", new Double(98.5)); 
   } 

   /** Implement the findScore method from the  
    *  Student interface */ 
   public double findScore(String name) throws RemoteException { 
     Double d = (Double)scores.get(name); 

     if (d == null) { 
       System.out.println("Student " + name + " is not found "); 
       return -1; 
     } 
     else { 
     System.out.println("Student " + name + "\'s score is " + d.doubleValue()); 
       return d.doubleValue(); 
     } 
   } 
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T05:54:42.803

您是否启动了注册表。这是关于 RMI 的简短链接

[RMI 教程（运行 RMI 程序）](http://docs.oracle.com/javase/tutorial/rmi/running.html)

要在 Windows 上启动注册表（如果您的操作系统是 Windows），您需要打开命令提示符并输入

> 启动 rmiregistry

否则，如果您的操作系统是 Solaris 或 Linux

> rmir​​egistry &

# android - 安装 .apk 文件问题

> ID：11573486
> 
> 赞同：3
> 
> 时间：2012-07-20T05:40:53.030
> 
> 标签：android, android-3.0-honeycomb

我刚刚完成了一个android应用程序的编程。它的目标版本是 2.3.3，我将它安装在姜饼、冰淇淋三明治和果冻豆上，效果非常好。但是当我尝试在蜂窝手机上安装它时，在安装应用程序的那一刻它会弹出一个错误，告诉我解析应用程序有一些错误，会发生什么？我使用的过程是将手机连接到我的计算机，并将 .apk 文件复制到下载文件夹中。从手机我打开文件夹并尝试安装它。我做错了什么？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T10:08:14.123

实际上，我认为您没有签署您的应用程序。要运行该应用程序，我们必须签署我们的应用程序。你可以看到这些链接：

[http://developer.android.com/tools/publishing/app-signing.html](http://developer.android.com/tools/publishing/app-signing.html)

[如何签署一个android apk文件](https://stackoverflow.com/questions/4853011/how-to-sign-an-android-apk-file)

# python - 如何使用 Python 将 XML 中的节点替换为使用 minidom 从数据库中获取的值？

> ID：11573508
> 
> 赞同：1
> 
> 时间：2012-07-20T05:43:20.207
> 
> 标签：python, minidom

我对 Python 很陌生，并且陷入了困境。我正在尝试用 MS SQL Server 中的相应值替换 XML 文档中的选择性节点。我应该只使用 minidom 来达到同样的效果。数据库表包含波兰语的买家信息，这些信息是未编码的，我应该用波兰语数据替换现有 XML 中的英文信息。以下是应该发生更改的 XML 文档的结构：

```
<INVPARTNER>
            <INVOICE_BUYER>XXXXX</INVOICE_BUYER>          (Unique Customer ID)
            <INVOICE_PAYERNO>92254</INVOICE_PAYERNO>     
            <INVOICE_BUYERVATID>BLAH</INVOICE_BUYERVATID>
            <buyer1>ABC</buyer1>                     (Customer name 1: DB Value CUSTNAME1)
            <buyer2/>                                (Customer name 2: DB Value CUSTNAME2)
            <buyer3>XYZ</buyer3>                     (Customer name 3: DB Value CUSTADDR1)
            <buyer4/>                                (Customer name 4: DB Value CUSTADDR2)
            <buyer5>PQR</buyer5>
            <buyer6>ITALY</buyer6>
            <buyer7/>
            <buyer8></buyer8>
            <buyer9/>
            <buyer10/> 
```

我编写了以下代码来实现相同但没有这样做：

```
import pyodbc
from xml.dom.minidom import parse
import os
docTypes = {'INVOICE':['INVOICE_BUYER', 'INVOICE_CONSIGNEE']}
changeValues = {'INVOICE':{"buyer1":'CUSTNAME1', "buyer2":'CUSTNAME2', "buyer3":'CUSTADDRESS1', "buyer4":'CUSTADDRESS2'}}
dom = parse("Print.xml")
type = dom.getElementsByTagName('DocumentID')[0].childNodes[0].nodeValue
print type
i = 0
CONN_STR = 'DSN=dsn;;DB=test_DB;UID=usr;PWD=passwrd'
db = pyodbc.connect(CONN_STR)
c = db.cursor()
print docTypes['INVOICE']
if docTypes.has_key(type):
   #iterator = len(docTypes[type])
   for i in range(0,len(docTypes[type])):
      for tag in dom.getElementsByTagName(docTypes[type][i]):
         name = tag.childNodes[0]
         c.execute (u"select CUSTOMER, ADDRESSTYPE, CUSTNAME1, CUSTNAME2, CUSTADDRESS1, CUSTADDRESS2 from CUSTADDR_UC where 'CUSTOMER' = ('%u')", name.nodeValue)
         rows = c.fetchall()
         for key in changeValues[type].iterkeys():
            print dom.getElementsByTagName(key)[0].toxml()
            for row in rows:
               if dom.getElementsByTagName(key)[0].toxml() is not None:
                  change = dom.getElementsByTagName(key)[0].toxml()
                  change.nodeValue = unicode(row.changeValue[type][key])
open("D:\\Shantanu\\done2.xml","w").write(dom.toxml("utf-8")) 
```

尽管代码中没有任何错误，但它甚至没有替换节点值。如果这里有什么问题，你能帮我吗？

# java - jar文件运行时不创建Log4j日志

> ID：11573510
> 
> 赞同：4
> 
> 时间：2012-07-20T05:43:39.337
> 
> 标签：java, log4j

这是我用来测试 log4j的*学生课程。*

```
public class Student{    
    private static final Logger logger = Logger.getLogger(Student.class.getName());   

    public Student() {  
         PropertyConfigurator.configure("log4j.properties");  
    }

    public static void main(String args[]){  
        logger.log(Level.INFO, "My log4j Test");    
    } 
} 
```

这是我的*log4j.properties*文件

```
log4j.rootLogger=INFO,Appender1,Appender2
log4j.appender.Appender1=org.apache.log4j.ConsoleAppender
log4j.appender.Appender2=org.apache.log4j.RollingFileAppender
log4j.appender.Appender2.File=C:/Log4j/MyLogExample.log

log4j.appender.Appender1.layout=org.apache.log4j.PatternLayout`  
log4j.appender.Appender1.Target=System.out`   
log4j.appender.Appender1.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n`  

log4j.appender.Appender2.layout=org.apache.log4j.PatternLayout`  
log4j.appender.Appender2.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n`  

log4j.appender.Appender2.MaxFileSize=50KB`  
log4j.appender.Appender2.MaxBackupIndex=10` 
```

当我使用 Eclipse 运行该程序时，*MyLogExample.log*文件被创建。但是在我创建了一个 jar 文件并使用命令提示符运行它之后，并没有创建日志文件。

在控制台中我可以看到这个错误。

```
log4j:ERROR Could not read configuration file [log4j.properties]. 
java.io.FileNotFoundException: log4j.properties (The system cannot find the file specified) 
```

添加以下代码示例后，即使 jar 文件使用命令提示符运行，也会创建日志文件。

```
PropertyConfigurator.configure("C:\\eclipeworkspace\\Log4jTest\\log4j.properties"); 
```

我怎样才能给出相对路径而不是确切路径？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T06:05:51.533

用这个 ：

```
ClassLoader classLoader = Thread.currentThread().getContextClassLoader();
URL url = classLoader.getResource("log4j.properties");
File file = new File(url.toURI()); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-20T17:30:06.067

`log4j.properties`应该在你的类路径中。从命令行运行时将其添加到类路径中。

更好的选择是使用指定属性文件

`-Dlog4j.configuration=relative path/log4j.properties`

从命令行。在这种情况下，您可以从代码中删除该行`PropertyConfigurator.configure("log4j.properties");`- 您无需在代码中执行任何操作来指定属性文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-08-02T11:40:11.477

如果使用 maven 使您的 jar 在所有依赖项下可运行，请添加此插件

```
<plugin>
                <artifactId>maven-assembly-plugin</artifactId>
                <executions>
                    <execution>
                        <phase>package</phase>
                        <goals>
                            <goal>single</goal>
                        </goals>
                    </execution>
                </executions>
                <configuration>
                    <archive>
                        <manifest>
                            <mainClass>cnnc.bcyr.nvnvn.nch.MainclassName</mainClass>
                        </manifest>
                    </archive>
                    <descriptorRefs>
                        <descriptorRef>jar-with-dependencies</descriptorRef>
                    </descriptorRefs>
                </configuration>
            </plugin> 
```

# ruby - Ruby 块是如何实现的（在编译器中）

> ID：11573514
> 
> 赞同：2
> 
> 时间：2012-07-20T05:44:44.553
> 
> 标签：ruby, compiler-construction, scopes

我想实现一种类似于 Ruby 块的语言结构。所以

```
main()
{
    i = 123
    array.function(|x| { puts x + i; }) //the block needs access to the local variable i
} 
```

应该编译得很好。我看了 1 个小时的源代码，但由于我不太擅长 CI，仍然不知道他们是如何实现它的。我的第一个想法是它是一个嵌套函数，地址作为参数传递，但我不确定嵌套函数如何访问局部变量，因为在大多数语言中这似乎是不可能的。如果有人能给我一个如何实施的想法，我会很高兴

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T08:39:12.990

这是 C 中代码块和产量的实现，它可能会对您有所帮助。 [http://tilarids.blogspot.com/2012/03/ruby-like-blocks-and-yield-keyword-in-c.html](http://tilarids.blogspot.com/2012/03/ruby-like-blocks-and-yield-keyword-in-c.html)

# c# - 使用表达式计算欧几里得距离的通用方法

> ID：11573517
> 
> 赞同：0
> 
> 时间：2012-07-20T05:45:12.843
> 
> 标签：c#, linq, expression, expression-trees

我想要一种可以使用表达式计算欧几里得距离并订购 IQueryable 的方法：

sqrt[(q1 - p1)^2 + (q2 - p2)^2 + ... + (qn - pn)^2]

这是我想出的方法签名：

```
public static IOrderedQueryable<T> EuclideanDistanceOrder<T>(
    this IQueryable<T> query, IEnumerable<Expression<Func<T, double>>> expressions)
    {
        var orderedQuery = query.OrderBy(i => Math.Sqrt(expressions.Aggregate((total, item) => total + Math.Pow(item, 2))));
        return orderedQuery;
    } 
```

我不确定如何处理`item`和`total`（因为它们是`Expression<Func<T, double>>`）。我已经尝试了几种不同的方法，包括使用`Expression.Power`and `Expression.Add`。我尝试定义要单独组合的表达式：

```
Expression<Func<double, double>> power = i => Math.Pow(i, 2);
Expression<Func<List<Expression<Func<T, double>>>, double>> dist = (items) => Math.Sqrt(items.Sum(power)); 
```

但我仍然不知道该怎么办`power`。

有没有更好的方法来解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:35:36.077

我无法对此进行测试，但似乎它应该可以工作。最后没有平方根，但顺序应该是相同的。

```
public static IOrderedQueryable<T> EuclideanDistanceOrder<T>(this IQueryable<T> query, IEnumerable<Expression<Func<T, double>>> expressions)
{
    var parameter = Expression.Parameter(typeof(T), "item");
    var seed = Expression.Lambda<Func<T, double>>(Expression.Constant((double)0), parameter);
    return query.OrderBy(expressions.Aggregate(seed, GetAggregateExpression));
}

private static Expression<Func<T, double>> GetAggregateExpression<T>(Expression<Func<T, double>> sum, Expression<Func<T, double>> item)
{
    var parameter = Expression.Parameter(typeof(T), "item");
    return Expression.Lambda<Func<T, double>>(Expression.Add(Expression.Invoke(sum, parameter), Expression.Power(Expression.Invoke(item, parameter), Expression.Constant((double)2))), parameter);
} 
```

**编辑：**

由于您不能使用`Expression.Invoke()`，因此您需要内联传递给`EuclideanDistanceOrder`. 似乎没有任何“好”的方法可以做到这一点，所以我写了一个`Replace`方法来做到这一点。我只`Replace`为一些更常见的`Expression`类型实现了，希望这足以涵盖您的使用，但您可能需要为其他`Expression`类型实现它。

```
public static IOrderedQueryable<T> EuclideanDistanceOrder<T>(this IQueryable<T> query, IEnumerable<Expression<Func<T, double>>> expressions)
{
    var parameter = Expression.Parameter(typeof(T), "item");
    var seed = Expression.Constant((double)0);
    var agg = expressions.Aggregate((Expression)seed, (s, item) => Expression.Add(s, Expression.Power(Replace(item.Body, item.Parameters[0], parameter), Expression.Constant((double)2))));
    return query.OrderBy(Expression.Lambda<Func<T, double>>(agg, parameter));
}

private static Expression Replace(Expression expression, ParameterExpression original, ParameterExpression replacement)
{
    if (expression is BinaryExpression)
    {
        var binaryExpression = (BinaryExpression)expression;
        return Expression.MakeBinary(expression.NodeType, Replace(binaryExpression.Left, original, replacement), Replace(binaryExpression.Right, original, replacement), binaryExpression.IsLiftedToNull, binaryExpression.Method, binaryExpression.Conversion);
    }
    if (expression is ConditionalExpression)
    {
        var conditionalExpression = (ConditionalExpression)expression;
        return Expression.Condition(Replace(conditionalExpression.Test, original, replacement), Replace(conditionalExpression.IfTrue, original, replacement), Replace(conditionalExpression.IfFalse, original, replacement), conditionalExpression.Type);
    }
    if (expression is ConstantExpression)
    {
        return expression;
    }
    if (expression is MemberExpression)
    {
        var memberExpression = (MemberExpression)expression;
        return Expression.MakeMemberAccess(Replace(memberExpression.Expression, original, replacement), memberExpression.Member);
    }
    if (expression is ParameterExpression)
    {
        var parameterExpression = (ParameterExpression)expression;
        return parameterExpression == original ? replacement : parameterExpression;
    }
    if (expression is UnaryExpression)
    {
        var unaryExpression = (UnaryExpression)expression;
        return Expression.MakeUnary(unaryExpression.NodeType, Replace(unaryExpression.Operand, original, replacement), unaryExpression.Type, unaryExpression.Method);
    }
    throw new Exception(string.Format("Unsupported expression type: {0}", expression.NodeType));
} 
```

例如，如果我们的输入表达式是：

```
p => p.X1 - p.X2
p => p.Y1 - p.Y2 
```

最初的实现将构建：

```
i => 0 + expressions[0](i) ^ 2 + expressions[1](i) ^ 2 
```

新实现采用原始表达式，并将输入参数（`p`在上面）替换为将传递给最终 lambda ( `i`) 的参数，并在输出中直接使用表达式的主体：

```
i => 0 + (i.X1 - i.X2) ^ 2 + (i.Y1 - i.Y2) ^ 2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T07:12:04.610

要使其与 EF 或 LinqToSQL 一起使用，您必须将所有信息作为表达式传递，甚至是 P 和 Q 的属性访问器。这就是我修改您的方法声明的原因：

```
public static class Extension
{
    public static IOrderedQueryable<T> EuclideanDistanceOrder<T>(
        this IQueryable<T> query, 
        IEnumerable<Expression<Func<T, double>>> pExpressions, 
        IEnumerable<Expression<Func<T, double>>> qExpressions)
    {
        var parameter = Expression.Parameter(typeof(T));
        var pBodies = pExpressions
            .Select(x => ReplaceParameter(x.Body, parameter))
            .ToArray();

        var qBodies = qExpressions
            .Select(x => ReplaceParameter(x.Body, parameter))
            .ToArray();

        var distances = pBodies
            .Select((x, i) => CreateDistance(x, qBodies[i]))
            .ToArray();

        var squers = distances
            .Select(x => CreateSquerExpression(x))
            .ToArray();

        var sum = squers.First();
        for (int i = 1; i < squers.Count(); i++)
        {
            sum = Expression.Add(sum, squers[i]);
        }
        var funcExpression = Expression.Lambda<Func<T, double>>(sum, parameter);
        //the sqrt is irrelevant to order of this sequence
        return query.OrderBy(funcExpression);
    }

    private static Expression CreateDistance(Expression p, Expression q)
    {
        return Expression.Subtract(q, p);
    }

    private static Expression CreateSquerExpression(Expression x)
    {
        var method = typeof(Math).GetMethod("Pow", BindingFlags.Static | BindingFlags.Public);
        return Expression.Call(method, x, Expression.Constant(2.0));
    }

    private static Expression ReplaceParameter(Expression expression, ParameterExpression parameter)
    {
        var unaryExpression = expression as UnaryExpression;
        MemberExpression memberExpression;
        if (unaryExpression != null)
        {
            memberExpression = unaryExpression.Operand as MemberExpression;
        }
        else
        {
            memberExpression = expression as MemberExpression;
        }

        if (memberExpression == null)
            throw new NotImplementedException();

        if (!(memberExpression.Expression is ParameterExpression) || !(memberExpression.Member is PropertyInfo))
            throw new NotImplementedException();

        return Expression.Property(parameter, (PropertyInfo)memberExpression.Member);
    }
} 
```

像这样调用时：

```
 var list = new[]{ new Item
    {
        P1 = 0,
        Q1 = 0,
        P2 = 3,
        Q2 = 1,
    },
    new Item
    {
        P1 = 0,
        Q1 = 0,
        P2 = 2,
        Q2 = 1,
    }
};

var query = list.AsQueryable();

var result = query.EuclideanDistanceOrder(new Expression<Func<Item, double>>[]{
    x => x.P1,
    x => x.P2
},
new Expression<Func<Item, double>>[]{
    x => x.Q1,
    x => x.Q2
}).ToArray();

internal class Item
{
    public double P1 { get; set; }
    public double Q1 { get; set; }
    public double P2 { get; set; }
    public double Q2 { get; set; }
} 
```

它适用于对象的 liq。我只是不确定 EF 或 linqtoSql 是否会将`Math.Power`方法映射到 sql。如果不是，则很容易更改为乘法。

# iphone - 如何测量 iPhone 中滑动的速度，然后计算图像的旋转？

> ID：11573524
> 
> 赞同：1
> 
> 时间：2012-07-20T05:45:41.470
> 
> 标签：iphone, objective-c, ios, xcode, uitouch

我使用了以下代码，我可以旋转我的图像。但是在动画之后我不知道如何获得图像的最终角度。

我想在“触摸结束”事件后计算图像的**旋转角度**。

```
- (void)rotateAccordingToAngle:(float)angle
{
    [NumbersImage setTransform:CGAffineTransformRotate(NumbersImage.transform, angle)];  
}
- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event 
{    
    [NumbersImage.layer removeAllAnimations];
    previousTimestamp = event.timestamp;
}
- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event
{
    UITouch *touch = [touches anyObject];
    if ([touch view] == NumbersImage) {

    CGPoint center = CGPointMake(CGRectGetMidX([NumbersImage bounds]), CGRectGetMidY([NumbersImage bounds]));
    CGPoint currentTouchPoint = [touch locationInView:NumbersImage];
    CGPoint previousTouchPoint = [touch previousLocationInView:NumbersImage];
    CGFloat angleInRadians = atan2f(currentTouchPoint.y - center.y, currentTouchPoint.x - center.x) - atan2f(previousTouchPoint.y - center.y, previousTouchPoint.x - center.x);

    [self rotateAccordingToAngle:angleInRadians];

    CGFloat angleInDegree = RadiansToDegrees(angleInRadians);
    FinalDegree +=angleInDegree;        
    revolutions+= (angleInDegree/360.0f);
}

}
- (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event
{
    UITouch *touch = [touches anyObject];

if ([touch view] == NumbersImage) {

    NSTimeInterval timeSincePrevious = event.timestamp - previousTimestamp;
    CGFloat revolutionsPerSecond = revolutions/timeSincePrevious;

    [self startAnimationWithRevolutions:revolutionsPerSecond forTime:5.0f];
    NSLog(@"Revolution per second = %f",revolutionsPerSecond);

    revolutions = 0;
}
}

CGFloat RadiansToDegrees(CGFloat radians)
{
    //NSLog(@"Radians %f",radians);
    return radians * 180 / M_PI;
};

- (void)animationDidStop:(CAAnimation *)theAnimation finished:(BOOL)flag
{
NumbersImage.userInteractionEnabled = TRUE;
    if (timerUpdate) {
        [timerUpdate invalidate];
        timerUpdate = nil;
    }
}
-(void)updateTransform{
    NumbersImage.transform = [[NumbersImage.layer presentationLayer] affineTransform];
}
-(void)startAnimationWithRevolutions:(float)revPerSecond forTime:(float)time
{
    NumbersImage.userInteractionEnabled = FALSE;
    float totalRevolutions = revPerSecond * time;

    timerUpdate = [NSTimer scheduledTimerWithTimeInterval:0.1f target:self selector:@selector(updateTransform) userInfo:nil repeats:YES];

    [CATransaction begin];
    [CATransaction setValue:[NSNumber numberWithFloat:time]forKey:kCATransactionAnimationDuration];

    CABasicAnimation* spinAnimation = [CABasicAnimation animationWithKeyPath:@"transform.rotation"];
CGAffineTransform transform = NumbersImage.transform;

float fromAngle = atan2(transform.b, transform.a);
float toAngle = fromAngle + (totalRevolutions*4*M_PI);

NSLog(@"To Angle = %f",toAngle);
NSLog(@"From Angle = %f",fromAngle);
spinAnimation.fromValue = [NSNumber numberWithFloat:fromAngle];
spinAnimation.toValue = [NSNumber numberWithFloat:toAngle];
spinAnimation.repeatCount = 0;
spinAnimation.removedOnCompletion = NO;
spinAnimation.delegate = self;
spinAnimation.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseOut];
[NumbersImage.layer addAnimation:spinAnimation forKey:@"spinAnimation"];
[CATransaction commit];

//NSLog(@"Total Rotation = %f",totalRevolutions);

//NSLog(@"Degree Rotation %f", temp);

//[self Rotate];
CGFloat temp = RadiansToDegrees(fromAngle);
FinalDegree += temp;
//NSLog(@"FinalDegree %f",FinalDegree);

//NSLog(@"Final degree %f",FinalDegree);
//NSLog(@"Total %f",total);

}

CGFloat DegreesToRadians(CGFloat degrees)
{
    return degrees * M_PI / 180;
} 
```

此代码用于根据用户触摸测量速度和旋转图像。

但我无法获得图像的最终角度。

请有人在这段代码中帮助我。

谢谢，

鹤芒。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:58:41.373

你做了错误的方法。看看这里：

1.  声明一个实例`float x;`并在`viewDidLoad`.
2.  在 touchesMoved 中，您的 x 增加 1（或减少，具体取决于您检测到的方向）。
3.  请记住：x 是以度为单位的角度，因此如果在零以下递减，做`x = 360.0;`，反之亦然：如果在 360.0 以上递增，做`x = 0.0;`
4.  在touchesMoved中也有说：

`myImageView.transform = CGAffineTransformMakeRotation(x * M_PI/180);`

顺便说一句，您将永远知道角度 - 它是 x。

# php - 如何从mysql数据库中按特定顺序获取数据

> ID：11573527
> 
> 赞同：1
> 
> 时间：2012-07-20T05:45:50.597
> 
> 标签：php, mysql

我有一个 mysql 数据库表，其中有一列喜欢**喜欢**的值为 1,0,0,1,0,0,1。如何在收藏=0之后首先获取收藏=1的表格数据，请帮我解决这个问题

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T05:46:39.937

你需要`ORDER BY favorite DESC`在`SELECT`语句中使用

看看[3.3.4.4。排序行](http://dev.mysql.com/doc/refman/5.0/en/sorting-rows.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-20T05:48:30.907

试试这个查询：

```
SELECT favorite FROM tbl_name ORDER BY favorite DESC; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-20T06:06:21.147

使用此代码。

```
SELECT * FROM TableName ORDER BY ColumnName ASC/DESC 
```

你可以参考这个链接。这将非常有用。

[http://thetricky.net/mySQL/GROUP%20BY%20vs%20ORDER%20BY](http://thetricky.net/mySQL/GROUP%20BY%20vs%20ORDER%20BY)

谢谢，赫芒。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-20T05:49:52.887

```
SELECT * FROM `<tablename>` order by favorite DESC; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-20T05:52:01.607

如果您只有两个值 0 和 1，那么您也可以使用 union all 查询

```
SELECT * FROM tbl_name WHERE favorite = 1
UNION ALL
SELECT * FROM tbl_name WHERE favorite = 0; 
```

# php - 如何获取 uri 值

> ID：11573535
> 
> 赞同：0
> 
> 时间：2012-07-20T05:46:26.587
> 
> 标签：php, javascript

我用java脚本设置了一个这样的uri

```
location.href="biling.php?itemsize="+value5+"&"+value6; 
```

现在我想把这个 value5 和 value6 带入 php。思考

```
if value5 = 5 and value6=mg 
```

然后我想将这些值作为 5mg 放入 php 变量中

我试着这样做

```
$sizevalue=preg_replace('\'&\'', '', $_GET['itemsize']); 
```

但是当我回显它时，它只显示“5”我该如何纠正这个？谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T07:05:09.153

也许你想要这个脚本。

```
if( $_GET['value5'] == 5 and $_GET['value6']== 'mg' ){
 # do something...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:04:04.997

该脚本将向您展示所有获取参数

```
foreach($_GET as $key => $value){
     echo "key:".$key ." Value:".$value;
} 
```

# c++ - zookeeper C绑定教程或示例

> ID：11573538
> 
> 赞同：10
> 
> 时间：2012-07-20T05:46:38.633
> 
> 标签：c++, c, apache-zookeeper

我正在尝试创建一个使用 zookeeper C/C++ api 的应用程序。我想举几个例子来说明它们是如何使用的。我仔细阅读了[官方文档](http://zookeeper.apache.org/doc/r3.1.2/zookeeperProgrammers.html#C+Binding)，但是缺少很多细节，很多部分都被列为 TODO。我浏览了代码示例，但几乎没有任何注释，这使得很难理解发生了什么。任何人都可以帮助提供一些专门用于创建 C 绑定的文档吗？

仅供参考：我检查了通常的渠道、谷歌、官方文档等。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T12:32:24.717

Zookeeper 客户端 C 绑定非常接近 Java 绑定。所以你可以使用 [http://zookeeper.apache.org/doc/r3.3.4/api/index.html](http://zookeeper.apache.org/doc/r3.3.4/api/index.html) 来熟悉概念。此外，此页面[http://zookeeper.apache.org/doc/r3.3.4/zookeeperProgrammers.html](http://zookeeper.apache.org/doc/r3.3.4/zookeeperProgrammers.html) 包含一般描述以及 C 中的几个示例。

但恐怕那里没有太多 C 绑定特定的文档。前段时间我自己也遇到过同样的情况。我被迫阅读源代码来回答我所有的问题。

# codeigniter - Tiny_mce editor not showing in codigniter

> ID：11573552
> 
> 赞同：0
> 
> 时间：2012-07-20T05:48:18.077
> 
> 标签：codeigniter, tinymce, richtextbox

After one of my previous posts I received some good advice and I made the decision to use the rich text editor tiny_mce for making my blog, but again I am having a problem. I can't include the tiny_mce or after including it, it's not working. I set it up how the developers instruct you too, but no change to the normal textarea is happening. What should I do?

```
 <html xmlns="http://www.w3.org/1999/xhtml">
    <head>

  <script type="text/javascript" src="<?php echo base_url(); ?>js/tiny_mce/tiny_mce.js"></script>
    <script>
      tinyMCE.init({
        // General options
        mode : "textareas",
        theme : "advanced",
        plugins : "pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template,wordcount,advlist,autosave",

        // Theme options
        theme_advanced_buttons1 : "save,newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,styleselect,formatselect,fontselect,fontsizeselect",
        theme_advanced_buttons2 : "cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor",
        theme_advanced_buttons3 : "tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen",
        theme_advanced_buttons4 : "insertlayer,moveforward,movebackward,absolute,|,styleprops,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,template,pagebreak,restoredraft",
        theme_advanced_toolbar_location : "top",
        theme_advanced_toolbar_align : "left",
        theme_advanced_statusbar_location : "bottom",
        theme_advanced_resizing : true,

        // Example content CSS (should be your site CSS)
        content_css : "css/content.css",

        // Drop lists for link/image/media/template dialogs
        template_external_list_url : "lists/template_list.js",
        external_link_list_url : "lists/link_list.js",
        external_image_list_url : "lists/image_list.js",
        media_external_list_url : "lists/media_list.js",

        // Style formats
        style_formats : [
            {title : 'Bold text', inline : 'b'},
            {title : 'Red text', inline : 'span', styles : {color : '#ff0000'}},
            {title : 'Red header', block : 'h1', styles : {color : '#ff0000'}},
            {title : 'Example 1', inline : 'span', classes : 'example1'},
            {title : 'Example 2', inline : 'span', classes : 'example2'},
            {title : 'Table styles'},
            {title : 'Table row 1', selector : 'tr', classes : 'tablerow1'}
        ],

        formats : {
            alignleft : {selector : 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes : 'left'},
            aligncenter : {selector : 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes : 'center'},
            alignright : {selector : 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes : 'right'},
            alignfull : {selector : 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img', classes : 'full'},
            bold : {inline : 'span', 'classes' : 'bold'},
            italic : {inline : 'span', 'classes' : 'italic'},
            underline : {inline : 'span', 'classes' : 'underline', exact : true},
            strikethrough : {inline : 'del'}
        },

        // Replace values for the template plugin
        template_replace_values : {
            username : "Some User",
            staffid : "991234"
        }
    });
        </script>
      </head>
<body>
<form method="post" action="somepage">
<textarea name="content" style="width:100%;height: 400px;">
&lt;p&gt;This is &lt;strong&gt;my text&lt;/strong&gt; that I &lt;strong&gt;use&lt;/strong&gt; for my example.&lt;/p&gt;
</textarea>

</form>
     </body>

</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T16:10:45.063

I just copied your code into a flat html file and it works fine. My guess is the path to tiny_mce.js is wrong.

Questions: When you look at the source of your page, does the path to the tiny_mce.js file look right? Is base_url()js/tiny_mce/tiny_mce.js really where your js file is located? Can you open your site.com/js/tiny_mce/tiny_mce.js file in a browser?

Also, are there competing javascript files? Or are you using the JQuery version of tiny without preloading JQuery to your view?

Have you troubleshot the problem with Firebug or Chrome Developer Tools?

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-15T17:27:01.570

In my case, I was puzzled as I use tinymce in other projects without problem. Having downloaded the latest version, it was the inclusion of *moxiemanager* in the plugins list of the sample provided by tinymce.com which prevented output. Removing this item from the list solved the problem. See [TinyMCE moxiemanager](https://stackoverflow.com/questions/15984522/tinymce-moxiemanager)

# c++ - 列表逻辑之间的 C++ 节点删除

> ID：11573556
> 
> 赞同：1
> 
> 时间：2012-07-20T05:48:51.600
> 
> 标签：c++, nodes

编辑：问题：删除两个节点之间的一个节点，然后将外部节点相互链接。

在学习和构建了几个四叉树和八叉树之后，我非常喜欢细分，我决定在我的服务器中使用细分。但是，仅将节点放置在自身内部。我的问题是，如果节点在中间，我不知道如何将前一个节点链接到下一个节点。我想知道我这样做是否正确。下面是我的代码，我评论问题区域在哪里。任何帮助都会很棒！

```
bool deleteNode ( SOCKET s , client_information_class *prev ) {
          bool return_value = false;
          if ( node[0]->client_socket != s ) {
               if ( node[0]->node != NULL ) {
                    return_value = node[0]->deleteNode ( s , *node );
               } else {
                    cout << endl << "Can not call deleteNode anymore ... Did not find the node to delete ... " << endl;
                    return return_value;
               }
          } else {
               if ( node[0]->client_state == 1 )
                    InterlockedDecrement(&connection_count);
               if ( node[0]->node != NULL ) {          // there is a next node
                    client_information_class **next = node[0]->node;
                    if ( next[0]->node != NULL ) {
                         // problem area
                         cout << endl << "next[0]->node is not null" << endl;
                         prev->node = next[0]->node[0]->node; // ??? I know its wrong
                    } else {
                         // problem area
                         cout << endl << "next[0]->node is null" << endl;
                         prev->node = next[0]->node;  // ??? I know its wrong
                    }
                    delete node;
               } else {                                   // its the last one
                    prev->node = NULL;
                    delete node;
               }
               InterlockedDecrement(&socket_count);
               return_value = true;
          }
          return return_value;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T06:36:17.177

因此，如果我解决了您的问题，那么您将无法在链接列表中插入项目。我真的很希望这是问题所在，否则我所做的所有打字都是徒劳的。

我并没有真正得到你所有的代码（因为它有点脱离上下文），但我会通过一个例子向你展示逻辑。我将使用具有以下结构的节点：

```
class Node
{
public:
    Node * next_;
    Node * prev_;
    int i;//we need this to tell nodes apart. 
    //And whatever data you want.
} 
```

所以我们将创建一个链表，其中每个项目都有指向前一个项目和下一个项目的指针。更复杂结构的逻辑（例如，如果你有*左*+*右*+*子*+*父*指针）是相同的，唯一的区别是你必须设置所有这些。它实际上并没有太大变化。

因此，要构造列表，我们需要几个构造函数来处理不同的操作：

创建空节点的*默认构造函数：*

```
Node()//default constructor
{
    prev_ = nullptr;
    next_ = nullptr;
    i = 0;
} 
```

一个构造函数，它接受指向列表中最后一项的指针，并将自身附加到列表的末尾：

```
Node( Node * prev )//constructor for appending to the end of the list
{
    prev_ = prev;
    next_ = nullptr;//we append to the end, so there is no "next" element
prev->next_ = this;
    i = 0;
} 
```

最后在中间插入一个构造函数（我相信这就是你想要的）：

```
Node( Node * prev, Node * next)//Inserting between prev and next nodes
{
    prev->next_ = this;
    next->prev_ = this;
    this->prev_ = prev;
    this->next_ = next;
    i = 0;
} 
```

现在我们拥有全套工具来做我们想做的任何事情。最后一件事是删除一个节点：

```
void deleteNode( Node * deleteMe )
{
    deleteMe->prev_->next_ = deleteMe->next;
    deleteMe->next_->prev_ = deleteMe->prev;
    delete deleteMe;
} 
```

或者，更易读的语法：

```
void deleteNode( Node * deleteMe )
{
    Node * prevNode = deleteMe->prev_;
    Node * nextNode = deleteMe->next_;
    prevNode->next_ = deleteMe->next;
    nextNode->prev_ = deleteMe->prev;
    delete deleteMe;
} 
```

让我们制作一个包含 10 个元素的示例列表：

```
int main()
{
    Node * root =  new Node();//the root of the list. it never changes.
    Node * last = root;//The pointer to the last element
    for(int i = 0; i < 10; i++)
    {
        Node * tmp = new Node( last );
        last = tmp;
    }
} 
```

在这里，列表中的所有元素都正确链接，并且它们的*i*字段包含 0 值。让我们在中间的某处插入另一个元素，例如，在第三个和第四个元素之间：

```
Node * thirdNode = root->next_->next_;//I know this sucks, but it's just an example.
Node * insertMe = new Node(thirdNode, thirdNode->next_);//inserting between the third and the fourth.
insertMe->i = 9;//this will indicate the one we inserted, since all the others will have this as 0. 
```

现在我们可以轻松检查插入是否正确。让我们输入所有元素的数据：

```
for( Node * it = root; it!= last; it = it->next_)
{
    std::cout << it->i << " ";
} 
```

结果将是`0 0 0 9 0 0 0 0 0 0 0`。

最后，让我们删除刚刚插入的节点：

```
deleteNode( insertMe ); 
```

如果您不以相同的方式输出值，您将只看到零，这意味着该节点已成功删除。

如果您的节点中有更多指针，您所要做的就是以相同的方式正确处理它们。对您的另一个提示是避免像`this->next->next->prev`. 很难说您指的是当前元素的第三个元素的“prev”指针。相反，使用类似的东西：

```
Node * target = this->next->next;//easy to read 
```

或许

```
Node * target = this;
for(int i = 0; i < 5; i++)
    target = target->next; 
```

然后使用你得到的指针。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-12-27T06:04:39.863

如果您想轻松地从单链表中删除元素，请使用指向如下指针的指针：

[![在此处输入图像描述](../Images/4455aa613e1030a9fa67e4ca3c85fa84.png)](https://i.stack.imgur.com/YqjvH.jpg) [![在此处输入图像描述](../Images/eeb92b756da2d9c80ad0cba25e49675d.png)](https://i.stack.imgur.com/gChUY.jpg) [![在此处输入图像描述](../Images/c71dc39c782b9b7643d190d90e5d7407.png)](https://i.stack.imgur.com/H33u0.jpg) [![在此处输入图像描述](../Images/dedd80450df54ac0901ff2544d7fcc93.png)](https://i.stack.imgur.com/ElMn0.jpg)

代码示例：

```
// Remove the node from the list:
Node* node_to_remove = *pointer_to_next_pointer;
*pointer_to_next_pointer = node_to_remove->next;

// Destroy the node.
destroy(node_to_remove); 
```

这可以在不检查您是否从头部移除或类似的东西的情况下完成。

完整示例：

```
// ------------------------------------------------------------------
// Start by pointing to the head pointer.
// ------------------------------------------------------------------
//    (next_ptr)
//         |
//         v
// [head]----->[..]----->[..]----->[..]----->[to_remove]----->[....]
Node** next_ptr = &list->head;

// ------------------------------------------------------------------
// Search the list for the matching entry.
// After searching:
// ------------------------------------------------------------------
//                                  (next_ptr)
//                                       |
//                                       v
// [head]----->[..]----->[..]----->[..]----->[to_remove]----->[next]
while (*next_ptr != to_remove) // or (*next_ptr)->val != to_remove->val
{
    Node* next_node = *next_ptr
    next_ptr = &next_node->next;
}

// ------------------------------------------------------------------
// Dereference the next pointer and set it to the next node's next
// pointer.
// ------------------------------------------------------------------
//                                           (next_ptr)
//                                                |
//                                                v
// [head]----->[..]----->[..]----->[..]---------------------->[next]
*next_ptr = to_remove->next; 
```

简化这一点的诀窍是，大多数人错过了导致他们编写 2 或 3 倍代码的额外分支的方法是使用指向节点指针的指针，而不是指向节点的指针。

此外，如果您不希望在遍历链表时出现大量缓存未命中，请确保以一种可以重新获得链表通常缺乏的空间局部性的方式分配它们。在不使用自定义内存分配器的情况下执行此操作的一种简单方法是`std::vector`使用索引而不是指针将数组（或，例如）中的节点链接在一起。如果 32 位索引就足够了，这也可以将 64 位链接的内存使用量减半。

# shell - 将数据的特定部分拆分为 shell 脚本文件中的单行

> ID：11573557
> 
> 赞同：0
> 
> 时间：2012-07-20T05:48:51.807
> 
> 标签：shell

我有一个包含以下数据的文件，它有几个 MQ 队列统计信息；

**QueueName= 'TEST1'** CreateDate= '2009-10-30'
CreateTime= '13.45.40'
QueueType= 预定义
QueueDefinitionType= 本地
QMinDepth= 0
QMaxDepth= 0
**QueueName= 'TEST2'** CreateDate= '2009-10-30'
CreateTime= ' 13.51.12'
QueueType= 预定义
QueueDefinitionType= 本地
QMinDepth= 0
QMaxDepth= 6

我的输出应如下所示，每个队列详细信息应显示在由空格分隔的单行中，

QueueName= 'TEST1' CreateDate= '2009-10-30' CreateTime= '13.45.40' QueueType= 预定义 QueueDefinitionType= 本地 QMinDepth= 0 QMaxDepth= 0
QueueName= 'TEST2' CreateDate= '2009-10-30' CreateTime= ' 13.51.12' QueueType= 预定义 QueueDefinitionType= 本地 QMinDepth= 0 QMaxDepth= 6

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T07:01:12.147

[http://www.gnu.org/software/gawk/manual/gawk.html#Output-Separators](http://www.gnu.org/software/gawk/manual/gawk.html#Output-Separators)
"1" 是打印所有内容的 awk 习语

```
awk -v ORS=' ' '/^QueueName=/{print "\n"} 1' foo.txt 
```

# c# - 创建 form1 的新实例并更改该 forms 属性

> ID：11573562
> 
> 赞同：0
> 
> 时间：2012-07-20T05:49:31.923
> 
> 标签：c#, forms, c#-4.0, c#-3.0, instances

在我当前的项目中，我正在制作一个便签类型的应用程序，用户可以在其中打开同一个表单的多个实例。但是，我想知道在 C# 中是否有一种方法可以创建 form1 的新实例，但是将新表单的标题/文本/标题设置为 form2。

如果这是可以实现的，我想推动如何对我的应用程序的那部分进行编码的正确方向。

谢谢大家。

- 编辑 -

我意识到我忘了添加一些重要的东西：

我需要能够计算当前打开的实例数量。从那里我将在表单文本中添加 +1。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T05:53:45.233

尝试从类中访问表单属性：

```
MyForm newForm = new MyForm();
newForm.Show();
newForm.Text = "Form2"; 
```

或者从当前表单调用一个方法来设置文本：

```
// In MyForm
public void SetTitle(string text)
{
    this.Text = text;
}

// Call the Method
MyForm newForm = new MyForm();
newForm.Show();
newForm.SetTitle("Form2"); 
```

希望这可以帮助！

要检查打开的表单数量，您可以尝试以下操作：

```
// In MyForm
private int counter = 1;
public void Counter(int count)
{
    counter = count;
}
// Example
MyForm newForm = new MyForm();
counter++;
newForm.Counter(counter); 
```

使用起来可能会令人困惑，但假设您有一个按钮可以打开相同表单的新实例。由于您一开始就打开了一个表格`counter = 1`。每次单击按钮时，它都会发送`counter++`或发送`2`到表单。如果您打开另一个表单，它将发送`counter = 3`等等。可能有更好的方法来做到这一点，但我不确定。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:12:34.603

使用静态字段来记录已打开的实例数量，并使用它来设置表单的标题。

这是一个草图；如果您想要不同的行为，您可以跳过 OnFormClosed 覆盖：

```
public class TheFormClass : Form
{
    private static int _openCount = 0;

    protected override void OnLoad(EventArgs e)
    {
        _openCount++;
        base.OnLoad(e);
        this.Text = "Form" + _openCount;
    }

    protected override void OnFormClosed(FormClosedEventArgs e)
    {
        _openCount--;
        base.OnFormClosed(e);
    }
} 
```

# jquery - JQuery $.ajax({})- ajax parseerror 和 Knockout

> ID：11573572
> 
> 赞同：3
> 
> 时间：2012-07-20T05:50:20.153
> 
> 标签：jquery, json, knockout.js, getjson

我有一个 JS(data.js) 文件，其中的数据为

```
var Content = {
    Page1: {
        Tiles: [
        { "id": "1",
            "className": "home-test-class",
            "tileType": "widget",
            "tileColor": "red",
            "Bookmark": : {
                "Icon": "iconset", 
                "Class": "dummytext", 
                "Content": "Dummy Content",
                "URL": ""
            },
            "Tile": false,
            "SmallWidget": false,
            "Widget": false
        },
        { 
        "id": "1",
            "className": "title-class",
            "tileType": "widget",
            "tileColor": "red",
            "Bookmark": false,
            "Tile": false,
            "SmallWidget": false,
            "Widget": false
        },
        ]
    }
} 
```

我创建了一个 INIT 方法来使用这些数据

```
Init = function () {
        $.ajax({
            url: 'scripts/data.js',
            dataType: "json",
            contentType: 'application/json; charset=utf-8'
        }).done(function (data) {
            $.doTimeout(1000, function () {
                console.log(data);
                LoadViewData(data);
            });

        }).fail(function (request, error) {
            //Handle Failures here.
            alert('Error' + error);
        });
        ko.applyBindings(this);
    }, 
```

它给了我一个 JsonParse 错误。

我正在使用敲除将数据绑定到 UI。当我使用 Fiddler 并检查响应时，它说“所选响应不包含 vaid JSON 文本

请让我知道我该如何解决。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T06:17:36.170

这是因为您返回的是 Javascript 文件，而不是 JSON 数据。以这种方式使用 Javascript 文件是没有意义的。

如果您将文件更改为*仅*包含 JSON 字符串（下面的示例），并假设您的其余`$.ajax()`调用没有问题，它将起作用。请注意，[正确的 JSON](http://json.org/)字符串将所有名称括在双引号中。此外，如果您通过[验证器](http://jsonlint.com/)运行 JSON ，您会发现它存在一些问题（我已经在示例中修复了它们）。

```
{
    "Page1": {
        "Tiles": [
            {
                "id": "1",
                "className": "home-test-class",
                "tileType": "widget",
                "tileColor": "red",
                "Bookmark": {
                    "Icon": "iconset",
                    "Class": "dummytext",
                    "Content": "Dummy Content",
                    "URL": ""
                },
                "Tile": false,
                "SmallWidget": false,
                "Widget": false
            },
            {
                "id": "1",
                "className": "title-class",
                "tileType": "widget",
                "tileColor": "red",
                "Bookmark": false,
                "Tile": false,
                "SmallWidget": false,
                "Widget": false
            }
        ]
    }
} 
```

# java - 将数据从 servlet 存储到 DTO ...？

> ID：11573574
> 
> 赞同：0
> 
> 时间：2012-07-20T05:50:25.347
> 
> 标签：java, servlets, dto, getter-setter

是否可以实现以下方式以将数据存储在 DTO 中并从应用程序中的任何位置访问它而不是使用上下文？

请提供建议！！！

```
public class DummyDTO {
    private String name = null;
    private String age = null;

    // getters and setters
    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getAge() {
        return age;
    }

    public void setAge(String age) {
        this.age = age;
    }
}

public class MyServletClass extends HttpServlet {
    public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        DummyDTO dummyDTO = new DummyDTO();
        dummyDTO.setName(request.getParameter("name"));
        dummyDTO.setAge(request.getParameter("age"));
        AnotherClass.setValues(dummyDTO);
    }

    public class AnotherClass {
        String name = "";
        String age = "";

        public static void setValues(DummyDTO dummyDTO) {
            name = dummyDTO.getName();
            age = dummyDTO.getAge();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T05:54:47.983

不，它不能。静态字段对整个 ClassLoader 是全局的（对整个）。因此，如果您对 servlet 有多个并发请求，第二个请求将覆盖第一个请求在静态字段中存储的数据（并且以线程不安全的方式，另外）。

如果数据是请求的本地数据，则应将其存储在请求属性中。这就是他们的目的。

旁注：您的字段不是静态的，但您的代码编译的唯一方法是使它们成为静态的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T12:08:27.947

你可以这样使用......

将值放入具有用户 sessionId 键的映射中。

```
public class MyServletClass extends HttpServlet {

public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    DummyDTO dummyDTO = new DummyDTO();
    dummyDTO.setName(request.getParameter("name"));
    dummyDTO.setAge(request.getParameter("age"));
    AnotherClass.setValues(dummyDTO, request.getSession().getSessionId());
}

public class AnotherClass {
    String name = "";
    String age = "";

    private static HashMap<String, DummyDTO> map; 
    public static HashMap<String, DummyDTO> setValues(DummyDTO dummyDTO, String key) {
      return map.put(key, dummyDTO);
    }
} 
```

}

# php - 通过 curl 调用 API，json 生成 csv 或 mysql

> ID：11573575
> 
> 赞同：1
> 
> 时间：2012-07-20T05:50:28.253
> 
> 标签：php, json, curl

我对 PHP 很陌生，我需要通过 curl 调用 api 并将结果解析为可以导入数据库的格式。如何将结果保存为 csv 或将其直接推送到数据库中？

谢谢

api 调用接收这些结果

[{"mac":"AC86740410B8","siteId":"1032","name":"main-rtr","desc":"","loc":{"lat":-25.887635,"lng" :28.150488,"levelId":0,"source":"manual"},"lrrt":1,"lrne":4}]

这是我的代码

```
$ch = curl_init();
$fp = fopen("data.txt", "a+");
curl_setopt($ch, CURLOPT_HEADER, 0);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_URL, 'http://theapi.com/');
curl_setopt ($ch, CURLOPT_USERPWD, "username:password");
curl_setopt ($ch, CURLOPT_FILE, $fp);
CURLOPT_HTTPHEADER >= array('Content-type: application/json');
$json = ('data.txt');
//json_decode($json, true);
//$data = json_decode(file_get_contents('data.txt'), true);
var_dump(json_decode($json));
var_dump(json_decode($json, true));
curl_exec($ch);
curl_close($ch);
fclose($fp); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:53:20.777

您可以像这样访问解码结果：

```
$data = json_decode('[{"mac":"AC86740410B8","siteId":"1032","name":"main-rtr","desc":"","loc":{"lat":-25.887635,"lng":28.150488,"levelId":0,"source":"manual"},"lrrt":1,"lrne":4}]');

$arrayFromResults = array(
  $data[0]->mac,
  $data[0]->loc->lat,
  $data[0]->lrne
);

var_dump( $arrayFromResults ); 

var_dump( $data ); 
```

( [http://codepad.org/kzZ7nhck](http://codepad.org/kzZ7nhck) )

然后轻松地将数组传递给 putcsv：

[http://php.net/manual/en/function.fputcsv.php](http://php.net/manual/en/function.fputcsv.php)

...或将其写入数据库：

[http://www.php.net/manual/de/pdo.exec.php](http://www.php.net/manual/de/pdo.exec.php)

# c# - 是否有临时字段以节省模块之间的昂贵工作

> ID：11573576
> 
> 赞同：0
> 
> 时间：2012-07-20T05:50:32.277
> 
> 标签：c#, solid-principles, principles

我有：

*   **原始对象**：包含导入系统之前的原始数据
*   **模块 #1**：验证器，它将验证原始对象
*   **模块#2**：更新器将使用经过验证的原始数据（无效数据已被删除）来生成真实对象

模块 #1 必须确定数据库中是否存在**ItemCode**（只是一个示例，实际的键数是几十个）。模块 #2 必须通过查询数据库中的**ItemCode**来获取**Item 对象**。

 **开发人员想要将外星属性**.TempItem**添加到**原始对象**，以便模块 #1 将**Item 对象**分配给**.TempItem**属性（因为这样做非常容易），而模块 #2 只需要使用**.TempItem**而无需第二次查询数据库。

我的技术专家建议这样做不好。

我想遵循编程原则和最佳实践，但不知道如何。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T05:54:36.157

我认为您不需要将临时项目添加到原始对象。

您可以使用缓存，并将对象存储在字典/列表中，然后将其传递给 Module2 以用于查找。

在 Module2 中，您可以检查对象是否在缓存的字典/列表中（字典应该更容易，因为您可以根据键查找值），如果它不存在，则仅从数据库中加载它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T08:01:24.620

模块#1 和#2 所拥有的是一个流水线过程。#1 的输出传递到#2。#2 需要且 #1 已经确定的任何信息都可以（可以说应该）被缓存。

我将创建一个额外的对象来通过管道传递此状态信息（@astander 建议使用字典，但在许多情况下，精确存储您需要的数据的硬编码对象将易于编写且更可用/可维护）

使用“tempitem”本质上是相同的机制，但它的实现很差 - 虽然想法是相同的（不要多次从数据库中读取相同的信息）

By passing a state object through your pipeline you keep the pipeline processors loosely coupled (#2 doesn't need to know about #1, it simply acts on the state information that is passed in), which makes it easier to add new pipeline stages or refactor your modules in future. By passing the data within a separate class, it also makes it really easy to add new state data to be passed through the system.**

# c# - 在c#中获取Windows右键菜单项单击的文件信息

> ID：11573579
> 
> 赞同：0
> 
> 时间：2012-07-20T05:51:22.087
> 
> 标签：c#, file-io, network-printers

我有一个类似打印机共享的应用程序，可以通过网络发送文件。When a file is selected (in Windows Explorer via a right click) our application menu item will be present. 单击它应该显示一个带有所选文档/文件信息的表单，以便处理打印功能。

在这种情况下，我如何获取文件信息。是否有任何 Windows api 将返回所选文件信息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T05:55:24.990

有一个名为[Microsoft All-In-One Code Framework](http://1code.codeplex.com/)的代码示例项目。它的代码示例针对开发人员经常询问的编程任务。该团队正在开发一系列 .NET 4 托管 Shell 扩展代码示例，用于**上下文菜单处理**程序、属性表处理程序、图标处理程序、数据处理程序、拖放处理程序、拖放处理程序、缩略图处理程序、图标处理程序、图标覆盖处理程序， 等等。见`CSShellExtContextMenuHandler`。

另请参阅这些链接：

*   [使用 .NET Framework 4（C#、VB.NET）编写 Windows Shell 扩展 - 第 1 部分：上下文菜单处理程序](http://blogs.msdn.com/b/codefx/archive/2010/09/14/writing-windows-shell-extension-with-net-framework-4-c-vb-net-part-1.aspx) *msdn*
*   [简单的 shell 上下文菜单](http://www.codeproject.com/Articles/15171/Simple-shell-context-menu) *代码项目*

# struts2 - Struts2 会话过期

> ID：11573580
> 
> 赞同：1
> 
> 时间：2012-07-20T05:51:26.973
> 
> 标签：struts2, actioncontext

我正在为我的应用程序使用 struts2jquery 网格插件。我正在使用拦截器进行会话超时，我正在 web.xml 中配置我的会话超时，但问题是会话超时后它不会进入所需的页面说 login.jsp ，我的 struts.xml 如下..

```
....

<interceptors>
        <interceptor name="SessionCheckInterceptor" class="com.org.SessionCheckInterceptor" />
        <interceptor-stack name="testSessionValidationStack">
            <interceptor-ref name="SessionCheckInterceptor" />
            <interceptor-ref name="defaultStack" />
        </interceptor-stack>    
    </interceptors>
...
<action name="mytable" class="com.org.MyTable">
        <interceptor-ref name="testSessionValidationStack"/>    
        <result name="success" type="json"/>            
        <result name="error">messages.jsp</result>
        <result name="sessionexpired">login.jsp</result>
    </action>
... 
```

我可以在调试时进入拦截器类，但它不会将我重定向到登录页面。请有人告诉我我的代码有什么问题吗？

我的拦截器方法是..

```
public String intercept(ActionInvocation actionInvocation) throws Exception {
    ActionContext context = actionInvocation.getInvocationContext();
    Map<String, Object> sessionMap = context.getSession();
    log.info(" retrived session..." + sessionMap);
    if (sessionMap == null || sessionMap.isEmpty()
            || sessionMap.get("userName") == null) {
        log.info(" session expired...");

        addActionError(actionInvocation,"Session has been expired,please login again.");
        return "sessionexpired";
    }
    String actionResult = actionInvocation.invoke();
    return actionResult;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T07:33:52.417

检查您是否可以修改或改编这篇[文章](https://stackoverflow.com/questions/5509606/sessions-in-struts2-application/5517526#5517526)。我认为这与您正在尝试做的事情相似。

**建议** 如果它适合您的需要，您也可以在您的 jsp 中使用它。它是一个元标记，将它添加`head`到你的 jsp 的标记中。当会话超时时，会自动转发到`sessionexpired.jsp`jsp。 `<meta http-equiv="refresh" content="${pageContext.session.maxInactiveInterval};url=sessionexpired.jsp" />`

# php - 使用 Jquery/$.ajax 和 php 进行验证

> ID：11573581
> 
> 赞同：3
> 
> 时间：2012-07-20T05:51:46.287
> 
> 标签：php, jquery, ajax

我有一个带有收音机的表单，并尝试从 jq/$.ajax 开始验证，然后在 php 中发布信息。

表单.php

```
<tr>
  <td class="h"><span class="txt_wht">t1</span></td>
        <input type="hidden" name="gm[0]" value="t1" />
  <td class="vs"><span class="txt_yel_sm">vs</span></td>
  <td class="a"><span class="txt_wht">t2</span></td>
        <input type="hidden" name="gm[1]" value="t2" />

  <td><input type="radio" name="g1" value="a" /></td>
  <td><input type="radio" name="g1" value="b" /></td>
  <td><input type="radio" name="g1" value="c" /></td>
  </tr>
<tr>
  <td class="h"><span class="txt_wht">t1</span></td>
        <input type="hidden" name="gm[0]" value="t1" />
  <td class="vs"><span class="txt_yel_sm">vs</span></td>
  <td class="a"><span class="txt_wht">t2</span></td>
        <input type="hidden" name="gm[1]" value="t2" />

  <td><input type="radio" name="g2" value="a" /></td>
  <td><input type="radio" name="g2" value="b" /></td>
  <td><input type="radio" name="g2" value="c" /></td>
 </tr> 
```

验证.js

```
$(document).ready(function () {
    //global vars

    form.submit(function () {
        if (validate1() && validate2()) {
            //vars
            var exst_email = $('#exst_email').attr('value');
            var g1 = $("input[name='g1']:checked").attr('value');
            //more vars

            $.ajax({
                type: "post",
                url: "scripts/sbmt.php",
                data: "exst_email=" + exst_email,
                success: function (exst_rsp) {

                    //if its not exist
                    if (exst_rsp == "not_exist") {
                        valInfo.text("Error1!");
                        valInfo.addClass("error");
                        email_reg_err = true;
                    } else {
                        valInfo.text("");
                        valInfo.removeClass("error");
                        email_reg_err = false;
                    }
                    //more validation with error msgs

                    //validate 1 & validate 2 functions 
```

和 sbmt.php

```
session_start();
// connect to db
require_once('conn.php');

if($stmt = $mysqli->prepare('SELECT email FROM table WHERE email=?')){
   $stmt->bind_param("s", $_POST['exst_email']); 
   $stmt->execute();
   $stmt->store_result();

   $numRows = $stmt->num_rows();
   if($numRows < 1){
       echo 'not_exist';
       exit();
   }
   $stmt->close();
}
//more validation 
```

现在，

1.  由于 Dreamweaver，我知道我没有输入错误或未闭合的标签。

2.  我的验证 1 和 2 功能工作正常。

3.  由于萤火虫，

    a) 我知道我的数据发布在 sbmt.php

    b）**我没有得到回复以显示错误消息。**

我正在使用完全相同的方式（不同的 js/php 文件）验证另外 3 个表单（仅在重要时使用文本区域），它们工作正常！

关于这里可能有什么问题的任何建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T05:54:31.083

在您提交功能中，您可以尝试：

```
form.submit(function(e){

   e.preventDefault(); // to prevent the form from submitting itself

  // you all validation code

}); 
```

## 笔记

I think `$_POST['email']` in your `PHP` code should be `$_POST['exst_email']`, because your posted data in `AJAX` contains key as `exst_email` here `data: "exst_email="+ exst_email,` but not `email`.

So, if you `PHP` is right then you should send data as `data: "email="+ exst_email`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T08:35:24.213

**SOLVED**

I don't know why but here's the fix:

I wasn't passing to sbmt.php the `<input type="hidden">` values since I **didn't use** them at the moment.

But I desided to post them as well to see if it does any good. And it worked!

# iphone - 在 3g [[UIApplication sharedApplication] setIdleTimerDisabled:YES]; 有时不工作

> ID：11573582
> 
> 赞同：0
> 
> 时间：2012-07-20T05:52:00.750
> 
> 标签：iphone, ios, iphone-3g

我正在开发一个将图像和视频上传到服务器的应用程序。用户可以创建队列并上传文件，因此完成上传需要很长时间，所以在上传时我们将空闲计时器禁用为 true

```
[[UIApplication sharedApplication] setIdleTimerDisabled:YES]; 
```

  但问题是它在 WiFi 网络中工作正常，但有时当我在 3G 网络中时它不工作。苹果是否会因为 3G 消耗更多电池而忽略此呼叫？如果是这样，我可以阻止屏幕休眠。

我的要求是即使在 3G 上也应该继续上传视频提前谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T12:49:41.230

最后我通过每 10 秒调用一次下面的函数来解决这个问题。

```
-(void) sleepModeDisable{
    [[UIApplication sharedApplication] setIdleTimerDisabled:NO];
    [[UIApplication sharedApplication] setIdleTimerDisabled:YES];
} 
```

# mysql - 数据传输 -mysql 和 sql

> ID：11573585
> 
> 赞同：1
> 
> 时间：2012-07-20T05:52:12.970
> 
> 标签：mysql, sql-server, sql-server-2008, database-design

我正在尝试从 mysql 服务器获取数据到 ms sql 服务器。我已经在 localhost 中完成了这个过程（使用 ODBC 连接器）。

但是现在这些服务器作为在线数据库托管。谁能告诉我这样做的方式？

我想我不能将 odbc 连接器用于在线服务器。

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T06:20:01.847

最好的方法是使用 ODBC 连接。您可以使用此逐步方法，如果您有自己的 mysql 服务器（无论是在线还是其他任何地方），那么这几乎不是问题，因为您拥有所有凭据。 [http://www.codeproject.com/Articles/29106/Migrate-MySQL-to-Microsoft-SQL-Server](http://www.codeproject.com/Articles/29106/Migrate-MySQL-to-Microsoft-SQL-Server)
参考：http: [//msdn.microsoft.com/en-us/library/ms811006.aspx](http://msdn.microsoft.com/en-us/library/ms811006.aspx)

但是如果你仍然不想使用 ODBC 连接，那么市场上很少有像数据加载器这样的工具可用（http://www.dbload.com/）

# mysql - “日期”的默认值无效

> ID：11573586
> 
> 赞同：8
> 
> 时间：2012-07-20T05:52:23.693
> 
> 标签：mysql, date, default

我想将日期设置为mysql中日期的默认值（不是时间戳），但出现以下错误

```
ALTER TABLE `RMS`.`transactionentry` 
CHANGE `Date` `Date` DATE DEFAULT NOW() NOT NULL 
```

**错误**

```
Invalid default value for 'Date' 
```

**相同的情况**

```
alter table `RMS`.`transactionentry` 
change `Date` `Date` date default 'CURRENT_DATE' NOT NULL 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-20T05:56:03.843

```
alter table `RMS`.`transactionentry`
change `Date` `Date` date default current_timestamp NOT NULL 
```

## 更新：

我不认为你可以用 mysql 来实现`date`。您必须使用`timestamp`或尝试这种方法..

```
CREATE TRIGGER transactionentry_OnInsert BEFORE INSERT ON `RMS`.`transactionentry`
    FOR EACH ROW SET NEW.dateColumn = IFNULL(NEW.dateColumn, NOW()); 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-07-20T05:56:20.477

数据类型规范中的 DEFAULT value 子句指示列的默认值。除了一个例外，默认值必须是一个常量；它不能是函数或表达式。例如，这意味着您不能将日期列的默认值设置为 NOW() 或 CURRENT_DATE 等函数的值。例外情况是您可以将 CURRENT_TIMESTAMP 指定为 TIMESTAMP 列的默认值。

[详情：参考 dev.mysql.com](http://dev.mysql.com/doc/refman/5.0/en/data-type-defaults.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-01-23T21:20:05.520

请记住，这可能是 MYSQL 版本本身的问题 5.6 允许没有默认值的时间戳，并且不需要将它们设置为 null 但是 5.7 要求您显式设置默认值，如果不是则 nul

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-20T05:55:36.133

根据 MySQL 网站：

> 数据类型规范中的 DEFAULT value 子句指示列的默认值。除了一个例外，默认值必须是一个常量；它不能是函数或表达式。例如，这意味着您不能将日期列的默认值设置为 NOW() 或 CURRENT_DATE 等函数的值。例外情况是您可以将 CURRENT_TIMESTAMP 指定为 TIMESTAMP 列的默认值。

所以：

```
alter table `RMS`.`transactionentry` 

change `Date` `Date` date default CURRENT_TIMESTAMP NOT NULL 
```

应该管用。你的问题是你通过在它周围加上引号来使它成为一个字符串。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-12-27T03:53:47.103

您可以使用以下方法更改列定义：

```
ALTER TABLE transactionentry MODIFY COLUMN `Date` date null; 
```

允许 null 为我工作。

# jpa-2.0 - JPA2 标准中 From 子句中的子查询

> ID：11573591
> 
> 赞同：2
> 
> 时间：2012-07-20T05:52:50.717
> 
> 标签：jpa-2.0, criteria-api, querydsl

我有一个数据模型，其中一个帐户可以有多个用户：

```
class Account {
    Long id;
}
class User {
    Long id;
    @ManyToOne
    Account account;
} 
```

我想做以下查询，显示每个帐户的用户数：

```
select Account.id, NumUsers.num from Account, 
       (select Account.id as account_id, count(User.id) as num 
        from User join Account on User.account_id=Account.id 
        group by Account.id) as NumUsers 
where Account.id=NumUsers.account_id; 
```

我知道我可以将这个特定的查询重写为：

```
select Account.id, count(User.id) from Account join 
       User on User.account_id=Account.id group by Account.id 
```

但我计划为需要多个分组依据的报告创建更复杂的查询。[我在这里](http://dev.mysql.com/tech-resources/articles/subqueries_part_1.html)读到了关于多个分组的正确方法。

如何使用 JPA2 Criteria API 创建查询？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-20T07:39:55.737

您不能在 JPA 2 Criteria API 的 FROM 子句中使用子查询。它确实具有与 JPQL 相同的限制。在 JPA 2 规范中，关于 JPQL 中的子查询如下所述：

> 子查询可以用在 WHERE 或 HAVING 子句中。

关于 Criteria API 中子查询的说法得出了相同的结论：

> 相关和非相关子查询都可以用于限制谓词。子查询是通过创建和修改子查询对象来构造的。
> 
> Subquery 实例可以作为参数传递给 CriteriaBuilder 接口的 all、any 或某些方法，以便在条件表达式中使用。
> 
> 可以将 Subquery 实例传递给 CriteriaBuilder 存在方法以创建条件谓词。

# ios - UIViewControllers Transitions Effect 像 iBooks 书籍打开效果？

> ID：11573592
> 
> 赞同：9
> 
> 时间：2012-07-20T05:52:53.467
> 
> 标签：ios, iphone, core-animation, ibooks, cakeyframeanimation

我一直在开发应用程序，它是 iBooks 的克隆，在过去的两天里，我一直在尝试像 iBook app perform 那样为书籍封面流制作动画。

这是一个 iBooks 屏幕截图，我的书架是这样的：

![在此处输入图像描述](../Images/4edacf109a294830f1dc1e4b61ffa91c.png)

当用户点击任何一本书时，我想像这样执行动画转换：

![在此处输入图像描述](../Images/c91a5164411e640630b8228f69c26213.png)

![在此处输入图像描述](../Images/77a9bfca3f5c97fa692aebdfb929b147.png)

您可以在左侧看到书籍封面翻转，白色视图是用于加载书籍内容的新视图控制器。

谁能帮我解决这个问题？我想执行完全相同的动画。有两个视图控制器。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T07:19:58.890

我在 github 上编写了一个 ibook 打开效果演示，你可以看到[iBooksOpen](https://github.com/GuoLuchuan/iBooksOpen)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-09T06:06:59.087

看看它可能会帮助你：

```
 coverView.layer.anchorPoint=CGPointMake(0, .5);
  coverView.center = CGPointMake(coverView.center.x - coverView.bounds.size.width/2.0f, coverView.center.y);

    NSLog(@"%f",coverView.layer.anchorPoint.y);

    [UIView animateWithDuration:.5 delay:0 options:UIViewAnimationCurveEaseIn  animations:^{
        coverView.transform = CGAffineTransformMakeTranslation(0,0);
        CATransform3D _3Dt = CATransform3DIdentity;
        _3Dt =CATransform3DMakeRotation(3.141f/2.0f,0.0f,-1.0f,0.0f);
        _3Dt.m34 = 0.001f;
        _3Dt.m14 = -0.0015f;
        coverView.layer.transform =_3Dt;
    } completion:^(BOOL finished){
        if (finished) {
            [self animateCurrentViewController];
            [self toolBarAndNavigationBarNeedToShow:YES];
        }
    }]; 
```

CoverView 只不过是你的观点

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-26T11:17:29.273

图例： `LibraryViewController`- 书架上的东西 `ReadingViewController`- 发生阅读的 ViewController（见问题的最后一张图片）

可以说封面是`UIImageView`。使用 iOS 5.0+，您可以将其添加`readingViewController`为`LibrabryViewController`. 然后其中一个动画是缩放书籍（readingViewController + UIIMageView）。我建议在这里制作一个 UIView 动画，它是两者的容器。第二个是翻盖：

`UIIMageView.transform = CGAffineTransformMake(a,b,c,d,tx,ty);` 我认为 a 和 d 应该是 -1 在这里 [查看 CGAffineTransform 的更多信息](http://tiddlyspace.com/bags/iphonesnipplets_public/tiddlers/CGAffineTransformMake)

PS这似乎是一个有趣的问题。如果我建议的方法可行，请告诉我！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-20T05:55:33.883

我不确定，但也许你可以试试 UIPageViewController，它会给你书本效果。这里是链接：http: [//developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIPageViewControllerClassReferenceClassRef/UIPageViewControllerClassReference.html](http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIPageViewControllerClassReferenceClassRef/UIPageViewControllerClassReference.html)

# facebook - 脸书在电晕中的整合

> ID：11573595
> 
> 赞同：2
> 
> 时间：2012-07-20T05:53:18.097
> 
> 标签：facebook, lua, coronasdk

在 Corona Build 704 之前，我的 Facebook 分数发布一直运行良好。直到 Build no 704 每当我点击 Facebook 按钮弹出 Facebook 时，Facebook 正在打开，但在最新版本 840 中，每当我点击 Facebook 按钮时，它都会被重定向到浏览器。
这是浏览器的外观。任何人都可以弄清楚为什么会这样吗？我需要改变什么吗？我还附上了下面的代码。我正在根据需要发送参数。请帮帮我。

```
local function printTable( t, label, level )
            if label then
                print( label ) 
            end
            level = level or 1
            if t then
                for k,v in pairs( t ) do
                    local prefix = ""
                    for i=1,level do
                        prefix = prefix .. "\t"
                    end

                    print( prefix .. "[" .. tostring(k) .. "] = " .. tostring(v) )
                    if type( v ) == "table" then
                        print( prefix .. "{" )
                        printTable( v, nil, level + 1 )
                        print( prefix .. "}" )
                    end
                end
            end
        end

        function callFacebook(appId,theMessage,theCaption,theLink,thePicture,theName)
            local function facebookListener( event )
                if ( "session" == event.type ) then
                    if ( "login" == event.phase ) then
                        facebook.request( "me/feed", "POST", {
                        message = theMessage,
                        name    = theName,
                        caption = theCaption,
                        link    = theLink,
                        picture = thePicture } )
                        if event.isError then
                            if ( "login" == event.phase ) then
                                facebook.logout( )
                            end
                            timer.performWithDelay( 1000, function() local alert = native.showAlert( "Facebook Error", "Your stats did not get posted on your Wall. Please try again later.", { "OK" } ); end )
                        else
                            if ( "login" == event.phase ) then
                                facebook.logout( )
                            end
                            timer.performWithDelay( 1000, function() local alert = native.showAlert( "Posted to Facebook", "Your stats have been posted on your Wall.", { "OK" } ); end )
                        end
                    end
                end
            end

            facebook.login( appId, facebookListener, { "publish_stream" } )
        end 
```

![在此处输入图像描述](../Images/725412044cf571cf0e4cd752b25b5129.png)

# android - 在android的另一个片段中单击一个片段动作的按钮

> ID：11573599
> 
> 赞同：-1
> 
> 时间：2012-07-20T05:53:34.640
> 
> 标签：android, android-fragments

实际上在我的项目中，当我单击`button1`一个片段时，它会在`onclick()`. 问题是当我`button2`在另一个片段中单击另一个然后还执行上述操作（button1 操作）我该怎么做才能解决这个问题？

```
 example
  class barfragment extends Fragment{

 button1.setonclicklistener(this);
  onclick(){
  FragmentTransaction ft=getFragmenetManager().beginTansction();

 }
  }
  class inframoation extends Fragment
     {
     BarFragment br=new BarFrgment();
      button2.setonclicklistner(br);
     } 
```

它工作吗？ 当我单击**button2时，我们在****ft**处得到空指针异常， 但是当我单击**按钮**时，我们没有得到错误什么是共振

 ***** * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T08:29:45.703

```
public void onClick(View v) 
{
  Fragment newFragment;
  if(v == btnFragment1)
  {
   newFragment = new MyFragment();
  }else{
   newFragment = new MyFragment2();
  }
   FragmentTransaction transaction = getFragmentManager().beginTransaction();
  transaction.replace(R.id.myfragment, newFragment);
  transaction.addToBackStack(null);
  transaction.commit();
 }}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:11:55.533

当你在 BarFragment 的 onCreateView 中绑定你的按钮时，像这样声明它；btn=(Button)view.findViewById(R.id.button2); 并检查你的身份证。可能他们有相同的ID。尝试提供不同的 id****

# asp.net-mvc - unity mvc4 和 webapi 同一个应用

> ID：11573600
> 
> 赞同：0
> 
> 时间：2012-07-20T05:53:43.727
> 
> 标签：asp.net-mvc, inversion-of-control, unity-container, asp.net-web-api

嗨，我的环境是 MVC4RC wepapi 和 microsoft.practices.unity v2.0

我想在 mvc 控制器（继承自 System.web.mvc.Controller）和 webapi 控制器（继承自 System.web.http.ApiController）中使用 IoC/DI。问题是我无法同时上班，如果有人可以帮助我，我会粘贴一些代码。

在 global.asax.cs 中

```
 public class MvcApplication : System.Web.HttpApplication
{

    private static IUnityContainer container;

    protected void Application_Start()
    {
        ....

        InitializeDependencyInjectionContainer(GlobalConfiguration.Configuration);
    }

    private static void InitializeDependencyInjectionContainer(HttpConfiguration config)
    {
        container = new UnityContainer();

        container.RegisterType<Site.Web.Data.IDatabaseFactory, Site.Web.Data.DatabaseFactory>();
        container.RegisterType<Site.Web.Data.Interfaces.IUnitOfWork, Site.Web.Data.UnitOfWork>();
        container.RegisterType<Site.Web.Data.Interfaces.IUserRepository, Site.Web.Data.Repositories.UserRepository>();
        container.RegisterType<Site.Web.Data.Interfaces.ISiteRepository, Site.Web.Data.Repositories.SiteRepository>();
        container.RegisterType<Site.Web.Data.Interfaces.IInformationRepository, Site.Web.Data.Repositories.InformationRepository>();

        container.RegisterType<IUserServices, UserServices>();
        container.RegisterType<ISiteServices, SiteServices>();
        container.RegisterType<IInformationServices, InformationServices>();
        container.RegisterType<IFormsAuthenticationService, FormsAuthenticationService>();
        container.RegisterType<IMembershipService, MembershipService>();
        //config.DependencyResolver = new Site.Web.IoC.IoCContainer(container);
        DependencyResolver.SetResolver(new Site.Web.IoC.IoCContainer(container));
        //DependencyResolver.SetResolver(new Site.Web.IoC.UnityDependencyResolver(container));

    }
} 
```

IoC 解析器：

```
 public class IoCContainer : System.Web.Mvc.IDependencyResolver
{
    private readonly IUnityContainer container;
    public IoCContainer(IUnityContainer container)
    {
        this.container = container;
    }

    public object GetService(Type serviceType)
    {
        try
        {
            return this.container.Resolve(serviceType);
        }
        catch (ResolutionFailedException)
        {
            return null;
        }
    }

    public IEnumerable<object> GetServices(Type serviceType)
    {
        try
        {
            return this.container.ResolveAll(serviceType);
        }
        catch (ResolutionFailedException)
        {
            return new List<object>();
        }
    }
} 
```

注意： System.Web.Mvc.IDependencyResolver 而不是 System.Web.Http.Dependencies.IDependencyResolver

现在两个控制器都具有相同的结构，我使用一个通用类来提供用户和站点信息（作为 codeplex/Silk 的样式）

一个 mvc 控制器：

```
 public class SiteController : _AuthorizedController
{

        ISiteServices _siteServices;

    public SiteController(Site.Web.Domain.Services.IUserServices userServices,
                            Site.Web.Domain.Services.ISiteServices siteServices)
        : base(userServices)
    {
        this._siteServices = siteServices;
    }

    ....
} 
```

_AuthorizedController 是我用来获取所需的所有用户和站点信息的控制器：

```
 public class _AuthorizedController : Controller
{

    protected readonly Site.Web.Domain.Services.IUserServices _userServices;
    public _AuthorizedController(Site.Web.Domain.Services.IUserServices userServices)
    {
        if (userServices == null) throw new ArgumentNullException("userServices");
        this._userServices = userServices;

    }

    ...
} 
```

和一个 webapi 控制器：

```
 public class InformationController : _AuthorizedApiController
{

    private ISiteServices _siteServices;
    private IUserServices _userServices;

    public InformationController(Site.Web.Domain.Services.IUserServices userServices,
                            Site.Web.Domain.Services.ISiteServices siteServices)
    : base(userServices)
    {
        this._siteServices = siteServices;
        this._userServices = userServices;
    } 
```

....}

以及我为保留继承链（ApiController）而创建的 _AuthorizedApiController：

```
 public class _AuthorizedApiController : ApiController
{

        protected readonly Site.Web.Domain.Services.IUserServices _userServices;

        public _AuthorizedApiController(Site.Web.Domain.Services.IUserServices userServices)
        {
            if (userServices == null) throw new ArgumentNullException("userServices");
            this._userServices = userServices;

        }

    .....
} 
```

好吧，这种结构适用于 mvc 控制器，但我无法在 apicontroller 上运行。我会尝试根据[使用 Web Api 依赖项更改 IoC ......](http://www.asp.net/web-api/overview/extensibility/using-the-web-api-dependency-resolver)但没有运气

我总是有非常明显的错误'Site.Web.webapi.InformationController'没有默认构造函数

任何帮助感谢 Tx。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:44:41.287

根据 Tx3 注释

webapi 的 DependencyResolver 没有实现，所以你需要它。

nuget Unity.WebAPI 得到了它，但“不幸的是”你需要安装（不再工作）nuget Unity.Mvc3（与 MVC4Rc 配合得很好）

所有进程在：[mvc4 webapi](http://netmvc.blogspot.com.es/2012/04/dependency-injection-in-aspnet-mvc-4.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T14:47:24.043

不是 Unity 特定的，但请查看 Haack 先生在标题下的解决方案：两个 DependencyResolvers @ [http://haacked.com/archive/2012/03/11/itrsquos-the-little-things-about-asp-net-mvc-4 .aspx](http://haacked.com/archive/2012/03/11/itrsquos-the-little-things-about-asp-net-mvc-4.aspx)

# dll - Delphi DLL 注入和共享变量

> ID：11573602
> 
> 赞同：0
> 
> 时间：2012-07-20T05:53:50.060
> 
> 标签：dll, delphi-7, code-injection, delphi

我使用 BTMemoryModule 将 DLL 注入进程。主/父进程可以调用函数/过程，但其他方式呢？dll 可以从主/父进程读取/获取 var 或调用函数吗？

谢谢您的帮助。

编辑：DLL

```
library mydll; // DLL obviously...
uses windows;

procedure Test
begin
 // I need a string/integer/pointer from ParentProcess
end

exports
Test;

begin
 // I need a string/integer/pointer from ParentProcess. (if possible). 
end. 
```

程序：

```
program myprogram
uses
...
var
 M : PBTMemoryModule;
begin
 BTMemoryLoadLibary (pointer, pointerlength);
 @myMaintest    := BTMemoryGetProcAddress(M, 'Test');
 ...
end; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T08:04:21.867

首先，这似乎不是通常所说的注射。这只是一个普通的模块加载，尽管来自内存而不是文件。

至于DLL如何从EXE中导入函数，和EXE从DLL中导入时完全一样。

1.  用于`exports`列出 EXE 导出的函数。
2.  通过调用获取EXE的模块句柄`GetModuleHandle(nil)`。
3.  将该模块句柄传递`GetProcAddress`给导入函数。

与更常见的 EXE 链接到 DLL 模式的唯一区别是您使用`GetModuleHandle`而不是`LoadLibrary`. 那是因为 EXE 必须已经加载，所以您可以简单地询问它的模块句柄，而不是要求加载模块。

我会评论说，以这种方式做事是很不寻常的。通常，EXE 会调用 DLL 并传递 DLL 所需的任何信息。该信息可能包括允许 DLL 查询其主机 EXE 的回调函数、接口等。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-20T06:07:09.020

如果子模块（您的 DLL）知道父应用程序的数据结构和功能，这是可能的。这些数据和功能必须在父方可用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T11:32:58.913

这是为了将我的评论进一步扩展到大卫的回答：

* * *

## DLL端：

1.  在 DLL 中添加**Init**程序
2.  导出它。
3.  根据需要添加所需的类型/变量声明

片段代码：

```
library TheDLL;

...

var
  OwnerAPP: HMODULE; // To be initialized by a call of the exported procedure Init from the EXE

...

type
  TTestCallfromExe = procedure(f_Text: PAnsiChar); stdcall;

var
  OwnerAPP: LongInt;
  l_TestCallfromExe: TTestCallfromExe;

procedure Init(Owner: HMODULE);
begin
  OwnerAPP := Owner;
end;

...

exports
  Init, // This is it and the others exports follow
  ... 
```

对**TestCallfromExe**的调用与通常调用任何 Dll 的导出函数/过程一样。只要**OwnerAPP**正确初始化，就可以根据 OP 的要求在 Dll 导出函数的主体中进行调用。

* * *

## EXE端：

根据需要导出每个过程/函数（从 DLL 调用），当然您应该实现它们中的每一个。

```
program TheEXE;

uses
  ...
  MyExportImplementation; // Refence to implementatio unit

...

exports
  TestCallfromExe, // This is it
  ...

begin
  Application.Initialize;
  Application.CreateForm(TForm1, Form1);
  Application.Run;
end. 
```

示例实现细节：

```
unit MyExportImplementation;

interface

...

procedure TestCallfromExe(f_Text: PAnsiChar); stdcall;

implementation

...

procedure TestCallfromExe(f_Text: PAnsiChar); stdcall;
begin
  MessageBoxA(0, f_Text, 'Exe Dialog Ansi (stdcall)', 0);
end;

...

end. 
```

* * *

## 把它们放在一起：

这是基于 DemoDLL（来自 BTMemory）示例，例如在**TheEXE.dpr**项目的 MainForm 单元中实现：

```
procedure TForm1.BtnCAllClick(Sender: TObject);
var
  l_Init: procedure(Owner: HMODULE);
begin
  m_DllHandle := LoadLibrary('TheDLL.dll');
  try
    if m_DllHandle = 0 then
      Abort;

    @l_Init := GetProcAddress(m_DllHandle, 'Init');  // <<<
    if @l_Init = nil then
      Abort;

    // Fetch the remainding exported function(s)/procedure(s) adresses

    l_Init(HInstance); // <<<  Hand EXE's HInstance over to the DLL

    // Call exported function(s)/procedure(s) accordingly
  except
    Showmessage('An error occured while loading the dll');
  end;

  if m_DllHandle <> 0 then
    FreeLibrary(m_DllHandle)
end; 
```

* * *

## 注意事项：

我也用 BTMemory 对其进行了测试，它可以工作。

# ios - XCode 将文件构建到应用程序中

> ID：11573614
> 
> 赞同：0
> 
> 时间：2012-07-20T05:54:49.920
> 
> 标签：ios, xcode, assets

我在 XCode 中有一个项目，我正在将其编译为 iOS 的 .app 文件。我遇到的问题是我的应用程序中的文件（非源代码文件）被编译到我的应用程序的错误目录中。例如，myproject/media/intro/movie.avi 中的一个文件被构建到 myproject.app/movie.avi 中，它应该被构建到 myproject.app/media/intro/movie.avi

有谁知道如何解决这一问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:01:17.873

要解决此问题，您需要在选择文件夹时为添加在**文件夹**单选按钮中的
**任何文件夹创建文件夹引用选项导入完整的文件夹“媒体”。**

# eclipse - 如何在 Eclipse 中加载现有项目？

> ID：11573618
> 
> 赞同：1
> 
> 时间：2012-07-20T05:55:23.617
> 
> 标签：eclipse, eclipse-plugin

我从网上下载了这个项目，现在我把它解压了。如何将此项目加载到 Eclipse 环境中？我需要使用导入然后将现有的 android 代码导入工作场所吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T05:57:48.110

使用 File -> Import -> General -> Existing Project Into Workspace，然后找到您的 zip 文件。

# iphone - 结合objective-c和c ++的正确方法？

> ID：11573620
> 
> 赞同：1
> 
> 时间：2012-07-20T05:55:32.353
> 
> 标签：iphone, c++, objective-c, ios, ios5

我正在开发一个应用程序，它将对输入音频进行一些实时处理。我发现[了这个](http://teragonaudio.com/article/How-to-do-realtime-recording-with-effect-processing-on-iOS.html)网站，我认为我可以将其用作起点。但是，提供的所有函数都是 C++ 中的。

我想首先做的最简单的事情是将 UILabel 的文本更改为函数接收到的一些值：

```
OSStatus renderCallback(void *userData, AudioUnitRenderActionFlags *actionFlags,
                    const AudioTimeStamp *audioTimeStamp, UInt32 busNumber,
                    UInt32 numFrames, AudioBufferList *buffers) 
```

我将所有函数粘贴到我的视图的@implementation 中，并且能够通过将扩展名更改为.mm 来进行编译。我创建了一个 UILabel 属性，但 renderCallback 函数无法访问它。

显然，只是将这些函数粘贴到 @implementation 中并不是正确的做法。我该如何以正确的方式做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:05:30.673

尽管 C++ 基本上可以按原样进入`.mm`文件，但这并不总是有效（例如，如果你有一个变量命名`id`它会与 Objective-C 冲突）。您也可以将大部分 C++ 代码保留在单独的文件中，`#import`将适当的 C++`.h`文件保留`.mm`在您创建`UILabel`. 等文件的位置。

就 a 的`UILabel`要求而言；你需要创造一个`NSString*`价值。一种可能性是`stringWithFormat:`，例如

```
int myInt = 0;
const char *myString = "string";
id myObject = @"object";
NSString* myString = [NSString stringWithFormat:@"here is a number: %d, here is a C string: %s, here is an object: %@", myInt, myString, myObject]; 
```

您可以想象从 C++ 代码中获取您想要的任何原始值，并使用上述格式化字符串将它们转换为单个标签值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:10:19.863

您不能直接在 C/C++ 方法中访问 Objective-c 变量。将您的对象传递给`void *userData`.

```
-(void)Method
{
renderCallback(self, &actionFlags,
                    &audioTimeStamp, busNumber,
                    numFrames, &buffers);
}

OSStatus renderCallback(void *userData, AudioUnitRenderActionFlags *actionFlags,
                    const AudioTimeStamp *audioTimeStamp, UInt32 busNumber,
                    UInt32 numFrames, AudioBufferList *buffers)
{
id obj;
    if (userData)
   {
    obj = (id)userData;
    [obj MethodB];
   }
//....  

} 
```

# javascript - 如何使用函数从 Web SQL 数据库中检索值？

> ID：11573623
> 
> 赞同：0
> 
> 时间：2012-07-20T05:55:42.667
> 
> 标签：javascript, html, sql, web-sql

我有一个带按钮的文本框。如何使用 onclick 函数从 JS 文件中的 Web SQL 数据库中检索值并显示在文本框中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:01:37.650

您可以`Ajax`为此使用：

```
XmlHttp.onreadystatechange = HandleUserNameResult;
XmlHttp.open("GET", requestUrl, true);
XmlHttp.send(null);

function HandleUserNameResult() {
     var responseText = XmlHttp.responseText;    //Here you will get the result;
} 
```

# javascript - 如何在 Resizable 中添加 maxWidth 选项的特定值？

> ID：11573628
> 
> 赞同：0
> 
> 时间：2012-07-20T05:56:11.910
> 
> 标签：javascript, jquery, resizable

[http://jsfiddle.net/ndpnU/2/](http://jsfiddle.net/ndpnU/2/)

我想设置 maxWidth 但我找不到任何解决方案，你能帮帮我吗？

我用这个：

```
$("#one").resizable({
    minWidth: 200,
    handles: 'e',
    maxWidth: $(this).next().width() - 200 + $(this).width(),
    alsoResizeReverse: "#two",

}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T06:52:44.780

resizable的`maxWidth`属性确实正在设置，只是没有设置为您期望的值。当我在浏览器中加载页面时，`maxWidth`设置为大约 1200。那是因为`$(this).next().width()`返回 null 并且`$(this).width()`可能没有返回您期望的值。

看来您假设`this`是指该`#one`元素。但是，在您的代码中，`this`实际上是指`#document`元素。因此 $(this).next() 返回 null 因为`#document`没有兄弟元素。您可以使用浏览器中的 JS 调试/开发工具来验证这一点。

也许`#document`您真的想使用该`#one`元素而不是 。在这种情况下，您可以按如下方式修复您的代码：

```
var $oneEl = $("#one");
$oneEl.resizable({
    minWidth: 200,
    handles: 'e',
    maxWidth: $oneEl.next().width() - 200 + $oneEl.width(),
    alsoResizeReverse: "#two",
}); 
```

# jquery - onchange 与 jQuery 1.3.2 和 IE7 我有一个典型的选择问题。首先让我明确一点，我正在运行 jQuery 1.3.2，我知道它已经很老了，但由于某些原因我无法更新它。我的问题是 jQuery 1.3.2 和 IE7。现在的问题是我有下面的选择框... <select class="myclass"><option value="select">Select</option> <option value="sunday" &gt<="" h1="">ID：11573633 赞同：3 时间：2012-07-20T05:56:42.773 标签：jquery, select, binding, bind, onchange 回答 #1 赞同：3 时间：2012-07-20T06:01:48.713 您可以替换option's of selectbox 而不是替换自身。 change事件不受支持$.live()： 在 jQuery 1.3.x 中，只能绑定以下 JavaScript 事件： 单击、dblclick、keydown、keypress、keyup、mousedown、mousemove、mouseout、mouseover 和 mouseup。 请参阅http://docs.jquery.com/Events/live。 您可以使用livequery。 您可以做的一件事是，在替换 之后，您可以将事件select重新绑定changeselect到. 例如： function replaceSelect() { var select = this; //other code $.post(document.URL,data,function(data){ $(select).replaceWith(data.html); $('.myclass').change(replaceSelect); }); } $('.myclass').change(replaceSelect);</option></select>

# android - 在安卓中更新

> ID：11573634
> 
> 赞同：0
> 
> 时间：2012-07-20T05:56:45.610
> 
> 标签：android, database

我正在使用以下命令更新数据库中的表：

```
public long UpdateIncomeDB(String item,String price,String update) throws SQLException
{
    ContentValues initialValues = new ContentValues();
    initialValues.put(KEY_DESC, item);
    initialValues.put(KEY_INCOME, price);
    initialValues.put(KEY_TOTAL, price);
    db.update(DATABASE_TABLE, initialValues, "description" + "=" +update, null);
    return 0;
} 
```

但是显示特定列不存在的错误..但是我检查了具有该列条目的数据库..请帮助我..

我的日志是：

```
07-20 11:25:03.157: E/Database(1090): Error updating total=45.00 price=45.00 description=ghhy using UPDATE incomexpense SET total=?, price=?, description=? WHERE description=ghhy
07-20 11:25:03.167: D/AndroidRuntime(1090): Shutting down VM
07-20 11:25:03.167: W/dalvikvm(1090): threadid=3: thread exiting with uncaught exception (group=0x4001b188)
07-20 11:25:03.167: E/AndroidRuntime(1090): Uncaught handler: thread main exiting due to uncaught exception
07-20 11:25:03.617: D/dalvikvm(1090): GC freed 7418 objects / 376640 bytes in 421ms
07-20 11:25:03.617: E/AndroidRuntime(1090): android.database.sqlite.SQLiteException: no such column: ghhy: , while compiling: UPDATE incomexpense SET total=?, price=?, description=? WHERE description=ghhy
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.database.sqlite.SQLiteProgram.native_compile(Native Method)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.database.sqlite.SQLiteProgram.compile(SQLiteProgram.java:110)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.database.sqlite.SQLiteProgram.<init>(SQLiteProgram.java:59)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.database.sqlite.SQLiteStatement.<init>(SQLiteStatement.java:41)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.database.sqlite.SQLiteDatabase.compileStatement(SQLiteDatabase.java:1027)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.database.sqlite.SQLiteDatabase.updateWithOnConflict(SQLiteDatabase.java:1556)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.database.sqlite.SQLiteDatabase.update(SQLiteDatabase.java:1500)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at com.budget1.DBadapter.UpdateIncomeDB(DBadapter.java:575)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at com.budget1.IncomeDetailsEdit$2.onClick(IncomeDetailsEdit.java:46)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.view.View.performClick(View.java:2364)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.view.View.onTouchEvent(View.java:4179)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.widget.TextView.onTouchEvent(TextView.java:6541)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.view.View.dispatchTouchEvent(View.java:3709)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1659)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1107)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.app.Activity.dispatchTouchEvent(Activity.java:2061)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1643)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.view.ViewRoot.handleMessage(ViewRoot.java:1691)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.os.Handler.dispatchMessage(Handler.java:99)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.os.Looper.loop(Looper.java:123)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at android.app.ActivityThread.main(ActivityThread.java:4363)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at java.lang.reflect.Method.invokeNative(Native Method)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at java.lang.reflect.Method.invoke(Method.java:521)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
07-20 11:25:03.617: E/AndroidRuntime(1090):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T05:58:40.370

使用这个 where 子句："description='" +update + "'"

SQL 查询中的所有 String 值都应该用 ' 四舍五入

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T05:59:34.847

将更新值放在引号内

```
"description" + "=" +update 
```

放引号

```
"description" + "=" +"'"+update+"'" 
```

# wcf - 如何将 web 项目中的类文件访问到 silverlight

> ID：11573645
> 
> 赞同：1
> 
> 时间：2012-07-20T05:58:21.037
> 
> 标签：wcf, silverlight, service

我是银光的新手。我在 web 项目中有一个单独的类文件，我必须访问 silverlight 项目 xaml 页面中的类文件。我创建了一项服务并添加了对 silverlight 项目的引用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:00:48.390

**您不能直接访问类，您需要仅通过服务公开它。没有其他选择。**

要访问 silverlight 项目中的任何类或数据，您需要在 wcf servcie 类中指定协定。执行以下操作后，您的课程将在 silverlight 应用程序中可用。

[WCF 合同](http://www.dotnetfunda.com/interview/exam286-what-are-contracts-in-wcf.aspx)

在 WCF 中，所有服务都公开契约。合同是描述服务功能的平台中立和标准方式。

描述客户端可以对服务执行哪些操作。

有两种类型的服务合同。

*   ServiceContract - 此属性用于定义接口。
*   OperationContract - 此属性用于定义接口内部的方法。

例子

```
[ServiceContract]
interface IMyContract
{
   [OperationContract]
   string MyMethod( );
}
class MyService : IMyContract
{
   public string MyMethod( )
   {
      return "Hello World";
   }
} 
```

数据合约

有两种类型的数据合同。- DataContract - 用于定义类的属性 - DataMember - 用于定义属性的属性

例子

```
[DataContract]
class Contact
{
   [DataMember]
   public string FirstName;

   [DataMember]
   public string LastName;
} 
```

# javascript - 消除 超时后由Javascript添加

> ID：11573647
> 
> 赞同：0
> 
> 时间：2012-07-20T05:58:37.807
> 
> 标签：javascript, jquery, settimeout

我已经通过一些关于 SO 的示例（包括[这个](https://stackoverflow.com/questions/3163590/jquery-add-content-after-input-element-and-remove-added-content)和[这个](https://stackoverflow.com/questions/4364219/remove-new-div-after-5-seconds)）来尝试解决我遇到的问题。

使用下面的脚本，我正在向页面添加一个带有“旋转”图像的叠加层，以向用户表明系统在他们单击按钮后正忙于处理。

```
ACME.global = ACME.global ? ACME.global : {
    init: function() {
        $(".ctaButton").bind("click", this.pageLoadingOverlay);
    },
    pageLoadingOverlay : function(event) {
        var body = document.getElementsByTagName("body");
        var pageOverlay = document.createElement("div");
        pageOverlay.id = "onClickPageOverlay";
        body[0].appendChild(pageOverlay);
        setTimeout(function() {
            $('#onClickPageOverlay').remove();
        }, 1000);
    }
} 
```

如果我忽略了超时功能

```
 setTimeout(function() {
            $('#onClickPageOverlay').remove();
        }, 30000); 
```

单击事件正确绑定到按钮并加载叠加层。问题是 UI 可能会卡在覆盖显示上（呈现页面的系统没有“刷新”或“返回”按钮，因此用户无法重新加载页面）。

但是，添加完整脚本后，onClick 事件似乎不再绑定到脚本。

我尝试了各种组合，`setTimeout`但`delay`没有运气。

非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:34:37.083

超时功能不是很好构建。

试试这个：

```
var t=setTimeout("$('#onClickPageOverlay').remove()",30000); 
```

文档：

```
setTimeout("javascript function",milliseconds); 
```

> setTimeout() 方法会等待指定的毫秒数，然后执行指定的函数。
> 
> setTimeout() 的第一个参数应该是一个函数。
> 
> 第二个参数表示从现在开始执行第一个参数需要多少毫秒。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-21T09:02:58.753

正如我在评论中已经说过的那样，代码[工作得很好。](http://jsbin.com/etazav)

# c - vim/c - 如何按字母顺序排列函数？

> ID：11573653
> 
> 赞同：4
> 
> 时间：2012-07-20T05:59:18.243
> 
> 标签：c, vim

我有一个包含一堆函数的 .c 文件。有没有办法在vim中按字母顺序排列这些函数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-25T05:55:07.267

如果你在一个文件中有很多很多的功能并且你想自动完成，那么我们可以再做一种“**长**”的方式。同样，这取决于代码的组织方式。假设代码是否总是像这样组织：

```
<return Type>
FunctionName(Arguments)
{
/* Code */
} 
```

1.  使用 VIM 的记录功能，将所有函数名称（完整行）复制到一个新的拆分窗口。(qa [[ k yy Ctrl-WW p Ctrl-WW j)
2.  对新的拆分窗口进行排序。（：种类）
3.  再录制一个宏，删除Sorted-Split窗口的第一行，复制为C文件中的搜索字符串，复制完整的函数并将其粘贴到文件末尾。(qb yy Ctrl-WW /Ctrl-r 0 kmf jj % d'a G p Ctrl-WW) - 现在在新窗口中运行这个宏的行数

我知道这不是有效的方法，只是提供了另一种方法:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-20T04:15:15.637

如果你使用 vim Taglist 插件。这是 vim 评价最高和下载次数最多的插件。

[http://vim-taglist.sourceforge.net/](http://vim-taglist.sourceforge.net/)

然后，您可以轻松查看按字母顺序或定义顺序排列的函数。

通过将以下行添加到您的 vimrc 文件，默认顺序将是字母顺序。

让 Tlist_Sort_Type = "名称"

您可以在 Taglist 选项卡中按“s”键来切换顺序。

在以下链接中搜索“Tlist_Sort_Type”以获取官方文档：

[http://vim-taglist.sourceforge.net/manual.html](http://vim-taglist.sourceforge.net/manual.html)

# android - 如何为 Android 创建数据网格？

> ID：11573654
> 
> 赞同：4
> 
> 时间：2012-07-20T05:59:33.020
> 
> 标签：android, datagrid

我的应用程序必须在 2D 网格中显示数据。网格可以有多个行和列（10 x 10 或 100 x 44）。并且网格必须显示列名和行名。

基本上我想要 Windows 窗体和 WPF 中的 DataGridView 之类的东西。

请提供帮助。谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-20T07:56:40.990

您应该使用与您希望添加的列对应的尽可能多的 s`TableLayout`动态添加。为了使网格看起来，您应该添加一个可绘制形状作为每个带有白线的背景可绘制对象，以便拥有单元格。`TableRow``TextView``TextView`

示例：在 layout.xml 中：

```
...
<TableLayout id="grid" *other properties*/>
... 
```

具有所有必要属性的简单对象数据：

```
class Data {
  ArrayList<Row> rows;
  ArrayList<Column> column;
  //or some other properties you might need
} 
```

在`Activity`：

```
private void fillGrid(Data dat,) {
  for(int i=0; i<dat.getRows().size(); i++) {
     TableRow row = new TableRow(this);
     //set row
     for(int j=0; j<dat.getColumns().size(); j++) {
         TextView actualData = new TextView(this);
         //set properties
         row.addView(actualData);
     }
     tableLayout.addView(row);
  }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-20T06:09:39.140

如果您有一些确定的行数和列数并且这个数字不大，那么当您对[TableLayout](http://developer.android.com/reference/android/widget/TableLayout.html)没问题时- 只需在循环中创建它或通过一些延迟的部分创建它。否则（如果需要的行数/列数不清楚或者您需要一些特定的滚动）将需要自定义控件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-12T13:57:24.007

我建议创建一个列表视图并在其中添加数据。

这是响应另一个问题的一个示例 [用一组数据填充表](https://stackoverflow.com/questions/29160061/android-populating-a-table-with-an-array-of-data)

# javascript - 如何将文本框值复制到 MVC3 剃须刀中的另一个文本框？

> ID：11573659
> 
> 赞同：0
> 
> 时间：2012-07-20T06:00:07.610
> 
> 标签：javascript, asp.net-mvc-3, razor

我想使用 javascript 将 city1 文本框值复制到 city2 文本框。

## 我的 JavaScript 代码——

```
<script type='text/javascript'>
$(function() {
$("#chkCopy").change(function() {
    $("#city1").val("");
    if (this.checked) {
        $("#city2").val($("#city1").val())
    }

});

});​ 
</script> 
```

## 我的观点-

```
@Html.TextBox("city1", "abc")
@Html.TextBox("city2")
@Html.CheckBox("check", new { id = "chkCopy" }) 
```

这只是一个演示，我需要在我的项目中实现这个。请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:14:51.347

**[检查工作演示](http://jsfiddle.net/vQhhR/)**。

我认为你的改变`checkbox`你正在清除价值，`city1` `textbox`因此它对你不起作用。

希望能帮助到你。

# iphone - 如何为相机创建覆盖视图并在 iphone sdk 中访问其方法？

> ID：11573660
> 
> 赞同：4
> 
> 时间：2012-07-20T06:00:09.633
> 
> 标签：iphone, camera-overlay

嗨，我已经搜索了很多自定义相机叠加视图。我找到了几乎很多示例项目，但我仍然无法得到我想要的完美答案。我的问题是我想在按钮上实现自定义相机`instagram`或`picyou`其他社交网络应用程序单击使用相机叠加视图打开自定义相机。我已经创建了自定义相机，它工作正常，但我想访问按钮操作，例如在捕获图像时它应该通过使用导航到其他视图`UINavigationController`但它不起作用。我已经使用此代码来调用相机覆盖视图。

```
-(void)OpenCamera
{
    //create an overlay view instance
    OverlayView *overlay = [[OverlayView alloc]
                            initWithFrame:CGRectMake(0, 0, SCREEN_WIDTH, SCREEN_HEIGTH)];

    UIImagePickerController *picker = [[UIImagePickerController alloc] init]; 
    picker.delegate = self; 
    //        picker.allowsEditing = YES;
    picker.allowsEditing = NO;
    if (([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera])) 
    {
        //set source to video!
        picker.sourceType = UIImagePickerControllerSourceTypeCamera;
        //hide all controls
        picker.showsCameraControls = NO;
        picker.navigationBarHidden = YES;
        picker.toolbarHidden = YES;
        //make the video preview full size
        picker.wantsFullScreenLayout = YES;
        picker.cameraViewTransform =
        CGAffineTransformScale(picker.cameraViewTransform,
                               CAMERA_TRANSFORM_X,
                               CAMERA_TRANSFORM_Y);
        //set our custom overlay view
        picker.cameraOverlayView = overlay;
//        picker.delegate = overlay;

//        UINavigationController *navController = [[UINavigationController alloc] initWithRootViewController:picker];

        //show picker
        [self presentModalViewController:picker animated:YES];  
    }
    else
    {
        picker.sourceType = UIImagePickerControllerSourceTypeSavedPhotosAlbum;
        picker.delegate = self;
        [self presentModalViewController:picker animated:YES];
    }
    [picker release];
} 
```

这是我使用的相机覆盖视图.m 文件代码`@interface OverlayView : UIView`

```
- (id)initWithFrame:(CGRect)frame {
if (self = [super initWithFrame:frame]) {
    //clear the background color of the overlay
//    self.opaque = NO;
//    self.backgroundColor = [UIColor clearColor];

    UIToolbar *toolbar = [UIToolbar new];

    toolbar.barStyle = UIBarStyleBlackTranslucent;

    // create a bordered style button with custom title

    UIBarButtonItem *Cancel = [[[UIBarButtonItem alloc] initWithTitle:@"Cancel"

                                                                  style:UIBarButtonItemStyleBordered    

                                                                 target:self

                                                                 action:@selector(btnCancel:)] autorelease];

    UIBarButtonItem *flexibleSpace1 = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:nil action:nil];

    UIBarButtonItem *Camera = [[[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemCamera target:self action:@selector(btnCapture:)] autorelease]; 

    UIBarButtonItem *flexibleSpace2 = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:nil action:nil];

    UIBarButtonItem *Album = [[[UIBarButtonItem alloc] initWithTitle:@"Gallery"

                                                                   style:UIBarButtonItemStyleBordered

                                                                  target:self

                                                                  action:@selector(btnLibrary:)] autorelease];

    NSArray *items = [NSArray arrayWithObjects: 

                      Cancel,
                      flexibleSpace1,
                      Camera,
                      flexibleSpace2,
                      Album,

                      nil];

    toolbar.items = items;

    // size up the toolbar and set its frame

    // please not that it will work only for views without Navigation toolbars. 

    [toolbar sizeToFit];

    CGFloat toolbarHeight = [toolbar frame].size.height;

    CGRect mainViewBounds = self.bounds;

    [toolbar setFrame:CGRectMake(CGRectGetMinX(mainViewBounds),

                                 CGRectGetMinY(mainViewBounds) + CGRectGetHeight(mainViewBounds) - (toolbarHeight),

                                 CGRectGetWidth(mainViewBounds),

                                 toolbarHeight)];

    [self addSubview:toolbar];
}
return self;
}

-(void)btnLibrary:(id)sender
{

}

-(void)btnCapture:(id)sender
{

}

-(void)btnCancel:(id)sender
{
//    [self dismissModalViewControllerAnimated:YES];
} 
```

一切正常，但正如我所说，我想访问按钮方法和 UINavigationController 来更改视图`instagram`，`picyou`但它不能正常工作，你能指导我如何导航到另一个视图吗？

# java - 在android中添加分钟后无法获得准确的时间

> ID：11573661
> 
> 赞同：0
> 
> 时间：2012-07-20T06:00:12.003
> 
> 标签：java, android, timer

我正在尝试使用

```
import android.text.format.Time;
Time startTime = new Time();
startTime.hour = 6;
startTime.minute = 0; 
```

现在经过计算，当我这样做`startTime.minute = startTime.minute + xx`并且它超过`60 min`时，它不会变为零，也不会改变 startTime 的小时数。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T06:03:48.793

您需要自己检查溢出：

```
if (startTime.minute + xx >= 60) {
  startTime.hour += 1;
}
startTime.minute = (startTime.minute + xx) % 60; 
```

**[编辑]**

`Calendar`正如@Jmelnik:s 的回答和@VikramBodicherla:scomment 所说，如果您正在做的不是您在代码片段中显示的非常基本的操作，那么您绝对应该看看这个类或类似的高级东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:38:51.493

基本上我建议你使用标准的 Java API，Android API 能够做到这样的事情，这使得文档更好，搜索引擎充满了例子。

只需您的代码如下所示：

```
//1\. Instantiate Date
Date date = new Date();
Calendar cal = Calendar.getInstance();
cal.setTime(date);

//2\. Manipulate it with Calendar
cal.set(Calendar.HOUR_OF_DAY, 6);
cal.set(Calendar.MINUTE, 0);
cal.add(Calendar.MINUTE, 65);

//3\. Format it with DateFormat
DateFormat df = new SimpleDateFormat("HH:mm", Locale.ENGLISH);
df.setTimeZone(TimeZone.getTimeZone("GMT"));

String time = df.format(cal.getTime()); //07:05 
```

不要忘记，如果您没有特别设置，SimpleDateFormat 将默认为您的系统 TimeZone 和 Locale。

[在线运行此代码。](http://ideone.com/ETuN0)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-07-06T00:58:02.963

# java - 将 EJB 与 Future对象一起使用

> ID：11573663
> 
> 赞同：1
> 
> 时间：2012-07-20T06:00:32.043
> 
> 标签：java, ejb

我如何使用异步 EJB 并通过 Future 对象询问结果？谁能给我一个完整的例子。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-20T06:10:02.297

在 EJB 3.1 之前，如果要执行异步处理必须使用 JMS 和 MDB，在 EJB 3.1 中，可以在必须异步调用的方法上使用带有 @Asynchronous 注解的简单会话 EJB。

```
@Stateless
@Remote(HelloEjbAsynchronousRemote.class)
public class HelloEjbAsynchronous implements HelloEjbAsynchronousRemote {

@Asynchronous
@Override
public Future<String> ejbAsynchronousSayHello(String name){ 
```

如果您的方法有返回值，则您的方法必须返回一个 AsyncResult 对象，该对象是 Future 的实现。

```
return new AsyncResult<String>("Hello "+name); 
```

# javascript - 如何在jsp中的javascript函数中从servlet获取json返回？

> ID：11573664
> 
> 赞同：0
> 
> 时间：2012-07-20T06:00:32.150
> 
> 标签：javascript, jsp, servlets

我写了一个jsp，它向servlet请求并将json返回给我的jsp，我的问题是我想迭代json并将其显​​示在我的页面中，但我不知道如何在我的javascript函数中获取我的json。我不想使用 jquery ui 和 ajax 。我想用纯 javascript 和 jsp 编写它。tnx 为您提供帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:04:25.047

试试这样的，

```
var json = xmlHTTPRequest.responseText,
obj = JSON.parse(json);
alert(objJSON.result);
alert(objJSON.count); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:05:53.007

假设您已经在 J​​SP 中的某处保存了 JSON，此示例显示了如何从 javascript 函数访问 JSP 内容：[JSP/JavaScript-Example](https://stackoverflow.com/questions/4803906/jsp-variable-accssing-in-javascript)。如果我的假设是错误的，您可能想发布您的代码以获得进一步的建议。

# iphone - IOS5应用程序的第一个视频完成后如何播放下一个视频/未加载网络视频

> ID：11573666
> 
> 赞同：1
> 
> 时间：2012-07-20T06:00:35.717
> 
> 标签：iphone, ios, ios5, video, continuous

那么，如何在 iphone 上播放完一个视频后立即播放视频。我把这个

NSString *filepath = [[NSBundle mainBundle] pathForResource:@"movie" ofType:@"m4v"]; NSURL *fileURL = [NSURL fileURLWithPath:filepath]; MPMoviePlayerController *moviePlayerController = [[MPMoviePlayerController alloc] initWithContentURL:fileURL];

但不知道在那之后还有什么可以播放另一个视频。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T06:11:59.537

如果您正在从您的应用程序运行本地视频，那么您可能会知道它们的名称。将所有视频名称保存在一个数组中。

创建一个函数来播放你所有的电影，并接受一个文件路径/url或你的视频文件的名称。

您可以使用`MPMoviePlayerPlaybackDidFinishNotification`来知道视频是否播放完毕。

一旦你知道调用相同的函数再次播放视频并将文件路径/名称传递给它。它将再次开始播放您的下一个视频。

希望有所帮助

# c# - 访问 SFTP 站点时出现异常：请求的名称有效，但未找到请求类型的数据

> ID：11573668
> 
> 赞同：2
> 
> 时间：2012-07-20T06:00:47.877
> 
> 标签：c#, sftp, socketexception

我是 C# 的新手，我正在尝试使用 C# 访问 SFTP（从 Internet 获取一些代码）。我通过编写下面的代码尝试了这一点。但我得到了例外：

```
IPHostEntry hostInfo = Dns.GetHostByName(@"sftp://........");
// Get the IP address list that resolves to the host names contained in the 
// Alias property.
IPAddress[] address = hostInfo.AddressList;
// Get the alias names of the addresses in the IP address list. 
```

“捕获到 SocketException：请求的名称有效，但未找到请求类型的数据”

我发现了很多关于此的信息，但未能理解。我还尝试使用[Tamir.SharpSSH](http://www.tamirgal.com/blog/page/SharpSSH.aspx)库连接 SFTP，但遇到相同的异常。

请提出一些解决方案。我的项目中需要这个。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-20T06:10:50.787

我怀疑你需要改变：

```
IPHostEntry hostInfo = Dns.GetHostByName(@"sftp://server.address.com"); 
```

至：

```
IPHostEntry hostInfo = Dns.GetHostByName(@"server.address.com"); 
```

DNS 不知道也不关心您用来访问服务器的*协议*( `sftp://`)，它只关心服务器*名称*。

**注意**：Microsoft 认为该`Dns.GetHostByName`方法已过时，并建议您改用该[`Dns.GetHostEntry`](http://msdn.microsoft.com/en-us/library/system.net.dns.gethostentry)方法。

# java - JXTreeTable - 删除父节点后将子节点变为父节点

> ID：11573673
> 
> 赞同：0
> 
> 时间：2012-07-20T06:01:40.813
> 
> 标签：java, swing, swingx

我有一个带有父行和子行的 JXTreeTable。我有一种情况，我需要删除父母，并将孩子提升到其他父母的水平。有没有办法做到这一点？

# javascript - 在javascript中传递数组值

> ID：11573677
> 
> 赞同：0
> 
> 时间：2012-07-20T06:02:10.727
> 
> 标签：javascript, ajax

我有组列表：

```
 <select multiple="multiple"  name="groups[]"  id="groups[]" class="myclass">

<option value="1">Employee</option>        
<option value="2">Suppliers</option>
<option value="3">Customers</option>

 </select> 
```

我正在使用下面的代码将组传递给 ajax url，但只传递了一组！

```
<Script>
    groups=document.getElementById("groups[]").options.item(addIndex).value;

    xmlHttp.open("POST","?action=ajaxcontac&groups="+ groups,true);
</Script> 
```

如何将多个组传递给 url？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:06:10.410

试试这个解决方案：[在多个列表中引用所有选定的选项](http://www.mredkj.com/tutorials/tutorial004.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T06:27:26.770

```
var opts = document.querySelectorAll("#groups\\[\\] option"),

    groups = [].map.call(opts, function(option) {
        if (option.selected) {
            return "groups[]=" + option.value;
        }
    }).filter(Boolean).join("&");

xmlHttp.open("POST", "?action=ajaxcontac&" + groups, true); 
```

演示

[http://jsfiddle.net/XJLBA/1/](http://jsfiddle.net/XJLBA/1/)

# api - ios Xtify push api 415 状态码在尝试发送有效载荷时即时推送

> ID：11573678
> 
> 赞同：0
> 
> 时间：2012-07-20T06:02:10.940
> 
> 标签：api, push-notification, push, xtify, http-status-code-415

我正在尝试将有效负载发送到 Xtify 2.0 push api。

我尝试使用以下代码从我的 iOS 应用程序中进行：

```
- (void)sendPushToXids:(NSMutableArray *)xids {
        ASIFormDataRequest *req = [[ASIFormDataRequest alloc] initWithURL:[NSURL URLWithString:xtifyPushUrl]];
        req.requestMethod = @"POST";

        [req setPostValue:xAppKey forKey:@"appKey"];
        [req setPostValue:xApiKey forKey:@"apiKey"];
        [req setPostValue:xids forKey:@"xids"];

        NSMutableDictionary *contentDict = [[NSMutableDictionary alloc] init];
        [contentDict setObject:@"This is a message" forKey:@"message"];
        [contentDict setObject:@"default.caf" forKey:@"sound"];

        [req setPostValue:contentDict forKey:@"content"];

        req.delegate = self;
        [req startAsynchronous];
    } 
```

其中 xids 是一个包含一项的 NSMutableArray。

我也尝试使用 Firefox 插件 REST 客户端使用此代码：标题：

```
Content-type: application/json 
```

数据：

```
{
    "apiKey": "myapikey",
    "appKey": "myappkey",
    "xids": ["500865a987242167c69b4e6c"], 
    "content": {
        "subject": "Greetings Earthlings",
        "message": "Take me to your leader"
    }
} 
```

（我的“myapikey”和“myappkey”被我的应用程序密钥替换）

使用 POST 方法和 url “http://api.xtify.com/2.0/push”

在这两种情况下，Xtify 都会响应：

```
HTTP Status 415 - Unsupported Media Type

type Status report

message Unsupported Media Type

description The server refused this request because the request entity is in a format not supported by the requested resource for the requested method (Unsupported Media Type). 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T17:47:13.977

该消息意味着您的 API 密钥不正确或已过期。确保在 Xtify 控制台中创建高级密钥。

# r - R - 将非对称数据文件转换为矩阵或数据框

> ID：11573682
> 
> 赞同：1
> 
> 时间：2012-07-20T06:02:30.557
> 
> 标签：r

我看起来像这样的大型凌乱数据文件：

```
1 2  3    4   5 6  7   8 . .
aa bb  ccc d eee     ffff gg h i jj
6      6   5 1 2 3 4 5i      734
33  44x    1234  12  1    9  888  345     12   987765 
```

数据文件中的大多数（但不是全部）行具有相同数量的元素。读取此类数据文件并将其转换为矩阵或数据框的最佳方法是什么？

我一直在使用`readLines`读取文件。

另外，我从对我之前的一个问题的回答中知道，可以使用以下三行将非对称列表转换为矩阵：

[R：将非对称列表转换为矩阵 - 每个子列表中的元素数量不同](https://stackoverflow.com/questions/11148429/r-convert-asymmetric-list-to-matrix-number-of-elements-in-each-sub-list-diffe)

```
max.len <- max(sapply(my.data, length))
corrected.list <- lapply(my.data, function(x) {c(x, rep(NA, max.len - length(x)))})
mat <- do.call(rbind, corrected.list) 
```

我在想也许我可以：

1.  读取数据文件`readLines`
2.  将数据集中的每一行拆分为其单独的元素，然后
3.  将整个数据集转换成一个列表，然后
4.  使用上面的三行创建一个矩阵

但是，我被困在第 2 步。我无法弄清楚如何将每一行拆分为单独的元素，因为元素之间的空格数量会有所不同。此外，我怀疑提出的 4 步策略效率不高。

感谢您对这个问题的任何帮助。

编辑

对不起，我忘了发布想要的结果。我希望数据在矩阵或数据框中后看起来像这样：

```
1   2    3     4   5    6     7    8    .    .
aa  bb   ccc   d   eee  ffff  gg   h    i    jj
6   6    5     1   2    3     4    5i   734  NA
33  44x  1234  12  1    9     888  345  12   987765 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:27:36.810

你可以`strsplit`用来实现第 2 部分吗？

```
test <- readLines(textConnection("1 2  3    4   5 6  7   8 . .
aa bb  ccc d eee     ffff gg h i jj
6      6   5 1 2 3 4 5i      734
33  44x    1234  12  1    9  888  345     12   987765"))

test <- strsplit(test,"[[:space:]]+")

max.len <- max(sapply(test, length))
corrected.list <- lapply(test, function(x) {c(x, rep(NA, max.len - length(x)))})
mat <- do.call(rbind, corrected.list) 
```

结果：

```
> mat
     [,1] [,2]  [,3]   [,4] [,5]  [,6]   [,7]  [,8]  [,9]  [,10]   
[1,] "1"  "2"   "3"    "4"  "5"   "6"    "7"   "8"   "."   "."     
[2,] "aa" "bb"  "ccc"  "d"  "eee" "ffff" "gg"  "h"   "i"   "jj"    
[3,] "6"  "6"   "5"    "1"  "2"   "3"    "4"   "5i"  "734" NA      
[4,] "33" "44x" "1234" "12" "1"   "9"    "888" "345" "12"  "987765" 
```

# internet-explorer - IE保护模式第三方cookie问题

> ID：11573687
> 
> 赞同：4
> 
> 时间：2012-07-20T06:02:58.837
> 
> 标签：internet-explorer, cookies

我在某些 IE9 浏览器（不是每个浏览器）中看到了一个奇怪的问题。我使用 iframe 将 cookie 放到另一个域中，并且当时所有 cookie 都已正确设置，但是当我访问另一个域时，cookie 神奇地消失了。

当我删除保护模式时，这一切都很好。它只发生在某些 ie9 浏览器上。

我正确设置了所有 p3p，并确保这不是 p3p 问题，我已将隐私设置为接受所有 cookie，它仍然可以重新使用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T06:22:40.510

这是由于混合区域。

[http://blogs.msdn.com/b/ieinternals/archive/2011/03/10/internet-explorer-beware-cookie-sharing-in-cross-zone-scenarios.aspx](http://blogs.msdn.com/b/ieinternals/archive/2011/03/10/internet-explorer-beware-cookie-sharing-in-cross-zone-scenarios.aspx)

# wpf - 根据 ElementHost 大小调整表单大小

> ID：11573690
> 
> 赞同：3
> 
> 时间：2012-07-20T06:03:17.633
> 
> 标签：wpf, winforms, elementhost

我有一个`Form(winform)`，它包含`Elementhost`. 在运行时，我将我的 WPF 用户控件托管到这个`elementhost`. 我用过`AutoSize = True`elementhost。

`Elementhost`根据 WPF 用户控件大小调整自身大小。但是如何根据我的 ElementHost 的大小调整我的表单大小。

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T09:45:01.333

这是答案：

将 ElementHost.Child 设置为 WPF 用户控件后。我将遵循以下功能：

```
public System.Windows.Size GetElementPixelSize(UIElement element) 
    { 
        Matrix transformToDevice; 
        var source = PresentationSource.FromVisual(element);
        if (source != null)
            transformToDevice = source.CompositionTarget.TransformToDevice;
        else     
            using (var Hwndsource = new HwndSource(new HwndSourceParameters()))
                transformToDevice = Hwndsource.CompositionTarget.TransformToDevice;

        if (element.DesiredSize == new System.Windows.Size()) 
            element.Measure(new System.Windows.Size(double.PositiveInfinity, double.PositiveInfinity)); 

        return (System.Windows.Size)transformToDevice.Transform((Vector)element.DesiredSize); 
    } 
```

**原始方法发布于：[如何将 WPF 大小转换为物理像素？](https://stackoverflow.com/questions/3286175/how-do-i-convert-a-wpf-size-to-physical-pixels)**

现在我从新大小设置客户端大小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T07:00:21.670

抱歉，但是否可以订阅[大小更改](http://msdn.microsoft.com/en-us/library/system.windows.forms.integration.elementhost.resize%28v=vs.90%29.aspx)并更新主机表单？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T07:30:22.173

我有一个解决方案，但不确定输出。它在 WPF 桌面应用程序中工作。您需要做的是将高度和宽度设置为 NAN（不是数字）

```
this.Width = double.NaN;
this.Height = double.NaN; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-11-21T19:27:35.623

而不是设置自动大小设置：

```
 this.elementHost1.Dock = System.Windows.Forms.DockStyle.Fill; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-07-05T10:32:32.500

这是一个老问题，但我经常来，所以它仍然相关，所以这是我的解决方案：

我要做的是：

一种。当我希望 WPF 视图匹配（停靠）窗口大小时：

```
ElementHost eh = new ElementHost();
eh.Dock = System.Windows.Forms.DockStyle.Dock;
eh.AutoSize = true;
eh.Child = wpfView;
eh.CreateControl();
this.Controls.Add(eh);
this.AutoSize = false; 
```

注意：如果表格太小，您可以设置 eh min size 以具有滚动条。

b：当我希望主机表单匹配 WPF 视图时：

```
ElementHost eh = new ElementHost();
eh.Dock = System.Windows.Forms.DockStyle.None;
eh.AutoSize = true;
eh.Child = wpfView;
eh.CreateControl();
this.Controls.Add(eh);
this.AutoSize = true;
this.AutoSizeMode=AutoSizeMode.GrowAndShrink; 
```

# java - 服务器错误消息的正确正则表达式

> ID：11573692
> 
> 赞同：2
> 
> 时间：2012-07-20T06:03:27.950
> 
> 标签：java, javascript, regex, error-handling, alert

我正在进行 Ajax 调用，并且从服务器收到错误消息。

现在的问题是我收到以下消息。

```
HTTP Status 756 - Error while processing the request.

--------------------------------------------------------------------------------

type Status report

message Error while processing the request.

description Cannot find message associated with key http.756 
```

而且我只想从完整的错误报告中获取错误消息，而不是上面的所有文本。我怎样才能做到这一点？

但实际的反应是

```
<html><head><title>Apache Tomcat/5.0.28 - Error report</title><style><!--H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}A.name {color : black;}HR {color : #525D76;}--></style> </head><body><h1>HTTP Status 756 - Error while processing the request.</h1><HR size="1" noshade="noshade"><p><b>type</b> Status report</p><p><b>message</b> <u>Error while processing the request.</u></p><p><b>description</b> <u>Cannot find message associam<D‡üñÔE(1@@ähttp.756</u></p><HR size="1" noshade="noshade"><h3>Apache Tomcat/5.0.28</h3></body></html>​ 
```

从我想得到错误消息的地方。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T06:06:29.980

当您取回`response`HTML 时，您可以像这样抓取消息...

```
var div = document.createElement("div");

div.innerHTML = response;

var errorMsg = [].filter.call(div.getElementsByTagName("b"), function(b) {
    return b.textContent == "message";
})[0].nextElementSibling.textContent || "Unknown error"; 
```

[js小提琴](http://jsfiddle.net/xEMCj/)。

* * *

如果只是文字...

这将提取`-`第一行之后的文本。如果找不到匹配项，它将返回“未知错误”。

```
var errorMsg = (response.split("\n")[0].match(/^HTTP Status \d+ - (.+)$/) 
                || [])[1]
                || "Unknown error"; 
```

[js小提琴](http://jsfiddle.net/YCxqT/)。

相反，如果您想匹配`message`下面的行。

```
var errorMsg = (response.match(/^message (.+)$/m) || [])[1] || "Unknown error"; 
```

[js小提琴](http://jsfiddle.net/nRQWy/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T06:19:34.597

检查这个工作示例：正则 [表达式](http://regexr.com?31j88)

```
(?<=-\s).* 
```

或者

```
(?<=[0-9]\s-\s).* 
```

这将获取确切的消息：`Error while processing the request.`

**编辑**

如果它包含，`HTML`那么这将起作用：[更新的正则表达式](http://regexr.com?31j8h)

```
(?<=<h1>).*(?=</h1>) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T07:30:53.107

我通过以下 JavaScript 代码得到了答案。

```
var res = "Error Message : '";

var bonly = data.responseText.match(/<h1>(.*?)<\/h1>/);
if (bonly && (bonly.length > 1)) {
    res += bonly[1];
}
res += "'. Error Code : ";
res += data.status;
return res; 
```

# google-chrome - 在 Chrome 上转换后 SVG textPath 不可见

> ID：11573694
> 
> 赞同：4
> 
> 时间：2012-07-20T06:03:46.963
> 
> 标签：google-chrome, text, svg, path, d3.js

我认为这是 Chrome 中的一个错误，因为它似乎在 Firefox 中运行良好，但我希望有人可以推荐一个解决方法（或者如果这是我的错，请告诉我哪里出错了）。

我正在尝试以与此示例类似的方式将标签放入和弦图的组弧中： http: [//bost.ocks.org/mike/uberdata/](http://bost.ocks.org/mike/uberdata/)：

![在此处输入图像描述](../Images/7a9d710ae2622aad87d3206fc1381975.png)

我正在使用`textPath`来实现这一点，就像示例一样。我的情况的不同之处在于，我正在运行转换以在创建弧时打开弧，并在数据更改时调整它们的大小。`path`当我对 by 引用使用过渡时`textPath`，结果是文本不会立即显示在 Chrome 上。它按预期存在于 DOM 中，当我执行诸如调整浏览器缩放之类的操作时，文本会弹出到视图中。

这是一些显示问题的示例代码：http: [//bl.ocks.org/3148920](http://bl.ocks.org/3148920)

如果我在路径转换上设置一个`transition.each("end",...)`并触摸 textPath 上的一个属性，它会使文本出现。但是，当我调整弧线的大小时，这对我没有帮助，在此期间我希望文本与路径一起浮动。在 Firefox 上这是可行的，但在 Chrome 上，文本只是保持不变。

关于如何让它发挥作用的任何想法？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-20T15:20:56.527

我在这里分叉并修复了您的示例：

*   [http://bl.ocks.org/3151228](http://bl.ocks.org/3151228)

您在 WebKit 浏览器中触发了两个错误：

*   由于 WebKit 处理区分大小写的元素名称的方式存在错误，您无法选择 textPath 元素。请参阅[错误 83438](https://bugs.webkit.org/show_bug.cgi?id=83438)。不幸的是，WebKit 没有显示修复此错误的迹象。

*   更新路径元素本身不会触发对引用此路径的依赖元素的重绘。因此，即使我们更新了路径，引用的 textPath 元素也不会被重绘。为了解决这个更新错误，我们创建了一个自定义转换，重复将 textPath 的 xlink:href 属性设置为“#path”。我不确定是否已经为此提交了错误。

注意：文本在动画开始的弧线开始处被卷曲，难以阅读。根据您要完成的任务，您可以改为[使用弧线来剪辑文本](http://bl.ocks.org/3151318)，以便在弧线扩展时显示文本。

# jquery - Nivo Slider 不随机加载

> ID：11573698
> 
> 赞同：1
> 
> 时间：2012-07-20T06:04:14.013
> 
> 标签：jquery, wordpress, slider, nivo-slider

我在一个自托管的 wordpressblog 上面临一个持续的问题，其中整个图像滑块不会在随机场合加载。在非加载时间，Chrome 上的 javascript 控制台报告这些：

> Uncaught TypeError: Object [object Object] has no method 'nivoSlider' [http://www.xxxxxx.com/:3408](http://www.xxxxxx.com/:3408)
> 
> Uncaught TypeError: Object [object Object] has no method 'jCarouselLite' [http://www.xxxxxx.com/:3392](http://www.xxxxxx.com/:3392)

我已将整个 footer.php 文件粘贴在下面，我相信滑块调用可能配置不当。

```
 <?php //get theme options
global $oswc_front, $oswc_ads, $oswc_misc, $oswc_single, $oswcPostTypes;

//set theme options
$oswc_flickr_name = $oswc_misc['flickr_name'];
$oswc_google_analytics = $oswc_misc['google_analytics'];
$oswc_footer_ad_hide = $oswc_ads['footer_ad_hide'];
$oswc_footer_ad = $oswc_ads['footer_ad'];
$oswc_featured_duration = $oswc_front['featured_duration'];
$oswc_spotlight_duration = $oswc_front['spotlight_duration'];
$oswc_latest_speed = $oswc_misc['latest_speed'];
$oswc_colorbox = $oswc_misc['colorbox'];
$oswc_footer_menu_hide = $oswc_misc['footer_menu_hide'];
$oswc_share_twitter_show = $oswc_single['twitter_show'];
$oswc_share_digg_show = $oswc_single['digg_show'];
$oswc_share_plusone_show = $oswc_single['plusone_show'];
$oswc_share_pinterest_show = $oswc_single['pinterest_show'];
$oswc_share_tumblr_show = $oswc_single['tumblr_show'];
?>

        <?php if(!$oswc_footer_ad_hide) { //the ad above the footer ?>

            <div class="full-width-ad">  

                <?php echo $oswc_footer_ad; ?>

            </div>

            <br class="clearer" />

        <?php } ?>

    </div><!--end main wrapper dark-->

    </div><!--end main white content wrapper -->

    <div id="footer-wrapper"> <!--begin footer wrapper -->

        <div id="footer">

            <?php if(!$oswc_footer_menu_hide) { //the menu in the footer ?>

                <div class="footer-menu">

                    <a class="home-link" href="<?php echo home_url(); ?>">&nbsp;</a>

                    <?php 
                    //title attribute gets in the way - remove it
                    $menu = wp_nav_menu( array( 'theme_location' => 'footer-menu', 'container' => '0', 'fallback_cb' => 'fallback_footer_menu', 'echo' => '0' ) );
                    $menu = preg_replace('/title=\"(.*?)\"/','',$menu);
                    echo $menu;
                    ?> 

                </div> 

                 <br class="clearer" />

            <?php } ?>

            <div class="inner">

                <div class="panel">

                    <?php if ( function_exists('dynamic_sidebar') && dynamic_sidebar('Footer Panel 1') ) : else : ?>

                        <div class="widget">

                            <h2><?php _e(' Made Magazine ', 'made' ); ?></h2>                           
                            <p><?php _e( "This is a widget panel. To remove this text, login to your WordPress admin panel and go to Appearance >> Widgets, and drag &amp; drop a widget into this widget panel.", 'made' ); ?></p>

                        </div>

                    <?php endif; ?>

                </div>

                <div class="panel">

                    <?php if ( function_exists('dynamic_sidebar') && dynamic_sidebar('Footer Panel 2') ) : else : ?>

                        <div class="widget">

                            <h2><?php _e(' Made Magazine ', 'made' ); ?></h2>                           
                            <p><?php _e( "This is a widget panel. To remove this text, login to your WordPress admin panel and go to Appearance >> Widgets, and drag &amp; drop a widget into this widget panel.", 'made' ); ?></p>

                        </div>

                    <?php endif; ?>

                </div>

                <div class="panel">

                    <?php if ( function_exists('dynamic_sidebar') && dynamic_sidebar('Footer Panel 3') ) : else : ?>

                        <div class="widget">

                            <h2><?php _e(' Made Magazine ', 'made' ); ?></h2>                           
                            <p><?php _e( "This is a widget panel. To remove this text, login to your WordPress admin panel and go to Appearance >> Widgets, and drag &amp; drop a widget into this widget panel.", 'made' ); ?></p>

                        </div>

                    <?php endif; ?>

                </div>

                <div class="panel right">

                    <?php if ( function_exists('dynamic_sidebar') && dynamic_sidebar('Footer Panel 4') ) : else : ?>

                        <div class="widget">

                            <div class="widget">

                            <h2><?php _e(' Made Magazine ', 'made' ); ?></h2>                           
                            <p><?php _e( "This is a widget panel. To remove this text, login to your WordPress admin panel and go to Appearance >> Widgets, and drag &amp; drop a widget into this widget panel.", 'made' ); ?></p>

                        </div>

                        </div>

                    <?php endif; ?>                        

                </div>

                <br class="clearer" />

            </div>

            <div class="copyright">

                <div class="ribbon-shadow-left">&nbsp;</div>

                <div class="floatleft">

                    <?php _e( 'Copyright', 'made' ); ?> &copy; <?php echo date("Y").' '.get_bloginfo('name'); ?>,&nbsp;<?php _e( 'All Rights Reserved.', 'made' ); ?>

                </div>

                <div class="floatright">

                    <div class="floatleft">

                        <?php if ( function_exists('dynamic_sidebar') && dynamic_sidebar('Footer Credits') ) : else : ?>

                            &nbsp;

                        <?php endif; ?> 

                    </div>

                </div>

                <br class="clearer" />

                <div class="ribbon-shadow-right">&nbsp;</div>

            </div>

        </div>

    </div> <!--end footer wrapper-->

    <?php wp_footer(); ?>

    <?php echo $oswc_google_analytics; // google analytics code ?>  

    <script type="text/javascript" src="<?php echo get_template_directory_uri(); ?>/js/plugins.js"></script> <!-- jquery plugin js -->

    <!-- need to setup review category tabs here since we don't know how many review types there are -->
    <script type="text/javascript">
        jQuery.noConflict(); 

        //DOCUMENT.READY
        jQuery(document).ready(function() { 
            //loop through each post type and setup a jquery tabs object
            <?php foreach($oswcPostTypes->postTypes as $postType){ ?>
                    jQuery('#tabbed-<?php echo ucwords($postType->name); ?>-reviews > ul').tabs({ fx: { opacity: 'toggle', duration: 150 } });      
            <?php } ?> 

            <?php if($oswc_colorbox) { ?>           
                //colorbox
                jQuery('.review .article-image a').colorbox({transition:'fade', speed:250});
                jQuery('.single-post .content .article-image a').colorbox({transition:'fade', speed:250});
                jQuery('.colorbox').colorbox({transition:'fade', speed:250});
                jQuery('.colorboxiframe').colorbox({transition:'fade', speed:250, iframe:true, innerWidth:640, innerHeight:390});
                jQuery(".page-content a[href$='.jpg'],a[href$='.png'],a[href$='.gif']").colorbox(); 
                jQuery('.page-content .gallery a').colorbox({  rel:'gallery' });

            <?php } ?> 
            //initialize smooth div scroll on Don't Miss slider
            jQuery("#dontmiss").smoothDivScroll({ 
                autoScrollingMode: "always", 
                autoScrollingDirection: "endlessloopright", 
                autoScrollingStep: 1, 
                autoScrollingInterval: 50 
            });

            // Logo parade event handlers
            jQuery("#dontmiss").bind("mouseover", function() {
                jQuery(this).smoothDivScroll("stopAutoScrolling");
            }).bind("mouseout", function() {
                jQuery(this).smoothDivScroll("startAutoScrolling");
            });

            /* uitotop scroller:
            var defaults = {
                containerID: 'toTop', // fading element id
                containerHoverID: 'toTopHover', // fading element hover id
                scrollSpeed: 1200,
                easingType: 'linear' 
            };
            */

            jQuery().UItoTop({ easingType: 'easeOutExpo' });    

        });

        //the reason they are here instead of in custom.js is because they contain php variables which can't
        //be applied in a .js file. Also, make sure these come before the darken function.

        //WINDOW.LOAD
        jQuery(window).load(function() {
            //spotlight slider  
            jQuery(function() {
                jQuery(".main-content-left #spotlight-slider, .main-content-left #spotlight-slider-responsive").jCarouselLite({     
                    auto: <?php echo $oswc_spotlight_duration; ?>000,
                    easing: "easeInOutExpo",
                    speed: 1100,
                    visible: 2          
                }); 
            });
            jQuery(function() {
                jQuery(".main-content #spotlight-slider, .main-content #spotlight-slider-responsive").jCarouselLite({       
                    auto: <?php echo $oswc_spotlight_duration; ?>000,
                    easing: "easeInOutExpo",
                    speed: 1100,
                    visible: 3          
                }); 
            });     
            //featured slider           
            jQuery('#featured').nivoSlider({                
                effect: 'random', // Specify sets like: 'fold,fade,sliceDown'
                slices: 10, // For slice animations
                boxCols: 6, // For box animations
                boxRows: 3, // For box animations
                animSpeed: 200, // Slide transition speed
                pauseTime: <?php echo $oswc_featured_duration; ?>000, // How long each slide will show
                startSlide: 0, // Set starting Slide (0 index)
                directionNav: true, // Next and Prev navigation
                directionNavHide: false, // Only show on hover
                controlNav: false, // 1,2,3... navigation
                controlNavThumbs: false, // Use thumbnails for Control Nav
                pauseOnHover: true, // Stop animation while hovering
                manualAdvance: false, // Force manual transitions
                prevText: 'Prev', // Prev directionNav text
                nextText: 'Next', // Next directionNav text
                beforeChange: function(){}, // Triggers before a slide transition
                afterChange: function(){}, // Triggers after a slide transition
                slideshowEnd: function(){}, // Triggers after all slides have been shown
                lastSlide: function(){}, // Triggers when last slide is shown
                afterLoad: function(){} // Triggers when slider has loaded                           
            }); 

        });     
    </script>

    <!-- make sure this js file is called after image sliders are setup or else the mosaic and darken effects won't work on hidden image elements-->
    <script type="text/javascript" src="<?php echo get_template_directory_uri(); ?>/js/custom.js"></script> <!-- made js -->   
    <?php if(!is_front_page() && !is_tax() && !is_category() && !is_tag() && !is_search() && !is_404() && !is_archive() && !is_page_template('template-reviews.php')) { //don't load external javascript for pages that don't use the sharebox?> 
    <?php if($oswc_share_plusone_show) { ?><script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script> <!-- google plus 1 button js --><?php } ?>   
    <?php if($oswc_share_pinterest_show) { ?><script type="text/javascript" src="http://assets.pinterest.com/js/pinit.js"></script> <!-- pinterest share button --><?php } ?>
    <?php if($oswc_share_tumblr_show) { ?><script type="text/javascript" src="http://platform.tumblr.com/v1/share.js"></script> <!-- tumblr --><?php } ?>
    <?php if($oswc_share_twitter_show) { ?><script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script> <!-- twitter --><?php } ?>
    <?php if($oswc_share_digg_show) { ?><script src="http://widgets.digg.com/buttons.js" type="text/javascript"></script> <!-- digg --><?php } ?>
    <?php } ?>

</div>

</body>

</html> 
```

# php - codeiginiter 会话不起作用

> ID：11573700
> 
> 赞同：0
> 
> 时间：2012-07-20T06:04:28.217
> 
> 标签：php, codeigniter, session

在 codeiginiter 会话类和分页类中没有一起工作......

```
函数soxml()
    {
    $this->load->library('session');

`$this->load->library('pagination');

$this->session->set_userdata('some_name', 'some_value');// did not  work 

$config['base_url'] = 'my_url';

$config['total_rows'] = 200;

$config['per_page'] = 20;

$this->pagination->initialize($config);

echo $this->pagination->create_links();
}

function snxml($id)
{
  echo $this->session->userdata('some_name'); // return blank ....did save any value  
}` 

            回答 #1

赞同：1

时间：2012-07-20T06:07:04.440

您刚刚选择了错误的键来查找：

```
echo $this->session->userdata('some_name'); 
```

你需要`some_name`得到它的价值。

            回答 #2

赞同：0

时间：2012-07-20T11:51:28.683

set_userdata 函数也可以接收一个数组，如

```
$newdata = array(
                   'username'  => 'johndoe',
                   'email'     => 'johndoe@some-site.com',
                   'logged_in' => TRUE
               ); 
```

所以你可以尝试传递一个数组~

```
$array = array(
  'some_name' => 'some_value'
);
$this->session->set_userdata($array); 
```

但是，最好的建议是在 __construct 中添加这句话`$this->load->library('session');`~祝你好运~

            回答 #3

赞同：0

时间：2017-03-06T13:10:37.497

有2个选项：

1）再次加载第二个函数库，如：

```
function snxml($id)
{
    $this->load->library('session');
    echo $this->session->userdata('some_name'); 
} 
```

2）`$this->load->library('session');`从第一个函数中删除它并在结构中加载库，如：

```
public function __construct(){
    $this->load->library('session');
} 
```

```

# iphone - 从 UIWebView 获取文本

> ID：11573701
> 
> 赞同：0
> 
> 时间：2012-07-20T06:04:36.930
> 
> 标签：iphone, ipad, uiwebview, nsstring, nsurl

我是 iPhone 开发者的新手，

我正在我的 UIWebview 中加载一个网页，

加载完成后，当用户选择任何文本时，我想获取该文本，

这是我的代码片段，

```
 - (void)viewDidLoad
   {
      [super viewDidLoad];

      CGRect webFrame = CGRectMake(0.0, 0.0, 500.0, 500.0);
      webView = [[UIWebView alloc] initWithFrame:webFrame];
      [webView setBackgroundColor:[UIColor greenColor]];
      NSString *urlAddress = @"http://stackoverflow.com/";
      NSURL *url = [NSURL URLWithString:urlAddress];
      NSURLRequest *requestObj = [NSURLRequest requestWithURL:url];
      [webView loadRequest:requestObj];
      [self.view addSubview:webView]; 

    NSString *t= [webView stringByEvaluatingJavaScriptFromString:@"window.getSelection().toString()"];
    NSLog(@"selected text=%@",t);

} 
```

但是当我选择任何文本时，我的日志什么也没有显示。

**任何帮助将不胜感激。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:57:55.677

您应该查看本[教程](http://zaldzbugz.posterous.com/how-to-mark-or-get-the-highlighted-string-ins)。希望它可以帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:09:21.283

试试这个：

```
[webView stringByEvaluatingJavaScriptFromString:@"window.getSelection().toString()"]; 
```

# php - 如何使用php从youtube中提取视频的描述

> ID：11573702
> 
> 赞同：0
> 
> 时间：2012-07-20T06:04:39.040
> 
> 标签：php, youtube, youtube-api, youtube-javascript-api

如何使用 php 从 youtube 中提取视频的描述？

如果可能的话，使用换行符的格式。

想要提取纯文本，它将使用 php 保存到 txt。

谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T06:21:22.513

您可以使用 YouTube 数据 API。

使用此 URL 获取特定视频 ID 的 json 数组

[http://gdata.youtube.com/feeds/api/videos/KQdDiW_C2E4?v=2&alt=json-in-script&callback=youtubeFeedCallback](http://gdata.youtube.com/feeds/api/videos/KQdDiW_C2E4?v=2&alt=json-in-script&callback=youtubeFeedCallback)

`KQdDiW_C2E4`是 video-id `v=2`告诉服务器使用 v2 的 API `alt=json-in-script`告诉 API 返回一个 json 数组

如果你`json_decode`返回的数组，你会在 `array->entry->media$group->media$description`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-06T19:44:33.493

我在网上找到的这个问题的答案都没有帮助我。这就是我所做的：

```
$json = json_decode( file_get_contents('https://www.googleapis.com/youtube/v3/videos?id=YOUR_VIDEO_ID&key=YOUR_GOOGLE_API_KEY&part=snippet,contentDetails,statistics,status'), TRUE );
$description = nl2br( $json['items'][0]['snippet']['description'] ); 
```

您可以从[此处](https://developers.google.com/youtube/registering_an_application)获取 Google API 密钥（只需执行第 1 步和第 2 步，因为您只需要 API 密钥）。

[nl2br](http://php.net/manual/en/function.nl2br.php)函数用于将换行符转换为换行符。

希望这可以节省其他人一些时间。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T06:21:43.850

我使用以下类访问 YouTube。

[http://www.phpclasses.org/package/6336-PHP-Retrieve-information-about-videos-in-YouTube.html](http://www.phpclasses.org/package/6336-PHP-Retrieve-information-about-videos-in-YouTube.html)

一个简单的例子，说明它是如何工作的；

```
<?
$obj = new youtube;
$obj->url = "http://www.youtube.com/watch?v=8B7s01DpBTg";
$obj->player("480","385");
print $info["description"];

?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-20T06:09:59.950

[您可以使用 php 的file_get_contents()](http://php.net/manual/en/function.file-get-contents.php)函数请求 youtube 视频的 html 文档，然后搜索`<div>`包含描述并以这种方式提取它。

我刚刚看了一个 youtube 视频页面，看起来描述在`<p id="eow-description">`标签内，尽管显然不能保证保持这种状态。

编辑：我没有意识到 Youtube 提供了一个 API。使用他们的 API 并询问您想要的信息显然比尝试解析他们的 html 页面更干净。感谢 Sander 指出这一点。

# android - Jelly Bean webview 滚动不顺畅

> ID：11573706
> 
> 赞同：1
> 
> 时间：2012-07-20T06:05:41.437
> 
> 标签：android, webview, scroll, android-4.2-jelly-bean

在最新版本 Jelly Bean 之前，我的 android webview 应用程序从未出现过滚动问题。滚动不再足够平滑，也没有加速。有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T14:15:20.147

我尝试使用硬件加速，但这并没有解决这个问题。但是，我发现了问题并提出了其他解决方案。问题是（据我观察），我在一个有几个可点击元素的页面上有一个绑定 touchend (jquery) 事件。现在，在滚动时，系统以某种方式尝试处理每个 div 元素上的绑定事件，因此大大减慢了滚动速度。所以我通过在滚动上解除绑定这些 div 并在滚动结束时重新绑定来修复它。有效！

PS：使用硬件加速解决了我在 ICS & Jelly Bean 上遇到的其他一些[问题](https://stackoverflow.com/q/11305260/1047337)

# javascript - 触发 ondrop 时 event.dataTransfer.files 为空？

> ID：11573710
> 
> 赞同：57
> 
> 时间：2012-07-20T06:05:52.763
> 
> 标签：javascript, html, drag-and-drop

好的，我设置了一个元素来接收文件删除事件，但是当我查看它时`event.dataTransfer`它是空白的。我还没有开始学习拖放式 HTML5 API，而且对它还有点迷糊。我正在[我的网站](http://southshift.com/backstage/)上处理它。如果您不介意浏览我的代码并查看发生了什么，我们将不胜感激。`event`正在记录整个对象。

* * *

## 回答 #1

> 赞同：167
> 
> 时间：2012-07-20T06:22:26.913

它工作正常，这只是控制台的一个错误。

```
function onDrop(event) {
    event.preventDefault();
    console.log(event.dataTransfer.files[0]);
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2016-07-26T19:44:01.503

还要看看这个错误/行为：[HTML5 drop event doesn't work unless dragover ishandled](https://stackoverflow.com/questions/8414154/)

基本上，您需要处理悬停/拖动并指定 dropEffect

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2018-11-15T22:28:38.813

我找到了我需要的东西：

```
e.originalEvent.dataTransfer 
```

# android - 为什么不建议在 Fragment 之间直接通信？

> ID：11573712
> 
> 赞同：8
> 
> 时间：2012-07-20T06:05:55.133
> 
> 标签：android, android-fragments

在[developer.android.com](http://developer.android.com/training/basics/fragments/communicating.html)上学习 android Fragment 时，指定不建议在两个 Fragment 之间直接通信。我想知道两个 Fragment 之间的通信会失败的后果和情况？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-20T06:25:42.987

好吧，对于 Fragments，您并不总是确定它们在通信时是否还活着并附着。Fragment 是否已附加和可用也可能取决于设备布局或大小。如果您绝对确定您的 Fragments 将附加到您的活动并同时可用，那么我想您可以直接沟通。

话虽如此，片段意味着是合乎逻辑的、独立的单元。从文档：

```
You can think of a fragment as a modular section of an activity 
```

如果片段直接相互影响，它会破坏模型。

为什么不在你的 Activity 中定义一个接口并让 Fragment A 调用 Activity 中的方法呢？然后您的 Activity 可以检查 Fragment B 是否可用，然后可以调用 Fragment B 中的相应函数。

[这](http://developer.android.com/guide/components/fragments.html#EventCallbacks)是文档建议

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-20T06:35:19.107

Fragment 只是一个 UI 组件，它的功能远不止绘制本身。在这个问题的范围内，它与视图没有什么不同。

所以一个非常可比的问题是：为什么两个视图不能直接相互通信？

# qt - Qt Webkit 输出与某些网站的 mozilla/IE 不同

> ID：11573722
> 
> 赞同：0
> 
> 时间：2012-07-20T06:07:07.637
> 
> 标签：qt, qwebview, qwebkit

我正在使用 QWebKit 类来显示网页，但对于某些网站的输出与其他标准浏览器不同。

例如下面提到的站点右侧包含一个flash视频，如果您单击该flash视频的全屏，则右下角的flash播放器上的选项与其他浏览器不同。

[http://www.hosmatnet.com/](http://www.hosmatnet.com/)

链接以获得差异的快照。 [https://picasaweb.google.com/103939036468452830901/Qt#5767128130858501410](https://picasaweb.google.com/103939036468452830901/Qt#5767128130858501410)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T15:23:43.843

有几个不同的原因，不同版本的 Flash，Flash 库是否正在运行（它可能默认为 YouTube 上的 HTML 播放器），最重要的是它完全基于您显示的浏览器代理。有些人不会跟踪它，有些人会定制体验。

# c# - Windows 服务启动失败：无法从命令行或调试器启动服务

> ID：11573724
> 
> 赞同：78
> 
> 时间：2012-07-20T06:07:17.363
> 
> 标签：c#, windows-services

嗨，我收到了这个错误

> 无法从命令行或调试器启动服务。必须首先安装 winwows 服务（使用 installutil.exe），然后使用 ServerExplorer、Windows Services Afministrative 工具或 NET START 命令启动。

我不明白为什么我会收到这个错误。这是我的代码：

```
{
    string Hash = "";
    string connectionstring = ConfigurationManager.ConnectionStrings["myConnectionString"].ConnectionString;
    SqlConnection myConnection = new SqlConnection(connectionstring);
    SqlCommand myCommand = new SqlCommand("GetNullHash", myConnection);
    myCommand.CommandType = CommandType.StoredProcedure;
    myConnection.Open();
    SqlDataReader rdr = myCommand.ExecuteReader();

    while (rdr.Read())
    {
        string filename = @"\\" + rdr.GetString(3);
        filename = System.IO.Path.Combine(filename, rdr.GetString(2));
        filename = System.IO.Path.Combine(filename, rdr.GetString(1));
        Hash = rdr.GetString(0);
        Hash = computeHash(filename);

    }
    myConnection.Close();
    return Hash;
} 
```

* * *

## 回答 #1

> 赞同：113
> 
> 时间：2013-06-24T02:14:10.270

看[这个视频](http://www.youtube.com/watch?v=uM9o8GsO_u4)，我也有同样的问题。他还向您展示了如何调试服务。

以下是他在 Visual Studio 2010/2012 中使用基本 C# Windows 服务模板的说明。

您将其添加到 Service1.cs 文件中：

```
public void onDebug()
{
    OnStart(null);
} 
```

如果您在调试活动解决方案配置中，您可以更改您的 Main() 以通过这种方式调用您的服务。

```
static void Main()
{
    #if DEBUG
    //While debugging this section is used.
    Service1 myService = new Service1();
    myService.onDebug();
    System.Threading.Thread.Sleep(System.Threading.Timeout.Infinite);

    #else
    //In Release this section is used. This is the "normal" way.
    ServiceBase[] ServicesToRun;
    ServicesToRun = new ServiceBase[] 
    { 
        new Service1() 
    };
    ServiceBase.Run(ServicesToRun);
    #endif
} 
```

请记住，虽然这是调试服务的绝佳方式。除非您像我们在函数中`OnStop()`调用的方式明确调用它，否则它不会调用。`OnStart(null)``onDebug()`

* * *

## 回答 #2

> 赞同：37
> 
> 时间：2012-07-20T06:11:37.120

**手动安装服务**

要手动安装或卸载 Windows 服务（使用 .NET Framework 创建），请使用实用程序`InstallUtil.exe`。该工具可以在以下路径中找到（使用适当的框架版本号）。

`C:\WINDOWS\Microsoft.NET\Framework\v2.0.50727\InstallUtil.exe`

安装

```
installutil yourproject.exe 
```

卸载

```
installutil /u yourproject.exe 
```

请参阅：[如何：安装和卸载服务](https://docs.microsoft.com/en-us/dotnet/framework/windows-services/how-to-install-and-uninstall-services) *(Microsoft)*

**以编程方式安装服务**

要使用 C# 以编程方式安装服务，请参阅以下类[ServiceInstaller](http://www.c-sharpcorner.com/UploadFile/sachin.nigam/InstallingWinServiceProgrammatically11262005061332AM/InstallingWinServiceProgrammatically.aspx) *(c-sharpcorner)*。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-20T06:11:26.143

您的代码与服务安装无关，这不是问题。

为了测试服务，您必须按照说明安装它。

有关安装服务的更多信息：[安装和卸载服务](http://msdn.microsoft.com/en-us/library/aa984379%28v=vs.71%29.aspx)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-20T06:17:46.747

我建议在部署时创建一个安装项目，这似乎是最好的方便，不用担心手动复制文件。按照[Windows 服务设置创建教程](http://support.microsoft.com/kb/317421)，您知道如何创建它。此实例适用于 vb.net，但适用于任何类型。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-20T06:18:01.387

安装 Open CMD 并在`{YourServiceName} -i`安装后键入`NET START {YourserviceName}`以启动您的服务

卸载

卸载打开 CMD 并输入`NET STOP {YourserviceName}`一旦停止输入`{YourServiceName} -u`，它应该被卸载

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-12-26T04:01:29.397

转到 App.config

寻找

```
<setting name="RunAsWindowsService" serializeAs="String">
    <value>True</value>
  </setting> 
```

设置为假

# java - jstl 标签在jsp文件中不起作用，在tomcat 7中出现错误

> ID：11573725
> 
> 赞同：2
> 
> 时间：2012-07-20T06:07:17.967
> 
> 标签：java, jsp, tomcat, jstl, tomcat7

我`<c:if>`在 jsp 文件中使用 jstl 标记时遇到问题。基本上我应该把它作为两个问题，尽管它们是相关的。

### 第一个问题：

在我的 WEB-INF/lib 中，我放了一个 jstl 1.2.jar

在我的 jsp 文件中，我把这个`<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>`.

在我的 jsp 文件中，我使用`<c:if>`来做一些事情。如果条件为真，它会显示一些特殊信息

基本上里面的内容`<c:if>`不起作用，因为即使条件为真，消息也不会显示。

但是如果我改用旧的命名空间，`<%@ taglib prefix="c" uri="http://java.sun.com/jstl/core"%>`. 其他的没有改变，那么if标签就起作用了，因为if标签里面的信息显示出来了。

我的第一个问题是为什么我必须在命名空间中使用 /jstl 而不是 /jsp/jstl。我正在使用jstl1.2.jar。所以我应该为 1.2 使用较新的 uri。但是，较旧的 uri 有效，但较新的 uir 无效。

### 第二个问题：

我忽略了我的第一个问题，只是使用 /jstl 作为我的命名空间，因为它使我的 Web 应用程序按照我想要的方式工作。但是，当我将 Web 应用程序部署到 tomcat 7.X 中时，它会显示以下异常：

> org.apache.jasper.JasperException: /mywebapp.jsp (line: 35, column: 10) 根据 TLD 或标记文件中的属性指令，属性测试不接受任何表达式 org.apache.jasper.compiler.DefaultErrorHandler.jspError( DefaultErrorHandler.java:42)

在 /mywebapp.jsp line:35, column:10 中，即 <c:if> 标记。

如果我将命名空间从 <%@ taglib prefix="c" uri="http://java.sun.com/jstl/core"%> 更改为 <%@ taglib prefix="c" uri="http:// /java.sun.com/jsp/jstl/core"%>，可以成功部署到tomcat，但是<c:if>标签里面的功能没有用。标记之外的其他代码`<c:if>`虽然有效。

所以我很困惑，真的很想知道如何解决这个问题。

顺便说一句，我使用的是 servlet 2.5、jsp 2.0、jstl 1.2。我确实尝试将 jsp2.0 升级到 jsp2.1 以查看是否可以解决第一个问题，但我不知道如何升级 jsp 版本。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T14:40:50.237

> *但是如果我改用旧的命名空间，`<%@ taglib prefix="c" uri="http://java.sun.com/jstl/core"%>`. 其他没有改变，那么 if 标记正在工作，因为 if 标记内的消息显示。*

如果您`standard.jar`在`/WEB-INF/lib`. 摆脱它。另请参阅[我们的 JSTL wiki 页面](https://stackoverflow.com/tags/jstl/info)。顺便说一句，我假设您没有触及 Tomcat 和 JRE 自己的`/lib`文件夹，并且没有在其中删除任何与 JSTL 相关的 JAR，或者在不小心尝试解决问题时提取了 JSTL JAR 的内容。

* * *

> *顺便说一句，我使用的是 servlet 2.5、jsp 2.0、jstl 1.2。我确实尝试将 jsp2.0 升级到 jsp2.1 以查看是否可以解决第一个问题，但我不知道如何升级 jsp 版本。我对编程很陌生。*

您绝对不应该`/WEB-INF/lib`自己提供任何 Servlet 或 JSP 库。servlet 容器（在您的情况下是 Tomcat）已经随它一起提供。另请参阅[如何在我的 Eclipse 项目中导入 javax.servlet API？](https://stackoverflow.com/questions/4076601/how-do-i-import-the-javax-servlet-api-in-my-eclipse-project/4076706#4076706)

您只需要确保您的`web.xml`根声明符合您的 servlet 容器支持的任何内容。[Tomcat 7 是与 Servlet 3.0 兼容的容器](http://tomcat.apache.org/whichversion.html)，因此您的`web.xml`根声明应如下所示：

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app 
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
    version="3.0">

    <!-- Config here. -->

</web-app> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-03-01T00:51:10.343

我今天遇到了这个问题，我只是让它按如下所述工作。我不知道这个解决方案是否适合所有人，但它确实对我有用。我是java新手，所以它可能不是最好的解决方案。

STL JSP 错误修复 - JSTL 的 Jar 文件位置

1\. 将 <%@ taglib uri="http://java.sun.com/jstl/core" prefix="c" %> 更改为：<%@ taglib uri="http://java.sun.com/ jsp/jstl/core" 前缀="c" %>

2\. 下载以下 jar 文件并将它们复制到…/WEB-INF/lib 文件夹。

[https://repo.maven.apache.org/maven2/jakarta/servlet/jsp/jstl/jakarta.servlet.jsp.jstl-api/1.2.7/jakarta.servlet.jsp.jstl-api-1.2.7。罐](https://repo.maven.apache.org/maven2/jakarta/servlet/jsp/jstl/jakarta.servlet.jsp.jstl-api/1.2.7/jakarta.servlet.jsp.jstl-api-1.2.7.jar)

[https://repo.maven.apache.org/maven2/org/glassfish/web/jakarta.servlet.jsp.jstl/1.2.6/jakarta.servlet.jsp.jstl-1.2.6.jar](https://repo.maven.apache.org/maven2/org/glassfish/web/jakarta.servlet.jsp.jstl/1.2.6/jakarta.servlet.jsp.jstl-1.2.6.jar)

# jsp - 在提交按钮上显示 div

> ID：11573726
> 
> 赞同：0
> 
> 时间：2012-07-20T06:07:21.120
> 
> 标签：jsp

这个问题可能已经被问过很多次了，我在应用不同网站上给出的方法时遇到了困难。

我有一个包含搜索字段的 JSP 页面

```
 ---------------------
|                     |   Type a Character to Search from the Database
|                     |  
 ---------------------

             =============
            |   Submit    |           
             ============= 
```

当用户输入一个字符并单击提交按钮时，我正在调用不同的 JSP“xyz.jsp”，例如

```
 <div id="searchPage">
    <%@include file="searchResult.jsp"%>
    </div> 
```

我的要求是当页面被加载时，它应该只显示搜索文本框和一个提交按钮。当他/她单击提交按钮时，应该调用并显示包含另一个 jsp 的 div。

**笔记**

***我需要保留用户在单击提交按钮上的搜索文本字段中输入的值。***

搜索页面代码

```
<div id="Search1">
    <aui:form action="......" method="post" name="searchForm" id="searchFormId">

        <aui:input id='name' name="name" label="Student Name" type="text"       value=""   size="50"/>

    </aui:form>
 </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:17:38.963

你可以做这样的事情

```
<script type="text/javascript">
function showResult(){

    var ele = document.getElementById("Search1");
    if(ele.style.display == "block") {
            ele.style.display = "block";
      }
    else {
        ele.style.display = "none";
    }

}
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:15:15.447

它是否在jsp或php或asp中都没关系。方法是一样的。你应该使用java脚本。当页面最初加载时，您应该已经隐藏了 div。当用户点击提交按钮时。将结果加载到 div 并将显示更改为 true。我希望这有帮助。

# c# - Winforms 应用程序崩溃

> ID：11573730
> 
> 赞同：0
> 
> 时间：2012-07-20T06:08:11.807
> 
> 标签：c#, winforms, crash, process, diagnostics

我正在使用 winforms 在 Visual C# 中开发一个应用程序。

该应用程序基本上是一个带有三个选项卡的屏幕。*它显示每秒在系统上运行的进程的值*（使用`System.Diagnostics.Process[]`）。

它生成和更新大量数字和计算（大约 4000/秒）。但是在 10000 次迭代或大约 45 分钟的工作之后，它就崩溃了，令人惊奇的是它总是在同一时间崩溃。

这里涉及的 RAM 只有 70mb，并且在 windows xp 和 windows 7 下的应用程序的 CPU 负载从未超过 35%。该应用程序的目的是允许用户查看系统上运行的进程以及 cpuload 和内存负载。由于安全原因，我们不能推荐任务管理器。

C# 没有通过任何`try - catch`方法捕获该错误

以下屏幕是崩溃后的示例

![在此处输入图像描述](../Images/4f0867bca3441c9a1170608ac168b950.png)

主应用程序屏幕如下所示

![在此处输入图像描述](../Images/1de1a8fa6f8461b2e23b1ba98f8bb81a.png)

有没有人遇到过应用程序在固定运行长度后崩溃的情况。

**请建议一种诊断工具或捕获此类错误的方法。**

感谢您的回复

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T06:27:05.083

如果您在这台机器上安装了 Visual Studio，您应该能够在应用程序崩溃时对其进行调试。至少您应该看到抛出了哪个异常以及在哪里抛出。

在我的应用程序中，我有一个处理程序，它捕获未捕获的异常并将它们写入日志文件。

添加到构造函数

```
AppDomain currDomain = AppDomain.CurrentDomain;
currDomain.UnhandledException += new UnhandledExceptionEventHandler(UnhandledExHandler); 
```

并添加这个处理程序

```
private void UnhandledExHandler(object sender, UnhandledExceptionEventArgs args)
{
    Exception e = (Exception)args.ExceptionObject;
    // Log the exception here
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-20T06:27:52.927

尝试将此添加到您的主要空白处的服务中

```
AppDomain.CurrentDomain.UnhandledException += CurrentDomain_UnhandledException;

        public static void CurrentDomain_UnhandledException(object sender, UnhandledExceptionEventArgs e)
        {
            // do your logging here, write to a file, or send an email
        } 
```

和

```
service.ExceptionThrown += service_ExceptionThrown;

        private static void service_ExceptionThrown(object sender, ExceptionThrownEventArgs e)
        {
            // do your logging here, write to a file, or send an email
        } 
```

如果你想在 Visual Studio 中调试你的服务，那么只需在命令行参数中通过启动选项添加 -d

![命令行参数](../Images/b0f25413a0e6ee26f6d8585a75829f06.png)

# eclipse - 在 Eclipse 中，如何计算出我有多少可执行代码行？

> ID：11573731
> 
> 赞同：0
> 
> 时间：2012-07-20T06:08:13.677
> 
> 标签：eclipse, line-numbers

我使用 Eclipse 编写了一个相当大的程序。我想吹嘘一下我的 920 行代码，但这不是一个现实的数字。有没有办法可以计算出可执行行的总数（忽略回车、注释，也许还有括号）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:22:47.787

您可以为此使用 Eclipse 插件，例如[Metrics2](http://metrics2.sourceforge.net/)（请参阅旧版本的[Metrics](http://metrics.sourceforge.net/)）。

如 Metrics2 页面所述：

> *该项目最初由 Frank Sauer 发起，但由于没有最新的 JDK 和 Eclipse 更新，我决定 Fork 并更新该项目。我要感谢弗兰克在开始这项工作时所做的所有工作。可以在此处找到已停产的项目。*

还有我听说过的[CodePro AnalytiX](https://developers.google.com/java-dev-tools/download-codepro)，但实际上从未测试过，所以不能多说。

# php - 分页错误

> ID：11573732
> 
> 赞同：0
> 
> 时间：2012-07-20T06:08:21.430
> 
> 标签：php, mysql, pagination

只有第一页有效

当我单击页面链接时

我收到这个错误

找不到对象！

在此服务器上找不到请求的 URL。引用页面上的链接似乎是错误的或过时的。请将该错误通知该页面的作者。

如果您认为这是服务器错误，请联系网站管理员。错误 404 localhost Apache/2.4.2 (Win32) OpenSSL/1.0.1c PHP/5.4.4

这是我的代码

```
<?php
        //connect to our DB
        mysql_connect( 'localhost', 'root', 'password') ;
        mysql_select_db( 'test1' ) ;

        //preparing our variable.
        if( !isset( $_GET['p'] ) ) {$_GET['p']=0;}
        $per_page= 6 ;
        $sql=  " SELECT name FROM pagination " ;
        $sql2= " SELECT name FROM pagination  ORDER BY id DESC LIMIT ".$_GET['p']."," . $per_page; 
        $query= mysql_query ( $sql2 ) ;
        $rows=  mysql_num_rows ( mysql_query ( $sql ) ) ;
        $page=  ceil ( $rows / $per_page ) ;

        while( $fetch= mysql_fetch_assoc( $query ) ) {
            echo '<p>' . $fetch['name'] . '</p>' ;
        }

        for( $i=0;$i<$page;$i++ ){

            echo' <a href="index.php?p='. ( $i * $per_page ) . '">'. ( $i + 1 ) .'</a> ' ;

        }

    ?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T06:20:17.323

这是一个 Apache 错误，意味着您在 HREF 中犯了一些错误。

据我所见，href 将产生“index.php?p=somevalue”，这是一个有效的 URL。

我看到的唯一可能是您...没有 index.php 文件？（例如，您的实际脚本不是全部小写的 index.php，而是其他的）

# c - 通过引用调用由另一个函数通过引用调用而不使用全局变量的变量

> ID：11573735
> 
> 赞同：1
> 
> 时间：2012-07-20T06:08:35.430
> 
> 标签：c

我不明白这部分。如果不允许使用全局变量，我该怎么办？例子：

```
main()
{ int z;
  function1(&z);
}

function1(int *x)
{
  function2(&x);
}

function2(int *number)
{
   ++(*number);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T06:13:44.297

`function1`打电话的时候`function2`，直接传进去`x`，不行`&x`。

```
function1(int *x)
{
  function2(x); /* not &x */
} 
```

`&x`将传递`function2`一个指向 an 的指针`int`，但它被声明为只接受一个指向 an 的指针`int`。

其他问题：`z`应该被初始化，并且函数应该有前向声明，在上面声明`main`。`main`应该声明返回一个`int`，并返回`0`成功。正如另一个答案中所述，您的其他函数也需要返回类型。

```
void function2(int *number)
{
   ++(*number);
}

void function1(int *x)
{
  function2(x);
}

int main()
{
  int z = 0;
  function1(&z);
  return 0;
} 
```

# android - 无法在列表视图项目中正确选择文本

> ID：11573739
> 
> 赞同：1
> 
> 时间：2012-07-20T06:08:54.710
> 
> 标签：android, listview, android-edittext, selection

我使用这个方法*android.text.Selection.setSelection(Spannable text, int index)*来选择 MyEditText 中的一些文本，自定义类扩展 EditText，同时移动我的手指。它在单个视图中完美运行，但是当我将它应用于 ListView 中的多个 MyEditText 项目时，它无法正常工作。

以下是我的代码，你也可以从 github 下载（[https://github.com/ruobin/unconstrained-selecting-texts](https://github.com/ruobin/unconstrained-selecting-texts)）：

**MyEditText.java**

```
 public class MyEditText extends EditText {

    public MyEditText(Context context) {
        super(context);
        initialize();
    }

    public MyEditText(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
        initialize();
    }

    public MyEditText(Context context, AttributeSet attrs) {
        super(context, attrs);
        initialize();
    }

    private void initialize() {
        setBackgroundColor(Color.WHITE);
    }

    @Override
    protected void onCreateContextMenu(ContextMenu menu) {
        // avoid to pop out the context menu
    }

    @Override
    public boolean getDefaultEditable() {
        return false;
    }

    private int offset;

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        int action = event.getAction();
        Layout layout = getLayout();
        int line = 0;
        switch (action) {
        case MotionEvent.ACTION_DOWN:
            line = layout.getLineForVertical(getScrollY() + (int) event.getY());
            offset = layout.getOffsetForHorizontal(line, (int) event.getX());
            Selection.setSelection(getEditableText(), offset);
            break;
        case MotionEvent.ACTION_MOVE:
        case MotionEvent.ACTION_UP:
            line = layout.getLineForVertical(getScrollY() + (int) event.getY());
            int curOff = layout
                    .getOffsetForHorizontal(line, (int) event.getX());
            Selection.setSelection(getEditableText(), offset, curOff);
            break;
        }
        return true;
    }

} 
```

**MyListAdapter.java**

```
public class MyListAdapter extends BaseAdapter {

    private ArrayList<String> entitys;
    private Context context;

    public MyListAdapter(Context context, ArrayList<String> entitys) {
        this.context = context;
        this.entitys = entitys;
    }

    @Override
    public int getCount() {
        if (entitys == null)
            return 0;
        return entitys.size();
    }

    @Override
    public Object getItem(int position) {
        if (entitys == null)
            return null;
        return entitys.get(position);
    }

    @Override
    public long getItemId(int position) {
        return position;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        String entity = entitys.get(position);
        MyEditText myTextView = (MyEditText) View.inflate(context,
                R.layout.list_item, null);
        myTextView.setText(entity);
        return myTextView;
    }

} 
```

**CopyTextTest2Activity.java**

```
public class CopyTextTest2Activity extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        LinearLayout ll = new LinearLayout(this);
        ListView lv = new ListView(this);
        String values;

        ArrayList<String> stringList = new ArrayList();
        for (int i = 0; i < 10; i++) {
            values = "" + i + "  sdfsfjskldfhsklhskdfsdhf"
                    + "fsdfaskhfkshdfkskdfskldf"
                    + "dfskdfhkshdfkshdkiuiouweoruweoruwoeruwoer"
                    + "opkspdfmmbb" + "" + "dsfasdfsdfsdfsdferwre";
            stringList.add(values);
        }

        MyListAdapter myAdapter = new MyListAdapter(this, stringList);
        lv.setAdapter(myAdapter);
        lv.setDescendantFocusability(ViewGroup.FOCUS_AFTER_DESCENDANTS);

        ll.addView(lv, LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT);
        // lv.setEnabled(false);
        setContentView(ll);

    }
} 
```

**list_item.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<ss.test.MyEditText xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" /> 
```

当你运行这个项目时，你会发现只有列表视图中的第一项是可选的，另外一个奇怪的事情是你不能选择你圈出的所有文本。

我的观点是 onTouchEvent 与列表视图的滚动运动不兼容，但我对此无能为力。

真的希望有人可以帮助我！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:31:49.137

> 我的观点是 onTouchEvent 与列表视图的滚动运动不兼容，但我对此无能为力。

要解决此问题，请覆盖 Activity.dispatchTouchEvent() ( [http://developer.android.com/reference/android/app/Activity.html#dispatchTouchEvent(android.view.MotionEvent](http://developer.android.com/reference/android/app/Activity.html#dispatchTouchEvent%28android.view.MotionEvent%29) ) 并将其传递给您的 ListView 并最终传递给您的View。先让它完成它的工作。然后让 View 系统完成它的工作。

# windows - 微软是否有可能在未来的版本中逐步淘汰 Win32 API？

> ID：11573741
> 
> 赞同：9
> 
> 时间：2012-07-20T06:08:57.190
> 
> 标签：windows, api, winapi, operating-system

我喜欢使用 Win32，即使是在 .Net、MFC 和 touch 的时代。我的同事对我说，在 Windows 的未来版本（Windows 9 之后）中可能无法使用 Win32 API，因为 Microsoft 可能会弃用它。

然而，这对我来说似乎是不可能的，因为 Windows 本身使用了太多的 API。如果他们摆脱低级 Win32 C 库，操作系统本身就会停止工作，他们将不得不重新编写操作系统的大部分内容（更不用说所有会被破坏的代码）。

无论如何，我对这些东西了解不多，是否有人对这是否不可能有任何技术理解？

另外，请注意，我***不是***在问 windows*是否会*在未来弃用低级 API，我知道这是推测性的。我的具体问题是关于微软这样做的**可行性**，假设他们愿意的话。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-07-20T06:48:57.243

这在技术上是可行的，但前提是他们想失去所有的市场份额。许多应用程序的内部 LOB 都是针对 Windows API 进行编码的（即使 .Net 也位于它之上，但并不严格依赖它，如 Mono 所示）。WinRT，Windows 8 中的下一件大事，构建在 Windows API 之上

Win32（它是 Windows API 本身，以及所有其他不同的部分）是构建在 NT 内核之上的子系统。我想可以制作一个禁用的内核版本（我很确定 OS/2 子系统不再存在，POSIX 层虽然存在，因为它的用户空间是可安装的）。来自Wiki的图片来说明我在说什么：

![在此处输入图像描述](../Images/243faeb820438d9b47c9145951a23b0f.png)

I don't see any reason why it wouldn't be possible to implement the .Net runtime or WinRT as a subsystem. However, the amount of work that would be probably doesn't make sense, as they would have to re-implement a lot of what's in Win32 (That's probably the reason why, in the 20 years the NT kernel has existed, only these three subsystems have been released). For the scope of what they would need to re-implement, you can look here: [http://en.wikipedia.org/wiki/Win32](http://en.wikipedia.org/wiki/Win32) It pretty much includes from Winsock to DirectX.

但是，即使他们要实现更新的内核子系统，没有 Windows API 的第一个版本也不会被任何人购买，因为他们的旧应用程序都不会运行（即使他们实现了新的子系统，然后是几个版本，删除Windows API，仍然会有依赖它的应用程序，并且会在下一个版本中崩溃，造成可怕的压力，然后没有人会购买它。看看Vista发生了什么。

# objective-c - 单元测试目标c代码时如何禁用日志记录

> ID：11573742
> 
> 赞同：1
> 
> 时间：2012-07-20T06:09:01.060
> 
> 标签：objective-c, unit-testing, logging

我需要在自动运行单元测试时禁用日志记录，以便可以显着提高测试速度（~20s vs 0.374s，现在只有几个测试，但测试代码中有一个大循环）。

我试图在测试代码头中定义一个宏，如下所示：

```
#define UNIT_TESTING 
```

在要测试的代码中，我首先检查是否定义了这样的宏：

```
#ifndef UNIT_TESTING
NSLog("whatever log");
#endif 
```

但是好像不行，我猜是不是因为我没有在要测试的代码中导入测试代码头。我不能这样做，因为即使没有进行单元测试，也不会打印日志。

我对objective c比较陌生，并且来自Java背景，我猜标题/宏定义有问题。

还有一个问题是，我是否需要为单元测试定义一个宏，不是已经有类似的东西了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:14:22.953

您需要`UNIT_TESTING`在单元测试目标的构建设置中定义。

在左侧窗格中选择您的项目，然后选择单元测试目标，然后选择 Build Settings --> All --> Preprocessor Macros。

# c++ - 本机 C++ SplitterBar 故障

> ID：11573749
> 
> 赞同：0
> 
> 时间：2012-07-20T06:09:23.153
> 
> 标签：c++, windows

我成功地做了一个分隔条；但是，当我快速移动光标时，分隔栏会出现故障。它看起来类似于 Visual Studio 2010 拆分栏。当光标快速移动时，Visual Studio 分隔栏根本不会出现故障。我假设他们和我一样使用 PatBlt。正在通过以下消息处理分隔栏：WM_LBUTTONDOWN、WM_MOUSEMOVE、WM_LBUTTONUP。这发生在我在视觉工作室中遇到过的分隔栏上。他们到底是怎么做到的？这是一个例子，[http://www.codeproject.com/Articles/3509/Splitter-Window-Tutorial](http://www.codeproject.com/Articles/3509/Splitter-Window-Tutorial)这不是我的，但做同样的事情。有关如何解决此问题的任何建议？

# oracle - Hibernate：两个数据源来初始化单个对象

> ID：11573750
> 
> 赞同：0
> 
> 时间：2012-07-20T06:09:31.680
> 
> 标签：oracle, spring, hibernate, datasource

我有两个单独的数据库模式（或 Oracle 行话中的 2 个用户表） - schemaA 和 schemaB。

在其他表中，schemaA 具有表：

`domain(id NUMBER PK, description(VARCHAR2(10))`

schemaB 有表：

`q_user(id NUMBER PK, username VARCHAR2(8) NOT NULL, domain_id NUMBER, CONSTRAINT foreign key references schemaA.domain(id))`

Java 类 QUser 具有以下属性： `Long id, String username, Domain domain`

问题：是否可以将 Hibernate 配置为使用两个不同的数据源（schemaA 和 schemaB）初始化 QUser 对象？如果是这样，我该怎么做？

我也在使用 Spring 3、Hibernate 3.6 和 Oracle 10g。

我遇到了定义多个数据源并动态交换它们的 Spring 技术，但我不确定这是否可以用于初始化单个对象。

任何帮助表示赞赏。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:22:54.760

在您的域映射中，您还可以输入架构名称。

使用 XML：

```
<class name="Domain" table="domain" catalog="schemaA"> 
```

带注释：

```
@Table(name = "domain", schema = "schemaA") 
```

然后，您不需要多个数据源。您设置了使用**schemaB用户连接的***单个*数据源（因为在**schemaB**表中，您有权访问**schemaA**表 - 因此是外键）。

# java - 从 JavaScript 实现 Java 接口失败并出现 TypeError

> ID：11573760
> 
> 赞同：3
> 
> 时间：2012-07-20T06:10:19.187
> 
> 标签：java, scripting, interface, rhino, jsr223

我有一个接口`ru.focusmedia.odp.server.scripts.api.Script`并尝试根据[http://docs.oracle.com/javase/6/docs/technotes/guides/scripting/programmer_guide/index.html](http://docs.oracle.com/javase/6/docs/technotes/guides/scripting/programmer_guide/index.html)中的示例实现它：

```
new Packages.ru.focusmedia.odp.server.scripts.api.Script() {
    ...
}; 
```

但是，这给出了以下例外：

> javax.script.ScriptException: sun.org.mozilla.javascript.internal.EcmaError: TypeError: [JavaPackage ru.focusmedia.odp.server.scripts.api.Script] 不是函数，它是 sun.org.mozilla.javascript .internal.NativeJava 包。(#1) 在第 1 行

`new Packages.java.lang.Runnable()`作品。问题是什么？

更新：我最初认为[设置线程上下文类加载器](https://groups.google.com/forum/?fromgroups#!topic/mozilla-rhino/_i-36l_yyZ0)解决了这个问题，但在脚本中的微小更改后再次发生。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-02T00:37:24.353

这是无效的 JavaScript：

```
new Object() {}; 
```

它正在使用“new”调用函数，但未能终止语句，然后一个大括号表示对象字面量的开始（这是 Java 中的有效语法；它创建了一个匿名子类）。奇怪的是，Rhino 解释器不会抱怨，但它会正确地在浏览器的引擎中抛出错误：`"SyntaxError: missing ; before statement"`

尝试使用对象文字表示法编写实现：

```
var impl = {
    run: function() {
        println('Hello, World!');
    }
}; 
```

这是一个工作示例：

```
import javax.script.Invocable;
import javax.script.ScriptEngine;
import javax.script.ScriptEngineManager;

public class RhinoTest {
    private static final String JAVASCRIPT_SRC = 
            " var impl = { " +
            "     run: function() { " +
            "         println('Hello, World!'); " +
            "     } " +
            " }; ";

    public static void main(String[] args) throws Exception {
        ScriptEngineManager factory = new ScriptEngineManager();
        ScriptEngine engine = factory.getEngineByName("JavaScript");
        engine.eval(JAVASCRIPT_SRC);

        Object impl = engine.get("impl");
        Runnable r = ((Invocable) engine).getInterface(impl, Runnable.class);
        r.run();
    }
} 
```

# google-apps-script - 使用 Apps 脚本从 Docs 将图像添加到 Google 站点

> ID：11573764
> 
> 赞同：0
> 
> 时间：2012-07-20T06:10:42.243
> 
> 标签：google-apps-script

我有一个脚本，允许用户将图像上传到 Google 文档，这部分有效，但我需要一种方法来检索图像本身，以便它可以显示在 Google 网站上。我尝试使用 doc.getUrl() 但只返回下载图像的链接。有谁知道如何实现这个或其他方式来处理图像上传效果更好？

这是我的代码：

```
 function doGet(e) {
       var app = UiApp.createApplication().setTitle("Upload");
       var formContent = app.createVerticalPanel();
       formContent.add(app.createFileUpload().setName('thefile'));
       formContent.add(app.createSubmitButton('Submit'));
       var form = app.createFormPanel();
       form.add(formContent);
       app.add(form);
       return app;
    }

    function doPost(e) {
       var fileBlob = e.parameter.thefile;
       var doc = DocsList.createFile(fileBlob);
       var url = doc.getUrl();
       Logger.log(url);
    } 
```

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:25:39.217

当您将文件上传到 Google 云端硬盘时，您不会获得该文件（或您的情况下的图像）的直接链接，因此您无法将其嵌入任何地方。

解决方案是将图像作为附件保存到 Google 协作平台页面，然后在您的 Google 协作平台页面中使用该图像。

执行此操作时，还要注意[问题 912](http://code.google.com/p/google-apps-script-issues/issues/detail?id=912)，因为您需要在公共站点上提供您的图像

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T23:59:33.387

如果您可以获得 Doc ID，那么您可以创建一个直接下载链接，如下所示：

```
https://docs.google.com/uc?export=download&id=doc_id_here 
```

因此图像嵌入标签：

```
<img src="https://docs.google.com/uc?export=download&id=doc_id_here" /> 
```

不确定下载性能，但这应该可以。

# email - 谷歌应用程序脚本中的“doc.replaceText”不起作用

> ID：11573767
> 
> 赞同：1
> 
> 时间：2012-07-20T06:11:02.873
> 
> 标签：email, google-apps-script, google-sheets

我已经搜索并搜索了这个问题的答案，但没有运气。我正在尝试使用 doc.replaceText() 替换文档中的文本。（请参阅有关从电子表格发送电子邮件的相同教程）。无论我尝试什么，%、# 或任何其他特殊字符，我的字符串都不会被替换。任何帮助，将不胜感激。

这是我的代码片段：

```
function createHtmlMessage(gradesList) 
{

  var templateDocId = ScriptProperties.getProperty("EmailTemplateDoc");
  var docId = DocsList.getFileById(templateDocId).makeCopy().getId();
  var doc = DocumentApp.openById(docId);
  var body = doc.getActiveSection();
  var html = "";

  var keys = {
      STUDENT_NAME: "student",
      GR_ENGLISH: gradesList[0],
      GR_MATHS: gradesList[1],
      GR_SCIENCE: gradesList[2],
      GR_SOCIAL: gradesList[3],
      GR_2NDLANG: gradesList[4],
      GR_3RDLANG: gradesList[5],
      GR_COMPUTERS: gradesList[6],
      REMARKS: "remarks"
  };

  for ( var k in keys ){
     var source = k;
     var dest = keys[k];
     body.replaceText("%" + k + "%", keys[k]);
  }
  html = getDocAsHtml(docId);

  DocsList.getFileById(docId).setTrashed(true);
  return html;
} 
```

我所有的“密钥”都出现在文档中，前后都有“%”符号。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:30:46.080

我看到您在进行更改后将文档丢弃。不确定目的在任何情况下，您都应该在进行更改后尝试 Document.saveAndClose()。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:44:01.617

您需要先将文档保存为 HTML

```
for ( var k in keys ){
     var source = k;
     var dest = keys[k];
     body.replaceText("%" + k + "%", keys[k]);
  }
doc.saveAndClose();
html = getDocAsHtml(docId); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T06:58:23.403

你看到[这篇](https://stackoverflow.com/questions/10627356/how-to-use-method-replacetextsearchpattern-replacement-in-documents-service)关于同一主题的帖子了吗？

另外，我不确定Srik 所说的关于保存的内容，因为我们不知道您的`getDocAsHtml(docId)` 功能是什么……也许您也可以发布那部分？

**编辑：**我刚刚测试了您的代码，替换部分按预期工作......我怀疑问题出在转换为 html 中。您应该保留您丢弃的文档以查看该文档是否正常。

# c# - 使用 IOC 容器的配置文件绑定覆盖代码内绑定

> ID：11573772
> 
> 赞同：3
> 
> 时间：2012-07-20T06:11:30.157
> 
> 标签：c#, dependency-injection, inversion-of-control, castle-windsor, ninject

在我们正在进行的项目中，我们使用 Castle Windsor 作为 IOC 容器。目前，为了灵活性，我们在配置文件中指定了所有依赖项。

我们的配置文件有点大，为了使绑定更容易管理，我更愿意将它们放在代码中。当然，这意味着我失去了在生产环境中轻松更改某些绑定的灵活性。

我想知道是否可以让配置文件中的绑定覆盖代码中的绑定。这意味着我可以在代码中指定所有默认绑定，然后如果我想在生产中更改绑定，则添加一个配置文件，但有一些例外。

因为我使用的是温莎城堡，所以我对这在温莎城堡是否可行很感兴趣。但是，我们正在考虑迁移到不同的 IOC 容器（例如 NInject）。因此，如果另一个人可以做得更好，那么我也对那一点信息感兴趣。

（PS：我也在研究自动绑定，因为我们的大多数接口都只是用于单元测试目的，并且只有一个类用相同的名称减去“I”来实现它。我什至考虑将这些接口放入与实现相同的文件。）

提前致谢。

## 更新

我找到[了一个不错的 Ninject 扩展，它可以让我以](https://github.com/ninject/ninject.extensions.conventions/wiki/Projecting-Services-to-Bind)我想要的方式进行自动绑定。我还发现[了一个用于进行 XML 绑定的 Ninject 扩展](https://github.com/ninject/ninject.extensions.xml/wiki)。但是，我找不到这些 XML 绑定是否会覆盖代码绑定。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-14T19:14:23.717

我通过代码绑定实现了我认为您所追求的灵活性，但这可能不是您想要的设计类型......

我将我的功能拆分为模块（具有一个且只有一个实现 IModule 接口的类的程序集）。每个组件中 IModule 的实现将该组件中的所有实现类注册到 DI 容器中。然后我有一个模块加载器类，它扫描程序集，寻找该程序集的 IModule 实现并调用适当的模块加载方法。这样，每个程序集都是自包含的，当我想切换实现时，我可以从字面上放入我想要的任何程序集。

有了这种能力，您就可以决定如何拆分您的程序集，使其与您想要换出的实现一样细化。如果您想要很大的灵活性，那么这是非常繁重的组装，这就是为什么它不是每个人的策略。

在我的研究中，我发现 Windsor 开发人员认为覆盖绑定是一种不好的做法，因此几乎没有提供这样做的能力。

# ios - 图像动画数组的延迟

> ID：11573775
> 
> 赞同：2
> 
> 时间：2012-07-20T06:11:54.027
> 
> 标签：ios, animation, uiimageview, ipad-3

我的图像视图动画有很大的延迟。

我正在创建基于导航的应用程序。

在我的第三个视图控制器的 viewDidLoad 中，我创建了一个图像视图并将其添加为子视图。

```
self.myImageView = [[UIImageView alloc]initWithFrame:CGRectMake(259, 46, 496, 470)];
self.myImageView.image = [UIImage imageNamed:@"foo.png"];
[self.view addSubview:self.myImageView]; 
```

并单击一个按钮，我想将 myImageView 从一个动画切换到另一个动画。

有两个动画图像数组，我在 viewDidLoad 中初始化，但调用 [self.myImageView startAnimating] 需要一些延迟；首次。

在我的按钮上单击我的图像视图动画如下：

```
 self.myImageView.animationImages = self.openAnimationArray;
    [self.myImageView startAnimating];
    self.myImageView.animationRepeatCount = 0; 
```

在下一个按钮按下时，我使用另一组图像数组为相同的 ImageView 设置了动画。

```
self.myImageView.animationImages = self.closeAnimationArray;
[self.myImageView startAnimating];
self.myImageView.animationRepeatCount = 0; 
```

我的第一个问题是导航到我的第三个视图控制器时的延迟。为了避免这种延迟，我在 app Delegate [UIApplication sharedApplication].delegate 中初始化并存储了 closeAnimationArray 和 openAnimationArray。

我仅在第一次导航到第三个视图控制器时遇到这种延迟。我认为这可能是由于图像的缓存，第二次navigation.UIImage imageNamed函数缓存图像没有延迟。所以为了避免第一次导航的延迟，我强制从应用程序委托本身加载图像。

```
 NSArray * openAnimationArray = [NSArray arrayWithObjects:[UIImage imageNamed:@"1.png"],[UIImage imageNamed:@"2.png"],[UIImage imageNamed:@"3.png"],[UIImage imageNamed:@"4.png"],[UIImage imageNamed:@"5.png"], nil];
    for (id object in openAnimationArray) 
    {

        [object forceLoad];

    } 
```

力加载方法如下：

```
- (void) forceLoad
{
    const CGImageRef cgImage = [self CGImage];  

    const int width = CGImageGetWidth(cgImage);
    const int height = CGImageGetHeight(cgImage);

    const CGColorSpaceRef colorspace = CGImageGetColorSpace(cgImage);
    const CGContextRef context = CGBitmapContextCreate(
                                                       NULL, 
                                                       width, height, 
                                                       8, width * 4, 
                                                       colorspace, kCGImageAlphaNoneSkipFirst);

    CGContextDrawImage(context, CGRectMake(0, 0, width, height), cgImage);
    CGContextRelease(context);
} 
```

但是第一次动画仍然有延迟。它非常严重地影响了我的应用程序性能。我怎么解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T11:23:44.367

尝试这个：

```
 NSArray * openAnimationArray = [NSArray arrayWithObjects:[UIImage initWithContentsOfFile:@"1.png"],[UIImage initWithContentsOfFile:@"2.png"],[UIImage initWithContentsOfFile:@"3.png"],[UIImage initWithContentsOfFile:@"4.png"],[UIImage initWithContentsOfFile:@"5.png"], nil]; 
```

`UIImage initWithContentsOfFile:@"2.png"]`比 快`[UIImage imageNamed:@"2.png"]`。因为它加载没有缓存的图像。

# curl - OpenStack API - cURL 请求管理程序信息

> ID：11573780
> 
> 赞同：0
> 
> 时间：2012-07-20T06:12:04.983
> 
> 标签：curl, openstack, hypervisor

我正在使用 cURL 向 OpenStack API 发出一些 HTTP 请求，以收集有关我的 OpenStack 部署的信息。我使用“http://api.openstack.org/”作为关于不同请求集的 URI 信息。但是，我需要有关虚拟机管理程序的信息：它的 IP 地址等。我无法找到从我部署的 OpenStack 云中访问虚拟机管理程序信息的方法。

为了尝试不同的事情，我查看了 python nova-client 文档中使用的 URI，它最近添加了 OpenStack 管理程序信息选项，它使用了类似“/os-hypervisors/detail/”的 URI，但这对我不起作用。它只是给了我一个 HTTP 404 错误。

有人可以帮我找到一种使用 cURL 请求获取管理程序信息（至少 IP 地址）的方法吗？

注意：我使用的是 OpenStack 暗黑破坏神版本。除了 nova-volume 和 Swift，我运行了所有服务。

PS如果您需要更多信息，请告诉我。我很乐意为您提供。我真的需要让这个工作。

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T04:35:04.757

老实说，我不确定暗黑破坏神中是否存在这些 API 查询。您可能想要升级。自从暗黑破坏神以来已经有了很多进步。事实上，grizzly 的发布已经接近尾声。现在是考虑升级的好时机。

或者，您可以绑定到后端监控系统以直接查询 libvirt。我以前做过这个并取得了巨大的成功。我使用 nagios 样式插件通过 NRPE 查询节点上的 libvirt 并返回信息。并且 NRPE 可以在简单的 nagios 报告环境之外使用，以提供自定义报告数据集。

# regex - 使用 PERL 正则表达式替换删除一个 HTML 表但不删除另一个

> ID：11573783
> 
> 赞同：1
> 
> 时间：2012-07-20T06:12:46.003
> 
> 标签：regex, perl

我仍在学习 PERL，因此您可以提供的任何帮助将不胜感激。我确信我正在查看的问题有一个简单的答案，但我不确定我是否能弄清楚。在此先感谢您的帮助！

我有一个 txt 文件，里面有一堆 HTML 代码。我要删除许多 HTML 表格。但是，有一对我想保留。这些表，守门员，里面有特定的词。

假设 $txt 代表文本文档

```
$txt = "<TABLE> The brown dog runs </TABLE> 
        Here is another animal 
        <TABLE> The black cat walks </TABLE> 
        Here is another animal
        <TABLE> The Orange snake slithers </TABLE> 
        Here is another animal   
        <TABLE> Green lizard crawls </TABLE> 
        Here is another animal 
        <TABLE> The brown bird flys </TABLE> 
        Here is another animal          
        <TABLE> The green duck flys </TABLE> 
        Here is another animal"; 
```

我想保留任何有棕色动物飞行动物的桌子。我不想保留任何其他表。（我想保留第 1、第 5 和第 6 张桌子并摆脱其余的桌子）。因此，如果表中包含 brown 一词或 flys 一词，请保留该表，如果没有则删除该表。

在其他情况下，我使用以下正则表达式来删除表格，但这将删除所有表格。

```
$txt =~ s{(<Table>.*?)(</Table>)}{table_was_here}ismog; 
```

我如何修改此代码以保留包含某些文本字符串的表？

再次感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:18:06.167

将其更改为：

```
$txt =~ s{(<Table>.*?(brown|flys).*?(</Table>)}{table_was_here}ismog; 
```

（小记，正确的拼写是“flies”，不是“flys”）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T17:38:40.147

以下两种方法都可以：

```
$txt =~ s{<TABLE>.*?</TABLE>}{$_ = $&; /brown|flys/ ? $_ : ''}isge;

for ( $txt =~ m{<TABLE>.*?</TABLE>}isg ) {
    $txt =~ s/$_// if !/brown|flys/;
} 
```

两者的输出：

```
<TABLE> The brown dog runs </TABLE> 
Here is another animal 

Here is another animal

Here is another animal   

Here is another animal 
<TABLE> The brown bird flys </TABLE> 
Here is another animal          
<TABLE> The green duck flys </TABLE> 
Here is another animal 
```

希望这可以帮助！

# html - 无法在 IE7 中删除 1px 行

> ID：11573790
> 
> 赞同：0
> 
> 时间：2012-07-20T06:13:35.700
> 
> 标签：html, css, internet-explorer-7

IE7 中的问题（也可能在 IE6 中）。在文档的顶部有一条高度为 1px 的灰线。可能是什么原因造成的？所有边距和填充设置为零。

你可以在[这里看到网站](http://eservi.bakuforum-icd.az/)

在浏览器中看不到的人的屏幕截图：![在此处输入图像描述](../Images/dbbaa1d4b2e91231c85667d73a93a74e.png)

如果放大，您会在页面周围看到 1px 边框

**民间！我认为*@Dominik Kirschenhofer*是对的。这是浏览器的边框，而不是页面的边框。我什至打开了google.com，也有相同的边框。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:33:03.823

IE7 正在为您的网站添加边框。尝试添加`border:0px;`到你的身体。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:41:48.963

您是否尝试过重置所有属性？首先使用这个CSS？

[http://meyerweb.com/eric/tools/css/reset/](http://meyerweb.com/eric/tools/css/reset/)

也尝试像这样重置 html 标记：

```
*, html {
  margin: 0;
  padding: 0;
} 
```

并且还尝试先删除`overflow: auto;`你的css中的。[general.css 第 2 行]

# html - 面包屑中的 css3 加载器对齐

> ID：11573792
> 
> 赞同：0
> 
> 时间：2012-07-20T06:13:49.673
> 
> 标签：html, css, alignment, loader

我在面包屑菜单中放置了一个 css 加载器 div，但加载器正在将文本向下推。如何在同一行中获取加载程序和文本。

这是我的演示 [http://jsfiddle.net/jFAyX/2/](http://jsfiddle.net/jFAyX/2/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:20:50.200

你可以像这样设计你的加载器：

```
.loader{
    width:13px; height:16px; 
    position: absolute;
    margin-left: -10px;
} 
```

绝对定位可以相对于非静态定位的父元素定位元素，并且不会干扰静态定位的兄弟元素。如果它是静态的，它的位置将从它所在的位置开始。我将它向左移动了一点，使用负的左边距，这样它就不会覆盖面包屑文本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:31:48.323

只需制作 .loader 内联块

```
​.loader{display:inline-block;}​ 
```

[小提琴](http://jsfiddle.net/jFAyX/5/)

# ios - 音频单元录制：增加缓冲区的音量

> ID：11573796
> 
> 赞同：3
> 
> 时间：2012-07-20T06:14:05.077
> 
> 标签：ios, xcode, core-audio, audiounit

我正在为我使用远程音频单元的 iPhone 构建一个录音应用程序。在对传入缓冲区执行一些音频分析后，我使用以下方法将缓冲区写入磁盘：

ExtAudioFileWriteAsync

但是，我遇到的问题是记录的缓冲区比我想要的要安静。

我想通过在写入磁盘之前手动将它们乘以体积因子来增加缓冲区的体积。任何人都可以向我解释最好的方法吗？

（由于各种原因，在最后阶段进行手动调整比更改任何音频单元属性更有吸引力，否则这对我的应用程序来说效果很好。）

提前致谢！！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-20T10:51:56.720

您可以使用`Accelerate.framework`它快速轻松地完成此操作。由于您使用的是 AudioUnits，我假设您已经对浮点缓冲区进行了去交错处理，所以这样的事情应该可以工作：

```
float desiredGain = 1.06f; // or whatever linear gain you'd like
AudioBufferList *ioData; // audio from somewhere
for(UInt32 bufferIndex = 0; bufferIndex < ioData->mNumberBuffers; ++bufferIndex) {
  float *rawBuffer = (float *)ioData->mBuffers[bufferIndex].mData;
  vDSP_Length frameCount = ioData->mBuffers[bufferIndex].mDataByteSize / sizeof(float); // if you don't have it already
  vDSP_vsmul(rawBuffer, 1, &desiredGain, rawBuffer, 1, frameCount);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T08:31:26.320

你可能想多了这个问题。:-) 您只需要遍历缓冲区中的值并将每个值乘以所需的增益因子。

# asp.net - IIS 7 如何将客户端证书与数据库中的用户帐户映射？

> ID：11573798
> 
> 赞同：7
> 
> 时间：2012-07-20T06:14:12.927
> 
> 标签：asp.net, ssl, iis-7, certificate

据说[http://blogs.iis.net/webtopics/archive/2010/04/27/configuring-many-to-one-client-certificate-mappings-for-iis-7-7-5.aspx](http://blogs.iis.net/webtopics/archive/2010/04/27/configuring-many-to-one-client-certificate-mappings-for-iis-7-7-5.aspx)

当客户端证书用于用户身份验证时，Internet 信息服务 (IIS) 使用多对一客户端证书映射将最终用户与**Windows 帐户相关联。**

如果我不想使用 Windows 帐户但使用自定义数据库或会员中的帐户进行映射怎么办？

如何在 asp.net 中做到这一点（某处的示例代码？）

嗯：没人知道吗？将不得不很快给予赏金:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-21T19:32:21.493

美国国防部将此用于 CAC。本质上，您只需存储证书的某些部分（例如 SUBJECT），然后与此进行比较以进行身份​​验证。

在 ASP.Net 中，您可以这样访问客户端证书：

> Request.ClientCertificate.Subject

许多证书主体将具有唯一的 ID，因此证书 ID 用于覆盖个人姓名的更改。

# asp.net - 如何在 asp.net mvc 3 中禁用浏览器缓存？

> ID：11573803
> 
> 赞同：5
> 
> 时间：2012-07-20T06:14:32.627
> 
> 标签：asp.net, asp.net-mvc-3

我已经创建了我的自定义身份验证。现在我想在注销按钮单击时禁用浏览器缓存。我该怎么做？我应该在注销操作中包含哪些内容？

我正在关注：[http ://www.bradygaster.com/custom-authentication-with-mvc-3.0](http://www.bradygaster.com/custom-authentication-with-mvc-3.0)

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-07-20T06:45:16.563

您是否关心注销后浏览器的后退按钮？

如果是，那么您不应该在注销时禁用缓存。您应该在所有不想被缓存的页面上禁用它，在您的情况下，这些页面都是经过身份验证的页面。

这可以通过编写自定义操作过滤器来完成：

```
public class NoCacheAttribute : ActionFilterAttribute
{
    public override void OnResultExecuting(ResultExecutingContext filterContext)
    {
        var response = filterContext.HttpContext.Response;
        response.Cache.SetExpires(DateTime.UtcNow.AddDays(-1));
        response.Cache.SetValidUntilExpires(false);
        response.Cache.SetRevalidation(HttpCacheRevalidation.AllCaches);
        response.Cache.SetCacheability(HttpCacheability.NoCache);
        response.Cache.SetNoStore();
    }
} 
```

然后用它装饰你的动作：

```
[Authorize]
[NoCache]
public ActionResult Foo()
{
    ...
} 
```

# android - Android Eclipse 问题无法创建 BuildConfig 类

> ID：11573810
> 
> 赞同：9
> 
> 时间：2012-07-20T06:14:58.887
> 
> 标签：android, eclipse, adt

在 Eclipse 中清理 android 项目时出现“无法创建 BuildConfig 类”错误。我最近为移动开发人员安装了 Eclipse Juno，当我尝试导入现有的 android 应用程序时，Eclipse 开始给我这种错误。

如果我创建新的 android 项目，Eclipse 工作正常。此问题的可能原因和可能的解决方案是什么？

我正在使用操作系统 - Windows Server 2008

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-29T19:32:49.333

更新（安装）Juno 并让它迁移我的工作区和本地 git 存储库后出现错误。在该错误之前，我遇到了另一个错误：

```
JavaBuilder handling ImageBuilderInternalException while building: <projectname> 
```

最后我发现错误是由文件权限引起的，重置它们后问题解决了：

```
chown <me>:<me> <my-repo> 
```

权限被破坏的原因：在将 MOTODEV 插件安装到 Eclipse JUNO 的过程中，我必须使用“sudo”启动我的 Eclipse。显然，在自动构建期间运行覆盖了我的一些文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-30T16:59:17.960

这从来没有发生在我身上。我尝试在 Juno Eclipse for Mobile 中导入旧工作区，这没问题。我还尝试只导入一个旧的 android 项目，它没有错误。您使用的是哪个 ADT 版本？

我还发现了一个与[9-patch](http://code.google.com/p/android/issues/detail?id=22847&can=1&q=BuildConfig&colspec=ID%20Type%20Status%20Owner%20Summary%20Stars)相关的问题，也许是你的情况。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-12T16:03:54.430

打开以前受源代码控制的项目副本时，我遇到了这个问题，并且

`\gen\{com\foo\namespace}\BuildConfig.java`文件是只读的。

取消选中只读标志对`BuildConfig.java`我有用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-12-17T11:36:25.493

I had similar issue with Windows 10 and Eclipse. It occurred in the middle of session between two builds. I tried restarting Eclipse, tried in vain to change permissions but nothing helped.

I finally rebooted my laptop and problem was gone.

# c++ - 具有背景颜色的编辑框不显示文本

> ID：11573816
> 
> 赞同：1
> 
> 时间：2012-07-20T06:15:56.733
> 
> 标签：c++, winapi, onpaint, editbox

我使用 Win32 C++ 创建了编辑框。我对它进行了子类化并覆盖了 OnPaint 方法，在其中我用一些背景颜色填充它。

现在，如果我输入一些文本，我将看不到任何文本，但我可以看到光标移动。

如果我不放任何背景颜色，我可以在编辑框中看到文本。

知道为什么我没有收到带有背景颜色的文本吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T06:58:58.167

您不应该为编辑控件处理 WM_PAINT。在这里，您只是尝试填充背景颜色，但在此过程中，您不允许原始编辑控制过程绘制内容，在这种情况下，它是您输入的文本。光标将可见，因为它是使用 ShowCaret 函数显示的。

所以如果你只想改变编辑控件的背景颜色，在父窗口中处理 WM_CTLCOLOREDIT 和 WM_CTLCOLORSTATIC 并返回画笔。参考[http://msdn.microsoft.com/en-us/library/windows/desktop/bb761691%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/bb761691%28v=vs.85%29.aspx)

# python - 如何使用 Python ftplib 通过 FTP 下载文件

> ID：11573817
> 
> 赞同：76
> 
> 时间：2012-07-20T06:15:58.503
> 
> 标签：python, ftp, ftplib

我有以下代码可以轻松连接到 FTP 服务器并打开一个 zip 文件。我想将该文件下载到本地系统中。怎么做？

```
# Open the file for writing in binary mode
print 'Opening local file ' + filename
file = open(filename, 'wb')

# Download the file a chunk at a time
# Each chunk is sent to handleDownload
# We append the chunk to the file and then print a '.' for progress
# RETR is an FTP command

print 'Getting ' + filename
ftp.retrbinary('RETR ' + filename, handleDownload)

# Clean up time
print 'Closing file ' + filename
file.close() 
```

* * *

## 回答 #1

> 赞同：74
> 
> 时间：2012-07-20T06:28:45.990

```
handle = open(path.rstrip("/") + "/" + filename.lstrip("/"), 'wb')
ftp.retrbinary('RETR %s' % filename, handle.write) 
```

* * *

## 回答 #2

> 赞同：37
> 
> 时间：2012-07-20T06:33:22.760

```
A = filename

ftp = ftplib.FTP("IP")
ftp.login("USR Name", "Pass")
ftp.cwd("/Dir")

try:
    ftp.retrbinary("RETR " + filename ,open(A, 'wb').write)
except:
    print "Error" 
```

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2016-09-27T07:57:02.790

```
FILENAME = 'StarWars.avi'    

with ftplib.FTP(FTP_IP, FTP_LOGIN, FTP_PASSWD) as ftp:
    ftp.cwd('movies')
    with open(FILENAME, 'wb') as f:
        ftp.retrbinary('RETR ' + FILENAME, f.write) 
```

当然，处理可能的错误是明智之举。

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2015-01-20T11:51:36.143

Python 标准库中的`ftplib`模块可以比作汇编程序。使用高级库，例如：[https ://pypi.python.org/pypi/ftputil](https://pypi.python.org/pypi/ftputil)

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2019-01-02T12:29:03.600

请注意，如果您从 FTP 下载到本地，则需要使用以下内容：

```
with open( filename, 'wb' ) as file :
        ftp.retrbinary('RETR %s' % filename, file.write) 
```

否则，脚本将在您的本地文件存储而不是 FTP。

我花了几个小时自己犯了这个错误。

下面的脚本：

```
import ftplib

# Open the FTP connection
ftp = ftplib.FTP()
ftp.cwd('/where/files-are/located')

filenames = ftp.nlst()

for filename in filenames:

    with open( filename, 'wb' ) as file :
        ftp.retrbinary('RETR %s' % filename, file.write)

        file.close()

ftp.quit() 
```

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2015-08-09T22:29:29.537

这是一个对我来说很好的 Python 代码。评论是西班牙语，但应用程序很容易理解

```
# coding=utf-8

from ftplib import FTP                                                                      # Importamos la libreria ftplib desde FTP

import sys

def imprimirMensaje():                                                                      # Definimos la funcion para Imprimir el mensaje de bienvenida
    print "------------------------------------------------------"
    print "--               COMMAND LINE EXAMPLE               --"
    print "------------------------------------------------------"
    print ""
    print ">>>             Cliente FTP  en Python                "
    print ""
    print ">>> python <appname>.py <host> <port> <user> <pass>   "
    print "------------------------------------------------------"

def f(s):                                                                                   # Funcion para imprimir por pantalla los datos 
    print s

def download(j):                                                                            # Funcion para descargarnos el fichero que indiquemos según numero    
    print "Descargando=>",files[j]      
    fhandle = open(files[j], 'wb')
    ftp.retrbinary('RETR ' + files[j], fhandle.write)                                       # Imprimimos por pantalla lo que estamos descargando        #fhandle.close()
    fhandle.close()                                                     

ip          = sys.argv[1]                                                                   # Recogemos la IP       desde la linea de comandos sys.argv[1] 
puerto      = sys.argv[2]                                                                   # Recogemos el PUERTO   desde la linea de comandos sys.argv[2]
usuario     = sys.argv[3]                                                                   # Recogemos el USUARIO  desde la linea de comandos sys.argv[3]
password    = sys.argv[4]                                                                   # Recogemos el PASSWORD desde la linea de comandos sys.argv[4]

ftp = FTP(ip)                                                                               # Creamos un objeto realizando una instancia de FTP pasandole la IP
ftp.login(usuario,password)                                                                 # Asignamos al objeto ftp el usuario y la contraseña

files = ftp.nlst()                                                                          # Ponemos en una lista los directorios obtenidos del FTP

for i,v in enumerate(files,1):                                                              # Imprimimos por pantalla el listado de directorios enumerados
    print i,"->",v

print ""
i = int(raw_input("Pon un Nº para descargar el archivo or pulsa 0 para descargarlos\n"))    # Introducimos algun numero para descargar el fichero que queramos. Lo convertimos en integer

if i==0:                                                                                    # Si elegimos el valor 0 nos decargamos todos los ficheros del directorio                                                                               
    for j in range(len(files)):                                                             # Hacemos un for para la lista files y
        download(j)                                                                         # llamamos a la funcion download para descargar los ficheros
if i>0 and i<=len(files):                                                                   # Si elegimos unicamente un numero para descargarnos el elemento nos lo descargamos. Comprobamos que sea mayor de 0 y menor que la longitud de files 
    download(i-1)                                                                           # Nos descargamos i-1 por el tema que que los arrays empiezan por 0 
```

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2020-10-19T07:14:32.997

如果您不限于使用`ftplib`，您也可以`wget`尝试使用模块。这是片段

```
import wget
file_loc = 'http://www.website.com/foo.zip'
wget.download(file_loc) 
```

# jboss7.x - 使用 Netbeans7 配置 JBoss 7 时出错

> ID：11573818
> 
> 赞同：2
> 
> 时间：2012-07-20T06:16:11.090
> 
> 标签：jboss7.x, netbeans-7

我想在 Netbeans 7.0.1 中配置 Jboss 7.1.1 final。但我收到错误“提供 JBoss 应用程序服务器 6、5、4 位置”。如何添加最新的 JBoss AS？

请帮我。提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-31T03:25:23.483

不幸的是，至少从 NetBeans 7.2 开始，NetBeans 不支持 JBoss AS 7。添加支持的[补丁](http://netbeans.org/bugzilla/show_bug.cgi?id=200132)已经存在了一段时间，但遗憾的是没有在 7.2 版本中合并。NetBeans 社区对 AS7 的兴趣似乎相对较小。

我最终放弃了支持 AS 7 的 NetBeans，转而使用[JBoss Developer Studio——](http://www.jboss.com/products/devstudio/)基本上是 Eclipse 和 JBoss Tools 的汇总，预装了 AS7 支持，一些错误修复和润色。

我错过了一些 NetBeans 功能，并且花了一些时间学习，但总的来说我很高兴，并且有足够多的非常好的东西，我不会费心回去。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-14T02:53:27.033

I was stuck with JBoss 6.1 until I coded my own solution to deploy my projects.

Check the ant script here: [https://stackoverflow.com/a/13372389/980442](https://stackoverflow.com/a/13372389/980442)

# iphone - 从ios中的PID获取应用程序的捆绑ID

> ID：11573822
> 
> 赞同：2
> 
> 时间：2012-07-20T06:16:36.493
> 
> 标签：iphone, bundle, jailbreak, launch, pid

我正在尝试获取当前在 iphone 上运行的所有后台应用程序的列表。我可以这样做，但我实际上得到的是所有后台应用程序 PID 的列表。

所以我有两个问题，

首先，我能够使用其捆绑 ID 启动一个应用程序，但不能使用其 PID。是否可以使用 PID 启动应用程序？

其次，如果我只有它的 PID，有没有办法访问应用程序包 ID？

我知道这可以在mac上完成

```
[[NSRunningApplication runningApplicationWithProcessIdentifier:pid] bundleIdentifier] 
```

但是可以在iphone上完成吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T07:38:39.533

我在 iOS（公共或私有）5.0 标头中找不到`NSRunningApplication`（我很确定我到处检查过，但我可能是错的......）

可能有多种方法可以做到这一点，但其中一种应该可以工作......

首先，获取有关正在运行的进程的信息。如果您无法获取捆绑 ID，但可以获取应用程序的**路径**，那就足够了。您可以通过以下几种方式之一做到这一点：

**1）** [看到这个关于堆栈溢出的答案](https://stackoverflow.com/questions/8275578/how-to-get-information-about-free-memory-and-running-processes-in-an-app-store-a)或者[这个](https://stackoverflow.com/a/8278785/119114)答案。我不确定这些技术是否可以使用可执行路径......我没有深入探索它们。

**2）**可以**通过**`ps`shell命令获取进程信息。例如，`ps -Aef`在命令行中使用命令：

```
iPhone4:~/Applications/8AA99EA8-9CFC-4C17-9BD1-7C2812EDAAD4/Starbucks.app mobile$ ps -Aef
  UID   PID  PPID   C     STIME TTY           TIME CMD

  501   281     1   0   0:00.00 ??         1:02.39 /Applications/MobilePhone.app/MobilePhone
  501   282     1   0   0:00.00 ??         2:26.40 /Applications/MobileMail.app/MobileMail
  501   479     1   0   0:00.00 ??         5:45.01 /Applications/MobileSafari.app/MobileSafari
  501   490     1   0   0:00.00 ??         0:45.62 /Applications/Music~iphone.app/Music~iphone
  501   912     1   0   0:00.00 ??         0:17.65 /var/mobile/Applications/8AA99EA8-9CFC-4237-9BD1-7C2812AAAAD4/Starbucks.app/Starbucks
  501  1933     1   0   0:00.00 ??         0:51.72 /var/mobile/Applications/9962D9AE-087C-4D2E-A6AB-151230DBCDB09/Skype.app/Skype
  501  2106     1   0   0:00.00 ??         1:11.68 /var/mobile/Applications/20DCED79-B1EE-48F4-B3E1-75E9C25A0908C/Netflix.app/Netflix
  501  2259     1   0   0:00.00 ??         0:03.83 /Applications/Stocks.app/Stocks
  501  2292     1   0   0:00.00 ??         0:07.05 /var/mobile/Applications/33713030-9D3D-4BAC-8182-282973B2E5E0/ZillowMap.app/ZillowMap
  501  2568     1   0   0:00.00 ??         0:12.91 /var/mobile/Applications/55216130-10D8-498C-B477-AD18A4982E18/eBay.app/eBay
  501  2587     1   0   0:00.00 ??         0:05.10 /var/mobile/Applications/2A8DEAAD-8244-45C0-BEA9-20DA290B0117/Moviefone.app/Moviefone 
```

我删除了一些输出，但您可以看到一些正在运行的应用程序 (*.app)。

因此，在您的应用程序中，您可以`"ps -Aef >> /var/mobile/Library/MyAppName/ps.txt"`使用`system`or`exec`调用运行，将输出发送到临时文件。然后，解析该文件以获得结果。

**3）**我还在网上找到了一份达尔文开源的副本，并对其进行了一些修改，以将此类数据收集到一个可以通过编程方式解析的 C 字符串缓冲区中。在此处获取标头和 .c 文件：

[达尔文.c](http://pastebin.com/EDWtGrhc)

[达尔文.h](http://pastebin.com/kiNEU669)

在您的 Xcode 项目中包含这两个文件，并且`#include "darwin.h"`. 然后，像这样使用它：

```
OS_initialize();
size_t buffSize = 20000;  // you may need to increase this!
char buffer[buffSize];

int bytes = OS_get_table(buffer, buffSize);
if (bytes > 0) {
    self.textView.text = [NSString stringWithCString: buffer encoding: NSASCIIStringEncoding];
} 
```

现在您有了应用程序的安装位置，打开这些目录下的 Info.plist

```
NSString* filename = @"/var/mobile/Applications/8AA99EA8-9CFC-4237-9BD1-7C2812EDAAD4/Starbucks.app/Info.plist";
NSDictionary* dict = 
    [[NSDictionary alloc] initWithContentsOfFile: filename];
NSString* bundleID = [dict valueForKey: @"CFBundleIdentifier"]; 
```

并阅读他们的捆绑包 ID。

为了完成这项工作，您可能需要为您的应用程序获得 root 权限。

[请参阅此处了解如何执行此操作](https://stackoverflow.com/a/8796556/119114)。

# firefox-addon - 仅使用 Firefox Addon SDK 在后台嵌入 NPAPI 插件

> ID：11573825
> 
> 赞同：1
> 
> 时间：2012-07-20T06:17:02.467
> 
> 标签：firefox-addon, npapi, firefox-addon-sdk, firebreath

我最近结合 Google Chrome 扩展开发了一个 NPAPI 插件（使用 FireBreath）。我正在使用 *background.html页面嵌入插件并从***多个**扩展页面访问它。因此，插件保持加载在后台页面中（直到卸载扩展或关闭浏览器）。

我现在正在寻找将此扩展移植到 Firefox 的最简单方法。使用插件 SDK 和它的 API，我可以重现插件代码和 HTML 用户界面之间的通信。

由于没有像 Chrome 扩展中那样的全局背景 DOM，我如何只加载一次 NPAPI 插件，而不将它插入到应用程序 UI 的每个页面中？

我已经看到使用[XUL 覆盖](https://stackoverflow.com/questions/7458530/cannot-access-npapi-functions-in-firefox-extension "XUL 覆盖")可以做到这一点 - 有没有办法只使用插件 sdk？

* * *

**编辑：**我已经使用页面工作者为这个问题提供了一个最小的解决方案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-20T23:05:32.813

您需要查看 page-worker 模块：

[https://addons.mozilla.org/en-US/developers/docs/sdk/1.8/packages/addon-kit/page-worker.html](https://addons.mozilla.org/en-US/developers/docs/sdk/1.8/packages/addon-kit/page-worker.html)

我要警告的是，NPAPI 插件可能已经对它运行的环境的可见性或其他细节做出了假设，这些细节根本不适用于页面工作环境。如果您遇到错误，我很想听听！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-10T08:13:21.473

以下代码提供了使用页面工作者的问题的最小工作解决方案，如*canuckistani*建议的那样。

**注意：**此解决方案需要 addon-sdk`unsafeWindow`才能访问插件成员方法。如果有更好的解决方案不依赖于此，请随时给我发送注释/评论。

*数据/背景.html*

```
<html>
    <head>
        <script type="text/javascript" charset="utf-8">
            function pluginLoaded() {
                // Create an event once plugin is loaded
                // This allows the contentscript to detect plugin state
                var evt = document.createEvent("CustomEvent");
                evt.initCustomEvent("pluginLoaded", true, false, null);
                window.dispatchEvent(evt);
            }   
        </script>
    </head>
    <body>
        <object id="myplugin" type="application/x-myplugin" width="0" height="0">
            <param name="onload" value="pluginLoaded" />
        </object>
    </body>
</html> 
```

*数据/background.js* var module = null;

```
window.addEventListener("pluginLoaded", function( event ) {
    // set the module through unsafeWindow
    module = unsafeWindow.document.getElementById("myplugin");
    module = XPCNativeWrapper.unwrap(module);
    self.port.emit("pluginLoaded");
});

// Handle incoming requests to the plugin
self.port.on("pluginCall", function(msg) {
    var response; 
    if (module) {
        // Call NPAPI-plugin member method
        response = module[msg.method].apply(this, msg.args);
    } else {
        response = {error: true, error_msg: "Module not loaded!"};
    }
    self.port.emit("pluginResponse", {data: response});
}); 
```

*main.js*

```
// Create background page that loads NPAPI plugin
var plugin = require("page-worker").Page({
    contentURL: data.url("background.html"),
    contentScriptFile: data.url("background.js"),
    contentScriptWhen: "ready"
});

// Send request to plugin
plugin.port.emit("pluginCall", message); 
```

# cocoa - 像 Preview.app 一样缩放 NSScrollView

> ID：11573829
> 
> 赞同：2
> 
> 时间：2012-07-20T06:17:33.733
> 
> 标签：cocoa, nsview, preview, nsscrollview, zooming

我想实现像在 Preview.app 中打开的图像一样的缩放，在缩小和缩小时也是如此。我尝试了不同的方法，但无法 100% 正确，我尝试过 Apple 的 IKImageViewDemo 但它没有t 像预览一样工作。有人知道教程、示例或可以提供帮助的东西吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-08T14:56:18.420

您必须创建一个图像大小的 NSImageView 并将其居中。然后滚动并缩放它。

# android - 我可以运行 Robotium 测试但无法调试它

> ID：11573833
> 
> 赞同：2
> 
> 时间：2012-07-20T06:17:45.373
> 
> 标签：android, robotium

我正在测试一个我手机上没有资源的apk。我已确保我在测试和应用程序 apk 中拥有相同的证书。我可以从 eclipse 运行我的测试，但是当我尝试通过“Debug As”进行调试时，eclipse 似乎被卡住了启动测试。在底部的进度条中，我看到“正在启动：正在创建源定位器...”。我在适当的位置设置了断点，在 logcat 输出中我看不到任何东西表明测试进程或应用程序进程发生了崩溃。关于问题可能是什么或如何进一步调查的任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T15:57:25.363

我有类似的问题。

我的解决方案是可能只有一个 DDMS 实例在运行。因此，例如，如果我在打开 eclipse 的同时运行了 tools/ddms.bat，那么调试对我不起作用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T21:54:14.370

我也发布了同样的问题，我想通了。[无法作为调试机器人 junit 测试运行](https://stackoverflow.com/questions/13203360/cannot-run-as-debug-robotium-junit-test/13203528#13203528)

因此，要使其正常工作有两个要求：

1.  您需要在工作区 2 中设置 AUT（被测应用程序）。 AUT 必须是 debuggable=true（清单文件）
2.  我的错误是因为我只想调试测试，所以我认为我也不需要 AUT 项目。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-24T23:55:37.580

对我来说，解决方案是我需要检查我的设备显示。我意识到有一个带有问题的对话框，但是由于该对话框阻止了设备，因此测试无法运行...

# java - 如何在gwt中加载简单寻呼机时将第二页显示为起始页

> ID：11573841
> 
> 赞同：0
> 
> 时间：2012-07-20T06:18:22.897
> 
> 标签：java, gwt

我从数据网格的第二页中选择了第 5 条记录。在选定的行中进行一些修改后，我将其保存并重新加载了数据网格。我希望在重新加载后也选择上一个选定的行。

任何帮助都将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T08:24:20.967

假设您仍然有`DTO`您正在编辑的实例，`DataGrid`您可以执行以下操作：

```
// get the start index in the list
int selectedIndex = dataProvider.getList().indexOf(myObj); 
// set the visible range
dataGrid.setVisibleRange(selectedIndex,dataGrid.getVisibleItemCount());
// select the row
selectionModel().setSelected(myObj, true);  // select the row 
```

# objective-c - NSTimer 未在子线程中触发

> ID：11573843
> 
> 赞同：2
> 
> 时间：2012-07-20T06:18:46.177
> 
> 标签：objective-c, ios, nstimer, nsthread

我正在尝试`NSTimer`在子线程中触发。我的代码基本上是这样的：

```
-(void) handleTimer:(NSTimer *)theTimer {  
    NSLog(@"timer fired");  
}

-(void) startMyThread {  
    // If I put timer in here, right before I start my new thread, it fires.  
    // [NSTimer scheduledTimerWithTimeInterval:1 target:self selector:@selector(handleTimer:) userInfo:nil repeats:NO];  
    [NSThread detachNewThreadSelector:@selector(run) toTarget:self withObject:nil];  
}

// This method is called from inside the new thread  
-(void) playNote:(Note *)theNote withTemplate:(NSString *)theTemplate X:(int)x andY:(int)y {
    NSLog(@"before timer");  
    // The timer doesn't fire in here. (But the print statements do.)  
    [NSTimer scheduledTimerWithTimeInterval:1 target:self selector:@selector(handleTimer:) userInfo:nil repeats:NO];
    NSLog(@"after timer");  
} 
```

我真的很想（阅读：需要？）在子线程中触发计时器，因为它将用于停止播放音符（并且所有音符播放都需要在子线程中进行）。

我一定错过了`NSTimer`在子线程中运行的一些东西......
过早感谢您的帮助！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-20T06:23:17.600

除非在运行循环中安排计时器，否则计时器不会触发。您还需要避免随意旋转线程。

除非您的`run`方法启动运行循环，否则您的计时器不会启动。

顺便说一句，更好的解决方案可能是使用 GCD 的`dispatch_after()`. 它比线程轻，但这取决于您需要做什么。但总的来说，队列是向应用程序添加并发性的更有效方法。

* * *

从注释中获取正确格式的代码（很好的发现）：

```
double delayInSeconds = .2;
dispatch_time_t popTime = dispatch_time(DISPATCH_TIME_NOW, delayInSeconds * NSEC_PER_SEC);
dispatch_after(popTime, dispatch_get_main_queue(), ^(void){
    NSLog(@"dispatch popped");
}); 
```

附加说明；您可以考虑使用全局并发队列之一。当主事件循环可能阻塞时，它们不会阻塞。当然，如果您要更新 UI，无论如何您都必须回到 MEL。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-20T06:40:01.913

您应该添加`NSTimer`到`currentRunLoop`. 您的`playNote`方法应如下所示：

```
-(void) playNote:(Note *)theNote withTemplate:(NSString *)theTemplate X:(int)x andY:(int)y
{
    NSLog(@"before timer");  
    // The timer doesn't fire in here. (But the print statements do.)  
    NSTimer myTimer = [NSTimer timerWithTimeInterval:1.0 target:self selector:@selector(handleTimer:) userInfo:nil repeats:NO];
    [[NSRunLoop currentRunLoop] addTimer:myTimer forMode:NSDefaultRunLoopMode];
    [[NSRunLoop currentRunLoop] run];
    NSLog(@"after timer");  
} 
```

应该这样做:)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-20T06:23:21.947

将计时器添加到当前`runloop`, 和`run`.

```
-(void) handleTimer:(NSTimer *)theTimer {  
    NSLog(@"timer fired");  
}

-(void) startMyThread {  
    // If I put timer in here, right before I start my new thread, it fires.  
    // [NSTimer scheduledTimerWithTimeInterval:1 target:self selector:@selector(handleTimer:) userInfo:nil repeats:NO];  
    [NSThread detachNewThreadSelector:@selector(run) toTarget:self withObject:nil];  
}

// This method is called from inside the new thread  
-(void) playNote:(Note *)theNote withTemplate:(NSString *)theTemplate X:(int)x andY:(int)y {
    NSLog(@"before timer");  
    // The timer doesn't fire in here. (But the print statements do.)  
    NSTimer *Timer = [NSTimer scheduledTimerWithTimeInterval:1 target:self selector:@selector(handleTimer:) userInfo:nil repeats:NO];
    NSLog(@"after timer");  
    [[NSRunLoop currentRunLoop] addTimer:Timer forMode:NSDefaultRunLoopMode];
    [[NSRunLoop currentRunLoop] run];
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-07-28T11:09:02.833

尝试`addTimer:`内之`[NSRunLoop mainRunLoop]`，而不是内之`current`！

# python - IPython 导入失败和一般的 python sys.path

> ID：11573844
> 
> 赞同：14
> 
> 时间：2012-07-20T06:18:50.507
> 
> 标签：python, virtualenv, ipython

我正在关注这篇[文章](http://isbullsh.it/2012/04/Embed-ipython-in-virtualenv/)，以便为所有 virtualenvs 制定一个 ipython 规则。

据我了解，这篇文章的主要思想是，当在 virtualenv 中时，ipython 找不到它的模块。

```
(a-virtualenv)me@pc:~$ ipython
Traceback (most recent call last):
  File "/usr/bin/ipython", line 19, in <module>
    from IPython.frontend.terminal.ipapp import launch_new_instance
ImportError: No module named IPython.frontend.terminal.ipapp 
```

为了解决这个问题，我将它添加到我的 /usr/bin/ipython

```
import sys
if "/usr/lib/python2.7/dist-packages" not in sys.path:
    sys.path.append("/usr/lib/python2.7/dist-packages") 
```

这个技巧适用于巴尔萨泽。但就我而言，我明白了

```
Traceback (most recent call last):
  File "/usr/bin/ipython", line 18, in <module>
    from IPython.frontend.terminal.ipapp import launch_new_instance
  File "/usr/lib/python2.7/dist-packages/IPython/__init__.py", line 46, in <module>
    from .frontend.terminal.embed import embed
  File "/usr/lib/python2.7/dist-packages/IPython/frontend/terminal/embed.py", line 37, in <module>
    from IPython.frontend.terminal.ipapp import load_default_config
  File "/usr/lib/python2.7/dist-packages/IPython/frontend/terminal/ipapp.py", line 38, in <module>
    from IPython.core.completer import IPCompleter
  File "/usr/lib/python2.7/dist-packages/IPython/core/completer.py", line 84, in <module>
    from IPython.utils import generics
  File "/usr/lib/python2.7/dist-packages/IPython/utils/generics.py", line 19, in <module>
    from IPython.external.simplegeneric import generic
  File "/usr/lib/python2.7/dist-packages/IPython/external/simplegeneric/__init__.py", line 4, in <module>
    from _simplegeneric import *
ImportError: No module named _simplegeneric 
```

我想也许我也应该`/usr/lib/python2.7/dist-packages/IPython/external`加入`sys.path`。`/usr/bin/ipython`我得到的是

```
Traceback (most recent call last):
  File "/usr/bin/ipython", line 18, in <module>
    from IPython.frontend.terminal.ipapp import launch_new_instance
  File "/usr/lib/python2.7/dist-packages/IPython/__init__.py", line 43, in <module>
    from .config.loader import Config
  File "/usr/lib/python2.7/dist-packages/IPython/config/loader.py", line 27, in <module>
    from IPython.utils.path import filefind, get_ipython_dir
  File "/usr/lib/python2.7/dist-packages/IPython/utils/path.py", line 24, in <module>
    from IPython.utils.process import system
  File "/usr/lib/python2.7/dist-packages/IPython/utils/process.py", line 27, in <module>
    from ._process_posix import _find_cmd, system, getoutput, arg_split
  File "/usr/lib/python2.7/dist-packages/IPython/utils/_process_posix.py", line 27, in <module>
    from IPython.utils import text
  File "/usr/lib/python2.7/dist-packages/IPython/utils/text.py", line 27, in <module>
    from IPython.external.path import path
ImportError: cannot import name path 
```

此错误发生在 的第 43 行`IPython/__init__py`，但前一个错误发生在第 46 行。

1.  如何使 ipython 与 virtualenv 一起工作？

2.  如何添加`/usr/lib/python2.7/dist-packages/IPython/external`到`sys.path`导致新的错误？

3.  为了更好地理解 python 导入路径，我应该阅读什么？

谢谢！

PS：正常的 IPython sys.path

```
['',
 '/usr/bin',
 '/usr/lib/python2.7',
 '/usr/lib/python2.7/plat-linux2',
 '/usr/lib/python2.7/lib-tk',
 '/usr/lib/python2.7/lib-old',
 '/usr/lib/python2.7/lib-dynload',
 '/usr/local/lib/python2.7/dist-packages',
 '/usr/lib/python2.7/dist-packages',
 '/usr/lib/python2.7/dist-packages/PIL',
 '/usr/lib/python2.7/dist-packages/gst-0.10',
 '/usr/lib/python2.7/dist-packages/gtk-2.0',
 '/usr/lib/pymodules/python2.7',
 '/usr/lib/python2.7/dist-packages/ubuntu-sso-client',
 '/usr/lib/python2.7/dist-packages/ubuntuone-client',
 '/usr/lib/python2.7/dist-packages/ubuntuone-control-panel',
 '/usr/lib/python2.7/dist-packages/ubuntuone-couch',
 '/usr/lib/python2.7/dist-packages/ubuntuone-installer',
 '/usr/lib/python2.7/dist-packages/ubuntuone-storage-protocol',
 '/usr/lib/python2.7/dist-packages/IPython/extensions'] 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-20T08:13:57.077

IPython 似乎现在可以工作了！

因为ipython找不到simplegeneric。我试图找到simplegeneric，发现simplegeneric 在'/usr/lib/pymodules/python2.7'中。添加“/usr/lib/pymodules/python2.7”后，ipython 工作正常。

Jeff Tratner 的评论真的很有帮助！

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-06-18T17:29:55.653

如果您`ipython3`使用安装`apt-get`，您将不会遇到任何此类问题。

而不是`ipython`，您应该`ipython3`在终端上键入。

对于 Python 2，请使用`ipython2`.

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-10-24T17:41:08.543

对路径进行更改没有任何帮助。但是以超级用户身份运行 ipython 是有效的（尽管我并不为此感到自豪！）

```
sudo ipython 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-02-23T19:34:32.817

`pip install ipython`而不是`apt-get install ipython`. 前者安装到 virtualenv 中，后者安装到您的系统 python 包中。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-04-09T21:31:00.340

我有同样的问题，在我的情况下，原因是目录：/usr/lib/python2.7/dist-packages 在创建虚拟环境时没有添加到路径中（我想知道为什么）

在我的情况下，终端中的以下内容解决了这个问题：

```
workon 'your_environment_here'
add2virtualenv /usr/lib/python2.7/dist-packages 
```

注意：这假设您使用的是 virtualenvwrapper

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-02-07T20:18:42.727

就我而言，它是我自定义的 Python 路径中名为“path”的更高层的包，它导致 ImportError 来自：

```
import IPython.external.path as path 
```

见[https://github.com/ipython/ipython/issues/3994](https://github.com/ipython/ipython/issues/3994)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-09-26T16:33:36.000

我在一个新的 ubuntu 主机上遇到了一些奇怪的事情，并意识到我在 mac 和 ubuntu 上的 mkvirtualenv 得到了不同的行为。我克服了这个差异

```
'mkvirtualenv --system-site-packages mynewenv' 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-09-09T03:49:38.330

对我来说，解决方案是将 IPython 从 0.13.2*升级*到当前最新的 4.0.0。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2018-04-21T05:35:22.647

我在成功安装时和安装后都`traceback`经历过类似的情况。`python 3.5.4``pip 10.0.1``ipython`

```
line 32, in <module>
from .debugger import TerminalPdb, Pdb
File "/usr/lib/python3.5/site-packages/IPython/terminal/debugger.py", line 6, in <module>
    from IPython.core.completer import IPCompleter
File "/usr/lib/python3.5/site-packages/IPython/core/completer.py", line 137, in <module>
    from IPython.utils import generics
File "/usr/lib/python3.5/site-packages/IPython/utils/generics.py", line 8, in <module>
from simplegeneric import generic
ImportError: No module named 'simplegeneric' 
```

更新或安装我得到的`simplegeneric`ie`sudo pip install simplegeneric --upgrade`

> 要求已经更新：/usr/lib/python3.5/site-packages (0.8.1) 中的 simplegeneric

经过一些初步试验后，我在 google/stackoverflow 上进行了搜索，看看是否有其他人遇到过类似的问题并找到了这个。它的@zjk 答案可以帮助我找到解决方案。

**解决方案：**在已安装的包目录中 仅找到`egg`文件夹。`python3.5`所以我删除了它们并全新安装了`simplegeneric`.

```
sudo rm -rf /usr/lib/python3.5/site-packages/simplegeneric-0.8.1-py3.5.egg-info/
sudo pip install simplegeneric 
```

之后 ipython 就像魅力一样工作。

**注意：**我在系统级别安装软件包，这就是`sudo`需要的原因。

# android - 使用 JSON 的谷歌地图中的多个标记

> ID：11573845
> 
> 赞同：1
> 
> 时间：2012-07-20T06:18:55.177
> 
> 标签：android, json, google-maps

我必须使用 JSON 解析制作多标记谷歌地图。任何有帮助代码的人。这样我就可以对此有所了解。我所做的活动并不完全符合我的要求。这是我的活动

```
public class MapsActivity extends MapActivity{
private MapController mapControll;
private GeoPoint geoPoint=null;
private MapView mapview;
private MyItemizedOverlay userPicOverlay;
private MyItemizedOverlay nearPicOverlay;
private Drawable userPic,atmPic;
private OverlayItem nearatms[] = new OverlayItem[50];
public static Context context;
public double latitude;
public double longitude;

private List<String> lat = new ArrayList<String>();
private List<String> lon = new ArrayList<String>();
private String[] get_lati;
private String[] get_long;

@Override
protected void onCreate(Bundle icicle) {
    // TODO Auto-generated method stub
    super.onCreate(icicle);
    context = getApplicationContext();
    setContentView(R.layout.map);
    lat.clear();
    lon.clear();
    Intent in = getIntent();
    if(in!=null){
    get_lati = in.getStringArrayExtra("LAT_KEY");
    get_long = in.getStringArrayExtra("LONG_KEY");
    System.out.println("lat===="+get_lati.length+" lon==="+get_long.length);
    }
    for(int i = 0;i<get_lati.length;i++){
        String lt = null;
        String ln = null;
        lt =get_lati[i];
        ln =get_long[i];

        System.out.println("lt=="+lt+"==ln=="+ln);
    }
    showMap();
}

public void showMap() {
    // TODO Auto-generated method stub

    try {
        double lat_dbl = Double.parseDouble(get_lati[0]);
        double lon_dbl = Double.parseDouble(get_long[0]);
        geoPoint = new GeoPoint((int)(lat_dbl * 1E6),(int)(lon_dbl * 1E6));      
        mapview = (MapView)findViewById(R.id.mapView);
        mapControll= mapview.getController();
        mapview.setBuiltInZoomControls(true);
        mapview.setStreetView(true);
        mapControll.setZoom(16);
        mapControll.animateTo(geoPoint);

        userPic = this.getResources().getDrawable(R.drawable.pin);
        userPicOverlay = new MyItemizedOverlay(userPic);
        OverlayItem overlayItem = new OverlayItem(geoPoint, "I'm Here!!!", null);
        userPicOverlay.addOverlay(overlayItem);
        mapview.getOverlays().add(userPicOverlay);

        atmPic = this.getResources().getDrawable(R.drawable.pin);
        nearPicOverlay = new MyItemizedOverlay(atmPic);
        for (int i = 0; i < 5; i++) {
            nearatms[i] = new OverlayItem(new GeoPoint((int)((latitude) * 1E6), i),"Name", null);//just check the brackets i just made change here so....
            nearPicOverlay.addOverlay(nearatms[i]);
        }
        mapview.getOverlays().add(nearPicOverlay);
        //Added symbols will be displayed when map is redrawn so force redraw now
        mapview.postInvalidate();
    } catch (Exception e) {
        e.printStackTrace();
    }
}

@Override
protected boolean isRouteDisplayed() {
    // TODO Auto-generated method stub
    return false;
}

public class MyItemizedOverlay extends ItemizedOverlay<OverlayItem> {

    private ArrayList<OverlayItem> myOverlays ;

    public MyItemizedOverlay(Drawable defaultMarker) {
        super(boundCenterBottom(defaultMarker));
        myOverlays = new ArrayList<OverlayItem>();
        populate();
    }

    public void addOverlay(OverlayItem overlay){
        myOverlays.add(overlay);
        populate();
    }

    @Override
    protected OverlayItem createItem(int i) {
        return myOverlays.get(i);
    }

    // Removes overlay item i
    public void removeItem(int i){
        myOverlays.remove(i);
        populate();
    }

    // Returns present number of items in list
    @Override
    public int size() {
        return myOverlays.size();
    }

    public void addOverlayItem(OverlayItem overlayItem) {
        myOverlays.add(overlayItem);
        populate();
    }

    public void addOverlayItem(int lat, int lon, String title) {
        try {
            GeoPoint point = new GeoPoint(lat, lon);
            OverlayItem overlayItem = new OverlayItem(point, title, null);
            addOverlayItem(overlayItem);    
        } catch (Exception e) {
            // TODO: handle exception
            e.printStackTrace();
        }
    }

    @Override
    protected boolean onTap(int index) {
        // TODO Auto-generated method stub
        String title = myOverlays.get(index).getTitle();
        //Toast.makeText(MapActivity.this, title, Toast.LENGTH_LONG).show();
        return super.onTap(index);
    }
} 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-16T08:18:43.340

您正在创建一个带有`latitude`但 ' `i`' 而不是经度的地理点。

```
new GeoPoint((int)((latitude) * 1E6), i) 
```

代替：

```
new GeoPoint((int)((latitude) * 1E6), (int)((longitude) * 1E6)) // + some variation based on i 
```

因此，所有点都非常接近。

我假设您使用 ' `i`' 在您的位置附近创建单独的点，并且在最终产品中您将使用 ATM 点数据库。我建议您创建一个应该检索 ATM 位置的函数，并出于测试目的返回固定（但真实）的位置，或者在您的 lat/lng 周围随机化。（这也是一种更好的编码实践。）

出于调试目的，请在创建它们*之后记录您正在创建的**实际*点。如果所有 lat/lng 数字看起来都一样，你就会知道发生了什么。如果只记录两点......那是一个不同的问题。:-)

# android - (Android)从 URL 异步加载列表视图中的图像

> ID：11573849
> 
> 赞同：0
> 
> 时间：2012-07-20T06:19:48.850
> 
> 标签：android, listview, asynchronous, loadimage, android-query

我的老板说我必须使用 Android Query，我找到了这个网站：[http](http://code.google.com/p/android-query/wiki/ImageLoading) ://code.google.com/p/android-query/wiki/ImageLoading 但我尝试了：

```
 aq.id(R.id.image1).image("http://www.vikispot.com/z/images/vikispot/android-w.png"); 
```

在我的代码中，但我收到此错误：“aq 无法解析”我必须做什么才能初始化该 aq，我是否必须导入一些库？

这是我的列表视图适配器： public static class ListViewAdapterWall extends BaseAdapter { private LayoutInflater mInflater;

```
 public ListViewAdapterWall(Context context) {

        mInflater = LayoutInflater.from(context);

    }

    public int getCount() {
        return ListviewContentWall.size();
    }

    public Object getItem(int position) {
        return position;
    }

    public long getItemId(int position) {
        return position;
    }

    public View getView(int position, View convertView, ViewGroup parent) {

        ListContent holder;

        if (convertView == null) {
            convertView = mInflater.inflate(R.layout.listviewinflate, null);

            holder = new ListContent();
            holder.wallImage = (ImageView) convertView
                    .findViewById(R.id.wallImage1);
            holder.wallButton = (ImageButton) convertView
                    .findViewById(R.id.wallButton1);

            convertView.setTag(holder);
        } else {

            holder = (ListContent) convertView.getTag();
        }

        AQuery aq = new AQuery(convertView);

        aq.id(R.id.wallImage1).image("http://www.vikispot.com/z/images/vikispot/android-w.png");
        //holder.wallImage.setBackgroundDrawable(ListviewContentWall.get(position));
        //holder.wallButton.setBackgroundDrawable(ListviewContentWall.get(position));
        //holder.text2.setText(ListviewContent2.get(position));

        return convertView;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:27:01.087

`AQuery`是一个视图的包装器。

初始化如下

```
AQuery aq = new AQuery(imageView); 
```

此片段来自您提到的同一页面！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T07:03:27.020

我不得不在互联网上搜索 lib: android-query-0.22.10.jar 并将其放在我的 libs 文件夹中才能正常工作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-26T05:59:00.437

Android Query ImageLoading 有 recycle() 方法。

来自 android_query 的 Javadoc 说，recycle() 方法为

> public T recycle(View root) 回收这个 AQuery 对象。该方法旨在避免重复创建 AQuery 对象，例如在列表适配器的 getView 方法中。
> 
> 参数：
> 
> root - 回收的 AQuery 的新根。
> 
> 回报：
> 
> 自己

这是上述方法的源调整。

```
AQuery listAq = new AQuery(this);

public ListViewAdapterWall(Context context) {
    mInflater = LayoutInflater.from(context);
}

public int getCount() {
    return ListviewContentWall.size();
}

public Object getItem(int position) {
    return position;
}

public long getItemId(int position) {
    return position;
}

public View getView(int position, View convertView, ViewGroup parent) {

    ListContent holder;

    if (convertView == null) {
        convertView = mInflater.inflate(R.layout.listviewinflate, null);

        holder = new ListContent();
        holder.wallImage = (ImageView) convertView
                .findViewById(R.id.wallImage1);
        holder.wallButton = (ImageButton) convertView
                .findViewById(R.id.wallButton1);

        convertView.setTag(holder);
    } else {

        holder = (ListContent) convertView.getTag();
    }

    AQuery aq = listAq.recycle(convertView);

    aq.id(R.id.wallImage1).image("http://www.vikispot.com/z/images/vikispot/android-w.png");
    //holder.wallImage.setBackgroundDrawable(ListviewContentWall.get(position));
    //holder.wallButton.setBackgroundDrawable(ListviewContentWall.get(position));
    //holder.text2.setText(ListviewContent2.get(position));

    return convertView;
} 
```

# blackberry - 如何通过实现 listfieldcallback() 在 listfield 中设置不同的行高？

> ID：11573850
> 
> 赞同：0
> 
> 时间：2012-07-20T06:19:52.960
> 
> 标签：blackberry, listfield, row-height

这是我最近的`Custom_Listfield`一堂课。

```
public class Custom_ListField extends ListField {
private String[] title, category, date, imagepath;
private int[] newsid, catsid;
private List_News newslist;
private Bitmap imagebitmap[], localimage = Config_GlobalFunction
        .Bitmap("image_base.png");
private BrowserField webpage;
private boolean islatest;
private int highest = 0;

private Vector content = null;
private ListCallback callback = null;

private int currentPosition = 0;

public Custom_ListField(Vector content, boolean islatest) {
    this.content = content;
    this.islatest = islatest;

    newsid = new int[content.size()];
    title = new String[content.size()];
    category = new String[content.size()];
    date = new String[content.size()];
    imagepath = new String[content.size()];
    catsid = new int[content.size()];
    imagebitmap = new Bitmap[content.size()];

    for (int i = 0; i < content.size(); i++) {
        newslist = (List_News) content.elementAt(i);
        newsid[i] = newslist.getID();
        title[i] = newslist.getNtitle();
        category[i] = newslist.getNewCatName();
        date[i] = newslist.getNArticalD();
        imagepath[i] = newslist.getImagePath();
        catsid[i] = newslist.getCatID();

        if (!imagepath[i].toString().equals("no picture")) {
            imagebitmap[i] = Util_ImageLoader.loadImage(imagepath[i]);
            if (imagebitmap[i].getHeight() > highest)
                highest = imagebitmap[i].getHeight();
        } else {
            imagebitmap[i] = localimage;
        }
        catsid[i] = newslist.getCatID();
        if (catsid[0] != 9)
            this.setRowHeight( localimage.getHeight() + 10);
        else
            this.setRowHeight( highest + 10);
    }
    initCallbackListening();
}

private void initCallbackListening() {
    callback = new ListCallback();
    this.setCallback(callback);
}

private class ListCallback implements ListFieldCallback {
    public ListCallback() {
        setBackground(Config_GlobalFunction
                .loadbackground("background.png"));
    }

    public void drawListRow(ListField listField, Graphics graphics,
            int index, int y, int width) {
        currentPosition = index;
        graphics.setColor(Color.WHITE);
        if (catsid[0] != 9) {
            graphics.drawBitmap(
                    Display.getWidth() - localimage.getWidth() - 5,
                    y
                            + ((listField.getRowHeight() - localimage
                                    .getHeight()) / 2),
                    localimage.getWidth(), localimage.getHeight(),
                    imagebitmap[index], 0, 0);
        } else {
            graphics.drawBitmap(
                    Display.getWidth() - imagebitmap[index].getWidth() - 5,
                    y
                            + (listField.getRowHeight() - imagebitmap[index]
                                    .getHeight()) / 2,
                    imagebitmap[index].getWidth(),
                    imagebitmap[index].getHeight(), imagebitmap[index], 0,
                    0);
        }
        graphics.drawRect(0, y, width, listField.getRowHeight());

        graphics.setColor(Color.BLACK);
        Vector text = Config_GlobalFunction.wrap(title[index],
                Display.getWidth() - imagebitmap[index].getWidth() - 10);
        for (int i = 0; i < text.size(); i++) {
            int liney = y + (i * Font.getDefault().getHeight());
            graphics.drawText((String) text.elementAt(i), 5, liney + 3,
                    DrawStyle.TOP | DrawStyle.LEFT | DrawStyle.ELLIPSIS,
                    Display.getWidth() - imagebitmap[index].getWidth() - 10);
        }

        graphics.setColor(Color.GRAY);
        graphics.drawText(date[index], 5, y + Font.getDefault().getHeight()
                * text.size());

        if (islatest) {
            graphics.setColor(Color.RED);
            graphics.drawText(category[index], Font.getDefault()
                    .getAdvance(date[index]) + 15, y
                    + Font.getDefault().getHeight() * text.size());
        }
    }

    public Object get(ListField listField, int index) {
        return content.elementAt(index);
    }

    public int getPreferredWidth(ListField listField) {
        return Display.getWidth();
    }

    public int indexOfList(ListField listField, String prefix, int start) {
        return content.indexOf(prefix, start);
    }

}

public int getCurrentPosition() {
    return currentPosition;
}

protected boolean navigationClick(int status, int time) {
    final int index = getCurrentPosition();
    Main.getUiApplication().pushScreen(new Custom_LoadingScreen(1));
    Main.getUiApplication().invokeLater(new Runnable() {
        public void run() {
            if (catsid[index] == 9) {
                if (Config_GlobalFunction.isConnected()) {
                    webpage = new BrowserField();

                    MainScreen aboutus = new Menu_Aboutus();
                    aboutus.add(webpage);
                    Main.getUiApplication().pushScreen(aboutus);

                    webpage.requestContent("http://www.orientaldaily.com.my/index.php?option=com_k2&view=item&id="
                            + newsid[index] + ":&Itemid=223");
                } else
                    Config_GlobalFunction.Message(
                            Config_GlobalFunction.nowifi, 1);
            } else
                Main.getUiApplication().pushScreen(
                        new Main_NewsDetail(newsid[index]));
        }
    }, 1 * 1000, false);
    return true;
}
} 
```

我试过用`this.setRowHeight(i, highest + 10);`. 它返回错误的高度大小，并且每行仍然具有相同的高度。

我相信有一些棘手的部分，黑莓不支持设置不同的行高。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T07:09:24.127

要设置动态行高，它必须再次调用`listfieldcallback()`

```
public class Custom_ListField extends ListField {
private String[] title, category, date, imagepath;
private int[] newsid, catsid;
private List_News newslist;
private Bitmap imagebitmap[], localimage = Config_GlobalFunction
        .Bitmap("image_base.png");
private BrowserField webpage;
private boolean islatest;

private Vector content = null, text;
private ListCallback callback = null;

private int currentPosition = 0;

public Custom_ListField(Vector content, boolean islatest) {
    this.content = content;
    this.islatest = islatest;

    newsid = new int[content.size()];
    title = new String[content.size()];
    category = new String[content.size()];
    date = new String[content.size()];
    imagepath = new String[content.size()];
    catsid = new int[content.size()];
    imagebitmap = new Bitmap[content.size()];

    for (int i = 0; i < content.size(); i++) {
        newslist = (List_News) content.elementAt(i);
        newsid[i] = newslist.getID();
        title[i] = newslist.getNtitle();
        category[i] = newslist.getNewCatName();
        date[i] = newslist.getNArticalD();
        imagepath[i] = newslist.getImagePath();
        catsid[i] = newslist.getCatID();

        if (!imagepath[i].toString().equals("no picture")) {
            imagebitmap[i] = Util_ImageLoader.loadImage(imagepath[i]);
        }
    }
    initCallbackListening();
}

private void initCallbackListening() {
    callback = new ListCallback();
    this.setCallback(callback);
    this.setRowHeight(-2);
}

private class ListCallback implements ListFieldCallback {
    public ListCallback() {

    }

    public void drawListRow(ListField listField, Graphics graphics,
            int index, int y, int width) {
        currentPosition = index;
        setBackground(BackgroundFactory.createBitmapBackground(
                Bitmap.getBitmapResource("background_news_list.png"),
                Background.POSITION_X_LEFT, Background.POSITION_Y_TOP,
                Background.REPEAT_SCALE_TO_FIT));

        if (!imagepath[index].toString().equals("no picture")) {
            float ratio = (float) ((float) localimage.getHeight() / (float) imagebitmap[index]
                    .getHeight());
            Bitmap temp = new Bitmap(
                    (int) (imagebitmap[index].getWidth() * ratio),
                    (int) (imagebitmap[index].getHeight() * ratio));
            imagebitmap[index].scaleInto(temp, Bitmap.FILTER_BILINEAR,
                    Bitmap.SCALE_TO_FIT);
            imagebitmap[index] = temp;

            graphics.drawBitmap(
                    Display.getWidth()
                            - localimage.getWidth()
                            - 5
                            + ((localimage.getWidth() - imagebitmap[index]
                                    .getWidth()) / 2),
                    y
                            + (listField.getRowHeight(index) - localimage
                                    .getHeight()) / 2,
                    imagebitmap[index].getWidth(),
                    imagebitmap[index].getHeight(), imagebitmap[index], 0,
                    0);

            graphics.setColor(Color.BLACK);
            text = Config_GlobalFunction
                    .wrap(title[index], Display.getWidth()
                            - imagebitmap[index].getWidth() - 10);

            for (int i = 0; i < text.size(); i++) {
                int liney = y + (i * Font.getDefault().getHeight());
                graphics.drawText(
                        (String) text.elementAt(i),
                        5,
                        liney + 3,
                        DrawStyle.TOP | DrawStyle.LEFT | DrawStyle.ELLIPSIS,
                        Display.getWidth() - imagebitmap[index].getWidth()
                                - 10);
            }
        } else {
            graphics.setColor(Color.BLACK);
            text = Config_GlobalFunction.wrap(title[index],
                    Display.getWidth() - 10);
            for (int i = 0; i < text.size(); i++) {
                int liney = y + (i * Font.getDefault().getHeight());
                graphics.drawText(
                        (String) text.elementAt(i),
                        5,
                        liney + 3,
                        DrawStyle.TOP | DrawStyle.LEFT | DrawStyle.ELLIPSIS,
                        Display.getWidth() - 10);
            }
        }

        if (text.size() == 2) {
            graphics.setColor(Color.GRAY);
            graphics.drawText(date[index], 5, y
                    + Font.getDefault().getHeight() + 3);

            if (islatest) {
                graphics.setColor(Color.RED);
                graphics.drawText(category[index], Font.getDefault()
                        .getAdvance(date[index]) + 15, y
                        + Font.getDefault().getHeight() + 3);
            }
        } else if (text.size() == 3) {
            graphics.setColor(Color.GRAY);
            graphics.drawText(date[index], 5, y
                    + Font.getDefault().getHeight() * 2 + 3);

            if (islatest) {
                graphics.setColor(Color.RED);
                graphics.drawText(category[index], Font.getDefault()
                        .getAdvance(date[index]) + 15, y
                        + Font.getDefault().getHeight() * 2 + 3);
            }
        }

        if (!imagepath[index].toString().equals("no picture")) {
            setRowHeight(index, imagebitmap[index].getHeight() + 10);
        } else {
            if (text.size() == 2)
                setRowHeight(index, getRowHeight() + 9);
            else if (text.size() == 3) {
                setRowHeight(index, getRowHeight() * 15 / 10 + 9);
            }
        }

        graphics.setColor(Color.WHITE);
        graphics.drawRect(0, y, width, listField.getRowHeight(index));
    }

    public Object get(ListField listField, int index) {
        return content.elementAt(index);
    }

    public int getPreferredWidth(ListField listField) {
        return Display.getWidth();
    }

    public int indexOfList(ListField listField, String prefix, int start) {
        return content.indexOf(prefix, start);
    }
}

public int getCurrentPosition() {
    return currentPosition;
}

protected boolean navigationClick(int status, int time) {
    final int index = getCurrentPosition();
    Main.getUiApplication().pushScreen(new Custom_LoadingScreen(1));
    Main.getUiApplication().invokeLater(new Runnable() {
        public void run() {
            if (catsid[index] == 9) {
                if (Config_GlobalFunction.isConnected()) {
                    webpage = new BrowserField();

                    MainScreen aboutus = new Menu_Aboutus();
                    aboutus.add(webpage);
                    Main.getUiApplication().pushScreen(aboutus);

                    webpage.requestContent("http://www.orientaldaily.com.my/index.php?option=com_k2&view=item&id="
                            + newsid[index] + ":&Itemid=223");
                } else
                    Config_GlobalFunction.Message(
                            Config_GlobalFunction.nowifi, 1);
            } else
                Main.getUiApplication().pushScreen(
                        new Main_NewsDetail(newsid[index]));
        }
    }, 1 * 1000, false);
    return true;
}
} 
```

# xslt - XSLT 计数逗号值计数

> ID：11573852
> 
> 赞同：0
> 
> 时间：2012-07-20T06:20:01.260
> 
> 标签：xslt, xslt-1.0

我在 xml 中有一个类似于 integer="1,2,3,4,5" 的值。如何使用 XSLT 计算总数。这样输出给我的计数是 5

问候，山姆

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T07:14:54.953

这是一种方式（可能还有其他方式）。只需将所有逗号转换为空字符串，然后比较字符串长度的差异：

```
<xsl:value-of 
   select="string-length(@integer) 
           - string-length(translate(@integer, ',', '')) + 1" /> 
```

如果你需要处理空字符串，试试这个

```
<xsl:value-of 
  select="string-length(@integer) 
          - string-length(translate(@integer, ',', '')) 
          + 1 * (string-length(@integer) != 0)" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T07:20:08.040

如果您想计算逗号分隔值，但也能够引用单个项目，您可以使用这样的递归模板。

此 XSLT 1.0 样式表会将逗号分隔值转换为节点，然后对它们进行计数...

```
<xsl:stylesheet version="1.0"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:msxsl="urn:schemas-microsoft-com:xslt">
<xsl:output method="text"/>

<xsl:template match="/">
 <xsl:variable name="as-nodes"> 
  <xsl:call-template name="parse-comma-separated-values">
   <xsl:with-param name="csv" select="t/@csv" />
  </xsl:call-template>
  </xsl:variable>
  <xsl:value-of select="count(msxsl:node-set($as-nodes)/*)" />
</xsl:template>

<xsl:template name="parse-comma-separated-values">
 <xsl:param name="csv" />
 <xsl:choose>
   <xsl:when test="$csv = ''"/>
   <xsl:when test="not( contains( $csv, ','))">
     <value-node value="{$csv}" /> 
   </xsl:when>  
   <xsl:otherwise>
     <value-node value="{substring-before($csv,',')}" /> 
     <xsl:call-template name="parse-comma-separated-values">
      <xsl:with-param name="csv" select="substring-after($csv,',')"/>
     </xsl:call-template>  
   </xsl:otherwise>  
  </xsl:choose>  
</xsl:template>

</xsl:stylesheet> 
```

...应用于此输入文档时...

```
 <t csv="1,2,3,4,5"/> 
```

...产生...

```
 5 
```

# html - iframe 内带有 target="_blank" 的锚点有时在 IE 8 中不起作用

> ID：11573854
> 
> 赞同：1
> 
> 时间：2012-07-20T06:20:06.700
> 
> 标签：html, internet-explorer, iframe, internet-explorer-8, anchor

我有一个具有以下文档类型的 iframe：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
```

在这个 iframe 中，有一个具有属性的锚点`target="_blank"`。

我抱怨说，在 Internet Explorer 8 中打开时，有时 url 会在该 iframe 本身中打开（因此，好像没有目标属性）。

我的问题是：

1.  它与我的文档类型有关吗？
2.  如果是这样，我该如何解决？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T08:48:53.987

如果链接具有 target="_blank"，则 IE8 阻止生成链接的问题似乎仅限于 IE8 的损坏安装。

关于这个问题的更多解释可以在[这里找到](https://stackoverflow.com/questions/1066841/target-blank-doesnt-work-in-ie8-running-ies-side-by-side-i-run-the-package-o)

# c++ - 单击按钮时将值增加 1 C++

> ID：11573855
> 
> 赞同：0
> 
> 时间：2012-07-20T06:20:11.713
> 
> 标签：c++, visual-c++, c++-cli

已经开始写一篇关于 C++ 的论文，并且遇到了大多数有经验的 C++ 程序员所称的一个小问题......

我正在使用 Visual Studio 2008 并使用带有 .NET 的 Visual C++ 进行编码。我正在尝试编写最小的应用程序，每次单击按钮时都会在文本框中添加一个新行。添加新行很简单，但我想为每一行添加一个递增的整数，例如，如果我第一次单击一个按钮，“这是第 1 行”会添加到文本框中，然后在第二次单击“这是第 2 行”被添加到文本框中。我对我的编程有点生疏，想不出一个可以实现这一点的循环结构。

下面是按钮处理程序的代码（带有一些伪代码）：

```
private: System::Void addLine_Click(System::Object^  sender, System::EventArgs^  e) {

    int i = 0;
    if(button is clicked){
      listBox->Items->Add("This is line " + i);
      i++;
    }

}

Should output something like: 

This is line 1
This is line 2
This is line 3
This is line 4
This is line 5
             .
             .
             .
This is line i 
```

我的按钮的名称是“addLine”，我希望这些行出现的列表框的名称称为“listBox”。

提前感谢您帮助这个 C++ 菜鸟 :)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:24:27.287

`i`是一个局部变量，因此只要函数退出，它就会失去其范围。您需要将 i 声明为`static`或将其作为类变量。

```
private: System::Void addLine_Click(System::Object^  sender, System::EventArgs^  e) {

    static int i = 0;
    if(button is clicked){
      listBox->Items->Add("This is line " + i);
      i++;
    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:22:44.197

我需要成为该类的成员 - 否则增量不会在函数调用后继续存在。

# excel - 捕获范围变量中的单元格

> ID：11573857
> 
> 赞同：1
> 
> 时间：2012-07-20T06:20:13.623
> 
> 标签：excel, vba

任何人都可以看到这段代码有什么问题。我收到“需要对象”错误：

```
Dim r As Range
Set r = Sheet2.ChartObjects("myChart").BottomRightCell.Address 
```

看起来很简单，但它不会工作。我需要能够做到：

r.row 和 r.column

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T09:59:53.580

A`Range`不是`Address`- 那是`String`. `BottomRightCell`返回一个`Range`。

```
Dim r As Range
Set r = Sheet2.ChartObjects("myChart").BottomRightCell

add = r.Address
row = r.Row
col = r.Column 
```

# networking - 局域网中的最大计算机数是多少？

> ID：11573862
> 
> 赞同：-1
> 
> 时间：2012-07-20T06:20:58.767
> 
> 标签：networking, window

我想知道最大PC的数量，我可以用Window7设置同一个局域网。谢谢 假设您有无限数量的开关和电缆，理论上可以在 Windows 7 Lan 上设置多少台 PC。我认为答案是 100。但我不确定——它可能是无限的。有网络专家可以告诉我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:28:30.003

[http://www.cisco.com/en/US/tech/tk365/technologies_tech_note09186a0080093f33.shtml](http://www.cisco.com/en/US/tech/tk365/technologies_tech_note09186a0080093f33.shtml)

比你认识的人还要多^^

默认情况下为 LANS 255-2=253 主机设置子网掩码窗口（255.255.255.0）。但是您可以根据需要进行更改

# apache - 如何突出显示 Apache Solr 中的搜索文本？

> ID：11573866
> 
> 赞同：2
> 
> 时间：2012-07-20T06:21:25.087
> 
> 标签：apache, search, solr, highlight, solrj

我正在使用 Apache Solr 在 java/GWT 中使用 SolrJ 进行索引和搜索。

当我搜索特定的单词或文本时，我想在结果中突出显示该搜索文本，即搜索文本在结果中以突出显示的方式显示......帮助我如何在我的应用程序中实现它......如果有人知道任何解决方案...

提前感谢...

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-20T06:25:12.123

您可以为此使用[Solr Highlight](http://wiki.apache.org/solr/HighlightingParameters/)。默认情况下，hightlight 组件在`solrconfig.xml`. 您可以在文件中的 highlightComponent 部分中配置[分段器。](http://wiki.apache.org/solr/SolrConfigXml#The_Highlighter_plugin_configuration_section)`solrconfig.xml`

您还可以在 requestHandler 中设置突出显示参数，例如：

```
 <!-- Highlighting defaults -->
   <str name="hl">on</str>
   <str name="hl.fl">text features name</str>
   <str name="f.name.hl.fragsize">0</str>
   <str name="f.name.hl.alternateField">name</str> 
```

然后您可以按如下方式查询 solr，它将列出标签内突出显示的关键字。

```
http://localhost:8983/solr/select?q=keyword&hl=true 
```

# java - java - 如何使用Java中的XPath检查节点是否具有一个或多个特定属性？

> ID：11573869
> 
> 赞同：1
> 
> 时间：2012-07-20T06:21:59.830
> 
> 标签：java, xml, xpath

我想获取包含以下属性之一的每个子节点：type、ref、base。每个属性的值无所谓，我只是想检查该属性是否存在。

这就是我现在的做法：

```
private void addRequiredNodeAndChildren(Node n) {    
            XPath xpath = XPathFactory.newInstance().newXPath();
            String expression = "*//*[@base or @ref or @type]";
            XPathExpression expr = xpath.compile(expression);
            NodeList referList = (NodeList) expr.evaluate(n, XPathConstants.NODESET);
            ..
} 
```

此表达式工作正常，但在一种情况下，我没有得到所有预期的节点：

```
 <xs:complexType name="ListElement">
        <xs:annotation>
            <xs:documentation>
            </xs:documentation>
        </xs:annotation>
        <xs:attribute name="transferMode" type="myprefix:dataTransferMode"
            use="optional">
            <xs:annotation>
                <xs:documentation>Documentation for attribute
                </xs:documentation>
            </xs:annotation>
        </xs:attribute>
    </xs:complexType> 
```

我希望得到具有上述表达式的节点，但不幸的是我没有得到它。将表达式更改为

```
//*[@base or @ref or @type] 
```

也没有帮助，因为我从 XML 中获取了每个具有属性之一的节点，但我只想获取给定节点 n 的子节点。我也试过

```
*//*[@base] or *//*[@ref] or *//*[@type] 
```

作为表达，但这也不起作用。

有谁知道如何解决我的问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T08:37:47.190

> `//*[@base or @ref or @type]` 也没有帮助，因为我从 XML 中获取了每个具有属性之一的节点，但我只想获取给定节点 n 的子节点

那是因为 '//' 搜索整个文档。您的谓词是正确的，但您过滤的顺序是错误的。要获取上下文节点的子节点，请使用

```
*[@base or @ref or @type] 
```

顺便说一句，如果您尝试列出 XSD 中包含引用架构中其他声明的 QName 的所有属性，那么您的列表是不完整的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T13:27:03.247

看来你想要的是：

```
*[descendant-or-self::*[@base or @ref or @type] ] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-27T05:29:15.970

感谢大家的帮助！

我找到了一个不是很漂亮但至少有效的解决方案：

```
*[@base or @ref or @type] | *//*[@base or @ref or @type] 
```

编辑：我改编[了 Dimitre Novatchev 的](https://stackoverflow.com/users/36305/dimitre-novatchev)解决方案，它也解决了这个问题：

```
descendant-or-self::*[@base or @ref or @type] 
```

# jquery - 花哨的注释块 CSS 实现

> ID：11573871
> 
> 赞同：3
> 
> 时间：2012-07-20T06:22:09.967
> 
> 标签：jquery, css, css-shapes

目标是实现这一点：

![在此处输入图像描述](../Images/5bf9ebb63c7570395d59d3b9e20b99c6.png)

我已经知道如何裁剪图像，但这真的很容易。我对顶部（简短评论）实现有一个粗略的想法，即在圆形块上重叠图像，添加一些左填充和负左边距，溢出隐藏和瞧。但是，如果内容扩展，这确实有效，并且由于这些是评论块，它们会扩展。

1) 虚线框表示将显示内容的区域。底部图像（长注释）显示填充图像下方额外空间的内容，类似于浮动的工作方式。但是，如果这太难实现，我可以接受一个直的矩形作为内容，只在图像下方留出空白空间。

2) 盒子的宽度和高度都可扩展至 150px/90px 的最小宽度/最小高度。

3) 我不在乎它们是否因为边框半径而在 IE 中显示为 90 度角。这就是 IE 使用边框半径（9 除外）显示我网站的其余部分的方式。

4) 我也可以接受 jQuery。目前我使用的是 1.7.2 并且我的网站对它很轻，所以我不介意添加更多脚本。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-20T06:54:24.873

我的最终版本：演示[http://dabblet.com/gist/3149345](http://dabblet.com/gist/3149345)（适用于 IE9+、Opera 10.5+、Chrome、FF、Safari）

HTML结构：

```
<div class="comment b">
    <a href="#" class="img-wrapper"><img src=""></a>
    <div class="comment-content">
        <p><!--a lot of text here--></p>
    </div>
</div> 
```

首先，我`.img-wrapper`将 向左浮动，给它一个白色背景加上右上角和右下角的边框半径`50%`。然后它上面的图像有黑色背景。

然后我在`.comment`. 我给它们的宽度和高度都等于`border-radius`用于`.comment`（`20px`在这种情况下）。我还给了它们`position: absolute`并将它们的`top`值设置为等于`.img-wrapper`（`130px`在这种情况下）的高度。

我给`:before`元素一个白色背景，给`:after`元素一个黑色背景。我还给`:after`元素一个 100% 的左上角`border-radius`，以便在图像包装器下也达到相同的圆角效果。

```
.comment {
    width: 500px;
    border-radius: 20px;
    padding:20px;
    margin: 5% auto;
    position: relative;
    background: #000;
    color: #fff;
}
.a {
    height: 90px;
}
.b:before, .b:after {
    top: 130px;
    left: 0;
    width: 20px;
    height: 20px;
    display: block;
    position: absolute;
    content: '';
}
.b:before {
    background: #fff;
}
.b:after {
    border-radius: 100% 0 0 0;
    background: #000;
}
.img-wrapper {
    width: 130px;
    height: 130px;
    border-radius: 0 50% 50% 0;
    margin: -20px 20px 20px -20px;
    float: left;
    background: #fff;
}
.img-wrapper img {
    width: 120px;
    height: 120px;
    margin: 5px;
    border-radius: 50%;
    background: #000;
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-20T06:48:39.020

我试图实现它，结果如下：

HTML：

```
<div class="comment">
    <div class="img"><div class="inner">img</div></div>
    <p>This is the comment</p>
</div>
<div class="comment">
   <div class="img"><div class="inner">img</div></div>
   <p>Long comment. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.</p>
</div>​ 
```

CSS：

```
.comment {
    background-color: #000;
    border-radius: 20px;
    color: #fff;
    overflow: auto;
    margin-bottom: 10px;
    padding: 20px 20px 0;
}
.comment .img {
    background-color: #fff;
    border-radius: 0 60px 60px 0;
    border: 5px solid #fff;
    display: block;
    float: left;
    margin: -20px 20px 0 -20px;
}
.comment .img .inner {
    background: #000;
    border-radius: 60px;
    width: 100px;
    height: 100px;
    text-align: center;
    line-height: 100px;
}
.comment p {
    padding-bottom: 20px;
} 
```

​点此查看演示：[Demo](http://jsfiddle.net/9wWJ6/1/)

# iphone - Scrollview 中的图像排序错误 - iPad 应用程序

> ID：11573879
> 
> 赞同：0
> 
> 时间：2012-07-20T06:22:48.000
> 
> 标签：iphone, ios5, uiscrollview, uiimageview

我们正在构建一个目录应用程序，其中包含 2 行宽度不同但高度相同的排序图像。`scrollview`我们按照所附图像按排序顺序（从 A 到 Z）绘制艺术品。

我们使用顶部有字母（A 到 Z）的按字母顺序排列的条进行搜索。如果我触摸字母 J，我希望从 j 开始的艺术品首先出现。我们使用的代码运行不正常。例如，单击 J 会将我们带到 A。非常感谢您的帮助或建议。

代码如下：

```
NSString *newStr = [currentArtworkTitle substringWithRange:NSMakeRange(0,1)];       
if([newStr isEqualToString:self.searchString])
  if (scrollViewTopRowWidth > scrollViewBottomRowWidth) {
     xCordForSortedView = scrollViewTopRowWidth - c - imgForButton.size.width;//self.touchLengthCount;//50 ;// -10//c   scrollViewBottomRowWidth 
  }
  else {
      xCordForSortedView = scrollViewBottomRowWidth - c - imgForButton.size.width;// self.touchLengthCount;//40;//scrollViewTopRowWidth
       }

// For shifting the screen
if(scrollViewTopRowWidth > scrollViewBottomRowWidth){
  int tmpMargin = scrollViewTopRowWidth - xCordForSortedView;
  if(tmpMargin < 1024) 
  scrollView.contentSize = CGSizeMake(scrollViewTopRowWidth+1024,scrollView.bounds.size.height);
  }
  else{
  int tmpMargin = scrollViewBottomRowWidth - xCordForSortedView;
  if(tmpMargin < 1024) 
  scrollView.contentSize = CGSizeMake(scrollViewBottomRowWidth+1024,scrollView.bounds.size.height);    
  }
  [scrollView scrollRectToVisible:CGRectMake(xCordForSortedView, 0,scrollView.frame.size.width, scrollView.frame.size.height) animated:YES]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:36:18.497

我不会编辑你的代码，但我可以给你一个提示。看，当你填充滚动窗口时，通过添加一个图像视图，在 NSMutableDictionary（实例变量）中添加一个条目，所以键是 AZ 字母，值是图像的 x 位置。当您完成填充滚动视图时，您还将拥有包含所有图像位置的字典（并且您只需要 x）和相应的字母。现在您点击“J”并点击“搜索” - 您解析字典以使用键“J”查找对象并读取它的值。使用这个 (x) 值来设置你的 srollview 的 contentOffset。多田！

# javascript - 文件系统 API 和 Chrome 扩展

> ID：11573889
> 
> 赞同：1
> 
> 时间：2012-07-20T06:24:07.880
> 
> 标签：javascript, html, google-chrome, google-chrome-extension

我的新 ChromeApp 遇到了一些问题。

所以.. 我已经开始使用 JavaScript FileSystem API，所以我用它来创建 mp3 文件（我的应用程序是一个 html5 播放器）。

FileSystem API 中的 FileEntry 对象`toURL()`为存储在文件系统中的文件提供了方法。在 ChormeApps 中，此方法返回如下内容：

```
filesystem:chrome-extension://mhldgbaidgpagmimniipggmajbodaeco/persistent/cbd416046ae7a567d4629fc38ac80864.mp3 
```

但是，当我尝试在`<audio>`标签中使用此 url 作为`src`属性值时，我收到此错误：

```
Refused to load media from 'filesystem:chrome-extension://mhldgbaidgpagmimniipggmajbodaeco/persistent/cbd416046ae7a567d4629fc38ac80864.mp3' because of Content-Security-Policy. 
```

所以我尝试使用带有相对路径的清晰名称

```
<audio src="cbd416046ae7a567d4629fc38ac80864.mp3" /> 
```

并使用 Chrome 应用程序根路径

```
<audio src="chrome-extension://mhldgbaidgpagmimniipggmajbodaeco/cbd416046ae7a567d4629fc38ac80864.mp3"/> 
```

并带有“持久”文件夹

```
<audio src="chrome-extension://mhldgbaidgpagmimniipggmajbodaeco/persistent/cbd416046ae7a567d4629fc38ac80864.mp3"/> 
```

在最后 3 种情况下，我遇到了 404 错误。那么，如何启用从文件系统加载媒体？清单中的内容 `content_security_policy`或可能在`permissions`？或者有什么神奇的途径可以使用？

提前感谢您的回答。

**更新：** 我使用`content_security_policy`指令：

```
default-src 'none'; style-src 'self' 'unsafe-inline'; img-src 'self' http://*.userapi.com; script-src 'self' 'unsafe-eval'; connect-src 'self' http://*.userapi.com http://vk.com http://last.fm http://ws.audioscrobbler.com; media-src 'self'; 
```

但`media-src 'self'`并没有带来需要的结果。我仍然遇到错误“拒绝加载媒体”。

**更新 2：** 我发现了一个丑陋的黑客来做我想做的事：`media-src: 'self' *`完成这项工作。但是，如果您对如何解决这个问题有一些想法，我会很高兴看到他们。

**更新 3：** 问题已解决。感谢[Mihai Parparita](https://stackoverflow.com/users/343108/mihai-parparita)的回答。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T16:15:53.127

您需要使用`media-src 'self' filesystem:`CSP 指令来允许 filesystem: URLs（`'self'`仅在您的扩展中直接包含 URL，而不是包装`filesystem:`的 URL）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T07:35:27.507

您的清单中是否有“content_security_policy”字符串。

如果不是，您是否使用 manifest_version : 2，则“content_security_policy”设置为

> “脚本-src 'self'; 对象-src 'self';”

请参阅清单版本 2[文档](http://code.google.com/chrome/extensions/manifestVersion.html)

您可能需要将媒体源添加到 CSP 字符串。

> 媒体源：“自我”

内容安全策略在[MDN 此处](https://developer.mozilla.org/en/Security/CSP/CSP_policy_directives)进行了解释。

# javascript - 通过时区 id 将 Jquery 日期转换为自定义时区

> ID：11573890
> 
> 赞同：2
> 
> 时间：2012-07-20T06:24:13.153
> 
> 标签：javascript, jquery

我必须在我的实时页面上显示日期时间值，为此我已经完成了以下 jquery 函数。

```
 function DisplayTimer() {
            var x = new Date();
            $('#<%=lblTimer.ClientID %>').html(x.toString());
            setTimeout('DisplayTimer()', 5000);
        } 
```

现在我的**会话对象中有****timezonid**值如何使用 timezonid 会话值将上述日期值转换为自定义时区，并且还希望通过此 jquery 函数根据**用户浏览器的文化设置****日期时间格式。**我在服务器端代码中有解决方案，所以使用 [webmethod] 我可以做到，它会每 5 秒发出一次单独的请求，所以我想在没有服务器端交互的情况下这样做。如果有人做过这种逻辑，请帮助我。

 ******提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-03T11:49:05.280

更改您的代码：

```
var ClientDatetime = x.getMonth() + "/" + x.getDate() + "/"  + x.getYear() + " " 
+ x.getHours() + ":" + x.getMinutes() + ":" + x.getSeconds(); 
```

取一个隐藏变量 hdnClientDateTime 与 runate = server 并设置值如下

```
hdnClientDateTime.value = ClientDatetime; 
```

现在，在服务器端 Datetime 格式函数中传递 hdnClientDateTime.value 变量并将值分配给标签，如下所示：

```
$('#<%=lblTimer.ClientID %>').html(Result); 
```******

# javascript - 错误：因为我们正在等待 WebCore 对着陆的响应，所以错过了一次拖动

> ID：11573891
> 
> 赞同：1
> 
> 时间：2012-07-20T06:24:21.513
> 
> 标签：javascript, cordova, sencha-touch, sencha-touch-2

我正在尝试将滚动添加到 Sencha Touch 字段集。当我尝试向下滚动字段集时，它在 logcat 中显示以下错误：

```
W/webview(1003): Miss a drag as we are waiting for WebCore's response for touch down. 
```

对于字段集，我编写了以下代码：

```
{
    xtype: 'fieldset',
    docked: 'top',
    margin: '20000',
    width: 600,
    height: 200,
    items: [
        {
            xtype: 'textfield',
            id: 'consumername',
            style: 'font: DroidSans',
            label: 'ConsumerName',
            labelWidth: '30%'
        },
        {
            xtype: 'numberfield',
            id: 'Mobilenum',
            style: 'font: DroidSans',
            label: 'Mobile',
            labelWidth: '30%'
        },
        {
            xtype: 'emailfield',
            id: 'email',
            label: 'CustomerEmailid',
            labelWidth: '30%',
            placeHolder: 'email@example.com'
        },
        {
            xtype: 'textareafield',
            id: 'adressfield',
            style: 'font: DroidSans',
            label: 'Address',
            labelWidth: '30%'
        },
        {
            xtype: 'textfield',
            id: 'areafield',
            style: 'font: DroidSans',
            label: 'Area/Location',
            labelWidth: '30%'
        },
        {
            xtype: 'selectfield',
            label: 'City',
            labelWidth: '30%',
            options: [
                {
                    text: 'Bangalore',
                    value: 'first'
                },
                {
                    text: 'Delhi',
                    value: 'second'
                },
                {
                    text: 'Mumbai',
                    value: 'third'
                }
            ]
        },
        {
            xtype: 'numberfield',
            id: 'pinfield',
            style: 'font: DroidSans',
            label: 'Pincode*',
            labelWidth: '30%'
        },

    ]
} 
```

我正在使用 2.2 版本的 Android Olive Pad 平板电脑进行测试。我正在使用 Sencha Touch 2 和 PhoneGap 来构建应用程序。

# visual-studio - Visual Studio 在开始构建之前挂起 20 秒

> ID：11573895
> 
> 赞同：5
> 
> 时间：2012-07-20T06:24:37.240
> 
> 标签：visual-studio, time, build

我对 Visual Studio 2010 和一个项目（VB.net）的构建时间有疑问。我会说这个项目对于一个 DLL 来说是很大的，所以我可以理解什么时候构建时间本身比其他项目持续的时间长一点。

但奇怪的是：当我开始构建时，输出窗口上会显示以下行： ------ Build started: Project: kaCtrl, Configuration: Debug Any CPU ------

然后看起来编译器什么也没做。即使我将输出选项更改为“诊断”以查看构建过程中的每一步，也没有任何反应。20 秒后构建开始并在 1 秒内完成。

但是视觉工作室在这 20 秒内到底在做什么呢？有什么我可以禁用以使其更快吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T15:56:59.743

我也有这个问题，当我分析这个问题时，我发现它在这段时间内消耗了太多的 CPU 内存（在任务管理器中检查 -> 性能）。所以我做的让它更快的是，我停止了一些不必要的服务（消耗一些特定数量的 cpu 内存），如 office、adobe 等，并关闭除 vs2010 之外的所有其他应用程序并执行我的命令。魔术发生了。它大约在 5 秒内构建。不确定它是否适合您，但绝对值得一试。你最好

# click - Slickgrid DblClick & Click

> ID：11573901
> 
> 赞同：2
> 
> 时间：2012-07-20T06:24:54.197
> 
> 标签：click, slickgrid, double-click

我正在使用 SlickGrid 并希望同时使用`Click`和`DblClick`事件。

如果我双击，首先会显示 click 事件，但`DblClick`不会触发。这是我所拥有的：

```
TreePopupGrid.onClick.subscribe(function (e, args){
    var cell = TreePopupGrid.getCellFromEvent(e)
    var row = cell.row;
    var item = TreePopupDataView.getItem(row);
    alert("single"+item.id);
});
TreePopupGrid.onDblClick.subscribe(function (e, args){
    var cell = TreePopupGrid.getCellFromEvent(e)
    var row = cell.row;
    var item = TreePopupDataView.getItem(row);
    alert("double"+item.id);
}); 
```

如何使用这两个事件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T16:44:47.087

Did you try setting the grid option: enableCellNavigation: true. I think this fixed this problem for me.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-18T14:15:38.133

有点晚了，但实际上，允许这样做的选项是 autoEdit: true。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-05-18T15:04:13.103

有完全相同的问题。我的解决方法是消除点击事件：

```
 grid.onDblClick.subscribe(this.doubleClickHandler);
 grid.onClick.subscribe(_.debounce(this.clickHandler, 500)); 
```

请注意，我一直在使用 lodash debounce 实现。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-07-04T20:47:03.517

是的，您可以同时使用两者，但您现在拥有它的方式，它们会在双击期间同时触发，因为这是两次单击。你不会得到想要的结果。您应该将它们包装在 jQuery $.dblclick() 和 $.click() 处理程序中。那应该可以得到你想要的。

# ios - iOS 应用内购买：用户为非消耗品收取两次费用？

> ID：11573902
> 
> 赞同：1
> 
> 时间：2012-07-20T06:24:54.607
> 
> 标签：ios, in-app-purchase

我的应用专门销售非消耗性 IAP 产品。内容本身是短视频，但其中不少很明显它们存储在 /Cache 中并且没有备份。

我刚收到一位客户的投诉，说“我们向他收取了两次费用”的产品（根据 iTunes 发票电子邮件）。这不应该发生，因为正如我解释的那样，所有产品都是“非消耗品”。

我们向他解释说，管理付款等的是 Apple (iTunes)，我们只提供内容，因此任何支持都应针对 Apple/iTunes。

尽管如此，我还是担心这种事情会经常发生。我在网上搜索但只找到了这种情况：

[http://forums.toucharcade.com/showthread.php?t=97184](http://forums.toucharcade.com/showthread.php?t=97184)

我在 Apple 的任何常见问题解答或支持页面（针对用户）或开发者论坛（针对开发者）中都找不到任何相关部分。

假设这是 iTunes 中的（罕见）错误，它是否经常发生？

如果您有任何类似的经验要分享，以及您是如何解决的，那将有所帮助...

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-20T06:35:33.907

购买产品时，您需要将购买按钮与恢复按钮切换。只需检查是否购买了交易 ID，然后显示恢复按钮。

# angularjs - 尝试使用 AngularJS 为歌曲添加“喜欢”计数

> ID：11573907
> 
> 赞同：0
> 
> 时间：2012-07-20T06:25:28.337
> 
> 标签：angularjs

目前暂时离开 EmberJS 的旅行车，并检查 AngularJS。我试图创建一个歌曲标题列表，旁边有一个“喜欢”链接。当您单击“喜欢”时，歌曲标题旁边会列出喜欢的数量。这是我的 jsfiddle，感谢您的帮助！[http://jsfiddle.net/stevenng/SpQH5/7/](http://jsfiddle.net/stevenng/SpQH5/7/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T06:37:19.697

让您的 $scope.like 函数执行此操作将起作用（[http://jsfiddle.net/SpQH5/9/](http://jsfiddle.net/SpQH5/9/)）：

```
$scope.like = function (song) {
    song.like += 1;
}; 
```

由于 Angular 的数据绑定在增加`{{song.like}}`时会在 DOM 中自动更新`song.like`。

* * *

请注意，您也可以在没有范围函数的情况下通过直接增加`song.like`这个[fiddle](http://jsfiddle.net/SpQH5/15/)来完成此操作：`ng-click`

```
 <div class="song" ng-repeat="song in songs">
    <a href="#" ng-click="song.like = song.like + 1">like</a> ({{song.like}}) 
    <h3>{{song.title}}</h3>
  </div> 
```

# android - ImageMagick for android...程序崩溃

> ID：11573908
> 
> 赞同：1
> 
> 时间：2012-07-20T06:25:28.200
> 
> 标签：android, imagemagick

> **可能重复：**
> [Android 图像魔法](https://stackoverflow.com/questions/9460764/android-image-magick)

以下行导致 ImageMagic 项目....( [https://github.com/lilac/Android-ImageMagick/tree/master/src](https://github.com/lilac/Android-ImageMagick/tree/master/src) ) System.loadLibrary("android-magick"); 如果有人以前使用过该库，请告诉我您是否遇到过上述错误...提前感谢您的宝贵意见

# php - 跨多个表动态检索字段

> ID：11573909
> 
> 赞同：0
> 
> 时间：2012-07-20T06:25:37.140
> 
> 标签：php, mysql, sql, database-design

所以我有一个设计，将人们分组，这些组决定每个人保存哪些属性。

因此，如果稍后我决定要拥有 VIP 客户并记录他们的 VIP 号码，我可以创建一个名为“VIP 成员”的新组，其属性为“VIP_Number”，并将这些客户放在该组中。

因此，员工和其他客户没有与他们无关的字段。

**现在，从给定人员的单独表中获取所有必需数据的最佳方法是什么？我需要一个支持以后添加的数据表的解决方案。**

这是桌子设计。

笔记：

*   'd' 前缀用于数据表
*   'x' 前缀用于交叉引用表
*   'p' 前缀用于属性
*   我使用了不同长度的 ID 来帮助提高可读性
*   John Smith 是员工，因此也是人。
*   Anna Backhouse 是一个客户，因此也是一个人。
*   Mr Both 既是员工又是客户，因此也是人。

**d人**

```
ID                   pFirst_Name          pLast_Name
----------------------------------------------------------
001                  John                 Smith
002                  Anna                 Backhouse
003                  Mr                   Both 
```

**d员工**

```
ID                   pBadge_Code
----------------------------------------------------------
01                   MB2012
02                   JS2012 
```

**d客户**

```
ID                   pPhone_Number
----------------------------------------------------------
01                   1800 backhouse
02                   1800 both 
```

**d组**

```
ID                   pGroup_Name
----------------------------------------------------------
1                    People
2                    Employees
3                    Customers 
```

**x组**

```
dGROUPS_ID_parent    dGROUPS_ID_child
----------------------------------------------------------
1                    1
1                    2
1                    3 
```

**x人**

```
dPeople_ID           dGROUPS_ID
----------------------------------------------------------
001                  2
002                  3
003                  2
003                  3 
```

**x员工**

```
dPeople_ID           dEmployees_ID
----------------------------------------------------------
001                  02
003                  01 
```

**x客户**

```
dPeople_ID           dCustomers_ID
----------------------------------------------------------
002                  01
003                  02 
```

查找 Mr Both 时的期望结果：

```
ID    pFirst_Name  pLast_Name  pBadge_Code  pPhone_Number
----------------------------------------------------------
003   Mr           Both        MB2012       1800 both 
```

查找 John Smith 时的期望结果：

```
ID    pFirst_Name  pLast_Name  pBadge_Code  
----------------------------------------------------------
001   John         Smith       JS2012 
```

查找 Anna Backhouse 所需的结果：

```
ID    pFirst_Name  pLast_Name  pPhone_Number
----------------------------------------------------------
002   Anna         Backhouse   1800 backhouse 
```

我可以获得他们正在使用的所有组的列表：

```
SELECT `dGROUPS`.`ID` AS `Group ID`, `dGROUPS`.`pGroup_Name` AS `Group Name` FROM `dGROUPS`, `xGROUPS` WHERE `xGROUPS`.`dGROUPS_ID_parent` = `dGROUPS`.`ID` AND (`xGROUPS`.`dGROUPS_ID_child` IN (SELECT `dGROUPS_ID` FROM `xPeople` WHERE dPeople_ID = 003)) 
```

当我有更多的子组时，这很有帮助，例如人员 > 员工 > 经理

我想我需要运行这个查询并使用它动态地形成另一个查询以获得所需的结果。我不介意使用两个查询，但是首选一个。

也许有使用视图的解决方案？

我正在使用 PHP 和 MySQL。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T07:52:16.213

我修改了 select 子句，星号选择所有列，甚至是后来添加到表中的新列。

两位先生：

```
 --select dp.ID, dp.pFirst_Name, dp.pLast_Name, de.pBadge_Code, dc.pPhone_Number
    select dp.*, dp.*, dp.*, de.*, dc.*
    from dPeople dp join xCustomers xc
      on dp.id = xc.dPeople_ID
    join dCustomers dc
      on xc.dCustomers_ID = dc.ID
    join xEmployees xe
      on dp.id = xe.dPeople_ID
    join dEmployees de
      on  xe.dEmployees_ID = de.ID 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T12:16:47.817

If you don't mind about having empty columns (you could handle them in the php side) you can get the desired result without using dynamic queries. This would also allow you to throw away grouping tables: dGROUPS and xGROUPS don't give any added value **for just this purpose** the relation among entities is already given by the actual data, they only generate [Update anomalies](https://www.google.com/search?q=Update%20anomalies&ie=utf-8).

This a sample made with postgres (but you can do the same with mysql).

```
postgres=# with dPeople(ID, pFirst_Name, pLast_Name) as (
postgres(#              values('001','John','Smith')
postgres(#              union all
postgres(#              values('002','Anna','Backhouse')
postgres(#              union all
postgres(#              values('003','Mr','Both')
postgres(#      ), dEmployees(ID, pBadge_Code) as (
postgres(#              values('01','MB2012')
postgres(#              union all
postgres(#              values('02','JS2012')
postgres(#      ), dCustomers (ID, pPhone_Number) as (
postgres(#              values('01','1800 backhouse')
postgres(#              union all
postgres(#              values('02','1800 both')
postgres(#      ), xPeople (dPeople_ID, dGROUPS_ID) as (
postgres(#              values('001','2')
postgres(#              union all
postgres(#              values('002','3')
postgres(#              union all
postgres(#              values('003','2')
postgres(#              union all
postgres(#              values('003','3')
postgres(#      ), xEmployees (dPeople_ID, dEmployees_ID) as (
postgres(#              values('001','02')
postgres(#              union all
postgres(#              values('003','01')
postgres(#      ), xCustomers (dPeople_ID, dCustomers_ID) as (
postgres(#              values('002','01')
postgres(#              union all
postgres(#              values('003','02')
postgres(#      )
postgres-# select *
postgres-# from (
postgres(#              select ID as dPeople_ID, pFirst_Name, pLast_Name
postgres(#              from dPeople
postgres(#      ) dPeople
postgres-#      left outer join (
postgres(#                      select dPeople_ID, dEmployees_ID, pBadge_Code
postgres(#                      from xEmployees
postgres(#                              join (
postgres(#                                              select ID as dEmployees_ID, pBadge_Code
postgres(#                                              from dEmployees
postgres(#                                      ) as dEmployees using (dEmployees_ID)
postgres(#              ) as Employees using (dPeople_ID)
postgres-#      left outer join (
postgres(#                      select dPeople_ID, dCustomers_ID,  pPhone_Number
postgres(#                      from xCustomers
postgres(#                              join (
postgres(#                                              select ID as dCustomers_ID, pPhone_Number
postgres(#                                              from dCustomers
postgres(#                                      ) as Customers using (dCustomers_ID)
postgres(#              ) as Customers using (dPeople_ID)
postgres-# ;
 dpeople_id | pfirst_name | plast_name | demployees_id | pbadge_code | dcustomers_id | pphone_number
------------+-------------+------------+---------------+-------------+---------------+----------------
 001        | John        | Smith      | 02            | JS2012      |               |
 002        | Anna        | Backhouse  |               |             | 01            | 1800 backhouse
 003        | Mr          | Both       | 01            | MB2012      | 02            | 1800 both
(3 rows) 
```

# parallel-processing - 按列划分二维数组并使用 allgather

> ID：11573910
> 
> 赞同：1
> 
> 时间：2012-07-20T06:25:38.413
> 
> 标签：parallel-processing, fortran, mpi, fortran90

我有一个 fortran MPI 代码，其中在 2D 数组的每个元素上调用计算密集型函数。我正在尝试在队伍中分配任务。例如，如果有 30 列和 10 个等级，则每个等级有 3 列。以下代码执行此拆分并使用 allgather 收集结果。但是最终的数组没有所有等级的值。

```
 program allgather
    include 'mpif.h'
    !create a 2 x 30 myarray
    integer :: x=2,y=30
    integer :: numprocs,myid
    integer :: i,j,k,myelements,mycolumns,jb,je
    integer*4,dimension(:),allocatable :: displacement,recvcnt
    real :: checksum
    real,dimension(:,:),allocatable :: myarr,combinedarr
    call MPI_INIT(IERR)
    call MPI_COMM_SIZE(MPI_COMM_WORLD,NUMPROCS,IERR)
    call MPI_COMM_RANK(MPI_COMM_WORLD,MYID,IERR)
    mycolumns = y/numprocs
    myelements = x * mycolumns
    allocate(displacement(numprocs),recvcnt(numprocs))
    jb = 1 + ( myid * mycolumns ) 
    je = ( myid + 1 ) * mycolumns
    allocate(myarr(x,mycolumns))
    allocate(combinedarr(x,y))
    myarr(:,:) =0
    do j=jb,je
      do i=1,x
       myarr(i,j) = 1
      enddo
    enddo
    !myarr(:,:)=1 
    if(mod(y,numprocs) > 0) then
     if(myid==numprocs-1) then
       jb=(myid + 1) * mycolumns + 1
       do j=jb,y 
        do i=1,x
          myarr(i,j) = 1
        enddo
      enddo 
     endif
    endif
    combinedarr(:,:) =0
    recvcnt(:)=myelements
    do k=1,numprocs
    displacement(k) = (k-1) *myelements
    enddo
    call MPI_ALLGATHERV(myarr,myelements,MPI_REAL,combinedarr,recvcnt,displacement,MPI_REAL,MPI_COMM_WORLD,IERR)
    if(mod(y,numprocs) > 0) then
     recvcnt(:) = 0
     recvcnt(numprocs) = (x*y) - myelements * (numprocs)
     displacement(numprocs) = displacement(numprocs) + myelements
     call MPI_ALLGATHERV(myarr,recvcnt(numprocs),MPI_REAL,combinedarr,recvcnt,displacement,MPI_REAL,MPI_COMM_WORLD,IERR)
    endif
    if (myid==0) then 
    checksum=0
     write(6,*) "mycolumns:",mycolumns,"myelements:",myelements 
    do j=1,y
      do i=1,x
       checksum = checksum + combinedarr(i,j)
      enddo
     enddo
       write(6,*) checksum 
    endif
    end 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-20T08:15:35.640

首先，您使用的`MPI_ALLGATHERV()`是 as`MPI_ALLGATHER()`并且没有从它从/向每个进程发送不同数量的元素的能力中获得任何好处。但这不是您程序中的错误。错误在于它的填充方式`myarr`。您将其分配为，但是当从 column到 column`myarr(x,mycolumns)`填充它时，您在所有进程中都超过了数组的末尾，但排名从那时起并且大于那里。因此，仅在等级中包含 1，在所有其他等级中包含零。所以，是的，最终数组没有您期望的值，但那是因为您填错了它们，而不是因为使用 MPI 子例程的方式。`jb``je``0``jb``je``mycolumns``myarr``0`

写入可分配数组的末尾会破坏用于管理堆分配的隐藏结构，并且通常会使程序崩溃。在您的情况下，您很幸运-我使用 Open MPI 运行您的代码，并且每次都因核心转储而崩溃。

而且您还错过了`MPI_FINALIZE()`代码末尾的调用。

提示：如果可用，请使用 Fortran 90 界面 - 替换`include 'mpif.h'`为`use mpi`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T23:50:08.700

这是代码的最终版本。我已经实施了“Hristo Iliev”建议的修复，还修复了 # 或排名不均分列 # 的部分。这里最后一个排名对剩余列进行计算。

```
 program allgather
    include 'mpif.h'
    !create a 2 x 30 myarray
    integer :: x=4,y=6
    integer :: numprocs,myid
    integer :: i,j,k,myelements,mycolumns,jb,je,jbb
    integer*4,dimension(:),allocatable :: displacement,recvcnt
    real :: checksum
    real,dimension(:,:),allocatable :: myarr,combinedarr
    call MPI_INIT(IERR)
    call MPI_COMM_SIZE(MPI_COMM_WORLD,NUMPROCS,IERR)
    call MPI_COMM_RANK(MPI_COMM_WORLD,MYID,IERR)
    mycolumns = y/numprocs
    myelements = x * mycolumns
    allocate(displacement(numprocs),recvcnt(numprocs))
    jb = 1 + ( myid * mycolumns ) 
    je = ( myid + 1 ) * mycolumns
    allocate(myarr(x,y))
    allocate(combinedarr(x,y))
    myarr(:,:) =0
    do j=jb,je
      do i=1,x
       myarr(i,j) = (j-1) * x + i
      enddo
    enddo
    if(mod(y,numprocs) > 0) then
     if(myid==numprocs-1) then
       jbb=(myid + 1) * mycolumns + 1
       do j=jbb,y 
        do i=1,x
           myarr(i,j) = (j-1) * x + i
        enddo
      enddo 
     endif
    endif
    combinedarr(:,:) =0
    recvcnt(:)=myelements
    do k=1,numprocs
    displacement(k) = (k-1) *myelements
    enddo
    call MPI_ALLGATHERV(myarr(1,jb),myelements,MPI_REAL,combinedarr,recvcnt,displacement,MPI_REAL,MPI_COMM_WORLD,IERR)
    if(mod(y,numprocs) > 0) then
     recvcnt(:) = 0
     recvcnt(numprocs) = (x*y) - myelements * (numprocs)
     displacement(numprocs) = displacement(numprocs) + myelements
     call MPI_ALLGATHERV(myarr(1,jbb),recvcnt(numprocs),MPI_REAL,combinedarr,recvcnt,displacement,MPI_REAL,MPI_COMM_WORLD,IERR)
    endif
    if (myid==0) then 
    checksum=0
     write(6,*) "mycolumns:",mycolumns,"myelements:",myelements 
    do j=1,y
      do i=1,x
       checksum = checksum + combinedarr(i,j)
      enddo
     enddo
       write(6,*) checksum 
    endif
    end 
```

# ssl - JBoss Netty：支持 SNI（服务器名称指示）

> ID：11573913
> 
> 赞同：0
> 
> 时间：2012-07-20T06:25:49.563
> 
> 标签：ssl, netty, sni

JBoss Netty 中的 SSL 实现是否支持服务器名称指示？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-21T02:21:44.223

[这与这个问题](https://stackoverflow.com/q/11574216/372643)的答案或多或少相同：[Java 7 support SNI, but only from the client side](http://docs.oracle.com/javase/7/docs/technotes/guides/security/enhancements-7.html)。

# excel - 使用 VBA 检查文件是否存在

> ID：11573914
> 
> 赞同：83
> 
> 时间：2012-07-20T06:25:51.897
> 
> 标签：excel, vba

```
Sub test()

thesentence = InputBox("Type the filename with full extension", "Raw Data File")

Range("A1").Value = thesentence

If Dir("thesentence") <> "" Then
    MsgBox "File exists."
Else
    MsgBox "File doesn't exist."
End If

End Sub 
```

在这种情况下，当我从输入框中拾取文本值时，它不起作用。但是，如果`"the sentence"`从 If中删除`Dir()`并将其替换为代码中的实际名称，则它可以工作。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：147
> 
> 时间：2012-07-20T06:31:26.213

请注意您的代码包含`Dir("thesentence")`哪些应该是`Dir(thesentence)`.

**将您的代码更改为此**

```
Sub test()

thesentence = InputBox("Type the filename with full extension", "Raw Data File")

Range("A1").Value = thesentence

If Dir(thesentence) <> "" Then
    MsgBox "File exists."
Else
    MsgBox "File doesn't exist."
End If

End Sub 
```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-07-20T07:19:07.450

使用 Office`FileDialog`对象让用户从文件系统中选择一个文件。在您的 VB 项目或 VBA 编辑器中添加参考`Microsoft Office Library`并查看帮助。这比让人们进入完整路径要好得多。

这是一个`msoFileDialogFilePicker`允许用户选择多个文件的示例。你也可以使用`msoFileDialogOpen`.

```
'Note: this is Excel VBA code
Public Sub LogReader()
    Dim Pos As Long
    Dim Dialog As Office.FileDialog
    Set Dialog = Application.FileDialog(msoFileDialogFilePicker)

    With Dialog
        .AllowMultiSelect = True
        .ButtonName = "C&onvert"
        .Filters.Clear
        .Filters.Add "Log Files", "*.log", 1
        .Title = "Convert Logs to Excel Files"
        .InitialFileName = "C:\InitialPath\"
        .InitialView = msoFileDialogViewList

        If .Show Then
            For Pos = 1 To .SelectedItems.Count
                LogRead .SelectedItems.Item(Pos) ' process each file
            Next
        End If
    End With
End Sub 
```

有很多选项，因此您需要查看完整的帮助文件以了解所有可能的内容。您可以从[Office 2007 FileDialog 对象](http://msdn.microsoft.com/en-us/library/office/aa432103%28v=office.12%29.aspx)开始（当然，您需要找到您正在使用的版本的正确帮助）。

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2013-05-29T19:14:21.173

更正来自 @UberNubIsTrue 的 fileExists ：

```
Function fileExists(s_directory As String, s_fileName As String) As Boolean

  Dim obj_fso As Object, obj_dir As Object, obj_file As Object
  Dim ret As Boolean
   Set obj_fso = CreateObject("Scripting.FileSystemObject")
   Set obj_dir = obj_fso.GetFolder(s_directory)
   ret = False
   For Each obj_file In obj_dir.Files
     If obj_fso.fileExists(s_directory & "\" & s_fileName) = True Then
        ret = True
        Exit For
      End If
   Next

   Set obj_fso = Nothing
   Set obj_dir = Nothing
   fileExists = ret

 End Function 
```

编辑：缩短版

```
' Check if a file exists
Function fileExists(s_directory As String, s_fileName As String) As Boolean

    Dim obj_fso As Object

    Set obj_fso = CreateObject("Scripting.FileSystemObject")
    fileExists = obj_fso.fileExists(s_directory & "\" & s_fileName)

End Function 
```

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2012-07-21T13:52:19.590

只是摆脱那些语音标记

```
Sub test()

Dim thesentence As String

thesentence = InputBox("Type the filename with full extension", "Raw Data File")

Range("A1").Value = thesentence

If Dir(thesentence) <> "" Then
    MsgBox "File exists."
Else
    MsgBox "File doesn't exist."
End If

End Sub 
```

这是我喜欢的一个：

```
Option Explicit

Enum IsFileOpenStatus
    ExistsAndClosedOrReadOnly = 0
    ExistsAndOpenSoBlocked = 1
    NotExists = 2
End Enum

Function IsFileReadOnlyOpen(FileName As String) As IsFileOpenStatus

With New FileSystemObject
    If Not .FileExists(FileName) Then
        IsFileReadOnlyOpen = 2  '  NotExists = 2
        Exit Function 'Or not - I don't know if you want to create the file or exit in that case.
    End If
End With

Dim iFilenum As Long
Dim iErr As Long
On Error Resume Next
    iFilenum = FreeFile()
    Open FileName For Input Lock Read As #iFilenum
    Close iFilenum
    iErr = Err
On Error GoTo 0

Select Case iErr
    Case 0: IsFileReadOnlyOpen = 0 'ExistsAndClosedOrReadOnly = 0
    Case 70: IsFileReadOnlyOpen = 1 'ExistsAndOpenSoBlocked = 1
    Case Else: IsFileReadOnlyOpen = 1 'Error iErr
End Select

End Function    'IsFileReadOnlyOpen 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2015-10-22T11:12:25.500

```
Function FileExists(fullFileName As String) As Boolean
    FileExists = VBA.Len(VBA.Dir(fullFileName)) > 0
End Function 
```

在我的网站上工作得很好，几乎。如果我用 "" 空字符串调用它，Dir 将返回 " **connection.odc** "！如果你们能分享你的结果，那就太好了。

无论如何，我喜欢这样：

```
Function FileExists(fullFileName As String) As Boolean
  If fullFileName = "" Then
    FileExists = False
  Else
    FileExists = VBA.Len(VBA.Dir(fullFileName)) > 0
  End If
End Function 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2015-06-14T02:09:10.607

```
Function FileExists(fullFileName As String) As Boolean
    FileExists = VBA.Len(VBA.Dir(fullFileName)) > 0
End Function 
```

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2012-07-20T06:31:32.290

我不确定您的代码具体有什么问题，但我使用我在网上找到的这个函数（评论中的 URL）来检查文件是否存在：

```
Private Function File_Exists(ByVal sPathName As String, Optional Directory As Boolean) As Boolean
    'Code from internet: http://vbadud.blogspot.com/2007/04/vba-function-to-check-file-existence.html
    'Returns True if the passed sPathName exist
    'Otherwise returns False
    On Error Resume Next
    If sPathName <> "" Then

        If IsMissing(Directory) Or Directory = False Then

            File_Exists = (Dir$(sPathName) <> "")
        Else

            File_Exists = (Dir$(sPathName, vbDirectory) <> "")
        End If

    End If
End Function 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2019-08-12T09:21:58.347

基于此处的其他答案，我想分享我**应该适用于 dirs 和 files**的单行代码：

*   ```
    Len(Dir(path)) > 0 or Or Len(Dir(path, vbDirectory)) > 0  'version 1 - ... <> "" should be more inefficient generally 
    ```

    *   （只是`Len(Dir(path))`不适用于目录（Excel 2010 / Win7））
*   ```
    CreateObject("Scripting.FileSystemObject").FileExists(path)  'version 2 - could be faster sometimes, but only works for files (tested on Excel 2010/Win7) 
    ```

作为`PathExists(path)`函数：

```
Public Function PathExists(path As String) As Boolean
    PathExists = Len(Dir(path)) > 0 Or Len(Dir(path, vbDirectory)) > 0
End Function 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2018-12-19T03:55:27.877

Very old post, but since it helped me after I made some modifications, I thought I'd share. If you're checking to see if a directory exists, you'll want to add the vbDirectory argument to the Dir function, otherwise you'll return `0` each time. (Edit: this was in response to Roy's answer, but I accidentally made it a regular answer.)

```
Private Function FileExists(fullFileName As String) As Boolean
    FileExists = Len(Dir(fullFileName, vbDirectory)) > 0
End Function 
```

# java - 如何在 Jelly 中执行 bash 脚本？

> ID：11573915
> 
> 赞同：0
> 
> 时间：2012-07-20T06:25:55.857
> 
> 标签：java, bash, maven, jelly

我想`postGoal`使用 Jelly 在我的 maven.xml 部分执行一个 bash 脚本。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T18:52:33.007

我找到了。您必须使用`jelly:ant`（我将其映射为`a`）。然后只写：

```
<a:exec executable="/bin/bash">
    <a:arg value="script_path"/>
    <a:arg value="srcipt_args"/>
</a:exec> 
```

# c# - 使用 HTTP WEB REQUEST 从 URL 读取响应

> ID：11573919
> 
> 赞同：6
> 
> 时间：2012-07-20T06:26:21.047
> 
> 标签：c#

我必须阅读来自[http://www.subway.com/storelocator/default.aspx?zip=04416&country=USA](http://www.subway.com/storelocator/default.aspx?zip=04416&country=USA)的响应。我使用了以下代码，但没有得到所有响应。而不是它给出错误页面的响应提前谢谢。

```
protected void Page_Load(object sender, EventArgs e)
{

    string sUrl = "http://www.subway.com/storelocator/default.aspx?zip=04416&country=USA";
    XmlDocument rssDoc = new XmlDocument();
    XmlTextReader rssReader = new XmlTextReader(sUrl.ToString());

    WebRequest wrGETURL;
    wrGETURL = WebRequest.Create(sUrl);

    Stream objStream;
    objStream = wrGETURL.GetResponse().GetResponseStream();
    StreamReader objReader = new StreamReader(objStream, Encoding.UTF8);
    WebResponse wr = wrGETURL.GetResponse();
    Stream receiveStream = wr.GetResponseStream();
    StreamReader reader = new StreamReader(receiveStream, Encoding.UTF8);
    string content = reader.ReadToEnd();
    Response.Write(content);
   } 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-20T07:25:43.310

我不知道你想做什么，`XmlTextReader`因为返回的内容`html`不是`xml`，但是设置 UserAgent 足以获取页面。

```
HttpWebRequest req = (HttpWebRequest)HttpWebRequest.Create("http://www.subway.com/storelocator/default.aspx?zip=04416&country=USA");
req.UserAgent = "Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET4.0C; .NET4.0E)";
using (var resp = req.GetResponse())
{
    var html = new StreamReader(resp.GetResponseStream()).ReadToEnd();
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-20T06:33:33.680

```
Stream objStream;
StreamReader objSR;
System.Text.Encoding encode = System.Text.Encoding.GetEncoding("utf-8");

string str = "http://domaninname.com/YourPage.aspx?name=" + "abc";
HttpWebRequest wrquest = (HttpWebRequest)WebRequest.Create(str);
HttpWebResponse getresponse = null;
getresponse = (HttpWebResponse)wrquest.GetResponse();

objStream = getresponse.GetResponseStream();
objSR = new StreamReader(objStream, encode, true);
string strResponse = objSR.ReadToEnd();
Response.Write(strResponse); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-01-13T10:23:00.080

只需一行，使用更简单的 vb.net（获得与 c# 相同的性能）

```
Return New System.IO.StreamReader(System.Net.HttpWebRequest.Create("http://urltogetthecontents.com").GetResponse().GetResponseStream()).ReadToEnd() 
```

# javascript - 视频直播

> ID：11573920
> 
> 赞同：3
> 
> 时间：2012-07-20T06:26:24.607
> 
> 标签：javascript, jquery, html, cordova, html5-video

我将开发一个基于聊天的移动应用程序，它允许视频聊天。我正在使用 HTML5、javascript 和 PhoneGap。使用phoneGap，我可以访问手机摄像头，捕捉视频，保存视频并将其上传到服务器。我已经为android做了。但我需要视频的现场直播。有什么解决办法吗？注意：它不是任何安卓原生应用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T14:31:26.400

您没有指定当前用于视频捕获的设施。AFAIK，当前的 WebView 尚不支持 WebRTC，这是 w3 标准，它将很快使您能够访问 HTML5 代码中的视频帧。所以我假设你正在使用PhoneGap的`navigator.device.capture.captureVideo`设施。

在 Android 上，`captureVideo`创建 3gp 文件。3gp 的问题在于它们在捕获时无法流式传输或播放：解析其中的视频帧需要文件的 MOOV atom，并且仅在文件中的所有帧都已编码后才写入。因此，您必须先停止录制，然后才能使用该文件。

您在 HTML5 中最好的方法是实现一个循环，捕获一个短片段（3-5 秒？）视频，然后在捕获下一个块时将其发送到服务器。服务器需要将剪辑连接到可以通过流服务器广播的单个文件。这将使广播的延迟增加几秒钟，并且您很可能会在两个单独的块捕获之间的间隙处丢失帧。对于某些用例（例如安全摄像头）来说，这可能就足够了。

如果您的应用程序无法承受丢帧的后果，我认为没有其他选择，只能在 Java 中实现视频捕获和流式传输，作为 PhoneGap 插件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T12:40:26.033

请参阅 Spydroid [http://code.google.com/p/spydroid-ipcamera/](http://code.google.com/p/spydroid-ipcamera/)

它使用您找到的特殊 FileDescriptor 的解决方案。基本上，他们让视频编码器将带有 H.264 的 .mp4 写入特殊文件描述符，该文件描述符在写入时调用您的代码。然后他们剥离 MP4 标头并将 H.264 NALU 转换为 RTP 数据包。

# java - 文件被复制到 FTP 服务器上，而不是在 java 中移动

> ID：11573921
> 
> 赞同：1
> 
> 时间：2012-07-20T06:26:26.707
> 
> 标签：java, ftp, ftp-client

使用下面的程序，我可以在 ftp 服务器上上传 zip 文件。但它会复制 zip 文件并将文件上传到 ftp 服务器。我希望它应该从本地系统中删除文件并将其复制到服务器，即它应该移动文件而不是复制。请指导

```
public class UploadFile {
        public static void main(String args[])
        {      
            FTPClient ftp=new FTPClient();
            try {          
                int reply;  

                ftp.connect("ipadddress"); 

                ftp.login("abc", "abc"); 

                reply = ftp.getReplyCode();
                System.out.println("reply1" + reply);
                if(!FTPReply.isPositiveCompletion(reply)) 
                {             
                    ftp.disconnect();                  
                }           
                System.out.println("FTP server connected."); 
                ftp.setFileType(FTP.BINARY_FILE_TYPE);
                InputStream input= new FileInputStream("D:\\testencrypted.zip");
                String dirTree="/Vel";
                boolean dirExists = true;
                String[] directories = dirTree.split("/");
                for (String dir : directories )
                {
                    if (!dir.isEmpty() )
                    {
                        if (dirExists)
                        {
                            dirExists = ftp.changeWorkingDirectory(dir);
                        }
                        else if (!dirExists)
                        {

                            System.out.println("dir tree" + ftp.printWorkingDirectory());

                            if (!ftp.makeDirectory(dir))
                            {

                                throw new IOException("Unable to create remote directory '" + dir + "'.  error='" + ftp.getReplyString()+"'");
                                }
                            if (!ftp.changeWorkingDirectory(dir))
                            {

                                throw new IOException("Unable to change into newly created remote directory '" + dir + "'.  error='" + ftp.getReplyString()+"'");
                            }
                            System.out.println("dir tree" + ftp.printWorkingDirectory());

                        }

                        }
                    }      

                ftp.storeFile(dirTree+"/t1.zip",input);
                input.close();
                ftp.logout();        
                } 
            catch(Exception e) 
                {                      
                System.out.println("err"+ e);             
                }
            finally 
            {
                if(ftp.isConnected())
                {
                    try
                    { 
                        ftp.disconnect();

                    }
                    catch(Exception ioe)
                    {

                    }

                }

            }
            } 
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:37:16.080

因此，一旦您完成了上传（并且您确定上传成功，只需使用[File.delete()](http://docs.oracle.com/javase/7/docs/api/java/io/File.html#delete%28%29)从本地磁盘中删除文件。

```
File sourceFile = new File("D:\\testencrypted.zip");    
InputStream input= new FileInputStream(sourceFile);

// Upload the file...
// Make sure you close the input stream first ;)

if (!sourceFile.delete()) {

  System.out.println("Failed to delete " + sourceFile + " from local disk");
  sourceFile.deleteOnExit(); // try and delete on JVM exit...

} 
```

# php - 通过google api获取经纬度的行驶距离

> ID：11573924
> 
> 赞同：1
> 
> 时间：2012-07-20T06:26:57.123
> 
> 标签：php, google-maps-api-3, geolocation

我已阅读 google api 的文档，但无法从两个纬度/经度点获得行驶距离

我的问题是，例如，我有两个纬度/经度点

```
latitude1 = -35.397
longitude1 = 150.644

latitude2 = -35.00
longitude2 = 150.644 
```

我想从 google api 开车距离

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:37:22.347

本文[似乎](http://briancray.com/posts/calculate-driving-distance-google-maps-api/)提供了一个与您的问题非常相关的示例。

# debugging - RCU.bat 文件未在虚拟机上打开

> ID：11573928
> 
> 赞同：0
> 
> 时间：2012-07-20T06:27:09.323
> 
> 标签：debugging, batch-file

我在我的 VM 上安装了 Windows 2008 Server。我正在尝试运行一个`.bat`文件（在我的虚拟机上）。该`.bat`文件存储在我的本地 Windows 7 PC 上，我正在使用共享文件夹来访问它。

该`.bat`文件在我的虚拟机上不起作用。没有显示错误。命令提示符窗口弹出然后消失..

但是这个文件在我的电脑上运行良好。文件在一个系统上运行而不在另一个系统上运行的原因可能是什么？

如何`.bat`使用我的虚拟机的命令提示符运行它？检查是否显示任何错误日志？可以做些什么？请指教。

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T08:28:45.077

`.bat`你是通过windows资源管理器双击文件吗？打开命令提示符，然后`cd`到您拥有文件的位置并运行它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-23T09:08:20.003

`cmd`不能使用 UNC 路径作为当前路径。我猜您的共享文件夹使用来宾计算机中的网络共享。将该共享映射到驱动器号，然后重试。

# android - 用于 Web 服务的 Android Asyntask

> ID：11573929
> 
> 赞同：2
> 
> 时间：2012-07-20T06:27:13.457
> 
> 标签：android, web-services, android-asynctask

我正在开发一个完全基于从 Web 服务获取数据的应用程序。在一项活动中，我必须调用几乎 5 6 个显示不同信息的不同 Web 服务。这个应用程序的目标是 v 2.3 到 4.x，因为主 ui 线程上不允许网络通信，所以我正在制作 5 6 AsyncTask 类，因为它的后期执行对我的显示有很大帮助。

现在我很困惑这种方法是对是错，制作了 5 6 个 AsyncTask 类（不能减少 Web 服务的数量或调用一个 AsyncTask，因为我必须一次又一次地检查数据）。这是一个好方法还是我应该改变我的模式，然后切换到什么方法。使用这种方法，我的应用程序在所有设备上都运行良好且流畅。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:39:35.220

我会假设每个 ASyncTask 类都是对 web 服务的 API 请求，如果是这样，那么它是正确的方法。任何网络操作都应该在 UI 线程之外完成。

还有一种更好的方法是使用 ThreadPools 来限制您希望一次保持活动的服务器请求的数量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:39:56.960

我认为这是一个很好的模式。它非常适合面向对象的设计，并且每个都执行自己的任务。

如果你的 web 调用是一个接一个的，如果你真的想的话，你可以将它们组合成一个巨大的 AsyncTask。这肯定会减少您现在拥有的良好封装，并使某人更难以维护和调试。

听起来你拥有的东西已经很好了，如果它运行良好，为什么要修复没有损坏的东西。

# jquery - jquery中[0]的使用与视觉效果

> ID：11573931
> 
> 赞同：2
> 
> 时间：2012-07-20T06:27:16.633
> 
> 标签：jquery

为什么在 jquery 中通过 [0] 选择不适用于视觉效果？

```
$("p")[0].slideUp(); /* it does not work*/
$("p").eq(0).slideUp(); /* it works */ 
```

如前所述，我知道还有其他一些方法可以选择第一个 p，但我很想知道为什么上面提到的代码不起作用......

提前致谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T06:30:04.100

`.slideUp()`是一个 jQuery 方法，将在一个 jQuery 对象上工作。

`$("p").eq(0)`产生一个 jQuery 对象，它有一个`.slideUp()`方法（所以它可以工作）。

`$("p")[0]`生成一个没有 . `slideUp()`方法（所以它不起作用）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T06:28:59.200

`$("p")[0]`将 jQuery 对象转换为原始 Node 元素，然后您不能`slideUp()`在其上调用 jQuery 方法。but`eq(0)`是一个 jQuery 方法，选择第一个`p`元素并返回一个 jQuery 对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-20T06:30:34.660

`[0]`并且`eq(0)`不等价。`[0]`抓取原始 DOM 元素，并将`eq(0)`集合减少到第一个匹配项。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-20T06:30:47.173

`$("p")[0].slideUp();` 给你元素不是*jQuery 对象*，所以 jQuery 方法在这里不起作用。

但，

`$("p").eq(0).slideUp();`在这里，`eq(0)`将第一个`p`作为jQuery 方法工作的*jQuery 对象返回。*

`slideUp()`是一个*jQuery 方法*，它只适用于*jQuery 对象*而不是原始节点元素。

# ruby-on-rails - Rspec let(:model) + model.reload 不重新加载模型

> ID：11573932
> 
> 赞同：3
> 
> 时间：2012-07-20T06:27:19.623
> 
> 标签：ruby-on-rails, rspec, rspec2

```
let(:product) { FactoryGirl.create(:product) }

it "should blah" do
  product.name = "a"
  product.save!
  post :update, id: product.id, product: { name: "x" }
  # assuming :update changes the product's name to params[:name]
  product.reload.name.should == "x"
end 
```

`should`除非我做类似的事情，否则总是失败

```
Product.find(product.id).name.should == "x" 
```

我在滥用`let`吗？

如果我使用`@product`created inside`before :each`就`@product.reload`可以了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-16T12:04:18.737

如果您在执行 spec 和 call 期间中断`self.class.method(:let).source`，您会得到如下信息：

```
def let(name, &block)
  define_method(name) do
    __memoized.fetch(name) {|k| __memoized[k] = instance_eval(&block) }
  end
end 
```

进一步检查，`__memoized`只是一个简单的Hash。我不认为这里有什么花哨的事情。您使用的是什么精确版本的 rails 和 rspec？

# cocoa - 可可：如何使用 nstimeinterval 属性作为全局变量

> ID：11573934
> 
> 赞同：0
> 
> 时间：2012-07-20T06:27:34.757
> 
> 标签：cocoa

我已将 NSTimeInterval 声明为单例类中的属性，并且我想在另一个类中使用它并保留该值。

```
NSTimeInterval startTime=[NSDate timeIntervalSinceReferenceDate]; 
```

我想在另一个班级使用这个开始时间

示例：我可以创建一个 NSDate 类型的属性，例如 @property(assign)NSDate *startDate; 并通过在 init 方法中编写代码使其全局化

self.startTime=[[NSDate alloc]]init; 但是，在 nstimeinterval 的情况下我该怎么做

请帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-21T15:00:32.587

`NSTimeInterval`不是对象，因此不需要保留。

从[参考](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Miscellaneous/Foundation_DataTypes/Reference/reference.html)：

> `NSTimeInterval`用于指定时间间隔，以秒为单位。
> 
> `typedef double NSTimeInterval;`
> 
> NSTimeInterval 总是以秒为单位指定；它在 10,000 年的范围内产生亚毫秒精度。

# java - 如何计算字符串中的特殊字符

> ID：11573939
> 
> 赞同：3
> 
> 时间：2012-07-20T06:28:04.190
> 
> 标签：java, android

> **可能重复：**
> [字符串函数如何计算字符串行中的分隔符](https://stackoverflow.com/questions/11238184/string-functions-how-to-count-delimiter-in-string-line)

> 我有一个字符串 str = "one$two$three$four!five@six$" 现在如何使用 java 代码计算该字符串中“$”的总数。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-20T06:33:53.367

使用全部替换：

```
 String str = "one$two$three$four!five@six$";

    int count = str.length() - str.replaceAll("\\$","").length();

    System.out.println("Done:"+ count); 
```

印刷：

```
Done:4 
```

使用**replace**而不是**replaceAll**将减少资源密集度。我只是用**replaceAll**向您展示了它，因为它可以搜索**正则表达式**模式，这就是我最常使用它的地方。

注意：使用**replaceAll**我需要转义**$**，但使用**replace**没有这样的需要：

```
str.replace("$");
str.replaceAll("\\$"); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-20T06:31:58.717

您可以迭代`Characters`字符串中的：

```
 String str = "one$two$three$four!five@six$";
    int counter = 0;
    for (Character c: str.toCharArray()) {
        if (c.equals('$')) {
            counter++;
        }
    } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-20T06:37:54.087

```
String s1 = "one$two$three$four!five@six$";

String s2 = s1.replace("$", "");

int result = s1.length() - s2.length(); 
```

# javascript - 整个队列的 SWFUpload 进度条

> ID：11573944
> 
> 赞同：1
> 
> 时间：2012-07-20T06:28:23.327
> 
> 标签：javascript, html, flash, swfupload

我有 SWFUpload 进度条在每个文件的基础上工作，但我想要整个队列的进度条，这样你就可以看到你的整体进度。这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-23T03:22:33.067

转到 handlers.js 文件并声明两个全局变量。这只是开始的想法。您需要添加一些其他代码来检查 UploadError 和 Exception 以减少剩余文件的值。

```
var totalFiles = 0;
var remainingFiles = 0; 
```

更新fileDialogComplete函数如下

```
function fileDialogComplete(numFilesSelected, numFilesQueued) {
    try {
        if (numFilesQueued > 0) {
            totalFiles = numFilesSelected;
            remainingFiles = totalFiles;
            this.startUpload();
            $("#progressbar").css({ 'display': '' });
        }
    } catch (ex) {
        this.debug(ex);
    }
} 
```

在 uploadProgress 函数中，添加这个。

```
function uploadProgress(file, bytesLoaded) {
     if (percent === 100) {
           var uploadedFiles = totalFiles - remainingFiles;
           var uploadprogress = (uploadedFiles / totalFiles) * 100;
           $("#progressbar").progressbar({ value: uploadprogress });
      }

} 
```

# android - 错误：错误：找不到与给定名称匹配的资源：attr 'buttonBarButtonStyle'

> ID：11573947
> 
> 赞同：17
> 
> 时间：2012-07-20T06:28:55.550
> 
> 标签：android, styles, themes

我在 styles.xml 文件中写了一个主题，如下所示

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
 <!-- Root styles that vary by API level -->
<style name="FrameworkRoot.Theme" parent="Theme.Sherlock.Light.DarkActionBar">
    <!-- API 11+ (compatibility) -->
    <item name="buttonBarStyle">@style/Compat.ButtonBar</item>
    <item name="buttonBarButtonStyle">@style/Compat.ButtonBarButton</item>
    <item name="indeterminateProgressStyle">@style/Compat.IndeterminateProgress</item>
    <!-- API 14+ (compatibility) -->
    <item name="listPreferredItemPaddingLeft">@dimen/compat_list_preferred_item_padding_left</item>
    <item name="listPreferredItemPaddingRight">@dimen/compat_list_preferred_item_padding_right</item>
    <item name="listPreferredItemHeightSmall">@dimen/compat_list_preferred_item_height_small</item>
</style> 
```

但得到错误：错误：找不到与给定名称匹配的资源：attr 'buttonBarStyle'。

我从谷歌 io2012 获得代码。我的和它的全部基地

```
 <uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="16" /> 
```

我可以编译 google io2012 的源代码，但不是我的。这么奇怪。有人知道为什么吗？或者有同样的问题？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-12T22:38:52.073

我遇到了类似的问题...我的 Eclipse 工作区中有两个项目，它们都基于 Android 4.2 jar。一个具有 minSdkVersion="8" 和 targetSdkVersion="17" 并且它的样式引用`buttonBarStyle`和`buttonBarButtonStyle`名称都很好。另一个项目使用相同的清单设置，并且由于错误而无法构建：

```
 No resource found that matches the given name: attr 'buttonBarStyle'.
 No resource found that matches the given name: attr 'buttonBarButtonStyle'. 
```

当我看到`@dead's`有关需要`attrs.xml`文件的评论时，我检查并确定，无法编译的项目缺少该文件。我认为工作项目是使用 Eclipse Android 应用程序项目向导生成的，而另一个是手动创建的。

的内容`res/values/attrs.xml`：

```
<resources>

    <!--
         Declare custom theme attributes that allow changing which styles are
         used for button bars depending on the API level.
         ?android:attr/buttonBarStyle is new as of API 11 so this is
         necessary to support previous API levels.
    -->
    <declare-styleable name="ButtonBarContainerTheme">
        <attr name="buttonBarStyle" format="reference" />
        <attr name="buttonBarButtonStyle" format="reference" />
    </declare-styleable>

</resources> 
```

的内容`res/values/colors.xml:`

```
<resources>

    <color name="black_overlay">#66000000</color>

</resources> 
```

以及三个样式文件：

1) res/values/styles.xml

```
<?xml version="1.0" encoding="utf-8"?>
<resources>

    <!--
        Base application theme, dependent on API level. This theme is replaced
        by AppBaseTheme from res/values-vXX/styles.xml on newer devices.
    -->

    <style name="AppBaseTheme" parent="android:Theme.Light">
        <!--
            Theme customizations available in newer API levels can go in
            res/values-vXX/styles.xml, while customizations related to
            backward-compatibility can go here.
        -->
    </style>

    <!-- Application theme. -->
    <style name="AppTheme" parent="AppBaseTheme">
        <!-- All customizations that are NOT specific to a particular API-level 
             can go here. -->
    </style>

    <style name="ButtonBarButton" />

    <style name="ButtonBar">
        <item name="android:paddingLeft">2dp</item>
        <item name="android:paddingTop">5dp</item>
        <item name="android:paddingRight">2dp</item>
        <item name="android:paddingBottom">0dp</item>
        <item name="android:background">@android:drawable/bottom_bar</item>
    </style>

    <style name="FullscreenTheme" parent="android:Theme.NoTitleBar">
        <item name="android:windowContentOverlay">@null</item>
        <item name="android:windowBackground">@null</item> 
        <item name="buttonBarStyle">@style/ButtonBar</item>
        <item name="buttonBarButtonStyle">@style/ButtonBarButton</item>
    </style>

    <style name="ContentText">
        <item name="android:textColor">#0000ff</item>
        <item name="android:textSize">50sp</item>
        <item name="android:textStyle">bold</item>
    </style>

</resources> 
```

2) res/values-v11/styles.xml

```
<?xml version="1.0" encoding="utf-8"?>
<resources>

    <!--
        Base application theme for API 11+. This theme completely replaces
        AppBaseTheme from res/values/styles.xml on API 11+ devices.
    -->
    <style name="AppBaseTheme" parent="android:Theme.Holo.Light">
        <!-- API 11 theme customizations can go here. -->
    </style>

    <style name="FullscreenActionBarStyle" parent="android:Widget.Holo.ActionBar">
        <item name="android:background">@color/black_overlay</item>
    </style>

    <style name="FullscreenTheme" parent="android:Theme.Holo">
        <item name="android:actionBarStyle">@style/FullscreenActionBarStyle</item>
        <item name="android:windowActionBarOverlay">true</item>
        <item name="android:windowBackground">@null</item>
        <item name="buttonBarStyle">?android:attr/buttonBarStyle</item>
        <item name="buttonBarButtonStyle">?android:attr/buttonBarButtonStyle</item>
    </style>

</resources> 
```

3) res/values-v14/styles.xml

```
<resources>

    <!--
        Base application theme for API 14+. This theme completely replaces
        AppBaseTheme from BOTH res/values/styles.xml and
        res/values-v11/styles.xml on API 14+ devices.
    -->
    <style name="AppBaseTheme" parent="android:Theme.Holo.Light.DarkActionBar">
        <!-- API 14 theme customizations can go here. -->
    </style>

</resources> 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-07-20T07:09:44.457

`buttonBarStyle`如您在 SDK 中所述，适用于版本 11 及更高版本，但您使用的是`android:minSdkVersion="8"`. 它不应该工作`android:minSdkVersion="11"`吗？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-10-23T17:13:45.623

请参考以下链接。添加代码中使用的值并删除其余的值。希望它可以帮助你。

[https://android.googlesource.com/platform/frameworks/base/+/2888524e03896831f487e5dee63f18f1c33c0115/core/res/res/values/attrs.xml](https://android.googlesource.com/platform/frameworks/base/+/2888524e03896831f487e5dee63f18f1c33c0115/core/res/res/values/attrs.xml)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-18T01:15:36.367

确保您已包含 AppCompat 。这是一个图书馆项目。您需要在您的 android 项目中引用库项目。

[https://developer.android.com/tools/support-library/setup.html](https://developer.android.com/tools/support-library/setup.html)

检查主题添加带有资源的库。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-11-16T20:02:42.100

遇到了和你一样的问题：

我的`build.gradle`文件：

```
android {
compileSdkVersion 25
buildToolsVersion "27.0.1"
defaultConfig {
    applicationId "com.whatever"
    minSdkVersion 15
    targetSdkVersion 25
    versionCode 1
    versionName "1.0"
    testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
}
buildTypes {
    release {
        minifyEnabled false
        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
    }
}} 
```

我在我的 Values 文件夹中添加了一个`attrs.XML`文件，其中包含以下代码：

```
<declare-styleable name="ButtonBarContainerTheme">
    <attr name="metaButtonBarStyle" format="reference" />
    <attr name="metaButtonBarButtonStyle" format="reference" />
</declare-styleable> 
```

现在我看不到任何抱怨！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-11-18T07:36:58.140

我遇到了同样的错误....删除了文件夹

C:\Users\.android\build-cache\Hash 文件夹数，例如 4eaccf0d162ec009b115c7e0ff4f542f8d2a663b\

它就像一个魅力......

# c++ - 如何将消息解析为 DynamicMessage 类，然后通过字段进行迭代？

> ID：11573949
> 
> 赞同：10
> 
> 时间：2012-07-20T06:29:02.110
> 
> 标签：c++, protocol-buffers

这就是我想要弄清楚的，他们的文档解释得不够好，至少对我来说是这样。

**塞纳里奥：**

我有 5 个使用 protoc for C++ 生成的 proto 文件。我的应用程序需要接收一条消息，然后能够在访问它们的值和名称时遍历所有字段。

我想做的是将消息解析到 DynamicMessage 类中，然后通过字段进行迭代。这样我就不必确切知道它是什么消息，我可以用一种通用的方式处理它们。

我知道可以通过将消息解析为特定类型然后将它们视为消息基类来处理消息，但对于我的应用程序来说这是不可取的。

看起来我想做的事情应该可以通过“--descriptor_set_out”和动态消息类来实现。

**我尝试过的（但*失败了*）：**

我将descriptor.proto与我的protos一起移动到文件夹中，并将其与我的其他人一起包含在编译步骤中。我还设置了 --descriptor_set_out 标志以打印到文件“my_descriptors.pb.ds”

我不知道从那里开始。

[这是我引用的内容，尽管没有太多...](https://developers.google.com/protocol-buffers/docs/techniques#self-description) 对不起，很长的帖子，而且主题命名模式有些模糊。

另外，如果不清楚，我认为这些消息不是“未知”。我认为仍然需要为每个原型包含各自的标头，以便我的代码知道它处理的“未知”消息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-01T19:52:08.907

最常见的方法是使用消息组合。就像是：

```
message Foo {...}
message Bar {...}
message GenericMessage {
    enum Type {FOO = 1, BAR = 2};
    optional Foo foo = 1;
    optional Bar bar = 2;
} 
```

如果您确保每个`Foo`或中恰好`Bar`存在一个`GenericMessage`，您将获得所需的行为。您阅读其中一条`GenericMessage`，然后将其作为几条特定消息之一进行处理。

考虑重构协议。如果您需要做的只是遍历字段，那么使用简单的键值映射之类的东西可能会更好：

```
message ValueMessage {
    required string key = 1;
    optional int IntValue = 2;
    optional string StringValue = 3;
    optional bool BoolValue = 4;
    ...
}
message GenericMessage{
    repeated ValueMessage = 1;
} 
```

或者，也许您可​​以通过其他方式重构您的协议。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-26T09:18:53.257

**警告**：我的回答并不完全正确我有一些关于冲突的编译错误，我会在修复它时进行编辑:)。但这是一个起点

自发布此问题以来可能已经有很长时间了，但是现在我在使用 Protocol Buffers 时遇到了类似的事情。

首先参考是错误的，必须添加的命令选项是：

`--descriptor_set_out=<Directory>`

[你的descriptor.proto](https://github.com/google/protobuf/blob/68c8762b981a2bbd2b7df3c5565b32ba014c3e34/src/google/protobuf/descriptor.proto)`Directory`的编译版本（或描述你的文件的.proto编译版本）位于哪里。

在此之后，您必须在自动描述的 .proto 文件中添加对 Descriptor.proto 文件的引用。

```
message MyMessage
{
    required google.protobuf.FileDescriptorSet proto_files = 1;
    ...
} 
```

# php - CSV 文件 - 未形成新列

> ID：11573951
> 
> 赞同：0
> 
> 时间：2012-07-20T06:29:16.177
> 
> 标签：php, file, csv

我正在尝试创建一个这样的 CSV 文件：

```
Name    surname
disha   goyal 
```

代码如下：

```
<?php
$fp = fopen('filse.csv', 'w');

fwrite($fp, 'Name');
fwrite($fp, "\t");
fwrite($fp, "Surname");
fwrite($fp, "\n");
fwrite($fp, 'disha');
fwrite($fp, "\t");
fwrite($fp, 'goyal');

fclose($fp);
?>` 
```

输出是这样的：

```
Namesurname
dishagoyal 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T06:36:07.967

在 Excel 中打开文档时，您必须指定使用的分隔符是制表符。

默认情况下，假定 csv 文件以逗号分隔。

您也可以使用逗号而不是制表符来获得正确的输出，而无需任何设置。

# javascript - JQuery .attr 和 .data 方法为同一属性提供不同的值

> ID：11573952
> 
> 赞同：4
> 
> 时间：2012-07-20T06:29:25.177
> 
> 标签：javascript, jquery, html

这是我的html代码

```
<li class="current" title="some title" data-atype="some type" data-aid="119697371285186601">
  Some text
</li> 
```

这是我从 firebug / google chrome 调试器控制台得到的，

```
>> $().jquery
"1.7.2"
>> ($('li.current:first')).data('aid')
119697371285186610
>> ($('li.current:first')).attr('data-aid')
"119697371285186601" 
```

我搜索了该问题，但找不到该问题的确切原因和解决方案。如果有人可以帮助我找到解决方案和问题的原因，那将非常有帮助。

提前致谢...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T06:35:29.167

`$.fn.data`尝试对数字类型进行智能处理并将它们转换为整数。然而，在 JavaScript 中，整数只不过是浮点数，因此当它们接近较大的值时变得不那么精确。我会坚持，`attr()`因为它总是会返回一个字符串。这也有[一张票](http://bugs.jquery.com/ticket/7579)，但上面标有“WONTFIX”。有关 JavaScript 中大数限制的更多信息，请参阅[这篇文章](http://www.2ality.com/2012/07/large-integers.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-20T06:56:57.450

```
<ul>
   <li class="current" title="some title" data-atype="some type" data-rrr="11969737128518660155555">
  Some text
   </li>
</ul>
<span></span>

$(document).ready(function(){
    $('span').html('DATA ATTRIBUTE: '+$('li.current:first').data('rrr')+ '   <br />   ATTRIBUTE: '+     $('li.current:first').attr('data-rrr'));
});

Output / result:  

    Some text        
    DATA ATTRIBUTE: 1.1969737128518661e+22
    ATTRIBUTE: 11969737128518660155555 
```

[http://jsfiddle.net/nanoquantumtech/usydd/#base](http://jsfiddle.net/nanoquantumtech/usydd/#base)

//================================================= ========//

```
 <ul>
    <li class="current" title="some title" data-atype="some type" data-test1="119697371285186601555" data-test2="11969737128518660155555">Some text
    </li>
</ul>
<span></span>

$(document).ready(function() {
    $('span').html('DATA ATTRIBUTE: <br />' + $('li.current:first').data('test1')+  ' , <br /> '+$('li.current:first').data('test2') + '<br /><br /> ATTRIBUTE: <br />' + $('li.current:first').attr('data-test1')+' , <br />'+$('li.current:first').attr('data-test2'));
});​

Out Put For jquery version < 1.7.2

Some text
DATA ATTRIBUTE: 
119697371285186610000 , 
1.1969737128518661e+22

ATTRIBUTE: 
119697371285186601555 , 
11969737128518660155555 
```

[演示 1](http://jsfiddle.net/ycsje/)

```
Out Put For jquery version 1.8.2

Some text
DATA ATTRIBUTE: 
119697371285186601555 , 
11969737128518660155555

ATTRIBUTE: 
119697371285186601555 , 
11969737128518660155555 
```

[演示 2](http://jsfiddle.net/5JH5N/)

# c++ - 如何从 upnp 设备传输文件？

> ID：11573953
> 
> 赞同：0
> 
> 时间：2012-07-20T06:29:38.860
> 
> 标签：c++, upnp

我正在使用 libupnp-1.6.17。是否有任何直接的 upnp 方法可以从/向设备获取/放入文件？示例代码表示赞赏。谢谢你。

# python - 如何使用 python 为“in”实现自定义比较器

> ID：11573954
> 
> 赞同：1
> 
> 时间：2012-07-20T06:29:52.077
> 
> 标签：python

如果我有这样的课：

```
class foo(object):
    def __init__(self, x, y, z):
         self.x = x
         self.y = y
         self.z = z 
```

在这样的列表中：

```
list = [foo(1, 2, 3), foo(4, 5, 6), foo(7, 8, 9)] 
```

我如何为“in”创建一个自定义测试，以便它只检查 x 和 z 值，这样：

```
new_foo = foo(1,8,3)
if new_foo in list:
    print True
else:
    print False 
```

将打印 True

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-20T06:30:46.767

在列表上使用`in`相等性测试，因此您需要定义一个`__eq__`方法：请参阅[文档](http://docs.python.org/reference/datamodel.html#object.__eq__)。您还需要定义一种`__hash__`方法，以确保您的对象在具有可变状态时以一致的方式比较相等。例如：

```
class foo(object):
    def __init__(self, x,y,z):
         self.x = x
         self.y = y
         self.z = z

    def __eq__(self, other):
        return (self.x, self.z) == (other.x, other.z)

    def __hash__(self):
        return hash((self.x, self.z)) 
```

不过，您应该仔细考虑是否真的要这样做。它定义了一个平等的概念，适用于所有测试平等的情况。因此，如果您按照帖子中的要求进行操作，那么`foo(1,2,3) == foo(1,8,3)`一般来说都是正确的，而不仅仅是在使用`in`.

# javascript - 使用 jquery/javascript 从一行 html 代码中获取数字

> ID：11573966
> 
> 赞同：1
> 
> 时间：2012-07-20T06:30:48.803
> 
> 标签：javascript, jquery

如何获取 html 代码中的数字。

例如：

```
<a href="#">Comments</a>(10) 
```

我怎样才能从上面的代码行中得到 10。

这包括删除链接 html 、注释 word 以及数字“10”周围的括号

如何使用 jquery/javascript 做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-20T06:37:46.763

给定 html

```
<a id="#element" href="#">Comments</a>(10) 
```

jQuery：

```
var value = $("#element").get(0).nextSibling.nodeValue; //"(10)"
value = parseFloat( value.substr(1) ); //10 
```

如果你有一个字符串 ( `'<a href="#">Comments</a>(10)'`)，那么

```
var value = $('<div>', {html: '<a href="#">Comments</a>(10)'}).contents().get(1).nodeValue; //"(10)"
value = parseFloat( value.substr(1) ); //10 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:45:43.840

你可以尝试这样的事情：http: [//pastebin.com/PV9f0PQH](http://pastebin.com/PV9f0PQH)

我将示例粘贴到 pastebin 中，因为粘贴部分 html 标记时出现问题。

# c++ - C ++获取函数读取的字节数

> ID：11573968
> 
> 赞同：0
> 
> 时间：2012-07-20T06:31:19.000
> 
> 标签：c++, linux, g++

有没有办法获取函数读取的字节数？

使用函数`**getrusage**`我可以得到

```
 ru_inblock;       /* block input operations */ 
```

但是如何获取函数读取的字节数？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:40:22.360

你不能。您将需要预加载自己的 SO 来覆盖`read(2)`调用它并计算实际读取的字节数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T08:00:56.103

使用`strace(1)`或调试器。您将不得不对输出进行一些后处理，但是有关系统调用传输的数据的所有信息都在那里。

# xml - xsl 以美元作为 php 变量获取属性

> ID：11573969
> 
> 赞同：-1
> 
> 时间：2012-07-20T06:31:20.207
> 
> 标签：xml, xslt, xslt-1.0

我的 xsl 样式表工作得很好，除了我不能在我的样式表中使用属性的东西。但我真的需要他们来完成我的功能。

我在 php 中使用 xsl，当我尝试声明一个属性并使用时，xsl 认为 $attr 是一个 php 变量并且函数崩溃。

这是我的代码

```
<?php
function releaseNotes($source, $type, $order_by, $sort) {

$type = $type ? "[@type='{$type}']" : "";

$xsl = <<<XSL
<?xml version="1.0" encoding="iso-8859-1"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

<xsl:key name="versions" match="issue" use="fix_versions"/>
<xsl:key name="type" match="issue" use="concat(fix_versions, '+', @type)"/>

  <xsl:template match="issues">

      <xsl:for-each select="//issue[generate-id(.)=generate-id(key('versions', fix_versions)[1])]">

        <xsl:sort select="fix_versions" order="descending"/> 

        <div class="release">

            <a href="" class="version"><xsl:value-of select="fix_versions"/></a>

            <xsl:attribute name="version"><xsl:value-of select="fix_versions"/></xsl:attribute>
            <xsl:value-of select="$version"/>
            <xsl:if test="//release[@version = '$version']">
              Yeah
            </xsl:if>

            <div class="version" style="display:none;">

            <xsl:for-each select="key('versions', fix_versions)">

                <xsl:for-each select="key('type', concat(fix_versions, '+', @type))">
                    <div style="border-bottom:1px solid grey;">
                    <a href="" class="title"><xsl:value-of select="title"/></a>
                    <div class="toggle" style="display:none;">
                        <xsl:value-of select="description"/>

                </div>
          </div>                        
            </xsl:for-each>

            </div>
       </div>
      </xsl:for-each>
  </xsl:template>

</xsl:stylesheet>
XSL;

$xmldoc = new DOMDocument('1.0', 'utf-8');
$xmldoc->load($source);
$xsldoc = DOMDocument::loadXML($xsl);

$proc = new XSLTProcessor();
$proc->registerPHPFunctions();
$proc->importStyleSheet($xsldoc);
return $proc->transformToXML($xmldoc);
}
?> 
```

无论我在哪里尝试使用属性——只要我想使用它，我就再也得不到函数的结果了？任何的想法？

在此示例中似乎没用，但我想检查是否有具有此版本号的节点“发布”，因此我需要获取当前字符串的版本作为属性。

xml结构是这样的

```
<release version="x.x.x" name="release1"/>
<release version="x.x.x" name="release2"/>
<release version="x.x.x" name="release3"/>
<issues>
  <issue><fix_versions>x.x.x</fix_versions></issue>
  <issue><fix_versions>x.x.x</fix_versions></issue>
  <issue><fix_versions>x.x.x</fix_versions></issue>
</issues> 
```

只有已发布版本的问题应该可见。这就是为什么我必须检查问题是否存在具有相同版本的版本

一切正常，甚至分组，但属性。正如我所说，该函数将 $version 作为 php 变量而不是 aatribute 的名称。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T08:05:45.127

你的问题有点令人困惑，但如果你的意思是问题是：

```
$type = $type ? "[@type='{$type}']" : ""; 
```

被翻译为 $type 是一个变量并被扩展，如果你在变量前面放一个 \ ，它将起作用，甚至在单引号中：

```
$type = $type ? "[@type='{\$type}']" : "";
or 
$type = $type ? "[@type='".'{$type}'."']" : ""; 
```

# javascript - 是否可以将一个 DOM 元素转换为另一个？还是从中复制所有属性？

> ID：11573971
> 
> 赞同：2
> 
> 时间：2012-07-20T06:31:26.400
> 
> 标签：javascript, jquery, html

是否可以将一个 DOM 元素转换为另一个？通过 jQuery 甚至 JavaScript。

我只想举个例子：获取所有类、属性、属性的表 > thead > tr > th，并将其放在 table > body 中，就像 tr > td 一样。

或者也许是另一种方式？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-12-24T21:03:02.400

你有几个选择。

*   您可以使用 jQuery's `clone()`，它将复制 DOM 节点上/中的所有内容。然后使用`append()`将克隆附加到您希望它移动到的任何元素上。然后只需删除原始节点。

*   如果您只想要来自 DOM 节点的属性（类、id 等），那么您可以使用`attributes`所有 DOM 节点上存在的数组。您必须遍历每个属性，然后将其单独设置在新元素上。我还没有找到一种简单的方法来复制所有内容。在 vanilla Javascript 中，它看起来像这样：

    ```
    var originalELement = document.getElementById('original-element-id');
    var newElement = document.createElement('div');

    for (var i = 0; i < originalElement.attributes.length; i++) {
        var attr = originalElement.attributes.item(i);
        newElement.setAttribute(attr.nodeName, attr.nodeValue);
    } 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-08-26T14:12:04.747

当您执行 element1.append(element2) element2 将在 element1 内移动。附加或附加子级。奇怪但真实。附加实际上意味着“剪切”

# c - 使用 C 程序在窗口中查看图像？

> ID：11573972
> 
> 赞同：2
> 
> 时间：2012-07-20T06:31:29.637
> 
> 标签：c, image, optimization, opencv

我正在尝试开发一个 YUV 图像查看器。目的是读取 YUV 图像并将图像显示在窗口中。我正在使用 C 开发此应用程序。

在将 YUV 信息转换为 RGB 数据后，为了查看图像，我使用了 OpenCV 中的 cvShowImage 和 cvResize 函数。要在其他系统中使用此应用程序，我需要在其中安装 opencv，因为我使用的是预编译的 dll。[我通过根据“如何在可执行文件中嵌入 openCV Dll](https://stackoverflow.com/questions/6579535/how-to-embedd-opencv-dlls-in-executable%22) ”中提供的指南使用静态库重新编译程序来解决此问题，并生成了一个可跨机器移植的新可执行文件。这导致我的应用程序文件大小从 100KB 增长到 2350KB。这种增长是巨大的。我怀疑这是因为几个不必要的函数链接到我的最终可执行文件

为此，我使用了开关 Eliminate Unreferenced Data (/OPT:REF)。但这并没有解决任何问题。

有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T07:20:46.973

链接器会自动从您的 exe 中删除所有不需要的代码。

但是如果你记得你的程序包含

*   读取各种图像格式（bmp、jpg、tiff 等）的所有代码，
*   OpenCV 核心的一个很好的部分（矩阵处理）
*   一些特定于操作系统的窗口和消息处理（显示图像并能够调整大小/单击/等）
*   您使用但不知道的其他一些实用程序

就是这样......几MB的代码。

**编辑**

不要忘记在发布模式下构建您的程序。在调试模式下，在标准代码中添加了更多与调试相关的信息。

# c - 写入 .txt 文件？

> ID：11573974
> 
> 赞同：161
> 
> 时间：2012-07-20T06:31:35.910
> 
> 标签：c, linux

如何将一小段文本写入`.txt`文件？我已经在谷歌上搜索了 3-4 多个小时，但不知道该怎么做。

`fwrite();`有这么多参数，我不知道如何使用它。

当您只想将名称和几个数字写入`.txt`文件时，最容易使用的功能是什么？

```
char name;
int  number;
FILE *f;
f = fopen("contacts.pcl", "a");

printf("\nNew contact name: ");
scanf("%s", &name);
printf("New contact number: ");
scanf("%i", &number);

fprintf(f, "%c\n[ %d ]\n\n", name, number);
fclose(f); 
```

* * *

## 回答 #1

> 赞同：295
> 
> 时间：2012-07-20T06:36:46.147

```
FILE *f = fopen("file.txt", "w");
if (f == NULL)
{
    printf("Error opening file!\n");
    exit(1);
}

/* print some text */
const char *text = "Write this to the file";
fprintf(f, "Some text: %s\n", text);

/* print integers and floats */
int i = 1;
float pi= 3.1415927;
fprintf(f, "Integer: %d, float: %f\n", i, pi);

/* printing single chatacters */
char c = 'A';
fprintf(f, "A character: %c\n", c);

fclose(f); 
```

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2012-07-20T06:50:02.150

```
FILE *fp;
char* str = "string";
int x = 10;

fp=fopen("test.txt", "w");
if(fp == NULL)
    exit(-1);
fprintf(fp, "This is a string which is written to a file\n");
fprintf(fp, "The string has %d words and keyword %s\n", x, str);
fclose(fp); 
```

* * *

## 回答 #3

> 赞同：-4
> 
> 时间：2012-07-20T06:37:19.140

好吧，您首先需要获得一本关于 C 的好书并理解该语言。

```
FILE *fp;
fp = fopen("c:\\test.txt", "wb");
if(fp == null)
   return;
char x[10]="ABCDEFGHIJ";
fwrite(x, sizeof(x[0]), sizeof(x)/sizeof(x[0]), fp);
fclose(fp); 
```

# c++ - 如何对大小为 N 的二维数组进行哈希处理？

> ID：11573975
> 
> 赞同：0
> 
> 时间：2012-07-20T06:31:38.450
> 
> 标签：c++, hash

如何对最大为 15 *15 的二维数组进行散列。散列函数必须唯一地标识每个排列。例如对于 4*4 矩阵 hash = 0;

```
hash = 0;
for (int i = 0; i < 4; i++) {
    for (int j = 0; j < 4; j++) {
        hash *= 13;
        hash += board[i][j];
        if (hash > 10000003)
            hash %= 10000003;
    }
} 
```

# connection - SQL Server 2012 Express 连接错误

> ID：11573979
> 
> 赞同：1
> 
> 时间：2012-07-20T06:31:53.913
> 
> 标签：connection, database-connection, windows-authentication, sql-server-2012-express

我安装了 SQL Server 2012 但无法连接到 express 实例出现以下错误：

建立与 SQL Server 的连接时发生与网络相关或特定于实例的错误。服务器未找到或无法访问。验证实例名称是否正确以及 SQL Server 是否配置为允许远程连接。（提供者：SQL 网络接口，错误：26 - 错误定位服务器/指定的实例）（Microsoft SQL Server，错误：-1）

SQL Server 正在尝试为 SQL Server 服务注册服务主体名称 (SPN)。在为 SQL Server 服务注册 SPN 之前，无法进行 Kerberos 身份验证。这是一条情报信息。无需用户操作。2012-07-20 11:37:08.72 服务器 SQL Server 网络接口库无法为 SQL Server 服务注册服务主体名称 (SPN) [MSSQLSvc/VIPUL-MEHTA.XXXX.com]。Windows 返回代码：0x2098，状态：15。未能注册 SPN 可能会导致集成身份验证使用 NTLM 而不是 Kerberos。这是一条情报信息。仅当身份验证策略需要 Kerberos 身份验证并且尚未手动注册 SPN 时，才需要执行进一步操作。

这是我的 SQL Server 配置设置

![这是我的 SQL Server 配置设置](../Images/82146251793440c979f29bf99d077cae.png)

![在此处输入图像描述](../Images/d59e9c77ae25d01d0cae30fd9bd53bf5.png)

在管理工作室中，我提供以下信息以进行连接：

服务器：.\MSSQLSERVER 身份验证：Windows 身份验证

在 SQL Server 2012 中，如何更改外围区域配置的设置。我忘记了 SA 的密码，因此无法使用 SQL Server 身份验证进行连接。

这是 TCP IP 设置：

![在此处输入图像描述](../Images/96ec601be5c5e4483ee043a1222c0191.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-26T01:48:51.950

只需在 Windows 防火墙中打开传入端口 1433 即可进行 TCP 访问：

[http://blogs.technet.com/b/danstolts/archive/2011/06/08/how-to-open-firewall-port-1433-for-sql-server-database-engine-for-use-with- scom-or-anything-else.aspx](http://blogs.technet.com/b/danstolts/archive/2011/06/08/how-to-open-firewall-port-1433-for-sql-server-database-engine-for-use-with-scom-or-anything-else.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-04T02:24:34.400

我只是按照这个人的回答解决了这个问题

[无法连接到 SQL Server Express 2012 / 2016 上的本地主机](https://stackoverflow.com/questions/12774827/cant-connect-to-localhost-on-sql-server-express-2012)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-11T07:42:07.997

就我而言，重新安装 SQL 是唯一的解决方案。学习总是用 SQL Server 附加 2-3 个 windows 帐户。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-03-03T13:17:47.277

就我而言，SqlServer 服务以某种方式停止了，我认为这是因为在安装 MySql 之后。我将它的状态改回了“正在运行”，现在它可以工作了：

*   转到 Sql Server 配置管理器
*   单击左侧窗格中的“Sql Server 服务”
*   右键单击右侧窗格中的“SQL Server”，然后单击“开始”

    [http://i.stack.imgur.com/ZuTV3.png](http://i.stack.imgur.com/ZuTV3.png)

# java - Java中播放列表中保存的多种媒体

> ID：11573988
> 
> 赞同：0
> 
> 时间：2012-07-20T06:32:58.373
> 
> 标签：java, list, media

我目前正在尝试用 Java 编写播放列表。

这个想法是它可以支持许多不同类型的媒体......

音乐：mp3、flac、wav 等 视频：avi mp4 等 来自网络链接的音乐/视频

我打算将所有这些都保存在一个列表中。我试图找出一个最好的方法。我应该为 MediaItem 实现一个通用接口，该接口同意每种媒体项目类型（由不同的类表示）所需的合同，还是应该在一个类中处理所有类型？

任何帮助深表感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-24T06:33:57.027

我发现 javaFx 库提供了一个名为 Media 的类，它代表不同类型的媒体。

# eclipse - SDK 的 ADT 插件目录位置 - (MotoDev)

> ID：11573989
> 
> 赞同：0
> 
> 时间：2012-07-20T06:33:02.467
> 
> 标签：eclipse, sdk, adt, motodev-studio

现在我正在设置 Motodev。它是一个基于 Eclipse 构建的 Android 开发套件，由摩托罗拉创建。

需要的是 Android SDK。检查，知道了，最新版本，一切都设置好了。

现在它说我需要 ADT Eclipse 插件。版本 20.0.1，目前我的是 v18。

我知道在哪里弄，我可以轻松搞定，但我很好奇，它应该安装在哪里？目前我没有日食，我只是在使用 MotoDev。但是由于 Motodev 询问 SDK 位置在哪里，并说我的 ADT 插件已过期，我假设我必须在 SDK 目录中安装 ADT。但是有没有更具体的地方可以放置它？在特定文件夹中？或者只是在 SDK 目录的顶层？

谢谢你的时间。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-20T20:38:06.280

不幸的是，您不能将 ADT20 与 MOTODEV Studio 4.0 一起使用。这些插件在 18 到 20 之间有一些 API 更改，这使得它们彼此不兼容。在我们发布更新版本之前，您需要将 SDK 回滚到 19。大约一周前，我在[MOTODEV Studio 博客](http://community.developer.motorola.com/t5/MOTODEV-Studio-for-Android-Blog/MOTODEV-Studio-4-0-and-the-ADT-20-plugins/ba-p/27710)上写了这篇文章。

我们已经完成了新版本的工程工作。这只是安排推送到 Web 服务器的问题。我预计它会在下周末或下周初准备好。

在此之前，如果您需要使用 ADT20 进行 Jellybean 开发，请使用[Eclipse for Mobile Developers](http://www.eclipse.org/downloads/)和 MOTODEV Core Plugins（使用*Help>Eclipse Marketplace*）。已安装产品的大部分功能都在那里，但不依赖 ADT。有关如何设置的详细信息，请参阅博客。

# excel - 在 Apache POI 中设置列 宽

> ID：11573993
> 
> 赞同：67
> 
> 时间：2012-07-20T06:33:27.370
> 
> 标签：excel, apache-poi

我正在使用 Apache POI API 在 Java 中编写一个工具来将 XML 转换为 MS Excel。在我的 XML 输入中，我收到以磅为单位的列宽。但是 Apache POI API 有一个稍微奇怪的逻辑，用于根据字体大小等设置列宽（请参阅[API 文档](http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFSheet.html#setColumnWidth%28int,%20int%29)）

是否有将点转换为 Excel 预期的宽度的公式？有没有人这样做过？

虽然有一种`setRowHeightInPoints()`方法:(但对于列没有。

PS：输入 XML 是 ExcelML 格式，我必须将其转换为 MS Excel。

* * *

## 回答 #1

> 赞同：101
> 
> 时间：2012-07-20T07:17:50.390

不幸的是，只有函数[setColumnWidth(int columnIndex, int width)](http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#setColumnWidth%28int,%20int%29) from `class Sheet`; 其中宽度是*标准字体（工作簿中的第一个字体）中*的字符数，如果您的字体正在更改，您将无法使用它。解释了如何根据字体大小计算宽度。公式为：

```
width = Truncate([{NumOfVisibleChar} * {MaxDigitWidth} + {5PixelPadding}] / {MaxDigitWidth}*256) / 256 
```

将[`autoSizeColumn(int column, boolean useMergedCells)`](http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Sheet.html#autoSizeColumn(int,%20boolean))数据输入到您的`Sheet`.

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2015-10-21T08:16:47.753

请谨慎使用`autoSizeColumn()`. 它可以在小文件上毫无问题地使用，但请注意该方法对每一列仅调用一次（最后），而不是在没有意义的循环内调用。

请避免`autoSizeColumn()`在大型 Excel 文件上使用。该方法产生性能问题。

我们在一个 110k 行/11 列的文件中使用了它。该方法需要大约 6m 来自动调整所有列的大小。

有关更多详细信息，请查看：[如何加速 apache POI 中的自动调整列大小？](https://stackoverflow.com/questions/18983203/how-to-speed-up-autosizing-columns-in-apache-poi)

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2015-08-05T16:10:26.080

您还可以使用本博客中提到的实用方法：[Getting cell witdth and height from excel with Apache POI](http://ragnarock99.blogspot.cz/2012/05/getting-cell-witdth-from-excel-with.html)。它可以解决你的问题。

从该博客复制并粘贴：

```
static public class PixelUtil {

    public static final short EXCEL_COLUMN_WIDTH_FACTOR = 256;
    public static final short EXCEL_ROW_HEIGHT_FACTOR = 20;
    public static final int UNIT_OFFSET_LENGTH = 7;
    public static final int[] UNIT_OFFSET_MAP = new int[] { 0, 36, 73, 109, 146, 182, 219 };

    public static short pixel2WidthUnits(int pxs) {
        short widthUnits = (short) (EXCEL_COLUMN_WIDTH_FACTOR * (pxs / UNIT_OFFSET_LENGTH));
        widthUnits += UNIT_OFFSET_MAP[(pxs % UNIT_OFFSET_LENGTH)];
        return widthUnits;
    }

    public static int widthUnits2Pixel(short widthUnits) {
        int pixels = (widthUnits / EXCEL_COLUMN_WIDTH_FACTOR) * UNIT_OFFSET_LENGTH;
        int offsetWidthUnits = widthUnits % EXCEL_COLUMN_WIDTH_FACTOR;
        pixels += Math.floor((float) offsetWidthUnits / ((float) EXCEL_COLUMN_WIDTH_FACTOR / UNIT_OFFSET_LENGTH));
        return pixels;
    }

    public static int heightUnits2Pixel(short heightUnits) {
        int pixels = (heightUnits / EXCEL_ROW_HEIGHT_FACTOR);
        int offsetWidthUnits = heightUnits % EXCEL_ROW_HEIGHT_FACTOR;
        pixels += Math.floor((float) offsetWidthUnits / ((float) EXCEL_ROW_HEIGHT_FACTOR / UNIT_OFFSET_LENGTH));
        return pixels;
    }
} 
```

因此，当您想要获取单元格宽度和高度时，您可以使用它来获取以像素为单位的值，**值约为**.

```
PixelUtil.heightUnits2Pixel((short) row.getHeight())
PixelUtil.widthUnits2Pixel((short) sh.getColumnWidth(columnIndex)); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2018-09-20T15:15:43.227

使用**Scala**有一个不错的 Wrapper **[spoiwo](https://github.com/norbert-radyk/spoiwo)**

你可以这样做：

```
Workbook(mySheet.withColumns(
      Column(autoSized = true),
      Column(width = new Width(100, WidthUnit.Character)),
      Column(width = new Width(100, WidthUnit.Character)))
    ) 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-05-10T17:41:10.783

我用所有列和单元格的默认宽度回答了我的问题，如下所示：

```
int width = 15; // Where width is number of caracters 
sheet.setDefaultColumnWidth(width); 
```

# ios - 以编程方式创建 UIWebView 时出错

> ID：11573995
> 
> 赞同：2
> 
> 时间：2012-07-20T06:33:34.397
> 
> 标签：ios, xcode, exception, uiwebview

我想以编程方式创建一个 WebView。我试图搜索谷歌，结果是我应该在我的 viewDidLoad 中编写这些代码：

```
NSURL *url=[NSURL URLWithString:@"http://www.google.com"];
NSURLRequest *request=[NSURLRequest requestWithURL:url];

webView=[[UIWebView alloc] initWithFrame:CGRectMake(0,100,968,875)];
webView.backgroundColor=[UIColor whiteColor];
[webView loadRequest:request]; 
```

我做了完全相同的事情，当我运行它时，我得到了 EXC_BAD_ACCESS 并带有以下异常消息：

试图从除主线程或 web 线程之外的线程获取 web lock。这可能是从辅助线程调用 UIKit 的结果。现在崩溃...

任何人都知道我的代码做错了什么？请回复。我真的很感谢你的回答。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T06:47:04.220

在任何情况下，您**都不应该****从 Main Thread 以外的线程**访问 UI （动画、警报视图、新视图控制器等）。很可能您在某种选择器中初始化 WebView，这不是主线程。

尝试重建您的应用程序或使用 performSelectorOnMainThread。如果您可以提供更多代码，我愿意提供更多帮助。

# asp.net - 如何从asp.net中的html文件调用函数

> ID：11573999
> 
> 赞同：0
> 
> 时间：2012-07-20T06:33:52.353
> 
> 标签：asp.net

我是 asp.net 的新手

我想从我的 html 文件中调用函数 我有一个包含菜单列表的 html 文件

```
<a href="">Menu 1</a> 
```

我有一个文件名 home.aspx，我想用那个超链接调用 home.aspx.cs 中的一个函数

[我已经尝试过了，但在单击 HTML 链接时](https://stackoverflow.com/questions/4537490/call-a-c-sharp-function-in-asp-net-when-clicking-on-a-html-link-a)仍然无法 在 ASP.NET 中调用 C# 函数

对不起我的英语，英语不是我的母语，请帮助我

是我的第一个代号 home.aspx

```
<%@ Page Language="C#" AutoEventWireup="true" CodeFile="home.aspx.cs" Inherits="user_home" %>
<% Response.WriteFile("tools/menu.htm"); %> 
```

这是 home.aspx.cs

```
public partial class user_home : System.Web.UI.Page
protected void Page_Load(object sender, EventArgs e){
} 
```

这是我的`menu.htm`

```
<div id="menu">
<ul>
<li><a href="#">Menu1</a></li>
</ul>
</div> 
```

抱歉麻烦

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T06:35:18.030

```
<a href="#" runat="server" id="link">Menu 1</a> 
```

您应该使用 runat="server" 属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-20T06:38:33.613

你确定你不是在找一个`LinkButton`？？？

此控件在客户端中呈现为：

```
<a href="javascript to post... automatically generated">Click me...</a> 
```

## ASPX

```
<asp:LinkButton Text="Click me..." runat="server" ID="myLink" Click="myLink_Click" /> 
```

## 背后的代码

```
protected void myLink_click(object sender, EventArgs e)
{
    // write here your cool stuff as a response of the click event
} 
```

如果你坚持使用 HtmlControl，那么：

## 在 ASPX 中

```
<a href="#" runat="server" id="myLink2" onserverclick="myLink2_Click">Menu 1</a> 
```

## 后面的 IN 代码

```
protected void myLink2_Click(object sender, EventArgs e)
{
    // write here your cool stuff as a response of the click event
} 
```