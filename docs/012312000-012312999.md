# StackOverflow 问答 12312000-12312999

# c# - 将变量传递给异步方法后，在主线程中将变量设置为新实例将如何影响异步方法？

> ID：12312000
> 
> 赞同：3
> 
> 时间：2012-09-07T05:03:28.160
> 
> 标签：c#, multithreading

例如：

```
void SomeMethod()
{
    MyObject o = new MyObject();
    // Do stuff with o
    SomeAsyncMethod(o);
    o = new MyObject(); // Will this affect what was passed to SomeAsyncMethod?
} 
```

我对 'o' 所做的任何事情都会在主线程和新线程中显而易见。但是，如果我在主线程中设置 o 等于一个新实例，它不应该改变 SomeAsyncMethod() 中的变量仍然指向对象的原始实例的事实，对吧？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T05:05:48.067

不，它对其他o没有影响。然而

```
void SomeMethod()
{
    MyObject o = new MyObject();
    // Do stuff with o
    SomeAsyncMethod(o);
    o.Id = 2222; // will change objects Id property, which will 
                 // be reflected in another thread
} 
```

原因是在您的代码中您正在更改局部变量 o 的值（引用），而不是对象本身

# c - 在 fork() 和 wait() 之后从 exit() 获取错误的返回码

> ID：12312001
> 
> 赞同：-1
> 
> 时间：2012-09-07T05:03:30.600
> 
> 标签：c, fork, wait

我正在为我的小守护进程进行单元测试，但我无法从分叉进程中获取正确的退出代码。如果我只运行其中一个测试用例，它们可以正常工作，但如果我连续运行两个测试用例，第二个测试用例会失败，因为它没有获得 EXIT_SUCCESS 作为返回码。我已经检查过了，第二个测试用例确实调用了 exit(EXIT_SUCCESS) 所以它应该返回它，但不知何故我得到了另一个子进程。

我错过了什么？

```
bool test_setup() {
    pid_t pid = fork();
    if(pid < 0) {
        fail("Failed to fork", PLACE);
    }
    else if(pid > 0) { //main thread
        //act as client to server, this code might call exit(EXIT_FAILURE)
        exit(EXIT_SUCCESS);
    }
    //child thread
    //run server
    int retval; //return value from child process
    wait(&retval);
    return WEXITSTATUS(retval) == EXIT_SUCCESS;
}

bool test_send_one() {
    pid_t pid = fork();
    if(pid < 0) {
        fail("Failed to fork", PLACE);
    }
    else if(pid > 0) { //main thread
        //act as client to server, this code might call exit(EXIT_FAILURE)
        cout <<"exit success" <<endl;
        exit(EXIT_SUCCESS);
    }
    //child thread
    //run server
    int retval; //return value from child process
    wait(&retval);
    return WEXITSTATUS(retval) == EXIT_SUCCESS;
}

int main(int argc, char** argv) {
    test_setup();   
    test_send_one();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:14:26.373

我交换了 if(pid > 0) 和 if(pid == 0)。

# msdeploy - 如何使用 MS Web Deploy (msdeploy.exe) 将文件从已部署的网站复制到本地目录？

> ID：12312003
> 
> 赞同：0
> 
> 时间：2012-09-07T05:03:38.443
> 
> 标签：msdeploy

我已经想出了一个将站点部署到目标服务器的命令，并且效果很好。如果它在这种情况下很重要，这里是：

```
"C:\Program Files (x86)\IIS\Microsoft Web Deploy V3\msdeploy.exe" 
  -source:package='HelloWorld.Mvc3UI\obj\Debug\Package\HelloWorld.Mvc3UI.zip' 
  -dest:auto,ComputerName='https://10.225.0.30:8172/MsDeploy.axd?site=HelloWorld',username='<MyUserName>',password='<MyPassword>',authType='basic',includeAcls='false'
  -allowUntrusted 
  -verb:sync 
  -disableLink:AppPoolExtension 
  -disableLink:ContentExtension 
  -disableLink:CertificateExtension 
  -setParamFile:"HelloWorld.Mvc3UI\obj\Debug\Package\HelloWorld.Mvc3UI.SetParameters.xml" 
  -setParam:name='IIS Web Application Name',value='HelloWorld' 
  -setParam:name='HelloWorld-Web.config Connection String',value='SERVER=10.225.0.25;DATABASE=HelloWorld;UID=sa;PWD=<MyPassword>;' 
```

现在该站点在服务器上，我希望能够检索 \bin\HelloWorld.Database.dll 文件并使用 msdeploy.exe 将其复制到本地目录。

我猜我必须在远程服务器上使用包提供程序（因为它是用来部署站点的）并在本地机器上使用 dirPath 或 filePath 提供程序。但是，我无法确定使其工作的确切语法。

**背景**

我需要已经在生产中的 HelloWorld.Database.dll 文件，以便在应用程序回滚场景中使用它来降级数据库。此文件使用[Fluent Migrator Framework](https://github.com/schambers/fluentmigrator/wiki)迁移数据库更改。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T05:29:45.320

我发现了一个解决方案。

```
"C:\Program Files (x86)\IIS\Microsoft Web Deploy V3\msdeploy.exe" 
  -source:filePath='C:\inetpub\sites\HelloWorld\bin\HelloWorld.Database.dll',ComputerName='https://10.225.0.30:8172/MsDeploy.axd?site=HelloWorld',username='<MyUserName>',password='<MyPassword>',authType='basic',includeAcls='false' 
  -dest:filePath='F:\HelloWorldProject\HelloWorld.Database.dll' 
  -allowUntrusted 
  -verb:sync 
```

但是，如果有一种方法可以做到这一点而不必指定整个远程路径，我会更喜欢，因为它可能因环境而异。我试过了，显然不支持。

# android - 支持不同的语言

> ID：12312010
> 
> 赞同：3
> 
> 时间：2012-09-07T05:04:11.770
> 
> 标签：android

我有 textView 和 ListView。我在列表视图中列出了支持语言

当我单击任何语言 Textview 文本需要更改时

代码

```
 String lang[] = new String[]{"English","French"};
        ListView listView = (ListView) findViewById(android.R.id.list);

        ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1,lang);

        listView.setAdapter(adapter);

        TextView text = (TextView)findViewById(R.id.textbox);

    }

    @Override
    protected void onListItemClick(ListView l, View v, int position, long id) {
        TextView tv = (TextView)v;
        String selected_lang = tv.getText().toString();
        Toast.makeText(this, selected_lang, Toast.LENGTH_LONG).show();
    } 
```

注意：需要从一种语言翻译成另一种语言，无需制作 strings.xml 和 GoogleApi

有人知道谷歌如何将一种语言翻译成另一种语言吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T05:37:48.043

在您的目录值附近创建新目录值-fr，其中包含文件 strings.xml 和内容，如

```
<resources>
    <string name="some_string_vith_localization">French translation</string>
</resources> 
```

在你的代码中

```
String lang[] = new String[]{"en","fr"};
        ListView listView = (ListView) findViewById(R.id.my_list_id);

        ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1,lang);

        listView.setAdapter(adapter);

        TextView text = (TextView)findViewById(R.id.textbox);

    }
            @Override
            protected void onListItemClick(ListView l, View v, int position, long id) {
                TextView tv = (TextView)view.findViewById(R.id.text_view_to_change);
                String selected_lang = tv.getText().toString();

                Locale locale2 = new Locale(selected_lang);
                Locale.setDefault(locale2);
                Configuration config2 = new Configuration();
                config2.locale = locale2;
                getBaseContext().getResources().updateConfiguration(config2,
                        getBaseContext().getResources().getDisplayMetrics());
                tv.setText(getResources().getString(R.string.some_string_vith_localization));

            } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T05:23:26.747

这是您需要[的 Android](http://dharmendra4android.blogspot.in/2012/04/some-users-expect-to-use-application-in.html#!/2012/04/some-users-expect-to-use-application-in.html)中多语言支持的一个完整示例。

* * *

现在，

因为那几件事需要了解，

`res/values`文件夹，您可以创建尽可能多的文件夹并将相应的语言字符串值保存在`Strings.xml`文件夹下的文件中。

现在，当用户选择它选择的任何语言时，然后更改`configuration`

我还建议您也应该阅读一次这个主题：[本地化](http://developer.android.com/guide/topics/resources/localization.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T05:23:23.903

好的...尝试使用 android-translate-api-1.1.jar

链接：http://code.google.com/p/android-translate-api/

```
Locale curLocale = this.getResources().getConfiguration().locale;
I18nTranslator i18nTranslator = new I18nTranslator(curLocale .getLanguage());

String text = i18nTranslator.translateString("YOUR-TEXT-HERE"); 
```

# android - ExpandableListView 中的多个 ListView 或嵌套 ListView

> ID：12312011
> 
> 赞同：0
> 
> 时间：2012-09-07T05:04:12.283
> 
> 标签：android, android-layout, android-listview

我一直在尝试在另一个“母亲”列表视图中导入多个列表视图。

我有一个创建 ListViews 的类，然后是调用这些视图的 Activity 类。我唯一能做的就是用 ListPerms@ 条目（我猜的对象）填充“母亲”

这是我的多个 ListViews 课程

```
public ListPerms(Context context, String a, int docid) {
    super(context);
    table=a;
    did=docid;
    list= (ListView) findViewById(R.id.specific_perm_list);
    getdata(list,ar_list);
}

private void getdata( ListView list, ArrayList<String> arlist){
    Database openHelper = new Database(getContext());
    myDB = openHelper.getReadableDatabase(); 
    myDB=SQLiteDatabase.openDatabase("data/data/com.example.login2/databases/aeglea", null, SQLiteDatabase.OPEN_READONLY);

    try{fill(list,arlist);}catch(Exception e){Log.e("NAT EXISTANT","THIS->"+e);}

}

private void fill( ListView list, ArrayList<String> arlist){
    Cursor temp = null;
    Cursor buffer = null;
    String type_from_table = null;
    String[] items = null;

    if(table=="med") {type_from_table = "medication";}
    if(table=="test") {type_from_table = "test";}
    if(table=="all") {type_from_table = "allergy";}
    if(table=="proc") {type_from_table = "procedure";}
    if(table=="cond") {type_from_table = "condition";}
    if(table=="vacc") {type_from_table = "vaccine";}

    temp = fetchOption("SELECT * FROM permission WHERE did="+did+" AND type='"+type_from_table+"'");
    if(temp.getCount()>0){

        buffer = fetchOption("SELECT * FROM user_"+table+" WHERE id="+temp.getString(temp.getColumnIndex("fileid")));
        items = new String[] {buffer.getString(buffer.getColumnIndex("name"))};
        arlist.addAll( Arrays.asList(items) ); 
        listAdapter = new ArrayAdapter<String>(getContext(), R.layout.item, arlist); 

        for(int i=1;i<temp.getCount();i++){
            temp.moveToNext();
            buffer = fetchOption("SELECT * FROM user_"+table+" WHERE id="+temp.getString(temp.getColumnIndex("fileid")));
            listAdapter.add(buffer.getString(buffer.getColumnIndex("name"))); 
        }

        list.setAdapter(listAdapter);
    }else{
        items = new String[] { "None."}; 
        arlist.addAll( Arrays.asList(items) ); 
        listAdapter = new ArrayAdapter<String>(getContext(), R.layout.item, arlist);
        list.setAdapter(listAdapter);
    }
} 
```

Activity 类在哪里（现在）我有一个 ExpandableListView，但我真的不知道 ELV 是如何工作的

```
protected void onCreate(Bundle savedInstanceState){
        super.onCreate(savedInstanceState);
        setContentView(R.layout.docp);
        general = (ExpandableListView) findViewById(R.id.Tot_perm_list);
    //random data
}
protected void onResume(){
    super.onResume();

    ListPerms me = new ListPerms(getApplicationContext(),"med",did);
    ListPerms te = new ListPerms(getApplicationContext(),"test",did);
    ListPerms all = new ListPerms(getApplicationContext(),"all",did);
    ListPerms proc = new ListPerms(getApplicationContext(),"proc",did);
    ListPerms cond = new ListPerms(getApplicationContext(),"cond",did);
    ListPerms vacc = new ListPerms(getApplicationContext(),"vacc",did);

    me.setActivated(isChild());
    te.setActivated(isChild());
    all.setActivated(isChild());
    proc.setActivated(isChild());
    cond.setActivated(isChild());
    vacc.setActivated(isChild());
    list.add(me);
    list.add(te);
    list.add(all);
    list.add(proc);
    list.add(cond);
    list.add(vacc);

    general.setAdapter(listAdapter);
    general.addChildrenForAccessibility(list);
    //what do I do
} 
```

关于如何做 ListView{LV,Lv ... } 或 ExpandableListView{LV, LV ....} 的建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:39:08.263

根据我的理解，将两个或多个列表视图合并到一个中并不是一个好主意。您肯定会遇到滚动问题（当然，一些肮脏的黑客可以帮助解决它），并且性能可能会比单个列表最差。

我建议您使用 ExpandableList 和 ExpandableListAdapter。要将列表合二为一，您需要组合它的适配器。
例如，它可能如下所示：

```
...
// Your implementation of ExpandableListAdapter

// To store all 'child' adapters, it should be filled by the owner
SparseArray<BaseAdapter> mChildAdapters = new SparseArray<BaseAdapter>();

@Override
public View getChildView(int groupPosition, int childPosition,
        boolean isLastChild, View convertView, ViewGroup parent) {
    final BaseAdapter childAdapter = mChildAdapters.get(groupPosition);
    View view = null;

    if (childAdapter != null) {
        view = childAdapter.getView(childPosition, convertView, parent);
    }

    return view;
}

@Override
public int getChildrenCount(int groupPosition) {
    int childrenCount = 0;
    final BaseAdapter childAdapter = mChildAdapters.get(groupPosition);

    if (childAdapter != null) {
        childrenCount = mChildAdapter.getCount();
    }

    return childrenCount;
}
... 
```

请注意，上面的代码只是一个草稿，但我希望这个想法是清楚的。您可能会遇到这种方法的唯一技巧 -`convertView`您在一个 childAdapter 中收到的可能来自另一个，因此在重用 convertView 之前应该应用一些（非常简单的）检查。

此外，可扩展列表可以让您很好地为每个列表提供标题（通过 groupView）。

# c - C中链表的逻辑错误

> ID：12312016
> 
> 赞同：0
> 
> 时间：2012-09-07T05:04:46.243
> 
> 标签：c, list, linked-list

```
#include <stdio.h>
#include <stdlib.h>
#define UINT unsigned int

struct item
{
UINT   time ;           // time in tics which is used to order the list.
UINT   id ;             // penguin id number.
UINT   event ;          // event this item describes.
struct item  *next ;    // pointer to next item in list.
};

struct item *head=NULL;
struct item *trail=NULL;

void link_list(UINT time, UINT id, UINT event)
{
struct item *t=NULL;
static int i=0;
if(i==0)
{
    head->time=time;
    head->id=id;
    head->event=event;
    trail=head;
    trail->next=NULL;
    i++;
    printf("Hello Word\n");
}
t=malloc(sizeof(struct item));
trail->next=t;
trail->time=time;
trail->id=id;
trail->event=event;
trail=t;
trail->next=NULL;
if(i!=0)
    printf("I am \n");

}

int main(int argc, char *argv[])
{
UINT x[3]={4,5,7}, y[3]={40,50,60}, z[3]={100,900,500};
int i=0;
head=malloc(sizeof(struct item));

trail=head;
link_list(x[0], y[0], z[0]);
link_list(x[1], y[1], z[1]);
link_list(x[2], y[2], z[2]);

struct item *f=NULL;
f=head;
do
{
    printf("trail: %d %d %d\n", f->time, f->id, f->event);
    f=f->next;
}
while(f!=NULL);

return 0;
} 
```

再会，

我目前在逻辑上对链表的代码实现存在逻辑问题。这段代码是我用来将它集成到一个更大的程序中的框架，该程序将使用链表，所以我需要把它做好。

基本上发生的事情是，当我最终到达用作调试行的 do while 循环以查看链接列表的内容时，我将在命令行上获得以下输出：

足迹：4 40 100

足迹：5 50 900

足迹：7 60 500

踪迹：0 0 0

我期望输出是这样的：

足迹：4 40 100

足迹：5 50 900

足迹：7 60 500

我已经在我的代码中排除了其他 printf，因为它们只是用来检查我是否确实正确地完成了我的函数。这也可能是无关的，但在 linux 下是否有更好的 c 调试器？因为内置调试器在进入 malloc 命令时会发疯，所以我必须在我的脑海中调试所有程序。:(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:13:40.567

如果通过内置调试器您的意思是 gdb，您可以告诉它跳过 malloc(); 但是，如果您的程序在 malloc 中崩溃，则说明您遇到了内存分配问题或在程序中使用了错误。

一个明显的错误是您没有在 link_list() 中正确初始化“t”，特别是 t->next 是垃圾，并且您的程序在尝试跟随它时可能会崩溃。我认为您的意思是设置 t->time、t->id 等，而不是 trail->time。

追加到链表的最佳方法通常是有一个单独的函数，该函数返回一个新的列表项，其中所有字段都已初始化，然后在例程中追加，只需操作指针即可。如果您的列表头只是一个指针而不是结构，它也会有所帮助，但这是一个样式问题。

最好的办法是使用为您提供链表的库，但如果您正在学习链表，那就不好了！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T05:13:46.393

您将一个新节点附加到尾部，然后将您的数据写入尾部节点，然后将尾部指针移动到新节点：

```
t=malloc(sizeof(struct item));
trail->next=t;
trail->time=time;
trail->id=id;
trail->event=event;
trail=t;
trail->next=NULL; 
```

t 设置为新节点。当前链表tail的next指针被设置为指向t，tail指向的节点的时间、id和事件字段被写入。尾引用现在移动到 t，它仍然不包含任何数据。

有很多东西可以改进此代码，首先是使用模块化设计进行“列表”管理，但这是您的直接问题。

# c# - 访问路径 'c:\windows\system32\inetsrv\config\' 被拒绝

> ID：12312025
> 
> 赞同：0
> 
> 时间：2012-09-07T05:06:16.260
> 
> 标签：c#, permission-denied

```
if (Fubrowse.HasFile)
{
  string path = Path.GetFullPath(Fubrowse.PostedFile.FileName);
  //string root = Path.GetPathRoot(path);
  GetFilesFromDirectory(path.Substring(0, path.LastIndexOf("\\")));
}
else
  GeneralClass.ShowMessageBox("Please Select File First.");
}

private void GetFilesFromDirectory(string DirPath)
{
  try
  { 
    DirectoryInfo Dir = new DirectoryInfo(DirPath);
    FileInfo[] FileList = Dir.GetFiles("*.cs", SearchOption.AllDirectories);
    foreach (FileInfo FI in FileList) 
```

在这里，路径是`c:\windows\system32\inetsrv\config\`。`FileList`我想在数组中获取所有子目录的文件名。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T05:11:18.580

运行您的代码的 Windows 帐户需要对该文件夹的读取权限（通常需要管理员权限）。

*   如果你从 Visual Studio 运行程序，那是你的帐户。以管理员身份运行 VS，您的代码应该可以正常工作。
*   如果它是 Web 应用程序，则应用程序池帐户需要对该文件夹具有读取权限。
*   如果它是 Windows 服务，则主机帐户需要访问权限。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-03-03T02:54:36.830

我遇到过同样的问题。我无法从中获取文件，`C:\Windows\system32\intesrv\config`因为我的系统是 64 位的，并且我的请求重定向[到此答案](https://stackoverflow.com/a/23327624/2674033)`C:\Windows\SysWOW64\system32\intesrv\config` 给出了更多解释。

*PS。我的答案留在这里，只为那些将要在未来寻找的人*

# objective-c - 从对象的 NSArray 中提取属性

> ID：12312032
> 
> 赞同：21
> 
> 时间：2012-09-07T05:07:23.900
> 
> 标签：objective-c, ios, cocoa-touch, nsarray

是否有任何方法（除了循环）来提取数组中所有对象的特定属性。所以说在一堆人那里。我想将他们所有的名字提取到一个数组中。

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2012-09-07T05:17:04.520

键值编码将帮助您：

```
NSArray *result = [people valueForKey:@"firstname"]; 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2016-03-02T05:59:30.370

我的问题得到了答案。这就是我们如何快速实现相同目标的方法。

```
let arraytWithProperties = arrayWithObjects.map{ $0.propertyName } 
```

# c - FreeType 库和“对 FT_Init_FreeType 的未定义引用”

> ID：12312034
> 
> 赞同：8
> 
> 时间：2012-09-07T05:07:35.870
> 
> 标签：c, linker, shared-libraries, freetype

来自 PHP，这是我第一次使用 C/C++（所以请放轻松）。我正在按照[本教程](http://www.freetype.org/freetype2/docs/tutorial/step1.html)使用 FreeType 库编写一个简单的脚本。以下编译得很好：

```
#include <ft2build.h>
#include FT_FREETYPE_H

main() {
    FT_Library library;
    FT_Face face;
} 
```

这告诉我编译器可以随时使用 FreeType 库。但是，一旦我尝试使用任何方法，事情就会中断。例如，采用以下脚本：

```
#include <ft2build.h>
#include FT_FREETYPE_H

main() {

    int error;

    FT_Library library;
    error = FT_Init_FreeType(&library);
    if (error) {}

    FT_Face face;
    error = FT_New_Face(library, "/usr/share/fonts/truetype/arial.ttf", 0, &face);
    if (error == FT_Err_Unknown_File_Format) {
        printf("Font format is unsupported");
    } else if (error) {
        prinft("Font file is missing or corrupted");
    }
} 
```

此脚本在编译时产生以下错误：

```
#gcc render.c -I/usr/include/freetype2
/tmp/cc95255i.o: In function `main':
render.c:(.text+0x10): undefined reference to `FT_Init_FreeType'
render.c:(.text+0x30): undefined reference to `FT_New_Face'
collect2: ld returned 1 exit status 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-07T05:11:22.877

这些是链接错误。如果他们在演示中包含一个 Makefile，你最好使用它。否则，您需要在编译命令行中添加 -L 和 -l 选项，以便编译器（实际上是链接器，由编译器在后台调用）知道在哪里可以找到 FreeType 库。

-L 选项给出了库代码所在的路径。例如

```
-L/usr/local/lib 
```

-l 选项给出了库的名称。以 -l 选项命名的库以缩短的形式指定，也就是说，您去掉前面的“lib”和后面的“.a”。例如，如果 FreeType 库存储在文件 libfreetype.a 中，它将在 -l 选项中显示为

```
-lfreetype 
```

例如：

```
gcc render.c -I/usr/include/freetype2 -L/usr/local/lib -lfreetype 
```

# tomcat - 如何在 webapp 部署时创建 Lucene 内存索引

> ID：12312036
> 
> 赞同：0
> 
> 时间：2012-09-07T05:08:23.760
> 
> 标签：tomcat, web-applications, indexing, lucene, wso2

我有一个在 Apache Tomcat 服务器上运行的 web java/jsp 应用程序。在这个 Web 应用程序中，我使用 Lucene 来索引和计算一些 PDF 文档之间的相似度（PDF 文档在数据库中）。我的实时服务器（基于 Tomcat 的 WSO2 stratos 服务器）不允许 web 应用程序访问文件，所以我使用`RAMDirectory`类创建了内存中的 lucene 索引。

以我在应用程序中编码的当前方式，当用户每次访问 Lucene 涉及的功能时，它都会创建一个新的内存索引。

有没有办法在 webapp 部署时创建内存索引，这样内存索引只会创建一次，只要 web 应用程序处于活动状态，我就可以访问内存索引？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T07:25:58.540

本质上，您似乎需要一种在应用程序部署中执行代码的机制。请参阅[tomcat 自动启动 servlet](https://stackoverflow.com/questions/785769)。

# c# - 为什么我不能像这样使用空合并运算符？

> ID：12312037
> 
> 赞同：2
> 
> 时间：2012-09-07T05:08:25.307
> 
> 标签：c#, .net, guid

根据[MSDN](http://msdn.microsoft.com/en-us/library/ms173224.aspx)：

> 这 ？？运算符称为空值合并运算符，用于为可空值类型或引用类型定义默认值。

但是当我运行下面的代码时：

```
Guid test;
Guid otherGuid = test ?? Guid.NewGuid(); 
```

我得到错误：

> 操作员 '？？' 不能应用于“System.Guid”和“System.Guid”类型的操作数

我认为 Guid 是一种参考类型。不是这样吗？有人可以向我解释为什么这不起作用吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-07T05:10:27.973

[`Guid`](http://msdn.microsoft.com/en-us/library/system.guid.aspx)不是引用类型，它是**值类型**，您不能将其分配为 null，这就是为什么您不能检查它`??`

以下行会给你错误。

> 无法将 null 转换为“System.Guid”，因为它是不可为空的值类型

```
Guid test = null; 
```

你可以使用[Nullable](http://msdn.microsoft.com/en-us/library/b3h38hb0.aspx)

```
Nullable<Guid> test = null;
Guid otherGuid = test ?? Guid.NewGuid(); 
```

或简短的形式

```
Guid? test = null;
Guid otherGuid = test ?? Guid.NewGuid(); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-09-07T05:11:53.280

[`Guid`](http://msdn.microsoft.com/en-us/library/system.guid.aspx)是一个结构而不是一个类，因此不能为空。

为此，您可以执行以下操作：

```
Guid? nullableGuid = null;
/* At some point nullableGuid is perhaps assigned... */
Guid otherGuid = nullableGuid ?? Guid.NewGuid(); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-09-07T05:14:36.043

GUID 是一种结构。 [http://msdn.microsoft.com/en-us/library/system.guid.aspx](http://msdn.microsoft.com/en-us/library/system.guid.aspx)

尝试使用`Guid.Empty`来进行检查。

```
Guid otherGuid = test == Guid.Empty ? Guid.NewGuid() : test; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-07-04T11:50:30.743

正如其他人所说，Guid 是值类型而不是引用类型，请参阅[此处](https://www.tutorialsteacher.com/csharp/csharp-value-type-and-reference-type)以更深入地解释两者之间的区别。在您的方案中，您有两个选择。

1.  **聚结算子：**

```
Guid? guid = null;
otherGuid = guid ?? Guid.NewGuid(); 
```

2.  **[`default`](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/default)比较**

```
otherGuid = guid == default ? Guid.NewGuid() : guid; 
```

在第二个选项中，您也可以 guse `Guid.Empty`，但使用`default`关键字会更好。

# ios - 退出 iOS 中的嵌套块处理

> ID：12312038
> 
> 赞同：1
> 
> 时间：2012-09-07T05:08:30.430
> 
> 标签：ios, objective-c-blocks

我正在解析一个 JSON 文件来构建一个对象图。在反序列化 JSON 时，我使用块验证对象。如果任何对象发生任何验证错误，我需要中断进一步的块处理。有没有办法打破嵌套块 - 就像`break`在`switch`语句中一样？

我正在运行 iOS 5.0 并使用 ARC。如果您想要一些代码来帮助理解我的问题，请告诉我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T11:46:19.767

解决方案是在你的类中添加一个 __block BOOL ivar，我们称之为“取消”。当您发现错误时，将“取消”设置为“是”。在每个块中，在每个循环中，仅当“取消”为假时才起作用。

这样，当遇到错误并设置了取消时，一旦检测到“取消”设置，块就会基本上退出。

编辑：因为我写了这个 ivars 不需要 __block 限定符（并且可能永远不需要它，不确定）。当块引用 ivar 时，它们通过一个“self”指针来完成，即 self->ivar。

# java - java objectinputstream中的readObject如何知道要读取多少字节？

> ID：12312042
> 
> 赞同：0
> 
> 时间：2012-09-07T05:08:43.090
> 
> 标签：java, python, sockets, java-io

在套接字 I/O 中，我可以知道如何`objectinputstream` `readObject`知道要读取多少字节吗？内容长度是封装在字节本身中还是只是读取缓冲区本身中的所有可用字节？

我问这个是因为我指的是 Python 套接字操作方法，它说

> 现在，如果您稍微考虑一下，您就会意识到套接字的一个基本事实：消息必须是固定长度的（yuck），或者是定界的（耸肩），或者表明它们有多长（更好），或者以关闭连接结束。选择完全是你的，（但有些方法比其他方法更正确）。

然而，在另一个 SO[答案](https://stackoverflow.com/questions/1501378/java-serialization-objectinputstream-readobject-check-if-will-block)中，@DavidCrawshaw 提到了`

> 所以 readObject() 不知道它会读取多少数据，所以它不知道有多少对象可用。

我很想知道它是如何工作的......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:22:50.537

您过度解释了您引用的答案。`readObject()`不知道它将提前读取多少字节*，*但是一旦开始读取，它只是根据协议解析输入流，该协议由标签、原始值和对象组成，而对象又由标签组成，原始值和其他对象。它不必提前知道。考虑 XML 的类似情况。您不知道文档将提前多长时间或每个元素，但您知道何时阅读了所有内容，因为协议会告诉您。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:53:18.467

该`readOject()`方法使用 BlockedInputStream 读取字节。如果您检查`readObject`of `ObjectInputStream`，它正在调用

```
readObject0(false).

private Object readObject0(boolean unshared) throws IOException {
    boolean oldMode = bin.getBlockDataMode();
    if (oldMode) {
        int remain = bin.currentBlockRemaining();
        if (remain > 0) {
        throw new OptionalDataException(remain);
        } else if (defaultDataEnd) {
        /*
         * Fix for 4360508: stream is currently at the end of a field
         * value block written via default serialization; since there
         * is no terminating TC_ENDBLOCKDATA tag, simulate
         * end-of-custom-data behavior explicitly.
         */
        throw new OptionalDataException(true);
        }
        bin.setBlockDataMode(false);
    }

    byte tc;
    while ((tc = bin.peekByte()) == TC_RESET) {
        bin.readByte();
        handleReset();
    } 
```

从流中读取的内容是使用bin`bin.readByte().`来读取的。这个类最终使用的是 InputStream.read()。从 read 方法的描述中：`BlockiedDataInputStream``PeekInputStream`

```
/**
     * Reads the next byte of data from the input stream. The value byte is
     * returned as an <code>int</code> in the range <code>0</code> to
     * <code>255</code>. If no byte is available because the end of the stream
     * has been reached, the value <code>-1</code> is returned. This method
     * blocks until input data is available, the end of the stream is detected,
     * or an exception is thrown. 
```

所以基本上它会逐个字节地读取，直到遇到 -1。所以正如 EJP 所提到的，它永远不会提前知道要读取多少字节。希望这将帮助您理解它。

# jquery - jQuery 性能：hide() 与 is(':visible') - 哪个更快？

> ID：12312047
> 
> 赞同：2
> 
> 时间：2012-09-07T05:08:57.270
> 
> 标签：jquery, performance

我有多个下拉框，当它们的链接被点击时它们会掉落。如果它们同时打开，这些盒子可能会重叠。

查询元素是否可见`$('#box').is(':visible')`以及框是否可见以隐藏它`$('#box').hide()`或只是告诉它隐藏它是否更快？

为了争论，假设盒子有 50% 的时间是打开的，而 50% 的时间它已经隐藏了。

TL;博士

这是：

```
$("#box1-link").on("click", function(e){
    e.preventDefault();
    if($('#box2').is(':visible')) {
        $('#box2').hide();
    }

    $('#box1').slideDown(200, function() {
    });
}); 
```

或这个：

```
$("#box1-link").on("click", function(e){
    e.preventDefault();
    $('#box2').hide();

    $('#box1').slideDown(200, function() {
    });
}); 
```

从长远来看更快？- 假设 box2 在 50% 的链接被点击时被隐藏

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T05:34:48.213

## 更新

（2013 年 8 月）看起来随着对 jQuery 的更改，简单地调用`hide`可能不再是最快的选择（尽管为了简洁和清晰起见，它可能仍然是可取的）。看看这个[更新的基准测试用例](http://jsperf.com/check-element-viz-before-hide/3)。

* * *

首先，应该注意的是，它的运行时影响将是无限小的，您将很难创造一种情况，在这种情况下，这将成为您性能的瓶颈。

然而，第二种方法可能会更快，因为它已经`if`内置了该检查：

```
// ... line 7996 (jQuery 1.8.1):
if (!values[index] && display !== "none") {
    jQuery._data(elem, "olddisplay", display);
}​
// ... 
```

换句话说，如果 DOM 元素还没有`display: none`. 由于避免了更少的方法调用，该方法仍有可能`.is()`设法更快一点，但查看方法本身将很快消除这些担忧：

```
// ...line 6804:
return !!selector && (
    typeof selector === "string" ?
        // If this is a positional/relative selector, check membership in the returned set
        // so $("p:first").is("p:last") won't return true for a doc with two "p".
        rneedsContext.test(selector) ?
            jQuery(selector, this.context).index(this[0]) >= 0 :
            jQuery.filter(selector, this).length > 0 : 
        this.filter(selector).length > 0);​
// ... 
```

简而言之，第二个更快—— [**jsPerf test-case**](http://jsperf.com/check-element-viz-before-hide)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:14:02.513

我认为总是隐藏它更快。另一种选择是为盒子示例 var b = $('#box2') 创建一个引用。而不是调用 $('#box2')。我认为这将是最好的选择。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T05:34:44.053

您也可以为此使用 .toggle() 函数。

```
var $box1 = $('#box1'),
    $box2 = $('#box2');
$('.majorDiv').on('click', '#box1-link', function(e){

  var $this = $(this);
  e.preventDefault();

  $box1.fadeToggle();
  $box2.slideDown(200, function(){
    //do stuff here
  });

}); 
```

# ruby - 有条件地测试是否在 HAML 模板中添加类的简洁方法

> ID：12312052
> 
> 赞同：6
> 
> 时间：2012-09-07T05:09:07.897
> 
> 标签：ruby, views, sinatra, haml

> **可能重复：**
> [如果在 Haml 中条件为真，则附加类（使用 Rails）](https://stackoverflow.com/questions/3453560/append-class-if-condition-is-true-in-haml-with-rails)

我正在使用一个模板，该模板允许您将列表项标记为`current`（使用`class=current`），并在导航栏中突出显示它。

在 HAML 中，这看起来像：

```
%li.current
  Menu item A
%li
  Menu item B
%li
  Menu item C 
```

我在 Sinatra 视图中有此代码，并希望以编程方式添加`class=current`，具体取决于视图的参数。

**我如何以最简洁的方式做到这一点？**

目前，我正在这样做：

```
 - if section == "pages"
    %li.current
      %a{:href => "#pages"} Pages
  - else
    %li
      %a{:href => "#pages"} Pages 
```

感觉太冗长了。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-09-07T05:12:16.253

您可以内联条件以确定 %li 是否需要该类

```
%li{ :class => ('current' if section == "pages") }
  %a{ :href => "#pages" } Pages 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-07T05:25:58.270

如果`section`可以是另一个字符串而不是`"pages"`，您应该使用类似[**mguymon**](https://stackoverflow.com/users/1272477/mguymon)回答的内容。但如果只能是`nil`，`false`或者`"pages"`这段代码更简洁：

```
%li{ class:section && 'current' }
  %a{ :href => "#pages" } Pages 
```

这使用了 HAML 省略`nil`或`false`属性的原则，并且 Ruby 中的每个对象都被评估为`true`，除了：`false`和`nil`。

因此，如果`section`与`nil`or不同`false`，则`section && 'current'` 输出`'current'`else 它输出`false`省略类属性。

# linux - 为什么 linux multiarch 使用 x86_64-linux-gnu 而不是 lib64？

> ID：12312053
> 
> 赞同：2
> 
> 时间：2012-09-07T05:09:12.810
> 
> 标签：linux, ubuntu, shared-libraries, debian-based

我最近在部署 32 位和 64 位库时遇到了 linux 中的 multiarch。

出于好奇，为什么 /lib64 被弃用，取而代之的是 /lib/x86_64-linux-gnu 这似乎过于复杂，但一定是有原因的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T05:29:38.363

长版本可以在[http://wiki.debian.org/Multiarch](http://wiki.debian.org/Multiarch)找到，特别是[http://wiki.debian.org/Multiarch/TheCaseForMultiarch](http://wiki.debian.org/Multiarch/TheCaseForMultiarch)。

简短的版本是使用三元组是一种更通用的解决方案，它允许使用多个 ABI（例如 x86 和 x32，正如 Basile 在评论中提到的那样）、仿真器、交叉编译器等，而无需求助于各种技巧。

Fedora 或 OpenSUSE 等非基于 Debian 的发行版是否会采用这一点还有待观察；到目前为止，他们似乎并不那么感兴趣。

# asp.net-mvc-4 - ASP.NET WebApi form-urlencoded 字符串反序列化

> ID：12312055
> 
> 赞同：1
> 
> 时间：2012-09-07T05:09:31.857
> 
> 标签：asp.net-mvc-4, asp.net-web-api

我使用 WebApi 和 Client 开发服务，通过 POST 方法向该服务发送压缩数据（以节省带宽）。他们两个都在我的控制之下。在服务器上，我收到压缩数据，解压缩它并具有如下字符串：

```
section[0][caption]=Foo&
section[0][address]=175896&
section[0][counters][]=2&
section[0][counters][]=2&
section[0][errors][]=ERR_NOT_AVAILABLE&
errors=true&
trmtimestamp=1346931864358 
```

即简单的 www-form-urlencoded 字符串。

ASP.NET MVC4 WebApi 是否有一些方法可以将此字符串绑定或反序列化到我的模型？

```
public class Snapshot
{
    public List<SectionState> sections { get; set; }
    public bool errors { get; set; }
    public double date { get; set; }
    public double trmtimestamp { get; set; }
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-23T07:58:42.277

您可以使用以下代码来解析字符串：

```
new System.Net.Http.Formatting.FormDataCollection(query).ReadAs<Snapshot>(); 
```

ReadAs 是在 System.Web.Http.ModelBinding.FormDataCollectionExtensions 下定义的扩展方法。

# javascript - Javascript 正则表达式？

> ID：12312059
> 
> 赞同：0
> 
> 时间：2012-09-07T05:09:52.857
> 
> 标签：javascript, regex

正在处理密码验证，我一直在寻找一个 RegEx，

我需要一个不允许密码以数字开头或允许密码以字母开头的正则表达式。

我尝试了一些正则表达式，例如`[^0-9]`, `[ /[a-z][A-Z/g] ]`。

请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:11:51.060

其实很简单：

```
^[^0-9] 
```

将确保第一个字符不是数字。但正如 zerkms 已经在评论中指出的那样，您正在以这种方式减少密码熵，从而使系统实际上变得不那么安全。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:26:37.973

这是您需要的：

```
^([^0-9]).* 
```

**[正则表达式演示](http://regexr.com?322ou)**

**编辑：**

Javascript：

```
var regexmatch = /^([^0-9]).*/

if (regexmatch.test(YOUR_EXPRESSION)){ 
    // code stuff
} 
```

# mysql - Jquery Slider 和 Jquery 自动完成

> ID：12312061
> 
> 赞同：0
> 
> 时间：2012-09-07T05:09:56.990
> 
> 标签：mysql, jquery-ui, jquery, slider

我一直在使用 jquery 自动完成功能在页面上工作，以便在您输入客户端名称时，它会在数据库中搜索包含该短语的任何 macth。所以使用 "LIKE" 。我还整理了一个 jquery silder，以便它显示从数据库中自动加载的记录，当你单击一个时，它将从数据库中加载更多信息。

这些 2 段代码都可以正常工作，因此 serprate 页面上的 jquery 自动完成功能只是从数据库中加载文本输入。并且 jquery 滑块适用于手动输入的数据和 php 从数据库加载的数据。

但是当我把它们放在一起时，问题是它在屏幕上显示了带有 jquery 滑块样式的记录但是当你点击记录时它没有显示任何东西所以没有滑块（atm 只是滑块中的手动 html 数据用于测试）

我尝试了多项测试，例如运行它们 serpeatre，将它们放在不同的 div 标签中。我已经让它与单个 sql 查询一起工作，但这不是我需要做的，因为我不希望页面需要刷新以加载数据。

我已经从两个文件中放置了我的代码，所以第一个是调用 ajax 请求来创建记录的。

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript">
    $(function(){
    $(".recordrow").click(function() {
        var divid = "details-" + $(this).attr('id').split("-")[1]; //Create the id of the div
        $("#"+divid).show().animate({ "right": '0%'}); //Bring the div from right to left with 200px padding from the screen
    });

    $('#bt-close').click(function(){
     $('.details').animate({right:-2000}, 500);

    });

    });

    function getStates(value){

    $.post("sql.php",{partialState:value},function(data){
    $("#results").html(data);
    });
    }
    </script> 

    <input type="text" onkeyup="getStates(this.value)"/>
    <br />
    <div id="results">

    </div> 
```

这是查询数据库的页面

```
<?php 
if($_POST['partialState']){
mysql_connect("localhost","root")or die (mysql_error());
mysql_select_db("ict_devices") or die (mysql_error());

$test=$_POST['partialState'];
$text="... More details of the records";

$states = mysql_query("Select * from students Where FirstName LIKE '%$test%'");

while($state= mysql_fetch_array($states)){
echo '<div class="recordrow" id="row-$state["id"]">'.$state['FirstName'].'</div>';
echo '<div class="details" id="details-$state["id"]">'.$text.'<a href="#" id="bt-close">Close</a></div>';
}
}
?> 
```

任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T05:48:33.003

我认为您需要在通过 ajax 获得它之后在“recordrow”div 上绑定一个点击功能。在您的代码中，点击事件绑定时没有“记录行”。所以你需要这样的东西：

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript">
    function getStates(value){
        $.post("sql.php", function(data){
            $("#results").html(data);
            $('.recordrow').each(function() {
               $(this).bind('click', function() {
                   var divid = "details-" + $(this).attr('id').split("-")[1]; //Create the id of the div
                   $("#"+divid).show().animate({ "right": '0%'}); //Bring the div from right to left with 200px padding from the screen
               });
            });
            $('#bt-close').each(function() {
                $(this).bind('click', function(){
                    $('.details').animate({right:-2000}, 500);
                });

            });
        });
    }
</script> 
```

您的 ajax 是正确的，当您在 DOM 中测试滑块记录行时，请正确单击绑定。这就是它按部分工作的原因

**编辑：**我测试我的代码并添加 bt-close 事件的绑定，它适用于我，试试吧。它在单击和动画启动时显示详细信息

# mysql - 将文本添加到 MYSQL 数据库的每一列

> ID：12312065
> 
> 赞同：1
> 
> 时间：2012-09-07T05:10:30.967
> 
> 标签：mysql

我在 MYSQL 中有一个大约 1000 行的数据库表。在表中，我有一个名为“概述”的列。在每一行中，该列都有一些值，在该值的末尾我有一个特定的行（文本），以：'Source...'开头

现在我想要的是，我想从每一列中删除这一行并将其替换为其他一些文本内容。

我相信它可以通过一些智能查询来完成。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:14:56.080

您可以像这样在查询中简单地使用[REPLACE](http://dev.mysql.com/doc/refman/5.0/en/replace.html)

```
 UPDATE your_table SET col_name = REPLACE(col_name , ‘Source...’, ‘new_val’)
    WHERE col_name LIKE '%Source...'; 
```

查看**[SQLFIDDLE](http://sqlfiddle.com/#!3/c178d/3)**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:15:34.973

MySQL 数据库有一个方便且简单的字符串函数`REPLACE()`，可以将匹配字符串 ( `from_string`) 的表数据替换为新字符串 ( `to_string`)。

的语法[`REPLACE`](http://dev.mysql.com/doc/refman/5.0/en/replace.html)是：

```
REPLACE (text_string, from_string, to_string) 
```

在您的情况下，您可以这样做：

```
UPDATE `tableName` SET `column` = REPLACE(column , 'Source...', 'Replaced Value') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T05:15:46.143

采用`Replace`

更新 TBL 集概览 = Replace(picture, 'Source..', 'replacement')

在任何事情之前保留表格的备份。或者您可以在副本上进行。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-07T05:17:49.003

您可以通过以下方式执行此操作：

```
update table_name set col_name = replace(column_name , ‘Source...’, ‘Replaced String...’); 
```

# css - CSS不会在某些浏览器中调整图像大小

> ID：12312067
> 
> 赞同：3
> 
> 时间：2012-09-07T05:10:49.673
> 
> 标签：css

我在我的网站上有两张图片在他们自己的父母 div 中（每个图片的完整结构是`div a img`）。div 具有流体高度 ( `height: 10%;`)。内的图像设置为`max-height: 100%;`。Webkit 中的图像大小合适，但其他所有浏览器似乎都存在一个或两个问题。我已经尝试寻找可能的解决方案，但我什至无法想象原因*是*什么。

由于向你们展示可能更容易，这里是相关的页面和文件：

*   [主页](http://millioncranes.com)（中心标志图片和底部的“CRASH”标志）
*   [CSS](http://millioncranes.com/templates/mc_home/css/desktop.css)（相关的 div 是`.logo`和`.crash`）

以下是我所看到的细分。谢谢你的帮助！

**编辑：**从未真正提及不良结果是什么。在它被破坏的浏览器中，图像以 100% 显示——不是以 100% 的父容器显示，而是以图像本身的全尺寸显示，从其容器中分离出来。希望这能澄清事情！

```
Browser / DIV | .logo | .crash
chrome 22     | works |  works (same results on my friend's copy of Safari)
opera 11.61   | broke |  broke
ie 9          | works |  broke
firefox 12    | works |  broke 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T05:49:49.530

我使用 Firebug 找到了它`firefox 15.0`并得到了解决方案，希望它适用于所有浏览器。

**1** . 删除为定义的 css 规则`#footer`并添加这些规则，`.crash`如下所示：

```
.crash {
    height: 10%;
    position: absolute;
    text-align: center;
    top: 82%;
    width: 100%;
} 
```

**2** . 添加以下规则：

```
.footerNav {
    position: absolute;
    text-align: center;
    top: 92%;
    width: 100%;
} 
```

**3** . 并`.mod-languages`用下面给出的替换现有样式：

```
.mod-languages {
    position: absolute;
    text-align: center;
    top: 96%;
    width: 100%;
} 
```

**补充笔记：**

您的 HTML 结构如下所示：

```
<div class="moduletable">
    <div class="custom">
        <div id="logo">
            <a href="http://www.millioncranes.com">
        </div>
    </div>
</div> 
```

So when you wrap `moduletable` with `#footer` like below:

```
<div id="footer">
    <div class="moduletable">
        <div class="custom">
            <div class="crash">
                <a title="CRASH Japan" href="http://crashjapan.com">
                    <img src="/images/crashlogo.png">
                </a>
            </div>
        </div>
    </div>
    .. /*Another moduletable*/
    .. /*Another moduletable*/
</div> 
```

This causing a problem. The style of `#footer` applying on all `moduletable` elements inside `#footer`. So do not need to wrap these elements inside footer. Style your elements like you have styled for `#logo`, That's it!

Hopefully it will fix your problem in all browsers.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:47:22.463

恐怕我这里只有一个 chromebook，所以我无法在任何非 webkit 浏览器上进行测试，但这是我的猜测：

为了让渲染引擎知道如何应用`height: 100%`，它必须确定容器元素的高度。长期以来，人们一直在与 100% 的身高搏斗。

首先，我会确保你`a`的绝对`display: block`知道`img`它的容器有多高。

然后我会尝试为`img`s 容器元素设置明确的高度，看看是否有任何解决它 - 然后当你知道问题是什么时，你可以找到解决方案。希望。

让我知道你是怎么办的。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-07T05:21:11.387

并非所有浏览器都支持最大高度；见[http://caniuse.com/#search=max-height](http://caniuse.com/#search=max-height)

您并没有真正说出您不喜欢结果的哪个方面：您期望发生的事情与实际发生的事情之间究竟有什么区别？

# c# - 如何将字符串值分配给 System.Windows.Forms.Keys？

> ID：12312068
> 
> 赞同：0
> 
> 时间：2012-09-07T05:10:53.403
> 
> 标签：c#, winforms, string

我需要将**System.Windows.Forms.Keys**设置为我分配的字符串。

我正在使用第 3 方 .Net 控件，它允许我将 HotKey 分配给控件，它使用**System.Windows.Forms.Keys**来设置 HotKey。例如：

`this.systemHotKey1.SetHotKey(System.Windows.Forms.Keys.S); //Assign S as the HotKey`

但是， System.Windows.Forms.Keys 不允许我为其分配字符串，我需要为其分配一个实际值。例如，这很好用：

```
System.Windows.Forms.Keys.S (for the hotkey S on the keyboard). 
```

但我想做这样的事情：

```
{
string tmpString = "S";
this.systemHotKey1.SetHotKey(System.Windows.Forms.Keys.tmpString);  //This does not work
} 
```

有人可以告诉我一种可以将字符串分配给 System.Windows.Forms.Keys 的方法，以便我可以完成此操作吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T05:17:47.310

我认为您在命名空间 System.Windows.Input中的[KeyConverter之后](http://msdn.microsoft.com/en-us/library/system.windows.input.keyconverter.aspx)

```
KeyConverter k = new KeyConverter(); 
Keys mykey = (Keys)k.ConvertFromString("Enter"); 
if (mykey == Keys.Enter) 
{ 
    Text = "Enter Key Found"; 
} 
```

由于 Keys 是一个枚举，因此您也可以像任何枚举一样解析它。

```
string str = /* name of the key */; 
Keys key; 
if(Enum.TryParse(str, true, out key)) 
{ 
    // use key 
} 
else 
{ 
    // str is not a valid key 
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-07T05:17:32.770

您可以使用 KeysConverter 来执行此操作

```
string tmpString = "S";
KeysConverter kc = new KeysConverter();
this.systemHotKey1.SetHotKey(kc.ConvertFromString(tmpstring)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T05:22:08.820

希望，这将完成工作：

```
KeysConverter kc = new KeysConverter();

string tmpString = "S";
Keys key = (Keys)kc.ConvertFromString(tmpString);
this.systemHotKey1.SetHotKey(key); 
```

# c - 如何在 Solaris/Linux 服务器上为 Oracle 制作 makefile？

> ID：12312073
> 
> 赞同：1
> 
> 时间：2012-09-07T05:11:46.197
> 
> 标签：c, oracle, gcc, makefile, cc

我有一个为 Informix 数据库正常运行的应用程序。但现在我希望它也为 Oracle 编译它。应该在下面显示的为 Informix 正常运行的 makefile 中进行哪些更改？

```
ESQL:=esql
CFLAGS:=$(CFLAGS) -DSOLARIS
PROCFLAGS:=$(PROCFLAGS) -DSOLARIS
HEADERS= $(HOME)/tmiD/headers
target = $(HOME)
CC=gcc

%.o :%.ec ; $(ESQL) -I$(HEADERS) -c $(CFLAGS) -DINFORMIX -EDINFORMIX -I/usr/local/include $<

%.o :%.c ; $(CC) -I$(HEADERS) -c $(CFLAGS) $<

MAKEC= mv $(target)/$(@F) $(target)/$(@F).old; \
$(ESQL) -DINFORMIX -EDINFORMIX \
$^ $(CFLAGS) -lnsl -L $(target) \
-o $(target)/$(@F)

$(target)/%:%.o  $(CLIBFILES); $(MAKEC)
%:%.o  $(CLIBFILES); $(MAKEC)

all: a tw_interface clean

tw_interface: tcp.o trace.o global.o rmi.o License.o purge.o libswx.a

ap: tcp.o trace.o global.o rmi.o License.o purge.o

clean:
        -rm tcp.o trace.o global.o rmi.o purge.o License.o\
         trace.c global.c rmi.c
a:
        -rm tw_interface 
```

我对这些东西很陌生。所以请帮助我。

先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T16:23:34.243

我认为 Pro*C 预编译器是用“proc”调用的，所以第一行

```
ESQL:=esql 
```

应该成为

```
PRO_C:=proc 
```

看起来 Pro*C 文件通常具有 .pc 文件扩展名。假设您的 Pro*C 文件与 Informix *.es 文件略有不同，并且您将使用 .pc 扩展名创建它们，那么这一行

```
%.o :%.ec ; $(ESQL) -I$(HEADERS) -c $(CFLAGS) -DINFORMIX -EDINFORMIX -I/usr/local/include $< 
```

会成为

```
%.o :%.pc ; $(PRO_C) CONFIG=proc_c_config.txt -I$(HEADERS) -c $(CFLAGS) -I/usr/local/include $< 
```

上面的行有“proc_c_config.txt”，这是一个要创建的文件，用于放置任何所需的 Pro*C 选项。如果除了默认值之外没有其他需要的选项，则可以删除该部分。

```
$(ESQL) -DINFORMIX -EDINFORMIX \ 
```

会成为

```
$(PRO_C) CONFIG=pro_c_config.txt \ 
```

他们在这里谈论[Pro*C 选项](http://docs.oracle.com/cd/B10500_01/appdev.920/a97269/pc_10opt.htm#2111)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T08:28:40.157

嗯....你说你对这些东西很陌生。

如果您不是经验丰富的程序员，那么重写 Makefile 是一项非常重要的练习。

但是，如果您想尝试一下，我建议您首先在您的 ORACLE_HOME 中安装 Pro*C 演示。一旦完成，并且您已经验证它，通过构建示例 Pro*C 程序，我建议使用 demo_proc.mk 生成文件（将与演示程序一起安装）作为模板来转换生成文件。

另外，请注意，我对 Informix 一无所知，但代码本身可能需要转换为 Pro*C，因为我假设 Informix 有一些其他预编译器，或者用于数据库访问的备用库集。

希望有帮助。

# asp.net-mvc-3 - 将值传递给 MVC 中 SqlMemebership Provider 的重写 CreateUser 方法

> ID：12312080
> 
> 赞同：0
> 
> 时间：2012-09-07T05:12:33.260
> 
> 标签：asp.net-mvc-3, asp.net-membership, overriding, sqlmembershipprovider

我正在与 ASP.NET 成员资格提供商合作。我正在使用 SqlMembership Provider，我已经覆盖了 CreateUser 类，如下所示。

如您所见，我有一个包含许多值的 SportDetails 字段，我想在 CreateUser 方法中使用它。我如何传递这些值？因为这些值取自 ViewModel。Infact SportDetails 是我注册页面的视图模型。

```
public class CustomMembershipProvider : SqlMembershipProvider
{
    public SportsDetails SportsDetails { get; set; }

    public override MembershipUser CreateUser(string username, string password, string email, string passwordQuestion, string passwordAnswer, bool isApproved, object providerUserKey, out MembershipCreateStatus status)
    {
        string.empty
        MembershipUser membershipUser = base.CreateUser(username, password, "", null,null, false, null, out status);

        // here is where I want to be able to use the value from Sports Details.

        return membershipUser;
    }
} 
```

和我的 web.config

```
<membership defaultProvider="CustomMembershipProvider">
<providers>
    <clear/>        
    <add name="CustomMembershipProvider" type="Service.Security.CustomMembershipProvider" connectionStringName="my_db" requiresQuestionAndAnswer="false" enablePasswordRetrieval="false" enablePasswordReset="true" requiresUniqueEmail="false" maxInvalidPasswordAttempts="5" minRequiredPasswordLength="3" minRequiredNonalphanumericCharacters="0" passwordFormat="Clear" passwordAttemptWindow="10" applicationName="myApp" />
</providers>
</membership> 
```

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T05:12:13.663

很难找到答案；）

我为此使用了接口。

下面是我使用的界面。

```
public interface ISportsDetailer{

public SportDetails SportsDetails { get; set; }

} 
```

然后在我的自定义提供程序中，我将此接口实现为

```
public class CustomMembershipProvider : SqlMembershipProvider, ISportsDetailer
{} 
```

并调用 CreateUser 并在它之前传递这些值，我使用

```
((ISportsDetailer)Membership.Provider).SportsDetails = valueFromModel; 
```

希望这对将来的某个人有所帮助:)

# ruby - Ruby 中的正则表达式

> ID：12312083
> 
> 赞同：4
> 
> 时间：2012-09-07T05:13:30.423
> 
> 标签：ruby, regex, anemone

[http://www.example.com/books?_pop=mheader](http://www.example.com/books?_pop=mheader)

什么是正则表达式来匹配这个和任何在 URL 中具有“书籍”作为模式匹配之一的 URL？该站点有一个书籍类别和该类别下的各种其他子类别。如何向下遍历以搜索 book 的所有 URL？

```
require 'anemone'
Pattern = %r[(\/books)*]
Anemone.crawl("http://www.example.com/") do |anemone|
  anemone.on_pages_like(Pattern) do |page|
    puts page.url
  end
end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T05:19:51.163

[http://rubular.com/](http://rubular.com/)是测试 Ruby 正则表达式的有用工具。

正则表达式很简单，`/http:\/\/.+(books)/`. 它也匹配`http://`以帮助确保它是一个 url。这是针对[http://www.example.com/reference-books-2300的](http://www.example.com/reference-books-2300)[rubular 测试](http://rubular.com/r/yMoLlBgc84)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T05:23:14.237

在您的 url 中匹配 /books 的模式应该只是“/books”

这是一个测试您的正则表达式的好网站[http://regexpal.com](http://regexpal.com)以确保您至少拥有正确的那部分代码。

# playframework - 使用 $ 登录 scala 模板？

> ID：12312086
> 
> 赞同：2
> 
> 时间：2012-09-07T05:13:48.657
> 
> 标签：playframework, playframework-2.0

请解释为什么在下面的代码中使用 $：

```
 <ul>
  @for(p <- products) {
    <li>@p.getName() ($@p.getPrice())</li>
  } 
 </ul> 
```

如果你能推荐一些好的教程来掌握 scala 模板，那就太好了。`Play 2.0 使用 scala 模板而不是 groovy 模板。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T05:58:14.923

这里的美元符号只是输出的 HTML 的一部分，因此价格显示`$100`为示例。它没有做任何特别的事情。它在@符号旁边，所以输出HTML时没有空格。

如果你习惯玩 1.x，这相当于做

```
$(${p.getPrice()}) 
```

# silverlight - 将 2D XNA 4.0 项目转换为 silverlight 5.0

> ID：12312088
> 
> 赞同：0
> 
> 时间：2012-09-07T05:14:12.687
> 
> 标签：silverlight, xna, xna-4.0

我遵循了[http://silversprite.codeplex.com/](http://silversprite.codeplex.com/)上的教程，并摆脱了一些预期的问题（颜色等）。但是剩下1个编译错误：

错误 2 类型 'Microsoft.Xna.Framework.Graphics.VertexDeclaration' 存在于两个 'c:\Program Files (x86)\Reference Assemblies\Microsoft\Framework\Silverlight\v5.0\Microsoft.Xna.Framework.Graphics.dll ' 和 'C:\Users\Brandon\Desktop\SilverSprite.dll' C:\Users\Brandon\Desktop\Projects\Other projects\Game Jam prac\Silverlight3dApp1\Silverlight3dApp1\Silverlight3dApp\VertexPositionColorNormal.cs 31

我一直在寻找一个多小时，但找不到解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T08:41:36.597

该错误的含义正是它所说的：有一个类型，`VertexDeclaration`，由 Silver **light**和 Silver **Sprite**定义。当您的项目试图解决使用哪一个时 - 它无法决定。

SilverSprite 是，并且一直是，有点儿越野车。这似乎是 SilverSprite 中的一个错误。它来自[这个文件](http://silversprite.codeplex.com/SourceControl/changeset/view/74170#1685200)，其中包含一个`VertexDeclaration`与实际 API[完全不同的声明。](http://msdn.microsoft.com/en-us/library/microsoft.xna.framework.graphics.vertexdeclaration_members)

幸运的是，您不必自己实现它——因为 Silverlight 提供了它。我建议您下载 SilverSprite 源并将其作为项目包含在您的解决方案中，并引用它而不是 DLL（即：自己从源构建 SilverSprite）。然后您可以轻松修改它并删除虚假类型定义 - 您的代码将自动使用真实的类型定义。

如果您遇到任何其他错误，我建议您查看[ExEn](http://andrewrussell.net/exen/)。我上次尝试使用 SilverSprite 时成功了（尽管这是在 Silverlight 5 之前） - 我修复了很多很多错误。您可能会发现从中挽救代码很有用。

# php - 使用 XML 数据创建数组

> ID：12312093
> 
> 赞同：2
> 
> 时间：2012-09-07T05:14:55.783
> 
> 标签：php, xml, zend-framework, dom, xml-parsing

由于 Zend_Rest_Client_Result 对象，我有一个像这样的简单 xml 对象。

```
<userdetails>
  <name value="jake"/>
  <type value="user"/>
  <attribute name="fname">
    <value>Jake</value>
  </attribute>
  <attribute name="lname">
    <value>Gordon</value>
  </attribute>
  <attribute name="phone">
    <value>123-555-1234</value>
    <value>999-888-7777</value> 
  </attribute>
 </userdetails> 
```

如何使用 PHP 从上述 XML 对象创建这样的数组？

```
 $userDetails = array();
 $userDetails["name"] = "jake";
 $userDetails["type"] = "user";
 $userDetails["fname"] = "Jake";
 $userDetails["lname"] = "Gordon";
 $userDetails["phone"][0] = "123-555-1234";
 $userDetails["phone"][1] = "123-555-1234"; 
```

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:28:19.347

```
$xml = '<userdetails><name value="jake"/><type value="user"/><attribute name="fname"><value>Jake</value></attribute><attribute name="lname"><value>Gordon</value></attribute><attribute name="phone"><value>123-555-1234</value><value>999-888-7777</value></attribute></userdetails>';

$simple = new SimpleXMLElement($xml);
$array = array();

if(isset($simple->name))
  $array['name'] = (string) $simple->name->attributes()->value;

if(isset($simple->type))
  $array['type'] = (string) $simple->type->attributes()->value;

if($foreach = $simple->xpath('//attribute[@name="fname"]/value'))
{
  foreach($foreach as $node)
  {
    $array['fname'] = (string) $node;
  }
}

if($foreach = $simple->xpath('//attribute[@name="lname"]/value'))
{
  foreach($foreach as $node)
  {
    $array['lname'] = (string) $node;
  }
}

if($foreach = $simple->xpath('//attribute[@name="phone"]/value'))
{
  $array['phone'] = array();
  foreach($simple->xpath('//attribute[@name="phone"]/value') as $node)
  {
    $array['phone'][] = (string) $node;
  }
}

print_r($array); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:19:46.803

```
function xmlstr_to_array($xmlstr) {
  $doc = new DOMDocument();
  $doc->loadXML($xmlstr);
  return domnode_to_array($doc->documentElement);
}

function domnode_to_array($node) {
  $output = array();
  switch ($node->nodeType) {
   case XML_CDATA_SECTION_NODE:
   case XML_TEXT_NODE:
    $output = trim($node->textContent);
   break;
   case XML_ELEMENT_NODE:
    for ($i=0, $m=$node->childNodes->length; $i<$m; $i++) {
     $child = $node->childNodes->item($i);
     $v = domnode_to_array($child);
     if(isset($child->tagName)) {
       $t = $child->tagName;
       if(!isset($output[$t])) {
        $output[$t] = array();
       }
       $output[$t][] = $v;
     }
     elseif($v) {
      $output = (string) $v;
     }
    }
    if(is_array($output)) {
     if($node->attributes->length) {
      $a = array();
      foreach($node->attributes as $attrName => $attrNode) {
       $a[$attrName] = (string) $attrNode->value;
      }
      $output['@attributes'] = $a;
     }
     foreach ($output as $t => $v) {
      if(is_array($v) && count($v)==1 && $t!='@attributes') {
       $output[$t] = $v[0];
      }
     }
    }
   break;
  }
  return $output;
}
?> 
```

* * *

另一种快速而肮脏的方法是：

```
<?php
  $a = json_decode(json_encode((array) simplexml_load_string($s)),1);
?> 
```

这不太健壮，并且会在您编写包含 CDATA 节点的代码时产生问题。

# javascript - 关于 JavaScript 工作原理的几个问题

> ID：12312094
> 
> 赞同：5
> 
> 时间：2012-09-07T05:15:08.763
> 
> 标签：javascript, oop, function, prototype

我最近一直在深入研究 JavaScript 以完全理解该语言，并且有一些我似乎无法找到答案的唠叨问题（特别是处理面向对象的编程）。

假设以下代码：

```
function TestObject()
{
    this.fA = function()
    {
        // do stuff
    }

    this.fB = testB;

    function testB()
    {
        // do stuff
    }
}

TestObject.prototype = {
    fC : function 
    {
        // do stuff
    }
} 
```

函数`fA`和 和有什么不一样`fB`？他们的行为范围和潜在能力是否完全相同？它只是惯例还是技术上更好或更合适的一种方式？

如果在任何给定时间只有一个对象的实例，那么在原型中添加一个函数`fC`是否值得？这样做有什么好处吗？只有在处理对象或继承的许多实例时，原型才真正有用吗？

从技术上讲，以我上面的方式或`TestObject.prototype.functionName = function(){}`每次调用的方式向原型添加方法的“正确”方式是什么？

我希望保持我的 JavaScript 代码尽可能干净和可读，但我也对语言中对象的正确约定非常感兴趣。我来自 Java 和 PHP 背景，我试图不对 JavaScript 的工作方式做出任何假设，因为我知道它与基于原型的非常不同。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-07T05:36:25.757

> 函数 fA 和 fB 有什么区别

在实践中，什么都没有。函数表达式 (fA) 和函数声明 (fB) 之间的主要区别在于创建函数的时间（声明的函数在执行任何代码之前可用，而函数表达式在表达式实际执行之前不可用）。您可能会偶然发现与[函数表达式相关的各种怪癖。](http://perfectionkills.com/named-function-expressions-demystified/)

在示例中，我将使用函数表达式，仅仅是因为声明一个函数表达式，然后分配结果似乎有点抽象。但是，这两种方法都没有“正确”或“错误”之分。

> 如果在任何给定时间只有一个对象的实例，那么在原型中添加一个函数（例如 fC）是否值得？

不。几乎每个继承继承的人都发现普通对象通常更简单，因此“更好”。不过，原型继承对于修补内置对象非常方便（例如，在不存在的地方添加 Array.prototype.each）。

> 从技术上讲，向原型添加方法的“正确”方式是什么……</p>

没有一个。用其他对象替换默认原型似乎有点浪费，但是分配由文字创建的对象可能更整洁，更容易阅读顺序分配。对于一两个任务，我会使用：

```
 Constructor.prototype.method = function(){…} 
```

但是对于很多方法，我会使用对象文字。有些人甚至使用经典的扩展​​功能并执行以下操作：

```
myLib.extend(Constructor.prototype, {
    method: function(){…}
}); 
```

如果已经定义了一些方法，这对于添加方法很有用。

看看一些库并决定你喜欢什么，一些混合搭配。做任何适合特定情况的事情，通常只是获得足够多的代码以使所有代码看起来都一样，那么无论您选择什么模式，它都会看起来很整洁。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-07T05:29:04.790

`fA`并且`fB`实际上是相同的，这只是惯例问题。

如果只有一个对象的实例，我什至不会使用构造函数，而只是使用对象文字，例如：

```
var o = {
   fA: function () { ... },
   fB: function () { ... },
   fC: function () { ... }
}; 
```

至于将其添加到实例或原型中，如果您只有一个实例，则实例比将其添加到原型中效率稍高，但正如我所说，请改用文字。

我避免在构造函数中声明函数，因为构造函数的每次调用都会创建代表每个函数的新对象。这些对象不是很大，如果创建了许多对象，它们往往会加起来。如果函数可以移动到原型中，这样做会更有效率。

至于添加到原型中，我赞成

```
TestObject.prototype.functionName = function () { }; 
```

风格，但这是一个偏好问题。我喜欢上面的内容，因为无论您是扩展原型还是创建初始原型，它看起来都一样。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T05:26:32.143

我回答第一部分：没有区别，当你声明函数不是变量时，它的声明在块中上升，所以

```
...
func();
...    
function func () { ... } 
```

等于

```
var func = function () { ... };
...
func();
... 
```

所以你的代码

```
function TestObject () {
  this.fA = function() { // do stuff };   
  this.fB = testB;    
  function testB() { // do stuff }
} 
```

等于

```
function TestObject () {
    var testB = function () { // do stuff };    
    this.fA = function () { // do stuff };
    this.fB = testB;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-07T09:02:37.737

> 还有关于 JavaScript 如何在低级别运行的任何明确的 JavaScript 样式指南或文档吗？

该死的任何 javascript 程序员都不应该错过[“面向 Web 开发人员的专业 JavaScript”](https://rads.stackoverflow.com/amzn/click/com/1118026691)。这是一本神奇的书，深入人心。它解释了对象、类仿真、函数、作用域等等。它也是一个 JS 参考。

> 从技术上讲，以我上面的方式向原型添加方法或每次调用 TestObject.prototype.functionName = function(){} 的“正确”方式是什么？

至于定义类的方式，我建议看看各种 JS MVC 框架（比如 Spine.js，它是轻量级的）。您不需要全部，只需要它们的**类仿真库**。主要原因是JS没有类的概念，而是纯粹由对象和原型组成。另一方面，可以完美地模拟类（请不要使用模拟这个词，因为它缺少一些东西）。由于这需要程序员的一些纪律，最好有一个类仿真库来完成这项工作并使您的代码更清晰。

程序员应该期望的类仿真库的标准方法是：

```
// define a new Class
var AClass = Class.create({
   // Object members (aka prototype), 
   // usually an initialize() method is called if it is defined 
   // as the "constructor" function when a class object is created
}, {
   // Static members
}); 

// create a child class that inherits methods and attributes from parent
var ChildClass = AClass.extend({
   // Child object members
},{
   // Child static members
}); 

AClass.include({
   // Object amendments (aka mixin), methods and attributes 
   //   to be injected to the class object
},{
  // Statics amendments, methods and attributes to be 
  //  injected as class static members
});

// check object type
var aObj = new AClass();
aObj instanceof AClass; //  true
aObj instanceof ChildClass; //  false

var cObj = new ChildClass();
cObj instanceof AClass; //  true
cObj instanceof ChildClass; //  true 
```

# java - 在java中将字符串转换为数组字符串

> ID：12312098
> 
> 赞同：-1
> 
> 时间：2012-09-07T05:15:40.917
> 
> 标签：java, arrays, string

我需要将字符串转换为字符串数组。例如：

```
String words = "one, two, three, four, five"; 
```

像数组一样

```
String words1[];
String words1[0]="one";
       words1[1]="two";
       words1[2]="three";
       words1[3]="four";
       words1[4]="five"; 
```

请指导我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T05:30:59.393

我想也许你正在寻找的是：

```
String words = "one two three four five";
String[] words1 = words.split(" "); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-07T05:43:38.953

**确切的答案**将是使用`split()`每个人都建议的函数：

```
String words = "one, two, three, four, five";
String words1[] = words.split(", "); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T06:07:13.043

Try this,

```
 String word = " one, two, three, four, five";        
 String words[] = word.split(",");
 for (int i = 0; i < words.length; i++) {
     System.out.println(words[i]);
 } 
```

if you need to remove space, you can call `.trim();` method through the loop.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-07T06:37:16.823

在这里，我编写了一些代码，可能对您有帮助，请看一下。

```
import java.util.StringTokenizer;

public class StringTokenizing
{
 public static void main(String s[])
 {
   String Input="hi hello how are you";
 int i=0;
   StringTokenizer Token=new StringTokenizer(Input," ");
   String MyArray[]=new String[Token.countTokens()];
   while(Token.hasMoreElements())
   {
    MyArray[i]=Token.nextToken();
    System.out.println(MyArray[i]);
    i++;
   }
  }
 } 
```

# php - 在 Mysql 中保存换行符

> ID：12312101
> 
> 赞同：-1
> 
> 时间：2012-09-07T05:16:17.250
> 
> 标签：php, mysql, newline

我刚刚发现我一直保存的所有数据都没有任何新行。

我尝试在这里和谷歌上搜索解决方案，但到目前为止还没有运气。我发现**nl2br()**可以交换 \n ，`<br/>`但是当我从数据库中取出数据并输出时它对我不起作用。

现在来自文本区域的文本被保存并输出如下：

*eofuse 始终使用监视器。AUSB 端口允许用户备份已在 JesterTLXtra 上录制的节目。也可以连接 AUSB 键盘以快速输入名称和数字。节目文件与 JesterML 桌面兼容。ADMX 端口允许将 JesterTLXtra 用作备份控制台...*

我对 preg_replace 也不是很好，所以我也搞砸了。

如何使用换行符和换行符将数据保存到 mysql 中？

我用于一些卫生的 preg_replace() ：

```
$pattern = "/[^a-zA-Z0-9-.@]/"; 
```

主要文本区域：

```
 <LABEL CLASS="NORMAL_LABEL" FOR="P_DESC_EN">DESCRIPTION-EN</LABEL>
                            <TEXTAREA ID="P_DESC_EN" NAME="P_DESC_EN" COL="15" ROWS="10"></TEXTAREA> 
```

插入文件：

```
 <?php
    $long_desc_en = ($_POST['P_DESC_EN']);
    $pattern = "/[^a-zA-Z0-9-.@]/";
        $clean_long_desc_en = preg_replace($pattern, " ", $long_desc_en);
        $result = mysql_query("INSERT INTO main_table 
        (alpha_p_long_desc_en) VALUES 
        ('$clean_long_desc_en')"); 
        if(!$result)
        {
        echo "Error! ".mysql_error();
        }
?> 
```

基本上就是这样

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:44:55.990

几个错误。

1.  您的 preg replace 说删除不在该范围内的任何内容。包括换行符。
2.  你不会逃避你的数据注入 MySQL。最好使用 PDO 或 mysqli 函数，但至少使用 mysql_real_escape_string() 来转义变量。

.

```
<?php 

$long_desc_en = ($_POST['P_DESC_EN']); 
$pattern = "/[^a-zA-Z0-9-.@\n]/"; 
$clean_long_desc_en = mysql_real_escape_string(preg_replace($pattern, " ", $long_desc_en)); 
$result = mysql_query("INSERT INTO main_table (alpha_p_long_desc_en)
                         VALUES ('$clean_long_desc_en')");  
if(!$result) {
    echo "Error! ".mysql_error(); 
} 

?> 
```

（但请查看 PDO；下面是一个粗略的示例，只需添加错误处理。

```
$clean_long_desc_en = preg_replace($pattern, " ", $long_desc_en); 
$sth = $dbh->prepare("INSERT INTO main_table (alpha_p_long_desc_en)
                         VALUES (:clean_long_desc_en)");  
$sth->bindParam(':clean_long_desc_en', $clean_long_desc_en);
$sth->execute(); 
```

# android - 如何在android中解析Json

> ID：12312102
> 
> 赞同：1
> 
> 时间：2012-09-07T05:16:18.253
> 
> 标签：android, json

[http://docs.blackberry.com/sampledata.json](http://docs.blackberry.com/sampledata.json)

这是我的 Web 服务，我想解析和检索车辆类型、车辆颜色、燃料、名称、体验点、踏步类型。

```
public class MainActivity extends Activity {

    private static String url="http://maps.googleapis.com/maps/api/directions/json?origin=Tamil%20ndau,Salem&destination=Tamil%20nadu,%20salem&region=in&sensor=false";
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        JSONObject json=JSONParser.getJSONfromURL(url);  // here i am able to read content of that web service 
    }
} catch (JSONException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        } 
```

请告诉我如何获得价值？我无法为 Json 对象和 Json 数组选择节点。请告诉我下一步我必须做什么，以便我可以检索该值。我是 Json 解析和 android 的新手。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T05:21:12.150

```
try{
 HttpGet request = new HttpGet(loginUrl);
 HttpResponse response = httpClient.execute(request);
 entityResponse = response.getEntity();
 result = EntityUtils.toString(entityResponse);  

JSONArray array = object.getJSONArray("routes"); 

---Parsing first jsonArray     
  JSONObject routes = array.getJSONObject(0);

---(parsing first jsonarray object)
  String bounds= routes.getString("bounds"); 

-- parsing second josn Array  
  JSONArray legs = routes.getJSONArray("legs"); 

--- (parsing second jsonarray object)   

JSONObject steps = legs.getJSONObject(0); 

String distance= routes.getString("distance"); 

--- parsing third json Array
  JSONArray legs1 = steps.getJSONArray("steps"); 
  for(int i = 0; i < legs1.length(); i++){
  JSONObject steps1 = legs1.getJSONObject(i);

--parsing third jsonarray objecct      
  String htMlVale = steps1.getString("html_instructions").toString(); 

-- parsing inside third jsonarray of jsonarray   
  JSONObject distance             =  steps1.getJSONObject("distance");
          String sDistance                =  distance.getString("text");()

        }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:22:06.840

你可以使用这个类：

只需制作此类的对象并调用方法即可！

```
public class JSONParser {

    private static String result;
    private static String resultArr;

    public static String getJSONArr (String json,String tag1,int arrNum)
    {

        try {
            JSONArray array = new JSONArray(json);
            for (int i = 0; i < array.length(); i++) {
                if(i==arrNum){
                    JSONObject row = array.getJSONObject(i);
                resultArr = row.getString(tag1);
                }
            }

        } catch (JSONException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        return resultArr;

    }

    public static String getJSONObj (String json,String tag1)
    {
        try {
            JSONObject jObj =  new JSONObject(json);

            if(jObj.has(tag1))
                result = jObj.getString(tag1);
            else
                Log.d("JSON ERROR", "tag not found");

        } catch (JSONException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        return result;
    }
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-06T12:05:55.283

给定的 url 返回一个 JSONArray，所以方法 getJSONFromUrl 应该返回 JSONArray..

```
try {
        HttpParams params = new BasicHttpParams();
        HttpConnectionParams.setConnectionTimeout(params, Constants.CONNECTION_TIME_OUT);
        HttpConnectionParams.setSoTimeout(params, 0);
        HttpClient httpClient = new DefaultHttpClient(params);

        //prepare the HTTP GET call 
        HttpGet httpget = new HttpGet(urlString);
        //get the response entity
        HttpEntity entity = httpClient.execute(httpget).getEntity();

        if (entity != null) {
            //get the response content as a string
            String response = EntityUtils.toString(entity);
            //consume the entity
            entity.consumeContent();

            // When HttpClient instance is no longer needed, shut down the connection manager to ensure immediate deallocation of all system resources
            httpClient.getConnectionManager().shutdown();

            //return the JSON response
            JSONArray array = new JSONArray(response.trim());
                for(int i = 0 ; i < array.length() ; i++) { //get the current JSON object
                    JSONObject object = (JSONObject) array.get(i);
                    String vehicleType = object.getString("vehicleType");
                    ......
                 }
        }
    }catch (Exception e) {
        e.printStackTrace();
    } 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-09-07T05:20:07.673

可能是这段代码对你有帮助

```
public class JSONfunctions {

public static JSONArray getJSONfromURL(String url) {
    InputStream is = null;
    String result = "";
    JSONArray jArray = null;

    // http post
    try {
        HttpClient httpclient = new DefaultHttpClient();
        HttpPost httppost = new HttpPost(url);
        HttpResponse response = httpclient.execute(httppost);
        HttpEntity entity = response.getEntity();
        is = entity.getContent();

    } catch (Exception e) {
        Log.e("log_tag", "Error in http connection " + e.toString());
    }

    // convert response to string
    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        result = sb.toString();
    } catch (Exception e) {
        Log.e("log_tag get data string ",
                "Error converting result " + e.toString());
    }

    try {

        jArray = new JSONArray(result);
    } catch (JSONException e) {
        Log.e("log_tag create object ",
                "Error parsing data " + e.toString());
    }

    return jArray;
}
  } 
```

这是解析代码示例，您可以更改它。

```
public class Main extends ListActivity {
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.listplaceholder);

    JSONArray json = JSONfunctions
            .getJSONfromURL("http://docs.blackberry.com/sampledata.json");

    for (int i = 0; i < json.length(); i++) {

        try {
            Log.e("json names vehicleType", ""
                    + json.getJSONObject(i).getString("vehicleType"));
            Log.e("json names vehicleColor", ""
                    + json.getJSONObject(i).getString("vehicleColor"));
            Log.e("json names fuel",
                    "" + json.getJSONObject(i).getString("fuel"));
            Log.e("json names treadType", ""
                    + json.getJSONObject(i).getString("treadType"));

            Log.e("json names approvedOperators",
                    ""
                            + json.getJSONObject(i).getJSONArray(
                                    "approvedOperators"));

            JSONArray array = json.getJSONObject(i).getJSONArray(
                    "approvedOperators");
            for (int j = 0; j < array.length(); j++) {

                Log.e("json names approvedOperators name ", ""
                        + array.getJSONObject(j).getString("name"));
                Log.e("json names approvedOperators experience ",
                        ""
                                + array.getJSONObject(j).getString(
                                        "experiencePoints"));

            }

        } catch (JSONException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

    }

}
} 
```

# c# - 发送电子邮件的算法

> ID：12312112
> 
> 赞同：-12
> 
> 时间：2012-09-07T05:17:39.417
> 
> 标签：c#, algorithm, email

我想写一个算法来发送电子邮件。

该算法需要用 C#.Net 编写。

任何人请给我有关此算法或与此算法相关的任何链接的建议。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T05:20:15.673

一个简单的解决方案是使用[`SmtpClient`类](http://msdn.microsoft.com/en-us/library/system.net.mail.smtpclient.aspx)。

```
void SendEmail(string fromAddress, string toLine, string subject, string messageBody)
{
  const string host = "smtp.server.com";
  const int port = 1234;
  const string userName = "(user)";
  const string password = "password";

  using (var smtpClient = new SmtpClient(host, port))
  {
    smtpClient.Credentials = new NetworkCredential(userName, password);

    var mailMessage = new MailMessage(fromAddress, toLine, subject, messageBody);
    smtpClient.Send(mailMessage);
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:21:02.633

```
 private void SendEmailToAdmin(string message)
    {
        SmtpSection smtpSection = ConfigurationManager.GetSection("system.net/mailSettings/smtp") as SmtpSection;
        string host = smtpSection.Network.Host;
        if (string.IsNullOrEmpty(host))
        {
            host = "127.0.0.1";
        }

        using (SmtpClient smtpClient = new SmtpClient(host, smtpSection.Network.Port))
        {
            MailMessage mail = new MailMessage(smtpSection.From, Properties.Settings.Default.SupportEmailAddress);
            mail.Subject = Environment.MachineName + ": Error";
            mail.IsBodyHtml = false;
            mail.Body = message;
            smtpClient.Send(mail);
        }
    } 
```

# mysql - 计算每个 ID 的 unix 时间戳之间的行数

> ID：12312114
> 
> 赞同：0
> 
> 时间：2012-09-07T05:17:41.010
> 
> 标签：mysql, performance

我正在尝试为表格填充一些数据。该查询正在包含约 5000 万条记录的表上运行。我目前使用的查询如下。它计算匹配`template`id 并且是`BETWEEN`两个 unix 时间戳的行数：

```
SELECT COUNT(*) as count FROM `s_log` 
WHERE `time_sent` BETWEEN '1346904000' AND '1346993271' 
AND `template` = '1' 
```

虽然上面的查询确实有效，但在循环遍历每个查询时性能相当慢`template`，有时可能有数百个。时间戳存储为`int`正确索引。只是为了测试一下，我尝试运行下面的查询，省略了`time_sent`限制：

```
SELECT COUNT(*) as count FROM `s_log` 
AND `template` = '1' 
```

正如预期的那样，它运行得非常快，但显然没有将计数结果限制在正确的时间范围内。如何获得特定的计数并`template`限制计数`BETWEEN`两个 unix 时间戳？

`EXPLAIN:`

1 | 简单 | s_log | 参考 | time_sent,模板 | 模板 | 4 | 常量 | 71925 | 使用哪里

`SHOW CREATE TABLE s_log:`

```
CREATE TABLE `s_log` (
 `id` int(255) NOT NULL AUTO_INCREMENT,
 `email` varchar(255) NOT NULL,
 `time_sent` int(25) NOT NULL,
 `template` int(55) NOT NULL,
 `key` varchar(255) NOT NULL,
 `node_id` int(55) NOT NULL,
 `status` varchar(55) NOT NULL,
 PRIMARY KEY (`id`),
 KEY `email` (`email`),
 KEY `time_sent` (`time_sent`),
 KEY `template` (`template`),
 KEY `node_id` (`node_id`),
 KEY `key` (`key`),
 KEY `status` (`status`),
 KEY `timestamp` (`timestamp`)
) ENGINE=MyISAM AUTO_INCREMENT=2078966 DEFAULT CHARSET=latin1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:22:37.103

在这种情况下，您可能拥有的最佳索引是复合索引`template + time_sent`

```
CREATE INDEX template_time_sent ON s_log (template, time_sent) 
```

PS：只要查询中的所有列都是整数，**不要**将它们的值括在引号中（在某些情况下，它可能会导致问题，至少对于较旧的 mysql 版本）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:23:06.890

首先，您必须创建一个将两列放在一起（而不是分开）的索引。还要检查你的表类型，如果你的表是 innoDB，我认为它会很好用。

最后，以这种方式使用您的 WHERE 子句：

``WHERE`模板`= '1' AND`time_sent` 在 '1346904000' 和 '1346993271' 之间

这样做是首先检查模板是否为 1，如果是则它将检查第二个条件，否则跳过。这肯定会给您带来性能优势

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T06:40:47.630

如果您必须为每个模板调用查询，使用一个查询调用获取所有信息可能会更快`GROUP BY`：

```
SELECT template, COUNT(*) as count FROM `s_log` 
WHERE `time_sent` BETWEEN 1346904000 AND 1346993271;
GROUP BY template 
```

这只是一个猜测，这会更快，您还必须重新设计您的代码。

* * *

您也可以尝试使用`InnoDB`而不是`MyISAM`. `InnoDB`使用可能在大型表上表现更好的聚集索引。从 MySQL 网站：

> 通过聚集索引访问行速度很快，因为行数据位于索引搜索引导的同一页上。如果表很大，与使用与索引记录不同的页面存储行数据的存储组织相比，聚集索引架构通常会节省磁盘 I/O 操作。（例如，MyISAM 将一个文件用于数据行，将另一个文件用于索引记录。）

Stackoverflow 上有一些问题讨论了 和 之间的`InnoDB`性能`MyISAM`：

*   [我应该为我的 MySQL 数据库使用 MyISAM 还是 InnoDB 表？](https://stackoverflow.com/q/7492771/237483)
*   [从 MyISAM 迁移到 InnoDB](https://stackoverflow.com/q/7335515/237483)
*   [MyISAM 与 InnoDB](https://stackoverflow.com/q/20148/237483)

# java - 将空集合与 Hamcrest 的 hasItem() 匹配

> ID：12312117
> 
> 赞同：1
> 
> 时间：2012-09-07T05:17:49.110
> 
> 标签：java, collections, testng, hamcrest

如何使用 TestNG 和`hasItem`Hamcrest 匹配一个空集合？这是我通过一项测试得到的结果。

```
java.lang.AssertionError: 
Expected: a collection containing email = null phone = null
got: <[]> 
```

这是我的匹配器类：

```
private static class MyPersonMatcher extends TypeSafeMatcher<Person> {
   private final String email;
   private final String phone;
      public ContactAgentUsageMatcher() {
   }
   public ContactAgentUsageMatcher(String email, String phone, Integer listingId) {
      this.email = email;
      this.phone = phone;
   }
   @Override
   public void describeTo(Description description) {
      description.appendText("email = ");
      description.appendValue(this.email);
      description.appendText(" phone = ");
      description.appendValue(this.phone);
   }
   @Override
   public boolean matchesSafely(ContactAgentUsage contactAgentUsage) {
      if ((this.email == null) && (this.phone == null)) {
         return true;
      }
      else {
         return ObjectUtils.equals(this.email, contactAgentUsage.getEmail())
             && ObjectUtils.equals(this.phone, contactAgentUsage.getPhone());
      }
   }
} 
```

失败的测试是

```
assertThat(argument.getAllValues(), hasItem(expectedMatcher)); 
```

其中`expectedMatcher`由数据提供者提供。结果，我不确定要传递什么来匹配这个“空集合”。我正在传递默认构造函数，但我知道这不起作用，因为它使用`null`成员创建集合。

这是我的数据提供者的一部分：

```
{ new ContactAgentUsageMatcher()} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T20:45:54.780

您的自定义匹配器将匹配任何现有`Person`的配置`email`和`name`都设置为`null`. 但是，该集合不包含*任何* `Person`要匹配的 s。在这种情况下， Hamcrest[`hasItem(matcher)`](http://www.jarvana.com/jarvana/view/org/hamcrest/hamcrest-library/1.2.1/hamcrest-library-1.2.1-javadoc.jar!/org/hamcrest/Matchers.html#hasItem%28org.hamcrest.Matcher%29)未能通过测试，并且是用于空集合的错误匹配器。

这里有两个解决方法：

1.  更改数据提供者和测试以获取完整的匹配器，包括`hasItem`. 对于上述情况，您将通过[`emptyIterable`](http://www.jarvana.com/jarvana/view/org/hamcrest/hamcrest-library/1.2.1/hamcrest-library-1.2.1-javadoc.jar!/org/hamcrest/Matchers.html#emptyIterable%28%29). 缺点是您需要告诉 Java 编译器它应该使用哪种泛型类型，这会使测试变得混乱。

2.  创建第二个测试来处理产生空集合的数据集。

# c# - 水晶报表模板？

> ID：12312121
> 
> 赞同：4
> 
> 时间：2012-09-07T05:18:25.073
> 
> 标签：c#, asp.net, .net, crystal-reports, crystal-reports-2010

Asp.net 提供母版页，类似地在 Winforms 中我们的视觉继承概念。相同的亲子概念存在于许多不同的技术中。

请指导我如何制作模板或父报告并从此布局中继承其他报告。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-07T07:08:50.320

实际上，Crystal Reports 不提供模板。

相反，您可以使用一些工作方法来帮助设计报表：

1.  创建名为`Header.rpt`and的报告`Footer.rpt`并将**它们作为子报告导入`Page Header` 和** `Page Footer`** [如果您更改`Header.rpt`，您必须打开每个报告并单击*重新导入子报告*以更新它]
2.  编辑后，您可以**将图表另存为模板**，这样，当您创建新图表时，您可以对样式、颜色等使用相同的配置
3.  在某处保留**已设置标题、样式、字体、边距的****空报告**，并将其用作新报告的模板（而不是从真正的空报告开始）
***   **将客户端的徽标保存到数据库**中（您可以在运行时动态更改它）并在 header-footer-anywhere 中使用它**

# delphi - Delphi 2010 - 生成 http 请求并重定向到 Web 浏览器

> ID：12312122
> 
> 赞同：2
> 
> 时间：2012-09-07T05:18:42.100
> 
> 标签：delphi, web

我需要在 Delphi 2010 中执行此操作。我不使用 .net

这段代码在 Java 中：

```
HttpClient client = new HttpClient();
GetMethod method = new GetMethod();
method = new GetMethod("https://www.xxxxx.xx/portal/ILlogin?username=XXXXXX&password=XXXXXXXX&skin=yyyyyyyyyy&portal=GG");
method.setFollowRedirects(false);
int rc = client.executeMethod(method);
Header locationHeader = method.getResponseHeader("location");
if(locationHeader != null) {
  tokenURL = locationHeader.getValue();
} 
```

它是一个 http 请求，会生成一个重定向到 webreader。

我如何在 Delphi 2010 中对此进行编码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T05:49:44.910

Delphi 预装了 Indy。您可以使用 Indy 的 TIdHTTP 组件，例如：

```
client := TIdHTTP.Create(nil);
try
  client.IOHandler := TIdSSLIOHandlerSocketOpenSSL.Create(client);
  TIdSSLIOHandlerSocketOpenSSL(client.IOHandler).SSLOptions.Method := sslvSSLv23;

  client.HandleRedirects := False; 
  client.Get('https://www.xxxxx.xx/portal/ILlogin?username=XXXXXX&password=XXXXXXXX&skin=yyyyyyyyyy&portal=GG', [300, 301, 302, 303, 305, 306, 307]);

  if client.Response.Location <> '' then
    tokenURL := client.Response.Location;
finally
  client.Free;
end; 
```

# c# - C# 像在 C++ 中一样使所有内容都遵循公共/私有？

> ID：12312123
> 
> 赞同：9
> 
> 时间：2012-09-07T05:18:48.597
> 
> 标签：c#, subclass, private, public

我最近开始学习 C#，但我有一些 C++ 的背景。我想知道我会怎么做

```
class employee
{
    public:
       ....
  ... methods ...
       ....

    private:
       ....
    ... private member variables ....
       ....
} 
```

我尝试在 C# 中执行此操作，但它不喜欢使用“public：...”和“private：...”来将其之后的所有内容设为公共或私有。

另外，我已经看到 C# 中有这个 get 和 set 的东西，所以你不需要做一个私有成员变量的事情，然后做一个函数来返回那个变量？

当我在做的时候，如何在 C# 中创建子类？在 C# 中，新类在不同的选项卡中打开，所以我很困惑我将如何做到这一点。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-09-07T05:25:17.573

您不能像在 C++ 中那样在 C# 中将“块”设为公共或私有，您必须为每个成员添加可见性（和实现）。在 C++ 中，你通常会这样做；

```
public:
  memberA();
  memberB();
private:
  memberC(); 
```

...并在其他地方实现您的成员，而在 C# 中，您需要这样做；

```
public  memberA() { ...implement your function here... }
public  memberB() { ...implement your function here... }
private memberC() { ...implement your function here... } 
```

至于属性，将它们视为自动实现`set`和`get`方法，您可以选择自己实现或让编译器实现它们。如果您想自己实现它们，您仍然需要该字段来存储您的数据，如果您将其留给编译器，它也会生成该字段。

继承的工作方式与将内容放在同一个文件中的工作方式完全相同（这对于较大的 C++ 项目甚至可能不是一个好主意）。像往常一样继承，只要在同一个命名空间或者导入了基类的命名空间，就可以无缝继承；

```
using System.Collections;  // Where IEnumerable is defined

public class MyEnumerable : IEnumerable {  // Just inherit like it 
   ...                                     // was in the same file.
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-07T05:39:39.830

1) C# 中的访问修饰符与 C++ 不同，因为您需要为每个类成员显式指定一个。

[http://msdn.microsoft.com/en-us/library/wxh6fsc7(v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/wxh6fsc7(v=vs.71).aspx)

2）你提到的get，set是指C# Properties：

```
class User
{
    private string userName;

    public string UserName
    {
        get { return this.userName; }
        set { this.userName = value; }
    }
} 
```

请注意，您还可以使用自动实现的属性[http://msdn.microsoft.com/en-us/library/bb384054.aspx](http://msdn.microsoft.com/en-us/library/bb384054.aspx)

3) C# 中的子类化是这样完成的

```
class Manager : Employee 
{
    //implementation goes here as usual
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-07T05:30:15.583

在 C# 中，您必须为每个方法或属性指定访问说明符。如果您未指定，则使用默认访问说明符。
类成员的默认访问说明符是私有的，类外部的默认访问说明符是内部的

```
class MyClass{ //MyClass will be internal
     int MyProperty {get; set;} // MyProperty will be privare
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-09-07T05:21:40.627

1.  不，你不能。在 C# 中，您必须为每个成员指定访问器。

2.  不，你没有，它被称为`Property`

3.  写其他类

```
class SomeClass
{

}
class SubClass:SomeClass {} 
```

# java - 从 2012-07-26 23:59:59 形式的字符串中获取日期对象

> ID：12312128
> 
> 赞同：1
> 
> 时间：2012-09-07T05:19:16.657
> 
> 标签：java, date, simpledateformat

我有输入字符串 as`2012-07-27`我希望输出 as**`Date`**但格式相同`2012-07-27`

### 代码

```
 DateFormat df = new SimpleDateFormat("yyyy-MM-dd hh:mm:ss");

        try {
            Date today = df.parse("20-12-2005 23:59:59");
            System.out.println("Today = " + df.format(today));

                     } catch (ParseException e) {
            e.printStackTrace();
        } 
```

### 输出

```
20-12-2005 23:59:59 
```

但它是字符串对象，我想要与`20-12-2005 23:59:59`日期对象而不是字符串对象相同的输出（）。

我怎样才能得到**`Date`**表格`DD-MM-YYYY HH:MM:SS`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T05:21:46.810

**`Date today`**是`date`您输入的对象`String`。Java 中没有像格式化日期这样的东西。日期始终只是日期对象。您对该日期对象执行各种操作，并且当您想要存储（或）显示时，只需应用`format()`

```
df.format(today) // is just for formatting and display purpose. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:32:40.720

传递给的格式`SimpleDateFormat`和传递日期字符串的方式有所不同。您还应该使用`HH`

```
 DateFormat df = new SimpleDateFormat("dd-MM-yyyy HH:mm:ss");
    try {
        Date today = df.parse("20-12-2005 23:59:59");
        System.out.println("Today = " + df.format(today));
                       //To Print Real Today 
                    System.out.println("Real Today = " + df.format(new Date()));

    } catch (ParseException e) {
        e.printStackTrace();
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T05:44:07.950

[Date](http://docs.oracle.com/javase/7/docs/api/java/util/Date.html)类有许多不推荐使用的方法，现在创建它的唯一正确方法是通过 long（有关详细信息，请阅读文档）。

您应该查看[GregorialCalendar](http://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html)，您可以在其中将 Calendar 的一些常量字段作为属性传递。

[如果你想从你的字符串中输入日期，我会做一个自定义解析器来创建一个日历或类似的](http://www.roseindia.net/java/java-conversion/StringToCalender.shtml)东西。

希望我有所帮助:)

# installation - 从命令行批量安装 OSX 应用程序

> ID：12312130
> 
> 赞同：0
> 
> 时间：2012-09-07T05:19:26.670
> 
> 标签：installation, applescript

我想自动化在 Mac 上安装应用程序的过程。谷歌搜索后，我发现下面的终端命令可以将应用程序安装到目标机器，而不提示输入密码。

```
sudo visudo
rajasekaranr ALL=(root) NOPASSWD: /usr/sbin/installer
sudo installer -store -pkg "/User/MyName/Downloads/Network Recording Player.pkg" -target / 
```

如何在 Applescript 中实现上述命令？或者有没有更好的方法来自动化在 Mac 上安装应用程序的过程？另外请确认这些命令指向哪个安装路径？以及如何确认应用程序是否已安装？

在终端命令中，`rajasekaranr`是用户名。

我又找到了一个命令：这将挂载磁盘映像，然后将应用程序移动到应用程序文件夹。请帮助使用 Applescript/python/java 实现相同的功能。

```
hdiutil mount install_flash_player_osx.dmg
sudo cp -R "/Volumes/Flash Player 2/Flash Player 2.app" /Applications 
```

# c# - 特定字符串模式的正则表达式

> ID：12312131
> 
> 赞同：0
> 
> 时间：2012-09-07T05:19:30.270
> 
> 标签：c#, regex, visual-studio-2010

使用 C#，我将处理信息的字符数组，寻找以下模式：

一个管道 (0x7C)，2 到 7 对字符，后跟另一个管道 (0x7C)。

换一种说法：

|1122[33][44][55][66][77]|

字符对由范围为十进制 33-124 的字符组成（'!' 到 '|'）。

第 3 到 7 对是可选的，但如果它们出现，则按顺序出现，所以你可以有

```
 |1122| <---shortest
    |112233|
    |11223344|
    |1122334455|
    |112233445566|
    |11223344556677| <---longest 
```

我想 1) 找出字符数组中是否存在这种模式，2) 提取单个对。这些任务可以是分开的。我*认为*最好的方法是正则表达式，但到目前为止，我还没有想出一个表达式来完成工作。

RegEx 是否可行，RegEx 本身的解决方案是什么？

有没有更好的办法？

查克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:27:32.720

如果我正确理解您的问题，正确的模式将是：

```
\|([!-|]{2}){2,7}\| 
```

或捕获每组

```
\|([!-|]{2})([!-|]{2})([!-|]{2})?([!-|]{2})?([!-|]{2})?([!-|]{2})?([!-|]{2})?\| 
```

不确定该范围是否会直接那样工作，因此`[A-Za-Z!@#$......]`如果简化范围不起作用，您可能需要这样做

另外，我认为您不想`|`在范围内包含 pipe()，因为它可能会弄乱其余部分，因此`[!-{]`可能会更好

# json - jibx 支持 json 吗？

> ID：12312132
> 
> 赞同：1
> 
> 时间：2012-09-07T05:19:33.027
> 
> 标签：json, jibx

jibx 支持 json 吗？或者有没有办法使用 jibx 编组支持 json 格式？我正在尝试使用 json 格式支持和 alsi jibx 编组支持来实现休息服务。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T03:53:05.940

抱歉，JiBX 不支持 json 编组/解组。我建议将 JiBX 用于 XML 部分，并查看此[stackoverflow](https://stackoverflow.com/questions/2303713/how-to-serialize-dom-node-to-json)主题以将 dom 转换为 json。
大学教师

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-06T18:41:24.660

可以使用 Jettison 使用 JiBX 生成 JSON：

```
StringWriter pw = new StringWriter(16384);
XMLStreamWriter w = new MappedXMLStreamWriter(mnc, pw);

// Generate XML.
IMarshallingContext mctx = bfact.createMarshallingContext();
mctx.setXmlWriter(
    new StAXWriter(bfact.getNamespaces(), w));

w.writeStartDocument();
mctx.marshalDocument(obj, "UTF-8", true);
w.writeEndDocument();

w.close();
pw.close();

return pw.toString(); 
```

但是，所有 XML 属性都将以字符串形式出现。

# android - 如何安全地将数据存储在 android 设备中？

> ID：12312145
> 
> 赞同：0
> 
> 时间：2012-09-07T05:21:07.967
> 
> 标签：android, android-sdcard, secure-gateway

我有问题将下载的数据存储在我的 android 设备中现在我将数据存储在我的 sdcard 上，但这对用户来说并没有太大的阻碍。我需要从用户那里安全地存储数据。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T05:27:02.690

您无法阻止用户访问您的数据。你可以做的最大值是：

1.  将您创建的文件夹设为隐藏（在文件夹名称前加上 a `.` ）
2.  如果可能，删除您创建的文件的扩展名。在大多数情况下，您仍然可以访问它们，并且您的文件不会显示在其他应用程序（如音乐播放器、图像查看器）中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-07T13:51:02.317

For storing senstive data or some downloaded dat in the application , just use internal Storage. ie "data/data/{App package name}/{direcdtory name}". if you store data inside the internal storage, only your application can access the data not the user nor other application.

# php - PHP 错误缺少参数

> ID：12312149
> 
> 赞同：2
> 
> 时间：2012-09-07T05:21:27.953
> 
> 标签：php, ios, json, ios5

我正在按照本教程进行登录和注册[http://www.raywenderlich.com/13511/how-to-create-an-app-like-instagram-with-a-web-service-backend-part-12](http://www.raywenderlich.com/13511/how-to-create-an-app-like-instagram-with-a-web-service-backend-part-12) . 当我单击登录或注册时，我收到此错误 php

```
<br />
<b>Warning</b>:  Missing argument 2 for login(), called in /Applications/XAMPP/xamppfiles/htdocs/iReporter/index.php on line 13 and defined in <b>/Applications/XAMPP/xamppfiles/htdocs/iReporter/api.php</b> on line <b>36</b><br />
{"error":"Wrong username or password"} 
```

这是我的php代码：

```
<?php
session_start();
require("lib.php");
require("api.php");

header("Content-Type: application/json");

//API
switch ($_POST['command']) {

    case "login":

        login($_POST['username'] && $_POST['password']);

        break;

    case "register":

        register($_POST['username'] && $_POST['password']);

        break;

    case "upload":

        upload($_SESSION['IdUser'], $_FILES['file'], $_POST['title']);

        break;
}
exit();
?> 
```

和 api.php 代码：

```
<?php
//API implementation to come here
function errorJSON($msg){

    //Returning erros back to user

    print json_encode(array('error' => $msg));
    exit();
}

//Register function
function register($user, $pass){
    //checking if username exists
    $login = query("SELECT username FROM login WHERE username='%s' limit 1", $user);

    if (count($login['result']) >0) {
        errorJSON('Username already exists'); 
    }

    //Registering user
    $result = query("INSERT INTO login(username, pass) VALUES('%s', '%s')", $user, $pass);

    if (!$result['error'] ) {

        //Success
        login($user, $pass);

    } else {
        //error
        errorJSON('Sorry, something went wrong');

    }

}

function login($user, $password){
    $result = query("SELECT  IdUser, username FROM login WHERE username = '%s'  AND pass = '%s'   limit 1 ", $user, $pass);

    if (count($result['result']) > 0) {
        //Authorized 
        $_SESSION['IdUser'] = $result['result'][0]['IdUser'];
        print json_encode($result);

    } else {
        //Not authorized 
        errorJSON('Wrong username or password');
    }

}
?> 
```

我需要帮助请...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T05:24:10.820

这：

```
login($_POST['username'] && $_POST['password']); 
```

几乎可以肯定是错误的。试试这个：

```
login($_POST['username'], $_POST['password']); 
```

并修复调用`register()`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T05:25:27.633

更改以下块

```
   案例“登录”：

        登录（$_POST['用户名']，$_POST['密码']）；

        休息;

    案例“注册”：

        注册（$_POST['用户名']，$_POST['密码']）；

        休息;

```

你已经`&&`在函数调用中使用了。改为使用`,`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-07T05:27:15.463

该登录功能需要两个参数。但是你只通过了一个...

```
login($_POST['username'],$_POST['password']); 
```

这应该工作..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-07T05:54:14.367

你错过了这个：

```
login($_POST['username'], $_POST['password']); 
```

# c# - 处理后完成一个线程循环

> ID：12312155
> 
> 赞同：4
> 
> 时间：2012-09-07T05:22:05.633
> 
> 标签：c#, thread-safety, dispose

我正在寻找 C# 中的线程安全代码，如果可能的话，它将避免两个问题；

1.  如果线程对象在任何时候被处理掉，线程循环就会很好地退出。
2.  当被另一个类或表单（尤其是表单）使用时，使用该类的开发人员不必记住挂钩表单的关闭事件并调用 dispose。例如[服务器线程的正确完成](https://stackoverflow.com/questions/9194897/correct-finishing-of-servers-thread)

线程正在调用具有以下 while 循环的方法；

```
while (!Finished)
{
    string request = "";
    try
    {
        //Block until we have a message or we are terminated in dispose **
        request = server.Recv(Encoding.Unicode);  
        //Send a response to the sender so they know we received. 
        server.Send(request, Encoding.Unicode);
    }
    catch (Exception e)
    {
        //Catch a termination error. 
        if (e.Errno == ETERM)
        {
            break;
        }
    }
    syncContext.Post(
                     new SendOrPostCallback(delegate(object state)
                     {
                         MessageHandler handler = OnMessage;
                         if (handler != null)
                         {
                             handler(request);
                         }
                     }), null);
} 
```

目前的处置看起来像这样；

```
public void Dispose()
{
    Finished = true;
    //Cause all blocking message requests and sends to terminate with exception ** 
    FZMQConext.Dispose();

    //Wait for the thread to finish up.
    FThread.Join();
    GC.SuppressFinalize(this);
} 
```

我看到的问题是；

*   即使我正在处理我的班级，我的活动也可以被调用，因为线程必须完成推出。假设在 try/catch 和 syncContext.Post() 之间调用了处理。这有多糟糕？
*   有什么方法可以包装这个类，这样它的用户就不必记住调用 dispose. 目前，如果他们不这样做，应用程序就坐在那里等待线程完成，而它永远不会。将其设置为后台线程似乎很懒惰。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T08:34:44.447

> 即使我正在处理我的班级，我的活动也可以被调用，因为线程必须完成推出。假设在 try/catch 和 syncContext.Post() 之间调用了处理。这有多糟糕？

它看起来没那么糟糕。一旦你设置`Finished=true`. 它应该完成发布新委托，然后退出循环。但是，您可能会遇到 CPU 缓存问题`Finished`。运行循环的 CPU 内核可以读取另一个线程更改值*后的**缓存*值，因此循环可能会错误地继续运行。为了防止这种情况，您应该创建一个仅通过 修改的私有字段，以及一个修改该字段的方法：`Finished` *`Interlocked`*

 *```
private int _running = 1;
public void Stop()
{
    Interlocked.Exchange(ref _running, 0);
} 
```

并且循环将运行`while( _running > 0)`。

> 有什么方法可以包装这个类，这样它的用户就不必记住调用 dispose. 目前，如果他们不这样做，应用程序就坐在那里等待线程完成，而它永远不会。将其设置为后台线程似乎很懒惰。

确实没有通用的方法可以避免将*处理*负担放在客户身上。但是如果这个类总是被 Winforms 组件使用，那么你可以编写一个构造函数，它接受一个父组件并订阅父组件的`Disposed`事件。所以当父组件（例如表单）被释放时，这个对象也会被释放：

```
public MyClass(Component parent)
{
    parent.Disposed += (s,e) => this.Dispose();
} 
```

（我会放弃终结器作为一个选项，因为不知道它是否/何时运行。）*

# javascript - 使用javascript在asp中实现选择所有复选框功能

> ID：12312159
> 
> 赞同：0
> 
> 时间：2012-09-07T05:22:17.447
> 
> 标签：javascript, asp-classic, checkbox

我有一个在 asp 中显示学生记录的表格。现在该表格中的一列包含一个复选框，并且顶部还提供了检查所有复选框的功能。如何使用javascript做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:26:31.457

看[演示](http://jsfiddle.net/vgtsA/)

```
$(function(){

    // add multiple select / deselect functionality
    $("#selectall").click(function () {
          $('.case').attr('checked', this.checked);
    });

    // if all checkbox are selected, check the selectall checkbox
    // and viceversa
    $(".case").click(function(){

        if($(".case").length == $(".case:checked").length) {
            $("#selectall").attr("checked", "checked");
        } else {
            $("#selectall").removeAttr("checked");
        }

    });
});​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:28:53.400

在任何地方定义一个链接，获取它的事件并使用选中的属性

```
<a href="#" rel="checkedBoxes">Check All Boxes</a>
<a href="#" rel="uncheckedBoxes">Uncheck all Boxes</a>

<script>
   $(function() {
      $("a[rel=checkedBoxes]").live("click", function(eV) {
          eV.preventDefault();
          $("form input:checkbox").attr("checked", "checked");
      }
      $("a[rel=uncheckedBoxes]").live("click", function(eV) {
          eV.preventDefault();
          $("form input:checkbox").attr("checked", "");
      }

   });
</script> 
```

# c - 为什么我的进程没有同时运行？

> ID：12312164
> 
> 赞同：7
> 
> 时间：2012-09-07T05:22:37.680
> 
> 标签：c, process, fork, pid

我的问题是：

1.）我怎样才能让父进程总是最后死掉？我知道这没有完成，因为父进程是第一个运行的 pid，但我不知道如何更改它。

2.) 我如何让我的子进程像他的一样同时执行？我什至把这个数字提高了很多，看看这是否只是巧合，但似乎并非如此。

编辑：解决方案

1.) 在内部默认值2.) 中添加了两次 wait(NULL) 。使用 sleep(1) 来证明这一点。

我的代码如下

```
#include <stdio.h>
int main() {
    int pid, i;
    pid = fork();
    switch(pid) {
        case -1:
            // error
            printf("Fork error");
            break;
        case 0:
            // child process
            printf("First child is born, my pid is %d\n", getpid());
            for(i=1; i<10; i++)
                printf("First child executes iteration %d\n", i);
            printf("First child dies quietly.\n");
            break;
        default:
            // parent process
            printf("Parent process is born, my pid is %d\n", getpid());
            pid = fork();
            switch(pid) {
                case -1:
                    // error
                    printf("Fork error");
                    break;
                case 0:
                    // child process
                    printf("Second child is born, my pid is %d\n", getpid());
                    for(i=1; i<10; i++)
                        printf("Second child executes iteration %d\n", i);
                    printf("Second child dies quietly.\n");
                    break;
                default:
                    // parent process
                    printf("Parent process dies quietly.");
        }
    }
    return 0;
} 
```

我的输出总是这样：

```
父进程诞生，我的pid是7847  
第一个孩子出生，我的pid是7848  
第一个孩子执行迭代：1  
第一个孩子执行迭代：2  
第一个孩子执行迭代：3  
第一个孩子执行迭代：4  
第一个孩子执行迭代：5  
第一个孩子执行迭代：6  
第一个孩子执行迭代：7  
第一个孩子执行迭代：8  
第一个孩子执行迭代：9  
第一个孩子执行迭代：10  
第一个孩子安静地死去。  
父进程静静地死去。  
第二个孩子出生了，我的pid是7849  
第二个孩子执行迭代 1  
第二个孩子执行迭代 2  
第二个孩子执行迭代 3  
第二个孩子执行迭代 4  
第二个孩子执行迭代 5  
第二个孩子执行迭代 6  
第二个孩子执行迭代 7  
第二个孩子执行迭代 8  
第二个孩子执行迭代 9  
第二个孩子执行迭代 10  
第二个孩子安静地死去。  

```

我的任务是：

编写一个创建三个进程的 C 程序（“procs.c”）：一个创建两个子进程的父进程。

第一个孩子应该做到以下几点：

*   显示“第一个孩子出生，我的 pid 是……”

*   显示十次消息“第一个孩子执行迭代 X”，其中 X 是迭代的次数

*   显示“第一个孩子安静地死去。”

第二个孩子应该做到以下几点：

*   显示“第二个孩子出生了，我的pid是……”

*   显示十次消息“第二个孩子执行迭代 X”，其中 X 是迭代的次数

*   显示“第二个孩子安静地死去。”

父进程应执行以下操作：

*   display "父进程诞生，我的pid是..."

*   创建第一个孩子

*   创建第二个孩子

*   显示“父进程安静地死掉。”

使用 gcc 编译程序并将可执行文件命名为“procs”。多次执行程序，注意两个孩子的输出是如何交错的。

该程序的一个可能输出是：

```
新星> ./procs

父进程诞生，我的pid是7847  
第一个孩子出生，我的pid是7848  
第一个孩子执行迭代：1  
第一个孩子执行迭代：2  
第一个孩子执行迭代：3  
第一个孩子执行迭代：4  
第一个孩子执行迭代：5  
第二个孩子出生了，我的pid是7849  
第二个孩子执行迭代 1  
第二个孩子执行迭代 2  
第二个孩子执行迭代 3  
第一个孩子执行迭代：6  
第二个孩子执行迭代 4  
第二个孩子执行迭代 5  
第二个孩子执行迭代 6  
第一个孩子执行迭代：7  
第二个孩子执行迭代 7  
第二个孩子执行迭代 8  
第二个孩子执行迭代 9  
第二个孩子执行迭代 10  
第二个孩子安静地死去。  
第一个孩子执行迭代：8  
第一个孩子执行迭代：9  
第一个孩子执行迭代：10  
第一个孩子安静地死去。  
父进程静静地死去。  

```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T05:40:28.757

1.  适当的父进程应该等待（使用[`wait()`or`waitpid()`](http://pubs.opengroup.org/onlinepubs/9699919799/functions/wait.html)或特定于平台的变体）其子进程在退出之前死亡。

2.  并发执行需要调度程序有机会运行。您可以通过适当的睡眠（微睡眠、[纳米睡眠](http://pubs.opengroup.org/onlinepubs/9699919799/functions/nanosleep.html)）操作来强制解决问题。一些系统调用会有所帮助（因此`fflush(0)`可能会有所帮助）。

* * *

```
#include <stdio.h>
#include <sys/wait.h>
#include <time.h>
#include <unistd.h>

int main(void)
{
    int pid, i;
    struct timespec tw = { .tv_sec = 0, .tv_nsec = 10000000 };
    pid = fork();
    switch(pid)
    {
        case -1:
            printf("Fork error");
            break;
        case 0:
            printf("First child is born, my pid is %d\n", getpid());
            for(i=1; i<10; i++)
            {
                printf("First child executes iteration %d\n", i);
                nanosleep(&tw, 0);
            }
            printf("First child dies quietly.\n");
            break;
        default:
            printf("Parent process is born, my pid is %d\n", getpid());
            pid = fork();
            switch(pid)
            {
                case -1:
                    printf("Fork error");
                    break;
                case 0:
                    printf("Second child is born, my pid is %d\n", getpid());
                    for(i=1; i<10; i++)
                    {
                        printf("Second child executes iteration %d\n", i);
                        nanosleep(&tw, 0);
                    }
                    printf("Second child dies quietly.\n");
                    break;
                default:
                    printf("Parent process waiting for children.\n");
                    int corpse;
                    int status;
                    while ((corpse = waitpid(0, &status, 0)) > 0)
                        printf("Child %d died with exit status 0x%.4X\n", corpse, status);
                    printf("Parent process dies quietly.\n");
                    break;
            }
    }
    return 0;
} 
```

示例输出：

```
Parent process is born, my pid is 46624
First child is born, my pid is 46625
First child executes iteration 1
Parent process waiting for children.
Second child is born, my pid is 46626
Second child executes iteration 1
First child executes iteration 2
Second child executes iteration 2
First child executes iteration 3
Second child executes iteration 3
First child executes iteration 4
Second child executes iteration 4
Second child executes iteration 5
First child executes iteration 5
Second child executes iteration 6
First child executes iteration 6
Second child executes iteration 7
First child executes iteration 7
Second child executes iteration 8
First child executes iteration 8
Second child executes iteration 9
First child executes iteration 9
First child dies quietly.
Second child dies quietly.
Child 46625 died with exit status 0x0000
Child 46626 died with exit status 0x0000
Parent process dies quietly. 
```

请注意，10 毫秒的延迟几乎会强制交替执行。如果没有类似的东西，您就会被系统及其调度程序的特性所困扰，而且许多现代机器都太快了！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T05:37:34.267

`fork()`创建一个新的子进程，它独立于父进程运行。

如果你想让父进程等待子进程完成，你可以使用系统调用`wait`，传递一个 PID，它会阻塞直到进程完成。

请参阅维基百科上的文章[等待（系统调用）](http://en.wikipedia.org/wiki/Wait_%28system_call%29)

# spring - 在春季 j_acegi_security_check 中停止接受 GET 请求

> ID：12312174
> 
> 赞同：3
> 
> 时间：2012-09-07T05:23:56.447
> 
> 标签：spring, security, login, spring-security

我正在使用 `j_acegi_security_check`登录到`Spring`Web 应用程序，但因为它也接受`GET`参数，这意味着我能够登录到应用程序

```
<https://localhost:8080/webapp/j_acegi_security_check?j_username=***&j_password=***&loginButton=Login> 
```

我想避免这种情况。它应该只接受`POST`请求。这该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:56:56.967

默认情况下，spring security 3.x 只接受`POST`登录请求。

`postOnly`但是您可以使用参数来控制这种行为`org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter`

（但正如我之前所说，默认`postOnly`为true）

* * *

但也许主要问题是您使用的是旧的 spring acegi security 而不是实际的 spring security 3.x。情况是这样，而不是上面的陈述是我不正确的。所以强烈建议更新！

如果是 Spring ACEGI 1.0.x

尝试使用以下方法覆盖`attemptAuthentication`方法`AuthenticationProcessingFilter`：

```
if (request.getMethod().equals("POST"))
   return super.attemptAuthentication(request);
else
   throw new AuthenticationServiceException("service accept only http post"); 
```

*查看评论：覆盖`onPreAuthentication()`接缝也是一个好方法*

# vim - tmux 和 Vim：转义键被视为 ^[ 并有很长的延迟

> ID：12312178
> 
> 赞同：22
> 
> 时间：2012-09-07T05:24:12.283
> 
> 标签：vim, macvim, tmux

在 MacVim 和终端 Vim 中，一切正常，我没有问题。一旦我跳进 tmux 并在那里运行 Vim，escape 键就会开始延迟大约 1 秒，并在 Vim 中显示为`^[`.

我将按下退出键退出插入模式，但在 Vim 做出反应并将我带回正常模式之前会发生大约 1 秒的延迟。

如果我键入`Ctrl+o`暂时进入插入模式，它会立即进入正常模式，没有延迟。

如果我键入`jj`以进入正常模式（我设置的快捷方式），它仍然需要大约一秒钟。这让我认为问题可能出在 Vim 而不是 tmux

我已经`set -sg escape-time 0`在我的 tmux.conf 中设置了，但它根本没有帮助。

有任何想法吗？

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-12-12T15:45:17.437

请参阅[https://unix.stackexchange.com/questions/23138/esc-key-causes-a-small-delay-in-terminal-due-to-its-alt-behavior](https://unix.stackexchange.com/questions/23138/esc-key-causes-a-small-delay-in-terminal-due-to-its-alt-behavior)。

问题在于 tmux 转义延迟。下面的 tmux 设置应该更正它：

`set -s escape-time 0`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-08T12:23:32.967

问题是转义是所有功能键、箭头、鼠标点击的第一个字符（它们是由终端使用一些转义序列发送到 vim），……因此 vim 最多等待下一个字符 'ttimeoutlen' （'timeoutlen' 如果'ttimeoutlen' 是 -1) 毫秒，以确保您的意思是按 Escape 而不是，例如，`<F1>`. 没有办法摆脱这种延迟，但您可以缩小范围：

```
set timeout timeoutlen=1000 ttimeoutlen=100 
```

. 这样，它将等待 1 秒让您完成映射，但终端只需 0.1 秒即可完成发送转义序列。

# asp.net - 如何延长会话超时持续时间？

> ID：12312180
> 
> 赞同：3
> 
> 时间：2012-09-07T05:24:15.777
> 
> 标签：asp.net, visual-studio-2010, iis-6

我们开发了一个 ASP.Net Web 应用程序。在其 web.config 文件中，我们将会话超时时间设置为 60，如下所示：

```
 <sessionState mode="InProc" timeout="60"/> 
```

但是，会话在 15 分钟内到期。我不想让会话过期 1 小时。如何将会话超时期限延长至 1 小时？我需要你的所有建议。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T05:35:18.923

```
The application pool’s worker process default idle timeout is also set to 20 minutes
The default mode of storing session state is in the IIS process 
```

所以你应该尝试更改应用程序池的工作进程默认超时

这是[链接](http://asp-net.vexedlogic.com/2012/05/23/aspasp-net-session-timeout-how-do-i-change-it/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:33:43.590

您需要增加 IIS 会话状态超时。这可能被设置为覆盖`<sessionState>`。阅读以下内容 -[配置会话超时 (IIS 7)](http://technet.microsoft.com/en-us/library/cc725820%28v=ws.10%29.aspx)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-07T05:28:00.313

只需在**Timeout**中增加时间，此时间以分钟为单位，因此将小时转换为分钟并在 web.config 中设置如下。

```
<sessionState mode="InProc" timeout="60"/> 
```

您可以点击以下链接 [http://forums.asp.net/t/1452762.aspx](http://forums.asp.net/t/1452762.aspx)

阅读上面的链接，我希望这对你有用......

# php - cakephp2.2中实现模板页面

> ID：12312181
> 
> 赞同：0
> 
> 时间：2012-09-07T05:24:18.713
> 
> 标签：php, cakephp, cakephp-2.1

我是 cakephp 新手，并且浏览了 cakephp 的文档。我觉得它对开发人员来说是一个有用的框架。我开始在我的项目中实施。我想使用一个网页模板页面，并希望将 cakephp 合并到该模板中。我试过这样做，我得到了错误。你们能帮我包括模板的过程吗，比如把文件和文件夹放在哪里。在哪里保存模板的索引/主页文件？如何将此文件包含在控制器和视图、路由中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:17:35.597

你需要做

> 布局

为此我猜。其中将包含页眉页脚部分和

> 看法

将根据正在显示的部分调用它。

[http://book.cakephp.org/2.0/en/views.html](http://book.cakephp.org/2.0/en/views.html)

# php - Cronjob 不接受 php post 中的端口号

> ID：12312182
> 
> 赞同：0
> 
> 时间：2012-09-07T05:24:31.470
> 
> 标签：php, redirect, post, cron, port

使用 php 表单将变量发布到网站

```
$this->redirect("http://Web_Address/httpds?switch=0"); 
```

这适用于普通的网络浏览器和 Cronjob。

当目标网站的端口号从 80 变为 8081 时，问题就开始了。

```
$this->redirect("http://Web_Address:8081/httpds?switch=0"); 
```

这在 Web 浏览器中仍然可以正常工作，但在 Cronjob 中不再有效。

任何想法如何解决这个问题？？？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T08:29:41.450

我会在 cronjob PHP 脚本中使用 curl 而不是重定向，如下所示：

```
<?php
 $ch = curl_init();

 curl_setopt($ch, CURLOPT_URL, "http://Web_Address:8081/httpds?switch=0");
 curl_setopt($ch, CURLOPT_HEADER, 0);

 curl_exec($ch);

 curl_close($ch);
 ?> 
```

# c# - 使用 Visual Studio 2010 从命令行一次构建多个 C# 解决方案

> ID：12312183
> 
> 赞同：0
> 
> 时间：2012-09-07T05:24:35.027
> 
> 标签：c#, visual-studio-2010, build, build-process, build-automation

一个根文件夹中有 20 到 30 个 C# 解决方案。我想使用 Visual Studio 命令提示符一次性自动构建所有这些解决方案。

我尝试了 MSBUILD 和 CSC。但是我没有办法自动构建驻留在文件夹中的所有解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T05:27:22.550

使用此语法：

```
MSBUILD [projectfile] 
```

[MSDN 参考](http://msdn.microsoft.com/en-us/library/ms164311.aspx)

要构建所有内容，您可以创建一个简单的批处理文件*buildall.bat*或其他任何内容。

```
MSBUILD project1.csproj
MSBUILD project2.csproj
... etc
pause 
```

# r - 浮动条形图

> ID：12312189
> 
> 赞同：7
> 
> 时间：2012-09-07T05:25:23.017
> 
> 标签：r, plot, ggplot2, bar-chart

我想制作可以指定条形最小值的条形图（很像盒子和晶须图中的盒子）。barplot 可以做到这一点吗？我怀疑答案在 ggplot 中，但我找不到一个例子。这里有一些数据：

> ```
>  X  Jan  Feb  Mar  Apr  May  Jun  Jul  Aug  Sep  Oct  Nov  Dec
> 1      Highest recorded 31.5 31.8 30.3 28.0 24.9 24.4 21.7 20.9 24.5 25.4 26.0 28.7
> 2  Mean monthly maximum 27.8 28.6 27.0 24.8 22.0 20.0 18.9 18.8 20.4 22.4 23.9 26.8
> 3    Mean daily maximum 24.2 24.8 23.1 20.9 18.4 16.3 15.5 15.7 16.9 18.3 20.0 22.4
> 4                  Mean 19.1 19.8 18.1 16.2 13.8 11.9 11.2 11.6 12.7 14.1 15.7 17.7
> 5    Mean daily minimum 14.0 14.7 13.1 11.4  9.2  7.5  6.9  7.4  8.4 10.0 11.4 13.0
> 6  Mean monthly minimum  7.6  9.1  6.8  3.8  2.3 -0.5 -0.2  1.0  2.3  3.7  5.3  6.7
> 7       Lowest recorded  4.0  5.6  4.1 -1.3  0.0 -3.1 -2.6 -1.4 -0.8  2.0  2.7  4.1 
> ```
> 
> xaxis =c("J","F","M","A","M","J","J","A","S","O","N","D ")

所以理想情况下，我每个月都会有一个堆积条形图，它从“最低记录”值开始，而不是从零开始。

我也尝试过 UsingR 包中的 superbarplot。我可以让条形图从我想要的位置开始，但不能将 x 轴向下移动到图的中心之外。提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-07T05:53:58.767

您可以使用`geom_boxplot`in`ggplot2`来获取（我认为）您想要指定预先计算的值`stat = 'identity'`并使用`geom_crossbar`来放入另一个

```
# first, your data
weather <- read.table(text = 'X  Jan  Feb  Mar  Apr  May  Jun  Jul  Aug  Sep  Oct  Nov  Dec
1      "Highest recorded" 31.5 31.8 30.3 28.0 24.9 24.4 21.7 20.9 24.5 25.4 26.0 28.7
2  "Mean monthly maximum" 27.8 28.6 27.0 24.8 22.0 20.0 18.9 18.8 20.4 22.4 23.9 26.8
3    "Mean daily maximum" 24.2 24.8 23.1 20.9 18.4 16.3 15.5 15.7 16.9 18.3 20.0 22.4
4                  "Mean" 19.1 19.8 18.1 16.2 13.8 11.9 11.2 11.6 12.7 14.1 15.7 17.7
5   "Mean daily minimum" 14.0 14.7 13.1 11.4  9.2  7.5  6.9  7.4  8.4 10.0 11.4 13.0
6  "Mean monthly minimum"  7.6  9.1  6.8  3.8  2.3 -0.5 -0.2  1.0  2.3  3.7  5.3  6.7
7       "Lowest recorded"  4.0  5.6  4.1 -1.3  0.0 -3.1 -2.6 -1.4 -0.8  2.0  2.7  4.1', header =T)

library(reshape2)
library(ggplot2)
# reshape to wide format (basically transposing the data.frame)
w <- dcast(melt(weather), variable~X)
ggplot(w, aes(x=variable,ymin = `Lowest recorded`, 
         ymax = `Highest recorded`, lower = `Lowest recorded`, 
         upper = `Highest recorded`, middle = `Mean daily maximum`)) + 
     geom_boxplot(stat = 'identity') +
     xlab('month') + 
     ylab('Temperature') +
     geom_crossbar(aes(y = `Mean monthly maximum` ))+
     geom_crossbar(aes(y = `Mean monthly minimum`)) +
     geom_crossbar(aes(y = `Mean daily maximum` ))+
     geom_crossbar(aes(y = `Mean daily minimum`)) 
```

![在此处输入图像描述](../Images/7d81de7f17fa65979cfc89a0d1894514.png)

这在帮助中的示例中部分描述了`geom_boxplot`

# c# - C#中带有where子句的select语句

> ID：12312197
> 
> 赞同：-1
> 
> 时间：2012-09-07T05:26:49.487
> 
> 标签：c#, sql

如何使用 where 子句编写 select 语句。我需要与字符串值进行比较。

我试过这个：

```
string get_dropdown_value = dropdown_category.SelectedItem.Value; 
```

...但它给了我这个错误：

```
Invalid column name 'get_dropdown_value'. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T05:30:14.570

您必须显示您正在使用的选择语句。我怀疑你做过这样的事情：

```
string selectStatement = "SELECT * FROM SOME_TABLE WHERE SOME_COLUMN = get_dropdown_value"; 
```

虽然它应该是这样的：

```
string selectStatement = "SELECT * FROM SOME_TABLE WHERE SOME_COLUMN = " + get_dropdown_value; 
```

编辑：正如其他人提到的，这很容易发生 SQL 注入。因此，您可能想要使用 SqlParamter（假设您使用的是 SQL）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:44:00.893

试试这个代码

安装的

```
string get_dropdown_value = dropdown_category.SelectedItem.Value; 
```

放

```
string get_dropdown_value = dropdown_category.SelectedItem.Text; 
```

# android - 如何在 cocos2d-x 中包含 libprotobuf.a

> ID：12312206
> 
> 赞同：0
> 
> 时间：2012-09-07T05:27:43.387
> 
> 标签：android, android-ndk, protocol-buffers, cocos2d-x, android-ndk-r7

我需要在我的 cocos2d-x android 项目中使用 google 的 protobuf。我在项目中包含头文件和 C++ 文件。但是当我尝试通过 NDK 编译项目时，编译器返回错误：

`jni/../../Classes/PromowallLibrary/protocol.pb.cpp:55: error: undefined reference to 'google::protobuf::DescriptorPool::generated_pool()' jni/../../Classes/PromowallLibrary/protocol.pb.cpp:55: error: undefined reference to 'google::protobuf::DescriptorPool::FindFileByName(std::basic_string, std::allocator > const&) const' jni/../../Classes/PromowallLibrary/protocol.pb.cpp:56: error: undefined reference to 'google::protobuf::internal::LogMessage::LogMessage(google::protobuf::LogLevel, char const*, int)'`

等等。如何指向 -lprotobuf 库？我试过了：
`LOCAL_LDLIBS := -lprotobuf \`
但这不起作用

**更新：**
现在我尝试这样做 - 我创建静态模块：

 `````
LOCAL_PATH := $(call my-dir)
include $(CLEAR_VARS)
LOCAL_MODULE := libprotobuf
LOCAL_SRC_FILES := libprotobuf.a
LOCAL_C_INCLUDES := $(LOCAL_PATH)/../../Classes

include $(PREBUILT_STATIC_LIBRARY)
include $(CLEAR_VARS)
LOCAL_MODULE := game_shared
LOCAL_MODULE_FILENAME := libgame
LOCAL_CPP_EXTENSION := .cpp \
            .cc

LOCAL_SRC_FILES := helloworld/main.cpp \
                   ../../Classes/AppDelegate.cpp \
                   ../../Classes/HelloWorldScene.cpp \
                   ../../Classes/PromowallLibrary/protocol.pb.cc

LOCAL_C_INCLUDES := $(LOCAL_PATH)/../../Classes \
         $(LOCAL_PATH)

LOCAL_STATIC_LIBRARIES := libprotobuf
LOCAL_WHOLE_STATIC_LIBRARIES := cocos2dx_static cocosdenshion_static

include $(BUILD_SHARED_LIBRARY)

$(call import-module,CocosDenshion/android) $(call import-module,cocos2dx) 
```` 

 `现在我得到这样的错误：
`/home/ivan/android/android_ndk/toolchains/arm-linux-androideabi-4.6.3/prebuilt/linux-x86/bin/../lib/gcc/arm-linux-androideabi/4.6.3/../../../../arm-linux-androideabi/bin/ld: error: ./obj/local/armeabi/libprotobuf.a(common.o): incompatible target /home/ivan/android/android_ndk/toolchains/arm-linux-androideabi-4.6.3/prebuilt/linux-x86/bin/../lib/gcc/arm-linux-androideabi/4.6.3/../../../../arm-linux-androideabi/bin/ld: error: ./obj/local/armeabi/libprotobuf.a(generated_message_util.o): incompatible target /home/ivan/android/android_ndk/toolchains/arm-linux-androideabi-4.6.3/prebuilt/linux-x86/bin/../lib/gcc/arm-linux-androideabi/4.6.3/../../../../arm-linux-androideabi/bin/ld: error: ./obj/local/armeabi/libprotobuf.a(message_lite.o): incompatible target /home/ivan/android/android_ndk/toolchains/arm-linux-androideabi-4.6.3/prebuilt/linux-x86/bin/../lib/gcc/arm-linux-androideabi/4.6.3/../../../../arm-linux-androideabi/bin/ld: error: ./obj/local/armeabi/libprotobuf.a(repeated_field.o): incompatible target /home/ivan/android/android_ndk/toolchains/arm-linux-androideabi-4.6.3/prebuilt/linux-x86/bin/../lib/gcc/arm-linux-androideabi/4.6.3/../../../../arm-linux-androideabi/bin/ld: error: ./obj/local/armeabi/libprotobuf.a(wire_format_lite.o): incompatible target```

# install4j - install4j 是否有 JRE 不提取的选项

> ID：12312209
> 
> 赞同：0
> 
> 时间：2012-09-07T05:28:04.960
> 
> 标签：install4j

我的产品是由 install4j 制作的，已经安装了。

当重新安装相同的产品时，install4j 是否有 JRE 不提取的选项？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T08:31:15.790

在 Installer->Screens & Actions 上，搜索“Install files”操作并取消选择“Update bundled JRE”属性。

# php - PHP imap_search 收件箱/已发送项目

> ID：12312210
> 
> 赞同：2
> 
> 时间：2012-09-07T05:28:14.250
> 
> 标签：php, codeigniter, email, imap

我需要同时搜索`Inbox`并`Sent Items`使用一些标准。

假设我需要过滤的电子邮件 ID 是`user@example.com`

1.  在`INBOX`- `FROM`,`CC`字段中搜索
2.  搜索领域`Sent Items`_`To`

    $result= imap_search($conn, '从 "user@example.com" 到 "user@example.com"');

我尝试过`imap_search`，但它不适用于多个标准。

也可以同时搜索`INBOX` 和`Sent Items`吗？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T05:34:27.940

不，不可能

PHP 在底层使用 Mark Crispin 的 c-client 库来完成其 IMAP 工作。在 c-client 库中，mail.c 中有一个已弃用的方法 mail_criteria，它将 IMAP 搜索字符串转换为 c-client 搜索程序。mail_criteria 在过去 8 年左右已被弃用，因此从未更新以支持 IMAP4 搜索语法。因此，在 IMAP2 中不存在的 OR 等搜索词在 mail_criteria 函数中从未得到支持。以下是它支持的所有以“O”开头的术语：

```
case 'O':                 /* possible OLD, ON */
    if (!strcmp (criterion+1,"LD")) f = pgm->old = T;
    else if (!strcmp (criterion+1,"N"))
      f = mail_criteria_date (&pgm->on,&r);
    break; 
```

OR 不在该列表中。因此，即使 c-client 在其 SEARCHPGM 结构中支持 OR，它也不会在已弃用的 mail_criteria 函数中解析 OR。

并且 PHP 仍然使用 mail_criteria 来解析搜索查询。在 2011 年。因此，在 c-client 库取消弃用 mail_criteria 并使其符合 IMAP4 或 PHP 编写自己的 IMAP 搜索解析器之前，您将无法使用任何 IMAP2 支持。其中不包括 OR。

imap_search 将无法使用多个条件

# asp.net - 在 gridview 中编辑行时，IE-8 和 IE-9 中的 iframe 问题

> ID：12312214
> 
> 赞同：0
> 
> 时间：2012-09-07T05:28:48.550
> 
> 标签：asp.net, iframe, internet-explorer-8, internet-explorer-7, internet-explorer-9

我在显示页面内容的 jquery 弹出窗口中使用 iframe。

在该页面中，我使用 gridview 获取数据列表。

当我编辑 gridview 时，它没有显示错误，但内联编辑 TextBox 未在 IE-8 和 IE-9 中显示，而在 IE-7、Firefox 和 Chrome 中显示相同的内容。

因此，我在 IE-8 和 IE-9 中尝试了没有 iframe 的同一页面，现在内联编辑工作正常。

任何人都可以知道问题是什么，我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T09:51:32.953

背后的原因是 IE-8 和 IE-9 不允许更改 iframe 内容。由于安全。

# ruby - 我如何在 Ruby 的另一个模块中包含一个模块（这个模块里面有一个模块）

> ID：12312215
> 
> 赞同：0
> 
> 时间：2012-09-07T05:28:49.673
> 
> 标签：ruby

我有一个模块如下，

主.rb：

```
module Main
 include Dad::Mam
end 
```

和

在 dad.rb 中：

```
module Dad
 module Mam
  puts "Mam is saying you are very lazy..."
 end
end 
```

我该如何命名这个文件？dad.rb 对吗？

但是在运行时

`$ ruby main.rb`

我收到一个错误，例如，

> main.rb:2:in `<module:Main>': uninitialized constant Main::Dad (NameError) from main.rb:1:in`'

`Mam`我需要在运行 ruby​​ 时在模块下的 puts 内显示语句`main.rb`，

我对使用 ruby​​ 的模块感到困惑，请任何人帮助我并指导我..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:34:58.263

在这种情况下，由于您只是在编写一个简单的脚本，请使用`#require_relative`

```
require_relative 'dad'
module Main
 include Dad::Mam
end 
```

对于实际的应用程序或库，您可能希望管理加载路径（一个全局变量，其中包含一个告诉 ruby​​ 在哪里查找文件的数组），然后使用普通的`require`

# ios - 如何使用 coreplot 为折线图设置文本样式？

> ID：12312220
> 
> 赞同：1
> 
> 时间：2012-09-07T05:29:35.070
> 
> 标签：ios, core-plot

我正在使用 coreplot 0.9 。我尝试为 CPTLineStyle 设置 linecolor 属性

但是颜色或字体大小是只读属性会给出错误。请给我一些解决方案。

```
 static CPTTextStyle *labelTextStyle= nil ;
  labelTextStyle = [[CPTTextStyle alloc]init];
  labelTextStyle.color =[CPTColor whiteColor];
   labelTextStyle.fontSize = 10.0f ; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T00:57:08.573

使用`CPTMutableTextStyle`. 在 Core Plot 中，文本样式、线条样式、阴影和数字数据对象有两种变体——可变的和不可变的。这遵循许多 Cocoa 对象（如`NSString`和）共有的模式`NSArray`。

# list - 检测链表中的循环

> ID：12312228
> 
> 赞同：2
> 
> 时间：2012-09-07T05:30:32.277
> 
> 标签：list, linked-list

我在相关部分看到了这个问题，经过一些讨论后，我发现最常见的解决方案是兔子和乌龟算法。但是我看到的另一个建议的解决方案（这是我会做的）是包含一个 Node 类的第三个实例变量，它将跟踪它访问过的节点，就像一个布尔变量。那么这被认为是一个有效的解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T19:54:38.327

你的解决方案绝对是一个有效的解决方案，因为它可以完成工作。

然而，检测循环的问题通常是通过使用`O(1)`额外内存的额外约束来制定的。hare and tortoise 算法满足此约束，而您的算法不满足：它需要`O(N)`额外的内存来存储每个节点的布尔值。

# java - 对于通过受 Siteminder 保护的网络服务器发送的请求，无法使用 SOAP UI 访问网络服务

> ID：12312229
> 
> 赞同：1
> 
> 时间：2012-09-07T05:30:31.747
> 
> 标签：java, web-services, jax-ws, soapui, siteminder

`Tomcat`我们在应用服务器上托管了一个网络服务，该服务由网络服务器提供前端`Apache`。此网络服务器受 sideminder 保护。Web 服务是使用`JAX WS 2`.

当我尝试使用`SOAP UI` `3.6.1`授权的用户名和密码访问网络服务时，我收到了一个`403`禁止错误，尽管我可以`WSDL`在输入凭据后通过浏览器访问。

写了一个`Java`客户端，但得到了同样的错误，即使在使用`Authenticator`该类之后也是如此。

我如何使用`SOAP UI`.

问题可能是网络服务器拒绝请求，因为请求中不存在 SITEMINDER cookie `SOAP UI`。有没有办法在`SOAP UI`请求中附加一个站点管理员 cookie。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:49:23.597

你试过这个吗？[soapui 和 wsdl 中标题和附件的变化](http://www.soapui.org/SOAP-and-WSDL/adding-headers-and-attachments.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T19:16:01.560

只是为了详细说明 user1640065 answer ，您可能必须手动添加带有 Base64 编码的 userid:password 值的 Basic Authentication 标头。我没有使用 Soap UI 对此进行测试，但在访问由 SiteMinder 保护的 Web 服务 API 时遇到了同样的问题。

# c# - 如何根据其他两个字段的值从 MSSQL 返回一个字段

> ID：12312232
> 
> 赞同：1
> 
> 时间：2012-09-07T05:30:41.457
> 
> 标签：c#, .net, sql-server, database, tsql

这些天我是一个 MySQL 人，并且有一个我正在处理的 .NET 项目，但无法弄清楚如何根据表中的两个字段从表中动态生成和返回字段（列）。

Units 表中有两个字段 bRentable 和 bRented，如果 bRentable 和 bRented 等于 0，我需要返回一个名为 reserved 的字段。

这是我到目前为止的SQL

```
/* Units Query */
SELECT Units.UnitID, Units.dcWidth, Units.dcLength, Units.dcPushRate, 
       Units.dcStdRate, Units.UnitTypeID, UnitTypes.sTypeName, Units.bRentable     
FROM Units
INNER JOIN UnitTypes ON Units.UnitTypeID = UnitTypes.UnitTypeID 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:47:03.743

您可以将以下内容作为另一列添加到您的选择语句中：

```
(cast case 
when (bRentable = 0 and bRented = 0) then 1 
else 0 
end as bit) as reserved 
```

编辑：根据 OP 评论更新：

```
SELECT Units.UnitID, Units.dcWidth, Units.dcLength, Units.dcPushRate, 
       Units.dcStdRate, Units.UnitTypeID, UnitTypes.sTypeName, Units.bRentable,(cast case 
    when (bRentable = 0 and bRented = 0) then 1 
    else 0 
    end as bit) as reserved   
FROM Units
INNER JOIN UnitTypes ON Units.UnitTypeID = UnitTypes.UnitTypeID 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T06:15:47.150

```
SELECT Units.UnitID, Units.dcWidth, Units.dcLength, Units.dcPushRate, 
       Units.dcStdRate, Units.UnitTypeID, UnitTypes.sTypeName, Units.bRentable,
       CASE When (Units.bRentable = 0 and Units.bRented = 0) then 1 else 0 end as reserved
FROM Units
INNER JOIN UnitTypes ON Units.UnitTypeID = UnitTypes.UnitTypeID 
```

在您的函数或存储过程中进行此查询后，您只需检查保留字段的值。如果返回 1。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T05:39:59.583

如果您想要存储过程或用户定义的函数，以下查询将有所帮助。

```
DECLARE @Rentable BIT
DECLARE @Rented BIT
DECLARE @Reserved BIT

SELECT @Rentable = U.bRentable, @Rented = U.bRented
    FROM UNITS U INNER JOIN UnitTypes UT ON U.UnitTypeId = UT.UnitTypeId

IF(@Rentable = 0 AND @Rented = 0)
 BEGIN
    SET @Reserved = 0
 END
ELSE
 BEGIN
    SET @Reserved = 1
 END

RETURN @Reserved // OR SELECT @Reserved 
```

搜索 ADO.NET 并使用带参数的 SqlCommand，您可以在使用查询构建命令后传递 SqlParameters。

```
SqlCommand.Parameters.Add(); 
```

# jquery - mvc3中控制的复制

> ID：12312234
> 
> 赞同：0
> 
> 时间：2012-09-07T05:30:54.397
> 
> 标签：jquery, asp.net-mvc-3, razor

我正在通过调用局部视图来创建动态控件。![我的布局看起来像这样](../Images/de37f8987b891c817f825fd0f954c6c5.png)

当我第一次更改下拉列表的值时，它工作正常。但是，当我在第二次或更长时间更改下拉列表的值时，我会复制控件的次数。

我用来附加除法的jquery是：

```
<script type="text/javascript">
    $("#addItem").live('click', function (e) {
        e.preventDefault();
        //        $("#mydiv").html("");
        $.ajax({
            url: this.href,
            type: "Get",
            data: $(this).serialize(),
            success: function (srcc) {
                $("#mydiv").append(srcc);
            }
        });
        return false;
    });
</script> 
```

我的控制器看起来像：

```
[HttpGet]
public ActionResult BlankEditorRow()
{
    TempData["PassedDivision"] = extract.getDivision();
    TempData["Country"] = extract.getCountry();
    return PartialView("ViewUserControl1");
} 
```

actionlink 的代码是：

```
@Html.ActionLink("Add another", "BlankEditorRow", "HREduInformation", new { id = "addItem" }) 
```

我哪里错了？谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T05:46:23.337

如果您的脚本标签在局部视图的标记中，请在浏览器中查看呈现的 html 并确保该脚本没有被复制。您的 javascript 代码未包装在函数中，因此一旦您的浏览器加载脚本，它就会被执行。

# php - 在浏览器退出时，自动登录 Cookie 在 CakePHP 2x 中被删除

> ID：12312237
> 
> 赞同：1
> 
> 时间：2012-09-07T05:31:23.773
> 
> 标签：php, cakephp, cookies, session-cookies, cakephp-2.1

我检查了这个[Cakephp cookie 总是被自动删除](https://stackoverflow.com/questions/6991319/cakephp-cookie-always-get-deleted-automatically)，但是不行。这不正是我一直在寻找的。

自动登录使用的 cookie 被删除。

这是做了什么：

```
 public function login( ) {
    if ($this->Auth->user('id')) {
        $this->redirect(array('action' => 'dashboard'));
    }

    if ($this->request->is('post')) {
        if($this->request->data['User']['auto_login']):
            $this->AutoLogin->write($this->request->data['User']['email'],
            $this->request->data['User']['password']);
            endif;
        if ($this->Auth->login( )) {
            //$this->redirect(array('controller' => 'users', 'action' => 'edit'));
            return $this->redirect($this->Auth->redirect( ));
        }
        else 
        {
            $this->Session->setFlash(__('Username and Password is incorrect'), 'default', array( ), 'auth');
        }
    }

    else {
        if($this->AutoLogin->read()):
            $AllData = $this->AutoLogin->read();
            $AllData['username'] = 'email';
            $AllData['password'] = 'password';
            $check = $this->User->find('first', array('username' => 'email', 'password' => 'password'));
            if($check):
                $this->Auth->user($check);
                $this->Auth->redirect();
            endif;
            $this->redirect(array('action' => 'login'));
        endif;
    } 
```

它会设置 cookie，它会做所有该死的事情！

但是，在浏览器退出时，它就消失了！是的，尝试了各种浏览器，并检查了浏览器设置是否正在执行此操作。

我的 AppController 正在加载：

```
public $components = array('AutoLogin','Auth' => array('autoRedirect' => false), 'Cookie', 'RequestHandler', 'Session', 'Facebook.Connect' => array('model' => 'User') );//, //'DebugKit.Toolbar'); 
```

现在，这是一个问题，当我检查 Inspect Element 下的 Resources 时，它向我显示了 2 件事： PHPSESSID 和 CakeCookie[autoLogin] ， PHPSESSID - 类型是会话并且过期 - 空白。CakeCookie 类型是 cookie，一个月后过期！

因为它“看起来”像原生 PHP，所以我想检查 session_start() 函数并找到了它！它是 Facebook 组件，但禁用它确实阻止了 PHPSESSID 的出现，但是，cookie 仍然会在浏览器退出时被删除。

请指教。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T07:05:04.987

在 Facebook 插件文件中打开 Facebook.php 文件。

在第 4 行或第 5 行的 __construct 下，注释掉 session_start();

理想情况下，CakePHP 会加载所有导致 PHPSESSID 设置的插件。将其注释掉，甚至 Facebook 也会有效地工作。

另外，请确保您在 tmp 文件夹下创建一个名为“会话”的文件夹并将其标记为 chmod -R 0777 sessions/ ，刷新您的应用程序。

# c++ - 无法从 C++ 连接到 MySQL

> ID：12312239
> 
> 赞同：0
> 
> 时间：2012-09-07T05:31:32.243
> 
> 标签：c++, mysql, windows, linux

从某些应用程序，我无法连接到远程数据库服务器：

```
 MYSQL conn;  

  if(!mysql_init(&conn))
      std::wcout << "Error: can't create MySQL-descriptor" << endl;   

  if(!mysql_real_connect(&conn,"ip","user","password","dbname",0,0,0))
       std::wcout << "Error: can't connect to MySQL server" << endl;     

  if(mysql_query(&conn, "SELECT VERSION()") != 0)
       std::wcout << "Error: can't execute SQL-query" << endl; 
```

`3306`我在远程服务器上打开了端口：

```
 iptables -A INPUT -p tcp -m tcp --dport 3306 -j ACCEPT 
 iptables save
 iptables restart 
```

错误：

> 无法连接到数据库：错误：无法连接到“ip_..”上的 MySQL 服务器 (10060)

可能是什么原因？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T07:30:09.753

您应该在每次失败的测试后显示[mysql_error](http://dev.mysql.com/doc/refman/5.5/en/mysql-error.html)`mysql_init`的结果（在成功之后），例如：

```
 if(!mysql_real_connect(&conn,"ip","user","password","dbname",0,0,0))
     std::wcout << "Error: can't connect to MySQL server:"
                << mysql_error (&conn) << endl; 
```

否则你的用户将无法理解他发生了什么。

你可能会发现发生了什么。如果没有，请查看文档。

# c# - 如何从字典中删除项目

> ID：12312240
> 
> 赞同：0
> 
> 时间：2012-09-07T05:31:44.007
> 
> 标签：c#, .net-framework-version

我有

```
 Dictionary<string, List<string>> Dic = new Dictionary<string, List<string>>(); 
```

如何从 Dic 中删除前 1,2,3 个元素。我不知道如何用“foreach”制作它

```
foreach (KeyValuePair<string, List<string>> kvPair in Dic)
            {
                Console.WriteLine(kvPair.Key);
                foreach (string str in kvPair.Value)
                {

                }
            } 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-07T05:34:43.410

您无法从字典中获取项目 1,2,3，您只能根据键删除。

[字典 MSDN](http://msdn.microsoft.com/en-us/library/xfhwa508.aspx)

> 返回项目的顺序未定义。

您可以使用[Orderby](http://msdn.microsoft.com/en-us/library/bb534966.aspx)根据键对字典进行排序。但是要从字典中删除一个项目，您将需要密钥。

请参阅[Dictionary.Remove](http://msdn.microsoft.com/en-us/library/kabs04ac.aspx)

编辑：根据您用“foreach”编辑的问题

枚举时不能修改字典。如果您尝试从 foreach 中的字典中删除项目，您将收到错误消息：

> 收藏已修改；枚举操作可能无法执行。

您可以将字典转换为数组，然后从字典中删除项目*（如下所示，可能会改进或更改，这只是一个想法）：*

```
 var dicArrray = Dic.ToArray();
        foreach (KeyValuePair<string, List<string>> kvPair in dicArrray)
        {
            if (kvPair.Key.Equals("1"))
                Dic.Remove(kvPair.Key);
        } 
```

**但请记住，项目在数组中的顺序是未定义的。你不能确定它**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T05:37:42.417

正如 habib 所说，您不能根据索引从字典中删除项目，您只能根据键删除项目，使用**Remove()**方法

从这里阅读更多内容-[根据值删除字典中的项目](https://stackoverflow.com/questions/1636885/remove-item-in-dictionary-based-on-value)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-07T05:46:02.120

首先，创建要删除的键集合：

```
var toDelete = new List<string>();
int count = 3;
foreach(var pair in dictionary) {
    toDelete.Add(pair.Key);
    count -= 1;
    if( count==0 ) break;
}

// then when ready - delete
foreach(string key in toDelete) dictionary.Remove(key); 
```

原因不是通过在枚举时删除项目来使字典枚举器无效。

还要考虑到密钥对出现的顺序在规范中没有明确设置，所以你可能不依赖它——即使它现在可以工作，它也可能在下一个版本的框架中停止工作。因此，在创建要删除的元素列表之前，您还必须确定“前 3 个”的含义。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-07T06:01:25.713

如果`dic`是“简单” `Dictionary`，则使用 LINQ，您可以从原始字典创建一个新字典并将其重新分配给`dic`，如下所示：

```
dic = dic.Skip(3).ToDictionary(kv => kv.Key, kv => kv.Value); 
```

*正如astander*在评论和*Habib 的*回答中指出的那样，字典项目的顺序是未定义的，因此您可能只想将此技术应用于[SortedDictionary](http://msdn.microsoft.com/en-us/library/f7fta44c.aspx)。

在这种情况下，您需要`SortedDictionary`从 LINQ 结果创建一个新的：

```
dic = new SortedDictionary<string, List<string>>(
          dic.Skip(3).ToDictionary(kv => kv.Key, kv => kv.Value)); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-07T05:34:55.460

要删除字典中的项目，请使用[Remove()](http://msdn.microsoft.com/en-us/library/kabs04ac.aspx)方法。例如：

```
Dictionary<string, List<string>> dictionary = new Dictionary<string, List<string>>();
dictionary.Add("1", new List<string());
dictionary.Remove("1"); 
```

不维护添加的订单字典元素。但是，如果要删除最高键，例如，请执行以下操作：

```
dictionary.Remove(dictionary.Keys.OrderBy().First()); 
```

# jquery - Jquery 模态登录注册

> ID：12312241
> 
> 赞同：0
> 
> 时间：2012-09-07T05:31:48.907
> 
> 标签：jquery, modal-dialog

我正在开发一个 jquery 模式登录和注册。默认情况下，模式窗口显示登录表单。如果我单击显示注册按钮，它会切换到注册表单。jqquery 代码应该在当前活动（可见）表单上执行，但它似乎只适用于默认表单（登录）。当我切换到注册表单时，代码没有做任何事情，我不知道为什么。jquery 似乎都不起作用。似乎一旦 jquery 在页面加载时加载，它不会让我重新定义保存当前表单 ID 的 plActiveForm 变量。正如您在代码中看到的，此变量在整个过程中都被使用。

任何帮助，将不胜感激。谢谢！

我不知道我是否说得很有道理，这很难解释。我的插件如下图所示：

```
// -----------------------------------------------
// JQUERY - FOR MODAL LOGIN + REGISTRATION FORM
// -----------------------------------------------
(function ($) {
$.fn.plMlogin = function (options) {

    // -----------------------------------------------
    // DEFAULTS AND OPTIONS
    // -----------------------------------------------
    var defaults = {
        plTooltip: true,
        plResetButton: true,
        plBubbleResponse: true
    };
    var settings = $.extend({}, defaults, options);

    // -----------------------------------------------
    // SHOW MODAL WINDOW ON CLICK
    // -----------------------------------------------
    $('.pl-m-trigger').click(function(e) {
        e.preventDefault();

        // -> append container into body
        $('body').append('<div class="pl-m-container">');

        // -> load modal forms into container
        $.ajax({
            url: 'pl-module/public/modal-login-html.php',
            dataType: 'html',
            timeout: 10000, // 10 seconds
            success: function(html) {

                // -----------------------------------------------
                // -> LOAD FORMS INTO CONTAINER
                // -----------------------------------------------
                $(".pl-m-container").html(html);

                // -----------------------------------------------
                // PROPERTIES
                // -----------------------------------------------
                var plMContainer = $('.pl-m-container');
                var plMWrap = $('.pl-m');
                var plMOverlay = $('.pl-m-overlay');
                var plMLoginFrm = $('#pl_frmMlogin');
                var plMRegFrm = $('#pl_frmMRegister');
                var plMLoading = $('.pl-loading');
                var plMCloseBtn = $('.pl-m-close');
                var plMShowRegBtn = $('#pl_showRegForm');
                var plMShowLoginBtn = $('#pl_showLoginForm');
                var plMLoginSubmitUrl = 'pl-module/public/login.php';
                var plMRegisterSubmitUrl = 'pl-module/public/register.php';
                var plActiveForm = plMLoginFrm;
                var plSubmitUrl = plMLoginSubmitUrl;

                // -----------------------------------------------
                // SHOW MODAL WINDOW AND DEFAULT FORM
                // -----------------------------------------------
                $(plMWrap).fadeIn('fast');
                $(plMOverlay).fadeIn('fast');
                $(plActiveForm).fadeIn('fast');

                // -----------------------------------------------
                // CLOSE MODAL WINDOW ON BTN CLICK
                // -----------------------------------------------
                $(plMCloseBtn).click(function(e) {
                    e.preventDefault();
                    $(plMWrap).fadeOut('fast', function() {
                        $(plMOverlay).fadeOut('fast', function() {
                            $(plMContainer).remove();
                        });
                    });
                });

                // -----------------------------------------------
                // CLOSE MODAL WINDOW ON OVERLAY CLICK
                // -----------------------------------------------
                $(plMOverlay).click(function() {
                    $(plMWrap).fadeOut('fast', function() {
                        $(this).fadeOut('fast', function() {
                            $(plMContainer).remove();
                        });
                    });
                });

                // -----------------------------------------------
                // SWITCH TO REGISTRATION FORM
                // -----------------------------------------------
                $(plMShowRegBtn).click(function(e) {
                    e.preventDefault();
                    plResetForm();
                    $(plMLoginFrm).slideUp('fast', function() {
                        $(plMRegFrm).slideDown('fast', function(){
                            // set active form to registration
                            plActiveForm = plMRegFrm;
                            plSubmitUrl = plMRegisterSubmitUrl;
                        });
                    });
                });

                // -----------------------------------------------
                // SWITCH TO LOGIN FORM
                // -----------------------------------------------
                $(plMShowLoginBtn).click(function(e) {
                    e.preventDefault();
                    plResetForm();
                    $(plMRegFrm).slideUp('fast', function() {
                        $(plMLoginFrm).slideDown('fast', function(){
                            // set active form to login
                            plActiveForm = plMLoginFrm;
                            plSubmitUrl = plMLoginSubmitUrl;
                        });
                    });
                });

                // -----------------------------------------------
                // RESPONSE MESSAGES
                // -----------------------------------------------
                function plResponse(plMsg, plShowHide) {
                    var plResponse = $('.pl-response', plActiveForm);
                    if (plShowHide === true) {
                        $(plResponse).fadeIn('slow').html(plMsg);
                    } else if (plShowHide === false) {
                        $(plResponse).fadeOut('slow');
                    }
                }

                // -----------------------------------------------
                // RESET FORM BUTTON CLICK
                // -----------------------------------------------
                if (settings.plResetButton) {
                    var plResetBtn = $('.pl-reset-btn', plActiveForm);

                    $(plResetBtn).click(function (e) {
                        e.preventDefault();
                        plResetForm();
                    });
                }

                // -----------------------------------------------
                // RESET FORM FUNCTION
                // -----------------------------------------------
                function plResetForm() {
                    $('.pl-cust-response', plActiveForm).remove();
                    $('.pl-error', plActiveForm).removeClass('pl-error');
                    plResponse('', false);
                    plResetBtn.hide();
                    $(plActiveForm)[0].reset();
                }

                // -----------------------------------------------
                // FORM VALIDATION
                // -----------------------------------------------
                function plValidate() {
                    // remove custom errors if visible
                    $('.pl-cust-response', plActiveForm).remove();

                    // -----------------------------------------------
                    // CHECK - EMPTY REQUIRED FIELDS
                    // -----------------------------------------------
                    $(plActiveForm).find('.pl-required').each(function () {
                        var plEmptyCheck = $.trim($(this).val());
                        if (plEmptyCheck.length == 0) {
                            plResponse(PLLANG.MSG_03, true);
                            if (settings.plBubbleResponse) {
                                $(this).parent().append('<span class="pl-cust-response">' + PLLANG.MSG_04 + '</span>');
                                $('.pl-cust-response').fadeIn('slow');
                            }
                            $(this).addClass('pl-error');
                        } else {
                            $(this).removeClass('pl-error');
                        }
                    });

                    // -----------------------------------------------
                    // IF ERROR(S) FOUND
                    // -----------------------------------------------
                    var $errors = $('.pl-error', plActiveForm);
                    if ($errors.length > 0) {
                        if (settings.plResetButton) {
                            plResetBtn.show();
                        }
                        return false;
                    } else {
                        plResponse('', false);
                        return true;
                    }
                }

                // -----------------------------------------------
                // FORM SUBMIT
                // -----------------------------------------------
                plActiveForm.submit(function (e) {
                    e.preventDefault();

                    // if validation is ok
                    if (plValidate() === true) {
                        var plFormData = $(this).serialize();
                        plAjaxSubmit(plFormData);
                        $(plMLoading).show();
                    } else {
                        return false;
                    }
                });

                // -----------------------------------------------
                // AJAX SUBMIT FUNCTION
                // -----------------------------------------------
                function plAjaxSubmit(plFormData) {
                    $.ajax({
                        type: 'POST',
                        url: plSubmitUrl,
                        data: plFormData,
                        dataType: 'json',
                        cache: false,
                        timeout: 20000,
                        success: function (data) {
                            $.each(data, function(key, value) {
                                if (value.error == true) {
                                    // hide loading image
                                    $(plMLoading).hide();

                                    plResponse(value.msg, true);

                                    // show reset button
                                    if (settings.plResetButton) {
                                        plResetBtn.show();
                                    }
                                } else if (value.error == false) {
                                    // reset form
                                    plResetForm();

                                    // hide loading image
                                    $(plMLoading).hide();

                                    // display success message
                                    plResponse(value.msg, true);
                                }
                            });
                        },
                        error: function (XMLHttpRequest, textStatus, errorThrown) {
                            plResponse(PLLANG.MSG_06, true);

                            // hide loading image
                            $(plMLoading).hide();
                        },
                        complete: function (XMLHttpRequest, status) {
                            // hide loading image
                            $(plMLoading).hide();
                        }
                    });
                }
            }
        });
    });
};
})(jQuery);

// -----------------------------------------------
// INSTANTIATE MODAL LOGIN
// -----------------------------------------------
$(document).ready(function() {
    $('.pl-m').plMlogin({
        plTooltip : true,
        plResetButton : true,
        plBubbleResponse : true
    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T05:47:16.630

`.click(function(e){...})`与其使用方法，不如使用[`.on('click', function(e){...})`](http://api.jquery.com/on/)方法。该`.on()`方法适用于动态修改的 HTML，而其他事件方法仅适用于原始 HTML。

* * *

另外，只是一个建议，您可以像这样声明多个变量：

```
 var plMContainer = $('.pl-m-container'),
                plMWrap = $('.pl-m'),
                plMOverlay = $('.pl-m-overlay'),
                plMLoginFrm = $('#pl_frmMlogin'),
                plMRegFrm = $('#pl_frmMRegister'),
                plMLoading = $('.pl-loading'),
                plMCloseBtn = $('.pl-m-close'),
                plMShowRegBtn = $('#pl_showRegForm'),
                plMShowLoginBtn = $('#pl_showLoginForm'),
                plMLoginSubmitUrl = 'pl-module/public/login.php',
                plMRegisterSubmitUrl = 'pl-module/public/register.php',
                plActiveForm = plMLoginFrm,
                plSubmitUrl = plMLoginSubmitUrl; 
```

我不确定它在性能方面是否更好，但在我看来它看起来更有条理。

# python - 创建一个唯一的虚拟对象

> ID：12312245
> 
> 赞同：2
> 
> 时间：2012-09-07T05:32:31.277
> 
> 标签：python, python-3.x, constants, identity, initialization

我需要创建一个虚拟对象来标记列表中的未初始化元素（显然，字典会是更好的选择，但由于内存限制很大，我需要一个列表）。

我正在考虑为此目的使用具有以下属性的对象：

1.  它不等于除自身之外的任何其他对象。
2.  除了从原始引用（通过赋值或参数传递）之外，无法创建对它的引用。

`None`满足第一个但不满足第二个要求（因为它可以通过使用 literal 在程序中的任何位置创建`None`）。

我认为应该有效的一种方法是：

```
 UNINITIALIZED_VALUE = object() # will be compared for == through identity
  a = [1, UNINITIALIZED_VALUE, 2, UNINITIALIZED_VALUE]
  a[1] == a[3] # True
  a[0] == UNINITIALIZED_VALUE # False 
```

我想仔细检查一下我没有遗漏这种方法的任何潜在问题。（我正在使用 Python 3。）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T05:35:54.167

不，每个人都是这样做的。请注意，您不能在此类对象上设置任意属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T20:01:07.440

我只是在创建一个答案，因为我需要更多空间来回复@Lennart Regebro 的有趣评论。他的评论让我思考是否`a[0] is UNINITIALIZED_VALUE`更`a[0] == UNINITIALIZED_VALUE`合适。

我认为这取决于我（设计 的开发人员`UNINITIALIZED_VALUE`）是否承诺支持`is`、`==`或两者兼而有之。毕竟，除非给出明确的承诺，否则用户不应假设任何事情（因为如果他依赖于未记录的行为，则实现可能会更改并破坏他的代码）。

而且我实际上认为，如果我（作为设计师）承诺两者都会更好，`is`并且`==`如果值未初始化，将用于测试。如果不支持`==`，用户将无法编写如下内容：

```
def remove_duplicates(list_):
  return list(set(list_)) # requires that UNINITIALIZED_VALUE supports == 
```

只有一个小问题。作为我的设计者，`UNINITIALIZED_VALUE`我可以很容易地保证它`==`在 LHS 上的行为正确（我最初的单行实现确实如此）。但是，我不能保证它在 RHS 上时行为正确。毕竟，如果 LHS 上的对象对其比较语义具有疯狂的攻击性，并且与眼前的一切进行比较，我对此无能为力。可以说，这种攻击性行为几乎是一个错误。这就是为什么我认为这是一个小问题。

# html - 使用 css 宽度/高度值作为“继承”时出现问题，同时动态更改父级的尺寸

> ID：12312247
> 
> 赞同：0
> 
> 时间：2012-09-07T05:32:36.410
> 
> 标签：html, css

我创建了一个 HTML 页面，其中很少有元素被赋予 css 为：

.inheritDimensions{
宽度：继承；
身高：继承；
}

因此，这些元素取决于其父元素的尺寸。

最初呈现页面时一切都很好。但是（奇怪的事情来了），如果我动态更改父元素的高度/宽度，它们不会得到反映（或者更新的尺寸不会继承到 .inheritDimensions 元素）直到我点击浏览器上的某个地方！

在 Chrome、Safari、IE 中可以看到此问题。不过在FF中工作正常。

-SuryaPavan

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T05:42:20.927

尝试添加 !important

```
.inheritDimensions{
width: inherit !important;
height: inherit !important;
} 
```

# pgp - 获取 PGP 私钥

> ID：12312248
> 
> 赞同：16
> 
> 时间：2012-09-07T05:32:37.580
> 
> 标签：pgp

我想知道 PGP 中数据加密和解密的工作原理。作为加密的一部分，“gpg --gen-key”用于生成密钥，我得到了一个公钥，但我不知道如何获得私钥。它是否存储在特定位置？有什么命令可以生成吗？我没有任何线索。

这在我所关注的文档中没有指定。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-09-07T05:36:25.003

私钥不像公钥那样“可见”，但您可以按照以下说明获取它：

您可以通过这种方式列出私钥，以检查它是否存在：

```
gpg --list-secret-keys 
```

并且您可以在备份密钥时使其可见：

```
gpg --armor --export-secret-keys your_email@domain.com > your_name.asc 
```

# android - 内容提供者实例和数据库同步

> ID：12312251
> 
> 赞同：3
> 
> 时间：2012-09-07T05:33:20.550
> 
> 标签：android, database-design

当我们从多个内容解析器（在不同的进程中）或线程访问内容提供者时，它是否会创建多个提供者实例？如果是，实例是如何创建的，数据库读写操作是如何同步的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:43:00.003

默认情况下，只有一个 Content Provider 实例，并且它托管在托管 Content Provider 所属应用程序的进程中。可以通过这样的方式对其进行配置，即在每个使用该 Content Provider 的进程中创建一个单独的 Content Provider 实例。此配置`AndroidManifest.xml`在 Content Provider 所属的应用程序中完成。参考[这个](http://developer.android.com/guide/topics/manifest/provider-element.html#multi)

# python - py2exe 无法正确编译我的应用程序

> ID：12312253
> 
> 赞同：1
> 
> 时间：2012-09-07T05:33:21.963
> 
> 标签：python, py2exe

我以前从未使用过 py2exe。我安装了这个包，创建了一个 setup.py，运行它，它似乎可以正常工作，没有任何明显的错误。我进入它创建的 dist 文件夹并尝试运行 exe，但出现此错误：

```
Traceback (most recent call last):
  File "rl2.py", line 3, in <module>
  File "libtcodpy.pyc", line 41, in <module>

  File "ctypes\__init__.pyc", line 428, in __getitem__
  File "ctypes\__init__.pyc", line 423, in __getattr__
  File "ctypes\__init__.pyc", line 353, in __init__
WindowsError: [Error 126] The specified module could not be found 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-09T12:09:43.513

我今天有同样的问题。这是解决方案将 100% 工作

错误的意思是你代码中导入的dll文件在创建的dist文件夹中是misssng。所以你必须将dll文件复制并粘贴到dist文件夹中，它会起作用。

我使用了 logimove.dll 文件和同样的问题。所以我将 logimove.dll 文件放在 dist 文件中，它可以工作。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T13:38:27.540

您可能需要在 setup.py 的 packages 部分手动指定 ctypes。

看[这里](http://www.py2exe.org/index.cgi/ListOfOptions)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T13:25:37.070

您使用了哪些确切的命令来获得此输出？

我推荐使用 PyInstaller。您可以使用以下命令使用 PyInstaller 构建 EXE：

“python pyinstaller.py -y -w -F [PATH\TO\SCRIPT.py] -n [PROJECT_NAME]”

1.  -y：对每个问题都回答是
2.  -w：窗口化（运行时不显示命令行）
3.  -F：编译成一个EXE而不是一个带有.dll文件的目录
4.  -n：分配项目名称

希望我有所帮助

# php - 如何在连续显示 5 件事后自动创建内爆？

> ID：12312254
> 
> 赞同：0
> 
> 时间：2012-09-07T05:33:30.553
> 
> 标签：php

我想让 implode 只显示 5 个数组，然后它会自动创建一个新行，再次显示 5 个数组，并且它会不断重复。像可以使用 `<br />`或我必须使用的其他东西吗？

```
$result = mysql_query("SELECT * FROM `im_album` WHERE username = '".$user_data['username']."'  ");
$types = array();
$d_array = array();
while(($row =  mysql_fetch_assoc($result))) {
    $types[] = $row['name'];
    $d_array[] = $row['description'];
}
echo "<h1>".implode($types )."</h1>" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T05:47:53.037

你可以这样做：

```
<?php

//sample array
$types = array("John", "Doe", "Bar", "Baz", "Stock", "Overflow", "Meta" );

//Count the number of elements in $types
$types_count = count($types);

//Use $foo1, $foo2, $foo3 as the output array names
$out_types_count = 1;
$out_types_arr = "foo".$out_types_count;

for($i=1;$i<=$types_count;$i++){
    $out_types_arr[] = $types[$i];
    if(($i%5) == 0){ // if we $i == 5,10,15 etc, 
        $out_types_count++; // use $foo2
        $out_types_arr = "foo".$out_types_count;
    }
}// for loop ENDS

//Echo all the output    
for($i=1;$i<=$out_types_count;$i++){
    for($j=0;$j<=5;$j++){
        echo $out_types_arr.$i[$j];
    }
    echo "<br />".PHP_EOL;
}

?> 
```

PS 代码有一些错误和少量不想要的输出。因为 OP 已经得到了他想要的答案，所以我稍后会在家里更正它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-07T05:55:53.057

试试这个：

```
$result = mysql_query("SELECT * FROM `im_album` WHERE username = '".$user_data['username']."'  ");
$types = array();
$d_array = array();
$types_str="";
$types_str_array=array();
$temp=1;
while(($row =  mysql_fetch_assoc($result))) {

    $types_str .=$row['name'];

    if($temp!=1 && $temp%5==0)
    {
        $types_str_array[]=$types_str;
        $types_str="";
    }

    $types[] = $row['name'];
    $d_array[] = $row['description'];

    $temp++;
}
echo "<h1>".implode("<br />",$types_str_array )."</h1>"; 
```

# java - 如果html表格中的任何单元格为空，如何突出显示整行

> ID：12312259
> 
> 赞同：0
> 
> 时间：2012-09-07T05:34:03.803
> 
> 标签：java, html

我使用下面的代码在邮件正文中创建了 html 表

```
 st = con.createStatement();
            rs = st.executeQuery("SELECT nvl(tt.ACTIVITY_NAME,'') as ACTIVITY_NAME, "
                    + " nvl(tt.TL_NAME,'') TL_NAME, "
                    + " nvl(tt.UW_NAME,'') UW_NAME, "
                    + " nvl(tt.TAT_1,'') TAT_1,"
                    + " nvl(tt.TAT_2,'') TAT_2, "
                    + " nvl(tt.TAT_3,'') TAT_3, "
                    + " nvl(tt.TAT_4,'') TAT_4, "
                    + " nvl(tt.TAT_4_PLUS ,'') TAT_4_PLUS, "
                    + " nvl(tt.g_total ,'') AS GRAND_TOTAL "
                    + " FROM uw_activity_tl_uw_tat tt "
                    + " WHERE tt.ACTIVITY_NAME = 'First UW' "
                    + " ORDER BY tt.TL_NAME,tt.UW_NAME");
            StringBuffer sb = new StringBuffer();

            ResultSetMetaData rsmd = rs.getMetaData();
            int numColumns = rsmd.getColumnCount();
            for (int i = 1; i < numColumns + 1; i++) {
                String columnName = rsmd.getColumnName(i);
                sb.append("<th bgcolor=#fcbe07>" + columnName + "</th>");
            }
            ArrayList<String> a = new ArrayList<String>();

            while (rs.next()) {

                a.add(rs.getString(3));

                if (rs.getRow() % 2 == 0) {
                    sb.append("<tr bgcolor=#fcf6cf>");
                    for (int i = 1; i < numColumns + 1; i++) {
                        if (rs.getString(i) == null) {
                            if(i==3)
                            {
                                sb.append("<td bgcolor=#fcbe07><b>"+ " "+ "</b></td>");

                            }

                        } else {

                            if (i == 6 || i == 7 || i == 8)
                                sb.append("<td><FONT COLOR=#ff0000>"
                                        + rs.getString(i) + "</FONT></td>");
                            else if(i==3 && (rs.getString(3).equalsIgnoreCase("") || rs.getString(3)==null)){
                                sb.append("<td bgcolor=#fcbe07><b>"+ rs.getString(i) + "</b></td>");
                            }else{
                                sb.append("<td>" + rs.getString(i) + "</td>");
                            }
                        }
                    }

                    sb.append("</tr>");
                } else {

                    sb.append("<tr>");
                    for (int i = 1; i < numColumns + 1; i++) {
                        if (rs.getString(i) == null) {
                            if(i==3)
                            {
                                sb.append("<td bgcolor=#fcbe07><b>"+ " " + "</b></td>");

                            }

                        } else {
                            if (i == 6 || i == 7 || i == 8)
                                sb.append("<td><FONT COLOR=#ff0000>"
                                        + rs.getString(i) + "</FONT></td>");
                            else if(i==3 && (rs.getString(3).equalsIgnoreCase("") || rs.getString(3)==null)){
                                sb.append("<td bgcolor=#fcbe07><b>"+ rs.getString(i) + "</b></td>");
                            }else{
                                sb.append("<td>" + rs.getString(i) + "</td>");
                            }
                        }
                    }

                    sb.append("</tr>");

                }

            }

            String html = "<html>" + message.getSubject()
                    + "</title></head><body><table border=\"1\">"
                    + sb.toString() + "</table></body></html>";
            message.setContent(html, "text/html"); 
```

在图像中，只有一个单元格被突出显示，我想突出显示包含任何空单元格的整行。请指导。我的查询是如果任何单元格为空，如何突出显示整行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T05:43:46.883

简短回答：移动第三列的检查并更改`<tr>`行。

说实话，你的代码有点乱。就个人而言，我会进行以下更改，这将使维护*变得*更加容易：

1.  切换到使用类而不是硬编码 bgcolors 等等。
2.  设置您的系统以返回关联数组而不是数值数组。这将使阅读代码后变得容易得多。
3.  设置中间变量来保存返回的值。在那里进行任何和所有的计算和设置。然后一次性转储整个表格行。这将您的“功能”代码与“显示代码”分开。

然而，在紧要关头，这样的事情会让你继续前进：

```
tmp = rs.getString(3);
if (tmp == null) {
  sb.append("<tr bgcolor=#ffffff>");
} else {
  sb.append("<tr bgcolor=#fcf6cf>");
} 
```

顺便说一句 - 您生成的 HTML 无效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T05:48:32.573

在我的头顶

```
boolean cellNull = false;
while(rs.next()){
    cellNull = false;
    cellNull = checkIfAnyFieldIsNull(rs);
    if(cellNull)
        sb.append("<tr bgcolor=\"#WTH\">");
    else
        sb.append("<tr>");

    //create rest of the row content here
}

private boolean checkIfAnyFieldIsNull(ResultSet rs){
    for(i=0 etc..){
        if(rs.getString(i) == null)
            return true;
    }
    return false;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T05:48:30.250

一种方法如下：

*   创建一个[`POJO`](http://en.wikipedia.org/wiki/Plain_Old_Java_Object)包含所有要显示的列的类。还有一个*布尔*变量，比如*empty*。*如果您的任何一列为空*，请将其设置为 true
**   创建一个 ArrayList 并在遍历*结果集时添加类的每个实例**   现在使用这个*ArrayList*来渲染你的输出。由于您已经有了可用的布尔变量，您可以使用此值来设置行的背景颜色。*

# javascript - 在 Ajax 调用上初始化主干视图

> ID：12312260
> 
> 赞同：0
> 
> 时间：2012-09-07T05:34:06.507
> 
> 标签：javascript, backbone.js, coffeescript

我正在尝试使用此发布到弹簧端点-

```
 _checkForInfiniteScrolling:=>
    query = @options.query
    scrollElement = @searchResultContainerElem[0]
    prog = (scrollElement.scrollTop + scrollElement.offsetHeight)/scrollElement.scrollHeight
    if (prog > 0.8) and !@endData and scrollElement.scrollTop > 0
      console.log("hitting ajax")
      @getMoreResults(query)

  getMoreResults:(query)=>
    longitude = query.get("longitude")
    latitude = query.get("latitude")
    if (longitude!="" && latitude !="")
      @findMoreLocationPlates(query)
    else
      @findMorePartialPlates(query)

  findMorePartialPlates:(query)=>
    console.log("in find more partial plates")
    $.ajax({
      type: 'POST',
      data: query,
      url: "someUrl"
      success: @_appendNewResults
      }) 
```

但是，它正在调用另一个模型中存在的此函数-

```
 loadSearchHistory:=>
    console.log("load search being called")
    $.ajax({
      type: 'GET',
      url: "anotherUrl",
      success:@_searchHistoryLoaded
      });

  _searchHistoryLoaded:(data)=>
    console.log("wtf?")
    searchHistoryView = new SearchHistory(pastSearches:data) 
```

奇怪的是，_searchHistoryLoaded 被调用，然后 loadSearchHistory 被调用，这永远不会发生，因为 _searchHistoryLoaded 永远不会从另一个函数调用。

为了提供帮助，这是错误的堆栈 -

```
 PlateSearchQuery._searchHistoryLoaded (-search.js:78)
(anonymous function) (-search-results.js:4)
jQuery.extend.param.add (jquery-1.7.1.js:7601)
buildParams (jquery-1.7.1.js:7658)
jQuery.extend.param (jquery-1.7.1.js:7621)
jQuery.extend.ajax (jquery-1.7.1.js:7467)
handleAjax (jquery.mockjax.js:469)
PlateResultsView.findMorePartialPlates (-search-results.js:227)
(anonymous function) (-search-results.js:4)
PlateResultsView.getMoreResults (-search-results.js:221)
(anonymous function) (-search-results.js:4)
PlateResultsView._checkForInfiniteScrolling (-search-results.js:210)
(anonymous function) (-search-results.js:4)
jQuery.event.dispatch (jquery-1.7.1.js:3256)
$event.dispatch (jquery.event.drag-2.2.js:374)
jQuery.event.add.elemData.handle.eventHandle (jquery-1.7.1.js:2875) 
```

诚然，任何人都可能很难解决这个问题，关于如何调试它的建议也将不胜感激。

编辑-

跟踪错误 - 我现在已经建立了当我在 console.log("wtf?)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T06:35:47.353

答案相当简单，在进行 ajax 调用时，数据应该是 JSON 对象而不是 Backbone 对象。

# objective-c - 解压文件（Objective-C）

> ID：12312261
> 
> 赞同：0
> 
> 时间：2012-09-07T05:34:10.153
> 
> 标签：objective-c, ios, cocoa-touch, zip

> **可能重复：**
> [在可可](https://stackoverflow.com/questions/2296667/unzipping-a-file-in-cocoa)
> [下载中解压缩文件并在 iOS 中解压缩文件](https://stackoverflow.com/questions/11333399/download-and-unzip-file-in-ios)

如何在目标 c 中解压缩文件？我在 nsfilemanager 中没有看到任何方法。我还需要使用其他课程吗？我不知道，如果你能帮助我，我会很高兴的。

# php - 为什么连接被重置？Joomla 和 MySQL

> ID：12312262
> 
> 赞同：0
> 
> 时间：2012-09-07T05:34:17.610
> 
> 标签：php, mysql, sql, joomla, joomla1.7

```
SELECT t1.id,t1.tx_id,t1.tx_date,t1.bx_date,t1.method,t1.theater_id,t1.showtime_id,t1.category_id,t1.amount,t1.fname,t1.status,t1.mobile,(CASE WHEN (t4.type = '1') THEN ( (t1.full_tickets * 2 ) + (t1.half_tickets)) ELSE ( t1.full_tickets + t1.half_tickets ) END) as no_seats ,u.username FROM 'reservation` as t1 LEFT JOIN `theatercategories` as t4 ON t1.category_id=t4.id JOIN `users` AS u ON u.id = t1.user_id WHERE t1.bx_date >= '2012-08-01' AND t1.bx_date <= '2012-08-31' ORDER BY t1.id desc 
```

以上查询返回“ `The connection was reset`”错误。

它加载了 75,000 条记录（总共 75,195 条，查询耗时 15.2673 秒）。我将 MYSQL 与 Joomla 一起使用。似乎是什么问题？

请指导我。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:38:59.483

有许多可能的解决方案......取决于“为什么”......所以它最终会有点反复试验。在全新安装时，这很难确定。但是，如果您最近进行了“重大”更改，则可以开始寻找 - 比如修改虚拟主机或添加/启用 XDebug。

这是我过去使用/做过/尝试过的事情的列表

*   检查无限循环......特别是循环通过一个 SQL 提取结果，该结果在 99% 的时间内都有效，除了 1% 没有。在一种情况下，我使用前两个查询的结果作为 for 循环的上限和下限...偶尔会得到一个 UINT max 的上限... har har har (vomit)

    将 ./php/libmysql.dll 复制到 windows/system32 目录（特别是如果您看到 Parent: child process exited with status 3221225477 -- Restarting in your log files ... 查看： [http://www.java-samples .com/showtutorial.php?tutorialid=1050](http://www.java-samples.com/showtutorial.php?tutorialid=1050)）

    如果您在运行时修改 PHP 的 error_reporting ...会做这种邪恶的黑客行为吗？咳咳）

    如果您将 MySQL 转换为 MyISAM 或 mysqli 以外的其他内容

    MySQL 存在一个与 MyISAM、UTF8 字符集和索引相关的已知错误 (http://bugs.mysql.com/bug.php?id=4541) 解决方案是使用 InnoDB 方言（例如 sql set GLOBAL storage_engine=' InnoDb';)

    这样做会改变新表的创建方式……这可能会稍微改变结果返回到 fetch 语句的方式……导致无限循环、格式错误的数据集等（尽管此更改不应挂起数据库本身）

    其他有用的项目是在其配置文件中增加 PHP 和 apache 的调试报告并重新启动服务器。日志文件有时会提供至少问题可能出在哪里的线索。如果它在您的页面内容完成后发生，则更有可能在 php 设置中。如果是在页面构建期间，请检查您的 PHP 代码。等等等等。

希望上面的洗衣清单有帮助......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T05:39:14.873

只需刷新您的数据库链接，它可能由于某种原因断开连接，

# entity-framework - Is there any reason to use ObjectContext transaction handling with DbContext's SaveChanges?

> ID：12312272
> 
> 赞同：0
> 
> 时间：2012-09-07T05:35:14.783
> 
> 标签：entity-framework, transactions, dbcontext, objectcontext

I have a code like this:

```
public abstract class DataContextBase
{
    public DbContext DbContext { get; protected internal set; }
    public ObjectContext ObjectContext { get; protected internal set; }
    protected DbTransaction transaction;

    protected void SetContext(DbContext db, ObjectContext oc)
    {
        DbContext = db;
        ObjectContext = oc;
    }

    public void BeginTransaction()
    {
        if (ObjectContext.Connection.State != System.Data.ConnectionState.Open)
        {
            ObjectContext.Connection.Open();
        }
        transaction = ObjectContext.Connection.BeginTransaction();
    }

    public void CommitTransaction()
    {
        try
        {
            transaction.Commit();
        }
        finally
        {
            transaction = null;
            ObjectContext.Connection.Close();
        }
    }

    public void RollbackTransaction()
    {
        try
        {
            transaction.Rollback();
        }
        finally
        {
            transaction = null;
            ObjectContext.Connection.Close();
        }
    }

    public void Save()
    {
        DbContext.SaveChanges();
    }
} 
```

It is from a sample application, and I use this as a base class of my application's main data context. I'm using Entity Framework 5, and I have just read that when I call the DbContext's SaveChanges method, it always runs in a database transaction and it will throw an exception when the transaction have to be rollbacked and in this case the changes are not saved into the database.

But in the sample application, almost every service method begins with a DataContextBase.BeginTransaction call and ends with a DataContextBase.CommitTransaction call (in an exceptional case it ends with DataContextBase.RollbackTransaction) even though that DataContextBase.Save is called (which calls DbContext.SaveChanges()).

It looks like there is an extra transaction wrapping the built in transaction of the DbContext.SaveChanges call.

Could there be any situation which needs this extra transaction?

NOTE: The DataContextBase's ObjectContext is come from the DbContext with a trick:

```
((IObjectContextAdapter)this).ObjectContext; // inside the DbContext class 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:29:44.270

Having an extra transaction is redundant because `ObjectContext/DbContext` implements Unit of Work. If you have other means of communicating with the database and they also need to be part of the transaction the use `TransactionScope`.

Connection management is also done by EF and you do not have to

# java - 是否有支持韩语的 Java SQL 解析器？

> ID：12312278
> 
> 赞同：3
> 
> 时间：2012-09-07T05:35:57.317
> 
> 标签：java, sql, parsing, character-encoding, multilingual

我必须用 Java 解析 SQL 语句。我正在尝试使用[zql](http://zql.sourceforge.net/)和[gsp（通用 sql 解析器）](http://www.sqlparser.com/)，但它们不支持韩语，从而触发词法异常。

示例语句：

```
select * from test where name = '한글왜안됨' 
```

任何人都可以提出解决方案或替代解析器吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T06:44:10.303

还有[JSQLParser](http://jsqlparser.sourceforge.net/)的语法部分。它是用 JavaCC 构建的，因此它应该可以处理所有字符集，或者可以很容易地对其进行修改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-08T13:41:29.110

[最近在https://github.com/JSQLParser/JSqlParser](https://github.com/JSQLParser/JSqlParser)的 JSqlParser 的分支切换到 UTF-8 解析。已经有专门的德语字母部分。您可以像这样为**标识符**添加韩语。**引用的字符串**应该已经为您工作，无需任何更改。

```
String sql ="select * from test where name = '한글왜안됨'";
Select select = (Select) CCJSqlParserUtil.parse(sql);
System.out.println(select.toString()); 
```

这段代码通过了我的测试，没有使用 JSqlParser V0.8.8 进行任何修改。

# scala - 这个 Play 2 ScalaTemplates 代码是如何工作的

> ID：12312280
> 
> 赞同：2
> 
> 时间：2012-09-07T05:36:13.997
> 
> 标签：scala, playframework-2.0

请解释下面的代码：

```
@title(text: String) = @{
  text.split(' ').map(_.capitalize).mkString(" ")
}

<h1>@title("hello world")</h1> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T05:58:09.757

[可重用代码块](http://www.playframework.org/documentation/2.0/ScalaTemplates)的分解 `@title(text: String)`

1.  `text.split( ' ' )`**通过用' '**分割字符串将文本分成一个*列表*，例如*"hello world"*将变为*["hello", "world"]*

*****   `map(_.capitalize)`迭代*List*，调用`capitalize`每个元素，并返回新的 List，例如*["hello", "world"]*变为*["Hello", "World"]*。[这篇博](http://ananthakumaran.in/2010/03/29/scala-underscore-magic.html)文很好地概述了**_**。

    *   `mkString(" ")`**通过使用" "**连接字符串，将*List*转换回*字符串*，例如*["Hello", "World"]*变为*"Hello World"***** 

 *******总之，`@title(text: String)`将字符串中的所有单词大写。

这`<h1>@title("hello world")</h1>`就是您如何在[ScalaTemplate](http://www.playframework.org/documentation/2.0/ScalaTemplates)中输出结果。*******

# parallel-processing - Open CL：一个本地组可以在多个计算单元中执行吗？

> ID：12312289
> 
> 赞同：0
> 
> 时间：2012-09-07T05:37:23.120
> 
> 标签：parallel-processing, opencl

我正在 CPU 上使用 OpenCL 进行实验。我的内核中有一个循环，本地组中的所有线程在每次迭代中间和每次迭代结束时都同步。我这样做的原因是因为在我看来，在每次迭代中创建 cl_mem 对象和将内核排队的开销大于并行化的好处。

我向内核传递了一个本地组大小，该大小等于全局工作大小，用于同步目的。在我看来，内核是在一个 CPU 核心上执行的，而不是在所有 CPU 核心上执行的。

一个本地组可以在多个计算单元中执行吗？如果没有，是否有保持多个计算单元之间的同步？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T06:22:37.780

您无法在执行期间同步不同的工作组。

计算单元通常是一组处理器，它们能够进行通信以同步其任务。例如，一个 Nvidia 计算单元（流式多处理器）有 8 个流式处理器，并且只能同步在这个特定计算单元中运行的任务。

如果你真的有你提到的开销，我会先尝试找出：

同步的工作原理以及简单地将多个内核排队的效率取决于您使用的系统。CPU 非常擅长处理许多不同的内核，因为您不必将它们传输到 GPU 内存或类似的。

我建议您对其进行基准测试，OpenCL 提供了强大的分析功能！您必须使用 CL_QUEUE_PROFILING_ENABLE 初始化队列，然后您可以打印每个事件对象的分析信息，例如（我正在使用 C++-Bindings）：

```
std::vector<cl::Event> evts;
//[Create some event objects by enqueueing and executing kernels]
for (unsigned int i=0; i<evts.size(); i++) {
  evts[i].getProfilingInfo(CL_PROFILING_COMMAND_QUEUED, &param);
  printf("%u: %llu", i, param);
  evts[i].getProfilingInfo(CL_PROFILING_COMMAND_SUBMIT, &param);
  printf(" %llu", param);
  evts[i].getProfilingInfo(CL_PROFILING_COMMAND_START, &param);
  printf(" %llu", param);
  evts[i].getProfilingInfo(CL_PROFILING_COMMAND_END, &param);
  printf(" %llu\n", param);
} 
```

# android - 应用程序类数据是否会在应用程序从 Android 中的长时间休眠中唤醒后持久化？

> ID：12312291
> 
> 赞同：0
> 
> 时间：2012-09-07T05:37:25.717
> 
> 标签：android

我正在使用应用程序类来保存所有意图的全局数据。那么，如果应用程序进入后台并且 5 小时后我从图标启动应用程序，数据是否可用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T05:42:35.163

系统可以随时终止您的应用程序，因此您必须将内容保存在一些持久性存储中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:44:46.437

这是完全不可预测的。根据文档，只要资源允许，android 就会尝试保持进程（以及你的应用程序类）。例如，如果某些具有更高优先级的服务需要资源，您的进程可能会被杀死。但是，您无法确定地预测它。我建议使用[SharedPreferences](http://developer.android.com/reference/android/content/SharedPreferences.html)或 ContentProvider 机制（取决于您的数据）然后停止您的最后一个活动，以确保不会丢失任何基本数据。

# ruby-on-rails - RailsTutorial.org - 第 8 章 - 登录？抛出错误

> ID：12312300
> 
> 赞同：1
> 
> 时间：2012-09-07T05:38:08.667
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, railstutorial.org

如果用户登录，我正在尝试显示导航栏。

在我的 application.html.erb 我有一行 `<% if signed_in? %>`- 这导致了错误：

`NoMethodError in Static_pages#home`

`undefined method '[]' for nil:NilClass`

```
Extracted source (around line #16):

13:   </head>
14:   <body>
15: 
16:     <% if signed_in? %>
17:      <div class="navbar navbar-fixed-top">
18:       <div class="navbar-inner">
19:         <div class="container">` 
```

这是我的**SessionsHelper：**

```
def sign_in(user)
    cookies.permanent[:remember_token] = user.remember_token
    self.current_user = user
end

def signed_in?
    !current_user.nil?
end

def current_user=(user)
    @current_user = user
end

def current_user
    puts 'current_user called'
    @current_user ||= User.find_by_remember_token(cookies.permanent[:remember_token])
end

def sign_out
    self.current_user = nil
    cookies.delete(:remember_token)
end 
```

我的**应用程序控制器：**

```
class ApplicationController < ActionController::Base
  protect_from_forgery
  include SessionsHelper
end 
```

我似乎无法弄清楚为什么`!current_user.nil?`会破坏页面。`!current_user.nil?`当我在方法中注释掉时，`signed_in?`可以在不破坏页面的情况下调用。但我显然没有得到`signed_in`我希望的价值。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T08:22:32.573

这里提出了异常：`cookies.permanent[:remember_token]`

所以，`cookies.permanent`是零

---- 已编辑

知道了，

仅用于`cookies.permanent[:remember_token] =`写作，但将其读作`cookies[:remember_token]`

# sql - 如何在 Oracle PL/SQL 类型中定义无参数构造函数？

> ID：12312302
> 
> 赞同：1
> 
> 时间：2012-09-07T05:38:16.507
> 
> 标签：sql, oracle, plsql

如何在 Oracle PL/SQL 类型中定义无参数构造函数？我试过这个：

```
create or replace type FooBar as object
(
    constructor function FooBar() return self as result
);

...

foo_bar := FooBar(); 
```

但是类型声明中的空参数列表会引发 PLS-00103。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-07T08:44:17.030

无参数函数的名称后不需要括号，并且需要为构造函数的主体定义：

```
create or replace type FooBar as object
(
    bar NUMBER(1,0)
    ,constructor function FooBar return self as result
);
/

create or replace type body FooBar is

    constructor function FooBar return self as result
    IS
    BEGIN
    RETURN;
    END;
end;
/

    declare 
     foo foobar;
    begin
      foo := foobar();
    end;
   / 
```

# java - 创建菜单时出现奇怪的崩溃

> ID：12312303
> 
> 赞同：0
> 
> 时间：2012-09-07T05:38:18.980
> 
> 标签：java, android, menu, crash

我正在改变我内部的东西，`onCreateOptionsMenu`我遇到了一个非常奇怪的崩溃。**Logcat**告诉我它崩溃了：

这是崩溃：

```
at com.mycompany.myapp.MainActivity.onCreateOptionsMenu(MainActivity.java)
at android.app.Activity.onCreatePanelMenu(Activity.java:2476) 
```

这是一个空指针异常。

这是我的`onCreateOptionsMenu`：

```
 @Override
public boolean onCreateOptionsMenu(Menu menu)
{
    MenuInflater menuInflater = getMenuInflater();
    menuInflater.inflate(R.layout.main_menu, menu);

    MenuItem shareNew = menu.findItem(R.id.shareNew);
    MenuItem shareOld = menu.findItem(R.id.shareOld);

    mShareActionProvider = (ShareActionProvider) shareNew.getActionProvider();
    mShareActionProvider.setShareIntent(createShareIntent());

    if (Build.VERSION.SDK_INT < Build.VERSION_CODES.JELLY_BEAN) {
        shareOld.setVisible(true);
        shareNew.setVisible(false);
    } else {
        shareOld.setVisible(false);
        shareNew.setVisible(true);
    }

    MenuItem searchItem = menu.findItem(R.id.action_search);

    mSearchView = (SearchView) searchItem.getActionView();
    mSearchView.setQueryHint("Search articles");

    setupSearchView(searchItem);

    return true;

} 
```

这是我的`main_menu.xml`：

```
<item
    android:id="@+id/starred"
    android:title="Starred articles"    />

<item
    android:queryHint="Search articles"
    android:id="@+id/action_search"
    android:title="Search"
    android:icon="@drawable/search"
    android:showAsAction="always"
    android:actionViewClass="android.widget.SearchView" />

<item

    android:actionProviderClass="android.widget.ShareActionProvider"
    android:id="@+id/shareNew"
    android:title="Share"
    android:showAsAction="ifRoom"
    android:icon="@drawable/share"/>

<item

    android:id="@+id/shareOld"
    android:title="Share"
    android:showAsAction="ifRoom"
    android:icon="@drawable/share"/>

<item
    android:id="@+id/star"
    android:title="Star article"
    android:showAsAction="ifRoom"
    android:icon="@drawable/star"   />

<item
    android:id="@+id/refresh"
    android:title="Refresh"
    android:icon="@drawable/refresh"    
    android:showAsAction="ifRoom"   />

<item
    android:id="@+id/forward"
    android:title="Forward"
    android:icon="@drawable/forward"
    android:showAsAction="ifRoom"   />

<item
    android:showAsAction="ifRoom"
    android:icon="@drawable/copy"
    android:id="@+id/copy"
    android:title="Copy url"    />

<item
    android:id="@+id/browser"
    android:title="Open in browser" />

<item
    android:id="@+id/startPage"
    android:title="Use as startpage"    />

<item
    android:id="@+id/random"
    android:title="Random article"  />

<item
    android:id="@+id/settings"
    android:title="Settings"    /> 
```

帮助会非常感激（并且需要：p）

# objective-c - Objective-C：带有_的属性

> ID：12312304
> 
> 赞同：-1
> 
> 时间：2012-09-07T05:38:45.670
> 
> 标签：objective-c

> **可能重复：**
> [可可objective-c 类中变量前面的下划线如何工作？](https://stackoverflow.com/questions/822487/how-does-an-underscore-in-front-of-a-variable-in-a-cocoa-objective-c-class-work)

我现在经常看到这样的声明：

```
@property SomeClass* foo;

@synthesize foo=_foo; 
```

大多数示例也使用 ARC，但我不确定它是否与此相关。我有一种感觉，我错过了一些明显的东西，但不能把我的手指放在它上面。

任何的想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:52:40.753

它没有连接到 ARC。@property 关键字是用于向编译器（和类用户）指示该“属性”将存在 getter 和 setter 方法的功能。在这种情况下，期望会有一个名为“foo”的getter 方法和一个名为“setFoo”的setter 方法。@synthesize 关键字告诉编译器合成一个通用的 getter 和 setter 方法，而不是你自己提供。@synthesize foo=_foo 告诉编译器将这些泛型方法与名为“_foo”的支持实例变量合成。这个 _propertyName 表示法是许多 Objective C 开发人员使用的风格选择。基本结果是您得到以下代码：

```
- (SomeClass *)foo
{
   return _foo;
}

- (void)setFoo:(SomeClass *)value
{
    _foo = value;
} 
```

编译器可能在合成的 getter 和 setter 中提供了一些额外的特性，但这就是它的要点。

# regex - Perl中如何匹配汉字？

> ID：12312310
> 
> 赞同：1
> 
> 时间：2012-09-07T05:39:18.400
> 
> 标签：regex, perl

Perl中如何匹配汉字？为什么

```
$ perl -e 'if ( "中国" =~ /\p{Han}/ ) { print "!"}'
$ 
```

不工作？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-07T05:50:38.767

如果您的源代码是 UTF-8，则需要使用`use utf8;`. 如果不是 UTF-8，则源中不可能有任何汉字符。

```
$ perl -le'use utf8; if ( "中国" =~ /\p{Han}/ ) { print "!" }'
! 
```

# php - Zend-pdf：Pdf 不以 %PDF-1.4 开头

> ID：12312315
> 
> 赞同：0
> 
> 时间：2012-09-07T05:39:41.107
> 
> 标签：php, zend-framework, header, http-headers, zend-pdf

我在magento 1.7中尝试过如下

```
 $pdf = new Zend_Pdf(); 
  ....
  ....
 $pdfString = $pdf->render();
 header("Content-Disposition: attachment; filename=helloworld.pdf");
 header("Content-type: application/x-pdf");
 echo $pdfString; 
```

现在的问题是，生成 PDF 时会抛出错误消息：Pdf 不以 %PDF-1.4 开头。我还注意到它包含 html 内容。谁能告诉我我应该怎么做才能避免 html 内容被附加到 Pdf 自己的内容中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T07:06:27.023

[windows 7中zend_pdf文档](https://stackoverflow.com/questions/12279768/zend-pdf-document-issue-in-windows-7)重复问题

坚持`ob_end_clean()`在`echo`声明之前。

# php - 由数据库填充的 PHP 下拉列表将使用 javascript

> ID：12312316
> 
> 赞同：1
> 
> 时间：2012-09-07T05:39:57.883
> 
> 标签：php, javascript, html

我有这个从数据库中获取项目的 php 代码，当单击按钮时，我必须在我的 JavaScript 代码中使用这个下拉列表来复制相同的下拉列表

```
function dup(){  
     }

 <?php 
  include('view/connect.php');

  $sql="SELECT ss_code FROM ss WHERE sn_id = 1";

  $result =mysql_query($sql);
  $dropdown = "<select name='users'>";

  while($row = mysql_fetch_assoc($result)) {
     $b = $row['ss_code'];
     $dropdown .= "\r\n<option value='{$b}'>{$b}</option>";

  }

  $dropdown .= "\r\n</select>";

  echo $dropdown;

 ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:42:30.403

将所有项目放入一个数组中，然后将 JavaScript 变量设置为通过将其编码为 JSON 所返回的值。

```
var iarray = <?php echo json_encode($items); ?>; 
```

然后遍历结果数组并从中创建下拉。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:44:00.700

你是什​​么意思相同的下拉？如果你想要相同的下拉而不改变按钮点击你可以使用 jQuery `.clone()`。

# javascript - 如何知道字体（@font-face）是否已经加载？

> ID：12312323
> 
> 赞同：83
> 
> 时间：2012-09-07T05:40:17.543
> 
> 标签：javascript, jquery, css, font-face, font-awesome

我正在使用 Font-Awesome，但在未加载字体文件时，图标会显示为 。

所以，我希望这些图标`display:none`在文件未加载时具有。

```
@font-face {
  font-family: "FontAwesome";
  src: url('../font/fontawesome-webfont.eot');
  src: url('../font/fontawesome-webfont.eot?#iefix') format('eot'), url('../font/fontawesome-webfont.woff') format('woff'), url('../font/fontawesome-webfont.ttf') format('truetype'), url('../font/fontawesome-webfont.svg#FontAwesome') format('svg');
  font-weight: normal;
  font-style: normal;
} 
```

我怎么知道这些文件已经加载并且我终于能够显示图标了？

**编辑：** 当页面加载（onload）时我不是在说话，因为字体可以在整个页面之前加载。

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2012-09-07T10:31:03.870

现在在 GitHub 上：[https ://github.com/patrickmarabeas/jQuery-FontSpy.js](https://github.com/patrickmarabeas/jQuery-FontSpy.js)

本质上，该方法通过比较两种不同字体的字符串宽度来工作。我们使用 Comic Sans 作为测试字体，因为它是最不同的网络安全字体，并且希望与您将使用的任何自定义字体有足够的不同。此外，我们使用了非常大的字体大小，因此即使是很小的差异也会很明显。计算出 Comic Sans 字符串的宽度后，字体系列将更改为您的自定义字体，并回退到 Comic Sans。勾选后，如果字符串元素宽度相同，Comic Sans 的后备字体仍在使用中。如果没有，您的字体应该可以使用。

我将字体加载检测方法重写为一个 jQuery 插件，旨在让开发人员能够根据字体是否已加载来设置元素样式。添加了故障安全计时器，因此如果自定义字体无法加载，用户不会没有内容。这只是糟糕的可用性。

我还通过包含类的添加和删除来更好地控制字体加载期间和失败时发生的情况。你现在可以对字体做任何你喜欢的事情。我只建议修改字体大小、行距等，以使您的后备字体尽可能接近自定义，以便您的布局保持不变，并且用户可以获得预期的体验。

这是一个演示： http: [//patrickmarabeas.github.io/jQuery-FontSpy.js](http://patrickmarabeas.github.io/jQuery-FontSpy.js)

将以下内容放入 .js 文件并引用它。

```
(function($) {

    $.fontSpy = function( element, conf ) {
        var $element = $(element);
        var defaults = {
            font: $element.css("font-family"),
            onLoad: '',
            onFail: '',
            testFont: 'Comic Sans MS',
            testString: 'QW@HhsXJ',
            delay: 50,
            timeOut: 2500
        };
        var config = $.extend( defaults, conf );
        var tester = document.createElement('span');
            tester.style.position = 'absolute';
            tester.style.top = '-9999px';
            tester.style.left = '-9999px';
            tester.style.visibility = 'hidden';
            tester.style.fontFamily = config.testFont;
            tester.style.fontSize = '250px';
            tester.innerHTML = config.testString;
        document.body.appendChild(tester);
        var fallbackFontWidth = tester.offsetWidth;
        tester.style.fontFamily = config.font + ',' + config.testFont;
        function checkFont() {
            var loadedFontWidth = tester.offsetWidth;
            if (fallbackFontWidth === loadedFontWidth){
                if(config.timeOut < 0) {
                    $element.removeClass(config.onLoad);
                    $element.addClass(config.onFail);
                    console.log('failure');
                }
                else {
                    $element.addClass(config.onLoad);
                    setTimeout(checkFont, config.delay);
                    config.timeOut = config.timeOut - config.delay;
                }
            }
            else {
                $element.removeClass(config.onLoad);
            }
        }
        checkFont();
    };

    $.fn.fontSpy = function(config) {
        return this.each(function() {
            if (undefined == $(this).data('fontSpy')) {
                var plugin = new $.fontSpy(this, config);
                $(this).data('fontSpy', plugin);
            }
        });
    };

})(jQuery); 
```

将其应用到您的项目中

```
.bannerTextChecked {
        font-family: "Lobster";
        /* don't specify fallback font here, do this in onFail class */
}

$(document).ready(function() {

    $('.bannerTextChecked').fontSpy({
        onLoad: 'hideMe',
        onFail: 'fontFail anotherClass'
    });

}); 
```

删除那个FOUC！

```
.hideMe {
    visibility: hidden !important;
}

.fontFail {
    visibility: visible !important;
    /* fall back font */
    /* necessary styling so fallback font doesn't break your layout */
} 
```

编辑： FontAwesome 兼容性已删除，因为它无法正常工作并遇到不同版本的问题。可以在这里找到一个 hacky 修复：[https ://github.com/patrickmarabeas/jQuery-FontFaceSpy.js/issues/1](https://github.com/patrickmarabeas/jQuery-FontFaceSpy.js/issues/1)

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2012-09-07T05:55:47.053

试试由 Google 和 Typekit 开发的[WebFont Loader](http://blog.typekit.com/2010/05/19/typekit-and-google/) ( [github repo](https://github.com/typekit/webfontloader) )。

[此示例](https://developers.google.com/webfonts/docs/webfont_loader#Example)首先以默认衬线字体显示文本；然后在加载字体后，它会以指定的字体显示文本。（此代码重现了 Firefox 在所有其他现代浏览器中的默认行为。）

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2014-07-07T19:41:50.563

这是与其他解决方案不同的方法。

我正在使用 FontAwesome 4.1.0 来构建 WebGL 纹理。这让我想到了使用一个小画布来渲染一个 fa-square，然后检查该画布中的一个像素以测试它是否已加载：

```
function waitForFontAwesome( callback ) {
   var retries = 5;

   var checkReady = function() {
      var canvas, context;
      retries -= 1;
      canvas = document.createElement('canvas');
      canvas.width = 20;
      canvas.height = 20;
      context = canvas.getContext('2d');
      context.fillStyle = 'rgba(0,0,0,1.0)';
      context.fillRect( 0, 0, 20, 20 );
      context.font = '16pt FontAwesome';
      context.textAlign = 'center';
      context.fillStyle = 'rgba(255,255,255,1.0)';
      context.fillText( '\uf0c8', 10, 18 );
      var data = context.getImageData( 2, 10, 1, 1 ).data;
      if ( data[0] !== 255 && data[1] !== 255 && data[2] !== 255 ) {
         console.log( "FontAwesome is not yet available, retrying ..." );
         if ( retries > 0 ) {
            setTimeout( checkReady, 200 );
         }
      } else {
         console.log( "FontAwesome is loaded" );
         if ( typeof callback === 'function' ) {
            callback();
         }
      }
   }

   checkReady();
}; 
```

由于它使用画布，它需要一个相当现代的浏览器，但它可能也适用于 IE8 以及 polyfill。

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2020-03-03T21:59:22.257

实际上，有一个很好的方法可以了解***所有字体***是否开始下载或完全加载并陷入一些错误，***但不仅仅是针对特定字体***，请注意以下代码：

```
document.fonts.onloading = () => {
  // do someting when fonts begin to download
}; 
```

```
document.fonts.onloadingdone = () => {
  // do someting when fonts are loaded completely
}; 
```

```
document.fonts.onloading = () => {
  // do someting when fonts fall into some error
}; 
```

还有一个返回的选项，`Promise`它可以处理`.then`函数：

```
document.fonts.ready
 .then(() => console.log('do someting at the final with each status')) 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-04-08T15:42:24.897

下面是另一种知道@font-face 是否已经加载而无需使用计时器的方法：当精心设计的元素的大小发生变化时，利用“滚动”事件接收瞬时事件。

我写了[一篇](http://smnh.me/web-font-loading-detection-without-timers/)关于它是如何完成的博客文章，并[在 Github 上发布了这个库](https://github.com/smnh/FontLoader)。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-09-07T05:50:42.337

尝试类似的东西

```
$(window).bind("load", function() {
       $('#text').addClass('shown');
}); 
```

然后做

```
#text {visibility: hidden;}
#text.shown {visibility: visible;} 
```

加载字体后应该触发 load 事件。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2021-04-13T23:49:06.517

或者，您可以添加`font-display: block`到您的 @font-face 声明中。

这指示浏览器将后备字体呈现为不可见，直到您的字体被加载，不需要`display: none`或任何 javascript 加载字体检测

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-11-29T06:23:26.100

## ****Typescript、Angular 的解决方案。****

**如果你正在使用 Angular，你可以使用这个[模块](https://www.npmjs.com/package/@types/css-font-loading-module)来进行字体检查。**

 **```
// document.fonts.check extension
import type {} from 'css-font-loading-module';

ngOnInit() {
  this.onFontLoad();
}

public onFontLoad() {
  let myTimer = setInterval(() => {
    if (document.fonts.check('14px MyFont')) {
      console.log('Font is loaded!');
      clearInterval(myTimer);
    } else {
      console.log('Font is loading');
    }
  }, 1);
} 
```

此外，有些字体非常重。因此，您可以在加载字体时添加加载屏幕，并在加载字体时移除加载屏幕。我相信这是一种更好的方法，而不是将您的 CSS 类更改为`display: none`，仅仅是因为如果用户的互联网速度较慢，下载某些字体可能需要 3-4 秒以上。

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2015-02-19T19:08:05.780

这是一种替代方法，至少可以确保加载 font-awesome，而**不是**OP 的完整解决方案。在此处的 wordpress 论坛中找到原始代码[https://wordpress.stackexchange.com/a/165358/40636](https://wordpress.stackexchange.com/a/165358/40636)。

它是不可知的，并且可以与任何字体样式资源一起使用，例如可以检查字体系列的 font-awesome。再多考虑一下，我敢打赌，这可以应用于更多……

```
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<script>
    (function($){
        var faSpan = $('<span class="fa" style="display:none"></span>').appendTo('body');
        if (faSpan .css('fontFamily') !== 'FontAwesome' ) {
            // Fallback Link
            $('head').append('<link href="/css/font-awesome.min.css" rel="stylesheet">');
        }
        faSpan.remove();
    })(jQuery);
</script> 
```

* * *

## 回答 #10

> 赞同：-3
> 
> 时间：2015-05-21T09:35:17.297

使用以下代码：

```
<!DOCTYPE HTML>
<html>
    <head>
    </head>

<body>
<canvas id="canvasFont" width="40px" height="40px" style="position: absolute; display: none;"></canvas>

<script>
function IsLoadedFonts()
    {
        var Args = arguments;
        var obj = document.getElementById('canvasFont');
        var ctx = obj.getContext("2d");
        var baseFont = (/chrome/i.test(navigator.userAgent))?'tims new roman':'arial';
         //................
          function getImg(fon)
          { 
            ctx.clearRect(0, 0, (obj).width, (obj).height);
            ctx.fillStyle = 'rgba(0,0,0,1.0)';
            ctx.fillRect( 0, 0, 40, 40 );
            ctx.font = '20px '+ fon;
            ctx.textBaseline = "top";
            ctx.fillStyle = 'rgba(255,255,255,1.0)';
            ctx.fillText( '\u0630', 18, 5 );
            return ctx.getImageData( 0, 0, 40, 40 );
          };
        //..............
          for(var i1=0; i1<Args.length; i1++)
          {
            data1 = getImg(Args[i1]);
            data2 = getImg(baseFont);
            var isLoaded = false;
            //...........
            for (var i=0; i<data1.data.length; i++)
            {
                if(data1.data[i] != data2.data[i])
                    {isLoaded = true; break;}
            }
            //..........
            if(!isLoaded)
                    return false;
         }
         return true;
    };

     setTimeout(function(){alert(IsLoadedFonts('myfont'));},100);
   </script>
   </body> 
```

可以检查多种字体：

```
setTimeout(function(){alert(IsLoadedFonts('font1','font2','font3'));},100); 
```

* * *

以下代码仅适用于歌剧，但很简单：

```
if(!document.defaultView.getComputedStyle(document.getElementById('mydiv'))['fontFamily'].match(/myfont/i))
          alert("font do not loaded "); 
```**

# vb.net - 在 VB.Net 中定义字符串 ENUM

> ID：12312325
> 
> 赞同：32
> 
> 时间：2012-09-07T05:40:35.153
> 
> 标签：vb.net, string, enums, windows-applications

我正在为我的项目使用窗口应用程序。在某些情况下，我需要定义字符串枚举并在我的项目中使用它。

IE

```
Dim PersonalInfo As String = "Personal Info"
Dim Contanct As String = "Personal Contanct"

    Public Enum Test
        PersonalInfo
        Contanct
    End Enum 
```

现在我想要那个变量 PersonalInfo 和 Contract 的值作为“个人信息”和“个人联系”。

如何使用 ENUM 获取此值？或任何其他方式来做到这一点。

提前致谢...

* * *

## 回答 #1

> 赞同：53
> 
> 时间：2013-04-24T19:01:01.497

对于非整数值，可以使用`Const`in a `Structure`(or ) 代替：`Class`

```
Structure Test
    Const PersonalInfo = "Personal Info"
    Const Contanct = "Personal Contanct"
End Structure 
```

或在`Module`没有部分的情况下直接访问`Test.`：

```
Module Test
    Public Const PersonalInfo = "Personal Info"
    Public Const Contanct = "Personal Contanct"
End Module 
```

* * *

在某些情况下，变量名可以用作值：

```
Enum Test
    Personal_Info
    Personal_Contanct
End Enum

Dim PersonalInfo As String = Test.Personal_Info.ToString.Replace("_"c, " "c)

' or in Visual Studio 2015 and newer:
Dim Contanct As String = NameOf(Test.Personal_Contanct).Replace("_"c, " "c) 
```

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2012-09-07T07:05:31.743

你可以创建一个新类型

```
''' <completionlist cref="Test"/>
Class Test

    Private Key As String

    Public Shared ReadOnly Contact  As Test = New Test("Personal Contanct")
    Public Shared ReadOnly PersonalInfo As Test = New Test("Personal Info")

    Private Sub New(key as String)
        Me.Key = key
    End Sub

    Public Overrides Function ToString() As String
        Return Me.Key
    End Function
End Class 
```

当你使用它时，它*看起来*有点像一个枚举：

```
Sub Main

    DoSomething(Test.Contact)
    DoSomething(Test.PersonalInfo)

End Sub

Sub DoSomething(test As Test)
    Console.WriteLine(test.ToString())
End Sub 
```

输出：

> 个人联系
> 个人信息

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2013-01-31T20:53:55.260

如何使用标记。就像是：

```
Public Enum MyEnum
<StringValue("Personal Contact")>Contact
<StringValue("My PersonalInfo")>PersonalInfo
End Enum 
```

您必须将 StringValue 属性编写为：

```
Public Class StringValueAttribute
    Inherits Attribute

    Public Property Value As String
    Public Sub New(ByVal val As String)
        Value = val
    End Sub

End Class 
```

把它弄出来：

```
 Public Function GetEnumByStringValueAttribute(value As String, enumType As Type) As Object
    For Each val As [Enum] In [Enum].GetValues(enumType)
        Dim fi As FieldInfo = enumType.GetField(val.ToString())
        Dim attributes As StringValueAttribute() = DirectCast(fi.GetCustomAttributes(GetType(StringValueAttribute), False), StringValueAttribute())
        Dim attr As StringValueAttribute = attributes(0)
        If attr.Value = value Then
            Return val
        End If
    Next
    Throw New ArgumentException("The value '" & value & "' is not supported.")
End Function

Public Function GetEnumByStringValueAttribute(Of YourEnumType)(value As String) As YourEnumType
    Return CType(GetEnumByStringValueAttribute(value, GetType(YourEnumType)), YourEnumType)
End Function 
```

**然后调用获取枚举（使用字符串属性）：**

```
Dim mEnum as MyEnum = GetEnumByStringValueAttribute(Of MyEnum)("Personal Contact") 
```

要获取“属性”值（为清楚起见，删除了处理“无”）：

```
 Public Function GetEnumValue(Of YourEnumType)(p As YourEnumType) As String
        Return DirectCast(Attribute.GetCustomAttribute(ForValue(p), GetType(StringValueAttribute)), StringValueAttribute).Value
  End Function

  Private Function ForValue(Of YourEnumType)(p As YourEnumType) As MemberInfo
        Return GetType(YourEnumType).GetField([Enum].GetName(GetType(YourEnumType), p))
  End Function 
```

**以及获取字符串属性的调用（使用枚举）：**

```
Dim strValue as String = GetEnumValue(Of MyEnum)(MyEnum.Contact) 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-09-07T05:42:23.060

> 如何使用 ENUM 获取此值？或任何其他方式来做到这一点。

将枚举值映射到字符串的常用方法有以下三种：

*   用一个`Dictionary(Of YourEnumType, String)`
*   用属性（例如）装饰枚举值`DescriptionAttribute`并通过反射获取它们
*   使用`Switch`声明

在我看来，这些选项中的第一个可能是最简单的。

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2014-08-15T13:36:19.223

我知道这是一篇旧帖子，我找到了一个值得分享的好解决方案：

```
''' <summary>
''' Gives acces to strings paths that are used often in the application
''' </summary>
Public NotInheritable Class Link        
    Public Const lrAutoSpeed As String          = "scVirtualMaster<.lrAutoSpeed>"
    Public Const eSimpleStatus As String        = "scMachineControl<.eSimpleStatus>"
    Public Const xLivebitHMI As String          = "scMachineControl<.xLivebitHMI>"      
    Public Const xChangeCycleActive As String   = "scMachineControl<.xChangeCycleActive>"

End Class 
```

用法：

```
'Can be anywhere in you applicaiton:
Link.xChangeCycleActive 
```

这可以防止不必要的额外编码，易于维护，我认为这可以最大限度地减少额外的处理器开销。

此外，Visual Studio 在您键入“Link”后立即显示字符串属性，就像它是常规枚举一样

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2017-11-22T04:20:19.440

如果您只想在列表或组合中显示枚举，则可以使用标记，例如

```
Private Enum MyEnum
    Select_an_option___
    __ACCOUNTS__
    Invoices0
    Review_Invoice
    __MEETINGS__
    Scheduled_Meetings0
    Open_Meeting
    Cancelled_Meetings0
    Current_Meetings0
End Enum 
```

然后将 拉`MyEnum`入一个字符串并使用`Replace`（或`Regex`）替换标签：“___”与“...”，“__”与“**”，“_”与“”，并删除尾随数字。然后将其重新打包成一个数组并将其转储到一个组合框中，如下所示：

```
Select an option...
**ACCOUNTS**
Invoices
Review Invoice
**MEETINGS**
Scheduled Meetings
Open Meeting
Cancelled Meetings
Current Meetings 
```

（例如，您可以使用这些数字来禁用用于输入发票编号或会议室的文本字段。在示例中，`Review Invoice`可能`Open Meeting`需要额外的输入，因此可能会为这些选择启用文本框。）

当您解析选定的组合项时，枚举将按预期工作，但您只需要添加一行代码 - 文本替换 - 即可使组合看起来如您所愿。

（解释大约是实际解决方案的 10 倍！）

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2021-08-04T10:14:38.637

微软的这项技术——“[如何：确定与枚举值关联的字符串（Visual Basic）](https://docs.microsoft.com/en-us/dotnet/visual-basic/programming-guide/language-features/constants-enums/how-to-determine-the-string-associated-with-an-enumeration-value) ”——在某些情况下会很有用（不幸的是它对我没有帮助:(）。微软的例子：

VB：

```
Public Enum flavorEnum
    salty
    sweet
    sour
    bitter
End Enum

Private Sub TestMethod()
    MsgBox("The strings in the flavorEnum are:")
    Dim i As String
    For Each i In [Enum].GetNames(GetType(flavorEnum))
        MsgBox(i)
    Next
End Sub 
```

# sql - PostgreSQL：如何区分存储过程和表值函数？

> ID：12312329
> 
> 赞同：4
> 
> 时间：2012-09-07T05:40:42.450
> 
> 标签：sql, postgresql, postgresql-9.1, information-schema

问题：

在 Microsoft SQL Server 中，有存储过程，也有表值函数。

不同之处在于，从存储过程中，我不能做进一步的选择，而从表值函数中，我可以。

例如

`SELECT * FROM sp_whatever WHERE xxx`是非法的
，而
`SELECT * FROM TVF_whatever WHERE xxx`完全合法

现在我的问题：

在 PostgreSQL 中，当我查看时`information_schema.routines`，如何区分表值函数和过程？

有区别吗？

一般来说，我如何区分 PostgreSQL 中的函数和过程？

我的意思是理论上，在 SQL 服务器上，可以像这样区分它们：
表值函数：`information_schema.data_type = 'table'`
存储过程：`information_schema.data_type IS NULL`
函数：`information_schema.data_type != 'table' AND information_schema.data_type IS NOT NULL`

这是如何在 Postgres 中完成的？

理论上，存储过程的返回类型为 void，但由于存储过程也可以返回表，因此无法区分 tvf 和存储过程 - 假设存在*差异*。

所以我的问题也可以表述为：
在 PostGreSQL 中，如何创建表值函数，以及如何创建存储过程（每个示例 1 个）。

我对两者之间的返回类型的差异感兴趣（如果有的话）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T06:23:17.380

PostgreSQL 没有真正的存储过程，只有用户定义的函数：

```
CREATE FUNCTION foo() RETURNS TABLE(bar INT, baz TEXT) ...

CREATE FUNCTION bar() RETURNS BOOLEAN ... 
```

检查数据类型“记录”：

```
SELECT * FROM information_schema.routines WHERE data_type = 'record'; 
```

# monodevelop - monodevelop 3 - 支持“附加到进程”

> ID：12312334
> 
> 赞同：6
> 
> 时间：2012-09-07T05:41:04.510
> 
> 标签：monodevelop

MonoDevelop 3 是否支持附加到进程？如果是这样，有人可以指出它在哪里或任何可能的解决方法。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-12T20:31:19.963

The short answer is: No, not as far as i know.

However if you are looking to do debugging without launching the project from MonoDevelop there is an option of using the [Soft debugger described here](http://www.mono-project.com/Mono:Runtime:Documentation:SoftDebugger). The workflow for doing that is:

1.  Enable Custom commands to the softdebugger in monodevelop by setting environment variable MONODEVELOP_SDB_TEST to some value
2.  Start monodevelop
3.  Go to the Run -> Run With -> Custom Command Mono Soft Debugger
4.  Enter a port number and an IP address of your machine where the debugee can reach MonoDevelop. Leave the other fields empty.
5.  Press `Listen`.
6.  Start the application with parameters --debug and --debugger-agent=transport=dt_socket,address=[IP specified in monodevelop]:[Port specified in monodevelop]

And then you can inspect what is going on like normally using breakpoints stop exection, inspect variables and so forth. Notice that this enables you to deploy across machines as long as they can be reached over the network.

![enter image description here](../Images/cf366bd4700b03b7dd9281ae824b4087.png)

I know this is not "Attach to process" but as you are very limited in the description of your intent, this might be of value to you.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-26T11:41:09.183

起初，我在我的 Monodevelop (2.8.6.3) IDE 中也找不到“附加到进程”，

但是当我安装“GUN debugger plugin for monodevelop”时，我可以在“RUN”memu中找到“attach to process”。因此，您应该为 monodevelop 安装 GNU 调试器插件以“附加到进程”

ps：我的monodevelop是在Ubuntu 12.04；“monodevelop 的 GUN 调试器插件”可以在“软件中心的 monodevelop”中找到。

# javascript - javascript - 正则表达式

> ID：12312336
> 
> 赞同：0
> 
> 时间：2012-09-07T05:41:30.863
> 
> 标签：javascript, regex

试图形成一个正则表达式来匹配关键字的模式，我发现的模式就像

*   删除`:`直到出现空格之前的所有单词和`:`直到`)`出现之后的所有单词。

[在这个 jsfiddle](http://jsfiddle.net/tvUaK/141)中找到术语。

```
var newInput="keyword2:(content2) app keyword1:(content1) sos keyword:(content) das sad"; 
```

我正在寻找类似的输出

```
app,sos,das,sad 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T05:51:05.427

```
newInput.replace(/[^:\s]+:\([^)]*\)\s*/g, '');  // "app sos das sad" 
```

解释

```
[^:\s]+: # ':'前面的任何字符（''和':'除外） "keyword1:'"
\([^)]*\) # 任何包含在 '(' ')' "(content2)" 中的字符
\s* # 尾随空格 " "

```

这将返回一个空格分隔的字符串。您必须自己修剪它并在空格处拆分（或替换它们）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T05:54:49.697

你可以试试：

```
var words = newInput.replace(/[^\s]+:\([^\)]+\)\s+/g, "").split(/\s+/); 
```

Which will produce an array of the words as:

```
["app", "sos", "das", "sad"] 
```

If you want a comma-separated string as shown in the question then:

```
var words = newInput.replace(/[^\s]+:\([^\)]+\)\s+/g, "").split(/\s+/).join(", ") 
```

# objective-c - 写入文档目录中的 plist 时出错

> ID：12312338
> 
> 赞同：1
> 
> 时间：2012-09-07T05:41:59.613
> 
> 标签：objective-c, ios, cordova, plist, documentsdirectory

我使用以下代码将 Resources plist 文件复制到文档目录中：

```
BOOL success;
NSError *error;

NSFileManager *fileManager = [NSFileManager defaultManager];
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
NSString *filePath = [documentsDirectory stringByAppendingPathComponent:@"Test-Info.plist"];

success = [fileManager fileExistsAtPath:filePath];

if (!success) {
    NSString *path = [[[NSBundle mainBundle] resourcePath] stringByAppendingFormat:@"Test-Info.plist"];
    success = [fileManager copyItemAtPath:path toPath:filePath error:&error];
    NSLog(@"Test-Info.plist successfully copied to DocumentsDirectory.");
} 
```

我收到了成功消息，这很棒。我假设它已正确复制到文档文件夹中。

但是，当我尝试读取和写入保存的 plist 文件时，它返回 null：

Test-Info.plist 中的关键条目：

```
Key: EnableEverything
Type: Boolean
Value: YES 
```

编写代码：

```
NSString *adKey = @"EnableEverything";
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectoryPath = [paths objectAtIndex:0];
NSString *path = [documentsDirectoryPath stringByAppendingPathComponent:@"Test-Info.plist"];
NSMutableDictionary *plist = [NSDictionary dictionaryWithContentsOfFile: path];

NSString *enableEverything = [[plist valueForKey:adKey] stringValue];
NSLog(@"****** EXISTING: %@ ******", enableEverything); // returns (null)

// Disable in plist.
[plist setValue:0 forKey:adKey]; // will this work?
[plist writeToFile:path atomically:YES]; // this doesn't throw an error?

NSString *enableEverything1 = [[plist valueForKey:adKey] stringValue];
NSLog(@"****** NOW: %@ ******", enableEverything1); // returns (null) 
```

输出：

```
****** EXISTING: (null) ******
****** NOW: (null) ****** 
```

我的问题是为什么`(null)`它们存在于 plist 文件中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T05:43:11.807

您正试图改变一个不可变的对象。

你需要一个[NSMutableDictionary](https://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSMutableDictionary_Class/)。

IE

```
NSMutableDictionary *plist = [[NSDictionary dictionaryWithContentsOfFile: path] mutableCopy]; 
```

还要检查，如果 plist 对象不是 nil，因为任何消息都可以发送到 nil 而不会出现错误。这不会失败，实际上也没有发生任何事情。

```
[plist setValue:0 forKey:adKey]; // will this work?
[plist writeToFile:path atomically:YES]; // this doesn't throw an error? 
```

* * *

由于源路径为零，因此您最喜欢在~~编译~~捆绑期间不复制文件。把它拖到这里：

![在此处输入图像描述](../Images/16f38aeb44f5a482c53533c54736de12.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T05:59:46.250

试试这个资源的 nsbundle 路径

```
NSString *path= [[NSBundle mainBundle] pathForResource:@"SportsLogo-Info" ofType:@"plist"]; 
```

尝试分配

```
NSMutableDictionary *plist = [[NSMutableDictionary alloc] initWithDictionary:[NSDictionary dictionaryWithContentsOfFile:path]]; 
```

还要检查文件是否已被复制。转到Library=>Application Support=>iPhone Simulator=>文件夹命名您的模拟器iOS版本=>Applications=>找到您项目的正确文件夹=>Documents查看plist文件是否存在

# model - 如何覆盖 django admin 翻译的列标题（字段的详细名称）

> ID：12312339
> 
> 赞同：0
> 
> 时间：2012-09-07T05:41:59.237
> 
> 标签：model, internationalization, django-admin, field, verbose

我只想对*名字*列标题使用我自己的翻译。只是。

我的研究将我引向 django 自己的消息文件，其中包含：

```
#: models.py:235
msgid "first name"
msgstr "nombre propio" 
```

所以我创建了文件

> ./site/project/locale/es/LC_MESSAGES/django.po

并把我的新 3 行

```
#: models.py:235
msgid "first name"
msgstr "nombre" 
```

我已经尝试了我想到的所有可能的位置，并且在设置中：

> LOCALE_PATHS = ('/home/djdev/site/project/locale',)

但是管理员用户列表总是显示*first name*的默认翻译。

我使用的解决方法是创建一个函数并在 *list_display* 中调用它，如下所示：

```
def my_full_name(self, obj):
    try:
        return obj.last_name + ' ' + obj.first_name
    except CustomProfile.DoesNotExist:
        return ''
my_full_name.admin_order_field = 'last_name'

list_display = ('username', 'my_full_name', 'email') 
```

...这对我来说已经足够了，但我仍然很好奇，因为这只是列表视图而不是表单的解决方法。

问候，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T07:21:55.257

请记住始终运行以实际创建显示翻译内容所需`python manage.py compilemessages`的二进制文件。`django.mo`

# html - 缩小浏览器后如何使引导导航栏稳定

> ID：12312340
> 
> 赞同：0
> 
> 时间：2012-09-07T05:42:11.430
> 
> 标签：html, css, twitter-bootstrap, html-lists, navbar

我使用引导导航栏组件，这里缩小浏览器时出现问题。缩小后，navbar中的li会溢出到navbar之外。

有什么解决方案可以让 li 不会溢出导航栏吗？就像[http://www.linkedin.com/](http://www.linkedin.com/)中的导航栏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T05:49:47.750

仔细阅读这个[堆栈答案。](https://stackoverflow.com/a/7118363/1557322)LinkedIn 类似菜单（linkedin 正在使用什么）

希望这可以帮助

# ruby-on-rails - 嵌入式 mongoid 文档未标记为脏/未更新

> ID：12312350
> 
> 赞同：1
> 
> 时间：2012-09-07T05:42:51.060
> 
> 标签：ruby-on-rails, ruby-on-rails-3, activerecord, mongoid, activemodel

我有一个数据模型如下

*   出价与出价相关`User`联
*   出价可以是一个`offer`或`listing`一个`Product`
*   A`Product`可能有多个用户发布的多个报价和列表（单独）
*   用户可以将优惠和列表放置在多个`Products`

产品 <--- 投标 ---> 用户

`p`给定模型中的现有值`Product`，诸如此类的新实例在`p.offers << bid`哪里之类的操作不会标记为“脏”，并且更改不会持久保存到数据库中`bid``Bid``p`

产品类别

```
class Product
  include Mongoid::Document
  ...
  embeds_many :offers, class_name: 'Bid'
  embeds_many :listings, class_name: 'Bid'
end 
```

投标等级

```
class Bid
  include Mongoid::Document
  belongs_to :user
  belongs_to :product

  field :amount, type: Money  
  field :timestamp, type: DateTime, default: ->{ Time.now }
end 
```

此外，调用`bid.save!`或创建新数组`p.offers = Array.new [bid]`似乎也不起作用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:50:42.410

**更新：**

你的模型结构应该是

```
class Product
   include Mongoid::Document
   ...
   has_many :offers, class_name: 'Bid', :inverse_of => :offers_bid
   has_many :listings, class_name: 'Bid', :inverse_of => :listings_bid
end

class Bid
   include Mongoid::Document
   belongs_to :offers_bid, :class_name => 'Product', :inverse_of => :offers
   belongs_to :listings_bid, :class_name => 'Product', :inverse_of => :listings
   belongs_to :user

   field :amount, type: Money  
   field :timestamp, type: DateTime, default: ->{ Time.now }
end 
```

# xamarin.ios - 无法在 Monotouch 上使用 Teechart 正确显示 2D 图表

> ID：12312353
> 
> 赞同：1
> 
> 时间：2012-09-07T05:43:32.687
> 
> 标签：xamarin.ios, teechart

为 .NET Monotouch for iOS 评估 Techart 很有趣。遇到几个无法解决的问题。基本上，我试图展示一个包含两个或三个系列的二维条形图，最多包含 24 个数据点。

这是我的测试代码

```
 chart3.Aspect.View3D = false;
    chart3.Legend.Visible = false;
    chart3.Chart.Aspect.ZoomScrollStyle = Steema.TeeChart.Drawing.Aspect.ZoomScrollStyles.Auto;   

    Axis left=chart3.Axes.Left;
    left.Grid.Visible = false; 
    left.Automatic=false;
    left.Minimum=0;
    left.Maximum=20;
    left.Increment=1;

    Axis bottom=chart3.Axes.Bottom;
    bottom.Visible=true;
    bottom.Grid.Visible = false; 

    Steema.TeeChart.Styles.Bar bar1=new Steema.TeeChart.Styles.Bar();
    chart3.Series.Add(bar1);
    bar1.Add(12.0,"Jun 2012");  
    bar1.Add(8.0,"Jul 2012"); 
    bar1.Add(0.5,"Aug 2012"); 
    bar1.Add(6.7,"Sep 2012"); 
    bar1.Pen.Width = 0;
    bar1.Gradient.Visible = true;
    bar1.GetSeriesMark += (series, e) => {object v=series.YValues[e.ValueIndex];   e.MarkText=""+v;};

    Steema.TeeChart.Styles.Bar bar2=new Steema.TeeChart.Styles.Bar();
    chart3.Series.Add(bar2);
    bar2.Add(8.0,"Jun 2012"); 
    bar2.Add(5.0,"Jul 2012"); 
    bar2.Add(5.0,"Aug 2012"); 
    bar2.Add(14.0,"Sep 2012"); 
    bar2.Pen.Width = 0;
    bar2.Gradient.Visible = true;
    bar2.GetSeriesMark += (series, e) => {object v=series.YValues[e.ValueIndex];   e.MarkText=""+v;}; 
```

上面的代码创建了两个具有四个点的二维条形系列。

这是我得到 ![在此处输入图像描述](../Images/20e72479a044a07a93b7990cef5cc755.png) 的结果 主要问题是所有条形图都在零上方浮动 0.5 点（注意左侧轴上的 8.5，值为 8）。向上滚动显示 ![另一个图像](../Images/a0da1c8e024adc31c002ea23cc996a7c.png) 我面临的第二个问题是库没有考虑为最后一个轴设置的最大值。如果我将 Aspect.View3D 设置为 true，则图表看起来要好得多 ![在此处输入图像描述](../Images/08db552754d542865812986872696fb5.png) 3D 有其自身的一系列问题，但无论如何我们都需要 2D。

我的问题是：我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T08:30:55.340

是的，你是对的。我可以在这里重现问题。修复将包含在即将推出的下一个维护版本中。同时，一种解决方法是将 ZoomScroll 样式设置为手动，这使得使用 TeeChart 库的默认缩放和滚动： 代码：

```
_controller.chart.Chart.Aspect.ZoomScrollStyle = Steema.TeeChart.Drawing.Aspect.ZoomScrollStyles.Manual 
```

# android - WebView 和谷歌地图的问题

> ID：12312355
> 
> 赞同：2
> 
> 时间：2012-09-07T05:43:40.733
> 
> 标签：android

在我单击按钮的应用程序中，我尝试使用 Web 视图启动以下 url：

```
https://maps.google.com/maps?saddr=indiranagar bangalore&daddr=mgroad bangalore 
```

我的代码如下：

```
WebView webView=new WebView(this);
webView.getSettings().setJavaScriptEnabled(true);
webView.getSettings().setBuiltInZoomControls(true);
webView.getSettings().setSupportZoom(true);

webView.loadUrl("https://maps.google.com/maps?saddr=indiranagar bangalore&daddr=mgroad bangalore"); 
```

当 web 视图出现时，它首先显示以下内容：

![网页视图 1](../Images/d0d0e9071b0e33c8283580f352bf63b0.png)

并立即显示以下内容：

![网页视图 2](../Images/44ad49ddbce6f6655664c06be800cc36.png)

我看不到地图。我是否缺少代码中的某些内容。有人可以帮我解决这个问题吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-22T12:43:42.817

我发现WebView默认不支持javascript，这会导致谷歌地图跳转到一个包含参数“nojs”的URL，

所以，只需为您的 webview 添加这一行，问题就消失了。

```
webview.getSettings().setJavaScriptEnabled(true); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:49:00.467

在将 Google Maps URL 用于 ColorBox 弹出窗口时，我遇到了同样的问题。

我发现您可以`&output=embed`在 URL 的末尾添加以使其显示在 iframe 中。

也许这个解决方案也会帮助你。

所以试试：

`webView.loadUrl("https://maps.google.com/maps?saddr=indiranagar bangalore&daddr=mgroad bangalore&output=embed");`

# java - 如何解决用户 LOGOUT 的 FILTER 查询

> ID：12312364
> 
> 赞同：0
> 
> 时间：2012-09-07T05:45:03.493
> 
> 标签：java, jsp, servlet-filters

我有这个用于过滤缓存页面的代码，但在编译时遇到了一些问题：

```
package bean.log.filter;
import java.io.IOException;
import javax.servlet.Filter;
import javax.servlet.FilterChain;
import javax.servlet.FilterConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
//import javax.servlet.annotation.WebFilter;

public class LoginFilter implements Filter
    {
    @Override

        public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException
        {  
        try
        {

        HttpServletRequest request = (HttpServletRequest) req;
        HttpServletResponse response = (HttpServletResponse) res; 
        HttpSession session = request.getSession(false); 
        if (session == null || session.getAttribute("userHash") == null)
            { 
            response.sendRedirect("/scape/applicationservices/fileshare/vm/login/login.jsp"); // No logged-in user found, so redirect to login page.
            response.setHeader("Cache-Control", "no-cache, no-store, must-revalidate"); // HTTP 1.1\. 
            response.setHeader("Pragma", "no-cache"); // HTTP 1.0.
            response.setDateHeader("Expires", 0);
            }
            else
                { 
                chain.doFilter(req, res); // Logged-in user found, so just continue request.
                }
            }
        catch (Exception e)
        {
            e.printStackTrace();
        }
    }

} 
```

编译后我得到以下错误：

```
D:\programs\MyPackage\bean\log\filter>javac LoginFilter.java
LoginFilter.java:14: bean.log.filter.LoginFilter is not abstract and does not ov
erride abstract method destroy() in javax.servlet.Filter
public class LoginFilter implements Filter
       ^
1 error 
```

所以我对我的代码进行了如下更改，然后编译了它，但我没有得到想要的结果。我所做的更改是：我在评论中添加和添加`@Override`了和方法`implements Filter``public void init``public void destroy`

```
package bean.log.filter;
import java.io.IOException;
import javax.servlet.Filter;
import javax.servlet.FilterChain;
import javax.servlet.FilterConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;
//import javax.servlet.annotation.WebFilter;

public class LoginFilter // implements Filter
    {
    //@Override
        public void init( ) 
        {   
        }

        public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException
        {  
        try
        {

        HttpServletRequest request = (HttpServletRequest) req;
        HttpServletResponse response = (HttpServletResponse) res; 
        HttpSession session = request.getSession(false); 
        if (session == null || session.getAttribute("userHash") == null)
            { 
            response.sendRedirect("/timescape/applicationservices/fileshare/vm/login/login.jsp"); // No logged-in user found, so redirect to login page.
            response.setHeader("Cache-Control", "no-cache, no-store, must-revalidate"); // HTTP 1.1\. 
            response.setHeader("Pragma", "no-cache"); // HTTP 1.0.
            response.setDateHeader("Expires", 0);
            }
            else
                { 
                chain.doFilter(req, res); // Logged-in user found, so just continue request.
                }
            }
        catch (Exception e)
        {
            e.printStackTrace();
        }
    }

    public void destroy( ) 
        {   
        }

} 
```

如何在 web.xml 中配置过滤器

我像下面这样配置它

```
<web-app>

    <welcome-file-list>
        <welcome-file>/WEB-INF/index.jsp</welcome-file>
    </welcome-file-list>

    <filter>     
        <filter-name>noCacheFilter</filter-name>     
        <filter-class>bean.log.filter.LoginFilter</filter-class> 
    </filter> 
    <filter-mapping>     
        <filter-name>noCacheFilter</filter-name>     
        <url-pattern>/scape/applicationservices/fileshare/vm/apps/*</url-pattern> 
    </filter-mapping>

</web-app> 
```

我希望这个过滤器限制用户在注销后返回到我目录中的以前的缓存页面，`apps`所以我使用它`url-pattern`。如何实现这个过滤器的工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:12:13.880

Java EE 过滤器必须实现您上面提到的接口：[javax.servlet.Filter](http://docs.oracle.com/javaee/6/api/javax/servlet/Filter.html)。您的问题不在于`Filter`本身，而在于您的 Java 使用。在这种语言中，当某些非抽象类实现接口时，它或其父类必须实现**所有**声明的方法。这意味着，当接口声明方法时`init()`，即使实现应该为空，您的类也必须实现所有方法`doFilter()`。`destroy()`这意味着您必须将两种解决方案结合起来：

1.  取消注释`implements Filter`
2.  让未注释的方法`init()`和`destroy()`
3.  `@Override`如果您使用的是 Java 6 或更高版本，则可能取消注释

之后，您的过滤器应该没问题，至少它应该在 Web 容器处理`web.xml`映射中指定的某些页面匹配 URL 时执行。

无论如何，我想注销 URL 通常不会那么复杂，所以我希望映射 URL 类似于`/logout`. 正如我已经提到的，过滤器**仅**在与 URL 匹配的页面上执行。

# android - AVD Manager 中没有默认 API 级别

> ID：12312365
> 
> 赞同：1
> 
> 时间：2012-09-07T05:45:08.567
> 
> 标签：android, sdk

我安装了 Android SDK 并安装了 Eclipse 的 ADT 插件。当我启动 AVD 管理器时，我没有在其中看到默认的 API 级别。我单击了新建，在创建新的 AVD 窗口中，目标始终处于禁用状态。因此，我无法重新开始。

系统规格： Eclipse：3.7 Android SDK 是 20.1 或者我不确定的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:04:37.347

You have to open SDK Manager and install the android version apis. See the screenshot.

![](../Images/f0a18674a69e37e1537ae7e479cebcf9.png)

# python - 我不明白这个语法错误

> ID：12312367
> 
> 赞同：0
> 
> 时间：2012-09-07T05:45:26.220
> 
> 标签：python

我正在做 python 120-1 pdf 的 Python 教程字节

以下是说明：

> 启动您选择的编辑器，输入以下程序并将其保存为 helloworld.py
> 
> 例 3.2。使用源文件
> 
> ```
> #!/usr/bin/python
> # Filename : helloworld.py
> print 'Hello World' 
> ```
> 
> （源文件：code/helloworld.py）通过打开一个shell（Linux终端或DOS提示符）并输入命令python helloworld.py来运行这个程序。如果您使用 IDLE，请使用菜单 Edit -> Run Script 或键盘快捷键 Ctrl-F5。输出如下图所示。
> 
> 输出
> 
> ```
> $ python helloworld.py
> 
> Hello World 
> ```

我将程序输入到 text wrangler 并将其保存为 helloworld.py

然后我打开终端并输入 python helloworld.py。

我收到语法错误：语法无效

然后我尝试了 helloworld.py 并且还收到了语法错误：无效语法

谁能告诉我哪里出错了？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-07T05:48:07.313

您正在使用 2.x 文档，但正在运行 3.x。要么降级 Python，要么找到更新的材料。

```
#!/usr/bin/python
# Filename : helloworld.py
print('Hello World') 
```

# buddypress - 如何在 buddypress 中更新自定义配置文件字段数据

> ID：12312372
> 
> 赞同：0
> 
> 时间：2012-09-07T05:46:19.407
> 
> 标签：buddypress

我想更新 buddypress 中的自定义配置文件字段数据。我一直在谷歌上搜索，但仍然没有运气。有没有用自定义代码更新它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-29T11:50:49.050

您可以使用默认的buddypress功能

```
xprofile_set_field_data( $field, $user_id, $value, $is_required = false ) 
```

$fields = 字段 ID

$user_id = 当前登录用户 id

$value = 插入值

$is_required = 布尔值

在这里，您已经传递了特定的插入字段数据。

或者

您可以在 usermeta 表中插入自定义字段数据。像这样：

```
update_user_meta($user_id, '$key', $_POST['post_value']); 
```

$key = 字段的唯一名称

# sql-server - 优化 SQL 查询

> ID：12312373
> 
> 赞同：2
> 
> 时间：2012-09-07T05:46:21.170
> 
> 标签：sql-server, query-optimization

我一直在对表中的大量行运行 sql 查询。查询的结构类似于以下查询。

```
SELECT id FROM
(
SELECT
     id,(ROW_NUMBER() OVER (ORDER BY id)) AS Row 
FROM 
     <table>
)
temp_table WHERE Row BETWEEN 1 AND 50 
```

我在 UI 上使用分页，因此一次获取需要 50 条记录。我担心的是，我正在获取所有记录，然后从中选择 50 条记录，难道没有一种方法可以让我只选择我真正需要的那些记录。请注意，这是一个简化的查询，原始查询非常复杂并且有很多连接。有没有实现支持分页的查询的标准方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:11:00.680

我在这里建议的是：

1.使用查询创建索引视图（view_sample）

```
SELECT
     id,(ROW_NUMBER() OVER (ORDER BY id)) AS Row 
FROM 
     <table> 
```

2.现在在行上创建一个索引（聚集）

3.Select id from view_sample where Row BETWEEN 1 AND 50

# ms-word - Word Open XML 和内容控件绑定的用途

> ID：12312376
> 
> 赞同：0
> 
> 时间：2012-09-07T05:46:28.657
> 
> 标签：ms-word, openxml

对于 word 报告生成，我正在研究将 XML 绑定到内容控件，看看是否比使用 Word Interop 和对[内容控件](http://msdn.microsoft.com/en-us/library/microsoft.office.tools.word.document.contentcontrols.aspx)的硬编码索引引用来为它们分配值更容易。

但是，我真的不明白该怎么做。

我的工作流程是在 Excel 中输入信息，然后生成一个 XML 文件以使内容控件由 XML 填充，但是，我读到的是另一种方式：[Word Control Control Toolkit](http://blogs.msdn.com/b/acoat/archive/2007/03/01/linking-word-2007-content-controls-to-custom-xml.aspx) and descriptions where the XML is used by user entering information in Word ，然后程序员解压缩 docx 文件以检索 XML 文件。

如何使用 XML 填充内容控件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T21:43:13.963

使用内容控件工具包或类似工具在“模板”文档中设置映射的内容控件。使用包含 Excel 数据的示例 XML 文件执行此操作。

现在您有了该模板文档，在运行时您可以在 C# 或 Java 或其他语言中将您的 XML 文件注入其中（即用您的实例数据替换它包含的自定义 xml 部分）。

当用户在 Word 2007/2010 中打开文档时，自定义 XML 部分中的信息将自动复制到绑定的控件中，并且对用户可见。

请注意，内容控制数据绑定不容易支持 Word 2007/2010 中的重复数据（例如填充表格行），尽管有一些方法可以做到这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-09T22:24:18.900

有从 Word 模板、XML 和数据绑定内容控件生成 Word 文档的示例@http [://worddocgenerator.codeplex.com/](http://worddocgenerator.codeplex.com/)

# python - Python中的原始卡号（查找丢失的卡）

> ID：12312378
> 
> 赞同：-1
> 
> 时间：2012-09-07T05:46:39.580
> 
> 标签：python

我正在尝试找出存在但现在丢失的原始卡。

为了更深入，我将提供一些示例：

> 示例 1
> 
> 原来有几张卡？4
> 
> 你还有什么卡？1
> 
> 你还有什么卡？4
> 
> 你还有什么卡？2
> 
> 您缺少卡 3
> 
> 示例 2
> 
> 原来有几张卡？2
> 
> 你还有什么卡？2
> 
> 您缺少卡 1

我遇到的问题是：a）我不确定如何根据初始卡号生成原始输入，b）我的解决方案算法存在缺陷，我不知道如何克服它。

这是我的部分代码：

```
orig = int(raw_input("How many cards originally? "))
card1 = int(raw_input("What card do you still have? "))
card2 = int(raw_input("What card do you still have? "))
card3 = int(raw_input("What card do you still have? "))
calculation = card1 + card2 + card3
print calculation - orig 
```

但是，它不符合我想要的标准。

如果您能帮助我，请提前非常感谢。如果有人可以为此编写解决方案，或者甚至可以指导我这样做，那就太好了。

PS。如果我没有很好地解释它，这就是我被要求回答的问题集：编写一个程序来计算出你放错了哪张卡片。您的程序应该首先询问用户您最初拥有多少张卡片。然后，您的程序应该要求您输入您仍然拥有的每张卡片，每行一个数字。然后你的程序应该打印出丢失卡的价值。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T05:52:36.140

用于`range()`获取包含卡值的列表，并将它们放入`set`. 从集合中删除输入值，直到只剩下一个。那是丢失的卡片。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T12:40:06.680

```
orig = int(raw_input("How many cards originally? "))
allcards = set(range(1, orig+1))
while len(allcards) > 1:
    card = int(raw_input("What card do you still have? "))
    allcards.remove(card)
print "You are missing card", list(allcards)[0] 
```

# sql - SQL Server Tempdb 超过 200GB

> ID：12312379
> 
> 赞同：0
> 
> 时间：2012-09-07T05:46:40.437
> 
> 标签：sql, sql-server, database, size, tempdb

SQL语法如下

```
 DELETE V From Table1 V
INNER JOIN Table2 AS A ON A.Col1 = V.Col1 AND A.Col2 = V.Col2
AND A.Col3 = V.Col3 And A.Col4 = V.Col4
AND A.Col5 = V.Col5 AND A.Col6 = V.Col6 
```

**表 1 的信息：**

1.  行数：32,00,000
2.  NonClust_Index1_Col1
3.  NonClust_Index2_Col2
4.  NonClust_Index3_Col3
5.  NonClust_Index4_Col4
6.  NonClust_Index5_Col5
7.  没有集群索引和主键

**表 2 的信息：**

1.  行数：50,000

2.  NonClust_Index1_Col1_Col2_Col3_Col4_Col5_Col6（六列的非集群复合索引）

3.  Clust_Index2_Col1_Col2_Col3_Col4_Col5_Col6（六列上的集群复合索引）

**请帮我确定这个简单的删除语法（删除语法在事务范围内）增加 TempDB 大小（>200GB）的原因是什么**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T06:06:01.513

Just suggestion on the query performance here:

If in Table2 you have a single non-clustered index for all the columns, then it will be used only for the first column in that index, and for the rest it will not be used.

So I guess you can create the index in the same way as you have created for table1.

# java - Android：换行后的文本在文件中不可见（PrintWriter）

> ID：12312382
> 
> 赞同：1
> 
> 时间：2012-09-07T05:47:05.070
> 
> 标签：java, android

我正在使用 PrintWriter 将一些字符打印到文件中。但是当我使用 Println() 打印新行时，新行之后的字符不可见。

以下是我的代码片段

```
public void writeData(String data)
        {           
            //PrintWriter csvWriter;
            try
            {               
                csvWriter = new  PrintWriter(new FileWriter(file,true));               
                csvWriter.print(data+","+"hello");
                //csvWriter.print("\r\n");
                csvWriter.println();
                csvWriter.print("world");
                csvWriter.close();                
            }
            catch (Exception e)
            {
                e.printStackTrace();
            }
        } 
```

所以在我的文件中只有 data & hello 是可见的。但“世界”是不可见的。我尝试使用“\r\n”和“\n”打印新行。但没有任何工作。有人请帮助我....谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:48:42.323

试试这个：

```
csvWriter.println(System.getProperty("line.separator")); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:50:39.387

尝试使用系统类中的...行分隔符

```
System.get("line.separator") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T06:04:58.000

您必须刷新数据。

```
csvWriter.println();
csvWriter.print("world");

//writes data from buffer to stream
csvWriter.flush();

csvWriter.close(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-07T06:39:00.237

```
try {
  // open myfilename.txt for writing
  OutputStreamWriter out = new OutputStreamWriter(FileOutputStream("myfilename.txt",0));
  // write the contents on mySettings to the file
  out.write("Hello \n World");
  // close the file
  out.close();
} catch (java.io.IOException e) {
  //do something if an IOException occurs.
} 
```

# android - 有什么方法可以在 Scrollview 中滚动 gridview/listview 的滚动条吗？

> ID：12312383
> 
> 赞同：1
> 
> 时间：2012-09-07T05:47:12.743
> 
> 标签：android, android-layout, android-widget

嗨，在我的应用程序中，屏幕是如此之大，其中包含一个带有图像的网格视图和一个带有许多列表项的列表视图，并且我的屏幕中还存在如此多的文本视图。以便我将此内容放在滚动视图中以在移动屏幕上查看。当我将内容放在滚动视图中时，gridview/listview 滚动不起作用。

有什么办法可以解决这个问题。我参考了很多链接，但我无法获得解决方案。

链接是 [ScrollView 内的图像网格](https://stackoverflow.com/questions/4523609/grid-of-images-inside-scrollview) [我怎样才能将 ListView 放入 ScrollView 而不会折叠？](https://stackoverflow.com/questions/3495890/how-can-i-put-a-listview-into-a-scrollview-without-it-collapsing)

ETC

![在此处输入图像描述](../Images/7bf7fe70ed111356b5ffa8a145f47d7d.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T06:38:19.557

您可以使用以下代码解决它，但我建议请更改 UI，它不符合 android 指南。它很容易在 iPhone 界面中滚动。

```
final ScrollView childScroll = (ScrollView)
view.findViewById(R.id.resourceactivity_sv_classes_detail);

parentScroll.setOnTouchListener(new View.OnTouchListener() {

public boolean onTouch(View v, MotionEvent event) {
//Log.v(TAG,"PARENT TOUCH");
childScroll.getParent().requestDisallowInterceptTouchEvent
(false); return false; } }); childScroll.setOnTouchListener(new
View.OnTouchListener() {

public boolean onTouch(View v, MotionEvent event) {
//Log.v(TAG,"CHILD TOUCH");
v.getParent().requestDisallowInterceptTouchEvent(true); return
false; } }); 
```

您可以修改 gridview 而不是子滚动视图。

# android - 下载 android SDK 工具和 API 特定 sdks 的问题

> ID：12312387
> 
> 赞同：0
> 
> 时间：2012-09-07T05:47:30.670
> 
> 标签：android

我正在使用 ubuntu 32 位机器，为我的 android 应用程序开发运行 eclipse indigo 3.7。

关于使用 Android SDK 管理器下载 android SDK。收到 URL 获取错误

“获取 URL：[http](http://dl.htcdev.com/sdk/addon.xml) ://dl.htcdev.com/sdk/addon.xml ” & 卡在那里本身。它无法获取其他附加组件。

任何人都可以尽快帮助解决这个问题。

```
Fetching https://dl-ssl.google.com/android/repository/addons_list-2.xml
Validate XML
Parse XML
Fetched Add-ons List successfully
Fetching URL: https://dl-ssl.google.com/android/repository/repository-7.xml
Validate XML: https://dl-ssl.google.com/android/repository/repository-7.xml
Parse XML:    https://dl-ssl.google.com/android/repository/repository-7.xml
  Found SDK Platform Android 1.1, API 2, revision 1 (Obsolete)
  Found SDK Platform Android 1.5, API 3, revision 4
  Found SDK Platform Android 1.6, API 4, revision 3
  Found SDK Platform Android 2.0, API 5, revision 1 (Obsolete)
  Found SDK Platform Android 2.0.1, API 6, revision 1 (Obsolete)
  Found SDK Platform Android 2.1, API 7, revision 3
  Found SDK Platform Android 2.2, API 8, revision 3
  Found SDK Platform Android 2.3.1, API 9, revision 2 (Obsolete)
  Found SDK Platform Android 2.3.3, API 10, revision 2
  Found SDK Platform Android 3.0, API 11, revision 2
  Found SDK Platform Android 3.1, API 12, revision 3
  Found SDK Platform Android 3.2, API 13, revision 1
  Found SDK Platform Android 4.0, API 14, revision 3
  Found SDK Platform Android 4.0.3, API 15, revision 3
  Found SDK Platform Android 4.1, API 16, revision 2
  Found ARM EABI v7a System Image, Android API 14, revision 2
  Found ARM EABI v7a System Image, Android API 15, revision 2
  Found ARM EABI v7a System Image, Android API 16, revision 2
  Found Samples for SDK API 7, revision 1
  Found Samples for SDK API 8, revision 1
  Found Samples for SDK API 9, revision 1 (Obsolete)
  Found Samples for SDK API 10, revision 1
  Found Samples for SDK API 11, revision 1
  Found Samples for SDK API 12, revision 1
  Found Samples for SDK API 13, revision 1
  Found Samples for SDK API 14, revision 2
  Found Samples for SDK API 15, revision 2
  Found Samples for SDK API 16, revision 1
  Found Android SDK Platform-tools, revision 14
  Found Android SDK Tools, revision 20.0.3
  Found Android SDK Tools, revision 21 rc3
  Found Documentation for Android SDK, API 16, revision 2
  Found Sources for Android SDK, API 14, revision 1
  Found Sources for Android SDK, API 15, revision 2
  Found Sources for Android SDK, API 16, revision 2
Fetching URL: https://dl-ssl.google.com/android/repository/addon.xml
Validate XML: https://dl-ssl.google.com/android/repository/addon.xml
Parse XML:    https://dl-ssl.google.com/android/repository/addon.xml
  Found Google APIs, Android API 3, revision 3
  Found Google APIs, Android API 4, revision 2
  Found Google APIs, Android API 5, revision 1 (Obsolete)
  Found Google APIs, Android API 6, revision 1 (Obsolete)
  Found Google APIs, Android API 7, revision 1
  Found Google APIs, Android API 8, revision 2
  Found Google APIs, Android API 9, revision 2 (Obsolete)
  Found Google APIs, Android API 10, revision 2
  Found Google APIs, Android API 11, revision 1
  Found Google APIs, Android API 12, revision 1
  Found Google APIs, Android API 13, revision 1
  Found Google APIs, Android API 14, revision 2
  Found Google APIs, Android API 15, revision 2
  Found Google APIs, Android API 16, revision 2
  Found Google TV Addon, Android API 12, revision 2
  Found Android Support Library, revision 10
  Found Google Play Licensing Library, revision 2
  Found Google Play APK Expansion Library, revision 2
  Found Google USB Driver, revision 7
  Found Google Play Billing Library, revision 2
  Found Google AdMob Ads SDK, revision 7
  Found Google Analytics SDK, revision 2
  Found Google Web Driver, revision 2
  Found Google Cloud Messaging for Android Library, revision 3
Fetching URL: http://dl.htcdev.com/sdk/addon.xml
Fetching URL: http://software.intel.com/sites/landingpage/android/addon.xml
Fetching URL: http://www.echobykyocera.com/download/echo_repository.xml
Fetching URL: http://developer.lgmobile.com/sdk/android/repository.xml
Fetching URL: http://android-sdk-addons.motodevupdate.com/addons.xml
Fetching URL: http://innovator.samsungmobile.com/android/repository/repository.xml
Fetching URL: http://developer.sonymobile.com/edk/android/repository.xml
Fetching URL: https://dl-ssl.google.com/android/repository/sys-img.xml
Done loading packages.
Fetching https://dl-ssl.google.com/android/repository/addons_list-2.xml
Validate XML
Parse XML
Fetched Add-ons List successfully
Fetching URL: https://dl-ssl.google.com/android/repository/repository-7.xml
Validate XML: https://dl-ssl.google.com/android/repository/repository-7.xml
Parse XML:    https://dl-ssl.google.com/android/repository/repository-7.xml
  Found SDK Platform Android 1.1, API 2, revision 1 (Obsolete)
  Found SDK Platform Android 1.5, API 3, revision 4
  Found SDK Platform Android 1.6, API 4, revision 3
  Found SDK Platform Android 2.0, API 5, revision 1 (Obsolete)
  Found SDK Platform Android 2.0.1, API 6, revision 1 (Obsolete)
  Found SDK Platform Android 2.1, API 7, revision 3
  Found SDK Platform Android 2.2, API 8, revision 3
  Found SDK Platform Android 2.3.1, API 9, revision 2 (Obsolete)
  Found SDK Platform Android 2.3.3, API 10, revision 2
  Found SDK Platform Android 3.0, API 11, revision 2
  Found SDK Platform Android 3.1, API 12, revision 3
  Found SDK Platform Android 3.2, API 13, revision 1
  Found SDK Platform Android 4.0, API 14, revision 3
  Found SDK Platform Android 4.0.3, API 15, revision 3
  Found SDK Platform Android 4.1, API 16, revision 2
  Found ARM EABI v7a System Image, Android API 14, revision 2
  Found ARM EABI v7a System Image, Android API 15, revision 2
  Found ARM EABI v7a System Image, Android API 16, revision 2
  Found Samples for SDK API 7, revision 1
  Found Samples for SDK API 8, revision 1
  Found Samples for SDK API 9, revision 1 (Obsolete)
  Found Samples for SDK API 10, revision 1
  Found Samples for SDK API 11, revision 1
  Found Samples for SDK API 12, revision 1
  Found Samples for SDK API 13, revision 1
  Found Samples for SDK API 14, revision 2
  Found Samples for SDK API 15, revision 2
  Found Samples for SDK API 16, revision 1
  Found Android SDK Platform-tools, revision 14
  Found Android SDK Tools, revision 20.0.3
  Found Android SDK Tools, revision 21 rc3
  Found Documentation for Android SDK, API 16, revision 2
  Found Sources for Android SDK, API 14, revision 1
  Found Sources for Android SDK, API 15, revision 2
  Found Sources for Android SDK, API 16, revision 2
Fetching URL: https://dl-ssl.google.com/android/repository/addon.xml
Validate XML: https://dl-ssl.google.com/android/repository/addon.xml
Parse XML:    https://dl-ssl.google.com/android/repository/addon.xml
  Found Google APIs, Android API 3, revision 3
  Found Google APIs, Android API 4, revision 2
  Found Google APIs, Android API 5, revision 1 (Obsolete)
  Found Google APIs, Android API 6, revision 1 (Obsolete)
  Found Google APIs, Android API 7, revision 1
  Found Google APIs, Android API 8, revision 2
  Found Google APIs, Android API 9, revision 2 (Obsolete)
  Found Google APIs, Android API 10, revision 2
  Found Google APIs, Android API 11, revision 1
  Found Google APIs, Android API 12, revision 1
  Found Google APIs, Android API 13, revision 1
  Found Google APIs, Android API 14, revision 2
  Found Google APIs, Android API 15, revision 2
  Found Google APIs, Android API 16, revision 2
  Found Google TV Addon, Android API 12, revision 2
  Found Android Support Library, revision 10
  Found Google Play Licensing Library, revision 2
  Found Google Play APK Expansion Library, revision 2
  Found Google USB Driver, revision 7
  Found Google Play Billing Library, revision 2
  Found Google AdMob Ads SDK, revision 7
  Found Google Analytics SDK, revision 2
  Found Google Web Driver, revision 2
  Found Google Cloud Messaging for Android Library, revision 3
Fetching URL: http://dl.htcdev.com/sdk/addon.xml 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T14:51:28.117

*   Android SDK 管理器 -> 工具 -> 管理附加站点
*   取消选中 HTC，关闭对话框。
*   包 -> 重新加载。

# php - 多用户数据库

> ID：12312390
> 
> 赞同：-2
> 
> 时间：2012-09-07T05:47:52.460
> 
> 标签：php, mysql, database, phpmyadmin

我正在制作一个网站，其中我们有四种类型的用户，管理员拥有所有权限。

1) 管理员

2) 客户端

3) 共同管理

4) 开发者

您能否建议我如何制作数据库以便根据用户类型决定不同的特权。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:56:05.000

有一个角色表（id、role_name）和一个多对多桥表（user_id、role_id）。

然后使用标准技术来实现它们之间[的多对多关系](http://www.tomjewett.com/dbdesign/dbdesign.php?page=manymany.php)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:55:52.167

是的，我希望这个说明可以帮助你，如果错了，请纠正我

1.维护一个表用户角色，例如{1 Admin，2 Client，3 Developer}，

2.维护一个表可访问性，例如 {1 Read,2 Write}

3.维护一个单独的表 Role_Access 例如 {User_id1,Access_id}

# linux - 在 Linux 内核模块中获取屏幕亮度

> ID：12312392
> 
> 赞同：2
> 
> 时间：2012-09-07T05:47:58.047
> 
> 标签：linux, kernel, kernel-module, sysfs

我正在尝试在我的 Linux 内核模块中获取当前屏幕亮度。但是，我不知道如何访问亮度变量，尽管使用 sysfs 接口很容易在用户空间应用程序中获取它。

请让我知道有关此问题的线索。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T09:32:25.127

通常现代桌面 (GNOME/XFCE4/KDE) 提供了更改亮度的实用程序，但回答您的问题时，您应该在 /sys/class 目录中查找它。提示：寻找背光，您会发现一个驱动程序可以为您提供该功能。

就我而言，它是三星笔记本电脑模块和英特尔。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-10-06T01:30:23.353

为了我

```
/sys/class/backlight/intel_backlight
$ cat actual_brightness 
```

这可以得到实际的亮度。你可能想去`/sys/class/backlight`尝试 ls 看看商店里有什么。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-12-07T17:28:39.290

您可以将目录更改为 /sys/class/backlight/acpi_video0，然后打开 actual_brightness 文件。

```
cd /sys/class/backlight/acpi_video0
cat actual_brightness 
```

# xml - JAX RS - JSON 和 XML 循环/循环引用错误

> ID：12312395
> 
> 赞同：6
> 
> 时间：2012-09-07T05:48:30.920
> 
> 标签：xml, json, jax-rs, jboss7.x, resteasy

我正在使用 JAX RS 使用通常的`@Path, @GET, @Produces({"application/json, "application/xml"})`.

我返回一个 POJO 作为响应，根据请求的类型以 JSON 或 XML 形式发送。**在我添加与另一个实体的多对多**关系之前，它工作正常。这种关系是*双向*的。

我正在使用**JBoss AS 7**。我添加了杰克逊的`@JsonManagedReference`，`@JsonBackReference`但无济于事。

如何克服这一点？

我像这样部署了我的 JAX RS：-

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_3_0.xsd" version="3.0">
    <servlet>
        <servlet-name>javax.ws.rs.core.Application</servlet-name>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>javax.ws.rs.core.Application</servlet-name>
        <url-pattern>/rest/*</url-pattern>
    </servlet-mapping>
</web-app> 
```

我没有扩展任何 Application 类或使用任何 JAXRS 激活器类。

这个 JBoss 的 RESTEasy 使用 Jackson 作为他们的 JSON 提供者，即使那样它为什么不识别`@JsonManagedReference`注释？

我是否必须更新依赖项，如果是，那么如何？以及如何解决如果请求是 XML 的，那么它在 JAXB 中的循环引用中也失败了。

提前致谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-07T10:28:14.227

**Note:** I'm the [**EclipseLink JAXB (MOXy)**](http://www.eclipse.org/eclipselink/moxy.php) lead and a member of the [**JAXB (JSR-222)**](http://jcp.org/en/jsr/detail?id=222) expert group.

**MOXy** offers the `@XmlInverseReference` extension that can be used to support bidirectional relationships in both XML and JSON binding.

* * *

**JAVA MODEL**

***Customer***

`Customer` has a collection of `PhoneNumber` objects.

```
package forum12312395;

import java.util.List;
import javax.xml.bind.annotation.*;

@XmlRootElement
public class Customer {

    private List<PhoneNumber> phoneNumbers;

    @XmlElement(name="phone-number")
    public List<PhoneNumber> getPhoneNumbers() {
        return phoneNumbers;
    }

    public void setPhoneNumbers(List<PhoneNumber> phoneNumbers) {
        this.phoneNumbers = phoneNumbers;
    }

} 
```

***PhoneNumber***

Each `PhoneNumber` object maintains a back pointer to the `Customer` object. This property is annotated with `@XmlInverseReference`.

```
package forum12312395;

import javax.xml.bind.annotation.XmlValue;
import org.eclipse.persistence.oxm.annotations.XmlInverseReference;

public class PhoneNumber {

    private String value;
    private Customer customer;

    @XmlValue
    public String getValue() {
        return value;
    }

    public void setValue(String value) {
        this.value = value;
    }

    @XmlInverseReference(mappedBy="phoneNumbers")
    public Customer getCustomer() {
        return customer;
    }

    public void setCustomer(Customer customer) {
        this.customer = customer;
    }

} 
```

***jaxb.properties***

To use MOXy as your JAXB provider you need to include a file called `jaxb.properties` in the same package as your domain model with the following entry (see: [http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html](http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html)):

```
javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory 
```

* * *

**INPUT**

Below are the documents that we will unmarshal in this example

***input.xml***

```
<?xml version="1.0" encoding="UTF-8"?>
<customer>
    <phone-number>555-WORK</phone-number>
    <phone-number>555-HOME</phone-number>
</customer> 
```

***input.json***

```
{
    "customer" : {
        "phone-number" : ["555-HOME", "555-WORK"]
    }
} 
```

* * *

**DEMO**

```
package forum12312395;

import javax.xml.bind.*;
import javax.xml.transform.stream.StreamSource;
import org.eclipse.persistence.jaxb.UnmarshallerProperties;
import org.eclipse.persistence.oxm.MediaType;

public class Demo {

    public static void main(String[] args) throws Exception {
        JAXBContext jc = JAXBContext.newInstance(Customer.class);

        // JSON
        Unmarshaller jsonUnmarshaller = jc.createUnmarshaller();
        jsonUnmarshaller.setProperty(UnmarshallerProperties.MEDIA_TYPE, MediaType.APPLICATION_JSON);
        StreamSource json = new StreamSource("src/forum12312395/input.json");
        Customer customerFromJSON = (Customer) jsonUnmarshaller.unmarshal(json);
        for(PhoneNumber phoneNumber : customerFromJSON.getPhoneNumbers()) {
            System.out.println(phoneNumber.getCustomer());
        }

        // XML
        Unmarshaller xmlUnmarshaller = jc.createUnmarshaller();
        StreamSource xml = new StreamSource("src/forum12312395/input.xml");
        Customer customerFromXML = (Customer) xmlUnmarshaller.unmarshal(xml);
        for(PhoneNumber phoneNumber : customerFromXML.getPhoneNumbers()) {
            System.out.println(phoneNumber.getCustomer());
        }
    }

} 
```

* * *

**OUTPUT**

Below is the output from running the demo code. As you can see the `customer` property is populated on all of the `PhoneNumber` objects.

```
forum12312395.Customer@3ef38fd1
forum12312395.Customer@3ef38fd1
forum12312395.Customer@320eef20
forum12312395.Customer@320eef20 
```

* * *

**FOR MORE INFORMATION**

*   [http://blog.bdoughan.com/2010/07/jpa-entities-to-xml-bidirectional.html](http://blog.bdoughan.com/2010/07/jpa-entities-to-xml-bidirectional.html)
*   [http://blog.bdoughan.com/2011/08/json-binding-with-eclipselink-moxy.html](http://blog.bdoughan.com/2011/08/json-binding-with-eclipselink-moxy.html)
*   [http://blog.bdoughan.com/2012/05/moxy-as-your-jax-rs-json-provider.html](http://blog.bdoughan.com/2012/05/moxy-as-your-jax-rs-json-provider.html)
*   [http://blog.bdoughan.com/2011/08/binding-to-json-xml-geocode-example.html](http://blog.bdoughan.com/2011/08/binding-to-json-xml-geocode-example.html)

# jquery - 我这里有 OpenLayers / jQuery 冲突吗？

> ID：12312398
> 
> 赞同：3
> 
> 时间：2012-09-07T05:48:36.780
> 
> 标签：jquery, ruby-on-rails, coffeescript, openlayers

这是我的控制器 js.coffee 文件中的咖啡脚本代码。我只是想打开一个以特定位置为中心的简单地图等。我的地图工作并`moveend_event`触发回调，因为如果我取消注释`alert("hello")`调用它工作正常。

```
$(document).ready ->

  map = undefined
  options =
    projection: new OpenLayers.Projection('EPSG:900913')
    displayProjection: new OpenLayers.Projection("EPSG:4326")
    center: new OpenLayers.LonLat(-115.540123, 54.073189)
    controls: [new OpenLayers.Control.Navigation(), new OpenLayers.Control.PanZoomBar(), new OpenLayers.Control.LayerSwitcher()]
    eventListeners:
      'moveend': moveend_event
  map = new OpenLayers.Map("map_element", options)
  osm = new OpenLayers.Layer.OSM('OpenStreetMap Layer')
  map.addLayer osm
  map_center = new OpenLayers.LonLat(-115.540123, 54.073189).transform(new OpenLayers.Projection("EPSG:4326"), map.getProjectionObject())
  map.setCenter(map_center, 11)

moveend_event = ->
  #alert "Hello!"
  #$(".map_location").innerHTML "Hello!" 
```

我很接近，但我不能认为我可能有 Openlayers / jQuery 冲突。如果我尝试使用`$(".map_location").innerHTML "Hello!"`页面创建者设置我的 map_location div 并且错误控制台显示：

> TypeError: 'undefined' 不是函数（评估 '$(".map_location").innerHTML("Hello!")'）

如果有帮助，我会在打开图层之前加载 jquery。我做了一些谷歌搜索，它可能是 jQuery noConflict 模式（http://api.jquery.com/jQuery.noConflict/），但我是一个 javascript 新手，我不知道这里的问题或如何解决它。我确信这很容易解决，但我目前不知道。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T05:50:39.573

`innerHtml`不是 jQuery 函数，请使用`$('selector').html(new html here)`; 反而。

`html`是 javascript 的 jQuery 对应物`innerHtml`

# wcf - protobuf-net 序列化消息的低效传输

> ID：12312404
> 
> 赞同：3
> 
> 时间：2012-09-07T05:49:03.930
> 
> 标签：wcf, performance, protocol-buffers, protobuf-net, nettcpbinding

我有一个`WCF`托管在 Windows Server 2008/IIS 上的服务，它`nettcpbinding`使用`DataContractSerializer`. 此服务由存在各种性能问题的 Windows 窗体应用程序使用。为了减少通过我们的公司网络从服务器到客户端传输的有效负载，我决定使用该属性将`protobuf-net`（版本 r580）序列化引擎集成到我的一些服务操作中。`ProtoBehavior`

在集成 之前`protobuff-net`，序列化服务器响应的累积大小约为 18 MB。之后，它是 1.6 MB，通过客户端和服务器上的 WCF 跟踪日志验证；不幸的是，这并没有减少客户端应用程序的加载时间。

进一步深入研究后，我发现客户端通过网络接收的字节，pre-`protobuf`与 post-`protobuf`仅相差约 1MB，正如网络流量工具所报告的那样。怎么会这样？以序列化形式（由多条消息组成）相差近 15 MB 的有效载荷如何在通过网络传输时仅代表 1 MB 的差异？如果底层`protobuff`流以某种方式组装，生成的 TCP 流是否会过度膨胀？

此外，我应该注意到`protobuf-net`1.6 MB 的序列化有效负载由多个响应消息组成，其中一个本身大约为 1.25 MB；这可能是问题吗？我应该努力将其分解为较小的响应吗？如果有，门槛是多少？

我将不胜感激有关此的任何意见，因为这让我困惑了几个星期。我花了几个小时浏览与 相关的帖子`protobuf-net`，虽然它兑现了提供紧凑序列化格式的承诺，但我无法在实践中实现它的好处。

提前致谢。

# permissions - 有没有人遇到过这个 php 错误，警告：imagejpeg()？

> ID：12312406
> 
> 赞同：0
> 
> 时间：2012-09-07T05:49:19.233
> 
> 标签：permissions, cpanel, php, concrete5

```
Warning: imagejpeg() [function.imagejpeg]: Unable to open '/home/SITENAME/public_html/files/cache/052f225905c1618003df0c5088aec7a9.jpg' for writing: Permission denied in /home/SITENAME/public_html/concrete/helpers/image.php on line 172 
```

我清空了缓存目录，但仍然没有运气，如果我更改缓存文件夹的权限，则会出现另一个错误，我根本无法使用该站点：

```
Warning: require_once(Zend/Cache/Backend/File.php) [function.require-once]: failed to open stream: No such file or directory in /home/MYACCOUNT/public_html/concrete/libraries/3rdparty/Zend/Cache.php on line 133

Fatal error: require_once() [function.require]: Failed opening required 'Zend/Cache/Backend/File.php' (include_path='.:/usr/lib/php:/usr/local/lib/php:/home/owen/php') in /home/MYACCOUNT/public_html/concrete/libraries/3rdparty/Zend/Cache.php on line 133 
```

我不明白？我以前从来没有遇到过这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:53:12.350

对我来说听起来像是一个权限问题，但我们不能从这方面判断。

如果您可以通过 FTP（或 CD）进入该 /home/SITENAME/public_html/files/

并查看“文件”是否归 public_html 所有，并具有与 public_html 相同的权限

然后查看他们需要哪些权限才能进行托管设置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T06:11:46.990

1.  检查该目录是否存在。
2.  检查 web 服务器守护进程，大部分时间 - www-data，是否具有对该特定目录的写入权限。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T09:34:06.527

为了将来参考，问题是 PHP 处理程序。它已更改为 CGI 模式（与 DSO 相对）并且他们将 suEXEC '关闭' - 可能对下线的人有用。

# ios - iOS解析内部Json

> ID：12312407
> 
> 赞同：0
> 
> 时间：2012-09-07T05:49:29.650
> 
> 标签：ios, json, nsarray

嗨，我有以下需要解析的 json，但是，我正在努力解析内部数组。我目前只打印每个内部数组，但我想打印每个标题并将标题添加到数组中。感谢您的任何帮助！

**JSON**

```
{"nodes":[{
    "node":{
        "nid":"1420857",
        "title":"Title 1",
        "votes":"182",
        "popular":"True",
        "teaser":"Teaser 1"
    }},
    {"node":{
        "nid":"1186152",
        "title":"Title 2",
        "votes":"140",
        "popular":"True",
        "teaser":"Teaser 2"
    }},
    {"node":{
        "nid":"299856",
        "title":"Title 3",
        "votes":"136",
        "popular":"True",
        "teaser":"Teaser 3"
    }}
]} 
```

**Json 解析器**

```
 NSError *error = nil;
    NSData *jsonData = [NSData dataWithContentsOfURL:[NSURL URLWithString:@"http://www.somefilename.json"]];
    if (jsonData) {
        id jsonObjects = [NSJSONSerialization JSONObjectWithData:jsonData options:NSJSONReadingMutableContainers error:&error];
        if (error) {
            NSLog(@"error is %@", [error localizedDescription]);
            return;
        }
        NSArray *keys = [jsonObjects allKeys];
        for (NSString *key in keys) {
            NSLog(@"%@", [jsonObjects objectForKey:key]);
        }
    } else {
        // Handle Error
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:00:52.163

只需键入它：

```
NSArray *nodes = (NSArray*)[jsonObjects objectForKey:@"nodes"];
for (NSDictionary *node in nodes){
     // do stuff...
} 
```

返回`id`（如`-[objectForKey:]`, 和`-[objectAtIndex:]`）的方法可以返回任何objective-c 对象。您需要提前知道将其类型转换为什么以对其执行适当的操作。JSON 被转换为 NSObject 等价物：

*   `object`->`NSDictionary`
*   `array`->`NSArray`
*   `string`->`NSString`
*   `number`->`NSNumber`
*   `boolean`->`NSNumber`
*   `float`->`NSNumber`
*   `null`->`NSNull`

要区分各种 NSNumber，您必须调用适当的类型方法：`-[intValue]`、`-[boolValue]`、`-[floatValue]`。查看[NSNumber 文档](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/nsnumber_Class/Reference/Reference.html)了解更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-29T03:55:39.997

你可以使用我的方法进行json解析，

**解析方法：**

```
 -(void)jsonDeserialize:(NSString *)key fromDict:(id)content completionHandler:(void (^) (id parsedData, NSDictionary *fromDict))completionHandler{
    if (key==nil && content ==nil) {
        completionHandler(nil,nil);
    }
    if ([content isKindOfClass:[NSArray class]]) {
        for (NSDictionary *obj in content) {
          [self jsonDeserialize:key fromDict:obj completionHandler:completionHandler];
        }
    }
    if ([content isKindOfClass:[NSDictionary class]]) {
        id result = [content objectForKey:key];
        if ([result isKindOfClass:[NSNull class]] || result == nil) {
            NSDictionary *temp = (NSDictionary *)content;
            NSArray *keys = [temp allKeys];
            for (NSString *ikey in keys) {
             [self jsonDeserialize:key fromDict:[content objectForKey:ikey] completionHandler:completionHandler];
            }
        }else{
            completionHandler(result,content);
        }
    }
} 
```

**方法调用：**

```
 NSData *content = [NSData dataWithContentsOfFile:[[NSBundle mainBundle]pathForResource:@"Sample" ofType:@"json"]];
    NSError *error; 
```

> //获取序列化的json数据...

```
 id dictionary = [NSJSONSerialization JSONObjectWithData:content options:NSJSONReadingMutableContainers error:&error]; 
```

> //获取名为*GetInfo的键的数据*

```
 [self jsonDeserialize:@"GetInfo" fromDict:dictionary completionHandler:^(id parsedData, NSDictionary *fromDict) {
            NSLog(@"%@ - %@",parsedData,fromDict);
        }]; 
```

# ios - 在应用商店提交带有开发配置文件的应用

> ID：12312413
> 
> 赞同：0
> 
> 时间：2012-09-07T05:49:47.043
> 
> 标签：ios, app-store, ipa, provisioning-profile

我刚刚向应用商店提交了一个应用程序，它被提交并上线了，但现在我意识到我使用 Ad-Hoc 配置文件创建了 ipa（这是 100% 确定的）。但应用商店上的应用不能在没有分发配置文件的情况下提交。这怎么可能？？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T05:55:30.153

是的，您不能在不制作分发配置文件的情况下提交应用程序。

-首先制作分发配置文件。-在代码签名中选择分发配置文件 -归档您的项目。- 选择提交应用程序到苹果商店。- 写下你的 iTunes 连接用户名和密码 - 并分发。

# visual-studio-2010 - 如何使用 C# 代码在 TFS 的 VS TeamExplorer 中的 Project -> Workitems 下访问 My/Shared Queries？

> ID：12312415
> 
> 赞同：0
> 
> 时间：2012-09-07T05:49:46.347
> 
> 标签：visual-studio-2010, tfs

我们如何使用 C# 代码访问 Visual Studio TeamExplorer for TFS 中 Project -> Workitems 下的 MyShared 或 Shared Queries？

还有我们如何使用 C# 访问我在 TeamSystem Web Access 中看到的 MyFavorites 项目？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T21:33:42.757

关键是要知道 QueryHierarchy 包含 My Queries 和 Shared Queries 文件夹。

```
TfsTeamProjectCollection coll = TfsTeamProjectCollectionFactory.GetTeamProjectCollection(new Uri("TfsCollectionUrl"));  
WorkItemStore store = new WorkItemStore(coll);  
myproject = store.Projects["projectName"];  
var MyQueries, SharedQueries;

foreach (QueryFolder folder in myproject.QueryHierarchy)  
{  
   if (folder.IsPersonal == true)  
      **MyQueries** = folder;
   else
      **SharedQuereis** = folder;
 } 
```

见[这里](http://blogs.msdn.com/b/team_foundation/archive/2010/06/16/work-item-tracking-queries-object-model-in-2010.aspx)的好例子。

我不知道在 Visual Studio 2010 中使用 C# 访问 Team System Web Access 使用的我的收藏夹的方法。

# javascript - dgrid 的 grid.right 在 IE 中给出错误

> ID：12312417
> 
> 赞同：1
> 
> 时间：2012-09-07T05:49:52.240
> 
> 标签：javascript, dojo, dgrid

我正在使用 dgrid 和 CellSelection 插件来选择一个单元格。假设网格有 4 列，当第一个单元格填充数据时（通过某些操作，比如单击按钮），焦点移动到下一个单元格，再次在这个单元格中填充数据，将焦点移动到下一个单元格，依此类推。

上述情况在**Chrome**和**FF**中运行良好，但在**IE 9**中失败，出现此错误

**无法获取属性“className”的值：对象为空或未定义**

我正在像这样检索“选定的单元格”。

```
grid.on(".dgrid-cell:click", function(evt){
        selectedCell = grid.cell(evt); 
```

并在 selectedCell 中填充数据（通过单击按钮）并移动到下一个单元格

```
 var item = grid.store.get(selectedCell.row.data.id);
 item.field = 'FirstCell';
 grid.store.put(item, {
     overwrite : true
 });

 grid.deselect(selectedCell);
 grid.select(grid.right(selectedCell)); 
```

我发现在 grid.right 调用中抛出了错误，但无法在其中进行太多探索

对此有什么建议吗？

# javascript - javascript函数访问ios原生特性

> ID：12312418
> 
> 赞同：0
> 
> 时间：2012-09-07T05:49:55.910
> 
> 标签：javascript, ios, cordova

这种情况：和PhoneGap一样，我想定义和调用一个不存在的JavaScript函数，需要访问ios特性。例如，

javascript代码：

```
function onClickButton(){
    toModule(true, true, "title1", 1);
} 
```

我想通过 toModule 函数访问 iOS 功能。但是如何？你能告诉我吗？

PS：我知道一种解决方案 JS->iOS 是使用 UIWebViewDelegate 的

```
- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType 
```

但我不想要那个解决方案，只需处理 JS 函数 toModule(...)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T07:46:27.373

从 javascript(phonegap) 您不能直接访问 ios 本机代码，而是应该使用或开发一个可以建立此连接的 phonegap 插件。

您可以在[插件开发指南中找到更多信息](http://docs.phonegap.com/en/2.0.0/guide_plugin-development_index.md.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-07T07:21:18.737

这非常简单 第 1 步）在您的项目中包含 cordova.js 文件 第 2 步）在您的 javascript 文件中包含 cordova.js 并在您的 javascript 文件中添加以下代码

```
 cordova.exec(
                              function successCallback() {

                              }, 
function errorHandler(err) {
                              },
'Login', 'callLogin', [param]);
                              } 
```

这里Login是native类的名字，callLogin是Login类中的函数，param是你要发送到native文件的参数数组

Step3) 转到 config.xml 和这个

```
<feature name="Login">
        <param name="ios-package" value="Login"/>
    </feature> 
```

第4步）

```
- (void)Login:(CDVInvokedUrlCommand*)command
    { // this is the native function, which is being called from javascript file, do your work here
     } 
```

Step5）如果您想将任何数据从本机发送回js文件，您需要编写以下代码。

NSString * jsCallBack = [NSString stringWithFormat:@"callJsFunction(parameters)]; [self.webView stringByEvaluatingJavaScriptFromString:jsCallBack];

callJsFunction() 是要从本机调用的 js 函数的名称。（只能发送字符串）

Step6) 要将值从本机获取到 js，您需要在 js 文件中编写 callJsFunction(parameters)。在js文件中写入以下函数

callJsFunction(参数) { }

这是从js调用native函数和从native class调用js的完整过程。

# javascript - jQuery 在两个字符串标识符之间选择 HTML

> ID：12312419
> 
> 赞同：12
> 
> 时间：2012-09-07T05:50:02.477
> 
> 标签：javascript, jquery, regex, match

我正在尝试制作图像幻灯片，我所拥有的只是一个富文本编辑器来输入图像和文本。所以从这个html：

```
<h1>title</h1>
<p>description...</p>

<p>#slider</p>

<p><img src="a.jpg" /></p>
<p><img src="b.jpg" /></p>
<p><img src="c.jpg" /></p>

<p>#end-slider</p> 
```

您将如何在 #slider 和 #end-slider 之间选择 html？

这类似于在博客评论中提取 [link] 和 [/link] 之间的文本，例如：[link]http://google.com[/link]

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-07T05:53:59.910

```
$(document).ready(function() {
    $('p:contains("#slider")')
      .nextUntil('p:contains("#end-slider")')
      .wrapAll("<div id='stuff'></div>");
    var required = $('#stuff').html();
}); 
```

[http://jsfiddle.net/483kL/](http://jsfiddle.net/483kL/)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-07T05:57:20.590

试试这个：

```
$('p:contains("#slider")').nextUntil('p:contains("#end-slider")') 
```

更新：

```
var end = $('p:contains("#end-slider")');
$('p:contains("#slider")').nextUntil(end).andSelf().add(end) 
```

[http://jsfiddle.net/63kQC/](http://jsfiddle.net/63kQC/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-07T06:04:36.167

试试这个

```
$(document).ready(function(){
   $('p:contains("#slider")').nextUntil('p:contains("#end-slider")');
}); 
```

# java - 使用球衣创建 Rest 客户端时出错

> ID：12312421
> 
> 赞同：0
> 
> 时间：2012-09-07T05:50:28.827
> 
> 标签：java, rest, jersey

我一直在使用球衣创建一个 Rest 客户端。
我收到以下异常：

```
 com.sun.jersey.api.client.ClientHandlerException: java.lang.IndexOutOfBoundsException:  Index: 0, Size: 0
     at  com.sun.jersey.client.urlconnection.URLConnectionClientHandler.handle(URLConnectionClientHandler.java:128)
    at com.sun.jersey.api.client.Client.handle(Client.java:435)
    at com.sun.jersey.api.client.WebResource.handle(WebResource.java:557)
    at com.sun.jersey.api.client.WebResource.access$300(WebResource.java:69)
    at com.sun.jersey.api.client.WebResource$Builder.put(WebResource.java:475) 
```

下面是我的休息客户：

```
public class RestClient {

private WebResource webResource;
private Client client;
private static  String BASE_URI;

public RestClient(String url)
{
    BASE_URI = url;
}

private void connect() {
   com.sun.jersey.api.client.config.ClientConfig config = new com.sun.jersey.api.client.config.DefaultClientConfig();
   client = Client.create(config);
    client.setReadTimeout(50000);
    webResource = client.resource(BASE_URI);
}

private void disconnect() {
    client.destroy();
}

public TResponse topup(TRequest request) {
    TResponse respone=null;
    try{
    System.out.println("::::::::::::::::start");
    this.connect();
    System.out.println("connected to base URL "+BASE_URI);
    ClientResponse clientRequest = webResource.path("/topup").accept(MediaType.APPLICATION_XML).put(ClientResponse.class, request);
    respone = (TopUpResponse)clientRequest.getEntity(TopUpResponse.class);
    this.disconnect();
    }
    catch(Exception e){
        e.printStackTrace();
    }
    System.out.println(":::::::::finish");
    return respone;

}
} 
```

请帮我解决这个异常。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T06:20:42.043

你有@XxmlRootElement 注释。请阅读[这篇](http://jersey.576304.n2.nabble.com/XmlRootElement-not-added-to-generated-java-sources-td3511504.html)文章了解更多详情

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T13:00:48.720

使用 jersey api 一切似乎都很容易：

获取电话。

客户端客户端 = Client.create();

```
WebResource webResource = client.resource("http://sample.com/rest_service");

MultivaluedMap queryParams = new MultivaluedMapImpl();
queryParams.add("PARAM1", param1);
queryParams.add("PARAM2", param2);

RESTResult s = webResource.queryParams(queryParams)
                                     //Check the return type of the service
                                     .accept(MediaType.APPLICATION_JSON)
                                     //Put a object with XmlRootElement to map the result
                                     .get(RESTResult .class);

 println(s.status);

 //Also you can return the result in a string
 String s = webResource.queryParams(queryParams).get(String.class); 
```

REST结果代码

```
import javax.xml.bind.annotation.XmlRootElement;
@XmlRootElement
public class RESTAuthorizationResult
{
    public String status = "";   
    public String message = "";      
} 
```

# python - 两个文件在行方面的区别

> ID：12312430
> 
> 赞同：1
> 
> 时间：2012-09-07T05:51:04.600
> 
> 标签：python, windows, file, scripting

我有两个大文件（file1 和 file2）。这两个文件都组织成行。我需要生成第三个文件 file3，其中包含文件 1 但不在文件 2 中的行。这些行没有排序。

在 Windows 中获取它的最简单（最智能）的方法是什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-07T05:55:33.010

最好的策略可能取决于文件到底有多大。如果第一个文件可以放入内存，那么您可以轻松地构建一组它的行，并`file2`从该集中删除行。这需要的内存量与大小大致成正比`file1`。

```
with open('file1') as f1:
    lineset = set(f1)
with open('file2') as f2:
    lineset.difference_update(f2)
with open('file3', 'w') as out:
    for line in lineset:
        out.write(line) 
```

请注意，此解决方案还将消除`file1`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:27:34.610

虽然我自己可能会使用 set 方法，`difflib`但标准库中有另一个选项：

```
from difflib import Differ

with open('a.txt') as a, open('b.txt') as b:
    missing_from_b = [
        diff[2:] for diff in Differ().compare(a.readlines(), b.readlines())
        if diff.startswith('-')
    ]
    print missing_from_b 
```

# spring - 从 PHP (Zend) 迁移到 Java (Spring with BlazeDS) AMF 服务

> ID：12312432
> 
> 赞同：2
> 
> 时间：2012-09-07T05:51:11.930
> 
> 标签：spring, zend-framework, blazeds, amf

以前我们使用 php 框架 Zend 作为 Flash 应用程序的后端。我们想将此后端迁移到我们的 Java 服务器。我们正在使用 Spring，所以我想最简单的方法是使用 BlazeDS，因为与 Spring 的集成已经完成。

我不确定，但感觉 BlazeDS 也是客户端的解决方案。我的客户已经完成并使用 AMF 格式在特定 URL 发送/接收特定对象。

使用 BlazeDS 开发必须尊重这种格式的服务是否可能/容易？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T11:03:26.287

我已经成功迁移了我的部分服务。

实际上，一旦正确配置了 Blaze DS，它就非常简单了。

目前，我注意到 Zend_AMF 和 Blaze DS 之间的唯一区别是变量类型的映射方式（例如，对于整数 Zend_AMF 将其作为数字发送，而 Blaze DS 将其作为 int 发送）以及类名的发送方式（在 Zend_AMF 中，我们使用一个映射来映射所有类名，而 Blaze DS 发送完全限定名）。

希望修改 ActionScript 代码以映射 java 类对我来说并不难，这样不会有什么大不了的。

# jquery - SoundManager2 SWF 插件弄乱了滚动条（仅在 Google Chrome 中）

> ID：12312435
> 
> 赞同：3
> 
> 时间：2012-09-07T05:51:16.713
> 
> 标签：jquery, css, google-chrome, flash, soundmanager2

不确定这是 Google Chrome 错误、SoundManager 问题还是我做错了什么。它仅在 Google Chrome 中发生，并且**仅**在启用 Flash 时发生。

我有一个`<div>`父母`overflow-y: auto`。

当[SoundManager](http://www.schillmania.com/projects/soundmanager2/)加载时，它会在页面底部创建一个新`<div>`元素。`#sm2-container`在 上`$(window).load()`，我像这样重新定位该元素：

```
$("#sm2-container").css({position: "absolute", top: "0px", zIndex: "10"}); 
```

但是，滚动条出现混乱：

![存在滚动问题](../Images/40508cf444750c1063e7cbb1818263db.png)

当我禁用 Flash 或 "display:none" 时`#sm2-container`，它看起来和行为正常，但我没有声音：

![滚动问题消失了](../Images/30915da8be7647879f7efe632378f21e.png)

[你可以在这里](http://pote.ca/bible/read/)看到这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:07:33.637

这对我来说也绝对像 Chrome 错误，因为滚动条只*显示*移动，为了滚动，我必须将鼠标瞄准它必须放置的位置。

**修复：**通过设置`$('#sm2-container').css('z-index','-10');`我可以隐藏它，这修复了 Chrome 中的滚动条。声音仍然可以播放（据我了解，它的控件位于右侧面板中，因此可以隐藏它）。

应该有什么可见的`#sm2-container`吗？它对我来说看起来是空的，只有右键单击它才会显示 Flash 菜单。

# c# - c# 当我使用 List.Where 处理从原始列表中提取的列表时，如何更改原始列表的值

> ID：12312436
> 
> 赞同：0
> 
> 时间：2012-09-07T05:51:24.490
> 
> 标签：c#, .net, linq

我有一个包含许多块的列表，块分为旧块和新块，使用“块”类中的属性“IsOld”来指定它们。现在我像这样提取旧的：

```
List<Block> olds = blocks.Where(item => {return item.IsOld;}).ToList(); 
```

在我更改“olds”列表中项目的某些属性值后，原始列表“blocks”中的相应值不会改变。我不知道如何处理它。这意味着如果我使用 List.Where 方法，它会为每个项目制作一个深层副本？

* * *

'Block' 是一个结构，我首先认为它是一个类。
很抱歉因为我的粗心给你添麻烦了o(︶︿︶)o

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T05:56:44.033

您是说您正在更改**properties**的值，而不是替换对象本身。因此，块列表中的原始对象也应该更新，即如果块被定义为类类型。如果 Block 是一个结构，那么每个分配都是在原始对象的副本中完成的，那么您在 olds 列表中的更改不应反映在原始块列表中。

块是结构吗？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-07T06:00:15.450

如果您想更改“旧”项目的属性，为什么不这样做：

```
blocks.ForEach(item => 
{
    if (item.IsOld)
    {
        // Do your changes here ...
    }
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-07T05:57:43.407

而不是你在做什么，试试这个：

`blocks.ForEach(item => { if(item.IsOld){/*perform change here*/} });`

另外，如果您想查看哪里出错了，请将您的代码粘贴到您要更改的地方，这样会更清楚

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-07T06:26:43.753

由于 block 是一个结构，你可以这样做：

```
List<Block> updatedBlocks = blocks
    .Select(item => item.IsOld ? new Block { X=item.X, Y=item.Y, Z=updatedZ } : item)
    .ToList(); 
```

更易读，定义一个方法

```
private Block UpdateBlock(Block sourceValue)
{
    if (!sourceValue.IsOld)
        return sourceValue;

    var result = new Block // ...
    // populate result here...
    return result;
} 
```

然后像这样调用它：

```
List<Block> updatedBlocks = blocks.Select(UpdateBlock).ToList(); 
```

# google-maps - 将谷歌地图放在另一个 div 中（提供的图像）

> ID：12312437
> 
> 赞同：-2
> 
> 时间：2012-09-07T05:51:46.520
> 
> 标签：google-maps, google-maps-api-3

谷歌地图 api 总是需要高度：100%。我该如何防止这种情况并将其放置在未知的高度和宽度 div 中？

根据我的图像，我得到了 div 位置：固定在底部。

[https://docs.google.com/drawings/d/1Cf9TU3raXU_zuppO8K1DHcPmLrRN_HgaLgFPIchH6Vw/edit](https://docs.google.com/drawings/d/1Cf9TU3raXU_zuppO8K1DHcPmLrRN_HgaLgFPIchH6Vw/edit)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T20:06:28.557

解决了

```
#map { 
position: absolute; 
top: 0px; 
left: 0; 
right: 0; 
bottom:115px; 
z-index: 1; 
overflow: 
hidden;
margin-left: 502px; 
```

}

# c# - 如何运行 web 应用程序，就像我们在 windows 窗体应用程序中一样，通过单击 bin 文件夹中的 .exe 文件

> ID：12312438
> 
> 赞同：-2
> 
> 时间：2012-09-07T05:51:57.313
> 
> 标签：c#, visual-studio-2010

我需要一种运行 Web 应用程序的方法，就像我们通过单击 bin 文件夹中的 .exe 文件来运行 Windows 窗体应用程序一样。

示例：如果创建了名为“helloworld”的windows窗体应用程序，我们可以移动到存储项目的实际文件夹，我们可以通过移动到helloworld文件夹->bin文件夹->调试文件夹->helloworld手动运行应用程序。可执行程序。

同样，我需要一种方法来运行基于 wed 的应用程序。我在 Visual Studio 2010 中使用 C# 语言

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:13:55.693

您通过将 Web 应用程序发布到 Web 服务器然后在浏览器中打开链接来运行 Web 应用程序。您的选择是：

1.  在 Visual Studio 中打开项目并按 F5 开始调试。Visual Studio 将启动一个内置的网络服务器来托管您的应用程序。在它运行时，您将能够通过类似的 url 访问它`http://localhost:53212/appurl`

2.  如果您安装了 IIS，您可以将项目发布到您的 IIS。即使没有 Visual Studio，您也可以通过类似于`http://localhost/`或`http://localhost/myapp`取决于设置的 url 访问应用程序

3.  您可以选择网络托管服务提供商并将您的网络应用程序发布到服务器。您将能够通过 url 访问您的应用程序，`http://myaccount.hostingcompany.com/`或者如果您购买域名而不是通过`http://yourowndomain.com`

如果您需要一个图标以便用户可以双击它并转到您的 Web 应用程序 url，请创建一个文本文件，其中包含

```
 [InternetShortcut]
 URL=http://www.yourdomainurl.com/ 
 IconFile=
 IconIndex=0 
```

并将其存储为 Yourname.url 文件。

但是，如果您需要一个行为类似于网页的可执行文件，您可以在 Windows 应用程序中托管一个 webbrowser 对象或创建 WPF 应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:54:31.453

您可以创建一个 Windows 窗体项目并添加一个带有您希望它指向的 URL 的 Web 浏览器控件。

您也可以在没有 IIS 的情况下运行它（从命令行）或将其作为 Windows 服务安装。

[http://www.realsoftwareblog.com/2012/03/running-standalone-web-application-as.html](http://www.realsoftwareblog.com/2012/03/running-standalone-web-application-as.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T05:53:37.280

对于 Web 应用程序，您必须在 IIS（Web 服务器）上托管。

这是一个可以帮助您[开始使用 IIS的链接](http://www.dotnetfunda.com/articles/article1247-how-to-host-aspnet-application-on-the-web-server-iis.aspx)

Web应用程序需要一个Web服务器，运行并不是点击一个exe那么简单。

.net 确实允许您[为网络应用程序创建安装程序](http://www.hanselman.com/blog/MicrosoftWebApplicationInstallerOpenSourceWebAppsDeliveredAndInstalled.aspx)。

# r - 在 R 中创建包时链接多个文件

> ID：12312440
> 
> 赞同：9
> 
> 时间：2012-09-07T05:52:04.317
> 
> 标签：r, class, inheritance, packages

我正在尝试在 R 中创建一个包，其中我创建了许多新的自定义类。每个类都在不同的文件中。类从父类继承并继承到其他类。

在运行我的代码时，我这样称呼它们

```
source("package/father.R")
source("package/son.R")
source("package/grandson.R") 
```

孙类中定义的孙类需要的一些方法的定义。我使用 package.skeleton() 来调用它们中的每一个并创建一个包，它似乎工作正常。但是在运行 R CMD Check（以及尝试安装到 R 中）时，它会抛出一个错误，因为该函数会尝试按字母顺序调用文件，因此文件 grandson.R 在 son.R 之前被调用，它会显示错误提示方法尚未定义。如果我将名称更改为 zgrandson.R，R 会最后调用该文件，并且一切似乎都工作正常，但这显然不是解决问题的方法。

我已经阅读了创建包的教程，但它们似乎都处理了在 R 中没有继承/调用其他文件的简单情况。希望我已经让自己清楚了。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-07T06:08:12.453

据我了解，您可以使用文件中的`Collate`字段`DESCRIPTION`来控制它。

引用[编写 R 扩展手册](http://cran.r-project.org/doc/manuals/R-exts.html#The-DESCRIPTION-file)：

> 当为包安装处理这些 R 代码文件时，“整理”字段可用于控制包中 R 代码文件的整理顺序。默认是根据“C”语言环境进行整理。如果存在，则整理规范必须列出包中的所有 R 代码文件（考虑可能的特定于操作系统的子目录，请参阅包子目录）作为相对于 R 子目录的文件路径的空格分隔列表。需要引用包含空格或引号的路径。将使用特定于操作系统的排序规则字段（“Collat​​e.unix”或“Collat​​e.windows”）而不是“Collat​​e”。

因此，您可以指定：

```
Collate:
  father.r
  son.R
  grandson.r 
```

或者只是重命名文件，使字典排序顺序会产生正确的整理顺序，正如您在问题中指出的那样。

* * *

但也请参阅@DirkEddelbuettel 在类似问题上的回答[。](https://stackoverflow.com/a/10526670/602276)

# c++ - 布尔运算符，在 C++ 中有没有捷径可以做到这一点？

> ID：12312442
> 
> 赞同：0
> 
> 时间：2012-09-07T05:52:26.353
> 
> 标签：c++, syntax

我想做以下事情：

```
time_heap.insert(aid.arrival(event)!=NULL); 
```

`aid.arrival(event)`即，如果不是，则将的返回值插入到 time_heap 中`NULL`。

这是一个将在我的程序的主控件中经常发生的操作，并且希望在 C++ 中有一种简便的方法来完成它（除了定义我自己的函数来处理它）

```
186         void insert_event(Event* value) {
187             heap.push_back(value);               // expand size of heap
188             int i = heap.size() - 1;           // set heap index to that of "value" 
189             int parent = floor((i - 1)/2);
190 
191             while (parent >= 0 && parent < heap.size()) {                //check that parent is valid
192                 if (*heap[parent] > *value) {
193                     heap[i] = heap[parent];
194                     heap[parent] = value;                                // if "value" is smaller than parent move it up in heap (swap)
195                     i = parent;                                         // set new index of "value"
196                     parent = floor((i - 1)/2);                          // set new parent of "value"
197                 }
198                 else                                                  // if parent is not larger, value satisfies min-heap condition (since all below are lower, too)
199                     break;                                                  // (i.e. we are done)
200             }
201         } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T05:54:14.397

```
if (Arrival *arrival = aid.arrival(event))
    time_heap.insert(arrival); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-07T06:30:27.700

该表达式`time_heap.insert(aid.arrival(event)!=NULL);`不会按照您的想法进行。运算符是一个布尔值，`!=`返回 0 或 1。所以表达式是一个整数，我怀疑你的代码不会出错，因为 insert 需要一个指针。您可能可以使用类似的东西

```
if ((Arrival *a = aid.arrival(event)) != NULL)
    time_heap.insert(a); 
```

甚至

```
if (Arrival *a = aid.arrival(event))
    time_heap.insert(a); 
```

就我个人而言，我更喜欢第一种选择，因为有人（我）可能会错过`=`与`==`下一次修改代码之间的区别。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T05:54:20.850

您应该能够删除与 NULL 的比较，因为 NULL 被认为是 0 值，因此是错误的。给定“x =aid.arrival(event)”，您可以选择`if(x){time_heap.insert(x);}`

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-09-07T06:17:04.460

也许像我最喜欢的三元运算符这样的东西？：

```
#include <iostream>
#include <set>

class A {
private:
  int m_i;
public:
  A() : m_i(0) { }
  A(int i) : m_i(i) { }
  int get() const { return m_i; }
  bool operator==(const int i) const { return (m_i==i); }
  bool operator<(const A& other) const { return (m_i<other.m_i); }
};

int main() {
  std::set<A> s;
  A a;
  ( (a = A(42))==42 ? s.insert(a).second : false );
  std::cout << s.begin()->get() << std::endl;
  return 0;
} 
```

[编辑：由于人们不喜欢三元运算符，因此您可以使用 C++11 lambdas（或Boost.Lambda](http://www.boost.org/libs/lambda/) ）实现您所要求的内容：

```
#include <iostream>
#include <set>

class A {
private:
  int m_i;
public:
  A() : m_i(0) { }
  A(int i) : m_i(i) { }
  int get() const { return m_i; }
  bool operator==(const int i) const { return (m_i==i); }
  bool operator<(const A& other) const { return (m_i<other.m_i); }
};

int main() {
  std::set<A> s;
  A a;

  auto f = [&s] (A const& a) { if (a==42) s.insert(a); };

  f(A(42));
  f(A(43));

  std::cout << s.size() << " " << s.begin()->get() << std::endl;

  return 0;
} 
```

# android - 当我按退格键时，AutoCompleteTextView 是否显示了建议列表

> ID：12312443
> 
> 赞同：1
> 
> 时间：2012-09-07T05:52:32.080
> 
> 标签：android, autocompletetextview

我的代码如下...

```
public class NameListActivity extends Activity implements TextWatcher {
    private Button add = null;
    private AutoCompleteTextView editAuto = null;
    private Button chfrlist = null;
    private ImageView im = null;
    String access_token = new String();
    private ImageView infobtn = null;
    private PopupWindow popupWindow;
    private View view;
    private ProgressDialog pd;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        this.requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.activity_name_list);
        access_token = MainService.readToken();

        add = (Button) findViewById(R.id.add_button);
        editAuto = (AutoCompleteTextView) findViewById(R.id.editAuto);
        chfrlist = (Button) findViewById(R.id.chfrlistbutton);
        im = (ImageView) findViewById(R.id.helpact);
        im.setOnClickListener(new ImageListener());
        infobtn = (ImageView) findViewById(R.id.informbtn);
        initPopupWindow();
        infobtn.setOnClickListener(new infobtnListener());
        editAuto.addTextChangedListener(this);
        add.setOnClickListener(new addListener());
        chfrlist.setOnClickListener(new ChfrListListener());
    }

    public class addListener implements OnClickListener {

        public void onClick(View v) {
            addTask task = new addTask();
            task.execute();
            editAuto.setText("");
        }
    }

    public void afterTextChanged(Editable arg0) {

    }

    public void beforeTextChanged(CharSequence s, int start, int count,
            int after) {
    }

    public void onTextChanged(CharSequence s, int start, int before, int count) {
        onTextChangedTask task = new onTextChangedTask();
        task.execute();
    }

    public class onTextChangedTask extends AsyncTask<Void, Void, Void> {

        ArrayAdapter<String> adapter = null;
        String[] userName = null;
        String q = null;
        JSONArray jsonArray = new JSONArray();
        JSONObject jsonObject = null;
        ArrayList<String> userNameArrayList = new ArrayList<String>();
        Weibo weibo = new Weibo();

        @Override
        protected void onPreExecute() {
            weibo.setToken(access_token);
            q = editAuto.getText().toString();
            System.out.println("start onTextChanged");
        }

        @Override
        protected Void doInBackground(Void... params) {
            // TODO Auto-generated method stub
            if (q.length() != 0) {
                System.out.println("q is " + q);

                String s1 = "https://api.weibo.com/search/suggestions/users.json";
                try {
                    jsonArray = Weibo.client.get(s1,
                            new PostParameter[] { new PostParameter("q", q) })
                            .asJSONArray();
                } catch (Throwable e) {
                    System.out.println("这里有个神马异常呢 。。。" + e);
                }

                System.out.println("return length is " + jsonArray.length());

                for (int i = 0; i < jsonArray.length(); i++) {
                    try {
                        jsonObject = jsonArray.getJSONObject(i);
                        String sname = jsonObject.getString("screen_name");
                        userNameArrayList.add(sname);
                    } catch (JSONException e) {
                        e.printStackTrace();
                    }
                }

                userName = (String[]) userNameArrayList
                        .toArray(new String[userNameArrayList.size()]);

                adapter = new ArrayAdapter<String>(NameListActivity.this,
                        android.R.layout.simple_dropdown_item_1line, userName);

            }
            return null;
        }

        @Override
        protected void onPostExecute(Void v) {
            System.out.println("post");
            editAuto.setAdapter(adapter);
        }
    }

    void showToast(String s) {
        Toast toast = Toast.makeText(getApplicationContext(), s,
                Toast.LENGTH_LONG);
        toast.show();
    }

    public class addTask extends AsyncTask<Void, Void, Void> {

        String s = null;
        boolean flag = false;
        User user = null;
        Weibo weibo = new Weibo();
        String screen_name = null;

        protected void onPreExecute() {
            Toast tt = Toast.makeText(getApplicationContext(), "正在将用户添加到备份名单",
                    Toast.LENGTH_LONG);
            tt.setGravity(Gravity.CENTER, 0, 0);
            tt.show();
            weibo.setToken(access_token);
            screen_name = editAuto.getText().toString();
        }

        @Override
        protected Void doInBackground(Void... params) {
            // TODO Auto-generated method stub

            if (screen_name.length() != 0) {
                Users um = new Users();
                try {
                    user = new User(Weibo.client.get(
                            "https://api.weibo.com/users/show.json",
                            new PostParameter[] { new PostParameter(
                                    "screen_name", screen_name) })
                            .asJSONObject());
                } catch (Throwable e) {
                    e.printStackTrace();
                    flag = true;
                    s = new String("您输入的这个用户好像不存在唉");
                }
                if (user != null) {
                    ContentValues values = new ContentValues();
                    values.put("uid", user.getId());
                    values.put("user_name", user.getName());
                    SQLiteDatabase db = null;
                    try {
                        db = MainService.getDatabase();
                    } catch (Exception e) {
                        System.out.println("db error");
                        finish();
                    }
                    Cursor result = db.query("users", new String[] { "uid",
                            "user_name" }, "uid=?",
                            new String[] { user.getId() }, null, null, null);
                    if (result.getCount() == 0)
                        db.insert("users", null, values);
                } else {
                    flag = true;
                    s = new String("网络存在问题，检查一下吧");
                }
            } else {
                flag = true;
                s = new String("框里输入点东西才能添加啊");
            }

            return null;
        }

        @Override
        protected void onPostExecute(Void v) {
            if (flag == true) {
                System.out.println("要打印的是" + s);
                showToast(s);
            }
        }
    }

    public class infobtnListener implements OnClickListener {

        public void onClick(View v) {
            // TODO Auto-generated method stub
            System.out.println("点击了图片");
            ColorDrawable cd = new ColorDrawable(-0000);
            popupWindow.setBackgroundDrawable(cd);
            // popupWindow.showAsDropDown(v);
            popupWindow.showAtLocation(findViewById(R.id.informbtn),
                    Gravity.LEFT | Gravity.BOTTOM, 0, 100);
        }
    }

    public class ImageListener implements OnClickListener {

        public void onClick(View v) {
            // TODO Auto-generated method stub
            // Intent t = new Intent(NameListActivity.this,
            // GridLayoutActivity.class);
            // startActivity(t);
            finish();
        }

    }

    public class ChfrListListener implements OnClickListener {

        public void onClick(View v) {
            if ((haveInternet() == true)
                    && (GridLayoutActivity.hasAccessToken() == true)) {
                // TODO Auto-generated method stub
                pd = ProgressDialog.show(NameListActivity.this, "",
                        "正在从服务器上获取数据，可能需要较长时间，请耐心等待 ...");
                /* 开启一个新线程，在新线程里执行耗时的方法 */
                new Thread(new Runnable() {
                    public void run() {
                        Intent t = new Intent(NameListActivity.this,
                                ChooseFromListActivity.class);
                        startActivity(t);
                        finish();

                        handler.sendEmptyMessage(0);// 执行耗时的方法之后发送消给handler
                    }
                }).start();
            } else {
                Intent t = new Intent(NameListActivity.this,
                        WebViewActivity.class);
                startActivity(t);
                finish();
            }
        }
    }

    private void initPopupWindow() {
        view = getLayoutInflater().inflate(R.layout.namewindow, null);
        popupWindow = new PopupWindow(view, ViewGroup.LayoutParams.FILL_PARENT,
                ViewGroup.LayoutParams.WRAP_CONTENT);
        // 这里设置显示PopuWindow之后在外面点击是否有效。如果为false的话，那么点击PopuWindow外面并不会关闭PopuWindow。
        popupWindow.setOutsideTouchable(true);// 不能在没有焦点的时候使用
    }

    private boolean haveInternet() {
        NetworkInfo info = ((ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE))
                .getActiveNetworkInfo();
        if (info == null || !info.isConnected()) {
            return false;
        }
        if (info.isRoaming()) {
            // here is the roaming option you can change it if you want to
            // disable internet while roaming, just return false
            return true;
        }
        return true;
    }

    Handler handler = new Handler() {
        @Override
        public void handleMessage(Message msg) {// handler接收到消息后就会执行此方法
            pd.dismiss();// 关闭ProgressDialog
        }
    };

    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_name_list, menu);
        return true;
    }
} 
```

我的问题是：当我在 EditText 中输入单词时，什么也没发生。但是当我按下退格键时，AutoCompleteTextView 是否显示了建议列表......问题出在`editAuto.setAdapter(adapter);`

怎么了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-10T15:51:11.857

我知道这已经很晚了，但对于那些面临类似问题的人来说，这里的解决方案是`autoCompleteTextView`在您想要时显示下拉菜单，即在按钮单击或`onTextChanged`。在您设置 ArrayAdapter 后，`autoCompleteTextView`只需放入以下行。

```
autoCompleteTextView.showDropDown(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T06:06:16.847

make the following changes in your code

1) Instead of

`private AutoCompleteTextView editAuto = null;` JUST WRITE `private AutoCompleteTextView editAuto;`

2) Add this line to onCrate()

`ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, android.R.layout.simple_dropdown_item_1line, <your array name here>);`

and remove this line from onTextChangedTask()

`ArrayList<String> userNameArrayList = new ArrayList<String>();`

3) Add this line to onCrate()

`editAuto.setAdapter(adapter);`

# android - Android R.java 给出数字（媒体）文件名错误

> ID：12312448
> 
> 赞同：3
> 
> 时间：2012-09-07T05:53:10.673
> 
> 标签：android, naming-conventions

我有大量的声音字节想在我的项目中使用。不幸的是，所有文件都以数字命名**，如“001.m3，002.mp3 ....”**

当我在`raw`文件夹中添加文件时，Android`R file`会出错。

我怎么解决这个问题。任何人都可以为我提供android提到资源文件**命名约定的链接。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:03:19.503

您面临的问题是因为您的文件名，因为您的文件名是 001.mp3 或 002.mp3。Android 自动创建 R.java 文件，并在该文件（R.java）中创建一个由该文件名为变量名“001”的变量。使用数字变量名是错误的。它不会允许这样的事情，而是抛出一个错误。

如果您的文件是 001.mp3，那么 R.java 将在这一行出现错误，即

令牌“001”的语法错误，VariableDeclaratorId 无效

```
public static final int 001=0x7f050000; 
```

我请求您更改文件名。可以遵循建议[是否有关于如何命名资源的约定？](https://stackoverflow.com/questions/7165582/are-there-conventions-on-how-to-name-resources)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-07T06:04:27.303

每个资源在 R.java 文件中都有条目，如果你看到 R.java 文件只不过是我们的普通类

```
public final class R {
    public static final class raw {
        public static final int 001=0x7f090005; // this will not accept as a variable name
    }

    public static final class drawable {
    }

    public static final class id {
        public static final int main=0x7f090001;
    }
} 
```

您应该遵循与变量相同的命名约定，即

1) 不能以数字开头

2) 不能包含特殊字符 except( `_`)

3) 不得使用[**此处提到的保留关键字**](https://stackoverflow.com/questions/10764347/android-put-an-image-name-package-throws-compile-time-error/10764396#10764396)

*解决方案：您必须重命名文件，就是这样。*

# jquery - jqgrid ie8多重搜索过滤器在使用cmTemplate时不选择搜索数据

> ID：12312452
> 
> 赞同：3
> 
> 时间：2012-09-07T05:53:19.957
> 
> 标签：jquery, search, jqgrid

使用 ie8、jqgrid 4.3.3、jquery 1.7.2 或 1.5.2，多重搜索似乎漏掉了一些搜索参数。第一次添加新的搜索行时，它出现在请求正文中，但带有一个空白值（“”），例如。

```
"filters":"{\"groupOp\":\"AND\",\"rules\":[{\"field\":\"code\",\"op\":\"eq\",\"data\":\"\"}]}", 
```

使用相同参数的后续搜索会发送正确的值。我的基本设置如下（简化）

```
$('#Table').jqGrid({
         //....
    datatype: 'json',
    colNames: ['Code'],
    colModel: [{
        name: 'Code',
        index: 'Code'}],
    pager: '#Pager'
}).jqGrid('navGrid', '#Pager', {
    add: false,
    edit: false,
    del: false,
    refresh: false
}, {}, {}, {}, {
    multipleSearch: true
}).trigger('reloadGrid'); 
```

**更新：**添加了[jsfiddle](http://jsfiddle.net/pwachira/CH5rZ)

很长一段时间后，我发现只有当我使用 cmTemplate 指定 searchoptions sopt 并且当我单击“查找”而不第一次单击数据文本框外时才会发生错误。 [在这里查看jsfiddle](http://jsfiddle.net/pwachira/CH5rZ)（记得输入搜索值后直接点击查找按钮）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T09:28:14.947

我想，这是我[在此处](http://www.trirand.com/blog/?page_id=393/bugs/search-dialog-from-jqgrid-4-3-2-can-ignore-the-last-entered-data/#p26339)描述的刷新 jqGrid 输入字段的旧错误。您可以尝试插入以下回调

```
afterRedraw: function () {
    $(this).find(".input-elm").triggerHandler('change', [true]);
} 
```

喜欢[这里](http://jsfiddle.net/U6BPx/5/)。您也可以尝试使用 jqGrid 4.4.1 而不是 4.3.3。版本应该没有这样的问题。

**更新**：我发现我之前发布和提交的更改已恢复：请参阅[此处](https://github.com/tonytomov/jqGrid/commit/d37ff42d23350d58de04300adccbc37805f82aec)。我的建议是收集许多改进：

1.  搜索对话框中的按钮样式与 jQuery UI 和 jqGrid 的所有其他部分一样使用。可以使用`uiButtons: false`旧样式。
2.  可以更改默认名称“+”、“-”和“+ {}”按钮以及仅在当前版本的 jqGrid ( `'Add rule'`, `'Delete rule'`, `'Add subgroup'`, `'Delete group'`) 中都是英文的工具提示。
3.  焦点将另外设置为输入控件或按钮。它允许仅使用键盘使用搜索对话框，而无需使用鼠标。
4.  `"change"`在从搜索对话框最终读取数据之前，它将在所有输入控件上触发事件。

最后的更改对于解决您的问题可能很重要。

应该修改[filterData](https://github.com/tonytomov/jqGrid/blob/v4.4.1/js/grid.filter.js#L694-702)函数的实现。应该添加行

```
$(this).find(".input-elm").each(function() {
    $(this).triggerHandler("change");
}); 
```

[行](https://github.com/tonytomov/jqGrid/blob/v4.4.1/js/grid.filter.js#L698)前。

问题是 jqGrid 将“更改”事件绑定到搜索对话框的所有输入字段（参见[行](https://github.com/tonytomov/jqGrid/blob/v4.4.1/js/grid.filter.js#L409-417)）。在用户键入搜索数据后，将触发“更改”事件，并修改内部数据`filter`（见`rule.data`，这是行中的[部分](https://github.com/tonytomov/jqGrid/blob/v4.4.1/js/grid.filter.js#L413)`filter`）。如果用户单击 Search 按钮，则将获取的*当前*值（见[行](https://github.com/tonytomov/jqGrid/blob/v4.4.1/js/grid.formedit.js#L227)）。问题是在“搜索”按钮上处理事件**后**，该事件将在某些 Web 浏览器中处理。因此，可能尚未设置来自最后一个搜索过滤器的输入数据。*之前*对所有输入控件的调用*`filter``change`**`'click'``.triggerHandler("change")`*将返回的数据`filter`可以解决问题。在这种情况下`change`，可能会调用一些不需要的事件，但可以确定其中的数据`filter`与来自的数据相同。****

 ****我认为[恢复更改](https://github.com/tonytomov/jqGrid/commit/d37ff42d23350d58de04300adccbc37805f82aec)是个坏主意。

如果一个人会使用`searchOnEnter: true`选项`.triggerHandler("change")`并开始使用`Enter`键进行搜索，则问题不应该发生，因为[该行](https://github.com/tonytomov/jqGrid/blob/v4.4.1/js/grid.formedit.js#L205)

```
$("#"+fid+"_search").focus().click(); 
```

在处理单击事件之前，焦点将显式设置为“搜索”按钮。方式上`"change"`会间接触发事件，`filter`刷新里面的数据。

我认为可以在不直接触发`change`事件的情况下解决您描述的问题。取而代之的是，可以包括明确设置焦点

```
$("#"+fid+"_search").focus(); 
```

`click`事件处理程序内部（见[行](https://github.com/tonytomov/jqGrid/blob/v4.4.1/js/grid.formedit.js#L224)）。在将被调用[的行](https://github.com/tonytomov/jqGrid/blob/v4.4.1/js/grid.formedit.js#L227)*之前* 执行此操作很重要。`.jqFilter('filterData')`****

# core-plot - 在 NSScrollView 中托管 CPTGraph

> ID：12312456
> 
> 赞同：1
> 
> 时间：2012-09-07T05:53:55.393
> 
> 标签：core-plot, nsscrollview

如何在 CPTGraph 中绘制更多的绘图点。我想使用 NSScrollView 来实现它。但是没有检查“滚动”的委托方法。

请给我一些实施上述建议的建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T00:54:36.280

你必须使用滚动视图吗？Core Plot 原生支持滚动。只需设置`allowsUserInteraction`在`YES`情节空间上。您可以设置`globalXRange`和/或`globalYRange`限制滚动范围。您还可以使用绘图空间委托来监视滚动并对滚动行为施加更多控制或执行其他操作。

# solrj - 使用 solr-solrj-3.6.1.jar 时出现 java.lang.NoClassDefFoundError

> ID：12312463
> 
> 赞同：0
> 
> 时间：2012-09-07T05:54:17.803
> 
> 标签：solrj

使用 Solrj 连接到 solr 索引。使用 jar **solr-solrj-3.6.1.jar**我通过添加下面的 maven 依赖项得到

```
<dependency>
   <groupId>org.apache.solr</groupId>
   <artifactId>solr-solrj</artifactId>
   <version>3.6.1</version>
</dependency> 
```

我看到 CommonsHttpSolrServer 已被弃用，因此使用 HttpSolrServer 。在运行时，我收到以下错误，线程“main”中的异常 java.lang.NoClassDefFoundError: org/apache/http/client/HttpClient

仅仅添加**solr-solrj-3.6.1.jar**还不够？我应该添加更多依赖项吗？我还尝试添加 httpclient 4.1，它开始要求 org/apache/http/HttpRequestInterceptor。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T05:57:28.297

将此包添加到您的 Maven 依赖项：

```
<dependency>
    <groupId>org.apache.httpcomponents</groupId>
    <artifactId>httpclient</artifactId>
    <version>4.2.1</version>
</dependency> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:53:56.167

添加了以下依赖项以使其正常工作

```
<dependency>
    <groupId>org.apache.httpcomponents</groupId>
    <artifactId>httpclient</artifactId>
    <version>4.2.1</version>
</dependency>
<dependency>
    <groupId>org.apache.httpcomponents</groupId>
    <artifactId>httpcore</artifactId>
    <version>4.2.1</version>
</dependency>
<dependency>
    <groupId>org.apache.httpcomponents</groupId>
    <artifactId>httpmime</artifactId>
    <version>4.2.1</version>
</dependency>
<dependency>
    <groupId>org.slf4j</groupId>
    <artifactId>slf4j-api</artifactId>
    <version>1.5.8</version>
</dependency>
<dependency>
     <groupId>org.slf4j</groupId>
     <artifactId>slf4j-log4j12</artifactId>
     <version>1.5.8</version>
</dependency> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-26T08:53:23.590

我的 solrj 简单项目使用以下依赖项：

```
 <dependencies>
        <dependency>
          <groupId>junit</groupId>
          <artifactId>junit</artifactId>
          <version>3.8.1</version>
          <scope>test</scope>
        </dependency>
        <dependency>
          <groupId>org.apache.solr</groupId>
          <artifactId>solr-solrj</artifactId>
          <version>4.4.0</version>
        </dependency>
        <dependency>
          <groupId>org.apache.solr</groupId>
          <artifactId>solr-core</artifactId>
          <version>4.4.0</version>
        </dependency>
        <dependency>
          <groupId>org.apache.commons</groupId>
          <artifactId>commons-logging</artifactId>
          <version>1.1.3</version>
        </dependency>
      </dependencies> 
```

之间，Maven 可以自动下载它们（比如我在 NetBeans 中启动了 Maven 的 Java Application，然后只是添加了依赖项）。此外，我只需要下载 commons-logging 1.1.3 库（[http://commons.apache.org/proper/commons-logging/download_logging.cgi](http://commons.apache.org/proper/commons-logging/download_logging.cgi)）。您可以在此处阅读有关库和依赖项的更多信息：( [http://wiki.apache.org/solr/Solrj](http://wiki.apache.org/solr/Solrj) )。

# sql - 数据模式 SQL

> ID：12312467
> 
> 赞同：0
> 
> 时间：2012-09-07T05:54:37.613
> 
> 标签：sql

我敢肯定这是一个相当简单的问题。客户正在将数据输入到类似于 600/4768/4 的列中。输入数据后，我需要能够删除 / 。我该怎么做？

它通常以这种格式输入，因为它是从该模式中的另一个来源引用的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:13:16.810

您可以在提交数据之前在程序中执行此操作，也可以在 sql.xml 中执行此操作。具体如何取决于您正在使用什么编程，以及您正在使用什么数据库。

在 MySql 你可以这样做： replace('00/4768/4', '/', ''); 大多数 rdbms 都会有类似的功能。

[http://dev.mysql.com/doc/refman/5.6/en/string-functions.html#function_replace](http://dev.mysql.com/doc/refman/5.6/en/string-functions.html#function_replace)

我通常发现在程序中做这种事情比在 sql 中更容易。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T05:58:50.983

如果您想在 SQL 中更新，请使用 REPLACE

```
REPLACE(<column_Name>,'/',' ') 
```

整个查询看起来像

```
Update <table_name>
set <column_Name> = REPLACE(<column_Name>,'/','') 
```

希望这可以帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T05:59:03.063

使用 SQL SERVER，您可以尝试[REPLACE (Transact-SQL)](http://msdn.microsoft.com/en-us/library/ms186862%28v=sql.105%29.aspx)

> 用另一个字符串值替换所有出现的指定字符串值。

用法：

```
SELECT REPLACE('abcdefghicde','cde','xxx'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-07T05:59:43.423

您可以在 SQL 查询中使用**REPLACE函数：**

```
replace( string1, string_to_replace, [ replacement_string ] ) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-07T06:01:00.830

```
select REPLACE('600/4768/4','/','') 
```

当用户输入数据时，将其替换为“/”，然后存储在表中

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-07T06:01:51.143

在将客户端数据插入列时，您可以使用 REPLACE 函数，我相信您正在使用 SQLServer。下面是如何使用替换的示例。

```
REPLACE('600/4768/4','/',''); 
```

# vb.net - ExecuteReader CommandText 属性未正确初始化

> ID：12312472
> 
> 赞同：2
> 
> 时间：2012-09-07T05:55:00.213
> 
> 标签：vb.net, executereader

首先抱歉，如果某些代码不正确。我还是新手在 vb.net 上使用 sql

我有以下代码：

```
Imports MySql.Data.MySqlClient
Imports System.Data.SqlClient

Public Class Form1

    Private Sub btnLoad_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles btnLoad.Click
        Dim objConn As MySqlConnection
        Dim objDataset As New DataSet
        Dim objDataAdapter As MySqlDataAdapter
        Dim myCommand As MySqlCommand

        Dim sqlConn As String

        objConn = New MySqlConnection("server=localhost;userid=root;database=attendance_system")
        myCommand = objConn.CreateCommand

        objConn.Open()
        Dim objReader As MySqlDataReader = myCommand.ExecuteReader

        sqlConn = "SELECT student_name FROM profile"
        objDataAdapter = New MySqlDataAdapter(sqlConn, objConn)
        objDataAdapter.Fill(objDataset, "profile")

        MsgBox("The Connection is Now 'OPEN'")

        objReader.Read()

        TextBox1.Text = objReader("student_name")

        objReader.Close()
        objConn.Close()
    End Sub
End Class 
```

我在 phpmyadmin 中通过 vb.net 使用 MySQL 连接器，并设置了一个包含记录的数据库。连接字符串正在工作，但我的问题是当我尝试单击按钮以在文本框中加载数据时，我不断收到：

> CommandText 属性未正确初始化。”

错误在这一行：

```
"Dim objReader As MySqlDataReader = myCommand.ExecuteReader" 
```

我已经尝试了很多我在这个网站和其他网站上找到的修复程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:01:16.373

这就是问题：

```
Dim objReader As MySqlDataReader = myCommand.ExecuteReader

sqlConn = "SELECT student_name FROM profile" 
```

*在您尝试执行查询后*，您被声明为 SQL （即使这样，您也没有将其设置为命令的 SQL）。你希望它如何工作？此外，对于声明*SQL*`sqlConn`的变量来说，这是一个非常奇怪的名称——我希望它是一个*connection*。

 **看起来您正在尝试混合使用非常不同的数据获取方式：

*   直接从读者那里阅读
*   `DataSet`用数据适配器填充 a

你不应该那样混合它们。找出你*真正*想做的事情，取出所有与其他风格相关的代码，然后确保你以合理的顺序做所有事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:02:31.970

来自[MySqlCommand 类](http://www.devart.com/dotconnect/mysql/docs/Devart.Data.MySql~Devart.Data.MySql.MySqlCommand.html)和给出的示例

```
Public Sub ReadMyData(myConnString As String)
  Dim mySelectQuery As String = "SELECT * FROM Test.Dept"
  Dim myConnection As New MySqlConnection(myConnString)
  Dim myCommand As New MySqlCommand(mySelectQuery, myConnection)
  myConnection.Open()
  Dim myReader As MySqlDataReader = myCommand.ExecuteReader()
  Try
    While myReader.Read()
      Console.WriteLine(myReader.GetInt32(0).ToString() + ", " _
        + myReader.GetString(1))
    End While
  Finally
      ' always call Close when done reading.
      myReader.Close()
      ' always call Close when done with connection.
      myConnection.Close()
  End Try
End Sub 
```

您的命令对象缺少 select 语句。**

# internet-explorer - 在 Internet Explorer 中始终允许会话 cookie 设置

> ID：12312479
> 
> 赞同：1
> 
> 时间：2012-09-07T05:55:34.173
> 
> 标签：internet-explorer

始终允许使用 c# 设置会话 cookie。

如何使用编码更改**始终允许 Internet Explorer 中的会话 cookie**，即通过更改注册表设置。

请指定需要更改的注册表位置和值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T06:05:49.377

**How to enable session cookies in your browser:**

**Netscape Navigator 4.x (Windows and Mac):**

1.  Click the Edit menu and select Preferences.
2.  Click on Advanced in the list of topics on the left side of the window. The right side of the window should now display a series of checkboxes.
3.  Find the box labeled Accept all cookies and make sure it is checked.
4.  Click OK.

**Microsoft Internet Explorer For Windows - Version 5.xx**

1.  Click the Tools menu and select Internet Options.
2.  Click the Security tab at the top of the window.
3.  The box at the top of the window should read Internet Zone.
4.  The bottom section of the Security window contains several buttons. Click the one marked Custom.
5.  Scroll down the list of options until you see the Cookies heading.
6.  In the Allow per-session cookies (not stored),click on the Enabled button.
7.  In "Allow cookies that are stored on your computer," click on the Enabled button.
8.  Click on OK.

**Microsoft Internet Explorer For Windows - Version 6.xx**

1.  Click on the Tools menu and select Internet Options.
2.  Click the Privacy tab at the top of the window.
3.  Make sure that the slider is set at a level not higher than Medium.
4.  The bottom of the slider section of the Security window contains several buttons. Click on the one marked Advanced.
5.  In the new window under the Cookies section, check the box labeled "Override automatic cookie handling".
6.  Now you will see the other settings that are enabled and can be configured.
7.  Under the First-party Cookies section, click the Accept button.
8.  Under the Third-party Cookies section, click on the Block button.
9.  Check the box labeled "Always allow session cookies."
    1.  Click on OK.
    2.  Click on OK.

**Microsoft Internet Explorer 5.x (Mac)**

1.  Click on the Edit menu and select Preferences.
2.  In the left pane, under the heading "Receiving Files," click on Cookies.
3.  In the right pane, find the pull-down menu next to "When receiving cookies" and select Never ask.
4.  Click on OK.

# apache - .htacces-SetEnvIf 到 NGinx-fastcgi_param 的转换

> ID：12312491
> 
> 赞同：4
> 
> 时间：2012-09-07T05:56:52.447
> 
> 标签：apache, .htaccess, nginx, webserver, fastcgi

我有以下 .htaccess 设置以及我的 Apache 网站；现在我将其移至 Nginx。因此，我想知道如何将 .htaccess 文件中的“SetEnvIf”参数放在 Nginx 配置中？我认为它通过设置'fastcgi_param'，请帮助我进行转换。

```
SetEnvIf HOST albany\.mywebsite\.com MAGE_RUN_CODE=w2760
SetEnvIf HOST albany\.mywebsite\.com MAGE_RUN_TYPE=website
SetEnvIf HOST alexandria\.mywebsite\.com MAGE_RUN_CODE=w1472
SetEnvIf HOST alexandria\.mywebsite\.com MAGE_RUN_TYPE=website
SetEnvIf HOST annarbor\.mywebsite\.com MAGE_RUN_CODE=w2933
SetEnvIf HOST annarbor\.mywebsite\.com MAGE_RUN_TYPE=website 
```

谢谢你。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-07T09:19:35.433

你可以这样做：

```
if ($host = albany.mywebsite.com) {
  env MAGE_RUN_CODE=w2769;
  env $MAGE_RUN_TYPE=website;
} 
```

（对于其他主机值，依此类推）

见[http://nginx.org/en/docs/ngx_core_module.html#env](http://nginx.org/en/docs/ngx_core_module.html#env)

# linux - 如何将 PCI ID 添加到串口驱动程序？

> ID：12312495
> 
> 赞同：5
> 
> 时间：2012-06-11T12:06:26.017
> 
> 标签：linux, configuration, real-time, drivers

```
linux-y3pi:~ # lspci | grep -i ethernet
01:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8101E/RTL8102E PCI Express Fast Ethernet controller (rev 01)

linux-y3pi:~ # lspci -n | grep 01:00.0
01:00.0 0200: 10ec:8136 (rev 01) 
```

从这里：[http ://www.cyberciti.biz/tips/linux-find-supported-pci-hardware-drivers.html](http://www.cyberciti.biz/tips/linux-find-supported-pci-hardware-drivers.html)

> 样本输出：
> 00:1b.0 0403:8086:27d8 (rev 01) 其中，
> 
> *   00:1b.0 - 设备
> *   8086 - 英特尔公司的构造函数代码
> *   27d8 - 模型 ID。

所以，我打开了：
[/usr/src/f/rtnet/drivers/experimental/rt_r8169.c](http://read.pudn.com/downloads108/sourcecode/unix_linux/network/446580/rtnet-0.9.10/drivers/experimental/rt_r8169.c__.htm)

相关代码（IMO）：

```
static struct pci_device_id rtl8169_pci_tbl[] __devinitdata = {
        { 0x10ec, 0x8169, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0 },
        { 0x1186, 0x4300, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0 },    /* <kk> D-Link DGE-528T */
        {0,},
}; 
```

**所以，对我来说，这个信息将是：
`{ 0x10ec, 0x8136, PCI_ANY_ID, PCI_ANY_ID, 0, 0, 0 },`
？**

**这是我必须添加此 PCI 信息并简单地进行 make 和 make 安装的地方吗？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-12T05:47:37.620

如果那是该设备的正确驱动程序，那么这就是该行的正确位置。您可能想查看现有模块是否有某种强制 ID 的方法，以便您可以验证这一点。

# .htaccess - 蛋糕 PHP 中的重定向，隐藏 app/webroot 位

> ID：12312499
> 
> 赞同：0
> 
> 时间：2012-09-07T05:57:31.120
> 
> 标签：.htaccess, cakephp

我有一个用 cakePHP 完成的网站，我可以访问那里的网站，例如：

```
http://example.com/site1 
```

转换为：

```
http://example.com/app/webroot/site1 
```

正如我在[这里](http://book.cakephp.org/1.3/view/917/Apache-and-mod_rewrite-and-htaccess)搜索和看到的或在堆栈溢出中搜索的那样，这是正常行为，但我希望用户实际上看不到**app/webroot**位。

那可能吗？

这是我当前的 .htaccess：

```
<IfModule mod_rewrite.c>
   RewriteEngine on
   RewriteCond %{HTTP_HOST} !^www\.example\.com [NC]
   RewriteCond %{HTTP_HOST} !^$
   RewriteRule ^/?(.*) http://www.example.com/$1 [R=301,NE,L]

# CakePHP part
<IfModule mod_rewrite.c>
   RewriteEngine on
   RewriteRule    ^$ app/webroot/    [L]
   RewriteRule    (.*) app/webroot/$1 [L]
</IfModule> 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-09T13:56:40.893

如果您按照所有说明安装 CakePHP，那么**没有** `/app/webroot`URL也应该可以工作。如果它不起作用，请`.htaccess`从 CakePHP 存储库重新下载所有文件。共有三个文件。

要摆脱`/app/webroot`，即永远不会在任何 URL 上看到该路径，您可以编辑或创建`VirtualHost`一个`DocumentRoot`指向您的 webroot 的绝对路径的 a。

像这样的东西：

```
<VirtualHost 127.0.0.2:80>
    DocumentRoot /absolute/path-to/app/webroot
</VirtualHost> 
```

如果您在共享服务器上，这是不可能的。如果您在托管 VPS 或专用服务器上，则需要联系您的主机。如果它是不受管理的，你可以自己做。

# java-me - 在 j2me 表单中插入空白项

> ID：12312504
> 
> 赞同：1
> 
> 时间：2012-09-07T05:58:38.057
> 
> 标签：java-me, alert, midp, lcdui, gauge

有什么方法可以在表单中附加一个空白的 stringItem 吗？我想在表格中显示一个仪表，但它应该居中对齐。我认为没有办法做到这一点，除非在仪表之前有一些项目。所以我想添加一些空字符串项，但它们不起作用。到目前为止，这是我的代码。

```
loadingDialog = new javax.microedition.lcdui.Form("Please Wait");
        Gauge gau = new Gauge("\nPlease wait.", false, Gauge.INDEFINITE,
                Gauge.CONTINUOUS_RUNNING);
        gau.setPreferredSize(230,80);
        gau.setLayout(Item.LAYOUT_BOTTOM);
        //Displayable SizeCanvas = new MyCanvas();
        StringItem st = new StringItem(" ", " ");
        loadingDialog.append(st);
        loadingDialog.append(gau);
        parentMidlet.displays.setCurrent(loadingDialog); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T08:32:38.750

有一个特殊的布局指令可以使项目居中，不出所料，**[LAYOUT_CENTER](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/javax/microedition/lcdui/Item.html#LAYOUT_CENTER "API 文档")**

使用您提供的代码片段，该指令可以设置为，

```
gau.setLayout(Item.LAYOUT_BOTTOM | Item.LAYOUT_CENTER); 
```

或者，如果您想在单独的语句中设置它，

```
gau.setLayout(gau.getLayout() | Item.LAYOUT_CENTER); 
```

如果您的设备是 MIDP 2.0，则不强制遵循该指令（尽管可以期望具有合理质量的设备来支持它）。在 MIDP 2.1 设备中，它被规范中的明确要求强制要求支持。

* * *

顺便说一句，为了更高级的项目对齐目的，有一个名为[Spacer](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/javax/microedition/lcdui/Spacer.html "API 文档")的专用 lcdui 对象：

> 具有可设置最小尺寸的空白、非交互项。最小宽度对于在表单的同一行内的项目之间分配灵活的空间量很有用。最小高度对于强制执行特定的最小行高度很有用。应用程序可以将最小宽度或高度设置为任何非负值。实现可以强制实现定义的最小宽度和高度的最大值......
> 
> ...Spacer 的主要目的是定位其他项目...

# android - urbanairship 是否可以使用 phonegap 构建 android - 只有 html、js 文件，没有 java 文件

> ID：12312506
> 
> 赞同：2
> 
> 时间：2012-09-07T05:58:41.167
> 
> 标签：android, cordova, urbanairship.com

我可以在我的应用程序中使用城市飞艇进行通知吗？我的应用程序使用 phonegap build(only html, js files) 。我认为我们需要放置一些 java 文件来使用 urbanairship 。

如果可能的话，在头部插入 PushNotification.js 就足够了，还是我需要做其他配置，比如 config.xml 等？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-06-19T07:02:53.480

是的，您可以使用 Urbanairship 进行通知。请关注

[https://github.com/urbanairship/phonegap-ua-push](https://github.com/urbanairship/phonegap-ua-push)

它适用于 android 和 IOS。

谢谢。希望能帮助到你。

# asp.net-ajax - .Net 4.0 的 Plesk 托管

> ID：12312511
> 
> 赞同：0
> 
> 时间：2012-09-07T05:59:11.020
> 
> 标签：asp.net-ajax

我有 plesk 托管服务器，我正在使用 .Net 4.0 版托管网站，我收到错误消息“无法加载文件或程序集 'AjaxControlToolkit' 或其依赖项之一。该模块应包含程序集清单。” 我的网站的 bin 文件夹中也有 ajax 工具包 dll

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T12:58:13.170

请做一件事，通过控制面板 > 程序和功能在您的服务器上安装 Ajax 4.0。

如果不是这样，请安装它，然后重新启动它或将您的域链接发送给我。

我希望这有帮助。

# actionscript-3 - 打印从 flex3 中的 tilelist 中选择的多个项目

> ID：12312512
> 
> 赞同：0
> 
> 时间：2012-09-07T05:59:26.293
> 
> 标签：actionscript-3, apache-flex, printing, actionscript, flex3

我正在开发 flex 3 项目。其中我有一个 tileList，其中有多个图像，每个图像都放在 tileList 中的不同画布中。我会将**allowmultipleSelection 设置**为true。现在我需要在打印按钮单击时打印所有图像，用户从 TileList 中选择。

请给我适当的建议，我将如何做。

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T11:00:39.103

我得到了答案 在这里，我使用 Tile 而不是 TileList，并将所有选定的图像推送到一个数组中。在**printer.printPage**中，我将传递该数组，它现在就可以工作了。

```
 /* MyCustomItemBox */

  <mx:HBox  id="hb"  autoLayout="false">
    <mx:Image id="img" source="{imageURL}"/>
  </mx:HBox>

 /*   Print Script */

 // Custom Component which will be added in to Tile. 
 var myCustomBox= new MyCustomItemBox();
 thumbView.addChild(myCustomBox);

  // On Print Button Click
 protected function onPrintPages(event:MouseEvent):void
 {
    var printer:Printer = new Printer();
    var arr:Array = new Array();

        for(var i:int = 0;i<10;i++)
            {
                 var bdi:MyCustomItemBox = thumbView.getChildAt(i) as MyCustomItemBox;
                var hb:HBox = bdi.getChildByName("hb") as HBox;
                arr.push( hb.getChildByName( 'img' ) as UIComponent  );
            }

   if(arr.length > 0)
        printer.printPage(arr,null, "showAll");

 }

<mx:Tile id="thumbView" autoLayout="false" width="90%" height="90%" /> 
```

# python - 如何在两个远程数据库之间同步 MySQL 数据库（没有 MySQL 数据库复制技术）

> ID：12312514
> 
> 赞同：0
> 
> 时间：2012-09-07T05:59:32.617
> 
> 标签：python, mysql, sql, django

我有两台共享服务器（服务器 1 和服务器 2）和一台专用服务器。在专用服务器中，我正在运行一个将数据插入服务器 1 的脚本。

现在我想在每个月将所有数据从服务器 1 同步到服务器 2（基本上保留备份数据库）

对于服务器 1 和 2，我没有 root 访问权限。所以我必须在专用服务器中进行。

有什么方法可以使用 mysql -host -u -p comment 吗？

如果有任何其他想法，你能帮帮我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T06:55:54.267

**正如问题所述将所有**数据从一台服务器同步到另一台服务器，我认为您可以使用一个相对简单的解决方案，包括`mysqldump`.

我认为您可以从专用服务器完成所有这些操作：

```
mysqldump --user=<username> --password=<password> --host=<server 1 hostname> --port=<port> --add-drop-database <database name> > dump.sql 
```

将`<username>`、`<password>`和替换为服务器 1`<port>`的`<server 1 hostname>`连接详细信息。替换为服务器 1 上要复制到服务器 2 的数据库的名称。如果要复制所有数据库，请替换为 --all-databases 选项。

`dump.sql`这将在当前目录中调用一个文件。然后，您可以将其加载到服务器 2 中：

```
mysql --user=<username> --password=<password> --host=<server 2 hostname> --port=<port> <database name> < dump.sql 
```

将`<username>`、`<password>`和替换为服务器 2 的连接详细信息`<port>`。`<server 2 hostname>`

这将获取 dump.sql 文件，并将其加载到服务器 2 上的数据库中。这将删除服务器 2 上的数据库 - 因此所有现有数据将替换为`dump.sql`.

检查 mysqldump 的选项（关于删除数据库、删除表等）并调整上述命令以适合您的情况。我认为，如果您正确连接，您甚至可以绕过中间文件并使用套接字将服务器 1 上的 mysqldump 连接到服务器 2 上的 mysql。

为了涵盖这个问题的“自动化”部分，您可以在 cron 下运行上述命令并安排它们在每个月的第一天在合适的时间运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T07:10:08.667

正如@MarkStreatfield 已经说过的那样，mysqldump 只适合你。您无需成为 root 即可运行它。但是，您应该记住，当转储处理正在进行时，所有表上都有一个全局锁定，因此您的应用程序此时不能完全正常运行。如果您将 mysqldump 输出直接传递到 server2，则可能需要很长时间，因此可能会出现问题。

出于备份目的，最好转储到本地 sql 或 gz 文件。您可以与 S3/Dropbox 同步或稍后在 server2 上部署转储，无需锁定。例如，转储到 sql.gz 文件：

```
mysqldump -u <db_user> --password=<db_password> -h <host> <db_name> | gzip > `date +mydbdump_%y_%m_%d.sql.gz` 
```

# php - .htaccess 问题为 codeigniter 重写 url

> ID：12312519
> 
> 赞同：0
> 
> 时间：2012-09-07T05:59:53.327
> 
> 标签：php, .htaccess, codeigniter, mod-rewrite

我在我的项目中使用 codeigniter。我有一个像[https://www.domain.com/user/orderplace/any_number这样的网址](https://www.domain.com/user/orderplace/any_number)

我试图使用 htaccess 重写，以便如果有人使用 https 而不是上面的 url 访问我的网站，然后重定向到 http://

我在尝试

```
RewriteCond %{HTTPS} on
RewriteCond %{REQUEST_URI} !^user/orderplace/(.*)$
RewriteRule ^(.*)$ http://www.example.com/$1 [R=301,L] 
```

但它不起作用，我猜以下行对于我指定的 url RewriteCond %{REQUEST_URI} !^user/orderplace/(.*)$ 不正确

谁能帮助我解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T06:26:04.630

加个`/`赞`RewriteCond %{REQUEST_URI} !^/user/orderplace/(.*)$`

某些 Web 服务器可能不支持`RewriteCond %{HTTPS}` ，因此请尝试 `RewriteCond %{HTTP:X-Forwarded-SSL}`insted。

# asp.net - 将图像从 ftp 加载到 asp 网页

> ID：12312520
> 
> 赞同：-2
> 
> 时间：2012-09-07T05:59:55.700
> 
> 标签：asp.net

我已经在包含名为 photogallery 的文件夹的 ftp 上托管了我的网站，现在我需要做的是，当我的页面被请求时，ftp 文件夹 photogallery 中的所有图像都应该按顺序显示。提前致谢。

```
string[] filesindirectory = Directory.GetFiles(Server.MapPath("~/Photogallery"));
List<String> images = new List<string>(filesindirectory.Count());
foreach (string item in filesindirectory)
{
images.Add(String.Format("~/Photogallery/{0}", System.IO.Path.GetFileName(item)));
}
RepeaterImages.DataSource = images;
RepeaterImages.DataBind(); 
```

这就是我所做的，但没有显示静止图像。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T11:26:05.370

将您的 ftp 文件夹映射到虚拟目录。

用于`Directory.GetFiles`列出所有文件。

您可以将此列表绑定到转发器或列表控件，并将其与虚拟目录路径结合以显示图像

# html - 网站可以在 Firefox 中运行，但不能在 chrome 或 safari 中运行。导航行在 chrome 和 safari 中没有正确排列

> ID：12312524
> 
> 赞同：0
> 
> 时间：2012-09-07T06:00:23.047
> 
> 标签：html, css, firefox, google-chrome, safari

下面是我的网站代码。它可以在 Firefox 上完美运行，但不能在 chrome 或 safari 上运行。唯一不起作用的是标题图片右侧的导航行显示，主页按钮是标题图片的全长。我认为这与 css 中的 display:inline 有关，但我确定。

```
<html>
    <head>
        <title>Workouts</title>
        <link rel="stylesheet" href="style.css" type="text/css" />
    </head>
    <body>
    <div id = "page">
            <table border="0" cellspacing="0" cellpadding="0" align="center" class="border" width = "50%" height ="100%">
            <div id = "header">
                <tr>
                    <td>
                        <img src =images/header_logo2.png />
                    </td>
                </tr>
            </div>
                <tr class = "nav" height="30px" width="100%">
                    <td></td>
                    <td><a href="index.html">Home</a></td>
                    <td><a href="about.html">About</a></td>
                    <td><a href="workouts.html">Workouts</a></td>
                    <td><a href="trainers.html">Trainers</a></td>
                    <td><a href="contact.html">Contact</a></td>
                    <td></td>

                </tr>
                <tr class = "content" width="100%">
                    <td><img  width="100%" src="images/content.png" /></td>
                </tr>
            </table>
    </div>
    </body>
</html> 
```

这是我的样式表

```
* {
    margin-top:0;
    padding-top:0;
    padding-bottom: 0;
    margin-bottom: 0;
}
body{
    background:pink;
}
.border{
    background-color: #c92f51;
}
.nav a{
    text-decoration: none;
    color:pink;
}
.nav a:hover{
    color:gray;
}
.nav td{
    display: inline-table;
    width: 14.29%;
    height="30px";
    text-align: center;
    font-size: 24px;
    color:pink;

}
tr .content{
    background:#c92f51;
}
.content td{
    background:white;
    padding: 30px 30px 30px 30px;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:13:34.020

`DOCTYPE`未经声明的无效标记。[通过在w3c 验证器](http://validator.w3.org/#validate_by_input)中复制/粘贴来检查您的代码检查错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T06:03:19.177

使用[验证器](http://validator.w3.org/)。您的 HTML 无效，并且您的至少一个错误会导致不同浏览器错误从中恢复的方式存在显着差异。

有些人会移动 the`<div>`的子元素，`<table>`所以它在表格之外（因为它不允许在那里）。

您那里没有任何表格数据，因此摆脱所有表格标记并使用更合适的内容（例如，您的链接列表的列表等）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-07T06:03:28.583

每个表格行必须具有相同数量的列。如果你不这样做，你需要一个`colspan`属性来弥补它。

此外，您不应该`<div>`直接使用标签而不是表格。浏览器如何处理这些类型的错误并不是很一致，所以最好修复它们。尝试改变：

```
<table border="0" cellspacing="0" cellpadding="0" align="center" class="border" width = "50%" height ="100%">
            <div id = "header">
                <tr>
                    <td>
                        <img src =images/header_logo2.png />
                    </td>
                </tr>
            </div> 
```

至

```
<table border="0" cellspacing="0" cellpadding="0" align="center" class="border" width = "50%" height ="100%">

            <tr id = "header">
                <td colspan="7">
                    <img src =images/header_logo2.png />
                </td>
            </tr> 
```

并在最后一行添加相同的 colspan：

```
<tr class = "content" width="100%">
                    <td colspan=7><img  width="100%" src="images/content.png" /></td>
                </tr> 
```

更一般地说，现在使用这样的表格进行布局并不是一个好习惯。如果你在谷歌上搜索“css layouts vs tables”，你可以找到更多关于它的信息。

# css - 为什么我的 CSS 样式输入不会位于其标签旁边？

> ID：12312525
> 
> 赞同：4
> 
> 时间：2012-09-07T06:00:25.463
> 
> 标签：css, forms, alignment

我正在构建一个简单的网络表单，而我的一个输入字段根本不会像预期的那样位于左侧，而是位于前一个表单字段的右侧。我已经将我的表单简化为一个非常简单的文本案例。

```
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Test</title>
  <style>
    #new-thing {
      width: 450px;
    }
    #new-thing label {
      clear: left;
      float: left;
      width: 120px;
      font-weight: bold;
    }
    #new-thing input {
      width: 250px;
      margin-bottom: .5em;
    }
  </style>
</head>
<body>
<div id='new-thing'>
  <form>
    <label for='name'>Thing Name:</label>
    <input id='name'>
    <label for='first-thing'>First:</label>
    <input id='first-thing' style='width:6em;'>
    <label for='second-thing'>Second:</label>
    <input id='second-thing' style='width:6em;'>
  </form>
</div>
</body>
</html> 
```

第二个字段应该位于第一个字段下方，与标签“第二个：”相邻，但它位于第一个字段的右侧。请参阅此屏幕快照：

![在此处输入图像描述](../Images/291e28091ef2e19d0447db84a1ef364e.png)

我错过了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-07T06:03:32.243

因为您没有将输入浮动。

更改`#new-thing input`为：

```
#new-thing input {
    float: left;
    width: 250px;
    margin-bottom: .5em;
    } 
```

[看这里](http://jsfiddle.net/zFAx5/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-07T06:10:36.080

试试这个：

```
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Test</title>
  <style>
    #new-thing {
      width: 450px;
    }
    #new-thing label {
      clear: left;
      float: left;
      width: 120px;
      font-weight: bold;
    }
    #new-thing input {
      width: 250px;
      margin-bottom: .5em;
    }
  </style>
</head>
<body>
<div id='new-thing'>
  <form>
      <table>
        <tr>
            <td><label for='name'>Thing Name:</label></td>
            <td><input id='name' /></td>
        </tr>

        <tr>
            <td><label for='first-thing'>First:</label></td>
            <td><input id='first-thing' style='width:6em;' /></td>
        </tr>

        <tr>
            <td><label for='second-thing'>Second:</label></td>
            <td><input id='second-thing' style='width:6em;' /></td>
        </tr>

        </table>
  </form>
</div>
</body>
</html> 
```

# android - android中的多列列表视图问题

> ID：12312526
> 
> 赞同：1
> 
> 时间：2012-09-07T06:00:31.753
> 
> 标签：android, listview, xml-parsing

谁能告诉我下面的logcat在说什么？

实际上我正在尝试将 XML 文件中的数据显示到 android 中的多列列表视图中，但是我在我的 log-cat 上遇到了这个问题？

如何克服这一点？

**LOGCAT**

```
09-07 11:22:17.242: D/AndroidRuntime(796): Shutting down VM
09-07 11:22:17.242: W/dalvikvm(796): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
09-07 11:22:17.252: E/AndroidRuntime(796): FATAL EXCEPTION: main
09-07 11:22:17.252: E/AndroidRuntime(796): java.lang.NullPointerException
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.widget.SimpleAdapter.bindView(SimpleAdapter.java:155)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.widget.SimpleAdapter.createViewFromResource(SimpleAdapter.java:126)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.widget.SimpleAdapter.getView(SimpleAdapter.java:114)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.widget.AbsListView.obtainView(AbsListView.java:1315)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.widget.ListView.measureHeightOfChildren(ListView.java:1198)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.widget.ListView.onMeasure(ListView.java:1109)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.view.View.measure(View.java:8171)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3132)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1012)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.widget.LinearLayout.measureVertical(LinearLayout.java:381)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.widget.LinearLayout.onMeasure(LinearLayout.java:304)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.view.View.measure(View.java:8171)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3132)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.widget.FrameLayout.onMeasure(FrameLayout.java:245)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.view.View.measure(View.java:8171)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.widget.LinearLayout.measureVertical(LinearLayout.java:526)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.widget.LinearLayout.onMeasure(LinearLayout.java:304)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.view.View.measure(View.java:8171)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3132)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.widget.FrameLayout.onMeasure(FrameLayout.java:245)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.view.View.measure(View.java:8171)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.view.ViewRoot.performTraversals(ViewRoot.java:801)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.view.ViewRoot.handleMessage(ViewRoot.java:1727)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.os.Handler.dispatchMessage(Handler.java:99)
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.os.Looper.loop(Looper.java:123)   
09-07 11:22:17.252: E/AndroidRuntime(796):  at android.app.ActivityThread.main(ActivityThread.java:4627)
09-07 11:22:17.252: E/AndroidRuntime(796):  at java.lang.reflect.Method.invokeNative(Native Method)
09-07 11:22:17.252: E/AndroidRuntime(796):  at java.lang.reflect.Method.invoke(Method.java:521)
09-07 11:22:17.252: E/AndroidRuntime(796):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
09-07 11:22:17.252: E/AndroidRuntime(796):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
09-07 11:22:17.252: E/AndroidRuntime(796):  at dalvik.system.NativeStart.main(Native Method) 
09-07 11:22:17.322: D/dalvikvm(796): GC_FOR_MALLOC freed 3352 objects / 244160 bytes in 58ms 
```

谢谢你的时间！..

# excel - 如何使用 VBA 禁用 Excel 中每个单元格中的特定键

> ID：12312528
> 
> 赞同：0
> 
> 时间：2012-09-07T06:00:43.103
> 
> 标签：excel, vba

我有一个 Excel 表，用户将在每个单元格中输入元数据。我需要做的是编写一个只允许字母数字字符和逗号的宏。

我为测试目的编写了一个不允许特殊字符的宏。但是在我在单元格中输入一个有效字符后，它允许我不允许使用的字符。我不知道如何纠正它。

我的代码：

```
Private Sub WorkBook_Open()
       MsgBox "Running the Disable_Keys() Macro"
       Call ThisWorkbook.Disable_Keys
End Sub

Sub MyMsg()
    MsgBox "Press Another Key"
End Sub

Sub Disable_Keys()

     Dim I As Long
     Dim KeysArray As Variant
     Dim Key As Variant

     KeysArray = Array("@", "!", "~", "#", "$", "&", "|", "\", ":", "*", "_", "-", "=", "'", ";", "<", ">", "?", "/", "'", ":")

     For Each Key In KeysArray
          Application.OnKey Key, "ThisWorkbook.MyMSg"
     Next Key
  End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T17:06:29.817

这将检查是否存在*不是*0-9、az 或逗号的内容如果您想排除特定字符，那么`.Pattern`您将更改细胞。

```
Private Sub Worksheet_Change(ByVal Target As Range)

Dim TestCell
Dim RE As Object
Dim REMatches As Object

Set RE = CreateObject("vbscript.regexp")
With RE
    .MultiLine = False
    .Global = False
    .IgnoreCase = True
    .Pattern = "[^0-9A-Z,]"
End With

For Each TestCell In Target.Cells
    Set REMatches = RE.Execute(TestCell.Value)
    If REMatches.Count > 0 Then
        MsgBox "Invalid:" & TestCell.Address & "-" & TestCell.Value
        TestCell.Value = ""
    End If
Next

End Sub 
```

# c# - 从 C# winforms 中的单个串行端口一起读取多个设备

> ID：12312530
> 
> 赞同：2
> 
> 时间：2012-09-07T06:00:50.287
> 
> 标签：c#, sql, winforms, serial-port

我应该从多个设备读取标签，但使用单个端口。我可以这样做，但是当我读取一个在其前面保留标签的设备时，除非我删除标签，否则另一台设备不会读入字符串。我需要同时从所有设备读取标签。它适用于超级终端，因此问题出在代码中

我的代码：

```
private void serialPort1_DataReceived(object sender, SerialDataReceivedEventArgs e)
{
    //int bytes = serialPort1.BytesToRead;
    ////create a byte array to hold the awaiting data
    //byte[] comBuffer = new byte[bytes];
    ////read the data and store it
    //serialPort1.Read(comBuffer, 0, bytes);
    //MessageBox.Show(comBuffer[bytes]);
    ////display the data to the user
    ////DisplayData(MessageType.Incoming, ByteToHex(comBuffer) + "\n");
    //serialPort1.Dispose();
    //serialPort1.Close();
    //if (serialPort1.IsOpen)
    //{
    //    serialPort1.ReadExisting();
    //    serialPort1.Close();
    //}

    string data = serialPort1.ReadLine();
    data = data.Substring(2, 2);

    if (data == "03")
    {
        //while (data == "03")
        //{
        string data1 = serialPort1.ReadLine();
        data1 = data1.Substring(4, 10);

        for (int b = 0; b < dataGridView3.Rows.Count; b++)
        {
            string floorno = dataGridView3.Rows[b].Cells[0].Value.ToString();
            SqlConnection conn = new SqlConnection(dba.GetConnectionString());
            SqlCommand cmd = new SqlCommand("Select Floor,RfidTag,DeviceId from LiftMonitor where Floor='" + 
                                            floorno + "'and DeviceId='03'", conn);
            SqlDataAdapter da = new SqlDataAdapter(cmd);

            ds = new DataSet();
            SqlCommandBuilder commandBuilder1 = new SqlCommandBuilder(da);
            da.Fill(ds, "LiftMonitor");
            for (int j = 0; j < ds.Tables[0].Rows.Count; j++)
            {
                DataRow dr = ds.Tables[0].Rows[j];
                string rfidtag = dr["RfidTag"].ToString();

                if (rfidtag == data1)
                {

                    dataGridView3.ClearSelection();
                    dataGridView3.Rows[b].Selected = true;
                    goto abc;
                    timer1.Start();
                    SqlConnection conn1 = new SqlConnection(dba.GetConnectionString());
                    SqlCommand cmd1 = new SqlCommand(" Select Timer from Setting ", conn1);
                    SqlDataAdapter da1 = new SqlDataAdapter(cmd1);
                    DataSet ds1 = new DataSet();
                    SqlCommandBuilder commandBuilder = new SqlCommandBuilder(da1);
                    da1.Fill(ds1, "Timer");
                    for (int k = 0; k < ds1.Tables[0].Rows.Count; k++)
                    {
                        DataRow dr1 = ds1.Tables[0].Rows[k];
                        string timer = dr1["Timer"].ToString();
                        int timer2 = Convert.ToInt32(timer);
                        timeConversion = timer2 * 1000;
                        if (timeConversion.Equals(timer1.Interval))
                        {
                            timer1.Tick += new System.EventHandler(timer1_Tick);
                        }
                    }
                }

                else
                {

                }
            }
        }
        //}
    }
    if (data == "04")
    {
        //while (data == "04")
        //{

        string data1 = serialPort1.ReadLine();
        //data1 = data1.Substring(1, 2);
        data1 = data1.Substring(4, 10);
        for (int b = 0; b < dataGridView4.Rows.Count; b++)
        {
            string floorno = dataGridView4.Rows[b].Cells[0].Value.ToString();
            SqlConnection conn = new SqlConnection(dba.GetConnectionString());
            SqlCommand cmd = new SqlCommand("Select Floor,RfidTag,DeviceId from LiftMonitor where Floor='" + 
                                            floorno + "' and DeviceId='04'", conn);
            SqlDataAdapter da = new SqlDataAdapter(cmd);

            ds = new DataSet();
            SqlCommandBuilder commandBuilder1 = new SqlCommandBuilder(da);
            da.Fill(ds, "LiftMonitor");
            for (int j = 0; j < ds.Tables[0].Rows.Count; j++)
            {
                DataRow dr = ds.Tables[0].Rows[j];
                string rfidtag = dr["RfidTag"].ToString();

                if (rfidtag == data1)
                {

                    dataGridView4.ClearSelection();
                    dataGridView4.Rows[b].Selected = true;
                    goto abc;

                    timer1.Start();
                    SqlConnection conn1 = new SqlConnection(dba.GetConnectionString());
                    SqlCommand cmd1 = new SqlCommand(" Select Timer from Setting ", conn1);
                    SqlDataAdapter da1 = new SqlDataAdapter(cmd1);
                    DataSet ds1 = new DataSet();
                    SqlCommandBuilder commandBuilder = new SqlCommandBuilder(da1);
                    da1.Fill(ds1, "Timer");
                    for (int k = 0; k < ds1.Tables[0].Rows.Count; k++)
                    {
                        DataRow dr1 = ds1.Tables[0].Rows[k];
                        string timer = dr1["Timer"].ToString();
                        int timer2 = Convert.ToInt32(timer);
                        timeConversion = timer2 * 1000;
                        if (timeConversion.Equals(timer1.Interval))
                        {
                            timer1.Tick += new System.EventHandler(timer1_Tick);
                        }
                    }
                }
                else
                {

                }
            }
        }
        //}
    }

    if (data == "05")
    {
        //while (data == "05")
        //{
        string data1 = serialPort1.ReadLine();
        data1 = data1.Substring(4, 10);

        for (int b = 0; b < dataGridView5.Rows.Count; b++)
        {
            string floorno = dataGridView5.Rows[b].Cells[0].Value.ToString();
            SqlConnection conn = new SqlConnection(dba.GetConnectionString());
            SqlCommand cmd = new SqlCommand("Select Floor,RfidTag,DeviceId from LiftMonitor where Floor='" + 
                                            floorno + "'and DeviceId='05'", conn);
            SqlDataAdapter da = new SqlDataAdapter(cmd);

            ds = new DataSet();
            SqlCommandBuilder commandBuilder1 = new SqlCommandBuilder(da);
            da.Fill(ds, "LiftMonitor");
            for (int j = 0; j < ds.Tables[0].Rows.Count; j++)
            {
                DataRow dr = ds.Tables[0].Rows[j];
                string rfidtag = dr["RfidTag"].ToString();

                if (rfidtag == data1)
                {
                    dataGridView5.ClearSelection();
                    dataGridView5.Rows[b].Selected = true;
                    //break;
                    goto abc;

                    timer1.Start();
                    SqlConnection conn1 = new SqlConnection(dba.GetConnectionString());
                    SqlCommand cmd1 = new SqlCommand(" Select Timer from Setting ", conn1);
                    SqlDataAdapter da1 = new SqlDataAdapter(cmd1);
                    DataSet ds1 = new DataSet();
                    SqlCommandBuilder commandBuilder = new SqlCommandBuilder(da1);
                    da1.Fill(ds1, "Timer");
                    for (int k = 0; k < ds1.Tables[0].Rows.Count; k++)
                    {
                        DataRow dr1 = ds1.Tables[0].Rows[k];
                        string timer = dr1["Timer"].ToString();
                        int timer2 = Convert.ToInt32(timer);
                        timeConversion = timer2 * 1000;
                        if (timeConversion.Equals(timer1.Interval))
                        {
                            timer1.Tick += new System.EventHandler(timer1_Tick);
                        }
                    }
                }
                //else
                //{
                //    break;
                //}
            }
        }
    }
} 
```

# c++ - 节点数组声明

> ID：12312539
> 
> 赞同：0
> 
> 时间：2012-09-07T06:01:29.560
> 
> 标签：c++, 2-3-4-tree

我正在尝试在节点类中初始化一个节点数组，它们是私有成员：

```
 #include<iostream>
    #include<string>
    using namespace std;
    class Data
    {
    public:
        long data;
        Data(long dd)
        {
            data=dd;
        }
        void displaydata()
        {
            cout<<data <<"  "<<endl;
        }
    };
    class node
    {
//these are what i have changed
        const static int order=4;
        int numitems;
        node *parent;

    vector<node>childarray(order);
        vector<Data>itemarray(order-1);

    }; 
```

但不幸的是它没有编译，错误是：

```
 1>c:\users\dato\documents\visual studio 2010\projects\234_tree\234_tree\234_tree.cpp(26): error C2061: syntax error : identifier 'order'
    1>c:\users\dato\documents\visual studio 2010\projects\234_tree\234_tree\234_tree.cpp(27): error C2061: syntax error : identifier 'order'
    ========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ========== 
```

从下面的java代码。

```
class DataItem
{
public long dData; // one data item
//--------------------------------------------------------------
public DataItem(long dd) // constructor
{ dData = dd; }
//--------------------------------------------------------------
public void displayItem() // display item, format “/27”
{ System.out.print(“/”+dData); }
//--------------------------------------------------------------
} // end class DataItem
////////////////////////////////////////////////////////////////
class Node
{
private static final int ORDER = 4;
private int numItems;
private Node parent;
private Node childArray[] = new Node[ORDER];
private DataItem itemArray[] = new DataItem[ORDER-1];
// -------------------------------------------------------------
// connect child to this node
public void connectChild(int childNum, Node child)
{
childArray[childNum] = child;
if(child != null)
child.parent = this;
}
// -------------------------------------------------------------
// disconnect child from this node, return it
public Node disconnectChild(int childNum)
{
Node tempNode = childArray[childNum];
childArray[childNum] = null;
return tempNode;
}
// -------------------------------------------------------------
public Node getChild(int childNum)
{ return childArray[childNum]; }
// -------------------------------------------------------------
public Node getParent()
{ return parent; }
// -------------------------------------------------------------
public boolean isLeaf()
Java Code for a 2-3-4 Tree 479
LISTING 10.1 Continued
{ return (childArray[0]==null) ? true : false; }
// -------------------------------------------------------------
public int getNumItems()
{ return numItems; }
// -------------------------------------------------------------
public DataItem getItem(int index) // get DataItem at index
{ return itemArray[index]; }
// -------------------------------------------------------------
public boolean isFull()
{ return (numItems==ORDER-1) ? true : false; }
// -------------------------------------------------------------
public int findItem(long key) // return index of
{ // item (within node)
for(int j=0; j<ORDER-1; j++) // if found,
{ // otherwise,
if(itemArray[j] == null) // return -1
break;
else if(itemArray[j].dData == key)
return j;
}
return -1;
} // end findItem
// -------------------------------------------------------------
public int insertItem(DataItem newItem)
{
// assumes node is not full
numItems++; // will add new item
long newKey = newItem.dData; // key of new item
for(int j=ORDER-2; j>=0; j--) // start on right,
{ // examine items
if(itemArray[j] == null) // if item null,
continue; // go left one cell
else // not null,
{ // get its key
long itsKey = itemArray[j].dData;
if(newKey < itsKey) // if it’s bigger
itemArray[j+1] = itemArray[j]; // shift it right
else
{
itemArray[j+1] = newItem; // insert new item 
```

请帮我轻松转换代码，我必须将订单声明为公开吗？我试过了但是没用，我也试过在类外声明顺序，比如 const int node::order=4 但还没有成功，有什么问题？我需要一个包含成员的数组，大小应该是 order 或 4。当我看书时，作者说你在本书中用 C++ 编写 java 代码时需要什么，它说指针，所以我添加了指针，但还没有成功。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:17:40.317

线条

```
node *childarray[]=new node[order];
Data *itemarray[]=new Data[order-1]; 
```

这里有错误。除了你不能在课堂上这样分配之外，你也有错误的声明。您正在声明 eg`childarray`是一个指针数组，但是您将它创建为一个简单的数组。将声明更改为

```
node *childarray;
Data *itemarray; 
```

要实际进行分配，您必须在构造函数中进行。

但是，我真的建议您改用[`std::array`](http://en.cppreference.com/w/cpp/container/array)（或可能[`std::vector`](http://en.cppreference.com/w/cpp/container/vector)）。

**编辑：**使用`std::array`：

```
struct node
{
    static const int ORDER = 4;
    int numitems;
    node* parent;
    std::array<node*, ORDER> childarray;
    std::array<Data*, ORDER - 1> itemarray;

    node()
        : numitems{0},
          parent{nullptr},
          childarray{{nullptr}},
          itemarray{{nullptr}}
        { }
}; 
```

现在`childarray`和是具有和（分别）数量的指针`itemarray`的数组，全部初始化为（现在应该是什么）。`ORDER``ORDER - 1``nullptr``NULL`

# c++ - C++ 字符转换

> ID：12312540
> 
> 赞同：0
> 
> 时间：2012-09-07T06:01:40.867
> 
> 标签：c++, windows, char

我现在用谷歌搜索了 2 个小时，但我找不到我的问题的答案：我需要获取一个注册表`REG_SZ`值并将其传递给`char*`.

```
char host_val[1024];
DWORD hostVal_size = 1024;
char* hostName;
DWORD dwType = REG_SZ;

RegOpenKeyEx(//no problem here);
if( RegQueryValueEx( hKey, TEXT("HostName"), 0, &dwType, (LPBYTE)&host_val, &hostVal_size ) == ERROR_SUCCESS )
{
      //hostName = host_val; 
} 
```

我应该如何进行这种转换`hostName = host_val`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T06:06:36.553

The resulting `host_val` is a [possibly non-null-terminated string](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724911%28v=vs.85%29.aspx) (see "Remarks"), so you should copy it to a newly allocated string with `memcpy`, and ensure it's null-terminated:

```
hostName = new char[hostVal_size + 1];
// host_val may or may not be null-terminated
memcpy(hostName, host_val, hostVal_size);
hostName[hostVal_size] = '\0'; 
```

You will need to `delete[]` the `hostName` later.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-07T06:29:25.030

使用函数的 ANSI 版本

```
RegQueryValueExA 
```

这样你就不需要转换了。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-07T07:25:42.490

如果您使用 Unicode 进行编译，则您正在将 Unicode 字符串（可能未终止）复制到一个狭窄的 char 缓冲区中。unicode 字符串中的第一个字符将是 0x3100 （考虑到您机器上的字节序，这可能是 little-endian，并且您说 IP 地址是 192....）

填充到 char[] 数组中的值将报告为以单字符空字符结尾的字符串。你有两个选择。

1.  使用 RegQueryValueExA，其他一切都保持不变，或者
2.  将您的 char[] 数组更改为 wchar_t[] 数组，执行您当前正在执行的操作，然后使用 WideCharToMultiByte 转换为窄（文档在 SDK 中）。

出于显而易见的原因，我会选择这两个选项中的前一个。

# objective-c - wait_fences：未能收到回复：10004003 显示 UIAlertView 并按下主页按钮

> ID：12312542
> 
> 赞同：0
> 
> 时间：2012-09-07T06:01:55.660
> 
> 标签：objective-c, ios, xcode

我已经搜索了有关此问题的论坛，但没有找到有关此错误的信息。我在 xcode 中创建了一个简单的单视图应用程序，并添加了代码以在 viewDidLoad 方法中创建测试警报。

```
- (void)viewDidLoad
{
 [super viewDidLoad];

  UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Alert Test"
                                        message:@"Alert Test"
                                       delegate:self
                              cancelButtonTitle:@"Dismiss"
                              otherButtonTitles:nil];
  [alert show];
// Do any additional setup after loading the view, typically from a nib.
} 
```

我没有添加任何其他代码。当我在我的 iphone 4 上运行它时，它运行没有任何问题。但是当我点击我的 iphone 4 的主页按钮并显示警报时，我收到了上述错误。

设备：iphone 4 操作系统：iOS 5.1.1

请帮忙。提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:08:29.537

你不应该`alertView`在[viewDidLoad](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instm/UIViewController/viewDidLoad)中`[UIAlertView show]`显示，使用动画显示 alertView 。当我们不在 screen/view 中时，我们应该避免动画性能，而是显示`alertView`in `viewDidAppear`。

编辑：

```
-(void)viewDidLoad
{
  [super viewDidLoad];
 [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(dismiss) name:@"UIApplicationWillResignActiveNotification" object:nil];
}

-(void)viewDidAppear:(BOOL)animated{
 [super viewDidAppear:animated];
alert = [[UIAlertView alloc]initWithTitle:@"test" message:@"test" delegate:nil cancelButtonTitle:@"ok" otherButtonTitles:nil, nil];
[alert show];
}

//do not forget to add this in your header
-(void)dismiss{
   [alert dismissWithClickedButtonIndex:-1 animated:NO];
 } 
```

# java - 在命令行参数中给出特殊字符

> ID：12312543
> 
> 赞同：0
> 
> 时间：2012-09-07T06:01:55.863
> 
> 标签：java

大家好！我编写了这个程序来读取命令行参数。

```
public class UseArgument {
public static void main(String args[])
{
    System.out.print("hi, ");
    System.out.print(args[0]);
    System.out.println(" How are you?");
}
} 
```

我尝试通过命令行发送以下参数：

```
java UseArgument @!&^% 
```

它抛出如下错误。输出：

```
hi, @! How are you? 
```

*''%'' 不是内部或外部命令、可运行程序或批处理文件。*

```
java UseArgument @!^% 
```

任何人都可以解释这种行为吗？这与正则表达式有关吗？

谢谢。西瓦基兰 B

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-07T06:07:00.747

Some of the special characters you are using have a meaning to the shell from which you are launching your program. By putting the characters in quotes, you are instructing the shell not to process these characters according to their special meaning.

# iphone - 如何在ios的谷歌地图中带上顶栏

> ID：12312548
> 
> 赞同：0
> 
> 时间：2012-09-07T06:02:44.530
> 
> 标签：iphone

我正在开发一个应用程序，我在其中打开护目镜地图

具有源和目标位置的 webview，但我无法

查看附加图像中显示的顶部栏。

[http://i.stack.imgur.com/Yrwld.png](http://i.stack.imgur.com/Yrwld.png)

我想要的是在 iphone 中打开地图时也应该显示顶部栏。请帮助。！在图像中，它显示顶部的栏。它是谷歌地图的默认栏，但我无法得到它。可能我没有传递正确的 url。我给出的 url 是：-

[http://maps.google.com/?saddr=nagpur&daddr=pune&output=html](http://maps.google.com/?saddr=nagpur&daddr=pune&output=html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T09:16:19.447

我不清楚您是在 Safari 中打开地图，还是在使用 MapKit 框架的同一应用程序中打开地图。但是您所说的顶栏只有在您在 Safari 中打开地图时才会显示（如下面的代码所示），但如果您愿意在应用程序地图中进行此类控制（即使用 MapKit、MKMapView），您将拥有使用相同的 UI 和功能对此类控件进行编码。

关于获取方向的正确 url（在 safari 中），请参见代码：

```
NSString* url = [NSString stringWithFormat:@"http://maps.google.com/maps?saddr=%@&daddr=%@",
                     [source stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding],
                     [destination stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding] 
                     ];
//where source and destination will be your address strings.    
    [[UIApplication sharedApplication] openURL:[NSURL URLWithString:url]]; 
```

# yii - 在 Yii 中通过电子邮件激活用户注册面临困难

> ID：12312550
> 
> 赞同：2
> 
> 时间：2012-09-07T06:03:02.403
> 
> 标签：yii, yii-components, yii-events

通过单击通过电子邮件发送的激活链接来激活用户时，我遇到了问题。

点击激活链接即[http://www.example.com/devtest/index.php?r=user/check&activationcode=bc74873d0e3f684d3e6b99a36169a793ee688406](http://www.example.com/devtest/index.php?r=user/check&activationcode=bc74873d0e3f684d3e6b99a36169a793ee688406)然后它重定向到登录页面而不更新数据库。

我认为我的以下控制器代码不适用于位于用户目录的视图文件 check.php。这是我的代码-

用户控制器.php：

```
public function actionCheck(){$activationcode = Yii::app()->request->getQuery('activationcode');
if(isset($activationcode))
{
  $model = User::model()->findByAttributes(array('activationcode'=>$activationcode));

  if($model !== null)
  {            
    $model->status=1;
    $model->save();Yii::app()->user->setFlash('check','Thank you for register with us');
    $this->refresh();
  }
}

$this->render('check',array('model'=>$model)); 
```

}

查看文件 check.php：

```
 <?php if(Yii::app()->user->hasFlash('check')): ?>
 <div class="flash-success">
   <?php echo Yii::app()->user->getFlash('check'); ?>
 </div>
<?php endif; ?> 
```

我不确定如何在 UserController 中处理 GET URL 操作。另外，我已经通过在 accessRules 中添加单词“检查”进行了测试，但是浏览器显示页面没有正确重定向。

```
public function accessRules()
    {
            return array(
                    array('allow',  // allow all users to perform 'index' and 'view' actions
                            'actions'=>array('index','create','view','captcha'),
                            'users'=>array('*'),
                    ),);} 
```

任何想法？请给我一个关于我的问题的解决方案。

谢谢，夫人

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-24T11:27:53.697

我认为您尚未将 Check 操作添加到您的 accessControl 并允许所有用户使用它。您能否在此处粘贴您的 accessRules 数组代码？

```
 public function filters() {
    return array(
            'accessControl', 
            );
}

public function accessRules() {
    return array(
        array('allow', // allow all users to perform 
            'actions'=>array('check'),
                'users'=>array('*'),
                ), 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T17:57:50.457

我认为你的模型是空的，所以你不能更新数据库。

我也认为你的行为应该是这样的

```
public function actionCheck(){$activationcode = null){ 
if(!is_null($activationcode))
{
   $model = User::model()->findByAttributes(array('activationcode'=>$activationcode));

if($model){            
    $model->status=1;
    if($model->save())
       Yii::app()->user->setFlash('check','Thank you for register with us');
    $this->refresh();
}else{
  Yii::app()->user->setFlash('check','Something is wrong!');
}
}
    $this->render('check',array('model'=>$model));
} 
```

# windows-phone-7 - 如何在 C# 中不使用 Rally.RestApi.dll 创建任务？

> ID：12312551
> 
> 赞同：2
> 
> 时间：2012-09-07T06:03:01.577
> 
> 标签：windows-phone-7

我正在尝试在 Windows Phone 应用程序中使用集会 REST Web 服务。我使用此网址成功获取数据“https://rally1.rallydev.com/slm/webservice/1.36/task?query=((Owner.Name = {0}) and (State != Completed))&order=Rank&fetch= true&stylesheet=/slm/doc/webservice/browser.xsl" 并使用 Ling to Xml 我能够读取数据。但是我无法使用创建、更新和删除操作。有人可以分享代码以在 C# 中使用以下服务吗

创建 PUT/POST XML [https://rally1.rallydev.com/slm/webservice/1.37/task/create](https://rally1.rallydev.com/slm/webservice/1.37/task/create) JSON [https://rally1.rallydev.com/slm/webservice/1.37/task/create.js](https://rally1.rallydev.com/slm/webservice/1.37/task/create.js)

更新 POST XML https://rally1.rallydev.com/slm/webservice/1.37/task/ObjectID JSON https://rally1.rallydev.com/slm/webservice/1.37/task/ObjectID.js

删除 DELETE XML https://rally1.rallydev.com/slm/webservice/1.37/task/ObjectID JSON https://rally1.rallydev.com/slm/webservice/1.37/task/ObjectID.js

谢谢， 苏尼尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T09:41:40.283

试试[RestSharp](http://restsharp.org/)，它支持所有 HTTP 操作，适用于 Windows Phone 7。

# iphone - 如何在 iPhone 中创建简单的条形图应用程序？

> ID：12312561
> 
> 赞同：1
> 
> 时间：2012-09-07T06:03:49.000
> 
> 标签：iphone, core-plot, bar-chart

我是 iPhone 条形图应用程序的新手，我不知道，如何启动这个应用程序？，我参考这个链接

> [http://iphoneapplicationdevelopers.blogspot.in/2011/03/iphone-sdk-how-to-draw-bar-charts-using.html](http://iphoneapplicationdevelopers.blogspot.in/2011/03/iphone-sdk-how-to-draw-bar-charts-using.html)

但是Core-plot框架怎么下载和安装，请大家帮帮我。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:06:26.057

[您可以从http://code.google.com/p/core-plot/](http://code.google.com/p/core-plot/)下载 core-plot

在此处查找文档：http:
[//core-plot.googlecode.com/hg/documentation/html/iOS/index.html](http://core-plot.googlecode.com/hg/documentation/html/iOS/index.html)

您可以在此处找到更多示例和教程：
[http ://code.google.com/p/core-plot/wiki/PlotExamples](http://code.google.com/p/core-plot/wiki/PlotExamples)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:09:35.830

[本页](http://code.google.com/p/core-plot/wiki/UsingCorePlotInApplications)介绍如何为 iphone 项目安装 core-plot。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T06:14:38.437

请转到此链接并阅读如何在我的应用程序中添加 core-plot.. [http://www.switchonthecode.com/tutorials/using-core-plot-in-an-iphone-application](http://www.switchonthecode.com/tutorials/using-core-plot-in-an-iphone-application)

形成这个链接，打开你的mac终端并粘贴你的终端

```
hg clone http://core-plot.googlecode.com/hg/ core-plot 
```

# cordova - RedLaser 和 PhoneGap 插件

> ID：12312562
> 
> 赞同：2
> 
> 时间：2012-09-07T06:03:52.410
> 
> 标签：cordova, sencha-touch, sencha-touch-2, phonegap-plugins

我正在使用 Sencha Touch 2.0 和 PhoneGap 开发一个项目。

我需要实现一个二维码阅读器，客户想使用 RedLaser。

我的问题，你知道在 PhoneGapor 上工作的任何 RedLaser 插件吗？或者你能建议一个易于集成的二维码阅读器吗？

谢谢你的时间。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T07:07:23.537

条码扫描器插件在 phonegap 中可用

请检查这些插件

IOS [链接](https://github.com/phonegap/phonegap-plugins/tree/master/iOS/BarcodeScanner)

安卓 [链接](https://github.com/phonegap/phonegap-plugins/tree/master/Android/BarcodeScanner)

黑莓[链接](https://github.com/phonegap/phonegap-plugins/tree/master/BlackBerry/BarcodeScanner)

窗口[链接](https://github.com/phonegap/phonegap-plugins/tree/master/WindowsPhone/BarcodeScanner)

我想这可能对你有帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T07:04:36.623

如果您想使用 redLaser，您必须自己创建插件。

有一个用于读取代码（二维码、条形码等）的插件

iOS

[https://github.com/phonegap/phonegap-plugins/tree/master/iOS/BarcodeScanner](https://github.com/phonegap/phonegap-plugins/tree/master/iOS/BarcodeScanner)

安卓

[https://github.com/phonegap/phonegap-plugins/tree/master/Android/BarcodeScanner](https://github.com/phonegap/phonegap-plugins/tree/master/Android/BarcodeScanner)

编辑：这里你有另一个插件，这是用于 scandit sdk，如果你注册你可以下载一个 android 和一个 iOS 示例项目。

[http://www.scandit.com/support/getting-started-with-the-scandit-phonegap-plugin-for-ios/](http://www.scandit.com/support/getting-started-with-the-scandit-phonegap-plugin-for-ios/)

# excel - 自动打开、更新和保存 Excel 工作簿

> ID：12312566
> 
> 赞同：4
> 
> 时间：2012-09-07T06:04:18.963
> 
> 标签：excel, vbscript

我想在excel中自动修改列的数字格式。

```
Set excel = CreateObject("Excel.Application")
Set oWB = excel.Workbooks.Open("E:\Docs\Invoice.csv")

/* Excel Macro starts */
Columns("G:G").Select
Selection.NumberFormat = "m/d/yyyy"
Columns("H:H").Select
Selection.NumberFormat = "0.00"
/* Excel Macro ends */

oWB.save
oWB.Application.Quit 
```

我使用命令行运行这个 .vbs。Excel 文档没有得到更新。
谁能帮我解决这个问题？

提前致谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-07T06:18:48.443

您在上面的代码中缺少的是您没有完全限定 Excel 对象。

vbs 如何理解什么是`Columns("G:G")`？

尝试这个

```
Dim objXLApp, objXLWb, objXLWs

Set objXLApp = CreateObject("Excel.Application")
Set objXLWb = objXLApp.Workbooks.Open("E:\Docs\Invoice.csv")

'~~> Working with Sheet1
Set objXLWs = objXLWb.Sheets(1)

With objXLWs
    '/* Excel Macro starts */
    .Columns("G:G").NumberFormat = "m/d/yyyy"
    .Columns("H:H").NumberFormat = "0.00"
    '/* Excel Macro ends */
End With

objXLWb.Save
objXLWb.Close (False)

Set objXLWs = Nothing   
Set objXLWb = Nothing

objXLApp.Quit
Set objXLApp = Nothing 
```

**编辑**：我唯一担心的是数字格式不会保留，因为它是 CSV 文件。您可能想将其保存为 Excel 文件？

**代码**

```
Dim objXLApp, objXLWb, objXLWs

Set objXLApp = CreateObject("Excel.Application")

objXLApp.Visible = True

Set objXLWb = objXLApp.Workbooks.Open("E:\Docs\Invoice.csv")

'~~> Working with Sheet1
Set objXLWs = objXLWb.Sheets(1)

With objXLWs
    .Columns("G:G").NumberFormat = "m/d/yyyy"
    .Columns("H:H").NumberFormat = "0.00"
End With

'~~> Save as Excel File (xls) to retain format
objXLWb.SaveAs "C:\Sample.xls", 56

'~~> File Formats
'51 = xlOpenXMLWorkbook (without macro's in 2007-2010, xlsx)
'52 = xlOpenXMLWorkbookMacroEnabled (with or without macro's in 2007-2010, xlsm)
'50 = xlExcel12 (Excel Binary Workbook in 2007-2010 with or without macro's, xlsb)
'56 = xlExcel8 (97-2003 format in Excel 2007-2010, xls)

objXLWb.Close (False)

Set objXLWs = Nothing
Set objXLWb = Nothing

objXLApp.Quit
Set objXLApp = Nothing 
```

# java - Is it necessary to make immutable class as final

> ID：12312570
> 
> 赞同：0
> 
> 时间：2012-09-07T06:04:33.657
> 
> 标签：java, immutability, final

> **Possible Duplicate:**
> [why to declare immutable class as final in java](https://stackoverflow.com/questions/12306651/why-to-declare-immutable-class-as-final-in-java)

Why declare an `immutable` class as `final` in Java ? Please explain with some example if it is really necessary to declare it as final (consider all fields to be private and that the class has no setter methods).

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T06:14:49.543

**首先这是什么是不可变的**

```
Immutable means that once an object of that Class has been created
it can't be altered.
Ex: String class 
```

**第二件事如何使类不可变。**

1.  使课程最终
2.  使所有成员成为最终成员，在静态块中或在构造函数中显式设置它们
3.  将所有成员设为私有
4.  没有修改状态的方法

# css - JQuery Plugin (Hover-Caption) Adding Offset to Images In Internet Explorer (all versions)

> ID：12312578
> 
> 赞同：2
> 
> 时间：2012-09-07T06:05:38.193
> 
> 标签：css, wordpress, internet-explorer, jquery-plugins, hover

I have a Wordpress site that uses a JQuery plugin called Hover-Caption ( [https://github.com/coryschires/hover-caption](https://github.com/coryschires/hover-caption) ).

The main page of site: ([http://brighidfitzsimons.com](http://brighidfitzsimons.com)) looks good.

However in Internet Explorer 9, a similar page based on Category adds a 282px top offset to the post thumbnail image. ([http://brighidfitzsimons.com/category/lifestyle/](http://brighidfitzsimons.com/category/lifestyle/))

I am new web developer so I am struggling to figure out how to isolate problem. Based on this stackoverflow entry ( [How do I get rid of an element's offset using CSS?](https://stackoverflow.com/questions/4817745/how-do-i-get-rid-of-an-elements-offset-using-css) ) my current train of thought is to add a IE specific CSS sheet to 'reverse' the offset but I can't seem to get at the offending element. Also I'm confused why works on main page but not on category page. If you watch page loading carefully, it initially loads correctly then at the very end the images are moved down. Perhaps this is a clue.

First stackoverflow entry so I hope I have followed correct ettiquete. Please advise if you need me to provide any more information.

Thanks for taking time to read problem.

Regards Simon

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T07:03:59.430

它与标题内内容的替换有关，可能是关于 ie9 的一些怪癖，其他人会对我有更多的想法，所以你可以相信我的话：http: [//jsfiddle.net/BXjK3 /](http://jsfiddle.net/BXjK3/) 前两个我删除了所有更大、更小和引号，它可以工作，但我会说浏览器在 Javascript 可以看到它之前进行替换，这一切都走下坡路

编辑：值得一提的原因是因为文本不再正确包含，因此 display none 没有对其生效，由于内容的方式，将所有图像向下推并使其混乱加载 ie 检查无法显示文本在 javascript 之后的情况，只能显示页面加载时加载的内容，所以我无法为您提供更多帮助

# javascript - javascript is not running in aptana 3 studio

> ID：12312580
> 
> 赞同：-2
> 
> 时间：2012-09-07T06:05:46.367
> 
> 标签：javascript, aptana, aptana3

Just downloaded `Aptana 3 Studio` for mac.

I was using `Aptana 2` up until today. I am having trouble getting aptana to run my javascript code. It won't even display a simple alert message in an html file.

It is really frustrating me. New to programming and getting over these technical hurdles is a real pain sometimes.

I know my syntax isn't wrong. I have done much more complex code than this. Here is the alert message that won't even show:

```
<script type = "text//javascript">
     //<![CDATA[
     alert("Hello, World");
     //]]>
</script> 
```

Any help would be appreciated.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:06:47.943

The MIME type for JavaScript only has one `/` character in it.

Browsers (and other tools that deal in HTML and JS) don't treat scripts with unrecognised MIME types as JavaScript.

HTML 5 makes the type attribute optional, so you can omit it entirely if you are dealing with JavaScript and avoid typos causing problems:

```
<script>
  alert("Hello, World");
</script> 
```

(You can get rid of the CDATA too, it only matters if you are using characters with special meaning in XHTML in your script (you aren't, at least in this example) and are using XHTML).

# c# - 在 Nop.Core 中实现新的控件类型

> ID：12312587
> 
> 赞同：3
> 
> 时间：2012-09-07T06:06:32.667
> 
> 标签：c#, nopcommerce

我是 noCommerce 2.65 的初学者。是否可以实施新的控制

**Nop.Core.Domain.Catalog.AttributeControlType**。我尝试添加新的控件类型

在 Nop.Core

请帮忙。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-07T08:00:56.767

1 - 将控件类型添加到**Nop.Core.Domain.Catalog.AttributeControlType**

2 - 修改视图**Nop.Web.View.Catalog._ProductAttributes.cshtml**以显示在产品页面中

3 - 修改管理部分，以便能够在产品属性中分配控件类型

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T07:35:52.817

这是可能的，但更改 Nop.Core 的事实将要求您对每个 NopCommerce 更新进行相同的更改。

# ruby-on-rails-3 - How to use WKhtmltopdf Library without using executable

> ID：12312591
> 
> 赞同：2
> 
> 时间：2012-09-07T06:06:53.727
> 
> 标签：ruby-on-rails-3, wkhtmltopdf, pdfkit

In ruby on rails project.

I am using **PDFKit** gem for generating pdf reports

```
PDFKit uses wkhtmltopdf executable which is to be installed on the machine . 
```

*   And next step to give the path of the executable .

*   I **dont want to use the executable file** .because if i use it how to deploy it on server .

*   the server will need to install it on its local and give the path.

Is it possible to use only library????

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-03T07:14:16.600

可执行文件用于包装底层 Qt 应用程序，因此在技术上可以将库包装在 gem 中（使用 ffi 或其他类似的库），但我从未听说有人这样做。

我自己将可执行文件与我的 Rails 应用程序捆绑在一起，以便在部署时同时发布（甚至在 Heroku 上）。

为此，您可以将二进制文件放在目录中（您可以调用它`bin`），并配置 PDFKit 以获取可执行文件，`PDFKit.configure`例如在初始化程序中使用它（您可能想检查自述文件）。

# jquery - jQuery mobile: can data-role be applied to the body tag?

> ID：12312594
> 
> 赞同：3
> 
> 时间：2012-09-07T06:07:10.763
> 
> 标签：jquery

Can `data-role="page"` be applied to the `body` tag instead of a `div` tag? Really just a quirk about adding extra divs that do the same thing as other tags. However I may be wrong about the purpose of body verses a `div` tag with `data-role="page"`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T10:11:22.563

`data-*`从技术上讲，向 body 标签添加属性是绝对可以的。但是，这不适用于`data-role=page`jQuery mobile。查看jQuery Mobile 文档[中的页面剖析。](http://jquerymobile.com/demos/1.0a4.1/docs/pages/docs-pages.html)

总结：别这样。额外的 div 标签不会造成伤害并避免奇怪的问题。

# asp.net-mvc-3 - Adding new tables in Nop Commerce2.3

> ID：12312596
> 
> 赞同：2
> 
> 时间：2012-09-07T06:07:21.983
> 
> 标签：asp.net-mvc-3, nopcommerce

I want to add new features to the nop commerce 2.3 solution.

I have added new tables in the database and tried to insert data into it from the admin panel but I am unable to do so.

# qt - QBuffer 是否以系统相关字节顺序写入数据？

> ID：12312598
> 
> 赞同：2
> 
> 时间：2012-09-07T06:07:22.577
> 
> 标签：qt

文档说 QDataStream 以独立于系统的方式写入数据，但对 QBuffer 只字未提。我开发了一个程序，将数据保存在这样的文件中：

```
QByteArray a;
QBuffer b(&a);
b.open(QIODevide::WriteOnly);
quint32 x = 1;
b.write((char*)&x, sizeof(x));
b.close();
QFile f(...);
f.open(QIODevide::WriteOnly);
f.write(a.constData(), a.size());
f.close(); 
```

，我希望这个文件可以在任何其他操作系统（win、linux、Mac OS）中读取。这段代码会起作用还是我必须改用 QDataStream ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T08:06:48.173

QBuffer[文档](http://doc.qt.nokia.com/4.7-snapshot/qbuffer.html#details)说：

> QBuffer 类为 QByteArray 提供 QIODevice 接口。

即它只是一个`QByteArray`下面。另一方面， a`QByteArray`是可移植的，因为只要您将数据视为字节数组并一次写入一个字节就可以了。您的代码将起作用：

当你说

> 我希望在任何其他操作系统中读取此文件

您的文件是仅由您的程序使用还是将由系统中的其他应用程序使用？`QDataStream`提供了更好的功能`I\O`，您仍然可以利用它。

* * *

它将是特定于平台的。`x`内存中的表示取决于字节序。它不会出现在 中`QBuffer`，但是当你这样做时：

```
b.write((char*)&x, sizeof(x)); 
```

如果您在不同字节序的机器上，您将通过执行获得结果数组的不同值

```
char* data = &x;
qDebug()<< data[0];
qDebug()<< data[1];
qDebug()<< data[2];
qDebug()<< data[3]; 
```

[看一下QDataStream算子](http://qt.gitorious.org/qt/qt/blobs/4.8/src/corelib/io/qdatastream.cpp#line1045)的源码

```
QDataStream &QDataStream::operator<<(qint32 i){

  CHECK_STREAM_WRITE_PRECOND(*this)
  if (!noswap) {
      i = qbswap(i);
  }
   if (dev->write((char *)&i, sizeof(qint32)) != sizeof(qint32))
       q_status = WriteFailed;
   return *this;
} 
```

# android - 在android中从网络获取Html

> ID：12312601
> 
> 赞同：0
> 
> 时间：2012-09-07T06:07:37.457
> 
> 标签：android, html, url, android-webview

我想从网上获取 html，但我不能。这是我的代码

```
final EditText et = (EditText) findViewById(R.id.editText1);
    final TextView tv = (TextView) findViewById(R.id.textView1);
    final Button b = (Button) findViewById(R.id.button1);
    b.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {

            try {
                URL url = null;
                url = new URL(et.getText().toString());
                URLConnection conn = url.openConnection();
                BufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));
                String line;
                while ((line = reader.readLine()) != null) {
                    tv.append(line);

                }
            } catch (Exception e) {
                Log.e("error", "erorr connection "+ e.toString());
            }               
        }
    }); 
```

我也已经添加了来自互联网的许可。目标版本 4.0.3

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T06:12:01.197

// 创建 HTTP 客户端

```
HttpClient httpclient = new DefaultHttpClient(); 
    HttpGet httpget = new HttpGet("http:// yoururl"); 
    HttpResponse response = httpclient.execute(httpget); 
    HttpEntity entity = response.getEntity(); 
    InputStream is = entity.getContent(); 
    BufferedReader reader = new BufferedReader(new InputStreamReader(is, "iso-8859-1"), 8);
    StringBuilder sb = new StringBuilder();
    String line = null;
    while ((line = reader.readLine()) != null) 
        sb.append(line + "\n");

    String resString = sb.toString(); // Result is here

    is.close(); // Close the stream 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T06:28:47.973

请将网络部分放入后台线程，然后更新到前台 UI 线程。您可以使用 AsyncTask 来执行此操作。

# android - send multiple files using bluetooth in android programmatically

> ID：12312604
> 
> 赞同：5
> 
> 时间：2012-09-07T06:07:49.653
> 
> 标签：android, bluetooth, data-transfer

I am working on an android application that will transfer multiple image files to another mobile device through bluetooth connection.

I have used following transfer method in android:

```
ArrayList<Uri> uris=new ArrayList<Uri>();
String multifile[]={"/sdcard/aaa.txt","/sdcard/bbb.txt","/sdcard/ccc.txt"};
int len=multifile.length;
Intent Int=new Intent();
Int.setAction(android.content.Intent.ACTION_SEND_MULTIPLE);
Int.setType("*/*");
for(int i=0;i<len;i++)
{
File file=new File(multifile[i]);
uris.add(Uri.fromFile(file));
}
Int.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uris);
startActivity(Int); 
```

This methos successfully transfered the files.But i have only nine images on android phone and then my application will go for another set of 9 images to be transfered,for that i have to call the above chooser wizard to send the files. But i don’t want user to select option from chooser again n again.

Is there any way to send files through that option(bluetooth from wizard) silently(without user intervention) ?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T10:33:22.677

```
ArrayList<Uri> uris = new ArrayList<Uri>();
        mul = fileSelectorList;
         Log.d("final",""+mul);
        int length = mul.size();

        //Toast.makeText(ImageActivity.this, "Send", Toast.LENGTH_LONG).show();
        //mail_int.setAction(android.content.Intent.ACTION_VIEW);
        mail_int.setAction(android.content.Intent.ACTION_SEND_MULTIPLE);
    //mail_int.setAction(android.content.Intent.ACTION_TIME_CHANGED);
        mail_int.setType("image/*");
        for(int i = 0; i < length; i++) {
            File file = new File(mul.get(i));
            uris.add(Uri.fromFile(file));

        }

        mail_int.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uris);
        startActivity(mail_int); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T20:17:02.283

这对我有用：

而不是`putParcelableArrayListExtra`使用`putExtra(Intent.EXTRA_STREAM, uris)`

一个月前有人问过，所以不知道它对你有多相关，但可能对其他人有帮助。:)

# c# - 无法将类型 bool 隐式转换为 System.DateTime (C#)

> ID：12312608
> 
> 赞同：1
> 
> 时间：2012-09-07T06:08:04.980
> 
> 标签：c#, datetime

我正在尝试如果用户输入实际上是日期 `convert`。`string to datetime to validate`

我得到的错误是：

```
Cannot implicitly convert type bool to System.DateTime. 
```

我在网上找了一段时间，找不到足够具体的东西来帮助我理解。

代码：

> ```
>  public bool is21YearsOfAge(string argument)
>    {
>        DateTime _parsedDateArgument;
>        DateTime convertStringToDate = System.DateTime.TryParse(argument, out >_parsedDateArgument);
> 
>        if (convertStringToDate > DateTime.Now)
>        {
>            //do something
>        }
> 
>    } 
> ```

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T06:11:23.980

该[`TryParse`](http://msdn.microsoft.com/en-us/library/system.datetime.tryparse.aspx)方法返回一个通知您解析是否成功，而不是像该方法那样`bool`抛出异常。[`Parse`](http://msdn.microsoft.com/en-us/library/system.datetime.parse.aspx)尝试这样做：

```
DateTime convertStringToDate;
bool isDate = DateTime.TryParse(argument, out convertStringToDate); 
```

如果`argument`是日期，`convertStringToDate`将包含该日期作为`DateTime`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-07T06:11:01.870

DateTime.TryParse 返回 bool 以指示解析是否成功。所以你应该做

```
System.DateTime.TryParse(argument, out _parsedDateArgument);
DateTime convertStringToDate =_parsedDateArgument 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-07T06:11:40.853

它应该是

```
DateTime convertStringToDate;

if(System.DateTime.TryParse(argument, out convertStringToDate))
{
    //Now you will have converted date in convertStringToDate
    if (convertStringToDate > DateTime.Now)
    {
       //do something
    }
}
else
{
    //argument not have a valid date
} 
```

如果参数将具有要转换的有效日期字符串，则 System.DateTime.TryParse 将返回 true。并且转换后的日期将存储在其 out 参数中。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-07T06:12:26.733

查看[文档`DateTime.TryParse`](http://msdn.microsoft.com/en-us/library/ch92fbc1)- 它*返回*a `bool`，但解析结果有一个*out*参数：

```
DateTime dateTime;
bool success = DateTime.TryParse(text, out dateTime); 
```

如果`success`为 false，则表示无法解析文本。（因此，通常此时您会向用户显示错误。）

你已经得到了`out`参数——为什么你*期望*得到两个不同`DateTime`的值（一个作为返回值，一个来自`out`参数）？

当您遇到此类错误时，请*始终*阅读文档作为诊断问题的第一步。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-07T06:12:13.480

DateTime.TryParse 不返回 DateTime 值。它返回一个布尔值，指示它是否可以解析它。

而是使用

```
DateTime convertStringToDate;
if(DateTime.TryParse(argument, out convertStringToDate)){
   //ok value is good
}else{
  //Not ok value is not good
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-07T06:12:29.167

改用这个，

```
DateTime _parsedDateArgument;
bool success = System.DateTime.TryParse(argument, out _parsedDateArgument); 
```

永远记住`Tryparse`总是返回布尔值。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-07T06:12:29.493

TryParse 返回 a `bool`，仅使用`Parse`，或将 out 变量分配给您拥有的新变量：

```
System.DateTime.TryParse(argument, out _parsedDateArgument);
DateTime convertStringToDate = _parsedDateArgument; 
```

或像这样：

```
DateTime convertStringToDate = DateTime.Parse(argument); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-09-07T06:16:40.857

添加以下命名空间

```
using System.Globalization; 
```

创建 CultureInfo 类的对象

```
CultureInfo MyCI = new CultureInfo("en-US");
DateTime convertStringToDate = System.DateTime.TryParse(argument.ToString("MM/dd/yy", MyCI), out _parsedDateArgument); 
```

# json - 如何使用 @JsonTypeInfo 注解的 defaultImpl 属性？

> ID：12312610
> 
> 赞同：4
> 
> 时间：2012-09-07T06:08:18.630
> 
> 标签：json, jackson

我想使用**@JsonTypeInfo注释的****defaultImpl**属性来处理反序列化过程中缺少类型信息的情况。

 **我使用了上述属性，如下所述。

```
@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY, property = "@class" ,defaultImpl = DefaultImpl.class)

public class DefaultImpl{
} 
```

问题是我不知道我可以在这个类中写什么来处理丢失的类型信息。

请帮助我，示例将很高兴。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T20:31:14.573

您不必在类中为缺少类型信息编写任何内容：如果缺少，则选择该类，仅此而已。但它显然需要有数据绑定属性的位置，或者配置为忽略未知属性。**

# iphone - 以编程方式自定义 iphone 设置

> ID：12312613
> 
> 赞同：1
> 
> 时间：2012-09-07T06:09:09.280
> 
> 标签：iphone, settings

我有一个应用程序，在运行它并选择 iPhone 的设置后，在应用程序名称中应该有一个按钮。

我知道通过 settings.bundle 我们无法添加按钮。

那么有没有办法以编程方式做到这一点？

或者我们可以将 uitableviewcell 添加到与 safari 等相同的设置中，使其看起来像一个按钮？

请指导我。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T06:42:16.107

根据这篇[文章](https://stackoverflow.com/questions/3900916/adding-a-button-to-an-iphone-prefs-settings-bundle)，这是不可能的。如果你不是一定要使用 iPhone 系统设置，你可以看看[inAppSettingsKit](http://www.inappsettingskit.com/home)

# android - 使用缩放和 darg 绘制路径

> ID：12312617
> 
> 赞同：1
> 
> 时间：2012-09-07T06:09:25.393
> 
> 标签：android, bitmap, android-canvas, drawing2d, pinchzoom

'正在开发一个应用程序，我在其中粘贴图像，在画布上进行绘图和绘画。这个应用程序还可以放大/缩小画布或将其拖动到不同的位置。我的问题是：缩放或拖动画布后我无法获得正确的画布坐标。我想在画布缩放或拖动后绘制手指画但无法检索我触摸过的正确位置......

```
@Override
public boolean onTouchEvent(MotionEvent event) {

    scaleListener.onTouchEvent(event);

    synchronized(thread.getSurfaceHolder()){

        switch ( event.getAction() & MotionEvent.ACTION_MASK ){

            case MotionEvent.ACTION_DOWN :
                // Remember our initial down event location.
                savedMatrix.set(m_matrix);
                start.set(event.getX() , event.getY());
                mode = DRAG;                
            break;

            case MotionEvent.ACTION_POINTER_DOWN :

                oldDist = spacing(event);
                if (oldDist > 10f) {

                    savedMatrix.set(m_matrix);
                    m_matrix.getValues(matrixValues);
                    midPoint(mid, event);
                    mode = ZOOM;
                }

             break;

            case MotionEvent.ACTION_UP :
            case MotionEvent.ACTION_POINTER_UP :
                    mode = NONE;

            break;

            case MotionEvent.ACTION_MOVE :

                if(mode==DRAG && isDragAllowd){
                        m_matrix.set(savedMatrix);
                        rebound(event.getX() , event.getY());
                }
                else if(mode==ZOOM){

                    float newDist = spacing(event);
                    if (newDist > 10f){

                            m_matrix.set(savedMatrix);

                            float scale = newDist/oldDist;
                            m_matrix.getValues(matrixValues);
                            float currentScale = matrixValues[Matrix.MSCALE_X];

                            // limit zoom
                            if (scale * currentScale > maxZoom){
                                    scale = maxZoom / currentScale;
                                    //scale = maxZoom;
                            }
                            else if (scale * currentScale < minZoom){
                                    scale = minZoom / currentScale;
                                    //scale = minZoom;
                            }

                            m_matrix.postScale(scale, scale, mid.x, mid.y);
                            m_matrix.getValues(matrixValues);

                  }

            }
       break;

    }

    return true; //done with this event so consume it

    }       

}

@Override
protected void onDraw(Canvas canvas){
    super.onDraw(canvas);

            canvas.drawColor(Color.WHITE);
        canvas.drawBitmap(currentBitmap, m_matrix, null);
        c2.drawColor(Color.BLACK); 
        commandManager.executeAll(c2); // Drawing all the Paints on Canvas c2
        // Overlay bitmap it's a transparent layour 
            canvas.drawBitmap(overlayBitmap, 0, 0, pTouch); 
```

}

当用户缩放位图时，他无法在其上绘制，缩放后绘图不会发生在适当的位置。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T11:25:47.413

使用以下等式转换点，之后用户在缩放期间或滚动后不会遇到任何绘画困难。

```
 float f1 = (( motionEvent.getX() - m_transformedPoints[0] )/( m_transformedPoints[2] - m_transformedPoints[0] ))*currentBitmapWidth;
     float f2 = (( motionEvent.getY() - m_transformedPoints[1] )/( m_transformedPoints[3] - m_transformedPoints[1] ))*currentBitmapHeight; 

    //calculate the transformed view in onDraw Method
    this.m_transformedPoints[0] = 0.0F;
    this.m_transformedPoints[1] = 0.0F;
    this.m_transformedPoints[2] = currentBitmapWidth;
    this.m_transformedPoints[3] = currentBitmapHeight;
    this.m_matrix.mapPoints(this.m_transformedPoints); 
```

# c# - ThisAddIn_ShutDown 不执行

> ID：12312619
> 
> 赞同：4
> 
> 时间：2012-09-07T06:09:27.193
> 
> 标签：c#, vsto, outlook-addin

在我的 Outlook 加载项中，我有以下几行。

```
private void ThisAddIn_Startup(object sender, System.EventArgs e)
{
  MessageBox.Show("Hazaa!");            
}

private void ThisAddIn_Shutdown(object sender, System.EventArgs e)
{
  MessageBox.Show("Shazoo...");
} 
```

当 Outlook 用很酷的“Hazaa！”向我打招呼时 在它开始时，当我关闭它时，它拒绝对我发出“Sahzoo ...”。两种方法都使用默认的自动生成代码以相同的方式注册，所以我不怀疑那里有任何错误。我能想到的另一种解释是，当应用程序已经离开 GUI 并且隐藏了 shazooing 时，会执行关闭过程。

是这样吗？如果没有，我怎样才能让 Outlook 对我大发雷霆？如果是这样，我如何在视觉上通知用户这样的shazoo？

编辑：

显然，从 O10 开始，shutdown 就不再被调用了，所以下面自动生成的代码**确实**是错误的（或者至少不完美）。由@Christian.K 提供。

```
#region VSTO generated code
private void InternalStartup()
{
  this.Startup += new System.EventHandler(ThisAddIn_Startup);
  this.Shutdown += new System.EventHandler(ThisAddIn_Shutdown);
}
#endregion 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-07T06:25:45.783

您使用的是[Outlook 2010](http://msdn.microsoft.com/en-us/library/office/ee720183.aspx#OL2010AdditionalShutdownChanges_AddinShutdownChangesinOL2010Beta)吗？

> 从 Outlook 2010 开始，默认情况下，Outlook 不会向加载项发出正在关闭的信号。具体来说，Outlook 在快速关机期间不再调用 IDTExtensibility2 接口的 OnBeginShutdown 和 OnDisconnection 方法。同样，使用 Microsoft Visual Studio Tools for Office 编写的 Outlook 加载项在 Outlook 关闭时不再调用 ThisAddin_Shutdown 方法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-26T08:13:52.763

如果您使用的是 Outlook 2010，您可以让 Outlook 在插件关闭时通知您的插件。

```
[RequireShutdownNotification]=dword:0x1 
```

密钥必须放在插件的注册表文件夹中

# android - 无法从 Parcelable 恢复 viewPager 状态

> ID：12312621
> 
> 赞同：2
> 
> 时间：2012-09-07T06:09:44.117
> 
> 标签：android, android-viewpager

在我的 CustomPageAdapter 类中，我实现了这两种方法来恢复 viewPager 状态。为了测试它，为了简单起见，我尝试传递整数并检索它，但是我仍然得到 0。这是方法实现：

```
 @Override
 public void restoreState(Parcelable state, ClassLoader arg1) {
 if (state instanceof Bundle) {
    Bundle bundle = (Bundle) state;
    saved = bundle.getInt("stateToSave");
    super.restoreState(bundle.getParcelable("instanceState"), arg1);
    return;
 }
 super.restoreState(state, arg1);
 }

 @Override
 public Parcelable saveState() {
    Bundle bundle = new Bundle();
    bundle.putParcelable("instanceState", super.saveState());
    bundle.putInt("stateToSave", 8);
    return bundle;
 } 
```

# .htaccess - htaccess auth和deny一起

> ID：12312624
> 
> 赞同：1
> 
> 时间：2012-09-07T06:09:57.240
> 
> 标签：.htaccess

我想拒绝除某些 ip 之外的对服务器的所有请求，但那些 ip 应该显示身份验证对话框。我试过的是

```
order deny,allow
deny from all
allow from xxx.xxx.xx.xxx
allow from xxx.xxx.xx.xxx
AuthUserFile /path/to/.htpasswd
AuthType Basic
AuthName "Login Required"
Require valid-user 
```

它工作正常，但在用户登录后显示内部服务器错误（500）。任何想法 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-10T06:39:24.153

这工作正常;-)

```
order deny,allow
deny from all
deny from all
allow from xx.xx.xx.xx
AuthUserFile /path/to/.htpasswd
AuthType Basic
AuthName "Login Required"
Require valid-user 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:18:58.423

这通常发生在`AuthUserFile`参数有问题时。您可以在您的`AuthUserFile`和 apache 中放置任何随机路径，并且愿意与 401 require auth 部分一起使用就可以了。但是，当它需要验证授予它的授权时（在您的情况下，通过 BASIC 机制）它需要实际检查文件的内容，`/path/to/.htpasswd`. 确保您拥有该文件的正确路径，并且它包含实际的 htpasswd 数据，这些数据是使用该`htpasswd`命令或等效的东西生成的。

# node.js - 网络矩阵 2 损坏

> ID：12312625
> 
> 赞同：7
> 
> 时间：2012-09-07T06:09:59.313
> 
> 标签：node.js, webmatrix

我犯了将运行的 webmatrix 2 升级到最新版本的错误，现在它破坏了一切！

在关于屏幕上，这就是我正在运行的内容：

```
Version 2.0

WebMatrix: 7.1.1674.0
IIS Express: 8.0.8418.0
.NET Framework: 4.0.30319.269 (RTMGDR.030319-2600)
Web Deploy: 7.1.1631.0
SQL Server Compact: 4.0.8854.1
Web Platform Installer: 7.1.1622.0
ASP.NET Web Pages: 2.0.20715.0 
```

在我安装最新版本的 webmatrix 2 之前，一切都运行得很完美，现在我收到了这个错误：

iisnode 无法读取配置文件。确保 web.config 文件语法正确。特别是，验证 iisnode 配置部分与预期架构匹配。您的 iisnode 版本所需的 iisnode 部分的架构存储在 %systemroot%\system32\inetsrv\config\schema\iisnode_schema.xml 文件中。

这他妈什么意思？？？架构？

这是我的 web.config 文件，我没有更改任何内容，为什么 webmatrix 抱怨它？？？

我什至尝试运行模板示例，但它们也显示相同的消息。你对微软做了什么破坏事情！！！？？？

```
 <!-- Don't interfere with requests for logs -->
                  <rule name="LogFile" patternSyntax="ECMAScript" stopProcessing="true">
                       <match url="^[a-zA-Z0-9_\-]+\.js\.logs\/\d+\.txt$"/>
                  </rule>

              <!-- Don't interfere with requests for node-inspector debugging -->
              <rule name="NodeInspector" patternSyntax="ECMAScript" stopProcessing="true">                    
                  <match url="^server.js\/debug[\/]?" />
              </rule>

                  <!-- First we consider whether the incoming URL matches a physical file in the /public folder -->
                  <rule name="StaticContent">
                       <action type="Rewrite" url="public{REQUEST_URI}"/>
                  </rule>

                  <!-- All other URLs are mapped to the Node.js application entry point -->
                  <rule name="DynamicContent">
                       <conditions>
                            <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="True"/>
                       </conditions>
                       <action type="Rewrite" url="server.js"/>
                  </rule>

             </rules>
        </rewrite>
        <!-- You can control how Node is hosted within IIS using the following options -->
      <iisnode      
        node_env="%node_env%"
        nodeProcessCommandLine="&quot;%programfiles%\nodejs\node.exe&quot;"
        nodeProcessCountPerApplication="1"
        maxConcurrentRequestsPerProcess="1024"
        maxNamedPipeConnectionRetry="3"
        namedPipeConnectionRetryDelay="2000"      
        maxNamedPipeConnectionPoolSize="512"
        maxNamedPipePooledConnectionAge="30000"
        asyncCompletionThreadCount="0"
        initialRequestBufferSize="4096"
        maxRequestBufferSize="65536"
        watchedFiles="*.js;node_modules\*;routes\*.js;views\*.ejs;middleware\*.js"
        uncFileChangesPollingInterval="5000"      
        gracefulShutdownTimeout="60000"
        loggingEnabled="true"
        logDirectoryNameSuffix="logs"
        debuggingEnabled="true"
        debuggerPortRange="5058-6058"
        debuggerPathSegment="debug"
        maxLogFileSizeInKB="128"
        appendToExistingLog="false"
        logFileFlushInterval="5000"
        devErrorsEnabled="true"
        flushResponse="false"      
        enableXFF="false"
        promoteServerVars=""
       />
      <!-- <iisnode watchedFiles="*.js;node_modules\*;routes\*.js;views\*.ejs;middleware\*.js"/>-->
      <!-- watchedFiles="*.js" -->
   </system.webServer> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T17:54:56.557

最快的解决方案是将正确的架构复制到 iis express 文件夹中。

从管理员命令提示符：

在 x64 机器上：

```
xcopy /y "%programfiles(x86)%\iisnode-dev\release\x86\iisnode_schema_x86.xml" "%programfiles(x86)%\IIS Express\config\schema\iisnode_schema.xml" 
```

在 x86 机器上：

```
xcopy /y "%programfiles%\iisnode-dev\release\x86\iisnode_schema_x86.xml" "%programfiles%\IIS Express\config\schema\iisnode_schema.xml" 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-08T00:37:48.150

问题是 IISNode 现在如何记录消息。我相信这与我和其他人抱怨的console.log问题直接相关，以及它是如何导致IISNode经常崩溃的。IISNode 现在将 console.log 消息存储在名为 iisnode 的单独文件夹中。它使用不同的日志系统，我认为它比旧的 server.js.logs 系统更稳定。

我发现这些 web.config 设置不再可用：

```
- logDirectoryNameSuffix="logs"
- appendToExistingLog="false"
- logFileFlushInterval="5000" 
```

如果您删除这些，那么一切正常。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-07T13:58:00.347

我今天也更新到 WebMatrix 2 final，它破坏了 IIS Express，阻止它与 Visual Studio 2012 RC 和 WebMatrix 本身一起工作。但是，我能够通过执行以下操作来修复它：

*   从添加/删除程序中卸载 IIS Express 8.0
*   从添加/删除程序中卸载 IIS Express 7.5
*   运行 Web 平台安装程序并重新安装 IIS Express 8.0。

我还从“我的文档”中删除了 IISExpress 文件夹的内容，但我不确定这是否有必要。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-20T16:25:22.710

我们组合了另一种简单的方法来解决这个问题。您可以使用此 WebPI 安装链接触发重新安装 iisnode：

[http://www.microsoft.com/web/handlers/webpi.ashx?command=GetInstallerRedirect&appid=iisnodedev32](http://www.microsoft.com/web/handlers/webpi.ashx?command=GetInstallerRedirect&appid=iisnodedev32)

单击此按钮将确保安装了正确版本的 IIS 节点，并自动将新模式文件复制到 IIS Express 目录中。请，如果这对您不起作用，请告诉我们:)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-11T01:45:02.517

是的，您是对的，iisnode 的配置配置发生了重大更改，以支持新的日志记录设置。这就是需要新配置模式的原因。

# javascript - JavaScript - 从不同的函数访问不同的变量

> ID：12312627
> 
> 赞同：1
> 
> 时间：2012-09-07T06:10:18.810
> 
> 标签：javascript, jquery, function, variables, select

我有三个不同的选择框供用户选择。我需要一次访问所有三个选项的值，但不知道该怎么做。让我用一个例子来解释我的意思：

```
<select id="hue">
// Options
</select>

<select id="sat">
// Options
</select>

<select id="lig">
// Options
</select> 
```

现在，要访问每个选择框的选择，我使用以下代码：

```
$('#hue').filter(':selected').val().change(function(){
    hueVal = $(this).val();
    return hueVal;
})

$('#sat').filter(':selected').val().change(function(){
    satVal = $(this).val();
    return satVal;
})

$('#lig').filter(':selected').val().change(function(){
    ligVal = $(this).val();
    return ligVal;
}) 
```

现在，我想做的是在新的 jquery 调用中同时访问三个返回值（hueVal、satVal 和 ligVal） - 如下所示：

```
$('#header').css('background-color', hsl(hueVal+','+satVal+','+ligVal)); 
```

问题是，由于每个值都在一个函数内，我不知道如何在它们各自的函数之外同时访问这三个值。

知道我该怎么做吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T06:13:16.953

考虑在函数之外声明全局变量：

```
var hueVal;
var satVal;
var ligVal;

$('#hue').filter(':selected').val().change(function(){
    hueVal = $(this).val();
    return hueVal;
})

$('#sat').filter(':selected').val().change(function(){
    satVal = $(this).val();
    return satVal;
})

$('#lig').filter(':selected').val().change(function(){
    ligVal = $(this).val();
    return ligVal;
})

$('#header').css('background-color', hsl(hueVal+','+satVal+','+ligVal); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T06:18:02.353

尝试这个：

```
$('select').change(function() {
    var hue = $('#hue').val(),
        sat = $('#sat').val(),
        lig = $('#lig').val();

    $('#header').css('background-color', 'hsl('+ hue +','+ sat +','+ lig +')');
}).trigger('change'); 
```

编辑：背景颜色的值需要是一个完整的字符串

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T06:14:55.427

声明函数外部的变量，然后修改函数内部的变量（在这种情况下返回值是无用的）：

```
var hueVal,
    satVal,
    ligVal;

$('#hue').filter(':selected').val().change(function(){
    hueVal = $(this).val();
});

$('#sat').filter(':selected').val().change(function(){
    satVal = $(this).val();
});

$('#lig').filter(':selected').val().change(function(){
    ligVal = $(this).val();
}); 
```

然后你可以对他们做你想做的事，即：

```
$('#header').css('background-color', hsl(hueVal+','+satVal+','+ligVal); 
```

您可能还想阅读[范围](http://robertnyman.com/2008/10/09/explaining-javascript-scope-and-closures/)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-07T06:18:24.867

您可以使用对象来管理这些值。

```
var color = {
    hue: $('#hue').val(),
    sat: $('#sat').val(),
    lig: $('#lig').val()
};

$('#hue,#sat,#lig').change(function() {
   color[this.id] = $(this).val();
   $('#header').css('background-color', 'hsl('+color.hue+','+color.sat+','+color.lig+')');
}); 
```

***笔记：***

*   使用`.val()`可以得到选择的选定值。
*   `hsl`是css表达式，也需要是字符串。

# asp.net - 是否可以在带有 GUID 而不是 INT 的剃刀视图中使用 Url.Action

> ID：12312630
> 
> 赞同：1
> 
> 时间：2012-09-07T06:10:36.503
> 
> 标签：asp.net, asp.net-mvc, razor

我正在使用以下内容：

```
<img src="@Url.Action("GetPicture", "Home", new {id = Model.ID})" alt="Member Picture" /> 
```

这不起作用，因为 Model.ID 是 GUID。有没有办法解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T06:18:47.540

您可以将 guid 发送到控制器，但您必须接收一个字符串作为 id 参数而不是 int。

剃刀视图：

```
<img src="@Url.Action("GetPicture", "Home", new {id = Model.ID})" alt="Member Picture" /> 
```

控制器：

```
 public ActionResult GetPicture(string id){
        //do magic
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:16:13.243

*我认为如果您调用.ToString()*它将起作用。

```
<img src="@Url.Action("GetPicture", "Home", new {id = Model.ID.ToString()})" alt="Member Picture" /> 
```

# c# - 我可以在 ASP.NET 中使用 C# 获得时间参数的本地化缩写吗？

> ID：12312632
> 
> 赞同：6
> 
> 时间：2012-09-07T06:10:42.743
> 
> 标签：c#, asp.net, datetime, localization

我正在使用 C# 为 ASP.NET 编写代码，我想知道是否有可能以本地化形式（最好是缩写形式）获得以下单词？

*   第二
*   分钟
*   小时
*   天
*   星期
*   月
*   年

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T08:44:52.640

您可以使用以下方法本地化一些时间部分：

*   CultureInfo.DateTimeFormat.GetDayName
*   CultureInfo.DateTimeFormat.GetAbbreviatedDayName
*   CultureInfo.DateTimeFormat.GetMonthName
*   CultureInfo.DateTimeFormat.GetAbbreviatedMonthName

我已经在我[的 .NET 时间周期库中](http://www.codeproject.com/Articles/168662/Time-Period-Library-for-NET)使用格式提供程序**ITimeFormatter**（方法*GetDuration*）构建了一个自定义实现**TimeCalendar**。它使用资源文件来本地化时间部分。

 **** * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-07T07:11:58.243

.Net 运行时不包括这些词的本地化版本。您需要自己提供。***

# mongodb - $nearSphere 返回太多数据

> ID：12312637
> 
> 赞同：1
> 
> 时间：2012-09-07T06:11:11.790
> 
> 标签：mongodb, geospatial

我注意到 $near 和 $nearSphere 返回的数据完全不同，我对此产生了怀疑。毕竟，当纬度接近赤道时，球面距离与欧几里得距离应该相差不大。

```
db.tablebusiness.find({ "LongitudeLatitude" : { "$nearSphere" : [106.772835, -6.186753], "$maxDistance" : 0.053980478460939611 }, "Prominent" : { "$gte" : 15 }, "indexContents" : { "$all" : [/^soto/, /^nasi/] } }).limit(200); 
```

它返回 48 个数据。

反正我会附上

```
/* 0 */
{
  "_id" : "nasi-uduk-soto-ayam__-6.18_106.77",
  "BuildingID" : null,
  "Title" : "Nasi Uduk Soto Ayam",
  "InBuildingAddress" : null,
  "Building" : null,
  "Street" : "Jl. Panjang",
  "Districts" : [],
  "City" : "Jakarta",
  "Country" : "Indonesia",
  "LongitudeLatitudeFromGoogle" : null,
  "DistanceFromGoogleAddress" : 0.0,
  "Checkin" : 0,
  "Note" : null,
  "PeopleCount" : 0,
  "Prominent" : 45.5,
  "CountViews" : 0,
  "StreetAdditional" : null,
  "LongitudeLatitude" : {
    "Longitude" : 106.765673160553,
    "Latitude" : -6.17522230915668
  },
  "Rating" : {
    "Stars" : 0.0,
    "Weight" : 0.0
  },
  "CurrentlyWorkedURL" : null,
  "Reviews" : [],
  "ZIP" : null,
  "Tags" : ["Restaurant"],
  "Phones" : [],
  "Website" : null,
  "Email" : null,
  "Price" : null,
  "openingHour" : null,
  "Promotions" : [],
  "SomethingWrong" : false,
  "BizMenus" : [],
  "Brochures" : [],
  "Aliases" : [],
  "indexContents" : ["restaura", "estauran", "staurant", "taurant", "aurant", "urant", "rant", "ant", "nt", "t", "nasi", "asi", "si", "i", "uduk", "duk", "uk", "k", "soto", "oto", "to", "o", "ayam", "yam", "am", "m"]
}

/* 1 */
{
  "_id" : "nasi-soto-padang_pasar-slipi-jaya_-6.19_106.80",
  "BuildingID" : null,
  "Title" : "Nasi Soto Padang",
  "InBuildingAddress" : "Lt.1 Los Alas",
  "Building" : null,
  "Street" : "Jl.Kemanggisan Utama Raya",
  "Districts" : [],
  "City" : "Jakarta",
  "Country" : "Indonesia",
  "LongitudeLatitudeFromGoogle" : null,
  "DistanceFromGoogleAddress" : 0.0,
  "Checkin" : 0,
  "Note" : null,
  "PeopleCount" : 0,
  "Prominent" : 45.5,
  "CountViews" : 0,
  "StreetAdditional" : null,
  "LongitudeLatitude" : {
    "Longitude" : 106.79647564888,
    "Latitude" : -6.18998465381734
  },
  "Rating" : {
    "Stars" : 0.0,
    "Weight" : 0.0
  },
  "CurrentlyWorkedURL" : null,
  "Reviews" : [],
  "ZIP" : null,
  "Tags" : ["Restaurant"],
  "Phones" : [],
  "Website" : null,
  "Email" : null,
  "Price" : null,
  "openingHour" : null,
  "Promotions" : [],
  "SomethingWrong" : false,
  "BizMenus" : [],
  "Brochures" : [],
  "Aliases" : [],
  "indexContents" : ["restaura", "estauran", "staurant", "taurant", "aurant", "urant", "rant", "ant", "nt", "t", "nasi", "asi", "si", "i", "soto", "oto", "to", "o", "padang", "adang", "dang", "ang", "ng", "g"]
} 
```

...

```
/* 47 */
{
  "_id" : "nasi-gandul__-7.43_109.24",
  "BuildingID" : null,
  "Title" : "Nasi Gandul",
  "InBuildingAddress" : null,
  "Building" : null,
  "Street" : "Jl. Brobahan Pr - 40 rt 004 Rw 004",
  "Districts" : [],
  "City" : "Purwokerto",
  "Country" : "Indonesia",
  "LongitudeLatitudeFromGoogle" : null,
  "DistanceFromGoogleAddress" : 0.0,
  "Checkin" : 0,
  "Note" : null,
  "PeopleCount" : 0,
  "Prominent" : 30.5,
  "CountViews" : 0,
  "StreetAdditional" : null,
  "LongitudeLatitude" : {
    "Longitude" : 109.239182174206,
    "Latitude" : -7.42585664273589
  },
  "Rating" : {
    "Stars" : 3.0,
    "Weight" : 1.0
  },
  "CurrentlyWorkedURL" : null,
  "Reviews" : [],
  "ZIP" : "53116",
  "Tags" : ["Angkringan", "Restaurant Indonesian", "Soto & Sop"],
  "Phones" : ["+62(281)7918181"],
  "Website" : null,
  "Email" : null,
  "Price" : null,
  "openingHour" : null,
  "Promotions" : [],
  "SomethingWrong" : false,
  "BizMenus" : [],
  "Brochures" : [],
  "Aliases" : [],
  "indexContents" : ["angkring", "ngkringa", "gkringan", "kringan", "ringan", "ingan", "ngan", "gan", "an", "n", "restaura", "estauran", "staurant", "taurant", "aurant", "urant", "rant", "ant", "nt", "t", "indonesi", "ndonesia", "donesian", "onesian", "nesian", "esian", "sian", "ian", "soto", "oto", "to", "o", "&", "sop", "op", "p", "nasi", "asi", "si", "i", "gandul", "andul", "ndul", "dul", "ul", "l"]
} 
```

我将数据放入excel并使用此公式计算距离

=SQRT(POWER(E2-$G$1,2)+POWER((F2-$H$1)*COS($H$1*PI()/180),2))

那应该大大接近球面距离。还要注意纬度是-6，离赤道不远。

这是结果

```
0.013516826
0.023857967
0.037658667
0.038737146
0.042414787
0.046725248
0.051006427
0.053567221
0.057448344
0.061592999
0.062329244
0.065276161
0.066035611
0.076251787
0.109671831
0.112097201
0.13417281
0.136471939
0.172293693
1.058802838
1.078123028
1.079160684
1.080954023
1.081148114
1.081099449
1.092061283
1.094281476
1.094431917
1.096845722
1.097063729
1.096953691
1.097201996
1.105389179
1.105442127
1.10839237
1.108717834
1.108840349
1.111636423
1.113187903
1.118767984
1.118767984
1.133952371
1.135077548
1.154967917
1.161142923
1.185994885
1.199509086
2.756884824 
```

这是我的excel表的截图![在此处输入图像描述](../Images/25b73fe8a52de86ca5da4f8907e8f1fc.png)

这是实际的excel

```
 106.772835  -6.186753
  "_id"      "nasi-uduk-soto-ayam__-6.18_106.77",   106.7656732 -6.175222309    0.013516826
  "_id"      "nasi-soto-padang_pasar-slipi-jaya_-6.19_106.80",  106.7964756 -6.189984654    0.023857967
  "_id"      "nasi-uduk-soto-ayam__-6.22_106.77",   106.7718959 -6.224620499    0.037658667
  "_id"      "nasi-campur-%26-soto-babat-kenanga_komp.-ruko-permata-senayan%2C_-6.22_106.79",   106.79199   -6.22062    0.038737146
  "_id"      "soto-mie-nasi_indomaret-(univ.-mercu-buana)_-6.21_106.74",    106.7379928 -6.211082144    0.042414787
  "_id"      "soto-kudus%2C-soto-ayam-%26amp%3B-nasi-pindang_plaza-senayan_-6.23_106.80",   106.7989969 -6.225694167    0.046725248
  "_id"      "soto-kudus%2C-soto-ayam-%26amp%3B-nasi-pindang_plaza-bri-ii_-6.22_106.81",    106.8136847 -6.217476287    0.051006427
  "_id"      "soto-kudus%2C-soto-ayam-%26amp%3B-nasi-pindang_automall-indonesia_-6.23_106.81",  106.8096431 -6.225898946    0.053567221
  "_id"      "soto-kudus%2C-soto-ayam-%26amp%3B-nasi-pindang_menara-mulia_-6.22_106.82",    106.81656   -6.224232983    0.057448344
  "_id"      "nasi-gule-gandaria__-6.24_106.80",    106.795285  -6.244444863    0.061592999
  "_id"      "nasi-soto-monggo-mampir__-6.24_106.80",   106.7971516 -6.244479441    0.062329244
  "_id"      "nasi-soto-ayam-\"pak-min\"__-6.24_106.82",    106.8151546 -6.236743573    0.065276161
  "_id"      "nasi-soto-ayam-pak-min---santa__-6.24_106.81",    106.812959  -6.239508   0.066035611
  "_id"      "soto-mie-nasi-bogor__-6.23_106.83",   106.8322349 -6.234845139    0.076251787
  "_id"      "nasi-uduk-soto-ayam__-6.24_106.87",   106.8693781 -6.239089942    0.109671831
  "_id"      "soto-ayam-%2F-nasi-uduk-betawi__-6.28_106.71",    106.714092  -6.282785   0.112097201
  "_id"      "soto-minang-roda-jaya_ruko-tongkol-indah_-6.12_106.89",   106.889044  -6.119294471    0.13417281
  "_id"      "nasi-bebek-dan-soto-mas-muchlis_summarecon-kelapa-gading_-6.16_106.91",   106.9059021 -6.156281135    0.136471939
  "_id"      "nasi-liwet-%26-soto-kwali-kalimalang__-6.25_106.93",  106.9338112 -6.248527508    0.172293693
  "_id"      "soto-ayam-nasi-rames__-6.88_107.58",  107.5751638 -6.881692483    1.058802838
  "_id"      "nasi-liwet-soto-solo_rumah-mode_-6.88_107.60",    107.5998616 -6.882452292    1.078123028
  "_id"      "nasi-soto-ayam-madura__-6.91_107.57", 107.5749707 -6.912900474    1.079160684
  "_id"      "nasi-soto-mie__-6.89_107.60", 107.5969434 -6.890355658    1.080954023
  "_id"      "nasi-rames-soto-bandung-enjoi__-6.89_107.60", 107.5970721 -6.890504777    1.081148114
  "_id"      "nasi-soto-ayam__-6.91_107.58",    107.5769877 -6.913560825    1.081099449
  "_id"      "nasi-soto-ayam__-6.91_107.60",    107.5977552 -6.90656    1.092061283
  "_id"      "nasi-soto-ayam-madura__-6.89_107.62", 107.6157832 -6.888615935    1.094281476
  "_id"      "nasi-goreng-soto-ayam__-6.90_107.61", 107.6093245 -6.89662571 1.094431917
  "_id"      "nasi-soto-gulai-kambing__-6.90_107.61",   107.6090455 -6.900715755    1.096845722
  "_id"      "putra-bengawan-nasi-goreng-%26-soto__-6.89_107.62",   107.617187  -6.891298   1.097063729
  "_id"      "nasi-soto-ayam__-6.90_107.61",    107.6088095 -6.901163102    1.096953691
  "_id"      "nasi-uduk-%26amp%3B-soto-kikil-cak-khohar__-6.89_107.61", 107.6144958 -6.894765295    1.097201996
  "_id"      "nasi-soto-ayam__-6.90_107.62",    107.6204395 -6.900453028    1.105389179
  "_id"      "nasi-goreng-soto-ayam__-6.90_107.62", 107.6206326 -6.900303912    1.105442127
  "_id"      "nasi-soto-ayam-madura__-6.91_107.62", 107.6169634 -6.909279174    1.10839237
  "_id"      "nasi-soto_pasar-baru_-6.92_107.61",   107.605226  -6.923423387    1.108717834
  "_id"      "nasi-soto-ayam-madura_pasar-baru_-6.92_107.61",   107.6053333 -6.92348729 1.108840349
  "_id"      "nasi-soto-sarinah__-6.90_107.63", 107.631175  -6.897282   1.111636423
  "_id"      "nasi-uduk-soto__-6.89_107.64",    107.6361465 -6.893636262    1.113187903
  "_id"      "nasi-soto-ayam-madura__-6.91_107.63", 107.629376  -6.910677   1.118767984
  "_id"      "nasi-soto-ayam__-6.91_107.63",    107.629376  -6.910677   1.118767984
  "_id"      "nasi-uduk-soto__-6.94_107.62",    107.6248813 -6.93937772 1.133952371
  "_id"      "nasi-soto-ayam-khas-madura__-6.94_107.63",    107.625749  -6.940099   1.135077548
  "_id"      "nasi-uduk-%26amp%3B-soto__-6.96_107.64",  107.638936  -6.955310213    1.154967917
  "_id"      "nasi-soto-ayam_ruko-metro-trade-center_-6.94_107.66", 107.6600504 -6.940208438    1.161142923
  "_id"      "nasi-soto-ayam-khas-madura__-6.94_107.69",    107.6948118 -6.937141164    1.185994885
  "_id"      "nasi-soto-ayam-khas-madura-cak-nonk__-6.93_107.72",   107.7156472 -6.932668019    1.199509086
  "_id"      "nasi-gandul__-7.43_109.24",   109.2391822 -7.425856643    2.756884824 
```

再次查看查询中的术语

```
"$maxDistance" : 0.053980478460939611 
```

去搞清楚。

顺便说一下，$maxDistance 是绝对正确使用的。减少它确实会导致更少的结果。问题似乎来自这样一个事实，即 mongodb 用于计算距离的任何公式都是不准确的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T17:39:53.020

我回答了您在 stackexchange 上发表的同一篇文章： [https ://dba.stackexchange.com/questions/23869/nearsphere-returns-too-many-data-what-am-i-missing-am-i-wrong-is-它-a-bug-d](https://dba.stackexchange.com/questions/23869/nearsphere-returns-too-many-data-what-am-i-missing-am-i-wrong-is-it-a-bug-d)

这有帮助吗？

谢谢，安德鲁

# c - C中的函数指针，带或不带*？

> ID：12312643
> 
> 赞同：3
> 
> 时间：2012-09-07T06:11:55.977
> 
> 标签：c, function-pointers

C中的函数指针有或没有*有区别吗？

我的函数指针声明是这样的

```
typedef void (*DListVisitNode) (Node*, void*);
void DListTraverse( NodeList* , DListVisitNode , void*); 
```

我有这样的代码

```
void print_index( Node* node, void* ctx)
{
    printf("index:%d\n", node->index);
}

void* print_content( Node* node, void* ctx)
{
    printf("content:%s\n", node->content);
}
void DListTraverse(NodeList* nodelist, DListVisitNode visit_func, void* ctx)
{
    Node* cur_node = nodelist->headnode;
    while( cur_node != NULL)
    {
        visit_func( cur_node, ctx );
        cur_node = cur_node->nextnode;
    }
}

DListTraverse( nodelist, print_content, NULL );
DListTraverse( nodelist, print_index, NULL ); 
```

DListTraverse 都有效，但带有 * 的会抛出这样的警告

```
warning: passing argument 2 of ‘DListTraverse’ from incompatible pointer type 
```

我会简单地删除 * 之后，但它们之间有什么区别？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T06:17:08.280

`print_content`被定义为返回一个`void*`即通用的原始指针。

`print_index`被定义为返回`void`ie 没有任何结果。

这些是不同的签名。只`print_index`匹配`DListVisitNode`。

我的编码风格是通过`typedef`像这样定义签名

```
 typedef void signature_t (int); 
```

请注意，上面没有涉及指针。`int`这命名了具有一个参数但没有结果的函数的签名。

然后，当需要指向上述签名的此类函数时，请使用`signature_t*`

正确的是，函数的名称就像数组的名称；该语言隐式地将它们转换为指针。所以`DListTraverse(nodelist, print_content, NULL)`理解为`DListTraverse(nodelist, &print_content, NULL)`

您应该在编译器上启用所有警告；`gcc`这意味着将程序参数作为程序参数提供`-Wall -Wextra`给编译器。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-07T06:24:35.883

您可能对以下与 typedef 的区别感到困惑：

```
typedef void (*DListVisitNode) (Node*, void*);
typedef void * (*DListVisitNode) (Node*, void*); 
```

或者等效地，介于以下两种类型之间：

*   `void (*) (Node *, void *)`

*   `void * (*) (Node *, void *)`

前者是指向函数返回`void`的指针，后者是指向函数返回的指针`void *`。您的每个打印功能都是此类功能的一个示例。

自然，不同类型的函数指针是不兼容的，也不能隐式转换，这肯定是没有意义的：你不能假装一个函数实际上具有完全不同的签名，并期望能够以任何有意义的方式调用它。这就像假装自行车是一辆汽车，然后试图在加油站给它加油。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-07T06:17:42.873

您已声明`print_content`返回一个`void *`（指针），这意味着它不匹配`DListVisitNode`。但是，由于该函数实际上并没有返回任何内容（没有返回语句），因此您应该对此发出另一个警告。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-07T06:17:54.913

```
typedef void (*DListVisitNode) (Node*, void*); 
```

将指向函数的指针定义为接受两个参数并返回 a的***类型***。 一旦你使用了上面的语句，就可以作为一个*类型*使用，确切的类型如上所述。 `Node *``void *``void`
`DListVisitNode`

 *```
void* print_content( Node* node, void* ctx) 
```

返回 a`void *`而不是 a `void`。
C 是一种强类型语言，c 标准要求编译器必须报告任何类型违规，因此存在***类型不匹配***，编译器会将其报告给您。基本上，如果您的函数不返回任何内容，请使用返回类型，`void`或者如果您打算返回特定类型，则使用该特定类型作为返回类型。*

# c# - 何时适合在控制器（或后端）中创建 HTML 代码

> ID：12312650
> 
> 赞同：1
> 
> 时间：2012-09-07T06:12:24.287
> 
> 标签：c#, asp.net-mvc, razor, separation-of-concerns

我正在做一些复杂的逻辑，涉及到大量的递归来创建一个（复杂的）HTML。

我开始在视图中使用 Razor 中的函数执行此操作，因为我觉得它属于 HTML。

但随着它开始变得越来越复杂，我想我宁愿在后端代码中完成它。它目前是。

虽然它仍然感觉有点臭，我想知道我是否应该再次将它移动到视图（这显然会使视图混乱）

哪个技术更正确？什么时候适合使用后端代码生成 HTML？

感谢您的输入。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:17:29.280

创建更精细的局部视图和局部模型以维护 MVC 模式。

当您为视图正确选择模型时，即使是部分模型，在视图中生成 HTML 也不是问题。您最终可能会得到 20 个视图和 5 个以上的模型，但控制器只会选择视图并填充模型，这很好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:24:14.067

不要在控制器中这样做。您可以扩展[HtmlHelper](http://msdn.microsoft.com/en-us/library/system.web.mvc.htmlhelper%28v=vs.108%29.aspx)类并在那里做这些事情。例如，如果您正在使用分页助手。

创建一个静态类 HtmlHelpers

```
namespace YourMvcApplication.WebUI.HtmlHelpers
{
    public static class PagingHelpers
    {
        public static MvcHtmlString PageLinks(this HtmlHelper html,int totalPages)
        {
            StringBuilder result = new StringBuilder();
            // do the complex logic to create dynamic html and append to 
            // String Builder
            return MvcHtmlString.Create(result.ToString());
        }
    }
} 
```

在 web.config 的所有视图中添加对此类的引用。

```
<namespaces>
    <add namespace="YourMvcApplication.WebUI.HtmlHelpers"/>
</namespaces> 
```

在需要的地方使用和重用这个 Html Helper 方法。

```
<div>
    @Html.PageLinks(Model.TotalPages)
</div> 
```

# java - 如何更新表模型多行列？

> ID：12312651
> 
> 赞同：1
> 
> 时间：2012-09-07T06:12:23.897
> 
> 标签：java, swing, jtable, tablemodel

我在tablemodel中有3行。每行包含9列（o-8）。我想更新每一行的最后一列......但现在我只能更新第一行最后一列..请帮助..`

```
 ` SAVE=new JButton("SAVE");
     SAVE.addActionListener(new java.awt.event.ActionListener() {  
      public void actionPerformed(java.awt.event.ActionEvent e) {  
      String Status=null ;
      DbUtility ViewAbsenties=new DbUtility();
      ViewAbsenties. loadDriver();
      ViewAbsenties.connect();
      TableModel tm;
      tm = table3.getModel();
      int i = table3.getRowCount();
      System.out.println("row count"+i);

          try{
            while(i!=0){
              Status   =(String) tm.getValueAt(0,8);
              String Employeeid = (String) tm.getValueAt(i,0);
              System.out.println("Status: " + Status);
              System.out.println("Employeeid: " + Employeeid);
              ViewAbsenties.executeUpdateQuery2(Status,Employeeid);
              System.out.println("i"+i);
               i=i-1;

                  }}
            catch (Exception e5) {

                }
          }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:51:49.340

你应该使用

```
Status   =(String) tm.getValueAt(i,8);
String Employeeid = (String) tm.getValueAt(i,0); 
```

代替

```
Status   =(String) tm.getValueAt(0,8);
String Employeeid = (String) tm.getValueAt(0,0); 
```

getValueAt 中的第一个参数是 rowIndex，您应该传递要更新的行的索引，但您只能在循环中更新第 0 行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T07:05:17.733

我决定总结一下我在评论中提到的观察结果。

您的代码有几个问题

*   在你调用的同一个循环循环中`i++`，`i=i-1`这使得循环的变体是不变的，所以你的循环是无限的（你已经修复了）
*   你还在打电话`tm.getValueAt(0,8)`。第一个参数是`rowIndex`，第二个是 a `columnIndex`。因此，对于每次迭代，您仍然使用第一行，而不是当前行。
*   Java 通常索引模型和数组 from `0`to`length - 1`但你是从`length`to迭代`1`。所以你需要通过降低`i`变量`1`

有固定代码：

```
int i = table3.getRowCount() - 1;
while( i >= 0 ){

          Status = (String) tm.getValueAt( i, 8 );
          String Employeeid = (String) tm.getValueAt( i, 0 );

          System.out.println( "Status: " + Status );
          System.out.println( "Employeeid: " + Employeeid );

          ViewAbsenties.executeUpdateQuery2( Status, Employeeid );

          System.out.println( "i" + i );
          i = i - 1;
} 
```

**注意：** 无论如何，我有几点意见可以改善您的代码风格：

*   上面的例子是`for`循环的确切用例
*   基于 Java 约定的变量名应该以非大写字母开头。

    ```
    for ( int i = 0; i < table3.getRowCount(); ++i ) {
          status = (String) tm.getValueAt( i, 8 );
          String employeeid = (String) tm.getValueAt( i, 0 );

          System.out.println( "Status: " + status );
          System.out.println( "Employeeid: " + employeeid );

          ViewAbsenties.executeUpdateQuery2( status, employeeid );

          System.out.println( "i" + i );
    } 
    ```

# ios - 将 base 64 转换为 NSString

> ID：12312656
> 
> 赞同：0
> 
> 时间：2012-09-07T06:12:37.107
> 
> 标签：ios, objective-c, nsstring, base64

我有这个`XML`编码`base64`格式。我想把它转换成一个`NSString`对象。我怎样才能做到这一点？

> PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN1cnZleSB4bWxuczphYmFw c3VydmV5PSJodHRwOi8vd3d3LnNhcC5jb20vYWJhcHN1cnZleSIgeG1sbnM6YmVlPSJodHRwOi8v d3d3LnNhcC5jb20vc3VydmV5L2JlZSIgeG1sbnM6Zm89Imh0dHA6Ly93d3cudzMub3JnLzE5OTkv WFNML0Zvcm1hdCIgeG1sbnM6aHRtbGI9Imh0dHA6Ly93d3cuc2FwLmNvbS9zdXJ2ZXkvaHRtbGIi IHhtbG5zOm91dD0iaHR0cDovL3d3dy53My5vcmcvMTk5OS9YU0wvT3V0cHV0IiB4bWxuczpzdnk9 Imh0dHA6Ly93d3cuc2FwLmNvbS9zdXJ2ZXkvc3Z5IiB4bWxuczp0bXA9Imh0dHA6Ly93d3cuc2Fw LmNvbS9zdXJ2ZXkvdG1wIiB4bWxuczp2YWx1ZXM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvWFNM L1RyYW5zZm9ybVZhbHVlcyIgeG1sbnM6d2ZmPSJodHRwOi8vd3d3Lm15c2FwLmNvbS93ZmYvMjAw MSI+PHJhdGluZ2ZhY3Rvcj48cTE+MSA8L3ExPjxpZF8zNmYyN2YwY2UxNDY2MDRlOTIyMzY4Mjcy MWFhMjc5Yj4wIDwvaWRfMzZmMjdmMGNlMTQ2NjA0ZTkyMjM2ODI3MjFhYTI3OWI+PGlkX2Y3YWMxODM4MDliNjAxNDE4MWVlNGEwNDIyNGYxNTNlPjAgPC9pZF9mN2FjMTgzODA5YjYwMTQxODFlZTRh MDQyMjRmMTUzZT48L3JhdGluZ2ZhY3Rvcj48cmF0aW5nPjxxMT48YTEgcmF0aW5nPSIxICI+aWRf ZTE1ZjhhNjQ5OTY3NDg0ZWI1MzUzZmI5NzIxYWY3NWY8L2ExPjxhMSByYXRpbmc9IjAgIj5pZF9h MzVhMWNmNzNjZmU5MDQ5YTYyMTYwMmFkOTA0NmE0NTwvYTE+PC9xMT48aWRfMzZmMjdmMGNlMTQ2 NjA0ZTkyMjM2ODI3MjFhYTI3OWI+PGlkXzgwMTVlNmQ0ZGRmYjkyNDE4ODcxMWIzMGE5MWQzZGU4 IE11bHRpcGxlQ2hvaWNlPSJ0cnVlIiByYXRpbmc9IjAgIj5pZF9lMjM0ZDMxM2M3MmRjMzQ2OGMx ODgzNGZhMzBiYzZhNjwvaWRfODAxNWU2ZDRkZGZiOTI0MTg4NzExYjMwYTkxZDNkZTg+PGlkXzgw MTVlNmQ0ZGRmYjkyNDE4ODcxMWIzMGE5MWQzZGU4IE11bHRpcGxlQ2hvaWNlPSJ0cnVlIiByYXRp bmc9IjAgIj5pZF9mYmU2MGUwMGUyMDliNzQyOTk1MjE1NDNiZDZlNzZjNzwvaWRfODAxNWU2ZDRk ZGZiOTI0MTg4NzExYjMwYTkxZDNkZTg+PGlkXzgwMTVlNmQ0ZGRmYjkyNDE4ODcxMWIzMGE5MWQzZGU4IE11bHRpcGxlQ2hvaWNlPSJ0cnVlIiByYXRpbmc9IjAgIj5pZF80NDc0YTNjOWUwOWFkYjQ3 OTRiNDFiN2MyYTAxMzI2OTwvaWRfODAxNWU2ZDRkZGZiOTI0MTg4NzExYjMwYTkxZDNkZTg+PC9p ZF8zNmYyN2YwY2UxNDY2MDRlOTIyMzY4MjcyMWFhMjc5Yj48aWRfZjdhYzE4MzgwOWI2MDE0MTgx ZWU0YTA0MjI0ZjE1M2U+PGlkXzIwYTM4NDliMDAxMGI5NGFhYTRiYTQxMGE0ZDc2NmViIHJhdGlu Zz0iMCAiLz48L2lkX2Y3YWMxODM4MDliNjAxNDE4MWVlNGEwNDIyNGYxNTNlPjwvcmF0aW5nPjxy ZXN1bHQ+PHExPjxhMT5pZF9lMTVmOGE2NDk5Njc0ODRlYjUzNTNmYjk3MjFhZjc1ZjwvYTE+PC9x MT48aWRfMzZmMjdmMGNlMTQ2NjA0ZTkyMjM2ODI3MjFhYTI3OWI+PGlkXzgwMTVlNmQ0ZGRmYjky NDE4ODcxMWIzMGE5MWQzZGU4IE11bHRpcGxlQ2hvaWNlPSJ0cnVlIj4gPC9pZF84MDE1ZTZkNGRk ZmI5MjQxODg3MTFiMzBhOTFkM2RlOD48L2lkXzM2ZjI3ZjBjZTE0NjYwNGU5MjIzNjgyNzIxYWEy NzliPjxpZF9mN2FjMTgzODA5YjYwMTQxODFlZTRhMDQyMjRmMTUzZT48aWRfMjBhMzg0OWIwMDEwYjk0YWFhNGJhNDEwYTRkNzY2ZWI+PC9pZF8yMGEzODQ5YjAwMTBiOTRhYWE0YmE0MTBhNGQ3NjZl Yj48L2lkX2Y3YWMxODM4MDliNjAxNDE4MWVlNGEwNDIyNGYxNTNlPjwvcmVzdWx0PjxyZXBsYWNl YWJsZXMvPjxzeXN0ZW1wYXJhbWxvY2F0aW9uPmh0dHA6Ly9TdXJ2ZXlSZXAvQ1JNX1NWWV9CU1Bf U1lTVEVNUEFSQU1fSEFSSVRfVEVTVC5YTUw8L3N5c3RlbXBhcmFtbG9jYXRpb24+PGhpZGRlbi8+ PHJlYWRPbmx5Lz48bWFuZGF0b3J5Lz48bm9EaXNwbGF5Lz48YWRkSXRlbXMvPjxzY3JpcHQvPjxv bkV2ZW50Lz48L3N1cnZleT4=

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:37:37.703

谷歌上的第二个结果是这样的：

```
- (NSString *)base64Encode:(NSString *)plainText
{
  NSData *plainTextData = [plainText dataUsingEncoding:NSUTF8StringEncoding];
  NSString *base64String = [plainTextData base64EncodedString];
  return base64String;
}

- (NSString *)base64Decode:(NSString *)base64String
{
  NSData *plainTextData = [NSData dataFromBase64String:base64String];
  NSString *plainText = [[NSString alloc] initWithData:plainTextData encoding:NSUTF8StringEncoding];
  return plainText;
} 
```

[http://aerson.net/base64-encode-and-decode-nsstring-cocoa](http://agerson.net/base64-encode-and-decode-nsstring-cocoa)

# java - 如何在基于单词的arraylist中应用搜索操作？

> ID：12312657
> 
> 赞同：0
> 
> 时间：2012-09-07T06:12:50.383
> 
> 标签：java, android

我有对象数组列表，我必须基于名称应用搜索操作。假设列表中有 5 个对象，如果我在搜索框“a”中输入名称，那么结果应该是“arun,ashok ..”所有名称都以 a 开头，但是如果我输入“ar”那么只有“arun”应该是结果。请任何人帮助我如何在arraylist中进行这种类型的搜索。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:18:44.007

Android 有 AutoCompleteTextView。您必须将数据绑定到 textview

这是链接[http://developer.android.com/reference/android/widget/AutoCompleteTextView.html](http://developer.android.com/reference/android/widget/AutoCompleteTextView.html)

检查这个答案也[可能有帮助](https://stackoverflow.com/questions/5775316/android-autocomplete-textbox-setting-your-own-specific-suggestions)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:15:13.563

使用 AutoCompleteTextView [http://developer.android.com/reference/android/widget/AutoCompleteTextView.html](http://developer.android.com/reference/android/widget/AutoCompleteTextView.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T06:15:18.040

[检查这个](http://rakhi577.wordpress.com/2012/06/26/buttons-on-list-view-with-easy-searching-in-android/)。

在这里，您可以将您的数组列表初始化为`listview_array`.

# javascript - 禁用 Javascript 时创建确认对话框页面

> ID：12312658
> 
> 赞同：3
> 
> 时间：2012-09-07T06:12:53.350
> 
> 标签：javascript, django

我正在使用 Django，我希望我的用户确认他们确实想要删除某些内容。我正在考虑纯 Django 解决方案（没有 Javascript 确认）。根据我的想法，我可以创建一个包含“是”和“否”按钮的新页面。如果用户按“是”，我的网站将继续并从数据库中删除该对象。在不使用 Javascript 的情况下进行删除是正确的方法吗？如果你是我，你会如何实现这个功能？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-07T07:24:37.297

我会使用 Django 的内置[`DeleteView`](https://docs.djangoproject.com/en/dev/ref/class-based-views/generic-editing/#deleteview)，它将显示一个 HTTP 请求的确认页面并为一个 HTTP`GET`请求执行删除`POST`。

文档给出了这个例子：

```
from django.views.generic.edit import DeleteView
from django.core.urlresolvers import reverse_lazy
from myapp.models import Author

class AuthorDelete(DeleteView):
    model = Author
    success_url = reverse_lazy('author-list') 
```

我建议阅读文档，[`SingleObjectMixin`](https://docs.djangoproject.com/en/dev/ref/class-based-views/mixins-single-object/#django.views.generic.detail.SingleObjectMixin)其中解释了如何自定义视图查找要删除的对象的方式（默认是查找名为 的 URL 关键字参数`pk`），以及[`TemplateResponseMixin`](https://docs.djangoproject.com/en/dev/ref/class-based-views/mixins-simple/#django.views.generic.base.TemplateResponseMixin)解释如何自定义使用的模板的文档（默认为`'myapp/author_check_delete.html'`）。

这只是许多[基于类的通用视图](https://docs.djangoproject.com/en/dev/topics/class-based-views/generic-display/)之一，它们使基本操作（显示单个模型实例的页面、模型实例列表以及处理编辑、删除等）非常快速且易于实现。

如果您以后想用 JavaScript 增强这一点，您总是可以编写一些不显眼的 JS 来检测到删除确认页面的链接（通过查找类或特定 URL）并添加一个单击处理程序，该处理程序会弹出一个确认对话框，然后发送对链接属性中的 URL的`POST`请求。`href`您还需要稍微修改视图以在`request.is_ajax()`is时返回 JSON 对象`True`，以便您的 JS 知道删除是成功还是失败，这可能涉及覆盖从[`DeletionMixin`](https://github.com/django/django/blob/39aa8901e11f07627958ad624146bffe0e1d05a3/django/views/generic/edit.py#L231).

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-07T07:32:17.523

听起来不错。我做过几次是创建一个可以在应用程序的任何地方使用的确认模板：

```
{% extends 'base.html' %}

{% block content %}

    <div class="confirmation-box">
        <p>{{ message }}</p>
        <div>
            <a href="{{ prev_link }}">Cancel</a>
            <form action="{{ action_link }}" method="post">
                <input type="hidden" name="next" value="{{ prev_link }}" />
                <input type="submit" value="Send" />
            </form>
        </div>
    </div>

{% endblock %} 
```

你传递给它：

*   给用户的确认消息 ( `message`)
*   您所在页面的 url ( `prev_link`)
*   应调用以执行操作的 url ( `action_link`)

如果用户取消该操作，那么她/他将返回到原始页面。

如果用户确认，则`prev_link`作为隐藏参数传递，因此视图可以在执行操作后将用户重定向到原始页面（尽管这当然是完全可选的）。

这几乎就是您在问题中提出的。

# javascript - 如何防止 angular.js $http 对象发送 X-Requested-With 标头？

> ID：12312659
> 
> 赞同：25
> 
> 时间：2012-09-07T06:13:02.100
> 
> 标签：javascript, web-services, xmlhttprequest, angularjs

Angular.js 在使用 $http 对象访问 Web 服务时，会自动将 X-Requested-With:XMLHttpRequest 标头添加到请求中。

我使用 CORS 访问的 Web 服务不支持 X-Requested-With 标头，因此我试图消除它，但我无法访问 $httpProvider 对象。我得到一个未定义的对象错误，如果我在控制器参数中引用它，以便角度注入它，我得到一个“错误：未知提供者：$httpProviderProvider <- $httpProvider”

所以我想知道如何访问 $httpProvider，就像它在文档 (http://docs.angularjs.org/api/ng.$http) 中所说的那样告诉 angular.js 不要发送该标头...

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-09-07T06:29:14.703

```
angular.module('myModule', [])
    .config(['$httpProvider', function($httpProvider) {
        delete $httpProvider.defaults.headers.common["X-Requested-With"]
    }]) 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-09-07T06:49:32.737

我发现，除了 Justen 的回答之外，我还可以像这样根据每个请求进行操作：

```
delete $http.defaults.headers.common['X-Requested-With'] 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2014-05-20T19:49:33.037

### 由于 Angular JS 版本 1.1.1 不再需要删除标题。

查看更改日志：
[https ://github.com/angular/angular.js/blob/master/CHANGELOG.md#111-pathological-kerning-2012-11-26](https://github.com/angular/angular.js/blob/master/CHANGELOG.md#111-pathological-kerning-2012-11-26)

对于像我这样使用标头来识别 ajax 请求并以不同方式响应它们的人。

例如，在会话到期后发出请求。

您可以像这样重新启用标头：

```
angular.module('yourModule', [])
.config(['$httpProvider', function($httpProvider) {
    $httpProvider.defaults.headers.common["X-Requested-With"] = 'XMLHttpRequest';
}]); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-01-24T13:49:02.267

由于 Angular JS 版本 1.1.1 不再需要删除标题。[在https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)_Prevention_Cheat_Sheet#Protecting_REST_Services:_Use_of_Custom_Request_Headers](https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)_Prevention_Cheat_Sheet#Protecting_REST_Services:_Use_of_Custom_Request_Headers)上提到了此更改

如 Josue 所示，这可以很容易地再次添加到所有请求中，如下所示：

```
angular.module('yourModule', [])
    .config(['$httpProvider', function($httpProvider) {
        $httpProvider.defaults.headers.common["X-Requested-With"] = 'XMLHttpRequest';
    }]); 
```

将标头的配置设置为[未定义](https://stackoverflow.com/a/28703914/1885735)以删除特定外部请求的标头。

```
let urlExternalValidator = 'https://openiban.com/validate/' + this.iban + '?getBIC=true&validateBankCode=true';
this.$http.get(urlExternalValidator, {
    // simple request to not trigger a CORS preflight
    // https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS
    headers: {
        'X-Requested-With': undefined
    }
}) 
```

> 此外，您可以在调用 $http(config) 时在传递的配置对象中提供 headers 属性，它会覆盖默认值而不全局更改它们。
> 
> 要根据每个请求显式删除通过 $httpProvider.defaults.headers 自动添加的标头，请使用 headers 属性，将所需的标头设置为未定义

[https://docs.angularjs.org/api/ng/service/](https://docs.angularjs.org/api/ng/service/) $http#setting-http-headers

# iphone - 以 xml 格式创建 NSString 作为对 iphone sdk 中网络服务器的请求？

> ID：12312662
> 
> 赞同：0
> 
> 时间：2012-09-07T06:13:18.670
> 
> 标签：iphone, xml, parsing, sudzc

我需要创建一个`NSString`xml 格式的文件，以便将其作为 Web 服务请求发送。

我已经`NSString`使用此代码创建了结构化的 xml

```
 NSMutableString *res = [NSMutableString string];

 [res appendString:@"<question>"];
 [res appendFormat:@"<productid>%@</productid>", [array objectAtIndex:0]];
 [res appendFormat:@"<questionid>%@</questionid>", [array objectAtIndex:1]];
 [res appendFormat:@"<valueid>%@</valueid>", [array objectAtIndex:2]];
 [res appendFormat:@"<answerText>%@</answerText>", [array objectAtIndex:3]];
 [res appendFormat:@"</question>"]; 
```

但是，当我将其作为请求发送（使用 sudzc 创建的 Web 服务代码）时，出现了一些错误

```
 Entity: line 1: parser error : Start tag expected, '<' not found
 Bad Request
 Error: The operation couldn’t be completed. (CXMLErrorDomain error 1.) 
```

这是我的发送字符串

```
 NSString *send=[NSString stringWithString:@"<request><ProductName>ppr</ProductName><questionid>fff</questionid><answerText>%@</answerText></request>"]; 
```

创建字符串 xml 时我应该替换哪些所有标签？

这是我的要求，，

```
 [service CreateRequest:self action:@selector(CreateRequestHandler:) Email:@"xxxx"  Password:@"anoopgopalan" Token:@"xxx" Request:send];

     - (void) CreateRequestHandler: (id) value {

          // Handle errors
            if([value isKindOfClass:[NSError class]]) {
            NSLog(@"%@", value);
            return;
       }  

          // Handle faults
            if([value isKindOfClass:[SoapFault class]]) {
           NSLog(@"%@", value);
           return;
     }              

                 // Do something with the MFLAPIError* result
             MFLAPIError* result = (MFLAPIError*)value;
                 NSLog(@"CreateRequest returned the value: %@", result);

     } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T06:22:58.533

您在生成的 xml 字符串中缺少一些标签。来自 Web 服务的任何 xml 响应都将如下所示。

您的 xml 必须嵌入在此..

```
<?xml version="1.0" encoding="utf-8"?>
<root>
//your generated xml with tags
</root> 
```

# iphone - 在 Iphone 浏览器上全屏显示网页

> ID：12312664
> 
> 赞同：1
> 
> 时间：2012-09-07T06:13:28.060
> 
> 标签：iphone, resolution

我的网站上有一个页面，只能在 iPhone 上显示。我根据iPhone 4保持背景图像页面960X640的分辨率。但是在iPhone上打开时，页面并没有覆盖整个屏幕，而是在它周围留下了一些空间。

我认为这一定是分辨率问题并搜索了网络但没有找到任何东西。

[这是我的网站页面的链接](http://www.chargebar.com.au/iphone-app.)

请告诉我如何将其显示在整个屏幕上。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T06:16:39.403

将网页的正文边距设置为 0px。`<body style="margin: 0">...</body>`

# php - 设置并打印出数组变量

> ID：12312666
> 
> 赞同：-1
> 
> 时间：2012-09-07T06:13:47.330
> 
> 标签：php

嗨，我这里有一些简单的代码，据我所知应该可以工作，但它没有，我很困惑为什么

```
//VARIABLES
$rowcount=15;
$colcount=15;
$path= array( array());
$startrow=8;
$startcol=7;
$row=$startrow;
$col=$startcol;

for ($a=0;$a<$rowcount;$a++) {
    for ($b=0;$b<$colcount;$b++) {
        $path[$a][$b]=0;
    }
}

echo"In case one ";
echo"<BR>";
echo " Col= ".$col;
echo " Row= ".$row-1;
echo " Col= ".$col;
echo " Cell= ".$path[$row-1][$col];
echo " Cellx= ".$path[7][7];
if($path[$row-1][$col]=="o") {
    echo " F1 = ".$flagOne;
        $flagOne="1";
        echo " cell equals ==o==";
        echo " F1 = ".$flagOne;
} else {
    echo " cell not equal ==o==";
}
echo"<BR>"; 
```

这就是我得到的输出

万一

Col= 7-1 Col= 7 单元格= 0 Cellx= 0 F1 = 0 单元格等于 ==o== F1 = 1

令我困惑的是第 7 个点“-1”我希望看到“Row= 7”而不是“-1”，因为 $row=8

我一直在用 java 和 C 编程，最近几乎没有接触过 PHP，但我已经做 PHP 多年了，我认为这应该可以工作

我究竟做错了什么

作为查看 if 语句的另一个问题，数组/单元格的值 = 0 所以我也希望评估是错误的并回显这个

单元格不相等 ==o==

但条件是评估为真为什么这是我的一个想法是我设置 $path 变量的方式

我只是希望它是一个简单的二维数组 $path[$a][$b] 当我输出数组时它设置正确吗？我看到了我期望的二维数组。

过去从来不需要做这些

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:27:02.910

```
$rowcount=15;
$colcount=15;
$path= array( array());
$startrow=8;
$startcol=7;
$row=$startrow;
$col=$startcol;

for ($a=0;$a<$rowcount;$a++) {
    for ($b=0;$b<$colcount;$b++) {
        $path[$a][$b]=0;
    }
}

echo"In case one ";
echo"<BR>";
echo " Col= ".$col;
echo " Row= ".($row-1);
echo " Col= ".$col;
echo " Cell= ".$path[$row-1][$col];
echo " Cellx= ".$path[7][7];
if($path[$row-1][$col]==0) {
    echo " F1 = ".$flagOne;
        $flagOne="1";
        echo " cell equals ==0==";
        echo " F1 = ".$flagOne;
} else {
    echo " cell not equal ==0==";
}
echo"<BR>"; 
```

首先，不要在整个脚本中使用双引号。PHP中的双引号和单引号有特殊含义，请阅读有关此的手册。第二 - 字符“o”不为零。您可以清楚地看到，您正在尝试将零与小写“o”匹配。此外，整数不需要在 PHP 中引用，就像在几乎所有语言中一样。检查您的字体设置以使它们彼此不同。第三 - 如果您在 PHP 中同时进行评估和连接，您应该用括号括住评估语句，尽管这是一种不好的做法。最好在将它们发送到输出之前或在将它们与另一个值作为字符串连接之前预先计算值并将它们分配给值。

# android - TextView 不会显示从另一个活动传递的数据

> ID：12312667
> 
> 赞同：0
> 
> 时间：2012-09-07T06:13:49.993
> 
> 标签：android, date

我遇到了将数据从另一个活动传递到当前活动的问题。[实际上，我在这里](https://stackoverflow.com/questions/12311497/passing-the-date-after-selecting-it-from-the-calendar)就同一问题提出了另一个问题，现在问题是日期的 textView 变为空，我不知道出了什么问题。任何人都可以帮我解决这个问题吗？非常感谢，我将非常感谢我能得到的任何帮助。

更新：

```
Bundle bundle = getIntent().getExtras();  
if(bundle != null)
{

    String date = bundle.getString("date");

    txtDate.setText(date);          
} 
```

当我运行它时，textView 不会显示任何内容。谁能帮我？再次感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T10:11:39.387

字符串日期 = bundle.getString("date");

检查您在 getString()中用作**键的****“日期”**是否与您在发送上一个活动的值时使用的相同。例如，

 ****上一个活动**= i.putExtra("date","_yourvalue");

**下一个活动**= 捆绑包 = getIntent().getExtras();
字符串日期 = bundle.getString("date");

如果相同，请检查您是否使用以下命令正确初始化了 textview，

TextView tv = (TextView)findViewbyID(R.id.yourID);

然后做

tv.setText(日期);

而这一切都必须在活动的onCreate中完成......

让我知道问题是否仍然存在..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:17:59.130

我认为您将视图转换为 String 有问题！

写视图类型代替***字符串***

```
String date_month_year = (String)view.getTag(); 
```**

# regex - C# - 交换 '=' 运算符的两侧

> ID：12312670
> 
> 赞同：0
> 
> 时间：2012-09-07T06:14:03.863
> 
> 标签：regex, visual-studio, text-editor

如何交换“=”运算符两侧的表达式？

例如我有：

```
a.Text = b.ID; 
```

我需要一个 Regx 来换边：

```
b.ID = a.Text; 
```

我想 在 C#**中 Visual Studio 的替换窗口中使用正则表达式**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-07T06:35:29.260

在 Visual Studio 的“文件中替换”对话框中，`([^= ]*) = ([^= ]*);`在“查找内容”文本框和`$2 = $1;`“替换为”对话框中输入。例如，在 Visual Studio 2012 中：

![在此处输入图像描述](../Images/8262a4c1d171d1119ee72af83ebafffa.png)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-07T06:19:41.337

在 C# 中，您可以使用如下代码来执行此操作：

```
var text = "a.Text = b.ID;";
var regex = new Regex(@"^(?<left>[^=\s]+)\s*=\s*(?<right>[^;]+);$");
var match = regex.Match(text);
if (match.Success) {
  var newText = String.Format(
    "{0} = {1};", match.Groups["right"].Value, match.Groups["left"].Value);
} 
```

正则表达式的分解：

*   `^`: 将匹配锚定在字符串的开头
*   `(?<left>[^=\s]+)`: 至少匹配一个非`=`空格字符。将其捕获到名为`left`.
*   `\s*=\s*`：匹配`=`可选地被空格包围。
*   `(?<right>[^;]+)`: 匹配至少一个不是 的字符`;`。将其捕获到名为`right`.
*   `;`: 匹配`;`。
*   `$`: 将匹配锚定到字符串的末尾。

* * *

如果要在 Visual Studio 编辑器中执行类似的替换，则需要在“**快速替换**”对话框中使用以下值：

*   **找到什么**：`{[^=:b]+}:b*=:b*{[^;]+}`
*   **替换为**：`\2 = \1`
*   **用途**：正则表达式

主要区别在于组由方括号而不是括号定义，而空白字符组由`:b`, not表示`\s`。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-07T06:19:55.447

这是*一个*想法：

```
using System;
using System.Text.RegularExpressions;

class Test
{
    static void Main()
    {
        var regex = new Regex("([^=]*) = ([^;]*);");
        string input = "a.Text = b.ID;";
        string output = regex.Replace(input, "$2 = $1;");
        Console.WriteLine(output);
    }
} 
```

请注意，这会保留每边的空间`=`以及末尾的分号 - 但它也确实*需要*这些东西。基本上，您的代码需要做的不仅仅是“在 = 之前和之后切换文本。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-07T06:17:20.277

使用带括号的组，例如：

```
string input = "a.Text = b.ID;";
Regex regex = new Regex("([^=]*)[=]([^=]*);");
regex.Replace(input, "$2 = $1;"); 
```

# perl - 如何使用 Perl 脚本将具有特定扩展名的文件从一个文件夹移动到另一个文件夹并重命名移动的文件

> ID：12312673
> 
> 赞同：1
> 
> 时间：2012-09-07T06:14:31.130
> 
> 标签：perl, csv, perl-module

我有 2 个文件夹 DIR1 DIR2，我只需要将扩展​​名为“.csv”的文件从 dir1 移动到 dir2

并使用 dir2 中的时间戳重命名这些文件复制的文件

```
$dirname = "\\dir1\\"
$dirname2= "\\dir2\\";
$filterstring=".csv";
opendir ( DIR, $dirname ) || die "Error in opening dir $dirname\n";
foreach my $filename (readdir(DIR))
{
      if ($filename =~ m/$filterstring/) {                          
$cfile=$dirname.$filename;
print "\n moving $cfile from $dirname  to $dirname2 \n";
move($cfile,$dirname2);                             
           }}
closedir(DIR); 
```

我开发的上述代码移动了扩展名为“.csv”的文件以及文件名“abc_csv_uv.txt”的文件我如何纠正这个问题，然后重命名移动的文件...请告知..需要帮助

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T07:10:49.503

```
use strict;
use File::Copy;
use File::stat;
use POSIX qw(strftime);

my $dirname = "\\dir1\\";
my $dirname2 = "\\dir2\\";
my $filterstring = "\\.csv\$";

opendir ( DIR, $dirname ) || die "Error in opening dir $dirname\n";
foreach my $filename (readdir(DIR)) {
    next if not $filename =~ m/$filterstring/;

    my $old_file = $dirname . $filename;
    my $new_file = $dirname2 . $filename . '.' . strftime("%Y%m%dT%H%M%S", localtime(stat($old_file)->mtime));

    print "Moving $old_file to $new_file\n";
    move($old_file, $new_file);
}
closedir(DIR);

1; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-07T07:14:30.043

我认为这是在 Windows 中完成的。否则你可以做

```
mv dir1/*.csv dir2 
```

您可以以类似的方式使用 perl 的 glob

```
for my $file (glob "dir1/*.csv") {
    move $file, "dir2" or die $!;
} 
```

注意：未经测试，因为我在移动设备上。

您可能希望改用 File::Copy 模块。有关更多信息，请参阅 move 文档。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-07T06:19:17.610

将过滤器更改为`\\.csv$`

`.`在正则表达式中表示任何字符，$ 强制它位于字符串的末尾。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-07T06:33:34.093

这是另一种选择：

```
foreach my $filename (grep /\Q$filterstring\E$/, readdir(DIR)){ 
```

这`grep`将只允许您的 .csv 文件从读取的目录中传递。接下来，删除条件：

```
if ($filename =~ m/$filterstring/) { 
```

因为`grep`将处理文件名过滤。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-07T08:42:34.607

```
use strict;
use File::Copy;
use File::stat; 

use POSIX qw(strftime); 

my $dirname = "\\dir\\";

my $dirname2 = "\\dir1\\"; 

my $filterstring = "\\.csv"; 

opendir ( DIR, $dirname ) || die "Error in opening dir $dirname\n";

foreach my $filename (readdir(DIR)) {

if ($filename =~ m/$filterstring/)

 my $len=length($filename);

my $v=$len-4;

my $str=substr $filename, 0, $v; 

my $old_file = $dirname . $filename;   

my $new_file = $dirname2 . $str . '_' . strftime("%Y%m%d", localtime(stat($old_file)->mtime)).'.'.'csv'; 

print " $new_file\n"; 

copy($old_file, $new_file);

}

} closedir(DIR); 

i modfied and This works!!

thanks all... 
```

# ruby-on-rails - 活动管理员和 Sass 错误

> ID：12312687
> 
> 赞同：3
> 
> 时间：2012-09-07T06:15:36.793
> 
> 标签：ruby-on-rails, sass, activeadmin

```
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/activeadmin 0.5.0/lib/active_admin/application.rb:283:in `generate_stylesheets': uninitialized constant Sass::Plugin (NameError)
from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/activeadmin-0.5.0/lib/active_admin/application.rb:105:in `prepare!'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/activeadmin-0.5.0/lib/active_admin.rb:72:in `setup'
    from /Users/devinross/Desktop/music-server1/config/initializers/active_admin.rb:1:in `<top (required)>'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.8/lib/rails/engine.rb:588:in `block (2 levels) in <class:Engine>'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.8/lib/rails/engine.rb:587:in `each'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.8/lib/rails/engine.rb:587:in `block in <class:Engine>'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.8/lib/rails/initializable.rb:30:in `instance_exec'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.8/lib/rails/initializable.rb:30:in `run'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.8/lib/rails/initializable.rb:55:in `block in run_initializers'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.8/lib/rails/initializable.rb:54:in `each'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.8/lib/rails/initializable.rb:54:in `run_initializers'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.8/lib/rails/application.rb:136:in `initialize!'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.8/lib/rails/railtie/configurable.rb:30:in `method_missing'
    from /Users/devinross/Desktop/music-server1/config/environment.rb:5:in `<top (required)>'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.8/lib/rails/application.rb:103:in `require_environment!'
    from /usr/local/rvm/gems/ruby-1.9.3-p194/gems/railties-3.2.8/lib/rails/commands.rb:25:in `<top (required)>'
    from script/rails:6:in `require'
    from script/rails:6:in `<main>' 
```

有谁知道如何解决这一问题？

```
gem 'rails', '~> 3.2.8'

group :assets do
  gem 'sass-rails',   '~> 3.2.3'
  gem 'coffee-rails', '~> 3.2.1'
  gem 'uglifier',     '>= 1.0.3'
  gem 'yui-compressor'
end

gem 'nokogiri'

# infrastructure
gem 'rake', require: false
gem 'pg'
gem 'dalli'

# web server
# gem 'thin'    # for evented server
# gem 'goliath' # for evented server
gem 'puma'    # for multi-threaded server
# gem 'unicorn' # for multi-processor server

# queue
gem 'sidekiq'
gem 'slim'
gem 'sinatra', :require => nil

# support
gem 'newrelic_rpm'
gem 'airbrake'
gem 'heroku' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-30T19:08:11.300

在此处查看此问题：[https ://github.com/gregbell/active_admin/issues/1686](https://github.com/gregbell/active_admin/issues/1686)

在那个问题中，有一个针对这个问题的拉取请求：[https ://github.com/gregbell/active_admin/pull/2028](https://github.com/gregbell/active_admin/pull/2028)

您也可以通过预编译管理资产（如第 4.1 节）来解决问题：http: [//guides.rubyonrails.org/asset_pipeline.html](http://guides.rubyonrails.org/asset_pipeline.html)

# sql - 在 SQL Server 中按多列过滤是否更快？

> ID：12312690
> 
> 赞同：0
> 
> 时间：2012-09-07T06:15:48.267
> 
> 标签：sql, sql-server, sql-server-2008

我有一个包含以下列的表

```
Id         (int)
UniqueId   (string)
CategoryId (int) 
```

Id 和 UniqueId 对于每条记录都是唯一的。

我想根据`UniqueId`价值找到记录，我也`CategoryId`有价值。

在语句中指定两个过滤器是否更快`SELECT`，例如：

```
SELECT * FROM [Products] Where [UniqueId] = 'product' AND [CategoryId] = 4 
```

还是我应该只使用`[UniqueId]`过滤器？

该表有很多记录

**编辑 ：**

我没有`[Id]`商品的栏目

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:21:46.943

我认为最好使用唯一的 id 过滤器来做这件事，也不要忘记在 UniqueId 上放置一个索引以使您的过滤更快。

我更喜欢将索引放在要过滤的列上（在 where 子句中使用）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-07T06:23:36.767

这取决于您是否在表上有索引，索引包括哪些列，以及索引的实际顺序。

如果您有一个索引，`(UniqueId, CategoryId)`其中的列设置了适当的包含列，那么您的查询应该没问题。

在包含的列中添加其他必需的列将避免使用键查找来检索您选择的列。

这也是为什么你几乎不应该使用`SELECT *`

您最好的选择是查看执行计划，并尝试避免任何表扫描/键查找

看看像[执行计划基础这样的东西](http://www.simple-talk.com/sql/performance/execution-plan-basics/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T06:17:29.937

我认为过滤索引的列更快。

如果它们都被索引，我认为只过滤一列会更快，因为对于每个列过滤器，服务器必须进行需要时间的处理。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-07T06:18:39.397

我建议，只需在 uniqueid 上创建一个非聚集索引，然后将该字段用作过滤器

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-07T06:19:51.283

如果您没有任何索引，则

```
SELECT * 
FROM [Products] 
WHERE [UniqueId] = 'product' 
```

如果您对任何列都有索引，则在`where`子句中使用该列。

如果您对两者都有索引`UniqueId`，`CategoryId`那么您的查询

```
SELECT * 
FROM [Products] 
WHERE [UniqueId] = 'product' AND [CategoryId] = 4 
```

很好

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-07T06:22:05.853

只需过滤`Uniqueid`. SQL 服务器甚至不会查看其他列，因为唯一索引提供了最快的排序 (O=log2N)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-07T06:26:29.687

首先

仅拉出要拉出**的列**

我相信，你有 [CategoryId] 有集群索引。因此，您应该使用过滤器 [CategoryId] 提取记录。不要使用产品过滤器

你的查询是

```
SELECT * FROM [Products] Where  [CategoryId] = 4 
```

# java - 如何在android上的谷歌地图中的地理点之间绘制虚线

> ID：12312691
> 
> 赞同：1
> 
> 时间：2012-09-07T06:15:53.297
> 
> 标签：java, android

我已经在地图上显示了带有标记图像的位置，但现在我想在同一行位置用虚线连接这些位置。

请给任何想法....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:21:33.053

这是你的答案，

[绘制虚线路径而不是一条线](https://stackoverflow.com/questions/6103713/how-do-i-make-a-dotted-dashed-line-in-android)

同样的实现[也在这里](https://stackoverflow.com/questions/10185445/drawing-dotted-trail-path-instead-of-a-line)

# php - PHP在'&'不取值后获得价值？

> ID：12312693
> 
> 赞同：0
> 
> 时间：2012-09-07T06:16:05.450
> 
> 标签：php

在下面的代码中......

```
<td height="27" align="right" valign="middle"><a href="General.php?category=Social & Political" target="_parent">Social & Political</a></td> 
```

在 General.php 页面中......

```
<input type='text' name='category' id='category' value='<?= $_GET['category']; ?>' maxlength="25"/> 
```

这里的价值只取'社会'，而不是'社会和政治'。如果我把它改成“社会政治”，那就完美了。这是为什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T06:18:56.177

`&`在 URI 和 HTML 中都有特殊的含义。在您放置它的查询字符串中，它的意思是“这个键/值对的结束和下一个键/值对的开始”。

[`urlencode`](http://php.net/urlencode)在将字符串插入 URL 之前（立即）运行您的字符串。

[`htmlspecialchars`](http://php.net/htmlspecialchars)在将字符串插入 HTML 之前（立即）运行您的字符串。

（urlencode 不应在字符串中留下任何 HTML 特殊字符，但在将其与 HTML 连接之前，通过 htmlspecialchars 推送所有“不知道是 HTML”的数据是一个好习惯）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T06:17:48.687

因为`&`是特殊字符。

使用 PHP 函数`urlencode()`和`urldecode()`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T06:25:01.617

为了补充以前的答案，这将起作用

a href="General.php?category=Social %26 政治"

%26 是字符 & 的 url 代码

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-07T06:19:22.493

用于`urlencode`您在查询字符串中传递的变量

# websphere - 如何在 Websphere 7 JNDI 中配置字符串值？

> ID：12312699
> 
> 赞同：2
> 
> 时间：2012-09-07T06:16:38.843
> 
> 标签：websphere, jndi, websphere-7

事实上，我之前发现过这样的消息： [Configuring and looking up a simple String via JNDI in WebSphere](https://stackoverflow.com/questions/8259181/configuring-and-looking-up-a-simple-string-via-jndi-in-websphere)

我想做“干净”的方式（[http://www.ibm.com/developerworks/websphere/library/techarticles/0611_totapally/0611_totapally.html](http://www.ibm.com/developerworks/websphere/library/techarticles/0611_totapally/0611_totapally.html)）。也许我对 WebSphere 太陌生了，我的脑子完全被这篇文章搞砸了，因为它展示了一个更复杂的例子。

谁能给我一个关于如何配置 WebSphere 以便我可以在 JNDI 中绑定字符串值的简要步骤？非常感谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T23:31:53.410

好吧，假设您要存储的是“配置”元素，我实际上会花时间使用资源环境提供程序来实现它，因为它是一种更灵活且显然更便携的方法。

要使用 JNDI 绑定字符串，请使用“字符串命名空间绑定”： http: [//pic.dhe.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.nd.doc/info/ae/ ae/unam_rstring_namespace.html](http://pic.dhe.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.nd.doc/info/ae/ae/unam_rstring_namespace.html)

已编辑（添加有关 ResEnv 的详细信息）：

工厂类是您编写的类，而不是 IBM。这是一个例子：

```
public class MyFactory implements javax.naming.ObjectFactory {
    @Override
    public Object getObjectInstance(Object object, Name name, Context context, Hashtable env) throws NamingException {
        MyConfig cfg = new MyConfig();

        for (Enumeration e = ((Reference) object).getAll(); e.hasMoreElements();) {
            RefAddr addr = (RefAddr) e.nextElement();
            String key = addr.getType();
            Object value = addr.getContent();
            cfg.put(key, value);
        }
    }
} 
```

（我们假设这`MyConfig`是一个带有`get(String)`和`put(String, String)`方法的简单类）

接下来，在 WebSphere 中创建一个新的资源环境提供者。对于 Referenceable，将 MyFactory 的完全限定类名作为“工厂类”，将 MyConfig 的完全限定类名作为“类”。

接下来，添加一个资源环境条目。给它一个 JNDI 名称，比如`myresources/test`. 从下拉框中选择可引用。

单击“自定义属性”，然后在此处添加键值对。

保存 WebSphere 配置，重新启动服务器并重试。向 发出 JNDI 查找`myresources/test`，您将获得一个`MyConfig`包含您放置在那里的所有自定义属性的实例。

让我们知道进展如何。祝你好运！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T03:22:20.890

我发布了一些[JNDI 配置技巧](http://www.glezen.org/howto/AppConfig/index.html#snsb)以及它们的优缺点。它有点过时，但仍应适用。

# r - 条形图，条形悬挂在顶部

> ID：12312712
> 
> 赞同：0
> 
> 时间：2012-09-07T06:17:37.307
> 
> 标签：r, graph, plot

我有一个模拟示例：

```
a<-seq(1:5)
barplot(a) 
```

现在我希望条形图从轴 3（顶部）悬垂而不是从轴 1 上升（在任何 plot(a) 函数中看到的正常 x 轴。（这也可以用于任何其他图） ， 我想）。

这个想法是让降水数据挂在我的绘图顶部，y 轴在我的图表右侧。

我该怎么办？

谢谢你的任何建议。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T07:55:32.807

用于`barplot(a, ylim = rev(range(c(0, a))))`使您的图表从上到下。

您可以使用`yaxt = "n"`和`axis()`在右侧绘制轴。

```
barplot(a, ylim = rev(range(a)), yaxt = "n")
axis(4, at = a) 
```

这是上一个示例的输出：

![在此处输入图像描述](../Images/fd866abc282eff05ef5fc1eb177d10d5.png)

# linux - 从 linux 中的 wxwidget 应用程序向其他窗口发送键盘事件

> ID：12312726
> 
> 赞同：1
> 
> 时间：2012-09-07T06:18:14.537
> 
> 标签：linux, wxwidgets, x11

我正在使用 C++ 和 wxWidgets 编写一个 linux 应用程序。
从我的应用程序中，我需要将键盘事件发送到当前具有焦点的窗口（不属于我的应用程序！）。

我的问题是：

1.  如何找出焦点所在的窗口？
2.  如何将键盘事件发送到不属于我的应用程序的窗口？

谢谢
丹尼尔

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T12:07:28.173

1.  `XGetInputFocus(3)`.
2.  X11 不关心“应用程序”。只有窗户。有一个窗口 ID（`Window`是 Xlib 数据类型）就足够了。使用任何有效的发送事件的方法。我知道有两种方法：`XSendEvent(3)`和`XTestFakeKeyEvent(3)`。前一种方法不适用于某些选择忽略来自`XSendEvent`. 后一个需要`XTest`扩展，该扩展存在于大多数（但不是所有）现代服务器中。
3.  请注意，这`InputFocus`是 的有效窗口指示符`XSendEvent`，并且`XTestFakeKeyEvent`无论如何都会传递到具有焦点的窗口，因此您可能根本不需要调用`XGetInputFocus`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T13:47:38.030

如果你使用 2.9，你可以使用[wxUIActionSimulator](http://docs.wxwidgets.org/trunk/classwx_u_i_action_simulator.html)。它旨在与同一 (wxWidgets) 应用程序的其他窗口一起使用，但 AFAICS 在使用 X11 时它实际上应该与其他应用程序的窗口一起使用（但是我自己没有测试它）。

# rally - SDK 2.0p3 似乎与 IE9 有问题

> ID：12312727
> 
> 赞同：1
> 
> 时间：2012-09-07T06:18:16.540
> 
> 标签：rally, agile-central

我刚刚发现即使是我最简单的 2.0 应用程序也无法使用 IE。这适用于 2.0 或 2.0p2，但在 IE 中失败并出现 SCRIPT5007：无法获取属性“长度”的值：对象为空或未定义 sdk-debug.js，第 43756 行字符 13

这至少也发生在我的其他脚本之一上。我正在使用 IE9.09，并在 Rally 之外以调试模式运行。

```
 Ext.define('FieldEscalations', {
    extend: 'Rally.app.App',
    componentCls: 'app',

    launch: function() {
        Rally.data.ModelFactory.getModel({
            type: 'Defect',
            success: function(model) {
                this.grid = this.add({
                    xtype: 'rallygrid',
                    model: model,
                    disableColumnMenus: false,

                    columnCfgs: [
                        'FormattedID', 
                        'Tags'
                    ],
                    storeConfig: {
                        filters: [
                            {
                                property: 'State',
                                operator: '<',
                                value: 'Closed'
                            }, {
                                property: 'SupportTicket',
                                operator: '!=',
                                value: ''
                            }
                        ],
                        sorters: [
                            {
                                property: 'CreationDate',
                                direction: 'DESC'
                            }
                        ]
                    }
                });
            },
            scope: this
        });
    }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T16:03:31.957

这失败是因为 IE9 从文件系统运行时不支持本地存储：

[直接从文件系统访问网站时，IE9 中的本地存储失败](https://stackoverflow.com/questions/8706006/local-storage-in-ie9-fails-when-the-website-is-accessed-directly-from-the-file-s)

我将对此提出缺陷。在 Rally 仪表板上的自定义 html 面板中运行时，您的应用程序应该可以工作，对吧？

# dom - 将字符串转换为 org.w3c.dom.Element 时出现问题

> ID：12312728
> 
> 赞同：0
> 
> 时间：2012-09-07T06:18:17.947
> 
> 标签：dom, saxparseexception

当我将字符串解析为 org.w3c.dom.Element 时，出现以下异常。

```
org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 245; Invalid byte 3 of 3-byte UTF-8 sequence. 
```

我用来将字符串转换为元素的代码是：

```
public Element convertStringToDoc(String xmlString) throws Exception{
    org.w3c.dom.Document doc;
    try {
        java.io.InputStream sbis = new java.io.StringBufferInputStream(xmlString);
        javax.xml.parsers.DocumentBuilderFactory b = javax.xml.parsers.DocumentBuilderFactory.newInstance();
        b.setNamespaceAware(false);
        doc = null;
        javax.xml.parsers.DocumentBuilder db = null;
        db = b.newDocumentBuilder();
        doc = db.parse(sbis);
        org.w3c.dom.Element e = doc.getDocumentElement();
        return e;
    } catch (Exception e1) {
        throw e1; 
```

} }

我的输入字符串是：

```
<?xml version="1.0" encoding="UTF-8"?>
<a id="ctl00_RSContent1_ResultsList_ctl00_ProductTitleLink" href="../Product/the_western_european_wear_tear_parts_market_201115?productid=TD00033-006">The Western European Wear &amp; Tear Parts Market, 2011â€“15</a> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:49:25.170

在我看来，java String 类不是 UTF-8 编码的。似乎“-”序列在 java 字符串 unicode 中具有 UTF-8 中不允许的字节编码。像这样更改您的代码...

```
...
byte[] utf8Bytes=xmlString.getBytes("UTF-8");
java.io.InputStream sbis = new java.io.ByteArrayInputStream(utf8Bytes);
javax.xml.parsers.DocumentBuilderFactory b = javax.xml.parsers.DocumentBuilderFactory.newInstance();
... 
```

# iphone - 从地图 Xcode 上删除折线

> ID：12312730
> 
> 赞同：4
> 
> 时间：2012-09-07T06:18:31.387
> 
> 标签：iphone, objective-c, ios, xcode, ipad

我正在实施一个 iphone 应用程序。我有一个地图和对象数组，其中包含要在地图上绘制的坐标。并在这些点之间绘制一条折线。所以我想知道如何删除这条折线。不是显示/隐藏，而是删除。

这是我如何绘制它的代码

> int pointCount = [routeLatitudes 计数] / 2; //routeLatitudes 是包含坐标纬度和经度的数组。

```
 MKMapPoint* pointArr = malloc(sizeof(MKMapPoint) * pointCount);

    int pointArrIndex = 0;  
    for (int idx = 0; idx < [routeLatitudes count]; idx=idx+2)
    {
        CLLocationCoordinate2D workingCoordinate;       
        workingCoordinate.latitude=[[routeLatitudes objectAtIndex:idx] doubleValue];
        workingCoordinate.longitude=[[routeLatitudes objectAtIndex:idx+1] doubleValue];  
        MKMapPoint point = MKMapPointForCoordinate(workingCoordinate);
        pointArr[pointArrIndex] = point;
        pointArrIndex++;
    }   

    // create the polyline based on the array of points. 
    routeLine = [MKPolyline polylineWithPoints:pointArr count:pointCount];

    [mapView addOverlay:routeLine];
    free(pointArr); 
```

为了显示/隐藏折线，我创建了一个参考**MKOverlayView* overlayView = nil;**

> overlayView.hidden=假/真；

现在我需要知道如何删除/删除绘制的折线。

预先感谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-07T06:59:17.730

试试这个

```
 [mapView removeOverlays:mapView.overlays]; 
```

# c++ - C++：动态增长的二维数组

> ID：12312738
> 
> 赞同：0
> 
> 时间：2012-09-07T06:19:08.237
> 
> 标签：c++, multidimensional-array, double, dynamic-memory-allocation

我用 a 解决了以下情况`vector`，但是我的一位年长的同事在讨论中告诉我，使用数组会快得多。

我从大量音频文件中计算出很多（我的意思是很多！）12 维向量，并且必须将它们存储起来进行处理。在开始计算之前，我真的需要所有这些向量。无论如何，我无法预测有多少音频，也无法预测从每个音频中提取了多少向量。因此，我需要一个结构来动态保存向量。

因此，我为每个向量创建一个新的双精度数组并将其推送到`vector`.

我现在想面对和测试，如果我的同事真的是正确的，那么计算可以通过使用数组而不是向量来进行存储来提高。

```
vector<double*>* Features = new vector<double*>();
double* feature = new double[12];
// adding elements
Features->push_back(features); 
```

据我所知，要动态创建二维数组，我需要知道行数。

```
double* container = new double*[rows];
container[0] = new double[12];
// and so on.. 
```

处理完所有音频后我知道行，我不想处理音频两次。

任何人都知道如何解决这个问题并附加它，或者以这种方式不可能，我应该使用任何一个`vector`或创建自己的结构（假设可能比向量慢）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T06:30:47.757

除非有任何强烈的理由不这样做，否则我会建议这样的事情：

```
std::vector<std::array<double, 12>> Features; 
```

您可以获得所需的所有内存位置，以及所需的所有自动内存管理。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-07T06:34:20.253

你当然可以这样做，但如果你用`std::vector`. 对于二维数组的动态增长，您必须执行所有这些操作。

*   创建一个临时二维数组
*   给它分配内存。
*   为其每个组件数组分配内存。
*   将数据复制到其组件数组中。
*   删除原始 2D Array 的每个组件数组。
*   删除二维数组。
*   接受新的输入。
*   将新项目添加到临时二维数组。
*   创建原始的 2D Array 并为其分配内存。
*   为其组件数组分配内存。
*   再次将临时数据复制到其中。

在每一步都这样做之后，很难接受数组会更快。使用`std:vector`. 上面的书面答案解释了这一点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-25T19:56:28.903

使用向量将使问题变得更容易，因为它使数据自动增长。不幸的是，由于向量的增长方式，使用向量可能不是最佳解决方案，因为大型数据集需要增长的次数。另一方面，如果您将向量的初始大小设置得非常大，但只需要少量的 12 个索引数组。你只是浪费了大量的内存。如果有某种方式可以猜测所需的大小，您可以使用该猜测值来动态分配数组或最初将向量设置为该大小。

如果您只打算用数据计算一次或两次，那么您可能应该考虑使用地图或列表。大型数组的这两种结构将创建一个符合您确切需求的内存结构，并绕过增长数组的额外时间要求。另一方面，使用这些数据结构的计算会更慢。

我希望这些想法能为这次讨论增加一些替代解决方案。

# php - 即使在 apache 中启用 url 重写后，我的 zend 框架应用程序也没有读取 htaccess 文件

> ID：12312744
> 
> 赞同：-1
> 
> 时间：2012-09-07T06:19:26.463
> 
> 标签：php, zend-framework, apache2

我已经构建了一个 Zend Framework 应用程序。通过将其配置为读取`routes.ini`文件，部署后我的应用程序不会进入任何路由，而只有默认路由正在工作。我在这个应用程序中总共有 4 条路线，但它们都不起作用。Apache 显示*Not Found*错误。

我看过`.htaccess`文件，它是完美的，在我的本地它工作正常。我还检查了权限。它对`www-data`. 我还检查了 Apache URL 重写模块。

我再次这样做并尝试了：

```
sudo a2enmod rewrite 
```

还是同样的问题。

我的 apache 错误日志显示该文件不存在。
请告诉我哪里出错了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T15:39:48.690

经过几个小时的研究，我注意到 apache vhost 文件中有一个非常小的和敏感的错误。

我的条目是这样的

```
<Directory /var/www/your_project>
Options Indexes FollowSymLinks MultiViews
AllowOverride None
Order allow,deny
allow from all
</Directory> 
```

但实际上我的条目应该是按照[mssb](https://stackoverflow.com/users/1559445/mssb)一些这样的

```
<Directory /var/www/your_project>
Options Indexes FollowSymLinks MultiViews
AllowOverride All
Order allow,deny
allow from all
</Directory 
```

由于我不是经验丰富的网站管理员，我没有注意到一个简单的事情，即 AllowOveride 选项设置为 None

我今天参考了 Core apace 文档，以便找出我错在哪里。

不选择 .htaccess 文件的原因如下

> 当 AllowOveride 指令设置为 None 时，.htaccess 文件将被完全忽略。在这种情况下，服务器甚至不会尝试读取文件系统中的 .htaccess 文件。
> 
> 当此指令设置为 All 时，任何具有 .htaccess 上下文的指令都可以在 .htaccess 文件中使用。

我个人觉得发布这个问题的整个解决方案，以帮助将来可能面临类似问题的其他人

再次感谢大家对这篇文章的回复

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:40:09.330

尝试按照以下步骤进行 mod_rewrite

```
sudo ln -s /etc/apache2/mods-available/rewrite.load /etc/apache2/mods-enabled/

sudo gedit /etc/apache2/sites-enabled/000-default 
```

添加以下代码

```
<Directory /var/www/your_prject_name>
    Options Indexes FollowSymLinks MultiViews
    AllowOverride all
    Order allow,deny
    allow from all
    # This directive allows us to have apache2's default start page
    # in /apache2-default/, but still have / go to the right place
    # Commented out for Ubuntu
    #RedirectMatch ^/$ /apache2-default/
 </Directory> 
```

然后重启服务器

```
sudo /etc/init.d/apache2 restart 
```

# android - 有没有一种方法可以将 Pinterest 与 android 应用程序集成

> ID：12312745
> 
> 赞同：1
> 
> 时间：2012-09-07T06:19:29.753
> 
> 标签：android, integration, pinterest

我希望删除或查看我对我的 Android 应用程序感兴趣的照片，我们是否有任何 pinterest 的 SDK，因为我想将其集成到我的 Android 应用程序中。

任何建议都会像福音一样

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:32:35.903

似乎答案是“还没有”......但是去和他们一起注册吧，我敢肯定它在他们的雷达上，如果它在他们的基本常见问题解答中，很快就会出现。

[https://support.pinterest.com/entries/21151603-ima-developer-does-pinterest-have-a-public-api](https://support.pinterest.com/entries/21151603-i-m-a-developer-does-pinterest-have-a-public-api)

另一种选择（或者只是在他们发布官方 API 之前）可能是官方 pinterest 应用程序是否提供共享意图？许多其他社交网络实体（如 twitter、facebook 等）在其官方应用程序中提供基于意图的访问权限，让您将媒体、链接等从系统中的其他应用程序转储到它们中，并将信息发布到您的帐户。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-23T18:34:53.073

[http://developers.pinterest.com/android/](http://developers.pinterest.com/android/)

这适用于可能想要开始使用 pinterest 并登陆此页面的其他人。

# javascript - 如何让文字逆时针方向书写

> ID：12312752
> 
> 赞同：4
> 
> 时间：2012-09-07T06:19:56.883
> 
> 标签：javascript, jquery, canvas, html5-canvas

如何使文本逆时针书写？

```
function drawTextAlongArc(context, str, centerX, centerY, radius, angle){
    context.save();
    context.translate(centerX, centerY);
    context.rotate(-1 * angle / 2);
    context.rotate(-1 * (angle / str.length) / 2);
    for (var n = 0; n < str.length; n++) {
        context.rotate(angle / str.length);
        context.save();
        context.translate(0, -1 * radius);
        var char = str[n];
        context.fillText(char, 0, 0);
        context.restore();
    }
    context.restore();
}

window.onload = function(){
    var canvas = document.getElementById("myCanvas");
    var context = canvas.getContext("2d");

    context.font = "30pt Calibri";
    context.textAlign = "center";
    context.fillStyle = "blue";
    context.strokeStyle = "blue";
    context.lineWidth = 4;

    var centerX = canvas.width / 2;
    var centerY = canvas.height - 30;
    var angle = Math.PI * 0.8; // radians
    var radius = 150;
    drawTextAlongArc(context, "Text along arc path", centerX, centerY, radius, angle);

    // draw circle underneath text
    context.arc(centerX, centerY, radius - 10, 0, 2 * Math.PI, false);
    context.stroke();
}; 
```

![在此处输入图像描述](../Images/263f27399c96113eb0c2d9fa88dee64b.png) 我希望文本以逆时针方向显示为这样

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T06:25:24.610

不知道你在问什么，但如果你想以逆时针方向向后写你的文字，你只需改变这一行：

```
drawTextAlongArc(context, "Text along arc path", centerX, centerY, radius, -angle); 
```

最后一个参数更改为`-angle`

正如您所期望的那样，文本将会倒退。

# iphone - CLGeocoder 不工作

> ID：12312755
> 
> 赞同：0
> 
> 时间：2012-09-07T06:20:29.690
> 
> 标签：iphone, cllocationmanager, clgeocoder

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {    

    // Override point for customization after app launch    
    [window addSubview:viewController.view];
    [window makeKeyAndVisible];

    [window addViewForTouchPriority:viewController.view];

    if(self.locationManager==nil){
        locationManager=[[CLLocationManager alloc] init];

        locationManager.delegate=self;
        locationManager.purpose = @"We will try to tell you where you are if you get lost";
        locationManager.desiredAccuracy=kCLLocationAccuracyBest;
        locationManager.distanceFilter=500;
        self.locationManager=locationManager;
    }
    geoCoder = [[CLGeocoder alloc] init];

    if([CLLocationManager locationServicesEnabled]){
        [self.locationManager startUpdatingLocation];          
    }

    return YES;
}

-(void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation
{
    lati = [[NSString alloc] initWithFormat:@"%+.6f", newLocation.coordinate.latitude];
    NSLog(@"address:%@",lati);

    longi = [[NSString alloc] initWithFormat:@"%+.6f", newLocation.coordinate.longitude];
    NSLog(@"address:%@",longi);

    CLLocationCoordinate2D coord;
    coord.latitude = [lati doubleValue];
    coord.longitude = [longi doubleValue];

    [geoCoder reverseGeocodeLocation: newLocation completionHandler: ^(NSArray *placemarks, NSError *error)
     {

         //Get nearby address
         CLPlacemark *placemark = [placemarks objectAtIndex:0];

         //String to hold address
         NSString *locatedAt = [[placemark.addressDictionary valueForKey:@"FormattedAddressLines"] componentsJoinedByString:@", "];

         //Print the location to console
         NSLog(@"I am currently at %@",locatedAt);

         address = [[NSString alloc]initWithString:locatedAt];    
         NSLog(@"address:%@",address);
     }];
} 
```

我使用上面的代码通过给出纬度和经度来获取地址，但是控制没有进入地理编码器方法，它跳过它。任何人都可以帮助我。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-05T16:35:41.973

这是正常的，因为 reverseGeocodeLocation 中的代码是在块内执行的。块内代码的执行发生在*另一个*线程中，因此不在主线程中执行，这就是控件不进入地理编码器方法内部的原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T11:40:44.860

没关系，控件没有进入方法，但它可以工作，注意输出它会工作。

# regex - Perl：正则表达式（匹配重复）

> ID：12312761
> 
> 赞同：0
> 
> 时间：2012-09-07T06:21:02.513
> 
> 标签：regex, perl

我有一个快速的问题。我在下面的代码中做错了什么：

```
#!/usr/bin/perl -w
use strict;
my $num = "12345";
print "$num \n" if $num =~ m/\d{1,3}/; 
```

由于我的号码是 5 位长，我希望输出不应该打印任何内容，因为 if 语句正在寻找一个至少 1 位和最多 3 位的数字。但是我的脚本将输出打印如下：

```
# perl num.pl 
12345 
```

我误解了上面的正则表达式吗？

谢谢。

**编辑：**

所以，实际上我正在尝试匹配字符串之类的 IP 地址。例如，我想匹配`11.222.3.444`但它不起作用，`m/\d{1,3}.\d{1,3}.\d{1,3}.\d{1,3}/` 所以我开始处理仅包含数字的单个字符串，然后将其发布在堆栈溢出中。

如果我必须输入 ^ OR $ 那么如果我想匹配上面提到的字符串 s 这样的 IP 地址，我应该如何使用它们。

谢谢你的时间。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:25:45.983

你的 perl 代码说的是，“在字符串 $num 中，你能找到一个至少 1 个字符，最多 3 个字符的字符串，它只由数字组成。” 答案当然是肯定的。

你想要的是

`print "$num \n" if $num =~ m/^\d{1,3}$/;`

这意味着“在字符串 $num 中，从第一个字符开始到最后一个字符，是否有一个字符串，长度至少为 1 个字符，最多为 3 个字符，仅由数字组成。”

如果您正在尝试查找类似 ip address [regexp 以匹配 IP 地址](http://www.perlmonks.org/?node_id=380565)的内容，则可以很好地讨论如何做到这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-26T12:48:10.050

下面的代码正确地验证了 IP 地址。下面列出了考虑的验证。1）如果IP地址的任何部分由小数分隔的长度超过一位，则不应以零开头。2) 以小数点分隔的IP 地址的第一位不能为零。3) IP 地址的任何部分以小数分隔，不能超过 255。

要求成员对正则表达式进行微调，因为它看起来太大且令人困惑。

```
print "Enter the IP address : ";
$ip = <stdin>;
if($ip =~ /^([3-9]\d?|1\d?\d?|2([0-4]?\d?|5[0-5]|[6-9]?))(\.(0|[3-9]\d?|(1\d?\d?|2([0-4]?\d?|5[0-5]|[6-9]?)))){3}$/) {
    print "Correct\n";
}
else {
    print "Wrong\n";
} 
```

# php - FOREACH 和 UPDATE mysql 不能一起工作

> ID：12312762
> 
> 赞同：1
> 
> 时间：2012-09-07T06:21:10.343
> 
> 标签：php, mysql, sql

我似乎无法让这段代码工作。您可以使用 foreach 行运行另一个查询吗？这是一个将发送电子邮件的 cron 脚本，我需要在 cron 运行时将状态从“0”更新为“1”，以便我知道电子邮件已发送 -**下面的代码 UPDATE 查询不起作用。**

```
// Connect to the database
$conn = new PDO("mysql:host=$DB_HOST;dbname=$DB_DATABASE",$DB_USER,$DB_PASSWORD);

// Get the emails to send and ensure the status shows they have not been sent already
$stmt = $conn->prepare("SELECT id, userid, title, message FROM reminders WHERE time=CURDATE() AND status='0'");
$stmt->execute();
$results = $stmt->fetchAll(PDO::FETCH_ASSOC);

foreach($results AS $row){
echo $row['title'] . ' ' . $row['message'] . ' ' . $row['id'] . '<br />';
$update = $conn->prepare("UPDATE results SET status='1' WHERE id=:id");
$update->bindParam(':id', $row['id']);
$update->execute();
}; 
```

编辑：表名错误。解决了

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T06:28:03.190

如何指定值的数据类型（*我认为[不确定]默认数据类型是字符串，服务器会自动解析它*）？`PDO::PARAM_INT`

```
$update->bindValue(':id', $row['id'], PDO::PARAM_INT); 
```

**[PDO 预定义常量](http://php.net/manual/en/pdo.constants.php)**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-07T06:26:54.080

也许您需要`bindValue`并指定数据类型：

```
$update = $conn->prepare("UPDATE results SET status=1 WHERE id=:id");
$update->bindValue(':id', $row['id'], PDO::PARAM_INT);
$update->execute(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T06:44:52.253

只是为了在问题 - 答案格式中有正确的解决方案：

You are using the result variable `resuls` and then try to update the table `results`. Is the table you want to update really named "results" or has this information creeped in from the name of the variable?

From the query it look like you are working on the table `reminders`.

# php - 推特登录我的网站

> ID：12312763
> 
> 赞同：-3
> 
> 时间：2012-09-07T06:21:17.833
> 
> 标签：php

我已经在我的网站上进行了 facebook 登录。也就是说，用户可以使用他们的网站登录我的网站

facebook 帐户。类似地，我想在 mysite 中进行 twitter 登录，即用户可以登录

在我的网站上使用他们的 twitter 帐户。怎么做？谁能提供php

为此的代码。为此，我创建了一个 twitter 应用程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:30:26.387

以下帖子应该为您提供一个很好的例子来说明如何实现这一点 -

[使用 Facebook 和 Twitter 登录](http://www.9lessons.info/2011/02/login-with-facebook-and-twitter.html)

另一个要使用的帖子 -[如何使用 Twitter OAuth 对用户进行身份验证](http://net.tutsplus.com/tutorials/php/how-to-authenticate-users-with-twitter-oauth/)

# python - 如何通过进程 ID 获取进程的标准输入？

> ID：12312764
> 
> 赞同：9
> 
> 时间：2012-09-07T06:21:20.153
> 
> 标签：python, linux

我知道我可以像这样获得流程的`stdin`使用子流程`python`：

```
import subprocess
f = subprocess.Popen('python example.py',stdin=subprocess.PIPE)
f.stdin.write('some thing') 
```

但我只想知道我想写入进程的pid，我该`stdin` 怎么做？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-07T07:49:05.230

只需写信至`/proc/PID/fd/1`：

```
import os.path
pid = os.getpid() # Replace your PID here - writing to your own process is boring
with open(os.path.join('/proc', str(pid), 'fd', '1'), 'a') as stdin:
  stdin.write('Hello there\n') 
```

# javascript - 如何在稍微不规则的模式中使用 setInterval，例如在 for 循环中？

> ID：12312771
> 
> 赞同：4
> 
> 时间：2012-09-07T06:21:53.620
> 
> 标签：javascript, for-loop, setinterval

我想要的行为是这样的：背景颜色变为金色，并在 X 时间长度内保持该颜色。然后，背景颜色变为红色，并在 Y 段时间内保持该颜色。然后背景颜色变回金色，并在 X 时间长度内保持该颜色。然后背景颜色变回红色并在 Y 长度内保持这种状态。整个套件和 caboodle 以循环方式执行 Z 次，然后结束。

我尝试将 setInterval 的函数放入 for 循环（以计算我们进行更改的次数），但发现所有已设置为 setInterval 的函数本身都开始运行间隔计时器同时（不按顺序）。

我希望这很清楚。这是我努力的 JSFiddle：http: [//jsfiddle.net/6WE6s/3/](http://jsfiddle.net/6WE6s/3/)我已经设法让背景颜色以均匀的方式改变，但我想要上述模式，我很困惑接下来做什么。

在此先感谢您的帮助！:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:33:52.320

```
var colors = [
  ['gold', 2000],  // X = 2000 miliseconds
  ['red', 1000]   // Y = 1000
],
repeat = 3, // Z = 3,
index  = 0, // current position in colors array
changeColor = function( ) {

   // if index == colors.length then mod = 0 
   var mod = index % colors.length;

   if(!index || mod || --repeat ) {
     index = mod;
     var data = colors[ index++  ];  // data = [ currentColor, currentColorTimeout ]
     document.body.style.background = data[0];
     setTimeout( changeColor, data[1] ); // and so on
  }
  //if index >0 && index == last 
  //then decrement `repeat` and check if is == 0
  //nothing to do :)

};
changeColor(); // run 
```

这是一个简单的例子。您可以使用 arguments( `colors`, `repeats`) 及其主体来制作函数，如上所示。

注意： `setInterval`不适合此目的，因为在`setInterval`您通过超时一次

如果`repeat`最初为 0 将是无限次重复

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T07:26:46.540

这是我的努力 - 不需要 jQuery：

```
function colorCycle(el, count, cols) {
    var i = 0,
        n = cols.length;

    // allow this to work on any element given its ID
    el = (typeof el === "string") ? document.getElementById(el) : el;

    if (n === 0) {
        return;       // no colours?
    } else if (n === 1) {
        count = 1;    // don't trigger any timers if there's only one colour
    }

    // all of the hard work is done here
    (function repeat() {

        var interval = cols[i][1];
        el.style.backgroundColor = cols[i][0];

        // only do the whole cycle "count" times - 0 = forever
        if (++i === n) {
            if (count && !--count) {
                return;
            }
            i = 0;
        }
        setTimeout(repeat, interval);  // call myself
    })();  // IIFE starts the cycle straight away
};

colorCycle(document.body, 5, [
    ['red', 1000],
    ['gold', 500]]); 
```

见[http://jsfiddle.net/alnitak/42PeT/](http://jsfiddle.net/alnitak/42PeT/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-07T06:46:27.140

不要使用`setInterval()`. 你`setTimeout()`可以这样做：

```
function changeColors(colors, repeats) {
    var i = 0;
    if (typeof repeats === "undefined")
        repeats = 1;
    function doNext() {
        if (i >= colors.length){
            if (--repeats > 0)
                i = 0;
            else
                return;
        }
        $('body').css('background-color', colors[i].color);
        setTimeout(doNext, colors[i++].delay);
    }
    doNext();
}

changeColors([{color : "gold", delay : 2000},
             {color : "red", delay : 4000}],
             3); 
```

您可以添加任意数量的颜色，每种颜色都有自己的延迟，方法是向传递给的数组添加更多元素`changeColors()`。该函数将依次遍历颜色，并按照`repeats`参数中指定的次数执行整个序列。

演示：http: [//jsfiddle.net/nnnnnn/6WE6s/10/](http://jsfiddle.net/nnnnnn/6WE6s/10/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-07T06:32:03.533

尝试这个

```
var colors = []; 
colors.push({color:"gold", time:4000}); //4000 X length of time
colors.push({color:"red", time:2000}); //2000 Y length of time

var numberofTimes = 50; //50 Z number of times
var $body;
var times = 0; // counter for tracking
var currentColor = {}; //currentColor info can be used to get the current

$(function(){
    $body = $('body');
    changeBG();
});

function changeBG()
{
    currentColor  =  colors[times % colors.length];
    $body.css('background-color',currentColor.color);
    times++;

    if(times<numberofTimes)
       setTimeout(changeBG, currentColor.time);
} 
```

检查这个快速[**演示**](http://jsfiddle.net/6WE6s/12/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-07T06:35:05.207

避免使用 setInterval。参考[这里](https://stackoverflow.com/questions/7142192/is-setinterval-and-settimeout-bad-things-to-do-in-modern-jquery-animations)。

**编辑**：我错过了不同的通话延迟。

```
var colors = ["#FF0000", "#00FF00", "#0000FF"];
var times  = [1000, 2000, 3000];
var backgroundColor = "";
var counter = 0;

var changeBackground = function () {

    // if we ran out of colors — do nothing: this simply goes out
    // of the function, without continually calling setTimeout.
    if (counter >= colors.length)
        return;

    // you fetch your new color here and increase the counter
    // The counter keeps count of how many animations you've done.
    backgroundColor = colors[counter];

    // increase the counter to point to the next index of colors
    // array you'll use in a subsequent call
    counter++;

    // do your magic voodoo change background animation here.
    // I'm just doing a console.log() to be sure this works.
    // Your question was framework agnostic, the answer should be too.
    console.log(backgroundColor);

    // setInterval to repeat
    window.setTimeout(changeBackground, times[counter]);
}

window.setTimeout(changeBackground, times[counter]); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-07T06:42:41.263

一个使用 . 迭代颜色数组和时间数组的基本示例[`setTimeout`](https://developer.mozilla.org/en-US/docs/DOM/window.setTimeout)。

```
(function() {
    var i = 0,
        colorsTimes = [['gold', 'red', 'gold', 'red', 'gold'],
                       [2000, 4000, 2000, 4000, 2000]];

    function switchColors() {
        setTimeout(function() {
            $('body').css('background-color', colorsTimes[0][i]);
            if (++i < colorsTimes[0].length) switchColors();
        }, colorsTimes[1][i]);
    }
    switchColors();
}()); 
```

[**小提琴**](http://jsfiddle.net/ult_combo/6WE6s/8/)

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-09-07T06:39:23.113

使用 setTimeout：

```
var doCount = (function() {
    var count = 0;
    var interval;
    var limit = 5;  // default

    return function(num) {
      limit = num || limit;

      if (count < limit) {
        count++;
        console.log('running number ' + count);
        interval = setTimeout(arguments.callee, 1000);

      } else {
        interval && clearTimeout(interval);
      }
    }

}()) 
```

使用 setInterval：

```
var doCount = (function() {
    var count = 0;
    var interval;
    var limit = 5;  // default

    return function(num) {
      limit = num || limit;

      if (interval) {

        if (++count >= limit) {
          interval && clearInterval(interval);
        }
        console.log('running number ' + count);

      } else {
        interval = setInterval(arguments.callee, 1000);
      }
    }

}()) 
```

setTimeout 的优点是您可以调整运行之间的时间以使其更规律，setInterval 只是尝试尽可能规律地运行。

# c# - 系统日期时间格式已更改

> ID：12312774
> 
> 赞同：0
> 
> 时间：2012-09-07T06:22:14.743
> 
> 标签：c#, windows-7, datetime-format

我的电脑上安装了 Window 7。问题是如果计算机重新启动，系统日期格式会在一段时间内更改。我需要固定日期格式，但不知道如何。我在 mvc 3 中构建了应用程序，并且有用于**字符串到日期时间**转换的代码。如果系统日期时间格式与字符串不匹配，则会显示 `string is not in proper format`转换为查找系统日期时间的日期时间的错误。异常在以下代码中引发：

```
 DateTime startDate = Convert.ToDateTime(start); 
```

在哪里，

```
string start = sundayOfLastWeek.ToString("MM/dd/yyyy HH:mm:ss"); 
```

或者，是否有任何替代方案，以便我可以更改始终有效的代码，尽管系统日期时间。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T06:23:57.427

使用[DateTime.ParseExact](http://msdn.microsoft.com/en-us/library/w2sa9yss.aspx)格式`"MM/dd/yyyy HH:mm:ss"`

```
startDate = DateTime.ParseExact(start, 
                                "MM/dd/yyyy HH:mm:ss",
                                CultureInfo.InvariantCulture); 
```

编辑：基于@John Woo 的评论

您可以将字符串数组传递给 DateTime.Parse，例如：

```
string[] dateFormats = new string[] { "MM/dd/yyyy HH:mm:ss", "dd/MM/yyyy HH:mm:ss", "d/MM/yyyy" };
DateTime startDate = DateTime.ParseExact(start,
                                         dateFormats, 
                                         CultureInfo.InvariantCulture,
                                         DateTimeStyles.None); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T06:29:08.400

使用 .ToString(CultureInfo.InvariantCulture) 和 Parse(value, CultureInfo.InvariantCulture) 来保持值。如果您出于显示目的呈现值，则仅省略 CultureInfo。对于某些特定的数据格式，可能存在特殊的格式规则 - 遵循它们。

要恢复您的数据，请使用 ParseExact。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T06:31:44.440

正如哈比卜已经回答的那样：

```
//Add any format you want or expect
string[] formats = { "MM/dd/yyyy HH:mm:ss", "dd.MM.yyyy HH:mm:ss" };
DateTime startDate = DateTime.ParseExact(start, formats,
                System.Globalization.CultureInfo.InvariantCulture, System.Globalization.DateTimeStyles.None); 
```

它应该有帮助。

# java - 安卓行人自动路线

> ID：12312776
> 
> 赞同：-2
> 
> 时间：2012-09-07T06:22:35.367
> 
> 标签：java, android, google-maps

我想开发一个允许用户（行人）遵循自动生成的路线的 Android 应用程序。

用户将指定他们希望步行多远、是否必须返回原位、避开山丘、危险道路、不穿过任何道路、平均步行速度等。

我一直在寻找一个基于 java 的库或服务，它生成一个路由但失败了。

谁能推荐一个会自动生成路由的java库？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:41:40.580

有趣的想法。我从未见过与您的要求完全匹配的任何库或可用实现。但是，您尝试做的是基本的路线优化。

查看 google 路线 API (https://developers.google.com/maps/documentation/directions/) 和一组预定义（您设置的）城市周围的航路点的组合。航路点代表“图形”中的节点，边缘是它们之间的路线。航点有坐标，因此您可以映射它们。然后你为每条边分配权重（偏好）并使用谷歌计算路点之间的距离。提取与您的距离偏好匹配的路线，然后选择具有最佳“重量”偏好的路线。

# jquery - 如何将图像源传递给和关闭模态窗口？

> ID：12312785
> 
> 赞同：1
> 
> 时间：2012-09-07T06:23:26.677
> 
> 标签：jquery

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:40:15.993

在`.click()`激活模态窗口的功能上，您可以从`<a href="" ...><img src="" ... /></a>`标签中获取参数并修改模态窗口对吗？

例如，您有这样的图像：

```
<a href="images/myimage-big.jpg" class="modal" title="My Image">
    <img src="images/myimage-small.jpg" title="My Image">
</a> 
```

而且，`.click()`功能可以是这样的：

```
$(".modal").click(function(){
    var imageUrl = $(this).attr("href");
    $(".window img").attr("src", imageUrl);
    $('#mask,.window').fadeIn();
}); 
```

# javascript - node.js 日志模块 bunyan 更改时区

> ID：12312786
> 
> 赞同：5
> 
> 时间：2012-09-07T06:23:30.773
> 
> 标签：javascript, node.js, logging, timezone

我正在使用这个日志模块 bunyan.js，它包含在框架 restify.js 中。该模块确实在日志文件/控制台中打印了一个时间，但是，我想将时间更改为 UTC/GMT，不确定是否可以修改模块代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-06-29T18:49:25.253

如果您不想在流程中的其他任何地方使用本地时间，实现您想要的一种方法是更改​​流程的时区。通过在应用程序启动时编写此语句：

```
process.env.TZ = 'UTC' 
```

或者通过从命令行使用环境变量启动它，如下所示：

```
TZ=UTC node main.js 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2018-03-20T07:20:02.760

我也遇到了同样的问题，并通过添加自定义属性 localtime 来解决它，同时使用 bunyan.createLogger 方法创建记录器，如下所示：

```
var init = function () {
    log = bunyan.createLogger({
        name: 'myLogs',
        src: true,
        localtime: new Date().toString();
    });
}; 
```

通过这样做，我在我的日志中获得了一个名为 localtime 的额外字段，其中包含根据我的时区的适当时间。

希望这可以帮助。

# javascript - asp.net 网站的下拉菜单

> ID：12312789
> 
> 赞同：0
> 
> 时间：2012-09-07T06:23:46.550
> 
> 标签：javascript, jquery, asp.net, html, css

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T06:33:49.067

搜索一点谷歌，我偶然发现了这个网站：

[http ://tympanus.net/codrops/2010/11/25/overlay-effect-menu/](http://tympanus.net/codrops/2010/11/25/overlay-effect-menu/)

有一个很棒的教程，用于一种很棒的 jquery 下拉菜单

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:40:41.520

我为此目的使用[Superfish 。稍微自定义时支持多级和图像。](http://archive.plugins.jquery.com/project/Superfish)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T10:18:37.233

给你一个简单的例子：

**HTML：**

```
<ul id="menu">
    <li><a href="#">Home</a></li>
    <li>
        <a href="#">about</a>
        <div class="submenu">
            <div class="col1 border-right">
                <ul>
                    <li><a href="#">about link 1</a></li>
                    <li><a href="#">about link 2</a></li>
                    <li><a href="#">about link 3</a></li>
                    <li><a href="#">about link 4</a></li>
                </ul>                                    
            </div>
            <div class="col2 border-right">
                <img src="http://www.funnycutepics.com/wp/wp-content/uploads/2011/03/fan-pet-karma.jpg" / width="100" />
            </div>
            <div class="col3">
                <img src="http://www.funnycutepics.com/wp/wp-content/uploads/2011/03/fan-pet-karma.jpg" / width="100" />
            </div>
        </div>            
    </li>
    ...
    ...
    ...
</ul> 
```

**jQuery：**

```
$("ul#menu li").hover(function(){
    $(this).find('a').next('.submenu').stop(true, true).slideToggle(300);
}, function(){
    $(this).find('a').next('.submenu').stop(true, true).slideToggle(200);
})​ 
```

**CSS：**

```
ul#menu { 
    width: 100%; 
    position: relative; 
    height: 30px; 
    background:#ccc;
    border-bottom: 1px solid #666;        
}

ul#menu li { 
    display: block; 
    float: left; 
    height: 30px; 
    line-height: 30px;      
}

ul#menu li a { display: block; padding: 0 20px; }

.submenu {
   position: absolute;
   width: 100%;
   left: 0px;
   display: none;
   border-bottom: 1px solid #ccc;    
}

ul#menu li div.submenu ul li {
   float: none;
}

.col1, .col2, .col3 {
    width: 33%;
    background: #f4f4f4;
    float: left;
}

.col2, .col3 {
    text-align: center;
}

.border-right { border-right:1px solid #ccc; } 
```

## [演示](http://jsfiddle.net/akhurshid/TXzkD/)

​</p>

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-07T09:21:52.937

使用 Telerik 菜单控制...

[http://demos.telerik.com/aspnet-ajax/menu/examples/functionality/templates/defaultcs.aspx](http://demos.telerik.com/aspnet-ajax/menu/examples/functionality/templates/defaultcs.aspx)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-07T06:27:56.000

[我对Telerik 的 Kendo UI 菜单](http://demos.kendoui.com/web/menu/index.html)有很好的体验。

# html - 对齐到最右边

> ID：12312792
> 
> 赞同：0
> 
> 时间：2012-09-07T06:24:04.503
> 
> 标签：html, css, alignment

我有以下代码，例如：

**JSFiddle：http:** [//jsfiddle.net/ntcg3/4/](http://jsfiddle.net/ntcg3/4/)

**HTML：**

```
<html>
    <p class="hey">hi</p>
</html>​​​​​​​​​​​ 
```

**CSS：**

```
.hey {
    width:100%;
    background-color:red;
    margin:0;
    padding:0;
} 
```

​</p>

页面右侧仍有一些填充。

我怎样才能摆脱那个填充，使红色背景颜色延伸到页面的最后？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:34:37.343

试试这个：

```
display:block;
text-align:right; 
```

你会得到你需要的输出

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:28:27.733

尝试使用以下 CSS

```
*{margin:0; padding:0} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T06:33:51.680

当您默认创建 HTML 页面时，`<body>`以及其他一些元素，如段落标签 ( `<p>`)、标题标签 ( `<h1>`、`<h2>`.. `<h6>`) 等...具有默认`padding`和`margins`

因此，您需要通过添加以下 css 来清除这些边距：

```
html, body, p, h1, h2, h3, h4, h5, h6 {
    margin:0;
    padding:0;
} 
```

有关更多详细信息，请参阅[**CSS 重置**](http://meyerweb.com/eric/tools/css/reset/)

> 重置样式表的目标是减少浏览器在默认行高、页边距和标题字体大小等方面的不一致。

**CSS 重置的示例：**

```
html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-07T06:34:52.147

试试这个：

```
.hey {
    width:100%;
    margin:0; 
    padding:0;
    background-color:red;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-07T06:36:15.357

你应该知道，浏览器给元素添加了自己的样式，和在 ul 标签上创建的边距一样，在 body 标签上也有一个边距。我建议首先检查元素（大多数浏览器上的 control + shift + c ），以便您熟悉这些生成的样式，或者有许多“重置” css 文件首先从样式中删除填充和边距或其他类似的东西

总之，如果你包括： html, body { margin: 0; 填充：0；它将确保 html 和 body 标签不使用任何边距或填充

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-07T06:36:33.780

在您的 css 文件的开头，您需要重置这些值。

```
html, body, span, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, code, del, dfn, em, img, q, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, caption, tbody, tfoot, thead,  article, aside, dialog, figure, footer, header, hgroup, nav, section {margin:0;padding:0;border:0;font-weight:inherit;font-style:inherit;font-size:100%; } 
```

它会将您的所有默认值重置为零。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-07T06:36:47.960

尝试设置；

```
body,html{
    padding: 0;
    margin: 0;
} 
```

***[这](http://jsfiddle.net/blasteralfred/AUmat/)***是工作小提琴。

# jquery - Wordpress 媒体上传弹出窗口不显示上传表单

> ID：12312798
> 
> 赞同：1
> 
> 时间：2012-09-07T06:24:41.947
> 
> 标签：jquery, wordpress, popup

我很难找到这个问题。当我尝试使用添加媒体按钮上传图像时，弹出窗口不显示上传表单。清除浏览器缓存似乎可以暂时解决问题，但几个小时后问题又出现了。![在此处输入图像描述](../Images/72577a2d4b2b1ff1ff7d665c6367d54f.png)

编辑：

Chrome 正在返回此错误：拒绝显示文档，因为 X-Frame-Options 禁止显示。

# ios - 使用 UILabel 调整 uiview 的大小并正确设置动画

> ID：12312802
> 
> 赞同：4
> 
> 时间：2012-09-07T06:25:00.587
> 
> 标签：ios, cocoa-touch, uiview, uiviewanimation

我有一个 UIView 作为容器，里面有一个 UILabel，如下所示：

```
-------------       ---------
|           |       |       |
|Label text |       |Label..|
|           |  -->  |       |
|           |       |       |
|           |       |       |
-------------       --------- 
```

现在当我使用：

`UIView animateWithDuration:animations:`

并尝试将 UIView（包含 UILabel）的宽度设置为更小，然后在动画期间 UILabel 突然替换为“...”而没有平滑过渡。我将 UILabel 自动调整掩码设置为 UIViewAutoresizingFlexibleWidth、UIViewAutoresizingFlexibleRightMargin 以使其保持在左侧并将 contentmode 设置为左​​侧。

尝试其他内容模式，例如：缩放以填充，Aspect fit，Aspect fill 也不能解决我的问题，因为它们会缩放文本，然后看起来很奇怪。

有人知道如何为 UILabel 顺利过渡吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-07T06:51:04.407

前段时间我以所描述的方式为我的标签设置了动画，但你必须付出一些代价。基本思想： - 使用 clipsToBounds:YES 将标签添加到容器视图。- 不要为标签框架设置动画，而是为容器视图的框架设置动画，这样你的标签就会有一个平滑的过渡。- 为省略号 (...) 使用单独的标签，以便您也可以为这部分设置动画。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:58:06.733

不幸的是，标签不能缩放；更改它的框架会更改文本的放置位置，但文本的大小不会以这种方式缩放。所以基本动画已经结束，另一种方法是触发一个计时器，每次计时器触发时，该计时器将标签的框架缩小预定量。

当然，您需要将标签`setAdjustsFontSizeToFitWidth`属性设置为`YES`.

**注意：**如果可能，请避免实际每 5/1000 秒触发一次计时器。

```
- (void)fireTimer
{
    timer = [NSTimer scheduledTimerWithTimeInterval:0.005 target:self selector:@selector(animate) userInfo:nil repeats:YES];
}

- (void)animate
{
    [label setAdjustsFontSizeToFitWidth:YES];
    if (label.frame.size.width > 100) {
        [label setFrame:CGRectMake(label.frame.origin.x, label.frame.origin.y, label.frame.size.width-1, label.frame.size.height)];
    }else{
        [timer invalidate];
        timer = nil;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-07T18:31:46.777

我在自动旋转期间调整 UILabel 的大小时遇到​​了类似的问题，并通过像这样使用 CADisplayLink 解决了它。

首先，在 willAnimateRotationToInterfaceOrientation 方法中调用 displayLinkTimer。

```
displayLinkTimer = [CADisplayLink displayLinkWithTarget:self selector:@selector(resizeTextLabel)];
[displayLinkTimer addToRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode]; 
```

然后，通过以与我创建的名为 textView 的不可见 UIView 相同的速率调整标签的大小。textView 的框架与我希望 UILabel 的框架相同，并且它的大小正在 willAnimateRotationToInterfaceOrientation 方法中更改。通过访问 textView 的presentationLayer，我能够以相同的速度调整大小。

```
- (void)resizeTextLabel{
 if (UIDeviceOrientationIsLandscape([UIDevice currentDevice].orientation)) {
    if (textLabel.frame.size.width < textView.frame.size.width -20) {
        textLabel.frame = CGRectMake(0, 0, [[textView.layer presentationLayer] frame].size.width, [[textView.layer presentationLayer] frame].size.height);
    }else{
        [timer invalidate];
        timer = nil;
    }
 }
 else{
    if (textLabel.frame.size.width > textView.frame.size.width -20) {
        textLabel.frame = CGRectMake(0, 0, [[textView.layer presentationLayer] frame].size.width, [[textView.layer presentationLayer] frame].size.height);
    }else{
        [timer invalidate];
        timer = nil;
    }
  }
} 
```

希望这可以帮助某人。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-11-27T19:19:02.377

老问题，但这对我有帮助：

```
 override var frame: CGRect {
        didSet {
            self.layoutSubviews()
        }
    } 
```

# java - java是否应该允许将类名定义为与泛型类型参数相同？

> ID：12312805
> 
> 赞同：4
> 
> 时间：2012-09-07T06:25:29.633
> 
> 标签：java, generics

我在同一个包中创建了如下类`test`。这只是为了测试java是否真的允许它。它确实如此，但随之而来的是问题。

```
package test;

public class E {
}

package test;

public class T {
}

package test;

import test.E;
import test.T;

public class K<E, T> {

E e;
T t;

public K(E e, T t) {
    this.e = e;
    this.t = t;
}

public static void main(String[] args) {
    K k = new K<E, T>(new E(), new T());
}
} 
```

上面的代码给出了多个编译问题

```
Multiple markers at this line
- Cannot make a static reference to the non-static type E
- Cannot make a static reference to the non-static type T
- Cannot make a static reference to the non-static type T
- Cannot make a static reference to the non-static type E
- K is a raw type. References to generic type K<E,T> should be 
 parameterized 
```

它清楚地表明编译器在 E 和 E 类之间对 T 相同。

所以解决方法是使用包定义它的真实类型。

```
 K k = new K<test.E, test.T>(new test.E(), new test.T()); 
```

现在，如果所有这些类都在`default package`其中，则无法解决此编译问题。所以问题是java是否应该允许在中声明这些类`default package`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T07:58:31.703

> 它清楚地表明编译器在 E 和 E 类之间对 T 相同。

我认为你搞错了。我认为，如果您仔细阅读 JLS 的相关部分（我稍后会查找它们），您会发现它们清楚地说明了在各种情况`E`下`T`应该解决的问题。如果编译器的分辨率错误，我会感到非常惊讶；即不实施JLS。

实际上，困惑在于编写代码的人的脑海中......

这里的问题是关于什么优先于什么的规则可能不是你（和典型的程序员）所期望的。但他们就像是有充分的理由一样。

通常这无关紧要，但如果您忽略正常的 Java 命名约定并为类使用单字母名称，那么您可能会被烧毁。

> 所以问题是java应该允许在默认包中声明这些类吗？

或者，“你”是否应该忽略 Java 类命名约定？

坦率地说，如果程序员忽略样式指南/建议，他们可能会以多种方式伤害自己。但是如果你试图过多地保护程序员，你实际上会伤害他/她，因为你无法实现你*需要*突破极限的东西。最好的政策是（IMO）不要将程序员视为孩子。如果他们真的想用锋利的刀来玩杂耍……就让他们吧。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-07T06:28:41.947

这是非常好的研究。

但是，您仍然可以使用 name 创建一个类`String`，Java 从未抱怨过使用相同的类名。要区分您是否使用 String 类（或）Java 提供的 String 类，您需要附加包（全名）。

正如马特鲍尔所说，不应该使用默认包。

向后兼容性可能是泛型类型未定义为“保留字”的另一个原因

无论是否允许（或）相同的类名，我认为这就是包的用途。只要有办法区分我们指的是哪个类，我认为允许同名是完全可以的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-07T07:18:58.783

如果您愿意，您可能会感到非常困惑。我不确定编译器是否可以防止您编写令人困惑的代码，但我确实认为编译器应该尝试在其错误消息中明确。

```
public class T<T> {
    public T() {
    }

    public static <T> T T() {
        T T = null;
        return T; // which T is this?
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-07T07:35:52.673

考虑到你可以写

```
public class String<Object>{} 
```

禁止与您命名类型参数的名称相同的类或禁止您将类型参数命名为任何现有类都是疯狂的（名称冲突的类可以来自将来创建的另一个 jar，因此类型参数的任何名称都可以与名称相同某类的，反之亦然）

# android - android中的异步图像列表和缓存

> ID：12312806
> 
> 赞同：2
> 
> 时间：2012-09-07T06:25:36.300
> 
> 标签：android, caching, image-caching

我是 android 新手，需要有关显示异步图像列表（图像集）的最佳示例的帮助。并且有兴趣了解图像缓存的概念。我们如何使用低内存进行图像列表？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:34:23.610

请参阅开发人员文档，它显示了一些管理图像的选项：

[Android 开发者：高效显示位图](http://developer.android.com/training/displaying-bitmaps/index.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:30:16.547

看：

一个例子：[https ://github.com/tingzi/android-app](https://github.com/tingzi/android-app)

# c# - 锁定地图但保持图钉可用

> ID：12312820
> 
> 赞同：1
> 
> 时间：2012-09-07T06:26:18.997
> 
> 标签：c#, xaml, silverlight, windows-phone

我的应用程序中有一个 bing 地图，用户可以使用以下功能锁定它：

```
private void btnLock_Checked(object sender, RoutedEventArgs e) {
  if (btnLock == null || btnLock.IsChecked == null) {
    return;
  }
  map.IsHitTestVisible = !btnLock.IsChecked.Value;
} 
```

现在，当我在地图上有图钉时，我希望用户仍然能够点击它们，但是当地图被锁定时这是不可能的。我如何防止用户拖动地图但让他们能够点击图钉？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T22:34:32.547

如果有一个 bool 属性可以设置为 false，那就太好了，但它看起来不存在。这个怎么样？

> 您可以通过处理地图中的双击、拖动等事件并设置 e.Handled = true 来禁用相关的平移和缩放功能。

[http://social.msdn.microsoft.com/Forums/en/vemapcontroldev/thread/4e1ee9f7-5445-41c6-8685-0b058c42c894](http://social.msdn.microsoft.com/Forums/en/vemapcontroldev/thread/4e1ee9f7-5445-41c6-8685-0b058c42c894)

我还没有尝试过，但我想对于 Windows Phone，你会处理 MapPan、Tap、DoubleTap 和 MouseWheel 之类的事件。[http://msdn.microsoft.com/en-us/library/microsoft.phone.controls.maps.map.aspx](http://msdn.microsoft.com/en-us/library/microsoft.phone.controls.maps.map.aspx)

# c# - 如何将 SQL 中的逗号分隔值分别检索到 ListBox

> ID：12312842
> 
> 赞同：0
> 
> 时间：2012-09-07T06:28:29.220
> 
> 标签：c#, asp.net, sql, sql-server-2008

我在 SQL Server 2008 中有一个表，其中对于每个值 id，我插入了一个以逗号分隔的值列表。

所以在前端，当我从 中选择一个特定的 id 时`DropDownList`，我想将逗号分隔的值分别检索到 a`ListBox`中。

希望我的问题很清楚。请帮助...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:32:31.577

试试这个

```
 //doing this in front end - C#
 string values = getValuesFromDB(dropdownList.SelectedValue);
 myListBox.DataSource = values.Split(',');
 myListBox.DataBind(); 
```

或者

```
 foreach(string s in values.Split(','))
 {
   myListBox.Items.Add(s);
 } 
```

还有一些关于 SO 的答案显示了如何[将 CSV 转换为表格](https://stackoverflow.com/questions/12129520/how-to-run-sql-server-stored-procedure-query-for-each-value-of-a-csv/12129695#12129695)，很​​抱歉没有询问您使用的是哪个 SQL 数据库

更新

```
private string getValuesFromDB(string selectedID)
{
    //this might not be the rea; query
    string query = "SELECT commaValues FROM myTable WHERE id = " + selectedID; 
    ....
    ....
    string commaSeparatedValues = "retrieved values from this recod";
    return commaSeparatedValues;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:39:53.700

使用字符串拆分函数将为您提供数组中的值，您可以循环分配在列表框中

伪代码

```
string myids = //data retrived from DB
string [] id = myids.split(',') //I assume , as delimiter
//loop thorugh id array and assign it to listbox item.
for(int i=0; i<id.Length; i++)
{
listbox1.items.add(id[i]); //Assuming listbox1 is your Listbox control
} 
```

可能存在语法错误，但我认为您明白了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T06:40:01.733

下面是示例一旦数据进入表格，您就可以轻松地将数据绑定到列表框中。

**第1步**

在 Sql Server 窗口中执行以下过程。

fn_CommaSeparatedStringToTable 函数接受逗号分隔的字符串和一个值（'Y' 或 'N'）以在结果集中包含 NULL 和 EMPTY 字符串

```
ALTER FUNCTION [dbo].[fn_CommaSeparatedStringToTable]
(
 @CommaSeparatedValues     VARCHAR(MAX),
 @IncludeEmptyStrings    CHAR(1)
)
RETURNS @Item TABLE 
(
   RowId int IDENTITY(1, 1) NOT NULL, 
   Value VARCHAR(200)
)
 AS
  BEGIN

      DECLARE @IndefOfComma int,
     @Value VARCHAR(200),@StartPos bigint,@EndPos 

      bigint,@LengthOfString int, @ReachedEnd Char(1)

  SET @StartPos=1
  SET @EndPos=0
  SET @LengthOfString=LEN(@CommaSeparatedValues)
  SET @ReachedEnd='N'

  WHILE @ReachedEnd<>'Y'
        BEGIN
              SET @EndPos=CHARINDEX(',',@CommaSeparatedValues,@StartPos)
              IF @EndPos>0
              BEGIN
                  SET @Value = SUBSTRING(@CommaSeparatedValues, @StartPos,@EndPos-  
 @StartPos) 
                  SET @StartPos=@EndPos+1      
              END
              ELSE
              BEGIN
                 SEt @ReachedEnd='Y'
                 SET @Value = SUBSTRING(@CommaSeparatedValues,   
 @StartPos,@LengthOfString-(@StartPos-1))
              END
              IF(@Value<>'' OR @IncludeEmptyStrings='Y')
              INSERT INTO @Item(Value) VALUES(@Value)
  END
  RETURN
 END 
```

**第2步**

要访问该功能，请使用以下查询

```
 Include Empty or Null String in the result

  SELECT * FROM [dbo].[fn_CommaSeparatedStringToTable]
  ('ALICE,BRAD,JOHN,JOE,MIC,SCAIF,JEMY, ,','Y')

 Do not include Empty or Null String in the result 
SELECT * FROM [dbo].[fn_CommaSeparatedStringToTable]
('ALICE,BRAD,JOHN,JOE,MIC,SCAIF,JEMY, ,','N') 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-07T06:43:33.420

以这种方式将值存储在数据库中并不是一个好主意，因为：

1：如果您想填写下拉列表，您可能会发现需要不同ID的点，例如：

```
1 - First Otion
3 - Second Option
11 - Third Option 
```

然后很难仅从值中解码。

2：解析它们总是要花更长的时间。存储不是那么“昂贵”，然后是处理器时间，所以这绝对不是一个好策略。

但是，如果您想更改它或在 SQL 级别上解决它，您可以编写一个 SQL 函数来解析分隔字符串。

一个 SQL 函数正在做这样的事情，可以提供帮助：

```
DECLARE @string varchar(500)

--Here comes the selected one
SELECT @string = Value FROM List WHERE ID = 2

DECLARE @pos int
DECLARE  @id int
DECLARE @piece varchar(500)

DECLARE @returnTable table(
ID int,
Value varchar(64)
)

SET @id = 0

IF right(rtrim(@string),1) <> ','
 SET @string = @string  + ','

SET @pos =  patindex('%,%' , @string)
WHILE @pos <> 0 
BEGIN
 SET @piece = left(@string, @pos - 1)

 INSERT INTO @returnTable VALUES(@id, @piece)

 SET @id = @id + 1

 SET @string = stuff(@string, 1, @pos, '')
 SET @pos =  patindex('%,%' , @string)
END

SELECT * FROM @returnTable 
```

# c# - 加载 Windows 窗体需要比平常更多的时间？

> ID：12312846
> 
> 赞同：0
> 
> 时间：2012-09-07T06:28:44.077
> 
> 标签：c#, winforms

我在 C# 中创建了一个具有两个窗体的 Windows 窗体应用程序。点击form1上的每个按钮时加载第二个表单。我在第一个表单上有六个按钮。第二个表单包含文本框，其内容是在运行时分配的。现在，如果我一个接一个地单击超过 3 个按钮，则表单被挂起，没有任何反应。第二次单击 form2 需要时间来加载。我不明白这背后的原因。我已将以下代码用于显示隐藏。 `{this.Hide();} to hide and {this.ShowDialog();}`打开form2。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-11-17T12:32:26.557

对话框有两种类型。

模型和模型少。

当您通过 showdialog 打开其他表单时，我们必须使用该对话框完成工作，然后才能返回。

您可以通过调用 form2.Show() 加载的第二个表单

# ios - iOS 的移动测试自动化工具选择

> ID：12312848
> 
> 赞同：0
> 
> 时间：2012-09-07T06:28:47.183
> 
> 标签：ios, automation

我们目前正在为我们的知名客户评估移动测试自动化工具。到目前为止，我们发现以下工具很受欢迎。我们希望对一种开源工具和一种许可工具执行 POC，并根据最适合客户要求的方式进行比较研究。客户使用 iOS 出价时间。

请让我知道下面记录的每个工具的优缺点并提供建议。根据您的输入，我们将继续执行 POC。要自动化的应用程序是企业应用程序。这是我们第一次做移动测试自动化，所以如果这个问题本质上太基础，请原谅。

我们知道的工具列表：

1.  ZAP-修复
2.  茄子
3.  美欧
4.  魔猴

感谢您的所有投入/帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T15:55:04.637

最好是看看[弗兰克](https://github.com/moredip/Frank)或[葫芦](https://github.com/calabash)

# java - ScrollView 内的 ListView 也位于 Scrollview 内

> ID：12312853
> 
> 赞同：2
> 
> 时间：2012-09-07T06:29:16.407
> 
> 标签：java, android

我在 Scrollview 中有一个 Listview，并在后面的代码中手动绑定了它的数据。我的主要问题是，当我绑定数据时，我的列表视图没有扩展它的高度。我尝试将其设置为`wrap_content`，`fill_parent`但没有任何效果。这是我的 XML

```
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:id="@+id/parentScrollview"
android:layout_width="match_parent"
android:layout_height="wrap_content" >

<RelativeLayout
>

<LinearLayout >

    <ImageView
        />

    <LinearLayout
         >

        <TextView />

        <TextView />

        <LinearLayout >

            <TextView/>

            <TextView/>
        </LinearLayout>

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content" >

            <TextView/>

            <TextView />
        </LinearLayout>
    </LinearLayout>
</LinearLayout>

<View />

<TextView/>

<ScrollView
    android:id="@+id/childScrollView"
    android:layout_width="match_parent"
    android:layout_height="375dp"
    android:layout_below="@+id/view1"
    android:layout_centerHorizontal="true"
    android:layout_marginLeft="10dip"
    android:layout_marginRight="10dip"
    android:layout_marginTop="18dp"
    android:background="@drawable/scrollviewborder"
    android:scrollbarStyle="insideInset" >

    <ListView
        android:id="@+id/listFriends"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:paddingBottom="2dip"
        android:paddingLeft="2dip"
        android:paddingRight="2dip"
        android:paddingTop="2dip"
        >
    </ListView>

</ScrollView>

<Button />

</RelativeLayout>

</ScrollView> 
```

请看它是一个嵌套的 ListView，这是我的代码

```
 ArrayList<HashMap<String, String>> friendList = new ArrayList<HashMap<String, String>>();
    // adding database values to HashMap key => value
    for (int i = 0; i < friendName.length; i++) {
        // creating new HashMap
        HashMap<String, String> friend = new HashMap<String, String>();
            //merchant.put(KEY_ID, merchantIdArray[i]); 
            friend.put(KEY_FRIEND_NAME, friendName[i]);
            friend.put(KEY_THUMB_URL,imageIDs[i]);
        friendList.add(friend);
    }

    list=(ListView)findViewById(R.id.listFriends);
     adapter =new LazyAdapter(this, friendList);        
     list.setAdapter(adapter); 
```

似乎是什么问题？

**编辑** 我添加了这个代码来验证应该使用哪个滚动

```
 parentScrollView= (ScrollView) findViewById(R.id.parentScrollview);
    parentScrollView.setOnTouchListener(new View.OnTouchListener() {

        public boolean onTouch(View v, MotionEvent event) {
            // TODO Auto-generated method stub
             //Log.v(TAG,"PARENT TOUCH");
             findViewById(R.id.childScrollView).getParent().requestDisallowInterceptTouchEvent(false);
            return false;
            }
        });
    childScrollView= (ScrollView) findViewById(R.id.childScrollView);
    childScrollView.setOnTouchListener(new View.OnTouchListener() {

        public boolean onTouch(View v, MotionEvent event) {
            // TODO Auto-generated method stub
             //Log.v(TAG,"PARENT TOUCH");
             findViewById(R.id.childScrollView).getParent().requestDisallowInterceptTouchEvent(true);
            return false;
        }
    }); 
```

这样做的主要原因是我将把我的 Facebook 好友列表放在这个 Listview 中，它应该是可滚动的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:32:00.953

[问题](https://stackoverflow.com/questions/3495890/how-can-i-put-a-listview-into-a-scrollview-without-it-collapsing)如下（如Romain Guy 所述）：

> 使用 ListView 使其不滚动非常昂贵，并且违背了 ListView 的全部目的。你不应该这样做。只需使用 LinearLayout 代替。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:33:26.323

@Androyd朋友如果你不把listview放在scrollView里面，也不把scrollview放在listview里面，那么它总是更好，然后让listview填充父级或者修复dps中的一些高度，比如300dp或者你想要的高度......

# arrays - Rails 3获取数组中哈希的索引位置

> ID：12312854
> 
> 赞同：0
> 
> 时间：2012-09-07T06:29:16.153
> 
> 标签：arrays, ruby-on-rails-3, indexing

我有一个带有属性部门和点的用户模型。我按部门对用户进行了分组，并按每个部门包含的点数对它们进行了排序，如下所示在我的主页/索引视图中：

```
Accounting 158
Animal Science 98
Kinesiology 58 
```

我只是想获取数组中每个散列元素的索引，以便可以执行以下操作：

```
1\. Accounting 158
2\. Animal Science 98
3\. Kinesiology 58 
```

这是我的 home_controller 中的代码：

```
class HomeController < ApplicationController  
def index
@users = User.find(:all)
@dep_users = @users.group_by { |u| u.department}
end 
```

在我的主页/索引视图中，我有以下代码：

```
 <% @dep_users.sort.each do |department, users| %>
    <% @p = Array.new() %>

    <%= department %>
    <% for user in users %>
    <% @p << user.points %>
    <% end %>
    <%= @p.inject(:+) %>
    <% end %>
    <% end %> 
```

我曾尝试在 @dep_users 上使用 each_with_index，如下所示：

```
@dep_users.sort.each_with_index do |department, users, index| 
```

但我不断收到此错误：

```
undefined method 'each' for 0:FixNum when I do that 
```

如何获取数组中每个哈希元素的索引？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T06:47:43.957

我认为，在您的观点中移动如此多的逻辑是一个坏主意。更好的方法是定义将`[[department1, points1], [department2, points2]]`在模型中返回排序数组的新方法。然后从你的控制器调用它来创建一个实例变量。在你的视图中这个变量使用这样的代码

```
<ol>
  <% @p.each do |item| %>
    <li><%= item[0] + '&nbsp;' + item[1] %></li>
  <% end %>
</ol> 
```

让 html 将数字放在列表的每个项目之前。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:59:08.580

使用 Hash[hash_name.sort] 对哈希进行排序，因为它返回一个哈希。hash_name.sort 返回一个数组。

```
1.9.2-p320 :077 > a
=> {:sameer=>40, :rohan=>25, :prasad=>26} 

> Hash[a.sort_by{|name, age| age}]
=> {:rohan=>25, :prasad=>26, :sameer=>40} 
> Hash[a.sort_by{|name, age| name}]
=> {:prasad=>26, :rohan=>25, :sameer=>40} 
```

# javascript - 未捕获的类型错误：无法读取未定义的属性“中止”

> ID：12312855
> 
> 赞同：2
> 
> 时间：2012-09-07T06:29:21.363
> 
> 标签：javascript, jquery, ajax, jquery-ui, jquery-ui-dialog

我的代码有问题，一个按钮从 jQuery UI 对话框中调用这个 ajax 请求

```
myaudioupload = $.ajax({
        url: "some url",
        type: "POST",
        data: formdata,
        processData: false,
        contentType: false,
        success: function (data) {
        var data = jQuery.parseJSON(data);
        console.log('json parsed');
            if(data.status==1){
                console.log('status ok');
            }
            else{
                console.log('status not ok');
            }
        }
    }); 
```

如果用户想取消请求，用户关闭对话框，然后执行以下行：

```
close: function(event, ui) { 
    if(myaudioupload.abort()) {
        console.log('aborted');
        $('#uploadaudioform')[0].reset();
    }} 
```

这仅在上传数据时才有效，而不是在上传成功之后或触发上传之前。在这些情况下，会显示此消息

> 未捕获的类型错误：无法调用未定义的方法“中止”

我什至在中止时尝试过这些方法：

```
if(myaudioupload!=='undefined' && myaudioupload.abort=='function'){
                        myaudioupload.abort();
                        console.log('aborted');
                        $('#uploadaudioform')[0].reset();
                        } 
```

但这也行不通；发生同样的错误。

所以请帮助我该怎么做，或者如果我的代码有问题。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T06:32:58.223

改变

`myaudioupload!=='undefined'`

到

```
typeof myaudioupload !== 'undefined' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T06:44:29.533

我认为`myaudioupload.abort=='function'`检查属性类型不是正确的方法，请使用

```
 typeof(myaudioupload.abort)  == 'function' instead. 
```

# java - 仅在 Pattern.compile 中对单个 # 进行验证

> ID：12312857
> 
> 赞同：0
> 
> 时间：2012-09-07T06:29:26.640
> 
> 标签：java, validation

我正在使用 Pattern.compile("^[a-zA-Z0-9 #/-]*$"); 用于验证。它允许多个#，我如何限制用户输入多个#？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T06:37:05.433

我同意@Matt 的观点，即计数`#`是最简单的方法。无论如何，我使用正则表达式提供了另一种解决方案。

**注意：**我不确定我是否正确理解了您的问题，但我想您想修改您的 RegEx 以允许 one 或 none `#`。

`Pattern.compile("^[a-zA-Z0-9 /-]*#?[a-zA-Z0-9 /-]*$")`

**说明：**它允许在第一组中定义的任何字符。它们的数量是无限的。之后最多可以有一个`#`字符，然后再有无限数量的非`#`符号。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:31:01.833

最简单的方法就是单独检查`#`字符串中出现的次数。

# backbone.js - 我是 jasmine-sinon 的 TDD 骨干新手。主干单元测试中的更改事件

> ID：12312859
> 
> 赞同：0
> 
> 时间：2012-09-07T06:29:39.807
> 
> 标签：backbone.js, tdd, jasmine, js-test-driver

我正在测试主干中选择框视图的事件更改，该视图“应该在更改时提供到 router.navigate 的正确路径”。这是场景，如果我在下拉列表中选择一个值，它应该重定向到正确的 url。

**这是测试（campaign.test.js）：**

```
it('should provide the correct path to router.navigate when changed', function() {
    var routeName = 'test_campaign';
    var routerSpy = sinon.spy(Insights.router, 'navigate');

    this.view.$el.bind('change', function() {
      expect(routerSpy).toHaveBeenCalledWith('campaign/' + routeName, true);
    });

    //create the option element holding the test value
    this.view.$el.append($('<option value="' + routeName +'" selected="selected" />'));

    this.view.$el.trigger('change');

    routerSpy.restore();
  }); 
```

**这是模块（campaign.js）：**

```
DropdownView: Backbone.View.extend({
  tagName: 'select',
  className: 'campaign-list',
  events: {
     'change' : 'navCampaign'
  },

  initialize: function() {
    _.bindAll(this);
    this.collection.on('reset', this.render);
    this.collection.on('add', this.addCampaign);

    //if no campaigns exist then add a dummy placeholder
    if(this.collection.models.length === 0) {
      this.$el.append('<option value="">No Campaigns</option>');
    }

  },

  navCampaign: function() {

    Insights.router.navigate();
  },

  addCampaign: function(campaign) {
    //remove the No Campaigns placeholder when campaigns are added
    var firstChild = this.$el.children(':first');
    if(firstChild.attr('value') === '') {
      firstChild.remove();
    }

    var view = new Insights.Campaign.DropdownItem({ model: campaign });
    var item = view.render().el;
    this.$el.append(item);
  },

  render: function() {
    this.collection.each(this.addCampaign);
    return this;
  }
}) 
```

在我的测试中，我创建了一个新的 OPTION 元素，然后设置了一个选中属性的值。

如何将其作为更改事件的 currentTarget 传递并将其发送到 trigger()？

或者有没有更简单的方法来做到这一点？

我得到这个测试失败。错误：预期函数已使用“campaign/test_campaign”调用，true。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-09T10:16:16.840

您的测试必须如下所示：

```
 it('should provide the correct path to router.navigate when changed', function() {
    var routeName = 'test_campaign';
    var routerSpy = sinon.spy(Insights.router, 'navigate');
    var view = new DropdownView();

    //create the option element holding the test value
    this.view.$el.append($('<option value="' + routeName +'" selected="selected" />'));

    this.view.$el.trigger('change');
    expect(routerSpy).toHaveBeenCalledWith('campaign/' + routeName, true);

    routerSpy.restore();
  }); 
```

首先，您必须在测试中创建视图的实例，并且必须在创建视图之前创建间谍。两者都可以在`beforeEach`块中完成。

当您在事件处理程序中添加期望代码时，可能会在调用路由器上的导航方法之前调用它。因为两个处理程序被添加到侦听器中，一个用于在路由器上调用导航，另一个用于测试它是否在路由器上被调用。由于您无法确保首先调用哪个，因此当首先调用测试中的侦听器时，测试将失败。

也许最好通过将带有数据的集合传递给视图来测试它，而不是直接在测试中设置视图元素的 DOM。因此，您还将测试您的`initialize`and`addData`方法是否有效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T03:56:08.347

以下是使此测试通过的更改。:)

**我在campaign.test.js 中**更改了变量routeName 的值

 **从

```
 var routeName = 'test_campaign'; 
```

至

```
 var routeName = this.view.$el.val(); 
```

然后将此测试实施到**campaign.js**

```
navCampaign: function() {
    var newRoute = 'campaign/' + this.$el.val();
    Insights.router.navigate(newRoute, true);
  } 
```

我得到了这个绿色。:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T02:27:26.883

抱歉，我想在队友的帮助下把这件事说清楚。

`var routeName = this.view.$el.val();`指向空

通过使价值动态化，它将失去测试的有效性，

所以我放回`var routeName = 'test_campaign'.`

这个测试的重点是根据一组预定义的输入来指定它所期望的值。**

# c# - 如何在 C# 中将空值保存到 Mysql 表 DateTime 字段

> ID：12312864
> 
> 赞同：4
> 
> 时间：2012-09-07T06:30:25.907
> 
> 标签：c#, mysql, windows-applications

如果 DateEdit（dev express C# windows 应用程序控件）editvalue 为空，我想为 dateTime 字段保存空值。

如果 dateEdit 控件有一个编辑值，它保存选定的日期。如果它为空，它保存一个默认日期但是如果 dateEdit 值为空，我想保存空值。

示例代码：我正在使用实体框架，

```
Orders ord= new Orders();
ord.OrderDate= dateEdit1.DateTime;**//here i want to save null value if the dateEdit control value is null** 
Objcontext.Orders.AddObject(ord);
Objcontext.SaveChanges(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:33:58.360

你在用`ADO Command with Parameters`吗？如果是这样，那么试试*这个*，

```
// other codes here
command.AddWithValue("@paramName",  (dateEdit.EditValue == null) ? DBNull.Value : dateEdit.EditValue); 
```

`dateEdit Control`DevExpress 组件对吗？

或尝试

```
Orders ord = new Orders();
ord.OrderDate = (dateEdit1.DateTime == null ? DBNull.Value : dateEdit1.DateTime); //here i want to save null value if the dateEdit control value is null 
Objcontext.Orders.AddObject(ord);
Objcontext.SaveChanges(); 
```

![在此处输入图像描述](../Images/6daa40dd3815480f8fd5f1b92c7a0d80.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:38:16.203

您应该将 Field 属性设置为 NULL 以接受 NULL 值。否则它将像“0000-00-00”一样保存。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T06:40:09.673

使用 Nullable 类型：

```
DateTime ? nullableDate = GetSomeDate(); 
```

这也适用于其他值类型。

还有一个 DBNull 类可能对此类操作有所帮助。使用可能是这样的：

```
sqlCommand.Parameters.AddWithValue("created",nullableDate??DBNull.Value); 
```

或类似的。从 .NET Framework 4 开始，MS 希望我们为空值传递 DBNull.Value。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-07T06:55:26.187

**为您的 DateEdit 存储空 DateTime 可能会有所帮助。**

```
DateTime? DateEdit = null; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-07T07:22:28.263

```
Orders ord = new Orders();

if(dateEdit1.EditValue!=null)

{ord.OrderDate = dateEdit1.DateTime.Date}

else

{ord.OrderDate= null}

dateEdit control value is null 
Objcontext.Orders.AddObject(ord);
Objcontext.SaveChanges(); 
```

现在，我`null`可以`DateTime`在`DateEdit`.

# android - 在为安卓设计短信应用时需要建议

> ID：12312866
> 
> 赞同：1
> 
> 时间：2012-09-07T06:30:32.687
> 
> 标签：android, listview, sms

我正在为安卓设计一个短信应用程序。我已成功发送和接收短信。我一直面临的唯一问题是我的应用程序的收件箱和发件箱的布局。我正在制作我想要输出的图像以及我现在实际得到的图像。谁能指导我达到预期的结果。

我用来填写收件箱的代码如下

```
public class Inbox extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_inbox);
    ListView list = (ListView) findViewById(R.id.list);
    List<String> msgList = getSMS();
    ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,android.R.layout.simple_list_item_1, msgList);
    list.setAdapter(adapter);
}

public List<String> getSMS() {
    List<String> sms = new ArrayList<String>();
    Uri uriSMSURI = Uri.parse("content://sms/inbox");
    Cursor cur = getContentResolver().query(uriSMSURI, null, null, null,null);
    while (cur.moveToNext()) {
        String address = cur.getString(cur.getColumnIndex("address"));
        String body = cur.getString(cur.getColumnIndexOrThrow("body"));
        sms.add("Number: " + address + " .Message: " + body);
    }
    return sms;
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_inbox, menu);
    return true;
}
} 
```

![截屏](../Images/a995b0ccac36f97b559a666eea373ca2.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:50:44.720

创建两个活动或片段，并在第一个中仅从数据库中获取数字，在第二个中获取与该数字相关的消息并学习如何创建自定义列表视图

推荐链接：

[http://www.androidhive.info/2012/02/android-custom-listview-with-image-and-text/](http://www.androidhive.info/2012/02/android-custom-listview-with-image-and-text/)

[http://www.ezzylearning.com/tutorial.aspx?tid=1763429](http://www.ezzylearning.com/tutorial.aspx?tid=1763429)

[http://www.thepcwizard.in/2012/09/android-creating-custom-listview-for.html](http://www.thepcwizard.in/2012/09/android-creating-custom-listview-for.html)

# objective-c - Objective-c FSEventStreamCreate

> ID：12312871
> 
> 赞同：1
> 
> 时间：2012-09-07T06:30:48.667
> 
> 标签：objective-c, macos

我正在尝试使用 FSEventStreamCreate 监听文件更改 - 虽然没有调用回调。以下是代码，应该按原样工作，但是？

提前致谢

```
#import "FileChangeController.h"
#include <CoreServices/CoreServices.h>

@implementation FileChangeController

- (id) init{
    self = [super init];
    if (self != nil) {
//        fm = [NSFileManager defaultManager];
//        images = [NSMutableArray new];
        [self initializeEventStream];
    }
    return self;
}

- (void) awakeFromNib{

}

void fsevents_callback(ConstFSEventStreamRef streamRef,
                       void *userData,
                       size_t numEvents,
                       void *eventPaths,
                       const FSEventStreamEventFlags eventFlags[],
                       const FSEventStreamEventId eventIds[])
{
    //FileChangeController *ac = (__bridge FileChangeController *)userData;
    NSLog(@"Test");
    size_t i;
    for(i=0; i<numEvents; i++){
        //[ac addModifiedImagesAtPath:[(NSArray *)eventPaths objectAtIndex:i]];
        //[ac updateLastEventId:eventIds[i]];
    }
}

- (void) initializeEventStream
{
    NSString *myPath = @"/Users/NameOfUser/Desktop/Untitled.js"; //NSHomeDirectory();
    NSArray *pathsToWatch = [NSArray arrayWithObject:myPath];
    void *appPointer = (__bridge void *)self;
    FSEventStreamContext context = {0, appPointer, NULL, NULL, NULL};
    NSTimeInterval latency = 3.0;

    stream = FSEventStreamCreate(NULL,
                                 &fsevents_callback,
                                 &context,
                                 (__bridge CFArrayRef) pathsToWatch,
                                 kFSEventStreamEventIdSinceNow, //[lastEventId unsignedLongLongValue],
                                 (CFAbsoluteTime) latency,
                                 kFSEventStreamCreateFlagUseCFTypes
                                 );

    FSEventStreamScheduleWithRunLoop(stream, CFRunLoopGetCurrent(), kCFRunLoopDefaultMode);
    FSEventStreamStart(stream);
}

@end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T08:39:22.567

试试这个，参数有点改变，但它对我有用。

```
static void fsEventsCallback(ConstFSEventStreamRef streamRef, void *clientCallBackInfo, size_t numEvents, void *eventPaths, const FSEventStreamEventFlags eventFlags[], const FSEventStreamEventId eventIds[]);

- (void)initializeEventStream {
    NSArray *pathsToWatch = [NSArray arrayWithObject:@"/Users/NameOfUser/Desktop/Untitled.js"];
            FSEventStreamContext context;
            context.info = self;
            context.version = 0;
            context.retain = NULL;
            context.release = NULL;
            context.copyDescription = NULL;
            stream = FSEventStreamCreate(NULL, fsEventsCallback, &context, (CFArrayRef)pathsToWatch, kFSEventStreamEventIdSinceNow, 1.0, kFSEventStreamCreateFlagWatchRoot);
            FSEventStreamScheduleWithRunLoop(stream, CFRunLoopGetCurrent(), kCFRunLoopDefaultMode);
            FSEventStreamStart(stream);

}

void fsEventsCallback(ConstFSEventStreamRef streamRef, void *clientCallBackInfo, size_t numEvents, void *eventPaths, const FSEventStreamEventFlags eventFlags[], const FSEventStreamEventId eventIds[]){
 // Your callback handling here
} 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2015-10-13T17:18:34.253

```
(void)initializeEventStream {
    NSArray *pathsToWatch = [NSArray arrayWithObject:@"/Users/NameOfUser/Desktop/Untitled.js"];
    FSEventStreamContext context;
    context.info = (__bridge void *)self;     // !!!
    context.version = 0;
    context.retain = NULL;
    context.release = NULL;
    context.copyDescription = NULL;
    stream = FSEventStreamCreate(
        kCFAllocatorDefault,                  // !!!
        fsEventsCallback,
        &context, 
        CFBridgingRetain(pathsToWatch),       // !!!
        kFSEventStreamEventIdSinceNow,
        1.0, 
        kFSEventStreamCreateFlagWatchRoot);
    FSEventStreamScheduleWithRunLoop(stream, CFRunLoopGetCurrent(), kCFRunLoopDefaultMode);
    FSEventStreamStart(stream);
} 
```

# python - 使用 Python 的正则表达式和 BeautifulSoup

> ID：12312872
> 
> 赞同：1
> 
> 时间：2012-09-07T06:30:49.050
> 
> 标签：python, regex, beautifulsoup

我必须解析（报废）网页（html）并获取一些信息，将其存储在 csv 中。

我必须同时使用 Regex 和 BeautifulSoup 来做到这一点，而且我之前绝对没有使用 Python 的经验。

如果有人可以相应地指导我编写代码，我将不胜感激。我设法安装了 python 和 BeautifulSoup。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T07:20:33.950

对于 python 3：使用以下命令读取网页：

```
import urllib.request

your_url = "http://stackoverflow.com/"   # for example

opener = urllib.request.FancyURLopener({})
f = opener.open( your_url )
vr = f.read()
vr = vr.decode()
print( vr ) 
```

并匹配一些正则表达式，例如：

```
import re

re_flags = ( re.MULTILINE | re.IGNORECASE | re.UNICODE )
m = re.search( r"<div>\s*(\d*)\s*</div>" , vr , re_flags )
if m :
    print( m.groups()[0] ) 
```

如果找到正则表达式，则匹配的字符串将写入 m.groups()[0]

显然你必须在 re.search 中使用你的个人正则表达式

访问： [http ://docs.python.org/library/re.html](http://docs.python.org/library/re.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T07:39:03.773

这是beautifulsoup doc如何解析HTML，因为你没有指定它..

```
http://www.crummy.com/software/BeautifulSoup/bs3/documentation.html#Parsing a Document 
```

正则表达式，阅读 Giggi 建议的文档，如果您不了解特定内容，请不要害怕问，但我们需要更具体的信息，您到底想解析什么？什么是输入 HTML 以及您期望的结果是什么？

# php - 增加 PHP 内存并将其降低是非常糟糕的做法吗？

> ID：12312876
> 
> 赞同：0
> 
> 时间：2012-09-07T06:31:07.997
> 
> 标签：php, memory-management, phpexcel

我编写了一个 PHP 应用程序，它使用数据库数据生成 Excel 文件。我正在使用著名的库[PHPExcel](https://stackoverflow.com/questions/4817651/phpexcel-runs-out-of-256-512-and-also-1024mb-of-ram)。使用过这个库的每个人都知道，内存管理是这个库最糟糕的地方。

所以，我的问题是，在我写完我的 excel 然后把它记下来之前，可以提高记忆力吗？

就像是，

```
error_reporting(1);
ini_set('memory_limit', '500M');
@set_time_limit(0); 
```

一旦完成

```
error_reporting(1);
ini_set('memory_limit', '128M');
@set_time_limit(0); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-07T06:36:19.397

没有必要把它放回去。`ini_set`只影响当前请求，不影响整个服务器；一旦您的请求完成，它就会隐式设置回服务器默认值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:34:02.580

这可能是让它工作的唯一方法。

与其他响应相反，可能需要降低内存限制。如果有许多同时请求，您会更快地耗尽所有内存（尽管在大多数情况下它不会很明显）。

我的意思是，这只是一个好习惯——有时每个字节都很重要。

顺便说一句，第二个`error_reporting`和第二个`set_time_limit`什么都不做。

```
$reporting = error_reporting(E_ERROR);
// some code
error_reporting($reporting); 
```

也许你是这样的？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T06:38:55.027

这样做是可以的，但不要将其设置得比需要的高。您应该对 PHPExcel 可以生成的行/列数设置一个限制，然后在该限制下测试系统的内存使用情况。

正如@duskwuff 所说，您不需要运行 ini_set 两次。它会将自己设置回您的系统配置。

# android - 当模拟器屏幕为 4 x 2 英寸时，mono for android 显示半键盘

> ID：12312879
> 
> 赞同：2
> 
> 时间：2012-09-07T06:31:25.937
> 
> 标签：android, android-emulator, xamarin.android

我有以下布局。当我点击 messageTextView 时，键盘只显示一半。它适用于模拟器中较大尺寸的屏幕，但不适用于 4*2 英寸屏幕。我想在屏幕尺寸较小时显示全键盘，例如 4*2 英寸

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_gravity="center"
    android:background="@android:color/white"
    android:orientation="vertical"
    android:padding="0dp"
    android:scrollbars="vertical"
    android:scrollbarStyle="outsideInset">
    <Button
        android:layout_width="20dp"
        android:layout_height="20dp"
        android:gravity="bottom"
        android:id="@+id/closeButton"
        android:layout_alignParentRight="true"
        android:layout_alignParentTop="true"
        android:background="@drawable/QchatClose" />
    <ScrollView
        android:id="@+id/chatHistoryScrollView"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_below="@+id/closeButton"
        android:layout_centerHorizontal="true"
        android:background="@android:drawable/editbox_background_normal"
        android:scrollbarStyle="outsideOverlay"
        android:scrollbars="vertical"
        android:fitsSystemWindows="true"
        android:layout_marginBottom="40dp"
        android:visibility="visible">
        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:gravity="center"
            android:orientation="vertical"
            android:layout_marginBottom="40dp">
            <TextView
                android:id="@+id/historyTextView"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:textColor="#000000"
                android:textSize="14dp"
                android:padding="5dp" />
        </LinearLayout>
    </ScrollView>
    <EditText
        android:id="@+id/messageTextView"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentBottom="true"
        android:background="@android:drawable/editbox_background_normal"
        android:ems="2"
        android:maxLines="2"
        android:hint="Type a Message Here!"
        android:textColor="#000000"
        android:layout_marginBottom="5dp"
        android:padding="5dp"
        android:scrollbars="vertical"
        android:scrollbarStyle="outsideOverlay"
        android:singleLine="false">
        <requestFocus />
    </EditText>
</RelativeLayout> 
```

# spring - 在Spring中将参数传递给@Configuration

> ID：12312881
> 
> 赞同：1
> 
> 时间：2012-09-07T06:31:29.570
> 
> 标签：spring

我需要创建一个有状态的原型bean，即在构造函数中获取参数。

我尝试使用@Configuration 创建该bean，但发现如果我使用参数化构造函数它不起作用......

请注意，我要传递的参数不是弹簧豆……它们是简单的 POJO……所以我不能自动装配它们。

所以这就是我想做的 -

* * *

```
@Configuration
public class MyClassFactory {

@Bean
public MyClass getMyClass(Pojo1 pojo1, Pojo2 pojo2) {

    return new MyClass (pojo1, pojo2);
}

} 
```

* * *

```
@Scope("PROTOTYPE")
public class MyClass {

public MyClass(Pojo1 pojo1, Pojo2 pojo2) {
...
}

@Autowired SomeService1 service1;
@Autowired SomeService1 service2;

...

} 
```

当然，我可以制作 MyClass applicationContextAware，并从中获取服务，而不是使其成为原型 bean……但想知道为什么不允许使用上述模式……

# perl - 使用 Perl/TK 的 perl 程序中的错误会导致内存损坏吗

> ID：12312884
> 
> 赞同：1
> 
> 时间：2012-09-07T06:31:42.257
> 
> 标签：perl, tk

我有一个不幸的任务是维护一个孤立的 Perl 程序，该程序使用 Perl/TK 创建 GUI，并在某些情况下崩溃并出现错误，例如

```
*** glibc detected *** /usr/bin/perl: corrupted double-linked list: 0x0000000003daf500 *** 
```

Perl 程序是否有可能包含导致这种行为的错误，或者我可以安全地假设 Perl 解释器和/或 Perl/Tk 中的错误负责并等待这些工具的新版本可能是最好的方法摆脱这个问题？

编辑：为了让我的问题更清楚：尝试两次销毁小部件或在已销毁的小部件上调用方法等错误是否会导致干净的错误消息，或者是否会导致我遇到的问题？

EDIT2：Perl 版本是 `5.10.0/x86_64-linux-thread-multi`

它使用这个模块：

```
use Tie::Watch;
use Tk;
use Tk::Balloon;
use Tk::Compound;
use Tk::DialogBox;
use Tk::LabFrame;
use Tk::NoteBook;
use Tk::Pane;
use Tk::ROText;
use DBI;
use Data::Dumper;
use XML::Simple::DTDReader; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T06:49:22.850

是的，这是可能的，但在这种情况下不太可能。

在 Perl（以及任何编程语言）中有多种方法可以直接访问（和修改）程序内存。对此有扩展（Win32::Process::Memory for Windows），但在 Linux 下，最简单的方法是打开 /proc/ *pid* /map（进程内存，映射到随机访问文件）并对其进行操作。

所以，绝对有可能。

然而，您的 Perl 程序**不太可能**使用这些技巧中的任何一个来直接操作它自己的内存。如您所想，最可能的罪魁祸首是使用的库之一（在本例中为 Tk）。

您可以尝试使用[Devel::Trace](http://search.cpan.org/perldoc?Devel%3a%3aTrace)模块来查看程序在崩溃之前尝试执行的操作。

如果您发现它总是在特定行崩溃，您可以尝试更改其行为以避免触发底层库中的错误。不过，这有点碰巧。

如果有人知道 Perl/Tk 中的这种错误，那可能会有所帮助。您的程序是否使用了其他使用 C 库的库（例如，不是“纯 perl”库）而不是 Tk？

# ios - Magical Records - 如何使用关键路径映射关系？

> ID：12312888
> 
> 赞同：0
> 
> 时间：2012-09-07T06:31:47.807
> 
> 标签：ios, core-data, magicalrecord

我有一个`NSManagedObjectModel`名为**AOStartup**的子类。我正在接收其中包含嵌套对象的 XML，我称之为**AOReportType**。在我的**AOStartup对象上，我有一个名为****reportTypes**的一对多关系，它的目标是**AOReportType**和一个反向关系集。

我将 XML 解析为`NSDictionary`（创建**AOReportType**数据内容的内部数组），然后使用以下方法将其映射到**AOStartup**对象：

```
[startup importValuesForKeysWithObject:dictionary]; 
```

所有属性映射正确。但是，这种关系映射不正确。

这是相关`NSDictionary`代码（从控制台日志复制并粘贴）：

```
reportTypes = {        
    reportType = (
        {
            "_id" = 727;
            backgroundColor = FFFFFF;
            mayCreate = false;
            name = "Animal Codes";
            navBarColor = 350000;
            referenced = false;
            reportName = Code;
            reportVersion = 0;
        },

        {
            "_id" = 718;
            backgroundColor = FFFFFF;
            mayCreate = false;
            name = "Business License Codes";
            navBarColor = 350000;
            referenced = false;
            reportName = Code;
            reportVersion = 0;
        }, 
```

这是模型对象构建器中**AOStartup上的****reportTypes**关系及其用户信息的屏幕截图：

 **[http://i.stack.imgur.com/nAWfi.png](http://i.stack.imgur.com/nAWfi.png)

另请注意，我已将`mappedKeyName`密钥设置为**reportTypes**关系`"reportTypes.reportType"`的用户信息。

 **为什么嵌套对象映射不正确？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T02:41:48.923

这是 Magical Records / Magical Import（截至 2012 年 9 月 7 日的主分支）中的一个错误。

目前，magic 记录**确实**支持通过 KVC 路径映射属性。但是，它不**支持**KVC 路径的映射关系。

我已经在我的本地分支中解决了这个问题，我将提出一个拉取请求以将其合并到 master 中。

供参考 -

问题在于第 129 行附近的**NSManagedObject+MagicalDataImport.m**。这一行是错误的：

```
 id relatedObjectData = [relationshipData valueForKey:lookupKey]; 
```

它实际上应该是：

```
 id relatedObjectData = [relationshipData valueForKeyPath:lookupKey]; 
```****

# android - android中的下拉列表

> ID：12312891
> 
> 赞同：0
> 
> 时间：2012-09-07T06:31:53.547
> 
> 标签：android, quickaction

在 android 中使用快速操作对话框删除列表？

下拉列表应该是

![在此处输入图像描述](../Images/a746ae550701e1dc6654dab227bf78fd.png)

我不想使用微调器。

我已经尝试过示例

[http://www.chupamobile.com/tutorial/details/63/Quick+Actions+-+Tutorial/](http://www.chupamobile.com/tutorial/details/63/Quick+Actions+-+Tutorial/)

和

[http://www.londatiga.net/it/how-to-create-quickaction-dialog-in-android/](http://www.londatiga.net/it/how-to-create-quickaction-dialog-in-android/)

请帮忙。

提前致谢......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:34:52.027

查看这个开源项目（“一个使用 Gallery3D 应用样式创建 QuickAction 对话框的小型 android 库”）

[https://github.com/lorensiuswlt/NewQuickAction3D](https://github.com/lorensiuswlt/NewQuickAction3D)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-07T06:47:29.560

那么希瓦吉，

使用直接选项是不可能的，如果我没有错，您需要为此自定义库。因为 QuickAction 最好用于提供最少的操作集。

但是，作为替代方案，我建议您使用[PopupWindow](http://developer.android.com/reference/android/widget/PopupWindow.html)并将您的 ListView 集成到其中。

这应该非常适合您。

希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T06:50:44.673

您可以在此处使用[PopUpwindow。](http://developer.android.com/reference/android/widget/PopupWindow.html)弹出窗口方法 showAtLocation(View yourEditTExt, int Gravity, int x, int y) 将在 EditText 下方显示下拉列表

# c# - 如何在Sql commandText中传递int参数

> ID：12312898
> 
> 赞同：10
> 
> 时间：2012-09-07T06:32:17.853
> 
> 标签：c#, sql, stored-procedures

如何传递整数值，如 SQL 命令参数？

我正在尝试这样：

```
cmd.CommandText = ("insert_questions '" + 
cmd.Parameters.AddWithValue(store_result,store_result) + "','" + 
cmd.Parameters.AddWithValue(store_title, store_title) + "', '" + 
cmd.Parameters.AddWithValue(store_des, store_des) + "'"); 
```

store_result 是 int，其他 2 个参数是字符串类型。

store_result 给出如下错误消息。

> 参数 1：无法从 'int' 转换为 'string'

在 SP 中，还有一个 int 类型变量将获取 store_result 的值。

**传递 int 参数的正确语法是什么？**

谢谢你。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-09-07T06:45:13.870

正确的方法是

```
using(var connection = new SqlConnection(ConnectionString))
{
    connection.Open();
    using(var command = new SqlCommand("SELECT * FROM Table WHERE ID=@someID",connection))
    {
        command.Parameters.AddWithValue("someID",1234);
        var r = command.ExecuteQuery();
    }
} 
```

这意味着它甚至适用于文本查询。使用存储过程更容易 - 而不是 sql 查询，您只需提供存储过程名称：

```
using(var connection = new SqlConnection(ConnectionString))
{
    connection.Open();
    using(var command = new SqlCommand("insert_sproc",connection))
    {
        command.CommandType = CommandType.StoredProcedure;
        command.Parameters.AddWithValue("someID",1234);
        var r = command.ExecuteQuery();
    }
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-09-07T06:38:51.477

应该是这样的

```
cmd.CommandType = CommandType.StoredProcedure;
cmd.CommandText = ("insert_questions") ;
cmd.Parameters.AddWithValue("@value", valueHere);
cmd.Parameters.AddWithValue("@value2", valueHere); 
```

请注意`@value`和`@value2`是您的存储过程中声明的参数。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-09-07T06:38:24.997

试试这个：

```
 cmd.CommandText = ("insert_questions @store_result, @store_title, @store_des");
        cmd.Parameters.AddWithValue("@store_result", store_result);
        cmd.Parameters.AddWithValue("@store_title", store_title);
        cmd.Parameters.AddWithValue("@store_des", store_des); 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-09-07T06:38:53.643

您不连接 SqlParameter 实例；反而：

```
cmd.CommandText = "insert_questions @store_result, @store_title, @store_des";
cmd.Parameters.AddWithValue("store_result", store_result);
cmd.Parameters.AddWithValue("store_title", store_title);
cmd.Parameters.AddWithValue("store_des", store_des); 
```

中使用的名称`AddWithValue`在 TSQL 中用作`@store_result`等。

如果我们假设它`inert_questions`实际上是一个 proc，那么它就更简单了：

```
cmd.CommandText = "insert_questions";
cmd.CommandType = CommandType.StoredProcedure;
cmd.Parameters.AddWithValue("store_result", store_result);
cmd.Parameters.AddWithValue("store_title", store_title);
cmd.Parameters.AddWithValue("store_des", store_des); 
```

或者，如果所有这些看起来都很乏味，那么像 dapper-dot-net 这样的工具可以让这一切变得更容易：

```
someOpenConnection.Execute("insert_questions",    
      new { store_result, store_title, store_des },
      commandType: CommandType.StoredProcedure); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-04-24T07:04:26.123

```
 private void ProcessData(MerchantLead data)
        {            
            var cmdCardJournal = new SqlCommand { CommandText = "BusinessLeadsInsert" };
            var sql = new Sqlquery();
            sql._cn = new SqlConnection(ConfigurationManager.ConnectionStrings["DefaultConnection"].ConnectionString);
            cmdCardJournal.Parameters.AddWithValue("@Name", data.FirstName);
            cmdCardJournal.Parameters.AddWithValue("@LastName", data.LastName);
            cmdCardJournal.Parameters.AddWithValue("@BusinessName", data.BusinessName);
            cmdCardJournal.Parameters.AddWithValue("@PhoneNumber", data.PhoneNumber);
            cmdCardJournal.Parameters.AddWithValue("@Email", data.Email);
            cmdCardJournal.Parameters.AddWithValue("@Website", data.Website);
            cmdCardJournal.Parameters.AddWithValue("@OTP", data.OTP);
            cmdCardJournal.Parameters.AddWithValue("@OTPExpired", DateTime.UtcNow.AddMinutes(30));

            sql.SpCommandExeNon(cmdCardJournal);
} 
```

# jasper-reports - JasperReports：防止文本字段在空格或连字符上拆分

> ID：12312899
> 
> 赞同：1
> 
> 时间：2012-09-07T06:32:19.257
> 
> 标签：jasper-reports

我有一个 JasperReports 模板，其中包含一个 textField 元素，该元素将包含可变长度的字符串。如果字符串太长而无法适应宽度，则会将其拆分，除非字符串包含连字符或空格字符。在这种情况下，字符串是从该字符中拆分出来的。以下是输入、观察到的结果和想要的结果+摘要的一些示例，以使我的观点更容易理解。

```
input      observed   wanted   summary
_____________________________________
overflow  -> overfl -> overfl : OK
over flow -> over   -> over f : NOT OK
over-flow -> over-  -> over-f : NOT OK 
```

将 reportElement 设置为具有 isStretchWithOverflow="true" 属性会将文本分成两行，但这不是想要的行为。

有没有什么办法解决这一问题？

谢谢。

**编辑**：输入数据来自外部来源，所以我不能直接改变它。我进行了一些测试，并注意到使用不间断空间可以用于空格。另一方面，不间断的连字符根本不打印，即文本“溢出”变为“溢出”。不完全是想要的。

尽管输入源不在我的控制范围内，但我可以通过编写一个 Scriptlet 来解决此问题，它将空格更改为不间断空格，将连字符更改为不间断连字符，前提是打印那些该死的不间断连字符。

顺便说一下，打印到 PDF，以防给出一些问题的提示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-01-31T02:10:07.887

像这样在文本字段“表达式”中输入：

```
String.join("\uFEFF", $F{field1}.split("(?!^)")) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T13:05:46.807

是字体问题。当字体支持时，不间断连字符可以正常工作（\u2011）。请参阅字体示例，了解除默认字体之外的加载方式（例如 DejaVu Sans）。

如果有人有比 Scriptlet 更好的输入源修改选项，请告诉我。

（将我自己的答案标记为正确，以便结束这个话题。）

编辑：必须等待两天才能将此答案标记为正确。

# c++ - 捕获 boost::interrupted_exception 是否正确？

> ID：12312900
> 
> 赞同：0
> 
> 时间：2012-09-07T06:32:23.647
> 
> 标签：c++, exception, boost

在我的应用程序中，线程可以被 boost::thread::interrupt 中断。我想重用被中断的线程，我可以抓住 boost::interrupted_exception，还是思想上不正确？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:38:24.130

> 我想重用中断的线程

[看起来](http://www.justsoftwaresolutions.co.uk/threading/thread-interruption-in-boost-thread-library.html)你可以（强调）：

> boost::thread_interrupted 只是一个普通的异常，所以它可以被捕获，就像任何其他异常一样。这就是为什么在抛出异常时清除“中断”标志的原因——如果一个线程捕获并处理中断，再次中断它是完全可以接受的。**这可以用于，例如，当一个工作线程正在处理一系列独立任务时——如果当前任务被中断，工作线程可以处理中断并丢弃该任务，并转移到下一个任务**，然后可以在轮流被打断。它还允许线程捕获异常并通过其他方式终止自身，例如返回错误代码，或将异常转换为通过模块边界。

# sql - 存储过程创建的临时表是否可以在另一个存储过程中使用？

> ID：12312903
> 
> 赞同：2
> 
> 时间：2012-09-07T06:32:42.097
> 
> 标签：sql, sql-server, stored-procedures

我有一个存储过程，它使用 like 创建一个带有找到索引的临时表`CONTAINSTABLE`（我放了一段存储过程代码）：

```
CREATE TABLE #tmpTable(
  ID INT,
  RANK INT)

 SELECT @query = ' 
  SELECT 
    DISTINCT ID AS T_ID,
   indexTable.RANK AS RANK
  FROM 
   MyTable
  INNER JOIN
   CONTAINSTABLE(MyTable, (*), "ISABOUT('example*')") AS indexTable
  ON
   MyTable.ID = indexTable.[KEY]
  ORDER BY RANK DESC' 
```

如果可能的话，我想将临时表用于另一个存储过程，以将其值用于其他目的，并避免做两次相同的事情。

如果不可能，那么您能否建议我在不同的存储过程中重用表数据的最佳方法。另外，我知道我不能在存储过程中创建视图，然后视图不在讨论范围内。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-07T06:35:59.270

使用 GLOBAL 临时表

```
CREATE TABLE ##tmpTable(
  ID INT,
  RANK INT) 
```

您可以通过在表名前加上双哈希（##）来创建全局临时表

一旦这个表由一个连接创建，就像一个永久表一样，任何用户都可以通过任何连接使用它。只有在关闭所有连接后才能将其删除。

编辑：

为了检查临时表的存在，您可以使用以下语句/检查。

```
if object_id('tempdb..##tmpTable') is not null
begin
    drop table ##tmpTable
end 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-07T06:42:58.750

如果您的第一个存储过程*调用*第二个存储过程，则第二个过程可以访问第一个创建的任何临时表：

```
create procedure SP_1
as
    create table #T1 (ID int not null)
    insert into #T1 (ID) values (1),(2)

    exec SP_2
go
create procedure SP_2
as
    select * from #T1
go
exec SP_1 
```

产生两行。但是，我不确定这是否是您想要做的 - 您的示例只定义了一个临时表并且从不访问它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T09:20:20.690

有两种类型的临时表 a) 临时表和 b) 全局临时表。

全局临时表（用`##`like声明`##globalTempTable`）可以在所有过程中使用。

普通临时表（用`#`like声明`#temptale`）可用于嵌套过程。如果一个 sproc`sp_A`调用另一个 sproc `sp_B`，则在中声明的临时表`sp_A`也将可用`sp_B`。

# .htaccess - 如何为主域和子域调用不同的索引文件？

> ID：12312906
> 
> 赞同：1
> 
> 时间：2012-09-07T06:33:05.203
> 
> 标签：.htaccess, url, subdomain

我有一个名为 www.mysite.com 的网站。当 url 是 www.mysite.com 时，我想调用 index1.php 文件（这是我的主域）。

如果 url 来自 test1.mysite.com、test2.mysite.com 等子域，那么我想调用 index2.php 文件。

如何在htaccess中做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:38:42.487

如果它们都在同一个文档根目录中，请在文档根目录中的 htaccess 文件中添加以下内容：

```
RewriteEngine On

RewriteCond %{HTTP_HOST} ^(www\.)?mysite\.com$ [NC]
RewriteRule ^$ /index1.php [L]

RewriteCond %{HTTP_HOST} !^(www\.)?mysite\.com$ [NC]
RewriteRule ^$ /index2.php [L] 
```

如果您有指向需要重写的目录索引的链接，您可以根据具体情况执行这些操作，例如：

```
RewriteCond %{HTTP_HOST} ^(www\.)?mysite\.com$ [NC]
RewriteRule ^(.*)/index\.(php|html|htm)$ /$1/index1.php [L]

RewriteCond %{HTTP_HOST} !^(www\.)?mysite\.com$ [NC]
RewriteRule ^(.*)/index\.(php|html|htm)$ /$1/index2.php [L] 
```

# iis - Web Deploy 3.0 使用什么机制来保证不停机的原子部署？

> ID：12312908
> 
> 赞同：5
> 
> 时间：2012-09-07T06:33:09.183
> 
> 标签：iis, deployment, iis-7, web

Web Deploy 3.0 使用什么机制来保证不停机的原子部署？

“原子”意味着客户端请求要么由当前版本处理，要么由新部署的版本处理。由于 Web 应用程序外部的依赖关系（例如数据库更改），这很复杂

“无停机时间”意味着 HTTP 请求仅在部署期间延迟，而不是接收离线或 503 响应。

# c# - 在 MVC 3 中的 div 标签中渲染 HTML

> ID：12312917
> 
> 赞同：0
> 
> 时间：2012-09-07T06:33:59.047
> 
> 标签：c#, asp.net-mvc

我在 db 中有一个存储 html 的字段，我想在用户端呈现该 html。但我不能这样做。当我试图将 html 放在 div 标签或段落标签中时，我得到的只是 html 文本。这是我尝试过的代码

```
<%: HttpContext.Current.Server.HtmlDecode(Model.HomePageText) %> 
```

我通过使用它得到以下结果（HTML 显示为文本）

```
<p> </p> <p style="color: rgb(88, 100, 109); font-family: 'PT Sans', sans-serif; font-size: 13px; line-height: 16px; background-position: -1px -350px; "> Enter custom CSS code into the box below to further customize your mobile site.</p> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-07T06:39:12.360

尝试使用`Html.Raw`输出您的 HTML：

```
<div>@Html.Raw(Model.HomePageText)</div> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-07T06:39:22.507

您需要使用`Html.Raw(Model.HomePageText)`，假设您确定不会有任何问题（脚本注入、有害的 html 等）。

# oracle - ORACLE:DBMS Jobs 数据库连接

> ID：12312918
> 
> 赞同：0
> 
> 时间：2012-09-07T06:34:00.163
> 
> 标签：oracle, plsql, job-scheduling

目前在我的应用程序中，我有一个每隔 3 分钟触发一次的 dbms 作业。Dbms 作业调用使用全局临时表的过程。

## 设想：

1.假设我的第一份工作在时间 (X) 触发，大约需要一个小时才能完成。
2.同时在时间（X+3分钟）触发第二个工作。

## 问题：

这两个 dbms 作业是否共享相同的连接？我的意思是他们会为全局临时表使用相同的会话吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T07:13:20.380

Oracle 不会自动启动同一个作业两次，即使完成时间比 INTERVAL 指定的时间间隔长。如果您强制它运行两次，它们将不会共享数据库会话。

编辑：要使其以特定间隔并行运行，您可以这样做：

```
 declare id number;
 begin
   dbms_job.submit(id, 'myjobstarter;', sysdate, 'sysdate+3/24/60');
   commit;
 end;

 create procedure myjobstarter as
   id number;
 begin
   dbms_job.submit(id, 'longRunningProcedure;');
   commit;
 end; 
```

因此，您的常规作业每次运行时都会提交一个新作业。但是当然，您可能会以这种方式遇到一些锁定问题或其他竞争条件。另请注意，DBMS_JOB 不会无限并行运行作业，因此实际行为可能会变得有些不可预测。

# android - 为什么要使用处理程序？

> ID：12312926
> 
> 赞同：9
> 
> 时间：2012-09-07T06:34:27.353
> 
> 标签：android

我在一个非常基本的处理程序教程中遇到了这段代码。代码工作正常，但我不明白为什么我必须使用 Handler `progressDialog.dismiss()`？？？我删除了 Handler 部分并放入 `progressDialog.dismiss()`方法中`run()`，它工作正常。那为什么要用Handler？？？

```
 import android.app.Activity;
    import android.app.ProgressDialog;
    import android.os.Bundle;
    import android.os.Handler;
    import android.os.Message;
    import android.view.View;
    import android.view.View.OnClickListener;
    import android.widget.Button;
    import android.widget.Toast;

    public class HandlerThread extends Activity{

    private Button start;
    private ProgressDialog progressDialog;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        start = (Button) findViewById(R.id.Button01);
        start.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View arg0) {
                // TODO Auto-generated method stub
                fetchData();
            }

        });
    }

    protected void fetchData() {
        // TODO Auto-generated method stub
        progressDialog = ProgressDialog.show(this, "", "Doing...");
        new Thread() {
            public void run() {
                try {

                    Thread.sleep(8000);

                    } catch (InterruptedException e) {

                    }
                      messageHandler.sendEmptyMessage(0);

                    }
        }.start();

    }

    private Handler messageHandler = new Handler() {

        public void handleMessage(Message msg) {
            super.handleMessage(msg);
            progressDialog.dismiss();

        }
    };
} 
```

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-08-15T04:03:16.063

## 为什么要在 Android 中使用 Handler？

* * *

**首先：让我们知道什么是线程：**

*   线程有助于多任务处理
*   线程可以作为在主进程下运行的迷你进程进行教学
*   线程至少可以实现并行执行

**第二：让我们知道应用程序线程：-**

*   当 android 应用程序第一次启动时，运行时系统会创建一个主线程，这个主线程将负责执行 android 中的所有组件

* * *

**Android UI-Toolkit 不是线程安全的**

*   *如前所述，android主线程中有许多组件，现在假设其中一个组件需要很长时间才能执行，那么这会使主线程**无响应**，并且会**显示应用程序无响应***
*   子线程不能直接操作android中的应用程序（主）线程
*   Handler作为一个接口，收集来自子线程的消息，并随着消息的到达，一一更新主应用线程，线程处理程序在主线程中实现。

* * *

**处理程序类：**

*   出于多线程的目的，我们将使用来自包的处理程序类`android.os.Handler`
*   每个线程由处理程序类的一个实例处理

![数字](../Images/00a9ae9b7463c614d64c82531774c250.png)

*   从上图中我们可以看出，每个线程都由一个Handler类的实例来处理
*   线程在消息的帮助下相互通信
*   这个处理程序类通过允许它们一起运行实现多线程来帮助维护一种同步协调黑白线程

* * *

**制作处理程序的实例**

```
Handler handlerObject = new Handler(); 
```

* * *

**使用处理程序的最后一块是使用 Runnable 接口：**

*   handler类利用runnable接口实现多线程
*   我们重写 run 方法以执行线程指定次数

* * *

```
Class NameOfClass implements Runnable
{
    Public void run()
    {
        //Body of run method
    }
} 
```

* * *

**把所有的放在一起**

```
//Create handler in the thread it should be associated with 
//in this case the UI thread
final Handler handler = new Handler();
Runnable runnable = new Runnable() {
    public void run() {
        while(running){
            //Do time consuming stuff

            //The handler schedules the new runnable on the UI thread
            handler.post(new Runnable() {
                //Ex.. using progressbar to set the pogress
                            //Updating the UI is done inside the Handler
            });
        }
    }
};
new Thread(runnable).start(); 
```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-09-07T06:43:19.253

[从以下文档`View`](http://developer.android.com/reference/android/view/View.html)：

> *在任何视图上调用任何方法时，您必须始终在 UI 线程上。*如果您在其他线程上工作并希望从该线程更新视图的状态，您应该使用`Handler`.

在您的示例中，当您必须根据上述文档调用 上的`dismiss()`方法时，您必须从 UI 线程执行此操作。`ProgressDialog`当类被实例化时（大概在 UI 线程上） ，`messageHandler`被初始化为 a 的一个实例。`Handler``HandlerThread`

[从以下文档`Handler`](http://developer.android.com/reference/android/os/Handler.html)：

> 每个`Handler`实例都与单个线程和该线程的消息队列相关联。当您创建一个 new`Handler`时，它会绑定到创建它的线程的线程/消息队列——从那时起，它会将消息和可运行对象传递到该消息队列并在它们从消息队列中出来时执行它们.

因此，要从新线程与 UI 线程进行通信，只需向`Handler`UI 线程上创建的消息发布消息。

如果您`View`从 UI 线程外部调用 a 上的方法，它会调用*未定义的行为*，这意味着它*可能看起来*工作正常。但并不*总是*保证能正常工作。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-08-16T05:09:56.520

越容易越好。您可以尝试使用以下代码，而不是使用处理程序：

```
runOnUiThread(
    new Runnable() { 
        public void run() 
        { 

        //Update user interface here

        } 
    }
); 
```

不要让你的生活变得复杂；）

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-07T06:45:19.543

当应用程序启动时，android 系统会启动一个具有主线程的进程，该主线程负责处理 UI 渲染和事件。Android UI 不是线程安全的，所以我们只能通过 Event 线程访问 android UI。在您的程序中，您通过以下代码块定义了另一个线程而不是事件：

```
 new Thread() {
        public void run() {
            try {

                Thread.sleep(8000);

                } catch (InterruptedException e) {

                }
                  messageHandler.sendEmptyMessage(0);

                }
    }.start(); 
```

现在，如果您想关闭进度对话框，您只能在事件线程中执行此操作。处理程序用于处理/处理消息队列的消息。处理程序与一个线程相关联，在您的情况下，它是事件线程，因为默认情况下它将与正在创建它的线程相关联。通过 messageHandler.sendEmptyMessage() 另一个线程向处理程序发送消息，处理程序在 handleMessage 方法中处理此消息。

# django - 如何在 Django Guardian 中为用户定义默认权限？

> ID：12312931
> 
> 赞同：4
> 
> 时间：2012-09-07T06:35:10.910
> 
> 标签：django, django-permissions, django-guardian

当我在 Django 中创建用户时，他没有权限：

```
In [7]: u = User.objects.create(username='aoeu')
In [12]: u.user_permissions.all()
Out[12]: [] 
```

我希望默认设置一些权限（例如，'api.add_item'），并且我使用[Django Guardian](http://packages.python.org/django-guardian/)。这是否可以以声明的方式进行，例如。不写 post_save 信号？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T06:44:45.940

不，这是不可能的。检查 django.contrib.auth 代码以确保

# checkstyle - 有没有办法在 Checkstyle 中忽略 FileLength 检查的注释和空格

> ID：12312936
> 
> 赞同：1
> 
> 时间：2012-09-07T06:35:34.437
> 
> 标签：checkstyle

我是 checkstyle 的新手，并且在我认为应该很容易杀死的事情上花费了足够多的时间。我想检查我的文件中的行数，我成功地做到了。但是，在引发有关大小违规的错误之前，我无法将 checkstyle 配置为忽略空行以及 Java 注释。

阅读他们的文档，我认为 FileLength 模块没有任何可用于忽略注释和空格的属性。这是链接和示例代码 [http://checkstyle.sourceforge.net/config_sizes.html](http://checkstyle.sourceforge.net/config_sizes.html)

```
<module name="FileLength">
  <property name="max" value="500"/> 
```

唯一的其他公开属性是*fileExtensions*。有人可以建议点击 fileSize 以及不阻止开发人员放入详细文档的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-10T14:55:03.853

这是一个很好的问题。首先，无法以您需要的方式配置*FileLength*检查。它只是针对行数，包括强制性版权声明标题或诸如此类的所有内容。

所以，我要做的是：

*   使用非常多的行（例如 1500 行）进行*FileLength*检查，这样即使是注释很好的文件也不应该合法地达到该限制。
*   使用*ExecutableStatementCount*将方法限制为一定数量的语句。这将排除将大括号放在自己的行上的注释和格式。根据我的经验，这里的一个好的值是 60。现在可以禁用*MethodLength 。*
*   使用*MethodCount*限制方法的数量。

现在，通过将*MethodCount*和*ExecutableStatementCount*的值相乘，您会得到一个如您所描述的限制，即每个类的语句数限制，而不是行数限制。

实际值必须经过一些调整，因此请准备好在项目期间更改它们几次。

# google-maps - 谷歌地图在设备上显示灰色网格

> ID：12312938
> 
> 赞同：1
> 
> 时间：2012-09-07T06:35:41.067
> 
> 标签：google-maps

我为安卓手机开发了一个应用程序。当您单击按钮时，屏幕上会出现一个地图视图。我在模拟器上没有任何问题。我的应用程序在模拟器上运行良好。但是，在真正的android设备（手机）上，我只看到灰色网格。我修改了源代码上与互联网权限或api密钥相关的部分。我很确定 api 密钥是正确的，并将其放在适当的部分。

[http://codemagician.wordpress.com/2010/05/06/android-google-mapview-tutorial-done-right/](http://codemagician.wordpress.com/2010/05/06/android-google-mapview-tutorial-done-right/)

我实现了与上面链接中解释的完全相同的步骤，但是地图仍然不起作用。我用谷歌搜索了很多，人们大多说 API 密钥应该有问题，但我尝试了谷歌开发者页面中确切解释的内容，仍然无法正常工作。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T06:45:22.730

这里唯一的情况可能是您的 API_KEY 或者您将缩放值设置得非常高，这是[Google 地图的分步教程](http://mobiforge.com/developing/story/using-google-maps-android)

# android - 隐藏两个Relative Layout和ListView

> ID：12312940
> 
> 赞同：0
> 
> 时间：2012-09-07T06:35:45.200
> 
> 标签：android, list, android-listview

我有两个按钮，一个用于新游戏，另一个用于旧游戏，我分别有两个相对布局。当我单击 NewGame 按钮时，我想在这两个按钮之间切换相同的活动，然后第一个 NewGame ListView(inSide Relative Layout) 应该是可见的，另一个应该是不可见的 ViceVersa。

```
 case R.id.btn_old_game:
            mBtnOldGame.setEnabled(false);
            play_new_game.setVisibility(View.INVISIBLE);
            historyRaltiveLayout.setVisibility(View.VISIBLE);
                             loadHistoryGameList();
                          break;
        case R.id.btn_play_game:
            mBtnOldGame.setEnabled(true);
            getListView().setVisibility(View.INVISIBLE);
            historyRaltiveLayout.setVisibility(View.INVISIBLE);
            play_new_game.setVisibility(View.VISIBLE);

            loadGamesItemsList();
            break; 
```

所以这里的问题是，当我点击旧游戏按钮时它正在工作，但如果我再次点击新游戏按钮它不工作，它仍然是 OldGame ListView（OldGame 相对布局）。

# xml - xslt - 选择用户的汽车名称

> ID：12312941
> 
> 赞同：0
> 
> 时间：2012-09-07T06:35:45.417
> 
> 标签：xml, xslt, xslt-1.0, cycle, value-of

我有下面的xml文件：

```
<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet version="1.0" type="text/xml" href="template.xsl" ?>
<source>
    <man name="John" surname="Piterson" >
        <cars>
            <car name="Lamborgini Gallardo" maxspeed="400km" />
            <car name="Honda" maxspeed="200km" />
        </cars>
        <appartments>
            <appartment city="New York" />
            <appartment city="Tokio" />
        </appartments>
    </man>
</source> 
```

我在下面有 xsl 模板，它应该显示汽车列表

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" >
    <xsl:template match="/" >
        <html>
            <body>
                <h1>Users info</h1>
                <div><strong>The cars of John</strong></div>
                <xsl:for-each select="/man/cars/car" >
                    <div>
                        <xsl:value-of select="car@name" />
                    </div>
                </xsl:for-each>
            </body>
        </html>
    </xsl:template>
</xsl:stylesheet> 
```

**我需要打印约翰的所有车名，`<xsl:for-each`在这种情况下 - 不起作用，怎么做？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:41:03.090

```
<xsl:for-each select="/source/man[@name='John'][@surname='Piterson']/cars/car" >
  <div>
    <xsl:value-of select="@name" />
  </div>
</xsl:for-each> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T06:52:07.010

```
<xsl:for-each select="//man[@name = 'John']" >
  <ul>
    <xsl:for-each select="./cars/car" >
      <li>
        <xsl:value-of select="@name"/>: <xsl:value-of select="@maxspeed"/>
      </li>
    </xsl:for-each>
  </ul>
</xsl:for-each> 
```

# html - 删除间距的 CSS 属性

> ID：12312947
> 
> 赞同：0
> 
> 时间：2012-09-07T06:35:59.147
> 
> 标签：html, css

首先我承认，我知道 CSS，但不是这方面的大师。

我必须在表格中显示 4 张图像（td）。图像放置需要如下

```
A B
C D 
```

其中`A`, `B`, `C`&`D`是 4 张图像，它们之间没有间距。的宽度`TD`为 40 像素，每个图像的宽度为 20 像素。

我在 Stackoverflow 上找到了其他问题，并使用了`table's`边框间距、边框折叠属性来删除空间。但现在的问题是我的图像是

```
A
B
C
D  //without spacing with display:block in `td img` 
```

或者

```
A B
      //With space, with display:inline-block on `td img`
C D 
```

[Fiddle](http://jsfiddle.net/59vGe/)上给出了工作演示

代码 (HTML)

```
<table>
<tbody>
<tr>
    <td valign="top" width="40px">
        <img width="20px" src="https://m.ak.fbcdn.net/profile.ak/hprofile-ak-ash4/187580_670310756_917182522_q.jpg" title="a">
        <img width="20px" src="https://m.ak.fbcdn.net/profile.ak/hprofile-ak-ash4/187580_670310756_917182522_q.jpg" title="b">
        <img width="20px" src="https://m.ak.fbcdn.net/profile.ak/hprofile-ak-ash4/187580_670310756_917182522_q.jpg" title="c">
        <img width="20px" src="https://m.ak.fbcdn.net/profile.ak/hprofile-ak-ash4/187580_670310756_917182522_q.jpg" title="d">
    </td>
</tr>
</tbody>
</table> 
```

代码 (CSS)

```
table {
    display: table;
    border-collapse: separate;
    border-spacing: 2px;
    border-color: gray;
}
tbody {
    display: table-row-group;
    vertical-align: middle;
    border-color: inherit;
}
tr {
    display: table-row;
    vertical-align: inherit;
    border-color: inherit;
}
td {
    display: inline-table;
    border-spacing: 0px;
    border-collapse: collapse;
}
td img {
    display: block;
} 
```

我应该更改哪些 CSS 属性以使[Fiddle](http://jsfiddle.net/59vGe/)符合预期。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-07T06:40:45.820

添加`float:left to`td img 类

更新演示[http://jsfiddle.net/59vGe/6/](http://jsfiddle.net/59vGe/6/)

新演示[http://jsfiddle.net/59vGe/14/](http://jsfiddle.net/59vGe/14/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-07T06:43:40.753

您可以浮动它们，也可以使用内联块显示垂直对齐它们

```
td img {
    float:left;    
} 
```

[漂浮](http://jsfiddle.net/mowglisanu/59vGe/7/)

```
td img {
    display: inline-block;
    vertical-align:top;    
} 
```

[垂直对齐](http://jsfiddle.net/mowglisanu/59vGe/9/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-07T06:39:01.570

`font-size:0;`在您的**td**中使用 give to 并在您的**img**标签**中删除** `display:block;`

 **像这样

```
 td {
        display: inline-table;
        border-spacing: 0px;
font-size:0; //add this line
        border-collapse: collapse;
        }td img {
    display:block; // remove this line
        } 
```

***[更新演示](http://jsfiddle.net/59vGe/10/)***

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-07T06:40:40.820

看看这里： [JSFiddle](http://jsfiddle.net/59vGe/2/)

我使用了`float:left` `clear:left` `:nth-child()`和的组合`display:table-cell`

如果您可以为此修改 HTML，则可以向`td`元素添加类属性，如下所示：`<td class="image-grid">`

然后更新 CSS 以专门为此选择：

```
td.image-grid img {
    float:left;
    display: block;
}

td.image-grid img:nth-child(3){
    clear:left;
} 
```

​</p>

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-07T06:41:21.957

浮动图像。

```
td img {
    float:left;
} 
```

这是[小提琴](http://jsfiddle.net/59vGe/5/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-07T07:42:26.470

你可以使用 float 。但请不要为所有 td 付出。而不是你可以给出特定的类名。

```
.testclass td img {
float:left;    
} 
```

它将仅适用于 testclass td。它不会影响其他表 td 值。**

# zend-framework - Zend_log 创建两个日志文件

> ID：12312949
> 
> 赞同：1
> 
> 时间：2012-09-07T06:36:00.177
> 
> 标签：zend-framework, zend-log

我正在编写自己的 Zend_log 并且难以理解。我必须生成我能够生成的特定于模块的日志，但是我也在创建一个全局的 application.log ！我不想要..

在我的 application.ini

```
resources.log.stream.writerName = "Stream"
resources.log.stream.writerParams.stream = APPLICATION_PATH "/../logs/application.log" 
```

我有引导代码

```
if ($this->hasPluginResource("log"))
        {
            $r = $this->getPluginResource("log");
            $log = $r->getLog();
            Zend_Registry::set('log',$log);
        } 
```

在我的 Logger 类中，我试图重写 _stream 以便在写入 Log 时它总是写入单个文件 .code 如下

```
$writerArr=array('stream'=>$logfile,'mode'=>'a');
$writer = Zend_Log_Writer_Stream::factory($writerArr); 
```

但正如我在配置文件中提供了 application.log 一样，它总是在创建 application.log ！...

我想覆盖那些流但无法理解如何？任何确保只有一个写入器/流可以写入的方法？？？...

否则建议我删除 application.ini 和引导代码，但我将无法记录 ErrorController.php 错误...

我希望针对 ErrorController.php 引发的错误和应用程序错误的“application.log”解决方案我希望我的 Logger 类记录错误......但我无法确保一次只有一个流......

有什么线索吗？

问候，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T07:14:51.010

尝试删除整个 application.ini 代码并在引导程序本身中创建 zend_log init：

```
$writer = new Zend_Log_Writer_Stream('[/your/log/file/path]', '[file_open_mode]');
$logger = new Zend_Log($writer); 
```

最好是在知道要在哪个地方编写并在初始化记录器本身之后初始化编写器。

# c# - 内存流泄漏

> ID：12312961
> 
> 赞同：7
> 
> 时间：2012-09-07T06:37:16.280
> 
> 标签：c#, memory-leaks, memorystream

谁能告诉我们下面这段代码有什么问题？我们这里有一个对象序列化器，它应该返回传递给它的任何对象的 XML 字符串。

我们一直在为这个问题摸不着头脑，因为我们有一个程序多次调用它，并且我们看到我们的内存使用率很高（并且即使在程序完成后仍然存在）..我们已经完成了搜索但是徒劳无功。流对象位于“使用”语句中，因此我们认为这应该自行处理..请帮助。

```
 public static string ToXML(this IMessage m)
    {          
        try
        {
            var serializer = SerializerFactory.Create(m.GetType());
            using (var stream = new MemoryStream())
            {
                serializer.Serialize(new[] { m }, stream);
                stream.Position = 0;
                var s = Encoding.ASCII.GetString(stream.ToArray());
                return s;
            }
        }
        catch (Exception e)
        {
            return string.Format("Message unserializable: {0}", e.Message);
        }
    } 
```

顺便说一句 SerializerFactory 看起来像这样：

```
public class SerializerFactory
{
    public static IMessageSerializer Create(Type t)
    {
        var types = new List<Type> { t };
        var mapper = new MessageMapper();
        mapper.Initialize(types);
        var serializer = new XmlMessageSerializer(mapper);

        serializer.Initialize(types);

        return serializer;
    }
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-07T06:51:50.103

该代码没有什么*大*问题。请注意，这`using`本质*上*是对 a 的无操作`MemoryStream`，因为它只有*托管*资源，而托管资源是 GC 的域；*在收集一些内存有意义*之前，GC 不会非常担心是正常的，所以我不会过分强调 - 或者：如果有问题，可能不是这个。

不过，一个观察结果是您可以在编码步骤中避免使用缓冲区：

```
var s = Encoding.ASCII.GetString(stream.GetBuffer(), 0, (int)stream.Length); 
```

实际上，我很想默认使用 UTF8，而不是 ASCII。

最后的想法：您`SerializerFactory` *自己*是否在做一些泄漏的事情？例如，您是否`new XmlSerializer(...)`通过任何*更复杂*的构造函数创建一个？最简单的形式：

```
new XmlSerializer(typeof(SomeType)); 
```

很好- 它在内部缓存每种类型的*内部**/实际*`XmlSerializer`序列化程序，并为以这种方式创建的每个实例重新使用它。但是，它不会*为*更复杂的构造函数重载执行此缓存：它每次都创建并加载一个新的动态程序集。并且以这种方式加载的程序集***永远不会被卸载***- 所以是的，*这*可能会导致内存泄漏。我很想看看序列化程序实例是如何创建的，看看*这*是否是实际问题。请注意，这种情况通常很容易通过在工厂中创建自己的序列化程序缓存来解决：

```
public class SerializerFactory
{
    // hashtable has better threading semantics than dictionary, honest!
    private static readonly Hashtable cache = new Hashtable();
    public static IMessageSerializer Create(Type t)
    {
        var found = (IMessageSerializer)cache[t];
        if(found != null) return found;

        lock(cache)
        {   // double-checked
            found = (IMessageSerializer)cache[t];
            if(found != null) return found;

            var types = new List<Type> { t };
            var mapper = new MessageMapper();
            mapper.Initialize(types);
            var serializer = new XmlMessageSerializer(mapper);

            serializer.Initialize(types);

            cache[t] = serializer;

            return serializer;
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-07T06:57:04.063

内存泄漏不会发生在`MemoryStream`，它实际上发生在`XmlSerializer`：

> “XmlSerializer 构造函数的这种重载不会缓存动态生成的程序集，而是每次实例化一个新的 XmlSerializer 时都会生成一个新的临时程序集！该应用程序正在以临时程序集的形式泄漏非托管内存。”</p>

看看这篇文章：

[http://msdn.microsoft.com/en-us/magazine/cc163491.aspx](http://msdn.microsoft.com/en-us/magazine/cc163491.aspx)

而不是每次都创建`XmlSerializer`，您需要为每种类型*缓存，以解决您的问题。*

# c - 8051 μCU - 如何处理并发中断？

> ID：12312965
> 
> 赞同：3
> 
> 时间：2012-09-07T06:37:27.757
> 
> 标签：c, microcontroller, interrupt, 8051

我一直在 8051 微控制器上编程，在处理中断时发现了一些奇怪的东西。假设发生了中断。在处理该中断时，正在发生另一个具有更高优先级的中断。控制器不应该跳入服务较高优先级的中断，然后返回到较低的中断吗？

以下说明了我的问题。连接键盘以触发外部中断 1（较低优先级）并启用定时器 0 中断（较高优先级）。

* * *

```
// With this snippet, the LED-s are blinking as expected.
#include <8051.h>
#include <stdint.h>
#include <stdbool.h>

__xdata __at (0x9000) uint8_t KEYPAD;
__xdata __at (0xA000) uint8_t LED;

uint8_t LedState = 0x00;
bool Running = false;

void StopperIsr() __interrupt TF0_VECTOR
{
    LedState = ~LedState;
    LED      = LedState;
    TR0      = 0;   // Prevent the timer restating right away.
    Running = false;
}

void StopperStart()
{
    TL0 = 0;
    TH0 = 0;
    TR0 = 1;      // Start timer 0
    Running = true;
}

void main()
{
    ET0  = 1;     // Enable timer 0 interrupt.
    EA   = 1;     // Enable global interrupts.
    TMOD = T0_M0; // Set timer 0 to 16-bit mode.

    while(1) {
      if (false == Running) {
        StopperStart();
      }
    }
} 
```

* * *

```
// The stopper is used inside external interrupt 1 ISR and since timer 0 has
// higher priority, the LED-s should be blinking just like in the previous snippet.
// This is not the case. Instead, on keypress, the ISR is called (LED gets 0xFF),
// but timer 0 ISR is never entered.
#include <8051.h>
#include <stdint.h>
#include <stdbool.h>

__xdata __at (0x9000) uint8_t KEYPAD;
__xdata __at (0xA000) uint8_t LED;

uint8_t LedState = 0x00;
bool Running = false;

void StopperStart()
{
    TL0 = 0;
    TH0 = 0;

    TR0 = 1;      // Start timer 0.
    Running = true;
}

void StopperIsr() __interrupt TF0_VECTOR
{
    LedState = ~LedState;
    LED      = LedState;

    TR0      = 0;  // Stop the timer.
    Running = false;
}

void KeypadIsr() __interrupt IE1_VECTOR
{
    LedState = 0xFF;
    LED      = LedState;

    while(1) {
      if (!Running) {
        StopperStart();
      }
    }
}

void main()
{
    EX1  = 1;     // Enable keypad interrupt on external interrupt 1.
    ET0  = 1;     // Enable timer 0 interrupt.
    TMOD = T0_M0; // Set timer 0 to 16-bit mode.
    EA   = 1;     // Enable global interrupts.
    KEYPAD = 0;   // Reset the keypad to its initial state.
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-14T14:29:05.507

很抱歉这么说，但这里完全错误的答案被认为是最好的。同时，TurboJ 给出了正确答案（实际上不止一个），该答案仅作为评论可见。

8051 micro（或任何其他具有多个中断优先级的）在完成之前不会执行中断，如果更高级别的中断未决，如果所有相关中断都已启用，并且优先级正确设置。更高优先级的中断处理程序将执行。相同优先级的中断会按照预定的顺序被扫描，那些不能中断同级的中断。默认情况下，8051 将所有中断设置在同一级别，这就是示例中显示的问题（正如@TurboJ 正确指出的那样）

如果不是这种情况，那么拥有多个中断优先级又有什么意义呢？较高优先级中断处理程序中断较低优先级中断处理程序的概念称为“中断嵌套”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-12T07:36:08.250

也许“同时”在这里是错误的词，因为这对我来说意味着它们是同时开始的。鉴于此，优先级较高的一方将获胜。我认为“并发”可能是一个更好的词。你会认为处理器会跳转到更高优先级的处理器，但不，它不是这样工作的。只有*一个*进入实际处理器的中断线。因此，就处理器而言，它要么处理中断，要么不处理（线路有信号或没有信号）。有一个中断控制器可以帮助将多个中断多路复用到那条线上，而中断控制器可以帮助确定优先级。在更大的微控制器中，中断控制器和处理器之间有更多的分离，但它仍然存在于 8051 中......只是稍微隐藏了一点。无论如何，一旦中断处理开始，微控制器将处理该中断直到完成，然后再通知下一个中断，即使待处理的中断具有更高的优先级。

有关其工作原理的详细信息，您可以查看[Atmel 的 8051 硬件指南](http://www.atmel.com/Images/doc4316.pdf)。虽然它特定于它们的实现，但大多数实现都非常接近（它们都试图保持原始 8051 micro 的原始语义）。在第 2-112 页上，他们谈到处理中断。第 2.16.1 节说：

> 从该位置继续执行，直到遇到 RETI 指令。RETI 指令通知处理器该中断程序不再进行，然后从堆栈中弹出顶部两个字节并重新加载程序计数器。被中断的程序从中断处继续执行

第一行在这里很重要。在该`RETI`指令执行之前，不会处理下一个中断。

# c++ - 将二进制数据从 Qt/C++ DLL 传递到 Delphi 主机应用程序

> ID：12312968
> 
> 赞同：3
> 
> 时间：2012-09-07T06:37:36.087
> 
> 标签：c++, delphi, qt, dll, qimage

在我想在 Delphi 中使用 QImage.bits() 的程序中。因此，在 Qt 中，我创建了一个 dll。下面列出的dll源代码：

测试.h：

```
 #ifndef TEST_H
    #define TEST_H

    #include "test_global.h"

    extern "C"{
    TESTSHARED_EXPORT uchar* testFunc();
    }

    #endif // TEST_H 
```

测试.cpp：

```
 #include "test.h"
#include <QtGui>

QImage image;

uchar* testFunc(){
    image.load("c:\\1.png","PNG");
    return (uchar*)image.constBits();
} 
```

在 Delphi 端，我使用此代码来使用 Qt dll：

```
 function testFunc(): PByteArray; external 'test.dll';
// ...

procedure TForm3.Button1Click(Sender: TObject);
var
  bStream: TBytesStream;
  P: PByteArray;
  Size: Cardinal;
begin
  P := testFunc;
  Size := Length(PAnsiChar(P)); // AnsiChar = 1 Byte
  bStream := TBytesStream.Create();
  try
    bStream.Write(P[0], Size); // Works Fine (^_^)
    bStream.Position := 0;
    bStream.SaveToFile('c:\scr.txt');
  finally
    bStream.Free;
  end;
end; 
```

当我调用 dll 函数时没有返回任何数据！你能帮助我吗？

**更新 1：** 在实际情况下，我的 Qt 函数非常复杂，由于多种原因，我无法在 Delphi 中编写它。事实上，原始函数从设备中获取屏幕截图并在主内存中处理它。因此，我想将此图像字节发送到 Delphi，以便在 TImage 上显示它，而不将它保存在硬盘和类似的内存上。在本主题中，我刚刚创建了一个简单的类似函数，用于简单的调试和可测试性。是否可以通过为这个问题编写一个真正简单的代码来帮助我？非常感谢你。(-_-)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-07T07:18:28.033

更直接的方法是使用 PByte aka ^Byte，而不是 PByteArray。尽管 TByteArray 是静态类型，但仍然使用数组会增加随机拼写错误的风险，就像使用动态数组一样。

* * *

不要使用 PChar - 它会在第一个零字节处停止。图片不是字符串，它可以包含数百个零。

您应该将长度作为单独的变量/函数发送。 *int QImage::byteCount () 常量* [http://qt-project.org/doc/qt-4.8/qimage.html#byteCount](http://qt-project.org/doc/qt-4.8/qimage.html#byteCount)

* * *

请编辑你的问题。你问的是 bits 还是 constbits ？这些是不同的属性！

* * *

还：

您应该了解编译器、C++ 和 Pascal 中的“调用约定”。您最好能够在汇编程序级别上对其进行跟踪。

尝试在 Pascal 代码中使用“cdecl”指令标记该过程，或者在 C 和 Pascal 代码中使用“stdcall”指令。

尝试使用 FreePascal 的 h2pas 实用程序进行自动转换。

* * *

**现在最好把 Qt 放在这里**。仅仅为了读取 PNG 文件而制作 Qt 桥是非常奇怪和脆弱的。有许多支持 PNG 的原生 Delphi 库。几个例子：

*   软宝石： http: [//www.soft-gems.net/index.php/libs/graphicex-library](http://www.soft-gems.net/index.php/libs/graphicex-library)
*   吸血鬼：http : [//imaginglib.sf.net](http://imaginglib.sf.net)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-07T13:09:58.450

问题解决了。(^_^)

为了解决它：

在 Qt 端：

测试.h：

```
#ifndef TEST_H
#define TEST_H

#include "test_global.h"

extern "C"{
TESTSHARED_EXPORT char* testFunc(int &a);
}

#endif // TEST_H 
```

测试.cpp：

```
#include "test.h"
#include <QtGui>

QImage image;
QByteArray ba;

char* testFunc(int &a){
    image.load("c:\\2.png","PNG");
    QBuffer buffer(&ba);
    buffer.open(QIODevice::WriteOnly);
    image.save(&buffer,"PNG");
    a = ba.size();
    return ba.data();
} 
```

在德尔福方面：

```
function testFunc(var aByteCount: DWORD): PByte;cdecl external 'test.dll';

// ...
var
  bStream: TBytesStream;
  Size: DWORD;
procedure TForm3.Button1Click(Sender: TObject);
var
  P: PByte;
  s: TStringList;
begin
  Caption := '0';
  P := testFunc(Size);
  bStream := TBytesStream.Create();
  try
    bStream.Write(P[0], Size);
    bStream.Position := 0;
    bStream.SaveToFile('c:\my.png');
  finally
    Caption := IntToStr(Size);
  end;
end; 
```

再次感谢“Arioch The”和“David Heffernan”。(^_^)

# c - C中的结构字段别名

> ID：12312973
> 
> 赞同：0
> 
> 时间：2012-09-07T06:38:09.083
> 
> 标签：c, structure

我的设计包括两层，它们彼此共享一些数据。

下层将一些数据保存在一个结构中：

```
struct Abc {
    int a;
    int b;
    int c;
}; 
```

我需要将结构的`b`字段导出`Abc`到上层而不访问其余字段。我想在上层创建一个新变量（实际上是别名），它与`b`字段位于相同的内存位置。这样两层共享相同的变量。

知道如何在不暴露结构的情况下做到这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T06:51:10.897

我不确定您在这里所说的层到底是什么意思，但我假设您需要访问 a 的成员之一，该成员对`struct`一个文件是私有的。

在这种情况下，您可以简单地编写一个`extern`“peek”函数来返回您想要公开给模块的其他文件的特定结构变量的值。这将保护结构其余部分的范围，同时使该元素的值可访问。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T06:43:14.353

最简单的方法是：

```
struct Public
{
    int a;
};

struct Private
{
    struct Public p;
    int b;
    int c;
}; 
```

并且依赖于 C 特性，指向结构的指针可以转换为该结构的第一个成员的类型，反之亦然。

如果结构只包含一个成员，也许你可以不使用`Public`它，但最好是未来的证明，你永远不知道什么时候需要更多的公共字段。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-07T06:57:03.747

这种访问控制可以直接在 C++ 中实现。这在 C 中是不可行的。您必须使用不访问您不应该访问的成员的纪律。

有一个部分替代方案：您可以将私有结构变成一个不透明的指针，并拥有一个知道如何获取`b`数据的函数。然后上层代码不需要看到下层数据结构的任何内部结构。

### 上层.h

```
#include "lower.h"

struct Upper
{
    int p;
    struct Lower *q;
    int r;
}; 
```

### 较低的.h

```
struct Lower *lower_new(void);
void lower_free(struct Lower *);
int lower_b(struct Lower *q); 
```

`b`在上层结构的实例中需要来自下层结构的字段的代码`u`将编写：

```
struct Upper u = { ... };
int x = lower_b(u.q); 
```

有很多方法可以将该方案融入到适合您的方案中。请注意，底层结构的公共标头根本没有定义结构的内容；那是隐藏在源代码中的实现细节——大概是<code>lower.c。

# c# - 如何访问服务器上的图像

> ID：12312975
> 
> 赞同：0
> 
> 时间：2012-09-07T06:38:11.343
> 
> 标签：c#, asp.net-mvc

我正在开发一个 Web 应用程序，我有它的两个模块，两个模块都是单独的解决方案（即项目）：1：应用程序 2：SiteSetup

Sitesetup 模块是一个单独的项目，我在这个项目中保存徽标和横幅的图像，两个模块的数据库是相同的，我将图像名称存储在数据库中，文件物理保存在磁盘上，我想显示存储的徽标和我的应用程序中的横幅，我该如何实现？问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T07:11:37.147

存储相对于 Web 应用程序根目录的图像路径并使用“~/images/logo.png”语法，然后在 Web 应用程序中正确解析它。使用 Path.Combine(webAppPath,"images") 获取 ~/images 的目录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-07T07:18:25.553

由于图像的路径存储在您的数据库中，因此您的**控制器**将需要以某种方式使图像的路径对您的**视图可用。**

这可以通过多种方式完成：

*   作为**模型**或**视图模型的属性** *- 模型获取路径*
*   通过使用*- 控制器获取路径*[`ViewBag`](http://msdn.microsoft.com/en-us/library/system.web.mvc.controllerbase.viewbag%28v=vs.98%29.aspx)

 *然后在**View**中，您可以使用helper 方法在标签[`Url.Content("path_to_image")`](http://msdn.microsoft.com/en-us/library/system.web.mvc.urlhelper.content%28v=vs.108%29.aspx)中引用图像文件，如下所示：`<img />`

```
<img src="@Url.Content(ViewBag.LogoImagePath)" alt="Logo" /> 
```

* * *

请注意，图像文件本身必须可由 WebServer 访问——这意味着 WebServer 正在使用的身份（即应用程序池）必须具有对图像及其位置的读取访问权限。*

# php - Amazon S3 + Jcrop 裁剪图像

> ID：12312979
> 
> 赞同：1
> 
> 时间：2012-09-07T06:38:20.290
> 
> 标签：php, jquery, amazon-s3

我有一个 S3 帐户，可以查看我手动放在那里的图像。

我之前也用 Jcrop 完成了图像裁剪。

我现在需要加入 2 - 例如：裁剪图像，然后将最终图像驻留在 S3 上。

问题：

*   在过去，用户选择一个图像并将其上传到服务器。然后该图像出现在裁剪器中，用户对其进行裁剪。在这一点上，我假设我可以使用 S3.php 脚本将脚本移动到亚马逊，然后从我的服务器上删除文件的原始实例和裁剪实例。这是在那里获取裁剪文件的最佳方法吗？

*   我读了一些关于人们不需要将文件的副本保存到那里的服务器并且仍然在 S3 上获得裁剪版本的信息。这可能吗？这是否只是意味着他们处理图像的 php/server/temp 实例并且从不将其保存到服务器？

任何其他建议将不胜感激......

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T23:09:20.203

您可以使用另一个变量作为名称访问对象中的成员变量：

$元素; // 打印“aMemberVar 成员变量” ?>

或使用功能：

# jquery - 脚本加载后的 JQuery 高度

> ID：12312983
> 
> 赞同：3
> 
> 时间：2012-09-07T06:38:38.433
> 
> 标签：jquery

我有这种情况，我有一堆主要从模板填充的 div。我的数据来自许多来源，但我只遇到来自脚本的数据的 div (div3) 的问题。我正在尝试获取此 div 的高度，但似乎 theJQuery .height() 和 .css('height')**在站点呈现后而不是在脚本数据返回后**获取值，因此我得到了即使有数据填充我的 div，高度也为 0。数据来自外部来源，所以我无法控制它。代码如下所示：

```
<div class="div1">
    ...some code
    <div class="div2">data comes from DB</div>
    ...some code
    <div class="div3">data comes from script</div>
</div>
<div class="div4">
    ..some code
</div> 
```

任何想法如何获得 div3 的高度？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T14:45:23.357

看看这个小提琴[场景](http://jsfiddle.net/ppolyzos/NF2gB/)

检查 div3 的高度如何变化。

高度保持在“0px”的原因可能是您已在 .div3 的 css 中声明它，而当数据来自脚本时您忘记将其删除。

# selenium - 如何从带有 selenium 的链接打开动态 Web 表单

> ID：12312988
> 
> 赞同：0
> 
> 时间：2012-09-07T06:38:58.333
> 
> 标签：selenium, web

**大家好你们好**

我想用 Selenium 在网页中测试动态表单。实际上，我需要单击一个链接来获取表格，并且表格位于同一页面上，所以..表格就在链接后面。

当我点击一个链接并且 Selenium 抛出一个错误，指出找不到元素 ID 时，测试必须开始。看看这个：[http](http://www.thalys.com/be/fr/aide#contacts) ://www.thalys.com/be/fr/aide#contacts 。在那里我必须点击 Reclamation 链接，当我尝试测试时，我有：[error] Element id=reclamation not found 并且测试停止。

你知道我必须使用什么样的命令吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T11:44:28.287

从公式化的问题中，我看到最简单的方法是使用驱动程序 get(url)。例如

```
String url= "http://www.thalys.com/be/fr/aide#contacts"
 @Before
    public void openFirefox() throws IOException {

        driver = new FirefoxDriver();

        driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);

        driver.get(url);
    } 
```

你试过这种方法吗？

# php - MYSQL按特定顺序搜索多个表

> ID：12312991
> 
> 赞同：0
> 
> 时间：2012-09-07T06:39:05.140
> 
> 标签：php, mysql, multiple-tables

我之前问过一个问题[MYSQL Searching multiple tables with different columns using LIKE](https://stackoverflow.com/q/12305931/1362016)

我无法获得帮助：所以我妥协了。现在，如果一个人进行搜索并在多个表中找到它，它不会按照我想要的顺序搜索它们。我希望结果首先来自连接器表，然后是适配器表，然后是组件表。如果在连接器中找到结果，请不要搜索适配器或组件，继续。

我还尝试将它们按此顺序排列，而不使用 else if：组件、适配器、连接器。但这没有用。

```
if(isset($_GET['num'])) {
$num = $_GET['num'];
$numresult = mysql_query("SELECT * FROM productnumber WHERE part_num LIKE '%$num%'");

  if ($numresult) {

    while ($row = mysql_fetch_array($numresult)) {

        if ($row["title"] == "connectors") {
            $numtitle = "connectors";
            $result = mysql_query("SELECT * FROM connectors WHERE part_num LIKE '%$num%'");
        } else if ($row["title"] == "adapters") {
            $numtitle = "adapters";
            $result = mysql_query("SELECT * FROM adapters WHERE part_num LIKE '%$num%'");
        } else if ($row["title"] == "components") {
            $numtitle = "components";
            $result = mysql_query("SELECT * FROM components WHERE part_num LIKE '%$num%'");
        }   

    }
  }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T06:53:25.160

这是使用这些`mysql_*`方法的代码：如果没有找到，该代码将在连接器中搜索，然后在适配器中搜索，依此类推。但是根据您的要求，如果它在连接器中找到了某些东西，它将不会检查适配器或组件！

```
<?php
if(isset($_GET['num'])) {
$num = $_GET['num'];
    // We will first search for connectors
    $result = mysql_query("SELECT * FROM connectors WHERE part_num LIKE %'$num'%");
    if(mysql_num_rows($result) == 0) {
    // Now if we don't find anything in connectors, we will search in adapters
    $result = mysql_query("SELECT * FROM adapters WHERE part_num LIKE %'$num%'%");
    if(mysql_num_rows($result) == 0 ){
    // And if we don't find anything in adapters, finally we will search in components
    $result = mysql_query("SELECT * FROM components WHERE part_num LIKE %'$num%'%"); 
    if(mysql_num_rows($result) == 0) {
        echo "We Found Nothing! :( "
    }
    }}
}
?> 
```

这是转换为 PDO 的示例代码（只是您的代码）。但不是您问题的正确答案。

```
 <?php
    try {
        $conn = new PDO('mysql:host=localhost;dbname=myDatabase', $username, $password);
        $conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
        $qry = $conn->prepare('SELECT * FROM productnumber WHERE part_num LIKE %:part_num%');
        $qry->execute(array(':part_num'=>$_GET['num']));
        $row = $qry->fetch(PDO::FETCH_OBJ)
            switch ($row->title) {
                case 'connectors':
                $numtitle="connectors";
                $qry2=$conn->prepare('SELECT * FROM connectors WHERE part_num LIKE %:num%');
                $qry2->execute(array(':num'=>$_GET['num'])));
                break;
                case 'adapters':
                $numtitle="adapters";
                $qry2=$conn->prepare('SELECT * FROM adapters WHERE part_num LIKE %:num%');
                $qry2->execute(array(':num'=>$_GET['num'])));
                break;
                case 'components':
                $numtitle="components";
                $qry2=$conn->prepare('SELECT * FROM components WHERE part_num LIKE %:num%');
                $qry2->execute(array(':num'=>$_GET['num'])));
                break;
            }
    } catch(PDOException $e) {
        echo 'ERROR: ' . $e->getMessage();
    }
    ?> 
```

# jquery - 如何在特定列上启用排序而不是禁用 jQuery Datatables 中的特定列

> ID：12312998
> 
> 赞同：3
> 
> 时间：2012-09-07T06:39:48.237
> 
> 标签：jquery, datatables

我正在尝试启用特定的列排序。

有什么方法可以使特定的列可排序。如果你能帮助我，我将不胜感激。

请尽快回复我。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-07T11:00:11.693

```
drawingsColumnDefs = [ { "bSearchable": true, "bVisible": true, "sDefaultContent": "n/a", "aTargets": [ 0, 1, 2, 3, 4 ] }, { "bSortable": false, "bSearchable": false, "bVisible": true, "aTargets": [ 5, 6 ] }, { "sClass": "txtCentered", "aTargets": [ 1, 2 ] }, { "sWidth": "230px", "aTargets": [ 0, 4 ] } ] 
```

和

```
$('#tableID').dataTable({"aoColumnDefs": columnDefinitions}) 
```